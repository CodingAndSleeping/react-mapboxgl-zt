!(function(){var lT=Object.getOwnPropertySymbols;var hF=Object.prototype.hasOwnProperty,mF=Object.prototype.propertyIsEnumerable;var Z_=Math.pow;var i2=(Zr,jt)=>{var F={};for(var s in Zr)hF.call(Zr,s)&&jt.indexOf(s)<0&&(F[s]=Zr[s]);if(Zr!=null&&lT)for(var s of lT(Zr))jt.indexOf(s)<0&&mF.call(Zr,s)&&(F[s]=Zr[s]);return F};(self.webpackChunkreact_mapboxgl_zt=self.webpackChunkreact_mapboxgl_zt||[]).push([[839],{68640:function(Zr,jt,F){"use strict";F.d(jt,{iN:function(){return Vt},R_:function(){return He},EV:function(){return bt},Ti:function(){return Nt},ez:function(){return qe}});var s=F(84432),ot=2,Y=.16,c=.05,xe=.05,We=.15,Fe=5,Me=4,ve=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function te(Pn,Lr,kr){var In;return Math.round(Pn.h)>=60&&Math.round(Pn.h)<=240?In=kr?Math.round(Pn.h)-ot*Lr:Math.round(Pn.h)+ot*Lr:In=kr?Math.round(Pn.h)+ot*Lr:Math.round(Pn.h)-ot*Lr,In<0?In+=360:In>=360&&(In-=360),In}function Ke(Pn,Lr,kr){if(Pn.h===0&&Pn.s===0)return Pn.s;var In;return kr?In=Pn.s-Y*Lr:Lr===Me?In=Pn.s+Y:In=Pn.s+c*Lr,In>1&&(In=1),kr&&Lr===Fe&&In>.1&&(In=.1),In<.06&&(In=.06),Math.round(In*100)/100}function $e(Pn,Lr,kr){var In;return kr?In=Pn.v+xe*Lr:In=Pn.v-We*Lr,In=Math.max(0,Math.min(1,In)),Math.round(In*100)/100}function He(Pn){for(var Lr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},kr=[],In=new s.t(Pn),Nr=In.toHsv(),vi=Fe;vi>0;vi-=1){var sr=new s.t({h:te(Nr,vi,!0),s:Ke(Nr,vi,!0),v:$e(Nr,vi,!0)});kr.push(sr)}kr.push(In);for(var it=1;it<=Me;it+=1){var Ot=new s.t({h:te(Nr,it),s:Ke(Nr,it),v:$e(Nr,it)});kr.push(Ot)}return Lr.theme==="dark"?ve.map(function(zn){var dn=zn.index,fn=zn.amount;return new s.t(Lr.backgroundColor||"#141414").mix(kr[dn],fn).toHexString()}):kr.map(function(zn){return zn.toHexString()})}var qe={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},dt=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];dt.primary=dt[5];var Je=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];Je.primary=Je[5];var ht=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];ht.primary=ht[5];var bt=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];bt.primary=bt[5];var Ue=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];Ue.primary=Ue[5];var kt=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];kt.primary=kt[5];var yt=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];yt.primary=yt[5];var Et=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];Et.primary=Et[5];var Vt=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];Vt.primary=Vt[5];var Lt=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];Lt.primary=Lt[5];var hr=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];hr.primary=hr[5];var er=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];er.primary=er[5];var Hn=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];Hn.primary=Hn[5];var Ze=null,Nt={red:dt,volcano:Je,orange:ht,gold:bt,yellow:Ue,lime:kt,green:yt,cyan:Et,blue:Vt,geekblue:Lt,purple:hr,magenta:er,grey:Hn},sn=["#2a1215","#431418","#58181c","#791a1f","#a61d24","#d32029","#e84749","#f37370","#f89f9a","#fac8c3"];sn.primary=sn[5];var Xt=["#2b1611","#441d12","#592716","#7c3118","#aa3e19","#d84a1b","#e87040","#f3956a","#f8b692","#fad4bc"];Xt.primary=Xt[5];var Le=["#2b1d11","#442a11","#593815","#7c4a15","#aa6215","#d87a16","#e89a3c","#f3b765","#f8cf8d","#fae3b7"];Le.primary=Le[5];var $n=["#2b2111","#443111","#594214","#7c5914","#aa7714","#d89614","#e8b339","#f3cc62","#f8df8b","#faedb5"];$n.primary=$n[5];var cn=["#2b2611","#443b11","#595014","#7c6e14","#aa9514","#d8bd14","#e8d639","#f3ea62","#f8f48b","#fafab5"];cn.primary=cn[5];var En=["#1f2611","#2e3c10","#3e4f13","#536d13","#6f9412","#8bbb11","#a9d134","#c9e75d","#e4f88b","#f0fab5"];En.primary=En[5];var lt=["#162312","#1d3712","#274916","#306317","#3c8618","#49aa19","#6abe39","#8fd460","#b2e58b","#d5f2bb"];lt.primary=lt[5];var Gt=["#112123","#113536","#144848","#146262","#138585","#13a8a8","#33bcb7","#58d1c9","#84e2d8","#b2f1e8"];Gt.primary=Gt[5];var bn=["#111a2c","#112545","#15325b","#15417e","#1554ad","#1668dc","#3c89e8","#65a9f3","#8dc5f8","#b7dcfa"];bn.primary=bn[5];var fe=["#131629","#161d40","#1c2755","#203175","#263ea0","#2b4acb","#5273e0","#7f9ef3","#a8c1f8","#d2e0fa"];fe.primary=fe[5];var Wt=["#1a1325","#24163a","#301c4d","#3e2069","#51258f","#642ab5","#854eca","#ab7ae0","#cda8f0","#ebd7fa"];Wt.primary=Wt[5];var hi=["#291321","#40162f","#551c3b","#75204f","#a02669","#cb2b83","#e0529c","#f37fb7","#f8a8cc","#fad2e3"];hi.primary=hi[5];var Jr=["#151515","#1f1f1f","#2d2d2d","#393939","#494949","#5a5a5a","#6a6a6a","#7b7b7b","#888888","#969696"];Jr.primary=Jr[5];var Te={red:sn,volcano:Xt,orange:Le,gold:$n,yellow:cn,lime:En,green:lt,cyan:Gt,blue:bn,geekblue:fe,purple:Wt,magenta:hi,grey:Jr}},83509:function(Zr,jt,F){"use strict";F.d(jt,{rb:function(){return In},IX:function(){return Nt}});var s=F(5147),ot=F(89692),Y=F(38926),c=F(54153),xe=F(75271),We=F(55921),Fe=F(59295),Me=F(45985),ve=F(63662),te=F(76525),Ke=F(56216),$e=(0,Me.Z)(function Nr(){(0,Fe.Z)(this,Nr)}),He=$e,qe="CALC_UNIT",dt=new RegExp(qe,"g");function Je(Nr){return typeof Nr=="number"?"".concat(Nr).concat(qe):Nr}var ht=function(Nr){(0,te.Z)(sr,Nr);var vi=(0,Ke.Z)(sr);function sr(it,Ot){var zn;(0,Fe.Z)(this,sr),zn=vi.call(this),(0,Y.Z)((0,ve.Z)(zn),"result",""),(0,Y.Z)((0,ve.Z)(zn),"unitlessCssVar",void 0),(0,Y.Z)((0,ve.Z)(zn),"lowPriority",void 0);var dn=(0,s.Z)(it);return zn.unitlessCssVar=Ot,it instanceof sr?zn.result="(".concat(it.result,")"):dn==="number"?zn.result=Je(it):dn==="string"&&(zn.result=it),zn}return(0,Me.Z)(sr,[{key:"add",value:function(Ot){return Ot instanceof sr?this.result="".concat(this.result," + ").concat(Ot.getResult()):(typeof Ot=="number"||typeof Ot=="string")&&(this.result="".concat(this.result," + ").concat(Je(Ot))),this.lowPriority=!0,this}},{key:"sub",value:function(Ot){return Ot instanceof sr?this.result="".concat(this.result," - ").concat(Ot.getResult()):(typeof Ot=="number"||typeof Ot=="string")&&(this.result="".concat(this.result," - ").concat(Je(Ot))),this.lowPriority=!0,this}},{key:"mul",value:function(Ot){return this.lowPriority&&(this.result="(".concat(this.result,")")),Ot instanceof sr?this.result="".concat(this.result," * ").concat(Ot.getResult(!0)):(typeof Ot=="number"||typeof Ot=="string")&&(this.result="".concat(this.result," * ").concat(Ot)),this.lowPriority=!1,this}},{key:"div",value:function(Ot){return this.lowPriority&&(this.result="(".concat(this.result,")")),Ot instanceof sr?this.result="".concat(this.result," / ").concat(Ot.getResult(!0)):(typeof Ot=="number"||typeof Ot=="string")&&(this.result="".concat(this.result," / ").concat(Ot)),this.lowPriority=!1,this}},{key:"getResult",value:function(Ot){return this.lowPriority||Ot?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(Ot){var zn=this,dn=Ot||{},fn=dn.unit,xr=!0;return typeof fn=="boolean"?xr=fn:Array.from(this.unitlessCssVar).some(function(Un){return zn.result.includes(Un)})&&(xr=!1),this.result=this.result.replace(dt,xr?"px":""),typeof this.lowPriority!="undefined"?"calc(".concat(this.result,")"):this.result}}]),sr}(He),bt=function(Nr){(0,te.Z)(sr,Nr);var vi=(0,Ke.Z)(sr);function sr(it){var Ot;return(0,Fe.Z)(this,sr),Ot=vi.call(this),(0,Y.Z)((0,ve.Z)(Ot),"result",0),it instanceof sr?Ot.result=it.result:typeof it=="number"&&(Ot.result=it),Ot}return(0,Me.Z)(sr,[{key:"add",value:function(Ot){return Ot instanceof sr?this.result+=Ot.result:typeof Ot=="number"&&(this.result+=Ot),this}},{key:"sub",value:function(Ot){return Ot instanceof sr?this.result-=Ot.result:typeof Ot=="number"&&(this.result-=Ot),this}},{key:"mul",value:function(Ot){return Ot instanceof sr?this.result*=Ot.result:typeof Ot=="number"&&(this.result*=Ot),this}},{key:"div",value:function(Ot){return Ot instanceof sr?this.result/=Ot.result:typeof Ot=="number"&&(this.result/=Ot),this}},{key:"equal",value:function(){return this.result}}]),sr}(He),Ue=bt,kt=function(vi,sr){var it=vi==="css"?ht:Ue;return function(Ot){return new it(Ot,sr)}},yt=kt,Et=function(vi,sr){return"".concat([sr,vi.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-"))},Vt=Et,Lt=F(22217);function hr(Nr,vi,sr,it){var Ot=(0,c.Z)({},vi[Nr]);if(it!=null&&it.deprecatedTokens){var zn=it.deprecatedTokens;zn.forEach(function(fn){var xr=(0,ot.Z)(fn,2),Un=xr[0],Xr=xr[1];if(Ot!=null&&Ot[Un]||Ot!=null&&Ot[Xr]){var ei;(ei=Ot[Xr])!==null&&ei!==void 0||(Ot[Xr]=Ot==null?void 0:Ot[Un])}})}var dn=(0,c.Z)((0,c.Z)({},sr),Ot);return Object.keys(dn).forEach(function(fn){dn[fn]===vi[fn]&&delete dn[fn]}),dn}var er=hr,Hn=typeof CSSINJS_STATISTIC!="undefined",Ze=!0;function Nt(){for(var Nr=arguments.length,vi=new Array(Nr),sr=0;sr<Nr;sr++)vi[sr]=arguments[sr];if(!Hn)return Object.assign.apply(Object,[{}].concat(vi));Ze=!1;var it={};return vi.forEach(function(Ot){if((0,s.Z)(Ot)==="object"){var zn=Object.keys(Ot);zn.forEach(function(dn){Object.defineProperty(it,dn,{configurable:!0,enumerable:!0,get:function(){return Ot[dn]}})})}}),Ze=!0,it}var sn={},Xt={};function Le(){}var $n=function(vi){var sr,it=vi,Ot=Le;return Hn&&typeof Proxy!="undefined"&&(sr=new Set,it=new Proxy(vi,{get:function(dn,fn){if(Ze){var xr;(xr=sr)===null||xr===void 0||xr.add(fn)}return dn[fn]}}),Ot=function(dn,fn){var xr;sn[dn]={global:Array.from(sr),component:(0,c.Z)((0,c.Z)({},(xr=sn[dn])===null||xr===void 0?void 0:xr.component),fn)}}),{token:it,keys:sr,flush:Ot}},cn=$n;function En(Nr,vi,sr){if(typeof sr=="function"){var it;return sr(Nt(vi,(it=vi[Nr])!==null&&it!==void 0?it:{}))}return sr!=null?sr:{}}var lt=En;function Gt(Nr){return Nr==="js"?{max:Math.max,min:Math.min}:{max:function(){for(var sr=arguments.length,it=new Array(sr),Ot=0;Ot<sr;Ot++)it[Ot]=arguments[Ot];return"max(".concat(it.map(function(zn){return(0,We.bf)(zn)}).join(","),")")},min:function(){for(var sr=arguments.length,it=new Array(sr),Ot=0;Ot<sr;Ot++)it[Ot]=arguments[Ot];return"min(".concat(it.map(function(zn){return(0,We.bf)(zn)}).join(","),")")}}}var bn=Gt,fe=1e3*60*10,Wt=function(){function Nr(){(0,Fe.Z)(this,Nr),(0,Y.Z)(this,"map",new Map),(0,Y.Z)(this,"objectIDMap",new WeakMap),(0,Y.Z)(this,"nextID",0),(0,Y.Z)(this,"lastAccessBeat",new Map),(0,Y.Z)(this,"accessBeat",0)}return(0,Me.Z)(Nr,[{key:"set",value:function(sr,it){this.clear();var Ot=this.getCompositeKey(sr);this.map.set(Ot,it),this.lastAccessBeat.set(Ot,Date.now())}},{key:"get",value:function(sr){var it=this.getCompositeKey(sr),Ot=this.map.get(it);return this.lastAccessBeat.set(it,Date.now()),this.accessBeat+=1,Ot}},{key:"getCompositeKey",value:function(sr){var it=this,Ot=sr.map(function(zn){return zn&&(0,s.Z)(zn)==="object"?"obj_".concat(it.getObjectID(zn)):"".concat((0,s.Z)(zn),"_").concat(zn)});return Ot.join("|")}},{key:"getObjectID",value:function(sr){if(this.objectIDMap.has(sr))return this.objectIDMap.get(sr);var it=this.nextID;return this.objectIDMap.set(sr,it),this.nextID+=1,it}},{key:"clear",value:function(){var sr=this;if(this.accessBeat>1e4){var it=Date.now();this.lastAccessBeat.forEach(function(Ot,zn){it-Ot>fe&&(sr.map.delete(zn),sr.lastAccessBeat.delete(zn))}),this.accessBeat=0}}}]),Nr}(),hi=new Wt;function Jr(Nr,vi){return xe.useMemo(function(){var sr=hi.get(vi);if(sr)return sr;var it=Nr();return hi.set(vi,it),it},vi)}var Te=Jr,Pn=function(){return{}},Lr=Pn;function kr(Nr){var vi=Nr.useCSP,sr=vi===void 0?Lr:vi,it=Nr.useToken,Ot=Nr.usePrefix,zn=Nr.getResetStyles,dn=Nr.getCommonStyle,fn=Nr.getCompUnitless;function xr(Wr,ti,gr,mr){var fr=Array.isArray(Wr)?Wr[0]:Wr;function wr(Si){return"".concat(String(fr)).concat(Si.slice(0,1).toUpperCase()).concat(Si.slice(1))}var vr=(mr==null?void 0:mr.unitless)||{},jr=typeof fn=="function"?fn(Wr):{},Xn=(0,c.Z)((0,c.Z)({},jr),{},(0,Y.Z)({},wr("zIndexPopup"),!0));Object.keys(vr).forEach(function(Si){Xn[wr(Si)]=vr[Si]});var lr=(0,c.Z)((0,c.Z)({},mr),{},{unitless:Xn,prefixToken:wr}),Yr=Xr(Wr,ti,gr,lr),Fn=Un(fr,gr,lr);return function(Si){var mi=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Si,Hi=Yr(Si,mi),ho=(0,ot.Z)(Hi,2),Ur=ho[1],eo=Fn(mi),en=(0,ot.Z)(eo,2),Mn=en[0],Qn=en[1];return[Mn,Ur,Qn]}}function Un(Wr,ti,gr){var mr=gr.unitless,fr=gr.injectStyle,wr=fr===void 0?!0:fr,vr=gr.prefixToken,jr=gr.ignore,Xn=function(Fn){var Si=Fn.rootCls,mi=Fn.cssVar,Hi=mi===void 0?{}:mi,ho=it(),Ur=ho.realToken;return(0,We.CI)({path:[Wr],prefix:Hi.prefix,key:Hi.key,unitless:mr,ignore:jr,token:Ur,scope:Si},function(){var eo=lt(Wr,Ur,ti),en=er(Wr,Ur,eo,{deprecatedTokens:gr==null?void 0:gr.deprecatedTokens});return Object.keys(eo).forEach(function(Mn){en[vr(Mn)]=en[Mn],delete en[Mn]}),en}),null},lr=function(Fn){var Si=it(),mi=Si.cssVar;return[function(Hi){return wr&&mi?xe.createElement(xe.Fragment,null,xe.createElement(Xn,{rootCls:Fn,cssVar:mi,component:Wr}),Hi):Hi},mi==null?void 0:mi.key]};return lr}function Xr(Wr,ti,gr){var mr=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},fr=Array.isArray(Wr)?Wr:[Wr,Wr],wr=(0,ot.Z)(fr,1),vr=wr[0],jr=fr.join("-"),Xn=Nr.layer||{name:"antd"};return function(lr){var Yr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:lr,Fn=it(),Si=Fn.theme,mi=Fn.realToken,Hi=Fn.hashId,ho=Fn.token,Ur=Fn.cssVar,eo=Ot(),en=eo.rootPrefixCls,Mn=eo.iconPrefixCls,Qn=sr(),Dr=Ur?"css":"js",ui=Te(function(){var io=new Set;return Ur&&Object.keys(mr.unitless||{}).forEach(function(Oe){io.add((0,We.ks)(Oe,Ur.prefix)),io.add((0,We.ks)(Oe,Vt(vr,Ur.prefix)))}),yt(Dr,io)},[Dr,vr,Ur==null?void 0:Ur.prefix]),oi=bn(Dr),Xi=oi.max,Ji=oi.min,Ro={theme:Si,token:ho,hashId:Hi,nonce:function(){return Qn.nonce},clientOnly:mr.clientOnly,layer:Xn,order:mr.order||-999};typeof zn=="function"&&(0,We.xy)((0,c.Z)((0,c.Z)({},Ro),{},{clientOnly:!1,path:["Shared",en]}),function(){return zn(ho,{prefix:{rootPrefixCls:en,iconPrefixCls:Mn},csp:Qn})});var xo=(0,We.xy)((0,c.Z)((0,c.Z)({},Ro),{},{path:[jr,lr,Mn]}),function(){if(mr.injectStyle===!1)return[];var io=cn(ho),Oe=io.token,de=io.flush,X=lt(vr,mi,gr),ke=".".concat(lr),he=er(vr,mi,X,{deprecatedTokens:mr.deprecatedTokens});Ur&&X&&(0,s.Z)(X)==="object"&&Object.keys(X).forEach(function(Tt){X[Tt]="var(".concat((0,We.ks)(Tt,Vt(vr,Ur.prefix)),")")});var Ye=Nt(Oe,{componentCls:ke,prefixCls:lr,iconCls:".".concat(Mn),antCls:".".concat(en),calc:ui,max:Xi,min:Ji},Ur?X:he),et=ti(Ye,{hashId:Hi,prefixCls:lr,rootPrefixCls:en,iconPrefixCls:Mn});de(vr,he);var tn=typeof dn=="function"?dn(Ye,lr,Yr,mr.resetFont):null;return[mr.resetStyle===!1?null:tn,et]});return[xo,Hi]}}function ei(Wr,ti,gr){var mr=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},fr=Xr(Wr,ti,gr,(0,c.Z)({resetStyle:!1,order:-998},mr)),wr=function(jr){var Xn=jr.prefixCls,lr=jr.rootCls,Yr=lr===void 0?Xn:lr;return fr(Xn,Yr),null};return wr}return{genStyleHooks:xr,genSubStyleComponent:ei,genComponentStyleHook:Xr}}var In=kr},55921:function(Zr,jt,F){"use strict";F.d(jt,{E4:function(){return nu},uP:function(){return er},jG:function(){return hi},t2:function(){return Oe},ks:function(){return Wr},bf:function(){return Xr},CI:function(){return Yl},fp:function(){return X},xy:function(){return Ls}});var s=F(38926),ot=F(89692),Y=F(46865),c=F(54153);function xe(Jt){for(var wn=0,jn,rr=0,Fr=Jt.length;Fr>=4;++rr,Fr-=4)jn=Jt.charCodeAt(rr)&255|(Jt.charCodeAt(++rr)&255)<<8|(Jt.charCodeAt(++rr)&255)<<16|(Jt.charCodeAt(++rr)&255)<<24,jn=(jn&65535)*1540483477+((jn>>>16)*59797<<16),jn^=jn>>>24,wn=(jn&65535)*1540483477+((jn>>>16)*59797<<16)^(wn&65535)*1540483477+((wn>>>16)*59797<<16);switch(Fr){case 3:wn^=(Jt.charCodeAt(rr+2)&255)<<16;case 2:wn^=(Jt.charCodeAt(rr+1)&255)<<8;case 1:wn^=Jt.charCodeAt(rr)&255,wn=(wn&65535)*1540483477+((wn>>>16)*59797<<16)}return wn^=wn>>>13,wn=(wn&65535)*1540483477+((wn>>>16)*59797<<16),((wn^wn>>>15)>>>0).toString(36)}var We=xe,Fe=F(18263),Me=F(75271),ve=F.t(Me,2),te=F(54596),Ke=F(47996),$e=F(59295),He=F(45985),qe="%";function dt(Jt){return Jt.join(qe)}var Je=function(){function Jt(wn){(0,$e.Z)(this,Jt),(0,s.Z)(this,"instanceId",void 0),(0,s.Z)(this,"cache",new Map),this.instanceId=wn}return(0,He.Z)(Jt,[{key:"get",value:function(jn){return this.opGet(dt(jn))}},{key:"opGet",value:function(jn){return this.cache.get(jn)||null}},{key:"update",value:function(jn,rr){return this.opUpdate(dt(jn),rr)}},{key:"opUpdate",value:function(jn,rr){var Fr=this.cache.get(jn),Li=rr(Fr);Li===null?this.cache.delete(jn):this.cache.set(jn,Li)}}]),Jt}(),ht=Je,bt=null,Ue="data-token-hash",kt="data-css-hash",yt="data-cache-path",Et="__cssinjs_instance__";function Vt(){var Jt=Math.random().toString(12).slice(2);if(typeof document!="undefined"&&document.head&&document.body){var wn=document.body.querySelectorAll("style[".concat(kt,"]"))||[],jn=document.head.firstChild;Array.from(wn).forEach(function(Fr){Fr[Et]=Fr[Et]||Jt,Fr[Et]===Jt&&document.head.insertBefore(Fr,jn)});var rr={};Array.from(document.querySelectorAll("style[".concat(kt,"]"))).forEach(function(Fr){var Li=Fr.getAttribute(kt);if(rr[Li]){if(Fr[Et]===Jt){var no;(no=Fr.parentNode)===null||no===void 0||no.removeChild(Fr)}}else rr[Li]=!0})}return new ht(Jt)}var Lt=Me.createContext({hashPriority:"low",cache:Vt(),defaultCache:!0}),hr=function(wn){var jn=wn.children,rr=_objectWithoutProperties(wn,bt),Fr=React.useContext(Lt),Li=useMemo(function(){var no=_objectSpread({},Fr);Object.keys(rr).forEach(function(po){var Yi=rr[po];rr[po]!==void 0&&(no[po]=Yi)});var ki=rr.cache;return no.cache=no.cache||Vt(),no.defaultCache=!ki&&Fr.defaultCache,no},[Fr,rr],function(no,ki){return!isEqual(no[0],ki[0],!0)||!isEqual(no[1],ki[1],!0)});return React.createElement(Lt.Provider,{value:Li},jn)},er=Lt,Hn=F(5147),Ze=F(18415),Nt="CALC_UNIT",sn=new RegExp(Nt,"g");function Xt(Jt){return typeof Jt=="number"?"".concat(Jt).concat(Nt):Jt}var Le=null,$n=function(wn,jn){var rr=wn==="css"?CSSCalculator:NumCalculator;return function(Fr){return new rr(Fr,jn)}},cn=null;function En(Jt,wn){if(Jt.length!==wn.length)return!1;for(var jn=0;jn<Jt.length;jn++)if(Jt[jn]!==wn[jn])return!1;return!0}var lt=function(){function Jt(){(0,$e.Z)(this,Jt),(0,s.Z)(this,"cache",void 0),(0,s.Z)(this,"keys",void 0),(0,s.Z)(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return(0,He.Z)(Jt,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(jn){var rr,Fr,Li=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,no={map:this.cache};return jn.forEach(function(ki){if(!no)no=void 0;else{var po;no=(po=no)===null||po===void 0||(po=po.map)===null||po===void 0?void 0:po.get(ki)}}),(rr=no)!==null&&rr!==void 0&&rr.value&&Li&&(no.value[1]=this.cacheCallTimes++),(Fr=no)===null||Fr===void 0?void 0:Fr.value}},{key:"get",value:function(jn){var rr;return(rr=this.internalGet(jn,!0))===null||rr===void 0?void 0:rr[0]}},{key:"has",value:function(jn){return!!this.internalGet(jn)}},{key:"set",value:function(jn,rr){var Fr=this;if(!this.has(jn)){if(this.size()+1>Jt.MAX_CACHE_SIZE+Jt.MAX_CACHE_OFFSET){var Li=this.keys.reduce(function(Yi,Zi){var Bo=(0,ot.Z)(Yi,2),Mo=Bo[1];return Fr.internalGet(Zi)[1]<Mo?[Zi,Fr.internalGet(Zi)[1]]:Yi},[this.keys[0],this.cacheCallTimes]),no=(0,ot.Z)(Li,1),ki=no[0];this.delete(ki)}this.keys.push(jn)}var po=this.cache;jn.forEach(function(Yi,Zi){if(Zi===jn.length-1)po.set(Yi,{value:[rr,Fr.cacheCallTimes++]});else{var Bo=po.get(Yi);Bo?Bo.map||(Bo.map=new Map):po.set(Yi,{map:new Map}),po=po.get(Yi).map}})}},{key:"deleteByPath",value:function(jn,rr){var Fr=jn.get(rr[0]);if(rr.length===1){var Li;return Fr.map?jn.set(rr[0],{map:Fr.map}):jn.delete(rr[0]),(Li=Fr.value)===null||Li===void 0?void 0:Li[0]}var no=this.deleteByPath(Fr.map,rr.slice(1));return(!Fr.map||Fr.map.size===0)&&!Fr.value&&jn.delete(rr[0]),no}},{key:"delete",value:function(jn){if(this.has(jn))return this.keys=this.keys.filter(function(rr){return!En(rr,jn)}),this.deleteByPath(this.cache,jn)}}]),Jt}();(0,s.Z)(lt,"MAX_CACHE_SIZE",20),(0,s.Z)(lt,"MAX_CACHE_OFFSET",5);var Gt=F(4449),bn=0,fe=function(){function Jt(wn){(0,$e.Z)(this,Jt),(0,s.Z)(this,"derivatives",void 0),(0,s.Z)(this,"id",void 0),this.derivatives=Array.isArray(wn)?wn:[wn],this.id=bn,wn.length===0&&(0,Gt.Kp)(wn.length>0,"[Ant Design CSS-in-JS] Theme should have at least one derivative function."),bn+=1}return(0,He.Z)(Jt,[{key:"getDerivativeToken",value:function(jn){return this.derivatives.reduce(function(rr,Fr){return Fr(jn,rr)},void 0)}}]),Jt}(),Wt=new lt;function hi(Jt){var wn=Array.isArray(Jt)?Jt:[Jt];return Wt.has(wn)||Wt.set(wn,new fe(wn)),Wt.get(wn)}var Jr=new WeakMap,Te={};function Pn(Jt,wn){for(var jn=Jr,rr=0;rr<wn.length;rr+=1){var Fr=wn[rr];jn.has(Fr)||jn.set(Fr,new WeakMap),jn=jn.get(Fr)}return jn.has(Te)||jn.set(Te,Jt()),jn.get(Te)}var Lr=new WeakMap;function kr(Jt){var wn=Lr.get(Jt)||"";return wn||(Object.keys(Jt).forEach(function(jn){var rr=Jt[jn];wn+=jn,rr instanceof fe?wn+=rr.id:rr&&(0,Hn.Z)(rr)==="object"?wn+=kr(rr):wn+=rr}),wn=We(wn),Lr.set(Jt,wn)),wn}function In(Jt,wn){return We("".concat(wn,"_").concat(kr(Jt)))}var Nr="random-".concat(Date.now(),"-").concat(Math.random()).replace(/\./g,""),vi="_bAmBoO_";function sr(Jt,wn,jn){if((0,Ze.Z)()){var rr,Fr;(0,Fe.hq)(Jt,Nr);var Li=document.createElement("div");Li.style.position="fixed",Li.style.left="0",Li.style.top="0",wn==null||wn(Li),document.body.appendChild(Li);var no=jn?jn(Li):(rr=getComputedStyle(Li).content)===null||rr===void 0?void 0:rr.includes(vi);return(Fr=Li.parentNode)===null||Fr===void 0||Fr.removeChild(Li),(0,Fe.jL)(Nr),no}return!1}var it=null;function Ot(){return it===void 0&&(it=sr("@layer ".concat(Nr," { .").concat(Nr,' { content: "').concat(vi,'"!important; } }'),function(Jt){Jt.className=Nr})),it}var zn=void 0;function dn(){return zn===void 0&&(zn=sr(":where(.".concat(Nr,') { content: "').concat(vi,'"!important; }'),function(Jt){Jt.className=Nr})),zn}var fn=void 0;function xr(){return fn===void 0&&(fn=sr(".".concat(Nr," { inset-block: 93px !important; }"),function(Jt){Jt.className=Nr},function(Jt){return getComputedStyle(Jt).bottom==="93px"})),fn}var Un=(0,Ze.Z)();function Xr(Jt){return typeof Jt=="number"?"".concat(Jt,"px"):Jt}function ei(Jt,wn,jn){var rr,Fr=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},Li=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(Li)return Jt;var no=(0,c.Z)((0,c.Z)({},Fr),{},(rr={},(0,s.Z)(rr,Ue,wn),(0,s.Z)(rr,kt,jn),rr)),ki=Object.keys(no).map(function(po){var Yi=no[po];return Yi?"".concat(po,'="').concat(Yi,'"'):null}).filter(function(po){return po}).join(" ");return"<style ".concat(ki,">").concat(Jt,"</style>")}var Wr=function(wn){var jn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return"--".concat(jn?"".concat(jn,"-"):"").concat(wn).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},ti=function(wn,jn,rr){return Object.keys(wn).length?".".concat(jn).concat(rr!=null&&rr.scope?".".concat(rr.scope):"","{").concat(Object.entries(wn).map(function(Fr){var Li=(0,ot.Z)(Fr,2),no=Li[0],ki=Li[1];return"".concat(no,":").concat(ki,";")}).join(""),"}"):""},gr=function(wn,jn,rr){var Fr={},Li={};return Object.entries(wn).forEach(function(no){var ki,po,Yi=(0,ot.Z)(no,2),Zi=Yi[0],Bo=Yi[1];if(rr!=null&&(ki=rr.preserve)!==null&&ki!==void 0&&ki[Zi])Li[Zi]=Bo;else if((typeof Bo=="string"||typeof Bo=="number")&&!(rr!=null&&(po=rr.ignore)!==null&&po!==void 0&&po[Zi])){var Mo,Go=Wr(Zi,rr==null?void 0:rr.prefix);Fr[Go]=typeof Bo=="number"&&!(rr!=null&&(Mo=rr.unitless)!==null&&Mo!==void 0&&Mo[Zi])?"".concat(Bo,"px"):String(Bo),Li[Zi]="var(".concat(Go,")")}}),[Li,ti(Fr,jn,{scope:rr==null?void 0:rr.scope})]},mr=F(92076),fr=(0,c.Z)({},ve),wr=fr.useInsertionEffect,vr=function(wn,jn,rr){Me.useMemo(wn,rr),(0,mr.Z)(function(){return jn(!0)},rr)},jr=wr?function(Jt,wn,jn){return wr(function(){return Jt(),wn()},jn)}:vr,Xn=jr,lr=(0,c.Z)({},ve),Yr=lr.useInsertionEffect,Fn=function(wn){var jn=[],rr=!1;function Fr(Li){rr||jn.push(Li)}return Me.useEffect(function(){return rr=!1,function(){rr=!0,jn.length&&jn.forEach(function(Li){return Li()})}},wn),Fr},Si=function(){return function(wn){wn()}},mi=typeof Yr!="undefined"?Fn:Si,Hi=mi;function ho(){return!1}var Ur=!1;function eo(){return Ur}var en=ho;if(0)var Mn,Qn;function Dr(Jt,wn,jn,rr,Fr){var Li=Me.useContext(er),no=Li.cache,ki=[Jt].concat((0,Y.Z)(wn)),po=dt(ki),Yi=Hi([po]),Zi=en(),Bo=function(sa){no.opUpdate(po,function(Pa){var es=Pa||[void 0,void 0],Oa=(0,ot.Z)(es,2),qa=Oa[0],Xa=qa===void 0?0:qa,is=Oa[1],ns=is,Wa=ns||jn(),Os=[Xa,Wa];return sa?sa(Os):Os})};Me.useMemo(function(){Bo()},[po]);var Mo=no.opGet(po),Go=Mo[1];return Xn(function(){Fr==null||Fr(Go)},function(Ua){return Bo(function(sa){var Pa=(0,ot.Z)(sa,2),es=Pa[0],Oa=Pa[1];return Ua&&es===0&&(Fr==null||Fr(Go)),[es+1,Oa]}),function(){no.opUpdate(po,function(sa){var Pa=sa||[],es=(0,ot.Z)(Pa,2),Oa=es[0],qa=Oa===void 0?0:Oa,Xa=es[1],is=qa-1;return is===0?(Yi(function(){(Ua||!no.opGet(po))&&(rr==null||rr(Xa,!1))}),null):[qa-1,Xa]})}},[po]),Go}var ui={},oi="css",Xi=new Map;function Ji(Jt){Xi.set(Jt,(Xi.get(Jt)||0)+1)}function Ro(Jt,wn){if(typeof document!="undefined"){var jn=document.querySelectorAll("style[".concat(Ue,'="').concat(Jt,'"]'));jn.forEach(function(rr){if(rr[Et]===wn){var Fr;(Fr=rr.parentNode)===null||Fr===void 0||Fr.removeChild(rr)}})}}var xo=0;function io(Jt,wn){Xi.set(Jt,(Xi.get(Jt)||0)-1);var jn=Array.from(Xi.keys()),rr=jn.filter(function(Fr){var Li=Xi.get(Fr)||0;return Li<=0});jn.length-rr.length>xo&&rr.forEach(function(Fr){Ro(Fr,wn),Xi.delete(Fr)})}var Oe=function(wn,jn,rr,Fr){var Li=rr.getDerivativeToken(wn),no=(0,c.Z)((0,c.Z)({},Li),jn);return Fr&&(no=Fr(no)),no},de="token";function X(Jt,wn){var jn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},rr=(0,Me.useContext)(er),Fr=rr.cache.instanceId,Li=rr.container,no=jn.salt,ki=no===void 0?"":no,po=jn.override,Yi=po===void 0?ui:po,Zi=jn.formatToken,Bo=jn.getComputedToken,Mo=jn.cssVar,Go=Pn(function(){return Object.assign.apply(Object,[{}].concat((0,Y.Z)(wn)))},wn),Ua=kr(Go),sa=kr(Yi),Pa=Mo?kr(Mo):"",es=Dr(de,[ki,Jt.id,Ua,sa,Pa],function(){var Oa,qa=Bo?Bo(Go,Yi,Jt):Oe(Go,Yi,Jt,Zi),Xa=(0,c.Z)({},qa),is="";if(Mo){var ns=gr(qa,Mo.key,{prefix:Mo.prefix,ignore:Mo.ignore,unitless:Mo.unitless,preserve:Mo.preserve}),Wa=(0,ot.Z)(ns,2);qa=Wa[0],is=Wa[1]}var Os=In(qa,ki);qa._tokenKey=Os,Xa._tokenKey=In(Xa,ki);var sc=(Oa=Mo==null?void 0:Mo.key)!==null&&Oa!==void 0?Oa:Os;qa._themeKey=sc,Ji(sc);var bl="".concat(oi,"-").concat(We(Os));return qa._hashId=bl,[qa,bl,Xa,is,(Mo==null?void 0:Mo.key)||""]},function(Oa){io(Oa[0]._themeKey,Fr)},function(Oa){var qa=(0,ot.Z)(Oa,4),Xa=qa[0],is=qa[3];if(Mo&&is){var ns=(0,Fe.hq)(is,We("css-variables-".concat(Xa._themeKey)),{mark:kt,prepend:"queue",attachTo:Li,priority:-999});ns[Et]=Fr,ns.setAttribute(Ue,Xa._themeKey)}});return es}var ke=function(wn,jn,rr){var Fr=(0,ot.Z)(wn,5),Li=Fr[2],no=Fr[3],ki=Fr[4],po=rr||{},Yi=po.plain;if(!no)return null;var Zi=Li._tokenKey,Bo=-999,Mo={"data-rc-order":"prependQueue","data-rc-priority":"".concat(Bo)},Go=ei(no,ki,Zi,Mo,Yi);return[Bo,Zi,Go]},he=F(23022),Ye={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},et=Ye,tn="-ms-",Tt="-moz-",nn="-webkit-",vn="comm",Xe="rule",Mt="decl",Ht="@page",Qt="@media",ct="@import",rt="@charset",xn="@viewport",yn="@supports",Zn="@document",_r="@namespace",ir="@keyframes",Or="@font-face",Qr="@counter-style",ii="@font-feature-values",Ui="@layer",mt="@scope",_n=Math.abs,Ut=String.fromCharCode,An=Object.assign;function or(Jt,wn){return Qi(Jt,0)^45?(((wn<<2^Qi(Jt,0))<<2^Qi(Jt,1))<<2^Qi(Jt,2))<<2^Qi(Jt,3):0}function qr(Jt){return Jt.trim()}function Mi(Jt,wn){return(Jt=wn.exec(Jt))?Jt[0]:Jt}function fo(Jt,wn,jn){return Jt.replace(wn,jn)}function $i(Jt,wn,jn){return Jt.indexOf(wn,jn)}function Qi(Jt,wn){return Jt.charCodeAt(wn)|0}function co(Jt,wn,jn){return Jt.slice(wn,jn)}function Ni(Jt){return Jt.length}function Io(Jt){return Jt.length}function Wo(Jt,wn){return wn.push(Jt),Jt}function $o(Jt,wn){return Jt.map(wn).join("")}function vo(Jt,wn){return Jt.filter(function(jn){return!Mi(jn,wn)})}function Oo(Jt,wn){for(var jn="",rr=0;rr<Jt.length;rr++)jn+=wn(Jt[rr],rr,Jt,wn)||"";return jn}function zo(Jt,wn,jn,rr){switch(Jt.type){case Ui:if(Jt.children.length)break;case ct:case _r:case Mt:return Jt.return=Jt.return||Jt.value;case vn:return"";case ir:return Jt.return=Jt.value+"{"+Oo(Jt.children,rr)+"}";case Xe:if(!Ni(Jt.value=Jt.props.join(",")))return""}return Ni(jn=Oo(Jt.children,rr))?Jt.return=Jt.value+"{"+jn+"}":""}var Jo=1,to=1,Co=0,mo=0,so=0,Fi="";function Qo(Jt,wn,jn,rr,Fr,Li,no,ki){return{value:Jt,root:wn,parent:jn,type:rr,props:Fr,children:Li,line:Jo,column:to,length:no,return:"",siblings:ki}}function Rr(Jt,wn){return assign(Qo("",null,null,"",null,null,0,Jt.siblings),Jt,{length:-Jt.length},wn)}function Ao(Jt){for(;Jt.root;)Jt=Rr(Jt.root,{children:[Jt]});append(Jt,Jt.siblings)}function ea(){return so}function Na(){return so=mo>0?Qi(Fi,--mo):0,to--,so===10&&(to=1,Jo--),so}function ci(){return so=mo<Co?Qi(Fi,mo++):0,to++,so===10&&(to=1,Jo++),so}function oa(){return Qi(Fi,mo)}function Ta(){return mo}function Br(Jt,wn){return co(Fi,Jt,wn)}function oo(Jt){switch(Jt){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function No(Jt){return Jo=to=1,Co=Ni(Fi=Jt),mo=0,[]}function Yo(Jt){return Fi="",Jt}function uo(Jt){return qr(Br(mo-1,Ge(Jt===91?Jt+2:Jt===40?Jt+1:Jt)))}function Ri(Jt){return Yo(ko(No(Jt)))}function fa(Jt){for(;(so=oa())&&so<33;)ci();return oo(Jt)>2||oo(so)>3?"":" "}function ko(Jt){for(;ci();)switch(oo(so)){case 0:append(Ve(mo-1),Jt);break;case 2:append(uo(so),Jt);break;default:append(from(so),Jt)}return Jt}function rn(Jt,wn){for(;--wn&&ci()&&!(so<48||so>102||so>57&&so<65||so>70&&so<97););return Br(Jt,Ta()+(wn<6&&oa()==32&&ci()==32))}function Ge(Jt){for(;ci();)switch(so){case Jt:return mo;case 34:case 39:Jt!==34&&Jt!==39&&Ge(so);break;case 40:Jt===41&&Ge(Jt);break;case 92:ci();break}return mo}function _e(Jt,wn){for(;ci()&&Jt+so!==57;)if(Jt+so===84&&oa()===47)break;return"/*"+Br(wn,mo-1)+"*"+Ut(Jt===47?Jt:ci())}function Ve(Jt){for(;!oo(oa());)ci();return Br(Jt,mo)}function ze(Jt){return Yo(At("",null,null,null,[""],Jt=No(Jt),0,[0],Jt))}function At(Jt,wn,jn,rr,Fr,Li,no,ki,po){for(var Yi=0,Zi=0,Bo=no,Mo=0,Go=0,Ua=0,sa=1,Pa=1,es=1,Oa=0,qa="",Xa=Fr,is=Li,ns=rr,Wa=qa;Pa;)switch(Ua=Oa,Oa=ci()){case 40:if(Ua!=108&&Qi(Wa,Bo-1)==58){$i(Wa+=fo(uo(Oa),"&","&\f"),"&\f",_n(Yi?ki[Yi-1]:0))!=-1&&(es=-1);break}case 34:case 39:case 91:Wa+=uo(Oa);break;case 9:case 10:case 13:case 32:Wa+=fa(Ua);break;case 92:Wa+=rn(Ta()-1,7);continue;case 47:switch(oa()){case 42:case 47:Wo(Kn(_e(ci(),Ta()),wn,jn,po),po),(oo(Ua||1)==5||oo(oa()||1)==5)&&Ni(Wa)&&co(Wa,-1,void 0)!==" "&&(Wa+=" ");break;default:Wa+="/"}break;case 123*sa:ki[Yi++]=Ni(Wa)*es;case 125*sa:case 59:case 0:switch(Oa){case 0:case 125:Pa=0;case 59+Zi:es==-1&&(Wa=fo(Wa,/\f/g,"")),Go>0&&(Ni(Wa)-Bo||sa===0&&Ua===47)&&Wo(Go>32?Cr(Wa+";",rr,jn,Bo-1,po):Cr(fo(Wa," ","")+";",rr,jn,Bo-2,po),po);break;case 59:Wa+=";";default:if(Wo(ns=an(Wa,wn,jn,Yi,Zi,Fr,ki,qa,Xa=[],is=[],Bo,Li),Li),Oa===123)if(Zi===0)At(Wa,wn,ns,ns,Xa,Li,Bo,ki,is);else{switch(Mo){case 99:if(Qi(Wa,3)===110)break;case 108:if(Qi(Wa,2)===97)break;default:Zi=0;case 100:case 109:case 115:}Zi?At(Jt,ns,ns,rr&&Wo(an(Jt,ns,ns,0,0,Fr,ki,qa,Fr,Xa=[],Bo,is),is),Fr,is,Bo,ki,rr?Xa:is):At(Wa,ns,ns,ns,[""],is,0,ki,is)}}Yi=Zi=Go=0,sa=es=1,qa=Wa="",Bo=no;break;case 58:Bo=1+Ni(Wa),Go=Ua;default:if(sa<1){if(Oa==123)--sa;else if(Oa==125&&sa++==0&&Na()==125)continue}switch(Wa+=Ut(Oa),Oa*sa){case 38:es=Zi>0?1:(Wa+="\f",-1);break;case 44:ki[Yi++]=(Ni(Wa)-1)*es,es=1;break;case 64:oa()===45&&(Wa+=uo(ci())),Mo=oa(),Zi=Bo=Ni(qa=Wa+=Ve(Ta())),Oa++;break;case 45:Ua===45&&Ni(Wa)==2&&(sa=0)}}return Li}function an(Jt,wn,jn,rr,Fr,Li,no,ki,po,Yi,Zi,Bo){for(var Mo=Fr-1,Go=Fr===0?Li:[""],Ua=Io(Go),sa=0,Pa=0,es=0;sa<rr;++sa)for(var Oa=0,qa=co(Jt,Mo+1,Mo=_n(Pa=no[sa])),Xa=Jt;Oa<Ua;++Oa)(Xa=qr(Pa>0?Go[Oa]+" "+qa:fo(qa,/&\f/g,Go[Oa])))&&(po[es++]=Xa);return Qo(Jt,wn,jn,Fr===0?Xe:ki,po,Yi,Zi,Bo)}function Kn(Jt,wn,jn,rr){return Qo(Jt,wn,jn,vn,Ut(ea()),co(Jt,2,-2),0,rr)}function Cr(Jt,wn,jn,rr,Fr){return Qo(Jt,wn,jn,Mt,co(Jt,0,rr),co(Jt,rr+1,-1),rr,Fr)}function Mr(Jt,wn){var jn=wn.path,rr=wn.parentSelectors;devWarning(!1,"[Ant Design CSS-in-JS] ".concat(jn?"Error in ".concat(jn,": "):"").concat(Jt).concat(rr.length?" Selector: ".concat(rr.join(" | ")):""))}var yr=function(wn,jn,rr){if(wn==="content"){var Fr=/(attr|counters?|url|(((repeating-)?(linear|radial))|conic)-gradient)\(|(no-)?(open|close)-quote/,Li=["normal","none","initial","inherit","unset"];(typeof jn!="string"||Li.indexOf(jn)===-1&&!Fr.test(jn)&&(jn.charAt(0)!==jn.charAt(jn.length-1)||jn.charAt(0)!=='"'&&jn.charAt(0)!=="'"))&&lintWarning("You seem to be using a value for 'content' without quotes, try replacing it with `content: '\"".concat(jn,"\"'`."),rr)}},si=null,wi=function(wn,jn,rr){wn==="animation"&&rr.hashId&&jn!=="none"&&lintWarning("You seem to be using hashed animation '".concat(jn,"', in which case 'animationName' with Keyframe as value is recommended."),rr)},yo=null;function yi(Jt){var wn,jn=((wn=Jt.match(/:not\(([^)]*)\)/))===null||wn===void 0?void 0:wn[1])||"",rr=jn.split(/(\[[^[]*])|(?=[.#])/).filter(function(Fr){return Fr});return rr.length>1}function Ei(Jt){return Jt.parentSelectors.reduce(function(wn,jn){return wn?jn.includes("&")?jn.replace(/&/g,wn):"".concat(wn," ").concat(jn):jn},"")}var ni=function(wn,jn,rr){var Fr=Ei(rr),Li=Fr.match(/:not\([^)]*\)/g)||[];Li.length>0&&Li.some(yi)&&lintWarning("Concat ':not' selector not support in legacy browsers.",rr)},zi=null,Ai=function(wn,jn,rr){switch(wn){case"marginLeft":case"marginRight":case"paddingLeft":case"paddingRight":case"left":case"right":case"borderLeft":case"borderLeftWidth":case"borderLeftStyle":case"borderLeftColor":case"borderRight":case"borderRightWidth":case"borderRightStyle":case"borderRightColor":case"borderTopLeftRadius":case"borderTopRightRadius":case"borderBottomLeftRadius":case"borderBottomRightRadius":lintWarning("You seem to be using non-logical property '".concat(wn,"' which is not compatible with RTL mode. Please use logical properties and values instead. For more information: https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Logical_Properties."),rr);return;case"margin":case"padding":case"borderWidth":case"borderStyle":if(typeof jn=="string"){var Fr=jn.split(" ").map(function(ki){return ki.trim()});Fr.length===4&&Fr[1]!==Fr[3]&&lintWarning("You seem to be using '".concat(wn,"' property with different left ").concat(wn," and right ").concat(wn,", which is not compatible with RTL mode. Please use logical properties and values instead. For more information: https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Logical_Properties."),rr)}return;case"clear":case"textAlign":(jn==="left"||jn==="right")&&lintWarning("You seem to be using non-logical value '".concat(jn,"' of ").concat(wn,", which is not compatible with RTL mode. Please use logical properties and values instead. For more information: https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Logical_Properties."),rr);return;case"borderRadius":if(typeof jn=="string"){var Li=jn.split("/").map(function(ki){return ki.trim()}),no=Li.reduce(function(ki,po){if(ki)return ki;var Yi=po.split(" ").map(function(Zi){return Zi.trim()});return Yi.length>=2&&Yi[0]!==Yi[1]||Yi.length===3&&Yi[1]!==Yi[2]||Yi.length===4&&Yi[2]!==Yi[3]?!0:ki},!1);no&&lintWarning("You seem to be using non-logical value '".concat(jn,"' of ").concat(wn,", which is not compatible with RTL mode. Please use logical properties and values instead. For more information: https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Logical_Properties."),rr)}return;default:}},_o=null,na=function(wn,jn,rr){(typeof jn=="string"&&/NaN/g.test(jn)||Number.isNaN(jn))&&lintWarning("Unexpected 'NaN' in property '".concat(wn,": ").concat(jn,"'."),rr)},ua=null,Ea=function(wn,jn,rr){rr.parentSelectors.some(function(Fr){var Li=Fr.split(",");return Li.some(function(no){return no.split("&").length>2})})&&lintWarning("Should not use more than one `&` in a selector.",rr)},Ia=null,xa="data-ant-cssinjs-cache-path",ya="_FILE_STYLE__";function ja(Jt){return Object.keys(Jt).map(function(wn){var jn=Jt[wn];return"".concat(wn,":").concat(jn)}).join(";")}var Ca,Ps=!0;function Ms(Jt){var wn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;Ca=Jt,Ps=wn}function _s(){if(!Ca&&(Ca={},(0,Ze.Z)())){var Jt=document.createElement("div");Jt.className=xa,Jt.style.position="fixed",Jt.style.visibility="hidden",Jt.style.top="-9999px",document.body.appendChild(Jt);var wn=getComputedStyle(Jt).content||"";wn=wn.replace(/^"/,"").replace(/"$/,""),wn.split(";").forEach(function(Fr){var Li=Fr.split(":"),no=(0,ot.Z)(Li,2),ki=no[0],po=no[1];Ca[ki]=po});var jn=document.querySelector("style[".concat(xa,"]"));if(jn){var rr;Ps=!1,(rr=jn.parentNode)===null||rr===void 0||rr.removeChild(jn)}document.body.removeChild(Jt)}}function il(Jt){return _s(),!!Ca[Jt]}function ol(Jt){var wn=Ca[Jt],jn=null;if(wn&&(0,Ze.Z)())if(Ps)jn=ya;else{var rr=document.querySelector("style[".concat(kt,'="').concat(Ca[Jt],'"]'));rr?jn=rr.innerHTML:delete Ca[Jt]}return[jn,wn]}var Al="_skip_check_",Vs="_multi_value_";function Dl(Jt){var wn=Oo(ze(Jt),zo);return wn.replace(/\{%%%\:[^;];}/g,";")}function pc(Jt){return(0,Hn.Z)(Jt)==="object"&&Jt&&(Al in Jt||Vs in Jt)}function da(Jt,wn,jn){if(!wn)return Jt;var rr=".".concat(wn),Fr=jn==="low"?":where(".concat(rr,")"):rr,Li=Jt.split(",").map(function(no){var ki,po=no.trim().split(/\s+/),Yi=po[0]||"",Zi=((ki=Yi.match(/^\w+/))===null||ki===void 0?void 0:ki[0])||"";return Yi="".concat(Zi).concat(Fr).concat(Yi.slice(Zi.length)),[Yi].concat((0,Y.Z)(po.slice(1))).join(" ")});return Li.join(",")}var Ha=function Jt(wn){var jn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},rr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},Fr=rr.root,Li=rr.injectHash,no=rr.parentSelectors,ki=jn.hashId,po=jn.layer,Yi=jn.path,Zi=jn.hashPriority,Bo=jn.transformers,Mo=Bo===void 0?[]:Bo,Go=jn.linters,Ua=Go===void 0?[]:Go,sa="",Pa={};function es(Xa){var is=Xa.getName(ki);if(!Pa[is]){var ns=Jt(Xa.style,jn,{root:!1,parentSelectors:no}),Wa=(0,ot.Z)(ns,1),Os=Wa[0];Pa[is]="@keyframes ".concat(Xa.getName(ki)).concat(Os)}}function Oa(Xa){var is=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Xa.forEach(function(ns){Array.isArray(ns)?Oa(ns,is):ns&&is.push(ns)}),is}var qa=Oa(Array.isArray(wn)?wn:[wn]);return qa.forEach(function(Xa){var is=typeof Xa=="string"&&!Fr?{}:Xa;if(typeof is=="string")sa+="".concat(is,`
`);else if(is._keyframe)es(is);else{var ns=Mo.reduce(function(Wa,Os){var sc;return(Os==null||(sc=Os.visit)===null||sc===void 0?void 0:sc.call(Os,Wa))||Wa},is);Object.keys(ns).forEach(function(Wa){var Os=ns[Wa];if((0,Hn.Z)(Os)==="object"&&Os&&(Wa!=="animationName"||!Os._keyframe)&&!pc(Os)){var sc=!1,bl=Wa.trim(),lc=!1;(Fr||Li)&&ki?bl.startsWith("@")?sc=!0:bl==="&"?bl=da("",ki,Zi):bl=da(Wa,ki,Zi):Fr&&!ki&&(bl==="&"||bl==="")&&(bl="",lc=!0);var Zu=Jt(Os,jn,{root:lc,injectHash:sc,parentSelectors:[].concat((0,Y.Z)(no),[bl])}),ql=(0,ot.Z)(Zu,2),Tl=ql[0],Zl=ql[1];Pa=(0,c.Z)((0,c.Z)({},Pa),Zl),sa+="".concat(bl).concat(Tl)}else{let zl=function(Vl,Ql){var qc=Vl.replace(/[A-Z]/g,function(cc){return"-".concat(cc.toLowerCase())}),Hl=Ql;!et[Vl]&&typeof Hl=="number"&&Hl!==0&&(Hl="".concat(Hl,"px")),Vl==="animationName"&&Ql!==null&&Ql!==void 0&&Ql._keyframe&&(es(Ql),Hl=Ql.getName(ki)),sa+="".concat(qc,":").concat(Hl,";")};var yc,Jl=(yc=Os==null?void 0:Os.value)!==null&&yc!==void 0?yc:Os;(0,Hn.Z)(Os)==="object"&&Os!==null&&Os!==void 0&&Os[Vs]&&Array.isArray(Jl)?Jl.forEach(function(Vl){zl(Wa,Vl)}):zl(Wa,Jl)}})}}),Fr?po&&(sa&&(sa="@layer ".concat(po.name," {").concat(sa,"}")),po.dependencies&&(Pa["@layer ".concat(po.name)]=po.dependencies.map(function(Xa){return"@layer ".concat(Xa,", ").concat(po.name,";")}).join(`
`))):sa="{".concat(sa,"}"),[sa,Pa]};function aa(Jt,wn){return We("".concat(Jt.join("%")).concat(wn))}function jo(){return null}var hs="style";function Ls(Jt,wn){var jn=Jt.token,rr=Jt.path,Fr=Jt.hashId,Li=Jt.layer,no=Jt.nonce,ki=Jt.clientOnly,po=Jt.order,Yi=po===void 0?0:po,Zi=Me.useContext(er),Bo=Zi.autoClear,Mo=Zi.mock,Go=Zi.defaultCache,Ua=Zi.hashPriority,sa=Zi.container,Pa=Zi.ssrInline,es=Zi.transformers,Oa=Zi.linters,qa=Zi.cache,Xa=Zi.layer,is=jn._tokenKey,ns=[is];Xa&&ns.push("layer"),ns.push.apply(ns,(0,Y.Z)(rr));var Wa=Un,Os=Dr(hs,ns,function(){var ql=ns.join("|");if(il(ql)){var Tl=ol(ql),Zl=(0,ot.Z)(Tl,2),yc=Zl[0],Jl=Zl[1];if(yc)return[yc,is,Jl,{},ki,Yi]}var zl=wn(),Vl=Ha(zl,{hashId:Fr,hashPriority:Ua,layer:Xa?Li:void 0,path:rr.join("-"),transformers:es,linters:Oa}),Ql=(0,ot.Z)(Vl,2),qc=Ql[0],Hl=Ql[1],cc=Dl(qc),ec=aa(ns,cc);return[cc,is,ec,Hl,ki,Yi]},function(ql,Tl){var Zl=(0,ot.Z)(ql,3),yc=Zl[2];(Tl||Bo)&&Un&&(0,Fe.jL)(yc,{mark:kt})},function(ql){var Tl=(0,ot.Z)(ql,4),Zl=Tl[0],yc=Tl[1],Jl=Tl[2],zl=Tl[3];if(Wa&&Zl!==ya){var Vl={mark:kt,prepend:Xa?!1:"queue",attachTo:sa,priority:Yi},Ql=typeof no=="function"?no():no;Ql&&(Vl.csp={nonce:Ql});var qc=[],Hl=[];Object.keys(zl).forEach(function(ec){ec.startsWith("@layer")?qc.push(ec):Hl.push(ec)}),qc.forEach(function(ec){(0,Fe.hq)(Dl(zl[ec]),"_layer-".concat(ec),(0,c.Z)((0,c.Z)({},Vl),{},{prepend:!0}))});var cc=(0,Fe.hq)(Zl,Jl,Vl);cc[Et]=qa.instanceId,cc.setAttribute(Ue,is),Hl.forEach(function(ec){(0,Fe.hq)(Dl(zl[ec]),"_effect-".concat(ec),Vl)})}}),sc=(0,ot.Z)(Os,3),bl=sc[0],lc=sc[1],Zu=sc[2];return function(ql){var Tl;if(!Pa||Wa||!Go)Tl=Me.createElement(jo,null);else{var Zl;Tl=Me.createElement("style",(0,he.Z)({},(Zl={},(0,s.Z)(Zl,Ue,lc),(0,s.Z)(Zl,kt,Zu),Zl),{dangerouslySetInnerHTML:{__html:bl}}))}return Me.createElement(Me.Fragment,null,Tl,ql)}}var ic=function(wn,jn,rr){var Fr=(0,ot.Z)(wn,6),Li=Fr[0],no=Fr[1],ki=Fr[2],po=Fr[3],Yi=Fr[4],Zi=Fr[5],Bo=rr||{},Mo=Bo.plain;if(Yi)return null;var Go=Li,Ua={"data-rc-order":"prependQueue","data-rc-priority":"".concat(Zi)};return Go=ei(Li,no,ki,Ua,Mo),po&&Object.keys(po).forEach(function(sa){if(!jn[sa]){jn[sa]=!0;var Pa=Dl(po[sa]),es=ei(Pa,no,"_effect-".concat(sa),Ua,Mo);sa.startsWith("@layer")?Go=es+Go:Go+=es}}),[Zi,ki,Go]},gc="cssVar",jc=function(wn,jn){var rr=wn.key,Fr=wn.prefix,Li=wn.unitless,no=wn.ignore,ki=wn.token,po=wn.scope,Yi=po===void 0?"":po,Zi=(0,Me.useContext)(er),Bo=Zi.cache.instanceId,Mo=Zi.container,Go=ki._tokenKey,Ua=[].concat((0,Y.Z)(wn.path),[rr,Yi,Go]),sa=Dr(gc,Ua,function(){var Pa=jn(),es=gr(Pa,rr,{prefix:Fr,unitless:Li,ignore:no,scope:Yi}),Oa=(0,ot.Z)(es,2),qa=Oa[0],Xa=Oa[1],is=aa(Ua,Xa);return[qa,Xa,is,rr]},function(Pa){var es=(0,ot.Z)(Pa,3),Oa=es[2];Un&&(0,Fe.jL)(Oa,{mark:kt})},function(Pa){var es=(0,ot.Z)(Pa,3),Oa=es[1],qa=es[2];if(Oa){var Xa=(0,Fe.hq)(Oa,qa,{mark:kt,prepend:"queue",attachTo:Mo,priority:-999});Xa[Et]=Bo,Xa.setAttribute(Ue,rr)}});return sa},_l=function(wn,jn,rr){var Fr=(0,ot.Z)(wn,4),Li=Fr[1],no=Fr[2],ki=Fr[3],po=rr||{},Yi=po.plain;if(!Li)return null;var Zi=-999,Bo={"data-rc-order":"prependQueue","data-rc-priority":"".concat(Zi)},Mo=ei(Li,ki,no,Bo,Yi);return[Zi,no,Mo]},Yl=jc,ra,To=(ra={},(0,s.Z)(ra,hs,ic),(0,s.Z)(ra,de,ke),(0,s.Z)(ra,gc,_l),ra);function hu(Jt){return Jt!==null}function Uo(Jt,wn){var jn=typeof wn=="boolean"?{plain:wn}:wn||{},rr=jn.plain,Fr=rr===void 0?!1:rr,Li=jn.types,no=Li===void 0?["style","token","cssVar"]:Li,ki=new RegExp("^(".concat((typeof no=="string"?[no]:no).join("|"),")%")),po=Array.from(Jt.cache.keys()).filter(function(Mo){return ki.test(Mo)}),Yi={},Zi={},Bo="";return po.map(function(Mo){var Go=Mo.replace(ki,"").replace(/%/g,"|"),Ua=Mo.split("%"),sa=_slicedToArray(Ua,1),Pa=sa[0],es=To[Pa],Oa=es(Jt.cache.get(Mo)[1],Yi,{plain:Fr});if(!Oa)return null;var qa=_slicedToArray(Oa,3),Xa=qa[0],is=qa[1],ns=qa[2];return Mo.startsWith("style")&&(Zi[Go]=is),[Xa,ns]}).filter(hu).sort(function(Mo,Go){var Ua=_slicedToArray(Mo,1),sa=Ua[0],Pa=_slicedToArray(Go,1),es=Pa[0];return sa-es}).forEach(function(Mo){var Go=_slicedToArray(Mo,2),Ua=Go[1];Bo+=Ua}),Bo+=toStyleStr(".".concat(ATTR_CACHE_MAP,'{content:"').concat(serializeCacheMap(Zi),'";}'),void 0,void 0,_defineProperty({},ATTR_CACHE_MAP,ATTR_CACHE_MAP),Fr),Bo}var oc=function(){function Jt(wn,jn){(0,$e.Z)(this,Jt),(0,s.Z)(this,"name",void 0),(0,s.Z)(this,"style",void 0),(0,s.Z)(this,"_keyframe",!0),this.name=wn,this.style=jn}return(0,He.Z)(Jt,[{key:"getName",value:function(){var jn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return jn?"".concat(jn,"-").concat(this.name):this.name}}]),Jt}(),nu=oc;function qo(Jt){if(typeof Jt=="number")return[[Jt],!1];var wn=String(Jt).trim(),jn=wn.match(/(.*)(!important)/),rr=(jn?jn[1]:wn).trim().split(/\s+/),Fr=[],Li=0;return[rr.reduce(function(no,ki){if(ki.includes("(")||ki.includes(")")){var po=ki.split("(").length-1,Yi=ki.split(")").length-1;Li+=po-Yi}return Li>=0&&Fr.push(ki),Li===0&&(no.push(Fr.join(" ")),Fr=[]),no},[]),!!jn]}function Ec(Jt){return Jt.notSplit=!0,Jt}var vc={inset:["top","right","bottom","left"],insetBlock:["top","bottom"],insetBlockStart:["top"],insetBlockEnd:["bottom"],insetInline:["left","right"],insetInlineStart:["left"],insetInlineEnd:["right"],marginBlock:["marginTop","marginBottom"],marginBlockStart:["marginTop"],marginBlockEnd:["marginBottom"],marginInline:["marginLeft","marginRight"],marginInlineStart:["marginLeft"],marginInlineEnd:["marginRight"],paddingBlock:["paddingTop","paddingBottom"],paddingBlockStart:["paddingTop"],paddingBlockEnd:["paddingBottom"],paddingInline:["paddingLeft","paddingRight"],paddingInlineStart:["paddingLeft"],paddingInlineEnd:["paddingRight"],borderBlock:Ec(["borderTop","borderBottom"]),borderBlockStart:Ec(["borderTop"]),borderBlockEnd:Ec(["borderBottom"]),borderInline:Ec(["borderLeft","borderRight"]),borderInlineStart:Ec(["borderLeft"]),borderInlineEnd:Ec(["borderRight"]),borderBlockWidth:["borderTopWidth","borderBottomWidth"],borderBlockStartWidth:["borderTopWidth"],borderBlockEndWidth:["borderBottomWidth"],borderInlineWidth:["borderLeftWidth","borderRightWidth"],borderInlineStartWidth:["borderLeftWidth"],borderInlineEndWidth:["borderRightWidth"],borderBlockStyle:["borderTopStyle","borderBottomStyle"],borderBlockStartStyle:["borderTopStyle"],borderBlockEndStyle:["borderBottomStyle"],borderInlineStyle:["borderLeftStyle","borderRightStyle"],borderInlineStartStyle:["borderLeftStyle"],borderInlineEndStyle:["borderRightStyle"],borderBlockColor:["borderTopColor","borderBottomColor"],borderBlockStartColor:["borderTopColor"],borderBlockEndColor:["borderBottomColor"],borderInlineColor:["borderLeftColor","borderRightColor"],borderInlineStartColor:["borderLeftColor"],borderInlineEndColor:["borderRightColor"],borderStartStartRadius:["borderTopLeftRadius"],borderStartEndRadius:["borderTopRightRadius"],borderEndStartRadius:["borderBottomLeftRadius"],borderEndEndRadius:["borderBottomRightRadius"]};function ru(Jt,wn){var jn=Jt;return wn&&(jn="".concat(jn," !important")),{_skip_check_:!0,value:jn}}var ku={visit:function(wn){var jn={};return Object.keys(wn).forEach(function(rr){var Fr=wn[rr],Li=vc[rr];if(Li&&(typeof Fr=="number"||typeof Fr=="string")){var no=qo(Fr),ki=(0,ot.Z)(no,2),po=ki[0],Yi=ki[1];Li.length&&Li.notSplit?Li.forEach(function(Zi){jn[Zi]=ru(Fr,Yi)}):Li.length===1?jn[Li[0]]=ru(po[0],Yi):Li.length===2?Li.forEach(function(Zi,Bo){var Mo;jn[Zi]=ru((Mo=po[Bo])!==null&&Mo!==void 0?Mo:po[0],Yi)}):Li.length===4?Li.forEach(function(Zi,Bo){var Mo,Go;jn[Zi]=ru((Mo=(Go=po[Bo])!==null&&Go!==void 0?Go:po[Bo-2])!==null&&Mo!==void 0?Mo:po[0],Yi)}):jn[rr]=Fr}else jn[rr]=Fr}),jn}},ac=null,gl=/url\([^)]+\)|var\([^)]+\)|(\d*\.?\d+)px/g;function Ii(Jt,wn){var jn=Math.pow(10,wn+1),rr=Math.floor(Jt*jn);return Math.round(rr/10)*10/jn}var ju=function(){var wn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},jn=wn.rootValue,rr=jn===void 0?16:jn,Fr=wn.precision,Li=Fr===void 0?5:Fr,no=wn.mediaQuery,ki=no===void 0?!1:no,po=function(Bo,Mo){if(!Mo)return Bo;var Go=parseFloat(Mo);if(Go<=1)return Bo;var Ua=Ii(Go/rr,Li);return"".concat(Ua,"rem")},Yi=function(Bo){var Mo=_objectSpread({},Bo);return Object.entries(Bo).forEach(function(Go){var Ua=_slicedToArray(Go,2),sa=Ua[0],Pa=Ua[1];if(typeof Pa=="string"&&Pa.includes("px")){var es=Pa.replace(gl,po);Mo[sa]=es}!unitless[sa]&&typeof Pa=="number"&&Pa!==0&&(Mo[sa]="".concat(Pa,"px").replace(gl,po));var Oa=sa.trim();if(Oa.startsWith("@")&&Oa.includes("px")&&ki){var qa=sa.replace(gl,po);Mo[qa]=Mo[sa],delete Mo[sa]}}),Mo};return{visit:Yi}},ld=null,Yc={supportModernCSS:function(){return dn()&&xr()}}},84432:function(Zr,jt,F){"use strict";F.d(jt,{t:function(){return We}});var s=F(38926);const ot=Math.round;function Y(Fe,Me){const ve=Fe.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],te=ve.map(Ke=>parseFloat(Ke));for(let Ke=0;Ke<3;Ke+=1)te[Ke]=Me(te[Ke]||0,ve[Ke]||"",Ke);return ve[3]?te[3]=ve[3].includes("%")?te[3]/100:te[3]:te[3]=1,te}const c=(Fe,Me,ve)=>ve===0?Fe:Fe/100;function xe(Fe,Me){const ve=Me||255;return Fe>ve?ve:Fe<0?0:Fe}class We{constructor(Me){(0,s.Z)(this,"isValid",!0),(0,s.Z)(this,"r",0),(0,s.Z)(this,"g",0),(0,s.Z)(this,"b",0),(0,s.Z)(this,"a",1),(0,s.Z)(this,"_h",void 0),(0,s.Z)(this,"_s",void 0),(0,s.Z)(this,"_l",void 0),(0,s.Z)(this,"_v",void 0),(0,s.Z)(this,"_max",void 0),(0,s.Z)(this,"_min",void 0),(0,s.Z)(this,"_brightness",void 0);function ve(te){return te[0]in Me&&te[1]in Me&&te[2]in Me}if(Me)if(typeof Me=="string"){let Ke=function($e){return te.startsWith($e)};const te=Me.trim();/^#?[A-F\d]{3,8}$/i.test(te)?this.fromHexString(te):Ke("rgb")?this.fromRgbString(te):Ke("hsl")?this.fromHslString(te):(Ke("hsv")||Ke("hsb"))&&this.fromHsvString(te)}else if(Me instanceof We)this.r=Me.r,this.g=Me.g,this.b=Me.b,this.a=Me.a,this._h=Me._h,this._s=Me._s,this._l=Me._l,this._v=Me._v;else if(ve("rgb"))this.r=xe(Me.r),this.g=xe(Me.g),this.b=xe(Me.b),this.a=typeof Me.a=="number"?xe(Me.a,1):1;else if(ve("hsl"))this.fromHsl(Me);else if(ve("hsv"))this.fromHsv(Me);else throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(Me))}setR(Me){return this._sc("r",Me)}setG(Me){return this._sc("g",Me)}setB(Me){return this._sc("b",Me)}setA(Me){return this._sc("a",Me,1)}setHue(Me){const ve=this.toHsv();return ve.h=Me,this._c(ve)}getLuminance(){function Me($e){const He=$e/255;return He<=.03928?He/12.92:Math.pow((He+.055)/1.055,2.4)}const ve=Me(this.r),te=Me(this.g),Ke=Me(this.b);return .2126*ve+.7152*te+.0722*Ke}getHue(){if(typeof this._h=="undefined"){const Me=this.getMax()-this.getMin();Me===0?this._h=0:this._h=ot(60*(this.r===this.getMax()?(this.g-this.b)/Me+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/Me+2:(this.r-this.g)/Me+4))}return this._h}getSaturation(){if(typeof this._s=="undefined"){const Me=this.getMax()-this.getMin();Me===0?this._s=0:this._s=Me/this.getMax()}return this._s}getLightness(){return typeof this._l=="undefined"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v=="undefined"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness=="undefined"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(Me=10){const ve=this.getHue(),te=this.getSaturation();let Ke=this.getLightness()-Me/100;return Ke<0&&(Ke=0),this._c({h:ve,s:te,l:Ke,a:this.a})}lighten(Me=10){const ve=this.getHue(),te=this.getSaturation();let Ke=this.getLightness()+Me/100;return Ke>1&&(Ke=1),this._c({h:ve,s:te,l:Ke,a:this.a})}mix(Me,ve=50){const te=this._c(Me),Ke=ve/100,$e=qe=>(te[qe]-this[qe])*Ke+this[qe],He={r:ot($e("r")),g:ot($e("g")),b:ot($e("b")),a:ot($e("a")*100)/100};return this._c(He)}tint(Me=10){return this.mix({r:255,g:255,b:255,a:1},Me)}shade(Me=10){return this.mix({r:0,g:0,b:0,a:1},Me)}onBackground(Me){const ve=this._c(Me),te=this.a+ve.a*(1-this.a),Ke=$e=>ot((this[$e]*this.a+ve[$e]*ve.a*(1-this.a))/te);return this._c({r:Ke("r"),g:Ke("g"),b:Ke("b"),a:te})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(Me){return this.r===Me.r&&this.g===Me.g&&this.b===Me.b&&this.a===Me.a}clone(){return this._c(this)}toHexString(){let Me="#";const ve=(this.r||0).toString(16);Me+=ve.length===2?ve:"0"+ve;const te=(this.g||0).toString(16);Me+=te.length===2?te:"0"+te;const Ke=(this.b||0).toString(16);if(Me+=Ke.length===2?Ke:"0"+Ke,typeof this.a=="number"&&this.a>=0&&this.a<1){const $e=ot(this.a*255).toString(16);Me+=$e.length===2?$e:"0"+$e}return Me}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const Me=this.getHue(),ve=ot(this.getSaturation()*100),te=ot(this.getLightness()*100);return this.a!==1?`hsla(${Me},${ve}%,${te}%,${this.a})`:`hsl(${Me},${ve}%,${te}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(Me,ve,te){const Ke=this.clone();return Ke[Me]=xe(ve,te),Ke}_c(Me){return new this.constructor(Me)}getMax(){return typeof this._max=="undefined"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min=="undefined"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(Me){const ve=Me.replace("#","");function te(Ke,$e){return parseInt(ve[Ke]+ve[$e||Ke],16)}ve.length<6?(this.r=te(0),this.g=te(1),this.b=te(2),this.a=ve[3]?te(3)/255:1):(this.r=te(0,1),this.g=te(2,3),this.b=te(4,5),this.a=ve[6]?te(6,7)/255:1)}fromHsl({h:Me,s:ve,l:te,a:Ke}){if(this._h=Me%360,this._s=ve,this._l=te,this.a=typeof Ke=="number"?Ke:1,ve<=0){const Ue=ot(te*255);this.r=Ue,this.g=Ue,this.b=Ue}let $e=0,He=0,qe=0;const dt=Me/60,Je=(1-Math.abs(2*te-1))*ve,ht=Je*(1-Math.abs(dt%2-1));dt>=0&&dt<1?($e=Je,He=ht):dt>=1&&dt<2?($e=ht,He=Je):dt>=2&&dt<3?(He=Je,qe=ht):dt>=3&&dt<4?(He=ht,qe=Je):dt>=4&&dt<5?($e=ht,qe=Je):dt>=5&&dt<6&&($e=Je,qe=ht);const bt=te-Je/2;this.r=ot(($e+bt)*255),this.g=ot((He+bt)*255),this.b=ot((qe+bt)*255)}fromHsv({h:Me,s:ve,v:te,a:Ke}){this._h=Me%360,this._s=ve,this._v=te,this.a=typeof Ke=="number"?Ke:1;const $e=ot(te*255);if(this.r=$e,this.g=$e,this.b=$e,ve<=0)return;const He=Me/60,qe=Math.floor(He),dt=He-qe,Je=ot(te*(1-ve)*255),ht=ot(te*(1-ve*dt)*255),bt=ot(te*(1-ve*(1-dt))*255);switch(qe){case 0:this.g=bt,this.b=Je;break;case 1:this.r=ht,this.b=Je;break;case 2:this.r=Je,this.b=bt;break;case 3:this.r=Je,this.g=ht;break;case 4:this.r=bt,this.g=Je;break;case 5:default:this.g=Je,this.b=ht;break}}fromHsvString(Me){const ve=Y(Me,c);this.fromHsv({h:ve[0],s:ve[1],v:ve[2],a:ve[3]})}fromHslString(Me){const ve=Y(Me,c);this.fromHsl({h:ve[0],s:ve[1],l:ve[2],a:ve[3]})}fromRgbString(Me){const ve=Y(Me,(te,Ke)=>Ke.includes("%")?ot(te/100*255):te);this.r=ve[0],this.g=ve[1],this.b=ve[2],this.a=ve[3]}}},23738:function(Zr,jt,F){"use strict";F.d(jt,{Z:function(){return En}});var s=F(23022),ot=F(89692),Y=F(38926),c=F(58190),xe=F(75271),We=F(82187),Fe=F.n(We),Me=F(68640),ve=F(53552),te=F(54153),Ke=F(5147),$e=F(18263),He=F(16167),qe=F(4449);function dt(lt){return lt.replace(/-(.)/g,function(Gt,bn){return bn.toUpperCase()})}function Je(lt,Gt){(0,qe.ZP)(lt,"[@ant-design/icons] ".concat(Gt))}function ht(lt){return(0,Ke.Z)(lt)==="object"&&typeof lt.name=="string"&&typeof lt.theme=="string"&&((0,Ke.Z)(lt.icon)==="object"||typeof lt.icon=="function")}function bt(){var lt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(lt).reduce(function(Gt,bn){var fe=lt[bn];switch(bn){case"class":Gt.className=fe,delete Gt.class;break;default:delete Gt[bn],Gt[dt(bn)]=fe}return Gt},{})}function Ue(lt,Gt,bn){return bn?xe.createElement(lt.tag,(0,te.Z)((0,te.Z)({key:Gt},bt(lt.attrs)),bn),(lt.children||[]).map(function(fe,Wt){return Ue(fe,"".concat(Gt,"-").concat(lt.tag,"-").concat(Wt))})):xe.createElement(lt.tag,(0,te.Z)({key:Gt},bt(lt.attrs)),(lt.children||[]).map(function(fe,Wt){return Ue(fe,"".concat(Gt,"-").concat(lt.tag,"-").concat(Wt))}))}function kt(lt){return(0,Me.R_)(lt)[0]}function yt(lt){return lt?Array.isArray(lt)?lt:[lt]:[]}var Et={width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",focusable:"false"},Vt=`
.anticon {
  display: inline-flex;
  align-items: center;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,Lt=function(Gt){var bn=(0,xe.useContext)(ve.Z),fe=bn.csp,Wt=bn.prefixCls,hi=bn.layer,Jr=Vt;Wt&&(Jr=Jr.replace(/anticon/g,Wt)),hi&&(Jr="@layer ".concat(hi,` {
`).concat(Jr,`
}`)),(0,xe.useEffect)(function(){var Te=Gt.current,Pn=(0,He.A)(Te);(0,$e.hq)(Jr,"@ant-design-icons",{prepend:!hi,csp:fe,attachTo:Pn})},[])},hr=["icon","className","onClick","style","primaryColor","secondaryColor"],er={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function Hn(lt){var Gt=lt.primaryColor,bn=lt.secondaryColor;er.primaryColor=Gt,er.secondaryColor=bn||kt(Gt),er.calculated=!!bn}function Ze(){return(0,te.Z)({},er)}var Nt=function(Gt){var bn=Gt.icon,fe=Gt.className,Wt=Gt.onClick,hi=Gt.style,Jr=Gt.primaryColor,Te=Gt.secondaryColor,Pn=(0,c.Z)(Gt,hr),Lr=xe.useRef(),kr=er;if(Jr&&(kr={primaryColor:Jr,secondaryColor:Te||kt(Jr)}),Lt(Lr),Je(ht(bn),"icon should be icon definiton, but got ".concat(bn)),!ht(bn))return null;var In=bn;return In&&typeof In.icon=="function"&&(In=(0,te.Z)((0,te.Z)({},In),{},{icon:In.icon(kr.primaryColor,kr.secondaryColor)})),Ue(In.icon,"svg-".concat(In.name),(0,te.Z)((0,te.Z)({className:fe,onClick:Wt,style:hi,"data-icon":In.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},Pn),{},{ref:Lr}))};Nt.displayName="IconReact",Nt.getTwoToneColors=Ze,Nt.setTwoToneColors=Hn;var sn=Nt;function Xt(lt){var Gt=yt(lt),bn=(0,ot.Z)(Gt,2),fe=bn[0],Wt=bn[1];return sn.setTwoToneColors({primaryColor:fe,secondaryColor:Wt})}function Le(){var lt=sn.getTwoToneColors();return lt.calculated?[lt.primaryColor,lt.secondaryColor]:lt.primaryColor}var $n=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];Xt(Me.iN.primary);var cn=xe.forwardRef(function(lt,Gt){var bn=lt.className,fe=lt.icon,Wt=lt.spin,hi=lt.rotate,Jr=lt.tabIndex,Te=lt.onClick,Pn=lt.twoToneColor,Lr=(0,c.Z)(lt,$n),kr=xe.useContext(ve.Z),In=kr.prefixCls,Nr=In===void 0?"anticon":In,vi=kr.rootClassName,sr=Fe()(vi,Nr,(0,Y.Z)((0,Y.Z)({},"".concat(Nr,"-").concat(fe.name),!!fe.name),"".concat(Nr,"-spin"),!!Wt||fe.name==="loading"),bn),it=Jr;it===void 0&&Te&&(it=-1);var Ot=hi?{msTransform:"rotate(".concat(hi,"deg)"),transform:"rotate(".concat(hi,"deg)")}:void 0,zn=yt(Pn),dn=(0,ot.Z)(zn,2),fn=dn[0],xr=dn[1];return xe.createElement("span",(0,s.Z)({role:"img","aria-label":fe.name},Lr,{ref:Gt,tabIndex:it,onClick:Te,className:sr}),xe.createElement(sn,{icon:fe,primaryColor:fn,secondaryColor:xr,style:Ot}))});cn.displayName="AntdIcon",cn.getTwoToneColor=Le,cn.setTwoToneColor=Xt;var En=cn},53552:function(Zr,jt,F){"use strict";var s=F(75271),ot=(0,s.createContext)({});jt.Z=ot},4692:function(Zr,jt,F){"use strict";F.d(jt,{Z:function(){return Me}});var s=F(23022),ot=F(75271),Y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},c=Y,xe=F(23738),We=function(te,Ke){return ot.createElement(xe.Z,(0,s.Z)({},te,{ref:Ke,icon:c}))},Fe=ot.forwardRef(We),Me=Fe},3642:function(Zr,jt,F){"use strict";F.d(jt,{Z:function(){return Me}});var s=F(23022),ot=F(75271),Y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},c=Y,xe=F(23738),We=function(te,Ke){return ot.createElement(xe.Z,(0,s.Z)({},te,{ref:Ke,icon:c}))},Fe=ot.forwardRef(We),Me=Fe},75434:function(Zr,jt,F){"use strict";F.d(jt,{Z:function(){return Me}});var s=F(23022),ot=F(75271),Y={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"},c=Y,xe=F(23738),We=function(te,Ke){return ot.createElement(xe.Z,(0,s.Z)({},te,{ref:Ke,icon:c}))},Fe=ot.forwardRef(We),Me=Fe},14258:function(Zr,jt,F){"use strict";F.d(jt,{Z:function(){return Me}});var s=F(23022),ot=F(75271),Y={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"},c=Y,xe=F(23738),We=function(te,Ke){return ot.createElement(xe.Z,(0,s.Z)({},te,{ref:Ke,icon:c}))},Fe=ot.forwardRef(We),Me=Fe},13143:function(Zr,jt,F){"use strict";F.d(jt,{Z:function(){return Me}});var s=F(23022),ot=F(75271),Y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},c=Y,xe=F(23738),We=function(te,Ke){return ot.createElement(xe.Z,(0,s.Z)({},te,{ref:Ke,icon:c}))},Fe=ot.forwardRef(We),Me=Fe},64267:function(Zr,jt,F){"use strict";F.d(jt,{Z:function(){return Me}});var s=F(23022),ot=F(75271),Y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},c=Y,xe=F(23738),We=function(te,Ke){return ot.createElement(xe.Z,(0,s.Z)({},te,{ref:Ke,icon:c}))},Fe=ot.forwardRef(We),Me=Fe},24573:function(Zr,jt,F){"use strict";F.d(jt,{Z:function(){return Me}});var s=F(23022),ot=F(75271),Y={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},c=Y,xe=F(23738),We=function(te,Ke){return ot.createElement(xe.Z,(0,s.Z)({},te,{ref:Ke,icon:c}))},Fe=ot.forwardRef(We),Me=Fe},27806:function(Zr,jt,F){"use strict";F.d(jt,{Z:function(){return Me}});var s=F(23022),ot=F(75271),Y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"},c=Y,xe=F(23738),We=function(te,Ke){return ot.createElement(xe.Z,(0,s.Z)({},te,{ref:Ke,icon:c}))},Fe=ot.forwardRef(We),Me=Fe},17023:function(Zr,jt,F){"use strict";F.d(jt,{Z:function(){return Me}});var s=F(23022),ot=F(75271),Y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},c=Y,xe=F(23738),We=function(te,Ke){return ot.createElement(xe.Z,(0,s.Z)({},te,{ref:Ke,icon:c}))},Fe=ot.forwardRef(We),Me=Fe},84896:function(Zr,jt,F){"use strict";F.d(jt,{Z:function(){return Me}});var s=F(23022),ot=F(75271),Y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"},c=Y,xe=F(23738),We=function(te,Ke){return ot.createElement(xe.Z,(0,s.Z)({},te,{ref:Ke,icon:c}))},Fe=ot.forwardRef(We),Me=Fe},2180:function(Zr,jt,F){"use strict";F.d(jt,{Il:function(){return ht},G5:function(){return er},ZP:function(){return vi}});var s=F(23022),ot=F(38926),Y=F(89692),c=F(75271),xe=F(54153),We=F(59295),Fe=F(45985),Me=F(76525),ve=F(56216),te=F(58190),Ke=F(5147),$e=F(84432),He=["b"],qe=["v"],dt=function(it){return Math.round(Number(it||0))},Je=function(it){if(it instanceof $e.t)return it;if(it&&(0,Ke.Z)(it)==="object"&&"h"in it&&"b"in it){var Ot=it,zn=Ot.b,dn=(0,te.Z)(Ot,He);return(0,xe.Z)((0,xe.Z)({},dn),{},{v:zn})}return typeof it=="string"&&/hsb/.test(it)?it.replace(/hsb/,"hsv"):it},ht=function(sr){(0,Me.Z)(Ot,sr);var it=(0,ve.Z)(Ot);function Ot(zn){return(0,We.Z)(this,Ot),it.call(this,Je(zn))}return(0,Fe.Z)(Ot,[{key:"toHsbString",value:function(){var dn=this.toHsb(),fn=dt(dn.s*100),xr=dt(dn.b*100),Un=dt(dn.h),Xr=dn.a,ei="hsb(".concat(Un,", ").concat(fn,"%, ").concat(xr,"%)"),Wr="hsba(".concat(Un,", ").concat(fn,"%, ").concat(xr,"%, ").concat(Xr.toFixed(Xr===0?0:2),")");return Xr===1?ei:Wr}},{key:"toHsb",value:function(){var dn=this.toHsv(),fn=dn.v,xr=(0,te.Z)(dn,qe);return(0,xe.Z)((0,xe.Z)({},xr),{},{b:fn,a:this.a})}}]),Ot}($e.t),bt="rc-color-picker",Ue=function(it){return it instanceof ht?it:new ht(it)},kt=Ue("#1677ff"),yt=function(it){var Ot=it.offset,zn=it.targetRef,dn=it.containerRef,fn=it.color,xr=it.type,Un=dn.current.getBoundingClientRect(),Xr=Un.width,ei=Un.height,Wr=zn.current.getBoundingClientRect(),ti=Wr.width,gr=Wr.height,mr=ti/2,fr=gr/2,wr=(Ot.x+mr)/Xr,vr=1-(Ot.y+fr)/ei,jr=fn.toHsb(),Xn=wr,lr=(Ot.x+mr)/Xr*360;if(xr)switch(xr){case"hue":return Ue((0,xe.Z)((0,xe.Z)({},jr),{},{h:lr<=0?0:lr}));case"alpha":return Ue((0,xe.Z)((0,xe.Z)({},jr),{},{a:Xn<=0?0:Xn}))}return Ue({h:jr.h,s:wr<=0?0:wr,b:vr>=1?1:vr,a:jr.a})},Et=function(it,Ot){var zn=it.toHsb();switch(Ot){case"hue":return{x:zn.h/360*100,y:50};case"alpha":return{x:it.a*100,y:50};default:return{x:zn.s*100,y:(1-zn.b)*100}}},Vt=F(82187),Lt=F.n(Vt),hr=function(it){var Ot=it.color,zn=it.prefixCls,dn=it.className,fn=it.style,xr=it.onClick,Un="".concat(zn,"-color-block");return c.createElement("div",{className:Lt()(Un,dn),style:fn,onClick:xr},c.createElement("div",{className:"".concat(Un,"-inner"),style:{background:Ot}}))},er=hr;function Hn(sr){var it="touches"in sr?sr.touches[0]:sr,Ot=document.documentElement.scrollLeft||document.body.scrollLeft||window.pageXOffset,zn=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset;return{pageX:it.pageX-Ot,pageY:it.pageY-zn}}function Ze(sr){var it=sr.targetRef,Ot=sr.containerRef,zn=sr.direction,dn=sr.onDragChange,fn=sr.onDragChangeComplete,xr=sr.calculate,Un=sr.color,Xr=sr.disabledDrag,ei=(0,c.useState)({x:0,y:0}),Wr=(0,Y.Z)(ei,2),ti=Wr[0],gr=Wr[1],mr=(0,c.useRef)(null),fr=(0,c.useRef)(null);(0,c.useEffect)(function(){gr(xr())},[Un]),(0,c.useEffect)(function(){return function(){document.removeEventListener("mousemove",mr.current),document.removeEventListener("mouseup",fr.current),document.removeEventListener("touchmove",mr.current),document.removeEventListener("touchend",fr.current),mr.current=null,fr.current=null}},[]);var wr=function(Yr){var Fn=Hn(Yr),Si=Fn.pageX,mi=Fn.pageY,Hi=Ot.current.getBoundingClientRect(),ho=Hi.x,Ur=Hi.y,eo=Hi.width,en=Hi.height,Mn=it.current.getBoundingClientRect(),Qn=Mn.width,Dr=Mn.height,ui=Qn/2,oi=Dr/2,Xi=Math.max(0,Math.min(Si-ho,eo))-ui,Ji=Math.max(0,Math.min(mi-Ur,en))-oi,Ro={x:Xi,y:zn==="x"?ti.y:Ji};if(Qn===0&&Dr===0||Qn!==Dr)return!1;dn==null||dn(Ro)},vr=function(Yr){Yr.preventDefault(),wr(Yr)},jr=function(Yr){Yr.preventDefault(),document.removeEventListener("mousemove",mr.current),document.removeEventListener("mouseup",fr.current),document.removeEventListener("touchmove",mr.current),document.removeEventListener("touchend",fr.current),mr.current=null,fr.current=null,fn==null||fn()},Xn=function(Yr){document.removeEventListener("mousemove",mr.current),document.removeEventListener("mouseup",fr.current),!Xr&&(wr(Yr),document.addEventListener("mousemove",vr),document.addEventListener("mouseup",jr),document.addEventListener("touchmove",vr),document.addEventListener("touchend",jr),mr.current=vr,fr.current=jr)};return[ti,Xn]}var Nt=Ze,sn=F(22217),Xt=function(it){var Ot=it.size,zn=Ot===void 0?"default":Ot,dn=it.color,fn=it.prefixCls;return c.createElement("div",{className:Lt()("".concat(fn,"-handler"),(0,ot.Z)({},"".concat(fn,"-handler-sm"),zn==="small")),style:{backgroundColor:dn}})},Le=Xt,$n=function(it){var Ot=it.children,zn=it.style,dn=it.prefixCls;return c.createElement("div",{className:"".concat(dn,"-palette"),style:(0,xe.Z)({position:"relative"},zn)},Ot)},cn=$n,En=(0,c.forwardRef)(function(sr,it){var Ot=sr.children,zn=sr.x,dn=sr.y;return c.createElement("div",{ref:it,style:{position:"absolute",left:"".concat(zn,"%"),top:"".concat(dn,"%"),zIndex:1,transform:"translate(-50%, -50%)"}},Ot)}),lt=En,Gt=function(it){var Ot=it.color,zn=it.onChange,dn=it.prefixCls,fn=it.onChangeComplete,xr=it.disabled,Un=(0,c.useRef)(),Xr=(0,c.useRef)(),ei=(0,c.useRef)(Ot),Wr=(0,sn.zX)(function(wr){var vr=yt({offset:wr,targetRef:Xr,containerRef:Un,color:Ot});ei.current=vr,zn(vr)}),ti=Nt({color:Ot,containerRef:Un,targetRef:Xr,calculate:function(){return Et(Ot)},onDragChange:Wr,onDragChangeComplete:function(){return fn==null?void 0:fn(ei.current)},disabledDrag:xr}),gr=(0,Y.Z)(ti,2),mr=gr[0],fr=gr[1];return c.createElement("div",{ref:Un,className:"".concat(dn,"-select"),onMouseDown:fr,onTouchStart:fr},c.createElement(cn,{prefixCls:dn},c.createElement(lt,{x:mr.x,y:mr.y,ref:Xr},c.createElement(Le,{color:Ot.toRgbString(),prefixCls:dn})),c.createElement("div",{className:"".concat(dn,"-saturation"),style:{backgroundColor:"hsl(".concat(Ot.toHsb().h,",100%, 50%)"),backgroundImage:"linear-gradient(0deg, #000, transparent),linear-gradient(90deg, #fff, hsla(0, 0%, 100%, 0))"}})))},bn=Gt,fe=function(it,Ot){var zn=(0,sn.C8)(it,{value:Ot}),dn=(0,Y.Z)(zn,2),fn=dn[0],xr=dn[1],Un=(0,c.useMemo)(function(){return Ue(fn)},[fn]);return[Un,xr]},Wt=fe,hi=function(it){var Ot=it.colors,zn=it.children,dn=it.direction,fn=dn===void 0?"to right":dn,xr=it.type,Un=it.prefixCls,Xr=(0,c.useMemo)(function(){return Ot.map(function(ei,Wr){var ti=Ue(ei);return xr==="alpha"&&Wr===Ot.length-1&&(ti=new ht(ti.setA(1))),ti.toRgbString()}).join(",")},[Ot,xr]);return c.createElement("div",{className:"".concat(Un,"-gradient"),style:{position:"absolute",inset:0,background:"linear-gradient(".concat(fn,", ").concat(Xr,")")}},zn)},Jr=hi,Te=function(it){var Ot=it.prefixCls,zn=it.colors,dn=it.disabled,fn=it.onChange,xr=it.onChangeComplete,Un=it.color,Xr=it.type,ei=(0,c.useRef)(),Wr=(0,c.useRef)(),ti=(0,c.useRef)(Un),gr=function(Fn){return Xr==="hue"?Fn.getHue():Fn.a*100},mr=(0,sn.zX)(function(Yr){var Fn=yt({offset:Yr,targetRef:Wr,containerRef:ei,color:Un,type:Xr});ti.current=Fn,fn(gr(Fn))}),fr=Nt({color:Un,targetRef:Wr,containerRef:ei,calculate:function(){return Et(Un,Xr)},onDragChange:mr,onDragChangeComplete:function(){xr(gr(ti.current))},direction:"x",disabledDrag:dn}),wr=(0,Y.Z)(fr,2),vr=wr[0],jr=wr[1],Xn=c.useMemo(function(){if(Xr==="hue"){var Yr=Un.toHsb();Yr.s=1,Yr.b=1,Yr.a=1;var Fn=new ht(Yr);return Fn}return Un},[Un,Xr]),lr=c.useMemo(function(){return zn.map(function(Yr){return"".concat(Yr.color," ").concat(Yr.percent,"%")})},[zn]);return c.createElement("div",{ref:ei,className:Lt()("".concat(Ot,"-slider"),"".concat(Ot,"-slider-").concat(Xr)),onMouseDown:jr,onTouchStart:jr},c.createElement(cn,{prefixCls:Ot},c.createElement(lt,{x:vr.x,y:vr.y,ref:Wr},c.createElement(Le,{size:"small",color:Xn.toHexString(),prefixCls:Ot})),c.createElement(Jr,{colors:lr,type:Xr,prefixCls:Ot})))},Pn=Te;function Lr(sr){return c.useMemo(function(){var it=sr||{},Ot=it.slider;return[Ot||Pn]},[sr])}var kr=[{color:"rgb(255, 0, 0)",percent:0},{color:"rgb(255, 255, 0)",percent:17},{color:"rgb(0, 255, 0)",percent:33},{color:"rgb(0, 255, 255)",percent:50},{color:"rgb(0, 0, 255)",percent:67},{color:"rgb(255, 0, 255)",percent:83},{color:"rgb(255, 0, 0)",percent:100}],In=(0,c.forwardRef)(function(sr,it){var Ot=sr.value,zn=sr.defaultValue,dn=sr.prefixCls,fn=dn===void 0?bt:dn,xr=sr.onChange,Un=sr.onChangeComplete,Xr=sr.className,ei=sr.style,Wr=sr.panelRender,ti=sr.disabledAlpha,gr=ti===void 0?!1:ti,mr=sr.disabled,fr=mr===void 0?!1:mr,wr=sr.components,vr=Lr(wr),jr=(0,Y.Z)(vr,1),Xn=jr[0],lr=Wt(zn||kt,Ot),Yr=(0,Y.Z)(lr,2),Fn=Yr[0],Si=Yr[1],mi=(0,c.useMemo)(function(){return Fn.setA(1).toRgbString()},[Fn]),Hi=function(Ji,Ro){Ot||Si(Ji),xr==null||xr(Ji,Ro)},ho=function(Ji){return new ht(Fn.setHue(Ji))},Ur=function(Ji){return new ht(Fn.setA(Ji/100))},eo=function(Ji){Hi(ho(Ji),{type:"hue",value:Ji})},en=function(Ji){Hi(Ur(Ji),{type:"alpha",value:Ji})},Mn=function(Ji){Un&&Un(ho(Ji))},Qn=function(Ji){Un&&Un(Ur(Ji))},Dr=Lt()("".concat(fn,"-panel"),Xr,(0,ot.Z)({},"".concat(fn,"-panel-disabled"),fr)),ui={prefixCls:fn,disabled:fr,color:Fn},oi=c.createElement(c.Fragment,null,c.createElement(bn,(0,s.Z)({onChange:Hi},ui,{onChangeComplete:Un})),c.createElement("div",{className:"".concat(fn,"-slider-container")},c.createElement("div",{className:Lt()("".concat(fn,"-slider-group"),(0,ot.Z)({},"".concat(fn,"-slider-group-disabled-alpha"),gr))},c.createElement(Xn,(0,s.Z)({},ui,{type:"hue",colors:kr,min:0,max:359,value:Fn.getHue(),onChange:eo,onChangeComplete:Mn})),!gr&&c.createElement(Xn,(0,s.Z)({},ui,{type:"alpha",colors:[{percent:0,color:"rgba(255, 0, 4, 0)"},{percent:100,color:mi}],min:0,max:100,value:Fn.a*100,onChange:en,onChangeComplete:Qn}))),c.createElement(er,{color:Fn.toRgbString(),prefixCls:fn})));return c.createElement("div",{className:Dr,style:ei,ref:it},typeof Wr=="function"?Wr(oi):oi)}),Nr=In,vi=Nr},54797:function(){"use strict"},78018:function(Zr,jt,F){"use strict";var s=F(75271),ot=F(60824),Y=F(23137);const c=xe=>{const{space:We,form:Fe,children:Me}=xe;if(Me==null)return null;let ve=Me;return Fe&&(ve=s.createElement(ot.Ux,{override:!0,status:!0},ve)),We&&(ve=s.createElement(Y.BR,null,ve)),ve};jt.Z=c},52445:function(Zr,jt,F){"use strict";F.d(jt,{i:function(){return xe}});var s=F(75271),ot=F(93954),Y=F(62639),c=F(98446);function xe(Fe){return Me=>s.createElement(Y.ZP,{theme:{token:{motion:!1,zIndexPopupBase:0}}},s.createElement(Fe,Object.assign({},Me)))}const We=(Fe,Me,ve,te,Ke)=>xe(He=>{const{prefixCls:qe,style:dt}=He,Je=s.useRef(null),[ht,bt]=s.useState(0),[Ue,kt]=s.useState(0),[yt,Et]=(0,ot.Z)(!1,{value:He.open}),{getPrefixCls:Vt}=s.useContext(c.E_),Lt=Vt(te||"select",qe);s.useEffect(()=>{if(Et(!0),typeof ResizeObserver!="undefined"){const Hn=new ResizeObserver(Nt=>{const sn=Nt[0].target;bt(sn.offsetHeight+8),kt(sn.offsetWidth)}),Ze=setInterval(()=>{var Nt;const sn=Ke?`.${Ke(Lt)}`:`.${Lt}-dropdown`,Xt=(Nt=Je.current)===null||Nt===void 0?void 0:Nt.querySelector(sn);Xt&&(clearInterval(Ze),Hn.observe(Xt))},10);return()=>{clearInterval(Ze),Hn.disconnect()}}},[]);let hr=Object.assign(Object.assign({},He),{style:Object.assign(Object.assign({},dt),{margin:0}),open:yt,visible:yt,getPopupContainer:()=>Je.current});ve&&(hr=ve(hr)),Me&&Object.assign(hr,{[Me]:{overflow:{adjustX:!1,adjustY:!1}}});const er={paddingBottom:ht,position:"relative",minWidth:Ue};return s.createElement("div",{ref:Je,style:er},s.createElement(Fe,Object.assign({},hr)))});jt.Z=We},53835:function(Zr,jt,F){"use strict";F.d(jt,{o2:function(){return xe},yT:function(){return We}});var s=F(46865),ot=F(98990);const Y=ot.i.map(Fe=>`${Fe}-inverse`),c=["success","processing","error","default","warning"];function xe(Fe){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)?[].concat((0,s.Z)(Y),(0,s.Z)(ot.i)).includes(Fe):ot.i.includes(Fe)}function We(Fe){return c.includes(Fe)}},93473:function(Zr,jt,F){"use strict";var s=F(75271),ot=F(75434);const Y=c=>{let xe;return typeof c=="object"&&(c!=null&&c.clearIcon)?xe=c:c&&(xe={clearIcon:s.createElement(ot.Z,null)}),xe};jt.Z=Y},17522:function(Zr,jt,F){"use strict";F.d(jt,{Z:function(){return s}});const s=ot=>ot?typeof ot=="function"?ot():ot:null},85990:function(Zr,jt,F){"use strict";F.d(jt,{Z:function(){return ot}});var s=F(75271);function ot(){const[,Y]=s.useReducer(c=>c+1,0);return Y}},19952:function(Zr,jt,F){"use strict";F.d(jt,{Cn:function(){return Ke},u6:function(){return We}});var s=F(75271),ot=F(67699),Y=F(61803);const c=100,We=c*10,Fe=We+c,Me={Modal:c,Drawer:c,Popover:c,Popconfirm:c,Tooltip:c,Tour:c,FloatButton:c},ve={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};function te($e){return $e in Me}const Ke=($e,He)=>{const[,qe]=(0,ot.ZP)(),dt=s.useContext(Y.Z),Je=te($e);let ht;if(He!==void 0)ht=[He,He];else{let bt=dt!=null?dt:0;Je?bt+=(dt?0:qe.zIndexPopupBase)+Me[$e]:bt+=ve[$e],ht=[dt===void 0?He:bt,bt]}return ht}},13635:function(Zr,jt,F){"use strict";F.d(jt,{m:function(){return Me}});var s=F(98446);const ot=()=>({height:0,opacity:0}),Y=ve=>{const{scrollHeight:te}=ve;return{height:te,opacity:1}},c=ve=>({height:ve?ve.offsetHeight:0}),xe=(ve,te)=>(te==null?void 0:te.deadline)===!0||te.propertyName==="height",We=function(){return{motionName:`${arguments.length>0&&arguments[0]!==void 0?arguments[0]:s.Rf}-motion-collapse`,onAppearStart:ot,onEnterStart:ot,onAppearActive:Y,onEnterActive:Y,onLeaveStart:c,onLeaveActive:ot,onAppearEnd:xe,onEnterEnd:xe,onLeaveEnd:xe,motionDeadline:500}},Fe=null,Me=(ve,te,Ke)=>Ke!==void 0?Ke:`${ve}-${te}`;jt.Z=We},5416:function(Zr,jt,F){"use strict";F.d(jt,{Z:function(){return We}});var s=F(18533);function ot(Fe,Me,ve,te){if(te===!1)return{adjustX:!1,adjustY:!1};const Ke=te&&typeof te=="object"?te:{},$e={};switch(Fe){case"top":case"bottom":$e.shiftX=Me.arrowOffsetHorizontal*2+ve,$e.shiftY=!0,$e.adjustY=!0;break;case"left":case"right":$e.shiftY=Me.arrowOffsetVertical*2+ve,$e.shiftX=!0,$e.adjustX=!0;break}const He=Object.assign(Object.assign({},$e),Ke);return He.shiftX||(He.adjustX=!0),He.shiftY||(He.adjustY=!0),He}const Y={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},c={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},xe=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function We(Fe){const{arrowWidth:Me,autoAdjustOverflow:ve,arrowPointAtCenter:te,offset:Ke,borderRadius:$e,visibleFirst:He}=Fe,qe=Me/2,dt={};return Object.keys(Y).forEach(Je=>{const ht=te&&c[Je]||Y[Je],bt=Object.assign(Object.assign({},ht),{offset:[0,0],dynamicInset:!0});switch(dt[Je]=bt,xe.has(Je)&&(bt.autoArrow=!1),Je){case"top":case"topLeft":case"topRight":bt.offset[1]=-qe-Ke;break;case"bottom":case"bottomLeft":case"bottomRight":bt.offset[1]=qe+Ke;break;case"left":case"leftTop":case"leftBottom":bt.offset[0]=-qe-Ke;break;case"right":case"rightTop":case"rightBottom":bt.offset[0]=qe+Ke;break}const Ue=(0,s.wZ)({contentRadius:$e,limitVerticalRadius:!0});if(te)switch(Je){case"topLeft":case"bottomLeft":bt.offset[0]=-Ue.arrowOffsetHorizontal-qe;break;case"topRight":case"bottomRight":bt.offset[0]=Ue.arrowOffsetHorizontal+qe;break;case"leftTop":case"rightTop":bt.offset[1]=-Ue.arrowOffsetHorizontal*2+qe;break;case"leftBottom":case"rightBottom":bt.offset[1]=Ue.arrowOffsetHorizontal*2-qe;break}bt.overflow=ot(Je,Ue,Me,ve),He&&(bt.htmlRegion="visibleFirst")}),dt}},26021:function(Zr,jt,F){"use strict";F.d(jt,{M2:function(){return ot},Tm:function(){return c},wm:function(){return Y}});var s=F(75271);function ot(xe){return xe&&s.isValidElement(xe)&&xe.type===s.Fragment}const Y=(xe,We,Fe)=>s.isValidElement(xe)?s.cloneElement(xe,typeof Fe=="function"?Fe(xe.props||{}):Fe):We;function c(xe,We){return Y(xe,xe,We)}},96777:function(Zr,jt,F){"use strict";F.d(jt,{ZP:function(){return We},c4:function(){return Y},m9:function(){return Fe}});var s=F(75271),ot=F(67699);const Y=["xxl","xl","lg","md","sm","xs"],c=Me=>({xs:`(max-width: ${Me.screenXSMax}px)`,sm:`(min-width: ${Me.screenSM}px)`,md:`(min-width: ${Me.screenMD}px)`,lg:`(min-width: ${Me.screenLG}px)`,xl:`(min-width: ${Me.screenXL}px)`,xxl:`(min-width: ${Me.screenXXL}px)`}),xe=Me=>{const ve=Me,te=[].concat(Y).reverse();return te.forEach((Ke,$e)=>{const He=Ke.toUpperCase(),qe=`screen${He}Min`,dt=`screen${He}`;if(!(ve[qe]<=ve[dt]))throw new Error(`${qe}<=${dt} fails : !(${ve[qe]}<=${ve[dt]})`);if($e<te.length-1){const Je=`screen${He}Max`;if(!(ve[dt]<=ve[Je]))throw new Error(`${dt}<=${Je} fails : !(${ve[dt]}<=${ve[Je]})`);const bt=`screen${te[$e+1].toUpperCase()}Min`;if(!(ve[Je]<=ve[bt]))throw new Error(`${Je}<=${bt} fails : !(${ve[Je]}<=${ve[bt]})`)}}),Me};function We(){const[,Me]=(0,ot.ZP)(),ve=c(xe(Me));return s.useMemo(()=>{const te=new Map;let Ke=-1,$e={};return{matchHandlers:{},dispatch(He){return $e=He,te.forEach(qe=>qe($e)),te.size>=1},subscribe(He){return te.size||this.register(),Ke+=1,te.set(Ke,He),He($e),Ke},unsubscribe(He){te.delete(He),te.size||this.unregister()},unregister(){Object.keys(ve).forEach(He=>{const qe=ve[He],dt=this.matchHandlers[qe];dt==null||dt.mql.removeListener(dt==null?void 0:dt.listener)}),te.clear()},register(){Object.keys(ve).forEach(He=>{const qe=ve[He],dt=ht=>{let{matches:bt}=ht;this.dispatch(Object.assign(Object.assign({},$e),{[He]:bt}))},Je=window.matchMedia(qe);Je.addListener(dt),this.matchHandlers[qe]={mql:Je,listener:dt},dt(Je)})},responsiveMap:ve}},[Me])}const Fe=(Me,ve)=>{if(ve&&typeof ve=="object")for(let te=0;te<Y.length;te++){const Ke=Y[te];if(Me[Ke]&&ve[Ke]!==void 0)return ve[Ke]}}},94773:function(Zr,jt,F){"use strict";F.d(jt,{F:function(){return xe},Z:function(){return c}});var s=F(82187),ot=F.n(s);const Y=null;function c(We,Fe,Me){return ot()({[`${We}-status-success`]:Fe==="success",[`${We}-status-warning`]:Fe==="warning",[`${We}-status-error`]:Fe==="error",[`${We}-status-validating`]:Fe==="validating",[`${We}-has-feedback`]:Me})}const xe=(We,Fe)=>Fe||We},87117:function(Zr,jt,F){"use strict";F.d(jt,{G8:function(){return Fe},ln:function(){return Me}});var s=F(75271),ot=F(4449);function Y(){}let c=null;function xe(){c=null,rcResetWarned()}let We=null;const Fe=s.createContext({}),Me=()=>{const te=()=>{};return te.deprecated=Y,te};var ve=null},54070:function(Zr,jt,F){"use strict";F.d(jt,{Z:function(){return er}});var s=F(75271),ot=F(82187),Y=F.n(ot),c=F(60900),xe=F(42684),We=F(98446),Fe=F(26021),Me=F(84825);const ve=Hn=>{const{componentCls:Ze,colorPrimary:Nt}=Hn;return{[Ze]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${Nt})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${Hn.motionEaseOutCirc}`,`opacity 2s ${Hn.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow ${Hn.motionDurationSlow} ${Hn.motionEaseInOut}`,`opacity ${Hn.motionDurationSlow} ${Hn.motionEaseInOut}`].join(",")}}}}};var te=(0,Me.A1)("Wave",Hn=>[ve(Hn)]),Ke=F(59373),$e=F(49975),He=F(67699),qe=F(5276),dt=F(62803),Je=F(92703);function ht(Hn){return Hn&&Hn!=="#fff"&&Hn!=="#ffffff"&&Hn!=="rgb(255, 255, 255)"&&Hn!=="rgba(255, 255, 255, 1)"&&!/rgba\((?:\d*, ){3}0\)/.test(Hn)&&Hn!=="transparent"}function bt(Hn){const{borderTopColor:Ze,borderColor:Nt,backgroundColor:sn}=getComputedStyle(Hn);return ht(Ze)?Ze:ht(Nt)?Nt:ht(sn)?sn:null}function Ue(Hn){return Number.isNaN(Hn)?0:Hn}const kt=Hn=>{const{className:Ze,target:Nt,component:sn,registerUnmount:Xt}=Hn,Le=s.useRef(null),$n=s.useRef(null);s.useEffect(()=>{$n.current=Xt()},[]);const[cn,En]=s.useState(null),[lt,Gt]=s.useState([]),[bn,fe]=s.useState(0),[Wt,hi]=s.useState(0),[Jr,Te]=s.useState(0),[Pn,Lr]=s.useState(0),[kr,In]=s.useState(!1),Nr={left:bn,top:Wt,width:Jr,height:Pn,borderRadius:lt.map(it=>`${it}px`).join(" ")};cn&&(Nr["--wave-color"]=cn);function vi(){const it=getComputedStyle(Nt);En(bt(Nt));const Ot=it.position==="static",{borderLeftWidth:zn,borderTopWidth:dn}=it;fe(Ot?Nt.offsetLeft:Ue(-parseFloat(zn))),hi(Ot?Nt.offsetTop:Ue(-parseFloat(dn))),Te(Nt.offsetWidth),Lr(Nt.offsetHeight);const{borderTopLeftRadius:fn,borderTopRightRadius:xr,borderBottomLeftRadius:Un,borderBottomRightRadius:Xr}=it;Gt([fn,xr,Xr,Un].map(ei=>Ue(parseFloat(ei))))}if(s.useEffect(()=>{if(Nt){const it=(0,$e.Z)(()=>{vi(),In(!0)});let Ot;return typeof ResizeObserver!="undefined"&&(Ot=new ResizeObserver(vi),Ot.observe(Nt)),()=>{$e.Z.cancel(it),Ot==null||Ot.disconnect()}}},[]),!kr)return null;const sr=(sn==="Checkbox"||sn==="Radio")&&(Nt==null?void 0:Nt.classList.contains(qe.A));return s.createElement(dt.ZP,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(it,Ot)=>{var zn,dn;if(Ot.deadline||Ot.propertyName==="opacity"){const fn=(zn=Le.current)===null||zn===void 0?void 0:zn.parentElement;(dn=$n.current)===null||dn===void 0||dn.call($n).then(()=>{fn==null||fn.remove()})}return!1}},(it,Ot)=>{let{className:zn}=it;return s.createElement("div",{ref:(0,xe.sQ)(Le,Ot),className:Y()(Ze,zn,{"wave-quick":sr}),style:Nr})})};var Et=(Hn,Ze)=>{var Nt;const{component:sn}=Ze;if(sn==="Checkbox"&&!(!((Nt=Hn.querySelector("input"))===null||Nt===void 0)&&Nt.checked))return;const Xt=document.createElement("div");Xt.style.position="absolute",Xt.style.left="0px",Xt.style.top="0px",Hn==null||Hn.insertBefore(Xt,Hn==null?void 0:Hn.firstChild);const Le=(0,Je.x)();let $n=null;function cn(){return $n}$n=Le(s.createElement(kt,Object.assign({},Ze,{target:Hn,registerUnmount:cn})),Xt)},Lt=(Hn,Ze,Nt)=>{const{wave:sn}=s.useContext(We.E_),[,Xt,Le]=(0,He.ZP)(),$n=(0,Ke.Z)(lt=>{const Gt=Hn.current;if(sn!=null&&sn.disabled||!Gt)return;const bn=Gt.querySelector(`.${qe.A}`)||Gt,{showEffect:fe}=sn||{};(fe||Et)(bn,{className:Ze,token:Xt,component:Nt,event:lt,hashId:Le})}),cn=s.useRef(null);return lt=>{$e.Z.cancel(cn.current),cn.current=(0,$e.Z)(()=>{$n(lt)})}},er=Hn=>{const{children:Ze,disabled:Nt,component:sn}=Hn,{getPrefixCls:Xt}=(0,s.useContext)(We.E_),Le=(0,s.useRef)(null),$n=Xt("wave"),[,cn]=te($n),En=Lt(Le,Y()($n,cn),sn);if(s.useEffect(()=>{const Gt=Le.current;if(!Gt||Gt.nodeType!==1||Nt)return;const bn=fe=>{!(0,c.Z)(fe.target)||!Gt.getAttribute||Gt.getAttribute("disabled")||Gt.disabled||Gt.className.includes("disabled")||Gt.className.includes("-leave")||En(fe)};return Gt.addEventListener("click",bn,!0),()=>{Gt.removeEventListener("click",bn,!0)}},[Nt]),!s.isValidElement(Ze))return Ze!=null?Ze:null;const lt=(0,xe.Yr)(Ze)?(0,xe.sQ)((0,xe.C4)(Ze),Le):Le;return(0,Fe.Tm)(Ze,{ref:lt})}},5276:function(Zr,jt,F){"use strict";F.d(jt,{A:function(){return ot}});var s=F(98446);const ot=`${s.Rf}-wave-target`},61803:function(Zr,jt,F){"use strict";var s=F(75271);const ot=s.createContext(void 0);jt.Z=ot},40859:function(Zr,jt,F){"use strict";var s=F(58492);jt.Z=s.Z},59527:function(Zr,jt,F){"use strict";F.d(jt,{Z:function(){return Y}});var s=F(75271),ot=F(49975);function Y(c){const xe=s.useRef(null),We=()=>{ot.Z.cancel(xe.current),xe.current=null};return[()=>{We(),xe.current=(0,ot.Z)(()=>{xe.current=null})},ve=>{xe.current&&(ve.stopPropagation(),We()),c==null||c(ve)}]}},62023:function(Zr,jt,F){"use strict";F.d(jt,{Z:function(){return zn}});var s=F(75271),ot=F(27806),Y=F(82187),c=F.n(Y),xe=F(23022),We=F(46865),Fe=F(89692),Me=F(5147),ve=F(93954),te=F(4449),Ke=F(58190),$e=F(81626),He=F(54153),qe=F(38926),dt=F(62803),Je=F(14583),ht=s.forwardRef(function(dn,fn){var xr=dn.prefixCls,Un=dn.forceRender,Xr=dn.className,ei=dn.style,Wr=dn.children,ti=dn.isActive,gr=dn.role,mr=dn.classNames,fr=dn.styles,wr=s.useState(ti||Un),vr=(0,Fe.Z)(wr,2),jr=vr[0],Xn=vr[1];return s.useEffect(function(){(Un||ti)&&Xn(!0)},[Un,ti]),jr?s.createElement("div",{ref:fn,className:c()("".concat(xr,"-content"),(0,qe.Z)((0,qe.Z)({},"".concat(xr,"-content-active"),ti),"".concat(xr,"-content-inactive"),!ti),Xr),style:ei,role:gr},s.createElement("div",{className:c()("".concat(xr,"-content-box"),mr==null?void 0:mr.body),style:fr==null?void 0:fr.body},Wr)):null});ht.displayName="PanelContent";var bt=ht,Ue=["showArrow","headerClass","isActive","onItemClick","forceRender","className","classNames","styles","prefixCls","collapsible","accordion","panelKey","extra","header","expandIcon","openMotion","destroyInactivePanel","children"],kt=s.forwardRef(function(dn,fn){var xr=dn.showArrow,Un=xr===void 0?!0:xr,Xr=dn.headerClass,ei=dn.isActive,Wr=dn.onItemClick,ti=dn.forceRender,gr=dn.className,mr=dn.classNames,fr=mr===void 0?{}:mr,wr=dn.styles,vr=wr===void 0?{}:wr,jr=dn.prefixCls,Xn=dn.collapsible,lr=dn.accordion,Yr=dn.panelKey,Fn=dn.extra,Si=dn.header,mi=dn.expandIcon,Hi=dn.openMotion,ho=dn.destroyInactivePanel,Ur=dn.children,eo=(0,Ke.Z)(dn,Ue),en=Xn==="disabled",Mn=Fn!=null&&typeof Fn!="boolean",Qn=(0,qe.Z)((0,qe.Z)((0,qe.Z)({onClick:function(){Wr==null||Wr(Yr)},onKeyDown:function(xo){(xo.key==="Enter"||xo.keyCode===Je.Z.ENTER||xo.which===Je.Z.ENTER)&&(Wr==null||Wr(Yr))},role:lr?"tab":"button"},"aria-expanded",ei),"aria-disabled",en),"tabIndex",en?-1:0),Dr=typeof mi=="function"?mi(dn):s.createElement("i",{className:"arrow"}),ui=Dr&&s.createElement("div",(0,xe.Z)({className:"".concat(jr,"-expand-icon")},["header","icon"].includes(Xn)?Qn:{}),Dr),oi=c()("".concat(jr,"-item"),(0,qe.Z)((0,qe.Z)({},"".concat(jr,"-item-active"),ei),"".concat(jr,"-item-disabled"),en),gr),Xi=c()(Xr,"".concat(jr,"-header"),(0,qe.Z)({},"".concat(jr,"-collapsible-").concat(Xn),!!Xn),fr.header),Ji=(0,He.Z)({className:Xi,style:vr.header},["header","icon"].includes(Xn)?{}:Qn);return s.createElement("div",(0,xe.Z)({},eo,{ref:fn,className:oi}),s.createElement("div",Ji,Un&&ui,s.createElement("span",(0,xe.Z)({className:"".concat(jr,"-header-text")},Xn==="header"?Qn:{}),Si),Mn&&s.createElement("div",{className:"".concat(jr,"-extra")},Fn)),s.createElement(dt.ZP,(0,xe.Z)({visible:ei,leavedClassName:"".concat(jr,"-content-hidden")},Hi,{forceRender:ti,removeOnLeave:ho}),function(Ro,xo){var io=Ro.className,Oe=Ro.style;return s.createElement(bt,{ref:xo,prefixCls:jr,className:io,classNames:fr,style:Oe,styles:vr,isActive:ei,forceRender:ti,role:lr?"tabpanel":void 0},Ur)}))}),yt=kt,Et=["children","label","key","collapsible","onItemClick","destroyInactivePanel"],Vt=function(fn,xr){var Un=xr.prefixCls,Xr=xr.accordion,ei=xr.collapsible,Wr=xr.destroyInactivePanel,ti=xr.onItemClick,gr=xr.activeKey,mr=xr.openMotion,fr=xr.expandIcon;return fn.map(function(wr,vr){var jr=wr.children,Xn=wr.label,lr=wr.key,Yr=wr.collapsible,Fn=wr.onItemClick,Si=wr.destroyInactivePanel,mi=(0,Ke.Z)(wr,Et),Hi=String(lr!=null?lr:vr),ho=Yr!=null?Yr:ei,Ur=Si!=null?Si:Wr,eo=function(Qn){ho!=="disabled"&&(ti(Qn),Fn==null||Fn(Qn))},en=!1;return Xr?en=gr[0]===Hi:en=gr.indexOf(Hi)>-1,s.createElement(yt,(0,xe.Z)({},mi,{prefixCls:Un,key:Hi,panelKey:Hi,isActive:en,accordion:Xr,openMotion:mr,expandIcon:fr,header:Xn,collapsible:ho,onItemClick:eo,destroyInactivePanel:Ur}),jr)})},Lt=function(fn,xr,Un){if(!fn)return null;var Xr=Un.prefixCls,ei=Un.accordion,Wr=Un.collapsible,ti=Un.destroyInactivePanel,gr=Un.onItemClick,mr=Un.activeKey,fr=Un.openMotion,wr=Un.expandIcon,vr=fn.key||String(xr),jr=fn.props,Xn=jr.header,lr=jr.headerClass,Yr=jr.destroyInactivePanel,Fn=jr.collapsible,Si=jr.onItemClick,mi=!1;ei?mi=mr[0]===vr:mi=mr.indexOf(vr)>-1;var Hi=Fn!=null?Fn:Wr,ho=function(en){Hi!=="disabled"&&(gr(en),Si==null||Si(en))},Ur={key:vr,panelKey:vr,header:Xn,headerClass:lr,isActive:mi,prefixCls:Xr,destroyInactivePanel:Yr!=null?Yr:ti,openMotion:fr,accordion:ei,children:fn.props.children,onItemClick:ho,expandIcon:wr,collapsible:Hi};return typeof fn.type=="string"?fn:(Object.keys(Ur).forEach(function(eo){typeof Ur[eo]=="undefined"&&delete Ur[eo]}),s.cloneElement(fn,Ur))};function hr(dn,fn,xr){return Array.isArray(dn)?Vt(dn,xr):(0,$e.Z)(fn).map(function(Un,Xr){return Lt(Un,Xr,xr)})}var er=hr,Hn=F(71305);function Ze(dn){var fn=dn;if(!Array.isArray(fn)){var xr=(0,Me.Z)(fn);fn=xr==="number"||xr==="string"?[fn]:[]}return fn.map(function(Un){return String(Un)})}var Nt=s.forwardRef(function(dn,fn){var xr=dn.prefixCls,Un=xr===void 0?"rc-collapse":xr,Xr=dn.destroyInactivePanel,ei=Xr===void 0?!1:Xr,Wr=dn.style,ti=dn.accordion,gr=dn.className,mr=dn.children,fr=dn.collapsible,wr=dn.openMotion,vr=dn.expandIcon,jr=dn.activeKey,Xn=dn.defaultActiveKey,lr=dn.onChange,Yr=dn.items,Fn=c()(Un,gr),Si=(0,ve.Z)([],{value:jr,onChange:function(Mn){return lr==null?void 0:lr(Mn)},defaultValue:Xn,postState:Ze}),mi=(0,Fe.Z)(Si,2),Hi=mi[0],ho=mi[1],Ur=function(Mn){return ho(function(){if(ti)return Hi[0]===Mn?[]:[Mn];var Qn=Hi.indexOf(Mn),Dr=Qn>-1;return Dr?Hi.filter(function(ui){return ui!==Mn}):[].concat((0,We.Z)(Hi),[Mn])})};(0,te.ZP)(!mr,"[rc-collapse] `children` will be removed in next major version. Please use `items` instead.");var eo=er(Yr,mr,{prefixCls:Un,accordion:ti,openMotion:wr,expandIcon:vr,collapsible:fr,destroyInactivePanel:ei,onItemClick:Ur,activeKey:Hi});return s.createElement("div",(0,xe.Z)({ref:fn,className:Fn,style:Wr,role:ti?"tablist":void 0},(0,Hn.Z)(dn,{aria:!0,data:!0})),eo)}),sn=Object.assign(Nt,{Panel:yt}),Xt=sn,Le=sn.Panel,$n=F(18051),cn=F(13635),En=F(26021),lt=F(98446),Gt=F(95741),fe=s.forwardRef((dn,fn)=>{const{getPrefixCls:xr}=s.useContext(lt.E_),{prefixCls:Un,className:Xr,showArrow:ei=!0}=dn,Wr=xr("collapse",Un),ti=c()({[`${Wr}-no-arrow`]:!ei},Xr);return s.createElement(Xt.Panel,Object.assign({ref:fn},dn,{prefixCls:Wr,className:ti}))}),Wt=F(55921),hi=F(34299),Jr=F(40894),Te=F(84825),Pn=F(83509);const Lr=dn=>{const{componentCls:fn,contentBg:xr,padding:Un,headerBg:Xr,headerPadding:ei,collapseHeaderPaddingSM:Wr,collapseHeaderPaddingLG:ti,collapsePanelBorderRadius:gr,lineWidth:mr,lineType:fr,colorBorder:wr,colorText:vr,colorTextHeading:jr,colorTextDisabled:Xn,fontSizeLG:lr,lineHeight:Yr,lineHeightLG:Fn,marginSM:Si,paddingSM:mi,paddingLG:Hi,paddingXS:ho,motionDurationSlow:Ur,fontSizeIcon:eo,contentPadding:en,fontHeight:Mn,fontHeightLG:Qn}=dn,Dr=`${(0,Wt.bf)(mr)} ${fr} ${wr}`;return{[fn]:Object.assign(Object.assign({},(0,hi.Wf)(dn)),{backgroundColor:Xr,border:Dr,borderRadius:gr,"&-rtl":{direction:"rtl"},[`& > ${fn}-item`]:{borderBottom:Dr,"&:first-child":{[`
            &,
            & > ${fn}-header`]:{borderRadius:`${(0,Wt.bf)(gr)} ${(0,Wt.bf)(gr)} 0 0`}},"&:last-child":{[`
            &,
            & > ${fn}-header`]:{borderRadius:`0 0 ${(0,Wt.bf)(gr)} ${(0,Wt.bf)(gr)}`}},[`> ${fn}-header`]:Object.assign(Object.assign({position:"relative",display:"flex",flexWrap:"nowrap",alignItems:"flex-start",padding:ei,color:jr,lineHeight:Yr,cursor:"pointer",transition:`all ${Ur}, visibility 0s`},(0,hi.Qy)(dn)),{[`> ${fn}-header-text`]:{flex:"auto"},[`${fn}-expand-icon`]:{height:Mn,display:"flex",alignItems:"center",paddingInlineEnd:Si},[`${fn}-arrow`]:Object.assign(Object.assign({},(0,hi.Ro)()),{fontSize:eo,transition:`transform ${Ur}`,svg:{transition:`transform ${Ur}`}}),[`${fn}-header-text`]:{marginInlineEnd:"auto"}}),[`${fn}-collapsible-header`]:{cursor:"default",[`${fn}-header-text`]:{flex:"none",cursor:"pointer"}},[`${fn}-collapsible-icon`]:{cursor:"unset",[`${fn}-expand-icon`]:{cursor:"pointer"}}},[`${fn}-content`]:{color:vr,backgroundColor:xr,borderTop:Dr,[`& > ${fn}-content-box`]:{padding:en},"&-hidden":{display:"none"}},"&-small":{[`> ${fn}-item`]:{[`> ${fn}-header`]:{padding:Wr,paddingInlineStart:ho,[`> ${fn}-expand-icon`]:{marginInlineStart:dn.calc(mi).sub(ho).equal()}},[`> ${fn}-content > ${fn}-content-box`]:{padding:mi}}},"&-large":{[`> ${fn}-item`]:{fontSize:lr,lineHeight:Fn,[`> ${fn}-header`]:{padding:ti,paddingInlineStart:Un,[`> ${fn}-expand-icon`]:{height:Qn,marginInlineStart:dn.calc(Hi).sub(Un).equal()}},[`> ${fn}-content > ${fn}-content-box`]:{padding:Hi}}},[`${fn}-item:last-child`]:{borderBottom:0,[`> ${fn}-content`]:{borderRadius:`0 0 ${(0,Wt.bf)(gr)} ${(0,Wt.bf)(gr)}`}},[`& ${fn}-item-disabled > ${fn}-header`]:{"\n          &,\n          & > .arrow\n        ":{color:Xn,cursor:"not-allowed"}},[`&${fn}-icon-position-end`]:{[`& > ${fn}-item`]:{[`> ${fn}-header`]:{[`${fn}-expand-icon`]:{order:1,paddingInlineEnd:0,paddingInlineStart:Si}}}}})}},kr=dn=>{const{componentCls:fn}=dn,xr=`> ${fn}-item > ${fn}-header ${fn}-arrow`;return{[`${fn}-rtl`]:{[xr]:{transform:"rotate(180deg)"}}}},In=dn=>{const{componentCls:fn,headerBg:xr,paddingXXS:Un,colorBorder:Xr}=dn;return{[`${fn}-borderless`]:{backgroundColor:xr,border:0,[`> ${fn}-item`]:{borderBottom:`1px solid ${Xr}`},[`
        > ${fn}-item:last-child,
        > ${fn}-item:last-child ${fn}-header
      `]:{borderRadius:0},[`> ${fn}-item:last-child`]:{borderBottom:0},[`> ${fn}-item > ${fn}-content`]:{backgroundColor:"transparent",borderTop:0},[`> ${fn}-item > ${fn}-content > ${fn}-content-box`]:{paddingTop:Un}}}},Nr=dn=>{const{componentCls:fn,paddingSM:xr}=dn;return{[`${fn}-ghost`]:{backgroundColor:"transparent",border:0,[`> ${fn}-item`]:{borderBottom:0,[`> ${fn}-content`]:{backgroundColor:"transparent",border:0,[`> ${fn}-content-box`]:{paddingBlock:xr}}}}}},vi=dn=>({headerPadding:`${dn.paddingSM}px ${dn.padding}px`,headerBg:dn.colorFillAlter,contentPadding:`${dn.padding}px 16px`,contentBg:dn.colorBgContainer});var sr=(0,Te.I$)("Collapse",dn=>{const fn=(0,Pn.IX)(dn,{collapseHeaderPaddingSM:`${(0,Wt.bf)(dn.paddingXS)} ${(0,Wt.bf)(dn.paddingSM)}`,collapseHeaderPaddingLG:`${(0,Wt.bf)(dn.padding)} ${(0,Wt.bf)(dn.paddingLG)}`,collapsePanelBorderRadius:dn.borderRadiusLG});return[Lr(fn),In(fn),Nr(fn),kr(fn),(0,Jr.Z)(fn)]},vi),Ot=Object.assign(s.forwardRef((dn,fn)=>{const{getPrefixCls:xr,direction:Un,expandIcon:Xr,className:ei,style:Wr}=(0,lt.dj)("collapse"),{prefixCls:ti,className:gr,rootClassName:mr,style:fr,bordered:wr=!0,ghost:vr,size:jr,expandIconPosition:Xn="start",children:lr,expandIcon:Yr}=dn,Fn=(0,Gt.Z)(oi=>{var Xi;return(Xi=jr!=null?jr:oi)!==null&&Xi!==void 0?Xi:"middle"}),Si=xr("collapse",ti),mi=xr(),[Hi,ho,Ur]=sr(Si),eo=s.useMemo(()=>Xn==="left"?"start":Xn==="right"?"end":Xn,[Xn]),en=Yr!=null?Yr:Xr,Mn=s.useCallback(function(){let oi=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const Xi=typeof en=="function"?en(oi):s.createElement(ot.Z,{rotate:oi.isActive?Un==="rtl"?-90:90:void 0,"aria-label":oi.isActive?"expanded":"collapsed"});return(0,En.Tm)(Xi,()=>{var Ji;return{className:c()((Ji=Xi==null?void 0:Xi.props)===null||Ji===void 0?void 0:Ji.className,`${Si}-arrow`)}})},[en,Si]),Qn=c()(`${Si}-icon-position-${eo}`,{[`${Si}-borderless`]:!wr,[`${Si}-rtl`]:Un==="rtl",[`${Si}-ghost`]:!!vr,[`${Si}-${Fn}`]:Fn!=="middle"},ei,gr,mr,ho,Ur),Dr=Object.assign(Object.assign({},(0,cn.Z)(mi)),{motionAppear:!1,leavedClassName:`${Si}-content-hidden`}),ui=s.useMemo(()=>lr?(0,$e.Z)(lr).map((oi,Xi)=>{var Ji,Ro;const xo=oi.props;if(xo!=null&&xo.disabled){const io=(Ji=oi.key)!==null&&Ji!==void 0?Ji:String(Xi),Oe=Object.assign(Object.assign({},(0,$n.Z)(oi.props,["disabled"])),{key:io,collapsible:(Ro=xo.collapsible)!==null&&Ro!==void 0?Ro:"disabled"});return(0,En.Tm)(oi,Oe)}return oi}):null,[lr]);return Hi(s.createElement(Xt,Object.assign({ref:fn,openMotion:Dr},(0,$n.Z)(dn,["rootClassName"]),{expandIcon:Mn,prefixCls:Si,className:Qn,style:Object.assign(Object.assign({},Wr),fr)}),ui))}),{Panel:fe}),zn=Ot},82227:function(Zr,jt,F){"use strict";F.d(jt,{Ot:function(){return c},y9:function(){return We}});var s=F(59295),ot=F(45985),Y=F(2180);const c=(Fe,Me)=>(Fe==null?void 0:Fe.replace(/[^\w/]/g,"").slice(0,Me?8:6))||"",xe=(Fe,Me)=>Fe?c(Fe,Me):"";let We=function(){function Fe(Me){(0,s.Z)(this,Fe);var ve;if(this.cleared=!1,Me instanceof Fe){this.metaColor=Me.metaColor.clone(),this.colors=(ve=Me.colors)===null||ve===void 0?void 0:ve.map(Ke=>({color:new Fe(Ke.color),percent:Ke.percent})),this.cleared=Me.cleared;return}const te=Array.isArray(Me);te&&Me.length?(this.colors=Me.map(Ke=>{let{color:$e,percent:He}=Ke;return{color:new Fe($e),percent:He}}),this.metaColor=new Y.Il(this.colors[0].color.metaColor)):this.metaColor=new Y.Il(te?"":Me),(!Me||te&&!this.colors)&&(this.metaColor=this.metaColor.setA(0),this.cleared=!0)}return(0,ot.Z)(Fe,[{key:"toHsb",value:function(){return this.metaColor.toHsb()}},{key:"toHsbString",value:function(){return this.metaColor.toHsbString()}},{key:"toHex",value:function(){return xe(this.toHexString(),this.metaColor.a<1)}},{key:"toHexString",value:function(){return this.metaColor.toHexString()}},{key:"toRgb",value:function(){return this.metaColor.toRgb()}},{key:"toRgbString",value:function(){return this.metaColor.toRgbString()}},{key:"isGradient",value:function(){return!!this.colors&&!this.cleared}},{key:"getColors",value:function(){return this.colors||[{color:this,percent:0}]}},{key:"toCssString",value:function(){const{colors:ve}=this;return ve?`linear-gradient(90deg, ${ve.map(Ke=>`${Ke.color.toRgbString()} ${Ke.percent}%`).join(", ")})`:this.metaColor.toRgbString()}},{key:"equals",value:function(ve){return!ve||this.isGradient()!==ve.isGradient()?!1:this.isGradient()?this.colors.length===ve.colors.length&&this.colors.every((te,Ke)=>{const $e=ve.colors[Ke];return te.percent===$e.percent&&te.color.equals($e.color)}):this.toHexString()===ve.toHexString()}}])}()},29230:function(Zr,jt,F){"use strict";F.d(jt,{U:function(){return Ke}});var s=F(75271),ot=F(2180),Y=F(82187),c=F.n(Y),xe=F(93954),We=F(62023),Fe=F(77648),Me=F(67699),ve=F(70395);const te=qe=>qe.map(dt=>(dt.colors=dt.colors.map(ve.vC),dt)),Ke=(qe,dt)=>{const{r:Je,g:ht,b:bt,a:Ue}=qe.toRgb(),kt=new ot.Il(qe.toRgbString()).onBackground(dt).toHsv();return Ue<=.5?kt.v>.5:Je*.299+ht*.587+bt*.114>192},$e=(qe,dt)=>{var Je;return`panel-${(Je=qe.key)!==null&&Je!==void 0?Je:dt}`},He=qe=>{let{prefixCls:dt,presets:Je,value:ht,onChange:bt}=qe;const[Ue]=(0,Fe.Z)("ColorPicker"),[,kt]=(0,Me.ZP)(),[yt]=(0,xe.Z)(te(Je),{value:te(Je),postState:te}),Et=`${dt}-presets`,Vt=(0,s.useMemo)(()=>yt.reduce((er,Hn,Ze)=>{const{defaultOpen:Nt=!0}=Hn;return Nt&&er.push($e(Hn,Ze)),er},[]),[yt]),Lt=er=>{bt==null||bt(er)},hr=yt.map((er,Hn)=>{var Ze;return{key:$e(er,Hn),label:s.createElement("div",{className:`${Et}-label`},er==null?void 0:er.label),children:s.createElement("div",{className:`${Et}-items`},Array.isArray(er==null?void 0:er.colors)&&((Ze=er.colors)===null||Ze===void 0?void 0:Ze.length)>0?er.colors.map((Nt,sn)=>s.createElement(ot.G5,{key:`preset-${sn}-${Nt.toHexString()}`,color:(0,ve.vC)(Nt).toRgbString(),prefixCls:dt,className:c()(`${Et}-color`,{[`${Et}-color-checked`]:Nt.toHexString()===(ht==null?void 0:ht.toHexString()),[`${Et}-color-bright`]:Ke(Nt,kt.colorBgElevated)}),onClick:()=>Lt(Nt)})):s.createElement("span",{className:`${Et}-empty`},Ue.presetEmpty))}});return s.createElement("div",{className:Et},s.createElement(We.Z,{defaultActiveKey:Vt,ghost:!0,items:hr}))};jt.Z=He},89874:function(Zr,jt,F){"use strict";F.d(jt,{Z:function(){return vn}});var s=F(75271),ot=F(82187),Y=F.n(ot),c=F(93954),xe=F(78018),We=F(52445),Fe=F(94773),Me=F(98446),ve=F(98472),te=F(38437),Ke=F(95741),$e=F(60824),He=F(60916),qe=F(23137),dt=F(82227),Je=F(67567),ht=F(46865),bt=F(2180),Ue=F(92076),kt=F(82162);const yt=s.createContext({}),Et=s.createContext({});var Vt=F(70395),hr=Xe=>{let{prefixCls:Mt,value:Ht,onChange:Qt}=Xe;const ct=()=>{if(Qt&&Ht&&!Ht.cleared){const rt=Ht.toHsb();rt.a=0;const xn=(0,Vt.vC)(rt);xn.cleared=!0,Qt(xn)}};return s.createElement("div",{className:`${Mt}-clear`,onClick:ct})},er=F(30142);const Hn="hex",Ze="rgb",Nt="hsb";var sn=F(33839),Le=Xe=>{let{prefixCls:Mt,min:Ht=0,max:Qt=100,value:ct,onChange:rt,className:xn,formatter:yn}=Xe;const Zn=`${Mt}-steppers`,[_r,ir]=(0,s.useState)(ct);return(0,s.useEffect)(()=>{Number.isNaN(ct)||ir(ct)},[ct]),s.createElement(sn.Z,{className:Y()(Zn,xn),min:Ht,max:Qt,value:_r,formatter:yn,size:"small",onChange:Or=>{ct||ir(Or||0),rt==null||rt(Or)}})},cn=Xe=>{let{prefixCls:Mt,value:Ht,onChange:Qt}=Xe;const ct=`${Mt}-alpha-input`,[rt,xn]=(0,s.useState)((0,Vt.vC)(Ht||"#000"));(0,s.useEffect)(()=>{Ht&&xn(Ht)},[Ht]);const yn=Zn=>{const _r=rt.toHsb();_r.a=(Zn||0)/100;const ir=(0,Vt.vC)(_r);Ht||xn(ir),Qt==null||Qt(ir)};return s.createElement(Le,{value:(0,Vt.uZ)(rt),prefixCls:Mt,formatter:Zn=>`${Zn}%`,className:ct,onChange:yn})},En=F(58793);const lt=/(^#[\da-f]{6}$)|(^#[\da-f]{8}$)/i,Gt=Xe=>lt.test(`#${Xe}`);var fe=Xe=>{let{prefixCls:Mt,value:Ht,onChange:Qt}=Xe;const ct=`${Mt}-hex-input`,[rt,xn]=(0,s.useState)(()=>Ht?(0,dt.Ot)(Ht.toHexString()):void 0);(0,s.useEffect)(()=>{Ht&&xn((0,dt.Ot)(Ht.toHexString()))},[Ht]);const yn=Zn=>{const _r=Zn.target.value;xn((0,dt.Ot)(_r)),Gt((0,dt.Ot)(_r,!0))&&(Qt==null||Qt((0,Vt.vC)(_r)))};return s.createElement(En.Z,{className:ct,value:rt,prefix:"#",onChange:yn,size:"small"})},hi=Xe=>{let{prefixCls:Mt,value:Ht,onChange:Qt}=Xe;const ct=`${Mt}-hsb-input`,[rt,xn]=(0,s.useState)((0,Vt.vC)(Ht||"#000"));(0,s.useEffect)(()=>{Ht&&xn(Ht)},[Ht]);const yn=(Zn,_r)=>{const ir=rt.toHsb();ir[_r]=_r==="h"?Zn:(Zn||0)/100;const Or=(0,Vt.vC)(ir);Ht||xn(Or),Qt==null||Qt(Or)};return s.createElement("div",{className:ct},s.createElement(Le,{max:360,min:0,value:Number(rt.toHsb().h),prefixCls:Mt,className:ct,formatter:Zn=>(0,Vt.lx)(Zn||0).toString(),onChange:Zn=>yn(Number(Zn),"h")}),s.createElement(Le,{max:100,min:0,value:Number(rt.toHsb().s)*100,prefixCls:Mt,className:ct,formatter:Zn=>`${(0,Vt.lx)(Zn||0)}%`,onChange:Zn=>yn(Number(Zn),"s")}),s.createElement(Le,{max:100,min:0,value:Number(rt.toHsb().b)*100,prefixCls:Mt,className:ct,formatter:Zn=>`${(0,Vt.lx)(Zn||0)}%`,onChange:Zn=>yn(Number(Zn),"b")}))},Te=Xe=>{let{prefixCls:Mt,value:Ht,onChange:Qt}=Xe;const ct=`${Mt}-rgb-input`,[rt,xn]=(0,s.useState)((0,Vt.vC)(Ht||"#000"));(0,s.useEffect)(()=>{Ht&&xn(Ht)},[Ht]);const yn=(Zn,_r)=>{const ir=rt.toRgb();ir[_r]=Zn||0;const Or=(0,Vt.vC)(ir);Ht||xn(Or),Qt==null||Qt(Or)};return s.createElement("div",{className:ct},s.createElement(Le,{max:255,min:0,value:Number(rt.toRgb().r),prefixCls:Mt,className:ct,onChange:Zn=>yn(Number(Zn),"r")}),s.createElement(Le,{max:255,min:0,value:Number(rt.toRgb().g),prefixCls:Mt,className:ct,onChange:Zn=>yn(Number(Zn),"g")}),s.createElement(Le,{max:255,min:0,value:Number(rt.toRgb().b),prefixCls:Mt,className:ct,onChange:Zn=>yn(Number(Zn),"b")}))};const Pn=[Hn,Nt,Ze].map(Xe=>({value:Xe,label:Xe.toUpperCase()}));var kr=Xe=>{const{prefixCls:Mt,format:Ht,value:Qt,disabledAlpha:ct,onFormatChange:rt,onChange:xn,disabledFormat:yn}=Xe,[Zn,_r]=(0,c.Z)(Hn,{value:Ht,onChange:rt}),ir=`${Mt}-input`,Or=ii=>{_r(ii)},Qr=(0,s.useMemo)(()=>{const ii={value:Qt,prefixCls:Mt,onChange:xn};switch(Zn){case Nt:return s.createElement(hi,Object.assign({},ii));case Ze:return s.createElement(Te,Object.assign({},ii));default:return s.createElement(fe,Object.assign({},ii))}},[Zn,Mt,Qt,xn]);return s.createElement("div",{className:`${ir}-container`},!yn&&s.createElement(er.default,{value:Zn,variant:"borderless",getPopupContainer:ii=>ii,popupMatchSelectWidth:68,placement:"bottomRight",onChange:Or,className:`${Mt}-format-select`,size:"small",options:Pn}),s.createElement("div",{className:ir},Qr),!ct&&s.createElement(cn,{prefixCls:Mt,value:Qt,onChange:xn}))},In=F(28661),Nr=F(59373),vi=F(80300),sr=F(14391),it=function(Xe,Mt){var Ht={};for(var Qt in Xe)Object.prototype.hasOwnProperty.call(Xe,Qt)&&Mt.indexOf(Qt)<0&&(Ht[Qt]=Xe[Qt]);if(Xe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ct=0,Qt=Object.getOwnPropertySymbols(Xe);ct<Qt.length;ct++)Mt.indexOf(Qt[ct])<0&&Object.prototype.propertyIsEnumerable.call(Xe,Qt[ct])&&(Ht[Qt[ct]]=Xe[Qt[ct]]);return Ht};const Ot=Xe=>{const{prefixCls:Mt,colors:Ht,type:Qt,color:ct,range:rt=!1,className:xn,activeIndex:yn,onActive:Zn,onDragStart:_r,onDragChange:ir,onKeyDelete:Or}=Xe,Qr=it(Xe,["prefixCls","colors","type","color","range","className","activeIndex","onActive","onDragStart","onDragChange","onKeyDelete"]),ii=Object.assign(Object.assign({},Qr),{track:!1}),Ui=s.useMemo(()=>`linear-gradient(90deg, ${Ht.map(fo=>`${fo.color} ${fo.percent}%`).join(", ")})`,[Ht]),mt=s.useMemo(()=>!ct||!Qt?null:Qt==="alpha"?ct.toRgbString():`hsl(${ct.toHsb().h}, 100%, 50%)`,[ct,Qt]),_n=(0,Nr.Z)(_r),Ut=(0,Nr.Z)(ir),An=s.useMemo(()=>({onDragStart:_n,onDragChange:Ut}),[]),or=(0,Nr.Z)((Mi,fo)=>{const{onFocus:$i,style:Qi,className:co,onKeyDown:Ni}=Mi.props,Io=Object.assign({},Qi);return Qt==="gradient"&&(Io.background=(0,Vt.AO)(Ht,fo.value)),s.cloneElement(Mi,{onFocus:Wo=>{Zn==null||Zn(fo.index),$i==null||$i(Wo)},style:Io,className:Y()(co,{[`${Mt}-slider-handle-active`]:yn===fo.index}),onKeyDown:Wo=>{(Wo.key==="Delete"||Wo.key==="Backspace")&&Or&&Or(fo.index),Ni==null||Ni(Wo)}})}),qr=s.useMemo(()=>({direction:"ltr",handleRender:or}),[]);return s.createElement(sr.Z.Provider,{value:qr},s.createElement(In.y.Provider,{value:An},s.createElement(vi.Z,Object.assign({},ii,{className:Y()(xn,`${Mt}-slider`),tooltip:{open:!1},range:{editable:rt,minCount:2},styles:{rail:{background:Ui},handle:mt?{background:mt}:{}},classNames:{rail:`${Mt}-slider-rail`,handle:`${Mt}-slider-handle`}}))))};var dn=Xe=>{const{value:Mt,onChange:Ht,onChangeComplete:Qt}=Xe,ct=xn=>Ht(xn[0]),rt=xn=>Qt(xn[0]);return s.createElement(Ot,Object.assign({},Xe,{value:[Mt],onChange:ct,onChangeComplete:rt}))};function fn(Xe){return(0,ht.Z)(Xe).sort((Mt,Ht)=>Mt.percent-Ht.percent)}const xr=Xe=>{const{prefixCls:Mt,mode:Ht,onChange:Qt,onChangeComplete:ct,onActive:rt,activeIndex:xn,onGradientDragging:yn,colors:Zn}=Xe,_r=Ht==="gradient",ir=s.useMemo(()=>Zn.map(Ut=>({percent:Ut.percent,color:Ut.color.toRgbString()})),[Zn]),Or=s.useMemo(()=>ir.map(Ut=>Ut.percent),[ir]),Qr=s.useRef(ir),ii=Ut=>{let{rawValues:An,draggingIndex:or,draggingValue:qr}=Ut;if(An.length>ir.length){const Mi=(0,Vt.AO)(ir,qr),fo=(0,ht.Z)(ir);fo.splice(or,0,{percent:qr,color:Mi}),Qr.current=fo}else Qr.current=ir;yn(!0),Qt(new dt.y9(fn(Qr.current)),!0)},Ui=Ut=>{let{deleteIndex:An,draggingIndex:or,draggingValue:qr}=Ut,Mi=(0,ht.Z)(Qr.current);An!==-1?Mi.splice(An,1):(Mi[or]=Object.assign(Object.assign({},Mi[or]),{percent:qr}),Mi=fn(Mi)),Qt(new dt.y9(Mi),!0)},mt=Ut=>{const An=(0,ht.Z)(ir);An.splice(Ut,1);const or=new dt.y9(An);Qt(or),ct(or)},_n=Ut=>{ct(new dt.y9(ir)),xn>=Ut.length&&rt(Ut.length-1),yn(!1)};return _r?s.createElement(Ot,{min:0,max:100,prefixCls:Mt,className:`${Mt}-gradient-slider`,colors:ir,color:null,value:Or,range:!0,onChangeComplete:_n,disabled:!1,type:"gradient",activeIndex:xn,onActive:rt,onDragStart:ii,onDragChange:Ui,onKeyDelete:mt}):null};var Un=s.memo(xr),Xr=function(Xe,Mt){var Ht={};for(var Qt in Xe)Object.prototype.hasOwnProperty.call(Xe,Qt)&&Mt.indexOf(Qt)<0&&(Ht[Qt]=Xe[Qt]);if(Xe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ct=0,Qt=Object.getOwnPropertySymbols(Xe);ct<Qt.length;ct++)Mt.indexOf(Qt[ct])<0&&Object.prototype.propertyIsEnumerable.call(Xe,Qt[ct])&&(Ht[Qt[ct]]=Xe[Qt[ct]]);return Ht};const ei={slider:dn};var ti=()=>{const Xe=(0,s.useContext)(yt),{mode:Mt,onModeChange:Ht,modeOptions:Qt,prefixCls:ct,allowClear:rt,value:xn,disabledAlpha:yn,onChange:Zn,onClear:_r,onChangeComplete:ir,activeIndex:Or,gradientDragging:Qr}=Xe,ii=Xr(Xe,["mode","onModeChange","modeOptions","prefixCls","allowClear","value","disabledAlpha","onChange","onClear","onChangeComplete","activeIndex","gradientDragging"]),Ui=s.useMemo(()=>xn.cleared?[{percent:0,color:new dt.y9("")},{percent:100,color:new dt.y9("")}]:xn.getColors(),[xn]),mt=!xn.isGradient(),[_n,Ut]=s.useState(xn);(0,Ue.Z)(()=>{var vo;mt||Ut((vo=Ui[Or])===null||vo===void 0?void 0:vo.color)},[Qr,Or]);const An=s.useMemo(()=>{var vo;return mt?xn:Qr?_n:(vo=Ui[Or])===null||vo===void 0?void 0:vo.color},[xn,Or,mt,_n,Qr]),[or,qr]=s.useState(An),[Mi,fo]=s.useState(0),$i=or!=null&&or.equals(An)?An:or;(0,Ue.Z)(()=>{qr(An)},[Mi,An==null?void 0:An.toHexString()]);const Qi=(vo,Oo)=>{let zo=(0,Vt.vC)(vo);if(xn.cleared){const to=zo.toRgb();if(!to.r&&!to.g&&!to.b&&Oo){const{type:Co,value:mo=0}=Oo;zo=new dt.y9({h:Co==="hue"?mo:0,s:1,b:1,a:Co==="alpha"?mo/100:1})}else zo=(0,Vt.T7)(zo)}if(Mt==="single")return zo;const Jo=(0,ht.Z)(Ui);return Jo[Or]=Object.assign(Object.assign({},Jo[Or]),{color:zo}),new dt.y9(Jo)},co=(vo,Oo,zo)=>{const Jo=Qi(vo,zo);qr(Jo.isGradient()?Jo.getColors()[Or].color:Jo),Zn(Jo,Oo)},Ni=(vo,Oo)=>{ir(Qi(vo,Oo)),fo(zo=>zo+1)},Io=vo=>{Zn(Qi(vo))};let Wo=null;const $o=Qt.length>1;return(rt||$o)&&(Wo=s.createElement("div",{className:`${ct}-operation`},$o&&s.createElement(kt.Z,{size:"small",options:Qt,value:Mt,onChange:Ht}),s.createElement(hr,Object.assign({prefixCls:ct,value:xn,onChange:vo=>{Zn(vo),_r==null||_r()}},ii)))),s.createElement(s.Fragment,null,Wo,s.createElement(Un,Object.assign({},Xe,{colors:Ui})),s.createElement(bt.ZP,{prefixCls:ct,value:$i==null?void 0:$i.toHsb(),disabledAlpha:yn,onChange:(vo,Oo)=>{co(vo,!0,Oo)},onChangeComplete:(vo,Oo)=>{Ni(vo,Oo)},components:ei}),s.createElement(kr,Object.assign({value:An,onChange:Io,prefixCls:ct,disabledAlpha:yn},ii)))},gr=F(29230),fr=()=>{const{prefixCls:Xe,value:Mt,presets:Ht,onChange:Qt}=(0,s.useContext)(Et);return Array.isArray(Ht)?s.createElement(gr.Z,{value:Mt,presets:Ht,prefixCls:Xe,onChange:Qt}):null},vr=Xe=>{const{prefixCls:Mt,presets:Ht,panelRender:Qt,value:ct,onChange:rt,onClear:xn,allowClear:yn,disabledAlpha:Zn,mode:_r,onModeChange:ir,modeOptions:Or,onChangeComplete:Qr,activeIndex:ii,onActive:Ui,format:mt,onFormatChange:_n,gradientDragging:Ut,onGradientDragging:An,disabledFormat:or}=Xe,qr=`${Mt}-inner`,Mi=s.useMemo(()=>({prefixCls:Mt,value:ct,onChange:rt,onClear:xn,allowClear:yn,disabledAlpha:Zn,mode:_r,onModeChange:ir,modeOptions:Or,onChangeComplete:Qr,activeIndex:ii,onActive:Ui,format:mt,onFormatChange:_n,gradientDragging:Ut,onGradientDragging:An,disabledFormat:or}),[Mt,ct,rt,xn,yn,Zn,_r,ir,Or,Qr,ii,Ui,mt,_n,Ut,An,or]),fo=s.useMemo(()=>({prefixCls:Mt,value:ct,presets:Ht,onChange:rt}),[Mt,ct,Ht,rt]),$i=s.createElement("div",{className:`${qr}-content`},s.createElement(ti,null),Array.isArray(Ht)&&s.createElement(Je.Z,null),s.createElement(fr,null));return s.createElement(yt.Provider,{value:Mi},s.createElement(Et.Provider,{value:fo},s.createElement("div",{className:qr},typeof Qt=="function"?Qt($i,{components:{Picker:ti,Presets:fr}}):$i)))},jr=F(71305),Xn=F(77648),lr=function(Xe,Mt){var Ht={};for(var Qt in Xe)Object.prototype.hasOwnProperty.call(Xe,Qt)&&Mt.indexOf(Qt)<0&&(Ht[Qt]=Xe[Qt]);if(Xe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ct=0,Qt=Object.getOwnPropertySymbols(Xe);ct<Qt.length;ct++)Mt.indexOf(Qt[ct])<0&&Object.prototype.propertyIsEnumerable.call(Xe,Qt[ct])&&(Ht[Qt[ct]]=Xe[Qt[ct]]);return Ht},Fn=(0,s.forwardRef)((Xe,Mt)=>{const{color:Ht,prefixCls:Qt,open:ct,disabled:rt,format:xn,className:yn,showText:Zn,activeIndex:_r}=Xe,ir=lr(Xe,["color","prefixCls","open","disabled","format","className","showText","activeIndex"]),Or=`${Qt}-trigger`,Qr=`${Or}-text`,ii=`${Qr}-cell`,[Ui]=(0,Xn.Z)("ColorPicker"),mt=s.useMemo(()=>{if(!Zn)return"";if(typeof Zn=="function")return Zn(Ht);if(Ht.cleared)return Ui.transparent;if(Ht.isGradient())return Ht.getColors().map((or,qr)=>{const Mi=_r!==-1&&_r!==qr;return s.createElement("span",{key:qr,className:Y()(ii,Mi&&`${ii}-inactive`)},or.color.toRgbString()," ",or.percent,"%")});const Ut=Ht.toHexString().toUpperCase(),An=(0,Vt.uZ)(Ht);switch(xn){case"rgb":return Ht.toRgbString();case"hsb":return Ht.toHsbString();default:return An<100?`${Ut.slice(0,7)},${An}%`:Ut}},[Ht,xn,Zn,_r]),_n=(0,s.useMemo)(()=>Ht.cleared?s.createElement(hr,{prefixCls:Qt}):s.createElement(bt.G5,{prefixCls:Qt,color:Ht.toCssString()}),[Ht,Qt]);return s.createElement("div",Object.assign({ref:Mt,className:Y()(Or,yn,{[`${Or}-active`]:ct,[`${Or}-disabled`]:rt})},(0,jr.Z)(ir)),_n,Zn&&s.createElement("div",{className:Qr},mt))});function Si(Xe,Mt,Ht){const[Qt]=(0,Xn.Z)("ColorPicker"),[ct,rt]=(0,c.Z)(Xe,{value:Mt}),[xn,yn]=s.useState("single"),[Zn,_r]=s.useMemo(()=>{const mt=(Array.isArray(Ht)?Ht:[Ht]).filter(or=>or);mt.length||mt.push("single");const _n=new Set(mt),Ut=[],An=(or,qr)=>{_n.has(or)&&Ut.push({label:qr,value:or})};return An("single",Qt.singleColor),An("gradient",Qt.gradientColor),[Ut,_n]},[Ht]),[ir,Or]=s.useState(null),Qr=(0,Nr.Z)(mt=>{Or(mt),rt(mt)}),ii=s.useMemo(()=>{const mt=(0,Vt.vC)(ct||"");return mt.equals(ir)?ir:mt},[ct,ir]),Ui=s.useMemo(()=>{var mt;return _r.has(xn)?xn:(mt=Zn[0])===null||mt===void 0?void 0:mt.value},[_r,xn,Zn]);return s.useEffect(()=>{yn(ii.isGradient()?"gradient":"single")},[ii]),[ii,Qr,Ui,yn,Zn]}var mi=F(55921),Hi=F(9288),ho=F(84825),Ur=F(83509);const eo=(Xe,Mt)=>({backgroundImage:`conic-gradient(${Mt} 0 25%, transparent 0 50%, ${Mt} 0 75%, transparent 0)`,backgroundSize:`${Xe} ${Xe}`});var Mn=(Xe,Mt)=>{const{componentCls:Ht,borderRadiusSM:Qt,colorPickerInsetShadow:ct,lineWidth:rt,colorFillSecondary:xn}=Xe;return{[`${Ht}-color-block`]:Object.assign(Object.assign({position:"relative",borderRadius:Qt,width:Mt,height:Mt,boxShadow:ct,flex:"none"},eo("50%",Xe.colorFillSecondary)),{[`${Ht}-color-block-inner`]:{width:"100%",height:"100%",boxShadow:`inset 0 0 0 ${(0,mi.bf)(rt)} ${xn}`,borderRadius:"inherit"}})}},Dr=Xe=>{const{componentCls:Mt,antCls:Ht,fontSizeSM:Qt,lineHeightSM:ct,colorPickerAlphaInputWidth:rt,marginXXS:xn,paddingXXS:yn,controlHeightSM:Zn,marginXS:_r,fontSizeIcon:ir,paddingXS:Or,colorTextPlaceholder:Qr,colorPickerInputNumberHandleWidth:ii,lineWidth:Ui}=Xe;return{[`${Mt}-input-container`]:{display:"flex",[`${Mt}-steppers${Ht}-input-number`]:{fontSize:Qt,lineHeight:ct,[`${Ht}-input-number-input`]:{paddingInlineStart:yn,paddingInlineEnd:0},[`${Ht}-input-number-handler-wrap`]:{width:ii}},[`${Mt}-steppers${Mt}-alpha-input`]:{flex:`0 0 ${(0,mi.bf)(rt)}`,marginInlineStart:xn},[`${Mt}-format-select${Ht}-select`]:{marginInlineEnd:_r,width:"auto","&-single":{[`${Ht}-select-selector`]:{padding:0,border:0},[`${Ht}-select-arrow`]:{insetInlineEnd:0},[`${Ht}-select-selection-item`]:{paddingInlineEnd:Xe.calc(ir).add(xn).equal(),fontSize:Qt,lineHeight:(0,mi.bf)(Zn)},[`${Ht}-select-item-option-content`]:{fontSize:Qt,lineHeight:ct},[`${Ht}-select-dropdown`]:{[`${Ht}-select-item`]:{minHeight:"auto"}}}},[`${Mt}-input`]:{gap:xn,alignItems:"center",flex:1,width:0,[`${Mt}-hsb-input,${Mt}-rgb-input`]:{display:"flex",gap:xn,alignItems:"center"},[`${Mt}-steppers`]:{flex:1},[`${Mt}-hex-input${Ht}-input-affix-wrapper`]:{flex:1,padding:`0 ${(0,mi.bf)(Or)}`,[`${Ht}-input`]:{fontSize:Qt,textTransform:"uppercase",lineHeight:(0,mi.bf)(Xe.calc(Zn).sub(Xe.calc(Ui).mul(2)).equal())},[`${Ht}-input-prefix`]:{color:Qr}}}}}},oi=Xe=>{const{componentCls:Mt,controlHeightLG:Ht,borderRadiusSM:Qt,colorPickerInsetShadow:ct,marginSM:rt,colorBgElevated:xn,colorFillSecondary:yn,lineWidthBold:Zn,colorPickerHandlerSize:_r}=Xe;return{userSelect:"none",[`${Mt}-select`]:{[`${Mt}-palette`]:{minHeight:Xe.calc(Ht).mul(4).equal(),overflow:"hidden",borderRadius:Qt},[`${Mt}-saturation`]:{position:"absolute",borderRadius:"inherit",boxShadow:ct,inset:0},marginBottom:rt},[`${Mt}-handler`]:{width:_r,height:_r,border:`${(0,mi.bf)(Zn)} solid ${xn}`,position:"relative",borderRadius:"50%",cursor:"pointer",boxShadow:`${ct}, 0 0 0 1px ${yn}`}}},Ji=Xe=>{const{componentCls:Mt,antCls:Ht,colorTextQuaternary:Qt,paddingXXS:ct,colorPickerPresetColorSize:rt,fontSizeSM:xn,colorText:yn,lineHeightSM:Zn,lineWidth:_r,borderRadius:ir,colorFill:Or,colorWhite:Qr,marginXXS:ii,paddingXS:Ui,fontHeightSM:mt}=Xe;return{[`${Mt}-presets`]:{[`${Ht}-collapse-item > ${Ht}-collapse-header`]:{padding:0,[`${Ht}-collapse-expand-icon`]:{height:mt,color:Qt,paddingInlineEnd:ct}},[`${Ht}-collapse`]:{display:"flex",flexDirection:"column",gap:ii},[`${Ht}-collapse-item > ${Ht}-collapse-content > ${Ht}-collapse-content-box`]:{padding:`${(0,mi.bf)(Ui)} 0`},"&-label":{fontSize:xn,color:yn,lineHeight:Zn},"&-items":{display:"flex",flexWrap:"wrap",gap:Xe.calc(ii).mul(1.5).equal(),[`${Mt}-presets-color`]:{position:"relative",cursor:"pointer",width:rt,height:rt,"&::before":{content:'""',pointerEvents:"none",width:Xe.calc(rt).add(Xe.calc(_r).mul(4)).equal(),height:Xe.calc(rt).add(Xe.calc(_r).mul(4)).equal(),position:"absolute",top:Xe.calc(_r).mul(-2).equal(),insetInlineStart:Xe.calc(_r).mul(-2).equal(),borderRadius:ir,border:`${(0,mi.bf)(_r)} solid transparent`,transition:`border-color ${Xe.motionDurationMid} ${Xe.motionEaseInBack}`},"&:hover::before":{borderColor:Or},"&::after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"21.5%",display:"table",width:Xe.calc(rt).div(13).mul(5).equal(),height:Xe.calc(rt).div(13).mul(8).equal(),border:`${(0,mi.bf)(Xe.lineWidthBold)} solid ${Xe.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${Xe.motionDurationFast} ${Xe.motionEaseInBack}, opacity ${Xe.motionDurationFast}`},[`&${Mt}-presets-color-checked`]:{"&::after":{opacity:1,borderColor:Qr,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`transform ${Xe.motionDurationMid} ${Xe.motionEaseOutBack} ${Xe.motionDurationFast}`},[`&${Mt}-presets-color-bright`]:{"&::after":{borderColor:"rgba(0, 0, 0, 0.45)"}}}}},"&-empty":{fontSize:xn,color:Qt}}}},xo=Xe=>{const{componentCls:Mt,colorPickerInsetShadow:Ht,colorBgElevated:Qt,colorFillSecondary:ct,lineWidthBold:rt,colorPickerHandlerSizeSM:xn,colorPickerSliderHeight:yn,marginSM:Zn,marginXS:_r}=Xe,ir=Xe.calc(xn).sub(Xe.calc(rt).mul(2).equal()).equal(),Or=Xe.calc(xn).add(Xe.calc(rt).mul(2).equal()).equal(),Qr={"&:after":{transform:"scale(1)",boxShadow:`${Ht}, 0 0 0 1px ${Xe.colorPrimaryActive}`}};return{[`${Mt}-slider`]:[eo((0,mi.bf)(yn),Xe.colorFillSecondary),{margin:0,padding:0,height:yn,borderRadius:Xe.calc(yn).div(2).equal(),"&-rail":{height:yn,borderRadius:Xe.calc(yn).div(2).equal(),boxShadow:Ht},[`& ${Mt}-slider-handle`]:{width:ir,height:ir,top:0,borderRadius:"100%","&:before":{display:"block",position:"absolute",background:"transparent",left:{_skip_check_:!0,value:"50%"},top:"50%",transform:"translate(-50%, -50%)",width:Or,height:Or,borderRadius:"100%"},"&:after":{width:xn,height:xn,border:`${(0,mi.bf)(rt)} solid ${Qt}`,boxShadow:`${Ht}, 0 0 0 1px ${ct}`,outline:"none",insetInlineStart:Xe.calc(rt).mul(-1).equal(),top:Xe.calc(rt).mul(-1).equal(),background:"transparent",transition:"none"},"&:focus":Qr}}],[`${Mt}-slider-container`]:{display:"flex",gap:Zn,marginBottom:Zn,[`${Mt}-slider-group`]:{flex:1,flexDirection:"column",justifyContent:"space-between",display:"flex","&-disabled-alpha":{justifyContent:"center"}}},[`${Mt}-gradient-slider`]:{marginBottom:_r,[`& ${Mt}-slider-handle`]:{"&:after":{transform:"scale(0.8)"},"&-active, &:focus":Qr}}}};const io=(Xe,Mt,Ht)=>({borderInlineEndWidth:Xe.lineWidth,borderColor:Mt,boxShadow:`0 0 0 ${(0,mi.bf)(Xe.controlOutlineWidth)} ${Ht}`,outline:0}),Oe=Xe=>{const{componentCls:Mt}=Xe;return{"&-rtl":{[`${Mt}-presets-color`]:{"&::after":{direction:"ltr"}},[`${Mt}-clear`]:{"&::after":{direction:"ltr"}}}}},de=(Xe,Mt,Ht)=>{const{componentCls:Qt,borderRadiusSM:ct,lineWidth:rt,colorSplit:xn,colorBorder:yn,red6:Zn}=Xe;return{[`${Qt}-clear`]:Object.assign(Object.assign({width:Mt,height:Mt,borderRadius:ct,border:`${(0,mi.bf)(rt)} solid ${xn}`,position:"relative",overflow:"hidden",cursor:"inherit",transition:`all ${Xe.motionDurationFast}`},Ht),{"&::after":{content:'""',position:"absolute",insetInlineEnd:Xe.calc(rt).mul(-1).equal(),top:Xe.calc(rt).mul(-1).equal(),display:"block",width:40,height:2,transformOrigin:"calc(100% - 1px) 1px",transform:"rotate(-45deg)",backgroundColor:Zn},"&:hover":{borderColor:yn}})}},X=Xe=>{const{componentCls:Mt,colorError:Ht,colorWarning:Qt,colorErrorHover:ct,colorWarningHover:rt,colorErrorOutline:xn,colorWarningOutline:yn}=Xe;return{[`&${Mt}-status-error`]:{borderColor:Ht,"&:hover":{borderColor:ct},[`&${Mt}-trigger-active`]:Object.assign({},io(Xe,Ht,xn))},[`&${Mt}-status-warning`]:{borderColor:Qt,"&:hover":{borderColor:rt},[`&${Mt}-trigger-active`]:Object.assign({},io(Xe,Qt,yn))}}},ke=Xe=>{const{componentCls:Mt,controlHeightLG:Ht,controlHeightSM:Qt,controlHeight:ct,controlHeightXS:rt,borderRadius:xn,borderRadiusSM:yn,borderRadiusXS:Zn,borderRadiusLG:_r,fontSizeLG:ir}=Xe;return{[`&${Mt}-lg`]:{minWidth:Ht,minHeight:Ht,borderRadius:_r,[`${Mt}-color-block, ${Mt}-clear`]:{width:ct,height:ct,borderRadius:xn},[`${Mt}-trigger-text`]:{fontSize:ir}},[`&${Mt}-sm`]:{minWidth:Qt,minHeight:Qt,borderRadius:yn,[`${Mt}-color-block, ${Mt}-clear`]:{width:rt,height:rt,borderRadius:Zn},[`${Mt}-trigger-text`]:{lineHeight:(0,mi.bf)(rt)}}}},he=Xe=>{const{antCls:Mt,componentCls:Ht,colorPickerWidth:Qt,colorPrimary:ct,motionDurationMid:rt,colorBgElevated:xn,colorTextDisabled:yn,colorText:Zn,colorBgContainerDisabled:_r,borderRadius:ir,marginXS:Or,marginSM:Qr,controlHeight:ii,controlHeightSM:Ui,colorBgTextActive:mt,colorPickerPresetColorSize:_n,colorPickerPreviewSize:Ut,lineWidth:An,colorBorder:or,paddingXXS:qr,fontSize:Mi,colorPrimaryHover:fo,controlOutline:$i}=Xe;return[{[Ht]:Object.assign({[`${Ht}-inner`]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({"&-content":{display:"flex",flexDirection:"column",width:Qt,[`& > ${Mt}-divider`]:{margin:`${(0,mi.bf)(Qr)} 0 ${(0,mi.bf)(Or)}`}},[`${Ht}-panel`]:Object.assign({},oi(Xe))},xo(Xe)),Mn(Xe,Ut)),Dr(Xe)),Ji(Xe)),de(Xe,_n,{marginInlineStart:"auto"})),{[`${Ht}-operation`]:{display:"flex",justifyContent:"space-between",marginBottom:Or}}),"&-trigger":Object.assign(Object.assign(Object.assign(Object.assign({minWidth:ii,minHeight:ii,borderRadius:ir,border:`${(0,mi.bf)(An)} solid ${or}`,cursor:"pointer",display:"inline-flex",alignItems:"flex-start",justifyContent:"center",transition:`all ${rt}`,background:xn,padding:Xe.calc(qr).sub(An).equal(),[`${Ht}-trigger-text`]:{marginInlineStart:Or,marginInlineEnd:Xe.calc(Or).sub(Xe.calc(qr).sub(An)).equal(),fontSize:Mi,color:Zn,alignSelf:"center","&-cell":{"&:not(:last-child):after":{content:'", "'},"&-inactive":{color:yn}}},"&:hover":{borderColor:fo},[`&${Ht}-trigger-active`]:Object.assign({},io(Xe,ct,$i)),"&-disabled":{color:yn,background:_r,cursor:"not-allowed","&:hover":{borderColor:mt},[`${Ht}-trigger-text`]:{color:yn}}},de(Xe,Ui)),Mn(Xe,Ui)),X(Xe)),ke(Xe))},Oe(Xe))},(0,Hi.c)(Xe,{focusElCls:`${Ht}-trigger-active`})]};var Ye=(0,ho.I$)("ColorPicker",Xe=>{const{colorTextQuaternary:Mt,marginSM:Ht}=Xe,Qt=8,ct=(0,Ur.IX)(Xe,{colorPickerWidth:234,colorPickerHandlerSize:16,colorPickerHandlerSizeSM:12,colorPickerAlphaInputWidth:44,colorPickerInputNumberHandleWidth:16,colorPickerPresetColorSize:24,colorPickerInsetShadow:`inset 0 0 1px 0 ${Mt}`,colorPickerSliderHeight:Qt,colorPickerPreviewSize:Xe.calc(Qt).mul(2).add(Ht).equal()});return[he(ct)]}),et=function(Xe,Mt){var Ht={};for(var Qt in Xe)Object.prototype.hasOwnProperty.call(Xe,Qt)&&Mt.indexOf(Qt)<0&&(Ht[Qt]=Xe[Qt]);if(Xe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ct=0,Qt=Object.getOwnPropertySymbols(Xe);ct<Qt.length;ct++)Mt.indexOf(Qt[ct])<0&&Object.prototype.propertyIsEnumerable.call(Xe,Qt[ct])&&(Ht[Qt[ct]]=Xe[Qt[ct]]);return Ht};const tn=Xe=>{const{mode:Mt,value:Ht,defaultValue:Qt,format:ct,defaultFormat:rt,allowClear:xn=!1,presets:yn,children:Zn,trigger:_r="click",open:ir,disabled:Or,placement:Qr="bottomLeft",arrow:ii=!0,panelRender:Ui,showText:mt,style:_n,className:Ut,size:An,rootClassName:or,prefixCls:qr,styles:Mi,disabledAlpha:fo=!1,onFormatChange:$i,onChange:Qi,onClear:co,onOpenChange:Ni,onChangeComplete:Io,getPopupContainer:Wo,autoAdjustOverflow:$o=!0,destroyTooltipOnHide:vo,disabledFormat:Oo}=Xe,zo=et(Xe,["mode","value","defaultValue","format","defaultFormat","allowClear","presets","children","trigger","open","disabled","placement","arrow","panelRender","showText","style","className","size","rootClassName","prefixCls","styles","disabledAlpha","onFormatChange","onChange","onClear","onOpenChange","onChangeComplete","getPopupContainer","autoAdjustOverflow","destroyTooltipOnHide","disabledFormat"]),{getPrefixCls:Jo,direction:to,colorPicker:Co}=(0,s.useContext)(Me.E_),mo=(0,s.useContext)(ve.Z),so=Or!=null?Or:mo,[Fi,Qo]=(0,c.Z)(!1,{value:ir,postState:zi=>!so&&zi,onChange:Ni}),[Rr,Ao]=(0,c.Z)(ct,{value:ct,defaultValue:rt,onChange:$i}),ea=Jo("color-picker",qr),[Na,ci,oa,Ta,Br]=Si(Qt,Ht,Mt),oo=(0,s.useMemo)(()=>(0,Vt.uZ)(Na)<100,[Na]),[No,Yo]=s.useState(null),uo=zi=>{if(Io){let Ai=(0,Vt.vC)(zi);fo&&oo&&(Ai=(0,Vt.T7)(zi)),Io(Ai)}},Ri=(zi,Ai)=>{let _o=(0,Vt.vC)(zi);fo&&oo&&(_o=(0,Vt.T7)(_o)),ci(_o),Yo(null),Qi&&Qi(_o,_o.toCssString()),Ai||uo(_o)},[fa,ko]=s.useState(0),[rn,Ge]=s.useState(!1),_e=zi=>{if(Ta(zi),zi==="single"&&Na.isGradient())ko(0),Ri(new dt.y9(Na.getColors()[0].color)),Yo(Na);else if(zi==="gradient"&&!Na.isGradient()){const Ai=oo?(0,Vt.T7)(Na):Na;Ri(new dt.y9(No||[{percent:0,color:Ai},{percent:100,color:Ai}]))}},{status:Ve}=s.useContext($e.aM),{compactSize:ze,compactItemClassnames:At}=(0,qe.ri)(ea,to),an=(0,Ke.Z)(zi=>{var Ai;return(Ai=An!=null?An:ze)!==null&&Ai!==void 0?Ai:zi}),Kn=(0,te.Z)(ea),[Cr,Mr,yr]=Ye(ea,Kn),si={[`${ea}-rtl`]:to},wi=Y()(or,yr,Kn,si),yo=Y()((0,Fe.Z)(ea,Ve),{[`${ea}-sm`]:an==="small",[`${ea}-lg`]:an==="large"},At,Co==null?void 0:Co.className,wi,Ut,Mr),yi=Y()(ea,wi),Ei={open:Fi,trigger:_r,placement:Qr,arrow:ii,rootClassName:or,getPopupContainer:Wo,autoAdjustOverflow:$o,destroyTooltipOnHide:vo},ni=Object.assign(Object.assign({},Co==null?void 0:Co.style),_n);return Cr(s.createElement(He.Z,Object.assign({style:Mi==null?void 0:Mi.popup,styles:{body:Mi==null?void 0:Mi.popupOverlayInner},onOpenChange:zi=>{(!zi||!so)&&Qo(zi)},content:s.createElement(xe.Z,{form:!0},s.createElement(vr,{mode:oa,onModeChange:_e,modeOptions:Br,prefixCls:ea,value:Na,allowClear:xn,disabled:so,disabledAlpha:fo,presets:yn,panelRender:Ui,format:Rr,onFormatChange:Ao,onChange:Ri,onChangeComplete:uo,onClear:co,activeIndex:fa,onActive:ko,gradientDragging:rn,onGradientDragging:Ge,disabledFormat:Oo})),classNames:{root:yi}},Ei),Zn||s.createElement(Fn,Object.assign({activeIndex:Fi?fa:-1,open:Fi,className:yo,style:ni,prefixCls:ea,disabled:so,showText:mt,format:Rr},zo,{color:Na}))))},Tt=(0,We.Z)(tn,void 0,Xe=>Object.assign(Object.assign({},Xe),{placement:"bottom",autoAdjustOverflow:!1}),"color-picker",Xe=>Xe);tn._InternalPanelDoNotUseOrYouWillBeFired=Tt;var nn=tn,vn=nn},70395:function(Zr,jt,F){"use strict";F.d(jt,{AO:function(){return Me},T7:function(){return Fe},lx:function(){return xe},uZ:function(){return We},vC:function(){return c}});var s=F(46865),ot=F(2180),Y=F(82227);const c=ve=>ve instanceof Y.y9?ve:new Y.y9(ve),xe=ve=>Math.round(Number(ve||0)),We=ve=>xe(ve.toHsb().a*100),Fe=(ve,te)=>{const Ke=ve.toRgb();if(!Ke.r&&!Ke.g&&!Ke.b){const $e=ve.toHsb();return $e.a=te||1,c($e)}return Ke.a=te||1,c(Ke)},Me=(ve,te)=>{const Ke=[{percent:0,color:ve[0].color}].concat((0,s.Z)(ve),[{percent:100,color:ve[ve.length-1].color}]);for(let $e=0;$e<Ke.length-1;$e+=1){const He=Ke[$e].percent,qe=Ke[$e+1].percent,dt=Ke[$e].color,Je=Ke[$e+1].color;if(He<=te&&te<=qe){const ht=qe-He;if(ht===0)return dt;const bt=(te-He)/ht*100,Ue=new ot.Il(dt),kt=new ot.Il(Je);return Ue.mix(kt,bt).toRgbString()}}return""}},98472:function(Zr,jt,F){"use strict";F.d(jt,{n:function(){return Y}});var s=F(75271);const ot=s.createContext(!1),Y=c=>{let{children:xe,disabled:We}=c;const Fe=s.useContext(ot);return s.createElement(ot.Provider,{value:We!=null?We:Fe},xe)};jt.Z=ot},10497:function(Zr,jt,F){"use strict";F.d(jt,{q:function(){return Y}});var s=F(75271);const ot=s.createContext(void 0),Y=c=>{let{children:xe,size:We}=c;const Fe=s.useContext(ot);return s.createElement(ot.Provider,{value:We||Fe},xe)};jt.Z=ot},92703:function(Zr,jt,F){"use strict";F.d(jt,{x:function(){return Nt},q:function(){return Ze}});var s=F(75271),ot=F(30967),Y=F.t(ot,2),c=F(57250),xe=F(90594),We=F(5147),Fe=F(54153),Me=(0,Fe.Z)({},Y),ve=Me.version,te=Me.render,Ke=Me.unmountComponentAtNode,$e;try{var He=Number((ve||"").split(".")[0]);He>=18&&($e=Me.createRoot)}catch(sn){}function qe(sn){var Xt=Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Xt&&(0,We.Z)(Xt)==="object"&&(Xt.usingClientEntryPoint=sn)}var dt="__rc_react_root__";function Je(sn,Xt){qe(!0);var Le=Xt[dt]||$e(Xt);qe(!1),Le.render(sn),Xt[dt]=Le}function ht(sn,Xt){te==null||te(sn,Xt)}function bt(sn,Xt){}function Ue(sn,Xt){if($e){Je(sn,Xt);return}ht(sn,Xt)}function kt(sn){return yt.apply(this,arguments)}function yt(){return yt=(0,xe.Z)((0,c.Z)().mark(function sn(Xt){return(0,c.Z)().wrap(function($n){for(;;)switch($n.prev=$n.next){case 0:return $n.abrupt("return",Promise.resolve().then(function(){var cn;(cn=Xt[dt])===null||cn===void 0||cn.unmount(),delete Xt[dt]}));case 1:case"end":return $n.stop()}},sn)})),yt.apply(this,arguments)}function Et(sn){Ke(sn)}function Vt(sn){}function Lt(sn){return hr.apply(this,arguments)}function hr(){return hr=(0,xe.Z)((0,c.Z)().mark(function sn(Xt){return(0,c.Z)().wrap(function($n){for(;;)switch($n.prev=$n.next){case 0:if($e===void 0){$n.next=2;break}return $n.abrupt("return",kt(Xt));case 2:Et(Xt);case 3:case"end":return $n.stop()}},sn)})),hr.apply(this,arguments)}let Hn=(sn,Xt)=>(Ue(sn,Xt),()=>Lt(Xt));function Ze(sn){Hn=sn}function Nt(){return Hn}},98446:function(Zr,jt,F){"use strict";F.d(jt,{E_:function(){return We},Rf:function(){return ot},dj:function(){return ve},oR:function(){return Y},tr:function(){return c}});var s=F(75271);const ot="ant",Y="anticon",c=["outlined","borderless","filled","underlined"],xe=(te,Ke)=>Ke||(te?`${ot}-${te}`:ot),We=s.createContext({getPrefixCls:xe,iconPrefixCls:Y}),{Consumer:Fe}=We,Me={};function ve(te){const Ke=s.useContext(We),{getPrefixCls:$e,direction:He,getPopupContainer:qe}=Ke,dt=Ke[te];return Object.assign(Object.assign({classNames:Me,styles:Me},dt),{getPrefixCls:$e,direction:He,getPopupContainer:qe})}},22463:function(Zr,jt,F){"use strict";var s=F(75271),ot=F(98446),Y=F(35335);const c=xe=>{const{componentName:We}=xe,{getPrefixCls:Fe}=(0,s.useContext)(ot.E_),Me=Fe("empty");switch(We){case"Table":case"List":return s.createElement(Y.Z,{image:Y.Z.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return s.createElement(Y.Z,{image:Y.Z.PRESENTED_IMAGE_SIMPLE,className:`${Me}-small`});case"Table.filter":return null;default:return s.createElement(Y.Z,null)}};jt.Z=c},38437:function(Zr,jt,F){"use strict";var s=F(67699);const ot=Y=>{const[,,,,c]=(0,s.ZP)();return c?`${Y}-css-var`:""};jt.Z=ot},95741:function(Zr,jt,F){"use strict";var s=F(75271),ot=F(10497);const Y=c=>{const xe=s.useContext(ot.Z);return s.useMemo(()=>c?typeof c=="string"?c!=null?c:xe:c instanceof Function?c(xe):xe:xe,[c,xe])};jt.Z=Y},62639:function(Zr,jt,F){"use strict";F.d(jt,{ZP:function(){return ti},w6:function(){return Xr}});var s=F(75271),ot=F.t(s,2),Y=F(55921),c=F(53552),xe=F(54596),We=F(27636),Fe=F(87117),Me=F(63613),ve=F(3786),te=F(59379);const Ke="internalMark";var He=gr=>{const{locale:mr={},children:fr,_ANT_MARK__:wr}=gr;s.useEffect(()=>(0,ve.f)(mr==null?void 0:mr.Modal),[mr]);const vr=s.useMemo(()=>Object.assign(Object.assign({},mr),{exist:!0}),[mr]);return s.createElement(te.Z.Provider,{value:vr},fr)},qe=F(42474),dt=F(38920),Je=F(20284),ht=F(30767),bt=F(98446),Ue=F(68640),kt=F(84432),yt=F(18415),Et=F(18263);const Vt=`-ant-${Date.now()}-${Math.random()}`;function Lt(gr,mr){const fr={},wr=(Xn,lr)=>{let Yr=Xn.clone();return Yr=(lr==null?void 0:lr(Yr))||Yr,Yr.toRgbString()},vr=(Xn,lr)=>{const Yr=new kt.t(Xn),Fn=(0,Ue.R_)(Yr.toRgbString());fr[`${lr}-color`]=wr(Yr),fr[`${lr}-color-disabled`]=Fn[1],fr[`${lr}-color-hover`]=Fn[4],fr[`${lr}-color-active`]=Fn[6],fr[`${lr}-color-outline`]=Yr.clone().setA(.2).toRgbString(),fr[`${lr}-color-deprecated-bg`]=Fn[0],fr[`${lr}-color-deprecated-border`]=Fn[2]};if(mr.primaryColor){vr(mr.primaryColor,"primary");const Xn=new kt.t(mr.primaryColor),lr=(0,Ue.R_)(Xn.toRgbString());lr.forEach((Fn,Si)=>{fr[`primary-${Si+1}`]=Fn}),fr["primary-color-deprecated-l-35"]=wr(Xn,Fn=>Fn.lighten(35)),fr["primary-color-deprecated-l-20"]=wr(Xn,Fn=>Fn.lighten(20)),fr["primary-color-deprecated-t-20"]=wr(Xn,Fn=>Fn.tint(20)),fr["primary-color-deprecated-t-50"]=wr(Xn,Fn=>Fn.tint(50)),fr["primary-color-deprecated-f-12"]=wr(Xn,Fn=>Fn.setA(Fn.a*.12));const Yr=new kt.t(lr[0]);fr["primary-color-active-deprecated-f-30"]=wr(Yr,Fn=>Fn.setA(Fn.a*.3)),fr["primary-color-active-deprecated-d-02"]=wr(Yr,Fn=>Fn.darken(2))}return mr.successColor&&vr(mr.successColor,"success"),mr.warningColor&&vr(mr.warningColor,"warning"),mr.errorColor&&vr(mr.errorColor,"error"),mr.infoColor&&vr(mr.infoColor,"info"),`
  :root {
    ${Object.keys(fr).map(Xn=>`--${gr}-${Xn}: ${fr[Xn]};`).join(`
`)}
  }
  `.trim()}function hr(gr,mr){const fr=Lt(gr,mr);(0,yt.Z)()&&(0,Et.hq)(fr,`${Vt}-dynamic-theme`)}var er=F(98472),Hn=F(10497);function Ze(){const gr=(0,s.useContext)(er.Z),mr=(0,s.useContext)(Hn.Z);return{componentDisabled:gr,componentSize:mr}}var Nt=Ze,sn=F(47996);const Xt=Object.assign({},ot),{useId:Le}=Xt;var En=typeof Le=="undefined"?()=>"":Le;function lt(gr,mr,fr){var wr,vr;const jr=(0,Fe.ln)("ConfigProvider"),Xn=gr||{},lr=Xn.inherit===!1||!mr?Object.assign(Object.assign({},Je.u_),{hashed:(wr=mr==null?void 0:mr.hashed)!==null&&wr!==void 0?wr:Je.u_.hashed,cssVar:mr==null?void 0:mr.cssVar}):mr,Yr=En();return(0,xe.Z)(()=>{var Fn,Si;if(!gr)return mr;const mi=Object.assign({},lr.components);Object.keys(gr.components||{}).forEach(Ur=>{mi[Ur]=Object.assign(Object.assign({},mi[Ur]),gr.components[Ur])});const Hi=`css-var-${Yr.replace(/:/g,"")}`,ho=((Fn=Xn.cssVar)!==null&&Fn!==void 0?Fn:lr.cssVar)&&Object.assign(Object.assign(Object.assign({prefix:fr==null?void 0:fr.prefixCls},typeof lr.cssVar=="object"?lr.cssVar:{}),typeof Xn.cssVar=="object"?Xn.cssVar:{}),{key:typeof Xn.cssVar=="object"&&((Si=Xn.cssVar)===null||Si===void 0?void 0:Si.key)||Hi});return Object.assign(Object.assign(Object.assign({},lr),Xn),{token:Object.assign(Object.assign({},lr.token),Xn.token),components:mi,cssVar:ho})},[Xn,lr],(Fn,Si)=>Fn.some((mi,Hi)=>{const ho=Si[Hi];return!(0,sn.Z)(mi,ho,!0)}))}var Gt=F(62803),bn=F(67699);function fe(gr){const{children:mr}=gr,[,fr]=(0,bn.ZP)(),{motion:wr}=fr,vr=s.useRef(!1);return vr.current=vr.current||wr===!1,vr.current?s.createElement(Gt.zt,{motion:wr},mr):mr}const Wt=null;var hi=()=>null,Jr=F(34299),Pn=(gr,mr)=>{const[fr,wr]=(0,bn.ZP)();return(0,Y.xy)({theme:fr,token:wr,hashId:"",path:["ant-design-icons",gr],nonce:()=>mr==null?void 0:mr.nonce,layer:{name:"antd"}},()=>[(0,Jr.JT)(gr)])},Lr=function(gr,mr){var fr={};for(var wr in gr)Object.prototype.hasOwnProperty.call(gr,wr)&&mr.indexOf(wr)<0&&(fr[wr]=gr[wr]);if(gr!=null&&typeof Object.getOwnPropertySymbols=="function")for(var vr=0,wr=Object.getOwnPropertySymbols(gr);vr<wr.length;vr++)mr.indexOf(wr[vr])<0&&Object.prototype.propertyIsEnumerable.call(gr,wr[vr])&&(fr[wr[vr]]=gr[wr[vr]]);return fr};let kr=!1;const In=null,Nr=null,vi=["getTargetContainer","getPopupContainer","renderEmpty","input","pagination","form","select","button"];let sr,it,Ot,zn;function dn(){return sr||bt.Rf}function fn(){return it||bt.oR}function xr(gr){return Object.keys(gr).some(mr=>mr.endsWith("Color"))}const Un=gr=>{const{prefixCls:mr,iconPrefixCls:fr,theme:wr,holderRender:vr}=gr;mr!==void 0&&(sr=mr),fr!==void 0&&(it=fr),"holderRender"in gr&&(zn=vr),wr&&(xr(wr)?hr(dn(),wr):Ot=wr)},Xr=()=>({getPrefixCls:(gr,mr)=>mr||(gr?`${dn()}-${gr}`:dn()),getIconPrefixCls:fn,getRootPrefixCls:()=>sr||dn(),getTheme:()=>Ot,holderRender:zn}),ei=gr=>{const{children:mr,csp:fr,autoInsertSpaceInButton:wr,alert:vr,anchor:jr,form:Xn,locale:lr,componentSize:Yr,direction:Fn,space:Si,splitter:mi,virtual:Hi,dropdownMatchSelectWidth:ho,popupMatchSelectWidth:Ur,popupOverflow:eo,legacyLocale:en,parentContext:Mn,iconPrefixCls:Qn,theme:Dr,componentDisabled:ui,segmented:oi,statistic:Xi,spin:Ji,calendar:Ro,carousel:xo,cascader:io,collapse:Oe,typography:de,checkbox:X,descriptions:ke,divider:he,drawer:Ye,skeleton:et,steps:tn,image:Tt,layout:nn,list:vn,mentions:Xe,modal:Mt,progress:Ht,result:Qt,slider:ct,breadcrumb:rt,menu:xn,pagination:yn,input:Zn,textArea:_r,empty:ir,badge:Or,radio:Qr,rate:ii,switch:Ui,transfer:mt,avatar:_n,message:Ut,tag:An,table:or,card:qr,tabs:Mi,timeline:fo,timePicker:$i,upload:Qi,notification:co,tree:Ni,colorPicker:Io,datePicker:Wo,rangePicker:$o,flex:vo,wave:Oo,dropdown:zo,warning:Jo,tour:to,tooltip:Co,popover:mo,popconfirm:so,floatButtonGroup:Fi,variant:Qo,inputNumber:Rr,treeSelect:Ao}=gr,ea=s.useCallback((ko,rn)=>{const{prefixCls:Ge}=gr;if(rn)return rn;const _e=Ge||Mn.getPrefixCls("");return ko?`${_e}-${ko}`:_e},[Mn.getPrefixCls,gr.prefixCls]),Na=Qn||Mn.iconPrefixCls||bt.oR,ci=fr||Mn.csp;Pn(Na,ci);const oa=lt(Dr,Mn.theme,{prefixCls:ea("")}),Ta={csp:ci,autoInsertSpaceInButton:wr,alert:vr,anchor:jr,locale:lr||en,direction:Fn,space:Si,splitter:mi,virtual:Hi,popupMatchSelectWidth:Ur!=null?Ur:ho,popupOverflow:eo,getPrefixCls:ea,iconPrefixCls:Na,theme:oa,segmented:oi,statistic:Xi,spin:Ji,calendar:Ro,carousel:xo,cascader:io,collapse:Oe,typography:de,checkbox:X,descriptions:ke,divider:he,drawer:Ye,skeleton:et,steps:tn,image:Tt,input:Zn,textArea:_r,layout:nn,list:vn,mentions:Xe,modal:Mt,progress:Ht,result:Qt,slider:ct,breadcrumb:rt,menu:xn,pagination:yn,empty:ir,badge:Or,radio:Qr,rate:ii,switch:Ui,transfer:mt,avatar:_n,message:Ut,tag:An,table:or,card:qr,tabs:Mi,timeline:fo,timePicker:$i,upload:Qi,notification:co,tree:Ni,colorPicker:Io,datePicker:Wo,rangePicker:$o,flex:vo,wave:Oo,dropdown:zo,warning:Jo,tour:to,tooltip:Co,popover:mo,popconfirm:so,floatButtonGroup:Fi,variant:Qo,inputNumber:Rr,treeSelect:Ao},Br=Object.assign({},Mn);Object.keys(Ta).forEach(ko=>{Ta[ko]!==void 0&&(Br[ko]=Ta[ko])}),vi.forEach(ko=>{const rn=gr[ko];rn&&(Br[ko]=rn)}),typeof wr!="undefined"&&(Br.button=Object.assign({autoInsertSpace:wr},Br.button));const oo=(0,xe.Z)(()=>Br,Br,(ko,rn)=>{const Ge=Object.keys(ko),_e=Object.keys(rn);return Ge.length!==_e.length||Ge.some(Ve=>ko[Ve]!==rn[Ve])}),{layer:No}=s.useContext(Y.uP),Yo=s.useMemo(()=>({prefixCls:Na,csp:ci,layer:No?"antd":void 0}),[Na,ci,No]);let uo=s.createElement(s.Fragment,null,s.createElement(hi,{dropdownMatchSelectWidth:ho}),mr);const Ri=s.useMemo(()=>{var ko,rn,Ge,_e;return(0,We.T)(((ko=qe.Z.Form)===null||ko===void 0?void 0:ko.defaultValidateMessages)||{},((Ge=(rn=oo.locale)===null||rn===void 0?void 0:rn.Form)===null||Ge===void 0?void 0:Ge.defaultValidateMessages)||{},((_e=oo.form)===null||_e===void 0?void 0:_e.validateMessages)||{},(Xn==null?void 0:Xn.validateMessages)||{})},[oo,Xn==null?void 0:Xn.validateMessages]);Object.keys(Ri).length>0&&(uo=s.createElement(Me.Z.Provider,{value:Ri},uo)),lr&&(uo=s.createElement(He,{locale:lr,_ANT_MARK__:Ke},uo)),(Na||ci)&&(uo=s.createElement(c.Z.Provider,{value:Yo},uo)),Yr&&(uo=s.createElement(Hn.q,{size:Yr},uo)),uo=s.createElement(fe,null,uo);const fa=s.useMemo(()=>{const ko=oa||{},{algorithm:rn,token:Ge,components:_e,cssVar:Ve}=ko,ze=Lr(ko,["algorithm","token","components","cssVar"]),At=rn&&(!Array.isArray(rn)||rn.length>0)?(0,Y.jG)(rn):dt.Z,an={};Object.entries(_e||{}).forEach(Cr=>{let[Mr,yr]=Cr;const si=Object.assign({},yr);"algorithm"in si&&(si.algorithm===!0?si.theme=At:(Array.isArray(si.algorithm)||typeof si.algorithm=="function")&&(si.theme=(0,Y.jG)(si.algorithm)),delete si.algorithm),an[Mr]=si});const Kn=Object.assign(Object.assign({},ht.Z),Ge);return Object.assign(Object.assign({},ze),{theme:At,token:Kn,components:an,override:Object.assign({override:Kn},an),cssVar:Ve})},[oa]);return Dr&&(uo=s.createElement(Je.Mj.Provider,{value:fa},uo)),oo.warning&&(uo=s.createElement(Fe.G8.Provider,{value:oo.warning},uo)),ui!==void 0&&(uo=s.createElement(er.n,{disabled:ui},uo)),s.createElement(bt.E_.Provider,{value:oo},uo)},Wr=gr=>{const mr=s.useContext(bt.E_),fr=s.useContext(te.Z);return s.createElement(ei,Object.assign({parentContext:mr,legacyLocale:fr},gr))};Wr.ConfigContext=bt.E_,Wr.SizeContext=Hn.Z,Wr.config=Un,Wr.useConfig=Nt,Object.defineProperty(Wr,"SizeContext",{get:()=>Hn.Z});var ti=Wr},58492:function(Zr,jt,F){"use strict";F.d(jt,{Z:function(){return Fe}});var s=F(54153),ot={yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0},Y=(0,s.Z)((0,s.Z)({},ot),{},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",week:"Week",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",dateFormat:"M/D/YYYY",dateTimeFormat:"M/D/YYYY HH:mm:ss",previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"}),c=Y,xe=F(85985),Fe={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},c),timePickerLocale:Object.assign({},xe.Z)}},67567:function(Zr,jt,F){"use strict";F.d(jt,{Z:function(){return qe}});var s=F(75271),ot=F(82187),Y=F.n(ot),c=F(98446),xe=F(55921),We=F(34299),Fe=F(84825),Me=F(83509);const ve=dt=>{const{componentCls:Je,sizePaddingEdgeHorizontal:ht,colorSplit:bt,lineWidth:Ue,textPaddingInline:kt,orientationMargin:yt,verticalMarginInline:Et}=dt;return{[Je]:Object.assign(Object.assign({},(0,We.Wf)(dt)),{borderBlockStart:`${(0,xe.bf)(Ue)} solid ${bt}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:Et,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:`${(0,xe.bf)(Ue)} solid ${bt}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${(0,xe.bf)(dt.dividerHorizontalGutterMargin)} 0`},[`&-horizontal${Je}-with-text`]:{display:"flex",alignItems:"center",margin:`${(0,xe.bf)(dt.dividerHorizontalWithTextGutterMargin)} 0`,color:dt.colorTextHeading,fontWeight:500,fontSize:dt.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${bt}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${(0,xe.bf)(Ue)} solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${Je}-with-text-start`]:{"&::before":{width:`calc(${yt} * 100%)`},"&::after":{width:`calc(100% - ${yt} * 100%)`}},[`&-horizontal${Je}-with-text-end`]:{"&::before":{width:`calc(100% - ${yt} * 100%)`},"&::after":{width:`calc(${yt} * 100%)`}},[`${Je}-inner-text`]:{display:"inline-block",paddingBlock:0,paddingInline:kt},"&-dashed":{background:"none",borderColor:bt,borderStyle:"dashed",borderWidth:`${(0,xe.bf)(Ue)} 0 0`},[`&-horizontal${Je}-with-text${Je}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${Je}-dashed`]:{borderInlineStartWidth:Ue,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},"&-dotted":{background:"none",borderColor:bt,borderStyle:"dotted",borderWidth:`${(0,xe.bf)(Ue)} 0 0`},[`&-horizontal${Je}-with-text${Je}-dotted`]:{"&::before, &::after":{borderStyle:"dotted none none"}},[`&-vertical${Je}-dotted`]:{borderInlineStartWidth:Ue,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${Je}-with-text`]:{color:dt.colorText,fontWeight:"normal",fontSize:dt.fontSize},[`&-horizontal${Je}-with-text-start${Je}-no-default-orientation-margin-start`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${Je}-inner-text`]:{paddingInlineStart:ht}},[`&-horizontal${Je}-with-text-end${Je}-no-default-orientation-margin-end`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${Je}-inner-text`]:{paddingInlineEnd:ht}}})}},te=dt=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:dt.marginXS});var Ke=(0,Fe.I$)("Divider",dt=>{const Je=(0,Me.IX)(dt,{dividerHorizontalWithTextGutterMargin:dt.margin,dividerHorizontalGutterMargin:dt.marginLG,sizePaddingEdgeHorizontal:0});return[ve(Je)]},te,{unitless:{orientationMargin:!0}}),$e=function(dt,Je){var ht={};for(var bt in dt)Object.prototype.hasOwnProperty.call(dt,bt)&&Je.indexOf(bt)<0&&(ht[bt]=dt[bt]);if(dt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ue=0,bt=Object.getOwnPropertySymbols(dt);Ue<bt.length;Ue++)Je.indexOf(bt[Ue])<0&&Object.prototype.propertyIsEnumerable.call(dt,bt[Ue])&&(ht[bt[Ue]]=dt[bt[Ue]]);return ht},qe=dt=>{const{getPrefixCls:Je,direction:ht,className:bt,style:Ue}=(0,c.dj)("divider"),{prefixCls:kt,type:yt="horizontal",orientation:Et="center",orientationMargin:Vt,className:Lt,rootClassName:hr,children:er,dashed:Hn,variant:Ze="solid",plain:Nt,style:sn}=dt,Xt=$e(dt,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","variant","plain","style"]),Le=Je("divider",kt),[$n,cn,En]=Ke(Le),lt=!!er,Gt=s.useMemo(()=>Et==="left"?ht==="rtl"?"end":"start":Et==="right"?ht==="rtl"?"start":"end":Et,[ht,Et]),bn=Gt==="start"&&Vt!=null,fe=Gt==="end"&&Vt!=null,Wt=Y()(Le,bt,cn,En,`${Le}-${yt}`,{[`${Le}-with-text`]:lt,[`${Le}-with-text-${Gt}`]:lt,[`${Le}-dashed`]:!!Hn,[`${Le}-${Ze}`]:Ze!=="solid",[`${Le}-plain`]:!!Nt,[`${Le}-rtl`]:ht==="rtl",[`${Le}-no-default-orientation-margin-start`]:bn,[`${Le}-no-default-orientation-margin-end`]:fe},Lt,hr),hi=s.useMemo(()=>typeof Vt=="number"?Vt:/^\d+$/.test(Vt)?Number(Vt):Vt,[Vt]),Jr={marginInlineStart:bn?hi:void 0,marginInlineEnd:fe?hi:void 0};return $n(s.createElement("div",Object.assign({className:Wt,style:Object.assign(Object.assign({},Ue),sn)},Xt,{role:"separator"}),er&&yt!=="vertical"&&s.createElement("span",{className:`${Le}-inner-text`,style:Jr},er)))}},35335:function(Zr,jt,F){"use strict";F.d(jt,{Z:function(){return kt}});var s=F(75271),ot=F(82187),Y=F.n(ot),c=F(77648),xe=F(84432),We=F(67699),Me=()=>{const[,yt]=(0,We.ZP)(),[Et]=(0,c.Z)("Empty"),Lt=new xe.t(yt.colorBgBase).toHsl().l<.5?{opacity:.65}:{};return s.createElement("svg",{style:Lt,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},s.createElement("title",null,(Et==null?void 0:Et.description)||"Empty"),s.createElement("g",{fill:"none",fillRule:"evenodd"},s.createElement("g",{transform:"translate(24 31.67)"},s.createElement("ellipse",{fillOpacity:".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),s.createElement("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"}),s.createElement("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"}),s.createElement("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"}),s.createElement("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"})),s.createElement("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"}),s.createElement("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},s.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),s.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},te=()=>{const[,yt]=(0,We.ZP)(),[Et]=(0,c.Z)("Empty"),{colorFill:Vt,colorFillTertiary:Lt,colorFillQuaternary:hr,colorBgContainer:er}=yt,{borderColor:Hn,shadowColor:Ze,contentColor:Nt}=(0,s.useMemo)(()=>({borderColor:new xe.t(Vt).onBackground(er).toHexString(),shadowColor:new xe.t(Lt).onBackground(er).toHexString(),contentColor:new xe.t(hr).onBackground(er).toHexString()}),[Vt,Lt,hr,er]);return s.createElement("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},s.createElement("title",null,(Et==null?void 0:Et.description)||"Empty"),s.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},s.createElement("ellipse",{fill:Ze,cx:"32",cy:"33",rx:"32",ry:"7"}),s.createElement("g",{fillRule:"nonzero",stroke:Hn},s.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),s.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:Nt}))))},Ke=F(84825),$e=F(83509);const He=yt=>{const{componentCls:Et,margin:Vt,marginXS:Lt,marginXL:hr,fontSize:er,lineHeight:Hn}=yt;return{[Et]:{marginInline:Lt,fontSize:er,lineHeight:Hn,textAlign:"center",[`${Et}-image`]:{height:yt.emptyImgHeight,marginBottom:Lt,opacity:yt.opacityImage,img:{height:"100%"},svg:{maxWidth:"100%",height:"100%",margin:"auto"}},[`${Et}-description`]:{color:yt.colorTextDescription},[`${Et}-footer`]:{marginTop:Vt},"&-normal":{marginBlock:hr,color:yt.colorTextDescription,[`${Et}-description`]:{color:yt.colorTextDescription},[`${Et}-image`]:{height:yt.emptyImgHeightMD}},"&-small":{marginBlock:Lt,color:yt.colorTextDescription,[`${Et}-image`]:{height:yt.emptyImgHeightSM}}}}};var qe=(0,Ke.I$)("Empty",yt=>{const{componentCls:Et,controlHeightLG:Vt,calc:Lt}=yt,hr=(0,$e.IX)(yt,{emptyImgCls:`${Et}-img`,emptyImgHeight:Lt(Vt).mul(2.5).equal(),emptyImgHeightMD:Vt,emptyImgHeightSM:Lt(Vt).mul(.875).equal()});return[He(hr)]}),dt=F(98446),Je=function(yt,Et){var Vt={};for(var Lt in yt)Object.prototype.hasOwnProperty.call(yt,Lt)&&Et.indexOf(Lt)<0&&(Vt[Lt]=yt[Lt]);if(yt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var hr=0,Lt=Object.getOwnPropertySymbols(yt);hr<Lt.length;hr++)Et.indexOf(Lt[hr])<0&&Object.prototype.propertyIsEnumerable.call(yt,Lt[hr])&&(Vt[Lt[hr]]=yt[Lt[hr]]);return Vt};const ht=s.createElement(Me,null),bt=s.createElement(te,null),Ue=yt=>{const{className:Et,rootClassName:Vt,prefixCls:Lt,image:hr=ht,description:er,children:Hn,imageStyle:Ze,style:Nt,classNames:sn,styles:Xt}=yt,Le=Je(yt,["className","rootClassName","prefixCls","image","description","children","imageStyle","style","classNames","styles"]),{getPrefixCls:$n,direction:cn,className:En,style:lt,classNames:Gt,styles:bn}=(0,dt.dj)("empty"),fe=$n("empty",Lt),[Wt,hi,Jr]=qe(fe),[Te]=(0,c.Z)("Empty"),Pn=typeof er!="undefined"?er:Te==null?void 0:Te.description,Lr=typeof Pn=="string"?Pn:"empty";let kr=null;return typeof hr=="string"?kr=s.createElement("img",{alt:Lr,src:hr}):kr=hr,Wt(s.createElement("div",Object.assign({className:Y()(hi,Jr,fe,En,{[`${fe}-normal`]:hr===bt,[`${fe}-rtl`]:cn==="rtl"},Et,Vt,Gt.root,sn==null?void 0:sn.root),style:Object.assign(Object.assign(Object.assign(Object.assign({},bn.root),lt),Xt==null?void 0:Xt.root),Nt)},Le),s.createElement("div",{className:Y()(`${fe}-image`,Gt.image,sn==null?void 0:sn.image),style:Object.assign(Object.assign(Object.assign({},Ze),bn.image),Xt==null?void 0:Xt.image)},kr),Pn&&s.createElement("div",{className:Y()(`${fe}-description`,Gt.description,sn==null?void 0:sn.description),style:Object.assign(Object.assign({},bn.description),Xt==null?void 0:Xt.description)},Pn),Hn&&s.createElement("div",{className:Y()(`${fe}-footer`,Gt.footer,sn==null?void 0:sn.footer),style:Object.assign(Object.assign({},bn.footer),Xt==null?void 0:Xt.footer)},Hn)))};Ue.PRESENTED_IMAGE_DEFAULT=ht,Ue.PRESENTED_IMAGE_SIMPLE=bt;var kt=Ue},60824:function(Zr,jt,F){"use strict";F.d(jt,{RV:function(){return We},Rk:function(){return Fe},Ux:function(){return ve},aM:function(){return Me},pg:function(){return te},q3:function(){return c},qI:function(){return xe}});var s=F(75271),ot=F(93930),Y=F(18051);const c=s.createContext({labelAlign:"right",vertical:!1,itemRef:()=>{}}),xe=s.createContext(null),We=Ke=>{const $e=(0,Y.Z)(Ke,["prefixCls"]);return s.createElement(ot.RV,Object.assign({},$e))},Fe=s.createContext({prefixCls:""}),Me=s.createContext({}),ve=Ke=>{let{children:$e,status:He,override:qe}=Ke;const dt=s.useContext(Me),Je=s.useMemo(()=>{const ht=Object.assign({},dt);return qe&&delete ht.isFormItemInput,He&&(delete ht.status,delete ht.hasFeedback,delete ht.feedbackIcon),ht},[He,qe,dt]);return s.createElement(Me.Provider,{value:Je},$e)},te=s.createContext(void 0)},7038:function(Zr,jt,F){"use strict";var s=F(75271),ot=F(60824),Y=F(98446);const c=function(xe,We){let Fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;var Me,ve;const{variant:te,[xe]:Ke}=s.useContext(Y.E_),$e=s.useContext(ot.pg),He=Ke==null?void 0:Ke.variant;let qe;typeof We!="undefined"?qe=We:Fe===!1?qe="borderless":qe=(ve=(Me=$e!=null?$e:He)!==null&&Me!==void 0?Me:te)!==null&&ve!==void 0?ve:"outlined";const dt=Y.tr.includes(qe);return[qe,dt]};jt.Z=c},54735:function(Zr,jt,F){"use strict";F.d(jt,{Z:function(){return Ui}});var s=F(60824),ot=F(46865),Y=F(75271),c=F(82187),xe=F.n(c),We=F(62803),Fe=F(13635),Me=F(38437);function ve(mt){const[_n,Ut]=Y.useState(mt);return Y.useEffect(()=>{const An=setTimeout(()=>{Ut(mt)},mt.length?0:10);return()=>{clearTimeout(An)}},[mt]),_n}var te=F(55921),Ke=F(34299),$e=F(3153),He=F(40894),qe=F(83509),dt=F(84825),ht=mt=>{const{componentCls:_n}=mt,Ut=`${_n}-show-help`,An=`${_n}-show-help-item`;return{[Ut]:{transition:`opacity ${mt.motionDurationFast} ${mt.motionEaseInOut}`,"&-appear, &-enter":{opacity:0,"&-active":{opacity:1}},"&-leave":{opacity:1,"&-active":{opacity:0}},[An]:{overflow:"hidden",transition:`height ${mt.motionDurationFast} ${mt.motionEaseInOut},
                     opacity ${mt.motionDurationFast} ${mt.motionEaseInOut},
                     transform ${mt.motionDurationFast} ${mt.motionEaseInOut} !important`,[`&${An}-appear, &${An}-enter`]:{transform:"translateY(-5px)",opacity:0,"&-active":{transform:"translateY(0)",opacity:1}},[`&${An}-leave-active`]:{transform:"translateY(-5px)"}}}}};const bt=mt=>({legend:{display:"block",width:"100%",marginBottom:mt.marginLG,padding:0,color:mt.colorTextDescription,fontSize:mt.fontSizeLG,lineHeight:"inherit",border:0,borderBottom:`${(0,te.bf)(mt.lineWidth)} ${mt.lineType} ${mt.colorBorder}`},'input[type="search"]':{boxSizing:"border-box"},'input[type="radio"], input[type="checkbox"]':{lineHeight:"normal"},'input[type="file"]':{display:"block"},'input[type="range"]':{display:"block",width:"100%"},"select[multiple], select[size]":{height:"auto"},"input[type='file']:focus,\n  input[type='radio']:focus,\n  input[type='checkbox']:focus":{outline:0,boxShadow:`0 0 0 ${(0,te.bf)(mt.controlOutlineWidth)} ${mt.controlOutline}`},output:{display:"block",paddingTop:15,color:mt.colorText,fontSize:mt.fontSize,lineHeight:mt.lineHeight}}),Ue=(mt,_n)=>{const{formItemCls:Ut}=mt;return{[Ut]:{[`${Ut}-label > label`]:{height:_n},[`${Ut}-control-input`]:{minHeight:_n}}}},kt=mt=>{const{componentCls:_n}=mt;return{[mt.componentCls]:Object.assign(Object.assign(Object.assign({},(0,Ke.Wf)(mt)),bt(mt)),{[`${_n}-text`]:{display:"inline-block",paddingInlineEnd:mt.paddingSM},"&-small":Object.assign({},Ue(mt,mt.controlHeightSM)),"&-large":Object.assign({},Ue(mt,mt.controlHeightLG))})}},yt=mt=>{const{formItemCls:_n,iconCls:Ut,componentCls:An,rootPrefixCls:or,antCls:qr,labelRequiredMarkColor:Mi,labelColor:fo,labelFontSize:$i,labelHeight:Qi,labelColonMarginInlineStart:co,labelColonMarginInlineEnd:Ni,itemMarginBottom:Io}=mt;return{[_n]:Object.assign(Object.assign({},(0,Ke.Wf)(mt)),{marginBottom:Io,verticalAlign:"top","&-with-help":{transition:"none"},[`&-hidden,
        &-hidden${qr}-row`]:{display:"none"},"&-has-warning":{[`${_n}-split`]:{color:mt.colorError}},"&-has-error":{[`${_n}-split`]:{color:mt.colorWarning}},[`${_n}-label`]:{flexGrow:0,overflow:"hidden",whiteSpace:"nowrap",textAlign:"end",verticalAlign:"middle","&-left":{textAlign:"start"},"&-wrap":{overflow:"unset",lineHeight:mt.lineHeight,whiteSpace:"unset"},"> label":{position:"relative",display:"inline-flex",alignItems:"center",maxWidth:"100%",height:Qi,color:fo,fontSize:$i,[`> ${Ut}`]:{fontSize:mt.fontSize,verticalAlign:"top"},[`&${_n}-required:not(${_n}-required-mark-optional)::before`]:{display:"inline-block",marginInlineEnd:mt.marginXXS,color:Mi,fontSize:mt.fontSize,fontFamily:"SimSun, sans-serif",lineHeight:1,content:'"*"',[`${An}-hide-required-mark &`]:{display:"none"}},[`${_n}-optional`]:{display:"inline-block",marginInlineStart:mt.marginXXS,color:mt.colorTextDescription,[`${An}-hide-required-mark &`]:{display:"none"}},[`${_n}-tooltip`]:{color:mt.colorTextDescription,cursor:"help",writingMode:"horizontal-tb",marginInlineStart:mt.marginXXS},"&::after":{content:'":"',position:"relative",marginBlock:0,marginInlineStart:co,marginInlineEnd:Ni},[`&${_n}-no-colon::after`]:{content:'"\\a0"'}}},[`${_n}-control`]:{"--ant-display":"flex",flexDirection:"column",flexGrow:1,[`&:first-child:not([class^="'${or}-col-'"]):not([class*="' ${or}-col-'"])`]:{width:"100%"},"&-input":{position:"relative",display:"flex",alignItems:"center",minHeight:mt.controlHeight,"&-content":{flex:"auto",maxWidth:"100%"}}},[_n]:{"&-additional":{display:"flex",flexDirection:"column"},"&-explain, &-extra":{clear:"both",color:mt.colorTextDescription,fontSize:mt.fontSize,lineHeight:mt.lineHeight},"&-explain-connected":{width:"100%"},"&-extra":{minHeight:mt.controlHeightSM,transition:`color ${mt.motionDurationMid} ${mt.motionEaseOut}`},"&-explain":{"&-error":{color:mt.colorError},"&-warning":{color:mt.colorWarning}}},[`&-with-help ${_n}-explain`]:{height:"auto",opacity:1},[`${_n}-feedback-icon`]:{fontSize:mt.fontSize,textAlign:"center",visibility:"visible",animationName:$e.kr,animationDuration:mt.motionDurationMid,animationTimingFunction:mt.motionEaseOutBack,pointerEvents:"none","&-success":{color:mt.colorSuccess},"&-error":{color:mt.colorError},"&-warning":{color:mt.colorWarning},"&-validating":{color:mt.colorPrimary}}})}},Et=(mt,_n)=>{const{formItemCls:Ut}=mt;return{[`${_n}-horizontal`]:{[`${Ut}-label`]:{flexGrow:0},[`${Ut}-control`]:{flex:"1 1 0",minWidth:0},[`${Ut}-label[class$='-24'], ${Ut}-label[class*='-24 ']`]:{[`& + ${Ut}-control`]:{minWidth:"unset"}}}}},Vt=mt=>{const{componentCls:_n,formItemCls:Ut,inlineItemMarginBottom:An}=mt;return{[`${_n}-inline`]:{display:"flex",flexWrap:"wrap",[Ut]:{flex:"none",marginInlineEnd:mt.margin,marginBottom:An,"&-row":{flexWrap:"nowrap"},[`> ${Ut}-label,
        > ${Ut}-control`]:{display:"inline-block",verticalAlign:"top"},[`> ${Ut}-label`]:{flex:"none"},[`${_n}-text`]:{display:"inline-block"},[`${Ut}-has-feedback`]:{display:"inline-block"}}}}},Lt=mt=>({padding:mt.verticalLabelPadding,margin:mt.verticalLabelMargin,whiteSpace:"initial",textAlign:"start","> label":{margin:0,"&::after":{visibility:"hidden"}}}),hr=mt=>{const{componentCls:_n,formItemCls:Ut,rootPrefixCls:An}=mt;return{[`${Ut} ${Ut}-label`]:Lt(mt),[`${_n}:not(${_n}-inline)`]:{[Ut]:{flexWrap:"wrap",[`${Ut}-label, ${Ut}-control`]:{[`&:not([class*=" ${An}-col-xs"])`]:{flex:"0 0 100%",maxWidth:"100%"}}}}}},er=mt=>{const{componentCls:_n,formItemCls:Ut,antCls:An}=mt;return{[`${_n}-vertical`]:{[`${Ut}:not(${Ut}-horizontal)`]:{[`${Ut}-row`]:{flexDirection:"column"},[`${Ut}-label > label`]:{height:"auto"},[`${Ut}-control`]:{width:"100%"},[`${Ut}-label,
        ${An}-col-24${Ut}-label,
        ${An}-col-xl-24${Ut}-label`]:Lt(mt)}},[`@media (max-width: ${(0,te.bf)(mt.screenXSMax)})`]:[hr(mt),{[_n]:{[`${Ut}:not(${Ut}-horizontal)`]:{[`${An}-col-xs-24${Ut}-label`]:Lt(mt)}}}],[`@media (max-width: ${(0,te.bf)(mt.screenSMMax)})`]:{[_n]:{[`${Ut}:not(${Ut}-horizontal)`]:{[`${An}-col-sm-24${Ut}-label`]:Lt(mt)}}},[`@media (max-width: ${(0,te.bf)(mt.screenMDMax)})`]:{[_n]:{[`${Ut}:not(${Ut}-horizontal)`]:{[`${An}-col-md-24${Ut}-label`]:Lt(mt)}}},[`@media (max-width: ${(0,te.bf)(mt.screenLGMax)})`]:{[_n]:{[`${Ut}:not(${Ut}-horizontal)`]:{[`${An}-col-lg-24${Ut}-label`]:Lt(mt)}}}}},Hn=mt=>{const{formItemCls:_n,antCls:Ut}=mt;return{[`${_n}-vertical`]:{[`${_n}-row`]:{flexDirection:"column"},[`${_n}-label > label`]:{height:"auto"},[`${_n}-control`]:{width:"100%"}},[`${_n}-vertical ${_n}-label,
      ${Ut}-col-24${_n}-label,
      ${Ut}-col-xl-24${_n}-label`]:Lt(mt),[`@media (max-width: ${(0,te.bf)(mt.screenXSMax)})`]:[hr(mt),{[_n]:{[`${Ut}-col-xs-24${_n}-label`]:Lt(mt)}}],[`@media (max-width: ${(0,te.bf)(mt.screenSMMax)})`]:{[_n]:{[`${Ut}-col-sm-24${_n}-label`]:Lt(mt)}},[`@media (max-width: ${(0,te.bf)(mt.screenMDMax)})`]:{[_n]:{[`${Ut}-col-md-24${_n}-label`]:Lt(mt)}},[`@media (max-width: ${(0,te.bf)(mt.screenLGMax)})`]:{[_n]:{[`${Ut}-col-lg-24${_n}-label`]:Lt(mt)}}}},Ze=mt=>({labelRequiredMarkColor:mt.colorError,labelColor:mt.colorTextHeading,labelFontSize:mt.fontSize,labelHeight:mt.controlHeight,labelColonMarginInlineStart:mt.marginXXS/2,labelColonMarginInlineEnd:mt.marginXS,itemMarginBottom:mt.marginLG,verticalLabelPadding:`0 0 ${mt.paddingXS}px`,verticalLabelMargin:0,inlineItemMarginBottom:0}),Nt=(mt,_n)=>(0,qe.IX)(mt,{formItemCls:`${mt.componentCls}-item`,rootPrefixCls:_n});var sn=(0,dt.I$)("Form",(mt,_n)=>{let{rootPrefixCls:Ut}=_n;const An=Nt(mt,Ut);return[kt(An),yt(An),ht(An),Et(An,An.componentCls),Et(An,An.formItemCls),Vt(An),er(An),Hn(An),(0,He.Z)(An),$e.kr]},Ze,{order:-1e3});const Xt=[];function Le(mt,_n,Ut){let An=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return{key:typeof mt=="string"?mt:`${_n}-${An}`,error:mt,errorStatus:Ut}}var cn=mt=>{let{help:_n,helpStatus:Ut,errors:An=Xt,warnings:or=Xt,className:qr,fieldId:Mi,onVisibleChanged:fo}=mt;const{prefixCls:$i}=Y.useContext(s.Rk),Qi=`${$i}-item-explain`,co=(0,Me.Z)($i),[Ni,Io,Wo]=sn($i,co),$o=Y.useMemo(()=>(0,Fe.Z)($i),[$i]),vo=ve(An),Oo=ve(or),zo=Y.useMemo(()=>_n!=null?[Le(_n,"help",Ut)]:[].concat((0,ot.Z)(vo.map((Co,mo)=>Le(Co,"error","error",mo))),(0,ot.Z)(Oo.map((Co,mo)=>Le(Co,"warning","warning",mo)))),[_n,Ut,vo,Oo]),Jo=Y.useMemo(()=>{const Co={};return zo.forEach(mo=>{let{key:so}=mo;Co[so]=(Co[so]||0)+1}),zo.map((mo,so)=>Object.assign(Object.assign({},mo),{key:Co[mo.key]>1?`${mo.key}-fallback-${so}`:mo.key}))},[zo]),to={};return Mi&&(to.id=`${Mi}_help`),Ni(Y.createElement(We.ZP,{motionDeadline:$o.motionDeadline,motionName:`${$i}-show-help`,visible:!!Jo.length,onVisibleChanged:fo},Co=>{const{className:mo,style:so}=Co;return Y.createElement("div",Object.assign({},to,{className:xe()(Qi,mo,Wo,co,qr,Io),style:so}),Y.createElement(We.V4,Object.assign({keys:Jo},(0,Fe.Z)($i),{motionName:`${$i}-show-help-item`,component:!1}),Fi=>{const{key:Qo,error:Rr,errorStatus:Ao,className:ea,style:Na}=Fi;return Y.createElement("div",{key:Qo,className:xe()(ea,{[`${Qi}-${Ao}`]:Ao}),style:Na},Rr)}))}))},En=F(93930),lt=F(98446),Gt=F(98472),bn=F(95741),fe=F(10497),Wt=F(4525),hi=F(56680);const Jr=["parentNode"],Te="form_item";function Pn(mt){return mt===void 0||mt===!1?[]:Array.isArray(mt)?mt:[mt]}function Lr(mt,_n){if(!mt.length)return;const Ut=mt.join("_");return _n?`${_n}_${Ut}`:Jr.includes(Ut)?`${Te}_${Ut}`:Ut}function kr(mt,_n,Ut,An,or,qr){let Mi=An;return qr!==void 0?Mi=qr:Ut.validating?Mi="validating":mt.length?Mi="error":_n.length?Mi="warning":(Ut.touched||or&&Ut.validated)&&(Mi="success"),Mi}var In=function(mt,_n){var Ut={};for(var An in mt)Object.prototype.hasOwnProperty.call(mt,An)&&_n.indexOf(An)<0&&(Ut[An]=mt[An]);if(mt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var or=0,An=Object.getOwnPropertySymbols(mt);or<An.length;or++)_n.indexOf(An[or])<0&&Object.prototype.propertyIsEnumerable.call(mt,An[or])&&(Ut[An[or]]=mt[An[or]]);return Ut};function Nr(mt){return Pn(mt).join("_")}function vi(mt,_n){const Ut=_n.getFieldInstance(mt),An=(0,Wt.bn)(Ut);if(An)return An;const or=Lr(Pn(mt),_n.__INTERNAL__.name);if(or)return document.getElementById(or)}function sr(mt){const[_n]=(0,En.cI)(),Ut=Y.useRef({}),An=Y.useMemo(()=>mt!=null?mt:Object.assign(Object.assign({},_n),{__INTERNAL__:{itemRef:or=>qr=>{const Mi=Nr(or);qr?Ut.current[Mi]=qr:delete Ut.current[Mi]}},scrollToField:function(or){let qr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{focus:Mi}=qr,fo=In(qr,["focus"]),$i=vi(or,An);$i&&((0,hi.Z)($i,Object.assign({scrollMode:"if-needed",block:"nearest"},fo)),Mi&&An.focusField(or))},focusField:or=>{var qr,Mi;const fo=An.getFieldInstance(or);typeof(fo==null?void 0:fo.focus)=="function"?fo.focus():(Mi=(qr=vi(or,An))===null||qr===void 0?void 0:qr.focus)===null||Mi===void 0||Mi.call(qr)},getFieldInstance:or=>{const qr=Nr(or);return Ut.current[qr]}}),[mt,_n]);return[An]}var it=F(63613),Ot=function(mt,_n){var Ut={};for(var An in mt)Object.prototype.hasOwnProperty.call(mt,An)&&_n.indexOf(An)<0&&(Ut[An]=mt[An]);if(mt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var or=0,An=Object.getOwnPropertySymbols(mt);or<An.length;or++)_n.indexOf(An[or])<0&&Object.prototype.propertyIsEnumerable.call(mt,An[or])&&(Ut[An[or]]=mt[An[or]]);return Ut};const zn=(mt,_n)=>{const Ut=Y.useContext(Gt.Z),{getPrefixCls:An,direction:or,requiredMark:qr,colon:Mi,scrollToFirstError:fo,className:$i,style:Qi}=(0,lt.dj)("form"),{prefixCls:co,className:Ni,rootClassName:Io,size:Wo,disabled:$o=Ut,form:vo,colon:Oo,labelAlign:zo,labelWrap:Jo,labelCol:to,wrapperCol:Co,hideRequiredMark:mo,layout:so="horizontal",scrollToFirstError:Fi,requiredMark:Qo,onFinishFailed:Rr,name:Ao,style:ea,feedbackIcons:Na,variant:ci}=mt,oa=Ot(mt,["prefixCls","className","rootClassName","size","disabled","form","colon","labelAlign","labelWrap","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name","style","feedbackIcons","variant"]),Ta=(0,bn.Z)(Wo),Br=Y.useContext(it.Z),oo=Y.useMemo(()=>Qo!==void 0?Qo:mo?!1:qr!==void 0?qr:!0,[mo,Qo,qr]),No=Oo!=null?Oo:Mi,Yo=An("form",co),uo=(0,Me.Z)(Yo),[Ri,fa,ko]=sn(Yo,uo),rn=xe()(Yo,`${Yo}-${so}`,{[`${Yo}-hide-required-mark`]:oo===!1,[`${Yo}-rtl`]:or==="rtl",[`${Yo}-${Ta}`]:Ta},ko,uo,fa,$i,Ni,Io),[Ge]=sr(vo),{__INTERNAL__:_e}=Ge;_e.name=Ao;const Ve=Y.useMemo(()=>({name:Ao,labelAlign:zo,labelCol:to,labelWrap:Jo,wrapperCol:Co,vertical:so==="vertical",colon:No,requiredMark:oo,itemRef:_e.itemRef,form:Ge,feedbackIcons:Na}),[Ao,zo,to,Co,so,No,oo,Ge,Na]),ze=Y.useRef(null);Y.useImperativeHandle(_n,()=>{var Kn;return Object.assign(Object.assign({},Ge),{nativeElement:(Kn=ze.current)===null||Kn===void 0?void 0:Kn.nativeElement})});const At=(Kn,Cr)=>{if(Kn){let Mr={block:"nearest"};typeof Kn=="object"&&(Mr=Object.assign(Object.assign({},Mr),Kn)),Ge.scrollToField(Cr,Mr)}},an=Kn=>{if(Rr==null||Rr(Kn),Kn.errorFields.length){const Cr=Kn.errorFields[0].name;if(Fi!==void 0){At(Fi,Cr);return}fo!==void 0&&At(fo,Cr)}};return Ri(Y.createElement(s.pg.Provider,{value:ci},Y.createElement(Gt.n,{disabled:$o},Y.createElement(fe.Z.Provider,{value:Ta},Y.createElement(s.RV,{validateMessages:Br},Y.createElement(s.q3.Provider,{value:Ve},Y.createElement(En.ZP,Object.assign({id:Ao},oa,{name:Ao,onFinishFailed:an,form:Ge,ref:ze,style:Object.assign(Object.assign({},Qi),ea),className:rn}))))))))};var fn=Y.forwardRef(zn),xr=F(60784),Un=F(42684),Xr=F(26021),ei=F(87117),Wr=F(81626);function ti(mt){if(typeof mt=="function")return mt;const _n=(0,Wr.Z)(mt);return _n.length<=1?_n[0]:_n}const gr=()=>{const{status:mt,errors:_n=[],warnings:Ut=[]}=Y.useContext(s.aM);return{status:mt,errors:_n,warnings:Ut}};gr.Context=s.aM;var mr=gr,fr=F(49975);function wr(mt){const[_n,Ut]=Y.useState(mt),An=Y.useRef(null),or=Y.useRef([]),qr=Y.useRef(!1);Y.useEffect(()=>(qr.current=!1,()=>{qr.current=!0,fr.Z.cancel(An.current),An.current=null}),[]);function Mi(fo){qr.current||(An.current===null&&(or.current=[],An.current=(0,fr.Z)(()=>{An.current=null,Ut($i=>{let Qi=$i;return or.current.forEach(co=>{Qi=co(Qi)}),Qi})})),or.current.push(fo))}return[_n,Mi]}function vr(){const{itemRef:mt}=Y.useContext(s.q3),_n=Y.useRef({});function Ut(An,or){const qr=or&&typeof or=="object"&&(0,Un.C4)(or),Mi=An.join("_");return(_n.current.name!==Mi||_n.current.originRef!==qr)&&(_n.current.name=Mi,_n.current.originRef=qr,_n.current.ref=(0,Un.sQ)(mt(An),qr)),_n.current.ref}return Ut}var jr=F(60900),Xn=F(92076),lr=F(18051),Yr=F(78769),Fn=F(22217),Si=F(11365);const mi=mt=>{const{formItemCls:_n}=mt;return{"@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none)":{[`${_n}-control`]:{display:"flex"}}}};var Hi=(0,dt.bk)(["Form","item-item"],(mt,_n)=>{let{rootPrefixCls:Ut}=_n;const An=Nt(mt,Ut);return[mi(An)]}),ho=function(mt,_n){var Ut={};for(var An in mt)Object.prototype.hasOwnProperty.call(mt,An)&&_n.indexOf(An)<0&&(Ut[An]=mt[An]);if(mt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var or=0,An=Object.getOwnPropertySymbols(mt);or<An.length;or++)_n.indexOf(An[or])<0&&Object.prototype.propertyIsEnumerable.call(mt,An[or])&&(Ut[An[or]]=mt[An[or]]);return Ut};const Ur=24;var en=mt=>{const{prefixCls:_n,status:Ut,labelCol:An,wrapperCol:or,children:qr,errors:Mi,warnings:fo,_internalItemRender:$i,extra:Qi,help:co,fieldId:Ni,marginBottom:Io,onErrorVisibleChanged:Wo,label:$o}=mt,vo=`${_n}-item`,Oo=Y.useContext(s.q3),zo=Y.useMemo(()=>{let oa=Object.assign({},or||Oo.wrapperCol||{});return $o===null&&!An&&!or&&Oo.labelCol&&[void 0,"xs","sm","md","lg","xl","xxl"].forEach(Br=>{const oo=Br?[Br]:[],No=(0,Fn.U2)(Oo.labelCol,oo),Yo=typeof No=="object"?No:{},uo=(0,Fn.U2)(oa,oo),Ri=typeof uo=="object"?uo:{};"span"in Yo&&!("offset"in Ri)&&Yo.span<Ur&&(oa=(0,Fn.t8)(oa,[].concat(oo,["offset"]),Yo.span))}),oa},[or,Oo]),Jo=xe()(`${vo}-control`,zo.className),to=Y.useMemo(()=>{const{labelCol:oa,wrapperCol:Ta}=Oo;return ho(Oo,["labelCol","wrapperCol"])},[Oo]),Co=Y.useRef(null),[mo,so]=Y.useState(0);(0,Xn.Z)(()=>{Qi&&Co.current?so(Co.current.clientHeight):so(0)},[Qi]);const Fi=Y.createElement("div",{className:`${vo}-control-input`},Y.createElement("div",{className:`${vo}-control-input-content`},qr)),Qo=Y.useMemo(()=>({prefixCls:_n,status:Ut}),[_n,Ut]),Rr=Io!==null||Mi.length||fo.length?Y.createElement(s.Rk.Provider,{value:Qo},Y.createElement(cn,{fieldId:Ni,errors:Mi,warnings:fo,help:co,helpStatus:Ut,className:`${vo}-explain-connected`,onVisibleChanged:Wo})):null,Ao={};Ni&&(Ao.id=`${Ni}_extra`);const ea=Qi?Y.createElement("div",Object.assign({},Ao,{className:`${vo}-extra`,ref:Co}),Qi):null,Na=Rr||ea?Y.createElement("div",{className:`${vo}-additional`,style:Io?{minHeight:Io+mo}:{}},Rr,ea):null,ci=$i&&$i.mark==="pro_table_render"&&$i.render?$i.render(mt,{input:Fi,errorList:Rr,extra:ea}):Y.createElement(Y.Fragment,null,Fi,Na);return Y.createElement(s.q3.Provider,{value:to},Y.createElement(Si.Z,Object.assign({},zo,{className:Jo}),ci),Y.createElement(Hi,{prefixCls:_n}))},Mn=F(23022),Qn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"},Dr=Qn,ui=F(23738),oi=function(_n,Ut){return Y.createElement(ui.Z,(0,Mn.Z)({},_n,{ref:Ut,icon:Dr}))},Xi=Y.forwardRef(oi),Ji=Xi,Ro=F(77648),xo=F(42474),io=F(9202),Oe=function(mt,_n){var Ut={};for(var An in mt)Object.prototype.hasOwnProperty.call(mt,An)&&_n.indexOf(An)<0&&(Ut[An]=mt[An]);if(mt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var or=0,An=Object.getOwnPropertySymbols(mt);or<An.length;or++)_n.indexOf(An[or])<0&&Object.prototype.propertyIsEnumerable.call(mt,An[or])&&(Ut[An[or]]=mt[An[or]]);return Ut};function de(mt){return mt?typeof mt=="object"&&!Y.isValidElement(mt)?mt:{title:mt}:null}var ke=mt=>{let{prefixCls:_n,label:Ut,htmlFor:An,labelCol:or,labelAlign:qr,colon:Mi,required:fo,requiredMark:$i,tooltip:Qi,vertical:co}=mt;var Ni;const[Io]=(0,Ro.Z)("Form"),{labelAlign:Wo,labelCol:$o,labelWrap:vo,colon:Oo}=Y.useContext(s.q3);if(!Ut)return null;const zo=or||$o||{},Jo=qr||Wo,to=`${_n}-item-label`,Co=xe()(to,Jo==="left"&&`${to}-left`,zo.className,{[`${to}-wrap`]:!!vo});let mo=Ut;const so=Mi===!0||Oo!==!1&&Mi!==!1;so&&!co&&typeof Ut=="string"&&Ut.trim()&&(mo=Ut.replace(/[:|：]\s*$/,""));const Qo=de(Qi);if(Qo){const{icon:Na=Y.createElement(Ji,null)}=Qo,ci=Oe(Qo,["icon"]),oa=Y.createElement(io.Z,Object.assign({},ci),Y.cloneElement(Na,{className:`${_n}-item-tooltip`,title:"",onClick:Ta=>{Ta.preventDefault()},tabIndex:null}));mo=Y.createElement(Y.Fragment,null,mo,oa)}const Rr=$i==="optional",Ao=typeof $i=="function";Ao?mo=$i(mo,{required:!!fo}):Rr&&!fo&&(mo=Y.createElement(Y.Fragment,null,mo,Y.createElement("span",{className:`${_n}-item-optional`,title:""},(Io==null?void 0:Io.optional)||((Ni=xo.Z.Form)===null||Ni===void 0?void 0:Ni.optional))));const ea=xe()({[`${_n}-item-required`]:fo,[`${_n}-item-required-mark-optional`]:Rr||Ao,[`${_n}-item-no-colon`]:!so});return Y.createElement(Si.Z,Object.assign({},zo,{className:Co}),Y.createElement("label",{htmlFor:An,className:ea,title:typeof Ut=="string"?Ut:""},mo))},he=F(4692),Ye=F(75434),et=F(64267),tn=F(24573);const Tt={success:he.Z,warning:et.Z,error:Ye.Z,validating:tn.Z};function nn(mt){let{children:_n,errors:Ut,warnings:An,hasFeedback:or,validateStatus:qr,prefixCls:Mi,meta:fo,noStyle:$i}=mt;const Qi=`${Mi}-item`,{feedbackIcons:co}=Y.useContext(s.q3),Ni=kr(Ut,An,fo,null,!!or,qr),{isFormItemInput:Io,status:Wo,hasFeedback:$o,feedbackIcon:vo}=Y.useContext(s.aM),Oo=Y.useMemo(()=>{var zo;let Jo;if(or){const Co=or!==!0&&or.icons||co,mo=Ni&&((zo=Co==null?void 0:Co({status:Ni,errors:Ut,warnings:An}))===null||zo===void 0?void 0:zo[Ni]),so=Ni&&Tt[Ni];Jo=mo!==!1&&so?Y.createElement("span",{className:xe()(`${Qi}-feedback-icon`,`${Qi}-feedback-icon-${Ni}`)},mo||Y.createElement(so,null)):null}const to={status:Ni||"",errors:Ut,warnings:An,hasFeedback:!!or,feedbackIcon:Jo,isFormItemInput:!0};return $i&&(to.status=(Ni!=null?Ni:Wo)||"",to.isFormItemInput=Io,to.hasFeedback=!!(or!=null?or:$o),to.feedbackIcon=or!==void 0?to.feedbackIcon:vo),to},[Ni,or,$i,Io,Wo]);return Y.createElement(s.aM.Provider,{value:Oo},_n)}var vn=function(mt,_n){var Ut={};for(var An in mt)Object.prototype.hasOwnProperty.call(mt,An)&&_n.indexOf(An)<0&&(Ut[An]=mt[An]);if(mt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var or=0,An=Object.getOwnPropertySymbols(mt);or<An.length;or++)_n.indexOf(An[or])<0&&Object.prototype.propertyIsEnumerable.call(mt,An[or])&&(Ut[An[or]]=mt[An[or]]);return Ut};function Xe(mt){const{prefixCls:_n,className:Ut,rootClassName:An,style:or,help:qr,errors:Mi,warnings:fo,validateStatus:$i,meta:Qi,hasFeedback:co,hidden:Ni,children:Io,fieldId:Wo,required:$o,isRequired:vo,onSubItemMetaChange:Oo,layout:zo}=mt,Jo=vn(mt,["prefixCls","className","rootClassName","style","help","errors","warnings","validateStatus","meta","hasFeedback","hidden","children","fieldId","required","isRequired","onSubItemMetaChange","layout"]),to=`${_n}-item`,{requiredMark:Co,vertical:mo}=Y.useContext(s.q3),so=mo||zo==="vertical",Fi=Y.useRef(null),Qo=ve(Mi),Rr=ve(fo),Ao=qr!=null,ea=!!(Ao||Mi.length||fo.length),Na=!!Fi.current&&(0,jr.Z)(Fi.current),[ci,oa]=Y.useState(null);(0,Xn.Z)(()=>{if(ea&&Fi.current){const Yo=getComputedStyle(Fi.current);oa(parseInt(Yo.marginBottom,10))}},[ea,Na]);const Ta=Yo=>{Yo||oa(null)},oo=function(){let Yo=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const uo=Yo?Qo:Qi.errors,Ri=Yo?Rr:Qi.warnings;return kr(uo,Ri,Qi,"",!!co,$i)}(),No=xe()(to,Ut,An,{[`${to}-with-help`]:Ao||Qo.length||Rr.length,[`${to}-has-feedback`]:oo&&co,[`${to}-has-success`]:oo==="success",[`${to}-has-warning`]:oo==="warning",[`${to}-has-error`]:oo==="error",[`${to}-is-validating`]:oo==="validating",[`${to}-hidden`]:Ni,[`${to}-${zo}`]:zo});return Y.createElement("div",{className:No,style:or,ref:Fi},Y.createElement(Yr.Z,Object.assign({className:`${to}-row`},(0,lr.Z)(Jo,["_internalItemRender","colon","dependencies","extra","fieldKey","getValueFromEvent","getValueProps","htmlFor","id","initialValue","isListField","label","labelAlign","labelCol","labelWrap","messageVariables","name","normalize","noStyle","preserve","requiredMark","rules","shouldUpdate","trigger","tooltip","validateFirst","validateTrigger","valuePropName","wrapperCol","validateDebounce"])),Y.createElement(ke,Object.assign({htmlFor:Wo},mt,{requiredMark:Co,required:$o!=null?$o:vo,prefixCls:_n,vertical:so})),Y.createElement(en,Object.assign({},mt,Qi,{errors:Qo,warnings:Rr,prefixCls:_n,status:oo,help:qr,marginBottom:ci,onErrorVisibleChanged:Ta}),Y.createElement(s.qI.Provider,{value:Oo},Y.createElement(nn,{prefixCls:_n,meta:Qi,errors:Qi.errors,warnings:Qi.warnings,hasFeedback:co,validateStatus:oo},Io)))),!!ci&&Y.createElement("div",{className:`${to}-margin-offset`,style:{marginBottom:-ci}}))}const Mt="__SPLIT__",Ht=null;function Qt(mt,_n){const Ut=Object.keys(mt),An=Object.keys(_n);return Ut.length===An.length&&Ut.every(or=>{const qr=mt[or],Mi=_n[or];return qr===Mi||typeof qr=="function"||typeof Mi=="function"})}const ct=Y.memo(mt=>{let{children:_n}=mt;return _n},(mt,_n)=>Qt(mt.control,_n.control)&&mt.update===_n.update&&mt.childProps.length===_n.childProps.length&&mt.childProps.every((Ut,An)=>Ut===_n.childProps[An]));function rt(){return{errors:[],warnings:[],touched:!1,validating:!1,name:[],validated:!1}}function xn(mt){const{name:_n,noStyle:Ut,className:An,dependencies:or,prefixCls:qr,shouldUpdate:Mi,rules:fo,children:$i,required:Qi,label:co,messageVariables:Ni,trigger:Io="onChange",validateTrigger:Wo,hidden:$o,help:vo,layout:Oo}=mt,{getPrefixCls:zo}=Y.useContext(lt.E_),{name:Jo}=Y.useContext(s.q3),to=ti($i),Co=typeof to=="function",mo=Y.useContext(s.qI),{validateTrigger:so}=Y.useContext(En.zb),Fi=Wo!==void 0?Wo:so,Qo=_n!=null,Rr=zo("form",qr),Ao=(0,Me.Z)(Rr),[ea,Na,ci]=sn(Rr,Ao),oa=(0,ei.ln)("Form.Item"),Ta=Y.useContext(En.ZM),Br=Y.useRef(null),[oo,No]=wr({}),[Yo,uo]=(0,xr.Z)(()=>rt()),Ri=ze=>{const At=Ta==null?void 0:Ta.getKey(ze.name);if(uo(ze.destroy?rt():ze,!0),Ut&&vo!==!1&&mo){let an=ze.name;if(ze.destroy)an=Br.current||an;else if(At!==void 0){const[Kn,Cr]=At;an=[Kn].concat((0,ot.Z)(Cr)),Br.current=an}mo(ze,an)}},fa=(ze,At)=>{No(an=>{const Kn=Object.assign({},an),Mr=[].concat((0,ot.Z)(ze.name.slice(0,-1)),(0,ot.Z)(At)).join(Mt);return ze.destroy?delete Kn[Mr]:Kn[Mr]=ze,Kn})},[ko,rn]=Y.useMemo(()=>{const ze=(0,ot.Z)(Yo.errors),At=(0,ot.Z)(Yo.warnings);return Object.values(oo).forEach(an=>{ze.push.apply(ze,(0,ot.Z)(an.errors||[])),At.push.apply(At,(0,ot.Z)(an.warnings||[]))}),[ze,At]},[oo,Yo.errors,Yo.warnings]),Ge=vr();function _e(ze,At,an){return Ut&&!$o?Y.createElement(nn,{prefixCls:Rr,hasFeedback:mt.hasFeedback,validateStatus:mt.validateStatus,meta:Yo,errors:ko,warnings:rn,noStyle:!0},ze):Y.createElement(Xe,Object.assign({key:"row"},mt,{className:xe()(An,ci,Ao,Na),prefixCls:Rr,fieldId:At,isRequired:an,errors:ko,warnings:rn,meta:Yo,onSubItemMetaChange:fa,layout:Oo}),ze)}if(!Qo&&!Co&&!or)return ea(_e(to));let Ve={};return typeof co=="string"?Ve.label=co:_n&&(Ve.label=String(_n)),Ni&&(Ve=Object.assign(Object.assign({},Ve),Ni)),ea(Y.createElement(En.gN,Object.assign({},mt,{messageVariables:Ve,trigger:Io,validateTrigger:Fi,onMetaChange:Ri}),(ze,At,an)=>{const Kn=Pn(_n).length&&At?At.name:[],Cr=Lr(Kn,Jo),Mr=Qi!==void 0?Qi:!!(fo!=null&&fo.some(wi=>{if(wi&&typeof wi=="object"&&wi.required&&!wi.warningOnly)return!0;if(typeof wi=="function"){const yo=wi(an);return(yo==null?void 0:yo.required)&&!(yo!=null&&yo.warningOnly)}return!1})),yr=Object.assign({},ze);let si=null;if(Array.isArray(to)&&Qo)si=to;else if(!(Co&&(!(Mi||or)||Qo))){if(!(or&&!Co&&!Qo))if(Y.isValidElement(to)){const wi=Object.assign(Object.assign({},to.props),yr);if(wi.id||(wi.id=Cr),vo||ko.length>0||rn.length>0||mt.extra){const Ei=[];(vo||ko.length>0)&&Ei.push(`${Cr}_help`),mt.extra&&Ei.push(`${Cr}_extra`),wi["aria-describedby"]=Ei.join(" ")}ko.length>0&&(wi["aria-invalid"]="true"),Mr&&(wi["aria-required"]="true"),(0,Un.Yr)(to)&&(wi.ref=Ge(Kn,to)),new Set([].concat((0,ot.Z)(Pn(Io)),(0,ot.Z)(Pn(Fi)))).forEach(Ei=>{wi[Ei]=function(){for(var ni,zi,Ai,_o,na,ua=arguments.length,Ea=new Array(ua),Ia=0;Ia<ua;Ia++)Ea[Ia]=arguments[Ia];(Ai=yr[Ei])===null||Ai===void 0||(ni=Ai).call.apply(ni,[yr].concat(Ea)),(na=(_o=to.props)[Ei])===null||na===void 0||(zi=na).call.apply(zi,[_o].concat(Ea))}});const yi=[wi["aria-required"],wi["aria-invalid"],wi["aria-describedby"]];si=Y.createElement(ct,{control:yr,update:to,childProps:yi},(0,Xr.Tm)(to,wi))}else Co&&(Mi||or)&&!Qo?si=to(an):si=to}return _e(si,Cr,Mr)}))}const yn=xn;yn.useStatus=mr;var Zn=yn,_r=function(mt,_n){var Ut={};for(var An in mt)Object.prototype.hasOwnProperty.call(mt,An)&&_n.indexOf(An)<0&&(Ut[An]=mt[An]);if(mt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var or=0,An=Object.getOwnPropertySymbols(mt);or<An.length;or++)_n.indexOf(An[or])<0&&Object.prototype.propertyIsEnumerable.call(mt,An[or])&&(Ut[An[or]]=mt[An[or]]);return Ut},Or=mt=>{var{prefixCls:_n,children:Ut}=mt,An=_r(mt,["prefixCls","children"]);const{getPrefixCls:or}=Y.useContext(lt.E_),qr=or("form",_n),Mi=Y.useMemo(()=>({prefixCls:qr,status:"error"}),[qr]);return Y.createElement(En.aV,Object.assign({},An),(fo,$i,Qi)=>Y.createElement(s.Rk.Provider,{value:Mi},Ut(fo.map(co=>Object.assign(Object.assign({},co),{fieldKey:co.key})),$i,{errors:Qi.errors,warnings:Qi.warnings})))};function Qr(){const{form:mt}=Y.useContext(s.q3);return mt}const ii=fn;ii.Item=Zn,ii.List=Or,ii.ErrorList=cn,ii.useForm=sr,ii.useFormInstance=Qr,ii.useWatch=En.qo,ii.Provider=s.RV,ii.create=()=>{};var Ui=ii},63613:function(Zr,jt,F){"use strict";var s=F(75271);jt.Z=(0,s.createContext)(void 0)},60017:function(Zr,jt,F){"use strict";var s=F(75271);const ot=(0,s.createContext)({});jt.Z=ot},11365:function(Zr,jt,F){"use strict";var s=F(75271),ot=F(82187),Y=F.n(ot),c=F(98446),xe=F(60017),We=F(40672),Fe=function(Ke,$e){var He={};for(var qe in Ke)Object.prototype.hasOwnProperty.call(Ke,qe)&&$e.indexOf(qe)<0&&(He[qe]=Ke[qe]);if(Ke!=null&&typeof Object.getOwnPropertySymbols=="function")for(var dt=0,qe=Object.getOwnPropertySymbols(Ke);dt<qe.length;dt++)$e.indexOf(qe[dt])<0&&Object.prototype.propertyIsEnumerable.call(Ke,qe[dt])&&(He[qe[dt]]=Ke[qe[dt]]);return He};function Me(Ke){return typeof Ke=="number"?`${Ke} ${Ke} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(Ke)?`0 0 ${Ke}`:Ke}const ve=["xs","sm","md","lg","xl","xxl"],te=s.forwardRef((Ke,$e)=>{const{getPrefixCls:He,direction:qe}=s.useContext(c.E_),{gutter:dt,wrap:Je}=s.useContext(xe.Z),{prefixCls:ht,span:bt,order:Ue,offset:kt,push:yt,pull:Et,className:Vt,children:Lt,flex:hr,style:er}=Ke,Hn=Fe(Ke,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),Ze=He("col",ht),[Nt,sn,Xt]=(0,We.cG)(Ze),Le={};let $n={};ve.forEach(lt=>{let Gt={};const bn=Ke[lt];typeof bn=="number"?Gt.span=bn:typeof bn=="object"&&(Gt=bn||{}),delete Hn[lt],$n=Object.assign(Object.assign({},$n),{[`${Ze}-${lt}-${Gt.span}`]:Gt.span!==void 0,[`${Ze}-${lt}-order-${Gt.order}`]:Gt.order||Gt.order===0,[`${Ze}-${lt}-offset-${Gt.offset}`]:Gt.offset||Gt.offset===0,[`${Ze}-${lt}-push-${Gt.push}`]:Gt.push||Gt.push===0,[`${Ze}-${lt}-pull-${Gt.pull}`]:Gt.pull||Gt.pull===0,[`${Ze}-rtl`]:qe==="rtl"}),Gt.flex&&($n[`${Ze}-${lt}-flex`]=!0,Le[`--${Ze}-${lt}-flex`]=Me(Gt.flex))});const cn=Y()(Ze,{[`${Ze}-${bt}`]:bt!==void 0,[`${Ze}-order-${Ue}`]:Ue,[`${Ze}-offset-${kt}`]:kt,[`${Ze}-push-${yt}`]:yt,[`${Ze}-pull-${Et}`]:Et},Vt,$n,sn,Xt),En={};if(dt&&dt[0]>0){const lt=dt[0]/2;En.paddingLeft=lt,En.paddingRight=lt}return hr&&(En.flex=Me(hr),Je===!1&&!En.minWidth&&(En.minWidth=0)),Nt(s.createElement("div",Object.assign({},Hn,{style:Object.assign(Object.assign(Object.assign({},En),er),Le),className:cn,ref:$e}),Lt))});jt.Z=te},19240:function(Zr,jt,F){"use strict";var s=F(75271),ot=F(92076),Y=F(85990),c=F(96777);function xe(){let We=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,Fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const Me=(0,s.useRef)(Fe),ve=(0,Y.Z)(),te=(0,c.ZP)();return(0,ot.Z)(()=>{const Ke=te.subscribe($e=>{Me.current=$e,We&&ve()});return()=>te.unsubscribe(Ke)},[]),Me.current}jt.Z=xe},78769:function(Zr,jt,F){"use strict";F.d(jt,{Z:function(){return dt}});var s=F(75271),ot=F(82187),Y=F.n(ot),c=F(96777),xe=F(98446),We=F(19240);function Fe(Je,ht){const bt=[void 0,void 0],Ue=Array.isArray(Je)?Je:[Je,void 0],kt=ht||{xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0};return Ue.forEach((yt,Et)=>{if(typeof yt=="object"&&yt!==null)for(let Vt=0;Vt<c.c4.length;Vt++){const Lt=c.c4[Vt];if(kt[Lt]&&yt[Lt]!==void 0){bt[Et]=yt[Lt];break}}else bt[Et]=yt}),bt}var Me=F(60017),ve=F(40672),te=function(Je,ht){var bt={};for(var Ue in Je)Object.prototype.hasOwnProperty.call(Je,Ue)&&ht.indexOf(Ue)<0&&(bt[Ue]=Je[Ue]);if(Je!=null&&typeof Object.getOwnPropertySymbols=="function")for(var kt=0,Ue=Object.getOwnPropertySymbols(Je);kt<Ue.length;kt++)ht.indexOf(Ue[kt])<0&&Object.prototype.propertyIsEnumerable.call(Je,Ue[kt])&&(bt[Ue[kt]]=Je[Ue[kt]]);return bt};const Ke=null,$e=null;function He(Je,ht){const[bt,Ue]=s.useState(typeof Je=="string"?Je:""),kt=()=>{if(typeof Je=="string"&&Ue(Je),typeof Je=="object")for(let yt=0;yt<c.c4.length;yt++){const Et=c.c4[yt];if(!ht||!ht[Et])continue;const Vt=Je[Et];if(Vt!==void 0){Ue(Vt);return}}};return s.useEffect(()=>{kt()},[JSON.stringify(Je),ht]),bt}var dt=s.forwardRef((Je,ht)=>{const{prefixCls:bt,justify:Ue,align:kt,className:yt,style:Et,children:Vt,gutter:Lt=0,wrap:hr}=Je,er=te(Je,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:Hn,direction:Ze}=s.useContext(xe.E_),Nt=(0,We.Z)(!0,null),sn=He(kt,Nt),Xt=He(Ue,Nt),Le=Hn("row",bt),[$n,cn,En]=(0,ve.VM)(Le),lt=Fe(Lt,Nt),Gt=Y()(Le,{[`${Le}-no-wrap`]:hr===!1,[`${Le}-${Xt}`]:Xt,[`${Le}-${sn}`]:sn,[`${Le}-rtl`]:Ze==="rtl"},yt,cn,En),bn={},fe=lt[0]!=null&&lt[0]>0?lt[0]/-2:void 0;fe&&(bn.marginLeft=fe,bn.marginRight=fe);const[Wt,hi]=lt;bn.rowGap=hi;const Jr=s.useMemo(()=>({gutter:[Wt,hi],wrap:hr}),[Wt,hi,hr]);return $n(s.createElement(Me.Z.Provider,{value:Jr},s.createElement("div",Object.assign({},er,{className:Gt,style:Object.assign(Object.assign({},bn),Et),ref:ht}),Vt)))})},40672:function(Zr,jt,F){"use strict";F.d(jt,{VM:function(){return Ke},cG:function(){return He},hd:function(){return $e}});var s=F(55921),ot=F(84825),Y=F(83509);const c=qe=>{const{componentCls:dt}=qe;return{[dt]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},xe=qe=>{const{componentCls:dt}=qe;return{[dt]:{position:"relative",maxWidth:"100%",minHeight:1}}},We=(qe,dt)=>{const{prefixCls:Je,componentCls:ht,gridColumns:bt}=qe,Ue={};for(let kt=bt;kt>=0;kt--)kt===0?(Ue[`${ht}${dt}-${kt}`]={display:"none"},Ue[`${ht}-push-${kt}`]={insetInlineStart:"auto"},Ue[`${ht}-pull-${kt}`]={insetInlineEnd:"auto"},Ue[`${ht}${dt}-push-${kt}`]={insetInlineStart:"auto"},Ue[`${ht}${dt}-pull-${kt}`]={insetInlineEnd:"auto"},Ue[`${ht}${dt}-offset-${kt}`]={marginInlineStart:0},Ue[`${ht}${dt}-order-${kt}`]={order:0}):(Ue[`${ht}${dt}-${kt}`]=[{"--ant-display":"block",display:"block"},{display:"var(--ant-display)",flex:`0 0 ${kt/bt*100}%`,maxWidth:`${kt/bt*100}%`}],Ue[`${ht}${dt}-push-${kt}`]={insetInlineStart:`${kt/bt*100}%`},Ue[`${ht}${dt}-pull-${kt}`]={insetInlineEnd:`${kt/bt*100}%`},Ue[`${ht}${dt}-offset-${kt}`]={marginInlineStart:`${kt/bt*100}%`},Ue[`${ht}${dt}-order-${kt}`]={order:kt});return Ue[`${ht}${dt}-flex`]={flex:`var(--${Je}${dt}-flex)`},Ue},Fe=(qe,dt)=>We(qe,dt),Me=(qe,dt,Je)=>({[`@media (min-width: ${(0,s.bf)(dt)})`]:Object.assign({},Fe(qe,Je))}),ve=()=>({}),te=()=>({}),Ke=(0,ot.I$)("Grid",c,ve),$e=qe=>({xs:qe.screenXSMin,sm:qe.screenSMMin,md:qe.screenMDMin,lg:qe.screenLGMin,xl:qe.screenXLMin,xxl:qe.screenXXLMin}),He=(0,ot.I$)("Grid",qe=>{const dt=(0,Y.IX)(qe,{gridColumns:24}),Je=$e(dt);return delete Je.xs,[xe(dt),Fe(dt,""),Fe(dt,"-xs"),Object.keys(Je).map(ht=>Me(dt,Je[ht],`-${ht}`)).reduce((ht,bt)=>Object.assign(Object.assign({},ht),bt),{})]},te)},60830:function(Zr,jt,F){"use strict";F.r(jt),F.d(jt,{Affix:function(){return Vt},Alert:function(){return mr},Anchor:function(){return xo},App:function(){return Ou},AutoComplete:function(){return Ep},Avatar:function(){return vh},BackTop:function(){return Rv},Badge:function(){return Yu},Breadcrumb:function(){return mC},Button:function(){return wn},Calendar:function(){return g1},Card:function(){return tS},Carousel:function(){return xS},Cascader:function(){return pt},Checkbox:function(){return Hr},Col:function(){return ji},Collapse:function(){return qi.Z},ColorPicker:function(){return la.Z},ConfigProvider:function(){return Fi.ZP},DatePicker:function(){return p2},Descriptions:function(){return MT},Divider:function(){return TT.Z},Drawer:function(){return WT},Dropdown:function(){return wx},Empty:function(){return LS.Z},Flex:function(){return fP},FloatButton:function(){return TP},Form:function(){return PP.Z},Grid:function(){return RP},Image:function(){return FO},Input:function(){return b3},InputNumber:function(){return x3.Z},Layout:function(){return P3},List:function(){return MR},Mentions:function(){return e$},Menu:function(){return Xv},Modal:function(){return f$},Pagination:function(){return Ox},Popconfirm:function(){return w$},Popover:function(){return Hd.Z},Progress:function(){return tw},QRCode:function(){return x4},Radio:function(){return nw.ZP},Rate:function(){return V4},Result:function(){return lA},Row:function(){return cA},Segmented:function(){return uA.Z},Select:function(){return gu.default},Skeleton:function(){return Tr},Slider:function(){return dA.Z},Space:function(){return R2},Spin:function(){return gv},Splitter:function(){return fF},Statistic:function(){return EA},Steps:function(){return JA},Switch:function(){return cD},Table:function(){return DL},Tabs:function(){return zh},Tag:function(){return VL},TimePicker:function(){return sN},Timeline:function(){return vN},Tooltip:function(){return Du.Z},Tour:function(){return kN},Transfer:function(){return h6},Tree:function(){return oM},TreeSelect:function(){return H6},Typography:function(){return kB},Upload:function(){return N8},Watermark:function(){return Y8},message:function(){return l$},notification:function(){return y$},theme:function(){return nN},unstableSetRender:function(){return Qo.q},version:function(){return B8.Z}});var s=F(75271),ot=F(82187),Y=F.n(ot),c=F(40493),xe=F(46865),We=F(49975);function Fe(e){let t;const a=f=>()=>{t=null,e.apply(void 0,(0,xe.Z)(f))},o=function(){if(t==null){for(var f=arguments.length,y=new Array(f),C=0;C<f;C++)y[C]=arguments[C];t=(0,We.Z)(a(y))}};return o.cancel=()=>{We.Z.cancel(t),t=null},o}var Me=Fe,ve=F(98446),te=F(84825);const Ke=e=>{const{componentCls:t}=e;return{[t]:{position:"fixed",zIndex:e.zIndexPopup}}},$e=e=>({zIndexPopup:e.zIndexBase+10});var He=(0,te.I$)("Affix",Ke,$e);function qe(e){return e!==window?e.getBoundingClientRect():{top:0,bottom:window.innerHeight}}function dt(e,t,a){if(a!==void 0&&Math.round(t.top)>Math.round(e.top)-a)return a+t.top}function Je(e,t,a){if(a!==void 0&&Math.round(t.bottom)<Math.round(e.bottom)+a){const o=window.innerHeight-t.bottom;return a+o}}var ht=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const bt=["resize","scroll","touchstart","touchmove","touchend","pageshow","load"];function Ue(){return typeof window!="undefined"?window:null}const kt=0,yt=1;var Vt=s.forwardRef((e,t)=>{var a;const{style:o,offsetTop:f,offsetBottom:y,prefixCls:C,className:w,rootClassName:I,children:D,target:z,onChange:L,onTestUpdatePosition:k}=e,Z=ht(e,["style","offsetTop","offsetBottom","prefixCls","className","rootClassName","children","target","onChange","onTestUpdatePosition"]),{getPrefixCls:j,getTargetContainer:G}=s.useContext(ve.E_),H=j("affix",C),[K,ee]=s.useState(!1),[ie,oe]=s.useState(),[re,se]=s.useState(),ue=s.useRef(kt),me=s.useRef(null),pe=s.useRef(null),ye=s.useRef(null),Se=s.useRef(null),Ie=s.useRef(null),we=(a=z!=null?z:G)!==null&&a!==void 0?a:Ue,Be=y===void 0&&f===void 0?0:f,Re=()=>{if(ue.current!==yt||!Se.current||!ye.current||!we)return;const It=we();if(It){const Ft={status:kt},wt=qe(ye.current);if(wt.top===0&&wt.left===0&&wt.width===0&&wt.height===0)return;const pn=qe(It),Bn=dt(wt,pn,Be),ln=Je(wt,pn,y);Bn!==void 0?(Ft.affixStyle={position:"fixed",top:Bn,width:wt.width,height:wt.height},Ft.placeholderStyle={width:wt.width,height:wt.height}):ln!==void 0&&(Ft.affixStyle={position:"fixed",bottom:ln,width:wt.width,height:wt.height},Ft.placeholderStyle={width:wt.width,height:wt.height}),Ft.lastAffix=!!Ft.affixStyle,K!==Ft.lastAffix&&(L==null||L(Ft.lastAffix)),ue.current=Ft.status,oe(Ft.affixStyle),se(Ft.placeholderStyle),ee(Ft.lastAffix)}},je=()=>{ue.current=yt,Re()},Ne=Me(()=>{je()}),nt=Me(()=>{if(we&&ie){const It=we();if(It&&ye.current){const Ft=qe(It),wt=qe(ye.current),pn=dt(wt,Ft,Be),Bn=Je(wt,Ft,y);if(pn!==void 0&&ie.top===pn||Bn!==void 0&&ie.bottom===Bn)return}}je()}),at=()=>{const It=we==null?void 0:we();It&&(bt.forEach(Ft=>{var wt;pe.current&&((wt=me.current)===null||wt===void 0||wt.removeEventListener(Ft,pe.current)),It==null||It.addEventListener(Ft,nt)}),me.current=It,pe.current=nt)},Ct=()=>{Ie.current&&(clearTimeout(Ie.current),Ie.current=null);const It=we==null?void 0:we();bt.forEach(Ft=>{var wt;It==null||It.removeEventListener(Ft,nt),pe.current&&((wt=me.current)===null||wt===void 0||wt.removeEventListener(Ft,pe.current))}),Ne.cancel(),nt.cancel()};s.useImperativeHandle(t,()=>({updatePosition:Ne})),s.useEffect(()=>(Ie.current=setTimeout(at),()=>Ct()),[]),s.useEffect(()=>{at()},[z,ie]),s.useEffect(()=>{Ne()},[z,f,y]);const[St,_t,ft]=He(H),vt=Y()(I,_t,H,ft),$t=Y()({[vt]:ie});return St(s.createElement(c.Z,{onResize:Ne},s.createElement("div",Object.assign({style:o,className:w,ref:ye},Z),ie&&s.createElement("div",{style:re,"aria-hidden":"true"}),s.createElement("div",{className:$t,ref:Se,style:ie},s.createElement(c.Z,{onResize:Ne},D)))))}),Lt=F(4692),hr=F(75434),er=F(14258),Hn=F(64267),Ze=F(23022),Nt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},sn=Nt,Xt=F(23738),Le=function(t,a){return s.createElement(Xt.Z,(0,Ze.Z)({},t,{ref:a,icon:sn}))},$n=s.forwardRef(Le),cn=$n,En=F(62803),lt=F(71305),Gt=F(42684),bn=F(26021),fe=F(55921),Wt=F(34299);const hi=(e,t,a,o,f)=>({background:e,border:`${(0,fe.bf)(o.lineWidth)} ${o.lineType} ${t}`,[`${f}-icon`]:{color:a}}),Jr=e=>{const{componentCls:t,motionDurationSlow:a,marginXS:o,marginSM:f,fontSize:y,fontSizeLG:C,lineHeight:w,borderRadiusLG:I,motionEaseInOutCirc:D,withDescriptionIconSize:z,colorText:L,colorTextHeading:k,withDescriptionPadding:Z,defaultPadding:j}=e;return{[t]:Object.assign(Object.assign({},(0,Wt.Wf)(e)),{position:"relative",display:"flex",alignItems:"center",padding:j,wordWrap:"break-word",borderRadius:I,[`&${t}-rtl`]:{direction:"rtl"},[`${t}-content`]:{flex:1,minWidth:0},[`${t}-icon`]:{marginInlineEnd:o,lineHeight:0},"&-description":{display:"none",fontSize:y,lineHeight:w},"&-message":{color:k},[`&${t}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${a} ${D}, opacity ${a} ${D},
        padding-top ${a} ${D}, padding-bottom ${a} ${D},
        margin-bottom ${a} ${D}`},[`&${t}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${t}-with-description`]:{alignItems:"flex-start",padding:Z,[`${t}-icon`]:{marginInlineEnd:f,fontSize:z,lineHeight:0},[`${t}-message`]:{display:"block",marginBottom:o,color:k,fontSize:C},[`${t}-description`]:{display:"block",color:L}},[`${t}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},Te=e=>{const{componentCls:t,colorSuccess:a,colorSuccessBorder:o,colorSuccessBg:f,colorWarning:y,colorWarningBorder:C,colorWarningBg:w,colorError:I,colorErrorBorder:D,colorErrorBg:z,colorInfo:L,colorInfoBorder:k,colorInfoBg:Z}=e;return{[t]:{"&-success":hi(f,o,a,e,t),"&-info":hi(Z,k,L,e,t),"&-warning":hi(w,C,y,e,t),"&-error":Object.assign(Object.assign({},hi(z,D,I,e,t)),{[`${t}-description > pre`]:{margin:0,padding:0}})}}},Pn=e=>{const{componentCls:t,iconCls:a,motionDurationMid:o,marginXS:f,fontSizeIcon:y,colorIcon:C,colorIconHover:w}=e;return{[t]:{"&-action":{marginInlineStart:f},[`${t}-close-icon`]:{marginInlineStart:f,padding:0,overflow:"hidden",fontSize:y,lineHeight:(0,fe.bf)(y),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${a}-close`]:{color:C,transition:`color ${o}`,"&:hover":{color:w}}},"&-close-text":{color:C,transition:`color ${o}`,"&:hover":{color:w}}}}},Lr=e=>({withDescriptionIconSize:e.fontSizeHeading3,defaultPadding:`${e.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${e.paddingMD}px ${e.paddingContentHorizontalLG}px`});var kr=(0,te.I$)("Alert",e=>[Jr(e),Te(e),Pn(e)],Lr),In=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const Nr={success:Lt.Z,info:cn,error:hr.Z,warning:Hn.Z},vi=e=>{const{icon:t,prefixCls:a,type:o}=e,f=Nr[o]||null;return t?(0,bn.wm)(t,s.createElement("span",{className:`${a}-icon`},t),()=>({className:Y()(`${a}-icon`,t.props.className)})):s.createElement(f,{className:`${a}-icon`})},sr=e=>{const{isClosable:t,prefixCls:a,closeIcon:o,handleClose:f,ariaProps:y}=e,C=o===!0||o===void 0?s.createElement(er.Z,null):o;return t?s.createElement("button",Object.assign({type:"button",onClick:f,className:`${a}-close-icon`,tabIndex:0},y),C):null};var Ot=s.forwardRef((e,t)=>{const{description:a,prefixCls:o,message:f,banner:y,className:C,rootClassName:w,style:I,onMouseEnter:D,onMouseLeave:z,onClick:L,afterClose:k,showIcon:Z,closable:j,closeText:G,closeIcon:H,action:K,id:ee}=e,ie=In(e,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action","id"]),[oe,re]=s.useState(!1),se=s.useRef(null);s.useImperativeHandle(t,()=>({nativeElement:se.current}));const{getPrefixCls:ue,direction:me,closable:pe,closeIcon:ye,className:Se,style:Ie}=(0,ve.dj)("alert"),we=ue("alert",o),[Be,Re,je]=kr(we),Ne=$t=>{var It;re(!0),(It=e.onClose)===null||It===void 0||It.call(e,$t)},nt=s.useMemo(()=>e.type!==void 0?e.type:y?"warning":"info",[e.type,y]),at=s.useMemo(()=>typeof j=="object"&&j.closeIcon||G?!0:typeof j=="boolean"?j:H!==!1&&H!==null&&H!==void 0?!0:!!pe,[G,H,j,pe]),Ct=y&&Z===void 0?!0:Z,St=Y()(we,`${we}-${nt}`,{[`${we}-with-description`]:!!a,[`${we}-no-icon`]:!Ct,[`${we}-banner`]:!!y,[`${we}-rtl`]:me==="rtl"},Se,C,w,je,Re),_t=(0,lt.Z)(ie,{aria:!0,data:!0}),ft=s.useMemo(()=>typeof j=="object"&&j.closeIcon?j.closeIcon:G||(H!==void 0?H:typeof pe=="object"&&pe.closeIcon?pe.closeIcon:ye),[H,j,G,ye]),vt=s.useMemo(()=>{const $t=j!=null?j:pe;if(typeof $t=="object"){const{closeIcon:It}=$t;return In($t,["closeIcon"])}return{}},[j,pe]);return Be(s.createElement(En.ZP,{visible:!oe,motionName:`${we}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:$t=>({maxHeight:$t.offsetHeight}),onLeaveEnd:k},($t,It)=>{let{className:Ft,style:wt}=$t;return s.createElement("div",Object.assign({id:ee,ref:(0,Gt.sQ)(se,It),"data-show":!oe,className:Y()(St,Ft),style:Object.assign(Object.assign(Object.assign({},Ie),I),wt),onMouseEnter:D,onMouseLeave:z,onClick:L,role:"alert"},_t),Ct?s.createElement(vi,{description:a,icon:e.icon,prefixCls:we,type:nt}):null,s.createElement("div",{className:`${we}-content`},f?s.createElement("div",{className:`${we}-message`},f):null,a?s.createElement("div",{className:`${we}-description`},a):null),K?s.createElement("div",{className:`${we}-action`},K):null,s.createElement(sr,{isClosable:at,prefixCls:we,closeIcon:ft,handleClose:Ne,ariaProps:vt}))}))}),zn=F(59295),dn=F(45985),fn=F(51123),xr=F(57649),Un=F(78512);function Xr(e,t,a){return t=(0,fn.Z)(t),(0,Un.Z)(e,(0,xr.Z)()?Reflect.construct(t,a||[],(0,fn.Z)(e).constructor):t.apply(e,a))}var ei=F(76525),ti=function(e){function t(){var a;return(0,zn.Z)(this,t),a=Xr(this,t,arguments),a.state={error:void 0,info:{componentStack:""}},a}return(0,ei.Z)(t,e),(0,dn.Z)(t,[{key:"componentDidCatch",value:function(o,f){this.setState({error:o,info:f})}},{key:"render",value:function(){const{message:o,description:f,id:y,children:C}=this.props,{error:w,info:I}=this.state,D=(I==null?void 0:I.componentStack)||null,z=typeof o=="undefined"?(w||"").toString():o,L=typeof f=="undefined"?D:f;return w?s.createElement(Ot,{id:y,type:"error",message:z,description:s.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},L)}):C}}])}(s.Component);const gr=Ot;gr.ErrorBoundary=ti;var mr=gr,fr=F(59373),wr=F(56680);function vr(e){return e!=null&&e===e.window}var Xn=e=>{var t,a;if(typeof window=="undefined")return 0;let o=0;return vr(e)?o=e.pageYOffset:e instanceof Document?o=e.documentElement.scrollTop:(e instanceof HTMLElement||e)&&(o=e.scrollTop),e&&!vr(e)&&typeof o!="number"&&(o=(a=((t=e.ownerDocument)!==null&&t!==void 0?t:e).documentElement)===null||a===void 0?void 0:a.scrollTop),o};function lr(e,t,a,o){const f=a-t;return e/=o/2,e<1?f/2*e*e*e+t:f/2*((e-=2)*e*e+2)+t}function Yr(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{getContainer:a=()=>window,callback:o,duration:f=450}=t,y=a(),C=Xn(y),w=Date.now(),I=()=>{const z=Date.now()-w,L=lr(z>f?f:z,C,e,f);vr(y)?y.scrollTo(window.pageXOffset,L):y instanceof Document||y.constructor.name==="HTMLDocument"?y.documentElement.scrollTop=L:y.scrollTop=L,z<f?(0,We.Z)(I):typeof o=="function"&&o()};(0,We.Z)(I)}var Fn=F(38437),mi=s.createContext(void 0),ho=e=>{const{href:t,title:a,prefixCls:o,children:f,className:y,target:C,replace:w}=e,I=s.useContext(mi),{registerLink:D,unregisterLink:z,scrollTo:L,onClick:k,activeLink:Z,direction:j}=I||{};s.useEffect(()=>(D==null||D(t),()=>{z==null||z(t)}),[t]);const G=re=>{k==null||k(re,{title:a,href:t}),L==null||L(t),w&&(re.preventDefault(),window.location.replace(t))},{getPrefixCls:H}=s.useContext(ve.E_),K=H("anchor",o),ee=Z===t,ie=Y()(`${K}-link`,y,{[`${K}-link-active`]:ee}),oe=Y()(`${K}-link-title`,{[`${K}-link-title-active`]:ee});return s.createElement("div",{className:ie},s.createElement("a",{className:oe,href:t,title:typeof a=="string"?a:"",target:C,onClick:G},a),j!=="horizontal"?f:null)},Ur=F(83509);const eo=e=>{const{componentCls:t,holderOffsetBlock:a,motionDurationSlow:o,lineWidthBold:f,colorPrimary:y,lineType:C,colorSplit:w,calc:I}=e;return{[`${t}-wrapper`]:{marginBlockStart:I(a).mul(-1).equal(),paddingBlockStart:a,[t]:Object.assign(Object.assign({},(0,Wt.Wf)(e)),{position:"relative",paddingInlineStart:f,[`${t}-link`]:{paddingBlock:e.linkPaddingBlock,paddingInline:`${(0,fe.bf)(e.linkPaddingInlineStart)} 0`,"&-title":Object.assign(Object.assign({},Wt.vS),{position:"relative",display:"block",marginBlockEnd:e.anchorTitleBlock,color:e.colorText,transition:`all ${e.motionDurationSlow}`,"&:only-child":{marginBlockEnd:0}}),[`&-active > ${t}-link-title`]:{color:e.colorPrimary},[`${t}-link`]:{paddingBlock:e.anchorPaddingBlockSecondary}}}),[`&:not(${t}-wrapper-horizontal)`]:{[t]:{"&::before":{position:"absolute",insetInlineStart:0,top:0,height:"100%",borderInlineStart:`${(0,fe.bf)(f)} ${C} ${w}`,content:'" "'},[`${t}-ink`]:{position:"absolute",insetInlineStart:0,display:"none",transform:"translateY(-50%)",transition:`top ${o} ease-in-out`,width:f,backgroundColor:y,[`&${t}-ink-visible`]:{display:"inline-block"}}}},[`${t}-fixed ${t}-ink ${t}-ink`]:{display:"none"}}}},en=e=>{const{componentCls:t,motionDurationSlow:a,lineWidthBold:o,colorPrimary:f}=e;return{[`${t}-wrapper-horizontal`]:{position:"relative","&::before":{position:"absolute",left:{_skip_check_:!0,value:0},right:{_skip_check_:!0,value:0},bottom:0,borderBottom:`${(0,fe.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,content:'" "'},[t]:{overflowX:"scroll",position:"relative",display:"flex",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"},[`${t}-link:first-of-type`]:{paddingInline:0},[`${t}-ink`]:{position:"absolute",bottom:0,transition:`left ${a} ease-in-out, width ${a} ease-in-out`,height:o,backgroundColor:f}}}}},Mn=e=>({linkPaddingBlock:e.paddingXXS,linkPaddingInlineStart:e.padding});var Qn=(0,te.I$)("Anchor",e=>{const{fontSize:t,fontSizeLG:a,paddingXXS:o,calc:f}=e,y=(0,Ur.IX)(e,{holderOffsetBlock:o,anchorPaddingBlockSecondary:f(o).div(2).equal(),anchorTitleBlock:f(t).div(14).mul(3).equal(),anchorBallSize:f(a).div(2).equal()});return[eo(y),en(y)]},Mn);function Dr(){return window}function ui(e,t){if(!e.getClientRects().length)return 0;const a=e.getBoundingClientRect();return a.width||a.height?t===window?a.top-e.ownerDocument.documentElement.clientTop:a.top-t.getBoundingClientRect().top:a.top}const oi=/#([\S ]+)$/;var Ji=e=>{var t;const{rootClassName:a,prefixCls:o,className:f,style:y,offsetTop:C,affix:w=!0,showInkInFixed:I=!1,children:D,items:z,direction:L="vertical",bounds:k,targetOffset:Z,onClick:j,onChange:G,getContainer:H,getCurrentAnchor:K,replace:ee}=e,[ie,oe]=s.useState([]),[re,se]=s.useState(null),ue=s.useRef(re),me=s.useRef(null),pe=s.useRef(null),ye=s.useRef(!1),{direction:Se,getPrefixCls:Ie,className:we,style:Be}=(0,ve.dj)("anchor"),{getTargetContainer:Re}=s.useContext(ve.E_),je=Ie("anchor",o),Ne=(0,Fn.Z)(je),[nt,at,Ct]=Qn(je,Ne),St=(t=H!=null?H:Re)!==null&&t!==void 0?t:Dr,_t=JSON.stringify(ie),ft=(0,fr.Z)(ur=>{ie.includes(ur)||oe(Yn=>[].concat((0,xe.Z)(Yn),[ur]))}),vt=(0,fr.Z)(ur=>{ie.includes(ur)&&oe(Yn=>Yn.filter(qn=>qn!==ur))}),$t=()=>{var ur;const Yn=(ur=me.current)===null||ur===void 0?void 0:ur.querySelector(`.${je}-link-title-active`);if(Yn&&pe.current){const{style:qn}=pe.current,Rn=L==="horizontal";qn.top=Rn?"":`${Yn.offsetTop+Yn.clientHeight/2}px`,qn.height=Rn?"":`${Yn.clientHeight}px`,qn.left=Rn?`${Yn.offsetLeft}px`:"",qn.width=Rn?`${Yn.clientWidth}px`:"",Rn&&(0,wr.Z)(Yn,{scrollMode:"if-needed",block:"nearest"})}},It=function(ur){let Yn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,qn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:5;const Rn=[],Jn=St();return ur.forEach(zr=>{const li=oi.exec(zr==null?void 0:zr.toString());if(!li)return;const xi=document.getElementById(li[1]);if(xi){const Di=ui(xi,Jn);Di<=Yn+qn&&Rn.push({link:zr,top:Di})}}),Rn.length?Rn.reduce((li,xi)=>xi.top>li.top?xi:li).link:""},Ft=(0,fr.Z)(ur=>{if(ue.current===ur)return;const Yn=typeof K=="function"?K(ur):ur;se(Yn),ue.current=Yn,G==null||G(ur)}),wt=s.useCallback(()=>{if(ye.current)return;const ur=It(ie,Z!==void 0?Z:C||0,k);Ft(ur)},[_t,Z,C]),pn=s.useCallback(ur=>{Ft(ur);const Yn=oi.exec(ur);if(!Yn)return;const qn=document.getElementById(Yn[1]);if(!qn)return;const Rn=St(),Jn=Xn(Rn),zr=ui(qn,Rn);let li=Jn+zr;li-=Z!==void 0?Z:C||0,ye.current=!0,Yr(li,{getContainer:St,callback(){ye.current=!1}})},[Z,C]),Bn=Y()(at,Ct,Ne,a,`${je}-wrapper`,{[`${je}-wrapper-horizontal`]:L==="horizontal",[`${je}-rtl`]:Se==="rtl"},f,we),ln=Y()(je,{[`${je}-fixed`]:!w&&!I}),Tn=Y()(`${je}-ink`,{[`${je}-ink-visible`]:re}),Kt=Object.assign(Object.assign({maxHeight:C?`calc(100vh - ${C}px)`:"100vh"},Be),y),zt=ur=>Array.isArray(ur)?ur.map(Yn=>s.createElement(ho,Object.assign({replace:ee},Yn,{key:Yn.key}),L==="vertical"&&zt(Yn.children))):null,Dn=s.createElement("div",{ref:me,className:Bn,style:Kt},s.createElement("div",{className:ln},s.createElement("span",{className:Tn,ref:pe}),"items"in e?zt(z):D));s.useEffect(()=>{const ur=St();return wt(),ur==null||ur.addEventListener("scroll",wt),()=>{ur==null||ur.removeEventListener("scroll",wt)}},[_t]),s.useEffect(()=>{typeof K=="function"&&Ft(K(ue.current||""))},[K]),s.useEffect(()=>{$t()},[L,K,_t,re]);const Sn=s.useMemo(()=>({registerLink:ft,unregisterLink:vt,scrollTo:pn,activeLink:re,onClick:j,direction:L}),[re,j,pn,L]),Ir=w&&typeof w=="object"?w:void 0;return nt(s.createElement(mi.Provider,{value:Sn},w?s.createElement(Vt,Object.assign({offsetTop:C,target:St},Ir),Dn):Dn))};const Ro=Ji;Ro.Link=ho;var xo=Ro,io=F(87117),Oe=F(89692),de=F(58190),X=F(54153),ke=F(30967),he=F(38926),Ye=F(5147),et=F(14583),tn=s.forwardRef(function(e,t){var a=e.prefixCls,o=e.style,f=e.className,y=e.duration,C=y===void 0?4.5:y,w=e.showProgress,I=e.pauseOnHover,D=I===void 0?!0:I,z=e.eventKey,L=e.content,k=e.closable,Z=e.closeIcon,j=Z===void 0?"x":Z,G=e.props,H=e.onClick,K=e.onNoticeClose,ee=e.times,ie=e.hovering,oe=s.useState(!1),re=(0,Oe.Z)(oe,2),se=re[0],ue=re[1],me=s.useState(0),pe=(0,Oe.Z)(me,2),ye=pe[0],Se=pe[1],Ie=s.useState(0),we=(0,Oe.Z)(Ie,2),Be=we[0],Re=we[1],je=ie||se,Ne=C>0&&w,nt=function(){K(z)},at=function($t){($t.key==="Enter"||$t.code==="Enter"||$t.keyCode===et.Z.ENTER)&&nt()};s.useEffect(function(){if(!je&&C>0){var vt=Date.now()-Be,$t=setTimeout(function(){nt()},C*1e3-Be);return function(){D&&clearTimeout($t),Re(Date.now()-vt)}}},[C,je,ee]),s.useEffect(function(){if(!je&&Ne&&(D||Be===0)){var vt=performance.now(),$t,It=function Ft(){cancelAnimationFrame($t),$t=requestAnimationFrame(function(wt){var pn=wt+Be-vt,Bn=Math.min(pn/(C*1e3),1);Se(Bn*100),Bn<1&&Ft()})};return It(),function(){D&&cancelAnimationFrame($t)}}},[C,Be,je,Ne,ee]);var Ct=s.useMemo(function(){return(0,Ye.Z)(k)==="object"&&k!==null?k:k?{closeIcon:j}:{}},[k,j]),St=(0,lt.Z)(Ct,!0),_t=100-(!ye||ye<0?0:ye>100?100:ye),ft="".concat(a,"-notice");return s.createElement("div",(0,Ze.Z)({},G,{ref:t,className:Y()(ft,f,(0,he.Z)({},"".concat(ft,"-closable"),k)),style:o,onMouseEnter:function($t){var It;ue(!0),G==null||(It=G.onMouseEnter)===null||It===void 0||It.call(G,$t)},onMouseLeave:function($t){var It;ue(!1),G==null||(It=G.onMouseLeave)===null||It===void 0||It.call(G,$t)},onClick:H}),s.createElement("div",{className:"".concat(ft,"-content")},L),k&&s.createElement("a",(0,Ze.Z)({tabIndex:0,className:"".concat(ft,"-close"),onKeyDown:at,"aria-label":"Close"},St,{onClick:function($t){$t.preventDefault(),$t.stopPropagation(),nt()}}),Ct.closeIcon),Ne&&s.createElement("progress",{className:"".concat(ft,"-progress"),max:"100",value:_t},_t+"%"))}),Tt=tn,nn=s.createContext({}),vn=function(t){var a=t.children,o=t.classNames;return s.createElement(nn.Provider,{value:{classNames:o}},a)},Xe=vn,Mt=8,Ht=3,Qt=16,ct=function(t){var a={offset:Mt,threshold:Ht,gap:Qt};if(t&&(0,Ye.Z)(t)==="object"){var o,f,y;a.offset=(o=t.offset)!==null&&o!==void 0?o:Mt,a.threshold=(f=t.threshold)!==null&&f!==void 0?f:Ht,a.gap=(y=t.gap)!==null&&y!==void 0?y:Qt}return[!!t,a]},rt=ct,xn=["className","style","classNames","styles"],yn=function(t){var a=t.configList,o=t.placement,f=t.prefixCls,y=t.className,C=t.style,w=t.motion,I=t.onAllNoticeRemoved,D=t.onNoticeClose,z=t.stack,L=(0,s.useContext)(nn),k=L.classNames,Z=(0,s.useRef)({}),j=(0,s.useState)(null),G=(0,Oe.Z)(j,2),H=G[0],K=G[1],ee=(0,s.useState)([]),ie=(0,Oe.Z)(ee,2),oe=ie[0],re=ie[1],se=a.map(function(je){return{config:je,key:String(je.key)}}),ue=rt(z),me=(0,Oe.Z)(ue,2),pe=me[0],ye=me[1],Se=ye.offset,Ie=ye.threshold,we=ye.gap,Be=pe&&(oe.length>0||se.length<=Ie),Re=typeof w=="function"?w(o):w;return(0,s.useEffect)(function(){pe&&oe.length>1&&re(function(je){return je.filter(function(Ne){return se.some(function(nt){var at=nt.key;return Ne===at})})})},[oe,se,pe]),(0,s.useEffect)(function(){var je;if(pe&&Z.current[(je=se[se.length-1])===null||je===void 0?void 0:je.key]){var Ne;K(Z.current[(Ne=se[se.length-1])===null||Ne===void 0?void 0:Ne.key])}},[se,pe]),s.createElement(En.V4,(0,Ze.Z)({key:o,className:Y()(f,"".concat(f,"-").concat(o),k==null?void 0:k.list,y,(0,he.Z)((0,he.Z)({},"".concat(f,"-stack"),!!pe),"".concat(f,"-stack-expanded"),Be)),style:C,keys:se,motionAppear:!0},Re,{onAllRemoved:function(){I(o)}}),function(je,Ne){var nt=je.config,at=je.className,Ct=je.style,St=je.index,_t=nt,ft=_t.key,vt=_t.times,$t=String(ft),It=nt,Ft=It.className,wt=It.style,pn=It.classNames,Bn=It.styles,ln=(0,de.Z)(It,xn),Tn=se.findIndex(function(li){return li.key===$t}),Kt={};if(pe){var zt=se.length-1-(Tn>-1?Tn:St-1),Dn=o==="top"||o==="bottom"?"-50%":"0";if(zt>0){var Sn,Ir,ur;Kt.height=Be?(Sn=Z.current[$t])===null||Sn===void 0?void 0:Sn.offsetHeight:H==null?void 0:H.offsetHeight;for(var Yn=0,qn=0;qn<zt;qn++){var Rn;Yn+=((Rn=Z.current[se[se.length-1-qn].key])===null||Rn===void 0?void 0:Rn.offsetHeight)+we}var Jn=(Be?Yn:zt*Se)*(o.startsWith("top")?1:-1),zr=!Be&&H!==null&&H!==void 0&&H.offsetWidth&&(Ir=Z.current[$t])!==null&&Ir!==void 0&&Ir.offsetWidth?((H==null?void 0:H.offsetWidth)-Se*2*(zt<3?zt:3))/((ur=Z.current[$t])===null||ur===void 0?void 0:ur.offsetWidth):1;Kt.transform="translate3d(".concat(Dn,", ").concat(Jn,"px, 0) scaleX(").concat(zr,")")}else Kt.transform="translate3d(".concat(Dn,", 0, 0)")}return s.createElement("div",{ref:Ne,className:Y()("".concat(f,"-notice-wrapper"),at,pn==null?void 0:pn.wrapper),style:(0,X.Z)((0,X.Z)((0,X.Z)({},Ct),Kt),Bn==null?void 0:Bn.wrapper),onMouseEnter:function(){return re(function(xi){return xi.includes($t)?xi:[].concat((0,xe.Z)(xi),[$t])})},onMouseLeave:function(){return re(function(xi){return xi.filter(function(Di){return Di!==$t})})}},s.createElement(Tt,(0,Ze.Z)({},ln,{ref:function(xi){Tn>-1?Z.current[$t]=xi:delete Z.current[$t]},prefixCls:f,classNames:pn,styles:Bn,className:Y()(Ft,k==null?void 0:k.notice),style:wt,times:vt,key:ft,eventKey:ft,onNoticeClose:D,hovering:pe&&oe.length>0})))})},Zn=yn,_r=s.forwardRef(function(e,t){var a=e.prefixCls,o=a===void 0?"rc-notification":a,f=e.container,y=e.motion,C=e.maxCount,w=e.className,I=e.style,D=e.onAllRemoved,z=e.stack,L=e.renderNotifications,k=s.useState([]),Z=(0,Oe.Z)(k,2),j=Z[0],G=Z[1],H=function(pe){var ye,Se=j.find(function(Ie){return Ie.key===pe});Se==null||(ye=Se.onClose)===null||ye===void 0||ye.call(Se),G(function(Ie){return Ie.filter(function(we){return we.key!==pe})})};s.useImperativeHandle(t,function(){return{open:function(pe){G(function(ye){var Se=(0,xe.Z)(ye),Ie=Se.findIndex(function(Re){return Re.key===pe.key}),we=(0,X.Z)({},pe);if(Ie>=0){var Be;we.times=(((Be=ye[Ie])===null||Be===void 0?void 0:Be.times)||0)+1,Se[Ie]=we}else we.times=0,Se.push(we);return C>0&&Se.length>C&&(Se=Se.slice(-C)),Se})},close:function(pe){H(pe)},destroy:function(){G([])}}});var K=s.useState({}),ee=(0,Oe.Z)(K,2),ie=ee[0],oe=ee[1];s.useEffect(function(){var me={};j.forEach(function(pe){var ye=pe.placement,Se=ye===void 0?"topRight":ye;Se&&(me[Se]=me[Se]||[],me[Se].push(pe))}),Object.keys(ie).forEach(function(pe){me[pe]=me[pe]||[]}),oe(me)},[j]);var re=function(pe){oe(function(ye){var Se=(0,X.Z)({},ye),Ie=Se[pe]||[];return Ie.length||delete Se[pe],Se})},se=s.useRef(!1);if(s.useEffect(function(){Object.keys(ie).length>0?se.current=!0:se.current&&(D==null||D(),se.current=!1)},[ie]),!f)return null;var ue=Object.keys(ie);return(0,ke.createPortal)(s.createElement(s.Fragment,null,ue.map(function(me){var pe=ie[me],ye=s.createElement(Zn,{key:me,configList:pe,placement:me,prefixCls:o,className:w==null?void 0:w(me),style:I==null?void 0:I(me),motion:y,onNoticeClose:H,onAllNoticeRemoved:re,stack:z});return L?L(ye,{prefixCls:o,key:me}):ye})),f)}),ir=_r,Or=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications"],Qr=function(){return document.body},ii=0;function Ui(){for(var e={},t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return a.forEach(function(f){f&&Object.keys(f).forEach(function(y){var C=f[y];C!==void 0&&(e[y]=C)})}),e}function mt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.getContainer,a=t===void 0?Qr:t,o=e.motion,f=e.prefixCls,y=e.maxCount,C=e.className,w=e.style,I=e.onAllRemoved,D=e.stack,z=e.renderNotifications,L=(0,de.Z)(e,Or),k=s.useState(),Z=(0,Oe.Z)(k,2),j=Z[0],G=Z[1],H=s.useRef(),K=s.createElement(ir,{container:j,ref:H,prefixCls:f,motion:o,maxCount:y,className:C,style:w,onAllRemoved:I,stack:D,renderNotifications:z}),ee=s.useState([]),ie=(0,Oe.Z)(ee,2),oe=ie[0],re=ie[1],se=s.useMemo(function(){return{open:function(me){var pe=Ui(L,me);(pe.key===null||pe.key===void 0)&&(pe.key="rc-notification-".concat(ii),ii+=1),re(function(ye){return[].concat((0,xe.Z)(ye),[{type:"open",config:pe}])})},close:function(me){re(function(pe){return[].concat((0,xe.Z)(pe),[{type:"close",key:me}])})},destroy:function(){re(function(me){return[].concat((0,xe.Z)(me),[{type:"destroy"}])})}}},[]);return s.useEffect(function(){G(a())}),s.useEffect(function(){if(H.current&&oe.length){oe.forEach(function(pe){switch(pe.type){case"open":H.current.open(pe.config);break;case"close":H.current.close(pe.key);break;case"destroy":H.current.destroy();break}});var ue,me;re(function(pe){return(ue!==pe||!me)&&(ue=pe,me=pe.filter(function(ye){return!oe.includes(ye)})),me})}},[oe]),[se,K]}var _n=F(24573),Ut=F(19952);const An=e=>{const{componentCls:t,iconCls:a,boxShadow:o,colorText:f,colorSuccess:y,colorError:C,colorWarning:w,colorInfo:I,fontSizeLG:D,motionEaseInOutCirc:z,motionDurationSlow:L,marginXS:k,paddingXS:Z,borderRadiusLG:j,zIndexPopup:G,contentPadding:H,contentBg:K}=e,ee=`${t}-notice`,ie=new fe.E4("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:Z,transform:"translateY(0)",opacity:1}}),oe=new fe.E4("MessageMoveOut",{"0%":{maxHeight:e.height,padding:Z,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}}),re={padding:Z,textAlign:"center",[`${t}-custom-content`]:{display:"flex",alignItems:"center"},[`${t}-custom-content > ${a}`]:{marginInlineEnd:k,fontSize:D},[`${ee}-content`]:{display:"inline-block",padding:H,background:K,borderRadius:j,boxShadow:o,pointerEvents:"all"},[`${t}-success > ${a}`]:{color:y},[`${t}-error > ${a}`]:{color:C},[`${t}-warning > ${a}`]:{color:w},[`${t}-info > ${a},
      ${t}-loading > ${a}`]:{color:I}};return[{[t]:Object.assign(Object.assign({},(0,Wt.Wf)(e)),{color:f,position:"fixed",top:k,width:"100%",pointerEvents:"none",zIndex:G,[`${t}-move-up`]:{animationFillMode:"forwards"},[`
        ${t}-move-up-appear,
        ${t}-move-up-enter
      `]:{animationName:ie,animationDuration:L,animationPlayState:"paused",animationTimingFunction:z},[`
        ${t}-move-up-appear${t}-move-up-appear-active,
        ${t}-move-up-enter${t}-move-up-enter-active
      `]:{animationPlayState:"running"},[`${t}-move-up-leave`]:{animationName:oe,animationDuration:L,animationPlayState:"paused",animationTimingFunction:z},[`${t}-move-up-leave${t}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[t]:{[`${ee}-wrapper`]:Object.assign({},re)}},{[`${t}-notice-pure-panel`]:Object.assign(Object.assign({},re),{padding:0,textAlign:"start"})}]},or=e=>({zIndexPopup:e.zIndexPopupBase+Ut.u6+10,contentBg:e.colorBgElevated,contentPadding:`${(e.controlHeightLG-e.fontSize*e.lineHeight)/2}px ${e.paddingSM}px`});var qr=(0,te.I$)("Message",e=>{const t=(0,Ur.IX)(e,{height:150});return[An(t)]},or),Mi=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const fo={info:s.createElement(cn,null),success:s.createElement(Lt.Z,null),error:s.createElement(hr.Z,null),warning:s.createElement(Hn.Z,null),loading:s.createElement(_n.Z,null)},$i=e=>{let{prefixCls:t,type:a,icon:o,children:f}=e;return s.createElement("div",{className:Y()(`${t}-custom-content`,`${t}-${a}`)},o||fo[a],s.createElement("span",null,f))};var co=e=>{const{prefixCls:t,className:a,type:o,icon:f,content:y}=e,C=Mi(e,["prefixCls","className","type","icon","content"]),{getPrefixCls:w}=s.useContext(ve.E_),I=t||w("message"),D=(0,Fn.Z)(I),[z,L,k]=qr(I,D);return z(s.createElement(Tt,Object.assign({},C,{prefixCls:I,className:Y()(a,L,`${I}-notice-pure-panel`,k,D),eventKey:"pure",duration:null,content:s.createElement($i,{prefixCls:I,type:o,icon:f},y)})))};function Ni(e,t){return{motionName:t!=null?t:`${e}-move-up`}}function Io(e){let t;const a=new Promise(f=>{t=e(()=>{f(!0)})}),o=()=>{t==null||t()};return o.then=(f,y)=>a.then(f,y),o.promise=a,o}var Wo=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const $o=8,vo=3,Oo=e=>{let{children:t,prefixCls:a}=e;const o=(0,Fn.Z)(a),[f,y,C]=qr(a,o);return f(s.createElement(Xe,{classNames:{list:Y()(y,C,o)}},t))},zo=(e,t)=>{let{prefixCls:a,key:o}=t;return s.createElement(Oo,{prefixCls:a,key:o},e)},Jo=s.forwardRef((e,t)=>{const{top:a,prefixCls:o,getContainer:f,maxCount:y,duration:C=vo,rtl:w,transitionName:I,onAllRemoved:D}=e,{getPrefixCls:z,getPopupContainer:L,message:k,direction:Z}=s.useContext(ve.E_),j=o||z("message"),G=()=>({left:"50%",transform:"translateX(-50%)",top:a!=null?a:$o}),H=()=>Y()({[`${j}-rtl`]:w!=null?w:Z==="rtl"}),K=()=>Ni(j,I),ee=s.createElement("span",{className:`${j}-close-x`},s.createElement(er.Z,{className:`${j}-close-icon`})),[ie,oe]=mt({prefixCls:j,style:G,className:H,motion:K,closable:!1,closeIcon:ee,duration:C,getContainer:()=>(f==null?void 0:f())||(L==null?void 0:L())||document.body,maxCount:y,onAllRemoved:D,renderNotifications:zo});return s.useImperativeHandle(t,()=>Object.assign(Object.assign({},ie),{prefixCls:j,message:k})),oe});let to=0;function Co(e){const t=s.useRef(null),a=(0,io.ln)("Message");return[s.useMemo(()=>{const f=D=>{var z;(z=t.current)===null||z===void 0||z.close(D)},y=D=>{if(!t.current){const ue=()=>{};return ue.then=()=>{},ue}const{open:z,prefixCls:L,message:k}=t.current,Z=`${L}-notice`,{content:j,icon:G,type:H,key:K,className:ee,style:ie,onClose:oe}=D,re=Wo(D,["content","icon","type","key","className","style","onClose"]);let se=K;return se==null&&(to+=1,se=`antd-message-${to}`),Io(ue=>(z(Object.assign(Object.assign({},re),{key:se,content:s.createElement($i,{prefixCls:L,type:H,icon:G},j),placement:"top",className:Y()(H&&`${Z}-${H}`,ee,k==null?void 0:k.className),style:Object.assign(Object.assign({},k==null?void 0:k.style),ie),onClose:()=>{oe==null||oe(),ue()}})),()=>{f(se)}))},w={open:y,destroy:D=>{var z;D!==void 0?f(D):(z=t.current)===null||z===void 0||z.destroy()}};return["info","success","warning","error","loading"].forEach(D=>{const z=(L,k,Z)=>{let j;L&&typeof L=="object"&&"content"in L?j=L:j={content:L};let G,H;typeof k=="function"?H=k:(G=k,H=Z);const K=Object.assign(Object.assign({onClose:H,duration:G},j),{type:D});return y(K)};w[D]=z}),w},[]),s.createElement(Jo,Object.assign({key:"message-holder"},e,{ref:t}))]}function mo(e){return Co(e)}function so(){const[e,t]=s.useState([]),a=s.useCallback(o=>(t(f=>[].concat((0,xe.Z)(f),[o])),()=>{t(f=>f.filter(y=>y!==o))}),[]);return[e,a]}var Fi=F(62639),Qo=F(92703),Rr=F(13635),Ao=F(77648),ea=F(67699),Na=F(60784),ci=F(18051),oa=F(54070),Ta=F(98472),Br=F(95741),oo=F(23137),No=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const Yo=s.createContext(void 0);var Ri=e=>{const{getPrefixCls:t,direction:a}=s.useContext(ve.E_),{prefixCls:o,size:f,className:y}=e,C=No(e,["prefixCls","size","className"]),w=t("btn-group",o),[,,I]=(0,ea.ZP)(),D=s.useMemo(()=>{switch(f){case"large":return"lg";case"small":return"sm";default:return""}},[f]),z=Y()(w,{[`${w}-${D}`]:D,[`${w}-rtl`]:a==="rtl"},y,I);return s.createElement(Yo.Provider,{value:f},s.createElement("div",Object.assign({},C,{className:z})))},fa=F(98990);const ko=/^[\u4E00-\u9FA5]{2}$/,rn=ko.test.bind(ko);function Ge(e){return e==="danger"?{danger:!0}:{type:e}}function _e(e){return typeof e=="string"}function Ve(e){return e==="text"||e==="link"}function ze(e,t){if(e==null)return;const a=t?" ":"";return typeof e!="string"&&typeof e!="number"&&_e(e.type)&&rn(e.props.children)?(0,bn.Tm)(e,{children:e.props.children.split("").join(a)}):_e(e)?rn(e)?s.createElement("span",null,e.split("").join(a)):s.createElement("span",null,e):(0,bn.M2)(e)?s.createElement("span",null,e):e}function At(e,t){let a=!1;const o=[];return s.Children.forEach(e,f=>{const y=typeof f,C=y==="string"||y==="number";if(a&&C){const w=o.length-1,I=o[w];o[w]=`${I}${f}`}else o.push(f);a=C}),s.Children.map(o,f=>ze(f,t))}const an=null,Kn=null,Cr=null,Mr=null,yr=["default","primary","danger"].concat((0,xe.Z)(fa.i));var wi=(0,s.forwardRef)((e,t)=>{const{className:a,style:o,children:f,prefixCls:y}=e,C=Y()(`${y}-icon`,a);return s.createElement("span",{ref:t,className:C,style:o},f)});const yo=(0,s.forwardRef)((e,t)=>{const{prefixCls:a,className:o,style:f,iconClassName:y}=e,C=Y()(`${a}-loading-icon`,o);return s.createElement(wi,{prefixCls:a,className:C,style:f,ref:t},s.createElement(_n.Z,{className:y}))}),yi=()=>({width:0,opacity:0,transform:"scale(0)"}),Ei=e=>({width:e.scrollWidth,opacity:1,transform:"scale(1)"});var zi=e=>{const{prefixCls:t,loading:a,existIcon:o,className:f,style:y,mount:C}=e,w=!!a;return o?s.createElement(yo,{prefixCls:t,className:f,style:y}):s.createElement(En.ZP,{visible:w,motionName:`${t}-loading-icon-motion`,motionAppear:!C,motionEnter:!C,motionLeave:!C,removeOnLeave:!0,onAppearStart:yi,onAppearActive:Ei,onEnterStart:yi,onEnterActive:Ei,onLeaveStart:Ei,onLeaveActive:yi},(I,D)=>{let{className:z,style:L}=I;const k=Object.assign(Object.assign({},y),L);return s.createElement(yo,{prefixCls:t,className:Y()(f,z),style:k,ref:D})})};const Ai=(e,t)=>({[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineEndColor:t}}},"&:not(:first-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineStartColor:t}}}}});var na=e=>{const{componentCls:t,fontSize:a,lineWidth:o,groupBorderColor:f,colorErrorHover:y}=e;return{[`${t}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${t}`]:{"&:not(:last-child)":{[`&, & > ${t}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:e.calc(o).mul(-1).equal(),[`&, & > ${t}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[t]:{position:"relative",zIndex:1,"&:hover, &:focus, &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${t}-icon-only`]:{fontSize:a}},Ai(`${t}-primary`,f),Ai(`${t}-danger`,y)]}},ua=F(82227),Ea=F(29230),Ia=F(78611),xa=F(58570);const ya=e=>{const{paddingInline:t,onlyIconSize:a}=e;return(0,Ur.IX)(e,{buttonPaddingHorizontal:t,buttonPaddingVertical:0,buttonIconOnlyFontSize:a})},ja=e=>{var t,a,o,f,y,C;const w=(t=e.contentFontSize)!==null&&t!==void 0?t:e.fontSize,I=(a=e.contentFontSizeSM)!==null&&a!==void 0?a:e.fontSize,D=(o=e.contentFontSizeLG)!==null&&o!==void 0?o:e.fontSizeLG,z=(f=e.contentLineHeight)!==null&&f!==void 0?f:(0,Ia.D)(w),L=(y=e.contentLineHeightSM)!==null&&y!==void 0?y:(0,Ia.D)(I),k=(C=e.contentLineHeightLG)!==null&&C!==void 0?C:(0,Ia.D)(D),Z=(0,Ea.U)(new ua.y9(e.colorBgSolid),"#fff")?"#000":"#fff",j=fa.i.reduce((G,H)=>Object.assign(Object.assign({},G),{[`${H}ShadowColor`]:`0 ${(0,fe.bf)(e.controlOutlineWidth)} 0 ${(0,xa.Z)(e[`${H}1`],e.colorBgContainer)}`}),{});return Object.assign(Object.assign({},j),{fontWeight:400,defaultShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlTmpOutline}`,primaryShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlOutline}`,dangerShadow:`0 ${e.controlOutlineWidth}px 0 ${e.colorErrorOutline}`,primaryColor:e.colorTextLightSolid,dangerColor:e.colorTextLightSolid,borderColorDisabled:e.colorBorder,defaultGhostColor:e.colorBgContainer,ghostBg:"transparent",defaultGhostBorderColor:e.colorBgContainer,paddingInline:e.paddingContentHorizontal-e.lineWidth,paddingInlineLG:e.paddingContentHorizontal-e.lineWidth,paddingInlineSM:8-e.lineWidth,onlyIconSize:"inherit",onlyIconSizeSM:"inherit",onlyIconSizeLG:"inherit",groupBorderColor:e.colorPrimaryHover,linkHoverBg:"transparent",textTextColor:e.colorText,textTextHoverColor:e.colorText,textTextActiveColor:e.colorText,textHoverBg:e.colorFillTertiary,defaultColor:e.colorText,defaultBg:e.colorBgContainer,defaultBorderColor:e.colorBorder,defaultBorderColorDisabled:e.colorBorder,defaultHoverBg:e.colorBgContainer,defaultHoverColor:e.colorPrimaryHover,defaultHoverBorderColor:e.colorPrimaryHover,defaultActiveBg:e.colorBgContainer,defaultActiveColor:e.colorPrimaryActive,defaultActiveBorderColor:e.colorPrimaryActive,solidTextColor:Z,contentFontSize:w,contentFontSizeSM:I,contentFontSizeLG:D,contentLineHeight:z,contentLineHeightSM:L,contentLineHeightLG:k,paddingBlock:Math.max((e.controlHeight-w*z)/2-e.lineWidth,0),paddingBlockSM:Math.max((e.controlHeightSM-I*L)/2-e.lineWidth,0),paddingBlockLG:Math.max((e.controlHeightLG-D*k)/2-e.lineWidth,0)})},Ca=e=>{const{componentCls:t,iconCls:a,fontWeight:o,opacityLoading:f,motionDurationSlow:y,motionEaseInOut:C,marginXS:w,calc:I}=e;return{[t]:{outline:"none",position:"relative",display:"inline-flex",gap:e.marginXS,alignItems:"center",justifyContent:"center",fontWeight:o,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",background:"transparent",border:`${(0,fe.bf)(e.lineWidth)} ${e.lineType} transparent`,cursor:"pointer",transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",color:e.colorText,"&:disabled > *":{pointerEvents:"none"},[`${t}-icon > svg`]:(0,Wt.Ro)(),"> a":{color:"currentColor"},"&:not(:disabled)":(0,Wt.Qy)(e),[`&${t}-two-chinese-chars::first-letter`]:{letterSpacing:"0.34em"},[`&${t}-two-chinese-chars > *:not(${a})`]:{marginInlineEnd:"-0.34em",letterSpacing:"0.34em"},[`&${t}-icon-only`]:{paddingInline:0,[`&${t}-compact-item`]:{flex:"none"},[`&${t}-round`]:{width:"auto"}},[`&${t}-loading`]:{opacity:f,cursor:"default"},[`${t}-loading-icon`]:{transition:["width","opacity","margin"].map(D=>`${D} ${y} ${C}`).join(",")},[`&:not(${t}-icon-end)`]:{[`${t}-loading-icon-motion`]:{"&-appear-start, &-enter-start":{marginInlineEnd:I(w).mul(-1).equal()},"&-appear-active, &-enter-active":{marginInlineEnd:0},"&-leave-start":{marginInlineEnd:0},"&-leave-active":{marginInlineEnd:I(w).mul(-1).equal()}}},"&-icon-end":{flexDirection:"row-reverse",[`${t}-loading-icon-motion`]:{"&-appear-start, &-enter-start":{marginInlineStart:I(w).mul(-1).equal()},"&-appear-active, &-enter-active":{marginInlineStart:0},"&-leave-start":{marginInlineStart:0},"&-leave-active":{marginInlineStart:I(w).mul(-1).equal()}}}}}},Ps=(e,t,a)=>({[`&:not(:disabled):not(${e}-disabled)`]:{"&:hover":t,"&:active":a}}),Ms=e=>({minWidth:e.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),_s=e=>({borderRadius:e.controlHeight,paddingInlineStart:e.calc(e.controlHeight).div(2).equal(),paddingInlineEnd:e.calc(e.controlHeight).div(2).equal()}),il=e=>({cursor:"not-allowed",borderColor:e.borderColorDisabled,color:e.colorTextDisabled,background:e.colorBgContainerDisabled,boxShadow:"none"}),ol=(e,t,a,o,f,y,C,w)=>({[`&${e}-background-ghost`]:Object.assign(Object.assign({color:a||void 0,background:t,borderColor:o||void 0,boxShadow:"none"},Ps(e,Object.assign({background:t},C),Object.assign({background:t},w))),{"&:disabled":{cursor:"not-allowed",color:f||void 0,borderColor:y||void 0}})}),Al=e=>({[`&:disabled, &${e.componentCls}-disabled`]:Object.assign({},il(e))}),Vs=e=>({[`&:disabled, &${e.componentCls}-disabled`]:{cursor:"not-allowed",color:e.colorTextDisabled}}),Dl=(e,t,a,o)=>{const y=o&&["link","text"].includes(o)?Vs:Al;return Object.assign(Object.assign({},y(e)),Ps(e.componentCls,t,a))},pc=(e,t,a,o,f)=>({[`&${e.componentCls}-variant-solid`]:Object.assign({color:t,background:a},Dl(e,o,f))}),da=(e,t,a,o,f)=>({[`&${e.componentCls}-variant-outlined, &${e.componentCls}-variant-dashed`]:Object.assign({borderColor:t,background:a},Dl(e,o,f))}),Ha=e=>({[`&${e.componentCls}-variant-dashed`]:{borderStyle:"dashed"}}),aa=(e,t,a,o)=>({[`&${e.componentCls}-variant-filled`]:Object.assign({boxShadow:"none",background:t},Dl(e,a,o))}),jo=(e,t,a,o,f)=>({[`&${e.componentCls}-variant-${a}`]:Object.assign({color:t,boxShadow:"none"},Dl(e,o,f,a))}),hs=e=>{const{componentCls:t}=e;return fa.i.reduce((a,o)=>{const f=e[`${o}6`],y=e[`${o}1`],C=e[`${o}5`],w=e[`${o}2`],I=e[`${o}3`],D=e[`${o}7`];return Object.assign(Object.assign({},a),{[`&${t}-color-${o}`]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:f,boxShadow:e[`${o}ShadowColor`]},pc(e,e.colorTextLightSolid,f,{background:C},{background:D})),da(e,f,e.colorBgContainer,{color:C,borderColor:C,background:e.colorBgContainer},{color:D,borderColor:D,background:e.colorBgContainer})),Ha(e)),aa(e,y,{background:w},{background:I})),jo(e,f,"link",{color:C},{color:D})),jo(e,f,"text",{color:C,background:y},{color:D,background:I}))})},{})},Ls=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.defaultColor,boxShadow:e.defaultShadow},pc(e,e.solidTextColor,e.colorBgSolid,{color:e.solidTextColor,background:e.colorBgSolidHover},{color:e.solidTextColor,background:e.colorBgSolidActive})),Ha(e)),aa(e,e.colorFillTertiary,{background:e.colorFillSecondary},{background:e.colorFill})),ol(e.componentCls,e.ghostBg,e.defaultGhostColor,e.defaultGhostBorderColor,e.colorTextDisabled,e.colorBorder)),jo(e,e.textTextColor,"link",{color:e.colorLinkHover,background:e.linkHoverBg},{color:e.colorLinkActive})),ic=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.colorPrimary,boxShadow:e.primaryShadow},da(e,e.colorPrimary,e.colorBgContainer,{color:e.colorPrimaryTextHover,borderColor:e.colorPrimaryHover,background:e.colorBgContainer},{color:e.colorPrimaryTextActive,borderColor:e.colorPrimaryActive,background:e.colorBgContainer})),Ha(e)),aa(e,e.colorPrimaryBg,{background:e.colorPrimaryBgHover},{background:e.colorPrimaryBorder})),jo(e,e.colorPrimaryText,"text",{color:e.colorPrimaryTextHover,background:e.colorPrimaryBg},{color:e.colorPrimaryTextActive,background:e.colorPrimaryBorder})),jo(e,e.colorPrimaryText,"link",{color:e.colorPrimaryTextHover,background:e.linkHoverBg},{color:e.colorPrimaryTextActive})),ol(e.componentCls,e.ghostBg,e.colorPrimary,e.colorPrimary,e.colorTextDisabled,e.colorBorder,{color:e.colorPrimaryHover,borderColor:e.colorPrimaryHover},{color:e.colorPrimaryActive,borderColor:e.colorPrimaryActive})),gc=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.colorError,boxShadow:e.dangerShadow},pc(e,e.dangerColor,e.colorError,{background:e.colorErrorHover},{background:e.colorErrorActive})),da(e,e.colorError,e.colorBgContainer,{color:e.colorErrorHover,borderColor:e.colorErrorBorderHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),Ha(e)),aa(e,e.colorErrorBg,{background:e.colorErrorBgFilledHover},{background:e.colorErrorBgActive})),jo(e,e.colorError,"text",{color:e.colorErrorHover,background:e.colorErrorBg},{color:e.colorErrorHover,background:e.colorErrorBgActive})),jo(e,e.colorError,"link",{color:e.colorErrorHover},{color:e.colorErrorActive})),ol(e.componentCls,e.ghostBg,e.colorError,e.colorError,e.colorTextDisabled,e.colorBorder,{color:e.colorErrorHover,borderColor:e.colorErrorHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),jc=e=>Object.assign(Object.assign({},jo(e,e.colorLink,"link",{color:e.colorLinkHover},{color:e.colorLinkActive})),ol(e.componentCls,e.ghostBg,e.colorInfo,e.colorInfo,e.colorTextDisabled,e.colorBorder,{color:e.colorInfoHover,borderColor:e.colorInfoHover},{color:e.colorInfoActive,borderColor:e.colorInfoActive})),_l=e=>{const{componentCls:t}=e;return Object.assign({[`${t}-color-default`]:Ls(e),[`${t}-color-primary`]:ic(e),[`${t}-color-dangerous`]:gc(e),[`${t}-color-link`]:jc(e)},hs(e))},Yl=e=>Object.assign(Object.assign(Object.assign(Object.assign({},da(e,e.defaultBorderColor,e.defaultBg,{color:e.defaultHoverColor,borderColor:e.defaultHoverBorderColor,background:e.defaultHoverBg},{color:e.defaultActiveColor,borderColor:e.defaultActiveBorderColor,background:e.defaultActiveBg})),jo(e,e.textTextColor,"text",{color:e.textTextHoverColor,background:e.textHoverBg},{color:e.textTextActiveColor,background:e.colorBgTextActive})),pc(e,e.primaryColor,e.colorPrimary,{background:e.colorPrimaryHover,color:e.primaryColor},{background:e.colorPrimaryActive,color:e.primaryColor})),jo(e,e.colorLink,"link",{color:e.colorLinkHover,background:e.linkHoverBg},{color:e.colorLinkActive})),ra=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const{componentCls:a,controlHeight:o,fontSize:f,borderRadius:y,buttonPaddingHorizontal:C,iconCls:w,buttonPaddingVertical:I,buttonIconOnlyFontSize:D}=e;return[{[t]:{fontSize:f,height:o,padding:`${(0,fe.bf)(I)} ${(0,fe.bf)(C)}`,borderRadius:y,[`&${a}-icon-only`]:{width:o,[w]:{fontSize:D}}}},{[`${a}${a}-circle${t}`]:Ms(e)},{[`${a}${a}-round${t}`]:_s(e)}]},To=e=>{const t=(0,Ur.IX)(e,{fontSize:e.contentFontSize});return ra(t,e.componentCls)},hu=e=>{const t=(0,Ur.IX)(e,{controlHeight:e.controlHeightSM,fontSize:e.contentFontSizeSM,padding:e.paddingXS,buttonPaddingHorizontal:e.paddingInlineSM,buttonPaddingVertical:0,borderRadius:e.borderRadiusSM,buttonIconOnlyFontSize:e.onlyIconSizeSM});return ra(t,`${e.componentCls}-sm`)},Uo=e=>{const t=(0,Ur.IX)(e,{controlHeight:e.controlHeightLG,fontSize:e.contentFontSizeLG,buttonPaddingHorizontal:e.paddingInlineLG,buttonPaddingVertical:0,borderRadius:e.borderRadiusLG,buttonIconOnlyFontSize:e.onlyIconSizeLG});return ra(t,`${e.componentCls}-lg`)},oc=e=>{const{componentCls:t}=e;return{[t]:{[`&${t}-block`]:{width:"100%"}}}};var nu=(0,te.I$)("Button",e=>{const t=ya(e);return[Ca(t),To(t),hu(t),Uo(t),oc(t),_l(t),Yl(t),na(t)]},ja,{unitless:{fontWeight:!0,contentLineHeight:!0,contentLineHeightSM:!0,contentLineHeightLG:!0}}),qo=F(9288);function Ec(e,t){return{[`&-item:not(${t}-last-item)`]:{marginBottom:e.calc(e.lineWidth).mul(-1).equal()},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function vc(e,t){return{[`&-item:not(${t}-first-item):not(${t}-last-item)`]:{borderRadius:0},[`&-item${t}-first-item:not(${t}-last-item)`]:{[`&, &${e}-sm, &${e}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${t}-last-item:not(${t}-first-item)`]:{[`&, &${e}-sm, &${e}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}}function ru(e){const t=`${e.componentCls}-compact-vertical`;return{[t]:Object.assign(Object.assign({},Ec(e,t)),vc(e.componentCls,t))}}const ku=e=>{const{componentCls:t,colorPrimaryHover:a,lineWidth:o,calc:f}=e,y=f(o).mul(-1).equal(),C=w=>{const I=`${t}-compact${w?"-vertical":""}-item${t}-primary:not([disabled])`;return{[`${I} + ${I}::before`]:{position:"absolute",top:w?y:0,insetInlineStart:w?0:y,backgroundColor:a,content:'""',width:w?"100%":o,height:w?o:"100%"}}};return Object.assign(Object.assign({},C()),C(!0))};var ac=(0,te.bk)(["Button","compact"],e=>{const t=ya(e);return[(0,qo.c)(t),ru(t),ku(t)]},ja),gl=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};function Ii(e){if(typeof e=="object"&&e){let t=e==null?void 0:e.delay;return t=!Number.isNaN(t)&&typeof t=="number"?t:0,{loading:t<=0,delay:t}}return{loading:!!e,delay:0}}const ju={default:["default","outlined"],primary:["primary","solid"],dashed:["default","dashed"],link:["link","link"],text:["default","text"]},Yc=s.forwardRef((e,t)=>{var a,o;const{loading:f=!1,prefixCls:y,color:C,variant:w,type:I,danger:D=!1,shape:z="default",size:L,styles:k,disabled:Z,className:j,rootClassName:G,children:H,icon:K,iconPosition:ee="start",ghost:ie=!1,block:oe=!1,htmlType:re="button",classNames:se,style:ue={},autoInsertSpace:me,autoFocus:pe}=e,ye=gl(e,["loading","prefixCls","color","variant","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","iconPosition","ghost","block","htmlType","classNames","style","autoInsertSpace","autoFocus"]),Se=I||"default",[Ie,we]=(0,s.useMemo)(()=>{if(C&&w)return[C,w];const tr=ju[Se]||[];return D?["danger",tr[1]]:tr},[I,C,w,D]),Re=Ie==="danger"?"dangerous":Ie,{getPrefixCls:je,direction:Ne,autoInsertSpace:nt,className:at,style:Ct,classNames:St,styles:_t}=(0,ve.dj)("button"),ft=(a=me!=null?me:nt)!==null&&a!==void 0?a:!0,vt=je("btn",y),[$t,It,Ft]=nu(vt),wt=(0,s.useContext)(Ta.Z),pn=Z!=null?Z:wt,Bn=(0,s.useContext)(Yo),ln=(0,s.useMemo)(()=>Ii(f),[f]),[Tn,Kt]=(0,s.useState)(ln.loading),[zt,Dn]=(0,s.useState)(!1),Sn=(0,s.useRef)(null),Ir=(0,Gt.x1)(t,Sn),ur=s.Children.count(H)===1&&!K&&!Ve(we),Yn=(0,s.useRef)(!0);s.useEffect(()=>(Yn.current=!1,()=>{Yn.current=!0}),[]),(0,s.useEffect)(()=>{let tr=null;ln.delay>0?tr=setTimeout(()=>{tr=null,Kt(!0)},ln.delay):Kt(ln.loading);function pr(){tr&&(clearTimeout(tr),tr=null)}return pr},[ln]),(0,s.useEffect)(()=>{if(!Sn.current||!ft)return;const tr=Sn.current.textContent||"";ur&&rn(tr)?zt||Dn(!0):zt&&Dn(!1)}),(0,s.useEffect)(()=>{pe&&Sn.current&&Sn.current.focus()},[]);const qn=s.useCallback(tr=>{var pr;if(Tn||pn){tr.preventDefault();return}(pr=e.onClick)===null||pr===void 0||pr.call(e,("href"in e,tr))},[e.onClick,Tn,pn]),{compactSize:Rn,compactItemClassnames:Jn}=(0,oo.ri)(vt,Ne),zr={large:"lg",small:"sm",middle:void 0},li=(0,Br.Z)(tr=>{var pr,Vn;return(Vn=(pr=L!=null?L:Rn)!==null&&pr!==void 0?pr:Bn)!==null&&Vn!==void 0?Vn:tr}),xi=li&&(o=zr[li])!==null&&o!==void 0?o:"",Di=Tn?"loading":K,So=(0,ci.Z)(ye,["navigate"]),_i=Y()(vt,It,Ft,{[`${vt}-${z}`]:z!=="default"&&z,[`${vt}-${Se}`]:Se,[`${vt}-dangerous`]:D,[`${vt}-color-${Re}`]:Re,[`${vt}-variant-${we}`]:we,[`${vt}-${xi}`]:xi,[`${vt}-icon-only`]:!H&&H!==0&&!!Di,[`${vt}-background-ghost`]:ie&&!Ve(we),[`${vt}-loading`]:Tn,[`${vt}-two-chinese-chars`]:zt&&ft&&!Tn,[`${vt}-block`]:oe,[`${vt}-rtl`]:Ne==="rtl",[`${vt}-icon-end`]:ee==="end"},Jn,j,G,at),ai=Object.assign(Object.assign({},Ct),ue),gi=Y()(se==null?void 0:se.icon,St.icon),Gi=Object.assign(Object.assign({},(k==null?void 0:k.icon)||{}),_t.icon||{}),Pi=K&&!Tn?s.createElement(wi,{prefixCls:vt,className:gi,style:Gi},K):f&&typeof f=="object"&&f.icon?s.createElement(wi,{prefixCls:vt,className:gi,style:Gi},f.icon):s.createElement(zi,{existIcon:!!K,prefixCls:vt,loading:Tn,mount:Yn.current}),wo=H||H===0?At(H,ur&&ft):null;if(So.href!==void 0)return $t(s.createElement("a",Object.assign({},So,{className:Y()(_i,{[`${vt}-disabled`]:pn}),href:pn?void 0:So.href,style:ai,onClick:qn,ref:Ir,tabIndex:pn?-1:0}),Pi,wo));let dr=s.createElement("button",Object.assign({},ye,{type:re,className:_i,style:ai,onClick:qn,disabled:pn,ref:Ir}),Pi,wo,Jn&&s.createElement(ac,{prefixCls:vt}));return Ve(we)||(dr=s.createElement(oa.Z,{component:"Button",disabled:Tn},dr)),$t(dr)});Yc.Group=Ri,Yc.__ANT_BUTTON=!0;var Jt=Yc,wn=Jt;function jn(e){return!!(e!=null&&e.then)}var Fr=e=>{const{type:t,children:a,prefixCls:o,buttonProps:f,close:y,autoFocus:C,emitEvent:w,isSilent:I,quitOnNullishReturnValue:D,actionFn:z}=e,L=s.useRef(!1),k=s.useRef(null),[Z,j]=(0,Na.Z)(!1),G=function(){y==null||y.apply(void 0,arguments)};s.useEffect(()=>{let ee=null;return C&&(ee=setTimeout(()=>{var ie;(ie=k.current)===null||ie===void 0||ie.focus({preventScroll:!0})})),()=>{ee&&clearTimeout(ee)}},[]);const H=ee=>{jn(ee)&&(j(!0),ee.then(function(){j(!1,!0),G.apply(void 0,arguments),L.current=!1},ie=>{if(j(!1,!0),L.current=!1,!(I!=null&&I()))return Promise.reject(ie)}))},K=ee=>{if(L.current)return;if(L.current=!0,!z){G();return}let ie;if(w){if(ie=z(ee),D&&!jn(ie)){L.current=!1,G(ee);return}}else if(z.length)ie=z(y),L.current=!1;else if(ie=z(),!jn(ie)){G();return}H(ie)};return s.createElement(wn,Object.assign({},Ge(t),{onClick:K,loading:Z,prefixCls:o},f,{ref:k}),a)};const Li=s.createContext({}),{Provider:no}=Li;var po=()=>{const{autoFocusButton:e,cancelButtonProps:t,cancelTextLocale:a,isSilent:o,mergedOkCancel:f,rootPrefixCls:y,close:C,onCancel:w,onConfirm:I}=(0,s.useContext)(Li);return f?s.createElement(Fr,{isSilent:o,actionFn:w,close:function(){C==null||C.apply(void 0,arguments),I==null||I(!1)},autoFocus:e==="cancel",buttonProps:t,prefixCls:`${y}-btn`},a):null},Zi=()=>{const{autoFocusButton:e,close:t,isSilent:a,okButtonProps:o,rootPrefixCls:f,okTextLocale:y,okType:C,onConfirm:w,onOk:I}=(0,s.useContext)(Li);return s.createElement(Fr,{isSilent:a,type:C||"primary",actionFn:I,close:function(){t==null||t.apply(void 0,arguments),w==null||w(!0)},autoFocus:e==="ok",buttonProps:o,prefixCls:`${f}-btn`},y)},Bo=F(54869),Mo=s.createContext({}),Go=F(89648),Ua=F(73188);function sa(e,t,a){var o=t;return!o&&a&&(o="".concat(e,"-").concat(a)),o}function Pa(e,t){var a=e["page".concat(t?"Y":"X","Offset")],o="scroll".concat(t?"Top":"Left");if(typeof a!="number"){var f=e.document;a=f.documentElement[o],typeof a!="number"&&(a=f.body[o])}return a}function es(e){var t=e.getBoundingClientRect(),a={left:t.left,top:t.top},o=e.ownerDocument,f=o.defaultView||o.parentWindow;return a.left+=Pa(f),a.top+=Pa(f,!0),a}var Oa=s.memo(function(e){var t=e.children;return t},function(e,t){var a=t.shouldUpdate;return!a}),qa={width:0,height:0,overflow:"hidden",outline:"none"},Xa={outline:"none"},is=s.forwardRef(function(e,t){var a=e.prefixCls,o=e.className,f=e.style,y=e.title,C=e.ariaId,w=e.footer,I=e.closable,D=e.closeIcon,z=e.onClose,L=e.children,k=e.bodyStyle,Z=e.bodyProps,j=e.modalRender,G=e.onMouseDown,H=e.onMouseUp,K=e.holderRef,ee=e.visible,ie=e.forceRender,oe=e.width,re=e.height,se=e.classNames,ue=e.styles,me=s.useContext(Mo),pe=me.panel,ye=(0,Gt.x1)(K,pe),Se=(0,s.useRef)(),Ie=(0,s.useRef)();s.useImperativeHandle(t,function(){return{focus:function(){var _t;(_t=Se.current)===null||_t===void 0||_t.focus({preventScroll:!0})},changeActive:function(_t){var ft=document,vt=ft.activeElement;_t&&vt===Ie.current?Se.current.focus({preventScroll:!0}):!_t&&vt===Se.current&&Ie.current.focus({preventScroll:!0})}}});var we={};oe!==void 0&&(we.width=oe),re!==void 0&&(we.height=re);var Be=w?s.createElement("div",{className:Y()("".concat(a,"-footer"),se==null?void 0:se.footer),style:(0,X.Z)({},ue==null?void 0:ue.footer)},w):null,Re=y?s.createElement("div",{className:Y()("".concat(a,"-header"),se==null?void 0:se.header),style:(0,X.Z)({},ue==null?void 0:ue.header)},s.createElement("div",{className:"".concat(a,"-title"),id:C},y)):null,je=(0,s.useMemo)(function(){return(0,Ye.Z)(I)==="object"&&I!==null?I:I?{closeIcon:D!=null?D:s.createElement("span",{className:"".concat(a,"-close-x")})}:{}},[I,D,a]),Ne=(0,lt.Z)(je,!0),nt=(0,Ye.Z)(I)==="object"&&I.disabled,at=I?s.createElement("button",(0,Ze.Z)({type:"button",onClick:z,"aria-label":"Close"},Ne,{className:"".concat(a,"-close"),disabled:nt}),je.closeIcon):null,Ct=s.createElement("div",{className:Y()("".concat(a,"-content"),se==null?void 0:se.content),style:ue==null?void 0:ue.content},at,Re,s.createElement("div",(0,Ze.Z)({className:Y()("".concat(a,"-body"),se==null?void 0:se.body),style:(0,X.Z)((0,X.Z)({},k),ue==null?void 0:ue.body)},Z),L),Be);return s.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":y?C:null,"aria-modal":"true",ref:ye,style:(0,X.Z)((0,X.Z)({},f),we),className:Y()(a,o),onMouseDown:G,onMouseUp:H},s.createElement("div",{ref:Se,tabIndex:0,style:Xa},s.createElement(Oa,{shouldUpdate:ee||ie},j?j(Ct):Ct)),s.createElement("div",{tabIndex:0,ref:Ie,style:qa}))}),ns=is,Wa=s.forwardRef(function(e,t){var a=e.prefixCls,o=e.title,f=e.style,y=e.className,C=e.visible,w=e.forceRender,I=e.destroyOnClose,D=e.motionName,z=e.ariaId,L=e.onVisibleChanged,k=e.mousePosition,Z=(0,s.useRef)(),j=s.useState(),G=(0,Oe.Z)(j,2),H=G[0],K=G[1],ee={};H&&(ee.transformOrigin=H);function ie(){var oe=es(Z.current);K(k&&(k.x||k.y)?"".concat(k.x-oe.left,"px ").concat(k.y-oe.top,"px"):"")}return s.createElement(En.ZP,{visible:C,onVisibleChanged:L,onAppearPrepare:ie,onEnterPrepare:ie,forceRender:w,motionName:D,removeOnLeave:I,ref:Z},function(oe,re){var se=oe.className,ue=oe.style;return s.createElement(ns,(0,Ze.Z)({},e,{ref:t,title:o,ariaId:z,prefixCls:a,holderRef:re,style:(0,X.Z)((0,X.Z)((0,X.Z)({},ue),f),ee),className:Y()(y,se)}))})});Wa.displayName="Content";var Os=Wa,sc=function(t){var a=t.prefixCls,o=t.style,f=t.visible,y=t.maskProps,C=t.motionName,w=t.className;return s.createElement(En.ZP,{key:"mask",visible:f,motionName:C,leavedClassName:"".concat(a,"-mask-hidden")},function(I,D){var z=I.className,L=I.style;return s.createElement("div",(0,Ze.Z)({ref:D,style:(0,X.Z)((0,X.Z)({},L),o),className:Y()("".concat(a,"-mask"),z,w)},y))})},bl=sc,lc=F(4449),Zu=function(t){var a=t.prefixCls,o=a===void 0?"rc-dialog":a,f=t.zIndex,y=t.visible,C=y===void 0?!1:y,w=t.keyboard,I=w===void 0?!0:w,D=t.focusTriggerAfterClose,z=D===void 0?!0:D,L=t.wrapStyle,k=t.wrapClassName,Z=t.wrapProps,j=t.onClose,G=t.afterOpenChange,H=t.afterClose,K=t.transitionName,ee=t.animation,ie=t.closable,oe=ie===void 0?!0:ie,re=t.mask,se=re===void 0?!0:re,ue=t.maskTransitionName,me=t.maskAnimation,pe=t.maskClosable,ye=pe===void 0?!0:pe,Se=t.maskStyle,Ie=t.maskProps,we=t.rootClassName,Be=t.classNames,Re=t.styles,je=(0,s.useRef)(),Ne=(0,s.useRef)(),nt=(0,s.useRef)(),at=s.useState(C),Ct=(0,Oe.Z)(at,2),St=Ct[0],_t=Ct[1],ft=(0,Ua.Z)();function vt(){(0,Go.Z)(Ne.current,document.activeElement)||(je.current=document.activeElement)}function $t(){if(!(0,Go.Z)(Ne.current,document.activeElement)){var Dn;(Dn=nt.current)===null||Dn===void 0||Dn.focus()}}function It(Dn){if(Dn)$t();else{if(_t(!1),se&&je.current&&z){try{je.current.focus({preventScroll:!0})}catch(Sn){}je.current=null}St&&(H==null||H())}G==null||G(Dn)}function Ft(Dn){j==null||j(Dn)}var wt=(0,s.useRef)(!1),pn=(0,s.useRef)(),Bn=function(){clearTimeout(pn.current),wt.current=!0},ln=function(){pn.current=setTimeout(function(){wt.current=!1})},Tn=null;ye&&(Tn=function(Sn){wt.current?wt.current=!1:Ne.current===Sn.target&&Ft(Sn)});function Kt(Dn){if(I&&Dn.keyCode===et.Z.ESC){Dn.stopPropagation(),Ft(Dn);return}C&&Dn.keyCode===et.Z.TAB&&nt.current.changeActive(!Dn.shiftKey)}(0,s.useEffect)(function(){C&&(_t(!0),vt())},[C]),(0,s.useEffect)(function(){return function(){clearTimeout(pn.current)}},[]);var zt=(0,X.Z)((0,X.Z)((0,X.Z)({zIndex:f},L),Re==null?void 0:Re.wrapper),{},{display:St?null:"none"});return s.createElement("div",(0,Ze.Z)({className:Y()("".concat(o,"-root"),we)},(0,lt.Z)(t,{data:!0})),s.createElement(bl,{prefixCls:o,visible:se&&C,motionName:sa(o,ue,me),style:(0,X.Z)((0,X.Z)({zIndex:f},Se),Re==null?void 0:Re.mask),maskProps:Ie,className:Be==null?void 0:Be.mask}),s.createElement("div",(0,Ze.Z)({tabIndex:-1,onKeyDown:Kt,className:Y()("".concat(o,"-wrap"),k,Be==null?void 0:Be.wrapper),ref:Ne,onClick:Tn,style:zt},Z),s.createElement(Os,(0,Ze.Z)({},t,{onMouseDown:Bn,onMouseUp:ln,ref:nt,closable:oe,ariaId:ft,prefixCls:o,visible:C&&St,onClose:Ft,onVisibleChanged:It,motionName:sa(o,K,ee)}))))},ql=Zu,Tl=function(t){var a=t.visible,o=t.getContainer,f=t.forceRender,y=t.destroyOnClose,C=y===void 0?!1:y,w=t.afterClose,I=t.panelRef,D=s.useState(a),z=(0,Oe.Z)(D,2),L=z[0],k=z[1],Z=s.useMemo(function(){return{panel:I}},[I]);return s.useEffect(function(){a&&k(!0)},[a]),!f&&C&&!L?null:s.createElement(Mo.Provider,{value:Z},s.createElement(Bo.Z,{open:a||f||L,autoDestroy:!1,getContainer:o,autoLock:a||L},s.createElement(ql,(0,Ze.Z)({},t,{destroyOnClose:C,afterClose:function(){w==null||w(),k(!1)}}))))};Tl.displayName="Dialog";var Zl=Tl,yc=Zl,Jl=F(78018);function zl(e){if(e)return{closable:e.closable,closeIcon:e.closeIcon}}function Vl(e){const{closable:t,closeIcon:a}=e||{};return s.useMemo(()=>{if(!t&&(t===!1||a===!1||a===null))return!1;if(t===void 0&&a===void 0)return null;let o={closeIcon:typeof a!="boolean"&&a!==null?a:void 0};return t&&typeof t=="object"&&(o=Object.assign(Object.assign({},o),t)),o},[t,a])}function Ql(){const e={};for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return a.forEach(f=>{f&&Object.keys(f).forEach(y=>{f[y]!==void 0&&(e[y]=f[y])})}),e}const qc={};function Hl(e,t){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:qc;const o=Vl(e),f=Vl(t),y=typeof o!="boolean"?!!(o!=null&&o.disabled):!1,C=s.useMemo(()=>Object.assign({closeIcon:s.createElement(er.Z,null)},a),[a]),w=s.useMemo(()=>o===!1?!1:o?Ql(C,f,o):f===!1?!1:f?Ql(C,f):C.closable?C:!1,[o,f,C]);return s.useMemo(()=>{if(w===!1)return[!1,null,y];const{closeIconRender:I}=C,{closeIcon:D}=w;let z=D;if(z!=null){I&&(z=I(D));const L=(0,lt.Z)(w,!0);Object.keys(L).length&&(z=s.isValidElement(z)?s.cloneElement(z,L):s.createElement("span",Object.assign({},L),z))}return[!0,z,y]},[w,C])}var cc=F(18415);const ec=()=>(0,cc.Z)()&&window.document.documentElement;var Ya=F(61803),mu=e=>{const{prefixCls:t,className:a,style:o,size:f,shape:y}=e,C=Y()({[`${t}-lg`]:f==="large",[`${t}-sm`]:f==="small"}),w=Y()({[`${t}-circle`]:y==="circle",[`${t}-square`]:y==="square",[`${t}-round`]:y==="round"}),I=s.useMemo(()=>typeof f=="number"?{width:f,height:f,lineHeight:`${f}px`}:{},[f]);return s.createElement("span",{className:Y()(t,C,w,a),style:Object.assign(Object.assign({},I),o)})};const Jh=new fe.E4("ant-skeleton-loading",{"0%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0 50%"}}),Pd=e=>({height:e,lineHeight:(0,fe.bf)(e)}),cd=e=>Object.assign({width:e},Pd(e)),Hs=e=>({background:e.skeletonLoadingBackground,backgroundSize:"400% 100%",animationName:Jh,animationDuration:e.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite"}),Vu=(e,t)=>Object.assign({width:t(e).mul(5).equal(),minWidth:t(e).mul(5).equal()},Pd(e)),Xf=e=>{const{skeletonAvatarCls:t,gradientFromColor:a,controlHeight:o,controlHeightLG:f,controlHeightSM:y}=e;return{[t]:Object.assign({display:"inline-block",verticalAlign:"top",background:a},cd(o)),[`${t}${t}-circle`]:{borderRadius:"50%"},[`${t}${t}-lg`]:Object.assign({},cd(f)),[`${t}${t}-sm`]:Object.assign({},cd(y))}},Od=e=>{const{controlHeight:t,borderRadiusSM:a,skeletonInputCls:o,controlHeightLG:f,controlHeightSM:y,gradientFromColor:C,calc:w}=e;return{[o]:Object.assign({display:"inline-block",verticalAlign:"top",background:C,borderRadius:a},Vu(t,w)),[`${o}-lg`]:Object.assign({},Vu(f,w)),[`${o}-sm`]:Object.assign({},Vu(y,w))}},of=e=>Object.assign({width:e},Pd(e)),af=e=>{const{skeletonImageCls:t,imageSizeBase:a,gradientFromColor:o,borderRadiusSM:f,calc:y}=e;return{[t]:Object.assign(Object.assign({display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"middle",background:o,borderRadius:f},of(y(a).mul(2).equal())),{[`${t}-path`]:{fill:"#bfbfbf"},[`${t}-svg`]:Object.assign(Object.assign({},of(a)),{maxWidth:y(a).mul(4).equal(),maxHeight:y(a).mul(4).equal()}),[`${t}-svg${t}-svg-circle`]:{borderRadius:"50%"}}),[`${t}${t}-circle`]:{borderRadius:"50%"}}},sf=(e,t,a)=>{const{skeletonButtonCls:o}=e;return{[`${a}${o}-circle`]:{width:t,minWidth:t,borderRadius:"50%"},[`${a}${o}-round`]:{borderRadius:t}}},Rd=(e,t)=>Object.assign({width:t(e).mul(2).equal(),minWidth:t(e).mul(2).equal()},Pd(e)),ud=e=>{const{borderRadiusSM:t,skeletonButtonCls:a,controlHeight:o,controlHeightLG:f,controlHeightSM:y,gradientFromColor:C,calc:w}=e;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[a]:Object.assign({display:"inline-block",verticalAlign:"top",background:C,borderRadius:t,width:w(o).mul(2).equal(),minWidth:w(o).mul(2).equal()},Rd(o,w))},sf(e,o,a)),{[`${a}-lg`]:Object.assign({},Rd(f,w))}),sf(e,f,`${a}-lg`)),{[`${a}-sm`]:Object.assign({},Rd(y,w))}),sf(e,y,`${a}-sm`))},$d=e=>{const{componentCls:t,skeletonAvatarCls:a,skeletonTitleCls:o,skeletonParagraphCls:f,skeletonButtonCls:y,skeletonInputCls:C,skeletonImageCls:w,controlHeight:I,controlHeightLG:D,controlHeightSM:z,gradientFromColor:L,padding:k,marginSM:Z,borderRadius:j,titleHeight:G,blockRadius:H,paragraphLiHeight:K,controlHeightXS:ee,paragraphMarginTop:ie}=e;return{[t]:{display:"table",width:"100%",[`${t}-header`]:{display:"table-cell",paddingInlineEnd:k,verticalAlign:"top",[a]:Object.assign({display:"inline-block",verticalAlign:"top",background:L},cd(I)),[`${a}-circle`]:{borderRadius:"50%"},[`${a}-lg`]:Object.assign({},cd(D)),[`${a}-sm`]:Object.assign({},cd(z))},[`${t}-content`]:{display:"table-cell",width:"100%",verticalAlign:"top",[o]:{width:"100%",height:G,background:L,borderRadius:H,[`+ ${f}`]:{marginBlockStart:z}},[f]:{padding:0,"> li":{width:"100%",height:K,listStyle:"none",background:L,borderRadius:H,"+ li":{marginBlockStart:ee}}},[`${f}> li:last-child:not(:first-child):not(:nth-child(2))`]:{width:"61%"}},[`&-round ${t}-content`]:{[`${o}, ${f} > li`]:{borderRadius:j}}},[`${t}-with-avatar ${t}-content`]:{[o]:{marginBlockStart:Z,[`+ ${f}`]:{marginBlockStart:ie}}},[`${t}${t}-element`]:Object.assign(Object.assign(Object.assign(Object.assign({display:"inline-block",width:"auto"},ud(e)),Xf(e)),Od(e)),af(e)),[`${t}${t}-block`]:{width:"100%",[y]:{width:"100%"},[C]:{width:"100%"}},[`${t}${t}-active`]:{[`
        ${o},
        ${f} > li,
        ${a},
        ${y},
        ${C},
        ${w}
      `]:Object.assign({},Hs(e))}}},Yf=e=>{const{colorFillContent:t,colorFill:a}=e,o=t,f=a;return{color:o,colorGradientEnd:f,gradientFromColor:o,gradientToColor:f,titleHeight:e.controlHeight/2,blockRadius:e.borderRadiusSM,paragraphMarginTop:e.marginLG+e.marginXXS,paragraphLiHeight:e.controlHeight/2}};var Ul=(0,te.I$)("Skeleton",e=>{const{componentCls:t,calc:a}=e,o=(0,Ur.IX)(e,{skeletonAvatarCls:`${t}-avatar`,skeletonTitleCls:`${t}-title`,skeletonParagraphCls:`${t}-paragraph`,skeletonButtonCls:`${t}-button`,skeletonInputCls:`${t}-input`,skeletonImageCls:`${t}-image`,imageSizeBase:a(e.controlHeight).mul(1.5).equal(),borderRadius:100,skeletonLoadingBackground:`linear-gradient(90deg, ${e.gradientFromColor} 25%, ${e.gradientToColor} 37%, ${e.gradientFromColor} 63%)`,skeletonLoadingMotionDuration:"1.4s"});return[$d(o)]},Yf,{deprecatedTokens:[["color","gradientFromColor"],["colorGradientEnd","gradientToColor"]]}),Ad=e=>{const{prefixCls:t,className:a,rootClassName:o,active:f,shape:y="circle",size:C="default"}=e,{getPrefixCls:w}=s.useContext(ve.E_),I=w("skeleton",t),[D,z,L]=Ul(I),k=(0,ci.Z)(e,["prefixCls","className"]),Z=Y()(I,`${I}-element`,{[`${I}-active`]:f},a,o,z,L);return D(s.createElement("div",{className:Z},s.createElement(mu,Object.assign({prefixCls:`${I}-avatar`,shape:y,size:C},k))))},Qf=e=>{const{prefixCls:t,className:a,rootClassName:o,active:f,block:y=!1,size:C="default"}=e,{getPrefixCls:w}=s.useContext(ve.E_),I=w("skeleton",t),[D,z,L]=Ul(I),k=(0,ci.Z)(e,["prefixCls"]),Z=Y()(I,`${I}-element`,{[`${I}-active`]:f,[`${I}-block`]:y},a,o,z,L);return D(s.createElement("div",{className:Z},s.createElement(mu,Object.assign({prefixCls:`${I}-button`,size:C},k))))};const eh="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z";var nh=e=>{const{prefixCls:t,className:a,rootClassName:o,style:f,active:y}=e,{getPrefixCls:C}=s.useContext(ve.E_),w=C("skeleton",t),[I,D,z]=Ul(w),L=Y()(w,`${w}-element`,{[`${w}-active`]:y},a,o,D,z);return I(s.createElement("div",{className:L},s.createElement("div",{className:Y()(`${w}-image`,a),style:f},s.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:`${w}-image-svg`},s.createElement("title",null,"Image placeholder"),s.createElement("path",{d:eh,className:`${w}-image-path`})))))},Dd=e=>{const{prefixCls:t,className:a,rootClassName:o,active:f,block:y,size:C="default"}=e,{getPrefixCls:w}=s.useContext(ve.E_),I=w("skeleton",t),[D,z,L]=Ul(I),k=(0,ci.Z)(e,["prefixCls"]),Z=Y()(I,`${I}-element`,{[`${I}-active`]:f,[`${I}-block`]:y},a,o,z,L);return D(s.createElement("div",{className:Z},s.createElement(mu,Object.assign({prefixCls:`${I}-input`,size:C},k))))},rh=e=>{const{prefixCls:t,className:a,rootClassName:o,style:f,active:y,children:C}=e,{getPrefixCls:w}=s.useContext(ve.E_),I=w("skeleton",t),[D,z,L]=Ul(I),k=Y()(I,`${I}-element`,{[`${I}-active`]:y},z,a,o,L);return D(s.createElement("div",{className:k},s.createElement("div",{className:Y()(`${I}-image`,a),style:f},C)))};const Hu=(e,t)=>{const{width:a,rows:o=2}=t;if(Array.isArray(a))return a[e];if(o-1===e)return a};var cp=e=>{const{prefixCls:t,className:a,style:o,rows:f=0}=e,y=Array.from({length:f}).map((C,w)=>s.createElement("li",{key:w,style:{width:Hu(w,e)}}));return s.createElement("ul",{className:Y()(t,a),style:o},y)},dp=e=>{let{prefixCls:t,className:a,width:o,style:f}=e;return s.createElement("h3",{className:Y()(t,a),style:Object.assign({width:o},f)})};function oh(e){return e&&typeof e=="object"?e:{}}function Qh(e,t){return e&&!t?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function ah(e,t){return!e&&t?{width:"38%"}:e&&t?{width:"50%"}:{}}function sh(e,t){const a={};return(!e||!t)&&(a.width="61%"),!e&&t?a.rows=3:a.rows=2,a}const pu=e=>{const{prefixCls:t,loading:a,className:o,rootClassName:f,style:y,children:C,avatar:w=!1,title:I=!0,paragraph:D=!0,active:z,round:L}=e,{getPrefixCls:k,direction:Z,className:j,style:G}=(0,ve.dj)("skeleton"),H=k("skeleton",t),[K,ee,ie]=Ul(H);if(a||!("loading"in e)){const oe=!!w,re=!!I,se=!!D;let ue;if(oe){const ye=Object.assign(Object.assign({prefixCls:`${H}-avatar`},Qh(re,se)),oh(w));ue=s.createElement("div",{className:`${H}-header`},s.createElement(mu,Object.assign({},ye)))}let me;if(re||se){let ye;if(re){const Ie=Object.assign(Object.assign({prefixCls:`${H}-title`},ah(oe,se)),oh(I));ye=s.createElement(dp,Object.assign({},Ie))}let Se;if(se){const Ie=Object.assign(Object.assign({prefixCls:`${H}-paragraph`},sh(oe,re)),oh(D));Se=s.createElement(cp,Object.assign({},Ie))}me=s.createElement("div",{className:`${H}-content`},ye,Se)}const pe=Y()(H,{[`${H}-with-avatar`]:oe,[`${H}-active`]:z,[`${H}-rtl`]:Z==="rtl",[`${H}-round`]:L},j,o,f,ee,ie);return K(s.createElement("div",{className:pe,style:Object.assign(Object.assign({},G),y)},ue,me))}return C!=null?C:null};pu.Button=Qf,pu.Avatar=Ad,pu.Input=Dd,pu.Image=nh,pu.Node=rh;var gn=pu,Tr=gn;function Wi(){}const ha=s.createContext({add:Wi,remove:Wi});function el(e){const t=s.useContext(ha),a=s.useRef(null);return(0,fr.Z)(f=>{if(f){const y=e?f.querySelector(e):f;t.add(y),a.current=y}else t.remove(a.current)})}var os=ha,Us=()=>{const{cancelButtonProps:e,cancelTextLocale:t,onCancel:a}=(0,s.useContext)(Li);return s.createElement(wn,Object.assign({onClick:a},e),t)},tl=()=>{const{confirmLoading:e,okButtonProps:t,okType:a,okTextLocale:o,onOk:f}=(0,s.useContext)(Li);return s.createElement(wn,Object.assign({},Ge(a),{loading:e,onClick:f},t),o)},Zc=F(3786);function _c(e,t){return s.createElement("span",{className:`${e}-close-x`},t||s.createElement(er.Z,{className:`${e}-close-icon`}))}const Pl=e=>{const{okText:t,okType:a="primary",cancelText:o,confirmLoading:f,onOk:y,onCancel:C,okButtonProps:w,cancelButtonProps:I,footer:D}=e,[z]=(0,Ao.Z)("Modal",(0,Zc.A)()),L=t||(z==null?void 0:z.okText),k=o||(z==null?void 0:z.cancelText),Z={confirmLoading:f,okButtonProps:w,cancelButtonProps:I,okTextLocale:L,cancelTextLocale:k,okType:a,onOk:y,onCancel:C},j=s.useMemo(()=>Z,(0,xe.Z)(Object.values(Z)));let G;return typeof D=="function"||typeof D=="undefined"?(G=s.createElement(s.Fragment,null,s.createElement(Us,null),s.createElement(tl,null)),typeof D=="function"&&(G=D(G,{OkBtn:tl,CancelBtn:Us})),G=s.createElement(no,{value:j},G)):G=D,s.createElement(Ta.n,{disabled:!1},G)};var Jc=F(40672),bc=F(79318);const Lc=new fe.E4("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),Nc=new fe.E4("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),iu=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{antCls:a}=e,o=`${a}-fade`,f=t?"&":"";return[(0,bc.R)(o,Lc,Nc,e.motionDurationMid,t),{[`
        ${f}${o}-enter,
        ${f}${o}-appear
      `]:{opacity:0,animationTimingFunction:"linear"},[`${f}${o}-leave`]:{animationTimingFunction:"linear"}}]};var ou=F(3153);function lf(e){return{position:e,inset:0}}const dd=e=>{const{componentCls:t,antCls:a}=e;return[{[`${t}-root`]:{[`${t}${a}-zoom-enter, ${t}${a}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:e.motionDurationSlow,userSelect:"none"},[`${t}${a}-zoom-leave ${t}-content`]:{pointerEvents:"none"},[`${t}-mask`]:Object.assign(Object.assign({},lf("fixed")),{zIndex:e.zIndexPopupBase,height:"100%",backgroundColor:e.colorBgMask,pointerEvents:"none",[`${t}-hidden`]:{display:"none"}}),[`${t}-wrap`]:Object.assign(Object.assign({},lf("fixed")),{zIndex:e.zIndexPopupBase,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"})}},{[`${t}-root`]:iu(e)}]},Uu=e=>{const{componentCls:t}=e;return[{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl"},[`${t}-centered`]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[t]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},[`@media (max-width: ${e.screenSMMax}px)`]:{[t]:{maxWidth:"calc(100vw - 16px)",margin:`${(0,fe.bf)(e.marginXS)} auto`},[`${t}-centered`]:{[t]:{flex:1}}}}},{[t]:Object.assign(Object.assign({},(0,Wt.Wf)(e)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:`calc(100vw - ${(0,fe.bf)(e.calc(e.margin).mul(2).equal())})`,margin:"0 auto",paddingBottom:e.paddingLG,[`${t}-title`]:{margin:0,color:e.titleColor,fontWeight:e.fontWeightStrong,fontSize:e.titleFontSize,lineHeight:e.titleLineHeight,wordWrap:"break-word"},[`${t}-content`]:{position:"relative",backgroundColor:e.contentBg,backgroundClip:"padding-box",border:0,borderRadius:e.borderRadiusLG,boxShadow:e.boxShadow,pointerEvents:"auto",padding:e.contentPadding},[`${t}-close`]:Object.assign({position:"absolute",top:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),insetInlineEnd:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),zIndex:e.calc(e.zIndexPopupBase).add(10).equal(),padding:0,color:e.modalCloseIconColor,fontWeight:e.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:e.borderRadiusSM,width:e.modalCloseBtnSize,height:e.modalCloseBtnSize,border:0,outline:0,cursor:"pointer",transition:`color ${e.motionDurationMid}, background-color ${e.motionDurationMid}`,"&-x":{display:"flex",fontSize:e.fontSizeLG,fontStyle:"normal",lineHeight:(0,fe.bf)(e.modalCloseBtnSize),justifyContent:"center",textTransform:"none",textRendering:"auto"},"&:disabled":{pointerEvents:"none"},"&:hover":{color:e.modalCloseIconHoverColor,backgroundColor:e.colorBgTextHover,textDecoration:"none"},"&:active":{backgroundColor:e.colorBgTextActive}},(0,Wt.Qy)(e)),[`${t}-header`]:{color:e.colorText,background:e.headerBg,borderRadius:`${(0,fe.bf)(e.borderRadiusLG)} ${(0,fe.bf)(e.borderRadiusLG)} 0 0`,marginBottom:e.headerMarginBottom,padding:e.headerPadding,borderBottom:e.headerBorderBottom},[`${t}-body`]:{fontSize:e.fontSize,lineHeight:e.lineHeight,wordWrap:"break-word",padding:e.bodyPadding,[`${t}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:`${(0,fe.bf)(e.margin)} auto`}},[`${t}-footer`]:{textAlign:"end",background:e.footerBg,marginTop:e.footerMarginTop,padding:e.footerPadding,borderTop:e.footerBorderTop,borderRadius:e.footerBorderRadius,[`> ${e.antCls}-btn + ${e.antCls}-btn`]:{marginInlineStart:e.marginXS}},[`${t}-open`]:{overflow:"hidden"}})},{[`${t}-pure-panel`]:{top:"auto",padding:0,display:"flex",flexDirection:"column",[`${t}-content,
          ${t}-body,
          ${t}-confirm-body-wrapper`]:{display:"flex",flexDirection:"column",flex:"auto"},[`${t}-confirm-body`]:{marginBottom:"auto"}}}]},cf=e=>{const{componentCls:t}=e;return{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl",[`${t}-confirm-body`]:{direction:"rtl"}}}}},uf=e=>{const{componentCls:t}=e,a=(0,Jc.hd)(e);delete a.xs;const o=Object.keys(a).map(f=>({[`@media (min-width: ${(0,fe.bf)(a[f])})`]:{width:`var(--${t.replace(".","")}-${f}-width)`}}));return{[`${t}-root`]:{[t]:[{width:`var(--${t.replace(".","")}-xs-width)`}].concat((0,xe.Z)(o))}}},lh=e=>{const t=e.padding,a=e.fontSizeHeading5,o=e.lineHeightHeading5;return(0,Ur.IX)(e,{modalHeaderHeight:e.calc(e.calc(o).mul(a).equal()).add(e.calc(t).mul(2).equal()).equal(),modalFooterBorderColorSplit:e.colorSplit,modalFooterBorderStyle:e.lineType,modalFooterBorderWidth:e.lineWidth,modalCloseIconColor:e.colorIcon,modalCloseIconHoverColor:e.colorIconHover,modalCloseBtnSize:e.controlHeight,modalConfirmIconSize:e.fontHeight,modalTitleHeight:e.calc(e.titleFontSize).mul(e.titleLineHeight).equal()})},df=e=>({footerBg:"transparent",headerBg:e.colorBgElevated,titleLineHeight:e.lineHeightHeading5,titleFontSize:e.fontSizeHeading5,contentBg:e.colorBgElevated,titleColor:e.colorTextHeading,contentPadding:e.wireframe?0:`${(0,fe.bf)(e.paddingMD)} ${(0,fe.bf)(e.paddingContentHorizontalLG)}`,headerPadding:e.wireframe?`${(0,fe.bf)(e.padding)} ${(0,fe.bf)(e.paddingLG)}`:0,headerBorderBottom:e.wireframe?`${(0,fe.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",headerMarginBottom:e.wireframe?0:e.marginXS,bodyPadding:e.wireframe?e.paddingLG:0,footerPadding:e.wireframe?`${(0,fe.bf)(e.paddingXS)} ${(0,fe.bf)(e.padding)}`:0,footerBorderTop:e.wireframe?`${(0,fe.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",footerBorderRadius:e.wireframe?`0 0 ${(0,fe.bf)(e.borderRadiusLG)} ${(0,fe.bf)(e.borderRadiusLG)}`:0,footerMarginTop:e.wireframe?0:e.marginSM,confirmBodyPadding:e.wireframe?`${(0,fe.bf)(e.padding*2)} ${(0,fe.bf)(e.padding*2)} ${(0,fe.bf)(e.paddingLG)}`:0,confirmIconMarginInlineEnd:e.wireframe?e.margin:e.marginSM,confirmBtnsMarginTop:e.wireframe?e.marginLG:e.marginSM});var fp=(0,te.I$)("Modal",e=>{const t=lh(e);return[Uu(t),cf(t),dd(t),(0,ou._y)(t,"zoom"),uf(t)]},df,{unitless:{titleLineHeight:!0}}),ch=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};let zd;const hp=e=>{zd={x:e.pageX,y:e.pageY},setTimeout(()=>{zd=null},100)};ec()&&document.documentElement.addEventListener("click",hp,!0);var Zg=e=>{var t;const{getPopupContainer:a,getPrefixCls:o,direction:f,modal:y}=s.useContext(ve.E_),C=It=>{const{onCancel:Ft}=e;Ft==null||Ft(It)},w=It=>{const{onOk:Ft}=e;Ft==null||Ft(It)},{prefixCls:I,className:D,rootClassName:z,open:L,wrapClassName:k,centered:Z,getContainer:j,focusTriggerAfterClose:G=!0,style:H,visible:K,width:ee=520,footer:ie,classNames:oe,styles:re,children:se,loading:ue}=e,me=ch(e,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","focusTriggerAfterClose","style","visible","width","footer","classNames","styles","children","loading"]),pe=o("modal",I),ye=o(),Se=(0,Fn.Z)(pe),[Ie,we,Be]=fp(pe,Se),Re=Y()(k,{[`${pe}-centered`]:Z!=null?Z:y==null?void 0:y.centered,[`${pe}-wrap-rtl`]:f==="rtl"}),je=ie!==null&&!ue?s.createElement(Pl,Object.assign({},e,{onOk:w,onCancel:C})):null,[Ne,nt,at]=Hl(zl(e),zl(y),{closable:!0,closeIcon:s.createElement(er.Z,{className:`${pe}-close-icon`}),closeIconRender:It=>_c(pe,It)}),Ct=el(`.${pe}-content`),[St,_t]=(0,Ut.Cn)("Modal",me.zIndex),[ft,vt]=s.useMemo(()=>ee&&typeof ee=="object"?[void 0,ee]:[ee,void 0],[ee]),$t=s.useMemo(()=>{const It={};return vt&&Object.keys(vt).forEach(Ft=>{const wt=vt[Ft];wt!==void 0&&(It[`--${pe}-${Ft}-width`]=typeof wt=="number"?`${wt}px`:wt)}),It},[vt]);return Ie(s.createElement(Jl.Z,{form:!0,space:!0},s.createElement(Ya.Z.Provider,{value:_t},s.createElement(yc,Object.assign({width:ft},me,{zIndex:St,getContainer:j===void 0?a:j,prefixCls:pe,rootClassName:Y()(we,z,Be,Se),footer:je,visible:L!=null?L:K,mousePosition:(t=me.mousePosition)!==null&&t!==void 0?t:zd,onClose:C,closable:Ne&&{disabled:at,closeIcon:nt},closeIcon:nt,focusTriggerAfterClose:G,transitionName:(0,Rr.m)(ye,"zoom",e.transitionName),maskTransitionName:(0,Rr.m)(ye,"fade",e.maskTransitionName),className:Y()(we,D,y==null?void 0:y.className),style:Object.assign(Object.assign(Object.assign({},y==null?void 0:y.style),H),$t),classNames:Object.assign(Object.assign(Object.assign({},y==null?void 0:y.classNames),oe),{wrapper:Y()(Re,oe==null?void 0:oe.wrapper)}),styles:Object.assign(Object.assign({},y==null?void 0:y.styles),re),panelRef:Ct}),ue?s.createElement(Tr,{active:!0,title:!1,paragraph:{rows:4},className:`${pe}-body-skeleton`}):se))))};const Ld=e=>{const{componentCls:t,titleFontSize:a,titleLineHeight:o,modalConfirmIconSize:f,fontSize:y,lineHeight:C,modalTitleHeight:w,fontHeight:I,confirmBodyPadding:D}=e,z=`${t}-confirm`;return{[z]:{"&-rtl":{direction:"rtl"},[`${e.antCls}-modal-header`]:{display:"none"},[`${z}-body-wrapper`]:Object.assign({},(0,Wt.dF)()),[`&${t} ${t}-body`]:{padding:D},[`${z}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${e.iconCls}`]:{flex:"none",fontSize:f,marginInlineEnd:e.confirmIconMarginInlineEnd,marginTop:e.calc(e.calc(I).sub(f).equal()).div(2).equal()},[`&-has-title > ${e.iconCls}`]:{marginTop:e.calc(e.calc(w).sub(f).equal()).div(2).equal()}},[`${z}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:e.marginXS,maxWidth:`calc(100% - ${(0,fe.bf)(e.marginSM)})`},[`${e.iconCls} + ${z}-paragraph`]:{maxWidth:`calc(100% - ${(0,fe.bf)(e.calc(e.modalConfirmIconSize).add(e.marginSM).equal())})`},[`${z}-title`]:{color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:a,lineHeight:o},[`${z}-content`]:{color:e.colorText,fontSize:y,lineHeight:C},[`${z}-btns`]:{textAlign:"end",marginTop:e.confirmBtnsMarginTop,[`${e.antCls}-btn + ${e.antCls}-btn`]:{marginBottom:0,marginInlineStart:e.marginXS}}},[`${z}-error ${z}-body > ${e.iconCls}`]:{color:e.colorError},[`${z}-warning ${z}-body > ${e.iconCls},
        ${z}-confirm ${z}-body > ${e.iconCls}`]:{color:e.colorWarning},[`${z}-info ${z}-body > ${e.iconCls}`]:{color:e.colorInfo},[`${z}-success ${z}-body > ${e.iconCls}`]:{color:e.colorSuccess}}};var em=(0,te.bk)(["Modal","confirm"],e=>{const t=lh(e);return[Ld(t)]},df,{order:-1e3}),lo=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};function tm(e){const{prefixCls:t,icon:a,okText:o,cancelText:f,confirmPrefixCls:y,type:C,okCancel:w,footer:I,locale:D}=e,z=lo(e,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let L=a;if(!a&&a!==null)switch(C){case"info":L=s.createElement(cn,null);break;case"success":L=s.createElement(Lt.Z,null);break;case"error":L=s.createElement(hr.Z,null);break;default:L=s.createElement(Hn.Z,null)}const k=w!=null?w:C==="confirm",Z=e.autoFocusButton===null?!1:e.autoFocusButton||"ok",[j]=(0,Ao.Z)("Modal"),G=D||j,H=o||(k?G==null?void 0:G.okText:G==null?void 0:G.justOkText),K=f||(G==null?void 0:G.cancelText),ee=Object.assign({autoFocusButton:Z,cancelTextLocale:K,okTextLocale:H,mergedOkCancel:k},z),ie=s.useMemo(()=>ee,(0,xe.Z)(Object.values(ee))),oe=s.createElement(s.Fragment,null,s.createElement(po,null),s.createElement(Zi,null)),re=e.title!==void 0&&e.title!==null,se=`${y}-body`;return s.createElement("div",{className:`${y}-body-wrapper`},s.createElement("div",{className:Y()(se,{[`${se}-has-title`]:re})},L,s.createElement("div",{className:`${y}-paragraph`},re&&s.createElement("span",{className:`${y}-title`},e.title),s.createElement("div",{className:`${y}-content`},e.content))),I===void 0||typeof I=="function"?s.createElement(no,{value:ie},s.createElement("div",{className:`${y}-btns`},typeof I=="function"?I(oe,{OkBtn:Zi,CancelBtn:po}):oe)):I,s.createElement(em,{prefixCls:t}))}const mp=e=>{const{close:t,zIndex:a,maskStyle:o,direction:f,prefixCls:y,wrapClassName:C,rootPrefixCls:w,bodyStyle:I,closable:D=!1,onConfirm:z,styles:L}=e,k=`${y}-confirm`,Z=e.width||416,j=e.style||{},G=e.mask===void 0?!0:e.mask,H=e.maskClosable===void 0?!1:e.maskClosable,K=Y()(k,`${k}-${e.type}`,{[`${k}-rtl`]:f==="rtl"},e.className),[,ee]=(0,ea.ZP)(),ie=s.useMemo(()=>a!==void 0?a:ee.zIndexPopupBase+Ut.u6,[a,ee]);return s.createElement(Zg,Object.assign({},e,{className:K,wrapClassName:Y()({[`${k}-centered`]:!!e.centered},C),onCancel:()=>{t==null||t({triggerCancel:!0}),z==null||z(!1)},title:"",footer:null,transitionName:(0,Rr.m)(w||"","zoom",e.transitionName),maskTransitionName:(0,Rr.m)(w||"","fade",e.maskTransitionName),mask:G,maskClosable:H,style:j,styles:Object.assign({body:I,mask:o},L),width:Z,zIndex:ie,closable:D}),s.createElement(tm,Object.assign({},e,{confirmPrefixCls:k})))};var fd=e=>{const{rootPrefixCls:t,iconPrefixCls:a,direction:o,theme:f}=e;return s.createElement(Fi.ZP,{prefixCls:t,iconPrefixCls:a,direction:o,theme:f},s.createElement(mp,Object.assign({},e)))},Wu=[];let Vg="";function Hg(){return Vg}const nm=e=>{var t,a;const{prefixCls:o,getContainer:f,direction:y}=e,C=(0,Zc.A)(),w=(0,s.useContext)(ve.E_),I=Hg()||w.getPrefixCls(),D=o||`${I}-modal`;let z=f;return z===!1&&(z=void 0),s.createElement(fd,Object.assign({},e,{rootPrefixCls:I,prefixCls:D,iconPrefixCls:w.iconPrefixCls,theme:w.theme,direction:y!=null?y:w.direction,locale:(a=(t=w.locale)===null||t===void 0?void 0:t.Modal)!==null&&a!==void 0?a:C,getContainer:z}))};function Bd(e){const t=(0,Fi.w6)(),a=document.createDocumentFragment();let o=Object.assign(Object.assign({},e),{close:I,open:!0}),f,y;function C(){for(var z,L=arguments.length,k=new Array(L),Z=0;Z<L;Z++)k[Z]=arguments[Z];if(k.some(H=>H==null?void 0:H.triggerCancel)){var G;(z=e.onCancel)===null||z===void 0||(G=z).call.apply(G,[e,()=>{}].concat((0,xe.Z)(k.slice(1))))}for(let H=0;H<Wu.length;H++)if(Wu[H]===I){Wu.splice(H,1);break}y()}function w(z){clearTimeout(f),f=setTimeout(()=>{const L=t.getPrefixCls(void 0,Hg()),k=t.getIconPrefixCls(),Z=t.getTheme(),j=s.createElement(nm,Object.assign({},z));y=(0,Qo.x)()(s.createElement(Fi.ZP,{prefixCls:L,iconPrefixCls:k,theme:Z},t.holderRender?t.holderRender(j):j),a)})}function I(){for(var z=arguments.length,L=new Array(z),k=0;k<z;k++)L[k]=arguments[k];o=Object.assign(Object.assign({},o),{open:!1,afterClose:()=>{typeof e.afterClose=="function"&&e.afterClose(),C.apply(this,L)}}),o.visible&&delete o.visible,w(o)}function D(z){typeof z=="function"?o=z(o):o=Object.assign(Object.assign({},o),z),w(o)}return w(o),Wu.push(I),{destroy:I,update:D}}function rm(e){return Object.assign(Object.assign({},e),{type:"warning"})}function pp(e){return Object.assign(Object.assign({},e),{type:"info"})}function im(e){return Object.assign(Object.assign({},e),{type:"success"})}function ff(e){return Object.assign(Object.assign({},e),{type:"error"})}function uh(e){return Object.assign(Object.assign({},e),{type:"confirm"})}function gp(e){let{rootPrefixCls:t}=e;Vg=t}var Ac=F(42474),Vc=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const hd=(e,t)=>{var a,{afterClose:o,config:f}=e,y=Vc(e,["afterClose","config"]);const[C,w]=s.useState(!0),[I,D]=s.useState(f),{direction:z,getPrefixCls:L}=s.useContext(ve.E_),k=L("modal"),Z=L(),j=()=>{var ee;o(),(ee=I.afterClose)===null||ee===void 0||ee.call(I)},G=function(){var ee;w(!1);for(var ie=arguments.length,oe=new Array(ie),re=0;re<ie;re++)oe[re]=arguments[re];if(oe.some(me=>me==null?void 0:me.triggerCancel)){var ue;(ee=I.onCancel)===null||ee===void 0||(ue=ee).call.apply(ue,[I,()=>{}].concat((0,xe.Z)(oe.slice(1))))}};s.useImperativeHandle(t,()=>({destroy:G,update:ee=>{D(ie=>Object.assign(Object.assign({},ie),ee))}}));const H=(a=I.okCancel)!==null&&a!==void 0?a:I.type==="confirm",[K]=(0,Ao.Z)("Modal",Ac.Z.Modal);return s.createElement(fd,Object.assign({prefixCls:k,rootPrefixCls:Z},I,{close:G,open:C,afterClose:j,okText:I.okText||(H?K==null?void 0:K.okText:K==null?void 0:K.justOkText),direction:I.direction||z,cancelText:I.cancelText||(K==null?void 0:K.cancelText)},y))};var vp=s.forwardRef(hd);let om=0;const hf=s.memo(s.forwardRef((e,t)=>{const[a,o]=so();return s.useImperativeHandle(t,()=>({patchElement:o}),[]),s.createElement(s.Fragment,null,a)}));function am(){const e=s.useRef(null),[t,a]=s.useState([]);s.useEffect(()=>{t.length&&((0,xe.Z)(t).forEach(C=>{C()}),a([]))},[t]);const o=s.useCallback(y=>function(w){var I;om+=1;const D=s.createRef();let z;const L=new Promise(H=>{z=H});let k=!1,Z;const j=s.createElement(vp,{key:`modal-${om}`,config:y(w),ref:D,afterClose:()=>{Z==null||Z()},isSilent:()=>k,onConfirm:H=>{z(H)}});return Z=(I=e.current)===null||I===void 0?void 0:I.patchElement(j),Z&&Wu.push(Z),{destroy:()=>{function H(){var K;(K=D.current)===null||K===void 0||K.destroy()}D.current?H():a(K=>[].concat((0,xe.Z)(K),[H]))},update:H=>{function K(){var ee;(ee=D.current)===null||ee===void 0||ee.update(H)}D.current?K():a(ee=>[].concat((0,xe.Z)(ee),[K]))},then:H=>(k=!0,L.then(H))}},[]);return[s.useMemo(()=>({info:o(pp),success:o(im),error:o(ff),warning:o(rm),confirm:o(uh)}),[]),s.createElement(hf,{key:"modal-holder",ref:e})]}var mf=am,Ws=e=>{const{componentCls:t,notificationMarginEdge:a,animationMaxHeight:o}=e,f=`${t}-notice`,y=new fe.E4("antNotificationFadeIn",{"0%":{transform:"translate3d(100%, 0, 0)",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",opacity:1}}),C=new fe.E4("antNotificationTopFadeIn",{"0%":{top:-o,opacity:0},"100%":{top:0,opacity:1}}),w=new fe.E4("antNotificationBottomFadeIn",{"0%":{bottom:e.calc(o).mul(-1).equal(),opacity:0},"100%":{bottom:0,opacity:1}}),I=new fe.E4("antNotificationLeftFadeIn",{"0%":{transform:"translate3d(-100%, 0, 0)",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",opacity:1}});return{[t]:{[`&${t}-top, &${t}-bottom`]:{marginInline:0,[f]:{marginInline:"auto auto"}},[`&${t}-top`]:{[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:C}},[`&${t}-bottom`]:{[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:w}},[`&${t}-topRight, &${t}-bottomRight`]:{[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:y}},[`&${t}-topLeft, &${t}-bottomLeft`]:{marginRight:{value:0,_skip_check_:!0},marginLeft:{value:a,_skip_check_:!0},[f]:{marginInlineEnd:"auto",marginInlineStart:0},[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:I}}}}};const sm=["top","topLeft","topRight","bottom","bottomLeft","bottomRight"],dh={topLeft:"left",topRight:"right",bottomLeft:"left",bottomRight:"right",top:"left",bottom:"left"},lm=(e,t)=>{const{componentCls:a}=e;return{[`${a}-${t}`]:{[`&${a}-stack > ${a}-notice-wrapper`]:{[t.startsWith("top")?"top":"bottom"]:0,[dh[t]]:{value:0,_skip_check_:!0}}}}},yp=e=>{const t={};for(let a=1;a<e.notificationStackLayer;a++)t[`&:nth-last-child(${a+1})`]={overflow:"hidden",[`& > ${e.componentCls}-notice`]:{opacity:0,transition:`opacity ${e.motionDurationMid}`}};return Object.assign({[`&:not(:nth-last-child(-n+${e.notificationStackLayer}))`]:{opacity:0,overflow:"hidden",color:"transparent",pointerEvents:"none"}},t)},fh=e=>{const t={};for(let a=1;a<e.notificationStackLayer;a++)t[`&:nth-last-child(${a+1})`]={background:e.colorBgBlur,backdropFilter:"blur(10px)","-webkit-backdrop-filter":"blur(10px)"};return Object.assign({},t)};var pf=e=>{const{componentCls:t}=e;return Object.assign({[`${t}-stack`]:{[`& > ${t}-notice-wrapper`]:Object.assign({transition:`transform ${e.motionDurationSlow}, backdrop-filter 0s`,willChange:"transform, opacity",position:"absolute"},yp(e))},[`${t}-stack:not(${t}-stack-expanded)`]:{[`& > ${t}-notice-wrapper`]:Object.assign({},fh(e))},[`${t}-stack${t}-stack-expanded`]:{[`& > ${t}-notice-wrapper`]:{"&:not(:nth-last-child(-n + 1))":{opacity:1,overflow:"unset",color:"inherit",pointerEvents:"auto",[`& > ${e.componentCls}-notice`]:{opacity:1}},"&:after":{content:'""',position:"absolute",height:e.margin,width:"100%",insetInline:0,bottom:e.calc(e.margin).mul(-1).equal(),background:"transparent",pointerEvents:"auto"}}}},sm.map(a=>lm(e,a)).reduce((a,o)=>Object.assign(Object.assign({},a),o),{}))};const Fd=e=>{const{iconCls:t,componentCls:a,boxShadow:o,fontSizeLG:f,notificationMarginBottom:y,borderRadiusLG:C,colorSuccess:w,colorInfo:I,colorWarning:D,colorError:z,colorTextHeading:L,notificationBg:k,notificationPadding:Z,notificationMarginEdge:j,notificationProgressBg:G,notificationProgressHeight:H,fontSize:K,lineHeight:ee,width:ie,notificationIconSize:oe,colorText:re}=e,se=`${a}-notice`;return{position:"relative",marginBottom:y,marginInlineStart:"auto",background:k,borderRadius:C,boxShadow:o,[se]:{padding:Z,width:ie,maxWidth:`calc(100vw - ${(0,fe.bf)(e.calc(j).mul(2).equal())})`,overflow:"hidden",lineHeight:ee,wordWrap:"break-word"},[`${se}-message`]:{marginBottom:e.marginXS,color:L,fontSize:f,lineHeight:e.lineHeightLG},[`${se}-description`]:{fontSize:K,color:re},[`${se}-closable ${se}-message`]:{paddingInlineEnd:e.paddingLG},[`${se}-with-icon ${se}-message`]:{marginBottom:e.marginXS,marginInlineStart:e.calc(e.marginSM).add(oe).equal(),fontSize:f},[`${se}-with-icon ${se}-description`]:{marginInlineStart:e.calc(e.marginSM).add(oe).equal(),fontSize:K},[`${se}-icon`]:{position:"absolute",fontSize:oe,lineHeight:1,[`&-success${t}`]:{color:w},[`&-info${t}`]:{color:I},[`&-warning${t}`]:{color:D},[`&-error${t}`]:{color:z}},[`${se}-close`]:Object.assign({position:"absolute",top:e.notificationPaddingVertical,insetInlineEnd:e.notificationPaddingHorizontal,color:e.colorIcon,outline:"none",width:e.notificationCloseButtonSize,height:e.notificationCloseButtonSize,borderRadius:e.borderRadiusSM,transition:`background-color ${e.motionDurationMid}, color ${e.motionDurationMid}`,display:"flex",alignItems:"center",justifyContent:"center","&:hover":{color:e.colorIconHover,backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive}},(0,Wt.Qy)(e)),[`${se}-progress`]:{position:"absolute",display:"block",appearance:"none",WebkitAppearance:"none",inlineSize:`calc(100% - ${(0,fe.bf)(C)} * 2)`,left:{_skip_check_:!0,value:C},right:{_skip_check_:!0,value:C},bottom:0,blockSize:H,border:0,"&, &::-webkit-progress-bar":{borderRadius:C,backgroundColor:"rgba(0, 0, 0, 0.04)"},"&::-moz-progress-bar":{background:G},"&::-webkit-progress-value":{borderRadius:C,background:G}},[`${se}-actions`]:{float:"right",marginTop:e.marginSM}}},pi=e=>{const{componentCls:t,notificationMarginBottom:a,notificationMarginEdge:o,motionDurationMid:f,motionEaseInOut:y}=e,C=`${t}-notice`,w=new fe.E4("antNotificationFadeOut",{"0%":{maxHeight:e.animationMaxHeight,marginBottom:a},"100%":{maxHeight:0,marginBottom:0,paddingTop:0,paddingBottom:0,opacity:0}});return[{[t]:Object.assign(Object.assign({},(0,Wt.Wf)(e)),{position:"fixed",zIndex:e.zIndexPopup,marginRight:{value:o,_skip_check_:!0},[`${t}-hook-holder`]:{position:"relative"},[`${t}-fade-appear-prepare`]:{opacity:"0 !important"},[`${t}-fade-enter, ${t}-fade-appear`]:{animationDuration:e.motionDurationMid,animationTimingFunction:y,animationFillMode:"both",opacity:0,animationPlayState:"paused"},[`${t}-fade-leave`]:{animationTimingFunction:y,animationFillMode:"both",animationDuration:f,animationPlayState:"paused"},[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationPlayState:"running"},[`${t}-fade-leave${t}-fade-leave-active`]:{animationName:w,animationPlayState:"running"},"&-rtl":{direction:"rtl",[`${C}-actions`]:{float:"left"}}})},{[t]:{[`${C}-wrapper`]:Object.assign({},Fd(e))}}]},Ki=e=>({zIndexPopup:e.zIndexPopupBase+Ut.u6+50,width:384}),kd=e=>{const t=e.paddingMD,a=e.paddingLG;return(0,Ur.IX)(e,{notificationBg:e.colorBgElevated,notificationPaddingVertical:t,notificationPaddingHorizontal:a,notificationIconSize:e.calc(e.fontSizeLG).mul(e.lineHeightLG).equal(),notificationCloseButtonSize:e.calc(e.controlHeightLG).mul(.55).equal(),notificationMarginBottom:e.margin,notificationPadding:`${(0,fe.bf)(e.paddingMD)} ${(0,fe.bf)(e.paddingContentHorizontalLG)}`,notificationMarginEdge:e.marginLG,animationMaxHeight:150,notificationStackLayer:3,notificationProgressHeight:2,notificationProgressBg:`linear-gradient(90deg, ${e.colorPrimaryBorderHover}, ${e.colorPrimary})`})};var nl=(0,te.I$)("Notification",e=>{const t=kd(e);return[pi(t),Ws(t),pf(t)]},Ki),Gn=(0,te.bk)(["Notification","PurePanel"],e=>{const t=`${e.componentCls}-notice`,a=kd(e);return{[`${t}-pure-panel`]:Object.assign(Object.assign({},Fd(a)),{width:a.width,maxWidth:`calc(100vw - ${(0,fe.bf)(e.calc(a.notificationMarginEdge).mul(2).equal())})`,margin:0})}},Ki),Ug=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const _p={info:s.createElement(cn,null),success:s.createElement(Lt.Z,null),error:s.createElement(hr.Z,null),warning:s.createElement(Hn.Z,null),loading:s.createElement(_n.Z,null)};function mh(e,t){return t===null||t===!1?null:t||s.createElement(er.Z,{className:`${e}-close-icon`})}const Wg={success:Lt.Z,info:cn,error:hr.Z,warning:Hn.Z},bp=e=>{const{prefixCls:t,icon:a,type:o,message:f,description:y,actions:C,role:w="alert"}=e;let I=null;return a?I=s.createElement("span",{className:`${t}-icon`},a):o&&(I=s.createElement(Wg[o]||null,{className:Y()(`${t}-icon`,`${t}-icon-${o}`)})),s.createElement("div",{className:Y()({[`${t}-with-icon`]:I}),role:w},I,s.createElement("div",{className:`${t}-message`},f),s.createElement("div",{className:`${t}-description`},y),C&&s.createElement("div",{className:`${t}-actions`},C))};var gf=e=>{const{prefixCls:t,className:a,icon:o,type:f,message:y,description:C,btn:w,actions:I,closable:D=!0,closeIcon:z,className:L}=e,k=Ug(e,["prefixCls","className","icon","type","message","description","btn","actions","closable","closeIcon","className"]),{getPrefixCls:Z}=s.useContext(ve.E_),j=I!=null?I:w,G=t||Z("notification"),H=`${G}-notice`,K=(0,Fn.Z)(G),[ee,ie,oe]=nl(G,K);return ee(s.createElement("div",{className:Y()(`${H}-pure-panel`,ie,a,oe,K)},s.createElement(Gn,{prefixCls:G}),s.createElement(Tt,Object.assign({},k,{prefixCls:G,eventKey:"pure",duration:null,closable:D,className:Y()({notificationClassName:L}),closeIcon:mh(G,z),content:s.createElement(bp,{prefixCls:H,icon:o,type:f,message:y,description:C,actions:j})}))))};function Tv(e,t,a){let o;switch(e){case"top":o={left:"50%",transform:"translateX(-50%)",right:"auto",top:t,bottom:"auto"};break;case"topLeft":o={left:0,top:t,bottom:"auto"};break;case"topRight":o={right:0,top:t,bottom:"auto"};break;case"bottom":o={left:"50%",transform:"translateX(-50%)",right:"auto",top:"auto",bottom:a};break;case"bottomLeft":o={left:0,top:"auto",bottom:a};break;default:o={right:0,top:"auto",bottom:a};break}return o}function Pv(e){return{motionName:`${e}-fade`}}function Gg(e,t,a){return typeof e!="undefined"?e:typeof(t==null?void 0:t.closeIcon)!="undefined"?t.closeIcon:a==null?void 0:a.closeIcon}var cm=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const Gu=24,xp=4.5,Cp="topRight",jd=e=>{let{children:t,prefixCls:a}=e;const o=(0,Fn.Z)(a),[f,y,C]=nl(a,o);return f(s.createElement(Xe,{classNames:{list:Y()(y,C,o)}},t))},um=(e,t)=>{let{prefixCls:a,key:o}=t;return s.createElement(jd,{prefixCls:a,key:o},e)},Tu=s.forwardRef((e,t)=>{const{top:a,bottom:o,prefixCls:f,getContainer:y,maxCount:C,rtl:w,onAllRemoved:I,stack:D,duration:z,pauseOnHover:L=!0,showProgress:k}=e,{getPrefixCls:Z,getPopupContainer:j,notification:G,direction:H}=(0,s.useContext)(ve.E_),[,K]=(0,ea.ZP)(),ee=f||Z("notification"),ie=me=>Tv(me,a!=null?a:Gu,o!=null?o:Gu),oe=()=>Y()({[`${ee}-rtl`]:w!=null?w:H==="rtl"}),re=()=>Pv(ee),[se,ue]=mt({prefixCls:ee,style:ie,className:oe,motion:re,closable:!0,closeIcon:mh(ee),duration:z!=null?z:xp,getContainer:()=>(y==null?void 0:y())||(j==null?void 0:j())||document.body,maxCount:C,pauseOnHover:L,showProgress:k,onAllRemoved:I,renderNotifications:um,stack:D===!1?!1:{threshold:typeof D=="object"?D==null?void 0:D.threshold:void 0,offset:8,gap:K.margin}});return s.useImperativeHandle(t,()=>Object.assign(Object.assign({},se),{prefixCls:ee,notification:G})),ue});function Pu(e){const t=s.useRef(null),a=(0,io.ln)("Notification");return[s.useMemo(()=>{const f=I=>{var D;if(!t.current)return;const{open:z,prefixCls:L,notification:k}=t.current,Z=`${L}-notice`,{message:j,description:G,icon:H,type:K,btn:ee,actions:ie,className:oe,style:re,role:se="alert",closeIcon:ue,closable:me}=I,pe=cm(I,["message","description","icon","type","btn","actions","className","style","role","closeIcon","closable"]),ye=ie!=null?ie:ee,Se=mh(Z,Gg(ue,e,k));return z(Object.assign(Object.assign({placement:(D=e==null?void 0:e.placement)!==null&&D!==void 0?D:Cp},pe),{content:s.createElement(bp,{prefixCls:Z,icon:H,type:K,message:j,description:G,actions:ye,role:se}),className:Y()(K&&`${Z}-${K}`,oe,k==null?void 0:k.className),style:Object.assign(Object.assign({},k==null?void 0:k.style),re),closeIcon:Se,closable:me!=null?me:!!Se}))},C={open:f,destroy:I=>{var D,z;I!==void 0?(D=t.current)===null||D===void 0||D.close(I):(z=t.current)===null||z===void 0||z.destroy()}};return["success","info","warning","error"].forEach(I=>{C[I]=D=>f(Object.assign(Object.assign({},D),{type:I}))}),C},[]),s.createElement(Tu,Object.assign({key:"notification-holder"},e,{ref:t}))]}function Sp(e){return Pu(e)}const Ll=s.createContext({});var vf=s.createContext({message:{},notification:{},modal:{}});const Gs=e=>{const{componentCls:t,colorText:a,fontSize:o,lineHeight:f,fontFamily:y}=e;return{[t]:{color:a,fontSize:o,lineHeight:f,fontFamily:y,[`&${t}-rtl`]:{direction:"rtl"}}}},bs=()=>({});var Kg=(0,te.I$)("App",Gs,bs),yf=e=>{const{prefixCls:t,children:a,className:o,rootClassName:f,message:y,notification:C,style:w,component:I="div"}=e,{direction:D,getPrefixCls:z}=(0,s.useContext)(ve.E_),L=z("app",t),[k,Z,j]=Kg(L),G=Y()(Z,L,o,f,j,{[`${L}-rtl`]:D==="rtl"}),H=(0,s.useContext)(Ll),K=s.useMemo(()=>({message:Object.assign(Object.assign({},H.message),y),notification:Object.assign(Object.assign({},H.notification),C)}),[y,C,H.message,H.notification]),[ee,ie]=mo(K.message),[oe,re]=Sp(K.notification),[se,ue]=mf(),me=s.useMemo(()=>({message:ee,notification:oe,modal:se}),[ee,oe,se]);(0,io.ln)("App")(!(j&&I===!1),"usage","When using cssVar, ensure `component` is assigned a valid React component string.");const pe=I===!1?s.Fragment:I,ye={className:G,style:w};return k(s.createElement(vf.Provider,{value:me},s.createElement(Ll.Provider,{value:K},s.createElement(pe,Object.assign({},I===!1?void 0:ye),ue,ie,re,a))))},dm=()=>s.useContext(vf);const _f=yf;_f.useApp=dm;var Ou=_f,vl=F(52445),gu=F(30142),Wl=F(81626);const{Option:fm}=gu.default;function hm(e){return(e==null?void 0:e.type)&&(e.type.isSelectOption||e.type.isSelectOptGroup)}const Zd=(e,t)=>{var a;const{prefixCls:o,className:f,popupClassName:y,dropdownClassName:C,children:w,dataSource:I}=e,D=(0,Wl.Z)(w);let z;D.length===1&&s.isValidElement(D[0])&&!hm(D[0])&&([z]=D);const L=z?()=>z:void 0;let k;D.length&&hm(D[0])?k=w:k=I?I.map(H=>{if(s.isValidElement(H))return H;switch(typeof H){case"string":return s.createElement(fm,{key:H,value:H},H);case"object":{const{value:K}=H;return s.createElement(fm,{key:K,value:K},H.text)}default:return}}):[];const{getPrefixCls:Z}=s.useContext(ve.E_),j=Z("select",o),[G]=(0,Ut.Cn)("SelectLike",(a=e.dropdownStyle)===null||a===void 0?void 0:a.zIndex);return s.createElement(gu.default,Object.assign({ref:t,suffixIcon:null},(0,ci.Z)(e,["dataSource","dropdownClassName"]),{prefixCls:j,popupClassName:y||C,dropdownStyle:Object.assign(Object.assign({},e.dropdownStyle),{zIndex:G}),className:Y()(`${j}-auto-complete`,f),mode:gu.default.SECRET_COMBOBOX_MODE_DO_NOT_USE,getInputElement:L}),k)};var Ku=s.forwardRef(Zd);const{Option:wp}=gu.default,mm=(0,vl.Z)(Ku,"dropdownAlign",e=>(0,ci.Z)(e,["visible"])),ph=Ku;ph.Option=wp,ph._InternalPanelDoNotUseOrYouWillBeFired=mm;var Ep=ph,Nl=F(96777),Xu=F(19240),Vd=s.createContext({});const gd=e=>{const{antCls:t,componentCls:a,iconCls:o,avatarBg:f,avatarColor:y,containerSize:C,containerSizeLG:w,containerSizeSM:I,textFontSize:D,textFontSizeLG:z,textFontSizeSM:L,borderRadius:k,borderRadiusLG:Z,borderRadiusSM:j,lineWidth:G,lineType:H}=e,K=(ee,ie,oe)=>({width:ee,height:ee,borderRadius:"50%",[`&${a}-square`]:{borderRadius:oe},[`&${a}-icon`]:{fontSize:ie,[`> ${o}`]:{margin:0}}});return{[a]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,Wt.Wf)(e)),{position:"relative",display:"inline-flex",justifyContent:"center",alignItems:"center",overflow:"hidden",color:y,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:f,border:`${(0,fe.bf)(G)} ${H} transparent`,"&-image":{background:"transparent"},[`${t}-image-img`]:{display:"block"}}),K(C,D,k)),{"&-lg":Object.assign({},K(w,z,Z)),"&-sm":Object.assign({},K(I,L,j)),"> img":{display:"block",width:"100%",height:"100%",objectFit:"cover"}})}},pm=e=>{const{componentCls:t,groupBorderColor:a,groupOverlapping:o,groupSpace:f}=e;return{[`${t}-group`]:{display:"inline-flex",[t]:{borderColor:a},"> *:not(:first-child)":{marginInlineStart:o}},[`${t}-group-popover`]:{[`${t} + ${t}`]:{marginInlineStart:f}}}},Ru=e=>{const{controlHeight:t,controlHeightLG:a,controlHeightSM:o,fontSize:f,fontSizeLG:y,fontSizeXL:C,fontSizeHeading3:w,marginXS:I,marginXXS:D,colorBorderBg:z}=e;return{containerSize:t,containerSizeLG:a,containerSizeSM:o,textFontSize:Math.round((y+C)/2),textFontSizeLG:w,textFontSizeSM:f,groupSpace:D,groupOverlapping:-I,groupBorderColor:z}};var gh=(0,te.I$)("Avatar",e=>{const{colorTextLightSolid:t,colorTextPlaceholder:a}=e,o=(0,Ur.IX)(e,{avatarBg:a,avatarColor:t});return[gd(o),pm(o)]},Ru),bf=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const Ip=(e,t)=>{const[a,o]=s.useState(1),[f,y]=s.useState(!1),[C,w]=s.useState(!0),I=s.useRef(null),D=s.useRef(null),z=(0,Gt.sQ)(t,I),{getPrefixCls:L,avatar:k}=s.useContext(ve.E_),Z=s.useContext(Vd),j=()=>{if(!D.current||!I.current)return;const wt=D.current.offsetWidth,pn=I.current.offsetWidth;if(wt!==0&&pn!==0){const{gap:Bn=4}=e;Bn*2<pn&&o(pn-Bn*2<wt?(pn-Bn*2)/wt:1)}};s.useEffect(()=>{y(!0)},[]),s.useEffect(()=>{w(!0),o(1)},[e.src]),s.useEffect(j,[e.gap]);const G=()=>{const{onError:wt}=e;(wt==null?void 0:wt())!==!1&&w(!1)},{prefixCls:H,shape:K,size:ee,src:ie,srcSet:oe,icon:re,className:se,rootClassName:ue,alt:me,draggable:pe,children:ye,crossOrigin:Se}=e,Ie=bf(e,["prefixCls","shape","size","src","srcSet","icon","className","rootClassName","alt","draggable","children","crossOrigin"]),we=(0,Br.Z)(wt=>{var pn,Bn;return(Bn=(pn=ee!=null?ee:Z==null?void 0:Z.size)!==null&&pn!==void 0?pn:wt)!==null&&Bn!==void 0?Bn:"default"}),Be=Object.keys(typeof we=="object"?we||{}:{}).some(wt=>["xs","sm","md","lg","xl","xxl"].includes(wt)),Re=(0,Xu.Z)(Be),je=s.useMemo(()=>{if(typeof we!="object")return{};const wt=Nl.c4.find(Bn=>Re[Bn]),pn=we[wt];return pn?{width:pn,height:pn,fontSize:pn&&(re||ye)?pn/2:18}:{}},[Re,we]),Ne=L("avatar",H),nt=(0,Fn.Z)(Ne),[at,Ct,St]=gh(Ne,nt),_t=Y()({[`${Ne}-lg`]:we==="large",[`${Ne}-sm`]:we==="small"}),ft=s.isValidElement(ie),vt=K||(Z==null?void 0:Z.shape)||"circle",$t=Y()(Ne,_t,k==null?void 0:k.className,`${Ne}-${vt}`,{[`${Ne}-image`]:ft||ie&&C,[`${Ne}-icon`]:!!re},St,nt,se,ue,Ct),It=typeof we=="number"?{width:we,height:we,fontSize:re?we/2:18}:{};let Ft;if(typeof ie=="string"&&C)Ft=s.createElement("img",{src:ie,draggable:pe,srcSet:oe,onError:G,alt:me,crossOrigin:Se});else if(ft)Ft=ie;else if(re)Ft=re;else if(f||a!==1){const wt=`scale(${a})`,pn={msTransform:wt,WebkitTransform:wt,transform:wt};Ft=s.createElement(c.Z,{onResize:j},s.createElement("span",{className:`${Ne}-string`,ref:D,style:Object.assign({},pn)},ye))}else Ft=s.createElement("span",{className:`${Ne}-string`,style:{opacity:0},ref:D},ye);return delete Ie.onError,delete Ie.gap,at(s.createElement("span",Object.assign({},Ie,{style:Object.assign(Object.assign(Object.assign(Object.assign({},It),je),k==null?void 0:k.style),Ie.style),className:$t,ref:z}),Ft))};var xf=s.forwardRef(Ip),Hd=F(60916);const gm=e=>{const{size:t,shape:a}=s.useContext(Vd),o=s.useMemo(()=>({size:e.size||t,shape:e.shape||a}),[e.size,e.shape,t,a]);return s.createElement(Vd.Provider,{value:o},e.children)};var Jg=e=>{var t,a,o,f;const{getPrefixCls:y,direction:C}=s.useContext(ve.E_),{prefixCls:w,className:I,rootClassName:D,style:z,maxCount:L,maxStyle:k,size:Z,shape:j,maxPopoverPlacement:G,maxPopoverTrigger:H,children:K,max:ee}=e,ie=y("avatar",w),oe=`${ie}-group`,re=(0,Fn.Z)(ie),[se,ue,me]=gh(ie,re),pe=Y()(oe,{[`${oe}-rtl`]:C==="rtl"},me,re,I,D,ue),ye=(0,Wl.Z)(K).map((we,Be)=>(0,bn.Tm)(we,{key:`avatar-key-${Be}`})),Se=(ee==null?void 0:ee.count)||L,Ie=ye.length;if(Se&&Se<Ie){const we=ye.slice(0,Se),Be=ye.slice(Se,Ie),Re=(ee==null?void 0:ee.style)||k,je=((t=ee==null?void 0:ee.popover)===null||t===void 0?void 0:t.trigger)||H||"hover",Ne=((a=ee==null?void 0:ee.popover)===null||a===void 0?void 0:a.placement)||G||"top",nt=Object.assign(Object.assign({content:Be},ee==null?void 0:ee.popover),{classNames:{root:Y()(`${oe}-popover`,(f=(o=ee==null?void 0:ee.popover)===null||o===void 0?void 0:o.classNames)===null||f===void 0?void 0:f.root)},placement:Ne,trigger:je});return we.push(s.createElement(Hd.Z,Object.assign({key:"avatar-popover-key",destroyTooltipOnHide:!0},nt),s.createElement(xf,{style:Re},`+${Ie-Se}`))),se(s.createElement(gm,{shape:j,size:Z},s.createElement("div",{className:pe,style:z},we)))}return se(s.createElement(gm,{shape:j,size:Z},s.createElement("div",{className:pe,style:z},ye)))};const vm=xf;vm.Group=Jg;var vh=vm,Qg={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z"}}]},name:"vertical-align-top",theme:"outlined"},e0=Qg,t0=function(t,a){return s.createElement(Xt.Z,(0,Ze.Z)({},t,{ref:a,icon:e0}))},n0=s.forwardRef(t0),Tp=n0;const yh=e=>{const{componentCls:t,backTopFontSize:a,backTopSize:o,zIndexPopup:f}=e;return{[t]:Object.assign(Object.assign({},(0,Wt.Wf)(e)),{position:"fixed",insetInlineEnd:e.backTopInlineEnd,insetBlockEnd:e.backTopBlockEnd,zIndex:f,width:40,height:40,cursor:"pointer","&:empty":{display:"none"},[`${t}-content`]:{width:o,height:o,overflow:"hidden",color:e.backTopColor,textAlign:"center",backgroundColor:e.backTopBackground,borderRadius:o,transition:`all ${e.motionDurationMid}`,"&:hover":{backgroundColor:e.backTopHoverBackground,transition:`all ${e.motionDurationMid}`}},[`${t}-icon`]:{fontSize:a,lineHeight:(0,fe.bf)(o)}})}},_h=e=>{const{componentCls:t,screenMD:a,screenXS:o,backTopInlineEndMD:f,backTopInlineEndXS:y}=e;return{[`@media (max-width: ${(0,fe.bf)(a)})`]:{[t]:{insetInlineEnd:f}},[`@media (max-width: ${(0,fe.bf)(o)})`]:{[t]:{insetInlineEnd:y}}}},Hc=e=>({zIndexPopup:e.zIndexBase+10});var bh=(0,te.I$)("BackTop",e=>{const{fontSizeHeading3:t,colorTextDescription:a,colorTextLightSolid:o,colorText:f,controlHeightLG:y,calc:C}=e,w=(0,Ur.IX)(e,{backTopBackground:a,backTopColor:o,backTopHoverBackground:f,backTopFontSize:t,backTopSize:y,backTopBlockEnd:C(y).mul(1.25).equal(),backTopInlineEnd:C(y).mul(2.5).equal(),backTopInlineEndMD:C(y).mul(1.5).equal(),backTopInlineEndXS:C(y).mul(.5).equal()});return[yh(w),_h(w)]},Hc),Rv=e=>{const{prefixCls:t,className:a,rootClassName:o,visibilityHeight:f=400,target:y,onClick:C,duration:w=450}=e,[I,D]=s.useState(f===0),z=s.useRef(null),L=()=>{var me;return((me=z.current)===null||me===void 0?void 0:me.ownerDocument)||window},k=Me(me=>{const pe=Xn(me.target);D(pe>=f)});s.useEffect(()=>{const pe=(y||L)();return k({target:pe}),pe==null||pe.addEventListener("scroll",k),()=>{k.cancel(),pe==null||pe.removeEventListener("scroll",k)}},[y]);const Z=me=>{Yr(0,{getContainer:y||L,duration:w}),C==null||C(me)},{getPrefixCls:j,direction:G}=s.useContext(ve.E_),H=j("back-top",t),K=j(),[ee,ie,oe]=bh(H),re=Y()(ie,oe,H,{[`${H}-rtl`]:G==="rtl"},a,o),se=(0,ci.Z)(e,["prefixCls","className","rootClassName","children","visibilityHeight","target"]),ue=s.createElement("div",{className:`${H}-content`},s.createElement("div",{className:`${H}-icon`},s.createElement(Tp,null)));return ee(s.createElement("div",Object.assign({},se,{className:re,onClick:Z,ref:z}),s.createElement(En.ZP,{visible:I,motionName:`${K}-fade`},me=>{let{className:pe}=me;return(0,bn.Tm)(e.children||ue,ye=>{let{className:Se}=ye;return{className:Y()(pe,Se)}})})))},ym=F(53835),cl=F(75428);const _m=new fe.E4("antStatusProcessing",{"0%":{transform:"scale(0.8)",opacity:.5},"100%":{transform:"scale(2.4)",opacity:0}}),$v=new fe.E4("antZoomBadgeIn",{"0%":{transform:"scale(0) translate(50%, -50%)",opacity:0},"100%":{transform:"scale(1) translate(50%, -50%)"}}),Pp=new fe.E4("antZoomBadgeOut",{"0%":{transform:"scale(1) translate(50%, -50%)"},"100%":{transform:"scale(0) translate(50%, -50%)",opacity:0}}),xh=new fe.E4("antNoWrapperZoomBadgeIn",{"0%":{transform:"scale(0)",opacity:0},"100%":{transform:"scale(1)"}}),r0=new fe.E4("antNoWrapperZoomBadgeOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0)",opacity:0}}),Ch=new fe.E4("antBadgeLoadingCircle",{"0%":{transformOrigin:"50%"},"100%":{transform:"translate(50%, -50%) rotate(360deg)",transformOrigin:"50%"}}),bm=e=>{const{componentCls:t,iconCls:a,antCls:o,badgeShadowSize:f,textFontSize:y,textFontSizeSM:C,statusSize:w,dotSize:I,textFontWeight:D,indicatorHeight:z,indicatorHeightSM:L,marginXS:k,calc:Z}=e,j=`${o}-scroll-number`,G=(0,cl.Z)(e,(H,K)=>{let{darkColor:ee}=K;return{[`&${t} ${t}-color-${H}`]:{background:ee,[`&:not(${t}-count)`]:{color:ee},"a:hover &":{background:ee}}}});return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,Wt.Wf)(e)),{position:"relative",display:"inline-block",width:"fit-content",lineHeight:1,[`${t}-count`]:{display:"inline-flex",justifyContent:"center",zIndex:e.indicatorZIndex,minWidth:z,height:z,color:e.badgeTextColor,fontWeight:D,fontSize:y,lineHeight:(0,fe.bf)(z),whiteSpace:"nowrap",textAlign:"center",background:e.badgeColor,borderRadius:Z(z).div(2).equal(),boxShadow:`0 0 0 ${(0,fe.bf)(f)} ${e.badgeShadowColor}`,transition:`background ${e.motionDurationMid}`,a:{color:e.badgeTextColor},"a:hover":{color:e.badgeTextColor},"a:hover &":{background:e.badgeColorHover}},[`${t}-count-sm`]:{minWidth:L,height:L,fontSize:C,lineHeight:(0,fe.bf)(L),borderRadius:Z(L).div(2).equal()},[`${t}-multiple-words`]:{padding:`0 ${(0,fe.bf)(e.paddingXS)}`,bdi:{unicodeBidi:"plaintext"}},[`${t}-dot`]:{zIndex:e.indicatorZIndex,width:I,minWidth:I,height:I,background:e.badgeColor,borderRadius:"100%",boxShadow:`0 0 0 ${(0,fe.bf)(f)} ${e.badgeShadowColor}`},[`${t}-count, ${t}-dot, ${j}-custom-component`]:{position:"absolute",top:0,insetInlineEnd:0,transform:"translate(50%, -50%)",transformOrigin:"100% 0%",[`&${a}-spin`]:{animationName:Ch,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear"}},[`&${t}-status`]:{lineHeight:"inherit",verticalAlign:"baseline",[`${t}-status-dot`]:{position:"relative",top:-1,display:"inline-block",width:w,height:w,verticalAlign:"middle",borderRadius:"50%"},[`${t}-status-success`]:{backgroundColor:e.colorSuccess},[`${t}-status-processing`]:{overflow:"visible",color:e.colorInfo,backgroundColor:e.colorInfo,borderColor:"currentcolor","&::after":{position:"absolute",top:0,insetInlineStart:0,width:"100%",height:"100%",borderWidth:f,borderStyle:"solid",borderColor:"inherit",borderRadius:"50%",animationName:_m,animationDuration:e.badgeProcessingDuration,animationIterationCount:"infinite",animationTimingFunction:"ease-in-out",content:'""'}},[`${t}-status-default`]:{backgroundColor:e.colorTextPlaceholder},[`${t}-status-error`]:{backgroundColor:e.colorError},[`${t}-status-warning`]:{backgroundColor:e.colorWarning},[`${t}-status-text`]:{marginInlineStart:k,color:e.colorText,fontSize:e.fontSize}}}),G),{[`${t}-zoom-appear, ${t}-zoom-enter`]:{animationName:$v,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"},[`${t}-zoom-leave`]:{animationName:Pp,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"},[`&${t}-not-a-wrapper`]:{[`${t}-zoom-appear, ${t}-zoom-enter`]:{animationName:xh,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack},[`${t}-zoom-leave`]:{animationName:r0,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack},[`&:not(${t}-status)`]:{verticalAlign:"middle"},[`${j}-custom-component, ${t}-count`]:{transform:"none"},[`${j}-custom-component, ${j}`]:{position:"relative",top:"auto",display:"block",transformOrigin:"50% 50%"}},[j]:{overflow:"hidden",transition:`all ${e.motionDurationMid} ${e.motionEaseOutBack}`,[`${j}-only`]:{position:"relative",display:"inline-block",height:z,transition:`all ${e.motionDurationSlow} ${e.motionEaseOutBack}`,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden",[`> p${j}-only-unit`]:{height:z,margin:0,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden"}},[`${j}-symbol`]:{verticalAlign:"top"}},"&-rtl":{direction:"rtl",[`${t}-count, ${t}-dot, ${j}-custom-component`]:{transform:"translate(-50%, -50%)"}}})}},vu=e=>{const{fontHeight:t,lineWidth:a,marginXS:o,colorBorderBg:f}=e,y=t,C=a,w=e.colorTextLightSolid,I=e.colorError,D=e.colorErrorHover;return(0,Ur.IX)(e,{badgeFontHeight:y,badgeShadowSize:C,badgeTextColor:w,badgeColor:I,badgeColorHover:D,badgeShadowColor:f,badgeProcessingDuration:"1.2s",badgeRibbonOffset:o,badgeRibbonCornerTransform:"scaleY(0.75)",badgeRibbonCornerFilter:"brightness(75%)"})},Cf=e=>{const{fontSize:t,lineHeight:a,fontSizeSM:o,lineWidth:f}=e;return{indicatorZIndex:"auto",indicatorHeight:Math.round(t*a)-2*f,indicatorHeightSM:t,dotSize:o/2,textFontSize:o,textFontSizeSM:o,textFontWeight:"normal",statusSize:o/2}};var Cl=(0,te.I$)("Badge",e=>{const t=vu(e);return bm(t)},Cf);const su=e=>{const{antCls:t,badgeFontHeight:a,marginXS:o,badgeRibbonOffset:f,calc:y}=e,C=`${t}-ribbon`,w=`${t}-ribbon-wrapper`,I=(0,cl.Z)(e,(D,z)=>{let{darkColor:L}=z;return{[`&${C}-color-${D}`]:{background:L,color:L}}});return{[w]:{position:"relative"},[C]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,Wt.Wf)(e)),{position:"absolute",top:o,padding:`0 ${(0,fe.bf)(e.paddingXS)}`,color:e.colorPrimary,lineHeight:(0,fe.bf)(a),whiteSpace:"nowrap",backgroundColor:e.colorPrimary,borderRadius:e.borderRadiusSM,[`${C}-text`]:{color:e.badgeTextColor},[`${C}-corner`]:{position:"absolute",top:"100%",width:f,height:f,color:"currentcolor",border:`${(0,fe.bf)(y(f).div(2).equal())} solid`,transform:e.badgeRibbonCornerTransform,transformOrigin:"top",filter:e.badgeRibbonCornerFilter}}),I),{[`&${C}-placement-end`]:{insetInlineEnd:y(f).mul(-1).equal(),borderEndEndRadius:0,[`${C}-corner`]:{insetInlineEnd:0,borderInlineEndColor:"transparent",borderBlockEndColor:"transparent"}},[`&${C}-placement-start`]:{insetInlineStart:y(f).mul(-1).equal(),borderEndStartRadius:0,[`${C}-corner`]:{insetInlineStart:0,borderBlockEndColor:"transparent",borderInlineStartColor:"transparent"}},"&-rtl":{direction:"rtl"}})}};var Sf=(0,te.I$)(["Badge","Ribbon"],e=>{const t=vu(e);return su(t)},Cf),i0=e=>{const{className:t,prefixCls:a,style:o,color:f,children:y,text:C,placement:w="end",rootClassName:I}=e,{getPrefixCls:D,direction:z}=s.useContext(ve.E_),L=D("ribbon",a),k=`${L}-wrapper`,[Z,j,G]=Sf(L,k),H=(0,ym.o2)(f,!1),K=Y()(L,`${L}-placement-${w}`,{[`${L}-rtl`]:z==="rtl",[`${L}-color-${f}`]:H},t),ee={},ie={};return f&&!H&&(ee.background=f,ie.color=f),Z(s.createElement("div",{className:Y()(k,I,j,G)},y,s.createElement("div",{className:Y()(K,j),style:Object.assign(Object.assign({},ee),o)},s.createElement("span",{className:`${L}-text`},C),s.createElement("div",{className:`${L}-corner`,style:ie}))))};const Op=e=>{const{prefixCls:t,value:a,current:o,offset:f=0}=e;let y;return f&&(y={position:"absolute",top:`${f}00%`,left:0}),s.createElement("span",{style:y,className:Y()(`${t}-only-unit`,{current:o})},a)};function Sh(e,t,a){let o=e,f=0;for(;(o+10)%10!==t;)o+=a,f+=a;return f}var Av=e=>{const{prefixCls:t,count:a,value:o}=e,f=Number(o),y=Math.abs(a),[C,w]=s.useState(f),[I,D]=s.useState(y),z=()=>{w(f),D(y)};s.useEffect(()=>{const Z=setTimeout(z,1e3);return()=>clearTimeout(Z)},[f]);let L,k;if(C===f||Number.isNaN(f)||Number.isNaN(C))L=[s.createElement(Op,Object.assign({},e,{key:f,current:!0}))],k={transition:"none"};else{L=[];const Z=f+10,j=[];for(let ee=f;ee<=Z;ee+=1)j.push(ee);const G=I<y?1:-1,H=j.findIndex(ee=>ee%10===C);L=(G<0?j.slice(0,H+1):j.slice(H)).map((ee,ie)=>{const oe=ee%10;return s.createElement(Op,Object.assign({},e,{key:ee,value:oe,offset:G<0?ie-H:ie,current:ie===H}))}),k={transform:`translateY(${-Sh(C,f,G)}00%)`}}return s.createElement("span",{className:`${t}-only`,style:k,onTransitionEnd:z},L)},Rp=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},Ud=s.forwardRef((e,t)=>{const{prefixCls:a,count:o,className:f,motionClassName:y,style:C,title:w,show:I,component:D="sup",children:z}=e,L=Rp(e,["prefixCls","count","className","motionClassName","style","title","show","component","children"]),{getPrefixCls:k}=s.useContext(ve.E_),Z=k("scroll-number",a),j=Object.assign(Object.assign({},L),{"data-show":I,style:C,className:Y()(Z,f,y),title:w});let G=o;if(o&&Number(o)%1===0){const H=String(o).split("");G=s.createElement("bdi",null,H.map((K,ee)=>s.createElement(Av,{prefixCls:Z,count:Number(o),value:K,key:H.length-ee})))}return C!=null&&C.borderColor&&(j.style=Object.assign(Object.assign({},C),{boxShadow:`0 0 0 1px ${C.borderColor} inset`})),z?(0,bn.Tm)(z,H=>({className:Y()(`${Z}-custom-component`,H==null?void 0:H.className,y)})):s.createElement(D,Object.assign({},j,{ref:t}),G)}),Wd=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const lu=s.forwardRef((e,t)=>{var a,o,f,y,C;const{prefixCls:w,scrollNumberPrefixCls:I,children:D,status:z,text:L,color:k,count:Z=null,overflowCount:j=99,dot:G=!1,size:H="default",title:K,offset:ee,style:ie,className:oe,rootClassName:re,classNames:se,styles:ue,showZero:me=!1}=e,pe=Wd(e,["prefixCls","scrollNumberPrefixCls","children","status","text","color","count","overflowCount","dot","size","title","offset","style","className","rootClassName","classNames","styles","showZero"]),{getPrefixCls:ye,direction:Se,badge:Ie}=s.useContext(ve.E_),we=ye("badge",w),[Be,Re,je]=Cl(we),Ne=Z>j?`${j}+`:Z,nt=Ne==="0"||Ne===0,at=Z===null||nt&&!me,Ct=(z!=null||k!=null)&&at,St=G&&!nt,_t=St?"":Ne,ft=(0,s.useMemo)(()=>(_t==null||_t===""||nt&&!me)&&!St,[_t,nt,me,St]),vt=(0,s.useRef)(Z);ft||(vt.current=Z);const $t=vt.current,It=(0,s.useRef)(_t);ft||(It.current=_t);const Ft=It.current,wt=(0,s.useRef)(St);ft||(wt.current=St);const pn=(0,s.useMemo)(()=>{if(!ee)return Object.assign(Object.assign({},Ie==null?void 0:Ie.style),ie);const Ir={marginTop:ee[1]};return Se==="rtl"?Ir.left=parseInt(ee[0],10):Ir.right=-parseInt(ee[0],10),Object.assign(Object.assign(Object.assign({},Ir),Ie==null?void 0:Ie.style),ie)},[Se,ee,ie,Ie==null?void 0:Ie.style]),Bn=K!=null?K:typeof $t=="string"||typeof $t=="number"?$t:void 0,ln=ft||!L?null:s.createElement("span",{className:`${we}-status-text`},L),Tn=!$t||typeof $t!="object"?void 0:(0,bn.Tm)($t,Ir=>({style:Object.assign(Object.assign({},pn),Ir.style)})),Kt=(0,ym.o2)(k,!1),zt=Y()(se==null?void 0:se.indicator,(a=Ie==null?void 0:Ie.classNames)===null||a===void 0?void 0:a.indicator,{[`${we}-status-dot`]:Ct,[`${we}-status-${z}`]:!!z,[`${we}-color-${k}`]:Kt}),Dn={};k&&!Kt&&(Dn.color=k,Dn.background=k);const Sn=Y()(we,{[`${we}-status`]:Ct,[`${we}-not-a-wrapper`]:!D,[`${we}-rtl`]:Se==="rtl"},oe,re,Ie==null?void 0:Ie.className,(o=Ie==null?void 0:Ie.classNames)===null||o===void 0?void 0:o.root,se==null?void 0:se.root,Re,je);if(!D&&Ct){const Ir=pn.color;return Be(s.createElement("span",Object.assign({},pe,{className:Sn,style:Object.assign(Object.assign(Object.assign({},ue==null?void 0:ue.root),(f=Ie==null?void 0:Ie.styles)===null||f===void 0?void 0:f.root),pn)}),s.createElement("span",{className:zt,style:Object.assign(Object.assign(Object.assign({},ue==null?void 0:ue.indicator),(y=Ie==null?void 0:Ie.styles)===null||y===void 0?void 0:y.indicator),Dn)}),L&&s.createElement("span",{style:{color:Ir},className:`${we}-status-text`},L)))}return Be(s.createElement("span",Object.assign({ref:t},pe,{className:Sn,style:Object.assign(Object.assign({},(C=Ie==null?void 0:Ie.styles)===null||C===void 0?void 0:C.root),ue==null?void 0:ue.root)}),D,s.createElement(En.ZP,{visible:!ft,motionName:`${we}-zoom`,motionAppear:!1,motionDeadline:1e3},Ir=>{let{className:ur}=Ir;var Yn,qn;const Rn=ye("scroll-number",I),Jn=wt.current,zr=Y()(se==null?void 0:se.indicator,(Yn=Ie==null?void 0:Ie.classNames)===null||Yn===void 0?void 0:Yn.indicator,{[`${we}-dot`]:Jn,[`${we}-count`]:!Jn,[`${we}-count-sm`]:H==="small",[`${we}-multiple-words`]:!Jn&&Ft&&Ft.toString().length>1,[`${we}-status-${z}`]:!!z,[`${we}-color-${k}`]:Kt});let li=Object.assign(Object.assign(Object.assign({},ue==null?void 0:ue.indicator),(qn=Ie==null?void 0:Ie.styles)===null||qn===void 0?void 0:qn.indicator),pn);return k&&!Kt&&(li=li||{},li.background=k),s.createElement(Ud,{prefixCls:Rn,show:!ft,motionClassName:ur,className:zr,count:Ft,title:Bn,style:li,key:"scrollNumber"},Tn)}),ln))});lu.Ribbon=i0;var Yu=lu,$u=F(13143),yd={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"},Dv=yd,zv=function(t,a){return s.createElement(Xt.Z,(0,Ze.Z)({},t,{ref:a,icon:Dv}))},Lv=s.forwardRef(zv),Qc=Lv,yu=F(27806),uc=F(83190),wf=et.Z.ESC,s0=et.Z.TAB;function l0(e){var t=e.visible,a=e.triggerRef,o=e.onVisibleChange,f=e.autoFocus,y=e.overlayRef,C=s.useRef(!1),w=function(){if(t){var L,k;(L=a.current)===null||L===void 0||(k=L.focus)===null||k===void 0||k.call(L),o==null||o(!1)}},I=function(){var L;return(L=y.current)!==null&&L!==void 0&&L.focus?(y.current.focus(),C.current=!0,!0):!1},D=function(L){switch(L.keyCode){case wf:w();break;case s0:{var k=!1;C.current||(k=I()),k?L.preventDefault():w();break}}};s.useEffect(function(){return t?(window.addEventListener("keydown",D),f&&(0,We.Z)(I,3),function(){window.removeEventListener("keydown",D),C.current=!1}):function(){C.current=!1}},[t])}var Ef=(0,s.forwardRef)(function(e,t){var a=e.overlay,o=e.arrow,f=e.prefixCls,y=(0,s.useMemo)(function(){var w;return typeof a=="function"?w=a():w=a,w},[a]),C=(0,Gt.sQ)(t,(0,Gt.C4)(y));return s.createElement(s.Fragment,null,o&&s.createElement("div",{className:"".concat(f,"-arrow")}),s.cloneElement(y,{ref:(0,Gt.Yr)(y)?C:void 0}))}),Cm=Ef,xc={adjustX:1,adjustY:1},Cc=[0,0],If={topLeft:{points:["bl","tl"],overflow:xc,offset:[0,-4],targetOffset:Cc},top:{points:["bc","tc"],overflow:xc,offset:[0,-4],targetOffset:Cc},topRight:{points:["br","tr"],overflow:xc,offset:[0,-4],targetOffset:Cc},bottomLeft:{points:["tl","bl"],overflow:xc,offset:[0,4],targetOffset:Cc},bottom:{points:["tc","bc"],overflow:xc,offset:[0,4],targetOffset:Cc},bottomRight:{points:["tr","br"],overflow:xc,offset:[0,4],targetOffset:Cc}},Gd=If,Kd=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus","overlay","children","onVisibleChange"];function $p(e,t){var a,o=e.arrow,f=o===void 0?!1:o,y=e.prefixCls,C=y===void 0?"rc-dropdown":y,w=e.transitionName,I=e.animation,D=e.align,z=e.placement,L=z===void 0?"bottomLeft":z,k=e.placements,Z=k===void 0?Gd:k,j=e.getPopupContainer,G=e.showAction,H=e.hideAction,K=e.overlayClassName,ee=e.overlayStyle,ie=e.visible,oe=e.trigger,re=oe===void 0?["hover"]:oe,se=e.autoFocus,ue=e.overlay,me=e.children,pe=e.onVisibleChange,ye=(0,de.Z)(e,Kd),Se=s.useState(),Ie=(0,Oe.Z)(Se,2),we=Ie[0],Be=Ie[1],Re="visible"in e?ie:we,je=s.useRef(null),Ne=s.useRef(null),nt=s.useRef(null);s.useImperativeHandle(t,function(){return je.current});var at=function(wt){Be(wt),pe==null||pe(wt)};l0({visible:Re,triggerRef:nt,onVisibleChange:at,autoFocus:se,overlayRef:Ne});var Ct=function(wt){var pn=e.onOverlayClick;Be(!1),pn&&pn(wt)},St=function(){return s.createElement(Cm,{ref:Ne,overlay:ue,prefixCls:C,arrow:f})},_t=function(){return typeof ue=="function"?St:St()},ft=function(){var wt=e.minOverlayWidthMatchTrigger,pn=e.alignPoint;return"minOverlayWidthMatchTrigger"in e?wt:!pn},vt=function(){var wt=e.openClassName;return wt!==void 0?wt:"".concat(C,"-open")},$t=s.cloneElement(me,{className:Y()((a=me.props)===null||a===void 0?void 0:a.className,Re&&vt()),ref:(0,Gt.Yr)(me)?(0,Gt.sQ)(nt,(0,Gt.C4)(me)):void 0}),It=H;return!It&&re.indexOf("contextMenu")!==-1&&(It=["click"]),s.createElement(uc.Z,(0,Ze.Z)({builtinPlacements:Z},ye,{prefixCls:C,ref:je,popupClassName:Y()(K,(0,he.Z)({},"".concat(C,"-show-arrow"),f)),popupStyle:ee,action:re,showAction:G,hideAction:It,popupPlacement:L,popupAlign:D,popupTransitionName:w,popupAnimation:I,popupVisible:Re,stretch:ft()?"minWidth":"",popup:_t(),onPopupVisibleChange:at,onPopupClick:Ct,getPopupContainer:j}),$t)}var ms=s.forwardRef($p),qu=ms,Fs=F(93954),Sm=e=>typeof e!="object"&&typeof e!="function"||e===null,_u=F(5416),Dc=F(50009),Ol=F(47996),Bc=s.createContext(null);function dc(e,t){return e===void 0?null:"".concat(e,"-").concat(t)}function Ap(e){var t=s.useContext(Bc);return dc(t,e)}var rl=F(54596),Dp=["children","locked"],zc=s.createContext(null);function m(e,t){var a=(0,X.Z)({},e);return Object.keys(t).forEach(function(o){var f=t[o];f!==void 0&&(a[o]=f)}),a}function r(e){var t=e.children,a=e.locked,o=(0,de.Z)(e,Dp),f=s.useContext(zc),y=(0,rl.Z)(function(){return m(f,o)},[f,o],function(C,w){return!a&&(C[0]!==w[0]||!(0,Ol.Z)(C[1],w[1],!0))});return s.createElement(zc.Provider,{value:y},t)}var l=[],p=s.createContext(null);function _(){return s.useContext(p)}var x=s.createContext(l);function E(e){var t=s.useContext(x);return s.useMemo(function(){return e!==void 0?[].concat((0,xe.Z)(t),[e]):t},[t,e])}var R=s.createContext(null),B=s.createContext({}),V=B,U=F(59422),J=et.Z.LEFT,Q=et.Z.RIGHT,le=et.Z.UP,Ee=et.Z.DOWN,be=et.Z.ENTER,Ae=et.Z.ESC,Pe=et.Z.HOME,Qe=et.Z.END,xt=[le,Ee,J,Q];function gt(e,t,a,o){var f,y="prev",C="next",w="children",I="parent";if(e==="inline"&&o===be)return{inlineTrigger:!0};var D=(0,he.Z)((0,he.Z)({},le,y),Ee,C),z=(0,he.Z)((0,he.Z)((0,he.Z)((0,he.Z)({},J,a?C:y),Q,a?y:C),Ee,w),be,w),L=(0,he.Z)((0,he.Z)((0,he.Z)((0,he.Z)((0,he.Z)((0,he.Z)({},le,y),Ee,C),be,w),Ae,I),J,a?w:I),Q,a?I:w),k={inline:D,horizontal:z,vertical:L,inlineSub:D,horizontalSub:L,verticalSub:L},Z=(f=k["".concat(e).concat(t?"":"Sub")])===null||f===void 0?void 0:f[o];switch(Z){case y:return{offset:-1,sibling:!0};case C:return{offset:1,sibling:!0};case I:return{offset:-1,sibling:!1};case w:return{offset:1,sibling:!1};default:return null}}function Bt(e){for(var t=e;t;){if(t.getAttribute("data-menu-list"))return t;t=t.parentElement}return null}function Rt(e,t){for(var a=e||document.activeElement;a;){if(t.has(a))return a;a=a.parentElement}return null}function Dt(e,t){var a=(0,U.tS)(e,!0);return a.filter(function(o){return t.has(o)})}function Pt(e,t,a){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;if(!e)return null;var f=Dt(e,t),y=f.length,C=f.findIndex(function(w){return a===w});return o<0?C===-1?C=y-1:C-=1:o>0&&(C+=1),C=(C+y)%y,f[C]}var qt=function(t,a){var o=new Set,f=new Map,y=new Map;return t.forEach(function(C){var w=document.querySelector("[data-menu-id='".concat(dc(a,C),"']"));w&&(o.add(w),y.set(w,C),f.set(C,w))}),{elements:o,key2element:f,element2key:y}};function mn(e,t,a,o,f,y,C,w,I,D){var z=s.useRef(),L=s.useRef();L.current=t;var k=function(){We.Z.cancel(z.current)};return s.useEffect(function(){return function(){k()}},[]),function(Z){var j=Z.which;if([].concat(xt,[be,Ae,Pe,Qe]).includes(j)){var G=y(),H=qt(G,o),K=H,ee=K.elements,ie=K.key2element,oe=K.element2key,re=ie.get(t),se=Rt(re,ee),ue=oe.get(se),me=gt(e,C(ue,!0).length===1,a,j);if(!me&&j!==Pe&&j!==Qe)return;(xt.includes(j)||[Pe,Qe].includes(j))&&Z.preventDefault();var pe=function(Ne){if(Ne){var nt=Ne,at=Ne.querySelector("a");at!=null&&at.getAttribute("href")&&(nt=at);var Ct=oe.get(Ne);w(Ct),k(),z.current=(0,We.Z)(function(){L.current===Ct&&nt.focus()})}};if([Pe,Qe].includes(j)||me.sibling||!se){var ye;!se||e==="inline"?ye=f.current:ye=Bt(se);var Se,Ie=Dt(ye,ee);j===Pe?Se=Ie[0]:j===Qe?Se=Ie[Ie.length-1]:Se=Pt(ye,ee,se,me.offset),pe(Se)}else if(me.inlineTrigger)I(ue);else if(me.offset>0)I(ue,!0),k(),z.current=(0,We.Z)(function(){H=qt(G,o);var je=se.getAttribute("aria-controls"),Ne=document.getElementById(je),nt=Pt(Ne,H.elements);pe(nt)},5);else if(me.offset<0){var we=C(ue,!0),Be=we[we.length-2],Re=ie.get(Be);I(Be,!1),pe(Re)}}D==null||D(Z)}}function nr(e){Promise.resolve().then(e)}var Wn="__RC_UTIL_PATH_SPLIT__",Pr=function(t){return t.join(Wn)},Er=function(t){return t.split(Wn)},Nn="rc-menu-more";function ar(){var e=s.useState({}),t=(0,Oe.Z)(e,2),a=t[1],o=(0,s.useRef)(new Map),f=(0,s.useRef)(new Map),y=s.useState([]),C=(0,Oe.Z)(y,2),w=C[0],I=C[1],D=(0,s.useRef)(0),z=(0,s.useRef)(!1),L=function(){z.current||a({})},k=(0,s.useCallback)(function(ie,oe){var re=Pr(oe);f.current.set(re,ie),o.current.set(ie,re),D.current+=1;var se=D.current;nr(function(){se===D.current&&L()})},[]),Z=(0,s.useCallback)(function(ie,oe){var re=Pr(oe);f.current.delete(re),o.current.delete(ie)},[]),j=(0,s.useCallback)(function(ie){I(ie)},[]),G=(0,s.useCallback)(function(ie,oe){var re=o.current.get(ie)||"",se=Er(re);return oe&&w.includes(se[0])&&se.unshift(Nn),se},[w]),H=(0,s.useCallback)(function(ie,oe){return ie.filter(function(re){return re!==void 0}).some(function(re){var se=G(re,!0);return se.includes(oe)})},[G]),K=function(){var oe=(0,xe.Z)(o.current.keys());return w.length&&oe.push(Nn),oe},ee=(0,s.useCallback)(function(ie){var oe="".concat(o.current.get(ie)).concat(Wn),re=new Set;return(0,xe.Z)(f.current.keys()).forEach(function(se){se.startsWith(oe)&&re.add(f.current.get(se))}),re},[]);return s.useEffect(function(){return function(){z.current=!0}},[]),{registerPath:k,unregisterPath:Z,refreshOverflowKeys:j,isSubPathKey:H,getKeyPath:G,getKeys:K,getSubPathKeys:ee}}function Kr(e){var t=s.useRef(e);t.current=e;var a=s.useCallback(function(){for(var o,f=arguments.length,y=new Array(f),C=0;C<f;C++)y[C]=arguments[C];return(o=t.current)===null||o===void 0?void 0:o.call.apply(o,[t].concat(y))},[]);return e?a:void 0}var Ln=Math.random().toFixed(5).toString().slice(2),Ar=0;function cr(e){var t=(0,Fs.Z)(e,{value:e}),a=(0,Oe.Z)(t,2),o=a[0],f=a[1];return s.useEffect(function(){Ar+=1;var y="".concat(Ln,"-").concat(Ar);f("rc-menu-uuid-".concat(y))},[]),o}var bi=F(56216);function Vr(e,t,a,o){var f=s.useContext(zc),y=f.activeKey,C=f.onActive,w=f.onInactive,I={active:y===e};return t||(I.onMouseEnter=function(D){a==null||a({key:e,domEvent:D}),C(e)},I.onMouseLeave=function(D){o==null||o({key:e,domEvent:D}),w(e)}),I}function $r(e){var t=s.useContext(zc),a=t.mode,o=t.rtl,f=t.inlineIndent;if(a!=="inline")return null;var y=e;return o?{paddingRight:y*f}:{paddingLeft:y*f}}function fi(e){var t=e.icon,a=e.props,o=e.children,f;return t===null||t===!1?null:(typeof t=="function"?f=s.createElement(t,(0,X.Z)({},a)):typeof t!="boolean"&&(f=t),f||o||null)}var Ci=["item"];function Vi(e){var t=e.item,a=(0,de.Z)(e,Ci);return Object.defineProperty(a,"item",{get:function(){return(0,lc.ZP)(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),t}}),a}var ao=["title","attribute","elementRef"],ia=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],Fo=["active"],Zo=function(e){(0,ei.Z)(a,e);var t=(0,bi.Z)(a);function a(){return(0,zn.Z)(this,a),t.apply(this,arguments)}return(0,dn.Z)(a,[{key:"render",value:function(){var f=this.props,y=f.title,C=f.attribute,w=f.elementRef,I=(0,de.Z)(f,ao),D=(0,ci.Z)(I,["eventKey","popupClassName","popupOffset","onTitleClick"]);return(0,lc.ZP)(!C,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),s.createElement(Dc.Z.Item,(0,Ze.Z)({},C,{title:typeof y=="string"?y:void 0},D,{ref:w}))}}]),a}(s.Component),ga=s.forwardRef(function(e,t){var a=e.style,o=e.className,f=e.eventKey,y=e.warnKey,C=e.disabled,w=e.itemIcon,I=e.children,D=e.role,z=e.onMouseEnter,L=e.onMouseLeave,k=e.onClick,Z=e.onKeyDown,j=e.onFocus,G=(0,de.Z)(e,ia),H=Ap(f),K=s.useContext(zc),ee=K.prefixCls,ie=K.onItemClick,oe=K.disabled,re=K.overflowDisabled,se=K.itemIcon,ue=K.selectedKeys,me=K.onActive,pe=s.useContext(V),ye=pe._internalRenderMenuItem,Se="".concat(ee,"-item"),Ie=s.useRef(),we=s.useRef(),Be=oe||C,Re=(0,Gt.x1)(t,we),je=E(f),Ne=function(Bn){return{key:f,keyPath:(0,xe.Z)(je).reverse(),item:Ie.current,domEvent:Bn}},nt=w||se,at=Vr(f,Be,z,L),Ct=at.active,St=(0,de.Z)(at,Fo),_t=ue.includes(f),ft=$r(je.length),vt=function(Bn){if(!Be){var ln=Ne(Bn);k==null||k(Vi(ln)),ie(ln)}},$t=function(Bn){if(Z==null||Z(Bn),Bn.which===et.Z.ENTER){var ln=Ne(Bn);k==null||k(Vi(ln)),ie(ln)}},It=function(Bn){me(f),j==null||j(Bn)},Ft={};e.role==="option"&&(Ft["aria-selected"]=_t);var wt=s.createElement(Zo,(0,Ze.Z)({ref:Ie,elementRef:Re,role:D===null?"none":D||"menuitem",tabIndex:C?null:-1,"data-menu-id":re&&H?null:H},(0,ci.Z)(G,["extra"]),St,Ft,{component:"li","aria-disabled":C,style:(0,X.Z)((0,X.Z)({},ft),a),className:Y()(Se,(0,he.Z)((0,he.Z)((0,he.Z)({},"".concat(Se,"-active"),Ct),"".concat(Se,"-selected"),_t),"".concat(Se,"-disabled"),Be),o),onClick:vt,onKeyDown:$t,onFocus:It}),I,s.createElement(fi,{props:(0,X.Z)((0,X.Z)({},e),{},{isSelected:_t}),icon:nt}));return ye&&(wt=ye(wt,e,{selected:_t})),wt});function as(e,t){var a=e.eventKey,o=_(),f=E(a);return s.useEffect(function(){if(o)return o.registerPath(a,f),function(){o.unregisterPath(a,f)}},[f]),o?null:s.createElement(ga,(0,Ze.Z)({},e,{ref:t}))}var ps=s.forwardRef(as),ul=["className","children"],Ks=function(t,a){var o=t.className,f=t.children,y=(0,de.Z)(t,ul),C=s.useContext(zc),w=C.prefixCls,I=C.mode,D=C.rtl;return s.createElement("ul",(0,Ze.Z)({className:Y()(w,D&&"".concat(w,"-rtl"),"".concat(w,"-sub"),"".concat(w,"-").concat(I==="inline"?"inline":"vertical"),o),role:"menu"},y,{"data-menu-list":!0,ref:a}),f)},Ma=s.forwardRef(Ks);Ma.displayName="SubMenuList";var us=Ma;function Eo(e,t){return(0,Wl.Z)(e).map(function(a,o){if(s.isValidElement(a)){var f,y,C=a.key,w=(f=(y=a.props)===null||y===void 0?void 0:y.eventKey)!==null&&f!==void 0?f:C,I=w==null;I&&(w="tmp_key-".concat([].concat((0,xe.Z)(t),[o]).join("-")));var D={key:w,eventKey:w};return s.cloneElement(a,D)}return a})}var _a={adjustX:1,adjustY:1},ys={topLeft:{points:["bl","tl"],overflow:_a},topRight:{points:["br","tr"],overflow:_a},bottomLeft:{points:["tl","bl"],overflow:_a},bottomRight:{points:["tr","br"],overflow:_a},leftTop:{points:["tr","tl"],overflow:_a},leftBottom:{points:["br","bl"],overflow:_a},rightTop:{points:["tl","tr"],overflow:_a},rightBottom:{points:["bl","br"],overflow:_a}},xs={topLeft:{points:["bl","tl"],overflow:_a},topRight:{points:["br","tr"],overflow:_a},bottomLeft:{points:["tl","bl"],overflow:_a},bottomRight:{points:["tr","br"],overflow:_a},rightTop:{points:["tr","tl"],overflow:_a},rightBottom:{points:["br","bl"],overflow:_a},leftTop:{points:["tl","tr"],overflow:_a},leftBottom:{points:["bl","br"],overflow:_a}},dl=null;function Gl(e,t,a){if(t)return t;if(a)return a[e]||a.other}var Bl={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function Fl(e){var t=e.prefixCls,a=e.visible,o=e.children,f=e.popup,y=e.popupStyle,C=e.popupClassName,w=e.popupOffset,I=e.disabled,D=e.mode,z=e.onVisibleChange,L=s.useContext(zc),k=L.getPopupContainer,Z=L.rtl,j=L.subMenuOpenDelay,G=L.subMenuCloseDelay,H=L.builtinPlacements,K=L.triggerSubMenuAction,ee=L.forceSubMenuRender,ie=L.rootClassName,oe=L.motion,re=L.defaultMotions,se=s.useState(!1),ue=(0,Oe.Z)(se,2),me=ue[0],pe=ue[1],ye=Z?(0,X.Z)((0,X.Z)({},xs),H):(0,X.Z)((0,X.Z)({},ys),H),Se=Bl[D],Ie=Gl(D,oe,re),we=s.useRef(Ie);D!=="inline"&&(we.current=Ie);var Be=(0,X.Z)((0,X.Z)({},we.current),{},{leavedClassName:"".concat(t,"-hidden"),removeOnLeave:!1,motionAppear:!0}),Re=s.useRef();return s.useEffect(function(){return Re.current=(0,We.Z)(function(){pe(a)}),function(){We.Z.cancel(Re.current)}},[a]),s.createElement(uc.Z,{prefixCls:t,popupClassName:Y()("".concat(t,"-popup"),(0,he.Z)({},"".concat(t,"-rtl"),Z),C,ie),stretch:D==="horizontal"?"minWidth":null,getPopupContainer:k,builtinPlacements:ye,popupPlacement:Se,popupVisible:me,popup:f,popupStyle:y,popupAlign:w&&{offset:w},action:I?[]:[K],mouseEnterDelay:j,mouseLeaveDelay:G,onPopupVisibleChange:z,forceRender:ee,popupMotion:Be,fresh:!0},o)}function eu(e){var t=e.id,a=e.open,o=e.keyPath,f=e.children,y="inline",C=s.useContext(zc),w=C.prefixCls,I=C.forceSubMenuRender,D=C.motion,z=C.defaultMotions,L=C.mode,k=s.useRef(!1);k.current=L===y;var Z=s.useState(!k.current),j=(0,Oe.Z)(Z,2),G=j[0],H=j[1],K=k.current?a:!1;s.useEffect(function(){k.current&&H(!1)},[L]);var ee=(0,X.Z)({},Gl(y,D,z));o.length>1&&(ee.motionAppear=!1);var ie=ee.onVisibleChanged;return ee.onVisibleChanged=function(oe){return!k.current&&!oe&&H(!0),ie==null?void 0:ie(oe)},G?null:s.createElement(r,{mode:y,locked:!k.current},s.createElement(En.ZP,(0,Ze.Z)({visible:K},ee,{forceRender:I,removeOnLeave:!1,leavedClassName:"".concat(w,"-hidden")}),function(oe){var re=oe.className,se=oe.style;return s.createElement(us,{id:t,className:re,style:se},f)}))}var Ic=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","popupStyle","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],al=["active"],ks=s.forwardRef(function(e,t){var a=e.style,o=e.className,f=e.title,y=e.eventKey,C=e.warnKey,w=e.disabled,I=e.internalPopupClose,D=e.children,z=e.itemIcon,L=e.expandIcon,k=e.popupClassName,Z=e.popupOffset,j=e.popupStyle,G=e.onClick,H=e.onMouseEnter,K=e.onMouseLeave,ee=e.onTitleClick,ie=e.onTitleMouseEnter,oe=e.onTitleMouseLeave,re=(0,de.Z)(e,Ic),se=Ap(y),ue=s.useContext(zc),me=ue.prefixCls,pe=ue.mode,ye=ue.openKeys,Se=ue.disabled,Ie=ue.overflowDisabled,we=ue.activeKey,Be=ue.selectedKeys,Re=ue.itemIcon,je=ue.expandIcon,Ne=ue.onItemClick,nt=ue.onOpenChange,at=ue.onActive,Ct=s.useContext(V),St=Ct._internalRenderSubMenuItem,_t=s.useContext(R),ft=_t.isSubPathKey,vt=E(),$t="".concat(me,"-submenu"),It=Se||w,Ft=s.useRef(),wt=s.useRef(),pn=z!=null?z:Re,Bn=L!=null?L:je,ln=ye.includes(y),Tn=!Ie&&ln,Kt=ft(Be,y),zt=Vr(y,It,ie,oe),Dn=zt.active,Sn=(0,de.Z)(zt,al),Ir=s.useState(!1),ur=(0,Oe.Z)(Ir,2),Yn=ur[0],qn=ur[1],Rn=function(Vn){It||qn(Vn)},Jn=function(Vn){Rn(!0),H==null||H({key:y,domEvent:Vn})},zr=function(Vn){Rn(!1),K==null||K({key:y,domEvent:Vn})},li=s.useMemo(function(){return Dn||(pe!=="inline"?Yn||ft([we],y):!1)},[pe,Dn,we,Yn,y,ft]),xi=$r(vt.length),Di=function(Vn){It||(ee==null||ee({key:y,domEvent:Vn}),pe==="inline"&&nt(y,!ln))},So=Kr(function(pr){G==null||G(Vi(pr)),Ne(pr)}),_i=function(Vn){pe!=="inline"&&nt(y,Vn)},ai=function(){at(y)},gi=se&&"".concat(se,"-popup"),Gi=s.useMemo(function(){return s.createElement(fi,{icon:pe!=="horizontal"?Bn:void 0,props:(0,X.Z)((0,X.Z)({},e),{},{isOpen:Tn,isSubMenu:!0})},s.createElement("i",{className:"".concat($t,"-arrow")}))},[pe,Bn,e,Tn,$t]),Pi=s.createElement("div",(0,Ze.Z)({role:"menuitem",style:xi,className:"".concat($t,"-title"),tabIndex:It?null:-1,ref:Ft,title:typeof f=="string"?f:null,"data-menu-id":Ie&&se?null:se,"aria-expanded":Tn,"aria-haspopup":!0,"aria-controls":gi,"aria-disabled":It,onClick:Di,onFocus:ai},Sn),f,Gi),wo=s.useRef(pe);if(pe!=="inline"&&vt.length>1?wo.current="vertical":wo.current=pe,!Ie){var dr=wo.current;Pi=s.createElement(Fl,{mode:dr,prefixCls:$t,visible:!I&&Tn&&pe!=="inline",popupClassName:k,popupOffset:Z,popupStyle:j,popup:s.createElement(r,{mode:dr==="horizontal"?"vertical":dr},s.createElement(us,{id:gi,ref:wt},D)),disabled:It,onVisibleChange:_i},Pi)}var tr=s.createElement(Dc.Z.Item,(0,Ze.Z)({ref:t,role:"none"},re,{component:"li",style:a,className:Y()($t,"".concat($t,"-").concat(pe),o,(0,he.Z)((0,he.Z)((0,he.Z)((0,he.Z)({},"".concat($t,"-open"),Tn),"".concat($t,"-active"),li),"".concat($t,"-selected"),Kt),"".concat($t,"-disabled"),It)),onMouseEnter:Jn,onMouseLeave:zr}),Pi,!Ie&&s.createElement(eu,{id:gi,open:Tn,keyPath:vt},D));return St&&(tr=St(tr,e,{selected:Kt,active:li,open:Tn,disabled:It})),s.createElement(r,{onItemClick:So,mode:pe==="horizontal"?"vertical":pe,itemIcon:pn,expandIcon:Bn},tr)}),Rs=s.forwardRef(function(e,t){var a=e.eventKey,o=e.children,f=E(a),y=Eo(o,f),C=_();s.useEffect(function(){if(C)return C.registerPath(a,f),function(){C.unregisterPath(a,f)}},[f]);var w;return C?w=y:w=s.createElement(ks,(0,Ze.Z)({ref:t},e),y),s.createElement(x.Provider,{value:f},w)}),rs=Rs;function fl(e){var t=e.className,a=e.style,o=s.useContext(zc),f=o.prefixCls,y=_();return y?null:s.createElement("li",{role:"separator",className:Y()("".concat(f,"-item-divider"),t),style:a})}var nc=["className","title","eventKey","children"],Ns=s.forwardRef(function(e,t){var a=e.className,o=e.title,f=e.eventKey,y=e.children,C=(0,de.Z)(e,nc),w=s.useContext(zc),I=w.prefixCls,D="".concat(I,"-item-group");return s.createElement("li",(0,Ze.Z)({ref:t,role:"presentation"},C,{onClick:function(L){return L.stopPropagation()},className:Y()(D,a)}),s.createElement("div",{role:"presentation",className:"".concat(D,"-title"),title:typeof o=="string"?o:void 0},o),s.createElement("ul",{role:"group",className:"".concat(D,"-list")},y))}),Mc=s.forwardRef(function(e,t){var a=e.eventKey,o=e.children,f=E(a),y=Eo(o,f),C=_();return C?y:s.createElement(Ns,(0,Ze.Z)({ref:t},(0,ci.Z)(e,["warnKey"])),y)}),Uc=Mc,Wc=["label","children","key","type","extra"];function Tc(e,t,a){var o=t.item,f=t.group,y=t.submenu,C=t.divider;return(e||[]).map(function(w,I){if(w&&(0,Ye.Z)(w)==="object"){var D=w,z=D.label,L=D.children,k=D.key,Z=D.type,j=D.extra,G=(0,de.Z)(D,Wc),H=k!=null?k:"tmp-".concat(I);return L||Z==="group"?Z==="group"?s.createElement(f,(0,Ze.Z)({key:H},G,{title:z}),Tc(L,t,a)):s.createElement(y,(0,Ze.Z)({key:H},G,{title:z}),Tc(L,t,a)):Z==="divider"?s.createElement(C,(0,Ze.Z)({key:H},G)):s.createElement(o,(0,Ze.Z)({key:H},G,{extra:j}),z,(!!j||j===0)&&s.createElement("span",{className:"".concat(a,"-item-extra")},j))}return null}).filter(function(w){return w})}function bu(e,t,a,o,f){var y=e,C=(0,X.Z)({divider:fl,item:ps,group:Uc,submenu:rs},o);return t&&(y=Tc(t,C,f)),Eo(y,a)}var cu=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem","_internalComponents"],mc=[],Xd=s.forwardRef(function(e,t){var a,o=e,f=o.prefixCls,y=f===void 0?"rc-menu":f,C=o.rootClassName,w=o.style,I=o.className,D=o.tabIndex,z=D===void 0?0:D,L=o.items,k=o.children,Z=o.direction,j=o.id,G=o.mode,H=G===void 0?"vertical":G,K=o.inlineCollapsed,ee=o.disabled,ie=o.disabledOverflow,oe=o.subMenuOpenDelay,re=oe===void 0?.1:oe,se=o.subMenuCloseDelay,ue=se===void 0?.1:se,me=o.forceSubMenuRender,pe=o.defaultOpenKeys,ye=o.openKeys,Se=o.activeKey,Ie=o.defaultActiveFirst,we=o.selectable,Be=we===void 0?!0:we,Re=o.multiple,je=Re===void 0?!1:Re,Ne=o.defaultSelectedKeys,nt=o.selectedKeys,at=o.onSelect,Ct=o.onDeselect,St=o.inlineIndent,_t=St===void 0?24:St,ft=o.motion,vt=o.defaultMotions,$t=o.triggerSubMenuAction,It=$t===void 0?"hover":$t,Ft=o.builtinPlacements,wt=o.itemIcon,pn=o.expandIcon,Bn=o.overflowedIndicator,ln=Bn===void 0?"...":Bn,Tn=o.overflowedIndicatorPopupClassName,Kt=o.getPopupContainer,zt=o.onClick,Dn=o.onOpenChange,Sn=o.onKeyDown,Ir=o.openAnimation,ur=o.openTransitionName,Yn=o._internalRenderMenuItem,qn=o._internalRenderSubMenuItem,Rn=o._internalComponents,Jn=(0,de.Z)(o,cu),zr=s.useMemo(function(){return[bu(k,L,mc,Rn,y),bu(k,L,mc,{},y)]},[k,L,Rn]),li=(0,Oe.Z)(zr,2),xi=li[0],Di=li[1],So=s.useState(!1),_i=(0,Oe.Z)(So,2),ai=_i[0],gi=_i[1],Gi=s.useRef(),Pi=cr(j),wo=Z==="rtl",dr=(0,Fs.Z)(pe,{value:ye,postState:function(Qs){return Qs||mc}}),tr=(0,Oe.Z)(dr,2),pr=tr[0],Vn=tr[1],ri=function(Qs){var wa=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;function Va(){Vn(Qs),Dn==null||Dn(Qs)}wa?(0,ke.flushSync)(Va):Va()},Oi=s.useState(pr),ro=(0,Oe.Z)(Oi,2),Xo=ro[0],$a=ro[1],ta=s.useRef(!1),Cs=s.useMemo(function(){return(H==="inline"||H==="vertical")&&K?["vertical",K]:[H,!1]},[H,K]),Za=(0,Oe.Z)(Cs,2),Ga=Za[0],pa=Za[1],ts=Ga==="inline",As=s.useState(Ga),bo=(0,Oe.Z)(As,2),Ko=bo[0],Ra=bo[1],Ka=s.useState(pa),ss=(0,Oe.Z)(Ka,2),ll=ss[0],Rl=ss[1];s.useEffect(function(){Ra(Ga),Rl(pa),ta.current&&(ts?Vn(Xo):ri(mc))},[Ga,pa]);var yl=s.useState(0),Xl=(0,Oe.Z)(yl,2),ma=Xl[0],Vo=Xl[1],Ho=ma>=xi.length-1||Ko!=="horizontal"||ie;s.useEffect(function(){ts&&$a(pr)},[pr]),s.useEffect(function(){return ta.current=!0,function(){ta.current=!1}},[]);var Do=ar(),ls=Do.registerPath,Ds=Do.unregisterPath,ka=Do.refreshOverflowKeys,ba=Do.isSubPathKey,gs=Do.getKeyPath,vs=Do.getKeys,Ys=Do.getSubPathKeys,va=s.useMemo(function(){return{registerPath:ls,unregisterPath:Ds}},[ls,Ds]),Lo=s.useMemo(function(){return{isSubPathKey:ba}},[ba]);s.useEffect(function(){ka(Ho?mc:xi.slice(ma+1).map(function(Ml){return Ml.key}))},[ma,Ho]);var Aa=(0,Fs.Z)(Se||Ie&&((a=xi[0])===null||a===void 0?void 0:a.key),{value:Se}),ds=(0,Oe.Z)(Aa,2),Bs=ds[0],qs=ds[1],rc=Kr(function(Ml){qs(Ml)}),Js=Kr(function(){qs(void 0)});(0,s.useImperativeHandle)(t,function(){return{list:Gi.current,focus:function(Qs){var wa,Va=vs(),pl=qt(Va,Pi),kc=pl.elements,rf=pl.key2element,Fg=pl.element2key,kg=Dt(Gi.current,kc),Ev=Bs!=null?Bs:kg[0]?Fg.get(kg[0]):(wa=xi.find(function(La){return!La.props.disabled}))===null||wa===void 0?void 0:wa.key,ws=rf.get(Ev);if(Ev&&ws){var ca;ws==null||(ca=ws.focus)===null||ca===void 0||ca.call(ws,Qs)}}}});var Da=(0,Fs.Z)(Ne||[],{value:nt,postState:function(Qs){return Array.isArray(Qs)?Qs:Qs==null?mc:[Qs]}}),cs=(0,Oe.Z)(Da,2),Ss=cs[0],$l=cs[1],Fu=function(Qs){if(Be){var wa=Qs.key,Va=Ss.includes(wa),pl;je?Va?pl=Ss.filter(function(rf){return rf!==wa}):pl=[].concat((0,xe.Z)(Ss),[wa]):pl=[wa],$l(pl);var kc=(0,X.Z)((0,X.Z)({},Qs),{},{selectedKeys:pl});Va?Ct==null||Ct(kc):at==null||at(kc)}!je&&pr.length&&Ko!=="inline"&&ri(mc)},Kh=Kr(function(Ml){zt==null||zt(Vi(Ml)),Fu(Ml)}),ip=Kr(function(Ml,Qs){var wa=pr.filter(function(pl){return pl!==Ml});if(Qs)wa.push(Ml);else if(Ko!=="inline"){var Va=Ys(Ml);wa=wa.filter(function(pl){return!Va.has(pl)})}(0,Ol.Z)(pr,wa,!0)||ri(wa,!0)}),op=function(Qs,wa){var Va=wa!=null?wa:!pr.includes(Qs);ip(Qs,Va)},Kf=mn(Ko,Bs,wo,Pi,Gi,vs,gs,qs,op,Sn);s.useEffect(function(){gi(!0)},[]);var Xh=s.useMemo(function(){return{_internalRenderMenuItem:Yn,_internalRenderSubMenuItem:qn}},[Yn,qn]),Yh=Ko!=="horizontal"||ie?xi:xi.map(function(Ml,Qs){return s.createElement(r,{key:Ml.key,overflowDisabled:Qs>ma},Ml)}),ap=s.createElement(Dc.Z,(0,Ze.Z)({id:j,ref:Gi,prefixCls:"".concat(y,"-overflow"),component:"ul",itemComponent:ps,className:Y()(y,"".concat(y,"-root"),"".concat(y,"-").concat(Ko),I,(0,he.Z)((0,he.Z)({},"".concat(y,"-inline-collapsed"),ll),"".concat(y,"-rtl"),wo),C),dir:Z,style:w,role:"menu",tabIndex:z,data:Yh,renderRawItem:function(Qs){return Qs},renderRawRest:function(Qs){var wa=Qs.length,Va=wa?xi.slice(-wa):null;return s.createElement(rs,{eventKey:Nn,title:ln,disabled:Ho,internalPopupClose:wa===0,popupClassName:Tn},Va)},maxCount:Ko!=="horizontal"||ie?Dc.Z.INVALIDATE:Dc.Z.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(Qs){Vo(Qs)},onKeyDown:Kf},Jn));return s.createElement(V.Provider,{value:Xh},s.createElement(Bc.Provider,{value:Pi},s.createElement(r,{prefixCls:y,rootClassName:C,mode:Ko,openKeys:pr,rtl:wo,disabled:ee,motion:ai?ft:null,defaultMotions:ai?vt:null,activeKey:Bs,onActive:rc,onInactive:Js,selectedKeys:Ss,inlineIndent:_t,subMenuOpenDelay:re,subMenuCloseDelay:ue,forceSubMenuRender:me,builtinPlacements:Ft,triggerSubMenuAction:It,getPopupContainer:Kt,itemIcon:wt,expandIcon:pn,onItemClick:Kh,onOpenChange:ip},s.createElement(R.Provider,{value:Lo},ap),s.createElement("div",{style:{display:"none"},"aria-hidden":!0},s.createElement(p.Provider,{value:va},Di)))))}),Au=Xd,xu=Au;xu.Item=ps,xu.SubMenu=rs,xu.ItemGroup=Uc,xu.Divider=fl;var _d=xu,wm={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"bars",theme:"outlined"},zp=wm,U_=function(t,a){return s.createElement(Xt.Z,(0,Ze.Z)({},t,{ref:a,icon:zp}))},sC=s.forwardRef(U_),lC=sC;const Nv=s.createContext({siderHook:{addSider:()=>null,removeSider:()=>null}}),W_=e=>{const{antCls:t,componentCls:a,colorText:o,footerBg:f,headerHeight:y,headerPadding:C,headerColor:w,footerPadding:I,fontSize:D,bodyBg:z,headerBg:L}=e;return{[a]:{display:"flex",flex:"auto",flexDirection:"column",minHeight:0,background:z,"&, *":{boxSizing:"border-box"},[`&${a}-has-sider`]:{flexDirection:"row",[`> ${a}, > ${a}-content`]:{width:0}},[`${a}-header, &${a}-footer`]:{flex:"0 0 auto"},"&-rtl":{direction:"rtl"}},[`${a}-header`]:{height:y,padding:C,color:w,lineHeight:(0,fe.bf)(y),background:L,[`${t}-menu`]:{lineHeight:"inherit"}},[`${a}-footer`]:{padding:I,color:o,fontSize:D,background:f},[`${a}-content`]:{flex:"auto",color:o,minHeight:0}}},Bv=e=>{const{colorBgLayout:t,controlHeight:a,controlHeightLG:o,colorText:f,controlHeightSM:y,marginXXS:C,colorTextLightSolid:w,colorBgContainer:I}=e,D=o*1.25;return{colorBgHeader:"#001529",colorBgBody:t,colorBgTrigger:"#002140",bodyBg:t,headerBg:"#001529",headerHeight:a*2,headerPadding:`0 ${D}px`,headerColor:f,footerPadding:`${y}px ${D}px`,footerBg:t,siderBg:"#001529",triggerHeight:o+C*2,triggerBg:"#002140",triggerColor:w,zeroTriggerWidth:o,zeroTriggerHeight:o,lightSiderBg:I,lightTriggerBg:I,lightTriggerColor:f}},Fv=[["colorBgBody","bodyBg"],["colorBgHeader","headerBg"],["colorBgTrigger","triggerBg"]];var kv=(0,te.I$)("Layout",e=>[W_(e)],Bv,{deprecatedTokens:Fv});const G_=e=>{const{componentCls:t,siderBg:a,motionDurationMid:o,motionDurationSlow:f,antCls:y,triggerHeight:C,triggerColor:w,triggerBg:I,headerHeight:D,zeroTriggerWidth:z,zeroTriggerHeight:L,borderRadiusLG:k,lightSiderBg:Z,lightTriggerColor:j,lightTriggerBg:G,bodyBg:H}=e;return{[t]:{position:"relative",minWidth:0,background:a,transition:`all ${o}, background 0s`,"&-has-trigger":{paddingBottom:C},"&-right":{order:1},[`${t}-children`]:{height:"100%",marginTop:-.1,paddingTop:.1,[`${y}-menu${y}-menu-inline-collapsed`]:{width:"auto"}},[`&-zero-width ${t}-children`]:{overflow:"hidden"},[`${t}-trigger`]:{position:"fixed",bottom:0,zIndex:1,height:C,color:w,lineHeight:(0,fe.bf)(C),textAlign:"center",background:I,cursor:"pointer",transition:`all ${o}`},[`${t}-zero-width-trigger`]:{position:"absolute",top:D,insetInlineEnd:e.calc(z).mul(-1).equal(),zIndex:1,width:z,height:L,color:w,fontSize:e.fontSizeXL,display:"flex",alignItems:"center",justifyContent:"center",background:a,borderRadius:`0 ${(0,fe.bf)(k)} ${(0,fe.bf)(k)} 0`,cursor:"pointer",transition:`background ${f} ease`,"&::after":{position:"absolute",inset:0,background:"transparent",transition:`all ${f}`,content:'""'},"&:hover::after":{background:"rgba(255, 255, 255, 0.2)"},"&-right":{insetInlineStart:e.calc(z).mul(-1).equal(),borderRadius:`${(0,fe.bf)(k)} 0 0 ${(0,fe.bf)(k)}`}},"&-light":{background:Z,[`${t}-trigger`]:{color:j,background:G},[`${t}-zero-width-trigger`]:{color:j,background:G,border:`1px solid ${H}`,borderInlineStart:0}}}}};var K_=(0,te.I$)(["Layout","Sider"],e=>[G_(e)],Bv,{deprecatedTokens:Fv}),jv=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const Yd={xs:"479.98px",sm:"575.98px",md:"767.98px",lg:"991.98px",xl:"1199.98px",xxl:"1599.98px"},Sc=e=>!Number.isNaN(Number.parseFloat(e))&&isFinite(e),Lp=s.createContext({}),Np=(()=>{let e=0;return function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return e+=1,`${t}${e}`}})();var X_=s.forwardRef((e,t)=>{const{prefixCls:a,className:o,trigger:f,children:y,defaultCollapsed:C=!1,theme:w="dark",style:I={},collapsible:D=!1,reverseArrow:z=!1,width:L=200,collapsedWidth:k=80,zeroWidthTriggerStyle:Z,breakpoint:j,onCollapse:G,onBreakpoint:H}=e,K=jv(e,["prefixCls","className","trigger","children","defaultCollapsed","theme","style","collapsible","reverseArrow","width","collapsedWidth","zeroWidthTriggerStyle","breakpoint","onCollapse","onBreakpoint"]),{siderHook:ee}=(0,s.useContext)(Nv),[ie,oe]=(0,s.useState)("collapsed"in e?e.collapsed:C),[re,se]=(0,s.useState)(!1);(0,s.useEffect)(()=>{"collapsed"in e&&oe(e.collapsed)},[e.collapsed]);const ue=(wt,pn)=>{"collapsed"in e||oe(wt),G==null||G(wt,pn)},{getPrefixCls:me,direction:pe}=(0,s.useContext)(ve.E_),ye=me("layout-sider",a),[Se,Ie,we]=K_(ye),Be=(0,s.useRef)(null);Be.current=wt=>{se(wt.matches),H==null||H(wt.matches),ie!==wt.matches&&ue(wt.matches,"responsive")},(0,s.useEffect)(()=>{function wt(Bn){return Be.current(Bn)}let pn;if(typeof window!="undefined"){const{matchMedia:Bn}=window;if(Bn&&j&&j in Yd){pn=Bn(`screen and (max-width: ${Yd[j]})`);try{pn.addEventListener("change",wt)}catch(ln){pn.addListener(wt)}wt(pn)}}return()=>{try{pn==null||pn.removeEventListener("change",wt)}catch(Bn){pn==null||pn.removeListener(wt)}}},[j]),(0,s.useEffect)(()=>{const wt=Np("ant-sider-");return ee.addSider(wt),()=>ee.removeSider(wt)},[]);const Re=()=>{ue(!ie,"clickTrigger")},je=(0,ci.Z)(K,["collapsed"]),Ne=ie?k:L,nt=Sc(Ne)?`${Ne}px`:String(Ne),at=parseFloat(String(k||0))===0?s.createElement("span",{onClick:Re,className:Y()(`${ye}-zero-width-trigger`,`${ye}-zero-width-trigger-${z?"right":"left"}`),style:Z},f||s.createElement(lC,null)):null,Ct=pe==="rtl"==!z,ft={expanded:Ct?s.createElement(yu.Z,null):s.createElement(Qc,null),collapsed:Ct?s.createElement(Qc,null):s.createElement(yu.Z,null)}[ie?"collapsed":"expanded"],vt=f!==null?at||s.createElement("div",{className:`${ye}-trigger`,onClick:Re,style:{width:nt}},f||ft):null,$t=Object.assign(Object.assign({},I),{flex:`0 0 ${nt}`,maxWidth:nt,minWidth:nt,width:nt}),It=Y()(ye,`${ye}-${w}`,{[`${ye}-collapsed`]:!!ie,[`${ye}-has-trigger`]:D&&f!==null&&!at,[`${ye}-below`]:!!re,[`${ye}-zero-width`]:parseFloat(nt)===0},o,Ie,we),Ft=s.useMemo(()=>({siderCollapsed:ie}),[ie]);return Se(s.createElement(Lp.Provider,{value:Ft},s.createElement("aside",Object.assign({className:It},je,{style:$t,ref:t}),s.createElement("div",{className:`${ye}-children`},y),D||re&&at?vt:null)))}),Bp={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"},Y_=Bp,wh=function(t,a){return s.createElement(Xt.Z,(0,Ze.Z)({},t,{ref:a,icon:Y_}))},Fp=s.forwardRef(wh),Zv=Fp,c0=(0,s.createContext)({prefixCls:"",firstLevel:!0,inlineCollapsed:!1}),cC=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},q_=e=>{const{prefixCls:t,className:a,dashed:o}=e,f=cC(e,["prefixCls","className","dashed"]),{getPrefixCls:y}=s.useContext(ve.E_),C=y("menu",t),w=Y()({[`${C}-item-divider-dashed`]:!!o},a);return s.createElement(fl,Object.assign({className:w},f))},Du=F(9202),Q_=e=>{var t;const{className:a,children:o,icon:f,title:y,danger:C,extra:w}=e,{prefixCls:I,firstLevel:D,direction:z,disableMenuItemTitleTooltip:L,inlineCollapsed:k}=s.useContext(c0),Z=ie=>{const oe=o==null?void 0:o[0],re=s.createElement("span",{className:Y()(`${I}-title-content`,{[`${I}-title-content-with-extra`]:!!w||w===0})},o);return(!f||s.isValidElement(o)&&o.type==="span")&&o&&ie&&D&&typeof oe=="string"?s.createElement("div",{className:`${I}-inline-collapsed-noicon`},oe.charAt(0)):re},{siderCollapsed:j}=s.useContext(Lp);let G=y;typeof y=="undefined"?G=D?o:"":y===!1&&(G="");const H={title:G};!j&&!k&&(H.title=null,H.open=!1);const K=(0,Wl.Z)(o).length;let ee=s.createElement(ps,Object.assign({},(0,ci.Z)(e,["title","icon","danger"]),{className:Y()({[`${I}-item-danger`]:C,[`${I}-item-only-child`]:(f?K+1:K)===1},a),title:typeof y=="string"?y:void 0}),(0,bn.Tm)(f,{className:Y()(s.isValidElement(f)?(t=f.props)===null||t===void 0?void 0:t.className:"",`${I}-item-icon`)}),Z(k));return L||(ee=s.createElement(Du.Z,Object.assign({},H,{placement:z==="rtl"?"left":"right",classNames:{root:`${I}-inline-collapsed-tooltip`}}),ee)),ee},Em=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const Vv=s.createContext(null),Kl=s.forwardRef((e,t)=>{const{children:a}=e,o=Em(e,["children"]),f=s.useContext(Vv),y=s.useMemo(()=>Object.assign(Object.assign({},f),o),[f,o.prefixCls,o.mode,o.selectable,o.rootClassName]),C=(0,Gt.t4)(a),w=(0,Gt.x1)(t,C?(0,Gt.C4)(a):null);return s.createElement(Vv.Provider,{value:y},s.createElement(Jl.Z,{space:!0},C?s.cloneElement(a,{ref:w}):a))});var kp=Vv,Sl=F(84432),Im=F(40894),Pc=F(17877),eb=e=>{const{componentCls:t,motionDurationSlow:a,horizontalLineHeight:o,colorSplit:f,lineWidth:y,lineType:C,itemPaddingInline:w}=e;return{[`${t}-horizontal`]:{lineHeight:o,border:0,borderBottom:`${(0,fe.bf)(y)} ${C} ${f}`,boxShadow:"none","&::after":{display:"block",clear:"both",height:0,content:'"\\20"'},[`${t}-item, ${t}-submenu`]:{position:"relative",display:"inline-block",verticalAlign:"bottom",paddingInline:w},[`> ${t}-item:hover,
        > ${t}-item-active,
        > ${t}-submenu ${t}-submenu-title:hover`]:{backgroundColor:"transparent"},[`${t}-item, ${t}-submenu-title`]:{transition:[`border-color ${a}`,`background ${a}`].join(",")},[`${t}-submenu-arrow`]:{display:"none"}}}},jp=e=>{let{componentCls:t,menuArrowOffset:a,calc:o}=e;return{[`${t}-rtl`]:{direction:"rtl"},[`${t}-submenu-rtl`]:{transformOrigin:"100% 0"},[`${t}-rtl${t}-vertical,
    ${t}-submenu-rtl ${t}-vertical`]:{[`${t}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateY(${(0,fe.bf)(o(a).mul(-1).equal())})`},"&::after":{transform:`rotate(45deg) translateY(${(0,fe.bf)(a)})`}}}}};const d0=e=>Object.assign({},(0,Wt.oN)(e));var tb=(e,t)=>{const{componentCls:a,itemColor:o,itemSelectedColor:f,subMenuItemSelectedColor:y,groupTitleColor:C,itemBg:w,subMenuItemBg:I,itemSelectedBg:D,activeBarHeight:z,activeBarWidth:L,activeBarBorderWidth:k,motionDurationSlow:Z,motionEaseInOut:j,motionEaseOut:G,itemPaddingInline:H,motionDurationMid:K,itemHoverColor:ee,lineType:ie,colorSplit:oe,itemDisabledColor:re,dangerItemColor:se,dangerItemHoverColor:ue,dangerItemSelectedColor:me,dangerItemActiveBg:pe,dangerItemSelectedBg:ye,popupBg:Se,itemHoverBg:Ie,itemActiveBg:we,menuSubMenuBg:Be,horizontalItemSelectedColor:Re,horizontalItemSelectedBg:je,horizontalItemBorderRadius:Ne,horizontalItemHoverBg:nt}=e;return{[`${a}-${t}, ${a}-${t} > ${a}`]:{color:o,background:w,[`&${a}-root:focus-visible`]:Object.assign({},d0(e)),[`${a}-item`]:{"&-group-title, &-extra":{color:C}},[`${a}-submenu-selected > ${a}-submenu-title`]:{color:y},[`${a}-item, ${a}-submenu-title`]:{color:o,[`&:not(${a}-item-disabled):focus-visible`]:Object.assign({},d0(e))},[`${a}-item-disabled, ${a}-submenu-disabled`]:{color:`${re} !important`},[`${a}-item:not(${a}-item-selected):not(${a}-submenu-selected)`]:{[`&:hover, > ${a}-submenu-title:hover`]:{color:ee}},[`&:not(${a}-horizontal)`]:{[`${a}-item:not(${a}-item-selected)`]:{"&:hover":{backgroundColor:Ie},"&:active":{backgroundColor:we}},[`${a}-submenu-title`]:{"&:hover":{backgroundColor:Ie},"&:active":{backgroundColor:we}}},[`${a}-item-danger`]:{color:se,[`&${a}-item:hover`]:{[`&:not(${a}-item-selected):not(${a}-submenu-selected)`]:{color:ue}},[`&${a}-item:active`]:{background:pe}},[`${a}-item a`]:{"&, &:hover":{color:"inherit"}},[`${a}-item-selected`]:{color:f,[`&${a}-item-danger`]:{color:me},"a, a:hover":{color:"inherit"}},[`& ${a}-item-selected`]:{backgroundColor:D,[`&${a}-item-danger`]:{backgroundColor:ye}},[`&${a}-submenu > ${a}`]:{backgroundColor:Be},[`&${a}-popup > ${a}`]:{backgroundColor:Se},[`&${a}-submenu-popup > ${a}`]:{backgroundColor:Se},[`&${a}-horizontal`]:Object.assign(Object.assign({},t==="dark"?{borderBottom:0}:{}),{[`> ${a}-item, > ${a}-submenu`]:{top:k,marginTop:e.calc(k).mul(-1).equal(),marginBottom:0,borderRadius:Ne,"&::after":{position:"absolute",insetInline:H,bottom:0,borderBottom:`${(0,fe.bf)(z)} solid transparent`,transition:`border-color ${Z} ${j}`,content:'""'},"&:hover, &-active, &-open":{background:nt,"&::after":{borderBottomWidth:z,borderBottomColor:Re}},"&-selected":{color:Re,backgroundColor:je,"&:hover":{backgroundColor:je},"&::after":{borderBottomWidth:z,borderBottomColor:Re}}}}),[`&${a}-root`]:{[`&${a}-inline, &${a}-vertical`]:{borderInlineEnd:`${(0,fe.bf)(k)} ${ie} ${oe}`}},[`&${a}-inline`]:{[`${a}-sub${a}-inline`]:{background:I},[`${a}-item`]:{position:"relative","&::after":{position:"absolute",insetBlock:0,insetInlineEnd:0,borderInlineEnd:`${(0,fe.bf)(L)} solid ${f}`,transform:"scaleY(0.0001)",opacity:0,transition:[`transform ${K} ${G}`,`opacity ${K} ${G}`].join(","),content:'""'},[`&${a}-item-danger`]:{"&::after":{borderInlineEndColor:me}}},[`${a}-selected, ${a}-item-selected`]:{"&::after":{transform:"scaleY(1)",opacity:1,transition:[`transform ${K} ${j}`,`opacity ${K} ${j}`].join(",")}}}}}};const Uv=e=>{const{componentCls:t,itemHeight:a,itemMarginInline:o,padding:f,menuArrowSize:y,marginXS:C,itemMarginBlock:w,itemWidth:I,itemPaddingInline:D}=e,z=e.calc(y).add(f).add(C).equal();return{[`${t}-item`]:{position:"relative",overflow:"hidden"},[`${t}-item, ${t}-submenu-title`]:{height:a,lineHeight:(0,fe.bf)(a),paddingInline:D,overflow:"hidden",textOverflow:"ellipsis",marginInline:o,marginBlock:w,width:I},[`> ${t}-item,
            > ${t}-submenu > ${t}-submenu-title`]:{height:a,lineHeight:(0,fe.bf)(a)},[`${t}-item-group-list ${t}-submenu-title,
            ${t}-submenu-title`]:{paddingInlineEnd:z}}};var Wv=e=>{const{componentCls:t,iconCls:a,itemHeight:o,colorTextLightSolid:f,dropdownWidth:y,controlHeightLG:C,motionEaseOut:w,paddingXL:I,itemMarginInline:D,fontSizeLG:z,motionDurationFast:L,motionDurationSlow:k,paddingXS:Z,boxShadowSecondary:j,collapsedWidth:G,collapsedIconSize:H}=e,K={height:o,lineHeight:(0,fe.bf)(o),listStylePosition:"inside",listStyleType:"disc"};return[{[t]:{"&-inline, &-vertical":Object.assign({[`&${t}-root`]:{boxShadow:"none"}},Uv(e))},[`${t}-submenu-popup`]:{[`${t}-vertical`]:Object.assign(Object.assign({},Uv(e)),{boxShadow:j})}},{[`${t}-submenu-popup ${t}-vertical${t}-sub`]:{minWidth:y,maxHeight:`calc(100vh - ${(0,fe.bf)(e.calc(C).mul(2.5).equal())})`,padding:"0",overflow:"hidden",borderInlineEnd:0,"&:not([class*='-active'])":{overflowX:"hidden",overflowY:"auto"}}},{[`${t}-inline`]:{width:"100%",[`&${t}-root`]:{[`${t}-item, ${t}-submenu-title`]:{display:"flex",alignItems:"center",transition:[`border-color ${k}`,`background ${k}`,`padding ${L} ${w}`].join(","),[`> ${t}-title-content`]:{flex:"auto",minWidth:0,overflow:"hidden",textOverflow:"ellipsis"},"> *":{flex:"none"}}},[`${t}-sub${t}-inline`]:{padding:0,border:0,borderRadius:0,boxShadow:"none",[`& > ${t}-submenu > ${t}-submenu-title`]:K,[`& ${t}-item-group-title`]:{paddingInlineStart:I}},[`${t}-item`]:K}},{[`${t}-inline-collapsed`]:{width:G,[`&${t}-root`]:{[`${t}-item, ${t}-submenu ${t}-submenu-title`]:{[`> ${t}-inline-collapsed-noicon`]:{fontSize:z,textAlign:"center"}}},[`> ${t}-item,
          > ${t}-item-group > ${t}-item-group-list > ${t}-item,
          > ${t}-item-group > ${t}-item-group-list > ${t}-submenu > ${t}-submenu-title,
          > ${t}-submenu > ${t}-submenu-title`]:{insetInlineStart:0,paddingInline:`calc(50% - ${(0,fe.bf)(e.calc(H).div(2).equal())} - ${(0,fe.bf)(D)})`,textOverflow:"clip",[`
            ${t}-submenu-arrow,
            ${t}-submenu-expand-icon
          `]:{opacity:0},[`${t}-item-icon, ${a}`]:{margin:0,fontSize:H,lineHeight:(0,fe.bf)(o),"+ span":{display:"inline-block",opacity:0}}},[`${t}-item-icon, ${a}`]:{display:"inline-block"},"&-tooltip":{pointerEvents:"none",[`${t}-item-icon, ${a}`]:{display:"none"},"a, a:hover":{color:f}},[`${t}-item-group-title`]:Object.assign(Object.assign({},Wt.vS),{paddingInline:Z})}}]};const f0=e=>{const{componentCls:t,motionDurationSlow:a,motionDurationMid:o,motionEaseInOut:f,motionEaseOut:y,iconCls:C,iconSize:w,iconMarginInlineEnd:I}=e;return{[`${t}-item, ${t}-submenu-title`]:{position:"relative",display:"block",margin:0,whiteSpace:"nowrap",cursor:"pointer",transition:[`border-color ${a}`,`background ${a}`,`padding calc(${a} + 0.1s) ${f}`].join(","),[`${t}-item-icon, ${C}`]:{minWidth:w,fontSize:w,transition:[`font-size ${o} ${y}`,`margin ${a} ${f}`,`color ${a}`].join(","),"+ span":{marginInlineStart:I,opacity:1,transition:[`opacity ${a} ${f}`,`margin ${a}`,`color ${a}`].join(",")}},[`${t}-item-icon`]:Object.assign({},(0,Wt.Ro)()),[`&${t}-item-only-child`]:{[`> ${C}, > ${t}-item-icon`]:{marginInlineEnd:0}}},[`${t}-item-disabled, ${t}-submenu-disabled`]:{background:"none !important",cursor:"not-allowed","&::after":{borderColor:"transparent !important"},a:{color:"inherit !important",cursor:"not-allowed",pointerEvents:"none"},[`> ${t}-submenu-title`]:{color:"inherit !important",cursor:"not-allowed"}}}},Gv=e=>{const{componentCls:t,motionDurationSlow:a,motionEaseInOut:o,borderRadius:f,menuArrowSize:y,menuArrowOffset:C}=e;return{[`${t}-submenu`]:{"&-expand-icon, &-arrow":{position:"absolute",top:"50%",insetInlineEnd:e.margin,width:y,color:"currentcolor",transform:"translateY(-50%)",transition:`transform ${a} ${o}, opacity ${a}`},"&-arrow":{"&::before, &::after":{position:"absolute",width:e.calc(y).mul(.6).equal(),height:e.calc(y).mul(.15).equal(),backgroundColor:"currentcolor",borderRadius:f,transition:[`background ${a} ${o}`,`transform ${a} ${o}`,`top ${a} ${o}`,`color ${a} ${o}`].join(","),content:'""'},"&::before":{transform:`rotate(45deg) translateY(${(0,fe.bf)(e.calc(C).mul(-1).equal())})`},"&::after":{transform:`rotate(-45deg) translateY(${(0,fe.bf)(C)})`}}}}},rb=e=>{const{antCls:t,componentCls:a,fontSize:o,motionDurationSlow:f,motionDurationMid:y,motionEaseInOut:C,paddingXS:w,padding:I,colorSplit:D,lineWidth:z,zIndexPopup:L,borderRadiusLG:k,subMenuItemBorderRadius:Z,menuArrowSize:j,menuArrowOffset:G,lineType:H,groupTitleLineHeight:K,groupTitleFontSize:ee}=e;return[{"":{[a]:Object.assign(Object.assign({},(0,Wt.dF)()),{"&-hidden":{display:"none"}})},[`${a}-submenu-hidden`]:{display:"none"}},{[a]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,Wt.Wf)(e)),(0,Wt.dF)()),{marginBottom:0,paddingInlineStart:0,fontSize:o,lineHeight:0,listStyle:"none",outline:"none",transition:`width ${f} cubic-bezier(0.2, 0, 0, 1) 0s`,"ul, ol":{margin:0,padding:0,listStyle:"none"},"&-overflow":{display:"flex",[`${a}-item`]:{flex:"none"}},[`${a}-item, ${a}-submenu, ${a}-submenu-title`]:{borderRadius:e.itemBorderRadius},[`${a}-item-group-title`]:{padding:`${(0,fe.bf)(w)} ${(0,fe.bf)(I)}`,fontSize:ee,lineHeight:K,transition:`all ${f}`},[`&-horizontal ${a}-submenu`]:{transition:[`border-color ${f} ${C}`,`background ${f} ${C}`].join(",")},[`${a}-submenu, ${a}-submenu-inline`]:{transition:[`border-color ${f} ${C}`,`background ${f} ${C}`,`padding ${y} ${C}`].join(",")},[`${a}-submenu ${a}-sub`]:{cursor:"initial",transition:[`background ${f} ${C}`,`padding ${f} ${C}`].join(",")},[`${a}-title-content`]:{transition:`color ${f}`,"&-with-extra":{display:"inline-flex",alignItems:"center",width:"100%"},[`> ${t}-typography-ellipsis-single-line`]:{display:"inline",verticalAlign:"unset"},[`${a}-item-extra`]:{marginInlineStart:"auto",paddingInlineStart:e.padding}},[`${a}-item a`]:{"&::before":{position:"absolute",inset:0,backgroundColor:"transparent",content:'""'}},[`${a}-item-divider`]:{overflow:"hidden",lineHeight:0,borderColor:D,borderStyle:H,borderWidth:0,borderTopWidth:z,marginBlock:z,padding:0,"&-dashed":{borderStyle:"dashed"}}}),f0(e)),{[`${a}-item-group`]:{[`${a}-item-group-list`]:{margin:0,padding:0,[`${a}-item, ${a}-submenu-title`]:{paddingInline:`${(0,fe.bf)(e.calc(o).mul(2).equal())} ${(0,fe.bf)(I)}`}}},"&-submenu":{"&-popup":{position:"absolute",zIndex:L,borderRadius:k,boxShadow:"none",transformOrigin:"0 0",[`&${a}-submenu`]:{background:"transparent"},"&::before":{position:"absolute",inset:0,zIndex:-1,width:"100%",height:"100%",opacity:0,content:'""'},[`> ${a}`]:Object.assign(Object.assign(Object.assign({borderRadius:k},f0(e)),Gv(e)),{[`${a}-item, ${a}-submenu > ${a}-submenu-title`]:{borderRadius:Z},[`${a}-submenu-title::after`]:{transition:`transform ${f} ${C}`}})},"\n          &-placement-leftTop,\n          &-placement-bottomRight,\n          ":{transformOrigin:"100% 0"},"\n          &-placement-leftBottom,\n          &-placement-topRight,\n          ":{transformOrigin:"100% 100%"},"\n          &-placement-rightBottom,\n          &-placement-topLeft,\n          ":{transformOrigin:"0 100%"},"\n          &-placement-bottomLeft,\n          &-placement-rightTop,\n          ":{transformOrigin:"0 0"},"\n          &-placement-leftTop,\n          &-placement-leftBottom\n          ":{paddingInlineEnd:e.paddingXS},"\n          &-placement-rightTop,\n          &-placement-rightBottom\n          ":{paddingInlineStart:e.paddingXS},"\n          &-placement-topRight,\n          &-placement-topLeft\n          ":{paddingBottom:e.paddingXS},"\n          &-placement-bottomRight,\n          &-placement-bottomLeft\n          ":{paddingTop:e.paddingXS}}}),Gv(e)),{[`&-inline-collapsed ${a}-submenu-arrow,
        &-inline ${a}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateX(${(0,fe.bf)(G)})`},"&::after":{transform:`rotate(45deg) translateX(${(0,fe.bf)(e.calc(G).mul(-1).equal())})`}},[`${a}-submenu-open${a}-submenu-inline > ${a}-submenu-title > ${a}-submenu-arrow`]:{transform:`translateY(${(0,fe.bf)(e.calc(j).mul(.2).mul(-1).equal())})`,"&::after":{transform:`rotate(-45deg) translateX(${(0,fe.bf)(e.calc(G).mul(-1).equal())})`},"&::before":{transform:`rotate(45deg) translateX(${(0,fe.bf)(G)})`}}})},{[`${t}-layout-header`]:{[a]:{lineHeight:"inherit"}}}]},ib=e=>{var t,a,o;const{colorPrimary:f,colorError:y,colorTextDisabled:C,colorErrorBg:w,colorText:I,colorTextDescription:D,colorBgContainer:z,colorFillAlter:L,colorFillContent:k,lineWidth:Z,lineWidthBold:j,controlItemBgActive:G,colorBgTextHover:H,controlHeightLG:K,lineHeight:ee,colorBgElevated:ie,marginXXS:oe,padding:re,fontSize:se,controlHeightSM:ue,fontSizeLG:me,colorTextLightSolid:pe,colorErrorHover:ye}=e,Se=(t=e.activeBarWidth)!==null&&t!==void 0?t:0,Ie=(a=e.activeBarBorderWidth)!==null&&a!==void 0?a:Z,we=(o=e.itemMarginInline)!==null&&o!==void 0?o:e.marginXXS,Be=new Sl.t(pe).setA(.65).toRgbString();return{dropdownWidth:160,zIndexPopup:e.zIndexPopupBase+50,radiusItem:e.borderRadiusLG,itemBorderRadius:e.borderRadiusLG,radiusSubMenuItem:e.borderRadiusSM,subMenuItemBorderRadius:e.borderRadiusSM,colorItemText:I,itemColor:I,colorItemTextHover:I,itemHoverColor:I,colorItemTextHoverHorizontal:f,horizontalItemHoverColor:f,colorGroupTitle:D,groupTitleColor:D,colorItemTextSelected:f,itemSelectedColor:f,subMenuItemSelectedColor:f,colorItemTextSelectedHorizontal:f,horizontalItemSelectedColor:f,colorItemBg:z,itemBg:z,colorItemBgHover:H,itemHoverBg:H,colorItemBgActive:k,itemActiveBg:G,colorSubItemBg:L,subMenuItemBg:L,colorItemBgSelected:G,itemSelectedBg:G,colorItemBgSelectedHorizontal:"transparent",horizontalItemSelectedBg:"transparent",colorActiveBarWidth:0,activeBarWidth:Se,colorActiveBarHeight:j,activeBarHeight:j,colorActiveBarBorderSize:Z,activeBarBorderWidth:Ie,colorItemTextDisabled:C,itemDisabledColor:C,colorDangerItemText:y,dangerItemColor:y,colorDangerItemTextHover:y,dangerItemHoverColor:y,colorDangerItemTextSelected:y,dangerItemSelectedColor:y,colorDangerItemBgActive:w,dangerItemActiveBg:w,colorDangerItemBgSelected:w,dangerItemSelectedBg:w,itemMarginInline:we,horizontalItemBorderRadius:0,horizontalItemHoverBg:"transparent",itemHeight:K,groupTitleLineHeight:ee,collapsedWidth:K*2,popupBg:ie,itemMarginBlock:oe,itemPaddingInline:re,horizontalLineHeight:`${K*1.15}px`,iconSize:se,iconMarginInlineEnd:ue-se,collapsedIconSize:me,groupTitleFontSize:se,darkItemDisabledColor:new Sl.t(pe).setA(.25).toRgbString(),darkItemColor:Be,darkDangerItemColor:y,darkItemBg:"#001529",darkPopupBg:"#001529",darkSubMenuItemBg:"#000c17",darkItemSelectedColor:pe,darkItemSelectedBg:f,darkDangerItemSelectedBg:y,darkItemHoverBg:"transparent",darkGroupTitleColor:Be,darkItemHoverColor:pe,darkDangerItemHoverColor:ye,darkDangerItemSelectedColor:pe,darkDangerItemActiveBg:y,itemWidth:Se?`calc(100% + ${Ie}px)`:`calc(100% - ${we*2}px)`}};var ob=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return(0,te.I$)("Menu",f=>{const{colorBgElevated:y,controlHeightLG:C,fontSize:w,darkItemColor:I,darkDangerItemColor:D,darkItemBg:z,darkSubMenuItemBg:L,darkItemSelectedColor:k,darkItemSelectedBg:Z,darkDangerItemSelectedBg:j,darkItemHoverBg:G,darkGroupTitleColor:H,darkItemHoverColor:K,darkItemDisabledColor:ee,darkDangerItemHoverColor:ie,darkDangerItemSelectedColor:oe,darkDangerItemActiveBg:re,popupBg:se,darkPopupBg:ue}=f,me=f.calc(w).div(7).mul(5).equal(),pe=(0,Ur.IX)(f,{menuArrowSize:me,menuHorizontalHeight:f.calc(C).mul(1.15).equal(),menuArrowOffset:f.calc(me).mul(.25).equal(),menuSubMenuBg:y,calc:f.calc,popupBg:se}),ye=(0,Ur.IX)(pe,{itemColor:I,itemHoverColor:K,groupTitleColor:H,itemSelectedColor:k,subMenuItemSelectedColor:k,itemBg:z,popupBg:ue,subMenuItemBg:L,itemActiveBg:"transparent",itemSelectedBg:Z,activeBarHeight:0,activeBarBorderWidth:0,itemHoverBg:G,itemDisabledColor:ee,dangerItemColor:D,dangerItemHoverColor:ie,dangerItemSelectedColor:oe,dangerItemActiveBg:re,dangerItemSelectedBg:j,menuSubMenuBg:L,horizontalItemSelectedColor:k,horizontalItemSelectedBg:Z});return[rb(pe),eb(pe),Wv(pe),tb(pe,"light"),tb(ye,"dark"),jp(pe),(0,Im.Z)(pe),(0,Pc.oN)(pe,"slide-up"),(0,Pc.oN)(pe,"slide-down"),(0,ou._y)(pe,"zoom-big")]},ib,{deprecatedTokens:[["colorGroupTitle","groupTitleColor"],["radiusItem","itemBorderRadius"],["radiusSubMenuItem","subMenuItemBorderRadius"],["colorItemText","itemColor"],["colorItemTextHover","itemHoverColor"],["colorItemTextHoverHorizontal","horizontalItemHoverColor"],["colorItemTextSelected","itemSelectedColor"],["colorItemTextSelectedHorizontal","horizontalItemSelectedColor"],["colorItemTextDisabled","itemDisabledColor"],["colorDangerItemText","dangerItemColor"],["colorDangerItemTextHover","dangerItemHoverColor"],["colorDangerItemTextSelected","dangerItemSelectedColor"],["colorDangerItemBgActive","dangerItemActiveBg"],["colorDangerItemBgSelected","dangerItemSelectedBg"],["colorItemBg","itemBg"],["colorItemBgHover","itemHoverBg"],["colorSubItemBg","subMenuItemBg"],["colorItemBgActive","itemActiveBg"],["colorItemBgSelectedHorizontal","horizontalItemSelectedBg"],["colorActiveBarWidth","activeBarWidth"],["colorActiveBarHeight","activeBarHeight"],["colorActiveBarBorderSize","activeBarBorderWidth"],["colorItemBgSelected","itemSelectedBg"]],injectStyle:a,unitless:{groupTitleLineHeight:!0}})(e,t)},Ju=e=>{var t;const{popupClassName:a,icon:o,title:f,theme:y}=e,C=s.useContext(c0),{prefixCls:w,inlineCollapsed:I,theme:D}=C,z=E();let L;if(!o)L=I&&!z.length&&f&&typeof f=="string"?s.createElement("div",{className:`${w}-inline-collapsed-noicon`},f.charAt(0)):s.createElement("span",{className:`${w}-title-content`},f);else{const j=s.isValidElement(f)&&f.type==="span";L=s.createElement(s.Fragment,null,(0,bn.Tm)(o,{className:Y()(s.isValidElement(o)?(t=o.props)===null||t===void 0?void 0:t.className:"",`${w}-item-icon`)}),j?f:s.createElement("span",{className:`${w}-title-content`},f))}const k=s.useMemo(()=>Object.assign(Object.assign({},C),{firstLevel:!1}),[C]),[Z]=(0,Ut.Cn)("Menu");return s.createElement(c0.Provider,{value:k},s.createElement(rs,Object.assign({},(0,ci.Z)(e,["icon"]),{title:L,popupClassName:Y()(w,a,`${w}-${y||D}`),popupStyle:Object.assign({zIndex:Z},e.popupStyle)})))},sb=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};function Kv(e){return e===null||e===!1}const dC={item:Q_,submenu:Ju,divider:q_};var fC=(0,s.forwardRef)((e,t)=>{var a;const o=s.useContext(kp),f=o||{},{getPrefixCls:y,getPopupContainer:C,direction:w,menu:I}=s.useContext(ve.E_),D=y(),{prefixCls:z,className:L,style:k,theme:Z="light",expandIcon:j,_internalDisableMenuItemTitleTooltip:G,inlineCollapsed:H,siderCollapsed:K,rootClassName:ee,mode:ie,selectable:oe,onClick:re,overflowedIndicatorPopupClassName:se}=e,ue=sb(e,["prefixCls","className","style","theme","expandIcon","_internalDisableMenuItemTitleTooltip","inlineCollapsed","siderCollapsed","rootClassName","mode","selectable","onClick","overflowedIndicatorPopupClassName"]),me=(0,ci.Z)(ue,["collapsedWidth"]);(a=f.validator)===null||a===void 0||a.call(f,{mode:ie});const pe=(0,fr.Z)(function(){var _t;re==null||re.apply(void 0,arguments),(_t=f.onClick)===null||_t===void 0||_t.call(f)}),ye=f.mode||ie,Se=oe!=null?oe:f.selectable,Ie=H!=null?H:K,we={horizontal:{motionName:`${D}-slide-up`},inline:(0,Rr.Z)(D),other:{motionName:`${D}-zoom-big`}},Be=y("menu",z||f.prefixCls),Re=(0,Fn.Z)(Be),[je,Ne,nt]=ob(Be,Re,!o),at=Y()(`${Be}-${Z}`,I==null?void 0:I.className,L),Ct=s.useMemo(()=>{var _t,ft;if(typeof j=="function"||Kv(j))return j||null;if(typeof f.expandIcon=="function"||Kv(f.expandIcon))return f.expandIcon||null;if(typeof(I==null?void 0:I.expandIcon)=="function"||Kv(I==null?void 0:I.expandIcon))return(I==null?void 0:I.expandIcon)||null;const vt=(_t=j!=null?j:f==null?void 0:f.expandIcon)!==null&&_t!==void 0?_t:I==null?void 0:I.expandIcon;return(0,bn.Tm)(vt,{className:Y()(`${Be}-submenu-expand-icon`,s.isValidElement(vt)?(ft=vt.props)===null||ft===void 0?void 0:ft.className:void 0)})},[j,f==null?void 0:f.expandIcon,I==null?void 0:I.expandIcon,Be]),St=s.useMemo(()=>({prefixCls:Be,inlineCollapsed:Ie||!1,direction:w,firstLevel:!0,theme:Z,mode:ye,disableMenuItemTitleTooltip:G}),[Be,Ie,w,G,Z]);return je(s.createElement(kp.Provider,{value:null},s.createElement(c0.Provider,{value:St},s.createElement(_d,Object.assign({getPopupContainer:C,overflowedIndicator:s.createElement(Zv,null),overflowedIndicatorPopupClassName:Y()(Be,`${Be}-${Z}`,se),mode:ye,selectable:Se,onClick:pe},me,{inlineCollapsed:Ie,style:Object.assign(Object.assign({},I==null?void 0:I.style),k),className:at,prefixCls:Be,direction:w,defaultMotions:we,expandIcon:Ct,ref:t,rootClassName:Y()(ee,Ne,f.rootClassName,nt,Re),_internalComponents:dC})))))});const Zp=(0,s.forwardRef)((e,t)=>{const a=(0,s.useRef)(null),o=s.useContext(Lp);return(0,s.useImperativeHandle)(t,()=>({menu:a.current,focus:f=>{var y;(y=a.current)===null||y===void 0||y.focus(f)}})),s.createElement(fC,Object.assign({ref:a},e,o))});Zp.Item=Q_,Zp.SubMenu=Ju,Zp.Divider=q_,Zp.ItemGroup=Uc;var Xv=Zp,h0=F(48221),Eh=F(18533),Vp=F(2276),cb=e=>{const{componentCls:t,menuCls:a,colorError:o,colorTextLightSolid:f}=e,y=`${a}-item`;return{[`${t}, ${t}-menu-submenu`]:{[`${a} ${y}`]:{[`&${y}-danger:not(${y}-disabled)`]:{color:o,"&:hover":{color:f,backgroundColor:o}}}}}};const Yv=e=>{const{componentCls:t,menuCls:a,zIndexPopup:o,dropdownArrowDistance:f,sizePopupArrow:y,antCls:C,iconCls:w,motionDurationMid:I,paddingBlock:D,fontSize:z,dropdownEdgeChildPadding:L,colorTextDisabled:k,fontSizeIcon:Z,controlPaddingHorizontal:j,colorBgElevated:G}=e;return[{[t]:{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:o,display:"block","&::before":{position:"absolute",insetBlock:e.calc(y).div(2).sub(f).equal(),zIndex:-9999,opacity:1e-4,content:'""'},"&-menu-vertical":{maxHeight:"100vh",overflowY:"auto"},[`&-trigger${C}-btn`]:{[`& > ${w}-down, & > ${C}-btn-icon > ${w}-down`]:{fontSize:Z}},[`${t}-wrap`]:{position:"relative",[`${C}-btn > ${w}-down`]:{fontSize:Z},[`${w}-down::before`]:{transition:`transform ${I}`}},[`${t}-wrap-open`]:{[`${w}-down::before`]:{transform:"rotate(180deg)"}},"\n        &-hidden,\n        &-menu-hidden,\n        &-menu-submenu-hidden\n      ":{display:"none"},[`&${C}-slide-down-enter${C}-slide-down-enter-active${t}-placement-bottomLeft,
          &${C}-slide-down-appear${C}-slide-down-appear-active${t}-placement-bottomLeft,
          &${C}-slide-down-enter${C}-slide-down-enter-active${t}-placement-bottom,
          &${C}-slide-down-appear${C}-slide-down-appear-active${t}-placement-bottom,
          &${C}-slide-down-enter${C}-slide-down-enter-active${t}-placement-bottomRight,
          &${C}-slide-down-appear${C}-slide-down-appear-active${t}-placement-bottomRight`]:{animationName:Pc.fJ},[`&${C}-slide-up-enter${C}-slide-up-enter-active${t}-placement-topLeft,
          &${C}-slide-up-appear${C}-slide-up-appear-active${t}-placement-topLeft,
          &${C}-slide-up-enter${C}-slide-up-enter-active${t}-placement-top,
          &${C}-slide-up-appear${C}-slide-up-appear-active${t}-placement-top,
          &${C}-slide-up-enter${C}-slide-up-enter-active${t}-placement-topRight,
          &${C}-slide-up-appear${C}-slide-up-appear-active${t}-placement-topRight`]:{animationName:Pc.Qt},[`&${C}-slide-down-leave${C}-slide-down-leave-active${t}-placement-bottomLeft,
          &${C}-slide-down-leave${C}-slide-down-leave-active${t}-placement-bottom,
          &${C}-slide-down-leave${C}-slide-down-leave-active${t}-placement-bottomRight`]:{animationName:Pc.Uw},[`&${C}-slide-up-leave${C}-slide-up-leave-active${t}-placement-topLeft,
          &${C}-slide-up-leave${C}-slide-up-leave-active${t}-placement-top,
          &${C}-slide-up-leave${C}-slide-up-leave-active${t}-placement-topRight`]:{animationName:Pc.ly}}},(0,Eh.ZP)(e,G,{arrowPlacement:{top:!0,bottom:!0}}),{[`${t} ${a}`]:{position:"relative",margin:0},[`${a}-submenu-popup`]:{position:"absolute",zIndex:o,background:"transparent",boxShadow:"none",transformOrigin:"0 0","ul, li":{listStyle:"none",margin:0}},[`${t}, ${t}-menu-submenu`]:Object.assign(Object.assign({},(0,Wt.Wf)(e)),{[a]:Object.assign(Object.assign({padding:L,listStyleType:"none",backgroundColor:G,backgroundClip:"padding-box",borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary},(0,Wt.Qy)(e)),{"&:empty":{padding:0,boxShadow:"none"},[`${a}-item-group-title`]:{padding:`${(0,fe.bf)(D)} ${(0,fe.bf)(j)}`,color:e.colorTextDescription,transition:`all ${I}`},[`${a}-item`]:{position:"relative",display:"flex",alignItems:"center"},[`${a}-item-icon`]:{minWidth:z,marginInlineEnd:e.marginXS,fontSize:e.fontSizeSM},[`${a}-title-content`]:{flex:"auto","&-with-extra":{display:"inline-flex",alignItems:"center",width:"100%"},"> a":{color:"inherit",transition:`all ${I}`,"&:hover":{color:"inherit"},"&::after":{position:"absolute",inset:0,content:'""'}},[`${a}-item-extra`]:{paddingInlineStart:e.padding,marginInlineStart:"auto",fontSize:e.fontSizeSM,color:e.colorTextDescription}},[`${a}-item, ${a}-submenu-title`]:Object.assign(Object.assign({display:"flex",margin:0,padding:`${(0,fe.bf)(D)} ${(0,fe.bf)(j)}`,color:e.colorText,fontWeight:"normal",fontSize:z,lineHeight:e.lineHeight,cursor:"pointer",transition:`all ${I}`,borderRadius:e.borderRadiusSM,"&:hover, &-active":{backgroundColor:e.controlItemBgHover}},(0,Wt.Qy)(e)),{"&-selected":{color:e.colorPrimary,backgroundColor:e.controlItemBgActive,"&:hover, &-active":{backgroundColor:e.controlItemBgActiveHover}},"&-disabled":{color:k,cursor:"not-allowed","&:hover":{color:k,backgroundColor:G,cursor:"not-allowed"},a:{pointerEvents:"none"}},"&-divider":{height:1,margin:`${(0,fe.bf)(e.marginXXS)} 0`,overflow:"hidden",lineHeight:0,backgroundColor:e.colorSplit},[`${t}-menu-submenu-expand-icon`]:{position:"absolute",insetInlineEnd:e.paddingXS,[`${t}-menu-submenu-arrow-icon`]:{marginInlineEnd:"0 !important",color:e.colorTextDescription,fontSize:Z,fontStyle:"normal"}}}),[`${a}-item-group-list`]:{margin:`0 ${(0,fe.bf)(e.marginXS)}`,padding:0,listStyle:"none"},[`${a}-submenu-title`]:{paddingInlineEnd:e.calc(j).add(e.fontSizeSM).equal()},[`${a}-submenu-vertical`]:{position:"relative"},[`${a}-submenu${a}-submenu-disabled ${t}-menu-submenu-title`]:{[`&, ${t}-menu-submenu-arrow-icon`]:{color:k,backgroundColor:G,cursor:"not-allowed"}},[`${a}-submenu-selected ${t}-menu-submenu-title`]:{color:e.colorPrimary}})})},[(0,Pc.oN)(e,"slide-up"),(0,Pc.oN)(e,"slide-down"),(0,h0.Fm)(e,"move-up"),(0,h0.Fm)(e,"move-down"),(0,ou._y)(e,"zoom-big")]]},ub=e=>Object.assign(Object.assign({zIndexPopup:e.zIndexPopupBase+50,paddingBlock:(e.controlHeight-e.fontSize*e.lineHeight)/2},(0,Eh.wZ)({contentRadius:e.borderRadiusLG,limitVerticalRadius:!0})),(0,Vp.w)(e));var db=(0,te.I$)("Dropdown",e=>{const{marginXXS:t,sizePopupArrow:a,paddingXXS:o,componentCls:f}=e,y=(0,Ur.IX)(e,{menuCls:`${f}-menu`,dropdownArrowDistance:e.calc(a).div(2).add(t).equal(),dropdownEdgeChildPadding:o});return[Yv(y),cb(y)]},ub,{resetStyle:!1});const qv=null,m0=e=>{var t;const{menu:a,arrow:o,prefixCls:f,children:y,trigger:C,disabled:w,dropdownRender:I,getPopupContainer:D,overlayClassName:z,rootClassName:L,overlayStyle:k,open:Z,onOpenChange:j,visible:G,onVisibleChange:H,mouseEnterDelay:K=.15,mouseLeaveDelay:ee=.1,autoAdjustOverflow:ie=!0,placement:oe="",overlay:re,transitionName:se}=e,{getPopupContainer:ue,getPrefixCls:me,direction:pe,dropdown:ye}=s.useContext(ve.E_),Se=(0,io.ln)("Dropdown"),Ie=s.useMemo(()=>{const zt=me();return se!==void 0?se:oe.includes("top")?`${zt}-slide-down`:`${zt}-slide-up`},[me,oe,se]),we=s.useMemo(()=>oe?oe.includes("Center")?oe.slice(0,oe.indexOf("Center")):oe:pe==="rtl"?"bottomRight":"bottomLeft",[oe,pe]),Be=me("dropdown",f),Re=(0,Fn.Z)(Be),[je,Ne,nt]=db(Be,Re),[,at]=(0,ea.ZP)(),Ct=s.Children.only(Sm(y)?s.createElement("span",null,y):y),St=(0,bn.Tm)(Ct,{className:Y()(`${Be}-trigger`,{[`${Be}-rtl`]:pe==="rtl"},Ct.props.className),disabled:(t=Ct.props.disabled)!==null&&t!==void 0?t:w}),_t=w?[]:C,ft=!!(_t!=null&&_t.includes("contextMenu")),[vt,$t]=(0,Fs.Z)(!1,{value:Z!=null?Z:G}),It=(0,fr.Z)(zt=>{j==null||j(zt,{source:"trigger"}),H==null||H(zt),$t(zt)}),Ft=Y()(z,L,Ne,nt,Re,ye==null?void 0:ye.className,{[`${Be}-rtl`]:pe==="rtl"}),wt=(0,_u.Z)({arrowPointAtCenter:typeof o=="object"&&o.pointAtCenter,autoAdjustOverflow:ie,offset:at.marginXXS,arrowWidth:o?at.sizePopupArrow:0,borderRadius:at.borderRadius}),pn=s.useCallback(()=>{a!=null&&a.selectable&&(a!=null&&a.multiple)||(j==null||j(!1,{source:"menu"}),$t(!1))},[a==null?void 0:a.selectable,a==null?void 0:a.multiple]),Bn=()=>{let zt;return a!=null&&a.items?zt=s.createElement(Xv,Object.assign({},a)):typeof re=="function"?zt=re():zt=re,I&&(zt=I(zt)),zt=s.Children.only(typeof zt=="string"?s.createElement("span",null,zt):zt),s.createElement(Kl,{prefixCls:`${Be}-menu`,rootClassName:Y()(nt,Re),expandIcon:s.createElement("span",{className:`${Be}-menu-submenu-arrow`},pe==="rtl"?s.createElement(Qc,{className:`${Be}-menu-submenu-arrow-icon`}):s.createElement(yu.Z,{className:`${Be}-menu-submenu-arrow-icon`})),mode:"vertical",selectable:!1,onClick:pn,validator:Dn=>{let{mode:Sn}=Dn}},zt)},[ln,Tn]=(0,Ut.Cn)("Dropdown",k==null?void 0:k.zIndex);let Kt=s.createElement(qu,Object.assign({alignPoint:ft},(0,ci.Z)(e,["rootClassName"]),{mouseEnterDelay:K,mouseLeaveDelay:ee,visible:vt,builtinPlacements:wt,arrow:!!o,overlayClassName:Ft,prefixCls:Be,getPopupContainer:D||ue,transitionName:Ie,trigger:_t,overlay:Bn,placement:we,onVisibleChange:It,overlayStyle:Object.assign(Object.assign(Object.assign({},ye==null?void 0:ye.style),k),{zIndex:ln})}),St);return ln&&(Kt=s.createElement(Ya.Z.Provider,{value:Tn},Kt)),je(Kt)},fb=(0,vl.Z)(m0,"align",void 0,"dropdown",e=>e),hb=e=>s.createElement(fb,Object.assign({},e),s.createElement("span",null));m0._InternalPanelDoNotUseOrYouWillBeFired=hb;var Mf=m0;const Tf=e=>{let{children:t}=e;const{getPrefixCls:a}=s.useContext(ve.E_),o=a("breadcrumb");return s.createElement("li",{className:`${o}-separator`,"aria-hidden":"true"},t===""?t:t||"/")};Tf.__ANT_BREADCRUMB_SEPARATOR=!0;var p0=Tf,g0=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};function mb(e,t){if(e.title===void 0||e.title===null)return null;const a=Object.keys(t).join("|");return typeof e.title=="object"?e.title:String(e.title).replace(new RegExp(`:(${a})`,"g"),(o,f)=>t[f]||o)}function Jv(e,t,a,o){if(a==null)return null;const{className:f,onClick:y}=t,C=g0(t,["className","onClick"]),w=Object.assign(Object.assign({},(0,lt.Z)(C,{data:!0,aria:!0})),{onClick:y});return o!==void 0?s.createElement("a",Object.assign({},w,{className:Y()(`${e}-link`,f),href:o}),a):s.createElement("span",Object.assign({},w,{className:Y()(`${e}-link`,f)}),a)}function v0(e,t){return(o,f,y,C,w)=>{if(t)return t(o,f,y,C);const I=mb(o,f);return Jv(e,o,I,w)}}var y0=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const Hp=e=>{const{prefixCls:t,separator:a="/",children:o,menu:f,overlay:y,dropdownProps:C,href:w}=e,D=(z=>{if(f||y){const L=Object.assign({},C);if(f){const k=f||{},{items:Z}=k,j=y0(k,["items"]);L.menu=Object.assign(Object.assign({},j),{items:Z==null?void 0:Z.map((G,H)=>{var{key:K,title:ee,label:ie,path:oe}=G,re=y0(G,["key","title","label","path"]);let se=ie!=null?ie:ee;return oe&&(se=s.createElement("a",{href:`${w}${oe}`},se)),Object.assign(Object.assign({},re),{key:K!=null?K:H,label:se})})})}else y&&(L.overlay=y);return s.createElement(Mf,Object.assign({placement:"bottom"},L),s.createElement("span",{className:`${t}-overlay-link`},z,s.createElement($u.Z,null)))}return z})(o);return D!=null?s.createElement(s.Fragment,null,s.createElement("li",null,D),a&&s.createElement(p0,null,a)):null},Qv=e=>{const{prefixCls:t,children:a,href:o}=e,f=y0(e,["prefixCls","children","href"]),{getPrefixCls:y}=s.useContext(ve.E_),C=y("breadcrumb",t);return s.createElement(Hp,Object.assign({},f,{prefixCls:C}),Jv(C,f,a,o))};Qv.__ANT_BREADCRUMB_ITEM=!0;var ey=Qv;const ty=e=>{const{componentCls:t,iconCls:a,calc:o}=e;return{[t]:Object.assign(Object.assign({},(0,Wt.Wf)(e)),{color:e.itemColor,fontSize:e.fontSize,[a]:{fontSize:e.iconFontSize},ol:{display:"flex",flexWrap:"wrap",margin:0,padding:0,listStyle:"none"},a:Object.assign({color:e.linkColor,transition:`color ${e.motionDurationMid}`,padding:`0 ${(0,fe.bf)(e.paddingXXS)}`,borderRadius:e.borderRadiusSM,height:e.fontHeight,display:"inline-block",marginInline:o(e.marginXXS).mul(-1).equal(),"&:hover":{color:e.linkHoverColor,backgroundColor:e.colorBgTextHover}},(0,Wt.Qy)(e)),"li:last-child":{color:e.lastItemColor},[`${t}-separator`]:{marginInline:e.separatorMargin,color:e.separatorColor},[`${t}-link`]:{[`
          > ${a} + span,
          > ${a} + a
        `]:{marginInlineStart:e.marginXXS}},[`${t}-overlay-link`]:{borderRadius:e.borderRadiusSM,height:e.fontHeight,display:"inline-block",padding:`0 ${(0,fe.bf)(e.paddingXXS)}`,marginInline:o(e.marginXXS).mul(-1).equal(),[`> ${a}`]:{marginInlineStart:e.marginXXS,fontSize:e.fontSizeIcon},"&:hover":{color:e.linkHoverColor,backgroundColor:e.colorBgTextHover,a:{color:e.linkHoverColor}},a:{"&:hover":{backgroundColor:"transparent"}}},[`&${e.componentCls}-rtl`]:{direction:"rtl"}})}},pb=e=>({itemColor:e.colorTextDescription,lastItemColor:e.colorText,iconFontSize:e.fontSize,linkColor:e.colorTextDescription,linkHoverColor:e.colorText,separatorColor:e.colorTextDescription,separatorMargin:e.marginXS});var hC=(0,te.I$)("Breadcrumb",e=>{const t=(0,Ur.IX)(e,{});return ty(t)},pb),ny=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};function gb(e){const{breadcrumbName:t,children:a}=e,o=ny(e,["breadcrumbName","children"]),f=Object.assign({title:t},o);return a&&(f.menu={items:a.map(y=>{var{breadcrumbName:C}=y,w=ny(y,["breadcrumbName"]);return Object.assign(Object.assign({},w),{title:C})})}),f}function vb(e,t){return(0,s.useMemo)(()=>e||(t?t.map(gb):null),[e,t])}var yb=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const ry=(e,t)=>{if(t===void 0)return t;let a=(t||"").replace(/^\//,"");return Object.keys(e).forEach(o=>{a=a.replace(`:${o}`,e[o])}),a},_0=e=>{const{prefixCls:t,separator:a="/",style:o,className:f,rootClassName:y,routes:C,items:w,children:I,itemRender:D,params:z={}}=e,L=yb(e,["prefixCls","separator","style","className","rootClassName","routes","items","children","itemRender","params"]),{getPrefixCls:k,direction:Z,breadcrumb:j}=s.useContext(ve.E_);let G;const H=k("breadcrumb",t),[K,ee,ie]=hC(H),oe=vb(w,C),re=v0(H,D);if(oe&&oe.length>0){const me=[],pe=w||C;G=oe.map((ye,Se)=>{const{path:Ie,key:we,type:Be,menu:Re,overlay:je,onClick:Ne,className:nt,separator:at,dropdownProps:Ct}=ye,St=ry(z,Ie);St!==void 0&&me.push(St);const _t=we!=null?we:Se;if(Be==="separator")return s.createElement(p0,{key:_t},at);const ft={},vt=Se===oe.length-1;Re?ft.menu=Re:je&&(ft.overlay=je);let{href:$t}=ye;return me.length&&St!==void 0&&($t=`#/${me.join("/")}`),s.createElement(Hp,Object.assign({key:_t},ft,(0,lt.Z)(ye,{data:!0,aria:!0}),{className:nt,dropdownProps:Ct,href:$t,separator:vt?"":a,onClick:Ne,prefixCls:H}),re(ye,z,pe,me,$t))})}else if(I){const me=(0,Wl.Z)(I).length;G=(0,Wl.Z)(I).map((pe,ye)=>{if(!pe)return pe;const Se=ye===me-1;return(0,bn.Tm)(pe,{separator:Se?"":a,key:ye})})}const se=Y()(H,j==null?void 0:j.className,{[`${H}-rtl`]:Z==="rtl"},f,y,ee,ie),ue=Object.assign(Object.assign({},j==null?void 0:j.style),o);return K(s.createElement("nav",Object.assign({className:se,style:ue},L),s.createElement("ol",null,G)))};_0.Item=ey,_0.Separator=p0;var iy=_0,mC=iy,pC=F(16483),uu=F.n(pC),gC=F(92098),_b=F.n(gC),Pf=F(2845),Up=F.n(Pf),Wp=F(88777),b0=F.n(Wp),Gp=F(41466),bb=F.n(Gp),xb=F(79771),Cb=F.n(xb),Sb=F(30156),vC=F.n(Sb);uu().extend(vC()),uu().extend(Cb()),uu().extend(_b()),uu().extend(Up()),uu().extend(b0()),uu().extend(bb()),uu().extend(function(e,t){var a=t.prototype,o=a.format;a.format=function(y){var C=(y||"").replace("Wo","wo");return o.bind(this)(C)}});var yC={bn_BD:"bn-bd",by_BY:"be",en_GB:"en-gb",en_US:"en",fr_BE:"fr",fr_CA:"fr-ca",hy_AM:"hy-am",kmr_IQ:"ku",nl_BE:"nl-be",pt_BR:"pt-br",zh_CN:"zh-cn",zh_HK:"zh-hk",zh_TW:"zh-tw"},Of=function(t){var a=yC[t];return a||t.split("_")[0]},Kp=function(){},wb={getNow:function(){var t=uu()();return typeof t.tz=="function"?t.tz():t},getFixedDate:function(t){return uu()(t,["YYYY-M-DD","YYYY-MM-DD"])},getEndDate:function(t){return t.endOf("month")},getWeekDay:function(t){var a=t.locale("en");return a.weekday()+a.localeData().firstDayOfWeek()},getYear:function(t){return t.year()},getMonth:function(t){return t.month()},getDate:function(t){return t.date()},getHour:function(t){return t.hour()},getMinute:function(t){return t.minute()},getSecond:function(t){return t.second()},getMillisecond:function(t){return t.millisecond()},addYear:function(t,a){return t.add(a,"year")},addMonth:function(t,a){return t.add(a,"month")},addDate:function(t,a){return t.add(a,"day")},setYear:function(t,a){return t.year(a)},setMonth:function(t,a){return t.month(a)},setDate:function(t,a){return t.date(a)},setHour:function(t,a){return t.hour(a)},setMinute:function(t,a){return t.minute(a)},setSecond:function(t,a){return t.second(a)},setMillisecond:function(t,a){return t.millisecond(a)},isAfter:function(t,a){return t.isAfter(a)},isValidate:function(t){return t.isValid()},locale:{getWeekFirstDay:function(t){return uu()().locale(Of(t)).localeData().firstDayOfWeek()},getWeekFirstDate:function(t,a){return a.locale(Of(t)).weekday(0)},getWeek:function(t,a){return a.locale(Of(t)).week()},getShortWeekDays:function(t){return uu()().locale(Of(t)).localeData().weekdaysMin()},getShortMonths:function(t){return uu()().locale(Of(t)).localeData().monthsShort()},format:function(t,a,o){return a.locale(Of(t)).format(o)},parse:function(t,a,o){for(var f=Of(t),y=0;y<o.length;y+=1){var C=o[y],w=a;if(C.includes("wo")||C.includes("Wo")){for(var I=w.split("-")[0],D=w.split("-")[1],z=uu()(I,"YYYY").startOf("year").locale(f),L=0;L<=52;L+=1){var k=z.add(L,"week");if(k.format("Wo")===D)return k}return Kp(),null}var Z=uu()(w,C,!0).locale(f);if(Z.isValid())return Z}return a&&Kp(),null}}},Eb=wb,$s=F(22217),hl=F(92076);function Ib(e,t){return e!==void 0?e:t?"bottomRight":"bottomLeft"}var Mb=s.createContext(null),zu=Mb,Tb={bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}}};function Pb(e){var t=e.popupElement,a=e.popupStyle,o=e.popupClassName,f=e.popupAlign,y=e.transitionName,C=e.getPopupContainer,w=e.children,I=e.range,D=e.placement,z=e.builtinPlacements,L=z===void 0?Tb:z,k=e.direction,Z=e.visible,j=e.onClose,G=s.useContext(zu),H=G.prefixCls,K="".concat(H,"-dropdown"),ee=Ib(D,k==="rtl");return s.createElement(uc.Z,{showAction:[],hideAction:["click"],popupPlacement:ee,builtinPlacements:L,prefixCls:K,popupTransitionName:y,popup:t,popupAlign:f,popupVisible:Z,popupClassName:Y()(o,(0,he.Z)((0,he.Z)({},"".concat(K,"-range"),I),"".concat(K,"-rtl"),k==="rtl")),popupStyle:a,stretch:"minWidth",getPopupContainer:C,onPopupVisibleChange:function(oe){oe||j()}},w)}var Ob=Pb;function x0(e,t){for(var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0",o=String(e);o.length<t;)o="".concat(a).concat(o);return o}function Rf(e){return e==null?[]:Array.isArray(e)?e:[e]}function qd(e,t,a){var o=(0,xe.Z)(e);return o[t]=a,o}function Xp(e,t){var a={},o=t||Object.keys(e);return o.forEach(function(f){e[f]!==void 0&&(a[f]=e[f])}),a}function oy(e,t,a){if(a)return a;switch(e){case"time":return t.fieldTimeFormat;case"datetime":return t.fieldDateTimeFormat;case"month":return t.fieldMonthFormat;case"year":return t.fieldYearFormat;case"quarter":return t.fieldQuarterFormat;case"week":return t.fieldWeekFormat;default:return t.fieldDateFormat}}function Rb(e,t,a){var o=a!==void 0?a:t[t.length-1],f=t.find(function(y){return e[y]});return o!==f?e[f]:void 0}function $b(e){return Xp(e,["placement","builtinPlacements","popupAlign","getPopupContainer","transitionName","direction"])}function ay(e,t,a,o){var f=s.useMemo(function(){return e||function(C,w){var I=C;return t&&w.type==="date"?t(I,w.today):a&&w.type==="month"?a(I,w.locale):w.originNode}},[e,a,t]),y=s.useCallback(function(C,w){return f(C,(0,X.Z)((0,X.Z)({},w),{},{range:o}))},[f,o]);return y}function Ab(e,t){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],o=s.useState([!1,!1]),f=(0,Oe.Z)(o,2),y=f[0],C=f[1],w=function(z,L){C(function(k){return qd(k,L,z)})},I=s.useMemo(function(){return y.map(function(D,z){if(D)return!0;var L=e[z];return L?!!(!a[z]&&!L||L&&t(L,{activeIndex:z})):!1})},[e,y,t,a]);return[I,w]}function Db(e,t,a,o,f){var y="",C=[];return e&&C.push(f?"hh":"HH"),t&&C.push("mm"),a&&C.push("ss"),y=C.join(":"),o&&(y+=".SSS"),f&&(y+=" A"),y}function _C(e,t,a,o,f,y){var C=e.fieldDateTimeFormat,w=e.fieldDateFormat,I=e.fieldTimeFormat,D=e.fieldMonthFormat,z=e.fieldYearFormat,L=e.fieldWeekFormat,k=e.fieldQuarterFormat,Z=e.yearFormat,j=e.cellYearFormat,G=e.cellQuarterFormat,H=e.dayFormat,K=e.cellDateFormat,ee=Db(t,a,o,f,y);return(0,X.Z)((0,X.Z)({},e),{},{fieldDateTimeFormat:C||"YYYY-MM-DD ".concat(ee),fieldDateFormat:w||"YYYY-MM-DD",fieldTimeFormat:I||ee,fieldMonthFormat:D||"YYYY-MM",fieldYearFormat:z||"YYYY",fieldWeekFormat:L||"gggg-wo",fieldQuarterFormat:k||"YYYY-[Q]Q",yearFormat:Z||"YYYY",cellYearFormat:j||"YYYY",cellQuarterFormat:G||"[Q]Q",cellDateFormat:K||H||"D"})}function zb(e,t){var a=t.showHour,o=t.showMinute,f=t.showSecond,y=t.showMillisecond,C=t.use12Hours;return s.useMemo(function(){return _C(e,a,o,f,y,C)},[e,a,o,f,y,C])}function Mm(e,t,a){return a!=null?a:t.some(function(o){return e.includes(o)})}var bC=["showNow","showHour","showMinute","showSecond","showMillisecond","use12Hours","hourStep","minuteStep","secondStep","millisecondStep","hideDisabledOptions","defaultValue","disabledHours","disabledMinutes","disabledSeconds","disabledMilliseconds","disabledTime","changeOnScroll","defaultOpenValue"];function xC(e){var t=Xp(e,bC),a=e.format,o=e.picker,f=null;return a&&(f=a,Array.isArray(f)&&(f=f[0]),f=(0,Ye.Z)(f)==="object"?f.format:f),o==="time"&&(t.format=f),[t,f]}function CC(e){return e&&typeof e=="string"}function C0(e,t,a,o){return[e,t,a,o].some(function(f){return f!==void 0})}function S0(e,t,a,o,f){var y=t,C=a,w=o;if(!e&&!y&&!C&&!w&&!f)y=!0,C=!0,w=!0;else if(e){var I,D,z,L=[y,C,w].some(function(j){return j===!1}),k=[y,C,w].some(function(j){return j===!0}),Z=L?!0:!k;y=(I=y)!==null&&I!==void 0?I:Z,C=(D=C)!==null&&D!==void 0?D:Z,w=(z=w)!==null&&z!==void 0?z:Z}return[y,C,w,f]}function sy(e){var t=e.showTime,a=xC(e),o=(0,Oe.Z)(a,2),f=o[0],y=o[1],C=t&&(0,Ye.Z)(t)==="object"?t:{},w=(0,X.Z)((0,X.Z)({defaultOpenValue:C.defaultOpenValue||C.defaultValue},f),C),I=w.showMillisecond,D=w.showHour,z=w.showMinute,L=w.showSecond,k=C0(D,z,L,I),Z=S0(k,D,z,L,I),j=(0,Oe.Z)(Z,3);return D=j[0],z=j[1],L=j[2],[w,(0,X.Z)((0,X.Z)({},w),{},{showHour:D,showMinute:z,showSecond:L,showMillisecond:I}),w.format,y]}function ly(e,t,a,o,f){var y=e==="time";if(e==="datetime"||y){for(var C=o,w=oy(e,f,null),I=w,D=[t,a],z=0;z<D.length;z+=1){var L=Rf(D[z])[0];if(CC(L)){I=L;break}}var k=C.showHour,Z=C.showMinute,j=C.showSecond,G=C.showMillisecond,H=C.use12Hours,K=Mm(I,["a","A","LT","LLL","LTS"],H),ee=C0(k,Z,j,G);ee||(k=Mm(I,["H","h","k","LT","LLL"]),Z=Mm(I,["m","LT","LLL"]),j=Mm(I,["s","LTS"]),G=Mm(I,["SSS"]));var ie=S0(ee,k,Z,j,G),oe=(0,Oe.Z)(ie,3);k=oe[0],Z=oe[1],j=oe[2];var re=t||Db(k,Z,j,G,K);return(0,X.Z)((0,X.Z)({},C),{},{format:re,showHour:k,showMinute:Z,showSecond:j,showMillisecond:G,use12Hours:K})}return null}function Lb(e,t,a){if(t===!1)return null;var o=t&&(0,Ye.Z)(t)==="object"?t:{};return o.clearIcon||a||s.createElement("span",{className:"".concat(e,"-clear-btn")})}var w0=7;function Jd(e,t,a){return!e&&!t||e===t?!0:!e||!t?!1:a()}function E0(e,t,a){return Jd(t,a,function(){var o=Math.floor(e.getYear(t)/10),f=Math.floor(e.getYear(a)/10);return o===f})}function $f(e,t,a){return Jd(t,a,function(){return e.getYear(t)===e.getYear(a)})}function cy(e,t){var a=Math.floor(e.getMonth(t)/3);return a+1}function uy(e,t,a){return Jd(t,a,function(){return $f(e,t,a)&&cy(e,t)===cy(e,a)})}function I0(e,t,a){return Jd(t,a,function(){return $f(e,t,a)&&e.getMonth(t)===e.getMonth(a)})}function dy(e,t,a){return Jd(t,a,function(){return $f(e,t,a)&&I0(e,t,a)&&e.getDate(t)===e.getDate(a)})}function Tm(e,t,a){return Jd(t,a,function(){return e.getHour(t)===e.getHour(a)&&e.getMinute(t)===e.getMinute(a)&&e.getSecond(t)===e.getSecond(a)})}function fy(e,t,a){return Jd(t,a,function(){return dy(e,t,a)&&Tm(e,t,a)&&e.getMillisecond(t)===e.getMillisecond(a)})}function Yp(e,t,a,o){return Jd(a,o,function(){var f=e.locale.getWeekFirstDate(t,a),y=e.locale.getWeekFirstDate(t,o);return $f(e,f,y)&&e.locale.getWeek(t,a)===e.locale.getWeek(t,o)})}function Gc(e,t,a,o,f){switch(f){case"date":return dy(e,a,o);case"week":return Yp(e,t.locale,a,o);case"month":return I0(e,a,o);case"quarter":return uy(e,a,o);case"year":return $f(e,a,o);case"decade":return E0(e,a,o);case"time":return Tm(e,a,o);default:return fy(e,a,o)}}function M0(e,t,a,o){return!t||!a||!o?!1:e.isAfter(o,t)&&e.isAfter(a,o)}function T0(e,t,a,o,f){return Gc(e,t,a,o,f)?!0:e.isAfter(a,o)}function SC(e,t,a){var o=t.locale.getWeekFirstDay(e),f=t.setDate(a,1),y=t.getWeekDay(f),C=t.addDate(f,o-y);return t.getMonth(C)===t.getMonth(a)&&t.getDate(C)>1&&(C=t.addDate(C,-7)),C}function Oc(e,t){var a=t.generateConfig,o=t.locale,f=t.format;return e?typeof f=="function"?f(e):a.locale.format(o.locale,e,f):""}function P0(e,t,a){var o=t,f=["getHour","getMinute","getSecond","getMillisecond"],y=["setHour","setMinute","setSecond","setMillisecond"];return y.forEach(function(C,w){a?o=e[C](o,e[f[w]](a)):o=e[C](o,0)}),o}function Nb(e,t,a,o,f){var y=(0,$s.zX)(function(C,w){return!!(a&&a(C,w)||o&&e.isAfter(o,C)&&!Gc(e,t,o,C,w.type)||f&&e.isAfter(C,f)&&!Gc(e,t,f,C,w.type))});return y}function wC(e,t,a){return s.useMemo(function(){var o=oy(e,t,a),f=Rf(o),y=f[0],C=(0,Ye.Z)(y)==="object"&&y.type==="mask"?y.format:null;return[f.map(function(w){return typeof w=="string"||typeof w=="function"?w:w.format}),C]},[e,t,a])}function Rc(e,t,a){return typeof e[0]=="function"||a?!0:t}function Qu(e,t,a,o){var f=(0,$s.zX)(function(y,C){var w=(0,X.Z)({type:t},C);if(delete w.activeIndex,!e.isValidate(y)||a&&a(y,w))return!0;if((t==="date"||t==="time")&&o){var I,D=C&&C.activeIndex===1?"end":"start",z=((I=o.disabledTime)===null||I===void 0?void 0:I.call(o,y,D,{from:w.from}))||{},L=z.disabledHours,k=z.disabledMinutes,Z=z.disabledSeconds,j=z.disabledMilliseconds,G=o.disabledHours,H=o.disabledMinutes,K=o.disabledSeconds,ee=L||G,ie=k||H,oe=Z||K,re=e.getHour(y),se=e.getMinute(y),ue=e.getSecond(y),me=e.getMillisecond(y);if(ee&&ee().includes(re)||ie&&ie(re).includes(se)||oe&&oe(re,se).includes(ue)||j&&j(re,se,ue).includes(me))return!0}return!1});return f}function Pm(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=s.useMemo(function(){var o=e&&Rf(e);return t&&o&&(o[1]=o[1]||o[0]),o},[e,t]);return a}function O0(e,t){var a=e.generateConfig,o=e.locale,f=e.picker,y=f===void 0?"date":f,C=e.prefixCls,w=C===void 0?"rc-picker":C,I=e.styles,D=I===void 0?{}:I,z=e.classNames,L=z===void 0?{}:z,k=e.order,Z=k===void 0?!0:k,j=e.components,G=j===void 0?{}:j,H=e.inputRender,K=e.allowClear,ee=e.clearIcon,ie=e.needConfirm,oe=e.multiple,re=e.format,se=e.inputReadOnly,ue=e.disabledDate,me=e.minDate,pe=e.maxDate,ye=e.showTime,Se=e.value,Ie=e.defaultValue,we=e.pickerValue,Be=e.defaultPickerValue,Re=Pm(Se),je=Pm(Ie),Ne=Pm(we),nt=Pm(Be),at=y==="date"&&ye?"datetime":y,Ct=at==="time"||at==="datetime",St=Ct||oe,_t=ie!=null?ie:Ct,ft=sy(e),vt=(0,Oe.Z)(ft,4),$t=vt[0],It=vt[1],Ft=vt[2],wt=vt[3],pn=zb(o,It),Bn=s.useMemo(function(){return ly(at,Ft,wt,$t,pn)},[at,Ft,wt,$t,pn]),ln=s.useMemo(function(){return(0,X.Z)((0,X.Z)({},e),{},{prefixCls:w,locale:pn,picker:y,styles:D,classNames:L,order:Z,components:(0,X.Z)({input:H},G),clearIcon:Lb(w,K,ee),showTime:Bn,value:Re,defaultValue:je,pickerValue:Ne,defaultPickerValue:nt},t==null?void 0:t())},[e]),Tn=wC(at,pn,re),Kt=(0,Oe.Z)(Tn,2),zt=Kt[0],Dn=Kt[1],Sn=Rc(zt,se,oe),Ir=Nb(a,o,ue,me,pe),ur=Qu(a,y,Ir,Bn),Yn=s.useMemo(function(){return(0,X.Z)((0,X.Z)({},ln),{},{needConfirm:_t,inputReadOnly:Sn,disabledDate:Ir})},[ln,_t,Sn,Ir]);return[Yn,at,St,zt,Dn,ur]}function R0(e,t,a){var o=(0,$s.C8)(t,{value:e}),f=(0,Oe.Z)(o,2),y=f[0],C=f[1],w=s.useRef(e),I=s.useRef(),D=function(){We.Z.cancel(I.current)},z=(0,$s.zX)(function(){C(w.current),a&&y!==w.current&&a(w.current)}),L=(0,$s.zX)(function(k,Z){D(),w.current=k,k||Z?z():I.current=(0,We.Z)(z)});return s.useEffect(function(){return D},[]),[y,L]}function Ih(e,t){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],o=arguments.length>3?arguments[3]:void 0,f=a.every(function(z){return z})?!1:e,y=R0(f,t||!1,o),C=(0,Oe.Z)(y,2),w=C[0],I=C[1];function D(z){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(!L.inherit||w)&&I(z,L.force)}return[w,D]}function Bb(e){var t=s.useRef();return s.useImperativeHandle(e,function(){var a;return{nativeElement:(a=t.current)===null||a===void 0?void 0:a.nativeElement,focus:function(f){var y;(y=t.current)===null||y===void 0||y.focus(f)},blur:function(){var f;(f=t.current)===null||f===void 0||f.blur()}}}),t}function Fb(e,t){return s.useMemo(function(){return e||(t?((0,lc.ZP)(!1,"`ranges` is deprecated. Please use `presets` instead."),Object.entries(t).map(function(a){var o=(0,Oe.Z)(a,2),f=o[0],y=o[1];return{label:f,value:y}})):[])},[e,t])}function Mh(e,t){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,o=s.useRef(t);o.current=t,(0,hl.o)(function(){if(e)o.current(e);else{var f=(0,We.Z)(function(){o.current(e)},a);return function(){We.Z.cancel(f)}}},[e])}function kb(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=s.useState(0),f=(0,Oe.Z)(o,2),y=f[0],C=f[1],w=s.useState(!1),I=(0,Oe.Z)(w,2),D=I[0],z=I[1],L=s.useRef([]),k=s.useRef(null),Z=s.useRef(null),j=function(oe){k.current=oe},G=function(oe){return k.current===oe},H=function(oe){z(oe)},K=function(oe){return oe&&(Z.current=oe),Z.current},ee=function(oe){var re=L.current,se=new Set(re.filter(function(me){return oe[me]||t[me]})),ue=re[re.length-1]===0?1:0;return se.size>=2||e[ue]?null:ue};return Mh(D||a,function(){D||(L.current=[],j(null))}),s.useEffect(function(){D&&L.current.push(y)},[D,y]),[D,H,K,y,C,ee,L.current,j,G]}function EC(e,t,a,o,f,y){var C=a[a.length-1],w=function(D,z){var L=(0,Oe.Z)(e,2),k=L[0],Z=L[1],j=(0,X.Z)((0,X.Z)({},z),{},{from:Rb(e,a)});return C===1&&t[0]&&k&&!Gc(o,f,k,D,j.type)&&o.isAfter(k,D)||C===0&&t[1]&&Z&&!Gc(o,f,Z,D,j.type)&&o.isAfter(D,Z)?!0:y==null?void 0:y(D,j)};return w}function Om(e,t,a,o){switch(t){case"date":case"week":return e.addMonth(a,o);case"month":case"quarter":return e.addYear(a,o);case"year":return e.addYear(a,o*10);case"decade":return e.addYear(a,o*100);default:return a}}var qp=[];function hy(e,t,a,o,f,y,C,w){var I=arguments.length>8&&arguments[8]!==void 0?arguments[8]:qp,D=arguments.length>9&&arguments[9]!==void 0?arguments[9]:qp,z=arguments.length>10&&arguments[10]!==void 0?arguments[10]:qp,L=arguments.length>11?arguments[11]:void 0,k=arguments.length>12?arguments[12]:void 0,Z=arguments.length>13?arguments[13]:void 0,j=C==="time",G=y||0,H=function(Ne){var nt=e.getNow();return j&&(nt=P0(e,nt)),I[Ne]||a[Ne]||nt},K=(0,Oe.Z)(D,2),ee=K[0],ie=K[1],oe=(0,$s.C8)(function(){return H(0)},{value:ee}),re=(0,Oe.Z)(oe,2),se=re[0],ue=re[1],me=(0,$s.C8)(function(){return H(1)},{value:ie}),pe=(0,Oe.Z)(me,2),ye=pe[0],Se=pe[1],Ie=s.useMemo(function(){var je=[se,ye][G];return j?je:P0(e,je,z[G])},[j,se,ye,G,e,z]),we=function(Ne){var nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"panel",at=[ue,Se][G];at(Ne);var Ct=[se,ye];Ct[G]=Ne,L&&(!Gc(e,t,se,Ct[0],C)||!Gc(e,t,ye,Ct[1],C))&&L(Ct,{source:nt,range:G===1?"end":"start",mode:o})},Be=function(Ne,nt){if(w){var at={date:"month",week:"month",month:"year",quarter:"year"},Ct=at[C];if(Ct&&!Gc(e,t,Ne,nt,Ct))return Om(e,C,nt,-1);if(C==="year"&&Ne){var St=Math.floor(e.getYear(Ne)/10),_t=Math.floor(e.getYear(nt)/10);if(St!==_t)return Om(e,C,nt,-1)}}return nt},Re=s.useRef(null);return(0,hl.Z)(function(){if(f&&!I[G]){var je=j?null:e.getNow();if(Re.current!==null&&Re.current!==G?je=[se,ye][G^1]:a[G]?je=G===0?a[0]:Be(a[0],a[1]):a[G^1]&&(je=a[G^1]),je){k&&e.isAfter(k,je)&&(je=k);var Ne=w?Om(e,C,je,1):je;Z&&e.isAfter(Ne,Z)&&(je=w?Om(e,C,Z,-1):Z),we(je,"reset")}}},[f,G,a[G]]),s.useEffect(function(){f?Re.current=G:Re.current=null},[f,G]),(0,hl.Z)(function(){f&&I&&I[G]&&we(I[G],"reset")},[f,G]),[Ie,we]}function $0(e,t){var a=s.useRef(e),o=s.useState({}),f=(0,Oe.Z)(o,2),y=f[1],C=function(D){return D&&t!==void 0?t:a.current},w=function(D){a.current=D,y({})};return[C,w,C(!0)]}var IC=[];function my(e,t,a){var o=function(C){return C.map(function(w){return Oc(w,{generateConfig:e,locale:t,format:a[0]})})},f=function(C,w){for(var I=Math.max(C.length,w.length),D=-1,z=0;z<I;z+=1){var L=C[z]||null,k=w[z]||null;if(L!==k&&!fy(e,L,k)){D=z;break}}return[D<0,D!==0]};return[o,f]}function Jp(e,t){return(0,xe.Z)(e).sort(function(a,o){return t.isAfter(a,o)?1:-1})}function py(e){var t=$0(e),a=(0,Oe.Z)(t,2),o=a[0],f=a[1],y=(0,$s.zX)(function(){f(e)});return s.useEffect(function(){y()},[e]),[o,f]}function jb(e,t,a,o,f,y,C,w,I){var D=(0,$s.C8)(y,{value:C}),z=(0,Oe.Z)(D,2),L=z[0],k=z[1],Z=L||IC,j=py(Z),G=(0,Oe.Z)(j,2),H=G[0],K=G[1],ee=my(e,t,a),ie=(0,Oe.Z)(ee,2),oe=ie[0],re=ie[1],se=(0,$s.zX)(function(me){var pe=(0,xe.Z)(me);if(o)for(var ye=0;ye<2;ye+=1)pe[ye]=pe[ye]||null;else f&&(pe=Jp(pe.filter(function(je){return je}),e));var Se=re(H(),pe),Ie=(0,Oe.Z)(Se,2),we=Ie[0],Be=Ie[1];if(!we&&(K(pe),w)){var Re=oe(pe);w(pe,Re,{range:Be?"end":"start"})}}),ue=function(){I&&I(H())};return[Z,k,H,se,ue]}function Zb(e,t,a,o,f,y,C,w,I,D){var z=e.generateConfig,L=e.locale,k=e.picker,Z=e.onChange,j=e.allowEmpty,G=e.order,H=y.some(function(we){return we})?!1:G,K=my(z,L,C),ee=(0,Oe.Z)(K,2),ie=ee[0],oe=ee[1],re=$0(t),se=(0,Oe.Z)(re,2),ue=se[0],me=se[1],pe=(0,$s.zX)(function(){me(t)});s.useEffect(function(){pe()},[t]);var ye=(0,$s.zX)(function(we){var Be=we===null,Re=(0,xe.Z)(we||ue());if(Be)for(var je=Math.max(y.length,Re.length),Ne=0;Ne<je;Ne+=1)y[Ne]||(Re[Ne]=null);H&&Re[0]&&Re[1]&&(Re=Jp(Re,z)),f(Re);var nt=Re,at=(0,Oe.Z)(nt,2),Ct=at[0],St=at[1],_t=!Ct,ft=!St,vt=j?(!_t||j[0])&&(!ft||j[1]):!0,$t=!G||_t||ft||Gc(z,L,Ct,St,k)||z.isAfter(St,Ct),It=(y[0]||!Ct||!D(Ct,{activeIndex:0}))&&(y[1]||!St||!D(St,{from:Ct,activeIndex:1})),Ft=Be||vt&&$t&&It;if(Ft){a(Re);var wt=oe(Re,t),pn=(0,Oe.Z)(wt,1),Bn=pn[0];Z&&!Bn&&Z(Be&&Re.every(function(ln){return!ln})?null:Re,ie(Re))}return Ft}),Se=(0,$s.zX)(function(we,Be){var Re=qd(ue(),we,o()[we]);me(Re),Be&&ye()}),Ie=!w&&!I;return Mh(!Ie,function(){Ie&&(ye(),f(t),pe())},2),[Se,ye]}function Vb(e,t,a,o,f){return t!=="date"&&t!=="time"?!1:a!==void 0?a:o!==void 0?o:!f&&(e==="date"||e==="time")}function Hb(e,t,a,o,f,y){var C=e;function w(L,k,Z){var j=y[L](C),G=Z.find(function(ie){return ie.value===j});if(!G||G.disabled){var H=Z.filter(function(ie){return!ie.disabled}),K=(0,xe.Z)(H).reverse(),ee=K.find(function(ie){return ie.value<=j})||H[0];ee&&(j=ee.value,C=y[k](C,j))}return j}var I=w("getHour","setHour",t()),D=w("getMinute","setMinute",a(I)),z=w("getSecond","setSecond",o(I,D));return w("getMillisecond","setMillisecond",f(I,D,z)),C}function Kc(){return[]}function Af(e,t){for(var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],y=arguments.length>5&&arguments[5]!==void 0?arguments[5]:2,C=[],w=a>=1?a|0:1,I=e;I<=t;I+=w){var D=f.includes(I);(!D||!o)&&C.push({label:x0(I,y),value:I,disabled:D})}return C}function Df(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,o=t||{},f=o.use12Hours,y=o.hourStep,C=y===void 0?1:y,w=o.minuteStep,I=w===void 0?1:w,D=o.secondStep,z=D===void 0?1:D,L=o.millisecondStep,k=L===void 0?100:L,Z=o.hideDisabledOptions,j=o.disabledTime,G=o.disabledHours,H=o.disabledMinutes,K=o.disabledSeconds,ee=s.useMemo(function(){return a||e.getNow()},[a,e]);if(0)var ie,oe,re;var se=s.useCallback(function(St){var _t=(j==null?void 0:j(St))||{};return[_t.disabledHours||G||Kc,_t.disabledMinutes||H||Kc,_t.disabledSeconds||K||Kc,_t.disabledMilliseconds||Kc]},[j,G,H,K]),ue=s.useMemo(function(){return se(ee)},[ee,se]),me=(0,Oe.Z)(ue,4),pe=me[0],ye=me[1],Se=me[2],Ie=me[3],we=s.useCallback(function(St,_t,ft,vt){var $t=Af(0,23,C,Z,St()),It=f?$t.map(function(Bn){return(0,X.Z)((0,X.Z)({},Bn),{},{label:x0(Bn.value%12||12,2)})}):$t,Ft=function(ln){return Af(0,59,I,Z,_t(ln))},wt=function(ln,Tn){return Af(0,59,z,Z,ft(ln,Tn))},pn=function(ln,Tn,Kt){return Af(0,999,k,Z,vt(ln,Tn,Kt),3)};return[It,Ft,wt,pn]},[Z,C,f,k,I,z]),Be=s.useMemo(function(){return we(pe,ye,Se,Ie)},[we,pe,ye,Se,Ie]),Re=(0,Oe.Z)(Be,4),je=Re[0],Ne=Re[1],nt=Re[2],at=Re[3],Ct=function(_t,ft){var vt=function(){return je},$t=Ne,It=nt,Ft=at;if(ft){var wt=se(ft),pn=(0,Oe.Z)(wt,4),Bn=pn[0],ln=pn[1],Tn=pn[2],Kt=pn[3],zt=we(Bn,ln,Tn,Kt),Dn=(0,Oe.Z)(zt,4),Sn=Dn[0],Ir=Dn[1],ur=Dn[2],Yn=Dn[3];vt=function(){return Sn},$t=Ir,It=ur,Ft=Yn}var qn=Hb(_t,vt,$t,It,Ft,e);return qn};return[Ct,je,Ne,nt,at]}function gy(e){var t=e.mode,a=e.internalMode,o=e.renderExtraFooter,f=e.showNow,y=e.showTime,C=e.onSubmit,w=e.onNow,I=e.invalid,D=e.needConfirm,z=e.generateConfig,L=e.disabledDate,k=s.useContext(zu),Z=k.prefixCls,j=k.locale,G=k.button,H=G===void 0?"button":G,K=z.getNow(),ee=Df(z,y,K),ie=(0,Oe.Z)(ee,1),oe=ie[0],re=o==null?void 0:o(t),se=L(K,{type:t}),ue=function(){if(!se){var Be=oe(K);w(Be)}},me="".concat(Z,"-now"),pe="".concat(me,"-btn"),ye=f&&s.createElement("li",{className:me},s.createElement("a",{className:Y()(pe,se&&"".concat(pe,"-disabled")),"aria-disabled":se,onClick:ue},a==="date"?j.today:j.now)),Se=D&&s.createElement("li",{className:"".concat(Z,"-ok")},s.createElement(H,{disabled:I,onClick:C},j.ok)),Ie=(ye||Se)&&s.createElement("ul",{className:"".concat(Z,"-ranges")},ye,Se);return!re&&!Ie?null:s.createElement("div",{className:"".concat(Z,"-footer")},re&&s.createElement("div",{className:"".concat(Z,"-footer-extra")},re),Ie)}function Qp(e,t,a){function o(f,y){var C=f.findIndex(function(I){return Gc(e,t,I,y,a)});if(C===-1)return[].concat((0,xe.Z)(f),[y]);var w=(0,xe.Z)(f);return w.splice(C,1),w}return o}var Th=s.createContext(null);function eg(){return s.useContext(Th)}function Ph(e,t){var a=e.prefixCls,o=e.generateConfig,f=e.locale,y=e.disabledDate,C=e.minDate,w=e.maxDate,I=e.cellRender,D=e.hoverValue,z=e.hoverRangeValue,L=e.onHover,k=e.values,Z=e.pickerValue,j=e.onSelect,G=e.prevIcon,H=e.nextIcon,K=e.superPrevIcon,ee=e.superNextIcon,ie=o.getNow(),oe={now:ie,values:k,pickerValue:Z,prefixCls:a,disabledDate:y,minDate:C,maxDate:w,cellRender:I,hoverValue:D,hoverRangeValue:z,onHover:L,locale:f,generateConfig:o,onSelect:j,panelType:t,prevIcon:G,nextIcon:H,superPrevIcon:K,superNextIcon:ee};return[oe,ie]}var zf=s.createContext({});function Rm(e){for(var t=e.rowNum,a=e.colNum,o=e.baseDate,f=e.getCellDate,y=e.prefixColumn,C=e.rowClassName,w=e.titleFormat,I=e.getCellText,D=e.getCellClassName,z=e.headerCells,L=e.cellSelection,k=L===void 0?!0:L,Z=e.disabledDate,j=eg(),G=j.prefixCls,H=j.panelType,K=j.now,ee=j.disabledDate,ie=j.cellRender,oe=j.onHover,re=j.hoverValue,se=j.hoverRangeValue,ue=j.generateConfig,me=j.values,pe=j.locale,ye=j.onSelect,Se=Z||ee,Ie="".concat(G,"-cell"),we=s.useContext(zf),Be=we.onCellDblClick,Re=function(ft){return me.some(function(vt){return vt&&Gc(ue,pe,ft,vt,H)})},je=[],Ne=0;Ne<t;Ne+=1){for(var nt=[],at=void 0,Ct=function(){var ft=Ne*a+St,vt=f(o,ft),$t=Se==null?void 0:Se(vt,{type:H});St===0&&(at=vt,y&&nt.push(y(at)));var It=!1,Ft=!1,wt=!1;if(k&&se){var pn=(0,Oe.Z)(se,2),Bn=pn[0],ln=pn[1];It=M0(ue,Bn,ln,vt),Ft=Gc(ue,pe,vt,Bn,H),wt=Gc(ue,pe,vt,ln,H)}var Tn=w?Oc(vt,{locale:pe,format:w,generateConfig:ue}):void 0,Kt=s.createElement("div",{className:"".concat(Ie,"-inner")},I(vt));nt.push(s.createElement("td",{key:St,title:Tn,className:Y()(Ie,(0,X.Z)((0,he.Z)((0,he.Z)((0,he.Z)((0,he.Z)((0,he.Z)((0,he.Z)({},"".concat(Ie,"-disabled"),$t),"".concat(Ie,"-hover"),(re||[]).some(function(zt){return Gc(ue,pe,vt,zt,H)})),"".concat(Ie,"-in-range"),It&&!Ft&&!wt),"".concat(Ie,"-range-start"),Ft),"".concat(Ie,"-range-end"),wt),"".concat(G,"-cell-selected"),!se&&H!=="week"&&Re(vt)),D(vt))),onClick:function(){$t||ye(vt)},onDoubleClick:function(){!$t&&Be&&Be()},onMouseEnter:function(){$t||oe==null||oe(vt)},onMouseLeave:function(){$t||oe==null||oe(null)}},ie?ie(vt,{prefixCls:G,originNode:Kt,today:K,type:H,locale:pe}):Kt))},St=0;St<a;St+=1)Ct();je.push(s.createElement("tr",{key:Ne,className:C==null?void 0:C(at)},nt))}return s.createElement("div",{className:"".concat(G,"-body")},s.createElement("table",{className:"".concat(G,"-content")},z&&s.createElement("thead",null,s.createElement("tr",null,z)),s.createElement("tbody",null,je)))}var tg={visibility:"hidden"};function vy(e){var t=e.offset,a=e.superOffset,o=e.onChange,f=e.getStart,y=e.getEnd,C=e.children,w=eg(),I=w.prefixCls,D=w.prevIcon,z=D===void 0?"\u2039":D,L=w.nextIcon,k=L===void 0?"\u203A":L,Z=w.superPrevIcon,j=Z===void 0?"\xAB":Z,G=w.superNextIcon,H=G===void 0?"\xBB":G,K=w.minDate,ee=w.maxDate,ie=w.generateConfig,oe=w.locale,re=w.pickerValue,se=w.panelType,ue="".concat(I,"-header"),me=s.useContext(zf),pe=me.hidePrev,ye=me.hideNext,Se=me.hideHeader,Ie=s.useMemo(function(){if(!K||!t||!y)return!1;var _t=y(t(-1,re));return!T0(ie,oe,_t,K,se)},[K,t,re,y,ie,oe,se]),we=s.useMemo(function(){if(!K||!a||!y)return!1;var _t=y(a(-1,re));return!T0(ie,oe,_t,K,se)},[K,a,re,y,ie,oe,se]),Be=s.useMemo(function(){if(!ee||!t||!f)return!1;var _t=f(t(1,re));return!T0(ie,oe,ee,_t,se)},[ee,t,re,f,ie,oe,se]),Re=s.useMemo(function(){if(!ee||!a||!f)return!1;var _t=f(a(1,re));return!T0(ie,oe,ee,_t,se)},[ee,a,re,f,ie,oe,se]),je=function(ft){t&&o(t(ft,re))},Ne=function(ft){a&&o(a(ft,re))};if(Se)return null;var nt="".concat(ue,"-prev-btn"),at="".concat(ue,"-next-btn"),Ct="".concat(ue,"-super-prev-btn"),St="".concat(ue,"-super-next-btn");return s.createElement("div",{className:ue},a&&s.createElement("button",{type:"button","aria-label":oe.previousYear,onClick:function(){return Ne(-1)},tabIndex:-1,className:Y()(Ct,we&&"".concat(Ct,"-disabled")),disabled:we,style:pe?tg:{}},j),t&&s.createElement("button",{type:"button","aria-label":oe.previousMonth,onClick:function(){return je(-1)},tabIndex:-1,className:Y()(nt,Ie&&"".concat(nt,"-disabled")),disabled:Ie,style:pe?tg:{}},z),s.createElement("div",{className:"".concat(ue,"-view")},C),t&&s.createElement("button",{type:"button","aria-label":oe.nextMonth,onClick:function(){return je(1)},tabIndex:-1,className:Y()(at,Be&&"".concat(at,"-disabled")),disabled:Be,style:ye?tg:{}},k),a&&s.createElement("button",{type:"button","aria-label":oe.nextYear,onClick:function(){return Ne(1)},tabIndex:-1,className:Y()(St,Re&&"".concat(St,"-disabled")),disabled:Re,style:ye?tg:{}},H))}var Oh=vy;function A0(e){var t=e.prefixCls,a=e.panelName,o=a===void 0?"date":a,f=e.locale,y=e.generateConfig,C=e.pickerValue,w=e.onPickerValueChange,I=e.onModeChange,D=e.mode,z=D===void 0?"date":D,L=e.disabledDate,k=e.onSelect,Z=e.onHover,j=e.showWeek,G="".concat(t,"-").concat(o,"-panel"),H="".concat(t,"-cell"),K=z==="week",ee=Ph(e,z),ie=(0,Oe.Z)(ee,2),oe=ie[0],re=ie[1],se=y.locale.getWeekFirstDay(f.locale),ue=y.setDate(C,1),me=SC(f.locale,y,ue),pe=y.getMonth(C),ye=j===void 0?K:j,Se=ye?function(_t){var ft=L==null?void 0:L(_t,{type:"week"});return s.createElement("td",{key:"week",className:Y()(H,"".concat(H,"-week"),(0,he.Z)({},"".concat(H,"-disabled"),ft)),onClick:function(){ft||k(_t)},onMouseEnter:function(){ft||Z==null||Z(_t)},onMouseLeave:function(){ft||Z==null||Z(null)}},s.createElement("div",{className:"".concat(H,"-inner")},y.locale.getWeek(f.locale,_t)))}:null,Ie=[],we=f.shortWeekDays||(y.locale.getShortWeekDays?y.locale.getShortWeekDays(f.locale):[]);Se&&Ie.push(s.createElement("th",{key:"empty"},s.createElement("span",{style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},f.week)));for(var Be=0;Be<w0;Be+=1)Ie.push(s.createElement("th",{key:Be},we[(Be+se)%w0]));var Re=function(ft,vt){return y.addDate(ft,vt)},je=function(ft){return Oc(ft,{locale:f,format:f.cellDateFormat,generateConfig:y})},Ne=function(ft){var vt=(0,he.Z)((0,he.Z)({},"".concat(t,"-cell-in-view"),I0(y,ft,C)),"".concat(t,"-cell-today"),dy(y,ft,re));return vt},nt=f.shortMonths||(y.locale.getShortMonths?y.locale.getShortMonths(f.locale):[]),at=s.createElement("button",{type:"button","aria-label":f.yearSelect,key:"year",onClick:function(){I("year",C)},tabIndex:-1,className:"".concat(t,"-year-btn")},Oc(C,{locale:f,format:f.yearFormat,generateConfig:y})),Ct=s.createElement("button",{type:"button","aria-label":f.monthSelect,key:"month",onClick:function(){I("month",C)},tabIndex:-1,className:"".concat(t,"-month-btn")},f.monthFormat?Oc(C,{locale:f,format:f.monthFormat,generateConfig:y}):nt[pe]),St=f.monthBeforeYear?[Ct,at]:[at,Ct];return s.createElement(Th.Provider,{value:oe},s.createElement("div",{className:Y()(G,j&&"".concat(G,"-show-week"))},s.createElement(Oh,{offset:function(ft){return y.addMonth(C,ft)},superOffset:function(ft){return y.addYear(C,ft)},onChange:w,getStart:function(ft){return y.setDate(ft,1)},getEnd:function(ft){var vt=y.setDate(ft,1);return vt=y.addMonth(vt,1),y.addDate(vt,-1)}},St),s.createElement(Rm,(0,Ze.Z)({titleFormat:f.fieldDateFormat},e,{colNum:w0,rowNum:6,baseDate:me,headerCells:Ie,getCellDate:Re,getCellText:je,getCellClassName:Ne,prefixColumn:Se,cellSelection:!K}))))}var yy=F(60900),Qd=1/3;function Ub(e,t){var a=s.useRef(!1),o=s.useRef(null),f=s.useRef(null),y=function(){return a.current},C=function(){We.Z.cancel(o.current),a.current=!1},w=s.useRef(),I=function(){var L=e.current;if(f.current=null,w.current=0,L){var k=L.querySelector('[data-value="'.concat(t,'"]')),Z=L.querySelector("li"),j=function G(){C(),a.current=!0,w.current+=1;var H=L.scrollTop,K=Z.offsetTop,ee=k.offsetTop,ie=ee-K;if(ee===0&&k!==Z||!(0,yy.Z)(L)){w.current<=5&&(o.current=(0,We.Z)(G));return}var oe=H+(ie-H)*Qd,re=Math.abs(ie-oe);if(f.current!==null&&f.current<re){C();return}if(f.current=re,re<=1){L.scrollTop=ie,C();return}L.scrollTop=oe,o.current=(0,We.Z)(G)};k&&Z&&j()}},D=(0,$s.zX)(I);return[D,C,y]}var Wb=300;function Gb(e){return e.map(function(t){var a=t.value,o=t.label,f=t.disabled;return[a,o,f].join(",")}).join(";")}function $m(e){var t=e.units,a=e.value,o=e.optionalValue,f=e.type,y=e.onChange,C=e.onHover,w=e.onDblClick,I=e.changeOnScroll,D=eg(),z=D.prefixCls,L=D.cellRender,k=D.now,Z=D.locale,j="".concat(z,"-time-panel"),G="".concat(z,"-time-panel-cell"),H=s.useRef(null),K=s.useRef(),ee=function(){clearTimeout(K.current)},ie=Ub(H,a!=null?a:o),oe=(0,Oe.Z)(ie,3),re=oe[0],se=oe[1],ue=oe[2];(0,hl.Z)(function(){return re(),ee(),function(){se(),ee()}},[a,o,Gb(t)]);var me=function(Se){ee();var Ie=Se.target;!ue()&&I&&(K.current=setTimeout(function(){var we=H.current,Be=we.querySelector("li").offsetTop,Re=Array.from(we.querySelectorAll("li")),je=Re.map(function(St){return St.offsetTop-Be}),Ne=je.map(function(St,_t){return t[_t].disabled?Number.MAX_SAFE_INTEGER:Math.abs(St-Ie.scrollTop)}),nt=Math.min.apply(Math,(0,xe.Z)(Ne)),at=Ne.findIndex(function(St){return St===nt}),Ct=t[at];Ct&&!Ct.disabled&&y(Ct.value)},Wb))},pe="".concat(j,"-column");return s.createElement("ul",{className:pe,ref:H,"data-type":f,onScroll:me},t.map(function(ye){var Se=ye.label,Ie=ye.value,we=ye.disabled,Be=s.createElement("div",{className:"".concat(G,"-inner")},Se);return s.createElement("li",{key:Ie,className:Y()(G,(0,he.Z)((0,he.Z)({},"".concat(G,"-selected"),a===Ie),"".concat(G,"-disabled"),we)),onClick:function(){we||y(Ie)},onDoubleClick:function(){!we&&w&&w()},onMouseEnter:function(){C(Ie)},onMouseLeave:function(){C(null)},"data-value":Ie},L?L(Ie,{prefixCls:z,originNode:Be,today:k,type:"time",subType:f,locale:Z}):Be)}))}function Lf(e){return e<12}function MC(e){var t=e.showHour,a=e.showMinute,o=e.showSecond,f=e.showMillisecond,y=e.use12Hours,C=e.changeOnScroll,w=eg(),I=w.prefixCls,D=w.values,z=w.generateConfig,L=w.locale,k=w.onSelect,Z=w.onHover,j=Z===void 0?function(){}:Z,G=w.pickerValue,H=(D==null?void 0:D[0])||null,K=s.useContext(zf),ee=K.onCellDblClick,ie=Df(z,e,H),oe=(0,Oe.Z)(ie,5),re=oe[0],se=oe[1],ue=oe[2],me=oe[3],pe=oe[4],ye=function(ri){var Oi=H&&z[ri](H),ro=G&&z[ri](G);return[Oi,ro]},Se=ye("getHour"),Ie=(0,Oe.Z)(Se,2),we=Ie[0],Be=Ie[1],Re=ye("getMinute"),je=(0,Oe.Z)(Re,2),Ne=je[0],nt=je[1],at=ye("getSecond"),Ct=(0,Oe.Z)(at,2),St=Ct[0],_t=Ct[1],ft=ye("getMillisecond"),vt=(0,Oe.Z)(ft,2),$t=vt[0],It=vt[1],Ft=we===null?null:Lf(we)?"am":"pm",wt=s.useMemo(function(){return y?Lf(we)?se.filter(function(Vn){return Lf(Vn.value)}):se.filter(function(Vn){return!Lf(Vn.value)}):se},[we,se,y]),pn=function(ri,Oi){var ro,Xo=ri.filter(function($a){return!$a.disabled});return Oi!=null?Oi:Xo==null||(ro=Xo[0])===null||ro===void 0?void 0:ro.value},Bn=pn(se,we),ln=s.useMemo(function(){return ue(Bn)},[ue,Bn]),Tn=pn(ln,Ne),Kt=s.useMemo(function(){return me(Bn,Tn)},[me,Bn,Tn]),zt=pn(Kt,St),Dn=s.useMemo(function(){return pe(Bn,Tn,zt)},[pe,Bn,Tn,zt]),Sn=pn(Dn,$t),Ir=s.useMemo(function(){if(!y)return[];var Vn=z.getNow(),ri=z.setHour(Vn,6),Oi=z.setHour(Vn,18),ro=function($a,ta){var Cs=L.cellMeridiemFormat;return Cs?Oc($a,{generateConfig:z,locale:L,format:Cs}):ta};return[{label:ro(ri,"AM"),value:"am",disabled:se.every(function(Xo){return Xo.disabled||!Lf(Xo.value)})},{label:ro(Oi,"PM"),value:"pm",disabled:se.every(function(Xo){return Xo.disabled||Lf(Xo.value)})}]},[se,y,z,L]),ur=function(ri){var Oi=re(ri);k(Oi)},Yn=s.useMemo(function(){var Vn=H||G||z.getNow(),ri=function(ro){return ro!=null};return ri(we)?(Vn=z.setHour(Vn,we),Vn=z.setMinute(Vn,Ne),Vn=z.setSecond(Vn,St),Vn=z.setMillisecond(Vn,$t)):ri(Be)?(Vn=z.setHour(Vn,Be),Vn=z.setMinute(Vn,nt),Vn=z.setSecond(Vn,_t),Vn=z.setMillisecond(Vn,It)):ri(Bn)&&(Vn=z.setHour(Vn,Bn),Vn=z.setMinute(Vn,Tn),Vn=z.setSecond(Vn,zt),Vn=z.setMillisecond(Vn,Sn)),Vn},[H,G,we,Ne,St,$t,Bn,Tn,zt,Sn,Be,nt,_t,It,z]),qn=function(ri,Oi){return ri===null?null:z[Oi](Yn,ri)},Rn=function(ri){return qn(ri,"setHour")},Jn=function(ri){return qn(ri,"setMinute")},zr=function(ri){return qn(ri,"setSecond")},li=function(ri){return qn(ri,"setMillisecond")},xi=function(ri){return ri===null?null:ri==="am"&&!Lf(we)?z.setHour(Yn,we-12):ri==="pm"&&Lf(we)?z.setHour(Yn,we+12):Yn},Di=function(ri){ur(Rn(ri))},So=function(ri){ur(Jn(ri))},_i=function(ri){ur(zr(ri))},ai=function(ri){ur(li(ri))},gi=function(ri){ur(xi(ri))},Gi=function(ri){j(Rn(ri))},Pi=function(ri){j(Jn(ri))},wo=function(ri){j(zr(ri))},dr=function(ri){j(li(ri))},tr=function(ri){j(xi(ri))},pr={onDblClick:ee,changeOnScroll:C};return s.createElement("div",{className:"".concat(I,"-content")},t&&s.createElement($m,(0,Ze.Z)({units:wt,value:we,optionalValue:Be,type:"hour",onChange:Di,onHover:Gi},pr)),a&&s.createElement($m,(0,Ze.Z)({units:ln,value:Ne,optionalValue:nt,type:"minute",onChange:So,onHover:Pi},pr)),o&&s.createElement($m,(0,Ze.Z)({units:Kt,value:St,optionalValue:_t,type:"second",onChange:_i,onHover:wo},pr)),f&&s.createElement($m,(0,Ze.Z)({units:Dn,value:$t,optionalValue:It,type:"millisecond",onChange:ai,onHover:dr},pr)),y&&s.createElement($m,(0,Ze.Z)({units:Ir,value:Ft,type:"meridiem",onChange:gi,onHover:tr},pr)))}function _y(e){var t=e.prefixCls,a=e.value,o=e.locale,f=e.generateConfig,y=e.showTime,C=y||{},w=C.format,I="".concat(t,"-time-panel"),D=Ph(e,"time"),z=(0,Oe.Z)(D,1),L=z[0];return s.createElement(Th.Provider,{value:L},s.createElement("div",{className:Y()(I)},s.createElement(Oh,null,a?Oc(a,{locale:o,format:w,generateConfig:f}):"\xA0"),s.createElement(MC,y)))}function Kb(e){var t=e.prefixCls,a=e.generateConfig,o=e.showTime,f=e.onSelect,y=e.value,C=e.pickerValue,w=e.onHover,I="".concat(t,"-datetime-panel"),D=Df(a,o),z=(0,Oe.Z)(D,1),L=z[0],k=function(H){return y?P0(a,H,y):P0(a,H,C)},Z=function(H){w==null||w(H&&k(H))},j=function(H){var K=k(H);f(L(K,K))};return s.createElement("div",{className:I},s.createElement(A0,(0,Ze.Z)({},e,{onSelect:j,onHover:Z})),s.createElement(_y,e))}function Xb(e){var t=e.prefixCls,a=e.locale,o=e.generateConfig,f=e.pickerValue,y=e.disabledDate,C=e.onPickerValueChange,w="".concat(t,"-decade-panel"),I=Ph(e,"decade"),D=(0,Oe.Z)(I,1),z=D[0],L=function(se){var ue=Math.floor(o.getYear(se)/100)*100;return o.setYear(se,ue)},k=function(se){var ue=L(se);return o.addYear(ue,99)},Z=L(f),j=k(f),G=o.addYear(Z,-10),H=function(se,ue){return o.addYear(se,ue*10)},K=function(se){var ue=a.cellYearFormat,me=Oc(se,{locale:a,format:ue,generateConfig:o}),pe=Oc(o.addYear(se,9),{locale:a,format:ue,generateConfig:o});return"".concat(me,"-").concat(pe)},ee=function(se){return(0,he.Z)({},"".concat(t,"-cell-in-view"),E0(o,se,Z)||E0(o,se,j)||M0(o,Z,j,se))},ie=y?function(re,se){var ue=o.setDate(re,1),me=o.setMonth(ue,0),pe=o.setYear(me,Math.floor(o.getYear(me)/10)*10),ye=o.addYear(pe,10),Se=o.addDate(ye,-1);return y(pe,se)&&y(Se,se)}:null,oe="".concat(Oc(Z,{locale:a,format:a.yearFormat,generateConfig:o}),"-").concat(Oc(j,{locale:a,format:a.yearFormat,generateConfig:o}));return s.createElement(Th.Provider,{value:z},s.createElement("div",{className:w},s.createElement(Oh,{superOffset:function(se){return o.addYear(f,se*100)},onChange:C,getStart:L,getEnd:k},oe),s.createElement(Rm,(0,Ze.Z)({},e,{disabledDate:ie,colNum:3,rowNum:4,baseDate:G,getCellDate:H,getCellText:K,getCellClassName:ee}))))}function ng(e){var t=e.prefixCls,a=e.locale,o=e.generateConfig,f=e.pickerValue,y=e.disabledDate,C=e.onPickerValueChange,w=e.onModeChange,I="".concat(t,"-month-panel"),D=Ph(e,"month"),z=(0,Oe.Z)(D,1),L=z[0],k=o.setMonth(f,0),Z=a.shortMonths||(o.locale.getShortMonths?o.locale.getShortMonths(a.locale):[]),j=function(oe,re){return o.addMonth(oe,re)},G=function(oe){var re=o.getMonth(oe);return a.monthFormat?Oc(oe,{locale:a,format:a.monthFormat,generateConfig:o}):Z[re]},H=function(){return(0,he.Z)({},"".concat(t,"-cell-in-view"),!0)},K=y?function(ie,oe){var re=o.setDate(ie,1),se=o.setMonth(re,o.getMonth(re)+1),ue=o.addDate(se,-1);return y(re,oe)&&y(ue,oe)}:null,ee=s.createElement("button",{type:"button",key:"year","aria-label":a.yearSelect,onClick:function(){w("year")},tabIndex:-1,className:"".concat(t,"-year-btn")},Oc(f,{locale:a,format:a.yearFormat,generateConfig:o}));return s.createElement(Th.Provider,{value:L},s.createElement("div",{className:I},s.createElement(Oh,{superOffset:function(oe){return o.addYear(f,oe)},onChange:C,getStart:function(oe){return o.setMonth(oe,0)},getEnd:function(oe){return o.setMonth(oe,11)}},ee),s.createElement(Rm,(0,Ze.Z)({},e,{disabledDate:K,titleFormat:a.fieldMonthFormat,colNum:3,rowNum:4,baseDate:k,getCellDate:j,getCellText:G,getCellClassName:H}))))}function rg(e){var t=e.prefixCls,a=e.locale,o=e.generateConfig,f=e.pickerValue,y=e.onPickerValueChange,C=e.onModeChange,w="".concat(t,"-quarter-panel"),I=Ph(e,"quarter"),D=(0,Oe.Z)(I,1),z=D[0],L=o.setMonth(f,0),k=function(K,ee){return o.addMonth(K,ee*3)},Z=function(K){return Oc(K,{locale:a,format:a.cellQuarterFormat,generateConfig:o})},j=function(){return(0,he.Z)({},"".concat(t,"-cell-in-view"),!0)},G=s.createElement("button",{type:"button",key:"year","aria-label":a.yearSelect,onClick:function(){C("year")},tabIndex:-1,className:"".concat(t,"-year-btn")},Oc(f,{locale:a,format:a.yearFormat,generateConfig:o}));return s.createElement(Th.Provider,{value:z},s.createElement("div",{className:w},s.createElement(Oh,{superOffset:function(K){return o.addYear(f,K)},onChange:y,getStart:function(K){return o.setMonth(K,0)},getEnd:function(K){return o.setMonth(K,11)}},G),s.createElement(Rm,(0,Ze.Z)({},e,{titleFormat:a.fieldQuarterFormat,colNum:4,rowNum:1,baseDate:L,getCellDate:k,getCellText:Z,getCellClassName:j}))))}function Yb(e){var t=e.prefixCls,a=e.generateConfig,o=e.locale,f=e.value,y=e.hoverValue,C=e.hoverRangeValue,w=o.locale,I="".concat(t,"-week-panel-row"),D=function(L){var k={};if(C){var Z=(0,Oe.Z)(C,2),j=Z[0],G=Z[1],H=Yp(a,w,j,L),K=Yp(a,w,G,L);k["".concat(I,"-range-start")]=H,k["".concat(I,"-range-end")]=K,k["".concat(I,"-range-hover")]=!H&&!K&&M0(a,j,G,L)}return y&&(k["".concat(I,"-hover")]=y.some(function(ee){return Yp(a,w,L,ee)})),Y()(I,(0,he.Z)({},"".concat(I,"-selected"),!C&&Yp(a,w,f,L)),k)};return s.createElement(A0,(0,Ze.Z)({},e,{mode:"week",panelName:"week",rowClassName:D}))}function ig(e){var t=e.prefixCls,a=e.locale,o=e.generateConfig,f=e.pickerValue,y=e.disabledDate,C=e.onPickerValueChange,w=e.onModeChange,I="".concat(t,"-year-panel"),D=Ph(e,"year"),z=(0,Oe.Z)(D,1),L=z[0],k=function(ue){var me=Math.floor(o.getYear(ue)/10)*10;return o.setYear(ue,me)},Z=function(ue){var me=k(ue);return o.addYear(me,9)},j=k(f),G=Z(f),H=o.addYear(j,-1),K=function(ue,me){return o.addYear(ue,me)},ee=function(ue){return Oc(ue,{locale:a,format:a.cellYearFormat,generateConfig:o})},ie=function(ue){return(0,he.Z)({},"".concat(t,"-cell-in-view"),$f(o,ue,j)||$f(o,ue,G)||M0(o,j,G,ue))},oe=y?function(se,ue){var me=o.setMonth(se,0),pe=o.setDate(me,1),ye=o.addYear(pe,1),Se=o.addDate(ye,-1);return y(pe,ue)&&y(Se,ue)}:null,re=s.createElement("button",{type:"button",key:"decade","aria-label":a.decadeSelect,onClick:function(){w("decade")},tabIndex:-1,className:"".concat(t,"-decade-btn")},Oc(j,{locale:a,format:a.yearFormat,generateConfig:o}),"-",Oc(G,{locale:a,format:a.yearFormat,generateConfig:o}));return s.createElement(Th.Provider,{value:L},s.createElement("div",{className:I},s.createElement(Oh,{superOffset:function(ue){return o.addYear(f,ue*10)},onChange:C,getStart:k,getEnd:Z},re),s.createElement(Rm,(0,Ze.Z)({},e,{disabledDate:oe,titleFormat:a.fieldYearFormat,colNum:3,rowNum:4,baseDate:H,getCellDate:K,getCellText:ee,getCellClassName:ie}))))}var qb={date:A0,datetime:Kb,week:Yb,month:ng,quarter:rg,year:ig,decade:Xb,time:_y};function Jb(e,t){var a,o=e.locale,f=e.generateConfig,y=e.direction,C=e.prefixCls,w=e.tabIndex,I=w===void 0?0:w,D=e.multiple,z=e.defaultValue,L=e.value,k=e.onChange,Z=e.onSelect,j=e.defaultPickerValue,G=e.pickerValue,H=e.onPickerValueChange,K=e.mode,ee=e.onPanelChange,ie=e.picker,oe=ie===void 0?"date":ie,re=e.showTime,se=e.hoverValue,ue=e.hoverRangeValue,me=e.cellRender,pe=e.dateRender,ye=e.monthCellRender,Se=e.components,Ie=Se===void 0?{}:Se,we=e.hideHeader,Be=((a=s.useContext(zu))===null||a===void 0?void 0:a.prefixCls)||C||"rc-picker",Re=s.useRef();s.useImperativeHandle(t,function(){return{nativeElement:Re.current}});var je=sy(e),Ne=(0,Oe.Z)(je,4),nt=Ne[0],at=Ne[1],Ct=Ne[2],St=Ne[3],_t=zb(o,at),ft=oe==="date"&&re?"datetime":oe,vt=s.useMemo(function(){return ly(ft,Ct,St,nt,_t)},[ft,Ct,St,nt,_t]),$t=f.getNow(),It=(0,$s.C8)(oe,{value:K,postState:function(tr){return tr||"date"}}),Ft=(0,Oe.Z)(It,2),wt=Ft[0],pn=Ft[1],Bn=wt==="date"&&vt?"datetime":wt,ln=Qp(f,o,ft),Tn=(0,$s.C8)(z,{value:L}),Kt=(0,Oe.Z)(Tn,2),zt=Kt[0],Dn=Kt[1],Sn=s.useMemo(function(){var dr=Rf(zt).filter(function(tr){return tr});return D?dr:dr.slice(0,1)},[zt,D]),Ir=(0,$s.zX)(function(dr){Dn(dr),k&&(dr===null||Sn.length!==dr.length||Sn.some(function(tr,pr){return!Gc(f,o,tr,dr[pr],ft)}))&&(k==null||k(D?dr:dr[0]))}),ur=(0,$s.zX)(function(dr){if(Z==null||Z(dr),wt===oe){var tr=D?ln(Sn,dr):[dr];Ir(tr)}}),Yn=(0,$s.C8)(j||Sn[0]||$t,{value:G}),qn=(0,Oe.Z)(Yn,2),Rn=qn[0],Jn=qn[1];s.useEffect(function(){Sn[0]&&!G&&Jn(Sn[0])},[Sn[0]]);var zr=function(tr,pr){ee==null||ee(tr||G,pr||wt)},li=function(tr){var pr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;Jn(tr),H==null||H(tr),pr&&zr(tr)},xi=function(tr,pr){pn(tr),pr&&li(pr),zr(pr,tr)},Di=function(tr){if(ur(tr),li(tr),wt!==oe){var pr=["decade","year"],Vn=[].concat(pr,["month"]),ri={quarter:[].concat(pr,["quarter"]),week:[].concat((0,xe.Z)(Vn),["week"]),date:[].concat((0,xe.Z)(Vn),["date"])},Oi=ri[oe]||Vn,ro=Oi.indexOf(wt),Xo=Oi[ro+1];Xo&&xi(Xo,tr)}},So=s.useMemo(function(){var dr,tr;if(Array.isArray(ue)){var pr=(0,Oe.Z)(ue,2);dr=pr[0],tr=pr[1]}else dr=ue;return!dr&&!tr?null:(dr=dr||tr,tr=tr||dr,f.isAfter(dr,tr)?[tr,dr]:[dr,tr])},[ue,f]),_i=ay(me,pe,ye),ai=Ie[Bn]||qb[Bn]||A0,gi=s.useContext(zf),Gi=s.useMemo(function(){return(0,X.Z)((0,X.Z)({},gi),{},{hideHeader:we})},[gi,we]),Pi="".concat(Be,"-panel"),wo=Xp(e,["showWeek","prevIcon","nextIcon","superPrevIcon","superNextIcon","disabledDate","minDate","maxDate","onHover"]);return s.createElement(zf.Provider,{value:Gi},s.createElement("div",{ref:Re,tabIndex:I,className:Y()(Pi,(0,he.Z)({},"".concat(Pi,"-rtl"),y==="rtl"))},s.createElement(ai,(0,Ze.Z)({},wo,{showTime:vt,prefixCls:Be,locale:_t,generateConfig:f,onModeChange:xi,pickerValue:Rn,onPickerValueChange:function(tr){li(tr,!0)},value:Sn[0],onSelect:Di,values:Sn,cellRender:_i,hoverRangeValue:So,hoverValue:se}))))}var ed=s.memo(s.forwardRef(Jb)),Am=ed;function Dm(e){var t=e.picker,a=e.multiplePanel,o=e.pickerValue,f=e.onPickerValueChange,y=e.needConfirm,C=e.onSubmit,w=e.range,I=e.hoverValue,D=s.useContext(zu),z=D.prefixCls,L=D.generateConfig,k=s.useCallback(function(ee,ie){return Om(L,t,ee,ie)},[L,t]),Z=s.useMemo(function(){return k(o,1)},[o,k]),j=function(ie){f(k(ie,-1))},G={onCellDblClick:function(){y&&C()}},H=t==="time",K=(0,X.Z)((0,X.Z)({},e),{},{hoverValue:null,hoverRangeValue:null,hideHeader:H});return w?K.hoverRangeValue=I:K.hoverValue=I,a?s.createElement("div",{className:"".concat(z,"-panels")},s.createElement(zf.Provider,{value:(0,X.Z)((0,X.Z)({},G),{},{hideNext:!0})},s.createElement(Am,K)),s.createElement(zf.Provider,{value:(0,X.Z)((0,X.Z)({},G),{},{hidePrev:!0})},s.createElement(Am,(0,Ze.Z)({},K,{pickerValue:Z,onPickerValueChange:j})))):s.createElement(zf.Provider,{value:(0,X.Z)({},G)},s.createElement(Am,K))}function ef(e){return typeof e=="function"?e():e}function Qb(e){var t=e.prefixCls,a=e.presets,o=e.onClick,f=e.onHover;return a.length?s.createElement("div",{className:"".concat(t,"-presets")},s.createElement("ul",null,a.map(function(y,C){var w=y.label,I=y.value;return s.createElement("li",{key:C,onClick:function(){o(ef(I))},onMouseEnter:function(){f(ef(I))},onMouseLeave:function(){f(null)}},w)}))):null}function by(e){var t=e.panelRender,a=e.internalMode,o=e.picker,f=e.showNow,y=e.range,C=e.multiple,w=e.activeInfo,I=w===void 0?[0,0,0]:w,D=e.presets,z=e.onPresetHover,L=e.onPresetSubmit,k=e.onFocus,Z=e.onBlur,j=e.onPanelMouseDown,G=e.direction,H=e.value,K=e.onSelect,ee=e.isInvalid,ie=e.defaultOpenValue,oe=e.onOk,re=e.onSubmit,se=s.useContext(zu),ue=se.prefixCls,me="".concat(ue,"-panel"),pe=G==="rtl",ye=s.useRef(null),Se=s.useRef(null),Ie=s.useState(0),we=(0,Oe.Z)(Ie,2),Be=we[0],Re=we[1],je=s.useState(0),Ne=(0,Oe.Z)(je,2),nt=Ne[0],at=Ne[1],Ct=s.useState(0),St=(0,Oe.Z)(Ct,2),_t=St[0],ft=St[1],vt=function(Di){Di.width&&Re(Di.width)},$t=(0,Oe.Z)(I,3),It=$t[0],Ft=$t[1],wt=$t[2],pn=s.useState(0),Bn=(0,Oe.Z)(pn,2),ln=Bn[0],Tn=Bn[1];s.useEffect(function(){Tn(10)},[It]),s.useEffect(function(){if(y&&Se.current){var xi,Di=((xi=ye.current)===null||xi===void 0?void 0:xi.offsetWidth)||0,So=Se.current.getBoundingClientRect();if(!So.height||So.right<0){Tn(function(Gi){return Math.max(0,Gi-1)});return}var _i=(pe?Ft-Di:It)-So.left;if(ft(_i),Be&&Be<wt){var ai=pe?So.right-(Ft-Di+Be):It+Di-So.left-Be,gi=Math.max(0,ai);at(gi)}else at(0)}},[ln,pe,Be,It,Ft,wt,y]);function Kt(xi){return xi.filter(function(Di){return Di})}var zt=s.useMemo(function(){return Kt(Rf(H))},[H]),Dn=o==="time"&&!zt.length,Sn=s.useMemo(function(){return Dn?Kt([ie]):zt},[Dn,zt,ie]),Ir=Dn?ie:zt,ur=s.useMemo(function(){return Sn.length?Sn.some(function(xi){return ee(xi)}):!0},[Sn,ee]),Yn=function(){Dn&&K(ie),oe(),re()},qn=s.createElement("div",{className:"".concat(ue,"-panel-layout")},s.createElement(Qb,{prefixCls:ue,presets:D,onClick:L,onHover:z}),s.createElement("div",null,s.createElement(Dm,(0,Ze.Z)({},e,{value:Ir})),s.createElement(gy,(0,Ze.Z)({},e,{showNow:C?!1:f,invalid:ur,onSubmit:Yn}))));t&&(qn=t(qn));var Rn="".concat(me,"-container"),Jn="marginLeft",zr="marginRight",li=s.createElement("div",{onMouseDown:j,tabIndex:-1,className:Y()(Rn,"".concat(ue,"-").concat(a,"-panel-container")),style:(0,he.Z)((0,he.Z)({},pe?zr:Jn,nt),pe?Jn:zr,"auto"),onFocus:k,onBlur:Z},qn);return y&&(li=s.createElement("div",{onMouseDown:j,ref:Se,className:Y()("".concat(ue,"-range-wrapper"),"".concat(ue,"-").concat(o,"-range-wrapper"))},s.createElement("div",{ref:ye,className:"".concat(ue,"-range-arrow"),style:{left:_t}}),s.createElement(c.Z,{onResize:vt},li))),li}function og(e,t){var a=e.format,o=e.maskFormat,f=e.generateConfig,y=e.locale,C=e.preserveInvalidOnBlur,w=e.inputReadOnly,I=e.required,D=e["aria-required"],z=e.onSubmit,L=e.onFocus,k=e.onBlur,Z=e.onInputChange,j=e.onInvalid,G=e.open,H=e.onOpenChange,K=e.onKeyDown,ee=e.onChange,ie=e.activeHelp,oe=e.name,re=e.autoComplete,se=e.id,ue=e.value,me=e.invalid,pe=e.placeholder,ye=e.disabled,Se=e.activeIndex,Ie=e.allHelp,we=e.picker,Be=function(_t,ft){var vt=f.locale.parse(y.locale,_t,[ft]);return vt&&f.isValidate(vt)?vt:null},Re=a[0],je=s.useCallback(function(St){return Oc(St,{locale:y,format:Re,generateConfig:f})},[y,f,Re]),Ne=s.useMemo(function(){return ue.map(je)},[ue,je]),nt=s.useMemo(function(){var St=we==="time"?8:10,_t=typeof Re=="function"?Re(f.getNow()).length:Re.length;return Math.max(St,_t)+2},[Re,we,f]),at=function(_t){for(var ft=0;ft<a.length;ft+=1){var vt=a[ft];if(typeof vt=="string"){var $t=Be(_t,vt);if($t)return $t}}return!1},Ct=function(_t){function ft(It){return _t!==void 0?It[_t]:It}var vt=(0,lt.Z)(e,{aria:!0,data:!0}),$t=(0,X.Z)((0,X.Z)({},vt),{},{format:o,validateFormat:function(Ft){return!!at(Ft)},preserveInvalidOnBlur:C,readOnly:w,required:I,"aria-required":D,name:oe,autoComplete:re,size:nt,id:ft(se),value:ft(Ne)||"",invalid:ft(me),placeholder:ft(pe),active:Se===_t,helped:Ie||ie&&Se===_t,disabled:ft(ye),onFocus:function(Ft){L(Ft,_t)},onBlur:function(Ft){k(Ft,_t)},onSubmit:z,onChange:function(Ft){Z();var wt=at(Ft);if(wt){j(!1,_t),ee(wt,_t);return}j(!!Ft,_t)},onHelp:function(){H(!0,{index:_t})},onKeyDown:function(Ft){var wt=!1;if(K==null||K(Ft,function(){wt=!0}),!Ft.defaultPrevented&&!wt)switch(Ft.key){case"Escape":H(!1,{index:_t});break;case"Enter":G||H(!0);break}}},t==null?void 0:t({valueTexts:Ne}));return Object.keys($t).forEach(function(It){$t[It]===void 0&&delete $t[It]}),$t};return[Ct,je]}var e1=["onMouseEnter","onMouseLeave"];function ag(e){return s.useMemo(function(){return Xp(e,e1)},[e])}var D0=["icon","type"],TC=["onClear"];function z0(e){var t=e.icon,a=e.type,o=(0,de.Z)(e,D0),f=s.useContext(zu),y=f.prefixCls;return t?s.createElement("span",(0,Ze.Z)({className:"".concat(y,"-").concat(a)},o),t):null}function xy(e){var t=e.onClear,a=(0,de.Z)(e,TC);return s.createElement(z0,(0,Ze.Z)({},a,{type:"clear",role:"button",onMouseDown:function(f){f.preventDefault()},onClick:function(f){f.stopPropagation(),t()}}))}var Nf=["YYYY","MM","DD","HH","mm","ss","SSS"],L0="\u9867",PC=function(){function e(t){(0,zn.Z)(this,e),(0,he.Z)(this,"format",void 0),(0,he.Z)(this,"maskFormat",void 0),(0,he.Z)(this,"cells",void 0),(0,he.Z)(this,"maskCells",void 0),this.format=t;var a=Nf.map(function(w){return"(".concat(w,")")}).join("|"),o=new RegExp(a,"g");this.maskFormat=t.replace(o,function(w){return L0.repeat(w.length)});var f=new RegExp("(".concat(Nf.join("|"),")")),y=(t.split(f)||[]).filter(function(w){return w}),C=0;this.cells=y.map(function(w){var I=Nf.includes(w),D=C,z=C+w.length;return C=z,{text:w,mask:I,start:D,end:z}}),this.maskCells=this.cells.filter(function(w){return w.mask})}return(0,dn.Z)(e,[{key:"getSelection",value:function(a){var o=this.maskCells[a]||{},f=o.start,y=o.end;return[f||0,y||0]}},{key:"match",value:function(a){for(var o=0;o<this.maskFormat.length;o+=1){var f=this.maskFormat[o],y=a[o];if(!y||f!==L0&&f!==y)return!1}return!0}},{key:"size",value:function(){return this.maskCells.length}},{key:"getMaskCellIndex",value:function(a){for(var o=Number.MAX_SAFE_INTEGER,f=0,y=0;y<this.maskCells.length;y+=1){var C=this.maskCells[y],w=C.start,I=C.end;if(a>=w&&a<=I)return y;var D=Math.min(Math.abs(a-w),Math.abs(a-I));D<o&&(o=D,f=y)}return f}}]),e}();function t1(e){var t={YYYY:[0,9999,new Date().getFullYear()],MM:[1,12],DD:[1,31],HH:[0,23],mm:[0,59],ss:[0,59],SSS:[0,999]};return t[e]}var Cy=["active","showActiveCls","suffixIcon","format","validateFormat","onChange","onInput","helped","onHelp","onSubmit","onKeyDown","preserveInvalidOnBlur","invalid","clearIcon"],OC=s.forwardRef(function(e,t){var a=e.active,o=e.showActiveCls,f=o===void 0?!0:o,y=e.suffixIcon,C=e.format,w=e.validateFormat,I=e.onChange,D=e.onInput,z=e.helped,L=e.onHelp,k=e.onSubmit,Z=e.onKeyDown,j=e.preserveInvalidOnBlur,G=j===void 0?!1:j,H=e.invalid,K=e.clearIcon,ee=(0,de.Z)(e,Cy),ie=e.value,oe=e.onFocus,re=e.onBlur,se=e.onMouseUp,ue=s.useContext(zu),me=ue.prefixCls,pe=ue.input,ye=pe===void 0?"input":pe,Se="".concat(me,"-input"),Ie=s.useState(!1),we=(0,Oe.Z)(Ie,2),Be=we[0],Re=we[1],je=s.useState(ie),Ne=(0,Oe.Z)(je,2),nt=Ne[0],at=Ne[1],Ct=s.useState(""),St=(0,Oe.Z)(Ct,2),_t=St[0],ft=St[1],vt=s.useState(null),$t=(0,Oe.Z)(vt,2),It=$t[0],Ft=$t[1],wt=s.useState(null),pn=(0,Oe.Z)(wt,2),Bn=pn[0],ln=pn[1],Tn=nt||"";s.useEffect(function(){at(ie)},[ie]);var Kt=s.useRef(),zt=s.useRef();s.useImperativeHandle(t,function(){return{nativeElement:Kt.current,inputElement:zt.current,focus:function(tr){zt.current.focus(tr)},blur:function(){zt.current.blur()}}});var Dn=s.useMemo(function(){return new PC(C||"")},[C]),Sn=s.useMemo(function(){return z?[0,0]:Dn.getSelection(It)},[Dn,It,z]),Ir=(0,Oe.Z)(Sn,2),ur=Ir[0],Yn=Ir[1],qn=function(tr){tr&&tr!==C&&tr!==ie&&L()},Rn=(0,$s.zX)(function(dr){w(dr)&&I(dr),at(dr),qn(dr)}),Jn=function(tr){if(!C){var pr=tr.target.value;qn(pr),at(pr),I(pr)}},zr=function(tr){var pr=tr.clipboardData.getData("text");w(pr)&&Rn(pr)},li=s.useRef(!1),xi=function(){li.current=!0},Di=function(tr){var pr=tr.target,Vn=pr.selectionStart,ri=Dn.getMaskCellIndex(Vn);Ft(ri),ln({}),se==null||se(tr),li.current=!1},So=function(tr){Re(!0),Ft(0),ft(""),oe(tr)},_i=function(tr){re(tr)},ai=function(tr){Re(!1),_i(tr)};Mh(a,function(){!a&&!G&&at(ie)});var gi=function(tr){tr.key==="Enter"&&w(Tn)&&k(),Z==null||Z(tr)},Gi=function(tr){gi(tr);var pr=tr.key,Vn=null,ri=null,Oi=Yn-ur,ro=C.slice(ur,Yn),Xo=function(Za){Ft(function(Ga){var pa=Ga+Za;return pa=Math.max(pa,0),pa=Math.min(pa,Dn.size()-1),pa})},$a=function(Za){var Ga=t1(ro),pa=(0,Oe.Z)(Ga,3),ts=pa[0],As=pa[1],bo=pa[2],Ko=Tn.slice(ur,Yn),Ra=Number(Ko);if(isNaN(Ra))return String(bo||(Za>0?ts:As));var Ka=Ra+Za,ss=As-ts+1;return String(ts+(ss+Ka-ts)%ss)};switch(pr){case"Backspace":case"Delete":Vn="",ri=ro;break;case"ArrowLeft":Vn="",Xo(-1);break;case"ArrowRight":Vn="",Xo(1);break;case"ArrowUp":Vn="",ri=$a(1);break;case"ArrowDown":Vn="",ri=$a(-1);break;default:isNaN(Number(pr))||(Vn=_t+pr,ri=Vn);break}if(Vn!==null&&(ft(Vn),Vn.length>=Oi&&(Xo(1),ft(""))),ri!==null){var ta=Tn.slice(0,ur)+x0(ri,Oi)+Tn.slice(Yn);Rn(ta.slice(0,C.length))}ln({})},Pi=s.useRef();(0,hl.Z)(function(){if(!(!Be||!C||li.current)){if(!Dn.match(Tn)){Rn(C);return}return zt.current.setSelectionRange(ur,Yn),Pi.current=(0,We.Z)(function(){zt.current.setSelectionRange(ur,Yn)}),function(){We.Z.cancel(Pi.current)}}},[Dn,C,Be,Tn,It,ur,Yn,Bn,Rn]);var wo=C?{onFocus:So,onBlur:ai,onKeyDown:Gi,onMouseDown:xi,onMouseUp:Di,onPaste:zr}:{};return s.createElement("div",{ref:Kt,className:Y()(Se,(0,he.Z)((0,he.Z)({},"".concat(Se,"-active"),a&&f),"".concat(Se,"-placeholder"),z))},s.createElement(ye,(0,Ze.Z)({ref:zt,"aria-invalid":H,autoComplete:"off"},ee,{onKeyDown:gi,onBlur:_i},wo,{value:Tn,onChange:Jn})),s.createElement(z0,{type:"suffix",icon:y}),K)}),Rh=OC,Bf=["id","prefix","clearIcon","suffixIcon","separator","activeIndex","activeHelp","allHelp","focused","onFocus","onBlur","onKeyDown","locale","generateConfig","placeholder","className","style","onClick","onClear","value","onChange","onSubmit","onInputChange","format","maskFormat","preserveInvalidOnBlur","onInvalid","disabled","invalid","inputReadOnly","direction","onOpenChange","onActiveInfo","placement","onMouseDown","required","aria-required","autoFocus","tabIndex"],n1=["index"];function r1(e,t){var a=e.id,o=e.prefix,f=e.clearIcon,y=e.suffixIcon,C=e.separator,w=C===void 0?"~":C,I=e.activeIndex,D=e.activeHelp,z=e.allHelp,L=e.focused,k=e.onFocus,Z=e.onBlur,j=e.onKeyDown,G=e.locale,H=e.generateConfig,K=e.placeholder,ee=e.className,ie=e.style,oe=e.onClick,re=e.onClear,se=e.value,ue=e.onChange,me=e.onSubmit,pe=e.onInputChange,ye=e.format,Se=e.maskFormat,Ie=e.preserveInvalidOnBlur,we=e.onInvalid,Be=e.disabled,Re=e.invalid,je=e.inputReadOnly,Ne=e.direction,nt=e.onOpenChange,at=e.onActiveInfo,Ct=e.placement,St=e.onMouseDown,_t=e.required,ft=e["aria-required"],vt=e.autoFocus,$t=e.tabIndex,It=(0,de.Z)(e,Bf),Ft=Ne==="rtl",wt=s.useContext(zu),pn=wt.prefixCls,Bn=s.useMemo(function(){if(typeof a=="string")return[a];var _i=a||{};return[_i.start,_i.end]},[a]),ln=s.useRef(),Tn=s.useRef(),Kt=s.useRef(),zt=function(ai){var gi;return(gi=[Tn,Kt][ai])===null||gi===void 0?void 0:gi.current};s.useImperativeHandle(t,function(){return{nativeElement:ln.current,focus:function(ai){if((0,Ye.Z)(ai)==="object"){var gi,Gi=ai||{},Pi=Gi.index,wo=Pi===void 0?0:Pi,dr=(0,de.Z)(Gi,n1);(gi=zt(wo))===null||gi===void 0||gi.focus(dr)}else{var tr;(tr=zt(ai!=null?ai:0))===null||tr===void 0||tr.focus()}},blur:function(){var ai,gi;(ai=zt(0))===null||ai===void 0||ai.blur(),(gi=zt(1))===null||gi===void 0||gi.blur()}}});var Dn=ag(It),Sn=s.useMemo(function(){return Array.isArray(K)?K:[K,K]},[K]),Ir=og((0,X.Z)((0,X.Z)({},e),{},{id:Bn,placeholder:Sn})),ur=(0,Oe.Z)(Ir,1),Yn=ur[0],qn=s.useState({position:"absolute",width:0}),Rn=(0,Oe.Z)(qn,2),Jn=Rn[0],zr=Rn[1],li=(0,$s.zX)(function(){var _i=zt(I);if(_i){var ai=_i.nativeElement.getBoundingClientRect(),gi=ln.current.getBoundingClientRect(),Gi=ai.left-gi.left;zr(function(Pi){return(0,X.Z)((0,X.Z)({},Pi),{},{width:ai.width,left:Gi})}),at([ai.left,ai.right,gi.width])}});s.useEffect(function(){li()},[I]);var xi=f&&(se[0]&&!Be[0]||se[1]&&!Be[1]),Di=vt&&!Be[0],So=vt&&!Di&&!Be[1];return s.createElement(c.Z,{onResize:li},s.createElement("div",(0,Ze.Z)({},Dn,{className:Y()(pn,"".concat(pn,"-range"),(0,he.Z)((0,he.Z)((0,he.Z)((0,he.Z)({},"".concat(pn,"-focused"),L),"".concat(pn,"-disabled"),Be.every(function(_i){return _i})),"".concat(pn,"-invalid"),Re.some(function(_i){return _i})),"".concat(pn,"-rtl"),Ft),ee),style:ie,ref:ln,onClick:oe,onMouseDown:function(ai){var gi=ai.target;gi!==Tn.current.inputElement&&gi!==Kt.current.inputElement&&ai.preventDefault(),St==null||St(ai)}}),o&&s.createElement("div",{className:"".concat(pn,"-prefix")},o),s.createElement(Rh,(0,Ze.Z)({ref:Tn},Yn(0),{autoFocus:Di,tabIndex:$t,"date-range":"start"})),s.createElement("div",{className:"".concat(pn,"-range-separator")},w),s.createElement(Rh,(0,Ze.Z)({ref:Kt},Yn(1),{autoFocus:So,tabIndex:$t,"date-range":"end"})),s.createElement("div",{className:"".concat(pn,"-active-bar"),style:Jn}),s.createElement(z0,{type:"suffix",icon:y}),xi&&s.createElement(xy,{icon:f,onClear:re})))}var N0=s.forwardRef(r1),Sy=N0;function i1(e,t){var a=e!=null?e:t;return Array.isArray(a)?a:[a,a]}function sg(e){return e===1?"end":"start"}function lg(e,t){var a=O0(e,function(){var ca=e.disabled,La=e.allowEmpty,fs=i1(ca,!1),zs=i1(La,!1);return{disabled:fs,allowEmpty:zs}}),o=(0,Oe.Z)(a,6),f=o[0],y=o[1],C=o[2],w=o[3],I=o[4],D=o[5],z=f.prefixCls,L=f.styles,k=f.classNames,Z=f.defaultValue,j=f.value,G=f.needConfirm,H=f.onKeyDown,K=f.disabled,ee=f.allowEmpty,ie=f.disabledDate,oe=f.minDate,re=f.maxDate,se=f.defaultOpen,ue=f.open,me=f.onOpenChange,pe=f.locale,ye=f.generateConfig,Se=f.picker,Ie=f.showNow,we=f.showToday,Be=f.showTime,Re=f.mode,je=f.onPanelChange,Ne=f.onCalendarChange,nt=f.onOk,at=f.defaultPickerValue,Ct=f.pickerValue,St=f.onPickerValueChange,_t=f.inputReadOnly,ft=f.suffixIcon,vt=f.onFocus,$t=f.onBlur,It=f.presets,Ft=f.ranges,wt=f.components,pn=f.cellRender,Bn=f.dateRender,ln=f.monthCellRender,Tn=f.onClick,Kt=Bb(t),zt=Ih(ue,se,K,me),Dn=(0,Oe.Z)(zt,2),Sn=Dn[0],Ir=Dn[1],ur=function(La,fs){(K.some(function(zs){return!zs})||!La)&&Ir(La,fs)},Yn=jb(ye,pe,w,!0,!1,Z,j,Ne,nt),qn=(0,Oe.Z)(Yn,5),Rn=qn[0],Jn=qn[1],zr=qn[2],li=qn[3],xi=qn[4],Di=zr(),So=kb(K,ee,Sn),_i=(0,Oe.Z)(So,9),ai=_i[0],gi=_i[1],Gi=_i[2],Pi=_i[3],wo=_i[4],dr=_i[5],tr=_i[6],pr=_i[7],Vn=_i[8],ri=function(La,fs){gi(!0),vt==null||vt(La,{range:sg(fs!=null?fs:Pi)})},Oi=function(La,fs){gi(!1),$t==null||$t(La,{range:sg(fs!=null?fs:Pi)})},ro=s.useMemo(function(){if(!Be)return null;var ca=Be.disabledTime,La=ca?function(fs){var zs=sg(Pi),hc=Rb(Di,tr,Pi);return ca(fs,zs,{from:hc})}:void 0;return(0,X.Z)((0,X.Z)({},Be),{},{disabledTime:La})},[Be,Pi,Di,tr]),Xo=(0,$s.C8)([Se,Se],{value:Re}),$a=(0,Oe.Z)(Xo,2),ta=$a[0],Cs=$a[1],Za=ta[Pi]||Se,Ga=Za==="date"&&ro?"datetime":Za,pa=Ga===Se&&Ga!=="time",ts=Vb(Se,Za,Ie,we,!0),As=Zb(f,Rn,Jn,zr,li,K,w,ai,Sn,D),bo=(0,Oe.Z)(As,2),Ko=bo[0],Ra=bo[1],Ka=EC(Di,K,tr,ye,pe,ie),ss=Ab(Di,D,ee),ll=(0,Oe.Z)(ss,2),Rl=ll[0],yl=ll[1],Xl=hy(ye,pe,Di,ta,Sn,Pi,y,pa,at,Ct,ro==null?void 0:ro.defaultOpenValue,St,oe,re),ma=(0,Oe.Z)(Xl,2),Vo=ma[0],Ho=ma[1],Do=(0,$s.zX)(function(ca,La,fs){var zs=qd(ta,Pi,La);if((zs[0]!==ta[0]||zs[1]!==ta[1])&&Cs(zs),je&&fs!==!1){var hc=(0,xe.Z)(Di);ca&&(hc[Pi]=ca),je(hc,zs)}}),ls=function(La,fs){return qd(Di,fs,La)},Ds=function(La,fs){var zs=Di;La&&(zs=ls(La,Pi)),pr(Pi);var hc=dr(zs);li(zs),Ko(Pi,hc===null),hc===null?ur(!1,{force:!0}):fs||Kt.current.focus({index:hc})},ka=function(La){var fs,zs=La.target.getRootNode();if(!Kt.current.nativeElement.contains((fs=zs.activeElement)!==null&&fs!==void 0?fs:document.activeElement)){var hc=K.findIndex(function(qh){return!qh});hc>=0&&Kt.current.focus({index:hc})}ur(!0),Tn==null||Tn(La)},ba=function(){Ra(null),ur(!1,{force:!0})},gs=s.useState(null),vs=(0,Oe.Z)(gs,2),Ys=vs[0],va=vs[1],Lo=s.useState(null),Aa=(0,Oe.Z)(Lo,2),ds=Aa[0],Bs=Aa[1],qs=s.useMemo(function(){return ds||Di},[Di,ds]);s.useEffect(function(){Sn||Bs(null)},[Sn]);var rc=s.useState([0,0,0]),Js=(0,Oe.Z)(rc,2),Da=Js[0],cs=Js[1],Ss=Fb(It,Ft),$l=function(La){Bs(La),va("preset")},Fu=function(La){var fs=Ra(La);fs&&ur(!1,{force:!0})},Kh=function(La){Ds(La)},ip=function(La){Bs(La?ls(La,Pi):null),va("cell")},op=function(La){ur(!0),ri(La)},Kf=function(){Gi("panel")},Xh=function(La){var fs=qd(Di,Pi,La);li(fs),!G&&!C&&y===Ga&&Ds(La)},Yh=function(){ur(!1)},ap=ay(pn,Bn,ln,sg(Pi)),Ml=Di[Pi]||null,Qs=(0,$s.zX)(function(ca){return D(ca,{activeIndex:Pi})}),wa=s.useMemo(function(){var ca=(0,lt.Z)(f,!1),La=(0,ci.Z)(f,[].concat((0,xe.Z)(Object.keys(ca)),["onChange","onCalendarChange","style","className","onPanelChange","disabledTime"]));return La},[f]),Va=s.createElement(by,(0,Ze.Z)({},wa,{showNow:ts,showTime:ro,range:!0,multiplePanel:pa,activeInfo:Da,disabledDate:Ka,onFocus:op,onBlur:Oi,onPanelMouseDown:Kf,picker:Se,mode:Za,internalMode:Ga,onPanelChange:Do,format:I,value:Ml,isInvalid:Qs,onChange:null,onSelect:Xh,pickerValue:Vo,defaultOpenValue:Rf(Be==null?void 0:Be.defaultOpenValue)[Pi],onPickerValueChange:Ho,hoverValue:qs,onHover:ip,needConfirm:G,onSubmit:Ds,onOk:xi,presets:Ss,onPresetHover:$l,onPresetSubmit:Fu,onNow:Kh,cellRender:ap})),pl=function(La,fs){var zs=ls(La,fs);li(zs)},kc=function(){Gi("input")},rf=function(La,fs){var zs=tr.length,hc=tr[zs-1];if(zs&&hc!==fs&&G&&!ee[hc]&&!Vn(hc)&&Di[hc]){Kt.current.focus({index:hc});return}Gi("input"),ur(!0,{inherit:!0}),Pi!==fs&&Sn&&!G&&C&&Ds(null,!0),wo(fs),ri(La,fs)},Fg=function(La,fs){if(ur(!1),!G&&Gi()==="input"){var zs=dr(Di);Ko(Pi,zs===null)}Oi(La,fs)},kg=function(La,fs){La.key==="Tab"&&Ds(null,!0),H==null||H(La,fs)},Ev=s.useMemo(function(){return{prefixCls:z,locale:pe,generateConfig:ye,button:wt.button,input:wt.input}},[z,pe,ye,wt.button,wt.input]);if((0,hl.Z)(function(){Sn&&Pi!==void 0&&Do(null,Se,!1)},[Sn,Pi,Se]),(0,hl.Z)(function(){var ca=Gi();!Sn&&ca==="input"&&(ur(!1),Ds(null,!0)),!Sn&&C&&!G&&ca==="panel"&&(ur(!0),Ds())},[Sn]),0)var ws;return s.createElement(zu.Provider,{value:Ev},s.createElement(Ob,(0,Ze.Z)({},$b(f),{popupElement:Va,popupStyle:L.popup,popupClassName:k.popup,visible:Sn,onClose:Yh,range:!0}),s.createElement(Sy,(0,Ze.Z)({},f,{ref:Kt,suffixIcon:ft,activeIndex:ai||Sn?Pi:null,activeHelp:!!ds,allHelp:!!ds&&Ys==="preset",focused:ai,onFocus:rf,onBlur:Fg,onKeyDown:kg,onSubmit:Ds,value:qs,maskFormat:I,onChange:pl,onInputChange:kc,format:w,inputReadOnly:_t,disabled:K,open:Sn,onOpenChange:ur,onClick:ka,onClear:ba,invalid:Rl,onInvalid:yl,onActiveInfo:cs}))))}var o1=s.forwardRef(lg),RC=o1;function Ff(e){var t=e.prefixCls,a=e.value,o=e.onRemove,f=e.removeIcon,y=f===void 0?"\xD7":f,C=e.formatDate,w=e.disabled,I=e.maxTagCount,D=e.placeholder,z="".concat(t,"-selector"),L="".concat(t,"-selection"),k="".concat(L,"-overflow");function Z(H,K){return s.createElement("span",{className:Y()("".concat(L,"-item")),title:typeof H=="string"?H:null},s.createElement("span",{className:"".concat(L,"-item-content")},H),!w&&K&&s.createElement("span",{onMouseDown:function(ie){ie.preventDefault()},onClick:K,className:"".concat(L,"-item-remove")},y))}function j(H){var K=C(H),ee=function(oe){oe&&oe.stopPropagation(),o(H)};return Z(K,ee)}function G(H){var K="+ ".concat(H.length," ...");return Z(K)}return s.createElement("div",{className:z},s.createElement(Dc.Z,{prefixCls:k,data:a,renderItem:j,renderRest:G,itemKey:function(K){return C(K)},maxCount:I}),!a.length&&s.createElement("span",{className:"".concat(t,"-selection-placeholder")},D))}var $C=["id","open","prefix","clearIcon","suffixIcon","activeHelp","allHelp","focused","onFocus","onBlur","onKeyDown","locale","generateConfig","placeholder","className","style","onClick","onClear","internalPicker","value","onChange","onSubmit","onInputChange","multiple","maxTagCount","format","maskFormat","preserveInvalidOnBlur","onInvalid","disabled","invalid","inputReadOnly","direction","onOpenChange","onMouseDown","required","aria-required","autoFocus","tabIndex","removeIcon"];function cg(e,t){var a=e.id,o=e.open,f=e.prefix,y=e.clearIcon,C=e.suffixIcon,w=e.activeHelp,I=e.allHelp,D=e.focused,z=e.onFocus,L=e.onBlur,k=e.onKeyDown,Z=e.locale,j=e.generateConfig,G=e.placeholder,H=e.className,K=e.style,ee=e.onClick,ie=e.onClear,oe=e.internalPicker,re=e.value,se=e.onChange,ue=e.onSubmit,me=e.onInputChange,pe=e.multiple,ye=e.maxTagCount,Se=e.format,Ie=e.maskFormat,we=e.preserveInvalidOnBlur,Be=e.onInvalid,Re=e.disabled,je=e.invalid,Ne=e.inputReadOnly,nt=e.direction,at=e.onOpenChange,Ct=e.onMouseDown,St=e.required,_t=e["aria-required"],ft=e.autoFocus,vt=e.tabIndex,$t=e.removeIcon,It=(0,de.Z)(e,$C),Ft=nt==="rtl",wt=s.useContext(zu),pn=wt.prefixCls,Bn=s.useRef(),ln=s.useRef();s.useImperativeHandle(t,function(){return{nativeElement:Bn.current,focus:function(Jn){var zr;(zr=ln.current)===null||zr===void 0||zr.focus(Jn)},blur:function(){var Jn;(Jn=ln.current)===null||Jn===void 0||Jn.blur()}}});var Tn=ag(It),Kt=function(Jn){se([Jn])},zt=function(Jn){var zr=re.filter(function(li){return li&&!Gc(j,Z,li,Jn,oe)});se(zr),o||ue()},Dn=og((0,X.Z)((0,X.Z)({},e),{},{onChange:Kt}),function(Rn){var Jn=Rn.valueTexts;return{value:Jn[0]||"",active:D}}),Sn=(0,Oe.Z)(Dn,2),Ir=Sn[0],ur=Sn[1],Yn=!!(y&&re.length&&!Re),qn=pe?s.createElement(s.Fragment,null,s.createElement(Ff,{prefixCls:pn,value:re,onRemove:zt,formatDate:ur,maxTagCount:ye,disabled:Re,removeIcon:$t,placeholder:G}),s.createElement("input",{className:"".concat(pn,"-multiple-input"),value:re.map(ur).join(","),ref:ln,readOnly:!0,autoFocus:ft,tabIndex:vt}),s.createElement(z0,{type:"suffix",icon:C}),Yn&&s.createElement(xy,{icon:y,onClear:ie})):s.createElement(Rh,(0,Ze.Z)({ref:ln},Ir(),{autoFocus:ft,tabIndex:vt,suffixIcon:C,clearIcon:Yn&&s.createElement(xy,{icon:y,onClear:ie}),showActiveCls:!1}));return s.createElement("div",(0,Ze.Z)({},Tn,{className:Y()(pn,(0,he.Z)((0,he.Z)((0,he.Z)((0,he.Z)((0,he.Z)({},"".concat(pn,"-multiple"),pe),"".concat(pn,"-focused"),D),"".concat(pn,"-disabled"),Re),"".concat(pn,"-invalid"),je),"".concat(pn,"-rtl"),Ft),H),style:K,ref:Bn,onClick:ee,onMouseDown:function(Jn){var zr,li=Jn.target;li!==((zr=ln.current)===null||zr===void 0?void 0:zr.inputElement)&&Jn.preventDefault(),Ct==null||Ct(Jn)}}),f&&s.createElement("div",{className:"".concat(pn,"-prefix")},f),qn)}var ug=s.forwardRef(cg),dg=ug;function fg(e,t){var a=O0(e),o=(0,Oe.Z)(a,6),f=o[0],y=o[1],C=o[2],w=o[3],I=o[4],D=o[5],z=f,L=z.prefixCls,k=z.styles,Z=z.classNames,j=z.order,G=z.defaultValue,H=z.value,K=z.needConfirm,ee=z.onChange,ie=z.onKeyDown,oe=z.disabled,re=z.disabledDate,se=z.minDate,ue=z.maxDate,me=z.defaultOpen,pe=z.open,ye=z.onOpenChange,Se=z.locale,Ie=z.generateConfig,we=z.picker,Be=z.showNow,Re=z.showToday,je=z.showTime,Ne=z.mode,nt=z.onPanelChange,at=z.onCalendarChange,Ct=z.onOk,St=z.multiple,_t=z.defaultPickerValue,ft=z.pickerValue,vt=z.onPickerValueChange,$t=z.inputReadOnly,It=z.suffixIcon,Ft=z.removeIcon,wt=z.onFocus,pn=z.onBlur,Bn=z.presets,ln=z.components,Tn=z.cellRender,Kt=z.dateRender,zt=z.monthCellRender,Dn=z.onClick,Sn=Bb(t);function Ir(wa){return wa===null?null:St?wa:wa[0]}var ur=Qp(Ie,Se,y),Yn=Ih(pe,me,[oe],ye),qn=(0,Oe.Z)(Yn,2),Rn=qn[0],Jn=qn[1],zr=function(Va,pl,kc){if(at){var rf=(0,X.Z)({},kc);delete rf.range,at(Ir(Va),Ir(pl),rf)}},li=function(Va){Ct==null||Ct(Ir(Va))},xi=jb(Ie,Se,w,!1,j,G,H,zr,li),Di=(0,Oe.Z)(xi,5),So=Di[0],_i=Di[1],ai=Di[2],gi=Di[3],Gi=Di[4],Pi=ai(),wo=kb([oe]),dr=(0,Oe.Z)(wo,4),tr=dr[0],pr=dr[1],Vn=dr[2],ri=dr[3],Oi=function(Va){pr(!0),wt==null||wt(Va,{})},ro=function(Va){pr(!1),pn==null||pn(Va,{})},Xo=(0,$s.C8)(we,{value:Ne}),$a=(0,Oe.Z)(Xo,2),ta=$a[0],Cs=$a[1],Za=ta==="date"&&je?"datetime":ta,Ga=Vb(we,ta,Be,Re),pa=ee&&function(wa,Va){ee(Ir(wa),Ir(Va))},ts=Zb((0,X.Z)((0,X.Z)({},f),{},{onChange:pa}),So,_i,ai,gi,[],w,tr,Rn,D),As=(0,Oe.Z)(ts,2),bo=As[1],Ko=Ab(Pi,D),Ra=(0,Oe.Z)(Ko,2),Ka=Ra[0],ss=Ra[1],ll=s.useMemo(function(){return Ka.some(function(wa){return wa})},[Ka]),Rl=function(Va,pl){if(vt){var kc=(0,X.Z)((0,X.Z)({},pl),{},{mode:pl.mode[0]});delete kc.range,vt(Va[0],kc)}},yl=hy(Ie,Se,Pi,[ta],Rn,ri,y,!1,_t,ft,Rf(je==null?void 0:je.defaultOpenValue),Rl,se,ue),Xl=(0,Oe.Z)(yl,2),ma=Xl[0],Vo=Xl[1],Ho=(0,$s.zX)(function(wa,Va,pl){if(Cs(Va),nt&&pl!==!1){var kc=wa||Pi[Pi.length-1];nt(kc,Va)}}),Do=function(){bo(ai()),Jn(!1,{force:!0})},ls=function(Va){!oe&&!Sn.current.nativeElement.contains(document.activeElement)&&Sn.current.focus(),Jn(!0),Dn==null||Dn(Va)},Ds=function(){bo(null),Jn(!1,{force:!0})},ka=s.useState(null),ba=(0,Oe.Z)(ka,2),gs=ba[0],vs=ba[1],Ys=s.useState(null),va=(0,Oe.Z)(Ys,2),Lo=va[0],Aa=va[1],ds=s.useMemo(function(){var wa=[Lo].concat((0,xe.Z)(Pi)).filter(function(Va){return Va});return St?wa:wa.slice(0,1)},[Pi,Lo,St]),Bs=s.useMemo(function(){return!St&&Lo?[Lo]:Pi.filter(function(wa){return wa})},[Pi,Lo,St]);s.useEffect(function(){Rn||Aa(null)},[Rn]);var qs=Fb(Bn),rc=function(Va){Aa(Va),vs("preset")},Js=function(Va){var pl=St?ur(ai(),Va):[Va],kc=bo(pl);kc&&!St&&Jn(!1,{force:!0})},Da=function(Va){Js(Va)},cs=function(Va){Aa(Va),vs("cell")},Ss=function(Va){Jn(!0),Oi(Va)},$l=function(Va){if(Vn("panel"),!(St&&Za!==we)){var pl=St?ur(ai(),Va):[Va];gi(pl),!K&&!C&&y===Za&&Do()}},Fu=function(){Jn(!1)},Kh=ay(Tn,Kt,zt),ip=s.useMemo(function(){var wa=(0,lt.Z)(f,!1),Va=(0,ci.Z)(f,[].concat((0,xe.Z)(Object.keys(wa)),["onChange","onCalendarChange","style","className","onPanelChange"]));return(0,X.Z)((0,X.Z)({},Va),{},{multiple:f.multiple})},[f]),op=s.createElement(by,(0,Ze.Z)({},ip,{showNow:Ga,showTime:je,disabledDate:re,onFocus:Ss,onBlur:ro,picker:we,mode:ta,internalMode:Za,onPanelChange:Ho,format:I,value:Pi,isInvalid:D,onChange:null,onSelect:$l,pickerValue:ma,defaultOpenValue:je==null?void 0:je.defaultOpenValue,onPickerValueChange:Vo,hoverValue:ds,onHover:cs,needConfirm:K,onSubmit:Do,onOk:Gi,presets:qs,onPresetHover:rc,onPresetSubmit:Js,onNow:Da,cellRender:Kh})),Kf=function(Va){gi(Va)},Xh=function(){Vn("input")},Yh=function(Va){Vn("input"),Jn(!0,{inherit:!0}),Oi(Va)},ap=function(Va){Jn(!1),ro(Va)},Ml=function(Va,pl){Va.key==="Tab"&&Do(),ie==null||ie(Va,pl)},Qs=s.useMemo(function(){return{prefixCls:L,locale:Se,generateConfig:Ie,button:ln.button,input:ln.input}},[L,Se,Ie,ln.button,ln.input]);return(0,hl.Z)(function(){Rn&&ri!==void 0&&Ho(null,we,!1)},[Rn,ri,we]),(0,hl.Z)(function(){var wa=Vn();!Rn&&wa==="input"&&(Jn(!1),Do()),!Rn&&C&&!K&&wa==="panel"&&Do()},[Rn]),s.createElement(zu.Provider,{value:Qs},s.createElement(Ob,(0,Ze.Z)({},$b(f),{popupElement:op,popupStyle:k.popup,popupClassName:Z.popup,visible:Rn,onClose:Fu}),s.createElement(dg,(0,Ze.Z)({},f,{ref:Sn,suffixIcon:It,removeIcon:Ft,activeHelp:!!Lo,allHelp:!!Lo&&gs==="preset",focused:tr,onFocus:Yh,onBlur:ap,onKeyDown:Ml,onSubmit:Do,value:Bs,maskFormat:I,onChange:Kf,onInputChange:Xh,internalPicker:y,format:w,inputReadOnly:$t,disabled:oe,open:Rn,onOpenChange:Jn,onClick:ls,onClear:Ds,invalid:ll,onInvalid:function(Va){ss(Va,0)}}))))}var B0=s.forwardRef(fg),AC=B0,DC=AC,$c=F(60824),F0=F(63374),a1=F(47944);const s1=10,l1=20;function zC(e){const{fullscreen:t,validRange:a,generateConfig:o,locale:f,prefixCls:y,value:C,onChange:w,divRef:I}=e,D=o.getYear(C||o.getNow());let z=D-s1,L=z+l1;a&&(z=o.getYear(a[0]),L=o.getYear(a[1])+1);const k=f&&f.year==="\u5E74"?"\u5E74":"",Z=[];for(let j=z;j<L;j++)Z.push({label:`${j}${k}`,value:j});return s.createElement(gu.default,{size:t?void 0:"small",options:Z,value:D,className:`${y}-year-select`,onChange:j=>{let G=o.setYear(C,j);if(a){const[H,K]=a,ee=o.getYear(G),ie=o.getMonth(G);ee===o.getYear(K)&&ie>o.getMonth(K)&&(G=o.setMonth(G,o.getMonth(K))),ee===o.getYear(H)&&ie<o.getMonth(H)&&(G=o.setMonth(G,o.getMonth(H)))}w(G)},getPopupContainer:()=>I.current})}function c1(e){const{prefixCls:t,fullscreen:a,validRange:o,value:f,generateConfig:y,locale:C,onChange:w,divRef:I}=e,D=y.getMonth(f||y.getNow());let z=0,L=11;if(o){const[j,G]=o,H=y.getYear(f);y.getYear(G)===H&&(L=y.getMonth(G)),y.getYear(j)===H&&(z=y.getMonth(j))}const k=C.shortMonths||y.locale.getShortMonths(C.locale),Z=[];for(let j=z;j<=L;j+=1)Z.push({label:k[j],value:j});return s.createElement(gu.default,{size:a?void 0:"small",className:`${t}-month-select`,value:D,options:Z,onChange:j=>{w(y.setMonth(f,j))},getPopupContainer:()=>I.current})}function LC(e){const{prefixCls:t,locale:a,mode:o,fullscreen:f,onModeChange:y}=e;return s.createElement(F0.Z,{onChange:C=>{let{target:{value:w}}=C;y(w)},value:o,size:f?void 0:"small",className:`${t}-mode-switch`},s.createElement(a1.Z,{value:"month"},a.month),s.createElement(a1.Z,{value:"year"},a.year))}function u1(e){const{prefixCls:t,fullscreen:a,mode:o,onChange:f,onModeChange:y}=e,C=s.useRef(null),w=(0,s.useContext)($c.aM),I=(0,s.useMemo)(()=>Object.assign(Object.assign({},w),{isFormItemInput:!1}),[w]),D=Object.assign(Object.assign({},e),{fullscreen:a,divRef:C});return s.createElement("div",{className:`${t}-header`,ref:C},s.createElement($c.aM.Provider,{value:I},s.createElement(zC,Object.assign({},D,{onChange:z=>{f(z,"year")}})),o==="month"&&s.createElement(c1,Object.assign({},D,{onChange:z=>{f(z,"month")}}))),s.createElement(LC,Object.assign({},D,{onModeChange:y})))}var NC=u1,d1=F(40859);const BC=e=>{const{pickerCellCls:t,pickerCellInnerCls:a,cellHeight:o,borderRadiusSM:f,motionDurationMid:y,cellHoverBg:C,lineWidth:w,lineType:I,colorPrimary:D,cellActiveWithRangeBg:z,colorTextLightSolid:L,colorTextDisabled:k,cellBgDisabled:Z,colorFillSecondary:j}=e;return{"&::before":{position:"absolute",top:"50%",insetInlineStart:0,insetInlineEnd:0,zIndex:1,height:o,transform:"translateY(-50%)",content:'""',pointerEvents:"none"},[a]:{position:"relative",zIndex:2,display:"inline-block",minWidth:o,height:o,lineHeight:(0,fe.bf)(o),borderRadius:f,transition:`background ${y}`},[`&:hover:not(${t}-in-view):not(${t}-disabled),
    &:hover:not(${t}-selected):not(${t}-range-start):not(${t}-range-end):not(${t}-disabled)`]:{[a]:{background:C}},[`&-in-view${t}-today ${a}`]:{"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:1,border:`${(0,fe.bf)(w)} ${I} ${D}`,borderRadius:f,content:'""'}},[`&-in-view${t}-in-range,
      &-in-view${t}-range-start,
      &-in-view${t}-range-end`]:{position:"relative",[`&:not(${t}-disabled):before`]:{background:z}},[`&-in-view${t}-selected,
      &-in-view${t}-range-start,
      &-in-view${t}-range-end`]:{[`&:not(${t}-disabled) ${a}`]:{color:L,background:D},[`&${t}-disabled ${a}`]:{background:j}},[`&-in-view${t}-range-start:not(${t}-disabled):before`]:{insetInlineStart:"50%"},[`&-in-view${t}-range-end:not(${t}-disabled):before`]:{insetInlineEnd:"50%"},[`&-in-view${t}-range-start:not(${t}-range-end) ${a}`]:{borderStartStartRadius:f,borderEndStartRadius:f,borderStartEndRadius:0,borderEndEndRadius:0},[`&-in-view${t}-range-end:not(${t}-range-start) ${a}`]:{borderStartStartRadius:0,borderEndStartRadius:0,borderStartEndRadius:f,borderEndEndRadius:f},"&-disabled":{color:k,cursor:"not-allowed",[a]:{background:"transparent"},"&::before":{background:Z}},[`&-disabled${t}-today ${a}::before`]:{borderColor:k}}},f1=e=>{const{componentCls:t,pickerCellCls:a,pickerCellInnerCls:o,pickerYearMonthCellWidth:f,pickerControlIconSize:y,cellWidth:C,paddingSM:w,paddingXS:I,paddingXXS:D,colorBgContainer:z,lineWidth:L,lineType:k,borderRadiusLG:Z,colorPrimary:j,colorTextHeading:G,colorSplit:H,pickerControlIconBorderWidth:K,colorIcon:ee,textHeight:ie,motionDurationMid:oe,colorIconHover:re,fontWeightStrong:se,cellHeight:ue,pickerCellPaddingVertical:me,colorTextDisabled:pe,colorText:ye,fontSize:Se,motionDurationSlow:Ie,withoutTimeCellHeight:we,pickerQuarterPanelContentHeight:Be,borderRadiusSM:Re,colorTextLightSolid:je,cellHoverBg:Ne,timeColumnHeight:nt,timeColumnWidth:at,timeCellHeight:Ct,controlItemBgActive:St,marginXXS:_t,pickerDatePanelPaddingHorizontal:ft,pickerControlIconMargin:vt}=e,$t=e.calc(C).mul(7).add(e.calc(ft).mul(2)).equal();return{[t]:{"&-panel":{display:"inline-flex",flexDirection:"column",textAlign:"center",background:z,borderRadius:Z,outline:"none","&-focused":{borderColor:j},"&-rtl":{[`${t}-prev-icon,
              ${t}-super-prev-icon`]:{transform:"rotate(45deg)"},[`${t}-next-icon,
              ${t}-super-next-icon`]:{transform:"rotate(-135deg)"},[`${t}-time-panel`]:{[`${t}-content`]:{direction:"ltr","> *":{direction:"rtl"}}}}},"&-decade-panel,\n        &-year-panel,\n        &-quarter-panel,\n        &-month-panel,\n        &-week-panel,\n        &-date-panel,\n        &-time-panel":{display:"flex",flexDirection:"column",width:$t},"&-header":{display:"flex",padding:`0 ${(0,fe.bf)(I)}`,color:G,borderBottom:`${(0,fe.bf)(L)} ${k} ${H}`,"> *":{flex:"none"},button:{padding:0,color:ee,lineHeight:(0,fe.bf)(ie),background:"transparent",border:0,cursor:"pointer",transition:`color ${oe}`,fontSize:"inherit",display:"inline-flex",alignItems:"center",justifyContent:"center","&:empty":{display:"none"}},"> button":{minWidth:"1.6em",fontSize:Se,"&:hover":{color:re},"&:disabled":{opacity:.25,pointerEvents:"none"}},"&-view":{flex:"auto",fontWeight:se,lineHeight:(0,fe.bf)(ie),"> button":{color:"inherit",fontWeight:"inherit","&:not(:first-child)":{marginInlineStart:I},"&:hover":{color:j}}}},"&-prev-icon,\n        &-next-icon,\n        &-super-prev-icon,\n        &-super-next-icon":{position:"relative",width:y,height:y,"&::before":{position:"absolute",top:0,insetInlineStart:0,width:y,height:y,border:"0 solid currentcolor",borderBlockWidth:`${(0,fe.bf)(K)} 0`,borderInlineWidth:`${(0,fe.bf)(K)} 0`,content:'""'}},"&-super-prev-icon,\n        &-super-next-icon":{"&::after":{position:"absolute",top:vt,insetInlineStart:vt,display:"inline-block",width:y,height:y,border:"0 solid currentcolor",borderBlockWidth:`${(0,fe.bf)(K)} 0`,borderInlineWidth:`${(0,fe.bf)(K)} 0`,content:'""'}},"&-prev-icon, &-super-prev-icon":{transform:"rotate(-45deg)"},"&-next-icon, &-super-next-icon":{transform:"rotate(135deg)"},"&-content":{width:"100%",tableLayout:"fixed",borderCollapse:"collapse","th, td":{position:"relative",minWidth:ue,fontWeight:"normal"},th:{height:e.calc(ue).add(e.calc(me).mul(2)).equal(),color:ye,verticalAlign:"middle"}},"&-cell":Object.assign({padding:`${(0,fe.bf)(me)} 0`,color:pe,cursor:"pointer","&-in-view":{color:ye}},BC(e)),"&-decade-panel,\n        &-year-panel,\n        &-quarter-panel,\n        &-month-panel":{[`${t}-content`]:{height:e.calc(we).mul(4).equal()},[o]:{padding:`0 ${(0,fe.bf)(I)}`}},"&-quarter-panel":{[`${t}-content`]:{height:Be}},"&-decade-panel":{[o]:{padding:`0 ${(0,fe.bf)(e.calc(I).div(2).equal())}`},[`${t}-cell::before`]:{display:"none"}},"&-year-panel,\n        &-quarter-panel,\n        &-month-panel":{[`${t}-body`]:{padding:`0 ${(0,fe.bf)(I)}`},[o]:{width:f}},"&-date-panel":{[`${t}-body`]:{padding:`${(0,fe.bf)(I)} ${(0,fe.bf)(ft)}`},[`${t}-content th`]:{boxSizing:"border-box",padding:0}},"&-week-panel":{[`${t}-cell`]:{[`&:hover ${o},
            &-selected ${o},
            ${o}`]:{background:"transparent !important"}},"&-row":{td:{"&:before":{transition:`background ${oe}`},"&:first-child:before":{borderStartStartRadius:Re,borderEndStartRadius:Re},"&:last-child:before":{borderStartEndRadius:Re,borderEndEndRadius:Re}},"&:hover td:before":{background:Ne},"&-range-start td, &-range-end td, &-selected td, &-hover td":{[`&${a}`]:{"&:before":{background:j},[`&${t}-cell-week`]:{color:new Sl.t(je).setA(.5).toHexString()},[o]:{color:je}}},"&-range-hover td:before":{background:St}}},"&-week-panel, &-date-panel-show-week":{[`${t}-body`]:{padding:`${(0,fe.bf)(I)} ${(0,fe.bf)(w)}`},[`${t}-content th`]:{width:"auto"}},"&-datetime-panel":{display:"flex",[`${t}-time-panel`]:{borderInlineStart:`${(0,fe.bf)(L)} ${k} ${H}`},[`${t}-date-panel,
          ${t}-time-panel`]:{transition:`opacity ${Ie}`},"&-active":{[`${t}-date-panel,
            ${t}-time-panel`]:{opacity:.3,"&-active":{opacity:1}}}},"&-time-panel":{width:"auto",minWidth:"auto",[`${t}-content`]:{display:"flex",flex:"auto",height:nt},"&-column":{flex:"1 0 auto",width:at,margin:`${(0,fe.bf)(D)} 0`,padding:0,overflowY:"hidden",textAlign:"start",listStyle:"none",transition:`background ${oe}`,overflowX:"hidden","&::-webkit-scrollbar":{width:8,backgroundColor:"transparent"},"&::-webkit-scrollbar-thumb":{backgroundColor:e.colorTextTertiary,borderRadius:e.borderRadiusSM},"&":{scrollbarWidth:"thin",scrollbarColor:`${e.colorTextTertiary} transparent`},"&::after":{display:"block",height:`calc(100% - ${(0,fe.bf)(Ct)})`,content:'""'},"&:not(:first-child)":{borderInlineStart:`${(0,fe.bf)(L)} ${k} ${H}`},"&-active":{background:new Sl.t(St).setA(.2).toHexString()},"&:hover":{overflowY:"auto"},"> li":{margin:0,padding:0,[`&${t}-time-panel-cell`]:{marginInline:_t,[`${t}-time-panel-cell-inner`]:{display:"block",width:e.calc(at).sub(e.calc(_t).mul(2)).equal(),height:Ct,margin:0,paddingBlock:0,paddingInlineEnd:0,paddingInlineStart:e.calc(at).sub(Ct).div(2).equal(),color:ye,lineHeight:(0,fe.bf)(Ct),borderRadius:Re,cursor:"pointer",transition:`background ${oe}`,"&:hover":{background:Ne}},"&-selected":{[`${t}-time-panel-cell-inner`]:{background:St}},"&-disabled":{[`${t}-time-panel-cell-inner`]:{color:pe,background:"transparent",cursor:"not-allowed"}}}}}}}}};var k0=e=>{const{componentCls:t,textHeight:a,lineWidth:o,paddingSM:f,antCls:y,colorPrimary:C,cellActiveWithRangeBg:w,colorPrimaryBorder:I,lineType:D,colorSplit:z}=e;return{[`${t}-dropdown`]:{[`${t}-footer`]:{borderTop:`${(0,fe.bf)(o)} ${D} ${z}`,"&-extra":{padding:`0 ${(0,fe.bf)(f)}`,lineHeight:(0,fe.bf)(e.calc(a).sub(e.calc(o).mul(2)).equal()),textAlign:"start","&:not(:last-child)":{borderBottom:`${(0,fe.bf)(o)} ${D} ${z}`}}},[`${t}-panels + ${t}-footer ${t}-ranges`]:{justifyContent:"space-between"},[`${t}-ranges`]:{marginBlock:0,paddingInline:(0,fe.bf)(f),overflow:"hidden",textAlign:"start",listStyle:"none",display:"flex",justifyContent:"center",alignItems:"center","> li":{lineHeight:(0,fe.bf)(e.calc(a).sub(e.calc(o).mul(2)).equal()),display:"inline-block"},[`${t}-now-btn-disabled`]:{pointerEvents:"none",color:e.colorTextDisabled},[`${t}-preset > ${y}-tag-blue`]:{color:C,background:w,borderColor:I,cursor:"pointer"},[`${t}-ok`]:{paddingBlock:e.calc(o).mul(2).equal(),marginInlineStart:"auto"}}}}},Cu=F(21571);const hg=e=>{const{componentCls:t,controlHeightLG:a,paddingXXS:o,padding:f}=e;return{pickerCellCls:`${t}-cell`,pickerCellInnerCls:`${t}-cell-inner`,pickerYearMonthCellWidth:e.calc(a).mul(1.5).equal(),pickerQuarterPanelContentHeight:e.calc(a).mul(1.4).equal(),pickerCellPaddingVertical:e.calc(o).add(e.calc(o).div(2)).equal(),pickerCellBorderGap:2,pickerControlIconSize:7,pickerControlIconMargin:4,pickerControlIconBorderWidth:1.5,pickerDatePanelPaddingHorizontal:e.calc(f).add(e.calc(o).div(2)).equal()}},h1=e=>{const{colorBgContainerDisabled:t,controlHeight:a,controlHeightSM:o,controlHeightLG:f,paddingXXS:y,lineWidth:C}=e,w=y*2,I=C*2,D=Math.min(a-w,a-I),z=Math.min(o-w,o-I),L=Math.min(f-w,f-I);return{INTERNAL_FIXED_ITEM_MARGIN:Math.floor(y/2),cellHoverBg:e.controlItemBgHover,cellActiveWithRangeBg:e.controlItemBgActive,cellHoverWithRangeBg:new Sl.t(e.colorPrimary).lighten(35).toHexString(),cellRangeBorderColor:new Sl.t(e.colorPrimary).lighten(20).toHexString(),cellBgDisabled:t,timeColumnWidth:f*1.4,timeColumnHeight:28*8,timeCellHeight:28,cellWidth:o*1.5,cellHeight:o,textHeight:f,withoutTimeCellHeight:f*1.65,multipleItemBg:e.colorFillSecondary,multipleItemBorderColor:"transparent",multipleItemHeight:D,multipleItemHeightSM:z,multipleItemHeightLG:L,multipleSelectorBgDisabled:t,multipleItemColorDisabled:e.colorTextDisabled,multipleItemBorderColorDisabled:"transparent"}},Ey=e=>Object.assign(Object.assign(Object.assign(Object.assign({},(0,Cu.T)(e)),h1(e)),(0,Vp.w)(e)),{presetsWidth:120,presetsMaxWidth:200,zIndexPopup:e.zIndexPopupBase+50}),Iy=e=>{const{calendarCls:t,componentCls:a,fullBg:o,fullPanelBg:f,itemActiveBg:y}=e;return{[t]:Object.assign(Object.assign(Object.assign({},f1(e)),(0,Wt.Wf)(e)),{background:o,"&-rtl":{direction:"rtl"},[`${t}-header`]:{display:"flex",justifyContent:"flex-end",padding:`${(0,fe.bf)(e.paddingSM)} 0`,[`${t}-year-select`]:{minWidth:e.yearControlWidth},[`${t}-month-select`]:{minWidth:e.monthControlWidth,marginInlineStart:e.marginXS},[`${t}-mode-switch`]:{marginInlineStart:e.marginXS}}}),[`${t} ${a}-panel`]:{background:f,border:0,borderTop:`${(0,fe.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,borderRadius:0,[`${a}-month-panel, ${a}-date-panel`]:{width:"auto"},[`${a}-body`]:{padding:`${(0,fe.bf)(e.paddingXS)} 0`},[`${a}-content`]:{width:"100%"}},[`${t}-mini`]:{borderRadius:e.borderRadiusLG,[`${t}-header`]:{paddingInlineEnd:e.paddingXS,paddingInlineStart:e.paddingXS},[`${a}-panel`]:{borderRadius:`0 0 ${(0,fe.bf)(e.borderRadiusLG)} ${(0,fe.bf)(e.borderRadiusLG)}`},[`${a}-content`]:{height:e.miniContentHeight,th:{height:"auto",padding:0,lineHeight:(0,fe.bf)(e.weekHeight)}},[`${a}-cell::before`]:{pointerEvents:"none"}},[`${t}${t}-full`]:{[`${a}-panel`]:{display:"block",width:"100%",textAlign:"end",background:o,border:0,[`${a}-body`]:{"th, td":{padding:0},th:{height:"auto",paddingInlineEnd:e.paddingSM,paddingBottom:e.paddingXXS,lineHeight:(0,fe.bf)(e.weekHeight)}}},[`${a}-cell-week ${a}-cell-inner`]:{display:"block",borderRadius:0,borderTop:`${(0,fe.bf)(e.lineWidthBold)} ${e.lineType} ${e.colorSplit}`,width:"100%",height:e.calc(e.dateValueHeight).add(e.dateContentHeight).add(e.calc(e.paddingXS).div(2)).add(e.lineWidthBold).equal()},[`${a}-cell`]:{"&::before":{display:"none"},"&:hover":{[`${t}-date`]:{background:e.controlItemBgHover}},[`${t}-date-today::before`]:{display:"none"},[`&-in-view${a}-cell-selected`]:{[`${t}-date, ${t}-date-today`]:{background:y}},"&-selected, &-selected:hover":{[`${t}-date, ${t}-date-today`]:{[`${t}-date-value`]:{color:e.colorPrimary}}}},[`${t}-date`]:{display:"block",width:"auto",height:"auto",margin:`0 ${(0,fe.bf)(e.calc(e.marginXS).div(2).equal())}`,padding:`${(0,fe.bf)(e.calc(e.paddingXS).div(2).equal())} ${(0,fe.bf)(e.paddingXS)} 0`,border:0,borderTop:`${(0,fe.bf)(e.lineWidthBold)} ${e.lineType} ${e.colorSplit}`,borderRadius:0,transition:`background ${e.motionDurationSlow}`,"&-value":{lineHeight:(0,fe.bf)(e.dateValueHeight),transition:`color ${e.motionDurationSlow}`},"&-content":{position:"static",width:"auto",height:e.dateContentHeight,overflowY:"auto",color:e.colorText,lineHeight:e.lineHeight,textAlign:"start"},"&-today":{borderColor:e.colorPrimary,[`${t}-date-value`]:{color:e.colorText}}}},[`@media only screen and (max-width: ${(0,fe.bf)(e.screenXS)}) `]:{[t]:{[`${t}-header`]:{display:"block",[`${t}-year-select`]:{width:"50%"},[`${t}-month-select`]:{width:`calc(50% - ${(0,fe.bf)(e.paddingXS)})`},[`${t}-mode-switch`]:{width:"100%",marginTop:e.marginXS,marginInlineStart:0,"> label":{width:"50%",textAlign:"center"}}}}}}},j0=e=>Object.assign({fullBg:e.colorBgContainer,fullPanelBg:e.colorBgContainer,itemActiveBg:e.controlItemBgActive,yearControlWidth:80,monthControlWidth:70,miniContentHeight:256},h1(e));var m1=(0,te.I$)("Calendar",e=>{const t=`${e.componentCls}-calendar`,a=(0,Ur.IX)(e,hg(e),{calendarCls:t,pickerCellInnerCls:`${e.componentCls}-cell-inner`,dateValueHeight:e.controlHeightSM,weekHeight:e.calc(e.controlHeightSM).mul(.75).equal(),dateContentHeight:e.calc(e.calc(e.fontHeightSM).add(e.marginXS)).mul(3).add(e.calc(e.lineWidth).mul(2)).equal()});return[Iy(a)]},j0);const My=(e,t,a)=>{const{getYear:o}=a;return e&&t&&o(e)===o(t)},mg=(e,t,a)=>{const{getMonth:o}=a;return My(e,t,a)&&o(e)===o(t)},Ty=(e,t,a)=>{const{getDate:o}=a;return mg(e,t,a)&&o(e)===o(t)};var pg=e=>a=>{const{prefixCls:o,className:f,rootClassName:y,style:C,dateFullCellRender:w,dateCellRender:I,monthFullCellRender:D,monthCellRender:z,cellRender:L,fullCellRender:k,headerRender:Z,value:j,defaultValue:G,disabledDate:H,mode:K,validRange:ee,fullscreen:ie=!0,showWeek:oe,onChange:re,onPanelChange:se,onSelect:ue}=a,{getPrefixCls:me,direction:pe,className:ye,style:Se}=(0,ve.dj)("calendar"),Ie=me("picker",o),we=`${Ie}-calendar`,[Be,Re,je]=m1(Ie,we),Ne=e.getNow(),[nt,at]=(0,Fs.Z)(()=>j||e.getNow(),{defaultValue:G,value:j}),[Ct,St]=(0,Fs.Z)("month",{value:K}),_t=s.useMemo(()=>Ct==="year"?"month":"date",[Ct]),ft=s.useCallback(Kt=>(ee?e.isAfter(ee[0],Kt)||e.isAfter(Kt,ee[1]):!1)||!!(H!=null&&H(Kt)),[H,ee]),vt=(Kt,zt)=>{se==null||se(Kt,zt)},$t=Kt=>{at(Kt),Ty(Kt,nt,e)||((_t==="date"&&!mg(Kt,nt,e)||_t==="month"&&!My(Kt,nt,e))&&vt(Kt,Ct),re==null||re(Kt))},It=Kt=>{St(Kt),vt(nt,Kt)},Ft=(Kt,zt)=>{$t(Kt),ue==null||ue(Kt,{source:zt})},wt=s.useCallback((Kt,zt)=>k?k(Kt,zt):w?w(Kt):s.createElement("div",{className:Y()(`${Ie}-cell-inner`,`${we}-date`,{[`${we}-date-today`]:Ty(Ne,Kt,e)})},s.createElement("div",{className:`${we}-date-value`},String(e.getDate(Kt)).padStart(2,"0")),s.createElement("div",{className:`${we}-date-content`},L?L(Kt,zt):I==null?void 0:I(Kt))),[w,I,L,k]),pn=s.useCallback((Kt,zt)=>{if(k)return k(Kt,zt);if(D)return D(Kt);const Dn=zt.locale.shortMonths||e.locale.getShortMonths(zt.locale.locale);return s.createElement("div",{className:Y()(`${Ie}-cell-inner`,`${we}-date`,{[`${we}-date-today`]:mg(Ne,Kt,e)})},s.createElement("div",{className:`${we}-date-value`},Dn[e.getMonth(Kt)]),s.createElement("div",{className:`${we}-date-content`},L?L(Kt,zt):z==null?void 0:z(Kt)))},[D,z,L,k]),[Bn]=(0,Ao.Z)("Calendar",d1.Z),ln=Object.assign(Object.assign({},Bn),a.locale),Tn=(Kt,zt)=>{if(zt.type==="date")return wt(Kt,zt);if(zt.type==="month")return pn(Kt,Object.assign(Object.assign({},zt),{locale:ln==null?void 0:ln.lang}))};return Be(s.createElement("div",{className:Y()(we,{[`${we}-full`]:ie,[`${we}-mini`]:!ie,[`${we}-rtl`]:pe==="rtl"},ye,f,y,Re,je),style:Object.assign(Object.assign({},Se),C)},Z?Z({value:nt,type:Ct,onChange:Kt=>{Ft(Kt,"customize")},onTypeChange:It}):s.createElement(NC,{prefixCls:we,value:nt,generateConfig:e,mode:Ct,fullscreen:ie,locale:ln==null?void 0:ln.lang,validRange:ee,onChange:Ft,onModeChange:It}),s.createElement(Am,{value:nt,prefixCls:Ie,locale:ln==null?void 0:ln.lang,generateConfig:e,cellRender:Tn,onSelect:Kt=>{Ft(Kt,_t)},mode:_t,picker:_t,disabledDate:ft,hideHeader:!0,showWeek:oe})))};const Py=pg(Eb);Py.generateCalendar=pg;var g1=Py,v1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},y1=v1,Oy=function(t,a){return s.createElement(Xt.Z,(0,Ze.Z)({},t,{ref:a,icon:y1}))},Ry=s.forwardRef(Oy),$y=Ry,Ay=F(21611),$h=(0,s.createContext)(null),Z0=function(t){var a=t.activeTabOffset,o=t.horizontal,f=t.rtl,y=t.indicator,C=y===void 0?{}:y,w=C.size,I=C.align,D=I===void 0?"center":I,z=(0,s.useState)(),L=(0,Oe.Z)(z,2),k=L[0],Z=L[1],j=(0,s.useRef)(),G=s.useCallback(function(K){return typeof w=="function"?w(K):typeof w=="number"?w:K},[w]);function H(){We.Z.cancel(j.current)}return(0,s.useEffect)(function(){var K={};if(a)if(o){K.width=G(a.width);var ee=f?"right":"left";D==="start"&&(K[ee]=a[ee]),D==="center"&&(K[ee]=a[ee]+a.width/2,K.transform=f?"translateX(50%)":"translateX(-50%)"),D==="end"&&(K[ee]=a[ee]+a.width,K.transform="translateX(-100%)")}else K.height=G(a.height),D==="start"&&(K.top=a.top),D==="center"&&(K.top=a.top+a.height/2,K.transform="translateY(-50%)"),D==="end"&&(K.top=a.top+a.height,K.transform="translateY(-100%)");return H(),j.current=(0,We.Z)(function(){Z(K)}),H},[a,o,f,D,G]),{style:k}},_1=Z0,gg={width:0,height:0,left:0,top:0};function b1(e,t,a){return(0,s.useMemo)(function(){for(var o,f=new Map,y=t.get((o=e[0])===null||o===void 0?void 0:o.key)||gg,C=y.left+y.width,w=0;w<e.length;w+=1){var I=e[w].key,D=t.get(I);if(!D){var z;D=t.get((z=e[w-1])===null||z===void 0?void 0:z.key)||gg}var L=f.get(I)||(0,X.Z)({},D);L.right=C-L.left-L.width,f.set(I,L)}return f},[e.map(function(o){return o.key}).join("_"),t,a])}function x1(e,t){var a=s.useRef(e),o=s.useState({}),f=(0,Oe.Z)(o,2),y=f[1];function C(w){var I=typeof w=="function"?w(a.current):w;I!==a.current&&t(I,a.current),a.current=I,y({})}return[a.current,C]}var C1=.1,Dy=.01,vg=20,zy=Math.pow(.995,vg);function S1(e,t){var a=(0,s.useState)(),o=(0,Oe.Z)(a,2),f=o[0],y=o[1],C=(0,s.useState)(0),w=(0,Oe.Z)(C,2),I=w[0],D=w[1],z=(0,s.useState)(0),L=(0,Oe.Z)(z,2),k=L[0],Z=L[1],j=(0,s.useState)(),G=(0,Oe.Z)(j,2),H=G[0],K=G[1],ee=(0,s.useRef)();function ie(pe){var ye=pe.touches[0],Se=ye.screenX,Ie=ye.screenY;y({x:Se,y:Ie}),window.clearInterval(ee.current)}function oe(pe){if(f){var ye=pe.touches[0],Se=ye.screenX,Ie=ye.screenY;y({x:Se,y:Ie});var we=Se-f.x,Be=Ie-f.y;t(we,Be);var Re=Date.now();D(Re),Z(Re-I),K({x:we,y:Be})}}function re(){if(f&&(y(null),K(null),H)){var pe=H.x/k,ye=H.y/k,Se=Math.abs(pe),Ie=Math.abs(ye);if(Math.max(Se,Ie)<C1)return;var we=pe,Be=ye;ee.current=window.setInterval(function(){if(Math.abs(we)<Dy&&Math.abs(Be)<Dy){window.clearInterval(ee.current);return}we*=zy,Be*=zy,t(we*vg,Be*vg)},vg)}}var se=(0,s.useRef)();function ue(pe){var ye=pe.deltaX,Se=pe.deltaY,Ie=0,we=Math.abs(ye),Be=Math.abs(Se);we===Be?Ie=se.current==="x"?ye:Se:we>Be?(Ie=ye,se.current="x"):(Ie=Se,se.current="y"),t(-Ie,-Ie)&&pe.preventDefault()}var me=(0,s.useRef)(null);me.current={onTouchStart:ie,onTouchMove:oe,onTouchEnd:re,onWheel:ue},s.useEffect(function(){function pe(we){me.current.onTouchStart(we)}function ye(we){me.current.onTouchMove(we)}function Se(we){me.current.onTouchEnd(we)}function Ie(we){me.current.onWheel(we)}return document.addEventListener("touchmove",ye,{passive:!1}),document.addEventListener("touchend",Se,{passive:!0}),e.current.addEventListener("touchstart",pe,{passive:!0}),e.current.addEventListener("wheel",Ie,{passive:!1}),function(){document.removeEventListener("touchmove",ye),document.removeEventListener("touchend",Se)}},[])}function Ly(e){var t=(0,s.useState)(0),a=(0,Oe.Z)(t,2),o=a[0],f=a[1],y=(0,s.useRef)(0),C=(0,s.useRef)();return C.current=e,(0,hl.o)(function(){var w;(w=C.current)===null||w===void 0||w.call(C)},[o]),function(){y.current===o&&(y.current+=1,f(y.current))}}function w1(e){var t=(0,s.useRef)([]),a=(0,s.useState)({}),o=(0,Oe.Z)(a,2),f=o[1],y=(0,s.useRef)(typeof e=="function"?e():e),C=Ly(function(){var I=y.current;t.current.forEach(function(D){I=D(I)}),t.current=[],y.current=I,f({})});function w(I){t.current.push(I),C()}return[y.current,w]}var E1={width:0,height:0,left:0,top:0,right:0};function Ny(e,t,a,o,f,y,C){var w=C.tabs,I=C.tabPosition,D=C.rtl,z,L,k;return["top","bottom"].includes(I)?(z="width",L=D?"right":"left",k=Math.abs(a)):(z="height",L="top",k=-a),(0,s.useMemo)(function(){if(!w.length)return[0,0];for(var Z=w.length,j=Z,G=0;G<Z;G+=1){var H=e.get(w[G].key)||E1;if(Math.floor(H[L]+H[z])>Math.floor(k+t)){j=G-1;break}}for(var K=0,ee=Z-1;ee>=0;ee-=1){var ie=e.get(w[ee].key)||E1;if(ie[L]<k){K=ee+1;break}}return K>=j?[0,0]:[K,j]},[e,t,o,f,y,k,I,w.map(function(Z){return Z.key}).join("_"),D])}function By(e){var t;return e instanceof Map?(t={},e.forEach(function(a,o){t[o]=a})):t=e,JSON.stringify(t)}var I1="TABS_DQ";function yg(e){return String(e).replace(/"/g,I1)}function bd(e,t,a,o){return!(!a||o||e===!1||e===void 0&&(t===!1||t===null))}var Fy=s.forwardRef(function(e,t){var a=e.prefixCls,o=e.editable,f=e.locale,y=e.style;return!o||o.showAdd===!1?null:s.createElement("button",{ref:t,type:"button",className:"".concat(a,"-nav-add"),style:y,"aria-label":(f==null?void 0:f.addAriaLabel)||"Add tab",onClick:function(w){o.onEdit("add",{event:w})}},o.addIcon||"+")}),ky=Fy,M1=s.forwardRef(function(e,t){var a=e.position,o=e.prefixCls,f=e.extra;if(!f)return null;var y,C={};return(0,Ye.Z)(f)==="object"&&!s.isValidElement(f)?C=f:C.right=f,a==="right"&&(y=C.right),a==="left"&&(y=C.left),y?s.createElement("div",{className:"".concat(o,"-extra-content"),ref:t},y):null}),_g=M1,jy=s.forwardRef(function(e,t){var a=e.prefixCls,o=e.id,f=e.tabs,y=e.locale,C=e.mobile,w=e.more,I=w===void 0?{}:w,D=e.style,z=e.className,L=e.editable,k=e.tabBarGutter,Z=e.rtl,j=e.removeAriaLabel,G=e.onTabClick,H=e.getPopupContainer,K=e.popupClassName,ee=(0,s.useState)(!1),ie=(0,Oe.Z)(ee,2),oe=ie[0],re=ie[1],se=(0,s.useState)(null),ue=(0,Oe.Z)(se,2),me=ue[0],pe=ue[1],ye=I.icon,Se=ye===void 0?"More":ye,Ie="".concat(o,"-more-popup"),we="".concat(a,"-dropdown"),Be=me!==null?"".concat(Ie,"-").concat(me):null,Re=y==null?void 0:y.dropdownAriaLabel;function je(ft,vt){ft.preventDefault(),ft.stopPropagation(),L.onEdit("remove",{key:vt,event:ft})}var Ne=s.createElement(_d,{onClick:function(vt){var $t=vt.key,It=vt.domEvent;G($t,It),re(!1)},prefixCls:"".concat(we,"-menu"),id:Ie,tabIndex:-1,role:"listbox","aria-activedescendant":Be,selectedKeys:[me],"aria-label":Re!==void 0?Re:"expanded dropdown"},f.map(function(ft){var vt=ft.closable,$t=ft.disabled,It=ft.closeIcon,Ft=ft.key,wt=ft.label,pn=bd(vt,It,L,$t);return s.createElement(ps,{key:Ft,id:"".concat(Ie,"-").concat(Ft),role:"option","aria-controls":o&&"".concat(o,"-panel-").concat(Ft),disabled:$t},s.createElement("span",null,wt),pn&&s.createElement("button",{type:"button","aria-label":j||"remove",tabIndex:0,className:"".concat(we,"-menu-item-remove"),onClick:function(ln){ln.stopPropagation(),je(ln,Ft)}},It||L.removeIcon||"\xD7"))}));function nt(ft){for(var vt=f.filter(function(pn){return!pn.disabled}),$t=vt.findIndex(function(pn){return pn.key===me})||0,It=vt.length,Ft=0;Ft<It;Ft+=1){$t=($t+ft+It)%It;var wt=vt[$t];if(!wt.disabled){pe(wt.key);return}}}function at(ft){var vt=ft.which;if(!oe){[et.Z.DOWN,et.Z.SPACE,et.Z.ENTER].includes(vt)&&(re(!0),ft.preventDefault());return}switch(vt){case et.Z.UP:nt(-1),ft.preventDefault();break;case et.Z.DOWN:nt(1),ft.preventDefault();break;case et.Z.ESC:re(!1);break;case et.Z.SPACE:case et.Z.ENTER:me!==null&&G(me,ft);break}}(0,s.useEffect)(function(){var ft=document.getElementById(Be);ft&&ft.scrollIntoView&&ft.scrollIntoView(!1)},[me]),(0,s.useEffect)(function(){oe||pe(null)},[oe]);var Ct=(0,he.Z)({},Z?"marginRight":"marginLeft",k);f.length||(Ct.visibility="hidden",Ct.order=1);var St=Y()((0,he.Z)({},"".concat(we,"-rtl"),Z)),_t=C?null:s.createElement(qu,(0,Ze.Z)({prefixCls:we,overlay:Ne,visible:f.length?oe:!1,onVisibleChange:re,overlayClassName:Y()(St,K),mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:H},I),s.createElement("button",{type:"button",className:"".concat(a,"-nav-more"),style:Ct,"aria-haspopup":"listbox","aria-controls":Ie,id:"".concat(o,"-more"),"aria-expanded":oe,onKeyDown:at},Se));return s.createElement("div",{className:Y()("".concat(a,"-nav-operations"),z),style:D,ref:t},_t,s.createElement(ky,{prefixCls:a,locale:y,editable:L}))}),T1=s.memo(jy,function(e,t){return t.tabMoving}),FC=function(t){var a=t.prefixCls,o=t.id,f=t.active,y=t.focus,C=t.tab,w=C.key,I=C.label,D=C.disabled,z=C.closeIcon,L=C.icon,k=t.closable,Z=t.renderWrapper,j=t.removeAriaLabel,G=t.editable,H=t.onClick,K=t.onFocus,ee=t.onBlur,ie=t.onKeyDown,oe=t.onMouseDown,re=t.onMouseUp,se=t.style,ue=t.tabCount,me=t.currentPosition,pe="".concat(a,"-tab"),ye=bd(k,z,G,D);function Se(je){D||H(je)}function Ie(je){je.preventDefault(),je.stopPropagation(),G.onEdit("remove",{key:w,event:je})}var we=s.useMemo(function(){return L&&typeof I=="string"?s.createElement("span",null,I):I},[I,L]),Be=s.useRef(null);s.useEffect(function(){y&&Be.current&&Be.current.focus()},[y]);var Re=s.createElement("div",{key:w,"data-node-key":yg(w),className:Y()(pe,(0,he.Z)((0,he.Z)((0,he.Z)((0,he.Z)({},"".concat(pe,"-with-remove"),ye),"".concat(pe,"-active"),f),"".concat(pe,"-disabled"),D),"".concat(pe,"-focus"),y)),style:se,onClick:Se},s.createElement("div",{ref:Be,role:"tab","aria-selected":f,id:o&&"".concat(o,"-tab-").concat(w),className:"".concat(pe,"-btn"),"aria-controls":o&&"".concat(o,"-panel-").concat(w),"aria-disabled":D,tabIndex:D?null:f?0:-1,onClick:function(Ne){Ne.stopPropagation(),Se(Ne)},onKeyDown:ie,onMouseDown:oe,onMouseUp:re,onFocus:K,onBlur:ee},y&&s.createElement("div",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"Tab ".concat(me," of ").concat(ue)),L&&s.createElement("span",{className:"".concat(pe,"-icon")},L),I&&we),ye&&s.createElement("button",{type:"button",role:"tab","aria-label":j||"remove",tabIndex:f?0:-1,className:"".concat(pe,"-remove"),onClick:function(Ne){Ne.stopPropagation(),Ie(Ne)}},z||G.removeIcon||"\xD7"));return Z?Z(Re):Re},kC=FC,jC=function(t,a){var o=t.offsetWidth,f=t.offsetHeight,y=t.offsetTop,C=t.offsetLeft,w=t.getBoundingClientRect(),I=w.width,D=w.height,z=w.left,L=w.top;return Math.abs(I-o)<1?[I,D,z-a.left,L-a.top]:[o,f,C,y]},zm=function(t){var a=t.current||{},o=a.offsetWidth,f=o===void 0?0:o,y=a.offsetHeight,C=y===void 0?0:y;if(t.current){var w=t.current.getBoundingClientRect(),I=w.width,D=w.height;if(Math.abs(I-f)<1)return[I,D]}return[f,C]},V0=function(t,a){return t[a?0:1]},ZC=s.forwardRef(function(e,t){var a=e.className,o=e.style,f=e.id,y=e.animated,C=e.activeKey,w=e.rtl,I=e.extra,D=e.editable,z=e.locale,L=e.tabPosition,k=e.tabBarGutter,Z=e.children,j=e.onTabClick,G=e.onTabScroll,H=e.indicator,K=s.useContext($h),ee=K.prefixCls,ie=K.tabs,oe=(0,s.useRef)(null),re=(0,s.useRef)(null),se=(0,s.useRef)(null),ue=(0,s.useRef)(null),me=(0,s.useRef)(null),pe=(0,s.useRef)(null),ye=(0,s.useRef)(null),Se=L==="top"||L==="bottom",Ie=x1(0,function(va,Lo){Se&&G&&G({direction:va>Lo?"left":"right"})}),we=(0,Oe.Z)(Ie,2),Be=we[0],Re=we[1],je=x1(0,function(va,Lo){!Se&&G&&G({direction:va>Lo?"top":"bottom"})}),Ne=(0,Oe.Z)(je,2),nt=Ne[0],at=Ne[1],Ct=(0,s.useState)([0,0]),St=(0,Oe.Z)(Ct,2),_t=St[0],ft=St[1],vt=(0,s.useState)([0,0]),$t=(0,Oe.Z)(vt,2),It=$t[0],Ft=$t[1],wt=(0,s.useState)([0,0]),pn=(0,Oe.Z)(wt,2),Bn=pn[0],ln=pn[1],Tn=(0,s.useState)([0,0]),Kt=(0,Oe.Z)(Tn,2),zt=Kt[0],Dn=Kt[1],Sn=w1(new Map),Ir=(0,Oe.Z)(Sn,2),ur=Ir[0],Yn=Ir[1],qn=b1(ie,ur,It[0]),Rn=V0(_t,Se),Jn=V0(It,Se),zr=V0(Bn,Se),li=V0(zt,Se),xi=Math.floor(Rn)<Math.floor(Jn+zr),Di=xi?Rn-li:Rn-zr,So="".concat(ee,"-nav-operations-hidden"),_i=0,ai=0;Se&&w?(_i=0,ai=Math.max(0,Jn-Di)):(_i=Math.min(0,Di-Jn),ai=0);function gi(va){return va<_i?_i:va>ai?ai:va}var Gi=(0,s.useRef)(null),Pi=(0,s.useState)(),wo=(0,Oe.Z)(Pi,2),dr=wo[0],tr=wo[1];function pr(){tr(Date.now())}function Vn(){Gi.current&&clearTimeout(Gi.current)}S1(ue,function(va,Lo){function Aa(ds,Bs){ds(function(qs){var rc=gi(qs+Bs);return rc})}return xi?(Se?Aa(Re,va):Aa(at,Lo),Vn(),pr(),!0):!1}),(0,s.useEffect)(function(){return Vn(),dr&&(Gi.current=setTimeout(function(){tr(0)},100)),Vn},[dr]);var ri=Ny(qn,Di,Se?Be:nt,Jn,zr,li,(0,X.Z)((0,X.Z)({},e),{},{tabs:ie})),Oi=(0,Oe.Z)(ri,2),ro=Oi[0],Xo=Oi[1],$a=(0,fr.Z)(function(){var va=arguments.length>0&&arguments[0]!==void 0?arguments[0]:C,Lo=qn.get(va)||{width:0,height:0,left:0,right:0,top:0};if(Se){var Aa=Be;w?Lo.right<Be?Aa=Lo.right:Lo.right+Lo.width>Be+Di&&(Aa=Lo.right+Lo.width-Di):Lo.left<-Be?Aa=-Lo.left:Lo.left+Lo.width>-Be+Di&&(Aa=-(Lo.left+Lo.width-Di)),at(0),Re(gi(Aa))}else{var ds=nt;Lo.top<-nt?ds=-Lo.top:Lo.top+Lo.height>-nt+Di&&(ds=-(Lo.top+Lo.height-Di)),Re(0),at(gi(ds))}}),ta=(0,s.useState)(),Cs=(0,Oe.Z)(ta,2),Za=Cs[0],Ga=Cs[1],pa=(0,s.useState)(!1),ts=(0,Oe.Z)(pa,2),As=ts[0],bo=ts[1],Ko=ie.filter(function(va){return!va.disabled}).map(function(va){return va.key}),Ra=function(Lo){var Aa=Ko.indexOf(Za||C),ds=Ko.length,Bs=(Aa+Lo+ds)%ds,qs=Ko[Bs];Ga(qs)},Ka=function(Lo){var Aa=Lo.code,ds=w&&Se,Bs=Ko[0],qs=Ko[Ko.length-1];switch(Aa){case"ArrowLeft":{Se&&Ra(ds?1:-1);break}case"ArrowRight":{Se&&Ra(ds?-1:1);break}case"ArrowUp":{Lo.preventDefault(),Se||Ra(-1);break}case"ArrowDown":{Lo.preventDefault(),Se||Ra(1);break}case"Home":{Lo.preventDefault(),Ga(Bs);break}case"End":{Lo.preventDefault(),Ga(qs);break}case"Enter":case"Space":{Lo.preventDefault(),j(Za,Lo);break}case"Backspace":case"Delete":{var rc=Ko.indexOf(Za),Js=ie.find(function(cs){return cs.key===Za}),Da=bd(Js==null?void 0:Js.closable,Js==null?void 0:Js.closeIcon,D,Js==null?void 0:Js.disabled);Da&&(Lo.preventDefault(),Lo.stopPropagation(),D.onEdit("remove",{key:Za,event:Lo}),rc===Ko.length-1?Ra(-1):Ra(1));break}}},ss={};Se?ss[w?"marginRight":"marginLeft"]=k:ss.marginTop=k;var ll=ie.map(function(va,Lo){var Aa=va.key;return s.createElement(kC,{id:f,prefixCls:ee,key:Aa,tab:va,style:Lo===0?void 0:ss,closable:va.closable,editable:D,active:Aa===C,focus:Aa===Za,renderWrapper:Z,removeAriaLabel:z==null?void 0:z.removeAriaLabel,tabCount:Ko.length,currentPosition:Lo+1,onClick:function(Bs){j(Aa,Bs)},onKeyDown:Ka,onFocus:function(){As||Ga(Aa),$a(Aa),pr(),ue.current&&(w||(ue.current.scrollLeft=0),ue.current.scrollTop=0)},onBlur:function(){Ga(void 0)},onMouseDown:function(){bo(!0)},onMouseUp:function(){bo(!1)}})}),Rl=function(){return Yn(function(){var Lo,Aa=new Map,ds=(Lo=me.current)===null||Lo===void 0?void 0:Lo.getBoundingClientRect();return ie.forEach(function(Bs){var qs,rc=Bs.key,Js=(qs=me.current)===null||qs===void 0?void 0:qs.querySelector('[data-node-key="'.concat(yg(rc),'"]'));if(Js){var Da=jC(Js,ds),cs=(0,Oe.Z)(Da,4),Ss=cs[0],$l=cs[1],Fu=cs[2],Kh=cs[3];Aa.set(rc,{width:Ss,height:$l,left:Fu,top:Kh})}}),Aa})};(0,s.useEffect)(function(){Rl()},[ie.map(function(va){return va.key}).join("_")]);var yl=Ly(function(){var va=zm(oe),Lo=zm(re),Aa=zm(se);ft([va[0]-Lo[0]-Aa[0],va[1]-Lo[1]-Aa[1]]);var ds=zm(ye);ln(ds);var Bs=zm(pe);Dn(Bs);var qs=zm(me);Ft([qs[0]-ds[0],qs[1]-ds[1]]),Rl()}),Xl=ie.slice(0,ro),ma=ie.slice(Xo+1),Vo=[].concat((0,xe.Z)(Xl),(0,xe.Z)(ma)),Ho=qn.get(C),Do=_1({activeTabOffset:Ho,horizontal:Se,indicator:H,rtl:w}),ls=Do.style;(0,s.useEffect)(function(){$a()},[C,_i,ai,By(Ho),By(qn),Se]),(0,s.useEffect)(function(){yl()},[w]);var Ds=!!Vo.length,ka="".concat(ee,"-nav-wrap"),ba,gs,vs,Ys;return Se?w?(gs=Be>0,ba=Be!==ai):(ba=Be<0,gs=Be!==_i):(vs=nt<0,Ys=nt!==_i),s.createElement(c.Z,{onResize:yl},s.createElement("div",{ref:(0,Gt.x1)(t,oe),role:"tablist","aria-orientation":Se?"horizontal":"vertical",className:Y()("".concat(ee,"-nav"),a),style:o,onKeyDown:function(){pr()}},s.createElement(_g,{ref:re,position:"left",extra:I,prefixCls:ee}),s.createElement(c.Z,{onResize:yl},s.createElement("div",{className:Y()(ka,(0,he.Z)((0,he.Z)((0,he.Z)((0,he.Z)({},"".concat(ka,"-ping-left"),ba),"".concat(ka,"-ping-right"),gs),"".concat(ka,"-ping-top"),vs),"".concat(ka,"-ping-bottom"),Ys)),ref:ue},s.createElement(c.Z,{onResize:yl},s.createElement("div",{ref:me,className:"".concat(ee,"-nav-list"),style:{transform:"translate(".concat(Be,"px, ").concat(nt,"px)"),transition:dr?"none":void 0}},ll,s.createElement(ky,{ref:ye,prefixCls:ee,locale:z,editable:D,style:(0,X.Z)((0,X.Z)({},ll.length===0?void 0:ss),{},{visibility:Ds?"hidden":null})}),s.createElement("div",{className:Y()("".concat(ee,"-ink-bar"),(0,he.Z)({},"".concat(ee,"-ink-bar-animated"),y.inkBar)),style:ls}))))),s.createElement(T1,(0,Ze.Z)({},e,{removeAriaLabel:z==null?void 0:z.removeAriaLabel,ref:pe,prefixCls:ee,tabs:Vo,className:!Ds&&So,tabMoving:!!dr})),s.createElement(_g,{ref:se,position:"right",extra:I,prefixCls:ee})))}),P1=ZC,O1=s.forwardRef(function(e,t){var a=e.prefixCls,o=e.className,f=e.style,y=e.id,C=e.active,w=e.tabKey,I=e.children;return s.createElement("div",{id:y&&"".concat(y,"-panel-").concat(w),role:"tabpanel",tabIndex:C?0:-1,"aria-labelledby":y&&"".concat(y,"-tab-").concat(w),"aria-hidden":!C,style:f,className:Y()(a,C&&"".concat(a,"-active"),o),ref:t},I)}),bg=O1,R1=["renderTabBar"],$1=["label","key"],A1=function(t){var a=t.renderTabBar,o=(0,de.Z)(t,R1),f=s.useContext($h),y=f.tabs;if(a){var C=(0,X.Z)((0,X.Z)({},o),{},{panes:y.map(function(w){var I=w.label,D=w.key,z=(0,de.Z)(w,$1);return s.createElement(bg,(0,Ze.Z)({tab:I,key:D,tabKey:D},z))})});return a(C,P1)}return s.createElement(P1,o)},Zy=A1,D1=["key","forceRender","style","className","destroyInactiveTabPane"],z1=function(t){var a=t.id,o=t.activeKey,f=t.animated,y=t.tabPosition,C=t.destroyInactiveTabPane,w=s.useContext($h),I=w.prefixCls,D=w.tabs,z=f.tabPane,L="".concat(I,"-tabpane");return s.createElement("div",{className:Y()("".concat(I,"-content-holder"))},s.createElement("div",{className:Y()("".concat(I,"-content"),"".concat(I,"-content-").concat(y),(0,he.Z)({},"".concat(I,"-content-animated"),z))},D.map(function(k){var Z=k.key,j=k.forceRender,G=k.style,H=k.className,K=k.destroyInactiveTabPane,ee=(0,de.Z)(k,D1),ie=Z===o;return s.createElement(En.ZP,(0,Ze.Z)({key:Z,visible:ie,forceRender:j,removeOnLeave:!!(C||K),leavedClassName:"".concat(L,"-hidden")},f.tabPaneMotion),function(oe,re){var se=oe.style,ue=oe.className;return s.createElement(bg,(0,Ze.Z)({},ee,{prefixCls:L,id:a,tabKey:Z,animated:z,active:ie,style:(0,X.Z)((0,X.Z)({},G),se),className:Y()(H,ue),ref:re}))})})))},Ah=z1;function Lm(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{inkBar:!0,tabPane:!1},t;return e===!1?t={inkBar:!1,tabPane:!1}:e===!0?t={inkBar:!0,tabPane:!1}:t=(0,X.Z)({inkBar:!0},(0,Ye.Z)(e)==="object"?e:{}),t.tabPaneMotion&&t.tabPane===void 0&&(t.tabPane=!0),!t.tabPaneMotion&&t.tabPane&&(t.tabPane=!1),t}var L1=["id","prefixCls","className","items","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","more","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll","getPopupContainer","popupClassName","indicator"],Nm=0,VC=s.forwardRef(function(e,t){var a=e.id,o=e.prefixCls,f=o===void 0?"rc-tabs":o,y=e.className,C=e.items,w=e.direction,I=e.activeKey,D=e.defaultActiveKey,z=e.editable,L=e.animated,k=e.tabPosition,Z=k===void 0?"top":k,j=e.tabBarGutter,G=e.tabBarStyle,H=e.tabBarExtraContent,K=e.locale,ee=e.more,ie=e.destroyInactiveTabPane,oe=e.renderTabBar,re=e.onChange,se=e.onTabClick,ue=e.onTabScroll,me=e.getPopupContainer,pe=e.popupClassName,ye=e.indicator,Se=(0,de.Z)(e,L1),Ie=s.useMemo(function(){return(C||[]).filter(function(zt){return zt&&(0,Ye.Z)(zt)==="object"&&"key"in zt})},[C]),we=w==="rtl",Be=Lm(L),Re=(0,s.useState)(!1),je=(0,Oe.Z)(Re,2),Ne=je[0],nt=je[1];(0,s.useEffect)(function(){nt((0,Ay.Z)())},[]);var at=(0,Fs.Z)(function(){var zt;return(zt=Ie[0])===null||zt===void 0?void 0:zt.key},{value:I,defaultValue:D}),Ct=(0,Oe.Z)(at,2),St=Ct[0],_t=Ct[1],ft=(0,s.useState)(function(){return Ie.findIndex(function(zt){return zt.key===St})}),vt=(0,Oe.Z)(ft,2),$t=vt[0],It=vt[1];(0,s.useEffect)(function(){var zt=Ie.findIndex(function(Sn){return Sn.key===St});if(zt===-1){var Dn;zt=Math.max(0,Math.min($t,Ie.length-1)),_t((Dn=Ie[zt])===null||Dn===void 0?void 0:Dn.key)}It(zt)},[Ie.map(function(zt){return zt.key}).join("_"),St,$t]);var Ft=(0,Fs.Z)(null,{value:a}),wt=(0,Oe.Z)(Ft,2),pn=wt[0],Bn=wt[1];(0,s.useEffect)(function(){a||(Bn("rc-tabs-".concat(Nm)),Nm+=1)},[]);function ln(zt,Dn){se==null||se(zt,Dn);var Sn=zt!==St;_t(zt),Sn&&(re==null||re(zt))}var Tn={id:pn,activeKey:St,animated:Be,tabPosition:Z,rtl:we,mobile:Ne},Kt=(0,X.Z)((0,X.Z)({},Tn),{},{editable:z,locale:K,more:ee,tabBarGutter:j,onTabClick:ln,onTabScroll:ue,extra:H,style:G,panes:null,getPopupContainer:me,popupClassName:pe,indicator:ye});return s.createElement($h.Provider,{value:{tabs:Ie,prefixCls:f}},s.createElement("div",(0,Ze.Z)({ref:t,id:a,className:Y()(f,"".concat(f,"-").concat(Z),(0,he.Z)((0,he.Z)((0,he.Z)({},"".concat(f,"-mobile"),Ne),"".concat(f,"-editable"),z),"".concat(f,"-rtl"),we),y)},Se),s.createElement(Zy,(0,Ze.Z)({},Kt,{renderTabBar:oe})),s.createElement(Ah,(0,Ze.Z)({destroyInactiveTabPane:ie},Tn,{animated:Be}))))}),Vy=VC,H0=Vy;const Hy={motionAppear:!1,motionEnter:!0,motionLeave:!0};function Bm(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{inkBar:!0,tabPane:!1},a;return t===!1?a={inkBar:!1,tabPane:!1}:t===!0?a={inkBar:!0,tabPane:!0}:a=Object.assign({inkBar:!0},typeof t=="object"?t:{}),a.tabPane&&(a.tabPaneMotion=Object.assign(Object.assign({},Hy),{motionName:(0,Rr.m)(e,"switch")})),a}var Uy=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};function Dh(e){return e.filter(t=>t)}function N1(e,t){if(e)return e;const a=(0,Wl.Z)(t).map(o=>{if(s.isValidElement(o)){const{key:f,props:y}=o,C=y||{},{tab:w}=C,I=Uy(C,["tab"]);return Object.assign(Object.assign({key:String(f)},I),{label:w})}return null});return Dh(a)}var B1=e=>{const{componentCls:t,motionDurationSlow:a}=e;return[{[t]:{[`${t}-switch`]:{"&-appear, &-enter":{transition:"none","&-start":{opacity:0},"&-active":{opacity:1,transition:`opacity ${a}`}},"&-leave":{position:"absolute",transition:"none",inset:0,"&-start":{opacity:1},"&-active":{opacity:0,transition:`opacity ${a}`}}}}},[(0,Pc.oN)(e,"slide-up"),(0,Pc.oN)(e,"slide-down")]]};const F1=e=>{const{componentCls:t,tabsCardPadding:a,cardBg:o,cardGutter:f,colorBorderSecondary:y,itemSelectedColor:C}=e;return{[`${t}-card`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{margin:0,padding:a,background:o,border:`${(0,fe.bf)(e.lineWidth)} ${e.lineType} ${y}`,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOut}`},[`${t}-tab-active`]:{color:C,background:e.colorBgContainer},[`${t}-tab-focus`]:Object.assign({},(0,Wt.oN)(e,-3)),[`${t}-ink-bar`]:{visibility:"hidden"},[`& ${t}-tab${t}-tab-focus ${t}-tab-btn`]:{outline:"none"}},[`&${t}-top, &${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginLeft:{_skip_check_:!0,value:(0,fe.bf)(f)}}}},[`&${t}-top`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:`${(0,fe.bf)(e.borderRadiusLG)} ${(0,fe.bf)(e.borderRadiusLG)} 0 0`},[`${t}-tab-active`]:{borderBottomColor:e.colorBgContainer}}},[`&${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:`0 0 ${(0,fe.bf)(e.borderRadiusLG)} ${(0,fe.bf)(e.borderRadiusLG)}`},[`${t}-tab-active`]:{borderTopColor:e.colorBgContainer}}},[`&${t}-left, &${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginTop:(0,fe.bf)(f)}}},[`&${t}-left`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`${(0,fe.bf)(e.borderRadiusLG)} 0 0 ${(0,fe.bf)(e.borderRadiusLG)}`}},[`${t}-tab-active`]:{borderRightColor:{_skip_check_:!0,value:e.colorBgContainer}}}},[`&${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${(0,fe.bf)(e.borderRadiusLG)} ${(0,fe.bf)(e.borderRadiusLG)} 0`}},[`${t}-tab-active`]:{borderLeftColor:{_skip_check_:!0,value:e.colorBgContainer}}}}}}},U0=e=>{const{componentCls:t,itemHoverColor:a,dropdownEdgeChildVerticalPadding:o}=e;return{[`${t}-dropdown`]:Object.assign(Object.assign({},(0,Wt.Wf)(e)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:e.zIndexPopup,display:"block","&-hidden":{display:"none"},[`${t}-dropdown-menu`]:{maxHeight:e.tabsDropdownHeight,margin:0,padding:`${(0,fe.bf)(o)} 0`,overflowX:"hidden",overflowY:"auto",textAlign:{_skip_check_:!0,value:"left"},listStyleType:"none",backgroundColor:e.colorBgContainer,backgroundClip:"padding-box",borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary,"&-item":Object.assign(Object.assign({},Wt.vS),{display:"flex",alignItems:"center",minWidth:e.tabsDropdownWidth,margin:0,padding:`${(0,fe.bf)(e.paddingXXS)} ${(0,fe.bf)(e.paddingSM)}`,color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,"> span":{flex:1,whiteSpace:"nowrap"},"&-remove":{flex:"none",marginLeft:{_skip_check_:!0,value:e.marginSM},color:e.colorTextDescription,fontSize:e.fontSizeSM,background:"transparent",border:0,cursor:"pointer","&:hover":{color:a}},"&:hover":{background:e.controlItemBgHover},"&-disabled":{"&, &:hover":{color:e.colorTextDisabled,background:"transparent",cursor:"not-allowed"}}})}})}},xg=e=>{const{componentCls:t,margin:a,colorBorderSecondary:o,horizontalMargin:f,verticalItemPadding:y,verticalItemMargin:C,calc:w}=e;return{[`${t}-top, ${t}-bottom`]:{flexDirection:"column",[`> ${t}-nav, > div > ${t}-nav`]:{margin:f,"&::before":{position:"absolute",right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},borderBottom:`${(0,fe.bf)(e.lineWidth)} ${e.lineType} ${o}`,content:"''"},[`${t}-ink-bar`]:{height:e.lineWidthBold,"&-animated":{transition:`width ${e.motionDurationSlow}, left ${e.motionDurationSlow},
            right ${e.motionDurationSlow}`}},[`${t}-nav-wrap`]:{"&::before, &::after":{top:0,bottom:0,width:e.controlHeight},"&::before":{left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowTabsOverflowLeft},"&::after":{right:{_skip_check_:!0,value:0},boxShadow:e.boxShadowTabsOverflowRight},[`&${t}-nav-wrap-ping-left::before`]:{opacity:1},[`&${t}-nav-wrap-ping-right::after`]:{opacity:1}}}},[`${t}-top`]:{[`> ${t}-nav,
        > div > ${t}-nav`]:{"&::before":{bottom:0},[`${t}-ink-bar`]:{bottom:0}}},[`${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{order:1,marginTop:a,marginBottom:0,"&::before":{top:0},[`${t}-ink-bar`]:{top:0}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{order:0}},[`${t}-left, ${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{flexDirection:"column",minWidth:w(e.controlHeight).mul(1.25).equal(),[`${t}-tab`]:{padding:y,textAlign:"center"},[`${t}-tab + ${t}-tab`]:{margin:C},[`${t}-nav-wrap`]:{flexDirection:"column","&::before, &::after":{right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},height:e.controlHeight},"&::before":{top:0,boxShadow:e.boxShadowTabsOverflowTop},"&::after":{bottom:0,boxShadow:e.boxShadowTabsOverflowBottom},[`&${t}-nav-wrap-ping-top::before`]:{opacity:1},[`&${t}-nav-wrap-ping-bottom::after`]:{opacity:1}},[`${t}-ink-bar`]:{width:e.lineWidthBold,"&-animated":{transition:`height ${e.motionDurationSlow}, top ${e.motionDurationSlow}`}},[`${t}-nav-list, ${t}-nav-operations`]:{flex:"1 0 auto",flexDirection:"column"}}},[`${t}-left`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-ink-bar`]:{right:{_skip_check_:!0,value:0}}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{marginLeft:{_skip_check_:!0,value:(0,fe.bf)(w(e.lineWidth).mul(-1).equal())},borderLeft:{_skip_check_:!0,value:`${(0,fe.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},[`> ${t}-content > ${t}-tabpane`]:{paddingLeft:{_skip_check_:!0,value:e.paddingLG}}}},[`${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{order:1,[`${t}-ink-bar`]:{left:{_skip_check_:!0,value:0}}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{order:0,marginRight:{_skip_check_:!0,value:w(e.lineWidth).mul(-1).equal()},borderRight:{_skip_check_:!0,value:`${(0,fe.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},[`> ${t}-content > ${t}-tabpane`]:{paddingRight:{_skip_check_:!0,value:e.paddingLG}}}}}},UC=e=>{const{componentCls:t,cardPaddingSM:a,cardPaddingLG:o,horizontalItemPaddingSM:f,horizontalItemPaddingLG:y}=e;return{[t]:{"&-small":{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:f,fontSize:e.titleFontSizeSM}}},"&-large":{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:y,fontSize:e.titleFontSizeLG}}}},[`${t}-card`]:{[`&${t}-small`]:{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:a}},[`&${t}-bottom`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:`0 0 ${(0,fe.bf)(e.borderRadius)} ${(0,fe.bf)(e.borderRadius)}`}},[`&${t}-top`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:`${(0,fe.bf)(e.borderRadius)} ${(0,fe.bf)(e.borderRadius)} 0 0`}},[`&${t}-right`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${(0,fe.bf)(e.borderRadius)} ${(0,fe.bf)(e.borderRadius)} 0`}}},[`&${t}-left`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`${(0,fe.bf)(e.borderRadius)} 0 0 ${(0,fe.bf)(e.borderRadius)}`}}}},[`&${t}-large`]:{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:o}}}}}},WC=e=>{const{componentCls:t,itemActiveColor:a,itemHoverColor:o,iconCls:f,tabsHorizontalItemMargin:y,horizontalItemPadding:C,itemSelectedColor:w,itemColor:I}=e,D=`${t}-tab`;return{[D]:{position:"relative",WebkitTouchCallout:"none",WebkitTapHighlightColor:"transparent",display:"inline-flex",alignItems:"center",padding:C,fontSize:e.titleFontSize,background:"transparent",border:0,outline:"none",cursor:"pointer",color:I,"&-btn, &-remove":{"&:focus:not(:focus-visible), &:active":{color:a}},"&-btn":{outline:"none",transition:`all ${e.motionDurationSlow}`,[`${D}-icon:not(:last-child)`]:{marginInlineEnd:e.marginSM}},"&-remove":Object.assign({flex:"none",marginRight:{_skip_check_:!0,value:e.calc(e.marginXXS).mul(-1).equal()},marginLeft:{_skip_check_:!0,value:e.marginXS},color:e.colorTextDescription,fontSize:e.fontSizeSM,background:"transparent",border:"none",outline:"none",cursor:"pointer",transition:`all ${e.motionDurationSlow}`,"&:hover":{color:e.colorTextHeading}},(0,Wt.Qy)(e)),"&:hover":{color:o},[`&${D}-active ${D}-btn`]:{color:w,textShadow:e.tabsActiveTextShadow},[`&${D}-focus ${D}-btn`]:Object.assign({},(0,Wt.oN)(e)),[`&${D}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed"},[`&${D}-disabled ${D}-btn, &${D}-disabled ${t}-remove`]:{"&:focus, &:active":{color:e.colorTextDisabled}},[`& ${D}-remove ${f}`]:{margin:0},[`${f}:not(:last-child)`]:{marginRight:{_skip_check_:!0,value:e.marginSM}}},[`${D} + ${D}`]:{margin:{_skip_check_:!0,value:y}}}},k1=e=>{const{componentCls:t,tabsHorizontalItemMarginRTL:a,iconCls:o,cardGutter:f,calc:y}=e;return{[`${t}-rtl`]:{direction:"rtl",[`${t}-nav`]:{[`${t}-tab`]:{margin:{_skip_check_:!0,value:a},[`${t}-tab:last-of-type`]:{marginLeft:{_skip_check_:!0,value:0}},[o]:{marginRight:{_skip_check_:!0,value:0},marginLeft:{_skip_check_:!0,value:(0,fe.bf)(e.marginSM)}},[`${t}-tab-remove`]:{marginRight:{_skip_check_:!0,value:(0,fe.bf)(e.marginXS)},marginLeft:{_skip_check_:!0,value:(0,fe.bf)(y(e.marginXXS).mul(-1).equal())},[o]:{margin:0}}}},[`&${t}-left`]:{[`> ${t}-nav`]:{order:1},[`> ${t}-content-holder`]:{order:0}},[`&${t}-right`]:{[`> ${t}-nav`]:{order:0},[`> ${t}-content-holder`]:{order:1}},[`&${t}-card${t}-top, &${t}-card${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginRight:{_skip_check_:!0,value:f},marginLeft:{_skip_check_:!0,value:0}}}}},[`${t}-dropdown-rtl`]:{direction:"rtl"},[`${t}-menu-item`]:{[`${t}-dropdown-rtl`]:{textAlign:{_skip_check_:!0,value:"right"}}}}},GC=e=>{const{componentCls:t,tabsCardPadding:a,cardHeight:o,cardGutter:f,itemHoverColor:y,itemActiveColor:C,colorBorderSecondary:w}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,Wt.Wf)(e)),{display:"flex",[`> ${t}-nav, > div > ${t}-nav`]:{position:"relative",display:"flex",flex:"none",alignItems:"center",[`${t}-nav-wrap`]:{position:"relative",display:"flex",flex:"auto",alignSelf:"stretch",overflow:"hidden",whiteSpace:"nowrap",transform:"translate(0)","&::before, &::after":{position:"absolute",zIndex:1,opacity:0,transition:`opacity ${e.motionDurationSlow}`,content:"''",pointerEvents:"none"}},[`${t}-nav-list`]:{position:"relative",display:"flex",transition:`opacity ${e.motionDurationSlow}`},[`${t}-nav-operations`]:{display:"flex",alignSelf:"stretch"},[`${t}-nav-operations-hidden`]:{position:"absolute",visibility:"hidden",pointerEvents:"none"},[`${t}-nav-more`]:{position:"relative",padding:a,background:"transparent",border:0,color:e.colorText,"&::after":{position:"absolute",right:{_skip_check_:!0,value:0},bottom:0,left:{_skip_check_:!0,value:0},height:e.calc(e.controlHeightLG).div(8).equal(),transform:"translateY(100%)",content:"''"}},[`${t}-nav-add`]:Object.assign({minWidth:o,marginLeft:{_skip_check_:!0,value:f},padding:(0,fe.bf)(e.paddingXS),background:"transparent",border:`${(0,fe.bf)(e.lineWidth)} ${e.lineType} ${w}`,borderRadius:`${(0,fe.bf)(e.borderRadiusLG)} ${(0,fe.bf)(e.borderRadiusLG)} 0 0`,outline:"none",cursor:"pointer",color:e.colorText,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOut}`,"&:hover":{color:y},"&:active, &:focus:not(:focus-visible)":{color:C}},(0,Wt.Qy)(e,-3))},[`${t}-extra-content`]:{flex:"none"},[`${t}-ink-bar`]:{position:"absolute",background:e.inkBarColor,pointerEvents:"none"}}),WC(e)),{[`${t}-content`]:{position:"relative",width:"100%"},[`${t}-content-holder`]:{flex:"auto",minWidth:0,minHeight:0},[`${t}-tabpane`]:Object.assign(Object.assign({},(0,Wt.Qy)(e)),{"&-hidden":{display:"none"}})}),[`${t}-centered`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-nav-wrap`]:{[`&:not([class*='${t}-nav-wrap-ping']) > ${t}-nav-list`]:{margin:"auto"}}}}}},KC=e=>{const t=e.controlHeightLG;return{zIndexPopup:e.zIndexPopupBase+50,cardBg:e.colorFillAlter,cardHeight:t,cardPadding:`${(t-Math.round(e.fontSize*e.lineHeight))/2-e.lineWidth}px ${e.padding}px`,cardPaddingSM:`${e.paddingXXS*1.5}px ${e.padding}px`,cardPaddingLG:`${e.paddingXS}px ${e.padding}px ${e.paddingXXS*1.5}px`,titleFontSize:e.fontSize,titleFontSizeLG:e.fontSizeLG,titleFontSizeSM:e.fontSize,inkBarColor:e.colorPrimary,horizontalMargin:`0 0 ${e.margin}px 0`,horizontalItemGutter:32,horizontalItemMargin:"",horizontalItemMarginRTL:"",horizontalItemPadding:`${e.paddingSM}px 0`,horizontalItemPaddingSM:`${e.paddingXS}px 0`,horizontalItemPaddingLG:`${e.padding}px 0`,verticalItemPadding:`${e.paddingXS}px ${e.paddingLG}px`,verticalItemMargin:`${e.margin}px 0 0 0`,itemColor:e.colorText,itemSelectedColor:e.colorPrimary,itemHoverColor:e.colorPrimaryHover,itemActiveColor:e.colorPrimaryActive,cardGutter:e.marginXXS/2}};var XC=(0,te.I$)("Tabs",e=>{const t=(0,Ur.IX)(e,{tabsCardPadding:e.cardPadding,dropdownEdgeChildVerticalPadding:e.paddingXXS,tabsActiveTextShadow:"0 0 0.25px currentcolor",tabsDropdownHeight:200,tabsDropdownWidth:120,tabsHorizontalItemMargin:`0 0 0 ${(0,fe.bf)(e.horizontalItemGutter)}`,tabsHorizontalItemMarginRTL:`0 0 0 ${(0,fe.bf)(e.horizontalItemGutter)}`});return[UC(t),k1(t),xg(t),U0(t),F1(t),GC(t),B1(t)]},KC),Cg=()=>null,Wy=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const kf=e=>{var t,a,o,f,y,C,w,I,D,z,L;const{type:k,className:Z,rootClassName:j,size:G,onEdit:H,hideAdd:K,centered:ee,addIcon:ie,removeIcon:oe,moreIcon:re,more:se,popupClassName:ue,children:me,items:pe,animated:ye,style:Se,indicatorSize:Ie,indicator:we}=e,Be=Wy(e,["type","className","rootClassName","size","onEdit","hideAdd","centered","addIcon","removeIcon","moreIcon","more","popupClassName","children","items","animated","style","indicatorSize","indicator"]),{prefixCls:Re}=Be,{direction:je,tabs:Ne,getPrefixCls:nt,getPopupContainer:at}=s.useContext(ve.E_),Ct=nt("tabs",Re),St=(0,Fn.Z)(Ct),[_t,ft,vt]=XC(Ct,St);let $t;k==="editable-card"&&($t={onEdit:(Tn,Kt)=>{let{key:zt,event:Dn}=Kt;H==null||H(Tn==="add"?Dn:zt,Tn)},removeIcon:(t=oe!=null?oe:Ne==null?void 0:Ne.removeIcon)!==null&&t!==void 0?t:s.createElement(er.Z,null),addIcon:(ie!=null?ie:Ne==null?void 0:Ne.addIcon)||s.createElement($y,null),showAdd:K!==!0});const It=nt(),Ft=(0,Br.Z)(G),wt=N1(pe,me),pn=Bm(Ct,ye),Bn=Object.assign(Object.assign({},Ne==null?void 0:Ne.style),Se),ln={align:(a=we==null?void 0:we.align)!==null&&a!==void 0?a:(o=Ne==null?void 0:Ne.indicator)===null||o===void 0?void 0:o.align,size:(w=(y=(f=we==null?void 0:we.size)!==null&&f!==void 0?f:Ie)!==null&&y!==void 0?y:(C=Ne==null?void 0:Ne.indicator)===null||C===void 0?void 0:C.size)!==null&&w!==void 0?w:Ne==null?void 0:Ne.indicatorSize};return _t(s.createElement(H0,Object.assign({direction:je,getPopupContainer:at},Be,{items:wt,className:Y()({[`${Ct}-${Ft}`]:Ft,[`${Ct}-card`]:["card","editable-card"].includes(k),[`${Ct}-editable-card`]:k==="editable-card",[`${Ct}-centered`]:ee},Ne==null?void 0:Ne.className,Z,j,ft,vt,St),popupClassName:Y()(ue,ft,vt,St),style:Bn,editable:$t,more:Object.assign({icon:(L=(z=(D=(I=Ne==null?void 0:Ne.more)===null||I===void 0?void 0:I.icon)!==null&&D!==void 0?D:Ne==null?void 0:Ne.moreIcon)!==null&&z!==void 0?z:re)!==null&&L!==void 0?L:s.createElement(Zv,null),transitionName:`${It}-slide-up`},se),prefixCls:Ct,animated:pn,indicator:ln})))};kf.TabPane=Cg;var zh=kf,Sg=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},wg=e=>{var{prefixCls:t,className:a,hoverable:o=!0}=e,f=Sg(e,["prefixCls","className","hoverable"]);const{getPrefixCls:y}=s.useContext(ve.E_),C=y("card",t),w=Y()(`${C}-grid`,a,{[`${C}-grid-hoverable`]:o});return s.createElement("div",Object.assign({},f,{className:w}))};const Gy=e=>{const{antCls:t,componentCls:a,headerHeight:o,headerPadding:f,tabsMarginBottom:y}=e;return Object.assign(Object.assign({display:"flex",justifyContent:"center",flexDirection:"column",minHeight:o,marginBottom:-1,padding:`0 ${(0,fe.bf)(f)}`,color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:e.headerFontSize,background:e.headerBg,borderBottom:`${(0,fe.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorderSecondary}`,borderRadius:`${(0,fe.bf)(e.borderRadiusLG)} ${(0,fe.bf)(e.borderRadiusLG)} 0 0`},(0,Wt.dF)()),{"&-wrapper":{width:"100%",display:"flex",alignItems:"center"},"&-title":Object.assign(Object.assign({display:"inline-block",flex:1},Wt.vS),{[`
          > ${a}-typography,
          > ${a}-typography-edit-content
        `]:{insetInlineStart:0,marginTop:0,marginBottom:0}}),[`${t}-tabs-top`]:{clear:"both",marginBottom:y,color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,"&-bar":{borderBottom:`${(0,fe.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorderSecondary}`}}})},Ky=e=>{const{cardPaddingBase:t,colorBorderSecondary:a,cardShadow:o,lineWidth:f}=e;return{width:"33.33%",padding:t,border:0,borderRadius:0,boxShadow:`
      ${(0,fe.bf)(f)} 0 0 0 ${a},
      0 ${(0,fe.bf)(f)} 0 0 ${a},
      ${(0,fe.bf)(f)} ${(0,fe.bf)(f)} 0 0 ${a},
      ${(0,fe.bf)(f)} 0 0 0 ${a} inset,
      0 ${(0,fe.bf)(f)} 0 0 ${a} inset;
    `,transition:`all ${e.motionDurationMid}`,"&-hoverable:hover":{position:"relative",zIndex:1,boxShadow:o}}},W0=e=>{const{componentCls:t,iconCls:a,actionsLiMargin:o,cardActionsIconSize:f,colorBorderSecondary:y,actionsBg:C}=e;return Object.assign(Object.assign({margin:0,padding:0,listStyle:"none",background:C,borderTop:`${(0,fe.bf)(e.lineWidth)} ${e.lineType} ${y}`,display:"flex",borderRadius:`0 0 ${(0,fe.bf)(e.borderRadiusLG)} ${(0,fe.bf)(e.borderRadiusLG)}`},(0,Wt.dF)()),{"& > li":{margin:o,color:e.colorTextDescription,textAlign:"center","> span":{position:"relative",display:"block",minWidth:e.calc(e.cardActionsIconSize).mul(2).equal(),fontSize:e.fontSize,lineHeight:e.lineHeight,cursor:"pointer","&:hover":{color:e.colorPrimary,transition:`color ${e.motionDurationMid}`},[`a:not(${t}-btn), > ${a}`]:{display:"inline-block",width:"100%",color:e.colorTextDescription,lineHeight:(0,fe.bf)(e.fontHeight),transition:`color ${e.motionDurationMid}`,"&:hover":{color:e.colorPrimary}},[`> ${a}`]:{fontSize:f,lineHeight:(0,fe.bf)(e.calc(f).mul(e.lineHeight).equal())}},"&:not(:last-child)":{borderInlineEnd:`${(0,fe.bf)(e.lineWidth)} ${e.lineType} ${y}`}}})},Eg=e=>Object.assign(Object.assign({margin:`${(0,fe.bf)(e.calc(e.marginXXS).mul(-1).equal())} 0`,display:"flex"},(0,Wt.dF)()),{"&-avatar":{paddingInlineEnd:e.padding},"&-detail":{overflow:"hidden",flex:1,"> div:not(:last-child)":{marginBottom:e.marginXS}},"&-title":Object.assign({color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG},Wt.vS),"&-description":{color:e.colorTextDescription}}),Z1=e=>{const{componentCls:t,colorFillAlter:a,headerPadding:o,bodyPadding:f}=e;return{[`${t}-head`]:{padding:`0 ${(0,fe.bf)(o)}`,background:a,"&-title":{fontSize:e.fontSize}},[`${t}-body`]:{padding:`${(0,fe.bf)(e.padding)} ${(0,fe.bf)(f)}`}}},Fm=e=>{const{componentCls:t}=e;return{overflow:"hidden",[`${t}-body`]:{userSelect:"none"}}},V1=e=>{const{componentCls:t,cardShadow:a,cardHeadPadding:o,colorBorderSecondary:f,boxShadowTertiary:y,bodyPadding:C,extraColor:w}=e;return{[t]:Object.assign(Object.assign({},(0,Wt.Wf)(e)),{position:"relative",background:e.colorBgContainer,borderRadius:e.borderRadiusLG,[`&:not(${t}-bordered)`]:{boxShadow:y},[`${t}-head`]:Gy(e),[`${t}-extra`]:{marginInlineStart:"auto",color:w,fontWeight:"normal",fontSize:e.fontSize},[`${t}-body`]:Object.assign({padding:C,borderRadius:`0 0 ${(0,fe.bf)(e.borderRadiusLG)} ${(0,fe.bf)(e.borderRadiusLG)}`},(0,Wt.dF)()),[`${t}-grid`]:Ky(e),[`${t}-cover`]:{"> *":{display:"block",width:"100%",borderRadius:`${(0,fe.bf)(e.borderRadiusLG)} ${(0,fe.bf)(e.borderRadiusLG)} 0 0`}},[`${t}-actions`]:W0(e),[`${t}-meta`]:Eg(e)}),[`${t}-bordered`]:{border:`${(0,fe.bf)(e.lineWidth)} ${e.lineType} ${f}`,[`${t}-cover`]:{marginTop:-1,marginInlineStart:-1,marginInlineEnd:-1}},[`${t}-hoverable`]:{cursor:"pointer",transition:`box-shadow ${e.motionDurationMid}, border-color ${e.motionDurationMid}`,"&:hover":{borderColor:"transparent",boxShadow:a}},[`${t}-contain-grid`]:{borderRadius:`${(0,fe.bf)(e.borderRadiusLG)} ${(0,fe.bf)(e.borderRadiusLG)} 0 0 `,[`${t}-body`]:{display:"flex",flexWrap:"wrap"},[`&:not(${t}-loading) ${t}-body`]:{marginBlockStart:e.calc(e.lineWidth).mul(-1).equal(),marginInlineStart:e.calc(e.lineWidth).mul(-1).equal(),padding:0}},[`${t}-contain-tabs`]:{[`> div${t}-head`]:{minHeight:0,[`${t}-head-title, ${t}-extra`]:{paddingTop:o}}},[`${t}-type-inner`]:Z1(e),[`${t}-loading`]:Fm(e),[`${t}-rtl`]:{direction:"rtl"}}},qC=e=>{const{componentCls:t,bodyPaddingSM:a,headerPaddingSM:o,headerHeightSM:f,headerFontSizeSM:y}=e;return{[`${t}-small`]:{[`> ${t}-head`]:{minHeight:f,padding:`0 ${(0,fe.bf)(o)}`,fontSize:y,[`> ${t}-head-wrapper`]:{[`> ${t}-extra`]:{fontSize:e.fontSize}}},[`> ${t}-body`]:{padding:a}},[`${t}-small${t}-contain-tabs`]:{[`> ${t}-head`]:{[`${t}-head-title, ${t}-extra`]:{paddingTop:0,display:"flex",alignItems:"center"}}}}},H1=e=>{var t,a;return{headerBg:"transparent",headerFontSize:e.fontSizeLG,headerFontSizeSM:e.fontSize,headerHeight:e.fontSizeLG*e.lineHeightLG+e.padding*2,headerHeightSM:e.fontSize*e.lineHeight+e.paddingXS*2,actionsBg:e.colorBgContainer,actionsLiMargin:`${e.paddingSM}px 0`,tabsMarginBottom:-e.padding-e.lineWidth,extraColor:e.colorText,bodyPaddingSM:12,headerPaddingSM:12,bodyPadding:(t=e.bodyPadding)!==null&&t!==void 0?t:e.paddingLG,headerPadding:(a=e.headerPadding)!==null&&a!==void 0?a:e.paddingLG}};var JC=(0,te.I$)("Card",e=>{const t=(0,Ur.IX)(e,{cardShadow:e.boxShadowCard,cardHeadPadding:e.padding,cardPaddingBase:e.paddingLG,cardActionsIconSize:e.fontSize});return[V1(t),qC(t)]},H1),jf=F(7038),U1=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const QC=e=>{const{actionClasses:t,actions:a=[],actionStyle:o}=e;return s.createElement("ul",{className:t,style:o},a.map((f,y)=>{const C=`action-${y}`;return s.createElement("li",{style:{width:`${100/a.length}%`},key:C},s.createElement("span",null,f))}))};var G0=s.forwardRef((e,t)=>{const{prefixCls:a,className:o,rootClassName:f,style:y,extra:C,headStyle:w={},bodyStyle:I={},title:D,loading:z,bordered:L,variant:k,size:Z,type:j,cover:G,actions:H,tabList:K,children:ee,activeTabKey:ie,defaultActiveTabKey:oe,tabBarExtraContent:re,hoverable:se,tabProps:ue={},classNames:me,styles:pe}=e,ye=U1(e,["prefixCls","className","rootClassName","style","extra","headStyle","bodyStyle","title","loading","bordered","variant","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps","classNames","styles"]),{getPrefixCls:Se,direction:Ie,card:we}=s.useContext(ve.E_),[Be]=(0,jf.Z)("card",k,L),Re=qn=>{var Rn;(Rn=e.onTabChange)===null||Rn===void 0||Rn.call(e,qn)},je=qn=>{var Rn;return Y()((Rn=we==null?void 0:we.classNames)===null||Rn===void 0?void 0:Rn[qn],me==null?void 0:me[qn])},Ne=qn=>{var Rn;return Object.assign(Object.assign({},(Rn=we==null?void 0:we.styles)===null||Rn===void 0?void 0:Rn[qn]),pe==null?void 0:pe[qn])},nt=s.useMemo(()=>{let qn=!1;return s.Children.forEach(ee,Rn=>{(Rn==null?void 0:Rn.type)===wg&&(qn=!0)}),qn},[ee]),at=Se("card",a),[Ct,St,_t]=JC(at),ft=s.createElement(Tr,{loading:!0,active:!0,paragraph:{rows:4},title:!1},ee),vt=ie!==void 0,$t=Object.assign(Object.assign({},ue),{[vt?"activeKey":"defaultActiveKey"]:vt?ie:oe,tabBarExtraContent:re});let It;const Ft=(0,Br.Z)(Z),wt=!Ft||Ft==="default"?"large":Ft,pn=K?s.createElement(zh,Object.assign({size:wt},$t,{className:`${at}-head-tabs`,onChange:Re,items:K.map(qn=>{var{tab:Rn}=qn,Jn=U1(qn,["tab"]);return Object.assign({label:Rn},Jn)})})):null;if(D||C||pn){const qn=Y()(`${at}-head`,je("header")),Rn=Y()(`${at}-head-title`,je("title")),Jn=Y()(`${at}-extra`,je("extra")),zr=Object.assign(Object.assign({},w),Ne("header"));It=s.createElement("div",{className:qn,style:zr},s.createElement("div",{className:`${at}-head-wrapper`},D&&s.createElement("div",{className:Rn,style:Ne("title")},D),C&&s.createElement("div",{className:Jn,style:Ne("extra")},C)),pn)}const Bn=Y()(`${at}-cover`,je("cover")),ln=G?s.createElement("div",{className:Bn,style:Ne("cover")},G):null,Tn=Y()(`${at}-body`,je("body")),Kt=Object.assign(Object.assign({},I),Ne("body")),zt=s.createElement("div",{className:Tn,style:Kt},z?ft:ee),Dn=Y()(`${at}-actions`,je("actions")),Sn=H!=null&&H.length?s.createElement(QC,{actionClasses:Dn,actionStyle:Ne("actions"),actions:H}):null,Ir=(0,ci.Z)(ye,["onTabChange"]),ur=Y()(at,we==null?void 0:we.className,{[`${at}-loading`]:z,[`${at}-bordered`]:Be!=="borderless",[`${at}-hoverable`]:se,[`${at}-contain-grid`]:nt,[`${at}-contain-tabs`]:K==null?void 0:K.length,[`${at}-${Ft}`]:Ft,[`${at}-type-${j}`]:!!j,[`${at}-rtl`]:Ie==="rtl"},o,f,St,_t),Yn=Object.assign(Object.assign({},we==null?void 0:we.style),y);return Ct(s.createElement("div",Object.assign({ref:t},Ir,{className:ur,style:Yn}),It,ln,zt,Sn))}),eS=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},K0=e=>{const{prefixCls:t,className:a,avatar:o,title:f,description:y}=e,C=eS(e,["prefixCls","className","avatar","title","description"]),{getPrefixCls:w}=s.useContext(ve.E_),I=w("card",t),D=Y()(`${I}-meta`,a),z=o?s.createElement("div",{className:`${I}-meta-avatar`},o):null,L=f?s.createElement("div",{className:`${I}-meta-title`},f):null,k=y?s.createElement("div",{className:`${I}-meta-description`},y):null,Z=L||k?s.createElement("div",{className:`${I}-meta-detail`},L,k):null;return s.createElement("div",Object.assign({},C,{className:D}),z,Z)};const Xy=G0;Xy.Grid=wg,Xy.Meta=K0;var tS=Xy,nS={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0},X0=nS;function rS(e,t,a){var o=a||{},f=o.noTrailing,y=f===void 0?!1:f,C=o.noLeading,w=C===void 0?!1:C,I=o.debounceMode,D=I===void 0?void 0:I,z,L=!1,k=0;function Z(){z&&clearTimeout(z)}function j(H){var K=H||{},ee=K.upcomingOnly,ie=ee===void 0?!1:ee;Z(),L=!ie}function G(){for(var H=arguments.length,K=new Array(H),ee=0;ee<H;ee++)K[ee]=arguments[ee];var ie=this,oe=Date.now()-k;if(L)return;function re(){k=Date.now(),t.apply(ie,K)}function se(){z=void 0}!w&&D&&!z&&re(),Z(),D===void 0&&oe>e?w?(k=Date.now(),y||(z=setTimeout(D?se:re,e))):re():y!==!0&&(z=setTimeout(D?se:re,D===void 0?e-oe:e))}return G.cancel=j,G}function W1(e,t,a){var o=a||{},f=o.atBegin,y=f===void 0?!1:f;return rS(e,t,{debounceMode:y!==!1})}var G1={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(t){return s.createElement("ul",{style:{display:"block"}},t)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(t){return s.createElement("button",null,t+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,asNavFor:null},Yy=G1;function qy(e,t,a){return Math.max(t,Math.min(e,a))}var km=function(t){var a=["onTouchStart","onTouchMove","onWheel"];a.includes(t._reactName)||t.preventDefault()},Y0=function(t){for(var a=[],o=Zf(t),f=Lh(t),y=o;y<f;y++)t.lazyLoadedList.indexOf(y)<0&&a.push(y);return a},d2=function(t){for(var a=[],o=Zf(t),f=Lh(t),y=o;y<f;y++)a.push(y);return a},Zf=function(t){return t.currentSlide-iS(t)},Lh=function(t){return t.currentSlide+Jy(t)},iS=function(t){return t.centerMode?Math.floor(t.slidesToShow/2)+(parseInt(t.centerPadding)>0?1:0):0},Jy=function(t){return t.centerMode?Math.floor((t.slidesToShow-1)/2)+1+(parseInt(t.centerPadding)>0?1:0):t.slidesToShow},q0=function(t){return t&&t.offsetWidth||0},J0=function(t){return t&&t.offsetHeight||0},Qy=function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o,f,y,C;return o=t.startX-t.curX,f=t.startY-t.curY,y=Math.atan2(f,o),C=Math.round(y*180/Math.PI),C<0&&(C=360-Math.abs(C)),C<=45&&C>=0||C<=360&&C>=315?"left":C>=135&&C<=225?"right":a===!0?C>=35&&C<=135?"up":"down":"vertical"},Ig=function(t){var a=!0;return t.infinite||(t.centerMode&&t.currentSlide>=t.slideCount-1||t.slideCount<=t.slidesToShow||t.currentSlide>=t.slideCount-t.slidesToShow)&&(a=!1),a},Q0=function(t,a){var o={};return a.forEach(function(f){return o[f]=t[f]}),o},K1=function(t){var a=s.Children.count(t.children),o=t.listRef,f=Math.ceil(q0(o)),y=t.trackRef&&t.trackRef.node,C=Math.ceil(q0(y)),w;if(t.vertical)w=f;else{var I=t.centerMode&&parseInt(t.centerPadding)*2;typeof t.centerPadding=="string"&&t.centerPadding.slice(-1)==="%"&&(I*=f/100),w=Math.ceil((f-I)/t.slidesToShow)}var D=o&&J0(o.querySelector('[data-index="0"]')),z=D*t.slidesToShow,L=t.currentSlide===void 0?t.initialSlide:t.currentSlide;t.rtl&&t.currentSlide===void 0&&(L=a-1-t.initialSlide);var k=t.lazyLoadedList||[],Z=Y0((0,X.Z)((0,X.Z)({},t),{},{currentSlide:L,lazyLoadedList:k}));k=k.concat(Z);var j={slideCount:a,slideWidth:w,listWidth:f,trackWidth:C,currentSlide:L,slideHeight:D,listHeight:z,lazyLoadedList:k};return t.autoplaying===null&&t.autoplay&&(j.autoplaying="playing"),j},X1=function(t){var a=t.waitForAnimate,o=t.animating,f=t.fade,y=t.infinite,C=t.index,w=t.slideCount,I=t.lazyLoad,D=t.currentSlide,z=t.centerMode,L=t.slidesToScroll,k=t.slidesToShow,Z=t.useCSS,j=t.lazyLoadedList;if(a&&o)return{};var G=C,H,K,ee,ie={},oe={},re=y?C:qy(C,0,w-1);if(f){if(!y&&(C<0||C>=w))return{};C<0?G=C+w:C>=w&&(G=C-w),I&&j.indexOf(G)<0&&(j=j.concat(G)),ie={animating:!0,currentSlide:G,lazyLoadedList:j,targetSlide:G},oe={animating:!1,targetSlide:G}}else H=G,G<0?(H=G+w,y?w%L!==0&&(H=w-w%L):H=0):!Ig(t)&&G>D?G=H=D:z&&G>=w?(G=y?w:w-1,H=y?0:w-1):G>=w&&(H=G-w,y?w%L!==0&&(H=0):H=w-k),!y&&G+k>=w&&(H=w-k),K=Zm((0,X.Z)((0,X.Z)({},t),{},{slideIndex:G})),ee=Zm((0,X.Z)((0,X.Z)({},t),{},{slideIndex:H})),y||(K===ee&&(G=H),K=ee),I&&(j=j.concat(Y0((0,X.Z)((0,X.Z)({},t),{},{currentSlide:G})))),Z?(ie={animating:!0,currentSlide:H,trackStyle:i_((0,X.Z)((0,X.Z)({},t),{},{left:K})),lazyLoadedList:j,targetSlide:re},oe={animating:!1,currentSlide:H,trackStyle:jm((0,X.Z)((0,X.Z)({},t),{},{left:ee})),swipeLeft:null,targetSlide:re}):ie={currentSlide:H,trackStyle:jm((0,X.Z)((0,X.Z)({},t),{},{left:ee})),lazyLoadedList:j,targetSlide:re};return{state:ie,nextState:oe}},Y1=function(t,a){var o,f,y,C,w,I=t.slidesToScroll,D=t.slidesToShow,z=t.slideCount,L=t.currentSlide,k=t.targetSlide,Z=t.lazyLoad,j=t.infinite;if(C=z%I!==0,o=C?0:(z-L)%I,a.message==="previous")y=o===0?I:D-o,w=L-y,Z&&!j&&(f=L-y,w=f===-1?z-1:f),j||(w=k-I);else if(a.message==="next")y=o===0?I:o,w=L+y,Z&&!j&&(w=(L+I)%z+o),j||(w=k+I);else if(a.message==="dots")w=a.index*a.slidesToScroll;else if(a.message==="children"){if(w=a.index,j){var G=aS((0,X.Z)((0,X.Z)({},t),{},{targetSlide:w}));w>a.currentSlide&&G==="left"?w=w-z:w<a.currentSlide&&G==="right"&&(w=w+z)}}else a.message==="index"&&(w=Number(a.index));return w},q1=function(t,a,o){return t.target.tagName.match("TEXTAREA|INPUT|SELECT")||!a?"":t.keyCode===37?o?"next":"previous":t.keyCode===39?o?"previous":"next":""},ev=function(t,a,o){return t.target.tagName==="IMG"&&km(t),!a||!o&&t.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:t.touches?t.touches[0].pageX:t.clientX,startY:t.touches?t.touches[0].pageY:t.clientY,curX:t.touches?t.touches[0].pageX:t.clientX,curY:t.touches?t.touches[0].pageY:t.clientY}}},J1=function(t,a){var o=a.scrolling,f=a.animating,y=a.vertical,C=a.swipeToSlide,w=a.verticalSwiping,I=a.rtl,D=a.currentSlide,z=a.edgeFriction,L=a.edgeDragged,k=a.onEdge,Z=a.swiped,j=a.swiping,G=a.slideCount,H=a.slidesToScroll,K=a.infinite,ee=a.touchObject,ie=a.swipeEvent,oe=a.listHeight,re=a.listWidth;if(!o){if(f)return km(t);y&&C&&w&&km(t);var se,ue={},me=Zm(a);ee.curX=t.touches?t.touches[0].pageX:t.clientX,ee.curY=t.touches?t.touches[0].pageY:t.clientY,ee.swipeLength=Math.round(Math.sqrt(Math.pow(ee.curX-ee.startX,2)));var pe=Math.round(Math.sqrt(Math.pow(ee.curY-ee.startY,2)));if(!w&&!j&&pe>10)return{scrolling:!0};w&&(ee.swipeLength=pe);var ye=(I?-1:1)*(ee.curX>ee.startX?1:-1);w&&(ye=ee.curY>ee.startY?1:-1);var Se=Math.ceil(G/H),Ie=Qy(a.touchObject,w),we=ee.swipeLength;return K||(D===0&&(Ie==="right"||Ie==="down")||D+1>=Se&&(Ie==="left"||Ie==="up")||!Ig(a)&&(Ie==="left"||Ie==="up"))&&(we=ee.swipeLength*z,L===!1&&k&&(k(Ie),ue.edgeDragged=!0)),!Z&&ie&&(ie(Ie),ue.swiped=!0),y?se=me+we*(oe/re)*ye:I?se=me-we*ye:se=me+we*ye,w&&(se=me+we*ye),ue=(0,X.Z)((0,X.Z)({},ue),{},{touchObject:ee,swipeLeft:se,trackStyle:jm((0,X.Z)((0,X.Z)({},a),{},{left:se}))}),Math.abs(ee.curX-ee.startX)<Math.abs(ee.curY-ee.startY)*.8||ee.swipeLength>10&&(ue.swiping=!0,km(t)),ue}},e_=function(t,a){var o=a.dragging,f=a.swipe,y=a.touchObject,C=a.listWidth,w=a.touchThreshold,I=a.verticalSwiping,D=a.listHeight,z=a.swipeToSlide,L=a.scrolling,k=a.onSwipe,Z=a.targetSlide,j=a.currentSlide,G=a.infinite;if(!o)return f&&km(t),{};var H=I?D/w:C/w,K=Qy(y,I),ee={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(L||!y.swipeLength)return ee;if(y.swipeLength>H){km(t),k&&k(K);var ie,oe,re=G?j:Z;switch(K){case"left":case"up":oe=re+r_(a),ie=z?n_(a,oe):oe,ee.currentDirection=0;break;case"right":case"down":oe=re-r_(a),ie=z?n_(a,oe):oe,ee.currentDirection=1;break;default:ie=re}ee.triggerSlideHandler=ie}else{var se=Zm(a);ee.trackStyle=i_((0,X.Z)((0,X.Z)({},a),{},{left:se}))}return ee},t_=function(t){for(var a=t.infinite?t.slideCount*2:t.slideCount,o=t.infinite?t.slidesToShow*-1:0,f=t.infinite?t.slidesToShow*-1:0,y=[];o<a;)y.push(o),o=f+t.slidesToScroll,f+=Math.min(t.slidesToScroll,t.slidesToShow);return y},n_=function(t,a){var o=t_(t),f=0;if(a>o[o.length-1])a=o[o.length-1];else for(var y in o){if(a<o[y]){a=f;break}f=o[y]}return a},r_=function(t){var a=t.centerMode?t.slideWidth*Math.floor(t.slidesToShow/2):0;if(t.swipeToSlide){var o,f=t.listRef,y=f.querySelectorAll&&f.querySelectorAll(".slick-slide")||[];if(Array.from(y).every(function(I){if(t.vertical){if(I.offsetTop+J0(I)/2>t.swipeLeft*-1)return o=I,!1}else if(I.offsetLeft-a+q0(I)/2>t.swipeLeft*-1)return o=I,!1;return!0}),!o)return 0;var C=t.rtl===!0?t.slideCount-t.currentSlide:t.currentSlide,w=Math.abs(o.dataset.index-C)||1;return w}else return t.slidesToScroll},tv=function(t,a){return a.reduce(function(o,f){return o&&t.hasOwnProperty(f)},!0)?null:console.error("Keys Missing:",t)},jm=function(t){tv(t,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var a,o;if(!t.vertical)a=oS(t)*t.slideWidth;else{var f=t.unslick?t.slideCount:t.slideCount+2*t.slidesToShow;o=f*t.slideHeight}var y={opacity:1,transition:"",WebkitTransition:""};if(t.useTransform){var C=t.vertical?"translate3d(0px, "+t.left+"px, 0px)":"translate3d("+t.left+"px, 0px, 0px)",w=t.vertical?"translate3d(0px, "+t.left+"px, 0px)":"translate3d("+t.left+"px, 0px, 0px)",I=t.vertical?"translateY("+t.left+"px)":"translateX("+t.left+"px)";y=(0,X.Z)((0,X.Z)({},y),{},{WebkitTransform:C,transform:w,msTransform:I})}else t.vertical?y.top=t.left:y.left=t.left;return t.fade&&(y={opacity:1}),a&&(y.width=a),o&&(y.height=o),window&&!window.addEventListener&&window.attachEvent&&(t.vertical?y.marginTop=t.left+"px":y.marginLeft=t.left+"px"),y},i_=function(t){tv(t,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var a=jm(t);return t.useTransform?(a.WebkitTransition="-webkit-transform "+t.speed+"ms "+t.cssEase,a.transition="transform "+t.speed+"ms "+t.cssEase):t.vertical?a.transition="top "+t.speed+"ms "+t.cssEase:a.transition="left "+t.speed+"ms "+t.cssEase,a},Zm=function(t){if(t.unslick)return 0;tv(t,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var a=t.slideIndex,o=t.trackRef,f=t.infinite,y=t.centerMode,C=t.slideCount,w=t.slidesToShow,I=t.slidesToScroll,D=t.slideWidth,z=t.listWidth,L=t.variableWidth,k=t.slideHeight,Z=t.fade,j=t.vertical,G=0,H,K,ee=0;if(Z||t.slideCount===1)return 0;var ie=0;if(f?(ie=-xd(t),C%I!==0&&a+I>C&&(ie=-(a>C?w-(a-C):C%I)),y&&(ie+=parseInt(w/2))):(C%I!==0&&a+I>C&&(ie=w-C%I),y&&(ie=parseInt(w/2))),G=ie*D,ee=ie*k,j?H=a*k*-1+ee:H=a*D*-1+G,L===!0){var oe,re=o&&o.node;if(oe=a+xd(t),K=re&&re.childNodes[oe],H=K?K.offsetLeft*-1:0,y===!0){oe=f?a+xd(t):a,K=re&&re.children[oe],H=0;for(var se=0;se<oe;se++)H-=re&&re.children[se]&&re.children[se].offsetWidth;H-=parseInt(t.centerPadding),H+=K&&(z-K.offsetWidth)/2}}return H},xd=function(t){return t.unslick||!t.infinite?0:t.variableWidth?t.slideCount:t.slidesToShow+(t.centerMode?1:0)},td=function(t){return t.unslick||!t.infinite?0:t.slideCount},oS=function(t){return t.slideCount===1?1:xd(t)+t.slideCount+td(t)},aS=function(t){return t.targetSlide>t.currentSlide?t.targetSlide>t.currentSlide+sS(t)?"left":"right":t.targetSlide<t.currentSlide-nv(t)?"right":"left"},sS=function(t){var a=t.slidesToShow,o=t.centerMode,f=t.rtl,y=t.centerPadding;if(o){var C=(a-1)/2+1;return parseInt(y)>0&&(C+=1),f&&a%2===0&&(C+=1),C}return f?0:a-1},nv=function(t){var a=t.slidesToShow,o=t.centerMode,f=t.rtl,y=t.centerPadding;if(o){var C=(a-1)/2+1;return parseInt(y)>0&&(C+=1),!f&&a%2===0&&(C+=1),C}return f?a-1:0},Q1=function(){return!!(typeof window!="undefined"&&window.document&&window.document.createElement)},lS=Object.keys(Yy);function cS(e){return lS.reduce(function(t,a){return e.hasOwnProperty(a)&&(t[a]=e[a]),t},{})}function uS(e,t,a){return t=(0,fn.Z)(t),(0,Un.Z)(e,(0,xr.Z)()?Reflect.construct(t,a||[],(0,fn.Z)(e).constructor):t.apply(e,a))}var o_=function(t){var a,o,f,y,C;t.rtl?C=t.slideCount-1-t.index:C=t.index,f=C<0||C>=t.slideCount,t.centerMode?(y=Math.floor(t.slidesToShow/2),o=(C-t.currentSlide)%t.slideCount===0,C>t.currentSlide-y-1&&C<=t.currentSlide+y&&(a=!0)):a=t.currentSlide<=C&&C<t.currentSlide+t.slidesToShow;var w;t.targetSlide<0?w=t.targetSlide+t.slideCount:t.targetSlide>=t.slideCount?w=t.targetSlide-t.slideCount:w=t.targetSlide;var I=C===w;return{"slick-slide":!0,"slick-active":a,"slick-center":o,"slick-cloned":f,"slick-current":I}},dS=function(t){var a={};return(t.variableWidth===void 0||t.variableWidth===!1)&&(a.width=t.slideWidth),t.fade&&(a.position="relative",t.vertical&&t.slideHeight?a.top=-t.index*parseInt(t.slideHeight):a.left=-t.index*parseInt(t.slideWidth),a.opacity=t.currentSlide===t.index?1:0,a.zIndex=t.currentSlide===t.index?999:998,t.useCSS&&(a.transition="opacity "+t.speed+"ms "+t.cssEase+", visibility "+t.speed+"ms "+t.cssEase)),a},a_=function(t,a){return t.key+"-"+a},fS=function(t){var a,o=[],f=[],y=[],C=s.Children.count(t.children),w=Zf(t),I=Lh(t);return s.Children.forEach(t.children,function(D,z){var L,k={message:"children",index:z,slidesToScroll:t.slidesToScroll,currentSlide:t.currentSlide};!t.lazyLoad||t.lazyLoad&&t.lazyLoadedList.indexOf(z)>=0?L=D:L=s.createElement("div",null);var Z=dS((0,X.Z)((0,X.Z)({},t),{},{index:z})),j=L.props.className||"",G=o_((0,X.Z)((0,X.Z)({},t),{},{index:z}));if(o.push(s.cloneElement(L,{key:"original"+a_(L,z),"data-index":z,className:Y()(G,j),tabIndex:"-1","aria-hidden":!G["slick-active"],style:(0,X.Z)((0,X.Z)({outline:"none"},L.props.style||{}),Z),onClick:function(ee){L.props&&L.props.onClick&&L.props.onClick(ee),t.focusOnSelect&&t.focusOnSelect(k)}})),t.infinite&&C>1&&t.fade===!1&&!t.unslick){var H=C-z;H<=xd(t)&&(a=-H,a>=w&&(L=D),G=o_((0,X.Z)((0,X.Z)({},t),{},{index:a})),f.push(s.cloneElement(L,{key:"precloned"+a_(L,a),"data-index":a,tabIndex:"-1",className:Y()(G,j),"aria-hidden":!G["slick-active"],style:(0,X.Z)((0,X.Z)({},L.props.style||{}),Z),onClick:function(ee){L.props&&L.props.onClick&&L.props.onClick(ee),t.focusOnSelect&&t.focusOnSelect(k)}}))),a=C+z,a<I&&(L=D),G=o_((0,X.Z)((0,X.Z)({},t),{},{index:a})),y.push(s.cloneElement(L,{key:"postcloned"+a_(L,a),"data-index":a,tabIndex:"-1",className:Y()(G,j),"aria-hidden":!G["slick-active"],style:(0,X.Z)((0,X.Z)({},L.props.style||{}),Z),onClick:function(ee){L.props&&L.props.onClick&&L.props.onClick(ee),t.focusOnSelect&&t.focusOnSelect(k)}}))}}),t.rtl?f.concat(o,y).reverse():f.concat(o,y)},hS=function(e){function t(){var a;(0,zn.Z)(this,t);for(var o=arguments.length,f=new Array(o),y=0;y<o;y++)f[y]=arguments[y];return a=uS(this,t,[].concat(f)),(0,he.Z)(a,"node",null),(0,he.Z)(a,"handleRef",function(C){a.node=C}),a}return(0,ei.Z)(t,e),(0,dn.Z)(t,[{key:"render",value:function(){var o=fS(this.props),f=this.props,y=f.onMouseEnter,C=f.onMouseOver,w=f.onMouseLeave,I={onMouseEnter:y,onMouseOver:C,onMouseLeave:w};return s.createElement("div",(0,Ze.Z)({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},I),o)}}])}(s.PureComponent);function mS(e,t,a){return t=(0,fn.Z)(t),(0,Un.Z)(e,(0,xr.Z)()?Reflect.construct(t,a||[],(0,fn.Z)(e).constructor):t.apply(e,a))}var pS=function(t){var a;return t.infinite?a=Math.ceil(t.slideCount/t.slidesToScroll):a=Math.ceil((t.slideCount-t.slidesToShow)/t.slidesToScroll)+1,a},Su=function(e){function t(){return(0,zn.Z)(this,t),mS(this,t,arguments)}return(0,ei.Z)(t,e),(0,dn.Z)(t,[{key:"clickHandler",value:function(o,f){f.preventDefault(),this.props.clickHandler(o)}},{key:"render",value:function(){for(var o=this.props,f=o.onMouseEnter,y=o.onMouseOver,C=o.onMouseLeave,w=o.infinite,I=o.slidesToScroll,D=o.slidesToShow,z=o.slideCount,L=o.currentSlide,k=pS({slideCount:z,slidesToScroll:I,slidesToShow:D,infinite:w}),Z={onMouseEnter:f,onMouseOver:y,onMouseLeave:C},j=[],G=0;G<k;G++){var H=(G+1)*I-1,K=w?H:qy(H,0,z-1),ee=K-(I-1),ie=w?ee:qy(ee,0,z-1),oe=Y()({"slick-active":w?L>=ie&&L<=K:L===ie}),re={message:"dots",index:G,slidesToScroll:I,currentSlide:L},se=this.clickHandler.bind(this,re);j=j.concat(s.createElement("li",{key:G,className:oe},s.cloneElement(this.props.customPaging(G),{onClick:se})))}return s.cloneElement(this.props.appendDots(j),(0,X.Z)({className:this.props.dotsClass},Z))}}])}(s.PureComponent);function Vm(e,t,a){return t=(0,fn.Z)(t),(0,Un.Z)(e,(0,xr.Z)()?Reflect.construct(t,a||[],(0,fn.Z)(e).constructor):t.apply(e,a))}var gS=function(e){function t(){return(0,zn.Z)(this,t),Vm(this,t,arguments)}return(0,ei.Z)(t,e),(0,dn.Z)(t,[{key:"clickHandler",value:function(o,f){f&&f.preventDefault(),this.props.clickHandler(o,f)}},{key:"render",value:function(){var o={"slick-arrow":!0,"slick-prev":!0},f=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(o["slick-disabled"]=!0,f=null);var y={key:"0","data-role":"none",className:Y()(o),style:{display:"block"},onClick:f},C={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},w;return this.props.prevArrow?w=s.cloneElement(this.props.prevArrow,(0,X.Z)((0,X.Z)({},y),C)):w=s.createElement("button",(0,Ze.Z)({key:"0",type:"button"},y)," ","Previous"),w}}])}(s.PureComponent),ex=function(e){function t(){return(0,zn.Z)(this,t),Vm(this,t,arguments)}return(0,ei.Z)(t,e),(0,dn.Z)(t,[{key:"clickHandler",value:function(o,f){f&&f.preventDefault(),this.props.clickHandler(o,f)}},{key:"render",value:function(){var o={"slick-arrow":!0,"slick-next":!0},f=this.clickHandler.bind(this,{message:"next"});Ig(this.props)||(o["slick-disabled"]=!0,f=null);var y={key:"1","data-role":"none",className:Y()(o),style:{display:"block"},onClick:f},C={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},w;return this.props.nextArrow?w=s.cloneElement(this.props.nextArrow,(0,X.Z)((0,X.Z)({},y),C)):w=s.createElement("button",(0,Ze.Z)({key:"1",type:"button"},y)," ","Next"),w}}])}(s.PureComponent),tx=F(73023),vS=["animating"];function nx(e,t,a){return t=(0,fn.Z)(t),(0,Un.Z)(e,(0,xr.Z)()?Reflect.construct(t,a||[],(0,fn.Z)(e).constructor):t.apply(e,a))}var rx=function(e){function t(a){var o;(0,zn.Z)(this,t),o=nx(this,t,[a]),(0,he.Z)(o,"listRefHandler",function(y){return o.list=y}),(0,he.Z)(o,"trackRefHandler",function(y){return o.track=y}),(0,he.Z)(o,"adaptHeight",function(){if(o.props.adaptiveHeight&&o.list){var y=o.list.querySelector('[data-index="'.concat(o.state.currentSlide,'"]'));o.list.style.height=J0(y)+"px"}}),(0,he.Z)(o,"componentDidMount",function(){if(o.props.onInit&&o.props.onInit(),o.props.lazyLoad){var y=Y0((0,X.Z)((0,X.Z)({},o.props),o.state));y.length>0&&(o.setState(function(w){return{lazyLoadedList:w.lazyLoadedList.concat(y)}}),o.props.onLazyLoad&&o.props.onLazyLoad(y))}var C=(0,X.Z)({listRef:o.list,trackRef:o.track},o.props);o.updateState(C,!0,function(){o.adaptHeight(),o.props.autoplay&&o.autoPlay("playing")}),o.props.lazyLoad==="progressive"&&(o.lazyLoadTimer=setInterval(o.progressiveLazyLoad,1e3)),o.ro=new tx.Z(function(){o.state.animating?(o.onWindowResized(!1),o.callbackTimers.push(setTimeout(function(){return o.onWindowResized()},o.props.speed))):o.onWindowResized()}),o.ro.observe(o.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(w){w.onfocus=o.props.pauseOnFocus?o.onSlideFocus:null,w.onblur=o.props.pauseOnFocus?o.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",o.onWindowResized):window.attachEvent("onresize",o.onWindowResized)}),(0,he.Z)(o,"componentWillUnmount",function(){o.animationEndCallback&&clearTimeout(o.animationEndCallback),o.lazyLoadTimer&&clearInterval(o.lazyLoadTimer),o.callbackTimers.length&&(o.callbackTimers.forEach(function(y){return clearTimeout(y)}),o.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",o.onWindowResized):window.detachEvent("onresize",o.onWindowResized),o.autoplayTimer&&clearInterval(o.autoplayTimer),o.ro.disconnect()}),(0,he.Z)(o,"componentDidUpdate",function(y){if(o.checkImagesLoad(),o.props.onReInit&&o.props.onReInit(),o.props.lazyLoad){var C=Y0((0,X.Z)((0,X.Z)({},o.props),o.state));C.length>0&&(o.setState(function(D){return{lazyLoadedList:D.lazyLoadedList.concat(C)}}),o.props.onLazyLoad&&o.props.onLazyLoad(C))}o.adaptHeight();var w=(0,X.Z)((0,X.Z)({listRef:o.list,trackRef:o.track},o.props),o.state),I=o.didPropsChange(y);I&&o.updateState(w,I,function(){o.state.currentSlide>=s.Children.count(o.props.children)&&o.changeSlide({message:"index",index:s.Children.count(o.props.children)-o.props.slidesToShow,currentSlide:o.state.currentSlide}),(y.autoplay!==o.props.autoplay||y.autoplaySpeed!==o.props.autoplaySpeed)&&(!y.autoplay&&o.props.autoplay?o.autoPlay("playing"):o.props.autoplay?o.autoPlay("update"):o.pause("paused"))})}),(0,he.Z)(o,"onWindowResized",function(y){o.debouncedResize&&o.debouncedResize.cancel(),o.debouncedResize=W1(50,function(){return o.resizeWindow(y)}),o.debouncedResize()}),(0,he.Z)(o,"resizeWindow",function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,C=!!(o.track&&o.track.node);if(C){var w=(0,X.Z)((0,X.Z)({listRef:o.list,trackRef:o.track},o.props),o.state);o.updateState(w,y,function(){o.props.autoplay?o.autoPlay("update"):o.pause("paused")}),o.setState({animating:!1}),clearTimeout(o.animationEndCallback),delete o.animationEndCallback}}),(0,he.Z)(o,"updateState",function(y,C,w){var I=K1(y);y=(0,X.Z)((0,X.Z)((0,X.Z)({},y),I),{},{slideIndex:I.currentSlide});var D=Zm(y);y=(0,X.Z)((0,X.Z)({},y),{},{left:D});var z=jm(y);(C||s.Children.count(o.props.children)!==s.Children.count(y.children))&&(I.trackStyle=z),o.setState(I,w)}),(0,he.Z)(o,"ssrInit",function(){if(o.props.variableWidth){var y=0,C=0,w=[],I=xd((0,X.Z)((0,X.Z)((0,X.Z)({},o.props),o.state),{},{slideCount:o.props.children.length})),D=td((0,X.Z)((0,X.Z)((0,X.Z)({},o.props),o.state),{},{slideCount:o.props.children.length}));o.props.children.forEach(function(se){w.push(se.props.style.width),y+=se.props.style.width});for(var z=0;z<I;z++)C+=w[w.length-1-z],y+=w[w.length-1-z];for(var L=0;L<D;L++)y+=w[L];for(var k=0;k<o.state.currentSlide;k++)C+=w[k];var Z={width:y+"px",left:-C+"px"};if(o.props.centerMode){var j="".concat(w[o.state.currentSlide],"px");Z.left="calc(".concat(Z.left," + (100% - ").concat(j,") / 2 ) ")}return{trackStyle:Z}}var G=s.Children.count(o.props.children),H=(0,X.Z)((0,X.Z)((0,X.Z)({},o.props),o.state),{},{slideCount:G}),K=xd(H)+td(H)+G,ee=100/o.props.slidesToShow*K,ie=100/K,oe=-ie*(xd(H)+o.state.currentSlide)*ee/100;o.props.centerMode&&(oe+=(100-ie*ee/100)/2);var re={width:ee+"%",left:oe+"%"};return{slideWidth:ie+"%",trackStyle:re}}),(0,he.Z)(o,"checkImagesLoad",function(){var y=o.list&&o.list.querySelectorAll&&o.list.querySelectorAll(".slick-slide img")||[],C=y.length,w=0;Array.prototype.forEach.call(y,function(I){var D=function(){return++w&&w>=C&&o.onWindowResized()};if(!I.onclick)I.onclick=function(){return I.parentNode.focus()};else{var z=I.onclick;I.onclick=function(L){z(L),I.parentNode.focus()}}I.onload||(o.props.lazyLoad?I.onload=function(){o.adaptHeight(),o.callbackTimers.push(setTimeout(o.onWindowResized,o.props.speed))}:(I.onload=D,I.onerror=function(){D(),o.props.onLazyLoadError&&o.props.onLazyLoadError()}))})}),(0,he.Z)(o,"progressiveLazyLoad",function(){for(var y=[],C=(0,X.Z)((0,X.Z)({},o.props),o.state),w=o.state.currentSlide;w<o.state.slideCount+td(C);w++)if(o.state.lazyLoadedList.indexOf(w)<0){y.push(w);break}for(var I=o.state.currentSlide-1;I>=-xd(C);I--)if(o.state.lazyLoadedList.indexOf(I)<0){y.push(I);break}y.length>0?(o.setState(function(D){return{lazyLoadedList:D.lazyLoadedList.concat(y)}}),o.props.onLazyLoad&&o.props.onLazyLoad(y)):o.lazyLoadTimer&&(clearInterval(o.lazyLoadTimer),delete o.lazyLoadTimer)}),(0,he.Z)(o,"slideHandler",function(y){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,w=o.props,I=w.asNavFor,D=w.beforeChange,z=w.onLazyLoad,L=w.speed,k=w.afterChange,Z=o.state.currentSlide,j=X1((0,X.Z)((0,X.Z)((0,X.Z)({index:y},o.props),o.state),{},{trackRef:o.track,useCSS:o.props.useCSS&&!C})),G=j.state,H=j.nextState;if(G){D&&D(Z,G.currentSlide);var K=G.lazyLoadedList.filter(function(ee){return o.state.lazyLoadedList.indexOf(ee)<0});z&&K.length>0&&z(K),!o.props.waitForAnimate&&o.animationEndCallback&&(clearTimeout(o.animationEndCallback),k&&k(Z),delete o.animationEndCallback),o.setState(G,function(){I&&o.asNavForIndex!==y&&(o.asNavForIndex=y,I.innerSlider.slideHandler(y)),H&&(o.animationEndCallback=setTimeout(function(){var ee=H.animating,ie=(0,de.Z)(H,vS);o.setState(ie,function(){o.callbackTimers.push(setTimeout(function(){return o.setState({animating:ee})},10)),k&&k(G.currentSlide),delete o.animationEndCallback})},L))})}}),(0,he.Z)(o,"changeSlide",function(y){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,w=(0,X.Z)((0,X.Z)({},o.props),o.state),I=Y1(w,y);if(!(I!==0&&!I)&&(C===!0?o.slideHandler(I,C):o.slideHandler(I),o.props.autoplay&&o.autoPlay("update"),o.props.focusOnSelect)){var D=o.list.querySelectorAll(".slick-current");D[0]&&D[0].focus()}}),(0,he.Z)(o,"clickHandler",function(y){o.clickable===!1&&(y.stopPropagation(),y.preventDefault()),o.clickable=!0}),(0,he.Z)(o,"keyHandler",function(y){var C=q1(y,o.props.accessibility,o.props.rtl);C!==""&&o.changeSlide({message:C})}),(0,he.Z)(o,"selectHandler",function(y){o.changeSlide(y)}),(0,he.Z)(o,"disableBodyScroll",function(){var y=function(w){w=w||window.event,w.preventDefault&&w.preventDefault(),w.returnValue=!1};window.ontouchmove=y}),(0,he.Z)(o,"enableBodyScroll",function(){window.ontouchmove=null}),(0,he.Z)(o,"swipeStart",function(y){o.props.verticalSwiping&&o.disableBodyScroll();var C=ev(y,o.props.swipe,o.props.draggable);C!==""&&o.setState(C)}),(0,he.Z)(o,"swipeMove",function(y){var C=J1(y,(0,X.Z)((0,X.Z)((0,X.Z)({},o.props),o.state),{},{trackRef:o.track,listRef:o.list,slideIndex:o.state.currentSlide}));C&&(C.swiping&&(o.clickable=!1),o.setState(C))}),(0,he.Z)(o,"swipeEnd",function(y){var C=e_(y,(0,X.Z)((0,X.Z)((0,X.Z)({},o.props),o.state),{},{trackRef:o.track,listRef:o.list,slideIndex:o.state.currentSlide}));if(C){var w=C.triggerSlideHandler;delete C.triggerSlideHandler,o.setState(C),w!==void 0&&(o.slideHandler(w),o.props.verticalSwiping&&o.enableBodyScroll())}}),(0,he.Z)(o,"touchEnd",function(y){o.swipeEnd(y),o.clickable=!0}),(0,he.Z)(o,"slickPrev",function(){o.callbackTimers.push(setTimeout(function(){return o.changeSlide({message:"previous"})},0))}),(0,he.Z)(o,"slickNext",function(){o.callbackTimers.push(setTimeout(function(){return o.changeSlide({message:"next"})},0))}),(0,he.Z)(o,"slickGoTo",function(y){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(y=Number(y),isNaN(y))return"";o.callbackTimers.push(setTimeout(function(){return o.changeSlide({message:"index",index:y,currentSlide:o.state.currentSlide},C)},0))}),(0,he.Z)(o,"play",function(){var y;if(o.props.rtl)y=o.state.currentSlide-o.props.slidesToScroll;else if(Ig((0,X.Z)((0,X.Z)({},o.props),o.state)))y=o.state.currentSlide+o.props.slidesToScroll;else return!1;o.slideHandler(y)}),(0,he.Z)(o,"autoPlay",function(y){o.autoplayTimer&&clearInterval(o.autoplayTimer);var C=o.state.autoplaying;if(y==="update"){if(C==="hovered"||C==="focused"||C==="paused")return}else if(y==="leave"){if(C==="paused"||C==="focused")return}else if(y==="blur"&&(C==="paused"||C==="hovered"))return;o.autoplayTimer=setInterval(o.play,o.props.autoplaySpeed+50),o.setState({autoplaying:"playing"})}),(0,he.Z)(o,"pause",function(y){o.autoplayTimer&&(clearInterval(o.autoplayTimer),o.autoplayTimer=null);var C=o.state.autoplaying;y==="paused"?o.setState({autoplaying:"paused"}):y==="focused"?(C==="hovered"||C==="playing")&&o.setState({autoplaying:"focused"}):C==="playing"&&o.setState({autoplaying:"hovered"})}),(0,he.Z)(o,"onDotsOver",function(){return o.props.autoplay&&o.pause("hovered")}),(0,he.Z)(o,"onDotsLeave",function(){return o.props.autoplay&&o.state.autoplaying==="hovered"&&o.autoPlay("leave")}),(0,he.Z)(o,"onTrackOver",function(){return o.props.autoplay&&o.pause("hovered")}),(0,he.Z)(o,"onTrackLeave",function(){return o.props.autoplay&&o.state.autoplaying==="hovered"&&o.autoPlay("leave")}),(0,he.Z)(o,"onSlideFocus",function(){return o.props.autoplay&&o.pause("focused")}),(0,he.Z)(o,"onSlideBlur",function(){return o.props.autoplay&&o.state.autoplaying==="focused"&&o.autoPlay("blur")}),(0,he.Z)(o,"render",function(){var y=Y()("slick-slider",o.props.className,{"slick-vertical":o.props.vertical,"slick-initialized":!0}),C=(0,X.Z)((0,X.Z)({},o.props),o.state),w=Q0(C,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),I=o.props.pauseOnHover;w=(0,X.Z)((0,X.Z)({},w),{},{onMouseEnter:I?o.onTrackOver:null,onMouseLeave:I?o.onTrackLeave:null,onMouseOver:I?o.onTrackOver:null,focusOnSelect:o.props.focusOnSelect&&o.clickable?o.selectHandler:null});var D;if(o.props.dots===!0&&o.state.slideCount>=o.props.slidesToShow){var z=Q0(C,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),L=o.props.pauseOnDotsHover;z=(0,X.Z)((0,X.Z)({},z),{},{clickHandler:o.changeSlide,onMouseEnter:L?o.onDotsLeave:null,onMouseOver:L?o.onDotsOver:null,onMouseLeave:L?o.onDotsLeave:null}),D=s.createElement(Su,z)}var k,Z,j=Q0(C,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);j.clickHandler=o.changeSlide,o.props.arrows&&(k=s.createElement(gS,j),Z=s.createElement(ex,j));var G=null;o.props.vertical&&(G={height:o.state.listHeight});var H=null;o.props.vertical===!1?o.props.centerMode===!0&&(H={padding:"0px "+o.props.centerPadding}):o.props.centerMode===!0&&(H={padding:o.props.centerPadding+" 0px"});var K=(0,X.Z)((0,X.Z)({},G),H),ee=o.props.touchMove,ie={className:"slick-list",style:K,onClick:o.clickHandler,onMouseDown:ee?o.swipeStart:null,onMouseMove:o.state.dragging&&ee?o.swipeMove:null,onMouseUp:ee?o.swipeEnd:null,onMouseLeave:o.state.dragging&&ee?o.swipeEnd:null,onTouchStart:ee?o.swipeStart:null,onTouchMove:o.state.dragging&&ee?o.swipeMove:null,onTouchEnd:ee?o.touchEnd:null,onTouchCancel:o.state.dragging&&ee?o.swipeEnd:null,onKeyDown:o.props.accessibility?o.keyHandler:null},oe={className:y,dir:"ltr",style:o.props.style};return o.props.unslick&&(ie={className:"slick-list"},oe={className:y,style:o.props.style}),s.createElement("div",oe,o.props.unslick?"":k,s.createElement("div",(0,Ze.Z)({ref:o.listRefHandler},ie),s.createElement(hS,(0,Ze.Z)({ref:o.trackRefHandler},w),o.props.children)),o.props.unslick?"":Z,o.props.unslick?"":D)}),o.list=null,o.track=null,o.state=(0,X.Z)((0,X.Z)({},X0),{},{currentSlide:o.props.initialSlide,targetSlide:o.props.initialSlide?o.props.initialSlide:0,slideCount:s.Children.count(o.props.children)}),o.callbackTimers=[],o.clickable=!0,o.debouncedResize=null;var f=o.ssrInit();return o.state=(0,X.Z)((0,X.Z)({},o.state),f),o}return(0,ei.Z)(t,e),(0,dn.Z)(t,[{key:"didPropsChange",value:function(o){for(var f=!1,y=0,C=Object.keys(this.props);y<C.length;y++){var w=C[y];if(!o.hasOwnProperty(w)){f=!0;break}if(!((0,Ye.Z)(o[w])==="object"||typeof o[w]=="function"||isNaN(o[w]))&&o[w]!==this.props[w]){f=!0;break}}return f||s.Children.count(this.props.children)!==s.Children.count(o.children)}}])}(s.Component),ix=F(55518),s_=F.n(ix);function yS(e,t,a){return t=(0,fn.Z)(t),(0,Un.Z)(e,(0,xr.Z)()?Reflect.construct(t,a||[],(0,fn.Z)(e).constructor):t.apply(e,a))}var ox=function(e){function t(a){var o;return(0,zn.Z)(this,t),o=yS(this,t,[a]),(0,he.Z)(o,"innerSliderRefHandler",function(f){return o.innerSlider=f}),(0,he.Z)(o,"slickPrev",function(){return o.innerSlider.slickPrev()}),(0,he.Z)(o,"slickNext",function(){return o.innerSlider.slickNext()}),(0,he.Z)(o,"slickGoTo",function(f){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return o.innerSlider.slickGoTo(f,y)}),(0,he.Z)(o,"slickPause",function(){return o.innerSlider.pause("paused")}),(0,he.Z)(o,"slickPlay",function(){return o.innerSlider.autoPlay("play")}),o.state={breakpoint:null},o._responsiveMediaHandlers=[],o}return(0,ei.Z)(t,e),(0,dn.Z)(t,[{key:"media",value:function(o,f){var y=window.matchMedia(o),C=function(I){var D=I.matches;D&&f()};y.addListener(C),C(y),this._responsiveMediaHandlers.push({mql:y,query:o,listener:C})}},{key:"componentDidMount",value:function(){var o=this;if(this.props.responsive){var f=this.props.responsive.map(function(C){return C.breakpoint});f.sort(function(C,w){return C-w}),f.forEach(function(C,w){var I;w===0?I=s_()({minWidth:0,maxWidth:C}):I=s_()({minWidth:f[w-1]+1,maxWidth:C}),Q1()&&o.media(I,function(){o.setState({breakpoint:C})})});var y=s_()({minWidth:f.slice(-1)[0]});Q1()&&this.media(y,function(){o.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(o){o.mql.removeListener(o.listener)})}},{key:"render",value:function(){var o=this,f,y;this.state.breakpoint?(y=this.props.responsive.filter(function(G){return G.breakpoint===o.state.breakpoint}),f=y[0].settings==="unslick"?"unslick":(0,X.Z)((0,X.Z)((0,X.Z)({},Yy),this.props),y[0].settings)):f=(0,X.Z)((0,X.Z)({},Yy),this.props),f.centerMode&&(f.slidesToScroll>1,f.slidesToScroll=1),f.fade&&(f.slidesToShow>1,f.slidesToScroll>1,f.slidesToShow=1,f.slidesToScroll=1);var C=s.Children.toArray(this.props.children);C=C.filter(function(G){return typeof G=="string"?!!G.trim():!!G}),f.variableWidth&&(f.rows>1||f.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),f.variableWidth=!1);for(var w=[],I=null,D=0;D<C.length;D+=f.rows*f.slidesPerRow){for(var z=[],L=D;L<D+f.rows*f.slidesPerRow;L+=f.slidesPerRow){for(var k=[],Z=L;Z<L+f.slidesPerRow&&(f.variableWidth&&C[Z].props.style&&(I=C[Z].props.style.width),!(Z>=C.length));Z+=1)k.push(s.cloneElement(C[Z],{key:100*D+10*L+Z,tabIndex:-1,style:{width:"".concat(100/f.slidesPerRow,"%"),display:"inline-block"}}));z.push(s.createElement("div",{key:10*D+L},k))}f.variableWidth?w.push(s.createElement("div",{key:D,style:{width:I}},z)):w.push(s.createElement("div",{key:D},z))}if(f==="unslick"){var j="regular slider "+(this.props.className||"");return s.createElement("div",{className:j},C)}else w.length<=f.slidesToShow&&!f.infinite&&(f.unslick=!0);return s.createElement(rx,(0,Ze.Z)({style:this.props.style,ref:this.innerSliderRefHandler},cS(f)),w)}}])}(s.Component),kl=ox;const Vf="--dot-duration",Mg=e=>{const{componentCls:t,antCls:a}=e;return{[t]:Object.assign(Object.assign({},(0,Wt.Wf)(e)),{".slick-slider":{position:"relative",display:"block",boxSizing:"border-box",touchAction:"pan-y",WebkitTouchCallout:"none",WebkitTapHighlightColor:"transparent",".slick-track, .slick-list":{transform:"translate3d(0, 0, 0)",touchAction:"pan-y"}},".slick-list":{position:"relative",display:"block",margin:0,padding:0,overflow:"hidden","&:focus":{outline:"none"},"&.dragging":{cursor:"pointer"},".slick-slide":{pointerEvents:"none",[`input${a}-radio-input, input${a}-checkbox-input`]:{visibility:"hidden"},"&.slick-active":{pointerEvents:"auto",[`input${a}-radio-input, input${a}-checkbox-input`]:{visibility:"visible"}},"> div > div":{verticalAlign:"bottom"}}},".slick-track":{position:"relative",top:0,insetInlineStart:0,display:"block","&::before, &::after":{display:"table",content:'""'},"&::after":{clear:"both"}},".slick-slide":{display:"none",float:"left",height:"100%",minHeight:1,img:{display:"block"},"&.dragging img":{pointerEvents:"none"}},".slick-initialized .slick-slide":{display:"block"},".slick-vertical .slick-slide":{display:"block",height:"auto"}})}},Tg=e=>{const{componentCls:t,motionDurationSlow:a,arrowSize:o,arrowOffset:f}=e,y=e.calc(o).div(Math.SQRT2).equal();return{[t]:{".slick-prev, .slick-next":{position:"absolute",top:"50%",width:o,height:o,transform:"translateY(-50%)",color:"#fff",opacity:.4,background:"transparent",padding:0,lineHeight:0,border:0,outline:"none",cursor:"pointer",zIndex:1,transition:`opacity ${a}`,"&:hover, &:focus":{opacity:1},"&.slick-disabled":{pointerEvents:"none",opacity:0},"&::after":{boxSizing:"border-box",position:"absolute",top:e.calc(o).sub(y).div(2).equal(),insetInlineStart:e.calc(o).sub(y).div(2).equal(),display:"inline-block",width:y,height:y,border:"0 solid currentcolor",borderInlineWidth:"2px 0",borderBlockWidth:"2px 0",borderRadius:1,content:'""'}},".slick-prev":{insetInlineStart:f,"&::after":{transform:"rotate(-45deg)"}},".slick-next":{insetInlineEnd:f,"&::after":{transform:"rotate(135deg)"}}}}},ax=e=>{const{componentCls:t,dotOffset:a,dotWidth:o,dotHeight:f,dotGap:y,colorBgContainer:C,motionDurationSlow:w}=e;return{[t]:{".slick-dots":{position:"absolute",insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:15,display:"flex !important",justifyContent:"center",paddingInlineStart:0,margin:0,listStyle:"none","&-bottom":{bottom:a},"&-top":{top:a,bottom:"auto"},li:{position:"relative",display:"inline-block",flex:"0 1 auto",boxSizing:"content-box",width:o,height:f,marginInline:y,padding:0,textAlign:"center",textIndent:-999,verticalAlign:"top",transition:`all ${w}`,borderRadius:f,overflow:"hidden","&::after":{display:"block",position:"absolute",top:0,insetInlineStart:0,width:"100%",height:f,content:'""',background:C,borderRadius:f,opacity:1,outline:"none",cursor:"pointer",overflow:"hidden",transform:"translate3d(-100%, 0, 0)"},button:{position:"relative",display:"block",width:"100%",height:f,padding:0,color:"transparent",fontSize:0,background:C,border:0,borderRadius:f,outline:"none",cursor:"pointer",opacity:.2,transition:`all ${w}`,overflow:"hidden","&:hover":{opacity:.75},"&::after":{position:"absolute",inset:e.calc(y).mul(-1).equal(),content:'""'}},"&.slick-active":{width:e.dotActiveWidth,position:"relative","&:hover":{opacity:1},"&::after":{transform:"translate3d(0, 0, 0)",transition:`transform var(${Vf}) ease-out`}}}}}}},_S=e=>{const{componentCls:t,dotOffset:a,arrowOffset:o,marginXXS:f}=e,y={width:e.dotHeight,height:e.dotWidth};return{[`${t}-vertical`]:{".slick-prev, .slick-next":{insetInlineStart:"50%",marginBlockStart:"unset",transform:"translateX(-50%)"},".slick-prev":{insetBlockStart:o,insetInlineStart:"50%","&::after":{transform:"rotate(45deg)"}},".slick-next":{insetBlockStart:"auto",insetBlockEnd:o,"&::after":{transform:"rotate(-135deg)"}},".slick-dots":{top:"50%",bottom:"auto",flexDirection:"column",width:e.dotHeight,height:"auto",margin:0,transform:"translateY(-50%)","&-left":{insetInlineEnd:"auto",insetInlineStart:a},"&-right":{insetInlineEnd:a,insetInlineStart:"auto"},li:Object.assign(Object.assign({},y),{margin:`${(0,fe.bf)(f)} 0`,verticalAlign:"baseline",button:y,"&::after":Object.assign(Object.assign({},y),{height:0}),"&.slick-active":Object.assign(Object.assign({},y),{button:y,"&::after":Object.assign(Object.assign({},y),{transition:`height var(${Vf}) ease-out`})})})}}}},bS=e=>{const{componentCls:t}=e;return[{[`${t}-rtl`]:{direction:"rtl",".slick-dots":{[`${t}-rtl&`]:{flexDirection:"row-reverse"}}}},{[`${t}-vertical`]:{".slick-dots":{[`${t}-rtl&`]:{flexDirection:"column"}}}}]},l_=e=>({arrowSize:16,arrowOffset:e.marginXS,dotWidth:16,dotHeight:3,dotGap:e.marginXXS,dotOffset:12,dotWidthActive:24,dotActiveWidth:24});var nd=(0,te.I$)("Carousel",e=>[Mg(e),Tg(e),ax(e),_S(e),bS(e)],l_,{deprecatedTokens:[["dotWidthActive","dotActiveWidth"]]}),rv=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const sx="slick-dots",Lu=e=>{var{currentSlide:t,slideCount:a}=e,o=rv(e,["currentSlide","slideCount"]);return s.createElement("button",Object.assign({type:"button"},o))};var xS=s.forwardRef((e,t)=>{const{dots:a=!0,arrows:o=!1,prevArrow:f=s.createElement(Lu,{"aria-label":"prev"}),nextArrow:y=s.createElement(Lu,{"aria-label":"next"}),draggable:C=!1,waitForAnimate:w=!1,dotPosition:I="bottom",vertical:D=I==="left"||I==="right",rootClassName:z,className:L,style:k,id:Z,autoplay:j=!1,autoplaySpeed:G=3e3}=e,H=rv(e,["dots","arrows","prevArrow","nextArrow","draggable","waitForAnimate","dotPosition","vertical","rootClassName","className","style","id","autoplay","autoplaySpeed"]),{getPrefixCls:K,direction:ee,className:ie,style:oe}=(0,ve.dj)("carousel"),re=s.useRef(null),se=function(nt){let at=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;re.current.slickGoTo(nt,at)};s.useImperativeHandle(t,()=>({goTo:se,autoPlay:re.current.innerSlider.autoPlay,innerSlider:re.current.innerSlider,prev:re.current.slickPrev,next:re.current.slickNext}),[re.current]);const ue=s.useRef(s.Children.count(e.children));s.useEffect(()=>{ue.current!==s.Children.count(e.children)&&(se(e.initialSlide||0,!1),ue.current=s.Children.count(e.children))},[e.children]);const me=Object.assign({vertical:D,className:Y()(L,ie),style:Object.assign(Object.assign({},oe),k),autoplay:!!j},H);me.effect==="fade"&&(me.fade=!0);const pe=K("carousel",me.prefixCls),ye=!!a,Se=Y()(sx,`${sx}-${I}`,typeof a=="boolean"?!1:a==null?void 0:a.className),[Ie,we,Be]=nd(pe),Re=Y()(pe,{[`${pe}-rtl`]:ee==="rtl",[`${pe}-vertical`]:me.vertical},we,Be,z),Ne=j&&(typeof j=="object"?j.dotDuration:!1)?{[Vf]:`${G}ms`}:{};return Ie(s.createElement("div",{className:Re,id:Z,style:Ne},s.createElement(kl,Object.assign({ref:re},me,{dots:ye,dotsClass:Se,arrows:o,prevArrow:f,nextArrow:y,draggable:C,verticalSwiping:D,autoplaySpeed:G,waitForAnimate:w}))))}),iv=F(12321),wu=F(21125),CS=s.createContext({}),Nh=CS,Hm="__rc_cascader_search_mark__",c_=function(t,a,o){var f=o.label,y=f===void 0?"":f;return a.some(function(C){return String(C[y]).toLowerCase().includes(t.toLowerCase())})},u_=function(t,a,o,f){return a.map(function(y){return y[f.label]}).join(" / ")},SS=function(t,a,o,f,y,C){var w=y.filter,I=w===void 0?c_:w,D=y.render,z=D===void 0?u_:D,L=y.limit,k=L===void 0?50:L,Z=y.sort;return s.useMemo(function(){var j=[];if(!t)return[];function G(H,K){var ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;H.forEach(function(ie){if(!(!Z&&k!==!1&&k>0&&j.length>=k)){var oe=[].concat((0,xe.Z)(K),[ie]),re=ie[o.children],se=ee||ie.disabled;if((!re||re.length===0||C)&&I(t,oe,{label:o.label})){var ue;j.push((0,X.Z)((0,X.Z)({},ie),{},(ue={disabled:se},(0,he.Z)(ue,o.label,z(t,oe,f,o)),(0,he.Z)(ue,Hm,oe),(0,he.Z)(ue,o.children,void 0),ue)))}re&&G(ie[o.children],oe,se)}})}return G(a,[]),Z&&j.sort(function(H,K){return Z(H[Hm],K[Hm],t,o)}),k!==!1&&k>0?j.slice(0,k):j},[t,a,o,f,z,C,I,Z,k])},lx=SS,Bh="__RC_CASCADER_SPLIT__",ov="SHOW_PARENT",Nu="SHOW_CHILD";function Xc(e){return e.join(Bh)}function Hf(e){return e.map(Xc)}function Um(e){return e.split(Bh)}function d_(e){var t=e||{},a=t.label,o=t.value,f=t.children,y=o||"value";return{label:a||"label",value:y,key:y,children:f||"children"}}function Wm(e,t){var a,o;return(a=e.isLeaf)!==null&&a!==void 0?a:!((o=e[t.children])!==null&&o!==void 0&&o.length)}function av(e){var t=e.parentElement;if(t){var a=e.offsetTop-t.offsetTop;a-t.scrollTop<0?t.scrollTo({top:a}):a+e.offsetHeight-t.scrollTop>t.offsetHeight&&t.scrollTo({top:a+e.offsetHeight-t.offsetHeight})}}function cx(e,t){return e.map(function(a){var o;return(o=a[Hm])===null||o===void 0?void 0:o.map(function(f){return f[t.value]})})}function Pg(e){return Array.isArray(e)&&Array.isArray(e[0])}function Og(e){return e?Pg(e)?e:(e.length===0?[]:[e]).map(function(t){return Array.isArray(t)?t:[t]}):[]}function sv(e,t,a){var o=new Set(e),f=t();return e.filter(function(y){var C=f[y],w=C?C.parent:null,I=C?C.children:null;return C&&C.node.disabled?!0:a===Nu?!(I&&I.some(function(D){return D.key&&o.has(D.key)})):!(w&&!w.node.disabled&&o.has(w.key))})}function Gm(e,t,a){for(var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,f=t,y=[],C=function(){var D,z,L,k=e[w],Z=(D=f)===null||D===void 0?void 0:D.findIndex(function(G){var H=G[a.value];return o?String(H)===String(k):H===k}),j=Z!==-1?(z=f)===null||z===void 0?void 0:z[Z]:null;y.push({value:(L=j==null?void 0:j[a.value])!==null&&L!==void 0?L:k,index:Z,option:j}),f=j==null?void 0:j[a.children]},w=0;w<e.length;w+=1)C();return y}var lv=function(e,t,a,o,f){return s.useMemo(function(){var y=f||function(C){var w=o?C.slice(-1):C,I=" / ";return w.every(function(D){return["string","number"].includes((0,Ye.Z)(D))})?w.join(I):w.reduce(function(D,z,L){var k=s.isValidElement(z)?s.cloneElement(z,{key:L}):z;return L===0?[k]:[].concat((0,xe.Z)(D),[I,k])},[])};return e.map(function(C){var w,I=Gm(C,t,a),D=y(I.map(function(L){var k,Z=L.option,j=L.value;return(k=Z==null?void 0:Z[a.label])!==null&&k!==void 0?k:j}),I.map(function(L){var k=L.option;return k})),z=Xc(C);return{label:D,value:z,key:z,valueCells:C,disabled:(w=I[I.length-1])===null||w===void 0||(w=w.option)===null||w===void 0?void 0:w.disabled}})},[e,t,a,f,o])};function ux(e,t){return s.useCallback(function(a){var o=[],f=[];return a.forEach(function(y){var C=Gm(y,e,t);C.every(function(w){return w.option})?f.push(y):o.push(y)}),[f,o]},[e,t])}var Uf=F(37861),dx=function(e,t){var a=s.useRef({options:[],info:{keyEntities:{},pathKeyEntities:{}}}),o=s.useCallback(function(){return a.current.options!==e&&(a.current.options=e,a.current.info=(0,Uf.I8)(e,{fieldNames:t,initWrapper:function(y){return(0,X.Z)((0,X.Z)({},y),{},{pathKeyEntities:{}})},processEntity:function(y,C){var w=y.nodes.map(function(I){return I[t.value]}).join(Bh);C.pathKeyEntities[w]=y,y.key=w}})),a.current.info.pathKeyEntities},[t,e]);return o};function f_(e,t){var a=s.useMemo(function(){return t||[]},[t]),o=dx(a,e),f=s.useCallback(function(y){var C=o();return y.map(function(w){var I=C[w].nodes;return I.map(function(D){return D[e.value]})})},[o,e]);return[a,o,f]}function wS(e){return s.useMemo(function(){if(!e)return[!1,{}];var t={matchInputWidth:!0,limit:50};return e&&(0,Ye.Z)(e)==="object"&&(t=(0,X.Z)((0,X.Z)({},t),e)),t.limit<=0&&(t.limit=!1),[!0,t]},[e])}var Cd=F(59454);function fx(e,t,a,o,f,y,C,w){return function(I){if(!e)t(I);else{var D=Xc(I),z=Hf(a),L=Hf(o),k=z.includes(D),Z=f.some(function(se){return Xc(se)===D}),j=a,G=f;if(Z&&!k)G=f.filter(function(se){return Xc(se)!==D});else{var H=k?z.filter(function(se){return se!==D}):[].concat((0,xe.Z)(z),[D]),K=y(),ee;if(k){var ie=(0,Cd.S)(H,{checked:!1,halfCheckedKeys:L},K);ee=ie.checkedKeys}else{var oe=(0,Cd.S)(H,!0,K);ee=oe.checkedKeys}var re=sv(ee,y,w);j=C(re)}t([].concat((0,xe.Z)(G),(0,xe.Z)(j)))}}}function h_(e,t,a,o,f){return s.useMemo(function(){var y=f(t),C=(0,Oe.Z)(y,2),w=C[0],I=C[1];if(!e||!t.length)return[w,[],I];var D=Hf(w),z=a(),L=(0,Cd.S)(D,!0,z),k=L.checkedKeys,Z=L.halfCheckedKeys;return[o(k),o(Z),I]},[e,t,a,o,f])}var Fh=s.memo(function(e){var t=e.children;return t},function(e,t){return!t.open}),m_=Fh;function ES(e){var t,a=e.prefixCls,o=e.checked,f=e.halfChecked,y=e.disabled,C=e.onClick,w=e.disableCheckbox,I=s.useContext(Nh),D=I.checkable,z=typeof D!="boolean"?D:null;return s.createElement("span",{className:Y()("".concat(a),(t={},(0,he.Z)(t,"".concat(a,"-checked"),o),(0,he.Z)(t,"".concat(a,"-indeterminate"),!o&&f),(0,he.Z)(t,"".concat(a,"-disabled"),y||w),t)),onClick:C},z)}var p_="__cascader_fix_label__";function IS(e){var t=e.prefixCls,a=e.multiple,o=e.options,f=e.activeValue,y=e.prevValuePath,C=e.onToggleOpen,w=e.onSelect,I=e.onActive,D=e.checkedSet,z=e.halfCheckedSet,L=e.loadingKeys,k=e.isSelectable,Z=e.disabled,j="".concat(t,"-menu"),G="".concat(t,"-menu-item"),H=s.useContext(Nh),K=H.fieldNames,ee=H.changeOnSelect,ie=H.expandTrigger,oe=H.expandIcon,re=H.loadingIcon,se=H.dropdownMenuColumnStyle,ue=H.optionRender,me=ie==="hover",pe=function(Ie){return Z||Ie},ye=s.useMemo(function(){return o.map(function(Se){var Ie,we=Se.disabled,Be=Se.disableCheckbox,Re=Se[Hm],je=(Ie=Se[p_])!==null&&Ie!==void 0?Ie:Se[K.label],Ne=Se[K.value],nt=Wm(Se,K),at=Re?Re.map(function(vt){return vt[K.value]}):[].concat((0,xe.Z)(y),[Ne]),Ct=Xc(at),St=L.includes(Ct),_t=D.has(Ct),ft=z.has(Ct);return{disabled:we,label:je,value:Ne,isLeaf:nt,isLoading:St,checked:_t,halfChecked:ft,option:Se,disableCheckbox:Be,fullPath:at,fullPathKey:Ct}})},[o,D,K,z,L,y]);return s.createElement("ul",{className:j,role:"menu"},ye.map(function(Se){var Ie,we=Se.disabled,Be=Se.label,Re=Se.value,je=Se.isLeaf,Ne=Se.isLoading,nt=Se.checked,at=Se.halfChecked,Ct=Se.option,St=Se.fullPath,_t=Se.fullPathKey,ft=Se.disableCheckbox,vt=function(){if(!pe(we)){var wt=(0,xe.Z)(St);me&&je&&wt.pop(),I(wt)}},$t=function(){k(Ct)&&!pe(we)&&w(St,je)},It;return typeof Ct.title=="string"?It=Ct.title:typeof Be=="string"&&(It=Be),s.createElement("li",{key:_t,className:Y()(G,(Ie={},(0,he.Z)(Ie,"".concat(G,"-expand"),!je),(0,he.Z)(Ie,"".concat(G,"-active"),f===Re||f===_t),(0,he.Z)(Ie,"".concat(G,"-disabled"),pe(we)),(0,he.Z)(Ie,"".concat(G,"-loading"),Ne),Ie)),style:se,role:"menuitemcheckbox",title:It,"aria-checked":nt,"data-path-key":_t,onClick:function(){vt(),!ft&&(!a||je)&&$t()},onDoubleClick:function(){ee&&C(!1)},onMouseEnter:function(){me&&vt()},onMouseDown:function(wt){wt.preventDefault()}},a&&s.createElement(ES,{prefixCls:"".concat(t,"-checkbox"),checked:nt,halfChecked:at,disabled:pe(we)||ft,disableCheckbox:ft,onClick:function(wt){ft||(wt.stopPropagation(),$t())}}),s.createElement("div",{className:"".concat(G,"-content")},ue?ue(Ct):Be),!Ne&&oe&&!je&&s.createElement("div",{className:"".concat(G,"-expand-icon")},oe),Ne&&re&&s.createElement("div",{className:"".concat(G,"-loading-icon")},re))}))}var MS=function(t,a){var o=s.useContext(Nh),f=o.values,y=f[0],C=s.useState([]),w=(0,Oe.Z)(C,2),I=w[0],D=w[1];return s.useEffect(function(){t||D(y||[])},[a,y]),[I,D]},TS=MS,hx=function(e,t,a,o,f,y,C){var w=C.direction,I=C.searchValue,D=C.toggleOpen,z=C.open,L=w==="rtl",k=s.useMemo(function(){for(var se=-1,ue=t,me=[],pe=[],ye=o.length,Se=cx(t,a),Ie=function(Ne){var nt=ue.findIndex(function(at,Ct){return(Se[Ct]?Xc(Se[Ct]):at[a.value])===o[Ne]});if(nt===-1)return 1;se=nt,me.push(se),pe.push(o[Ne]),ue=ue[se][a.children]},we=0;we<ye&&ue&&!Ie(we);we+=1);for(var Be=t,Re=0;Re<me.length-1;Re+=1)Be=Be[me[Re]][a.children];return[pe,se,Be,Se]},[o,a,t]),Z=(0,Oe.Z)(k,4),j=Z[0],G=Z[1],H=Z[2],K=Z[3],ee=function(ue){f(ue)},ie=function(ue){var me=H.length,pe=G;pe===-1&&ue<0&&(pe=me);for(var ye=0;ye<me;ye+=1){pe=(pe+ue+me)%me;var Se=H[pe];if(Se&&!Se.disabled){var Ie=j.slice(0,-1).concat(K[pe]?Xc(K[pe]):Se[a.value]);ee(Ie);return}}},oe=function(){if(j.length>1){var ue=j.slice(0,-1);ee(ue)}else D(!1)},re=function(){var ue,me=((ue=H[G])===null||ue===void 0?void 0:ue[a.children])||[],pe=me.find(function(Se){return!Se.disabled});if(pe){var ye=[].concat((0,xe.Z)(j),[pe[a.value]]);ee(ye)}};s.useImperativeHandle(e,function(){return{onKeyDown:function(ue){var me=ue.which;switch(me){case et.Z.UP:case et.Z.DOWN:{var pe=0;me===et.Z.UP?pe=-1:me===et.Z.DOWN&&(pe=1),pe!==0&&ie(pe);break}case et.Z.LEFT:{if(I)break;L?re():oe();break}case et.Z.RIGHT:{if(I)break;L?oe():re();break}case et.Z.BACKSPACE:{I||oe();break}case et.Z.ENTER:{if(j.length){var ye=H[G],Se=(ye==null?void 0:ye[Hm])||[];Se.length?y(Se.map(function(Ie){return Ie[a.value]}),Se[Se.length-1]):y(j,H[G])}break}case et.Z.ESC:D(!1),z&&ue.stopPropagation()}},onKeyUp:function(){}}})},PS=s.forwardRef(function(e,t){var a,o,f,y=e.prefixCls,C=e.multiple,w=e.searchValue,I=e.toggleOpen,D=e.notFoundContent,z=e.direction,L=e.open,k=e.disabled,Z=s.useRef(null),j=z==="rtl",G=s.useContext(Nh),H=G.options,K=G.values,ee=G.halfValues,ie=G.fieldNames,oe=G.changeOnSelect,re=G.onSelect,se=G.searchOptions,ue=G.dropdownPrefixCls,me=G.loadData,pe=G.expandTrigger,ye=ue||y,Se=s.useState([]),Ie=(0,Oe.Z)(Se,2),we=Ie[0],Be=Ie[1],Re=function(zt){if(!(!me||w)){var Dn=Gm(zt,H,ie),Sn=Dn.map(function(Yn){var qn=Yn.option;return qn}),Ir=Sn[Sn.length-1];if(Ir&&!Wm(Ir,ie)){var ur=Xc(zt);Be(function(Yn){return[].concat((0,xe.Z)(Yn),[ur])}),me(Sn)}}};s.useEffect(function(){we.length&&we.forEach(function(Kt){var zt=Um(Kt),Dn=Gm(zt,H,ie,!0).map(function(Ir){var ur=Ir.option;return ur}),Sn=Dn[Dn.length-1];(!Sn||Sn[ie.children]||Wm(Sn,ie))&&Be(function(Ir){return Ir.filter(function(ur){return ur!==Kt})})})},[H,we,ie]);var je=s.useMemo(function(){return new Set(Hf(K))},[K]),Ne=s.useMemo(function(){return new Set(Hf(ee))},[ee]),nt=TS(C,L),at=(0,Oe.Z)(nt,2),Ct=at[0],St=at[1],_t=function(zt){St(zt),Re(zt)},ft=function(zt){if(k)return!1;var Dn=zt.disabled,Sn=Wm(zt,ie);return!Dn&&(Sn||oe||C)},vt=function(zt,Dn){var Sn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;re(zt),!C&&(Dn||oe&&(pe==="hover"||Sn))&&I(!1)},$t=s.useMemo(function(){return w?se:H},[w,se,H]),It=s.useMemo(function(){for(var Kt=[{options:$t}],zt=$t,Dn=cx(zt,ie),Sn=function(){var Yn=Ct[Ir],qn=zt.find(function(Jn,zr){return(Dn[zr]?Xc(Dn[zr]):Jn[ie.value])===Yn}),Rn=qn==null?void 0:qn[ie.children];if(!(Rn!=null&&Rn.length))return 1;zt=Rn,Kt.push({options:Rn})},Ir=0;Ir<Ct.length&&!Sn();Ir+=1);return Kt},[$t,Ct,ie]),Ft=function(zt,Dn){ft(Dn)&&vt(zt,Wm(Dn,ie),!0)};hx(t,$t,ie,Ct,_t,Ft,{direction:z,searchValue:w,toggleOpen:I,open:L}),s.useEffect(function(){if(!w)for(var Kt=0;Kt<Ct.length;Kt+=1){var zt,Dn=Ct.slice(0,Kt+1),Sn=Xc(Dn),Ir=(zt=Z.current)===null||zt===void 0?void 0:zt.querySelector('li[data-path-key="'.concat(Sn.replace(/\\{0,2}"/g,'\\"'),'"]'));Ir&&av(Ir)}},[Ct,w]);var wt=!((a=It[0])!==null&&a!==void 0&&(a=a.options)!==null&&a!==void 0&&a.length),pn=[(o={},(0,he.Z)(o,ie.value,"__EMPTY__"),(0,he.Z)(o,p_,D),(0,he.Z)(o,"disabled",!0),o)],Bn=(0,X.Z)((0,X.Z)({},e),{},{multiple:!wt&&C,onSelect:vt,onActive:_t,onToggleOpen:I,checkedSet:je,halfCheckedSet:Ne,loadingKeys:we,isSelectable:ft}),ln=wt?[{options:pn}]:It,Tn=ln.map(function(Kt,zt){var Dn=Ct.slice(0,zt),Sn=Ct[zt];return s.createElement(IS,(0,Ze.Z)({key:zt},Bn,{prefixCls:ye,options:Kt.options,prevValuePath:Dn,activeValue:Sn}))});return s.createElement(m_,{open:L},s.createElement("div",{className:Y()("".concat(ye,"-menus"),(f={},(0,he.Z)(f,"".concat(ye,"-menu-empty"),wt),(0,he.Z)(f,"".concat(ye,"-rtl"),j),f)),ref:Z},Tn))}),mx=PS,px=s.forwardRef(function(e,t){var a=(0,iv.lk)();return s.createElement(mx,(0,Ze.Z)({},e,a,{ref:t}))}),OS=px;function Km(){}function g_(e){var t,a=e,o=a.prefixCls,f=o===void 0?"rc-cascader":o,y=a.style,C=a.className,w=a.options,I=a.checkable,D=a.defaultValue,z=a.value,L=a.fieldNames,k=a.changeOnSelect,Z=a.onChange,j=a.showCheckedStrategy,G=a.loadData,H=a.expandTrigger,K=a.expandIcon,ee=K===void 0?">":K,ie=a.loadingIcon,oe=a.direction,re=a.notFoundContent,se=re===void 0?"Not Found":re,ue=a.disabled,me=!!I,pe=(0,$s.C8)(D,{value:z,postState:Og}),ye=(0,Oe.Z)(pe,2),Se=ye[0],Ie=ye[1],we=s.useMemo(function(){return d_(L)},[JSON.stringify(L)]),Be=f_(we,w),Re=(0,Oe.Z)(Be,3),je=Re[0],Ne=Re[1],nt=Re[2],at=ux(je,we),Ct=h_(me,Se,Ne,nt,at),St=(0,Oe.Z)(Ct,3),_t=St[0],ft=St[1],vt=St[2],$t=(0,$s.zX)(function(ln){if(Ie(ln),Z){var Tn=Og(ln),Kt=Tn.map(function(Sn){return Gm(Sn,je,we).map(function(Ir){return Ir.option})}),zt=me?Tn:Tn[0],Dn=me?Kt:Kt[0];Z(zt,Dn)}}),It=fx(me,$t,_t,ft,vt,Ne,nt,j),Ft=(0,$s.zX)(function(ln){It(ln)}),wt=s.useMemo(function(){return{options:je,fieldNames:we,values:_t,halfValues:ft,changeOnSelect:k,onSelect:Ft,checkable:I,searchOptions:[],dropdownPrefixCls:void 0,loadData:G,expandTrigger:H,expandIcon:ee,loadingIcon:ie,dropdownMenuColumnStyle:void 0}},[je,we,_t,ft,k,Ft,I,G,H,ee,ie]),pn="".concat(f,"-panel"),Bn=!je.length;return s.createElement(Nh.Provider,{value:wt},s.createElement("div",{className:Y()(pn,(t={},(0,he.Z)(t,"".concat(pn,"-rtl"),oe==="rtl"),(0,he.Z)(t,"".concat(pn,"-empty"),Bn),t),C),style:y},Bn?se:s.createElement(mx,{prefixCls:f,searchValue:"",multiple:me,toggleOpen:Km,open:!0,direction:oe,disabled:ue})))}function RS(e){var t=e.onPopupVisibleChange,a=e.popupVisible,o=e.popupClassName,f=e.popupPlacement;warning(!t,"`onPopupVisibleChange` is deprecated. Please use `onDropdownVisibleChange` instead."),warning(a===void 0,"`popupVisible` is deprecated. Please use `open` instead."),warning(o===void 0,"`popupClassName` is deprecated. Please use `dropdownClassName` instead."),warning(f===void 0,"`popupPlacement` is deprecated. Please use `placement` instead.")}function h2(e,t){if(e){var a=function o(f){for(var y=0;y<f.length;y++){var C=f[y];if(C[t==null?void 0:t.value]===null)return warning(!1,"`value` in Cascader options should not be `null`."),!0;if(Array.isArray(C[t==null?void 0:t.children])&&o(C[t==null?void 0:t.children]))return!0}};a(e)}}var $S=null,v_=["id","prefixCls","fieldNames","defaultValue","value","changeOnSelect","onChange","displayRender","checkable","autoClearSearchValue","searchValue","onSearch","showSearch","expandTrigger","options","dropdownPrefixCls","loadData","popupVisible","open","popupClassName","dropdownClassName","dropdownMenuColumnStyle","dropdownStyle","popupPlacement","placement","onDropdownVisibleChange","onPopupVisibleChange","expandIcon","loadingIcon","children","dropdownMatchSelectWidth","showCheckedStrategy","optionRender"],Xm=s.forwardRef(function(e,t){var a=e.id,o=e.prefixCls,f=o===void 0?"rc-cascader":o,y=e.fieldNames,C=e.defaultValue,w=e.value,I=e.changeOnSelect,D=e.onChange,z=e.displayRender,L=e.checkable,k=e.autoClearSearchValue,Z=k===void 0?!0:k,j=e.searchValue,G=e.onSearch,H=e.showSearch,K=e.expandTrigger,ee=e.options,ie=e.dropdownPrefixCls,oe=e.loadData,re=e.popupVisible,se=e.open,ue=e.popupClassName,me=e.dropdownClassName,pe=e.dropdownMenuColumnStyle,ye=e.dropdownStyle,Se=e.popupPlacement,Ie=e.placement,we=e.onDropdownVisibleChange,Be=e.onPopupVisibleChange,Re=e.expandIcon,je=Re===void 0?">":Re,Ne=e.loadingIcon,nt=e.children,at=e.dropdownMatchSelectWidth,Ct=at===void 0?!1:at,St=e.showCheckedStrategy,_t=St===void 0?ov:St,ft=e.optionRender,vt=(0,de.Z)(e,v_),$t=(0,wu.ZP)(a),It=!!L,Ft=(0,Fs.Z)(C,{value:w,postState:Og}),wt=(0,Oe.Z)(Ft,2),pn=wt[0],Bn=wt[1],ln=s.useMemo(function(){return d_(y)},[JSON.stringify(y)]),Tn=f_(ln,ee),Kt=(0,Oe.Z)(Tn,3),zt=Kt[0],Dn=Kt[1],Sn=Kt[2],Ir=(0,Fs.Z)("",{value:j,postState:function(pa){return pa||""}}),ur=(0,Oe.Z)(Ir,2),Yn=ur[0],qn=ur[1],Rn=function(pa,ts){qn(pa),ts.source!=="blur"&&G&&G(pa)},Jn=wS(H),zr=(0,Oe.Z)(Jn,2),li=zr[0],xi=zr[1],Di=lx(Yn,zt,ln,ie||f,xi,I||It),So=ux(zt,ln),_i=h_(It,pn,Dn,Sn,So),ai=(0,Oe.Z)(_i,3),gi=ai[0],Gi=ai[1],Pi=ai[2],wo=s.useMemo(function(){var Ga=Hf(gi),pa=sv(Ga,Dn,_t);return[].concat((0,xe.Z)(Pi),(0,xe.Z)(Sn(pa)))},[gi,Dn,Sn,Pi,_t]),dr=lv(wo,zt,ln,It,z),tr=(0,fr.Z)(function(Ga){if(Bn(Ga),D){var pa=Og(Ga),ts=pa.map(function(Ko){return Gm(Ko,zt,ln).map(function(Ra){return Ra.option})}),As=It?pa:pa[0],bo=It?ts:ts[0];D(As,bo)}}),pr=fx(It,tr,gi,Gi,Pi,Dn,Sn,_t),Vn=(0,fr.Z)(function(Ga){(!It||Z)&&qn(""),pr(Ga)}),ri=function(pa,ts){if(ts.type==="clear"){tr([]);return}var As=ts.values[0],bo=As.valueCells;Vn(bo)},Oi=se!==void 0?se:re,ro=me||ue,Xo=Ie||Se,$a=function(pa){we==null||we(pa),Be==null||Be(pa)},ta=s.useMemo(function(){return{options:zt,fieldNames:ln,values:gi,halfValues:Gi,changeOnSelect:I,onSelect:Vn,checkable:L,searchOptions:Di,dropdownPrefixCls:ie,loadData:oe,expandTrigger:K,expandIcon:je,loadingIcon:Ne,dropdownMenuColumnStyle:pe,optionRender:ft}},[zt,ln,gi,Gi,I,Vn,L,Di,ie,oe,K,je,Ne,pe,ft]),Cs=!(Yn?Di:zt).length,Za=Yn&&xi.matchInputWidth||Cs?{}:{minWidth:"auto"};return s.createElement(Nh.Provider,{value:ta},s.createElement(iv.Ac,(0,Ze.Z)({},vt,{ref:t,id:$t,prefixCls:f,autoClearSearchValue:Z,dropdownMatchSelectWidth:Ct,dropdownStyle:(0,X.Z)((0,X.Z)({},Za),ye),displayValues:dr,onDisplayValuesChange:ri,mode:It?"multiple":void 0,searchValue:Yn,onSearch:Rn,showSearch:li,OptionList:OS,emptyOptions:Cs,open:Oi,dropdownClassName:ro,placement:Xo,onDropdownVisibleChange:$a,getRawInputElement:function(){return nt}})))});Xm.SHOW_PARENT=ov,Xm.SHOW_CHILD=Nu,Xm.Panel=g_;var gx=Xm,Ym=gx,Fc=F(94773),Wf=F(22463),u=F(95799),n=F(80043),i=F(50360),d=F(54299);function g(e,t){const{getPrefixCls:a,direction:o,renderEmpty:f}=s.useContext(ve.E_),y=t||o,C=a("select",e),w=a("cascader",e);return[C,w,y,f]}var h=g;function v(e,t){return s.useMemo(()=>t?s.createElement("span",{className:`${e}-checkbox-inner`}):!1,[t])}var T=(e,t,a)=>{let o=a;a||(o=t?s.createElement(Qc,null):s.createElement(yu.Z,null));const f=s.createElement("span",{className:`${e}-menu-item-loading-icon`},s.createElement(_n.Z,{spin:!0}));return s.useMemo(()=>[o,f],[o])};const A=e=>{const{checkboxCls:t}=e,a=`${t}-wrapper`;return[{[`${t}-group`]:Object.assign(Object.assign({},(0,Wt.Wf)(e)),{display:"inline-flex",flexWrap:"wrap",columnGap:e.marginXS,[`> ${e.antCls}-row`]:{flex:1}}),[a]:Object.assign(Object.assign({},(0,Wt.Wf)(e)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},[`& + ${a}`]:{marginInlineStart:0},[`&${a}-in-form-item`]:{'input[type="checkbox"]':{width:14,height:14}}}),[t]:Object.assign(Object.assign({},(0,Wt.Wf)(e)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",borderRadius:e.borderRadiusSM,alignSelf:"center",[`${t}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,[`&:focus-visible + ${t}-inner`]:Object.assign({},(0,Wt.oN)(e))},[`${t}-inner`]:{boxSizing:"border-box",display:"block",width:e.checkboxSize,height:e.checkboxSize,direction:"ltr",backgroundColor:e.colorBgContainer,border:`${(0,fe.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,borderCollapse:"separate",transition:`all ${e.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"25%",display:"table",width:e.calc(e.checkboxSize).div(14).mul(5).equal(),height:e.calc(e.checkboxSize).div(14).mul(8).equal(),border:`${(0,fe.bf)(e.lineWidthBold)} solid ${e.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${e.motionDurationFast} ${e.motionEaseInBack}, opacity ${e.motionDurationFast}`}},"& + span":{paddingInlineStart:e.paddingXS,paddingInlineEnd:e.paddingXS}})},{[`
        ${a}:not(${a}-disabled),
        ${t}:not(${t}-disabled)
      `]:{[`&:hover ${t}-inner`]:{borderColor:e.colorPrimary}},[`${a}:not(${a}-disabled)`]:{[`&:hover ${t}-checked:not(${t}-disabled) ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${t}-checked:not(${t}-disabled):after`]:{borderColor:e.colorPrimaryHover}}},{[`${t}-checked`]:{[`${t}-inner`]:{backgroundColor:e.colorPrimary,borderColor:e.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${e.motionDurationMid} ${e.motionEaseOutBack} ${e.motionDurationFast}`}}},[`
        ${a}-checked:not(${a}-disabled),
        ${t}-checked:not(${t}-disabled)
      `]:{[`&:hover ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"}}},{[t]:{"&-indeterminate":{[`${t}-inner`]:{backgroundColor:`${e.colorBgContainer} !important`,borderColor:`${e.colorBorder} !important`,"&:after":{top:"50%",insetInlineStart:"50%",width:e.calc(e.fontSizeLG).div(2).equal(),height:e.calc(e.fontSizeLG).div(2).equal(),backgroundColor:e.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}},[`&:hover ${t}-inner`]:{backgroundColor:`${e.colorBgContainer} !important`,borderColor:`${e.colorPrimary} !important`}}}},{[`${a}-disabled`]:{cursor:"not-allowed"},[`${t}-disabled`]:{[`&, ${t}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${t}-inner`]:{background:e.colorBgContainerDisabled,borderColor:e.colorBorder,"&:after":{borderColor:e.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:e.colorTextDisabled},[`&${t}-indeterminate ${t}-inner::after`]:{background:e.colorTextDisabled}}}]};function b(e,t){const a=(0,Ur.IX)(t,{checkboxCls:`.${e}`,checkboxSize:t.controlInteractiveSize});return[A(a)]}var P=(0,te.I$)("Checkbox",(e,t)=>{let{prefixCls:a}=t;return[b(a,e)]}),M=e=>{const{prefixCls:t,componentCls:a}=e,o=`${a}-menu-item`,f=`
  &${o}-expand ${o}-expand-icon,
  ${o}-loading-icon
`;return[b(`${t}-checkbox`,e),{[a]:{"&-checkbox":{top:0,marginInlineEnd:e.paddingXS,pointerEvents:"unset"},"&-menus":{display:"flex",flexWrap:"nowrap",alignItems:"flex-start",[`&${a}-menu-empty`]:{[`${a}-menu`]:{width:"100%",height:"auto",[o]:{color:e.colorTextDisabled}}}},"&-menu":{flexGrow:1,flexShrink:0,minWidth:e.controlItemWidth,height:e.dropdownHeight,margin:0,padding:e.menuPadding,overflow:"auto",verticalAlign:"top",listStyle:"none","-ms-overflow-style":"-ms-autohiding-scrollbar","&:not(:last-child)":{borderInlineEnd:`${(0,fe.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},"&-item":Object.assign(Object.assign({},Wt.vS),{display:"flex",flexWrap:"nowrap",alignItems:"center",padding:e.optionPadding,lineHeight:e.lineHeight,cursor:"pointer",transition:`all ${e.motionDurationMid}`,borderRadius:e.borderRadiusSM,"&:hover":{background:e.controlItemBgHover},"&-disabled":{color:e.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"},[f]:{color:e.colorTextDisabled}},[`&-active:not(${o}-disabled)`]:{"&, &:hover":{color:e.optionSelectedColor,fontWeight:e.optionSelectedFontWeight,backgroundColor:e.optionSelectedBg}},"&-content":{flex:"auto"},[f]:{marginInlineStart:e.paddingXXS,color:e.colorTextDescription,fontSize:e.fontSizeIcon},"&-keyword":{color:e.colorHighlight}})}}}]};const O=e=>{const{componentCls:t,antCls:a}=e;return[{[t]:{width:e.controlWidth}},{[`${t}-dropdown`]:[{[`&${a}-select-dropdown`]:{padding:0}},M(e)]},{[`${t}-dropdown-rtl`]:{direction:"rtl"}},(0,qo.c)(e)]},N=e=>{const t=Math.round((e.controlHeight-e.fontSize*e.lineHeight)/2);return{controlWidth:184,controlItemWidth:111,dropdownHeight:180,optionSelectedBg:e.controlItemBgActive,optionSelectedFontWeight:e.fontWeightStrong,optionPadding:`${t}px ${e.paddingSM}px`,menuPadding:e.paddingXXS,optionSelectedColor:e.colorText}};var W=(0,te.I$)("Cascader",e=>[O(e)],N);const q=e=>{const{componentCls:t}=e;return{[`${t}-panel`]:[M(e),{display:"inline-flex",border:`${(0,fe.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,borderRadius:e.borderRadiusLG,overflowX:"auto",maxWidth:"100%",[`${t}-menus`]:{alignItems:"stretch"},[`${t}-menu`]:{height:"auto"},"&-empty":{padding:e.paddingXXS}}]}};var ae=(0,te.A1)(["Cascader","Panel"],e=>q(e),N);function ce(e){const{prefixCls:t,className:a,multiple:o,rootClassName:f,notFoundContent:y,direction:C,expandIcon:w,disabled:I}=e,D=s.useContext(Ta.Z),z=I!=null?I:D,[L,k,Z,j]=h(t,C),G=(0,Fn.Z)(k),[H,K,ee]=W(k,G);ae(k);const ie=Z==="rtl",[oe,re]=T(L,ie,w),se=y||(j==null?void 0:j("Cascader"))||s.createElement(Wf.Z,{componentName:"Cascader"}),ue=v(k,o);return H(s.createElement(g_,Object.assign({},e,{checkable:ue,prefixCls:k,className:Y()(a,K,f,ee,G),notFoundContent:se,direction:Z,expandIcon:oe,loadingIcon:re,disabled:z})))}var ne=ce,ge=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const{SHOW_CHILD:Ce,SHOW_PARENT:De}=Ym;function ut(e,t,a){const o=e.toLowerCase().split(t).reduce((C,w,I)=>I===0?[w]:[].concat((0,xe.Z)(C),[t,w]),[]),f=[];let y=0;return o.forEach((C,w)=>{const I=y+C.length;let D=e.slice(y,I);y=I,w%2===1&&(D=s.createElement("span",{className:`${a}-menu-item-keyword`,key:`separator-${w}`},D)),f.push(D)}),f}const st=(e,t,a,o)=>{const f=[],y=e.toLowerCase();return t.forEach((C,w)=>{w!==0&&f.push(" / ");let I=C[o.label];const D=typeof I;(D==="string"||D==="number")&&(I=ut(String(I),y,a)),f.push(I)}),f},tt=s.forwardRef((e,t)=>{var a;const{prefixCls:o,size:f,disabled:y,className:C,rootClassName:w,multiple:I,bordered:D=!0,transitionName:z,choiceTransitionName:L="",popupClassName:k,dropdownClassName:Z,expandIcon:j,placement:G,showSearch:H,allowClear:K=!0,notFoundContent:ee,direction:ie,getPopupContainer:oe,status:re,showArrow:se,builtinPlacements:ue,style:me,variant:pe}=e,ye=ge(e,["prefixCls","size","disabled","className","rootClassName","multiple","bordered","transitionName","choiceTransitionName","popupClassName","dropdownClassName","expandIcon","placement","showSearch","allowClear","notFoundContent","direction","getPopupContainer","status","showArrow","builtinPlacements","style","variant"]),Se=(0,ci.Z)(ye,["suffixIcon"]),{getPrefixCls:Ie,getPopupContainer:we,className:Be,style:Re}=(0,ve.dj)("cascader"),{popupOverflow:je}=s.useContext(ve.E_),{status:Ne,hasFeedback:nt,isFormItemInput:at,feedbackIcon:Ct}=s.useContext($c.aM),St=(0,Fc.F)(Ne,re),[_t,ft,vt,$t]=h(o,ie),It=vt==="rtl",Ft=Ie(),wt=(0,Fn.Z)(_t),[pn,Bn,ln]=(0,n.Z)(_t,wt),Tn=(0,Fn.Z)(ft),[Kt]=W(ft,Tn),{compactSize:zt,compactItemClassnames:Dn}=(0,oo.ri)(_t,ie),[Sn,Ir]=(0,jf.Z)("cascader",pe,D),ur=ee||($t==null?void 0:$t("Cascader"))||s.createElement(Wf.Z,{componentName:"Cascader"}),Yn=Y()(k||Z,`${ft}-dropdown`,{[`${ft}-dropdown-rtl`]:vt==="rtl"},w,wt,Tn,Bn,ln),qn=s.useMemo(()=>{if(!H)return H;let tr={render:st};return typeof H=="object"&&(tr=Object.assign(Object.assign({},tr),H)),tr},[H]),Rn=(0,Br.Z)(tr=>{var pr;return(pr=f!=null?f:zt)!==null&&pr!==void 0?pr:tr}),Jn=s.useContext(Ta.Z),zr=y!=null?y:Jn,[li,xi]=T(_t,It,j),Di=v(ft,I),So=(0,d.Z)(e.suffixIcon,se),{suffixIcon:_i,removeIcon:ai,clearIcon:gi}=(0,i.Z)(Object.assign(Object.assign({},e),{hasFeedback:nt,feedbackIcon:Ct,showSuffixIcon:So,multiple:I,prefixCls:_t,componentName:"Cascader"})),Gi=s.useMemo(()=>G!==void 0?G:It?"bottomRight":"bottomLeft",[G,It]),Pi=K===!0?{clearIcon:gi}:K,[wo]=(0,Ut.Cn)("SelectLike",(a=Se.dropdownStyle)===null||a===void 0?void 0:a.zIndex),dr=s.createElement(Ym,Object.assign({prefixCls:_t,className:Y()(!o&&ft,{[`${_t}-lg`]:Rn==="large",[`${_t}-sm`]:Rn==="small",[`${_t}-rtl`]:It,[`${_t}-${Sn}`]:Ir,[`${_t}-in-form-item`]:at},(0,Fc.Z)(_t,St,nt),Dn,Be,C,w,wt,Tn,Bn,ln),disabled:zr,style:Object.assign(Object.assign({},Re),me)},Se,{builtinPlacements:(0,u.Z)(ue,je),direction:vt,placement:Gi,notFoundContent:ur,allowClear:Pi,showSearch:qn,expandIcon:li,suffixIcon:_i,removeIcon:ai,loadingIcon:xi,checkable:Di,dropdownClassName:Yn,dropdownPrefixCls:o||ft,dropdownStyle:Object.assign(Object.assign({},Se.dropdownStyle),{zIndex:wo}),choiceTransitionName:(0,Rr.m)(Ft,"",L),transitionName:(0,Rr.m)(Ft,"slide-up",z),getPopupContainer:oe||we,ref:t}));return Kt(pn(dr))}),Zt=(0,vl.Z)(tt,"dropdownAlign",e=>(0,ci.Z)(e,["visible"]));tt.SHOW_PARENT=De,tt.SHOW_CHILD=Ce,tt.Panel=ne,tt._InternalPanelDoNotUseOrYouWillBeFired=Zt;var pt=tt,Yt=F(12977),un=F(5276),hn=s.createContext(null),On=F(59527),kn=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const Cn=(e,t)=>{var a;const{prefixCls:o,className:f,rootClassName:y,children:C,indeterminate:w=!1,style:I,onMouseEnter:D,onMouseLeave:z,skipGroup:L=!1,disabled:k}=e,Z=kn(e,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:j,direction:G,checkbox:H}=s.useContext(ve.E_),K=s.useContext(hn),{isFormItemInput:ee}=s.useContext($c.aM),ie=s.useContext(Ta.Z),oe=(a=(K==null?void 0:K.disabled)||k)!==null&&a!==void 0?a:ie,re=s.useRef(Z.value),se=s.useRef(null),ue=(0,Gt.sQ)(t,se);s.useEffect(()=>{K==null||K.registerValue(Z.value)},[]),s.useEffect(()=>{if(!L)return Z.value!==re.current&&(K==null||K.cancelValue(re.current),K==null||K.registerValue(Z.value),re.current=Z.value),()=>K==null?void 0:K.cancelValue(Z.value)},[Z.value]),s.useEffect(()=>{var nt;!((nt=se.current)===null||nt===void 0)&&nt.input&&(se.current.input.indeterminate=w)},[w]);const me=j("checkbox",o),pe=(0,Fn.Z)(me),[ye,Se,Ie]=P(me,pe),we=Object.assign({},Z);K&&!L&&(we.onChange=function(){Z.onChange&&Z.onChange.apply(Z,arguments),K.toggleOption&&K.toggleOption({label:C,value:Z.value})},we.name=K.name,we.checked=K.value.includes(Z.value));const Be=Y()(`${me}-wrapper`,{[`${me}-rtl`]:G==="rtl",[`${me}-wrapper-checked`]:we.checked,[`${me}-wrapper-disabled`]:oe,[`${me}-wrapper-in-form-item`]:ee},H==null?void 0:H.className,f,y,Ie,pe,Se),Re=Y()({[`${me}-indeterminate`]:w},un.A,Se),[je,Ne]=(0,On.Z)(we.onClick);return ye(s.createElement(oa.Z,{component:"Checkbox",disabled:oe},s.createElement("label",{className:Be,style:Object.assign(Object.assign({},H==null?void 0:H.style),I),onMouseEnter:D,onMouseLeave:z,onClick:je},s.createElement(Yt.Z,Object.assign({},we,{onClick:Ne,prefixCls:me,className:Re,disabled:oe,ref:ue})),C!==void 0&&s.createElement("span",{className:`${me}-label`},C))))};var Gr=s.forwardRef(Cn),br=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},Ti=s.forwardRef((e,t)=>{const{defaultValue:a,children:o,options:f=[],prefixCls:y,className:C,rootClassName:w,style:I,onChange:D}=e,z=br(e,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:L,direction:k}=s.useContext(ve.E_),[Z,j]=s.useState(z.value||a||[]),[G,H]=s.useState([]);s.useEffect(()=>{"value"in z&&j(z.value||[])},[z.value]);const K=s.useMemo(()=>f.map(Re=>typeof Re=="string"||typeof Re=="number"?{label:Re,value:Re}:Re),[f]),ee=Re=>{H(je=>je.filter(Ne=>Ne!==Re))},ie=Re=>{H(je=>[].concat((0,xe.Z)(je),[Re]))},oe=Re=>{const je=Z.indexOf(Re.value),Ne=(0,xe.Z)(Z);je===-1?Ne.push(Re.value):Ne.splice(je,1),"value"in z||j(Ne),D==null||D(Ne.filter(nt=>G.includes(nt)).sort((nt,at)=>{const Ct=K.findIndex(_t=>_t.value===nt),St=K.findIndex(_t=>_t.value===at);return Ct-St}))},re=L("checkbox",y),se=`${re}-group`,ue=(0,Fn.Z)(re),[me,pe,ye]=P(re,ue),Se=(0,ci.Z)(z,["value","disabled"]),Ie=f.length?K.map(Re=>s.createElement(Gr,{prefixCls:re,key:Re.value.toString(),disabled:"disabled"in Re?Re.disabled:z.disabled,value:Re.value,checked:Z.includes(Re.value),onChange:Re.onChange,className:`${se}-item`,style:Re.style,title:Re.title,id:Re.id,required:Re.required},Re.label)):o,we={toggleOption:oe,value:Z,disabled:z.disabled,name:z.name,registerValue:ie,cancelValue:ee},Be=Y()(se,{[`${se}-rtl`]:k==="rtl"},C,w,ye,ue,pe);return me(s.createElement("div",Object.assign({className:Be,style:I},Se,{ref:t}),s.createElement(hn.Provider,{value:we},Ie)))});const di=Gr;di.Group=Ti,di.__ANT_CHECKBOX=!0;var Hr=di,go=F(11365),ji=go.Z,qi=F(62023),la=F(89874),za={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z"}}]},name:"calendar",theme:"outlined"},Ba=za,Fa=function(t,a){return s.createElement(Xt.Z,(0,Ze.Z)({},t,{ref:a,icon:Ba}))},Ja=s.forwardRef(Fa),Qa=Ja,js={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"}}]},name:"clock-circle",theme:"outlined"},Ts=js,Sa=function(t,a){return s.createElement(Xt.Z,(0,Ze.Z)({},t,{ref:a,icon:Ts}))},Es=s.forwardRef(Sa),Is=Es,Xs={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z"}}]},name:"swap-right",theme:"outlined"},wl=Xs,jl=function(t,a){return s.createElement(Xt.Z,(0,Ze.Z)({},t,{ref:a,icon:wl}))},El=s.forwardRef(jl),ml=El,Il=F(58492),sl=F(43452),wc=F(17543);const Zs=(e,t)=>{const{componentCls:a,controlHeight:o}=e,f=t?`${a}-${t}`:"",y=(0,wc.gp)(e);return[{[`${a}-multiple${f}`]:{paddingBlock:y.containerPadding,paddingInlineStart:y.basePadding,minHeight:o,[`${a}-selection-item`]:{height:y.itemHeight,lineHeight:(0,fe.bf)(y.itemLineHeight)}}}]};var rd=e=>{const{componentCls:t,calc:a,lineWidth:o}=e,f=(0,Ur.IX)(e,{fontHeight:e.fontSize,selectHeight:e.controlHeightSM,multipleSelectItemHeight:e.multipleItemHeightSM,borderRadius:e.borderRadiusSM,borderRadiusSM:e.borderRadiusXS,controlHeight:e.controlHeightSM}),y=(0,Ur.IX)(e,{fontHeight:a(e.multipleItemHeightLG).sub(a(o).mul(2).equal()).equal(),fontSize:e.fontSizeLG,selectHeight:e.controlHeightLG,multipleSelectItemHeight:e.multipleItemHeightLG,borderRadius:e.borderRadiusLG,borderRadiusSM:e.borderRadius,controlHeight:e.controlHeightLG});return[Zs(f,"small"),Zs(e),Zs(y,"large"),{[`${t}${t}-multiple`]:Object.assign(Object.assign({width:"100%",cursor:"text",[`${t}-selector`]:{flex:"auto",padding:0,position:"relative","&:after":{margin:0},[`${t}-selection-placeholder`]:{position:"absolute",top:"50%",insetInlineStart:e.inputPaddingHorizontalBase,insetInlineEnd:0,transform:"translateY(-50%)",transition:`all ${e.motionDurationSlow}`,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",flex:1,color:e.colorTextPlaceholder,pointerEvents:"none"}}},(0,wc._z)(e)),{[`${t}-multiple-input`]:{width:0,height:0,border:0,visibility:"hidden",position:"absolute",zIndex:-1}})}]},fc=F(57616),kh=e=>{const{componentCls:t}=e;return{[t]:[Object.assign(Object.assign(Object.assign(Object.assign({},(0,fc.qG)(e)),(0,fc.vc)(e)),(0,fc.H8)(e)),(0,fc.Mu)(e)),{"&-outlined":{[`&${t}-multiple ${t}-selection-item`]:{background:e.multipleItemBg,border:`${(0,fe.bf)(e.lineWidth)} ${e.lineType} ${e.multipleItemBorderColor}`}},"&-filled":{[`&${t}-multiple ${t}-selection-item`]:{background:e.colorBgContainer,border:`${(0,fe.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`}},"&-borderless":{[`&${t}-multiple ${t}-selection-item`]:{background:e.multipleItemBg,border:`${(0,fe.bf)(e.lineWidth)} ${e.lineType} ${e.multipleItemBorderColor}`}},"&-underlined":{[`&${t}-multiple ${t}-selection-item`]:{background:e.multipleItemBg,border:`${(0,fe.bf)(e.lineWidth)} ${e.lineType} ${e.multipleItemBorderColor}`}}}]}};const Sd=(e,t,a,o)=>{const f=e.calc(a).add(2).equal(),y=e.max(e.calc(t).sub(f).div(2).equal(),0),C=e.max(e.calc(t).sub(f).sub(y).equal(),0);return{padding:`${(0,fe.bf)(y)} ${(0,fe.bf)(o)} ${(0,fe.bf)(C)}`}},jh=e=>{const{componentCls:t,colorError:a,colorWarning:o}=e;return{[`${t}:not(${t}-disabled):not([disabled])`]:{[`&${t}-status-error`]:{[`${t}-active-bar`]:{background:a}},[`&${t}-status-warning`]:{[`${t}-active-bar`]:{background:o}}}}},Rg=e=>{const{componentCls:t,antCls:a,controlHeight:o,paddingInline:f,lineWidth:y,lineType:C,colorBorder:w,borderRadius:I,motionDurationMid:D,colorTextDisabled:z,colorTextPlaceholder:L,controlHeightLG:k,fontSizeLG:Z,controlHeightSM:j,paddingInlineSM:G,paddingXS:H,marginXS:K,colorTextDescription:ee,lineWidthBold:ie,colorPrimary:oe,motionDurationSlow:re,zIndexPopup:se,paddingXXS:ue,sizePopupArrow:me,colorBgElevated:pe,borderRadiusLG:ye,boxShadowSecondary:Se,borderRadiusSM:Ie,colorSplit:we,cellHoverBg:Be,presetsWidth:Re,presetsMaxWidth:je,boxShadowPopoverArrow:Ne,fontHeight:nt,fontHeightLG:at,lineHeightLG:Ct}=e;return[{[t]:Object.assign(Object.assign(Object.assign({},(0,Wt.Wf)(e)),Sd(e,o,nt,f)),{position:"relative",display:"inline-flex",alignItems:"center",lineHeight:1,borderRadius:I,transition:`border ${D}, box-shadow ${D}, background ${D}`,[`${t}-prefix`]:{flex:"0 0 auto",marginInlineEnd:e.inputAffixPadding},[`${t}-input`]:{position:"relative",display:"inline-flex",alignItems:"center",width:"100%","> input":Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",color:"inherit",fontSize:e.fontSize,lineHeight:e.lineHeight,transition:`all ${D}`},(0,sl.nz)(L)),{flex:"auto",minWidth:1,height:"auto",padding:0,background:"transparent",border:0,fontFamily:"inherit","&:focus":{boxShadow:"none",outline:0},"&[disabled]":{background:"transparent",color:z,cursor:"not-allowed"}}),"&-placeholder":{"> input":{color:L}}},"&-large":Object.assign(Object.assign({},Sd(e,k,at,f)),{[`${t}-input > input`]:{fontSize:Z,lineHeight:Ct}}),"&-small":Object.assign({},Sd(e,j,nt,G)),[`${t}-suffix`]:{display:"flex",flex:"none",alignSelf:"center",marginInlineStart:e.calc(H).div(2).equal(),color:z,lineHeight:1,pointerEvents:"none",transition:`opacity ${D}, color ${D}`,"> *":{verticalAlign:"top","&:not(:last-child)":{marginInlineEnd:K}}},[`${t}-clear`]:{position:"absolute",top:"50%",insetInlineEnd:0,color:z,lineHeight:1,transform:"translateY(-50%)",cursor:"pointer",opacity:0,transition:`opacity ${D}, color ${D}`,"> *":{verticalAlign:"top"},"&:hover":{color:ee}},"&:hover":{[`${t}-clear`]:{opacity:1},[`${t}-suffix:not(:last-child)`]:{opacity:0}},[`${t}-separator`]:{position:"relative",display:"inline-block",width:"1em",height:Z,color:z,fontSize:Z,verticalAlign:"top",cursor:"default",[`${t}-focused &`]:{color:ee},[`${t}-range-separator &`]:{[`${t}-disabled &`]:{cursor:"not-allowed"}}},"&-range":{position:"relative",display:"inline-flex",[`${t}-active-bar`]:{bottom:e.calc(y).mul(-1).equal(),height:ie,background:oe,opacity:0,transition:`all ${re} ease-out`,pointerEvents:"none"},[`&${t}-focused`]:{[`${t}-active-bar`]:{opacity:1}},[`${t}-range-separator`]:{alignItems:"center",padding:`0 ${(0,fe.bf)(H)}`,lineHeight:1}},"&-range, &-multiple":{[`${t}-clear`]:{insetInlineEnd:f},[`&${t}-small`]:{[`${t}-clear`]:{insetInlineEnd:G}}},"&-dropdown":Object.assign(Object.assign(Object.assign({},(0,Wt.Wf)(e)),f1(e)),{pointerEvents:"none",position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:se,[`&${t}-dropdown-hidden`]:{display:"none"},"&-rtl":{direction:"rtl"},[`&${t}-dropdown-placement-bottomLeft,
            &${t}-dropdown-placement-bottomRight`]:{[`${t}-range-arrow`]:{top:0,display:"block",transform:"translateY(-100%)"}},[`&${t}-dropdown-placement-topLeft,
            &${t}-dropdown-placement-topRight`]:{[`${t}-range-arrow`]:{bottom:0,display:"block",transform:"translateY(100%) rotate(180deg)"}},[`&${a}-slide-up-appear, &${a}-slide-up-enter`]:{[`${t}-range-arrow${t}-range-arrow`]:{transition:"none"}},[`&${a}-slide-up-enter${a}-slide-up-enter-active${t}-dropdown-placement-topLeft,
          &${a}-slide-up-enter${a}-slide-up-enter-active${t}-dropdown-placement-topRight,
          &${a}-slide-up-appear${a}-slide-up-appear-active${t}-dropdown-placement-topLeft,
          &${a}-slide-up-appear${a}-slide-up-appear-active${t}-dropdown-placement-topRight`]:{animationName:Pc.Qt},[`&${a}-slide-up-enter${a}-slide-up-enter-active${t}-dropdown-placement-bottomLeft,
          &${a}-slide-up-enter${a}-slide-up-enter-active${t}-dropdown-placement-bottomRight,
          &${a}-slide-up-appear${a}-slide-up-appear-active${t}-dropdown-placement-bottomLeft,
          &${a}-slide-up-appear${a}-slide-up-appear-active${t}-dropdown-placement-bottomRight`]:{animationName:Pc.fJ},[`&${a}-slide-up-leave ${t}-panel-container`]:{pointerEvents:"none"},[`&${a}-slide-up-leave${a}-slide-up-leave-active${t}-dropdown-placement-topLeft,
          &${a}-slide-up-leave${a}-slide-up-leave-active${t}-dropdown-placement-topRight`]:{animationName:Pc.ly},[`&${a}-slide-up-leave${a}-slide-up-leave-active${t}-dropdown-placement-bottomLeft,
          &${a}-slide-up-leave${a}-slide-up-leave-active${t}-dropdown-placement-bottomRight`]:{animationName:Pc.Uw},[`${t}-panel > ${t}-time-panel`]:{paddingTop:ue},[`${t}-range-wrapper`]:{display:"flex",position:"relative"},[`${t}-range-arrow`]:Object.assign(Object.assign({position:"absolute",zIndex:1,display:"none",paddingInline:e.calc(f).mul(1.5).equal(),boxSizing:"content-box",transition:`all ${re} ease-out`},(0,Vp.W)(e,pe,Ne)),{"&:before":{insetInlineStart:e.calc(f).mul(1.5).equal()}}),[`${t}-panel-container`]:{overflow:"hidden",verticalAlign:"top",background:pe,borderRadius:ye,boxShadow:Se,transition:`margin ${re}`,display:"inline-block",pointerEvents:"auto",[`${t}-panel-layout`]:{display:"flex",flexWrap:"nowrap",alignItems:"stretch"},[`${t}-presets`]:{display:"flex",flexDirection:"column",minWidth:Re,maxWidth:je,ul:{height:0,flex:"auto",listStyle:"none",overflow:"auto",margin:0,padding:H,borderInlineEnd:`${(0,fe.bf)(y)} ${C} ${we}`,li:Object.assign(Object.assign({},Wt.vS),{borderRadius:Ie,paddingInline:H,paddingBlock:e.calc(j).sub(nt).div(2).equal(),cursor:"pointer",transition:`all ${re}`,"+ li":{marginTop:K},"&:hover":{background:Be}})}},[`${t}-panels`]:{display:"inline-flex",flexWrap:"nowrap","&:last-child":{[`${t}-panel`]:{borderWidth:0}}},[`${t}-panel`]:{verticalAlign:"top",background:"transparent",borderRadius:0,borderWidth:0,[`${t}-content, table`]:{textAlign:"center"},"&-focused":{borderColor:w}}}}),"&-dropdown-range":{padding:`${(0,fe.bf)(e.calc(me).mul(2).div(3).equal())} 0`,"&-hidden":{display:"none"}},"&-rtl":{direction:"rtl",[`${t}-separator`]:{transform:"scale(-1, 1)"},[`${t}-footer`]:{"&-extra":{direction:"rtl"}}}})},(0,Pc.oN)(e,"slide-up"),(0,Pc.oN)(e,"slide-down"),(0,h0.Fm)(e,"move-up"),(0,h0.Fm)(e,"move-down")]};var y_=(0,te.I$)("DatePicker",e=>{const t=(0,Ur.IX)((0,Cu.e)(e),hg(e),{inputPaddingHorizontalBase:e.calc(e.paddingSM).sub(1).equal(),multipleSelectItemHeight:e.multipleItemHeight,selectHeight:e.controlHeight});return[k0(t),Rg(t),kh(t),jh(t),rd(t),(0,qo.c)(e,{focusElCls:`${e.componentCls}-focused`})]},Ey);function vx(e,t,a){return a!==void 0?a:t==="year"&&e.lang.yearPlaceholder?e.lang.yearPlaceholder:t==="quarter"&&e.lang.quarterPlaceholder?e.lang.quarterPlaceholder:t==="month"&&e.lang.monthPlaceholder?e.lang.monthPlaceholder:t==="week"&&e.lang.weekPlaceholder?e.lang.weekPlaceholder:t==="time"&&e.timePickerLocale.placeholder?e.timePickerLocale.placeholder:e.lang.placeholder}function yx(e,t,a){return a!==void 0?a:t==="year"&&e.lang.yearPlaceholder?e.lang.rangeYearPlaceholder:t==="quarter"&&e.lang.quarterPlaceholder?e.lang.rangeQuarterPlaceholder:t==="month"&&e.lang.monthPlaceholder?e.lang.rangeMonthPlaceholder:t==="week"&&e.lang.weekPlaceholder?e.lang.rangeWeekPlaceholder:t==="time"&&e.timePickerLocale.placeholder?e.timePickerLocale.rangePlaceholder:e.lang.rangePlaceholder}function __(e,t){const{allowClear:a=!0}=e,{clearIcon:o,removeIcon:f}=(0,i.Z)(Object.assign(Object.assign({},e),{prefixCls:t,componentName:"DatePicker"}));return[s.useMemo(()=>a===!1?!1:Object.assign({clearIcon:o},a===!0?{}:a),[a,o]),f]}const[_x,bx]=["week","WeekPicker"],[b_,x_]=["month","MonthPicker"],[wd,xx]=["year","YearPicker"],[Zh,C_]=["quarter","QuarterPicker"],[cv,uv]=["time","TimePicker"];var S_=e=>s.createElement(wn,Object.assign({size:"small",type:"primary"},e));function Cx(e){return(0,s.useMemo)(()=>Object.assign({button:S_},e),[e])}var Eu=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},$g=e=>(0,s.forwardRef)((a,o)=>{var f;const{prefixCls:y,getPopupContainer:C,components:w,className:I,style:D,placement:z,size:L,disabled:k,bordered:Z=!0,placeholder:j,popupClassName:G,dropdownClassName:H,status:K,rootClassName:ee,variant:ie,picker:oe}=a,re=Eu(a,["prefixCls","getPopupContainer","components","className","style","placement","size","disabled","bordered","placeholder","popupClassName","dropdownClassName","status","rootClassName","variant","picker"]),se=s.useRef(null),{getPrefixCls:ue,direction:me,getPopupContainer:pe,rangePicker:ye}=(0,s.useContext)(ve.E_),Se=ue("picker",y),{compactSize:Ie,compactItemClassnames:we}=(0,oo.ri)(Se,me),Be=ue(),[Re,je]=(0,jf.Z)("rangePicker",ie,Z),Ne=(0,Fn.Z)(Se),[nt,at,Ct]=y_(Se,Ne),[St]=__(a,Se),_t=Cx(w),ft=(0,Br.Z)(zt=>{var Dn;return(Dn=L!=null?L:Ie)!==null&&Dn!==void 0?Dn:zt}),vt=s.useContext(Ta.Z),$t=k!=null?k:vt,It=(0,s.useContext)($c.aM),{hasFeedback:Ft,status:wt,feedbackIcon:pn}=It,Bn=s.createElement(s.Fragment,null,oe===cv?s.createElement(Is,null):s.createElement(Qa,null),Ft&&pn);(0,s.useImperativeHandle)(o,()=>se.current);const[ln]=(0,Ao.Z)("Calendar",Il.Z),Tn=Object.assign(Object.assign({},ln),a.locale),[Kt]=(0,Ut.Cn)("DatePicker",(f=a.popupStyle)===null||f===void 0?void 0:f.zIndex);return nt(s.createElement(Jl.Z,{space:!0},s.createElement(RC,Object.assign({separator:s.createElement("span",{"aria-label":"to",className:`${Se}-separator`},s.createElement(ml,null)),disabled:$t,ref:se,placement:z,placeholder:yx(Tn,oe,j),suffixIcon:Bn,prevIcon:s.createElement("span",{className:`${Se}-prev-icon`}),nextIcon:s.createElement("span",{className:`${Se}-next-icon`}),superPrevIcon:s.createElement("span",{className:`${Se}-super-prev-icon`}),superNextIcon:s.createElement("span",{className:`${Se}-super-next-icon`}),transitionName:`${Be}-slide-up`,picker:oe},re,{className:Y()({[`${Se}-${ft}`]:ft,[`${Se}-${Re}`]:je},(0,Fc.Z)(Se,(0,Fc.F)(wt,K),Ft),at,we,I,ye==null?void 0:ye.className,Ct,Ne,ee),style:Object.assign(Object.assign({},ye==null?void 0:ye.style),D),locale:Tn.lang,prefixCls:Se,getPopupContainer:C||pe,generateConfig:e,components:_t,direction:me,classNames:{popup:Y()(at,G||H,Ct,Ne,ee)},styles:{popup:Object.assign(Object.assign({},a.popupStyle),{zIndex:Kt})},allowClear:St}))))}),w_=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},uT=e=>{const t=(I,D)=>{const z=D===uv?"timePicker":"datePicker";return(0,s.forwardRef)((k,Z)=>{var j;const{prefixCls:G,getPopupContainer:H,components:K,style:ee,className:ie,rootClassName:oe,size:re,bordered:se,placement:ue,placeholder:me,popupClassName:pe,dropdownClassName:ye,disabled:Se,status:Ie,variant:we,onCalendarChange:Be}=k,Re=w_(k,["prefixCls","getPopupContainer","components","style","className","rootClassName","size","bordered","placement","placeholder","popupClassName","dropdownClassName","disabled","status","variant","onCalendarChange"]),{getPrefixCls:je,direction:Ne,getPopupContainer:nt,[z]:at}=(0,s.useContext)(ve.E_),Ct=je("picker",G),{compactSize:St,compactItemClassnames:_t}=(0,oo.ri)(Ct,Ne),ft=s.useRef(null),[vt,$t]=(0,jf.Z)("datePicker",we,se),It=(0,Fn.Z)(Ct),[Ft,wt,pn]=y_(Ct,It);(0,s.useImperativeHandle)(Z,()=>ft.current);const Bn={showToday:!0},ln=I||k.picker,Tn=je(),{onSelect:Kt,multiple:zt}=Re,Dn=Kt&&I==="time"&&!zt,Sn=(Gi,Pi,wo)=>{Be==null||Be(Gi,Pi,wo),Dn&&Kt(Gi)},[Ir,ur]=__(k,Ct),Yn=Cx(K),qn=(0,Br.Z)(Gi=>{var Pi;return(Pi=re!=null?re:St)!==null&&Pi!==void 0?Pi:Gi}),Rn=s.useContext(Ta.Z),Jn=Se!=null?Se:Rn,zr=(0,s.useContext)($c.aM),{hasFeedback:li,status:xi,feedbackIcon:Di}=zr,So=s.createElement(s.Fragment,null,ln==="time"?s.createElement(Is,null):s.createElement(Qa,null),li&&Di),[_i]=(0,Ao.Z)("DatePicker",Il.Z),ai=Object.assign(Object.assign({},_i),k.locale),[gi]=(0,Ut.Cn)("DatePicker",(j=k.popupStyle)===null||j===void 0?void 0:j.zIndex);return Ft(s.createElement(Jl.Z,{space:!0},s.createElement(DC,Object.assign({ref:ft,placeholder:vx(ai,ln,me),suffixIcon:So,placement:ue,prevIcon:s.createElement("span",{className:`${Ct}-prev-icon`}),nextIcon:s.createElement("span",{className:`${Ct}-next-icon`}),superPrevIcon:s.createElement("span",{className:`${Ct}-super-prev-icon`}),superNextIcon:s.createElement("span",{className:`${Ct}-super-next-icon`}),transitionName:`${Tn}-slide-up`,picker:I,onCalendarChange:Sn},Bn,Re,{locale:ai.lang,className:Y()({[`${Ct}-${qn}`]:qn,[`${Ct}-${vt}`]:$t},(0,Fc.Z)(Ct,(0,Fc.F)(xi,Ie),li),wt,_t,at==null?void 0:at.className,ie,pn,It,oe),style:Object.assign(Object.assign({},at==null?void 0:at.style),ee),prefixCls:Ct,getPopupContainer:H||nt,generateConfig:e,components:Yn,direction:Ne,disabled:Jn,classNames:{popup:Y()(wt,pn,It,oe,pe||ye)},styles:{popup:Object.assign(Object.assign({},k.popupStyle),{zIndex:gi})},allowClear:Ir,removeIcon:ur}))))})},a=t(),o=t(_x,bx),f=t(b_,x_),y=t(wd,xx),C=t(Zh,C_),w=t(cv,uv);return{DatePicker:a,WeekPicker:o,MonthPicker:f,YearPicker:y,TimePicker:w,QuarterPicker:C}},m2=e=>{const{DatePicker:t,WeekPicker:a,MonthPicker:o,YearPicker:f,TimePicker:y,QuarterPicker:C}=uT(e),w=$g(e),I=t;return I.WeekPicker=a,I.MonthPicker=o,I.YearPicker=f,I.RangePicker=w,I.TimePicker=y,I.QuarterPicker=C,I};const dv=m2(Eb),dT=(0,vl.Z)(dv,"popupAlign",void 0,"picker");dv._InternalPanelDoNotUseOrYouWillBeFired=dT;const fT=(0,vl.Z)(dv.RangePicker,"popupAlign",void 0,"picker");dv._InternalRangePanelDoNotUseOrYouWillBeFired=fT,dv.generatePicker=m2;var p2=dv,hT={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1},AS=s.createContext({}),mT=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const pT=e=>(0,Wl.Z)(e).map(t=>Object.assign(Object.assign({},t==null?void 0:t.props),{key:t.key}));function gT(e,t,a){const o=s.useMemo(()=>t||pT(a),[t,a]);return s.useMemo(()=>o.map(y=>{var{span:C}=y,w=mT(y,["span"]);return C==="filled"?Object.assign(Object.assign({},w),{filled:!0}):Object.assign(Object.assign({},w),{span:typeof C=="number"?C:(0,Nl.m9)(e,C)})}),[o,e])}var vT=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};function yT(e,t){let a=[],o=[],f=!1,y=0;return e.filter(C=>C).forEach(C=>{const{filled:w}=C,I=vT(C,["filled"]);if(w){o.push(I),a.push(o),o=[],y=0;return}const D=t-y;y+=C.span||1,y>=t?(y>t?(f=!0,o.push(Object.assign(Object.assign({},I),{span:D}))):o.push(I),a.push(o),o=[],y=0):o.push(I)}),o.length>0&&a.push(o),a=a.map(C=>{const w=C.reduce((I,D)=>I+(D.span||1),0);if(w<t){const I=C[C.length-1];return I.span=t-(w-(I.span||1)),C}return C}),[a,f]}var _T=(e,t)=>{const[a,o]=(0,s.useMemo)(()=>yT(t,e),[t,e]);return a},bT=e=>{let{children:t}=e;return t};function g2(e){return e!=null}var DS=e=>{const{itemPrefixCls:t,component:a,span:o,className:f,style:y,labelStyle:C,contentStyle:w,bordered:I,label:D,content:z,colon:L,type:k,styles:Z}=e,j=a,G=s.useContext(AS),{classNames:H}=G;return I?s.createElement(j,{className:Y()({[`${t}-item-label`]:k==="label",[`${t}-item-content`]:k==="content",[`${H==null?void 0:H.label}`]:k==="label",[`${H==null?void 0:H.content}`]:k==="content"},f),style:y,colSpan:o},g2(D)&&s.createElement("span",{style:Object.assign(Object.assign({},C),Z==null?void 0:Z.label)},D),g2(z)&&s.createElement("span",{style:Object.assign(Object.assign({},C),Z==null?void 0:Z.content)},z)):s.createElement(j,{className:Y()(`${t}-item`,f),style:y,colSpan:o},s.createElement("div",{className:`${t}-item-container`},(D||D===0)&&s.createElement("span",{className:Y()(`${t}-item-label`,H==null?void 0:H.label,{[`${t}-item-no-colon`]:!L}),style:Object.assign(Object.assign({},C),Z==null?void 0:Z.label)},D),(z||z===0)&&s.createElement("span",{className:Y()(`${t}-item-content`,H==null?void 0:H.content),style:Object.assign(Object.assign({},w),Z==null?void 0:Z.content)},z)))};function zS(e,t,a){let{colon:o,prefixCls:f,bordered:y}=t,{component:C,type:w,showLabel:I,showContent:D,labelStyle:z,contentStyle:L,styles:k}=a;return e.map((Z,j)=>{let{label:G,children:H,prefixCls:K=f,className:ee,style:ie,labelStyle:oe,contentStyle:re,span:se=1,key:ue,styles:me}=Z;return typeof C=="string"?s.createElement(DS,{key:`${w}-${ue||j}`,className:ee,style:ie,styles:{label:Object.assign(Object.assign(Object.assign(Object.assign({},z),k==null?void 0:k.label),oe),me==null?void 0:me.label),content:Object.assign(Object.assign(Object.assign(Object.assign({},L),k==null?void 0:k.content),re),me==null?void 0:me.content)},span:se,colon:o,component:C,itemPrefixCls:K,bordered:y,label:I?G:null,content:D?H:null,type:w}):[s.createElement(DS,{key:`label-${ue||j}`,className:ee,style:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},z),k==null?void 0:k.label),ie),oe),me==null?void 0:me.label),span:1,colon:o,component:C[0],itemPrefixCls:K,bordered:y,label:G,type:"label"}),s.createElement(DS,{key:`content-${ue||j}`,className:ee,style:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},L),k==null?void 0:k.content),ie),re),me==null?void 0:me.content),span:se*2-1,component:C[1],itemPrefixCls:K,bordered:y,content:H,type:"content"})]})}var xT=e=>{const t=s.useContext(AS),{prefixCls:a,vertical:o,row:f,index:y,bordered:C}=e;return o?s.createElement(s.Fragment,null,s.createElement("tr",{key:`label-${y}`,className:`${a}-row`},zS(f,e,Object.assign({component:"th",type:"label",showLabel:!0},t))),s.createElement("tr",{key:`content-${y}`,className:`${a}-row`},zS(f,e,Object.assign({component:"td",type:"content",showContent:!0},t)))):s.createElement("tr",{key:y,className:`${a}-row`},zS(f,e,Object.assign({component:C?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0},t)))};const CT=e=>{const{componentCls:t,labelBg:a}=e;return{[`&${t}-bordered`]:{[`> ${t}-view`]:{border:`${(0,fe.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"> table":{tableLayout:"auto"},[`${t}-row`]:{borderBottom:`${(0,fe.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderBottom:"none"},[`> ${t}-item-label, > ${t}-item-content`]:{padding:`${(0,fe.bf)(e.padding)} ${(0,fe.bf)(e.paddingLG)}`,borderInlineEnd:`${(0,fe.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderInlineEnd:"none"}},[`> ${t}-item-label`]:{color:e.colorTextSecondary,backgroundColor:a,"&::after":{display:"none"}}}},[`&${t}-middle`]:{[`${t}-row`]:{[`> ${t}-item-label, > ${t}-item-content`]:{padding:`${(0,fe.bf)(e.paddingSM)} ${(0,fe.bf)(e.paddingLG)}`}}},[`&${t}-small`]:{[`${t}-row`]:{[`> ${t}-item-label, > ${t}-item-content`]:{padding:`${(0,fe.bf)(e.paddingXS)} ${(0,fe.bf)(e.padding)}`}}}}}},ST=e=>{const{componentCls:t,extraColor:a,itemPaddingBottom:o,itemPaddingEnd:f,colonMarginRight:y,colonMarginLeft:C,titleMarginBottom:w}=e;return{[t]:Object.assign(Object.assign(Object.assign({},(0,Wt.Wf)(e)),CT(e)),{"&-rtl":{direction:"rtl"},[`${t}-header`]:{display:"flex",alignItems:"center",marginBottom:w},[`${t}-title`]:Object.assign(Object.assign({},Wt.vS),{flex:"auto",color:e.titleColor,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG}),[`${t}-extra`]:{marginInlineStart:"auto",color:a,fontSize:e.fontSize},[`${t}-view`]:{width:"100%",borderRadius:e.borderRadiusLG,table:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse"}},[`${t}-row`]:{"> th, > td":{paddingBottom:o,paddingInlineEnd:f},"> th:last-child, > td:last-child":{paddingInlineEnd:0},"&:last-child":{borderBottom:"none","> th, > td":{paddingBottom:0}}},[`${t}-item-label`]:{color:e.labelColor,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"start","&::after":{content:'":"',position:"relative",top:-.5,marginInline:`${(0,fe.bf)(C)} ${(0,fe.bf)(y)}`},[`&${t}-item-no-colon::after`]:{content:'""'}},[`${t}-item-no-label`]:{"&::after":{margin:0,content:'""'}},[`${t}-item-content`]:{display:"table-cell",flex:1,color:e.contentColor,fontSize:e.fontSize,lineHeight:e.lineHeight,wordBreak:"break-word",overflowWrap:"break-word"},[`${t}-item`]:{paddingBottom:0,verticalAlign:"top","&-container":{display:"flex",[`${t}-item-label`]:{display:"inline-flex",alignItems:"baseline"},[`${t}-item-content`]:{display:"inline-flex",alignItems:"baseline",minWidth:"1em"}}},"&-middle":{[`${t}-row`]:{"> th, > td":{paddingBottom:e.paddingSM}}},"&-small":{[`${t}-row`]:{"> th, > td":{paddingBottom:e.paddingXS}}}})}},wT=e=>({labelBg:e.colorFillAlter,labelColor:e.colorTextTertiary,titleColor:e.colorText,titleMarginBottom:e.fontSizeSM*e.lineHeightSM,itemPaddingBottom:e.padding,itemPaddingEnd:e.padding,colonMarginRight:e.marginXS,colonMarginLeft:e.marginXXS/2,contentColor:e.colorText,extraColor:e.colorText});var ET=(0,te.I$)("Descriptions",e=>{const t=(0,Ur.IX)(e,{});return ST(t)},wT),IT=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const v2=e=>{const{prefixCls:t,title:a,extra:o,column:f,colon:y=!0,bordered:C,layout:w,children:I,className:D,rootClassName:z,style:L,size:k,labelStyle:Z,contentStyle:j,styles:G,items:H,classNames:K}=e,ee=IT(e,["prefixCls","title","extra","column","colon","bordered","layout","children","className","rootClassName","style","size","labelStyle","contentStyle","styles","items","classNames"]),{getPrefixCls:ie,direction:oe,className:re,style:se,classNames:ue,styles:me}=(0,ve.dj)("descriptions"),pe=ie("descriptions",t),ye=(0,Xu.Z)(),Se=s.useMemo(()=>{var at;return typeof f=="number"?f:(at=(0,Nl.m9)(ye,Object.assign(Object.assign({},hT),f)))!==null&&at!==void 0?at:3},[ye,f]),Ie=gT(ye,H,I),we=(0,Br.Z)(k),Be=_T(Se,Ie),[Re,je,Ne]=ET(pe),nt=s.useMemo(()=>({labelStyle:Z,contentStyle:j,styles:{content:Object.assign(Object.assign({},me.content),G==null?void 0:G.content),label:Object.assign(Object.assign({},me.label),G==null?void 0:G.label)},classNames:{label:Y()(ue.label,K==null?void 0:K.label),content:Y()(ue.content,K==null?void 0:K.content)}}),[Z,j,G,K,ue,me]);return Re(s.createElement(AS.Provider,{value:nt},s.createElement("div",Object.assign({className:Y()(pe,re,ue.root,K==null?void 0:K.root,{[`${pe}-${we}`]:we&&we!=="default",[`${pe}-bordered`]:!!C,[`${pe}-rtl`]:oe==="rtl"},D,z,je,Ne),style:Object.assign(Object.assign(Object.assign(Object.assign({},se),me.root),G==null?void 0:G.root),L)},ee),(a||o)&&s.createElement("div",{className:Y()(`${pe}-header`,ue.header,K==null?void 0:K.header),style:Object.assign(Object.assign({},me.header),G==null?void 0:G.header)},a&&s.createElement("div",{className:Y()(`${pe}-title`,ue.title,K==null?void 0:K.title),style:Object.assign(Object.assign({},me.title),G==null?void 0:G.title)},a),o&&s.createElement("div",{className:Y()(`${pe}-extra`,ue.extra,K==null?void 0:K.extra),style:Object.assign(Object.assign({},me.extra),G==null?void 0:G.extra)},o)),s.createElement("div",{className:`${pe}-view`},s.createElement("table",null,s.createElement("tbody",null,Be.map((at,Ct)=>s.createElement(xT,{key:Ct,index:Ct,colon:y,prefixCls:pe,vertical:w==="vertical",bordered:C,row:at}))))))))};v2.Item=bT;var MT=v2,TT=F(67567),PT=s.createContext(null),y2=s.createContext({}),_2=PT,OT=["prefixCls","className","containerRef"],RT=function(t){var a=t.prefixCls,o=t.className,f=t.containerRef,y=(0,de.Z)(t,OT),C=s.useContext(y2),w=C.panel,I=(0,Gt.x1)(w,f);return s.createElement("div",(0,Ze.Z)({className:Y()("".concat(a,"-content"),o),role:"dialog",ref:I},(0,lt.Z)(t,{aria:!0}),{"aria-modal":"true"},y))},$T=RT;function b2(e){return typeof e=="string"&&String(Number(e))===e?((0,lc.ZP)(!1,"Invalid value type of `width` or `height` which should be number type instead."),Number(e)):e}function CF(e){warning(!("wrapperClassName"in e),"'wrapperClassName' is removed. Please use 'rootClassName' instead."),warning(canUseDom()||!e.open,"Drawer with 'open' in SSR is not work since no place to createPortal. Please move to 'useEffect' instead.")}var x2={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"};function AT(e,t){var a,o,f,y=e.prefixCls,C=e.open,w=e.placement,I=e.inline,D=e.push,z=e.forceRender,L=e.autoFocus,k=e.keyboard,Z=e.classNames,j=e.rootClassName,G=e.rootStyle,H=e.zIndex,K=e.className,ee=e.id,ie=e.style,oe=e.motion,re=e.width,se=e.height,ue=e.children,me=e.mask,pe=e.maskClosable,ye=e.maskMotion,Se=e.maskClassName,Ie=e.maskStyle,we=e.afterOpenChange,Be=e.onClose,Re=e.onMouseEnter,je=e.onMouseOver,Ne=e.onMouseLeave,nt=e.onClick,at=e.onKeyDown,Ct=e.onKeyUp,St=e.styles,_t=e.drawerRender,ft=s.useRef(),vt=s.useRef(),$t=s.useRef();s.useImperativeHandle(t,function(){return ft.current});var It=function(Jn){var zr=Jn.keyCode,li=Jn.shiftKey;switch(zr){case et.Z.TAB:{if(zr===et.Z.TAB){if(!li&&document.activeElement===$t.current){var xi;(xi=vt.current)===null||xi===void 0||xi.focus({preventScroll:!0})}else if(li&&document.activeElement===vt.current){var Di;(Di=$t.current)===null||Di===void 0||Di.focus({preventScroll:!0})}}break}case et.Z.ESC:{Be&&k&&(Jn.stopPropagation(),Be(Jn));break}}};s.useEffect(function(){if(C&&L){var Rn;(Rn=ft.current)===null||Rn===void 0||Rn.focus({preventScroll:!0})}},[C]);var Ft=s.useState(!1),wt=(0,Oe.Z)(Ft,2),pn=wt[0],Bn=wt[1],ln=s.useContext(_2),Tn;typeof D=="boolean"?Tn=D?{}:{distance:0}:Tn=D||{};var Kt=(a=(o=(f=Tn)===null||f===void 0?void 0:f.distance)!==null&&o!==void 0?o:ln==null?void 0:ln.pushDistance)!==null&&a!==void 0?a:180,zt=s.useMemo(function(){return{pushDistance:Kt,push:function(){Bn(!0)},pull:function(){Bn(!1)}}},[Kt]);s.useEffect(function(){if(C){var Rn;ln==null||(Rn=ln.push)===null||Rn===void 0||Rn.call(ln)}else{var Jn;ln==null||(Jn=ln.pull)===null||Jn===void 0||Jn.call(ln)}},[C]),s.useEffect(function(){return function(){var Rn;ln==null||(Rn=ln.pull)===null||Rn===void 0||Rn.call(ln)}},[]);var Dn=me&&s.createElement(En.ZP,(0,Ze.Z)({key:"mask"},ye,{visible:C}),function(Rn,Jn){var zr=Rn.className,li=Rn.style;return s.createElement("div",{className:Y()("".concat(y,"-mask"),zr,Z==null?void 0:Z.mask,Se),style:(0,X.Z)((0,X.Z)((0,X.Z)({},li),Ie),St==null?void 0:St.mask),onClick:pe&&C?Be:void 0,ref:Jn})}),Sn=typeof oe=="function"?oe(w):oe,Ir={};if(pn&&Kt)switch(w){case"top":Ir.transform="translateY(".concat(Kt,"px)");break;case"bottom":Ir.transform="translateY(".concat(-Kt,"px)");break;case"left":Ir.transform="translateX(".concat(Kt,"px)");break;default:Ir.transform="translateX(".concat(-Kt,"px)");break}w==="left"||w==="right"?Ir.width=b2(re):Ir.height=b2(se);var ur={onMouseEnter:Re,onMouseOver:je,onMouseLeave:Ne,onClick:nt,onKeyDown:at,onKeyUp:Ct},Yn=s.createElement(En.ZP,(0,Ze.Z)({key:"panel"},Sn,{visible:C,forceRender:z,onVisibleChanged:function(Jn){we==null||we(Jn)},removeOnLeave:!1,leavedClassName:"".concat(y,"-content-wrapper-hidden")}),function(Rn,Jn){var zr=Rn.className,li=Rn.style,xi=s.createElement($T,(0,Ze.Z)({id:ee,containerRef:Jn,prefixCls:y,className:Y()(K,Z==null?void 0:Z.content),style:(0,X.Z)((0,X.Z)({},ie),St==null?void 0:St.content)},(0,lt.Z)(e,{aria:!0}),ur),ue);return s.createElement("div",(0,Ze.Z)({className:Y()("".concat(y,"-content-wrapper"),Z==null?void 0:Z.wrapper,zr),style:(0,X.Z)((0,X.Z)((0,X.Z)({},Ir),li),St==null?void 0:St.wrapper)},(0,lt.Z)(e,{data:!0})),_t?_t(xi):xi)}),qn=(0,X.Z)({},G);return H&&(qn.zIndex=H),s.createElement(_2.Provider,{value:zt},s.createElement("div",{className:Y()(y,"".concat(y,"-").concat(w),j,(0,he.Z)((0,he.Z)({},"".concat(y,"-open"),C),"".concat(y,"-inline"),I)),style:qn,tabIndex:-1,ref:ft,onKeyDown:It},Dn,s.createElement("div",{tabIndex:0,ref:vt,style:x2,"aria-hidden":"true","data-sentinel":"start"}),Yn,s.createElement("div",{tabIndex:0,ref:$t,style:x2,"aria-hidden":"true","data-sentinel":"end"})))}var DT=s.forwardRef(AT),zT=DT,LT=function(t){var a=t.open,o=a===void 0?!1:a,f=t.prefixCls,y=f===void 0?"rc-drawer":f,C=t.placement,w=C===void 0?"right":C,I=t.autoFocus,D=I===void 0?!0:I,z=t.keyboard,L=z===void 0?!0:z,k=t.width,Z=k===void 0?378:k,j=t.mask,G=j===void 0?!0:j,H=t.maskClosable,K=H===void 0?!0:H,ee=t.getContainer,ie=t.forceRender,oe=t.afterOpenChange,re=t.destroyOnClose,se=t.onMouseEnter,ue=t.onMouseOver,me=t.onMouseLeave,pe=t.onClick,ye=t.onKeyDown,Se=t.onKeyUp,Ie=t.panelRef,we=s.useState(!1),Be=(0,Oe.Z)(we,2),Re=Be[0],je=Be[1],Ne=s.useState(!1),nt=(0,Oe.Z)(Ne,2),at=nt[0],Ct=nt[1];(0,hl.Z)(function(){Ct(!0)},[]);var St=at?o:!1,_t=s.useRef(),ft=s.useRef();(0,hl.Z)(function(){St&&(ft.current=document.activeElement)},[St]);var vt=function(pn){var Bn;if(je(pn),oe==null||oe(pn),!pn&&ft.current&&!((Bn=_t.current)!==null&&Bn!==void 0&&Bn.contains(ft.current))){var ln;(ln=ft.current)===null||ln===void 0||ln.focus({preventScroll:!0})}},$t=s.useMemo(function(){return{panel:Ie}},[Ie]);if(!ie&&!Re&&!St&&re)return null;var It={onMouseEnter:se,onMouseOver:ue,onMouseLeave:me,onClick:pe,onKeyDown:ye,onKeyUp:Se},Ft=(0,X.Z)((0,X.Z)({},t),{},{open:St,prefixCls:y,placement:w,autoFocus:D,keyboard:L,width:Z,mask:G,maskClosable:K,inline:ee===!1,afterOpenChange:vt,ref:_t},It);return s.createElement(y2.Provider,{value:$t},s.createElement(Bo.Z,{open:St||ie||Re,autoDestroy:!1,getContainer:ee,autoLock:G&&(St||Re)},s.createElement(zT,Ft)))},NT=LT,BT=NT,C2=e=>{var t,a;const{prefixCls:o,title:f,footer:y,extra:C,loading:w,onClose:I,headerStyle:D,bodyStyle:z,footerStyle:L,children:k,classNames:Z,styles:j}=e,G=(0,ve.dj)("drawer"),H=s.useCallback(re=>s.createElement("button",{type:"button",onClick:I,"aria-label":"Close",className:`${o}-close`},re),[I]),[K,ee]=Hl(zl(e),zl(G),{closable:!0,closeIconRender:H}),ie=s.useMemo(()=>{var re,se;return!f&&!K?null:s.createElement("div",{style:Object.assign(Object.assign(Object.assign({},(re=G.styles)===null||re===void 0?void 0:re.header),D),j==null?void 0:j.header),className:Y()(`${o}-header`,{[`${o}-header-close-only`]:K&&!f&&!C},(se=G.classNames)===null||se===void 0?void 0:se.header,Z==null?void 0:Z.header)},s.createElement("div",{className:`${o}-header-title`},ee,f&&s.createElement("div",{className:`${o}-title`},f)),C&&s.createElement("div",{className:`${o}-extra`},C))},[K,ee,C,D,o,f]),oe=s.useMemo(()=>{var re,se;if(!y)return null;const ue=`${o}-footer`;return s.createElement("div",{className:Y()(ue,(re=G.classNames)===null||re===void 0?void 0:re.footer,Z==null?void 0:Z.footer),style:Object.assign(Object.assign(Object.assign({},(se=G.styles)===null||se===void 0?void 0:se.footer),L),j==null?void 0:j.footer)},y)},[y,L,o]);return s.createElement(s.Fragment,null,ie,s.createElement("div",{className:Y()(`${o}-body`,Z==null?void 0:Z.body,(t=G.classNames)===null||t===void 0?void 0:t.body),style:Object.assign(Object.assign(Object.assign({},(a=G.styles)===null||a===void 0?void 0:a.body),z),j==null?void 0:j.body)},w?s.createElement(Tr,{active:!0,title:!1,paragraph:{rows:5},className:`${o}-body-skeleton`}):k),oe)};const FT=e=>{const t="100%";return{left:`translateX(-${t})`,right:`translateX(${t})`,top:`translateY(-${t})`,bottom:`translateY(${t})`}[e]},S2=(e,t)=>({"&-enter, &-appear":Object.assign(Object.assign({},e),{"&-active":t}),"&-leave":Object.assign(Object.assign({},t),{"&-active":e})}),w2=(e,t)=>Object.assign({"&-enter, &-appear, &-leave":{"&-start":{transition:"none"},"&-active":{transition:`all ${t}`}}},S2({opacity:e},{opacity:1})),kT=(e,t)=>[w2(.7,t),S2({transform:FT(e)},{transform:"none"})];var jT=e=>{const{componentCls:t,motionDurationSlow:a}=e;return{[t]:{[`${t}-mask-motion`]:w2(0,a),[`${t}-panel-motion`]:["left","right","top","bottom"].reduce((o,f)=>Object.assign(Object.assign({},o),{[`&-${f}`]:kT(f,a)}),{})}}};const ZT=e=>{const{borderRadiusSM:t,componentCls:a,zIndexPopup:o,colorBgMask:f,colorBgElevated:y,motionDurationSlow:C,motionDurationMid:w,paddingXS:I,padding:D,paddingLG:z,fontSizeLG:L,lineHeightLG:k,lineWidth:Z,lineType:j,colorSplit:G,marginXS:H,colorIcon:K,colorIconHover:ee,colorBgTextHover:ie,colorBgTextActive:oe,colorText:re,fontWeightStrong:se,footerPaddingBlock:ue,footerPaddingInline:me,calc:pe}=e,ye=`${a}-content-wrapper`;return{[a]:{position:"fixed",inset:0,zIndex:o,pointerEvents:"none",color:re,"&-pure":{position:"relative",background:y,display:"flex",flexDirection:"column",[`&${a}-left`]:{boxShadow:e.boxShadowDrawerLeft},[`&${a}-right`]:{boxShadow:e.boxShadowDrawerRight},[`&${a}-top`]:{boxShadow:e.boxShadowDrawerUp},[`&${a}-bottom`]:{boxShadow:e.boxShadowDrawerDown}},"&-inline":{position:"absolute"},[`${a}-mask`]:{position:"absolute",inset:0,zIndex:o,background:f,pointerEvents:"auto"},[ye]:{position:"absolute",zIndex:o,maxWidth:"100vw",transition:`all ${C}`,"&-hidden":{display:"none"}},[`&-left > ${ye}`]:{top:0,bottom:0,left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowDrawerLeft},[`&-right > ${ye}`]:{top:0,right:{_skip_check_:!0,value:0},bottom:0,boxShadow:e.boxShadowDrawerRight},[`&-top > ${ye}`]:{top:0,insetInline:0,boxShadow:e.boxShadowDrawerUp},[`&-bottom > ${ye}`]:{bottom:0,insetInline:0,boxShadow:e.boxShadowDrawerDown},[`${a}-content`]:{display:"flex",flexDirection:"column",width:"100%",height:"100%",overflow:"auto",background:y,pointerEvents:"auto"},[`${a}-header`]:{display:"flex",flex:0,alignItems:"center",padding:`${(0,fe.bf)(D)} ${(0,fe.bf)(z)}`,fontSize:L,lineHeight:k,borderBottom:`${(0,fe.bf)(Z)} ${j} ${G}`,"&-title":{display:"flex",flex:1,alignItems:"center",minWidth:0,minHeight:0}},[`${a}-extra`]:{flex:"none"},[`${a}-close`]:Object.assign({display:"inline-flex",width:pe(L).add(I).equal(),height:pe(L).add(I).equal(),borderRadius:t,justifyContent:"center",alignItems:"center",marginInlineEnd:H,color:K,fontWeight:se,fontSize:L,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",textDecoration:"none",background:"transparent",border:0,cursor:"pointer",transition:`all ${w}`,textRendering:"auto","&:hover":{color:ee,backgroundColor:ie,textDecoration:"none"},"&:active":{backgroundColor:oe}},(0,Wt.Qy)(e)),[`${a}-title`]:{flex:1,margin:0,fontWeight:e.fontWeightStrong,fontSize:L,lineHeight:k},[`${a}-body`]:{flex:1,minWidth:0,minHeight:0,padding:z,overflow:"auto",[`${a}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center"}},[`${a}-footer`]:{flexShrink:0,padding:`${(0,fe.bf)(ue)} ${(0,fe.bf)(me)}`,borderTop:`${(0,fe.bf)(Z)} ${j} ${G}`},"&-rtl":{direction:"rtl"}}}},VT=e=>({zIndexPopup:e.zIndexPopupBase,footerPaddingBlock:e.paddingXS,footerPaddingInline:e.padding});var E2=(0,te.I$)("Drawer",e=>{const t=(0,Ur.IX)(e,{});return[ZT(t),jT(t)]},VT),I2=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const EF=null,HT={distance:180},M2=e=>{var t;const{rootClassName:a,width:o,height:f,size:y="default",mask:C=!0,push:w=HT,open:I,afterOpenChange:D,onClose:z,prefixCls:L,getContainer:k,style:Z,className:j,visible:G,afterVisibleChange:H,maskStyle:K,drawerStyle:ee,contentWrapperStyle:ie}=e,oe=I2(e,["rootClassName","width","height","size","mask","push","open","afterOpenChange","onClose","prefixCls","getContainer","style","className","visible","afterVisibleChange","maskStyle","drawerStyle","contentWrapperStyle"]),{getPopupContainer:re,getPrefixCls:se,direction:ue,className:me,style:pe,classNames:ye,styles:Se}=(0,ve.dj)("drawer"),Ie=se("drawer",L),[we,Be,Re]=E2(Ie),je=k===void 0&&re?()=>re(document.body):k,Ne=Y()({"no-mask":!C,[`${Ie}-rtl`]:ue==="rtl"},a,Be,Re),nt=s.useMemo(()=>o!=null?o:y==="large"?736:378,[o,y]),at=s.useMemo(()=>f!=null?f:y==="large"?736:378,[f,y]),Ct={motionName:(0,Rr.m)(Ie,"mask-motion"),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500},St=Ft=>({motionName:(0,Rr.m)(Ie,`panel-motion-${Ft}`),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500}),_t=el(),[ft,vt]=(0,Ut.Cn)("Drawer",oe.zIndex),{classNames:$t={},styles:It={}}=oe;return we(s.createElement(Jl.Z,{form:!0,space:!0},s.createElement(Ya.Z.Provider,{value:vt},s.createElement(BT,Object.assign({prefixCls:Ie,onClose:z,maskMotion:Ct,motion:St},oe,{classNames:{mask:Y()($t.mask,ye.mask),content:Y()($t.content,ye.content),wrapper:Y()($t.wrapper,ye.wrapper)},styles:{mask:Object.assign(Object.assign(Object.assign({},It.mask),K),Se.mask),content:Object.assign(Object.assign(Object.assign({},It.content),ee),Se.content),wrapper:Object.assign(Object.assign(Object.assign({},It.wrapper),ie),Se.wrapper)},open:I!=null?I:G,mask:C,push:w,width:nt,height:at,style:Object.assign(Object.assign({},pe),Z),className:Y()(me,j),rootClassName:Ne,getContainer:je,afterOpenChange:D!=null?D:H,panelRef:_t,zIndex:ft}),s.createElement(C2,Object.assign({prefixCls:Ie},oe,{onClose:z}))))))},UT=e=>{const{prefixCls:t,style:a,className:o,placement:f="right"}=e,y=I2(e,["prefixCls","style","className","placement"]),{getPrefixCls:C}=s.useContext(ve.E_),w=C("drawer",t),[I,D,z]=E2(w),L=Y()(w,`${w}-pure`,`${w}-${f}`,D,z,o);return I(s.createElement("div",{className:L,style:a},s.createElement(C2,Object.assign({prefixCls:w},y))))};M2._InternalPanelDoNotUseOrYouWillBeFired=UT;var WT=M2;function Sx(e){return["small","middle","large"].includes(e)}function T2(e){return e?typeof e=="number"&&!Number.isNaN(e):!1}const P2=s.createContext({latestIndex:0}),GT=P2.Provider;var KT=e=>{let{className:t,index:a,children:o,split:f,style:y}=e;const{latestIndex:C}=s.useContext(P2);return o==null?null:s.createElement(s.Fragment,null,s.createElement("div",{className:t,style:y},o),a<C&&f&&s.createElement("span",{className:`${t}-split`},f))},XT=F(45936),YT=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const O2=s.forwardRef((e,t)=>{var a;const{getPrefixCls:o,direction:f,size:y,className:C,style:w,classNames:I,styles:D}=(0,ve.dj)("space"),{size:z=y!=null?y:"small",align:L,className:k,rootClassName:Z,children:j,direction:G="horizontal",prefixCls:H,split:K,style:ee,wrap:ie=!1,classNames:oe,styles:re}=e,se=YT(e,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),[ue,me]=Array.isArray(z)?z:[z,z],pe=Sx(me),ye=Sx(ue),Se=T2(me),Ie=T2(ue),we=(0,Wl.Z)(j,{keepEmpty:!0}),Be=L===void 0&&G==="horizontal"?"center":L,Re=o("space",H),[je,Ne,nt]=(0,XT.Z)(Re),at=Y()(Re,C,Ne,`${Re}-${G}`,{[`${Re}-rtl`]:f==="rtl",[`${Re}-align-${Be}`]:Be,[`${Re}-gap-row-${me}`]:pe,[`${Re}-gap-col-${ue}`]:ye},k,Z,nt),Ct=Y()(`${Re}-item`,(a=oe==null?void 0:oe.item)!==null&&a!==void 0?a:I.item);let St=0;const _t=we.map(($t,It)=>{var Ft;$t!=null&&(St=It);const wt=($t==null?void 0:$t.key)||`${Ct}-${It}`;return s.createElement(KT,{className:Ct,key:wt,index:It,split:K,style:(Ft=re==null?void 0:re.item)!==null&&Ft!==void 0?Ft:D.item},$t)}),ft=s.useMemo(()=>({latestIndex:St}),[St]);if(we.length===0)return null;const vt={};return ie&&(vt.flexWrap="wrap"),!ye&&Ie&&(vt.columnGap=ue),!pe&&Se&&(vt.rowGap=me),je(s.createElement("div",Object.assign({ref:t,className:at,style:Object.assign(Object.assign(Object.assign({},vt),w),ee)},se),s.createElement(GT,{value:ft},_t)))});O2.Compact=oo.ZP;var R2=O2,qT=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const $2=e=>{const{getPopupContainer:t,getPrefixCls:a,direction:o}=s.useContext(ve.E_),{prefixCls:f,type:y="default",danger:C,disabled:w,loading:I,onClick:D,htmlType:z,children:L,className:k,menu:Z,arrow:j,autoFocus:G,overlay:H,trigger:K,align:ee,open:ie,onOpenChange:oe,placement:re,getPopupContainer:se,href:ue,icon:me=s.createElement(Zv,null),title:pe,buttonsRender:ye=wt=>wt,mouseEnterDelay:Se,mouseLeaveDelay:Ie,overlayClassName:we,overlayStyle:Be,destroyPopupOnHide:Re,dropdownRender:je}=e,Ne=qT(e,["prefixCls","type","danger","disabled","loading","onClick","htmlType","children","className","menu","arrow","autoFocus","overlay","trigger","align","open","onOpenChange","placement","getPopupContainer","href","icon","title","buttonsRender","mouseEnterDelay","mouseLeaveDelay","overlayClassName","overlayStyle","destroyPopupOnHide","dropdownRender"]),nt=a("dropdown",f),at=`${nt}-button`,Ct={menu:Z,arrow:j,autoFocus:G,align:ee,disabled:w,trigger:w?[]:K,onOpenChange:oe,getPopupContainer:se||t,mouseEnterDelay:Se,mouseLeaveDelay:Ie,overlayClassName:we,overlayStyle:Be,destroyPopupOnHide:Re,dropdownRender:je},{compactSize:St,compactItemClassnames:_t}=(0,oo.ri)(nt,o),ft=Y()(at,_t,k);"overlay"in e&&(Ct.overlay=H),"open"in e&&(Ct.open=ie),"placement"in e?Ct.placement=re:Ct.placement=o==="rtl"?"bottomLeft":"bottomRight";const vt=s.createElement(wn,{type:y,danger:C,disabled:w,loading:I,onClick:D,htmlType:z,href:ue,title:pe},L),$t=s.createElement(wn,{type:y,danger:C,icon:me}),[It,Ft]=ye([vt,$t]);return s.createElement(R2.Compact,Object.assign({className:ft,size:St,block:!0},Ne),It,s.createElement(Mf,Object.assign({},Ct),Ft))};$2.__ANT_BUTTON=!0;var JT=$2;const A2=Mf;A2.Button=JT;var wx=A2,LS=F(35335);const D2=["wrap","nowrap","wrap-reverse"],z2=["flex-start","flex-end","start","end","center","space-between","space-around","space-evenly","stretch","normal","left","right"],L2=["center","start","end","flex-start","flex-end","self-start","self-end","baseline","normal","stretch"],QT=(e,t)=>{const a=t.wrap===!0?"wrap":t.wrap;return{[`${e}-wrap-${a}`]:a&&D2.includes(a)}},eP=(e,t)=>{const a={};return L2.forEach(o=>{a[`${e}-align-${o}`]=t.align===o}),a[`${e}-align-stretch`]=!t.align&&!!t.vertical,a},tP=(e,t)=>{const a={};return z2.forEach(o=>{a[`${e}-justify-${o}`]=t.justify===o}),a};function nP(e,t){return Y()(Object.assign(Object.assign(Object.assign({},QT(e,t)),eP(e,t)),tP(e,t)))}var rP=nP;const iP=e=>{const{componentCls:t}=e;return{[t]:{display:"flex",margin:0,padding:0,"&-vertical":{flexDirection:"column"},"&-rtl":{direction:"rtl"},"&:empty":{display:"none"}}}},oP=e=>{const{componentCls:t}=e;return{[t]:{"&-gap-small":{gap:e.flexGapSM},"&-gap-middle":{gap:e.flexGap},"&-gap-large":{gap:e.flexGapLG}}}},aP=e=>{const{componentCls:t}=e,a={};return D2.forEach(o=>{a[`${t}-wrap-${o}`]={flexWrap:o}}),a},sP=e=>{const{componentCls:t}=e,a={};return L2.forEach(o=>{a[`${t}-align-${o}`]={alignItems:o}}),a},lP=e=>{const{componentCls:t}=e,a={};return z2.forEach(o=>{a[`${t}-justify-${o}`]={justifyContent:o}}),a},cP=()=>({});var uP=(0,te.I$)("Flex",e=>{const{paddingXS:t,padding:a,paddingLG:o}=e,f=(0,Ur.IX)(e,{flexGapSM:t,flexGap:a,flexGapLG:o});return[iP(f),oP(f),aP(f),sP(f),lP(f)]},cP,{resetStyle:!1}),dP=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},fP=s.forwardRef((e,t)=>{const{prefixCls:a,rootClassName:o,className:f,style:y,flex:C,gap:w,children:I,vertical:D=!1,component:z="div"}=e,L=dP(e,["prefixCls","rootClassName","className","style","flex","gap","children","vertical","component"]),{flex:k,direction:Z,getPrefixCls:j}=s.useContext(ve.E_),G=j("flex",a),[H,K,ee]=uP(G),ie=D!=null?D:k==null?void 0:k.vertical,oe=Y()(f,o,k==null?void 0:k.className,G,K,ee,rP(G,e),{[`${G}-rtl`]:Z==="rtl",[`${G}-gap-${w}`]:Sx(w),[`${G}-vertical`]:ie}),re=Object.assign(Object.assign({},k==null?void 0:k.style),y);return C&&(re.flex=C),w&&!Sx(w)&&(re.gap=w),H(s.createElement(z,Object.assign({ref:t,className:oe,style:re},(0,ci.Z)(L,["justify","wrap","align"])),I))});const N2=s.createContext(void 0),{Provider:hP}=N2;var B2=N2,mP={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM504 618H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM312 490v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8z"}}]},name:"file-text",theme:"outlined"},pP=mP,gP=function(t,a){return s.createElement(Xt.Z,(0,Ze.Z)({},t,{ref:a,icon:pP}))},vP=s.forwardRef(gP),F2=vP;const yP=e=>{const{icon:t,description:a,prefixCls:o,className:f}=e,y=s.createElement("div",{className:`${o}-icon`},s.createElement(F2,null));return s.createElement("div",{onClick:e.onClick,onFocus:e.onFocus,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,className:Y()(f,`${o}-content`)},t||a?s.createElement(s.Fragment,null,t&&s.createElement("div",{className:`${o}-icon`},t),a&&s.createElement("div",{className:`${o}-description`},a)):y)};var _P=(0,s.memo)(yP),k2=e=>e===0?0:e-Math.sqrt(Math.pow(e,2)/2),bP=e=>{const{componentCls:t,floatButtonSize:a,motionDurationSlow:o,motionEaseInOutCirc:f,calc:y}=e,C=new fe.E4("antFloatButtonMoveTopIn",{"0%":{transform:`translate3d(0, ${(0,fe.bf)(a)}, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),w=new fe.E4("antFloatButtonMoveTopOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(0, ${(0,fe.bf)(a)}, 0)`,transformOrigin:"0 0",opacity:0}}),I=new fe.E4("antFloatButtonMoveRightIn",{"0%":{transform:`translate3d(${y(a).mul(-1).equal()}, 0, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),D=new fe.E4("antFloatButtonMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(${y(a).mul(-1).equal()}, 0, 0)`,transformOrigin:"0 0",opacity:0}}),z=new fe.E4("antFloatButtonMoveBottomIn",{"0%":{transform:`translate3d(0, ${y(a).mul(-1).equal()}, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),L=new fe.E4("antFloatButtonMoveBottomOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(0, ${y(a).mul(-1).equal()}, 0)`,transformOrigin:"0 0",opacity:0}}),k=new fe.E4("antFloatButtonMoveLeftIn",{"0%":{transform:`translate3d(${(0,fe.bf)(a)}, 0, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),Z=new fe.E4("antFloatButtonMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(${(0,fe.bf)(a)}, 0, 0)`,transformOrigin:"0 0",opacity:0}}),j=`${t}-group`;return[{[j]:{[`&${j}-top ${j}-wrap`]:(0,bc.R)(`${j}-wrap`,C,w,o,!0),[`&${j}-bottom ${j}-wrap`]:(0,bc.R)(`${j}-wrap`,z,L,o,!0),[`&${j}-left ${j}-wrap`]:(0,bc.R)(`${j}-wrap`,k,Z,o,!0),[`&${j}-right ${j}-wrap`]:(0,bc.R)(`${j}-wrap`,I,D,o,!0)}},{[`${j}-wrap`]:{[`&${j}-wrap-enter, &${j}-wrap-appear`]:{opacity:0,animationTimingFunction:f},[`&${j}-wrap-leave`]:{opacity:1,animationTimingFunction:f}}}]};const xP=e=>{const{antCls:t,componentCls:a,floatButtonSize:o,margin:f,borderRadiusLG:y,borderRadiusSM:C,badgeOffset:w,floatButtonBodyPadding:I,zIndexPopupBase:D,calc:z}=e,L=`${a}-group`;return{[L]:Object.assign(Object.assign({},(0,Wt.Wf)(e)),{zIndex:D,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",border:"none",position:"fixed",height:"auto",boxShadow:"none",minWidth:o,minHeight:o,insetInlineEnd:e.floatButtonInsetInlineEnd,bottom:e.floatButtonInsetBlockEnd,borderRadius:y,[`${L}-wrap`]:{zIndex:-1,display:"flex",justifyContent:"center",alignItems:"center",position:"absolute"},[`&${L}-rtl`]:{direction:"rtl"},[a]:{position:"static"}}),[`${L}-top > ${L}-wrap`]:{flexDirection:"column",top:"auto",bottom:z(o).add(f).equal(),"&::after":{content:'""',position:"absolute",width:"100%",height:f,bottom:z(f).mul(-1).equal()}},[`${L}-bottom > ${L}-wrap`]:{flexDirection:"column",top:z(o).add(f).equal(),bottom:"auto","&::after":{content:'""',position:"absolute",width:"100%",height:f,top:z(f).mul(-1).equal()}},[`${L}-right > ${L}-wrap`]:{flexDirection:"row",left:{_skip_check_:!0,value:z(o).add(f).equal()},right:{_skip_check_:!0,value:"auto"},"&::after":{content:'""',position:"absolute",width:f,height:"100%",left:{_skip_check_:!0,value:z(f).mul(-1).equal()}}},[`${L}-left > ${L}-wrap`]:{flexDirection:"row",left:{_skip_check_:!0,value:"auto"},right:{_skip_check_:!0,value:z(o).add(f).equal()},"&::after":{content:'""',position:"absolute",width:f,height:"100%",right:{_skip_check_:!0,value:z(f).mul(-1).equal()}}},[`${L}-circle`]:{gap:f,[`${L}-wrap`]:{gap:f}},[`${L}-square`]:{[`${a}-square`]:{padding:0,borderRadius:0,[`&${L}-trigger`]:{borderRadius:y},"&:first-child":{borderStartStartRadius:y,borderStartEndRadius:y},"&:last-child":{borderEndStartRadius:y,borderEndEndRadius:y},"&:not(:last-child)":{borderBottom:`${(0,fe.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-badge`]:{[`${t}-badge-count`]:{top:z(z(I).add(w)).mul(-1).equal(),insetInlineEnd:z(z(I).add(w)).mul(-1).equal()}}},[`${L}-wrap`]:{borderRadius:y,boxShadow:e.boxShadowSecondary,[`${a}-square`]:{boxShadow:"none",borderRadius:0,padding:I,[`${a}-body`]:{width:e.floatButtonBodySize,height:e.floatButtonBodySize,borderRadius:C}}}},[`${L}-top > ${L}-wrap, ${L}-bottom > ${L}-wrap`]:{[`> ${a}-square`]:{"&:first-child":{borderStartStartRadius:y,borderStartEndRadius:y},"&:last-child":{borderEndStartRadius:y,borderEndEndRadius:y},"&:not(:last-child)":{borderBottom:`${(0,fe.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`}}},[`${L}-left > ${L}-wrap, ${L}-right > ${L}-wrap`]:{[`> ${a}-square`]:{"&:first-child":{borderStartStartRadius:y,borderEndStartRadius:y},"&:last-child":{borderStartEndRadius:y,borderEndEndRadius:y},"&:not(:last-child)":{borderInlineEnd:`${(0,fe.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`}}},[`${L}-circle-shadow`]:{boxShadow:"none"},[`${L}-square-shadow`]:{boxShadow:e.boxShadowSecondary,[`${a}-square`]:{boxShadow:"none",padding:I,[`${a}-body`]:{width:e.floatButtonBodySize,height:e.floatButtonBodySize,borderRadius:C}}}}},CP=e=>{const{antCls:t,componentCls:a,floatButtonBodyPadding:o,floatButtonIconSize:f,floatButtonSize:y,borderRadiusLG:C,badgeOffset:w,dotOffsetInSquare:I,dotOffsetInCircle:D,zIndexPopupBase:z,calc:L}=e;return{[a]:Object.assign(Object.assign({},(0,Wt.Wf)(e)),{border:"none",position:"fixed",cursor:"pointer",zIndex:z,display:"block",width:y,height:y,insetInlineEnd:e.floatButtonInsetInlineEnd,bottom:e.floatButtonInsetBlockEnd,boxShadow:e.boxShadowSecondary,"&-pure":{position:"relative",inset:"auto"},"&:empty":{display:"none"},[`${t}-badge`]:{width:"100%",height:"100%",[`${t}-badge-count`]:{transform:"translate(0, 0)",transformOrigin:"center",top:L(w).mul(-1).equal(),insetInlineEnd:L(w).mul(-1).equal()}},[`${a}-body`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",transition:`all ${e.motionDurationMid}`,[`${a}-content`]:{overflow:"hidden",textAlign:"center",minHeight:y,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:`${(0,fe.bf)(L(o).div(2).equal())} ${(0,fe.bf)(o)}`,[`${a}-icon`]:{textAlign:"center",margin:"auto",width:f,fontSize:f,lineHeight:1}}}}),[`${a}-rtl`]:{direction:"rtl"},[`${a}-circle`]:{height:y,borderRadius:"50%",[`${t}-badge`]:{[`${t}-badge-dot`]:{top:D,insetInlineEnd:D}},[`${a}-body`]:{borderRadius:"50%"}},[`${a}-square`]:{height:"auto",minHeight:y,borderRadius:C,[`${t}-badge`]:{[`${t}-badge-dot`]:{top:I,insetInlineEnd:I}},[`${a}-body`]:{height:"auto",borderRadius:C}},[`${a}-default`]:{backgroundColor:e.floatButtonBackgroundColor,transition:`background-color ${e.motionDurationMid}`,[`${a}-body`]:{backgroundColor:e.floatButtonBackgroundColor,transition:`background-color ${e.motionDurationMid}`,"&:hover":{backgroundColor:e.colorFillContent},[`${a}-content`]:{[`${a}-icon`]:{color:e.colorText},[`${a}-description`]:{display:"flex",alignItems:"center",lineHeight:(0,fe.bf)(e.fontSizeLG),color:e.colorText,fontSize:e.fontSizeSM}}}},[`${a}-primary`]:{backgroundColor:e.colorPrimary,[`${a}-body`]:{backgroundColor:e.colorPrimary,transition:`background-color ${e.motionDurationMid}`,"&:hover":{backgroundColor:e.colorPrimaryHover},[`${a}-content`]:{[`${a}-icon`]:{color:e.colorTextLightSolid},[`${a}-description`]:{display:"flex",alignItems:"center",lineHeight:(0,fe.bf)(e.fontSizeLG),color:e.colorTextLightSolid,fontSize:e.fontSizeSM}}}}}},SP=e=>({dotOffsetInCircle:k2(e.controlHeightLG/2),dotOffsetInSquare:k2(e.borderRadiusLG)});var j2=(0,te.I$)("FloatButton",e=>{const{colorTextLightSolid:t,colorBgElevated:a,controlHeightLG:o,marginXXL:f,marginLG:y,fontSize:C,fontSizeIcon:w,controlItemBgHover:I,paddingXXS:D,calc:z}=e,L=(0,Ur.IX)(e,{floatButtonBackgroundColor:a,floatButtonColor:t,floatButtonHoverBackgroundColor:I,floatButtonFontSize:C,floatButtonIconSize:z(w).mul(1.5).equal(),floatButtonSize:o,floatButtonInsetBlockEnd:f,floatButtonInsetInlineEnd:y,floatButtonBodySize:z(o).sub(z(D).mul(2)).equal(),floatButtonBodyPadding:D,badgeOffset:z(D).mul(1.5).equal()});return[xP(L),CP(L),iu(e),bP(L)]},SP),wP=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const Ex="float-btn";var Ag=s.forwardRef((e,t)=>{const{prefixCls:a,className:o,rootClassName:f,style:y,type:C="default",shape:w="circle",icon:I,description:D,tooltip:z,htmlType:L="button",badge:k={}}=e,Z=wP(e,["prefixCls","className","rootClassName","style","type","shape","icon","description","tooltip","htmlType","badge"]),{getPrefixCls:j,direction:G}=(0,s.useContext)(ve.E_),H=(0,s.useContext)(B2),K=j(Ex,a),ee=(0,Fn.Z)(K),[ie,oe,re]=j2(K,ee),se=H||w,ue=Y()(oe,re,ee,K,o,f,`${K}-${C}`,`${K}-${se}`,{[`${K}-rtl`]:G==="rtl"}),[me]=(0,Ut.Cn)("FloatButton",y==null?void 0:y.zIndex),pe=Object.assign(Object.assign({},y),{zIndex:me}),ye=(0,ci.Z)(k,["title","children","status","text"]),Se=(0,s.useMemo)(()=>({prefixCls:K,description:D,icon:I,type:C}),[K,D,I,C]);let Ie=s.createElement("div",{className:`${K}-body`},s.createElement(_P,Object.assign({},Se)));return"badge"in e&&(Ie=s.createElement(Yu,Object.assign({},ye),Ie)),"tooltip"in e&&(Ie=s.createElement(Du.Z,{title:z,placement:G==="rtl"?"right":"left"},Ie)),ie(e.href?s.createElement("a",Object.assign({ref:t},Z,{className:ue,style:pe}),Ie):s.createElement("button",Object.assign({ref:t},Z,{className:ue,style:pe,type:L}),Ie))}),EP=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},Z2=s.forwardRef((e,t)=>{const{prefixCls:a,className:o,type:f="default",shape:y="circle",visibilityHeight:C=400,icon:w=s.createElement(Tp,null),target:I,onClick:D,duration:z=450}=e,L=EP(e,["prefixCls","className","type","shape","visibilityHeight","icon","target","onClick","duration"]),[k,Z]=(0,s.useState)(C===0),j=s.useRef(null);s.useImperativeHandle(t,()=>({nativeElement:j.current}));const G=()=>{var me;return((me=j.current)===null||me===void 0?void 0:me.ownerDocument)||window},H=Me(me=>{const pe=Xn(me.target);Z(pe>=C)});(0,s.useEffect)(()=>{const pe=(I||G)();return H({target:pe}),pe==null||pe.addEventListener("scroll",H),()=>{H.cancel(),pe==null||pe.removeEventListener("scroll",H)}},[I]);const K=me=>{Yr(0,{getContainer:I||G,duration:z}),D==null||D(me)},{getPrefixCls:ee}=(0,s.useContext)(ve.E_),ie=ee(Ex,a),oe=ee(),se=(0,s.useContext)(B2)||y,ue=Object.assign({prefixCls:ie,icon:w,type:f,shape:se},L);return s.createElement(En.ZP,{visible:k,motionName:`${oe}-fade`},(me,pe)=>{let{className:ye}=me;return s.createElement(Ag,Object.assign({ref:(0,Gt.sQ)(j,pe)},ue,{onClick:K,className:Y()(o,ye)}))})}),IP=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},V2=e=>{var t;const{prefixCls:a,className:o,style:f,shape:y="circle",type:C="default",placement:w="top",icon:I=s.createElement(F2,null),closeIcon:D,description:z,trigger:L,children:k,onOpenChange:Z,open:j,onClick:G}=e,H=IP(e,["prefixCls","className","style","shape","type","placement","icon","closeIcon","description","trigger","children","onOpenChange","open","onClick"]),{direction:K,getPrefixCls:ee,closeIcon:ie}=(0,ve.dj)("floatButtonGroup"),oe=(t=D!=null?D:ie)!==null&&t!==void 0?t:s.createElement(er.Z,null),re=ee(Ex,a),se=(0,Fn.Z)(re),[ue,me,pe]=j2(re,se),ye=`${re}-group`,Se=L&&["click","hover"].includes(L),Ie=w&&["top","left","right","bottom"].includes(w),we=Y()(ye,me,pe,se,o,{[`${ye}-rtl`]:K==="rtl",[`${ye}-${y}`]:y,[`${ye}-${y}-shadow`]:!Se,[`${ye}-${w}`]:Se&&Ie}),[Be]=(0,Ut.Cn)("FloatButton",f==null?void 0:f.zIndex),Re=Object.assign(Object.assign({},f),{zIndex:Be}),je=Y()(me,`${ye}-wrap`),[Ne,nt]=(0,Fs.Z)(!1,{value:j}),at=s.useRef(null),Ct=L==="hover",St=L==="click",_t=(0,fr.Z)(It=>{Ne!==It&&(nt(It),Z==null||Z(It))}),ft=()=>{Ct&&_t(!0)},vt=()=>{Ct&&_t(!1)},$t=It=>{St&&_t(!Ne),G==null||G(It)};return s.useEffect(()=>{if(St){const It=Ft=>{var wt;!((wt=at.current)===null||wt===void 0)&&wt.contains(Ft.target)||_t(!1)};return document.addEventListener("click",It,{capture:!0}),()=>document.removeEventListener("click",It,{capture:!0})}},[St]),ue(s.createElement(hP,{value:y},s.createElement("div",{ref:at,className:we,style:Re,onMouseEnter:ft,onMouseLeave:vt},Se?s.createElement(s.Fragment,null,s.createElement(En.ZP,{visible:Ne,motionName:`${ye}-wrap`},It=>{let{className:Ft}=It;return s.createElement("div",{className:Y()(Ft,je)},k)}),s.createElement(Ag,Object.assign({type:C,icon:Ne?oe:I,description:z,"aria-label":e["aria-label"],className:`${ye}-trigger`,onClick:$t},H))):k)))},H2=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const U2=e=>{var{backTop:t}=e,a=H2(e,["backTop"]);return t?s.createElement(Z2,Object.assign({},a,{visibilityHeight:0})):s.createElement(Ag,Object.assign({},a))};var MP=e=>{var{className:t,items:a}=e,o=H2(e,["className","items"]);const{prefixCls:f}=o,{getPrefixCls:y}=s.useContext(ve.E_),w=`${y(Ex,f)}-pure`;return a?s.createElement(V2,Object.assign({className:Y()(t,w)},o),a.map((I,D)=>s.createElement(U2,Object.assign({key:D},I)))):s.createElement(U2,Object.assign({className:Y()(t,w)},o))};Ag.BackTop=Z2,Ag.Group=V2,Ag._InternalPanelDoNotUseOrYouWillBeFired=MP;var TP=Ag,PP=F(54735);function OP(){return(0,Xu.Z)()}var RP={useBreakpoint:OP},$P={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},AP=$P,DP=function(t,a){return s.createElement(Xt.Z,(0,Ze.Z)({},t,{ref:a,icon:AP}))},zP=s.forwardRef(DP),NS=zP,W2=/margin|padding|width|height|max|min|offset/,BS={left:!0,top:!0},G2={cssFloat:1,styleFloat:1,float:1};function K2(e){return e.nodeType===1?e.ownerDocument.defaultView.getComputedStyle(e,null):{}}function LP(e,t,a){if(t=t.toLowerCase(),a==="auto"){if(t==="height")return e.offsetHeight;if(t==="width")return e.offsetWidth}return t in BS||(BS[t]=W2.test(t)),BS[t]?parseFloat(a)||0:a}function LF(e,t){var a=arguments.length,o=K2(e);return t=G2[t]?"cssFloat"in e.style?"cssFloat":"styleFloat":t,a===1?o:LP(e,t,o[t]||e.style[t])}function NP(e,t,a){var o=arguments.length;if(t=G2[t]?"cssFloat"in e.style?"cssFloat":"styleFloat":t,o===3)return typeof a=="number"&&W2.test(t)&&(a="".concat(a,"px")),e.style[t]=a,a;for(var f in t)t.hasOwnProperty(f)&&NP(e,f,t[f]);return K2(e)}function NF(e){return e===document.body?document.documentElement.clientWidth:e.offsetWidth}function BF(e){return e===document.body?window.innerHeight||document.documentElement.clientHeight:e.offsetHeight}function FF(){var e=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),t=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);return{width:e,height:t}}function X2(){var e=document.documentElement.clientWidth,t=window.innerHeight||document.documentElement.clientHeight;return{width:e,height:t}}function kF(){return{scrollLeft:Math.max(document.documentElement.scrollLeft,document.body.scrollLeft),scrollTop:Math.max(document.documentElement.scrollTop,document.body.scrollTop)}}function BP(e){var t=e.getBoundingClientRect(),a=document.documentElement;return{left:t.left+(window.pageXOffset||a.scrollLeft)-(a.clientLeft||document.body.clientLeft||0),top:t.top+(window.pageYOffset||a.scrollTop)-(a.clientTop||document.body.clientTop||0)}}function Jm(e,t,a,o){var f=ke.unstable_batchedUpdates?function(C){ke.unstable_batchedUpdates(a,C)}:a;return e!=null&&e.addEventListener&&e.addEventListener(t,f,o),{remove:function(){e!=null&&e.removeEventListener&&e.removeEventListener(t,f,o)}}}var E_=s.createContext(null),FP=function(t){var a=t.visible,o=t.maskTransitionName,f=t.getContainer,y=t.prefixCls,C=t.rootClassName,w=t.icons,I=t.countRender,D=t.showSwitch,z=t.showProgress,L=t.current,k=t.transform,Z=t.count,j=t.scale,G=t.minScale,H=t.maxScale,K=t.closeIcon,ee=t.onActive,ie=t.onClose,oe=t.onZoomIn,re=t.onZoomOut,se=t.onRotateRight,ue=t.onRotateLeft,me=t.onFlipX,pe=t.onFlipY,ye=t.onReset,Se=t.toolbarRender,Ie=t.zIndex,we=t.image,Be=(0,s.useContext)(E_),Re=w.rotateLeft,je=w.rotateRight,Ne=w.zoomIn,nt=w.zoomOut,at=w.close,Ct=w.left,St=w.right,_t=w.flipX,ft=w.flipY,vt="".concat(y,"-operations-operation");s.useEffect(function(){var Sn=function(ur){ur.keyCode===et.Z.ESC&&ie()};return a&&window.addEventListener("keydown",Sn),function(){window.removeEventListener("keydown",Sn)}},[a]);var $t=function(Ir,ur){Ir.preventDefault(),Ir.stopPropagation(),ee(ur)},It=s.useCallback(function(Sn){var Ir=Sn.type,ur=Sn.disabled,Yn=Sn.onClick,qn=Sn.icon;return s.createElement("div",{key:Ir,className:Y()(vt,"".concat(y,"-operations-operation-").concat(Ir),(0,he.Z)({},"".concat(y,"-operations-operation-disabled"),!!ur)),onClick:Yn},qn)},[vt,y]),Ft=D?It({icon:Ct,onClick:function(Ir){return $t(Ir,-1)},type:"prev",disabled:L===0}):void 0,wt=D?It({icon:St,onClick:function(Ir){return $t(Ir,1)},type:"next",disabled:L===Z-1}):void 0,pn=It({icon:ft,onClick:pe,type:"flipY"}),Bn=It({icon:_t,onClick:me,type:"flipX"}),ln=It({icon:Re,onClick:ue,type:"rotateLeft"}),Tn=It({icon:je,onClick:se,type:"rotateRight"}),Kt=It({icon:nt,onClick:re,type:"zoomOut",disabled:j<=G}),zt=It({icon:Ne,onClick:oe,type:"zoomIn",disabled:j===H}),Dn=s.createElement("div",{className:"".concat(y,"-operations")},pn,Bn,ln,Tn,Kt,zt);return s.createElement(En.ZP,{visible:a,motionName:o},function(Sn){var Ir=Sn.className,ur=Sn.style;return s.createElement(Bo.Z,{open:!0,getContainer:f!=null?f:document.body},s.createElement("div",{className:Y()("".concat(y,"-operations-wrapper"),Ir,C),style:(0,X.Z)((0,X.Z)({},ur),{},{zIndex:Ie})},K===null?null:s.createElement("button",{className:"".concat(y,"-close"),onClick:ie},K||at),D&&s.createElement(s.Fragment,null,s.createElement("div",{className:Y()("".concat(y,"-switch-left"),(0,he.Z)({},"".concat(y,"-switch-left-disabled"),L===0)),onClick:function(qn){return $t(qn,-1)}},Ct),s.createElement("div",{className:Y()("".concat(y,"-switch-right"),(0,he.Z)({},"".concat(y,"-switch-right-disabled"),L===Z-1)),onClick:function(qn){return $t(qn,1)}},St)),s.createElement("div",{className:"".concat(y,"-footer")},z&&s.createElement("div",{className:"".concat(y,"-progress")},I?I(L+1,Z):"".concat(L+1," / ").concat(Z)),Se?Se(Dn,(0,X.Z)((0,X.Z)({icons:{prevIcon:Ft,nextIcon:wt,flipYIcon:pn,flipXIcon:Bn,rotateLeftIcon:ln,rotateRightIcon:Tn,zoomOutIcon:Kt,zoomInIcon:zt},actions:{onActive:ee,onFlipY:pe,onFlipX:me,onRotateLeft:ue,onRotateRight:se,onZoomOut:re,onZoomIn:oe,onReset:ye,onClose:ie},transform:k},Be?{current:L,total:Z}:{}),{},{image:we})):Dn)))})},kP=FP,Ix={x:0,y:0,rotate:0,scale:1,flipX:!1,flipY:!1};function jP(e,t,a,o){var f=(0,s.useRef)(null),y=(0,s.useRef)([]),C=(0,s.useState)(Ix),w=(0,Oe.Z)(C,2),I=w[0],D=w[1],z=function(j){D(Ix),(0,Ol.Z)(Ix,I)||o==null||o({transform:Ix,action:j})},L=function(j,G){f.current===null&&(y.current=[],f.current=(0,We.Z)(function(){D(function(H){var K=H;return y.current.forEach(function(ee){K=(0,X.Z)((0,X.Z)({},K),ee)}),f.current=null,o==null||o({transform:K,action:G}),K})})),y.current.push((0,X.Z)((0,X.Z)({},I),j))},k=function(j,G,H,K,ee){var ie=e.current,oe=ie.width,re=ie.height,se=ie.offsetWidth,ue=ie.offsetHeight,me=ie.offsetLeft,pe=ie.offsetTop,ye=j,Se=I.scale*j;Se>a?(Se=a,ye=a/I.scale):Se<t&&(Se=ee?Se:t,ye=Se/I.scale);var Ie=H!=null?H:innerWidth/2,we=K!=null?K:innerHeight/2,Be=ye-1,Re=Be*oe*.5,je=Be*re*.5,Ne=Be*(Ie-I.x-me),nt=Be*(we-I.y-pe),at=I.x-(Ne-Re),Ct=I.y-(nt-je);if(j<1&&Se===1){var St=se*Se,_t=ue*Se,ft=X2(),vt=ft.width,$t=ft.height;St<=vt&&_t<=$t&&(at=0,Ct=0)}L({x:at,y:Ct,scale:Se},G)};return{transform:I,resetTransform:z,updateTransform:L,dispatchZoomChange:k}}function Y2(e,t,a,o){var f=t+a,y=(a-o)/2;if(a>o){if(t>0)return(0,he.Z)({},e,y);if(t<0&&f<o)return(0,he.Z)({},e,-y)}else if(t<0||f>o)return(0,he.Z)({},e,t<0?y:-y);return{}}function q2(e,t,a,o){var f=X2(),y=f.width,C=f.height,w=null;return e<=y&&t<=C?w={x:0,y:0}:(e>y||t>C)&&(w=(0,X.Z)((0,X.Z)({},Y2("x",a,e,y)),Y2("y",o,t,C))),w}var fv=1,ZP=1;function VP(e,t,a,o,f,y,C){var w=f.rotate,I=f.scale,D=f.x,z=f.y,L=(0,s.useState)(!1),k=(0,Oe.Z)(L,2),Z=k[0],j=k[1],G=(0,s.useRef)({diffX:0,diffY:0,transformX:0,transformY:0}),H=function(re){!t||re.button!==0||(re.preventDefault(),re.stopPropagation(),G.current={diffX:re.pageX-D,diffY:re.pageY-z,transformX:D,transformY:z},j(!0))},K=function(re){a&&Z&&y({x:re.pageX-G.current.diffX,y:re.pageY-G.current.diffY},"move")},ee=function(){if(a&&Z){j(!1);var re=G.current,se=re.transformX,ue=re.transformY,me=D!==se&&z!==ue;if(!me)return;var pe=e.current.offsetWidth*I,ye=e.current.offsetHeight*I,Se=e.current.getBoundingClientRect(),Ie=Se.left,we=Se.top,Be=w%180!==0,Re=q2(Be?ye:pe,Be?pe:ye,Ie,we);Re&&y((0,X.Z)({},Re),"dragRebound")}},ie=function(re){if(!(!a||re.deltaY==0)){var se=Math.abs(re.deltaY/100),ue=Math.min(se,ZP),me=fv+ue*o;re.deltaY>0&&(me=fv/me),C(me,"wheel",re.clientX,re.clientY)}};return(0,s.useEffect)(function(){var oe,re,se,ue;if(t){se=Jm(window,"mouseup",ee,!1),ue=Jm(window,"mousemove",K,!1);try{window.top!==window.self&&(oe=Jm(window.top,"mouseup",ee,!1),re=Jm(window.top,"mousemove",K,!1))}catch(me){(0,lc.Kp)(!1,"[rc-image] ".concat(me))}}return function(){var me,pe,ye,Se;(me=se)===null||me===void 0||me.remove(),(pe=ue)===null||pe===void 0||pe.remove(),(ye=oe)===null||ye===void 0||ye.remove(),(Se=re)===null||Se===void 0||Se.remove()}},[a,Z,D,z,w,t]),{isMoving:Z,onMouseDown:H,onMouseMove:K,onMouseUp:ee,onWheel:ie}}function HP(e){return new Promise(function(t){var a=document.createElement("img");a.onerror=function(){return t(!1)},a.onload=function(){return t(!0)},a.src=e})}function J2(e){var t=e.src,a=e.isCustomPlaceholder,o=e.fallback,f=(0,s.useState)(a?"loading":"normal"),y=(0,Oe.Z)(f,2),C=y[0],w=y[1],I=(0,s.useRef)(!1),D=C==="error";(0,s.useEffect)(function(){var Z=!0;return HP(t).then(function(j){!j&&Z&&w("error")}),function(){Z=!1}},[t]),(0,s.useEffect)(function(){a&&!I.current?w("loading"):D&&w("normal")},[t]);var z=function(){w("normal")},L=function(j){I.current=!1,C==="loading"&&j!==null&&j!==void 0&&j.complete&&(j.naturalWidth||j.naturalHeight)&&(I.current=!0,z())},k=D&&o?{src:o}:{onLoad:z,src:t};return[L,k,C]}function Mx(e,t){var a=e.x-t.x,o=e.y-t.y;return Math.hypot(a,o)}function UP(e,t,a,o){var f=Mx(e,a),y=Mx(t,o);if(f===0&&y===0)return[e.x,e.y];var C=f/(f+y),w=e.x+C*(t.x-e.x),I=e.y+C*(t.y-e.y);return[w,I]}function WP(e,t,a,o,f,y,C){var w=f.rotate,I=f.scale,D=f.x,z=f.y,L=(0,s.useState)(!1),k=(0,Oe.Z)(L,2),Z=k[0],j=k[1],G=(0,s.useRef)({point1:{x:0,y:0},point2:{x:0,y:0},eventType:"none"}),H=function(re){G.current=(0,X.Z)((0,X.Z)({},G.current),re)},K=function(re){if(t){re.stopPropagation(),j(!0);var se=re.touches,ue=se===void 0?[]:se;ue.length>1?H({point1:{x:ue[0].clientX,y:ue[0].clientY},point2:{x:ue[1].clientX,y:ue[1].clientY},eventType:"touchZoom"}):H({point1:{x:ue[0].clientX-D,y:ue[0].clientY-z},eventType:"move"})}},ee=function(re){var se=re.touches,ue=se===void 0?[]:se,me=G.current,pe=me.point1,ye=me.point2,Se=me.eventType;if(ue.length>1&&Se==="touchZoom"){var Ie={x:ue[0].clientX,y:ue[0].clientY},we={x:ue[1].clientX,y:ue[1].clientY},Be=UP(pe,ye,Ie,we),Re=(0,Oe.Z)(Be,2),je=Re[0],Ne=Re[1],nt=Mx(Ie,we)/Mx(pe,ye);C(nt,"touchZoom",je,Ne,!0),H({point1:Ie,point2:we,eventType:"touchZoom"})}else Se==="move"&&(y({x:ue[0].clientX-pe.x,y:ue[0].clientY-pe.y},"move"),H({eventType:"move"}))},ie=function(){if(a){if(Z&&j(!1),H({eventType:"none"}),o>I)return y({x:0,y:0,scale:o},"touchZoom");var re=e.current.offsetWidth*I,se=e.current.offsetHeight*I,ue=e.current.getBoundingClientRect(),me=ue.left,pe=ue.top,ye=w%180!==0,Se=q2(ye?se:re,ye?re:se,me,pe);Se&&y((0,X.Z)({},Se),"dragRebound")}};return(0,s.useEffect)(function(){var oe;return a&&t&&(oe=Jm(window,"touchmove",function(re){return re.preventDefault()},{passive:!1})),function(){var re;(re=oe)===null||re===void 0||re.remove()}},[a,t]),{isTouching:Z,onTouchStart:K,onTouchMove:ee,onTouchEnd:ie}}var GP=["fallback","src","imgRef"],KP=["prefixCls","src","alt","imageInfo","fallback","movable","onClose","visible","icons","rootClassName","closeIcon","getContainer","current","count","countRender","scaleStep","minScale","maxScale","transitionName","maskTransitionName","imageRender","imgCommonProps","toolbarRender","onTransform","onChange"],XP=function(t){var a=t.fallback,o=t.src,f=t.imgRef,y=(0,de.Z)(t,GP),C=J2({src:o,fallback:a}),w=(0,Oe.Z)(C,2),I=w[0],D=w[1];return s.createElement("img",(0,Ze.Z)({ref:function(L){f.current=L,I(L)}},y,D))},YP=function(t){var a=t.prefixCls,o=t.src,f=t.alt,y=t.imageInfo,C=t.fallback,w=t.movable,I=w===void 0?!0:w,D=t.onClose,z=t.visible,L=t.icons,k=L===void 0?{}:L,Z=t.rootClassName,j=t.closeIcon,G=t.getContainer,H=t.current,K=H===void 0?0:H,ee=t.count,ie=ee===void 0?1:ee,oe=t.countRender,re=t.scaleStep,se=re===void 0?.5:re,ue=t.minScale,me=ue===void 0?1:ue,pe=t.maxScale,ye=pe===void 0?50:pe,Se=t.transitionName,Ie=Se===void 0?"zoom":Se,we=t.maskTransitionName,Be=we===void 0?"fade":we,Re=t.imageRender,je=t.imgCommonProps,Ne=t.toolbarRender,nt=t.onTransform,at=t.onChange,Ct=(0,de.Z)(t,KP),St=(0,s.useRef)(),_t=(0,s.useContext)(E_),ft=_t&&ie>1,vt=_t&&ie>=1,$t=(0,s.useState)(!0),It=(0,Oe.Z)($t,2),Ft=It[0],wt=It[1],pn=jP(St,me,ye,nt),Bn=pn.transform,ln=pn.resetTransform,Tn=pn.updateTransform,Kt=pn.dispatchZoomChange,zt=VP(St,I,z,se,Bn,Tn,Kt),Dn=zt.isMoving,Sn=zt.onMouseDown,Ir=zt.onWheel,ur=WP(St,I,z,me,Bn,Tn,Kt),Yn=ur.isTouching,qn=ur.onTouchStart,Rn=ur.onTouchMove,Jn=ur.onTouchEnd,zr=Bn.rotate,li=Bn.scale,xi=Y()((0,he.Z)({},"".concat(a,"-moving"),Dn));(0,s.useEffect)(function(){Ft||wt(!0)},[Ft]);var Di=function(){ln("close")},So=function(){Kt(fv+se,"zoomIn")},_i=function(){Kt(fv/(fv+se),"zoomOut")},ai=function(){Tn({rotate:zr+90},"rotateRight")},gi=function(){Tn({rotate:zr-90},"rotateLeft")},Gi=function(){Tn({flipX:!Bn.flipX},"flipX")},Pi=function(){Tn({flipY:!Bn.flipY},"flipY")},wo=function(){ln("reset")},dr=function(ro){var Xo=K+ro;!Number.isInteger(Xo)||Xo<0||Xo>ie-1||(wt(!1),ln(ro<0?"prev":"next"),at==null||at(Xo,K))},tr=function(ro){!z||!ft||(ro.keyCode===et.Z.LEFT?dr(-1):ro.keyCode===et.Z.RIGHT&&dr(1))},pr=function(ro){z&&(li!==1?Tn({x:0,y:0,scale:1},"doubleClick"):Kt(fv+se,"doubleClick",ro.clientX,ro.clientY))};(0,s.useEffect)(function(){var Oi=Jm(window,"keydown",tr,!1);return function(){Oi.remove()}},[z,ft,K]);var Vn=s.createElement(XP,(0,Ze.Z)({},je,{width:t.width,height:t.height,imgRef:St,className:"".concat(a,"-img"),alt:f,style:{transform:"translate3d(".concat(Bn.x,"px, ").concat(Bn.y,"px, 0) scale3d(").concat(Bn.flipX?"-":"").concat(li,", ").concat(Bn.flipY?"-":"").concat(li,", 1) rotate(").concat(zr,"deg)"),transitionDuration:(!Ft||Yn)&&"0s"},fallback:C,src:o,onWheel:Ir,onMouseDown:Sn,onDoubleClick:pr,onTouchStart:qn,onTouchMove:Rn,onTouchEnd:Jn,onTouchCancel:Jn})),ri=(0,X.Z)({url:o,alt:f},y);return s.createElement(s.Fragment,null,s.createElement(yc,(0,Ze.Z)({transitionName:Ie,maskTransitionName:Be,closable:!1,keyboard:!0,prefixCls:a,onClose:D,visible:z,classNames:{wrapper:xi},rootClassName:Z,getContainer:G},Ct,{afterClose:Di}),s.createElement("div",{className:"".concat(a,"-img-wrapper")},Re?Re(Vn,(0,X.Z)({transform:Bn,image:ri},_t?{current:K}:{})):Vn)),s.createElement(kP,{visible:z,transform:Bn,maskTransitionName:Be,closeIcon:j,getContainer:G,prefixCls:a,rootClassName:Z,icons:k,countRender:oe,showSwitch:ft,showProgress:vt,current:K,count:ie,scale:li,minScale:me,maxScale:ye,toolbarRender:Ne,onActive:dr,onZoomIn:So,onZoomOut:_i,onRotateRight:ai,onRotateLeft:gi,onFlipX:Gi,onFlipY:Pi,onClose:D,onReset:wo,zIndex:Ct.zIndex!==void 0?Ct.zIndex+1:void 0,image:ri}))},Q2=YP,FS=["crossOrigin","decoding","draggable","loading","referrerPolicy","sizes","srcSet","useMap","alt"];function qP(e){var t=s.useState({}),a=(0,Oe.Z)(t,2),o=a[0],f=a[1],y=s.useCallback(function(w,I){return f(function(D){return(0,X.Z)((0,X.Z)({},D),{},(0,he.Z)({},w,I))}),function(){f(function(D){var z=(0,X.Z)({},D);return delete z[w],z})}},[]),C=s.useMemo(function(){return e?e.map(function(w){if(typeof w=="string")return{data:{src:w}};var I={};return Object.keys(w).forEach(function(D){["src"].concat((0,xe.Z)(FS)).includes(D)&&(I[D]=w[D])}),{data:I}}):Object.keys(o).reduce(function(w,I){var D=o[I],z=D.canPreview,L=D.data;return z&&w.push({data:L,id:I}),w},[])},[e,o]);return[C,y,!!e]}var JP=["visible","onVisibleChange","getContainer","current","movable","minScale","maxScale","countRender","closeIcon","onChange","onTransform","toolbarRender","imageRender"],QP=["src"],eO=function(t){var a,o=t.previewPrefixCls,f=o===void 0?"rc-image-preview":o,y=t.children,C=t.icons,w=C===void 0?{}:C,I=t.items,D=t.preview,z=t.fallback,L=(0,Ye.Z)(D)==="object"?D:{},k=L.visible,Z=L.onVisibleChange,j=L.getContainer,G=L.current,H=L.movable,K=L.minScale,ee=L.maxScale,ie=L.countRender,oe=L.closeIcon,re=L.onChange,se=L.onTransform,ue=L.toolbarRender,me=L.imageRender,pe=(0,de.Z)(L,JP),ye=qP(I),Se=(0,Oe.Z)(ye,3),Ie=Se[0],we=Se[1],Be=Se[2],Re=(0,Fs.Z)(0,{value:G}),je=(0,Oe.Z)(Re,2),Ne=je[0],nt=je[1],at=(0,s.useState)(!1),Ct=(0,Oe.Z)(at,2),St=Ct[0],_t=Ct[1],ft=((a=Ie[Ne])===null||a===void 0?void 0:a.data)||{},vt=ft.src,$t=(0,de.Z)(ft,QP),It=(0,Fs.Z)(!!k,{value:k,onChange:function(Yn,qn){Z==null||Z(Yn,qn,Ne)}}),Ft=(0,Oe.Z)(It,2),wt=Ft[0],pn=Ft[1],Bn=(0,s.useState)(null),ln=(0,Oe.Z)(Bn,2),Tn=ln[0],Kt=ln[1],zt=s.useCallback(function(ur,Yn,qn,Rn){var Jn=Be?Ie.findIndex(function(zr){return zr.data.src===Yn}):Ie.findIndex(function(zr){return zr.id===ur});nt(Jn<0?0:Jn),pn(!0),Kt({x:qn,y:Rn}),_t(!0)},[Ie,Be]);s.useEffect(function(){wt?St||nt(0):_t(!1)},[wt]);var Dn=function(Yn,qn){nt(Yn),re==null||re(Yn,qn)},Sn=function(){pn(!1),Kt(null)},Ir=s.useMemo(function(){return{register:we,onPreview:zt}},[we,zt]);return s.createElement(E_.Provider,{value:Ir},y,s.createElement(Q2,(0,Ze.Z)({"aria-hidden":!wt,movable:H,visible:wt,prefixCls:f,closeIcon:oe,onClose:Sn,mousePosition:Tn,imgCommonProps:$t,src:vt,fallback:z,icons:w,minScale:K,maxScale:ee,getContainer:j,current:Ne,count:Ie.length,countRender:ie,onTransform:se,toolbarRender:ue,imageRender:me,onChange:Dn},pe)))},tO=eO,eE=0;function nO(e,t){var a=s.useState(function(){return eE+=1,String(eE)}),o=(0,Oe.Z)(a,1),f=o[0],y=s.useContext(E_),C={data:t,canPreview:e};return s.useEffect(function(){if(y)return y.register(f,C)},[]),s.useEffect(function(){y&&y.register(f,C)},[e,t]),f}var rO=["src","alt","onPreviewClose","prefixCls","previewPrefixCls","placeholder","fallback","width","height","style","preview","className","onClick","onError","wrapperClassName","wrapperStyle","rootClassName"],iO=["src","visible","onVisibleChange","getContainer","mask","maskClassName","movable","icons","scaleStep","minScale","maxScale","imageRender","toolbarRender"],tE=function(t){var a=t.src,o=t.alt,f=t.onPreviewClose,y=t.prefixCls,C=y===void 0?"rc-image":y,w=t.previewPrefixCls,I=w===void 0?"".concat(C,"-preview"):w,D=t.placeholder,z=t.fallback,L=t.width,k=t.height,Z=t.style,j=t.preview,G=j===void 0?!0:j,H=t.className,K=t.onClick,ee=t.onError,ie=t.wrapperClassName,oe=t.wrapperStyle,re=t.rootClassName,se=(0,de.Z)(t,rO),ue=D&&D!==!0,me=(0,Ye.Z)(G)==="object"?G:{},pe=me.src,ye=me.visible,Se=ye===void 0?void 0:ye,Ie=me.onVisibleChange,we=Ie===void 0?f:Ie,Be=me.getContainer,Re=Be===void 0?void 0:Be,je=me.mask,Ne=me.maskClassName,nt=me.movable,at=me.icons,Ct=me.scaleStep,St=me.minScale,_t=me.maxScale,ft=me.imageRender,vt=me.toolbarRender,$t=(0,de.Z)(me,iO),It=pe!=null?pe:a,Ft=(0,Fs.Z)(!!Se,{value:Se,onChange:we}),wt=(0,Oe.Z)(Ft,2),pn=wt[0],Bn=wt[1],ln=J2({src:a,isCustomPlaceholder:ue,fallback:z}),Tn=(0,Oe.Z)(ln,3),Kt=Tn[0],zt=Tn[1],Dn=Tn[2],Sn=(0,s.useState)(null),Ir=(0,Oe.Z)(Sn,2),ur=Ir[0],Yn=Ir[1],qn=(0,s.useContext)(E_),Rn=!!G,Jn=function(){Bn(!1),Yn(null)},zr=Y()(C,ie,re,(0,he.Z)({},"".concat(C,"-error"),Dn==="error")),li=(0,s.useMemo)(function(){var _i={};return FS.forEach(function(ai){t[ai]!==void 0&&(_i[ai]=t[ai])}),_i},FS.map(function(_i){return t[_i]})),xi=(0,s.useMemo)(function(){return(0,X.Z)((0,X.Z)({},li),{},{src:It})},[It,li]),Di=nO(Rn,xi),So=function(ai){var gi=BP(ai.target),Gi=gi.left,Pi=gi.top;qn?qn.onPreview(Di,It,Gi,Pi):(Yn({x:Gi,y:Pi}),Bn(!0)),K==null||K(ai)};return s.createElement(s.Fragment,null,s.createElement("div",(0,Ze.Z)({},se,{className:zr,onClick:Rn?So:K,style:(0,X.Z)({width:L,height:k},oe)}),s.createElement("img",(0,Ze.Z)({},li,{className:Y()("".concat(C,"-img"),(0,he.Z)({},"".concat(C,"-img-placeholder"),D===!0),H),style:(0,X.Z)({height:k},Z),ref:Kt},zt,{width:L,height:k,onError:ee})),Dn==="loading"&&s.createElement("div",{"aria-hidden":"true",className:"".concat(C,"-placeholder")},D),je&&Rn&&s.createElement("div",{className:Y()("".concat(C,"-mask"),Ne),style:{display:(Z==null?void 0:Z.display)==="none"?"none":void 0}},je)),!qn&&Rn&&s.createElement(Q2,(0,Ze.Z)({"aria-hidden":!pn,visible:pn,prefixCls:I,onClose:Jn,mousePosition:ur,src:It,alt:o,imageInfo:{width:L,height:k},fallback:z,getContainer:Re,icons:at,movable:nt,scaleStep:Ct,minScale:St,maxScale:_t,rootClassName:re,imageRender:ft,imgCommonProps:li,toolbarRender:vt},$t)))};tE.PreviewGroup=tO;var oO=tE,nE=oO,aO={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"},sO=aO,lO=function(t,a){return s.createElement(Xt.Z,(0,Ze.Z)({},t,{ref:a,icon:sO}))},cO=s.forwardRef(lO),uO=cO,dO={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"},fO=dO,hO=function(t,a){return s.createElement(Xt.Z,(0,Ze.Z)({},t,{ref:a,icon:fO}))},mO=s.forwardRef(hO),pO=mO,gO={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"swap",theme:"outlined"},vO=gO,yO=function(t,a){return s.createElement(Xt.Z,(0,Ze.Z)({},t,{ref:a,icon:vO}))},_O=s.forwardRef(yO),rE=_O,bO={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"},xO=bO,CO=function(t,a){return s.createElement(Xt.Z,(0,Ze.Z)({},t,{ref:a,icon:xO}))},SO=s.forwardRef(CO),wO=SO,EO={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"},IO=EO,MO=function(t,a){return s.createElement(Xt.Z,(0,Ze.Z)({},t,{ref:a,icon:IO}))},TO=s.forwardRef(MO),PO=TO;const kS=e=>({position:e||"absolute",inset:0}),OO=e=>{const{iconCls:t,motionDurationSlow:a,paddingXXS:o,marginXXS:f,prefixCls:y,colorTextLightSolid:C}=e;return{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:C,background:new Sl.t("#000").setA(.5).toRgbString(),cursor:"pointer",opacity:0,transition:`opacity ${a}`,[`.${y}-mask-info`]:Object.assign(Object.assign({},Wt.vS),{padding:`0 ${(0,fe.bf)(o)}`,[t]:{marginInlineEnd:f,svg:{verticalAlign:"baseline"}}})}},RO=e=>{const{previewCls:t,modalMaskBg:a,paddingSM:o,marginXL:f,margin:y,paddingLG:C,previewOperationColorDisabled:w,previewOperationHoverColor:I,motionDurationSlow:D,iconCls:z,colorTextLightSolid:L}=e,k=new Sl.t(a).setA(.1),Z=k.clone().setA(.2);return{[`${t}-footer`]:{position:"fixed",bottom:f,left:{_skip_check_:!0,value:"50%"},display:"flex",flexDirection:"column",alignItems:"center",color:e.previewOperationColor,transform:"translateX(-50%)"},[`${t}-progress`]:{marginBottom:y},[`${t}-close`]:{position:"fixed",top:f,right:{_skip_check_:!0,value:f},display:"flex",color:L,backgroundColor:k.toRgbString(),borderRadius:"50%",padding:o,outline:0,border:0,cursor:"pointer",transition:`all ${D}`,"&:hover":{backgroundColor:Z.toRgbString()},[`& > ${z}`]:{fontSize:e.previewOperationSize}},[`${t}-operations`]:{display:"flex",alignItems:"center",padding:`0 ${(0,fe.bf)(C)}`,backgroundColor:k.toRgbString(),borderRadius:100,"&-operation":{marginInlineStart:o,padding:o,cursor:"pointer",transition:`all ${D}`,userSelect:"none",[`&:not(${t}-operations-operation-disabled):hover > ${z}`]:{color:I},"&-disabled":{color:w,cursor:"not-allowed"},"&:first-of-type":{marginInlineStart:0},[`& > ${z}`]:{fontSize:e.previewOperationSize}}}}},$O=e=>{const{modalMaskBg:t,iconCls:a,previewOperationColorDisabled:o,previewCls:f,zIndexPopup:y,motionDurationSlow:C}=e,w=new Sl.t(t).setA(.1),I=w.clone().setA(.2);return{[`${f}-switch-left, ${f}-switch-right`]:{position:"fixed",insetBlockStart:"50%",zIndex:e.calc(y).add(1).equal(),display:"flex",alignItems:"center",justifyContent:"center",width:e.imagePreviewSwitchSize,height:e.imagePreviewSwitchSize,marginTop:e.calc(e.imagePreviewSwitchSize).mul(-1).div(2).equal(),color:e.previewOperationColor,background:w.toRgbString(),borderRadius:"50%",transform:"translateY(-50%)",cursor:"pointer",transition:`all ${C}`,userSelect:"none","&:hover":{background:I.toRgbString()},"&-disabled":{"&, &:hover":{color:o,background:"transparent",cursor:"not-allowed",[`> ${a}`]:{cursor:"not-allowed"}}},[`> ${a}`]:{fontSize:e.previewOperationSize}},[`${f}-switch-left`]:{insetInlineStart:e.marginSM},[`${f}-switch-right`]:{insetInlineEnd:e.marginSM}}},AO=e=>{const{motionEaseOut:t,previewCls:a,motionDurationSlow:o,componentCls:f}=e;return[{[`${f}-preview-root`]:{[a]:{height:"100%",textAlign:"center",pointerEvents:"none"},[`${a}-body`]:Object.assign(Object.assign({},kS()),{overflow:"hidden"}),[`${a}-img`]:{maxWidth:"100%",maxHeight:"70%",verticalAlign:"middle",transform:"scale3d(1, 1, 1)",cursor:"grab",transition:`transform ${o} ${t} 0s`,userSelect:"none","&-wrapper":Object.assign(Object.assign({},kS()),{transition:`transform ${o} ${t} 0s`,display:"flex",justifyContent:"center",alignItems:"center","& > *":{pointerEvents:"auto"},"&::before":{display:"inline-block",width:1,height:"50%",marginInlineEnd:-1,content:'""'}})},[`${a}-moving`]:{[`${a}-preview-img`]:{cursor:"grabbing","&-wrapper":{transitionDuration:"0s"}}}}},{[`${f}-preview-root`]:{[`${a}-wrap`]:{zIndex:e.zIndexPopup}}},{[`${f}-preview-operations-wrapper`]:{position:"fixed",zIndex:e.calc(e.zIndexPopup).add(1).equal()},"&":[RO(e),$O(e)]}]},DO=e=>{const{componentCls:t}=e;return{[t]:{position:"relative",display:"inline-block",[`${t}-img`]:{width:"100%",height:"auto",verticalAlign:"middle"},[`${t}-img-placeholder`]:{backgroundColor:e.colorBgContainerDisabled,backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTQuNSAyLjVoLTEzQS41LjUgMCAwIDAgMSAzdjEwYS41LjUgMCAwIDAgLjUuNWgxM2EuNS41IDAgMCAwIC41LS41VjNhLjUuNSAwIDAgMC0uNS0uNXpNNS4yODEgNC43NWExIDEgMCAwIDEgMCAyIDEgMSAwIDAgMSAwLTJ6bTguMDMgNi44M2EuMTI3LjEyNyAwIDAgMS0uMDgxLjAzSDIuNzY5YS4xMjUuMTI1IDAgMCAxLS4wOTYtLjIwN2wyLjY2MS0zLjE1NmEuMTI2LjEyNiAwIDAgMSAuMTc3LS4wMTZsLjAxNi4wMTZMNy4wOCAxMC4wOWwyLjQ3LTIuOTNhLjEyNi4xMjYgMCAwIDEgLjE3Ny0uMDE2bC4wMTUuMDE2IDMuNTg4IDQuMjQ0YS4xMjcuMTI3IDAgMCAxLS4wMi4xNzV6IiBmaWxsPSIjOEM4QzhDIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=')",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"30%"},[`${t}-mask`]:Object.assign({},OO(e)),[`${t}-mask:hover`]:{opacity:1},[`${t}-placeholder`]:Object.assign({},kS())}}},zO=e=>{const{previewCls:t}=e;return{[`${t}-root`]:(0,ou._y)(e,"zoom"),"&":iu(e,!0)}},LO=e=>({zIndexPopup:e.zIndexPopupBase+80,previewOperationColor:new Sl.t(e.colorTextLightSolid).setA(.65).toRgbString(),previewOperationHoverColor:new Sl.t(e.colorTextLightSolid).setA(.85).toRgbString(),previewOperationColorDisabled:new Sl.t(e.colorTextLightSolid).setA(.25).toRgbString(),previewOperationSize:e.fontSizeIcon*1.5});var iE=(0,te.I$)("Image",e=>{const t=`${e.componentCls}-preview`,a=(0,Ur.IX)(e,{previewCls:t,modalMaskBg:new Sl.t("#000").setA(.45).toRgbString(),imagePreviewSwitchSize:e.controlHeightLG});return[DO(a),AO(a),dd((0,Ur.IX)(a,{componentCls:t})),zO(a)]},LO),NO=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const oE={rotateLeft:s.createElement(uO,null),rotateRight:s.createElement(pO,null),zoomIn:s.createElement(wO,null),zoomOut:s.createElement(PO,null),close:s.createElement(er.Z,null),left:s.createElement(Qc,null),right:s.createElement(yu.Z,null),flipX:s.createElement(rE,null),flipY:s.createElement(rE,{rotate:90})};var BO=e=>{var{previewPrefixCls:t,preview:a}=e,o=NO(e,["previewPrefixCls","preview"]);const{getPrefixCls:f}=s.useContext(ve.E_),y=f("image",t),C=`${y}-preview`,w=f(),I=(0,Fn.Z)(y),[D,z,L]=iE(y,I),[k]=(0,Ut.Cn)("ImagePreview",typeof a=="object"?a.zIndex:void 0),Z=s.useMemo(()=>{var j;if(a===!1)return a;const G=typeof a=="object"?a:{},H=Y()(z,L,I,(j=G.rootClassName)!==null&&j!==void 0?j:"");return Object.assign(Object.assign({},G),{transitionName:(0,Rr.m)(w,"zoom",G.transitionName),maskTransitionName:(0,Rr.m)(w,"fade",G.maskTransitionName),rootClassName:H,zIndex:k})},[a]);return D(s.createElement(nE.PreviewGroup,Object.assign({preview:Z,previewPrefixCls:C,icons:oE},o)))},aE=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const sE=e=>{const{prefixCls:t,preview:a,className:o,rootClassName:f,style:y}=e,C=aE(e,["prefixCls","preview","className","rootClassName","style"]),{getPrefixCls:w,getPopupContainer:I,className:D,style:z,preview:L}=(0,ve.dj)("image"),[k]=(0,Ao.Z)("Image"),Z=w("image",t),j=w(),G=(0,Fn.Z)(Z),[H,K,ee]=iE(Z,G),ie=Y()(f,K,ee,G),oe=Y()(o,K,D),[re]=(0,Ut.Cn)("ImagePreview",typeof a=="object"?a.zIndex:void 0),se=s.useMemo(()=>{if(a===!1)return a;const me=typeof a=="object"?a:{},{getContainer:pe,closeIcon:ye,rootClassName:Se}=me,Ie=aE(me,["getContainer","closeIcon","rootClassName"]);return Object.assign(Object.assign({mask:s.createElement("div",{className:`${Z}-mask-info`},s.createElement(NS,null),k==null?void 0:k.preview),icons:oE},Ie),{rootClassName:Y()(ie,Se),getContainer:pe!=null?pe:I,transitionName:(0,Rr.m)(j,"zoom",me.transitionName),maskTransitionName:(0,Rr.m)(j,"fade",me.maskTransitionName),zIndex:re,closeIcon:ye!=null?ye:L==null?void 0:L.closeIcon})},[a,k,L==null?void 0:L.closeIcon]),ue=Object.assign(Object.assign({},z),y);return H(s.createElement(nE,Object.assign({prefixCls:Z,preview:se,rootClassName:ie,className:oe,style:ue},C)))};sE.PreviewGroup=BO;var FO=sE,kO=e=>{const{getPrefixCls:t,direction:a}=(0,s.useContext)(ve.E_),{prefixCls:o,className:f}=e,y=t("input-group",o),C=t("input"),[w,I,D]=(0,sl.ZP)(C),z=Y()(y,D,{[`${y}-lg`]:e.size==="large",[`${y}-sm`]:e.size==="small",[`${y}-compact`]:e.compact,[`${y}-rtl`]:a==="rtl"},I,f),L=(0,s.useContext)($c.aM),k=(0,s.useMemo)(()=>Object.assign(Object.assign({},L),{isFormItemInput:!1}),[L]);return w(s.createElement("span",{className:z,style:e.style,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},s.createElement($c.aM.Provider,{value:k},e.children)))},hv=F(58793);const jO=e=>{const{componentCls:t,paddingXS:a}=e;return{[t]:{display:"inline-flex",alignItems:"center",flexWrap:"nowrap",columnGap:a,"&-rtl":{direction:"rtl"},[`${t}-input`]:{textAlign:"center",paddingInline:e.paddingXXS},[`&${t}-sm ${t}-input`]:{paddingInline:e.calc(e.paddingXXS).div(2).equal()},[`&${t}-lg ${t}-input`]:{paddingInline:e.paddingXS}}}};var ZO=(0,te.I$)(["Input","OTP"],e=>{const t=(0,Ur.IX)(e,(0,Cu.e)(e));return[jO(t)]},Cu.T),VO=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},HO=s.forwardRef((e,t)=>{const{value:a,onChange:o,onActiveChange:f,index:y,mask:C}=e,w=VO(e,["value","onChange","onActiveChange","index","mask"]),I=a&&typeof C=="string"?C:a,D=j=>{o(y,j.target.value)},z=s.useRef(null);s.useImperativeHandle(t,()=>z.current);const L=()=>{(0,We.Z)(()=>{var j;const G=(j=z.current)===null||j===void 0?void 0:j.input;document.activeElement===G&&G&&G.select()})},k=j=>{const{key:G,ctrlKey:H,metaKey:K}=j;G==="ArrowLeft"?f(y-1):G==="ArrowRight"?f(y+1):G==="z"&&(H||K)&&j.preventDefault(),L()},Z=j=>{j.key==="Backspace"&&!a&&f(y-1),L()};return s.createElement(hv.Z,Object.assign({type:C===!0?"password":"text"},w,{ref:z,value:I,onInput:D,onFocus:L,onKeyDown:k,onKeyUp:Z,onMouseDown:L,onMouseUp:L}))}),UO=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};function Tx(e){return(e||"").split("")}const WO=e=>{const{index:t,prefixCls:a,separator:o}=e,f=typeof o=="function"?o(t):o;return f?s.createElement("span",{className:`${a}-separator`},f):null};var GO=s.forwardRef((e,t)=>{const{prefixCls:a,length:o=6,size:f,defaultValue:y,value:C,onChange:w,formatter:I,separator:D,variant:z,disabled:L,status:k,autoFocus:Z,mask:j,type:G,onInput:H,inputMode:K}=e,ee=UO(e,["prefixCls","length","size","defaultValue","value","onChange","formatter","separator","variant","disabled","status","autoFocus","mask","type","onInput","inputMode"]),{getPrefixCls:ie,direction:oe}=s.useContext(ve.E_),re=ie("otp",a),se=(0,lt.Z)(ee,{aria:!0,data:!0,attr:!0}),[ue,me,pe]=ZO(re),ye=(0,Br.Z)(vt=>f!=null?f:vt),Se=s.useContext($c.aM),Ie=(0,Fc.F)(Se.status,k),we=s.useMemo(()=>Object.assign(Object.assign({},Se),{status:Ie,hasFeedback:!1,feedbackIcon:null}),[Se,Ie]),Be=s.useRef(null),Re=s.useRef({});s.useImperativeHandle(t,()=>({focus:()=>{var vt;(vt=Re.current[0])===null||vt===void 0||vt.focus()},blur:()=>{var vt;for(let $t=0;$t<o;$t+=1)(vt=Re.current[$t])===null||vt===void 0||vt.blur()},nativeElement:Be.current}));const je=vt=>I?I(vt):vt,[Ne,nt]=s.useState(()=>Tx(je(y||"")));s.useEffect(()=>{C!==void 0&&nt(Tx(C))},[C]);const at=(0,fr.Z)(vt=>{nt(vt),H&&H(vt),w&&vt.length===o&&vt.every($t=>$t)&&vt.some(($t,It)=>Ne[It]!==$t)&&w(vt.join(""))}),Ct=(0,fr.Z)((vt,$t)=>{let It=(0,xe.Z)(Ne);for(let wt=0;wt<vt;wt+=1)It[wt]||(It[wt]="");$t.length<=1?It[vt]=$t:It=It.slice(0,vt).concat(Tx($t)),It=It.slice(0,o);for(let wt=It.length-1;wt>=0&&!It[wt];wt-=1)It.pop();const Ft=je(It.map(wt=>wt||" ").join(""));return It=Tx(Ft).map((wt,pn)=>wt===" "&&!It[pn]?It[pn]:wt),It}),St=(vt,$t)=>{var It;const Ft=Ct(vt,$t),wt=Math.min(vt+$t.length,o-1);wt!==vt&&Ft[vt]!==void 0&&((It=Re.current[wt])===null||It===void 0||It.focus()),at(Ft)},_t=vt=>{var $t;($t=Re.current[vt])===null||$t===void 0||$t.focus()},ft={variant:z,disabled:L,status:Ie,mask:j,type:G,inputMode:K};return ue(s.createElement("div",Object.assign({},se,{ref:Be,className:Y()(re,{[`${re}-sm`]:ye==="small",[`${re}-lg`]:ye==="large",[`${re}-rtl`]:oe==="rtl"},pe,me)}),s.createElement($c.aM.Provider,{value:we},Array.from({length:o}).map((vt,$t)=>{const It=`otp-${$t}`,Ft=Ne[$t]||"";return s.createElement(s.Fragment,{key:It},s.createElement(HO,Object.assign({ref:wt=>{Re.current[$t]=wt},index:$t,size:ye,htmlSize:1,className:`${re}-input`,onChange:St,value:Ft,onActiveChange:_t,autoFocus:$t===0&&Z},ft)),$t<o-1&&s.createElement(WO,{separator:D,index:$t,prefixCls:re}))}))))}),KO={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},XO=KO,YO=function(t,a){return s.createElement(Xt.Z,(0,Ze.Z)({},t,{ref:a,icon:XO}))},qO=s.forwardRef(YO),JO=qO,QO=F(81391),e3=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const t3=e=>e?s.createElement(NS,null):s.createElement(JO,null),n3={click:"onClick",hover:"onMouseOver"};var r3=s.forwardRef((e,t)=>{const{disabled:a,action:o="click",visibilityToggle:f=!0,iconRender:y=t3}=e,C=s.useContext(Ta.Z),w=a!=null?a:C,I=typeof f=="object"&&f.visible!==void 0,[D,z]=(0,s.useState)(()=>I?f.visible:!1),L=(0,s.useRef)(null);s.useEffect(()=>{I&&z(f.visible)},[I,f]);const k=(0,QO.Z)(L),Z=()=>{var ye;if(w)return;D&&k();const Se=!D;z(Se),typeof f=="object"&&((ye=f.onVisibleChange)===null||ye===void 0||ye.call(f,Se))},j=ye=>{const Se=n3[o]||"",Ie=y(D),we={[Se]:Z,className:`${ye}-icon`,key:"passwordIcon",onMouseDown:Be=>{Be.preventDefault()},onMouseUp:Be=>{Be.preventDefault()}};return s.cloneElement(s.isValidElement(Ie)?Ie:s.createElement("span",null,Ie),we)},{className:G,prefixCls:H,inputPrefixCls:K,size:ee}=e,ie=e3(e,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:oe}=s.useContext(ve.E_),re=oe("input",K),se=oe("input-password",H),ue=f&&j(se),me=Y()(se,G,{[`${se}-${ee}`]:!!ee}),pe=Object.assign(Object.assign({},(0,ci.Z)(ie,["suffix","iconRender","visibilityToggle"])),{type:D?"text":"password",className:me,prefixCls:re,suffix:ue});return ee&&(pe.size=ee),s.createElement(hv.Z,Object.assign({ref:(0,Gt.sQ)(t,L)},pe))}),jS=F(17023),i3=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},o3=s.forwardRef((e,t)=>{const{prefixCls:a,inputPrefixCls:o,className:f,size:y,suffix:C,enterButton:w=!1,addonAfter:I,loading:D,disabled:z,onSearch:L,onChange:k,onCompositionStart:Z,onCompositionEnd:j}=e,G=i3(e,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),{getPrefixCls:H,direction:K}=s.useContext(ve.E_),ee=s.useRef(!1),ie=H("input-search",a),oe=H("input",o),{compactSize:re}=(0,oo.ri)(ie,K),se=(0,Br.Z)(St=>{var _t;return(_t=y!=null?y:re)!==null&&_t!==void 0?_t:St}),ue=s.useRef(null),me=St=>{St!=null&&St.target&&St.type==="click"&&L&&L(St.target.value,St,{source:"clear"}),k==null||k(St)},pe=St=>{var _t;document.activeElement===((_t=ue.current)===null||_t===void 0?void 0:_t.input)&&St.preventDefault()},ye=St=>{var _t,ft;L&&L((ft=(_t=ue.current)===null||_t===void 0?void 0:_t.input)===null||ft===void 0?void 0:ft.value,St,{source:"input"})},Se=St=>{ee.current||D||ye(St)},Ie=typeof w=="boolean"?s.createElement(jS.Z,null):null,we=`${ie}-button`;let Be;const Re=w||{},je=Re.type&&Re.type.__ANT_BUTTON===!0;je||Re.type==="button"?Be=(0,bn.Tm)(Re,Object.assign({onMouseDown:pe,onClick:St=>{var _t,ft;(ft=(_t=Re==null?void 0:Re.props)===null||_t===void 0?void 0:_t.onClick)===null||ft===void 0||ft.call(_t,St),ye(St)},key:"enterButton"},je?{className:we,size:se}:{})):Be=s.createElement(wn,{className:we,type:w?"primary":void 0,size:se,disabled:z,key:"enterButton",onMouseDown:pe,onClick:ye,loading:D,icon:Ie},w),I&&(Be=[Be,(0,bn.Tm)(I,{key:"addonAfter"})]);const Ne=Y()(ie,{[`${ie}-rtl`]:K==="rtl",[`${ie}-${se}`]:!!se,[`${ie}-with-button`]:!!w},f),nt=Object.assign(Object.assign({},G),{className:Ne,prefixCls:oe,type:"search"}),at=St=>{ee.current=!0,Z==null||Z(St)},Ct=St=>{ee.current=!1,j==null||j(St)};return s.createElement(hv.Z,Object.assign({ref:(0,Gt.sQ)(ue,t),onPressEnter:Se},nt,{size:se,onCompositionStart:at,onCompositionEnd:Ct,addonAfter:Be,suffix:C,onChange:me,disabled:z}))}),lE=F(44885),a3=F(88555),ZS=F(68677),s3=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
  pointer-events: none !important;
`,l3=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],VS={},od;function c3(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&VS[a])return VS[a];var o=window.getComputedStyle(e),f=o.getPropertyValue("box-sizing")||o.getPropertyValue("-moz-box-sizing")||o.getPropertyValue("-webkit-box-sizing"),y=parseFloat(o.getPropertyValue("padding-bottom"))+parseFloat(o.getPropertyValue("padding-top")),C=parseFloat(o.getPropertyValue("border-bottom-width"))+parseFloat(o.getPropertyValue("border-top-width")),w=l3.map(function(D){return"".concat(D,":").concat(o.getPropertyValue(D))}).join(";"),I={sizingStyle:w,paddingSize:y,borderSize:C,boxSizing:f};return t&&a&&(VS[a]=I),I}function u3(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;od||(od=document.createElement("textarea"),od.setAttribute("tab-index","-1"),od.setAttribute("aria-hidden","true"),od.setAttribute("name","hiddenTextarea"),document.body.appendChild(od)),e.getAttribute("wrap")?od.setAttribute("wrap",e.getAttribute("wrap")):od.removeAttribute("wrap");var f=c3(e,t),y=f.paddingSize,C=f.borderSize,w=f.boxSizing,I=f.sizingStyle;od.setAttribute("style","".concat(I,";").concat(s3)),od.value=e.value||e.placeholder||"";var D=void 0,z=void 0,L,k=od.scrollHeight;if(w==="border-box"?k+=C:w==="content-box"&&(k-=y),a!==null||o!==null){od.value=" ";var Z=od.scrollHeight-y;a!==null&&(D=Z*a,w==="border-box"&&(D=D+y+C),k=Math.max(D,k)),o!==null&&(z=Z*o,w==="border-box"&&(z=z+y+C),L=k>z?"":"hidden",k=Math.min(z,k))}var j={height:k,overflowY:L,resize:"none"};return D&&(j.minHeight=D),z&&(j.maxHeight=z),j}var d3=["prefixCls","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],HS=0,US=1,WS=2,f3=s.forwardRef(function(e,t){var a=e,o=a.prefixCls,f=a.defaultValue,y=a.value,C=a.autoSize,w=a.onResize,I=a.className,D=a.style,z=a.disabled,L=a.onChange,k=a.onInternalAutoSize,Z=(0,de.Z)(a,d3),j=(0,Fs.Z)(f,{value:y,postState:function($t){return $t!=null?$t:""}}),G=(0,Oe.Z)(j,2),H=G[0],K=G[1],ee=function($t){K($t.target.value),L==null||L($t)},ie=s.useRef();s.useImperativeHandle(t,function(){return{textArea:ie.current}});var oe=s.useMemo(function(){return C&&(0,Ye.Z)(C)==="object"?[C.minRows,C.maxRows]:[]},[C]),re=(0,Oe.Z)(oe,2),se=re[0],ue=re[1],me=!!C,pe=function(){try{if(document.activeElement===ie.current){var $t=ie.current,It=$t.selectionStart,Ft=$t.selectionEnd,wt=$t.scrollTop;ie.current.setSelectionRange(It,Ft),ie.current.scrollTop=wt}}catch(pn){}},ye=s.useState(WS),Se=(0,Oe.Z)(ye,2),Ie=Se[0],we=Se[1],Be=s.useState(),Re=(0,Oe.Z)(Be,2),je=Re[0],Ne=Re[1],nt=function(){we(HS)};(0,hl.Z)(function(){me&&nt()},[y,se,ue,me]),(0,hl.Z)(function(){if(Ie===HS)we(US);else if(Ie===US){var vt=u3(ie.current,!1,se,ue);we(WS),Ne(vt)}else pe()},[Ie]);var at=s.useRef(),Ct=function(){We.Z.cancel(at.current)},St=function($t){Ie===WS&&(w==null||w($t),C&&(Ct(),at.current=(0,We.Z)(function(){nt()})))};s.useEffect(function(){return Ct},[]);var _t=me?je:null,ft=(0,X.Z)((0,X.Z)({},D),_t);return(Ie===HS||Ie===US)&&(ft.overflowY="hidden",ft.overflowX="hidden"),s.createElement(c.Z,{onResize:St,disabled:!(C||w)},s.createElement("textarea",(0,Ze.Z)({},Z,{ref:ie,style:ft,className:Y()(o,I,(0,he.Z)({},"".concat(o,"-disabled"),z)),disabled:z,value:H,onChange:ee})))}),h3=f3,m3=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","showCount","count","className","style","disabled","hidden","classNames","styles","onResize","onClear","onPressEnter","readOnly","autoSize","onKeyDown"],p3=s.forwardRef(function(e,t){var a,o=e.defaultValue,f=e.value,y=e.onFocus,C=e.onBlur,w=e.onChange,I=e.allowClear,D=e.maxLength,z=e.onCompositionStart,L=e.onCompositionEnd,k=e.suffix,Z=e.prefixCls,j=Z===void 0?"rc-textarea":Z,G=e.showCount,H=e.count,K=e.className,ee=e.style,ie=e.disabled,oe=e.hidden,re=e.classNames,se=e.styles,ue=e.onResize,me=e.onClear,pe=e.onPressEnter,ye=e.readOnly,Se=e.autoSize,Ie=e.onKeyDown,we=(0,de.Z)(e,m3),Be=(0,Fs.Z)(o,{value:f,defaultValue:o}),Re=(0,Oe.Z)(Be,2),je=Re[0],Ne=Re[1],nt=je==null?"":String(je),at=s.useState(!1),Ct=(0,Oe.Z)(at,2),St=Ct[0],_t=Ct[1],ft=s.useRef(!1),vt=s.useState(null),$t=(0,Oe.Z)(vt,2),It=$t[0],Ft=$t[1],wt=(0,s.useRef)(null),pn=(0,s.useRef)(null),Bn=function(){var dr;return(dr=pn.current)===null||dr===void 0?void 0:dr.textArea},ln=function(){Bn().focus()};(0,s.useImperativeHandle)(t,function(){var wo;return{resizableTextArea:pn.current,focus:ln,blur:function(){Bn().blur()},nativeElement:((wo=wt.current)===null||wo===void 0?void 0:wo.nativeElement)||Bn()}}),(0,s.useEffect)(function(){_t(function(wo){return!ie&&wo})},[ie]);var Tn=s.useState(null),Kt=(0,Oe.Z)(Tn,2),zt=Kt[0],Dn=Kt[1];s.useEffect(function(){if(zt){var wo;(wo=Bn()).setSelectionRange.apply(wo,(0,xe.Z)(zt))}},[zt]);var Sn=(0,a3.Z)(H,G),Ir=(a=Sn.max)!==null&&a!==void 0?a:D,ur=Number(Ir)>0,Yn=Sn.strategy(nt),qn=!!Ir&&Yn>Ir,Rn=function(dr,tr){var pr=tr;!ft.current&&Sn.exceedFormatter&&Sn.max&&Sn.strategy(tr)>Sn.max&&(pr=Sn.exceedFormatter(tr,{max:Sn.max}),tr!==pr&&Dn([Bn().selectionStart||0,Bn().selectionEnd||0])),Ne(pr),(0,ZS.rJ)(dr.currentTarget,dr,w,pr)},Jn=function(dr){ft.current=!0,z==null||z(dr)},zr=function(dr){ft.current=!1,Rn(dr,dr.currentTarget.value),L==null||L(dr)},li=function(dr){Rn(dr,dr.target.value)},xi=function(dr){dr.key==="Enter"&&pe&&pe(dr),Ie==null||Ie(dr)},Di=function(dr){_t(!0),y==null||y(dr)},So=function(dr){_t(!1),C==null||C(dr)},_i=function(dr){Ne(""),ln(),(0,ZS.rJ)(Bn(),dr,w)},ai=k,gi;Sn.show&&(Sn.showFormatter?gi=Sn.showFormatter({value:nt,count:Yn,maxLength:Ir}):gi="".concat(Yn).concat(ur?" / ".concat(Ir):""),ai=s.createElement(s.Fragment,null,ai,s.createElement("span",{className:Y()("".concat(j,"-data-count"),re==null?void 0:re.count),style:se==null?void 0:se.count},gi)));var Gi=function(dr){var tr;ue==null||ue(dr),(tr=Bn())!==null&&tr!==void 0&&tr.style.height&&Ft(!0)},Pi=!Se&&!G&&!I;return s.createElement(lE.Q,{ref:wt,value:nt,allowClear:I,handleReset:_i,suffix:ai,prefixCls:j,classNames:(0,X.Z)((0,X.Z)({},re),{},{affixWrapper:Y()(re==null?void 0:re.affixWrapper,(0,he.Z)((0,he.Z)({},"".concat(j,"-show-count"),G),"".concat(j,"-textarea-allow-clear"),I))}),disabled:ie,focused:St,className:Y()(K,qn&&"".concat(j,"-out-of-range")),style:(0,X.Z)((0,X.Z)({},ee),It&&!Pi?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":typeof gi=="string"?gi:void 0}},hidden:oe,readOnly:ye,onClear:me},s.createElement(h3,(0,Ze.Z)({},we,{autoSize:Se,maxLength:D,onKeyDown:xi,onChange:li,onFocus:Di,onBlur:So,onCompositionStart:Jn,onCompositionEnd:zr,className:Y()(re==null?void 0:re.textarea),style:(0,X.Z)((0,X.Z)({},se==null?void 0:se.textarea),{},{resize:ee==null?void 0:ee.resize}),disabled:ie,prefixCls:j,onResize:Gi,ref:pn,readOnly:ye})))}),g3=p3,cE=g3,uE=F(93473);const v3=e=>{const{componentCls:t,paddingLG:a}=e,o=`${t}-textarea`;return{[o]:{position:"relative","&-show-count":{[`> ${t}`]:{height:"100%"},[`${t}-data-count`]:{position:"absolute",bottom:e.calc(e.fontSize).mul(e.lineHeight).mul(-1).equal(),insetInlineEnd:0,color:e.colorTextDescription,whiteSpace:"nowrap",pointerEvents:"none"}},[`
        &-allow-clear > ${t},
        &-affix-wrapper${o}-has-feedback ${t}
      `]:{paddingInlineEnd:a},[`&-affix-wrapper${t}-affix-wrapper`]:{padding:0,[`> textarea${t}`]:{fontSize:"inherit",border:"none",outline:"none",background:"transparent",minHeight:e.calc(e.controlHeight).sub(e.calc(e.lineWidth).mul(2)).equal(),"&:focus":{boxShadow:"none !important"}},[`${t}-suffix`]:{margin:0,"> *:not(:last-child)":{marginInline:0},[`${t}-clear-icon`]:{position:"absolute",insetInlineEnd:e.paddingInline,insetBlockStart:e.paddingXS},[`${o}-suffix`]:{position:"absolute",top:0,insetInlineEnd:e.paddingInline,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto",pointerEvents:"none"}}},[`&-affix-wrapper${t}-affix-wrapper-sm`]:{[`${t}-suffix`]:{[`${t}-clear-icon`]:{insetInlineEnd:e.paddingInlineSM}}}}}};var y3=(0,te.I$)(["Input","TextArea"],e=>{const t=(0,Ur.IX)(e,(0,Cu.e)(e));return[v3(t)]},Cu.T,{resetFont:!1}),_3=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},dE=(0,s.forwardRef)((e,t)=>{var a;const{prefixCls:o,bordered:f=!0,size:y,disabled:C,status:w,allowClear:I,classNames:D,rootClassName:z,className:L,style:k,styles:Z,variant:j}=e,G=_3(e,["prefixCls","bordered","size","disabled","status","allowClear","classNames","rootClassName","className","style","styles","variant"]),{getPrefixCls:H,direction:K,allowClear:ee,autoComplete:ie,className:oe,style:re,classNames:se,styles:ue}=(0,ve.dj)("textArea"),me=s.useContext(Ta.Z),pe=C!=null?C:me,{status:ye,hasFeedback:Se,feedbackIcon:Ie}=s.useContext($c.aM),we=(0,Fc.F)(ye,w),Be=s.useRef(null);s.useImperativeHandle(t,()=>{var Ft;return{resizableTextArea:(Ft=Be.current)===null||Ft===void 0?void 0:Ft.resizableTextArea,focus:wt=>{var pn,Bn;(0,ZS.nH)((Bn=(pn=Be.current)===null||pn===void 0?void 0:pn.resizableTextArea)===null||Bn===void 0?void 0:Bn.textArea,wt)},blur:()=>{var wt;return(wt=Be.current)===null||wt===void 0?void 0:wt.blur()}}});const Re=H("input",o),je=(0,Fn.Z)(Re),[Ne,nt,at]=(0,sl.TI)(Re,z),[Ct]=y3(Re,je),{compactSize:St,compactItemClassnames:_t}=(0,oo.ri)(Re,K),ft=(0,Br.Z)(Ft=>{var wt;return(wt=y!=null?y:St)!==null&&wt!==void 0?wt:Ft}),[vt,$t]=(0,jf.Z)("textArea",j,f),It=(0,uE.Z)(I!=null?I:ee);return Ne(Ct(s.createElement(cE,Object.assign({autoComplete:ie},G,{style:Object.assign(Object.assign({},re),k),styles:Object.assign(Object.assign({},ue),Z),disabled:pe,allowClear:It,className:Y()(at,je,L,z,_t,oe),classNames:Object.assign(Object.assign(Object.assign({},D),se),{textarea:Y()({[`${Re}-sm`]:ft==="small",[`${Re}-lg`]:ft==="large"},nt,D==null?void 0:D.textarea,se.textarea),variant:Y()({[`${Re}-${vt}`]:$t},(0,Fc.Z)(Re,we)),affixWrapper:Y()(`${Re}-textarea-affix-wrapper`,{[`${Re}-affix-wrapper-rtl`]:K==="rtl",[`${Re}-affix-wrapper-sm`]:ft==="small",[`${Re}-affix-wrapper-lg`]:ft==="large",[`${Re}-textarea-show-count`]:e.showCount||((a=e.count)===null||a===void 0?void 0:a.show)},nt)}),prefixCls:Re,suffix:Se&&s.createElement("span",{className:`${Re}-textarea-suffix`},Ie),ref:Be}))))});const mv=hv.Z;mv.Group=kO,mv.Search=o3,mv.TextArea=dE,mv.Password=r3,mv.OTP=GO;var b3=mv,x3=F(33839);function C3(e,t,a){return typeof a=="boolean"?a:e.length?!0:(0,Wl.Z)(t).some(f=>f.type===X_)}var fE=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};function Px(e){let{suffixCls:t,tagName:a,displayName:o}=e;return f=>s.forwardRef((C,w)=>s.createElement(f,Object.assign({ref:w,suffixCls:t,tagName:a},C)))}const GS=s.forwardRef((e,t)=>{const{prefixCls:a,suffixCls:o,className:f,tagName:y}=e,C=fE(e,["prefixCls","suffixCls","className","tagName"]),{getPrefixCls:w}=s.useContext(ve.E_),I=w("layout",a),[D,z,L]=kv(I),k=o?`${I}-${o}`:I;return D(s.createElement(y,Object.assign({className:Y()(a||k,f,z,L),ref:t},C)))}),S3=s.forwardRef((e,t)=>{const{direction:a}=s.useContext(ve.E_),[o,f]=s.useState([]),{prefixCls:y,className:C,rootClassName:w,children:I,hasSider:D,tagName:z,style:L}=e,k=fE(e,["prefixCls","className","rootClassName","children","hasSider","tagName","style"]),Z=(0,ci.Z)(k,["suffixCls"]),{getPrefixCls:j,className:G,style:H}=(0,ve.dj)("layout"),K=j("layout",y),ee=C3(o,I,D),[ie,oe,re]=kv(K),se=Y()(K,{[`${K}-has-sider`]:ee,[`${K}-rtl`]:a==="rtl"},G,C,w,oe,re),ue=s.useMemo(()=>({siderHook:{addSider:me=>{f(pe=>[].concat((0,xe.Z)(pe),[me]))},removeSider:me=>{f(pe=>pe.filter(ye=>ye!==me))}}}),[]);return ie(s.createElement(Nv.Provider,{value:ue},s.createElement(z,Object.assign({ref:t,className:se,style:Object.assign(Object.assign({},H),L)},Z),I)))}),w3=Px({tagName:"div",displayName:"Layout"})(S3),E3=Px({suffixCls:"header",tagName:"header",displayName:"Header"})(GS),I3=Px({suffixCls:"footer",tagName:"footer",displayName:"Footer"})(GS),M3=Px({suffixCls:"content",tagName:"main",displayName:"Content"})(GS);var T3=w3;const pv=T3;pv.Header=E3,pv.Footer=I3,pv.Content=M3,pv.Sider=X_,pv._InternalSiderContext=Lp;var P3=pv,KS=function(){const e=Object.assign({},arguments.length<=0?void 0:arguments[0]);for(let t=1;t<arguments.length;t++){const a=t<0||arguments.length<=t?void 0:arguments[t];a&&Object.keys(a).forEach(o=>{const f=a[o];f!==void 0&&(e[o]=f)})}return e},hE=F(78769),O3={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"},R3=O3,$3=function(t,a){return s.createElement(Xt.Z,(0,Ze.Z)({},t,{ref:a,icon:R3}))},A3=s.forwardRef($3),mE=A3,D3={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"},z3=D3,L3=function(t,a){return s.createElement(Xt.Z,(0,Ze.Z)({},t,{ref:a,icon:z3}))},N3=s.forwardRef(L3),pE=N3,B3={items_per_page:"\u6761/\u9875",jump_to:"\u8DF3\u81F3",jump_to_confirm:"\u786E\u5B9A",page:"\u9875",prev_page:"\u4E0A\u4E00\u9875",next_page:"\u4E0B\u4E00\u9875",prev_5:"\u5411\u524D 5 \u9875",next_5:"\u5411\u540E 5 \u9875",prev_3:"\u5411\u524D 3 \u9875",next_3:"\u5411\u540E 3 \u9875",page_size:"\u9875\u7801"},F3=B3,k3=[10,20,50,100],j3=function(t){var a=t.pageSizeOptions,o=a===void 0?k3:a,f=t.locale,y=t.changeSize,C=t.pageSize,w=t.goButton,I=t.quickGo,D=t.rootPrefixCls,z=t.disabled,L=t.buildOptionText,k=t.showSizeChanger,Z=t.sizeChangerRender,j=s.useState(""),G=(0,Oe.Z)(j,2),H=G[0],K=G[1],ee=function(){return!H||Number.isNaN(H)?void 0:Number(H)},ie=typeof L=="function"?L:function(Ie){return"".concat(Ie," ").concat(f.items_per_page)},oe=function(we){K(we.target.value)},re=function(we){w||H===""||(K(""),!(we.relatedTarget&&(we.relatedTarget.className.indexOf("".concat(D,"-item-link"))>=0||we.relatedTarget.className.indexOf("".concat(D,"-item"))>=0))&&(I==null||I(ee())))},se=function(we){H!==""&&(we.keyCode===et.Z.ENTER||we.type==="click")&&(K(""),I==null||I(ee()))},ue=function(){return o.some(function(we){return we.toString()===C.toString()})?o:o.concat([C]).sort(function(we,Be){var Re=Number.isNaN(Number(we))?0:Number(we),je=Number.isNaN(Number(Be))?0:Number(Be);return Re-je})},me="".concat(D,"-options");if(!k&&!I)return null;var pe=null,ye=null,Se=null;return k&&Z&&(pe=Z({disabled:z,size:C,onSizeChange:function(we){y==null||y(Number(we))},"aria-label":f.page_size,className:"".concat(me,"-size-changer"),options:ue().map(function(Ie){return{label:ie(Ie),value:Ie}})})),I&&(w&&(Se=typeof w=="boolean"?s.createElement("button",{type:"button",onClick:se,onKeyUp:se,disabled:z,className:"".concat(me,"-quick-jumper-button")},f.jump_to_confirm):s.createElement("span",{onClick:se,onKeyUp:se},w)),ye=s.createElement("div",{className:"".concat(me,"-quick-jumper")},f.jump_to,s.createElement("input",{disabled:z,type:"text",value:H,onChange:oe,onKeyUp:se,onBlur:re,"aria-label":f.page}),f.page,Se)),s.createElement("li",{className:me},pe,ye)},Z3=j3,V3=function(t){var a=t.rootPrefixCls,o=t.page,f=t.active,y=t.className,C=t.showTitle,w=t.onClick,I=t.onKeyPress,D=t.itemRender,z="".concat(a,"-item"),L=Y()(z,"".concat(z,"-").concat(o),(0,he.Z)((0,he.Z)({},"".concat(z,"-active"),f),"".concat(z,"-disabled"),!o),y),k=function(){w(o)},Z=function(H){I(H,w,o)},j=D(o,"page",s.createElement("a",{rel:"nofollow"},o));return j?s.createElement("li",{title:C?String(o):null,className:L,onClick:k,onKeyDown:Z,tabIndex:0},j):null},I_=V3,H3=function(t,a,o){return o};function XS(){}function gE(e){var t=Number(e);return typeof t=="number"&&!Number.isNaN(t)&&isFinite(t)&&Math.floor(t)===t}function Dg(e,t,a){var o=typeof e=="undefined"?t:e;return Math.floor((a-1)/o)+1}var U3=function(t){var a=t.prefixCls,o=a===void 0?"rc-pagination":a,f=t.selectPrefixCls,y=f===void 0?"rc-select":f,C=t.className,w=t.current,I=t.defaultCurrent,D=I===void 0?1:I,z=t.total,L=z===void 0?0:z,k=t.pageSize,Z=t.defaultPageSize,j=Z===void 0?10:Z,G=t.onChange,H=G===void 0?XS:G,K=t.hideOnSinglePage,ee=t.align,ie=t.showPrevNextJumpers,oe=ie===void 0?!0:ie,re=t.showQuickJumper,se=t.showLessItems,ue=t.showTitle,me=ue===void 0?!0:ue,pe=t.onShowSizeChange,ye=pe===void 0?XS:pe,Se=t.locale,Ie=Se===void 0?F3:Se,we=t.style,Be=t.totalBoundaryShowSizeChanger,Re=Be===void 0?50:Be,je=t.disabled,Ne=t.simple,nt=t.showTotal,at=t.showSizeChanger,Ct=at===void 0?L>Re:at,St=t.sizeChangerRender,_t=t.pageSizeOptions,ft=t.itemRender,vt=ft===void 0?H3:ft,$t=t.jumpPrevIcon,It=t.jumpNextIcon,Ft=t.prevIcon,wt=t.nextIcon,pn=s.useRef(null),Bn=(0,Fs.Z)(10,{value:k,defaultValue:j}),ln=(0,Oe.Z)(Bn,2),Tn=ln[0],Kt=ln[1],zt=(0,Fs.Z)(1,{value:w,defaultValue:D,postState:function(cs){return Math.max(1,Math.min(cs,Dg(void 0,Tn,L)))}}),Dn=(0,Oe.Z)(zt,2),Sn=Dn[0],Ir=Dn[1],ur=s.useState(Sn),Yn=(0,Oe.Z)(ur,2),qn=Yn[0],Rn=Yn[1];(0,s.useEffect)(function(){Rn(Sn)},[Sn]);var Jn=H!==XS,zr="current"in t,li=Math.max(1,Sn-(se?3:5)),xi=Math.min(Dg(void 0,Tn,L),Sn+(se?3:5));function Di(Da,cs){var Ss=Da||s.createElement("button",{type:"button","aria-label":cs,className:"".concat(o,"-item-link")});return typeof Da=="function"&&(Ss=s.createElement(Da,(0,X.Z)({},t))),Ss}function So(Da){var cs=Da.target.value,Ss=Dg(void 0,Tn,L),$l;return cs===""?$l=cs:Number.isNaN(Number(cs))?$l=qn:cs>=Ss?$l=Ss:$l=Number(cs),$l}function _i(Da){return gE(Da)&&Da!==Sn&&gE(L)&&L>0}var ai=L>Tn?re:!1;function gi(Da){(Da.keyCode===et.Z.UP||Da.keyCode===et.Z.DOWN)&&Da.preventDefault()}function Gi(Da){var cs=So(Da);switch(cs!==qn&&Rn(cs),Da.keyCode){case et.Z.ENTER:dr(cs);break;case et.Z.UP:dr(cs-1);break;case et.Z.DOWN:dr(cs+1);break;default:break}}function Pi(Da){dr(So(Da))}function wo(Da){var cs=Dg(Da,Tn,L),Ss=Sn>cs&&cs!==0?cs:Sn;Kt(Da),Rn(Ss),ye==null||ye(Sn,Da),Ir(Ss),H==null||H(Ss,Da)}function dr(Da){if(_i(Da)&&!je){var cs=Dg(void 0,Tn,L),Ss=Da;return Da>cs?Ss=cs:Da<1&&(Ss=1),Ss!==qn&&Rn(Ss),Ir(Ss),H==null||H(Ss,Tn),Ss}return Sn}var tr=Sn>1,pr=Sn<Dg(void 0,Tn,L);function Vn(){tr&&dr(Sn-1)}function ri(){pr&&dr(Sn+1)}function Oi(){dr(li)}function ro(){dr(xi)}function Xo(Da,cs){if(Da.key==="Enter"||Da.charCode===et.Z.ENTER||Da.keyCode===et.Z.ENTER){for(var Ss=arguments.length,$l=new Array(Ss>2?Ss-2:0),Fu=2;Fu<Ss;Fu++)$l[Fu-2]=arguments[Fu];cs.apply(void 0,$l)}}function $a(Da){Xo(Da,Vn)}function ta(Da){Xo(Da,ri)}function Cs(Da){Xo(Da,Oi)}function Za(Da){Xo(Da,ro)}function Ga(Da){var cs=vt(Da,"prev",Di(Ft,"prev page"));return s.isValidElement(cs)?s.cloneElement(cs,{disabled:!tr}):cs}function pa(Da){var cs=vt(Da,"next",Di(wt,"next page"));return s.isValidElement(cs)?s.cloneElement(cs,{disabled:!pr}):cs}function ts(Da){(Da.type==="click"||Da.keyCode===et.Z.ENTER)&&dr(qn)}var As=null,bo=(0,lt.Z)(t,{aria:!0,data:!0}),Ko=nt&&s.createElement("li",{className:"".concat(o,"-total-text")},nt(L,[L===0?0:(Sn-1)*Tn+1,Sn*Tn>L?L:Sn*Tn])),Ra=null,Ka=Dg(void 0,Tn,L);if(K&&L<=Tn)return null;var ss=[],ll={rootPrefixCls:o,onClick:dr,onKeyPress:Xo,showTitle:me,itemRender:vt,page:-1},Rl=Sn-1>0?Sn-1:0,yl=Sn+1<Ka?Sn+1:Ka,Xl=re&&re.goButton,ma=(0,Ye.Z)(Ne)==="object"?Ne.readOnly:!Ne,Vo=Xl,Ho=null;Ne&&(Xl&&(typeof Xl=="boolean"?Vo=s.createElement("button",{type:"button",onClick:ts,onKeyUp:ts},Ie.jump_to_confirm):Vo=s.createElement("span",{onClick:ts,onKeyUp:ts},Xl),Vo=s.createElement("li",{title:me?"".concat(Ie.jump_to).concat(Sn,"/").concat(Ka):null,className:"".concat(o,"-simple-pager")},Vo)),Ho=s.createElement("li",{title:me?"".concat(Sn,"/").concat(Ka):null,className:"".concat(o,"-simple-pager")},ma?qn:s.createElement("input",{type:"text","aria-label":Ie.jump_to,value:qn,disabled:je,onKeyDown:gi,onKeyUp:Gi,onChange:Gi,onBlur:Pi,size:3}),s.createElement("span",{className:"".concat(o,"-slash")},"/"),Ka));var Do=se?1:2;if(Ka<=3+Do*2){Ka||ss.push(s.createElement(I_,(0,Ze.Z)({},ll,{key:"noPager",page:1,className:"".concat(o,"-item-disabled")})));for(var ls=1;ls<=Ka;ls+=1)ss.push(s.createElement(I_,(0,Ze.Z)({},ll,{key:ls,page:ls,active:Sn===ls})))}else{var Ds=se?Ie.prev_3:Ie.prev_5,ka=se?Ie.next_3:Ie.next_5,ba=vt(li,"jump-prev",Di($t,"prev page")),gs=vt(xi,"jump-next",Di(It,"next page"));oe&&(As=ba?s.createElement("li",{title:me?Ds:null,key:"prev",onClick:Oi,tabIndex:0,onKeyDown:Cs,className:Y()("".concat(o,"-jump-prev"),(0,he.Z)({},"".concat(o,"-jump-prev-custom-icon"),!!$t))},ba):null,Ra=gs?s.createElement("li",{title:me?ka:null,key:"next",onClick:ro,tabIndex:0,onKeyDown:Za,className:Y()("".concat(o,"-jump-next"),(0,he.Z)({},"".concat(o,"-jump-next-custom-icon"),!!It))},gs):null);var vs=Math.max(1,Sn-Do),Ys=Math.min(Sn+Do,Ka);Sn-1<=Do&&(Ys=1+Do*2),Ka-Sn<=Do&&(vs=Ka-Do*2);for(var va=vs;va<=Ys;va+=1)ss.push(s.createElement(I_,(0,Ze.Z)({},ll,{key:va,page:va,active:Sn===va})));if(Sn-1>=Do*2&&Sn!==3&&(ss[0]=s.cloneElement(ss[0],{className:Y()("".concat(o,"-item-after-jump-prev"),ss[0].props.className)}),ss.unshift(As)),Ka-Sn>=Do*2&&Sn!==Ka-2){var Lo=ss[ss.length-1];ss[ss.length-1]=s.cloneElement(Lo,{className:Y()("".concat(o,"-item-before-jump-next"),Lo.props.className)}),ss.push(Ra)}vs!==1&&ss.unshift(s.createElement(I_,(0,Ze.Z)({},ll,{key:1,page:1}))),Ys!==Ka&&ss.push(s.createElement(I_,(0,Ze.Z)({},ll,{key:Ka,page:Ka})))}var Aa=Ga(Rl);if(Aa){var ds=!tr||!Ka;Aa=s.createElement("li",{title:me?Ie.prev_page:null,onClick:Vn,tabIndex:ds?null:0,onKeyDown:$a,className:Y()("".concat(o,"-prev"),(0,he.Z)({},"".concat(o,"-disabled"),ds)),"aria-disabled":ds},Aa)}var Bs=pa(yl);if(Bs){var qs,rc;Ne?(qs=!pr,rc=tr?0:null):(qs=!pr||!Ka,rc=qs?null:0),Bs=s.createElement("li",{title:me?Ie.next_page:null,onClick:ri,tabIndex:rc,onKeyDown:ta,className:Y()("".concat(o,"-next"),(0,he.Z)({},"".concat(o,"-disabled"),qs)),"aria-disabled":qs},Bs)}var Js=Y()(o,C,(0,he.Z)((0,he.Z)((0,he.Z)((0,he.Z)((0,he.Z)({},"".concat(o,"-start"),ee==="start"),"".concat(o,"-center"),ee==="center"),"".concat(o,"-end"),ee==="end"),"".concat(o,"-simple"),Ne),"".concat(o,"-disabled"),je));return s.createElement("ul",(0,Ze.Z)({className:Js,style:we,ref:pn},bo),Ko,Aa,Ne?Ho:ss,Bs,s.createElement(Z3,{locale:Ie,rootPrefixCls:o,disabled:je,selectPrefixCls:y,changeSize:wo,pageSize:Tn,pageSizeOptions:_t,quickGo:ai?dr:null,goButton:Vo,showSizeChanger:Ct,sizeChangerRender:St}))},W3=U3,G3=F(18507);const K3=e=>{const{componentCls:t}=e;return{[`${t}-disabled`]:{"&, &:hover":{cursor:"not-allowed",[`${t}-item-link`]:{color:e.colorTextDisabled,cursor:"not-allowed"}},"&:focus-visible":{cursor:"not-allowed",[`${t}-item-link`]:{color:e.colorTextDisabled,cursor:"not-allowed"}}},[`&${t}-disabled`]:{cursor:"not-allowed",[`${t}-item`]:{cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},a:{color:e.colorTextDisabled,backgroundColor:"transparent",border:"none",cursor:"not-allowed"},"&-active":{borderColor:e.colorBorder,backgroundColor:e.itemActiveBgDisabled,"&:hover, &:active":{backgroundColor:e.itemActiveBgDisabled},a:{color:e.itemActiveColorDisabled}}},[`${t}-item-link`]:{color:e.colorTextDisabled,cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},[`${t}-simple&`]:{backgroundColor:"transparent","&:hover, &:active":{backgroundColor:"transparent"}}},[`${t}-simple-pager`]:{color:e.colorTextDisabled},[`${t}-jump-prev, ${t}-jump-next`]:{[`${t}-item-link-icon`]:{opacity:0},[`${t}-item-ellipsis`]:{opacity:1}}},[`&${t}-simple`]:{[`${t}-prev, ${t}-next`]:{[`&${t}-disabled ${t}-item-link`]:{"&:hover, &:active":{backgroundColor:"transparent"}}}}}},X3=e=>{const{componentCls:t}=e;return{[`&${t}-mini ${t}-total-text, &${t}-mini ${t}-simple-pager`]:{height:e.itemSizeSM,lineHeight:(0,fe.bf)(e.itemSizeSM)},[`&${t}-mini ${t}-item`]:{minWidth:e.itemSizeSM,height:e.itemSizeSM,margin:0,lineHeight:(0,fe.bf)(e.calc(e.itemSizeSM).sub(2).equal())},[`&${t}-mini:not(${t}-disabled) ${t}-item:not(${t}-item-active)`]:{backgroundColor:"transparent",borderColor:"transparent","&:hover":{backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive}},[`&${t}-mini ${t}-prev, &${t}-mini ${t}-next`]:{minWidth:e.itemSizeSM,height:e.itemSizeSM,margin:0,lineHeight:(0,fe.bf)(e.itemSizeSM)},[`&${t}-mini:not(${t}-disabled)`]:{[`${t}-prev, ${t}-next`]:{[`&:hover ${t}-item-link`]:{backgroundColor:e.colorBgTextHover},[`&:active ${t}-item-link`]:{backgroundColor:e.colorBgTextActive},[`&${t}-disabled:hover ${t}-item-link`]:{backgroundColor:"transparent"}}},[`
    &${t}-mini ${t}-prev ${t}-item-link,
    &${t}-mini ${t}-next ${t}-item-link
    `]:{backgroundColor:"transparent",borderColor:"transparent","&::after":{height:e.itemSizeSM,lineHeight:(0,fe.bf)(e.itemSizeSM)}},[`&${t}-mini ${t}-jump-prev, &${t}-mini ${t}-jump-next`]:{height:e.itemSizeSM,marginInlineEnd:0,lineHeight:(0,fe.bf)(e.itemSizeSM)},[`&${t}-mini ${t}-options`]:{marginInlineStart:e.paginationMiniOptionsMarginInlineStart,"&-size-changer":{top:e.miniOptionsSizeChangerTop},"&-quick-jumper":{height:e.itemSizeSM,lineHeight:(0,fe.bf)(e.itemSizeSM),input:Object.assign(Object.assign({},(0,sl.x0)(e)),{width:e.paginationMiniQuickJumperInputWidth,height:e.controlHeightSM})}}}},Y3=e=>{const{componentCls:t}=e;return{[`
    &${t}-simple ${t}-prev,
    &${t}-simple ${t}-next
    `]:{height:e.itemSizeSM,lineHeight:(0,fe.bf)(e.itemSizeSM),verticalAlign:"top",[`${t}-item-link`]:{height:e.itemSizeSM,backgroundColor:"transparent",border:0,"&:hover":{backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive},"&::after":{height:e.itemSizeSM,lineHeight:(0,fe.bf)(e.itemSizeSM)}}},[`&${t}-simple ${t}-simple-pager`]:{display:"inline-block",height:e.itemSizeSM,marginInlineEnd:e.marginXS,input:{boxSizing:"border-box",height:"100%",padding:`0 ${(0,fe.bf)(e.paginationItemPaddingInline)}`,textAlign:"center",backgroundColor:e.itemInputBg,border:`${(0,fe.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadius,outline:"none",transition:`border-color ${e.motionDurationMid}`,color:"inherit","&:hover":{borderColor:e.colorPrimary},"&:focus":{borderColor:e.colorPrimaryHover,boxShadow:`${(0,fe.bf)(e.inputOutlineOffset)} 0 ${(0,fe.bf)(e.controlOutlineWidth)} ${e.controlOutline}`},"&[disabled]":{color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,cursor:"not-allowed"}}}}},q3=e=>{const{componentCls:t}=e;return{[`${t}-jump-prev, ${t}-jump-next`]:{outline:0,[`${t}-item-container`]:{position:"relative",[`${t}-item-link-icon`]:{color:e.colorPrimary,fontSize:e.fontSizeSM,opacity:0,transition:`all ${e.motionDurationMid}`,"&-svg":{top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,margin:"auto"}},[`${t}-item-ellipsis`]:{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,display:"block",margin:"auto",color:e.colorTextDisabled,letterSpacing:e.paginationEllipsisLetterSpacing,textAlign:"center",textIndent:e.paginationEllipsisTextIndent,opacity:1,transition:`all ${e.motionDurationMid}`}},"&:hover":{[`${t}-item-link-icon`]:{opacity:1},[`${t}-item-ellipsis`]:{opacity:0}}},[`
    ${t}-prev,
    ${t}-jump-prev,
    ${t}-jump-next
    `]:{marginInlineEnd:e.marginXS},[`
    ${t}-prev,
    ${t}-next,
    ${t}-jump-prev,
    ${t}-jump-next
    `]:{display:"inline-block",minWidth:e.itemSize,height:e.itemSize,color:e.colorText,fontFamily:e.fontFamily,lineHeight:(0,fe.bf)(e.itemSize),textAlign:"center",verticalAlign:"middle",listStyle:"none",borderRadius:e.borderRadius,cursor:"pointer",transition:`all ${e.motionDurationMid}`},[`${t}-prev, ${t}-next`]:{outline:0,button:{color:e.colorText,cursor:"pointer",userSelect:"none"},[`${t}-item-link`]:{display:"block",width:"100%",height:"100%",padding:0,fontSize:e.fontSizeSM,textAlign:"center",backgroundColor:"transparent",border:`${(0,fe.bf)(e.lineWidth)} ${e.lineType} transparent`,borderRadius:e.borderRadius,outline:"none",transition:`all ${e.motionDurationMid}`},[`&:hover ${t}-item-link`]:{backgroundColor:e.colorBgTextHover},[`&:active ${t}-item-link`]:{backgroundColor:e.colorBgTextActive},[`&${t}-disabled:hover`]:{[`${t}-item-link`]:{backgroundColor:"transparent"}}},[`${t}-slash`]:{marginInlineEnd:e.paginationSlashMarginInlineEnd,marginInlineStart:e.paginationSlashMarginInlineStart},[`${t}-options`]:{display:"inline-block",marginInlineStart:e.margin,verticalAlign:"middle","&-size-changer":{display:"inline-block",width:"auto"},"&-quick-jumper":{display:"inline-block",height:e.controlHeight,marginInlineStart:e.marginXS,lineHeight:(0,fe.bf)(e.controlHeight),verticalAlign:"top",input:Object.assign(Object.assign(Object.assign({},(0,sl.ik)(e)),(0,fc.$U)(e,{borderColor:e.colorBorder,hoverBorderColor:e.colorPrimaryHover,activeBorderColor:e.colorPrimary,activeShadow:e.activeShadow})),{"&[disabled]":Object.assign({},(0,fc.Xy)(e)),width:e.calc(e.controlHeightLG).mul(1.25).equal(),height:e.controlHeight,boxSizing:"border-box",margin:0,marginInlineStart:e.marginXS,marginInlineEnd:e.marginXS})}}}},J3=e=>{const{componentCls:t}=e;return{[`${t}-item`]:{display:"inline-block",minWidth:e.itemSize,height:e.itemSize,marginInlineEnd:e.marginXS,fontFamily:e.fontFamily,lineHeight:(0,fe.bf)(e.calc(e.itemSize).sub(2).equal()),textAlign:"center",verticalAlign:"middle",listStyle:"none",backgroundColor:e.itemBg,border:`${(0,fe.bf)(e.lineWidth)} ${e.lineType} transparent`,borderRadius:e.borderRadius,outline:0,cursor:"pointer",userSelect:"none",a:{display:"block",padding:`0 ${(0,fe.bf)(e.paginationItemPaddingInline)}`,color:e.colorText,"&:hover":{textDecoration:"none"}},[`&:not(${t}-item-active)`]:{"&:hover":{transition:`all ${e.motionDurationMid}`,backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive}},"&-active":{fontWeight:e.fontWeightStrong,backgroundColor:e.itemActiveBg,borderColor:e.colorPrimary,a:{color:e.colorPrimary},"&:hover":{borderColor:e.colorPrimaryHover},"&:hover a":{color:e.colorPrimaryHover}}}}},Q3=e=>{const{componentCls:t}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,Wt.Wf)(e)),{display:"flex","&-start":{justifyContent:"start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"end"},"ul, ol":{margin:0,padding:0,listStyle:"none"},"&::after":{display:"block",clear:"both",height:0,overflow:"hidden",visibility:"hidden",content:'""'},[`${t}-total-text`]:{display:"inline-block",height:e.itemSize,marginInlineEnd:e.marginXS,lineHeight:(0,fe.bf)(e.calc(e.itemSize).sub(2).equal()),verticalAlign:"middle"}}),J3(e)),q3(e)),Y3(e)),X3(e)),K3(e)),{[`@media only screen and (max-width: ${e.screenLG}px)`]:{[`${t}-item`]:{"&-after-jump-prev, &-before-jump-next":{display:"none"}}},[`@media only screen and (max-width: ${e.screenSM}px)`]:{[`${t}-options`]:{display:"none"}}}),[`&${e.componentCls}-rtl`]:{direction:"rtl"}}},eR=e=>{const{componentCls:t}=e;return{[`${t}:not(${t}-disabled)`]:{[`${t}-item`]:Object.assign({},(0,Wt.Qy)(e)),[`${t}-jump-prev, ${t}-jump-next`]:{"&:focus-visible":Object.assign({[`${t}-item-link-icon`]:{opacity:1},[`${t}-item-ellipsis`]:{opacity:0}},(0,Wt.oN)(e))},[`${t}-prev, ${t}-next`]:{[`&:focus-visible ${t}-item-link`]:Object.assign({},(0,Wt.oN)(e))}}}},vE=e=>Object.assign({itemBg:e.colorBgContainer,itemSize:e.controlHeight,itemSizeSM:e.controlHeightSM,itemActiveBg:e.colorBgContainer,itemLinkBg:e.colorBgContainer,itemActiveColorDisabled:e.colorTextDisabled,itemActiveBgDisabled:e.controlItemBgActiveDisabled,itemInputBg:e.colorBgContainer,miniOptionsSizeChangerTop:0},(0,Cu.T)(e)),yE=e=>(0,Ur.IX)(e,{inputOutlineOffset:0,paginationMiniOptionsMarginInlineStart:e.calc(e.marginXXS).div(2).equal(),paginationMiniQuickJumperInputWidth:e.calc(e.controlHeightLG).mul(1.1).equal(),paginationItemPaddingInline:e.calc(e.marginXXS).mul(1.5).equal(),paginationEllipsisLetterSpacing:e.calc(e.marginXXS).div(2).equal(),paginationSlashMarginInlineStart:e.marginSM,paginationSlashMarginInlineEnd:e.marginSM,paginationEllipsisTextIndent:"0.13em"},(0,Cu.e)(e));var tR=(0,te.I$)("Pagination",e=>{const t=yE(e);return[Q3(t),eR(t)]},vE);const nR=e=>{const{componentCls:t}=e;return{[`${t}${t}-bordered${t}-disabled:not(${t}-mini)`]:{"&, &:hover":{[`${t}-item-link`]:{borderColor:e.colorBorder}},"&:focus-visible":{[`${t}-item-link`]:{borderColor:e.colorBorder}},[`${t}-item, ${t}-item-link`]:{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,[`&:hover:not(${t}-item-active)`]:{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,a:{color:e.colorTextDisabled}},[`&${t}-item-active`]:{backgroundColor:e.itemActiveBgDisabled}},[`${t}-prev, ${t}-next`]:{"&:hover button":{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,color:e.colorTextDisabled},[`${t}-item-link`]:{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder}}},[`${t}${t}-bordered:not(${t}-mini)`]:{[`${t}-prev, ${t}-next`]:{"&:hover button":{borderColor:e.colorPrimaryHover,backgroundColor:e.itemBg},[`${t}-item-link`]:{backgroundColor:e.itemLinkBg,borderColor:e.colorBorder},[`&:hover ${t}-item-link`]:{borderColor:e.colorPrimary,backgroundColor:e.itemBg,color:e.colorPrimary},[`&${t}-disabled`]:{[`${t}-item-link`]:{borderColor:e.colorBorder,color:e.colorTextDisabled}}},[`${t}-item`]:{backgroundColor:e.itemBg,border:`${(0,fe.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,[`&:hover:not(${t}-item-active)`]:{borderColor:e.colorPrimary,backgroundColor:e.itemBg,a:{color:e.colorPrimary}},"&-active":{borderColor:e.colorPrimary}}}}};var rR=(0,te.bk)(["Pagination","bordered"],e=>{const t=yE(e);return[nR(t)]},vE);function _E(e){return(0,s.useMemo)(()=>typeof e=="boolean"?[e,{}]:e&&typeof e=="object"?[!0,e]:[void 0,void 0],[e])}var iR=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},oR=e=>{const{align:t,prefixCls:a,selectPrefixCls:o,className:f,rootClassName:y,style:C,size:w,locale:I,responsive:D,showSizeChanger:z,selectComponentClass:L,pageSizeOptions:k}=e,Z=iR(e,["align","prefixCls","selectPrefixCls","className","rootClassName","style","size","locale","responsive","showSizeChanger","selectComponentClass","pageSizeOptions"]),{xs:j}=(0,Xu.Z)(D),[,G]=(0,ea.ZP)(),{getPrefixCls:H,direction:K,showSizeChanger:ee,className:ie,style:oe}=(0,ve.dj)("pagination"),re=H("pagination",a),[se,ue,me]=tR(re),pe=(0,Br.Z)(w),ye=pe==="small"||!!(j&&!pe&&D),[Se]=(0,Ao.Z)("Pagination",G3.Z),Ie=Object.assign(Object.assign({},Se),I),[we,Be]=_E(z),[Re,je]=_E(ee),Ne=we!=null?we:Re,nt=Be!=null?Be:je,at=L||gu.default,Ct=s.useMemo(()=>k?k.map(It=>Number(It)):void 0,[k]),St=It=>{var Ft;const{disabled:wt,size:pn,onSizeChange:Bn,"aria-label":ln,className:Tn,options:Kt}=It,{className:zt,onChange:Dn}=nt||{},Sn=(Ft=Kt.find(Ir=>String(Ir.value)===String(pn)))===null||Ft===void 0?void 0:Ft.value;return s.createElement(at,Object.assign({disabled:wt,showSearch:!0,popupMatchSelectWidth:!1,getPopupContainer:Ir=>Ir.parentNode,"aria-label":ln,options:Kt},nt,{value:Sn,onChange:(Ir,ur)=>{Bn==null||Bn(Ir),Dn==null||Dn(Ir,ur)},size:ye?"small":"middle",className:Y()(Tn,zt)}))},_t=s.useMemo(()=>{const It=s.createElement("span",{className:`${re}-item-ellipsis`},"\u2022\u2022\u2022"),Ft=s.createElement("button",{className:`${re}-item-link`,type:"button",tabIndex:-1},K==="rtl"?s.createElement(yu.Z,null):s.createElement(Qc,null)),wt=s.createElement("button",{className:`${re}-item-link`,type:"button",tabIndex:-1},K==="rtl"?s.createElement(Qc,null):s.createElement(yu.Z,null)),pn=s.createElement("a",{className:`${re}-item-link`},s.createElement("div",{className:`${re}-item-container`},K==="rtl"?s.createElement(pE,{className:`${re}-item-link-icon`}):s.createElement(mE,{className:`${re}-item-link-icon`}),It)),Bn=s.createElement("a",{className:`${re}-item-link`},s.createElement("div",{className:`${re}-item-container`},K==="rtl"?s.createElement(mE,{className:`${re}-item-link-icon`}):s.createElement(pE,{className:`${re}-item-link-icon`}),It));return{prevIcon:Ft,nextIcon:wt,jumpPrevIcon:pn,jumpNextIcon:Bn}},[K,re]),ft=H("select",o),vt=Y()({[`${re}-${t}`]:!!t,[`${re}-mini`]:ye,[`${re}-rtl`]:K==="rtl",[`${re}-bordered`]:G.wireframe},ie,f,y,ue,me),$t=Object.assign(Object.assign({},oe),C);return se(s.createElement(s.Fragment,null,G.wireframe&&s.createElement(rR,{prefixCls:re}),s.createElement(W3,Object.assign({},_t,Z,{style:$t,prefixCls:re,selectPrefixCls:ft,className:vt,locale:Ie,pageSizeOptions:Ct,showSizeChanger:Ne,sizeChangerRender:St}))))},Ox=oR;const Rx=100,bE=Rx/5,xE=Rx/2-bE/2,YS=xE*2*Math.PI,CE=50,SE=e=>{const{dotClassName:t,style:a,hasCircleCls:o}=e;return s.createElement("circle",{className:Y()(`${t}-circle`,{[`${t}-circle-bg`]:o}),r:xE,cx:CE,cy:CE,strokeWidth:bE,style:a})};var aR=e=>{let{percent:t,prefixCls:a}=e;const o=`${a}-dot`,f=`${o}-holder`,y=`${f}-hidden`,[C,w]=s.useState(!1);(0,hl.Z)(()=>{t!==0&&w(!0)},[t!==0]);const I=Math.max(Math.min(t,100),0);if(!C)return null;const D={strokeDashoffset:`${YS/4}`,strokeDasharray:`${YS*I/100} ${YS*(100-I)/100}`};return s.createElement("span",{className:Y()(f,`${o}-progress`,I<=0&&y)},s.createElement("svg",{viewBox:`0 0 ${Rx} ${Rx}`,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":I},s.createElement(SE,{dotClassName:o,hasCircleCls:!0}),s.createElement(SE,{dotClassName:o,style:D})))};function sR(e){const{prefixCls:t,percent:a=0}=e,o=`${t}-dot`,f=`${o}-holder`,y=`${f}-hidden`;return s.createElement(s.Fragment,null,s.createElement("span",{className:Y()(f,a>0&&y)},s.createElement("span",{className:Y()(o,`${t}-dot-spin`)},[1,2,3,4].map(C=>s.createElement("i",{className:`${t}-dot-item`,key:C})))),s.createElement(aR,{prefixCls:t,percent:a}))}function lR(e){const{prefixCls:t,indicator:a,percent:o}=e,f=`${t}-dot`;return a&&s.isValidElement(a)?(0,bn.Tm)(a,{className:Y()(a.props.className,f),percent:o}):s.createElement(sR,{prefixCls:t,percent:o})}const cR=new fe.E4("antSpinMove",{to:{opacity:1}}),uR=new fe.E4("antRotate",{to:{transform:"rotate(405deg)"}}),dR=e=>{const{componentCls:t,calc:a}=e;return{[t]:Object.assign(Object.assign({},(0,Wt.Wf)(e)),{position:"absolute",display:"none",color:e.colorPrimary,fontSize:0,textAlign:"center",verticalAlign:"middle",opacity:0,transition:`transform ${e.motionDurationSlow} ${e.motionEaseInOutCirc}`,"&-spinning":{position:"relative",display:"inline-block",opacity:1},[`${t}-text`]:{fontSize:e.fontSize,paddingTop:a(a(e.dotSize).sub(e.fontSize)).div(2).add(2).equal()},"&-fullscreen":{position:"fixed",width:"100vw",height:"100vh",backgroundColor:e.colorBgMask,zIndex:e.zIndexPopupBase,inset:0,display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",opacity:0,visibility:"hidden",transition:`all ${e.motionDurationMid}`,"&-show":{opacity:1,visibility:"visible"},[t]:{[`${t}-dot-holder`]:{color:e.colorWhite},[`${t}-text`]:{color:e.colorTextLightSolid}}},"&-nested-loading":{position:"relative",[`> div > ${t}`]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:e.contentHeight,[`${t}-dot`]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:a(e.dotSize).mul(-1).div(2).equal()},[`${t}-text`]:{position:"absolute",top:"50%",width:"100%",textShadow:`0 1px 2px ${e.colorBgContainer}`},[`&${t}-show-text ${t}-dot`]:{marginTop:a(e.dotSize).div(2).mul(-1).sub(10).equal()},"&-sm":{[`${t}-dot`]:{margin:a(e.dotSizeSM).mul(-1).div(2).equal()},[`${t}-text`]:{paddingTop:a(a(e.dotSizeSM).sub(e.fontSize)).div(2).add(2).equal()},[`&${t}-show-text ${t}-dot`]:{marginTop:a(e.dotSizeSM).div(2).mul(-1).sub(10).equal()}},"&-lg":{[`${t}-dot`]:{margin:a(e.dotSizeLG).mul(-1).div(2).equal()},[`${t}-text`]:{paddingTop:a(a(e.dotSizeLG).sub(e.fontSize)).div(2).add(2).equal()},[`&${t}-show-text ${t}-dot`]:{marginTop:a(e.dotSizeLG).div(2).mul(-1).sub(10).equal()}}},[`${t}-container`]:{position:"relative",transition:`opacity ${e.motionDurationSlow}`,"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:e.colorBgContainer,opacity:0,transition:`all ${e.motionDurationSlow}`,content:'""',pointerEvents:"none"}},[`${t}-blur`]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none","&::after":{opacity:.4,pointerEvents:"auto"}}},"&-tip":{color:e.spinDotDefault},[`${t}-dot-holder`]:{width:"1em",height:"1em",fontSize:e.dotSize,display:"inline-block",transition:`transform ${e.motionDurationSlow} ease, opacity ${e.motionDurationSlow} ease`,transformOrigin:"50% 50%",lineHeight:1,color:e.colorPrimary,"&-hidden":{transform:"scale(0.3)",opacity:0}},[`${t}-dot-progress`]:{position:"absolute",inset:0},[`${t}-dot`]:{position:"relative",display:"inline-block",fontSize:e.dotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:a(e.dotSize).sub(a(e.marginXXS).div(2)).div(2).equal(),height:a(e.dotSize).sub(a(e.marginXXS).div(2)).div(2).equal(),background:"currentColor",borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:cR,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0,animationDelay:"0s"},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:uR,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"},"&-circle":{strokeLinecap:"round",transition:["stroke-dashoffset","stroke-dasharray","stroke","stroke-width","opacity"].map(o=>`${o} ${e.motionDurationSlow} ease`).join(","),fillOpacity:0,stroke:"currentcolor"},"&-circle-bg":{stroke:e.colorFillSecondary}},[`&-sm ${t}-dot`]:{"&, &-holder":{fontSize:e.dotSizeSM}},[`&-sm ${t}-dot-holder`]:{i:{width:a(a(e.dotSizeSM).sub(a(e.marginXXS).div(2))).div(2).equal(),height:a(a(e.dotSizeSM).sub(a(e.marginXXS).div(2))).div(2).equal()}},[`&-lg ${t}-dot`]:{"&, &-holder":{fontSize:e.dotSizeLG}},[`&-lg ${t}-dot-holder`]:{i:{width:a(a(e.dotSizeLG).sub(e.marginXXS)).div(2).equal(),height:a(a(e.dotSizeLG).sub(e.marginXXS)).div(2).equal()}},[`&${t}-show-text ${t}-text`]:{display:"block"}})}},fR=e=>{const{controlHeightLG:t,controlHeight:a}=e;return{contentHeight:400,dotSize:t/2,dotSizeSM:t*.35,dotSizeLG:a}};var hR=(0,te.I$)("Spin",e=>{const t=(0,Ur.IX)(e,{spinDotDefault:e.colorTextDescription});return[dR(t)]},fR);const mR=200,wE=[[30,.05],[70,.03],[96,.01]];function pR(e,t){const[a,o]=s.useState(0),f=s.useRef(null),y=t==="auto";return s.useEffect(()=>(y&&e&&(o(0),f.current=setInterval(()=>{o(C=>{const w=100-C;for(let I=0;I<wE.length;I+=1){const[D,z]=wE[I];if(C<=D)return C+w*z}return C})},mR)),()=>{clearInterval(f.current)}),[y,e]),y?a:t}var gR=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const qF=null;let EE;function vR(e,t){return!!e&&!!t&&!Number.isNaN(Number(t))}const IE=e=>{var t;const{prefixCls:a,spinning:o=!0,delay:f=0,className:y,rootClassName:C,size:w="default",tip:I,wrapperClassName:D,style:z,children:L,fullscreen:k=!1,indicator:Z,percent:j}=e,G=gR(e,["prefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","fullscreen","indicator","percent"]),{getPrefixCls:H,direction:K,className:ee,style:ie,indicator:oe}=(0,ve.dj)("spin"),re=H("spin",a),[se,ue,me]=hR(re),[pe,ye]=s.useState(()=>o&&!vR(o,f)),Se=pR(pe,j);s.useEffect(()=>{if(o){const nt=W1(f,()=>{ye(!0)});return nt(),()=>{var at;(at=nt==null?void 0:nt.cancel)===null||at===void 0||at.call(nt)}}ye(!1)},[f,o]);const Ie=s.useMemo(()=>typeof L!="undefined"&&!k,[L,k]),we=Y()(re,ee,{[`${re}-sm`]:w==="small",[`${re}-lg`]:w==="large",[`${re}-spinning`]:pe,[`${re}-show-text`]:!!I,[`${re}-rtl`]:K==="rtl"},y,!k&&C,ue,me),Be=Y()(`${re}-container`,{[`${re}-blur`]:pe}),Re=(t=Z!=null?Z:oe)!==null&&t!==void 0?t:EE,je=Object.assign(Object.assign({},ie),z),Ne=s.createElement("div",Object.assign({},G,{style:je,className:we,"aria-live":"polite","aria-busy":pe}),s.createElement(lR,{prefixCls:re,indicator:Re,percent:Se}),I&&(Ie||k)?s.createElement("div",{className:`${re}-text`},I):null);return se(Ie?s.createElement("div",Object.assign({},G,{className:Y()(`${re}-nested-loading`,D,ue,me)}),pe&&s.createElement("div",{key:"loading"},Ne),s.createElement("div",{className:Be,key:"container"},L)):k?s.createElement("div",{className:Y()(`${re}-fullscreen`,{[`${re}-fullscreen-show`]:pe},C,ue,me)},Ne):Ne)};IE.setDefaultIndicator=e=>{EE=e};var gv=IE;const qS=s.createContext({}),JF=qS.Consumer;var ME=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const yR=e=>{var{prefixCls:t,className:a,avatar:o,title:f,description:y}=e,C=ME(e,["prefixCls","className","avatar","title","description"]);const{getPrefixCls:w}=(0,s.useContext)(ve.E_),I=w("list",t),D=Y()(`${I}-item-meta`,a),z=s.createElement("div",{className:`${I}-item-meta-content`},f&&s.createElement("h4",{className:`${I}-item-meta-title`},f),y&&s.createElement("div",{className:`${I}-item-meta-description`},y));return s.createElement("div",Object.assign({},C,{className:D}),o&&s.createElement("div",{className:`${I}-item-meta-avatar`},o),(f||y)&&z)},TE=s.forwardRef((e,t)=>{const{prefixCls:a,children:o,actions:f,extra:y,styles:C,className:w,classNames:I,colStyle:D}=e,z=ME(e,["prefixCls","children","actions","extra","styles","className","classNames","colStyle"]),{grid:L,itemLayout:k}=(0,s.useContext)(qS),{getPrefixCls:Z,list:j}=(0,s.useContext)(ve.E_),G=ue=>{var me,pe;return Y()((pe=(me=j==null?void 0:j.item)===null||me===void 0?void 0:me.classNames)===null||pe===void 0?void 0:pe[ue],I==null?void 0:I[ue])},H=ue=>{var me,pe;return Object.assign(Object.assign({},(pe=(me=j==null?void 0:j.item)===null||me===void 0?void 0:me.styles)===null||pe===void 0?void 0:pe[ue]),C==null?void 0:C[ue])},K=()=>{let ue=!1;return s.Children.forEach(o,me=>{typeof me=="string"&&(ue=!0)}),ue&&s.Children.count(o)>1},ee=()=>k==="vertical"?!!y:!K(),ie=Z("list",a),oe=f&&f.length>0&&s.createElement("ul",{className:Y()(`${ie}-item-action`,G("actions")),key:"actions",style:H("actions")},f.map((ue,me)=>s.createElement("li",{key:`${ie}-item-action-${me}`},ue,me!==f.length-1&&s.createElement("em",{className:`${ie}-item-action-split`})))),re=L?"div":"li",se=s.createElement(re,Object.assign({},z,L?{}:{ref:t},{className:Y()(`${ie}-item`,{[`${ie}-item-no-flex`]:!ee()},w)}),k==="vertical"&&y?[s.createElement("div",{className:`${ie}-item-main`,key:"content"},o,oe),s.createElement("div",{className:Y()(`${ie}-item-extra`,G("extra")),key:"extra",style:H("extra")},y)]:[o,oe,(0,bn.Tm)(y,{key:"extra"})]);return L?s.createElement(go.Z,{ref:t,flex:1,style:D},se):se});TE.Meta=yR;var _R=TE;const bR=e=>{const{listBorderedCls:t,componentCls:a,paddingLG:o,margin:f,itemPaddingSM:y,itemPaddingLG:C,marginLG:w,borderRadiusLG:I}=e;return{[t]:{border:`${(0,fe.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:I,[`${a}-header,${a}-footer,${a}-item`]:{paddingInline:o},[`${a}-pagination`]:{margin:`${(0,fe.bf)(f)} ${(0,fe.bf)(w)}`}},[`${t}${a}-sm`]:{[`${a}-item,${a}-header,${a}-footer`]:{padding:y}},[`${t}${a}-lg`]:{[`${a}-item,${a}-header,${a}-footer`]:{padding:C}}}},xR=e=>{const{componentCls:t,screenSM:a,screenMD:o,marginLG:f,marginSM:y,margin:C}=e;return{[`@media screen and (max-width:${o}px)`]:{[t]:{[`${t}-item`]:{[`${t}-item-action`]:{marginInlineStart:f}}},[`${t}-vertical`]:{[`${t}-item`]:{[`${t}-item-extra`]:{marginInlineStart:f}}}},[`@media screen and (max-width: ${a}px)`]:{[t]:{[`${t}-item`]:{flexWrap:"wrap",[`${t}-action`]:{marginInlineStart:y}}},[`${t}-vertical`]:{[`${t}-item`]:{flexWrap:"wrap-reverse",[`${t}-item-main`]:{minWidth:e.contentWidth},[`${t}-item-extra`]:{margin:`auto auto ${(0,fe.bf)(C)}`}}}}}},CR=e=>{const{componentCls:t,antCls:a,controlHeight:o,minHeight:f,paddingSM:y,marginLG:C,padding:w,itemPadding:I,colorPrimary:D,itemPaddingSM:z,itemPaddingLG:L,paddingXS:k,margin:Z,colorText:j,colorTextDescription:G,motionDurationSlow:H,lineWidth:K,headerBg:ee,footerBg:ie,emptyTextPadding:oe,metaMarginBottom:re,avatarMarginRight:se,titleMarginBottom:ue,descriptionFontSize:me}=e;return{[t]:Object.assign(Object.assign({},(0,Wt.Wf)(e)),{position:"relative","*":{outline:"none"},[`${t}-header`]:{background:ee},[`${t}-footer`]:{background:ie},[`${t}-header, ${t}-footer`]:{paddingBlock:y},[`${t}-pagination`]:{marginBlockStart:C,[`${a}-pagination-options`]:{textAlign:"start"}},[`${t}-spin`]:{minHeight:f,textAlign:"center"},[`${t}-items`]:{margin:0,padding:0,listStyle:"none"},[`${t}-item`]:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:I,color:j,[`${t}-item-meta`]:{display:"flex",flex:1,alignItems:"flex-start",maxWidth:"100%",[`${t}-item-meta-avatar`]:{marginInlineEnd:se},[`${t}-item-meta-content`]:{flex:"1 0",width:0,color:j},[`${t}-item-meta-title`]:{margin:`0 0 ${(0,fe.bf)(e.marginXXS)} 0`,color:j,fontSize:e.fontSize,lineHeight:e.lineHeight,"> a":{color:j,transition:`all ${H}`,"&:hover":{color:D}}},[`${t}-item-meta-description`]:{color:G,fontSize:me,lineHeight:e.lineHeight}},[`${t}-item-action`]:{flex:"0 0 auto",marginInlineStart:e.marginXXL,padding:0,fontSize:0,listStyle:"none","& > li":{position:"relative",display:"inline-block",padding:`0 ${(0,fe.bf)(k)}`,color:G,fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"center","&:first-child":{paddingInlineStart:0}},[`${t}-item-action-split`]:{position:"absolute",insetBlockStart:"50%",insetInlineEnd:0,width:K,height:e.calc(e.fontHeight).sub(e.calc(e.marginXXS).mul(2)).equal(),transform:"translateY(-50%)",backgroundColor:e.colorSplit}}},[`${t}-empty`]:{padding:`${(0,fe.bf)(w)} 0`,color:G,fontSize:e.fontSizeSM,textAlign:"center"},[`${t}-empty-text`]:{padding:oe,color:e.colorTextDisabled,fontSize:e.fontSize,textAlign:"center"},[`${t}-item-no-flex`]:{display:"block"}}),[`${t}-grid ${a}-col > ${t}-item`]:{display:"block",maxWidth:"100%",marginBlockEnd:Z,paddingBlock:0,borderBlockEnd:"none"},[`${t}-vertical ${t}-item`]:{alignItems:"initial",[`${t}-item-main`]:{display:"block",flex:1},[`${t}-item-extra`]:{marginInlineStart:C},[`${t}-item-meta`]:{marginBlockEnd:re,[`${t}-item-meta-title`]:{marginBlockStart:0,marginBlockEnd:ue,color:j,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG}},[`${t}-item-action`]:{marginBlockStart:w,marginInlineStart:"auto","> li":{padding:`0 ${(0,fe.bf)(w)}`,"&:first-child":{paddingInlineStart:0}}}},[`${t}-split ${t}-item`]:{borderBlockEnd:`${(0,fe.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderBlockEnd:"none"}},[`${t}-split ${t}-header`]:{borderBlockEnd:`${(0,fe.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-split${t}-empty ${t}-footer`]:{borderTop:`${(0,fe.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-loading ${t}-spin-nested-loading`]:{minHeight:o},[`${t}-split${t}-something-after-last-item ${a}-spin-container > ${t}-items > ${t}-item:last-child`]:{borderBlockEnd:`${(0,fe.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-lg ${t}-item`]:{padding:L},[`${t}-sm ${t}-item`]:{padding:z},[`${t}:not(${t}-vertical)`]:{[`${t}-item-no-flex`]:{[`${t}-item-action`]:{float:"right"}}}}},SR=e=>({contentWidth:220,itemPadding:`${(0,fe.bf)(e.paddingContentVertical)} 0`,itemPaddingSM:`${(0,fe.bf)(e.paddingContentVerticalSM)} ${(0,fe.bf)(e.paddingContentHorizontal)}`,itemPaddingLG:`${(0,fe.bf)(e.paddingContentVerticalLG)} ${(0,fe.bf)(e.paddingContentHorizontalLG)}`,headerBg:"transparent",footerBg:"transparent",emptyTextPadding:e.padding,metaMarginBottom:e.padding,avatarMarginRight:e.padding,titleMarginBottom:e.paddingSM,descriptionFontSize:e.fontSize});var wR=(0,te.I$)("List",e=>{const t=(0,Ur.IX)(e,{listBorderedCls:`${e.componentCls}-bordered`,minHeight:e.controlHeightLG});return[CR(t),bR(t),xR(t)]},SR),ER=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};function IR(e,t){var{pagination:a=!1,prefixCls:o,bordered:f=!1,split:y=!0,className:C,rootClassName:w,style:I,children:D,itemLayout:z,loadMore:L,grid:k,dataSource:Z=[],size:j,header:G,footer:H,loading:K=!1,rowKey:ee,renderItem:ie,locale:oe}=e,re=ER(e,["pagination","prefixCls","bordered","split","className","rootClassName","style","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]);const se=a&&typeof a=="object"?a:{},[ue,me]=s.useState(se.defaultCurrent||1),[pe,ye]=s.useState(se.defaultPageSize||10),{getPrefixCls:Se,direction:Ie,className:we,style:Be}=(0,ve.dj)("list"),{renderEmpty:Re}=s.useContext(ve.E_),je={current:1,total:0},Ne=Jn=>(zr,li)=>{var xi;me(zr),ye(li),a&&((xi=a==null?void 0:a[Jn])===null||xi===void 0||xi.call(a,zr,li))},nt=Ne("onChange"),at=Ne("onShowSizeChange"),Ct=(Jn,zr)=>{if(!ie)return null;let li;return typeof ee=="function"?li=ee(Jn):ee?li=Jn[ee]:li=Jn.key,li||(li=`list-item-${zr}`),s.createElement(s.Fragment,{key:li},ie(Jn,zr))},St=()=>!!(L||a||H),_t=Se("list",o),[ft,vt,$t]=wR(_t);let It=K;typeof It=="boolean"&&(It={spinning:It});const Ft=!!(It!=null&&It.spinning),wt=(0,Br.Z)(j);let pn="";switch(wt){case"large":pn="lg";break;case"small":pn="sm";break;default:break}const Bn=Y()(_t,{[`${_t}-vertical`]:z==="vertical",[`${_t}-${pn}`]:pn,[`${_t}-split`]:y,[`${_t}-bordered`]:f,[`${_t}-loading`]:Ft,[`${_t}-grid`]:!!k,[`${_t}-something-after-last-item`]:St(),[`${_t}-rtl`]:Ie==="rtl"},we,C,w,vt,$t),ln=KS(je,{total:Z.length,current:ue,pageSize:pe},a||{}),Tn=Math.ceil(ln.total/ln.pageSize);ln.current>Tn&&(ln.current=Tn);const Kt=a&&s.createElement("div",{className:Y()(`${_t}-pagination`)},s.createElement(Ox,Object.assign({align:"end"},ln,{onChange:nt,onShowSizeChange:at})));let zt=(0,xe.Z)(Z);a&&Z.length>(ln.current-1)*ln.pageSize&&(zt=(0,xe.Z)(Z).splice((ln.current-1)*ln.pageSize,ln.pageSize));const Dn=Object.keys(k||{}).some(Jn=>["xs","sm","md","lg","xl","xxl"].includes(Jn)),Sn=(0,Xu.Z)(Dn),Ir=s.useMemo(()=>{for(let Jn=0;Jn<Nl.c4.length;Jn+=1){const zr=Nl.c4[Jn];if(Sn[zr])return zr}},[Sn]),ur=s.useMemo(()=>{if(!k)return;const Jn=Ir&&k[Ir]?k[Ir]:k.column;if(Jn)return{width:`${100/Jn}%`,maxWidth:`${100/Jn}%`}},[JSON.stringify(k),Ir]);let Yn=Ft&&s.createElement("div",{style:{minHeight:53}});if(zt.length>0){const Jn=zt.map((zr,li)=>Ct(zr,li));Yn=k?s.createElement(hE.Z,{gutter:k.gutter},s.Children.map(Jn,zr=>s.createElement("div",{key:zr==null?void 0:zr.key,style:ur},zr))):s.createElement("ul",{className:`${_t}-items`},Jn)}else!D&&!Ft&&(Yn=s.createElement("div",{className:`${_t}-empty-text`},(oe==null?void 0:oe.emptyText)||(Re==null?void 0:Re("List"))||s.createElement(Wf.Z,{componentName:"List"})));const qn=ln.position||"bottom",Rn=s.useMemo(()=>({grid:k,itemLayout:z}),[JSON.stringify(k),z]);return ft(s.createElement(qS.Provider,{value:Rn},s.createElement("div",Object.assign({ref:t,style:Object.assign(Object.assign({},Be),I),className:Bn},re),(qn==="top"||qn==="both")&&Kt,G&&s.createElement("div",{className:`${_t}-header`},G),s.createElement(gv,Object.assign({},It),Yn,D),H&&s.createElement("div",{className:`${_t}-footer`},H),L||(qn==="bottom"||qn==="both")&&Kt)))}const PE=s.forwardRef(IR);PE.Item=_R;var MR=PE;function TR(){var e=(0,s.useState)({id:0,callback:null}),t=(0,Oe.Z)(e,2),a=t[0],o=t[1],f=(0,s.useCallback)(function(y){o(function(C){var w=C.id;return{id:w+1,callback:y}})},[]);return(0,s.useEffect)(function(){var y;(y=a.callback)===null||y===void 0||y.call(a)},[a]),f}var PR=s.createContext(null),OE=PR;function OR(e){var t=s.useContext(OE),a=t.notFoundContent,o=t.activeIndex,f=t.setActiveIndex,y=t.selectOption,C=t.onFocus,w=t.onBlur,I=t.onScroll,D=e.prefixCls,z=e.options,L=z[o]||{};return s.createElement(_d,{prefixCls:"".concat(D,"-menu"),activeKey:L.key,onSelect:function(Z){var j=Z.key,G=z.find(function(H){var K=H.key;return K===j});y(G)},onFocus:C,onBlur:w,onScroll:I},z.map(function(k,Z){var j=k.key,G=k.disabled,H=k.className,K=k.style,ee=k.label;return s.createElement(ps,{key:j,disabled:G,className:H,style:K,onMouseEnter:function(){f(Z)}},ee)}),!z.length&&s.createElement(ps,{disabled:!0},a))}var RR=OR,$R={bottomRight:{points:["tl","br"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},bottomLeft:{points:["tr","bl"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},topRight:{points:["bl","tr"],offset:[0,-4],overflow:{adjustX:1,adjustY:1}},topLeft:{points:["br","tl"],offset:[0,-4],overflow:{adjustX:1,adjustY:1}}},AR=function(t){var a=t.prefixCls,o=t.options,f=t.children,y=t.visible,C=t.transitionName,w=t.getPopupContainer,I=t.dropdownClassName,D=t.direction,z=t.placement,L="".concat(a,"-dropdown"),k=s.createElement(RR,{prefixCls:L,options:o}),Z=(0,s.useMemo)(function(){var j;return D==="rtl"?j=z==="top"?"topLeft":"bottomLeft":j=z==="top"?"topRight":"bottomRight",j},[D,z]);return s.createElement(uc.Z,{prefixCls:L,popupVisible:y,popup:k,popupPlacement:Z,popupTransitionName:C,builtinPlacements:$R,getPopupContainer:w,popupClassName:I},f)},DR=AR,zR=function(){return null},LR=zR;function NR(e){var t=e.selectionStart;return e.value.slice(0,t)}function BR(e,t){return t.reduce(function(a,o){var f=e.lastIndexOf(o);return f>a.location?{location:f,prefix:o}:a},{location:-1,prefix:""})}function RE(e){return(e||"").toLowerCase()}function FR(e,t,a){var o=e[0];if(!o||o===a)return e;for(var f=e,y=t.length,C=0;C<y;C+=1)if(RE(f[C])!==RE(t[C])){f=f.slice(C);break}else C===y-1&&(f=f.slice(y));return f}function kR(e,t){var a=t.measureLocation,o=t.prefix,f=t.targetText,y=t.selectionStart,C=t.split,w=e.slice(0,a);w[w.length-C.length]===C&&(w=w.slice(0,w.length-C.length)),w&&(w="".concat(w).concat(C));var I=FR(e.slice(y),f.slice(y-a-o.length),C);I.slice(0,C.length)===C&&(I=I.slice(C.length));var D="".concat(w).concat(o).concat(f).concat(C);return{text:"".concat(D).concat(I),selectionLocation:D.length}}function jR(e,t){e.setSelectionRange(t,t),e.blur(),e.focus()}function ZR(e,t){return!t||e.indexOf(t)===-1}function VR(e,t){var a=t.value,o=a===void 0?"":a,f=e.toLowerCase();return o.toLowerCase().indexOf(f)!==-1}var HR=["prefixCls","className","style","prefix","split","notFoundContent","value","defaultValue","children","options","open","allowClear","silent","validateSearch","filterOption","onChange","onKeyDown","onKeyUp","onPressEnter","onSearch","onSelect","onFocus","onBlur","transitionName","placement","direction","getPopupContainer","dropdownClassName","rows","visible","onPopupScroll"],UR=["suffix","prefixCls","defaultValue","value","allowClear","onChange","classNames","className","disabled","onClear"],WR=(0,s.forwardRef)(function(e,t){var a=e.prefixCls,o=e.className,f=e.style,y=e.prefix,C=y===void 0?"@":y,w=e.split,I=w===void 0?" ":w,D=e.notFoundContent,z=D===void 0?"Not Found":D,L=e.value,k=e.defaultValue,Z=e.children,j=e.options,G=e.open,H=e.allowClear,K=e.silent,ee=e.validateSearch,ie=ee===void 0?ZR:ee,oe=e.filterOption,re=oe===void 0?VR:oe,se=e.onChange,ue=e.onKeyDown,me=e.onKeyUp,pe=e.onPressEnter,ye=e.onSearch,Se=e.onSelect,Ie=e.onFocus,we=e.onBlur,Be=e.transitionName,Re=e.placement,je=e.direction,Ne=e.getPopupContainer,nt=e.dropdownClassName,at=e.rows,Ct=at===void 0?1:at,St=e.visible,_t=e.onPopupScroll,ft=(0,de.Z)(e,HR),vt=(0,s.useMemo)(function(){return Array.isArray(C)?C:[C]},[C]),$t=(0,s.useRef)(null),It=(0,s.useRef)(null),Ft=(0,s.useRef)(null),wt=function(){var Ho;return(Ho=It.current)===null||Ho===void 0||(Ho=Ho.resizableTextArea)===null||Ho===void 0?void 0:Ho.textArea};s.useImperativeHandle(t,function(){var Vo;return{focus:function(){var Do;return(Do=It.current)===null||Do===void 0?void 0:Do.focus()},blur:function(){var Do;return(Do=It.current)===null||Do===void 0?void 0:Do.blur()},textarea:(Vo=It.current)===null||Vo===void 0||(Vo=Vo.resizableTextArea)===null||Vo===void 0?void 0:Vo.textArea,nativeElement:$t.current}});var pn=(0,s.useState)(!1),Bn=(0,Oe.Z)(pn,2),ln=Bn[0],Tn=Bn[1],Kt=(0,s.useState)(""),zt=(0,Oe.Z)(Kt,2),Dn=zt[0],Sn=zt[1],Ir=(0,s.useState)(""),ur=(0,Oe.Z)(Ir,2),Yn=ur[0],qn=ur[1],Rn=(0,s.useState)(0),Jn=(0,Oe.Z)(Rn,2),zr=Jn[0],li=Jn[1],xi=(0,s.useState)(0),Di=(0,Oe.Z)(xi,2),So=Di[0],_i=Di[1],ai=(0,s.useState)(!1),gi=(0,Oe.Z)(ai,2),Gi=gi[0],Pi=gi[1],wo=(0,Fs.Z)("",{defaultValue:k,value:L}),dr=(0,Oe.Z)(wo,2),tr=dr[0],pr=dr[1];(0,s.useEffect)(function(){ln&&Ft.current&&(Ft.current.scrollTop=wt().scrollTop)},[ln]);var Vn=s.useMemo(function(){if(G)for(var Vo=0;Vo<vt.length;Vo+=1){var Ho=vt[Vo],Do=tr.lastIndexOf(Ho);if(Do>=0)return[!0,"",Ho,Do]}return[ln,Dn,Yn,zr]},[G,ln,vt,tr,Dn,Yn,zr]),ri=(0,Oe.Z)(Vn,4),Oi=ri[0],ro=ri[1],Xo=ri[2],$a=ri[3],ta=s.useCallback(function(Vo){var Ho;return j&&j.length>0?Ho=j.map(function(Do){var ls;return(0,X.Z)((0,X.Z)({},Do),{},{key:(ls=Do==null?void 0:Do.key)!==null&&ls!==void 0?ls:Do.value})}):Ho=(0,Wl.Z)(Z).map(function(Do){var ls=Do.props,Ds=Do.key;return(0,X.Z)((0,X.Z)({},ls),{},{label:ls.children,key:Ds||ls.value})}),Ho.filter(function(Do){return re===!1?!0:re(Vo,Do)})},[Z,j,re]),Cs=s.useMemo(function(){return ta(ro)},[ta,ro]),Za=TR(),Ga=function(Ho,Do,ls){Tn(!0),Sn(Ho),qn(Do),li(ls),_i(0)},pa=function(Ho){Tn(!1),li(0),Sn(""),Za(Ho)},ts=function(Ho){pr(Ho),se==null||se(Ho)},As=function(Ho){var Do=Ho.target.value;ts(Do)},bo=function(Ho){var Do,ls=Ho.value,Ds=ls===void 0?"":ls,ka=kR(tr,{measureLocation:$a,targetText:Ds,prefix:Xo,selectionStart:(Do=wt())===null||Do===void 0?void 0:Do.selectionStart,split:I}),ba=ka.text,gs=ka.selectionLocation;ts(ba),pa(function(){jR(wt(),gs)}),Se==null||Se(Ho,Xo)},Ko=function(Ho){var Do=Ho.which;if(ue==null||ue(Ho),!!Oi){if(Do===et.Z.UP||Do===et.Z.DOWN){var ls=Cs.length,Ds=Do===et.Z.UP?-1:1,ka=(So+Ds+ls)%ls;_i(ka),Ho.preventDefault()}else if(Do===et.Z.ESC)pa();else if(Do===et.Z.ENTER){if(Ho.preventDefault(),K)return;if(!Cs.length){pa();return}var ba=Cs[So];bo(ba)}}},Ra=function(Ho){var Do=Ho.key,ls=Ho.which,Ds=Ho.target,ka=NR(Ds),ba=BR(ka,vt),gs=ba.location,vs=ba.prefix;if(me==null||me(Ho),[et.Z.ESC,et.Z.UP,et.Z.DOWN,et.Z.ENTER].indexOf(ls)===-1)if(gs!==-1){var Ys=ka.slice(gs+vs.length),va=ie(Ys,I),Lo=!!ta(Ys).length;va?(Do===vs||Do==="Shift"||ls===et.Z.ALT||Do==="AltGraph"||Oi||Ys!==ro&&Lo)&&Ga(Ys,vs,gs):Oi&&pa(),ye&&va&&ye(Ys,vs)}else Oi&&pa()},Ka=function(Ho){!Oi&&pe&&pe(Ho)},ss=(0,s.useRef)(),ll=function(Ho){window.clearTimeout(ss.current),!Gi&&Ho&&Ie&&Ie(Ho),Pi(!0)},Rl=function(Ho){ss.current=window.setTimeout(function(){Pi(!1),pa(),we==null||we(Ho)},0)},yl=function(){ll()},Xl=function(){Rl()},ma=function(Ho){_t==null||_t(Ho)};return s.createElement("div",{className:Y()(a,o),style:f,ref:$t},s.createElement(cE,(0,Ze.Z)({ref:It,value:tr},ft,{rows:Ct,onChange:As,onKeyDown:Ko,onKeyUp:Ra,onPressEnter:Ka,onFocus:ll,onBlur:Rl})),Oi&&s.createElement("div",{ref:Ft,className:"".concat(a,"-measure")},tr.slice(0,$a),s.createElement(OE.Provider,{value:{notFoundContent:z,activeIndex:So,setActiveIndex:_i,selectOption:bo,onFocus:yl,onBlur:Xl,onScroll:ma}},s.createElement(DR,{prefixCls:a,transitionName:Be,placement:Re,direction:je,options:Cs,visible:!0,getPopupContainer:Ne,dropdownClassName:nt},s.createElement("span",null,Xo))),tr.slice($a+Xo.length)))}),$E=(0,s.forwardRef)(function(e,t){var a=e.suffix,o=e.prefixCls,f=o===void 0?"rc-mentions":o,y=e.defaultValue,C=e.value,w=e.allowClear,I=e.onChange,D=e.classNames,z=e.className,L=e.disabled,k=e.onClear,Z=(0,de.Z)(e,UR),j=(0,s.useRef)(null),G=(0,s.useRef)(null);(0,s.useImperativeHandle)(t,function(){var se,ue;return(0,X.Z)((0,X.Z)({},G.current),{},{nativeElement:((se=j.current)===null||se===void 0?void 0:se.nativeElement)||((ue=G.current)===null||ue===void 0?void 0:ue.nativeElement)})});var H=(0,Fs.Z)("",{defaultValue:y,value:C}),K=(0,Oe.Z)(H,2),ee=K[0],ie=K[1],oe=function(ue){ie(ue),I==null||I(ue)},re=function(){oe("")};return s.createElement(lE.Q,{suffix:a,prefixCls:f,value:ee,allowClear:w,handleReset:re,className:z,classNames:D,disabled:L,ref:j,onClear:k},s.createElement(WR,(0,Ze.Z)({className:D==null?void 0:D.mentions,prefixCls:f,ref:G,onChange:oe,disabled:L},Z)))});$E.Option=LR;var GR=$E,AE=GR;function $x(e){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)&&e==null?[]:Array.isArray(e)?e:[e]}const KR=e=>{const{componentCls:t,colorTextDisabled:a,controlItemBgHover:o,controlPaddingHorizontal:f,colorText:y,motionDurationSlow:C,lineHeight:w,controlHeight:I,paddingInline:D,paddingBlock:z,fontSize:L,fontSizeIcon:k,colorTextTertiary:Z,colorTextQuaternary:j,colorBgElevated:G,paddingXXS:H,paddingLG:K,borderRadius:ee,borderRadiusLG:ie,boxShadowSecondary:oe,itemPaddingVertical:re,calc:se}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,Wt.Wf)(e)),(0,sl.ik)(e)),{position:"relative",display:"inline-block",height:"auto",padding:0,overflow:"hidden",lineHeight:w,whiteSpace:"pre-wrap",verticalAlign:"bottom"}),(0,fc.qG)(e)),(0,fc.H8)(e)),(0,fc.Mu)(e)),{"&-affix-wrapper":Object.assign(Object.assign({},(0,sl.ik)(e)),{display:"inline-flex",padding:0,"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[`${t}-suffix`]:{position:"absolute",top:0,insetInlineEnd:D,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto"},[`&:has(${t}-suffix) > ${t} > textarea`]:{paddingInlineEnd:K},[`${t}-clear-icon`]:{position:"absolute",insetInlineEnd:0,insetBlockStart:se(L).mul(w).mul(.5).add(z).equal(),transform:"translateY(-50%)",margin:0,padding:0,color:j,fontSize:k,verticalAlign:-1,cursor:"pointer",transition:`color ${C}`,border:"none",outline:"none",backgroundColor:"transparent","&:hover":{color:Z},"&:active":{color:y},"&-hidden":{visibility:"hidden"}}})}),(0,fc.vc)(e)),{"&-disabled":{"> textarea":Object.assign({},(0,fc.Xy)(e))},[`&, &-affix-wrapper > ${t}`]:{[`> textarea, ${t}-measure`]:{color:y,boxSizing:"border-box",minHeight:e.calc(I).sub(2),margin:0,padding:`${(0,fe.bf)(z)} ${(0,fe.bf)(D)}`,overflow:"inherit",overflowX:"hidden",overflowY:"auto",fontWeight:"inherit",fontSize:"inherit",fontFamily:"inherit",fontStyle:"inherit",fontVariant:"inherit",fontSizeAdjust:"inherit",fontStretch:"inherit",lineHeight:"inherit",direction:"inherit",letterSpacing:"inherit",whiteSpace:"inherit",textAlign:"inherit",verticalAlign:"top",wordWrap:"break-word",wordBreak:"inherit",tabSize:"inherit"},"> textarea":Object.assign({width:"100%",border:"none",outline:"none",resize:"none",backgroundColor:"transparent"},(0,sl.nz)(e.colorTextPlaceholder)),[`${t}-measure`]:{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:-1,color:"transparent",pointerEvents:"none","> span":{display:"inline-block",minHeight:"1em"}}},"&-dropdown":Object.assign(Object.assign({},(0,Wt.Wf)(e)),{position:"absolute",top:-9999,insetInlineStart:-9999,zIndex:e.zIndexPopup,boxSizing:"border-box",fontSize:L,fontVariant:"initial",padding:H,backgroundColor:G,borderRadius:ie,outline:"none",boxShadow:oe,"&-hidden":{display:"none"},[`${t}-dropdown-menu`]:{maxHeight:e.dropdownHeight,margin:0,paddingInlineStart:0,overflow:"auto",listStyle:"none",outline:"none","&-item":Object.assign(Object.assign({},Wt.vS),{position:"relative",display:"block",minWidth:e.controlItemWidth,padding:`${(0,fe.bf)(re)} ${(0,fe.bf)(f)}`,color:y,borderRadius:ee,fontWeight:"normal",lineHeight:w,cursor:"pointer",transition:`background ${C} ease`,"&:hover":{backgroundColor:o},"&-disabled":{color:a,cursor:"not-allowed","&:hover":{color:a,backgroundColor:o,cursor:"not-allowed"}},"&-selected":{color:y,fontWeight:e.fontWeightStrong,backgroundColor:o},"&-active":{backgroundColor:o}})}})})}},XR=e=>Object.assign(Object.assign({},(0,Cu.T)(e)),{dropdownHeight:250,controlItemWidth:100,zIndexPopup:e.zIndexPopupBase+50,itemPaddingVertical:(e.controlHeight-e.fontHeight)/2});var YR=(0,te.I$)("Mentions",e=>{const t=(0,Ur.IX)(e,(0,Cu.e)(e));return[KR(t)]},XR),qR=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const{Option:DE}=AE;function JR(){return!0}const M_=s.forwardRef((e,t)=>{const{prefixCls:a,className:o,rootClassName:f,disabled:y,loading:C,filterOption:w,children:I,notFoundContent:D,options:z,status:L,allowClear:k=!1,popupClassName:Z,style:j,variant:G}=e,H=qR(e,["prefixCls","className","rootClassName","disabled","loading","filterOption","children","notFoundContent","options","status","allowClear","popupClassName","style","variant"]),[K,ee]=s.useState(!1),ie=s.useRef(null),oe=(0,Gt.sQ)(t,ie),{getPrefixCls:re,renderEmpty:se,direction:ue,mentions:me}=s.useContext(ve.E_),{status:pe,hasFeedback:ye,feedbackIcon:Se}=s.useContext($c.aM),Ie=(0,Fc.F)(pe,L),we=function(){H.onFocus&&H.onFocus.apply(H,arguments),ee(!0)},Be=function(){H.onBlur&&H.onBlur.apply(H,arguments),ee(!1)},Re=s.useMemo(()=>D!==void 0?D:(se==null?void 0:se("Select"))||s.createElement(Wf.Z,{componentName:"Select"}),[D,se]),je=s.useMemo(()=>C?s.createElement(DE,{value:"ANTD_SEARCHING",disabled:!0},s.createElement(gv,{size:"small"})):I,[C,I]),Ne=C?[{value:"ANTD_SEARCHING",disabled:!0,label:s.createElement(gv,{size:"small"})}]:z,nt=C?JR:w,at=re("mentions",a),Ct=(0,uE.Z)(k),St=(0,Fn.Z)(at),[_t,ft,vt]=YR(at,St),[$t,It]=(0,jf.Z)("mentions",G),Ft=ye&&s.createElement(s.Fragment,null,Se),wt=Y()(me==null?void 0:me.className,o,f,vt,St),pn=s.createElement(AE,Object.assign({silent:C,prefixCls:at,notFoundContent:Re,className:wt,disabled:y,allowClear:Ct,direction:ue,style:Object.assign(Object.assign({},me==null?void 0:me.style),j)},H,{filterOption:nt,onFocus:we,onBlur:Be,dropdownClassName:Y()(Z,f,ft,vt,St),ref:oe,options:Ne,suffix:Ft,classNames:{mentions:Y()({[`${at}-disabled`]:y,[`${at}-focused`]:K,[`${at}-rtl`]:ue==="rtl"},ft),variant:Y()({[`${at}-${$t}`]:It},(0,Fc.Z)(at,Ie)),affixWrapper:ft}}),je);return _t(pn)});M_.Option=DE;const QR=(0,vl.Z)(M_,void 0,void 0,"mentions");M_._InternalPanelDoNotUseOrYouWillBeFired=QR,M_.getMentions=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{prefix:a="@",split:o=" "}=t,f=$x(a);return e.split(o).map(function(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",C=null;return f.some(w=>y.slice(0,w.length)===w?(C=w,!0):!1),C!==null?{prefix:C,value:y.slice(C.length)}:null}).filter(y=>!!y&&!!y.value)};var e$=M_;let Ed=null,zg=e=>e(),T_=[],P_={};function zE(){const{getContainer:e,duration:t,rtl:a,maxCount:o,top:f}=P_,y=(e==null?void 0:e())||document.body;return{getContainer:()=>y,duration:t,rtl:a,maxCount:o,top:f}}const t$=s.forwardRef((e,t)=>{const{messageConfig:a,sync:o}=e,{getPrefixCls:f}=(0,s.useContext)(ve.E_),y=P_.prefixCls||f("message"),C=(0,s.useContext)(Ll),[w,I]=Co(Object.assign(Object.assign(Object.assign({},a),{prefixCls:y}),C.message));return s.useImperativeHandle(t,()=>{const D=Object.assign({},w);return Object.keys(D).forEach(z=>{D[z]=function(){return o(),w[z].apply(w,arguments)}}),{instance:D,sync:o}}),I}),n$=s.forwardRef((e,t)=>{const[a,o]=s.useState(zE),f=()=>{o(zE)};s.useEffect(f,[]);const y=(0,Fi.w6)(),C=y.getRootPrefixCls(),w=y.getIconPrefixCls(),I=y.getTheme(),D=s.createElement(t$,{ref:t,sync:f,messageConfig:a});return s.createElement(Fi.ZP,{prefixCls:C,iconPrefixCls:w,theme:I},y.holderRender?y.holderRender(D):D)});function Ax(){if(!Ed){const e=document.createDocumentFragment(),t={fragment:e};Ed=t,zg(()=>{(0,Qo.x)()(s.createElement(n$,{ref:o=>{const{instance:f,sync:y}=o||{};Promise.resolve().then(()=>{!t.instance&&f&&(t.instance=f,t.sync=y,Ax())})}}),e)});return}Ed.instance&&(T_.forEach(e=>{const{type:t,skipped:a}=e;if(!a)switch(t){case"open":{zg(()=>{const o=Ed.instance.open(Object.assign(Object.assign({},P_),e.config));o==null||o.then(e.resolve),e.setCloseFn(o)});break}case"destroy":zg(()=>{Ed==null||Ed.instance.destroy(e.key)});break;default:zg(()=>{var o;const f=(o=Ed.instance)[t].apply(o,(0,xe.Z)(e.args));f==null||f.then(e.resolve),e.setCloseFn(f)})}}),T_=[])}function r$(e){P_=Object.assign(Object.assign({},P_),e),zg(()=>{var t;(t=Ed==null?void 0:Ed.sync)===null||t===void 0||t.call(Ed)})}function i$(e){const t=Io(a=>{let o;const f={type:"open",config:e,resolve:a,setCloseFn:y=>{o=y}};return T_.push(f),()=>{o?zg(()=>{o()}):f.skipped=!0}});return Ax(),t}function o$(e,t){const a=(0,Fi.w6)(),o=Io(f=>{let y;const C={type:e,args:t,resolve:f,setCloseFn:w=>{y=w}};return T_.push(C),()=>{y?zg(()=>{y()}):C.skipped=!0}});return Ax(),o}const a$=e=>{T_.push({type:"destroy",key:e}),Ax()},s$=["success","info","warning","error","loading"],LE={open:i$,destroy:a$,config:r$,useMessage:mo,_InternalPanelDoNotUseOrYouWillBeFired:co};s$.forEach(e=>{LE[e]=function(){for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return o$(e,a)}});const rk=()=>{};let ik=null,ok=null;var l$=LE,c$=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const u$=e=>{const{prefixCls:t,className:a,closeIcon:o,closable:f,type:y,title:C,children:w,footer:I}=e,D=c$(e,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:z}=s.useContext(ve.E_),L=z(),k=t||z("modal"),Z=(0,Fn.Z)(L),[j,G,H]=fp(k,Z),K=`${k}-confirm`;let ee={};return y?ee={closable:f!=null?f:!1,title:"",footer:"",children:s.createElement(tm,Object.assign({},e,{prefixCls:k,confirmPrefixCls:K,rootPrefixCls:L,content:w}))}:ee={closable:f!=null?f:!0,title:C,footer:I!==null&&s.createElement(Pl,Object.assign({},e)),children:w},j(s.createElement(ns,Object.assign({prefixCls:k,className:Y()(G,`${k}-pure-panel`,y&&K,y&&`${K}-${y}`,a,H,Z)},D,{closeIcon:_c(k,o),closable:f},ee)))};var d$=(0,vl.i)(u$);function NE(e){return Bd(rm(e))}const tf=Zg;tf.useModal=mf,tf.info=function(t){return Bd(pp(t))},tf.success=function(t){return Bd(im(t))},tf.error=function(t){return Bd(ff(t))},tf.warning=NE,tf.warn=NE,tf.confirm=function(t){return Bd(uh(t))},tf.destroyAll=function(){for(;Wu.length;){const t=Wu.pop();t&&t()}},tf.config=gp,tf._InternalPanelDoNotUseOrYouWillBeFired=d$;var f$=tf;let nf=null,Dx=e=>e(),zx=[],O_={};function BE(){const{getContainer:e,rtl:t,maxCount:a,top:o,bottom:f,showProgress:y,pauseOnHover:C}=O_,w=(e==null?void 0:e())||document.body;return{getContainer:()=>w,rtl:t,maxCount:a,top:o,bottom:f,showProgress:y,pauseOnHover:C}}const h$=s.forwardRef((e,t)=>{const{notificationConfig:a,sync:o}=e,{getPrefixCls:f}=(0,s.useContext)(ve.E_),y=O_.prefixCls||f("notification"),C=(0,s.useContext)(Ll),[w,I]=Pu(Object.assign(Object.assign(Object.assign({},a),{prefixCls:y}),C.notification));return s.useEffect(o,[]),s.useImperativeHandle(t,()=>{const D=Object.assign({},w);return Object.keys(D).forEach(z=>{D[z]=function(){return o(),w[z].apply(w,arguments)}}),{instance:D,sync:o}}),I}),m$=s.forwardRef((e,t)=>{const[a,o]=s.useState(BE),f=()=>{o(BE)};s.useEffect(f,[]);const y=(0,Fi.w6)(),C=y.getRootPrefixCls(),w=y.getIconPrefixCls(),I=y.getTheme(),D=s.createElement(h$,{ref:t,sync:f,notificationConfig:a});return s.createElement(Fi.ZP,{prefixCls:C,iconPrefixCls:w,theme:I},y.holderRender?y.holderRender(D):D)});function JS(){if(!nf){const e=document.createDocumentFragment(),t={fragment:e};nf=t,Dx(()=>{(0,Qo.x)()(s.createElement(m$,{ref:o=>{const{instance:f,sync:y}=o||{};Promise.resolve().then(()=>{!t.instance&&f&&(t.instance=f,t.sync=y,JS())})}}),e)});return}nf.instance&&(zx.forEach(e=>{switch(e.type){case"open":{Dx(()=>{nf.instance.open(Object.assign(Object.assign({},O_),e.config))});break}case"destroy":Dx(()=>{nf==null||nf.instance.destroy(e.key)});break}}),zx=[])}function p$(e){O_=Object.assign(Object.assign({},O_),e),Dx(()=>{var t;(t=nf==null?void 0:nf.sync)===null||t===void 0||t.call(nf)})}function FE(e){const t=(0,Fi.w6)();zx.push({type:"open",config:e}),JS()}const g$=e=>{zx.push({type:"destroy",key:e}),JS()},v$=["success","info","warning","error"],kE={open:FE,destroy:g$,config:p$,useNotification:Sp,_InternalPanelDoNotUseOrYouWillBeFired:gf};v$.forEach(e=>{kE[e]=t=>FE(Object.assign(Object.assign({},t),{type:e}))});const sk=()=>{};let lk=null,ck=null;var y$=kE,jE=F(17522),ZE=F(97294);const _$=e=>{const{componentCls:t,iconCls:a,antCls:o,zIndexPopup:f,colorText:y,colorWarning:C,marginXXS:w,marginXS:I,fontSize:D,fontWeightStrong:z,colorTextHeading:L}=e;return{[t]:{zIndex:f,[`&${o}-popover`]:{fontSize:D},[`${t}-message`]:{marginBottom:I,display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${t}-message-icon ${a}`]:{color:C,fontSize:D,lineHeight:1,marginInlineEnd:I},[`${t}-title`]:{fontWeight:z,color:L,"&:only-child":{fontWeight:"normal"}},[`${t}-description`]:{marginTop:w,color:y}},[`${t}-buttons`]:{textAlign:"end",whiteSpace:"nowrap",button:{marginInlineStart:I}}}}},b$=e=>{const{zIndexPopupBase:t}=e;return{zIndexPopup:t+60}};var VE=(0,te.I$)("Popconfirm",e=>_$(e),b$,{resetStyle:!1}),x$=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const HE=e=>{const{prefixCls:t,okButtonProps:a,cancelButtonProps:o,title:f,description:y,cancelText:C,okText:w,okType:I="primary",icon:D=s.createElement(Hn.Z,null),showCancel:z=!0,close:L,onConfirm:k,onCancel:Z,onPopupClick:j}=e,{getPrefixCls:G}=s.useContext(ve.E_),[H]=(0,Ao.Z)("Popconfirm",Ac.Z.Popconfirm),K=(0,jE.Z)(f),ee=(0,jE.Z)(y);return s.createElement("div",{className:`${t}-inner-content`,onClick:j},s.createElement("div",{className:`${t}-message`},D&&s.createElement("span",{className:`${t}-message-icon`},D),s.createElement("div",{className:`${t}-message-text`},K&&s.createElement("div",{className:`${t}-title`},K),ee&&s.createElement("div",{className:`${t}-description`},ee))),s.createElement("div",{className:`${t}-buttons`},z&&s.createElement(wn,Object.assign({onClick:Z,size:"small"},o),C||(H==null?void 0:H.cancelText)),s.createElement(Fr,{buttonProps:Object.assign(Object.assign({size:"small"},Ge(I)),a),actionFn:k,close:L,prefixCls:G("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},w||(H==null?void 0:H.okText))))};var C$=e=>{const{prefixCls:t,placement:a,className:o,style:f}=e,y=x$(e,["prefixCls","placement","className","style"]),{getPrefixCls:C}=s.useContext(ve.E_),w=C("popconfirm",t),[I]=VE(w);return I(s.createElement(ZE.ZP,{placement:a,className:Y()(w,o),style:f,content:s.createElement(HE,Object.assign({prefixCls:w},y))}))},S$=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const UE=s.forwardRef((e,t)=>{var a,o;const{prefixCls:f,placement:y="top",trigger:C="click",okType:w="primary",icon:I=s.createElement(Hn.Z,null),children:D,overlayClassName:z,onOpenChange:L,onVisibleChange:k,overlayStyle:Z,styles:j,classNames:G}=e,H=S$(e,["prefixCls","placement","trigger","okType","icon","children","overlayClassName","onOpenChange","onVisibleChange","overlayStyle","styles","classNames"]),{getPrefixCls:K,className:ee,style:ie,classNames:oe,styles:re}=(0,ve.dj)("popconfirm"),[se,ue]=(0,Fs.Z)(!1,{value:(a=e.open)!==null&&a!==void 0?a:e.visible,defaultValue:(o=e.defaultOpen)!==null&&o!==void 0?o:e.defaultVisible}),me=(Ne,nt)=>{ue(Ne,!0),k==null||k(Ne),L==null||L(Ne,nt)},pe=Ne=>{me(!1,Ne)},ye=Ne=>{var nt;return(nt=e.onConfirm)===null||nt===void 0?void 0:nt.call(void 0,Ne)},Se=Ne=>{var nt;me(!1,Ne),(nt=e.onCancel)===null||nt===void 0||nt.call(void 0,Ne)},Ie=(Ne,nt)=>{const{disabled:at=!1}=e;at||me(Ne,nt)},we=K("popconfirm",f),Be=Y()(we,ee,z,oe.root,G==null?void 0:G.root),Re=Y()(oe.body,G==null?void 0:G.body),[je]=VE(we);return je(s.createElement(Hd.Z,Object.assign({},(0,ci.Z)(H,["title"]),{trigger:C,placement:y,onOpenChange:Ie,open:se,ref:t,classNames:{root:Be,body:Re},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign({},re.root),ie),Z),j==null?void 0:j.root),body:Object.assign(Object.assign({},re.body),j==null?void 0:j.body)},content:s.createElement(HE,Object.assign({okType:w,icon:I},e,{prefixCls:we,close:pe,onConfirm:ye,onCancel:Se})),"data-popover-inject":!0}),D))});UE._InternalPanelDoNotUseOrYouWillBeFired=C$;var w$=UE,QS=F(3642),WE={percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},GE=function(){var t=(0,s.useRef)([]),a=(0,s.useRef)(null);return(0,s.useEffect)(function(){var o=Date.now(),f=!1;t.current.forEach(function(y){if(y){f=!0;var C=y.style;C.transitionDuration=".3s, .3s, .3s, .06s",a.current&&o-a.current<100&&(C.transitionDuration="0s, 0s")}}),f&&(a.current=Date.now())}),t.current},E$=["className","percent","prefixCls","strokeColor","strokeLinecap","strokeWidth","style","trailColor","trailWidth","transition"],I$=function(t){var a=(0,X.Z)((0,X.Z)({},WE),t),o=a.className,f=a.percent,y=a.prefixCls,C=a.strokeColor,w=a.strokeLinecap,I=a.strokeWidth,D=a.style,z=a.trailColor,L=a.trailWidth,k=a.transition,Z=(0,de.Z)(a,E$);delete Z.gapPosition;var j=Array.isArray(f)?f:[f],G=Array.isArray(C)?C:[C],H=GE(),K=I/2,ee=100-I/2,ie="M ".concat(w==="round"?K:0,",").concat(K,`
         L `).concat(w==="round"?ee:100,",").concat(K),oe="0 0 100 ".concat(I),re=0;return s.createElement("svg",(0,Ze.Z)({className:Y()("".concat(y,"-line"),o),viewBox:oe,preserveAspectRatio:"none",style:D},Z),s.createElement("path",{className:"".concat(y,"-line-trail"),d:ie,strokeLinecap:w,stroke:z,strokeWidth:L||I,fillOpacity:"0"}),j.map(function(se,ue){var me=1;switch(w){case"round":me=1-I/100;break;case"square":me=1-I/2/100;break;default:me=1;break}var pe={strokeDasharray:"".concat(se*me,"px, 100px"),strokeDashoffset:"-".concat(re,"px"),transition:k||"stroke-dashoffset 0.3s ease 0s, stroke-dasharray .3s ease 0s, stroke 0.3s linear"},ye=G[ue]||G[G.length-1];return re+=se,s.createElement("path",{key:ue,className:"".concat(y,"-line-path"),d:ie,strokeLinecap:w,stroke:ye,strokeWidth:I,fillOpacity:"0",ref:function(Ie){H[ue]=Ie},style:pe})}))},M$=I$,KE=0,T$=(0,cc.Z)();function P$(){var e;return T$?(e=KE,KE+=1):e="TEST_OR_SSR",e}var O$=function(e){var t=s.useState(),a=(0,Oe.Z)(t,2),o=a[0],f=a[1];return s.useEffect(function(){f("rc_progress_".concat(P$()))},[]),e||o},XE=function(t){var a=t.bg,o=t.children;return s.createElement("div",{style:{width:"100%",height:"100%",background:a}},o)};function YE(e,t){return Object.keys(e).map(function(a){var o=parseFloat(a),f="".concat(Math.floor(o*t),"%");return"".concat(e[a]," ").concat(f)})}var R$=s.forwardRef(function(e,t){var a=e.prefixCls,o=e.color,f=e.gradientId,y=e.radius,C=e.style,w=e.ptg,I=e.strokeLinecap,D=e.strokeWidth,z=e.size,L=e.gapDegree,k=o&&(0,Ye.Z)(o)==="object",Z=k?"#FFF":void 0,j=z/2,G=s.createElement("circle",{className:"".concat(a,"-circle-path"),r:y,cx:j,cy:j,stroke:Z,strokeLinecap:I,strokeWidth:D,opacity:w===0?0:1,style:C,ref:t});if(!k)return G;var H="".concat(f,"-conic"),K=L?"".concat(180+L/2,"deg"):"0deg",ee=YE(o,(360-L)/360),ie=YE(o,1),oe="conic-gradient(from ".concat(K,", ").concat(ee.join(", "),")"),re="linear-gradient(to ".concat(L?"bottom":"top",", ").concat(ie.join(", "),")");return s.createElement(s.Fragment,null,s.createElement("mask",{id:H},G),s.createElement("foreignObject",{x:0,y:0,width:z,height:z,mask:"url(#".concat(H,")")},s.createElement(XE,{bg:re},s.createElement(XE,{bg:oe}))))}),$$=R$,R_=100,ew=function(t,a,o,f,y,C,w,I,D,z){var L=arguments.length>10&&arguments[10]!==void 0?arguments[10]:0,k=o/100*360*((360-C)/360),Z=C===0?0:{bottom:0,top:180,left:90,right:-90}[w],j=(100-f)/100*a;D==="round"&&f!==100&&(j+=z/2,j>=a&&(j=a-.01));var G=R_/2;return{stroke:typeof I=="string"?I:void 0,strokeDasharray:"".concat(a,"px ").concat(t),strokeDashoffset:j+L,transform:"rotate(".concat(y+k+Z,"deg)"),transformOrigin:"".concat(G,"px ").concat(G,"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},A$=["id","prefixCls","steps","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function qE(e){var t=e!=null?e:[];return Array.isArray(t)?t:[t]}var D$=function(t){var a=(0,X.Z)((0,X.Z)({},WE),t),o=a.id,f=a.prefixCls,y=a.steps,C=a.strokeWidth,w=a.trailWidth,I=a.gapDegree,D=I===void 0?0:I,z=a.gapPosition,L=a.trailColor,k=a.strokeLinecap,Z=a.style,j=a.className,G=a.strokeColor,H=a.percent,K=(0,de.Z)(a,A$),ee=R_/2,ie=O$(o),oe="".concat(ie,"-gradient"),re=ee-C/2,se=Math.PI*2*re,ue=D>0?90+D/2:-90,me=se*((360-D)/360),pe=(0,Ye.Z)(y)==="object"?y:{count:y,gap:2},ye=pe.count,Se=pe.gap,Ie=qE(H),we=qE(G),Be=we.find(function(St){return St&&(0,Ye.Z)(St)==="object"}),Re=Be&&(0,Ye.Z)(Be)==="object",je=Re?"butt":k,Ne=ew(se,me,0,100,ue,D,z,L,je,C),nt=GE(),at=function(){var _t=0;return Ie.map(function(ft,vt){var $t=we[vt]||we[we.length-1],It=ew(se,me,_t,ft,ue,D,z,$t,je,C);return _t+=ft,s.createElement($$,{key:vt,color:$t,ptg:ft,radius:re,prefixCls:f,gradientId:oe,style:It,strokeLinecap:je,strokeWidth:C,gapDegree:D,ref:function(wt){nt[vt]=wt},size:R_})}).reverse()},Ct=function(){var _t=Math.round(ye*(Ie[0]/100)),ft=100/ye,vt=0;return new Array(ye).fill(null).map(function($t,It){var Ft=It<=_t-1?we[0]:L,wt=Ft&&(0,Ye.Z)(Ft)==="object"?"url(#".concat(oe,")"):void 0,pn=ew(se,me,vt,ft,ue,D,z,Ft,"butt",C,Se);return vt+=(me-pn.strokeDashoffset+Se)*100/me,s.createElement("circle",{key:It,className:"".concat(f,"-circle-path"),r:re,cx:ee,cy:ee,stroke:wt,strokeWidth:C,opacity:1,style:pn,ref:function(ln){nt[It]=ln}})})};return s.createElement("svg",(0,Ze.Z)({className:Y()("".concat(f,"-circle"),j),viewBox:"0 0 ".concat(R_," ").concat(R_),style:Z,id:o,role:"presentation"},K),!ye&&s.createElement("circle",{className:"".concat(f,"-circle-trail"),r:re,cx:ee,cy:ee,stroke:L,strokeLinecap:je,strokeWidth:w||C,style:Ne}),ye?Ct():at())},JE=D$,fk={Line:M$,Circle:JE},Qm=F(68640);function ep(e){return!e||e<0?0:e>100?100:e}function Lx(e){let{success:t,successPercent:a}=e,o=a;return t&&"progress"in t&&(o=t.progress),t&&"percent"in t&&(o=t.percent),o}const z$=e=>{let{percent:t,success:a,successPercent:o}=e;const f=ep(Lx({success:a,successPercent:o}));return[f,ep(ep(t)-f)]},L$=e=>{let{success:t={},strokeColor:a}=e;const{strokeColor:o}=t;return[o||Qm.ez.green,a||null]},Nx=(e,t,a)=>{var o,f,y,C;let w=-1,I=-1;if(t==="step"){const D=a.steps,z=a.strokeWidth;typeof e=="string"||typeof e=="undefined"?(w=e==="small"?2:14,I=z!=null?z:8):typeof e=="number"?[w,I]=[e,e]:[w=14,I=8]=Array.isArray(e)?e:[e.width,e.height],w*=D}else if(t==="line"){const D=a==null?void 0:a.strokeWidth;typeof e=="string"||typeof e=="undefined"?I=D||(e==="small"?6:8):typeof e=="number"?[w,I]=[e,e]:[w=-1,I=8]=Array.isArray(e)?e:[e.width,e.height]}else(t==="circle"||t==="dashboard")&&(typeof e=="string"||typeof e=="undefined"?[w,I]=e==="small"?[60,60]:[120,120]:typeof e=="number"?[w,I]=[e,e]:Array.isArray(e)&&(w=(f=(o=e[0])!==null&&o!==void 0?o:e[1])!==null&&f!==void 0?f:120,I=(C=(y=e[0])!==null&&y!==void 0?y:e[1])!==null&&C!==void 0?C:120));return[w,I]},N$=3,B$=e=>N$/e*100;var F$=e=>{const{prefixCls:t,trailColor:a=null,strokeLinecap:o="round",gapPosition:f,gapDegree:y,width:C=120,type:w,children:I,success:D,size:z=C,steps:L}=e,[k,Z]=Nx(z,"circle");let{strokeWidth:j}=e;j===void 0&&(j=Math.max(B$(k),6));const G={width:k,height:Z,fontSize:k*.15+6},H=s.useMemo(()=>{if(y||y===0)return y;if(w==="dashboard")return 75},[y,w]),K=z$(e),ee=f||w==="dashboard"&&"bottom"||void 0,ie=Object.prototype.toString.call(e.strokeColor)==="[object Object]",oe=L$({success:D,strokeColor:e.strokeColor}),re=Y()(`${t}-inner`,{[`${t}-circle-gradient`]:ie}),se=s.createElement(JE,{steps:L,percent:L?K[1]:K,strokeWidth:j,trailWidth:j,strokeColor:L?oe[1]:oe,strokeLinecap:o,trailColor:a,prefixCls:t,gapDegree:H,gapPosition:ee}),ue=k<=20,me=s.createElement("div",{className:re,style:G},se,!ue&&I);return ue?s.createElement(Du.Z,{title:I},me):me};const Bx="--progress-line-stroke-color",QE="--progress-percent",eI=e=>{const t=e?"100%":"-100%";return new fe.E4(`antProgress${e?"RTL":"LTR"}Active`,{"0%":{transform:`translateX(${t}) scaleX(0)`,opacity:.1},"20%":{transform:`translateX(${t}) scaleX(0)`,opacity:.5},to:{transform:"translateX(0) scaleX(1)",opacity:0}})},k$=e=>{const{componentCls:t,iconCls:a}=e;return{[t]:Object.assign(Object.assign({},(0,Wt.Wf)(e)),{display:"inline-block","&-rtl":{direction:"rtl"},"&-line":{position:"relative",width:"100%",fontSize:e.fontSize},[`${t}-outer`]:{display:"inline-flex",alignItems:"center",width:"100%"},[`${t}-inner`]:{position:"relative",display:"inline-block",width:"100%",flex:1,overflow:"hidden",verticalAlign:"middle",backgroundColor:e.remainingColor,borderRadius:e.lineBorderRadius},[`${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.defaultColor}},[`${t}-success-bg, ${t}-bg`]:{position:"relative",background:e.defaultColor,borderRadius:e.lineBorderRadius,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOutCirc}`},[`${t}-layout-bottom`]:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",[`${t}-text`]:{width:"max-content",marginInlineStart:0,marginTop:e.marginXXS}},[`${t}-bg`]:{overflow:"hidden","&::after":{content:'""',background:{_multi_value_:!0,value:["inherit",`var(${Bx})`]},height:"100%",width:`calc(1 / var(${QE}) * 100%)`,display:"block"},[`&${t}-bg-inner`]:{minWidth:"max-content","&::after":{content:"none"},[`${t}-text-inner`]:{color:e.colorWhite,[`&${t}-text-bright`]:{color:"rgba(0, 0, 0, 0.45)"}}}},[`${t}-success-bg`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,backgroundColor:e.colorSuccess},[`${t}-text`]:{display:"inline-block",marginInlineStart:e.marginXS,color:e.colorText,lineHeight:1,width:"2em",whiteSpace:"nowrap",textAlign:"start",verticalAlign:"middle",wordBreak:"normal",[a]:{fontSize:e.fontSize},[`&${t}-text-outer`]:{width:"max-content"},[`&${t}-text-outer${t}-text-start`]:{width:"max-content",marginInlineStart:0,marginInlineEnd:e.marginXS}},[`${t}-text-inner`]:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",marginInlineStart:0,padding:`0 ${(0,fe.bf)(e.paddingXXS)}`,[`&${t}-text-start`]:{justifyContent:"start"},[`&${t}-text-end`]:{justifyContent:"end"}},[`&${t}-status-active`]:{[`${t}-bg::before`]:{position:"absolute",inset:0,backgroundColor:e.colorBgContainer,borderRadius:e.lineBorderRadius,opacity:0,animationName:eI(),animationDuration:e.progressActiveMotionDuration,animationTimingFunction:e.motionEaseOutQuint,animationIterationCount:"infinite",content:'""'}},[`&${t}-rtl${t}-status-active`]:{[`${t}-bg::before`]:{animationName:eI(!0)}},[`&${t}-status-exception`]:{[`${t}-bg`]:{backgroundColor:e.colorError},[`${t}-text`]:{color:e.colorError}},[`&${t}-status-exception ${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorError}},[`&${t}-status-success`]:{[`${t}-bg`]:{backgroundColor:e.colorSuccess},[`${t}-text`]:{color:e.colorSuccess}},[`&${t}-status-success ${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorSuccess}}})}},j$=e=>{const{componentCls:t,iconCls:a}=e;return{[t]:{[`${t}-circle-trail`]:{stroke:e.remainingColor},[`&${t}-circle ${t}-inner`]:{position:"relative",lineHeight:1,backgroundColor:"transparent"},[`&${t}-circle ${t}-text`]:{position:"absolute",insetBlockStart:"50%",insetInlineStart:0,width:"100%",margin:0,padding:0,color:e.circleTextColor,fontSize:e.circleTextFontSize,lineHeight:1,whiteSpace:"normal",textAlign:"center",transform:"translateY(-50%)",[a]:{fontSize:e.circleIconFontSize}},[`${t}-circle&-status-exception`]:{[`${t}-text`]:{color:e.colorError}},[`${t}-circle&-status-success`]:{[`${t}-text`]:{color:e.colorSuccess}}},[`${t}-inline-circle`]:{lineHeight:1,[`${t}-inner`]:{verticalAlign:"bottom"}}}},Z$=e=>{const{componentCls:t}=e;return{[t]:{[`${t}-steps`]:{display:"inline-block","&-outer":{display:"flex",flexDirection:"row",alignItems:"center"},"&-item":{flexShrink:0,minWidth:e.progressStepMinWidth,marginInlineEnd:e.progressStepMarginInlineEnd,backgroundColor:e.remainingColor,transition:`all ${e.motionDurationSlow}`,"&-active":{backgroundColor:e.defaultColor}}}}}},V$=e=>{const{componentCls:t,iconCls:a}=e;return{[t]:{[`${t}-small&-line, ${t}-small&-line ${t}-text ${a}`]:{fontSize:e.fontSizeSM}}}},H$=e=>({circleTextColor:e.colorText,defaultColor:e.colorInfo,remainingColor:e.colorFillSecondary,lineBorderRadius:100,circleTextFontSize:"1em",circleIconFontSize:`${e.fontSize/e.fontSizeSM}em`});var U$=(0,te.I$)("Progress",e=>{const t=e.calc(e.marginXXS).div(2).equal(),a=(0,Ur.IX)(e,{progressStepMarginInlineEnd:t,progressStepMinWidth:t,progressActiveMotionDuration:"2.4s"});return[k$(a),j$(a),Z$(a),V$(a)]},H$),W$=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const G$=e=>{let t=[];return Object.keys(e).forEach(a=>{const o=parseFloat(a.replace(/%/g,""));Number.isNaN(o)||t.push({key:o,value:e[a]})}),t=t.sort((a,o)=>a.key-o.key),t.map(a=>{let{key:o,value:f}=a;return`${f} ${o}%`}).join(", ")},K$=(e,t)=>{const{from:a=Qm.ez.blue,to:o=Qm.ez.blue,direction:f=t==="rtl"?"to left":"to right"}=e,y=W$(e,["from","to","direction"]);if(Object.keys(y).length!==0){const w=G$(y),I=`linear-gradient(${f}, ${w})`;return{background:I,[Bx]:I}}const C=`linear-gradient(${f}, ${a}, ${o})`;return{background:C,[Bx]:C}};var X$=e=>{const{prefixCls:t,direction:a,percent:o,size:f,strokeWidth:y,strokeColor:C,strokeLinecap:w="round",children:I,trailColor:D=null,percentPosition:z,success:L}=e,{align:k,type:Z}=z,j=C&&typeof C!="string"?K$(C,a):{[Bx]:C,background:C},G=w==="square"||w==="butt"?0:void 0,H=f!=null?f:[-1,y||(f==="small"?6:8)],[K,ee]=Nx(H,"line",{strokeWidth:y}),ie={backgroundColor:D||void 0,borderRadius:G},oe=Object.assign(Object.assign({width:`${ep(o)}%`,height:ee,borderRadius:G},j),{[QE]:ep(o)/100}),re=Lx(e),se={width:`${ep(re)}%`,height:ee,borderRadius:G,backgroundColor:L==null?void 0:L.strokeColor},ue={width:K<0?"100%":K},me=s.createElement("div",{className:`${t}-inner`,style:ie},s.createElement("div",{className:Y()(`${t}-bg`,`${t}-bg-${Z}`),style:oe},Z==="inner"&&I),re!==void 0&&s.createElement("div",{className:`${t}-success-bg`,style:se})),pe=Z==="outer"&&k==="start",ye=Z==="outer"&&k==="end";return Z==="outer"&&k==="center"?s.createElement("div",{className:`${t}-layout-bottom`},me,I):s.createElement("div",{className:`${t}-outer`,style:ue},pe&&I,me,ye&&I)},Y$=e=>{const{size:t,steps:a,rounding:o=Math.round,percent:f=0,strokeWidth:y=8,strokeColor:C,trailColor:w=null,prefixCls:I,children:D}=e,z=o(a*(f/100)),L=t==="small"?2:14,k=t!=null?t:[L,y],[Z,j]=Nx(k,"step",{steps:a,strokeWidth:y}),G=Z/a,H=Array.from({length:a});for(let K=0;K<a;K++){const ee=Array.isArray(C)?C[K]:C;H[K]=s.createElement("div",{key:K,className:Y()(`${I}-steps-item`,{[`${I}-steps-item-active`]:K<=z-1}),style:{backgroundColor:K<=z-1?ee:w,width:G,height:j}})}return s.createElement("div",{className:`${I}-steps-outer`},H,D)},q$=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const gk=null,J$=["normal","exception","active","success"];var Q$=s.forwardRef((e,t)=>{const{prefixCls:a,className:o,rootClassName:f,steps:y,strokeColor:C,percent:w=0,size:I="default",showInfo:D=!0,type:z="line",status:L,format:k,style:Z,percentPosition:j={}}=e,G=q$(e,["prefixCls","className","rootClassName","steps","strokeColor","percent","size","showInfo","type","status","format","style","percentPosition"]),{align:H="end",type:K="outer"}=j,ee=Array.isArray(C)?C[0]:C,ie=typeof C=="string"||Array.isArray(C)?C:void 0,oe=s.useMemo(()=>{if(ee){const at=typeof ee=="string"?ee:Object.values(ee)[0];return new Sl.t(at).isLight()}return!1},[C]),re=s.useMemo(()=>{var at,Ct;const St=Lx(e);return parseInt(St!==void 0?(at=St!=null?St:0)===null||at===void 0?void 0:at.toString():(Ct=w!=null?w:0)===null||Ct===void 0?void 0:Ct.toString(),10)},[w,e.success,e.successPercent]),se=s.useMemo(()=>!J$.includes(L)&&re>=100?"success":L||"normal",[L,re]),{getPrefixCls:ue,direction:me,progress:pe}=s.useContext(ve.E_),ye=ue("progress",a),[Se,Ie,we]=U$(ye),Be=z==="line",Re=Be&&!y,je=s.useMemo(()=>{if(!D)return null;const at=Lx(e);let Ct;const St=k||(ft=>`${ft}%`),_t=Be&&oe&&K==="inner";return K==="inner"||k||se!=="exception"&&se!=="success"?Ct=St(ep(w),ep(at)):se==="exception"?Ct=Be?s.createElement(hr.Z,null):s.createElement(er.Z,null):se==="success"&&(Ct=Be?s.createElement(Lt.Z,null):s.createElement(QS.Z,null)),s.createElement("span",{className:Y()(`${ye}-text`,{[`${ye}-text-bright`]:_t,[`${ye}-text-${H}`]:Re,[`${ye}-text-${K}`]:Re}),title:typeof Ct=="string"?Ct:void 0},Ct)},[D,w,re,se,z,ye,k]);let Ne;z==="line"?Ne=y?s.createElement(Y$,Object.assign({},e,{strokeColor:ie,prefixCls:ye,steps:typeof y=="object"?y.count:y}),je):s.createElement(X$,Object.assign({},e,{strokeColor:ee,prefixCls:ye,direction:me,percentPosition:{align:H,type:K}}),je):(z==="circle"||z==="dashboard")&&(Ne=s.createElement(F$,Object.assign({},e,{strokeColor:ee,prefixCls:ye,progressStatus:se}),je));const nt=Y()(ye,`${ye}-status-${se}`,{[`${ye}-${z==="dashboard"&&"circle"||z}`]:z!=="line",[`${ye}-inline-circle`]:z==="circle"&&Nx(I,"circle")[0]<=20,[`${ye}-line`]:Re,[`${ye}-line-align-${H}`]:Re,[`${ye}-line-position-${K}`]:Re,[`${ye}-steps`]:y,[`${ye}-show-info`]:D,[`${ye}-${I}`]:typeof I=="string",[`${ye}-rtl`]:me==="rtl"},pe==null?void 0:pe.className,o,f,Ie,we);return Se(s.createElement("div",Object.assign({ref:t,style:Object.assign(Object.assign({},pe==null?void 0:pe.style),Z),className:nt,role:"progressbar","aria-valuenow":re,"aria-valuemin":0,"aria-valuemax":100},(0,ci.Z)(G,["trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","success","successPercent"])),Ne))}),tw=Q$,e4=F(62851);function Lg(e,t){var a=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=(0,e4.Z)(e))||t&&e&&typeof e.length=="number"){a&&(e=a);var o=0,f=function(){};return{s:f,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(D){throw D},f}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var y,C=!0,w=!1;return{s:function(){a=a.call(e)},n:function(){var D=a.next();return C=D.done,D},e:function(D){w=!0,y=D},f:function(){try{C||a.return==null||a.return()}finally{if(w)throw y}}}}var vv,$_;function Bu(e,t,a){if(t<0||t>31||e>>>t)throw new RangeError("Value out of range");for(var o=t-1;o>=0;o--)a.push(e>>>o&1)}function Hh(e,t){return(e>>>t&1)!=0}function ad(e){if(!e)throw new Error("Assertion error")}var Gf=function(){function e(t,a){(0,zn.Z)(this,e),(0,he.Z)(this,"modeBits",void 0),(0,he.Z)(this,"numBitsCharCount",void 0),this.modeBits=t,this.numBitsCharCount=a}return(0,dn.Z)(e,[{key:"numCharCountBits",value:function(a){return this.numBitsCharCount[Math.floor((a+7)/17)]}}]),e}();vv=Gf,(0,he.Z)(Gf,"NUMERIC",new vv(1,[10,12,14])),(0,he.Z)(Gf,"ALPHANUMERIC",new vv(2,[9,11,13])),(0,he.Z)(Gf,"BYTE",new vv(4,[8,16,16])),(0,he.Z)(Gf,"KANJI",new vv(8,[8,10,12])),(0,he.Z)(Gf,"ECI",new vv(7,[0,0,0]));var Id=(0,dn.Z)(function e(t,a){(0,zn.Z)(this,e),(0,he.Z)(this,"ordinal",void 0),(0,he.Z)(this,"formatBits",void 0),this.ordinal=t,this.formatBits=a});$_=Id,(0,he.Z)(Id,"LOW",new $_(0,1)),(0,he.Z)(Id,"MEDIUM",new $_(1,0)),(0,he.Z)(Id,"QUARTILE",new $_(2,3)),(0,he.Z)(Id,"HIGH",new $_(3,2));var Ng=function(){function e(t,a,o){if((0,zn.Z)(this,e),(0,he.Z)(this,"mode",void 0),(0,he.Z)(this,"numChars",void 0),(0,he.Z)(this,"bitData",void 0),this.mode=t,this.numChars=a,this.bitData=o,a<0)throw new RangeError("Invalid argument");this.bitData=o.slice()}return(0,dn.Z)(e,[{key:"getData",value:function(){return this.bitData.slice()}}],[{key:"makeBytes",value:function(a){var o=[],f=Lg(a),y;try{for(f.s();!(y=f.n()).done;){var C=y.value;Bu(C,8,o)}}catch(w){f.e(w)}finally{f.f()}return new e(Gf.BYTE,a.length,o)}},{key:"makeNumeric",value:function(a){if(!e.isNumeric(a))throw new RangeError("String contains non-numeric characters");for(var o=[],f=0;f<a.length;){var y=Math.min(a.length-f,3);Bu(parseInt(a.substring(f,f+y),10),y*3+1,o),f+=y}return new e(Gf.NUMERIC,a.length,o)}},{key:"makeAlphanumeric",value:function(a){if(!e.isAlphanumeric(a))throw new RangeError("String contains unencodable characters in alphanumeric mode");var o=[],f;for(f=0;f+2<=a.length;f+=2){var y=e.ALPHANUMERIC_CHARSET.indexOf(a.charAt(f))*45;y+=e.ALPHANUMERIC_CHARSET.indexOf(a.charAt(f+1)),Bu(y,11,o)}return f<a.length&&Bu(e.ALPHANUMERIC_CHARSET.indexOf(a.charAt(f)),6,o),new e(Gf.ALPHANUMERIC,a.length,o)}},{key:"makeSegments",value:function(a){return a==""?[]:e.isNumeric(a)?[e.makeNumeric(a)]:e.isAlphanumeric(a)?[e.makeAlphanumeric(a)]:[e.makeBytes(e.toUtf8ByteArray(a))]}},{key:"makeEci",value:function(a){var o=[];if(a<0)throw new RangeError("ECI assignment value out of range");if(a<128)Bu(a,8,o);else if(a<16384)Bu(2,2,o),Bu(a,14,o);else if(a<1e6)Bu(6,3,o),Bu(a,21,o);else throw new RangeError("ECI assignment value out of range");return new e(Gf.ECI,0,o)}},{key:"isNumeric",value:function(a){return e.NUMERIC_REGEX.test(a)}},{key:"isAlphanumeric",value:function(a){return e.ALPHANUMERIC_REGEX.test(a)}},{key:"getTotalBits",value:function(a,o){var f=0,y=Lg(a),C;try{for(y.s();!(C=y.n()).done;){var w=C.value,I=w.mode.numCharCountBits(o);if(w.numChars>=1<<I)return 1/0;f+=4+I+w.bitData.length}}catch(D){y.e(D)}finally{y.f()}return f}},{key:"toUtf8ByteArray",value:function(a){for(var o=encodeURI(a),f=[],y=0;y<o.length;y++)o.charAt(y)!="%"?f.push(o.charCodeAt(y)):(f.push(parseInt(o.substring(y+1,y+3),16)),y+=2);return f}}]),e}();(0,he.Z)(Ng,"NUMERIC_REGEX",/^[0-9]*$/),(0,he.Z)(Ng,"ALPHANUMERIC_REGEX",/^[A-Z0-9 $%*+.\/:-]*$/),(0,he.Z)(Ng,"ALPHANUMERIC_CHARSET","0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:");var Uh=function(){function e(t,a,o,f){(0,zn.Z)(this,e),(0,he.Z)(this,"size",void 0),(0,he.Z)(this,"mask",void 0),(0,he.Z)(this,"modules",[]),(0,he.Z)(this,"isFunction",[]),(0,he.Z)(this,"version",void 0),(0,he.Z)(this,"errorCorrectionLevel",void 0);var y=f;if(this.version=t,this.errorCorrectionLevel=a,t<e.MIN_VERSION||t>e.MAX_VERSION)throw new RangeError("Version value out of range");if(y<-1||y>7)throw new RangeError("Mask value out of range");this.size=t*4+17;for(var C=[],w=0;w<this.size;w++)C.push(!1);for(var I=0;I<this.size;I++)this.modules.push(C.slice()),this.isFunction.push(C.slice());this.drawFunctionPatterns();var D=this.addEccAndInterleave(o);if(this.drawCodewords(D),y==-1)for(var z=1e9,L=0;L<8;L++){this.applyMask(L),this.drawFormatBits(L);var k=this.getPenaltyScore();k<z&&(y=L,z=k),this.applyMask(L)}ad(0<=y&&y<=7),this.mask=y,this.applyMask(y),this.drawFormatBits(y),this.isFunction=[]}return(0,dn.Z)(e,[{key:"getModule",value:function(a,o){return 0<=a&&a<this.size&&0<=o&&o<this.size&&this.modules[o][a]}},{key:"getModules",value:function(){return this.modules}},{key:"drawFunctionPatterns",value:function(){for(var a=0;a<this.size;a++)this.setFunctionModule(6,a,a%2==0),this.setFunctionModule(a,6,a%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);for(var o=this.getAlignmentPatternPositions(),f=o.length,y=0;y<f;y++)for(var C=0;C<f;C++)y==0&&C==0||y==0&&C==f-1||y==f-1&&C==0||this.drawAlignmentPattern(o[y],o[C]);this.drawFormatBits(0),this.drawVersion()}},{key:"drawFormatBits",value:function(a){for(var o=this.errorCorrectionLevel.formatBits<<3|a,f=o,y=0;y<10;y++)f=f<<1^(f>>>9)*1335;var C=(o<<10|f)^21522;ad(C>>>15==0);for(var w=0;w<=5;w++)this.setFunctionModule(8,w,Hh(C,w));this.setFunctionModule(8,7,Hh(C,6)),this.setFunctionModule(8,8,Hh(C,7)),this.setFunctionModule(7,8,Hh(C,8));for(var I=9;I<15;I++)this.setFunctionModule(14-I,8,Hh(C,I));for(var D=0;D<8;D++)this.setFunctionModule(this.size-1-D,8,Hh(C,D));for(var z=8;z<15;z++)this.setFunctionModule(8,this.size-15+z,Hh(C,z));this.setFunctionModule(8,this.size-8,!0)}},{key:"drawVersion",value:function(){if(!(this.version<7)){for(var a=this.version,o=0;o<12;o++)a=a<<1^(a>>>11)*7973;var f=this.version<<12|a;ad(f>>>18==0);for(var y=0;y<18;y++){var C=Hh(f,y),w=this.size-11+y%3,I=Math.floor(y/3);this.setFunctionModule(w,I,C),this.setFunctionModule(I,w,C)}}}},{key:"drawFinderPattern",value:function(a,o){for(var f=-4;f<=4;f++)for(var y=-4;y<=4;y++){var C=Math.max(Math.abs(y),Math.abs(f)),w=a+y,I=o+f;0<=w&&w<this.size&&0<=I&&I<this.size&&this.setFunctionModule(w,I,C!=2&&C!=4)}}},{key:"drawAlignmentPattern",value:function(a,o){for(var f=-2;f<=2;f++)for(var y=-2;y<=2;y++)this.setFunctionModule(a+y,o+f,Math.max(Math.abs(y),Math.abs(f))!=1)}},{key:"setFunctionModule",value:function(a,o,f){this.modules[o][a]=f,this.isFunction[o][a]=!0}},{key:"addEccAndInterleave",value:function(a){var o=this.version,f=this.errorCorrectionLevel;if(a.length!=e.getNumDataCodewords(o,f))throw new RangeError("Invalid argument");for(var y=e.NUM_ERROR_CORRECTION_BLOCKS[f.ordinal][o],C=e.ECC_CODEWORDS_PER_BLOCK[f.ordinal][o],w=Math.floor(e.getNumRawDataModules(o)/8),I=y-w%y,D=Math.floor(w/y),z=[],L=e.reedSolomonComputeDivisor(C),k=0,Z=0;k<y;k++){var j=a.slice(Z,Z+D-C+(k<I?0:1));Z+=j.length;var G=e.reedSolomonComputeRemainder(j,L);k<I&&j.push(0),z.push(j.concat(G))}for(var H=[],K=function(oe){z.forEach(function(re,se){(oe!=D-C||se>=I)&&H.push(re[oe])})},ee=0;ee<z[0].length;ee++)K(ee);return ad(H.length==w),H}},{key:"drawCodewords",value:function(a){if(a.length!=Math.floor(e.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");for(var o=0,f=this.size-1;f>=1;f-=2){f==6&&(f=5);for(var y=0;y<this.size;y++)for(var C=0;C<2;C++){var w=f-C,I=(f+1&2)==0,D=I?this.size-1-y:y;!this.isFunction[D][w]&&o<a.length*8&&(this.modules[D][w]=Hh(a[o>>>3],7-(o&7)),o++)}}ad(o==a.length*8)}},{key:"applyMask",value:function(a){if(a<0||a>7)throw new RangeError("Mask value out of range");for(var o=0;o<this.size;o++)for(var f=0;f<this.size;f++){var y=void 0;switch(a){case 0:y=(f+o)%2==0;break;case 1:y=o%2==0;break;case 2:y=f%3==0;break;case 3:y=(f+o)%3==0;break;case 4:y=(Math.floor(f/3)+Math.floor(o/2))%2==0;break;case 5:y=f*o%2+f*o%3==0;break;case 6:y=(f*o%2+f*o%3)%2==0;break;case 7:y=((f+o)%2+f*o%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[o][f]&&y&&(this.modules[o][f]=!this.modules[o][f])}}},{key:"getPenaltyScore",value:function(){for(var a=0,o=0;o<this.size;o++){for(var f=!1,y=0,C=[0,0,0,0,0,0,0],w=0;w<this.size;w++)this.modules[o][w]==f?(y++,y==5?a+=e.PENALTY_N1:y>5&&a++):(this.finderPenaltyAddHistory(y,C),f||(a+=this.finderPenaltyCountPatterns(C)*e.PENALTY_N3),f=this.modules[o][w],y=1);a+=this.finderPenaltyTerminateAndCount(f,y,C)*e.PENALTY_N3}for(var I=0;I<this.size;I++){for(var D=!1,z=0,L=[0,0,0,0,0,0,0],k=0;k<this.size;k++)this.modules[k][I]==D?(z++,z==5?a+=e.PENALTY_N1:z>5&&a++):(this.finderPenaltyAddHistory(z,L),D||(a+=this.finderPenaltyCountPatterns(L)*e.PENALTY_N3),D=this.modules[k][I],z=1);a+=this.finderPenaltyTerminateAndCount(D,z,L)*e.PENALTY_N3}for(var Z=0;Z<this.size-1;Z++)for(var j=0;j<this.size-1;j++){var G=this.modules[Z][j];G==this.modules[Z][j+1]&&G==this.modules[Z+1][j]&&G==this.modules[Z+1][j+1]&&(a+=e.PENALTY_N2)}var H=0,K=Lg(this.modules),ee;try{for(K.s();!(ee=K.n()).done;){var ie=ee.value;H=ie.reduce(function(se,ue){return se+(ue?1:0)},H)}}catch(se){K.e(se)}finally{K.f()}var oe=this.size*this.size,re=Math.ceil(Math.abs(H*20-oe*10)/oe)-1;return ad(0<=re&&re<=9),a+=re*e.PENALTY_N4,ad(0<=a&&a<=2568888),a}},{key:"getAlignmentPatternPositions",value:function(){if(this.version==1)return[];for(var a=Math.floor(this.version/7)+2,o=this.version==32?26:Math.ceil((this.version*4+4)/(a*2-2))*2,f=[6],y=this.size-7;f.length<a;y-=o)f.splice(1,0,y);return f}},{key:"finderPenaltyCountPatterns",value:function(a){var o=a[1];ad(o<=this.size*3);var f=o>0&&a[2]==o&&a[3]==o*3&&a[4]==o&&a[5]==o;return(f&&a[0]>=o*4&&a[6]>=o?1:0)+(f&&a[6]>=o*4&&a[0]>=o?1:0)}},{key:"finderPenaltyTerminateAndCount",value:function(a,o,f){var y=o;return a&&(this.finderPenaltyAddHistory(y,f),y=0),y+=this.size,this.finderPenaltyAddHistory(y,f),this.finderPenaltyCountPatterns(f)}},{key:"finderPenaltyAddHistory",value:function(a,o){var f=a;o[0]==0&&(f+=this.size),o.pop(),o.unshift(f)}}],[{key:"encodeText",value:function(a,o){var f=Ng.makeSegments(a);return e.encodeSegments(f,o)}},{key:"encodeBinary",value:function(a,o){var f=Ng.makeBytes(a);return e.encodeSegments([f],o)}},{key:"encodeSegments",value:function(a,o){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:40,C=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1,w=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;if(!(e.MIN_VERSION<=f&&f<=y&&y<=e.MAX_VERSION)||C<-1||C>7)throw new RangeError("Invalid value");var I,D;for(I=f;;I++){var z=e.getNumDataCodewords(I,o)*8,L=Ng.getTotalBits(a,I);if(L<=z){D=L;break}if(I>=y)throw new RangeError("Data too long")}for(var k=o,Z=0,j=[Id.MEDIUM,Id.QUARTILE,Id.HIGH];Z<j.length;Z++){var G=j[Z];w&&D<=e.getNumDataCodewords(I,G)*8&&(k=G)}var H=[],K=Lg(a),ee;try{for(K.s();!(ee=K.n()).done;){var ie=ee.value;Bu(ie.mode.modeBits,4,H),Bu(ie.numChars,ie.mode.numCharCountBits(I),H);var oe=Lg(ie.getData()),re;try{for(oe.s();!(re=oe.n()).done;){var se=re.value;H.push(se)}}catch(ye){oe.e(ye)}finally{oe.f()}}}catch(ye){K.e(ye)}finally{K.f()}ad(H.length==D);var ue=e.getNumDataCodewords(I,k)*8;ad(H.length<=ue),Bu(0,Math.min(4,ue-H.length),H),Bu(0,(8-H.length%8)%8,H),ad(H.length%8==0);for(var me=236;H.length<ue;me^=253)Bu(me,8,H);for(var pe=[];pe.length*8<H.length;)pe.push(0);return H.forEach(function(ye,Se){return pe[Se>>>3]|=ye<<7-(Se&7)}),new e(I,k,pe,C)}},{key:"getNumRawDataModules",value:function(a){if(a<e.MIN_VERSION||a>e.MAX_VERSION)throw new RangeError("Version number out of range");var o=(16*a+128)*a+64;if(a>=2){var f=Math.floor(a/7)+2;o-=(25*f-10)*f-55,a>=7&&(o-=36)}return ad(208<=o&&o<=29648),o}},{key:"getNumDataCodewords",value:function(a,o){return Math.floor(e.getNumRawDataModules(a)/8)-e.ECC_CODEWORDS_PER_BLOCK[o.ordinal][a]*e.NUM_ERROR_CORRECTION_BLOCKS[o.ordinal][a]}},{key:"reedSolomonComputeDivisor",value:function(a){if(a<1||a>255)throw new RangeError("Degree out of range");for(var o=[],f=0;f<a-1;f++)o.push(0);o.push(1);for(var y=1,C=0;C<a;C++){for(var w=0;w<o.length;w++)o[w]=e.reedSolomonMultiply(o[w],y),w+1<o.length&&(o[w]^=o[w+1]);y=e.reedSolomonMultiply(y,2)}return o}},{key:"reedSolomonComputeRemainder",value:function(a,o){var f=o.map(function(){return 0}),y=Lg(a),C;try{var w=function(){var D=C.value,z=D^f.shift();f.push(0),o.forEach(function(L,k){return f[k]^=e.reedSolomonMultiply(L,z)})};for(y.s();!(C=y.n()).done;)w()}catch(I){y.e(I)}finally{y.f()}return f}},{key:"reedSolomonMultiply",value:function(a,o){if(a>>>8||o>>>8)throw new RangeError("Byte out of range");for(var f=0,y=7;y>=0;y--)f=f<<1^(f>>>7)*285,f^=(o>>>y&1)*a;return ad(f>>>8==0),f}}]),e}();(0,he.Z)(Uh,"MIN_VERSION",1),(0,he.Z)(Uh,"MAX_VERSION",40),(0,he.Z)(Uh,"PENALTY_N1",3),(0,he.Z)(Uh,"PENALTY_N2",3),(0,he.Z)(Uh,"PENALTY_N3",40),(0,he.Z)(Uh,"PENALTY_N4",10),(0,he.Z)(Uh,"ECC_CODEWORDS_PER_BLOCK",[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]]),(0,he.Z)(Uh,"NUM_ERROR_CORRECTION_BLOCKS",[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]]);var t4={L:Id.LOW,M:Id.MEDIUM,Q:Id.QUARTILE,H:Id.HIGH},tI=128,nI="L",rI="#FFFFFF",iI="#000000",oI=!1,aI=1,n4=4,r4=0,i4=.1;function sI(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=[];return e.forEach(function(o,f){var y=null;o.forEach(function(C,w){if(!C&&y!==null){a.push("M".concat(y+t," ").concat(f+t,"h").concat(w-y,"v1H").concat(y+t,"z")),y=null;return}if(w===o.length-1){if(!C)return;y===null?a.push("M".concat(w+t,",").concat(f+t," h1v1H").concat(w+t,"z")):a.push("M".concat(y+t,",").concat(f+t," h").concat(w+1-y,"v1H").concat(y+t,"z"));return}C&&y===null&&(y=w)})}),a.join("")}function lI(e,t){return e.slice().map(function(a,o){return o<t.y||o>=t.y+t.h?a:a.map(function(f,y){return y<t.x||y>=t.x+t.w?f:!1})})}function o4(e,t,a,o){if(o==null)return null;var f=e.length+a*2,y=Math.floor(t*i4),C=f/t,w=(o.width||y)*C,I=(o.height||y)*C,D=o.x==null?e.length/2-w/2:o.x*C,z=o.y==null?e.length/2-I/2:o.y*C,L=o.opacity==null?1:o.opacity,k=null;if(o.excavate){var Z=Math.floor(D),j=Math.floor(z),G=Math.ceil(w+D-Z),H=Math.ceil(I+z-j);k={x:Z,y:j,w:G,h:H}}var K=o.crossOrigin;return{x:D,y:z,h:I,w,excavation:k,opacity:L,crossOrigin:K}}function a4(e,t){return t!=null?Math.floor(t):e?n4:r4}var s4=function(){try{new Path2D().addPath(new Path2D)}catch(e){return!1}return!0}();function cI(e){var t=e.value,a=e.level,o=e.minVersion,f=e.includeMargin,y=e.marginSize,C=e.imageSettings,w=e.size,I=(0,s.useMemo)(function(){var j=Ng.makeSegments(t);return Uh.encodeSegments(j,t4[a],o)},[t,a,o]),D=(0,s.useMemo)(function(){var j=I.getModules(),G=a4(f,y),H=j.length+G*2,K=o4(j,w,G,C);return{cells:j,margin:G,numCells:H,calculatedImageSettings:K}},[I,w,C,f,y]),z=D.cells,L=D.margin,k=D.numCells,Z=D.calculatedImageSettings;return{qrcode:I,margin:L,cells:z,numCells:k,calculatedImageSettings:Z}}var l4=["value","size","level","bgColor","fgColor","includeMargin","minVersion","marginSize","style","imageSettings"],uI=s.forwardRef(function(t,a){var o=t.value,f=t.size,y=f===void 0?tI:f,C=t.level,w=C===void 0?nI:C,I=t.bgColor,D=I===void 0?rI:I,z=t.fgColor,L=z===void 0?iI:z,k=t.includeMargin,Z=k===void 0?oI:k,j=t.minVersion,G=j===void 0?aI:j,H=t.marginSize,K=t.style,ee=t.imageSettings,ie=(0,de.Z)(t,l4),oe=ee==null?void 0:ee.src,re=(0,s.useRef)(null),se=(0,s.useRef)(null),ue=(0,s.useCallback)(function(nt){re.current=nt,typeof a=="function"?a(nt):a&&(a.current=nt)},[a]),me=(0,s.useState)(!1),pe=(0,Oe.Z)(me,2),ye=pe[1],Se=cI({value:o,level:w,minVersion:G,includeMargin:Z,marginSize:H,imageSettings:ee,size:y}),Ie=Se.margin,we=Se.cells,Be=Se.numCells,Re=Se.calculatedImageSettings;(0,s.useEffect)(function(){if(re.current!=null){var nt=re.current,at=nt.getContext("2d");if(!at)return;var Ct=we,St=se.current,_t=Re!=null&&St!==null&&St.complete&&St.naturalHeight!==0&&St.naturalWidth!==0;_t&&Re.excavation!=null&&(Ct=lI(we,Re.excavation));var ft=window.devicePixelRatio||1;nt.height=nt.width=y*ft;var vt=y/Be*ft;at.scale(vt,vt),at.fillStyle=D,at.fillRect(0,0,Be,Be),at.fillStyle=L,s4?at.fill(new Path2D(sI(Ct,Ie))):we.forEach(function($t,It){$t.forEach(function(Ft,wt){Ft&&at.fillRect(wt+Ie,It+Ie,1,1)})}),Re&&(at.globalAlpha=Re.opacity),_t&&at.drawImage(St,Re.x+Ie,Re.y+Ie,Re.w,Re.h)}}),(0,s.useEffect)(function(){ye(!1)},[oe]);var je=(0,X.Z)({height:y,width:y},K),Ne=null;return oe!=null&&(Ne=s.createElement("img",{src:oe,key:oe,style:{display:"none"},onLoad:function(){ye(!0)},ref:se,crossOrigin:Re==null?void 0:Re.crossOrigin})),s.createElement(s.Fragment,null,s.createElement("canvas",(0,Ze.Z)({style:je,height:y,width:y,ref:ue,role:"img"},ie)),Ne)});uI.displayName="QRCodeCanvas";var c4=["value","size","level","bgColor","fgColor","includeMargin","minVersion","title","marginSize","imageSettings"],dI=s.forwardRef(function(t,a){var o=t.value,f=t.size,y=f===void 0?tI:f,C=t.level,w=C===void 0?nI:C,I=t.bgColor,D=I===void 0?rI:I,z=t.fgColor,L=z===void 0?iI:z,k=t.includeMargin,Z=k===void 0?oI:k,j=t.minVersion,G=j===void 0?aI:j,H=t.title,K=t.marginSize,ee=t.imageSettings,ie=(0,de.Z)(t,c4),oe=cI({value:o,level:w,minVersion:G,includeMargin:Z,marginSize:K,imageSettings:ee,size:y}),re=oe.margin,se=oe.cells,ue=oe.numCells,me=oe.calculatedImageSettings,pe=se,ye=null;ee!=null&&me!=null&&(me.excavation!=null&&(pe=lI(se,me.excavation)),ye=s.createElement("image",{href:ee.src,height:me.h,width:me.w,x:me.x+re,y:me.y+re,preserveAspectRatio:"none",opacity:me.opacity,crossOrigin:me.crossOrigin}));var Se=sI(pe,re);return s.createElement("svg",(0,Ze.Z)({height:y,width:y,viewBox:"0 0 ".concat(ue," ").concat(ue),ref:a,role:"img"},ie),!!H&&s.createElement("title",null,H),s.createElement("path",{fill:D,d:"M0,0 h".concat(ue,"v").concat(ue,"H0z"),shapeRendering:"crispEdges"}),s.createElement("path",{fill:L,d:Se,shapeRendering:"crispEdges"}),ye)});dI.displayName="QRCodeSVG";var u4={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"}}]},name:"reload",theme:"outlined"},d4=u4,f4=function(t,a){return s.createElement(Xt.Z,(0,Ze.Z)({},t,{ref:a,icon:d4}))},h4=s.forwardRef(f4),m4=h4;const p4=s.createElement(gv,null);function g4(e){let{prefixCls:t,locale:a,onRefresh:o,statusRender:f,status:y}=e;const C=s.createElement(s.Fragment,null,s.createElement("p",{className:`${t}-expired`},a==null?void 0:a.expired),o&&s.createElement(wn,{type:"link",icon:s.createElement(m4,null),onClick:o},a==null?void 0:a.refresh)),w=s.createElement("p",{className:`${t}-scanned`},a==null?void 0:a.scanned),I={expired:C,loading:p4,scanned:w},D=L=>I[L.status];return(f!=null?f:D)({status:y,locale:a,onRefresh:o})}const v4=e=>{const{componentCls:t,lineWidth:a,lineType:o,colorSplit:f}=e;return{[t]:Object.assign(Object.assign({},(0,Wt.Wf)(e)),{display:"flex",justifyContent:"center",alignItems:"center",padding:e.paddingSM,backgroundColor:e.colorWhite,borderRadius:e.borderRadiusLG,border:`${(0,fe.bf)(a)} ${o} ${f}`,position:"relative",overflow:"hidden",[`& > ${t}-mask`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,zIndex:10,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",color:e.colorText,lineHeight:e.lineHeight,background:e.QRCodeMaskBackgroundColor,textAlign:"center",[`& > ${t}-expired, & > ${t}-scanned`]:{color:e.QRCodeTextColor}},"> canvas":{alignSelf:"stretch",flex:"auto",minWidth:0},"&-icon":{marginBlockEnd:e.marginXS,fontSize:e.controlHeight}}),[`${t}-borderless`]:{borderColor:"transparent",padding:0,borderRadius:0}}},y4=e=>({QRCodeMaskBackgroundColor:new Sl.t(e.colorBgContainer).setA(.96).toRgbString()});var _4=(0,te.I$)("QRCode",e=>{const t=(0,Ur.IX)(e,{QRCodeTextColor:e.colorText});return v4(t)},y4),b4=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},x4=e=>{var t,a,o,f;const[,y]=(0,ea.ZP)(),{value:C,type:w="canvas",icon:I="",size:D=160,iconSize:z,color:L=y.colorText,errorLevel:k="M",status:Z="active",bordered:j=!0,onRefresh:G,style:H,className:K,rootClassName:ee,prefixCls:ie,bgColor:oe="transparent",statusRender:re}=e,se=b4(e,["value","type","icon","size","iconSize","color","errorLevel","status","bordered","onRefresh","style","className","rootClassName","prefixCls","bgColor","statusRender"]),{getPrefixCls:ue}=(0,s.useContext)(ve.E_),me=ue("qrcode",ie),[pe,ye,Se]=_4(me),Ie={src:I,x:void 0,y:void 0,height:typeof z=="number"?z:(t=z==null?void 0:z.height)!==null&&t!==void 0?t:40,width:typeof z=="number"?z:(a=z==null?void 0:z.width)!==null&&a!==void 0?a:40,excavate:!0,crossOrigin:"anonymous"},we=(0,lt.Z)(se,!0),Be=(0,ci.Z)(se,Object.keys(we)),Re=Object.assign({value:C,size:D,level:k,bgColor:oe,fgColor:L,style:{width:H==null?void 0:H.width,height:H==null?void 0:H.height},imageSettings:I?Ie:void 0},we),[je]=(0,Ao.Z)("QRCode");if(!C)return null;const Ne=Y()(me,K,ee,ye,Se,{[`${me}-borderless`]:!j}),nt=Object.assign(Object.assign({backgroundColor:oe},H),{width:(o=H==null?void 0:H.width)!==null&&o!==void 0?o:D,height:(f=H==null?void 0:H.height)!==null&&f!==void 0?f:D});return pe(s.createElement("div",Object.assign({},Be,{className:Ne,style:nt}),Z!=="active"&&s.createElement("div",{className:`${me}-mask`},s.createElement(g4,{prefixCls:me,locale:je,status:Z,onRefresh:G,statusRender:re})),w==="canvas"?s.createElement(uI,Object.assign({},Re)):s.createElement(dI,Object.assign({},Re))))},nw=F(89965),C4={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z"}}]},name:"star",theme:"filled"},S4=C4,w4=function(t,a){return s.createElement(Xt.Z,(0,Ze.Z)({},t,{ref:a,icon:S4}))},E4=s.forwardRef(w4),I4=E4;function M4(e,t){var a=e.disabled,o=e.prefixCls,f=e.character,y=e.characterRender,C=e.index,w=e.count,I=e.value,D=e.allowHalf,z=e.focused,L=e.onHover,k=e.onClick,Z=function(re){L(re,C)},j=function(re){k(re,C)},G=function(re){re.keyCode===et.Z.ENTER&&k(re,C)},H=C+1,K=new Set([o]);I===0&&C===0&&z?K.add("".concat(o,"-focused")):D&&I+.5>=H&&I<H?(K.add("".concat(o,"-half")),K.add("".concat(o,"-active")),z&&K.add("".concat(o,"-focused"))):(H<=I?K.add("".concat(o,"-full")):K.add("".concat(o,"-zero")),H===I&&z&&K.add("".concat(o,"-focused")));var ee=typeof f=="function"?f(e):f,ie=s.createElement("li",{className:Y()(Array.from(K)),ref:t},s.createElement("div",{onClick:a?null:j,onKeyDown:a?null:G,onMouseMove:a?null:Z,role:"radio","aria-checked":I>C?"true":"false","aria-posinset":C+1,"aria-setsize":w,tabIndex:a?-1:0},s.createElement("div",{className:"".concat(o,"-first")},ee),s.createElement("div",{className:"".concat(o,"-second")},ee)));return y&&(ie=y(ie,e)),ie}var T4=s.forwardRef(M4);function P4(){var e=s.useRef({});function t(o){return e.current[o]}function a(o){return function(f){e.current[o]=f}}return[t,a]}function O4(e){var t=e.pageXOffset,a="scrollLeft";if(typeof t!="number"){var o=e.document;t=o.documentElement[a],typeof t!="number"&&(t=o.body[a])}return t}function R4(e){var t,a,o=e.ownerDocument,f=o.body,y=o&&o.documentElement,C=e.getBoundingClientRect();return t=C.left,a=C.top,t-=y.clientLeft||f.clientLeft||0,a-=y.clientTop||f.clientTop||0,{left:t,top:a}}function $4(e){var t=R4(e),a=e.ownerDocument,o=a.defaultView||a.parentWindow;return t.left+=O4(o),t.left}var A4=["prefixCls","className","defaultValue","value","count","allowHalf","allowClear","keyboard","character","characterRender","disabled","direction","tabIndex","autoFocus","onHoverChange","onChange","onFocus","onBlur","onKeyDown","onMouseLeave"];function D4(e,t){var a=e.prefixCls,o=a===void 0?"rc-rate":a,f=e.className,y=e.defaultValue,C=e.value,w=e.count,I=w===void 0?5:w,D=e.allowHalf,z=D===void 0?!1:D,L=e.allowClear,k=L===void 0?!0:L,Z=e.keyboard,j=Z===void 0?!0:Z,G=e.character,H=G===void 0?"\u2605":G,K=e.characterRender,ee=e.disabled,ie=e.direction,oe=ie===void 0?"ltr":ie,re=e.tabIndex,se=re===void 0?0:re,ue=e.autoFocus,me=e.onHoverChange,pe=e.onChange,ye=e.onFocus,Se=e.onBlur,Ie=e.onKeyDown,we=e.onMouseLeave,Be=(0,de.Z)(e,A4),Re=P4(),je=(0,Oe.Z)(Re,2),Ne=je[0],nt=je[1],at=s.useRef(null),Ct=function(){if(!ee){var _i;(_i=at.current)===null||_i===void 0||_i.focus()}};s.useImperativeHandle(t,function(){return{focus:Ct,blur:function(){if(!ee){var _i;(_i=at.current)===null||_i===void 0||_i.blur()}}}});var St=(0,Fs.Z)(y||0,{value:C}),_t=(0,Oe.Z)(St,2),ft=_t[0],vt=_t[1],$t=(0,Fs.Z)(null),It=(0,Oe.Z)($t,2),Ft=It[0],wt=It[1],pn=function(_i,ai){var gi=oe==="rtl",Gi=_i+1;if(z){var Pi=Ne(_i),wo=$4(Pi),dr=Pi.clientWidth;(gi&&ai-wo>dr/2||!gi&&ai-wo<dr/2)&&(Gi-=.5)}return Gi},Bn=function(_i){vt(_i),pe==null||pe(_i)},ln=s.useState(!1),Tn=(0,Oe.Z)(ln,2),Kt=Tn[0],zt=Tn[1],Dn=function(){zt(!0),ye==null||ye()},Sn=function(){zt(!1),Se==null||Se()},Ir=s.useState(null),ur=(0,Oe.Z)(Ir,2),Yn=ur[0],qn=ur[1],Rn=function(_i,ai){var gi=pn(ai,_i.pageX);gi!==Ft&&(qn(gi),wt(null)),me==null||me(gi)},Jn=function(_i){ee||(qn(null),wt(null),me==null||me(void 0)),_i&&(we==null||we(_i))},zr=function(_i,ai){var gi=pn(ai,_i.pageX),Gi=!1;k&&(Gi=gi===ft),Jn(),Bn(Gi?0:gi),wt(Gi?gi:null)},li=function(_i){var ai=_i.keyCode,gi=oe==="rtl",Gi=z?.5:1;j&&(ai===et.Z.RIGHT&&ft<I&&!gi?(Bn(ft+Gi),_i.preventDefault()):ai===et.Z.LEFT&&ft>0&&!gi||ai===et.Z.RIGHT&&ft>0&&gi?(Bn(ft-Gi),_i.preventDefault()):ai===et.Z.LEFT&&ft<I&&gi&&(Bn(ft+Gi),_i.preventDefault())),Ie==null||Ie(_i)};s.useEffect(function(){ue&&!ee&&Ct()},[]);var xi=new Array(I).fill(0).map(function(So,_i){return s.createElement(T4,{ref:nt(_i),index:_i,count:I,disabled:ee,prefixCls:"".concat(o,"-star"),allowHalf:z,value:Yn===null?ft:Yn,onClick:zr,onHover:Rn,key:So||_i,character:H,characterRender:K,focused:Kt})}),Di=Y()(o,f,(0,he.Z)((0,he.Z)({},"".concat(o,"-disabled"),ee),"".concat(o,"-rtl"),oe==="rtl"));return s.createElement("ul",(0,Ze.Z)({className:Di,onMouseLeave:Jn,tabIndex:ee?-1:se,onFocus:ee?null:Dn,onBlur:ee?null:Sn,onKeyDown:ee?null:li,ref:at},(0,lt.Z)(Be,{aria:!0,data:!0,attr:!0})),xi)}var z4=s.forwardRef(D4),L4=z4;const N4=e=>{const{componentCls:t}=e;return{[`${t}-star`]:{position:"relative",display:"inline-block",color:"inherit",cursor:"pointer","&:not(:last-child)":{marginInlineEnd:e.marginXS},"> div":{transition:`all ${e.motionDurationMid}, outline 0s`,"&:hover":{transform:e.starHoverScale},"&:focus":{outline:0},"&:focus-visible":{outline:`${(0,fe.bf)(e.lineWidth)} dashed ${e.starColor}`,transform:e.starHoverScale}},"&-first, &-second":{color:e.starBg,transition:`all ${e.motionDurationMid}`,userSelect:"none"},"&-first":{position:"absolute",top:0,insetInlineStart:0,width:"50%",height:"100%",overflow:"hidden",opacity:0},[`&-half ${t}-star-first, &-half ${t}-star-second`]:{opacity:1},[`&-half ${t}-star-first, &-full ${t}-star-second`]:{color:"inherit"}}}},B4=e=>({[`&-rtl${e.componentCls}`]:{direction:"rtl"}}),F4=e=>{const{componentCls:t}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,Wt.Wf)(e)),{display:"inline-block",margin:0,padding:0,color:e.starColor,fontSize:e.starSize,lineHeight:1,listStyle:"none",outline:"none",[`&-disabled${t} ${t}-star`]:{cursor:"default","> div:hover":{transform:"scale(1)"}}}),N4(e)),B4(e))}},k4=e=>({starColor:e.yellow6,starSize:e.controlHeightLG*.5,starHoverScale:"scale(1.1)",starBg:e.colorFillContent});var j4=(0,te.I$)("Rate",e=>{const t=(0,Ur.IX)(e,{});return[F4(t)]},k4),Z4=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},V4=s.forwardRef((e,t)=>{const{prefixCls:a,className:o,rootClassName:f,style:y,tooltips:C,character:w=s.createElement(I4,null),disabled:I}=e,D=Z4(e,["prefixCls","className","rootClassName","style","tooltips","character","disabled"]),z=(re,se)=>{let{index:ue}=se;return C?s.createElement(Du.Z,{title:C[ue]},re):re},{getPrefixCls:L,direction:k,rate:Z}=s.useContext(ve.E_),j=L("rate",a),[G,H,K]=j4(j),ee=Object.assign(Object.assign({},Z==null?void 0:Z.style),y),ie=s.useContext(Ta.Z),oe=I!=null?I:ie;return G(s.createElement(L4,Object.assign({ref:t,character:w,characterRender:z,disabled:oe},D,{className:Y()(o,f,H,K,Z==null?void 0:Z.className),style:ee,prefixCls:j,direction:k})))}),H4={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M955.7 856l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zM480 416c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v184c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V416zm32 352a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"warning",theme:"filled"},U4=H4,W4=function(t,a){return s.createElement(Xt.Z,(0,Ze.Z)({},t,{ref:a,icon:U4}))},G4=s.forwardRef(W4),K4=G4,X4=()=>s.createElement("svg",{width:"252",height:"294"},s.createElement("title",null,"No Found"),s.createElement("defs",null,s.createElement("path",{d:"M0 .387h251.772v251.772H0z"})),s.createElement("g",{fill:"none",fillRule:"evenodd"},s.createElement("g",{transform:"translate(0 .012)"},s.createElement("mask",{fill:"#fff"}),s.createElement("path",{d:"M0 127.32v-2.095C0 56.279 55.892.387 124.838.387h2.096c68.946 0 124.838 55.892 124.838 124.838v2.096c0 68.946-55.892 124.838-124.838 124.838h-2.096C55.892 252.16 0 196.267 0 127.321",fill:"#E4EBF7",mask:"url(#b)"})),s.createElement("path",{d:"M39.755 130.84a8.276 8.276 0 1 1-16.468-1.66 8.276 8.276 0 0 1 16.468 1.66",fill:"#FFF"}),s.createElement("path",{d:"M36.975 134.297l10.482 5.943M48.373 146.508l-12.648 10.788",stroke:"#FFF",strokeWidth:"2"}),s.createElement("path",{d:"M39.875 159.352a5.667 5.667 0 1 1-11.277-1.136 5.667 5.667 0 0 1 11.277 1.136M57.588 143.247a5.708 5.708 0 1 1-11.358-1.145 5.708 5.708 0 0 1 11.358 1.145M99.018 26.875l29.82-.014a4.587 4.587 0 1 0-.003-9.175l-29.82.013a4.587 4.587 0 1 0 .003 9.176M110.424 45.211l29.82-.013a4.588 4.588 0 0 0-.004-9.175l-29.82.013a4.587 4.587 0 1 0 .004 9.175",fill:"#FFF"}),s.createElement("path",{d:"M112.798 26.861v-.002l15.784-.006a4.588 4.588 0 1 0 .003 9.175l-15.783.007v-.002a4.586 4.586 0 0 0-.004-9.172M184.523 135.668c-.553 5.485-5.447 9.483-10.931 8.93-5.485-.553-9.483-5.448-8.93-10.932.552-5.485 5.447-9.483 10.932-8.93 5.485.553 9.483 5.447 8.93 10.932",fill:"#FFF"}),s.createElement("path",{d:"M179.26 141.75l12.64 7.167M193.006 156.477l-15.255 13.011",stroke:"#FFF",strokeWidth:"2"}),s.createElement("path",{d:"M184.668 170.057a6.835 6.835 0 1 1-13.6-1.372 6.835 6.835 0 0 1 13.6 1.372M203.34 153.325a6.885 6.885 0 1 1-13.7-1.382 6.885 6.885 0 0 1 13.7 1.382",fill:"#FFF"}),s.createElement("path",{d:"M151.931 192.324a2.222 2.222 0 1 1-4.444 0 2.222 2.222 0 0 1 4.444 0zM225.27 116.056a2.222 2.222 0 1 1-4.445 0 2.222 2.222 0 0 1 4.444 0zM216.38 151.08a2.223 2.223 0 1 1-4.446-.001 2.223 2.223 0 0 1 4.446 0zM176.917 107.636a2.223 2.223 0 1 1-4.445 0 2.223 2.223 0 0 1 4.445 0zM195.291 92.165a2.223 2.223 0 1 1-4.445 0 2.223 2.223 0 0 1 4.445 0zM202.058 180.711a2.223 2.223 0 1 1-4.446 0 2.223 2.223 0 0 1 4.446 0z",stroke:"#FFF",strokeWidth:"2"}),s.createElement("path",{stroke:"#FFF",strokeWidth:"2",d:"M214.404 153.302l-1.912 20.184-10.928 5.99M173.661 174.792l-6.356 9.814h-11.36l-4.508 6.484M174.941 125.168v-15.804M220.824 117.25l-12.84 7.901-15.31-7.902V94.39"}),s.createElement("path",{d:"M166.588 65.936h-3.951a4.756 4.756 0 0 1-4.743-4.742 4.756 4.756 0 0 1 4.743-4.743h3.951a4.756 4.756 0 0 1 4.743 4.743 4.756 4.756 0 0 1-4.743 4.742",fill:"#FFF"}),s.createElement("path",{d:"M174.823 30.03c0-16.281 13.198-29.48 29.48-29.48 16.28 0 29.48 13.199 29.48 29.48 0 16.28-13.2 29.48-29.48 29.48-16.282 0-29.48-13.2-29.48-29.48",fill:"#1677ff"}),s.createElement("path",{d:"M205.952 38.387c.5.5.785 1.142.785 1.928s-.286 1.465-.785 1.964c-.572.5-1.214.75-2 .75-.785 0-1.429-.285-1.929-.785-.572-.5-.82-1.143-.82-1.929s.248-1.428.82-1.928c.5-.5 1.144-.75 1.93-.75.785 0 1.462.25 1.999.75m4.285-19.463c1.428 1.249 2.143 2.963 2.143 5.142 0 1.712-.427 3.13-1.219 4.25-.067.096-.137.18-.218.265-.416.429-1.41 1.346-2.956 2.699a5.07 5.07 0 0 0-1.428 1.75 5.207 5.207 0 0 0-.536 2.357v.5h-4.107v-.5c0-1.357.215-2.536.714-3.5.464-.964 1.857-2.464 4.178-4.536l.43-.5c.643-.785.964-1.643.964-2.535 0-1.18-.358-2.108-1-2.785-.678-.68-1.643-1.001-2.858-1.001-1.536 0-2.642.464-3.357 1.43-.37.5-.621 1.135-.76 1.904a1.999 1.999 0 0 1-1.971 1.63h-.004c-1.277 0-2.257-1.183-1.98-2.43.337-1.518 1.02-2.78 2.073-3.784 1.536-1.5 3.607-2.25 6.25-2.25 2.32 0 4.214.607 5.642 1.894",fill:"#FFF"}),s.createElement("path",{d:"M52.04 76.131s21.81 5.36 27.307 15.945c5.575 10.74-6.352 9.26-15.73 4.935-10.86-5.008-24.7-11.822-11.577-20.88",fill:"#FFB594"}),s.createElement("path",{d:"M90.483 67.504l-.449 2.893c-.753.49-4.748-2.663-4.748-2.663l-1.645.748-1.346-5.684s6.815-4.589 8.917-5.018c2.452-.501 9.884.94 10.7 2.278 0 0 1.32.486-2.227.69-3.548.203-5.043.447-6.79 3.132-1.747 2.686-2.412 3.624-2.412 3.624",fill:"#FFC6A0"}),s.createElement("path",{d:"M128.055 111.367c-2.627-7.724-6.15-13.18-8.917-15.478-3.5-2.906-9.34-2.225-11.366-4.187-1.27-1.231-3.215-1.197-3.215-1.197s-14.98-3.158-16.828-3.479c-2.37-.41-2.124-.714-6.054-1.405-1.57-1.907-2.917-1.122-2.917-1.122l-7.11-1.383c-.853-1.472-2.423-1.023-2.423-1.023l-2.468-.897c-1.645 9.976-7.74 13.796-7.74 13.796 1.795 1.122 15.703 8.3 15.703 8.3l5.107 37.11s-3.321 5.694 1.346 9.109c0 0 19.883-3.743 34.921-.329 0 0 3.047-2.546.972-8.806.523-3.01 1.394-8.263 1.736-11.622.385.772 2.019 1.918 3.14 3.477 0 0 9.407-7.365 11.052-14.012-.832-.723-1.598-1.585-2.267-2.453-.567-.736-.358-2.056-.765-2.717-.669-1.084-1.804-1.378-1.907-1.682",fill:"#FFF"}),s.createElement("path",{d:"M101.09 289.998s4.295 2.041 7.354 1.021c2.821-.94 4.53.668 7.08 1.178 2.55.51 6.874 1.1 11.686-1.26-.103-5.51-6.889-3.98-11.96-6.713-2.563-1.38-3.784-4.722-3.598-8.799h-9.402s-1.392 10.52-1.16 14.573",fill:"#CBD1D1"}),s.createElement("path",{d:"M101.067 289.826s2.428 1.271 6.759.653c3.058-.437 3.712.481 7.423 1.031 3.712.55 10.724-.069 11.823-.894.413 1.1-.343 2.063-.343 2.063s-1.512.603-4.812.824c-2.03.136-5.8.291-7.607-.503-1.787-1.375-5.247-1.903-5.728-.241-3.918.95-7.355-.286-7.355-.286l-.16-2.647z",fill:"#2B0849"}),s.createElement("path",{d:"M108.341 276.044h3.094s-.103 6.702 4.536 8.558c-4.64.618-8.558-2.303-7.63-8.558",fill:"#A4AABA"}),s.createElement("path",{d:"M57.542 272.401s-2.107 7.416-4.485 12.306c-1.798 3.695-4.225 7.492 5.465 7.492 6.648 0 8.953-.48 7.423-6.599-1.53-6.12.266-13.199.266-13.199h-8.669z",fill:"#CBD1D1"}),s.createElement("path",{d:"M51.476 289.793s2.097 1.169 6.633 1.169c6.083 0 8.249-1.65 8.249-1.65s.602 1.114-.619 2.165c-.993.855-3.597 1.591-7.39 1.546-4.145-.048-5.832-.566-6.736-1.168-.825-.55-.687-1.58-.137-2.062",fill:"#2B0849"}),s.createElement("path",{d:"M58.419 274.304s.033 1.519-.314 2.93c-.349 1.42-1.078 3.104-1.13 4.139-.058 1.151 4.537 1.58 5.155.034.62-1.547 1.294-6.427 1.913-7.252.619-.825-4.903-2.119-5.624.15",fill:"#A4AABA"}),s.createElement("path",{d:"M99.66 278.514l13.378.092s1.298-54.52 1.853-64.403c.554-9.882 3.776-43.364 1.002-63.128l-12.547-.644-22.849.78s-.434 3.966-1.195 9.976c-.063.496-.682.843-.749 1.365-.075.585.423 1.354.32 1.966-2.364 14.08-6.377 33.104-8.744 46.677-.116.666-1.234 1.009-1.458 2.691-.04.302.211 1.525.112 1.795-6.873 18.744-10.949 47.842-14.277 61.885l14.607-.014s2.197-8.57 4.03-16.97c2.811-12.886 23.111-85.01 23.111-85.01l3.016-.521 1.043 46.35s-.224 1.234.337 2.02c.56.785-.56 1.123-.392 2.244l.392 1.794s-.449 7.178-.898 11.89c-.448 4.71-.092 39.165-.092 39.165",fill:"#7BB2F9"}),s.createElement("path",{d:"M76.085 221.626c1.153.094 4.038-2.019 6.955-4.935M106.36 225.142s2.774-1.11 6.103-3.883",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M107.275 222.1s2.773-1.11 6.102-3.884",stroke:"#648BD8",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M74.74 224.767s2.622-.591 6.505-3.365M86.03 151.634c-.27 3.106.3 8.525-4.336 9.123M103.625 149.88s.11 14.012-1.293 15.065c-2.219 1.664-2.99 1.944-2.99 1.944M99.79 150.438s.035 12.88-1.196 24.377M93.673 175.911s7.212-1.664 9.431-1.664M74.31 205.861a212.013 212.013 0 0 1-.979 4.56s-1.458 1.832-1.009 3.776c.449 1.944-.947 2.045-4.985 15.355-1.696 5.59-4.49 18.591-6.348 27.597l-.231 1.12M75.689 197.807a320.934 320.934 0 0 1-.882 4.754M82.591 152.233L81.395 162.7s-1.097.15-.5 2.244c.113 1.346-2.674 15.775-5.18 30.43M56.12 274.418h13.31",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M116.241 148.22s-17.047-3.104-35.893.2c.158 2.514-.003 4.15-.003 4.15s14.687-2.818 35.67-.312c.252-2.355.226-4.038.226-4.038",fill:"#192064"}),s.createElement("path",{d:"M106.322 151.165l.003-4.911a.81.81 0 0 0-.778-.815c-2.44-.091-5.066-.108-7.836-.014a.818.818 0 0 0-.789.815l-.003 4.906a.81.81 0 0 0 .831.813c2.385-.06 4.973-.064 7.73.017a.815.815 0 0 0 .842-.81",fill:"#FFF"}),s.createElement("path",{d:"M105.207 150.233l.002-3.076a.642.642 0 0 0-.619-.646 94.321 94.321 0 0 0-5.866-.01.65.65 0 0 0-.63.647v3.072a.64.64 0 0 0 .654.644 121.12 121.12 0 0 1 5.794.011c.362.01.665-.28.665-.642",fill:"#192064"}),s.createElement("path",{d:"M100.263 275.415h12.338M101.436 270.53c.006 3.387.042 5.79.111 6.506M101.451 264.548a915.75 915.75 0 0 0-.015 4.337M100.986 174.965l.898 44.642s.673 1.57-.225 2.692c-.897 1.122 2.468.673.898 2.243-1.57 1.57.897 1.122 0 3.365-.596 1.489-.994 21.1-1.096 35.146",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M46.876 83.427s-.516 6.045 7.223 5.552c11.2-.712 9.218-9.345 31.54-21.655-.786-2.708-2.447-4.744-2.447-4.744s-11.068 3.11-22.584 8.046c-6.766 2.9-13.395 6.352-13.732 12.801M104.46 91.057l.941-5.372-8.884-11.43-5.037 5.372-1.74 7.834a.321.321 0 0 0 .108.32c.965.8 6.5 5.013 14.347 3.544a.332.332 0 0 0 .264-.268",fill:"#FFC6A0"}),s.createElement("path",{d:"M93.942 79.387s-4.533-2.853-2.432-6.855c1.623-3.09 4.513 1.133 4.513 1.133s.52-3.642 3.121-3.642c.52-1.04 1.561-4.162 1.561-4.162s11.445 2.601 13.526 3.121c0 5.203-2.304 19.424-7.84 19.861-8.892.703-12.449-9.456-12.449-9.456",fill:"#FFC6A0"}),s.createElement("path",{d:"M113.874 73.446c2.601-2.081 3.47-9.722 3.47-9.722s-2.479-.49-6.64-2.05c-4.683-2.081-12.798-4.747-17.48.976-9.668 3.223-2.05 19.823-2.05 19.823l2.713-3.021s-3.935-3.287-2.08-6.243c2.17-3.462 3.92 1.073 3.92 1.073s.637-2.387 3.581-3.342c.355-.71 1.036-2.674 1.432-3.85a1.073 1.073 0 0 1 1.263-.704c2.4.558 8.677 2.019 11.356 2.662.522.125.871.615.82 1.15l-.305 3.248z",fill:"#520038"}),s.createElement("path",{d:"M104.977 76.064c-.103.61-.582 1.038-1.07.956-.489-.083-.801-.644-.698-1.254.103-.61.582-1.038 1.07-.956.488.082.8.644.698 1.254M112.132 77.694c-.103.61-.582 1.038-1.07.956-.488-.083-.8-.644-.698-1.254.103-.61.582-1.038 1.07-.956.488.082.8.643.698 1.254",fill:"#552950"}),s.createElement("path",{stroke:"#DB836E",strokeWidth:"1.118",strokeLinecap:"round",strokeLinejoin:"round",d:"M110.13 74.84l-.896 1.61-.298 4.357h-2.228"}),s.createElement("path",{d:"M110.846 74.481s1.79-.716 2.506.537",stroke:"#5C2552",strokeWidth:"1.118",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M92.386 74.282s.477-1.114 1.113-.716c.637.398 1.274 1.433.558 1.99-.717.556.159 1.67.159 1.67",stroke:"#DB836E",strokeWidth:"1.118",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M103.287 72.93s1.83 1.113 4.137.954",stroke:"#5C2552",strokeWidth:"1.118",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M103.685 81.762s2.227 1.193 4.376 1.193M104.64 84.308s.954.398 1.511.318M94.693 81.205s2.308 7.4 10.424 7.639",stroke:"#DB836E",strokeWidth:"1.118",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M81.45 89.384s.45 5.647-4.935 12.787M69 82.654s-.726 9.282-8.204 14.206",stroke:"#E4EBF7",strokeWidth:"1.101",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M129.405 122.865s-5.272 7.403-9.422 10.768",stroke:"#E4EBF7",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M119.306 107.329s.452 4.366-2.127 32.062",stroke:"#E4EBF7",strokeWidth:"1.101",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M150.028 151.232h-49.837a1.01 1.01 0 0 1-1.01-1.01v-31.688c0-.557.452-1.01 1.01-1.01h49.837c.558 0 1.01.453 1.01 1.01v31.688a1.01 1.01 0 0 1-1.01 1.01",fill:"#F2D7AD"}),s.createElement("path",{d:"M150.29 151.232h-19.863v-33.707h20.784v32.786a.92.92 0 0 1-.92.92",fill:"#F4D19D"}),s.createElement("path",{d:"M123.554 127.896H92.917a.518.518 0 0 1-.425-.816l6.38-9.113c.193-.277.51-.442.85-.442h31.092l-7.26 10.371z",fill:"#F2D7AD"}),s.createElement("path",{fill:"#CC9B6E",d:"M123.689 128.447H99.25v-.519h24.169l7.183-10.26.424.298z"}),s.createElement("path",{d:"M158.298 127.896h-18.669a2.073 2.073 0 0 1-1.659-.83l-7.156-9.541h19.965c.49 0 .95.23 1.244.622l6.69 8.92a.519.519 0 0 1-.415.83",fill:"#F4D19D"}),s.createElement("path",{fill:"#CC9B6E",d:"M157.847 128.479h-19.384l-7.857-10.475.415-.31 7.7 10.266h19.126zM130.554 150.685l-.032-8.177.519-.002.032 8.177z"}),s.createElement("path",{fill:"#CC9B6E",d:"M130.511 139.783l-.08-21.414.519-.002.08 21.414zM111.876 140.932l-.498-.143 1.479-5.167.498.143zM108.437 141.06l-2.679-2.935 2.665-3.434.41.318-2.397 3.089 2.384 2.612zM116.607 141.06l-.383-.35 2.383-2.612-2.397-3.089.41-.318 2.665 3.434z"}),s.createElement("path",{d:"M154.316 131.892l-3.114-1.96.038 3.514-1.043.092c-1.682.115-3.634.23-4.789.23-1.902 0-2.693 2.258 2.23 2.648l-2.645-.596s-2.168 1.317.504 2.3c0 0-1.58 1.217.561 2.58-.584 3.504 5.247 4.058 7.122 3.59 1.876-.47 4.233-2.359 4.487-5.16.28-3.085-.89-5.432-3.35-7.238",fill:"#FFC6A0"}),s.createElement("path",{d:"M153.686 133.577s-6.522.47-8.36.372c-1.836-.098-1.904 2.19 2.359 2.264 3.739.15 5.451-.044 5.451-.044",stroke:"#DB836E",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M145.16 135.877c-1.85 1.346.561 2.355.561 2.355s3.478.898 6.73.617",stroke:"#DB836E",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M151.89 141.71s-6.28.111-6.73-2.132c-.223-1.346.45-1.402.45-1.402M146.114 140.868s-1.103 3.16 5.44 3.533M151.202 129.932v3.477M52.838 89.286c3.533-.337 8.423-1.248 13.582-7.754",stroke:"#DB836E",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M168.567 248.318a6.647 6.647 0 0 1-6.647-6.647v-66.466a6.647 6.647 0 1 1 13.294 0v66.466a6.647 6.647 0 0 1-6.647 6.647",fill:"#5BA02E"}),s.createElement("path",{d:"M176.543 247.653a6.647 6.647 0 0 1-6.646-6.647v-33.232a6.647 6.647 0 1 1 13.293 0v33.232a6.647 6.647 0 0 1-6.647 6.647",fill:"#92C110"}),s.createElement("path",{d:"M186.443 293.613H158.92a3.187 3.187 0 0 1-3.187-3.187v-46.134a3.187 3.187 0 0 1 3.187-3.187h27.524a3.187 3.187 0 0 1 3.187 3.187v46.134a3.187 3.187 0 0 1-3.187 3.187",fill:"#F2D7AD"}),s.createElement("path",{d:"M88.979 89.48s7.776 5.384 16.6 2.842",stroke:"#E4EBF7",strokeWidth:"1.101",strokeLinecap:"round",strokeLinejoin:"round"}))),Y4=()=>s.createElement("svg",{width:"254",height:"294"},s.createElement("title",null,"Server Error"),s.createElement("defs",null,s.createElement("path",{d:"M0 .335h253.49v253.49H0z"}),s.createElement("path",{d:"M0 293.665h253.49V.401H0z"})),s.createElement("g",{fill:"none",fillRule:"evenodd"},s.createElement("g",{transform:"translate(0 .067)"},s.createElement("mask",{fill:"#fff"}),s.createElement("path",{d:"M0 128.134v-2.11C0 56.608 56.273.334 125.69.334h2.11c69.416 0 125.69 56.274 125.69 125.69v2.11c0 69.417-56.274 125.69-125.69 125.69h-2.11C56.273 253.824 0 197.551 0 128.134",fill:"#E4EBF7",mask:"url(#b)"})),s.createElement("path",{d:"M39.989 132.108a8.332 8.332 0 1 1-16.581-1.671 8.332 8.332 0 0 1 16.58 1.671",fill:"#FFF"}),s.createElement("path",{d:"M37.19 135.59l10.553 5.983M48.665 147.884l-12.734 10.861",stroke:"#FFF",strokeWidth:"2"}),s.createElement("path",{d:"M40.11 160.816a5.706 5.706 0 1 1-11.354-1.145 5.706 5.706 0 0 1 11.354 1.145M57.943 144.6a5.747 5.747 0 1 1-11.436-1.152 5.747 5.747 0 0 1 11.436 1.153M99.656 27.434l30.024-.013a4.619 4.619 0 1 0-.004-9.238l-30.024.013a4.62 4.62 0 0 0 .004 9.238M111.14 45.896l30.023-.013a4.62 4.62 0 1 0-.004-9.238l-30.024.013a4.619 4.619 0 1 0 .004 9.238",fill:"#FFF"}),s.createElement("path",{d:"M113.53 27.421v-.002l15.89-.007a4.619 4.619 0 1 0 .005 9.238l-15.892.007v-.002a4.618 4.618 0 0 0-.004-9.234M150.167 70.091h-3.979a4.789 4.789 0 0 1-4.774-4.775 4.788 4.788 0 0 1 4.774-4.774h3.979a4.789 4.789 0 0 1 4.775 4.774 4.789 4.789 0 0 1-4.775 4.775",fill:"#FFF"}),s.createElement("path",{d:"M171.687 30.234c0-16.392 13.289-29.68 29.681-29.68 16.392 0 29.68 13.288 29.68 29.68 0 16.393-13.288 29.681-29.68 29.681s-29.68-13.288-29.68-29.68",fill:"#FF603B"}),s.createElement("path",{d:"M203.557 19.435l-.676 15.035a1.514 1.514 0 0 1-3.026 0l-.675-15.035a2.19 2.19 0 1 1 4.377 0m-.264 19.378c.513.477.77 1.1.77 1.87s-.257 1.393-.77 1.907c-.55.476-1.21.733-1.943.733a2.545 2.545 0 0 1-1.87-.77c-.55-.514-.806-1.136-.806-1.87 0-.77.256-1.393.806-1.87.513-.513 1.137-.733 1.87-.733.77 0 1.43.22 1.943.733",fill:"#FFF"}),s.createElement("path",{d:"M119.3 133.275c4.426-.598 3.612-1.204 4.079-4.778.675-5.18-3.108-16.935-8.262-25.118-1.088-10.72-12.598-11.24-12.598-11.24s4.312 4.895 4.196 16.199c1.398 5.243.804 14.45.804 14.45s5.255 11.369 11.78 10.487",fill:"#FFB594"}),s.createElement("path",{d:"M100.944 91.61s1.463-.583 3.211.582c8.08 1.398 10.368 6.706 11.3 11.368 1.864 1.282 1.864 2.33 1.864 3.496.365.777 1.515 3.03 1.515 3.03s-7.225 1.748-10.954 6.758c-1.399-6.41-6.936-25.235-6.936-25.235",fill:"#FFF"}),s.createElement("path",{d:"M94.008 90.5l1.019-5.815-9.23-11.874-5.233 5.581-2.593 9.863s8.39 5.128 16.037 2.246",fill:"#FFB594"}),s.createElement("path",{d:"M82.931 78.216s-4.557-2.868-2.445-6.892c1.632-3.107 4.537 1.139 4.537 1.139s.524-3.662 3.139-3.662c.523-1.046 1.569-4.184 1.569-4.184s11.507 2.615 13.6 3.138c-.001 5.23-2.317 19.529-7.884 19.969-8.94.706-12.516-9.508-12.516-9.508",fill:"#FFC6A0"}),s.createElement("path",{d:"M102.971 72.243c2.616-2.093 3.489-9.775 3.489-9.775s-2.492-.492-6.676-2.062c-4.708-2.092-12.867-4.771-17.575.982-9.54 4.41-2.062 19.93-2.062 19.93l2.729-3.037s-3.956-3.304-2.092-6.277c2.183-3.48 3.943 1.08 3.943 1.08s.64-2.4 3.6-3.36c.356-.714 1.04-2.69 1.44-3.872a1.08 1.08 0 0 1 1.27-.707c2.41.56 8.723 2.03 11.417 2.676.524.126.876.619.825 1.156l-.308 3.266z",fill:"#520038"}),s.createElement("path",{d:"M101.22 76.514c-.104.613-.585 1.044-1.076.96-.49-.082-.805-.646-.702-1.26.104-.613.585-1.044 1.076-.961.491.083.805.647.702 1.26M94.26 75.074c-.104.613-.585 1.044-1.076.96-.49-.082-.805-.646-.702-1.26.104-.613.585-1.044 1.076-.96.491.082.805.646.702 1.26",fill:"#552950"}),s.createElement("path",{stroke:"#DB836E",strokeWidth:"1.063",strokeLinecap:"round",strokeLinejoin:"round",d:"M99.206 73.644l-.9 1.62-.3 4.38h-2.24"}),s.createElement("path",{d:"M99.926 73.284s1.8-.72 2.52.54",stroke:"#5C2552",strokeWidth:"1.117",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M81.367 73.084s.48-1.12 1.12-.72c.64.4 1.28 1.44.56 2s.16 1.68.16 1.68",stroke:"#DB836E",strokeWidth:"1.117",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M92.326 71.724s1.84 1.12 4.16.96",stroke:"#5C2552",strokeWidth:"1.117",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M92.726 80.604s2.24 1.2 4.4 1.2M93.686 83.164s.96.4 1.52.32M83.687 80.044s1.786 6.547 9.262 7.954",stroke:"#DB836E",strokeWidth:"1.063",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M95.548 91.663s-1.068 2.821-8.298 2.105c-7.23-.717-10.29-5.044-10.29-5.044",stroke:"#E4EBF7",strokeWidth:"1.136",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M78.126 87.478s6.526 4.972 16.47 2.486c0 0 9.577 1.02 11.536 5.322 5.36 11.77.543 36.835 0 39.962 3.496 4.055-.466 8.483-.466 8.483-15.624-3.548-35.81-.6-35.81-.6-4.849-3.546-1.223-9.044-1.223-9.044L62.38 110.32c-2.485-15.227.833-19.803 3.549-20.743 3.03-1.049 8.04-1.282 8.04-1.282.496-.058 1.08-.076 1.37-.233 2.36-1.282 2.787-.583 2.787-.583",fill:"#FFF"}),s.createElement("path",{d:"M65.828 89.81s-6.875.465-7.59 8.156c-.466 8.857 3.03 10.954 3.03 10.954s6.075 22.102 16.796 22.957c8.39-2.176 4.758-6.702 4.661-11.42-.233-11.304-7.108-16.897-7.108-16.897s-4.212-13.75-9.789-13.75",fill:"#FFC6A0"}),s.createElement("path",{d:"M71.716 124.225s.855 11.264 9.828 6.486c4.765-2.536 7.581-13.828 9.789-22.568 1.456-5.768 2.58-12.197 2.58-12.197l-4.973-1.709s-2.408 5.516-7.769 12.275c-4.335 5.467-9.144 11.11-9.455 17.713",fill:"#FFC6A0"}),s.createElement("path",{d:"M108.463 105.191s1.747 2.724-2.331 30.535c2.376 2.216 1.053 6.012-.233 7.51",stroke:"#E4EBF7",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M123.262 131.527s-.427 2.732-11.77 1.981c-15.187-1.006-25.326-3.25-25.326-3.25l.933-5.8s.723.215 9.71-.068c11.887-.373 18.714-6.07 24.964-1.022 4.039 3.263 1.489 8.16 1.489 8.16",fill:"#FFC6A0"}),s.createElement("path",{d:"M70.24 90.974s-5.593-4.739-11.054 2.68c-3.318 7.223.517 15.284 2.664 19.578-.31 3.729 2.33 4.311 2.33 4.311s.108.895 1.516 2.68c4.078-7.03 6.72-9.166 13.711-12.546-.328-.656-1.877-3.265-1.825-3.767.175-1.69-1.282-2.623-1.282-2.623s-.286-.156-1.165-2.738c-.788-2.313-2.036-5.177-4.895-7.575",fill:"#FFF"}),s.createElement("path",{d:"M90.232 288.027s4.855 2.308 8.313 1.155c3.188-1.063 5.12.755 8.002 1.331 2.881.577 7.769 1.243 13.207-1.424-.117-6.228-7.786-4.499-13.518-7.588-2.895-1.56-4.276-5.336-4.066-9.944H91.544s-1.573 11.89-1.312 16.47",fill:"#CBD1D1"}),s.createElement("path",{d:"M90.207 287.833s2.745 1.437 7.639.738c3.456-.494 3.223.66 7.418 1.282 4.195.621 13.092-.194 14.334-1.126.466 1.242-.388 2.33-.388 2.33s-1.709.682-5.438.932c-2.295.154-8.098.276-10.14-.621-2.02-1.554-4.894-1.515-6.06-.234-4.427 1.075-7.184-.31-7.184-.31l-.181-2.991z",fill:"#2B0849"}),s.createElement("path",{d:"M98.429 272.257h3.496s-.117 7.574 5.127 9.671c-5.244.7-9.672-2.602-8.623-9.671",fill:"#A4AABA"}),s.createElement("path",{d:"M44.425 272.046s-2.208 7.774-4.702 12.899c-1.884 3.874-4.428 7.854 5.729 7.854 6.97 0 9.385-.503 7.782-6.917-1.604-6.415.279-13.836.279-13.836h-9.088z",fill:"#CBD1D1"}),s.createElement("path",{d:"M38.066 290.277s2.198 1.225 6.954 1.225c6.376 0 8.646-1.73 8.646-1.73s.63 1.168-.649 2.27c-1.04.897-3.77 1.668-7.745 1.621-4.347-.05-6.115-.593-7.062-1.224-.864-.577-.72-1.657-.144-2.162",fill:"#2B0849"}),s.createElement("path",{d:"M45.344 274.041s.035 1.592-.329 3.07c-.365 1.49-1.13 3.255-1.184 4.34-.061 1.206 4.755 1.657 5.403.036.65-1.622 1.357-6.737 2.006-7.602.648-.865-5.14-2.222-5.896.156",fill:"#A4AABA"}),s.createElement("path",{d:"M89.476 277.57l13.899.095s1.349-56.643 1.925-66.909c.576-10.267 3.923-45.052 1.042-65.585l-13.037-.669-23.737.81s-.452 4.12-1.243 10.365c-.065.515-.708.874-.777 1.417-.078.608.439 1.407.332 2.044-2.455 14.627-5.797 32.736-8.256 46.837-.121.693-1.282 1.048-1.515 2.796-.042.314.22 1.584.116 1.865-7.14 19.473-12.202 52.601-15.66 67.19l15.176-.015s2.282-10.145 4.185-18.871c2.922-13.389 24.012-88.32 24.012-88.32l3.133-.954-.158 48.568s-.233 1.282.35 2.098c.583.815-.581 1.167-.408 2.331l.408 1.864s-.466 7.458-.932 12.352c-.467 4.895 1.145 40.69 1.145 40.69",fill:"#7BB2F9"}),s.createElement("path",{d:"M64.57 218.881c1.197.099 4.195-2.097 7.225-5.127M96.024 222.534s2.881-1.152 6.34-4.034",stroke:"#648BD8",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M96.973 219.373s2.882-1.153 6.34-4.034",stroke:"#648BD8",strokeWidth:"1.032",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M63.172 222.144s2.724-.614 6.759-3.496M74.903 146.166c-.281 3.226.31 8.856-4.506 9.478M93.182 144.344s.115 14.557-1.344 15.65c-2.305 1.73-3.107 2.02-3.107 2.02M89.197 144.923s.269 13.144-1.01 25.088M83.525 170.71s6.81-1.051 9.116-1.051M46.026 270.045l-.892 4.538M46.937 263.289l-.815 4.157M62.725 202.503c-.33 1.618-.102 1.904-.449 3.438 0 0-2.756 1.903-2.29 3.923.466 2.02-.31 3.424-4.505 17.252-1.762 5.807-4.233 18.922-6.165 28.278-.03.144-.521 2.646-1.14 5.8M64.158 194.136c-.295 1.658-.6 3.31-.917 4.938M71.33 146.787l-1.244 10.877s-1.14.155-.519 2.33c.117 1.399-2.778 16.39-5.382 31.615M44.242 273.727H58.07",stroke:"#648BD8",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M106.18 142.117c-3.028-.489-18.825-2.744-36.219.2a.625.625 0 0 0-.518.644c.063 1.307.044 2.343.015 2.995a.617.617 0 0 0 .716.636c3.303-.534 17.037-2.412 35.664-.266.347.04.66-.214.692-.56.124-1.347.16-2.425.17-3.029a.616.616 0 0 0-.52-.62",fill:"#192064"}),s.createElement("path",{d:"M96.398 145.264l.003-5.102a.843.843 0 0 0-.809-.847 114.104 114.104 0 0 0-8.141-.014.85.85 0 0 0-.82.847l-.003 5.097c0 .476.388.857.864.845 2.478-.064 5.166-.067 8.03.017a.848.848 0 0 0 .876-.843",fill:"#FFF"}),s.createElement("path",{d:"M95.239 144.296l.002-3.195a.667.667 0 0 0-.643-.672c-1.9-.061-3.941-.073-6.094-.01a.675.675 0 0 0-.654.672l-.002 3.192c0 .376.305.677.68.669 1.859-.042 3.874-.043 6.02.012.376.01.69-.291.691-.668",fill:"#192064"}),s.createElement("path",{d:"M90.102 273.522h12.819M91.216 269.761c.006 3.519-.072 5.55 0 6.292M90.923 263.474c-.009 1.599-.016 2.558-.016 4.505M90.44 170.404l.932 46.38s.7 1.631-.233 2.796c-.932 1.166 2.564.7.932 2.33-1.63 1.633.933 1.166 0 3.497-.618 1.546-1.031 21.921-1.138 36.513",stroke:"#648BD8",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M73.736 98.665l2.214 4.312s2.098.816 1.865 2.68l.816 2.214M64.297 116.611c.233-.932 2.176-7.147 12.585-10.488M77.598 90.042s7.691 6.137 16.547 2.72",stroke:"#E4EBF7",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M91.974 86.954s5.476-.816 7.574-4.545c1.297-.345.72 2.212-.33 3.671-.7.971-1.01 1.554-1.01 1.554s.194.31.155.816c-.053.697-.175.653-.272 1.048-.081.335.108.657 0 1.049-.046.17-.198.5-.382.878-.12.249-.072.687-.2.948-.231.469-1.562 1.87-2.622 2.855-3.826 3.554-5.018 1.644-6.001-.408-.894-1.865-.661-5.127-.874-6.875-.35-2.914-2.622-3.03-1.923-4.429.343-.685 2.87.69 3.263 1.748.757 2.04 2.952 1.807 2.622 1.69",fill:"#FFC6A0"}),s.createElement("path",{d:"M99.8 82.429c-.465.077-.35.272-.97 1.243-.622.971-4.817 2.932-6.39 3.224-2.589.48-2.278-1.56-4.254-2.855-1.69-1.107-3.562-.638-1.398 1.398.99.932.932 1.107 1.398 3.205.335 1.506-.64 3.67.7 5.593",stroke:"#DB836E",strokeWidth:".774",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M79.543 108.673c-2.1 2.926-4.266 6.175-5.557 8.762",stroke:"#E59788",strokeWidth:".774",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M87.72 124.768s-2.098-1.942-5.127-2.719c-3.03-.777-3.574-.155-5.516.078-1.942.233-3.885-.932-3.652.7.233 1.63 5.05 1.01 5.206 2.097.155 1.087-6.37 2.796-8.313 2.175-.777.777.466 1.864 2.02 2.175.233 1.554 2.253 1.554 2.253 1.554s.699 1.01 2.641 1.088c2.486 1.32 8.934-.7 10.954-1.554 2.02-.855-.466-5.594-.466-5.594",fill:"#FFC6A0"}),s.createElement("path",{d:"M73.425 122.826s.66 1.127 3.167 1.418c2.315.27 2.563.583 2.563.583s-2.545 2.894-9.07 2.272M72.416 129.274s3.826.097 4.933-.718M74.98 130.75s1.961.136 3.36-.505M77.232 131.916s1.748.019 2.914-.505M73.328 122.321s-.595-1.032 1.262-.427c1.671.544 2.833.055 5.128.155 1.389.061 3.067-.297 3.982.15 1.606.784 3.632 2.181 3.632 2.181s10.526 1.204 19.033-1.127M78.864 108.104s-8.39 2.758-13.168 12.12",stroke:"#E59788",strokeWidth:".774",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M109.278 112.533s3.38-3.613 7.575-4.662",stroke:"#E4EBF7",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M107.375 123.006s9.697-2.745 11.445-.88",stroke:"#E59788",strokeWidth:".774",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M194.605 83.656l3.971-3.886M187.166 90.933l3.736-3.655M191.752 84.207l-4.462-4.56M198.453 91.057l-4.133-4.225M129.256 163.074l3.718-3.718M122.291 170.039l3.498-3.498M126.561 163.626l-4.27-4.27M132.975 170.039l-3.955-3.955",stroke:"#BFCDDD",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M190.156 211.779h-1.604a4.023 4.023 0 0 1-4.011-4.011V175.68a4.023 4.023 0 0 1 4.01-4.01h1.605a4.023 4.023 0 0 1 4.011 4.01v32.088a4.023 4.023 0 0 1-4.01 4.01",fill:"#A3B4C6"}),s.createElement("path",{d:"M237.824 212.977a4.813 4.813 0 0 1-4.813 4.813h-86.636a4.813 4.813 0 0 1 0-9.626h86.636a4.813 4.813 0 0 1 4.813 4.813",fill:"#A3B4C6"}),s.createElement("mask",{fill:"#fff"}),s.createElement("path",{fill:"#A3B4C6",mask:"url(#d)",d:"M154.098 190.096h70.513v-84.617h-70.513z"}),s.createElement("path",{d:"M224.928 190.096H153.78a3.219 3.219 0 0 1-3.208-3.209V167.92a3.219 3.219 0 0 1 3.208-3.21h71.148a3.219 3.219 0 0 1 3.209 3.21v18.967a3.219 3.219 0 0 1-3.21 3.209M224.928 130.832H153.78a3.218 3.218 0 0 1-3.208-3.208v-18.968a3.219 3.219 0 0 1 3.208-3.209h71.148a3.219 3.219 0 0 1 3.209 3.21v18.967a3.218 3.218 0 0 1-3.21 3.208",fill:"#BFCDDD",mask:"url(#d)"}),s.createElement("path",{d:"M159.563 120.546a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M166.98 120.546a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M174.397 120.546a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M222.539 120.546h-22.461a.802.802 0 0 1-.802-.802v-3.208c0-.443.359-.803.802-.803h22.46c.444 0 .803.36.803.803v3.208c0 .443-.36.802-.802.802",fill:"#FFF",mask:"url(#d)"}),s.createElement("path",{d:"M224.928 160.464H153.78a3.218 3.218 0 0 1-3.208-3.209v-18.967a3.219 3.219 0 0 1 3.208-3.209h71.148a3.219 3.219 0 0 1 3.209 3.209v18.967a3.218 3.218 0 0 1-3.21 3.209",fill:"#BFCDDD",mask:"url(#d)"}),s.createElement("path",{d:"M173.455 130.832h49.301M164.984 130.832h6.089M155.952 130.832h6.75M173.837 160.613h49.3M165.365 160.613h6.089M155.57 160.613h6.751",stroke:"#7C90A5",strokeWidth:"1.124",strokeLinecap:"round",strokeLinejoin:"round",mask:"url(#d)"}),s.createElement("path",{d:"M159.563 151.038a2.407 2.407 0 1 1 0-4.814 2.407 2.407 0 0 1 0 4.814M166.98 151.038a2.407 2.407 0 1 1 0-4.814 2.407 2.407 0 0 1 0 4.814M174.397 151.038a2.407 2.407 0 1 1 .001-4.814 2.407 2.407 0 0 1 0 4.814M222.539 151.038h-22.461a.802.802 0 0 1-.802-.802v-3.209c0-.443.359-.802.802-.802h22.46c.444 0 .803.36.803.802v3.209c0 .443-.36.802-.802.802M159.563 179.987a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M166.98 179.987a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M174.397 179.987a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M222.539 179.987h-22.461a.802.802 0 0 1-.802-.802v-3.209c0-.443.359-.802.802-.802h22.46c.444 0 .803.36.803.802v3.209c0 .443-.36.802-.802.802",fill:"#FFF",mask:"url(#d)"}),s.createElement("path",{d:"M203.04 221.108h-27.372a2.413 2.413 0 0 1-2.406-2.407v-11.448a2.414 2.414 0 0 1 2.406-2.407h27.372a2.414 2.414 0 0 1 2.407 2.407V218.7a2.413 2.413 0 0 1-2.407 2.407",fill:"#BFCDDD",mask:"url(#d)"}),s.createElement("path",{d:"M177.259 207.217v11.52M201.05 207.217v11.52",stroke:"#A3B4C6",strokeWidth:"1.124",strokeLinecap:"round",strokeLinejoin:"round",mask:"url(#d)"}),s.createElement("path",{d:"M162.873 267.894a9.422 9.422 0 0 1-9.422-9.422v-14.82a9.423 9.423 0 0 1 18.845 0v14.82a9.423 9.423 0 0 1-9.423 9.422",fill:"#5BA02E",mask:"url(#d)"}),s.createElement("path",{d:"M171.22 267.83a9.422 9.422 0 0 1-9.422-9.423v-3.438a9.423 9.423 0 0 1 18.845 0v3.438a9.423 9.423 0 0 1-9.422 9.423",fill:"#92C110",mask:"url(#d)"}),s.createElement("path",{d:"M181.31 293.666h-27.712a3.209 3.209 0 0 1-3.209-3.21V269.79a3.209 3.209 0 0 1 3.209-3.21h27.711a3.209 3.209 0 0 1 3.209 3.21v20.668a3.209 3.209 0 0 1-3.209 3.209",fill:"#F2D7AD",mask:"url(#d)"})));const q4=e=>{const{componentCls:t,lineHeightHeading3:a,iconCls:o,padding:f,paddingXL:y,paddingXS:C,paddingLG:w,marginXS:I,lineHeight:D}=e;return{[t]:{padding:`${(0,fe.bf)(e.calc(w).mul(2).equal())} ${(0,fe.bf)(y)}`,"&-rtl":{direction:"rtl"}},[`${t} ${t}-image`]:{width:e.imageWidth,height:e.imageHeight,margin:"auto"},[`${t} ${t}-icon`]:{marginBottom:w,textAlign:"center",[`& > ${o}`]:{fontSize:e.iconFontSize}},[`${t} ${t}-title`]:{color:e.colorTextHeading,fontSize:e.titleFontSize,lineHeight:a,marginBlock:I,textAlign:"center"},[`${t} ${t}-subtitle`]:{color:e.colorTextDescription,fontSize:e.subtitleFontSize,lineHeight:D,textAlign:"center"},[`${t} ${t}-content`]:{marginTop:w,padding:`${(0,fe.bf)(w)} ${(0,fe.bf)(e.calc(f).mul(2.5).equal())}`,backgroundColor:e.colorFillAlter},[`${t} ${t}-extra`]:{margin:e.extraMargin,textAlign:"center","& > *":{marginInlineEnd:C,"&:last-child":{marginInlineEnd:0}}}}},J4=e=>{const{componentCls:t,iconCls:a}=e;return{[`${t}-success ${t}-icon > ${a}`]:{color:e.resultSuccessIconColor},[`${t}-error ${t}-icon > ${a}`]:{color:e.resultErrorIconColor},[`${t}-info ${t}-icon > ${a}`]:{color:e.resultInfoIconColor},[`${t}-warning ${t}-icon > ${a}`]:{color:e.resultWarningIconColor}}},Q4=e=>[q4(e),J4(e)],eA=e=>Q4(e),tA=e=>({titleFontSize:e.fontSizeHeading3,subtitleFontSize:e.fontSize,iconFontSize:e.fontSizeHeading3*3,extraMargin:`${e.paddingLG}px 0 0 0`});var nA=(0,te.I$)("Result",e=>{const t=e.colorInfo,a=e.colorError,o=e.colorSuccess,f=e.colorWarning,y=(0,Ur.IX)(e,{resultInfoIconColor:t,resultErrorIconColor:a,resultSuccessIconColor:o,resultWarningIconColor:f,imageWidth:250,imageHeight:295});return[eA(y)]},tA),rA=()=>s.createElement("svg",{width:"251",height:"294"},s.createElement("title",null,"Unauthorized"),s.createElement("g",{fill:"none",fillRule:"evenodd"},s.createElement("path",{d:"M0 129.023v-2.084C0 58.364 55.591 2.774 124.165 2.774h2.085c68.574 0 124.165 55.59 124.165 124.165v2.084c0 68.575-55.59 124.166-124.165 124.166h-2.085C55.591 253.189 0 197.598 0 129.023",fill:"#E4EBF7"}),s.createElement("path",{d:"M41.417 132.92a8.231 8.231 0 1 1-16.38-1.65 8.231 8.231 0 0 1 16.38 1.65",fill:"#FFF"}),s.createElement("path",{d:"M38.652 136.36l10.425 5.91M49.989 148.505l-12.58 10.73",stroke:"#FFF",strokeWidth:"2"}),s.createElement("path",{d:"M41.536 161.28a5.636 5.636 0 1 1-11.216-1.13 5.636 5.636 0 0 1 11.216 1.13M59.154 145.261a5.677 5.677 0 1 1-11.297-1.138 5.677 5.677 0 0 1 11.297 1.138M100.36 29.516l29.66-.013a4.562 4.562 0 1 0-.004-9.126l-29.66.013a4.563 4.563 0 0 0 .005 9.126M111.705 47.754l29.659-.013a4.563 4.563 0 1 0-.004-9.126l-29.66.013a4.563 4.563 0 1 0 .005 9.126",fill:"#FFF"}),s.createElement("path",{d:"M114.066 29.503V29.5l15.698-.007a4.563 4.563 0 1 0 .004 9.126l-15.698.007v-.002a4.562 4.562 0 0 0-.004-9.122M185.405 137.723c-.55 5.455-5.418 9.432-10.873 8.882-5.456-.55-9.432-5.418-8.882-10.873.55-5.455 5.418-9.432 10.873-8.882 5.455.55 9.432 5.418 8.882 10.873",fill:"#FFF"}),s.createElement("path",{d:"M180.17 143.772l12.572 7.129M193.841 158.42L178.67 171.36",stroke:"#FFF",strokeWidth:"2"}),s.createElement("path",{d:"M185.55 171.926a6.798 6.798 0 1 1-13.528-1.363 6.798 6.798 0 0 1 13.527 1.363M204.12 155.285a6.848 6.848 0 1 1-13.627-1.375 6.848 6.848 0 0 1 13.626 1.375",fill:"#FFF"}),s.createElement("path",{d:"M152.988 194.074a2.21 2.21 0 1 1-4.42 0 2.21 2.21 0 0 1 4.42 0zM225.931 118.217a2.21 2.21 0 1 1-4.421 0 2.21 2.21 0 0 1 4.421 0zM217.09 153.051a2.21 2.21 0 1 1-4.421 0 2.21 2.21 0 0 1 4.42 0zM177.84 109.842a2.21 2.21 0 1 1-4.422 0 2.21 2.21 0 0 1 4.421 0zM196.114 94.454a2.21 2.21 0 1 1-4.421 0 2.21 2.21 0 0 1 4.421 0zM202.844 182.523a2.21 2.21 0 1 1-4.42 0 2.21 2.21 0 0 1 4.42 0z",stroke:"#FFF",strokeWidth:"2"}),s.createElement("path",{stroke:"#FFF",strokeWidth:"2",d:"M215.125 155.262l-1.902 20.075-10.87 5.958M174.601 176.636l-6.322 9.761H156.98l-4.484 6.449M175.874 127.28V111.56M221.51 119.404l-12.77 7.859-15.228-7.86V96.668"}),s.createElement("path",{d:"M180.68 29.32C180.68 13.128 193.806 0 210 0c16.193 0 29.32 13.127 29.32 29.32 0 16.194-13.127 29.322-29.32 29.322-16.193 0-29.32-13.128-29.32-29.321",fill:"#A26EF4"}),s.createElement("path",{d:"M221.45 41.706l-21.563-.125a1.744 1.744 0 0 1-1.734-1.754l.071-12.23a1.744 1.744 0 0 1 1.754-1.734l21.562.125c.964.006 1.74.791 1.735 1.755l-.071 12.229a1.744 1.744 0 0 1-1.754 1.734",fill:"#FFF"}),s.createElement("path",{d:"M215.106 29.192c-.015 2.577-2.049 4.654-4.543 4.64-2.494-.014-4.504-2.115-4.489-4.693l.04-6.925c.016-2.577 2.05-4.654 4.543-4.64 2.494.015 4.504 2.116 4.49 4.693l-.04 6.925zm-4.53-14.074a6.877 6.877 0 0 0-6.916 6.837l-.043 7.368a6.877 6.877 0 0 0 13.754.08l.042-7.368a6.878 6.878 0 0 0-6.837-6.917zM167.566 68.367h-3.93a4.73 4.73 0 0 1-4.717-4.717 4.73 4.73 0 0 1 4.717-4.717h3.93a4.73 4.73 0 0 1 4.717 4.717 4.73 4.73 0 0 1-4.717 4.717",fill:"#FFF"}),s.createElement("path",{d:"M168.214 248.838a6.611 6.611 0 0 1-6.61-6.611v-66.108a6.611 6.611 0 0 1 13.221 0v66.108a6.611 6.611 0 0 1-6.61 6.61",fill:"#5BA02E"}),s.createElement("path",{d:"M176.147 248.176a6.611 6.611 0 0 1-6.61-6.61v-33.054a6.611 6.611 0 1 1 13.221 0v33.053a6.611 6.611 0 0 1-6.61 6.611",fill:"#92C110"}),s.createElement("path",{d:"M185.994 293.89h-27.376a3.17 3.17 0 0 1-3.17-3.17v-45.887a3.17 3.17 0 0 1 3.17-3.17h27.376a3.17 3.17 0 0 1 3.17 3.17v45.886a3.17 3.17 0 0 1-3.17 3.17",fill:"#F2D7AD"}),s.createElement("path",{d:"M81.972 147.673s6.377-.927 17.566-1.28c11.729-.371 17.57 1.086 17.57 1.086s3.697-3.855.968-8.424c1.278-12.077 5.982-32.827.335-48.273-1.116-1.339-3.743-1.512-7.536-.62-1.337.315-7.147-.149-7.983-.1l-15.311-.347s-3.487-.17-8.035-.508c-1.512-.113-4.227-1.683-5.458-.338-.406.443-2.425 5.669-1.97 16.077l8.635 35.642s-3.141 3.61 1.219 7.085",fill:"#FFF"}),s.createElement("path",{d:"M75.768 73.325l-.9-6.397 11.982-6.52s7.302-.118 8.038 1.205c.737 1.324-5.616.993-5.616.993s-1.836 1.388-2.615 2.5c-1.654 2.363-.986 6.471-8.318 5.986-1.708.284-2.57 2.233-2.57 2.233",fill:"#FFC6A0"}),s.createElement("path",{d:"M52.44 77.672s14.217 9.406 24.973 14.444c1.061.497-2.094 16.183-11.892 11.811-7.436-3.318-20.162-8.44-21.482-14.496-.71-3.258 2.543-7.643 8.401-11.76M141.862 80.113s-6.693 2.999-13.844 6.876c-3.894 2.11-10.137 4.704-12.33 7.988-6.224 9.314 3.536 11.22 12.947 7.503 6.71-2.651 28.999-12.127 13.227-22.367",fill:"#FFB594"}),s.createElement("path",{d:"M76.166 66.36l3.06 3.881s-2.783 2.67-6.31 5.747c-7.103 6.195-12.803 14.296-15.995 16.44-3.966 2.662-9.754 3.314-12.177-.118-3.553-5.032.464-14.628 31.422-25.95",fill:"#FFC6A0"}),s.createElement("path",{d:"M64.674 85.116s-2.34 8.413-8.912 14.447c.652.548 18.586 10.51 22.144 10.056 5.238-.669 6.417-18.968 1.145-20.531-.702-.208-5.901-1.286-8.853-2.167-.87-.26-1.611-1.71-3.545-.936l-1.98-.869zM128.362 85.826s5.318 1.956 7.325 13.734c-.546.274-17.55 12.35-21.829 7.805-6.534-6.94-.766-17.393 4.275-18.61 4.646-1.121 5.03-1.37 10.23-2.929",fill:"#FFF"}),s.createElement("path",{d:"M78.18 94.656s.911 7.41-4.914 13.078",stroke:"#E4EBF7",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M87.397 94.68s3.124 2.572 10.263 2.572c7.14 0 9.074-3.437 9.074-3.437",stroke:"#E4EBF7",strokeWidth:".932",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M117.184 68.639l-6.781-6.177s-5.355-4.314-9.223-.893c-3.867 3.422 4.463 2.083 5.653 4.165 1.19 2.082.848 1.143-2.083.446-5.603-1.331-2.082.893 2.975 5.355 2.091 1.845 6.992.955 6.992.955l2.467-3.851z",fill:"#FFC6A0"}),s.createElement("path",{d:"M105.282 91.315l-.297-10.937-15.918-.027-.53 10.45c-.026.403.17.788.515.999 2.049 1.251 9.387 5.093 15.799.424.287-.21.443-.554.431-.91",fill:"#FFB594"}),s.createElement("path",{d:"M107.573 74.24c.817-1.147.982-9.118 1.015-11.928a1.046 1.046 0 0 0-.965-1.055l-4.62-.365c-7.71-1.044-17.071.624-18.253 6.346-5.482 5.813-.421 13.244-.421 13.244s1.963 3.566 4.305 6.791c.756 1.041.398-3.731 3.04-5.929 5.524-4.594 15.899-7.103 15.899-7.103",fill:"#5C2552"}),s.createElement("path",{d:"M88.426 83.206s2.685 6.202 11.602 6.522c7.82.28 8.973-7.008 7.434-17.505l-.909-5.483c-6.118-2.897-15.478.54-15.478.54s-.576 2.044-.19 5.504c-2.276 2.066-1.824 5.618-1.824 5.618s-.905-1.922-1.98-2.321c-.86-.32-1.897.089-2.322 1.98-1.04 4.632 3.667 5.145 3.667 5.145",fill:"#FFC6A0"}),s.createElement("path",{stroke:"#DB836E",strokeWidth:"1.145",strokeLinecap:"round",strokeLinejoin:"round",d:"M100.843 77.099l1.701-.928-1.015-4.324.674-1.406"}),s.createElement("path",{d:"M105.546 74.092c-.022.713-.452 1.279-.96 1.263-.51-.016-.904-.607-.882-1.32.021-.713.452-1.278.96-1.263.51.016.904.607.882 1.32M97.592 74.349c-.022.713-.452 1.278-.961 1.263-.509-.016-.904-.607-.882-1.32.022-.713.452-1.279.961-1.263.51.016.904.606.882 1.32",fill:"#552950"}),s.createElement("path",{d:"M91.132 86.786s5.269 4.957 12.679 2.327",stroke:"#DB836E",strokeWidth:"1.145",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M99.776 81.903s-3.592.232-1.44-2.79c1.59-1.496 4.897-.46 4.897-.46s1.156 3.906-3.457 3.25",fill:"#DB836E"}),s.createElement("path",{d:"M102.88 70.6s2.483.84 3.402.715M93.883 71.975s2.492-1.144 4.778-1.073",stroke:"#5C2552",strokeWidth:"1.526",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M86.32 77.374s.961.879 1.458 2.106c-.377.48-1.033 1.152-.236 1.809M99.337 83.719s1.911.151 2.509-.254",stroke:"#DB836E",strokeWidth:"1.145",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M87.782 115.821l15.73-3.012M100.165 115.821l10.04-2.008",stroke:"#E4EBF7",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M66.508 86.763s-1.598 8.83-6.697 14.078",stroke:"#E4EBF7",strokeWidth:"1.114",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M128.31 87.934s3.013 4.121 4.06 11.785",stroke:"#E4EBF7",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M64.09 84.816s-6.03 9.912-13.607 9.903",stroke:"#DB836E",strokeWidth:".795",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M112.366 65.909l-.142 5.32s5.993 4.472 11.945 9.202c4.482 3.562 8.888 7.455 10.985 8.662 4.804 2.766 8.9 3.355 11.076 1.808 4.071-2.894 4.373-9.878-8.136-15.263-4.271-1.838-16.144-6.36-25.728-9.73",fill:"#FFC6A0"}),s.createElement("path",{d:"M130.532 85.488s4.588 5.757 11.619 6.214",stroke:"#DB836E",strokeWidth:".75",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M121.708 105.73s-.393 8.564-1.34 13.612",stroke:"#E4EBF7",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M115.784 161.512s-3.57-1.488-2.678-7.14",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M101.52 290.246s4.326 2.057 7.408 1.03c2.842-.948 4.564.673 7.132 1.186 2.57.514 6.925 1.108 11.772-1.269-.104-5.551-6.939-4.01-12.048-6.763-2.582-1.39-3.812-4.757-3.625-8.863h-9.471s-1.402 10.596-1.169 14.68",fill:"#CBD1D1"}),s.createElement("path",{d:"M101.496 290.073s2.447 1.281 6.809.658c3.081-.44 3.74.485 7.479 1.039 3.739.554 10.802-.07 11.91-.9.415 1.108-.347 2.077-.347 2.077s-1.523.608-4.847.831c-2.045.137-5.843.293-7.663-.507-1.8-1.385-5.286-1.917-5.77-.243-3.947.958-7.41-.288-7.41-.288l-.16-2.667z",fill:"#2B0849"}),s.createElement("path",{d:"M108.824 276.19h3.116s-.103 6.751 4.57 8.62c-4.673.624-8.62-2.32-7.686-8.62",fill:"#A4AABA"}),s.createElement("path",{d:"M57.65 272.52s-2.122 7.47-4.518 12.396c-1.811 3.724-4.255 7.548 5.505 7.548 6.698 0 9.02-.483 7.479-6.648-1.541-6.164.268-13.296.268-13.296H57.65z",fill:"#CBD1D1"}),s.createElement("path",{d:"M51.54 290.04s2.111 1.178 6.682 1.178c6.128 0 8.31-1.662 8.31-1.662s.605 1.122-.624 2.18c-1 .862-3.624 1.603-7.444 1.559-4.177-.049-5.876-.57-6.786-1.177-.831-.554-.692-1.593-.138-2.078",fill:"#2B0849"}),s.createElement("path",{d:"M58.533 274.438s.034 1.529-.315 2.95c-.352 1.431-1.087 3.127-1.139 4.17-.058 1.16 4.57 1.592 5.194.035.623-1.559 1.303-6.475 1.927-7.306.622-.831-4.94-2.135-5.667.15",fill:"#A4AABA"}),s.createElement("path",{d:"M100.885 277.015l13.306.092s1.291-54.228 1.843-64.056c.552-9.828 3.756-43.13.997-62.788l-12.48-.64-22.725.776s-.433 3.944-1.19 9.921c-.062.493-.677.838-.744 1.358-.075.582.42 1.347.318 1.956-2.35 14.003-6.343 32.926-8.697 46.425-.116.663-1.227 1.004-1.45 2.677-.04.3.21 1.516.112 1.785-6.836 18.643-10.89 47.584-14.2 61.551l14.528-.014s2.185-8.524 4.008-16.878c2.796-12.817 22.987-84.553 22.987-84.553l3-.517 1.037 46.1s-.223 1.228.334 2.008c.558.782-.556 1.117-.39 2.233l.39 1.784s-.446 7.14-.892 11.826c-.446 4.685-.092 38.954-.092 38.954",fill:"#7BB2F9"}),s.createElement("path",{d:"M77.438 220.434c1.146.094 4.016-2.008 6.916-4.91M107.55 223.931s2.758-1.103 6.069-3.862",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M108.459 220.905s2.759-1.104 6.07-3.863",stroke:"#648BD8",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M76.099 223.557s2.608-.587 6.47-3.346M87.33 150.82c-.27 3.088.297 8.478-4.315 9.073M104.829 149.075s.11 13.936-1.286 14.983c-2.207 1.655-2.975 1.934-2.975 1.934M101.014 149.63s.035 12.81-1.19 24.245M94.93 174.965s7.174-1.655 9.38-1.655M75.671 204.754c-.316 1.55-.64 3.067-.973 4.535 0 0-1.45 1.822-1.003 3.756.446 1.934-.943 2.034-4.96 15.273-1.686 5.559-4.464 18.49-6.313 27.447-.078.38-4.018 18.06-4.093 18.423M77.043 196.743a313.269 313.269 0 0 1-.877 4.729M83.908 151.414l-1.19 10.413s-1.091.148-.496 2.23c.111 1.34-2.66 15.692-5.153 30.267M57.58 272.94h13.238",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M117.377 147.423s-16.955-3.087-35.7.199c.157 2.501-.002 4.128-.002 4.128s14.607-2.802 35.476-.31c.251-2.342.226-4.017.226-4.017",fill:"#192064"}),s.createElement("path",{d:"M107.511 150.353l.004-4.885a.807.807 0 0 0-.774-.81c-2.428-.092-5.04-.108-7.795-.014a.814.814 0 0 0-.784.81l-.003 4.88c0 .456.371.82.827.808a140.76 140.76 0 0 1 7.688.017.81.81 0 0 0 .837-.806",fill:"#FFF"}),s.createElement("path",{d:"M106.402 149.426l.002-3.06a.64.64 0 0 0-.616-.643 94.135 94.135 0 0 0-5.834-.009.647.647 0 0 0-.626.643l-.001 3.056c0 .36.291.648.651.64 1.78-.04 3.708-.041 5.762.012.36.009.662-.279.662-.64",fill:"#192064"}),s.createElement("path",{d:"M101.485 273.933h12.272M102.652 269.075c.006 3.368.04 5.759.11 6.47M102.667 263.125c-.009 1.53-.015 2.98-.016 4.313M102.204 174.024l.893 44.402s.669 1.561-.224 2.677c-.892 1.116 2.455.67.893 2.231-1.562 1.562.893 1.116 0 3.347-.592 1.48-.988 20.987-1.09 34.956",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"})));const iA={success:Lt.Z,error:hr.Z,info:Hn.Z,warning:K4},A_={404:X4,500:Y4,403:rA},oA=Object.keys(A_),aA=e=>{let{prefixCls:t,icon:a,status:o}=e;const f=Y()(`${t}-icon`);if(oA.includes(`${o}`)){const C=A_[o];return s.createElement("div",{className:`${f} ${t}-image`},s.createElement(C,null))}const y=s.createElement(iA[o]);return a===null||a===!1?null:s.createElement("div",{className:f},a||y)},sA=e=>{let{prefixCls:t,extra:a}=e;return a?s.createElement("div",{className:`${t}-extra`},a):null},Fx=e=>{let{prefixCls:t,className:a,rootClassName:o,subTitle:f,title:y,style:C,children:w,status:I="info",icon:D,extra:z}=e;const{getPrefixCls:L,direction:k,result:Z}=s.useContext(ve.E_),j=L("result",t),[G,H,K]=nA(j),ee=Y()(j,`${j}-${I}`,a,Z==null?void 0:Z.className,o,{[`${j}-rtl`]:k==="rtl"},H,K),ie=Object.assign(Object.assign({},Z==null?void 0:Z.style),C);return G(s.createElement("div",{className:ee,style:ie},s.createElement(aA,{prefixCls:j,status:I,icon:D}),s.createElement("div",{className:`${j}-title`},y),f&&s.createElement("div",{className:`${j}-subtitle`},f),s.createElement(sA,{prefixCls:j,extra:z}),w&&s.createElement("div",{className:`${j}-content`},w)))};Fx.PRESENTED_IMAGE_403=A_[403],Fx.PRESENTED_IMAGE_404=A_[404],Fx.PRESENTED_IMAGE_500=A_[500];var lA=Fx,cA=hE.Z,uA=F(82162),dA=F(80300),rw=F(85990),fA=e=>{const{value:t,formatter:a,precision:o,decimalSeparator:f,groupSeparator:y="",prefixCls:C}=e;let w;if(typeof a=="function")w=a(t);else{const I=String(t),D=I.match(/^(-?)(\d*)(\.(\d+))?$/);if(!D||I==="-")w=I;else{const z=D[1];let L=D[2]||"0",k=D[4]||"";L=L.replace(/\B(?=(\d{3})+(?!\d))/g,y),typeof o=="number"&&(k=k.padEnd(o,"0").slice(0,o>0?o:0)),k&&(k=`${f}${k}`),w=[s.createElement("span",{key:"int",className:`${C}-content-value-int`},z,L),k&&s.createElement("span",{key:"decimal",className:`${C}-content-value-decimal`},k)]}}return s.createElement("span",{className:`${C}-content-value`},w)};const hA=e=>{const{componentCls:t,marginXXS:a,padding:o,colorTextDescription:f,titleFontSize:y,colorTextHeading:C,contentFontSize:w,fontFamily:I}=e;return{[t]:Object.assign(Object.assign({},(0,Wt.Wf)(e)),{[`${t}-title`]:{marginBottom:a,color:f,fontSize:y},[`${t}-skeleton`]:{paddingTop:o},[`${t}-content`]:{color:C,fontSize:w,fontFamily:I,[`${t}-content-value`]:{display:"inline-block",direction:"ltr"},[`${t}-content-prefix, ${t}-content-suffix`]:{display:"inline-block"},[`${t}-content-prefix`]:{marginInlineEnd:a},[`${t}-content-suffix`]:{marginInlineStart:a}}})}},mA=e=>{const{fontSizeHeading3:t,fontSize:a}=e;return{titleFontSize:a,contentFontSize:t}};var pA=(0,te.I$)("Statistic",e=>{const t=(0,Ur.IX)(e,{});return[hA(t)]},mA),gA=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},iw=e=>{const{prefixCls:t,className:a,rootClassName:o,style:f,valueStyle:y,value:C=0,title:w,valueRender:I,prefix:D,suffix:z,loading:L=!1,formatter:k,precision:Z,decimalSeparator:j=".",groupSeparator:G=",",onMouseEnter:H,onMouseLeave:K}=e,ee=gA(e,["prefixCls","className","rootClassName","style","valueStyle","value","title","valueRender","prefix","suffix","loading","formatter","precision","decimalSeparator","groupSeparator","onMouseEnter","onMouseLeave"]),{getPrefixCls:ie,direction:oe,className:re,style:se}=(0,ve.dj)("statistic"),ue=ie("statistic",t),[me,pe,ye]=pA(ue),Se=s.createElement(fA,{decimalSeparator:j,groupSeparator:G,prefixCls:ue,formatter:k,precision:Z,value:C}),Ie=Y()(ue,{[`${ue}-rtl`]:oe==="rtl"},re,a,o,pe,ye),we=(0,lt.Z)(ee,{aria:!0,data:!0});return me(s.createElement("div",Object.assign({},we,{className:Ie,style:Object.assign(Object.assign({},se),f),onMouseEnter:H,onMouseLeave:K}),w&&s.createElement("div",{className:`${ue}-title`},w),s.createElement(Tr,{paragraph:!1,loading:L,className:`${ue}-skeleton`},s.createElement("div",{style:y,className:`${ue}-content`},D&&s.createElement("span",{className:`${ue}-content-prefix`},D),I?I(Se):Se,z&&s.createElement("span",{className:`${ue}-content-suffix`},z)))))};const vA=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]];function yA(e,t){let a=e;const o=/\[[^\]]*]/g,f=(t.match(o)||[]).map(I=>I.slice(1,-1)),y=t.replace(o,"[]"),C=vA.reduce((I,D)=>{let[z,L]=D;if(I.includes(z)){const k=Math.floor(a/L);return a-=k*L,I.replace(new RegExp(`${z}+`,"g"),Z=>{const j=Z.length;return k.toString().padStart(j,"0")})}return I},y);let w=0;return C.replace(o,()=>{const I=f[w];return w+=1,I})}function _A(e,t){const{format:a=""}=t,o=new Date(e).getTime(),f=Date.now(),y=Math.max(o-f,0);return yA(y,a)}var bA=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const xA=1e3/30;function CA(e){return new Date(e).getTime()}const SA=e=>{const{value:t,format:a="HH:mm:ss",onChange:o,onFinish:f}=e,y=bA(e,["value","format","onChange","onFinish"]),C=(0,rw.Z)(),w=s.useRef(null),I=()=>{f==null||f(),w.current&&(clearInterval(w.current),w.current=null)},D=()=>{const k=CA(t);k>=Date.now()&&(w.current=setInterval(()=>{C(),o==null||o(k-Date.now()),k<Date.now()&&I()},xA))};s.useEffect(()=>(D(),()=>{w.current&&(clearInterval(w.current),w.current=null)}),[t]);const z=(k,Z)=>_A(k,Object.assign(Object.assign({},Z),{format:a})),L=k=>(0,bn.Tm)(k,{title:void 0});return s.createElement(iw,Object.assign({},y,{value:t,valueRender:L,formatter:z}))};var wA=s.memo(SA);iw.Countdown=wA;var EA=iw,IA=["className","prefixCls","style","active","status","iconPrefix","icon","wrapperStyle","stepNumber","disabled","description","title","subTitle","progressDot","stepIcon","tailContent","icons","stepIndex","onStepClick","onClick","render"];function fI(e){return typeof e=="string"}function MA(e){var t,a=e.className,o=e.prefixCls,f=e.style,y=e.active,C=e.status,w=e.iconPrefix,I=e.icon,D=e.wrapperStyle,z=e.stepNumber,L=e.disabled,k=e.description,Z=e.title,j=e.subTitle,G=e.progressDot,H=e.stepIcon,K=e.tailContent,ee=e.icons,ie=e.stepIndex,oe=e.onStepClick,re=e.onClick,se=e.render,ue=(0,de.Z)(e,IA),me=!!oe&&!L,pe={};me&&(pe.role="button",pe.tabIndex=0,pe.onClick=function(Re){re==null||re(Re),oe(ie)},pe.onKeyDown=function(Re){var je=Re.which;(je===et.Z.ENTER||je===et.Z.SPACE)&&oe(ie)});var ye=function(){var je,Ne,nt=Y()("".concat(o,"-icon"),"".concat(w,"icon"),(je={},(0,he.Z)(je,"".concat(w,"icon-").concat(I),I&&fI(I)),(0,he.Z)(je,"".concat(w,"icon-check"),!I&&C==="finish"&&(ee&&!ee.finish||!ee)),(0,he.Z)(je,"".concat(w,"icon-cross"),!I&&C==="error"&&(ee&&!ee.error||!ee)),je)),at=s.createElement("span",{className:"".concat(o,"-icon-dot")});return G?typeof G=="function"?Ne=s.createElement("span",{className:"".concat(o,"-icon")},G(at,{index:z-1,status:C,title:Z,description:k})):Ne=s.createElement("span",{className:"".concat(o,"-icon")},at):I&&!fI(I)?Ne=s.createElement("span",{className:"".concat(o,"-icon")},I):ee&&ee.finish&&C==="finish"?Ne=s.createElement("span",{className:"".concat(o,"-icon")},ee.finish):ee&&ee.error&&C==="error"?Ne=s.createElement("span",{className:"".concat(o,"-icon")},ee.error):I||C==="finish"||C==="error"?Ne=s.createElement("span",{className:nt}):Ne=s.createElement("span",{className:"".concat(o,"-icon")},z),H&&(Ne=H({index:z-1,status:C,title:Z,description:k,node:Ne})),Ne},Se=C||"wait",Ie=Y()("".concat(o,"-item"),"".concat(o,"-item-").concat(Se),a,(t={},(0,he.Z)(t,"".concat(o,"-item-custom"),I),(0,he.Z)(t,"".concat(o,"-item-active"),y),(0,he.Z)(t,"".concat(o,"-item-disabled"),L===!0),t)),we=(0,X.Z)({},f),Be=s.createElement("div",(0,Ze.Z)({},ue,{className:Ie,style:we}),s.createElement("div",(0,Ze.Z)({onClick:re},pe,{className:"".concat(o,"-item-container")}),s.createElement("div",{className:"".concat(o,"-item-tail")},K),s.createElement("div",{className:"".concat(o,"-item-icon")},ye()),s.createElement("div",{className:"".concat(o,"-item-content")},s.createElement("div",{className:"".concat(o,"-item-title")},Z,j&&s.createElement("div",{title:typeof j=="string"?j:void 0,className:"".concat(o,"-item-subtitle")},j)),k&&s.createElement("div",{className:"".concat(o,"-item-description")},k))));return se&&(Be=se(Be)||null),Be}var hI=MA,TA=["prefixCls","style","className","children","direction","type","labelPlacement","iconPrefix","status","size","current","progressDot","stepIcon","initial","icons","onChange","itemRender","items"];function mI(e){var t,a=e.prefixCls,o=a===void 0?"rc-steps":a,f=e.style,y=f===void 0?{}:f,C=e.className,w=e.children,I=e.direction,D=I===void 0?"horizontal":I,z=e.type,L=z===void 0?"default":z,k=e.labelPlacement,Z=k===void 0?"horizontal":k,j=e.iconPrefix,G=j===void 0?"rc":j,H=e.status,K=H===void 0?"process":H,ee=e.size,ie=e.current,oe=ie===void 0?0:ie,re=e.progressDot,se=re===void 0?!1:re,ue=e.stepIcon,me=e.initial,pe=me===void 0?0:me,ye=e.icons,Se=e.onChange,Ie=e.itemRender,we=e.items,Be=we===void 0?[]:we,Re=(0,de.Z)(e,TA),je=L==="navigation",Ne=L==="inline",nt=Ne||se,at=Ne?"horizontal":D,Ct=Ne?void 0:ee,St=nt?"vertical":Z,_t=Y()(o,"".concat(o,"-").concat(at),C,(t={},(0,he.Z)(t,"".concat(o,"-").concat(Ct),Ct),(0,he.Z)(t,"".concat(o,"-label-").concat(St),at==="horizontal"),(0,he.Z)(t,"".concat(o,"-dot"),!!nt),(0,he.Z)(t,"".concat(o,"-navigation"),je),(0,he.Z)(t,"".concat(o,"-inline"),Ne),t)),ft=function(It){Se&&oe!==It&&Se(It)},vt=function(It,Ft){var wt=(0,X.Z)({},It),pn=pe+Ft;return K==="error"&&Ft===oe-1&&(wt.className="".concat(o,"-next-error")),wt.status||(pn===oe?wt.status=K:pn<oe?wt.status="finish":wt.status="wait"),Ne&&(wt.icon=void 0,wt.subTitle=void 0),!wt.render&&Ie&&(wt.render=function(Bn){return Ie(wt,Bn)}),s.createElement(hI,(0,Ze.Z)({},wt,{active:pn===oe,stepNumber:pn+1,stepIndex:pn,key:pn,prefixCls:o,iconPrefix:G,wrapperStyle:y,progressDot:nt,stepIcon:ue,icons:ye,onStepClick:Se&&ft}))};return s.createElement("div",(0,Ze.Z)({className:_t,style:y},Re),Be.filter(function($t){return $t}).map(vt))}mI.Step=hI;var PA=mI,pI=PA,OA=e=>{const{componentCls:t,customIconTop:a,customIconSize:o,customIconFontSize:f}=e;return{[`${t}-item-custom`]:{[`> ${t}-item-container > ${t}-item-icon`]:{height:"auto",background:"none",border:0,[`> ${t}-icon`]:{top:a,width:o,height:o,fontSize:f,lineHeight:(0,fe.bf)(o)}}},[`&:not(${t}-vertical)`]:{[`${t}-item-custom`]:{[`${t}-item-icon`]:{width:"auto",background:"none"}}}}},RA=e=>{const{componentCls:t}=e,a=`${t}-item`;return{[`${t}-horizontal`]:{[`${a}-tail`]:{transform:"translateY(-50%)"}}}},$A=e=>{const{componentCls:t,inlineDotSize:a,inlineTitleColor:o,inlineTailColor:f}=e,y=e.calc(e.paddingXS).add(e.lineWidth).equal(),C={[`${t}-item-container ${t}-item-content ${t}-item-title`]:{color:o}};return{[`&${t}-inline`]:{width:"auto",display:"inline-flex",[`${t}-item`]:{flex:"none","&-container":{padding:`${(0,fe.bf)(y)} ${(0,fe.bf)(e.paddingXXS)} 0`,margin:`0 ${(0,fe.bf)(e.calc(e.marginXXS).div(2).equal())}`,borderRadius:e.borderRadiusSM,cursor:"pointer",transition:`background-color ${e.motionDurationMid}`,"&:hover":{background:e.controlItemBgHover},"&[role='button']:hover":{opacity:1}},"&-icon":{width:a,height:a,marginInlineStart:`calc(50% - ${(0,fe.bf)(e.calc(a).div(2).equal())})`,[`> ${t}-icon`]:{top:0},[`${t}-icon-dot`]:{borderRadius:e.calc(e.fontSizeSM).div(4).equal(),"&::after":{display:"none"}}},"&-content":{width:"auto",marginTop:e.calc(e.marginXS).sub(e.lineWidth).equal()},"&-title":{color:o,fontSize:e.fontSizeSM,lineHeight:e.lineHeightSM,fontWeight:"normal",marginBottom:e.calc(e.marginXXS).div(2).equal()},"&-description":{display:"none"},"&-tail":{marginInlineStart:0,top:e.calc(a).div(2).add(y).equal(),transform:"translateY(-50%)","&:after":{width:"100%",height:e.lineWidth,borderRadius:0,marginInlineStart:0,background:f}},[`&:first-child ${t}-item-tail`]:{width:"50%",marginInlineStart:"50%"},[`&:last-child ${t}-item-tail`]:{display:"block",width:"50%"},"&-wait":Object.assign({[`${t}-item-icon ${t}-icon ${t}-icon-dot`]:{backgroundColor:e.colorBorderBg,border:`${(0,fe.bf)(e.lineWidth)} ${e.lineType} ${f}`}},C),"&-finish":Object.assign({[`${t}-item-tail::after`]:{backgroundColor:f},[`${t}-item-icon ${t}-icon ${t}-icon-dot`]:{backgroundColor:f,border:`${(0,fe.bf)(e.lineWidth)} ${e.lineType} ${f}`}},C),"&-error":C,"&-active, &-process":Object.assign({[`${t}-item-icon`]:{width:a,height:a,marginInlineStart:`calc(50% - ${(0,fe.bf)(e.calc(a).div(2).equal())})`,top:0}},C),[`&:not(${t}-item-active) > ${t}-item-container[role='button']:hover`]:{[`${t}-item-title`]:{color:o}}}}}},AA=e=>{const{componentCls:t,iconSize:a,lineHeight:o,iconSizeSM:f}=e;return{[`&${t}-label-vertical`]:{[`${t}-item`]:{overflow:"visible","&-tail":{marginInlineStart:e.calc(a).div(2).add(e.controlHeightLG).equal(),padding:`0 ${(0,fe.bf)(e.paddingLG)}`},"&-content":{display:"block",width:e.calc(a).div(2).add(e.controlHeightLG).mul(2).equal(),marginTop:e.marginSM,textAlign:"center"},"&-icon":{display:"inline-block",marginInlineStart:e.controlHeightLG},"&-title":{paddingInlineEnd:0,paddingInlineStart:0,"&::after":{display:"none"}},"&-subtitle":{display:"block",marginBottom:e.marginXXS,marginInlineStart:0,lineHeight:o}},[`&${t}-small:not(${t}-dot)`]:{[`${t}-item`]:{"&-icon":{marginInlineStart:e.calc(a).sub(f).div(2).add(e.controlHeightLG).equal()}}}}}},DA=e=>{const{componentCls:t,navContentMaxWidth:a,navArrowColor:o,stepsNavActiveColor:f,motionDurationSlow:y}=e;return{[`&${t}-navigation`]:{paddingTop:e.paddingSM,[`&${t}-small`]:{[`${t}-item`]:{"&-container":{marginInlineStart:e.calc(e.marginSM).mul(-1).equal()}}},[`${t}-item`]:{overflow:"visible",textAlign:"center","&-container":{display:"inline-block",height:"100%",marginInlineStart:e.calc(e.margin).mul(-1).equal(),paddingBottom:e.paddingSM,textAlign:"start",transition:`opacity ${y}`,[`${t}-item-content`]:{maxWidth:a},[`${t}-item-title`]:Object.assign(Object.assign({maxWidth:"100%",paddingInlineEnd:0},Wt.vS),{"&::after":{display:"none"}})},[`&:not(${t}-item-active)`]:{[`${t}-item-container[role='button']`]:{cursor:"pointer","&:hover":{opacity:.85}}},"&:last-child":{flex:1,"&::after":{display:"none"}},"&::after":{position:"absolute",top:`calc(50% - ${(0,fe.bf)(e.calc(e.paddingSM).div(2).equal())})`,insetInlineStart:"100%",display:"inline-block",width:e.fontSizeIcon,height:e.fontSizeIcon,borderTop:`${(0,fe.bf)(e.lineWidth)} ${e.lineType} ${o}`,borderBottom:"none",borderInlineStart:"none",borderInlineEnd:`${(0,fe.bf)(e.lineWidth)} ${e.lineType} ${o}`,transform:"translateY(-50%) translateX(-50%) rotate(45deg)",content:'""'},"&::before":{position:"absolute",bottom:0,insetInlineStart:"50%",display:"inline-block",width:0,height:e.lineWidthBold,backgroundColor:f,transition:`width ${y}, inset-inline-start ${y}`,transitionTimingFunction:"ease-out",content:'""'}},[`${t}-item${t}-item-active::before`]:{insetInlineStart:0,width:"100%"}},[`&${t}-navigation${t}-vertical`]:{[`> ${t}-item`]:{marginInlineEnd:0,"&::before":{display:"none"},[`&${t}-item-active::before`]:{top:0,insetInlineEnd:0,insetInlineStart:"unset",display:"block",width:e.calc(e.lineWidth).mul(3).equal(),height:`calc(100% - ${(0,fe.bf)(e.marginLG)})`},"&::after":{position:"relative",insetInlineStart:"50%",display:"block",width:e.calc(e.controlHeight).mul(.25).equal(),height:e.calc(e.controlHeight).mul(.25).equal(),marginBottom:e.marginXS,textAlign:"center",transform:"translateY(-50%) translateX(-50%) rotate(135deg)"},"&:last-child":{"&::after":{display:"none"}},[`> ${t}-item-container > ${t}-item-tail`]:{visibility:"hidden"}}},[`&${t}-navigation${t}-horizontal`]:{[`> ${t}-item > ${t}-item-container > ${t}-item-tail`]:{visibility:"hidden"}}}},zA=e=>{const{antCls:t,componentCls:a,iconSize:o,iconSizeSM:f,processIconColor:y,marginXXS:C,lineWidthBold:w,lineWidth:I,paddingXXS:D}=e,z=e.calc(o).add(e.calc(w).mul(4).equal()).equal(),L=e.calc(f).add(e.calc(e.lineWidth).mul(4).equal()).equal();return{[`&${a}-with-progress`]:{[`${a}-item`]:{paddingTop:D,[`&-process ${a}-item-container ${a}-item-icon ${a}-icon`]:{color:y}},[`&${a}-vertical > ${a}-item `]:{paddingInlineStart:D,[`> ${a}-item-container > ${a}-item-tail`]:{top:C,insetInlineStart:e.calc(o).div(2).sub(I).add(D).equal()}},[`&, &${a}-small`]:{[`&${a}-horizontal ${a}-item:first-child`]:{paddingBottom:D,paddingInlineStart:D}},[`&${a}-small${a}-vertical > ${a}-item > ${a}-item-container > ${a}-item-tail`]:{insetInlineStart:e.calc(f).div(2).sub(I).add(D).equal()},[`&${a}-label-vertical ${a}-item ${a}-item-tail`]:{top:e.calc(o).div(2).add(D).equal()},[`${a}-item-icon`]:{position:"relative",[`${t}-progress`]:{position:"absolute",insetInlineStart:"50%",top:"50%",transform:"translate(-50%, -50%)","&-inner":{width:`${(0,fe.bf)(z)} !important`,height:`${(0,fe.bf)(z)} !important`}}},[`&${a}-small`]:{[`&${a}-label-vertical ${a}-item ${a}-item-tail`]:{top:e.calc(f).div(2).add(D).equal()},[`${a}-item-icon ${t}-progress-inner`]:{width:`${(0,fe.bf)(L)} !important`,height:`${(0,fe.bf)(L)} !important`}}}}},LA=e=>{const{componentCls:t,descriptionMaxWidth:a,lineHeight:o,dotCurrentSize:f,dotSize:y,motionDurationSlow:C}=e;return{[`&${t}-dot, &${t}-dot${t}-small`]:{[`${t}-item`]:{"&-title":{lineHeight:o},"&-tail":{top:e.calc(e.dotSize).sub(e.calc(e.lineWidth).mul(3).equal()).div(2).equal(),width:"100%",marginTop:0,marginBottom:0,marginInline:`${(0,fe.bf)(e.calc(a).div(2).equal())} 0`,padding:0,"&::after":{width:`calc(100% - ${(0,fe.bf)(e.calc(e.marginSM).mul(2).equal())})`,height:e.calc(e.lineWidth).mul(3).equal(),marginInlineStart:e.marginSM}},"&-icon":{width:y,height:y,marginInlineStart:e.calc(e.descriptionMaxWidth).sub(y).div(2).equal(),paddingInlineEnd:0,lineHeight:(0,fe.bf)(y),background:"transparent",border:0,[`${t}-icon-dot`]:{position:"relative",float:"left",width:"100%",height:"100%",borderRadius:100,transition:`all ${C}`,"&::after":{position:"absolute",top:e.calc(e.marginSM).mul(-1).equal(),insetInlineStart:e.calc(y).sub(e.calc(e.controlHeightLG).mul(1.5).equal()).div(2).equal(),width:e.calc(e.controlHeightLG).mul(1.5).equal(),height:e.controlHeight,background:"transparent",content:'""'}}},"&-content":{width:a},[`&-process ${t}-item-icon`]:{position:"relative",top:e.calc(y).sub(f).div(2).equal(),width:f,height:f,lineHeight:(0,fe.bf)(f),background:"none",marginInlineStart:e.calc(e.descriptionMaxWidth).sub(f).div(2).equal()},[`&-process ${t}-icon`]:{[`&:first-child ${t}-icon-dot`]:{insetInlineStart:0}}}},[`&${t}-vertical${t}-dot`]:{[`${t}-item-icon`]:{marginTop:e.calc(e.controlHeight).sub(y).div(2).equal(),marginInlineStart:0,background:"none"},[`${t}-item-process ${t}-item-icon`]:{marginTop:e.calc(e.controlHeight).sub(f).div(2).equal(),top:0,insetInlineStart:e.calc(y).sub(f).div(2).equal(),marginInlineStart:0},[`${t}-item > ${t}-item-container > ${t}-item-tail`]:{top:e.calc(e.controlHeight).sub(y).div(2).equal(),insetInlineStart:0,margin:0,padding:`${(0,fe.bf)(e.calc(y).add(e.paddingXS).equal())} 0 ${(0,fe.bf)(e.paddingXS)}`,"&::after":{marginInlineStart:e.calc(y).sub(e.lineWidth).div(2).equal()}},[`&${t}-small`]:{[`${t}-item-icon`]:{marginTop:e.calc(e.controlHeightSM).sub(y).div(2).equal()},[`${t}-item-process ${t}-item-icon`]:{marginTop:e.calc(e.controlHeightSM).sub(f).div(2).equal()},[`${t}-item > ${t}-item-container > ${t}-item-tail`]:{top:e.calc(e.controlHeightSM).sub(y).div(2).equal()}},[`${t}-item:first-child ${t}-icon-dot`]:{insetInlineStart:0},[`${t}-item-content`]:{width:"inherit"}}}},NA=e=>{const{componentCls:t}=e;return{[`&${t}-rtl`]:{direction:"rtl",[`${t}-item`]:{"&-subtitle":{float:"left"}},[`&${t}-navigation`]:{[`${t}-item::after`]:{transform:"rotate(-45deg)"}},[`&${t}-vertical`]:{[`> ${t}-item`]:{"&::after":{transform:"rotate(225deg)"},[`${t}-item-icon`]:{float:"right"}}},[`&${t}-dot`]:{[`${t}-item-icon ${t}-icon-dot, &${t}-small ${t}-item-icon ${t}-icon-dot`]:{float:"right"}}}}},BA=e=>{const{componentCls:t,iconSizeSM:a,fontSizeSM:o,fontSize:f,colorTextDescription:y}=e;return{[`&${t}-small`]:{[`&${t}-horizontal:not(${t}-label-vertical) ${t}-item`]:{paddingInlineStart:e.paddingSM,"&:first-child":{paddingInlineStart:0}},[`${t}-item-icon`]:{width:a,height:a,marginTop:0,marginBottom:0,marginInline:`0 ${(0,fe.bf)(e.marginXS)}`,fontSize:o,lineHeight:(0,fe.bf)(a),textAlign:"center",borderRadius:a},[`${t}-item-title`]:{paddingInlineEnd:e.paddingSM,fontSize:f,lineHeight:(0,fe.bf)(a),"&::after":{top:e.calc(a).div(2).equal()}},[`${t}-item-description`]:{color:y,fontSize:f},[`${t}-item-tail`]:{top:e.calc(a).div(2).sub(e.paddingXXS).equal()},[`${t}-item-custom ${t}-item-icon`]:{width:"inherit",height:"inherit",lineHeight:"inherit",background:"none",border:0,borderRadius:0,[`> ${t}-icon`]:{fontSize:a,lineHeight:(0,fe.bf)(a),transform:"none"}}}}},FA=e=>{const{componentCls:t,iconSizeSM:a,iconSize:o}=e;return{[`&${t}-vertical`]:{display:"flex",flexDirection:"column",[`> ${t}-item`]:{display:"block",flex:"1 0 auto",paddingInlineStart:0,overflow:"visible",[`${t}-item-icon`]:{float:"left",marginInlineEnd:e.margin},[`${t}-item-content`]:{display:"block",minHeight:e.calc(e.controlHeight).mul(1.5).equal(),overflow:"hidden"},[`${t}-item-title`]:{lineHeight:(0,fe.bf)(o)},[`${t}-item-description`]:{paddingBottom:e.paddingSM}},[`> ${t}-item > ${t}-item-container > ${t}-item-tail`]:{position:"absolute",top:0,insetInlineStart:e.calc(o).div(2).sub(e.lineWidth).equal(),width:e.lineWidth,height:"100%",padding:`${(0,fe.bf)(e.calc(e.marginXXS).mul(1.5).add(o).equal())} 0 ${(0,fe.bf)(e.calc(e.marginXXS).mul(1.5).equal())}`,"&::after":{width:e.lineWidth,height:"100%"}},[`> ${t}-item:not(:last-child) > ${t}-item-container > ${t}-item-tail`]:{display:"block"},[` > ${t}-item > ${t}-item-container > ${t}-item-content > ${t}-item-title`]:{"&::after":{display:"none"}},[`&${t}-small ${t}-item-container`]:{[`${t}-item-tail`]:{position:"absolute",top:0,insetInlineStart:e.calc(a).div(2).sub(e.lineWidth).equal(),padding:`${(0,fe.bf)(e.calc(e.marginXXS).mul(1.5).add(a).equal())} 0 ${(0,fe.bf)(e.calc(e.marginXXS).mul(1.5).equal())}`},[`${t}-item-title`]:{lineHeight:(0,fe.bf)(a)}}}}};const kA="wait",jA="process",ZA="finish",VA="error",kx=(e,t)=>{const a=`${t.componentCls}-item`,o=`${e}IconColor`,f=`${e}TitleColor`,y=`${e}DescriptionColor`,C=`${e}TailColor`,w=`${e}IconBgColor`,I=`${e}IconBorderColor`,D=`${e}DotColor`;return{[`${a}-${e} ${a}-icon`]:{backgroundColor:t[w],borderColor:t[I],[`> ${t.componentCls}-icon`]:{color:t[o],[`${t.componentCls}-icon-dot`]:{background:t[D]}}},[`${a}-${e}${a}-custom ${a}-icon`]:{[`> ${t.componentCls}-icon`]:{color:t[D]}},[`${a}-${e} > ${a}-container > ${a}-content > ${a}-title`]:{color:t[f],"&::after":{backgroundColor:t[C]}},[`${a}-${e} > ${a}-container > ${a}-content > ${a}-description`]:{color:t[y]},[`${a}-${e} > ${a}-container > ${a}-tail::after`]:{backgroundColor:t[C]}}},HA=e=>{const{componentCls:t,motionDurationSlow:a}=e,o=`${t}-item`,f=`${o}-icon`;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[o]:{position:"relative",display:"inline-block",flex:1,overflow:"hidden",verticalAlign:"top","&:last-child":{flex:"none",[`> ${o}-container > ${o}-tail, > ${o}-container >  ${o}-content > ${o}-title::after`]:{display:"none"}}},[`${o}-container`]:{outline:"none","&:focus-visible":{[f]:Object.assign({},(0,Wt.oN)(e))}},[`${f}, ${o}-content`]:{display:"inline-block",verticalAlign:"top"},[f]:{width:e.iconSize,height:e.iconSize,marginTop:0,marginBottom:0,marginInlineStart:0,marginInlineEnd:e.marginXS,fontSize:e.iconFontSize,fontFamily:e.fontFamily,lineHeight:(0,fe.bf)(e.iconSize),textAlign:"center",borderRadius:e.iconSize,border:`${(0,fe.bf)(e.lineWidth)} ${e.lineType} transparent`,transition:`background-color ${a}, border-color ${a}`,[`${t}-icon`]:{position:"relative",top:e.iconTop,color:e.colorPrimary,lineHeight:1}},[`${o}-tail`]:{position:"absolute",top:e.calc(e.iconSize).div(2).equal(),insetInlineStart:0,width:"100%","&::after":{display:"inline-block",width:"100%",height:e.lineWidth,background:e.colorSplit,borderRadius:e.lineWidth,transition:`background ${a}`,content:'""'}},[`${o}-title`]:{position:"relative",display:"inline-block",paddingInlineEnd:e.padding,color:e.colorText,fontSize:e.fontSizeLG,lineHeight:(0,fe.bf)(e.titleLineHeight),"&::after":{position:"absolute",top:e.calc(e.titleLineHeight).div(2).equal(),insetInlineStart:"100%",display:"block",width:9999,height:e.lineWidth,background:e.processTailColor,content:'""'}},[`${o}-subtitle`]:{display:"inline",marginInlineStart:e.marginXS,color:e.colorTextDescription,fontWeight:"normal",fontSize:e.fontSize},[`${o}-description`]:{color:e.colorTextDescription,fontSize:e.fontSize}},kx(kA,e)),kx(jA,e)),{[`${o}-process > ${o}-container > ${o}-title`]:{fontWeight:e.fontWeightStrong}}),kx(ZA,e)),kx(VA,e)),{[`${o}${t}-next-error > ${t}-item-title::after`]:{background:e.colorError},[`${o}-disabled`]:{cursor:"not-allowed"}})},UA=e=>{const{componentCls:t,motionDurationSlow:a}=e;return{[`& ${t}-item`]:{[`&:not(${t}-item-active)`]:{[`& > ${t}-item-container[role='button']`]:{cursor:"pointer",[`${t}-item`]:{[`&-title, &-subtitle, &-description, &-icon ${t}-icon`]:{transition:`color ${a}`}},"&:hover":{[`${t}-item`]:{"&-title, &-subtitle, &-description":{color:e.colorPrimary}}}},[`&:not(${t}-item-process)`]:{[`& > ${t}-item-container[role='button']:hover`]:{[`${t}-item`]:{"&-icon":{borderColor:e.colorPrimary,[`${t}-icon`]:{color:e.colorPrimary}}}}}}},[`&${t}-horizontal:not(${t}-label-vertical)`]:{[`${t}-item`]:{paddingInlineStart:e.padding,whiteSpace:"nowrap","&:first-child":{paddingInlineStart:0},[`&:last-child ${t}-item-title`]:{paddingInlineEnd:0},"&-tail":{display:"none"},"&-description":{maxWidth:e.descriptionMaxWidth,whiteSpace:"normal"}}}}},WA=e=>{const{componentCls:t}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,Wt.Wf)(e)),{display:"flex",width:"100%",fontSize:0,textAlign:"initial"}),HA(e)),UA(e)),OA(e)),BA(e)),FA(e)),RA(e)),AA(e)),LA(e)),DA(e)),NA(e)),zA(e)),$A(e))}},GA=e=>({titleLineHeight:e.controlHeight,customIconSize:e.controlHeight,customIconTop:0,customIconFontSize:e.controlHeightSM,iconSize:e.controlHeight,iconTop:-.5,iconFontSize:e.fontSize,iconSizeSM:e.fontSizeHeading3,dotSize:e.controlHeight/4,dotCurrentSize:e.controlHeightLG/4,navArrowColor:e.colorTextDisabled,navContentMaxWidth:"auto",descriptionMaxWidth:140,waitIconColor:e.wireframe?e.colorTextDisabled:e.colorTextLabel,waitIconBgColor:e.wireframe?e.colorBgContainer:e.colorFillContent,waitIconBorderColor:e.wireframe?e.colorTextDisabled:"transparent",finishIconBgColor:e.wireframe?e.colorBgContainer:e.controlItemBgActive,finishIconBorderColor:e.wireframe?e.colorPrimary:e.controlItemBgActive});var KA=(0,te.I$)("Steps",e=>{const{colorTextDisabled:t,controlHeightLG:a,colorTextLightSolid:o,colorText:f,colorPrimary:y,colorTextDescription:C,colorTextQuaternary:w,colorError:I,colorBorderSecondary:D,colorSplit:z}=e,L=(0,Ur.IX)(e,{processIconColor:o,processTitleColor:f,processDescriptionColor:f,processIconBgColor:y,processIconBorderColor:y,processDotColor:y,processTailColor:z,waitTitleColor:C,waitDescriptionColor:C,waitTailColor:z,waitDotColor:t,finishIconColor:y,finishTitleColor:f,finishDescriptionColor:C,finishTailColor:y,finishDotColor:y,errorIconColor:o,errorTitleColor:I,errorDescriptionColor:I,errorTailColor:z,errorIconBgColor:I,errorIconBorderColor:I,errorDotColor:I,stepsNavActiveColor:y,stepsProgressSize:a,inlineDotSize:6,inlineTitleColor:w,inlineTailColor:D});return[WA(L)]},GA);function XA(e){return e.filter(t=>t)}function YA(e,t){if(e)return e;const a=(0,Wl.Z)(t).map(o=>{if(s.isValidElement(o)){const{props:f}=o;return Object.assign({},f)}return null});return XA(a)}var qA=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const gI=e=>{const{percent:t,size:a,className:o,rootClassName:f,direction:y,items:C,responsive:w=!0,current:I=0,children:D,style:z}=e,L=qA(e,["percent","size","className","rootClassName","direction","items","responsive","current","children","style"]),{xs:k}=(0,Xu.Z)(w),{getPrefixCls:Z,direction:j,className:G,style:H}=(0,ve.dj)("steps"),K=s.useMemo(()=>w&&k?"vertical":y,[k,y]),ee=(0,Br.Z)(a),ie=Z("steps",e.prefixCls),[oe,re,se]=KA(ie),ue=e.type==="inline",me=Z("",e.iconPrefix),pe=YA(C,D),ye=ue?void 0:t,Se=Object.assign(Object.assign({},H),z),Ie=Y()(G,{[`${ie}-rtl`]:j==="rtl",[`${ie}-with-progress`]:ye!==void 0},o,f,re,se),we={finish:s.createElement(QS.Z,{className:`${ie}-finish-icon`}),error:s.createElement(er.Z,{className:`${ie}-error-icon`})},Be=je=>{let{node:Ne,status:nt}=je;if(nt==="process"&&ye!==void 0){const at=ee==="small"?32:40;return s.createElement("div",{className:`${ie}-progress-icon`},s.createElement(tw,{type:"circle",percent:ye,size:at,strokeWidth:4,format:()=>null}),Ne)}return Ne},Re=(je,Ne)=>je.description?s.createElement(Du.Z,{title:je.description},Ne):Ne;return oe(s.createElement(pI,Object.assign({icons:we},L,{style:Se,current:I,size:ee,items:pe,itemRender:ue?Re:void 0,stepIcon:Be,direction:K,prefixCls:ie,iconPrefix:me,className:Ie})))};gI.Step=pI.Step;var JA=gI,QA=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],vI=s.forwardRef(function(e,t){var a,o=e.prefixCls,f=o===void 0?"rc-switch":o,y=e.className,C=e.checked,w=e.defaultChecked,I=e.disabled,D=e.loadingIcon,z=e.checkedChildren,L=e.unCheckedChildren,k=e.onClick,Z=e.onChange,j=e.onKeyDown,G=(0,de.Z)(e,QA),H=(0,Fs.Z)(!1,{value:C,defaultValue:w}),K=(0,Oe.Z)(H,2),ee=K[0],ie=K[1];function oe(me,pe){var ye=ee;return I||(ye=me,ie(ye),Z==null||Z(ye,pe)),ye}function re(me){me.which===et.Z.LEFT?oe(!1,me):me.which===et.Z.RIGHT&&oe(!0,me),j==null||j(me)}function se(me){var pe=oe(!ee,me);k==null||k(pe,me)}var ue=Y()(f,y,(a={},(0,he.Z)(a,"".concat(f,"-checked"),ee),(0,he.Z)(a,"".concat(f,"-disabled"),I),a));return s.createElement("button",(0,Ze.Z)({},G,{type:"button",role:"switch","aria-checked":ee,disabled:I,className:ue,ref:t,onKeyDown:re,onClick:se}),D,s.createElement("span",{className:"".concat(f,"-inner")},s.createElement("span",{className:"".concat(f,"-inner-checked")},z),s.createElement("span",{className:"".concat(f,"-inner-unchecked")},L)))});vI.displayName="Switch";var eD=vI;const tD=e=>{const{componentCls:t,trackHeightSM:a,trackPadding:o,trackMinWidthSM:f,innerMinMarginSM:y,innerMaxMarginSM:C,handleSizeSM:w,calc:I}=e,D=`${t}-inner`,z=(0,fe.bf)(I(w).add(I(o).mul(2)).equal()),L=(0,fe.bf)(I(C).mul(2).equal());return{[t]:{[`&${t}-small`]:{minWidth:f,height:a,lineHeight:(0,fe.bf)(a),[`${t}-inner`]:{paddingInlineStart:C,paddingInlineEnd:y,[`${D}-checked, ${D}-unchecked`]:{minHeight:a},[`${D}-checked`]:{marginInlineStart:`calc(-100% + ${z} - ${L})`,marginInlineEnd:`calc(100% - ${z} + ${L})`},[`${D}-unchecked`]:{marginTop:I(a).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`${t}-handle`]:{width:w,height:w},[`${t}-loading-icon`]:{top:I(I(w).sub(e.switchLoadingIconSize)).div(2).equal(),fontSize:e.switchLoadingIconSize},[`&${t}-checked`]:{[`${t}-inner`]:{paddingInlineStart:y,paddingInlineEnd:C,[`${D}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${D}-unchecked`]:{marginInlineStart:`calc(100% - ${z} + ${L})`,marginInlineEnd:`calc(-100% + ${z} - ${L})`}},[`${t}-handle`]:{insetInlineStart:`calc(100% - ${(0,fe.bf)(I(w).add(o).equal())})`}},[`&:not(${t}-disabled):active`]:{[`&:not(${t}-checked) ${D}`]:{[`${D}-unchecked`]:{marginInlineStart:I(e.marginXXS).div(2).equal(),marginInlineEnd:I(e.marginXXS).mul(-1).div(2).equal()}},[`&${t}-checked ${D}`]:{[`${D}-checked`]:{marginInlineStart:I(e.marginXXS).mul(-1).div(2).equal(),marginInlineEnd:I(e.marginXXS).div(2).equal()}}}}}}},nD=e=>{const{componentCls:t,handleSize:a,calc:o}=e;return{[t]:{[`${t}-loading-icon${e.iconCls}`]:{position:"relative",top:o(o(a).sub(e.fontSize)).div(2).equal(),color:e.switchLoadingIconColor,verticalAlign:"top"},[`&${t}-checked ${t}-loading-icon`]:{color:e.switchColor}}}},rD=e=>{const{componentCls:t,trackPadding:a,handleBg:o,handleShadow:f,handleSize:y,calc:C}=e,w=`${t}-handle`;return{[t]:{[w]:{position:"absolute",top:a,insetInlineStart:a,width:y,height:y,transition:`all ${e.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:o,borderRadius:C(y).div(2).equal(),boxShadow:f,transition:`all ${e.switchDuration} ease-in-out`,content:'""'}},[`&${t}-checked ${w}`]:{insetInlineStart:`calc(100% - ${(0,fe.bf)(C(y).add(a).equal())})`},[`&:not(${t}-disabled):active`]:{[`${w}::before`]:{insetInlineEnd:e.switchHandleActiveInset,insetInlineStart:0},[`&${t}-checked ${w}::before`]:{insetInlineEnd:0,insetInlineStart:e.switchHandleActiveInset}}}}},iD=e=>{const{componentCls:t,trackHeight:a,trackPadding:o,innerMinMargin:f,innerMaxMargin:y,handleSize:C,calc:w}=e,I=`${t}-inner`,D=(0,fe.bf)(w(C).add(w(o).mul(2)).equal()),z=(0,fe.bf)(w(y).mul(2).equal());return{[t]:{[I]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:y,paddingInlineEnd:f,transition:`padding-inline-start ${e.switchDuration} ease-in-out, padding-inline-end ${e.switchDuration} ease-in-out`,[`${I}-checked, ${I}-unchecked`]:{display:"block",color:e.colorTextLightSolid,fontSize:e.fontSizeSM,transition:`margin-inline-start ${e.switchDuration} ease-in-out, margin-inline-end ${e.switchDuration} ease-in-out`,pointerEvents:"none",minHeight:a},[`${I}-checked`]:{marginInlineStart:`calc(-100% + ${D} - ${z})`,marginInlineEnd:`calc(100% - ${D} + ${z})`},[`${I}-unchecked`]:{marginTop:w(a).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`&${t}-checked ${I}`]:{paddingInlineStart:f,paddingInlineEnd:y,[`${I}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${I}-unchecked`]:{marginInlineStart:`calc(100% - ${D} + ${z})`,marginInlineEnd:`calc(-100% + ${D} - ${z})`}},[`&:not(${t}-disabled):active`]:{[`&:not(${t}-checked) ${I}`]:{[`${I}-unchecked`]:{marginInlineStart:w(o).mul(2).equal(),marginInlineEnd:w(o).mul(-1).mul(2).equal()}},[`&${t}-checked ${I}`]:{[`${I}-checked`]:{marginInlineStart:w(o).mul(-1).mul(2).equal(),marginInlineEnd:w(o).mul(2).equal()}}}}}},oD=e=>{const{componentCls:t,trackHeight:a,trackMinWidth:o}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,Wt.Wf)(e)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:o,height:a,lineHeight:(0,fe.bf)(a),verticalAlign:"middle",background:e.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${e.motionDurationMid}`,userSelect:"none",[`&:hover:not(${t}-disabled)`]:{background:e.colorTextTertiary}}),(0,Wt.Qy)(e)),{[`&${t}-checked`]:{background:e.switchColor,[`&:hover:not(${t}-disabled)`]:{background:e.colorPrimaryHover}},[`&${t}-loading, &${t}-disabled`]:{cursor:"not-allowed",opacity:e.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${t}-rtl`]:{direction:"rtl"}})}},aD=e=>{const{fontSize:t,lineHeight:a,controlHeight:o,colorWhite:f}=e,y=t*a,C=o/2,w=2,I=y-w*2,D=C-w*2;return{trackHeight:y,trackHeightSM:C,trackMinWidth:I*2+w*4,trackMinWidthSM:D*2+w*2,trackPadding:w,handleBg:f,handleSize:I,handleSizeSM:D,handleShadow:`0 2px 4px 0 ${new Sl.t("#00230b").setA(.2).toRgbString()}`,innerMinMargin:I/2,innerMaxMargin:I+w+w*2,innerMinMarginSM:D/2,innerMaxMarginSM:D+w+w*2}};var sD=(0,te.I$)("Switch",e=>{const t=(0,Ur.IX)(e,{switchDuration:e.motionDurationMid,switchColor:e.colorPrimary,switchDisabledOpacity:e.opacityLoading,switchLoadingIconSize:e.calc(e.fontSizeIcon).mul(.75).equal(),switchLoadingIconColor:`rgba(0, 0, 0, ${e.opacityLoading})`,switchHandleActiveInset:"-30%"});return[oD(t),iD(t),rD(t),nD(t),tD(t)]},aD),lD=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const yI=s.forwardRef((e,t)=>{const{prefixCls:a,size:o,disabled:f,loading:y,className:C,rootClassName:w,style:I,checked:D,value:z,defaultChecked:L,defaultValue:k,onChange:Z}=e,j=lD(e,["prefixCls","size","disabled","loading","className","rootClassName","style","checked","value","defaultChecked","defaultValue","onChange"]),[G,H]=(0,Fs.Z)(!1,{value:D!=null?D:z,defaultValue:L!=null?L:k}),{getPrefixCls:K,direction:ee,switch:ie}=s.useContext(ve.E_),oe=s.useContext(Ta.Z),re=(f!=null?f:oe)||y,se=K("switch",a),ue=s.createElement("div",{className:`${se}-handle`},y&&s.createElement(_n.Z,{className:`${se}-loading-icon`})),[me,pe,ye]=sD(se),Se=(0,Br.Z)(o),Ie=Y()(ie==null?void 0:ie.className,{[`${se}-small`]:Se==="small",[`${se}-loading`]:y,[`${se}-rtl`]:ee==="rtl"},C,w,pe,ye),we=Object.assign(Object.assign({},ie==null?void 0:ie.style),I),Be=function(){H(arguments.length<=0?void 0:arguments[0]),Z==null||Z.apply(void 0,arguments)};return me(s.createElement(oa.Z,{component:"Switch"},s.createElement(eD,Object.assign({},j,{checked:G,onChange:Be,prefixCls:se,className:Ie,style:we,disabled:re,ref:t,loadingIcon:ue}))))});yI.__ANT_SWITCH=!0;var cD=yI,Wh={},D_="rc-table-internal-hook";function ow(e){var t=s.createContext(void 0),a=function(f){var y=f.value,C=f.children,w=s.useRef(y);w.current=y;var I=s.useState(function(){return{getValue:function(){return w.current},listeners:new Set}}),D=(0,Oe.Z)(I,1),z=D[0];return(0,hl.Z)(function(){(0,ke.unstable_batchedUpdates)(function(){z.listeners.forEach(function(L){L(y)})})},[y]),s.createElement(t.Provider,{value:z},C)};return{Context:t,Provider:a,defaultValue:e}}function tu(e,t){var a=(0,fr.Z)(typeof t=="function"?t:function(L){if(t===void 0)return L;if(!Array.isArray(t))return L[t];var k={};return t.forEach(function(Z){k[Z]=L[Z]}),k}),o=s.useContext(e==null?void 0:e.Context),f=o||{},y=f.listeners,C=f.getValue,w=s.useRef();w.current=a(o?C():e==null?void 0:e.defaultValue);var I=s.useState({}),D=(0,Oe.Z)(I,2),z=D[1];return(0,hl.Z)(function(){if(!o)return;function L(k){var Z=a(k);(0,Ol.Z)(w.current,Z,!0)||z({})}return y.add(L),function(){y.delete(L)}},[o]),w.current}function _I(){var e=s.createContext(null);function t(){return s.useContext(e)}function a(f,y){var C=(0,Gt.Yr)(f),w=function(D,z){var L=C?{ref:z}:{},k=s.useRef(0),Z=s.useRef(D),j=t();return j!==null?s.createElement(f,(0,Ze.Z)({},D,L)):((!y||y(Z.current,D))&&(k.current+=1),Z.current=D,s.createElement(e.Provider,{value:k.current},s.createElement(f,(0,Ze.Z)({},D,L))))};return C?s.forwardRef(w):w}function o(f,y){var C=(0,Gt.Yr)(f),w=function(D,z){var L=C?{ref:z}:{};return t(),s.createElement(f,(0,Ze.Z)({},D,L))};return C?s.memo(s.forwardRef(w),y):s.memo(w,y)}return{makeImmutable:a,responseImmutable:o,useImmutableMark:t}}var aw=_I(),Lk=aw.makeImmutable,Nk=aw.responseImmutable,Bk=aw.useImmutableMark,sw=_I(),bI=sw.makeImmutable,yv=sw.responseImmutable,uD=sw.useImmutableMark,dD=ow(),Iu=dD;function Fk(e,t){var a=React.useRef(0);a.current+=1;var o=React.useRef(e),f=[];Object.keys(e||{}).map(function(C){var w;(e==null?void 0:e[C])!==((w=o.current)===null||w===void 0?void 0:w[C])&&f.push(C)}),o.current=e;var y=React.useRef([]);return f.length&&(y.current=f),React.useDebugValue(a.current),React.useDebugValue(y.current.join(", ")),t&&console.log("".concat(t,":"),a.current,y.current),a.current}var kk=null,jk=null,lw=F(36040),fD=s.createContext({renderWithProps:!1}),xI=fD,hD="RC_TABLE_KEY";function mD(e){return e==null?[]:Array.isArray(e)?e:[e]}function jx(e){var t=[],a={};return e.forEach(function(o){for(var f=o||{},y=f.key,C=f.dataIndex,w=y||mD(C).join("-")||hD;a[w];)w="".concat(w,"_next");a[w]=!0,t.push(w)}),t}function cw(e){return e!=null}function pD(e){return typeof e=="number"&&!Number.isNaN(e)}function gD(e){return e&&(0,Ye.Z)(e)==="object"&&!Array.isArray(e)&&!s.isValidElement(e)}function vD(e,t,a,o,f,y){var C=s.useContext(xI),w=uD(),I=(0,rl.Z)(function(){if(cw(o))return[o];var D=t==null||t===""?[]:Array.isArray(t)?t:[t],z=(0,lw.Z)(e,D),L=z,k=void 0;if(f){var Z=f(z,e,a);gD(Z)?(L=Z.children,k=Z.props,C.renderWithProps=!0):L=Z}return[L,k]},[w,e,o,t,f,a],function(D,z){if(y){var L=(0,Oe.Z)(D,2),k=L[1],Z=(0,Oe.Z)(z,2),j=Z[1];return y(j,k)}return C.renderWithProps?!0:!(0,Ol.Z)(D,z,!0)});return I}function yD(e,t,a,o){var f=e+t-1;return e<=o&&f>=a}function _D(e,t){return tu(Iu,function(a){var o=yD(e,t||1,a.hoverStartRow,a.hoverEndRow);return[o,a.onHover]})}var bD=function(t){var a=t.ellipsis,o=t.rowType,f=t.children,y,C=a===!0?{showTitle:!0}:a;return C&&(C.showTitle||o==="header")&&(typeof f=="string"||typeof f=="number"?y=f.toString():s.isValidElement(f)&&typeof f.props.children=="string"&&(y=f.props.children)),y};function xD(e){var t,a,o,f,y,C,w,I,D=e.component,z=e.children,L=e.ellipsis,k=e.scope,Z=e.prefixCls,j=e.className,G=e.align,H=e.record,K=e.render,ee=e.dataIndex,ie=e.renderIndex,oe=e.shouldCellUpdate,re=e.index,se=e.rowType,ue=e.colSpan,me=e.rowSpan,pe=e.fixLeft,ye=e.fixRight,Se=e.firstFixLeft,Ie=e.lastFixLeft,we=e.firstFixRight,Be=e.lastFixRight,Re=e.appendNode,je=e.additionalProps,Ne=je===void 0?{}:je,nt=e.isSticky,at="".concat(Z,"-cell"),Ct=tu(Iu,["supportSticky","allColumnsFixedLeft","rowHoverable"]),St=Ct.supportSticky,_t=Ct.allColumnsFixedLeft,ft=Ct.rowHoverable,vt=vD(H,ee,ie,z,K,oe),$t=(0,Oe.Z)(vt,2),It=$t[0],Ft=$t[1],wt={},pn=typeof pe=="number"&&St,Bn=typeof ye=="number"&&St;pn&&(wt.position="sticky",wt.left=pe),Bn&&(wt.position="sticky",wt.right=ye);var ln=(t=(a=(o=Ft==null?void 0:Ft.colSpan)!==null&&o!==void 0?o:Ne.colSpan)!==null&&a!==void 0?a:ue)!==null&&t!==void 0?t:1,Tn=(f=(y=(C=Ft==null?void 0:Ft.rowSpan)!==null&&C!==void 0?C:Ne.rowSpan)!==null&&y!==void 0?y:me)!==null&&f!==void 0?f:1,Kt=_D(re,Tn),zt=(0,Oe.Z)(Kt,2),Dn=zt[0],Sn=zt[1],Ir=(0,$s.zX)(function(li){var xi;H&&Sn(re,re+Tn-1),Ne==null||(xi=Ne.onMouseEnter)===null||xi===void 0||xi.call(Ne,li)}),ur=(0,$s.zX)(function(li){var xi;H&&Sn(-1,-1),Ne==null||(xi=Ne.onMouseLeave)===null||xi===void 0||xi.call(Ne,li)});if(ln===0||Tn===0)return null;var Yn=(w=Ne.title)!==null&&w!==void 0?w:bD({rowType:se,ellipsis:L,children:It}),qn=Y()(at,j,(I={},(0,he.Z)((0,he.Z)((0,he.Z)((0,he.Z)((0,he.Z)((0,he.Z)((0,he.Z)((0,he.Z)((0,he.Z)((0,he.Z)(I,"".concat(at,"-fix-left"),pn&&St),"".concat(at,"-fix-left-first"),Se&&St),"".concat(at,"-fix-left-last"),Ie&&St),"".concat(at,"-fix-left-all"),Ie&&_t&&St),"".concat(at,"-fix-right"),Bn&&St),"".concat(at,"-fix-right-first"),we&&St),"".concat(at,"-fix-right-last"),Be&&St),"".concat(at,"-ellipsis"),L),"".concat(at,"-with-append"),Re),"".concat(at,"-fix-sticky"),(pn||Bn)&&nt&&St),(0,he.Z)(I,"".concat(at,"-row-hover"),!Ft&&Dn)),Ne.className,Ft==null?void 0:Ft.className),Rn={};G&&(Rn.textAlign=G);var Jn=(0,X.Z)((0,X.Z)((0,X.Z)((0,X.Z)({},Ft==null?void 0:Ft.style),wt),Rn),Ne.style),zr=It;return(0,Ye.Z)(zr)==="object"&&!Array.isArray(zr)&&!s.isValidElement(zr)&&(zr=null),L&&(Ie||we)&&(zr=s.createElement("span",{className:"".concat(at,"-content")},zr)),s.createElement(D,(0,Ze.Z)({},Ft,Ne,{className:qn,style:Jn,title:Yn,scope:k,onMouseEnter:ft?Ir:void 0,onMouseLeave:ft?ur:void 0,colSpan:ln!==1?ln:null,rowSpan:Tn!==1?Tn:null}),Re,zr)}var _v=s.memo(xD);function uw(e,t,a,o,f){var y=a[e]||{},C=a[t]||{},w,I;y.fixed==="left"?w=o.left[f==="rtl"?t:e]:C.fixed==="right"&&(I=o.right[f==="rtl"?e:t]);var D=!1,z=!1,L=!1,k=!1,Z=a[t+1],j=a[e-1],G=Z&&!Z.fixed||j&&!j.fixed||a.every(function(oe){return oe.fixed==="left"});if(f==="rtl"){if(w!==void 0){var H=j&&j.fixed==="left";k=!H&&G}else if(I!==void 0){var K=Z&&Z.fixed==="right";L=!K&&G}}else if(w!==void 0){var ee=Z&&Z.fixed==="left";D=!ee&&G}else if(I!==void 0){var ie=j&&j.fixed==="right";z=!ie&&G}return{fixLeft:w,fixRight:I,lastFixLeft:D,firstFixRight:z,lastFixRight:L,firstFixLeft:k,isSticky:o.isSticky}}var CD=s.createContext({}),CI=CD;function SD(e){var t=e.className,a=e.index,o=e.children,f=e.colSpan,y=f===void 0?1:f,C=e.rowSpan,w=e.align,I=tu(Iu,["prefixCls","direction"]),D=I.prefixCls,z=I.direction,L=s.useContext(CI),k=L.scrollColumnIndex,Z=L.stickyOffsets,j=L.flattenColumns,G=a+y-1,H=G+1===k?y+1:y,K=uw(a,a+H-1,j,Z,z);return s.createElement(_v,(0,Ze.Z)({className:t,index:a,component:"td",prefixCls:D,record:null,dataIndex:null,align:w,colSpan:H,rowSpan:C,render:function(){return o}},K))}var wD=["children"];function ED(e){var t=e.children,a=(0,de.Z)(e,wD);return s.createElement("tr",a,t)}function dw(e){var t=e.children;return t}dw.Row=ED,dw.Cell=SD;var SI=dw;function ID(e){var t=e.children,a=e.stickyOffsets,o=e.flattenColumns,f=tu(Iu,"prefixCls"),y=o.length-1,C=o[y],w=s.useMemo(function(){return{stickyOffsets:a,flattenColumns:o,scrollColumnIndex:C!=null&&C.scrollbar?y:null}},[C,o,y,a]);return s.createElement(CI.Provider,{value:w},s.createElement("tfoot",{className:"".concat(f,"-summary")},t))}var Zx=yv(ID),wI=SI,EI=function(t){if((0,cc.Z)()&&window.document.documentElement){var a=Array.isArray(t)?t:[t],o=window.document.documentElement;return a.some(function(f){return f in o.style})}return!1},MD=function(t,a){if(!EI(t))return!1;var o=document.createElement("div"),f=o.style[t];return o.style[t]=a,o.style[t]!==f};function fw(e,t){return!Array.isArray(e)&&t!==void 0?MD(e,t):EI(e)}var Vx=F(90242);function II(e,t,a,o,f,y,C){e.push({record:t,indent:a,index:C});var w=y(t),I=f==null?void 0:f.has(w);if(t&&Array.isArray(t[o])&&I)for(var D=0;D<t[o].length;D+=1)II(e,t[o][D],a+1,o,f,y,D)}function MI(e,t,a,o){var f=s.useMemo(function(){if(a!=null&&a.size){for(var y=[],C=0;C<(e==null?void 0:e.length);C+=1){var w=e[C];II(y,w,0,t,a,o,C)}return y}return e==null?void 0:e.map(function(I,D){return{record:I,indent:0,index:D}})},[e,t,a,o]);return f}function TI(e,t,a,o){var f=tu(Iu,["prefixCls","fixedInfoList","flattenColumns","expandableType","expandRowByClick","onTriggerExpand","rowClassName","expandedRowClassName","indentSize","expandIcon","expandedRowRender","expandIconColumnIndex","expandedKeys","childrenColumnName","rowExpandable","onRow"]),y=f.flattenColumns,C=f.expandableType,w=f.expandedKeys,I=f.childrenColumnName,D=f.onTriggerExpand,z=f.rowExpandable,L=f.onRow,k=f.expandRowByClick,Z=f.rowClassName,j=C==="nest",G=C==="row"&&(!z||z(e)),H=G||j,K=w&&w.has(t),ee=I&&e&&e[I],ie=(0,$s.zX)(D),oe=L==null?void 0:L(e,a),re=oe==null?void 0:oe.onClick,se=function(ye){k&&H&&D(e,ye);for(var Se=arguments.length,Ie=new Array(Se>1?Se-1:0),we=1;we<Se;we++)Ie[we-1]=arguments[we];re==null||re.apply(void 0,[ye].concat(Ie))},ue;typeof Z=="string"?ue=Z:typeof Z=="function"&&(ue=Z(e,a,o));var me=jx(y);return(0,X.Z)((0,X.Z)({},f),{},{columnsKey:me,nestExpandable:j,expanded:K,hasNestChildren:ee,record:e,onTriggerExpand:ie,rowSupportExpand:G,expandable:H,rowProps:(0,X.Z)((0,X.Z)({},oe),{},{className:Y()(ue,oe==null?void 0:oe.className),onClick:se})})}function TD(e){var t=e.prefixCls,a=e.children,o=e.component,f=e.cellComponent,y=e.className,C=e.expanded,w=e.colSpan,I=e.isEmpty,D=tu(Iu,["scrollbarSize","fixHeader","fixColumn","componentWidth","horizonScroll"]),z=D.scrollbarSize,L=D.fixHeader,k=D.fixColumn,Z=D.componentWidth,j=D.horizonScroll,G=a;return(I?j&&Z:k)&&(G=s.createElement("div",{style:{width:Z-(L&&!I?z:0),position:"sticky",left:0,overflow:"hidden"},className:"".concat(t,"-expanded-row-fixed")},G)),s.createElement(o,{className:y,style:{display:C?null:"none"}},s.createElement(_v,{component:f,prefixCls:t,colSpan:w},G))}var PI=TD;function PD(e){var t=e.prefixCls,a=e.record,o=e.onExpand,f=e.expanded,y=e.expandable,C="".concat(t,"-row-expand-icon");if(!y)return s.createElement("span",{className:Y()(C,"".concat(t,"-row-spaced"))});var w=function(D){o(a,D),D.stopPropagation()};return s.createElement("span",{className:Y()(C,(0,he.Z)((0,he.Z)({},"".concat(t,"-row-expanded"),f),"".concat(t,"-row-collapsed"),!f)),onClick:w})}function OD(e,t,a){var o=[];function f(y){(y||[]).forEach(function(C,w){o.push(t(C,w)),f(C[a])})}return f(e),o}function OI(e,t,a,o){return typeof e=="string"?e:typeof e=="function"?e(t,a,o):""}function RI(e,t,a,o,f){var y=e.record,C=e.prefixCls,w=e.columnsKey,I=e.fixedInfoList,D=e.expandIconColumnIndex,z=e.nestExpandable,L=e.indentSize,k=e.expandIcon,Z=e.expanded,j=e.hasNestChildren,G=e.onTriggerExpand,H=w[a],K=I[a],ee;a===(D||0)&&z&&(ee=s.createElement(s.Fragment,null,s.createElement("span",{style:{paddingLeft:"".concat(L*o,"px")},className:"".concat(C,"-row-indent indent-level-").concat(o)}),k({prefixCls:C,expanded:Z,expandable:j,record:y,onExpand:G})));var ie;return t.onCell&&(ie=t.onCell(y,f)),{key:H,fixedInfo:K,appendCellNode:ee,additionalCellProps:ie||{}}}function RD(e){var t=e.className,a=e.style,o=e.record,f=e.index,y=e.renderIndex,C=e.rowKey,w=e.indent,I=w===void 0?0:w,D=e.rowComponent,z=e.cellComponent,L=e.scopeCellComponent,k=TI(o,C,f,I),Z=k.prefixCls,j=k.flattenColumns,G=k.expandedRowClassName,H=k.expandedRowRender,K=k.rowProps,ee=k.expanded,ie=k.rowSupportExpand,oe=s.useRef(!1);oe.current||(oe.current=ee);var re=OI(G,o,f,I),se=s.createElement(D,(0,Ze.Z)({},K,{"data-row-key":C,className:Y()(t,"".concat(Z,"-row"),"".concat(Z,"-row-level-").concat(I),K==null?void 0:K.className,(0,he.Z)({},re,I>=1)),style:(0,X.Z)((0,X.Z)({},a),K==null?void 0:K.style)}),j.map(function(pe,ye){var Se=pe.render,Ie=pe.dataIndex,we=pe.className,Be=RI(k,pe,ye,I,f),Re=Be.key,je=Be.fixedInfo,Ne=Be.appendCellNode,nt=Be.additionalCellProps;return s.createElement(_v,(0,Ze.Z)({className:we,ellipsis:pe.ellipsis,align:pe.align,scope:pe.rowScope,component:pe.rowScope?L:z,prefixCls:Z,key:Re,record:o,index:f,renderIndex:y,dataIndex:Ie,render:Se,shouldCellUpdate:pe.shouldCellUpdate},je,{appendNode:Ne,additionalProps:nt}))})),ue;if(ie&&(oe.current||ee)){var me=H(o,f,I+1,ee);ue=s.createElement(PI,{expanded:ee,className:Y()("".concat(Z,"-expanded-row"),"".concat(Z,"-expanded-row-level-").concat(I+1),re),prefixCls:Z,component:D,cellComponent:z,colSpan:j.length,isEmpty:!1},me)}return s.createElement(s.Fragment,null,se,ue)}var $D=yv(RD);function AD(e){var t=e.columnKey,a=e.onColumnResize,o=s.useRef();return s.useEffect(function(){o.current&&a(t,o.current.offsetWidth)},[]),s.createElement(c.Z,{data:t},s.createElement("td",{ref:o,style:{padding:0,border:0,height:0}},s.createElement("div",{style:{height:0,overflow:"hidden"}},"\xA0")))}function DD(e){var t=e.prefixCls,a=e.columnsKey,o=e.onColumnResize;return s.createElement("tr",{"aria-hidden":"true",className:"".concat(t,"-measure-row"),style:{height:0,fontSize:0}},s.createElement(c.Z.Collection,{onBatchResize:function(y){y.forEach(function(C){var w=C.data,I=C.size;o(w,I.offsetWidth)})}},a.map(function(f){return s.createElement(AD,{key:f,columnKey:f,onColumnResize:o})})))}function zD(e){var t=e.data,a=e.measureColumnWidth,o=tu(Iu,["prefixCls","getComponent","onColumnResize","flattenColumns","getRowKey","expandedKeys","childrenColumnName","emptyNode"]),f=o.prefixCls,y=o.getComponent,C=o.onColumnResize,w=o.flattenColumns,I=o.getRowKey,D=o.expandedKeys,z=o.childrenColumnName,L=o.emptyNode,k=MI(t,z,D,I),Z=s.useRef({renderWithProps:!1}),j=y(["body","wrapper"],"tbody"),G=y(["body","row"],"tr"),H=y(["body","cell"],"td"),K=y(["body","cell"],"th"),ee;t.length?ee=k.map(function(oe,re){var se=oe.record,ue=oe.indent,me=oe.index,pe=I(se,re);return s.createElement($D,{key:pe,rowKey:pe,record:se,index:re,renderIndex:me,rowComponent:G,cellComponent:H,scopeCellComponent:K,indent:ue})}):ee=s.createElement(PI,{expanded:!0,className:"".concat(f,"-placeholder"),prefixCls:f,component:G,cellComponent:H,colSpan:w.length,isEmpty:!0},L);var ie=jx(w);return s.createElement(xI.Provider,{value:Z.current},s.createElement(j,{className:"".concat(f,"-tbody")},a&&s.createElement(DD,{prefixCls:f,columnsKey:ie,onColumnResize:C}),ee))}var LD=yv(zD),ND=["expandable"],z_="RC_TABLE_INTERNAL_COL_DEFINE";function BD(e){var t=e.expandable,a=(0,de.Z)(e,ND),o;return"expandable"in e?o=(0,X.Z)((0,X.Z)({},a),t):o=a,o.showExpandColumn===!1&&(o.expandIconColumnIndex=-1),o}var FD=["columnType"];function kD(e){for(var t=e.colWidths,a=e.columns,o=e.columCount,f=tu(Iu,["tableLayout"]),y=f.tableLayout,C=[],w=o||a.length,I=!1,D=w-1;D>=0;D-=1){var z=t[D],L=a&&a[D],k=void 0,Z=void 0;if(L&&(k=L[z_],y==="auto"&&(Z=L.minWidth)),z||Z||k||I){var j=k||{},G=j.columnType,H=(0,de.Z)(j,FD);C.unshift(s.createElement("col",(0,Ze.Z)({key:D,style:{width:z,minWidth:Z}},H))),I=!0}}return s.createElement("colgroup",null,C)}var $I=kD,jD=["className","noData","columns","flattenColumns","colWidths","columCount","stickyOffsets","direction","fixHeader","stickyTopOffset","stickyBottomOffset","stickyClassName","onScroll","maxContentScroll","children"];function ZD(e,t){return(0,s.useMemo)(function(){for(var a=[],o=0;o<t;o+=1){var f=e[o];if(f!==void 0)a[o]=f;else return null}return a},[e.join("_"),t])}var VD=s.forwardRef(function(e,t){var a=e.className,o=e.noData,f=e.columns,y=e.flattenColumns,C=e.colWidths,w=e.columCount,I=e.stickyOffsets,D=e.direction,z=e.fixHeader,L=e.stickyTopOffset,k=e.stickyBottomOffset,Z=e.stickyClassName,j=e.onScroll,G=e.maxContentScroll,H=e.children,K=(0,de.Z)(e,jD),ee=tu(Iu,["prefixCls","scrollbarSize","isSticky","getComponent"]),ie=ee.prefixCls,oe=ee.scrollbarSize,re=ee.isSticky,se=ee.getComponent,ue=se(["header","table"],"table"),me=re&&!z?0:oe,pe=s.useRef(null),ye=s.useCallback(function(nt){(0,Gt.mH)(t,nt),(0,Gt.mH)(pe,nt)},[]);s.useEffect(function(){var nt;function at(Ct){var St=Ct,_t=St.currentTarget,ft=St.deltaX;ft&&(j({currentTarget:_t,scrollLeft:_t.scrollLeft+ft}),Ct.preventDefault())}return(nt=pe.current)===null||nt===void 0||nt.addEventListener("wheel",at,{passive:!1}),function(){var Ct;(Ct=pe.current)===null||Ct===void 0||Ct.removeEventListener("wheel",at)}},[]);var Se=s.useMemo(function(){return y.every(function(nt){return nt.width})},[y]),Ie=y[y.length-1],we={fixed:Ie?Ie.fixed:null,scrollbar:!0,onHeaderCell:function(){return{className:"".concat(ie,"-cell-scrollbar")}}},Be=(0,s.useMemo)(function(){return me?[].concat((0,xe.Z)(f),[we]):f},[me,f]),Re=(0,s.useMemo)(function(){return me?[].concat((0,xe.Z)(y),[we]):y},[me,y]),je=(0,s.useMemo)(function(){var nt=I.right,at=I.left;return(0,X.Z)((0,X.Z)({},I),{},{left:D==="rtl"?[].concat((0,xe.Z)(at.map(function(Ct){return Ct+me})),[0]):at,right:D==="rtl"?nt:[].concat((0,xe.Z)(nt.map(function(Ct){return Ct+me})),[0]),isSticky:re})},[me,I,re]),Ne=ZD(C,w);return s.createElement("div",{style:(0,X.Z)({overflow:"hidden"},re?{top:L,bottom:k}:{}),ref:ye,className:Y()(a,(0,he.Z)({},Z,!!Z))},s.createElement(ue,{style:{tableLayout:"fixed",visibility:o||Ne?null:"hidden"}},(!o||!G||Se)&&s.createElement($I,{colWidths:Ne?[].concat((0,xe.Z)(Ne),[me]):[],columCount:w+1,columns:Re}),H((0,X.Z)((0,X.Z)({},K),{},{stickyOffsets:je,columns:Be,flattenColumns:Re}))))}),AI=s.memo(VD),HD=function(t){var a=t.cells,o=t.stickyOffsets,f=t.flattenColumns,y=t.rowComponent,C=t.cellComponent,w=t.onHeaderRow,I=t.index,D=tu(Iu,["prefixCls","direction"]),z=D.prefixCls,L=D.direction,k;w&&(k=w(a.map(function(j){return j.column}),I));var Z=jx(a.map(function(j){return j.column}));return s.createElement(y,k,a.map(function(j,G){var H=j.column,K=uw(j.colStart,j.colEnd,f,o,L),ee;return H&&H.onHeaderCell&&(ee=j.column.onHeaderCell(H)),s.createElement(_v,(0,Ze.Z)({},j,{scope:H.title?j.colSpan>1?"colgroup":"col":null,ellipsis:H.ellipsis,align:H.align,component:C,prefixCls:z,key:Z[G]},K,{additionalProps:ee,rowType:"header"}))}))},UD=HD;function WD(e){var t=[];function a(C,w){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;t[I]=t[I]||[];var D=w,z=C.filter(Boolean).map(function(L){var k={key:L.key,className:L.className||"",children:L.title,column:L,colStart:D},Z=1,j=L.children;return j&&j.length>0&&(Z=a(j,D,I+1).reduce(function(G,H){return G+H},0),k.hasSubColumns=!0),"colSpan"in L&&(Z=L.colSpan),"rowSpan"in L&&(k.rowSpan=L.rowSpan),k.colSpan=Z,k.colEnd=k.colStart+Z-1,t[I].push(k),D+=Z,Z});return z}a(e,0);for(var o=t.length,f=function(w){t[w].forEach(function(I){!("rowSpan"in I)&&!I.hasSubColumns&&(I.rowSpan=o-w)})},y=0;y<o;y+=1)f(y);return t}var GD=function(t){var a=t.stickyOffsets,o=t.columns,f=t.flattenColumns,y=t.onHeaderRow,C=tu(Iu,["prefixCls","getComponent"]),w=C.prefixCls,I=C.getComponent,D=s.useMemo(function(){return WD(o)},[o]),z=I(["header","wrapper"],"thead"),L=I(["header","row"],"tr"),k=I(["header","cell"],"th");return s.createElement(z,{className:"".concat(w,"-thead")},D.map(function(Z,j){var G=s.createElement(UD,{key:j,flattenColumns:f,cells:Z,stickyOffsets:a,rowComponent:L,cellComponent:k,onHeaderRow:y,index:j});return G}))},DI=yv(GD);function zI(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return typeof t=="number"?t:t.endsWith("%")?e*parseFloat(t)/100:null}function KD(e,t,a){return s.useMemo(function(){if(t&&t>0){var o=0,f=0;e.forEach(function(k){var Z=zI(t,k.width);Z?o+=Z:f+=1});var y=Math.max(t,a),C=Math.max(y-o,f),w=f,I=C/f,D=0,z=e.map(function(k){var Z=(0,X.Z)({},k),j=zI(t,Z.width);if(j)Z.width=j;else{var G=Math.floor(I);Z.width=w===1?C:G,C-=G,w-=1}return D+=Z.width,Z});if(D<y){var L=y/D;C=y,z.forEach(function(k,Z){var j=Math.floor(k.width*L);k.width=Z===z.length-1?C:j,C-=j})}return[z,Math.max(D,y)]}return[e,t]},[e,t,a])}var XD=["children"],YD=["fixed"];function hw(e){return(0,Wl.Z)(e).filter(function(t){return s.isValidElement(t)}).map(function(t){var a=t.key,o=t.props,f=o.children,y=(0,de.Z)(o,XD),C=(0,X.Z)({key:a},y);return f&&(C.children=hw(f)),C})}function LI(e){return e.filter(function(t){return t&&(0,Ye.Z)(t)==="object"&&!t.hidden}).map(function(t){var a=t.children;return a&&a.length>0?(0,X.Z)((0,X.Z)({},t),{},{children:LI(a)}):t})}function mw(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"key";return e.filter(function(a){return a&&(0,Ye.Z)(a)==="object"}).reduce(function(a,o,f){var y=o.fixed,C=y===!0?"left":y,w="".concat(t,"-").concat(f),I=o.children;return I&&I.length>0?[].concat((0,xe.Z)(a),(0,xe.Z)(mw(I,w).map(function(D){return(0,X.Z)({fixed:C},D)}))):[].concat((0,xe.Z)(a),[(0,X.Z)((0,X.Z)({key:w},o),{},{fixed:C})])},[])}function qD(e){return e.map(function(t){var a=t.fixed,o=(0,de.Z)(t,YD),f=a;return a==="left"?f="right":a==="right"&&(f="left"),(0,X.Z)({fixed:f},o)})}function JD(e,t){var a=e.prefixCls,o=e.columns,f=e.children,y=e.expandable,C=e.expandedKeys,w=e.columnTitle,I=e.getRowKey,D=e.onTriggerExpand,z=e.expandIcon,L=e.rowExpandable,k=e.expandIconColumnIndex,Z=e.direction,j=e.expandRowByClick,G=e.columnWidth,H=e.fixed,K=e.scrollWidth,ee=e.clientWidth,ie=s.useMemo(function(){var Ie=o||hw(f)||[];return LI(Ie.slice())},[o,f]),oe=s.useMemo(function(){if(y){var Ie=ie.slice();if(!Ie.includes(Wh)){var we=k||0;we>=0&&(we||H==="left"||!H)&&Ie.splice(we,0,Wh),H==="right"&&Ie.splice(ie.length,0,Wh)}var Be=Ie.indexOf(Wh);Ie=Ie.filter(function(nt,at){return nt!==Wh||at===Be});var Re=ie[Be],je;H?je=H:je=Re?Re.fixed:null;var Ne=(0,he.Z)((0,he.Z)((0,he.Z)((0,he.Z)((0,he.Z)((0,he.Z)({},z_,{className:"".concat(a,"-expand-icon-col"),columnType:"EXPAND_COLUMN"}),"title",w),"fixed",je),"className","".concat(a,"-row-expand-icon-cell")),"width",G),"render",function(at,Ct,St){var _t=I(Ct,St),ft=C.has(_t),vt=L?L(Ct):!0,$t=z({prefixCls:a,expanded:ft,expandable:vt,record:Ct,onExpand:D});return j?s.createElement("span",{onClick:function(Ft){return Ft.stopPropagation()}},$t):$t});return Ie.map(function(nt){return nt===Wh?Ne:nt})}return ie.filter(function(nt){return nt!==Wh})},[y,ie,I,C,z,Z]),re=s.useMemo(function(){var Ie=oe;return t&&(Ie=t(Ie)),Ie.length||(Ie=[{render:function(){return null}}]),Ie},[t,oe,Z]),se=s.useMemo(function(){return Z==="rtl"?qD(mw(re)):mw(re)},[re,Z,K]),ue=s.useMemo(function(){for(var Ie=-1,we=se.length-1;we>=0;we-=1){var Be=se[we].fixed;if(Be==="left"||Be===!0){Ie=we;break}}if(Ie>=0)for(var Re=0;Re<=Ie;Re+=1){var je=se[Re].fixed;if(je!=="left"&&je!==!0)return!0}var Ne=se.findIndex(function(Ct){var St=Ct.fixed;return St==="right"});if(Ne>=0)for(var nt=Ne;nt<se.length;nt+=1){var at=se[nt].fixed;if(at!=="right")return!0}return!1},[se]),me=KD(se,K,ee),pe=(0,Oe.Z)(me,2),ye=pe[0],Se=pe[1];return[re,ye,Se,ue]}var QD=JD;function e5(e,t,a){var o=BD(e),f=o.expandIcon,y=o.expandedRowKeys,C=o.defaultExpandedRowKeys,w=o.defaultExpandAllRows,I=o.expandedRowRender,D=o.onExpand,z=o.onExpandedRowsChange,L=o.childrenColumnName,k=f||PD,Z=L||"children",j=s.useMemo(function(){return I?"row":e.expandable&&e.internalHooks===D_&&e.expandable.__PARENT_RENDER_ICON__||t.some(function(re){return re&&(0,Ye.Z)(re)==="object"&&re[Z]})?"nest":!1},[!!I,t]),G=s.useState(function(){return C||(w?OD(t,a,Z):[])}),H=(0,Oe.Z)(G,2),K=H[0],ee=H[1],ie=s.useMemo(function(){return new Set(y||K||[])},[y,K]),oe=s.useCallback(function(re){var se=a(re,t.indexOf(re)),ue,me=ie.has(se);me?(ie.delete(se),ue=(0,xe.Z)(ie)):ue=[].concat((0,xe.Z)(ie),[se]),ee(ue),D&&D(!me,re),z&&z(ue)},[a,ie,t,D,z]);return[o,j,ie,k,Z,oe]}function t5(e,t,a){var o=e.map(function(f,y){return uw(y,y,e,t,a)});return(0,rl.Z)(function(){return o},[o],function(f,y){return!(0,Ol.Z)(f,y)})}function NI(e){var t=(0,s.useRef)(e),a=(0,s.useState)({}),o=(0,Oe.Z)(a,2),f=o[1],y=(0,s.useRef)(null),C=(0,s.useRef)([]);function w(I){C.current.push(I);var D=Promise.resolve();y.current=D,D.then(function(){if(y.current===D){var z=C.current,L=t.current;C.current=[],z.forEach(function(k){t.current=k(t.current)}),y.current=null,L!==t.current&&f({})}})}return(0,s.useEffect)(function(){return function(){y.current=null}},[]),[t.current,w]}function n5(e){var t=(0,s.useRef)(e||null),a=(0,s.useRef)();function o(){window.clearTimeout(a.current)}function f(C){t.current=C,o(),a.current=window.setTimeout(function(){t.current=null,a.current=void 0},100)}function y(){return t.current}return(0,s.useEffect)(function(){return o},[]),[f,y]}function r5(){var e=s.useState(-1),t=(0,Oe.Z)(e,2),a=t[0],o=t[1],f=s.useState(-1),y=(0,Oe.Z)(f,2),C=y[0],w=y[1],I=s.useCallback(function(D,z){o(D),w(z)},[]);return[a,C,I]}var BI=(0,cc.Z)()?window:null;function i5(e,t){var a=(0,Ye.Z)(e)==="object"?e:{},o=a.offsetHeader,f=o===void 0?0:o,y=a.offsetSummary,C=y===void 0?0:y,w=a.offsetScroll,I=w===void 0?0:w,D=a.getContainer,z=D===void 0?function(){return BI}:D,L=z()||BI,k=!!e;return s.useMemo(function(){return{isSticky:k,stickyClassName:k?"".concat(t,"-sticky-holder"):"",offsetHeader:f,offsetSummary:C,offsetScroll:I,container:L}},[k,I,f,C,t,L])}function o5(e,t,a){var o=(0,s.useMemo)(function(){var f=t.length,y=function(D,z,L){for(var k=[],Z=0,j=D;j!==z;j+=L)k.push(Z),t[j].fixed&&(Z+=e[j]||0);return k},C=y(0,f,1),w=y(f-1,-1,-1).reverse();return a==="rtl"?{left:w,right:C}:{left:C,right:w}},[e,t,a]);return o}var a5=o5;function s5(e){var t=e.className,a=e.children;return s.createElement("div",{className:t},a)}var FI=s5,kI=F(4525);function jI(e){var t=(0,kI.bn)(e),a=t.getBoundingClientRect(),o=document.documentElement;return{left:a.left+(window.pageXOffset||o.scrollLeft)-(o.clientLeft||document.body.clientLeft||0),top:a.top+(window.pageYOffset||o.scrollTop)-(o.clientTop||document.body.clientTop||0)}}var l5=function(t,a){var o,f,y=t.scrollBodyRef,C=t.onScroll,w=t.offsetScroll,I=t.container,D=t.direction,z=tu(Iu,"prefixCls"),L=((o=y.current)===null||o===void 0?void 0:o.scrollWidth)||0,k=((f=y.current)===null||f===void 0?void 0:f.clientWidth)||0,Z=L&&k*(k/L),j=s.useRef(),G=NI({scrollLeft:0,isHiddenScrollBar:!0}),H=(0,Oe.Z)(G,2),K=H[0],ee=H[1],ie=s.useRef({delta:0,x:0}),oe=s.useState(!1),re=(0,Oe.Z)(oe,2),se=re[0],ue=re[1],me=s.useRef(null);s.useEffect(function(){return function(){We.Z.cancel(me.current)}},[]);var pe=function(){ue(!1)},ye=function(Re){Re.persist(),ie.current.delta=Re.pageX-K.scrollLeft,ie.current.x=0,ue(!0),Re.preventDefault()},Se=function(Re){var je,Ne=Re||((je=window)===null||je===void 0?void 0:je.event),nt=Ne.buttons;if(!se||nt===0){se&&ue(!1);return}var at=ie.current.x+Re.pageX-ie.current.x-ie.current.delta,Ct=D==="rtl";at=Math.max(Ct?Z-k:0,Math.min(Ct?0:k-Z,at));var St=!Ct||Math.abs(at)+Math.abs(Z)<k;St&&(C({scrollLeft:at/k*(L+2)}),ie.current.x=Re.pageX)},Ie=function(){We.Z.cancel(me.current),me.current=(0,We.Z)(function(){if(y.current){var Re=jI(y.current).top,je=Re+y.current.offsetHeight,Ne=I===window?document.documentElement.scrollTop+window.innerHeight:jI(I).top+I.clientHeight;je-(0,Vx.Z)()<=Ne||Re>=Ne-w?ee(function(nt){return(0,X.Z)((0,X.Z)({},nt),{},{isHiddenScrollBar:!0})}):ee(function(nt){return(0,X.Z)((0,X.Z)({},nt),{},{isHiddenScrollBar:!1})})}})},we=function(Re){ee(function(je){return(0,X.Z)((0,X.Z)({},je),{},{scrollLeft:Re/L*k||0})})};return s.useImperativeHandle(a,function(){return{setScrollLeft:we,checkScrollBarVisible:Ie}}),s.useEffect(function(){var Be=Jm(document.body,"mouseup",pe,!1),Re=Jm(document.body,"mousemove",Se,!1);return Ie(),function(){Be.remove(),Re.remove()}},[Z,se]),s.useEffect(function(){if(y.current){for(var Be=[],Re=y.current;Re;)Be.push(Re),Re=Re.parentElement;return Be.forEach(function(je){return je.addEventListener("scroll",Ie,!1)}),window.addEventListener("resize",Ie,!1),window.addEventListener("scroll",Ie,!1),I.addEventListener("scroll",Ie,!1),function(){Be.forEach(function(je){return je.removeEventListener("scroll",Ie)}),window.removeEventListener("resize",Ie),window.removeEventListener("scroll",Ie),I.removeEventListener("scroll",Ie)}}},[I]),s.useEffect(function(){K.isHiddenScrollBar||ee(function(Be){var Re=y.current;return Re?(0,X.Z)((0,X.Z)({},Be),{},{scrollLeft:Re.scrollLeft/Re.scrollWidth*Re.clientWidth}):Be})},[K.isHiddenScrollBar]),L<=k||!Z||K.isHiddenScrollBar?null:s.createElement("div",{style:{height:(0,Vx.Z)(),width:k,bottom:w},className:"".concat(z,"-sticky-scroll")},s.createElement("div",{onMouseDown:ye,ref:j,className:Y()("".concat(z,"-sticky-scroll-bar"),(0,he.Z)({},"".concat(z,"-sticky-scroll-bar-active"),se)),style:{width:"".concat(Z,"px"),transform:"translate3d(".concat(K.scrollLeft,"px, 0, 0)")}}))},c5=s.forwardRef(l5);function u5(e){return null}var d5=u5;function f5(e){return null}var h5=f5,ZI="rc-table",m5=[],p5={};function g5(){return"No Data"}function v5(e,t){var a=(0,X.Z)({rowKey:"key",prefixCls:ZI,emptyText:g5},e),o=a.prefixCls,f=a.className,y=a.rowClassName,C=a.style,w=a.data,I=a.rowKey,D=a.scroll,z=a.tableLayout,L=a.direction,k=a.title,Z=a.footer,j=a.summary,G=a.caption,H=a.id,K=a.showHeader,ee=a.components,ie=a.emptyText,oe=a.onRow,re=a.onHeaderRow,se=a.onScroll,ue=a.internalHooks,me=a.transformColumns,pe=a.internalRefs,ye=a.tailor,Se=a.getContainerWidth,Ie=a.sticky,we=a.rowHoverable,Be=we===void 0?!0:we,Re=w||m5,je=!!Re.length,Ne=ue===D_,nt=s.useCallback(function(ws,ca){return(0,lw.Z)(ee,ws)||ca},[ee]),at=s.useMemo(function(){return typeof I=="function"?I:function(ws){var ca=ws&&ws[I];return ca}},[I]),Ct=nt(["body"]),St=r5(),_t=(0,Oe.Z)(St,3),ft=_t[0],vt=_t[1],$t=_t[2],It=e5(a,Re,at),Ft=(0,Oe.Z)(It,6),wt=Ft[0],pn=Ft[1],Bn=Ft[2],ln=Ft[3],Tn=Ft[4],Kt=Ft[5],zt=D==null?void 0:D.x,Dn=s.useState(0),Sn=(0,Oe.Z)(Dn,2),Ir=Sn[0],ur=Sn[1],Yn=QD((0,X.Z)((0,X.Z)((0,X.Z)({},a),wt),{},{expandable:!!wt.expandedRowRender,columnTitle:wt.columnTitle,expandedKeys:Bn,getRowKey:at,onTriggerExpand:Kt,expandIcon:ln,expandIconColumnIndex:wt.expandIconColumnIndex,direction:L,scrollWidth:Ne&&ye&&typeof zt=="number"?zt:null,clientWidth:Ir}),Ne?me:null),qn=(0,Oe.Z)(Yn,4),Rn=qn[0],Jn=qn[1],zr=qn[2],li=qn[3],xi=zr!=null?zr:zt,Di=s.useMemo(function(){return{columns:Rn,flattenColumns:Jn}},[Rn,Jn]),So=s.useRef(),_i=s.useRef(),ai=s.useRef(),gi=s.useRef();s.useImperativeHandle(t,function(){return{nativeElement:So.current,scrollTo:function(ca){var La;if(ai.current instanceof HTMLElement){var fs=ca.index,zs=ca.top,hc=ca.key;if(pD(zs)){var qh;(qh=ai.current)===null||qh===void 0||qh.scrollTo({top:zs})}else{var jg,j_=hc!=null?hc:at(Re[fs]);(jg=ai.current.querySelector('[data-row-key="'.concat(j_,'"]')))===null||jg===void 0||jg.scrollIntoView()}}else(La=ai.current)!==null&&La!==void 0&&La.scrollTo&&ai.current.scrollTo(ca)}}});var Gi=s.useRef(),Pi=s.useState(!1),wo=(0,Oe.Z)(Pi,2),dr=wo[0],tr=wo[1],pr=s.useState(!1),Vn=(0,Oe.Z)(pr,2),ri=Vn[0],Oi=Vn[1],ro=NI(new Map),Xo=(0,Oe.Z)(ro,2),$a=Xo[0],ta=Xo[1],Cs=jx(Jn),Za=Cs.map(function(ws){return $a.get(ws)}),Ga=s.useMemo(function(){return Za},[Za.join("_")]),pa=a5(Ga,Jn,L),ts=D&&cw(D.y),As=D&&cw(xi)||!!wt.fixed,bo=As&&Jn.some(function(ws){var ca=ws.fixed;return ca}),Ko=s.useRef(),Ra=i5(Ie,o),Ka=Ra.isSticky,ss=Ra.offsetHeader,ll=Ra.offsetSummary,Rl=Ra.offsetScroll,yl=Ra.stickyClassName,Xl=Ra.container,ma=s.useMemo(function(){return j==null?void 0:j(Re)},[j,Re]),Vo=(ts||Ka)&&s.isValidElement(ma)&&ma.type===SI&&ma.props.fixed,Ho,Do,ls;ts&&(Do={overflowY:je?"scroll":"auto",maxHeight:D.y}),As&&(Ho={overflowX:"auto"},ts||(Do={overflowY:"hidden"}),ls={width:xi===!0?"auto":xi,minWidth:"100%"});var Ds=s.useCallback(function(ws,ca){(0,yy.Z)(So.current)&&ta(function(La){if(La.get(ws)!==ca){var fs=new Map(La);return fs.set(ws,ca),fs}return La})},[]),ka=n5(null),ba=(0,Oe.Z)(ka,2),gs=ba[0],vs=ba[1];function Ys(ws,ca){ca&&(typeof ca=="function"?ca(ws):ca.scrollLeft!==ws&&(ca.scrollLeft=ws,ca.scrollLeft!==ws&&setTimeout(function(){ca.scrollLeft=ws},0)))}var va=(0,fr.Z)(function(ws){var ca=ws.currentTarget,La=ws.scrollLeft,fs=L==="rtl",zs=typeof La=="number"?La:ca.scrollLeft,hc=ca||p5;if(!vs()||vs()===hc){var qh;gs(hc),Ys(zs,_i.current),Ys(zs,ai.current),Ys(zs,Gi.current),Ys(zs,(qh=Ko.current)===null||qh===void 0?void 0:qh.setScrollLeft)}var jg=ca||_i.current;if(jg){var j_=Ne&&ye&&typeof xi=="number"?xi:jg.scrollWidth,r2=jg.clientWidth;if(j_===r2){tr(!1),Oi(!1);return}fs?(tr(-zs<j_-r2),Oi(-zs>0)):(tr(zs>0),Oi(zs<j_-r2))}}),Lo=(0,fr.Z)(function(ws){va(ws),se==null||se(ws)}),Aa=function(){if(As&&ai.current){var ca;va({currentTarget:(0,kI.bn)(ai.current),scrollLeft:(ca=ai.current)===null||ca===void 0?void 0:ca.scrollLeft})}else tr(!1),Oi(!1)},ds=function(ca){var La,fs=ca.width;(La=Ko.current)===null||La===void 0||La.checkScrollBarVisible();var zs=So.current?So.current.offsetWidth:fs;Ne&&Se&&So.current&&(zs=Se(So.current,zs)||zs),zs!==Ir&&(Aa(),ur(zs))},Bs=s.useRef(!1);s.useEffect(function(){Bs.current&&Aa()},[As,w,Rn.length]),s.useEffect(function(){Bs.current=!0},[]);var qs=s.useState(0),rc=(0,Oe.Z)(qs,2),Js=rc[0],Da=rc[1],cs=s.useState(!0),Ss=(0,Oe.Z)(cs,2),$l=Ss[0],Fu=Ss[1];s.useEffect(function(){(!ye||!Ne)&&(ai.current instanceof Element?Da((0,Vx.o)(ai.current).width):Da((0,Vx.o)(gi.current).width)),Fu(fw("position","sticky"))},[]),s.useEffect(function(){Ne&&pe&&(pe.body.current=ai.current)});var Kh=s.useCallback(function(ws){return s.createElement(s.Fragment,null,s.createElement(DI,ws),Vo==="top"&&s.createElement(Zx,ws,ma))},[Vo,ma]),ip=s.useCallback(function(ws){return s.createElement(Zx,ws,ma)},[ma]),op=nt(["table"],"table"),Kf=s.useMemo(function(){return z||(bo?xi==="max-content"?"auto":"fixed":ts||Ka||Jn.some(function(ws){var ca=ws.ellipsis;return ca})?"fixed":"auto")},[ts,bo,Jn,z,Ka]),Xh,Yh={colWidths:Ga,columCount:Jn.length,stickyOffsets:pa,onHeaderRow:re,fixHeader:ts,scroll:D},ap=s.useMemo(function(){return je?null:typeof ie=="function"?ie():ie},[je,ie]),Ml=s.createElement(LD,{data:Re,measureColumnWidth:ts||As||Ka}),Qs=s.createElement($I,{colWidths:Jn.map(function(ws){var ca=ws.width;return ca}),columns:Jn}),wa=G!=null?s.createElement("caption",{className:"".concat(o,"-caption")},G):void 0,Va=(0,lt.Z)(a,{data:!0}),pl=(0,lt.Z)(a,{aria:!0});if(ts||Ka){var kc;typeof Ct=="function"?(kc=Ct(Re,{scrollbarSize:Js,ref:ai,onScroll:va}),Yh.colWidths=Jn.map(function(ws,ca){var La=ws.width,fs=ca===Jn.length-1?La-Js:La;return typeof fs=="number"&&!Number.isNaN(fs)?fs:0})):kc=s.createElement("div",{style:(0,X.Z)((0,X.Z)({},Ho),Do),onScroll:Lo,ref:ai,className:Y()("".concat(o,"-body"))},s.createElement(op,(0,Ze.Z)({style:(0,X.Z)((0,X.Z)({},ls),{},{tableLayout:Kf})},pl),wa,Qs,Ml,!Vo&&ma&&s.createElement(Zx,{stickyOffsets:pa,flattenColumns:Jn},ma)));var rf=(0,X.Z)((0,X.Z)((0,X.Z)({noData:!Re.length,maxContentScroll:As&&xi==="max-content"},Yh),Di),{},{direction:L,stickyClassName:yl,onScroll:va});Xh=s.createElement(s.Fragment,null,K!==!1&&s.createElement(AI,(0,Ze.Z)({},rf,{stickyTopOffset:ss,className:"".concat(o,"-header"),ref:_i}),Kh),kc,Vo&&Vo!=="top"&&s.createElement(AI,(0,Ze.Z)({},rf,{stickyBottomOffset:ll,className:"".concat(o,"-summary"),ref:Gi}),ip),Ka&&ai.current&&ai.current instanceof Element&&s.createElement(c5,{ref:Ko,offsetScroll:Rl,scrollBodyRef:ai,onScroll:va,container:Xl,direction:L}))}else Xh=s.createElement("div",{style:(0,X.Z)((0,X.Z)({},Ho),Do),className:Y()("".concat(o,"-content")),onScroll:va,ref:ai},s.createElement(op,(0,Ze.Z)({style:(0,X.Z)((0,X.Z)({},ls),{},{tableLayout:Kf})},pl),wa,Qs,K!==!1&&s.createElement(DI,(0,Ze.Z)({},Yh,Di)),Ml,ma&&s.createElement(Zx,{stickyOffsets:pa,flattenColumns:Jn},ma)));var Fg=s.createElement("div",(0,Ze.Z)({className:Y()(o,f,(0,he.Z)((0,he.Z)((0,he.Z)((0,he.Z)((0,he.Z)((0,he.Z)((0,he.Z)((0,he.Z)((0,he.Z)((0,he.Z)({},"".concat(o,"-rtl"),L==="rtl"),"".concat(o,"-ping-left"),dr),"".concat(o,"-ping-right"),ri),"".concat(o,"-layout-fixed"),z==="fixed"),"".concat(o,"-fixed-header"),ts),"".concat(o,"-fixed-column"),bo),"".concat(o,"-fixed-column-gapped"),bo&&li),"".concat(o,"-scroll-horizontal"),As),"".concat(o,"-has-fix-left"),Jn[0]&&Jn[0].fixed),"".concat(o,"-has-fix-right"),Jn[Jn.length-1]&&Jn[Jn.length-1].fixed==="right")),style:C,id:H,ref:So},Va),k&&s.createElement(FI,{className:"".concat(o,"-title")},k(Re)),s.createElement("div",{ref:gi,className:"".concat(o,"-container")},Xh),Z&&s.createElement(FI,{className:"".concat(o,"-footer")},Z(Re)));As&&(Fg=s.createElement(c.Z,{onResize:ds},Fg));var kg=t5(Jn,pa,L),Ev=s.useMemo(function(){return{scrollX:xi,prefixCls:o,getComponent:nt,scrollbarSize:Js,direction:L,fixedInfoList:kg,isSticky:Ka,supportSticky:$l,componentWidth:Ir,fixHeader:ts,fixColumn:bo,horizonScroll:As,tableLayout:Kf,rowClassName:y,expandedRowClassName:wt.expandedRowClassName,expandIcon:ln,expandableType:pn,expandRowByClick:wt.expandRowByClick,expandedRowRender:wt.expandedRowRender,onTriggerExpand:Kt,expandIconColumnIndex:wt.expandIconColumnIndex,indentSize:wt.indentSize,allColumnsFixedLeft:Jn.every(function(ws){return ws.fixed==="left"}),emptyNode:ap,columns:Rn,flattenColumns:Jn,onColumnResize:Ds,hoverStartRow:ft,hoverEndRow:vt,onHover:$t,rowExpandable:wt.rowExpandable,onRow:oe,getRowKey:at,expandedKeys:Bn,childrenColumnName:Tn,rowHoverable:Be}},[xi,o,nt,Js,L,kg,Ka,$l,Ir,ts,bo,As,Kf,y,wt.expandedRowClassName,ln,pn,wt.expandRowByClick,wt.expandedRowRender,Kt,wt.expandIconColumnIndex,wt.indentSize,ap,Rn,Jn,Ds,ft,vt,$t,wt.rowExpandable,oe,at,Bn,Tn,Be]);return s.createElement(Iu.Provider,{value:Ev},Fg)}var y5=s.forwardRef(v5);function VI(e){return bI(y5,e)}var bv=VI();bv.EXPAND_COLUMN=Wh,bv.INTERNAL_HOOKS=D_,bv.Column=d5,bv.ColumnGroup=h5,bv.Summary=wI;var _5=bv,b5=F(98131),pw=ow(null),HI=ow(null);function x5(e,t,a){var o=t||1;return a[e+o]-(a[e]||0)}function C5(e){var t=e.rowInfo,a=e.column,o=e.colIndex,f=e.indent,y=e.index,C=e.component,w=e.renderIndex,I=e.record,D=e.style,z=e.className,L=e.inverse,k=e.getHeight,Z=a.render,j=a.dataIndex,G=a.className,H=a.width,K=tu(HI,["columnsOffset"]),ee=K.columnsOffset,ie=RI(t,a,o,f,y),oe=ie.key,re=ie.fixedInfo,se=ie.appendCellNode,ue=ie.additionalCellProps,me=ue.style,pe=ue.colSpan,ye=pe===void 0?1:pe,Se=ue.rowSpan,Ie=Se===void 0?1:Se,we=o-1,Be=x5(we,ye,ee),Re=ye>1?H-Be:0,je=(0,X.Z)((0,X.Z)((0,X.Z)({},me),D),{},{flex:"0 0 ".concat(Be,"px"),width:"".concat(Be,"px"),marginRight:Re,pointerEvents:"auto"}),Ne=s.useMemo(function(){return L?Ie<=1:ye===0||Ie===0||Ie>1},[Ie,ye,L]);Ne?je.visibility="hidden":L&&(je.height=k==null?void 0:k(Ie));var nt=Ne?function(){return null}:Z,at={};return(Ie===0||ye===0)&&(at.rowSpan=1,at.colSpan=1),s.createElement(_v,(0,Ze.Z)({className:Y()(G,z),ellipsis:a.ellipsis,align:a.align,scope:a.rowScope,component:C,prefixCls:t.prefixCls,key:oe,record:I,index:y,renderIndex:w,dataIndex:j,render:nt,shouldCellUpdate:a.shouldCellUpdate},re,{appendNode:se,additionalProps:(0,X.Z)((0,X.Z)({},ue),{},{style:je},at)}))}var S5=C5,w5=["data","index","className","rowKey","style","extra","getHeight"],E5=s.forwardRef(function(e,t){var a=e.data,o=e.index,f=e.className,y=e.rowKey,C=e.style,w=e.extra,I=e.getHeight,D=(0,de.Z)(e,w5),z=a.record,L=a.indent,k=a.index,Z=tu(Iu,["prefixCls","flattenColumns","fixColumn","componentWidth","scrollX"]),j=Z.scrollX,G=Z.flattenColumns,H=Z.prefixCls,K=Z.fixColumn,ee=Z.componentWidth,ie=tu(pw,["getComponent"]),oe=ie.getComponent,re=TI(z,y,o,L),se=oe(["body","row"],"div"),ue=oe(["body","cell"],"div"),me=re.rowSupportExpand,pe=re.expanded,ye=re.rowProps,Se=re.expandedRowRender,Ie=re.expandedRowClassName,we;if(me&&pe){var Be=Se(z,o,L+1,pe),Re=OI(Ie,z,o,L),je={};K&&(je={style:(0,he.Z)({},"--virtual-width","".concat(ee,"px"))});var Ne="".concat(H,"-expanded-row-cell");we=s.createElement(se,{className:Y()("".concat(H,"-expanded-row"),"".concat(H,"-expanded-row-level-").concat(L+1),Re)},s.createElement(_v,{component:ue,prefixCls:H,className:Y()(Ne,(0,he.Z)({},"".concat(Ne,"-fixed"),K)),additionalProps:je},Be))}var nt=(0,X.Z)((0,X.Z)({},C),{},{width:j});w&&(nt.position="absolute",nt.pointerEvents="none");var at=s.createElement(se,(0,Ze.Z)({},ye,D,{"data-row-key":y,ref:me?null:t,className:Y()(f,"".concat(H,"-row"),ye==null?void 0:ye.className,(0,he.Z)({},"".concat(H,"-row-extra"),w)),style:(0,X.Z)((0,X.Z)({},nt),ye==null?void 0:ye.style)}),G.map(function(Ct,St){return s.createElement(S5,{key:St,component:ue,rowInfo:re,column:Ct,colIndex:St,indent:L,index:o,renderIndex:k,record:z,inverse:w,getHeight:I})}));return me?s.createElement("div",{ref:t},at,we):at}),I5=yv(E5),UI=I5,M5=s.forwardRef(function(e,t){var a=e.data,o=e.onScroll,f=tu(Iu,["flattenColumns","onColumnResize","getRowKey","prefixCls","expandedKeys","childrenColumnName","scrollX","direction"]),y=f.flattenColumns,C=f.onColumnResize,w=f.getRowKey,I=f.expandedKeys,D=f.prefixCls,z=f.childrenColumnName,L=f.scrollX,k=f.direction,Z=tu(pw),j=Z.sticky,G=Z.scrollY,H=Z.listItemHeight,K=Z.getComponent,ee=Z.onScroll,ie=s.useRef(),oe=MI(a,z,I,w),re=s.useMemo(function(){var we=0;return y.map(function(Be){var Re=Be.width,je=Be.key;return we+=Re,[je,Re,we]})},[y]),se=s.useMemo(function(){return re.map(function(we){return we[2]})},[re]);s.useEffect(function(){re.forEach(function(we){var Be=(0,Oe.Z)(we,2),Re=Be[0],je=Be[1];C(Re,je)})},[re]),s.useImperativeHandle(t,function(){var we,Be={scrollTo:function(je){var Ne;(Ne=ie.current)===null||Ne===void 0||Ne.scrollTo(je)},nativeElement:(we=ie.current)===null||we===void 0?void 0:we.nativeElement};return Object.defineProperty(Be,"scrollLeft",{get:function(){var je;return((je=ie.current)===null||je===void 0?void 0:je.getScrollInfo().x)||0},set:function(je){var Ne;(Ne=ie.current)===null||Ne===void 0||Ne.scrollTo({left:je})}}),Be});var ue=function(Be,Re){var je,Ne=(je=oe[Re])===null||je===void 0?void 0:je.record,nt=Be.onCell;if(nt){var at,Ct=nt(Ne,Re);return(at=Ct==null?void 0:Ct.rowSpan)!==null&&at!==void 0?at:1}return 1},me=function(Be){var Re=Be.start,je=Be.end,Ne=Be.getSize,nt=Be.offsetY;if(je<0)return null;for(var at=y.filter(function(ln){return ue(ln,Re)===0}),Ct=Re,St=function(Tn){if(at=at.filter(function(Kt){return ue(Kt,Tn)===0}),!at.length)return Ct=Tn,1},_t=Re;_t>=0&&!St(_t);_t-=1);for(var ft=y.filter(function(ln){return ue(ln,je)!==1}),vt=je,$t=function(Tn){if(ft=ft.filter(function(Kt){return ue(Kt,Tn)!==1}),!ft.length)return vt=Math.max(Tn-1,je),1},It=je;It<oe.length&&!$t(It);It+=1);for(var Ft=[],wt=function(Tn){var Kt=oe[Tn];if(!Kt)return 1;y.some(function(zt){return ue(zt,Tn)>1})&&Ft.push(Tn)},pn=Ct;pn<=vt;pn+=1)wt(pn);var Bn=Ft.map(function(ln){var Tn=oe[ln],Kt=w(Tn.record,ln),zt=function(Ir){var ur=ln+Ir-1,Yn=w(oe[ur].record,ur),qn=Ne(Kt,Yn);return qn.bottom-qn.top},Dn=Ne(Kt);return s.createElement(UI,{key:ln,data:Tn,rowKey:Kt,index:ln,style:{top:-nt+Dn.top},extra:!0,getHeight:zt})});return Bn},pe=s.useMemo(function(){return{columnsOffset:se}},[se]),ye="".concat(D,"-tbody"),Se=K(["body","wrapper"]),Ie={};return j&&(Ie.position="sticky",Ie.bottom=0,(0,Ye.Z)(j)==="object"&&j.offsetScroll&&(Ie.bottom=j.offsetScroll)),s.createElement(HI.Provider,{value:pe},s.createElement(b5.Z,{fullHeight:!1,ref:ie,prefixCls:"".concat(ye,"-virtual"),styles:{horizontalScrollBar:Ie},className:ye,height:G,itemHeight:H||24,data:oe,itemKey:function(Be){return w(Be.record)},component:Se,scrollWidth:L,direction:k,onVirtualScroll:function(Be){var Re,je=Be.x;o({currentTarget:(Re=ie.current)===null||Re===void 0?void 0:Re.nativeElement,scrollLeft:je})},onScroll:ee,extraRender:me},function(we,Be,Re){var je=w(we.record,Be);return s.createElement(UI,{data:we,rowKey:je,index:Be,style:Re.style})}))}),T5=yv(M5),P5=T5,O5=function(t,a){var o=a.ref,f=a.onScroll;return s.createElement(P5,{ref:o,data:t,onScroll:f})};function R5(e,t){var a=e.data,o=e.columns,f=e.scroll,y=e.sticky,C=e.prefixCls,w=C===void 0?ZI:C,I=e.className,D=e.listItemHeight,z=e.components,L=e.onScroll,k=f||{},Z=k.x,j=k.y;typeof Z!="number"&&(Z=1),typeof j!="number"&&(j=500);var G=(0,$s.zX)(function(ee,ie){return(0,lw.Z)(z,ee)||ie}),H=(0,$s.zX)(L),K=s.useMemo(function(){return{sticky:y,scrollY:j,listItemHeight:D,getComponent:G,onScroll:H}},[y,j,D,G,H]);return s.createElement(pw.Provider,{value:K},s.createElement(_5,(0,Ze.Z)({},e,{className:Y()(I,"".concat(w,"-virtual")),scroll:(0,X.Z)((0,X.Z)({},f),{},{x:Z}),components:(0,X.Z)((0,X.Z)({},z),{},{body:a!=null&&a.length?O5:void 0}),columns:o,internalHooks:D_,tailor:!0,ref:t})))}var $5=s.forwardRef(R5);function WI(e){return bI($5,e)}var Zk=WI(),Vk=null,A5=e=>null,D5=e=>null,gw=F(44443);function vw(e){const[t,a]=(0,s.useState)(null);return[(0,s.useCallback)((y,C,w)=>{const I=t!=null?t:y,D=Math.min(I||0,y),z=Math.max(I||0,y),L=C.slice(D,z+1).map(j=>e(j)),k=L.some(j=>!w.has(j)),Z=[];return L.forEach(j=>{k?(w.has(j)||Z.push(j),w.add(j)):(w.delete(j),Z.push(j))}),a(k?z:null),Z},[t]),y=>{a(y)}]}const tp={},yw="SELECT_ALL",_w="SELECT_INVERT",bw="SELECT_NONE",GI=[],KI=(e,t)=>{let a=[];return(t||[]).forEach(o=>{a.push(o),o&&typeof o=="object"&&e in o&&(a=[].concat((0,xe.Z)(a),(0,xe.Z)(KI(e,o[e]))))}),a};var z5=(e,t)=>{const{preserveSelectedRowKeys:a,selectedRowKeys:o,defaultSelectedRowKeys:f,getCheckboxProps:y,onChange:C,onSelect:w,onSelectAll:I,onSelectInvert:D,onSelectNone:z,onSelectMultiple:L,columnWidth:k,type:Z,selections:j,fixed:G,renderCell:H,hideSelectAll:K,checkStrictly:ee=!0}=t||{},{prefixCls:ie,data:oe,pageData:re,getRecordByKey:se,getRowKey:ue,expandType:me,childrenColumnName:pe,locale:ye,getPopupContainer:Se}=e,Ie=(0,io.ln)("Table"),[we,Be]=vw(ln=>ln),[Re,je]=(0,Fs.Z)(o||f||GI,{value:o}),Ne=s.useRef(new Map),nt=(0,s.useCallback)(ln=>{if(a){const Tn=new Map;ln.forEach(Kt=>{let zt=se(Kt);!zt&&Ne.current.has(Kt)&&(zt=Ne.current.get(Kt)),Tn.set(Kt,zt)}),Ne.current=Tn}},[se,a]);s.useEffect(()=>{nt(Re)},[Re]);const at=(0,s.useMemo)(()=>KI(pe,re),[pe,re]),{keyEntities:Ct}=(0,s.useMemo)(()=>{if(ee)return{keyEntities:null};let ln=oe;if(a){const Tn=new Set(at.map((zt,Dn)=>ue(zt,Dn))),Kt=Array.from(Ne.current).reduce((zt,Dn)=>{let[Sn,Ir]=Dn;return Tn.has(Sn)?zt:zt.concat(Ir)},[]);ln=[].concat((0,xe.Z)(ln),(0,xe.Z)(Kt))}return(0,Uf.I8)(ln,{externalGetKey:ue,childrenPropName:pe})},[oe,ue,ee,pe,a,at]),St=(0,s.useMemo)(()=>{const ln=new Map;return at.forEach((Tn,Kt)=>{const zt=ue(Tn,Kt),Dn=(y?y(Tn):null)||{};ln.set(zt,Dn)}),ln},[at,ue,y]),_t=(0,s.useCallback)(ln=>{const Tn=ue(ln);let Kt;return St.has(Tn)?Kt=St.get(ue(ln)):Kt=y?y(ln):void 0,!!(Kt!=null&&Kt.disabled)},[St,ue]),[ft,vt]=(0,s.useMemo)(()=>{if(ee)return[Re||[],[]];const{checkedKeys:ln,halfCheckedKeys:Tn}=(0,Cd.S)(Re,!0,Ct,_t);return[ln||[],Tn]},[Re,ee,Ct,_t]),$t=(0,s.useMemo)(()=>{const ln=Z==="radio"?ft.slice(0,1):ft;return new Set(ln)},[ft,Z]),It=(0,s.useMemo)(()=>Z==="radio"?new Set:new Set(vt),[vt,Z]);s.useEffect(()=>{t||je(GI)},[!!t]);const Ft=(0,s.useCallback)((ln,Tn)=>{let Kt,zt;nt(ln),a?(Kt=ln,zt=ln.map(Dn=>Ne.current.get(Dn))):(Kt=[],zt=[],ln.forEach(Dn=>{const Sn=se(Dn);Sn!==void 0&&(Kt.push(Dn),zt.push(Sn))})),je(Kt),C==null||C(Kt,zt,{type:Tn})},[je,se,C,a]),wt=(0,s.useCallback)((ln,Tn,Kt,zt)=>{if(w){const Dn=Kt.map(Sn=>se(Sn));w(se(ln),Tn,Dn,zt)}Ft(Kt,"single")},[w,se,Ft]),pn=(0,s.useMemo)(()=>!j||K?null:(j===!0?[yw,_w,bw]:j).map(Tn=>Tn===yw?{key:"all",text:ye.selectionAll,onSelect(){Ft(oe.map((Kt,zt)=>ue(Kt,zt)).filter(Kt=>{const zt=St.get(Kt);return!(zt!=null&&zt.disabled)||$t.has(Kt)}),"all")}}:Tn===_w?{key:"invert",text:ye.selectInvert,onSelect(){const Kt=new Set($t);re.forEach((Dn,Sn)=>{const Ir=ue(Dn,Sn),ur=St.get(Ir);ur!=null&&ur.disabled||(Kt.has(Ir)?Kt.delete(Ir):Kt.add(Ir))});const zt=Array.from(Kt);D&&(Ie.deprecated(!1,"onSelectInvert","onChange"),D(zt)),Ft(zt,"invert")}}:Tn===bw?{key:"none",text:ye.selectNone,onSelect(){z==null||z(),Ft(Array.from($t).filter(Kt=>{const zt=St.get(Kt);return zt==null?void 0:zt.disabled}),"none")}}:Tn).map(Tn=>Object.assign(Object.assign({},Tn),{onSelect:function(){for(var Kt,zt,Dn=arguments.length,Sn=new Array(Dn),Ir=0;Ir<Dn;Ir++)Sn[Ir]=arguments[Ir];(zt=Tn.onSelect)===null||zt===void 0||(Kt=zt).call.apply(Kt,[Tn].concat(Sn)),Be(null)}})),[j,$t,re,ue,D,Ft]);return[(0,s.useCallback)(ln=>{var Tn;if(!t)return ln.filter(gi=>gi!==tp);let Kt=(0,xe.Z)(ln);const zt=new Set($t),Dn=at.map(ue).filter(gi=>!St.get(gi).disabled),Sn=Dn.every(gi=>zt.has(gi)),Ir=Dn.some(gi=>zt.has(gi)),ur=()=>{const gi=[];Sn?Dn.forEach(Pi=>{zt.delete(Pi),gi.push(Pi)}):Dn.forEach(Pi=>{zt.has(Pi)||(zt.add(Pi),gi.push(Pi))});const Gi=Array.from(zt);I==null||I(!Sn,Gi.map(Pi=>se(Pi)),gi.map(Pi=>se(Pi))),Ft(Gi,"all"),Be(null)};let Yn,qn;if(Z!=="radio"){let gi;if(pn){const tr={getPopupContainer:Se,items:pn.map((pr,Vn)=>{const{key:ri,text:Oi,onSelect:ro}=pr;return{key:ri!=null?ri:Vn,onClick:()=>{ro==null||ro(Dn)},label:Oi}})};gi=s.createElement("div",{className:`${ie}-selection-extra`},s.createElement(wx,{menu:tr,getPopupContainer:Se},s.createElement("span",null,s.createElement($u.Z,null))))}const Gi=at.map((tr,pr)=>{const Vn=ue(tr,pr),ri=St.get(Vn)||{};return Object.assign({checked:zt.has(Vn)},ri)}).filter(tr=>{let{disabled:pr}=tr;return pr}),Pi=!!Gi.length&&Gi.length===at.length,wo=Pi&&Gi.every(tr=>{let{checked:pr}=tr;return pr}),dr=Pi&&Gi.some(tr=>{let{checked:pr}=tr;return pr});qn=s.createElement(Hr,{checked:Pi?wo:!!at.length&&Sn,indeterminate:Pi?!wo&&dr:!Sn&&Ir,onChange:ur,disabled:at.length===0||Pi,"aria-label":gi?"Custom selection":"Select all",skipGroup:!0}),Yn=!K&&s.createElement("div",{className:`${ie}-selection`},qn,gi)}let Rn;Z==="radio"?Rn=(gi,Gi,Pi)=>{const wo=ue(Gi,Pi),dr=zt.has(wo),tr=St.get(wo);return{node:s.createElement(nw.ZP,Object.assign({},tr,{checked:dr,onClick:pr=>{var Vn;pr.stopPropagation(),(Vn=tr==null?void 0:tr.onClick)===null||Vn===void 0||Vn.call(tr,pr)},onChange:pr=>{var Vn;zt.has(wo)||wt(wo,!0,[wo],pr.nativeEvent),(Vn=tr==null?void 0:tr.onChange)===null||Vn===void 0||Vn.call(tr,pr)}})),checked:dr}}:Rn=(gi,Gi,Pi)=>{var wo;const dr=ue(Gi,Pi),tr=zt.has(dr),pr=It.has(dr),Vn=St.get(dr);let ri;return me==="nest"?ri=pr:ri=(wo=Vn==null?void 0:Vn.indeterminate)!==null&&wo!==void 0?wo:pr,{node:s.createElement(Hr,Object.assign({},Vn,{indeterminate:ri,checked:tr,skipGroup:!0,onClick:Oi=>{var ro;Oi.stopPropagation(),(ro=Vn==null?void 0:Vn.onClick)===null||ro===void 0||ro.call(Vn,Oi)},onChange:Oi=>{var ro;const{nativeEvent:Xo}=Oi,{shiftKey:$a}=Xo,ta=Dn.findIndex(Za=>Za===dr),Cs=ft.some(Za=>Dn.includes(Za));if($a&&ee&&Cs){const Za=we(ta,Dn,zt),Ga=Array.from(zt);L==null||L(!tr,Ga.map(pa=>se(pa)),Za.map(pa=>se(pa))),Ft(Ga,"multiple")}else{const Za=ft;if(ee){const Ga=tr?(0,gw._5)(Za,dr):(0,gw.L0)(Za,dr);wt(dr,!tr,Ga,Xo)}else{const Ga=(0,Cd.S)([].concat((0,xe.Z)(Za),[dr]),!0,Ct,_t),{checkedKeys:pa,halfCheckedKeys:ts}=Ga;let As=pa;if(tr){const bo=new Set(pa);bo.delete(dr),As=(0,Cd.S)(Array.from(bo),{checked:!1,halfCheckedKeys:ts},Ct,_t).checkedKeys}wt(dr,!tr,As,Xo)}}Be(tr?null:ta),(ro=Vn==null?void 0:Vn.onChange)===null||ro===void 0||ro.call(Vn,Oi)}})),checked:tr}};const Jn=(gi,Gi,Pi)=>{const{node:wo,checked:dr}=Rn(gi,Gi,Pi);return H?H(dr,Gi,Pi,wo):wo};if(!Kt.includes(tp))if(Kt.findIndex(gi=>{var Gi;return((Gi=gi[z_])===null||Gi===void 0?void 0:Gi.columnType)==="EXPAND_COLUMN"})===0){const[gi,...Gi]=Kt;Kt=[gi,tp].concat((0,xe.Z)(Gi))}else Kt=[tp].concat((0,xe.Z)(Kt));const zr=Kt.indexOf(tp);Kt=Kt.filter((gi,Gi)=>gi!==tp||Gi===zr);const li=Kt[zr-1],xi=Kt[zr+1];let Di=G;Di===void 0&&((xi==null?void 0:xi.fixed)!==void 0?Di=xi.fixed:(li==null?void 0:li.fixed)!==void 0&&(Di=li.fixed)),Di&&li&&((Tn=li[z_])===null||Tn===void 0?void 0:Tn.columnType)==="EXPAND_COLUMN"&&li.fixed===void 0&&(li.fixed=Di);const So=Y()(`${ie}-selection-col`,{[`${ie}-selection-col-with-dropdown`]:j&&Z==="checkbox"}),_i=()=>t!=null&&t.columnTitle?typeof t.columnTitle=="function"?t.columnTitle(qn):t.columnTitle:Yn,ai={fixed:Di,width:k,className:`${ie}-selection-column`,title:_i(),render:Jn,onCell:t.onCell,[z_]:{className:So}};return Kt.map(gi=>gi===tp?ai:gi)},[ue,at,t,ft,$t,It,k,pn,me,St,L,wt,_t]),$t]};function L5(e,t){return e._antProxy=e._antProxy||{},Object.keys(t).forEach(a=>{if(!(a in e._antProxy)){const o=e[a];e._antProxy[a]=o,e[a]=t[a]}}),e}function N5(e,t){return(0,s.useImperativeHandle)(e,()=>{const a=t(),{nativeElement:o}=a;return typeof Proxy!="undefined"?new Proxy(o,{get(f,y){return a[y]?a[y]:Reflect.get(f,y)}}):L5(o,a)})}function B5(e){return t=>{const{prefixCls:a,onExpand:o,record:f,expanded:y,expandable:C}=t,w=`${a}-row-expand-icon`;return s.createElement("button",{type:"button",onClick:I=>{o(f,I),I.stopPropagation()},className:Y()(w,{[`${w}-spaced`]:!C,[`${w}-expanded`]:C&&y,[`${w}-collapsed`]:C&&!y}),"aria-label":y?e.collapse:e.expand,"aria-expanded":y})}}var F5=B5;function k5(e){return(a,o)=>{const f=a.querySelector(`.${e}-container`);let y=o;if(f){const C=getComputedStyle(f),w=parseInt(C.borderLeftWidth,10),I=parseInt(C.borderRightWidth,10);y=o-w-I}return y}}const np=(e,t)=>"key"in e&&e.key!==void 0&&e.key!==null?e.key:e.dataIndex?Array.isArray(e.dataIndex)?e.dataIndex.join("."):e.dataIndex:t;function xv(e,t){return t?`${t}-${e}`:`${e}`}const Hx=(e,t)=>typeof e=="function"?e(t):e,j5=(e,t)=>{const a=Hx(e,t);return Object.prototype.toString.call(a)==="[object Object]"?"":a};var Z5={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z"}}]},name:"filter",theme:"filled"},V5=Z5,H5=function(t,a){return s.createElement(Xt.Z,(0,Ze.Z)({},t,{ref:a,icon:V5}))},U5=s.forwardRef(H5),W5=U5;function G5(e){const t=s.useRef(e),a=(0,rw.Z)();return[()=>t.current,o=>{t.current=o,a()}]}var Ux=F(91606),K5={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"},X5=K5,Y5=function(t,a){return s.createElement(Xt.Z,(0,Ze.Z)({},t,{ref:a,icon:X5}))},q5=s.forwardRef(Y5),XI=q5,J5={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"},Q5=J5,ez=function(t,a){return s.createElement(Xt.Z,(0,Ze.Z)({},t,{ref:a,icon:Q5}))},tz=s.forwardRef(ez),nz=tz,rz={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"},iz=rz,oz=function(t,a){return s.createElement(Xt.Z,(0,Ze.Z)({},t,{ref:a,icon:iz}))},az=s.forwardRef(oz),sz=az,lz={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"},cz=lz,uz=function(t,a){return s.createElement(Xt.Z,(0,Ze.Z)({},t,{ref:a,icon:cz}))},dz=s.forwardRef(uz),fz=dz;const hz=e=>{let{treeCls:t,treeNodeCls:a,directoryNodeSelectedBg:o,directoryNodeSelectedColor:f,motionDurationMid:y,borderRadius:C,controlItemBgHover:w}=e;return{[`${t}${t}-directory ${a}`]:{[`${t}-node-content-wrapper`]:{position:"static",[`> *:not(${t}-drop-indicator)`]:{position:"relative"},"&:hover":{background:"transparent"},"&:before":{position:"absolute",inset:0,transition:`background-color ${y}`,content:'""',borderRadius:C},"&:hover:before":{background:w}},[`${t}-switcher, ${t}-checkbox, ${t}-draggable-icon`]:{zIndex:1},"&-selected":{[`${t}-switcher, ${t}-draggable-icon`]:{color:f},[`${t}-node-content-wrapper`]:{color:f,background:"transparent","&:before, &:hover:before":{background:o}}}}}},mz=new fe.E4("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),pz=(e,t)=>({[`.${e}-switcher-icon`]:{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:`transform ${t.motionDurationSlow}`}}}),gz=(e,t)=>({[`.${e}-drop-indicator`]:{position:"absolute",zIndex:1,height:2,backgroundColor:t.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:`${(0,fe.bf)(t.lineWidthBold)} solid ${t.colorPrimary}`,borderRadius:"50%",content:'""'}}}),vz=(e,t)=>{const{treeCls:a,treeNodeCls:o,treeNodePadding:f,titleHeight:y,indentSize:C,nodeSelectedBg:w,nodeHoverBg:I,colorTextQuaternary:D,controlItemBgActiveDisabled:z}=t;return{[a]:Object.assign(Object.assign({},(0,Wt.Wf)(t)),{background:t.colorBgContainer,borderRadius:t.borderRadius,transition:`background-color ${t.motionDurationSlow}`,"&-rtl":{direction:"rtl"},[`&${a}-rtl ${a}-switcher_close ${a}-switcher-icon svg`]:{transform:"rotate(90deg)"},[`&-focused:not(:hover):not(${a}-active-focused)`]:Object.assign({},(0,Wt.oN)(t)),[`${a}-list-holder-inner`]:{alignItems:"flex-start"},[`&${a}-block-node`]:{[`${a}-list-holder-inner`]:{alignItems:"stretch",[`${a}-node-content-wrapper`]:{flex:"auto"},[`${o}.dragging:after`]:{position:"absolute",inset:0,border:`1px solid ${t.colorPrimary}`,opacity:0,animationName:mz,animationDuration:t.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none",borderRadius:t.borderRadius}}},[o]:{display:"flex",alignItems:"flex-start",marginBottom:f,lineHeight:(0,fe.bf)(y),position:"relative","&:before":{content:'""',position:"absolute",zIndex:1,insetInlineStart:0,width:"100%",top:"100%",height:f},[`&-disabled ${a}-node-content-wrapper`]:{color:t.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}},[`${a}-checkbox-disabled + ${a}-node-selected,&${o}-disabled${o}-selected ${a}-node-content-wrapper`]:{backgroundColor:z},[`${a}-checkbox-disabled`]:{pointerEvents:"unset"},[`&:not(${o}-disabled)`]:{[`${a}-node-content-wrapper`]:{"&:hover":{color:t.nodeHoverColor}}},[`&-active ${a}-node-content-wrapper`]:{background:t.controlItemBgHover},[`&:not(${o}-disabled).filter-node ${a}-title`]:{color:t.colorPrimary,fontWeight:500},"&-draggable":{cursor:"grab",[`${a}-draggable-icon`]:{flexShrink:0,width:y,textAlign:"center",visibility:"visible",color:D},[`&${o}-disabled ${a}-draggable-icon`]:{visibility:"hidden"}}},[`${a}-indent`]:{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:C}},[`${a}-draggable-icon`]:{visibility:"hidden"},[`${a}-switcher, ${a}-checkbox`]:{marginInlineEnd:t.calc(t.calc(y).sub(t.controlInteractiveSize)).div(2).equal()},[`${a}-switcher`]:Object.assign(Object.assign({},pz(e,t)),{position:"relative",flex:"none",alignSelf:"stretch",width:y,textAlign:"center",cursor:"pointer",userSelect:"none",transition:`all ${t.motionDurationSlow}`,"&-noop":{cursor:"unset"},"&:before":{pointerEvents:"none",content:'""',width:y,height:y,position:"absolute",left:{_skip_check_:!0,value:0},top:0,borderRadius:t.borderRadius,transition:`all ${t.motionDurationSlow}`},[`&:not(${a}-switcher-noop):hover:before`]:{backgroundColor:t.colorBgTextHover},[`&_close ${a}-switcher-icon svg`]:{transform:"rotate(-90deg)"},"&-loading-icon":{color:t.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:t.calc(y).div(2).equal(),bottom:t.calc(f).mul(-1).equal(),marginInlineStart:-1,borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&:after":{position:"absolute",width:t.calc(t.calc(y).div(2).equal()).mul(.8).equal(),height:t.calc(y).div(2).equal(),borderBottom:`1px solid ${t.colorBorder}`,content:'""'}}}),[`${a}-node-content-wrapper`]:Object.assign(Object.assign({position:"relative",minHeight:y,paddingBlock:0,paddingInline:t.paddingXS,background:"transparent",borderRadius:t.borderRadius,cursor:"pointer",transition:`all ${t.motionDurationMid}, border 0s, line-height 0s, box-shadow 0s`},gz(e,t)),{"&:hover":{backgroundColor:I},[`&${a}-node-selected`]:{color:t.nodeSelectedColor,backgroundColor:w},[`${a}-iconEle`]:{display:"inline-block",width:y,height:y,textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}}),[`${a}-unselectable ${a}-node-content-wrapper:hover`]:{backgroundColor:"transparent"},[`${o}.drop-container > [draggable]`]:{boxShadow:`0 0 0 2px ${t.colorPrimary}`},"&-show-line":{[`${a}-indent-unit`]:{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:t.calc(y).div(2).equal(),bottom:t.calc(f).mul(-1).equal(),borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&-end:before":{display:"none"}},[`${a}-switcher`]:{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}},[`${o}-leaf-last ${a}-switcher-leaf-line:before`]:{top:"auto !important",bottom:"auto !important",height:`${(0,fe.bf)(t.calc(y).div(2).equal())} !important`}})}},YI=(e,t)=>{const a=`.${e}`,o=`${a}-treenode`,f=t.calc(t.paddingXS).div(2).equal(),y=(0,Ur.IX)(t,{treeCls:a,treeNodeCls:o,treeNodePadding:f});return[vz(e,y),hz(y)]},qI=e=>{const{controlHeightSM:t,controlItemBgHover:a,controlItemBgActive:o}=e,f=t;return{titleHeight:f,indentSize:f,nodeHoverBg:a,nodeHoverColor:e.colorText,nodeSelectedBg:o,nodeSelectedColor:e.colorText}},yz=e=>{const{colorTextLightSolid:t,colorPrimary:a}=e;return Object.assign(Object.assign({},qI(e)),{directoryNodeSelectedColor:t,directoryNodeSelectedBg:a})};var _z=(0,te.I$)("Tree",(e,t)=>{let{prefixCls:a}=t;return[{[e.componentCls]:b(`${a}-checkbox`,e)},YI(a,e),(0,Im.Z)(e)]},yz);const JI=4;function bz(e){const{dropPosition:t,dropLevelOffset:a,prefixCls:o,indent:f,direction:y="ltr"}=e,C=y==="ltr"?"left":"right",w=y==="ltr"?"right":"left",I={[C]:-a*f+JI,[w]:0};switch(t){case-1:I.top=-3;break;case 1:I.bottom=-3;break;default:I.bottom=-3,I[C]=f+JI;break}return s.createElement("div",{style:I,className:`${o}-drop-indicator`})}var xz=bz,Cz={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"},Sz=Cz,wz=function(t,a){return s.createElement(Xt.Z,(0,Ze.Z)({},t,{ref:a,icon:Sz}))},Ez=s.forwardRef(wz),Iz=Ez,Mz={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"},Tz=Mz,Pz=function(t,a){return s.createElement(Xt.Z,(0,Ze.Z)({},t,{ref:a,icon:Tz}))},Oz=s.forwardRef(Pz),Rz=Oz,$z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"},Az=$z,Dz=function(t,a){return s.createElement(Xt.Z,(0,Ze.Z)({},t,{ref:a,icon:Az}))},zz=s.forwardRef(Dz),Lz=zz,QI=e=>{const{prefixCls:t,switcherIcon:a,treeNodeProps:o,showLine:f,switcherLoadingIcon:y}=e,{isLeaf:C,expanded:w,loading:I}=o;if(I)return s.isValidElement(y)?y:s.createElement(_n.Z,{className:`${t}-switcher-loading-icon`});let D;if(f&&typeof f=="object"&&(D=f.showLeafIcon),C){if(!f)return null;if(typeof D!="boolean"&&D){const k=typeof D=="function"?D(o):D,Z=`${t}-switcher-line-custom-icon`;return s.isValidElement(k)?(0,bn.Tm)(k,{className:Y()(k.props.className||"",Z)}):k}return D?s.createElement(XI,{className:`${t}-switcher-line-icon`}):s.createElement("span",{className:`${t}-switcher-leaf-line`})}const z=`${t}-switcher-icon`,L=typeof a=="function"?a(o):a;return s.isValidElement(L)?(0,bn.Tm)(L,{className:Y()(L.props.className||"",z)}):L!==void 0?L:f?w?s.createElement(Rz,{className:`${t}-switcher-line-icon`}):s.createElement(Lz,{className:`${t}-switcher-line-icon`}):s.createElement(Iz,{className:z})},eM=s.forwardRef((e,t)=>{var a;const{getPrefixCls:o,direction:f,virtual:y,tree:C}=s.useContext(ve.E_),{prefixCls:w,className:I,showIcon:D=!1,showLine:z,switcherIcon:L,switcherLoadingIcon:k,blockNode:Z=!1,children:j,checkable:G=!1,selectable:H=!0,draggable:K,motion:ee,style:ie}=e,oe=o("tree",w),re=o(),se=ee!=null?ee:Object.assign(Object.assign({},(0,Rr.Z)(re)),{motionAppear:!1}),ue=Object.assign(Object.assign({},e),{checkable:G,selectable:H,showIcon:D,motion:se,blockNode:Z,showLine:!!z,dropIndicatorRender:xz}),[me,pe,ye]=_z(oe),[,Se]=(0,ea.ZP)(),Ie=Se.paddingXS/2+(((a=Se.Tree)===null||a===void 0?void 0:a.titleHeight)||Se.controlHeightSM),we=s.useMemo(()=>{if(!K)return!1;let Re={};switch(typeof K){case"function":Re.nodeDraggable=K;break;case"object":Re=Object.assign({},K);break;default:break}return Re.icon!==!1&&(Re.icon=Re.icon||s.createElement(fz,null)),Re},[K]),Be=Re=>s.createElement(QI,{prefixCls:oe,switcherIcon:L,switcherLoadingIcon:k,treeNodeProps:Re,showLine:z});return me(s.createElement(Ux.ZP,Object.assign({itemHeight:Ie,ref:t,virtual:y},ue,{style:Object.assign(Object.assign({},C==null?void 0:C.style),ie),prefixCls:oe,className:Y()({[`${oe}-icon-hide`]:!D,[`${oe}-block-node`]:Z,[`${oe}-unselectable`]:!H,[`${oe}-rtl`]:f==="rtl"},C==null?void 0:C.className,I,pe,ye),direction:f,checkable:G&&s.createElement("span",{className:`${oe}-checkbox-inner`}),selectable:H,switcherIcon:Be,draggable:we}),j))});const tM=0,xw=1,nM=2;function Cw(e,t,a){const{key:o,children:f}=a;function y(C){const w=C[o],I=C[f];t(w,C)!==!1&&Cw(I||[],t,a)}e.forEach(y)}function Nz(e){let{treeData:t,expandedKeys:a,startKey:o,endKey:f,fieldNames:y}=e;const C=[];let w=tM;if(o&&o===f)return[o];if(!o||!f)return[];function I(D){return D===o||D===f}return Cw(t,D=>{if(w===nM)return!1;if(I(D)){if(C.push(D),w===tM)w=xw;else if(w===xw)return w=nM,!1}else w===xw&&C.push(D);return a.includes(D)},(0,Uf.w$)(y)),C}function Sw(e,t,a){const o=(0,xe.Z)(t),f=[];return Cw(e,(y,C)=>{const w=o.indexOf(y);return w!==-1&&(f.push(C),o.splice(w,1)),!!o.length},(0,Uf.w$)(a)),f}var rM=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};function Bz(e){const{isLeaf:t,expanded:a}=e;return t?s.createElement(XI,null):a?s.createElement(nz,null):s.createElement(sz,null)}function iM(e){let{treeData:t,children:a}=e;return t||(0,Uf.zn)(a)}const Fz=(e,t)=>{var{defaultExpandAll:a,defaultExpandParent:o,defaultExpandedKeys:f}=e,y=rM(e,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]);const C=s.useRef(null),w=s.useRef(null),I=()=>{const{keyEntities:me}=(0,Uf.I8)(iM(y));let pe;return a?pe=Object.keys(me):o?pe=(0,gw.r7)(y.expandedKeys||f||[],me):pe=y.expandedKeys||f||[],pe},[D,z]=s.useState(y.selectedKeys||y.defaultSelectedKeys||[]),[L,k]=s.useState(()=>I());s.useEffect(()=>{"selectedKeys"in y&&z(y.selectedKeys)},[y.selectedKeys]),s.useEffect(()=>{"expandedKeys"in y&&k(y.expandedKeys)},[y.expandedKeys]);const Z=(me,pe)=>{var ye;return"expandedKeys"in y||k(me),(ye=y.onExpand)===null||ye===void 0?void 0:ye.call(y,me,pe)},j=(me,pe)=>{var ye;const{multiple:Se,fieldNames:Ie}=y,{node:we,nativeEvent:Be}=pe,{key:Re=""}=we,je=iM(y),Ne=Object.assign(Object.assign({},pe),{selected:!0}),nt=(Be==null?void 0:Be.ctrlKey)||(Be==null?void 0:Be.metaKey),at=Be==null?void 0:Be.shiftKey;let Ct;Se&&nt?(Ct=me,C.current=Re,w.current=Ct,Ne.selectedNodes=Sw(je,Ct,Ie)):Se&&at?(Ct=Array.from(new Set([].concat((0,xe.Z)(w.current||[]),(0,xe.Z)(Nz({treeData:je,expandedKeys:L,startKey:Re,endKey:C.current,fieldNames:Ie}))))),Ne.selectedNodes=Sw(je,Ct,Ie)):(Ct=[Re],C.current=Re,w.current=Ct,Ne.selectedNodes=Sw(je,Ct,Ie)),(ye=y.onSelect)===null||ye===void 0||ye.call(y,Ct,Ne),"selectedKeys"in y||z(Ct)},{getPrefixCls:G,direction:H}=s.useContext(ve.E_),{prefixCls:K,className:ee,showIcon:ie=!0,expandAction:oe="click"}=y,re=rM(y,["prefixCls","className","showIcon","expandAction"]),se=G("tree",K),ue=Y()(`${se}-directory`,{[`${se}-directory-rtl`]:H==="rtl"},ee);return s.createElement(eM,Object.assign({icon:Bz,ref:t,blockNode:!0},re,{showIcon:ie,expandAction:oe,prefixCls:se,className:ue,expandedKeys:L,selectedKeys:D,onSelect:j,onExpand:Z}))};var kz=s.forwardRef(Fz);const ww=eM;ww.DirectoryTree=kz,ww.TreeNode=Ux.OF;var oM=ww,aM=e=>{const{value:t,filterSearch:a,tablePrefixCls:o,locale:f,onChange:y}=e;return a?s.createElement("div",{className:`${o}-filter-dropdown-search`},s.createElement(hv.Z,{prefix:s.createElement(jS.Z,null),placeholder:f.filterSearchPlaceholder,onChange:y,value:t,htmlSize:1,className:`${o}-filter-dropdown-search-input`})):null};const jz=e=>{const{keyCode:t}=e;t===et.Z.ENTER&&e.stopPropagation()};var Zz=s.forwardRef((e,t)=>s.createElement("div",{className:e.className,onClick:a=>a.stopPropagation(),onKeyDown:jz,ref:t},e.children));function Cv(e){let t=[];return(e||[]).forEach(a=>{let{value:o,children:f}=a;t.push(o),f&&(t=[].concat((0,xe.Z)(t),(0,xe.Z)(Cv(f))))}),t}function Vz(e){return e.some(t=>{let{children:a}=t;return a})}function sM(e,t){return typeof t=="string"||typeof t=="number"?t==null?void 0:t.toString().toLowerCase().includes(e.trim().toLowerCase()):!1}function lM(e){let{filters:t,prefixCls:a,filteredKeys:o,filterMultiple:f,searchValue:y,filterSearch:C}=e;return t.map((w,I)=>{const D=String(w.value);if(w.children)return{key:D||I,label:w.text,popupClassName:`${a}-dropdown-submenu`,children:lM({filters:w.children,prefixCls:a,filteredKeys:o,filterMultiple:f,searchValue:y,filterSearch:C})};const z=f?Hr:nw.ZP,L={key:w.value!==void 0?D:I,label:s.createElement(s.Fragment,null,s.createElement(z,{checked:o.includes(D)}),s.createElement("span",null,w.text))};return y.trim()?typeof C=="function"?C(y,w)?L:null:sM(y,w.text)?L:null:L})}function Ew(e){return e||[]}var Hz=e=>{var t,a,o,f;const{tablePrefixCls:y,prefixCls:C,column:w,dropdownPrefixCls:I,columnKey:D,filterOnClose:z,filterMultiple:L,filterMode:k="menu",filterSearch:Z=!1,filterState:j,triggerFilter:G,locale:H,children:K,getPopupContainer:ee,rootClassName:ie}=e,{filterResetToDefaultFilteredValue:oe,defaultFilteredValue:re,filterDropdownProps:se={},filterDropdownOpen:ue,filterDropdownVisible:me,onFilterDropdownVisibleChange:pe,onFilterDropdownOpenChange:ye}=w,[Se,Ie]=s.useState(!1),we=!!(j&&(!((t=j.filteredKeys)===null||t===void 0)&&t.length||j.forceFiltered)),Be=Rn=>{var Jn;Ie(Rn),(Jn=se.onOpenChange)===null||Jn===void 0||Jn.call(se,Rn),ye==null||ye(Rn),pe==null||pe(Rn)},Re=(f=(o=(a=se.open)!==null&&a!==void 0?a:ue)!==null&&o!==void 0?o:me)!==null&&f!==void 0?f:Se,je=j==null?void 0:j.filteredKeys,[Ne,nt]=G5(Ew(je)),at=Rn=>{let{selectedKeys:Jn}=Rn;nt(Jn)},Ct=(Rn,Jn)=>{let{node:zr,checked:li}=Jn;at(L?{selectedKeys:Rn}:{selectedKeys:li&&zr.key?[zr.key]:[]})};s.useEffect(()=>{Se&&at({selectedKeys:Ew(je)})},[je]);const[St,_t]=s.useState([]),ft=Rn=>{_t(Rn)},[vt,$t]=s.useState(""),It=Rn=>{const{value:Jn}=Rn.target;$t(Jn)};s.useEffect(()=>{Se||$t("")},[Se]);const Ft=Rn=>{const Jn=Rn!=null&&Rn.length?Rn:null;if(Jn===null&&(!j||!j.filteredKeys)||(0,Ol.Z)(Jn,j==null?void 0:j.filteredKeys,!0))return null;G({column:w,key:D,filteredKeys:Jn})},wt=()=>{Be(!1),Ft(Ne())},pn=function(){let{confirm:Rn,closeDropdown:Jn}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{confirm:!1,closeDropdown:!1};Rn&&Ft([]),Jn&&Be(!1),$t(""),nt(oe?(re||[]).map(zr=>String(zr)):[])},Bn=function(){let{closeDropdown:Rn}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{closeDropdown:!0};Rn&&Be(!1),Ft(Ne())},ln=(Rn,Jn)=>{Jn.source==="trigger"&&(Rn&&je!==void 0&&nt(Ew(je)),Be(Rn),!Rn&&!w.filterDropdown&&z&&wt())},Tn=Y()({[`${I}-menu-without-submenu`]:!Vz(w.filters||[])}),Kt=Rn=>{if(Rn.target.checked){const Jn=Cv(w==null?void 0:w.filters).map(zr=>String(zr));nt(Jn)}else nt([])},zt=Rn=>{let{filters:Jn}=Rn;return(Jn||[]).map((zr,li)=>{const xi=String(zr.value),Di={title:zr.text,key:zr.value!==void 0?xi:String(li)};return zr.children&&(Di.children=zt({filters:zr.children})),Di})},Dn=Rn=>{var Jn;return Object.assign(Object.assign({},Rn),{text:Rn.title,value:Rn.key,children:((Jn=Rn.children)===null||Jn===void 0?void 0:Jn.map(zr=>Dn(zr)))||[]})};let Sn;const{direction:Ir,renderEmpty:ur}=s.useContext(ve.E_);if(typeof w.filterDropdown=="function")Sn=w.filterDropdown({prefixCls:`${I}-custom`,setSelectedKeys:Rn=>at({selectedKeys:Rn}),selectedKeys:Ne(),confirm:Bn,clearFilters:pn,filters:w.filters,visible:Re,close:()=>{Be(!1)}});else if(w.filterDropdown)Sn=w.filterDropdown;else{const Rn=Ne()||[],Jn=()=>{var li,xi;const Di=(li=ur==null?void 0:ur("Table.filter"))!==null&&li!==void 0?li:s.createElement(LS.Z,{image:LS.Z.PRESENTED_IMAGE_SIMPLE,description:H.filterEmptyText,styles:{image:{height:24}},style:{margin:0,padding:"16px 0"}});if((w.filters||[]).length===0)return Di;if(k==="tree")return s.createElement(s.Fragment,null,s.createElement(aM,{filterSearch:Z,value:vt,onChange:It,tablePrefixCls:y,locale:H}),s.createElement("div",{className:`${y}-filter-dropdown-tree`},L?s.createElement(Hr,{checked:Rn.length===Cv(w.filters).length,indeterminate:Rn.length>0&&Rn.length<Cv(w.filters).length,className:`${y}-filter-dropdown-checkall`,onChange:Kt},(xi=H==null?void 0:H.filterCheckall)!==null&&xi!==void 0?xi:H==null?void 0:H.filterCheckAll):null,s.createElement(oM,{checkable:!0,selectable:!1,blockNode:!0,multiple:L,checkStrictly:!L,className:`${I}-menu`,onCheck:Ct,checkedKeys:Rn,selectedKeys:Rn,showIcon:!1,treeData:zt({filters:w.filters}),autoExpandParent:!0,defaultExpandAll:!0,filterTreeNode:vt.trim()?ai=>typeof Z=="function"?Z(vt,Dn(ai)):sM(vt,ai.title):void 0})));const So=lM({filters:w.filters||[],filterSearch:Z,prefixCls:C,filteredKeys:Ne(),filterMultiple:L,searchValue:vt}),_i=So.every(ai=>ai===null);return s.createElement(s.Fragment,null,s.createElement(aM,{filterSearch:Z,value:vt,onChange:It,tablePrefixCls:y,locale:H}),_i?Di:s.createElement(Xv,{selectable:!0,multiple:L,prefixCls:`${I}-menu`,className:Tn,onSelect:at,onDeselect:at,selectedKeys:Rn,getPopupContainer:ee,openKeys:St,onOpenChange:ft,items:So}))},zr=()=>oe?(0,Ol.Z)((re||[]).map(li=>String(li)),Rn,!0):Rn.length===0;Sn=s.createElement(s.Fragment,null,Jn(),s.createElement("div",{className:`${C}-dropdown-btns`},s.createElement(wn,{type:"link",size:"small",disabled:zr(),onClick:()=>pn()},H.filterReset),s.createElement(wn,{type:"primary",size:"small",onClick:wt},H.filterConfirm)))}w.filterDropdown&&(Sn=s.createElement(Kl,{selectable:void 0},Sn)),Sn=s.createElement(Zz,{className:`${C}-dropdown`},Sn);const qn=KS({trigger:["click"],placement:Ir==="rtl"?"bottomLeft":"bottomRight",children:(()=>{let Rn;return typeof w.filterIcon=="function"?Rn=w.filterIcon(we):w.filterIcon?Rn=w.filterIcon:Rn=s.createElement(W5,null),s.createElement("span",{role:"button",tabIndex:-1,className:Y()(`${C}-trigger`,{active:we}),onClick:Jn=>{Jn.stopPropagation()}},Rn)})(),getPopupContainer:ee},Object.assign(Object.assign({},se),{rootClassName:Y()(ie,se.rootClassName),open:Re,onOpenChange:ln,dropdownRender:()=>typeof(se==null?void 0:se.dropdownRender)=="function"?se.dropdownRender(Sn):Sn}));return s.createElement("div",{className:`${C}-column`},s.createElement("span",{className:`${y}-column-title`},K),s.createElement(wx,Object.assign({},qn)))};const Iw=(e,t,a)=>{let o=[];return(e||[]).forEach((f,y)=>{var C;const w=xv(y,a);if(f.filters||"filterDropdown"in f||"onFilter"in f)if("filteredValue"in f){let I=f.filteredValue;"filterDropdown"in f||(I=(C=I==null?void 0:I.map(String))!==null&&C!==void 0?C:I),o.push({column:f,key:np(f,w),filteredKeys:I,forceFiltered:f.filtered})}else o.push({column:f,key:np(f,w),filteredKeys:t&&f.defaultFilteredValue?f.defaultFilteredValue:void 0,forceFiltered:f.filtered});"children"in f&&(o=[].concat((0,xe.Z)(o),(0,xe.Z)(Iw(f.children,t,w))))}),o};function cM(e,t,a,o,f,y,C,w,I){return a.map((D,z)=>{const L=xv(z,w),{filterOnClose:k=!0,filterMultiple:Z=!0,filterMode:j,filterSearch:G}=D;let H=D;if(H.filters||H.filterDropdown){const K=np(H,L),ee=o.find(ie=>{let{key:oe}=ie;return K===oe});H=Object.assign(Object.assign({},H),{title:ie=>s.createElement(Hz,{tablePrefixCls:e,prefixCls:`${e}-filter`,dropdownPrefixCls:t,column:H,columnKey:K,filterState:ee,filterOnClose:k,filterMultiple:Z,filterMode:j,filterSearch:G,triggerFilter:y,locale:f,getPopupContainer:C,rootClassName:I},Hx(D.title,ie))})}return"children"in H&&(H=Object.assign(Object.assign({},H),{children:cM(e,t,H.children,o,f,y,C,L,I)})),H})}const uM=e=>{const t={};return e.forEach(a=>{let{key:o,filteredKeys:f,column:y}=a;const C=o,{filters:w,filterDropdown:I}=y;if(I)t[C]=f||null;else if(Array.isArray(f)){const D=Cv(w);t[C]=D.filter(z=>f.includes(String(z)))}else t[C]=null}),t},Mw=(e,t,a)=>t.reduce((f,y)=>{const{column:{onFilter:C,filters:w},filteredKeys:I}=y;return C&&I&&I.length?f.map(D=>Object.assign({},D)).filter(D=>I.some(z=>{const L=Cv(w),k=L.findIndex(j=>String(j)===String(z)),Z=k!==-1?L[k]:z;return D[a]&&(D[a]=Mw(D[a],t,a)),C(Z,D)})):f},e),dM=e=>e.flatMap(t=>"children"in t?[t].concat((0,xe.Z)(dM(t.children||[]))):[t]);var Uz=e=>{const{prefixCls:t,dropdownPrefixCls:a,mergedColumns:o,onFilterChange:f,getPopupContainer:y,locale:C,rootClassName:w}=e,I=(0,io.ln)("Table"),D=s.useMemo(()=>dM(o||[]),[o]),[z,L]=s.useState(()=>Iw(D,!0)),k=s.useMemo(()=>{const H=Iw(D,!1);if(H.length===0)return H;let K=!0,ee=!0;if(H.forEach(ie=>{let{filteredKeys:oe}=ie;oe!==void 0?K=!1:ee=!1}),K){const ie=(D||[]).map((oe,re)=>np(oe,xv(re)));return z.filter(oe=>{let{key:re}=oe;return ie.includes(re)}).map(oe=>{const re=D[ie.findIndex(se=>se===oe.key)];return Object.assign(Object.assign({},oe),{column:Object.assign(Object.assign({},oe.column),re),forceFiltered:re.filtered})})}return H},[D,z]),Z=s.useMemo(()=>uM(k),[k]),j=H=>{const K=k.filter(ee=>{let{key:ie}=ee;return ie!==H.key});K.push(H),L(K),f(uM(K),K)};return[H=>cM(t,a,H,k,C,j,y,void 0,w),k,Z]},Wz=(e,t,a)=>{const o=s.useRef({});function f(y){var C;if(!o.current||o.current.data!==e||o.current.childrenColumnName!==t||o.current.getRowKey!==a){let I=function(D){D.forEach((z,L)=>{const k=a(z,L);w.set(k,z),z&&typeof z=="object"&&t in z&&I(z[t]||[])})};const w=new Map;I(e),o.current={data:e,childrenColumnName:t,kvMap:w,getRowKey:a}}return(C=o.current.kvMap)===null||C===void 0?void 0:C.get(y)}return[f]},Gz=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const fM=10;function Kz(e,t){const a={current:e.current,pageSize:e.pageSize};return Object.keys(t&&typeof t=="object"?t:{}).forEach(f=>{const y=e[f];typeof y!="function"&&(a[f]=y)}),a}function Xz(e,t,a){const o=a&&typeof a=="object"?a:{},{total:f=0}=o,y=Gz(o,["total"]),[C,w]=(0,s.useState)(()=>({current:"defaultCurrent"in y?y.defaultCurrent:1,pageSize:"defaultPageSize"in y?y.defaultPageSize:fM})),I=KS(C,y,{total:f>0?f:e}),D=Math.ceil((f||e)/I.pageSize);I.current>D&&(I.current=D||1);const z=(k,Z)=>{w({current:k!=null?k:1,pageSize:Z||I.pageSize})},L=(k,Z)=>{var j;a&&((j=a.onChange)===null||j===void 0||j.call(a,k,Z)),z(k,Z),t(k,Z||(I==null?void 0:I.pageSize))};return a===!1?[{},()=>{}]:[Object.assign(Object.assign({},I),{onChange:L}),z]}var Yz=Xz,qz={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"},Jz=qz,Qz=function(t,a){return s.createElement(Xt.Z,(0,Ze.Z)({},t,{ref:a,icon:Jz}))},eL=s.forwardRef(Qz),tL=eL,nL={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"}}]},name:"caret-up",theme:"outlined"},rL=nL,iL=function(t,a){return s.createElement(Xt.Z,(0,Ze.Z)({},t,{ref:a,icon:rL}))},oL=s.forwardRef(iL),aL=oL;const Wx="ascend",Tw="descend",Gx=e=>typeof e.sorter=="object"&&typeof e.sorter.multiple=="number"?e.sorter.multiple:!1,hM=e=>typeof e=="function"?e:e&&typeof e=="object"&&e.compare?e.compare:!1,sL=(e,t)=>t?e[e.indexOf(t)+1]:e[0],Pw=(e,t,a)=>{let o=[];const f=(y,C)=>{o.push({column:y,key:np(y,C),multiplePriority:Gx(y),sortOrder:y.sortOrder})};return(e||[]).forEach((y,C)=>{const w=xv(C,a);y.children?("sortOrder"in y&&f(y,w),o=[].concat((0,xe.Z)(o),(0,xe.Z)(Pw(y.children,t,w)))):y.sorter&&("sortOrder"in y?f(y,w):t&&y.defaultSortOrder&&o.push({column:y,key:np(y,w),multiplePriority:Gx(y),sortOrder:y.defaultSortOrder}))}),o},mM=(e,t,a,o,f,y,C,w)=>(t||[]).map((D,z)=>{const L=xv(z,w);let k=D;if(k.sorter){const Z=k.sortDirections||f,j=k.showSorterTooltip===void 0?C:k.showSorterTooltip,G=np(k,L),H=a.find(pe=>{let{key:ye}=pe;return ye===G}),K=H?H.sortOrder:null,ee=sL(Z,K);let ie;if(D.sortIcon)ie=D.sortIcon({sortOrder:K});else{const pe=Z.includes(Wx)&&s.createElement(aL,{className:Y()(`${e}-column-sorter-up`,{active:K===Wx})}),ye=Z.includes(Tw)&&s.createElement(tL,{className:Y()(`${e}-column-sorter-down`,{active:K===Tw})});ie=s.createElement("span",{className:Y()(`${e}-column-sorter`,{[`${e}-column-sorter-full`]:!!(pe&&ye)})},s.createElement("span",{className:`${e}-column-sorter-inner`,"aria-hidden":"true"},pe,ye))}const{cancelSort:oe,triggerAsc:re,triggerDesc:se}=y||{};let ue=oe;ee===Tw?ue=se:ee===Wx&&(ue=re);const me=typeof j=="object"?Object.assign({title:ue},j):{title:ue};k=Object.assign(Object.assign({},k),{className:Y()(k.className,{[`${e}-column-sort`]:K}),title:pe=>{const ye=`${e}-column-sorters`,Se=s.createElement("span",{className:`${e}-column-title`},Hx(D.title,pe)),Ie=s.createElement("div",{className:ye},Se,ie);return j?typeof j!="boolean"&&(j==null?void 0:j.target)==="sorter-icon"?s.createElement("div",{className:`${ye} ${e}-column-sorters-tooltip-target-sorter`},Se,s.createElement(Du.Z,Object.assign({},me),ie)):s.createElement(Du.Z,Object.assign({},me),Ie):Ie},onHeaderCell:pe=>{var ye;const Se=((ye=D.onHeaderCell)===null||ye===void 0?void 0:ye.call(D,pe))||{},Ie=Se.onClick,we=Se.onKeyDown;Se.onClick=je=>{o({column:D,key:G,sortOrder:ee,multiplePriority:Gx(D)}),Ie==null||Ie(je)},Se.onKeyDown=je=>{je.keyCode===et.Z.ENTER&&(o({column:D,key:G,sortOrder:ee,multiplePriority:Gx(D)}),we==null||we(je))};const Be=j5(D.title,{}),Re=Be==null?void 0:Be.toString();return K&&(Se["aria-sort"]=K==="ascend"?"ascending":"descending"),Se["aria-label"]=Re||"",Se.className=Y()(Se.className,`${e}-column-has-sorters`),Se.tabIndex=0,D.ellipsis&&(Se.title=(Be!=null?Be:"").toString()),Se}})}return"children"in k&&(k=Object.assign(Object.assign({},k),{children:mM(e,k.children,a,o,f,y,C,L)})),k}),pM=e=>{const{column:t,sortOrder:a}=e;return{column:t,order:a,field:t.dataIndex,columnKey:t.key}},gM=e=>{const t=e.filter(a=>{let{sortOrder:o}=a;return o}).map(pM);if(t.length===0&&e.length){const a=e.length-1;return Object.assign(Object.assign({},pM(e[a])),{column:void 0,order:void 0,field:void 0,columnKey:void 0})}return t.length<=1?t[0]||{}:t},Ow=(e,t,a)=>{const o=t.slice().sort((C,w)=>w.multiplePriority-C.multiplePriority),f=e.slice(),y=o.filter(C=>{let{column:{sorter:w},sortOrder:I}=C;return hM(w)&&I});return y.length?f.sort((C,w)=>{for(let I=0;I<y.length;I+=1){const D=y[I],{column:{sorter:z},sortOrder:L}=D,k=hM(z);if(k&&L){const Z=k(C,w,L);if(Z!==0)return L===Wx?Z:-Z}}return 0}).map(C=>{const w=C[a];return w?Object.assign(Object.assign({},C),{[a]:Ow(w,t,a)}):C}):f};var lL=e=>{const{prefixCls:t,mergedColumns:a,sortDirections:o,tableLocale:f,showSorterTooltip:y,onSorterChange:C}=e,[w,I]=s.useState(Pw(a,!0)),D=(G,H)=>{const K=[];return G.forEach((ee,ie)=>{const oe=xv(ie,H);if(K.push(np(ee,oe)),Array.isArray(ee.children)){const re=D(ee.children,oe);K.push.apply(K,(0,xe.Z)(re))}}),K},z=s.useMemo(()=>{let G=!0;const H=Pw(a,!1);if(!H.length){const oe=D(a);return w.filter(re=>{let{key:se}=re;return oe.includes(se)})}const K=[];function ee(oe){G?K.push(oe):K.push(Object.assign(Object.assign({},oe),{sortOrder:null}))}let ie=null;return H.forEach(oe=>{ie===null?(ee(oe),oe.sortOrder&&(oe.multiplePriority===!1?G=!1:ie=!0)):(ie&&oe.multiplePriority!==!1||(G=!1),ee(oe))}),K},[a,w]),L=s.useMemo(()=>{var G,H;const K=z.map(ee=>{let{column:ie,sortOrder:oe}=ee;return{column:ie,order:oe}});return{sortColumns:K,sortColumn:(G=K[0])===null||G===void 0?void 0:G.column,sortOrder:(H=K[0])===null||H===void 0?void 0:H.order}},[z]),k=G=>{let H;G.multiplePriority===!1||!z.length||z[0].multiplePriority===!1?H=[G]:H=[].concat((0,xe.Z)(z.filter(K=>{let{key:ee}=K;return ee!==G.key})),[G]),I(H),C(gM(H),H)};return[G=>mM(t,G,z,k,o,f,y),z,L,()=>gM(z)]};const vM=(e,t)=>e.map(o=>{const f=Object.assign({},o);return f.title=Hx(o.title,t),"children"in f&&(f.children=vM(f.children,t)),f});var cL=e=>[s.useCallback(a=>vM(a,e),[e])],uL=VI((e,t)=>{const{_renderTimes:a}=e,{_renderTimes:o}=t;return a!==o}),dL=WI((e,t)=>{const{_renderTimes:a}=e,{_renderTimes:o}=t;return a!==o}),fL=e=>{const{componentCls:t,lineWidth:a,lineType:o,tableBorderColor:f,tableHeaderBg:y,tablePaddingVertical:C,tablePaddingHorizontal:w,calc:I}=e,D=`${(0,fe.bf)(a)} ${o} ${f}`,z=(L,k,Z)=>({[`&${t}-${L}`]:{[`> ${t}-container`]:{[`> ${t}-content, > ${t}-body`]:{"\n            > table > tbody > tr > th,\n            > table > tbody > tr > td\n          ":{[`> ${t}-expanded-row-fixed`]:{margin:`${(0,fe.bf)(I(k).mul(-1).equal())}
              ${(0,fe.bf)(I(I(Z).add(a)).mul(-1).equal())}`}}}}}});return{[`${t}-wrapper`]:{[`${t}${t}-bordered`]:Object.assign(Object.assign(Object.assign({[`> ${t}-title`]:{border:D,borderBottom:0},[`> ${t}-container`]:{borderInlineStart:D,borderTop:D,[`
            > ${t}-content,
            > ${t}-header,
            > ${t}-body,
            > ${t}-summary
          `]:{"> table":{"\n                > thead > tr > th,\n                > thead > tr > td,\n                > tbody > tr > th,\n                > tbody > tr > td,\n                > tfoot > tr > th,\n                > tfoot > tr > td\n              ":{borderInlineEnd:D},"> thead":{"> tr:not(:last-child) > th":{borderBottom:D},"> tr > th::before":{backgroundColor:"transparent !important"}},"\n                > thead > tr,\n                > tbody > tr,\n                > tfoot > tr\n              ":{[`> ${t}-cell-fix-right-first::after`]:{borderInlineEnd:D}},"\n                > tbody > tr > th,\n                > tbody > tr > td\n              ":{[`> ${t}-expanded-row-fixed`]:{margin:`${(0,fe.bf)(I(C).mul(-1).equal())} ${(0,fe.bf)(I(I(w).add(a)).mul(-1).equal())}`,"&::after":{position:"absolute",top:0,insetInlineEnd:a,bottom:0,borderInlineEnd:D,content:'""'}}}}}},[`&${t}-scroll-horizontal`]:{[`> ${t}-container > ${t}-body`]:{"> table > tbody":{[`
                > tr${t}-expanded-row,
                > tr${t}-placeholder
              `]:{"> th, > td":{borderInlineEnd:0}}}}}},z("middle",e.tablePaddingVerticalMiddle,e.tablePaddingHorizontalMiddle)),z("small",e.tablePaddingVerticalSmall,e.tablePaddingHorizontalSmall)),{[`> ${t}-footer`]:{border:D,borderTop:0}}),[`${t}-cell`]:{[`${t}-container:first-child`]:{borderTop:0},"&-scrollbar:not([rowspan])":{boxShadow:`0 ${(0,fe.bf)(a)} 0 ${(0,fe.bf)(a)} ${y}`}},[`${t}-bordered ${t}-cell-scrollbar`]:{borderInlineEnd:D}}}},hL=e=>{const{componentCls:t}=e;return{[`${t}-wrapper`]:{[`${t}-cell-ellipsis`]:Object.assign(Object.assign({},Wt.vS),{wordBreak:"keep-all",[`
          &${t}-cell-fix-left-last,
          &${t}-cell-fix-right-first
        `]:{overflow:"visible",[`${t}-cell-content`]:{display:"block",overflow:"hidden",textOverflow:"ellipsis"}},[`${t}-column-title`]:{overflow:"hidden",textOverflow:"ellipsis",wordBreak:"keep-all"}})}}},mL=e=>{const{componentCls:t}=e;return{[`${t}-wrapper`]:{[`${t}-tbody > tr${t}-placeholder`]:{textAlign:"center",color:e.colorTextDisabled,"\n          &:hover > th,\n          &:hover > td,\n        ":{background:e.colorBgContainer}}}}},pL=e=>{const{componentCls:t,antCls:a,motionDurationSlow:o,lineWidth:f,paddingXS:y,lineType:C,tableBorderColor:w,tableExpandIconBg:I,tableExpandColumnWidth:D,borderRadius:z,tablePaddingVertical:L,tablePaddingHorizontal:k,tableExpandedRowBg:Z,paddingXXS:j,expandIconMarginTop:G,expandIconSize:H,expandIconHalfInner:K,expandIconScale:ee,calc:ie}=e,oe=`${(0,fe.bf)(f)} ${C} ${w}`,re=ie(j).sub(f).equal();return{[`${t}-wrapper`]:{[`${t}-expand-icon-col`]:{width:D},[`${t}-row-expand-icon-cell`]:{textAlign:"center",[`${t}-row-expand-icon`]:{display:"inline-flex",float:"none",verticalAlign:"sub"}},[`${t}-row-indent`]:{height:1,float:"left"},[`${t}-row-expand-icon`]:Object.assign(Object.assign({},(0,Wt.Nd)(e)),{position:"relative",float:"left",width:H,height:H,color:"inherit",lineHeight:(0,fe.bf)(H),background:I,border:oe,borderRadius:z,transform:`scale(${ee})`,"&:focus, &:hover, &:active":{borderColor:"currentcolor"},"&::before, &::after":{position:"absolute",background:"currentcolor",transition:`transform ${o} ease-out`,content:'""'},"&::before":{top:K,insetInlineEnd:re,insetInlineStart:re,height:f},"&::after":{top:re,bottom:re,insetInlineStart:K,width:f,transform:"rotate(90deg)"},"&-collapsed::before":{transform:"rotate(-180deg)"},"&-collapsed::after":{transform:"rotate(0deg)"},"&-spaced":{"&::before, &::after":{display:"none",content:"none"},background:"transparent",border:0,visibility:"hidden"}}),[`${t}-row-indent + ${t}-row-expand-icon`]:{marginTop:G,marginInlineEnd:y},[`tr${t}-expanded-row`]:{"&, &:hover":{"> th, > td":{background:Z}},[`${a}-descriptions-view`]:{display:"flex",table:{flex:"auto",width:"100%"}}},[`${t}-expanded-row-fixed`]:{position:"relative",margin:`${(0,fe.bf)(ie(L).mul(-1).equal())} ${(0,fe.bf)(ie(k).mul(-1).equal())}`,padding:`${(0,fe.bf)(L)} ${(0,fe.bf)(k)}`}}}},gL=e=>{const{componentCls:t,antCls:a,iconCls:o,tableFilterDropdownWidth:f,tableFilterDropdownSearchWidth:y,paddingXXS:C,paddingXS:w,colorText:I,lineWidth:D,lineType:z,tableBorderColor:L,headerIconColor:k,fontSizeSM:Z,tablePaddingHorizontal:j,borderRadius:G,motionDurationSlow:H,colorTextDescription:K,colorPrimary:ee,tableHeaderFilterActiveBg:ie,colorTextDisabled:oe,tableFilterDropdownBg:re,tableFilterDropdownHeight:se,controlItemBgHover:ue,controlItemBgActive:me,boxShadowSecondary:pe,filterDropdownMenuBg:ye,calc:Se}=e,Ie=`${a}-dropdown`,we=`${t}-filter-dropdown`,Be=`${a}-tree`,Re=`${(0,fe.bf)(D)} ${z} ${L}`;return[{[`${t}-wrapper`]:{[`${t}-filter-column`]:{display:"flex",justifyContent:"space-between"},[`${t}-filter-trigger`]:{position:"relative",display:"flex",alignItems:"center",marginBlock:Se(C).mul(-1).equal(),marginInline:`${(0,fe.bf)(C)} ${(0,fe.bf)(Se(j).div(2).mul(-1).equal())}`,padding:`0 ${(0,fe.bf)(C)}`,color:k,fontSize:Z,borderRadius:G,cursor:"pointer",transition:`all ${H}`,"&:hover":{color:K,background:ie},"&.active":{color:ee}}}},{[`${a}-dropdown`]:{[we]:Object.assign(Object.assign({},(0,Wt.Wf)(e)),{minWidth:f,backgroundColor:re,borderRadius:G,boxShadow:pe,overflow:"hidden",[`${Ie}-menu`]:{maxHeight:se,overflowX:"hidden",border:0,boxShadow:"none",borderRadius:"unset",backgroundColor:ye,"&:empty::after":{display:"block",padding:`${(0,fe.bf)(w)} 0`,color:oe,fontSize:Z,textAlign:"center",content:'"Not Found"'}},[`${we}-tree`]:{paddingBlock:`${(0,fe.bf)(w)} 0`,paddingInline:w,[Be]:{padding:0},[`${Be}-treenode ${Be}-node-content-wrapper:hover`]:{backgroundColor:ue},[`${Be}-treenode-checkbox-checked ${Be}-node-content-wrapper`]:{"&, &:hover":{backgroundColor:me}}},[`${we}-search`]:{padding:w,borderBottom:Re,"&-input":{input:{minWidth:y},[o]:{color:oe}}},[`${we}-checkall`]:{width:"100%",marginBottom:C,marginInlineStart:C},[`${we}-btns`]:{display:"flex",justifyContent:"space-between",padding:`${(0,fe.bf)(Se(w).sub(D).equal())} ${(0,fe.bf)(w)}`,overflow:"hidden",borderTop:Re}})}},{[`${a}-dropdown ${we}, ${we}-submenu`]:{[`${a}-checkbox-wrapper + span`]:{paddingInlineStart:w,color:I},"> ul":{maxHeight:"calc(100vh - 130px)",overflowX:"hidden",overflowY:"auto"}}}]},vL=e=>{const{componentCls:t,lineWidth:a,colorSplit:o,motionDurationSlow:f,zIndexTableFixed:y,tableBg:C,zIndexTableSticky:w,calc:I}=e,D=o;return{[`${t}-wrapper`]:{[`
        ${t}-cell-fix-left,
        ${t}-cell-fix-right
      `]:{position:"sticky !important",zIndex:y,background:C},[`
        ${t}-cell-fix-left-first::after,
        ${t}-cell-fix-left-last::after
      `]:{position:"absolute",top:0,right:{_skip_check_:!0,value:0},bottom:I(a).mul(-1).equal(),width:30,transform:"translateX(100%)",transition:`box-shadow ${f}`,content:'""',pointerEvents:"none"},[`${t}-cell-fix-left-all::after`]:{display:"none"},[`
        ${t}-cell-fix-right-first::after,
        ${t}-cell-fix-right-last::after
      `]:{position:"absolute",top:0,bottom:I(a).mul(-1).equal(),left:{_skip_check_:!0,value:0},width:30,transform:"translateX(-100%)",transition:`box-shadow ${f}`,content:'""',pointerEvents:"none"},[`${t}-container`]:{position:"relative","&::before, &::after":{position:"absolute",top:0,bottom:0,zIndex:I(w).add(1).equal({unit:!1}),width:30,transition:`box-shadow ${f}`,content:'""',pointerEvents:"none"},"&::before":{insetInlineStart:0},"&::after":{insetInlineEnd:0}},[`${t}-ping-left`]:{[`&:not(${t}-has-fix-left) ${t}-container::before`]:{boxShadow:`inset 10px 0 8px -8px ${D}`},[`
          ${t}-cell-fix-left-first::after,
          ${t}-cell-fix-left-last::after
        `]:{boxShadow:`inset 10px 0 8px -8px ${D}`},[`${t}-cell-fix-left-last::before`]:{backgroundColor:"transparent !important"}},[`${t}-ping-right`]:{[`&:not(${t}-has-fix-right) ${t}-container::after`]:{boxShadow:`inset -10px 0 8px -8px ${D}`},[`
          ${t}-cell-fix-right-first::after,
          ${t}-cell-fix-right-last::after
        `]:{boxShadow:`inset -10px 0 8px -8px ${D}`}},[`${t}-fixed-column-gapped`]:{[`
        ${t}-cell-fix-left-first::after,
        ${t}-cell-fix-left-last::after,
        ${t}-cell-fix-right-first::after,
        ${t}-cell-fix-right-last::after
      `]:{boxShadow:"none"}}}}},yL=e=>{const{componentCls:t,antCls:a,margin:o}=e;return{[`${t}-wrapper`]:{[`${t}-pagination${a}-pagination`]:{margin:`${(0,fe.bf)(o)} 0`},[`${t}-pagination`]:{display:"flex",flexWrap:"wrap",rowGap:e.paddingXS,"> *":{flex:"none"},"&-left":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-right":{justifyContent:"flex-end"}}}}},_L=e=>{const{componentCls:t,tableRadius:a}=e;return{[`${t}-wrapper`]:{[t]:{[`${t}-title, ${t}-header`]:{borderRadius:`${(0,fe.bf)(a)} ${(0,fe.bf)(a)} 0 0`},[`${t}-title + ${t}-container`]:{borderStartStartRadius:0,borderStartEndRadius:0,[`${t}-header, table`]:{borderRadius:0},"table > thead > tr:first-child":{"th:first-child, th:last-child, td:first-child, td:last-child":{borderRadius:0}}},"&-container":{borderStartStartRadius:a,borderStartEndRadius:a,"table > thead > tr:first-child":{"> *:first-child":{borderStartStartRadius:a},"> *:last-child":{borderStartEndRadius:a}}},"&-footer":{borderRadius:`0 0 ${(0,fe.bf)(a)} ${(0,fe.bf)(a)}`}}}}},bL=e=>{const{componentCls:t}=e;return{[`${t}-wrapper-rtl`]:{direction:"rtl",table:{direction:"rtl"},[`${t}-pagination-left`]:{justifyContent:"flex-end"},[`${t}-pagination-right`]:{justifyContent:"flex-start"},[`${t}-row-expand-icon`]:{float:"right","&::after":{transform:"rotate(-90deg)"},"&-collapsed::before":{transform:"rotate(180deg)"},"&-collapsed::after":{transform:"rotate(0deg)"}},[`${t}-container`]:{"&::before":{insetInlineStart:"unset",insetInlineEnd:0},"&::after":{insetInlineStart:0,insetInlineEnd:"unset"},[`${t}-row-indent`]:{float:"right"}}}}},xL=e=>{const{componentCls:t,antCls:a,iconCls:o,fontSizeIcon:f,padding:y,paddingXS:C,headerIconColor:w,headerIconHoverColor:I,tableSelectionColumnWidth:D,tableSelectedRowBg:z,tableSelectedRowHoverBg:L,tableRowHoverBg:k,tablePaddingHorizontal:Z,calc:j}=e;return{[`${t}-wrapper`]:{[`${t}-selection-col`]:{width:D,[`&${t}-selection-col-with-dropdown`]:{width:j(D).add(f).add(j(y).div(4)).equal()}},[`${t}-bordered ${t}-selection-col`]:{width:j(D).add(j(C).mul(2)).equal(),[`&${t}-selection-col-with-dropdown`]:{width:j(D).add(f).add(j(y).div(4)).add(j(C).mul(2)).equal()}},[`
        table tr th${t}-selection-column,
        table tr td${t}-selection-column,
        ${t}-selection-column
      `]:{paddingInlineEnd:e.paddingXS,paddingInlineStart:e.paddingXS,textAlign:"center",[`${a}-radio-wrapper`]:{marginInlineEnd:0}},[`table tr th${t}-selection-column${t}-cell-fix-left`]:{zIndex:j(e.zIndexTableFixed).add(1).equal({unit:!1})},[`table tr th${t}-selection-column::after`]:{backgroundColor:"transparent !important"},[`${t}-selection`]:{position:"relative",display:"inline-flex",flexDirection:"column"},[`${t}-selection-extra`]:{position:"absolute",top:0,zIndex:1,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,marginInlineStart:"100%",paddingInlineStart:(0,fe.bf)(j(Z).div(4).equal()),[o]:{color:w,fontSize:f,verticalAlign:"baseline","&:hover":{color:I}}},[`${t}-tbody`]:{[`${t}-row`]:{[`&${t}-row-selected`]:{[`> ${t}-cell`]:{background:z,"&-row-hover":{background:L}}},[`> ${t}-cell-row-hover`]:{background:k}}}}}},CL=e=>{const{componentCls:t,tableExpandColumnWidth:a,calc:o}=e,f=(y,C,w,I)=>({[`${t}${t}-${y}`]:{fontSize:I,[`
        ${t}-title,
        ${t}-footer,
        ${t}-cell,
        ${t}-thead > tr > th,
        ${t}-tbody > tr > th,
        ${t}-tbody > tr > td,
        tfoot > tr > th,
        tfoot > tr > td
      `]:{padding:`${(0,fe.bf)(C)} ${(0,fe.bf)(w)}`},[`${t}-filter-trigger`]:{marginInlineEnd:(0,fe.bf)(o(w).div(2).mul(-1).equal())},[`${t}-expanded-row-fixed`]:{margin:`${(0,fe.bf)(o(C).mul(-1).equal())} ${(0,fe.bf)(o(w).mul(-1).equal())}`},[`${t}-tbody`]:{[`${t}-wrapper:only-child ${t}`]:{marginBlock:(0,fe.bf)(o(C).mul(-1).equal()),marginInline:`${(0,fe.bf)(o(a).sub(w).equal())} ${(0,fe.bf)(o(w).mul(-1).equal())}`}},[`${t}-selection-extra`]:{paddingInlineStart:(0,fe.bf)(o(w).div(4).equal())}}});return{[`${t}-wrapper`]:Object.assign(Object.assign({},f("middle",e.tablePaddingVerticalMiddle,e.tablePaddingHorizontalMiddle,e.tableFontSizeMiddle)),f("small",e.tablePaddingVerticalSmall,e.tablePaddingHorizontalSmall,e.tableFontSizeSmall))}},SL=e=>{const{componentCls:t,marginXXS:a,fontSizeIcon:o,headerIconColor:f,headerIconHoverColor:y}=e;return{[`${t}-wrapper`]:{[`${t}-thead th${t}-column-has-sorters`]:{outline:"none",cursor:"pointer",transition:`all ${e.motionDurationSlow}, left 0s`,"&:hover":{background:e.tableHeaderSortHoverBg,"&::before":{backgroundColor:"transparent !important"}},"&:focus-visible":{color:e.colorPrimary},[`
          &${t}-cell-fix-left:hover,
          &${t}-cell-fix-right:hover
        `]:{background:e.tableFixedHeaderSortActiveBg}},[`${t}-thead th${t}-column-sort`]:{background:e.tableHeaderSortBg,"&::before":{backgroundColor:"transparent !important"}},[`td${t}-column-sort`]:{background:e.tableBodySortBg},[`${t}-column-title`]:{position:"relative",zIndex:1,flex:1,minWidth:0},[`${t}-column-sorters`]:{display:"flex",flex:"auto",alignItems:"center",justifyContent:"space-between","&::after":{position:"absolute",inset:0,width:"100%",height:"100%",content:'""'}},[`${t}-column-sorters-tooltip-target-sorter`]:{"&::after":{content:"none"}},[`${t}-column-sorter`]:{marginInlineStart:a,color:f,fontSize:0,transition:`color ${e.motionDurationSlow}`,"&-inner":{display:"inline-flex",flexDirection:"column",alignItems:"center"},"&-up, &-down":{fontSize:o,"&.active":{color:e.colorPrimary}},[`${t}-column-sorter-up + ${t}-column-sorter-down`]:{marginTop:"-0.3em"}},[`${t}-column-sorters:hover ${t}-column-sorter`]:{color:y}}}},wL=e=>{const{componentCls:t,opacityLoading:a,tableScrollThumbBg:o,tableScrollThumbBgHover:f,tableScrollThumbSize:y,tableScrollBg:C,zIndexTableSticky:w,stickyScrollBarBorderRadius:I,lineWidth:D,lineType:z,tableBorderColor:L}=e,k=`${(0,fe.bf)(D)} ${z} ${L}`;return{[`${t}-wrapper`]:{[`${t}-sticky`]:{"&-holder":{position:"sticky",zIndex:w,background:e.colorBgContainer},"&-scroll":{position:"sticky",bottom:0,height:`${(0,fe.bf)(y)} !important`,zIndex:w,display:"flex",alignItems:"center",background:C,borderTop:k,opacity:a,"&:hover":{transformOrigin:"center bottom"},"&-bar":{height:y,backgroundColor:o,borderRadius:I,transition:`all ${e.motionDurationSlow}, transform none`,position:"absolute",bottom:0,"&:hover, &-active":{backgroundColor:f}}}}}}},yM=e=>{const{componentCls:t,lineWidth:a,tableBorderColor:o,calc:f}=e,y=`${(0,fe.bf)(a)} ${e.lineType} ${o}`;return{[`${t}-wrapper`]:{[`${t}-summary`]:{position:"relative",zIndex:e.zIndexTableFixed,background:e.tableBg,"> tr":{"> th, > td":{borderBottom:y}}},[`div${t}-summary`]:{boxShadow:`0 ${(0,fe.bf)(f(a).mul(-1).equal())} 0 ${o}`}}}},EL=e=>{const{componentCls:t,motionDurationMid:a,lineWidth:o,lineType:f,tableBorderColor:y,calc:C}=e,w=`${(0,fe.bf)(o)} ${f} ${y}`,I=`${t}-expanded-row-cell`;return{[`${t}-wrapper`]:{[`${t}-tbody-virtual`]:{[`${t}-tbody-virtual-holder-inner`]:{[`
            & > ${t}-row, 
            & > div:not(${t}-row) > ${t}-row
          `]:{display:"flex",boxSizing:"border-box",width:"100%"}},[`${t}-cell`]:{borderBottom:w,transition:`background ${a}`},[`${t}-expanded-row`]:{[`${I}${I}-fixed`]:{position:"sticky",insetInlineStart:0,overflow:"hidden",width:`calc(var(--virtual-width) - ${(0,fe.bf)(o)})`,borderInlineEnd:"none"}}},[`${t}-bordered`]:{[`${t}-tbody-virtual`]:{"&:after":{content:'""',insetInline:0,bottom:0,borderBottom:w,position:"absolute"},[`${t}-cell`]:{borderInlineEnd:w,[`&${t}-cell-fix-right-first:before`]:{content:'""',position:"absolute",insetBlock:0,insetInlineStart:C(o).mul(-1).equal(),borderInlineStart:w}}},[`&${t}-virtual`]:{[`${t}-placeholder ${t}-cell`]:{borderInlineEnd:w,borderBottom:w}}}}}};const IL=e=>{const{componentCls:t,fontWeightStrong:a,tablePaddingVertical:o,tablePaddingHorizontal:f,tableExpandColumnWidth:y,lineWidth:C,lineType:w,tableBorderColor:I,tableFontSize:D,tableBg:z,tableRadius:L,tableHeaderTextColor:k,motionDurationMid:Z,tableHeaderBg:j,tableHeaderCellSplitColor:G,tableFooterTextColor:H,tableFooterBg:K,calc:ee}=e,ie=`${(0,fe.bf)(C)} ${w} ${I}`;return{[`${t}-wrapper`]:Object.assign(Object.assign({clear:"both",maxWidth:"100%"},(0,Wt.dF)()),{[t]:Object.assign(Object.assign({},(0,Wt.Wf)(e)),{fontSize:D,background:z,borderRadius:`${(0,fe.bf)(L)} ${(0,fe.bf)(L)} 0 0`,scrollbarColor:`${e.tableScrollThumbBg} ${e.tableScrollBg}`}),table:{width:"100%",textAlign:"start",borderRadius:`${(0,fe.bf)(L)} ${(0,fe.bf)(L)} 0 0`,borderCollapse:"separate",borderSpacing:0},[`
          ${t}-cell,
          ${t}-thead > tr > th,
          ${t}-tbody > tr > th,
          ${t}-tbody > tr > td,
          tfoot > tr > th,
          tfoot > tr > td
        `]:{position:"relative",padding:`${(0,fe.bf)(o)} ${(0,fe.bf)(f)}`,overflowWrap:"break-word"},[`${t}-title`]:{padding:`${(0,fe.bf)(o)} ${(0,fe.bf)(f)}`},[`${t}-thead`]:{"\n          > tr > th,\n          > tr > td\n        ":{position:"relative",color:k,fontWeight:a,textAlign:"start",background:j,borderBottom:ie,transition:`background ${Z} ease`,"&[colspan]:not([colspan='1'])":{textAlign:"center"},[`&:not(:last-child):not(${t}-selection-column):not(${t}-row-expand-icon-cell):not([colspan])::before`]:{position:"absolute",top:"50%",insetInlineEnd:0,width:1,height:"1.6em",backgroundColor:G,transform:"translateY(-50%)",transition:`background-color ${Z}`,content:'""'}},"> tr:not(:last-child) > th[colspan]":{borderBottom:0}},[`${t}-tbody`]:{"> tr":{"> th, > td":{transition:`background ${Z}, border-color ${Z}`,borderBottom:ie,[`
              > ${t}-wrapper:only-child,
              > ${t}-expanded-row-fixed > ${t}-wrapper:only-child
            `]:{[t]:{marginBlock:(0,fe.bf)(ee(o).mul(-1).equal()),marginInline:`${(0,fe.bf)(ee(y).sub(f).equal())}
                ${(0,fe.bf)(ee(f).mul(-1).equal())}`,[`${t}-tbody > tr:last-child > td`]:{borderBottomWidth:0,"&:first-child, &:last-child":{borderRadius:0}}}}},"> th":{position:"relative",color:k,fontWeight:a,textAlign:"start",background:j,borderBottom:ie,transition:`background ${Z} ease`}}},[`${t}-footer`]:{padding:`${(0,fe.bf)(o)} ${(0,fe.bf)(f)}`,color:H,background:K}})}},ML=e=>{const{colorFillAlter:t,colorBgContainer:a,colorTextHeading:o,colorFillSecondary:f,colorFillContent:y,controlItemBgActive:C,controlItemBgActiveHover:w,padding:I,paddingSM:D,paddingXS:z,colorBorderSecondary:L,borderRadiusLG:k,controlHeight:Z,colorTextPlaceholder:j,fontSize:G,fontSizeSM:H,lineHeight:K,lineWidth:ee,colorIcon:ie,colorIconHover:oe,opacityLoading:re,controlInteractiveSize:se}=e,ue=new Sl.t(f).onBackground(a).toHexString(),me=new Sl.t(y).onBackground(a).toHexString(),pe=new Sl.t(t).onBackground(a).toHexString(),ye=new Sl.t(ie),Se=new Sl.t(oe),Ie=se/2-ee,we=Ie*2+ee*3;return{headerBg:pe,headerColor:o,headerSortActiveBg:ue,headerSortHoverBg:me,bodySortBg:pe,rowHoverBg:pe,rowSelectedBg:C,rowSelectedHoverBg:w,rowExpandedBg:t,cellPaddingBlock:I,cellPaddingInline:I,cellPaddingBlockMD:D,cellPaddingInlineMD:z,cellPaddingBlockSM:z,cellPaddingInlineSM:z,borderColor:L,headerBorderRadius:k,footerBg:pe,footerColor:o,cellFontSize:G,cellFontSizeMD:G,cellFontSizeSM:G,headerSplitColor:L,fixedHeaderSortActiveBg:ue,headerFilterHoverBg:y,filterDropdownMenuBg:a,filterDropdownBg:a,expandIconBg:a,selectionColumnWidth:Z,stickyScrollBarBg:j,stickyScrollBarBorderRadius:100,expandIconMarginTop:(G*K-ee*3)/2-Math.ceil((H*1.4-ee*3)/2),headerIconColor:ye.clone().setA(ye.a*re).toRgbString(),headerIconHoverColor:Se.clone().setA(Se.a*re).toRgbString(),expandIconHalfInner:Ie,expandIconSize:we,expandIconScale:se/we}},_M=2;var TL=(0,te.I$)("Table",e=>{const{colorTextHeading:t,colorSplit:a,colorBgContainer:o,controlInteractiveSize:f,headerBg:y,headerColor:C,headerSortActiveBg:w,headerSortHoverBg:I,bodySortBg:D,rowHoverBg:z,rowSelectedBg:L,rowSelectedHoverBg:k,rowExpandedBg:Z,cellPaddingBlock:j,cellPaddingInline:G,cellPaddingBlockMD:H,cellPaddingInlineMD:K,cellPaddingBlockSM:ee,cellPaddingInlineSM:ie,borderColor:oe,footerBg:re,footerColor:se,headerBorderRadius:ue,cellFontSize:me,cellFontSizeMD:pe,cellFontSizeSM:ye,headerSplitColor:Se,fixedHeaderSortActiveBg:Ie,headerFilterHoverBg:we,filterDropdownBg:Be,expandIconBg:Re,selectionColumnWidth:je,stickyScrollBarBg:Ne,calc:nt}=e,at=(0,Ur.IX)(e,{tableFontSize:me,tableBg:o,tableRadius:ue,tablePaddingVertical:j,tablePaddingHorizontal:G,tablePaddingVerticalMiddle:H,tablePaddingHorizontalMiddle:K,tablePaddingVerticalSmall:ee,tablePaddingHorizontalSmall:ie,tableBorderColor:oe,tableHeaderTextColor:C,tableHeaderBg:y,tableFooterTextColor:se,tableFooterBg:re,tableHeaderCellSplitColor:Se,tableHeaderSortBg:w,tableHeaderSortHoverBg:I,tableBodySortBg:D,tableFixedHeaderSortActiveBg:Ie,tableHeaderFilterActiveBg:we,tableFilterDropdownBg:Be,tableRowHoverBg:z,tableSelectedRowBg:L,tableSelectedRowHoverBg:k,zIndexTableFixed:_M,zIndexTableSticky:nt(_M).add(1).equal({unit:!1}),tableFontSizeMiddle:pe,tableFontSizeSmall:ye,tableSelectionColumnWidth:je,tableExpandIconBg:Re,tableExpandColumnWidth:nt(f).add(nt(e.padding).mul(2)).equal(),tableExpandedRowBg:Z,tableFilterDropdownWidth:120,tableFilterDropdownHeight:264,tableFilterDropdownSearchWidth:140,tableScrollThumbSize:8,tableScrollThumbBg:Ne,tableScrollThumbBgHover:t,tableScrollBg:a});return[IL(at),yL(at),yM(at),SL(at),gL(at),fL(at),_L(at),pL(at),yM(at),mL(at),xL(at),vL(at),wL(at),hL(at),CL(at),bL(at),EL(at)]},ML,{unitless:{expandIconScale:!0}});const PL=[],OL=(e,t)=>{var a,o;const{prefixCls:f,className:y,rootClassName:C,style:w,size:I,bordered:D,dropdownPrefixCls:z,dataSource:L,pagination:k,rowSelection:Z,rowKey:j="key",rowClassName:G,columns:H,children:K,childrenColumnName:ee,onChange:ie,getPopupContainer:oe,loading:re,expandIcon:se,expandable:ue,expandedRowRender:me,expandIconColumnIndex:pe,indentSize:ye,scroll:Se,sortDirections:Ie,locale:we,showSorterTooltip:Be={target:"full-header"},virtual:Re}=e,je=(0,io.ln)("Table"),Ne=s.useMemo(()=>H||hw(K),[H,K]),nt=s.useMemo(()=>Ne.some(ma=>ma.responsive),[Ne]),at=(0,Xu.Z)(nt),Ct=s.useMemo(()=>{const ma=new Set(Object.keys(at).filter(Vo=>at[Vo]));return Ne.filter(Vo=>!Vo.responsive||Vo.responsive.some(Ho=>ma.has(Ho)))},[Ne,at]),St=(0,ci.Z)(e,["className","style","columns"]),{locale:_t=Ac.Z,direction:ft,table:vt,renderEmpty:$t,getPrefixCls:It,getPopupContainer:Ft}=s.useContext(ve.E_),wt=(0,Br.Z)(I),pn=Object.assign(Object.assign({},_t.Table),we),Bn=L||PL,ln=It("table",f),Tn=It("dropdown",z),[,Kt]=(0,ea.ZP)(),zt=(0,Fn.Z)(ln),[Dn,Sn,Ir]=TL(ln,zt),ur=Object.assign(Object.assign({childrenColumnName:ee,expandIconColumnIndex:pe},ue),{expandIcon:(a=ue==null?void 0:ue.expandIcon)!==null&&a!==void 0?a:(o=vt==null?void 0:vt.expandable)===null||o===void 0?void 0:o.expandIcon}),{childrenColumnName:Yn="children"}=ur,qn=s.useMemo(()=>Bn.some(ma=>ma==null?void 0:ma[Yn])?"nest":me||ue!=null&&ue.expandedRowRender?"row":null,[Bn]),Rn={body:s.useRef(null)},Jn=k5(ln),zr=s.useRef(null),li=s.useRef(null);N5(t,()=>Object.assign(Object.assign({},li.current),{nativeElement:zr.current}));const xi=s.useMemo(()=>typeof j=="function"?j:ma=>ma==null?void 0:ma[j],[j]),[Di]=Wz(Bn,Yn,xi),So={},_i=function(ma,Vo){let Ho=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var Do,ls,Ds,ka;const ba=Object.assign(Object.assign({},So),ma);Ho&&((Do=So.resetPagination)===null||Do===void 0||Do.call(So),!((ls=ba.pagination)===null||ls===void 0)&&ls.current&&(ba.pagination.current=1),k&&((Ds=k.onChange)===null||Ds===void 0||Ds.call(k,1,(ka=ba.pagination)===null||ka===void 0?void 0:ka.pageSize))),Se&&Se.scrollToFirstRowOnChange!==!1&&Rn.body.current&&Yr(0,{getContainer:()=>Rn.body.current}),ie==null||ie(ba.pagination,ba.filters,ba.sorter,{currentDataSource:Mw(Ow(Bn,ba.sorterStates,Yn),ba.filterStates,Yn),action:Vo})},ai=(ma,Vo)=>{_i({sorter:ma,sorterStates:Vo},"sort",!1)},[gi,Gi,Pi,wo]=lL({prefixCls:ln,mergedColumns:Ct,onSorterChange:ai,sortDirections:Ie||["ascend","descend"],tableLocale:pn,showSorterTooltip:Be}),dr=s.useMemo(()=>Ow(Bn,Gi,Yn),[Bn,Gi]);So.sorter=wo(),So.sorterStates=Gi;const tr=(ma,Vo)=>{_i({filters:ma,filterStates:Vo},"filter",!0)},[pr,Vn,ri]=Uz({prefixCls:ln,locale:pn,dropdownPrefixCls:Tn,mergedColumns:Ct,onFilterChange:tr,getPopupContainer:oe||Ft,rootClassName:Y()(C,zt)}),Oi=Mw(dr,Vn,Yn);So.filters=ri,So.filterStates=Vn;const ro=s.useMemo(()=>{const ma={};return Object.keys(ri).forEach(Vo=>{ri[Vo]!==null&&(ma[Vo]=ri[Vo])}),Object.assign(Object.assign({},Pi),{filters:ma})},[Pi,ri]),[Xo]=cL(ro),$a=(ma,Vo)=>{_i({pagination:Object.assign(Object.assign({},So.pagination),{current:ma,pageSize:Vo})},"paginate")},[ta,Cs]=Yz(Oi.length,$a,k);So.pagination=k===!1?{}:Kz(ta,k),So.resetPagination=Cs;const Za=s.useMemo(()=>{if(k===!1||!ta.pageSize)return Oi;const{current:ma=1,total:Vo,pageSize:Ho=fM}=ta;return Oi.length<Vo?Oi.length>Ho?Oi.slice((ma-1)*Ho,ma*Ho):Oi:Oi.slice((ma-1)*Ho,ma*Ho)},[!!k,Oi,ta==null?void 0:ta.current,ta==null?void 0:ta.pageSize,ta==null?void 0:ta.total]),[Ga,pa]=z5({prefixCls:ln,data:Oi,pageData:Za,getRowKey:xi,getRecordByKey:Di,expandType:qn,childrenColumnName:Yn,locale:pn,getPopupContainer:oe||Ft},Z),ts=(ma,Vo,Ho)=>{let Do;return typeof G=="function"?Do=Y()(G(ma,Vo,Ho)):Do=Y()(G),Y()({[`${ln}-row-selected`]:pa.has(xi(ma,Vo))},Do)};ur.__PARENT_RENDER_ICON__=ur.expandIcon,ur.expandIcon=ur.expandIcon||se||F5(pn),qn==="nest"&&ur.expandIconColumnIndex===void 0?ur.expandIconColumnIndex=Z?1:0:ur.expandIconColumnIndex>0&&Z&&(ur.expandIconColumnIndex-=1),typeof ur.indentSize!="number"&&(ur.indentSize=typeof ye=="number"?ye:15);const As=s.useCallback(ma=>Xo(Ga(pr(gi(ma)))),[gi,pr,Ga]);let bo,Ko;if(k!==!1&&(ta!=null&&ta.total)){let ma;ta.size?ma=ta.size:ma=wt==="small"||wt==="middle"?"small":void 0;const Vo=ls=>s.createElement(Ox,Object.assign({},ta,{className:Y()(`${ln}-pagination ${ln}-pagination-${ls}`,ta.className),size:ma})),Ho=ft==="rtl"?"left":"right",{position:Do}=ta;if(Do!==null&&Array.isArray(Do)){const ls=Do.find(ba=>ba.includes("top")),Ds=Do.find(ba=>ba.includes("bottom")),ka=Do.every(ba=>`${ba}`=="none");!ls&&!Ds&&!ka&&(Ko=Vo(Ho)),ls&&(bo=Vo(ls.toLowerCase().replace("top",""))),Ds&&(Ko=Vo(Ds.toLowerCase().replace("bottom","")))}else Ko=Vo(Ho)}let Ra;typeof re=="boolean"?Ra={spinning:re}:typeof re=="object"&&(Ra=Object.assign({spinning:!0},re));const Ka=Y()(Ir,zt,`${ln}-wrapper`,vt==null?void 0:vt.className,{[`${ln}-wrapper-rtl`]:ft==="rtl"},y,C,Sn),ss=Object.assign(Object.assign({},vt==null?void 0:vt.style),w),ll=typeof(we==null?void 0:we.emptyText)!="undefined"?we.emptyText:($t==null?void 0:$t("Table"))||s.createElement(Wf.Z,{componentName:"Table"}),Rl=Re?dL:uL,yl={},Xl=s.useMemo(()=>{const{fontSize:ma,lineHeight:Vo,lineWidth:Ho,padding:Do,paddingXS:ls,paddingSM:Ds}=Kt,ka=Math.floor(ma*Vo);switch(wt){case"middle":return Ds*2+ka+Ho;case"small":return ls*2+ka+Ho;default:return Do*2+ka+Ho}},[Kt,wt]);return Re&&(yl.listItemHeight=Xl),Dn(s.createElement("div",{ref:zr,className:Ka,style:ss},s.createElement(gv,Object.assign({spinning:!1},Ra),bo,s.createElement(Rl,Object.assign({},yl,St,{ref:li,columns:Ct,direction:ft,expandable:ur,prefixCls:ln,className:Y()({[`${ln}-middle`]:wt==="middle",[`${ln}-small`]:wt==="small",[`${ln}-bordered`]:D,[`${ln}-empty`]:Bn.length===0},Ir,zt,Sn),data:Za,rowKey:xi,rowClassName:ts,emptyText:ll,internalHooks:D_,internalRefs:Rn,transformColumns:As,getContainerWidth:Jn})),Ko)))};var RL=s.forwardRef(OL);const $L=(e,t)=>{const a=s.useRef(0);return a.current+=1,s.createElement(RL,Object.assign({},e,{ref:t,_renderTimes:a.current}))},Gh=s.forwardRef($L);Gh.SELECTION_COLUMN=tp,Gh.EXPAND_COLUMN=Wh,Gh.SELECTION_ALL=yw,Gh.SELECTION_INVERT=_w,Gh.SELECTION_NONE=bw,Gh.Column=A5,Gh.ColumnGroup=D5,Gh.Summary=wI;var AL=Gh,DL=AL;const zL=e=>{const{paddingXXS:t,lineWidth:a,tagPaddingHorizontal:o,componentCls:f,calc:y}=e,C=y(o).sub(a).equal(),w=y(t).sub(a).equal();return{[f]:Object.assign(Object.assign({},(0,Wt.Wf)(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:C,fontSize:e.tagFontSize,lineHeight:e.tagLineHeight,whiteSpace:"nowrap",background:e.defaultBg,border:`${(0,fe.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,opacity:1,transition:`all ${e.motionDurationMid}`,textAlign:"start",position:"relative",[`&${f}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:e.defaultColor},[`${f}-close-icon`]:{marginInlineStart:w,fontSize:e.tagIconSize,color:e.colorTextDescription,cursor:"pointer",transition:`all ${e.motionDurationMid}`,"&:hover":{color:e.colorTextHeading}},[`&${f}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${e.iconCls}-close, ${e.iconCls}-close:hover`]:{color:e.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${f}-checkable-checked):hover`]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${e.iconCls} + span, > span + ${e.iconCls}`]:{marginInlineStart:C}}),[`${f}-borderless`]:{borderColor:"transparent",background:e.tagBorderlessBg}}},Rw=e=>{const{lineWidth:t,fontSizeIcon:a,calc:o}=e,f=e.fontSizeSM;return(0,Ur.IX)(e,{tagFontSize:f,tagLineHeight:(0,fe.bf)(o(e.lineHeightSM).mul(f).equal()),tagIconSize:o(a).sub(o(t).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:e.defaultBg})},$w=e=>({defaultBg:new Sl.t(e.colorFillQuaternary).onBackground(e.colorBgContainer).toHexString(),defaultColor:e.colorText});var bM=(0,te.I$)("Tag",e=>{const t=Rw(e);return zL(t)},$w),LL=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},NL=s.forwardRef((e,t)=>{const{prefixCls:a,style:o,className:f,checked:y,onChange:C,onClick:w}=e,I=LL(e,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:D,tag:z}=s.useContext(ve.E_),L=K=>{C==null||C(!y),w==null||w(K)},k=D("tag",a),[Z,j,G]=bM(k),H=Y()(k,`${k}-checkable`,{[`${k}-checkable-checked`]:y},z==null?void 0:z.className,f,j,G);return Z(s.createElement("span",Object.assign({},I,{ref:t,style:Object.assign(Object.assign({},o),z==null?void 0:z.style),className:H,onClick:L})))});const BL=e=>(0,cl.Z)(e,(t,a)=>{let{textColor:o,lightBorderColor:f,lightColor:y,darkColor:C}=a;return{[`${e.componentCls}${e.componentCls}-${t}`]:{color:o,background:y,borderColor:f,"&-inverse":{color:e.colorTextLightSolid,background:C,borderColor:C},[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}});var FL=(0,te.bk)(["Tag","preset"],e=>{const t=Rw(e);return BL(t)},$w);function kL(e){return typeof e!="string"?e:e.charAt(0).toUpperCase()+e.slice(1)}const Kx=(e,t,a)=>{const o=kL(a);return{[`${e.componentCls}${e.componentCls}-${t}`]:{color:e[`color${a}`],background:e[`color${o}Bg`],borderColor:e[`color${o}Border`],[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}};var jL=(0,te.bk)(["Tag","status"],e=>{const t=Rw(e);return[Kx(t,"success","Success"),Kx(t,"processing","Info"),Kx(t,"error","Error"),Kx(t,"warning","Warning")]},$w),ZL=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const xM=s.forwardRef((e,t)=>{const{prefixCls:a,className:o,rootClassName:f,style:y,children:C,icon:w,color:I,onClose:D,bordered:z=!0,visible:L}=e,k=ZL(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","bordered","visible"]),{getPrefixCls:Z,direction:j,tag:G}=s.useContext(ve.E_),[H,K]=s.useState(!0),ee=(0,ci.Z)(k,["closeIcon","closable"]);s.useEffect(()=>{L!==void 0&&K(L)},[L]);const ie=(0,ym.o2)(I),oe=(0,ym.yT)(I),re=ie||oe,se=Object.assign(Object.assign({backgroundColor:I&&!re?I:void 0},G==null?void 0:G.style),y),ue=Z("tag",a),[me,pe,ye]=bM(ue),Se=Y()(ue,G==null?void 0:G.className,{[`${ue}-${I}`]:re,[`${ue}-has-color`]:I&&!re,[`${ue}-hidden`]:!H,[`${ue}-rtl`]:j==="rtl",[`${ue}-borderless`]:!z},o,f,pe,ye),Ie=nt=>{nt.stopPropagation(),D==null||D(nt),!nt.defaultPrevented&&K(!1)},[,we]=Hl(zl(e),zl(G),{closable:!1,closeIconRender:nt=>{const at=s.createElement("span",{className:`${ue}-close-icon`,onClick:Ie},nt);return(0,bn.wm)(nt,at,Ct=>({onClick:St=>{var _t;(_t=Ct==null?void 0:Ct.onClick)===null||_t===void 0||_t.call(Ct,St),Ie(St)},className:Y()(Ct==null?void 0:Ct.className,`${ue}-close-icon`)}))}}),Be=typeof k.onClick=="function"||C&&C.type==="a",Re=w||null,je=Re?s.createElement(s.Fragment,null,Re,C&&s.createElement("span",null,C)):C,Ne=s.createElement("span",Object.assign({},ee,{ref:t,className:Se,style:se}),je,we,ie&&s.createElement(FL,{key:"preset",prefixCls:ue}),oe&&s.createElement(jL,{key:"status",prefixCls:ue}));return me(Be?s.createElement(oa.Z,{component:"Tag"},Ne):Ne)});xM.CheckableTag=NL;var VL=xM,HL=F(38920),CM=F(30767),UL=F(33598),WL=e=>{const t=e!=null&&e.algorithm?(0,fe.jG)(e.algorithm):HL.Z,a=Object.assign(Object.assign({},CM.Z),e==null?void 0:e.token);return(0,fe.t2)(a,{override:e==null?void 0:e.token},t,UL.Z)},Aw=F(20284),Dw=F(28893),GL=F(10154),KL=F(79319);function XL(e){const{sizeUnit:t,sizeStep:a}=e,o=a-2;return{sizeXXL:t*(o+10),sizeXL:t*(o+6),sizeLG:t*(o+2),sizeMD:t*(o+2),sizeMS:t*(o+1),size:t*o,sizeSM:t*o,sizeXS:t*(o-1),sizeXXS:t*(o-1)}}var YL=(e,t)=>{const a=t!=null?t:(0,Dw.Z)(e),o=a.fontSizeSM,f=a.controlHeight-4;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},a),XL(t!=null?t:e)),(0,KL.Z)(o)),{controlHeight:f}),(0,GL.Z)(Object.assign(Object.assign({},a),{controlHeight:f})))},qL=F(40329);const Md=(e,t)=>new Sl.t(e).setA(t).toRgbString(),Sv=(e,t)=>new Sl.t(e).lighten(t).toHexString(),JL=e=>{const t=(0,Qm.R_)(e,{theme:"dark"});return{1:t[0],2:t[1],3:t[2],4:t[3],5:t[6],6:t[5],7:t[4],8:t[6],9:t[5],10:t[4]}},QL=(e,t)=>{const a=e||"#000",o=t||"#fff";return{colorBgBase:a,colorTextBase:o,colorText:Md(o,.85),colorTextSecondary:Md(o,.65),colorTextTertiary:Md(o,.45),colorTextQuaternary:Md(o,.25),colorFill:Md(o,.18),colorFillSecondary:Md(o,.12),colorFillTertiary:Md(o,.08),colorFillQuaternary:Md(o,.04),colorBgSolid:Md(o,.95),colorBgSolidHover:Md(o,1),colorBgSolidActive:Md(o,.9),colorBgElevated:Sv(a,12),colorBgContainer:Sv(a,8),colorBgLayout:Sv(a,0),colorBgSpotlight:Sv(a,26),colorBgBlur:Md(o,.04),colorBorder:Sv(a,26),colorBorderSecondary:Sv(a,19)}};var eN=(e,t)=>{const a=Object.keys(CM.M).map(f=>{const y=(0,Qm.R_)(e[f],{theme:"dark"});return Array.from({length:10},()=>1).reduce((C,w,I)=>(C[`${f}-${I+1}`]=y[I],C[`${f}${I+1}`]=y[I],C),{})}).reduce((f,y)=>(f=Object.assign(Object.assign({},f),y),f),{}),o=t!=null?t:(0,Dw.Z)(e);return Object.assign(Object.assign(Object.assign({},o),a),(0,qL.Z)(e,{generateColorPalettes:JL,generateNeutralColorPalettes:QL}))};function tN(){const[e,t,a]=(0,ea.ZP)();return{theme:e,token:t,hashId:a}}var nN={defaultSeed:Aw.u_.token,useToken:tN,defaultAlgorithm:Dw.Z,darkAlgorithm:eN,compactAlgorithm:YL,getDesignToken:WL,defaultConfig:Aw.u_,_internalContext:Aw.Mj},rN=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const{TimePicker:iN,RangePicker:oN}=p2,aN=s.forwardRef((e,t)=>s.createElement(oN,Object.assign({},e,{picker:"time",mode:void 0,ref:t}))),L_=s.forwardRef((e,t)=>{var{addon:a,renderExtraFooter:o,variant:f,bordered:y}=e,C=rN(e,["addon","renderExtraFooter","variant","bordered"]);const[w]=(0,jf.Z)("timePicker",f,y),I=s.useMemo(()=>{if(o)return o;if(a)return a},[a,o]);return s.createElement(iN,Object.assign({},C,{mode:void 0,ref:t,renderExtraFooter:I,variant:w}))}),SM=(0,vl.Z)(L_,"popupAlign",void 0,"picker");L_._InternalPanelDoNotUseOrYouWillBeFired=SM,L_.RangePicker=aN,L_._InternalPanelDoNotUseOrYouWillBeFired=SM;var sN=L_;const lN=e=>{const{componentCls:t,calc:a}=e;return{[t]:Object.assign(Object.assign({},(0,Wt.Wf)(e)),{margin:0,padding:0,listStyle:"none",[`${t}-item`]:{position:"relative",margin:0,paddingBottom:e.itemPaddingBottom,fontSize:e.fontSize,listStyle:"none","&-tail":{position:"absolute",insetBlockStart:e.itemHeadSize,insetInlineStart:a(a(e.itemHeadSize).sub(e.tailWidth)).div(2).equal(),height:`calc(100% - ${(0,fe.bf)(e.itemHeadSize)})`,borderInlineStart:`${(0,fe.bf)(e.tailWidth)} ${e.lineType} ${e.tailColor}`},"&-pending":{[`${t}-item-head`]:{fontSize:e.fontSizeSM,backgroundColor:"transparent"},[`${t}-item-tail`]:{display:"none"}},"&-head":{position:"absolute",width:e.itemHeadSize,height:e.itemHeadSize,backgroundColor:e.dotBg,border:`${(0,fe.bf)(e.dotBorderWidth)} ${e.lineType} transparent`,borderRadius:"50%","&-blue":{color:e.colorPrimary,borderColor:e.colorPrimary},"&-red":{color:e.colorError,borderColor:e.colorError},"&-green":{color:e.colorSuccess,borderColor:e.colorSuccess},"&-gray":{color:e.colorTextDisabled,borderColor:e.colorTextDisabled}},"&-head-custom":{position:"absolute",insetBlockStart:a(e.itemHeadSize).div(2).equal(),insetInlineStart:a(e.itemHeadSize).div(2).equal(),width:"auto",height:"auto",marginBlockStart:0,paddingBlock:e.customHeadPaddingVertical,lineHeight:1,textAlign:"center",border:0,borderRadius:0,transform:"translate(-50%, -50%)"},"&-content":{position:"relative",insetBlockStart:a(a(e.fontSize).mul(e.lineHeight).sub(e.fontSize)).mul(-1).add(e.lineWidth).equal(),marginInlineStart:a(e.margin).add(e.itemHeadSize).equal(),marginInlineEnd:0,marginBlockStart:0,marginBlockEnd:0,wordBreak:"break-word"},"&-last":{[`> ${t}-item-tail`]:{display:"none"},[`> ${t}-item-content`]:{minHeight:a(e.controlHeightLG).mul(1.2).equal()}}},[`&${t}-alternate,
        &${t}-right,
        &${t}-label`]:{[`${t}-item`]:{"&-tail, &-head, &-head-custom":{insetInlineStart:"50%"},"&-head":{marginInlineStart:a(e.marginXXS).mul(-1).equal(),"&-custom":{marginInlineStart:a(e.tailWidth).div(2).equal()}},"&-left":{[`${t}-item-content`]:{insetInlineStart:`calc(50% - ${(0,fe.bf)(e.marginXXS)})`,width:`calc(50% - ${(0,fe.bf)(e.marginSM)})`,textAlign:"start"}},"&-right":{[`${t}-item-content`]:{width:`calc(50% - ${(0,fe.bf)(e.marginSM)})`,margin:0,textAlign:"end"}}}},[`&${t}-right`]:{[`${t}-item-right`]:{[`${t}-item-tail,
            ${t}-item-head,
            ${t}-item-head-custom`]:{insetInlineStart:`calc(100% - ${(0,fe.bf)(a(a(e.itemHeadSize).add(e.tailWidth)).div(2).equal())})`},[`${t}-item-content`]:{width:`calc(100% - ${(0,fe.bf)(a(e.itemHeadSize).add(e.marginXS).equal())})`}}},[`&${t}-pending
        ${t}-item-last
        ${t}-item-tail`]:{display:"block",height:`calc(100% - ${(0,fe.bf)(e.margin)})`,borderInlineStart:`${(0,fe.bf)(e.tailWidth)} dotted ${e.tailColor}`},[`&${t}-reverse
        ${t}-item-last
        ${t}-item-tail`]:{display:"none"},[`&${t}-reverse ${t}-item-pending`]:{[`${t}-item-tail`]:{insetBlockStart:e.margin,display:"block",height:`calc(100% - ${(0,fe.bf)(e.margin)})`,borderInlineStart:`${(0,fe.bf)(e.tailWidth)} dotted ${e.tailColor}`},[`${t}-item-content`]:{minHeight:a(e.controlHeightLG).mul(1.2).equal()}},[`&${t}-label`]:{[`${t}-item-label`]:{position:"absolute",insetBlockStart:a(a(e.fontSize).mul(e.lineHeight).sub(e.fontSize)).mul(-1).add(e.tailWidth).equal(),width:`calc(50% - ${(0,fe.bf)(e.marginSM)})`,textAlign:"end"},[`${t}-item-right`]:{[`${t}-item-label`]:{insetInlineStart:`calc(50% + ${(0,fe.bf)(e.marginSM)})`,width:`calc(50% - ${(0,fe.bf)(e.marginSM)})`,textAlign:"start"}}},"&-rtl":{direction:"rtl",[`${t}-item-head-custom`]:{transform:"translate(50%, -50%)"}}})}},cN=e=>({tailColor:e.colorSplit,tailWidth:e.lineWidthBold,dotBorderWidth:e.wireframe?e.lineWidthBold:e.lineWidth*3,dotBg:e.colorBgContainer,itemPaddingBottom:e.padding*1.25});var uN=(0,te.I$)("Timeline",e=>{const t=(0,Ur.IX)(e,{itemHeadSize:10,customHeadPaddingVertical:e.paddingXXS,paddingInlineEnd:2});return[lN(t)]},cN),dN=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},wM=e=>{var{prefixCls:t,className:a,color:o="blue",dot:f,pending:y=!1,position:C,label:w,children:I}=e,D=dN(e,["prefixCls","className","color","dot","pending","position","label","children"]);const{getPrefixCls:z}=s.useContext(ve.E_),L=z("timeline",t),k=Y()(`${L}-item`,{[`${L}-item-pending`]:y},a),Z=/blue|red|green|gray/.test(o||"")?void 0:o,j=Y()(`${L}-item-head`,{[`${L}-item-head-custom`]:!!f,[`${L}-item-head-${o}`]:!Z});return s.createElement("li",Object.assign({},D,{className:k}),w&&s.createElement("div",{className:`${L}-item-label`},w),s.createElement("div",{className:`${L}-item-tail`}),s.createElement("div",{className:j,style:{borderColor:Z,color:Z}},f),s.createElement("div",{className:`${L}-item-content`},I))},EM=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},fN=e=>{var{prefixCls:t,className:a,pending:o=!1,children:f,items:y,rootClassName:C,reverse:w=!1,direction:I,hashId:D,pendingDot:z,mode:L=""}=e,k=EM(e,["prefixCls","className","pending","children","items","rootClassName","reverse","direction","hashId","pendingDot","mode"]);const Z=(re,se)=>L==="alternate"?re==="right"?`${t}-item-right`:re==="left"?`${t}-item-left`:se%2===0?`${t}-item-left`:`${t}-item-right`:L==="left"?`${t}-item-left`:L==="right"?`${t}-item-right`:re==="right"?`${t}-item-right`:"",j=(0,xe.Z)(y||[]),G=typeof o=="boolean"?null:o;o&&j.push({pending:!!o,dot:z||s.createElement(_n.Z,null),children:G}),w&&j.reverse();const H=j.length,K=`${t}-item-last`,ee=j.filter(re=>!!re).map((re,se)=>{var ue;const me=se===H-2?K:"",pe=se===H-1?K:"",{className:ye}=re,Se=EM(re,["className"]);return s.createElement(wM,Object.assign({},Se,{className:Y()([ye,!w&&o?me:pe,Z((ue=re==null?void 0:re.position)!==null&&ue!==void 0?ue:"",se)]),key:(re==null?void 0:re.key)||se}))}),ie=j.some(re=>!!(re!=null&&re.label)),oe=Y()(t,{[`${t}-pending`]:!!o,[`${t}-reverse`]:!!w,[`${t}-${L}`]:!!L&&!ie,[`${t}-label`]:ie,[`${t}-rtl`]:I==="rtl"},a,C,D);return s.createElement("ul",Object.assign({},k,{className:oe}),ee)};function hN(e,t){return e&&Array.isArray(e)?e:(0,Wl.Z)(t).map(a=>{var o,f;return Object.assign({children:(f=(o=a==null?void 0:a.props)===null||o===void 0?void 0:o.children)!==null&&f!==void 0?f:""},a.props)})}var mN=hN,pN=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const IM=e=>{const{getPrefixCls:t,direction:a,timeline:o}=s.useContext(ve.E_),{prefixCls:f,children:y,items:C,className:w,style:I}=e,D=pN(e,["prefixCls","children","items","className","style"]),z=t("timeline",f),L=(0,Fn.Z)(z),[k,Z,j]=uN(z,L),G=mN(C,y);return k(s.createElement(fN,Object.assign({},D,{className:Y()(o==null?void 0:o.className,w,j,L),style:Object.assign(Object.assign({},o==null?void 0:o.style),I),prefixCls:z,direction:a,items:G,hashId:Z})))};IM.Item=wM;var gN=IM,vN=gN;function MM(e){return e!==null&&(0,Ye.Z)(e)==="object"}function TM(e,t,a){if(e===!1||t===!1&&(!MM(e)||!e.closeIcon))return null;var o=typeof t!="boolean"?t:void 0;if(MM(e)){var f;return(0,X.Z)((0,X.Z)({},e),{},{closeIcon:(f=e.closeIcon)!==null&&f!==void 0?f:o})}return a||e||t?{closeIcon:o}:"empty"}function yN(e,t,a,o){return s.useMemo(function(){var f=TM(e,t,!1),y=TM(a,o,!0);return f!=="empty"?f:y},[a,o,e,t])}function _N(e){var t=window.innerWidth||document.documentElement.clientWidth,a=window.innerHeight||document.documentElement.clientHeight,o=e.getBoundingClientRect(),f=o.top,y=o.right,C=o.bottom,w=o.left;return f>=0&&w>=0&&y<=t&&C<=a}function bN(e,t,a){var o;return(o=a!=null?a:t)!==null&&o!==void 0?o:e===null?"center":"bottom"}function xN(e){return typeof e=="number"&&!Number.isNaN(e)}function CN(e,t,a,o){var f=(0,s.useState)(void 0),y=(0,Oe.Z)(f,2),C=y[0],w=y[1];(0,hl.Z)(function(){var G=typeof e=="function"?e():e;w(G||null)});var I=(0,s.useState)(null),D=(0,Oe.Z)(I,2),z=D[0],L=D[1],k=(0,fr.Z)(function(){if(C){!_N(C)&&t&&C.scrollIntoView(o);var G=C.getBoundingClientRect(),H=G.left,K=G.top,ee=G.width,ie=G.height,oe={left:H,top:K,width:ee,height:ie,radius:0};L(function(re){return JSON.stringify(re)!==JSON.stringify(oe)?oe:re})}else L(null)}),Z=function(H){var K;return(K=Array.isArray(a==null?void 0:a.offset)?a==null?void 0:a.offset[H]:a==null?void 0:a.offset)!==null&&K!==void 0?K:6};(0,hl.Z)(function(){return k(),window.addEventListener("resize",k),function(){window.removeEventListener("resize",k)}},[C,t,k]);var j=(0,s.useMemo)(function(){if(!z)return z;var G=Z(0),H=Z(1),K=xN(a==null?void 0:a.radius)?a==null?void 0:a.radius:2;return{left:z.left-G,top:z.top-H,width:z.width+G*2,height:z.height+H*2,radius:K}},[z,a]);return[j,C]}var Xx={fill:"transparent",pointerEvents:"auto"},SN=function(t){var a=t.prefixCls,o=t.rootClassName,f=t.pos,y=t.showMask,C=t.style,w=C===void 0?{}:C,I=t.fill,D=I===void 0?"rgba(0,0,0,0.5)":I,z=t.open,L=t.animated,k=t.zIndex,Z=t.disabledInteraction,j=(0,Ua.Z)(),G="".concat(a,"-mask-").concat(j),H=(0,Ye.Z)(L)==="object"?L==null?void 0:L.placeholder:L,K=typeof navigator!="undefined"&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent),ee=K?{width:"100%",height:"100%"}:{width:"100vw",height:"100vh"};return s.createElement(Bo.Z,{open:z,autoLock:!0},s.createElement("div",{className:Y()("".concat(a,"-mask"),o),style:(0,X.Z)({position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:k,pointerEvents:f&&!Z?"none":"auto"},w)},y?s.createElement("svg",{style:{width:"100%",height:"100%"}},s.createElement("defs",null,s.createElement("mask",{id:G},s.createElement("rect",(0,Ze.Z)({x:"0",y:"0"},ee,{fill:"white"})),f&&s.createElement("rect",{x:f.left,y:f.top,rx:f.radius,width:f.width,height:f.height,fill:"black",className:H?"".concat(a,"-placeholder-animated"):""}))),s.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:D,mask:"url(#".concat(G,")")}),f&&s.createElement(s.Fragment,null,s.createElement("rect",(0,Ze.Z)({},Xx,{x:"0",y:"0",width:"100%",height:f.top})),s.createElement("rect",(0,Ze.Z)({},Xx,{x:"0",y:"0",width:f.left,height:"100%"})),s.createElement("rect",(0,Ze.Z)({},Xx,{x:"0",y:f.top+f.height,width:"100%",height:"calc(100vh - ".concat(f.top+f.height,"px)")})),s.createElement("rect",(0,Ze.Z)({},Xx,{x:f.left+f.width,y:"0",width:"calc(100vw - ".concat(f.left+f.width,"px)"),height:"100%"})))):null))},wN=SN,M7={adjustX:1,adjustY:1},EN=[0,0],PM={left:{points:["cr","cl"],offset:[-8,0]},right:{points:["cl","cr"],offset:[8,0]},top:{points:["bc","tc"],offset:[0,-8]},bottom:{points:["tc","bc"],offset:[0,8]},topLeft:{points:["bl","tl"],offset:[0,-8]},leftTop:{points:["tr","tl"],offset:[-8,0]},topRight:{points:["br","tr"],offset:[0,-8]},rightTop:{points:["tl","tr"],offset:[8,0]},bottomRight:{points:["tr","br"],offset:[0,8]},rightBottom:{points:["bl","br"],offset:[8,0]},bottomLeft:{points:["tl","bl"],offset:[0,8]},leftBottom:{points:["br","bl"],offset:[-8,0]}};function OM(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t={};return Object.keys(PM).forEach(function(a){t[a]=(0,X.Z)((0,X.Z)({},PM[a]),{},{autoArrow:e,targetOffset:EN})}),t}var T7=OM();function IN(e){var t,a=e.prefixCls,o=e.current,f=e.total,y=e.title,C=e.description,w=e.onClose,I=e.onPrev,D=e.onNext,z=e.onFinish,L=e.className,k=e.closable,Z=(0,lt.Z)(k||{},!0),j=(t=k==null?void 0:k.closeIcon)!==null&&t!==void 0?t:s.createElement("span",{className:"".concat(a,"-close-x")},"\xD7"),G=!!k;return s.createElement("div",{className:Y()("".concat(a,"-content"),L)},s.createElement("div",{className:"".concat(a,"-inner")},G&&s.createElement("button",(0,Ze.Z)({type:"button",onClick:w,"aria-label":"Close"},Z,{className:"".concat(a,"-close")}),j),s.createElement("div",{className:"".concat(a,"-header")},s.createElement("div",{className:"".concat(a,"-title")},y)),s.createElement("div",{className:"".concat(a,"-description")},C),s.createElement("div",{className:"".concat(a,"-footer")},s.createElement("div",{className:"".concat(a,"-sliders")},f>1?(0,xe.Z)(Array.from({length:f}).keys()).map(function(H,K){return s.createElement("span",{key:H,className:K===o?"active":""})}):null),s.createElement("div",{className:"".concat(a,"-buttons")},o!==0?s.createElement("button",{className:"".concat(a,"-prev-btn"),onClick:I},"Prev"):null,o===f-1?s.createElement("button",{className:"".concat(a,"-finish-btn"),onClick:z},"Finish"):s.createElement("button",{className:"".concat(a,"-next-btn"),onClick:D},"Next")))))}var MN=function(t){var a=t.current,o=t.renderPanel;return s.createElement(s.Fragment,null,typeof o=="function"?o(t,a):s.createElement(IN,t))},TN=MN,PN=["prefixCls","steps","defaultCurrent","current","onChange","onClose","onFinish","open","mask","arrow","rootClassName","placement","renderPanel","gap","animated","scrollIntoViewOptions","zIndex","closeIcon","closable","builtinPlacements","disabledInteraction"],ON={left:"50%",top:"50%",width:1,height:1},RM={block:"center",inline:"center"},RN=function(t){var a=t.prefixCls,o=a===void 0?"rc-tour":a,f=t.steps,y=f===void 0?[]:f,C=t.defaultCurrent,w=t.current,I=t.onChange,D=t.onClose,z=t.onFinish,L=t.open,k=t.mask,Z=k===void 0?!0:k,j=t.arrow,G=j===void 0?!0:j,H=t.rootClassName,K=t.placement,ee=t.renderPanel,ie=t.gap,oe=t.animated,re=t.scrollIntoViewOptions,se=re===void 0?RM:re,ue=t.zIndex,me=ue===void 0?1001:ue,pe=t.closeIcon,ye=t.closable,Se=t.builtinPlacements,Ie=t.disabledInteraction,we=(0,de.Z)(t,PN),Be=s.useRef(),Re=(0,Fs.Z)(0,{value:w,defaultValue:C}),je=(0,Oe.Z)(Re,2),Ne=je[0],nt=je[1],at=(0,Fs.Z)(void 0,{value:L,postState:function(Vn){return Ne<0||Ne>=y.length?!1:Vn!=null?Vn:!0}}),Ct=(0,Oe.Z)(at,2),St=Ct[0],_t=Ct[1],ft=s.useState(St),vt=(0,Oe.Z)(ft,2),$t=vt[0],It=vt[1],Ft=s.useRef(St);(0,hl.Z)(function(){St&&(Ft.current||nt(0),It(!0)),Ft.current=St},[St]);var wt=y[Ne]||{},pn=wt.target,Bn=wt.placement,ln=wt.style,Tn=wt.arrow,Kt=wt.className,zt=wt.mask,Dn=wt.scrollIntoViewOptions,Sn=Dn===void 0?RM:Dn,Ir=wt.closeIcon,ur=wt.closable,Yn=yN(ur,Ir,ye,pe),qn=St&&(zt!=null?zt:Z),Rn=Sn!=null?Sn:se,Jn=CN(pn,L,ie,Rn),zr=(0,Oe.Z)(Jn,2),li=zr[0],xi=zr[1],Di=bN(xi,K,Bn),So=xi?typeof Tn=="undefined"?G:Tn:!1,_i=(0,Ye.Z)(So)==="object"?So.pointAtCenter:!1;(0,hl.Z)(function(){var pr;(pr=Be.current)===null||pr===void 0||pr.forceAlign()},[_i,Ne]);var ai=function(Vn){nt(Vn),I==null||I(Vn)},gi=(0,s.useMemo)(function(){return Se?typeof Se=="function"?Se({arrowPointAtCenter:_i}):Se:OM(_i)},[Se,_i]);if(xi===void 0||!$t)return null;var Gi=function(){_t(!1),D==null||D(Ne)},Pi=function(){return s.createElement(TN,(0,Ze.Z)({arrow:So,key:"content",prefixCls:o,total:y.length,renderPanel:ee,onPrev:function(){ai(Ne-1)},onNext:function(){ai(Ne+1)},onClose:Gi,current:Ne,onFinish:function(){Gi(),z==null||z()}},y[Ne],{closable:Yn}))},wo=typeof qn=="boolean"?qn:!!qn,dr=typeof qn=="boolean"?void 0:qn,tr=function(Vn){return Vn||xi||document.body};return s.createElement(s.Fragment,null,s.createElement(wN,{zIndex:me,prefixCls:o,pos:li,showMask:wo,style:dr==null?void 0:dr.style,fill:dr==null?void 0:dr.color,open:St,animated:oe,rootClassName:H,disabledInteraction:Ie}),s.createElement(uc.Z,(0,Ze.Z)({},we,{builtinPlacements:gi,ref:Be,popupStyle:ln,popupPlacement:Di,popupVisible:St,popupClassName:Y()(H,Kt),prefixCls:o,popup:Pi,forceRender:!1,destroyPopupOnHide:!0,zIndex:me,getTriggerDOMNode:tr,arrow:!!So}),s.createElement(Bo.Z,{open:St,autoLock:!0},s.createElement("div",{className:Y()(H,"".concat(o,"-target-placeholder")),style:(0,X.Z)((0,X.Z)({},li||ON),{},{position:"fixed",pointerEvents:"none"})}))))},$N=RN,AN=$N;function zw(e){return e!=null}var $M=e=>{var t,a;const{stepProps:o,current:f,type:y,indicatorsRender:C}=e,{prefixCls:w,total:I=1,title:D,onClose:z,onPrev:L,onNext:k,onFinish:Z,cover:j,description:G,nextButtonProps:H,prevButtonProps:K,type:ee,closable:ie}=o,oe=ee!=null?ee:y,re=s.createElement("button",{type:"button",onClick:z,className:`${w}-close`},(ie==null?void 0:ie.closeIcon)||s.createElement(er.Z,{className:`${w}-close-icon`})),se=f===I-1,ue=()=>{var je;L==null||L(),(je=K==null?void 0:K.onClick)===null||je===void 0||je.call(K)},me=()=>{var je;se?Z==null||Z():k==null||k(),(je=H==null?void 0:H.onClick)===null||je===void 0||je.call(H)},pe=zw(D)?s.createElement("div",{className:`${w}-header`},s.createElement("div",{className:`${w}-title`},D)):null,ye=zw(G)?s.createElement("div",{className:`${w}-description`},G):null,Se=zw(j)?s.createElement("div",{className:`${w}-cover`},j):null;let Ie;C?Ie=C(f,I):Ie=(0,xe.Z)(Array.from({length:I}).keys()).map((je,Ne)=>s.createElement("span",{key:je,className:Y()(Ne===f&&`${w}-indicator-active`,`${w}-indicator`)}));const we=oe==="primary"?"default":"primary",Be={type:"default",ghost:oe==="primary"},[Re]=(0,Ao.Z)("Tour",Ac.Z.Tour);return s.createElement("div",{className:`${w}-content`},s.createElement("div",{className:`${w}-inner`},ie&&re,Se,pe,ye,s.createElement("div",{className:`${w}-footer`},I>1&&s.createElement("div",{className:`${w}-indicators`},Ie),s.createElement("div",{className:`${w}-buttons`},f!==0?s.createElement(wn,Object.assign({},Be,K,{onClick:ue,size:"small",className:Y()(`${w}-prev-btn`,K==null?void 0:K.className)}),(t=K==null?void 0:K.children)!==null&&t!==void 0?t:Re==null?void 0:Re.Previous):null,s.createElement(wn,Object.assign({type:we},H,{onClick:me,size:"small",className:Y()(`${w}-next-btn`,H==null?void 0:H.className)}),(a=H==null?void 0:H.children)!==null&&a!==void 0?a:se?Re==null?void 0:Re.Finish:Re==null?void 0:Re.Next)))))};const DN=e=>{const{componentCls:t,padding:a,paddingXS:o,borderRadius:f,borderRadiusXS:y,colorPrimary:C,colorFill:w,indicatorHeight:I,indicatorWidth:D,boxShadowTertiary:z,zIndexPopup:L,colorBgElevated:k,fontWeightStrong:Z,marginXS:j,colorTextLightSolid:G,tourBorderRadius:H,colorWhite:K,primaryNextBtnHoverBg:ee,closeBtnSize:ie,motionDurationSlow:oe,antCls:re,primaryPrevBtnBg:se}=e;return[{[t]:Object.assign(Object.assign({},(0,Wt.Wf)(e)),{position:"absolute",zIndex:L,maxWidth:"fit-content",visibility:"visible",width:520,"--antd-arrow-background-color":k,"&-pure":{maxWidth:"100%",position:"relative"},[`&${t}-hidden`]:{display:"none"},[`${t}-content`]:{position:"relative"},[`${t}-inner`]:{textAlign:"start",textDecoration:"none",borderRadius:H,boxShadow:z,position:"relative",backgroundColor:k,border:"none",backgroundClip:"padding-box",[`${t}-close`]:Object.assign({position:"absolute",top:a,insetInlineEnd:a,color:e.colorIcon,background:"none",border:"none",width:ie,height:ie,borderRadius:e.borderRadiusSM,transition:`background-color ${e.motionDurationMid}, color ${e.motionDurationMid}`,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer","&:hover":{color:e.colorIconHover,backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive}},(0,Wt.Qy)(e)),[`${t}-cover`]:{textAlign:"center",padding:`${(0,fe.bf)(e.calc(a).add(ie).add(o).equal())} ${(0,fe.bf)(a)} 0`,img:{width:"100%"}},[`${t}-header`]:{padding:`${(0,fe.bf)(a)} ${(0,fe.bf)(a)} ${(0,fe.bf)(o)}`,width:`calc(100% - ${(0,fe.bf)(ie)})`,wordBreak:"break-word",[`${t}-title`]:{fontWeight:Z}},[`${t}-description`]:{padding:`0 ${(0,fe.bf)(a)}`,wordWrap:"break-word"},[`${t}-footer`]:{padding:`${(0,fe.bf)(o)} ${(0,fe.bf)(a)} ${(0,fe.bf)(a)}`,textAlign:"end",borderRadius:`0 0 ${(0,fe.bf)(y)} ${(0,fe.bf)(y)}`,display:"flex",[`${t}-indicators`]:{display:"inline-block",[`${t}-indicator`]:{width:D,height:I,display:"inline-block",borderRadius:"50%",background:w,"&:not(:last-child)":{marginInlineEnd:I},"&-active":{background:C}}},[`${t}-buttons`]:{marginInlineStart:"auto",[`${re}-btn`]:{marginInlineStart:j}}}},[`${t}-primary, &${t}-primary`]:{"--antd-arrow-background-color":C,[`${t}-inner`]:{color:G,textAlign:"start",textDecoration:"none",backgroundColor:C,borderRadius:f,boxShadow:z,[`${t}-close`]:{color:G},[`${t}-indicators`]:{[`${t}-indicator`]:{background:se,"&-active":{background:G}}},[`${t}-prev-btn`]:{color:G,borderColor:se,backgroundColor:C,"&:hover":{backgroundColor:se,borderColor:"transparent"}},[`${t}-next-btn`]:{color:C,borderColor:"transparent",background:K,"&:hover":{background:ee}}}}}),[`${t}-mask`]:{[`${t}-placeholder-animated`]:{transition:`all ${oe}`}},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${t}-inner`]:{borderRadius:e.min(H,Eh.qN)}}},(0,Eh.ZP)(e,"var(--antd-arrow-background-color)")]},zN=e=>Object.assign(Object.assign({zIndexPopup:e.zIndexPopupBase+70,closeBtnSize:e.fontSize*e.lineHeight,primaryPrevBtnBg:new Sl.t(e.colorTextLightSolid).setA(.15).toRgbString(),primaryNextBtnHoverBg:new Sl.t(e.colorBgTextHover).onBackground(e.colorWhite).toRgbString()},(0,Eh.wZ)({contentRadius:e.borderRadiusLG,limitVerticalRadius:!0})),(0,Vp.w)(e));var AM=(0,te.I$)("Tour",e=>{const{borderRadiusLG:t}=e,a=(0,Ur.IX)(e,{indicatorWidth:6,indicatorHeight:6,tourBorderRadius:t});return[DN(a)]},zN),LN=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const NN=e=>{const{prefixCls:t,current:a=0,total:o=6,className:f,style:y,type:C,closable:w,closeIcon:I}=e,D=LN(e,["prefixCls","current","total","className","style","type","closable","closeIcon"]),{getPrefixCls:z}=s.useContext(ve.E_),L=z("tour",t),[k,Z,j]=AM(L),[G,H]=Hl({closable:w,closeIcon:I},null,{closable:!0,closeIconRender:K=>s.isValidElement(K)?(0,bn.Tm)(K,{className:Y()(K.props.className,`${L}-close-icon`)}):K});return k(s.createElement(ZE.t5,{prefixCls:L,hashId:Z,className:Y()(f,`${L}-pure`,C&&`${L}-${C}`,j),style:y},s.createElement($M,{stepProps:Object.assign(Object.assign({},D),{prefixCls:L,total:o,closable:G?{closeIcon:H}:void 0}),current:a,type:C})))};var BN=(0,vl.i)(NN),FN=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const DM=e=>{const{prefixCls:t,type:a,rootClassName:o,indicatorsRender:f,steps:y,closeIcon:C}=e,w=FN(e,["prefixCls","type","rootClassName","indicatorsRender","steps","closeIcon"]),{getPrefixCls:I,direction:D,tour:z}=(0,s.useContext)(ve.E_),L=I("tour",t),[k,Z,j]=AM(L),[,G]=(0,ea.ZP)(),H=s.useMemo(()=>y==null?void 0:y.map(se=>{var ue;return Object.assign(Object.assign({},se),{className:Y()(se.className,{[`${L}-primary`]:((ue=se.type)!==null&&ue!==void 0?ue:a)==="primary"})})}),[y,a]),K=se=>{var ue;return(0,_u.Z)({arrowPointAtCenter:(ue=se==null?void 0:se.arrowPointAtCenter)!==null&&ue!==void 0?ue:!0,autoAdjustOverflow:!0,offset:G.marginXXS,arrowWidth:G.sizePopupArrow,borderRadius:G.borderRadius})},ee=Y()({[`${L}-rtl`]:D==="rtl"},Z,j,o),ie=(se,ue)=>s.createElement($M,{type:a,stepProps:se,current:ue,indicatorsRender:f}),[oe,re]=(0,Ut.Cn)("Tour",w.zIndex);return k(s.createElement(Ya.Z.Provider,{value:re},s.createElement(AN,Object.assign({},w,{closeIcon:C!=null?C:z==null?void 0:z.closeIcon,zIndex:oe,rootClassName:ee,prefixCls:L,animated:!0,renderPanel:ie,builtinPlacements:K,steps:H}))))};DM._InternalPanelDoNotUseOrYouWillBeFired=BN;var kN=DM;const Yx=e=>{const t=new Map;return e.forEach((a,o)=>{t.set(a,o)}),t},jN=e=>{const t=new Map;return e.forEach((a,o)=>{let{disabled:f,key:y}=a;f&&t.set(y,o)}),t};var ZN=(e,t,a)=>{const o=s.useMemo(()=>(e||[]).map(C=>t?Object.assign(Object.assign({},C),{key:t(C)}):C),[e,t]),[f,y]=s.useMemo(()=>{var C;const w=[],I=Array.from({length:(C=a==null?void 0:a.length)!==null&&C!==void 0?C:0}),D=Yx(a||[]);return o.forEach(z=>{if(D.has(z.key)){const L=D.get(z.key);I[L]=z}else w.push(z)}),[w,I]},[o,a]);return[o,f.filter(Boolean),y.filter(Boolean)]};const VN=[];function qx(e,t){const a=e.filter(o=>t.has(o));return e.length===a.length?e:a}function zM(e){return Array.from(e).join(";")}function HN(e,t,a){const[o,f]=s.useMemo(()=>[new Set(e.map(L=>L==null?void 0:L.key)),new Set(t.map(L=>L==null?void 0:L.key))],[e,t]),[y,C]=(0,$s.C8)(VN,{value:a}),w=s.useMemo(()=>qx(y,o),[y,o]),I=s.useMemo(()=>qx(y,f),[y,f]);s.useEffect(()=>{C([].concat((0,xe.Z)(qx(y,o)),(0,xe.Z)(qx(y,f))))},[zM(o),zM(f)]);const D=(0,$s.zX)(L=>{C([].concat((0,xe.Z)(L),(0,xe.Z)(I)))}),z=(0,$s.zX)(L=>{C([].concat((0,xe.Z)(w),(0,xe.Z)(L)))});return[w,I,D,z]}var UN=HN,WN={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},GN=WN,KN=function(t,a){return s.createElement(Xt.Z,(0,Ze.Z)({},t,{ref:a,icon:GN}))},XN=s.forwardRef(KN),LM=XN;const YN=e=>{const{renderedText:t,renderedEl:a,item:o,checked:f,disabled:y,prefixCls:C,onClick:w,onRemove:I,showRemove:D}=e,z=Y()(`${C}-content-item`,{[`${C}-content-item-disabled`]:y||o.disabled,[`${C}-content-item-checked`]:f&&!o.disabled});let L;(typeof t=="string"||typeof t=="number")&&(L=String(t));const[k]=(0,Ao.Z)("Transfer",Ac.Z.Transfer),Z={className:z,title:L},j=s.createElement("span",{className:`${C}-content-item-text`},a);return D?s.createElement("li",Object.assign({},Z),j,s.createElement("button",{type:"button",disabled:y||o.disabled,className:`${C}-content-item-remove`,"aria-label":k==null?void 0:k.remove,onClick:()=>I==null?void 0:I(o)},s.createElement(LM,null))):(Z.onClick=y||o.disabled?void 0:G=>w(o,G),s.createElement("li",Object.assign({},Z),s.createElement(Hr,{className:`${C}-checkbox`,checked:f,disabled:y||o.disabled}),j))};var qN=s.memo(YN);const JN=["handleFilter","handleClear","checkedKeys"],QN=e=>Object.assign(Object.assign({},{simple:!0,showSizeChanger:!1,showLessItems:!1}),e),e6=(e,t)=>{const{prefixCls:a,filteredRenderItems:o,selectedKeys:f,disabled:y,showRemove:C,pagination:w,onScroll:I,onItemSelect:D,onItemRemove:z}=e,[L,k]=s.useState(1),Z=s.useMemo(()=>w?QN(typeof w=="object"?w:{}):null,[w]),[j,G]=(0,Fs.Z)(10,{value:Z==null?void 0:Z.pageSize});s.useEffect(()=>{if(Z){const ue=Math.ceil(o.length/j);k(Math.min(L,ue))}},[o,Z,j]);const H=(ue,me)=>{D(ue.key,!f.includes(ue.key),me)},K=ue=>{z==null||z([ue.key])},ee=ue=>{k(ue)},ie=(ue,me)=>{k(ue),G(me)},oe=s.useMemo(()=>Z?o.slice((L-1)*j,L*j):o,[L,o,Z,j]);s.useImperativeHandle(t,()=>({items:oe}));const re=Z?s.createElement(Ox,{size:"small",disabled:y,simple:Z.simple,pageSize:j,showLessItems:Z.showLessItems,showSizeChanger:Z.showSizeChanger,className:`${a}-pagination`,total:o.length,current:L,onChange:ee,onShowSizeChange:ie}):null,se=Y()(`${a}-content`,{[`${a}-content-show-remove`]:C});return s.createElement(s.Fragment,null,s.createElement("ul",{className:se,onScroll:I},(oe||[]).map(ue=>{let{renderedEl:me,renderedText:pe,item:ye}=ue;return s.createElement(qN,{key:ye.key,item:ye,renderedText:pe,renderedEl:me,prefixCls:a,showRemove:C,onClick:H,onRemove:K,checked:f.includes(ye.key),disabled:y||ye.disabled})})),re)};var t6=s.forwardRef(e6),NM=e=>{const{placeholder:t="",value:a,prefixCls:o,disabled:f,onChange:y,handleClear:C}=e,w=s.useCallback(I=>{y==null||y(I),I.target.value===""&&(C==null||C())},[y]);return s.createElement(hv.Z,{placeholder:t,className:o,value:a,onChange:w,disabled:f,allowClear:!0,prefix:s.createElement(jS.Z,null)})};const n6=()=>null;function r6(e){return!!(e&&!s.isValidElement(e)&&Object.prototype.toString.call(e)==="[object Object]")}function N_(e){return e.filter(t=>!t.disabled).map(t=>t.key)}const i6=e=>e!==void 0,o6=e=>e&&typeof e=="object"?Object.assign(Object.assign({},e),{defaultValue:e.defaultValue||""}):{defaultValue:"",placeholder:""};var Lw=e=>{const{prefixCls:t,dataSource:a=[],titleText:o="",checkedKeys:f,disabled:y,showSearch:C=!1,style:w,searchPlaceholder:I,notFoundContent:D,selectAll:z,deselectAll:L,selectCurrent:k,selectInvert:Z,removeAll:j,removeCurrent:G,showSelectAll:H=!0,showRemove:K,pagination:ee,direction:ie,itemsUnit:oe,itemUnit:re,selectAllLabel:se,selectionsIcon:ue,footer:me,renderList:pe,onItemSelectAll:ye,onItemRemove:Se,handleFilter:Ie,handleClear:we,filterOption:Be,render:Re=n6}=e,je=o6(C),[Ne,nt]=(0,s.useState)(je.defaultValue),at=(0,s.useRef)({}),Ct=Yn=>{nt(Yn.target.value),Ie(Yn)},St=()=>{nt(""),we()},_t=(Yn,qn)=>Be?Be(Ne,qn,ie):Yn.includes(Ne),ft=Yn=>{let qn=pe?pe(Object.assign(Object.assign({},Yn),{onItemSelect:(Jn,zr)=>Yn.onItemSelect(Jn,zr)})):null;const Rn=!!qn;return Rn||(qn=s.createElement(t6,Object.assign({ref:at},Yn))),{customize:Rn,bodyContent:qn}},vt=Yn=>{const qn=Re(Yn),Rn=r6(qn);return{item:Yn,renderedEl:Rn?qn.label:qn,renderedText:Rn?qn.value:qn}},$t=(0,s.useMemo)(()=>Array.isArray(D)?D[ie==="left"?0:1]:D,[D,ie]),[It,Ft]=(0,s.useMemo)(()=>{const Yn=[],qn=[];return a.forEach(Rn=>{const Jn=vt(Rn);Ne&&!_t(Jn.renderedText,Rn)||(Yn.push(Rn),qn.push(Jn))}),[Yn,qn]},[a,Ne]),wt=(0,s.useMemo)(()=>It.filter(Yn=>f.includes(Yn.key)&&!Yn.disabled),[f,It]),pn=(0,s.useMemo)(()=>{if(wt.length===0)return"none";const Yn=Yx(f);return It.every(qn=>Yn.has(qn.key)||!!qn.disabled)?"all":"part"},[f,wt]),Bn=(0,s.useMemo)(()=>{const Yn=C?s.createElement("div",{className:`${t}-body-search-wrapper`},s.createElement(NM,{prefixCls:`${t}-search`,onChange:Ct,handleClear:St,placeholder:je.placeholder||I,value:Ne,disabled:y})):null,{customize:qn,bodyContent:Rn}=ft(Object.assign(Object.assign({},(0,ci.Z)(e,JN)),{filteredItems:It,filteredRenderItems:Ft,selectedKeys:f}));let Jn;return qn?Jn=s.createElement("div",{className:`${t}-body-customize-wrapper`},Rn):Jn=It.length?Rn:s.createElement("div",{className:`${t}-body-not-found`},$t),s.createElement("div",{className:Y()(`${t}-body`,{[`${t}-body-with-search`]:C})},Yn,Jn)},[C,t,I,Ne,y,f,It,Ft,$t]),ln=s.createElement(Hr,{disabled:a.filter(Yn=>!Yn.disabled).length===0||y,checked:pn==="all",indeterminate:pn==="part",className:`${t}-checkbox`,onChange:()=>{ye==null||ye(It.filter(Yn=>!Yn.disabled).map(Yn=>{let{key:qn}=Yn;return qn}),pn!=="all")}}),Tn=(Yn,qn)=>{if(se)return typeof se=="function"?se({selectedCount:Yn,totalCount:qn}):se;const Rn=qn>1?oe:re;return s.createElement(s.Fragment,null,(Yn>0?`${Yn}/`:"")+qn," ",Rn)},Kt=me&&(me.length<2?me(e):me(e,{direction:ie})),zt=Y()(t,{[`${t}-with-pagination`]:!!ee,[`${t}-with-footer`]:!!Kt}),Dn=Kt?s.createElement("div",{className:`${t}-footer`},Kt):null,Sn=!K&&!ee&&ln;let Ir;K?Ir=[ee?{key:"removeCurrent",label:G,onClick(){var Yn;const qn=N_((((Yn=at.current)===null||Yn===void 0?void 0:Yn.items)||[]).map(Rn=>Rn.item));Se==null||Se(qn)}}:null,{key:"removeAll",label:j,onClick(){Se==null||Se(N_(It))}}].filter(Boolean):Ir=[{key:"selectAll",label:pn==="all"?L:z,onClick(){const Yn=N_(It);ye==null||ye(Yn,Yn.length!==f.length)}},ee?{key:"selectCurrent",label:k,onClick(){var Yn;const qn=((Yn=at.current)===null||Yn===void 0?void 0:Yn.items)||[];ye==null||ye(N_(qn.map(Rn=>Rn.item)),!0)}}:null,{key:"selectInvert",label:Z,onClick(){var Yn;const qn=N_((((Yn=at.current)===null||Yn===void 0?void 0:Yn.items)||[]).map(zr=>zr.item)),Rn=new Set(f),Jn=new Set(Rn);qn.forEach(zr=>{Rn.has(zr)?Jn.delete(zr):Jn.add(zr)}),ye==null||ye(Array.from(Jn),"replace")}}];const ur=s.createElement(wx,{className:`${t}-header-dropdown`,menu:{items:Ir},disabled:y},i6(ue)?ue:s.createElement($u.Z,null));return s.createElement("div",{className:zt,style:w},s.createElement("div",{className:`${t}-header`},H?s.createElement(s.Fragment,null,Sn,ur):null,s.createElement("span",{className:`${t}-header-selected`},Tn(wt.length,It.length)),s.createElement("span",{className:`${t}-header-title`},o)),Bn,Dn)},BM=e=>{const{disabled:t,moveToLeft:a,moveToRight:o,leftArrowText:f="",rightArrowText:y="",leftActive:C,rightActive:w,className:I,style:D,direction:z,oneWay:L}=e;return s.createElement("div",{className:I,style:D},s.createElement(wn,{type:"primary",size:"small",disabled:t||!w,onClick:o,icon:z!=="rtl"?s.createElement(yu.Z,null):s.createElement(Qc,null)},y),!L&&s.createElement(wn,{type:"primary",size:"small",disabled:t||!C,onClick:a,icon:z!=="rtl"?s.createElement(Qc,null):s.createElement(yu.Z,null)},f))};const a6=e=>{const{antCls:t,componentCls:a,listHeight:o,controlHeightLG:f}=e,y=`${t}-table`,C=`${t}-input`;return{[`${a}-customize-list`]:{[`${a}-list`]:{flex:"1 1 50%",width:"auto",height:"auto",minHeight:o,minWidth:0},[`${y}-wrapper`]:{[`${y}-small`]:{border:0,borderRadius:0,[`${y}-selection-column`]:{width:f,minWidth:f}},[`${y}-pagination${y}-pagination`]:{margin:0,padding:e.paddingXS}},[`${C}[disabled]`]:{backgroundColor:"transparent"}}}},FM=(e,t)=>{const{componentCls:a,colorBorder:o}=e;return{[`${a}-list`]:{borderColor:t,"&-search:not([disabled])":{borderColor:o}}}},s6=e=>{const{componentCls:t}=e;return{[`${t}-status-error`]:Object.assign({},FM(e,e.colorError)),[`${t}-status-warning`]:Object.assign({},FM(e,e.colorWarning))}},l6=e=>{const{componentCls:t,colorBorder:a,colorSplit:o,lineWidth:f,itemHeight:y,headerHeight:C,transferHeaderVerticalPadding:w,itemPaddingBlock:I,controlItemBgActive:D,colorTextDisabled:z,colorTextSecondary:L,listHeight:k,listWidth:Z,listWidthLG:j,fontSizeIcon:G,marginXS:H,paddingSM:K,lineType:ee,antCls:ie,iconCls:oe,motionDurationSlow:re,controlItemBgHover:se,borderRadiusLG:ue,colorBgContainer:me,colorText:pe,controlItemBgActiveHover:ye}=e,Se=(0,fe.bf)(e.calc(ue).sub(f).equal());return{display:"flex",flexDirection:"column",width:Z,height:k,border:`${(0,fe.bf)(f)} ${ee} ${a}`,borderRadius:e.borderRadiusLG,"&-with-pagination":{width:j,height:"auto"},"&-search":{[`${oe}-search`]:{color:z}},"&-header":{display:"flex",flex:"none",alignItems:"center",height:C,padding:`${(0,fe.bf)(e.calc(w).sub(f).equal())} ${(0,fe.bf)(K)} ${(0,fe.bf)(w)}`,color:pe,background:me,borderBottom:`${(0,fe.bf)(f)} ${ee} ${o}`,borderRadius:`${(0,fe.bf)(ue)} ${(0,fe.bf)(ue)} 0 0`,"> *:not(:last-child)":{marginInlineEnd:4},"> *":{flex:"none"},"&-title":Object.assign(Object.assign({},Wt.vS),{flex:"auto",textAlign:"end"}),"&-dropdown":Object.assign(Object.assign({},(0,Wt.Ro)()),{fontSize:G,transform:"translateY(10%)",cursor:"pointer","&[disabled]":{cursor:"not-allowed"}})},"&-body":{display:"flex",flex:"auto",flexDirection:"column",fontSize:e.fontSize,minHeight:0,"&-search-wrapper":{position:"relative",flex:"none",padding:K}},"&-content":{flex:"auto",margin:0,padding:0,overflow:"auto",listStyle:"none",borderRadius:`0 0 ${Se} ${Se}`,"&-item":{display:"flex",alignItems:"center",minHeight:y,padding:`${(0,fe.bf)(I)} ${(0,fe.bf)(K)}`,transition:`all ${re}`,"> *:not(:last-child)":{marginInlineEnd:H},"> *":{flex:"none"},"&-text":Object.assign(Object.assign({},Wt.vS),{flex:"auto"}),"&-remove":Object.assign(Object.assign({},(0,Wt.Nd)(e)),{color:a,"&:hover, &:focus":{color:L}}),[`&:not(${t}-list-content-item-disabled)`]:{"&:hover":{backgroundColor:se,cursor:"pointer"},[`&${t}-list-content-item-checked:hover`]:{backgroundColor:ye}},"&-checked":{backgroundColor:D},"&-disabled":{color:z,cursor:"not-allowed"}},[`&-show-remove ${t}-list-content-item:not(${t}-list-content-item-disabled):hover`]:{background:"transparent",cursor:"default"}},"&-pagination":{padding:e.paddingXS,textAlign:"end",borderTop:`${(0,fe.bf)(f)} ${ee} ${o}`,[`${ie}-pagination-options`]:{paddingInlineEnd:e.paddingXS}},"&-body-not-found":{flex:"none",width:"100%",margin:"auto 0",color:z,textAlign:"center"},"&-footer":{borderTop:`${(0,fe.bf)(f)} ${ee} ${o}`},"&-checkbox":{lineHeight:1}}},c6=e=>{const{antCls:t,iconCls:a,componentCls:o,marginXS:f,marginXXS:y,fontSizeIcon:C,colorBgContainerDisabled:w}=e;return{[o]:Object.assign(Object.assign({},(0,Wt.Wf)(e)),{position:"relative",display:"flex",alignItems:"stretch",[`${o}-disabled`]:{[`${o}-list`]:{background:w}},[`${o}-list`]:l6(e),[`${o}-operation`]:{display:"flex",flex:"none",flexDirection:"column",alignSelf:"center",margin:`0 ${(0,fe.bf)(f)}`,verticalAlign:"middle",gap:y,[`${t}-btn ${a}`]:{fontSize:C}}})}},u6=e=>{const{componentCls:t}=e;return{[`${t}-rtl`]:{direction:"rtl"}}},d6=e=>{const{fontSize:t,lineHeight:a,controlHeight:o,controlHeightLG:f,lineWidth:y}=e,C=Math.round(t*a);return{listWidth:180,listHeight:200,listWidthLG:250,headerHeight:f,itemHeight:o,itemPaddingBlock:(o-C)/2,transferHeaderVerticalPadding:Math.ceil((f-y-C)/2)}};var f6=(0,te.I$)("Transfer",e=>{const t=(0,Ur.IX)(e);return[c6(t),a6(t),s6(t),u6(t)]},d6);const Jx=e=>{const{dataSource:t,targetKeys:a=[],selectedKeys:o,selectAllLabels:f=[],operations:y=[],style:C={},listStyle:w={},locale:I={},titles:D,disabled:z,showSearch:L=!1,operationStyle:k,showSelectAll:Z,oneWay:j,pagination:G,status:H,prefixCls:K,className:ee,rootClassName:ie,selectionsIcon:oe,filterOption:re,render:se,footer:ue,children:me,rowKey:pe,onScroll:ye,onChange:Se,onSearch:Ie,onSelectChange:we}=e,{getPrefixCls:Be,renderEmpty:Re,direction:je,transfer:Ne}=(0,s.useContext)(ve.E_),nt=Be("transfer",K),[at,Ct,St]=f6(nt),[_t,ft,vt]=ZN(t,pe,a),[$t,It,Ft,wt]=UN(ft,vt,o),[pn,Bn]=vw(bo=>bo.key),[ln,Tn]=vw(bo=>bo.key),Kt=(0,s.useCallback)((bo,Ko)=>{if(bo==="left"){const Ra=typeof Ko=="function"?Ko($t||[]):Ko;Ft(Ra)}else{const Ra=typeof Ko=="function"?Ko(It||[]):Ko;wt(Ra)}},[$t,It]),zt=(bo,Ko)=>{(bo==="left"?Bn:Tn)(Ko)},Dn=(0,s.useCallback)((bo,Ko)=>{bo==="left"?we==null||we(Ko,It):we==null||we($t,Ko)},[$t,It]),Sn=bo=>{var Ko;return(Ko=D!=null?D:bo.titles)!==null&&Ko!==void 0?Ko:[]},Ir=bo=>{ye==null||ye("left",bo)},ur=bo=>{ye==null||ye("right",bo)},Yn=bo=>{const Ko=bo==="right"?$t:It,Ra=jN(_t),Ka=Ko.filter(yl=>!Ra.has(yl)),ss=Yx(Ka),ll=bo==="right"?Ka.concat(a):a.filter(yl=>!ss.has(yl)),Rl=bo==="right"?"left":"right";Kt(Rl,[]),Dn(Rl,[]),Se==null||Se(ll,bo,Ka)},qn=()=>{Yn("left"),zt("left",null)},Rn=()=>{Yn("right"),zt("right",null)},Jn=(bo,Ko,Ra)=>{Kt(bo,Ka=>{let ss=[];if(Ra==="replace")ss=Ko;else if(Ra)ss=Array.from(new Set([].concat((0,xe.Z)(Ka),(0,xe.Z)(Ko))));else{const ll=Yx(Ko);ss=Ka.filter(Rl=>!ll.has(Rl))}return Dn(bo,ss),ss}),zt(bo,null)},zr=(bo,Ko)=>{Jn("left",bo,Ko)},li=(bo,Ko)=>{Jn("right",bo,Ko)},xi=bo=>Ie==null?void 0:Ie("left",bo.target.value),Di=bo=>Ie==null?void 0:Ie("right",bo.target.value),So=()=>Ie==null?void 0:Ie("left",""),_i=()=>Ie==null?void 0:Ie("right",""),ai=(bo,Ko,Ra,Ka,ss)=>{Ko.has(Ra)&&(Ko.delete(Ra),zt(bo,null)),Ka&&(Ko.add(Ra),zt(bo,ss))},gi=(bo,Ko,Ra,Ka)=>{(bo==="left"?pn:ln)(Ka,Ko,Ra)},Gi=(bo,Ko,Ra,Ka)=>{const ss=bo==="left",ll=(0,xe.Z)(ss?$t:It),Rl=new Set(ll),yl=(0,xe.Z)(ss?ft:vt).filter(Vo=>!(Vo!=null&&Vo.disabled)),Xl=yl.findIndex(Vo=>Vo.key===Ko);Ka&&ll.length>0?gi(bo,yl,Rl,Xl):ai(bo,Rl,Ko,Ra,Xl);const ma=Array.from(Rl);Dn(bo,ma),e.selectedKeys||Kt(bo,ma)},Pi=(bo,Ko,Ra)=>{Gi("left",bo,Ko,Ra==null?void 0:Ra.shiftKey)},wo=(bo,Ko,Ra)=>{Gi("right",bo,Ko,Ra==null?void 0:Ra.shiftKey)},dr=bo=>{Kt("right",[]),Se==null||Se(a.filter(Ko=>!bo.includes(Ko)),"left",(0,xe.Z)(bo))},tr=bo=>typeof w=="function"?w({direction:bo}):w||{},pr=(0,s.useContext)($c.aM),{hasFeedback:Vn,status:ri}=pr,Oi=bo=>Object.assign(Object.assign(Object.assign({},bo),{notFoundContent:(Re==null?void 0:Re("Transfer"))||s.createElement(Wf.Z,{componentName:"Transfer"})}),I),ro=(0,Fc.F)(ri,H),Xo=!me&&G,$a=vt.filter(bo=>It.includes(bo.key)&&!bo.disabled).length>0,ta=ft.filter(bo=>$t.includes(bo.key)&&!bo.disabled).length>0,Cs=Y()(nt,{[`${nt}-disabled`]:z,[`${nt}-customize-list`]:!!me,[`${nt}-rtl`]:je==="rtl"},(0,Fc.Z)(nt,ro,Vn),Ne==null?void 0:Ne.className,ee,ie,Ct,St),[Za]=(0,Ao.Z)("Transfer",Ac.Z.Transfer),Ga=Oi(Za),[pa,ts]=Sn(Ga),As=oe!=null?oe:Ne==null?void 0:Ne.selectionsIcon;return at(s.createElement("div",{className:Cs,style:Object.assign(Object.assign({},Ne==null?void 0:Ne.style),C)},s.createElement(Lw,Object.assign({prefixCls:`${nt}-list`,titleText:pa,dataSource:ft,filterOption:re,style:tr("left"),checkedKeys:$t,handleFilter:xi,handleClear:So,onItemSelect:Pi,onItemSelectAll:zr,render:se,showSearch:L,renderList:me,footer:ue,onScroll:Ir,disabled:z,direction:je==="rtl"?"right":"left",showSelectAll:Z,selectAllLabel:f[0],pagination:Xo,selectionsIcon:As},Ga)),s.createElement(BM,{className:`${nt}-operation`,rightActive:ta,rightArrowText:y[0],moveToRight:Rn,leftActive:$a,leftArrowText:y[1],moveToLeft:qn,style:k,disabled:z,direction:je,oneWay:j}),s.createElement(Lw,Object.assign({prefixCls:`${nt}-list`,titleText:ts,dataSource:vt,filterOption:re,style:tr("right"),checkedKeys:It,handleFilter:Di,handleClear:_i,onItemSelect:wo,onItemSelectAll:li,onItemRemove:dr,render:se,showSearch:L,renderList:me,footer:ue,onScroll:ur,disabled:z,direction:je==="rtl"?"left":"right",showSelectAll:Z,selectAllLabel:f[1],showRemove:j,pagination:Xo,selectionsIcon:As},Ga))))};Jx.List=Lw,Jx.Search=NM,Jx.Operation=BM;var h6=Jx,m6=function(e){var t=s.useRef({valueLabels:new Map});return s.useMemo(function(){var a=t.current.valueLabels,o=new Map,f=e.map(function(y){var C=y.value,w=y.label,I=w!=null?w:a.get(C);return o.set(C,I),(0,X.Z)((0,X.Z)({},y),{},{label:I})});return t.current.valueLabels=o,[f]},[e])},p6=function(t,a,o,f){return s.useMemo(function(){var y=function(Z){return Z.map(function(j){var G=j.value;return G})},C=y(t),w=y(a),I=C.filter(function(k){return!f[k]}),D=C,z=w;if(o){var L=(0,Cd.S)(C,!0,f);D=L.checkedKeys,z=L.halfCheckedKeys}return[Array.from(new Set([].concat((0,xe.Z)(I),(0,xe.Z)(D)))),z]},[t,a,o,f])},g6=p6,v6=function(e,t){return s.useMemo(function(){var a=(0,Uf.I8)(e,{fieldNames:t,initWrapper:function(f){return(0,X.Z)((0,X.Z)({},f),{},{valueEntities:new Map})},processEntity:function(f,y){var C=f.node[t.value];if(0)var w;y.valueEntities.set(C,f)}});return a},[e,t])},y6=function(){return null},Nw=y6,_6=["children","value"];function kM(e){return(0,Wl.Z)(e).map(function(t){if(!s.isValidElement(t)||!t.type)return null;var a=t,o=a.key,f=a.props,y=f.children,C=f.value,w=(0,de.Z)(f,_6),I=(0,X.Z)({key:o,value:C},w),D=kM(y);return D.length&&(I.children=D),I}).filter(function(t){return t})}function Bw(e){if(!e)return e;var t=(0,X.Z)({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return(0,lc.ZP)(!1,"New `rc-tree-select` not support return node instance as argument anymore. Please consider to remove `props` access."),t}}),t}function b6(e,t,a,o,f,y){var C=null,w=null;function I(){function D(z){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"0",k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return z.map(function(Z,j){var G="".concat(L,"-").concat(j),H=Z[y.value],K=a.includes(H),ee=D(Z[y.children]||[],G,K),ie=s.createElement(Nw,Z,ee.map(function(re){return re.node}));if(t===H&&(C=ie),K){var oe={pos:G,node:ie,children:ee};return k||w.push(oe),oe}return null}).filter(function(Z){return Z})}w||(w=[],D(o),w.sort(function(z,L){var k=z.node.props.value,Z=L.node.props.value,j=a.indexOf(k),G=a.indexOf(Z);return j-G}))}Object.defineProperty(e,"triggerNode",{get:function(){return(0,lc.ZP)(!1,"`triggerNode` is deprecated. Please consider decoupling data with node."),I(),C}}),Object.defineProperty(e,"allCheckedNodes",{get:function(){return(0,lc.ZP)(!1,"`allCheckedNodes` is deprecated. Please consider decoupling data with node."),I(),f?w:w.map(function(z){var L=z.node;return L})}})}var x6=function(t,a,o){var f=o.fieldNames,y=o.treeNodeFilterProp,C=o.filterTreeNode,w=f.children;return s.useMemo(function(){if(!a||C===!1)return t;var I=typeof C=="function"?C:function(z,L){return String(L[y]).toUpperCase().includes(a.toUpperCase())},D=function z(L){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return L.reduce(function(Z,j){var G=j[w],H=k||I(a,Bw(j)),K=z(G||[],H);return(H||K.length)&&Z.push((0,X.Z)((0,X.Z)({},j),{},(0,he.Z)({isLeaf:void 0},w,K))),Z},[])};return D(t)},[t,a,w,y,C])},C6=x6;function jM(e){var t=s.useRef();t.current=e;var a=s.useCallback(function(){return t.current.apply(t,arguments)},[]);return a}function S6(e,t){var a=t.id,o=t.pId,f=t.rootPId,y=new Map,C=[];return e.forEach(function(w){var I=w[a],D=(0,X.Z)((0,X.Z)({},w),{},{key:w.key||I});y.set(I,D)}),y.forEach(function(w){var I=w[o],D=y.get(I);D?(D.children=D.children||[],D.children.push(w)):(I===f||f===null)&&C.push(w)}),C}function w6(e,t,a){return s.useMemo(function(){if(e){if(a){var o=(0,X.Z)({id:"id",pId:"pId",rootPId:null},(0,Ye.Z)(a)==="object"?a:{});return S6(e,o)}return e}return kM(t)},[t,a,e])}var E6=s.createContext(null),ZM=E6,I6=s.createContext(null),VM=I6,M6=function(t){return Array.isArray(t)?t:t!==void 0?[t]:[]},T6=function(t){var a=t||{},o=a.label,f=a.value,y=a.children;return{_title:o?[o]:["title","label"],value:f||"value",key:f||"value",children:y||"children"}},Fw=function(t){return!t||t.disabled||t.disableCheckbox||t.checkable===!1},P6=function(t,a){var o=[],f=function y(C){C.forEach(function(w){var I=w[a.children];I&&(o.push(w[a.value]),y(I))})};return f(t),o},HM=function(t){return t==null},O6={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},R6=function(t,a){var o=(0,iv.lk)(),f=o.prefixCls,y=o.multiple,C=o.searchValue,w=o.toggleOpen,I=o.open,D=o.notFoundContent,z=s.useContext(VM),L=z.virtual,k=z.listHeight,Z=z.listItemHeight,j=z.listItemScrollOffset,G=z.treeData,H=z.fieldNames,K=z.onSelect,ee=z.dropdownMatchSelectWidth,ie=z.treeExpandAction,oe=z.treeTitleRender,re=z.onPopupScroll,se=z.leftMaxCount,ue=z.leafCountOnly,me=z.valueEntities,pe=s.useContext(ZM),ye=pe.checkable,Se=pe.checkedKeys,Ie=pe.halfCheckedKeys,we=pe.treeExpandedKeys,Be=pe.treeDefaultExpandAll,Re=pe.treeDefaultExpandedKeys,je=pe.onTreeExpand,Ne=pe.treeIcon,nt=pe.showTreeIcon,at=pe.switcherIcon,Ct=pe.treeLine,St=pe.treeNodeFilterProp,_t=pe.loadData,ft=pe.treeLoadedKeys,vt=pe.treeMotion,$t=pe.onTreeLoad,It=pe.keyEntities,Ft=s.useRef(),wt=(0,rl.Z)(function(){return G},[I,G],function(Oi,ro){return ro[0]&&Oi[1]!==ro[1]}),pn=s.useMemo(function(){return ye?{checked:Se,halfChecked:Ie}:null},[ye,Se,Ie]);s.useEffect(function(){if(I&&!y&&Se.length){var Oi;(Oi=Ft.current)===null||Oi===void 0||Oi.scrollTo({key:Se[0]})}},[I]);var Bn=function(ro){ro.preventDefault()},ln=function(ro,Xo){var $a=Xo.node;ye&&Fw($a)||(K($a.key,{selected:!Se.includes($a.key)}),y||w(!1))},Tn=s.useState(Re),Kt=(0,Oe.Z)(Tn,2),zt=Kt[0],Dn=Kt[1],Sn=s.useState(null),Ir=(0,Oe.Z)(Sn,2),ur=Ir[0],Yn=Ir[1],qn=s.useMemo(function(){return we?(0,xe.Z)(we):C?ur:zt},[zt,ur,we,C]),Rn=function(ro){Dn(ro),Yn(ro),je&&je(ro)},Jn=String(C).toLowerCase(),zr=function(ro){return Jn?String(ro[St]).toLowerCase().includes(Jn):!1};s.useEffect(function(){C&&Yn(P6(G,H))},[C]);var li=s.useState(function(){return new Map}),xi=(0,Oe.Z)(li,2),Di=xi[0],So=xi[1];s.useEffect(function(){se&&So(new Map)},[se]);function _i(Oi){var ro=Oi[H.value];if(!Di.has(ro)){var Xo=me.get(ro),$a=(Xo.children||[]).length===0;if($a)Di.set(ro,!1);else{var ta=Xo.children.filter(function(Za){return!Za.node.disabled&&!Za.node.disableCheckbox&&!Se.includes(Za.node[H.value])}),Cs=ta.length;Di.set(ro,Cs>se)}}return Di.get(ro)}var ai=(0,$s.zX)(function(Oi){var ro=Oi[H.value];return Se.includes(ro)||se===null?!1:se<=0?!0:ue&&se?_i(Oi):!1}),gi=function Oi(ro){var Xo=Lg(ro),$a;try{for(Xo.s();!($a=Xo.n()).done;){var ta=$a.value;if(!(ta.disabled||ta.selectable===!1)){if(C){if(zr(ta))return ta}else return ta;if(ta[H.children]){var Cs=Oi(ta[H.children]);if(Cs)return Cs}}}}catch(Za){Xo.e(Za)}finally{Xo.f()}return null},Gi=s.useState(null),Pi=(0,Oe.Z)(Gi,2),wo=Pi[0],dr=Pi[1],tr=It[wo];s.useEffect(function(){if(I){var Oi=null,ro=function(){var $a=gi(wt);return $a?$a[H.value]:null};!y&&Se.length&&!C?Oi=Se[0]:Oi=ro(),dr(Oi)}},[I,C]),s.useImperativeHandle(a,function(){var Oi;return{scrollTo:(Oi=Ft.current)===null||Oi===void 0?void 0:Oi.scrollTo,onKeyDown:function(Xo){var $a,ta=Xo.which;switch(ta){case et.Z.UP:case et.Z.DOWN:case et.Z.LEFT:case et.Z.RIGHT:($a=Ft.current)===null||$a===void 0||$a.onKeyDown(Xo);break;case et.Z.ENTER:{if(tr){var Cs=ai(tr.node),Za=(tr==null?void 0:tr.node)||{},Ga=Za.selectable,pa=Za.value,ts=Za.disabled;Ga!==!1&&!ts&&!Cs&&ln(null,{node:{key:wo},selected:!Se.includes(pa)})}break}case et.Z.ESC:w(!1)}},onKeyUp:function(){}}});var pr=(0,rl.Z)(function(){return!C},[C,we||zt],function(Oi,ro){var Xo=(0,Oe.Z)(Oi,1),$a=Xo[0],ta=(0,Oe.Z)(ro,2),Cs=ta[0],Za=ta[1];return $a!==Cs&&!!(Cs||Za)}),Vn=pr?_t:null;if(wt.length===0)return s.createElement("div",{role:"listbox",className:"".concat(f,"-empty"),onMouseDown:Bn},D);var ri={fieldNames:H};return ft&&(ri.loadedKeys=ft),qn&&(ri.expandedKeys=qn),s.createElement("div",{onMouseDown:Bn},tr&&I&&s.createElement("span",{style:O6,"aria-live":"assertive"},tr.node.value),s.createElement(Ux.y6.Provider,{value:{nodeDisabled:ai}},s.createElement(Ux.ZP,(0,Ze.Z)({ref:Ft,focusable:!1,prefixCls:"".concat(f,"-tree"),treeData:wt,height:k,itemHeight:Z,itemScrollOffset:j,virtual:L!==!1&&ee!==!1,multiple:y,icon:Ne,showIcon:nt,switcherIcon:at,showLine:Ct,loadData:Vn,motion:vt,activeKey:wo,checkable:ye,checkStrictly:!0,checkedKeys:pn,selectedKeys:ye?[]:Se,defaultExpandAll:Be,titleRender:oe},ri,{onActiveChange:dr,onSelect:ln,onCheck:ln,onExpand:Rn,onLoad:$t,filterTreeNode:zr,expandAction:ie,onScroll:re}))))},$6=s.forwardRef(R6),A6=$6,kw="SHOW_ALL",jw="SHOW_PARENT",Qx="SHOW_CHILD";function UM(e,t,a,o){var f=new Set(e);return t===Qx?e.filter(function(y){var C=a[y];return!C||!C.children||!C.children.some(function(w){var I=w.node;return f.has(I[o.value])})||!C.children.every(function(w){var I=w.node;return Fw(I)||f.has(I[o.value])})}):t===jw?e.filter(function(y){var C=a[y],w=C?C.parent:null;return!w||Fw(w.node)||!f.has(w.key)}):e}function D7(e){var t=e.searchPlaceholder,a=e.treeCheckStrictly,o=e.treeCheckable,f=e.labelInValue,y=e.value,C=e.multiple,w=e.showCheckedStrategy,I=e.maxCount;warning(!t,"`searchPlaceholder` has been removed."),a&&f===!1&&warning(!1,"`treeCheckStrictly` will force set `labelInValue` to `true`."),(f||a)&&warning(toArray(y).every(function(D){return D&&_typeof(D)==="object"&&"value"in D}),"Invalid prop `value` supplied to `TreeSelect`. You should use { label: string, value: string | number } or [{ label: string, value: string | number }] instead."),a||C||o?warning(!y||Array.isArray(y),"`value` should be an array when `TreeSelect` is checkable or multiple."):warning(!Array.isArray(y),"`value` should not be array when `TreeSelect` is single mode."),I&&(w==="SHOW_ALL"&&!a||w==="SHOW_PARENT")&&warning(!1,"`maxCount` not work with `showCheckedStrategy=SHOW_ALL` (when `treeCheckStrictly=false`) or `showCheckedStrategy=SHOW_PARENT`.")}var z7=null,D6=["id","prefixCls","value","defaultValue","onChange","onSelect","onDeselect","searchValue","inputValue","onSearch","autoClearSearchValue","filterTreeNode","treeNodeFilterProp","showCheckedStrategy","treeNodeLabelProp","multiple","treeCheckable","treeCheckStrictly","labelInValue","maxCount","fieldNames","treeDataSimpleMode","treeData","children","loadData","treeLoadedKeys","onTreeLoad","treeDefaultExpandAll","treeExpandedKeys","treeDefaultExpandedKeys","onTreeExpand","treeExpandAction","virtual","listHeight","listItemHeight","listItemScrollOffset","onDropdownVisibleChange","dropdownMatchSelectWidth","treeLine","treeIcon","showTreeIcon","switcherIcon","treeMotion","treeTitleRender","onPopupScroll"];function z6(e){return!e||(0,Ye.Z)(e)!=="object"}var L6=s.forwardRef(function(e,t){var a=e.id,o=e.prefixCls,f=o===void 0?"rc-tree-select":o,y=e.value,C=e.defaultValue,w=e.onChange,I=e.onSelect,D=e.onDeselect,z=e.searchValue,L=e.inputValue,k=e.onSearch,Z=e.autoClearSearchValue,j=Z===void 0?!0:Z,G=e.filterTreeNode,H=e.treeNodeFilterProp,K=H===void 0?"value":H,ee=e.showCheckedStrategy,ie=e.treeNodeLabelProp,oe=e.multiple,re=e.treeCheckable,se=e.treeCheckStrictly,ue=e.labelInValue,me=e.maxCount,pe=e.fieldNames,ye=e.treeDataSimpleMode,Se=e.treeData,Ie=e.children,we=e.loadData,Be=e.treeLoadedKeys,Re=e.onTreeLoad,je=e.treeDefaultExpandAll,Ne=e.treeExpandedKeys,nt=e.treeDefaultExpandedKeys,at=e.onTreeExpand,Ct=e.treeExpandAction,St=e.virtual,_t=e.listHeight,ft=_t===void 0?200:_t,vt=e.listItemHeight,$t=vt===void 0?20:vt,It=e.listItemScrollOffset,Ft=It===void 0?0:It,wt=e.onDropdownVisibleChange,pn=e.dropdownMatchSelectWidth,Bn=pn===void 0?!0:pn,ln=e.treeLine,Tn=e.treeIcon,Kt=e.showTreeIcon,zt=e.switcherIcon,Dn=e.treeMotion,Sn=e.treeTitleRender,Ir=e.onPopupScroll,ur=(0,de.Z)(e,D6),Yn=(0,wu.ZP)(a),qn=re&&!se,Rn=re||se,Jn=se||ue,zr=Rn||oe,li=(0,Fs.Z)(C,{value:y}),xi=(0,Oe.Z)(li,2),Di=xi[0],So=xi[1],_i=s.useMemo(function(){return re?ee||Qx:kw},[ee,re]),ai=s.useMemo(function(){return T6(pe)},[JSON.stringify(pe)]),gi=(0,Fs.Z)("",{value:z!==void 0?z:L,postState:function(ba){return ba||""}}),Gi=(0,Oe.Z)(gi,2),Pi=Gi[0],wo=Gi[1],dr=function(ba){wo(ba),k==null||k(ba)},tr=w6(Se,Ie,ye),pr=v6(tr,ai),Vn=pr.keyEntities,ri=pr.valueEntities,Oi=s.useCallback(function(ka){var ba=[],gs=[];return ka.forEach(function(vs){ri.has(vs)?gs.push(vs):ba.push(vs)}),{missingRawValues:ba,existRawValues:gs}},[ri]),ro=C6(tr,Pi,{fieldNames:ai,treeNodeFilterProp:K,filterTreeNode:G}),Xo=s.useCallback(function(ka){if(ka){if(ie)return ka[ie];for(var ba=ai._title,gs=0;gs<ba.length;gs+=1){var vs=ka[ba[gs]];if(vs!==void 0)return vs}}},[ai,ie]),$a=s.useCallback(function(ka){var ba=M6(ka);return ba.map(function(gs){return z6(gs)?{value:gs}:gs})},[]),ta=s.useCallback(function(ka){var ba=$a(ka);return ba.map(function(gs){var vs=gs.label,Ys=gs.value,va=gs.halfChecked,Lo,Aa=ri.get(Ys);if(Aa){var ds;vs=Sn?Sn(Aa.node):(ds=vs)!==null&&ds!==void 0?ds:Xo(Aa.node),Lo=Aa.node.disabled}else if(vs===void 0){var Bs=$a(Di).find(function(qs){return qs.value===Ys});vs=Bs.label}return{label:vs,value:Ys,halfChecked:va,disabled:Lo}})},[ri,Xo,$a,Di]),Cs=s.useMemo(function(){return $a(Di===null?[]:Di)},[$a,Di]),Za=s.useMemo(function(){var ka=[],ba=[];return Cs.forEach(function(gs){gs.halfChecked?ba.push(gs):ka.push(gs)}),[ka,ba]},[Cs]),Ga=(0,Oe.Z)(Za,2),pa=Ga[0],ts=Ga[1],As=s.useMemo(function(){return pa.map(function(ka){return ka.value})},[pa]),bo=g6(pa,ts,qn,Vn),Ko=(0,Oe.Z)(bo,2),Ra=Ko[0],Ka=Ko[1],ss=s.useMemo(function(){var ka=UM(Ra,_i,Vn,ai),ba=ka.map(function(va){var Lo,Aa;return(Lo=(Aa=Vn[va])===null||Aa===void 0||(Aa=Aa.node)===null||Aa===void 0?void 0:Aa[ai.value])!==null&&Lo!==void 0?Lo:va}),gs=ba.map(function(va){var Lo=pa.find(function(ds){return ds.value===va}),Aa=ue?Lo==null?void 0:Lo.label:Sn==null?void 0:Sn(Lo);return{value:va,label:Aa}}),vs=ta(gs),Ys=vs[0];return!zr&&Ys&&HM(Ys.value)&&HM(Ys.label)?[]:vs.map(function(va){var Lo;return(0,X.Z)((0,X.Z)({},va),{},{label:(Lo=va.label)!==null&&Lo!==void 0?Lo:va.value})})},[ai,zr,Ra,pa,ta,_i,Vn]),ll=m6(ss),Rl=(0,Oe.Z)(ll,1),yl=Rl[0],Xl=s.useMemo(function(){return zr&&(_i==="SHOW_CHILD"||se||!re)?me:null},[me,zr,se,_i,re]),ma=jM(function(ka,ba,gs){var vs=UM(ka,_i,Vn,ai);if(!(Xl&&vs.length>Xl)){var Ys=ta(ka);if(So(Ys),j&&wo(""),w){var va=ka;qn&&(va=vs.map(function(Ss){var $l=ri.get(Ss);return $l?$l.node[ai.value]:Ss}));var Lo=ba||{triggerValue:void 0,selected:void 0},Aa=Lo.triggerValue,ds=Lo.selected,Bs=va;if(se){var qs=ts.filter(function(Ss){return!va.includes(Ss.value)});Bs=[].concat((0,xe.Z)(Bs),(0,xe.Z)(qs))}var rc=ta(Bs),Js={preValue:pa,triggerValue:Aa},Da=!0;(se||gs==="selection"&&!ds)&&(Da=!1),b6(Js,Aa,ka,tr,Da,ai),Rn?Js.checked=ds:Js.selected=ds;var cs=Jn?rc:rc.map(function(Ss){return Ss.value});w(zr?cs:cs[0],Jn?null:rc.map(function(Ss){return Ss.label}),Js)}}}),Vo=s.useCallback(function(ka,ba){var gs,vs=ba.selected,Ys=ba.source,va=Vn[ka],Lo=va==null?void 0:va.node,Aa=(gs=Lo==null?void 0:Lo[ai.value])!==null&&gs!==void 0?gs:ka;if(!zr)ma([Aa],{selected:!0,triggerValue:Aa},"option");else{var ds=vs?[].concat((0,xe.Z)(As),[Aa]):Ra.filter(function($l){return $l!==Aa});if(qn){var Bs=Oi(ds),qs=Bs.missingRawValues,rc=Bs.existRawValues,Js=rc.map(function($l){return ri.get($l).key}),Da;if(vs){var cs=(0,Cd.S)(Js,!0,Vn);Da=cs.checkedKeys}else{var Ss=(0,Cd.S)(Js,{checked:!1,halfCheckedKeys:Ka},Vn);Da=Ss.checkedKeys}ds=[].concat((0,xe.Z)(qs),(0,xe.Z)(Da.map(function($l){return Vn[$l].node[ai.value]})))}ma(ds,{selected:vs,triggerValue:Aa},Ys||"option")}vs||!zr?I==null||I(Aa,Bw(Lo)):D==null||D(Aa,Bw(Lo))},[Oi,ri,Vn,ai,zr,As,ma,qn,I,D,Ra,Ka,me]),Ho=s.useCallback(function(ka){if(wt){var ba={};Object.defineProperty(ba,"documentClickClose",{get:function(){return(0,lc.ZP)(!1,"Second param of `onDropdownVisibleChange` has been removed."),!1}}),wt(ka,ba)}},[wt]),Do=jM(function(ka,ba){var gs=ka.map(function(vs){return vs.value});if(ba.type==="clear"){ma(gs,{},"selection");return}ba.values.length&&Vo(ba.values[0].value,{selected:!1,source:"selection"})}),ls=s.useMemo(function(){return{virtual:St,dropdownMatchSelectWidth:Bn,listHeight:ft,listItemHeight:$t,listItemScrollOffset:Ft,treeData:ro,fieldNames:ai,onSelect:Vo,treeExpandAction:Ct,treeTitleRender:Sn,onPopupScroll:Ir,leftMaxCount:me===void 0?null:me-yl.length,leafCountOnly:_i==="SHOW_CHILD"&&!se&&!!re,valueEntities:ri}},[St,Bn,ft,$t,Ft,ro,ai,Vo,Ct,Sn,Ir,me,yl.length,_i,se,re,ri]),Ds=s.useMemo(function(){return{checkable:Rn,loadData:we,treeLoadedKeys:Be,onTreeLoad:Re,checkedKeys:Ra,halfCheckedKeys:Ka,treeDefaultExpandAll:je,treeExpandedKeys:Ne,treeDefaultExpandedKeys:nt,onTreeExpand:at,treeIcon:Tn,treeMotion:Dn,showTreeIcon:Kt,switcherIcon:zt,treeLine:ln,treeNodeFilterProp:K,keyEntities:Vn}},[Rn,we,Be,Re,Ra,Ka,je,Ne,nt,at,Tn,Dn,Kt,zt,ln,K,Vn]);return s.createElement(VM.Provider,{value:ls},s.createElement(ZM.Provider,{value:Ds},s.createElement(iv.Ac,(0,Ze.Z)({ref:t},ur,{id:Yn,prefixCls:f,mode:zr?"multiple":void 0,displayValues:yl,onDisplayValuesChange:Do,searchValue:Pi,onSearch:dr,OptionList:A6,emptyOptions:!tr.length,onDropdownVisibleChange:Ho,dropdownMatchSelectWidth:Bn}))))}),B_=L6;B_.TreeNode=Nw,B_.SHOW_ALL=kw,B_.SHOW_PARENT=jw,B_.SHOW_CHILD=Qx;var N6=B_,B6=N6;const F6=e=>{const{componentCls:t,treePrefixCls:a,colorBgElevated:o}=e,f=`.${a}`;return[{[`${t}-dropdown`]:[{padding:`${(0,fe.bf)(e.paddingXS)} ${(0,fe.bf)(e.calc(e.paddingXS).div(2).equal())}`},YI(a,(0,Ur.IX)(e,{colorBgContainer:o})),{[f]:{borderRadius:0,[`${f}-list-holder-inner`]:{alignItems:"stretch",[`${f}-treenode`]:{[`${f}-node-content-wrapper`]:{flex:"auto"}}}}},b(`${a}-checkbox`,e),{"&-rtl":{direction:"rtl",[`${f}-switcher${f}-switcher_close`]:{[`${f}-switcher-icon svg`]:{transform:"rotate(90deg)"}}}}]}]},L7=null;function k6(e,t,a){return(0,te.I$)("TreeSelect",o=>{const f=(0,Ur.IX)(o,{treePrefixCls:t});return[F6(f)]},qI)(e,a)}var j6=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const Z6=(e,t)=>{var a;const{prefixCls:o,size:f,disabled:y,bordered:C=!0,className:w,rootClassName:I,treeCheckable:D,multiple:z,listHeight:L=256,listItemHeight:k,placement:Z,notFoundContent:j,switcherIcon:G,treeLine:H,getPopupContainer:K,popupClassName:ee,dropdownClassName:ie,treeIcon:oe=!1,transitionName:re,choiceTransitionName:se="",status:ue,treeExpandAction:me,builtinPlacements:pe,dropdownMatchSelectWidth:ye,popupMatchSelectWidth:Se,allowClear:Ie,variant:we,dropdownStyle:Be,tagRender:Re,maxCount:je,showCheckedStrategy:Ne,treeCheckStrictly:nt}=e,at=j6(e,["prefixCls","size","disabled","bordered","className","rootClassName","treeCheckable","multiple","listHeight","listItemHeight","placement","notFoundContent","switcherIcon","treeLine","getPopupContainer","popupClassName","dropdownClassName","treeIcon","transitionName","choiceTransitionName","status","treeExpandAction","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","allowClear","variant","dropdownStyle","tagRender","maxCount","showCheckedStrategy","treeCheckStrictly"]),{getPopupContainer:Ct,getPrefixCls:St,renderEmpty:_t,direction:ft,virtual:vt,popupMatchSelectWidth:$t,popupOverflow:It}=s.useContext(ve.E_),[,Ft]=(0,ea.ZP)(),wt=k!=null?k:(Ft==null?void 0:Ft.controlHeightSM)+(Ft==null?void 0:Ft.paddingXXS),pn=St(),Bn=St("select",o),ln=St("select-tree",o),Tn=St("tree-select",o),{compactSize:Kt,compactItemClassnames:zt}=(0,oo.ri)(Bn,ft),Dn=(0,Fn.Z)(Bn),Sn=(0,Fn.Z)(Tn),[Ir,ur,Yn]=(0,n.Z)(Bn,Dn),[qn]=k6(Tn,ln,Sn),[Rn,Jn]=(0,jf.Z)("treeSelect",we,C),zr=Y()(ee||ie,`${Tn}-dropdown`,{[`${Tn}-dropdown-rtl`]:ft==="rtl"},I,Yn,Dn,Sn,ur),li=!!(D||z),xi=s.useMemo(()=>{if(!(je&&(Ne==="SHOW_ALL"&&!nt||Ne==="SHOW_PARENT")))return je},[je,Ne,nt]),Di=(0,d.Z)(e.suffixIcon,e.showArrow),So=(a=Se!=null?Se:ye)!==null&&a!==void 0?a:$t,{status:_i,hasFeedback:ai,isFormItemInput:gi,feedbackIcon:Gi}=s.useContext($c.aM),Pi=(0,Fc.F)(_i,ue),{suffixIcon:wo,removeIcon:dr,clearIcon:tr}=(0,i.Z)(Object.assign(Object.assign({},at),{multiple:li,showSuffixIcon:Di,hasFeedback:ai,feedbackIcon:Gi,prefixCls:Bn,componentName:"TreeSelect"})),pr=Ie===!0?{clearIcon:tr}:Ie;let Vn;j!==void 0?Vn=j:Vn=(_t==null?void 0:_t("Select"))||s.createElement(Wf.Z,{componentName:"Select"});const ri=(0,ci.Z)(at,["suffixIcon","removeIcon","clearIcon","itemIcon","switcherIcon"]),Oi=s.useMemo(()=>Z!==void 0?Z:ft==="rtl"?"bottomRight":"bottomLeft",[Z,ft]),ro=(0,Br.Z)(pa=>{var ts;return(ts=f!=null?f:Kt)!==null&&ts!==void 0?ts:pa}),Xo=s.useContext(Ta.Z),$a=y!=null?y:Xo,ta=Y()(!o&&Tn,{[`${Bn}-lg`]:ro==="large",[`${Bn}-sm`]:ro==="small",[`${Bn}-rtl`]:ft==="rtl",[`${Bn}-${Rn}`]:Jn,[`${Bn}-in-form-item`]:gi},(0,Fc.Z)(Bn,Pi,ai),zt,w,I,Yn,Dn,Sn,ur),Cs=pa=>s.createElement(QI,{prefixCls:ln,switcherIcon:G,treeNodeProps:pa,showLine:H}),[Za]=(0,Ut.Cn)("SelectLike",Be==null?void 0:Be.zIndex),Ga=s.createElement(B6,Object.assign({virtual:vt,disabled:$a},ri,{dropdownMatchSelectWidth:So,builtinPlacements:(0,u.Z)(pe,It),ref:t,prefixCls:Bn,className:ta,listHeight:L,listItemHeight:wt,treeCheckable:D&&s.createElement("span",{className:`${Bn}-tree-checkbox-inner`}),treeLine:!!H,suffixIcon:wo,multiple:li,placement:Oi,removeIcon:dr,allowClear:pr,switcherIcon:Cs,showTreeIcon:oe,notFoundContent:Vn,getPopupContainer:K||Ct,treeMotion:null,dropdownClassName:zr,dropdownStyle:Object.assign(Object.assign({},Be),{zIndex:Za}),choiceTransitionName:(0,Rr.m)(pn,"",se),transitionName:(0,Rr.m)(pn,"slide-up",re),treeExpandAction:me,tagRender:li?Re:void 0,maxCount:xi,showCheckedStrategy:Ne,treeCheckStrictly:nt}));return Ir(qn(Ga))},Bg=s.forwardRef(Z6),V6=(0,vl.Z)(Bg,"dropdownAlign",e=>(0,ci.Z)(e,["visible"]));Bg.TreeNode=Nw,Bg.SHOW_ALL=kw,Bg.SHOW_PARENT=jw,Bg.SHOW_CHILD=Qx,Bg._InternalPanelDoNotUseOrYouWillBeFired=V6;var H6=Bg,U6={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},W6=U6,G6=function(t,a){return s.createElement(Xt.Z,(0,Ze.Z)({},t,{ref:a,icon:W6}))},K6=s.forwardRef(G6),X6=K6,Y6={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 170h-60c-4.4 0-8 3.6-8 8v518H310v-73c0-6.7-7.8-10.5-13-6.3l-141.9 112a8 8 0 000 12.6l141.9 112c5.3 4.2 13 .4 13-6.3v-75h498c35.3 0 64-28.7 64-64V178c0-4.4-3.6-8-8-8z"}}]},name:"enter",theme:"outlined"},q6=Y6,J6=function(t,a){return s.createElement(Xt.Z,(0,Ze.Z)({},t,{ref:a,icon:q6}))},Q6=s.forwardRef(J6),eB=Q6;const tB=(e,t,a,o)=>{const{titleMarginBottom:f,fontWeightStrong:y}=o;return{marginBottom:f,color:a,fontWeight:y,fontSize:e,lineHeight:t}},nB=e=>{const t=[1,2,3,4,5],a={};return t.forEach(o=>{a[`
      h${o}&,
      div&-h${o},
      div&-h${o} > textarea,
      h${o}
    `]=tB(e[`fontSizeHeading${o}`],e[`lineHeightHeading${o}`],e.colorTextHeading,e)}),a},rB=e=>{const{componentCls:t}=e;return{"a&, a":Object.assign(Object.assign({},(0,Wt.Nd)(e)),{userSelect:"text",[`&[disabled], &${t}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed","&:active, &:hover":{color:e.colorTextDisabled},"&:active":{pointerEvents:"none"}}})}},iB=e=>({code:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.2em 0.1em",fontSize:"85%",fontFamily:e.fontFamilyCode,background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3},kbd:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.15em 0.1em",fontSize:"90%",fontFamily:e.fontFamilyCode,background:"rgba(150, 150, 150, 0.06)",border:"1px solid rgba(100, 100, 100, 0.2)",borderBottomWidth:2,borderRadius:3},mark:{padding:0,backgroundColor:Qm.EV[2]},"u, ins":{textDecoration:"underline",textDecorationSkipInk:"auto"},"s, del":{textDecoration:"line-through"},strong:{fontWeight:600},"ul, ol":{marginInline:0,marginBlock:"0 1em",padding:0,li:{marginInline:"20px 0",marginBlock:0,paddingInline:"4px 0",paddingBlock:0}},ul:{listStyleType:"circle",ul:{listStyleType:"disc"}},ol:{listStyleType:"decimal"},"pre, blockquote":{margin:"1em 0"},pre:{padding:"0.4em 0.6em",whiteSpace:"pre-wrap",wordWrap:"break-word",background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3,fontFamily:e.fontFamilyCode,code:{display:"inline",margin:0,padding:0,fontSize:"inherit",fontFamily:"inherit",background:"transparent",border:0}},blockquote:{paddingInline:"0.6em 0",paddingBlock:0,borderInlineStart:"4px solid rgba(100, 100, 100, 0.2)",opacity:.85}}),oB=e=>{const{componentCls:t,paddingSM:a}=e,o=a;return{"&-edit-content":{position:"relative","div&":{insetInlineStart:e.calc(e.paddingSM).mul(-1).equal(),marginTop:e.calc(o).mul(-1).equal(),marginBottom:`calc(1em - ${(0,fe.bf)(o)})`},[`${t}-edit-content-confirm`]:{position:"absolute",insetInlineEnd:e.calc(e.marginXS).add(2).equal(),insetBlockEnd:e.marginXS,color:e.colorTextDescription,fontWeight:"normal",fontSize:e.fontSize,fontStyle:"normal",pointerEvents:"none"},textarea:{margin:"0!important",MozTransition:"none",height:"1em"}}}},aB=e=>({[`${e.componentCls}-copy-success`]:{"\n    &,\n    &:hover,\n    &:focus":{color:e.colorSuccess}},[`${e.componentCls}-copy-icon-only`]:{marginInlineStart:0}}),sB=()=>({"\n  a&-ellipsis,\n  span&-ellipsis\n  ":{display:"inline-block",maxWidth:"100%"},"&-ellipsis-single-line":{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis","a&, span&":{verticalAlign:"bottom"},"> code":{paddingBlock:0,maxWidth:"calc(100% - 1.2em)",display:"inline-block",overflow:"hidden",textOverflow:"ellipsis",verticalAlign:"bottom",boxSizing:"content-box"}},"&-ellipsis-multiple-line":{display:"-webkit-box",overflow:"hidden",WebkitLineClamp:3,WebkitBoxOrient:"vertical"}}),lB=e=>{const{componentCls:t,titleMarginTop:a}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.colorText,wordBreak:"break-word",lineHeight:e.lineHeight,[`&${t}-secondary`]:{color:e.colorTextDescription},[`&${t}-success`]:{color:e.colorSuccess},[`&${t}-warning`]:{color:e.colorWarning},[`&${t}-danger`]:{color:e.colorError,"a&:active, a&:focus":{color:e.colorErrorActive},"a&:hover":{color:e.colorErrorHover}},[`&${t}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed",userSelect:"none"},"\n        div&,\n        p\n      ":{marginBottom:"1em"}},nB(e)),{[`
      & + h1${t},
      & + h2${t},
      & + h3${t},
      & + h4${t},
      & + h5${t}
      `]:{marginTop:a},"\n      div,\n      ul,\n      li,\n      p,\n      h1,\n      h2,\n      h3,\n      h4,\n      h5":{"\n        + h1,\n        + h2,\n        + h3,\n        + h4,\n        + h5\n        ":{marginTop:a}}}),iB(e)),rB(e)),{[`
        ${t}-expand,
        ${t}-collapse,
        ${t}-edit,
        ${t}-copy
      `]:Object.assign(Object.assign({},(0,Wt.Nd)(e)),{marginInlineStart:e.marginXXS})}),oB(e)),aB(e)),sB()),{"&-rtl":{direction:"rtl"}})}},cB=()=>({titleMarginTop:"1.2em",titleMarginBottom:"0.5em"});var WM=(0,te.I$)("Typography",e=>[lB(e)],cB),uB=e=>{const{prefixCls:t,"aria-label":a,className:o,style:f,direction:y,maxLength:C,autoSize:w=!0,value:I,onSave:D,onCancel:z,onEnd:L,component:k,enterIcon:Z=s.createElement(eB,null)}=e,j=s.useRef(null),G=s.useRef(!1),H=s.useRef(null),[K,ee]=s.useState(I);s.useEffect(()=>{ee(I)},[I]),s.useEffect(()=>{var Be;if(!((Be=j.current)===null||Be===void 0)&&Be.resizableTextArea){const{textArea:Re}=j.current.resizableTextArea;Re.focus();const{length:je}=Re.value;Re.setSelectionRange(je,je)}},[]);const ie=Be=>{let{target:Re}=Be;ee(Re.value.replace(/[\n\r]/g,""))},oe=()=>{G.current=!0},re=()=>{G.current=!1},se=Be=>{let{keyCode:Re}=Be;G.current||(H.current=Re)},ue=()=>{D(K.trim())},me=Be=>{let{keyCode:Re,ctrlKey:je,altKey:Ne,metaKey:nt,shiftKey:at}=Be;H.current!==Re||G.current||je||Ne||nt||at||(Re===et.Z.ENTER?(ue(),L==null||L()):Re===et.Z.ESC&&z())},pe=()=>{ue()},[ye,Se,Ie]=WM(t),we=Y()(t,`${t}-edit-content`,{[`${t}-rtl`]:y==="rtl",[`${t}-${k}`]:!!k},o,Se,Ie);return ye(s.createElement("div",{className:we,style:f},s.createElement(dE,{ref:j,maxLength:C,value:K,onChange:ie,onKeyDown:se,onKeyUp:me,onCompositionStart:oe,onCompositionEnd:re,onBlur:pe,"aria-label":a,rows:1,autoSize:w}),Z!==null?(0,bn.Tm)(Z,{className:`${t}-edit-content-confirm`}):null))},dB=F(874),fB=F.n(dB),hB=function(e,t,a,o){function f(y){return y instanceof a?y:new a(function(C){C(y)})}return new(a||(a=Promise))(function(y,C){function w(z){try{D(o.next(z))}catch(L){C(L)}}function I(z){try{D(o.throw(z))}catch(L){C(L)}}function D(z){z.done?y(z.value):f(z.value).then(w,I)}D((o=o.apply(e,t||[])).next())})},mB=e=>{let{copyConfig:t,children:a}=e;const[o,f]=s.useState(!1),[y,C]=s.useState(!1),w=s.useRef(null),I=()=>{w.current&&clearTimeout(w.current)},D={};t.format&&(D.format=t.format),s.useEffect(()=>I,[]);const z=(0,fr.Z)(L=>hB(void 0,void 0,void 0,function*(){var k;L==null||L.preventDefault(),L==null||L.stopPropagation(),C(!0);try{const Z=typeof t.text=="function"?yield t.text():t.text;fB()(Z||$x(a,!0).join("")||"",D),C(!1),f(!0),I(),w.current=setTimeout(()=>{f(!1)},3e3),(k=t.onCopy)===null||k===void 0||k.call(t,L)}catch(Z){throw C(!1),Z}}));return{copied:o,copyLoading:y,onClick:z}};function Zw(e,t){return s.useMemo(()=>{const a=!!e;return[a,Object.assign(Object.assign({},t),a&&typeof e=="object"?e:null)]},[e])}var pB=e=>{const t=(0,s.useRef)(void 0);return(0,s.useEffect)(()=>{t.current=e}),t.current},gB=(e,t,a)=>(0,s.useMemo)(()=>e===!0?{title:t!=null?t:a}:(0,s.isValidElement)(e)?{title:e}:typeof e=="object"?Object.assign({title:t!=null?t:a},e):{title:e},[e,t,a]),vB=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},GM=s.forwardRef((e,t)=>{const{prefixCls:a,component:o="article",className:f,rootClassName:y,setContentRef:C,children:w,direction:I,style:D}=e,z=vB(e,["prefixCls","component","className","rootClassName","setContentRef","children","direction","style"]),{getPrefixCls:L,direction:k,className:Z,style:j}=(0,ve.dj)("typography"),G=I!=null?I:k,H=C?(0,Gt.sQ)(t,C):t,K=L("typography",a),[ee,ie,oe]=WM(K),re=Y()(K,Z,{[`${K}-rtl`]:G==="rtl"},f,y,ie,oe),se=Object.assign(Object.assign({},j),D);return ee(s.createElement(o,Object.assign({className:re,style:se,ref:H},z),w))}),yB={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"},_B=yB,bB=function(t,a){return s.createElement(Xt.Z,(0,Ze.Z)({},t,{ref:a,icon:_B}))},xB=s.forwardRef(bB),CB=xB;function KM(e){return e===!1?[!1,!1]:Array.isArray(e)?e:[e]}function Vw(e,t,a){return e===!0||e===void 0?t:e||a&&t}function SB(e){const t=document.createElement("em");e.appendChild(t);const a=e.getBoundingClientRect(),o=t.getBoundingClientRect();return e.removeChild(t),a.left>o.left||o.right>a.right||a.top>o.top||o.bottom>a.bottom}const Hw=e=>["string","number"].includes(typeof e);var wB=e=>{let{prefixCls:t,copied:a,locale:o,iconOnly:f,tooltips:y,icon:C,tabIndex:w,onCopy:I,loading:D}=e;const z=KM(y),L=KM(C),{copied:k,copy:Z}=o!=null?o:{},j=a?k:Z,G=Vw(z[a?1:0],j),H=typeof G=="string"?G:j;return s.createElement(Du.Z,{title:G},s.createElement("button",{type:"button",className:Y()(`${t}-copy`,{[`${t}-copy-success`]:a,[`${t}-copy-icon-only`]:f}),onClick:I,"aria-label":H,tabIndex:w},a?Vw(L[1],s.createElement(QS.Z,null),!0):Vw(L[0],D?s.createElement(_n.Z,null):s.createElement(CB,null),!0)))};const eC=s.forwardRef((e,t)=>{let{style:a,children:o}=e;const f=s.useRef(null);return s.useImperativeHandle(t,()=>({isExceed:()=>{const y=f.current;return y.scrollHeight>y.clientHeight},getHeight:()=>f.current.clientHeight})),s.createElement("span",{"aria-hidden":!0,ref:f,style:Object.assign({position:"fixed",display:"block",left:0,top:0,pointerEvents:"none",backgroundColor:"rgba(255, 0, 0, 0.65)"},a)},o)}),EB=e=>e.reduce((t,a)=>t+(Hw(a)?String(a).length:1),0);function XM(e,t){let a=0;const o=[];for(let f=0;f<e.length;f+=1){if(a===t)return o;const y=e[f],w=Hw(y)?String(y).length:1,I=a+w;if(I>t){const D=t-a;return o.push(String(y).slice(0,D)),o}o.push(y),a=I}return e}const Uw=0,Ww=1,Gw=2,Kw=3,YM=4,tC={display:"-webkit-box",overflow:"hidden",WebkitBoxOrient:"vertical"};function IB(e){const{enableMeasure:t,width:a,text:o,children:f,rows:y,expanded:C,miscDeps:w,onEllipsis:I}=e,D=s.useMemo(()=>(0,Wl.Z)(o),[o]),z=s.useMemo(()=>EB(D),[o]),L=s.useMemo(()=>f(D,!1),[o]),[k,Z]=s.useState(null),j=s.useRef(null),G=s.useRef(null),H=s.useRef(null),K=s.useRef(null),ee=s.useRef(null),[ie,oe]=s.useState(!1),[re,se]=s.useState(Uw),[ue,me]=s.useState(0),[pe,ye]=s.useState(null);(0,hl.Z)(()=>{se(t&&a&&z?Ww:Uw)},[a,o,y,t,D]),(0,hl.Z)(()=>{var Be,Re,je,Ne;if(re===Ww){se(Gw);const nt=G.current&&getComputedStyle(G.current).whiteSpace;ye(nt)}else if(re===Gw){const nt=!!(!((Be=H.current)===null||Be===void 0)&&Be.isExceed());se(nt?Kw:YM),Z(nt?[0,z]:null),oe(nt);const at=((Re=H.current)===null||Re===void 0?void 0:Re.getHeight())||0,Ct=y===1?0:((je=K.current)===null||je===void 0?void 0:je.getHeight())||0,St=((Ne=ee.current)===null||Ne===void 0?void 0:Ne.getHeight())||0,_t=Math.max(at,Ct+St);me(_t+1),I(nt)}},[re]);const Se=k?Math.ceil((k[0]+k[1])/2):0;(0,hl.Z)(()=>{var Be;const[Re,je]=k||[0,0];if(Re!==je){const nt=(((Be=j.current)===null||Be===void 0?void 0:Be.getHeight())||0)>ue;let at=Se;je-Re===1&&(at=nt?Re:je),Z(nt?[Re,at]:[at,je])}},[k,Se]);const Ie=s.useMemo(()=>{if(!t)return f(D,!1);if(re!==Kw||!k||k[0]!==k[1]){const Be=f(D,!1);return[YM,Uw].includes(re)?Be:s.createElement("span",{style:Object.assign(Object.assign({},tC),{WebkitLineClamp:y})},Be)}return f(C?D:XM(D,k[0]),ie)},[C,re,k,D].concat((0,xe.Z)(w))),we={width:a,margin:0,padding:0,whiteSpace:pe==="nowrap"?"normal":"inherit"};return s.createElement(s.Fragment,null,Ie,re===Gw&&s.createElement(s.Fragment,null,s.createElement(eC,{style:Object.assign(Object.assign(Object.assign({},we),tC),{WebkitLineClamp:y}),ref:H},L),s.createElement(eC,{style:Object.assign(Object.assign(Object.assign({},we),tC),{WebkitLineClamp:y-1}),ref:K},L),s.createElement(eC,{style:Object.assign(Object.assign(Object.assign({},we),tC),{WebkitLineClamp:1}),ref:ee},f([],!0))),re===Kw&&k&&k[0]!==k[1]&&s.createElement(eC,{style:Object.assign(Object.assign({},we),{top:400}),ref:j},f(XM(D,Se),!0)),re===Ww&&s.createElement("span",{style:{whiteSpace:"inherit"},ref:G}))}var MB=e=>{let{enableEllipsis:t,isEllipsis:a,children:o,tooltipProps:f}=e;return!(f!=null&&f.title)||!t?o:s.createElement(Du.Z,Object.assign({open:a?void 0:!1},f),o)},TB=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};function PB(e,t){let{mark:a,code:o,underline:f,delete:y,strong:C,keyboard:w,italic:I}=e,D=t;function z(L,k){k&&(D=s.createElement(L,{},D))}return z("strong",C),z("u",f),z("del",y),z("code",o),z("mark",a),z("kbd",w),z("i",I),D}const OB="...";var nC=s.forwardRef((e,t)=>{var a;const{prefixCls:o,className:f,style:y,type:C,disabled:w,children:I,ellipsis:D,editable:z,copyable:L,component:k,title:Z}=e,j=TB(e,["prefixCls","className","style","type","disabled","children","ellipsis","editable","copyable","component","title"]),{getPrefixCls:G,direction:H}=s.useContext(ve.E_),[K]=(0,Ao.Z)("Text"),ee=s.useRef(null),ie=s.useRef(null),oe=G("typography",o),re=(0,ci.Z)(j,["mark","code","delete","underline","strong","keyboard","italic"]),[se,ue]=Zw(z),[me,pe]=(0,Fs.Z)(!1,{value:ue.editing}),{triggerType:ye=["icon"]}=ue,Se=pr=>{var Vn;pr&&((Vn=ue.onStart)===null||Vn===void 0||Vn.call(ue)),pe(pr)},Ie=pB(me);(0,hl.Z)(()=>{var pr;!me&&Ie&&((pr=ie.current)===null||pr===void 0||pr.focus())},[me]);const we=pr=>{pr==null||pr.preventDefault(),Se(!0)},Be=pr=>{var Vn;(Vn=ue.onChange)===null||Vn===void 0||Vn.call(ue,pr),Se(!1)},Re=()=>{var pr;(pr=ue.onCancel)===null||pr===void 0||pr.call(ue),Se(!1)},[je,Ne]=Zw(L),{copied:nt,copyLoading:at,onClick:Ct}=mB({copyConfig:Ne,children:I}),[St,_t]=s.useState(!1),[ft,vt]=s.useState(!1),[$t,It]=s.useState(!1),[Ft,wt]=s.useState(!1),[pn,Bn]=s.useState(!0),[ln,Tn]=Zw(D,{expandable:!1,symbol:pr=>pr?K==null?void 0:K.collapse:K==null?void 0:K.expand}),[Kt,zt]=(0,Fs.Z)(Tn.defaultExpanded||!1,{value:Tn.expanded}),Dn=ln&&(!Kt||Tn.expandable==="collapsible"),{rows:Sn=1}=Tn,Ir=s.useMemo(()=>Dn&&(Tn.suffix!==void 0||Tn.onEllipsis||Tn.expandable||se||je),[Dn,Tn,se,je]);(0,hl.Z)(()=>{ln&&!Ir&&(_t(fw("webkitLineClamp")),vt(fw("textOverflow")))},[Ir,ln]);const[ur,Yn]=s.useState(Dn),qn=s.useMemo(()=>Ir?!1:Sn===1?ft:St,[Ir,ft,St]);(0,hl.Z)(()=>{Yn(qn&&Dn)},[qn,Dn]);const Rn=Dn&&(ur?Ft:$t),Jn=Dn&&Sn===1&&ur,zr=Dn&&Sn>1&&ur,li=(pr,Vn)=>{var ri;zt(Vn.expanded),(ri=Tn.onExpand)===null||ri===void 0||ri.call(Tn,pr,Vn)},[xi,Di]=s.useState(0),So=pr=>{let{offsetWidth:Vn}=pr;Di(Vn)},_i=pr=>{var Vn;It(pr),$t!==pr&&((Vn=Tn.onEllipsis)===null||Vn===void 0||Vn.call(Tn,pr))};s.useEffect(()=>{const pr=ee.current;if(ln&&ur&&pr){const Vn=SB(pr);Ft!==Vn&&wt(Vn)}},[ln,ur,I,zr,pn,xi]),s.useEffect(()=>{const pr=ee.current;if(typeof IntersectionObserver=="undefined"||!pr||!ur||!Dn)return;const Vn=new IntersectionObserver(()=>{Bn(!!pr.offsetParent)});return Vn.observe(pr),()=>{Vn.disconnect()}},[ur,Dn]);const ai=gB(Tn.tooltip,ue.text,I),gi=s.useMemo(()=>{if(!(!ln||ur))return[ue.text,I,Z,ai.title].find(Hw)},[ln,ur,Z,ai.title,Rn]);if(me)return s.createElement(uB,{value:(a=ue.text)!==null&&a!==void 0?a:typeof I=="string"?I:"",onSave:Be,onCancel:Re,onEnd:ue.onEnd,prefixCls:oe,className:f,style:y,direction:H,component:k,maxLength:ue.maxLength,autoSize:ue.autoSize,enterIcon:ue.enterIcon});const Gi=()=>{const{expandable:pr,symbol:Vn}=Tn;return pr?s.createElement("button",{type:"button",key:"expand",className:`${oe}-${Kt?"collapse":"expand"}`,onClick:ri=>li(ri,{expanded:!Kt}),"aria-label":Kt?K.collapse:K==null?void 0:K.expand},typeof Vn=="function"?Vn(Kt):Vn):null},Pi=()=>{if(!se)return;const{icon:pr,tooltip:Vn,tabIndex:ri}=ue,Oi=(0,Wl.Z)(Vn)[0]||(K==null?void 0:K.edit),ro=typeof Oi=="string"?Oi:"";return ye.includes("icon")?s.createElement(Du.Z,{key:"edit",title:Vn===!1?"":Oi},s.createElement("button",{type:"button",ref:ie,className:`${oe}-edit`,onClick:we,"aria-label":ro,tabIndex:ri},pr||s.createElement(X6,{role:"button"}))):null},wo=()=>je?s.createElement(wB,Object.assign({key:"copy"},Ne,{prefixCls:oe,copied:nt,locale:K,onCopy:Ct,loading:at,iconOnly:I==null})):null,dr=pr=>[pr&&Gi(),Pi(),wo()],tr=pr=>[pr&&!Kt&&s.createElement("span",{"aria-hidden":!0,key:"ellipsis"},OB),Tn.suffix,dr(pr)];return s.createElement(c.Z,{onResize:So,disabled:!Dn},pr=>s.createElement(MB,{tooltipProps:ai,enableEllipsis:Dn,isEllipsis:Rn},s.createElement(GM,Object.assign({className:Y()({[`${oe}-${C}`]:C,[`${oe}-disabled`]:w,[`${oe}-ellipsis`]:ln,[`${oe}-ellipsis-single-line`]:Jn,[`${oe}-ellipsis-multiple-line`]:zr},f),prefixCls:o,style:Object.assign(Object.assign({},y),{WebkitLineClamp:zr?Sn:void 0}),component:k,ref:(0,Gt.sQ)(pr,ee,t),direction:H,onClick:ye.includes("text")?we:void 0,"aria-label":gi==null?void 0:gi.toString(),title:Z},re),s.createElement(IB,{enableMeasure:Dn&&!ur,text:I,rows:Sn,width:xi,onEllipsis:_i,expanded:Kt,miscDeps:[nt,Kt,at,se,je,K]},(Vn,ri)=>PB(e,s.createElement(s.Fragment,null,Vn.length>0&&ri&&!Kt&&gi?s.createElement("span",{key:"show-content","aria-hidden":!0},Vn):Vn,tr(ri)))))))}),RB=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},$B=s.forwardRef((e,t)=>{var{ellipsis:a,rel:o}=e,f=RB(e,["ellipsis","rel"]);const y=Object.assign(Object.assign({},f),{rel:o===void 0&&f.target==="_blank"?"noopener noreferrer":o});return delete y.navigate,s.createElement(nC,Object.assign({},y,{ref:t,ellipsis:!!a,component:"a"}))}),AB=s.forwardRef((e,t)=>s.createElement(nC,Object.assign({ref:t},e,{component:"div"}))),DB=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const zB=(e,t)=>{var{ellipsis:a}=e,o=DB(e,["ellipsis"]);const f=s.useMemo(()=>a&&typeof a=="object"?(0,ci.Z)(a,["expandable","rows"]):a,[a]);return s.createElement(nC,Object.assign({ref:t},o,{ellipsis:f,component:"span"}))};var LB=s.forwardRef(zB),NB=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const BB=[1,2,3,4,5];var FB=s.forwardRef((e,t)=>{const{level:a=1}=e,o=NB(e,["level"]),f=BB.includes(a)?`h${a}`:"h1";return s.createElement(nC,Object.assign({ref:t},o,{component:f}))});const F_=GM;F_.Text=LB,F_.Link=$B,F_.Title=FB,F_.Paragraph=AB;var kB=F_,sd=F(63662),Td=F(57250),wv=F(90594),Xw=function(e,t){if(e&&t){var a=Array.isArray(t)?t:t.split(","),o=e.name||"",f=e.type||"",y=f.replace(/\/.*$/,"");return a.some(function(C){var w=C.trim();if(/^\*(\/\*)?$/.test(C))return!0;if(w.charAt(0)==="."){var I=o.toLowerCase(),D=w.toLowerCase(),z=[D];return(D===".jpg"||D===".jpeg")&&(z=[".jpg",".jpeg"]),z.some(function(L){return I.endsWith(L)})}return/\/\*$/.test(w)?y===w.replace(/\/.*$/,""):f===w?!0:/^\w+$/.test(w)?((0,lc.ZP)(!1,"Upload takes an invalidate 'accept' type '".concat(w,"'.Skip for check.")),!0):!1})}return!0};function jB(e,t){var a="cannot ".concat(e.method," ").concat(e.action," ").concat(t.status,"'"),o=new Error(a);return o.status=t.status,o.method=e.method,o.url=e.action,o}function qM(e){var t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch(a){return t}}function ZB(e){var t=new XMLHttpRequest;e.onProgress&&t.upload&&(t.upload.onprogress=function(y){y.total>0&&(y.percent=y.loaded/y.total*100),e.onProgress(y)});var a=new FormData;e.data&&Object.keys(e.data).forEach(function(f){var y=e.data[f];if(Array.isArray(y)){y.forEach(function(C){a.append("".concat(f,"[]"),C)});return}a.append(f,y)}),e.file instanceof Blob?a.append(e.filename,e.file,e.file.name):a.append(e.filename,e.file),t.onerror=function(y){e.onError(y)},t.onload=function(){return t.status<200||t.status>=300?e.onError(jB(e,t),qM(t)):e.onSuccess(qM(t),t)},t.open(e.method,e.action,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);var o=e.headers||{};return o["X-Requested-With"]!==null&&t.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(o).forEach(function(f){o[f]!==null&&t.setRequestHeader(f,o[f])}),t.send(a),{abort:function(){t.abort()}}}var VB=function(){var e=(0,wv.Z)((0,Td.Z)().mark(function t(a,o){var f,y,C,w,I,D,z,L;return(0,Td.Z)().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:D=function(){return D=(0,wv.Z)((0,Td.Z)().mark(function G(H){return(0,Td.Z)().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:return ee.abrupt("return",new Promise(function(ie){H.file(function(oe){o(oe)?(H.fullPath&&!oe.webkitRelativePath&&(Object.defineProperties(oe,{webkitRelativePath:{writable:!0}}),oe.webkitRelativePath=H.fullPath.replace(/^\//,""),Object.defineProperties(oe,{webkitRelativePath:{writable:!1}})),ie(oe)):ie(null)})}));case 1:case"end":return ee.stop()}},G)})),D.apply(this,arguments)},I=function(G){return D.apply(this,arguments)},w=function(){return w=(0,wv.Z)((0,Td.Z)().mark(function G(H){var K,ee,ie,oe,re;return(0,Td.Z)().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:K=H.createReader(),ee=[];case 2:return ue.next=5,new Promise(function(me){K.readEntries(me,function(){return me([])})});case 5:if(ie=ue.sent,oe=ie.length,oe){ue.next=9;break}return ue.abrupt("break",12);case 9:for(re=0;re<oe;re++)ee.push(ie[re]);ue.next=2;break;case 12:return ue.abrupt("return",ee);case 13:case"end":return ue.stop()}},G)})),w.apply(this,arguments)},C=function(G){return w.apply(this,arguments)},f=[],y=[],a.forEach(function(j){return y.push(j.webkitGetAsEntry())}),z=function(){var j=(0,wv.Z)((0,Td.Z)().mark(function G(H,K){var ee,ie;return(0,Td.Z)().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:if(H){re.next=2;break}return re.abrupt("return");case 2:if(H.path=K||"",!H.isFile){re.next=10;break}return re.next=6,I(H);case 6:ee=re.sent,ee&&f.push(ee),re.next=15;break;case 10:if(!H.isDirectory){re.next=15;break}return re.next=13,C(H);case 13:ie=re.sent,y.push.apply(y,(0,xe.Z)(ie));case 15:case"end":return re.stop()}},G)}));return function(H,K){return j.apply(this,arguments)}}(),L=0;case 9:if(!(L<y.length)){Z.next=15;break}return Z.next=12,z(y[L]);case 12:L++,Z.next=9;break;case 15:return Z.abrupt("return",f);case 16:case"end":return Z.stop()}},t)}));return function(a,o){return e.apply(this,arguments)}}(),HB=VB,UB=+new Date,WB=0;function Yw(){return"rc-upload-".concat(UB,"-").concat(++WB)}var GB=["component","prefixCls","className","classNames","disabled","id","name","style","styles","multiple","accept","capture","children","directory","openFileDialogOnClick","onMouseEnter","onMouseLeave","hasControlInside"],KB=function(e){(0,ei.Z)(a,e);var t=(0,bi.Z)(a);function a(){var o;(0,zn.Z)(this,a);for(var f=arguments.length,y=new Array(f),C=0;C<f;C++)y[C]=arguments[C];return o=t.call.apply(t,[this].concat(y)),(0,he.Z)((0,sd.Z)(o),"state",{uid:Yw()}),(0,he.Z)((0,sd.Z)(o),"reqs",{}),(0,he.Z)((0,sd.Z)(o),"fileInput",void 0),(0,he.Z)((0,sd.Z)(o),"_isMounted",void 0),(0,he.Z)((0,sd.Z)(o),"onChange",function(w){var I=o.props,D=I.accept,z=I.directory,L=w.target.files,k=(0,xe.Z)(L).filter(function(Z){return!z||Xw(Z,D)});o.uploadFiles(k),o.reset()}),(0,he.Z)((0,sd.Z)(o),"onClick",function(w){var I=o.fileInput;if(I){var D=w.target,z=o.props.onClick;if(D&&D.tagName==="BUTTON"){var L=I.parentNode;L.focus(),D.blur()}I.click(),z&&z(w)}}),(0,he.Z)((0,sd.Z)(o),"onKeyDown",function(w){w.key==="Enter"&&o.onClick(w)}),(0,he.Z)((0,sd.Z)(o),"onFileDrop",function(){var w=(0,wv.Z)((0,Td.Z)().mark(function I(D){var z,L,k;return(0,Td.Z)().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(z=o.props.multiple,D.preventDefault(),D.type!=="dragover"){j.next=4;break}return j.abrupt("return");case 4:if(!o.props.directory){j.next=11;break}return j.next=7,HB(Array.prototype.slice.call(D.dataTransfer.items),function(G){return Xw(G,o.props.accept)});case 7:L=j.sent,o.uploadFiles(L),j.next=14;break;case 11:k=(0,xe.Z)(D.dataTransfer.files).filter(function(G){return Xw(G,o.props.accept)}),z===!1&&(k=k.slice(0,1)),o.uploadFiles(k);case 14:case"end":return j.stop()}},I)}));return function(I){return w.apply(this,arguments)}}()),(0,he.Z)((0,sd.Z)(o),"uploadFiles",function(w){var I=(0,xe.Z)(w),D=I.map(function(z){return z.uid=Yw(),o.processFile(z,I)});Promise.all(D).then(function(z){var L=o.props.onBatchStart;L==null||L(z.map(function(k){var Z=k.origin,j=k.parsedFile;return{file:Z,parsedFile:j}})),z.filter(function(k){return k.parsedFile!==null}).forEach(function(k){o.post(k)})})}),(0,he.Z)((0,sd.Z)(o),"processFile",function(){var w=(0,wv.Z)((0,Td.Z)().mark(function I(D,z){var L,k,Z,j,G,H,K,ee,ie;return(0,Td.Z)().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:if(L=o.props.beforeUpload,k=D,!L){re.next=14;break}return re.prev=3,re.next=6,L(D,z);case 6:k=re.sent,re.next=12;break;case 9:re.prev=9,re.t0=re.catch(3),k=!1;case 12:if(k!==!1){re.next=14;break}return re.abrupt("return",{origin:D,parsedFile:null,action:null,data:null});case 14:if(Z=o.props.action,typeof Z!="function"){re.next=21;break}return re.next=18,Z(D);case 18:j=re.sent,re.next=22;break;case 21:j=Z;case 22:if(G=o.props.data,typeof G!="function"){re.next=29;break}return re.next=26,G(D);case 26:H=re.sent,re.next=30;break;case 29:H=G;case 30:return K=((0,Ye.Z)(k)==="object"||typeof k=="string")&&k?k:D,K instanceof File?ee=K:ee=new File([K],D.name,{type:D.type}),ie=ee,ie.uid=D.uid,re.abrupt("return",{origin:D,data:H,parsedFile:ie,action:j});case 35:case"end":return re.stop()}},I,null,[[3,9]])}));return function(I,D){return w.apply(this,arguments)}}()),(0,he.Z)((0,sd.Z)(o),"saveFileInput",function(w){o.fileInput=w}),o}return(0,dn.Z)(a,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.abort()}},{key:"post",value:function(f){var y=this,C=f.data,w=f.origin,I=f.action,D=f.parsedFile;if(this._isMounted){var z=this.props,L=z.onStart,k=z.customRequest,Z=z.name,j=z.headers,G=z.withCredentials,H=z.method,K=w.uid,ee=k||ZB,ie={action:I,filename:Z,data:C,file:D,headers:j,withCredentials:G,method:H||"post",onProgress:function(re){var se=y.props.onProgress;se==null||se(re,D)},onSuccess:function(re,se){var ue=y.props.onSuccess;ue==null||ue(re,D,se),delete y.reqs[K]},onError:function(re,se){var ue=y.props.onError;ue==null||ue(re,se,D),delete y.reqs[K]}};L(w),this.reqs[K]=ee(ie)}}},{key:"reset",value:function(){this.setState({uid:Yw()})}},{key:"abort",value:function(f){var y=this.reqs;if(f){var C=f.uid?f.uid:f;y[C]&&y[C].abort&&y[C].abort(),delete y[C]}else Object.keys(y).forEach(function(w){y[w]&&y[w].abort&&y[w].abort(),delete y[w]})}},{key:"render",value:function(){var f=this.props,y=f.component,C=f.prefixCls,w=f.className,I=f.classNames,D=I===void 0?{}:I,z=f.disabled,L=f.id,k=f.name,Z=f.style,j=f.styles,G=j===void 0?{}:j,H=f.multiple,K=f.accept,ee=f.capture,ie=f.children,oe=f.directory,re=f.openFileDialogOnClick,se=f.onMouseEnter,ue=f.onMouseLeave,me=f.hasControlInside,pe=(0,de.Z)(f,GB),ye=Y()((0,he.Z)((0,he.Z)((0,he.Z)({},C,!0),"".concat(C,"-disabled"),z),w,w)),Se=oe?{directory:"directory",webkitdirectory:"webkitdirectory"}:{},Ie=z?{}:{onClick:re?this.onClick:function(){},onKeyDown:re?this.onKeyDown:function(){},onMouseEnter:se,onMouseLeave:ue,onDrop:this.onFileDrop,onDragOver:this.onFileDrop,tabIndex:me?void 0:"0"};return s.createElement(y,(0,Ze.Z)({},Ie,{className:ye,role:me?void 0:"button",style:Z}),s.createElement("input",(0,Ze.Z)({},(0,lt.Z)(pe,{aria:!0,data:!0}),{id:L,name:k,disabled:z,type:"file",ref:this.saveFileInput,onClick:function(Be){return Be.stopPropagation()},key:this.state.uid,style:(0,X.Z)({display:"none"},G.input),className:D.input,accept:K},Se,{multiple:H,onChange:this.onChange},ee!=null?{capture:ee}:{})),ie)}}]),a}(s.Component),XB=KB;function qw(){}var JM=function(e){(0,ei.Z)(a,e);var t=(0,bi.Z)(a);function a(){var o;(0,zn.Z)(this,a);for(var f=arguments.length,y=new Array(f),C=0;C<f;C++)y[C]=arguments[C];return o=t.call.apply(t,[this].concat(y)),(0,he.Z)((0,sd.Z)(o),"uploader",void 0),(0,he.Z)((0,sd.Z)(o),"saveUploader",function(w){o.uploader=w}),o}return(0,dn.Z)(a,[{key:"abort",value:function(f){this.uploader.abort(f)}},{key:"render",value:function(){return s.createElement(XB,(0,Ze.Z)({},this.props,{ref:this.saveUploader}))}}]),a}(s.Component);(0,he.Z)(JM,"defaultProps",{component:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onStart:qw,onError:qw,onSuccess:qw,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1,openFileDialogOnClick:!0,hasControlInside:!1});var YB=JM,QM=YB,qB=e=>{const{componentCls:t,iconCls:a}=e;return{[`${t}-wrapper`]:{[`${t}-drag`]:{position:"relative",width:"100%",height:"100%",textAlign:"center",background:e.colorFillAlter,border:`${(0,fe.bf)(e.lineWidth)} dashed ${e.colorBorder}`,borderRadius:e.borderRadiusLG,cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,[t]:{padding:e.padding},[`${t}-btn`]:{display:"table",width:"100%",height:"100%",outline:"none",borderRadius:e.borderRadiusLG,"&:focus-visible":{outline:`${(0,fe.bf)(e.lineWidthFocus)} solid ${e.colorPrimaryBorder}`}},[`${t}-drag-container`]:{display:"table-cell",verticalAlign:"middle"},[`
          &:not(${t}-disabled):hover,
          &-hover:not(${t}-disabled)
        `]:{borderColor:e.colorPrimaryHover},[`p${t}-drag-icon`]:{marginBottom:e.margin,[a]:{color:e.colorPrimary,fontSize:e.uploadThumbnailSize}},[`p${t}-text`]:{margin:`0 0 ${(0,fe.bf)(e.marginXXS)}`,color:e.colorTextHeading,fontSize:e.fontSizeLG},[`p${t}-hint`]:{color:e.colorTextDescription,fontSize:e.fontSize},[`&${t}-disabled`]:{[`p${t}-drag-icon ${a},
            p${t}-text,
            p${t}-hint
          `]:{color:e.colorTextDisabled}}}}}},JB=e=>{const{componentCls:t,iconCls:a,fontSize:o,lineHeight:f,calc:y}=e,C=`${t}-list-item`,w=`${C}-actions`,I=`${C}-action`;return{[`${t}-wrapper`]:{[`${t}-list`]:Object.assign(Object.assign({},(0,Wt.dF)()),{lineHeight:e.lineHeight,[C]:{position:"relative",height:y(e.lineHeight).mul(o).equal(),marginTop:e.marginXS,fontSize:o,display:"flex",alignItems:"center",transition:`background-color ${e.motionDurationSlow}`,borderRadius:e.borderRadiusSM,"&:hover":{backgroundColor:e.controlItemBgHover},[`${C}-name`]:Object.assign(Object.assign({},Wt.vS),{padding:`0 ${(0,fe.bf)(e.paddingXS)}`,lineHeight:f,flex:"auto",transition:`all ${e.motionDurationSlow}`}),[w]:{whiteSpace:"nowrap",[I]:{opacity:0},[a]:{color:e.actionsColor,transition:`all ${e.motionDurationSlow}`},[`
              ${I}:focus-visible,
              &.picture ${I}
            `]:{opacity:1}},[`${t}-icon ${a}`]:{color:e.colorTextDescription,fontSize:o},[`${C}-progress`]:{position:"absolute",bottom:e.calc(e.uploadProgressOffset).mul(-1).equal(),width:"100%",paddingInlineStart:y(o).add(e.paddingXS).equal(),fontSize:o,lineHeight:0,pointerEvents:"none","> div":{margin:0}}},[`${C}:hover ${I}`]:{opacity:1},[`${C}-error`]:{color:e.colorError,[`${C}-name, ${t}-icon ${a}`]:{color:e.colorError},[w]:{[`${a}, ${a}:hover`]:{color:e.colorError},[I]:{opacity:1}}},[`${t}-list-item-container`]:{transition:`opacity ${e.motionDurationSlow}, height ${e.motionDurationSlow}`,"&::before":{display:"table",width:0,height:0,content:'""'}}})}}},QB=e=>{const{componentCls:t}=e,a=new fe.E4("uploadAnimateInlineIn",{from:{width:0,height:0,padding:0,opacity:0,margin:e.calc(e.marginXS).div(-2).equal()}}),o=new fe.E4("uploadAnimateInlineOut",{to:{width:0,height:0,padding:0,opacity:0,margin:e.calc(e.marginXS).div(-2).equal()}}),f=`${t}-animate-inline`;return[{[`${t}-wrapper`]:{[`${f}-appear, ${f}-enter, ${f}-leave`]:{animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseInOutCirc,animationFillMode:"forwards"},[`${f}-appear, ${f}-enter`]:{animationName:a},[`${f}-leave`]:{animationName:o}}},{[`${t}-wrapper`]:iu(e)},a,o]};const e8=e=>{const{componentCls:t,iconCls:a,uploadThumbnailSize:o,uploadProgressOffset:f,calc:y}=e,C=`${t}-list`,w=`${C}-item`;return{[`${t}-wrapper`]:{[`
        ${C}${C}-picture,
        ${C}${C}-picture-card,
        ${C}${C}-picture-circle
      `]:{[w]:{position:"relative",height:y(o).add(y(e.lineWidth).mul(2)).add(y(e.paddingXS).mul(2)).equal(),padding:e.paddingXS,border:`${(0,fe.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusLG,"&:hover":{background:"transparent"},[`${w}-thumbnail`]:Object.assign(Object.assign({},Wt.vS),{width:o,height:o,lineHeight:(0,fe.bf)(y(o).add(e.paddingSM).equal()),textAlign:"center",flex:"none",[a]:{fontSize:e.fontSizeHeading2,color:e.colorPrimary},img:{display:"block",width:"100%",height:"100%",overflow:"hidden"}}),[`${w}-progress`]:{bottom:f,width:`calc(100% - ${(0,fe.bf)(y(e.paddingSM).mul(2).equal())})`,marginTop:0,paddingInlineStart:y(o).add(e.paddingXS).equal()}},[`${w}-error`]:{borderColor:e.colorError,[`${w}-thumbnail ${a}`]:{[`svg path[fill='${Qm.iN[0]}']`]:{fill:e.colorErrorBg},[`svg path[fill='${Qm.iN.primary}']`]:{fill:e.colorError}}},[`${w}-uploading`]:{borderStyle:"dashed",[`${w}-name`]:{marginBottom:f}}},[`${C}${C}-picture-circle ${w}`]:{[`&, &::before, ${w}-thumbnail`]:{borderRadius:"50%"}}}}},t8=e=>{const{componentCls:t,iconCls:a,fontSizeLG:o,colorTextLightSolid:f,calc:y}=e,C=`${t}-list`,w=`${C}-item`,I=e.uploadPicCardSize;return{[`
      ${t}-wrapper${t}-picture-card-wrapper,
      ${t}-wrapper${t}-picture-circle-wrapper
    `]:Object.assign(Object.assign({},(0,Wt.dF)()),{display:"block",[`${t}${t}-select`]:{width:I,height:I,textAlign:"center",verticalAlign:"top",backgroundColor:e.colorFillAlter,border:`${(0,fe.bf)(e.lineWidth)} dashed ${e.colorBorder}`,borderRadius:e.borderRadiusLG,cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,[`> ${t}`]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center"},[`&:not(${t}-disabled):hover`]:{borderColor:e.colorPrimary}},[`${C}${C}-picture-card, ${C}${C}-picture-circle`]:{display:"flex",flexWrap:"wrap","@supports not (gap: 1px)":{"& > *":{marginBlockEnd:e.marginXS,marginInlineEnd:e.marginXS}},"@supports (gap: 1px)":{gap:e.marginXS},[`${C}-item-container`]:{display:"inline-block",width:I,height:I,verticalAlign:"top"},"&::after":{display:"none"},"&::before":{display:"none"},[w]:{height:"100%",margin:0,"&::before":{position:"absolute",zIndex:1,width:`calc(100% - ${(0,fe.bf)(y(e.paddingXS).mul(2).equal())})`,height:`calc(100% - ${(0,fe.bf)(y(e.paddingXS).mul(2).equal())})`,backgroundColor:e.colorBgMask,opacity:0,transition:`all ${e.motionDurationSlow}`,content:'" "'}},[`${w}:hover`]:{[`&::before, ${w}-actions`]:{opacity:1}},[`${w}-actions`]:{position:"absolute",insetInlineStart:0,zIndex:10,width:"100%",whiteSpace:"nowrap",textAlign:"center",opacity:0,transition:`all ${e.motionDurationSlow}`,[`
            ${a}-eye,
            ${a}-download,
            ${a}-delete
          `]:{zIndex:10,width:o,margin:`0 ${(0,fe.bf)(e.marginXXS)}`,fontSize:o,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,color:f,"&:hover":{color:f},svg:{verticalAlign:"baseline"}}},[`${w}-thumbnail, ${w}-thumbnail img`]:{position:"static",display:"block",width:"100%",height:"100%",objectFit:"contain"},[`${w}-name`]:{display:"none",textAlign:"center"},[`${w}-file + ${w}-name`]:{position:"absolute",bottom:e.margin,display:"block",width:`calc(100% - ${(0,fe.bf)(y(e.paddingXS).mul(2).equal())})`},[`${w}-uploading`]:{[`&${w}`]:{backgroundColor:e.colorFillAlter},[`&::before, ${a}-eye, ${a}-download, ${a}-delete`]:{display:"none"}},[`${w}-progress`]:{bottom:e.marginXL,width:`calc(100% - ${(0,fe.bf)(y(e.paddingXS).mul(2).equal())})`,paddingInlineStart:0}}}),[`${t}-wrapper${t}-picture-circle-wrapper`]:{[`${t}${t}-select`]:{borderRadius:"50%"}}}};var n8=e=>{const{componentCls:t}=e;return{[`${t}-rtl`]:{direction:"rtl"}}};const r8=e=>{const{componentCls:t,colorTextDisabled:a}=e;return{[`${t}-wrapper`]:Object.assign(Object.assign({},(0,Wt.Wf)(e)),{[t]:{outline:0,"input[type='file']":{cursor:"pointer"}},[`${t}-select`]:{display:"inline-block"},[`${t}-hidden`]:{display:"none"},[`${t}-disabled`]:{color:a,cursor:"not-allowed"}})}},i8=e=>({actionsColor:e.colorTextDescription});var o8=(0,te.I$)("Upload",e=>{const{fontSizeHeading3:t,fontHeight:a,lineWidth:o,controlHeightLG:f,calc:y}=e,C=(0,Ur.IX)(e,{uploadThumbnailSize:y(t).mul(2).equal(),uploadProgressOffset:y(y(a).div(2)).add(o).equal(),uploadPicCardSize:y(f).mul(2.55).equal()});return[r8(C),qB(C),e8(C),t8(C),JB(C),QB(C),n8(C),(0,Im.Z)(C)]},i8),a8={icon:function(t,a){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M534 352V136H232v752h560V394H576a42 42 0 01-42-42z",fill:a}},{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z",fill:t}}]}},name:"file",theme:"twotone"},s8=a8,l8=function(t,a){return s.createElement(Xt.Z,(0,Ze.Z)({},t,{ref:a,icon:s8}))},c8=s.forwardRef(l8),u8=c8,d8={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z"}}]},name:"paper-clip",theme:"outlined"},f8=d8,h8=function(t,a){return s.createElement(Xt.Z,(0,Ze.Z)({},t,{ref:a,icon:f8}))},m8=s.forwardRef(h8),p8=m8,g8={icon:function(t,a){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2z",fill:t}},{tag:"path",attrs:{d:"M424.6 765.8l-150.1-178L136 752.1V792h752v-30.4L658.1 489z",fill:a}},{tag:"path",attrs:{d:"M136 652.7l132.4-157c3.2-3.8 9-3.8 12.2 0l144 170.7L652 396.8c3.2-3.8 9-3.8 12.2 0L888 662.2V232H136v420.7zM304 280a88 88 0 110 176 88 88 0 010-176z",fill:a}},{tag:"path",attrs:{d:"M276 368a28 28 0 1056 0 28 28 0 10-56 0z",fill:a}},{tag:"path",attrs:{d:"M304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z",fill:t}}]}},name:"picture",theme:"twotone"},v8=g8,y8=function(t,a){return s.createElement(Xt.Z,(0,Ze.Z)({},t,{ref:a,icon:v8}))},_8=s.forwardRef(y8),b8=_8;function rC(e){return Object.assign(Object.assign({},e),{lastModified:e.lastModified,lastModifiedDate:e.lastModifiedDate,name:e.name,size:e.size,type:e.type,uid:e.uid,percent:0,originFileObj:e})}function iC(e,t){const a=(0,xe.Z)(t),o=a.findIndex(f=>{let{uid:y}=f;return y===e.uid});return o===-1?a.push(e):a[o]=e,a}function Jw(e,t){const a=e.uid!==void 0?"uid":"name";return t.filter(o=>o[a]===e[a])[0]}function x8(e,t){const a=e.uid!==void 0?"uid":"name",o=t.filter(f=>f[a]!==e[a]);return o.length===t.length?null:o}const C8=function(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"").split("/"),o=t[t.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(o)||[""])[0]},eT=e=>e.indexOf("image/")===0,S8=e=>{if(e.type&&!e.thumbUrl)return eT(e.type);const t=e.thumbUrl||e.url||"",a=C8(t);return/^data:image\//.test(t)||/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico|heic|heif)$/i.test(a)?!0:!(/^data:/.test(t)||a)},rp=200;function w8(e){return new Promise(t=>{if(!e.type||!eT(e.type)){t("");return}const a=document.createElement("canvas");a.width=rp,a.height=rp,a.style.cssText=`position: fixed; left: 0; top: 0; width: ${rp}px; height: ${rp}px; z-index: 9999; display: none;`,document.body.appendChild(a);const o=a.getContext("2d"),f=new Image;if(f.onload=()=>{const{width:y,height:C}=f;let w=rp,I=rp,D=0,z=0;y>C?(I=C*(rp/y),z=-(I-w)/2):(w=y*(rp/C),D=-(w-I)/2),o.drawImage(f,D,z,w,I);const L=a.toDataURL();document.body.removeChild(a),window.URL.revokeObjectURL(f.src),t(L)},f.crossOrigin="anonymous",e.type.startsWith("image/svg+xml")){const y=new FileReader;y.onload=()=>{y.result&&typeof y.result=="string"&&(f.src=y.result)},y.readAsDataURL(e)}else if(e.type.startsWith("image/gif")){const y=new FileReader;y.onload=()=>{y.result&&t(y.result)},y.readAsDataURL(e)}else f.src=window.URL.createObjectURL(e)})}var E8={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"},I8=E8,M8=function(t,a){return s.createElement(Xt.Z,(0,Ze.Z)({},t,{ref:a,icon:I8}))},T8=s.forwardRef(M8),P8=T8,O8=s.forwardRef((e,t)=>{let{prefixCls:a,className:o,style:f,locale:y,listType:C,file:w,items:I,progress:D,iconRender:z,actionIconRender:L,itemRender:k,isImgUrl:Z,showPreviewIcon:j,showRemoveIcon:G,showDownloadIcon:H,previewIcon:K,removeIcon:ee,downloadIcon:ie,extra:oe,onPreview:re,onDownload:se,onClose:ue}=e;var me,pe;const{status:ye}=w,[Se,Ie]=s.useState(ye);s.useEffect(()=>{ye!=="removed"&&Ie(ye)},[ye]);const[we,Be]=s.useState(!1);s.useEffect(()=>{const Kt=setTimeout(()=>{Be(!0)},300);return()=>{clearTimeout(Kt)}},[]);const Re=z(w);let je=s.createElement("div",{className:`${a}-icon`},Re);if(C==="picture"||C==="picture-card"||C==="picture-circle")if(Se==="uploading"||!w.thumbUrl&&!w.url){const Kt=Y()(`${a}-list-item-thumbnail`,{[`${a}-list-item-file`]:Se!=="uploading"});je=s.createElement("div",{className:Kt},Re)}else{const Kt=Z!=null&&Z(w)?s.createElement("img",{src:w.thumbUrl||w.url,alt:w.name,className:`${a}-list-item-image`,crossOrigin:w.crossOrigin}):Re,zt=Y()(`${a}-list-item-thumbnail`,{[`${a}-list-item-file`]:Z&&!Z(w)});je=s.createElement("a",{className:zt,onClick:Dn=>re(w,Dn),href:w.url||w.thumbUrl,target:"_blank",rel:"noopener noreferrer"},Kt)}const Ne=Y()(`${a}-list-item`,`${a}-list-item-${Se}`),nt=typeof w.linkProps=="string"?JSON.parse(w.linkProps):w.linkProps,at=(typeof G=="function"?G(w):G)?L((typeof ee=="function"?ee(w):ee)||s.createElement(LM,null),()=>ue(w),a,y.removeFile,!0):null,Ct=(typeof H=="function"?H(w):H)&&Se==="done"?L((typeof ie=="function"?ie(w):ie)||s.createElement(P8,null),()=>se(w),a,y.downloadFile):null,St=C!=="picture-card"&&C!=="picture-circle"&&s.createElement("span",{key:"download-delete",className:Y()(`${a}-list-item-actions`,{picture:C==="picture"})},Ct,at),_t=typeof oe=="function"?oe(w):oe,ft=_t&&s.createElement("span",{className:`${a}-list-item-extra`},_t),vt=Y()(`${a}-list-item-name`),$t=w.url?s.createElement("a",Object.assign({key:"view",target:"_blank",rel:"noopener noreferrer",className:vt,title:w.name},nt,{href:w.url,onClick:Kt=>re(w,Kt)}),w.name,ft):s.createElement("span",{key:"view",className:vt,onClick:Kt=>re(w,Kt),title:w.name},w.name,ft),It=(typeof j=="function"?j(w):j)&&(w.url||w.thumbUrl)?s.createElement("a",{href:w.url||w.thumbUrl,target:"_blank",rel:"noopener noreferrer",onClick:Kt=>re(w,Kt),title:y.previewFile},typeof K=="function"?K(w):K||s.createElement(NS,null)):null,Ft=(C==="picture-card"||C==="picture-circle")&&Se!=="uploading"&&s.createElement("span",{className:`${a}-list-item-actions`},It,Se==="done"&&Ct,at),{getPrefixCls:wt}=s.useContext(ve.E_),pn=wt(),Bn=s.createElement("div",{className:Ne},je,$t,St,Ft,we&&s.createElement(En.ZP,{motionName:`${pn}-fade`,visible:Se==="uploading",motionDeadline:2e3},Kt=>{let{className:zt}=Kt;const Dn="percent"in w?s.createElement(tw,Object.assign({},D,{type:"line",percent:w.percent,"aria-label":w["aria-label"],"aria-labelledby":w["aria-labelledby"]})):null;return s.createElement("div",{className:Y()(`${a}-list-item-progress`,zt)},Dn)})),ln=w.response&&typeof w.response=="string"?w.response:((me=w.error)===null||me===void 0?void 0:me.statusText)||((pe=w.error)===null||pe===void 0?void 0:pe.message)||y.uploadError,Tn=Se==="error"?s.createElement(Du.Z,{title:ln,getPopupContainer:Kt=>Kt.parentNode},Bn):Bn;return s.createElement("div",{className:Y()(`${a}-list-item-container`,o),style:f,ref:t},k?k(Tn,w,I,{download:se.bind(null,w),preview:re.bind(null,w),remove:ue.bind(null,w)}):Tn)});const R8=(e,t)=>{const{listType:a="text",previewFile:o=w8,onPreview:f,onDownload:y,onRemove:C,locale:w,iconRender:I,isImageUrl:D=S8,prefixCls:z,items:L=[],showPreviewIcon:k=!0,showRemoveIcon:Z=!0,showDownloadIcon:j=!1,removeIcon:G,previewIcon:H,downloadIcon:K,extra:ee,progress:ie={size:[-1,2],showInfo:!1},appendAction:oe,appendActionVisible:re=!0,itemRender:se,disabled:ue}=e,me=(0,rw.Z)(),[pe,ye]=s.useState(!1),Se=["picture-card","picture-circle"].includes(a);s.useEffect(()=>{a.startsWith("picture")&&(L||[]).forEach(ft=>{!(ft.originFileObj instanceof File||ft.originFileObj instanceof Blob)||ft.thumbUrl!==void 0||(ft.thumbUrl="",o==null||o(ft.originFileObj).then(vt=>{ft.thumbUrl=vt||"",me()}))})},[a,L,o]),s.useEffect(()=>{ye(!0)},[]);const Ie=(ft,vt)=>{if(f)return vt==null||vt.preventDefault(),f(ft)},we=ft=>{typeof y=="function"?y(ft):ft.url&&window.open(ft.url)},Be=ft=>{C==null||C(ft)},Re=ft=>{if(I)return I(ft,a);const vt=ft.status==="uploading";if(a.startsWith("picture")){const $t=a==="picture"?s.createElement(_n.Z,null):w.uploading,It=D!=null&&D(ft)?s.createElement(b8,null):s.createElement(u8,null);return vt?$t:It}return vt?s.createElement(_n.Z,null):s.createElement(p8,null)},je=(ft,vt,$t,It,Ft)=>{const wt={type:"text",size:"small",title:It,onClick:pn=>{var Bn,ln;vt(),s.isValidElement(ft)&&((ln=(Bn=ft.props).onClick)===null||ln===void 0||ln.call(Bn,pn))},className:`${$t}-list-item-action`};return Ft&&(wt.disabled=ue),s.isValidElement(ft)?s.createElement(wn,Object.assign({},wt,{icon:(0,bn.Tm)(ft,Object.assign(Object.assign({},ft.props),{onClick:()=>{}}))})):s.createElement(wn,Object.assign({},wt),s.createElement("span",null,ft))};s.useImperativeHandle(t,()=>({handlePreview:Ie,handleDownload:we}));const{getPrefixCls:Ne}=s.useContext(ve.E_),nt=Ne("upload",z),at=Ne(),Ct=Y()(`${nt}-list`,`${nt}-list-${a}`),St=s.useMemo(()=>(0,ci.Z)((0,Rr.Z)(at),["onAppearEnd","onEnterEnd","onLeaveEnd"]),[at]),_t=Object.assign(Object.assign({},Se?{}:St),{motionDeadline:2e3,motionName:`${nt}-${Se?"animate-inline":"animate"}`,keys:(0,xe.Z)(L.map(ft=>({key:ft.uid,file:ft}))),motionAppear:pe});return s.createElement("div",{className:Ct},s.createElement(En.V4,Object.assign({},_t,{component:!1}),ft=>{let{key:vt,file:$t,className:It,style:Ft}=ft;return s.createElement(O8,{key:vt,locale:w,prefixCls:nt,className:It,style:Ft,file:$t,items:L,progress:ie,listType:a,isImgUrl:D,showPreviewIcon:k,showRemoveIcon:Z,showDownloadIcon:j,removeIcon:G,previewIcon:H,downloadIcon:K,extra:ee,iconRender:Re,actionIconRender:je,itemRender:se,onPreview:Ie,onDownload:we,onClose:Be})}),oe&&s.createElement(En.ZP,Object.assign({},_t,{visible:re,forceRender:!0}),ft=>{let{className:vt,style:$t}=ft;return(0,bn.Tm)(oe,It=>({className:Y()(It.className,vt),style:Object.assign(Object.assign(Object.assign({},$t),{pointerEvents:vt?"none":void 0}),It.style)}))}))};var $8=s.forwardRef(R8),A8=function(e,t,a,o){function f(y){return y instanceof a?y:new a(function(C){C(y)})}return new(a||(a=Promise))(function(y,C){function w(z){try{D(o.next(z))}catch(L){C(L)}}function I(z){try{D(o.throw(z))}catch(L){C(L)}}function D(z){z.done?y(z.value):f(z.value).then(w,I)}D((o=o.apply(e,t||[])).next())})};const k_=`__LIST_IGNORE_${Date.now()}__`,D8=(e,t)=>{const{fileList:a,defaultFileList:o,onRemove:f,showUploadList:y=!0,listType:C="text",onPreview:w,onDownload:I,onChange:D,onDrop:z,previewFile:L,disabled:k,locale:Z,iconRender:j,isImageUrl:G,progress:H,prefixCls:K,className:ee,type:ie="select",children:oe,style:re,itemRender:se,maxCount:ue,data:me={},multiple:pe=!1,hasControlInside:ye=!0,action:Se="",accept:Ie="",supportServerRender:we=!0,rootClassName:Be}=e,Re=s.useContext(Ta.Z),je=k!=null?k:Re,[Ne,nt]=(0,Fs.Z)(o||[],{value:a,postState:dr=>dr!=null?dr:[]}),[at,Ct]=s.useState("drop"),St=s.useRef(null),_t=s.useRef(null);s.useMemo(()=>{const dr=Date.now();(a||[]).forEach((tr,pr)=>{!tr.uid&&!Object.isFrozen(tr)&&(tr.uid=`__AUTO__${dr}_${pr}__`)})},[a]);const ft=(dr,tr,pr)=>{let Vn=(0,xe.Z)(tr),ri=!1;ue===1?Vn=Vn.slice(-1):ue&&(ri=Vn.length>ue,Vn=Vn.slice(0,ue)),(0,ke.flushSync)(()=>{nt(Vn)});const Oi={file:dr,fileList:Vn};pr&&(Oi.event=pr),(!ri||dr.status==="removed"||Vn.some(ro=>ro.uid===dr.uid))&&(0,ke.flushSync)(()=>{D==null||D(Oi)})},vt=(dr,tr)=>A8(void 0,void 0,void 0,function*(){const{beforeUpload:pr,transformFile:Vn}=e;let ri=dr;if(pr){const Oi=yield pr(dr,tr);if(Oi===!1)return!1;if(delete dr[k_],Oi===k_)return Object.defineProperty(dr,k_,{value:!0,configurable:!0}),!1;typeof Oi=="object"&&Oi&&(ri=Oi)}return Vn&&(ri=yield Vn(ri)),ri}),$t=dr=>{const tr=dr.filter(ri=>!ri.file[k_]);if(!tr.length)return;const pr=tr.map(ri=>rC(ri.file));let Vn=(0,xe.Z)(Ne);pr.forEach(ri=>{Vn=iC(ri,Vn)}),pr.forEach((ri,Oi)=>{let ro=ri;if(tr[Oi].parsedFile)ri.status="uploading";else{const{originFileObj:Xo}=ri;let $a;try{$a=new File([Xo],Xo.name,{type:Xo.type})}catch(ta){$a=new Blob([Xo],{type:Xo.type}),$a.name=Xo.name,$a.lastModifiedDate=new Date,$a.lastModified=new Date().getTime()}$a.uid=ri.uid,ro=$a}ft(ro,Vn)})},It=(dr,tr,pr)=>{try{typeof dr=="string"&&(dr=JSON.parse(dr))}catch(Oi){}if(!Jw(tr,Ne))return;const Vn=rC(tr);Vn.status="done",Vn.percent=100,Vn.response=dr,Vn.xhr=pr;const ri=iC(Vn,Ne);ft(Vn,ri)},Ft=(dr,tr)=>{if(!Jw(tr,Ne))return;const pr=rC(tr);pr.status="uploading",pr.percent=dr.percent;const Vn=iC(pr,Ne);ft(pr,Vn,dr)},wt=(dr,tr,pr)=>{if(!Jw(pr,Ne))return;const Vn=rC(pr);Vn.error=dr,Vn.response=tr,Vn.status="error";const ri=iC(Vn,Ne);ft(Vn,ri)},pn=dr=>{let tr;Promise.resolve(typeof f=="function"?f(dr):f).then(pr=>{var Vn;if(pr===!1)return;const ri=x8(dr,Ne);ri&&(tr=Object.assign(Object.assign({},dr),{status:"removed"}),Ne==null||Ne.forEach(Oi=>{const ro=tr.uid!==void 0?"uid":"name";Oi[ro]===tr[ro]&&!Object.isFrozen(Oi)&&(Oi.status="removed")}),(Vn=St.current)===null||Vn===void 0||Vn.abort(tr),ft(tr,ri))})},Bn=dr=>{Ct(dr.type),dr.type==="drop"&&(z==null||z(dr))};s.useImperativeHandle(t,()=>({onBatchStart:$t,onSuccess:It,onProgress:Ft,onError:wt,fileList:Ne,upload:St.current,nativeElement:_t.current}));const{getPrefixCls:ln,direction:Tn,upload:Kt}=s.useContext(ve.E_),zt=ln("upload",K),Dn=Object.assign(Object.assign({onBatchStart:$t,onError:wt,onProgress:Ft,onSuccess:It},e),{data:me,multiple:pe,action:Se,accept:Ie,supportServerRender:we,prefixCls:zt,disabled:je,beforeUpload:vt,onChange:void 0,hasControlInside:ye});delete Dn.className,delete Dn.style,(!oe||je)&&delete Dn.id;const Sn=`${zt}-wrapper`,[Ir,ur,Yn]=o8(zt,Sn),[qn]=(0,Ao.Z)("Upload",Ac.Z.Upload),{showRemoveIcon:Rn,showPreviewIcon:Jn,showDownloadIcon:zr,removeIcon:li,previewIcon:xi,downloadIcon:Di,extra:So}=typeof y=="boolean"?{}:y,_i=typeof Rn=="undefined"?!je:Rn,ai=(dr,tr)=>y?s.createElement($8,{prefixCls:zt,listType:C,items:Ne,previewFile:L,onPreview:w,onDownload:I,onRemove:pn,showRemoveIcon:_i,showPreviewIcon:Jn,showDownloadIcon:zr,removeIcon:li,previewIcon:xi,downloadIcon:Di,iconRender:j,extra:So,locale:Object.assign(Object.assign({},qn),Z),isImageUrl:G,progress:H,appendAction:dr,appendActionVisible:tr,itemRender:se,disabled:je}):dr,gi=Y()(Sn,ee,Be,ur,Yn,Kt==null?void 0:Kt.className,{[`${zt}-rtl`]:Tn==="rtl",[`${zt}-picture-card-wrapper`]:C==="picture-card",[`${zt}-picture-circle-wrapper`]:C==="picture-circle"}),Gi=Object.assign(Object.assign({},Kt==null?void 0:Kt.style),re);if(ie==="drag"){const dr=Y()(ur,zt,`${zt}-drag`,{[`${zt}-drag-uploading`]:Ne.some(tr=>tr.status==="uploading"),[`${zt}-drag-hover`]:at==="dragover",[`${zt}-disabled`]:je,[`${zt}-rtl`]:Tn==="rtl"});return Ir(s.createElement("span",{className:gi,ref:_t},s.createElement("div",{className:dr,style:Gi,onDrop:Bn,onDragOver:Bn,onDragLeave:Bn},s.createElement(QM,Object.assign({},Dn,{ref:St,className:`${zt}-btn`}),s.createElement("div",{className:`${zt}-drag-container`},oe))),ai()))}const Pi=Y()(zt,`${zt}-select`,{[`${zt}-disabled`]:je,[`${zt}-hidden`]:!oe}),wo=s.createElement("div",{className:Pi},s.createElement(QM,Object.assign({},Dn,{ref:St})));return Ir(C==="picture-card"||C==="picture-circle"?s.createElement("span",{className:gi,ref:_t},ai(wo,!!oe)):s.createElement("span",{className:gi,ref:_t},wo,ai()))};var tT=s.forwardRef(D8),z8=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},L8=s.forwardRef((e,t)=>{var{style:a,height:o,hasControlInside:f=!1}=e,y=z8(e,["style","height","hasControlInside"]);return s.createElement(tT,Object.assign({ref:t,hasControlInside:f},y,{type:"drag",style:Object.assign(Object.assign({},a),{height:o})}))});const Qw=tT;Qw.Dragger=L8,Qw.LIST_IGNORE=k_;var N8=Qw,B8=F(41424),rj=function(e){(0,ei.Z)(a,e);var t=(0,bi.Z)(a);function a(){return(0,zn.Z)(this,a),t.apply(this,arguments)}return(0,dn.Z)(a,[{key:"render",value:function(){return this.props.children}}]),a}(s.Component),ij=null,F8={subtree:!0,childList:!0,attributeFilter:["style","class"]};function k8(e,t){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:F8;s.useEffect(function(){if(!(!(0,cc.Z)()||!e)){var o,f=Array.isArray(e)?e:[e];return"MutationObserver"in window&&(o=new MutationObserver(t),f.forEach(function(y){o.observe(y,a)})),function(){var y,C;(y=o)===null||y===void 0||y.takeRecords(),(C=o)===null||C===void 0||C.disconnect()}}},[a,e])}var oj=function(t){var a=t.children,o=t.options,f=t.onMutate,y=f===void 0?function(){}:f,C=useEvent(y),w=React.useRef(null),I=React.useRef(null),D=React.isValidElement(a)&&supportRef(a),z=useComposeRef(I,D?a.ref:null),L=React.useState(null),k=_slicedToArray(L,2),Z=k[0],j=k[1];return useMutateObserver(Z,C,o),useLayoutEffect(function(){j(findDOMNode(I.current)||findDOMNode(w.current))}),a?React.createElement(DomWrapper,{ref:w},D?React.cloneElement(a,{ref:z}):a):null},aj=null,sj=null;const nT=3;function e2(e,t){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;const o=document.createElement("canvas"),f=o.getContext("2d"),y=e*a,C=t*a;return o.setAttribute("width",`${y}px`),o.setAttribute("height",`${C}px`),f.save(),[f,o,y,C]}function j8(){function e(t,a,o,f,y,C,w,I){const[D,z,L,k]=e2(f,y,o);if(t instanceof HTMLImageElement)D.drawImage(t,0,0,L,k);else{const{color:St,fontSize:_t,fontStyle:ft,fontWeight:vt,fontFamily:$t,textAlign:It}=C,Ft=Number(_t)*o;D.font=`${ft} normal ${vt} ${Ft}px/${y}px ${$t}`,D.fillStyle=St,D.textAlign=It,D.textBaseline="top";const wt=$x(t);wt==null||wt.forEach((pn,Bn)=>{D.fillText(pn!=null?pn:"",L/2,Bn*(Ft+nT*o))})}const Z=Math.PI/180*Number(a),j=Math.max(f,y),[G,H,K]=e2(j,j,o);G.translate(K/2,K/2),G.rotate(Z),L>0&&k>0&&G.drawImage(z,-L/2,-k/2);function ee(St,_t){const ft=St*Math.cos(Z)-_t*Math.sin(Z),vt=St*Math.sin(Z)+_t*Math.cos(Z);return[ft,vt]}let ie=0,oe=0,re=0,se=0;const ue=L/2,me=k/2;[[0-ue,0-me],[0+ue,0-me],[0+ue,0+me],[0-ue,0+me]].forEach(St=>{let[_t,ft]=St;const[vt,$t]=ee(_t,ft);ie=Math.min(ie,vt),oe=Math.max(oe,vt),re=Math.min(re,$t),se=Math.max(se,$t)});const ye=ie+K/2,Se=re+K/2,Ie=oe-ie,we=se-re,Be=w*o,Re=I*o,je=(Ie+Be)*2,Ne=we+Re,[nt,at]=e2(je,Ne);function Ct(){let St=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,_t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;nt.drawImage(H,ye,Se,Ie,we,St,_t,Ie,we)}return Ct(),Ct(Ie+Be,-we/2-Re/2),Ct(Ie+Be,+we/2+Re/2),[at.toDataURL(),je/o,Ne/o]}return e}function Z8(e){const t=s.useRef(!1),a=s.useRef(null),o=(0,fr.Z)(e);return()=>{t.current||(t.current=!0,o(),a.current=(0,We.Z)(()=>{t.current=!1}))}}function V8(){const e=s.useRef([null,null]);return(a,o)=>{const f=a.map(y=>y instanceof HTMLElement||isNaN(y)?"":y);return(0,Ol.Z)(e.current[0],f)||(e.current=[f,o()]),e.current[1]}}function H8(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}function U8(e){return Object.keys(e).map(t=>`${H8(t)}: ${e[t]};`).join(" ")}function W8(){return window.devicePixelRatio||1}const G8=(e,t)=>{let a=!1;return e.removedNodes.length&&(a=Array.from(e.removedNodes).some(o=>t(o))),e.type==="attributes"&&t(e.target)&&(a=!0),a},lj=2,cj=3,K8={visibility:"visible !important"};function X8(e){const t=s.useRef(new Map);return[(y,C,w)=>{if(w){if(!t.current.get(w)){const D=document.createElement("div");t.current.set(w,D)}const I=t.current.get(w);I.setAttribute("style",U8(Object.assign(Object.assign(Object.assign({},e),{backgroundImage:`url('${y}')`,backgroundSize:`${Math.floor(C)}px`}),K8))),I.removeAttribute("class"),I.removeAttribute("hidden"),I.parentElement!==w&&w.append(I)}return t.current.get(w)},y=>{const C=t.current.get(y);C&&y&&y.removeChild(C),t.current.delete(y)},y=>Array.from(t.current.values()).includes(y)]}function rT(e,t){return e.size===t.size?e:t}const iT=100,oT=100,aT={position:"relative",overflow:"hidden"};var Y8=e=>{var t,a;const{zIndex:o=9,rotate:f=-22,width:y,height:C,image:w,content:I,font:D={},style:z,className:L,rootClassName:k,gap:Z=[iT,oT],offset:j,children:G,inherit:H=!0}=e,K=Object.assign(Object.assign({},aT),z),[,ee]=(0,ea.ZP)(),{color:ie=ee.colorFill,fontSize:oe=ee.fontSizeLG,fontWeight:re="normal",fontStyle:se="normal",fontFamily:ue="sans-serif",textAlign:me="center"}=D,[pe=iT,ye=oT]=Z,Se=pe/2,Ie=ye/2,we=(t=j==null?void 0:j[0])!==null&&t!==void 0?t:Se,Be=(a=j==null?void 0:j[1])!==null&&a!==void 0?a:Ie,Re=s.useMemo(()=>{const zt={zIndex:o,position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:"none",backgroundRepeat:"repeat"};let Dn=we-Se,Sn=Be-Ie;return Dn>0&&(zt.left=`${Dn}px`,zt.width=`calc(100% - ${Dn}px)`,Dn=0),Sn>0&&(zt.top=`${Sn}px`,zt.height=`calc(100% - ${Sn}px)`,Sn=0),zt.backgroundPosition=`${Dn}px ${Sn}px`,zt},[o,we,Se,Be,Ie]),[je,Ne]=s.useState(),[nt,at]=s.useState(new Set),Ct=s.useMemo(()=>{const zt=je?[je]:[];return[].concat(zt,(0,xe.Z)(Array.from(nt)))},[je,nt]),St=zt=>{let Dn=120,Sn=64;if(!w&&zt.measureText){zt.font=`${Number(oe)}px ${ue}`;const Ir=$x(I),ur=Ir.map(Yn=>{const qn=zt.measureText(Yn);return[qn.width,qn.fontBoundingBoxAscent+qn.fontBoundingBoxDescent]});Dn=Math.ceil(Math.max.apply(Math,(0,xe.Z)(ur.map(Yn=>Yn[0])))),Sn=Math.ceil(Math.max.apply(Math,(0,xe.Z)(ur.map(Yn=>Yn[1]))))*Ir.length+(Ir.length-1)*nT}return[y!=null?y:Dn,C!=null?C:Sn]},_t=j8(),ft=V8(),[vt,$t]=s.useState(null),Ft=Z8(()=>{const Dn=document.createElement("canvas").getContext("2d");if(Dn){const Sn=W8(),[Ir,ur]=St(Dn),Yn=qn=>{const Rn=[qn||"",f,Sn,Ir,ur,{color:ie,fontSize:oe,fontStyle:se,fontWeight:re,fontFamily:ue,textAlign:me},pe,ye],Jn=ft(Rn,()=>_t.apply(void 0,Rn)),[zr,li]=Jn;$t([zr,li])};if(w){const qn=new Image;qn.onload=()=>{Yn(qn)},qn.onerror=()=>{Yn(I)},qn.crossOrigin="anonymous",qn.referrerPolicy="no-referrer",qn.src=w}else Yn(I)}}),[wt,pn,Bn]=X8(Re);(0,s.useEffect)(()=>{vt&&Ct.forEach(zt=>{wt(vt[0],vt[1],zt)})},[vt,Ct]);const ln=(0,fr.Z)(zt=>{zt.forEach(Dn=>{if(G8(Dn,Bn))Ft();else if(Dn.target===je&&Dn.attributeName==="style"){const Sn=Object.keys(aT);for(let Ir=0;Ir<Sn.length;Ir+=1){const ur=Sn[Ir],Yn=K[ur],qn=je.style[ur];Yn&&Yn!==qn&&(je.style[ur]=Yn)}}})});k8(Ct,ln),(0,s.useEffect)(Ft,[f,o,y,C,w,I,ie,oe,re,se,ue,me,pe,ye,we,Be]);const Tn=s.useMemo(()=>({add:zt=>{at(Dn=>{const Sn=new Set(Dn);return Sn.add(zt),rT(Dn,Sn)})},remove:zt=>{pn(zt),at(Dn=>{const Sn=new Set(Dn);return Sn.delete(zt),rT(Dn,Sn)})}}),[]),Kt=H?s.createElement(os.Provider,{value:Tn},G):G;return s.createElement("div",{ref:Ne,className:Y()(L,k),style:K},Kt)};const q8=(0,s.forwardRef)((e,t)=>{const{prefixCls:a,className:o,children:f,size:y,style:C={}}=e,w=Y()(`${a}-panel`,{[`${a}-panel-hidden`]:y===0},o),I=y!==void 0;return s.createElement("div",{ref:t,className:w,style:Object.assign(Object.assign({},C),{flexBasis:I?y:"auto",flexGrow:I?0:1})},f)});var J8=()=>null,Q8=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};function eF(e){if(e&&typeof e=="object")return e;const t=!!e;return{start:t,end:t}}function tF(e){return s.useMemo(()=>(0,Wl.Z)(e).filter(s.isValidElement).map(a=>{const{props:o}=a,{collapsible:f}=o,y=Q8(o,["collapsible"]);return Object.assign(Object.assign({},y),{collapsible:eF(f)})}),[e])}function nF(e,t,a){return s.useMemo(()=>{const o=[];for(let f=0;f<e.length-1;f+=1){const y=e[f],C=e[f+1],w=t[f],I=t[f+1],{resizable:D=!0,min:z,collapsible:L}=y,{resizable:k=!0,min:Z,collapsible:j}=C,G=D&&k&&(w!==0||!z)&&(I!==0||!Z),H=L.end&&w>0||j.start&&I===0&&w>0,K=j.start&&I>0||L.end&&w===0&&I>0;o[f]={resizable:G,startCollapsible:!!(a?K:H),endCollapsible:!!(a?H:K)}}return o},[t,e])}function oC(e){return Number(e.slice(0,-1))/100}function t2(e){return typeof e=="string"&&e.endsWith("%")}function rF(e,t){const a=e.map(j=>j.size),o=e.length,f=t||0,y=j=>j*f,[C,w]=s.useState(()=>e.map(j=>j.defaultSize)),I=s.useMemo(()=>{var j;const G=[];for(let H=0;H<o;H+=1)G[H]=(j=a[H])!==null&&j!==void 0?j:C[H];return G},[o,C,a]),D=s.useMemo(()=>{let j=[],G=0;for(let K=0;K<o;K+=1){const ee=I[K];if(t2(ee))j[K]=oC(ee);else if(ee||ee===0){const ie=Number(ee);Number.isNaN(ie)||(j[K]=ie/f)}else G+=1,j[K]=void 0}const H=j.reduce((K,ee)=>K+(ee||0),0);if(H>1||!G){const K=1/H;j=j.map(ee=>ee===void 0?0:ee*K)}else{const K=(1-H)/G;j=j.map(ee=>ee===void 0?K:ee)}return j},[I,f]),z=s.useMemo(()=>D.map(y),[D,f]),L=s.useMemo(()=>e.map(j=>t2(j.min)?oC(j.min):(j.min||0)/f),[e,f]),k=s.useMemo(()=>e.map(j=>t2(j.max)?oC(j.max):(j.max||f)/f),[e,f]);return[s.useMemo(()=>t?z:I,[z,t]),z,D,L,k,w]}function iF(e,t,a,o,f,y){const C=e.map(oe=>[oe.min,oe.max]),w=o||0,I=oe=>oe*w;function D(oe,re){return typeof oe=="string"?I(oC(oe)):oe!=null?oe:re}const[z,L]=s.useState([]),k=s.useRef([]),[Z,j]=s.useState(null),G=()=>a.map(I);return[oe=>{L(G()),j({index:oe,confirmed:!1})},(oe,re)=>{var se;let ue=null;if((!Z||!Z.confirmed)&&re!==0){if(re>0)ue=oe,j({index:oe,confirmed:!0});else for(let je=oe;je>=0;je-=1)if(z[je]>0&&t[je].resizable){ue=je,j({index:je,confirmed:!0});break}}const me=(se=ue!=null?ue:Z==null?void 0:Z.index)!==null&&se!==void 0?se:oe,pe=(0,xe.Z)(z),ye=me+1,Se=D(C[me][0],0),Ie=D(C[ye][0],0),we=D(C[me][1],w),Be=D(C[ye][1],w);let Re=re;return pe[me]+Re<Se&&(Re=Se-pe[me]),pe[ye]-Re<Ie&&(Re=pe[ye]-Ie),pe[me]+Re>we&&(Re=we-pe[me]),pe[ye]-Re>Be&&(Re=pe[ye]-Be),pe[me]+=Re,pe[ye]-=Re,f(pe),pe},()=>{j(null)},(oe,re)=>{const se=G(),ue=y?re==="start"?"end":"start":re,me=ue==="start"?oe:oe+1,pe=ue==="start"?oe+1:oe,ye=se[me],Se=se[pe];if(ye!==0&&Se!==0)se[me]=0,se[pe]+=ye,k.current[oe]=ye;else{const Ie=ye+Se,we=D(C[me][0],0),Be=D(C[me][1],w),Re=D(C[pe][0],0),je=D(C[pe][1],w),Ne=Math.max(we,Ie-je),at=(Math.min(Be,Ie-Re)-Ne)/2,Ct=k.current[oe],St=Ie-Ct;Ct&&Ct<=je&&Ct>=Re&&St<=Be&&St>=we?(se[pe]=Ct,se[me]=St):(se[me]-=at,se[pe]+=at)}return f(se),se},Z==null?void 0:Z.index]}var oF=F(84896);function n2(e){return typeof e=="number"&&!Number.isNaN(e)?Math.round(e):0}var aF=e=>{const{prefixCls:t,vertical:a,index:o,active:f,ariaNow:y,ariaMin:C,ariaMax:w,resizable:I,startCollapsible:D,endCollapsible:z,onOffsetStart:L,onOffsetUpdate:k,onOffsetEnd:Z,onCollapse:j,lazy:G,containerSize:H}=e,K=`${t}-bar`,[ee,ie]=(0,s.useState)(null),[oe,re]=(0,s.useState)(0),se=a?0:oe,ue=a?oe:0,me=je=>{I&&je.currentTarget&&(ie([je.pageX,je.pageY]),L(o))},pe=je=>{if(I&&je.touches.length===1){const Ne=je.touches[0];ie([Ne.pageX,Ne.pageY]),L(o)}},ye=je=>{const Ne=H*y/100,nt=Ne+je,at=Math.max(0,H*C/100),Ct=Math.min(H,H*w/100);return Math.max(at,Math.min(Ct,nt))-Ne},Se=(0,fr.Z)((je,Ne)=>{const nt=ye(a?Ne:je);re(nt)}),Ie=(0,fr.Z)(()=>{k(o,se,ue),re(0)});s.useEffect(()=>{if(ee){const je=Ct=>{const{pageX:St,pageY:_t}=Ct,ft=St-ee[0],vt=_t-ee[1];G?Se(ft,vt):k(o,ft,vt)},Ne=()=>{G&&Ie(),ie(null),Z()},nt=Ct=>{if(Ct.touches.length===1){const St=Ct.touches[0],_t=St.pageX-ee[0],ft=St.pageY-ee[1];G?Se(_t,ft):k(o,_t,ft)}},at=()=>{G&&Ie(),ie(null),Z()};return window.addEventListener("touchmove",nt),window.addEventListener("touchend",at),window.addEventListener("mousemove",je),window.addEventListener("mouseup",Ne),()=>{window.removeEventListener("mousemove",je),window.removeEventListener("mouseup",Ne),window.removeEventListener("touchmove",nt),window.removeEventListener("touchend",at)}}},[ee,G,a,o,H,y,C,w]);const we={[`--${K}-preview-offset`]:`${oe}px`},Be=a?oF.Z:Qc,Re=a?$u.Z:yu.Z;return s.createElement("div",{className:K,role:"separator","aria-valuenow":n2(y),"aria-valuemin":n2(C),"aria-valuemax":n2(w)},G&&s.createElement("div",{className:Y()(`${K}-preview`,{[`${K}-preview-active`]:!!oe}),style:we}),s.createElement("div",{className:Y()(`${K}-dragger`,{[`${K}-dragger-disabled`]:!I,[`${K}-dragger-active`]:f}),onMouseDown:me,onTouchStart:pe}),D&&s.createElement("div",{className:Y()(`${K}-collapse-bar`,`${K}-collapse-bar-start`),onClick:()=>j(o,"start")},s.createElement(Be,{className:Y()(`${K}-collapse-icon`,`${K}-collapse-start`)})),z&&s.createElement("div",{className:Y()(`${K}-collapse-bar`,`${K}-collapse-bar-end`),onClick:()=>j(o,"end")},s.createElement(Re,{className:Y()(`${K}-collapse-icon`,`${K}-collapse-end`)})))};const sF=e=>{const{componentCls:t}=e;return{[`&-rtl${t}-horizontal`]:{[`> ${t}-bar`]:{[`${t}-bar-collapse-previous`]:{insetInlineEnd:0,insetInlineStart:"unset"},[`${t}-bar-collapse-next`]:{insetInlineEnd:"unset",insetInlineStart:0}}},[`&-rtl${t}-vertical`]:{[`> ${t}-bar`]:{[`${t}-bar-collapse-previous`]:{insetInlineEnd:"50%",insetInlineStart:"unset"},[`${t}-bar-collapse-next`]:{insetInlineEnd:"50%",insetInlineStart:"unset"}}}}},aC={position:"absolute",top:"50%",left:{_skip_check_:!0,value:"50%"},transform:"translate(-50%, -50%)"},lF=e=>{const{componentCls:t,colorFill:a,splitBarDraggableSize:o,splitBarSize:f,splitTriggerSize:y,controlItemBgHover:C,controlItemBgActive:w,controlItemBgActiveHover:I,prefixCls:D}=e,z=`${t}-bar`,L=`${t}-mask`,k=`${t}-panel`,Z=e.calc(y).div(2).equal(),j=`${D}-bar-preview-offset`,G={position:"absolute",background:e.colorPrimary,opacity:.2,pointerEvents:"none",transition:"none",zIndex:1,display:"none"};return{[t]:Object.assign(Object.assign(Object.assign({},(0,Wt.Wf)(e)),{display:"flex",width:"100%",height:"100%",alignItems:"stretch",[`> ${z}`]:{flex:"none",position:"relative",userSelect:"none",[`${z}-dragger`]:Object.assign(Object.assign({},aC),{zIndex:1,"&::before":Object.assign({content:'""',background:C},aC),"&::after":Object.assign({content:'""',background:a},aC),[`&:hover:not(${z}-dragger-active)`]:{"&::before":{background:w}},"&-active":{zIndex:2,"&::before":{background:I}},[`&-disabled${z}-dragger`]:{zIndex:0,"&, &:hover, &-active":{cursor:"default","&::before":{background:C}},"&::after":{display:"none"}}}),[`${z}-collapse-bar`]:Object.assign(Object.assign({},aC),{zIndex:e.zIndexPopupBase,background:C,fontSize:e.fontSizeSM,borderRadius:e.borderRadiusXS,color:e.colorText,cursor:"pointer",opacity:0,display:"flex",alignItems:"center",justifyContent:"center","&:hover":{background:w},"&:active":{background:I}}),"&:hover, &:active":{[`${z}-collapse-bar`]:{opacity:1}}},[L]:{position:"fixed",zIndex:e.zIndexPopupBase,inset:0,"&-horizontal":{cursor:"col-resize"},"&-vertical":{cursor:"row-resize"}},"&-horizontal":{flexDirection:"row",[`> ${z}`]:{width:0,[`${z}-preview`]:Object.assign(Object.assign({height:"100%",width:f},G),{[`&${z}-preview-active`]:{display:"block",transform:`translateX(var(--${j}))`}}),[`${z}-dragger`]:{cursor:"col-resize",height:"100%",width:y,"&::before":{height:"100%",width:f},"&::after":{height:o,width:f}},[`${z}-collapse-bar`]:{width:e.fontSizeSM,height:e.controlHeightSM,"&-start":{left:{_skip_check_:!0,value:"auto"},right:{_skip_check_:!0,value:Z},transform:"translateY(-50%)"},"&-end":{left:{_skip_check_:!0,value:Z},right:{_skip_check_:!0,value:"auto"},transform:"translateY(-50%)"}}}},"&-vertical":{flexDirection:"column",[`> ${z}`]:{height:0,[`${z}-preview`]:Object.assign(Object.assign({height:f,width:"100%"},G),{[`&${z}-preview-active`]:{display:"block",transform:`translateY(var(--${j}))`}}),[`${z}-dragger`]:{cursor:"row-resize",width:"100%",height:y,"&::before":{width:"100%",height:f},"&::after":{width:o,height:f}},[`${z}-collapse-bar`]:{height:e.fontSizeSM,width:e.controlHeightSM,"&-start":{top:"auto",bottom:Z,transform:"translateX(-50%)"},"&-end":{top:Z,bottom:"auto",transform:"translateX(-50%)"}}}},[k]:{overflow:"auto",padding:"0 1px",scrollbarWidth:"thin",boxSizing:"border-box","&-hidden":{padding:0,overflow:"hidden"},[`&:has(${t}:only-child)`]:{overflow:"hidden"}}}),sF(e))}},cF=e=>{var t;const a=e.splitBarSize||2,o=e.splitTriggerSize||6,f=e.resizeSpinnerSize||20,y=(t=e.splitBarDraggableSize)!==null&&t!==void 0?t:f;return{splitBarSize:a,splitTriggerSize:o,splitBarDraggableSize:y,resizeSpinnerSize:f}};var uF=(0,te.I$)("Splitter",e=>[lF(e)],cF),dF=e=>{const{prefixCls:t,className:a,style:o,layout:f="horizontal",children:y,rootClassName:C,onResizeStart:w,onResize:I,onResizeEnd:D,lazy:z}=e,{getPrefixCls:L,direction:k,className:Z,style:j}=(0,ve.dj)("splitter"),G=L("splitter",t),H=(0,Fn.Z)(G),[K,ee,ie]=uF(G,H),oe=f==="vertical",re=k==="rtl",se=!oe&&re,ue=tF(y),[me,pe]=(0,s.useState)(),ye=ln=>{const{offsetWidth:Tn,offsetHeight:Kt}=ln,zt=oe?Kt:Tn;zt!==0&&pe(zt)},[Se,Ie,we,Be,Re,je]=rF(ue,me),Ne=nF(ue,Ie,re),[nt,at,Ct,St,_t]=iF(ue,Ne,we,me,je,re),ft=(0,fr.Z)(ln=>{nt(ln),w==null||w(Ie)}),vt=(0,fr.Z)((ln,Tn)=>{const Kt=at(ln,Tn);I==null||I(Kt)}),$t=(0,fr.Z)(()=>{Ct(),D==null||D(Ie)}),It=(0,fr.Z)((ln,Tn)=>{const Kt=St(ln,Tn);I==null||I(Kt),D==null||D(Kt)}),Ft=Y()(G,a,`${G}-${f}`,{[`${G}-rtl`]:re},C,Z,ie,H,ee),wt=`${G}-mask`,pn=s.useMemo(()=>{const ln=[];let Tn=0;for(let Kt=0;Kt<ue.length;Kt+=1)Tn+=we[Kt],ln.push(Tn);return ln},[we]),Bn=Object.assign(Object.assign({},j),o);return K(s.createElement(c.Z,{onResize:ye},s.createElement("div",{style:Bn,className:Ft},ue.map((ln,Tn)=>{const Kt=s.createElement(q8,Object.assign({},ln,{prefixCls:G,size:Se[Tn]}));let zt=null;const Dn=Ne[Tn];if(Dn){const Sn=(pn[Tn-1]||0)+Be[Tn],Ir=(pn[Tn+1]||100)-Re[Tn+1],ur=(pn[Tn-1]||0)+Re[Tn],Yn=(pn[Tn+1]||100)-Be[Tn+1];zt=s.createElement(aF,{lazy:z,index:Tn,active:_t===Tn,prefixCls:G,vertical:oe,resizable:Dn.resizable,ariaNow:pn[Tn]*100,ariaMin:Math.max(Sn,Ir)*100,ariaMax:Math.min(ur,Yn)*100,startCollapsible:Dn.startCollapsible,endCollapsible:Dn.endCollapsible,onOffsetStart:ft,onOffsetUpdate:(qn,Rn,Jn)=>{let zr=oe?Jn:Rn;se&&(zr=-zr),vt(qn,zr)},onOffsetEnd:$t,onCollapse:It,containerSize:me||0})}return s.createElement(s.Fragment,{key:`split-panel-${Tn}`},Kt,zt)}),typeof _t=="number"&&s.createElement("div",{"aria-hidden":!0,className:Y()(wt,`${wt}-${f}`)}))))};const sT=dF;sT.Panel=J8;var fF=sT},33839:function(Zr,jt,F){"use strict";F.d(jt,{Z:function(){return eo}});var s=F(75271),ot=F(13143),Y=F(84896),c=F(82187),xe=F.n(c),We=F(23022),Fe=F(38926),Me=F(5147),ve=F(89692),te=F(58190),Ke=F(59295),$e=F(45985);function He(){return typeof BigInt=="function"}function qe(en){return!en&&en!==0&&!Number.isNaN(en)||!String(en).trim()}function dt(en){var Mn=en.trim(),Qn=Mn.startsWith("-");Qn&&(Mn=Mn.slice(1)),Mn=Mn.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,""),Mn.startsWith(".")&&(Mn="0".concat(Mn));var Dr=Mn||"0",ui=Dr.split("."),oi=ui[0]||"0",Xi=ui[1]||"0";oi==="0"&&Xi==="0"&&(Qn=!1);var Ji=Qn?"-":"";return{negative:Qn,negativeStr:Ji,trimStr:Dr,integerStr:oi,decimalStr:Xi,fullStr:"".concat(Ji).concat(Dr)}}function Je(en){var Mn=String(en);return!Number.isNaN(Number(Mn))&&Mn.includes("e")}function ht(en){var Mn=String(en);if(Je(en)){var Qn=Number(Mn.slice(Mn.indexOf("e-")+2)),Dr=Mn.match(/\.(\d+)/);return Dr!=null&&Dr[1]&&(Qn+=Dr[1].length),Qn}return Mn.includes(".")&&Ue(Mn)?Mn.length-Mn.indexOf(".")-1:0}function bt(en){var Mn=String(en);if(Je(en)){if(en>Number.MAX_SAFE_INTEGER)return String(He()?BigInt(en).toString():Number.MAX_SAFE_INTEGER);if(en<Number.MIN_SAFE_INTEGER)return String(He()?BigInt(en).toString():Number.MIN_SAFE_INTEGER);Mn=en.toFixed(ht(Mn))}return dt(Mn).fullStr}function Ue(en){return typeof en=="number"?!Number.isNaN(en):en?/^\s*-?\d+(\.\d+)?\s*$/.test(en)||/^\s*-?\d+\.\s*$/.test(en)||/^\s*-?\.\d+\s*$/.test(en):!1}var kt=function(){function en(Mn){if((0,Ke.Z)(this,en),(0,Fe.Z)(this,"origin",""),(0,Fe.Z)(this,"negative",void 0),(0,Fe.Z)(this,"integer",void 0),(0,Fe.Z)(this,"decimal",void 0),(0,Fe.Z)(this,"decimalLen",void 0),(0,Fe.Z)(this,"empty",void 0),(0,Fe.Z)(this,"nan",void 0),qe(Mn)){this.empty=!0;return}if(this.origin=String(Mn),Mn==="-"||Number.isNaN(Mn)){this.nan=!0;return}var Qn=Mn;if(Je(Qn)&&(Qn=Number(Qn)),Qn=typeof Qn=="string"?Qn:bt(Qn),Ue(Qn)){var Dr=dt(Qn);this.negative=Dr.negative;var ui=Dr.trimStr.split(".");this.integer=BigInt(ui[0]);var oi=ui[1]||"0";this.decimal=BigInt(oi),this.decimalLen=oi.length}else this.nan=!0}return(0,$e.Z)(en,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(Qn){var Dr="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(Qn,"0"));return BigInt(Dr)}},{key:"negate",value:function(){var Qn=new en(this.toString());return Qn.negative=!Qn.negative,Qn}},{key:"cal",value:function(Qn,Dr,ui){var oi=Math.max(this.getDecimalStr().length,Qn.getDecimalStr().length),Xi=this.alignDecimal(oi),Ji=Qn.alignDecimal(oi),Ro=Dr(Xi,Ji).toString(),xo=ui(oi),io=dt(Ro),Oe=io.negativeStr,de=io.trimStr,X="".concat(Oe).concat(de.padStart(xo+1,"0"));return new en("".concat(X.slice(0,-xo),".").concat(X.slice(-xo)))}},{key:"add",value:function(Qn){if(this.isInvalidate())return new en(Qn);var Dr=new en(Qn);return Dr.isInvalidate()?this:this.cal(Dr,function(ui,oi){return ui+oi},function(ui){return ui})}},{key:"multi",value:function(Qn){var Dr=new en(Qn);return this.isInvalidate()||Dr.isInvalidate()?new en(NaN):this.cal(Dr,function(ui,oi){return ui*oi},function(ui){return ui*2})}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(Qn){return this.toString()===(Qn==null?void 0:Qn.toString())}},{key:"lessEquals",value:function(Qn){return this.add(Qn.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var Qn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return Qn?this.isInvalidate()?"":dt("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),en}(),yt=function(){function en(Mn){if((0,Ke.Z)(this,en),(0,Fe.Z)(this,"origin",""),(0,Fe.Z)(this,"number",void 0),(0,Fe.Z)(this,"empty",void 0),qe(Mn)){this.empty=!0;return}this.origin=String(Mn),this.number=Number(Mn)}return(0,$e.Z)(en,[{key:"negate",value:function(){return new en(-this.toNumber())}},{key:"add",value:function(Qn){if(this.isInvalidate())return new en(Qn);var Dr=Number(Qn);if(Number.isNaN(Dr))return this;var ui=this.number+Dr;if(ui>Number.MAX_SAFE_INTEGER)return new en(Number.MAX_SAFE_INTEGER);if(ui<Number.MIN_SAFE_INTEGER)return new en(Number.MIN_SAFE_INTEGER);var oi=Math.max(ht(this.number),ht(Dr));return new en(ui.toFixed(oi))}},{key:"multi",value:function(Qn){var Dr=Number(Qn);if(this.isInvalidate()||Number.isNaN(Dr))return new en(NaN);var ui=this.number*Dr;if(ui>Number.MAX_SAFE_INTEGER)return new en(Number.MAX_SAFE_INTEGER);if(ui<Number.MIN_SAFE_INTEGER)return new en(Number.MIN_SAFE_INTEGER);var oi=Math.max(ht(this.number),ht(Dr));return new en(ui.toFixed(oi))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(Qn){return this.toNumber()===(Qn==null?void 0:Qn.toNumber())}},{key:"lessEquals",value:function(Qn){return this.add(Qn.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var Qn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return Qn?this.isInvalidate()?"":bt(this.number):this.origin}}]),en}();function Et(en){return He()?new kt(en):new yt(en)}function Vt(en,Mn,Qn){var Dr=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(en==="")return"";var ui=dt(en),oi=ui.negativeStr,Xi=ui.integerStr,Ji=ui.decimalStr,Ro="".concat(Mn).concat(Ji),xo="".concat(oi).concat(Xi);if(Qn>=0){var io=Number(Ji[Qn]);if(io>=5&&!Dr){var Oe=Et(en).add("".concat(oi,"0.").concat("0".repeat(Qn)).concat(10-io));return Vt(Oe.toString(),Mn,Qn,Dr)}return Qn===0?xo:"".concat(xo).concat(Mn).concat(Ji.padEnd(Qn,"0").slice(0,Qn))}return Ro===".0"?xo:"".concat(xo).concat(Ro)}var Lt=Et,hr=F(44885),er=F(92076);function Hn(en,Mn){return typeof Proxy!="undefined"&&en?new Proxy(en,{get:function(Dr,ui){if(Mn[ui])return Mn[ui];var oi=Dr[ui];return typeof oi=="function"?oi.bind(Dr):oi}}):en}var Ze=F(42684),Nt=F(4449);function sn(en,Mn){var Qn=(0,s.useRef)(null);function Dr(){try{var oi=en.selectionStart,Xi=en.selectionEnd,Ji=en.value,Ro=Ji.substring(0,oi),xo=Ji.substring(Xi);Qn.current={start:oi,end:Xi,value:Ji,beforeTxt:Ro,afterTxt:xo}}catch(io){}}function ui(){if(en&&Qn.current&&Mn)try{var oi=en.value,Xi=Qn.current,Ji=Xi.beforeTxt,Ro=Xi.afterTxt,xo=Xi.start,io=oi.length;if(oi.startsWith(Ji))io=Ji.length;else if(oi.endsWith(Ro))io=oi.length-Qn.current.afterTxt.length;else{var Oe=Ji[xo-1],de=oi.indexOf(Oe,xo-1);de!==-1&&(io=de+1)}en.setSelectionRange(io,io)}catch(X){(0,Nt.ZP)(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(X.message))}}return[Dr,ui]}var Xt=F(21611),Le=function(){var Mn=(0,s.useState)(!1),Qn=(0,ve.Z)(Mn,2),Dr=Qn[0],ui=Qn[1];return(0,er.Z)(function(){ui((0,Xt.Z)())},[]),Dr},$n=Le,cn=F(49975),En=200,lt=600;function Gt(en){var Mn=en.prefixCls,Qn=en.upNode,Dr=en.downNode,ui=en.upDisabled,oi=en.downDisabled,Xi=en.onStep,Ji=s.useRef(),Ro=s.useRef([]),xo=s.useRef();xo.current=Xi;var io=function(){clearTimeout(Ji.current)},Oe=function(Tt,nn){Tt.preventDefault(),io(),xo.current(nn);function vn(){xo.current(nn),Ji.current=setTimeout(vn,En)}Ji.current=setTimeout(vn,lt)};s.useEffect(function(){return function(){io(),Ro.current.forEach(function(tn){return cn.Z.cancel(tn)})}},[]);var de=$n();if(de)return null;var X="".concat(Mn,"-handler"),ke=xe()(X,"".concat(X,"-up"),(0,Fe.Z)({},"".concat(X,"-up-disabled"),ui)),he=xe()(X,"".concat(X,"-down"),(0,Fe.Z)({},"".concat(X,"-down-disabled"),oi)),Ye=function(){return Ro.current.push((0,cn.Z)(io))},et={unselectable:"on",role:"button",onMouseUp:Ye,onMouseLeave:Ye};return s.createElement("div",{className:"".concat(X,"-wrap")},s.createElement("span",(0,We.Z)({},et,{onMouseDown:function(Tt){Oe(Tt,!0)},"aria-label":"Increase Value","aria-disabled":ui,className:ke}),Qn||s.createElement("span",{unselectable:"on",className:"".concat(Mn,"-handler-up-inner")})),s.createElement("span",(0,We.Z)({},et,{onMouseDown:function(Tt){Oe(Tt,!1)},"aria-label":"Decrease Value","aria-disabled":oi,className:he}),Dr||s.createElement("span",{unselectable:"on",className:"".concat(Mn,"-handler-down-inner")})))}function bn(en){var Mn=typeof en=="number"?bt(en):dt(en).fullStr,Qn=Mn.includes(".");return Qn?dt(Mn.replace(/(\d)\.(\d)/g,"$1$2.")).fullStr:en+"0"}var fe=F(68677),Wt=function(){var en=(0,s.useRef)(0),Mn=function(){cn.Z.cancel(en.current)};return(0,s.useEffect)(function(){return Mn},[]),function(Qn){Mn(),en.current=(0,cn.Z)(function(){Qn()})}},hi=["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","changeOnWheel","controls","classNames","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep","changeOnBlur","domRef"],Jr=["disabled","style","prefixCls","value","prefix","suffix","addonBefore","addonAfter","className","classNames"],Te=function(Mn,Qn){return Mn||Qn.isEmpty()?Qn.toString():Qn.toNumber()},Pn=function(Mn){var Qn=Lt(Mn);return Qn.isInvalidate()?null:Qn},Lr=s.forwardRef(function(en,Mn){var Qn=en.prefixCls,Dr=en.className,ui=en.style,oi=en.min,Xi=en.max,Ji=en.step,Ro=Ji===void 0?1:Ji,xo=en.defaultValue,io=en.value,Oe=en.disabled,de=en.readOnly,X=en.upHandler,ke=en.downHandler,he=en.keyboard,Ye=en.changeOnWheel,et=Ye===void 0?!1:Ye,tn=en.controls,Tt=tn===void 0?!0:tn,nn=en.classNames,vn=en.stringMode,Xe=en.parser,Mt=en.formatter,Ht=en.precision,Qt=en.decimalSeparator,ct=en.onChange,rt=en.onInput,xn=en.onPressEnter,yn=en.onStep,Zn=en.changeOnBlur,_r=Zn===void 0?!0:Zn,ir=en.domRef,Or=(0,te.Z)(en,hi),Qr="".concat(Qn,"-input"),ii=s.useRef(null),Ui=s.useState(!1),mt=(0,ve.Z)(Ui,2),_n=mt[0],Ut=mt[1],An=s.useRef(!1),or=s.useRef(!1),qr=s.useRef(!1),Mi=s.useState(function(){return Lt(io!=null?io:xo)}),fo=(0,ve.Z)(Mi,2),$i=fo[0],Qi=fo[1];function co(_e){io===void 0&&Qi(_e)}var Ni=s.useCallback(function(_e,Ve){if(!Ve)return Ht>=0?Ht:Math.max(ht(_e),ht(Ro))},[Ht,Ro]),Io=s.useCallback(function(_e){var Ve=String(_e);if(Xe)return Xe(Ve);var ze=Ve;return Qt&&(ze=ze.replace(Qt,".")),ze.replace(/[^\w.-]+/g,"")},[Xe,Qt]),Wo=s.useRef(""),$o=s.useCallback(function(_e,Ve){if(Mt)return Mt(_e,{userTyping:Ve,input:String(Wo.current)});var ze=typeof _e=="number"?bt(_e):_e;if(!Ve){var At=Ni(ze,Ve);if(Ue(ze)&&(Qt||At>=0)){var an=Qt||".";ze=Vt(ze,an,At)}}return ze},[Mt,Ni,Qt]),vo=s.useState(function(){var _e=xo!=null?xo:io;return $i.isInvalidate()&&["string","number"].includes((0,Me.Z)(_e))?Number.isNaN(_e)?"":_e:$o($i.toString(),!1)}),Oo=(0,ve.Z)(vo,2),zo=Oo[0],Jo=Oo[1];Wo.current=zo;function to(_e,Ve){Jo($o(_e.isInvalidate()?_e.toString(!1):_e.toString(!Ve),Ve))}var Co=s.useMemo(function(){return Pn(Xi)},[Xi,Ht]),mo=s.useMemo(function(){return Pn(oi)},[oi,Ht]),so=s.useMemo(function(){return!Co||!$i||$i.isInvalidate()?!1:Co.lessEquals($i)},[Co,$i]),Fi=s.useMemo(function(){return!mo||!$i||$i.isInvalidate()?!1:$i.lessEquals(mo)},[mo,$i]),Qo=sn(ii.current,_n),Rr=(0,ve.Z)(Qo,2),Ao=Rr[0],ea=Rr[1],Na=function(Ve){return Co&&!Ve.lessEquals(Co)?Co:mo&&!mo.lessEquals(Ve)?mo:null},ci=function(Ve){return!Na(Ve)},oa=function(Ve,ze){var At=Ve,an=ci(At)||At.isEmpty();if(!At.isEmpty()&&!ze&&(At=Na(At)||At,an=!0),!de&&!Oe&&an){var Kn=At.toString(),Cr=Ni(Kn,ze);return Cr>=0&&(At=Lt(Vt(Kn,".",Cr)),ci(At)||(At=Lt(Vt(Kn,".",Cr,!0)))),At.equals($i)||(co(At),ct==null||ct(At.isEmpty()?null:Te(vn,At)),io===void 0&&to(At,ze)),At}return $i},Ta=Wt(),Br=function _e(Ve){if(Ao(),Wo.current=Ve,Jo(Ve),!or.current){var ze=Io(Ve),At=Lt(ze);At.isNaN()||oa(At,!0)}rt==null||rt(Ve),Ta(function(){var an=Ve;Xe||(an=Ve.replace(/。/g,".")),an!==Ve&&_e(an)})},oo=function(){or.current=!0},No=function(){or.current=!1,Br(ii.current.value)},Yo=function(Ve){Br(Ve.target.value)},uo=function(Ve){var ze;if(!(Ve&&so||!Ve&&Fi)){An.current=!1;var At=Lt(qr.current?bn(Ro):Ro);Ve||(At=At.negate());var an=($i||Lt(0)).add(At.toString()),Kn=oa(an,!1);yn==null||yn(Te(vn,Kn),{offset:qr.current?bn(Ro):Ro,type:Ve?"up":"down"}),(ze=ii.current)===null||ze===void 0||ze.focus()}},Ri=function(Ve){var ze=Lt(Io(zo)),At;ze.isNaN()?At=oa($i,Ve):At=oa(ze,Ve),io!==void 0?to($i,!1):At.isNaN()||to(At,!1)},fa=function(){An.current=!0},ko=function(Ve){var ze=Ve.key,At=Ve.shiftKey;An.current=!0,qr.current=At,ze==="Enter"&&(or.current||(An.current=!1),Ri(!1),xn==null||xn(Ve)),he!==!1&&!or.current&&["Up","ArrowUp","Down","ArrowDown"].includes(ze)&&(uo(ze==="Up"||ze==="ArrowUp"),Ve.preventDefault())},rn=function(){An.current=!1,qr.current=!1};s.useEffect(function(){if(et&&_n){var _e=function(At){uo(At.deltaY<0),At.preventDefault()},Ve=ii.current;if(Ve)return Ve.addEventListener("wheel",_e,{passive:!1}),function(){return Ve.removeEventListener("wheel",_e)}}});var Ge=function(){_r&&Ri(!1),Ut(!1),An.current=!1};return(0,er.o)(function(){$i.isInvalidate()||to($i,!1)},[Ht,Mt]),(0,er.o)(function(){var _e=Lt(io);Qi(_e);var Ve=Lt(Io(zo));(!_e.equals(Ve)||!An.current||Mt)&&to(_e,An.current)},[io]),(0,er.o)(function(){Mt&&ea()},[zo]),s.createElement("div",{ref:ir,className:xe()(Qn,Dr,(0,Fe.Z)((0,Fe.Z)((0,Fe.Z)((0,Fe.Z)((0,Fe.Z)({},"".concat(Qn,"-focused"),_n),"".concat(Qn,"-disabled"),Oe),"".concat(Qn,"-readonly"),de),"".concat(Qn,"-not-a-number"),$i.isNaN()),"".concat(Qn,"-out-of-range"),!$i.isInvalidate()&&!ci($i))),style:ui,onFocus:function(){Ut(!0)},onBlur:Ge,onKeyDown:ko,onKeyUp:rn,onCompositionStart:oo,onCompositionEnd:No,onBeforeInput:fa},Tt&&s.createElement(Gt,{prefixCls:Qn,upNode:X,downNode:ke,upDisabled:so,downDisabled:Fi,onStep:uo}),s.createElement("div",{className:"".concat(Qr,"-wrap")},s.createElement("input",(0,We.Z)({autoComplete:"off",role:"spinbutton","aria-valuemin":oi,"aria-valuemax":Xi,"aria-valuenow":$i.isInvalidate()?null:$i.toString(),step:Ro},Or,{ref:(0,Ze.sQ)(ii,Mn),className:Qr,value:zo,onChange:Yo,disabled:Oe,readOnly:de}))))}),kr=s.forwardRef(function(en,Mn){var Qn=en.disabled,Dr=en.style,ui=en.prefixCls,oi=ui===void 0?"rc-input-number":ui,Xi=en.value,Ji=en.prefix,Ro=en.suffix,xo=en.addonBefore,io=en.addonAfter,Oe=en.className,de=en.classNames,X=(0,te.Z)(en,Jr),ke=s.useRef(null),he=s.useRef(null),Ye=s.useRef(null),et=function(Tt){Ye.current&&(0,fe.nH)(Ye.current,Tt)};return s.useImperativeHandle(Mn,function(){return Hn(Ye.current,{focus:et,nativeElement:ke.current.nativeElement||he.current})}),s.createElement(hr.Q,{className:Oe,triggerFocus:et,prefixCls:oi,value:Xi,disabled:Qn,style:Dr,prefix:Ji,suffix:Ro,addonAfter:io,addonBefore:xo,classNames:de,components:{affixWrapper:"div",groupWrapper:"div",wrapper:"div",groupAddon:"div"},ref:ke},s.createElement(Lr,(0,We.Z)({prefixCls:oi,disabled:Qn,ref:Ye,domRef:he,className:de==null?void 0:de.input},X)))}),In=kr,Nr=In,vi=F(78018),sr=F(94773),it=F(98446),Ot=F(62639),zn=F(98472),dn=F(38437),fn=F(95741),xr=F(60824),Un=F(7038),Xr=F(23137),ei=F(55921),Wr=F(43452),ti=F(21571),gr=F(57616),mr=F(34299),fr=F(9288),wr=F(84825),vr=F(83509),jr=F(84432);const Xn=en=>{var Mn;const Qn=(Mn=en.handleVisible)!==null&&Mn!==void 0?Mn:"auto",Dr=en.controlHeightSM-en.lineWidth*2;return Object.assign(Object.assign({},(0,ti.T)(en)),{controlWidth:90,handleWidth:Dr,handleFontSize:en.fontSize/2,handleVisible:Qn,handleActiveBg:en.colorFillAlter,handleBg:en.colorBgContainer,filledHandleBg:new jr.t(en.colorFillSecondary).onBackground(en.colorBgContainer).toHexString(),handleHoverColor:en.colorPrimary,handleBorderColor:en.colorBorder,handleOpacity:Qn===!0?1:0,handleVisibleWidth:Qn===!0?Dr:0})},lr=(en,Mn)=>{let{componentCls:Qn,borderRadiusSM:Dr,borderRadiusLG:ui}=en;const oi=Mn==="lg"?ui:Dr;return{[`&-${Mn}`]:{[`${Qn}-handler-wrap`]:{borderStartEndRadius:oi,borderEndEndRadius:oi},[`${Qn}-handler-up`]:{borderStartEndRadius:oi},[`${Qn}-handler-down`]:{borderEndEndRadius:oi}}}},Yr=en=>{const{componentCls:Mn,lineWidth:Qn,lineType:Dr,borderRadius:ui,inputFontSizeSM:oi,inputFontSizeLG:Xi,controlHeightLG:Ji,controlHeightSM:Ro,colorError:xo,paddingInlineSM:io,paddingBlockSM:Oe,paddingBlockLG:de,paddingInlineLG:X,colorTextDescription:ke,motionDurationMid:he,handleHoverColor:Ye,handleOpacity:et,paddingInline:tn,paddingBlock:Tt,handleBg:nn,handleActiveBg:vn,colorTextDisabled:Xe,borderRadiusSM:Mt,borderRadiusLG:Ht,controlWidth:Qt,handleBorderColor:ct,filledHandleBg:rt,lineHeightLG:xn,calc:yn}=en;return[{[Mn]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,mr.Wf)(en)),(0,Wr.ik)(en)),{display:"inline-block",width:Qt,margin:0,padding:0,borderRadius:ui}),(0,gr.qG)(en,{[`${Mn}-handler-wrap`]:{background:nn,[`${Mn}-handler-down`]:{borderBlockStart:`${(0,ei.bf)(Qn)} ${Dr} ${ct}`}}})),(0,gr.H8)(en,{[`${Mn}-handler-wrap`]:{background:rt,[`${Mn}-handler-down`]:{borderBlockStart:`${(0,ei.bf)(Qn)} ${Dr} ${ct}`}},"&:focus-within":{[`${Mn}-handler-wrap`]:{background:nn}}})),(0,gr.vc)(en,{[`${Mn}-handler-wrap`]:{background:nn,[`${Mn}-handler-down`]:{borderBlockStart:`${(0,ei.bf)(Qn)} ${Dr} ${ct}`}}})),(0,gr.Mu)(en)),{"&-rtl":{direction:"rtl",[`${Mn}-input`]:{direction:"rtl"}},"&-lg":{padding:0,fontSize:Xi,lineHeight:xn,borderRadius:Ht,[`input${Mn}-input`]:{height:yn(Ji).sub(yn(Qn).mul(2)).equal(),padding:`${(0,ei.bf)(de)} ${(0,ei.bf)(X)}`}},"&-sm":{padding:0,fontSize:oi,borderRadius:Mt,[`input${Mn}-input`]:{height:yn(Ro).sub(yn(Qn).mul(2)).equal(),padding:`${(0,ei.bf)(Oe)} ${(0,ei.bf)(io)}`}},"&-out-of-range":{[`${Mn}-input-wrap`]:{input:{color:xo}}},"&-group":Object.assign(Object.assign(Object.assign({},(0,mr.Wf)(en)),(0,Wr.s7)(en)),{"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",textAlign:"start",verticalAlign:"top",[`${Mn}-affix-wrapper`]:{width:"100%"},"&-lg":{[`${Mn}-group-addon`]:{borderRadius:Ht,fontSize:en.fontSizeLG}},"&-sm":{[`${Mn}-group-addon`]:{borderRadius:Mt}}},(0,gr.ir)(en)),(0,gr.S5)(en)),{[`&:not(${Mn}-compact-first-item):not(${Mn}-compact-last-item)${Mn}-compact-item`]:{[`${Mn}, ${Mn}-group-addon`]:{borderRadius:0}},[`&:not(${Mn}-compact-last-item)${Mn}-compact-first-item`]:{[`${Mn}, ${Mn}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${Mn}-compact-first-item)${Mn}-compact-last-item`]:{[`${Mn}, ${Mn}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}}})}),[`&-disabled ${Mn}-input`]:{cursor:"not-allowed"},[Mn]:{"&-input":Object.assign(Object.assign(Object.assign(Object.assign({},(0,mr.Wf)(en)),{width:"100%",padding:`${(0,ei.bf)(Tt)} ${(0,ei.bf)(tn)}`,textAlign:"start",backgroundColor:"transparent",border:0,borderRadius:ui,outline:0,transition:`all ${he} linear`,appearance:"textfield",fontSize:"inherit"}),(0,Wr.nz)(en.colorTextPlaceholder)),{'&[type="number"]::-webkit-inner-spin-button, &[type="number"]::-webkit-outer-spin-button':{margin:0,webkitAppearance:"none",appearance:"none"}})},[`&:hover ${Mn}-handler-wrap, &-focused ${Mn}-handler-wrap`]:{width:en.handleWidth,opacity:1}})},{[Mn]:Object.assign(Object.assign(Object.assign({[`${Mn}-handler-wrap`]:{position:"absolute",insetBlockStart:0,insetInlineEnd:0,width:en.handleVisibleWidth,opacity:et,height:"100%",borderStartStartRadius:0,borderStartEndRadius:ui,borderEndEndRadius:ui,borderEndStartRadius:0,display:"flex",flexDirection:"column",alignItems:"stretch",transition:`all ${he}`,overflow:"hidden",[`${Mn}-handler`]:{display:"flex",alignItems:"center",justifyContent:"center",flex:"auto",height:"40%",[`
              ${Mn}-handler-up-inner,
              ${Mn}-handler-down-inner
            `]:{marginInlineEnd:0,fontSize:en.handleFontSize}}},[`${Mn}-handler`]:{height:"50%",overflow:"hidden",color:ke,fontWeight:"bold",lineHeight:0,textAlign:"center",cursor:"pointer",borderInlineStart:`${(0,ei.bf)(Qn)} ${Dr} ${ct}`,transition:`all ${he} linear`,"&:active":{background:vn},"&:hover":{height:"60%",[`
              ${Mn}-handler-up-inner,
              ${Mn}-handler-down-inner
            `]:{color:Ye}},"&-up-inner, &-down-inner":Object.assign(Object.assign({},(0,mr.Ro)()),{color:ke,transition:`all ${he} linear`,userSelect:"none"})},[`${Mn}-handler-up`]:{borderStartEndRadius:ui},[`${Mn}-handler-down`]:{borderEndEndRadius:ui}},lr(en,"lg")),lr(en,"sm")),{"&-disabled, &-readonly":{[`${Mn}-handler-wrap`]:{display:"none"},[`${Mn}-input`]:{color:"inherit"}},[`
          ${Mn}-handler-up-disabled,
          ${Mn}-handler-down-disabled
        `]:{cursor:"not-allowed"},[`
          ${Mn}-handler-up-disabled:hover &-handler-up-inner,
          ${Mn}-handler-down-disabled:hover &-handler-down-inner
        `]:{color:Xe}})}]},Fn=en=>{const{componentCls:Mn,paddingBlock:Qn,paddingInline:Dr,inputAffixPadding:ui,controlWidth:oi,borderRadiusLG:Xi,borderRadiusSM:Ji,paddingInlineLG:Ro,paddingInlineSM:xo,paddingBlockLG:io,paddingBlockSM:Oe,motionDurationMid:de}=en;return{[`${Mn}-affix-wrapper`]:Object.assign(Object.assign({[`input${Mn}-input`]:{padding:`${(0,ei.bf)(Qn)} 0`}},(0,Wr.ik)(en)),{position:"relative",display:"inline-flex",alignItems:"center",width:oi,padding:0,paddingInlineStart:Dr,"&-lg":{borderRadius:Xi,paddingInlineStart:Ro,[`input${Mn}-input`]:{padding:`${(0,ei.bf)(io)} 0`}},"&-sm":{borderRadius:Ji,paddingInlineStart:xo,[`input${Mn}-input`]:{padding:`${(0,ei.bf)(Oe)} 0`}},[`&:not(${Mn}-disabled):hover`]:{zIndex:1},"&-focused, &:focus":{zIndex:1},[`&-disabled > ${Mn}-disabled`]:{background:"transparent"},[`> div${Mn}`]:{width:"100%",border:"none",outline:"none",[`&${Mn}-focused`]:{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[`${Mn}-handler-wrap`]:{zIndex:2},[Mn]:{position:"static",color:"inherit","&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center",pointerEvents:"none"},"&-prefix":{marginInlineEnd:ui},"&-suffix":{insetBlockStart:0,insetInlineEnd:0,height:"100%",marginInlineEnd:Dr,marginInlineStart:ui,transition:`margin ${de}`}},[`&:hover ${Mn}-handler-wrap, &-focused ${Mn}-handler-wrap`]:{width:en.handleWidth,opacity:1},[`&:not(${Mn}-affix-wrapper-without-controls):hover ${Mn}-suffix`]:{marginInlineEnd:en.calc(en.handleWidth).add(Dr).equal()}})}};var Si=(0,wr.I$)("InputNumber",en=>{const Mn=(0,vr.IX)(en,(0,ti.e)(en));return[Yr(Mn),Fn(Mn),(0,fr.c)(Mn)]},Xn,{unitless:{handleOpacity:!0}}),mi=function(en,Mn){var Qn={};for(var Dr in en)Object.prototype.hasOwnProperty.call(en,Dr)&&Mn.indexOf(Dr)<0&&(Qn[Dr]=en[Dr]);if(en!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ui=0,Dr=Object.getOwnPropertySymbols(en);ui<Dr.length;ui++)Mn.indexOf(Dr[ui])<0&&Object.prototype.propertyIsEnumerable.call(en,Dr[ui])&&(Qn[Dr[ui]]=en[Dr[ui]]);return Qn};const Hi=s.forwardRef((en,Mn)=>{const{getPrefixCls:Qn,direction:Dr}=s.useContext(it.E_),ui=s.useRef(null);s.useImperativeHandle(Mn,()=>ui.current);const{className:oi,rootClassName:Xi,size:Ji,disabled:Ro,prefixCls:xo,addonBefore:io,addonAfter:Oe,prefix:de,suffix:X,bordered:ke,readOnly:he,status:Ye,controls:et,variant:tn}=en,Tt=mi(en,["className","rootClassName","size","disabled","prefixCls","addonBefore","addonAfter","prefix","suffix","bordered","readOnly","status","controls","variant"]),nn=Qn("input-number",xo),vn=(0,dn.Z)(nn),[Xe,Mt,Ht]=Si(nn,vn),{compactSize:Qt,compactItemClassnames:ct}=(0,Xr.ri)(nn,Dr);let rt=s.createElement(Y.Z,{className:`${nn}-handler-up-inner`}),xn=s.createElement(ot.Z,{className:`${nn}-handler-down-inner`});const yn=typeof et=="boolean"?et:void 0;typeof et=="object"&&(rt=typeof et.upIcon=="undefined"?rt:s.createElement("span",{className:`${nn}-handler-up-inner`},et.upIcon),xn=typeof et.downIcon=="undefined"?xn:s.createElement("span",{className:`${nn}-handler-down-inner`},et.downIcon));const{hasFeedback:Zn,status:_r,isFormItemInput:ir,feedbackIcon:Or}=s.useContext(xr.aM),Qr=(0,sr.F)(_r,Ye),ii=(0,fn.Z)(fo=>{var $i;return($i=Ji!=null?Ji:Qt)!==null&&$i!==void 0?$i:fo}),Ui=s.useContext(zn.Z),mt=Ro!=null?Ro:Ui,[_n,Ut]=(0,Un.Z)("inputNumber",tn,ke),An=Zn&&s.createElement(s.Fragment,null,Or),or=xe()({[`${nn}-lg`]:ii==="large",[`${nn}-sm`]:ii==="small",[`${nn}-rtl`]:Dr==="rtl",[`${nn}-in-form-item`]:ir},Mt),qr=`${nn}-group`,Mi=s.createElement(Nr,Object.assign({ref:ui,disabled:mt,className:xe()(Ht,vn,oi,Xi,ct),upHandler:rt,downHandler:xn,prefixCls:nn,readOnly:he,controls:yn,prefix:de,suffix:An||X,addonBefore:io&&s.createElement(vi.Z,{form:!0,space:!0},io),addonAfter:Oe&&s.createElement(vi.Z,{form:!0,space:!0},Oe),classNames:{input:or,variant:xe()({[`${nn}-${_n}`]:Ut},(0,sr.Z)(nn,Qr,Zn)),affixWrapper:xe()({[`${nn}-affix-wrapper-sm`]:ii==="small",[`${nn}-affix-wrapper-lg`]:ii==="large",[`${nn}-affix-wrapper-rtl`]:Dr==="rtl",[`${nn}-affix-wrapper-without-controls`]:et===!1},Mt),wrapper:xe()({[`${qr}-rtl`]:Dr==="rtl"},Mt),groupWrapper:xe()({[`${nn}-group-wrapper-sm`]:ii==="small",[`${nn}-group-wrapper-lg`]:ii==="large",[`${nn}-group-wrapper-rtl`]:Dr==="rtl",[`${nn}-group-wrapper-${_n}`]:Ut},(0,sr.Z)(`${nn}-group-wrapper`,Qr,Zn),Mt)}},Tt));return Xe(Mi)}),ho=Hi,Ur=en=>s.createElement(Ot.ZP,{theme:{components:{InputNumber:{handleVisible:!0}}}},s.createElement(Hi,Object.assign({},en)));ho._InternalPanelDoNotUseOrYouWillBeFired=Ur;var eo=ho},58793:function(Zr,jt,F){"use strict";F.d(jt,{Z:function(){return yt}});var s=F(75271),ot=F(82187),Y=F.n(ot),c=F(44885),xe=F(42684),We=F(78018),Fe=F(93473),Me=F(94773),ve=F(98446),te=F(98472),Ke=F(38437),$e=F(95741),He=F(60824),qe=F(7038),dt=F(23137),Je=F(81391),ht=F(43452);function bt(Et){return!!(Et.prefix||Et.suffix||Et.allowClear||Et.showCount)}var Ue=function(Et,Vt){var Lt={};for(var hr in Et)Object.prototype.hasOwnProperty.call(Et,hr)&&Vt.indexOf(hr)<0&&(Lt[hr]=Et[hr]);if(Et!=null&&typeof Object.getOwnPropertySymbols=="function")for(var er=0,hr=Object.getOwnPropertySymbols(Et);er<hr.length;er++)Vt.indexOf(hr[er])<0&&Object.prototype.propertyIsEnumerable.call(Et,hr[er])&&(Lt[hr[er]]=Et[hr[er]]);return Lt},yt=(0,s.forwardRef)((Et,Vt)=>{const{prefixCls:Lt,bordered:hr=!0,status:er,size:Hn,disabled:Ze,onBlur:Nt,onFocus:sn,suffix:Xt,allowClear:Le,addonAfter:$n,addonBefore:cn,className:En,style:lt,styles:Gt,rootClassName:bn,onChange:fe,classNames:Wt,variant:hi}=Et,Jr=Ue(Et,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","style","styles","rootClassName","onChange","classNames","variant"]),{getPrefixCls:Te,direction:Pn,allowClear:Lr,autoComplete:kr,className:In,style:Nr,classNames:vi,styles:sr}=(0,ve.dj)("input"),it=Te("input",Lt),Ot=(0,s.useRef)(null),zn=(0,Ke.Z)(it),[dn,fn,xr]=(0,ht.TI)(it,bn),[Un]=(0,ht.ZP)(it,zn),{compactSize:Xr,compactItemClassnames:ei}=(0,dt.ri)(it,Pn),Wr=(0,$e.Z)(eo=>{var en;return(en=Hn!=null?Hn:Xr)!==null&&en!==void 0?en:eo}),ti=s.useContext(te.Z),gr=Ze!=null?Ze:ti,{status:mr,hasFeedback:fr,feedbackIcon:wr}=(0,s.useContext)(He.aM),vr=(0,Me.F)(mr,er),jr=bt(Et)||!!fr,Xn=(0,s.useRef)(jr),lr=(0,Je.Z)(Ot,!0),Yr=eo=>{lr(),Nt==null||Nt(eo)},Fn=eo=>{lr(),sn==null||sn(eo)},Si=eo=>{lr(),fe==null||fe(eo)},mi=(fr||Xt)&&s.createElement(s.Fragment,null,Xt,fr&&wr),Hi=(0,Fe.Z)(Le!=null?Le:Lr),[ho,Ur]=(0,qe.Z)("input",hi,hr);return dn(Un(s.createElement(c.Z,Object.assign({ref:(0,xe.sQ)(Vt,Ot),prefixCls:it,autoComplete:kr},Jr,{disabled:gr,onBlur:Yr,onFocus:Fn,style:Object.assign(Object.assign({},Nr),lt),styles:Object.assign(Object.assign({},sr),Gt),suffix:mi,allowClear:Hi,className:Y()(En,bn,xr,zn,ei,In),onChange:Si,addonBefore:cn&&s.createElement(We.Z,{form:!0,space:!0},cn),addonAfter:$n&&s.createElement(We.Z,{form:!0,space:!0},$n),classNames:Object.assign(Object.assign(Object.assign({},Wt),vi),{input:Y()({[`${it}-sm`]:Wr==="small",[`${it}-lg`]:Wr==="large",[`${it}-rtl`]:Pn==="rtl"},Wt==null?void 0:Wt.input,vi.input,fn),variant:Y()({[`${it}-${ho}`]:Ur},(0,Me.Z)(it,vr)),affixWrapper:Y()({[`${it}-affix-wrapper-sm`]:Wr==="small",[`${it}-affix-wrapper-lg`]:Wr==="large",[`${it}-affix-wrapper-rtl`]:Pn==="rtl"},fn),wrapper:Y()({[`${it}-group-rtl`]:Pn==="rtl"},fn),groupWrapper:Y()({[`${it}-group-wrapper-sm`]:Wr==="small",[`${it}-group-wrapper-lg`]:Wr==="large",[`${it}-group-wrapper-rtl`]:Pn==="rtl",[`${it}-group-wrapper-${ho}`]:Ur},(0,Me.Z)(`${it}-group-wrapper`,vr,fr),fn)})}))))})},81391:function(Zr,jt,F){"use strict";F.d(jt,{Z:function(){return ot}});var s=F(75271);function ot(Y,c){const xe=(0,s.useRef)([]),We=()=>{xe.current.push(setTimeout(()=>{var Fe,Me,ve,te;!((Fe=Y.current)===null||Fe===void 0)&&Fe.input&&((Me=Y.current)===null||Me===void 0?void 0:Me.input.getAttribute("type"))==="password"&&(!((ve=Y.current)===null||ve===void 0)&&ve.input.hasAttribute("value"))&&((te=Y.current)===null||te===void 0||te.input.removeAttribute("value"))}))};return(0,s.useEffect)(()=>(c&&We(),()=>xe.current.forEach(Fe=>{Fe&&clearTimeout(Fe)})),[]),We}},43452:function(Zr,jt,F){"use strict";F.d(jt,{TI:function(){return kt},ik:function(){return $e},nz:function(){return Me},s7:function(){return He},x0:function(){return Ke}});var s=F(55921),ot=F(34299),Y=F(9288),c=F(84825),xe=F(83509),We=F(21571),Fe=F(57616);const Me=yt=>({"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:yt,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),ve=yt=>({borderColor:yt.activeBorderColor,boxShadow:yt.activeShadow,outline:0,backgroundColor:yt.activeBg}),te=yt=>{const{paddingBlockLG:Et,lineHeightLG:Vt,borderRadiusLG:Lt,paddingInlineLG:hr}=yt;return{padding:`${(0,s.bf)(Et)} ${(0,s.bf)(hr)}`,fontSize:yt.inputFontSizeLG,lineHeight:Vt,borderRadius:Lt}},Ke=yt=>({padding:`${(0,s.bf)(yt.paddingBlockSM)} ${(0,s.bf)(yt.paddingInlineSM)}`,fontSize:yt.inputFontSizeSM,borderRadius:yt.borderRadiusSM}),$e=yt=>Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:`${(0,s.bf)(yt.paddingBlock)} ${(0,s.bf)(yt.paddingInline)}`,color:yt.colorText,fontSize:yt.inputFontSize,lineHeight:yt.lineHeight,borderRadius:yt.borderRadius,transition:`all ${yt.motionDurationMid}`},Me(yt.colorTextPlaceholder)),{"textarea&":{maxWidth:"100%",height:"auto",minHeight:yt.controlHeight,lineHeight:yt.lineHeight,verticalAlign:"bottom",transition:`all ${yt.motionDurationSlow}, height 0s`,resize:"vertical"},"&-lg":Object.assign({},te(yt)),"&-sm":Object.assign({},Ke(yt)),"&-rtl, &-textarea-rtl":{direction:"rtl"}}),He=yt=>{const{componentCls:Et,antCls:Vt}=yt;return{position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0,"&[class*='col-']":{paddingInlineEnd:yt.paddingXS,"&:last-child":{paddingInlineEnd:0}},[`&-lg ${Et}, &-lg > ${Et}-group-addon`]:Object.assign({},te(yt)),[`&-sm ${Et}, &-sm > ${Et}-group-addon`]:Object.assign({},Ke(yt)),[`&-lg ${Vt}-select-single ${Vt}-select-selector`]:{height:yt.controlHeightLG},[`&-sm ${Vt}-select-single ${Vt}-select-selector`]:{height:yt.controlHeightSM},[`> ${Et}`]:{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}},[`${Et}-group`]:{"&-addon, &-wrap":{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}},"&-wrap > *":{display:"block !important"},"&-addon":{position:"relative",padding:`0 ${(0,s.bf)(yt.paddingInline)}`,color:yt.colorText,fontWeight:"normal",fontSize:yt.inputFontSize,textAlign:"center",borderRadius:yt.borderRadius,transition:`all ${yt.motionDurationSlow}`,lineHeight:1,[`${Vt}-select`]:{margin:`${(0,s.bf)(yt.calc(yt.paddingBlock).add(1).mul(-1).equal())} ${(0,s.bf)(yt.calc(yt.paddingInline).mul(-1).equal())}`,[`&${Vt}-select-single:not(${Vt}-select-customize-input):not(${Vt}-pagination-size-changer)`]:{[`${Vt}-select-selector`]:{backgroundColor:"inherit",border:`${(0,s.bf)(yt.lineWidth)} ${yt.lineType} transparent`,boxShadow:"none"}}},[`${Vt}-cascader-picker`]:{margin:`-9px ${(0,s.bf)(yt.calc(yt.paddingInline).mul(-1).equal())}`,backgroundColor:"transparent",[`${Vt}-cascader-input`]:{textAlign:"start",border:0,boxShadow:"none"}}}},[Et]:{width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":{zIndex:1,borderInlineEndWidth:1,[`${Et}-search-with-button &`]:{zIndex:0}}},[`> ${Et}:first-child, ${Et}-group-addon:first-child`]:{borderStartEndRadius:0,borderEndEndRadius:0,[`${Vt}-select ${Vt}-select-selector`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${Et}-affix-wrapper`]:{[`&:not(:first-child) ${Et}`]:{borderStartStartRadius:0,borderEndStartRadius:0},[`&:not(:last-child) ${Et}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${Et}:last-child, ${Et}-group-addon:last-child`]:{borderStartStartRadius:0,borderEndStartRadius:0,[`${Vt}-select ${Vt}-select-selector`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`${Et}-affix-wrapper`]:{"&:not(:last-child)":{borderStartEndRadius:0,borderEndEndRadius:0,[`${Et}-search &`]:{borderStartStartRadius:yt.borderRadius,borderEndStartRadius:yt.borderRadius}},[`&:not(:first-child), ${Et}-search &:not(:first-child)`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&${Et}-group-compact`]:Object.assign(Object.assign({display:"block"},(0,ot.dF)()),{[`${Et}-group-addon, ${Et}-group-wrap, > ${Et}`]:{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:yt.lineWidth,"&:hover, &:focus":{zIndex:1}}},"& > *":{display:"inline-flex",float:"none",verticalAlign:"top",borderRadius:0},[`
        & > ${Et}-affix-wrapper,
        & > ${Et}-number-affix-wrapper,
        & > ${Vt}-picker-range
      `]:{display:"inline-flex"},"& > *:not(:last-child)":{marginInlineEnd:yt.calc(yt.lineWidth).mul(-1).equal(),borderInlineEndWidth:yt.lineWidth},[Et]:{float:"none"},[`& > ${Vt}-select > ${Vt}-select-selector,
      & > ${Vt}-select-auto-complete ${Et},
      & > ${Vt}-cascader-picker ${Et},
      & > ${Et}-group-wrapper ${Et}`]:{borderInlineEndWidth:yt.lineWidth,borderRadius:0,"&:hover, &:focus":{zIndex:1}},[`& > ${Vt}-select-focused`]:{zIndex:1},[`& > ${Vt}-select > ${Vt}-select-arrow`]:{zIndex:1},[`& > *:first-child,
      & > ${Vt}-select:first-child > ${Vt}-select-selector,
      & > ${Vt}-select-auto-complete:first-child ${Et},
      & > ${Vt}-cascader-picker:first-child ${Et}`]:{borderStartStartRadius:yt.borderRadius,borderEndStartRadius:yt.borderRadius},[`& > *:last-child,
      & > ${Vt}-select:last-child > ${Vt}-select-selector,
      & > ${Vt}-cascader-picker:last-child ${Et},
      & > ${Vt}-cascader-picker-focused:last-child ${Et}`]:{borderInlineEndWidth:yt.lineWidth,borderStartEndRadius:yt.borderRadius,borderEndEndRadius:yt.borderRadius},[`& > ${Vt}-select-auto-complete ${Et}`]:{verticalAlign:"top"},[`${Et}-group-wrapper + ${Et}-group-wrapper`]:{marginInlineStart:yt.calc(yt.lineWidth).mul(-1).equal(),[`${Et}-affix-wrapper`]:{borderRadius:0}},[`${Et}-group-wrapper:not(:last-child)`]:{[`&${Et}-search > ${Et}-group`]:{[`& > ${Et}-group-addon > ${Et}-search-button`]:{borderRadius:0},[`& > ${Et}`]:{borderStartStartRadius:yt.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:yt.borderRadius}}}})}},qe=yt=>{const{componentCls:Et,controlHeightSM:Vt,lineWidth:Lt,calc:hr}=yt,Hn=hr(Vt).sub(hr(Lt).mul(2)).sub(16).div(2).equal();return{[Et]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,ot.Wf)(yt)),$e(yt)),(0,Fe.qG)(yt)),(0,Fe.H8)(yt)),(0,Fe.Mu)(yt)),(0,Fe.vc)(yt)),{'&[type="color"]':{height:yt.controlHeight,[`&${Et}-lg`]:{height:yt.controlHeightLG},[`&${Et}-sm`]:{height:Vt,paddingTop:Hn,paddingBottom:Hn}},'&[type="search"]::-webkit-search-cancel-button, &[type="search"]::-webkit-search-decoration':{"-webkit-appearance":"none"}})}},dt=yt=>{const{componentCls:Et}=yt;return{[`${Et}-clear-icon`]:{margin:0,padding:0,lineHeight:0,color:yt.colorTextQuaternary,fontSize:yt.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:`color ${yt.motionDurationSlow}`,border:"none",outline:"none",backgroundColor:"transparent","&:hover":{color:yt.colorTextTertiary},"&:active":{color:yt.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:`0 ${(0,s.bf)(yt.inputAffixPadding)}`}}}},Je=yt=>{const{componentCls:Et,inputAffixPadding:Vt,colorTextDescription:Lt,motionDurationSlow:hr,colorIcon:er,colorIconHover:Hn,iconCls:Ze}=yt,Nt=`${Et}-affix-wrapper`,sn=`${Et}-affix-wrapper-disabled`;return{[Nt]:Object.assign(Object.assign(Object.assign(Object.assign({},$e(yt)),{display:"inline-flex",[`&:not(${Et}-disabled):hover`]:{zIndex:1,[`${Et}-search-with-button &`]:{zIndex:0}},"&-focused, &:focus":{zIndex:1},[`> input${Et}`]:{padding:0},[`> input${Et}, > textarea${Et}`]:{fontSize:"inherit",border:"none",borderRadius:0,outline:"none",background:"transparent",color:"inherit","&::-ms-reveal":{display:"none"},"&:focus":{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[Et]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:yt.paddingXS}},"&-show-count-suffix":{color:Lt},"&-show-count-has-suffix":{marginInlineEnd:yt.paddingXXS},"&-prefix":{marginInlineEnd:Vt},"&-suffix":{marginInlineStart:Vt}}}),dt(yt)),{[`${Ze}${Et}-password-icon`]:{color:er,cursor:"pointer",transition:`all ${hr}`,"&:hover":{color:Hn}}}),[`${Et}-underlined`]:{borderRadius:0},[sn]:{[`${Ze}${Et}-password-icon`]:{color:er,cursor:"not-allowed","&:hover":{color:er}}}}},ht=yt=>{const{componentCls:Et,borderRadiusLG:Vt,borderRadiusSM:Lt}=yt;return{[`${Et}-group`]:Object.assign(Object.assign(Object.assign({},(0,ot.Wf)(yt)),He(yt)),{"&-rtl":{direction:"rtl"},"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":{[`${Et}-group-addon`]:{borderRadius:Vt,fontSize:yt.inputFontSizeLG}},"&-sm":{[`${Et}-group-addon`]:{borderRadius:Lt}}},(0,Fe.ir)(yt)),(0,Fe.S5)(yt)),{[`&:not(${Et}-compact-first-item):not(${Et}-compact-last-item)${Et}-compact-item`]:{[`${Et}, ${Et}-group-addon`]:{borderRadius:0}},[`&:not(${Et}-compact-last-item)${Et}-compact-first-item`]:{[`${Et}, ${Et}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${Et}-compact-first-item)${Et}-compact-last-item`]:{[`${Et}, ${Et}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&:not(${Et}-compact-last-item)${Et}-compact-item`]:{[`${Et}-affix-wrapper`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${Et}-compact-first-item)${Et}-compact-item`]:{[`${Et}-affix-wrapper`]:{borderStartStartRadius:0,borderEndStartRadius:0}}})})}},bt=yt=>{const{componentCls:Et,antCls:Vt}=yt,Lt=`${Et}-search`;return{[Lt]:{[Et]:{"&:hover, &:focus":{[`+ ${Et}-group-addon ${Lt}-button:not(${Vt}-btn-primary)`]:{borderInlineStartColor:yt.colorPrimaryHover}}},[`${Et}-affix-wrapper`]:{height:yt.controlHeight,borderRadius:0},[`${Et}-lg`]:{lineHeight:yt.calc(yt.lineHeightLG).sub(2e-4).equal()},[`> ${Et}-group`]:{[`> ${Et}-group-addon:last-child`]:{insetInlineStart:-1,padding:0,border:0,[`${Lt}-button`]:{marginInlineEnd:-1,borderStartStartRadius:0,borderEndStartRadius:0,boxShadow:"none"},[`${Lt}-button:not(${Vt}-btn-primary)`]:{color:yt.colorTextDescription,"&:hover":{color:yt.colorPrimaryHover},"&:active":{color:yt.colorPrimaryActive},[`&${Vt}-btn-loading::before`]:{insetInlineStart:0,insetInlineEnd:0,insetBlockStart:0,insetBlockEnd:0}}}},[`${Lt}-button`]:{height:yt.controlHeight,"&:hover, &:focus":{zIndex:1}},"&-large":{[`${Et}-affix-wrapper, ${Lt}-button`]:{height:yt.controlHeightLG}},"&-small":{[`${Et}-affix-wrapper, ${Lt}-button`]:{height:yt.controlHeightSM}},"&-rtl":{direction:"rtl"},[`&${Et}-compact-item`]:{[`&:not(${Et}-compact-last-item)`]:{[`${Et}-group-addon`]:{[`${Et}-search-button`]:{marginInlineEnd:yt.calc(yt.lineWidth).mul(-1).equal(),borderRadius:0}}},[`&:not(${Et}-compact-first-item)`]:{[`${Et},${Et}-affix-wrapper`]:{borderRadius:0}},[`> ${Et}-group-addon ${Et}-search-button,
        > ${Et},
        ${Et}-affix-wrapper`]:{"&:hover, &:focus, &:active":{zIndex:2}},[`> ${Et}-affix-wrapper-focused`]:{zIndex:2}}}}},Ue=yt=>{const{componentCls:Et}=yt;return{[`${Et}-out-of-range`]:{[`&, & input, & textarea, ${Et}-show-count-suffix, ${Et}-data-count`]:{color:yt.colorError}}}},kt=(0,c.I$)(["Input","Shared"],yt=>{const Et=(0,xe.IX)(yt,(0,We.e)(yt));return[qe(Et),Je(Et)]},We.T,{resetFont:!1});jt.ZP=(0,c.I$)(["Input","Component"],yt=>{const Et=(0,xe.IX)(yt,(0,We.e)(yt));return[ht(Et),bt(Et),Ue(Et),(0,Y.c)(Et)]},We.T,{resetFont:!1})},21571:function(Zr,jt,F){"use strict";F.d(jt,{T:function(){return Y},e:function(){return ot}});var s=F(83509);function ot(c){return(0,s.IX)(c,{inputAffixPadding:c.paddingXXS})}const Y=c=>{const{controlHeight:xe,fontSize:We,lineHeight:Fe,lineWidth:Me,controlHeightSM:ve,controlHeightLG:te,fontSizeLG:Ke,lineHeightLG:$e,paddingSM:He,controlPaddingHorizontalSM:qe,controlPaddingHorizontal:dt,colorFillAlter:Je,colorPrimaryHover:ht,colorPrimary:bt,controlOutlineWidth:Ue,controlOutline:kt,colorErrorOutline:yt,colorWarningOutline:Et,colorBgContainer:Vt,inputFontSize:Lt,inputFontSizeLG:hr,inputFontSizeSM:er}=c,Hn=Lt||We,Ze=er||Hn,Nt=hr||Ke,sn=Math.round((xe-Hn*Fe)/2*10)/10-Me,Xt=Math.round((ve-Ze*Fe)/2*10)/10-Me,Le=Math.ceil((te-Nt*$e)/2*10)/10-Me;return{paddingBlock:Math.max(sn,0),paddingBlockSM:Math.max(Xt,0),paddingBlockLG:Math.max(Le,0),paddingInline:He-Me,paddingInlineSM:qe-Me,paddingInlineLG:dt-Me,addonBg:Je,activeBorderColor:bt,hoverBorderColor:ht,activeShadow:`0 0 0 ${Ue}px ${kt}`,errorActiveShadow:`0 0 0 ${Ue}px ${yt}`,warningActiveShadow:`0 0 0 ${Ue}px ${Et}`,hoverBg:Vt,activeBg:Vt,inputFontSize:Hn,inputFontSizeLG:Nt,inputFontSizeSM:Ze}}},57616:function(Zr,jt,F){"use strict";F.d(jt,{$U:function(){return xe},H8:function(){return He},Mu:function(){return te},S5:function(){return dt},Xy:function(){return c},ir:function(){return ve},qG:function(){return Fe},vc:function(){return bt}});var s=F(55921),ot=F(83509);const Y=Ue=>({borderColor:Ue.hoverBorderColor,backgroundColor:Ue.hoverBg}),c=Ue=>({color:Ue.colorTextDisabled,backgroundColor:Ue.colorBgContainerDisabled,borderColor:Ue.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"input[disabled], textarea[disabled]":{cursor:"not-allowed"},"&:hover:not([disabled])":Object.assign({},Y((0,ot.IX)(Ue,{hoverBorderColor:Ue.colorBorder,hoverBg:Ue.colorBgContainerDisabled})))}),xe=(Ue,kt)=>({background:Ue.colorBgContainer,borderWidth:Ue.lineWidth,borderStyle:Ue.lineType,borderColor:kt.borderColor,"&:hover":{borderColor:kt.hoverBorderColor,backgroundColor:Ue.hoverBg},"&:focus, &:focus-within":{borderColor:kt.activeBorderColor,boxShadow:kt.activeShadow,outline:0,backgroundColor:Ue.activeBg}}),We=(Ue,kt)=>({[`&${Ue.componentCls}-status-${kt.status}:not(${Ue.componentCls}-disabled)`]:Object.assign(Object.assign({},xe(Ue,kt)),{[`${Ue.componentCls}-prefix, ${Ue.componentCls}-suffix`]:{color:kt.affixColor}}),[`&${Ue.componentCls}-status-${kt.status}${Ue.componentCls}-disabled`]:{borderColor:kt.borderColor}}),Fe=(Ue,kt)=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},xe(Ue,{borderColor:Ue.colorBorder,hoverBorderColor:Ue.hoverBorderColor,activeBorderColor:Ue.activeBorderColor,activeShadow:Ue.activeShadow})),{[`&${Ue.componentCls}-disabled, &[disabled]`]:Object.assign({},c(Ue))}),We(Ue,{status:"error",borderColor:Ue.colorError,hoverBorderColor:Ue.colorErrorBorderHover,activeBorderColor:Ue.colorError,activeShadow:Ue.errorActiveShadow,affixColor:Ue.colorError})),We(Ue,{status:"warning",borderColor:Ue.colorWarning,hoverBorderColor:Ue.colorWarningBorderHover,activeBorderColor:Ue.colorWarning,activeShadow:Ue.warningActiveShadow,affixColor:Ue.colorWarning})),kt)}),Me=(Ue,kt)=>({[`&${Ue.componentCls}-group-wrapper-status-${kt.status}`]:{[`${Ue.componentCls}-group-addon`]:{borderColor:kt.addonBorderColor,color:kt.addonColor}}}),ve=Ue=>({"&-outlined":Object.assign(Object.assign(Object.assign({[`${Ue.componentCls}-group`]:{"&-addon":{background:Ue.addonBg,border:`${(0,s.bf)(Ue.lineWidth)} ${Ue.lineType} ${Ue.colorBorder}`},"&-addon:first-child":{borderInlineEnd:0},"&-addon:last-child":{borderInlineStart:0}}},Me(Ue,{status:"error",addonBorderColor:Ue.colorError,addonColor:Ue.colorErrorText})),Me(Ue,{status:"warning",addonBorderColor:Ue.colorWarning,addonColor:Ue.colorWarningText})),{[`&${Ue.componentCls}-group-wrapper-disabled`]:{[`${Ue.componentCls}-group-addon`]:Object.assign({},c(Ue))}})}),te=(Ue,kt)=>{const{componentCls:yt}=Ue;return{"&-borderless":Object.assign({background:"transparent",border:"none","&:focus, &:focus-within":{outline:"none"},[`&${yt}-disabled, &[disabled]`]:{color:Ue.colorTextDisabled,cursor:"not-allowed"},[`&${yt}-status-error`]:{"&, & input, & textarea":{color:Ue.colorError}},[`&${yt}-status-warning`]:{"&, & input, & textarea":{color:Ue.colorWarning}}},kt)}},Ke=(Ue,kt)=>({background:kt.bg,borderWidth:Ue.lineWidth,borderStyle:Ue.lineType,borderColor:"transparent","input&, & input, textarea&, & textarea":{color:kt==null?void 0:kt.inputColor},"&:hover":{background:kt.hoverBg},"&:focus, &:focus-within":{outline:0,borderColor:kt.activeBorderColor,backgroundColor:Ue.activeBg}}),$e=(Ue,kt)=>({[`&${Ue.componentCls}-status-${kt.status}:not(${Ue.componentCls}-disabled)`]:Object.assign(Object.assign({},Ke(Ue,kt)),{[`${Ue.componentCls}-prefix, ${Ue.componentCls}-suffix`]:{color:kt.affixColor}})}),He=(Ue,kt)=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Ke(Ue,{bg:Ue.colorFillTertiary,hoverBg:Ue.colorFillSecondary,activeBorderColor:Ue.activeBorderColor})),{[`&${Ue.componentCls}-disabled, &[disabled]`]:Object.assign({},c(Ue))}),$e(Ue,{status:"error",bg:Ue.colorErrorBg,hoverBg:Ue.colorErrorBgHover,activeBorderColor:Ue.colorError,inputColor:Ue.colorErrorText,affixColor:Ue.colorError})),$e(Ue,{status:"warning",bg:Ue.colorWarningBg,hoverBg:Ue.colorWarningBgHover,activeBorderColor:Ue.colorWarning,inputColor:Ue.colorWarningText,affixColor:Ue.colorWarning})),kt)}),qe=(Ue,kt)=>({[`&${Ue.componentCls}-group-wrapper-status-${kt.status}`]:{[`${Ue.componentCls}-group-addon`]:{background:kt.addonBg,color:kt.addonColor}}}),dt=Ue=>({"&-filled":Object.assign(Object.assign(Object.assign({[`${Ue.componentCls}-group`]:{"&-addon":{background:Ue.colorFillTertiary},[`${Ue.componentCls}-filled:not(:focus):not(:focus-within)`]:{"&:not(:first-child)":{borderInlineStart:`${(0,s.bf)(Ue.lineWidth)} ${Ue.lineType} ${Ue.colorSplit}`},"&:not(:last-child)":{borderInlineEnd:`${(0,s.bf)(Ue.lineWidth)} ${Ue.lineType} ${Ue.colorSplit}`}}}},qe(Ue,{status:"error",addonBg:Ue.colorErrorBg,addonColor:Ue.colorErrorText})),qe(Ue,{status:"warning",addonBg:Ue.colorWarningBg,addonColor:Ue.colorWarningText})),{[`&${Ue.componentCls}-group-wrapper-disabled`]:{[`${Ue.componentCls}-group`]:{"&-addon":{background:Ue.colorFillTertiary,color:Ue.colorTextDisabled},"&-addon:first-child":{borderInlineStart:`${(0,s.bf)(Ue.lineWidth)} ${Ue.lineType} ${Ue.colorBorder}`,borderTop:`${(0,s.bf)(Ue.lineWidth)} ${Ue.lineType} ${Ue.colorBorder}`,borderBottom:`${(0,s.bf)(Ue.lineWidth)} ${Ue.lineType} ${Ue.colorBorder}`},"&-addon:last-child":{borderInlineEnd:`${(0,s.bf)(Ue.lineWidth)} ${Ue.lineType} ${Ue.colorBorder}`,borderTop:`${(0,s.bf)(Ue.lineWidth)} ${Ue.lineType} ${Ue.colorBorder}`,borderBottom:`${(0,s.bf)(Ue.lineWidth)} ${Ue.lineType} ${Ue.colorBorder}`}}}})}),Je=(Ue,kt)=>({background:Ue.colorBgContainer,borderWidth:`${(0,s.bf)(Ue.lineWidth)} 0`,borderStyle:`${Ue.lineType} none`,borderColor:`transparent transparent ${kt.borderColor} transparent`,borderRadius:0,"&:hover":{borderColor:`transparent transparent ${kt.borderColor} transparent`,backgroundColor:Ue.hoverBg},"&:focus, &:focus-within":{borderColor:`transparent transparent ${kt.borderColor} transparent`,outline:0,backgroundColor:Ue.activeBg}}),ht=(Ue,kt)=>({[`&${Ue.componentCls}-status-${kt.status}:not(${Ue.componentCls}-disabled)`]:Object.assign(Object.assign({},Je(Ue,kt)),{[`${Ue.componentCls}-prefix, ${Ue.componentCls}-suffix`]:{color:kt.affixColor}}),[`&${Ue.componentCls}-status-${kt.status}${Ue.componentCls}-disabled`]:{borderColor:kt.borderColor}}),bt=(Ue,kt)=>({"&-underlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Je(Ue,{borderColor:Ue.colorBorder,hoverBorderColor:Ue.hoverBorderColor,activeBorderColor:Ue.activeBorderColor,activeShadow:Ue.activeShadow})),{[`&${Ue.componentCls}-disabled, &[disabled]`]:{color:Ue.colorTextDisabled,boxShadow:"none",cursor:"not-allowed","&:hover":{borderColor:Ue.colorBorder}},"input[disabled], textarea[disabled]":{cursor:"not-allowed"}}),ht(Ue,{status:"error",borderColor:Ue.colorError,hoverBorderColor:Ue.colorErrorBorderHover,activeBorderColor:Ue.colorError,activeShadow:Ue.errorActiveShadow,affixColor:Ue.colorError})),ht(Ue,{status:"warning",borderColor:Ue.colorWarning,hoverBorderColor:Ue.colorWarningBorderHover,activeBorderColor:Ue.colorWarning,activeShadow:Ue.warningActiveShadow,affixColor:Ue.colorWarning})),kt)})},59379:function(Zr,jt,F){"use strict";var s=F(75271);const ot=(0,s.createContext)(void 0);jt.Z=ot},42474:function(Zr,jt,F){"use strict";var s=F(18507),ot=F(40859),Y=F(58492),c=F(85985);const xe="${label} is not a valid ${type}",We={locale:"en",Pagination:s.Z,DatePicker:Y.Z,TimePicker:c.Z,Calendar:ot.Z,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckAll:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",deselectAll:"Deselect all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand",collapse:"Collapse"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:xe,method:xe,array:xe,object:xe,number:xe,date:xe,boolean:xe,integer:xe,float:xe,regexp:xe,email:xe,url:xe,hex:xe},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty",transparent:"Transparent",singleColor:"Single",gradientColor:"Gradient"}};jt.Z=We},77648:function(Zr,jt,F){"use strict";var s=F(75271),ot=F(59379),Y=F(42474);const c=(xe,We)=>{const Fe=s.useContext(ot.Z),Me=s.useMemo(()=>{var te;const Ke=We||Y.Z[xe],$e=(te=Fe==null?void 0:Fe[xe])!==null&&te!==void 0?te:{};return Object.assign(Object.assign({},typeof Ke=="function"?Ke():Ke),$e||{})},[xe,We,Fe]),ve=s.useMemo(()=>{const te=Fe==null?void 0:Fe.locale;return Fe!=null&&Fe.exist&&!te?Y.Z.locale:te},[Fe]);return[Me,ve]};jt.Z=c},3786:function(Zr,jt,F){"use strict";F.d(jt,{A:function(){return We},f:function(){return xe}});var s=F(42474);let ot=Object.assign({},s.Z.Modal),Y=[];const c=()=>Y.reduce((Fe,Me)=>Object.assign(Object.assign({},Fe),Me),s.Z.Modal);function xe(Fe){if(Fe){const Me=Object.assign({},Fe);return Y.push(Me),ot=c(),()=>{Y=Y.filter(ve=>ve!==Me),ot=c()}}ot=Object.assign({},s.Z.Modal)}function We(){return ot}},97294:function(Zr,jt,F){"use strict";F.d(jt,{aV:function(){return ve},t5:function(){return te}});var s=F(75271),ot=F(82187),Y=F.n(ot),c=F(75219),xe=F(17522),We=F(98446),Fe=F(51759),Me=function($e,He){var qe={};for(var dt in $e)Object.prototype.hasOwnProperty.call($e,dt)&&He.indexOf(dt)<0&&(qe[dt]=$e[dt]);if($e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Je=0,dt=Object.getOwnPropertySymbols($e);Je<dt.length;Je++)He.indexOf(dt[Je])<0&&Object.prototype.propertyIsEnumerable.call($e,dt[Je])&&(qe[dt[Je]]=$e[dt[Je]]);return qe};const ve=$e=>{let{title:He,content:qe,prefixCls:dt}=$e;return!He&&!qe?null:s.createElement(s.Fragment,null,He&&s.createElement("div",{className:`${dt}-title`},He),qe&&s.createElement("div",{className:`${dt}-inner-content`},qe))},te=$e=>{const{hashId:He,prefixCls:qe,className:dt,style:Je,placement:ht="top",title:bt,content:Ue,children:kt}=$e,yt=(0,xe.Z)(bt),Et=(0,xe.Z)(Ue),Vt=Y()(He,qe,`${qe}-pure`,`${qe}-placement-${ht}`,dt);return s.createElement("div",{className:Vt,style:Je},s.createElement("div",{className:`${qe}-arrow`}),s.createElement(c.G,Object.assign({},$e,{className:He,prefixCls:qe}),kt||s.createElement(ve,{prefixCls:qe,title:yt,content:Et})))},Ke=$e=>{const{prefixCls:He,className:qe}=$e,dt=Me($e,["prefixCls","className"]),{getPrefixCls:Je}=s.useContext(We.E_),ht=Je("popover",He),[bt,Ue,kt]=(0,Fe.Z)(ht);return bt(s.createElement(te,Object.assign({},dt,{prefixCls:ht,hashId:Ue,className:Y()(qe,kt)})))};jt.ZP=Ke},60916:function(Zr,jt,F){"use strict";var s=F(75271),ot=F(82187),Y=F.n(ot),c=F(93954),xe=F(14583),We=F(17522),Fe=F(13635),Me=F(26021),ve=F(9202),te=F(97294),Ke=F(98446),$e=F(51759),He=function(Je,ht){var bt={};for(var Ue in Je)Object.prototype.hasOwnProperty.call(Je,Ue)&&ht.indexOf(Ue)<0&&(bt[Ue]=Je[Ue]);if(Je!=null&&typeof Object.getOwnPropertySymbols=="function")for(var kt=0,Ue=Object.getOwnPropertySymbols(Je);kt<Ue.length;kt++)ht.indexOf(Ue[kt])<0&&Object.prototype.propertyIsEnumerable.call(Je,Ue[kt])&&(bt[Ue[kt]]=Je[Ue[kt]]);return bt};const dt=s.forwardRef((Je,ht)=>{var bt,Ue;const{prefixCls:kt,title:yt,content:Et,overlayClassName:Vt,placement:Lt="top",trigger:hr="hover",children:er,mouseEnterDelay:Hn=.1,mouseLeaveDelay:Ze=.1,onOpenChange:Nt,overlayStyle:sn={},styles:Xt,classNames:Le}=Je,$n=He(Je,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle","styles","classNames"]),{getPrefixCls:cn,className:En,style:lt,classNames:Gt,styles:bn}=(0,Ke.dj)("popover"),fe=cn("popover",kt),[Wt,hi,Jr]=(0,$e.Z)(fe),Te=cn(),Pn=Y()(Vt,hi,Jr,En,Gt.root,Le==null?void 0:Le.root),Lr=Y()(Gt.body,Le==null?void 0:Le.body),[kr,In]=(0,c.Z)(!1,{value:(bt=Je.open)!==null&&bt!==void 0?bt:Je.visible,defaultValue:(Ue=Je.defaultOpen)!==null&&Ue!==void 0?Ue:Je.defaultVisible}),Nr=(zn,dn)=>{In(zn,!0),Nt==null||Nt(zn,dn)},vi=zn=>{zn.keyCode===xe.Z.ESC&&Nr(!1,zn)},sr=zn=>{Nr(zn)},it=(0,We.Z)(yt),Ot=(0,We.Z)(Et);return Wt(s.createElement(ve.Z,Object.assign({placement:Lt,trigger:hr,mouseEnterDelay:Hn,mouseLeaveDelay:Ze},$n,{prefixCls:fe,classNames:{root:Pn,body:Lr},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign({},bn.root),lt),sn),Xt==null?void 0:Xt.root),body:Object.assign(Object.assign({},bn.body),Xt==null?void 0:Xt.body)},ref:ht,open:kr,onOpenChange:sr,overlay:it||Ot?s.createElement(te.aV,{prefixCls:fe,title:it,content:Ot}):null,transitionName:(0,Fe.m)(Te,"zoom-big",$n.transitionName),"data-popover-inject":!0}),(0,Me.Tm)(er,{onKeyDown:zn=>{var dn,fn;s.isValidElement(er)&&((fn=er==null?void 0:(dn=er.props).onKeyDown)===null||fn===void 0||fn.call(dn,zn)),vi(zn)}})))});dt._InternalPanelDoNotUseOrYouWillBeFired=te.ZP,jt.Z=dt},51759:function(Zr,jt,F){"use strict";var s=F(34299),ot=F(3153),Y=F(18533),c=F(2276),xe=F(98990),We=F(84825),Fe=F(83509);const Me=Ke=>{const{componentCls:$e,popoverColor:He,titleMinWidth:qe,fontWeightStrong:dt,innerPadding:Je,boxShadowSecondary:ht,colorTextHeading:bt,borderRadiusLG:Ue,zIndexPopup:kt,titleMarginBottom:yt,colorBgElevated:Et,popoverBg:Vt,titleBorderBottom:Lt,innerContentPadding:hr,titlePadding:er}=Ke;return[{[$e]:Object.assign(Object.assign({},(0,s.Wf)(Ke)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:kt,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"--antd-arrow-background-color":Et,width:"max-content",maxWidth:"100vw","&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${$e}-content`]:{position:"relative"},[`${$e}-inner`]:{backgroundColor:Vt,backgroundClip:"padding-box",borderRadius:Ue,boxShadow:ht,padding:Je},[`${$e}-title`]:{minWidth:qe,marginBottom:yt,color:bt,fontWeight:dt,borderBottom:Lt,padding:er},[`${$e}-inner-content`]:{color:He,padding:hr}})},(0,Y.ZP)(Ke,"var(--antd-arrow-background-color)"),{[`${$e}-pure`]:{position:"relative",maxWidth:"none",margin:Ke.sizePopupArrow,display:"inline-block",[`${$e}-content`]:{display:"inline-block"}}}]},ve=Ke=>{const{componentCls:$e}=Ke;return{[$e]:xe.i.map(He=>{const qe=Ke[`${He}6`];return{[`&${$e}-${He}`]:{"--antd-arrow-background-color":qe,[`${$e}-inner`]:{backgroundColor:qe},[`${$e}-arrow`]:{background:"transparent"}}}})}},te=Ke=>{const{lineWidth:$e,controlHeight:He,fontHeight:qe,padding:dt,wireframe:Je,zIndexPopupBase:ht,borderRadiusLG:bt,marginXS:Ue,lineType:kt,colorSplit:yt,paddingSM:Et}=Ke,Vt=He-qe,Lt=Vt/2,hr=Vt/2-$e,er=dt;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:ht+30},(0,c.w)(Ke)),(0,Y.wZ)({contentRadius:bt,limitVerticalRadius:!0})),{innerPadding:Je?0:12,titleMarginBottom:Je?0:Ue,titlePadding:Je?`${Lt}px ${er}px ${hr}px`:0,titleBorderBottom:Je?`${$e}px ${kt} ${yt}`:"none",innerContentPadding:Je?`${Et}px ${er}px`:0})};jt.Z=(0,We.I$)("Popover",Ke=>{const{colorBgElevated:$e,colorText:He}=Ke,qe=(0,Fe.IX)(Ke,{popoverBg:$e,popoverColor:He});return[Me(qe),ve(qe),(0,ot._y)(qe,"zoom-big")]},te,{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]})},53498:function(Zr,jt,F){"use strict";F.d(jt,{Ag:function(){return c},IH:function(){return xe},w:function(){return Y}});var s=F(75271);const ot=s.createContext(null),Y=ot.Provider;jt.ZP=ot;const c=s.createContext(null),xe=c.Provider},63374:function(Zr,jt,F){"use strict";var s=F(75271),ot=F(82187),Y=F.n(ot),c=F(93954),xe=F(71305),We=F(98446),Fe=F(38437),Me=F(95741),ve=F(53498),te=F(74398),Ke=F(89603),$e=F(73188);const He=s.forwardRef((qe,dt)=>{const{getPrefixCls:Je,direction:ht}=s.useContext(We.E_),bt=(0,$e.Z)(),{prefixCls:Ue,className:kt,rootClassName:yt,options:Et,buttonStyle:Vt="outline",disabled:Lt,children:hr,size:er,style:Hn,id:Ze,optionType:Nt,name:sn=bt,defaultValue:Xt,value:Le,block:$n=!1,onChange:cn,onMouseEnter:En,onMouseLeave:lt,onFocus:Gt,onBlur:bn}=qe,[fe,Wt]=(0,c.Z)(Xt,{value:Le}),hi=s.useCallback(Ot=>{const zn=fe,dn=Ot.target.value;"value"in qe||Wt(dn),dn!==zn&&(cn==null||cn(Ot))},[fe,Wt,cn]),Jr=Je("radio",Ue),Te=`${Jr}-group`,Pn=(0,Fe.Z)(Jr),[Lr,kr,In]=(0,Ke.Z)(Jr,Pn);let Nr=hr;Et&&Et.length>0&&(Nr=Et.map(Ot=>typeof Ot=="string"||typeof Ot=="number"?s.createElement(te.Z,{key:Ot.toString(),prefixCls:Jr,disabled:Lt,value:Ot,checked:fe===Ot},Ot):s.createElement(te.Z,{key:`radio-group-value-options-${Ot.value}`,prefixCls:Jr,disabled:Ot.disabled||Lt,value:Ot.value,checked:fe===Ot.value,title:Ot.title,style:Ot.style,id:Ot.id,required:Ot.required},Ot.label)));const vi=(0,Me.Z)(er),sr=Y()(Te,`${Te}-${Vt}`,{[`${Te}-${vi}`]:vi,[`${Te}-rtl`]:ht==="rtl",[`${Te}-block`]:$n},kt,yt,kr,In,Pn),it=s.useMemo(()=>({onChange:hi,value:fe,disabled:Lt,name:sn,optionType:Nt,block:$n}),[hi,fe,Lt,sn,Nt,$n]);return Lr(s.createElement("div",Object.assign({},(0,xe.Z)(qe,{aria:!0,data:!0}),{className:sr,style:Hn,onMouseEnter:En,onMouseLeave:lt,onFocus:Gt,onBlur:bn,id:Ze,ref:dt}),s.createElement(ve.w,{value:it},Nr)))});jt.Z=s.memo(He)},89965:function(Zr,jt,F){"use strict";var s=F(63374),ot=F(74398),Y=F(47944);const c=ot.Z;c.Button=Y.Z,c.Group=s.Z,c.__ANT_RADIO=!0,jt.ZP=c},74398:function(Zr,jt,F){"use strict";var s=F(75271),ot=F(82187),Y=F.n(ot),c=F(12977),xe=F(42684),We=F(54070),Fe=F(5276),Me=F(59527),ve=F(98446),te=F(98472),Ke=F(38437),$e=F(60824),He=F(53498),qe=F(89603),dt=function(bt,Ue){var kt={};for(var yt in bt)Object.prototype.hasOwnProperty.call(bt,yt)&&Ue.indexOf(yt)<0&&(kt[yt]=bt[yt]);if(bt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Et=0,yt=Object.getOwnPropertySymbols(bt);Et<yt.length;Et++)Ue.indexOf(yt[Et])<0&&Object.prototype.propertyIsEnumerable.call(bt,yt[Et])&&(kt[yt[Et]]=bt[yt[Et]]);return kt};const Je=(bt,Ue)=>{var kt,yt;const Et=s.useContext(He.ZP),Vt=s.useContext(He.Ag),{getPrefixCls:Lt,direction:hr,radio:er}=s.useContext(ve.E_),Hn=s.useRef(null),Ze=(0,xe.sQ)(Ue,Hn),{isFormItemInput:Nt}=s.useContext($e.aM),sn=sr=>{var it,Ot;(it=bt.onChange)===null||it===void 0||it.call(bt,sr),(Ot=Et==null?void 0:Et.onChange)===null||Ot===void 0||Ot.call(Et,sr)},{prefixCls:Xt,className:Le,rootClassName:$n,children:cn,style:En,title:lt}=bt,Gt=dt(bt,["prefixCls","className","rootClassName","children","style","title"]),bn=Lt("radio",Xt),fe=((Et==null?void 0:Et.optionType)||Vt)==="button",Wt=fe?`${bn}-button`:bn,hi=(0,Ke.Z)(bn),[Jr,Te,Pn]=(0,qe.Z)(bn,hi),Lr=Object.assign({},Gt),kr=s.useContext(te.Z);Et&&(Lr.name=Et.name,Lr.onChange=sn,Lr.checked=bt.value===Et.value,Lr.disabled=(kt=Lr.disabled)!==null&&kt!==void 0?kt:Et.disabled),Lr.disabled=(yt=Lr.disabled)!==null&&yt!==void 0?yt:kr;const In=Y()(`${Wt}-wrapper`,{[`${Wt}-wrapper-checked`]:Lr.checked,[`${Wt}-wrapper-disabled`]:Lr.disabled,[`${Wt}-wrapper-rtl`]:hr==="rtl",[`${Wt}-wrapper-in-form-item`]:Nt,[`${Wt}-wrapper-block`]:!!(Et!=null&&Et.block)},er==null?void 0:er.className,Le,$n,Te,Pn,hi),[Nr,vi]=(0,Me.Z)(Lr.onClick);return Jr(s.createElement(We.Z,{component:"Radio",disabled:Lr.disabled},s.createElement("label",{className:In,style:Object.assign(Object.assign({},er==null?void 0:er.style),En),onMouseEnter:bt.onMouseEnter,onMouseLeave:bt.onMouseLeave,title:lt,onClick:Nr},s.createElement(c.Z,Object.assign({},Lr,{className:Y()(Lr.className,{[Fe.A]:!fe}),type:"radio",prefixCls:Wt,ref:Ze,onClick:vi})),cn!==void 0?s.createElement("span",{className:`${Wt}-label`},cn):null)))},ht=s.forwardRef(Je);jt.Z=ht},47944:function(Zr,jt,F){"use strict";var s=F(75271),ot=F(98446),Y=F(53498),c=F(74398),xe=function(Fe,Me){var ve={};for(var te in Fe)Object.prototype.hasOwnProperty.call(Fe,te)&&Me.indexOf(te)<0&&(ve[te]=Fe[te]);if(Fe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ke=0,te=Object.getOwnPropertySymbols(Fe);Ke<te.length;Ke++)Me.indexOf(te[Ke])<0&&Object.prototype.propertyIsEnumerable.call(Fe,te[Ke])&&(ve[te[Ke]]=Fe[te[Ke]]);return ve};const We=(Fe,Me)=>{const{getPrefixCls:ve}=s.useContext(ot.E_),{prefixCls:te}=Fe,Ke=xe(Fe,["prefixCls"]),$e=ve("radio",te);return s.createElement(Y.IH,{value:"button"},s.createElement(c.Z,Object.assign({prefixCls:$e},Ke,{type:"radio",ref:Me})))};jt.Z=s.forwardRef(We)},89603:function(Zr,jt,F){"use strict";var s=F(55921),ot=F(34299),Y=F(84825),c=F(83509);const xe=ve=>{const{componentCls:te,antCls:Ke}=ve,$e=`${te}-group`;return{[$e]:Object.assign(Object.assign({},(0,ot.Wf)(ve)),{display:"inline-block",fontSize:0,[`&${$e}-rtl`]:{direction:"rtl"},[`&${$e}-block`]:{display:"flex"},[`${Ke}-badge ${Ke}-badge-count`]:{zIndex:1},[`> ${Ke}-badge:not(:first-child) > ${Ke}-button-wrapper`]:{borderInlineStart:"none"}})}},We=ve=>{const{componentCls:te,wrapperMarginInlineEnd:Ke,colorPrimary:$e,radioSize:He,motionDurationSlow:qe,motionDurationMid:dt,motionEaseInOutCirc:Je,colorBgContainer:ht,colorBorder:bt,lineWidth:Ue,colorBgContainerDisabled:kt,colorTextDisabled:yt,paddingXS:Et,dotColorDisabled:Vt,lineType:Lt,radioColor:hr,radioBgColor:er,calc:Hn}=ve,Ze=`${te}-inner`,sn=Hn(He).sub(Hn(4).mul(2)),Xt=Hn(1).mul(He).equal({unit:!0});return{[`${te}-wrapper`]:Object.assign(Object.assign({},(0,ot.Wf)(ve)),{display:"inline-flex",alignItems:"baseline",marginInlineStart:0,marginInlineEnd:Ke,cursor:"pointer","&:last-child":{marginInlineEnd:0},[`&${te}-wrapper-rtl`]:{direction:"rtl"},"&-disabled":{cursor:"not-allowed",color:ve.colorTextDisabled},"&::after":{display:"inline-block",width:0,overflow:"hidden",content:'"\\a0"'},"&-block":{flex:1,justifyContent:"center"},[`${te}-checked::after`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:"100%",height:"100%",border:`${(0,s.bf)(Ue)} ${Lt} ${$e}`,borderRadius:"50%",visibility:"hidden",opacity:0,content:'""'},[te]:Object.assign(Object.assign({},(0,ot.Wf)(ve)),{position:"relative",display:"inline-block",outline:"none",cursor:"pointer",alignSelf:"center",borderRadius:"50%"}),[`${te}-wrapper:hover &,
        &:hover ${Ze}`]:{borderColor:$e},[`${te}-input:focus-visible + ${Ze}`]:Object.assign({},(0,ot.oN)(ve)),[`${te}:hover::after, ${te}-wrapper:hover &::after`]:{visibility:"visible"},[`${te}-inner`]:{"&::after":{boxSizing:"border-box",position:"absolute",insetBlockStart:"50%",insetInlineStart:"50%",display:"block",width:Xt,height:Xt,marginBlockStart:Hn(1).mul(He).div(-2).equal({unit:!0}),marginInlineStart:Hn(1).mul(He).div(-2).equal({unit:!0}),backgroundColor:hr,borderBlockStart:0,borderInlineStart:0,borderRadius:Xt,transform:"scale(0)",opacity:0,transition:`all ${qe} ${Je}`,content:'""'},boxSizing:"border-box",position:"relative",insetBlockStart:0,insetInlineStart:0,display:"block",width:Xt,height:Xt,backgroundColor:ht,borderColor:bt,borderStyle:"solid",borderWidth:Ue,borderRadius:"50%",transition:`all ${dt}`},[`${te}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0},[`${te}-checked`]:{[Ze]:{borderColor:$e,backgroundColor:er,"&::after":{transform:`scale(${ve.calc(ve.dotSize).div(He).equal()})`,opacity:1,transition:`all ${qe} ${Je}`}}},[`${te}-disabled`]:{cursor:"not-allowed",[Ze]:{backgroundColor:kt,borderColor:bt,cursor:"not-allowed","&::after":{backgroundColor:Vt}},[`${te}-input`]:{cursor:"not-allowed"},[`${te}-disabled + span`]:{color:yt,cursor:"not-allowed"},[`&${te}-checked`]:{[Ze]:{"&::after":{transform:`scale(${Hn(sn).div(He).equal()})`}}}},[`span${te} + *`]:{paddingInlineStart:Et,paddingInlineEnd:Et}})}},Fe=ve=>{const{buttonColor:te,controlHeight:Ke,componentCls:$e,lineWidth:He,lineType:qe,colorBorder:dt,motionDurationSlow:Je,motionDurationMid:ht,buttonPaddingInline:bt,fontSize:Ue,buttonBg:kt,fontSizeLG:yt,controlHeightLG:Et,controlHeightSM:Vt,paddingXS:Lt,borderRadius:hr,borderRadiusSM:er,borderRadiusLG:Hn,buttonCheckedBg:Ze,buttonSolidCheckedColor:Nt,colorTextDisabled:sn,colorBgContainerDisabled:Xt,buttonCheckedBgDisabled:Le,buttonCheckedColorDisabled:$n,colorPrimary:cn,colorPrimaryHover:En,colorPrimaryActive:lt,buttonSolidCheckedBg:Gt,buttonSolidCheckedHoverBg:bn,buttonSolidCheckedActiveBg:fe,calc:Wt}=ve;return{[`${$e}-button-wrapper`]:{position:"relative",display:"inline-block",height:Ke,margin:0,paddingInline:bt,paddingBlock:0,color:te,fontSize:Ue,lineHeight:(0,s.bf)(Wt(Ke).sub(Wt(He).mul(2)).equal()),background:kt,border:`${(0,s.bf)(He)} ${qe} ${dt}`,borderBlockStartWidth:Wt(He).add(.02).equal(),borderInlineStartWidth:0,borderInlineEndWidth:He,cursor:"pointer",transition:[`color ${ht}`,`background ${ht}`,`box-shadow ${ht}`].join(","),a:{color:te},[`> ${$e}-button`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,zIndex:-1,width:"100%",height:"100%"},"&:not(:first-child)":{"&::before":{position:"absolute",insetBlockStart:Wt(He).mul(-1).equal(),insetInlineStart:Wt(He).mul(-1).equal(),display:"block",boxSizing:"content-box",width:1,height:"100%",paddingBlock:He,paddingInline:0,backgroundColor:dt,transition:`background-color ${Je}`,content:'""'}},"&:first-child":{borderInlineStart:`${(0,s.bf)(He)} ${qe} ${dt}`,borderStartStartRadius:hr,borderEndStartRadius:hr},"&:last-child":{borderStartEndRadius:hr,borderEndEndRadius:hr},"&:first-child:last-child":{borderRadius:hr},[`${$e}-group-large &`]:{height:Et,fontSize:yt,lineHeight:(0,s.bf)(Wt(Et).sub(Wt(He).mul(2)).equal()),"&:first-child":{borderStartStartRadius:Hn,borderEndStartRadius:Hn},"&:last-child":{borderStartEndRadius:Hn,borderEndEndRadius:Hn}},[`${$e}-group-small &`]:{height:Vt,paddingInline:Wt(Lt).sub(He).equal(),paddingBlock:0,lineHeight:(0,s.bf)(Wt(Vt).sub(Wt(He).mul(2)).equal()),"&:first-child":{borderStartStartRadius:er,borderEndStartRadius:er},"&:last-child":{borderStartEndRadius:er,borderEndEndRadius:er}},"&:hover":{position:"relative",color:cn},"&:has(:focus-visible)":Object.assign({},(0,ot.oN)(ve)),[`${$e}-inner, input[type='checkbox'], input[type='radio']`]:{width:0,height:0,opacity:0,pointerEvents:"none"},[`&-checked:not(${$e}-button-wrapper-disabled)`]:{zIndex:1,color:cn,background:Ze,borderColor:cn,"&::before":{backgroundColor:cn},"&:first-child":{borderColor:cn},"&:hover":{color:En,borderColor:En,"&::before":{backgroundColor:En}},"&:active":{color:lt,borderColor:lt,"&::before":{backgroundColor:lt}}},[`${$e}-group-solid &-checked:not(${$e}-button-wrapper-disabled)`]:{color:Nt,background:Gt,borderColor:Gt,"&:hover":{color:Nt,background:bn,borderColor:bn},"&:active":{color:Nt,background:fe,borderColor:fe}},"&-disabled":{color:sn,backgroundColor:Xt,borderColor:dt,cursor:"not-allowed","&:first-child, &:hover":{color:sn,backgroundColor:Xt,borderColor:dt}},[`&-disabled${$e}-button-wrapper-checked`]:{color:$n,backgroundColor:Le,borderColor:dt,boxShadow:"none"},"&-block":{flex:1,textAlign:"center"}}}},Me=ve=>{const{wireframe:te,padding:Ke,marginXS:$e,lineWidth:He,fontSizeLG:qe,colorText:dt,colorBgContainer:Je,colorTextDisabled:ht,controlItemBgActiveDisabled:bt,colorTextLightSolid:Ue,colorPrimary:kt,colorPrimaryHover:yt,colorPrimaryActive:Et,colorWhite:Vt}=ve,Lt=4,hr=qe,er=te?hr-Lt*2:hr-(Lt+He)*2;return{radioSize:hr,dotSize:er,dotColorDisabled:ht,buttonSolidCheckedColor:Ue,buttonSolidCheckedBg:kt,buttonSolidCheckedHoverBg:yt,buttonSolidCheckedActiveBg:Et,buttonBg:Je,buttonCheckedBg:Je,buttonColor:dt,buttonCheckedBgDisabled:bt,buttonCheckedColorDisabled:ht,buttonPaddingInline:Ke-He,wrapperMarginInlineEnd:$e,radioColor:te?kt:Vt,radioBgColor:te?Je:kt}};jt.Z=(0,Y.I$)("Radio",ve=>{const{controlOutline:te,controlOutlineWidth:Ke}=ve,$e=`0 0 0 ${(0,s.bf)(Ke)} ${te}`,He=$e,qe=(0,c.IX)(ve,{radioFocusShadow:$e,radioButtonFocusShadow:He});return[xe(qe),We(qe),Fe(qe)]},Me,{unitless:{radioSize:!0,dotSize:!0}})},82162:function(Zr,jt,F){"use strict";F.d(jt,{Z:function(){return Jr}});var s=F(75271),ot=F(82187),Y=F.n(ot),c=F(23022),xe=F(89692),We=F(58190),Fe=F(38926),Me=F(54153),ve=F(5147),te=F(93954),Ke=F(18051),$e=F(42684),He=F(62803),qe=F(92076),dt=function(Pn,Lr){if(!Pn)return null;var kr={left:Pn.offsetLeft,right:Pn.parentElement.clientWidth-Pn.clientWidth-Pn.offsetLeft,width:Pn.clientWidth,top:Pn.offsetTop,bottom:Pn.parentElement.clientHeight-Pn.clientHeight-Pn.offsetTop,height:Pn.clientHeight};return Lr?{left:0,right:0,width:0,top:kr.top,bottom:kr.bottom,height:kr.height}:{left:kr.left,right:kr.right,width:kr.width,top:0,bottom:0,height:0}},Je=function(Pn){return Pn!==void 0?"".concat(Pn,"px"):void 0};function ht(Te){var Pn=Te.prefixCls,Lr=Te.containerRef,kr=Te.value,In=Te.getValueIndex,Nr=Te.motionName,vi=Te.onMotionStart,sr=Te.onMotionEnd,it=Te.direction,Ot=Te.vertical,zn=Ot===void 0?!1:Ot,dn=s.useRef(null),fn=s.useState(kr),xr=(0,xe.Z)(fn,2),Un=xr[0],Xr=xr[1],ei=function(Hi){var ho,Ur=In(Hi),eo=(ho=Lr.current)===null||ho===void 0?void 0:ho.querySelectorAll(".".concat(Pn,"-item"))[Ur];return(eo==null?void 0:eo.offsetParent)&&eo},Wr=s.useState(null),ti=(0,xe.Z)(Wr,2),gr=ti[0],mr=ti[1],fr=s.useState(null),wr=(0,xe.Z)(fr,2),vr=wr[0],jr=wr[1];(0,qe.Z)(function(){if(Un!==kr){var mi=ei(Un),Hi=ei(kr),ho=dt(mi,zn),Ur=dt(Hi,zn);Xr(kr),mr(ho),jr(Ur),mi&&Hi?vi():sr()}},[kr]);var Xn=s.useMemo(function(){if(zn){var mi;return Je((mi=gr==null?void 0:gr.top)!==null&&mi!==void 0?mi:0)}return Je(it==="rtl"?-(gr==null?void 0:gr.right):gr==null?void 0:gr.left)},[zn,it,gr]),lr=s.useMemo(function(){if(zn){var mi;return Je((mi=vr==null?void 0:vr.top)!==null&&mi!==void 0?mi:0)}return Je(it==="rtl"?-(vr==null?void 0:vr.right):vr==null?void 0:vr.left)},[zn,it,vr]),Yr=function(){return zn?{transform:"translateY(var(--thumb-start-top))",height:"var(--thumb-start-height)"}:{transform:"translateX(var(--thumb-start-left))",width:"var(--thumb-start-width)"}},Fn=function(){return zn?{transform:"translateY(var(--thumb-active-top))",height:"var(--thumb-active-height)"}:{transform:"translateX(var(--thumb-active-left))",width:"var(--thumb-active-width)"}},Si=function(){mr(null),jr(null),sr()};return!gr||!vr?null:s.createElement(He.ZP,{visible:!0,motionName:Nr,motionAppear:!0,onAppearStart:Yr,onAppearActive:Fn,onVisibleChanged:Si},function(mi,Hi){var ho=mi.className,Ur=mi.style,eo=(0,Me.Z)((0,Me.Z)({},Ur),{},{"--thumb-start-left":Xn,"--thumb-start-width":Je(gr==null?void 0:gr.width),"--thumb-active-left":lr,"--thumb-active-width":Je(vr==null?void 0:vr.width),"--thumb-start-top":Xn,"--thumb-start-height":Je(gr==null?void 0:gr.height),"--thumb-active-top":lr,"--thumb-active-height":Je(vr==null?void 0:vr.height)}),en={ref:(0,$e.sQ)(dn,Hi),style:eo,className:Y()("".concat(Pn,"-thumb"),ho)};return s.createElement("div",en)})}var bt=["prefixCls","direction","vertical","options","disabled","defaultValue","value","name","onChange","className","motionName"];function Ue(Te){if(typeof Te.title!="undefined")return Te.title;if((0,ve.Z)(Te.label)!=="object"){var Pn;return(Pn=Te.label)===null||Pn===void 0?void 0:Pn.toString()}}function kt(Te){return Te.map(function(Pn){if((0,ve.Z)(Pn)==="object"&&Pn!==null){var Lr=Ue(Pn);return(0,Me.Z)((0,Me.Z)({},Pn),{},{title:Lr})}return{label:Pn==null?void 0:Pn.toString(),title:Pn==null?void 0:Pn.toString(),value:Pn}})}var yt=function(Pn){var Lr=Pn.prefixCls,kr=Pn.className,In=Pn.disabled,Nr=Pn.checked,vi=Pn.label,sr=Pn.title,it=Pn.value,Ot=Pn.name,zn=Pn.onChange,dn=Pn.onFocus,fn=Pn.onBlur,xr=Pn.onKeyDown,Un=Pn.onKeyUp,Xr=Pn.onMouseDown,ei=function(ti){In||zn(ti,it)};return s.createElement("label",{className:Y()(kr,(0,Fe.Z)({},"".concat(Lr,"-item-disabled"),In)),onMouseDown:Xr},s.createElement("input",{name:Ot,className:"".concat(Lr,"-item-input"),type:"radio",disabled:In,checked:Nr,onChange:ei,onFocus:dn,onBlur:fn,onKeyDown:xr,onKeyUp:Un}),s.createElement("div",{className:"".concat(Lr,"-item-label"),title:sr,"aria-selected":Nr},vi))},Et=s.forwardRef(function(Te,Pn){var Lr,kr,In=Te.prefixCls,Nr=In===void 0?"rc-segmented":In,vi=Te.direction,sr=Te.vertical,it=Te.options,Ot=it===void 0?[]:it,zn=Te.disabled,dn=Te.defaultValue,fn=Te.value,xr=Te.name,Un=Te.onChange,Xr=Te.className,ei=Xr===void 0?"":Xr,Wr=Te.motionName,ti=Wr===void 0?"thumb-motion":Wr,gr=(0,We.Z)(Te,bt),mr=s.useRef(null),fr=s.useMemo(function(){return(0,$e.sQ)(mr,Pn)},[mr,Pn]),wr=s.useMemo(function(){return kt(Ot)},[Ot]),vr=(0,te.Z)((Lr=wr[0])===null||Lr===void 0?void 0:Lr.value,{value:fn,defaultValue:dn}),jr=(0,xe.Z)(vr,2),Xn=jr[0],lr=jr[1],Yr=s.useState(!1),Fn=(0,xe.Z)(Yr,2),Si=Fn[0],mi=Fn[1],Hi=function(X,ke){lr(ke),Un==null||Un(ke)},ho=(0,Ke.Z)(gr,["children"]),Ur=s.useState(!1),eo=(0,xe.Z)(Ur,2),en=eo[0],Mn=eo[1],Qn=s.useState(!1),Dr=(0,xe.Z)(Qn,2),ui=Dr[0],oi=Dr[1],Xi=function(){oi(!0)},Ji=function(){oi(!1)},Ro=function(){Mn(!1)},xo=function(X){X.key==="Tab"&&Mn(!0)},io=function(X){var ke=wr.findIndex(function(tn){return tn.value===Xn}),he=wr.length,Ye=(ke+X+he)%he,et=wr[Ye];et&&(lr(et.value),Un==null||Un(et.value))},Oe=function(X){switch(X.key){case"ArrowLeft":case"ArrowUp":io(-1);break;case"ArrowRight":case"ArrowDown":io(1);break}};return s.createElement("div",(0,c.Z)({role:"radiogroup","aria-label":"segmented control",tabIndex:zn?void 0:0},ho,{className:Y()(Nr,(kr={},(0,Fe.Z)(kr,"".concat(Nr,"-rtl"),vi==="rtl"),(0,Fe.Z)(kr,"".concat(Nr,"-disabled"),zn),(0,Fe.Z)(kr,"".concat(Nr,"-vertical"),sr),kr),ei),ref:fr}),s.createElement("div",{className:"".concat(Nr,"-group")},s.createElement(ht,{vertical:sr,prefixCls:Nr,value:Xn,containerRef:mr,motionName:"".concat(Nr,"-").concat(ti),direction:vi,getValueIndex:function(X){return wr.findIndex(function(ke){return ke.value===X})},onMotionStart:function(){mi(!0)},onMotionEnd:function(){mi(!1)}}),wr.map(function(de){var X;return s.createElement(yt,(0,c.Z)({},de,{name:xr,key:de.value,prefixCls:Nr,className:Y()(de.className,"".concat(Nr,"-item"),(X={},(0,Fe.Z)(X,"".concat(Nr,"-item-selected"),de.value===Xn&&!Si),(0,Fe.Z)(X,"".concat(Nr,"-item-focused"),ui&&en&&de.value===Xn),X)),checked:de.value===Xn,onChange:Hi,onFocus:Xi,onBlur:Ji,onKeyDown:Oe,onKeyUp:xo,onMouseDown:Ro,disabled:!!zn||!!de.disabled}))})))}),Vt=Et,Lt=Vt,hr=F(73188),er=F(98446),Hn=F(95741),Ze=F(55921),Nt=F(34299),sn=F(84825),Xt=F(83509);function Le(Te,Pn){return{[`${Te}, ${Te}:hover, ${Te}:focus`]:{color:Pn.colorTextDisabled,cursor:"not-allowed"}}}function $n(Te){return{backgroundColor:Te.itemSelectedBg,boxShadow:Te.boxShadowTertiary}}const cn=Object.assign({overflow:"hidden"},Nt.vS),En=Te=>{const{componentCls:Pn}=Te,Lr=Te.calc(Te.controlHeight).sub(Te.calc(Te.trackPadding).mul(2)).equal(),kr=Te.calc(Te.controlHeightLG).sub(Te.calc(Te.trackPadding).mul(2)).equal(),In=Te.calc(Te.controlHeightSM).sub(Te.calc(Te.trackPadding).mul(2)).equal();return{[Pn]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,Nt.Wf)(Te)),{display:"inline-block",padding:Te.trackPadding,color:Te.itemColor,background:Te.trackBg,borderRadius:Te.borderRadius,transition:`all ${Te.motionDurationMid} ${Te.motionEaseInOut}`}),(0,Nt.Qy)(Te)),{[`${Pn}-group`]:{position:"relative",display:"flex",alignItems:"stretch",justifyItems:"flex-start",flexDirection:"row",width:"100%"},[`&${Pn}-rtl`]:{direction:"rtl"},[`&${Pn}-vertical`]:{[`${Pn}-group`]:{flexDirection:"column"},[`${Pn}-thumb`]:{width:"100%",height:0,padding:`0 ${(0,Ze.bf)(Te.paddingXXS)}`}},[`&${Pn}-block`]:{display:"flex"},[`&${Pn}-block ${Pn}-item`]:{flex:1,minWidth:0},[`${Pn}-item`]:{position:"relative",textAlign:"center",cursor:"pointer",transition:`color ${Te.motionDurationMid} ${Te.motionEaseInOut}`,borderRadius:Te.borderRadiusSM,transform:"translateZ(0)","&-selected":Object.assign(Object.assign({},$n(Te)),{color:Te.itemSelectedColor}),"&-focused":Object.assign({},(0,Nt.oN)(Te)),"&::after":{content:'""',position:"absolute",zIndex:-1,width:"100%",height:"100%",top:0,insetInlineStart:0,borderRadius:"inherit",opacity:0,transition:`opacity ${Te.motionDurationMid}`,pointerEvents:"none"},[`&:hover:not(${Pn}-item-selected):not(${Pn}-item-disabled)`]:{color:Te.itemHoverColor,"&::after":{opacity:1,backgroundColor:Te.itemHoverBg}},[`&:active:not(${Pn}-item-selected):not(${Pn}-item-disabled)`]:{color:Te.itemHoverColor,"&::after":{opacity:1,backgroundColor:Te.itemActiveBg}},"&-label":Object.assign({minHeight:Lr,lineHeight:(0,Ze.bf)(Lr),padding:`0 ${(0,Ze.bf)(Te.segmentedPaddingHorizontal)}`},cn),"&-icon + *":{marginInlineStart:Te.calc(Te.marginSM).div(2).equal()},"&-input":{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:0,height:0,opacity:0,pointerEvents:"none"}},[`${Pn}-thumb`]:Object.assign(Object.assign({},$n(Te)),{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:0,height:"100%",padding:`${(0,Ze.bf)(Te.paddingXXS)} 0`,borderRadius:Te.borderRadiusSM,transition:`transform ${Te.motionDurationSlow} ${Te.motionEaseInOut}, height ${Te.motionDurationSlow} ${Te.motionEaseInOut}`,[`& ~ ${Pn}-item:not(${Pn}-item-selected):not(${Pn}-item-disabled)::after`]:{backgroundColor:"transparent"}}),[`&${Pn}-lg`]:{borderRadius:Te.borderRadiusLG,[`${Pn}-item-label`]:{minHeight:kr,lineHeight:(0,Ze.bf)(kr),padding:`0 ${(0,Ze.bf)(Te.segmentedPaddingHorizontal)}`,fontSize:Te.fontSizeLG},[`${Pn}-item, ${Pn}-thumb`]:{borderRadius:Te.borderRadius}},[`&${Pn}-sm`]:{borderRadius:Te.borderRadiusSM,[`${Pn}-item-label`]:{minHeight:In,lineHeight:(0,Ze.bf)(In),padding:`0 ${(0,Ze.bf)(Te.segmentedPaddingHorizontalSM)}`},[`${Pn}-item, ${Pn}-thumb`]:{borderRadius:Te.borderRadiusXS}}}),Le(`&-disabled ${Pn}-item`,Te)),Le(`${Pn}-item-disabled`,Te)),{[`${Pn}-thumb-motion-appear-active`]:{transition:`transform ${Te.motionDurationSlow} ${Te.motionEaseInOut}, width ${Te.motionDurationSlow} ${Te.motionEaseInOut}`,willChange:"transform, width"},[`&${Pn}-shape-round`]:{borderRadius:9999,[`${Pn}-item, ${Pn}-thumb`]:{borderRadius:9999}}})}},lt=Te=>{const{colorTextLabel:Pn,colorText:Lr,colorFillSecondary:kr,colorBgElevated:In,colorFill:Nr,lineWidthBold:vi,colorBgLayout:sr}=Te;return{trackPadding:vi,trackBg:sr,itemColor:Pn,itemHoverColor:Lr,itemHoverBg:kr,itemSelectedBg:In,itemActiveBg:Nr,itemSelectedColor:Lr}};var Gt=(0,sn.I$)("Segmented",Te=>{const{lineWidth:Pn,calc:Lr}=Te,kr=(0,Xt.IX)(Te,{segmentedPaddingHorizontal:Lr(Te.controlPaddingHorizontal).sub(Pn).equal(),segmentedPaddingHorizontalSM:Lr(Te.controlPaddingHorizontalSM).sub(Pn).equal()});return[En(kr)]},lt),bn=function(Te,Pn){var Lr={};for(var kr in Te)Object.prototype.hasOwnProperty.call(Te,kr)&&Pn.indexOf(kr)<0&&(Lr[kr]=Te[kr]);if(Te!=null&&typeof Object.getOwnPropertySymbols=="function")for(var In=0,kr=Object.getOwnPropertySymbols(Te);In<kr.length;In++)Pn.indexOf(kr[In])<0&&Object.prototype.propertyIsEnumerable.call(Te,kr[In])&&(Lr[kr[In]]=Te[kr[In]]);return Lr};function fe(Te){return typeof Te=="object"&&!!(Te!=null&&Te.icon)}var Jr=s.forwardRef((Te,Pn)=>{const Lr=(0,hr.Z)(),{prefixCls:kr,className:In,rootClassName:Nr,block:vi,options:sr=[],size:it="middle",style:Ot,vertical:zn,shape:dn="default",name:fn=Lr}=Te,xr=bn(Te,["prefixCls","className","rootClassName","block","options","size","style","vertical","shape","name"]),{getPrefixCls:Un,direction:Xr,className:ei,style:Wr}=(0,er.dj)("segmented"),ti=Un("segmented",kr),[gr,mr,fr]=Gt(ti),wr=(0,Hn.Z)(it),vr=s.useMemo(()=>sr.map(lr=>{if(fe(lr)){const{icon:Yr,label:Fn}=lr,Si=bn(lr,["icon","label"]);return Object.assign(Object.assign({},Si),{label:s.createElement(s.Fragment,null,s.createElement("span",{className:`${ti}-item-icon`},Yr),Fn&&s.createElement("span",null,Fn))})}return lr}),[sr,ti]),jr=Y()(In,Nr,ei,{[`${ti}-block`]:vi,[`${ti}-sm`]:wr==="small",[`${ti}-lg`]:wr==="large",[`${ti}-vertical`]:zn,[`${ti}-shape-${dn}`]:dn==="round"},mr,fr),Xn=Object.assign(Object.assign({},Wr),Ot);return gr(s.createElement(Lt,Object.assign({},xr,{name:fn,className:jr,style:Xn,options:vr,ref:Pn,prefixCls:ti,direction:Xr,vertical:zn})))})},30142:function(Zr,jt,F){"use strict";var s=F(75271),ot=F(82187),Y=F.n(ot),c=F(12321),xe=F(18051),We=F(19952),Fe=F(13635),Me=F(52445),ve=F(94773),te=F(98446),Ke=F(22463),$e=F(98472),He=F(38437),qe=F(95741),dt=F(60824),Je=F(7038),ht=F(23137),bt=F(67699),Ue=F(95799),kt=F(80043),yt=F(50360),Et=F(54299),Vt=function(Ze,Nt){var sn={};for(var Xt in Ze)Object.prototype.hasOwnProperty.call(Ze,Xt)&&Nt.indexOf(Xt)<0&&(sn[Xt]=Ze[Xt]);if(Ze!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Le=0,Xt=Object.getOwnPropertySymbols(Ze);Le<Xt.length;Le++)Nt.indexOf(Xt[Le])<0&&Object.prototype.propertyIsEnumerable.call(Ze,Xt[Le])&&(sn[Xt[Le]]=Ze[Xt[Le]]);return sn};const Lt="SECRET_COMBOBOX_MODE_DO_NOT_USE",hr=(Ze,Nt)=>{var sn;const{prefixCls:Xt,bordered:Le,className:$n,rootClassName:cn,getPopupContainer:En,popupClassName:lt,dropdownClassName:Gt,listHeight:bn=256,placement:fe,listItemHeight:Wt,size:hi,disabled:Jr,notFoundContent:Te,status:Pn,builtinPlacements:Lr,dropdownMatchSelectWidth:kr,popupMatchSelectWidth:In,direction:Nr,style:vi,allowClear:sr,variant:it,dropdownStyle:Ot,transitionName:zn,tagRender:dn,maxCount:fn,prefix:xr}=Ze,Un=Vt(Ze,["prefixCls","bordered","className","rootClassName","getPopupContainer","popupClassName","dropdownClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","direction","style","allowClear","variant","dropdownStyle","transitionName","tagRender","maxCount","prefix"]),{getPopupContainer:Xr,getPrefixCls:ei,renderEmpty:Wr,direction:ti,virtual:gr,popupMatchSelectWidth:mr,popupOverflow:fr}=s.useContext(te.E_),wr=(0,te.dj)("select"),[,vr]=(0,bt.ZP)(),jr=Wt!=null?Wt:vr==null?void 0:vr.controlHeight,Xn=ei("select",Xt),lr=ei(),Yr=Nr!=null?Nr:ti,{compactSize:Fn,compactItemClassnames:Si}=(0,ht.ri)(Xn,Yr),[mi,Hi]=(0,Je.Z)("select",it,Le),ho=(0,He.Z)(Xn),[Ur,eo,en]=(0,kt.Z)(Xn,ho),Mn=s.useMemo(()=>{const{mode:Ht}=Ze;if(Ht!=="combobox")return Ht===Lt?"combobox":Ht},[Ze.mode]),Qn=Mn==="multiple"||Mn==="tags",Dr=(0,Et.Z)(Ze.suffixIcon,Ze.showArrow),ui=(sn=In!=null?In:kr)!==null&&sn!==void 0?sn:mr,{status:oi,hasFeedback:Xi,isFormItemInput:Ji,feedbackIcon:Ro}=s.useContext(dt.aM),xo=(0,ve.F)(oi,Pn);let io;Te!==void 0?io=Te:Mn==="combobox"?io=null:io=(Wr==null?void 0:Wr("Select"))||s.createElement(Ke.Z,{componentName:"Select"});const{suffixIcon:Oe,itemIcon:de,removeIcon:X,clearIcon:ke}=(0,yt.Z)(Object.assign(Object.assign({},Un),{multiple:Qn,hasFeedback:Xi,feedbackIcon:Ro,showSuffixIcon:Dr,prefixCls:Xn,componentName:"Select"})),he=sr===!0?{clearIcon:ke}:sr,Ye=(0,xe.Z)(Un,["suffixIcon","itemIcon"]),et=Y()(lt||Gt,{[`${Xn}-dropdown-${Yr}`]:Yr==="rtl"},cn,en,ho,eo),tn=(0,qe.Z)(Ht=>{var Qt;return(Qt=hi!=null?hi:Fn)!==null&&Qt!==void 0?Qt:Ht}),Tt=s.useContext($e.Z),nn=Jr!=null?Jr:Tt,vn=Y()({[`${Xn}-lg`]:tn==="large",[`${Xn}-sm`]:tn==="small",[`${Xn}-rtl`]:Yr==="rtl",[`${Xn}-${mi}`]:Hi,[`${Xn}-in-form-item`]:Ji},(0,ve.Z)(Xn,xo,Xi),Si,wr.className,$n,cn,en,ho,eo),Xe=s.useMemo(()=>fe!==void 0?fe:Yr==="rtl"?"bottomRight":"bottomLeft",[fe,Yr]),[Mt]=(0,We.Cn)("SelectLike",Ot==null?void 0:Ot.zIndex);return Ur(s.createElement(c.ZP,Object.assign({ref:Nt,virtual:gr,showSearch:wr.showSearch},Ye,{style:Object.assign(Object.assign({},wr.style),vi),dropdownMatchSelectWidth:ui,transitionName:(0,Fe.m)(lr,"slide-up",zn),builtinPlacements:(0,Ue.Z)(Lr,fr),listHeight:bn,listItemHeight:jr,mode:Mn,prefixCls:Xn,placement:Xe,direction:Yr,prefix:xr,suffixIcon:Oe,menuItemSelectedIcon:de,removeIcon:X,allowClear:he,notFoundContent:io,className:vn,getPopupContainer:En||Xr,dropdownClassName:et,disabled:nn,dropdownStyle:Object.assign(Object.assign({},Ot),{zIndex:Mt}),maxCount:Qn?fn:void 0,tagRender:Qn?dn:void 0})))},er=s.forwardRef(hr),Hn=(0,Me.Z)(er,"dropdownAlign");er.SECRET_COMBOBOX_MODE_DO_NOT_USE=Lt,er.Option=c.Wx,er.OptGroup=c.Xo,er._InternalPanelDoNotUseOrYouWillBeFired=Hn,jt.default=er},95799:function(Zr,jt){"use strict";const F=ot=>{const c={overflow:{adjustX:!0,adjustY:!0,shiftY:!0},htmlRegion:ot==="scroll"?"scroll":"visible",dynamicInset:!0};return{bottomLeft:Object.assign(Object.assign({},c),{points:["tl","bl"],offset:[0,4]}),bottomRight:Object.assign(Object.assign({},c),{points:["tr","br"],offset:[0,4]}),topLeft:Object.assign(Object.assign({},c),{points:["bl","tl"],offset:[0,-4]}),topRight:Object.assign(Object.assign({},c),{points:["br","tr"],offset:[0,-4]})}};function s(ot,Y){return ot||F(Y)}jt.Z=s},80043:function(Zr,jt,F){"use strict";F.d(jt,{Z:function(){return Xt}});var s=F(34299),ot=F(9288),Y=F(84825),c=F(83509),xe=F(17877),We=F(48221);const Fe=Le=>{const{optionHeight:$n,optionFontSize:cn,optionLineHeight:En,optionPadding:lt}=Le;return{position:"relative",display:"block",minHeight:$n,padding:lt,color:Le.colorText,fontWeight:"normal",fontSize:cn,lineHeight:En,boxSizing:"border-box"}};var ve=Le=>{const{antCls:$n,componentCls:cn}=Le,En=`${cn}-item`,lt=`&${$n}-slide-up-enter${$n}-slide-up-enter-active`,Gt=`&${$n}-slide-up-appear${$n}-slide-up-appear-active`,bn=`&${$n}-slide-up-leave${$n}-slide-up-leave-active`,fe=`${cn}-dropdown-placement-`,Wt=`${En}-option-selected`;return[{[`${cn}-dropdown`]:Object.assign(Object.assign({},(0,s.Wf)(Le)),{position:"absolute",top:-9999,zIndex:Le.zIndexPopup,boxSizing:"border-box",padding:Le.paddingXXS,overflow:"hidden",fontSize:Le.fontSize,fontVariant:"initial",backgroundColor:Le.colorBgElevated,borderRadius:Le.borderRadiusLG,outline:"none",boxShadow:Le.boxShadowSecondary,[`
          ${lt}${fe}bottomLeft,
          ${Gt}${fe}bottomLeft
        `]:{animationName:xe.fJ},[`
          ${lt}${fe}topLeft,
          ${Gt}${fe}topLeft,
          ${lt}${fe}topRight,
          ${Gt}${fe}topRight
        `]:{animationName:xe.Qt},[`${bn}${fe}bottomLeft`]:{animationName:xe.Uw},[`
          ${bn}${fe}topLeft,
          ${bn}${fe}topRight
        `]:{animationName:xe.ly},"&-hidden":{display:"none"},[En]:Object.assign(Object.assign({},Fe(Le)),{cursor:"pointer",transition:`background ${Le.motionDurationSlow} ease`,borderRadius:Le.borderRadiusSM,"&-group":{color:Le.colorTextDescription,fontSize:Le.fontSizeSM,cursor:"default"},"&-option":{display:"flex","&-content":Object.assign({flex:"auto"},s.vS),"&-state":{flex:"none",display:"flex",alignItems:"center"},[`&-active:not(${En}-option-disabled)`]:{backgroundColor:Le.optionActiveBg},[`&-selected:not(${En}-option-disabled)`]:{color:Le.optionSelectedColor,fontWeight:Le.optionSelectedFontWeight,backgroundColor:Le.optionSelectedBg,[`${En}-option-state`]:{color:Le.colorPrimary}},"&-disabled":{[`&${En}-option-selected`]:{backgroundColor:Le.colorBgContainerDisabled},color:Le.colorTextDisabled,cursor:"not-allowed"},"&-grouped":{paddingInlineStart:Le.calc(Le.controlPaddingHorizontal).mul(2).equal()}},"&-empty":Object.assign(Object.assign({},Fe(Le)),{color:Le.colorTextDisabled})}),[`${Wt}:has(+ ${Wt})`]:{borderEndStartRadius:0,borderEndEndRadius:0,[`& + ${Wt}`]:{borderStartStartRadius:0,borderStartEndRadius:0}},"&-rtl":{direction:"rtl"}})},(0,xe.oN)(Le,"slide-up"),(0,xe.oN)(Le,"slide-down"),(0,We.Fm)(Le,"move-up"),(0,We.Fm)(Le,"move-down")]},te=F(17543),Ke=F(55921);function $e(Le,$n){const{componentCls:cn,inputPaddingHorizontalBase:En,borderRadius:lt}=Le,Gt=Le.calc(Le.controlHeight).sub(Le.calc(Le.lineWidth).mul(2)).equal(),bn=$n?`${cn}-${$n}`:"";return{[`${cn}-single${bn}`]:{fontSize:Le.fontSize,height:Le.controlHeight,[`${cn}-selector`]:Object.assign(Object.assign({},(0,s.Wf)(Le,!0)),{display:"flex",borderRadius:lt,flex:"1 1 auto",[`${cn}-selection-search`]:{position:"absolute",inset:0,width:"100%","&-input":{width:"100%",WebkitAppearance:"textfield"}},[`
          ${cn}-selection-item,
          ${cn}-selection-placeholder
        `]:{display:"block",padding:0,lineHeight:(0,Ke.bf)(Gt),transition:`all ${Le.motionDurationSlow}, visibility 0s`,alignSelf:"center"},[`${cn}-selection-placeholder`]:{transition:"none",pointerEvents:"none"},[["&:after",`${cn}-selection-item:empty:after`,`${cn}-selection-placeholder:empty:after`].join(",")]:{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}}),[`
        &${cn}-show-arrow ${cn}-selection-item,
        &${cn}-show-arrow ${cn}-selection-search,
        &${cn}-show-arrow ${cn}-selection-placeholder
      `]:{paddingInlineEnd:Le.showArrowPaddingInlineEnd},[`&${cn}-open ${cn}-selection-item`]:{color:Le.colorTextPlaceholder},[`&:not(${cn}-customize-input)`]:{[`${cn}-selector`]:{width:"100%",height:"100%",alignItems:"center",padding:`0 ${(0,Ke.bf)(En)}`,[`${cn}-selection-search-input`]:{height:Gt},"&:after":{lineHeight:(0,Ke.bf)(Gt)}}},[`&${cn}-customize-input`]:{[`${cn}-selector`]:{"&:after":{display:"none"},[`${cn}-selection-search`]:{position:"static",width:"100%"},[`${cn}-selection-placeholder`]:{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:`0 ${(0,Ke.bf)(En)}`,"&:after":{display:"none"}}}}}}}function He(Le){const{componentCls:$n}=Le,cn=Le.calc(Le.controlPaddingHorizontalSM).sub(Le.lineWidth).equal();return[$e(Le),$e((0,c.IX)(Le,{controlHeight:Le.controlHeightSM,borderRadius:Le.borderRadiusSM}),"sm"),{[`${$n}-single${$n}-sm`]:{[`&:not(${$n}-customize-input)`]:{[`${$n}-selector`]:{padding:`0 ${(0,Ke.bf)(cn)}`},[`&${$n}-show-arrow ${$n}-selection-search`]:{insetInlineEnd:Le.calc(cn).add(Le.calc(Le.fontSize).mul(1.5)).equal()},[`
            &${$n}-show-arrow ${$n}-selection-item,
            &${$n}-show-arrow ${$n}-selection-placeholder
          `]:{paddingInlineEnd:Le.calc(Le.fontSize).mul(1.5).equal()}}}},$e((0,c.IX)(Le,{controlHeight:Le.singleItemHeightLG,fontSize:Le.fontSizeLG,borderRadius:Le.borderRadiusLG}),"lg")]}const qe=Le=>{const{fontSize:$n,lineHeight:cn,lineWidth:En,controlHeight:lt,controlHeightSM:Gt,controlHeightLG:bn,paddingXXS:fe,controlPaddingHorizontal:Wt,zIndexPopupBase:hi,colorText:Jr,fontWeightStrong:Te,controlItemBgActive:Pn,controlItemBgHover:Lr,colorBgContainer:kr,colorFillSecondary:In,colorBgContainerDisabled:Nr,colorTextDisabled:vi,colorPrimaryHover:sr,colorPrimary:it,controlOutline:Ot}=Le,zn=fe*2,dn=En*2,fn=Math.min(lt-zn,lt-dn),xr=Math.min(Gt-zn,Gt-dn),Un=Math.min(bn-zn,bn-dn);return{INTERNAL_FIXED_ITEM_MARGIN:Math.floor(fe/2),zIndexPopup:hi+50,optionSelectedColor:Jr,optionSelectedFontWeight:Te,optionSelectedBg:Pn,optionActiveBg:Lr,optionPadding:`${(lt-$n*cn)/2}px ${Wt}px`,optionFontSize:$n,optionLineHeight:cn,optionHeight:lt,selectorBg:kr,clearBg:kr,singleItemHeightLG:bn,multipleItemBg:In,multipleItemBorderColor:"transparent",multipleItemHeight:fn,multipleItemHeightSM:xr,multipleItemHeightLG:Un,multipleSelectorBgDisabled:Nr,multipleItemColorDisabled:vi,multipleItemBorderColorDisabled:"transparent",showArrowPaddingInlineEnd:Math.ceil(Le.fontSize*1.25),hoverBorderColor:sr,activeBorderColor:it,activeOutlineColor:Ot,selectAffixPadding:fe}},dt=(Le,$n)=>{const{componentCls:cn,antCls:En,controlOutlineWidth:lt}=Le;return{[`&:not(${cn}-customize-input) ${cn}-selector`]:{border:`${(0,Ke.bf)(Le.lineWidth)} ${Le.lineType} ${$n.borderColor}`,background:Le.selectorBg},[`&:not(${cn}-disabled):not(${cn}-customize-input):not(${En}-pagination-size-changer)`]:{[`&:hover ${cn}-selector`]:{borderColor:$n.hoverBorderHover},[`${cn}-focused& ${cn}-selector`]:{borderColor:$n.activeBorderColor,boxShadow:`0 0 0 ${(0,Ke.bf)(lt)} ${$n.activeOutlineColor}`,outline:0},[`${cn}-prefix`]:{color:$n.color}}}},Je=(Le,$n)=>({[`&${Le.componentCls}-status-${$n.status}`]:Object.assign({},dt(Le,$n))}),ht=Le=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign({},dt(Le,{borderColor:Le.colorBorder,hoverBorderHover:Le.hoverBorderColor,activeBorderColor:Le.activeBorderColor,activeOutlineColor:Le.activeOutlineColor,color:Le.colorText})),Je(Le,{status:"error",borderColor:Le.colorError,hoverBorderHover:Le.colorErrorHover,activeBorderColor:Le.colorError,activeOutlineColor:Le.colorErrorOutline,color:Le.colorError})),Je(Le,{status:"warning",borderColor:Le.colorWarning,hoverBorderHover:Le.colorWarningHover,activeBorderColor:Le.colorWarning,activeOutlineColor:Le.colorWarningOutline,color:Le.colorWarning})),{[`&${Le.componentCls}-disabled`]:{[`&:not(${Le.componentCls}-customize-input) ${Le.componentCls}-selector`]:{background:Le.colorBgContainerDisabled,color:Le.colorTextDisabled}},[`&${Le.componentCls}-multiple ${Le.componentCls}-selection-item`]:{background:Le.multipleItemBg,border:`${(0,Ke.bf)(Le.lineWidth)} ${Le.lineType} ${Le.multipleItemBorderColor}`}})}),bt=(Le,$n)=>{const{componentCls:cn,antCls:En}=Le;return{[`&:not(${cn}-customize-input) ${cn}-selector`]:{background:$n.bg,border:`${(0,Ke.bf)(Le.lineWidth)} ${Le.lineType} transparent`,color:$n.color},[`&:not(${cn}-disabled):not(${cn}-customize-input):not(${En}-pagination-size-changer)`]:{[`&:hover ${cn}-selector`]:{background:$n.hoverBg},[`${cn}-focused& ${cn}-selector`]:{background:Le.selectorBg,borderColor:$n.activeBorderColor,outline:0}}}},Ue=(Le,$n)=>({[`&${Le.componentCls}-status-${$n.status}`]:Object.assign({},bt(Le,$n))}),kt=Le=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign({},bt(Le,{bg:Le.colorFillTertiary,hoverBg:Le.colorFillSecondary,activeBorderColor:Le.activeBorderColor,color:Le.colorText})),Ue(Le,{status:"error",bg:Le.colorErrorBg,hoverBg:Le.colorErrorBgHover,activeBorderColor:Le.colorError,color:Le.colorError})),Ue(Le,{status:"warning",bg:Le.colorWarningBg,hoverBg:Le.colorWarningBgHover,activeBorderColor:Le.colorWarning,color:Le.colorWarning})),{[`&${Le.componentCls}-disabled`]:{[`&:not(${Le.componentCls}-customize-input) ${Le.componentCls}-selector`]:{borderColor:Le.colorBorder,background:Le.colorBgContainerDisabled,color:Le.colorTextDisabled}},[`&${Le.componentCls}-multiple ${Le.componentCls}-selection-item`]:{background:Le.colorBgContainer,border:`${(0,Ke.bf)(Le.lineWidth)} ${Le.lineType} ${Le.colorSplit}`}})}),yt=Le=>({"&-borderless":{[`${Le.componentCls}-selector`]:{background:"transparent",border:`${(0,Ke.bf)(Le.lineWidth)} ${Le.lineType} transparent`},[`&${Le.componentCls}-disabled`]:{[`&:not(${Le.componentCls}-customize-input) ${Le.componentCls}-selector`]:{color:Le.colorTextDisabled}},[`&${Le.componentCls}-multiple ${Le.componentCls}-selection-item`]:{background:Le.multipleItemBg,border:`${(0,Ke.bf)(Le.lineWidth)} ${Le.lineType} ${Le.multipleItemBorderColor}`},[`&${Le.componentCls}-status-error`]:{[`${Le.componentCls}-prefix, ${Le.componentCls}-selection-item`]:{color:Le.colorError}},[`&${Le.componentCls}-status-warning`]:{[`${Le.componentCls}-prefix, ${Le.componentCls}-selection-item`]:{color:Le.colorWarning}}}}),Et=(Le,$n)=>{const{componentCls:cn,antCls:En}=Le;return{[`&:not(${cn}-customize-input) ${cn}-selector`]:{borderWidth:`0 0 ${(0,Ke.bf)(Le.lineWidth)} 0`,borderStyle:`none none ${Le.lineType} none`,borderColor:$n.borderColor,background:Le.selectorBg,borderRadius:0},[`&:not(${cn}-disabled):not(${cn}-customize-input):not(${En}-pagination-size-changer)`]:{[`&:hover ${cn}-selector`]:{borderColor:$n.hoverBorderHover},[`${cn}-focused& ${cn}-selector`]:{borderColor:$n.activeBorderColor,outline:0},[`${cn}-prefix`]:{color:$n.color}}}},Vt=(Le,$n)=>({[`&${Le.componentCls}-status-${$n.status}`]:Object.assign({},Et(Le,$n))}),Lt=Le=>({"&-underlined":Object.assign(Object.assign(Object.assign(Object.assign({},Et(Le,{borderColor:Le.colorBorder,hoverBorderHover:Le.hoverBorderColor,activeBorderColor:Le.activeBorderColor,activeOutlineColor:Le.activeOutlineColor,color:Le.colorText})),Vt(Le,{status:"error",borderColor:Le.colorError,hoverBorderHover:Le.colorErrorHover,activeBorderColor:Le.colorError,activeOutlineColor:Le.colorErrorOutline,color:Le.colorError})),Vt(Le,{status:"warning",borderColor:Le.colorWarning,hoverBorderHover:Le.colorWarningHover,activeBorderColor:Le.colorWarning,activeOutlineColor:Le.colorWarningOutline,color:Le.colorWarning})),{[`&${Le.componentCls}-disabled`]:{[`&:not(${Le.componentCls}-customize-input) ${Le.componentCls}-selector`]:{color:Le.colorTextDisabled}},[`&${Le.componentCls}-multiple ${Le.componentCls}-selection-item`]:{background:Le.multipleItemBg,border:`${(0,Ke.bf)(Le.lineWidth)} ${Le.lineType} ${Le.multipleItemBorderColor}`}})});var er=Le=>({[Le.componentCls]:Object.assign(Object.assign(Object.assign(Object.assign({},ht(Le)),kt(Le)),yt(Le)),Lt(Le))});const Hn=Le=>{const{componentCls:$n}=Le;return{position:"relative",transition:`all ${Le.motionDurationMid} ${Le.motionEaseInOut}`,input:{cursor:"pointer"},[`${$n}-show-search&`]:{cursor:"text",input:{cursor:"auto",color:"inherit",height:"100%"}},[`${$n}-disabled&`]:{cursor:"not-allowed",input:{cursor:"not-allowed"}}}},Ze=Le=>{const{componentCls:$n}=Le;return{[`${$n}-selection-search-input`]:{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none",fontFamily:"inherit","&::-webkit-search-cancel-button":{display:"none","-webkit-appearance":"none"}}}},Nt=Le=>{const{antCls:$n,componentCls:cn,inputPaddingHorizontalBase:En,iconCls:lt}=Le;return{[cn]:Object.assign(Object.assign({},(0,s.Wf)(Le)),{position:"relative",display:"inline-flex",cursor:"pointer",[`&:not(${cn}-customize-input) ${cn}-selector`]:Object.assign(Object.assign({},Hn(Le)),Ze(Le)),[`${cn}-selection-item`]:Object.assign(Object.assign({flex:1,fontWeight:"normal",position:"relative",userSelect:"none"},s.vS),{[`> ${$n}-typography`]:{display:"inline"}}),[`${cn}-selection-placeholder`]:Object.assign(Object.assign({},s.vS),{flex:1,color:Le.colorTextPlaceholder,pointerEvents:"none"}),[`${cn}-arrow`]:Object.assign(Object.assign({},(0,s.Ro)()),{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:En,height:Le.fontSizeIcon,marginTop:Le.calc(Le.fontSizeIcon).mul(-1).div(2).equal(),color:Le.colorTextQuaternary,fontSize:Le.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center",transition:`opacity ${Le.motionDurationSlow} ease`,[lt]:{verticalAlign:"top",transition:`transform ${Le.motionDurationSlow}`,"> svg":{verticalAlign:"top"},[`&:not(${cn}-suffix)`]:{pointerEvents:"auto"}},[`${cn}-disabled &`]:{cursor:"not-allowed"},"> *:not(:last-child)":{marginInlineEnd:8}}),[`${cn}-selection-wrap`]:{display:"flex",width:"100%",position:"relative",minWidth:0,"&:after":{content:'"\\a0"',width:0,overflow:"hidden"}},[`${cn}-prefix`]:{flex:"none",marginInlineEnd:Le.selectAffixPadding},[`${cn}-clear`]:{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:En,zIndex:1,display:"inline-block",width:Le.fontSizeIcon,height:Le.fontSizeIcon,marginTop:Le.calc(Le.fontSizeIcon).mul(-1).div(2).equal(),color:Le.colorTextQuaternary,fontSize:Le.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",cursor:"pointer",opacity:0,transition:`color ${Le.motionDurationMid} ease, opacity ${Le.motionDurationSlow} ease`,textRendering:"auto","&:before":{display:"block"},"&:hover":{color:Le.colorTextTertiary}},[`&:hover ${cn}-clear`]:{opacity:1,background:Le.colorBgBase,borderRadius:"50%"}}),[`${cn}-status`]:{"&-error, &-warning, &-success, &-validating":{[`&${cn}-has-feedback`]:{[`${cn}-clear`]:{insetInlineEnd:Le.calc(En).add(Le.fontSize).add(Le.paddingXS).equal()}}}}}},sn=Le=>{const{componentCls:$n}=Le;return[{[$n]:{[`&${$n}-in-form-item`]:{width:"100%"}}},Nt(Le),He(Le),(0,te.ZP)(Le),ve(Le),{[`${$n}-rtl`]:{direction:"rtl"}},(0,ot.c)(Le,{borderElCls:`${$n}-selector`,focusElCls:`${$n}-focused`})]};var Xt=(0,Y.I$)("Select",(Le,$n)=>{let{rootPrefixCls:cn}=$n;const En=(0,c.IX)(Le,{rootPrefixCls:cn,inputPaddingHorizontalBase:Le.calc(Le.paddingSM).sub(1).equal(),multipleSelectItemHeight:Le.multipleItemHeight,selectHeight:Le.controlHeight});return[sn(En),er(En)]},qe,{unitless:{optionLineHeight:!0,optionSelectedFontWeight:!0}})},17543:function(Zr,jt,F){"use strict";F.d(jt,{_z:function(){return We},gp:function(){return c}});var s=F(55921),ot=F(34299),Y=F(83509);const c=te=>{const{multipleSelectItemHeight:Ke,paddingXXS:$e,lineWidth:He,INTERNAL_FIXED_ITEM_MARGIN:qe}=te,dt=te.max(te.calc($e).sub(He).equal(),0),Je=te.max(te.calc(dt).sub(qe).equal(),0);return{basePadding:dt,containerPadding:Je,itemHeight:(0,s.bf)(Ke),itemLineHeight:(0,s.bf)(te.calc(Ke).sub(te.calc(te.lineWidth).mul(2)).equal())}},xe=te=>{const{multipleSelectItemHeight:Ke,selectHeight:$e,lineWidth:He}=te;return te.calc($e).sub(Ke).div(2).sub(He).equal()},We=te=>{const{componentCls:Ke,iconCls:$e,borderRadiusSM:He,motionDurationSlow:qe,paddingXS:dt,multipleItemColorDisabled:Je,multipleItemBorderColorDisabled:ht,colorIcon:bt,colorIconHover:Ue,INTERNAL_FIXED_ITEM_MARGIN:kt}=te;return{[`${Ke}-selection-overflow`]:{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"100%",display:"inline-flex"},[`${Ke}-selection-item`]:{display:"flex",alignSelf:"center",flex:"none",boxSizing:"border-box",maxWidth:"100%",marginBlock:kt,borderRadius:He,cursor:"default",transition:`font-size ${qe}, line-height ${qe}, height ${qe}`,marginInlineEnd:te.calc(kt).mul(2).equal(),paddingInlineStart:dt,paddingInlineEnd:te.calc(dt).div(2).equal(),[`${Ke}-disabled&`]:{color:Je,borderColor:ht,cursor:"not-allowed"},"&-content":{display:"inline-block",marginInlineEnd:te.calc(dt).div(2).equal(),overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"},"&-remove":Object.assign(Object.assign({},(0,ot.Ro)()),{display:"inline-flex",alignItems:"center",color:bt,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer",[`> ${$e}`]:{verticalAlign:"-0.2em"},"&:hover":{color:Ue}})}}}},Fe=(te,Ke)=>{const{componentCls:$e,INTERNAL_FIXED_ITEM_MARGIN:He}=te,qe=`${$e}-selection-overflow`,dt=te.multipleSelectItemHeight,Je=xe(te),ht=Ke?`${$e}-${Ke}`:"",bt=c(te);return{[`${$e}-multiple${ht}`]:Object.assign(Object.assign({},We(te)),{[`${$e}-selector`]:{display:"flex",alignItems:"center",width:"100%",height:"100%",paddingInline:bt.basePadding,paddingBlock:bt.containerPadding,borderRadius:te.borderRadius,[`${$e}-disabled&`]:{background:te.multipleSelectorBgDisabled,cursor:"not-allowed"},"&:after":{display:"inline-block",width:0,margin:`${(0,s.bf)(He)} 0`,lineHeight:(0,s.bf)(dt),visibility:"hidden",content:'"\\a0"'}},[`${$e}-selection-item`]:{height:bt.itemHeight,lineHeight:(0,s.bf)(bt.itemLineHeight)},[`${$e}-selection-wrap`]:{alignSelf:"flex-start","&:after":{lineHeight:(0,s.bf)(dt),marginBlock:He}},[`${$e}-prefix`]:{marginInlineStart:te.calc(te.inputPaddingHorizontalBase).sub(bt.basePadding).equal()},[`${qe}-item + ${qe}-item,
        ${$e}-prefix + ${$e}-selection-wrap
      `]:{[`${$e}-selection-search`]:{marginInlineStart:0},[`${$e}-selection-placeholder`]:{insetInlineStart:0}},[`${qe}-item-suffix`]:{minHeight:bt.itemHeight,marginBlock:He},[`${$e}-selection-search`]:{display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:te.calc(te.inputPaddingHorizontalBase).sub(Je).equal(),"\n          &-input,\n          &-mirror\n        ":{height:dt,fontFamily:te.fontFamily,lineHeight:(0,s.bf)(dt),transition:`all ${te.motionDurationSlow}`},"&-input":{width:"100%",minWidth:4.1},"&-mirror":{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}},[`${$e}-selection-placeholder`]:{position:"absolute",top:"50%",insetInlineStart:te.calc(te.inputPaddingHorizontalBase).sub(bt.basePadding).equal(),insetInlineEnd:te.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:`all ${te.motionDurationSlow}`}})}};function Me(te,Ke){const{componentCls:$e}=te,He=Ke?`${$e}-${Ke}`:"",qe={[`${$e}-multiple${He}`]:{fontSize:te.fontSize,[`${$e}-selector`]:{[`${$e}-show-search&`]:{cursor:"text"}},[`
        &${$e}-show-arrow ${$e}-selector,
        &${$e}-allow-clear ${$e}-selector
      `]:{paddingInlineEnd:te.calc(te.fontSizeIcon).add(te.controlPaddingHorizontal).equal()}}};return[Fe(te,Ke),qe]}const ve=te=>{const{componentCls:Ke}=te,$e=(0,Y.IX)(te,{selectHeight:te.controlHeightSM,multipleSelectItemHeight:te.multipleItemHeightSM,borderRadius:te.borderRadiusSM,borderRadiusSM:te.borderRadiusXS}),He=(0,Y.IX)(te,{fontSize:te.fontSizeLG,selectHeight:te.controlHeightLG,multipleSelectItemHeight:te.multipleItemHeightLG,borderRadius:te.borderRadiusLG,borderRadiusSM:te.borderRadius});return[Me(te),Me($e,"sm"),{[`${Ke}-multiple${Ke}-sm`]:{[`${Ke}-selection-placeholder`]:{insetInline:te.calc(te.controlPaddingHorizontalSM).sub(te.lineWidth).equal()},[`${Ke}-selection-search`]:{marginInlineStart:2}}},Me(He,"lg")]};jt.ZP=ve},50360:function(Zr,jt,F){"use strict";F.d(jt,{Z:function(){return Me}});var s=F(75271),ot=F(3642),Y=F(75434),c=F(14258),xe=F(13143),We=F(24573),Fe=F(17023);function Me(ve){let{suffixIcon:te,clearIcon:Ke,menuItemSelectedIcon:$e,removeIcon:He,loading:qe,multiple:dt,hasFeedback:Je,prefixCls:ht,showSuffixIcon:bt,feedbackIcon:Ue,showArrow:kt,componentName:yt}=ve;const Et=Ke!=null?Ke:s.createElement(Y.Z,null),Vt=Hn=>te===null&&!Je&&!kt?null:s.createElement(s.Fragment,null,bt!==!1&&Hn,Je&&Ue);let Lt=null;if(te!==void 0)Lt=Vt(te);else if(qe)Lt=Vt(s.createElement(We.Z,{spin:!0}));else{const Hn=`${ht}-suffix`;Lt=Ze=>{let{open:Nt,showSearch:sn}=Ze;return Vt(Nt&&sn?s.createElement(Fe.Z,{className:Hn}):s.createElement(xe.Z,{className:Hn}))}}let hr=null;$e!==void 0?hr=$e:dt?hr=s.createElement(ot.Z,null):hr=null;let er=null;return He!==void 0?er=He:er=s.createElement(c.Z,null),{clearIcon:Et,suffixIcon:Lt,itemIcon:hr,removeIcon:er}}},54299:function(Zr,jt,F){"use strict";F.d(jt,{Z:function(){return s}});function s(ot,Y){return Y!==void 0?Y:ot!==null}},14391:function(Zr,jt,F){"use strict";var s=F(75271);const ot=(0,s.createContext)({});jt.Z=ot},80300:function(Zr,jt,F){"use strict";F.d(jt,{Z:function(){return Ze}});var s=F(75271),ot=F(82187),Y=F.n(ot),c=F(28661),xe=F(49975),We=F(98472),Fe=F(14391),Me=F(42684),ve=F(9202),Ke=s.forwardRef((Nt,sn)=>{const{open:Xt,draggingDelete:Le}=Nt,$n=(0,s.useRef)(null),cn=Xt&&!Le,En=(0,s.useRef)(null);function lt(){xe.Z.cancel(En.current),En.current=null}function Gt(){En.current=(0,xe.Z)(()=>{var bn;(bn=$n.current)===null||bn===void 0||bn.forceAlign(),En.current=null})}return s.useEffect(()=>(cn?Gt():lt(),lt),[cn,Nt.title]),s.createElement(ve.Z,Object.assign({ref:(0,Me.sQ)($n,sn)},Nt,{open:cn}))}),$e=F(55921),He=F(84432),qe=F(34299),dt=F(84825),Je=F(83509);const ht=Nt=>{const{componentCls:sn,antCls:Xt,controlSize:Le,dotSize:$n,marginFull:cn,marginPart:En,colorFillContentHover:lt,handleColorDisabled:Gt,calc:bn,handleSize:fe,handleSizeHover:Wt,handleActiveColor:hi,handleActiveOutlineColor:Jr,handleLineWidth:Te,handleLineWidthHover:Pn,motionDurationMid:Lr}=Nt;return{[sn]:Object.assign(Object.assign({},(0,qe.Wf)(Nt)),{position:"relative",height:Le,margin:`${(0,$e.bf)(En)} ${(0,$e.bf)(cn)}`,padding:0,cursor:"pointer",touchAction:"none","&-vertical":{margin:`${(0,$e.bf)(cn)} ${(0,$e.bf)(En)}`},[`${sn}-rail`]:{position:"absolute",backgroundColor:Nt.railBg,borderRadius:Nt.borderRadiusXS,transition:`background-color ${Lr}`},[`${sn}-track,${sn}-tracks`]:{position:"absolute",transition:`background-color ${Lr}`},[`${sn}-track`]:{backgroundColor:Nt.trackBg,borderRadius:Nt.borderRadiusXS},[`${sn}-track-draggable`]:{boxSizing:"content-box",backgroundClip:"content-box",border:"solid rgba(0,0,0,0)"},"&:hover":{[`${sn}-rail`]:{backgroundColor:Nt.railHoverBg},[`${sn}-track`]:{backgroundColor:Nt.trackHoverBg},[`${sn}-dot`]:{borderColor:lt},[`${sn}-handle::after`]:{boxShadow:`0 0 0 ${(0,$e.bf)(Te)} ${Nt.colorPrimaryBorderHover}`},[`${sn}-dot-active`]:{borderColor:Nt.dotActiveBorderColor}},[`${sn}-handle`]:{position:"absolute",width:fe,height:fe,outline:"none",userSelect:"none","&-dragging-delete":{opacity:0},"&::before":{content:'""',position:"absolute",insetInlineStart:bn(Te).mul(-1).equal(),insetBlockStart:bn(Te).mul(-1).equal(),width:bn(fe).add(bn(Te).mul(2)).equal(),height:bn(fe).add(bn(Te).mul(2)).equal(),backgroundColor:"transparent"},"&::after":{content:'""',position:"absolute",insetBlockStart:0,insetInlineStart:0,width:fe,height:fe,backgroundColor:Nt.colorBgElevated,boxShadow:`0 0 0 ${(0,$e.bf)(Te)} ${Nt.handleColor}`,outline:"0px solid transparent",borderRadius:"50%",cursor:"pointer",transition:`
            inset-inline-start ${Lr},
            inset-block-start ${Lr},
            width ${Lr},
            height ${Lr},
            box-shadow ${Lr},
            outline ${Lr}
          `},"&:hover, &:active, &:focus":{"&::before":{insetInlineStart:bn(Wt).sub(fe).div(2).add(Pn).mul(-1).equal(),insetBlockStart:bn(Wt).sub(fe).div(2).add(Pn).mul(-1).equal(),width:bn(Wt).add(bn(Pn).mul(2)).equal(),height:bn(Wt).add(bn(Pn).mul(2)).equal()},"&::after":{boxShadow:`0 0 0 ${(0,$e.bf)(Pn)} ${hi}`,outline:`6px solid ${Jr}`,width:Wt,height:Wt,insetInlineStart:Nt.calc(fe).sub(Wt).div(2).equal(),insetBlockStart:Nt.calc(fe).sub(Wt).div(2).equal()}}},[`&-lock ${sn}-handle`]:{"&::before, &::after":{transition:"none"}},[`${sn}-mark`]:{position:"absolute",fontSize:Nt.fontSize},[`${sn}-mark-text`]:{position:"absolute",display:"inline-block",color:Nt.colorTextDescription,textAlign:"center",wordBreak:"keep-all",cursor:"pointer",userSelect:"none","&-active":{color:Nt.colorText}},[`${sn}-step`]:{position:"absolute",background:"transparent",pointerEvents:"none"},[`${sn}-dot`]:{position:"absolute",width:$n,height:$n,backgroundColor:Nt.colorBgElevated,border:`${(0,$e.bf)(Te)} solid ${Nt.dotBorderColor}`,borderRadius:"50%",cursor:"pointer",transition:`border-color ${Nt.motionDurationSlow}`,pointerEvents:"auto","&-active":{borderColor:Nt.dotActiveBorderColor}},[`&${sn}-disabled`]:{cursor:"not-allowed",[`${sn}-rail`]:{backgroundColor:`${Nt.railBg} !important`},[`${sn}-track`]:{backgroundColor:`${Nt.trackBgDisabled} !important`},[`
          ${sn}-dot
        `]:{backgroundColor:Nt.colorBgElevated,borderColor:Nt.trackBgDisabled,boxShadow:"none",cursor:"not-allowed"},[`${sn}-handle::after`]:{backgroundColor:Nt.colorBgElevated,cursor:"not-allowed",width:fe,height:fe,boxShadow:`0 0 0 ${(0,$e.bf)(Te)} ${Gt}`,insetInlineStart:0,insetBlockStart:0},[`
          ${sn}-mark-text,
          ${sn}-dot
        `]:{cursor:"not-allowed !important"}},[`&-tooltip ${Xt}-tooltip-inner`]:{minWidth:"unset"}})}},bt=(Nt,sn)=>{const{componentCls:Xt,railSize:Le,handleSize:$n,dotSize:cn,marginFull:En,calc:lt}=Nt,Gt=sn?"paddingBlock":"paddingInline",bn=sn?"width":"height",fe=sn?"height":"width",Wt=sn?"insetBlockStart":"insetInlineStart",hi=sn?"top":"insetInlineStart",Jr=lt(Le).mul(3).sub($n).div(2).equal(),Te=lt($n).sub(Le).div(2).equal(),Pn=sn?{borderWidth:`${(0,$e.bf)(Te)} 0`,transform:`translateY(${(0,$e.bf)(lt(Te).mul(-1).equal())})`}:{borderWidth:`0 ${(0,$e.bf)(Te)}`,transform:`translateX(${(0,$e.bf)(Nt.calc(Te).mul(-1).equal())})`};return{[Gt]:Le,[fe]:lt(Le).mul(3).equal(),[`${Xt}-rail`]:{[bn]:"100%",[fe]:Le},[`${Xt}-track,${Xt}-tracks`]:{[fe]:Le},[`${Xt}-track-draggable`]:Object.assign({},Pn),[`${Xt}-handle`]:{[Wt]:Jr},[`${Xt}-mark`]:{insetInlineStart:0,top:0,[hi]:lt(Le).mul(3).add(sn?0:En).equal(),[bn]:"100%"},[`${Xt}-step`]:{insetInlineStart:0,top:0,[hi]:Le,[bn]:"100%",[fe]:Le},[`${Xt}-dot`]:{position:"absolute",[Wt]:lt(Le).sub(cn).div(2).equal()}}},Ue=Nt=>{const{componentCls:sn,marginPartWithMark:Xt}=Nt;return{[`${sn}-horizontal`]:Object.assign(Object.assign({},bt(Nt,!0)),{[`&${sn}-with-marks`]:{marginBottom:Xt}})}},kt=Nt=>{const{componentCls:sn}=Nt;return{[`${sn}-vertical`]:Object.assign(Object.assign({},bt(Nt,!1)),{height:"100%"})}},yt=Nt=>{const Xt=Nt.controlHeightLG/4,Le=Nt.controlHeightSM/2,$n=Nt.lineWidth+1,cn=Nt.lineWidth+1*1.5,En=Nt.colorPrimary,lt=new He.t(En).setA(.2).toRgbString();return{controlSize:Xt,railSize:4,handleSize:Xt,handleSizeHover:Le,dotSize:8,handleLineWidth:$n,handleLineWidthHover:cn,railBg:Nt.colorFillTertiary,railHoverBg:Nt.colorFillSecondary,trackBg:Nt.colorPrimaryBorder,trackHoverBg:Nt.colorPrimaryBorderHover,handleColor:Nt.colorPrimaryBorder,handleActiveColor:En,handleActiveOutlineColor:lt,handleColorDisabled:new He.t(Nt.colorTextDisabled).onBackground(Nt.colorBgContainer).toHexString(),dotBorderColor:Nt.colorBorderSecondary,dotActiveBorderColor:Nt.colorPrimaryBorder,trackBgDisabled:Nt.colorBgContainerDisabled}};var Et=(0,dt.I$)("Slider",Nt=>{const sn=(0,Je.IX)(Nt,{marginPart:Nt.calc(Nt.controlHeight).sub(Nt.controlSize).div(2).equal(),marginFull:Nt.calc(Nt.controlSize).div(2).equal(),marginPartWithMark:Nt.calc(Nt.controlHeightLG).sub(Nt.controlSize).equal()});return[ht(sn),Ue(sn),kt(sn)]},yt);function Vt(){const[Nt,sn]=s.useState(!1),Xt=s.useRef(null),Le=()=>{xe.Z.cancel(Xt.current)},$n=cn=>{Le(),cn?sn(cn):Xt.current=(0,xe.Z)(()=>{sn(cn)})};return s.useEffect(()=>Le,[]),[Nt,$n]}var Lt=F(98446),hr=function(Nt,sn){var Xt={};for(var Le in Nt)Object.prototype.hasOwnProperty.call(Nt,Le)&&sn.indexOf(Le)<0&&(Xt[Le]=Nt[Le]);if(Nt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var $n=0,Le=Object.getOwnPropertySymbols(Nt);$n<Le.length;$n++)sn.indexOf(Le[$n])<0&&Object.prototype.propertyIsEnumerable.call(Nt,Le[$n])&&(Xt[Le[$n]]=Nt[Le[$n]]);return Xt};function er(Nt,sn){return Nt||Nt===null?Nt:sn||sn===null?sn:Xt=>typeof Xt=="number"?Xt.toString():""}var Ze=s.forwardRef((Nt,sn)=>{const{prefixCls:Xt,range:Le,className:$n,rootClassName:cn,style:En,disabled:lt,tooltipPrefixCls:Gt,tipFormatter:bn,tooltipVisible:fe,getTooltipPopupContainer:Wt,tooltipPlacement:hi,tooltip:Jr={},onChangeComplete:Te,classNames:Pn,styles:Lr}=Nt,kr=hr(Nt,["prefixCls","range","className","rootClassName","style","disabled","tooltipPrefixCls","tipFormatter","tooltipVisible","getTooltipPopupContainer","tooltipPlacement","tooltip","onChangeComplete","classNames","styles"]),{vertical:In}=Nt,{getPrefixCls:Nr,direction:vi,className:sr,style:it,classNames:Ot,styles:zn,getPopupContainer:dn}=(0,Lt.dj)("slider"),fn=s.useContext(We.Z),xr=lt!=null?lt:fn,{handleRender:Un,direction:Xr}=s.useContext(Fe.Z),Wr=(Xr||vi)==="rtl",[ti,gr]=Vt(),[mr,fr]=Vt(),wr=Object.assign({},Jr),{open:vr,placement:jr,getPopupContainer:Xn,prefixCls:lr,formatter:Yr}=wr,Fn=vr!=null?vr:fe,Si=(ti||mr)&&Fn!==!1,mi=er(Yr,bn),[Hi,ho]=Vt(),Ur=Oe=>{Te==null||Te(Oe),ho(!1)},eo=(Oe,de)=>Oe||(de?Wr?"left":"right":"top"),en=Nr("slider",Xt),[Mn,Qn,Dr]=Et(en),ui=Y()($n,sr,Ot.root,Pn==null?void 0:Pn.root,cn,{[`${en}-rtl`]:Wr,[`${en}-lock`]:Hi},Qn,Dr);Wr&&!kr.vertical&&(kr.reverse=!kr.reverse),s.useEffect(()=>{const Oe=()=>{(0,xe.Z)(()=>{fr(!1)},1)};return document.addEventListener("mouseup",Oe),()=>{document.removeEventListener("mouseup",Oe)}},[]);const oi=Le&&!Fn,Xi=Un||((Oe,de)=>{const{index:X}=de,ke=Oe.props;function he(Tt,nn,vn){var Xe,Mt,Ht,Qt;vn&&((Mt=(Xe=kr)[Tt])===null||Mt===void 0||Mt.call(Xe,nn)),(Qt=(Ht=ke)[Tt])===null||Qt===void 0||Qt.call(Ht,nn)}const Ye=Object.assign(Object.assign({},ke),{onMouseEnter:Tt=>{gr(!0),he("onMouseEnter",Tt)},onMouseLeave:Tt=>{gr(!1),he("onMouseLeave",Tt)},onMouseDown:Tt=>{fr(!0),ho(!0),he("onMouseDown",Tt)},onFocus:Tt=>{var nn;fr(!0),(nn=kr.onFocus)===null||nn===void 0||nn.call(kr,Tt),he("onFocus",Tt,!0)},onBlur:Tt=>{var nn;fr(!1),(nn=kr.onBlur)===null||nn===void 0||nn.call(kr,Tt),he("onBlur",Tt,!0)}}),et=s.cloneElement(Oe,Ye),tn=(!!Fn||Si)&&mi!==null;return oi?et:s.createElement(Ke,Object.assign({},wr,{prefixCls:Nr("tooltip",lr!=null?lr:Gt),title:mi?mi(de.value):"",open:tn,placement:eo(jr!=null?jr:hi,In),key:X,classNames:{root:`${en}-tooltip`},getPopupContainer:Xn||Wt||dn}),et)}),Ji=oi?(Oe,de)=>{const X=s.cloneElement(Oe,{style:Object.assign(Object.assign({},Oe.props.style),{visibility:"hidden"})});return s.createElement(Ke,Object.assign({},wr,{prefixCls:Nr("tooltip",lr!=null?lr:Gt),title:mi?mi(de.value):"",open:mi!==null&&Si,placement:eo(jr!=null?jr:hi,In),key:"tooltip",classNames:{root:`${en}-tooltip`},getPopupContainer:Xn||Wt||dn,draggingDelete:de.draggingDelete}),X)}:void 0,Ro=Object.assign(Object.assign(Object.assign(Object.assign({},zn.root),it),Lr==null?void 0:Lr.root),En),xo=Object.assign(Object.assign({},zn.tracks),Lr==null?void 0:Lr.tracks),io=Y()(Ot.tracks,Pn==null?void 0:Pn.tracks);return Mn(s.createElement(c.Z,Object.assign({},kr,{classNames:Object.assign({handle:Y()(Ot.handle,Pn==null?void 0:Pn.handle),rail:Y()(Ot.rail,Pn==null?void 0:Pn.rail),track:Y()(Ot.track,Pn==null?void 0:Pn.track)},io?{tracks:io}:{}),styles:Object.assign({handle:Object.assign(Object.assign({},zn.handle),Lr==null?void 0:Lr.handle),rail:Object.assign(Object.assign({},zn.rail),Lr==null?void 0:Lr.rail),track:Object.assign(Object.assign({},zn.track),Lr==null?void 0:Lr.track)},Object.keys(xo).length?{tracks:xo}:{}),step:kr.step,range:Le,className:ui,style:Ro,disabled:xr,ref:sn,prefixCls:en,handleRender:Xi,activeHandleRender:Ji,onChangeComplete:Ur})))})},23137:function(Zr,jt,F){"use strict";F.d(jt,{BR:function(){return Ke},ri:function(){return te}});var s=F(75271),ot=F(82187),Y=F.n(ot),c=F(81626),xe=F(98446),We=F(95741),Fe=F(45936),Me=function(qe,dt){var Je={};for(var ht in qe)Object.prototype.hasOwnProperty.call(qe,ht)&&dt.indexOf(ht)<0&&(Je[ht]=qe[ht]);if(qe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var bt=0,ht=Object.getOwnPropertySymbols(qe);bt<ht.length;bt++)dt.indexOf(ht[bt])<0&&Object.prototype.propertyIsEnumerable.call(qe,ht[bt])&&(Je[ht[bt]]=qe[ht[bt]]);return Je};const ve=s.createContext(null),te=(qe,dt)=>{const Je=s.useContext(ve),ht=s.useMemo(()=>{if(!Je)return"";const{compactDirection:bt,isFirstItem:Ue,isLastItem:kt}=Je,yt=bt==="vertical"?"-vertical-":"-";return Y()(`${qe}-compact${yt}item`,{[`${qe}-compact${yt}first-item`]:Ue,[`${qe}-compact${yt}last-item`]:kt,[`${qe}-compact${yt}item-rtl`]:dt==="rtl"})},[qe,dt,Je]);return{compactSize:Je==null?void 0:Je.compactSize,compactDirection:Je==null?void 0:Je.compactDirection,compactItemClassnames:ht}},Ke=qe=>{const{children:dt}=qe;return s.createElement(ve.Provider,{value:null},dt)},$e=qe=>{const{children:dt}=qe,Je=Me(qe,["children"]);return s.createElement(ve.Provider,{value:s.useMemo(()=>Je,[Je])},dt)},He=qe=>{const{getPrefixCls:dt,direction:Je}=s.useContext(xe.E_),{size:ht,direction:bt,block:Ue,prefixCls:kt,className:yt,rootClassName:Et,children:Vt}=qe,Lt=Me(qe,["size","direction","block","prefixCls","className","rootClassName","children"]),hr=(0,We.Z)($n=>ht!=null?ht:$n),er=dt("space-compact",kt),[Hn,Ze]=(0,Fe.Z)(er),Nt=Y()(er,Ze,{[`${er}-rtl`]:Je==="rtl",[`${er}-block`]:Ue,[`${er}-vertical`]:bt==="vertical"},yt,Et),sn=s.useContext(ve),Xt=(0,c.Z)(Vt),Le=s.useMemo(()=>Xt.map(($n,cn)=>{const En=($n==null?void 0:$n.key)||`${er}-item-${cn}`;return s.createElement($e,{key:En,compactSize:hr,compactDirection:bt,isFirstItem:cn===0&&(!sn||(sn==null?void 0:sn.isFirstItem)),isLastItem:cn===Xt.length-1&&(!sn||(sn==null?void 0:sn.isLastItem))},$n)}),[ht,Xt,sn]);return Xt.length===0?null:Hn(s.createElement("div",Object.assign({className:Nt},Lt),Le))};jt.ZP=He},45936:function(Zr,jt,F){"use strict";F.d(jt,{Z:function(){return Me}});var s=F(84825),ot=F(83509),c=ve=>{const{componentCls:te}=ve;return{[te]:{"&-block":{display:"flex",width:"100%"},"&-vertical":{flexDirection:"column"}}}};const xe=ve=>{const{componentCls:te,antCls:Ke}=ve;return{[te]:{display:"inline-flex","&-rtl":{direction:"rtl"},"&-vertical":{flexDirection:"column"},"&-align":{flexDirection:"column","&-center":{alignItems:"center"},"&-start":{alignItems:"flex-start"},"&-end":{alignItems:"flex-end"},"&-baseline":{alignItems:"baseline"}},[`${te}-item:empty`]:{display:"none"},[`${te}-item > ${Ke}-badge-not-a-wrapper:only-child`]:{display:"block"}}}},We=ve=>{const{componentCls:te}=ve;return{[te]:{"&-gap-row-small":{rowGap:ve.spaceGapSmallSize},"&-gap-row-middle":{rowGap:ve.spaceGapMiddleSize},"&-gap-row-large":{rowGap:ve.spaceGapLargeSize},"&-gap-col-small":{columnGap:ve.spaceGapSmallSize},"&-gap-col-middle":{columnGap:ve.spaceGapMiddleSize},"&-gap-col-large":{columnGap:ve.spaceGapLargeSize}}}},Fe=()=>({});var Me=(0,s.I$)("Space",ve=>{const te=(0,ot.IX)(ve,{spaceGapSmallSize:ve.paddingXS,spaceGapMiddleSize:ve.padding,spaceGapLargeSize:ve.paddingLG});return[xe(te),We(te),c(te)]},()=>({}),{resetStyle:!1})},9288:function(Zr,jt,F){"use strict";F.d(jt,{c:function(){return Y}});function s(c,xe,We){const{focusElCls:Fe,focus:Me,borderElCls:ve}=We,te=ve?"> *":"",Ke=["hover",Me?"focus":null,"active"].filter(Boolean).map($e=>`&:${$e} ${te}`).join(",");return{[`&-item:not(${xe}-last-item)`]:{marginInlineEnd:c.calc(c.lineWidth).mul(-1).equal()},"&-item":Object.assign(Object.assign({[Ke]:{zIndex:2}},Fe?{[`&${Fe}`]:{zIndex:2}}:{}),{[`&[disabled] ${te}`]:{zIndex:0}})}}function ot(c,xe,We){const{borderElCls:Fe}=We,Me=Fe?`> ${Fe}`:"";return{[`&-item:not(${xe}-first-item):not(${xe}-last-item) ${Me}`]:{borderRadius:0},[`&-item:not(${xe}-last-item)${xe}-first-item`]:{[`& ${Me}, &${c}-sm ${Me}, &${c}-lg ${Me}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${xe}-first-item)${xe}-last-item`]:{[`& ${Me}, &${c}-sm ${Me}, &${c}-lg ${Me}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function Y(c){let xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{focus:!0};const{componentCls:We}=c,Fe=`${We}-compact`;return{[Fe]:Object.assign(Object.assign({},s(c,Fe,xe)),ot(We,Fe,xe))}}},34299:function(Zr,jt,F){"use strict";F.d(jt,{JT:function(){return te},Lx:function(){return We},Nd:function(){return Ke},Qy:function(){return ve},Ro:function(){return c},Wf:function(){return Y},dF:function(){return xe},du:function(){return Fe},oN:function(){return Me},vS:function(){return ot}});var s=F(55921);const ot={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},Y=function($e){let He=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{boxSizing:"border-box",margin:0,padding:0,color:$e.colorText,fontSize:$e.fontSize,lineHeight:$e.lineHeight,listStyle:"none",fontFamily:He?"inherit":$e.fontFamily}},c=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),xe=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),We=$e=>({a:{color:$e.colorLink,textDecoration:$e.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${$e.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:$e.colorLinkHover},"&:active":{color:$e.colorLinkActive},"&:active, &:hover":{textDecoration:$e.linkHoverDecoration,outline:0},"&:focus":{textDecoration:$e.linkFocusDecoration,outline:0},"&[disabled]":{color:$e.colorTextDisabled,cursor:"not-allowed"}}}),Fe=($e,He,qe,dt)=>{const Je=`[class^="${He}"], [class*=" ${He}"]`,ht=qe?`.${qe}`:Je,bt={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let Ue={};return dt!==!1&&(Ue={fontFamily:$e.fontFamily,fontSize:$e.fontSize}),{[ht]:Object.assign(Object.assign(Object.assign({},Ue),bt),{[Je]:bt})}},Me=($e,He)=>({outline:`${(0,s.bf)($e.lineWidthFocus)} solid ${$e.colorPrimaryBorder}`,outlineOffset:He!=null?He:1,transition:"outline-offset 0s, outline 0s"}),ve=($e,He)=>({"&:focus-visible":Object.assign({},Me($e,He))}),te=$e=>({[`.${$e}`]:Object.assign(Object.assign({},c()),{[`.${$e} .${$e}-icon`]:{display:"block"}})}),Ke=$e=>Object.assign(Object.assign({color:$e.colorLink,textDecoration:$e.linkDecoration,outline:"none",cursor:"pointer",transition:`all ${$e.motionDurationSlow}`,border:0,padding:0,background:"none",userSelect:"none"},ve($e)),{"&:focus, &:hover":{color:$e.colorLinkHover},"&:active":{color:$e.colorLinkActive}})},40894:function(Zr,jt){"use strict";const F=s=>({[s.componentCls]:{[`${s.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${s.motionDurationMid} ${s.motionEaseInOut},
        opacity ${s.motionDurationMid} ${s.motionEaseInOut} !important`}},[`${s.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${s.motionDurationMid} ${s.motionEaseInOut},
        opacity ${s.motionDurationMid} ${s.motionEaseInOut} !important`}}});jt.Z=F},79318:function(Zr,jt,F){"use strict";F.d(jt,{R:function(){return Y}});const s=c=>({animationDuration:c,animationFillMode:"both"}),ot=c=>({animationDuration:c,animationFillMode:"both"}),Y=function(c,xe,We,Fe){const ve=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${ve}${c}-enter,
      ${ve}${c}-appear
    `]:Object.assign(Object.assign({},s(Fe)),{animationPlayState:"paused"}),[`${ve}${c}-leave`]:Object.assign(Object.assign({},ot(Fe)),{animationPlayState:"paused"}),[`
      ${ve}${c}-enter${c}-enter-active,
      ${ve}${c}-appear${c}-appear-active
    `]:{animationName:xe,animationPlayState:"running"},[`${ve}${c}-leave${c}-leave-active`]:{animationName:We,animationPlayState:"running",pointerEvents:"none"}}}},48221:function(Zr,jt,F){"use strict";F.d(jt,{Fm:function(){return $e}});var s=F(55921),ot=F(79318);const Y=new s.E4("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),c=new s.E4("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),xe=new s.E4("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),We=new s.E4("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),Fe=new s.E4("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),Me=new s.E4("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),ve=new s.E4("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),te=new s.E4("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}}),Ke={"move-up":{inKeyframes:ve,outKeyframes:te},"move-down":{inKeyframes:Y,outKeyframes:c},"move-left":{inKeyframes:xe,outKeyframes:We},"move-right":{inKeyframes:Fe,outKeyframes:Me}},$e=(He,qe)=>{const{antCls:dt}=He,Je=`${dt}-${qe}`,{inKeyframes:ht,outKeyframes:bt}=Ke[qe];return[(0,ot.R)(Je,ht,bt,He.motionDurationMid),{[`
        ${Je}-enter,
        ${Je}-appear
      `]:{opacity:0,animationTimingFunction:He.motionEaseOutCirc},[`${Je}-leave`]:{animationTimingFunction:He.motionEaseInOutCirc}}]}},17877:function(Zr,jt,F){"use strict";F.d(jt,{Qt:function(){return xe},Uw:function(){return c},fJ:function(){return Y},ly:function(){return We},oN:function(){return $e}});var s=F(55921),ot=F(79318);const Y=new s.E4("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),c=new s.E4("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),xe=new s.E4("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),We=new s.E4("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),Fe=new s.E4("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),Me=new s.E4("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),ve=new s.E4("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),te=new s.E4("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),Ke={"slide-up":{inKeyframes:Y,outKeyframes:c},"slide-down":{inKeyframes:xe,outKeyframes:We},"slide-left":{inKeyframes:Fe,outKeyframes:Me},"slide-right":{inKeyframes:ve,outKeyframes:te}},$e=(He,qe)=>{const{antCls:dt}=He,Je=`${dt}-${qe}`,{inKeyframes:ht,outKeyframes:bt}=Ke[qe];return[(0,ot.R)(Je,ht,bt,He.motionDurationMid),{[`
      ${Je}-enter,
      ${Je}-appear
    `]:{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:He.motionEaseOutQuint,"&-prepare":{transform:"scale(1)"}},[`${Je}-leave`]:{animationTimingFunction:He.motionEaseInQuint}}]}},3153:function(Zr,jt,F){"use strict";F.d(jt,{_y:function(){return Je},kr:function(){return Y}});var s=F(55921),ot=F(79318);const Y=new s.E4("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),c=new s.E4("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),xe=new s.E4("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),We=new s.E4("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),Fe=new s.E4("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),Me=new s.E4("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),ve=new s.E4("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),te=new s.E4("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),Ke=new s.E4("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),$e=new s.E4("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),He=new s.E4("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),qe=new s.E4("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),dt={zoom:{inKeyframes:Y,outKeyframes:c},"zoom-big":{inKeyframes:xe,outKeyframes:We},"zoom-big-fast":{inKeyframes:xe,outKeyframes:We},"zoom-left":{inKeyframes:ve,outKeyframes:te},"zoom-right":{inKeyframes:Ke,outKeyframes:$e},"zoom-up":{inKeyframes:Fe,outKeyframes:Me},"zoom-down":{inKeyframes:He,outKeyframes:qe}},Je=(ht,bt)=>{const{antCls:Ue}=ht,kt=`${Ue}-${bt}`,{inKeyframes:yt,outKeyframes:Et}=dt[bt];return[(0,ot.R)(kt,yt,Et,bt==="zoom-big-fast"?ht.motionDurationFast:ht.motionDurationMid),{[`
        ${kt}-enter,
        ${kt}-appear
      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:ht.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${kt}-leave`]:{animationTimingFunction:ht.motionEaseInOutCirc}}]}},18533:function(Zr,jt,F){"use strict";F.d(jt,{ZP:function(){return We},qN:function(){return Y},wZ:function(){return c}});var s=F(55921),ot=F(2276);const Y=8;function c(Fe){const{contentRadius:Me,limitVerticalRadius:ve}=Fe,te=Me>12?Me+2:12;return{arrowOffsetHorizontal:te,arrowOffsetVertical:ve?Y:te}}function xe(Fe,Me){return Fe?Me:{}}function We(Fe,Me,ve){const{componentCls:te,boxShadowPopoverArrow:Ke,arrowOffsetVertical:$e,arrowOffsetHorizontal:He}=Fe,{arrowDistance:qe=0,arrowPlacement:dt={left:!0,right:!0,top:!0,bottom:!0}}=ve||{};return{[te]:Object.assign(Object.assign(Object.assign(Object.assign({[`${te}-arrow`]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},(0,ot.W)(Fe,Me,Ke)),{"&:before":{background:Me}})]},xe(!!dt.top,{[[`&-placement-top > ${te}-arrow`,`&-placement-topLeft > ${te}-arrow`,`&-placement-topRight > ${te}-arrow`].join(",")]:{bottom:qe,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top > ${te}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},"&-placement-topLeft":{"--arrow-offset-horizontal":He,[`> ${te}-arrow`]:{left:{_skip_check_:!0,value:He}}},"&-placement-topRight":{"--arrow-offset-horizontal":`calc(100% - ${(0,s.bf)(He)})`,[`> ${te}-arrow`]:{right:{_skip_check_:!0,value:He}}}})),xe(!!dt.bottom,{[[`&-placement-bottom > ${te}-arrow`,`&-placement-bottomLeft > ${te}-arrow`,`&-placement-bottomRight > ${te}-arrow`].join(",")]:{top:qe,transform:"translateY(-100%)"},[`&-placement-bottom > ${te}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},"&-placement-bottomLeft":{"--arrow-offset-horizontal":He,[`> ${te}-arrow`]:{left:{_skip_check_:!0,value:He}}},"&-placement-bottomRight":{"--arrow-offset-horizontal":`calc(100% - ${(0,s.bf)(He)})`,[`> ${te}-arrow`]:{right:{_skip_check_:!0,value:He}}}})),xe(!!dt.left,{[[`&-placement-left > ${te}-arrow`,`&-placement-leftTop > ${te}-arrow`,`&-placement-leftBottom > ${te}-arrow`].join(",")]:{right:{_skip_check_:!0,value:qe},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left > ${te}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop > ${te}-arrow`]:{top:$e},[`&-placement-leftBottom > ${te}-arrow`]:{bottom:$e}})),xe(!!dt.right,{[[`&-placement-right > ${te}-arrow`,`&-placement-rightTop > ${te}-arrow`,`&-placement-rightBottom > ${te}-arrow`].join(",")]:{left:{_skip_check_:!0,value:qe},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right > ${te}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop > ${te}-arrow`]:{top:$e},[`&-placement-rightBottom > ${te}-arrow`]:{bottom:$e}}))}}},2276:function(Zr,jt,F){"use strict";F.d(jt,{W:function(){return Y},w:function(){return ot}});var s=F(55921);function ot(c){const{sizePopupArrow:xe,borderRadiusXS:We,borderRadiusOuter:Fe}=c,Me=xe/2,ve=0,te=Me,Ke=Fe*1/Math.sqrt(2),$e=Me-Fe*(1-1/Math.sqrt(2)),He=Me-We*(1/Math.sqrt(2)),qe=Fe*(Math.sqrt(2)-1)+We*(1/Math.sqrt(2)),dt=2*Me-He,Je=qe,ht=2*Me-Ke,bt=$e,Ue=2*Me-ve,kt=te,yt=Me*Math.sqrt(2)+Fe*(Math.sqrt(2)-2),Et=Fe*(Math.sqrt(2)-1),Vt=`polygon(${Et}px 100%, 50% ${Et}px, ${2*Me-Et}px 100%, ${Et}px 100%)`,Lt=`path('M ${ve} ${te} A ${Fe} ${Fe} 0 0 0 ${Ke} ${$e} L ${He} ${qe} A ${We} ${We} 0 0 1 ${dt} ${Je} L ${ht} ${bt} A ${Fe} ${Fe} 0 0 0 ${Ue} ${kt} Z')`;return{arrowShadowWidth:yt,arrowPath:Lt,arrowPolygon:Vt}}const Y=(c,xe,We)=>{const{sizePopupArrow:Fe,arrowPolygon:Me,arrowPath:ve,arrowShadowWidth:te,borderRadiusXS:Ke,calc:$e}=c;return{pointerEvents:"none",width:Fe,height:Fe,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:Fe,height:$e(Fe).div(2).equal(),background:xe,clipPath:{_multi_value_:!0,value:[Me,ve]},content:'""'},"&::after":{content:'""',position:"absolute",width:te,height:te,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${(0,s.bf)(Ke)} 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:We,zIndex:0,background:"transparent"}}}},20284:function(Zr,jt,F){"use strict";F.d(jt,{Mj:function(){return c},u_:function(){return Y}});var s=F(75271),ot=F(30767);const Y={token:ot.Z,override:{override:ot.Z},hashed:!0},c=s.createContext(Y)},98990:function(Zr,jt,F){"use strict";F.d(jt,{i:function(){return s}});const s=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"]},28893:function(Zr,jt,F){"use strict";F.d(jt,{Z:function(){return dt}});var s=F(68640),ot=F(30767),Y=F(40329),xe=Je=>{let ht=Je,bt=Je,Ue=Je,kt=Je;return Je<6&&Je>=5?ht=Je+1:Je<16&&Je>=6?ht=Je+2:Je>=16&&(ht=16),Je<7&&Je>=5?bt=4:Je<8&&Je>=7?bt=5:Je<14&&Je>=8?bt=6:Je<16&&Je>=14?bt=7:Je>=16&&(bt=8),Je<6&&Je>=2?Ue=1:Je>=6&&(Ue=2),Je>4&&Je<8?kt=4:Je>=8&&(kt=6),{borderRadius:Je,borderRadiusXS:Ue,borderRadiusSM:bt,borderRadiusLG:ht,borderRadiusOuter:kt}};function We(Je){const{motionUnit:ht,motionBase:bt,borderRadius:Ue,lineWidth:kt}=Je;return Object.assign({motionDurationFast:`${(bt+ht).toFixed(1)}s`,motionDurationMid:`${(bt+ht*2).toFixed(1)}s`,motionDurationSlow:`${(bt+ht*3).toFixed(1)}s`,lineWidthBold:kt+1},xe(Ue))}var Fe=F(10154),Me=F(79319);function ve(Je){const{sizeUnit:ht,sizeStep:bt}=Je;return{sizeXXL:ht*(bt+8),sizeXL:ht*(bt+4),sizeLG:ht*(bt+2),sizeMD:ht*(bt+1),sizeMS:ht*bt,size:ht*bt,sizeSM:ht*(bt-1),sizeXS:ht*(bt-2),sizeXXS:ht*(bt-3)}}var te=F(84432);const Ke=(Je,ht)=>new te.t(Je).setA(ht).toRgbString(),$e=(Je,ht)=>new te.t(Je).darken(ht).toHexString(),He=Je=>{const ht=(0,s.R_)(Je);return{1:ht[0],2:ht[1],3:ht[2],4:ht[3],5:ht[4],6:ht[5],7:ht[6],8:ht[4],9:ht[5],10:ht[6]}},qe=(Je,ht)=>{const bt=Je||"#fff",Ue=ht||"#000";return{colorBgBase:bt,colorTextBase:Ue,colorText:Ke(Ue,.88),colorTextSecondary:Ke(Ue,.65),colorTextTertiary:Ke(Ue,.45),colorTextQuaternary:Ke(Ue,.25),colorFill:Ke(Ue,.15),colorFillSecondary:Ke(Ue,.06),colorFillTertiary:Ke(Ue,.04),colorFillQuaternary:Ke(Ue,.02),colorBgSolid:Ke(Ue,1),colorBgSolidHover:Ke(Ue,.75),colorBgSolidActive:Ke(Ue,.95),colorBgLayout:$e(bt,4),colorBgContainer:$e(bt,0),colorBgElevated:$e(bt,0),colorBgSpotlight:Ke(Ue,.85),colorBgBlur:"transparent",colorBorder:$e(bt,15),colorBorderSecondary:$e(bt,6)}};function dt(Je){s.ez.pink=s.ez.magenta,s.Ti.pink=s.Ti.magenta;const ht=Object.keys(ot.M).map(bt=>{const Ue=Je[bt]===s.ez[bt]?s.Ti[bt]:(0,s.R_)(Je[bt]);return Array.from({length:10},()=>1).reduce((kt,yt,Et)=>(kt[`${bt}-${Et+1}`]=Ue[Et],kt[`${bt}${Et+1}`]=Ue[Et],kt),{})}).reduce((bt,Ue)=>(bt=Object.assign(Object.assign({},bt),Ue),bt),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Je),ht),(0,Y.Z)(Je,{generateColorPalettes:He,generateNeutralColorPalettes:qe})),(0,Me.Z)(Je.fontSize)),ve(Je)),(0,Fe.Z)(Je)),We(Je))}},38920:function(Zr,jt,F){"use strict";var s=F(55921),ot=F(28893);const Y=(0,s.jG)(ot.Z);jt.Z=Y},30767:function(Zr,jt,F){"use strict";F.d(jt,{M:function(){return s}});const s={blue:"#1677FF",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#EB2F96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},ot=Object.assign(Object.assign({},s),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0});jt.Z=ot},40329:function(Zr,jt,F){"use strict";F.d(jt,{Z:function(){return ot}});var s=F(84432);function ot(Y,c){let{generateColorPalettes:xe,generateNeutralColorPalettes:We}=c;const{colorSuccess:Fe,colorWarning:Me,colorError:ve,colorInfo:te,colorPrimary:Ke,colorBgBase:$e,colorTextBase:He}=Y,qe=xe(Ke),dt=xe(Fe),Je=xe(Me),ht=xe(ve),bt=xe(te),Ue=We($e,He),kt=Y.colorLink||Y.colorInfo,yt=xe(kt),Et=new s.t(ht[1]).mix(new s.t(ht[3]),50).toHexString();return Object.assign(Object.assign({},Ue),{colorPrimaryBg:qe[1],colorPrimaryBgHover:qe[2],colorPrimaryBorder:qe[3],colorPrimaryBorderHover:qe[4],colorPrimaryHover:qe[5],colorPrimary:qe[6],colorPrimaryActive:qe[7],colorPrimaryTextHover:qe[8],colorPrimaryText:qe[9],colorPrimaryTextActive:qe[10],colorSuccessBg:dt[1],colorSuccessBgHover:dt[2],colorSuccessBorder:dt[3],colorSuccessBorderHover:dt[4],colorSuccessHover:dt[4],colorSuccess:dt[6],colorSuccessActive:dt[7],colorSuccessTextHover:dt[8],colorSuccessText:dt[9],colorSuccessTextActive:dt[10],colorErrorBg:ht[1],colorErrorBgHover:ht[2],colorErrorBgFilledHover:Et,colorErrorBgActive:ht[3],colorErrorBorder:ht[3],colorErrorBorderHover:ht[4],colorErrorHover:ht[5],colorError:ht[6],colorErrorActive:ht[7],colorErrorTextHover:ht[8],colorErrorText:ht[9],colorErrorTextActive:ht[10],colorWarningBg:Je[1],colorWarningBgHover:Je[2],colorWarningBorder:Je[3],colorWarningBorderHover:Je[4],colorWarningHover:Je[4],colorWarning:Je[6],colorWarningActive:Je[7],colorWarningTextHover:Je[8],colorWarningText:Je[9],colorWarningTextActive:Je[10],colorInfoBg:bt[1],colorInfoBgHover:bt[2],colorInfoBorder:bt[3],colorInfoBorderHover:bt[4],colorInfoHover:bt[4],colorInfo:bt[6],colorInfoActive:bt[7],colorInfoTextHover:bt[8],colorInfoText:bt[9],colorInfoTextActive:bt[10],colorLinkHover:yt[4],colorLink:yt[6],colorLinkActive:yt[7],colorBgMask:new s.t("#000").setA(.45).toRgbString(),colorWhite:"#fff"})}},10154:function(Zr,jt){"use strict";const F=s=>{const{controlHeight:ot}=s;return{controlHeightSM:ot*.75,controlHeightXS:ot*.5,controlHeightLG:ot*1.25}};jt.Z=F},79319:function(Zr,jt,F){"use strict";var s=F(78611);const ot=Y=>{const c=(0,s.Z)(Y),xe=c.map(He=>He.size),We=c.map(He=>He.lineHeight),Fe=xe[1],Me=xe[0],ve=xe[2],te=We[1],Ke=We[0],$e=We[2];return{fontSizeSM:Me,fontSize:Fe,fontSizeLG:ve,fontSizeXL:xe[3],fontSizeHeading1:xe[6],fontSizeHeading2:xe[5],fontSizeHeading3:xe[4],fontSizeHeading4:xe[3],fontSizeHeading5:xe[2],lineHeight:te,lineHeightLG:$e,lineHeightSM:Ke,fontHeight:Math.round(te*Fe),fontHeightLG:Math.round($e*ve),fontHeightSM:Math.round(Ke*Me),lineHeightHeading1:We[6],lineHeightHeading2:We[5],lineHeightHeading3:We[4],lineHeightHeading4:We[3],lineHeightHeading5:We[2]}};jt.Z=ot},78611:function(Zr,jt,F){"use strict";F.d(jt,{D:function(){return s},Z:function(){return ot}});function s(Y){return(Y+8)/Y}function ot(Y){const c=Array.from({length:10}).map((xe,We)=>{const Fe=We-1,Me=Y*Math.pow(Math.E,Fe/5),ve=We>1?Math.floor(Me):Math.ceil(Me);return Math.floor(ve/2)*2});return c[1]=Y,c.map(xe=>({size:xe,lineHeight:s(xe)}))}},67699:function(Zr,jt,F){"use strict";F.d(jt,{NJ:function(){return ve},ZP:function(){return He}});var s=F(75271),ot=F(55921),Y=F(41424),c=F(20284),xe=F(38920),We=F(30767),Fe=F(33598),Me=function(qe,dt){var Je={};for(var ht in qe)Object.prototype.hasOwnProperty.call(qe,ht)&&dt.indexOf(ht)<0&&(Je[ht]=qe[ht]);if(qe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var bt=0,ht=Object.getOwnPropertySymbols(qe);bt<ht.length;bt++)dt.indexOf(ht[bt])<0&&Object.prototype.propertyIsEnumerable.call(qe,ht[bt])&&(Je[ht[bt]]=qe[ht[bt]]);return Je};const ve={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0,opacityImage:!0},te={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},Ke={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},$e=(qe,dt,Je)=>{const ht=Je.getDerivativeToken(qe),{override:bt}=dt,Ue=Me(dt,["override"]);let kt=Object.assign(Object.assign({},ht),{override:bt});return kt=(0,Fe.Z)(kt),Ue&&Object.entries(Ue).forEach(yt=>{let[Et,Vt]=yt;const{theme:Lt}=Vt,hr=Me(Vt,["theme"]);let er=hr;Lt&&(er=$e(Object.assign(Object.assign({},kt),hr),{override:hr},Lt)),kt[Et]=er}),kt};function He(){const{token:qe,hashed:dt,theme:Je,override:ht,cssVar:bt}=s.useContext(c.Mj),Ue=`${Y.Z}-${dt||""}`,kt=Je||xe.Z,[yt,Et,Vt]=(0,ot.fp)(kt,[We.Z,qe],{salt:Ue,override:ht,getComputedToken:$e,formatToken:Fe.Z,cssVar:bt&&{prefix:bt.prefix,key:bt.key,unitless:ve,ignore:te,preserve:Ke}});return[kt,Vt,dt?Et:"",yt,bt]}},33598:function(Zr,jt,F){"use strict";F.d(jt,{Z:function(){return xe}});var s=F(84432),ot=F(30767),Y=F(58570),c=function(We,Fe){var Me={};for(var ve in We)Object.prototype.hasOwnProperty.call(We,ve)&&Fe.indexOf(ve)<0&&(Me[ve]=We[ve]);if(We!=null&&typeof Object.getOwnPropertySymbols=="function")for(var te=0,ve=Object.getOwnPropertySymbols(We);te<ve.length;te++)Fe.indexOf(ve[te])<0&&Object.prototype.propertyIsEnumerable.call(We,ve[te])&&(Me[ve[te]]=We[ve[te]]);return Me};function xe(We){const{override:Fe}=We,Me=c(We,["override"]),ve=Object.assign({},Fe);Object.keys(ot.Z).forEach(bt=>{delete ve[bt]});const te=Object.assign(Object.assign({},Me),ve),Ke=480,$e=576,He=768,qe=992,dt=1200,Je=1600;if(te.motion===!1){const bt="0s";te.motionDurationFast=bt,te.motionDurationMid=bt,te.motionDurationSlow=bt}return Object.assign(Object.assign(Object.assign({},te),{colorFillContent:te.colorFillSecondary,colorFillContentHover:te.colorFill,colorFillAlter:te.colorFillQuaternary,colorBgContainerDisabled:te.colorFillTertiary,colorBorderBg:te.colorBgContainer,colorSplit:(0,Y.Z)(te.colorBorderSecondary,te.colorBgContainer),colorTextPlaceholder:te.colorTextQuaternary,colorTextDisabled:te.colorTextQuaternary,colorTextHeading:te.colorText,colorTextLabel:te.colorTextSecondary,colorTextDescription:te.colorTextTertiary,colorTextLightSolid:te.colorWhite,colorHighlight:te.colorError,colorBgTextHover:te.colorFillSecondary,colorBgTextActive:te.colorFill,colorIcon:te.colorTextTertiary,colorIconHover:te.colorText,colorErrorOutline:(0,Y.Z)(te.colorErrorBg,te.colorBgContainer),colorWarningOutline:(0,Y.Z)(te.colorWarningBg,te.colorBgContainer),fontSizeIcon:te.fontSizeSM,lineWidthFocus:te.lineWidth*3,lineWidth:te.lineWidth,controlOutlineWidth:te.lineWidth*2,controlInteractiveSize:te.controlHeight/2,controlItemBgHover:te.colorFillTertiary,controlItemBgActive:te.colorPrimaryBg,controlItemBgActiveHover:te.colorPrimaryBgHover,controlItemBgActiveDisabled:te.colorFill,controlTmpOutline:te.colorFillQuaternary,controlOutline:(0,Y.Z)(te.colorPrimaryBg,te.colorBgContainer),lineType:te.lineType,borderRadius:te.borderRadius,borderRadiusXS:te.borderRadiusXS,borderRadiusSM:te.borderRadiusSM,borderRadiusLG:te.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:te.sizeXXS,paddingXS:te.sizeXS,paddingSM:te.sizeSM,padding:te.size,paddingMD:te.sizeMD,paddingLG:te.sizeLG,paddingXL:te.sizeXL,paddingContentHorizontalLG:te.sizeLG,paddingContentVerticalLG:te.sizeMS,paddingContentHorizontal:te.sizeMS,paddingContentVertical:te.sizeSM,paddingContentHorizontalSM:te.size,paddingContentVerticalSM:te.sizeXS,marginXXS:te.sizeXXS,marginXS:te.sizeXS,marginSM:te.sizeSM,margin:te.size,marginMD:te.sizeMD,marginLG:te.sizeLG,marginXL:te.sizeXL,marginXXL:te.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:Ke,screenXSMin:Ke,screenXSMax:$e-1,screenSM:$e,screenSMMin:$e,screenSMMax:He-1,screenMD:He,screenMDMin:He,screenMDMax:qe-1,screenLG:qe,screenLGMin:qe,screenLGMax:dt-1,screenXL:dt,screenXLMin:dt,screenXLMax:Je-1,screenXXL:Je,screenXXLMin:Je,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new s.t("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new s.t("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new s.t("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),ve)}},75428:function(Zr,jt,F){"use strict";F.d(jt,{Z:function(){return ot}});var s=F(98990);function ot(Y,c){return s.i.reduce((xe,We)=>{const Fe=Y[`${We}1`],Me=Y[`${We}3`],ve=Y[`${We}6`],te=Y[`${We}7`];return Object.assign(Object.assign({},xe),c(We,{lightColor:Fe,lightBorderColor:Me,darkColor:ve,textColor:te}))},{})}},84825:function(Zr,jt,F){"use strict";F.d(jt,{A1:function(){return Fe},I$:function(){return We},bk:function(){return Me}});var s=F(75271),ot=F(83509),Y=F(98446),c=F(34299),xe=F(67699);const{genStyleHooks:We,genComponentStyleHook:Fe,genSubStyleComponent:Me}=(0,ot.rb)({usePrefix:()=>{const{getPrefixCls:ve,iconPrefixCls:te}=(0,s.useContext)(Y.E_);return{rootPrefixCls:ve(),iconPrefixCls:te}},useToken:()=>{const[ve,te,Ke,$e,He]=(0,xe.ZP)();return{theme:ve,realToken:te,hashId:Ke,token:$e,cssVar:He}},useCSP:()=>{const{csp:ve}=(0,s.useContext)(Y.E_);return ve!=null?ve:{}},getResetStyles:(ve,te)=>{var Ke;const $e=(0,c.Lx)(ve);return[$e,{"&":$e},(0,c.JT)((Ke=te==null?void 0:te.prefix.iconPrefixCls)!==null&&Ke!==void 0?Ke:Y.oR)]},getCommonStyle:c.du,getCompUnitless:()=>xe.NJ})},58570:function(Zr,jt,F){"use strict";var s=F(84432);function ot(c){return c>=0&&c<=255}function Y(c,xe){const{r:We,g:Fe,b:Me,a:ve}=new s.t(c).toRgb();if(ve<1)return c;const{r:te,g:Ke,b:$e}=new s.t(xe).toRgb();for(let He=.01;He<=1;He+=.01){const qe=Math.round((We-te*(1-He))/He),dt=Math.round((Fe-Ke*(1-He))/He),Je=Math.round((Me-$e*(1-He))/He);if(ot(qe)&&ot(dt)&&ot(Je))return new s.t({r:qe,g:dt,b:Je,a:Math.round(He*100)/100}).toRgbString()}return new s.t({r:We,g:Fe,b:Me,a:1}).toRgbString()}jt.Z=Y},85985:function(Zr,jt){"use strict";const F={placeholder:"Select time",rangePlaceholder:["Start time","End time"]};jt.Z=F},9202:function(Zr,jt,F){"use strict";F.d(jt,{Z:function(){return $n}});var s=F(75271),ot=F(82187),Y=F.n(ot),c=F(75219),xe=F(93954),We=F(78018),Fe=F(19952),Me=F(13635),ve=F(5416),te=F(26021),Ke=F(87117),$e=F(61803),He=F(67699),qe=F(98446),dt=F(55921),Je=F(34299),ht=F(3153),bt=F(18533),Ue=F(2276),kt=F(75428),yt=F(83509),Et=F(84825);const Vt=cn=>{const{calc:En,componentCls:lt,tooltipMaxWidth:Gt,tooltipColor:bn,tooltipBg:fe,tooltipBorderRadius:Wt,zIndexPopup:hi,controlHeight:Jr,boxShadowSecondary:Te,paddingSM:Pn,paddingXS:Lr,arrowOffsetHorizontal:kr,sizePopupArrow:In}=cn,Nr=En(Wt).add(In).add(kr).equal(),vi=En(Wt).mul(2).add(In).equal();return[{[lt]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,Je.Wf)(cn)),{position:"absolute",zIndex:hi,display:"block",width:"max-content",maxWidth:Gt,visibility:"visible","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"&-hidden":{display:"none"},"--antd-arrow-background-color":fe,[`${lt}-inner`]:{minWidth:vi,minHeight:Jr,padding:`${(0,dt.bf)(cn.calc(Pn).div(2).equal())} ${(0,dt.bf)(Lr)}`,color:bn,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:fe,borderRadius:Wt,boxShadow:Te,boxSizing:"border-box"},[["&-placement-topLeft","&-placement-topRight","&-placement-bottomLeft","&-placement-bottomRight"].join(",")]:{minWidth:Nr},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${lt}-inner`]:{borderRadius:cn.min(Wt,bt.qN)}},[`${lt}-content`]:{position:"relative"}}),(0,kt.Z)(cn,(sr,it)=>{let{darkColor:Ot}=it;return{[`&${lt}-${sr}`]:{[`${lt}-inner`]:{backgroundColor:Ot},[`${lt}-arrow`]:{"--antd-arrow-background-color":Ot}}}})),{"&-rtl":{direction:"rtl"}})},(0,bt.ZP)(cn,"var(--antd-arrow-background-color)"),{[`${lt}-pure`]:{position:"relative",maxWidth:"none",margin:cn.sizePopupArrow}}]},Lt=cn=>Object.assign(Object.assign({zIndexPopup:cn.zIndexPopupBase+70},(0,bt.wZ)({contentRadius:cn.borderRadius,limitVerticalRadius:!0})),(0,Ue.w)((0,yt.IX)(cn,{borderRadiusOuter:Math.min(cn.borderRadiusOuter,4)})));var hr=function(cn){let En=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return(0,Et.I$)("Tooltip",Gt=>{const{borderRadius:bn,colorTextLightSolid:fe,colorBgSpotlight:Wt}=Gt,hi=(0,yt.IX)(Gt,{tooltipMaxWidth:250,tooltipColor:fe,tooltipBorderRadius:bn,tooltipBg:Wt});return[Vt(hi),(0,ht._y)(Gt,"zoom-big-fast")]},Lt,{resetStyle:!1,injectStyle:En})(cn)},er=F(53835);function Hn(cn,En){const lt=(0,er.o2)(En),Gt=Y()({[`${cn}-${En}`]:En&&lt}),bn={},fe={};return En&&!lt&&(bn.background=En,fe["--antd-arrow-background-color"]=En),{className:Gt,overlayStyle:bn,arrowStyle:fe}}var Nt=cn=>{const{prefixCls:En,className:lt,placement:Gt="top",title:bn,color:fe,overlayInnerStyle:Wt}=cn,{getPrefixCls:hi}=s.useContext(qe.E_),Jr=hi("tooltip",En),[Te,Pn,Lr]=hr(Jr),kr=Hn(Jr,fe),In=kr.arrowStyle,Nr=Object.assign(Object.assign({},Wt),kr.overlayStyle),vi=Y()(Pn,Lr,Jr,`${Jr}-pure`,`${Jr}-placement-${Gt}`,lt,kr.className);return Te(s.createElement("div",{className:vi,style:In},s.createElement("div",{className:`${Jr}-arrow`}),s.createElement(c.G,Object.assign({},cn,{className:Pn,prefixCls:Jr,overlayInnerStyle:Nr}),bn)))},sn=function(cn,En){var lt={};for(var Gt in cn)Object.prototype.hasOwnProperty.call(cn,Gt)&&En.indexOf(Gt)<0&&(lt[Gt]=cn[Gt]);if(cn!=null&&typeof Object.getOwnPropertySymbols=="function")for(var bn=0,Gt=Object.getOwnPropertySymbols(cn);bn<Gt.length;bn++)En.indexOf(Gt[bn])<0&&Object.prototype.propertyIsEnumerable.call(cn,Gt[bn])&&(lt[Gt[bn]]=cn[Gt[bn]]);return lt};const Le=s.forwardRef((cn,En)=>{var lt,Gt;const{prefixCls:bn,openClassName:fe,getTooltipContainer:Wt,color:hi,overlayInnerStyle:Jr,children:Te,afterOpenChange:Pn,afterVisibleChange:Lr,destroyTooltipOnHide:kr,arrow:In=!0,title:Nr,overlay:vi,builtinPlacements:sr,arrowPointAtCenter:it=!1,autoAdjustOverflow:Ot=!0,motion:zn,getPopupContainer:dn,placement:fn="top",mouseEnterDelay:xr=.1,mouseLeaveDelay:Un=.1,overlayStyle:Xr,rootClassName:ei,overlayClassName:Wr,styles:ti,classNames:gr}=cn,mr=sn(cn,["prefixCls","openClassName","getTooltipContainer","color","overlayInnerStyle","children","afterOpenChange","afterVisibleChange","destroyTooltipOnHide","arrow","title","overlay","builtinPlacements","arrowPointAtCenter","autoAdjustOverflow","motion","getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName","overlayClassName","styles","classNames"]),fr=!!In,[,wr]=(0,He.ZP)(),{getPopupContainer:vr,getPrefixCls:jr,direction:Xn,className:lr,style:Yr,classNames:Fn,styles:Si}=(0,qe.dj)("tooltip"),mi=(0,Ke.ln)("Tooltip"),Hi=s.useRef(null),ho=()=>{var Xe;(Xe=Hi.current)===null||Xe===void 0||Xe.forceAlign()};s.useImperativeHandle(En,()=>{var Xe,Mt;return{forceAlign:ho,forcePopupAlign:()=>{mi.deprecated(!1,"forcePopupAlign","forceAlign"),ho()},nativeElement:(Xe=Hi.current)===null||Xe===void 0?void 0:Xe.nativeElement,popupElement:(Mt=Hi.current)===null||Mt===void 0?void 0:Mt.popupElement}});const[Ur,eo]=(0,xe.Z)(!1,{value:(lt=cn.open)!==null&&lt!==void 0?lt:cn.visible,defaultValue:(Gt=cn.defaultOpen)!==null&&Gt!==void 0?Gt:cn.defaultVisible}),en=!Nr&&!vi&&Nr!==0,Mn=Xe=>{var Mt,Ht;eo(en?!1:Xe),en||((Mt=cn.onOpenChange)===null||Mt===void 0||Mt.call(cn,Xe),(Ht=cn.onVisibleChange)===null||Ht===void 0||Ht.call(cn,Xe))},Qn=s.useMemo(()=>{var Xe,Mt;let Ht=it;return typeof In=="object"&&(Ht=(Mt=(Xe=In.pointAtCenter)!==null&&Xe!==void 0?Xe:In.arrowPointAtCenter)!==null&&Mt!==void 0?Mt:it),sr||(0,ve.Z)({arrowPointAtCenter:Ht,autoAdjustOverflow:Ot,arrowWidth:fr?wr.sizePopupArrow:0,borderRadius:wr.borderRadius,offset:wr.marginXXS,visibleFirst:!0})},[it,In,sr,wr]),Dr=s.useMemo(()=>Nr===0?Nr:vi||Nr||"",[vi,Nr]),ui=s.createElement(We.Z,{space:!0},typeof Dr=="function"?Dr():Dr),oi=jr("tooltip",bn),Xi=jr(),Ji=cn["data-popover-inject"];let Ro=Ur;!("open"in cn)&&!("visible"in cn)&&en&&(Ro=!1);const xo=s.isValidElement(Te)&&!(0,te.M2)(Te)?Te:s.createElement("span",null,Te),io=xo.props,Oe=!io.className||typeof io.className=="string"?Y()(io.className,fe||`${oi}-open`):io.className,[de,X,ke]=hr(oi,!Ji),he=Hn(oi,hi),Ye=he.arrowStyle,et=Y()(Wr,{[`${oi}-rtl`]:Xn==="rtl"},he.className,ei,X,ke,lr,Fn.root,gr==null?void 0:gr.root),tn=Y()(Fn.body,gr==null?void 0:gr.body),[Tt,nn]=(0,Fe.Cn)("Tooltip",mr.zIndex),vn=s.createElement(c.Z,Object.assign({},mr,{zIndex:Tt,showArrow:fr,placement:fn,mouseEnterDelay:xr,mouseLeaveDelay:Un,prefixCls:oi,classNames:{root:et,body:tn},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Ye),Si.root),Yr),Xr),ti==null?void 0:ti.root),body:Object.assign(Object.assign(Object.assign(Object.assign({},Si.body),Jr),ti==null?void 0:ti.body),he.overlayStyle)},getTooltipContainer:dn||Wt||vr,ref:Hi,builtinPlacements:Qn,overlay:ui,visible:Ro,onVisibleChange:Mn,afterVisibleChange:Pn!=null?Pn:Lr,arrowContent:s.createElement("span",{className:`${oi}-arrow-content`}),motion:{motionName:(0,Me.m)(Xi,"zoom-big-fast",cn.transitionName),motionDeadline:1e3},destroyTooltipOnHide:!!kr}),Ro?(0,te.Tm)(xo,{className:Oe}):xo);return de(s.createElement($e.Z.Provider,{value:nn},vn))});Le._InternalPanelDoNotUseOrYouWillBeFired=Nt;var $n=Le},41424:function(Zr,jt,F){"use strict";F.d(jt,{Z:function(){return ot}});var s="5.24.2",ot=s},16483:function(Zr){(function(jt,F){Zr.exports=F()})(this,function(){"use strict";var jt=1e3,F=6e4,s=36e5,ot="millisecond",Y="second",c="minute",xe="hour",We="day",Fe="week",Me="month",ve="quarter",te="year",Ke="date",$e="Invalid Date",He=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,qe=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,dt={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Hn){var Ze=["th","st","nd","rd"],Nt=Hn%100;return"["+Hn+(Ze[(Nt-20)%10]||Ze[Nt]||Ze[0])+"]"}},Je=function(Hn,Ze,Nt){var sn=String(Hn);return!sn||sn.length>=Ze?Hn:""+Array(Ze+1-sn.length).join(Nt)+Hn},ht={s:Je,z:function(Hn){var Ze=-Hn.utcOffset(),Nt=Math.abs(Ze),sn=Math.floor(Nt/60),Xt=Nt%60;return(Ze<=0?"+":"-")+Je(sn,2,"0")+":"+Je(Xt,2,"0")},m:function Hn(Ze,Nt){if(Ze.date()<Nt.date())return-Hn(Nt,Ze);var sn=12*(Nt.year()-Ze.year())+(Nt.month()-Ze.month()),Xt=Ze.clone().add(sn,Me),Le=Nt-Xt<0,$n=Ze.clone().add(sn+(Le?-1:1),Me);return+(-(sn+(Nt-Xt)/(Le?Xt-$n:$n-Xt))||0)},a:function(Hn){return Hn<0?Math.ceil(Hn)||0:Math.floor(Hn)},p:function(Hn){return{M:Me,y:te,w:Fe,d:We,D:Ke,h:xe,m:c,s:Y,ms:ot,Q:ve}[Hn]||String(Hn||"").toLowerCase().replace(/s$/,"")},u:function(Hn){return Hn===void 0}},bt="en",Ue={};Ue[bt]=dt;var kt="$isDayjsObject",yt=function(Hn){return Hn instanceof hr||!(!Hn||!Hn[kt])},Et=function Hn(Ze,Nt,sn){var Xt;if(!Ze)return bt;if(typeof Ze=="string"){var Le=Ze.toLowerCase();Ue[Le]&&(Xt=Le),Nt&&(Ue[Le]=Nt,Xt=Le);var $n=Ze.split("-");if(!Xt&&$n.length>1)return Hn($n[0])}else{var cn=Ze.name;Ue[cn]=Ze,Xt=cn}return!sn&&Xt&&(bt=Xt),Xt||!sn&&bt},Vt=function(Hn,Ze){if(yt(Hn))return Hn.clone();var Nt=typeof Ze=="object"?Ze:{};return Nt.date=Hn,Nt.args=arguments,new hr(Nt)},Lt=ht;Lt.l=Et,Lt.i=yt,Lt.w=function(Hn,Ze){return Vt(Hn,{locale:Ze.$L,utc:Ze.$u,x:Ze.$x,$offset:Ze.$offset})};var hr=function(){function Hn(Nt){this.$L=Et(Nt.locale,null,!0),this.parse(Nt),this.$x=this.$x||Nt.x||{},this[kt]=!0}var Ze=Hn.prototype;return Ze.parse=function(Nt){this.$d=function(sn){var Xt=sn.date,Le=sn.utc;if(Xt===null)return new Date(NaN);if(Lt.u(Xt))return new Date;if(Xt instanceof Date)return new Date(Xt);if(typeof Xt=="string"&&!/Z$/i.test(Xt)){var $n=Xt.match(He);if($n){var cn=$n[2]-1||0,En=($n[7]||"0").substring(0,3);return Le?new Date(Date.UTC($n[1],cn,$n[3]||1,$n[4]||0,$n[5]||0,$n[6]||0,En)):new Date($n[1],cn,$n[3]||1,$n[4]||0,$n[5]||0,$n[6]||0,En)}}return new Date(Xt)}(Nt),this.init()},Ze.init=function(){var Nt=this.$d;this.$y=Nt.getFullYear(),this.$M=Nt.getMonth(),this.$D=Nt.getDate(),this.$W=Nt.getDay(),this.$H=Nt.getHours(),this.$m=Nt.getMinutes(),this.$s=Nt.getSeconds(),this.$ms=Nt.getMilliseconds()},Ze.$utils=function(){return Lt},Ze.isValid=function(){return this.$d.toString()!==$e},Ze.isSame=function(Nt,sn){var Xt=Vt(Nt);return this.startOf(sn)<=Xt&&Xt<=this.endOf(sn)},Ze.isAfter=function(Nt,sn){return Vt(Nt)<this.startOf(sn)},Ze.isBefore=function(Nt,sn){return this.endOf(sn)<Vt(Nt)},Ze.$g=function(Nt,sn,Xt){return Lt.u(Nt)?this[sn]:this.set(Xt,Nt)},Ze.unix=function(){return Math.floor(this.valueOf()/1e3)},Ze.valueOf=function(){return this.$d.getTime()},Ze.startOf=function(Nt,sn){var Xt=this,Le=!!Lt.u(sn)||sn,$n=Lt.p(Nt),cn=function(Jr,Te){var Pn=Lt.w(Xt.$u?Date.UTC(Xt.$y,Te,Jr):new Date(Xt.$y,Te,Jr),Xt);return Le?Pn:Pn.endOf(We)},En=function(Jr,Te){return Lt.w(Xt.toDate()[Jr].apply(Xt.toDate("s"),(Le?[0,0,0,0]:[23,59,59,999]).slice(Te)),Xt)},lt=this.$W,Gt=this.$M,bn=this.$D,fe="set"+(this.$u?"UTC":"");switch($n){case te:return Le?cn(1,0):cn(31,11);case Me:return Le?cn(1,Gt):cn(0,Gt+1);case Fe:var Wt=this.$locale().weekStart||0,hi=(lt<Wt?lt+7:lt)-Wt;return cn(Le?bn-hi:bn+(6-hi),Gt);case We:case Ke:return En(fe+"Hours",0);case xe:return En(fe+"Minutes",1);case c:return En(fe+"Seconds",2);case Y:return En(fe+"Milliseconds",3);default:return this.clone()}},Ze.endOf=function(Nt){return this.startOf(Nt,!1)},Ze.$set=function(Nt,sn){var Xt,Le=Lt.p(Nt),$n="set"+(this.$u?"UTC":""),cn=(Xt={},Xt[We]=$n+"Date",Xt[Ke]=$n+"Date",Xt[Me]=$n+"Month",Xt[te]=$n+"FullYear",Xt[xe]=$n+"Hours",Xt[c]=$n+"Minutes",Xt[Y]=$n+"Seconds",Xt[ot]=$n+"Milliseconds",Xt)[Le],En=Le===We?this.$D+(sn-this.$W):sn;if(Le===Me||Le===te){var lt=this.clone().set(Ke,1);lt.$d[cn](En),lt.init(),this.$d=lt.set(Ke,Math.min(this.$D,lt.daysInMonth())).$d}else cn&&this.$d[cn](En);return this.init(),this},Ze.set=function(Nt,sn){return this.clone().$set(Nt,sn)},Ze.get=function(Nt){return this[Lt.p(Nt)]()},Ze.add=function(Nt,sn){var Xt,Le=this;Nt=Number(Nt);var $n=Lt.p(sn),cn=function(Gt){var bn=Vt(Le);return Lt.w(bn.date(bn.date()+Math.round(Gt*Nt)),Le)};if($n===Me)return this.set(Me,this.$M+Nt);if($n===te)return this.set(te,this.$y+Nt);if($n===We)return cn(1);if($n===Fe)return cn(7);var En=(Xt={},Xt[c]=F,Xt[xe]=s,Xt[Y]=jt,Xt)[$n]||1,lt=this.$d.getTime()+Nt*En;return Lt.w(lt,this)},Ze.subtract=function(Nt,sn){return this.add(-1*Nt,sn)},Ze.format=function(Nt){var sn=this,Xt=this.$locale();if(!this.isValid())return Xt.invalidDate||$e;var Le=Nt||"YYYY-MM-DDTHH:mm:ssZ",$n=Lt.z(this),cn=this.$H,En=this.$m,lt=this.$M,Gt=Xt.weekdays,bn=Xt.months,fe=Xt.meridiem,Wt=function(Te,Pn,Lr,kr){return Te&&(Te[Pn]||Te(sn,Le))||Lr[Pn].slice(0,kr)},hi=function(Te){return Lt.s(cn%12||12,Te,"0")},Jr=fe||function(Te,Pn,Lr){var kr=Te<12?"AM":"PM";return Lr?kr.toLowerCase():kr};return Le.replace(qe,function(Te,Pn){return Pn||function(Lr){switch(Lr){case"YY":return String(sn.$y).slice(-2);case"YYYY":return Lt.s(sn.$y,4,"0");case"M":return lt+1;case"MM":return Lt.s(lt+1,2,"0");case"MMM":return Wt(Xt.monthsShort,lt,bn,3);case"MMMM":return Wt(bn,lt);case"D":return sn.$D;case"DD":return Lt.s(sn.$D,2,"0");case"d":return String(sn.$W);case"dd":return Wt(Xt.weekdaysMin,sn.$W,Gt,2);case"ddd":return Wt(Xt.weekdaysShort,sn.$W,Gt,3);case"dddd":return Gt[sn.$W];case"H":return String(cn);case"HH":return Lt.s(cn,2,"0");case"h":return hi(1);case"hh":return hi(2);case"a":return Jr(cn,En,!0);case"A":return Jr(cn,En,!1);case"m":return String(En);case"mm":return Lt.s(En,2,"0");case"s":return String(sn.$s);case"ss":return Lt.s(sn.$s,2,"0");case"SSS":return Lt.s(sn.$ms,3,"0");case"Z":return $n}return null}(Te)||$n.replace(":","")})},Ze.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},Ze.diff=function(Nt,sn,Xt){var Le,$n=this,cn=Lt.p(sn),En=Vt(Nt),lt=(En.utcOffset()-this.utcOffset())*F,Gt=this-En,bn=function(){return Lt.m($n,En)};switch(cn){case te:Le=bn()/12;break;case Me:Le=bn();break;case ve:Le=bn()/3;break;case Fe:Le=(Gt-lt)/6048e5;break;case We:Le=(Gt-lt)/864e5;break;case xe:Le=Gt/s;break;case c:Le=Gt/F;break;case Y:Le=Gt/jt;break;default:Le=Gt}return Xt?Le:Lt.a(Le)},Ze.daysInMonth=function(){return this.endOf(Me).$D},Ze.$locale=function(){return Ue[this.$L]},Ze.locale=function(Nt,sn){if(!Nt)return this.$L;var Xt=this.clone(),Le=Et(Nt,sn,!0);return Le&&(Xt.$L=Le),Xt},Ze.clone=function(){return Lt.w(this.$d,this)},Ze.toDate=function(){return new Date(this.valueOf())},Ze.toJSON=function(){return this.isValid()?this.toISOString():null},Ze.toISOString=function(){return this.$d.toISOString()},Ze.toString=function(){return this.$d.toUTCString()},Hn}(),er=hr.prototype;return Vt.prototype=er,[["$ms",ot],["$s",Y],["$m",c],["$H",xe],["$W",We],["$M",Me],["$y",te],["$D",Ke]].forEach(function(Hn){er[Hn[1]]=function(Ze){return this.$g(Ze,Hn[0],Hn[1])}}),Vt.extend=function(Hn,Ze){return Hn.$i||(Hn(Ze,hr,Vt),Hn.$i=!0),Vt},Vt.locale=Et,Vt.isDayjs=yt,Vt.unix=function(Hn){return Vt(1e3*Hn)},Vt.en=Ue[bt],Vt.Ls=Ue,Vt.p={},Vt})},79771:function(Zr){(function(jt,F){Zr.exports=F()})(this,function(){"use strict";return function(jt,F){var s=F.prototype,ot=s.format;s.format=function(Y){var c=this,xe=this.$locale();if(!this.isValid())return ot.bind(this)(Y);var We=this.$utils(),Fe=(Y||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(Me){switch(Me){case"Q":return Math.ceil((c.$M+1)/3);case"Do":return xe.ordinal(c.$D);case"gggg":return c.weekYear();case"GGGG":return c.isoWeekYear();case"wo":return xe.ordinal(c.week(),"W");case"w":case"ww":return We.s(c.week(),Me==="w"?1:2,"0");case"W":case"WW":return We.s(c.isoWeek(),Me==="W"?1:2,"0");case"k":case"kk":return We.s(String(c.$H===0?24:c.$H),Me==="k"?1:2,"0");case"X":return Math.floor(c.$d.getTime()/1e3);case"x":return c.$d.getTime();case"z":return"["+c.offsetName()+"]";case"zzz":return"["+c.offsetName("long")+"]";default:return Me}});return ot.bind(this)(Fe)}}})},30156:function(Zr){(function(jt,F){Zr.exports=F()})(this,function(){"use strict";var jt={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},F=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,s=/\d/,ot=/\d\d/,Y=/\d\d?/,c=/\d*[^-_:/,()\s\d]+/,xe={},We=function(He){return(He=+He)+(He>68?1900:2e3)},Fe=function(He){return function(qe){this[He]=+qe}},Me=[/[+-]\d\d:?(\d\d)?|Z/,function(He){(this.zone||(this.zone={})).offset=function(qe){if(!qe||qe==="Z")return 0;var dt=qe.match(/([+-]|\d\d)/g),Je=60*dt[1]+(+dt[2]||0);return Je===0?0:dt[0]==="+"?-Je:Je}(He)}],ve=function(He){var qe=xe[He];return qe&&(qe.indexOf?qe:qe.s.concat(qe.f))},te=function(He,qe){var dt,Je=xe.meridiem;if(Je){for(var ht=1;ht<=24;ht+=1)if(He.indexOf(Je(ht,0,qe))>-1){dt=ht>12;break}}else dt=He===(qe?"pm":"PM");return dt},Ke={A:[c,function(He){this.afternoon=te(He,!1)}],a:[c,function(He){this.afternoon=te(He,!0)}],Q:[s,function(He){this.month=3*(He-1)+1}],S:[s,function(He){this.milliseconds=100*+He}],SS:[ot,function(He){this.milliseconds=10*+He}],SSS:[/\d{3}/,function(He){this.milliseconds=+He}],s:[Y,Fe("seconds")],ss:[Y,Fe("seconds")],m:[Y,Fe("minutes")],mm:[Y,Fe("minutes")],H:[Y,Fe("hours")],h:[Y,Fe("hours")],HH:[Y,Fe("hours")],hh:[Y,Fe("hours")],D:[Y,Fe("day")],DD:[ot,Fe("day")],Do:[c,function(He){var qe=xe.ordinal,dt=He.match(/\d+/);if(this.day=dt[0],qe)for(var Je=1;Je<=31;Je+=1)qe(Je).replace(/\[|\]/g,"")===He&&(this.day=Je)}],w:[Y,Fe("week")],ww:[ot,Fe("week")],M:[Y,Fe("month")],MM:[ot,Fe("month")],MMM:[c,function(He){var qe=ve("months"),dt=(ve("monthsShort")||qe.map(function(Je){return Je.slice(0,3)})).indexOf(He)+1;if(dt<1)throw new Error;this.month=dt%12||dt}],MMMM:[c,function(He){var qe=ve("months").indexOf(He)+1;if(qe<1)throw new Error;this.month=qe%12||qe}],Y:[/[+-]?\d+/,Fe("year")],YY:[ot,function(He){this.year=We(He)}],YYYY:[/\d{4}/,Fe("year")],Z:Me,ZZ:Me};function $e(He){var qe,dt;qe=He,dt=xe&&xe.formats;for(var Je=(He=qe.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(Vt,Lt,hr){var er=hr&&hr.toUpperCase();return Lt||dt[hr]||jt[hr]||dt[er].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(Hn,Ze,Nt){return Ze||Nt.slice(1)})})).match(F),ht=Je.length,bt=0;bt<ht;bt+=1){var Ue=Je[bt],kt=Ke[Ue],yt=kt&&kt[0],Et=kt&&kt[1];Je[bt]=Et?{regex:yt,parser:Et}:Ue.replace(/^\[|\]$/g,"")}return function(Vt){for(var Lt={},hr=0,er=0;hr<ht;hr+=1){var Hn=Je[hr];if(typeof Hn=="string")er+=Hn.length;else{var Ze=Hn.regex,Nt=Hn.parser,sn=Vt.slice(er),Xt=Ze.exec(sn)[0];Nt.call(Lt,Xt),Vt=Vt.replace(Xt,"")}}return function(Le){var $n=Le.afternoon;if($n!==void 0){var cn=Le.hours;$n?cn<12&&(Le.hours+=12):cn===12&&(Le.hours=0),delete Le.afternoon}}(Lt),Lt}}return function(He,qe,dt){dt.p.customParseFormat=!0,He&&He.parseTwoDigitYear&&(We=He.parseTwoDigitYear);var Je=qe.prototype,ht=Je.parse;Je.parse=function(bt){var Ue=bt.date,kt=bt.utc,yt=bt.args;this.$u=kt;var Et=yt[1];if(typeof Et=="string"){var Vt=yt[2]===!0,Lt=yt[3]===!0,hr=Vt||Lt,er=yt[2];Lt&&(er=yt[2]),xe=this.$locale(),!Vt&&er&&(xe=dt.Ls[er]),this.$d=function(sn,Xt,Le,$n){try{if(["x","X"].indexOf(Xt)>-1)return new Date((Xt==="X"?1e3:1)*sn);var cn=$e(Xt)(sn),En=cn.year,lt=cn.month,Gt=cn.day,bn=cn.hours,fe=cn.minutes,Wt=cn.seconds,hi=cn.milliseconds,Jr=cn.zone,Te=cn.week,Pn=new Date,Lr=Gt||(En||lt?1:Pn.getDate()),kr=En||Pn.getFullYear(),In=0;En&&!lt||(In=lt>0?lt-1:Pn.getMonth());var Nr,vi=bn||0,sr=fe||0,it=Wt||0,Ot=hi||0;return Jr?new Date(Date.UTC(kr,In,Lr,vi,sr,it,Ot+60*Jr.offset*1e3)):Le?new Date(Date.UTC(kr,In,Lr,vi,sr,it,Ot)):(Nr=new Date(kr,In,Lr,vi,sr,it,Ot),Te&&(Nr=$n(Nr).week(Te).toDate()),Nr)}catch(zn){return new Date("")}}(Ue,Et,kt,dt),this.init(),er&&er!==!0&&(this.$L=this.locale(er).$L),hr&&Ue!=this.format(Et)&&(this.$d=new Date("")),xe={}}else if(Et instanceof Array)for(var Hn=Et.length,Ze=1;Ze<=Hn;Ze+=1){yt[1]=Et[Ze-1];var Nt=dt.apply(this,yt);if(Nt.isValid()){this.$d=Nt.$d,this.$L=Nt.$L,this.init();break}Ze===Hn&&(this.$d=new Date(""))}else ht.call(this,bt)}}})},2845:function(Zr){(function(jt,F){Zr.exports=F()})(this,function(){"use strict";return function(jt,F,s){var ot=F.prototype,Y=function(Me){return Me&&(Me.indexOf?Me:Me.s)},c=function(Me,ve,te,Ke,$e){var He=Me.name?Me:Me.$locale(),qe=Y(He[ve]),dt=Y(He[te]),Je=qe||dt.map(function(bt){return bt.slice(0,Ke)});if(!$e)return Je;var ht=He.weekStart;return Je.map(function(bt,Ue){return Je[(Ue+(ht||0))%7]})},xe=function(){return s.Ls[s.locale()]},We=function(Me,ve){return Me.formats[ve]||function(te){return te.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(Ke,$e,He){return $e||He.slice(1)})}(Me.formats[ve.toUpperCase()])},Fe=function(){var Me=this;return{months:function(ve){return ve?ve.format("MMMM"):c(Me,"months")},monthsShort:function(ve){return ve?ve.format("MMM"):c(Me,"monthsShort","months",3)},firstDayOfWeek:function(){return Me.$locale().weekStart||0},weekdays:function(ve){return ve?ve.format("dddd"):c(Me,"weekdays")},weekdaysMin:function(ve){return ve?ve.format("dd"):c(Me,"weekdaysMin","weekdays",2)},weekdaysShort:function(ve){return ve?ve.format("ddd"):c(Me,"weekdaysShort","weekdays",3)},longDateFormat:function(ve){return We(Me.$locale(),ve)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};ot.localeData=function(){return Fe.bind(this)()},s.localeData=function(){var Me=xe();return{firstDayOfWeek:function(){return Me.weekStart||0},weekdays:function(){return s.weekdays()},weekdaysShort:function(){return s.weekdaysShort()},weekdaysMin:function(){return s.weekdaysMin()},months:function(){return s.months()},monthsShort:function(){return s.monthsShort()},longDateFormat:function(ve){return We(Me,ve)},meridiem:Me.meridiem,ordinal:Me.ordinal}},s.months=function(){return c(xe(),"months")},s.monthsShort=function(){return c(xe(),"monthsShort","months",3)},s.weekdays=function(Me){return c(xe(),"weekdays",null,null,Me)},s.weekdaysShort=function(Me){return c(xe(),"weekdaysShort","weekdays",3,Me)},s.weekdaysMin=function(Me){return c(xe(),"weekdaysMin","weekdays",2,Me)}}})},88777:function(Zr){(function(jt,F){Zr.exports=F()})(this,function(){"use strict";var jt="week",F="year";return function(s,ot,Y){var c=ot.prototype;c.week=function(xe){if(xe===void 0&&(xe=null),xe!==null)return this.add(7*(xe-this.week()),"day");var We=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var Fe=Y(this).startOf(F).add(1,F).date(We),Me=Y(this).endOf(jt);if(Fe.isBefore(Me))return 1}var ve=Y(this).startOf(F).date(We).startOf(jt).subtract(1,"millisecond"),te=this.diff(ve,jt,!0);return te<0?Y(this).startOf("week").week():Math.ceil(te)},c.weeks=function(xe){return xe===void 0&&(xe=null),this.week(xe)}}})},41466:function(Zr){(function(jt,F){Zr.exports=F()})(this,function(){"use strict";return function(jt,F){F.prototype.weekYear=function(){var s=this.month(),ot=this.week(),Y=this.year();return ot===1&&s===11?Y+1:s===0&&ot>=52?Y-1:Y}}})},92098:function(Zr){(function(jt,F){Zr.exports=F()})(this,function(){"use strict";return function(jt,F){F.prototype.weekday=function(s){var ot=this.$locale().weekStart||0,Y=this.$W,c=(Y<ot?Y+7:Y)-ot;return this.$utils().u(s)?c:this.subtract(c,"day").add(s,"day")}}})},55518:function(Zr,jt,F){var s=F(3806),ot=function(xe){var We=/[height|width]$/;return We.test(xe)},Y=function(xe){var We="",Fe=Object.keys(xe);return Fe.forEach(function(Me,ve){var te=xe[Me];Me=s(Me),ot(Me)&&typeof te=="number"&&(te=te+"px"),te===!0?We+=Me:te===!1?We+="not "+Me:We+="("+Me+": "+te+")",ve<Fe.length-1&&(We+=" and ")}),We},c=function(xe){var We="";return typeof xe=="string"?xe:xe instanceof Array?(xe.forEach(function(Fe,Me){We+=Y(Fe),Me<xe.length-1&&(We+=", ")}),We):Y(xe)};Zr.exports=c},95959:function(Zr){(function(jt,F){Zr.exports=F()})(this,function(){"use strict";var jt,F,s;function ot(c,xe){if(!jt)jt=xe;else if(!F)F=xe;else{var We="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+jt+")(sharedChunk); ("+F+")(sharedChunk); self.onerror = null;",Fe={};jt(Fe),s=xe(Fe),typeof window!="undefined"&&window&&window.URL&&window.URL.createObjectURL&&(s.workerUrl=window.URL.createObjectURL(new Blob([We],{type:"text/javascript"})))}}ot(["exports"],function(c){function xe(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var We,Fe={},Me={};function ve(){if(We)return Me;We=1,Object.defineProperty(Me,"__esModule",{value:!0}),Me.setMatrixArrayType=function(g){Me.ARRAY_TYPE=n=g},Me.toRadian=function(g){return g*d},Me.equals=function(g,h){return Math.abs(g-h)<=u*Math.max(1,Math.abs(g),Math.abs(h))},Me.RANDOM=Me.ARRAY_TYPE=Me.EPSILON=void 0;var u=1e-6;Me.EPSILON=u;var n=typeof Float32Array!="undefined"?Float32Array:Array;Me.ARRAY_TYPE=n;var i=Math.random;Me.RANDOM=i;var d=Math.PI/180;return Math.hypot||(Math.hypot=function(){for(var g=0,h=arguments.length;h--;)g+=arguments[h]*arguments[h];return Math.sqrt(g)}),Me}var te,Ke={};function $e(){if(te)return Ke;function u(h){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},u(h)}te=1,Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.create=function(){var h=new n.ARRAY_TYPE(4);return n.ARRAY_TYPE!=Float32Array&&(h[1]=0,h[2]=0),h[0]=1,h[3]=1,h},Ke.clone=function(h){var v=new n.ARRAY_TYPE(4);return v[0]=h[0],v[1]=h[1],v[2]=h[2],v[3]=h[3],v},Ke.copy=function(h,v){return h[0]=v[0],h[1]=v[1],h[2]=v[2],h[3]=v[3],h},Ke.identity=function(h){return h[0]=1,h[1]=0,h[2]=0,h[3]=1,h},Ke.fromValues=function(h,v,S,T){var A=new n.ARRAY_TYPE(4);return A[0]=h,A[1]=v,A[2]=S,A[3]=T,A},Ke.set=function(h,v,S,T,A){return h[0]=v,h[1]=S,h[2]=T,h[3]=A,h},Ke.transpose=function(h,v){if(h===v){var S=v[1];h[1]=v[2],h[2]=S}else h[0]=v[0],h[1]=v[2],h[2]=v[1],h[3]=v[3];return h},Ke.invert=function(h,v){var S=v[0],T=v[1],A=v[2],b=v[3],P=S*b-A*T;return P?(h[0]=b*(P=1/P),h[1]=-T*P,h[2]=-A*P,h[3]=S*P,h):null},Ke.adjoint=function(h,v){var S=v[0];return h[0]=v[3],h[1]=-v[1],h[2]=-v[2],h[3]=S,h},Ke.determinant=function(h){return h[0]*h[3]-h[2]*h[1]},Ke.multiply=d,Ke.rotate=function(h,v,S){var T=v[0],A=v[1],b=v[2],P=v[3],$=Math.sin(S),M=Math.cos(S);return h[0]=T*M+b*$,h[1]=A*M+P*$,h[2]=T*-$+b*M,h[3]=A*-$+P*M,h},Ke.scale=function(h,v,S){var T=v[1],A=v[2],b=v[3],P=S[0],$=S[1];return h[0]=v[0]*P,h[1]=T*P,h[2]=A*$,h[3]=b*$,h},Ke.fromRotation=function(h,v){var S=Math.sin(v),T=Math.cos(v);return h[0]=T,h[1]=S,h[2]=-S,h[3]=T,h},Ke.fromScaling=function(h,v){return h[0]=v[0],h[1]=0,h[2]=0,h[3]=v[1],h},Ke.str=function(h){return"mat2("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+")"},Ke.frob=function(h){return Math.hypot(h[0],h[1],h[2],h[3])},Ke.LDU=function(h,v,S,T){return h[2]=T[2]/T[0],S[0]=T[0],S[1]=T[1],S[3]=T[3]-h[2]*S[1],[h,v,S]},Ke.add=function(h,v,S){return h[0]=v[0]+S[0],h[1]=v[1]+S[1],h[2]=v[2]+S[2],h[3]=v[3]+S[3],h},Ke.subtract=g,Ke.exactEquals=function(h,v){return h[0]===v[0]&&h[1]===v[1]&&h[2]===v[2]&&h[3]===v[3]},Ke.equals=function(h,v){var S=h[0],T=h[1],A=h[2],b=h[3],P=v[0],$=v[1],M=v[2],O=v[3];return Math.abs(S-P)<=n.EPSILON*Math.max(1,Math.abs(S),Math.abs(P))&&Math.abs(T-$)<=n.EPSILON*Math.max(1,Math.abs(T),Math.abs($))&&Math.abs(A-M)<=n.EPSILON*Math.max(1,Math.abs(A),Math.abs(M))&&Math.abs(b-O)<=n.EPSILON*Math.max(1,Math.abs(b),Math.abs(O))},Ke.multiplyScalar=function(h,v,S){return h[0]=v[0]*S,h[1]=v[1]*S,h[2]=v[2]*S,h[3]=v[3]*S,h},Ke.multiplyScalarAndAdd=function(h,v,S,T){return h[0]=v[0]+S[0]*T,h[1]=v[1]+S[1]*T,h[2]=v[2]+S[2]*T,h[3]=v[3]+S[3]*T,h},Ke.sub=Ke.mul=void 0;var n=function(h,v){if(h&&h.__esModule)return h;if(h===null||u(h)!=="object"&&typeof h!="function")return{default:h};var S=i(void 0);if(S&&S.has(h))return S.get(h);var T={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in h)if(b!=="default"&&Object.prototype.hasOwnProperty.call(h,b)){var P=A?Object.getOwnPropertyDescriptor(h,b):null;P&&(P.get||P.set)?Object.defineProperty(T,b,P):T[b]=h[b]}return T.default=h,S&&S.set(h,T),T}(ve());function i(h){if(typeof WeakMap!="function")return null;var v=new WeakMap,S=new WeakMap;return(i=function(T){return T?S:v})(h)}function d(h,v,S){var T=v[0],A=v[1],b=v[2],P=v[3],$=S[0],M=S[1],O=S[2],N=S[3];return h[0]=T*$+b*M,h[1]=A*$+P*M,h[2]=T*O+b*N,h[3]=A*O+P*N,h}function g(h,v,S){return h[0]=v[0]-S[0],h[1]=v[1]-S[1],h[2]=v[2]-S[2],h[3]=v[3]-S[3],h}return Ke.mul=d,Ke.sub=g,Ke}var He,qe={};function dt(){if(He)return qe;function u(h){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},u(h)}He=1,Object.defineProperty(qe,"__esModule",{value:!0}),qe.create=function(){var h=new n.ARRAY_TYPE(6);return n.ARRAY_TYPE!=Float32Array&&(h[1]=0,h[2]=0,h[4]=0,h[5]=0),h[0]=1,h[3]=1,h},qe.clone=function(h){var v=new n.ARRAY_TYPE(6);return v[0]=h[0],v[1]=h[1],v[2]=h[2],v[3]=h[3],v[4]=h[4],v[5]=h[5],v},qe.copy=function(h,v){return h[0]=v[0],h[1]=v[1],h[2]=v[2],h[3]=v[3],h[4]=v[4],h[5]=v[5],h},qe.identity=function(h){return h[0]=1,h[1]=0,h[2]=0,h[3]=1,h[4]=0,h[5]=0,h},qe.fromValues=function(h,v,S,T,A,b){var P=new n.ARRAY_TYPE(6);return P[0]=h,P[1]=v,P[2]=S,P[3]=T,P[4]=A,P[5]=b,P},qe.set=function(h,v,S,T,A,b,P){return h[0]=v,h[1]=S,h[2]=T,h[3]=A,h[4]=b,h[5]=P,h},qe.invert=function(h,v){var S=v[0],T=v[1],A=v[2],b=v[3],P=v[4],$=v[5],M=S*b-T*A;return M?(h[0]=b*(M=1/M),h[1]=-T*M,h[2]=-A*M,h[3]=S*M,h[4]=(A*$-b*P)*M,h[5]=(T*P-S*$)*M,h):null},qe.determinant=function(h){return h[0]*h[3]-h[1]*h[2]},qe.multiply=d,qe.rotate=function(h,v,S){var T=v[0],A=v[1],b=v[2],P=v[3],$=v[4],M=v[5],O=Math.sin(S),N=Math.cos(S);return h[0]=T*N+b*O,h[1]=A*N+P*O,h[2]=T*-O+b*N,h[3]=A*-O+P*N,h[4]=$,h[5]=M,h},qe.scale=function(h,v,S){var T=v[1],A=v[2],b=v[3],P=v[4],$=v[5],M=S[0],O=S[1];return h[0]=v[0]*M,h[1]=T*M,h[2]=A*O,h[3]=b*O,h[4]=P,h[5]=$,h},qe.translate=function(h,v,S){var T=v[0],A=v[1],b=v[2],P=v[3],$=v[4],M=v[5],O=S[0],N=S[1];return h[0]=T,h[1]=A,h[2]=b,h[3]=P,h[4]=T*O+b*N+$,h[5]=A*O+P*N+M,h},qe.fromRotation=function(h,v){var S=Math.sin(v),T=Math.cos(v);return h[0]=T,h[1]=S,h[2]=-S,h[3]=T,h[4]=0,h[5]=0,h},qe.fromScaling=function(h,v){return h[0]=v[0],h[1]=0,h[2]=0,h[3]=v[1],h[4]=0,h[5]=0,h},qe.fromTranslation=function(h,v){return h[0]=1,h[1]=0,h[2]=0,h[3]=1,h[4]=v[0],h[5]=v[1],h},qe.str=function(h){return"mat2d("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+", "+h[4]+", "+h[5]+")"},qe.frob=function(h){return Math.hypot(h[0],h[1],h[2],h[3],h[4],h[5],1)},qe.add=function(h,v,S){return h[0]=v[0]+S[0],h[1]=v[1]+S[1],h[2]=v[2]+S[2],h[3]=v[3]+S[3],h[4]=v[4]+S[4],h[5]=v[5]+S[5],h},qe.subtract=g,qe.multiplyScalar=function(h,v,S){return h[0]=v[0]*S,h[1]=v[1]*S,h[2]=v[2]*S,h[3]=v[3]*S,h[4]=v[4]*S,h[5]=v[5]*S,h},qe.multiplyScalarAndAdd=function(h,v,S,T){return h[0]=v[0]+S[0]*T,h[1]=v[1]+S[1]*T,h[2]=v[2]+S[2]*T,h[3]=v[3]+S[3]*T,h[4]=v[4]+S[4]*T,h[5]=v[5]+S[5]*T,h},qe.exactEquals=function(h,v){return h[0]===v[0]&&h[1]===v[1]&&h[2]===v[2]&&h[3]===v[3]&&h[4]===v[4]&&h[5]===v[5]},qe.equals=function(h,v){var S=h[0],T=h[1],A=h[2],b=h[3],P=h[4],$=h[5],M=v[0],O=v[1],N=v[2],W=v[3],q=v[4],ae=v[5];return Math.abs(S-M)<=n.EPSILON*Math.max(1,Math.abs(S),Math.abs(M))&&Math.abs(T-O)<=n.EPSILON*Math.max(1,Math.abs(T),Math.abs(O))&&Math.abs(A-N)<=n.EPSILON*Math.max(1,Math.abs(A),Math.abs(N))&&Math.abs(b-W)<=n.EPSILON*Math.max(1,Math.abs(b),Math.abs(W))&&Math.abs(P-q)<=n.EPSILON*Math.max(1,Math.abs(P),Math.abs(q))&&Math.abs($-ae)<=n.EPSILON*Math.max(1,Math.abs($),Math.abs(ae))},qe.sub=qe.mul=void 0;var n=function(h,v){if(h&&h.__esModule)return h;if(h===null||u(h)!=="object"&&typeof h!="function")return{default:h};var S=i(void 0);if(S&&S.has(h))return S.get(h);var T={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in h)if(b!=="default"&&Object.prototype.hasOwnProperty.call(h,b)){var P=A?Object.getOwnPropertyDescriptor(h,b):null;P&&(P.get||P.set)?Object.defineProperty(T,b,P):T[b]=h[b]}return T.default=h,S&&S.set(h,T),T}(ve());function i(h){if(typeof WeakMap!="function")return null;var v=new WeakMap,S=new WeakMap;return(i=function(T){return T?S:v})(h)}function d(h,v,S){var T=v[0],A=v[1],b=v[2],P=v[3],$=v[4],M=v[5],O=S[0],N=S[1],W=S[2],q=S[3],ae=S[4],ce=S[5];return h[0]=T*O+b*N,h[1]=A*O+P*N,h[2]=T*W+b*q,h[3]=A*W+P*q,h[4]=T*ae+b*ce+$,h[5]=A*ae+P*ce+M,h}function g(h,v,S){return h[0]=v[0]-S[0],h[1]=v[1]-S[1],h[2]=v[2]-S[2],h[3]=v[3]-S[3],h[4]=v[4]-S[4],h[5]=v[5]-S[5],h}return qe.mul=d,qe.sub=g,qe}var Je,ht={};function bt(){if(Je)return ht;function u(h){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},u(h)}Je=1,Object.defineProperty(ht,"__esModule",{value:!0}),ht.create=function(){var h=new n.ARRAY_TYPE(9);return n.ARRAY_TYPE!=Float32Array&&(h[1]=0,h[2]=0,h[3]=0,h[5]=0,h[6]=0,h[7]=0),h[0]=1,h[4]=1,h[8]=1,h},ht.fromMat4=function(h,v){return h[0]=v[0],h[1]=v[1],h[2]=v[2],h[3]=v[4],h[4]=v[5],h[5]=v[6],h[6]=v[8],h[7]=v[9],h[8]=v[10],h},ht.clone=function(h){var v=new n.ARRAY_TYPE(9);return v[0]=h[0],v[1]=h[1],v[2]=h[2],v[3]=h[3],v[4]=h[4],v[5]=h[5],v[6]=h[6],v[7]=h[7],v[8]=h[8],v},ht.copy=function(h,v){return h[0]=v[0],h[1]=v[1],h[2]=v[2],h[3]=v[3],h[4]=v[4],h[5]=v[5],h[6]=v[6],h[7]=v[7],h[8]=v[8],h},ht.fromValues=function(h,v,S,T,A,b,P,$,M){var O=new n.ARRAY_TYPE(9);return O[0]=h,O[1]=v,O[2]=S,O[3]=T,O[4]=A,O[5]=b,O[6]=P,O[7]=$,O[8]=M,O},ht.set=function(h,v,S,T,A,b,P,$,M,O){return h[0]=v,h[1]=S,h[2]=T,h[3]=A,h[4]=b,h[5]=P,h[6]=$,h[7]=M,h[8]=O,h},ht.identity=function(h){return h[0]=1,h[1]=0,h[2]=0,h[3]=0,h[4]=1,h[5]=0,h[6]=0,h[7]=0,h[8]=1,h},ht.transpose=function(h,v){if(h===v){var S=v[1],T=v[2],A=v[5];h[1]=v[3],h[2]=v[6],h[3]=S,h[5]=v[7],h[6]=T,h[7]=A}else h[0]=v[0],h[1]=v[3],h[2]=v[6],h[3]=v[1],h[4]=v[4],h[5]=v[7],h[6]=v[2],h[7]=v[5],h[8]=v[8];return h},ht.invert=function(h,v){var S=v[0],T=v[1],A=v[2],b=v[3],P=v[4],$=v[5],M=v[6],O=v[7],N=v[8],W=N*P-$*O,q=-N*b+$*M,ae=O*b-P*M,ce=S*W+T*q+A*ae;return ce?(h[0]=W*(ce=1/ce),h[1]=(-N*T+A*O)*ce,h[2]=($*T-A*P)*ce,h[3]=q*ce,h[4]=(N*S-A*M)*ce,h[5]=(-$*S+A*b)*ce,h[6]=ae*ce,h[7]=(-O*S+T*M)*ce,h[8]=(P*S-T*b)*ce,h):null},ht.adjoint=function(h,v){var S=v[0],T=v[1],A=v[2],b=v[3],P=v[4],$=v[5],M=v[6],O=v[7],N=v[8];return h[0]=P*N-$*O,h[1]=A*O-T*N,h[2]=T*$-A*P,h[3]=$*M-b*N,h[4]=S*N-A*M,h[5]=A*b-S*$,h[6]=b*O-P*M,h[7]=T*M-S*O,h[8]=S*P-T*b,h},ht.determinant=function(h){var v=h[3],S=h[4],T=h[5],A=h[6],b=h[7],P=h[8];return h[0]*(P*S-T*b)+h[1]*(-P*v+T*A)+h[2]*(b*v-S*A)},ht.multiply=d,ht.translate=function(h,v,S){var T=v[0],A=v[1],b=v[2],P=v[3],$=v[4],M=v[5],O=v[6],N=v[7],W=v[8],q=S[0],ae=S[1];return h[0]=T,h[1]=A,h[2]=b,h[3]=P,h[4]=$,h[5]=M,h[6]=q*T+ae*P+O,h[7]=q*A+ae*$+N,h[8]=q*b+ae*M+W,h},ht.rotate=function(h,v,S){var T=v[0],A=v[1],b=v[2],P=v[3],$=v[4],M=v[5],O=v[6],N=v[7],W=v[8],q=Math.sin(S),ae=Math.cos(S);return h[0]=ae*T+q*P,h[1]=ae*A+q*$,h[2]=ae*b+q*M,h[3]=ae*P-q*T,h[4]=ae*$-q*A,h[5]=ae*M-q*b,h[6]=O,h[7]=N,h[8]=W,h},ht.scale=function(h,v,S){var T=S[0],A=S[1];return h[0]=T*v[0],h[1]=T*v[1],h[2]=T*v[2],h[3]=A*v[3],h[4]=A*v[4],h[5]=A*v[5],h[6]=v[6],h[7]=v[7],h[8]=v[8],h},ht.fromTranslation=function(h,v){return h[0]=1,h[1]=0,h[2]=0,h[3]=0,h[4]=1,h[5]=0,h[6]=v[0],h[7]=v[1],h[8]=1,h},ht.fromRotation=function(h,v){var S=Math.sin(v),T=Math.cos(v);return h[0]=T,h[1]=S,h[2]=0,h[3]=-S,h[4]=T,h[5]=0,h[6]=0,h[7]=0,h[8]=1,h},ht.fromScaling=function(h,v){return h[0]=v[0],h[1]=0,h[2]=0,h[3]=0,h[4]=v[1],h[5]=0,h[6]=0,h[7]=0,h[8]=1,h},ht.fromMat2d=function(h,v){return h[0]=v[0],h[1]=v[1],h[2]=0,h[3]=v[2],h[4]=v[3],h[5]=0,h[6]=v[4],h[7]=v[5],h[8]=1,h},ht.fromQuat=function(h,v){var S=v[0],T=v[1],A=v[2],b=v[3],P=S+S,$=T+T,M=A+A,O=S*P,N=T*P,W=T*$,q=A*P,ae=A*$,ce=A*M,ne=b*P,ge=b*$,Ce=b*M;return h[0]=1-W-ce,h[3]=N-Ce,h[6]=q+ge,h[1]=N+Ce,h[4]=1-O-ce,h[7]=ae-ne,h[2]=q-ge,h[5]=ae+ne,h[8]=1-O-W,h},ht.normalFromMat4=function(h,v){var S=v[0],T=v[1],A=v[2],b=v[3],P=v[4],$=v[5],M=v[6],O=v[7],N=v[8],W=v[9],q=v[10],ae=v[11],ce=v[12],ne=v[13],ge=v[14],Ce=v[15],De=S*$-T*P,ut=S*M-A*P,st=S*O-b*P,tt=T*M-A*$,Zt=T*O-b*$,pt=A*O-b*M,Yt=N*ne-W*ce,un=N*ge-q*ce,on=N*Ce-ae*ce,hn=W*ge-q*ne,On=W*Ce-ae*ne,kn=q*Ce-ae*ge,Cn=De*kn-ut*On+st*hn+tt*on-Zt*un+pt*Yt;return Cn?(h[0]=($*kn-M*On+O*hn)*(Cn=1/Cn),h[1]=(M*on-P*kn-O*un)*Cn,h[2]=(P*On-$*on+O*Yt)*Cn,h[3]=(A*On-T*kn-b*hn)*Cn,h[4]=(S*kn-A*on+b*un)*Cn,h[5]=(T*on-S*On-b*Yt)*Cn,h[6]=(ne*pt-ge*Zt+Ce*tt)*Cn,h[7]=(ge*st-ce*pt-Ce*ut)*Cn,h[8]=(ce*Zt-ne*st+Ce*De)*Cn,h):null},ht.projection=function(h,v,S){return h[0]=2/v,h[1]=0,h[2]=0,h[3]=0,h[4]=-2/S,h[5]=0,h[6]=-1,h[7]=1,h[8]=1,h},ht.str=function(h){return"mat3("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+", "+h[4]+", "+h[5]+", "+h[6]+", "+h[7]+", "+h[8]+")"},ht.frob=function(h){return Math.hypot(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8])},ht.add=function(h,v,S){return h[0]=v[0]+S[0],h[1]=v[1]+S[1],h[2]=v[2]+S[2],h[3]=v[3]+S[3],h[4]=v[4]+S[4],h[5]=v[5]+S[5],h[6]=v[6]+S[6],h[7]=v[7]+S[7],h[8]=v[8]+S[8],h},ht.subtract=g,ht.multiplyScalar=function(h,v,S){return h[0]=v[0]*S,h[1]=v[1]*S,h[2]=v[2]*S,h[3]=v[3]*S,h[4]=v[4]*S,h[5]=v[5]*S,h[6]=v[6]*S,h[7]=v[7]*S,h[8]=v[8]*S,h},ht.multiplyScalarAndAdd=function(h,v,S,T){return h[0]=v[0]+S[0]*T,h[1]=v[1]+S[1]*T,h[2]=v[2]+S[2]*T,h[3]=v[3]+S[3]*T,h[4]=v[4]+S[4]*T,h[5]=v[5]+S[5]*T,h[6]=v[6]+S[6]*T,h[7]=v[7]+S[7]*T,h[8]=v[8]+S[8]*T,h},ht.exactEquals=function(h,v){return h[0]===v[0]&&h[1]===v[1]&&h[2]===v[2]&&h[3]===v[3]&&h[4]===v[4]&&h[5]===v[5]&&h[6]===v[6]&&h[7]===v[7]&&h[8]===v[8]},ht.equals=function(h,v){var S=h[0],T=h[1],A=h[2],b=h[3],P=h[4],$=h[5],M=h[6],O=h[7],N=h[8],W=v[0],q=v[1],ae=v[2],ce=v[3],ne=v[4],ge=v[5],Ce=v[6],De=v[7],ut=v[8];return Math.abs(S-W)<=n.EPSILON*Math.max(1,Math.abs(S),Math.abs(W))&&Math.abs(T-q)<=n.EPSILON*Math.max(1,Math.abs(T),Math.abs(q))&&Math.abs(A-ae)<=n.EPSILON*Math.max(1,Math.abs(A),Math.abs(ae))&&Math.abs(b-ce)<=n.EPSILON*Math.max(1,Math.abs(b),Math.abs(ce))&&Math.abs(P-ne)<=n.EPSILON*Math.max(1,Math.abs(P),Math.abs(ne))&&Math.abs($-ge)<=n.EPSILON*Math.max(1,Math.abs($),Math.abs(ge))&&Math.abs(M-Ce)<=n.EPSILON*Math.max(1,Math.abs(M),Math.abs(Ce))&&Math.abs(O-De)<=n.EPSILON*Math.max(1,Math.abs(O),Math.abs(De))&&Math.abs(N-ut)<=n.EPSILON*Math.max(1,Math.abs(N),Math.abs(ut))},ht.sub=ht.mul=void 0;var n=function(h,v){if(h&&h.__esModule)return h;if(h===null||u(h)!=="object"&&typeof h!="function")return{default:h};var S=i(void 0);if(S&&S.has(h))return S.get(h);var T={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in h)if(b!=="default"&&Object.prototype.hasOwnProperty.call(h,b)){var P=A?Object.getOwnPropertyDescriptor(h,b):null;P&&(P.get||P.set)?Object.defineProperty(T,b,P):T[b]=h[b]}return T.default=h,S&&S.set(h,T),T}(ve());function i(h){if(typeof WeakMap!="function")return null;var v=new WeakMap,S=new WeakMap;return(i=function(T){return T?S:v})(h)}function d(h,v,S){var T=v[0],A=v[1],b=v[2],P=v[3],$=v[4],M=v[5],O=v[6],N=v[7],W=v[8],q=S[0],ae=S[1],ce=S[2],ne=S[3],ge=S[4],Ce=S[5],De=S[6],ut=S[7],st=S[8];return h[0]=q*T+ae*P+ce*O,h[1]=q*A+ae*$+ce*N,h[2]=q*b+ae*M+ce*W,h[3]=ne*T+ge*P+Ce*O,h[4]=ne*A+ge*$+Ce*N,h[5]=ne*b+ge*M+Ce*W,h[6]=De*T+ut*P+st*O,h[7]=De*A+ut*$+st*N,h[8]=De*b+ut*M+st*W,h}function g(h,v,S){return h[0]=v[0]-S[0],h[1]=v[1]-S[1],h[2]=v[2]-S[2],h[3]=v[3]-S[3],h[4]=v[4]-S[4],h[5]=v[5]-S[5],h[6]=v[6]-S[6],h[7]=v[7]-S[7],h[8]=v[8]-S[8],h}return ht.mul=d,ht.sub=g,ht}var Ue,kt={};function yt(){if(Ue)return kt;function u(b){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},u(b)}Ue=1,Object.defineProperty(kt,"__esModule",{value:!0}),kt.create=function(){var b=new n.ARRAY_TYPE(16);return n.ARRAY_TYPE!=Float32Array&&(b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[6]=0,b[7]=0,b[8]=0,b[9]=0,b[11]=0,b[12]=0,b[13]=0,b[14]=0),b[0]=1,b[5]=1,b[10]=1,b[15]=1,b},kt.clone=function(b){var P=new n.ARRAY_TYPE(16);return P[0]=b[0],P[1]=b[1],P[2]=b[2],P[3]=b[3],P[4]=b[4],P[5]=b[5],P[6]=b[6],P[7]=b[7],P[8]=b[8],P[9]=b[9],P[10]=b[10],P[11]=b[11],P[12]=b[12],P[13]=b[13],P[14]=b[14],P[15]=b[15],P},kt.copy=function(b,P){return b[0]=P[0],b[1]=P[1],b[2]=P[2],b[3]=P[3],b[4]=P[4],b[5]=P[5],b[6]=P[6],b[7]=P[7],b[8]=P[8],b[9]=P[9],b[10]=P[10],b[11]=P[11],b[12]=P[12],b[13]=P[13],b[14]=P[14],b[15]=P[15],b},kt.fromValues=function(b,P,$,M,O,N,W,q,ae,ce,ne,ge,Ce,De,ut,st){var tt=new n.ARRAY_TYPE(16);return tt[0]=b,tt[1]=P,tt[2]=$,tt[3]=M,tt[4]=O,tt[5]=N,tt[6]=W,tt[7]=q,tt[8]=ae,tt[9]=ce,tt[10]=ne,tt[11]=ge,tt[12]=Ce,tt[13]=De,tt[14]=ut,tt[15]=st,tt},kt.set=function(b,P,$,M,O,N,W,q,ae,ce,ne,ge,Ce,De,ut,st,tt){return b[0]=P,b[1]=$,b[2]=M,b[3]=O,b[4]=N,b[5]=W,b[6]=q,b[7]=ae,b[8]=ce,b[9]=ne,b[10]=ge,b[11]=Ce,b[12]=De,b[13]=ut,b[14]=st,b[15]=tt,b},kt.identity=d,kt.transpose=function(b,P){if(b===P){var $=P[1],M=P[2],O=P[3],N=P[6],W=P[7],q=P[11];b[1]=P[4],b[2]=P[8],b[3]=P[12],b[4]=$,b[6]=P[9],b[7]=P[13],b[8]=M,b[9]=N,b[11]=P[14],b[12]=O,b[13]=W,b[14]=q}else b[0]=P[0],b[1]=P[4],b[2]=P[8],b[3]=P[12],b[4]=P[1],b[5]=P[5],b[6]=P[9],b[7]=P[13],b[8]=P[2],b[9]=P[6],b[10]=P[10],b[11]=P[14],b[12]=P[3],b[13]=P[7],b[14]=P[11],b[15]=P[15];return b},kt.invert=function(b,P){var $=P[0],M=P[1],O=P[2],N=P[3],W=P[4],q=P[5],ae=P[6],ce=P[7],ne=P[8],ge=P[9],Ce=P[10],De=P[11],ut=P[12],st=P[13],tt=P[14],Zt=P[15],pt=$*q-M*W,Yt=$*ae-O*W,un=$*ce-N*W,on=M*ae-O*q,hn=M*ce-N*q,On=O*ce-N*ae,kn=ne*st-ge*ut,Cn=ne*tt-Ce*ut,Sr=ne*Zt-De*ut,Gr=ge*tt-Ce*st,br=ge*Zt-De*st,Bi=Ce*Zt-De*tt,Ti=pt*Bi-Yt*br+un*Gr+on*Sr-hn*Cn+On*kn;return Ti?(b[0]=(q*Bi-ae*br+ce*Gr)*(Ti=1/Ti),b[1]=(O*br-M*Bi-N*Gr)*Ti,b[2]=(st*On-tt*hn+Zt*on)*Ti,b[3]=(Ce*hn-ge*On-De*on)*Ti,b[4]=(ae*Sr-W*Bi-ce*Cn)*Ti,b[5]=($*Bi-O*Sr+N*Cn)*Ti,b[6]=(tt*un-ut*On-Zt*Yt)*Ti,b[7]=(ne*On-Ce*un+De*Yt)*Ti,b[8]=(W*br-q*Sr+ce*kn)*Ti,b[9]=(M*Sr-$*br-N*kn)*Ti,b[10]=(ut*hn-st*un+Zt*pt)*Ti,b[11]=(ge*un-ne*hn-De*pt)*Ti,b[12]=(q*Cn-W*Gr-ae*kn)*Ti,b[13]=($*Gr-M*Cn+O*kn)*Ti,b[14]=(st*Yt-ut*on-tt*pt)*Ti,b[15]=(ne*on-ge*Yt+Ce*pt)*Ti,b):null},kt.adjoint=function(b,P){var $=P[0],M=P[1],O=P[2],N=P[3],W=P[4],q=P[5],ae=P[6],ce=P[7],ne=P[8],ge=P[9],Ce=P[10],De=P[11],ut=P[12],st=P[13],tt=P[14],Zt=P[15];return b[0]=q*(Ce*Zt-De*tt)-ge*(ae*Zt-ce*tt)+st*(ae*De-ce*Ce),b[1]=-(M*(Ce*Zt-De*tt)-ge*(O*Zt-N*tt)+st*(O*De-N*Ce)),b[2]=M*(ae*Zt-ce*tt)-q*(O*Zt-N*tt)+st*(O*ce-N*ae),b[3]=-(M*(ae*De-ce*Ce)-q*(O*De-N*Ce)+ge*(O*ce-N*ae)),b[4]=-(W*(Ce*Zt-De*tt)-ne*(ae*Zt-ce*tt)+ut*(ae*De-ce*Ce)),b[5]=$*(Ce*Zt-De*tt)-ne*(O*Zt-N*tt)+ut*(O*De-N*Ce),b[6]=-($*(ae*Zt-ce*tt)-W*(O*Zt-N*tt)+ut*(O*ce-N*ae)),b[7]=$*(ae*De-ce*Ce)-W*(O*De-N*Ce)+ne*(O*ce-N*ae),b[8]=W*(ge*Zt-De*st)-ne*(q*Zt-ce*st)+ut*(q*De-ce*ge),b[9]=-($*(ge*Zt-De*st)-ne*(M*Zt-N*st)+ut*(M*De-N*ge)),b[10]=$*(q*Zt-ce*st)-W*(M*Zt-N*st)+ut*(M*ce-N*q),b[11]=-($*(q*De-ce*ge)-W*(M*De-N*ge)+ne*(M*ce-N*q)),b[12]=-(W*(ge*tt-Ce*st)-ne*(q*tt-ae*st)+ut*(q*Ce-ae*ge)),b[13]=$*(ge*tt-Ce*st)-ne*(M*tt-O*st)+ut*(M*Ce-O*ge),b[14]=-($*(q*tt-ae*st)-W*(M*tt-O*st)+ut*(M*ae-O*q)),b[15]=$*(q*Ce-ae*ge)-W*(M*Ce-O*ge)+ne*(M*ae-O*q),b},kt.determinant=function(b){var P=b[0],$=b[1],M=b[2],O=b[3],N=b[4],W=b[5],q=b[6],ae=b[7],ce=b[8],ne=b[9],ge=b[10],Ce=b[11],De=b[12],ut=b[13],st=b[14],tt=b[15];return(P*W-$*N)*(ge*tt-Ce*st)-(P*q-M*N)*(ne*tt-Ce*ut)+(P*ae-O*N)*(ne*st-ge*ut)+($*q-M*W)*(ce*tt-Ce*De)-($*ae-O*W)*(ce*st-ge*De)+(M*ae-O*q)*(ce*ut-ne*De)},kt.multiply=g,kt.translate=function(b,P,$){var M,O,N,W,q,ae,ce,ne,ge,Ce,De,ut,st=$[0],tt=$[1],Zt=$[2];return P===b?(b[12]=P[0]*st+P[4]*tt+P[8]*Zt+P[12],b[13]=P[1]*st+P[5]*tt+P[9]*Zt+P[13],b[14]=P[2]*st+P[6]*tt+P[10]*Zt+P[14],b[15]=P[3]*st+P[7]*tt+P[11]*Zt+P[15]):(O=P[1],N=P[2],W=P[3],q=P[4],ae=P[5],ce=P[6],ne=P[7],ge=P[8],Ce=P[9],De=P[10],ut=P[11],b[0]=M=P[0],b[1]=O,b[2]=N,b[3]=W,b[4]=q,b[5]=ae,b[6]=ce,b[7]=ne,b[8]=ge,b[9]=Ce,b[10]=De,b[11]=ut,b[12]=M*st+q*tt+ge*Zt+P[12],b[13]=O*st+ae*tt+Ce*Zt+P[13],b[14]=N*st+ce*tt+De*Zt+P[14],b[15]=W*st+ne*tt+ut*Zt+P[15]),b},kt.scale=function(b,P,$){var M=$[0],O=$[1],N=$[2];return b[0]=P[0]*M,b[1]=P[1]*M,b[2]=P[2]*M,b[3]=P[3]*M,b[4]=P[4]*O,b[5]=P[5]*O,b[6]=P[6]*O,b[7]=P[7]*O,b[8]=P[8]*N,b[9]=P[9]*N,b[10]=P[10]*N,b[11]=P[11]*N,b[12]=P[12],b[13]=P[13],b[14]=P[14],b[15]=P[15],b},kt.rotate=function(b,P,$,M){var O,N,W,q,ae,ce,ne,ge,Ce,De,ut,st,tt,Zt,pt,Yt,un,on,hn,On,kn,Cn,Sr,Gr,br=M[0],Bi=M[1],Ti=M[2],di=Math.hypot(br,Bi,Ti);return di<n.EPSILON?null:(br*=di=1/di,Bi*=di,Ti*=di,O=Math.sin($),N=Math.cos($),ae=P[1],ce=P[2],ne=P[3],Ce=P[5],De=P[6],ut=P[7],tt=P[9],Zt=P[10],pt=P[11],Yt=br*br*(W=1-N)+N,hn=br*Bi*W-Ti*O,On=Bi*Bi*W+N,kn=Ti*Bi*W+br*O,Cn=br*Ti*W+Bi*O,Sr=Bi*Ti*W-br*O,Gr=Ti*Ti*W+N,b[0]=(q=P[0])*Yt+(ge=P[4])*(un=Bi*br*W+Ti*O)+(st=P[8])*(on=Ti*br*W-Bi*O),b[1]=ae*Yt+Ce*un+tt*on,b[2]=ce*Yt+De*un+Zt*on,b[3]=ne*Yt+ut*un+pt*on,b[4]=q*hn+ge*On+st*kn,b[5]=ae*hn+Ce*On+tt*kn,b[6]=ce*hn+De*On+Zt*kn,b[7]=ne*hn+ut*On+pt*kn,b[8]=q*Cn+ge*Sr+st*Gr,b[9]=ae*Cn+Ce*Sr+tt*Gr,b[10]=ce*Cn+De*Sr+Zt*Gr,b[11]=ne*Cn+ut*Sr+pt*Gr,P!==b&&(b[12]=P[12],b[13]=P[13],b[14]=P[14],b[15]=P[15]),b)},kt.rotateX=function(b,P,$){var M=Math.sin($),O=Math.cos($),N=P[4],W=P[5],q=P[6],ae=P[7],ce=P[8],ne=P[9],ge=P[10],Ce=P[11];return P!==b&&(b[0]=P[0],b[1]=P[1],b[2]=P[2],b[3]=P[3],b[12]=P[12],b[13]=P[13],b[14]=P[14],b[15]=P[15]),b[4]=N*O+ce*M,b[5]=W*O+ne*M,b[6]=q*O+ge*M,b[7]=ae*O+Ce*M,b[8]=ce*O-N*M,b[9]=ne*O-W*M,b[10]=ge*O-q*M,b[11]=Ce*O-ae*M,b},kt.rotateY=function(b,P,$){var M=Math.sin($),O=Math.cos($),N=P[0],W=P[1],q=P[2],ae=P[3],ce=P[8],ne=P[9],ge=P[10],Ce=P[11];return P!==b&&(b[4]=P[4],b[5]=P[5],b[6]=P[6],b[7]=P[7],b[12]=P[12],b[13]=P[13],b[14]=P[14],b[15]=P[15]),b[0]=N*O-ce*M,b[1]=W*O-ne*M,b[2]=q*O-ge*M,b[3]=ae*O-Ce*M,b[8]=N*M+ce*O,b[9]=W*M+ne*O,b[10]=q*M+ge*O,b[11]=ae*M+Ce*O,b},kt.rotateZ=function(b,P,$){var M=Math.sin($),O=Math.cos($),N=P[0],W=P[1],q=P[2],ae=P[3],ce=P[4],ne=P[5],ge=P[6],Ce=P[7];return P!==b&&(b[8]=P[8],b[9]=P[9],b[10]=P[10],b[11]=P[11],b[12]=P[12],b[13]=P[13],b[14]=P[14],b[15]=P[15]),b[0]=N*O+ce*M,b[1]=W*O+ne*M,b[2]=q*O+ge*M,b[3]=ae*O+Ce*M,b[4]=ce*O-N*M,b[5]=ne*O-W*M,b[6]=ge*O-q*M,b[7]=Ce*O-ae*M,b},kt.fromTranslation=function(b,P){return b[0]=1,b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=1,b[6]=0,b[7]=0,b[8]=0,b[9]=0,b[10]=1,b[11]=0,b[12]=P[0],b[13]=P[1],b[14]=P[2],b[15]=1,b},kt.fromScaling=function(b,P){return b[0]=P[0],b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=P[1],b[6]=0,b[7]=0,b[8]=0,b[9]=0,b[10]=P[2],b[11]=0,b[12]=0,b[13]=0,b[14]=0,b[15]=1,b},kt.fromRotation=function(b,P,$){var M,O,N,W=$[0],q=$[1],ae=$[2],ce=Math.hypot(W,q,ae);return ce<n.EPSILON?null:(W*=ce=1/ce,q*=ce,ae*=ce,M=Math.sin(P),O=Math.cos(P),b[0]=W*W*(N=1-O)+O,b[1]=q*W*N+ae*M,b[2]=ae*W*N-q*M,b[3]=0,b[4]=W*q*N-ae*M,b[5]=q*q*N+O,b[6]=ae*q*N+W*M,b[7]=0,b[8]=W*ae*N+q*M,b[9]=q*ae*N-W*M,b[10]=ae*ae*N+O,b[11]=0,b[12]=0,b[13]=0,b[14]=0,b[15]=1,b)},kt.fromXRotation=function(b,P){var $=Math.sin(P),M=Math.cos(P);return b[0]=1,b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=M,b[6]=$,b[7]=0,b[8]=0,b[9]=-$,b[10]=M,b[11]=0,b[12]=0,b[13]=0,b[14]=0,b[15]=1,b},kt.fromYRotation=function(b,P){var $=Math.sin(P),M=Math.cos(P);return b[0]=M,b[1]=0,b[2]=-$,b[3]=0,b[4]=0,b[5]=1,b[6]=0,b[7]=0,b[8]=$,b[9]=0,b[10]=M,b[11]=0,b[12]=0,b[13]=0,b[14]=0,b[15]=1,b},kt.fromZRotation=function(b,P){var $=Math.sin(P),M=Math.cos(P);return b[0]=M,b[1]=$,b[2]=0,b[3]=0,b[4]=-$,b[5]=M,b[6]=0,b[7]=0,b[8]=0,b[9]=0,b[10]=1,b[11]=0,b[12]=0,b[13]=0,b[14]=0,b[15]=1,b},kt.fromRotationTranslation=h,kt.fromQuat2=function(b,P){var $=new n.ARRAY_TYPE(3),M=-P[0],O=-P[1],N=-P[2],W=P[3],q=P[4],ae=P[5],ce=P[6],ne=P[7],ge=M*M+O*O+N*N+W*W;return ge>0?($[0]=2*(q*W+ne*M+ae*N-ce*O)/ge,$[1]=2*(ae*W+ne*O+ce*M-q*N)/ge,$[2]=2*(ce*W+ne*N+q*O-ae*M)/ge):($[0]=2*(q*W+ne*M+ae*N-ce*O),$[1]=2*(ae*W+ne*O+ce*M-q*N),$[2]=2*(ce*W+ne*N+q*O-ae*M)),h(b,P,$),b},kt.getTranslation=function(b,P){return b[0]=P[12],b[1]=P[13],b[2]=P[14],b},kt.getScaling=v,kt.getRotation=function(b,P){var $=new n.ARRAY_TYPE(3);v($,P);var M=1/$[0],O=1/$[1],N=1/$[2],W=P[0]*M,q=P[1]*O,ae=P[2]*N,ce=P[4]*M,ne=P[5]*O,ge=P[6]*N,Ce=P[8]*M,De=P[9]*O,ut=P[10]*N,st=W+ne+ut,tt=0;return st>0?(tt=2*Math.sqrt(st+1),b[3]=.25*tt,b[0]=(ge-De)/tt,b[1]=(Ce-ae)/tt,b[2]=(q-ce)/tt):W>ne&&W>ut?(tt=2*Math.sqrt(1+W-ne-ut),b[3]=(ge-De)/tt,b[0]=.25*tt,b[1]=(q+ce)/tt,b[2]=(Ce+ae)/tt):ne>ut?(tt=2*Math.sqrt(1+ne-W-ut),b[3]=(Ce-ae)/tt,b[0]=(q+ce)/tt,b[1]=.25*tt,b[2]=(ge+De)/tt):(tt=2*Math.sqrt(1+ut-W-ne),b[3]=(q-ce)/tt,b[0]=(Ce+ae)/tt,b[1]=(ge+De)/tt,b[2]=.25*tt),b},kt.fromRotationTranslationScale=function(b,P,$,M){var O=P[0],N=P[1],W=P[2],q=P[3],ae=O+O,ce=N+N,ne=W+W,ge=O*ae,Ce=O*ce,De=O*ne,ut=N*ce,st=N*ne,tt=W*ne,Zt=q*ae,pt=q*ce,Yt=q*ne,un=M[0],on=M[1],hn=M[2];return b[0]=(1-(ut+tt))*un,b[1]=(Ce+Yt)*un,b[2]=(De-pt)*un,b[3]=0,b[4]=(Ce-Yt)*on,b[5]=(1-(ge+tt))*on,b[6]=(st+Zt)*on,b[7]=0,b[8]=(De+pt)*hn,b[9]=(st-Zt)*hn,b[10]=(1-(ge+ut))*hn,b[11]=0,b[12]=$[0],b[13]=$[1],b[14]=$[2],b[15]=1,b},kt.fromRotationTranslationScaleOrigin=function(b,P,$,M,O){var N=P[0],W=P[1],q=P[2],ae=P[3],ce=N+N,ne=W+W,ge=q+q,Ce=N*ce,De=N*ne,ut=N*ge,st=W*ne,tt=W*ge,Zt=q*ge,pt=ae*ce,Yt=ae*ne,un=ae*ge,on=M[0],hn=M[1],On=M[2],kn=O[0],Cn=O[1],Sr=O[2],Gr=(1-(st+Zt))*on,br=(De+un)*on,Bi=(ut-Yt)*on,Ti=(De-un)*hn,di=(1-(Ce+Zt))*hn,Hr=(tt+pt)*hn,go=(ut+Yt)*On,ji=(tt-pt)*On,qi=(1-(Ce+st))*On;return b[0]=Gr,b[1]=br,b[2]=Bi,b[3]=0,b[4]=Ti,b[5]=di,b[6]=Hr,b[7]=0,b[8]=go,b[9]=ji,b[10]=qi,b[11]=0,b[12]=$[0]+kn-(Gr*kn+Ti*Cn+go*Sr),b[13]=$[1]+Cn-(br*kn+di*Cn+ji*Sr),b[14]=$[2]+Sr-(Bi*kn+Hr*Cn+qi*Sr),b[15]=1,b},kt.fromQuat=function(b,P){var $=P[0],M=P[1],O=P[2],N=P[3],W=$+$,q=M+M,ae=O+O,ce=$*W,ne=M*W,ge=M*q,Ce=O*W,De=O*q,ut=O*ae,st=N*W,tt=N*q,Zt=N*ae;return b[0]=1-ge-ut,b[1]=ne+Zt,b[2]=Ce-tt,b[3]=0,b[4]=ne-Zt,b[5]=1-ce-ut,b[6]=De+st,b[7]=0,b[8]=Ce+tt,b[9]=De-st,b[10]=1-ce-ge,b[11]=0,b[12]=0,b[13]=0,b[14]=0,b[15]=1,b},kt.frustum=function(b,P,$,M,O,N,W){var q=1/($-P),ae=1/(O-M),ce=1/(N-W);return b[0]=2*N*q,b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=2*N*ae,b[6]=0,b[7]=0,b[8]=($+P)*q,b[9]=(O+M)*ae,b[10]=(W+N)*ce,b[11]=-1,b[12]=0,b[13]=0,b[14]=W*N*2*ce,b[15]=0,b},kt.perspectiveNO=S,kt.perspectiveZO=function(b,P,$,M,O){var N,W=1/Math.tan(P/2);return b[0]=W/$,b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=W,b[6]=0,b[7]=0,b[8]=0,b[9]=0,b[11]=-1,b[12]=0,b[13]=0,b[15]=0,O!=null&&O!==1/0?(b[10]=O*(N=1/(M-O)),b[14]=O*M*N):(b[10]=-1,b[14]=-M),b},kt.perspectiveFromFieldOfView=function(b,P,$,M){var O=Math.tan(P.upDegrees*Math.PI/180),N=Math.tan(P.downDegrees*Math.PI/180),W=Math.tan(P.leftDegrees*Math.PI/180),q=Math.tan(P.rightDegrees*Math.PI/180),ae=2/(W+q),ce=2/(O+N);return b[0]=ae,b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=ce,b[6]=0,b[7]=0,b[8]=-(W-q)*ae*.5,b[9]=(O-N)*ce*.5,b[10]=M/($-M),b[11]=-1,b[12]=0,b[13]=0,b[14]=M*$/($-M),b[15]=0,b},kt.orthoNO=T,kt.orthoZO=function(b,P,$,M,O,N,W){var q=1/(P-$),ae=1/(M-O),ce=1/(N-W);return b[0]=-2*q,b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=-2*ae,b[6]=0,b[7]=0,b[8]=0,b[9]=0,b[10]=ce,b[11]=0,b[12]=(P+$)*q,b[13]=(O+M)*ae,b[14]=N*ce,b[15]=1,b},kt.lookAt=function(b,P,$,M){var O,N,W,q,ae,ce,ne,ge,Ce,De,ut=P[0],st=P[1],tt=P[2],Zt=M[0],pt=M[1],Yt=M[2],un=$[0],on=$[1],hn=$[2];return Math.abs(ut-un)<n.EPSILON&&Math.abs(st-on)<n.EPSILON&&Math.abs(tt-hn)<n.EPSILON?d(b):(ne=ut-un,ge=st-on,Ce=tt-hn,O=pt*(Ce*=De=1/Math.hypot(ne,ge,Ce))-Yt*(ge*=De),N=Yt*(ne*=De)-Zt*Ce,W=Zt*ge-pt*ne,(De=Math.hypot(O,N,W))?(O*=De=1/De,N*=De,W*=De):(O=0,N=0,W=0),q=ge*W-Ce*N,ae=Ce*O-ne*W,ce=ne*N-ge*O,(De=Math.hypot(q,ae,ce))?(q*=De=1/De,ae*=De,ce*=De):(q=0,ae=0,ce=0),b[0]=O,b[1]=q,b[2]=ne,b[3]=0,b[4]=N,b[5]=ae,b[6]=ge,b[7]=0,b[8]=W,b[9]=ce,b[10]=Ce,b[11]=0,b[12]=-(O*ut+N*st+W*tt),b[13]=-(q*ut+ae*st+ce*tt),b[14]=-(ne*ut+ge*st+Ce*tt),b[15]=1,b)},kt.targetTo=function(b,P,$,M){var O=P[0],N=P[1],W=P[2],q=M[0],ae=M[1],ce=M[2],ne=O-$[0],ge=N-$[1],Ce=W-$[2],De=ne*ne+ge*ge+Ce*Ce;De>0&&(ne*=De=1/Math.sqrt(De),ge*=De,Ce*=De);var ut=ae*Ce-ce*ge,st=ce*ne-q*Ce,tt=q*ge-ae*ne;return(De=ut*ut+st*st+tt*tt)>0&&(ut*=De=1/Math.sqrt(De),st*=De,tt*=De),b[0]=ut,b[1]=st,b[2]=tt,b[3]=0,b[4]=ge*tt-Ce*st,b[5]=Ce*ut-ne*tt,b[6]=ne*st-ge*ut,b[7]=0,b[8]=ne,b[9]=ge,b[10]=Ce,b[11]=0,b[12]=O,b[13]=N,b[14]=W,b[15]=1,b},kt.str=function(b){return"mat4("+b[0]+", "+b[1]+", "+b[2]+", "+b[3]+", "+b[4]+", "+b[5]+", "+b[6]+", "+b[7]+", "+b[8]+", "+b[9]+", "+b[10]+", "+b[11]+", "+b[12]+", "+b[13]+", "+b[14]+", "+b[15]+")"},kt.frob=function(b){return Math.hypot(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12],b[13],b[14],b[15])},kt.add=function(b,P,$){return b[0]=P[0]+$[0],b[1]=P[1]+$[1],b[2]=P[2]+$[2],b[3]=P[3]+$[3],b[4]=P[4]+$[4],b[5]=P[5]+$[5],b[6]=P[6]+$[6],b[7]=P[7]+$[7],b[8]=P[8]+$[8],b[9]=P[9]+$[9],b[10]=P[10]+$[10],b[11]=P[11]+$[11],b[12]=P[12]+$[12],b[13]=P[13]+$[13],b[14]=P[14]+$[14],b[15]=P[15]+$[15],b},kt.subtract=A,kt.multiplyScalar=function(b,P,$){return b[0]=P[0]*$,b[1]=P[1]*$,b[2]=P[2]*$,b[3]=P[3]*$,b[4]=P[4]*$,b[5]=P[5]*$,b[6]=P[6]*$,b[7]=P[7]*$,b[8]=P[8]*$,b[9]=P[9]*$,b[10]=P[10]*$,b[11]=P[11]*$,b[12]=P[12]*$,b[13]=P[13]*$,b[14]=P[14]*$,b[15]=P[15]*$,b},kt.multiplyScalarAndAdd=function(b,P,$,M){return b[0]=P[0]+$[0]*M,b[1]=P[1]+$[1]*M,b[2]=P[2]+$[2]*M,b[3]=P[3]+$[3]*M,b[4]=P[4]+$[4]*M,b[5]=P[5]+$[5]*M,b[6]=P[6]+$[6]*M,b[7]=P[7]+$[7]*M,b[8]=P[8]+$[8]*M,b[9]=P[9]+$[9]*M,b[10]=P[10]+$[10]*M,b[11]=P[11]+$[11]*M,b[12]=P[12]+$[12]*M,b[13]=P[13]+$[13]*M,b[14]=P[14]+$[14]*M,b[15]=P[15]+$[15]*M,b},kt.exactEquals=function(b,P){return b[0]===P[0]&&b[1]===P[1]&&b[2]===P[2]&&b[3]===P[3]&&b[4]===P[4]&&b[5]===P[5]&&b[6]===P[6]&&b[7]===P[7]&&b[8]===P[8]&&b[9]===P[9]&&b[10]===P[10]&&b[11]===P[11]&&b[12]===P[12]&&b[13]===P[13]&&b[14]===P[14]&&b[15]===P[15]},kt.equals=function(b,P){var $=b[0],M=b[1],O=b[2],N=b[3],W=b[4],q=b[5],ae=b[6],ce=b[7],ne=b[8],ge=b[9],Ce=b[10],De=b[11],ut=b[12],st=b[13],tt=b[14],Zt=b[15],pt=P[0],Yt=P[1],un=P[2],on=P[3],hn=P[4],On=P[5],kn=P[6],Cn=P[7],Sr=P[8],Gr=P[9],br=P[10],Bi=P[11],Ti=P[12],di=P[13],Hr=P[14],go=P[15];return Math.abs($-pt)<=n.EPSILON*Math.max(1,Math.abs($),Math.abs(pt))&&Math.abs(M-Yt)<=n.EPSILON*Math.max(1,Math.abs(M),Math.abs(Yt))&&Math.abs(O-un)<=n.EPSILON*Math.max(1,Math.abs(O),Math.abs(un))&&Math.abs(N-on)<=n.EPSILON*Math.max(1,Math.abs(N),Math.abs(on))&&Math.abs(W-hn)<=n.EPSILON*Math.max(1,Math.abs(W),Math.abs(hn))&&Math.abs(q-On)<=n.EPSILON*Math.max(1,Math.abs(q),Math.abs(On))&&Math.abs(ae-kn)<=n.EPSILON*Math.max(1,Math.abs(ae),Math.abs(kn))&&Math.abs(ce-Cn)<=n.EPSILON*Math.max(1,Math.abs(ce),Math.abs(Cn))&&Math.abs(ne-Sr)<=n.EPSILON*Math.max(1,Math.abs(ne),Math.abs(Sr))&&Math.abs(ge-Gr)<=n.EPSILON*Math.max(1,Math.abs(ge),Math.abs(Gr))&&Math.abs(Ce-br)<=n.EPSILON*Math.max(1,Math.abs(Ce),Math.abs(br))&&Math.abs(De-Bi)<=n.EPSILON*Math.max(1,Math.abs(De),Math.abs(Bi))&&Math.abs(ut-Ti)<=n.EPSILON*Math.max(1,Math.abs(ut),Math.abs(Ti))&&Math.abs(st-di)<=n.EPSILON*Math.max(1,Math.abs(st),Math.abs(di))&&Math.abs(tt-Hr)<=n.EPSILON*Math.max(1,Math.abs(tt),Math.abs(Hr))&&Math.abs(Zt-go)<=n.EPSILON*Math.max(1,Math.abs(Zt),Math.abs(go))},kt.sub=kt.mul=kt.ortho=kt.perspective=void 0;var n=function(b,P){if(b&&b.__esModule)return b;if(b===null||u(b)!=="object"&&typeof b!="function")return{default:b};var $=i(void 0);if($&&$.has(b))return $.get(b);var M={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var N in b)if(N!=="default"&&Object.prototype.hasOwnProperty.call(b,N)){var W=O?Object.getOwnPropertyDescriptor(b,N):null;W&&(W.get||W.set)?Object.defineProperty(M,N,W):M[N]=b[N]}return M.default=b,$&&$.set(b,M),M}(ve());function i(b){if(typeof WeakMap!="function")return null;var P=new WeakMap,$=new WeakMap;return(i=function(M){return M?$:P})(b)}function d(b){return b[0]=1,b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=1,b[6]=0,b[7]=0,b[8]=0,b[9]=0,b[10]=1,b[11]=0,b[12]=0,b[13]=0,b[14]=0,b[15]=1,b}function g(b,P,$){var M=P[0],O=P[1],N=P[2],W=P[3],q=P[4],ae=P[5],ce=P[6],ne=P[7],ge=P[8],Ce=P[9],De=P[10],ut=P[11],st=P[12],tt=P[13],Zt=P[14],pt=P[15],Yt=$[0],un=$[1],on=$[2],hn=$[3];return b[0]=Yt*M+un*q+on*ge+hn*st,b[1]=Yt*O+un*ae+on*Ce+hn*tt,b[2]=Yt*N+un*ce+on*De+hn*Zt,b[3]=Yt*W+un*ne+on*ut+hn*pt,b[4]=(Yt=$[4])*M+(un=$[5])*q+(on=$[6])*ge+(hn=$[7])*st,b[5]=Yt*O+un*ae+on*Ce+hn*tt,b[6]=Yt*N+un*ce+on*De+hn*Zt,b[7]=Yt*W+un*ne+on*ut+hn*pt,b[8]=(Yt=$[8])*M+(un=$[9])*q+(on=$[10])*ge+(hn=$[11])*st,b[9]=Yt*O+un*ae+on*Ce+hn*tt,b[10]=Yt*N+un*ce+on*De+hn*Zt,b[11]=Yt*W+un*ne+on*ut+hn*pt,b[12]=(Yt=$[12])*M+(un=$[13])*q+(on=$[14])*ge+(hn=$[15])*st,b[13]=Yt*O+un*ae+on*Ce+hn*tt,b[14]=Yt*N+un*ce+on*De+hn*Zt,b[15]=Yt*W+un*ne+on*ut+hn*pt,b}function h(b,P,$){var M=P[0],O=P[1],N=P[2],W=P[3],q=M+M,ae=O+O,ce=N+N,ne=M*q,ge=M*ae,Ce=M*ce,De=O*ae,ut=O*ce,st=N*ce,tt=W*q,Zt=W*ae,pt=W*ce;return b[0]=1-(De+st),b[1]=ge+pt,b[2]=Ce-Zt,b[3]=0,b[4]=ge-pt,b[5]=1-(ne+st),b[6]=ut+tt,b[7]=0,b[8]=Ce+Zt,b[9]=ut-tt,b[10]=1-(ne+De),b[11]=0,b[12]=$[0],b[13]=$[1],b[14]=$[2],b[15]=1,b}function v(b,P){var $=P[4],M=P[5],O=P[6],N=P[8],W=P[9],q=P[10];return b[0]=Math.hypot(P[0],P[1],P[2]),b[1]=Math.hypot($,M,O),b[2]=Math.hypot(N,W,q),b}function S(b,P,$,M,O){var N,W=1/Math.tan(P/2);return b[0]=W/$,b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=W,b[6]=0,b[7]=0,b[8]=0,b[9]=0,b[11]=-1,b[12]=0,b[13]=0,b[15]=0,O!=null&&O!==1/0?(b[10]=(O+M)*(N=1/(M-O)),b[14]=2*O*M*N):(b[10]=-1,b[14]=-2*M),b}function T(b,P,$,M,O,N,W){var q=1/(P-$),ae=1/(M-O),ce=1/(N-W);return b[0]=-2*q,b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=-2*ae,b[6]=0,b[7]=0,b[8]=0,b[9]=0,b[10]=2*ce,b[11]=0,b[12]=(P+$)*q,b[13]=(O+M)*ae,b[14]=(W+N)*ce,b[15]=1,b}function A(b,P,$){return b[0]=P[0]-$[0],b[1]=P[1]-$[1],b[2]=P[2]-$[2],b[3]=P[3]-$[3],b[4]=P[4]-$[4],b[5]=P[5]-$[5],b[6]=P[6]-$[6],b[7]=P[7]-$[7],b[8]=P[8]-$[8],b[9]=P[9]-$[9],b[10]=P[10]-$[10],b[11]=P[11]-$[11],b[12]=P[12]-$[12],b[13]=P[13]-$[13],b[14]=P[14]-$[14],b[15]=P[15]-$[15],b}return kt.perspective=S,kt.ortho=T,kt.mul=g,kt.sub=A,kt}var Et,Vt={},Lt={};function hr(){if(Et)return Lt;function u(O){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},u(O)}Et=1,Object.defineProperty(Lt,"__esModule",{value:!0}),Lt.create=d,Lt.clone=function(O){var N=new n.ARRAY_TYPE(3);return N[0]=O[0],N[1]=O[1],N[2]=O[2],N},Lt.length=g,Lt.fromValues=function(O,N,W){var q=new n.ARRAY_TYPE(3);return q[0]=O,q[1]=N,q[2]=W,q},Lt.copy=function(O,N){return O[0]=N[0],O[1]=N[1],O[2]=N[2],O},Lt.set=function(O,N,W,q){return O[0]=N,O[1]=W,O[2]=q,O},Lt.add=function(O,N,W){return O[0]=N[0]+W[0],O[1]=N[1]+W[1],O[2]=N[2]+W[2],O},Lt.subtract=h,Lt.multiply=v,Lt.divide=S,Lt.ceil=function(O,N){return O[0]=Math.ceil(N[0]),O[1]=Math.ceil(N[1]),O[2]=Math.ceil(N[2]),O},Lt.floor=function(O,N){return O[0]=Math.floor(N[0]),O[1]=Math.floor(N[1]),O[2]=Math.floor(N[2]),O},Lt.min=function(O,N,W){return O[0]=Math.min(N[0],W[0]),O[1]=Math.min(N[1],W[1]),O[2]=Math.min(N[2],W[2]),O},Lt.max=function(O,N,W){return O[0]=Math.max(N[0],W[0]),O[1]=Math.max(N[1],W[1]),O[2]=Math.max(N[2],W[2]),O},Lt.round=function(O,N){return O[0]=Math.round(N[0]),O[1]=Math.round(N[1]),O[2]=Math.round(N[2]),O},Lt.scale=function(O,N,W){return O[0]=N[0]*W,O[1]=N[1]*W,O[2]=N[2]*W,O},Lt.scaleAndAdd=function(O,N,W,q){return O[0]=N[0]+W[0]*q,O[1]=N[1]+W[1]*q,O[2]=N[2]+W[2]*q,O},Lt.distance=T,Lt.squaredDistance=A,Lt.squaredLength=b,Lt.negate=function(O,N){return O[0]=-N[0],O[1]=-N[1],O[2]=-N[2],O},Lt.inverse=function(O,N){return O[0]=1/N[0],O[1]=1/N[1],O[2]=1/N[2],O},Lt.normalize=function(O,N){var W=N[0],q=N[1],ae=N[2],ce=W*W+q*q+ae*ae;return ce>0&&(ce=1/Math.sqrt(ce)),O[0]=N[0]*ce,O[1]=N[1]*ce,O[2]=N[2]*ce,O},Lt.dot=P,Lt.cross=function(O,N,W){var q=N[0],ae=N[1],ce=N[2],ne=W[0],ge=W[1],Ce=W[2];return O[0]=ae*Ce-ce*ge,O[1]=ce*ne-q*Ce,O[2]=q*ge-ae*ne,O},Lt.lerp=function(O,N,W,q){var ae=N[0],ce=N[1],ne=N[2];return O[0]=ae+q*(W[0]-ae),O[1]=ce+q*(W[1]-ce),O[2]=ne+q*(W[2]-ne),O},Lt.hermite=function(O,N,W,q,ae,ce){var ne=ce*ce,ge=ne*(2*ce-3)+1,Ce=ne*(ce-2)+ce,De=ne*(ce-1),ut=ne*(3-2*ce);return O[0]=N[0]*ge+W[0]*Ce+q[0]*De+ae[0]*ut,O[1]=N[1]*ge+W[1]*Ce+q[1]*De+ae[1]*ut,O[2]=N[2]*ge+W[2]*Ce+q[2]*De+ae[2]*ut,O},Lt.bezier=function(O,N,W,q,ae,ce){var ne=1-ce,ge=ne*ne,Ce=ce*ce,De=ge*ne,ut=3*ce*ge,st=3*Ce*ne,tt=Ce*ce;return O[0]=N[0]*De+W[0]*ut+q[0]*st+ae[0]*tt,O[1]=N[1]*De+W[1]*ut+q[1]*st+ae[1]*tt,O[2]=N[2]*De+W[2]*ut+q[2]*st+ae[2]*tt,O},Lt.random=function(O,N){N=N||1;var W=2*n.RANDOM()*Math.PI,q=2*n.RANDOM()-1,ae=Math.sqrt(1-q*q)*N;return O[0]=Math.cos(W)*ae,O[1]=Math.sin(W)*ae,O[2]=q*N,O},Lt.transformMat4=function(O,N,W){var q=N[0],ae=N[1],ce=N[2],ne=W[3]*q+W[7]*ae+W[11]*ce+W[15];return O[0]=(W[0]*q+W[4]*ae+W[8]*ce+W[12])/(ne=ne||1),O[1]=(W[1]*q+W[5]*ae+W[9]*ce+W[13])/ne,O[2]=(W[2]*q+W[6]*ae+W[10]*ce+W[14])/ne,O},Lt.transformMat3=function(O,N,W){var q=N[0],ae=N[1],ce=N[2];return O[0]=q*W[0]+ae*W[3]+ce*W[6],O[1]=q*W[1]+ae*W[4]+ce*W[7],O[2]=q*W[2]+ae*W[5]+ce*W[8],O},Lt.transformQuat=function(O,N,W){var q=W[0],ae=W[1],ce=W[2],ne=N[0],ge=N[1],Ce=N[2],De=ae*Ce-ce*ge,ut=ce*ne-q*Ce,st=q*ge-ae*ne,tt=ae*st-ce*ut,Zt=ce*De-q*st,pt=q*ut-ae*De,Yt=2*W[3];return ut*=Yt,st*=Yt,Zt*=2,pt*=2,O[0]=ne+(De*=Yt)+(tt*=2),O[1]=ge+ut+Zt,O[2]=Ce+st+pt,O},Lt.rotateX=function(O,N,W,q){var ae=[],ce=[];return ae[0]=N[0]-W[0],ae[1]=N[1]-W[1],ae[2]=N[2]-W[2],ce[0]=ae[0],ce[1]=ae[1]*Math.cos(q)-ae[2]*Math.sin(q),ce[2]=ae[1]*Math.sin(q)+ae[2]*Math.cos(q),O[0]=ce[0]+W[0],O[1]=ce[1]+W[1],O[2]=ce[2]+W[2],O},Lt.rotateY=function(O,N,W,q){var ae=[],ce=[];return ae[0]=N[0]-W[0],ae[1]=N[1]-W[1],ae[2]=N[2]-W[2],ce[0]=ae[2]*Math.sin(q)+ae[0]*Math.cos(q),ce[1]=ae[1],ce[2]=ae[2]*Math.cos(q)-ae[0]*Math.sin(q),O[0]=ce[0]+W[0],O[1]=ce[1]+W[1],O[2]=ce[2]+W[2],O},Lt.rotateZ=function(O,N,W,q){var ae=[],ce=[];return ae[0]=N[0]-W[0],ae[1]=N[1]-W[1],ae[2]=N[2]-W[2],ce[0]=ae[0]*Math.cos(q)-ae[1]*Math.sin(q),ce[1]=ae[0]*Math.sin(q)+ae[1]*Math.cos(q),ce[2]=ae[2],O[0]=ce[0]+W[0],O[1]=ce[1]+W[1],O[2]=ce[2]+W[2],O},Lt.angle=function(O,N){var W=O[0],q=O[1],ae=O[2],ce=N[0],ne=N[1],ge=N[2],Ce=Math.sqrt(W*W+q*q+ae*ae)*Math.sqrt(ce*ce+ne*ne+ge*ge),De=Ce&&P(O,N)/Ce;return Math.acos(Math.min(Math.max(De,-1),1))},Lt.zero=function(O){return O[0]=0,O[1]=0,O[2]=0,O},Lt.str=function(O){return"vec3("+O[0]+", "+O[1]+", "+O[2]+")"},Lt.exactEquals=function(O,N){return O[0]===N[0]&&O[1]===N[1]&&O[2]===N[2]},Lt.equals=function(O,N){var W=O[0],q=O[1],ae=O[2],ce=N[0],ne=N[1],ge=N[2];return Math.abs(W-ce)<=n.EPSILON*Math.max(1,Math.abs(W),Math.abs(ce))&&Math.abs(q-ne)<=n.EPSILON*Math.max(1,Math.abs(q),Math.abs(ne))&&Math.abs(ae-ge)<=n.EPSILON*Math.max(1,Math.abs(ae),Math.abs(ge))},Lt.forEach=Lt.sqrLen=Lt.len=Lt.sqrDist=Lt.dist=Lt.div=Lt.mul=Lt.sub=void 0;var n=function(O,N){if(O&&O.__esModule)return O;if(O===null||u(O)!=="object"&&typeof O!="function")return{default:O};var W=i(void 0);if(W&&W.has(O))return W.get(O);var q={},ae=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ce in O)if(ce!=="default"&&Object.prototype.hasOwnProperty.call(O,ce)){var ne=ae?Object.getOwnPropertyDescriptor(O,ce):null;ne&&(ne.get||ne.set)?Object.defineProperty(q,ce,ne):q[ce]=O[ce]}return q.default=O,W&&W.set(O,q),q}(ve());function i(O){if(typeof WeakMap!="function")return null;var N=new WeakMap,W=new WeakMap;return(i=function(q){return q?W:N})(O)}function d(){var O=new n.ARRAY_TYPE(3);return n.ARRAY_TYPE!=Float32Array&&(O[0]=0,O[1]=0,O[2]=0),O}function g(O){return Math.hypot(O[0],O[1],O[2])}function h(O,N,W){return O[0]=N[0]-W[0],O[1]=N[1]-W[1],O[2]=N[2]-W[2],O}function v(O,N,W){return O[0]=N[0]*W[0],O[1]=N[1]*W[1],O[2]=N[2]*W[2],O}function S(O,N,W){return O[0]=N[0]/W[0],O[1]=N[1]/W[1],O[2]=N[2]/W[2],O}function T(O,N){return Math.hypot(N[0]-O[0],N[1]-O[1],N[2]-O[2])}function A(O,N){var W=N[0]-O[0],q=N[1]-O[1],ae=N[2]-O[2];return W*W+q*q+ae*ae}function b(O){var N=O[0],W=O[1],q=O[2];return N*N+W*W+q*q}function P(O,N){return O[0]*N[0]+O[1]*N[1]+O[2]*N[2]}Lt.sub=h,Lt.mul=v,Lt.div=S,Lt.dist=T,Lt.sqrDist=A,Lt.len=g,Lt.sqrLen=b;var $,M=($=d(),function(O,N,W,q,ae,ce){var ne,ge;for(N||(N=3),W||(W=0),ge=q?Math.min(q*N+W,O.length):O.length,ne=W;ne<ge;ne+=N)$[0]=O[ne],$[1]=O[ne+1],$[2]=O[ne+2],ae($,$,ce),O[ne]=$[0],O[ne+1]=$[1],O[ne+2]=$[2];return O});return Lt.forEach=M,Lt}var er,Hn,Ze={};function Nt(){if(er)return Ze;function u(M){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},u(M)}er=1,Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.create=d,Ze.clone=function(M){var O=new n.ARRAY_TYPE(4);return O[0]=M[0],O[1]=M[1],O[2]=M[2],O[3]=M[3],O},Ze.fromValues=function(M,O,N,W){var q=new n.ARRAY_TYPE(4);return q[0]=M,q[1]=O,q[2]=N,q[3]=W,q},Ze.copy=function(M,O){return M[0]=O[0],M[1]=O[1],M[2]=O[2],M[3]=O[3],M},Ze.set=function(M,O,N,W,q){return M[0]=O,M[1]=N,M[2]=W,M[3]=q,M},Ze.add=function(M,O,N){return M[0]=O[0]+N[0],M[1]=O[1]+N[1],M[2]=O[2]+N[2],M[3]=O[3]+N[3],M},Ze.subtract=g,Ze.multiply=h,Ze.divide=v,Ze.ceil=function(M,O){return M[0]=Math.ceil(O[0]),M[1]=Math.ceil(O[1]),M[2]=Math.ceil(O[2]),M[3]=Math.ceil(O[3]),M},Ze.floor=function(M,O){return M[0]=Math.floor(O[0]),M[1]=Math.floor(O[1]),M[2]=Math.floor(O[2]),M[3]=Math.floor(O[3]),M},Ze.min=function(M,O,N){return M[0]=Math.min(O[0],N[0]),M[1]=Math.min(O[1],N[1]),M[2]=Math.min(O[2],N[2]),M[3]=Math.min(O[3],N[3]),M},Ze.max=function(M,O,N){return M[0]=Math.max(O[0],N[0]),M[1]=Math.max(O[1],N[1]),M[2]=Math.max(O[2],N[2]),M[3]=Math.max(O[3],N[3]),M},Ze.round=function(M,O){return M[0]=Math.round(O[0]),M[1]=Math.round(O[1]),M[2]=Math.round(O[2]),M[3]=Math.round(O[3]),M},Ze.scale=function(M,O,N){return M[0]=O[0]*N,M[1]=O[1]*N,M[2]=O[2]*N,M[3]=O[3]*N,M},Ze.scaleAndAdd=function(M,O,N,W){return M[0]=O[0]+N[0]*W,M[1]=O[1]+N[1]*W,M[2]=O[2]+N[2]*W,M[3]=O[3]+N[3]*W,M},Ze.distance=S,Ze.squaredDistance=T,Ze.length=A,Ze.squaredLength=b,Ze.negate=function(M,O){return M[0]=-O[0],M[1]=-O[1],M[2]=-O[2],M[3]=-O[3],M},Ze.inverse=function(M,O){return M[0]=1/O[0],M[1]=1/O[1],M[2]=1/O[2],M[3]=1/O[3],M},Ze.normalize=function(M,O){var N=O[0],W=O[1],q=O[2],ae=O[3],ce=N*N+W*W+q*q+ae*ae;return ce>0&&(ce=1/Math.sqrt(ce)),M[0]=N*ce,M[1]=W*ce,M[2]=q*ce,M[3]=ae*ce,M},Ze.dot=function(M,O){return M[0]*O[0]+M[1]*O[1]+M[2]*O[2]+M[3]*O[3]},Ze.cross=function(M,O,N,W){var q=N[0]*W[1]-N[1]*W[0],ae=N[0]*W[2]-N[2]*W[0],ce=N[0]*W[3]-N[3]*W[0],ne=N[1]*W[2]-N[2]*W[1],ge=N[1]*W[3]-N[3]*W[1],Ce=N[2]*W[3]-N[3]*W[2],De=O[0],ut=O[1],st=O[2],tt=O[3];return M[0]=ut*Ce-st*ge+tt*ne,M[1]=-De*Ce+st*ce-tt*ae,M[2]=De*ge-ut*ce+tt*q,M[3]=-De*ne+ut*ae-st*q,M},Ze.lerp=function(M,O,N,W){var q=O[0],ae=O[1],ce=O[2],ne=O[3];return M[0]=q+W*(N[0]-q),M[1]=ae+W*(N[1]-ae),M[2]=ce+W*(N[2]-ce),M[3]=ne+W*(N[3]-ne),M},Ze.random=function(M,O){var N,W,q,ae,ce,ne;O=O||1;do ce=(N=2*n.RANDOM()-1)*N+(W=2*n.RANDOM()-1)*W;while(ce>=1);do ne=(q=2*n.RANDOM()-1)*q+(ae=2*n.RANDOM()-1)*ae;while(ne>=1);var ge=Math.sqrt((1-ce)/ne);return M[0]=O*N,M[1]=O*W,M[2]=O*q*ge,M[3]=O*ae*ge,M},Ze.transformMat4=function(M,O,N){var W=O[0],q=O[1],ae=O[2],ce=O[3];return M[0]=N[0]*W+N[4]*q+N[8]*ae+N[12]*ce,M[1]=N[1]*W+N[5]*q+N[9]*ae+N[13]*ce,M[2]=N[2]*W+N[6]*q+N[10]*ae+N[14]*ce,M[3]=N[3]*W+N[7]*q+N[11]*ae+N[15]*ce,M},Ze.transformQuat=function(M,O,N){var W=O[0],q=O[1],ae=O[2],ce=N[0],ne=N[1],ge=N[2],Ce=N[3],De=Ce*W+ne*ae-ge*q,ut=Ce*q+ge*W-ce*ae,st=Ce*ae+ce*q-ne*W,tt=-ce*W-ne*q-ge*ae;return M[0]=De*Ce+tt*-ce+ut*-ge-st*-ne,M[1]=ut*Ce+tt*-ne+st*-ce-De*-ge,M[2]=st*Ce+tt*-ge+De*-ne-ut*-ce,M[3]=O[3],M},Ze.zero=function(M){return M[0]=0,M[1]=0,M[2]=0,M[3]=0,M},Ze.str=function(M){return"vec4("+M[0]+", "+M[1]+", "+M[2]+", "+M[3]+")"},Ze.exactEquals=function(M,O){return M[0]===O[0]&&M[1]===O[1]&&M[2]===O[2]&&M[3]===O[3]},Ze.equals=function(M,O){var N=M[0],W=M[1],q=M[2],ae=M[3],ce=O[0],ne=O[1],ge=O[2],Ce=O[3];return Math.abs(N-ce)<=n.EPSILON*Math.max(1,Math.abs(N),Math.abs(ce))&&Math.abs(W-ne)<=n.EPSILON*Math.max(1,Math.abs(W),Math.abs(ne))&&Math.abs(q-ge)<=n.EPSILON*Math.max(1,Math.abs(q),Math.abs(ge))&&Math.abs(ae-Ce)<=n.EPSILON*Math.max(1,Math.abs(ae),Math.abs(Ce))},Ze.forEach=Ze.sqrLen=Ze.len=Ze.sqrDist=Ze.dist=Ze.div=Ze.mul=Ze.sub=void 0;var n=function(M,O){if(M&&M.__esModule)return M;if(M===null||u(M)!=="object"&&typeof M!="function")return{default:M};var N=i(void 0);if(N&&N.has(M))return N.get(M);var W={},q=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ae in M)if(ae!=="default"&&Object.prototype.hasOwnProperty.call(M,ae)){var ce=q?Object.getOwnPropertyDescriptor(M,ae):null;ce&&(ce.get||ce.set)?Object.defineProperty(W,ae,ce):W[ae]=M[ae]}return W.default=M,N&&N.set(M,W),W}(ve());function i(M){if(typeof WeakMap!="function")return null;var O=new WeakMap,N=new WeakMap;return(i=function(W){return W?N:O})(M)}function d(){var M=new n.ARRAY_TYPE(4);return n.ARRAY_TYPE!=Float32Array&&(M[0]=0,M[1]=0,M[2]=0,M[3]=0),M}function g(M,O,N){return M[0]=O[0]-N[0],M[1]=O[1]-N[1],M[2]=O[2]-N[2],M[3]=O[3]-N[3],M}function h(M,O,N){return M[0]=O[0]*N[0],M[1]=O[1]*N[1],M[2]=O[2]*N[2],M[3]=O[3]*N[3],M}function v(M,O,N){return M[0]=O[0]/N[0],M[1]=O[1]/N[1],M[2]=O[2]/N[2],M[3]=O[3]/N[3],M}function S(M,O){return Math.hypot(O[0]-M[0],O[1]-M[1],O[2]-M[2],O[3]-M[3])}function T(M,O){var N=O[0]-M[0],W=O[1]-M[1],q=O[2]-M[2],ae=O[3]-M[3];return N*N+W*W+q*q+ae*ae}function A(M){return Math.hypot(M[0],M[1],M[2],M[3])}function b(M){var O=M[0],N=M[1],W=M[2],q=M[3];return O*O+N*N+W*W+q*q}Ze.sub=g,Ze.mul=h,Ze.div=v,Ze.dist=S,Ze.sqrDist=T,Ze.len=A,Ze.sqrLen=b;var P,$=(P=d(),function(M,O,N,W,q,ae){var ce,ne;for(O||(O=4),N||(N=0),ne=W?Math.min(W*O+N,M.length):M.length,ce=N;ce<ne;ce+=O)P[0]=M[ce],P[1]=M[ce+1],P[2]=M[ce+2],P[3]=M[ce+3],q(P,P,ae),M[ce]=P[0],M[ce+1]=P[1],M[ce+2]=P[2],M[ce+3]=P[3];return M});return Ze.forEach=$,Ze}function sn(){if(Hn)return Vt;function u(pt){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Yt){return typeof Yt}:function(Yt){return Yt&&typeof Symbol=="function"&&Yt.constructor===Symbol&&Yt!==Symbol.prototype?"symbol":typeof Yt},u(pt)}Hn=1,Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.create=S,Vt.identity=function(pt){return pt[0]=0,pt[1]=0,pt[2]=0,pt[3]=1,pt},Vt.setAxisAngle=T,Vt.getAxisAngle=function(pt,Yt){var un=2*Math.acos(Yt[3]),on=Math.sin(un/2);return on>n.EPSILON?(pt[0]=Yt[0]/on,pt[1]=Yt[1]/on,pt[2]=Yt[2]/on):(pt[0]=1,pt[1]=0,pt[2]=0),un},Vt.getAngle=function(pt,Yt){var un=N(pt,Yt);return Math.acos(2*un*un-1)},Vt.multiply=A,Vt.rotateX=function(pt,Yt,un){un*=.5;var on=Yt[0],hn=Yt[1],On=Yt[2],kn=Yt[3],Cn=Math.sin(un),Sr=Math.cos(un);return pt[0]=on*Sr+kn*Cn,pt[1]=hn*Sr+On*Cn,pt[2]=On*Sr-hn*Cn,pt[3]=kn*Sr-on*Cn,pt},Vt.rotateY=function(pt,Yt,un){un*=.5;var on=Yt[0],hn=Yt[1],On=Yt[2],kn=Yt[3],Cn=Math.sin(un),Sr=Math.cos(un);return pt[0]=on*Sr-On*Cn,pt[1]=hn*Sr+kn*Cn,pt[2]=On*Sr+on*Cn,pt[3]=kn*Sr-hn*Cn,pt},Vt.rotateZ=function(pt,Yt,un){un*=.5;var on=Yt[0],hn=Yt[1],On=Yt[2],kn=Yt[3],Cn=Math.sin(un),Sr=Math.cos(un);return pt[0]=on*Sr+hn*Cn,pt[1]=hn*Sr-on*Cn,pt[2]=On*Sr+kn*Cn,pt[3]=kn*Sr-On*Cn,pt},Vt.calculateW=function(pt,Yt){var un=Yt[0],on=Yt[1],hn=Yt[2];return pt[0]=un,pt[1]=on,pt[2]=hn,pt[3]=Math.sqrt(Math.abs(1-un*un-on*on-hn*hn)),pt},Vt.exp=b,Vt.ln=P,Vt.pow=function(pt,Yt,un){return P(pt,Yt),O(pt,pt,un),b(pt,pt),pt},Vt.slerp=$,Vt.random=function(pt){var Yt=n.RANDOM(),un=n.RANDOM(),on=n.RANDOM(),hn=Math.sqrt(1-Yt),On=Math.sqrt(Yt);return pt[0]=hn*Math.sin(2*Math.PI*un),pt[1]=hn*Math.cos(2*Math.PI*un),pt[2]=On*Math.sin(2*Math.PI*on),pt[3]=On*Math.cos(2*Math.PI*on),pt},Vt.invert=function(pt,Yt){var un=Yt[0],on=Yt[1],hn=Yt[2],On=Yt[3],kn=un*un+on*on+hn*hn+On*On,Cn=kn?1/kn:0;return pt[0]=-un*Cn,pt[1]=-on*Cn,pt[2]=-hn*Cn,pt[3]=On*Cn,pt},Vt.conjugate=function(pt,Yt){return pt[0]=-Yt[0],pt[1]=-Yt[1],pt[2]=-Yt[2],pt[3]=Yt[3],pt},Vt.fromMat3=M,Vt.fromEuler=function(pt,Yt,un,on){var hn=.5*Math.PI/180;Yt*=hn,un*=hn,on*=hn;var On=Math.sin(Yt),kn=Math.cos(Yt),Cn=Math.sin(un),Sr=Math.cos(un),Gr=Math.sin(on),br=Math.cos(on);return pt[0]=On*Sr*br-kn*Cn*Gr,pt[1]=kn*Cn*br+On*Sr*Gr,pt[2]=kn*Sr*Gr-On*Cn*br,pt[3]=kn*Sr*br+On*Cn*Gr,pt},Vt.str=function(pt){return"quat("+pt[0]+", "+pt[1]+", "+pt[2]+", "+pt[3]+")"},Vt.setAxes=Vt.sqlerp=Vt.rotationTo=Vt.equals=Vt.exactEquals=Vt.normalize=Vt.sqrLen=Vt.squaredLength=Vt.len=Vt.length=Vt.lerp=Vt.dot=Vt.scale=Vt.mul=Vt.add=Vt.set=Vt.copy=Vt.fromValues=Vt.clone=void 0;var n=v(ve()),i=v(bt()),d=v(hr()),g=v(Nt());function h(pt){if(typeof WeakMap!="function")return null;var Yt=new WeakMap,un=new WeakMap;return(h=function(on){return on?un:Yt})(pt)}function v(pt,Yt){if(pt&&pt.__esModule)return pt;if(pt===null||u(pt)!=="object"&&typeof pt!="function")return{default:pt};var un=h(Yt);if(un&&un.has(pt))return un.get(pt);var on={},hn=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var On in pt)if(On!=="default"&&Object.prototype.hasOwnProperty.call(pt,On)){var kn=hn?Object.getOwnPropertyDescriptor(pt,On):null;kn&&(kn.get||kn.set)?Object.defineProperty(on,On,kn):on[On]=pt[On]}return on.default=pt,un&&un.set(pt,on),on}function S(){var pt=new n.ARRAY_TYPE(4);return n.ARRAY_TYPE!=Float32Array&&(pt[0]=0,pt[1]=0,pt[2]=0),pt[3]=1,pt}function T(pt,Yt,un){un*=.5;var on=Math.sin(un);return pt[0]=on*Yt[0],pt[1]=on*Yt[1],pt[2]=on*Yt[2],pt[3]=Math.cos(un),pt}function A(pt,Yt,un){var on=Yt[0],hn=Yt[1],On=Yt[2],kn=Yt[3],Cn=un[0],Sr=un[1],Gr=un[2],br=un[3];return pt[0]=on*br+kn*Cn+hn*Gr-On*Sr,pt[1]=hn*br+kn*Sr+On*Cn-on*Gr,pt[2]=On*br+kn*Gr+on*Sr-hn*Cn,pt[3]=kn*br-on*Cn-hn*Sr-On*Gr,pt}function b(pt,Yt){var un=Yt[0],on=Yt[1],hn=Yt[2],On=Yt[3],kn=Math.sqrt(un*un+on*on+hn*hn),Cn=Math.exp(On),Sr=kn>0?Cn*Math.sin(kn)/kn:0;return pt[0]=un*Sr,pt[1]=on*Sr,pt[2]=hn*Sr,pt[3]=Cn*Math.cos(kn),pt}function P(pt,Yt){var un=Yt[0],on=Yt[1],hn=Yt[2],On=Yt[3],kn=Math.sqrt(un*un+on*on+hn*hn),Cn=kn>0?Math.atan2(kn,On)/kn:0;return pt[0]=un*Cn,pt[1]=on*Cn,pt[2]=hn*Cn,pt[3]=.5*Math.log(un*un+on*on+hn*hn+On*On),pt}function $(pt,Yt,un,on){var hn,On,kn,Cn,Sr,Gr=Yt[0],br=Yt[1],Bi=Yt[2],Ti=Yt[3],di=un[0],Hr=un[1],go=un[2],ji=un[3];return(On=Gr*di+br*Hr+Bi*go+Ti*ji)<0&&(On=-On,di=-di,Hr=-Hr,go=-go,ji=-ji),1-On>n.EPSILON?(hn=Math.acos(On),kn=Math.sin(hn),Cn=Math.sin((1-on)*hn)/kn,Sr=Math.sin(on*hn)/kn):(Cn=1-on,Sr=on),pt[0]=Cn*Gr+Sr*di,pt[1]=Cn*br+Sr*Hr,pt[2]=Cn*Bi+Sr*go,pt[3]=Cn*Ti+Sr*ji,pt}function M(pt,Yt){var un,on=Yt[0]+Yt[4]+Yt[8];if(on>0)un=Math.sqrt(on+1),pt[3]=.5*un,pt[0]=(Yt[5]-Yt[7])*(un=.5/un),pt[1]=(Yt[6]-Yt[2])*un,pt[2]=(Yt[1]-Yt[3])*un;else{var hn=0;Yt[4]>Yt[0]&&(hn=1),Yt[8]>Yt[3*hn+hn]&&(hn=2);var On=(hn+1)%3,kn=(hn+2)%3;un=Math.sqrt(Yt[3*hn+hn]-Yt[3*On+On]-Yt[3*kn+kn]+1),pt[hn]=.5*un,pt[3]=(Yt[3*On+kn]-Yt[3*kn+On])*(un=.5/un),pt[On]=(Yt[3*On+hn]+Yt[3*hn+On])*un,pt[kn]=(Yt[3*kn+hn]+Yt[3*hn+kn])*un}return pt}Vt.clone=g.clone,Vt.fromValues=g.fromValues,Vt.copy=g.copy,Vt.set=g.set,Vt.add=g.add,Vt.mul=A;var O=g.scale;Vt.scale=O;var N=g.dot;Vt.dot=N,Vt.lerp=g.lerp;var W=g.length;Vt.length=W,Vt.len=W;var q=g.squaredLength;Vt.squaredLength=q,Vt.sqrLen=q;var ae=g.normalize;Vt.normalize=ae,Vt.exactEquals=g.exactEquals,Vt.equals=g.equals;var ce,ne,ge,Ce=(ce=d.create(),ne=d.fromValues(1,0,0),ge=d.fromValues(0,1,0),function(pt,Yt,un){var on=d.dot(Yt,un);return on<-.999999?(d.cross(ce,ne,Yt),d.len(ce)<1e-6&&d.cross(ce,ge,Yt),d.normalize(ce,ce),T(pt,ce,Math.PI),pt):on>.999999?(pt[0]=0,pt[1]=0,pt[2]=0,pt[3]=1,pt):(d.cross(ce,Yt,un),pt[0]=ce[0],pt[1]=ce[1],pt[2]=ce[2],pt[3]=1+on,ae(pt,pt))});Vt.rotationTo=Ce;var De,ut,st=(De=S(),ut=S(),function(pt,Yt,un,on,hn,On){return $(De,Yt,hn,On),$(ut,un,on,On),$(pt,De,ut,2*On*(1-On)),pt});Vt.sqlerp=st;var tt,Zt=(tt=i.create(),function(pt,Yt,un,on){return tt[0]=un[0],tt[3]=un[1],tt[6]=un[2],tt[1]=on[0],tt[4]=on[1],tt[7]=on[2],tt[2]=-Yt[0],tt[5]=-Yt[1],tt[8]=-Yt[2],ae(pt,M(pt,tt))});return Vt.setAxes=Zt,Vt}var Xt,Le={};function $n(){if(Xt)return Le;function u($){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},u($)}Xt=1,Object.defineProperty(Le,"__esModule",{value:!0}),Le.create=function(){var $=new n.ARRAY_TYPE(8);return n.ARRAY_TYPE!=Float32Array&&($[0]=0,$[1]=0,$[2]=0,$[4]=0,$[5]=0,$[6]=0,$[7]=0),$[3]=1,$},Le.clone=function($){var M=new n.ARRAY_TYPE(8);return M[0]=$[0],M[1]=$[1],M[2]=$[2],M[3]=$[3],M[4]=$[4],M[5]=$[5],M[6]=$[6],M[7]=$[7],M},Le.fromValues=function($,M,O,N,W,q,ae,ce){var ne=new n.ARRAY_TYPE(8);return ne[0]=$,ne[1]=M,ne[2]=O,ne[3]=N,ne[4]=W,ne[5]=q,ne[6]=ae,ne[7]=ce,ne},Le.fromRotationTranslationValues=function($,M,O,N,W,q,ae){var ce=new n.ARRAY_TYPE(8);ce[0]=$,ce[1]=M,ce[2]=O,ce[3]=N;var ne=.5*W,ge=.5*q,Ce=.5*ae;return ce[4]=ne*N+ge*O-Ce*M,ce[5]=ge*N+Ce*$-ne*O,ce[6]=Ce*N+ne*M-ge*$,ce[7]=-ne*$-ge*M-Ce*O,ce},Le.fromRotationTranslation=v,Le.fromTranslation=function($,M){return $[0]=0,$[1]=0,$[2]=0,$[3]=1,$[4]=.5*M[0],$[5]=.5*M[1],$[6]=.5*M[2],$[7]=0,$},Le.fromRotation=function($,M){return $[0]=M[0],$[1]=M[1],$[2]=M[2],$[3]=M[3],$[4]=0,$[5]=0,$[6]=0,$[7]=0,$},Le.fromMat4=function($,M){var O=i.create();d.getRotation(O,M);var N=new n.ARRAY_TYPE(3);return d.getTranslation(N,M),v($,O,N),$},Le.copy=S,Le.identity=function($){return $[0]=0,$[1]=0,$[2]=0,$[3]=1,$[4]=0,$[5]=0,$[6]=0,$[7]=0,$},Le.set=function($,M,O,N,W,q,ae,ce,ne){return $[0]=M,$[1]=O,$[2]=N,$[3]=W,$[4]=q,$[5]=ae,$[6]=ce,$[7]=ne,$},Le.getDual=function($,M){return $[0]=M[4],$[1]=M[5],$[2]=M[6],$[3]=M[7],$},Le.setDual=function($,M){return $[4]=M[0],$[5]=M[1],$[6]=M[2],$[7]=M[3],$},Le.getTranslation=function($,M){var O=M[4],N=M[5],W=M[6],q=M[7],ae=-M[0],ce=-M[1],ne=-M[2],ge=M[3];return $[0]=2*(O*ge+q*ae+N*ne-W*ce),$[1]=2*(N*ge+q*ce+W*ae-O*ne),$[2]=2*(W*ge+q*ne+O*ce-N*ae),$},Le.translate=function($,M,O){var N=M[0],W=M[1],q=M[2],ae=M[3],ce=.5*O[0],ne=.5*O[1],ge=.5*O[2],Ce=M[4],De=M[5],ut=M[6],st=M[7];return $[0]=N,$[1]=W,$[2]=q,$[3]=ae,$[4]=ae*ce+W*ge-q*ne+Ce,$[5]=ae*ne+q*ce-N*ge+De,$[6]=ae*ge+N*ne-W*ce+ut,$[7]=-N*ce-W*ne-q*ge+st,$},Le.rotateX=function($,M,O){var N=-M[0],W=-M[1],q=-M[2],ae=M[3],ce=M[4],ne=M[5],ge=M[6],Ce=M[7],De=ce*ae+Ce*N+ne*q-ge*W,ut=ne*ae+Ce*W+ge*N-ce*q,st=ge*ae+Ce*q+ce*W-ne*N,tt=Ce*ae-ce*N-ne*W-ge*q;return i.rotateX($,M,O),$[4]=De*(ae=$[3])+tt*(N=$[0])+ut*(q=$[2])-st*(W=$[1]),$[5]=ut*ae+tt*W+st*N-De*q,$[6]=st*ae+tt*q+De*W-ut*N,$[7]=tt*ae-De*N-ut*W-st*q,$},Le.rotateY=function($,M,O){var N=-M[0],W=-M[1],q=-M[2],ae=M[3],ce=M[4],ne=M[5],ge=M[6],Ce=M[7],De=ce*ae+Ce*N+ne*q-ge*W,ut=ne*ae+Ce*W+ge*N-ce*q,st=ge*ae+Ce*q+ce*W-ne*N,tt=Ce*ae-ce*N-ne*W-ge*q;return i.rotateY($,M,O),$[4]=De*(ae=$[3])+tt*(N=$[0])+ut*(q=$[2])-st*(W=$[1]),$[5]=ut*ae+tt*W+st*N-De*q,$[6]=st*ae+tt*q+De*W-ut*N,$[7]=tt*ae-De*N-ut*W-st*q,$},Le.rotateZ=function($,M,O){var N=-M[0],W=-M[1],q=-M[2],ae=M[3],ce=M[4],ne=M[5],ge=M[6],Ce=M[7],De=ce*ae+Ce*N+ne*q-ge*W,ut=ne*ae+Ce*W+ge*N-ce*q,st=ge*ae+Ce*q+ce*W-ne*N,tt=Ce*ae-ce*N-ne*W-ge*q;return i.rotateZ($,M,O),$[4]=De*(ae=$[3])+tt*(N=$[0])+ut*(q=$[2])-st*(W=$[1]),$[5]=ut*ae+tt*W+st*N-De*q,$[6]=st*ae+tt*q+De*W-ut*N,$[7]=tt*ae-De*N-ut*W-st*q,$},Le.rotateByQuatAppend=function($,M,O){var N=O[0],W=O[1],q=O[2],ae=O[3],ce=M[0],ne=M[1],ge=M[2],Ce=M[3];return $[0]=ce*ae+Ce*N+ne*q-ge*W,$[1]=ne*ae+Ce*W+ge*N-ce*q,$[2]=ge*ae+Ce*q+ce*W-ne*N,$[3]=Ce*ae-ce*N-ne*W-ge*q,$[4]=(ce=M[4])*ae+(Ce=M[7])*N+(ne=M[5])*q-(ge=M[6])*W,$[5]=ne*ae+Ce*W+ge*N-ce*q,$[6]=ge*ae+Ce*q+ce*W-ne*N,$[7]=Ce*ae-ce*N-ne*W-ge*q,$},Le.rotateByQuatPrepend=function($,M,O){var N=M[0],W=M[1],q=M[2],ae=M[3],ce=O[0],ne=O[1],ge=O[2],Ce=O[3];return $[0]=N*Ce+ae*ce+W*ge-q*ne,$[1]=W*Ce+ae*ne+q*ce-N*ge,$[2]=q*Ce+ae*ge+N*ne-W*ce,$[3]=ae*Ce-N*ce-W*ne-q*ge,$[4]=N*(Ce=O[7])+ae*(ce=O[4])+W*(ge=O[6])-q*(ne=O[5]),$[5]=W*Ce+ae*ne+q*ce-N*ge,$[6]=q*Ce+ae*ge+N*ne-W*ce,$[7]=ae*Ce-N*ce-W*ne-q*ge,$},Le.rotateAroundAxis=function($,M,O,N){if(Math.abs(N)<n.EPSILON)return S($,M);var W=Math.hypot(O[0],O[1],O[2]);N*=.5;var q=Math.sin(N),ae=q*O[0]/W,ce=q*O[1]/W,ne=q*O[2]/W,ge=Math.cos(N),Ce=M[0],De=M[1],ut=M[2],st=M[3];$[0]=Ce*ge+st*ae+De*ne-ut*ce,$[1]=De*ge+st*ce+ut*ae-Ce*ne,$[2]=ut*ge+st*ne+Ce*ce-De*ae,$[3]=st*ge-Ce*ae-De*ce-ut*ne;var tt=M[4],Zt=M[5],pt=M[6],Yt=M[7];return $[4]=tt*ge+Yt*ae+Zt*ne-pt*ce,$[5]=Zt*ge+Yt*ce+pt*ae-tt*ne,$[6]=pt*ge+Yt*ne+tt*ce-Zt*ae,$[7]=Yt*ge-tt*ae-Zt*ce-pt*ne,$},Le.add=function($,M,O){return $[0]=M[0]+O[0],$[1]=M[1]+O[1],$[2]=M[2]+O[2],$[3]=M[3]+O[3],$[4]=M[4]+O[4],$[5]=M[5]+O[5],$[6]=M[6]+O[6],$[7]=M[7]+O[7],$},Le.multiply=T,Le.scale=function($,M,O){return $[0]=M[0]*O,$[1]=M[1]*O,$[2]=M[2]*O,$[3]=M[3]*O,$[4]=M[4]*O,$[5]=M[5]*O,$[6]=M[6]*O,$[7]=M[7]*O,$},Le.lerp=function($,M,O,N){var W=1-N;return A(M,O)<0&&(N=-N),$[0]=M[0]*W+O[0]*N,$[1]=M[1]*W+O[1]*N,$[2]=M[2]*W+O[2]*N,$[3]=M[3]*W+O[3]*N,$[4]=M[4]*W+O[4]*N,$[5]=M[5]*W+O[5]*N,$[6]=M[6]*W+O[6]*N,$[7]=M[7]*W+O[7]*N,$},Le.invert=function($,M){var O=P(M);return $[0]=-M[0]/O,$[1]=-M[1]/O,$[2]=-M[2]/O,$[3]=M[3]/O,$[4]=-M[4]/O,$[5]=-M[5]/O,$[6]=-M[6]/O,$[7]=M[7]/O,$},Le.conjugate=function($,M){return $[0]=-M[0],$[1]=-M[1],$[2]=-M[2],$[3]=M[3],$[4]=-M[4],$[5]=-M[5],$[6]=-M[6],$[7]=M[7],$},Le.normalize=function($,M){var O=P(M);if(O>0){O=Math.sqrt(O);var N=M[0]/O,W=M[1]/O,q=M[2]/O,ae=M[3]/O,ce=M[4],ne=M[5],ge=M[6],Ce=M[7],De=N*ce+W*ne+q*ge+ae*Ce;$[0]=N,$[1]=W,$[2]=q,$[3]=ae,$[4]=(ce-N*De)/O,$[5]=(ne-W*De)/O,$[6]=(ge-q*De)/O,$[7]=(Ce-ae*De)/O}return $},Le.str=function($){return"quat2("+$[0]+", "+$[1]+", "+$[2]+", "+$[3]+", "+$[4]+", "+$[5]+", "+$[6]+", "+$[7]+")"},Le.exactEquals=function($,M){return $[0]===M[0]&&$[1]===M[1]&&$[2]===M[2]&&$[3]===M[3]&&$[4]===M[4]&&$[5]===M[5]&&$[6]===M[6]&&$[7]===M[7]},Le.equals=function($,M){var O=$[0],N=$[1],W=$[2],q=$[3],ae=$[4],ce=$[5],ne=$[6],ge=$[7],Ce=M[0],De=M[1],ut=M[2],st=M[3],tt=M[4],Zt=M[5],pt=M[6],Yt=M[7];return Math.abs(O-Ce)<=n.EPSILON*Math.max(1,Math.abs(O),Math.abs(Ce))&&Math.abs(N-De)<=n.EPSILON*Math.max(1,Math.abs(N),Math.abs(De))&&Math.abs(W-ut)<=n.EPSILON*Math.max(1,Math.abs(W),Math.abs(ut))&&Math.abs(q-st)<=n.EPSILON*Math.max(1,Math.abs(q),Math.abs(st))&&Math.abs(ae-tt)<=n.EPSILON*Math.max(1,Math.abs(ae),Math.abs(tt))&&Math.abs(ce-Zt)<=n.EPSILON*Math.max(1,Math.abs(ce),Math.abs(Zt))&&Math.abs(ne-pt)<=n.EPSILON*Math.max(1,Math.abs(ne),Math.abs(pt))&&Math.abs(ge-Yt)<=n.EPSILON*Math.max(1,Math.abs(ge),Math.abs(Yt))},Le.sqrLen=Le.squaredLength=Le.len=Le.length=Le.dot=Le.mul=Le.setReal=Le.getReal=void 0;var n=h(ve()),i=h(sn()),d=h(yt());function g($){if(typeof WeakMap!="function")return null;var M=new WeakMap,O=new WeakMap;return(g=function(N){return N?O:M})($)}function h($,M){if($&&$.__esModule)return $;if($===null||u($)!=="object"&&typeof $!="function")return{default:$};var O=g(M);if(O&&O.has($))return O.get($);var N={},W=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var q in $)if(q!=="default"&&Object.prototype.hasOwnProperty.call($,q)){var ae=W?Object.getOwnPropertyDescriptor($,q):null;ae&&(ae.get||ae.set)?Object.defineProperty(N,q,ae):N[q]=$[q]}return N.default=$,O&&O.set($,N),N}function v($,M,O){var N=.5*O[0],W=.5*O[1],q=.5*O[2],ae=M[0],ce=M[1],ne=M[2],ge=M[3];return $[0]=ae,$[1]=ce,$[2]=ne,$[3]=ge,$[4]=N*ge+W*ne-q*ce,$[5]=W*ge+q*ae-N*ne,$[6]=q*ge+N*ce-W*ae,$[7]=-N*ae-W*ce-q*ne,$}function S($,M){return $[0]=M[0],$[1]=M[1],$[2]=M[2],$[3]=M[3],$[4]=M[4],$[5]=M[5],$[6]=M[6],$[7]=M[7],$}function T($,M,O){var N=M[0],W=M[1],q=M[2],ae=M[3],ce=O[4],ne=O[5],ge=O[6],Ce=O[7],De=M[4],ut=M[5],st=M[6],tt=M[7],Zt=O[0],pt=O[1],Yt=O[2],un=O[3];return $[0]=N*un+ae*Zt+W*Yt-q*pt,$[1]=W*un+ae*pt+q*Zt-N*Yt,$[2]=q*un+ae*Yt+N*pt-W*Zt,$[3]=ae*un-N*Zt-W*pt-q*Yt,$[4]=N*Ce+ae*ce+W*ge-q*ne+De*un+tt*Zt+ut*Yt-st*pt,$[5]=W*Ce+ae*ne+q*ce-N*ge+ut*un+tt*pt+st*Zt-De*Yt,$[6]=q*Ce+ae*ge+N*ne-W*ce+st*un+tt*Yt+De*pt-ut*Zt,$[7]=ae*Ce-N*ce-W*ne-q*ge+tt*un-De*Zt-ut*pt-st*Yt,$}Le.getReal=i.copy,Le.setReal=i.copy,Le.mul=T;var A=i.dot;Le.dot=A;var b=i.length;Le.length=b,Le.len=b;var P=i.squaredLength;return Le.squaredLength=P,Le.sqrLen=P,Le}var cn,En,lt={};function Gt(){if(cn)return lt;function u(M){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},u(M)}cn=1,Object.defineProperty(lt,"__esModule",{value:!0}),lt.create=d,lt.clone=function(M){var O=new n.ARRAY_TYPE(2);return O[0]=M[0],O[1]=M[1],O},lt.fromValues=function(M,O){var N=new n.ARRAY_TYPE(2);return N[0]=M,N[1]=O,N},lt.copy=function(M,O){return M[0]=O[0],M[1]=O[1],M},lt.set=function(M,O,N){return M[0]=O,M[1]=N,M},lt.add=function(M,O,N){return M[0]=O[0]+N[0],M[1]=O[1]+N[1],M},lt.subtract=g,lt.multiply=h,lt.divide=v,lt.ceil=function(M,O){return M[0]=Math.ceil(O[0]),M[1]=Math.ceil(O[1]),M},lt.floor=function(M,O){return M[0]=Math.floor(O[0]),M[1]=Math.floor(O[1]),M},lt.min=function(M,O,N){return M[0]=Math.min(O[0],N[0]),M[1]=Math.min(O[1],N[1]),M},lt.max=function(M,O,N){return M[0]=Math.max(O[0],N[0]),M[1]=Math.max(O[1],N[1]),M},lt.round=function(M,O){return M[0]=Math.round(O[0]),M[1]=Math.round(O[1]),M},lt.scale=function(M,O,N){return M[0]=O[0]*N,M[1]=O[1]*N,M},lt.scaleAndAdd=function(M,O,N,W){return M[0]=O[0]+N[0]*W,M[1]=O[1]+N[1]*W,M},lt.distance=S,lt.squaredDistance=T,lt.length=A,lt.squaredLength=b,lt.negate=function(M,O){return M[0]=-O[0],M[1]=-O[1],M},lt.inverse=function(M,O){return M[0]=1/O[0],M[1]=1/O[1],M},lt.normalize=function(M,O){var N=O[0],W=O[1],q=N*N+W*W;return q>0&&(q=1/Math.sqrt(q)),M[0]=O[0]*q,M[1]=O[1]*q,M},lt.dot=function(M,O){return M[0]*O[0]+M[1]*O[1]},lt.cross=function(M,O,N){var W=O[0]*N[1]-O[1]*N[0];return M[0]=M[1]=0,M[2]=W,M},lt.lerp=function(M,O,N,W){var q=O[0],ae=O[1];return M[0]=q+W*(N[0]-q),M[1]=ae+W*(N[1]-ae),M},lt.random=function(M,O){O=O||1;var N=2*n.RANDOM()*Math.PI;return M[0]=Math.cos(N)*O,M[1]=Math.sin(N)*O,M},lt.transformMat2=function(M,O,N){var W=O[0],q=O[1];return M[0]=N[0]*W+N[2]*q,M[1]=N[1]*W+N[3]*q,M},lt.transformMat2d=function(M,O,N){var W=O[0],q=O[1];return M[0]=N[0]*W+N[2]*q+N[4],M[1]=N[1]*W+N[3]*q+N[5],M},lt.transformMat3=function(M,O,N){var W=O[0],q=O[1];return M[0]=N[0]*W+N[3]*q+N[6],M[1]=N[1]*W+N[4]*q+N[7],M},lt.transformMat4=function(M,O,N){var W=O[0],q=O[1];return M[0]=N[0]*W+N[4]*q+N[12],M[1]=N[1]*W+N[5]*q+N[13],M},lt.rotate=function(M,O,N,W){var q=O[0]-N[0],ae=O[1]-N[1],ce=Math.sin(W),ne=Math.cos(W);return M[0]=q*ne-ae*ce+N[0],M[1]=q*ce+ae*ne+N[1],M},lt.angle=function(M,O){var N=M[0],W=M[1],q=O[0],ae=O[1],ce=Math.sqrt(N*N+W*W)*Math.sqrt(q*q+ae*ae);return Math.acos(Math.min(Math.max(ce&&(N*q+W*ae)/ce,-1),1))},lt.zero=function(M){return M[0]=0,M[1]=0,M},lt.str=function(M){return"vec2("+M[0]+", "+M[1]+")"},lt.exactEquals=function(M,O){return M[0]===O[0]&&M[1]===O[1]},lt.equals=function(M,O){var N=M[0],W=M[1],q=O[0],ae=O[1];return Math.abs(N-q)<=n.EPSILON*Math.max(1,Math.abs(N),Math.abs(q))&&Math.abs(W-ae)<=n.EPSILON*Math.max(1,Math.abs(W),Math.abs(ae))},lt.forEach=lt.sqrLen=lt.sqrDist=lt.dist=lt.div=lt.mul=lt.sub=lt.len=void 0;var n=function(M,O){if(M&&M.__esModule)return M;if(M===null||u(M)!=="object"&&typeof M!="function")return{default:M};var N=i(void 0);if(N&&N.has(M))return N.get(M);var W={},q=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ae in M)if(ae!=="default"&&Object.prototype.hasOwnProperty.call(M,ae)){var ce=q?Object.getOwnPropertyDescriptor(M,ae):null;ce&&(ce.get||ce.set)?Object.defineProperty(W,ae,ce):W[ae]=M[ae]}return W.default=M,N&&N.set(M,W),W}(ve());function i(M){if(typeof WeakMap!="function")return null;var O=new WeakMap,N=new WeakMap;return(i=function(W){return W?N:O})(M)}function d(){var M=new n.ARRAY_TYPE(2);return n.ARRAY_TYPE!=Float32Array&&(M[0]=0,M[1]=0),M}function g(M,O,N){return M[0]=O[0]-N[0],M[1]=O[1]-N[1],M}function h(M,O,N){return M[0]=O[0]*N[0],M[1]=O[1]*N[1],M}function v(M,O,N){return M[0]=O[0]/N[0],M[1]=O[1]/N[1],M}function S(M,O){return Math.hypot(O[0]-M[0],O[1]-M[1])}function T(M,O){var N=O[0]-M[0],W=O[1]-M[1];return N*N+W*W}function A(M){return Math.hypot(M[0],M[1])}function b(M){var O=M[0],N=M[1];return O*O+N*N}lt.len=A,lt.sub=g,lt.mul=h,lt.div=v,lt.dist=S,lt.sqrDist=T,lt.sqrLen=b;var P,$=(P=d(),function(M,O,N,W,q,ae){var ce,ne;for(O||(O=2),N||(N=0),ne=W?Math.min(W*O+N,M.length):M.length,ce=N;ce<ne;ce+=O)P[0]=M[ce],P[1]=M[ce+1],q(P,P,ae),M[ce]=P[0],M[ce+1]=P[1];return M});return lt.forEach=$,lt}function bn(){if(En)return Fe;function u(M){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},u(M)}En=1,Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.vec4=Fe.vec3=Fe.vec2=Fe.quat2=Fe.quat=Fe.mat4=Fe.mat3=Fe.mat2d=Fe.mat2=Fe.glMatrix=void 0;var n=$(ve());Fe.glMatrix=n;var i=$($e());Fe.mat2=i;var d=$(dt());Fe.mat2d=d;var g=$(bt());Fe.mat3=g;var h=$(yt());Fe.mat4=h;var v=$(sn());Fe.quat=v;var S=$($n());Fe.quat2=S;var T=$(Gt());Fe.vec2=T;var A=$(hr());Fe.vec3=A;var b=$(Nt());function P(M){if(typeof WeakMap!="function")return null;var O=new WeakMap,N=new WeakMap;return(P=function(W){return W?N:O})(M)}function $(M,O){if(M&&M.__esModule)return M;if(M===null||u(M)!=="object"&&typeof M!="function")return{default:M};var N=P(O);if(N&&N.has(M))return N.get(M);var W={},q=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ae in M)if(ae!=="default"&&Object.prototype.hasOwnProperty.call(M,ae)){var ce=q?Object.getOwnPropertyDescriptor(M,ae):null;ce&&(ce.get||ce.set)?Object.defineProperty(W,ae,ce):W[ae]=M[ae]}return W.default=M,N&&N.set(M,W),W}return Fe.vec4=b,Fe}var fe,Wt,hi,Jr,Te=bn(),Pn=function(){if(Wt)return fe;function u(n,i,d,g){this.cx=3*n,this.bx=3*(d-n)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*i,this.by=3*(g-i)-this.cy,this.ay=1-this.cy-this.by,this.p1x=n,this.p1y=i,this.p2x=d,this.p2y=g}return Wt=1,fe=u,u.prototype={sampleCurveX:function(n){return((this.ax*n+this.bx)*n+this.cx)*n},sampleCurveY:function(n){return((this.ay*n+this.by)*n+this.cy)*n},sampleCurveDerivativeX:function(n){return(3*this.ax*n+2*this.bx)*n+this.cx},solveCurveX:function(n,i){if(i===void 0&&(i=1e-6),n<0)return 0;if(n>1)return 1;for(var d=n,g=0;g<8;g++){var h=this.sampleCurveX(d)-n;if(Math.abs(h)<i)return d;var v=this.sampleCurveDerivativeX(d);if(Math.abs(v)<1e-6)break;d-=h/v}var S=0,T=1;for(d=n,g=0;g<20&&(h=this.sampleCurveX(d),!(Math.abs(h-n)<i));g++)n>h?S=d:T=d,d=.5*(T-S)+S;return d},solve:function(n,i){return this.sampleCurveY(this.solveCurveX(n,i))}},fe}(),Lr=xe(Pn);function kr(){if(Jr)return hi;function u(n,i){this.x=n,this.y=i}return Jr=1,hi=u,u.prototype={clone:function(){return new u(this.x,this.y)},add:function(n){return this.clone()._add(n)},sub:function(n){return this.clone()._sub(n)},multByPoint:function(n){return this.clone()._multByPoint(n)},divByPoint:function(n){return this.clone()._divByPoint(n)},mult:function(n){return this.clone()._mult(n)},div:function(n){return this.clone()._div(n)},rotate:function(n){return this.clone()._rotate(n)},rotateAround:function(n,i){return this.clone()._rotateAround(n,i)},matMult:function(n){return this.clone()._matMult(n)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(n){return this.x===n.x&&this.y===n.y},dist:function(n){return Math.sqrt(this.distSqr(n))},distSqr:function(n){var i=n.x-this.x,d=n.y-this.y;return i*i+d*d},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(n){return Math.atan2(this.y-n.y,this.x-n.x)},angleWith:function(n){return this.angleWithSep(n.x,n.y)},angleWithSep:function(n,i){return Math.atan2(this.x*i-this.y*n,this.x*n+this.y*i)},_matMult:function(n){var i=n[2]*this.x+n[3]*this.y;return this.x=n[0]*this.x+n[1]*this.y,this.y=i,this},_add:function(n){return this.x+=n.x,this.y+=n.y,this},_sub:function(n){return this.x-=n.x,this.y-=n.y,this},_mult:function(n){return this.x*=n,this.y*=n,this},_div:function(n){return this.x/=n,this.y/=n,this},_multByPoint:function(n){return this.x*=n.x,this.y*=n.y,this},_divByPoint:function(n){return this.x/=n.x,this.y/=n.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var n=this.y;return this.y=this.x,this.x=-n,this},_rotate:function(n){var i=Math.cos(n),d=Math.sin(n),g=d*this.x+i*this.y;return this.x=i*this.x-d*this.y,this.y=g,this},_rotateAround:function(n,i){var d=Math.cos(n),g=Math.sin(n),h=i.y+g*(this.x-i.x)+d*(this.y-i.y);return this.x=i.x+d*(this.x-i.x)-g*(this.y-i.y),this.y=h,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},u.convert=function(n){return n instanceof u?n:Array.isArray(n)?new u(n[0],n[1]):n},hi}var In=xe(kr());function Nr(u,n){if(Array.isArray(u)){if(!Array.isArray(n)||u.length!==n.length)return!1;for(let i=0;i<u.length;i++)if(!Nr(u[i],n[i]))return!1;return!0}if(typeof u=="object"&&u!==null&&n!==null){if(typeof n!="object"||Object.keys(u).length!==Object.keys(n).length)return!1;for(const i in u)if(!Nr(u[i],n[i]))return!1;return!0}return u===n}const vi=Math.PI/180,sr=180/Math.PI;function it(u){return u*vi}function Ot(u){return u*sr}const zn=[[0,0],[1,0],[1,1],[0,1]];function dn(u){if(u<=0)return 0;if(u>=1)return 1;const n=u*u,i=n*u;return 4*(u<.5?i:3*(u-n)+i-.75)}function fn(u,n,i,d){const g=new Lr(u,n,i,d);return function(h){return g.solve(h)}}const xr=fn(.25,.1,.25,1);function Un(u,n,i){return Math.min(i,Math.max(n,u))}function Xr(u,n,i){return(i=Un((i-u)/(n-u),0,1))*i*(3-2*i)}function ei(u,n,i){const d=i-n,g=((u-n)%d+d)%d+n;return g===n?i:g}function Wr(u,n,i){if(!u.length)return i(null,[]);let d=u.length;const g=new Array(u.length);let h=null;u.forEach((v,S)=>{n(v,(T,A)=>{T&&(h=T),g[S]=A,--d==0&&i(h,g)})})}function ti(u,...n){for(const i of n)for(const d in i)u[d]=i[d];return u}let gr=1;function mr(){return gr++}function fr(u){return u<=1?1:Math.pow(2,Math.ceil(Math.log(u)/Math.LN2))}function wr(u,n){u.forEach(i=>{n[i]&&(n[i]=n[i].bind(n))})}function vr(u,n){return u.indexOf(n,u.length-n.length)!==-1}function jr(u,n,i){const d={};for(const g in u)d[g]=n.call(this,u[g],g,u);return d}function Xn(u,n,i){const d={};for(const g in u)n.call(this,u[g],g,u)&&(d[g]=u[g]);return d}function lr(u){return Array.isArray(u)?u.map(lr):typeof u=="object"&&u?jr(u,lr):u}const Yr={};function Fn(u){Yr[u]||(typeof console!="undefined"&&console.warn(u),Yr[u]=!0)}function Si(u,n,i){return(i.y-u.y)*(n.x-u.x)>(n.y-u.y)*(i.x-u.x)}function mi(u){let n=0;for(let i,d,g=0,h=u.length,v=h-1;g<h;v=g++)i=u[g],d=u[v],n+=(d.x-i.x)*(i.y+d.y);return n}function Hi([u,n,i]){const d=it(n+90),g=it(i);return{x:u*Math.cos(d)*Math.sin(g),y:u*Math.sin(d)*Math.sin(g),z:u*Math.cos(g),azimuthal:n,polar:i}}function ho(){return typeof WorkerGlobalScope!="undefined"&&typeof self!="undefined"&&self instanceof WorkerGlobalScope}function Ur(u){const n={};if(u.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(i,d,g,h)=>{const v=g||h;return n[d]=!v||v.toLowerCase(),""}),n["max-age"]){const i=parseInt(n["max-age"],10);isNaN(i)?delete n["max-age"]:n["max-age"]=i}return n}let eo=null;function en(u,n){return[u[4*n],u[4*n+1],u[4*n+2],u[4*n+3]]}function Mn(u,n,i,d){for(;n<i;){const g=n+i>>1;u[g]<d?n=g+1:i=g}return n}function Qn(u,n,i,d){for(;n<i;){const g=n+i>>1;u[g]<=d?n=g+1:i=g}return n}function Dr(u){return u>0?1/(1.001-u):1+u}function ui(u){return u>0?1-1/(1.001-u):-u}const oi={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i},get API_TILEJSON_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/v[0-9]*\/.*\.json.*$)/i},get API_SPRITE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*\/sprite.*\..*$)/i},get API_FONTS_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/fonts\/v[0-9]*\/)(.*\.pbf.*$)/i},get API_STYLE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*$)/i},get API_CDN_URL_REGEX(){return/^((https?:)?\/\/)?api\.mapbox\.c(n|om)(\/mapbox-gl-js\/)(.*$)/i},get EVENTS_URL(){if(!oi.API_URL)return null;try{const u=new URL(oi.API_URL);return u.hostname==="api.mapbox.cn"?"https://events.mapbox.cn/events/v2":u.hostname==="api.mapbox.com"?"https://events.mapbox.com/events/v2":null}catch(u){return null}},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",RASTERARRAYS_URL_PREFIX:"rasterarrays/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,DEFAULT_STYLE:"mapbox://styles/mapbox/standard",MAX_PARALLEL_IMAGE_REQUESTS:16,DRACO_URL:"https://api.mapbox.com/mapbox-gl-js/draco_decoder_gltf_v1.5.6.wasm",MESHOPT_URL:"https://api.mapbox.com/mapbox-gl-js/meshopt_base_v0.20.wasm",MESHOPT_SIMD_URL:"https://api.mapbox.com/mapbox-gl-js/meshopt_simd_v0.20.wasm",GLYPHS_URL:"mapbox://fonts/mapbox/{fontstack}/{range}.pbf",TILES3D_URL_PREFIX:"3dtiles/v1"};function Xi(u){return oi.API_URL_REGEX.test(u)}function Ji(u){return oi.API_SPRITE_REGEX.test(u)}let Ro,xo,io,Oe,de,X;function ke(){return Ro==null&&(Ro=self.OffscreenCanvas&&new OffscreenCanvas(1,1).getContext("2d")&&typeof self.createImageBitmap=="function"),Ro}const he={now:()=>Oe!==void 0?Oe:performance.now(),setNow(u){Oe=u},restoreNow(){Oe=void 0},frame(u){const n=requestAnimationFrame(u);return{cancel:()=>cancelAnimationFrame(n)}},getImageData(u,n=0){const{width:i,height:d}=u;de||(de=document.createElement("canvas"));const g=de.getContext("2d",{willReadFrequently:!0});if(!g)throw new Error("failed to create canvas 2d context");return(i>de.width||d>de.height)&&(de.width=i,de.height=d),g.clearRect(-n,-n,i+2*n,d+2*n),g.drawImage(u,0,0,i,d),g.getImageData(-n,-n,i+2*n,d+2*n)},resolveURL:u=>(xo||(xo=document.createElement("a")),xo.href=u,xo.href),get devicePixelRatio(){return window.devicePixelRatio},get prefersReducedMotion(){return!!window.matchMedia&&(io==null&&(io=window.matchMedia("(prefers-reduced-motion: reduce)")),io.matches)},hasCanvasFingerprintNoise(){if(X!==void 0)return X;if(!ke())return X=!1,!1;const u=new OffscreenCanvas(85,1),n=u.getContext("2d",{willReadFrequently:!0});let i=0;for(let g=0;g<u.width;++g)n.fillStyle=`rgba(${i++},${i++},${i++}, 255)`,n.fillRect(g,0,1,1);const d=n.getImageData(0,0,u.width,u.height);i=0;for(let g=0;g<d.data.length;++g)if(g%4!=3&&i++!==d.data[g])return X=!0,!0;return X=!1,!1}};function Ye(u,n){const i=u.indexOf("?");if(i<0)return`${u}?${new URLSearchParams(n).toString()}`;const d=new URLSearchParams(u.slice(i));for(const g in n)d.set(g,n[g]);return`${u.slice(0,i)}?${d.toString()}`}function et(u,n={persistentParams:[]}){const i=u.indexOf("?");if(i<0)return u;const d=new URLSearchParams,g=new URLSearchParams(u.slice(i));for(const v of n.persistentParams){const S=g.get(v);S&&d.set(v,S)}const h=d.toString();return`${u.slice(0,i)}${h.length>0?`?${h}`:""}`}const tn="mapbox-tiles";let Tt=500,nn=50;const vn=["language","worldview","jobid"];let Xe,Mt;function Ht(){try{return caches}catch(u){}}function Qt(){const u=Ht();u&&Xe==null&&(Xe=u.open(tn))}let ct=1/0;const rt={supported:!1,testSupport:function(u){!Zn&&yn&&(_r?Or(u):xn=u)}};let xn,yn,Zn=!1,_r=!1;const ir=typeof self!="undefined"?self:{};function Or(u){const n=u.createTexture();u.bindTexture(u.TEXTURE_2D,n);try{if(u.texImage2D(u.TEXTURE_2D,0,u.RGBA,u.RGBA,u.UNSIGNED_BYTE,yn),u.isContextLost())return;rt.supported=!0}catch(i){}u.deleteTexture(n),Zn=!0}ir.document&&(yn=ir.document.createElement("img"),yn.onload=function(){xn&&Or(xn),xn=null,_r=!0},yn.onerror=function(){Zn=!0,xn=null},yn.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const Qr={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Iconset:"Iconset",Image:"Image",Model:"Model"};typeof Object.freeze=="function"&&Object.freeze(Qr);class ii extends Error{constructor(n,i,d){i===401&&Xi(d)&&(n+=": you may have provided an invalid Mapbox access token. See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes"),super(n),this.status=i,this.url=d}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const Ui=ho()?()=>self.worker&&self.worker.referrer:()=>(location.protocol==="blob:"?parent:self).location.href,mt=function(u,n){if(!(/^file:/.test(i=u.url)||/^file:/.test(Ui())&&!/^\w+:/.test(i))){if(self.fetch&&self.Request&&self.AbortController&&Request.prototype.hasOwnProperty("signal"))return function(d,g){const h=new AbortController,v=new Request(d.url,{method:d.method||"GET",body:d.body,credentials:d.credentials,headers:d.headers,referrer:Ui(),referrerPolicy:d.referrerPolicy,signal:h.signal});let S=!1,T=!1;const A=(b=v.url).indexOf("sku=")>0&&Xi(b);var b;d.type==="json"&&v.headers.set("Accept","application/json");const P=(M,O,N)=>{if(T)return;if(M&&M.message!=="SecurityError"&&Fn(M.toString()),O&&N)return $(O);const W=Date.now();fetch(v).then(q=>{if(q.ok){const ae=A?q.clone():null;return $(q,ae,W)}return g(new ii(q.statusText,q.status,d.url))}).catch(q=>{q.name!=="AbortError"&&g(new Error(`${q.message} ${d.url}`))})},$=(M,O,N)=>{(d.type==="arrayBuffer"?M.arrayBuffer():d.type==="json"?M.json():M.text()).then(W=>{T||(O&&N&&function(q,ae,ce){if(Qt(),Xe==null)return;const ne=Ur(ae.headers.get("Cache-Control")||"");if(ne["no-store"])return;const ge={status:ae.status,statusText:ae.statusText,headers:new Headers};ae.headers.forEach((ut,st)=>ge.headers.set(st,ut)),ne["max-age"]&&ge.headers.set("Expires",new Date(ce+1e3*ne["max-age"]).toUTCString());const Ce=ge.headers.get("Expires");if(!Ce||new Date(Ce).getTime()-ce<42e4)return;let De=et(q.url,{persistentParams:vn});if(ae.status===206){const ut=q.headers.get("Range");if(!ut)return;ge.status=200,De=Ye(De,{range:ut})}(function(ut,st){if(Mt===void 0)try{new Response(new ReadableStream),Mt=!0}catch(tt){Mt=!1}Mt?st(ut.body):ut.blob().then(st)})(ae,ut=>{const st=new Response((tt=ae.status)!==200&&tt!==404&&[101,103,204,205,304].includes(tt)?null:ut,ge);var tt;Qt(),Xe!=null&&Xe.then(Zt=>Zt.put(De,st)).catch(Zt=>Fn(Zt.message))})}(v,O,N),S=!0,g(null,W,M.headers.get("Cache-Control"),M.headers.get("Expires")))}).catch(W=>{T||g(new Error(W.message))})};return A?function(M,O){if(Qt(),Xe==null)return O(null);Xe.then(N=>{let W=et(M.url,{persistentParams:vn});const q=M.headers.get("Range");q&&(W=Ye(W,{range:q})),N.match(W).then(ae=>{const ce=function(ne){if(!ne)return!1;const ge=new Date(ne.headers.get("Expires")||0),Ce=Ur(ne.headers.get("Cache-Control")||"");return ge>Date.now()&&!Ce["no-cache"]}(ae);N.delete(W),ce&&N.put(W,ae.clone()),O(null,ae,ce)}).catch(O)}).catch(O)}(v,P):P(null,null),{cancel:()=>{T=!0,S||h.abort()}}}(u,n);if(ho()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",u,n,void 0,!0)}var i;return function(d,g){const h=new XMLHttpRequest;h.open(d.method||"GET",d.url,!0),d.type==="arrayBuffer"&&(h.responseType="arraybuffer");for(const v in d.headers)h.setRequestHeader(v,d.headers[v]);return d.type==="json"&&(h.responseType="text",h.setRequestHeader("Accept","application/json")),h.withCredentials=d.credentials==="include",h.onerror=()=>{g(new Error(h.statusText))},h.onload=()=>{if((h.status>=200&&h.status<300||h.status===0)&&h.response!==null){let v=h.response;if(d.type==="json")try{v=JSON.parse(h.response)}catch(S){return g(S)}g(null,v,h.getResponseHeader("Cache-Control"),h.getResponseHeader("Expires"))}else g(new ii(h.statusText,h.status,d.url))},h.send(d.body),{cancel:()=>h.abort()}}(u,n)},_n=function(u,n){return mt(ti(u,{type:"arrayBuffer"}),n)};function Ut(u){const n=document.createElement("a");return n.href=u,n.protocol===location.protocol&&n.host===location.host}const An="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let or,qr;or=[],qr=0;const Mi=function(u,n){if(rt.supported&&(u.headers||(u.headers={}),u.headers.accept="image/webp,*/*"),qr>=oi.MAX_PARALLEL_IMAGE_REQUESTS){const h={requestParameters:u,callback:n,cancelled:!1,cancel(){this.cancelled=!0}};return or.push(h),h}qr++;let i=!1;const d=()=>{if(!i)for(i=!0,qr--;or.length&&qr<oi.MAX_PARALLEL_IMAGE_REQUESTS;){const h=or.shift(),{requestParameters:v,callback:S,cancelled:T}=h;T||(h.cancel=Mi(v,S).cancel)}},g=_n(u,(h,v,S,T)=>{d(),h?n(h):v&&(self.createImageBitmap?function(A,b){const P=new Blob([new Uint8Array(A)],{type:"image/png"});createImageBitmap(P).then($=>{b(null,$)}).catch($=>{b(new Error(`Could not load image because of ${$.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(v,(A,b)=>n(A,b,S,T)):function(A,b){const P=new Image;P.onload=()=>{b(null,P),URL.revokeObjectURL(P.src),P.onload=null,requestAnimationFrame(()=>{P.src=An})},P.onerror=()=>b(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const $=new Blob([new Uint8Array(A)],{type:"image/png"});P.src=A.byteLength?URL.createObjectURL($):An}(v,(A,b)=>n(A,b,S,T)))});return{cancel:()=>{g.cancel(),d()}}};var fo,$i,Qi,co={exports:{}},Ni={exports:{}},Io={exports:{}},Wo=function(){if(Qi)return co.exports;Qi=1;var u=(fo||(fo=1,Ni.exports=function(i,d){var g,h,v,S,T,A,b,P;for(h=i.length-(g=3&i.length),v=d,T=3432918353,A=461845907,P=0;P<h;)b=255&i.charCodeAt(P)|(255&i.charCodeAt(++P))<<8|(255&i.charCodeAt(++P))<<16|(255&i.charCodeAt(++P))<<24,++P,v=27492+(65535&(S=5*(65535&(v=(v^=b=(65535&(b=(b=(65535&b)*T+(((b>>>16)*T&65535)<<16)&4294967295)<<15|b>>>17))*A+(((b>>>16)*A&65535)<<16)&4294967295)<<13|v>>>19))+((5*(v>>>16)&65535)<<16)&4294967295))+((58964+(S>>>16)&65535)<<16);switch(b=0,g){case 3:b^=(255&i.charCodeAt(P+2))<<16;case 2:b^=(255&i.charCodeAt(P+1))<<8;case 1:v^=b=(65535&(b=(b=(65535&(b^=255&i.charCodeAt(P)))*T+(((b>>>16)*T&65535)<<16)&4294967295)<<15|b>>>17))*A+(((b>>>16)*A&65535)<<16)&4294967295}return v^=i.length,v=2246822507*(65535&(v^=v>>>16))+((2246822507*(v>>>16)&65535)<<16)&4294967295,v=3266489909*(65535&(v^=v>>>13))+((3266489909*(v>>>16)&65535)<<16)&4294967295,(v^=v>>>16)>>>0}),Ni.exports),n=($i||($i=1,Io.exports=function(i,d){for(var g,h=i.length,v=d^h,S=0;h>=4;)g=1540483477*(65535&(g=255&i.charCodeAt(S)|(255&i.charCodeAt(++S))<<8|(255&i.charCodeAt(++S))<<16|(255&i.charCodeAt(++S))<<24))+((1540483477*(g>>>16)&65535)<<16),v=1540483477*(65535&v)+((1540483477*(v>>>16)&65535)<<16)^(g=1540483477*(65535&(g^=g>>>24))+((1540483477*(g>>>16)&65535)<<16)),h-=4,++S;switch(h){case 3:v^=(255&i.charCodeAt(S+2))<<16;case 2:v^=(255&i.charCodeAt(S+1))<<8;case 1:v=1540483477*(65535&(v^=255&i.charCodeAt(S)))+((1540483477*(v>>>16)&65535)<<16)}return v=1540483477*(65535&(v^=v>>>13))+((1540483477*(v>>>16)&65535)<<16),(v^=v>>>15)>>>0}),Io.exports);return co.exports=u,co.exports.murmur3=u,co.exports.murmur2=n,co.exports}(),$o=xe(Wo);class vo{constructor(n,...i){ti(this,i[0]||{}),this.type=n}}class Oo extends vo{constructor(n,i={}){super("error",ti({error:n},i))}}function zo(u,n,i){i[u]&&i[u].indexOf(n)!==-1||(i[u]=i[u]||[],i[u].push(n))}function Jo(u,n,i){if(i&&i[u]){const d=i[u].indexOf(n);d!==-1&&i[u].splice(d,1)}}class to{on(n,i){return this._listeners=this._listeners||{},zo(n,i,this._listeners),this}off(n,i){return Jo(n,i,this._listeners),Jo(n,i,this._oneTimeListeners),this}once(n,i){return i?(this._oneTimeListeners=this._oneTimeListeners||{},zo(n,i,this._oneTimeListeners),this):new Promise(d=>this.once(n,d))}fire(n,i){const d=typeof n=="string"?new vo(n,i):n,g=d.type;if(this.listens(g)){d.target=this;const h=this._listeners&&this._listeners[g]?this._listeners[g].slice():[];for(const T of h)T.call(this,d);const v=this._oneTimeListeners&&this._oneTimeListeners[g]?this._oneTimeListeners[g].slice():[];for(const T of v)Jo(g,T,this._oneTimeListeners),T.call(this,d);const S=this._eventedParent;S&&(ti(d,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),S.fire(d))}else d instanceof Oo&&console.error(d.error);return this}listens(n){return!!(this._listeners&&this._listeners[n]&&this._listeners[n].length>0||this._oneTimeListeners&&this._oneTimeListeners[n]&&this._oneTimeListeners[n].length>0||this._eventedParent&&this._eventedParent.listens(n))}setEventedParent(n,i){return this._eventedParent=n,this._eventedParentData=i,this}}var Co,mo={},so=function(){if(Co)return mo;Co=1;var u={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function n(h){return(h=Math.round(h))<0?0:h>255?255:h}function i(h){return n(h[h.length-1]==="%"?parseFloat(h)/100*255:parseInt(h))}function d(h){return(v=h[h.length-1]==="%"?parseFloat(h)/100:parseFloat(h))<0?0:v>1?1:v;var v}function g(h,v,S){return S<0?S+=1:S>1&&(S-=1),6*S<1?h+(v-h)*S*6:2*S<1?v:3*S<2?h+(v-h)*(2/3-S)*6:h}try{mo.parseCSSColor=function(h){var v,S=h.replace(/ /g,"").toLowerCase();if(S in u)return u[S].slice();if(S[0]==="#")return S.length===4?(v=parseInt(S.substr(1),16))>=0&&v<=4095?[(3840&v)>>4|(3840&v)>>8,240&v|(240&v)>>4,15&v|(15&v)<<4,1]:null:S.length===7&&(v=parseInt(S.substr(1),16))>=0&&v<=16777215?[(16711680&v)>>16,(65280&v)>>8,255&v,1]:null;var T=S.indexOf("("),A=S.indexOf(")");if(T!==-1&&A+1===S.length){var b=S.substr(0,T),P=S.substr(T+1,A-(T+1)).split(","),$=1;switch(b){case"rgba":if(P.length!==4)return null;$=d(P.pop());case"rgb":return P.length!==3?null:[i(P[0]),i(P[1]),i(P[2]),$];case"hsla":if(P.length!==4)return null;$=d(P.pop());case"hsl":if(P.length!==3)return null;var M=(parseFloat(P[0])%360+360)%360/360,O=d(P[1]),N=d(P[2]),W=N<=.5?N*(O+1):N+O-N*O,q=2*N-W;return[n(255*g(q,W,M+1/3)),n(255*g(q,W,M)),n(255*g(q,W,M-1/3)),$];default:return null}}return null}}catch(h){}return mo}();class Fi{constructor(n,i,d,g=1){this.r=n,this.g=i,this.b=d,this.a=g}static parse(n){if(!n)return;if(n instanceof Fi)return n;if(typeof n!="string")return;const i=so.parseCSSColor(n);return i?new Fi(i[0]/255*i[3],i[1]/255*i[3],i[2]/255*i[3],i[3]):void 0}toStringPremultipliedAlpha(){const[n,i,d,g]=this.a===0?[0,0,0,0]:[255*this.r/this.a,255*this.g/this.a,255*this.b/this.a,this.a];return`rgba(${Math.round(n)},${Math.round(i)},${Math.round(d)},${g})`}toString(){const[n,i,d,g]=[this.r,this.g,this.b,this.a];return`rgba(${Math.round(255*n)},${Math.round(255*i)},${Math.round(255*d)},${g})`}toRenderColor(n){const{r:i,g:d,b:g,a:h}=this;return new Qo(n,i,d,g,h)}clone(){return new Fi(this.r,this.g,this.b,this.a)}}class Qo{constructor(n,i,d,g,h){if(n){const v=n.image.height,S=v*v;i=h===0?0:i/h*(v-1),d=h===0?0:d/h*(v-1),g=h===0?0:g/h*(v-1);const T=Math.floor(i),A=Math.floor(d),b=Math.floor(g),P=Math.ceil(i),$=Math.ceil(d),M=Math.ceil(g),O=i-T,N=d-A,W=g-b,q=n.image.data,ae=4*(T+A*S+b*v),ce=4*(T+A*S+M*v),ne=4*(T+$*S+b*v),ge=4*(T+$*S+M*v),Ce=4*(P+A*S+b*v),De=4*(P+A*S+M*v),ut=4*(P+$*S+b*v),st=4*(P+$*S+M*v);if(ae<0||st>=q.length)throw new Error("out of range");this.r=Rr(Rr(Rr(q[ae],q[ce],W),Rr(q[ne],q[ge],W),N),Rr(Rr(q[Ce],q[De],W),Rr(q[ut],q[st],W),N),O)/255*h,this.g=Rr(Rr(Rr(q[ae+1],q[ce+1],W),Rr(q[ne+1],q[ge+1],W),N),Rr(Rr(q[Ce+1],q[De+1],W),Rr(q[ut+1],q[st+1],W),N),O)/255*h,this.b=Rr(Rr(Rr(q[ae+2],q[ce+2],W),Rr(q[ne+2],q[ge+2],W),N),Rr(Rr(q[Ce+2],q[De+2],W),Rr(q[ut+2],q[st+2],W),N),O)/255*h,this.a=h}else this.r=i,this.g=d,this.b=g,this.a=h}toArray(){const{r:n,g:i,b:d,a:g}=this;return g===0?[0,0,0,0]:[255*n/g,255*i/g,255*d/g,g]}toHslaArray(){if(this.a===0)return[0,0,0,0];const{r:n,g:i,b:d,a:g}=this,h=Math.min(Math.max(n/g,0),1),v=Math.min(Math.max(i/g,0),1),S=Math.min(Math.max(d/g,0),1),T=Math.min(h,v,S),A=Math.max(h,v,S),b=(T+A)/2;if(T===A)return[0,0,100*b,g];const P=A-T,$=b>.5?P/(2-A-T):P/(A+T);let M=0;return A===h?M=(v-S)/P+(v<S?6:0):A===v?M=(S-h)/P+2:A===S&&(M=(h-v)/P+4),M*=60,[Math.min(Math.max(M,0),360),Math.min(Math.max(100*$,0),100),Math.min(Math.max(100*b,0),100),g]}toArray01(){const{r:n,g:i,b:d,a:g}=this;return g===0?[0,0,0,0]:[n/g,i/g,d/g,g]}toArray01Scaled(n){const{r:i,g:d,b:g,a:h}=this;return h===0?[0,0,0]:[i/h*n,d/h*n,g/h*n]}toArray01PremultipliedAlpha(){const{r:n,g:i,b:d,a:g}=this;return[n,i,d,g]}toArray01Linear(){const{r:n,g:i,b:d,a:g}=this;return g===0?[0,0,0,0]:[Math.pow(n/g,2.2),Math.pow(i/g,2.2),Math.pow(d/g,2.2),g]}}function Rr(u,n,i){return u*(1-i)+n*i}function Ao(u,n,i){return u.map((d,g)=>Rr(d,n[g],i))}Fi.black=new Fi(0,0,0,1),Fi.white=new Fi(1,1,1,1),Fi.transparent=new Fi(0,0,0,0),Fi.red=new Fi(1,0,0,1),Fi.blue=new Fi(0,0,1,1);var ea=Object.freeze({__proto__:null,array:Ao,color:function(u,n,i){return new Fi(Rr(u.r,n.r,i),Rr(u.g,n.g,i),Rr(u.b,n.b,i),Rr(u.a,n.a,i))},number:Rr});function Na(u,...n){for(const i of n)for(const d in i)u[d]=i[d];return u}class ci extends Error{constructor(n,i){super(i),this.message=i,this.key=n}}class oa{constructor(n,i=[]){this.parent=n,this.bindings={};for(const[d,g]of i)this.bindings[d]=g}concat(n){return new oa(this,n)}get(n){if(this.bindings[n])return this.bindings[n];if(this.parent)return this.parent.get(n);throw new Error(`${n} not found in scope.`)}has(n){return!!this.bindings[n]||!!this.parent&&this.parent.has(n)}}const Ta={kind:"null"},Br={kind:"number"},oo={kind:"string"},No={kind:"boolean"},Yo={kind:"color"},uo={kind:"object"},Ri={kind:"value"},fa={kind:"collator"},ko={kind:"formatted"},rn={kind:"resolvedImage"};function Ge(u,n){return{kind:"array",itemType:u,N:n}}function _e(u){if(u.kind==="array"){const n=_e(u.itemType);return typeof u.N=="number"?`array<${n}, ${u.N}>`:u.itemType.kind==="value"?"array":`array<${n}>`}return u.kind}const Ve=[Ta,Br,oo,No,Yo,ko,uo,Ge(Ri),rn];function ze(u,n){if(n.kind==="error")return null;if(u.kind==="array"){if(n.kind==="array"&&(n.N===0&&n.itemType.kind==="value"||!ze(u.itemType,n.itemType))&&(typeof u.N!="number"||u.N===n.N))return null}else{if(u.kind===n.kind)return null;if(u.kind==="value"){for(const i of Ve)if(!ze(i,n))return null}}return`Expected ${_e(u)} but found ${_e(n)} instead.`}function At(u,n){return n.some(i=>i.kind===u.kind)}function an(u,n){return n.some(i=>i==="null"?u===null:i==="array"?Array.isArray(u):i==="object"?u&&!Array.isArray(u)&&typeof u=="object":i===typeof u)}class Kn{constructor(n,i,d){this.sensitivity=n?i?"variant":"case":i?"accent":"base",this.locale=d,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(n,i){return this.collator.compare(n,i)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Cr{constructor(n,i,d,g,h){this.text=n.normalize?n.normalize():n,this.image=i,this.scale=d,this.fontStack=g,this.textColor=h}}class Mr{constructor(n){this.sections=n}static fromString(n){return new Mr([new Cr(n,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(n=>n.text.length!==0||n.image&&n.image.namePrimary)}static factory(n){return n instanceof Mr?n:Mr.fromString(n)}toString(){return this.sections.length===0?"":this.sections.map(n=>n.text).join("")}serialize(){const n=["format"];for(const i of this.sections){if(i.image){n.push(["image",i.image.namePrimary]);continue}n.push(i.text);const d={};i.fontStack&&(d["text-font"]=["literal",i.fontStack.split(",")]),i.scale&&(d["font-scale"]=i.scale),i.textColor&&(d["text-color"]=["rgba"].concat(i.textColor.toRenderColor(null).toArray())),n.push(d)}return n}}class yr{constructor(n,i){if(this.id=n,this.options=i||{params:{}},this.options.transform){const{a:d,b:g,c:h,d:v,e:S,f:T}=this.options.transform;this.options.transform=new DOMMatrix([d,g,h,v,S,T])}else this.options.transform=new DOMMatrix([1,0,0,1,0,0])}static deserializeId(n){return JSON.parse(n).id}static deserializeFromString(n){const i=JSON.parse(n),{a:d,b:g,c:h,d:v,e:S,f:T}=i.options.transform;return new DOMMatrix([d,g,h,v,S,T]),new yr(i.id,i.options)}scaleSelf(n){return this.options.transform=this.options.transform.scale(n),this}serialize(){const n={id:this.id};this.options&&(n.options=this.options);const{a:i,b:d,c:g,d:h,e:v,f:S}=this.options.transform;return n.options.transform={a:i,b:d,c:g,d:h,e:v,f:S},JSON.stringify(n)}}class si{constructor(n){this.namePrimary=n.namePrimary,n.nameSecondary&&(this.nameSecondary=n.nameSecondary),n.optionsPrimary&&(this.optionsPrimary=n.optionsPrimary),n.optionsSecondary&&(this.optionsSecondary=n.optionsSecondary),this.available=n.available}toString(){return this.namePrimary&&this.nameSecondary?`[${this.namePrimary},${this.nameSecondary}]`:this.namePrimary}getPrimary(){return new yr(this.namePrimary,{params:this.optionsPrimary&&this.optionsPrimary.params||{}})}getSerializedPrimary(){return this.getPrimary().serialize()}getSecondary(){return this.nameSecondary?new yr(this.nameSecondary,{params:this.optionsSecondary&&this.optionsSecondary.params||{}}):null}static from(n){return typeof n=="string"?si.build(n):n}static build(n,i,d,g){return n?new si({namePrimary:n,nameSecondary:i,optionsPrimary:d,optionsSecondary:g,available:!1}):null}}function wi(u,n,i,d){return typeof u=="number"&&u>=0&&u<=255&&typeof n=="number"&&n>=0&&n<=255&&typeof i=="number"&&i>=0&&i<=255?d===void 0||typeof d=="number"&&d>=0&&d<=1?null:`Invalid rgba value [${[u,n,i,d].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof d=="number"?[u,n,i,d]:[u,n,i]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function yo(u){if(u===null||typeof u=="string"||typeof u=="boolean"||typeof u=="number"||u instanceof Fi||u instanceof Kn||u instanceof Mr||u instanceof si)return!0;if(Array.isArray(u)){for(const n of u)if(!yo(n))return!1;return!0}if(typeof u=="object"){for(const n in u)if(!yo(u[n]))return!1;return!0}return!1}function yi(u){if(u===null)return Ta;if(typeof u=="string")return oo;if(typeof u=="boolean")return No;if(typeof u=="number")return Br;if(u instanceof Fi)return Yo;if(u instanceof Kn)return fa;if(u instanceof Mr)return ko;if(u instanceof si)return rn;if(Array.isArray(u)){const n=u.length;let i;for(const d of u){const g=yi(d);if(i){if(i===g)continue;i=Ri;break}i=g}return Ge(i||Ri,n)}return uo}function Ei(u){const n=typeof u;return u===null?"":n==="string"||n==="number"||n==="boolean"?String(u):u instanceof Fi?u.toStringPremultipliedAlpha():u instanceof Mr||u instanceof si?u.toString():JSON.stringify(u)}class ni{constructor(n,i){this.type=n,this.value=i}static parse(n,i){if(n.length!==2)return i.error(`'literal' expression requires exactly one argument, but found ${n.length-1} instead.`);if(!yo(n[1]))return i.error("invalid value");const d=n[1];let g=yi(d);const h=i.expectedType;return g.kind!=="array"||g.N!==0||!h||h.kind!=="array"||typeof h.N=="number"&&h.N!==0||(g=h),new ni(g,d)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof Fi?["rgba"].concat(this.value.toRenderColor(null).toArray()):this.value instanceof Mr?this.value.serialize():this.value}}class zi{constructor(n){this.name="ExpressionEvaluationError",this.message=n}toJSON(){return this.message}}const Ai={string:oo,number:Br,boolean:No,object:uo};class _o{constructor(n,i){this.type=n,this.args=i}static parse(n,i){if(n.length<2)return i.error("Expected at least one argument.");let d,g=1;const h=n[0];if(h==="array"){let S,T;if(n.length>2){const A=n[1];if(typeof A!="string"||!(A in Ai)||A==="object")return i.error('The item type argument of "array" must be one of string, number, boolean',1);S=Ai[A],g++}else S=Ri;if(n.length>3){if(n[2]!==null&&(typeof n[2]!="number"||n[2]<0||n[2]!==Math.floor(n[2])))return i.error('The length argument to "array" must be a positive integer literal',2);T=n[2],g++}d=Ge(S,T)}else d=Ai[h];const v=[];for(;g<n.length;g++){const S=i.parse(n[g],g,Ri);if(!S)return null;v.push(S)}return new _o(d,v)}evaluate(n){for(let i=0;i<this.args.length;i++){const d=this.args[i].evaluate(n);if(!ze(this.type,yi(d)))return d;if(i===this.args.length-1)throw new zi(`The expression ${JSON.stringify(this.args[i].serialize())} evaluated to ${_e(yi(d))} but was expected to be of type ${_e(this.type)}.`)}return null}eachChild(n){this.args.forEach(n)}outputDefined(){return this.args.every(n=>n.outputDefined())}serialize(){const n=this.type,i=[n.kind];if(n.kind==="array"){const d=n.itemType;if(d.kind==="string"||d.kind==="number"||d.kind==="boolean"){i.push(d.kind);const g=n.N;(typeof g=="number"||this.args.length>1)&&i.push(g)}}return i.concat(this.args.map(d=>d.serialize()))}}class na{constructor(n){this.type=ko,this.sections=n}static parse(n,i){if(n.length<2)return i.error("Expected at least one argument.");const d=n[1];if(!Array.isArray(d)&&typeof d=="object")return i.error("First argument must be an image or text section.");const g=[];let h=!1;for(let v=1;v<=n.length-1;++v){const S=n[v];if(h&&typeof S=="object"&&!Array.isArray(S)){h=!1;let T=null;if(S["font-scale"]&&(T=i.parseObjectValue(S["font-scale"],v,"font-scale",Br),!T))return null;let A=null;if(S["text-font"]&&(A=i.parseObjectValue(S["text-font"],v,"text-font",Ge(oo)),!A))return null;let b=null;if(S["text-color"]&&(b=i.parseObjectValue(S["text-color"],v,"text-color",Yo),!b))return null;const P=g[g.length-1];P.scale=T,P.font=A,P.textColor=b}else{const T=i.parse(n[v],v,Ri);if(!T)return null;const A=T.type.kind;if(A!=="string"&&A!=="value"&&A!=="null"&&A!=="resolvedImage")return i.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");h=!0,g.push({content:T,scale:null,font:null,textColor:null})}}return new na(g)}evaluate(n){return new Mr(this.sections.map(i=>{const d=i.content.evaluate(n);return yi(d)===rn?new Cr("",d,null,null,null):new Cr(Ei(d),null,i.scale?i.scale.evaluate(n):null,i.font?i.font.evaluate(n).join(","):null,i.textColor?i.textColor.evaluate(n):null)}))}eachChild(n){for(const i of this.sections)n(i.content),i.scale&&n(i.scale),i.font&&n(i.font),i.textColor&&n(i.textColor)}outputDefined(){return!1}serialize(){const n=["format"];for(const i of this.sections){n.push(i.content.serialize());const d={};i.scale&&(d["font-scale"]=i.scale.serialize()),i.font&&(d["text-font"]=i.font.serialize()),i.textColor&&(d["text-color"]=i.textColor.serialize()),n.push(d)}return n}}class ua{constructor(n,i,d,g){this._imageWarnHistory={},this.type=rn,this.inputPrimary=n,this.inputSecondary=i,this.inputPrimaryParams=d,this.inputSecondaryParams=g}static parse(n,i){if(n.length<2)return i.error("Expected two or more arguments.");let d=1;const g=[];function h(){if(d<n.length){const S=i.parse(n[d],d++,oo);return S?(g.push({image:S,options:void 0}),!0):(i.error(g.length?"Secondary image variant is not a string.":"No image name provided."),!1)}return!0}function v(){if(d<n.length){if((S=n[d])===null||typeof S!="object"||Array.isArray(S))return!0;const T=n[d].params,A=i.concat(d);if(!T)return d++,!0;if(typeof T!="object"||T.constructor!==Object)return A.error('Image options "params" should be an object'),!1;const b={},P=A.concat(void 0,"params");for(const $ in T){if(!$)return P.error("Image parameter name should be non-empty"),!1;const M=P.concat(void 0,$).parse(T[$],void 0,Yo,void 0,{typeAnnotation:"coerce"});if(!M)return!1;b[$]=M}return g[g.length-1].options=b,d++,!0}var S;return!0}for(let S=0;S<2;S++)if(!h()||!v())return;return new ua(g[0].image,g[1]?g[1].image:void 0,g[0].options,g[1]?g[1].options:void 0)}evaluateParams(n,i){const d={};if(i){for(const g in i)if(i[g])try{const h=i[g].evaluate(n),v=`Ignoring image parameter "${g}" with semi-transparent color ${h.toString()}`;if(h.a!==1){this._imageWarnHistory[v]||(console.warn(v),this._imageWarnHistory[v]=!0);continue}d[g]=h}catch(h){continue}if(Object.keys(d).length!==0)return{params:d}}}evaluate(n){const i=si.build(this.inputPrimary.evaluate(n),this.inputSecondary?this.inputSecondary.evaluate(n):void 0,this.inputPrimaryParams?this.evaluateParams(n,this.inputPrimaryParams):void 0,this.inputSecondaryParams?this.evaluateParams(n,this.inputSecondaryParams):void 0);return i&&n.availableImages&&(i.available=n.availableImages.indexOf(i.namePrimary)>-1,i.nameSecondary&&i.available&&n.availableImages&&(i.available=n.availableImages.indexOf(i.nameSecondary)>-1)),i}eachChild(n){if(n(this.inputPrimary),this.inputPrimaryParams)for(const i in this.inputPrimaryParams)this.inputPrimaryParams[i]&&n(this.inputPrimaryParams[i]);if(this.inputSecondary&&(n(this.inputSecondary),this.inputSecondaryParams))for(const i in this.inputSecondaryParams)this.inputSecondaryParams[i]&&n(this.inputSecondaryParams[i])}outputDefined(){return!1}serializeParams(n){const i={};if(n){for(const d in n)n[d]&&(i[d]=n[d].serialize());return{params:i}}}serialize(){const n=["image",this.inputPrimary.serialize()];return this.inputPrimaryParams&&n.push(this.serializeParams(this.inputPrimaryParams)),this.inputSecondary&&(n.push(this.inputSecondary.serialize()),this.inputSecondaryParams&&n.push(this.serializeParams(this.inputSecondaryParams))),n}}function Ea(u){return u instanceof Number?"number":u instanceof String?"string":u instanceof Boolean?"boolean":Array.isArray(u)?"array":u===null?"null":typeof u}const Ia={"to-boolean":No,"to-color":Yo,"to-number":Br,"to-string":oo};class xa{constructor(n,i){this.type=n,this.args=i}static parse(n,i){if(n.length<2)return i.error("Expected at least one argument.");const d=n[0],g=[];let h=Ta;if(d==="to-array"){if(!Array.isArray(n[1]))return null;const v=n[1].length;if(i.expectedType){if(i.expectedType.kind!=="array")return i.error(`Expected ${i.expectedType.kind} but found array.`);h=Ge(i.expectedType.itemType,v)}else{if(!(v>0&&yo(n[1][0])))return null;h=Ge(yi(n[1][0]),v)}for(let S=0;S<v;S++){const T=n[1][S];let A;if(Ea(T)==="array")A=i.parse(T,void 0,h.itemType);else{const b=Ea(T);if(b!==h.itemType.kind)return i.error(`Expected ${h.itemType.kind} but found ${b}.`);A=i.registry.literal.parse(["literal",T===void 0?null:T],i)}if(!A)return null;g.push(A)}}else{if((d==="to-boolean"||d==="to-string")&&n.length!==2)return i.error("Expected one argument.");h=Ia[d];for(let v=1;v<n.length;v++){const S=i.parse(n[v],v,Ri);if(!S)return null;g.push(S)}}return new xa(h,g)}evaluate(n){if(this.type.kind==="boolean")return!!this.args[0].evaluate(n);if(this.type.kind==="color"){let i,d;for(const g of this.args){if(i=g.evaluate(n),d=null,i instanceof Fi)return i;if(typeof i=="string"){const h=n.parseColor(i);if(h)return h}else if(Array.isArray(i)&&(d=i.length<3||i.length>4?`Invalid rbga value ${JSON.stringify(i)}: expected an array containing either three or four numeric values.`:wi(i[0],i[1],i[2],i[3]),!d))return new Fi(i[0]/255,i[1]/255,i[2]/255,i[3])}throw new zi(d||`Could not parse color from value '${typeof i=="string"?i:String(JSON.stringify(i))}'`)}if(this.type.kind==="number"){let i=null;for(const d of this.args){if(i=d.evaluate(n),i===null)return 0;const g=Number(i);if(!isNaN(g))return g}throw new zi(`Could not convert ${JSON.stringify(i)} to number.`)}return this.type.kind==="formatted"?Mr.fromString(Ei(this.args[0].evaluate(n))):this.type.kind==="resolvedImage"?si.build(Ei(this.args[0].evaluate(n))):this.type.kind==="array"?this.args.map(i=>i.evaluate(n)):Ei(this.args[0].evaluate(n))}eachChild(n){this.args.forEach(n)}outputDefined(){return this.args.every(n=>n.outputDefined())}serialize(){if(this.type.kind==="formatted")return new na([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new ua(this.args[0]).serialize();const n=this.type.kind==="array"?[]:[`to-${this.type.kind}`];return this.eachChild(i=>{n.push(i.serialize())}),n}}const ya=["Unknown","Point","LineString","Polygon"];class ja{constructor(n,i){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null,this.scope=n,this.options=i}id(){return this.feature&&this.feature.id!==void 0?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?ya[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}measureLight(n){return this.globals.brightness||0}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const n=this.featureDistanceData.center,i=this.featureDistanceData.scale,{x:d,y:g}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(d*i-n[0])+this.featureDistanceData.bearing[1]*(g*i-n[1])}return 0}parseColor(n){let i=this._parseColorCache[n];return i||(i=this._parseColorCache[n]=Fi.parse(n)),i}getConfig(n){return this.options?this.options.get(n):null}}class Ca{constructor(n,i,d,g,h){this.name=n,this.type=i,this._evaluate=d,this.args=g,this._overloadIndex=h}evaluate(n){if(!this._evaluate){const i=Ca.definitions[this.name];this._evaluate=Array.isArray(i)?i[2]:i.overloads[this._overloadIndex][1]}return this._evaluate(n,this.args)}eachChild(n){this.args.forEach(n)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(n=>n.serialize()))}static parse(n,i){const d=n[0],g=Ca.definitions[d];if(!g)return i.error(`Unknown expression "${d}". If you wanted a literal array, use ["literal", [...]].`,0);const h=Array.isArray(g)?g[0]:g.type,v=Array.isArray(g)?[[g[1],g[2]]]:g.overloads,S=[];let T=null,A=-1;for(const[b,P]of v){if(Array.isArray(b)&&b.length!==n.length-1)continue;S.push(b),A++,T=new Ql(i.registry,i.path,null,i.scope,void 0,i._scope,i.options);const $=[];let M=!1;for(let O=1;O<n.length;O++){const N=n[O],W=Array.isArray(b)?b[O-1]:b.type,q=T.parse(N,1+$.length,W);if(!q){M=!0;break}$.push(q)}if(!M)if(Array.isArray(b)&&b.length!==$.length)T.error(`Expected ${b.length} arguments, but found ${$.length} instead.`);else{for(let O=0;O<$.length;O++){const N=Array.isArray(b)?b[O]:b.type,W=$[O];T.concat(O+1).checkSubtype(N,W.type)}if(T.errors.length===0)return new Ca(d,h,P,$,A)}}if(S.length===1)i.errors.push(...T.errors);else{const b=(S.length?S:v.map(([$])=>$)).map(Ps).join(" | "),P=[];for(let $=1;$<n.length;$++){const M=i.parse(n[$],1+P.length);if(!M)return null;P.push(_e(M.type))}i.error(`Expected arguments of type ${b}, but found (${P.join(", ")}) instead.`)}return null}static register(n,i){Ca.definitions=i;for(const d in i)n[d]=Ca}}function Ps(u){return Array.isArray(u)?`(${u.map(_e).join(", ")})`:`(${_e(u.type)}...)`}class Ms{constructor(n,i,d){this.type=fa,this.locale=d,this.caseSensitive=n,this.diacriticSensitive=i}static parse(n,i){if(n.length!==2)return i.error("Expected one argument.");const d=n[1];if(typeof d!="object"||Array.isArray(d))return i.error("Collator options argument must be an object.");const g=d["case-sensitive"]===void 0?i.parse(!1,1,No):i.parseObjectValue(d["case-sensitive"],1,"case-sensitive",No);if(!g)return null;const h=d["diacritic-sensitive"]===void 0?i.parse(!1,1,No):i.parseObjectValue(d["diacritic-sensitive"],1,"diacritic-sensitive",No);if(!h)return null;let v=null;return d.locale&&(v=i.parseObjectValue(d.locale,1,"locale",oo),!v)?null:new Ms(g,h,v)}evaluate(n){return new Kn(this.caseSensitive.evaluate(n),this.diacriticSensitive.evaluate(n),this.locale?this.locale.evaluate(n):null)}eachChild(n){n(this.caseSensitive),n(this.diacriticSensitive),this.locale&&n(this.locale)}outputDefined(){return!1}serialize(){const n={};return n["case-sensitive"]=this.caseSensitive.serialize(),n["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(n.locale=this.locale.serialize()),["collator",n]}}function _s(u,n,i=0,d=u.length-1,g=ol){for(;d>i;){if(d-i>600){const T=d-i+1,A=n-i+1,b=Math.log(T),P=.5*Math.exp(2*b/3),$=.5*Math.sqrt(b*P*(T-P)/T)*(A-T/2<0?-1:1);_s(u,n,Math.max(i,Math.floor(n-A*P/T+$)),Math.min(d,Math.floor(n+(T-A)*P/T+$)),g)}const h=u[n];let v=i,S=d;for(il(u,i,n),g(u[d],h)>0&&il(u,i,d);v<S;){for(il(u,v,S),v++,S--;g(u[v],h)<0;)v++;for(;g(u[S],h)>0;)S--}g(u[i],h)===0?il(u,i,S):(S++,il(u,S,d)),S<=n&&(i=S+1),n<=S&&(d=S-1)}}function il(u,n,i){const d=u[n];u[n]=u[i],u[i]=d}function ol(u,n){return u<n?-1:u>n?1:0}function Al(u){let n=0;for(let i,d,g=0,h=u.length,v=h-1;g<h;v=g++)i=u[g],d=u[v],n+=(d.x-i.x)*(i.y+d.y);return n}function Vs(u,n){u[0]=Math.min(u[0],n[0]),u[1]=Math.min(u[1],n[1]),u[2]=Math.max(u[2],n[0]),u[3]=Math.max(u[3],n[1])}function Dl(u,n){return!(u[0]<=n[0]||u[2]>=n[2]||u[1]<=n[1]||u[3]>=n[3])}function pc(u,n,i){const d=u[0]-n[0],g=u[1]-n[1],h=u[0]-i[0],v=u[1]-i[1];return d*v-h*g==0&&d*h<=0&&g*v<=0}function da(u,n,i=!1){let d=!1;for(let S=0,T=n.length;S<T;S++){const A=n[S];for(let b=0,P=A.length,$=P-1;b<P;$=b++){const M=A[$],O=A[b];if(pc(u,M,O))return i;(h=M)[1]>(g=u)[1]!=(v=O)[1]>g[1]&&g[0]<(v[0]-h[0])*(g[1]-h[1])/(v[1]-h[1])+h[0]&&(d=!d)}}var g,h,v;return d}function Ha(u,n,i,d){const g=d[0]-i[0],h=d[1]-i[1],v=(u[0]-i[0])*h-g*(u[1]-i[1]),S=(n[0]-i[0])*h-g*(n[1]-i[1]);return v>0&&S<0||v<0&&S>0}function aa(u,n,i,d){return(g=[d[0]-i[0],d[1]-i[1]])[0]*(h=[n[0]-u[0],n[1]-u[1]])[1]-g[1]*h[0]!=0&&!(!Ha(u,n,i,d)||!Ha(i,d,u,n));var g,h}const jo=8192;function hs(u,n){const i=(180+u[0])/360,d=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+u[1]*Math.PI/360)))/360,g=Math.pow(2,n.z);return[Math.round(i*g*jo),Math.round(d*g*jo)]}function Ls(u,n){for(let i=0;i<n.length;i++)if(da(u,n[i]))return!0;return!1}function ic(u,n,i){for(const d of i)for(let g=0,h=d.length,v=h-1;g<h;v=g++)if(aa(u,n,d[v],d[g]))return!0;return!1}function gc(u,n){for(let i=0;i<u.length;++i)if(!da(u[i],n))return!1;for(let i=0;i<u.length-1;++i)if(ic(u[i],u[i+1],n))return!1;return!0}function jc(u,n){for(let i=0;i<n.length;i++)if(gc(u,n[i]))return!0;return!1}function _l(u,n,i){const d=[];for(let g=0;g<u.length;g++){const h=[];for(let v=0;v<u[g].length;v++){const S=hs(u[g][v],i);Vs(n,S),h.push(S)}d.push(h)}return d}function Yl(u,n,i){const d=[];for(let g=0;g<u.length;g++){const h=_l(u[g],n,i);d.push(h)}return d}function ra(u,n,i,d){if(u[0]<i[0]||u[0]>i[2]){const g=.5*d;let h=u[0]-i[0]>g?-d:i[0]-u[0]>g?d:0;h===0&&(h=u[0]-i[2]>g?-d:i[2]-u[0]>g?d:0),u[0]+=h}Vs(n,u)}function To(u,n,i,d){const g=Math.pow(2,d.z)*jo,h=[d.x*jo,d.y*jo],v=[];if(!u)return v;for(const S of u)for(const T of S){const A=[T.x+h[0],T.y+h[1]];ra(A,n,i,g),v.push(A)}return v}function hu(u,n,i,d){const g=Math.pow(2,d.z)*jo,h=[d.x*jo,d.y*jo],v=[];if(!u)return v;for(const T of u){const A=[];for(const b of T){const P=[b.x+h[0],b.y+h[1]];Vs(n,P),A.push(P)}v.push(A)}if(n[2]-n[0]<=g/2){(S=n)[0]=S[1]=1/0,S[2]=S[3]=-1/0;for(const T of v)for(const A of T)ra(A,n,i,g)}var S;return v}class Uo{constructor(n,i){this.type=No,this.geojson=n,this.geometries=i}static parse(n,i){if(n.length!==2)return i.error(`'within' expression requires exactly one argument, but found ${n.length-1} instead.`);if(yo(n[1])){const d=n[1];if(d.type==="FeatureCollection")for(let g=0;g<d.features.length;++g){const h=d.features[g].geometry.type;if(h==="Polygon"||h==="MultiPolygon")return new Uo(d,d.features[g].geometry)}else if(d.type==="Feature"){const g=d.geometry.type;if(g==="Polygon"||g==="MultiPolygon")return new Uo(d,d.geometry)}else if(d.type==="Polygon"||d.type==="MultiPolygon")return new Uo(d,d)}return i.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(n){if(n.geometry()!=null&&n.canonicalID()!=null){if(n.geometryType()==="Point")return function(i,d){const g=[1/0,1/0,-1/0,-1/0],h=[1/0,1/0,-1/0,-1/0],v=i.canonicalID();if(!v)return!1;if(d.type==="Polygon"){const S=_l(d.coordinates,h,v),T=To(i.geometry(),g,h,v);if(!Dl(g,h))return!1;for(const A of T)if(!da(A,S))return!1}if(d.type==="MultiPolygon"){const S=Yl(d.coordinates,h,v),T=To(i.geometry(),g,h,v);if(!Dl(g,h))return!1;for(const A of T)if(!Ls(A,S))return!1}return!0}(n,this.geometries);if(n.geometryType()==="LineString")return function(i,d){const g=[1/0,1/0,-1/0,-1/0],h=[1/0,1/0,-1/0,-1/0],v=i.canonicalID();if(!v)return!1;if(d.type==="Polygon"){const S=_l(d.coordinates,h,v),T=hu(i.geometry(),g,h,v);if(!Dl(g,h))return!1;for(const A of T)if(!gc(A,S))return!1}if(d.type==="MultiPolygon"){const S=Yl(d.coordinates,h,v),T=hu(i.geometry(),g,h,v);if(!Dl(g,h))return!1;for(const A of T)if(!jc(A,S))return!1}return!0}(n,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}const oc={kilometers:1,miles:1e3/1609.344,nauticalmiles:1e3/1852,meters:1e3,metres:1e3,yards:1e3/.9144,feet:1e3/.3048,inches:1e3/.0254},nu=1/298.257223563,qo=nu*(2-nu),Ec=Math.PI/180;class vc{static fromTile(n,i,d){const g=Math.PI*(1-2*(n+.5)/Math.pow(2,i)),h=Math.atan(.5*(Math.exp(g)-Math.exp(-g)))/Ec;return new vc(h,d)}static get units(){return oc}constructor(n,i){if(n===void 0)throw new Error("No latitude given.");if(i&&!oc[i])throw new Error(`Unknown unit ${i}. Use one of: ${Object.keys(oc).join(", ")}`);const d=6378.137*Ec*(i?oc[i]:1),g=Math.cos(n*Ec),h=1/(1-qo*(1-g*g)),v=Math.sqrt(h);this.kx=d*v*g,this.ky=d*v*h*(1-qo)}distance(n,i){const d=ac(n[0]-i[0])*this.kx,g=(n[1]-i[1])*this.ky;return Math.sqrt(d*d+g*g)}bearing(n,i){const d=ac(i[0]-n[0])*this.kx;return Math.atan2(d,(i[1]-n[1])*this.ky)/Ec}destination(n,i,d){const g=d*Ec;return this.offset(n,Math.sin(g)*i,Math.cos(g)*i)}offset(n,i,d){return[n[0]+i/this.kx,n[1]+d/this.ky]}lineDistance(n){let i=0;for(let d=0;d<n.length-1;d++)i+=this.distance(n[d],n[d+1]);return i}area(n){let i=0;for(let d=0;d<n.length;d++){const g=n[d];for(let h=0,v=g.length,S=v-1;h<v;S=h++)i+=ac(g[h][0]-g[S][0])*(g[h][1]+g[S][1])*(d?-1:1)}return Math.abs(i)/2*this.kx*this.ky}along(n,i){let d=0;if(i<=0)return n[0];for(let g=0;g<n.length-1;g++){const h=n[g],v=n[g+1],S=this.distance(h,v);if(d+=S,d>i)return ku(h,v,(i-(d-S))/S)}return n[n.length-1]}pointToSegmentDistance(n,i,d){let[g,h]=i,v=ac(d[0]-g)*this.kx,S=(d[1]-h)*this.ky;if(v!==0||S!==0){const T=(ac(n[0]-g)*this.kx*v+(n[1]-h)*this.ky*S)/(v*v+S*S);T>1?(g=d[0],h=d[1]):T>0&&(g+=v/this.kx*T,h+=S/this.ky*T)}return v=ac(n[0]-g)*this.kx,S=(n[1]-h)*this.ky,Math.sqrt(v*v+S*S)}pointOnLine(n,i){let d=1/0,g=n[0][0],h=n[0][1],v=0,S=0;for(let T=0;T<n.length-1;T++){let A=n[T][0],b=n[T][1],P=ac(n[T+1][0]-A)*this.kx,$=(n[T+1][1]-b)*this.ky,M=0;P===0&&$===0||(M=(ac(i[0]-A)*this.kx*P+(i[1]-b)*this.ky*$)/(P*P+$*$),M>1?(A=n[T+1][0],b=n[T+1][1]):M>0&&(A+=P/this.kx*M,b+=$/this.ky*M)),P=ac(i[0]-A)*this.kx,$=(i[1]-b)*this.ky;const O=P*P+$*$;O<d&&(d=O,g=A,h=b,v=T,S=M)}return{point:[g,h],index:v,t:Math.max(0,Math.min(1,S))}}lineSlice(n,i,d){let g=this.pointOnLine(d,n),h=this.pointOnLine(d,i);if(g.index>h.index||g.index===h.index&&g.t>h.t){const A=g;g=h,h=A}const v=[g.point],S=g.index+1,T=h.index;!ru(d[S],v[0])&&S<=T&&v.push(d[S]);for(let A=S+1;A<=T;A++)v.push(d[A]);return ru(d[T],h.point)||v.push(h.point),v}lineSliceAlong(n,i,d){let g=0;const h=[];for(let v=0;v<d.length-1;v++){const S=d[v],T=d[v+1],A=this.distance(S,T);if(g+=A,g>n&&h.length===0&&h.push(ku(S,T,(n-(g-A))/A)),g>=i)return h.push(ku(S,T,(i-(g-A))/A)),h;g>n&&h.push(T)}return h}bufferPoint(n,i){const d=i/this.ky,g=i/this.kx;return[n[0]-g,n[1]-d,n[0]+g,n[1]+d]}bufferBBox(n,i){const d=i/this.ky,g=i/this.kx;return[n[0]-g,n[1]-d,n[2]+g,n[3]+d]}insideBBox(n,i){return ac(n[0]-i[0])>=0&&ac(n[0]-i[2])<=0&&n[1]>=i[1]&&n[1]<=i[3]}}function ru(u,n){return u[0]===n[0]&&u[1]===n[1]}function ku(u,n,i){const d=ac(n[0]-u[0]);return[u[0]+d*i,u[1]+(n[1]-u[1])*i]}function ac(u){for(;u<-180;)u+=360;for(;u>180;)u-=360;return u}class gl{constructor(n=[],i=(d,g)=>d<g?-1:d>g?1:0){if(this.data=n,this.length=this.data.length,this.compare=i,this.length>0)for(let d=(this.length>>1)-1;d>=0;d--)this._down(d)}push(n){this.data.push(n),this._up(this.length++)}pop(){if(this.length===0)return;const n=this.data[0],i=this.data.pop();return--this.length>0&&(this.data[0]=i,this._down(0)),n}peek(){return this.data[0]}_up(n){const{data:i,compare:d}=this,g=i[n];for(;n>0;){const h=n-1>>1,v=i[h];if(d(g,v)>=0)break;i[n]=v,n=h}i[n]=g}_down(n){const{data:i,compare:d}=this,g=this.length>>1,h=i[n];for(;n<g;){let v=1+(n<<1);const S=v+1;if(S<this.length&&d(i[S],i[v])<0&&(v=S),d(i[v],h)>=0)break;i[n]=i[v],n=v}i[n]=h}}var Ii=8192;function ju(u,n){return n.dist-u.dist}const ld=100,Yc=50;function Jt(u){const n=[1/0,1/0,-1/0,-1/0];if(n.length!==u.length)return!1;for(let i=0;i<n.length;i++)if(n[i]!==u[i])return!1;return!0}function wn(u){return u[1]-u[0]+1}function jn(u,n){const i=u[1]>=u[0]&&u[1]<n;return i||console.warn("Distance Expression: Index is out of range"),i}function rr(u,n){if(u[0]>u[1])return[null,null];const i=wn(u);if(n){if(i===2)return[u,null];const d=Math.floor(i/2);return[[u[0],u[0]+d],[u[0]+d,u[1]]]}{if(i===1)return[u,null];const d=Math.floor(i/2)-1;return[[u[0],u[0]+d],[u[0]+d+1,u[1]]]}}function Fr(u,n){const i=[1/0,1/0,-1/0,-1/0];if(!jn(n,u.length))return i;for(let d=n[0];d<=n[1];++d)Vs(i,u[d]);return i}function Li(u){const n=[1/0,1/0,-1/0,-1/0];for(let i=0;i<u.length;++i)for(let d=0;d<u[i].length;++d)Vs(n,u[i][d]);return n}function no(u,n,i){if(Jt(u)||Jt(n))return NaN;let d=0,g=0;return u[2]<n[0]&&(d=n[0]-u[2]),u[0]>n[2]&&(d=u[0]-n[2]),u[1]>n[3]&&(g=u[1]-n[3]),u[3]<n[1]&&(g=n[1]-u[3]),i.distance([0,0],[d,g])}function ki(u){return 360*u-180}function po(u){return 360/Math.PI*Math.atan(Math.exp((180-360*u)*Math.PI/180))-90}function Yi(u,n){const i=Math.pow(2,n.z),d=(u.y/Ii+n.y)/i;return[ki((u.x/Ii+n.x)/i),po(d)]}function Zi(u,n){const i=[];for(let d=0;d<u.length;++d)i.push(Yi(u[d],n));return i}function Bo(u,n,i){const d=i.pointOnLine(n,u).point;return i.distance(u,d)}function Mo(u,n,i,d,g){const h=i.slice(d[0],d[1]+1);let v=1/0;for(let S=n[0];S<=n[1];++S)if((v=Math.min(v,Bo(u[S],h,g)))===0)return 0;return v}function Go(u,n,i,d,g){const h=Math.min(g.pointToSegmentDistance(u,i,d),g.pointToSegmentDistance(n,i,d)),v=Math.min(g.pointToSegmentDistance(i,u,n),g.pointToSegmentDistance(d,u,n));return Math.min(h,v)}function Ua(u,n,i,d,g){if(!jn(n,u.length)||!jn(d,i.length))return NaN;let h=1/0;for(let v=n[0];v<n[1];++v)for(let S=d[0];S<d[1];++S){if(aa(u[v],u[v+1],i[S],i[S+1]))return 0;h=Math.min(h,Go(u[v],u[v+1],i[S],i[S+1],g))}return h}function sa(u,n,i,d,g){if(!jn(n,u.length)||!jn(d,i.length))return NaN;let h=1/0;for(let v=n[0];v<=n[1];++v)for(let S=d[0];S<=d[1];++S)if((h=Math.min(h,g.distance(u[v],i[S])))===0)return h;return h}function Pa(u,n,i){if(da(u,n,!0))return 0;let d=1/0;for(const g of n){const h=g.length;if(h<2)return console.warn("Distance Expression: Invalid polygon!"),NaN;if(g[0]!==g[h-1]&&(d=Math.min(d,i.pointToSegmentDistance(u,g[h-1],g[0])))===0||(d=Math.min(d,Bo(u,g,i)))===0)return d}return d}function es(u,n,i,d){if(!jn(n,u.length))return NaN;for(let h=n[0];h<=n[1];++h)if(da(u[h],i,!0))return 0;let g=1/0;for(let h=n[0];h<n[1];++h)for(const v of i)for(let S=0,T=v.length,A=T-1;S<T;A=S++){if(aa(u[h],u[h+1],v[A],v[S]))return 0;g=Math.min(g,Go(u[h],u[h+1],v[A],v[S],d))}return g}function Oa(u,n){for(const i of u)for(let d=0;d<=i.length-1;++d)if(da(i[d],n,!0))return!0;return!1}function qa(u,n,i,d=1/0){const g=Li(u),h=Li(n);if(d!==1/0&&no(g,h,i)>=d)return d;if(Dl(g,h)){if(Oa(u,n))return 0}else if(Oa(n,u))return 0;let v=d;for(const S of u)for(let T=0,A=S.length,b=A-1;T<A;b=T++)for(const P of n)for(let $=0,M=P.length,O=M-1;$<M;O=$++){if(aa(S[b],S[T],P[O],P[$]))return 0;v=Math.min(v,Go(S[b],S[T],P[O],P[$],i))}return v}function Xa(u,n,i,d,g,h,v){if(h===null||v===null)return;const S=no(Fr(d,h),Fr(g,v),i);S<n&&u.push({dist:S,range1:h,range2:v})}function is(u,n,i,d,g=1/0){let h=Math.min(d.distance(u[0],i[0][0]),g);if(h===0)return h;const v=new gl([{dist:0,range1:[0,u.length-1],range2:[0,0]}],ju),S=n?Yc:ld,T=Li(i);for(;v.length;){const A=v.pop();if(A.dist>=h)continue;const b=A.range1;if(wn(b)<=S){if(!jn(b,u.length))return NaN;if(n){const P=es(u,b,i,d);if((h=Math.min(h,P))===0)return h}else for(let P=b[0];P<=b[1];++P){const $=Pa(u[P],i,d);if((h=Math.min(h,$))===0)return h}}else{const P=rr(b,n);if(P[0]!==null){const $=no(Fr(u,P[0]),T,d);$<h&&v.push({dist:$,range1:P[0],range2:[0,0]})}if(P[1]!==null){const $=no(Fr(u,P[1]),T,d);$<h&&v.push({dist:$,range1:P[1],range2:[0,0]})}}}return h}function ns(u,n,i,d,g,h=1/0){let v=Math.min(h,g.distance(u[0],i[0]));if(v===0)return v;const S=new gl([{dist:0,range1:[0,u.length-1],range2:[0,i.length-1]}],ju),T=n?Yc:ld,A=d?Yc:ld;for(;S.length;){const b=S.pop();if(b.dist>=v)continue;const P=b.range1,$=b.range2;if(wn(P)<=T&&wn($)<=A){if(!jn(P,u.length)||!jn($,i.length))return NaN;if(n&&d?v=Math.min(v,Ua(u,P,i,$,g)):n||d?n&&!d?v=Math.min(v,Mo(i,$,u,P,g)):!n&&d&&(v=Math.min(v,Mo(u,P,i,$,g))):v=Math.min(v,sa(u,P,i,$,g)),v===0)return v}else{const M=rr(P,n),O=rr($,d);Xa(S,v,g,u,i,M[0],O[0]),Xa(S,v,g,u,i,M[0],O[1]),Xa(S,v,g,u,i,M[1],O[0]),Xa(S,v,g,u,i,M[1],O[1])}}return v}function Wa(u,n,i,d,g=1/0){let h=g;const v=Fr(u,[0,u.length-1]);for(const S of i)if(!(h!==1/0&&no(v,Fr(S,[0,S.length-1]),d)>=h)&&(h=Math.min(h,ns(u,n,S,!0,d,h)),h===0))return h;return h}function Os(u,n,i,d,g=1/0){let h=g;const v=Fr(u,[0,u.length-1]);for(const S of i){if(h!==1/0&&no(v,Li(S),d)>=h)continue;const T=is(u,n,S,d,h);if(isNaN(T))return T;if((h=Math.min(h,T))===0)return h}return h}function sc(u){return u==="Point"||u==="MultiPoint"||u==="LineString"||u==="MultiLineString"||u==="Polygon"||u==="MultiPolygon"}class bl{constructor(n,i){this.type=Br,this.geojson=n,this.geometries=i}static parse(n,i){if(n.length!==2)return i.error(`'distance' expression requires either one argument, but found ' ${n.length-1} instead.`);if(yo(n[1])){const d=n[1];if(d.type==="FeatureCollection"){for(let g=0;g<d.features.length;++g)if(sc(d.features[g].geometry.type))return new bl(d,d.features[g].geometry)}else if(d.type==="Feature"){if(sc(d.geometry.type))return new bl(d,d.geometry)}else if(sc(d.type))return new bl(d,d)}return i.error("'distance' expression needs to be an array with format ['Distance', GeoJSONObj].")}evaluate(n){const i=n.geometry(),d=n.canonicalID();if(i!=null&&d!=null){if(n.geometryType()==="Point")return function(g,h,v){const S=[];for(const A of g)for(const b of A)S.push(Yi(b,h));const T=new vc(S[0][1],"meters");return v.type==="Point"||v.type==="MultiPoint"||v.type==="LineString"?ns(S,!1,v.type==="Point"?[v.coordinates]:v.coordinates,v.type==="LineString",T):v.type==="MultiLineString"?Wa(S,!1,v.coordinates,T):v.type==="Polygon"||v.type==="MultiPolygon"?Os(S,!1,v.type==="Polygon"?[v.coordinates]:v.coordinates,T):null}(i,d,this.geometries);if(n.geometryType()==="LineString")return function(g,h,v){const S=[];for(const A of g){const b=[];for(const P of A)b.push(Yi(P,h));S.push(b)}const T=new vc(S[0][0][1],"meters");if(v.type==="Point"||v.type==="MultiPoint"||v.type==="LineString")return Wa(v.type==="Point"?[v.coordinates]:v.coordinates,v.type==="LineString",S,T);if(v.type==="MultiLineString"){let A=1/0;for(let b=0;b<v.coordinates.length;b++){const P=Wa(v.coordinates[b],!0,S,T,A);if(isNaN(P))return P;if((A=Math.min(A,P))===0)return A}return A}if(v.type==="Polygon"||v.type==="MultiPolygon"){let A=1/0;for(let b=0;b<S.length;b++){const P=Os(S[b],!0,v.type==="Polygon"?[v.coordinates]:v.coordinates,T,A);if(isNaN(P))return P;if((A=Math.min(A,P))===0)return A}return A}return null}(i,d,this.geometries);if(n.geometryType()==="Polygon")return function(g,h,v){const S=[];for(const A of function(b,P){const $=b.length;if($<=1)return[b];const M=[];let O,N;for(let W=0;W<$;W++){const q=Al(b[W]);q!==0&&(b[W].area=Math.abs(q),N===void 0&&(N=q<0),N===q<0?(O&&M.push(O),O=[b[W]]):O.push(b[W]))}return O&&M.push(O),M}(g)){const b=[];for(let P=0;P<A.length;++P)b.push(Zi(A[P],h));S.push(b)}const T=new vc(S[0][0][0][1],"meters");if(v.type==="Point"||v.type==="MultiPoint"||v.type==="LineString")return Os(v.type==="Point"?[v.coordinates]:v.coordinates,v.type==="LineString",S,T);if(v.type==="MultiLineString"){let A=1/0;for(let b=0;b<v.coordinates.length;b++){const P=Os(v.coordinates[b],!0,S,T,A);if(isNaN(P))return P;if((A=Math.min(A,P))===0)return A}return A}return v.type==="Polygon"||v.type==="MultiPolygon"?function(A,b,P){let $=1/0;for(const M of A)for(const O of b){const N=qa(M,O,P,$);if(isNaN(N))return N;if(($=Math.min($,N))===0)return $}return $}(v.type==="Polygon"?[v.coordinates]:v.coordinates,S,T):null}(i,d,this.geometries);console.warn("Distance Expression: currently only evaluates valid Point/LineString/Polygon geometries.")}else console.warn("Distance Expression: requirs valid feature and canonical information.");return null}eachChild(){}outputDefined(){return!0}serialize(){return["distance",this.geojson]}}function lc(u,n){switch(u){case"string":return Ei(n);case"number":return+n;case"boolean":return!!n;case"color":return Fi.parse(n);case"formatted":return Mr.fromString(Ei(n));case"resolvedImage":return si.build(Ei(n))}return n}function Zu(u,n,i,d){return d!==void 0&&(u=d*Math.round(u/d)),n!==void 0&&u<n&&(u=n),i!==void 0&&u>i&&(u=i),u}class ql{constructor(n,i,d){this.type=n,this.key=i,this.scope=d}static parse(n,i){let d=i.expectedType;if(d==null&&(d=Ri),n.length<2||n.length>3)return i.error("Invalid number of arguments for 'config' expression.");const g=i.parse(n[1],1);if(!(g instanceof ni))return i.error("Key name of 'config' expression must be a string literal.");if(n.length>=3){const h=i.parse(n[2],2);return h instanceof ni?new ql(d,Ei(g.value),Ei(h.value)):i.error("Scope of 'config' expression must be a string literal.")}return new ql(d,Ei(g.value))}evaluate(n){const i=[this.key,this.scope,n.scope].filter(Boolean).join(""),d=n.getConfig(i);if(!d)return null;const{type:g,value:h,values:v,minValue:S,maxValue:T,stepValue:A}=d,b=d.default.evaluate(n);let P=b;if(h){const $=n.scope;n.scope=($||"").split("").slice(1).join(""),P=h.evaluate(n),n.scope=$}return g&&(P=lc(g,P)),P===void 0||S===void 0&&T===void 0&&A===void 0||(typeof P=="number"?P=Zu(P,S,T,A):Array.isArray(P)&&(P=P.map($=>typeof $=="number"?Zu($,S,T,A):$))),h!==void 0&&P!==void 0&&v&&!v.includes(P)&&(P=b,g&&(P=lc(g,P))),(g&&g!==this.type||P!==void 0&&yi(P)!==this.type)&&(P=lc(this.type.kind,P)),P}eachChild(){}outputDefined(){return!1}serialize(){const n=["config",this.key];return this.scope&&n.concat(this.key),n}}function Tl(u){if(u instanceof Ca&&(u.name==="get"&&u.args.length===1||u.name==="feature-state"||u.name==="has"&&u.args.length===1||u.name==="properties"||u.name==="geometry-type"||u.name==="id"||/^filter-/.test(u.name))||u instanceof Uo||u instanceof bl)return!1;let n=!0;return u.eachChild(i=>{n&&!Tl(i)&&(n=!1)}),n}function Zl(u){if(u instanceof Ca&&u.name==="feature-state")return!1;let n=!0;return u.eachChild(i=>{n&&!Zl(i)&&(n=!1)}),n}function yc(u){if(u instanceof ql)return new Set([u.key]);let n=new Set;return u.eachChild(i=>{n=new Set([...n,...yc(i)])}),n}function Jl(u,n){if(u instanceof Ca&&n.indexOf(u.name)>=0)return!1;let i=!0;return u.eachChild(d=>{i&&!Jl(d,n)&&(i=!1)}),i}class zl{constructor(n,i){this.type=i.type,this.name=n,this.boundExpression=i}static parse(n,i){if(n.length!==2||typeof n[1]!="string")return i.error("'var' expression requires exactly one string literal argument.");const d=n[1];return i.scope.has(d)?new zl(d,i.scope.get(d)):i.error(`Unknown variable "${d}". Make sure "${d}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(n){return this.boundExpression.evaluate(n)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}class Vl{constructor(n,i=[],d,g=new oa,h=[],v,S){this.registry=n,this.path=i,this.key=i.map(T=>typeof T=="string"?`['${T}']`:`[${T}]`).join(""),this.scope=g,this.errors=h,this.expectedType=d,this._scope=v,this.options=S}parse(n,i,d,g,h={}){return i||d?this.concat(i,null,d,g)._parse(n,h):this._parse(n,h)}parseObjectValue(n,i,d,g,h,v={}){return this.concat(i,d,g,h)._parse(n,v)}_parse(n,i){function d(g,h,v){return v==="assert"?new _o(h,[g]):v==="coerce"?new xa(h,[g]):g}if(n!==null&&typeof n!="string"&&typeof n!="boolean"&&typeof n!="number"||(n=["literal",n]),Array.isArray(n)){if(n.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const g=typeof n[0]=="string"?this.registry[n[0]]:void 0;if(g){let h=g.parse(n,this);if(!h)return null;if(this.expectedType){const v=this.expectedType,S=h.type;if(v.kind!=="string"&&v.kind!=="number"&&v.kind!=="boolean"&&v.kind!=="object"&&v.kind!=="array"||S.kind!=="value")if(v.kind!=="color"&&v.kind!=="formatted"&&v.kind!=="resolvedImage"||S.kind!=="value"&&S.kind!=="string"){if(this.checkSubtype(v,S))return null}else h=d(h,v,i.typeAnnotation||"coerce");else h=d(h,v,i.typeAnnotation||"assert")}if(!(h instanceof ni)&&h.type.kind!=="resolvedImage"&&qc(h)){const v=new ja(this._scope,this.options);try{h=new ni(h.type,h.evaluate(v))}catch(S){return this.error(S.message),null}}return h}return xa.parse(["to-array",n],this)}return this.error(n===void 0?"'undefined' value invalid. Use null instead.":typeof n=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof n} instead.`)}concat(n,i,d,g){let h=typeof n=="number"?this.path.concat(n):this.path;h=typeof i=="string"?h.concat(i):h;const v=g?this.scope.concat(g):this.scope;return new Vl(this.registry,h,d||null,v,this.errors,this._scope,this.options)}error(n,...i){const d=`${this.key}${i.map(g=>`[${g}]`).join("")}`;this.errors.push(new ci(d,n))}checkSubtype(n,i){const d=ze(n,i);return d&&this.error(d),d}}var Ql=Vl;function qc(u){if(u instanceof zl)return qc(u.boundExpression);if(u instanceof Ca&&u.name==="error"||u instanceof Ms||u instanceof Uo||u instanceof bl||u instanceof ql)return!1;const n=u instanceof xa||u instanceof _o;let i=!0;return u.eachChild(d=>{i=n?i&&qc(d):i&&d instanceof ni}),!!i&&Tl(u)&&Jl(u,["zoom","heatmap-density","line-progress","raster-value","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center","measure-light","raster-particle-speed"])}function Hl(u,n){const i=u.length-1;let d,g,h=0,v=i,S=0;for(;h<=v;)if(S=Math.floor((h+v)/2),d=u[S],g=u[S+1],d<=n){if(S===i||n<g)return S;h=S+1}else{if(!(d>n))throw new zi("Input is not a number.");v=S-1}return 0}class cc{constructor(n,i,d){this.type=n,this.input=i,this.labels=[],this.outputs=[];for(const[g,h]of d)this.labels.push(g),this.outputs.push(h)}static parse(n,i){if(n.length-1<4)return i.error(`Expected at least 4 arguments, but found only ${n.length-1}.`);if((n.length-1)%2!=0)return i.error("Expected an even number of arguments.");const d=i.parse(n[1],1,Br);if(!d)return null;const g=[];let h=null;i.expectedType&&i.expectedType.kind!=="value"&&(h=i.expectedType);for(let v=1;v<n.length;v+=2){const S=v===1?-1/0:n[v],T=n[v+1],A=v,b=v+1;if(typeof S!="number")return i.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',A);if(g.length&&g[g.length-1][0]>=S)return i.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',A);const P=i.parse(T,b,h);if(!P)return null;h=h||P.type,g.push([S,P])}return new cc(h,d,g)}evaluate(n){const i=this.labels,d=this.outputs;if(i.length===1)return d[0].evaluate(n);const g=this.input.evaluate(n);if(g<=i[0])return d[0].evaluate(n);const h=i.length;return g>=i[h-1]?d[h-1].evaluate(n):d[Hl(i,g)].evaluate(n)}eachChild(n){n(this.input);for(const i of this.outputs)n(i)}outputDefined(){return this.outputs.every(n=>n.outputDefined())}serialize(){const n=["step",this.input.serialize()];for(let i=0;i<this.labels.length;i++)i>0&&n.push(this.labels[i]),n.push(this.outputs[i].serialize());return n}}const ec=.95047,Ya=1.08883,sp=4/29,mu=6/29,Jh=3*mu*mu,Pd=mu*mu*mu,cd=Math.PI/180,Hs=180/Math.PI;function Vu(u){return u>Pd?Math.pow(u,1/3):u/Jh+sp}function Xf(u){return u>mu?u*u*u:Jh*(u-sp)}function Od(u){return 255*(u<=.0031308?12.92*u:1.055*Math.pow(u,1/2.4)-.055)}function of(u){return(u/=255)<=.04045?u/12.92:Math.pow((u+.055)/1.055,2.4)}function af(u){const n=of(u.r),i=of(u.g),d=of(u.b),g=Vu((.4124564*n+.3575761*i+.1804375*d)/ec),h=Vu((.2126729*n+.7151522*i+.072175*d)/1);return{l:116*h-16,a:500*(g-h),b:200*(h-Vu((.0193339*n+.119192*i+.9503041*d)/Ya)),alpha:u.a}}function sf(u){let n=(u.l+16)/116,i=isNaN(u.a)?n:n+u.a/500,d=isNaN(u.b)?n:n-u.b/200;return n=1*Xf(n),i=ec*Xf(i),d=Ya*Xf(d),new Fi(Od(3.2404542*i-1.5371385*n-.4985314*d),Od(-.969266*i+1.8760108*n+.041556*d),Od(.0556434*i-.2040259*n+1.0572252*d),u.alpha)}function Rd(u,n,i){const d=n-u;return u+i*(d>180||d<-180?d-360*Math.round(d/360):d)}const ud={forward:af,reverse:sf,interpolate:function(u,n,i){return{l:Rr(u.l,n.l,i),a:Rr(u.a,n.a,i),b:Rr(u.b,n.b,i),alpha:Rr(u.alpha,n.alpha,i)}}},$d={forward:function(u){const{l:n,a:i,b:d}=af(u),g=Math.atan2(d,i)*Hs;return{h:g<0?g+360:g,c:Math.sqrt(i*i+d*d),l:n,alpha:u.a}},reverse:function(u){const n=u.h*cd,i=u.c;return sf({l:u.l,a:Math.cos(n)*i,b:Math.sin(n)*i,alpha:u.alpha})},interpolate:function(u,n,i){return{h:Rd(u.h,n.h,i),c:Rr(u.c,n.c,i),l:Rr(u.l,n.l,i),alpha:Rr(u.alpha,n.alpha,i)}}};var Yf=Object.freeze({__proto__:null,hcl:$d,lab:ud});class Ul{constructor(n,i,d,g,h,v){this.type=n,this.operator=i,this.interpolation=d,this.input=g,this.dynamicStops=h,this.labels=[],this.outputs=[];for(const[S,T]of v)this.labels.push(S),this.outputs.push(T)}static interpolationFactor(n,i,d,g){let h=0;if(n.name==="exponential")h=qf(i,n.base,d,g);else if(n.name==="linear")h=qf(i,1,d,g);else if(n.name==="cubic-bezier"){const v=n.controlPoints;h=new Lr(v[0],v[1],v[2],v[3]).solve(qf(i,1,d,g))}return h}static parse(n,i){let[d,g,h,...v]=n;if(!Array.isArray(g)||g.length===0)return i.error("Expected an interpolation type expression.",1);if(g[0]==="linear")g={name:"linear"};else if(g[0]==="exponential"){const A=g[1];if(typeof A!="number")return i.error("Exponential interpolation requires a numeric base.",1,1);g={name:"exponential",base:A}}else{if(g[0]!=="cubic-bezier")return i.error(`Unknown interpolation type ${String(g[0])}`,1,0);{const A=g.slice(1);if(A.length!==4||A.some(b=>typeof b!="number"||b<0||b>1))return i.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);g={name:"cubic-bezier",controlPoints:A}}}if(n.length-1<3)return i.error(`Expected at least 3 arguments, but found only ${n.length-1}.`);if(n.length-1>3&&(n.length-1)%2!=0)return i.error("Expected an even number of arguments.");if(h=i.parse(h,2,Br),!h)return null;const S=[];let T=null;if(d==="interpolate-hcl"||d==="interpolate-lab"?T=Yo:i.expectedType&&i.expectedType.kind!=="value"&&(T=i.expectedType),n.length-1==3){const A=i.parse(v[0],3,Ri);return A?new Ul(T,d,g,h,A,S):null}for(let A=0;A<v.length;A+=2){const b=v[A],P=v[A+1],$=A+3,M=A+4;if(typeof b!="number")return i.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',$);if(S.length&&S[S.length-1][0]>=b)return i.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',$);const O=i.parse(P,M,T);if(!O)return null;T=T||O.type,S.push([b,O])}return T.kind==="number"||T.kind==="color"||T.kind==="array"&&T.itemType.kind==="number"&&typeof T.N=="number"?new Ul(T,d,g,h,null,S):i.error(`Type ${_e(T)} is not interpolatable.`)}evaluate(n){let i=this.labels,d=this.outputs;if(this.dynamicStops){const b=this.dynamicStops.evaluate(n);if(b.length%2!=0)throw new zi("Expected an even number of arguments.");i=[],d=[];for(let P=0;P<b.length;P+=2){const $=b[P],M=new ni(Br,b[P+1]);if(typeof $!="number")throw new zi('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.');if(i.length&&i[i.length-1]>=$)throw new zi('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.');i.push($),d.push(M)}if(i.length===0)throw new zi("Expected at least one input/output pair.")}if(i.length===1)return d[0].evaluate(n);const g=this.input.evaluate(n);if(g<=i[0])return d[0].evaluate(n);const h=i.length;if(g>=i[h-1])return d[h-1].evaluate(n);const v=Hl(i,g),S=Ul.interpolationFactor(this.interpolation,g,i[v],i[v+1]),T=d[v].evaluate(n),A=d[v+1].evaluate(n);return this.operator==="interpolate"?ea[this.type.kind.toLowerCase()](T,A,S):this.operator==="interpolate-hcl"?$d.reverse($d.interpolate($d.forward(T),$d.forward(A),S)):ud.reverse(ud.interpolate(ud.forward(T),ud.forward(A),S))}eachChild(n){n(this.input);for(const i of this.outputs)n(i)}outputDefined(){return this.outputs.every(n=>n.outputDefined())}serialize(){let n;n=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const i=[this.operator,n,this.input.serialize()];if(this.dynamicStops)i.push(this.dynamicStops.serialize());else for(let d=0;d<this.labels.length;d++)i.push(this.labels[d],this.outputs[d].serialize());return i}}function qf(u,n,i,d){const g=d-i,h=u-i;return g===0?0:n===1?h/g:(Math.pow(n,h)-1)/(Math.pow(n,g)-1)}class Ad{constructor(n,i){this.type=n,this.args=i}static parse(n,i){if(n.length<2)return i.error("Expectected at least one argument.");let d=null;const g=i.expectedType;g&&g.kind!=="value"&&(d=g);const h=[];for(const S of n.slice(1)){const T=i.parse(S,1+h.length,d,void 0,{typeAnnotation:"omit"});if(!T)return null;d=d||T.type,h.push(T)}const v=g&&h.some(S=>ze(g,S.type));return new Ad(v?Ri:d,h)}evaluate(n){let i,d=null,g=0;for(const h of this.args){if(g++,d=h.evaluate(n),d&&d instanceof si&&!d.available&&(i||(i=d),d=null,g===this.args.length))return i;if(d!==null)break}return d}eachChild(n){this.args.forEach(n)}outputDefined(){return this.args.every(n=>n.outputDefined())}serialize(){const n=["coalesce"];return this.eachChild(i=>{n.push(i.serialize())}),n}}class Jf{constructor(n,i){this.type=i.type,this.bindings=[].concat(n),this.result=i}evaluate(n){return this.result.evaluate(n)}eachChild(n){for(const i of this.bindings)n(i[1]);n(this.result)}static parse(n,i){if(n.length<4)return i.error(`Expected at least 3 arguments, but found ${n.length-1} instead.`);const d=[];for(let h=1;h<n.length-1;h+=2){const v=n[h];if(typeof v!="string")return i.error(`Expected string, but found ${typeof v} instead.`,h);if(/[^a-zA-Z0-9_]/.test(v))return i.error("Variable names must contain only alphanumeric characters or '_'.",h);const S=i.parse(n[h+1],h+1);if(!S)return null;d.push([v,S])}const g=i.parse(n[n.length-1],n.length-1,i.expectedType,d);return g?new Jf(d,g):null}outputDefined(){return this.result.outputDefined()}serialize(){const n=["let"];for(const[i,d]of this.bindings)n.push(i,d.serialize());return n.push(this.result.serialize()),n}}class Qf{constructor(n,i,d){this.type=n,this.index=i,this.input=d}static parse(n,i){if(n.length!==3)return i.error(`Expected 2 arguments, but found ${n.length-1} instead.`);const d=i.parse(n[1],1,Br),g=i.parse(n[2],2,Ge(i.expectedType||Ri));return d&&g?new Qf(g.type.itemType,d,g):null}evaluate(n){const i=this.index.evaluate(n),d=this.input.evaluate(n);if(i<0)throw new zi(`Array index out of bounds: ${i} < 0.`);if(i>d.length-1)throw new zi(`Array index out of bounds: ${i} > ${d.length-1}.`);if(i===Math.floor(i))return d[i];const g=Math.floor(i),h=Math.ceil(i),v=d[g],S=d[h];if(typeof v!="number"||typeof S!="number")throw new zi(`Cannot interpolate between non-number values at index ${i}.`);const T=i-g;return v*(1-T)+S*T}eachChild(n){n(this.index),n(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}class eh{constructor(n,i){this.type=No,this.needle=n,this.haystack=i}static parse(n,i){if(n.length!==3)return i.error(`Expected 2 arguments, but found ${n.length-1} instead.`);const d=i.parse(n[1],1,Ri),g=i.parse(n[2],2,Ri);return d&&g?At(d.type,[No,oo,Br,Ta,Ri])?new eh(d,g):i.error(`Expected first argument to be of type boolean, string, number or null, but found ${_e(d.type)} instead`):null}evaluate(n){const i=this.needle.evaluate(n),d=this.haystack.evaluate(n);if(d==null)return!1;if(!an(i,["boolean","string","number","null"]))throw new zi(`Expected first argument to be of type boolean, string, number or null, but found ${_e(yi(i))} instead.`);if(!an(d,["string","array"]))throw new zi(`Expected second argument to be of type array or string, but found ${_e(yi(d))} instead.`);return d.indexOf(i)>=0}eachChild(n){n(this.needle),n(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}class th{constructor(n,i,d){this.type=Br,this.needle=n,this.haystack=i,this.fromIndex=d}static parse(n,i){if(n.length<=2||n.length>=5)return i.error(`Expected 3 or 4 arguments, but found ${n.length-1} instead.`);const d=i.parse(n[1],1,Ri),g=i.parse(n[2],2,Ri);if(!d||!g)return null;if(!At(d.type,[No,oo,Br,Ta,Ri]))return i.error(`Expected first argument to be of type boolean, string, number or null, but found ${_e(d.type)} instead`);if(n.length===4){const h=i.parse(n[3],3,Br);return h?new th(d,g,h):null}return new th(d,g)}evaluate(n){const i=this.needle.evaluate(n),d=this.haystack.evaluate(n);if(!an(i,["boolean","string","number","null"]))throw new zi(`Expected first argument to be of type boolean, string, number or null, but found ${_e(yi(i))} instead.`);if(!an(d,["string","array"]))throw new zi(`Expected second argument to be of type array or string, but found ${_e(yi(d))} instead.`);if(this.fromIndex){const g=this.fromIndex.evaluate(n);return d.indexOf(i,g)}return d.indexOf(i)}eachChild(n){n(this.needle),n(this.haystack),this.fromIndex&&n(this.fromIndex)}outputDefined(){return!1}serialize(){if(this.fromIndex!=null&&this.fromIndex!==void 0){const n=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),n]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}class nh{constructor(n,i,d,g,h,v){this.inputType=n,this.type=i,this.input=d,this.cases=g,this.outputs=h,this.otherwise=v}static parse(n,i){if(n.length<5)return i.error(`Expected at least 4 arguments, but found only ${n.length-1}.`);if(n.length%2!=1)return i.error("Expected an even number of arguments.");let d,g;i.expectedType&&i.expectedType.kind!=="value"&&(g=i.expectedType);const h={},v=[];for(let A=2;A<n.length-1;A+=2){let b=n[A];const P=n[A+1];Array.isArray(b)||(b=[b]);const $=i.concat(A);if(b.length===0)return $.error("Expected at least one branch label.");for(const O of b){if(typeof O!="number"&&typeof O!="string")return $.error("Branch labels must be numbers or strings.");if(typeof O=="number"&&Math.abs(O)>Number.MAX_SAFE_INTEGER)return $.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof O=="number"&&Math.floor(O)!==O)return $.error("Numeric branch labels must be integer values.");if(d){if($.checkSubtype(d,yi(O)))return null}else d=yi(O);if(h[String(O)]!==void 0)return $.error("Branch labels must be unique.");h[String(O)]=v.length}const M=i.parse(P,A,g);if(!M)return null;g=g||M.type,v.push(M)}const S=i.parse(n[1],1,Ri);if(!S)return null;const T=i.parse(n[n.length-1],n.length-1,g);return T?S.type.kind!=="value"&&i.concat(1).checkSubtype(d,S.type)?null:new nh(d,g,S,h,v,T):null}evaluate(n){const i=this.input.evaluate(n);return(yi(i)===this.inputType&&this.outputs[this.cases[i]]||this.otherwise).evaluate(n)}eachChild(n){n(this.input),this.outputs.forEach(n),n(this.otherwise)}outputDefined(){return this.outputs.every(n=>n.outputDefined())&&this.otherwise.outputDefined()}serialize(){const n=["match",this.input.serialize()],i=Object.keys(this.cases).sort(),d=[],g={};for(const v of i){const S=g[this.cases[v]];S===void 0?(g[this.cases[v]]=d.length,d.push([this.cases[v],[v]])):d[S][1].push(v)}const h=v=>this.inputType.kind==="number"?Number(v):v;for(const[v,S]of d)n.push(S.length===1?h(S[0]):S.map(h)),n.push(this.outputs[v].serialize());return n.push(this.otherwise.serialize()),n}}class Mu{constructor(n,i,d){this.type=n,this.branches=i,this.otherwise=d}static parse(n,i){if(n.length<4)return i.error(`Expected at least 3 arguments, but found only ${n.length-1}.`);if(n.length%2!=0)return i.error("Expected an odd number of arguments.");let d;i.expectedType&&i.expectedType.kind!=="value"&&(d=i.expectedType);const g=[];for(let v=1;v<n.length-1;v+=2){const S=i.parse(n[v],v,No);if(!S)return null;const T=i.parse(n[v+1],v+1,d);if(!T)return null;g.push([S,T]),d=d||T.type}const h=i.parse(n[n.length-1],n.length-1,d);return h?new Mu(d,g,h):null}evaluate(n){for(const[i,d]of this.branches)if(i.evaluate(n))return d.evaluate(n);return this.otherwise.evaluate(n)}eachChild(n){for(const[i,d]of this.branches)n(i),n(d);n(this.otherwise)}outputDefined(){return this.branches.every(([n,i])=>i.outputDefined())&&this.otherwise.outputDefined()}serialize(){const n=["case"];return this.eachChild(i=>{n.push(i.serialize())}),n}}class Dd{constructor(n,i,d,g){this.type=n,this.input=i,this.beginIndex=d,this.endIndex=g}static parse(n,i){if(n.length<=2||n.length>=5)return i.error(`Expected 3 or 4 arguments, but found ${n.length-1} instead.`);const d=i.parse(n[1],1,Ri),g=i.parse(n[2],2,Br);if(!d||!g)return null;if(!At(d.type,[Ge(Ri),oo,Ri]))return i.error(`Expected first argument to be of type array or string, but found ${_e(d.type)} instead`);if(n.length===4){const h=i.parse(n[3],3,Br);return h?new Dd(d.type,d,g,h):null}return new Dd(d.type,d,g)}evaluate(n){const i=this.input.evaluate(n),d=this.beginIndex.evaluate(n);if(!an(i,["string","array"]))throw new zi(`Expected first argument to be of type array or string, but found ${_e(yi(i))} instead.`);if(this.endIndex){const g=this.endIndex.evaluate(n);return i.slice(d,g)}return i.slice(d)}eachChild(n){n(this.input),n(this.beginIndex),this.endIndex&&n(this.endIndex)}outputDefined(){return!1}serialize(){if(this.endIndex!=null&&this.endIndex!==void 0){const n=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),n]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}function lp(u,n){return u==="=="||u==="!="?n.kind==="boolean"||n.kind==="string"||n.kind==="number"||n.kind==="null"||n.kind==="value":n.kind==="string"||n.kind==="number"||n.kind==="value"}function rh(u,n,i,d){return d.compare(n,i)===0}function Hu(u,n,i){const d=u!=="=="&&u!=="!=";return class cT{constructor(h,v,S){this.type=No,this.lhs=h,this.rhs=v,this.collator=S,this.hasUntypedArgument=h.type.kind==="value"||v.type.kind==="value"}static parse(h,v){if(h.length!==3&&h.length!==4)return v.error("Expected two or three arguments.");const S=h[0];let T=v.parse(h[1],1,Ri);if(!T)return null;if(!lp(S,T.type))return v.concat(1).error(`"${S}" comparisons are not supported for type '${_e(T.type)}'.`);let A=v.parse(h[2],2,Ri);if(!A)return null;if(!lp(S,A.type))return v.concat(2).error(`"${S}" comparisons are not supported for type '${_e(A.type)}'.`);if(T.type.kind!==A.type.kind&&T.type.kind!=="value"&&A.type.kind!=="value")return v.error(`Cannot compare types '${_e(T.type)}' and '${_e(A.type)}'.`);d&&(T.type.kind==="value"&&A.type.kind!=="value"?T=new _o(A.type,[T]):T.type.kind!=="value"&&A.type.kind==="value"&&(A=new _o(T.type,[A])));let b=null;if(h.length===4){if(T.type.kind!=="string"&&A.type.kind!=="string"&&T.type.kind!=="value"&&A.type.kind!=="value")return v.error("Cannot use collator to compare non-string types.");if(b=v.parse(h[3],3,fa),!b)return null}return new cT(T,A,b)}evaluate(h){const v=this.lhs.evaluate(h),S=this.rhs.evaluate(h);if(d&&this.hasUntypedArgument){const T=yi(v),A=yi(S);if(T.kind!==A.kind||T.kind!=="string"&&T.kind!=="number")throw new zi(`Expected arguments for "${u}" to be (string, string) or (number, number), but found (${T.kind}, ${A.kind}) instead.`)}if(this.collator&&!d&&this.hasUntypedArgument){const T=yi(v),A=yi(S);if(T.kind!=="string"||A.kind!=="string")return n(h,v,S)}return this.collator?i(h,v,S,this.collator.evaluate(h)):n(h,v,S)}eachChild(h){h(this.lhs),h(this.rhs),this.collator&&h(this.collator)}outputDefined(){return!0}serialize(){const h=[u];return this.eachChild(v=>{h.push(v.serialize())}),h}}}const ih=Hu("==",function(u,n,i){return n===i},rh),cp=Hu("!=",function(u,n,i){return n!==i},function(u,n,i,d){return!rh(0,n,i,d)}),up=Hu("<",function(u,n,i){return n<i},function(u,n,i,d){return d.compare(n,i)<0}),dp=Hu(">",function(u,n,i){return n>i},function(u,n,i,d){return d.compare(n,i)>0}),oh=Hu("<=",function(u,n,i){return n<=i},function(u,n,i,d){return d.compare(n,i)<=0}),Qh=Hu(">=",function(u,n,i){return n>=i},function(u,n,i,d){return d.compare(n,i)>=0});class ah{constructor(n,i,d,g,h,v){this.type=oo,this.number=n,this.locale=i,this.currency=d,this.unit=g,this.minFractionDigits=h,this.maxFractionDigits=v}static parse(n,i){if(n.length!==3)return i.error("Expected two arguments.");const d=i.parse(n[1],1,Br);if(!d)return null;const g=n[2];if(typeof g!="object"||Array.isArray(g))return i.error("NumberFormat options argument must be an object.");let h=null;if(g.locale&&(h=i.parseObjectValue(g.locale,2,"locale",oo),!h))return null;let v=null;if(g.currency&&(v=i.parseObjectValue(g.currency,2,"currency",oo),!v))return null;let S=null;if(g.unit&&(S=i.parseObjectValue(g.unit,2,"unit",oo),!S))return null;let T=null;if(g["min-fraction-digits"]&&(T=i.parseObjectValue(g["min-fraction-digits"],2,"min-fraction-digits",Br),!T))return null;let A=null;return g["max-fraction-digits"]&&(A=i.parseObjectValue(g["max-fraction-digits"],2,"max-fraction-digits",Br),!A)?null:new ah(d,h,v,S,T,A)}evaluate(n){return new Intl.NumberFormat(this.locale?this.locale.evaluate(n):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(n):void 0,unit:this.unit?this.unit.evaluate(n):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(n):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(n):void 0}).format(this.number.evaluate(n))}eachChild(n){n(this.number),this.locale&&n(this.locale),this.currency&&n(this.currency),this.unit&&n(this.unit),this.minFractionDigits&&n(this.minFractionDigits),this.maxFractionDigits&&n(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const n={};return this.locale&&(n.locale=this.locale.serialize()),this.currency&&(n.currency=this.currency.serialize()),this.unit&&(n.unit=this.unit.serialize()),this.minFractionDigits&&(n["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(n["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),n]}}class sh{constructor(n){this.type=Br,this.input=n}static parse(n,i){if(n.length!==2)return i.error(`Expected 1 argument, but found ${n.length-1} instead.`);const d=i.parse(n[1],1);return d?d.type.kind!=="array"&&d.type.kind!=="string"&&d.type.kind!=="value"?i.error(`Expected argument of type string or array, but found ${_e(d.type)} instead.`):new sh(d):null}evaluate(n){const i=this.input.evaluate(n);if(typeof i=="string"||Array.isArray(i))return i.length;throw new zi(`Expected value to be of type string or array, but found ${_e(yi(i))} instead.`)}eachChild(n){n(this.input)}outputDefined(){return!1}serialize(){const n=["length"];return this.eachChild(i=>{n.push(i.serialize())}),n}}function pu(u){return function(){u=1831565813+(u|=0)|0;let n=Math.imul(u^u>>>15,1|u);return n=n+Math.imul(n^n>>>7,61|n)^n,((n^n>>>14)>>>0)/4294967296}}const gn={"==":ih,"!=":cp,">":dp,"<":up,">=":Qh,"<=":oh,array:_o,at:Qf,boolean:_o,case:Mu,coalesce:Ad,collator:Ms,format:na,image:ua,in:eh,"index-of":th,interpolate:Ul,"interpolate-hcl":Ul,"interpolate-lab":Ul,length:sh,let:Jf,literal:ni,match:nh,number:_o,"number-format":ah,object:_o,slice:Dd,step:cc,string:_o,"to-boolean":xa,"to-color":xa,"to-number":xa,"to-string":xa,var:zl,within:Uo,distance:bl,config:ql};function Tr(u,[n,i,d,g]){n=n.evaluate(u),i=i.evaluate(u),d=d.evaluate(u);const h=g?g.evaluate(u):1,v=wi(n,i,d,h);if(v)throw new zi(v);return new Fi(n/255*h,i/255*h,d/255*h,h)}function Wi(u,[n,i,d,g]){n=n.evaluate(u),i=i.evaluate(u),d=d.evaluate(u);const h=g?g.evaluate(u):1,v=function(A,b,P,$){return typeof A=="number"&&A>=0&&A<=360?typeof b=="number"&&b>=0&&b<=100&&typeof P=="number"&&P>=0&&P<=100?$===void 0||typeof $=="number"&&$>=0&&$<=1?null:`Invalid hsla value [${[A,b,P,$].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid hsla value [${(typeof $=="number"?[A,b,P,$]:[A,b,P]).join(", ")}]: 's', and 'l' must be between 0 and 100.`:`Invalid hsla value [${(typeof $=="number"?[A,b,P,$]:[A,b,P]).join(", ")}]: 'h' must be between 0 and 360.`}(n,i,d,h);if(v)throw new zi(v);const S=`hsla(${n}, ${i}%, ${d}%, ${h})`,T=Fi.parse(S);if(!T)throw new zi(`Failed to parse HSLA color: ${S}`);return T}function ha(u,n){return u in n}function el(u,n){const i=n[u];return i===void 0?null:i}function os(u){return{type:u}}function xl(u){return{result:"success",value:u}}function Us(u){return{result:"error",value:u}}function tc(u,n){return!!u&&!!u.parameters&&u.parameters.indexOf(n)>-1}function tl(u){return u["property-type"]==="data-driven"}function Zc(u){return tc(u.expression,"measure-light")}function _c(u){return tc(u.expression,"zoom")}function Pl(u){return!!u.expression&&u.expression.interpolated}function Jc(u){return typeof u=="object"&&u!==null&&!Array.isArray(u)}function bc(u){return u}function Lc(u,n){const i=n.type==="color",d=u.stops&&typeof u.stops[0][0]=="object",g=d||!(d||u.property!==void 0),h=u.type||(Pl(n)?"exponential":"interval");if(i&&((u=Na({},u)).stops&&(u.stops=u.stops.map(A=>[A[0],Fi.parse(A[1])])),u.default=Fi.parse(u.default?u.default:n.default)),u.colorSpace&&u.colorSpace!=="rgb"&&!Yf[u.colorSpace])throw new Error(`Unknown color space: ${u.colorSpace}`);let v,S,T;if(h==="exponential")v=lf;else if(h==="interval")v=ou;else if(h==="categorical"){v=iu,S=Object.create(null);for(const A of u.stops)S[A[0]]=A[1];T=typeof u.stops[0][0]}else{if(h!=="identity")throw new Error(`Unknown function type "${h}"`);v=dd}if(d){const A={},b=[];for(let M=0;M<u.stops.length;M++){const O=u.stops[M],N=O[0].zoom;A[N]===void 0&&(A[N]={zoom:N,type:u.type,property:u.property,default:u.default,stops:[]},b.push(N)),A[N].stops.push([O[0].value,O[1]])}const P=[];for(const M of b)P.push([A[M].zoom,Lc(A[M],n)]);const $={name:"linear"};return{kind:"composite",interpolationType:$,interpolationFactor:Ul.interpolationFactor.bind(void 0,$),zoomStops:P.map(M=>M[0]),evaluate:({zoom:M},O)=>lf({stops:P,base:u.base},n,M).evaluate(M,O)}}if(g){const A=h==="exponential"?{name:"exponential",base:u.base!==void 0?u.base:1}:null;return{kind:"camera",interpolationType:A,interpolationFactor:Ul.interpolationFactor.bind(void 0,A),zoomStops:u.stops.map(b=>b[0]),evaluate:({zoom:b})=>v(u,n,b,S,T)}}return{kind:"source",evaluate(A,b){const P=b&&b.properties?b.properties[u.property]:void 0;return P===void 0?Nc(u.default,n.default):v(u,n,P,S,T)}}}function Nc(u,n,i){return u!==void 0?u:n!==void 0?n:i!==void 0?i:void 0}function iu(u,n,i,d,g){return Nc(typeof i===g?d[i]:void 0,u.default,n.default)}function ou(u,n,i){if(Ea(i)!=="number")return Nc(u.default,n.default);const d=u.stops.length;if(d===1||i<=u.stops[0][0])return u.stops[0][1];if(i>=u.stops[d-1][0])return u.stops[d-1][1];const g=Hl(u.stops.map(h=>h[0]),i);return u.stops[g][1]}function lf(u,n,i){const d=u.base!==void 0?u.base:1;if(Ea(i)!=="number")return Nc(u.default,n.default);const g=u.stops.length;if(g===1||i<=u.stops[0][0])return u.stops[0][1];if(i>=u.stops[g-1][0])return u.stops[g-1][1];const h=Hl(u.stops.map(b=>b[0]),i),v=function(b,P,$,M){const O=M-$,N=b-$;return O===0?0:P===1?N/O:(Math.pow(P,N)-1)/(Math.pow(P,O)-1)}(i,d,u.stops[h][0],u.stops[h+1][0]),S=u.stops[h][1],T=u.stops[h+1][1];let A=ea[n.type]||bc;if(u.colorSpace&&u.colorSpace!=="rgb"){const b=Yf[u.colorSpace];A=(P,$)=>b.reverse(b.interpolate(b.forward(P),b.forward($),v))}return typeof S.evaluate=="function"?{evaluate(...b){const P=S.evaluate.apply(void 0,b),$=T.evaluate.apply(void 0,b);if(P!==void 0&&$!==void 0)return A(P,$,v)}}:A(S,T,v)}function dd(u,n,i){return n.type==="color"?i=Fi.parse(i):n.type==="formatted"?i=Mr.fromString(i.toString()):n.type==="resolvedImage"?i=si.build(i.toString()):Ea(i)===n.type||n.type==="enum"&&n.values[i]||(i=void 0),Nc(i,u.default,n.default)}Ca.register(gn,{error:[{kind:"error"},[oo],(u,[n])=>{throw new zi(n.evaluate(u))}],typeof:[oo,[Ri],(u,[n])=>_e(yi(n.evaluate(u)))],"to-rgba":[Ge(Br,4),[Yo],(u,[n])=>n.evaluate(u).toRenderColor(null).toArray()],"to-hsla":[Ge(Br,4),[Yo],(u,[n])=>n.evaluate(u).toRenderColor(null).toHslaArray()],rgb:[Yo,[Br,Br,Br],Tr],rgba:[Yo,[Br,Br,Br,Br],Tr],hsl:[Yo,[Br,Br,Br],Wi],hsla:[Yo,[Br,Br,Br,Br],Wi],has:{type:No,overloads:[[[oo],(u,[n])=>ha(n.evaluate(u),u.properties())],[[oo,uo],(u,[n,i])=>ha(n.evaluate(u),i.evaluate(u))]]},get:{type:Ri,overloads:[[[oo],(u,[n])=>el(n.evaluate(u),u.properties())],[[oo,uo],(u,[n,i])=>el(n.evaluate(u),i.evaluate(u))]]},"feature-state":[Ri,[oo],(u,[n])=>el(n.evaluate(u),u.featureState||{})],properties:[uo,[],u=>u.properties()],"geometry-type":[oo,[],u=>u.geometryType()],id:[Ri,[],u=>u.id()],zoom:[Br,[],u=>u.globals.zoom],pitch:[Br,[],u=>u.globals.pitch||0],"distance-from-center":[Br,[],u=>u.distanceFromCenter()],"measure-light":[Br,[oo],(u,[n])=>u.measureLight(n.evaluate(u))],"heatmap-density":[Br,[],u=>u.globals.heatmapDensity||0],"line-progress":[Br,[],u=>u.globals.lineProgress||0],"raster-value":[Br,[],u=>u.globals.rasterValue||0],"raster-particle-speed":[Br,[],u=>u.globals.rasterParticleSpeed||0],"sky-radial-progress":[Br,[],u=>u.globals.skyRadialProgress||0],accumulated:[Ri,[],u=>u.globals.accumulated===void 0?null:u.globals.accumulated],"+":[Br,os(Br),(u,n)=>{let i=0;for(const d of n)i+=d.evaluate(u);return i}],"*":[Br,os(Br),(u,n)=>{let i=1;for(const d of n)i*=d.evaluate(u);return i}],"-":{type:Br,overloads:[[[Br,Br],(u,[n,i])=>n.evaluate(u)-i.evaluate(u)],[[Br],(u,[n])=>-n.evaluate(u)]]},"/":[Br,[Br,Br],(u,[n,i])=>n.evaluate(u)/i.evaluate(u)],"%":[Br,[Br,Br],(u,[n,i])=>n.evaluate(u)%i.evaluate(u)],ln2:[Br,[],()=>Math.LN2],pi:[Br,[],()=>Math.PI],e:[Br,[],()=>Math.E],"^":[Br,[Br,Br],(u,[n,i])=>Math.pow(n.evaluate(u),i.evaluate(u))],sqrt:[Br,[Br],(u,[n])=>Math.sqrt(n.evaluate(u))],log10:[Br,[Br],(u,[n])=>Math.log(n.evaluate(u))/Math.LN10],ln:[Br,[Br],(u,[n])=>Math.log(n.evaluate(u))],log2:[Br,[Br],(u,[n])=>Math.log(n.evaluate(u))/Math.LN2],sin:[Br,[Br],(u,[n])=>Math.sin(n.evaluate(u))],cos:[Br,[Br],(u,[n])=>Math.cos(n.evaluate(u))],tan:[Br,[Br],(u,[n])=>Math.tan(n.evaluate(u))],asin:[Br,[Br],(u,[n])=>Math.asin(n.evaluate(u))],acos:[Br,[Br],(u,[n])=>Math.acos(n.evaluate(u))],atan:[Br,[Br],(u,[n])=>Math.atan(n.evaluate(u))],min:[Br,os(Br),(u,n)=>Math.min(...n.map(i=>i.evaluate(u)))],max:[Br,os(Br),(u,n)=>Math.max(...n.map(i=>i.evaluate(u)))],abs:[Br,[Br],(u,[n])=>Math.abs(n.evaluate(u))],round:[Br,[Br],(u,[n])=>{const i=n.evaluate(u);return i<0?-Math.round(-i):Math.round(i)}],floor:[Br,[Br],(u,[n])=>Math.floor(n.evaluate(u))],ceil:[Br,[Br],(u,[n])=>Math.ceil(n.evaluate(u))],"filter-==":[No,[oo,Ri],(u,[n,i])=>u.properties()[n.value]===i.value],"filter-id-==":[No,[Ri],(u,[n])=>u.id()===n.value],"filter-type-==":[No,[oo],(u,[n])=>u.geometryType()===n.value],"filter-<":[No,[oo,Ri],(u,[n,i])=>{const d=u.properties()[n.value],g=i.value;return typeof d==typeof g&&d<g}],"filter-id-<":[No,[Ri],(u,[n])=>{const i=u.id(),d=n.value;return typeof i==typeof d&&i<d}],"filter->":[No,[oo,Ri],(u,[n,i])=>{const d=u.properties()[n.value],g=i.value;return typeof d==typeof g&&d>g}],"filter-id->":[No,[Ri],(u,[n])=>{const i=u.id(),d=n.value;return typeof i==typeof d&&i>d}],"filter-<=":[No,[oo,Ri],(u,[n,i])=>{const d=u.properties()[n.value],g=i.value;return typeof d==typeof g&&d<=g}],"filter-id-<=":[No,[Ri],(u,[n])=>{const i=u.id(),d=n.value;return typeof i==typeof d&&i<=d}],"filter->=":[No,[oo,Ri],(u,[n,i])=>{const d=u.properties()[n.value],g=i.value;return typeof d==typeof g&&d>=g}],"filter-id->=":[No,[Ri],(u,[n])=>{const i=u.id(),d=n.value;return typeof i==typeof d&&i>=d}],"filter-has":[No,[Ri],(u,[n])=>n.value in u.properties()],"filter-has-id":[No,[],u=>u.id()!==null&&u.id()!==void 0],"filter-type-in":[No,[Ge(oo)],(u,[n])=>n.value.indexOf(u.geometryType())>=0],"filter-id-in":[No,[Ge(Ri)],(u,[n])=>n.value.indexOf(u.id())>=0],"filter-in-small":[No,[oo,Ge(Ri)],(u,[n,i])=>i.value.indexOf(u.properties()[n.value])>=0],"filter-in-large":[No,[oo,Ge(Ri)],(u,[n,i])=>function(d,g,h,v){for(;h<=v;){const S=h+v>>1;if(g[S]===d)return!0;g[S]>d?v=S-1:h=S+1}return!1}(u.properties()[n.value],i.value,0,i.value.length-1)],all:{type:No,overloads:[[[No,No],(u,[n,i])=>n.evaluate(u)&&i.evaluate(u)],[os(No),(u,n)=>{for(const i of n)if(!i.evaluate(u))return!1;return!0}]]},any:{type:No,overloads:[[[No,No],(u,[n,i])=>n.evaluate(u)||i.evaluate(u)],[os(No),(u,n)=>{for(const i of n)if(i.evaluate(u))return!0;return!1}]]},"!":[No,[No],(u,[n])=>!n.evaluate(u)],"is-supported-script":[No,[oo],(u,[n])=>{const i=u.globals&&u.globals.isSupportedScript;return!i||i(n.evaluate(u))}],upcase:[oo,[oo],(u,[n])=>n.evaluate(u).toUpperCase()],downcase:[oo,[oo],(u,[n])=>n.evaluate(u).toLowerCase()],concat:[oo,os(Ri),(u,n)=>n.map(i=>Ei(i.evaluate(u))).join("")],"resolved-locale":[oo,[fa],(u,[n])=>n.evaluate(u).resolvedLocale()],random:[Br,[Br,Br,Ri],(u,n)=>{const[i,d,g]=n.map(v=>v.evaluate(u));if(i>d||i===d)return i;let h;if(typeof g=="string")h=function(v){let S=0;if(v.length===0)return S;for(let T=0;T<v.length;T++)S=(S<<5)-S+v.charCodeAt(T),S|=0;return S}(g);else{if(typeof g!="number")throw new zi(`Invalid seed input: ${g}`);h=g}return i+pu(h)()*(d-i)}]});class Uu{constructor(n,i,d,g){this.expression=n,this._warningHistory={},this._evaluator=new ja(d,g),this._defaultValue=i?function(h){return h.type==="color"&&(Jc(h.default)||Array.isArray(h.default))?new Fi(0,0,0,0):h.type==="color"?Fi.parse(h.default)||null:h.default===void 0?null:h.default}(i):null,this._enumValues=i&&i.type==="enum"?i.values:null,this.configDependencies=yc(n)}evaluateWithoutErrorHandling(n,i,d,g,h,v,S,T){return this._evaluator.globals=n,this._evaluator.feature=i,this._evaluator.featureState=d,this._evaluator.canonical=g||null,this._evaluator.availableImages=h||null,this._evaluator.formattedSection=v,this._evaluator.featureTileCoord=S||null,this._evaluator.featureDistanceData=T||null,this.expression.evaluate(this._evaluator)}evaluate(n,i,d,g,h,v,S,T){this._evaluator.globals=n,this._evaluator.feature=i||null,this._evaluator.featureState=d||null,this._evaluator.canonical=g||null,this._evaluator.availableImages=h||null,this._evaluator.formattedSection=v||null,this._evaluator.featureTileCoord=S||null,this._evaluator.featureDistanceData=T||null;try{const A=this.expression.evaluate(this._evaluator);if(A==null||typeof A=="number"&&A!=A)return this._defaultValue;if(this._enumValues&&!(A in this._enumValues))throw new zi(`Expected value to be one of ${Object.keys(this._enumValues).map(b=>JSON.stringify(b)).join(", ")}, but found ${JSON.stringify(A)} instead.`);return A}catch(A){return this._warningHistory[A.message]||(this._warningHistory[A.message]=!0,typeof console!="undefined"&&console.warn(`Failed to evaluate expression "${JSON.stringify(this.expression.serialize())}". ${A.message}`)),this._defaultValue}}}function cf(u){return Array.isArray(u)&&u.length>0&&typeof u[0]=="string"&&u[0]in gn}function uf(u,n,i,d){const g=new Ql(gn,[],n?function(v){const S={color:Yo,string:oo,number:Br,enum:oo,boolean:No,formatted:ko,resolvedImage:rn};return v.type==="array"?Ge(S[v.value]||Ri,v.length):S[v.type]}(n):void 0,void 0,void 0,i,d),h=g.parse(u,void 0,void 0,void 0,n&&n.type==="string"?{typeAnnotation:"coerce"}:void 0);return h?xl(new Uu(h,n,i,d)):Us(g.errors)}class lh{constructor(n,i,d,g){this.kind=n,this._styleExpression=i,this.isLightConstant=d,this.isLineProgressConstant=g,this.isStateDependent=n!=="constant"&&!Zl(i.expression),this.configDependencies=yc(i.expression)}evaluateWithoutErrorHandling(n,i,d,g,h,v){return this._styleExpression.evaluateWithoutErrorHandling(n,i,d,g,h,v)}evaluate(n,i,d,g,h,v){return this._styleExpression.evaluate(n,i,d,g,h,v)}}class df{constructor(n,i,d,g,h,v){this.kind=n,this.zoomStops=d,this._styleExpression=i,this.isStateDependent=n!=="camera"&&!Zl(i.expression),this.isLightConstant=h,this.isLineProgressConstant=v,this.configDependencies=yc(i.expression),this.interpolationType=g}evaluateWithoutErrorHandling(n,i,d,g,h,v){return this._styleExpression.evaluateWithoutErrorHandling(n,i,d,g,h,v)}evaluate(n,i,d,g,h,v){return this._styleExpression.evaluate(n,i,d,g,h,v)}interpolationFactor(n,i,d){return this.interpolationType?Ul.interpolationFactor(this.interpolationType,n,i,d):0}}function fp(u,n,i,d){if((u=uf(u,n,i,d)).result==="error")return u;const g=u.value.expression,h=Tl(g);if(!h&&!tl(n))return Us([new ci("","data expressions not supported")]);const v=Jl(g,["zoom","pitch","distance-from-center"]);if(!v&&!_c(n))return Us([new ci("","zoom expressions not supported")]);const S=Jl(g,["measure-light"]);if(!S&&!Zc(n))return Us([new ci("","measure-light expression not supported")]);const T=Jl(g,["line-progress"]);if(!T&&!function(P){return tc(P.expression,"line-progress")}(n))return Us([new ci("","line-progress expression not supported")]);const A=n.expression&&n.expression.relaxZoomRestriction,b=zd(g);return b||v||A?b instanceof ci?Us([b]):b instanceof Ul&&!Pl(n)?Us([new ci("",'"interpolate" expressions cannot be used with this property')]):xl(b?new df(h&&T?"camera":"composite",u.value,b.labels,b instanceof Ul?b.interpolation:void 0,S,T):new lh(h&&T?"constant":"source",u.value,S,T)):Us([new ci("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression, or in the properties of atmosphere.')])}class ch{constructor(n,i){this._parameters=n,this._specification=i,Na(this,Lc(this._parameters,this._specification))}static deserialize(n){return new ch(n._parameters,n._specification)}static serialize(n){return{_parameters:n._parameters,_specification:n._specification}}}function zd(u){let n=null;if(u instanceof Jf)n=zd(u.result);else if(u instanceof Ad){for(const i of u.args)if(n=zd(i),n)break}else(u instanceof cc||u instanceof Ul)&&u.input instanceof Ca&&u.input.name==="zoom"&&(n=u);return n instanceof ci||u.eachChild(i=>{const d=zd(i);d instanceof ci?n=d:n&&d&&n!==d&&(n=new ci("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),n}var hp,Iv,Zg=function(){if(Iv)return hp;Iv=1,hp=n;var u=3;function n(i,d,g){var h=this.cells=[];if(i instanceof ArrayBuffer){this.arrayBuffer=i;var v=new Int32Array(this.arrayBuffer);i=v[0],this.d=(d=v[1])+2*(g=v[2]);for(var S=0;S<this.d*this.d;S++){var T=v[u+S],A=v[u+S+1];h.push(T===A?null:v.subarray(T,A))}var b=v[u+h.length+1];this.keys=v.subarray(v[u+h.length],b),this.bboxes=v.subarray(b),this.insert=this._insertReadonly}else{this.d=d+2*g;for(var P=0;P<this.d*this.d;P++)h.push([]);this.keys=[],this.bboxes=[]}this.n=d,this.extent=i,this.padding=g,this.scale=d/i,this.uid=0;var $=g/d*i;this.min=-$,this.max=i+$}return n.prototype.insert=function(i,d,g,h,v){this._forEachCell(d,g,h,v,this._insertCell,this.uid++),this.keys.push(i),this.bboxes.push(d),this.bboxes.push(g),this.bboxes.push(h),this.bboxes.push(v)},n.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},n.prototype._insertCell=function(i,d,g,h,v,S){this.cells[v].push(S)},n.prototype.query=function(i,d,g,h,v){var S=this.min,T=this.max;if(i<=S&&d<=S&&T<=g&&T<=h&&!v)return Array.prototype.slice.call(this.keys);var A=[];return this._forEachCell(i,d,g,h,this._queryCell,A,{},v),A},n.prototype._queryCell=function(i,d,g,h,v,S,T,A){var b=this.cells[v];if(b!==null)for(var P=this.keys,$=this.bboxes,M=0;M<b.length;M++){var O=b[M];if(T[O]===void 0){var N=4*O;(A?A($[N+0],$[N+1],$[N+2],$[N+3]):i<=$[N+2]&&d<=$[N+3]&&g>=$[N+0]&&h>=$[N+1])?(T[O]=!0,S.push(P[O])):T[O]=!1}}},n.prototype._forEachCell=function(i,d,g,h,v,S,T,A){for(var b=this._convertToCellCoord(i),P=this._convertToCellCoord(d),$=this._convertToCellCoord(g),M=this._convertToCellCoord(h),O=b;O<=$;O++)for(var N=P;N<=M;N++){var W=this.d*N+O;if((!A||A(this._convertFromCellCoord(O),this._convertFromCellCoord(N),this._convertFromCellCoord(O+1),this._convertFromCellCoord(N+1)))&&v.call(this,i,d,g,h,W,S,T,A))return}},n.prototype._convertFromCellCoord=function(i){return(i-this.padding)/this.scale},n.prototype._convertToCellCoord=function(i){return Math.max(0,Math.min(this.d-1,Math.floor(i*this.scale)+this.padding))},n.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var i=this.cells,d=u+this.cells.length+1+1,g=0,h=0;h<this.cells.length;h++)g+=this.cells[h].length;var v=new Int32Array(d+g+this.keys.length+this.bboxes.length);v[0]=this.extent,v[1]=this.n,v[2]=this.padding;for(var S=d,T=0;T<i.length;T++){var A=i[T];v[u+T]=S,v.set(A,S),S+=A.length}return v[u+i.length]=S,v.set(this.keys,S),v[u+i.length+1]=S+=this.keys.length,v.set(this.bboxes,S),S+=this.bboxes.length,v.buffer},hp}(),Ld=xe(Zg);const em={};function lo(u,n,i={}){Object.defineProperty(u,"_classRegistryKey",{value:n,writable:!1}),em[n]={klass:u,omit:i.omit||[]}}lo(Object,"Object"),Ld.serialize=function(u,n){const i=u.toArrayBuffer();return n&&n.add(i),{buffer:i}},Ld.deserialize=function(u){return new Ld(u.buffer)},Object.defineProperty(Ld,"name",{value:"Grid"}),lo(Ld,"Grid"),typeof DOMMatrix!="undefined"&&lo(DOMMatrix,"DOMMatrix"),lo(Fi,"Color"),lo(Error,"Error"),lo(Mr,"Formatted"),lo(Cr,"FormattedSection"),lo(ii,"AJAXError"),lo(si,"ResolvedImage"),lo(ch,"StylePropertyFunction"),lo(Uu,"StyleExpression",{omit:["_evaluator"]}),lo(yr,"ImageIdWithOptions"),lo(df,"ZoomDependentExpression"),lo(lh,"ZoomConstantExpression"),lo(Ca,"CompoundExpression",{omit:["_evaluate"]});for(const u in gn)em[gn[u]._classRegistryKey]||lo(gn[u],`Expression${u}`);function tm(u){return u&&typeof ArrayBuffer!="undefined"&&(u instanceof ArrayBuffer||u.constructor&&u.constructor.name==="ArrayBuffer")}function mp(u){return self.ImageBitmap&&u instanceof ImageBitmap}function Nd(u,n){if(u==null||typeof u=="boolean"||typeof u=="number"||typeof u=="string"||u instanceof Boolean||u instanceof Number||u instanceof String||u instanceof Date||u instanceof RegExp)return u;if(tm(u)||mp(u))return n&&n.add(u),u;if(ArrayBuffer.isView(u))return n&&n.add(u.buffer),u;if(u instanceof ImageData)return n&&n.add(u.data.buffer),u;if(Array.isArray(u)){const i=[];for(const d of u)i.push(Nd(d,n));return i}if(u instanceof Map){const i={$name:"Map"};for(const[d,g]of u.entries())i[d]=Nd(g);return i}if(u instanceof Set){const i={$name:"Set"};let d=0;for(const g of u.values())i[++d]=Nd(g);return i}if(typeof u=="object"){const i=u.constructor,d=i._classRegistryKey;if(!d)throw new Error(`Can't serialize object of unregistered class "${d}".`);const g=i.serialize?i.serialize(u,n):{};if(!i.serialize){for(const h in u)u.hasOwnProperty(h)&&(em[d].omit.indexOf(h)>=0||(g[h]=Nd(u[h],n)));u instanceof Error&&(g.message=u.message)}if(g.$name)throw new Error("$name property is reserved for worker serialization logic.");return d!=="Object"&&(g.$name=d),g}throw new Error("can't serialize object of type "+typeof u)}function fd(u){if(u==null||typeof u=="boolean"||typeof u=="number"||typeof u=="string"||u instanceof Boolean||u instanceof Number||u instanceof String||u instanceof Date||u instanceof RegExp||tm(u)||mp(u)||ArrayBuffer.isView(u)||u instanceof ImageData)return u;if(Array.isArray(u))return u.map(fd);if(typeof u=="object"){const n=u.$name||"Object";if(n==="Map"){const g=new Map;for(const h of Object.keys(u))h!=="$name"&&g.set(h,fd(u[h]));return g}if(n==="Set"){const g=new Set;for(const h of Object.keys(u))h!=="$name"&&g.add(fd(u[h]));return g}const{klass:i}=em[n];if(!i)throw new Error(`Can't deserialize unregistered class "${n}".`);if(i.deserialize)return i.deserialize(u);const d=Object.create(i.prototype);for(const g of Object.keys(u))g!=="$name"&&(d[g]=fd(u[g]));return d}throw new Error("can't deserialize object of type "+typeof u)}const Po={"Latin-1 Supplement":u=>u>=128&&u<=255,Arabic:u=>u>=1536&&u<=1791,"Arabic Supplement":u=>u>=1872&&u<=1919,"Arabic Extended-A":u=>u>=2208&&u<=2303,"Hangul Jamo":u=>u>=4352&&u<=4607,"Unified Canadian Aboriginal Syllabics":u=>u>=5120&&u<=5759,Khmer:u=>u>=6016&&u<=6143,"Unified Canadian Aboriginal Syllabics Extended":u=>u>=6320&&u<=6399,"General Punctuation":u=>u>=8192&&u<=8303,"Letterlike Symbols":u=>u>=8448&&u<=8527,"Number Forms":u=>u>=8528&&u<=8591,"Miscellaneous Technical":u=>u>=8960&&u<=9215,"Control Pictures":u=>u>=9216&&u<=9279,"Optical Character Recognition":u=>u>=9280&&u<=9311,"Enclosed Alphanumerics":u=>u>=9312&&u<=9471,"Geometric Shapes":u=>u>=9632&&u<=9727,"Miscellaneous Symbols":u=>u>=9728&&u<=9983,"Miscellaneous Symbols and Arrows":u=>u>=11008&&u<=11263,"CJK Radicals Supplement":u=>u>=11904&&u<=12031,"Kangxi Radicals":u=>u>=12032&&u<=12255,"Ideographic Description Characters":u=>u>=12272&&u<=12287,"CJK Symbols and Punctuation":u=>u>=12288&&u<=12351,Hiragana:u=>u>=12352&&u<=12447,Katakana:u=>u>=12448&&u<=12543,Bopomofo:u=>u>=12544&&u<=12591,"Hangul Compatibility Jamo":u=>u>=12592&&u<=12687,Kanbun:u=>u>=12688&&u<=12703,"Bopomofo Extended":u=>u>=12704&&u<=12735,"CJK Strokes":u=>u>=12736&&u<=12783,"Katakana Phonetic Extensions":u=>u>=12784&&u<=12799,"Enclosed CJK Letters and Months":u=>u>=12800&&u<=13055,"CJK Compatibility":u=>u>=13056&&u<=13311,"CJK Unified Ideographs Extension A":u=>u>=13312&&u<=19903,"Yijing Hexagram Symbols":u=>u>=19904&&u<=19967,"CJK Unified Ideographs":u=>u>=19968&&u<=40959,"Yi Syllables":u=>u>=40960&&u<=42127,"Yi Radicals":u=>u>=42128&&u<=42191,"Hangul Jamo Extended-A":u=>u>=43360&&u<=43391,"Hangul Syllables":u=>u>=44032&&u<=55215,"Hangul Jamo Extended-B":u=>u>=55216&&u<=55295,"Private Use Area":u=>u>=57344&&u<=63743,"CJK Compatibility Ideographs":u=>u>=63744&&u<=64255,"Arabic Presentation Forms-A":u=>u>=64336&&u<=65023,"Vertical Forms":u=>u>=65040&&u<=65055,"CJK Compatibility Forms":u=>u>=65072&&u<=65103,"Small Form Variants":u=>u>=65104&&u<=65135,"Arabic Presentation Forms-B":u=>u>=65136&&u<=65279,"Halfwidth and Fullwidth Forms":u=>u>=65280&&u<=65519,Osage:u=>u>=66736&&u<=66815,"CJK Unified Ideographs Extension B":u=>u>=131072&&u<=173791};function Wu(u){for(const n of u)if(nm(n.charCodeAt(0)))return!0;return!1}function Vg(u){for(const n of u)if(!Hg(n.charCodeAt(0)))return!1;return!0}function Hg(u){return!(Po.Arabic(u)||Po["Arabic Supplement"](u)||Po["Arabic Extended-A"](u)||Po["Arabic Presentation Forms-A"](u)||Po["Arabic Presentation Forms-B"](u))}function nm(u){return!(u!==746&&u!==747&&(u<4352||!(Po["Bopomofo Extended"](u)||Po.Bopomofo(u)||Po["CJK Compatibility Forms"](u)&&!(u>=65097&&u<=65103)||Po["CJK Compatibility Ideographs"](u)||Po["CJK Compatibility"](u)||Po["CJK Radicals Supplement"](u)||Po["CJK Strokes"](u)||!(!Po["CJK Symbols and Punctuation"](u)||u>=12296&&u<=12305||u>=12308&&u<=12319||u===12336)||Po["CJK Unified Ideographs Extension A"](u)||Po["CJK Unified Ideographs"](u)||Po["Enclosed CJK Letters and Months"](u)||Po["Hangul Compatibility Jamo"](u)||Po["Hangul Jamo Extended-A"](u)||Po["Hangul Jamo Extended-B"](u)||Po["Hangul Jamo"](u)||Po["Hangul Syllables"](u)||Po.Hiragana(u)||Po["Ideographic Description Characters"](u)||Po.Kanbun(u)||Po["Kangxi Radicals"](u)||Po["Katakana Phonetic Extensions"](u)||Po.Katakana(u)&&u!==12540||!(!Po["Halfwidth and Fullwidth Forms"](u)||u===65288||u===65289||u===65293||u>=65306&&u<=65310||u===65339||u===65341||u===65343||u>=65371&&u<=65503||u===65507||u>=65512&&u<=65519)||!(!Po["Small Form Variants"](u)||u>=65112&&u<=65118||u>=65123&&u<=65126)||Po["Unified Canadian Aboriginal Syllabics"](u)||Po["Unified Canadian Aboriginal Syllabics Extended"](u)||Po["Vertical Forms"](u)||Po["Yijing Hexagram Symbols"](u)||Po["Yi Syllables"](u)||Po["Yi Radicals"](u))))}function Bd(u){return!(nm(u)||function(n){return!!(Po["Latin-1 Supplement"](n)&&(n===167||n===169||n===174||n===177||n===188||n===189||n===190||n===215||n===247)||Po["General Punctuation"](n)&&(n===8214||n===8224||n===8225||n===8240||n===8241||n===8251||n===8252||n===8258||n===8263||n===8264||n===8265||n===8273)||Po["Letterlike Symbols"](n)||Po["Number Forms"](n)||Po["Miscellaneous Technical"](n)&&(n>=8960&&n<=8967||n>=8972&&n<=8991||n>=8996&&n<=9e3||n===9003||n>=9085&&n<=9114||n>=9150&&n<=9165||n===9167||n>=9169&&n<=9179||n>=9186&&n<=9215)||Po["Control Pictures"](n)&&n!==9251||Po["Optical Character Recognition"](n)||Po["Enclosed Alphanumerics"](n)||Po["Geometric Shapes"](n)||Po["Miscellaneous Symbols"](n)&&!(n>=9754&&n<=9759)||Po["Miscellaneous Symbols and Arrows"](n)&&(n>=11026&&n<=11055||n>=11088&&n<=11097||n>=11192&&n<=11243)||Po["CJK Symbols and Punctuation"](n)||Po.Katakana(n)||Po["Private Use Area"](n)||Po["CJK Compatibility Forms"](n)||Po["Small Form Variants"](n)||Po["Halfwidth and Fullwidth Forms"](n)||n===8734||n===8756||n===8757||n>=9984&&n<=10087||n>=10102&&n<=10131||n===65532||n===65533)}(u))}function rm(u){return u>=1424&&u<=2303||Po["Arabic Presentation Forms-A"](u)||Po["Arabic Presentation Forms-B"](u)}function pp(u,n){return!(!n&&rm(u)||u>=2304&&u<=3583||u>=3840&&u<=4255||Po.Khmer(u))}function im(u){for(const n of u)if(rm(n.charCodeAt(0)))return!0;return!1}const ff="deferred",uh="loading",gp="loaded";let Ac=null,Vc="unavailable",hd=null;const vp=function(u){u&&typeof u=="string"&&u.indexOf("NetworkError")>-1&&(Vc="error"),Ac&&Ac(u)};function om(){hf.fire(new vo("pluginStateChange",{pluginStatus:Vc,pluginURL:hd}))}const hf=new to,am=function(){return Vc},mf=function(){if(Vc!==ff||!hd)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Vc=uh,om(),hd&&_n({url:hd},u=>{u?vp(u):(Vc=gp,om())})},au={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>Vc===gp||au.applyArabicShaping!=null,isLoading:()=>Vc===uh,setState(u){Vc=u.pluginStatus,hd=u.pluginURL},isParsed:()=>au.applyArabicShaping!=null&&au.processBidirectionalText!=null&&au.processStyledBidirectionalText!=null,getPluginURL:()=>hd};class Ws{constructor(n,i){this.zoom=n,i?(this.now=i.now,this.fadeDuration=i.fadeDuration,this.transition=i.transition,this.pitch=i.pitch,this.brightness=i.brightness):(this.now=0,this.fadeDuration=0,this.transition={},this.pitch=0,this.brightness=0)}isSupportedScript(n){return function(i,d){for(const g of i)if(!pp(g.charCodeAt(0),d))return!1;return!0}(n,au.isLoaded())}}class sm{constructor(n,i,d,g){this.property=n,this.value=i,this.expression=function(h,v,S,T){if(Jc(h))return new ch(h,v);if(cf(h)||Array.isArray(h)&&h.length>0){const A=fp(h,v,S,T);if(A.result==="error")throw new Error(A.value.map(b=>`${b.key}: ${b.message}`).join(", "));return A.value}{let A=h;return typeof h=="string"&&v.type==="color"&&(A=Fi.parse(h)),{kind:"constant",configDependencies:new Set,evaluate:()=>A}}}(i===void 0?n.specification.default:i,n.specification,d,g)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(n,i,d){return this.property.possiblyEvaluate(this,n,i,d)}}class dh{constructor(n,i,d){this.property=n,this.value=new sm(n,void 0,i,d)}transitioned(n,i){return new yp(this.property,this.value,i,ti({},n.transition,this.transition),n.now)}untransitioned(){return new yp(this.property,this.value,null,{},0)}}class lm{constructor(n,i,d){this._properties=n,this._values=Object.create(n.defaultTransitionablePropertyValues),this._scope=i,this._options=d,this.configDependencies=new Set}getValue(n){return lr(this._values[n].value.value)}setValue(n,i){this._values.hasOwnProperty(n)||(this._values[n]=new dh(this._values[n].property,this._scope,this._options)),this._values[n].value=new sm(this._values[n].property,i===null?void 0:lr(i),this._scope,this._options),this._values[n].value.expression.configDependencies&&(this.configDependencies=new Set([...this.configDependencies,...this._values[n].value.expression.configDependencies]))}setTransitionOrValue(n,i){i&&(this._options=i);const d=this._properties.properties;if(n)for(const g in n){const h=n[g];if(vr(g,"-transition")){const v=g.slice(0,-11);d[v]&&this.setTransition(v,h)}else d.hasOwnProperty(g)&&this.setValue(g,h)}}getTransition(n){return lr(this._values[n].transition)}setTransition(n,i){this._values.hasOwnProperty(n)||(this._values[n]=new dh(this._values[n].property)),this._values[n].transition=lr(i)||void 0}serialize(){const n={};for(const i of Object.keys(this._values)){const d=this.getValue(i);d!==void 0&&(n[i]=d);const g=this.getTransition(i);g!==void 0&&(n[`${i}-transition`]=g)}return n}transitioned(n,i){const d=new fh(this._properties);for(const g of Object.keys(this._values))d._values[g]=this._values[g].transitioned(n,i._values[g]);return d}untransitioned(){const n=new fh(this._properties);for(const i of Object.keys(this._values))n._values[i]=this._values[i].untransitioned();return n}}class yp{constructor(n,i,d,g,h){const v=g.delay||0,S=g.duration||0;h=h||0,this.property=n,this.value=i,this.begin=h+v,this.end=this.begin+S,n.specification.transition&&(g.delay||g.duration)&&(this.prior=d)}possiblyEvaluate(n,i,d){const g=n.now||0,h=this.value.possiblyEvaluate(n,i,d),v=this.prior;if(v){if(g>this.end)return this.prior=null,h;if(this.value.isDataDriven())return this.prior=null,h;if(g<this.begin)return v.possiblyEvaluate(n,i,d);{const S=(g-this.begin)/(this.end-this.begin);return this.property.interpolate(v.possiblyEvaluate(n,i,d),h,dn(S))}}return h}}class fh{constructor(n){this._properties=n,this._values=Object.create(n.defaultTransitioningPropertyValues)}possiblyEvaluate(n,i,d){const g=new Fd(this._properties);for(const h of Object.keys(this._values))g._values[h]=this._values[h].possiblyEvaluate(n,i,d);return g}hasTransition(){for(const n of Object.keys(this._values))if(this._values[n].prior)return!0;return!1}}class hh{constructor(n,i,d){this._properties=n,this._values=Object.create(n.defaultPropertyValues),this._scope=i,this._options=d,this.configDependencies=new Set}getValue(n){return lr(this._values[n].value)}setValue(n,i){this._values[n]=new sm(this._values[n].property,i===null?void 0:lr(i),this._scope,this._options),this._values[n].expression.configDependencies&&(this.configDependencies=new Set([...this.configDependencies,...this._values[n].expression.configDependencies]))}serialize(){const n={};for(const i of Object.keys(this._values)){const d=this.getValue(i);d!==void 0&&(n[i]=d)}return n}possiblyEvaluate(n,i,d){const g=new Fd(this._properties);for(const h of Object.keys(this._values))g._values[h]=this._values[h].possiblyEvaluate(n,i,d);return g}}class pf{constructor(n,i,d){this.property=n,this.value=i,this.parameters=d}isConstant(){return this.value.kind==="constant"}constantOr(n){return this.value.kind==="constant"?this.value.value:n}evaluate(n,i,d,g){return this.property.evaluate(this.value,this.parameters,n,i,d,g)}}class Fd{constructor(n){this._properties=n,this._values=Object.create(n.defaultPossiblyEvaluatedValues)}get(n){return this._values[n]}}class pi{constructor(n){this.specification=n}possiblyEvaluate(n,i){return n.expression.evaluate(i)}interpolate(n,i,d){const g=ea[this.specification.type];return g?g(n,i,d):n}}class Ki{constructor(n,i){this.specification=n,this.overrides=i}possiblyEvaluate(n,i,d,g){return new pf(this,n.expression.kind==="constant"||n.expression.kind==="camera"?{kind:"constant",value:n.expression.evaluate(i,null,{},d,g)}:n.expression,i)}interpolate(n,i,d){if(n.value.kind!=="constant"||i.value.kind!=="constant")return n;if(n.value.value===void 0||i.value.value===void 0)return new pf(this,{kind:"constant",value:void 0},n.parameters);const g=ea[this.specification.type];return g?new pf(this,{kind:"constant",value:g(n.value.value,i.value.value,d)},n.parameters):n}evaluate(n,i,d,g,h,v){return n.kind==="constant"?n.value:n.evaluate(i,d,g,h,v)}}class kd{constructor(n){this.specification=n}possiblyEvaluate(n,i,d,g){return!!n.expression.evaluate(i,null,{},d,g)}interpolate(){return!1}}class nl{constructor(n){this.properties=n,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];const i=new Ws(0,{});for(const d in n){const g=n[d];g.specification.overridable&&this.overridableProperties.push(d);const h=this.defaultPropertyValues[d]=new sm(g,void 0),v=this.defaultTransitionablePropertyValues[d]=new dh(g);this.defaultTransitioningPropertyValues[d]=v.untransitioned(),this.defaultPossiblyEvaluatedValues[d]=h.possiblyEvaluate(i)}}}lo(Ki,"DataDrivenProperty"),lo(pi,"DataConstantProperty"),lo(kd,"ColorRampProperty");var Gn=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"fragment":{"type":"boolean"},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360},"pitch":{"type":"number","default":0},"light":{"type":"light"},"lights":{"required":false,"type":"array","value":"light-3d"},"terrain":{"type":"terrain","optional":true},"fog":{"type":"fog"},"snow":{"type":"snow","experimental":true},"rain":{"type":"rain","experimental":true},"camera":{"type":"camera"},"color-theme":{"type":"colorTheme"},"indoor":{"type":"indoor","experimental":true},"imports":{"type":"array","value":"import"},"schema":{"type":"schema"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string","default":"mapbox://fonts/mapbox/{fontstack}/{range}.pbf"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"},"models":{"type":"models"},"featuresets":{"experimental":true,"type":"featuresets"}},"featuresets":{"experimental":true,"*":{"type":"featureset"}},"featureset":{"experimental":true,"metadata":{"experimental":true,"type":"*"},"selectors":{"experimental":true,"type":"array","value":"selector"}},"selector":{"experimental":true,"layer":{"experimental":true,"type":"string","required":true},"properties":{"experimental":true,"type":"selectorProperty","required":false},"featureNamespace":{"experimental":true,"type":"string","required":false},"_uniqueFeatureID":{"experimental":true,"type":"boolean","private":true,"required":false}},"selectorProperty":{"experimental":true,"*":{"experimental":true,"type":"*"}},"model":{"type":"string","required":true},"import":{"id":{"type":"string","required":true},"url":{"type":"string","required":true},"config":{"type":"config"},"data":{"type":"$root"},"color-theme":{"type":"colorTheme","optional":true}},"config":{"*":{"type":"*"}},"schema":{"*":{"type":"option"}},"option":{"default":{"type":"*","property-type":"data-constant","expression":{},"required":true},"type":{"type":"enum","values":{"string":1,"number":1,"boolean":1,"color":1}},"array":{"type":"boolean"},"minValue":{"type":"number"},"maxValue":{"type":"number"},"stepValue":{"type":"number"},"values":{"type":"array","value":"*"},"metadata":{"type":"*"}},"models":{"*":{"type":"model"}},"light-3d":{"id":{"type":"string","required":true},"properties":{"type":"properties"},"type":{"type":"enum","values":{"ambient":{},"directional":{},"flat":{}}}},"properties":["properties_light_directional","properties_light_ambient","properties_light_flat"],"properties_light_directional":{"direction":{"type":"array","default":[210,30],"minimum":[0,0],"maximum":[360,90],"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"cast-shadows":{"type":"boolean","default":false,"property-type":"data-constant"},"shadow-quality":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1,"expression":{"parameters":["zoom"]},"experimental":true},"shadow-intensity":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"properties_light_ambient":{"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"properties_light_flat":{"anchor":{"type":"enum","default":"viewport","values":{"map":1,"viewport":1},"property-type":"data-constant","expression":{"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_raster_array","source_geojson","source_video","source_image","source_model"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":1}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":1,"tms":1},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":1}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512},"scheme":{"type":"enum","values":{"xyz":1,"tms":1},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":1}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":1,"mapbox":1},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_array":{"experimental":true,"type":{"required":true,"type":"enum","values":{"raster-array":1}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512},"attribution":{"type":"string"},"rasterLayers":{"type":"*"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":1}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"minzoom":{"type":"number","default":0},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"},"dynamic":{"type":"boolean","default":false}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":1}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":1}},"url":{"required":false,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_model":{"type":{"required":true,"type":"enum","values":{"model":1,"batched-model":1}},"maxzoom":{"type":"number","default":18},"minzoom":{"type":"number","default":0},"tiles":{"type":"array","value":"string"}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"raster-particle":{"experimental":true},"hillshade":{},"model":{"experimental":true},"background":{},"sky":{},"slot":{},"clip":{}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"slot":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_clip","layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_raster-particle","layout_hillshade","layout_background","layout_sky","layout_model"],"layout_background":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_model":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"},"model-id":{"type":"string","default":"","property-type":"data-driven","expression":{"parameters":["zoom","feature"]}}},"layout_clip":{"clip-layer-types":{"type":"array","value":"enum","values":{"model":1,"symbol":1},"default":[],"expression":{},"property-type":"data-constant"},"clip-layer-scope":{"type":"array","value":"string","default":[],"expression":{},"property-type":"data-constant"}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"},"fill-elevation-reference":{"type":"enum","values":{"none":1,"hd-road-base":1,"hd-road-markup":1},"default":"none","experimental":true,"private":true,"expression":{},"property-type":"data-constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"circle-elevation-reference":{"type":"enum","values":{"none":1,"hd-road-markup":1},"default":"none","experimental":true,"expression":{},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"},"fill-extrusion-edge-radius":{"type":"number","experimental":true,"default":0,"minimum":0,"maximum":1,"expression":{},"property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":1,"round":1,"square":1},"default":"butt","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":1,"round":1,"miter":1,"none":1},"default":"miter","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-z-offset":{"type":"number","experimental":true,"default":0,"expression":{"parameters":["zoom","feature","line-progress"]},"property-type":"data-driven"},"line-elevation-reference":{"type":"enum","values":{"none":1,"sea":1,"ground":1,"hd-road-markup":1},"default":"none","experimental":true,"expression":{},"property-type":"data-constant"},"line-cross-slope":{"type":"number","experimental":true,"expression":{},"property-type":"constant"},"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"},"line-width-unit":{"type":"enum","values":{"pixels":1,"meters":1},"default":"pixels","experimental":true,"private":true,"expression":{"parameters":["zoom"]},"property-type":"data-constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":1,"line":1,"line-center":1},"default":"point","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":1,"viewport-y":1,"source":1},"default":"auto","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"symbol-z-elevate":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"symbol-elevation-reference":{"type":"enum","values":{"sea":1,"ground":1,"hd-road-markup":1},"default":"ground","experimental":true,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":1,"viewport":1,"auto":1},"default":"auto","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-size-scale-range":{"type":"array","value":"number","length":2,"default":[0.8,2],"minimum":0.1,"maximum":10,"experimental":true,"private":true,"expression":{},"property-type":"data-constant"},"icon-text-fit":{"type":"enum","values":{"none":1,"width":1,"height":1,"both":1},"default":"none","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":1,"left":1,"right":1,"top":1,"bottom":1,"top-left":1,"top-right":1,"bottom-left":1,"bottom-right":1},"default":"center","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":1,"viewport":1,"auto":1},"default":"auto","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":1,"viewport":1,"auto":1},"default":"auto","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":1,"viewport":1,"auto":1},"default":"auto","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size-scale-range":{"type":"array","value":"number","length":2,"default":[0.8,2],"minimum":0.1,"maximum":10,"experimental":true,"private":true,"expression":{},"property-type":"data-constant"},"text-max-width":{"type":"number","default":10,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":1,"left":1,"center":1,"right":1},"default":"center","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","default":0,"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":1,"left":1,"right":1,"top":1,"bottom":1,"top-left":1,"top-right":1,"bottom-left":1,"bottom-right":1},"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":1,"left":1,"right":1,"top":1,"bottom":1,"top-left":1,"top-right":1,"bottom-left":1,"bottom-right":1},"default":"center","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":1,"vertical":1},"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":1,"uppercase":1,"lowercase":1},"default":"none","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","length":2,"default":[0,0],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_raster-particle":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_hillshade":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_raster":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_raster-particle":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_clip":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_model":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":1,"!=":1,">":1,">=":1,"<":1,"<=":1,"in":1,"!in":1,"all":1,"any":1,"none":1,"has":1,"!has":1}},"geometry_type":{"type":"enum","values":{"Point":1,"LineString":1,"Polygon":1}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":1,"exponential":1,"interval":1,"categorical":1},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":1,"lab":1,"hcl":1},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"high-color":{"type":"color","property-type":"data-constant","default":"#245cdf","expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"space-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,0.2,7,0.1],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"star-intensity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],5,0.35,6,0],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"vertical-range":{"type":"array","default":[0,0],"minimum":0,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true}}},"snow":{"density":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],11,0,13,0.85],"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"opacity":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"vignette":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],11,0,13,0.3],"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"vignette-color":{"type":"color","property-type":"data-constant","default":"#ffffff","experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"center-thinning":{"type":"number","property-type":"data-constant","default":0.4,"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"direction":{"type":"array","default":[0,50],"minimum":0,"maximum":360,"length":2,"value":"number","property-type":"data-constant","transition":true,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true}},"flake-size":{"type":"number","property-type":"data-constant","default":0.71,"minimum":0,"maximum":5,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true}},"rain":{"density":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],11,0,13,0.5],"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["measure-light","brightness"],0,"#03113d",0.3,"#a8adbc"],"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"opacity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["measure-light","brightness"],0,0.88,1,0.7],"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"vignette":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],11,0,13,1],"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"vignette-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["measure-light","brightness"],0,"#001736",0.3,"#464646"],"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"center-thinning":{"type":"number","property-type":"data-constant","default":0.57,"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"direction":{"type":"array","default":[0,80],"minimum":0,"maximum":360,"length":2,"value":"number","property-type":"data-constant","transition":true,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true}},"droplet-size":{"type":"array","default":[2.6,18.2],"minimum":0,"maximum":50,"length":2,"value":"number","property-type":"data-constant","transition":true,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true}},"distortion-strength":{"type":"number","property-type":"data-constant","default":0.7,"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true}},"camera":{"camera-projection":{"type":"enum","values":{"perspective":1,"orthographic":1},"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"default":"perspective","property-type":"data-constant"}},"colorTheme":{"data":{"type":"string","property-type":"data-constant","expression":{}}},"indoor":{"floorplanFeaturesetId":{"type":"string","experimental":true,"property-type":"data-constant","expression":{}},"buildingFeaturesetId":{"type":"string","experimental":true,"property-type":"data-constant","expression":{}}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":1,"viewport":1},"property-type":"data-constant","expression":{"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":1,"equalEarth":1,"equirectangular":1,"lambertConformalConic":1,"mercator":1,"naturalEarth":1,"winkelTripel":1,"globe":1},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-180,-90],"maximum":[180,90]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-90,-90],"maximum":[90,90]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_raster-particle","paint_hillshade","paint_background","paint_sky","paint_model"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"fill-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"fill-z-offset":{"type":"number","default":0,"minimum":0,"transition":true,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-height-alignment":{"type":"enum","experimental":true,"values":{"terrain":1,"flat":1},"default":"flat","property-type":"data-constant"},"fill-extrusion-base-alignment":{"type":"enum","experimental":true,"values":{"terrain":1,"flat":1},"default":"terrain","property-type":"data-constant"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant","type":"number","default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant","type":"number","default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-wall-radius":{"property-type":"data-constant","type":"number","experimental":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-ground-radius":{"property-type":"data-constant","type":"number","experimental":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-ground-attenuation":{"property-type":"data-constant","type":"number","experimental":true,"default":0.69,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"fill-extrusion-flood-light-color":{"property-type":"data-constant","type":"color","experimental":true,"default":"#ffffff","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]}},"fill-extrusion-flood-light-intensity":{"property-type":"data-constant","type":"number","experimental":true,"default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]}},"fill-extrusion-flood-light-wall-radius":{"property-type":"data-driven","type":"number","experimental":true,"default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["feature","feature-state"]}},"fill-extrusion-flood-light-ground-radius":{"property-type":"data-driven","type":"number","experimental":true,"default":0,"transition":true,"expression":{"interpolated":true,"parameters":["feature","feature-state"]}},"fill-extrusion-flood-light-ground-attenuation":{"property-type":"data-constant","type":"number","experimental":true,"default":0.69,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"fill-extrusion-vertical-scale":{"property-type":"data-constant","type":"number","experimental":true,"default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"fill-extrusion-rounded-roof":{"property-type":"data-constant","type":"boolean","default":true,"experimental":true,"expression":{"parameters":["zoom"]}},"fill-extrusion-cutoff-fade-range":{"type":"number","default":0,"minimum":0,"maximum":1,"expression":{},"property-type":"data-constant"},"fill-extrusion-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light","feature-state"]},"property-type":"data-driven"},"fill-extrusion-line-width":{"type":"number","default":0,"minimum":0,"transition":true,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"fill-extrusion-cast-shadows":{"type":"boolean","default":true,"property-type":"data-constant"}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light","line-progress"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{"type":"resolvedImage","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{"type":"color","expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{"type":"array","value":"number","length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"property-type":"constant"},"line-trim-fade-range":{"type":"array","value":"number","experimental":true,"length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"line-trim-color":{"type":"color","experimental":true,"default":"transparent","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"line-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"line-border-width":{"type":"number","private":true,"default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-border-color":{"type":"color","private":true,"default":"rgba(0, 0, 0, 0)","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-occlusion-opacity":{"type":"number","default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"property-type":"data-constant"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":1,"viewport":1},"default":"viewport","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-occlusion-opacity":{"type":"number","minimum":0,"maximum":1,"default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-emissive-strength":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light","feature-state"]},"property-type":"data-driven"},"text-emissive-strength":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light","feature-state"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-image-cross-fade":{"type":"number","property-type":"data-driven","default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"transition":true},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-occlusion-opacity":{"type":"number","minimum":0,"maximum":1,"default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-color-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"expression":{},"property-type":"data-constant"},"icon-color-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"expression":{},"property-type":"data-constant"},"icon-color-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"expression":{},"property-type":"data-constant"},"icon-color-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"expression":{},"property-type":"data-constant"},"symbol-z-offset":{"type":"number","default":0,"minimum":0,"transition":true,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-color":{"type":"color","expression":{"interpolated":true,"parameters":["raster-value"]},"property-type":"color-ramp"},"raster-color-mix":{"type":"array","default":[0.2126,0.7152,0.0722,0],"length":4,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"raster-color-range":{"type":"array","length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":1,"nearest":1},"default":"linear","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"raster-array-band":{"type":"string","required":false,"experimental":true,"property-type":"data-constant"},"raster-elevation":{"type":"number","default":0,"minimum":0,"transition":true,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster-particle":{"raster-particle-array-band":{"type":"string","required":false,"property-type":"data-constant"},"raster-particle-count":{"type":"number","default":512,"minimum":1,"property-type":"data-constant"},"raster-particle-color":{"type":"color","expression":{"interpolated":true,"parameters":["raster-particle-speed"]},"property-type":"color-ramp"},"raster-particle-max-speed":{"type":"number","default":1,"minimum":1,"property-type":"data-constant"},"raster-particle-speed-factor":{"type":"number","default":0.2,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-particle-fade-opacity-factor":{"type":"number","default":0.98,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-particle-reset-rate-factor":{"type":"number","default":0.8,"minimum":0,"maximum":1,"property-type":"data-constant"},"raster-particle-elevation":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"viewport","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"hillshade-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"}},"paint_background":{"background-pitch-alignment":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":[]},"experimental":true,"property-type":"data-constant"},"background-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":1,"atmosphere":1},"default":"atmosphere","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"minimum":[0,0],"maximum":[360,180],"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","default":10,"minimum":0,"maximum":100,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","value":"number","default":[0,0],"length":2,"minimum":[0,0],"maximum":[360,180],"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","default":90,"minimum":0,"maximum":180,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_model":{"model-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["feature","feature-state","zoom"]},"property-type":"data-driven"},"model-rotation":{"type":"array","value":"number","length":3,"default":[0,0,0],"period":360,"property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state","zoom"]},"transition":true},"model-scale":{"type":"array","value":"number","length":3,"default":[1,1,1],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state","zoom"]},"transition":true},"model-translation":{"type":"array","value":"number","length":3,"default":[0,0,0],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state","zoom"]},"transition":true},"model-color":{"type":"color","default":"#ffffff","property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state","measure-light","zoom"]},"transition":true},"model-color-mix-intensity":{"type":"number","property-type":"data-driven","default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["feature","feature-state","measure-light"]},"transition":true},"model-type":{"type":"enum","values":{"common-3d":1,"location-indicator":1},"default":"common-3d","property-type":"data-constant"},"model-cast-shadows":{"type":"boolean","default":true,"property-type":"data-constant"},"model-receive-shadows":{"type":"boolean","default":true,"property-type":"data-constant"},"model-ambient-occlusion-intensity":{"type":"number","default":1,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant","transition":true},"model-emissive-strength":{"type":"number","property-type":"data-driven","default":0,"minimum":0,"maximum":5,"expression":{"interpolated":true,"parameters":["feature","feature-state","measure-light"]},"transition":true},"model-roughness":{"type":"number","default":1,"minimum":0,"maximum":1,"property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state"]},"transition":true},"model-height-based-emissive-strength-multiplier":{"type":"array","default":[1,1,1,1,0],"length":5,"value":"number","property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state","measure-light"]},"transition":true},"model-cutoff-fade-range":{"type":"number","default":0,"minimum":0,"maximum":1,"expression":{},"property-type":"data-constant"},"model-front-cutoff":{"type":"array","private":true,"value":"number","property-type":"data-constant","expression":{"interpolated":true,"parameters":["zoom"]},"length":3,"default":[0,0,1],"minimum":[0,0,0],"maximum":[1,1,1]}},"transition":{"duration":{"type":"number","default":300,"minimum":0},"delay":{"type":"number","default":0,"minimum":0}},"property-type":{"data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"*"}}}');function Ug(u){return u instanceof Number||u instanceof String||u instanceof Boolean?u.valueOf():u}function _p(u){if(Array.isArray(u))return u.map(_p);if(u instanceof Object&&!(u instanceof Number||u instanceof String||u instanceof Boolean)){const n={};for(const i in u)n[i]=_p(u[i]);return n}return Ug(u)}function mh(u){if(u===!0||u===!1)return!0;if(!Array.isArray(u)||u.length===0)return!1;switch(u[0]){case"has":return u.length>=2&&u[1]!=="$id"&&u[1]!=="$type";case"in":return u.length>=3&&(typeof u[1]!="string"||Array.isArray(u[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return u.length!==3||Array.isArray(u[1])||Array.isArray(u[2]);case"any":case"all":for(const n of u.slice(1))if(!mh(n)&&typeof n!="boolean")return!1;return!0;default:return!0}}function Wg(u,n="",i=null,d="fill"){if(u==null)return{filter:()=>!0,needGeometry:!1,needFeature:!1};mh(u)||(u=cm(u));const g=u;let h=!0;try{h=function(b){if(!gf(b))return b;let P=_p(b);return Mv(P),P=bp(P),P}(g)}catch(b){console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.
This is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md
and paste the contents of this message in the report.
Thank you!
Filter Expression:
${JSON.stringify(g,null,2)}
        `)}let v=null,S=null;if(d!=="background"&&d!=="sky"&&d!=="slot"){S=Gn[`filter_${d}`];const b=uf(h,S,n,i);if(b.result==="error")throw new Error(b.value.map(P=>`${P.key}: ${P.message}`).join(", "));v=(P,$,M)=>b.value.evaluate(P,$,{},M)}let T=null,A=null;if(h!==g){const b=uf(g,S,n,i);if(b.result==="error")throw new Error(b.value.map(P=>`${P.key}: ${P.message}`).join(", "));T=(P,$,M,O,N)=>b.value.evaluate(P,$,{},M,void 0,void 0,O,N),A=!Tl(b.value.expression)}return{filter:v,dynamicFilter:T||void 0,needGeometry:Gg(h),needFeature:!!A}}function bp(u){if(!Array.isArray(u))return u;const n=function(i){if(Tv.has(i[0])){for(let d=1;d<i.length;d++)if(gf(i[d]))return!0}return i}(u);return n===!0?n:n.map(i=>bp(i))}function Mv(u){let n=!1;const i=[];if(u[0]==="case"){for(let d=1;d<u.length-1;d+=2)n=n||gf(u[d]),i.push(u[d+1]);i.push(u[u.length-1])}else if(u[0]==="match"){n=n||gf(u[1]);for(let d=2;d<u.length-1;d+=2)i.push(u[d+1]);i.push(u[u.length-1])}else if(u[0]==="step"){n=n||gf(u[1]);for(let d=1;d<u.length-1;d+=2)i.push(u[d+1])}n&&(u.length=0,u.push("any",...i));for(let d=1;d<u.length;d++)Mv(u[d])}function gf(u){if(!Array.isArray(u))return!1;if((n=u[0])==="pitch"||n==="distance-from-center")return!0;var n;for(let i=1;i<u.length;i++)if(gf(u[i]))return!0;return!1}const Tv=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function Pv(u,n){return u<n?-1:u>n?1:0}function Gg(u){if(!Array.isArray(u))return!1;if(u[0]==="within"||u[0]==="distance")return!0;for(let n=1;n<u.length;n++)if(Gg(u[n]))return!0;return!1}function cm(u){if(!u)return!0;const n=u[0];return u.length<=1?n!=="any":n==="=="?Gu(u[1],u[2],"=="):n==="!="?jd(Gu(u[1],u[2],"==")):n==="<"||n===">"||n==="<="||n===">="?Gu(u[1],u[2],n):n==="any"?(i=u.slice(1),["any"].concat(i.map(cm))):n==="all"?["all"].concat(u.slice(1).map(cm)):n==="none"?["all"].concat(u.slice(1).map(cm).map(jd)):n==="in"?xp(u[1],u.slice(2)):n==="!in"?jd(xp(u[1],u.slice(2))):n==="has"?Cp(u[1]):n!=="!has"||jd(Cp(u[1]));var i}function Gu(u,n,i){switch(u){case"$type":return[`filter-type-${i}`,n];case"$id":return[`filter-id-${i}`,n];default:return[`filter-${i}`,u,n]}}function xp(u,n){if(n.length===0)return!1;switch(u){case"$type":return["filter-type-in",["literal",n]];case"$id":return["filter-id-in",["literal",n]];default:return n.length>200&&!n.some(i=>typeof i!=typeof n[0])?["filter-in-large",u,["literal",n.sort(Pv)]]:["filter-in-small",u,["literal",n]]}}function Cp(u){switch(u){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",u]}}function jd(u){return["!",u]}const um="";function Tu(u,n){return n?`${u}${um}${n}`:u}const Pu="-transition",Sp=new Set(["fill","line","background","hillshade","raster"]);class Ll extends to{constructor(n,i,d,g,h){if(super(),this.id=n.id,this.fqid=Tu(this.id,d),this.type=n.type,this.scope=d,this.lut=g,this.options=h,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,this.configDependencies=new Set,n.type!=="custom"){if(this.metadata=n.metadata,this.minzoom=n.minzoom,this.maxzoom=n.maxzoom,n.type&&n.type!=="background"&&n.type!=="sky"&&n.type!=="slot"){this.source=n.source,this.sourceLayer=n["source-layer"],this.filter=n.filter;const v=uf(this.filter,Gn[`filter_${n.type}`]);v.result!=="error"&&(this.configDependencies=new Set([...this.configDependencies,...v.value.configDependencies]))}if(n.slot&&(this.slot=n.slot),i.layout&&(this._unevaluatedLayout=new hh(i.layout,this.scope,h),this.configDependencies=new Set([...this.configDependencies,...this._unevaluatedLayout.configDependencies])),i.paint){this._transitionablePaint=new lm(i.paint,this.scope,h);for(const v in n.paint)this.setPaintProperty(v,n.paint[v]);for(const v in n.layout)this.setLayoutProperty(v,n.layout[v]);this.configDependencies=new Set([...this.configDependencies,...this._transitionablePaint.configDependencies]),this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Fd(i.paint)}}}onAdd(n){}onRemove(n){}isDraped(n){return!this.is3D()&&Sp.has(this.type)}getLayoutProperty(n){return n==="visibility"?this.visibility:this._unevaluatedLayout.getValue(n)}setLayoutProperty(n,i){if(this.type==="custom"&&n==="visibility")return void(this.visibility=i);const d=this._unevaluatedLayout;d._properties.properties[n]&&(d.setValue(n,i),this.configDependencies=new Set([...this.configDependencies,...d.configDependencies]),n==="visibility"&&this.possiblyEvaluateVisibility())}possiblyEvaluateVisibility(){this._unevaluatedLayout._values.visibility&&(this.visibility=this._unevaluatedLayout._values.visibility.possiblyEvaluate({zoom:0}))}getPaintProperty(n){return vr(n,Pu)?this._transitionablePaint.getTransition(n.slice(0,-11)):this._transitionablePaint.getValue(n)}setPaintProperty(n,i){const d=this._transitionablePaint,g=d._properties.properties;if(vr(n,Pu)){const P=n.slice(0,-11);return g[P]&&d.setTransition(P,i||void 0),!1}if(!g[n])return!1;const h=d._values[n],v=h.value.isDataDriven(),S=h.value;d.setValue(n,i),this.configDependencies=new Set([...this.configDependencies,...d.configDependencies]),this._handleSpecialPaintPropertyUpdate(n);const T=d._values[n].value,A=T.isDataDriven(),b=vr(n,"pattern")||n==="line-dasharray";return A||v||b||this._handleOverridablePaintPropertyUpdate(n,S,T)}_handleSpecialPaintPropertyUpdate(n){}getProgramIds(){return null}getDefaultProgramParams(n,i,d){return null}_handleOverridablePaintPropertyUpdate(n,i,d){return!1}isHidden(n){return!!(this.minzoom&&n<this.minzoom)||!!(this.maxzoom&&n>=this.maxzoom)||this.visibility==="none"}updateTransitions(n){this._transitioningPaint=this._transitionablePaint.transitioned(n,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(n,i){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(n,void 0,i)),this.paint=this._transitioningPaint.possiblyEvaluate(n,void 0,i)}serialize(){return Xn({id:this.id,type:this.type,slot:this.slot,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()},(n,i)=>!(n===void 0||i==="layout"&&!Object.keys(n).length||i==="paint"&&!Object.keys(n).length))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}hasShadowPass(){return!1}canCastShadows(){return!1}hasLightBeamPass(){return!1}cutoffRange(){return 0}tileCoverLift(){return 0}resize(){}isStateDependent(){for(const n in this.paint._values){const i=this.paint.get(n);if(i instanceof pf&&tl(i.property.specification)&&(i.value.kind==="source"||i.value.kind==="composite")&&i.value.isStateDependent)return!0}return!1}compileFilter(n){this._filterCompiled||(this._featureFilter=Wg(this.filter,this.scope,n),this._filterCompiled=!0)}invalidateCompiledFilter(){this._filterCompiled=!1}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}getLayerRenderingStats(){return this._stats}resetLayerRenderingStats(n){this._stats&&(n.renderPass==="shadow"?this._stats.numRenderedVerticesInShadowPass=0:this._stats.numRenderedVerticesInTransparentPass=0)}queryRadius(n){}queryIntersectsFeature(n,i,d,g,h,v,S,T,A){}}const V_={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class vf{constructor(n,i){this._structArray=n,this._pos1=i*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Gs{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(n,i){return n._trim(),i&&(n.isTransferred=!0,i.add(n.arrayBuffer)),{length:n.length,arrayBuffer:n.arrayBuffer}}static deserialize(n){const i=Object.create(this.prototype);return i.arrayBuffer=n.arrayBuffer,i.length=n.length,i.capacity=n.arrayBuffer.byteLength/i.bytesPerElement,i._refreshViews(),i}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(n){this.reserve(n),this.length=n}reserve(n){if(n>this.capacity){this.capacity=Math.max(n,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const i=this.uint8;this._refreshViews(),i&&this.uint8.set(i)}}_refreshViews(){throw new Error("StructArray#_refreshViews() must be implemented by each concrete StructArray layout")}emplace(...n){throw new Error("StructArray#emplace() must be implemented by each concrete StructArray layout")}emplaceBack(...n){throw new Error("StructArray#emplaceBack() must be implemented by each concrete StructArray layout")}destroy(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null}}function bs(u,n=1){let i=0,d=0;return{members:u.map(g=>{const h=V_[g.type].BYTES_PER_ELEMENT,v=i=Kg(i,Math.max(n,h)),S=g.components||1;return d=Math.max(d,h),i+=h*S,{name:g.name,type:g.type,components:S,offset:v}}),size:Kg(i,Math.max(d,n)),alignment:n}}function Kg(u,n){return Math.ceil(u/n)*n}class md extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,i){const d=this.length;return this.resize(d+1),this.emplace(d,n,i)}emplace(n,i,d){const g=2*n;return this.int16[g+0]=i,this.int16[g+1]=d,n}}md.prototype.bytesPerElement=4,lo(md,"StructArrayLayout2i4");class yf extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,i,d){const g=this.length;return this.resize(g+1),this.emplace(g,n,i,d)}emplace(n,i,d,g){const h=3*n;return this.int16[h+0]=i,this.int16[h+1]=d,this.int16[h+2]=g,n}}yf.prototype.bytesPerElement=6,lo(yf,"StructArrayLayout3i6");class pd extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,i,d,g){const h=this.length;return this.resize(h+1),this.emplace(h,n,i,d,g)}emplace(n,i,d,g,h){const v=4*n;return this.int16[v+0]=i,this.int16[v+1]=d,this.int16[v+2]=g,this.int16[v+3]=h,n}}pd.prototype.bytesPerElement=8,lo(pd,"StructArrayLayout4i8");class dm extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h){const v=this.length;return this.resize(v+1),this.emplace(v,n,i,d,g,h)}emplace(n,i,d,g,h,v){const S=5*n;return this.int16[S+0]=i,this.int16[S+1]=d,this.int16[S+2]=g,this.int16[S+3]=h,this.int16[S+4]=v,n}}dm.prototype.bytesPerElement=10,lo(dm,"StructArrayLayout5i10");class _f extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h,v,S){const T=this.length;return this.resize(T+1),this.emplace(T,n,i,d,g,h,v,S)}emplace(n,i,d,g,h,v,S,T){const A=6*n,b=12*n,P=3*n;return this.int16[A+0]=i,this.int16[A+1]=d,this.uint8[b+4]=g,this.uint8[b+5]=h,this.uint8[b+6]=v,this.uint8[b+7]=S,this.float32[P+2]=T,n}}_f.prototype.bytesPerElement=12,lo(_f,"StructArrayLayout2i4ub1f12");class Ou extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,i,d){const g=this.length;return this.resize(g+1),this.emplace(g,n,i,d)}emplace(n,i,d,g){const h=3*n;return this.float32[h+0]=i,this.float32[h+1]=d,this.float32[h+2]=g,n}}Ou.prototype.bytesPerElement=12,lo(Ou,"StructArrayLayout3f12");class vl extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h){const v=this.length;return this.resize(v+1),this.emplace(v,n,i,d,g,h)}emplace(n,i,d,g,h,v){const S=6*n,T=3*n;return this.uint16[S+0]=i,this.uint16[S+1]=d,this.uint16[S+2]=g,this.uint16[S+3]=h,this.float32[T+2]=v,n}}vl.prototype.bytesPerElement=12,lo(vl,"StructArrayLayout4ui1f12");class gu extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,i,d,g){const h=this.length;return this.resize(h+1),this.emplace(h,n,i,d,g)}emplace(n,i,d,g,h){const v=4*n;return this.uint16[v+0]=i,this.uint16[v+1]=d,this.uint16[v+2]=g,this.uint16[v+3]=h,n}}gu.prototype.bytesPerElement=8,lo(gu,"StructArrayLayout4ui8");class Wl extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h,v){const S=this.length;return this.resize(S+1),this.emplace(S,n,i,d,g,h,v)}emplace(n,i,d,g,h,v,S){const T=6*n;return this.int16[T+0]=i,this.int16[T+1]=d,this.int16[T+2]=g,this.int16[T+3]=h,this.int16[T+4]=v,this.int16[T+5]=S,n}}Wl.prototype.bytesPerElement=12,lo(Wl,"StructArrayLayout6i12");class fm extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h,v,S,T,A,b,P,$){const M=this.length;return this.resize(M+1),this.emplace(M,n,i,d,g,h,v,S,T,A,b,P,$)}emplace(n,i,d,g,h,v,S,T,A,b,P,$,M){const O=12*n;return this.int16[O+0]=i,this.int16[O+1]=d,this.int16[O+2]=g,this.int16[O+3]=h,this.uint16[O+4]=v,this.uint16[O+5]=S,this.uint16[O+6]=T,this.uint16[O+7]=A,this.int16[O+8]=b,this.int16[O+9]=P,this.int16[O+10]=$,this.int16[O+11]=M,n}}fm.prototype.bytesPerElement=24,lo(fm,"StructArrayLayout4i4ui4i24");class hm extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h,v){const S=this.length;return this.resize(S+1),this.emplace(S,n,i,d,g,h,v)}emplace(n,i,d,g,h,v,S){const T=10*n,A=5*n;return this.int16[T+0]=i,this.int16[T+1]=d,this.int16[T+2]=g,this.float32[A+2]=h,this.float32[A+3]=v,this.float32[A+4]=S,n}}hm.prototype.bytesPerElement=20,lo(hm,"StructArrayLayout3i3f20");class Zd extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,i,d,g){const h=this.length;return this.resize(h+1),this.emplace(h,n,i,d,g)}emplace(n,i,d,g,h){const v=4*n;return this.float32[v+0]=i,this.float32[v+1]=d,this.float32[v+2]=g,this.float32[v+3]=h,n}}Zd.prototype.bytesPerElement=16,lo(Zd,"StructArrayLayout4f16");class Xg extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(n){const i=this.length;return this.resize(i+1),this.emplace(i,n)}emplace(n,i){return this.uint32[1*n+0]=i,n}}Xg.prototype.bytesPerElement=4,lo(Xg,"StructArrayLayout1ul4");class Ku extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,i){const d=this.length;return this.resize(d+1),this.emplace(d,n,i)}emplace(n,i,d){const g=2*n;return this.uint16[g+0]=i,this.uint16[g+1]=d,n}}Ku.prototype.bytesPerElement=4,lo(Ku,"StructArrayLayout2ui4");class wp extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h,v,S,T,A,b,P,$,M){const O=this.length;return this.resize(O+1),this.emplace(O,n,i,d,g,h,v,S,T,A,b,P,$,M)}emplace(n,i,d,g,h,v,S,T,A,b,P,$,M,O){const N=20*n,W=10*n;return this.int16[N+0]=i,this.int16[N+1]=d,this.int16[N+2]=g,this.int16[N+3]=h,this.int16[N+4]=v,this.float32[W+3]=S,this.float32[W+4]=T,this.float32[W+5]=A,this.float32[W+6]=b,this.int16[N+14]=P,this.uint32[W+8]=$,this.uint16[N+18]=M,this.uint16[N+19]=O,n}}wp.prototype.bytesPerElement=40,lo(wp,"StructArrayLayout5i4f1i1ul2ui40");class mm extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h,v,S){const T=this.length;return this.resize(T+1),this.emplace(T,n,i,d,g,h,v,S)}emplace(n,i,d,g,h,v,S,T){const A=8*n;return this.int16[A+0]=i,this.int16[A+1]=d,this.int16[A+2]=g,this.int16[A+4]=h,this.int16[A+5]=v,this.int16[A+6]=S,this.int16[A+7]=T,n}}mm.prototype.bytesPerElement=16,lo(mm,"StructArrayLayout3i2i2i16");class ph extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h){const v=this.length;return this.resize(v+1),this.emplace(v,n,i,d,g,h)}emplace(n,i,d,g,h,v){const S=4*n,T=8*n;return this.float32[S+0]=i,this.float32[S+1]=d,this.float32[S+2]=g,this.int16[T+6]=h,this.int16[T+7]=v,n}}ph.prototype.bytesPerElement=16,lo(ph,"StructArrayLayout2f1f2i16");class Ep extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h,v){const S=this.length;return this.resize(S+1),this.emplace(S,n,i,d,g,h,v)}emplace(n,i,d,g,h,v,S){const T=20*n,A=5*n;return this.uint8[T+0]=i,this.uint8[T+1]=d,this.float32[A+1]=g,this.float32[A+2]=h,this.float32[A+3]=v,this.float32[A+4]=S,n}}Ep.prototype.bytesPerElement=20,lo(Ep,"StructArrayLayout2ub4f20");class Nl extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,i,d){const g=this.length;return this.resize(g+1),this.emplace(g,n,i,d)}emplace(n,i,d,g){const h=3*n;return this.uint16[h+0]=i,this.uint16[h+1]=d,this.uint16[h+2]=g,n}}Nl.prototype.bytesPerElement=6,lo(Nl,"StructArrayLayout3ui6");class Xu extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h,v,S,T,A,b,P,$,M,O,N,W,q,ae,ce,ne,ge){const Ce=this.length;return this.resize(Ce+1),this.emplace(Ce,n,i,d,g,h,v,S,T,A,b,P,$,M,O,N,W,q,ae,ce,ne,ge)}emplace(n,i,d,g,h,v,S,T,A,b,P,$,M,O,N,W,q,ae,ce,ne,ge,Ce){const De=30*n,ut=15*n,st=60*n;return this.int16[De+0]=i,this.int16[De+1]=d,this.int16[De+2]=g,this.float32[ut+2]=h,this.float32[ut+3]=v,this.uint16[De+8]=S,this.uint16[De+9]=T,this.uint32[ut+5]=A,this.uint32[ut+6]=b,this.uint32[ut+7]=P,this.uint16[De+16]=$,this.uint16[De+17]=M,this.uint16[De+18]=O,this.float32[ut+10]=N,this.float32[ut+11]=W,this.uint8[st+48]=q,this.uint8[st+49]=ae,this.uint8[st+50]=ce,this.uint32[ut+13]=ne,this.int16[De+28]=ge,this.uint8[st+58]=Ce,n}}Xu.prototype.bytesPerElement=60,lo(Xu,"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60");class Yg extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h,v,S,T,A,b,P,$,M,O,N,W,q,ae,ce,ne,ge,Ce,De,ut,st,tt,Zt,pt,Yt,un,on,hn){const On=this.length;return this.resize(On+1),this.emplace(On,n,i,d,g,h,v,S,T,A,b,P,$,M,O,N,W,q,ae,ce,ne,ge,Ce,De,ut,st,tt,Zt,pt,Yt,un,on,hn)}emplace(n,i,d,g,h,v,S,T,A,b,P,$,M,O,N,W,q,ae,ce,ne,ge,Ce,De,ut,st,tt,Zt,pt,Yt,un,on,hn,On){const kn=20*n,Cn=40*n,Sr=80*n;return this.float32[kn+0]=i,this.float32[kn+1]=d,this.int16[Cn+4]=g,this.int16[Cn+5]=h,this.int16[Cn+6]=v,this.int16[Cn+7]=S,this.int16[Cn+8]=T,this.int16[Cn+9]=A,this.int16[Cn+10]=b,this.int16[Cn+11]=P,this.int16[Cn+12]=$,this.uint16[Cn+13]=M,this.uint16[Cn+14]=O,this.uint16[Cn+15]=N,this.uint16[Cn+16]=W,this.uint16[Cn+17]=q,this.uint16[Cn+18]=ae,this.uint16[Cn+19]=ce,this.uint16[Cn+20]=ne,this.uint16[Cn+21]=ge,this.uint16[Cn+22]=Ce,this.uint16[Cn+23]=De,this.uint16[Cn+24]=ut,this.uint16[Cn+25]=st,this.uint16[Cn+26]=tt,this.uint16[Cn+27]=Zt,this.uint32[kn+14]=pt,this.float32[kn+15]=Yt,this.float32[kn+16]=un,this.float32[kn+17]=on,this.float32[kn+18]=hn,this.uint8[Sr+76]=On,n}}Yg.prototype.bytesPerElement=80,lo(Yg,"StructArrayLayout2f9i15ui1ul4f1ub80");class Vd extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n){const i=this.length;return this.resize(i+1),this.emplace(i,n)}emplace(n,i){return this.float32[1*n+0]=i,n}}Vd.prototype.bytesPerElement=4,lo(Vd,"StructArrayLayout1f4");class gd extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h){const v=this.length;return this.resize(v+1),this.emplace(v,n,i,d,g,h)}emplace(n,i,d,g,h,v){const S=5*n;return this.float32[S+0]=i,this.float32[S+1]=d,this.float32[S+2]=g,this.float32[S+3]=h,this.float32[S+4]=v,n}}gd.prototype.bytesPerElement=20,lo(gd,"StructArrayLayout5f20");class pm extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h,v,S){const T=this.length;return this.resize(T+1),this.emplace(T,n,i,d,g,h,v,S)}emplace(n,i,d,g,h,v,S,T){const A=7*n;return this.float32[A+0]=i,this.float32[A+1]=d,this.float32[A+2]=g,this.float32[A+3]=h,this.float32[A+4]=v,this.float32[A+5]=S,this.float32[A+6]=T,n}}pm.prototype.bytesPerElement=28,lo(pm,"StructArrayLayout7f28");class Ru extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h,v,S,T,A,b,P){const $=this.length;return this.resize($+1),this.emplace($,n,i,d,g,h,v,S,T,A,b,P)}emplace(n,i,d,g,h,v,S,T,A,b,P,$){const M=11*n;return this.float32[M+0]=i,this.float32[M+1]=d,this.float32[M+2]=g,this.float32[M+3]=h,this.float32[M+4]=v,this.float32[M+5]=S,this.float32[M+6]=T,this.float32[M+7]=A,this.float32[M+8]=b,this.float32[M+9]=P,this.float32[M+10]=$,n}}Ru.prototype.bytesPerElement=44,lo(Ru,"StructArrayLayout11f44");class gh extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h,v,S,T,A){const b=this.length;return this.resize(b+1),this.emplace(b,n,i,d,g,h,v,S,T,A)}emplace(n,i,d,g,h,v,S,T,A,b){const P=9*n;return this.float32[P+0]=i,this.float32[P+1]=d,this.float32[P+2]=g,this.float32[P+3]=h,this.float32[P+4]=v,this.float32[P+5]=S,this.float32[P+6]=T,this.float32[P+7]=A,this.float32[P+8]=b,n}}gh.prototype.bytesPerElement=36,lo(gh,"StructArrayLayout9f36");class bf extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,i){const d=this.length;return this.resize(d+1),this.emplace(d,n,i)}emplace(n,i,d){const g=2*n;return this.float32[g+0]=i,this.float32[g+1]=d,n}}bf.prototype.bytesPerElement=8,lo(bf,"StructArrayLayout2f8");class Ip extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,i,d,g){const h=this.length;return this.resize(h+1),this.emplace(h,n,i,d,g)}emplace(n,i,d,g,h){const v=6*n;return this.uint32[3*n+0]=i,this.uint16[v+2]=d,this.uint16[v+3]=g,this.uint16[v+4]=h,n}}Ip.prototype.bytesPerElement=12,lo(Ip,"StructArrayLayout1ul3ui12");class qg extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n){const i=this.length;return this.resize(i+1),this.emplace(i,n)}emplace(n,i){return this.uint16[1*n+0]=i,n}}qg.prototype.bytesPerElement=2,lo(qg,"StructArrayLayout1ui2");class xf extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h,v,S,T,A,b,P,$,M,O,N,W){const q=this.length;return this.resize(q+1),this.emplace(q,n,i,d,g,h,v,S,T,A,b,P,$,M,O,N,W)}emplace(n,i,d,g,h,v,S,T,A,b,P,$,M,O,N,W,q){const ae=16*n;return this.float32[ae+0]=i,this.float32[ae+1]=d,this.float32[ae+2]=g,this.float32[ae+3]=h,this.float32[ae+4]=v,this.float32[ae+5]=S,this.float32[ae+6]=T,this.float32[ae+7]=A,this.float32[ae+8]=b,this.float32[ae+9]=P,this.float32[ae+10]=$,this.float32[ae+11]=M,this.float32[ae+12]=O,this.float32[ae+13]=N,this.float32[ae+14]=W,this.float32[ae+15]=q,n}}xf.prototype.bytesPerElement=64,lo(xf,"StructArrayLayout16f64");class Hd extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h,v,S){const T=this.length;return this.resize(T+1),this.emplace(T,n,i,d,g,h,v,S)}emplace(n,i,d,g,h,v,S,T){const A=10*n,b=5*n;return this.uint16[A+0]=i,this.uint16[A+1]=d,this.uint16[A+2]=g,this.uint16[A+3]=h,this.float32[b+2]=v,this.float32[b+3]=S,this.float32[b+4]=T,n}}Hd.prototype.bytesPerElement=20,lo(Hd,"StructArrayLayout4ui3f20");class gm extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n){const i=this.length;return this.resize(i+1),this.emplace(i,n)}emplace(n,i){return this.int16[1*n+0]=i,n}}gm.prototype.bytesPerElement=2,lo(gm,"StructArrayLayout1i2");class Mp extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer)}emplaceBack(n){const i=this.length;return this.resize(i+1),this.emplace(i,n)}emplace(n,i){return this.uint8[1*n+0]=i,n}}Mp.prototype.bytesPerElement=1,lo(Mp,"StructArrayLayout1ub1");class Jg extends vf{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}Jg.prototype.size=40;class vm extends wp{get(n){return new Jg(this,n)}}lo(vm,"CollisionBoxArray");class vh extends vf{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(n){this._structArray.uint8[this._pos1+49]=n}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(n){this._structArray.uint8[this._pos1+50]=n}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(n){this._structArray.uint32[this._pos4+13]=n}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(n){this._structArray.uint8[this._pos1+58]=n}}vh.prototype.size=60;class Qg extends Xu{get(n){return new vh(this,n)}}lo(Qg,"PlacedSymbolArray");class e0 extends vf{get tileAnchorX(){return this._structArray.float32[this._pos4+0]}get tileAnchorY(){return this._structArray.float32[this._pos4+1]}get projectedAnchorX(){return this._structArray.int16[this._pos2+4]}get projectedAnchorY(){return this._structArray.int16[this._pos2+5]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+6]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+7]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+11]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get key(){return this._structArray.uint16[this._pos2+13]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+14]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+15]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+17]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+19]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+21]}get featureIndex(){return this._structArray.uint16[this._pos2+22]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+23]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numIconVertices(){return this._structArray.uint16[this._pos2+25]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+26]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+27]}get crossTileID(){return this._structArray.uint32[this._pos4+14]}set crossTileID(n){this._structArray.uint32[this._pos4+14]=n}get textOffset0(){return this._structArray.float32[this._pos4+15]}get textOffset1(){return this._structArray.float32[this._pos4+16]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+17]}get zOffset(){return this._structArray.float32[this._pos4+18]}set zOffset(n){this._structArray.float32[this._pos4+18]=n}get hasIconTextFit(){return this._structArray.uint8[this._pos1+76]}}e0.prototype.size=80;class t0 extends Yg{get(n){return new e0(this,n)}}lo(t0,"SymbolInstanceArray");class n0 extends Vd{getoffsetX(n){return this.float32[1*n+0]}}lo(n0,"GlyphOffsetArray");class Tp extends md{getx(n){return this.int16[2*n+0]}gety(n){return this.int16[2*n+1]}}lo(Tp,"SymbolLineVertexArray");class yh extends vf{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}yh.prototype.size=12;class _h extends Ip{get(n){return new yh(this,n)}}lo(_h,"FeatureIndexArray");class Hc extends Ku{geta_centroid_pos0(n){return this.uint16[2*n+0]}geta_centroid_pos1(n){return this.uint16[2*n+1]}}lo(Hc,"FillExtrusionCentroidArray");class bh extends vf{get a_join_normal_inside0(){return this._structArray.int16[this._pos2+0]}get a_join_normal_inside1(){return this._structArray.int16[this._pos2+1]}get a_join_normal_inside2(){return this._structArray.int16[this._pos2+2]}}bh.prototype.size=6;class Ov extends yf{get(n){return new bh(this,n)}}lo(Ov,"FillExtrusionWallArray");const Rv=bs([{name:"a_pos",components:2,type:"Int16"}],4),ym=bs([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]);class cl{constructor(n=[]){this.segments=n}_prepareSegment(n,i,d,g){let h=this.segments[this.segments.length-1];return n>cl.MAX_VERTEX_ARRAY_LENGTH&&Fn(`Max vertices per segment is ${cl.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${n}`),(!h||h.vertexLength+n>cl.MAX_VERTEX_ARRAY_LENGTH||h.sortKey!==g)&&(h={vertexOffset:i,primitiveOffset:d,vertexLength:0,primitiveLength:0},g!==void 0&&(h.sortKey=g),this.segments.push(h)),h}prepareSegment(n,i,d,g){return this._prepareSegment(n,i.length,d.length,g)}get(){return this.segments}destroy(){for(const n of this.segments)for(const i in n.vaos)n.vaos[i].destroy()}static simpleSegment(n,i,d,g){return new cl([{vertexOffset:n,primitiveOffset:i,vertexLength:d,primitiveLength:g,vaos:{},sortKey:0}])}}function _m(u,n){return 256*(u=Un(Math.floor(u),0,255))+Un(Math.floor(n),0,255)}cl.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,lo(cl,"SegmentVector");const $v=bs([{name:"a_pattern",components:4,type:"Uint16"},{name:"a_pixel_ratio",components:1,type:"Float32"}]),Pp=bs([{name:"a_dash",components:4,type:"Uint16"}]);class xh{constructor(){this.ids=[],this.uniqueIds=[],this.positions=[],this.indexed=!1}add(n,i,d,g){this.ids.push(r0(n)),this.positions.push(i,d,g)}eachPosition(n,i){const d=r0(n);let g=0,h=this.ids.length-1;for(;g<h;){const v=g+h>>1;this.ids[v]>=d?h=v:g=v+1}for(;this.ids[g]===d;)i(this.positions[3*g],this.positions[3*g+1],this.positions[3*g+2]),g++}static serialize(n,i){const d=new Float64Array(n.ids),g=new Uint32Array(n.positions);return Ch(d,g,0,d.length-1),i&&(i.add(d.buffer),i.add(g.buffer)),{ids:d,positions:g}}static deserialize(n){const i=new xh;let d;i.ids=n.ids,i.positions=n.positions;for(const g of i.ids)g!==d&&i.uniqueIds.push(g),d=g;return i.indexed=!0,i}}function r0(u){const n=+u;return!isNaN(n)&&Number.MIN_SAFE_INTEGER<=n&&n<=Number.MAX_SAFE_INTEGER?n:$o(String(u))}function Ch(u,n,i,d){for(;i<d;){const g=u[i+d>>1];let h=i-1,v=d+1;for(;;){do h++;while(u[h]<g);do v--;while(u[v]>g);if(h>=v)break;bm(u,h,v),bm(n,3*h,3*v),bm(n,3*h+1,3*v+1),bm(n,3*h+2,3*v+2)}v-i<d-v?(Ch(u,n,i,v),i=v+1):(Ch(u,n,v+1,d),d=v)}}function bm(u,n,i){const d=u[n];u[n]=u[i],u[i]=d}lo(xh,"FeaturePositionMap");class vu{constructor(n){this.gl=n.gl,this.initialized=!1}fetchUniformLocation(n,i){return this.location||this.initialized||(this.location=this.gl.getUniformLocation(n,i),this.initialized=!0),!!this.location}set(n,i,d){throw new Error("Uniform#set() must be implemented by each concrete Uniform")}}class Cf extends vu{constructor(n){super(n),this.current=0}set(n,i,d){this.fetchUniformLocation(n,i)&&this.current!==d&&(this.current=d,this.gl.uniform1i(this.location,d))}}class Cl extends vu{constructor(n){super(n),this.current=0}set(n,i,d){this.fetchUniformLocation(n,i)&&this.current!==d&&(this.current=d,this.gl.uniform1f(this.location,d))}}class su extends vu{constructor(n){super(n),this.current=[0,0]}set(n,i,d){this.fetchUniformLocation(n,i)&&(d[0]===this.current[0]&&d[1]===this.current[1]||(this.current=d,this.gl.uniform2f(this.location,d[0],d[1])))}}class Sf extends vu{constructor(n){super(n),this.current=[0,0,0]}set(n,i,d){this.fetchUniformLocation(n,i)&&(d[0]===this.current[0]&&d[1]===this.current[1]&&d[2]===this.current[2]||(this.current=d,this.gl.uniform3f(this.location,d[0],d[1],d[2])))}}class xm extends vu{constructor(n){super(n),this.current=[0,0,0,0]}set(n,i,d){this.fetchUniformLocation(n,i)&&(d[0]===this.current[0]&&d[1]===this.current[1]&&d[2]===this.current[2]&&d[3]===this.current[3]||(this.current=d,this.gl.uniform4f(this.location,d[0],d[1],d[2],d[3])))}}class i0 extends vu{constructor(n){super(n),this.current=Fi.transparent.toRenderColor(null)}set(n,i,d){this.fetchUniformLocation(n,i)&&(d.r===this.current.r&&d.g===this.current.g&&d.b===this.current.b&&d.a===this.current.a||(this.current=d,this.gl.uniform4f(this.location,d.r,d.g,d.b,d.a)))}}const Op=new Float32Array(16);class Sh extends vu{constructor(n){super(n),this.current=Op}set(n,i,d){if(this.fetchUniformLocation(n,i)){if(d[12]!==this.current[12]||d[0]!==this.current[0])return this.current=d,void this.gl.uniformMatrix4fv(this.location,!1,d);for(let g=1;g<16;g++)if(d[g]!==this.current[g]){this.current=d,this.gl.uniformMatrix4fv(this.location,!1,d);break}}}}const o0=new Float32Array(9),Av=new Float32Array(4);class Rp extends vu{constructor(n){super(n),this.current=Av}set(n,i,d){if(this.fetchUniformLocation(n,i)){for(let g=0;g<4;g++)if(d[g]!==this.current[g]){this.current=d,this.gl.uniformMatrix2fv(this.location,!1,d);break}}}}function a0(u){return[_m(255*u.r,255*u.g),_m(255*u.b,255*u.a)]}class Ud{constructor(n,i,d,g){this.value=n,this.uniformNames=i.map(h=>`u_${h}`),this.type=d,this.context=g}setUniform(n,i,d,g,h){const v=g.constantOr(this.value);i.set(n,h,v instanceof Fi?v.toRenderColor(this.ignoreLut?null:this.context.lut):v)}getBinding(n,i){return this.type==="color"?new i0(n):new Cl(n)}}class Wd{constructor(n,i){this.uniformNames=i.map(d=>`u_${d}`),this.pattern=null,this.pixelRatio=1}setConstantPatternPositions(n){this.pixelRatio=n.pixelRatio||1,this.pattern=n.tl.concat(n.br)}setUniform(n,i,d,g,h){const v=h==="u_pattern"||h==="u_dash"?this.pattern:h==="u_pixel_ratio"?this.pixelRatio:null;v&&i.set(n,h,v)}getBinding(n,i){return i==="u_pattern"||i==="u_dash"?new xm(n):new Cl(n)}}class vd{constructor(n,i,d,g){this.expression=n,this.type=d,this.maxValue=0,this.paintVertexAttributes=i.map(h=>({name:`a_${h}`,type:"Float32",components:d==="color"?2:1,offset:0})),this.paintVertexArray=new g}populatePaintArray(n,i,d,g,h,v,S){const T=this.paintVertexArray.length,A=this.expression.kind==="composite"||this.expression.kind==="source"?this.expression.evaluate(new Ws(0,{brightness:v}),i,{},h,g,S):this.expression.kind==="constant"&&this.expression.value;!this.lutExpression||this.lutExpression.kind!=="composite"&&this.lutExpression.kind!=="source"||(this.ignoreLut=this.lutExpression.evaluate(new Ws(0,{brightness:v}),i,{},h,g,S)==="none"),this.paintVertexArray.resize(n),this._setPaintValue(T,n,A,this.context)}updatePaintArray(n,i,d,g,h,v,S){const T=this.expression.kind==="composite"||this.expression.kind==="source"?this.expression.evaluate({zoom:0,brightness:S},d,g,void 0,h):this.expression.kind==="constant"&&this.expression.value;!this.lutExpression||this.lutExpression.kind!=="composite"&&this.lutExpression.kind!=="source"||(this.ignoreLut=this.lutExpression.evaluate({zoom:0,brightness:S},d,g,void 0,h)==="none"),this._setPaintValue(n,i,T,this.context)}_setPaintValue(n,i,d,g){if(this.type==="color"){const h=a0(d.toRenderColor(this.ignoreLut?null:g.lut));for(let v=n;v<i;v++)this.paintVertexArray.emplace(v,h[0],h[1])}else{for(let h=n;h<i;h++)this.paintVertexArray.emplace(h,d);this.maxValue=Math.max(this.maxValue,Math.abs(d))}}upload(n){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=n.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.lutExpression&&this.lutExpression.kind!=="constant"&&(this.lutExpression.isStateDependent||!this.lutExpression.isLightConstant)||this.expression.kind!=="constant"&&(this.expression.isStateDependent||!this.expression.isLightConstant)))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class lu{constructor(n,i,d,g,h,v){this.expression=n,this.uniformNames=i.map(S=>`u_${S}_t`),this.type=d,this.useIntegerZoom=g,this.context=h,this.maxValue=0,this.paintVertexAttributes=i.map(S=>({name:`a_${S}`,type:"Float32",components:d==="color"?4:2,offset:0})),this.paintVertexArray=new v}populatePaintArray(n,i,d,g,h,v,S){const T=this.expression.evaluate(new Ws(this.context.zoom,{brightness:v}),i,{},h,g,S),A=this.expression.evaluate(new Ws(this.context.zoom+1,{brightness:v}),i,{},h,g,S);!this.lutExpression||this.lutExpression.kind!=="composite"&&this.lutExpression.kind!=="source"||(this.ignoreLut=this.lutExpression.evaluate(new Ws(this.context.zoom,{brightness:v}),i,{},h,g,S)==="none");const b=this.paintVertexArray.length;this.paintVertexArray.resize(n),this._setPaintValue(b,n,T,A,this.context)}updatePaintArray(n,i,d,g,h,v,S){const T=this.expression.evaluate({zoom:this.context.zoom,brightness:S},d,g,void 0,h),A=this.expression.evaluate({zoom:this.context.zoom+1,brightness:S},d,g,void 0,h);!this.lutExpression||this.lutExpression.kind!=="composite"&&this.lutExpression.kind!=="source"||(this.ignoreLut=this.lutExpression.evaluate({zoom:this.context.zoom,brightness:S},d,g,void 0,h)==="none"),this._setPaintValue(n,i,T,A,this.context)}_setPaintValue(n,i,d,g,h){if(this.type==="color"){const v=a0(d.toRenderColor(this.ignoreLut?null:h.lut)),S=a0(d.toRenderColor(this.ignoreLut?null:h.lut));for(let T=n;T<i;T++)this.paintVertexArray.emplace(T,v[0],v[1],S[0],S[1])}else{for(let v=n;v<i;v++)this.paintVertexArray.emplace(v,d,g);this.maxValue=Math.max(this.maxValue,Math.abs(d),Math.abs(g))}}upload(n){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=n.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent||!this.expression.isLightConstant))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(n,i,d,g,h){const v=this.useIntegerZoom?Math.floor(d.zoom):d.zoom,S=Un(this.expression.interpolationFactor(v,this.context.zoom,this.context.zoom+1),0,1);i.set(n,h,S)}getBinding(n,i){return new Cl(n)}}class Yu{constructor(n,i,d,g,h){this.expression=n,this.layerId=h,this.paintVertexAttributes=(d==="array"?Pp:$v).members;for(let v=0;v<i.length;++v);this.paintVertexArray=new g}populatePaintArray(n,i,d,g){const h=this.paintVertexArray.length;this.paintVertexArray.resize(n),this._setPaintValues(h,n,i.patterns&&i.patterns[this.layerId],d)}updatePaintArray(n,i,d,g,h,v,S){this._setPaintValues(n,i,d.patterns&&d.patterns[this.layerId],v)}_setPaintValues(n,i,d,g){if(!g||!d)return;const h=g[d];if(!h)return;const{tl:v,br:S,pixelRatio:T}=h;for(let A=n;A<i;A++)this.paintVertexArray.emplace(A,v[0],v[1],S[0],S[1],T)}upload(n){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer=n.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent||!this.expression.isLightConstant))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class $u{constructor(n,i,d=()=>!0){this.binders={},this._buffers=[],this.context=i;const g=[];for(const h in n.paint._values){const v=n.paint.get(h),S=n.paint.get(`${h}-use-theme`);if(h.endsWith("-use-theme")||!d(h)||!(v instanceof pf&&tl(v.property.specification)))continue;const T=zv(h,n.type),A=v.value,b=v.property.specification.type,P=!!v.property.useIntegerZoom,$=h==="line-dasharray"||h.endsWith("pattern"),M=h==="line-dasharray"&&n.layout.get("line-cap").value.kind!=="constant"||S&&S.value.kind!=="constant";if(A.kind!=="constant"||M)if(A.kind==="source"||M||$){const O=yu(h,b,"source");this.binders[h]=$?new Yu(A,T,b,O,n.id):new vd(A,T,b,O),g.push(`/a_${h}`)}else{const O=yu(h,b,"composite");this.binders[h]=new lu(A,T,b,P,i,O),g.push(`/z_${h}`)}else this.binders[h]=$?new Wd(A.value,T):new Ud(A.value,T,b,i),g.push(`/u_${h}`);S&&(this.binders[h].ignoreLut=S.constantOr("default")==="none",this.binders[h].lutExpression=S.value,this.binders[h].checkUseTheme=!0)}this.cacheKey=g.sort().join("")}getMaxValue(n){const i=this.binders[n];return i instanceof vd||i instanceof lu?i.maxValue:0}populatePaintArrays(n,i,d,g,h,v,S){for(const T in this.binders){const A=this.binders[T];A.context=this.context,A instanceof vd||A instanceof lu||A instanceof Yu?A.populatePaintArray(n,i,d,g,h,v,S):A.lutExpression&&A instanceof Ud&&A.lutExpression&&(A.lutExpression.kind==="composite"||A.lutExpression.kind==="source")&&(A.ignoreLut=A.lutExpression.evaluate(new Ws(0,{brightness:v}),i,{},h,g,S)==="none")}}setConstantPatternPositions(n){for(const i in this.binders){const d=this.binders[i];d instanceof Wd&&d.setConstantPatternPositions(n)}}updatePaintArrays(n,i,d,g,h,v,S,T,A){let b=!1;const P=Object.keys(n),$=P.length!==0&&!T,M=$?P:i.uniqueIds;this.context.lut=h.lut;for(const O in this.binders){const N=this.binders[O];if(N.context=this.context,(N instanceof vd||N instanceof lu||N instanceof Yu)&&N.expression&&N.expression.kind&&N.expression.kind!=="constant"&&(N.expression.isStateDependent===!0||N.expression.isLightConstant===!1)){const W=h.paint.get(O);N.expression=W.value;for(const q of M){const ae=n[q.toString()];i.eachPosition(q,(ce,ne,ge)=>{const Ce=g.feature(ce);N.updatePaintArray(ne,ge,Ce,ae,v,S,A)})}if(!$)for(const q of d.uniqueIds){const ae=n[q.toString()];d.eachPosition(q,(ce,ne,ge)=>{const Ce=g.feature(ce);N.updatePaintArray(ne,ge,Ce,ae,v,S,A)})}b=!0}}return b}defines(){const n=[];for(const i in this.binders){const d=this.binders[i];(d instanceof Ud||d instanceof Wd)&&n.push(...d.uniformNames.map(g=>`#define HAS_UNIFORM_${g}`))}return n}getBinderAttributes(){const n=[];for(const i in this.binders){const d=this.binders[i];if(d instanceof vd||d instanceof lu||d instanceof Yu)for(let g=0;g<d.paintVertexAttributes.length;g++)n.push(d.paintVertexAttributes[g].name)}return n}getBinderUniforms(){const n=[];for(const i in this.binders){const d=this.binders[i];if(d instanceof Ud||d instanceof Wd||d instanceof lu)for(const g of d.uniformNames)n.push(g)}return n}getPaintVertexBuffers(){return this._buffers}getUniforms(n){const i=[];for(const d in this.binders){const g=this.binders[d];if(g instanceof Ud||g instanceof Wd||g instanceof lu)for(const h of g.uniformNames)i.push({name:h,property:d,binding:g.getBinding(n,h)})}return i}setUniforms(n,i,d,g,h){for(const{name:v,property:S,binding:T}of d){if(this.binders[S].checkUseTheme&&this.binders[S]instanceof Ud){const A=g.get(`${S}-use-theme`);A.isConstant()&&(this.binders[S].ignoreLut=A.constantOr("default")==="none")}this.binders[S].setUniform(n,T,h,g.get(S),v)}}updatePaintBuffers(){this._buffers=[];for(const n in this.binders){const i=this.binders[n];(i instanceof vd||i instanceof lu||i instanceof Yu)&&i.paintVertexBuffer&&this._buffers.push(i.paintVertexBuffer)}}upload(n){for(const i in this.binders){const d=this.binders[i];(d instanceof vd||d instanceof lu||d instanceof Yu)&&d.upload(n)}this.updatePaintBuffers()}destroy(){for(const n in this.binders){const i=this.binders[n];(i instanceof vd||i instanceof lu||i instanceof Yu)&&i.destroy()}}}class yd{constructor(n,i,d=()=>!0){this.programConfigurations={};for(const g of n)this.programConfigurations[g.id]=new $u(g,i,d);this.needsUpload=!1,this._featureMap=new xh,this._featureMapWithoutIds=new xh,this._bufferOffset=0,this._idlessCounter=0}populatePaintArrays(n,i,d,g,h,v,S,T){for(const A in this.programConfigurations)this.programConfigurations[A].populatePaintArrays(n,i,g,h,v,S,T);i.id!==void 0?this._featureMap.add(i.id,d,this._bufferOffset,n):(this._featureMapWithoutIds.add(this._idlessCounter,d,this._bufferOffset,n),this._idlessCounter+=1),this._bufferOffset=n,this.needsUpload=!0}updatePaintArrays(n,i,d,g,h,v,S){for(const T of d)this.needsUpload=this.programConfigurations[T.id].updatePaintArrays(n,this._featureMap,this._featureMapWithoutIds,i,T,g,h,v,S||0)||this.needsUpload}get(n){return this.programConfigurations[n]}upload(n){if(this.needsUpload){for(const i in this.programConfigurations)this.programConfigurations[i].upload(n);this.needsUpload=!1}}destroy(){for(const n in this.programConfigurations)this.programConfigurations[n].destroy()}}const Dv={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-occlusion-opacity":["occlusion_opacity"],"icon-occlusion-opacity":["occlusion_opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-emissive-strength":["emissive_strength"],"icon-emissive-strength":["emissive_strength"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"symbol-z-offset":["z_offset"],"line-gap-width":["gapwidth"],"line-pattern":["pattern","pixel_ratio"],"fill-pattern":["pattern","pixel_ratio"],"fill-extrusion-pattern":["pattern","pixel_ratio"],"line-dasharray":["dash"]};function zv(u,n){return Dv[u]||[u.replace(`${n}-`,"").replace(/-/g,"_")]}const Lv={"line-pattern":{source:vl,composite:vl},"fill-pattern":{source:vl,composite:vl},"fill-extrusion-pattern":{source:vl,composite:vl},"line-dasharray":{source:gu,composite:gu}},Qc={color:{source:bf,composite:Zd},number:{source:Vd,composite:bf}};function yu(u,n,i){const d=Lv[u];return d&&d[i]||Qc[n][i]}lo(Ud,"ConstantBinder"),lo(Wd,"PatternConstantBinder"),lo(vd,"SourceExpressionBinder"),lo(Yu,"PatternCompositeBinder"),lo(lu,"CompositeExpressionBinder"),lo($u,"ProgramConfiguration",{omit:["_buffers"]}),lo(yd,"ProgramConfigurationSet");const uc=Ii/Math.PI/2,wf=5,s0=6,l0=16383,Ef=64,Cm=[Ef,32,16],xc=-uc,Cc=uc;function If(u,n,i,d=uc){return i=it(i),[u*Math.sin(i)*d,-n*d,u*Math.cos(i)*d]}function Gd(u,n,i){return If(Math.cos(it(u)),Math.sin(it(u)),n,i)}const Kd=63710088e-1,$p=2*Math.PI*Kd;class ms{constructor(n,i){if(isNaN(n)||isNaN(i))throw new Error(`Invalid LngLat object: (${n}, ${i})`);if(this.lng=+n,this.lat=+i,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new ms(ei(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(n){const i=Math.PI/180,d=this.lat*i,g=n.lat*i,h=Math.sin(d)*Math.sin(g)+Math.cos(d)*Math.cos(g)*Math.cos((n.lng-this.lng)*i);return Kd*Math.acos(Math.min(h,1))}toBounds(n=0){const i=360*n/40075017,d=i/Math.cos(Math.PI/180*this.lat);return new qu({lng:this.lng-d,lat:this.lat-i},{lng:this.lng+d,lat:this.lat+i})}toEcef(n){return Gd(this.lat,this.lng,uc+n*uc/Kd)}static convert(n){if(n instanceof ms)return n;if(Array.isArray(n)&&(n.length===2||n.length===3))return new ms(Number(n[0]),Number(n[1]));if(!Array.isArray(n)&&typeof n=="object"&&n!==null)return new ms(Number("lng"in n?n.lng:n.lon),Number(n.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}class qu{constructor(n,i){if(n)if(i)this.setSouthWest(n).setNorthEast(i);else if(n.length===4){const d=n;this.setSouthWest([d[0],d[1]]).setNorthEast([d[2],d[3]])}else{const d=n;this.setSouthWest(d[0]).setNorthEast(d[1])}}setNorthEast(n){return this._ne=n instanceof ms?new ms(n.lng,n.lat):ms.convert(n),this}setSouthWest(n){return this._sw=n instanceof ms?new ms(n.lng,n.lat):ms.convert(n),this}extend(n){const i=this._sw,d=this._ne;let g,h;if(n instanceof ms)g=n,h=n;else{if(!(n instanceof qu))return Array.isArray(n)?n.length===4||n.every(Array.isArray)?this.extend(qu.convert(n)):this.extend(ms.convert(n)):typeof n=="object"&&n!==null&&n.hasOwnProperty("lat")&&(n.hasOwnProperty("lon")||n.hasOwnProperty("lng"))?this.extend(ms.convert(n)):this;if(g=n._sw,h=n._ne,!g||!h)return this}return i||d?(i.lng=Math.min(g.lng,i.lng),i.lat=Math.min(g.lat,i.lat),d.lng=Math.max(h.lng,d.lng),d.lat=Math.max(h.lat,d.lat)):(this._sw=new ms(g.lng,g.lat),this._ne=new ms(h.lng,h.lat)),this}getCenter(){return new ms((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new ms(this.getWest(),this.getNorth())}getSouthEast(){return new ms(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(n){const{lng:i,lat:d}=ms.convert(n);let g=this._sw.lng<=i&&i<=this._ne.lng;return this._sw.lng>this._ne.lng&&(g=this._sw.lng>=i&&i>=this._ne.lng),this._sw.lat<=d&&d<=this._ne.lat&&g}static convert(n){if(n)return n instanceof qu?n:new qu(n)}}const Fs=0,H_=25.5;function Sm(u){return $p*Math.cos(u*Math.PI/180)}function _u(u){return(180+u)/360}function Dc(u){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+u*Math.PI/360)))/360}function Ol(u,n){return u/Sm(n)}function Bc(u){return 360*u-180}function dc(u){return 360/Math.PI*Math.atan(Math.exp((180-360*u)*Math.PI/180))-90}function Ap(u,n){return u*Sm(dc(n))}const rl=85.051129;function Dp(u){return Math.cos(it(Un(u,-rl,rl)))}function zc(u,n){const i=Un(n,Fs,H_),d=Math.pow(2,i);return Dp(u)*$p/(512*d)}function m(u){return 1/Math.cos(u*Math.PI/180)}function r(u,n=0){const i=Math.exp(Math.PI*(1-(u.y+n/Ii)/(1<<u.z)*2));return 80150034*i/(i*i+1)/Ii/(1<<u.z)}class l{constructor(n,i,d=0){this.x=+n,this.y=+i,this.z=+d}static fromLngLat(n,i=0){const d=ms.convert(n);return new l(_u(d.lng),Dc(d.lat),Ol(i,d.lat))}toLngLat(){return new ms(Bc(this.x),dc(this.y))}toAltitude(){return Ap(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/$p*m(dc(this.y))}}function p(u,n,i,d,g,h,v,S,T){const A=(n+d)/2,b=(i+g)/2,P=new In(A,b);S(P),function($,M,O,N,W,q){const ae=O-W,ce=N-q;return Math.abs((N-M)*ae-(O-$)*ce)/Math.hypot(ae,ce)}(P.x,P.y,h.x,h.y,v.x,v.y)>=T?(p(u,n,i,A,b,h,P,S,T),p(u,A,b,d,g,P,v,S,T)):u.push(v)}function _(u,n,i){let d=u[0],g=d.x,h=d.y;n(d);const v=[d];for(let S=1;S<u.length;S++){const T=u[S],{x:A,y:b}=T;n(T),p(v,g,h,A,b,d,T,n,i),g=A,h=b,d=T}return v}function x(u,n,i,d){if(d(n,i)){const g=n.add(i)._mult(.5);x(u,n,g,d),x(u,g,i,d)}else u.push(i)}function E(u,n){let i=u[0];const d=[i];for(let g=1;g<u.length;g++){const h=u[g];x(d,i,h,n),i=h}return d}const R=Math.pow(2,14)-1,B=-R-1;function V(u,n){const i=Math.round(u.x*n),d=Math.round(u.y*n);return u.x=Un(i,B,R),u.y=Un(d,B,R),(i<u.x||i>u.x+1||d<u.y||d>u.y+1)&&Fn("Geometry exceeds allowed extent, reduce your vector tile buffer size"),u}function U(u,n,i){const d=u.loadGeometry(),g=u.extent,h=Ii/g;if(n&&i&&i.projection.isReprojectedInTileSpace){const v=1<<n.z,{scale:S,x:T,y:A,projection:b}=i,P=$=>{const M=Bc((n.x+$.x/g)/v),O=dc((n.y+$.y/g)/v),N=b.project(M,O);$.x=(N.x*S-T)*g,$.y=(N.y*S-A)*g};for(let $=0;$<d.length;$++)if(u.type!==1)d[$]=_(d[$],P,1);else{const M=[];for(const O of d[$])O.x<0||O.x>=g||O.y<0||O.y>=g||(P(O),M.push(O));d[$]=M}}for(const v of d)for(const S of v)V(S,h);return d}function J(u,n){return{type:u.type,id:u.id,properties:u.properties,geometry:n?U(u):[]}}function Q(u,n,i,d,g){u.emplaceBack(2*n+(d+1)/2,2*i+(g+1)/2)}function le(u,n,i){u.emplaceBack(n.x,n.y,n.z,i[0]*16384,i[1]*16384,i[2]*16384)}class Ee{constructor(n){this.zoom=n.zoom,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(i=>i.fqid),this.index=n.index,this.hasPattern=!1,this.projection=n.projection,this.layoutVertexArray=new md,this.indexArray=new Nl,this.segments=new cl,this.programConfigurations=new yd(n.layers,{zoom:n.zoom,lut:n.lut}),this.stateDependentLayerIds=this.layers.filter(i=>i.isStateDependent()).map(i=>i.id)}updateFootprints(n,i){}populate(n,i,d,g){const h=this.layers[0],v=[];let S=null;h.type==="circle"&&(S=h.layout.get("circle-sort-key"));for(const{feature:A,id:b,index:P,sourceLayerIndex:$}of n){const M=this.layers[0]._featureFilter.needGeometry,O=J(A,M);if(!this.layers[0]._featureFilter.filter(new Ws(this.zoom),O,d))continue;const N=S?S.evaluate(O,{},d):void 0,W={id:b,properties:A.properties,type:A.type,sourceLayerIndex:$,index:P,geometry:M?O.geometry:U(A,d,g),patterns:{},sortKey:N};v.push(W)}S&&v.sort((A,b)=>A.sortKey-b.sortKey);let T=null;g.projection.name==="globe"&&(this.globeExtVertexArray=new Wl,T=g.projection);for(const A of v){const{geometry:b,index:P,sourceLayerIndex:$}=A,M=n[P].feature;this.addFeature(A,b,P,i.availableImages,d,T,i.brightness),i.featureIndex.insert(M,b,P,$,this.index)}}update(n,i,d,g,h,v,S){this.programConfigurations.updatePaintArrays(n,i,h,d,g,v,S)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(n){this.uploaded||(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,Rv.members),this.indexBuffer=n.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=n.createVertexBuffer(this.globeExtVertexArray,ym.members))),this.programConfigurations.upload(n),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}addFeature(n,i,d,g,h,v,S){for(const T of i)for(const A of T){const b=A.x,P=A.y;if(b<0||b>=Ii||P<0||P>=Ii)continue;if(v){const O=v.projectTilePoint(b,P,h),N=v.upVector(h,b,P),W=this.globeExtVertexArray;le(W,O,N),le(W,O,N),le(W,O,N),le(W,O,N)}const $=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,n.sortKey),M=$.vertexLength;Q(this.layoutVertexArray,b,P,-1,-1),Q(this.layoutVertexArray,b,P,1,-1),Q(this.layoutVertexArray,b,P,1,1),Q(this.layoutVertexArray,b,P,-1,1),this.indexArray.emplaceBack(M,M+1,M+2),this.indexArray.emplaceBack(M,M+2,M+3),$.vertexLength+=4,$.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,d,{},g,h,S)}}function be(u,n){for(let i=0;i<u.length;i++)if(Pt(n,u[i]))return!0;for(let i=0;i<n.length;i++)if(Pt(u,n[i]))return!0;return!!xt(u,n)}function Ae(u,n,i){return!!Pt(u,n)||!!Bt(n,u,i)}function Pe(u,n){if(u.length===1)return Dt(n,u[0]);for(let i=0;i<n.length;i++){const d=n[i];for(let g=0;g<d.length;g++)if(Pt(u,d[g]))return!0}for(let i=0;i<u.length;i++)if(Dt(n,u[i]))return!0;for(let i=0;i<n.length;i++)if(xt(u,n[i]))return!0;return!1}function Qe(u,n,i){if(u.length>1){if(xt(u,n))return!0;for(let d=0;d<n.length;d++)if(Bt(n[d],u,i))return!0}for(let d=0;d<u.length;d++)if(Bt(u[d],n,i))return!0;return!1}function xt(u,n){if(u.length===0||n.length===0)return!1;for(let i=0;i<u.length-1;i++){const d=u[i],g=u[i+1];for(let h=0;h<n.length-1;h++)if(gt(d,g,n[h],n[h+1]))return!0}return!1}function gt(u,n,i,d){return Si(u,i,d)!==Si(n,i,d)&&Si(u,n,i)!==Si(u,n,d)}function Bt(u,n,i){const d=i*i;if(n.length===1)return u.distSqr(n[0])<d;for(let g=1;g<n.length;g++)if(Rt(u,n[g-1],n[g])<d)return!0;return!1}function Rt(u,n,i){const d=n.distSqr(i);if(d===0)return u.distSqr(n);const g=((u.x-n.x)*(i.x-n.x)+(u.y-n.y)*(i.y-n.y))/d;return u.distSqr(g<0?n:g>1?i:i.sub(n)._mult(g)._add(n))}function Dt(u,n){let i,d,g,h=!1;for(let v=0;v<u.length;v++){i=u[v];for(let S=0,T=i.length-1;S<i.length;T=S++)d=i[S],g=i[T],d.y>n.y!=g.y>n.y&&n.x<(g.x-d.x)*(n.y-d.y)/(g.y-d.y)+d.x&&(h=!h)}return h}function Pt(u,n){let i=!1;for(let d=0,g=u.length-1;d<u.length;g=d++){const h=u[d],v=u[g];h.y>n.y!=v.y>n.y&&n.x<(v.x-h.x)*(n.y-h.y)/(v.y-h.y)+h.x&&(i=!i)}return i}function qt(u,n,i,d,g){for(const v of u)if(n<=v.x&&i<=v.y&&d>=v.x&&g>=v.y)return!0;const h=[new In(n,i),new In(n,g),new In(d,g),new In(d,i)];if(u.length>2){for(const v of h)if(Pt(u,v))return!0}for(let v=0;v<u.length-1;v++)if(mn(u[v],u[v+1],h))return!0;return!1}function mn(u,n,i){const d=i[0],g=i[2];if(u.x<d.x&&n.x<d.x||u.x>g.x&&n.x>g.x||u.y<d.y&&n.y<d.y||u.y>g.y&&n.y>g.y)return!1;const h=Si(u,n,i[0]);return h!==Si(u,n,i[1])||h!==Si(u,n,i[2])||h!==Si(u,n,i[3])}function nr(u,n,i,d,g,h){let v=n.y-u.y,S=u.x-n.x;if(h=h||0){const T=v*v+S*S;if(T===0)return!0;const A=Math.sqrt(T);v/=A,S/=A}return!((i.x-u.x)*v+(i.y-u.y)*S-h<0||(d.x-u.x)*v+(d.y-u.y)*S-h<0||(g.x-u.x)*v+(g.y-u.y)*S-h<0)}function Wn(u,n,i,d,g,h,v){return!(nr(u,n,d,g,h,v)||nr(n,i,d,g,h,v)||nr(i,u,d,g,h,v)||nr(d,g,u,n,i,v)||nr(g,h,u,n,i,v)||nr(h,d,u,n,i,v))}function Pr(u,n,i){const d=n.paint.get(u).value;return d.kind==="constant"?d.value:i.programConfigurations.get(n.id).getMaxValue(u)}function Er(u){return Math.sqrt(u[0]*u[0]+u[1]*u[1])}function Nn(u,n,i,d,g){if(!n[0]&&!n[1])return u;const h=In.convert(n)._mult(g);i==="viewport"&&h._rotate(-d);const v=[];for(let S=0;S<u.length;S++)v.push(u[S].sub(h));return v}function ar(u,n,i,d){const g=In.convert(u)._mult(d);return n==="viewport"&&g._rotate(-i),g}let Kr,Ln;lo(Ee,"CircleBucket",{omit:["layers"]});var Ar,cr={exports:{}},bi=(Ar||(Ar=1,function(u,n){(function(i){function d(h,v,S){var T=g(256*h,256*(v=Math.pow(2,S)-v-1),S),A=g(256*(h+1),256*(v+1),S);return T[0]+","+T[1]+","+A[0]+","+A[1]}function g(h,v,S){var T=2*Math.PI*6378137/256/Math.pow(2,S);return[h*T-2*Math.PI*6378137/2,v*T-2*Math.PI*6378137/2]}i.getURL=function(h,v,S,T,A,b){return b=b||{},h+"?"+["bbox="+d(S,T,A),"format="+(b.format||"image/png"),"service="+(b.service||"WMS"),"version="+(b.version||"1.1.1"),"request="+(b.request||"GetMap"),"srs="+(b.srs||"EPSG:3857"),"width="+(b.width||256),"height="+(b.height||256),"layers="+v].join("&")},i.getTileBBox=d,i.getMercCoords=g,Object.defineProperty(i,"__esModule",{value:!0})})(n)}(0,cr.exports)),cr.exports);class Vr{constructor(n,i,d){this.z=n,this.x=i,this.y=d,this.key=Ci(0,n,n,i,d)}equals(n){return this.z===n.z&&this.x===n.x&&this.y===n.y}url(n,i){const d=bi.getTileBBox(this.x,this.y,this.z),g=function(h,v,S){let T,A="";for(let b=h;b>0;b--)T=1<<b-1,A+=(v&T?1:0)+(S&T?2:0);return A}(this.z,this.x,this.y);return n[(this.x+this.y)%n.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(i==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",g).replace("{bbox-epsg-3857}",d)}toString(){return`${this.z}/${this.x}/${this.y}`}}class $r{constructor(n,i){this.wrap=n,this.canonical=i,this.key=Ci(n,i.z,i.z,i.x,i.y)}}class fi{constructor(n,i,d,g,h){this.overscaledZ=n,this.wrap=i,this.canonical=new Vr(d,+g,+h),this.key=i===0&&n===d?this.canonical.key:Ci(i,n,d,g,h)}equals(n){return this.overscaledZ===n.overscaledZ&&this.wrap===n.wrap&&this.canonical.equals(n.canonical)}scaledTo(n){const i=this.canonical.z-n;return n>this.canonical.z?new fi(n,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new fi(n,this.wrap,n,this.canonical.x>>i,this.canonical.y>>i)}calculateScaledKey(n,i=!0){if(this.overscaledZ===n&&i)return this.key;if(n>this.canonical.z)return Ci(this.wrap*+i,n,this.canonical.z,this.canonical.x,this.canonical.y);{const d=this.canonical.z-n;return Ci(this.wrap*+i,n,n,this.canonical.x>>d,this.canonical.y>>d)}}isChildOf(n){if(n.wrap!==this.wrap)return!1;const i=this.canonical.z-n.canonical.z;return n.overscaledZ===0||n.overscaledZ<this.overscaledZ&&n.canonical.z<this.canonical.z&&n.canonical.x===this.canonical.x>>i&&n.canonical.y===this.canonical.y>>i}children(n){if(this.overscaledZ>=n)return[new fi(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const i=this.canonical.z+1,d=2*this.canonical.x,g=2*this.canonical.y;return[new fi(i,this.wrap,i,d,g),new fi(i,this.wrap,i,d+1,g),new fi(i,this.wrap,i,d,g+1),new fi(i,this.wrap,i,d+1,g+1)]}isLessThan(n){return this.wrap<n.wrap||!(this.wrap>n.wrap)&&(this.overscaledZ<n.overscaledZ||!(this.overscaledZ>n.overscaledZ)&&(this.canonical.x<n.canonical.x||!(this.canonical.x>n.canonical.x)&&this.canonical.y<n.canonical.y))}wrapped(){return new fi(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(n){return new fi(this.overscaledZ,n,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new $r(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function Ci(u,n,i,d,g){const h=1<<Math.min(i,22);let v=h*(g%h)+d%h;return u&&i<22&&(v+=h*h*((u<0?-2*u-1:2*u)%(1<<2*(22-i)))),16*(32*v+i)+(n-i)}const Vi=[u=>{let n=u.canonical.x-1,i=u.wrap;return n<0&&(n=(1<<u.canonical.z)-1,i--),new fi(u.overscaledZ,i,u.canonical.z,n,u.canonical.y)},u=>{let n=u.canonical.x+1,i=u.wrap;return n===1<<u.canonical.z&&(n=0,i++),new fi(u.overscaledZ,i,u.canonical.z,n,u.canonical.y)},u=>new fi(u.overscaledZ,u.wrap,u.canonical.z,u.canonical.x,(u.canonical.y===0?1<<u.canonical.z:u.canonical.y)-1),u=>new fi(u.overscaledZ,u.wrap,u.canonical.z,u.canonical.x,u.canonical.y===(1<<u.canonical.z)-1?0:u.canonical.y+1)];lo(Vr,"CanonicalTileID"),lo(fi,"OverscaledTileID",{omit:["projMatrix","expandedProjMatrix"]});const ao=bs([{type:"Float32",name:"a_globe_pos",components:3},{type:"Float32",name:"a_uv",components:2}]),{members:ia}=ao,Fo=bs([{name:"a_pos_3",components:3,type:"Int16"}]);var Zo=bs([{name:"a_pos",type:"Int16",components:2}]);class ga{constructor(n,i){this.pos=n,this.dir=i}intersectsPlane(n,i,d){const g=Te.vec3.dot(i,this.dir);if(Math.abs(g)<1e-6)return!1;const h=((n[0]-this.pos[0])*i[0]+(n[1]-this.pos[1])*i[1]+(n[2]-this.pos[2])*i[2])/g;return d[0]=this.pos[0]+this.dir[0]*h,d[1]=this.pos[1]+this.dir[1]*h,d[2]=this.pos[2]+this.dir[2]*h,!0}closestPointOnSphere(n,i,d){if(Te.vec3.equals(this.pos,n)||i===0)return d[0]=d[1]=d[2]=0,!1;const[g,h,v]=this.dir,S=this.pos[0]-n[0],T=this.pos[1]-n[1],A=this.pos[2]-n[2],b=g*g+h*h+v*v,P=2*(S*g+T*h+A*v),$=P*P-4*b*(S*S+T*T+A*A-i*i);if($<0){const M=Math.max(-P/2,0),O=S+g*M,N=T+h*M,W=A+v*M,q=Math.hypot(O,N,W);return d[0]=O*i/q,d[1]=N*i/q,d[2]=W*i/q,!1}{const M=(-P-Math.sqrt($))/(2*b);if(M<0){const O=Math.hypot(S,T,A);return d[0]=S*i/O,d[1]=T*i/O,d[2]=A*i/O,!1}return d[0]=S+g*M,d[1]=T+h*M,d[2]=A+v*M,!0}}}class as{constructor(n,i,d,g,h){this.TL=n,this.TR=i,this.BR=d,this.BL=g,this.horizon=h}static fromInvProjectionMatrix(n,i,d){const g=[-1,1,1],h=[1,1,1],v=[1,-1,1],S=[-1,-1,1],T=Te.vec3.transformMat4(g,g,n),A=Te.vec3.transformMat4(h,h,n),b=Te.vec3.transformMat4(v,v,n),P=Te.vec3.transformMat4(S,S,n);return new as(T,A,b,P,i/d)}}function ps(u,n,i){let d=1/0,g=-1/0;const h=[];for(const v of u){Te.vec3.sub(h,v,n);const S=Te.vec3.dot(h,i);d=Math.min(d,S),g=Math.max(g,S)}return[d,g]}function ul(u,n){let i=!0;for(let d=0;d<u.planes.length;d++){const g=u.planes[d];let h=0;for(let v=0;v<n.length;v++)h+=Te.vec3.dot(g,n[v])+g[3]>=0;if(h===0)return 0;h!==n.length&&(i=!1)}return i?2:1}function Ks(u,n){for(const i of u.projections){const d=ps(n,u.points[0],i.axis);if(i.projection[1]<d[0]||i.projection[0]>d[1])return 0}return 1}function Ma(u,n){let i=0;const d=[0,0,0,0];for(let g=0;g<u.length;g++)d[0]=u[g][0],d[1]=u[g][1],d[2]=u[g][2],d[3]=1,Te.vec4.dot(d,n)>=0&&i++;return i}class us{constructor(n,i){this.points=n||new Array(8).fill([0,0,0]),this.planes=i||new Array(6).fill([0,0,0,0]),this.bounds=Eo.fromPoints(this.points),this.projections=[],this.frustumEdges=[Te.vec3.sub([],this.points[2],this.points[3]),Te.vec3.sub([],this.points[0],this.points[3]),Te.vec3.sub([],this.points[4],this.points[0]),Te.vec3.sub([],this.points[5],this.points[1]),Te.vec3.sub([],this.points[6],this.points[2]),Te.vec3.sub([],this.points[7],this.points[3])];for(const d of this.frustumEdges){const g=[0,-d[2],d[1]],h=[d[2],0,-d[0]];this.projections.push({axis:g,projection:ps(this.points,this.points[0],g)}),this.projections.push({axis:h,projection:ps(this.points,this.points[0],h)})}}static fromInvProjectionMatrix(n,i,d,g){const h=Math.pow(2,d),v=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(A=>{const b=Te.vec4.transformMat4([],A,n),P=1/b[3]/i*h;return Te.vec4.mul(b,b,[P,P,g?1/b[3]:P,P])}),S=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(A=>{const b=Te.vec3.sub([],v[A[0]],v[A[1]]),P=Te.vec3.sub([],v[A[2]],v[A[1]]),$=Te.vec3.normalize([],Te.vec3.cross([],b,P)),M=-Te.vec3.dot($,v[A[1]]);return $.concat(M)}),T=[];for(let A=0;A<v.length;A++)T.push([v[A][0],v[A][1],v[A][2]]);return new us(T,S)}intersectsPrecise(n,i,d){for(let g=0;g<i.length;g++)if(!Ma(n,i[g]))return 0;for(let g=0;g<this.planes.length;g++)if(!Ma(n,this.planes[g]))return 0;for(const g of d)for(const h of this.frustumEdges){const v=Te.vec3.cross([],g,h),S=Te.vec3.length(v);if(S===0)continue;Te.vec3.scale(v,v,1/S);const T=ps(this.points,this.points[0],v),A=ps(n,this.points[0],v);if(T[0]>A[1]||A[0]>T[1])return 0}return 1}containsPoint(n){for(const i of this.planes){const d=i[3];if(Te.vec3.dot([i[0],i[1],i[2]],n)+d<0)return!1}return!0}}class Eo{static fromPoints(n){const i=[1/0,1/0,1/0],d=[-1/0,-1/0,-1/0];for(const g of n)Te.vec3.min(i,i,g),Te.vec3.max(d,d,g);return new Eo(i,d)}static fromTileIdAndHeight(n,i,d){const g=1<<n.canonical.z,h=n.canonical.x,v=n.canonical.y;return new Eo([h/g,v/g,i],[(h+1)/g,(v+1)/g,d])}static applyTransform(n,i){const d=n.getCorners();for(let g=0;g<d.length;++g)Te.vec3.transformMat4(d[g],d[g],i);return Eo.fromPoints(d)}static applyTransformFast(n,i){const d=[i[12],i[13],i[14]],g=[...d];for(let h=0;h<3;h++)for(let v=0;v<3;v++){const S=i[4*v+h],T=S*n.min[v],A=S*n.max[v];d[h]+=Math.min(T,A),g[h]+=Math.max(T,A)}return new Eo(d,g)}static projectAabbCorners(n,i){const d=n.getCorners();for(let g=0;g<d.length;++g)Te.vec3.transformMat4(d[g],d[g],i);return d}constructor(n,i){this.min=n,this.max=i,this.center=Te.vec3.scale([],Te.vec3.add([],this.min,this.max),.5)}quadrant(n){const i=[n%2==0,n<2],d=Te.vec3.clone(this.min),g=Te.vec3.clone(this.max);for(let h=0;h<i.length;h++)d[h]=i[h]?this.min[h]:this.center[h],g[h]=i[h]?this.center[h]:this.max[h];return g[2]=this.max[2],new Eo(d,g)}distanceX(n){return Math.max(Math.min(this.max[0],n[0]),this.min[0])-n[0]}distanceY(n){return Math.max(Math.min(this.max[1],n[1]),this.min[1])-n[1]}distanceZ(n){return Math.max(Math.min(this.max[2],n[2]),this.min[2])-n[2]}getCorners(){const n=this.min,i=this.max;return[[n[0],n[1],n[2]],[i[0],n[1],n[2]],[i[0],i[1],n[2]],[n[0],i[1],n[2]],[n[0],n[1],i[2]],[i[0],n[1],i[2]],[i[0],i[1],i[2]],[n[0],i[1],i[2]]]}intersects(n){return this.intersectsAabb(n.bounds)?ul(n,this.getCorners()):0}intersectsFlat(n){return this.intersectsAabb(n.bounds)?ul(n,[[this.min[0],this.min[1],0],[this.max[0],this.min[1],0],[this.max[0],this.max[1],0],[this.min[0],this.max[1],0]]):0}intersectsPrecise(n,i){return i||this.intersects(n)?Ks(n,this.getCorners()):0}intersectsPreciseFlat(n,i){return i||this.intersectsFlat(n)?Ks(n,[[this.min[0],this.min[1],0],[this.max[0],this.min[1],0],[this.max[0],this.max[1],0],[this.min[0],this.max[1],0]]):0}intersectsAabb(n){for(let i=0;i<3;++i)if(this.min[i]>n.max[i]||n.min[i]>this.max[i])return!1;return!0}intersectsAabbXY(n){return!(this.min[0]>n.max[0]||n.min[0]>this.max[0]||this.min[1]>n.max[1]||n.min[1]>this.max[1])}encapsulate(n){for(let i=0;i<3;i++)this.min[i]=Math.min(this.min[i],n.min[i]),this.max[i]=Math.max(this.max[i],n.max[i])}encapsulatePoint(n){for(let i=0;i<3;i++)this.min[i]=Math.min(this.min[i],n[i]),this.max[i]=Math.max(this.max[i],n[i])}closestPoint(n){return[Math.max(Math.min(this.max[0],n[0]),this.min[0]),Math.max(Math.min(this.max[1],n[1]),this.min[1]),Math.max(Math.min(this.max[2],n[2]),this.min[2])]}}function _a(u){return u*uc/Kd}lo(Eo,"Aabb");const ys=[new Eo([xc,xc,xc],[Cc,Cc,Cc]),new Eo([xc,xc,xc],[0,0,Cc]),new Eo([0,xc,xc],[Cc,0,Cc]),new Eo([xc,0,xc],[0,Cc,Cc]),new Eo([0,0,xc],[Cc,Cc,Cc])];function xs(u,n,i,d=!0){const g=Te.vec3.scale([],u._camera.position,u.worldSize),h=[n,i,1,1];Te.vec4.transformMat4(h,h,u.pixelMatrixInverse),Te.vec4.scale(h,h,1/h[3]);const v=Te.vec3.sub([],h,g),S=Te.vec3.normalize([],v),T=u.globeMatrix,A=[T[12],T[13],T[14]],b=Te.vec3.sub([],A,g),P=Te.vec3.length(b),$=Te.vec3.normalize([],b),M=u.worldSize/(2*Math.PI),O=Te.vec3.dot($,S),N=Math.asin(M/P);if(N<Math.acos(O)){if(!d)return null;const Zt=[],pt=[];Te.vec3.scale(Zt,S,P/O),Te.vec3.normalize(pt,Te.vec3.sub(pt,Zt,b)),Te.vec3.normalize(S,Te.vec3.add(S,b,Te.vec3.scale(S,pt,Math.tan(N)*P)))}const W=[];new ga(g,S).closestPointOnSphere(A,M,W);const q=Te.vec3.normalize([],en(T,0)),ae=Te.vec3.normalize([],en(T,1)),ce=Te.vec3.normalize([],en(T,2)),ne=Te.vec3.dot(q,W),ge=Te.vec3.dot(ae,W),Ce=Te.vec3.dot(ce,W),De=Ot(Math.asin(-ge/M));let ut=Ot(Math.atan2(ne,Ce));ut=u.center.lng+function(Zt,pt){const Yt=(pt-Zt+180)%360-180;return Yt<-180?Yt+360:Yt}(u.center.lng,ut);const st=_u(ut),tt=Un(Dc(De),0,1);return new l(st,tt)}class dl{constructor(n,i,d){this.a=Te.vec3.sub([],n,d),this.b=Te.vec3.sub([],i,d),this.center=d;const g=Te.vec3.normalize([],this.a),h=Te.vec3.normalize([],this.b);this.angle=Math.acos(Te.vec3.dot(g,h))}}function Gl(u,n){if(u.angle===0)return null;let i;return i=u.a[n]===0?1/u.angle*.5*Math.PI:1/u.angle*Math.atan(u.b[n]/u.a[n]/Math.sin(u.angle)-1/Math.tan(u.angle)),i<0||i>1?null:function(d,g,h,v){const S=Math.sin(h);return d*(Math.sin((1-v)*h)/S)+g*(Math.sin(v*h)/S)}(u.a[n],u.b[n],u.angle,Un(i,0,1))+u.center[n]}function Bl(u){if(u.z<=1)return ys[u.z+2*u.y+u.x];const n=ks(al(u));return Eo.fromPoints(n)}function Fl(u,n,i){return Te.vec3.scale(u,u,1-i),Te.vec3.scaleAndAdd(u,u,n,i)}function eu(u,n,i){for(const d of u)Te.vec3.transformMat4(d,d,n),Te.vec3.scale(d,d,i)}function Ic(u,n,i,d){const g=n/u.worldSize,h=u.globeMatrix;if(i.z<=1){const st=Bl(i).getCorners();return eu(st,h,g),Eo.fromPoints(st)}const v=al(i,d),S=ks(v,uc+_a(u._tileCoverLift));eu(S,h,g);const T=Number.MAX_VALUE,A=[-T,-T,-T],b=[T,T,T];if(v.contains(u.center)){for(const Zt of S)Te.vec3.min(b,b,Zt),Te.vec3.max(A,A,Zt);A[2]=0;const st=u.point,tt=[st.x*g,st.y*g,0];return Te.vec3.min(b,b,tt),Te.vec3.max(A,A,tt),new Eo(b,A)}if(u._tileCoverLift>0){for(const st of S)Te.vec3.min(b,b,st),Te.vec3.max(A,A,st);return new Eo(b,A)}const P=[h[12]*g,h[13]*g,h[14]*g],$=v.getCenter(),M=Un(u.center.lat,-rl,rl),O=Un($.lat,-rl,rl),N=_u(u.center.lng),W=Dc(M);let q=N-_u($.lng);const ae=W-Dc(O);q>.5?q-=1:q<-.5&&(q+=1);let ce=0;if(Math.abs(q)>Math.abs(ae))ce=q>=0?1:3;else{ce=ae>=0?0:2;const st=[h[4]*g,h[5]*g,h[6]*g],tt=-Math.sin(it(ae>=0?v.getSouth():v.getNorth()))*uc;Te.vec3.scaleAndAdd(P,P,st,tt)}const ne=S[ce],ge=S[(ce+1)%4],Ce=new dl(ne,ge,P),De=[Gl(Ce,0)||ne[0],Gl(Ce,1)||ne[1],Gl(Ce,2)||ne[2]],ut=Tc(u.zoom);if(ut>0){const st=function({x:Zt,y:pt,z:Yt},un,on,hn,On){const kn=1/(1<<Yt);let Cn=Zt*kn,Sr=Cn+kn,Gr=pt*kn,br=Gr+kn,Bi=0;const Ti=(Cn+Sr)/2-hn;return Ti>.5?Bi=-1:Ti<-.5&&(Bi=1),Cn=((Cn+Bi)*un-(hn*=un))*on+hn,Sr=((Sr+Bi)*un-hn)*on+hn,Gr=(Gr*un-(On*=un))*on+On,br=(br*un-On)*on+On,[[Cn,br,0],[Sr,br,0],[Sr,Gr,0],[Cn,Gr,0]]}(i,n,u._pixelsPerMercatorPixel,N,W);for(let Zt=0;Zt<S.length;Zt++)Fl(S[Zt],st[Zt],ut);const tt=Te.vec3.add([],st[ce],st[(ce+1)%4]);Te.vec3.scale(tt,tt,.5),Fl(De,tt,ut)}for(const st of S)Te.vec3.min(b,b,st),Te.vec3.max(A,A,st);return b[2]=Math.min(ne[2],ge[2]),Te.vec3.min(b,b,De),Te.vec3.max(A,A,De),new Eo(b,A)}function al({x:u,y:n,z:i},d=!1){const g=1/(1<<i),h=new ms(Bc(u*g),n===(1<<i)-1&&d?-90:dc((n+1)*g)),v=new ms(Bc((u+1)*g),n===0&&d?90:dc(n*g));return new qu(h,v)}function ks(u,n=uc){const i=it(u.getNorth()),d=it(u.getSouth()),g=Math.cos(i),h=Math.cos(d),v=Math.sin(i),S=Math.sin(d),T=u.getWest(),A=u.getEast();return[If(h,S,T,n),If(h,S,A,n),If(g,v,A,n),If(g,v,T,n)]}function Rs(u,n,i,d){const g=1<<i.z,h=(u/Ii+i.x)/g;return Gd(dc((n/Ii+i.y)/g),Bc(h),d)}function rs({min:u,max:n}){return l0/Math.max(n[0]-u[0],n[1]-u[1],n[2]-u[2])}const fl=new Float64Array(16);function nc(u){const n=rs(u),i=Te.mat4.fromScaling(fl,[n,n,n]);return Te.mat4.translate(i,i,Te.vec3.negate([],u.min))}function Ns(u){const n=Te.mat4.fromTranslation(fl,u.min),i=1/rs(u);return Te.mat4.scale(n,n,[i,i,i])}function Mc(u){const n=Ii/(2*Math.PI);return u/(2*Math.PI)/n}function Uc(u,n){return Ii/(512*Math.pow(2,u))*rs(Bl(n))}function Wc(u,n,i,d,g){const h=Mc(i),v=[u,n,-i/(2*Math.PI)],S=Te.mat4.identity(new Float64Array(16));return Te.mat4.translate(S,S,v),Te.mat4.scale(S,S,[h,h,h]),Te.mat4.rotateX(S,S,it(-g)),Te.mat4.rotateY(S,S,it(-d)),S}function Tc(u){return Xr(wf,s0,u)}function bu(u,n){const i=Gd(n.lat,n.lng),d=function(h){const v=Gd(h._center.lat,h._center.lng),S=Te.vec3.fromValues(0,1,0);let T=Te.vec3.cross([],S,v);const A=Te.mat4.fromRotation([],-h.angle,v);T=Te.vec3.transformMat4(T,T,A),Te.mat4.fromRotation(A,-h._pitch,T);const b=Te.vec3.normalize([],v);return Te.vec3.scale(b,b,_a(h.cameraToCenterDistance/h.pixelsPerMeter)),Te.vec3.transformMat4(b,b,A),Te.vec3.add([],v,b)}(u),g=Te.vec3.subtract([],d,i);return Te.vec3.angle(g,i)}function cu(u,n){return bu(u,n)>Math.PI/2*1.01}const mc=it(85),Xd=Math.cos(mc),Au=Math.sin(mc),xu=Te.mat4.create(),_d=u=>{const n=[];return u.paint.get("circle-pitch-alignment")==="map"&&n.push("PITCH_WITH_MAP"),u.paint.get("circle-pitch-scale")==="map"&&n.push("SCALE_WITH_MAP"),n};function wm(u,n,i,d,g,h,v,S,T){if(h&&u.queryGeometry.isAboveHorizon)return!1;h&&(T*=u.pixelToTileUnitsFactor);const A=u.tileID.canonical,b=i.projection.upVectorScale(A,i.center.lat,i.worldSize).metersToTile;for(const P of n)for(const $ of P){const M=$.add(S),O=g&&i.elevation?i.elevation.exaggeration()*g.getElevationAt(M.x,M.y,!0):0,N=i.projection.projectTilePoint(M.x,M.y,A);if(O>0){const ce=i.projection.upVector(A,M.x,M.y);N.x+=ce[0]*b*O,N.y+=ce[1]*b*O,N.z+=ce[2]*b*O}const W=h?M:zp(N.x,N.y,N.z,d),q=h?u.tilespaceRays.map(ce=>lC(ce,O)):u.queryGeometry.screenGeometry,ae=Te.vec4.transformMat4([],[N.x,N.y,N.z,1],d);if(!v&&h?T*=ae[3]/i.cameraToCenterDistance:v&&!h&&(T*=i.cameraToCenterDistance/ae[3]),h){const ce=dc(($.y/Ii+A.y)/(1<<A.z));T/=i.projection.pixelsPerMeter(ce,1)/Ol(1,ce)}if(Ae(q,W,T))return!0}return!1}function zp(u,n,i,d){const g=Te.vec4.transformMat4([],[u,n,i,1],d);return new In(g[0]/g[3],g[1]/g[3])}const U_=Te.vec3.fromValues(0,0,0),sC=Te.vec3.fromValues(0,0,1);function lC(u,n){const i=Te.vec3.create();return U_[2]=n,u.intersectsPlane(U_,sC,i),new In(i[0],i[1])}class Nv extends Ee{}let W_,Bv,Fv,kv;function G_(u,{width:n,height:i},d,g){if(g){if(g instanceof Uint8ClampedArray)g=new Uint8Array(g.buffer);else if(g.length!==n*i*d)throw new RangeError("mismatched image size")}else g=new Uint8Array(n*i*d);return u.width=n,u.height=i,u.data=g,u}function K_(u,n,i){const{width:d,height:g}=n;d===u.width&&g===u.height||(jv(u,n,{x:0,y:0},{x:0,y:0},{width:Math.min(u.width,d),height:Math.min(u.height,g)},i,null),u.width=d,u.height=g,u.data=n.data)}function jv(u,n,i,d,g,h,v,S){if(g.width===0||g.height===0)return n;if(g.width>u.width||g.height>u.height||i.x>u.width-g.width||i.y>u.height-g.height)throw new RangeError("out of range source coordinates for image copy");if(g.width>n.width||g.height>n.height||d.x>n.width-g.width||d.y>n.height-g.height)throw new RangeError("out of range destination coordinates for image copy");const T=u.data,A=n.data,b=h===4&&S;for(let P=0;P<g.height;P++){const $=((i.y+P)*u.width+i.x)*h,M=((d.y+P)*n.width+d.x)*h;if(b)for(let O=0;O<g.width;O++){const N=$+O*h+3,W=M+O*h;A[W+0]=255,A[W+1]=255,A[W+2]=255,A[W+3]=T[N]}else if(v)for(let O=0;O<g.width;O++){const N=$+O*h,W=M+O*h,q=T[N+3],ae=new Fi(T[N+0]/255*q,T[N+1]/255*q,T[N+2]/255*q,q).toRenderColor(v).toArray();A[W+0]=ae[0],A[W+1]=ae[1],A[W+2]=ae[2],A[W+3]=ae[3]}else for(let O=0;O<g.width*h;O++)A[M+O]=T[$+O]}return n}lo(Nv,"HeatmapBucket",{omit:["layers"]});class Yd{constructor(n,i){G_(this,n,1,i)}resize(n){K_(this,new Yd(n),1)}clone(){return new Yd({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(n,i,d,g,h){jv(n,i,d,g,h,1,null)}}class Sc{constructor(n,i){G_(this,n,4,i)}resize(n){K_(this,new Sc(n),4)}replace(n,i){i?this.data.set(n):this.data=n instanceof Uint8ClampedArray?new Uint8Array(n.buffer):n}clone(){return new Sc({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(n,i,d,g,h,v,S){jv(n,i,d,g,h,4,v,S)}}class Lp{constructor(n,i){this.width=n.width,this.height=n.height,this.data=i instanceof Uint8Array?new Float32Array(i.buffer):i}}function Np(u){const n={},i=u.resolution||256,d=u.clips?u.clips.length:1,g=u.image||new Sc({width:i,height:d}),h=(v,S,T)=>{n[u.evaluationKey]=T;const A=u.expression.evaluate(n);A&&(g.data[v+S+0]=Math.floor(255*A.r/A.a),g.data[v+S+1]=Math.floor(255*A.g/A.a),g.data[v+S+2]=Math.floor(255*A.b/A.a),g.data[v+S+3]=Math.floor(255*A.a))};if(u.clips)for(let v=0,S=0;v<d;++v,S+=4*i)for(let T=0,A=0;T<i;T++,A+=4){const b=T/(i-1),{start:P,end:$}=u.clips[v];h(S,A,P*(1-b)+$*b)}else for(let v=0,S=0;v<i;v++,S+=4)h(0,S,v/(i-1));return g}lo(Yd,"AlphaImage"),lo(Sc,"RGBAImage");const o2=bs([{name:"a_pos",components:2,type:"Int16"}],4),{members:X_}=o2;function Bp(u,n,i=2){const d=n&&n.length,g=d?n[0]*i:u.length;let h=Y_(u,0,g,i,!0);const v=[];if(!h||h.next===h.prev)return v;let S,T,A;if(d&&(h=function(b,P,$,M){const O=[];for(let N=0,W=P.length;N<W;N++){const q=Y_(b,P[N]*M,N<W-1?P[N+1]*M:b.length,M,!1);q===q.next&&(q.steiner=!0),O.push(Q_(q))}O.sort(s2);for(let N=0;N<O.length;N++)$=q_(O[N],$);return $}(u,n,h,i)),u.length>80*i){S=1/0,T=1/0;let b=-1/0,P=-1/0;for(let $=i;$<g;$+=i){const M=u[$],O=u[$+1];M<S&&(S=M),O<T&&(T=O),M>b&&(b=M),O>P&&(P=O)}A=Math.max(b-S,P-T),A=A!==0?32767/A:0}return Fp(h,v,i,S,T,A,0),v}function Y_(u,n,i,d,g){let h;if(g===function(v,S,T,A){let b=0;for(let P=S,$=T-A;P<T;P+=A)b+=(v[$]-v[P])*(v[P+1]+v[$+1]),$=P;return b}(u,n,i,d)>0)for(let v=n;v<i;v+=d)h=uC(v/d|0,u[v],u[v+1],h);else for(let v=i-d;v>=n;v-=d)h=uC(v/d|0,u[v],u[v+1],h);return h&&kp(h,h.next)&&(jp(h),h=h.next),h}function wh(u,n){if(!u)return u;n||(n=u);let i,d=u;do if(i=!1,d.steiner||!kp(d,d.next)&&Kl(d.prev,d,d.next)!==0)d=d.next;else{if(jp(d),d=n=d.prev,d===d.next)break;i=!0}while(i||d!==n);return n}function Fp(u,n,i,d,g,h,v){if(!u)return;!v&&h&&function(T,A,b,P){let $=T;do $.z===0&&($.z=J_($.x,$.y,A,b,P)),$.prevZ=$.prev,$.nextZ=$.next,$=$.next;while($!==T);$.prevZ.nextZ=null,$.prevZ=null,function(M){let O,N=1;do{let W,q=M;M=null;let ae=null;for(O=0;q;){O++;let ce=q,ne=0;for(let Ce=0;Ce<N&&(ne++,ce=ce.nextZ,ce);Ce++);let ge=N;for(;ne>0||ge>0&&ce;)ne!==0&&(ge===0||!ce||q.z<=ce.z)?(W=q,q=q.nextZ,ne--):(W=ce,ce=ce.nextZ,ge--),ae?ae.nextZ=W:M=W,W.prevZ=ae,ae=W;q=ce}ae.nextZ=null,N*=2}while(O>1)}($)}(u,d,g,h);let S=u;for(;u.prev!==u.next;){const T=u.prev,A=u.next;if(h?a2(u,d,g,h):Zv(u))n.push(T.i,u.i,A.i),jp(u),u=A.next,S=A.next;else if((u=A)===S){v?v===1?Fp(u=c0(wh(u),n),n,i,d,g,h,2):v===2&&cC(u,n,i,d,g,h):Fp(wh(u),n,i,d,g,h,1);break}}}function Zv(u){const n=u.prev,i=u,d=u.next;if(Kl(n,i,d)>=0)return!1;const g=n.x,h=i.x,v=d.x,S=n.y,T=i.y,A=d.y,b=g<h?g<v?g:v:h<v?h:v,P=S<T?S<A?S:A:T<A?T:A,$=g>h?g>v?g:v:h>v?h:v,M=S>T?S>A?S:A:T>A?T:A;let O=d.next;for(;O!==n;){if(O.x>=b&&O.x<=$&&O.y>=P&&O.y<=M&&Em(g,S,h,T,v,A,O.x,O.y)&&Kl(O.prev,O,O.next)>=0)return!1;O=O.next}return!0}function a2(u,n,i,d){const g=u.prev,h=u,v=u.next;if(Kl(g,h,v)>=0)return!1;const S=g.x,T=h.x,A=v.x,b=g.y,P=h.y,$=v.y,M=S<T?S<A?S:A:T<A?T:A,O=b<P?b<$?b:$:P<$?P:$,N=S>T?S>A?S:A:T>A?T:A,W=b>P?b>$?b:$:P>$?P:$,q=J_(M,O,n,i,d),ae=J_(N,W,n,i,d);let ce=u.prevZ,ne=u.nextZ;for(;ce&&ce.z>=q&&ne&&ne.z<=ae;){if(ce.x>=M&&ce.x<=N&&ce.y>=O&&ce.y<=W&&ce!==g&&ce!==v&&Em(S,b,T,P,A,$,ce.x,ce.y)&&Kl(ce.prev,ce,ce.next)>=0||(ce=ce.prevZ,ne.x>=M&&ne.x<=N&&ne.y>=O&&ne.y<=W&&ne!==g&&ne!==v&&Em(S,b,T,P,A,$,ne.x,ne.y)&&Kl(ne.prev,ne,ne.next)>=0))return!1;ne=ne.nextZ}for(;ce&&ce.z>=q;){if(ce.x>=M&&ce.x<=N&&ce.y>=O&&ce.y<=W&&ce!==g&&ce!==v&&Em(S,b,T,P,A,$,ce.x,ce.y)&&Kl(ce.prev,ce,ce.next)>=0)return!1;ce=ce.prevZ}for(;ne&&ne.z<=ae;){if(ne.x>=M&&ne.x<=N&&ne.y>=O&&ne.y<=W&&ne!==g&&ne!==v&&Em(S,b,T,P,A,$,ne.x,ne.y)&&Kl(ne.prev,ne,ne.next)>=0)return!1;ne=ne.nextZ}return!0}function c0(u,n){let i=u;do{const d=i.prev,g=i.next.next;!kp(d,g)&&Sl(d,i,i.next,g)&&u0(d,g)&&u0(g,d)&&(n.push(d.i,i.i,g.i),jp(i),jp(i.next),i=u=g),i=i.next}while(i!==u);return wh(i)}function cC(u,n,i,d,g,h){let v=u;do{let S=v.next.next;for(;S!==v.prev;){if(v.i!==S.i&&Vv(v,S)){let T=eb(v,S);return v=wh(v,v.next),T=wh(T,T.next),Fp(v,n,i,d,g,h,0),void Fp(T,n,i,d,g,h,0)}S=S.next}v=v.next}while(v!==u)}function s2(u,n){return u.x-n.x}function q_(u,n){const i=function(g,h){let v=h;const S=g.x,T=g.y;let A,b=-1/0;do{if(T<=v.y&&T>=v.next.y&&v.next.y!==v.y){const N=v.x+(T-v.y)*(v.next.x-v.x)/(v.next.y-v.y);if(N<=S&&N>b&&(b=N,A=v.x<v.next.x?v:v.next,N===S))return A}v=v.next}while(v!==h);if(!A)return null;const P=A,$=A.x,M=A.y;let O=1/0;v=A;do{if(S>=v.x&&v.x>=$&&S!==v.x&&Em(T<M?S:b,T,$,M,T<M?b:S,T,v.x,v.y)){const N=Math.abs(T-v.y)/(S-v.x);u0(v,g)&&(N<O||N===O&&(v.x>A.x||v.x===A.x&&Du(A,v)))&&(A=v,O=N)}v=v.next}while(v!==P);return A}(u,n);if(!i)return n;const d=eb(i,u);return wh(d,d.next),wh(i,i.next)}function Du(u,n){return Kl(u.prev,u,n.prev)<0&&Kl(n.next,u,u.next)<0}function J_(u,n,i,d,g){return(u=1431655765&((u=858993459&((u=252645135&((u=16711935&((u=(u-i)*g|0)|u<<8))|u<<4))|u<<2))|u<<1))|(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=(n-d)*g|0)|n<<8))|n<<4))|n<<2))|n<<1))<<1}function Q_(u){let n=u,i=u;do(n.x<i.x||n.x===i.x&&n.y<i.y)&&(i=n),n=n.next;while(n!==u);return i}function Em(u,n,i,d,g,h,v,S){return(g-v)*(n-S)>=(u-v)*(h-S)&&(u-v)*(d-S)>=(i-v)*(n-S)&&(i-v)*(h-S)>=(g-v)*(d-S)}function Vv(u,n){return u.next.i!==n.i&&u.prev.i!==n.i&&!function(i,d){let g=i;do{if(g.i!==i.i&&g.next.i!==i.i&&g.i!==d.i&&g.next.i!==d.i&&Sl(g,g.next,i,d))return!0;g=g.next}while(g!==i);return!1}(u,n)&&(u0(u,n)&&u0(n,u)&&function(i,d){let g=i,h=!1;const v=(i.x+d.x)/2,S=(i.y+d.y)/2;do g.y>S!=g.next.y>S&&g.next.y!==g.y&&v<(g.next.x-g.x)*(S-g.y)/(g.next.y-g.y)+g.x&&(h=!h),g=g.next;while(g!==i);return h}(u,n)&&(Kl(u.prev,u,n.prev)||Kl(u,n.prev,n))||kp(u,n)&&Kl(u.prev,u,u.next)>0&&Kl(n.prev,n,n.next)>0)}function Kl(u,n,i){return(n.y-u.y)*(i.x-n.x)-(n.x-u.x)*(i.y-n.y)}function kp(u,n){return u.x===n.x&&u.y===n.y}function Sl(u,n,i,d){const g=Pc(Kl(u,n,i)),h=Pc(Kl(u,n,d)),v=Pc(Kl(i,d,u)),S=Pc(Kl(i,d,n));return g!==h&&v!==S||!(g!==0||!Im(u,i,n))||!(h!==0||!Im(u,d,n))||!(v!==0||!Im(i,u,d))||!(S!==0||!Im(i,n,d))}function Im(u,n,i){return n.x<=Math.max(u.x,i.x)&&n.x>=Math.min(u.x,i.x)&&n.y<=Math.max(u.y,i.y)&&n.y>=Math.min(u.y,i.y)}function Pc(u){return u>0?1:u<0?-1:0}function u0(u,n){return Kl(u.prev,u,u.next)<0?Kl(u,n,u.next)>=0&&Kl(u,u.prev,n)>=0:Kl(u,n,u.prev)<0||Kl(u,u.next,n)<0}function eb(u,n){const i=d0(u.i,u.x,u.y),d=d0(n.i,n.x,n.y),g=u.next,h=n.prev;return u.next=n,n.prev=u,i.next=g,g.prev=i,d.next=i,i.prev=d,h.next=d,d.prev=h,d}function uC(u,n,i,d){const g=d0(u,n,i);return d?(g.next=d.next,g.prev=d,d.next.prev=g,d.next=g):(g.prev=g,g.next=g),g}function jp(u){u.next.prev=u.prev,u.prev.next=u.next,u.prevZ&&(u.prevZ.nextZ=u.nextZ),u.nextZ&&(u.nextZ.prevZ=u.prevZ)}function d0(u,n,i){return{i:u,x:n,y:i,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function Hv(u,n){const i=u.length;if(i<=1)return[u];const d=[];let g,h;for(let v=0;v<i;v++){const S=mi(u[v]);S!==0&&(u[v].area=Math.abs(S),h===void 0&&(h=S<0),h===S<0?(g&&d.push(g),g=[u[v]]):g.push(u[v]))}if(g&&d.push(g),n>1)for(let v=0;v<d.length;v++)d[v].length<=n||(_s(d[v],n,1,d[v].length-1,tb),d[v]=d[v].slice(0,n));return d}function tb(u,n){return n.area-u.area}function Uv(u,n,i=1){if(!u)return null;const d=typeof u=="string"?u:u.getPrimary().id;n[d]||(n[d]=[]);const g=si.from(d).getPrimary().scaleSelf(i);return n[d].push(g),g.serialize()}function nb(u,n,i,d){const g=d.patternDependencies;let h=!1;for(const v of n){const S=v.paint.get(`${u}-pattern`);S.isConstant()||(h=!0),Uv(S.constantOr(null),g,i)&&(h=!0)}return h}function Wv(u,n,i,d,g,h){const v=h.patternDependencies;for(const S of n){const T=S.paint.get(`${u}-pattern`).value;if(T.kind!=="constant"){let A=T.evaluate({zoom:d},i,{},h.availableImages);A=A&&A.name?A.name:A;const b=Uv(A,v,g);b&&(i.patterns[S.id]=b)}}return i}class f0{constructor(n){this.zoom=n.zoom,this.pixelRatio=n.pixelRatio,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(i=>i.fqid),this.index=n.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new md,this.indexArray=new Nl,this.indexArray2=new Ku,this.programConfigurations=new yd(n.layers,{zoom:n.zoom,lut:n.lut}),this.segments=new cl,this.segments2=new cl,this.stateDependentLayerIds=this.layers.filter(i=>i.isStateDependent()).map(i=>i.id),this.projection=n.projection}updateFootprints(n,i){}populate(n,i,d,g){this.hasPattern=nb("fill",this.layers,this.pixelRatio,i);const h=this.layers[0].layout.get("fill-sort-key"),v=[];for(const{feature:S,id:T,index:A,sourceLayerIndex:b}of n){const P=this.layers[0]._featureFilter.needGeometry,$=J(S,P);if(!this.layers[0]._featureFilter.filter(new Ws(this.zoom),$,d))continue;const M=h?h.evaluate($,{},d,i.availableImages):void 0,O={id:T,properties:S.properties,type:S.type,sourceLayerIndex:b,index:A,geometry:P?$.geometry:U(S,d,g),patterns:{},sortKey:M};v.push(O)}h&&v.sort((S,T)=>S.sortKey-T.sortKey);for(const S of v){const{geometry:T,index:A,sourceLayerIndex:b}=S;if(this.hasPattern){const P=Wv("fill",this.layers,S,this.zoom,this.pixelRatio,i);this.patternFeatures.push(P)}else this.addFeature(S,T,A,d,{},i.availableImages,i.brightness,i.elevationFeatures);i.featureIndex.insert(n[A].feature,T,A,b,this.index)}}update(n,i,d,g,h,v,S){this.programConfigurations.updatePaintArrays(n,i,h,d,g,v,S)}addFeatures(n,i,d,g,h,v){for(const S of this.patternFeatures)this.addFeature(S,S.geometry,S.index,i,d,g,v,n.elevationFeatures)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(n){this.uploaded||(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,X_),this.indexBuffer=n.createIndexBuffer(this.indexArray),this.indexBuffer2=n.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(n),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(n,i,d,g,h,v=[],S,T){for(const A of Hv(i,500)){let b=0;for(const W of A)b+=W.length;const P=this.segments.prepareSegment(b,this.layoutVertexArray,this.indexArray),$=P.vertexLength,M=[],O=[];for(const W of A){if(W.length===0)continue;W!==A[0]&&O.push(M.length/2);const q=this.segments2.prepareSegment(W.length,this.layoutVertexArray,this.indexArray2),ae=q.vertexLength;this.layoutVertexArray.emplaceBack(W[0].x,W[0].y),this.indexArray2.emplaceBack(ae+W.length-1,ae),M.push(W[0].x),M.push(W[0].y);for(let ce=1;ce<W.length;ce++)this.layoutVertexArray.emplaceBack(W[ce].x,W[ce].y),this.indexArray2.emplaceBack(ae+ce-1,ae+ce),M.push(W[ce].x),M.push(W[ce].y);q.vertexLength+=W.length,q.primitiveLength+=W.length}const N=Bp(M,O);for(let W=0;W<N.length;W+=3)this.indexArray.emplaceBack($+N[W],$+N[W+1],$+N[W+2]);P.vertexLength+=b,P.primitiveLength+=N.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,d,h,v,g,S)}}let Gv,rb,ib,ob;lo(f0,"FillBucket",{omit:["layers","patternFeatures"]});class ab{constructor(n,i,d,g){if(this.triangleCount=i.length/3,this.min=new In(0,0),this.max=new In(0,0),this.xScale=0,this.yScale=0,this.cellsX=0,this.cellsY=0,this.cells=[],this.payload=[],this.triangleCount===0||n.length===0)return;const[h,v]=[n[0].clone(),n[0].clone()];for(let P=1;P<n.length;++P){const $=n[P];h.x=Math.min(h.x,$.x),h.y=Math.min(h.y,$.y),v.x=Math.max(v.x,$.x),v.y=Math.max(v.y,$.y)}if(g){const P=Math.ceil(Math.max(v.x-h.x,v.y-h.y)/g);d=Math.max(d,P)}if(d===0)return;this.min=h,this.max=v;const S=this.max.sub(this.min);S.x=Math.max(S.x,1),S.y=Math.max(S.y,1);const T=Math.max(S.x,S.y)/d;this.cellsX=Math.max(1,Math.ceil(S.x/T)),this.cellsY=Math.max(1,Math.ceil(S.y/T)),this.xScale=1/T,this.yScale=1/T;const A=[];for(let P=0;P<this.triangleCount;P++){const $=n[i[3*P+0]].sub(this.min),M=n[i[3*P+1]].sub(this.min),O=n[i[3*P+2]].sub(this.min),N=Ju(Math.floor(Math.min($.x,M.x,O.x)),this.xScale,this.cellsX),W=Ju(Math.floor(Math.max($.x,M.x,O.x)),this.xScale,this.cellsX),q=Ju(Math.floor(Math.min($.y,M.y,O.y)),this.yScale,this.cellsY),ae=Ju(Math.floor(Math.max($.y,M.y,O.y)),this.yScale,this.cellsY),ce=new In(0,0),ne=new In(0,0),ge=new In(0,0),Ce=new In(0,0);for(let De=q;De<=ae;++De){ce.y=ne.y=De*T,ge.y=Ce.y=(De+1)*T;for(let ut=N;ut<=W;++ut)ce.x=ge.x=ut*T,ne.x=Ce.x=(ut+1)*T,(Wn($,M,O,ce,ne,Ce)||Wn($,M,O,ce,Ce,ge))&&A.push({cellIdx:De*this.cellsX+ut,triIdx:P})}}if(A.length===0)return;A.sort((P,$)=>P.cellIdx-$.cellIdx||P.triIdx-$.triIdx);let b=0;for(;b<A.length;){const P=A[b].cellIdx,$={start:this.payload.length,len:0};for(;b<A.length&&A[b].cellIdx===P;)++$.len,this.payload.push(A[b++].triIdx);this.cells[P]=$}}_lazyInitLookup(){this.lookup||(this.lookup=new Uint8Array(Math.ceil(this.triangleCount/8))),this.lookup.fill(0)}queryPoint(n,i){if(this.triangleCount===0||this.cells.length===0||n.x>this.max.x||this.min.x>n.x||n.y>this.max.y||this.min.y>n.y)return;const d=Ju(n.x-this.min.x,this.xScale,this.cellsX),g=Ju(n.y-this.min.y,this.yScale,this.cellsY),h=this.cells[g*this.cellsX+d];if(h){this._lazyInitLookup();for(let v=0;v<h.len;v++){const S=this.payload[h.start+v],T=Math.floor(S/8),A=1<<S%8;if(!(this.lookup[T]&A)&&(this.lookup[T]|=A,i.push(S),i.length===this.triangleCount))return}}}query(n,i,d){if(this.triangleCount===0||this.cells.length===0||n.x>this.max.x||this.min.x>i.x||n.y>this.max.y||this.min.y>i.y)return;this._lazyInitLookup();const g=Ju(n.x-this.min.x,this.xScale,this.cellsX),h=Ju(i.x-this.min.x,this.xScale,this.cellsX),v=Ju(n.y-this.min.y,this.yScale,this.cellsY),S=Ju(i.y-this.min.y,this.yScale,this.cellsY);for(let T=v;T<=S;T++)for(let A=g;A<=h;A++){const b=this.cells[T*this.cellsX+A];if(b)for(let P=0;P<b.len;P++){const $=this.payload[b.start+P],M=Math.floor($/8),O=1<<$%8;if(!(this.lookup[M]&O)&&(this.lookup[M]|=O,d.push($),d.length===this.triangleCount))return}}}}function Ju(u,n,i){return Math.max(0,Math.min(i-1,Math.floor(u*n)))}lo(ab,"TriangleGridIndex");class sb{constructor(n){this.zoom=n.zoom,this.layers=n.layers,this.layerIds=this.layers.map(i=>i.fqid),this.index=n.index,this.hasPattern=!1,this.stateDependentLayerIds=this.layers.filter(i=>i.isStateDependent()).map(i=>i.id),this.footprints=[]}updateFootprints(n,i){for(const d of this.footprints)i.push({footprint:d,id:n})}populate(n,i,d,g){const h=[];for(const{feature:v,id:S,index:T,sourceLayerIndex:A}of n){const b=this.layers[0]._featureFilter.needGeometry,P=J(v,b);if(!this.layers[0]._featureFilter.filter(new Ws(this.zoom),P,d))continue;const $={id:S,properties:v.properties,type:v.type,sourceLayerIndex:A,index:T,geometry:b?P.geometry:U(v,d,g),patterns:{}};h.push($)}for(const v of h){const{geometry:S,index:T,sourceLayerIndex:A}=v;this.addFeature(v,S,T,d,{},i.availableImages,i.brightness),i.featureIndex.insert(n[T].feature,S,T,A,this.index)}}isEmpty(){return this.footprints.length===0}uploadPending(){return!1}upload(n){}update(n,i,d,g,h,v,S){}destroy(){}addFeature(n,i,d,g,h,v=[],S){for(const T of Hv(i,2)){const A=[],b=[],P=[],$=new In(1/0,1/0),M=new In(-1/0,-1/0);for(const W of T)if(W.length!==0){W!==T[0]&&P.push(b.length/2);for(let q=0;q<W.length;q++)b.push(W[q].x),b.push(W[q].y),A.push(W[q]),$.x=Math.min($.x,W[q].x),$.y=Math.min($.y,W[q].y),M.x=Math.max(M.x,W[q].x),M.y=Math.max(M.y,W[q].y)}const O=Bp(b,P),N=new ab(A,O,8,256);this.footprints.push({vertices:A,indices:O,grid:N,min:$,max:M})}}}lo(sb,"ClipBucket",{omit:["layers"]});const Kv=bs([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),dC=bs([{name:"a_pos_end",components:4,type:"Int16"},{name:"a_angular_offset_factor",components:1,type:"Int16"}]),l2=bs([{name:"a_centroid_pos",components:2,type:"Uint16"}]),fC=bs([{name:"a_join_normal_inside",components:3,type:"Int16"}]),Zp=bs([{name:"a_hidden_by_landmark",components:1,type:"Uint8"}]),Xv=bs([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),{members:h0}=Kv;var Eh,Vp,lb,cb,Yv,ub,db,qv={};function m0(){if(Vp)return Eh;Vp=1;var u=kr();function n(g,h,v,S,T){this.properties={},this.extent=v,this.type=0,this._pbf=g,this._geometry=-1,this._keys=S,this._values=T,g.readFields(i,this,h)}function i(g,h,v){g==1?h.id=v.readVarint():g==2?function(S,T){for(var A=S.readVarint()+S.pos;S.pos<A;){var b=T._keys[S.readVarint()],P=T._values[S.readVarint()];T.properties[b]=P}}(v,h):g==3?h.type=v.readVarint():g==4&&(h._geometry=v.pos)}function d(g){for(var h,v,S=0,T=0,A=g.length,b=A-1;T<A;b=T++)S+=((v=g[b]).x-(h=g[T]).x)*(h.y+v.y);return S}return Eh=n,n.types=["Unknown","Point","LineString","Polygon"],n.prototype.loadGeometry=function(){var g=this._pbf;g.pos=this._geometry;for(var h,v=g.readVarint()+g.pos,S=1,T=0,A=0,b=0,P=[];g.pos<v;){if(T<=0){var $=g.readVarint();S=7&$,T=$>>3}if(T--,S===1||S===2)A+=g.readSVarint(),b+=g.readSVarint(),S===1&&(h&&P.push(h),h=[]),h.push(new u(A,b));else{if(S!==7)throw new Error("unknown command "+S);h&&h.push(h[0].clone())}}return h&&P.push(h),P},n.prototype.bbox=function(){var g=this._pbf;g.pos=this._geometry;for(var h=g.readVarint()+g.pos,v=1,S=0,T=0,A=0,b=1/0,P=-1/0,$=1/0,M=-1/0;g.pos<h;){if(S<=0){var O=g.readVarint();v=7&O,S=O>>3}if(S--,v===1||v===2)(T+=g.readSVarint())<b&&(b=T),T>P&&(P=T),(A+=g.readSVarint())<$&&($=A),A>M&&(M=A);else if(v!==7)throw new Error("unknown command "+v)}return[b,$,P,M]},n.prototype.toGeoJSON=function(g,h,v){var S,T,A=this.extent*Math.pow(2,v),b=this.extent*g,P=this.extent*h,$=this.loadGeometry(),M=n.types[this.type];function O(q){for(var ae=0;ae<q.length;ae++){var ce=q[ae];q[ae]=[360*(ce.x+b)/A-180,360/Math.PI*Math.atan(Math.exp((180-360*(ce.y+P)/A)*Math.PI/180))-90]}}switch(this.type){case 1:var N=[];for(S=0;S<$.length;S++)N[S]=$[S][0];O($=N);break;case 2:for(S=0;S<$.length;S++)O($[S]);break;case 3:for($=function(q){var ae=q.length;if(ae<=1)return[q];for(var ce,ne,ge=[],Ce=0;Ce<ae;Ce++){var De=d(q[Ce]);De!==0&&(ne===void 0&&(ne=De<0),ne===De<0?(ce&&ge.push(ce),ce=[q[Ce]]):ce.push(q[Ce]))}return ce&&ge.push(ce),ge}($),S=0;S<$.length;S++)for(T=0;T<$[S].length;T++)O($[S][T])}$.length===1?$=$[0]:M="Multi"+M;var W={type:"Feature",geometry:{type:M,coordinates:$},properties:this.properties};return"id"in this&&(W.id=this.id),W},Eh}function fb(){if(cb)return lb;cb=1;var u=m0();function n(d,g){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=d,this._keys=[],this._values=[],this._features=[],d.readFields(i,this,g),this.length=this._features.length}function i(d,g,h){d===15?g.version=h.readVarint():d===1?g.name=h.readString():d===5?g.extent=h.readVarint():d===2?g._features.push(h.pos):d===3?g._keys.push(h.readString()):d===4&&g._values.push(function(v){for(var S=null,T=v.readVarint()+v.pos;v.pos<T;){var A=v.readVarint()>>3;S=A===1?v.readString():A===2?v.readFloat():A===3?v.readDouble():A===4?v.readVarint64():A===5?v.readVarint():A===6?v.readSVarint():A===7?v.readBoolean():null}return S}(h))}return lb=n,n.prototype.feature=function(d){if(d<0||d>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[d];var g=this._pbf.readVarint()+this._pbf.pos;return new u(this._pbf,g,this.extent,this._keys,this._values)},lb}function hb(){return db||(db=1,qv.VectorTile=function(){if(ub)return Yv;ub=1;var u=fb();function n(i,d,g){if(i===3){var h=new u(g,g.readVarint()+g.pos);h.length&&(d[h.name]=h)}}return Yv=function(i,d){this.layers=i.readFields(n,{},d)},Yv}(),qv.VectorTileFeature=m0(),qv.VectorTileLayer=fb()),qv}var Mf=hb();class Tf extends In{constructor(n,i,d){super(n,i),this.z=d}}class p0 extends Tf{constructor(n,i,d,g){super(n,i,d),this.w=g}}function g0(u,n,i,d){const g=[],h=d===0?(v,S,T,A,b,P)=>{v.push(new In(P,T+(P-S)/(A-S)*(b-T)))}:(v,S,T,A,b,P)=>{v.push(new In(S+(P-T)/(b-T)*(A-S),P))};for(const v of u){const S=[];for(const T of v){if(T.length<=2)continue;const A=[];for(let $=0;$<T.length-1;$++){const M=T[$].x,O=T[$].y,N=T[$+1].x,W=T[$+1].y,q=d===0?M:O,ae=d===0?N:W;q<n?ae>n&&h(A,M,O,N,W,n):q>i?ae<i&&h(A,M,O,N,W,i):A.push(T[$]),ae<n&&q>=n&&h(A,M,O,N,W,n),ae>i&&q<=i&&h(A,M,O,N,W,i)}let b=T[T.length-1];const P=d===0?b.x:b.y;P>=n&&P<=i&&A.push(b),A.length&&(b=A[A.length-1],A[0].x===b.x&&A[0].y===b.y||A.push(A[0]),S.push(A))}S.length&&g.push(S)}return g}function mb(u,n,i,d){const g=i==="x"?"y":"x",h=(d-u[i])/(n[i]-u[i]);u[g]=u[g]+(n[g]-u[g])*h,u[i]=d,u.hasOwnProperty("z")&&(u.z=Rr(u.z,n.z,h)),u.hasOwnProperty("w")&&(u.w=Rr(u.w,n.w,h))}function Jv(u,n,i,d){const g=i,h=d;for(const v of["x","y"]){let S=u,T=n;S[v]>=T[v]&&(S=n,T=u),S[v]<g&&T[v]>g&&mb(S,T,v,g),S[v]<h&&T[v]>h&&mb(T,S,v,h)}}const v0=Number.MAX_SAFE_INTEGER;function y0(u,n,i,d){return u.order<n||u.order===v0||!(u.clipMask&i)||function(g,h){return h.length!==0&&h.find(v=>v===g)===void 0}(d,u.clipScope)}function Hp(u,n){return u.x-n.x||u.y-n.y}function Qv(u,n){return Hp(u.min,n.min)===0&&Hp(u.max,n.max)===0}function ey(u,n){return!(u.min.x>n.max.x||u.max.x<n.min.x||u.min.y>n.max.y||u.max.y<n.min.y)}function ty(u,n){if(u.length!==n.length)return!1;for(let i=0;i<u.length;i++)if(u[i].sourceId!==n[i].sourceId||!Qv(u[i],n[i])||u[i].order!==n[i].order||u[i].clipMask!==n[i].clipMask||!Nr(u[i].clipScope,n[i].clipScope))return!1;return!0}function pb(u,n,i){const d=1/Ii,g=1/(1<<i.canonical.z),h=(n.x*d+i.canonical.x)*g+i.wrap,v=(n.y*d+i.canonical.y)*g;return{min:new In((u.x*d+i.canonical.x)*g+i.wrap,(u.y*d+i.canonical.y)*g),max:new In(h,v)}}function hC(u,n,i){const d=1<<i.canonical.z,g=((n.x-i.wrap)*d-i.canonical.x)*Ii,h=(n.y*d-i.canonical.y)*Ii;return{min:new In(((u.x-i.wrap)*d-i.canonical.x)*Ii,(u.y*d-i.canonical.y)*Ii),max:new In(g,h)}}function ny(u,n,i,d,g,h,v){const S=u.indices,T=u.vertices,A=[];for(let b=d;b<d+g;b+=3){const P=n[i[b+0]+h],$=n[i[b+1]+h],M=n[i[b+2]+h],O=Math.min(P.x,$.x,M.x),N=Math.max(P.x,$.x,M.x),W=Math.min(P.y,$.y,M.y),q=Math.max(P.y,$.y,M.y);A.length=0,u.grid.query(new In(O,W),new In(N,q),A);for(let ae=0;ae<A.length;ae++){const ce=A[ae];if(Wn(T[S[3*ce+0]],T[S[3*ce+1]],T[S[3*ce+2]],P,$,M,v))return!0}}return!1}function gb(u,n,i,d){if(!u||!i)return!1;let g=u.vertices;if(!n.canonical.equals(d.canonical)||n.wrap!==d.wrap){if(i.vertices.length<u.vertices.length)return gb(i,d,u,n);const h=n.canonical,v=d.canonical,S=Math.pow(2,v.z-h.z);g=u.vertices.map(T=>new In((T.x+h.x*Ii)*S-v.x*Ii,(T.y+h.y*Ii)*S-v.y*Ii))}return ny(i,g,u.indices,0,u.indices.length,0,0)}function vb(u,n,i,d){const g=Math.pow(2,d.z-i.z);return new In((u+i.x*Ii)*g-d.x*Ii,(n+i.y*Ii)*g-d.y*Ii)}function yb(u,n){const i=[];n.grid.queryPoint(u,i);const d=n.indices,g=n.vertices;for(let h=0;h<i.length;h++){const v=i[h];if(Pt([g[d[3*v+0]],g[d[3*v+1]],g[d[3*v+2]]],u))return!0}return!1}const ry=[new In(0,0),new In(Ii,0),new In(Ii,Ii),new In(0,Ii)];function _0(u,n){const i=[];let d=[];if(!n||u.length<2)return[u];if(u.length===2)return mn(u[0],u[1],ry)?[u]:[];for(let g=0;g<u.length+2;g++){const h=u[g%u.length],v=u[(g+1)%u.length],S=mn(g===0?u[u.length-1]:u[(g-1)%u.length],h,ry),T=mn(h,v,ry),A=S||T;A&&d.push(h),A&&T||d.length>0&&(d.length>1&&i.push(d),d=[])}return d.length>1&&i.push(d),i}const iy=Mf.VectorTileFeature.types,mC=["fill-extrusion-base","fill-extrusion-height","fill-extrusion-color","fill-extrusion-pattern","fill-extrusion-flood-light-wall-radius","fill-extrusion-line-width","fill-extrusion-emissive-strength"],pC=["fill-extrusion-flood-light-ground-radius"],uu=Math.pow(2,13),gC=Math.pow(2,15)-1,_b=new In(0,1),Pf=2147483648;function Up(u,n,i,d,g,h,v,S){u.emplaceBack((n<<1)+v,(i<<1)+h,(Math.floor(d*uu)<<1)+g,Math.round(S))}function Wp(u,n,i){u.emplaceBack(n.x*Ii,n.y*Ii,i?1:0)}function b0(u,n,i,d,g,h){u.emplaceBack(n.x,n.y,(i.x<<1)+d,(i.y<<1)+g,h)}function Gp(u,n,i){u.emplaceBack(n.x,n.y,n.z,i[0]*16384,i[1]*16384,i[2]*16384)}class bb{constructor(){this.vertexOffset=0,this.vertexCount=0,this.indexOffset=0,this.indexCount=0}}class xb{constructor(){this.centroidXY=new In(0,0),this.vertexArrayOffset=0,this.vertexCount=0,this.groundVertexArrayOffset=0,this.groundVertexCount=0,this.flags=0,this.footprintSegIdx=-1,this.footprintSegLen=0,this.polygonSegIdx=-1,this.polygonSegLen=0,this.min=new In(Number.MAX_VALUE,Number.MAX_VALUE),this.max=new In(-Number.MAX_VALUE,-Number.MAX_VALUE),this.height=0}span(){return new In(this.max.x-this.min.x,this.max.y-this.min.y)}}class Cb{constructor(){this.acc=new In(0,0),this.accCount=0,this.centroidDataIndex=0}startRing(n,i){n.min.x===Number.MAX_VALUE&&(n.min.x=n.max.x=i.x,n.min.y=n.max.y=i.y)}appendEdge(n,i,d){this.accCount++,this.acc._add(i);let g=!!this.borders;i.x<n.min.x?(n.min.x=i.x,g=!0):i.x>n.max.x&&(n.max.x=i.x,g=!0),i.y<n.min.y?(n.min.y=i.y,g=!0):i.y>n.max.y&&(n.max.y=i.y,g=!0),((i.x===0||i.x===Ii)&&i.x===d.x)!=((i.y===0||i.y===Ii)&&i.y===d.y)&&this.processBorderOverlap(i,d),g&&this.checkBorderIntersection(i,d)}checkBorderIntersection(n,i){i.x<0!=n.x<0&&this.addBorderIntersection(0,Rr(i.y,n.y,(0-i.x)/(n.x-i.x))),i.x>Ii!=n.x>Ii&&this.addBorderIntersection(1,Rr(i.y,n.y,(Ii-i.x)/(n.x-i.x))),i.y<0!=n.y<0&&this.addBorderIntersection(2,Rr(i.x,n.x,(0-i.y)/(n.y-i.y))),i.y>Ii!=n.y>Ii&&this.addBorderIntersection(3,Rr(i.x,n.x,(Ii-i.y)/(n.y-i.y)))}addBorderIntersection(n,i){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const d=this.borders[n];i<d[0]&&(d[0]=i),i>d[1]&&(d[1]=i)}processBorderOverlap(n,i){if(n.x===i.x){if(n.y===i.y)return;const d=n.x===0?0:1;this.addBorderIntersection(d,i.y),this.addBorderIntersection(d,n.y)}else{const d=n.y===0?2:3;this.addBorderIntersection(d,i.x),this.addBorderIntersection(d,n.x)}}centroid(){return this.accCount===0?new In(0,0):new In(Math.floor(Math.max(0,this.acc.x)/this.accCount),Math.floor(Math.max(0,this.acc.y)/this.accCount))}intersectsCount(){return this.borders?this.borders.reduce((n,i)=>n+ +(i[0]!==Number.MAX_VALUE),0):0}}function Sb(u,n){const i=u.add(n)._unit(),d=Un(u.x*i.x+u.y*i.y,-1,1);var g,h,v;return v=Math.acos(d),Math.min(4,Math.max(-4,Math.tan(v)))/4*gC*((g=u).x*(h=n).y-g.y*h.x<0?-1:1)}const vC=[u=>u.x<0,u=>u.x>Ii,u=>u.y<0,u=>u.y>Ii];function yC(u,n,i,d){const g=[4];if(d===0)return g;i._mult(d);const h=u.sub(i),v=n.sub(i),S=[u,n,h,v];for(let T=0;T<4;T++)for(const A of S)if(vC[T](A)){g.push(T);break}return g}class Of{constructor(n){this.vertexArray=new dm,this.indexArray=new Nl,this.programConfigurations=new yd(n.layers,{zoom:n.zoom,lut:n.lut},i=>pC.includes(i)),this._segments=new cl,this.hiddenByLandmarkVertexArray=new Mp,this._segmentToGroundQuads={},this._segmentToGroundQuads[0]=[],this._segmentToRegionTriCounts={},this._segmentToRegionTriCounts[0]=[0,0,0,0,0],this.regionSegments={},this.regionSegments[4]=new cl}getDefaultSegment(){return this.regionSegments[4]}hasData(){return this.vertexArray.length!==0}addData(n,i,d,g=!1){const h=n.length;if(h>2){let v=Math.max(0,this._segments.get().length-1);const S=this._segments._prepareSegment(4*h,this.vertexArray.length,2*this._segmentToGroundQuads[v].length);let T;v!==this._segments.get().length-1&&(v++,this._segmentToGroundQuads[v]=[],this._segmentToRegionTriCounts[v]=[0,0,0,0,0]);{const A=n[0],b=n[1];T=Sb(A.sub(n[h-1])._perp()._unit(),b.sub(A)._perp()._unit())}for(let A=0;A<h;A++){const b=A===h-1?0:A+1,P=n[A],$=n[b],M=n[b===h-1?0:b+1],O=$.sub(P)._perp()._unit(),N=Sb(O,M.sub($)._perp()._unit()),W=T,q=N;if(hl(P,$,i)||g&&Ib(P,i)&&Ib($,i)){T=N;continue}const ae=S.vertexLength;b0(this.vertexArray,P,$,1,1,W),b0(this.vertexArray,P,$,1,0,W),b0(this.vertexArray,P,$,0,1,q),b0(this.vertexArray,P,$,0,0,q),S.vertexLength+=4;const ce=yC(P,$,O,d);for(const ne of ce)this._segmentToGroundQuads[v].push({id:ae,region:ne}),this._segmentToRegionTriCounts[v][ne]+=2,S.primitiveLength+=2;T=N}}}prepareBorderSegments(){if(!this.hasData())return;const n=this._segments.get(),i=n.length;for(let d=0;d<i;d++)this._segmentToGroundQuads[d].sort((g,h)=>g.region-h.region);for(let d=0;d<i;d++){const g=this._segmentToGroundQuads[d],h=n[d],v=this._segmentToRegionTriCounts[d];v.reduce((T,A)=>T+A,0);let S=0;for(let T=0;T<=4;T++){const A=v[T];if(A!==0){let b=this.regionSegments[T];b||(b=this.regionSegments[T]=new cl);const P={vertexOffset:h.vertexOffset,primitiveOffset:h.primitiveOffset+S,vertexLength:h.vertexLength,primitiveLength:A};b.get().push(P)}S+=A}for(let T=0;T<g.length;T++){const A=g[T].id;this.indexArray.emplaceBack(A,A+1,A+3),this.indexArray.emplaceBack(A,A+3,A+2)}}this._segmentToGroundQuads=null,this._segmentToRegionTriCounts=null,this._segments.destroy(),this._segments=null}addPaintPropertiesData(n,i,d,g,h,v){this.hasData()&&this.programConfigurations.populatePaintArrays(this.vertexArray.length,n,i,d,g,h,v)}upload(n){this.hasData()&&(this.vertexBuffer=n.createVertexBuffer(this.vertexArray,dC.members),this.indexBuffer=n.createIndexBuffer(this.indexArray))}uploadPaintProperties(n){this.hasData()&&this.programConfigurations.upload(n)}update(n,i,d,g,h,v,S){this.hasData()&&this.programConfigurations.updatePaintArrays(n,i,d,g,h,v,S)}updateHiddenByLandmark(n){if(!this.hasData())return;const i=n.groundVertexCount+n.groundVertexArrayOffset;if(n.groundVertexCount===0)return;const d=n.flags&Pf?1:0;for(let g=n.groundVertexArrayOffset;g<i;++g)this.hiddenByLandmarkVertexArray.emplace(g,d);this._needsHiddenByLandmarkUpdate=!0}uploadHiddenByLandmark(n){this.hasData()&&this._needsHiddenByLandmarkUpdate&&(!this.hiddenByLandmarkVertexBuffer&&this.hiddenByLandmarkVertexArray.length>0?this.hiddenByLandmarkVertexBuffer=n.createVertexBuffer(this.hiddenByLandmarkVertexArray,Zp.members,!0):this.hiddenByLandmarkVertexBuffer&&this.hiddenByLandmarkVertexBuffer.updateData(this.hiddenByLandmarkVertexArray),this._needsHiddenByLandmarkUpdate=!1)}destroy(){if(this.vertexBuffer){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.hiddenByLandmarkVertexBuffer&&this.hiddenByLandmarkVertexBuffer.destroy(),this._segments&&this._segments.destroy(),this.programConfigurations.destroy();for(let n=0;n<=4;n++){const i=this.regionSegments[n];i&&i.destroy()}}}}class Kp{constructor(n){this.zoom=n.zoom,this.canonical=n.canonical,this.overscaling=n.overscaling,this.layers=n.layers,this.pixelRatio=n.pixelRatio,this.layerIds=this.layers.map(i=>i.fqid),this.index=n.index,this.hasPattern=!1,this.edgeRadius=0,this.projection=n.projection,this.activeReplacements=[],this.replacementUpdateTime=0,this.centroidData=[],this.footprintIndices=new Nl,this.footprintVertices=new md,this.footprintSegments=[],this.layoutVertexArray=new pd,this.centroidVertexArray=new Hc,this.wallVertexArray=new Ov,this.indexArray=new Nl,this.programConfigurations=new yd(n.layers,{zoom:n.zoom,lut:n.lut},i=>mC.includes(i)),this.segments=new cl,this.stateDependentLayerIds=this.layers.filter(i=>i.isStateDependent()).map(i=>i.id),this.groundEffect=new Of(n),this.maxHeight=0,this.partLookup={},this.triangleSubSegments=[],this.polygonSegments=[]}updateFootprints(n,i){}populate(n,i,d,g){this.features=[],this.hasPattern=nb("fill-extrusion",this.layers,this.pixelRatio,i),this.featuresOnBorder=[],this.borderFeatureIndices=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.selfDEMTileTimestamp=Number.MAX_VALUE,this.borderDEMTileTimestamp=[Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE],this.tileToMeter=r(d),this.edgeRadius=this.layers[0].layout.get("fill-extrusion-edge-radius")/this.tileToMeter,this.wallMode=this.layers[0].paint.get("fill-extrusion-line-width").constantOr(1)!==0;for(const{feature:h,id:v,index:S,sourceLayerIndex:T}of n){const A=this.layers[0]._featureFilter.needGeometry,b=J(h,A);if(!this.layers[0]._featureFilter.filter(new Ws(this.zoom),b,d))continue;const P={id:v,sourceLayerIndex:T,index:S,geometry:A?b.geometry:U(h,d,g),properties:h.properties,type:h.type,patterns:{}},$=this.layoutVertexArray.length,M=iy[P.type]==="Polygon";if(this.hasPattern)this.features.push(Wv("fill-extrusion",this.layers,P,this.zoom,this.pixelRatio,i));else if(this.wallMode)for(const O of P.geometry)for(const N of _0(O,M))this.addFeature(P,[N],S,d,{},i.availableImages,g,i.brightness);else this.addFeature(P,P.geometry,S,d,{},i.availableImages,g,i.brightness);i.featureIndex.insert(h,P.geometry,S,T,this.index,$)}this.sortBorders(),this.projection.name==="mercator"&&this.splitToSubtiles(),this.groundEffect.prepareBorderSegments(),this.polygonSegments.length=0}addFeatures(n,i,d,g,h,v){for(const S of this.features){const T=iy[S.type]==="Polygon",{geometry:A}=S;if(this.wallMode)for(const b of A)for(const P of _0(b,T))this.addFeature(S,[P],S.index,i,d,g,h,v);else this.addFeature(S,A,S.index,i,d,g,h,v)}this.sortBorders(),this.projection.name==="mercator"&&this.splitToSubtiles()}update(n,i,d,g,h,v,S){this.programConfigurations.updatePaintArrays(n,i,h,d,g,v,S),this.groundEffect.update(n,i,h,d,g,v,S)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload||this.groundEffect.programConfigurations.needsUpload}upload(n){this.uploaded||(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,h0),this.indexBuffer=n.createIndexBuffer(this.indexArray),this.wallVertexBuffer=n.createVertexBuffer(this.wallVertexArray,fC.members),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=n.createVertexBuffer(this.layoutVertexExtArray,Xv.members,!0)),this.groundEffect.upload(n)),this.groundEffect.uploadPaintProperties(n),this.programConfigurations.upload(n),this.uploaded=!0}uploadCentroid(n){this.groundEffect.uploadHiddenByLandmark(n),this.needsCentroidUpdate&&(!this.centroidVertexBuffer&&this.centroidVertexArray.length>0?this.centroidVertexBuffer=n.createVertexBuffer(this.centroidVertexArray,l2.members,!0):this.centroidVertexBuffer&&this.centroidVertexBuffer.updateData(this.centroidVertexArray),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.groundEffect.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(n,i,d,g,h,v,S,T){const A=this.layers[0].paint.get("fill-extrusion-flood-light-ground-radius").evaluate(n,{})/this.tileToMeter,b=[new In(0,0),new In(Ii,Ii)],P=S.projection,$=P.name==="globe",M=this.wallMode||iy[n.type]==="Polygon",O=new Cb;O.centroidDataIndex=this.centroidData.length;const N=new xb,W=this.layers[0].paint.get("fill-extrusion-base").evaluate(n,{},g)<=0,q=this.layers[0].paint.get("fill-extrusion-height").evaluate(n,{},g);let ae;if(N.height=q,N.vertexArrayOffset=this.layoutVertexArray.length,N.groundVertexArrayOffset=this.groundEffect.vertexArray.length,$&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new Wl),this.wallMode){if($)return void Fn("Non zero fill-extrusion-line-width is not yet supported on globe.");if(i.length!==1)return;ae=function(tt){const Zt=tt[0].x===tt[tt.length-1].x&&tt[0].y===tt[tt.length-1].y;(function(di){let Hr=0;const go=di.length;for(let ji=0;ji<go;ji++)Hr+=(di[(ji+1)%go].x-di[ji].x)*(di[(ji+1)%go].y+di[ji].y);return Hr>=0})(tt)||(tt=tt.reverse());const Yt={geometry:[],joinNormals:[],indices:[]},un=[],on=[],hn=[];let On=tt.length;for(;On>=2&&tt[On-1].equals(tt[On-2]);)On--;if(On<(Zt?3:2))return Yt;let kn,Cn,Sr,Gr,br,Bi=0;for(;Bi<On-1&&tt[Bi].equals(tt[Bi+1]);)Bi++;Zt&&(kn=tt[On-2],br=tt[Bi].sub(kn)._unit()._perp());for(let di=Bi;di<On;di++){if(Sr=di===On-1?Zt?tt[Bi+1]:void 0:tt[di+1],Sr&&tt[di].equals(Sr))continue;br&&(Gr=br),kn&&(Cn=kn),kn=tt[di],br=Sr?Sr.sub(kn)._unit()._perp():Gr,Gr=Gr||br;let Hr=Gr.add(br);Hr.x===0&&Hr.y===0||Hr._unit();const go=Hr.x*br.x+Hr.y*br.y,ji=go!==0?1/go:1/0,qi=Gr.x*br.y-Gr.y*br.x>0;let la="miter";const za=2;la==="miter"&&ji>za&&(la="bevel"),la==="bevel"&&(ji>100&&(la="flipbevel"),ji<za&&(la="miter"));const Ba=(Fa,Ja,Qa,js)=>{const Ts=new In(Fa.x,Fa.y),Sa=new In(Fa.x,Fa.y);Ts.x+=Ja.x*js,Ts.y+=Ja.y*js,Sa.x-=Ja.x*Math.max(Qa,1),Sa.y-=Ja.y*Math.max(Qa,1),hn.push(Ja),un.push(Ts),on.push(Sa)};if(la==="miter")Hr._mult(ji),Ba(kn,Hr,0,0);else if(la==="flipbevel")Hr=br.mult(-1),Ba(kn,Hr,0,0),Ba(kn,Hr.mult(-1),0,0);else{const Fa=-Math.sqrt(ji*ji-1),Ja=qi?Fa:0,Qa=qi?0:Fa;Cn&&Ba(kn,Gr,Ja,Qa),Sr&&Ba(kn,br,Ja,Qa)}}Yt.geometry=[...un,...on.reverse(),un[0]],Yt.joinNormals=[...hn,...hn.reverse(),hn[hn.length-1]];const Ti=Yt.geometry.length-1;for(let di=0;di<Ti/2;di++)if(di+1<Ti/2){let Hr=di,go=di+1,ji=Ti-1-di,qi=Ti-2-di;Hr=Hr===0?Ti-1:Hr-1,go=go===0?Ti-1:go-1,ji=ji===0?Ti-1:ji-1,qi=qi===0?Ti-1:qi-1,Yt.indices.push(ji),Yt.indices.push(go),Yt.indices.push(Hr),Yt.indices.push(ji),Yt.indices.push(qi),Yt.indices.push(go)}return Yt}(i[0]),i=[ae.geometry]}const ce=(tt,Zt)=>tt<(Zt.length-1)/2||tt===Zt.length-1,ne=this.wallMode?[i]:Hv(i,500);for(let tt=ne.length-1;tt>=0;tt--){const Zt=ne[tt];(Zt.length===0||(ge=Zt[0]).every(pt=>pt.x<=0)||ge.every(pt=>pt.x>=Ii)||ge.every(pt=>pt.y<=0)||ge.every(pt=>pt.y>=Ii))&&ne.splice(tt,1)}var ge;let Ce;if($)Ce=Pb(ne,b,g);else{Ce=[];for(const tt of ne)Ce.push({polygon:tt,bounds:b})}const De=M?this.edgeRadius:0,ut=De>0&&this.zoom<17,st=(tt,Zt)=>{if(tt.length===0)return!1;const pt=tt[tt.length-1];return Zt.x===pt.x&&Zt.y===pt.y};for(const{polygon:tt,bounds:Zt}of Ce){let pt=0,Yt=0;for(const On of tt)M&&!On[0].equals(On[On.length-1])&&On.push(On[0]),Yt+=M?On.length-1:On.length;const un=this.segments.prepareSegment((M?5:4)*Yt,this.layoutVertexArray,this.indexArray);N.footprintSegIdx<0&&(N.footprintSegIdx=this.footprintSegments.length),N.polygonSegIdx<0&&(N.polygonSegIdx=this.polygonSegments.length);const on={triangleArrayOffset:this.indexArray.length,triangleCount:0,triangleSegIdx:this.segments.segments.length-1},hn=new bb;if(hn.vertexOffset=this.footprintVertices.length,hn.indexOffset=3*this.footprintIndices.length,hn.ringIndices=[],M){const On=[],kn=[];pt=un.vertexLength;for(let Sr=0;Sr<tt.length;Sr++){const Gr=tt[Sr];Gr.length&&Sr!==0&&kn.push(On.length/2);const br=[];let Bi,Ti;Bi=Gr[1].sub(Gr[0])._perp()._unit(),hn.ringIndices.push(Gr.length-1);for(let di=1;di<Gr.length;di++){const Hr=Gr[di],go=Gr[di===Gr.length-1?1:di+1],ji=Hr.clone();if(De){Ti=go.sub(Hr)._perp()._unit();const qi=Bi.add(Ti)._unit(),la=De*Math.min(4,1/(Bi.x*qi.x+Bi.y*qi.y));ji.x+=la*qi.x,ji.y+=la*qi.y,ji.x=Math.round(ji.x),ji.y=Math.round(ji.y),Bi=Ti}if(!W||De!==0&&!ut||st(br,ji)||br.push(ji),Up(this.layoutVertexArray,ji.x,ji.y,0,0,1,1,0),this.wallMode){const qi=ce(di,Gr);Wp(this.wallVertexArray,ae.joinNormals[di],!qi)}un.vertexLength++,this.footprintVertices.emplaceBack(Hr.x,Hr.y),On.push(Hr.x,Hr.y),$&&Gp(this.layoutVertexExtArray,P.projectTilePoint(ji.x,ji.y,g),P.upVector(g,ji.x,ji.y))}W&&(De===0||ut)&&(br.length!==0&&st(br,br[0])&&br.pop(),this.groundEffect.addData(br,Zt,A))}const Cn=this.wallMode?ae.indices:Bp(On,kn);for(let Sr=0;Sr<Cn.length;Sr+=3)this.footprintIndices.emplaceBack(hn.vertexOffset+Cn[Sr+0],hn.vertexOffset+Cn[Sr+1],hn.vertexOffset+Cn[Sr+2]),this.indexArray.emplaceBack(pt+Cn[Sr],pt+Cn[Sr+2],pt+Cn[Sr+1]),un.primitiveLength++;hn.indexCount+=Cn.length,hn.vertexCount+=this.footprintVertices.length-hn.vertexOffset}for(let On=0;On<tt.length;On++){const kn=tt[On];O.startRing(N,kn[0]);let Cn=kn.length>4&&Mb(kn[kn.length-2],kn[0],kn[1]),Sr=De?Eb(kn[kn.length-2],kn[0],kn[1],De):0;const Gr=[];let br,Bi,Ti;Bi=kn[1].sub(kn[0])._perp()._unit();let di=!0;for(let Hr=1,go=0;Hr<kn.length;Hr++){let ji=kn[Hr-1],qi=kn[Hr];const la=kn[Hr===kn.length-1?1:Hr+1];if(O.appendEdge(N,qi,ji),hl(qi,ji,Zt)){De&&(Bi=la.sub(qi)._perp()._unit(),di=!di);continue}const za=qi.sub(ji)._perp(),Ba=za.x/(Math.abs(za.x)+Math.abs(za.y)),Fa=za.y>0?1:0,Ja=ji.dist(qi);if(go+Ja>32768&&(go=0),De){Ti=la.sub(qi)._perp()._unit();let Sa=$s(ji,qi,la,wb(Bi,Ti),De);isNaN(Sa)&&(Sa=0);const Es=qi.sub(ji)._unit();ji=ji.add(Es.mult(Sr))._round(),qi=qi.add(Es.mult(-Sa))._round(),Sr=Sa,Bi=Ti,W&&this.zoom>=17&&(st(Gr,ji)||Gr.push(ji),st(Gr,qi)||Gr.push(qi))}const Qa=un.vertexLength,js=kn.length>4&&Mb(ji,qi,la);let Ts=zu(go,Cn,di);if(Up(this.layoutVertexArray,ji.x,ji.y,Ba,Fa,0,0,Ts),Up(this.layoutVertexArray,ji.x,ji.y,Ba,Fa,0,1,Ts),this.wallMode){const Sa=ce(Hr-1,kn),Es=ae.joinNormals[Hr-1];Wp(this.wallVertexArray,Es,Sa),Wp(this.wallVertexArray,Es,Sa)}if(go+=Ja,Ts=zu(go,js,!di),Cn=js,Up(this.layoutVertexArray,qi.x,qi.y,Ba,Fa,0,0,Ts),Up(this.layoutVertexArray,qi.x,qi.y,Ba,Fa,0,1,Ts),this.wallMode){const Sa=ce(Hr,kn),Es=ae.joinNormals[Hr];Wp(this.wallVertexArray,Es,Sa),Wp(this.wallVertexArray,Es,Sa)}if(un.vertexLength+=4,this.indexArray.emplaceBack(Qa+0,Qa+1,Qa+2),this.indexArray.emplaceBack(Qa+1,Qa+3,Qa+2),un.primitiveLength+=2,De){const Sa=pt+(Hr===1?kn.length-2:Hr-2),Es=Hr===1?pt:Sa+1;if(this.indexArray.emplaceBack(Qa+1,Sa,Qa+3),this.indexArray.emplaceBack(Sa,Es,Qa+3),un.primitiveLength+=2,br===void 0&&(br=Qa),!hl(la,kn[Hr],Zt)){const Is=Hr===kn.length-1?br:un.vertexLength;this.indexArray.emplaceBack(Qa+2,Qa+3,Is),this.indexArray.emplaceBack(Qa+3,Is+1,Is),this.indexArray.emplaceBack(Qa+3,Es,Is+1),un.primitiveLength+=3}di=!di}if($){const Sa=this.layoutVertexExtArray,Es=P.projectTilePoint(ji.x,ji.y,g),Is=P.projectTilePoint(qi.x,qi.y,g),Xs=P.upVector(g,ji.x,ji.y),wl=P.upVector(g,qi.x,qi.y);Gp(Sa,Es,Xs),Gp(Sa,Es,Xs),Gp(Sa,Is,wl),Gp(Sa,Is,wl)}}M&&(pt+=kn.length-1),W&&De&&this.zoom>=17&&(Gr.length!==0&&st(Gr,Gr[0])&&Gr.pop(),this.groundEffect.addData(Gr,Zt,A,De>0))}this.footprintSegments.push(hn),on.triangleCount=this.indexArray.length-on.triangleArrayOffset,this.polygonSegments.push(on),++N.footprintSegLen,++N.polygonSegLen}if(N.vertexCount=this.layoutVertexArray.length-N.vertexArrayOffset,N.groundVertexCount=this.groundEffect.vertexArray.length-N.groundVertexArrayOffset,N.vertexCount!==0){if(N.centroidXY=O.borders?_b:this.encodeCentroid(O,N),this.centroidData.push(N),O.borders){this.featuresOnBorder.push(O);const tt=this.featuresOnBorder.length-1;for(let Zt=0;Zt<O.borders.length;Zt++)O.borders[Zt][0]!==Number.MAX_VALUE&&this.borderFeatureIndices[Zt].push(tt)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,d,h,v,g,T),this.groundEffect.addPaintPropertiesData(n,d,h,v,g,T),this.maxHeight=Math.max(this.maxHeight,q)}}sortBorders(){for(let n=0;n<this.borderFeatureIndices.length;n++)this.borderFeatureIndices[n].sort((i,d)=>this.featuresOnBorder[i].borders[n][0]-this.featuresOnBorder[d].borders[n][0])}splitToSubtiles(){const n=[];for(let S=0;S<this.centroidData.length;S++){const T=this.centroidData[S],A=+(T.min.y+T.max.y>Ii),b=2*A+(+(T.min.x+T.max.x>Ii)^A);for(let P=0;P<T.polygonSegLen;P++){const $=T.polygonSegIdx+P;n.push({centroidIdx:S,subtile:b,polygonSegmentIdx:$,triangleSegmentIdx:this.polygonSegments[$].triangleSegIdx})}}const i=new Nl;n.sort((S,T)=>S.triangleSegmentIdx===T.triangleSegmentIdx?S.subtile-T.subtile:S.triangleSegmentIdx-T.triangleSegmentIdx);let d=0,g=0,h=0;for(const S of n){if(S.triangleSegmentIdx!==d)break;h++}const v=n.length;for(;g!==n.length;){d=n[g].triangleSegmentIdx;let S=0,T=g,A=g;for(let b=T;b<h&&n[b].subtile===S;b++)A++;for(;T!==h;){const b=n[T];S=b.subtile;const P=this.centroidData[b.centroidIdx].min.clone(),$=this.centroidData[b.centroidIdx].max.clone(),M={vertexOffset:this.segments.segments[d].vertexOffset,primitiveOffset:i.length,vertexLength:this.segments.segments[d].vertexLength,primitiveLength:0,sortKey:void 0,vaos:{}};for(let O=T;O<A;O++){const N=n[O],W=this.polygonSegments[N.polygonSegmentIdx],q=this.centroidData[N.centroidIdx].min,ae=this.centroidData[N.centroidIdx].max,ce=this.indexArray.uint16;for(let ne=W.triangleArrayOffset;ne<W.triangleArrayOffset+W.triangleCount;ne++)i.emplaceBack(ce[3*ne],ce[3*ne+1],ce[3*ne+2]);M.primitiveLength+=W.triangleCount,P.x=Math.min(P.x,q.x),P.y=Math.min(P.y,q.y),$.x=Math.max($.x,ae.x),$.y=Math.max($.y,ae.y)}M.primitiveLength>0&&this.triangleSubSegments.push({segment:M,min:P,max:$}),T=A;for(let O=T;O<h&&n[O].subtile===n[T].subtile;O++)A++}g=h;for(let b=g;b<v&&n[b].triangleSegmentIdx===n[g].triangleSegmentIdx;b++)h++}i._trim(),this.indexArray=i}getVisibleSegments(n,i,d){const g=new cl;if(this.wallMode){for(const N of this.triangleSubSegments)g.segments.push(N.segment);return g}let h=0,v=0;const S=1<<n.canonical.z;if(i){const N=i.getMinMaxForTile(n);N&&(h=N.min,v=N.max)}v+=this.maxHeight;const T=n.toUnwrapped();let A;const b=[T.canonical.x/S+T.wrap,T.canonical.y/S],P=[(T.canonical.x+1)/S+T.wrap,(T.canonical.y+1)/S],$=(N,W,q)=>[N[0]*(1-q[0])+W[0]*q[0],N[1]*(1-q[1])+W[1]*q[1]],M=[],O=[];for(const N of this.triangleSubSegments){M[0]=N.min.x/Ii,M[1]=N.min.y/Ii,O[0]=N.max.x/Ii,O[1]=N.max.y/Ii;const W=$(b,P,M),q=$(b,P,O);if(new Eo([W[0],W[1],h],[q[0],q[1],v]).intersectsPrecise(d)===0){A&&(g.segments.push(A),A=void 0);continue}const ae=N.segment;A&&A.vertexOffset!==ae.vertexOffset&&(g.segments.push(A),A=void 0),A?(A.vertexLength+=ae.vertexLength,A.primitiveLength+=ae.primitiveLength):A={vertexOffset:ae.vertexOffset,primitiveLength:ae.primitiveLength,vertexLength:ae.vertexLength,primitiveOffset:ae.primitiveOffset,sortKey:void 0,vaos:{}}}return A&&g.segments.push(A),g}encodeCentroid(n,i){const d=n.centroid(),g=i.span(),h=Math.min(7,Math.round(g.x*this.tileToMeter/10)),v=Math.min(7,Math.round(g.y*this.tileToMeter/10));return new In(Un(d.x,1,Ii-1)<<3|h,Un(d.y,1,Ii-1)<<3|v)}encodeBorderCentroid(n){if(!n.borders)return new In(0,0);const i=n.borders,d=Number.MAX_VALUE;if(i[0][0]!==d||i[1][0]!==d){const g=i[0][0]!==d?0:1;return new In(6|(i[0][0]!==d?0:65528),(i[g][0]+i[g][1])/2<<3|6)}{const g=i[2][0]!==d?2:3;return new In((i[g][0]+i[g][1])/2<<3|6,6|(i[2][0]!==d?0:65528))}}showCentroid(n){const i=this.centroidData[n.centroidDataIndex];i.flags&=Pf,i.centroidXY.x=0,i.centroidXY.y=0,this.writeCentroidToBuffer(i)}writeCentroidToBuffer(n){this.groundEffect.updateHiddenByLandmark(n);const i=n.vertexArrayOffset,d=n.vertexCount+n.vertexArrayOffset,g=n.flags&Pf?_b:n.centroidXY,h=this.centroidVertexArray.geta_centroid_pos0(i);if(this.centroidVertexArray.geta_centroid_pos1(i)!==g.y||h!==g.x){for(let v=i;v<d;++v)this.centroidVertexArray.emplace(v,g.x,g.y);this.needsCentroidUpdate=!0}}createCentroidsBuffer(){this.centroidVertexArray.resize(this.layoutVertexArray.length),this.groundEffect.hiddenByLandmarkVertexArray.resize(this.groundEffect.vertexArray.length);for(const n of this.centroidData)this.writeCentroidToBuffer(n)}updateReplacement(n,i,d){if(i.updateTime===this.replacementUpdateTime)return;this.replacementUpdateTime=i.updateTime;const g=i.getReplacementRegionsForTile(n.toUnwrapped());if(ty(this.activeReplacements,g))return;if(this.activeReplacements=g,this.centroidVertexArray.length===0)this.createCentroidsBuffer();else for(const v of this.centroidData)v.flags&=2147483647;const h=[];for(const v of this.activeReplacements){if(v.order<d)continue;const S=Math.max(1,Math.pow(2,v.footprintTileId.canonical.z-n.canonical.z));for(const T of this.centroidData)if(!(T.flags&Pf||v.min.x>T.max.x||T.min.x>v.max.x||v.min.y>T.max.y||T.min.y>v.max.y))for(let A=0;A<T.footprintSegLen;A++){const b=this.footprintSegments[T.footprintSegIdx+A];if(h.length=0,Ob(this.footprintVertices,b.vertexOffset,b.vertexCount,v.footprintTileId.canonical,n.canonical,h),ny(v.footprint,h,this.footprintIndices.uint16,b.indexOffset,b.indexCount,-b.vertexOffset,-S)){T.flags|=Pf;break}}}for(const v of this.centroidData)this.writeCentroidToBuffer(v);this.borderDoneWithNeighborZ=[-1,-1,-1,-1]}footprintContainsPoint(n,i,d){let g=!1;for(let h=0;h<d.footprintSegLen;h++){const v=this.footprintSegments[d.footprintSegIdx+h];let S=0;for(const T of v.ringIndices){for(let A=S,b=T+S-1;A<T+S;b=A++){const P=this.footprintVertices.int16[2*(A+v.vertexOffset)+0],$=this.footprintVertices.int16[2*(A+v.vertexOffset)+1],M=this.footprintVertices.int16[2*(b+v.vertexOffset)+1];$>i!=M>i&&n<(this.footprintVertices.int16[2*(b+v.vertexOffset)+0]-P)*(i-$)/(M-$)+P&&(g=!g)}S=T}}return g}getHeightAtTileCoord(n,i){let d=Number.NEGATIVE_INFINITY,g=!0;const h=4*(n+Ii)*Ii+(i+Ii);if(this.partLookup.hasOwnProperty(h)){const v=this.partLookup[h];return v?{height:v.height,hidden:!!(v.flags&Pf)}:void 0}for(const v of this.centroidData)n>v.max.x||v.min.x>n||i>v.max.y||v.min.y>i||this.footprintContainsPoint(n,i,v)&&v&&v.height>d&&(d=v.height,this.partLookup[h]=v,g=!!(v.flags&Pf));if(d!==Number.NEGATIVE_INFINITY)return{height:d,hidden:g};this.partLookup[h]=void 0}}function wb(u,n){const i=u.add(n)._unit();return u.x*i.x+u.y*i.y}function Eb(u,n,i,d){const g=n.sub(u)._perp()._unit(),h=i.sub(n)._perp()._unit();return $s(u,n,i,wb(g,h),d)}function $s(u,n,i,d,g){const h=Math.sqrt(1-d*d);return Math.min(u.dist(n)/3,n.dist(i)/3,g*h/d)}function hl(u,n,i){return u.x<i[0].x&&n.x<i[0].x||u.x>i[1].x&&n.x>i[1].x||u.y<i[0].y&&n.y<i[0].y||u.y>i[1].y&&n.y>i[1].y}function Ib(u,n){return u.x<n[0].x||u.x>n[1].x||u.y<n[0].y||u.y>n[1].y}function Mb(u,n,i){if(u.x<0||u.x>=Ii||n.x<0||n.x>=Ii||i.x<0||i.x>=Ii)return!1;const d=i.sub(n),g=d.perp(),h=u.sub(n);return(d.x*h.x+d.y*h.y)/Math.sqrt((d.x*d.x+d.y*d.y)*(h.x*h.x+h.y*h.y))>-.866&&g.x*h.x+g.y*h.y<0}function zu(u,n,i){const d=n?2|u:-3&u;return i?1|d:-2&d}function Tb(){const u=Math.PI/32,n=Math.tan(u),i=Kd;return i*Math.sqrt(1+2*n*n)-i}function Pb(u,n,i){const d=1<<i.z,g=Bc(i.x/d),h=Bc((i.x+1)/d),v=dc(i.y/d),S=dc((i.y+1)/d);return function(T,A,b,P,$=0,M){const O=[];if(!T.length||!b||!P)return O;const N=(Ce,De)=>{for(const ut of Ce)O.push({polygon:ut,bounds:De})},W=Math.ceil(Math.log2(b)),q=Math.ceil(Math.log2(P)),ae=W-q,ce=[];for(let Ce=0;Ce<Math.abs(ae);Ce++)ce.push(ae>0?0:1);for(let Ce=0;Ce<Math.min(W,q);Ce++)ce.push(0),ce.push(1);let ne=T;if(ne=g0(ne,A[0].y-$,A[1].y+$,1),ne=g0(ne,A[0].x-$,A[1].x+$,0),!ne.length)return O;const ge=[];for(ce.length?ge.push({polygons:ne,bounds:A,depth:0}):N(ne,A);ge.length;){const Ce=ge.pop(),De=Ce.depth,ut=ce[De],st=Ce.bounds[0],tt=Ce.bounds[1],Zt=ut===0?st.x:st.y,pt=ut===0?tt.x:tt.y,Yt=M?M(ut,Zt,pt):.5*(Zt+pt),un=g0(Ce.polygons,Zt-$,Yt+$,ut),on=g0(Ce.polygons,Yt-$,pt+$,ut);if(un.length){const hn=[st,new In(ut===0?Yt:tt.x,ut===1?Yt:tt.y)];ce.length>De+1?ge.push({polygons:un,bounds:hn,depth:De+1}):N(un,hn)}if(on.length){const hn=[new In(ut===0?Yt:st.x,ut===1?Yt:st.y),tt];ce.length>De+1?ge.push({polygons:on,bounds:hn,depth:De+1}):N(on,hn)}}return O}(u,n,Math.ceil((h-g)/11.25),Math.ceil((v-S)/11.25),1,(T,A,b)=>{if(T===0)return .5*(A+b);{const P=dc((i.y+A/Ii)/d);return(Dc(.5*(dc((i.y+b/Ii)/d)+P))*d-i.y)*Ii}})}function Ob(u,n,i,d,g,h){const v=Math.pow(2,d.z-g.z);for(let S=0;S<i;S++){let T=u.int16[2*(S+n)+0],A=u.int16[2*(S+n)+1];T=(T+g.x*Ii)*v-d.x*Ii,A=(A+g.y*Ii)*v-d.y*Ii,h.push(new In(T,A))}}let x0,Rf;function qd(u,n){return u.x*n.x+u.y*n.y}function Xp(u,n){if(u.length===1){let i=0;const d=n[i++];let g;for(;!g||d.equals(g);)if(g=n[i++],!g)return 1/0;for(;i<n.length;i++){const h=n[i],v=u[0],S=g.sub(d),T=h.sub(d),A=v.sub(d),b=qd(S,S),P=qd(S,T),$=qd(T,T),M=qd(A,S),O=qd(A,T),N=b*$-P*P,W=($*M-P*O)/N,q=(b*O-P*M)/N,ae=d.z*(1-W-q)+g.z*W+h.z*q;if(isFinite(ae))return ae}return 1/0}{let i=1/0;for(const d of n)i=Math.min(i,d.z);return i}}function oy(u,n,i,d,g,h,v,S){const T=v*g.getElevationAt(u,n,!0,!0),A=h[0]!==0,b=A?h[1]===0?v*(h[0]/7-450):v*function(P,$,M){const O=Math.floor($[0]/8),N=Math.floor($[1]/8),W=10*($[0]-8*O),q=10*($[1]-8*N),ae=P.getElevationAt(O,N,!0,!0),ce=P.getMeterToDEM(M),ne=Math.floor(.5*(W*ce-1)),ge=Math.floor(.5*(q*ce-1)),Ce=P.tileCoordToPixel(O,N),De=2*ne+1,ut=2*ge+1,st=function(on,hn,On,kn,Cn){return[on.getElevationAtPixel(hn,On,!0),on.getElevationAtPixel(hn+Cn,On,!0),on.getElevationAtPixel(hn,On+Cn,!0),on.getElevationAtPixel(hn+kn,On+Cn,!0)]}(P,Ce.x-ne,Ce.y-ge,De,ut),tt=Math.abs(st[0]-st[1]),Zt=Math.abs(st[2]-st[3]),pt=Math.abs(st[0]-st[2])+Math.abs(st[1]-st[3]),Yt=Math.min(.25,.5*ce*(tt+Zt)/De),un=Math.min(.25,.5*ce*pt/ut);return ae+Math.max(Yt*W,un*q)}(g,h,S):T;return{base:T+(i===0?-1:i),top:A?Math.max(b+d,T+i+2):T+d}}lo(Kp,"FillExtrusionBucket",{omit:["layers","features"]}),lo(xb,"PartData"),lo(bb,"FootprintSegment"),lo(Cb,"BorderCentroidData"),lo(Of,"GroundEffect");const Rb=bs([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),$b=bs([{name:"a_z_offset_width",components:3,type:"Float32"}],4),{members:ay}=Rb,Ab=bs([{name:"a_packed",components:3,type:"Float32"}]),{members:Db}=Ab,_C=bs([{name:"a_pattern_data",components:3,type:"Float32"}]),{members:zb}=_C;class Mm{constructor(n,i){this.width=n,this.height=i,this.nextRow=0,this.image=new Yd({width:n,height:i}),this.positions={},this.uploaded=!1}getDash(n,i){const d=this.getKey(n,i);return this.positions[d]}trim(){const n=this.width,i=this.height=fr(this.nextRow);this.image.resize({width:n,height:i})}getKey(n,i){return n.join(",")+i}getDashRanges(n,i,d){const g=[];let h=n.length%2==1?-n[n.length-1]*d:0,v=n[0]*d,S=!0;g.push({left:h,right:v,isDash:S,zeroLength:n[0]===0});let T=n[0];for(let A=1;A<n.length;A++){S=!S;const b=n[A];h=T*d,T+=b,v=T*d,g.push({left:h,right:v,isDash:S,zeroLength:b===0})}return g}addRoundDash(n,i,d){const g=i/2;for(let h=-d;h<=d;h++){const v=this.width*(this.nextRow+d+h);let S=0,T=n[S];for(let A=0;A<this.width;A++){A/T.right>1&&(T=n[++S]);const b=Math.abs(A-T.left),P=Math.abs(A-T.right),$=Math.min(b,P);let M;const O=h/d*(g+1);if(T.isDash){const N=g-Math.abs(O);M=Math.sqrt($*$+N*N)}else M=g-Math.sqrt($*$+O*O);this.image.data[v+A]=Math.max(0,Math.min(255,M+128))}}}addRegularDash(n,i){for(let T=n.length-1;T>=0;--T){const A=n[T],b=n[T+1];A.zeroLength?n.splice(T,1):b&&b.isDash===A.isDash&&(b.left=A.left,n.splice(T,1))}const d=n[0],g=n[n.length-1];d.isDash===g.isDash&&(d.left=g.left-this.width,g.right=d.right+this.width);const h=this.width*this.nextRow;let v=0,S=n[v];for(let T=0;T<this.width;T++){T/S.right>1&&(S=n[++v]);const A=Math.abs(T-S.left),b=Math.abs(T-S.right),P=Math.min(A,b);this.image.data[h+T]=Math.max(0,Math.min(255,(S.isDash?P:-P)+i+128))}}addDash(n,i){const d=this.getKey(n,i);if(this.positions[d])return this.positions[d];const g=i==="round",h=g?7:0,v=2*h+1;if(this.nextRow+v>this.height)return Fn("LineAtlas out of space"),null;n.length===0&&n.push(1);let S=0;for(let b=0;b<n.length;b++)n[b]<0&&(Fn("Negative value is found in line dasharray, replacing values with 0"),n[b]=0),S+=n[b];if(S!==0){const b=this.width/S,P=this.getDashRanges(n,this.width,b);g?this.addRoundDash(P,b,h):this.addRegularDash(P,i==="square"?.5*b:0)}const T=this.nextRow+h;this.nextRow+=v;const A={tl:[T,h],br:[S,0]};return this.positions[d]=A,A}}lo(Mm,"LineAtlas");const bC=Mf.VectorTileFeature.types,xC=Math.cos(Math.PI/180*37.5),CC=Math.cos(Math.PI/180*5);class C0{constructor(n){this.evaluationGlobals={zoom:0,lineProgress:void 0},this.zoom=n.zoom,this.evaluationGlobals.zoom=this.zoom,this.overscaling=n.overscaling,this.pixelRatio=n.pixelRatio,this.layers=n.layers,this.layerIds=this.layers.map(i=>i.fqid),this.index=n.index,this.projection=n.projection,this.hasPattern=!1,this.hasZOffset=!1,this.hasCrossSlope=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(i=>{this.gradients[i.id]={}}),this.layoutVertexArray=new _f,this.layoutVertexArray2=new Ou,this.patternVertexArray=new Ou,this.indexArray=new Nl,this.programConfigurations=new yd(n.layers,{zoom:n.zoom,lut:n.lut}),this.segments=new cl,this.maxLineLength=0,this.zOffsetVertexArray=new Ou,this.stateDependentLayerIds=this.layers.filter(i=>i.isStateDependent()).map(i=>i.id),this.tessellationStep=n.tessellationStep?n.tessellationStep:Ii/64}updateFootprints(n,i){}populate(n,i,d,g){this.hasPattern=nb("line",this.layers,this.pixelRatio,i);const h=this.layers[0].layout.get("line-sort-key");this.tileToMeter=r(d);const v=this.layers[0].layout.get("line-z-offset"),S=v.isConstant()&&!v.constantOr(0),T=this.layers[0].layout.get("line-elevation-reference");this.hasZOffset=T==="sea"||T==="ground"||!S&&T==="none",this.hasZOffset&&T==="none"&&Fn(`line-elevation-reference: ground is used for the layer ${this.layerIds[0]} because non-zero line-z-offset value was found.`);const A=this.layers[0].layout.get("line-cross-slope");this.hasCrossSlope=this.hasZOffset&&A!==void 0;const b=[];for(const{feature:O,id:N,index:W,sourceLayerIndex:q}of n){const ae=this.layers[0]._featureFilter.needGeometry,ce=J(O,ae);if(!this.layers[0]._featureFilter.filter(new Ws(this.zoom),ce,d))continue;const ne=h?h.evaluate(ce,{},d):void 0,ge={id:N,properties:O.properties,type:O.type,sourceLayerIndex:q,index:W,geometry:ae?ce.geometry:U(O,d,g),patterns:{},sortKey:ne};b.push(ge)}h&&b.sort((O,N)=>O.sortKey-N.sortKey);const{lineAtlas:P,featureIndex:$}=i,M=this.addConstantDashes(P);for(const O of b){const{geometry:N,index:W,sourceLayerIndex:q}=O;if(M&&this.addFeatureDashes(O,P),this.hasPattern){const ae=Wv("line",this.layers,O,this.zoom,this.pixelRatio,i);this.patternFeatures.push(ae)}else this.addFeature(O,N,W,d,P.positions,i.availableImages,i.brightness);$.insert(n[W].feature,N,W,q,this.index)}}addConstantDashes(n){let i=!1;for(const d of this.layers){const g=d.paint.get("line-dasharray").value,h=d.layout.get("line-cap").value;if(g.kind!=="constant"||h.kind!=="constant")i=!0;else{const v=h.value,S=g.value;if(!S)continue;n.addDash(S,v)}}return i}addFeatureDashes(n,i){const d=this.zoom;for(const g of this.layers){const h=g.paint.get("line-dasharray").value,v=g.layout.get("line-cap").value;if(h.kind==="constant"&&v.kind==="constant")continue;let S,T;if(h.kind==="constant"){if(S=h.value,!S)continue}else S=h.evaluate({zoom:d},n);T=v.kind==="constant"?v.value:v.evaluate({zoom:d},n),i.addDash(S,T),n.patterns[g.id]=i.getKey(S,T)}}update(n,i,d,g,h,v,S){this.programConfigurations.updatePaintArrays(n,i,h,d,g,v,S)}addFeatures(n,i,d,g,h,v){for(const S of this.patternFeatures)this.addFeature(S,S.geometry,S.index,i,d,g,v)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(n){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=n.createVertexBuffer(this.layoutVertexArray2,Db)),this.patternVertexArray.length!==0&&(this.patternVertexBuffer=n.createVertexBuffer(this.patternVertexArray,zb)),!this.zOffsetVertexBuffer&&this.zOffsetVertexArray.length>0&&(this.zOffsetVertexBuffer=n.createVertexBuffer(this.zOffsetVertexArray,$b.members,!0)),this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,ay),this.indexBuffer=n.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(n),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.zOffsetVertexBuffer&&this.zOffsetVertexBuffer.destroy(),this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(n){if(n.properties&&n.properties.hasOwnProperty("mapbox_clip_start")&&n.properties.hasOwnProperty("mapbox_clip_end"))return{start:+n.properties.mapbox_clip_start,end:+n.properties.mapbox_clip_end}}addFeature(n,i,d,g,h,v,S){const T=this.layers[0].layout,A=T.get("line-join").evaluate(n,{}),b=T.get("line-cap").evaluate(n,{}),P=T.get("line-miter-limit"),$=T.get("line-round-limit");this.lineClips=this.lineFeatureClips(n),this.lineFeature=n,this.zOffsetValue=T.get("line-z-offset").value;const M=this.layers[0].paint.get("line-width").value;M.kind!=="constant"&&M.isLineProgressConstant===!1&&(this.variableWidthValue=M);for(const O of i)this.addLine(O,n,g,A,b,P,$);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,d,h,v,g,S)}addLine(n,i,d,g,h,v,S){this.distance=0,this.prevDistance=0,this.scaledDistance=0,this.totalDistance=0,this.totalFeatureLength=0,this.lineSoFar=0,this.currentVertex=void 0;const T=g==="none";if(this.patternJoinNone=this.hasPattern&&T,this.segmentStart=0,this.segmentStartf32=0,this.segmentPoints=[],this.lineClips){this.lineClipsArray.push(this.lineClips);for(let ce=0;ce<n.length-1;ce++)this.totalDistance+=n[ce].dist(n[ce+1]);this.totalFeatureLength=this.totalDistance/(this.lineClips.end-this.lineClips.start),this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const A=bC[i.type]==="Polygon";let b=n.length;for(;b>=2&&n[b-1].equals(n[b-2]);)b--;let P=0;for(;P<b-1&&n[P].equals(n[P+1]);)P++;if(b<(A?3:2))return;g==="bevel"&&(v=1.05);const $=this.segments.prepareSegment(10*b,this.layoutVertexArray,this.indexArray);let M,O,N,W,q,ae;this.e1=this.e2=-1,A&&(M=n[b-2],q=n[P].sub(M)._unit()._perp());for(let ce=P;ce<b;ce++){if(N=ce===b-1?A?n[P+1]:void 0:n[ce+1],N&&n[ce].equals(N))continue;q&&(W=q),M&&(O=M),M=n[ce],ae=this.evaluateLineProgressFeatures(O?O.dist(M):0),q=N?N.sub(M)._unit()._perp():W,W=W||q;const ne=O&&N;let ge=ne?g:A||T?"butt":h;const Ce=W.x*q.x+W.y*q.y;if(T){const un=function(on){if(on.patternJoinNone){const hn=on.segmentPoints.length/2,On=on.lineSoFar-on.segmentStart;for(let kn=0;kn<hn;++kn){const Cn=on.segmentPoints[2*kn+1],Sr=Math.round(on.segmentPoints[2*kn])+.5+.25*Cn;on.patternVertexArray.emplaceBack(Sr,On,on.segmentStart),on.patternVertexArray.emplaceBack(Sr,On,on.segmentStart)}on.segmentPoints.length=0}on.e1=on.e2=-1};if(ne&&Ce<CC){this.updateDistance(O,M),this.addCurrentVertex(M,W,1,1,$,ae),un(this),this.addCurrentVertex(M,q,-1,-1,$,ae);continue}if(O){if(!N){this.updateDistance(O,M),this.addCurrentVertex(M,W,1,1,$,ae),un(this);continue}ge="miter"}}let De=W.add(q);De.x===0&&De.y===0||De._unit();const ut=De.x*q.x+De.y*q.y,st=ut!==0?1/ut:1/0,tt=2*Math.sqrt(2-2*ut),Zt=ut<xC&&O&&N,pt=W.x*q.y-W.y*q.x>0,Yt=this.overscaling<=16?15*Ii/(512*this.overscaling):0;if(ne&&ge==="round"){if(st<S)ge="miter";else if(st<=2){const un=S0(M,-10,Ii+10);ge=this.hasZOffset&&(un||this.hasCrossSlope)?"miter":"fakeround"}}if(ge==="miter"&&st>v&&(ge="bevel"),ge==="bevel"&&(st>2&&(ge="flipbevel"),st<v&&(ge="miter")),O&&!(ge==="miter"&&Zt)&&this.updateDistance(O,M),ge==="miter")if(Zt){const un=M.dist(O);if(un>2*Yt){const hn=M.sub(M.sub(O)._mult(Yt/un)._round());this.updateDistance(O,hn),this.addCurrentVertex(hn,W,0,0,$,ae),O=hn}this.updateDistance(O,M),De._mult(st),this.addCurrentVertex(M,De,0,0,$,ae);const on=M.dist(N);if(on>2*Yt){const hn=M.add(N.sub(M)._mult(Yt/on)._round());this.updateDistance(M,hn),this.addCurrentVertex(hn,q,0,0,$,ae),M=hn}}else De._mult(st),this.addCurrentVertex(M,De,0,0,$,ae);else if(ge==="flipbevel"){if(st>100)De=q.mult(-1);else{const un=st*W.add(q).mag()/W.sub(q).mag();De._perp()._mult(un*(pt?-1:1))}this.addCurrentVertex(M,De,0,0,$,ae),this.addCurrentVertex(M,De.mult(-1),0,0,$,ae)}else if(ge==="bevel"||ge==="fakeround"){ae!=null&&O&&this.addCurrentVertex(M,W,-1,-1,$,ae);const un=M.dist(O)<=2*Yt&&ge!=="bevel",on=De.mult(pt?1:-1);on._mult(st);const hn=q.mult(pt?-1:1),On=W.mult(pt?-1:1),kn=this.evaluateLineProgressFeatures(this.distance);if(ae==null&&(this.addHalfVertex(M,on.x,on.y,!1,!pt,0,$,kn),un||this.addHalfVertex(M,on.x+2*On.x,on.y+2*On.y,!1,pt,0,$,kn)),ge==="fakeround"){const Cn=Math.round(180*tt/Math.PI/20);this.addHalfVertex(M,On.x,On.y,!1,pt,0,$,kn);for(let Sr=0;Sr<Cn;Sr++){let Gr=Sr/Cn;if(Gr!==.5){const Bi=Gr-.5;Gr+=Gr*Bi*(Gr-1)*((1.0904+Ce*(Ce*(3.55645-1.43519*Ce)-3.2452))*Bi*Bi+(.848013+Ce*(.215638*Ce-1.06021)))}const br=hn.sub(On)._mult(Gr)._add(On)._unit();this.addHalfVertex(M,br.x,br.y,!1,pt,0,$,kn)}this.addHalfVertex(M,hn.x,hn.y,!1,pt,0,$,kn)}un||ae!=null||this.addHalfVertex(M,on.x+2*hn.x,on.y+2*hn.y,!1,pt,0,$,kn),ae!=null&&N&&this.addCurrentVertex(M,q,1,1,$,ae)}else ge==="butt"?this.addCurrentVertex(M,De,0,0,$,ae):ge==="square"?(O||this.addCurrentVertex(M,De,-1,-1,$,ae),this.addCurrentVertex(M,De,0,0,$,ae),O&&this.addCurrentVertex(M,De,1,1,$,ae)):ge==="round"&&(O&&(this.addCurrentVertex(M,W,0,0,$,ae),this.addCurrentVertex(M,W,1,1,$,ae,!0)),N&&(this.addCurrentVertex(M,q,-1,-1,$,ae,!0),this.addCurrentVertex(M,q,0,0,$,ae)))}}addVerticesTo(n,i,d,g,h,v,S,T,A,b){const P=(i.w-n.w)/this.tessellationStep|0;let $=0;const M=this.scaledDistance;if(P>1){this.lineSoFar=n.w;const N=(i.x-n.x)/P,W=(i.y-n.y)/P,q=(i.z-n.z)/P,ae=(i.w-n.w)/P;for(let ce=1;ce<P;++ce){n.x+=N,n.y+=W,n.z+=q,this.lineSoFar+=ae,$+=ae;const ne=this.evaluateLineProgressFeatures(this.prevDistance+$);this.scaledDistance=(this.prevDistance+$)/this.totalDistance,this.addHalfVertex(n,d,g,b,!1,S,A,ne),this.addHalfVertex(n,h,v,b,!0,-T,A,ne)}}this.lineSoFar=i.w,this.scaledDistance=M;const O=this.evaluateLineProgressFeatures(this.distance);this.addHalfVertex(i,d,g,b,!1,S,A,O),this.addHalfVertex(i,h,v,b,!0,-T,A,O)}evaluateLineProgressFeatures(n){if(!this.variableWidthValue&&!this.hasZOffset)return null;this.evaluationGlobals.lineProgress=0,this.lineClips?this.evaluationGlobals.lineProgress=Math.min(1,(this.totalFeatureLength*this.lineClips.start+n)/this.totalFeatureLength):Fn(`line-progress evaluation for ${this.layerIds[0]} requires enabling 'lineMetrics' for the source.`);let i=0;return this.variableWidthValue&&this.variableWidthValue.kind!=="constant"&&(i=this.variableWidthValue.evaluate(this.evaluationGlobals,this.lineFeature)||0),this.hasZOffset?this.zOffsetValue.kind==="constant"?{zOffset:this.zOffsetValue.value,variableWidth:i}:{zOffset:this.zOffsetValue.evaluate(this.evaluationGlobals,this.lineFeature)||0,variableWidth:i}:{zOffset:0,variableWidth:i}}addCurrentVertex(n,i,d,g,h,v,S=!1){const T=i.x+i.y*d,A=i.y-i.x*d,b=i.y*g-i.x,P=-i.y-i.x*g;if(v!=null){const $=this.hasZOffset,M=-10,O=Ii+10,N=v.zOffset,W=new p0(n.x,n.y,N,this.lineSoFar),q=!!$&&S0(n,M,O),ae=this.lineSoFar,ce=this.distance;if(this.currentVertex)if(q){const ne=this.currentVertexIsOutside,ge=this.currentVertex,Ce=new p0(n.x,n.y,N,this.lineSoFar);if(Jv(ge,Ce,M,O),!S0(Ce,M,O)){if(ne){this.e1=this.e2=-1,this.distance-=ge.dist(W),this.lineSoFar=ge.w;const De=this.evaluateLineProgressFeatures(ge.w-this.totalFeatureLength*(this.lineClips?this.lineClips.start:0));this.addHalfVertex(ge,T,A,S,!1,d,h,De),this.addHalfVertex(ge,b,P,S,!0,-g,h,De),this.prevDistance=this.distance}this.distance=this.prevDistance+ge.dist(Ce),this.scaledDistance=this.distance/this.totalDistance,this.addVerticesTo(ge,Ce,T,A,b,P,d,g,h,S),this.distance=ce,this.scaledDistance=this.distance/this.totalDistance}}else{const ne=this.currentVertex;if(this.currentVertexIsOutside){Jv(ne,W,M,O),this.e1=this.e2=-1,this.distance-=ne.dist(W),this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=ne.w;const ge=this.evaluateLineProgressFeatures(ne.w-this.totalFeatureLength*(this.lineClips?this.lineClips.start:0));this.addHalfVertex(ne,T,A,S,!1,d,h,ge),this.addHalfVertex(ne,b,P,S,!0,-g,h,ge),this.prevDistance=this.distance,this.distance=ce,this.scaledDistance=this.distance/this.totalDistance}this.addVerticesTo(ne,W,T,A,b,P,d,g,h,S)}else q||(this.addHalfVertex(n,T,A,S,!1,d,h,v),this.addHalfVertex(n,b,P,S,!0,-g,h,v));this.currentVertex=W,this.currentVertexIsOutside=q,this.lineSoFar=ae}else this.addHalfVertex(n,T,A,S,!1,d,h,v),this.addHalfVertex(n,b,P,S,!0,-g,h,v)}addHalfVertex({x:n,y:i},d,g,h,v,S,T,A){if(this.patternJoinNone&&(this.segmentPoints.length===0&&(this.segmentStart=this.lineSoFar,this.segmentStartf32=Math.fround(this.lineSoFar)),v||this.segmentPoints.push(this.lineSoFar-this.segmentStart,S)),this.layoutVertexArray.emplaceBack((n<<1)+(h?1:0),(i<<1)+(v?1:0),Math.round(63*d)+128,Math.round(63*g)+128,1+(S===0?0:S<0?-1:1),0,this.lineSoFar-this.segmentStartf32),this.lineClips){const P=Rr(this.lineClips.start,this.lineClips.end,this.scaledDistance);this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,P)}const b=T.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,b),T.primitiveLength++),v?this.e2=b:this.e1=b,A!=null&&this.zOffsetVertexArray.emplaceBack(A.zOffset,A.variableWidth,A.variableWidth)}updateScaledDistance(){this.lineClips?(this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=this.totalFeatureLength*this.lineClips.start+this.distance):this.lineSoFar=this.distance}updateDistance(n,i){this.prevDistance=this.distance,this.distance+=n.dist(i),this.updateScaledDistance()}}function S0(u,n,i){return u.x<n||u.x>i||u.y<n||u.y>i}let sy,ly;function Lb(u,n,i){return n*(Ii/(u.tileSize*Math.pow(2,i-u.tileID.overscaledZ)))}lo(C0,"LineBucket",{omit:["layers","patternFeatures","currentVertex","currentVertexIsOutside"]});const w0=(u,n,i)=>(1-i)*u+i*n;function Jd(u,n){return 1/Lb(u,1,n.tileZoom)}function E0(u,n,i,d){return u.translatePosMatrix(d||n.tileID.projMatrix,n,i.paint.get("line-translate"),i.paint.get("line-translate-anchor"))}const $f=u=>{const n=[];cy(u)&&n.push("RENDER_LINE_DASH"),u.paint.get("line-gradient")&&n.push("RENDER_LINE_GRADIENT");const i=u.paint.get("line-trim-offset");i[0]===0&&i[1]===0||n.push("RENDER_LINE_TRIM_OFFSET"),u.paint.get("line-border-width").constantOr(1)!==0&&n.push("RENDER_LINE_BORDER");const d=u.layout.get("line-join").constantOr("miter")==="none",g=!!u.paint.get("line-pattern").constantOr(1);return d&&g&&n.push("LINE_JOIN_NONE"),n};function cy(u){const n=u.paint.get("line-dasharray").value;return n.value||n.kind!=="constant"}let uy;const I0=()=>uy||(uy={layout:sy||(sy=new nl({"line-cap":new Ki(Gn.layout_line["line-cap"]),"line-join":new Ki(Gn.layout_line["line-join"]),"line-miter-limit":new pi(Gn.layout_line["line-miter-limit"]),"line-round-limit":new pi(Gn.layout_line["line-round-limit"]),"line-sort-key":new Ki(Gn.layout_line["line-sort-key"]),"line-z-offset":new Ki(Gn.layout_line["line-z-offset"]),"line-elevation-reference":new pi(Gn.layout_line["line-elevation-reference"]),"line-cross-slope":new pi(Gn.layout_line["line-cross-slope"]),visibility:new pi(Gn.layout_line.visibility),"line-width-unit":new pi(Gn.layout_line["line-width-unit"])})),paint:ly||(ly=new nl({"line-opacity":new Ki(Gn.paint_line["line-opacity"]),"line-color":new Ki(Gn.paint_line["line-color"]),"line-translate":new pi(Gn.paint_line["line-translate"]),"line-translate-anchor":new pi(Gn.paint_line["line-translate-anchor"]),"line-width":new Ki(Gn.paint_line["line-width"]),"line-gap-width":new Ki(Gn.paint_line["line-gap-width"]),"line-offset":new Ki(Gn.paint_line["line-offset"]),"line-blur":new Ki(Gn.paint_line["line-blur"]),"line-dasharray":new Ki(Gn.paint_line["line-dasharray"]),"line-pattern":new Ki(Gn.paint_line["line-pattern"]),"line-gradient":new kd(Gn.paint_line["line-gradient"]),"line-trim-offset":new pi(Gn.paint_line["line-trim-offset"]),"line-trim-fade-range":new pi(Gn.paint_line["line-trim-fade-range"]),"line-trim-color":new pi(Gn.paint_line["line-trim-color"]),"line-emissive-strength":new pi(Gn.paint_line["line-emissive-strength"]),"line-border-width":new Ki(Gn.paint_line["line-border-width"]),"line-border-color":new Ki(Gn.paint_line["line-border-color"]),"line-occlusion-opacity":new pi(Gn.paint_line["line-occlusion-opacity"]),"line-color-use-theme":new Ki({type:"string",default:"default","property-type":"data-driven"}),"line-gradient-use-theme":new Ki({type:"string",default:"default","property-type":"data-driven"}),"line-trim-color-use-theme":new Ki({type:"string",default:"default","property-type":"data-driven"}),"line-border-color-use-theme":new Ki({type:"string",default:"default","property-type":"data-driven"})}))},uy);class dy extends Ki{possiblyEvaluate(n,i){return i=new Ws(Math.floor(i.zoom),{now:i.now,fadeDuration:i.fadeDuration,transition:i.transition}),super.possiblyEvaluate(n,i)}evaluate(n,i,d,g){return i=ti({},i,{zoom:Math.floor(i.zoom)}),super.evaluate(n,i,d,g)}}let Tm;function fy(u,n){return n>0?n+2*u:u}const Yp=bs([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Gc=bs([{name:"a_globe_anchor",components:3,type:"Int16"},{name:"a_globe_normal",components:3,type:"Float32"}],4),M0=bs([{name:"a_projected_pos",components:4,type:"Float32"}],4);bs([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const T0=bs([{name:"a_auto_z_offset",components:1,type:"Float32"}],4),SC=bs([{name:"a_texb",components:2,type:"Uint16"}]),Oc=bs([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"},{name:"a_elevation_from_sea",components:2,type:"Float32"}]),P0=bs([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"},{name:"a_auto_z_offset",components:1,type:"Float32"}]);bs([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const Nb=bs([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),wC=bs([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);bs([{name:"triangle",components:3,type:"Uint16"}]),bs([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),bs([{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Float32",name:"zOffset"},{type:"Uint8",name:"hasIconTextFit"}]),bs([{type:"Float32",name:"offsetX"}]),bs([{type:"Int16",name:"x"},{type:"Int16",name:"y"}]);var Rc=24;const Qu=128;function Pm(u,n,i,d,g){if(u.kind==="camera")return u.maxSize;if(u.kind==="composite"){const h=n.possiblyEvaluate(new Ws(u.maxZoom),i).evaluate(g,{},i),v=n.possiblyEvaluate(new Ws(u.minZoom),i).evaluate(g,{},i);return Math.max(h,v)}return n.possiblyEvaluate(new Ws(d)).evaluate(g,{},i)}function O0(u,n){const{expression:i}=n;if(i.kind==="constant")return{kind:"constant",layoutSize:i.evaluate(new Ws(u+1))};if(i.kind==="source")return{kind:"source"};{const{zoomStops:d,interpolationType:g}=i;let h=0;for(;h<d.length&&d[h]<=u;)h++;h=Math.max(0,h-1);let v=h;for(;v<d.length&&d[v]<u+1;)v++;v=Math.min(d.length-1,v);const S=d[h],T=d[v];return i.kind==="composite"?{kind:"composite",minZoom:S,maxZoom:T,interpolationType:g}:{kind:"camera",minZoom:S,maxZoom:T,minSize:i.evaluate(new Ws(S)),maxSize:i.evaluate(new Ws(T)),interpolationType:g}}}function R0(u,{uSize:n,uSizeT:i},{lowerSize:d,upperSize:g}){return u.kind==="source"?d/Qu:u.kind==="composite"?Rr(d/Qu,g/Qu,i):n}function Ih(u,n,i=1){let d=0,g=0;if(u.kind==="constant")g=u.layoutSize*i;else if(u.kind!=="source"){const{interpolationType:h,minZoom:v,maxZoom:S}=u,T=h?Un(Ul.interpolationFactor(h,n,v,S),0,1):0;u.kind==="camera"?g=Rr(u.minSize,u.maxSize,T)*i:d=T*i}return{uSizeT:d,uSize:g}}var Bb=Object.freeze({__proto__:null,SIZE_PACK_FACTOR:Qu,evaluateSizeForFeature:R0,evaluateSizeForZoom:Ih,getRasterizedIconSize:Pm,getSizeData:O0});function Fb(u,n,i){return u.sections.forEach(d=>{d.text=function(g,h,v){const S=h.layout.get("text-transform").evaluate(v,{});return S==="uppercase"?g=g.toLocaleUpperCase():S==="lowercase"&&(g=g.toLocaleLowerCase()),au.applyArabicShaping&&(g=au.applyArabicShaping(g)),g}(d.text,n,i)}),u}const Mh={"!":"\uFE15","#":"\uFF03",$:"\uFF04","%":"\uFF05","&":"\uFF06","(":"\uFE35",")":"\uFE36","*":"\uFF0A","+":"\uFF0B",",":"\uFE10","-":"\uFE32",".":"\u30FB","/":"\uFF0F",":":"\uFE13",";":"\uFE14","<":"\uFE3F","=":"\uFF1D",">":"\uFE40","?":"\uFE16","@":"\uFF20","[":"\uFE47","\\":"\uFF3C","]":"\uFE48","^":"\uFF3E",_:"\uFE33","`":"\uFF40","{":"\uFE37","|":"\u2015","}":"\uFE38","~":"\uFF5E","\xA2":"\uFFE0","\xA3":"\uFFE1","\xA5":"\uFFE5","\xA6":"\uFFE4","\xAC":"\uFFE2","\xAF":"\uFFE3","\u2013":"\uFE32","\u2014":"\uFE31","\u2018":"\uFE43","\u2019":"\uFE44","\u201C":"\uFE41","\u201D":"\uFE42","\u2026":"\uFE19","\u2027":"\u30FB","\u20A9":"\uFFE6","\u3001":"\uFE11","\u3002":"\uFE12","\u3008":"\uFE3F","\u3009":"\uFE40","\u300A":"\uFE3D","\u300B":"\uFE3E","\u300C":"\uFE41","\u300D":"\uFE42","\u300E":"\uFE43","\u300F":"\uFE44","\u3010":"\uFE3B","\u3011":"\uFE3C","\u3014":"\uFE39","\u3015":"\uFE3A","\u3016":"\uFE17","\u3017":"\uFE18","\uFF01":"\uFE15","\uFF08":"\uFE35","\uFF09":"\uFE36","\uFF0C":"\uFE10","\uFF0D":"\uFE32","\uFF0E":"\u30FB","\uFF1A":"\uFE13","\uFF1B":"\uFE14","\uFF1C":"\uFE3F","\uFF1E":"\uFE40","\uFF1F":"\uFE16","\uFF3B":"\uFE47","\uFF3D":"\uFE48","\uFF3F":"\uFE33","\uFF5B":"\uFE37","\uFF5C":"\u2015","\uFF5D":"\uFE38","\uFF5F":"\uFE35","\uFF60":"\uFE36","\uFF61":"\uFE12","\uFF62":"\uFE41","\uFF63":"\uFE42","\u2190":"\u2191","\u2192":"\u2193"};function kb(u){return u==="\uFE36"||u==="\uFE48"||u==="\uFE38"||u==="\uFE44"||u==="\uFE42"||u==="\uFE3E"||u==="\uFE3C"||u==="\uFE3A"||u==="\uFE18"||u==="\uFE40"||u==="\uFE10"||u==="\uFE13"||u==="\uFE14"||u==="\uFF40"||u==="\uFFE3"||u==="\uFE11"||u==="\uFE12"}function EC(u){return u==="\uFE35"||u==="\uFE47"||u==="\uFE37"||u==="\uFE43"||u==="\uFE41"||u==="\uFE3D"||u==="\uFE3B"||u==="\uFE39"||u==="\uFE17"||u==="\uFE3F"}var Om,qp,hy,$0={};function IC(){return Om||(Om=1,$0.read=function(u,n,i,d,g){var h,v,S=8*g-d-1,T=(1<<S)-1,A=T>>1,b=-7,P=i?g-1:0,$=i?-1:1,M=u[n+P];for(P+=$,h=M&(1<<-b)-1,M>>=-b,b+=S;b>0;h=256*h+u[n+P],P+=$,b-=8);for(v=h&(1<<-b)-1,h>>=-b,b+=d;b>0;v=256*v+u[n+P],P+=$,b-=8);if(h===0)h=1-A;else{if(h===T)return v?NaN:1/0*(M?-1:1);v+=Math.pow(2,d),h-=A}return(M?-1:1)*v*Math.pow(2,h-d)},$0.write=function(u,n,i,d,g,h){var v,S,T,A=8*h-g-1,b=(1<<A)-1,P=b>>1,$=g===23?Math.pow(2,-24)-Math.pow(2,-77):0,M=d?0:h-1,O=d?1:-1,N=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(S=isNaN(n)?1:0,v=b):(v=Math.floor(Math.log(n)/Math.LN2),n*(T=Math.pow(2,-v))<1&&(v--,T*=2),(n+=v+P>=1?$/T:$*Math.pow(2,1-P))*T>=2&&(v++,T/=2),v+P>=b?(S=0,v=b):v+P>=1?(S=(n*T-1)*Math.pow(2,g),v+=P):(S=n*Math.pow(2,P-1)*Math.pow(2,g),v=0));g>=8;u[i+M]=255&S,M+=O,S/=256,g-=8);for(v=v<<g|S,A+=g;A>0;u[i+M]=255&v,M+=O,v/=256,A-=8);u[i+M-O]|=128*N}),$0}function my(){if(hy)return qp;hy=1,qp=n;var u=IC();function n(ne){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(ne)?ne:new Uint8Array(ne||0),this.pos=0,this.type=0,this.length=this.buf.length}n.Varint=0,n.Fixed64=1,n.Bytes=2,n.Fixed32=5;var i=4294967296,d=1/i,g=typeof TextDecoder=="undefined"?null:new TextDecoder("utf8");function h(ne){return ne.type===n.Bytes?ne.readVarint()+ne.pos:ne.pos+1}function v(ne,ge,Ce){return Ce?4294967296*ge+(ne>>>0):4294967296*(ge>>>0)+(ne>>>0)}function S(ne,ge,Ce){var De=ge<=16383?1:ge<=2097151?2:ge<=268435455?3:Math.floor(Math.log(ge)/(7*Math.LN2));Ce.realloc(De);for(var ut=Ce.pos-1;ut>=ne;ut--)Ce.buf[ut+De]=Ce.buf[ut]}function T(ne,ge){for(var Ce=0;Ce<ne.length;Ce++)ge.writeVarint(ne[Ce])}function A(ne,ge){for(var Ce=0;Ce<ne.length;Ce++)ge.writeSVarint(ne[Ce])}function b(ne,ge){for(var Ce=0;Ce<ne.length;Ce++)ge.writeFloat(ne[Ce])}function P(ne,ge){for(var Ce=0;Ce<ne.length;Ce++)ge.writeDouble(ne[Ce])}function $(ne,ge){for(var Ce=0;Ce<ne.length;Ce++)ge.writeBoolean(ne[Ce])}function M(ne,ge){for(var Ce=0;Ce<ne.length;Ce++)ge.writeFixed32(ne[Ce])}function O(ne,ge){for(var Ce=0;Ce<ne.length;Ce++)ge.writeSFixed32(ne[Ce])}function N(ne,ge){for(var Ce=0;Ce<ne.length;Ce++)ge.writeFixed64(ne[Ce])}function W(ne,ge){for(var Ce=0;Ce<ne.length;Ce++)ge.writeSFixed64(ne[Ce])}function q(ne,ge){return(ne[ge]|ne[ge+1]<<8|ne[ge+2]<<16)+16777216*ne[ge+3]}function ae(ne,ge,Ce){ne[Ce]=ge,ne[Ce+1]=ge>>>8,ne[Ce+2]=ge>>>16,ne[Ce+3]=ge>>>24}function ce(ne,ge){return(ne[ge]|ne[ge+1]<<8|ne[ge+2]<<16)+(ne[ge+3]<<24)}return n.prototype={destroy:function(){this.buf=null},readFields:function(ne,ge,Ce){for(Ce=Ce||this.length;this.pos<Ce;){var De=this.readVarint(),ut=De>>3,st=this.pos;this.type=7&De,ne(ut,ge,this),this.pos===st&&this.skip(De)}return ge},readMessage:function(ne,ge){return this.readFields(ne,ge,this.readVarint()+this.pos)},readFixed32:function(){var ne=q(this.buf,this.pos);return this.pos+=4,ne},readSFixed32:function(){var ne=ce(this.buf,this.pos);return this.pos+=4,ne},readFixed64:function(){var ne=q(this.buf,this.pos)+q(this.buf,this.pos+4)*i;return this.pos+=8,ne},readSFixed64:function(){var ne=q(this.buf,this.pos)+ce(this.buf,this.pos+4)*i;return this.pos+=8,ne},readFloat:function(){var ne=u.read(this.buf,this.pos,!0,23,4);return this.pos+=4,ne},readDouble:function(){var ne=u.read(this.buf,this.pos,!0,52,8);return this.pos+=8,ne},readVarint:function(ne){var ge,Ce,De=this.buf;return ge=127&(Ce=De[this.pos++]),Ce<128?ge:(ge|=(127&(Ce=De[this.pos++]))<<7,Ce<128?ge:(ge|=(127&(Ce=De[this.pos++]))<<14,Ce<128?ge:(ge|=(127&(Ce=De[this.pos++]))<<21,Ce<128?ge:function(ut,st,tt){var Zt,pt,Yt=tt.buf;if(Zt=(112&(pt=Yt[tt.pos++]))>>4,pt<128||(Zt|=(127&(pt=Yt[tt.pos++]))<<3,pt<128)||(Zt|=(127&(pt=Yt[tt.pos++]))<<10,pt<128)||(Zt|=(127&(pt=Yt[tt.pos++]))<<17,pt<128)||(Zt|=(127&(pt=Yt[tt.pos++]))<<24,pt<128)||(Zt|=(1&(pt=Yt[tt.pos++]))<<31,pt<128))return v(ut,Zt,st);throw new Error("Expected varint not more than 10 bytes")}(ge|=(15&(Ce=De[this.pos]))<<28,ne,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var ne=this.readVarint();return ne%2==1?(ne+1)/-2:ne/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var ne=this.readVarint()+this.pos,ge=this.pos;return this.pos=ne,ne-ge>=12&&g?function(Ce,De,ut){return g.decode(Ce.subarray(De,ut))}(this.buf,ge,ne):function(Ce,De,ut){for(var st="",tt=De;tt<ut;){var Zt,pt,Yt,un=Ce[tt],on=null,hn=un>239?4:un>223?3:un>191?2:1;if(tt+hn>ut)break;hn===1?un<128&&(on=un):hn===2?(192&(Zt=Ce[tt+1]))==128&&(on=(31&un)<<6|63&Zt)<=127&&(on=null):hn===3?(pt=Ce[tt+2],(192&(Zt=Ce[tt+1]))==128&&(192&pt)==128&&((on=(15&un)<<12|(63&Zt)<<6|63&pt)<=2047||on>=55296&&on<=57343)&&(on=null)):hn===4&&(pt=Ce[tt+2],Yt=Ce[tt+3],(192&(Zt=Ce[tt+1]))==128&&(192&pt)==128&&(192&Yt)==128&&((on=(15&un)<<18|(63&Zt)<<12|(63&pt)<<6|63&Yt)<=65535||on>=1114112)&&(on=null)),on===null?(on=65533,hn=1):on>65535&&(on-=65536,st+=String.fromCharCode(on>>>10&1023|55296),on=56320|1023&on),st+=String.fromCharCode(on),tt+=hn}return st}(this.buf,ge,ne)},readBytes:function(){var ne=this.readVarint()+this.pos,ge=this.buf.subarray(this.pos,ne);return this.pos=ne,ge},readPackedVarint:function(ne,ge){if(this.type!==n.Bytes)return ne.push(this.readVarint(ge));var Ce=h(this);for(ne=ne||[];this.pos<Ce;)ne.push(this.readVarint(ge));return ne},readPackedSVarint:function(ne){if(this.type!==n.Bytes)return ne.push(this.readSVarint());var ge=h(this);for(ne=ne||[];this.pos<ge;)ne.push(this.readSVarint());return ne},readPackedBoolean:function(ne){if(this.type!==n.Bytes)return ne.push(this.readBoolean());var ge=h(this);for(ne=ne||[];this.pos<ge;)ne.push(this.readBoolean());return ne},readPackedFloat:function(ne){if(this.type!==n.Bytes)return ne.push(this.readFloat());var ge=h(this);for(ne=ne||[];this.pos<ge;)ne.push(this.readFloat());return ne},readPackedDouble:function(ne){if(this.type!==n.Bytes)return ne.push(this.readDouble());var ge=h(this);for(ne=ne||[];this.pos<ge;)ne.push(this.readDouble());return ne},readPackedFixed32:function(ne){if(this.type!==n.Bytes)return ne.push(this.readFixed32());var ge=h(this);for(ne=ne||[];this.pos<ge;)ne.push(this.readFixed32());return ne},readPackedSFixed32:function(ne){if(this.type!==n.Bytes)return ne.push(this.readSFixed32());var ge=h(this);for(ne=ne||[];this.pos<ge;)ne.push(this.readSFixed32());return ne},readPackedFixed64:function(ne){if(this.type!==n.Bytes)return ne.push(this.readFixed64());var ge=h(this);for(ne=ne||[];this.pos<ge;)ne.push(this.readFixed64());return ne},readPackedSFixed64:function(ne){if(this.type!==n.Bytes)return ne.push(this.readSFixed64());var ge=h(this);for(ne=ne||[];this.pos<ge;)ne.push(this.readSFixed64());return ne},skip:function(ne){var ge=7&ne;if(ge===n.Varint)for(;this.buf[this.pos++]>127;);else if(ge===n.Bytes)this.pos=this.readVarint()+this.pos;else if(ge===n.Fixed32)this.pos+=4;else{if(ge!==n.Fixed64)throw new Error("Unimplemented type: "+ge);this.pos+=8}},writeTag:function(ne,ge){this.writeVarint(ne<<3|ge)},realloc:function(ne){for(var ge=this.length||16;ge<this.pos+ne;)ge*=2;if(ge!==this.length){var Ce=new Uint8Array(ge);Ce.set(this.buf),this.buf=Ce,this.length=ge}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(ne){this.realloc(4),ae(this.buf,ne,this.pos),this.pos+=4},writeSFixed32:function(ne){this.realloc(4),ae(this.buf,ne,this.pos),this.pos+=4},writeFixed64:function(ne){this.realloc(8),ae(this.buf,-1&ne,this.pos),ae(this.buf,Math.floor(ne*d),this.pos+4),this.pos+=8},writeSFixed64:function(ne){this.realloc(8),ae(this.buf,-1&ne,this.pos),ae(this.buf,Math.floor(ne*d),this.pos+4),this.pos+=8},writeVarint:function(ne){(ne=+ne||0)>268435455||ne<0?function(ge,Ce){var De,ut;if(ge>=0?(De=ge%4294967296|0,ut=ge/4294967296|0):(ut=~(-ge/4294967296),4294967295^(De=~(-ge%4294967296))?De=De+1|0:(De=0,ut=ut+1|0)),ge>=18446744073709552e3||ge<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");Ce.realloc(10),function(st,tt,Zt){Zt.buf[Zt.pos++]=127&st|128,st>>>=7,Zt.buf[Zt.pos++]=127&st|128,st>>>=7,Zt.buf[Zt.pos++]=127&st|128,st>>>=7,Zt.buf[Zt.pos++]=127&st|128,Zt.buf[Zt.pos]=127&(st>>>=7)}(De,0,Ce),function(st,tt){var Zt=(7&st)<<4;tt.buf[tt.pos++]|=Zt|((st>>>=3)?128:0),st&&(tt.buf[tt.pos++]=127&st|((st>>>=7)?128:0),st&&(tt.buf[tt.pos++]=127&st|((st>>>=7)?128:0),st&&(tt.buf[tt.pos++]=127&st|((st>>>=7)?128:0),st&&(tt.buf[tt.pos++]=127&st|((st>>>=7)?128:0),st&&(tt.buf[tt.pos++]=127&st)))))}(ut,Ce)}(ne,this):(this.realloc(4),this.buf[this.pos++]=127&ne|(ne>127?128:0),ne<=127||(this.buf[this.pos++]=127&(ne>>>=7)|(ne>127?128:0),ne<=127||(this.buf[this.pos++]=127&(ne>>>=7)|(ne>127?128:0),ne<=127||(this.buf[this.pos++]=ne>>>7&127))))},writeSVarint:function(ne){this.writeVarint(ne<0?2*-ne-1:2*ne)},writeBoolean:function(ne){this.writeVarint(!!ne)},writeString:function(ne){ne=String(ne),this.realloc(4*ne.length),this.pos++;var ge=this.pos;this.pos=function(De,ut,st){for(var tt,Zt,pt=0;pt<ut.length;pt++){if((tt=ut.charCodeAt(pt))>55295&&tt<57344){if(!Zt){tt>56319||pt+1===ut.length?(De[st++]=239,De[st++]=191,De[st++]=189):Zt=tt;continue}if(tt<56320){De[st++]=239,De[st++]=191,De[st++]=189,Zt=tt;continue}tt=Zt-55296<<10|tt-56320|65536,Zt=null}else Zt&&(De[st++]=239,De[st++]=191,De[st++]=189,Zt=null);tt<128?De[st++]=tt:(tt<2048?De[st++]=tt>>6|192:(tt<65536?De[st++]=tt>>12|224:(De[st++]=tt>>18|240,De[st++]=tt>>12&63|128),De[st++]=tt>>6&63|128),De[st++]=63&tt|128)}return st}(this.buf,ne,this.pos);var Ce=this.pos-ge;Ce>=128&&S(ge,Ce,this),this.pos=ge-1,this.writeVarint(Ce),this.pos+=Ce},writeFloat:function(ne){this.realloc(4),u.write(this.buf,ne,this.pos,!0,23,4),this.pos+=4},writeDouble:function(ne){this.realloc(8),u.write(this.buf,ne,this.pos,!0,52,8),this.pos+=8},writeBytes:function(ne){var ge=ne.length;this.writeVarint(ge),this.realloc(ge);for(var Ce=0;Ce<ge;Ce++)this.buf[this.pos++]=ne[Ce]},writeRawMessage:function(ne,ge){this.pos++;var Ce=this.pos;ne(ge,this);var De=this.pos-Ce;De>=128&&S(Ce,De,this),this.pos=Ce-1,this.writeVarint(De),this.pos+=De},writeMessage:function(ne,ge,Ce){this.writeTag(ne,n.Bytes),this.writeRawMessage(ge,Ce)},writePackedVarint:function(ne,ge){ge.length&&this.writeMessage(ne,T,ge)},writePackedSVarint:function(ne,ge){ge.length&&this.writeMessage(ne,A,ge)},writePackedBoolean:function(ne,ge){ge.length&&this.writeMessage(ne,$,ge)},writePackedFloat:function(ne,ge){ge.length&&this.writeMessage(ne,b,ge)},writePackedDouble:function(ne,ge){ge.length&&this.writeMessage(ne,P,ge)},writePackedFixed32:function(ne,ge){ge.length&&this.writeMessage(ne,M,ge)},writePackedSFixed32:function(ne,ge){ge.length&&this.writeMessage(ne,O,ge)},writePackedFixed64:function(ne,ge){ge.length&&this.writeMessage(ne,N,ge)},writePackedSFixed64:function(ne,ge){ge.length&&this.writeMessage(ne,W,ge)},writeBytesField:function(ne,ge){this.writeTag(ne,n.Bytes),this.writeBytes(ge)},writeFixed32Field:function(ne,ge){this.writeTag(ne,n.Fixed32),this.writeFixed32(ge)},writeSFixed32Field:function(ne,ge){this.writeTag(ne,n.Fixed32),this.writeSFixed32(ge)},writeFixed64Field:function(ne,ge){this.writeTag(ne,n.Fixed64),this.writeFixed64(ge)},writeSFixed64Field:function(ne,ge){this.writeTag(ne,n.Fixed64),this.writeSFixed64(ge)},writeVarintField:function(ne,ge){this.writeTag(ne,n.Varint),this.writeVarint(ge)},writeSVarintField:function(ne,ge){this.writeTag(ne,n.Varint),this.writeSVarint(ge)},writeStringField:function(ne,ge){this.writeTag(ne,n.Bytes),this.writeString(ge)},writeFloatField:function(ne,ge){this.writeTag(ne,n.Fixed32),this.writeFloat(ge)},writeDoubleField:function(ne,ge){this.writeTag(ne,n.Fixed64),this.writeDouble(ge)},writeBooleanField:function(ne,ge){this.writeVarintField(ne,!!ge)}},qp}var Jp=xe(my());const py=3;function jb(u,n,i){n.glyphs=[],u===1&&i.readMessage(Zb,n)}function Zb(u,n,i){if(u===3){const{id:d,bitmap:g,width:h,height:v,left:S,top:T,advance:A}=i.readMessage(Vb,{});n.glyphs.push({id:d,bitmap:new Yd({width:h+2*py,height:v+2*py},g),metrics:{width:h,height:v,left:S,top:T,advance:A}})}else u===4?n.ascender=i.readSVarint():u===5&&(n.descender=i.readSVarint())}function Vb(u,n,i){u===1?n.id=i.readVarint():u===2?n.bitmap=i.readBytes():u===3?n.width=i.readVarint():u===4?n.height=i.readVarint():u===5?n.left=i.readSVarint():u===6?n.top=i.readSVarint():u===7&&(n.advance=i.readVarint())}const Hb=py,Kc={horizontal:1,vertical:2,horizontalOnly:3};class Af{constructor(){this.scale=1,this.fontStack="",this.image=null}static forText(n,i){const d=new Af;return d.scale=n||1,d.fontStack=i,d}static forImage(n){const i=new Af;return i.image=n,i}}class Df{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(n,i){const d=new Df;for(let g=0;g<n.sections.length;g++){const h=n.sections[g];h.image?d.addImageSection(h):d.addTextSection(h,i)}return d}length(){return this.text.length}getSection(n){return this.sections[this.sectionIndex[n]]}getSections(){return this.sections}getSectionIndex(n){return this.sectionIndex[n]}getCodePoint(n){return this.text.codePointAt(n)}verticalizePunctuation(n){this.text=function(i,d){let g="";for(let h=0;h<i.length;h++){const v=i.charCodeAt(h+1)||null,S=i.charCodeAt(h-1)||null;g+=!d&&(v&&Bd(v)&&!Mh[i[h+1]]||S&&Bd(S)&&!Mh[i[h-1]])||!Mh[i[h]]?i[h]:Mh[i[h]]}return g}(this.text,n)}trim(){let n=0;for(let d=0;d<this.text.length&&Qp[this.text.charCodeAt(d)];d++)n++;let i=this.text.length;for(let d=this.text.length-1;d>=0&&d>=n&&Qp[this.text.charCodeAt(d)];d--)i--;this.text=this.text.substring(n,i),this.sectionIndex=this.sectionIndex.slice(n,i)}substring(n,i){const d=new Df;return d.text=this.text.substring(n,i),d.sectionIndex=this.sectionIndex.slice(n,i),d.sections=this.sections,d}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((n,i)=>Math.max(n,this.sections[i].scale),0)}addTextSection(n,i){this.text+=n.text,this.sections.push(Af.forText(n.scale,n.fontStack||i));const d=this.sections.length-1;for(let g=0;g<n.text.length;++g)this.sectionIndex.push(d)}addImageSection(n){const i=n.image&&n.image.namePrimary?n.image.getPrimary():null;if(!i)return void Fn("Can't add FormattedSection with an empty image.");const d=this.getNextImageSectionCharCode();d?(this.text+=String.fromCodePoint(d),this.sections.push(Af.forImage(i)),this.sectionIndex.push(this.sections.length-1)):Fn("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function gy(u,n,i,d,g,h,v,S,T,A,b,P,$,M,O){const N=Df.fromFeature(u,g);P===Kc.vertical&&N.verticalizePunctuation($);let W=[];const q=function(Ce,De,ut,st,tt,Zt){if(!Ce)return[];const pt=[],Yt=function(On,kn,Cn,Sr,Gr,br){let Bi=0;for(let Ti=0;Ti<On.length();Ti++){const di=On.getSection(Ti);Bi+=eg(On.getCodePoint(Ti),di,Sr,Gr,kn,br)}return Bi/Math.max(1,Math.ceil(Bi/Cn))}(Ce,De,ut,st,tt,Zt),un=Ce.text.indexOf("\u200B")>=0;let on=0;for(let On=0;On<Ce.length();On++){const kn=Ce.getSection(On),Cn=Ce.getCodePoint(On);if(Qp[Cn]||(on+=eg(Cn,kn,st,tt,De,Zt)),On<Ce.length()-1){const Sr=!((hn=Cn)<11904||!(Po["Bopomofo Extended"](hn)||Po.Bopomofo(hn)||Po["CJK Compatibility Forms"](hn)||Po["CJK Compatibility Ideographs"](hn)||Po["CJK Compatibility"](hn)||Po["CJK Radicals Supplement"](hn)||Po["CJK Strokes"](hn)||Po["CJK Symbols and Punctuation"](hn)||Po["CJK Unified Ideographs Extension A"](hn)||Po["CJK Unified Ideographs"](hn)||Po["Enclosed CJK Letters and Months"](hn)||Po["Halfwidth and Fullwidth Forms"](hn)||Po.Hiragana(hn)||Po["Ideographic Description Characters"](hn)||Po["Kangxi Radicals"](hn)||Po["Katakana Phonetic Extensions"](hn)||Po.Katakana(hn)||Po["Vertical Forms"](hn)||Po["Yi Radicals"](hn)||Po["Yi Syllables"](hn)));(Th[Cn]||Sr||kn.image)&&pt.push(Rm(On+1,on,Yt,pt,zf(Cn,Ce.getCodePoint(On+1),Sr&&un),!1))}}var hn;return tg(Rm(Ce.length(),on,Yt,pt,0,!0))}(N,A,h,n,d,M),{processBidirectionalText:ae,processStyledBidirectionalText:ce}=au;if(ae&&N.sections.length===1){const Ce=ae(N.toString(),q);for(const De of Ce){const ut=new Df;ut.text=De,ut.sections=N.sections;for(let st=0;st<De.length;st++)ut.sectionIndex.push(0);W.push(ut)}}else if(ce){const Ce=ce(N.text,N.sectionIndex,q);for(const De of Ce){const ut=new Df;ut.text=De[0],ut.sectionIndex=De[1],ut.sections=N.sections,W.push(ut)}}else W=function(Ce,De){const ut=[],st=Ce.text;let tt=0;for(const Zt of De)ut.push(Ce.substring(tt,Zt)),tt=Zt;return tt<st.length&&ut.push(Ce.substring(tt,st.length)),ut}(N,q);const ne=[],ge={positionedLines:ne,text:N.toString(),top:b[1],bottom:b[1],left:b[0],right:b[0],writingMode:P,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(Ce,De,ut,st,tt,Zt,pt,Yt,un,on,hn,On){let kn=0,Cn=0,Sr=0;const Gr=Yt==="right"?1:Yt==="left"?0:.5;let br=!1;for(const ji of tt){const qi=ji.getSections();for(const la of qi){if(la.image)continue;const za=De[la.fontStack];if(za&&(br=za.ascender!==void 0&&za.descender!==void 0,!br))break}if(!br)break}let Bi=0;for(const ji of tt){ji.trim();const qi=ji.getMaxScale(),la=(qi-1)*Rc,za={positionedGlyphs:[],lineOffset:0};Ce.positionedLines[Bi]=za;const Ba=za.positionedGlyphs;let Fa=0;if(!ji.length()){Cn+=Zt,++Bi;continue}let Ja=0,Qa=0;for(let Ts=0;Ts<ji.length();Ts++){const Sa=ji.getSection(Ts),Es=ji.getSectionIndex(Ts),Is=ji.getCodePoint(Ts);let Xs=Sa.scale,wl=null,jl=null,El=null,ml=Rc,Il=0;const sl=!(un===Kc.horizontal||!hn&&!nm(Is)||hn&&(Qp[Is]||(Ti=Is,Po.Arabic(Ti)||Po["Arabic Supplement"](Ti)||Po["Arabic Extended-A"](Ti)||Po["Arabic Presentation Forms-A"](Ti)||Po["Arabic Presentation Forms-B"](Ti))));if(Sa.image){const wc=st[Sa.image.serialize()];if(!wc)continue;El=Sa.image.id,Ce.iconsInText=Ce.iconsInText||!0,jl=wc.paddedRect;const Zs=wc.displaySize;Xs=Xs*Rc/On,wl={width:Zs[0],height:Zs[1],left:0,top:-Hb,advance:sl?Zs[1]:Zs[0],localGlyph:!1},Il=br?-wl.height*Xs:qi*Rc-17-Zs[1]*Xs,ml=wl.advance;const du=(sl?Zs[0]:Zs[1])*Xs-Rc*qi;du>0&&du>Fa&&(Fa=du)}else{const wc=ut[Sa.fontStack];if(!wc)continue;wc[Is]&&(jl=wc[Is]);const Zs=De[Sa.fontStack];if(!Zs)continue;const du=Zs.glyphs[Is];if(!du)continue;if(wl=du.metrics,ml=Is!==8203?Rc:0,br){const rd=Zs.ascender!==void 0?Math.abs(Zs.ascender):0,fc=Zs.descender!==void 0?Math.abs(Zs.descender):0,id=(rd+fc)*Xs;Ja<id&&(Ja=id,Qa=(rd-fc)/2*Xs),Il=-rd*Xs}else Il=(qi-Xs)*Rc-17}sl?(Ce.verticalizable=!0,Ba.push({glyph:Is,imageName:El,x:kn,y:Cn+Il,vertical:sl,scale:Xs,localGlyph:wl.localGlyph,fontStack:Sa.fontStack,sectionIndex:Es,metrics:wl,rect:jl}),kn+=ml*Xs+on):(Ba.push({glyph:Is,imageName:El,x:kn,y:Cn+Il,vertical:sl,scale:Xs,localGlyph:wl.localGlyph,fontStack:Sa.fontStack,sectionIndex:Es,metrics:wl,rect:jl}),kn+=wl.advance*Xs+on)}Ba.length!==0&&(Sr=Math.max(kn-on,Sr),br?Oh(Ba,Gr,Fa,Qa,Zt*qi/2):Oh(Ba,Gr,Fa,0,Zt/2)),kn=0;const js=Zt*qi+Fa;za.lineOffset=Math.max(Fa,la),Cn+=js,++Bi}var Ti;const di=Cn,{horizontalAlign:Hr,verticalAlign:go}=vy(pt);(function(ji,qi,la,za,Ba,Fa){const Ja=(qi-la)*Ba,Qa=-Fa*za;for(const js of ji)for(const Ts of js.positionedGlyphs)Ts.x+=Ja,Ts.y+=Qa})(Ce.positionedLines,Gr,Hr,go,Sr,di),Ce.top+=-go*di,Ce.bottom=Ce.top+di,Ce.left+=-Hr*Sr,Ce.right=Ce.left+Sr,Ce.hasBaseline=br}(ge,n,i,d,W,v,S,T,P,A,$,O),!function(Ce){for(const De of Ce)if(De.positionedGlyphs.length!==0)return!1;return!0}(ne)&&ge}const Qp={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Th={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function eg(u,n,i,d,g,h){if(n.image){const v=d[n.image.serialize()];return v?v.displaySize[0]*n.scale*Rc/h+g:0}{const v=i[n.fontStack],S=v&&v.glyphs[u];return S?S.metrics.advance*n.scale+g:0}}function Ph(u,n,i,d){const g=Math.pow(u-n,2);return d?u<n?g/2:2*g:g+Math.abs(i)*i}function zf(u,n,i){let d=0;return u===10&&(d-=1e4),i&&(d+=150),u!==40&&u!==65288||(d+=50),n!==41&&n!==65289||(d+=50),d}function Rm(u,n,i,d,g,h){let v=null,S=Ph(n,i,g,h);for(const T of d){const A=Ph(n-T.x,i,g,h)+T.badness;A<=S&&(v=T,S=A)}return{index:u,x:n,priorBreak:v,badness:S}}function tg(u){return u?tg(u.priorBreak).concat(u.index):[]}function vy(u){let n=.5,i=.5;switch(u){case"right":case"top-right":case"bottom-right":n=1;break;case"left":case"top-left":case"bottom-left":n=0}switch(u){case"bottom":case"bottom-right":case"bottom-left":i=1;break;case"top":case"top-right":case"top-left":i=0}return{horizontalAlign:n,verticalAlign:i}}function Oh(u,n,i,d,g){if(!(n||i||d||g))return;const h=u.length-1,v=u[h],S=(v.x+v.metrics.advance*v.scale)*n;for(let T=0;T<=h;T++)u[T].x-=S,u[T].y+=i+d+g}function A0(u,n,i,d){const{horizontalAlign:g,verticalAlign:h}=vy(d),v=i[0]-u.displaySize[0]*g,S=i[1]-u.displaySize[1]*h;return{imagePrimary:u,imageSecondary:n,top:S,bottom:S+u.displaySize[1],left:v,right:v+u.displaySize[0]}}function yy(u,n,i,d,g,h){const v=u.imagePrimary;let S;if(v.content){const W=v.content,q=v.pixelRatio||1;S=[W[0]/q,W[1]/q,v.displaySize[0]-W[2]/q,v.displaySize[1]-W[3]/q]}const T=n.left*h,A=n.right*h;let b,P,$,M;i==="width"||i==="both"?(M=g[0]+T-d[3],P=g[0]+A+d[1]):(M=g[0]+(T+A-v.displaySize[0])/2,P=M+v.displaySize[0]);const O=n.top*h,N=n.bottom*h;return i==="height"||i==="both"?(b=g[1]+O-d[0],$=g[1]+N+d[2]):(b=g[1]+(O+N-v.displaySize[1])/2,$=b+v.displaySize[1]),{imagePrimary:v,imageSecondary:void 0,top:b,right:P,bottom:$,left:M,collisionPadding:S}}class Qd extends In{constructor(n,i,d,g,h){super(n,i),this.angle=g,this.z=d,h!==void 0&&(this.segment=h)}clone(){return new Qd(this.x,this.y,this.z,this.angle,this.segment)}}function Ub(u,n,i,d,g){if(n.segment===void 0)return!0;let h=n,v=n.segment+1,S=0;for(;S>-i/2;){if(v--,v<0)return!1;S-=u[v].dist(h),h=u[v]}S+=u[v].dist(u[v+1]),v++;const T=[];let A=0;for(;S<i/2;){const b=u[v],P=u[v+1];if(!P)return!1;let $=u[v-1].angleTo(b)-b.angleTo(P);for($=Math.abs(($+3*Math.PI)%(2*Math.PI)-Math.PI),T.push({distance:S,angleDelta:$}),A+=$;S-T[0].distance>d;)A-=T.shift().angleDelta;if(A>g)return!1;v++,S+=b.dist(P)}return!0}function Wb(u){let n=0;for(let i=0;i<u.length-1;i++)n+=u[i].dist(u[i+1]);return n}function Gb(u,n,i){return u?.6*n*i:0}function $m(u,n){return Math.max(u?u.right-u.left:0,n?n.right-n.left:0)}function Lf(u,n,i,d,g,h){const v=Gb(i,g,h),S=$m(i,d)*h;let T=0;const A=Wb(u)/2;for(let b=0;b<u.length-1;b++){const P=u[b],$=u[b+1],M=P.dist($);if(T+M>A){const O=(A-T)/M,N=Rr(P.x,$.x,O),W=Rr(P.y,$.y,O),q=new Qd(N,W,0,$.angleTo(P),b);return!v||Ub(u,q,S,v,n)?q:void 0}T+=M}}function MC(u,n,i,d,g,h,v,S,T){const A=Gb(d,h,v),b=$m(d,g),P=b*v,$=u[0].x===0||u[0].x===T||u[0].y===0||u[0].y===T;return n-P<n/4&&(n=P+n/4),_y(u,$?n/2*S%n:(b/2+2*h)*v*S%n,n,A,i,P,$,!1,T)}function _y(u,n,i,d,g,h,v,S,T){const A=h/2,b=Wb(u);let P=0,$=n-i,M=[];for(let O=0;O<u.length-1;O++){const N=u[O],W=u[O+1],q=N.dist(W),ae=W.angleTo(N);for(;$+i<P+q;){$+=i;const ce=($-P)/q,ne=Rr(N.x,W.x,ce),ge=Rr(N.y,W.y,ce);if(ne>=0&&ne<T&&ge>=0&&ge<T&&$-A>=0&&$+A<=b){const Ce=new Qd(ne,ge,0,ae,O);d&&!Ub(u,Ce,h,d,g)||M.push(Ce)}}P+=q}return S||M.length||v||(M=_y(u,P/2,i,d,g,h,v,!0,T)),M}function Kb(u,n,i,d,g){const h=[];for(let v=0;v<u.length;v++){const S=u[v];let T;for(let A=0;A<S.length-1;A++){let b=S[A],P=S[A+1];b.x<n&&P.x<n||(b.x<n?b=new In(n,b.y+(n-b.x)/(P.x-b.x)*(P.y-b.y))._round():P.x<n&&(P=new In(n,b.y+(n-b.x)/(P.x-b.x)*(P.y-b.y))._round()),b.y<i&&P.y<i||(b.y<i?b=new In(b.x+(i-b.y)/(P.y-b.y)*(P.x-b.x),i)._round():P.y<i&&(P=new In(b.x+(i-b.y)/(P.y-b.y)*(P.x-b.x),i)._round()),b.x>=d&&P.x>=d||(b.x>=d?b=new In(d,b.y+(d-b.x)/(P.x-b.x)*(P.y-b.y))._round():P.x>=d&&(P=new In(d,b.y+(d-b.x)/(P.x-b.x)*(P.y-b.y))._round()),b.y>=g&&P.y>=g||(b.y>=g?b=new In(b.x+(g-b.y)/(P.y-b.y)*(P.x-b.x),g)._round():P.y>=g&&(P=new In(b.x+(g-b.y)/(P.y-b.y)*(P.x-b.x),g)._round()),T&&b.equals(T[T.length-1])||(T=[b],h.push(T)),T.push(P)))))}}return h}function Xb(u){let n=0,i=0;for(const v of u)n+=v.w*v.h,i=Math.max(i,v.w);u.sort((v,S)=>S.h-v.h);const d=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(n/.95)),i),h:1/0}];let g=0,h=0;for(const v of u)for(let S=d.length-1;S>=0;S--){const T=d[S];if(!(v.w>T.w||v.h>T.h)){if(v.x=T.x,v.y=T.y,h=Math.max(h,v.y+v.h),g=Math.max(g,v.x+v.w),v.w===T.w&&v.h===T.h){const A=d.pop();S<d.length&&(d[S]=A)}else v.h===T.h?(T.x+=v.w,T.w-=v.w):v.w===T.w?(T.y+=v.h,T.h-=v.h):(d.push({x:T.x+v.w,y:T.y,w:T.w-v.w,h:v.h}),T.y+=v.h,T.h-=v.h);break}}return{w:g,h,fill:n/(g*h)||0}}lo(Qd,"Anchor");const ng=1;class rg{static getImagePositionScale(n,i,d){return i&&n&&n.options&&n.options.transform?{x:n.options.transform.a,y:n.options.transform.d}:{x:d,y:d}}constructor(n,{pixelRatio:i,version:d,stretchX:g,stretchY:h,content:v,sdf:S,usvg:T},A,b){this.paddedRect=n,this.pixelRatio=i,this.stretchX=g,this.stretchY=h,this.content=v,this.version=d,this.padding=A,this.sdf=S,this.scale=rg.getImagePositionScale(b,T,i)}get tl(){return[this.paddedRect.x+this.padding,this.paddedRect.y+this.padding]}get br(){return[this.paddedRect.x+this.paddedRect.w-this.padding,this.paddedRect.y+this.paddedRect.h-this.padding]}get displaySize(){return[(this.paddedRect.w-2*this.padding)/this.scale.x,(this.paddedRect.h-2*this.padding)/this.scale.y]}}class Yb{constructor(n,i,d){const g={},h={};this.haveRenderCallbacks=[];const v=[];this.addImages(n,g,ng,v),this.addImages(i,h,2,v);const{w:S,h:T}=Xb(v),A=new Sc({width:S||1,height:T||1});for(const b in n){const P=n[b],$=g[b].paddedRect;Sc.copy(P.data,A,{x:0,y:0},{x:$.x+ng,y:$.y+ng},P.data,d,P.sdf)}for(const b in i){const P=i[b],$=h[b].paddedRect;let M=h[b].padding;const O=$.x+M,N=$.y+M,W=P.data.width,q=P.data.height;M=M>1?M-1:M,Sc.copy(P.data,A,{x:0,y:0},{x:O,y:N},P.data,d),Sc.copy(P.data,A,{x:0,y:q-M},{x:O,y:N-M},{width:W,height:M},d),Sc.copy(P.data,A,{x:0,y:0},{x:O,y:N+q},{width:W,height:M},d),Sc.copy(P.data,A,{x:W-M,y:0},{x:O-M,y:N},{width:M,height:q},d),Sc.copy(P.data,A,{x:0,y:0},{x:O+W,y:N},{width:M,height:q},d),Sc.copy(P.data,A,{x:W-M,y:q-M},{x:O-M,y:N-M},{width:M,height:M},d),Sc.copy(P.data,A,{x:0,y:q-M},{x:O+W,y:N-M},{width:M,height:M},d),Sc.copy(P.data,A,{x:0,y:0},{x:O+W,y:N+q},{width:M,height:M},d),Sc.copy(P.data,A,{x:W-M,y:0},{x:O-M,y:N+q},{width:M,height:M},d)}this.lut=d,this.image=A,this.iconPositions=g,this.patternPositions=h}addImages(n,i,d,g){for(const h in n){const v=n[h],S={x:0,y:0,w:v.data.width+2*d,h:v.data.height+2*d};g.push(S);const T=yr.deserializeFromString(h);i[h]=new rg(S,v,d,T),v.hasRenderCallback&&this.haveRenderCallbacks.push(T.id)}}patchUpdatedImages(n,i,d){this.haveRenderCallbacks=this.haveRenderCallbacks.filter(g=>n.hasImage(g,d)),n.dispatchRenderCallbacks(this.haveRenderCallbacks,d);for(const g in n.getUpdatedImages(d)){for(const h of Object.keys(this.iconPositions))yr.deserializeId(h)===g&&this.patchUpdatedImage(this.iconPositions[h],n.getImage(g,d),i);for(const h of Object.keys(this.patternPositions))yr.deserializeId(h)===g&&this.patchUpdatedImage(this.patternPositions[h],n.getImage(g,d),i)}}patchUpdatedImage(n,i,d){if(!n||!i||n.version===i.version)return;n.version=i.version;const[g,h]=n.tl,v=n.sdf;if(this.lut||v){const S={width:i.data.width,height:i.data.height},T=new Sc(S);Sc.copy(i.data,T,{x:0,y:0},{x:0,y:0},S,this.lut,v),d.update(T,{position:{x:g,y:h}})}else d.update(i.data,{position:{x:g,y:h}})}}lo(rg,"ImagePosition"),lo(Yb,"ImageAtlas");const ig=1e20;function qb(u,n,i,d,g,h,v,S,T){for(let A=n;A<n+d;A++)Jb(u,i*h+A,h,g,v,S,T);for(let A=i;A<i+g;A++)Jb(u,A*h+n,1,d,v,S,T)}function Jb(u,n,i,d,g,h,v){h[0]=0,v[0]=-ig,v[1]=ig,g[0]=u[n];for(let S=1,T=0,A=0;S<d;S++){g[S]=u[n+S*i];const b=S*S;do{const P=h[T];A=(g[S]-g[P]+b-P*P)/(S-P)/2}while(A<=v[T]&&--T>-1);T++,h[T]=S,v[T]=A,v[T+1]=ig}for(let S=0,T=0;S<d;S++){for(;v[T+1]<S;)T++;const A=h[T],b=S-A;u[n+S*i]=g[A]+b*b}}const ed=2,Am={none:0,ideographs:1,all:2};class Dm{constructor(n,i,d){this.requestManager=n,this.localGlyphMode=i,this.localFontFamily=d,this.urls={},this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(n,i){this.urls[i]=n}getGlyphs(n,i,d){const g=[],h=this.urls[i]||oi.GLYPHS_URL;for(const v in n)for(const S of n[v])g.push({stack:v,id:S});Wr(g,({stack:v,id:S},T)=>{let A=this.entries[v];A||(A=this.entries[v]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let b=A.glyphs[S];if(b!==void 0)return void T(null,{stack:v,id:S,glyph:b});if(b=this._tinySDF(A,v,S),b)return A.glyphs[S]=b,void T(null,{stack:v,id:S,glyph:b});const P=Math.floor(S/256);if(256*P>65535)return Fn("glyphs > 65535 not supported"),void T(null,{stack:v,id:S,glyph:b});if(A.ranges[P])return void T(null,{stack:v,id:S,glyph:b});let $=A.requests[P];$||($=A.requests[P]=[],Dm.loadGlyphRange(v,P,h,this.requestManager,(M,O)=>{if(O){A.ascender=O.ascender,A.descender=O.descender;for(const N in O.glyphs)this._doesCharSupportLocalGlyph(+N)||(A.glyphs[+N]=O.glyphs[+N]);A.ranges[P]=!0}for(const N of $)N(M,O);delete A.requests[P]})),$.push((M,O)=>{M?T(M):O&&T(null,{stack:v,id:S,glyph:O.glyphs[S]||null})})},(v,S)=>{if(v)d(v);else if(S){const T={};for(const{stack:A,id:b,glyph:P}of S)T[A]===void 0&&(T[A]={}),T[A].glyphs===void 0&&(T[A].glyphs={}),T[A].glyphs[b]=P&&{id:P.id,bitmap:P.bitmap.clone(),metrics:P.metrics},T[A].ascender=this.entries[A].ascender,T[A].descender=this.entries[A].descender;d(null,T)}})}_doesCharSupportLocalGlyph(n){return this.localGlyphMode!==Am.none&&(this.localGlyphMode===Am.all?!!this.localFontFamily:!!this.localFontFamily&&(Po["CJK Unified Ideographs"](n)||Po["Hangul Syllables"](n)||Po.Hiragana(n)||Po.Katakana(n)||Po["CJK Symbols and Punctuation"](n)||Po["CJK Unified Ideographs Extension A"](n)||Po["CJK Unified Ideographs Extension B"](n)||Po.Osage(n)))}_tinySDF(n,i,d){const g=this.localFontFamily;if(!g||!this._doesCharSupportLocalGlyph(d))return;let h=n.tinySDF;if(!h){let N="400";/bold/i.test(i)?N="900":/medium/i.test(i)?N="500":/light/i.test(i)&&(N="200"),h=n.tinySDF=new Dm.TinySDF({fontFamily:g,fontWeight:N,fontSize:24*ed,buffer:3*ed,radius:8*ed}),h.fontWeight=N}if(this.localGlyphs[h.fontWeight][d])return this.localGlyphs[h.fontWeight][d];const v=String.fromCodePoint(d),{data:S,width:T,height:A,glyphWidth:b,glyphHeight:P,glyphLeft:$,glyphTop:M,glyphAdvance:O}=h.draw(v);return this.localGlyphs[h.fontWeight][d]={id:d,bitmap:new Yd({width:T,height:A},S),metrics:{width:b/ed,height:P/ed,left:$/ed,top:M/ed-27,advance:O/ed,localGlyph:!0}}}}Dm.loadGlyphRange=function(u,n,i,d,g){const h=256*n,v=h+255,S=d.transformRequest(d.normalizeGlyphsURL(i).replace("{fontstack}",u).replace("{range}",`${h}-${v}`),Qr.Glyphs);_n(S,(T,A)=>{if(T)g(T);else if(A){const b={},P=function($){return new Jp($).readFields(jb,{})}(A);for(const $ of P.glyphs)b[$.id]=$;g(null,{glyphs:b,ascender:P.ascender,descender:P.descender})}})},Dm.TinySDF=class{constructor({fontSize:u=24,buffer:n=3,radius:i=8,cutoff:d=.25,fontFamily:g="sans-serif",fontWeight:h="normal",fontStyle:v="normal"}={}){this.buffer=n,this.cutoff=d,this.radius=i;const S=this.size=u+4*n,T=this._createCanvas(S),A=this.ctx=T.getContext("2d",{willReadFrequently:!0});A.font=`${v} ${h} ${u}px ${g}`,A.textBaseline="alphabetic",A.textAlign="left",A.fillStyle="black",this.gridOuter=new Float64Array(S*S),this.gridInner=new Float64Array(S*S),this.f=new Float64Array(S),this.z=new Float64Array(S+1),this.v=new Uint16Array(S)}_createCanvas(u){const n=document.createElement("canvas");return n.width=n.height=u,n}draw(u){const{width:n,actualBoundingBoxAscent:i,actualBoundingBoxDescent:d,actualBoundingBoxLeft:g,actualBoundingBoxRight:h}=this.ctx.measureText(u),v=Math.ceil(i),S=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(h-g))),T=Math.min(this.size-this.buffer,v+Math.ceil(d)),A=S+2*this.buffer,b=T+2*this.buffer,P=Math.max(A*b,0),$=new Uint8ClampedArray(P),M={data:$,width:A,height:b,glyphWidth:S,glyphHeight:T,glyphTop:v,glyphLeft:0,glyphAdvance:n};if(S===0||T===0)return M;const{ctx:O,buffer:N,gridInner:W,gridOuter:q}=this;O.clearRect(N,N,S,T),O.fillText(u,N,N+v);const ae=O.getImageData(N,N,S,T);q.fill(ig,0,P),W.fill(0,0,P);for(let ce=0;ce<T;ce++)for(let ne=0;ne<S;ne++){const ge=ae.data[4*(ce*S+ne)+3]/255;if(ge===0)continue;const Ce=(ce+N)*A+ne+N;if(ge===1)q[Ce]=0,W[Ce]=ig;else{const De=.5-ge;q[Ce]=De>0?De*De:0,W[Ce]=De<0?De*De:0}}qb(q,0,0,A,b,A,this.f,this.v,this.z),qb(W,N,N,S,T,A,this.f,this.v,this.z);for(let ce=0;ce<P;ce++){const ne=Math.sqrt(q[ce])-Math.sqrt(W[ce]);$[ce]=Math.round(255-255*(ne/this.radius+this.cutoff))}return M}};const ef=ng;function Qb(u,n){return u+n[1]-n[0]}function by(u,n,i,d,g=1){const h=[],v=u.imagePrimary,S=v.pixelRatio,T=v.paddedRect.w-2*ef,A=v.paddedRect.h-2*ef,b=(u.right-u.left)*g,P=(u.bottom-u.top)*g,$=v.stretchX||[[0,T]],M=v.stretchY||[[0,A]],O=$.reduce(Qb,0),N=M.reduce(Qb,0),W=T-O,q=A-N;let ae=0,ce=O,ne=0,ge=N,Ce=0,De=W,ut=0,st=q;if(v.content&&d){const Zt=v.content;ae=og($,0,Zt[0]),ne=og(M,0,Zt[1]),ce=og($,Zt[0],Zt[2]),ge=og(M,Zt[1],Zt[3]),Ce=Zt[0]-ae,ut=Zt[1]-ne,De=Zt[2]-Zt[0]-ce,st=Zt[3]-Zt[1]-ge}const tt=(Zt,pt,Yt,un)=>{const on=ag(Zt.stretch-ae,ce,b,u.left*g),hn=D0(Zt.fixed-Ce,De,Zt.stretch,O),On=ag(pt.stretch-ne,ge,P,u.top*g),kn=D0(pt.fixed-ut,st,pt.stretch,N),Cn=ag(Yt.stretch-ae,ce,b,u.left*g),Sr=D0(Yt.fixed-Ce,De,Yt.stretch,O),Gr=ag(un.stretch-ne,ge,P,u.top*g),br=D0(un.fixed-ut,st,un.stretch,N),Bi=new In(on,On),Ti=new In(Cn,On),di=new In(Cn,Gr),Hr=new In(on,Gr),go=new In(hn/S,kn/S),ji=new In(Sr/S,br/S),qi=n*Math.PI/180;if(qi){const Qa=Math.sin(qi),js=Math.cos(qi),Ts=[js,-Qa,Qa,js];Bi._matMult(Ts),Ti._matMult(Ts),Hr._matMult(Ts),di._matMult(Ts)}const la=Zt.stretch+Zt.fixed,za=Yt.stretch+Yt.fixed,Ba=pt.stretch+pt.fixed,Fa=un.stretch+un.fixed,Ja=u.imageSecondary;return{tl:Bi,tr:Ti,bl:Hr,br:di,texPrimary:{x:v.paddedRect.x+ef+la,y:v.paddedRect.y+ef+Ba,w:za-la,h:Fa-Ba},texSecondary:Ja?{x:Ja.paddedRect.x+ef+la,y:Ja.paddedRect.y+ef+Ba,w:za-la,h:Fa-Ba}:void 0,writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:go,pixelOffsetBR:ji,minFontScaleX:De/S/b,minFontScaleY:st/S/P,isSDF:i}};if(d&&(v.stretchX||v.stretchY)){const Zt=e1($,W,O),pt=e1(M,q,N);for(let Yt=0;Yt<Zt.length-1;Yt++){const un=Zt[Yt],on=Zt[Yt+1];for(let hn=0;hn<pt.length-1;hn++)h.push(tt(un,pt[hn],on,pt[hn+1]))}}else h.push(tt({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:T+1},{fixed:0,stretch:A+1}));return h}function og(u,n,i){let d=0;for(const g of u)d+=Math.max(n,Math.min(i,g[1]))-Math.max(n,Math.min(i,g[0]));return d}function e1(u,n,i){const d=[{fixed:-ef,stretch:0}];for(const[g,h]of u){const v=d[d.length-1];d.push({fixed:g-v.stretch,stretch:v.stretch}),d.push({fixed:g-v.stretch,stretch:v.stretch+(h-g)})}return d.push({fixed:n+ef,stretch:i}),d}function ag(u,n,i,d){return u/n*i+d}function D0(u,n,i,d){return u-n*i/d}function TC(u,n,i,d){const g=n+u.positionedLines[d].lineOffset;return d===0?i+g/2:i+(g+(n+u.positionedLines[d-1].lineOffset))/2}function z0(u,n=1,i=!1){let d=1/0,g=1/0,h=-1/0,v=-1/0;const S=u[0];for(let M=0;M<S.length;M++){const O=S[M];(!M||O.x<d)&&(d=O.x),(!M||O.y<g)&&(g=O.y),(!M||O.x>h)&&(h=O.x),(!M||O.y>v)&&(v=O.y)}const T=Math.min(h-d,v-g);let A=T/2;const b=new gl([],xy);if(T===0)return new In(d,g);for(let M=d;M<h;M+=T)for(let O=g;O<v;O+=T)b.push(new Nf(M+A,O+A,A,u));let P=function(M){let O=0,N=0,W=0;const q=M[0];for(let ae=0,ce=q.length,ne=ce-1;ae<ce;ne=ae++){const ge=q[ae],Ce=q[ne],De=ge.x*Ce.y-Ce.x*ge.y;N+=(ge.x+Ce.x)*De,W+=(ge.y+Ce.y)*De,O+=3*De}return new Nf(N/O,W/O,0,M)}(u),$=b.length;for(;b.length;){const M=b.pop();(M.d>P.d||!P.d)&&(P=M,i&&console.log("found best %d after %d probes",Math.round(1e4*M.d)/1e4,$)),M.max-P.d<=n||(A=M.h/2,b.push(new Nf(M.p.x-A,M.p.y-A,A,u)),b.push(new Nf(M.p.x+A,M.p.y-A,A,u)),b.push(new Nf(M.p.x-A,M.p.y+A,A,u)),b.push(new Nf(M.p.x+A,M.p.y+A,A,u)),$+=4)}return i&&(console.log(`num probes: ${$}`),console.log(`best distance: ${P.d}`)),P.p}function xy(u,n){return n.max-u.max}class Nf{constructor(n,i,d,g){this.p=new In(n,i),this.h=d,this.d=function(h,v){let S=!1,T=1/0;for(let A=0;A<v.length;A++){const b=v[A];for(let P=0,$=b.length,M=$-1;P<$;M=P++){const O=b[P],N=b[M];O.y>h.y!=N.y>h.y&&h.x<(N.x-O.x)*(h.y-O.y)/(N.y-O.y)+O.x&&(S=!S),T=Math.min(T,Rt(h,O,N))}}return(S?1:-1)*Math.sqrt(T)}(this.p,g),this.max=this.d+this.h*Math.SQRT2}}const L0=Number.POSITIVE_INFINITY,PC=Math.sqrt(2);function t1(u,[n,i]){let d=0,g=0;if(i===L0){n<0&&(n=0);const h=n/PC;switch(u){case"top-right":case"top-left":g=h-7;break;case"bottom-right":case"bottom-left":g=7-h;break;case"bottom":g=7-n;break;case"top":g=n-7}switch(u){case"top-right":case"bottom-right":d=-h;break;case"top-left":case"bottom-left":d=h;break;case"left":d=n;break;case"right":d=-n}}else{switch(n=Math.abs(n),i=Math.abs(i),u){case"top-right":case"top-left":case"top":g=i-7;break;case"bottom-right":case"bottom-left":case"bottom":g=7-i}switch(u){case"top-right":case"bottom-right":case"right":d=-n;break;case"top-left":case"bottom-left":case"left":d=n}}return[d,g]}function Cy(u){switch(u){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function OC(u,n,i,d,g,h,v,S,T,A,b,P,$,M,O){let N=h.textMaxSize.evaluate(n,{},P);N===void 0?N=v*h.textScaleFactor:N*=h.textScaleFactor;const W=u.layers[0].layout,q=W.get("icon-offset").evaluate(n,{},P),ae=r1(i.horizontal)||i.vertical,ce=$.name==="globe",ne=Rc,ge=v*h.textScaleFactor/ne,Ce=u.tilePixelRatio*N/ne,De=(on=u.overscaling,u.zoom>18&&on>2&&(on>>=1),Math.max(Ii/(512*on),1)*W.get("symbol-spacing")),ut=W.get("text-padding")*u.tilePixelRatio,st=W.get("icon-padding")*u.tilePixelRatio,tt=it(W.get("text-max-angle")),Zt=W.get("text-rotation-alignment")==="map"&&W.get("symbol-placement")!=="point",pt=W.get("icon-rotation-alignment")==="map"&&W.get("symbol-placement")!=="point",Yt=W.get("symbol-placement"),un=De/2;var on;const hn=W.get("icon-text-fit").evaluate(n,{},P),On=W.get("icon-text-fit-padding").evaluate(n,{},P),kn=hn!=="none";let Cn;u.hasAnyIconTextFit===!1&&kn&&(u.hasAnyIconTextFit=!0),d&&kn&&(u.allowVerticalPlacement&&i.vertical&&(Cn=yy(d,i.vertical,hn,On,q,ge)),ae&&(d=yy(d,ae,hn,On,q,ge)));const Sr=(Gr,br,Bi)=>{if(br.x<0||br.x>=Ii||br.y<0||br.y>=Ii)return;let Ti=null;if(ce){const{x:di,y:Hr,z:go}=$.projectTilePoint(br.x,br.y,Bi);Ti={anchor:new Qd(di,Hr,go,0,void 0),up:$.upVector(Bi,br.x,br.y)}}(function(di,Hr,go,ji,qi,la,za,Ba,Fa,Ja,Qa,js,Ts,Sa,Es,Is,Xs,wl,jl,El,ml,Il,sl,wc,Zs,du,rd){const fc=di.addToLineVertexArray(Hr,ji);let id,kh,Sd,jh,Rg,y_,vx,yx=0,__=0,_x=0,bx=0,b_=-1,x_=-1;const wd={};let xx=$o("");const Zh=go?go.anchor:Hr,C_=Fa.layout.get("icon-text-fit").evaluate(ml,{},Zs)!=="none";let cv=0,uv=0;if(Fa._unevaluatedLayout.getValue("text-radial-offset")===void 0?[cv,uv]=Fa.layout.get("text-offset").evaluate(ml,{},Zs).map(Eu=>Eu*Rc):(cv=Fa.layout.get("text-radial-offset").evaluate(ml,{},Zs)*Rc,uv=L0),di.allowVerticalPlacement&&qi.vertical){const Eu=qi.vertical;if(Es)y_=Sy(Eu),Ba&&(vx=Sy(Ba));else{const fu=Fa.layout.get("text-rotate").evaluate(ml,{},Zs)+90;Sd=N0(Ja,Zh,Hr,Qa,js,Ts,Eu,Sa,fu,Is),Ba&&(jh=N0(Ja,Zh,Hr,Qa,js,Ts,Ba,wl,fu))}}if(la){const Eu=di.iconSizeData,fu=Fa.layout.get("icon-rotate").evaluate(ml,{},Zs),$g=by(la,fu,sl,C_,Il.iconScaleFactor),w_=Ba?by(Ba,fu,sl,C_,Il.iconScaleFactor):void 0;kh=N0(Ja,Zh,Hr,Qa,js,Ts,la,wl,fu,null),yx=4*$g.length;let qm=null;Eu.kind==="source"?(qm=[Qu*Fa.layout.get("icon-size").evaluate(ml,{},Zs)*Il.iconScaleFactor],qm[0]>Bf&&Fn(`${di.layerIds[0]}: Value for "icon-size" is >= ${Rh}. Reduce your "icon-size".`)):Eu.kind==="composite"&&(qm=[Qu*Il.compositeIconSizes[0].evaluate(ml,{},Zs)*Il.iconScaleFactor,Qu*Il.compositeIconSizes[1].evaluate(ml,{},Zs)*Il.iconScaleFactor],(qm[0]>Bf||qm[1]>Bf)&&Fn(`${di.layerIds[0]}: Value for "icon-size" is >= ${Rh}. Reduce your "icon-size".`)),di.addSymbols(di.icon,$g,qm,El,jl,ml,!1,go,Hr,fc.lineStartIndex,fc.lineLength,-1,wc,Zs,du,rd),b_=di.icon.placedSymbolArray.length-1,w_&&(__=4*w_.length,di.addSymbols(di.icon,w_,qm,El,jl,ml,Kc.vertical,go,Hr,fc.lineStartIndex,fc.lineLength,-1,wc,Zs,du,rd),x_=di.icon.placedSymbolArray.length-1)}for(const Eu in qi.horizontal){const fu=qi.horizontal[Eu];id||(xx=$o(fu.text),Es?Rg=Sy(fu):id=N0(Ja,Zh,Hr,Qa,js,Ts,fu,Sa,Fa.layout.get("text-rotate").evaluate(ml,{},Zs),Is));const $g=fu.positionedLines.length===1;if(_x+=n1(di,go,Hr,fu,za,Fa,Es,ml,Is,fc,qi.vertical?Kc.horizontal:Kc.horizontalOnly,$g?Object.keys(qi.horizontal):[Eu],wd,b_,Il,wc,Zs,du),$g)break}qi.vertical&&(bx+=n1(di,go,Hr,qi.vertical,za,Fa,Es,ml,Is,fc,Kc.vertical,["vertical"],wd,x_,Il,wc,Zs,du));let Vh=-1;const S_=(Eu,fu)=>Eu?Math.max(Eu,fu):fu;Vh=S_(Rg,Vh),Vh=S_(y_,Vh),Vh=S_(vx,Vh);const Cx=Vh>-1?1:0;di.glyphOffsetArray.length>=65535&&Fn("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),ml.sortKey!==void 0&&di.addToSortKeyRanges(di.symbolInstances.length,ml.sortKey),di.symbolInstances.emplaceBack(Hr.x,Hr.y,Zh.x,Zh.y,Zh.z,wd.right>=0?wd.right:-1,wd.center>=0?wd.center:-1,wd.left>=0?wd.left:-1,wd.vertical>=0?wd.vertical:-1,b_,x_,xx,id!==void 0?id:di.collisionBoxArray.length,id!==void 0?id+1:di.collisionBoxArray.length,Sd!==void 0?Sd:di.collisionBoxArray.length,Sd!==void 0?Sd+1:di.collisionBoxArray.length,kh!==void 0?kh:di.collisionBoxArray.length,kh!==void 0?kh+1:di.collisionBoxArray.length,jh||di.collisionBoxArray.length,jh?jh+1:di.collisionBoxArray.length,Qa,_x,bx,yx,__,Cx,0,cv,uv,Vh,0,C_?1:0)})(u,br,Ti,Gr,i,d,g,Cn,u.layers[0],u.collisionBoxArray,n.index,n.sourceLayerIndex,u.index,ut,Zt,T,0,st,pt,q,n,h,A,b,P,M,O)};if(Yt==="line")for(const Gr of Kb(n.geometry,0,0,Ii,Ii)){const br=MC(Gr,De,tt,i.vertical||ae,d,ne,Ce,u.overscaling,Ii);for(const Bi of br)ae&&i1(u,ae.text,un,Bi)||Sr(Gr,Bi,P)}else if(Yt==="line-center"){for(const Gr of n.geometry)if(Gr.length>1){const br=Lf(Gr,tt,i.vertical||ae,d,ne,Ce);br&&Sr(Gr,br,P)}}else if(n.type==="Polygon")for(const Gr of Hv(n.geometry,0)){const br=z0(Gr,16);Sr(Gr[0],new Qd(br.x,br.y,0,0,void 0),P)}else if(n.type==="LineString")for(const Gr of n.geometry)Sr(Gr,new Qd(Gr[0].x,Gr[0].y,0,0,void 0),P);else if(n.type==="Point")for(const Gr of n.geometry)for(const br of Gr)Sr([br],new Qd(br.x,br.y,0,0,void 0),P)}const Rh=255,Bf=Rh*Qu;function n1(u,n,i,d,g,h,v,S,T,A,b,P,$,M,O,N,W,q){const ae=function(ge,Ce,De,ut,st,tt,Zt,pt){const Yt=[];if(Ce.positionedLines.length===0)return Yt;const un=ut.layout.get("text-rotate").evaluate(tt,{})*Math.PI/180,on=function(Sr){const Gr=Sr[0],br=Sr[1],Bi=Gr*br;return Bi>0?[Gr,-br]:Bi<0?[-Gr,br]:Gr===0?[br,Gr]:[br,-Gr]}(De);let hn=Math.abs(Ce.top-Ce.bottom);for(const Sr of Ce.positionedLines)hn-=Sr.lineOffset;const On=Ce.positionedLines.length,kn=hn/On;let Cn=Ce.top-De[1];for(let Sr=0;Sr<On;++Sr){const Gr=Ce.positionedLines[Sr];Cn=TC(Ce,kn,Cn,Sr);for(const br of Gr.positionedGlyphs){if(!br.rect)continue;const Bi=br.rect||{};let Ti=Hb+1,di=!0,Hr=1,go=0;if(br.imageName){const El=Zt[si.build(br.imageName).getSerializedPrimary()];if(!El)continue;if(El.sdf){Fn("SDF images are not supported in formatted text and will be ignored.");continue}di=!1,Hr=El.pixelRatio,Ti=ng/Hr}const ji=(st||pt)&&br.vertical,qi=br.metrics.advance*br.scale/2,la=br.metrics,za=br.rect;if(za===null)continue;pt&&Ce.verticalizable&&(go=br.imageName?qi-br.metrics.width*br.scale/2:0);const Ba=st?[br.x+qi,br.y]:[0,0];let Fa=[0,0],Ja=[0,0],Qa=!1;st||(ji?(Ja=[br.x+qi+on[0],br.y+on[1]-go],Qa=!0):Fa=[br.x+qi+De[0],br.y+De[1]-go]);const js=za.w*br.scale/(Hr*(br.localGlyph?ed:1)),Ts=za.h*br.scale/(Hr*(br.localGlyph?ed:1));let Sa,Es,Is,Xs;if(ji){const El=br.y-Cn,ml=new In(-qi,qi-El),Il=-Math.PI/2,sl=new In(...Ja);Sa=new In(-qi+Fa[0],Fa[1]),Sa._rotateAround(Il,ml)._add(sl),Sa.x+=-El+qi,Sa.y-=(la.left-Ti)*br.scale;const wc=br.imageName?la.advance*br.scale:Rc*br.scale,Zs=String.fromCodePoint(br.glyph);kb(Zs)?Sa.x+=(1-Ti)*br.scale:EC(Zs)?Sa.x+=wc-la.height*br.scale+(-Ti-1)*br.scale:Sa.x+=br.imageName||la.width+2*Ti===za.w&&la.height+2*Ti===za.h?(wc-Ts)/2:(wc-(la.height+2*Ti)*br.scale)/2,Es=new In(Sa.x,Sa.y-js),Is=new In(Sa.x+Ts,Sa.y),Xs=new In(Sa.x+Ts,Sa.y-js)}else{const El=(la.left-Ti)*br.scale-qi+Fa[0],ml=(-la.top-Ti)*br.scale+Fa[1],Il=El+js,sl=ml+Ts;Sa=new In(El,ml),Es=new In(Il,ml),Is=new In(El,sl),Xs=new In(Il,sl)}if(un){let El;El=st?new In(0,0):Qa?new In(on[0],on[1]):new In(De[0],De[1]),Sa._rotateAround(un,El),Es._rotateAround(un,El),Is._rotateAround(un,El),Xs._rotateAround(un,El)}const wl=new In(0,0),jl=new In(0,0);Yt.push({tl:Sa,tr:Es,bl:Is,br:Xs,texPrimary:Bi,texSecondary:void 0,writingMode:Ce.writingMode,glyphOffset:Ba,sectionIndex:br.sectionIndex,isSDF:di,pixelOffsetTL:wl,pixelOffsetBR:jl,minFontScaleX:0,minFontScaleY:0})}}return Yt}(0,d,T,h,v,S,g,u.allowVerticalPlacement),ce=u.textSizeData;let ne=null;ce.kind==="source"?(ne=[Qu*h.layout.get("text-size").evaluate(S,{},W)*O.textScaleFactor],ne[0]>Bf&&Fn(`${u.layerIds[0]}: Value for "text-size" is >= ${Rh}. Reduce your "text-size".`)):ce.kind==="composite"&&(ne=[Qu*O.compositeTextSizes[0].evaluate(S,{},W)*O.textScaleFactor,Qu*O.compositeTextSizes[1].evaluate(S,{},W)*O.textScaleFactor],(ne[0]>Bf||ne[1]>Bf)&&Fn(`${u.layerIds[0]}: Value for "text-size" is >= ${Rh}. Reduce your "text-size".`)),u.addSymbols(u.text,ae,ne,T,v,S,b,n,i,A.lineStartIndex,A.lineLength,M,N,W,q,!1);for(const ge of P)$[ge]=u.text.placedSymbolArray.length-1;return 4*ae.length}function r1(u){for(const n in u)return u[n];return null}function N0(u,n,i,d,g,h,v,S,T,A){let b=v.top,P=v.bottom,$=v.left,M=v.right;const O=v.collisionPadding;if(O&&($-=O[0],b-=O[1],M+=O[2],P+=O[3]),T){const N=new In($,b),W=new In(M,b),q=new In($,P),ae=new In(M,P),ce=it(T);let ne=new In(0,0);A&&(ne=new In(A[0],A[1])),N._rotateAround(ce,ne),W._rotateAround(ce,ne),q._rotateAround(ce,ne),ae._rotateAround(ce,ne),$=Math.min(N.x,W.x,q.x,ae.x),M=Math.max(N.x,W.x,q.x,ae.x),b=Math.min(N.y,W.y,q.y,ae.y),P=Math.max(N.y,W.y,q.y,ae.y)}return u.emplaceBack(n.x,n.y,n.z,i.x,i.y,$,b,M,P,S,d,g,h),u.length-1}function Sy(u){u.collisionPadding&&(u.top-=u.collisionPadding[1],u.bottom+=u.collisionPadding[3]);const n=u.bottom-u.top;return n>0?Math.max(10,n):null}function i1(u,n,i,d){const g=u.compareText;if(n in g){const h=g[n];for(let v=h.length-1;v>=0;v--)if(d.dist(h[v])<i)return!0}else g[n]=[];return g[n].push(d),!1}function sg(u,n){const i=u.fovAboveCenter,d=u.elevation?u.elevation.getMinElevationBelowMSL()*n:0,g=(u._camera.position[2]*u.worldSize-d)/Math.cos(u._pitch),h=Math.sin(i)*g/Math.sin(Math.max(Math.PI/2-u._pitch-i,.01));let v=Math.sin(u._pitch)*h+g;const S=g*(1/u._horizonShift);if(!u.elevation||u.elevation.exaggeration()===0){let T=Math.max(u.zoom-17,0);u.isOrthographic&&(T/=10),v*=1+T}return Math.min(1.01*v,S)}function lg(u,n){if(!n.isReprojectedInTileSpace)return{scale:1<<u.z,x:u.x,y:u.y,x2:u.x+1,y2:u.y+1,projection:n};const i=Math.pow(2,-u.z),d=u.x*i,g=(u.x+1)*i,h=u.y*i,v=(u.y+1)*i,S=Bc(d),T=Bc(g),A=dc(h),b=dc(v),P=n.project(S,A),$=n.project(T,A),M=n.project(T,b),O=n.project(S,b);let N=Math.min(P.x,$.x,M.x,O.x),W=Math.min(P.y,$.y,M.y,O.y),q=Math.max(P.x,$.x,M.x,O.x),ae=Math.max(P.y,$.y,M.y,O.y);const ce=i/16;function ne(Ce,De,ut,st,tt,Zt){const pt=(ut+tt)/2,Yt=(st+Zt)/2,un=n.project(Bc(pt),dc(Yt)),on=Math.max(0,N-un.x,W-un.y,un.x-q,un.y-ae);N=Math.min(N,un.x),q=Math.max(q,un.x),W=Math.min(W,un.y),ae=Math.max(ae,un.y),on>ce&&(ne(Ce,un,ut,st,pt,Yt),ne(un,De,pt,Yt,tt,Zt))}ne(P,$,d,h,g,h),ne($,M,g,h,g,v),ne(M,O,g,v,d,v),ne(O,P,d,v,d,h),N-=ce,W-=ce,q+=ce,ae+=ce;const ge=1/Math.max(q-N,ae-W);return{scale:ge,x:N*ge,y:W*ge,x2:q*ge,y2:ae*ge,projection:n}}function o1(u,{x:n,y:i},d=0){return new In(((n-d)*u.scale-u.x)*Ii,(i*u.scale-u.y)*Ii)}const RC=Te.mat4.identity(new Float32Array(16));class Ff{constructor(n){this.spec=n,this.name=n.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit="meters",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=["custom"],this.center=[0,0],this.range=[3.5,7]}project(n,i){return{x:0,y:0,z:0}}unproject(n,i){return new ms(0,0)}projectTilePoint(n,i,d){return{x:n,y:i,z:0}}locationPoint(n,i,d=!0){return n._coordinatePoint(n.locationCoordinate(i),d)}pixelsPerMeter(n,i){return Ol(1,n)*i}pixelSpaceConversion(n,i,d){return 1}farthestPixelDistance(n){return sg(n,n.pixelsPerMeter)}pointCoordinate(n,i,d,g){const h=n.horizonLineFromTop(!1),v=new In(i,Math.max(h,d));return n.rayIntersectionCoordinate(n.pointRayIntersection(v,g))}pointCoordinate3D(n,i,d){const g=new In(i,d);if(n.elevation)return n.elevation.pointCoordinate(g);{const h=this.pointCoordinate(n,g.x,g.y,0);return[h.x,h.y,h.z]}}isPointAboveHorizon(n,i){if(n.elevation&&n.elevation.visibleDemTiles.length)return!this.pointCoordinate3D(n,i.x,i.y);const d=n.horizonLineFromTop();return i.y<d}createInversionMatrix(n,i){return RC}createTileMatrix(n,i,d){let g,h,v;const S=d.canonical,T=Te.mat4.identity(new Float64Array(16));if(this.isReprojectedInTileSpace){const A=lg(S,this);g=1,h=A.x+d.wrap*A.scale,v=A.y,Te.mat4.scale(T,T,[g/A.scale,g/A.scale,n.pixelsPerMeter/i])}else g=i/n.zoomScale(S.z),h=(S.x+Math.pow(2,S.z)*d.wrap)*g,v=S.y*g;return Te.mat4.translate(T,T,[h,v,0]),Te.mat4.scale(T,T,[g/Ii,g/Ii,1]),T}upVector(n,i,d){return[0,0,1]}upVectorScale(n,i,d){return{metersToTile:1}}}class $C extends Ff{constructor(n){super(n),this.range=[4,7],this.center=n.center||[-96,37.5];const[i,d]=this.parallels=n.parallels||[29.5,45.5],g=Math.sin(it(i));this.n=(g+Math.sin(it(d)))/2,this.c=1+g*(2*this.n-g),this.r0=Math.sqrt(this.c)/this.n}project(n,i){const{n:d,c:g,r0:h}=this,v=it(n-this.center[0]),S=it(i),T=Math.sqrt(g-2*d*Math.sin(S))/d;return{x:T*Math.sin(v*d),y:T*Math.cos(v*d)-h,z:0}}unproject(n,i){const{n:d,c:g,r0:h}=this,v=h+i;let S=Math.atan2(n,Math.abs(v))*Math.sign(v);v*d<0&&(S-=Math.PI*Math.sign(n)*Math.sign(v));const T=it(this.center[0])*d;S=ei(S,-Math.PI-T,Math.PI-T);const A=Un(Ot(S/d)+this.center[0],-180,180),b=Math.asin(Un((g-(n*n+v*v)*d*d)/(2*d),-1,1)),P=Un(Ot(b),-rl,rl);return new ms(A,P)}}const cg=1.340264,ug=-.081106,dg=893e-6,fg=.003796,B0=Math.sqrt(3)/2;class AC extends Ff{project(n,i){i=i/180*Math.PI,n=n/180*Math.PI;const d=Math.asin(B0*Math.sin(i)),g=d*d,h=g*g*g;return{x:.5*(n*Math.cos(d)/(B0*(cg+3*ug*g+h*(7*dg+9*fg*g)))/Math.PI+.5),y:1-.5*(d*(cg+ug*g+h*(dg+fg*g))/Math.PI+1),z:0}}unproject(n,i){n=(2*n-.5)*Math.PI;let d=i=(2*(1-i)-1)*Math.PI,g=d*d,h=g*g*g;for(let b,P,$,M=0;M<12&&(P=d*(cg+ug*g+h*(dg+fg*g))-i,$=cg+3*ug*g+h*(7*dg+9*fg*g),b=P/$,d=Un(d-b,-Math.PI/3,Math.PI/3),g=d*d,h=g*g*g,!(Math.abs(b)<1e-12));++M);const v=B0*n*(cg+3*ug*g+h*(7*dg+9*fg*g))/Math.cos(d),S=Math.asin(Math.sin(d)/B0),T=Un(180*v/Math.PI,-180,180),A=Un(180*S/Math.PI,-rl,rl);return new ms(T,A)}}class DC extends Ff{constructor(n){super(n),this.wrap=!0,this.supportsWorldCopies=!0}project(n,i){return{x:.5+n/360,y:.5-i/360,z:0}}unproject(n,i){const d=360*(n-.5),g=Un(360*(.5-i),-rl,rl);return new ms(d,g)}}const $c=Math.PI/2;function F0(u){return Math.tan(($c+u)/2)}class a1 extends Ff{constructor(n){super(n),this.center=n.center||[0,30];const[i,d]=this.parallels=n.parallels||[30,30];let g=it(i),h=it(d);this.southernCenter=g+h<0,this.southernCenter&&(g=-g,h=-h);const v=Math.cos(g),S=F0(g);this.n=g===h?Math.sin(g):Math.log(v/Math.cos(h))/Math.log(F0(h)/S),this.f=v*Math.pow(F0(g),this.n)/this.n}project(n,i){i=it(i),this.southernCenter&&(i=-i),n=it(n-this.center[0]);const d=1e-6,{n:g,f:h}=this;h>0?i<-$c+d&&(i=-$c+d):i>$c-d&&(i=$c-d);const v=h/Math.pow(F0(i),g);let S=v*Math.sin(g*n),T=h-v*Math.cos(g*n);return S=.5*(S/Math.PI+.5),T=.5*(T/Math.PI+.5),{x:S,y:this.southernCenter?T:1-T,z:0}}unproject(n,i){n=(2*n-.5)*Math.PI,this.southernCenter&&(i=1-i),i=(2*(1-i)-.5)*Math.PI;const{n:d,f:g}=this,h=g-i,v=Math.sign(h),S=Math.sign(d)*Math.sqrt(n*n+h*h);let T=Math.atan2(n,Math.abs(h))*v;h*d<0&&(T-=Math.PI*Math.sign(n)*v);const A=Un(Ot(T/d)+this.center[0],-180,180),b=Un(Ot(2*Math.atan(Math.pow(g/S,1/d))-$c),-rl,rl);return new ms(A,this.southernCenter?-b:b)}}class s1 extends Ff{constructor(n){super(n),this.wrap=!0,this.supportsWorldCopies=!0,this.supportsTerrain=!0,this.supportsFog=!0,this.supportsFreeCamera=!0,this.isReprojectedInTileSpace=!1,this.unsupportedLayers=[],this.range=null}project(n,i){return{x:_u(n),y:Dc(i),z:0}}unproject(n,i){const d=Bc(n),g=dc(i);return new ms(d,g)}}const l1=it(rl);class zC extends Ff{project(n,i){const d=(i=it(i))*i,g=d*d;return{x:.5*((n=it(n))*(.8707-.131979*d+g*(g*(.003971*d-.001529*g)-.013791))/Math.PI+.5),y:1-.5*(i*(1.007226+d*(.015085+g*(.028874*d-.044475-.005916*g)))/Math.PI+1),z:0}}unproject(n,i){n=(2*n-.5)*Math.PI;let d=i=(2*(1-i)-1)*Math.PI,g=25,h=0,v=d*d;do{v=d*d;const A=v*v;h=(d*(1.007226+v*(.015085+A*(.028874*v-.044475-.005916*A)))-i)/(1.007226+v*(.045255+A*(.259866*v-.311325-.005916*11*A))),d=Un(d-h,-l1,l1)}while(Math.abs(h)>1e-6&&--g>0);v=d*d;const S=Un(Ot(n/(.8707+v*(v*(v*v*v*(.003971-.001529*v)-.013791)-.131979))),-180,180),T=Ot(d);return new ms(S,T)}}const c1=it(rl);class LC extends Ff{project(n,i){i=it(i),n=it(n);const d=Math.cos(i),g=2/Math.PI,h=Math.acos(d*Math.cos(n/2)),v=Math.sin(h)/h,S=.5*(n*g+2*d*Math.sin(n/2)/v)||0,T=.5*(i+Math.sin(i)/v)||0;return{x:.5*(S/Math.PI+.5),y:1-.5*(T/Math.PI+1),z:0}}unproject(n,i){let d=n=(2*n-.5)*Math.PI,g=i=(2*(1-i)-1)*Math.PI,h=25;const v=1e-6;let S=0,T=0;do{const A=Math.cos(g),b=Math.sin(g),P=2*b*A,$=b*b,M=A*A,O=Math.cos(d/2),N=Math.sin(d/2),W=2*O*N,q=N*N,ae=1-M*O*O,ce=ae?1/ae:0,ne=ae?Math.acos(A*O)*Math.sqrt(1/ae):0,ge=.5*(2*ne*A*N+2*d/Math.PI)-n,Ce=.5*(ne*b+g)-i,De=.5*ce*(M*q+ne*A*O*$)+1/Math.PI,ut=ce*(W*P/4-ne*b*N),st=.125*ce*(P*N-ne*b*M*W),tt=.5*ce*($*O+ne*q*A)+.5,Zt=ut*st-tt*De;S=(Ce*ut-ge*tt)/Zt,T=(ge*st-Ce*De)/Zt,d=Un(d-S,-Math.PI,Math.PI),g=Un(g-T,-c1,c1)}while((Math.abs(S)>v||Math.abs(T)>v)&&--h>0);return new ms(Ot(d),Ot(g))}}class u1 extends Ff{constructor(n){super(n),this.center=n.center||[0,0],this.parallels=n.parallels||[0,0],this.cosPhi=Math.max(.01,Math.cos(it(this.parallels[0]))),this.scale=1/(2*Math.max(Math.PI*this.cosPhi,1/this.cosPhi)),this.wrap=!0,this.supportsWorldCopies=!0}project(n,i){const{scale:d,cosPhi:g}=this;return{x:it(n)*g*d+.5,y:-Math.sin(it(i))/g*d+.5,z:0}}unproject(n,i){const{scale:d,cosPhi:g}=this,h=-(i-.5)/d,v=Un(Ot((n-.5)/d)/g,-180,180),S=Math.asin(Un(h*g,-1,1)),T=Un(Ot(S),-rl,rl);return new ms(v,T)}}class NC extends s1{constructor(n){super(n),this.requiresDraping=!0,this.supportsWorldCopies=!1,this.supportsFog=!0,this.zAxisUnit="pixels",this.unsupportedLayers=["debug"],this.range=[3,5]}projectTilePoint(n,i,d){const g=Rs(n,i,d),h=nc(Bl(d));return Te.vec3.transformMat4(g,g,h),{x:g[0],y:g[1],z:g[2]}}locationPoint(n,i){const d=Gd(i.lat,i.lng),g=Te.vec3.normalize([],d),h=n.elevation?n.elevation.getAtPointOrZero(n.locationCoordinate(i),n._centerAltitude):n._centerAltitude,v=Ol(1,0)*Ii*h;Te.vec3.scaleAndAdd(d,d,g,v);const S=Te.mat4.identity(new Float64Array(16));return Te.mat4.multiply(S,n.pixelMatrix,n.globeMatrix),Te.vec3.transformMat4(d,d,S),new In(d[0],d[1])}pixelsPerMeter(n,i){return Ol(1,0)*i}pixelSpaceConversion(n,i,d){const g=Ol(1,n)*i,h=Rr(Ol(1,45)*i,g,d);return this.pixelsPerMeter(n,i)/h}createTileMatrix(n,i,d){const g=Ns(Bl(d.canonical));return Te.mat4.multiply(new Float64Array(16),n.globeMatrix,g)}createInversionMatrix(n,i){const{center:d}=n,g=nc(Bl(i));return Te.mat4.rotateY(g,g,it(d.lng)),Te.mat4.rotateX(g,g,it(d.lat)),Te.mat4.scale(g,g,[n._pixelsPerMercatorPixel,n._pixelsPerMercatorPixel,1]),Float32Array.from(g)}pointCoordinate(n,i,d,g){return xs(n,i,d,!0)||new l(0,0)}pointCoordinate3D(n,i,d){const g=this.pointCoordinate(n,i,d,0);return[g.x,g.y,g.z]}isPointAboveHorizon(n,i){return!xs(n,i.x,i.y,!1)}farthestPixelDistance(n){const i=function(g,h){const v=g.cameraToCenterDistance,S=g._centerAltitude*h,T=g._camera,A=g._camera.forward(),b=Te.vec3.add([],Te.vec3.scale([],A,-v),[0,0,S]),P=g.worldSize/(2*Math.PI),$=[0,0,-P],M=g.width/g.height,O=Math.tan(g.fovAboveCenter),N=Te.vec3.scale([],T.up(),O),W=Te.vec3.scale([],T.right(),O*M),q=Te.vec3.normalize([],Te.vec3.add([],Te.vec3.add([],A,N),W)),ae=[];let ce;if(new ga(b,q).closestPointOnSphere($,P,ae)){const ne=Te.vec3.add([],ae,$),ge=Te.vec3.sub([],ne,b);ce=Math.cos(g.fovAboveCenter)*Te.vec3.length(ge)}else{const ne=Te.vec3.sub([],b,$),ge=Te.vec3.sub([],$,b);Te.vec3.normalize(ge,ge);const Ce=Te.vec3.length(ne)-P;ce=Math.sqrt(Ce*(Ce+2*P));const De=Math.acos(ce/(P+Ce))-Math.acos(Te.vec3.dot(A,ge));ce*=Math.cos(De)}return 1.01*ce}(n,this.pixelsPerMeter(n.center.lat,n.worldSize)),d=Tc(n.zoom);if(d>0){const g=sg(n,Ol(1,n.center.lat)*n.worldSize),h=n.worldSize/(2*Math.PI),v=Math.max(n.width,n.height)/n.worldSize*Math.PI;return Rr(i,g+h*(1-Math.cos(v)),Math.pow(d,10))}return i}upVector(n,i,d){return Rs(i,d,n,1)}upVectorScale(n){return{metersToTile:_a(rs(Bl(n)))}}}function d1(u){const n=u.parallels,i=!!n&&Math.abs(n[0]+n[1])<.01;switch(u.name){case"mercator":return new s1(u);case"equirectangular":return new DC(u);case"naturalEarth":return new zC(u);case"equalEarth":return new AC(u);case"winkelTripel":return new LC(u);case"albers":return i?new u1(u):new $C(u);case"lambertConformalConic":return i?new u1(u):new a1(u);case"globe":return new NC(u)}throw new Error(`Invalid projection name: ${u.name}`)}const BC=Mf.VectorTileFeature.types,f1=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function wy(u,n,i,d,g,h,v,S,T,A,b,P,$){const M=S?Math.min(Bf,Math.round(S[0])):0,O=S?Math.min(Bf,Math.round(S[1])):0;u.emplaceBack(n,i,Math.round(32*d),Math.round(32*g),h,v,(M<<1)+(T?1:0),O,16*A,16*b,256*P,256*$)}function k0(u,n,i){u.emplaceBack(n,i)}function Cu(u,n,i,d,g,h,v){u.emplaceBack(n,i,d,g,h,v)}function hg(u,n,i,d,g){u.emplaceBack(n,i,d,g),u.emplaceBack(n,i,d,g),u.emplaceBack(n,i,d,g),u.emplaceBack(n,i,d,g)}function h1(u){for(const n of u.sections)if(im(n.text))return!0;return!1}class Ey{constructor(n){this.layoutVertexArray=new fm,this.indexArray=new Nl,this.programConfigurations=n,this.segments=new cl,this.dynamicLayoutVertexArray=new Zd,this.opacityVertexArray=new Xg,this.placedSymbolArray=new Qg,this.iconTransitioningVertexArray=new Ku,this.globeExtVertexArray=new hm,this.zOffsetVertexArray=new Vd}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0&&this.iconTransitioningVertexArray.length===0}upload(n,i,d,g,h){this.isEmpty()||(d&&(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,Yp.members),this.indexBuffer=n.createIndexBuffer(this.indexArray,i),this.dynamicLayoutVertexBuffer=n.createVertexBuffer(this.dynamicLayoutVertexArray,M0.members,!0),this.opacityVertexBuffer=n.createVertexBuffer(this.opacityVertexArray,f1,!0),this.iconTransitioningVertexArray.length>0&&(this.iconTransitioningVertexBuffer=n.createVertexBuffer(this.iconTransitioningVertexArray,SC.members,!0)),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=n.createVertexBuffer(this.globeExtVertexArray,Gc.members,!0)),!this.zOffsetVertexBuffer&&(this.zOffsetVertexArray.length>0||h)&&(this.zOffsetVertexBuffer=n.createVertexBuffer(this.zOffsetVertexArray,T0.members,!0)),this.opacityVertexBuffer.itemSize=1),(d||g)&&this.programConfigurations.upload(n))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.iconTransitioningVertexBuffer&&this.iconTransitioningVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy(),this.zOffsetVertexBuffer&&this.zOffsetVertexBuffer.destroy())}}lo(Ey,"SymbolBuffers");class Iy{constructor(n,i,d){this.layoutVertexArray=new n,this.layoutAttributes=i,this.indexArray=new d,this.segments=new cl,this.collisionVertexArray=new Ep,this.collisionVertexArrayExt=new Zd}upload(n){this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=n.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=n.createVertexBuffer(this.collisionVertexArray,Oc.members,!0),this.collisionVertexBufferExt=n.createVertexBuffer(this.collisionVertexArrayExt,P0.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}lo(Iy,"CollisionBuffers");class j0{constructor(n){this.collisionBoxArray=n.collisionBoxArray,this.zoom=n.zoom,this.lut=n.lut,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(v=>v.fqid),this.index=n.index,this.pixelRatio=n.pixelRatio,this.sourceLayerIndex=n.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.hasAnyIconTextFit=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Te.mat4.identity([]),this.placementViewportMatrix=Te.mat4.identity([]);const i=this.layers[0]._unevaluatedLayout._values;this.textSizeData=O0(this.zoom,i["text-size"]),this.iconSizeData=O0(this.zoom,i["icon-size"]);const d=this.layers[0].layout,g=d.get("symbol-sort-key"),h=d.get("symbol-z-order");this.canOverlap=d.get("text-allow-overlap")||d.get("icon-allow-overlap")||d.get("text-ignore-placement")||d.get("icon-ignore-placement"),this.sortFeaturesByKey=h!=="viewport-y"&&g.constantOr(1)!==void 0,this.sortFeaturesByY=(h==="viewport-y"||h==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=d.get("text-writing-mode").map(v=>Kc[v]),this.stateDependentLayerIds=this.layers.filter(v=>v.isStateDependent()).map(v=>v.id),this.sourceID=n.sourceID,this.projection=n.projection,this.hasAnyZOffset=!1,this.zOffsetSortDirty=!1,this.zOffsetBuffersNeedUpload=d.get("symbol-z-elevate"),this.activeReplacements=[],this.replacementUpdateTime=0}createArrays(){this.text=new Ey(new yd(this.layers,{zoom:this.zoom,lut:this.lut},n=>n.startsWith("text")||n.startsWith("symbol"))),this.icon=new Ey(new yd(this.layers,{zoom:this.zoom,lut:this.lut},n=>n.startsWith("icon")||n.startsWith("symbol"))),this.glyphOffsetArray=new n0,this.lineVertexArray=new Tp,this.symbolInstances=new t0}calculateGlyphDependencies(n,i,d,g,h){for(const v of n){const S=v.codePointAt(0);if(S===void 0)break;if(i[S]=!0,g&&h&&S<=65535){const T=Mh[v];T&&(i[T.charCodeAt(0)]=!0)}}}updateFootprints(n,i){}updateReplacement(n,i){if(i.updateTime===this.replacementUpdateTime)return!1;this.replacementUpdateTime=i.updateTime;const d=i.getReplacementRegionsForTile(n.toUnwrapped(),!0);return!ty(this.activeReplacements,d)&&(this.activeReplacements=d,!0)}populate(n,i,d,g){const h=this.layers[0],v=h.layout,S=this.projection.name==="globe",T=v.get("text-font"),A=v.get("text-field"),b=v.get("icon-image"),[P,$]=v.get("icon-size-scale-range"),M=Un(i.scaleFactor||1,P,$),O=(A.value.kind!=="constant"||A.value.value instanceof Mr&&!A.value.value.isEmpty()||A.value.value.toString().length>0)&&(T.value.kind!=="constant"||T.value.value.length>0),N=b.value.kind!=="constant"||!!b.value.value||Object.keys(b.parameters).length>0,W=v.get("symbol-sort-key");if(this.features=[],!O&&!N)return;const q=i.iconDependencies,ae=i.glyphDependencies,ce=i.availableImages,ne=new Ws(this.zoom);for(const{feature:ge,id:Ce,index:De,sourceLayerIndex:ut}of n){const st=h._featureFilter.needGeometry,tt=J(ge,st);if(!h._featureFilter.filter(ne,tt,d))continue;if(st||(tt.geometry=U(ge,d,g)),S&&ge.type!==1&&d.z<=5){const on=tt.geometry,hn=.98078528056,On=(kn,Cn)=>{const Sr=Rs(kn.x,kn.y,d,1),Gr=Rs(Cn.x,Cn.y,d,1);return Te.vec3.dot(Sr,Gr)<hn};for(let kn=0;kn<on.length;kn++)on[kn]=E(on[kn],On)}let Zt,pt;if(O){const on=h.getValueAndResolveTokens("text-field",tt,d,ce),hn=Mr.factory(on);h1(hn)&&(this.hasRTLText=!0),(!this.hasRTLText||am()==="unavailable"||this.hasRTLText&&au.isParsed())&&(Zt=Fb(hn,h,tt))}if(N){const on=h.getValueAndResolveTokens("icon-image",tt,d,ce);pt=on instanceof si?on:si.build(on)}if(!Zt&&!pt)continue;const Yt=this.sortFeaturesByKey?W.evaluate(tt,{},d):void 0,un={id:Ce,text:Zt,icon:pt,index:De,sourceLayerIndex:ut,geometry:tt.geometry,properties:ge.properties,type:BC[ge.type],sortKey:Yt};if(this.features.push(un),pt){const on=Pm(this.iconSizeData,this.layers[0]._unevaluatedLayout._values["icon-size"],d,this.zoom,un)*M*this.pixelRatio,hn=pt.getPrimary().scaleSelf(on);if(q[hn.id]=q[hn.id]||[],q[hn.id].push(hn),pt.nameSecondary){const On=pt.getSecondary().scaleSelf(on);q[On.id]=q[On.id]||[],q[On.id].push(On)}}if(Zt){const on=T.evaluate(tt,{},d).join(","),hn=v.get("text-rotation-alignment")==="map"&&v.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Kc.vertical)>=0;for(const On of Zt.sections)if(On.image){const kn=On.image.getPrimary().scaleSelf(this.pixelRatio);q[kn.id]=q[kn.id]||[],q[kn.id].push(kn)}else{const kn=Wu(Zt.toString()),Cn=On.fontStack||on,Sr=ae[Cn]=ae[Cn]||{};this.calculateGlyphDependencies(On.text,Sr,hn,this.allowVerticalPlacement,kn)}}}v.get("symbol-placement")==="line"&&(this.features=function(ge){const Ce={},De={},ut=[];let st=0;function tt(un){ut.push(ge[un]),st++}function Zt(un,on,hn){const On=De[un];return delete De[un],De[on]=On,ut[On].geometry[0].pop(),ut[On].geometry[0]=ut[On].geometry[0].concat(hn[0]),On}function pt(un,on,hn){const On=Ce[on];return delete Ce[on],Ce[un]=On,ut[On].geometry[0].shift(),ut[On].geometry[0]=hn[0].concat(ut[On].geometry[0]),On}function Yt(un,on,hn){const On=hn?on[0][on[0].length-1]:on[0][0];return`${un}:${On.x}:${On.y}`}for(let un=0;un<ge.length;un++){const on=ge[un],hn=on.geometry,On=on.text?on.text.toString():null;if(!On){tt(un);continue}const kn=Yt(On,hn),Cn=Yt(On,hn,!0);if(kn in De&&Cn in Ce&&De[kn]!==Ce[Cn]){const Sr=pt(kn,Cn,hn),Gr=Zt(kn,Cn,ut[Sr].geometry);delete Ce[kn],delete De[Cn],De[Yt(On,ut[Gr].geometry,!0)]=Gr,ut[Sr].geometry=null}else kn in De?Zt(kn,Cn,hn):Cn in Ce?pt(kn,Cn,hn):(tt(un),Ce[kn]=st-1,De[Cn]=st-1)}return ut.filter(un=>un.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((ge,Ce)=>ge.sortKey-Ce.sortKey)}update(n,i,d,g,h,v,S){this.text.programConfigurations.updatePaintArrays(n,i,h,d,g,v,S),this.icon.programConfigurations.updatePaintArrays(n,i,h,d,g,v,S)}updateZOffset(){const n=(h,v,S)=>{d+=v,d>h.length&&h.resize(d);for(let T=-v;T<0;T++)h.emplace(T+d,S)},i=(h,v,S)=>{g+=v,g>h.length&&h.resize(g);for(let T=-v;T<0;T++)h.emplace(T+g,S)};if(!this.zOffsetBuffersNeedUpload)return;this.zOffsetBuffersNeedUpload=!1;let d=0,g=0;for(let h=0;h<this.symbolInstances.length;h++){const v=this.symbolInstances.get(h),{numHorizontalGlyphVertices:S,numVerticalGlyphVertices:T,numIconVertices:A}=v,b=v.zOffset,P=A>0;if((S>0||T>0)&&(n(this.text.zOffsetVertexArray,S,b),n(this.text.zOffsetVertexArray,T,b)),P){const{placedIconSymbolIndex:$,verticalPlacedIconSymbolIndex:M}=v;$>=0&&i(this.icon.zOffsetVertexArray,A,b),M>=0&&i(this.icon.zOffsetVertexArray,v.numVerticalIconVertices,b)}}this.text.zOffsetVertexBuffer&&this.text.zOffsetVertexBuffer.updateData(this.text.zOffsetVertexArray),this.icon.zOffsetVertexBuffer&&this.icon.zOffsetVertexBuffer.updateData(this.icon.zOffsetVertexArray)}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(n){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(n),this.iconCollisionBox.upload(n)),this.text.upload(n,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload,this.zOffsetBuffersNeedUpload),this.icon.upload(n,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload,this.zOffsetBuffersNeedUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}getProjection(){return this.projectionInstance||(this.projectionInstance=d1(this.projection)),this.projectionInstance}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(n,i){const d=this.lineVertexArray.length;if(n.segment!==void 0)for(const{x:g,y:h}of i)this.lineVertexArray.emplaceBack(g,h);return{lineStartIndex:d,lineLength:this.lineVertexArray.length-d}}addSymbols(n,i,d,g,h,v,S,T,A,b,P,$,M,O,N,W){const q=n.indexArray,ae=n.layoutVertexArray,ce=n.globeExtVertexArray,ne=n.segments.prepareSegment(4*i.length,ae,q,this.canOverlap?v.sortKey:void 0),ge=this.glyphOffsetArray.length,Ce=ne.vertexLength,De=this.allowVerticalPlacement&&S===Kc.vertical?Math.PI/2:0,ut=v.text&&v.text.sections;for(let tt=0;tt<i.length;tt++){const{tl:Zt,tr:pt,bl:Yt,br:un,texPrimary:on,texSecondary:hn,pixelOffsetTL:On,pixelOffsetBR:kn,minFontScaleX:Cn,minFontScaleY:Sr,glyphOffset:Gr,isSDF:br,sectionIndex:Bi}=i[tt],Ti=ne.vertexLength,di=Gr[1];if(wy(ae,A.x,A.y,Zt.x,di+Zt.y,on.x,on.y,d,br,On.x,On.y,Cn,Sr),wy(ae,A.x,A.y,pt.x,di+pt.y,on.x+on.w,on.y,d,br,kn.x,On.y,Cn,Sr),wy(ae,A.x,A.y,Yt.x,di+Yt.y,on.x,on.y+on.h,d,br,On.x,kn.y,Cn,Sr),wy(ae,A.x,A.y,un.x,di+un.y,on.x+on.w,on.y+on.h,d,br,kn.x,kn.y,Cn,Sr),T){const{x:Hr,y:go,z:ji}=T.anchor,[qi,la,za]=T.up;Cu(ce,Hr,go,ji,qi,la,za),Cu(ce,Hr,go,ji,qi,la,za),Cu(ce,Hr,go,ji,qi,la,za),Cu(ce,Hr,go,ji,qi,la,za),hg(n.dynamicLayoutVertexArray,Hr,go,ji,De)}else hg(n.dynamicLayoutVertexArray,A.x,A.y,A.z,De);if(W){const Hr=hn||on;k0(n.iconTransitioningVertexArray,Hr.x,Hr.y),k0(n.iconTransitioningVertexArray,Hr.x+Hr.w,Hr.y),k0(n.iconTransitioningVertexArray,Hr.x,Hr.y+Hr.h),k0(n.iconTransitioningVertexArray,Hr.x+Hr.w,Hr.y+Hr.h)}q.emplaceBack(Ti,Ti+1,Ti+2),q.emplaceBack(Ti+1,Ti+2,Ti+3),ne.vertexLength+=4,ne.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Gr[0]),tt!==i.length-1&&Bi===i[tt+1].sectionIndex||n.programConfigurations.populatePaintArrays(ae.length,v,v.index,{},M,O,N,ut&&ut[Bi])}const st=T?T.anchor:A;n.placedSymbolArray.emplaceBack(st.x,st.y,st.z,A.x,A.y,ge,this.glyphOffsetArray.length-ge,Ce,b,P,A.segment,d?d[0]:0,d?d[1]:0,g[0],g[1],S,0,!1,0,$,0)}_commitLayoutVertex(n,i,d,g,h,v,S){n.emplaceBack(i,d,g,h,v,Math.round(S.x),Math.round(S.y))}_addCollisionDebugVertices(n,i,d,g,h,v,S){const T=d.segments.prepareSegment(4,d.layoutVertexArray,d.indexArray),A=T.vertexLength,b=S.tileAnchorX,P=S.tileAnchorY;for(let M=0;M<4;M++)d.collisionVertexArray.emplaceBack(0,0,0,0,0,0);this._commitDebugCollisionVertexUpdate(d.collisionVertexArrayExt,i,n.padding,S.zOffset),this._commitLayoutVertex(d.layoutVertexArray,g,h,v,b,P,new In(n.x1,n.y1)),this._commitLayoutVertex(d.layoutVertexArray,g,h,v,b,P,new In(n.x2,n.y1)),this._commitLayoutVertex(d.layoutVertexArray,g,h,v,b,P,new In(n.x2,n.y2)),this._commitLayoutVertex(d.layoutVertexArray,g,h,v,b,P,new In(n.x1,n.y2)),T.vertexLength+=4;const $=d.indexArray;$.emplaceBack(A,A+1),$.emplaceBack(A+1,A+2),$.emplaceBack(A+2,A+3),$.emplaceBack(A+3,A),T.primitiveLength+=4}_addTextDebugCollisionBoxes(n,i,d,g,h,v){for(let S=g;S<h;S++){const T=d.get(S),A=this.getSymbolInstanceTextSize(n,v,i,S);this._addCollisionDebugVertices(T,A,this.textCollisionBox,T.projectedAnchorX,T.projectedAnchorY,T.projectedAnchorZ,v)}}_addIconDebugCollisionBoxes(n,i,d,g,h,v){for(let S=g;S<h;S++){const T=d.get(S),A=this.getSymbolInstanceIconSize(n,i,v.placedIconSymbolIndex);this._addCollisionDebugVertices(T,A,this.iconCollisionBox,T.projectedAnchorX,T.projectedAnchorY,T.projectedAnchorZ,v)}}generateCollisionDebugBuffers(n,i,d){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Iy(mm,Nb.members,Ku),this.iconCollisionBox=new Iy(mm,Nb.members,Ku);const g=Ih(this.iconSizeData,n),h=Ih(this.textSizeData,n,d);for(let v=0;v<this.symbolInstances.length;v++){const S=this.symbolInstances.get(v);this._addTextDebugCollisionBoxes(h,n,i,S.textBoxStartIndex,S.textBoxEndIndex,S),this._addTextDebugCollisionBoxes(h,n,i,S.verticalTextBoxStartIndex,S.verticalTextBoxEndIndex,S),this._addIconDebugCollisionBoxes(g,n,i,S.iconBoxStartIndex,S.iconBoxEndIndex,S),this._addIconDebugCollisionBoxes(g,n,i,S.verticalIconBoxStartIndex,S.verticalIconBoxEndIndex,S)}}getSymbolInstanceTextSize(n,i,d,g){const h=this.text.placedSymbolArray.get(i.rightJustifiedTextSymbolIndex>=0?i.rightJustifiedTextSymbolIndex:i.centerJustifiedTextSymbolIndex>=0?i.centerJustifiedTextSymbolIndex:i.leftJustifiedTextSymbolIndex>=0?i.leftJustifiedTextSymbolIndex:i.verticalPlacedTextSymbolIndex>=0?i.verticalPlacedTextSymbolIndex:g),v=R0(this.textSizeData,n,h)/Rc;return this.tilePixelRatio*v}getSymbolInstanceIconSize(n,i,d){const g=this.icon.placedSymbolArray.get(d),h=R0(this.iconSizeData,n,g);return this.tilePixelRatio*h}_commitDebugCollisionVertexUpdate(n,i,d,g){n.emplaceBack(i,-d,-d,g),n.emplaceBack(i,d,-d,g),n.emplaceBack(i,d,d,g),n.emplaceBack(i,-d,d,g)}_updateTextDebugCollisionBoxes(n,i,d,g,h,v,S){for(let T=g;T<h;T++){const A=d.get(T),b=this.getSymbolInstanceTextSize(n,v,i,T);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,b,A.padding,v.zOffset)}}_updateIconDebugCollisionBoxes(n,i,d,g,h,v,S){for(let T=g;T<h;T++){const A=d.get(T),b=this.getSymbolInstanceIconSize(n,i,v.placedIconSymbolIndex);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,b,A.padding,v.zOffset)}}updateCollisionDebugBuffers(n,i,d,g){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const h=Ih(this.iconSizeData,n,g),v=Ih(this.textSizeData,n,d);for(let S=0;S<this.symbolInstances.length;S++){const T=this.symbolInstances.get(S);this._updateTextDebugCollisionBoxes(v,n,i,T.textBoxStartIndex,T.textBoxEndIndex,T,d),this._updateTextDebugCollisionBoxes(v,n,i,T.verticalTextBoxStartIndex,T.verticalTextBoxEndIndex,T,d),this._updateIconDebugCollisionBoxes(h,n,i,T.iconBoxStartIndex,T.iconBoxEndIndex,T,g),this._updateIconDebugCollisionBoxes(h,n,i,T.verticalIconBoxStartIndex,T.verticalIconBoxEndIndex,T,g)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(n,i,d,g,h,v,S,T,A){const b={};if(i<d){const{x1:P,y1:$,x2:M,y2:O,padding:N,projectedAnchorX:W,projectedAnchorY:q,projectedAnchorZ:ae,tileAnchorX:ce,tileAnchorY:ne,featureIndex:ge}=n.get(i);b.textBox={x1:P,y1:$,x2:M,y2:O,padding:N,projectedAnchorX:W,projectedAnchorY:q,projectedAnchorZ:ae,tileAnchorX:ce,tileAnchorY:ne},b.textFeatureIndex=ge}if(g<h){const{x1:P,y1:$,x2:M,y2:O,padding:N,projectedAnchorX:W,projectedAnchorY:q,projectedAnchorZ:ae,tileAnchorX:ce,tileAnchorY:ne,featureIndex:ge}=n.get(g);b.verticalTextBox={x1:P,y1:$,x2:M,y2:O,padding:N,projectedAnchorX:W,projectedAnchorY:q,projectedAnchorZ:ae,tileAnchorX:ce,tileAnchorY:ne},b.verticalTextFeatureIndex=ge}if(v<S){const{x1:P,y1:$,x2:M,y2:O,padding:N,projectedAnchorX:W,projectedAnchorY:q,projectedAnchorZ:ae,tileAnchorX:ce,tileAnchorY:ne,featureIndex:ge}=n.get(v);b.iconBox={x1:P,y1:$,x2:M,y2:O,padding:N,projectedAnchorX:W,projectedAnchorY:q,projectedAnchorZ:ae,tileAnchorX:ce,tileAnchorY:ne},b.iconFeatureIndex=ge}if(T<A){const{x1:P,y1:$,x2:M,y2:O,padding:N,projectedAnchorX:W,projectedAnchorY:q,projectedAnchorZ:ae,tileAnchorX:ce,tileAnchorY:ne,featureIndex:ge}=n.get(T);b.verticalIconBox={x1:P,y1:$,x2:M,y2:O,padding:N,projectedAnchorX:W,projectedAnchorY:q,projectedAnchorZ:ae,tileAnchorX:ce,tileAnchorY:ne},b.verticalIconFeatureIndex=ge}return b}deserializeCollisionBoxes(n){this.collisionArrays=[];for(let i=0;i<this.symbolInstances.length;i++){const d=this.symbolInstances.get(i);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(n,d.textBoxStartIndex,d.textBoxEndIndex,d.verticalTextBoxStartIndex,d.verticalTextBoxEndIndex,d.iconBoxStartIndex,d.iconBoxEndIndex,d.verticalIconBoxStartIndex,d.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}hasIconTextFit(){return this.hasAnyIconTextFit}addIndicesForPlacedSymbol(n,i){const d=n.placedSymbolArray.get(i),g=d.vertexStartIndex+4*d.numGlyphs;for(let h=d.vertexStartIndex;h<g;h+=4)n.indexArray.emplaceBack(h,h+1,h+2),n.indexArray.emplaceBack(h+1,h+2,h+3)}getSortedSymbolIndexes(n){if(this.sortedAngle===n&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const i=Math.sin(n),d=Math.cos(n),g=[],h=[],v=[];for(let S=0;S<this.symbolInstances.length;++S){v.push(S);const T=this.symbolInstances.get(S);g.push(0|Math.round(i*T.tileAnchorX+d*T.tileAnchorY)),h.push(T.featureIndex)}return v.sort((S,T)=>g[S]-g[T]||h[T]-h[S]),v}getSortedIndexesByZOffset(){if(!this.zOffsetSortDirty)return this.symbolInstanceIndexesSortedZOffset;if(!this.symbolInstanceIndexesSortedZOffset){this.symbolInstanceIndexesSortedZOffset=[];for(let n=0;n<this.symbolInstances.length;++n)this.symbolInstanceIndexesSortedZOffset.push(n)}return this.zOffsetSortDirty=!1,this.symbolInstanceIndexesSortedZOffset.sort((n,i)=>this.symbolInstances.get(i).zOffset-this.symbolInstances.get(n).zOffset)}addToSortKeyRanges(n,i){const d=this.sortKeyRanges[this.sortKeyRanges.length-1];d&&d.sortKey===i?d.symbolInstanceEnd=n+1:this.sortKeyRanges.push({sortKey:i,symbolInstanceStart:n,symbolInstanceEnd:n+1})}sortFeatures(n){if(this.sortFeaturesByY&&this.sortedAngle!==n&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(n),this.sortedAngle=n,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const i of this.symbolInstanceIndexes){const d=this.symbolInstances.get(i);this.featureSortOrder.push(d.featureIndex);const{rightJustifiedTextSymbolIndex:g,centerJustifiedTextSymbolIndex:h,leftJustifiedTextSymbolIndex:v,verticalPlacedTextSymbolIndex:S,placedIconSymbolIndex:T,verticalPlacedIconSymbolIndex:A}=d;g>=0&&this.addIndicesForPlacedSymbol(this.text,g),h>=0&&h!==g&&this.addIndicesForPlacedSymbol(this.text,h),v>=0&&v!==h&&v!==g&&this.addIndicesForPlacedSymbol(this.text,v),S>=0&&this.addIndicesForPlacedSymbol(this.text,S),T>=0&&this.addIndicesForPlacedSymbol(this.icon,T),A>=0&&this.addIndicesForPlacedSymbol(this.icon,A)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let m1,My,mg;lo(j0,"SymbolBucket",{omit:["layers","collisionBoxArray","features","compareText"]}),j0.addDynamicAttributes=hg;class Ty{constructor(n){this.type=n.property.overrides?n.property.overrides.runtimeType:Ta,this.defaultValue=n}evaluate(n){if(n.formattedSection){const i=this.defaultValue.property.overrides;if(i&&i.hasOverride(n.formattedSection))return i.getOverride(n.formattedSection)}return n.feature&&n.featureState?this.defaultValue.evaluate(n.feature,n.featureState):this.defaultValue.property.specification.default}eachChild(n){this.defaultValue.isConstant()||n(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}lo(Ty,"FormatSectionOverride",{omit:["defaultValue"]});const p1=()=>mg||(mg={layout:m1||(m1=new nl({"symbol-placement":new pi(Gn.layout_symbol["symbol-placement"]),"symbol-spacing":new pi(Gn.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new pi(Gn.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Ki(Gn.layout_symbol["symbol-sort-key"]),"symbol-z-order":new pi(Gn.layout_symbol["symbol-z-order"]),"symbol-z-elevate":new pi(Gn.layout_symbol["symbol-z-elevate"]),"symbol-elevation-reference":new pi(Gn.layout_symbol["symbol-elevation-reference"]),"icon-allow-overlap":new pi(Gn.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new pi(Gn.layout_symbol["icon-ignore-placement"]),"icon-optional":new pi(Gn.layout_symbol["icon-optional"]),"icon-rotation-alignment":new pi(Gn.layout_symbol["icon-rotation-alignment"]),"icon-size":new Ki(Gn.layout_symbol["icon-size"]),"icon-size-scale-range":new pi(Gn.layout_symbol["icon-size-scale-range"]),"icon-text-fit":new Ki(Gn.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Ki(Gn.layout_symbol["icon-text-fit-padding"]),"icon-image":new Ki(Gn.layout_symbol["icon-image"]),"icon-rotate":new Ki(Gn.layout_symbol["icon-rotate"]),"icon-padding":new pi(Gn.layout_symbol["icon-padding"]),"icon-keep-upright":new pi(Gn.layout_symbol["icon-keep-upright"]),"icon-offset":new Ki(Gn.layout_symbol["icon-offset"]),"icon-anchor":new Ki(Gn.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new pi(Gn.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new pi(Gn.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new pi(Gn.layout_symbol["text-rotation-alignment"]),"text-field":new Ki(Gn.layout_symbol["text-field"]),"text-font":new Ki(Gn.layout_symbol["text-font"]),"text-size":new Ki(Gn.layout_symbol["text-size"]),"text-size-scale-range":new pi(Gn.layout_symbol["text-size-scale-range"]),"text-max-width":new Ki(Gn.layout_symbol["text-max-width"]),"text-line-height":new Ki(Gn.layout_symbol["text-line-height"]),"text-letter-spacing":new Ki(Gn.layout_symbol["text-letter-spacing"]),"text-justify":new Ki(Gn.layout_symbol["text-justify"]),"text-radial-offset":new Ki(Gn.layout_symbol["text-radial-offset"]),"text-variable-anchor":new pi(Gn.layout_symbol["text-variable-anchor"]),"text-anchor":new Ki(Gn.layout_symbol["text-anchor"]),"text-max-angle":new pi(Gn.layout_symbol["text-max-angle"]),"text-writing-mode":new pi(Gn.layout_symbol["text-writing-mode"]),"text-rotate":new Ki(Gn.layout_symbol["text-rotate"]),"text-padding":new pi(Gn.layout_symbol["text-padding"]),"text-keep-upright":new pi(Gn.layout_symbol["text-keep-upright"]),"text-transform":new Ki(Gn.layout_symbol["text-transform"]),"text-offset":new Ki(Gn.layout_symbol["text-offset"]),"text-allow-overlap":new pi(Gn.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new pi(Gn.layout_symbol["text-ignore-placement"]),"text-optional":new pi(Gn.layout_symbol["text-optional"]),visibility:new pi(Gn.layout_symbol.visibility)})),paint:My||(My=new nl({"icon-opacity":new Ki(Gn.paint_symbol["icon-opacity"]),"icon-occlusion-opacity":new Ki(Gn.paint_symbol["icon-occlusion-opacity"]),"icon-emissive-strength":new Ki(Gn.paint_symbol["icon-emissive-strength"]),"text-emissive-strength":new Ki(Gn.paint_symbol["text-emissive-strength"]),"icon-color":new Ki(Gn.paint_symbol["icon-color"]),"icon-halo-color":new Ki(Gn.paint_symbol["icon-halo-color"]),"icon-halo-width":new Ki(Gn.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Ki(Gn.paint_symbol["icon-halo-blur"]),"icon-translate":new pi(Gn.paint_symbol["icon-translate"]),"icon-translate-anchor":new pi(Gn.paint_symbol["icon-translate-anchor"]),"icon-image-cross-fade":new Ki(Gn.paint_symbol["icon-image-cross-fade"]),"text-opacity":new Ki(Gn.paint_symbol["text-opacity"]),"text-occlusion-opacity":new Ki(Gn.paint_symbol["text-occlusion-opacity"]),"text-color":new Ki(Gn.paint_symbol["text-color"],{runtimeType:Yo,getOverride:u=>u.textColor,hasOverride:u=>!!u.textColor}),"text-halo-color":new Ki(Gn.paint_symbol["text-halo-color"]),"text-halo-width":new Ki(Gn.paint_symbol["text-halo-width"]),"text-halo-blur":new Ki(Gn.paint_symbol["text-halo-blur"]),"text-translate":new pi(Gn.paint_symbol["text-translate"]),"text-translate-anchor":new pi(Gn.paint_symbol["text-translate-anchor"]),"icon-color-saturation":new pi(Gn.paint_symbol["icon-color-saturation"]),"icon-color-contrast":new pi(Gn.paint_symbol["icon-color-contrast"]),"icon-color-brightness-min":new pi(Gn.paint_symbol["icon-color-brightness-min"]),"icon-color-brightness-max":new pi(Gn.paint_symbol["icon-color-brightness-max"]),"symbol-z-offset":new Ki(Gn.paint_symbol["symbol-z-offset"]),"icon-color-use-theme":new Ki({type:"string",default:"default","property-type":"data-driven"}),"icon-halo-color-use-theme":new Ki({type:"string",default:"default","property-type":"data-driven"}),"text-color-use-theme":new Ki({type:"string",default:"default","property-type":"data-driven"}),"text-halo-color-use-theme":new Ki({type:"string",default:"default","property-type":"data-driven"})}))},mg);class pg extends Ll{constructor(n,i,d,g){super(n,p1(),i,d,g),this._colorAdjustmentMatrix=Te.mat4.identity([]),this.hasInitialOcclusionOpacityProperties=n.paint!==void 0&&("icon-occlusion-opacity"in n.paint||"text-occlusion-opacity"in n.paint)}recalculate(n,i){super.recalculate(n,i),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const d=this.layout.get("text-writing-mode");if(d){const g=[];for(const h of d)g.indexOf(h)<0&&g.push(h);this.layout._values["text-writing-mode"]=g}else this.layout._values["text-writing-mode"]=this.layout.get("symbol-placement")==="point"?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getColorAdjustmentMatrix(n,i,d,g){return this._saturation===n&&this._contrast===i&&this._brightnessMin===d&&this._brightnessMax===g||(this._colorAdjustmentMatrix=function(h,v,S,T){h=ui(h),v=Dr(v);const A=Te.mat4.create(),b=h/3,P=1-2*b,$=[P,b,b,0,b,P,b,0,b,b,P,0,0,0,0,1],M=.5-.5*v,O=T-S;return Te.mat4.multiply(A,[O,0,0,0,0,O,0,0,0,0,O,0,S,S,S,1],[v,0,0,0,0,v,0,0,0,0,v,0,M,M,M,1]),Te.mat4.multiply(A,A,$),A}(n,i,d,g),this._saturation=n,this._contrast=i,this._brightnessMin=d,this._brightnessMax=g),this._colorAdjustmentMatrix}getValueAndResolveTokens(n,i,d,g){const h=this.layout.get(n).evaluate(i,{},d,g),v=this._unevaluatedLayout._values[n];return v.isDataDriven()||cf(v.value)||!h?h:function(S,T){return T.replace(/{([^{}]+)}/g,(A,b)=>b in S?String(S[b]):"")}(i.properties,h)}createBucket(n){return new j0(n)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const n of p1().paint.overridableProperties){if(!pg.hasPaintOverride(this.layout,n))continue;const i=this.paint.get(n),d=new Ty(i),g=new Uu(d,i.property.specification,this.scope,this.options);let h=null;h=i.value.kind==="constant"||i.value.kind==="source"?new lh("source",g):new df("composite",g,i.value.zoomStops,i.value._interpolationType),this.paint._values[n]=new pf(i.property,h,i.parameters)}}_handleOverridablePaintPropertyUpdate(n,i,d){return!(!this.layout||i.isDataDriven()||d.isDataDriven())&&pg.hasPaintOverride(this.layout,n)}static hasPaintOverride(n,i){const d=n.get("text-field"),g=p1().paint.properties[i];let h=!1;const v=S=>{for(const T of S)if(g.overrides&&g.overrides.hasOverride(T))return void(h=!0)};if(d.value.kind==="constant"&&d.value.value instanceof Mr)v(d.value.value.sections);else if(d.value.kind==="source"){const S=A=>{h||(A instanceof ni&&yi(A.value)===ko?v(A.value.sections):A instanceof na?v(A.sections):A.eachChild(S))},T=d.value;T._styleExpression&&S(T._styleExpression.expression)}return h}getProgramIds(){return["symbol"]}getDefaultProgramParams(n,i,d){return{config:new $u(this,{zoom:i,lut:d}),overrideFog:!1}}}let Py,g1,v1,y1;var Oy=bs([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);function Ry(u){switch(u){case WebGL2RenderingContext.RGBA8:return WebGL2RenderingContext.RGBA;case WebGL2RenderingContext.DEPTH_COMPONENT16:return WebGL2RenderingContext.DEPTH_COMPONENT;case WebGL2RenderingContext.DEPTH24_STENCIL8:return WebGL2RenderingContext.DEPTH_STENCIL;case WebGL2RenderingContext.R8:case WebGL2RenderingContext.R32F:return WebGL2RenderingContext.RED}}function $y(u){switch(u){case WebGL2RenderingContext.RGBA8:return WebGL2RenderingContext.UNSIGNED_BYTE;case WebGL2RenderingContext.DEPTH_COMPONENT16:return WebGL2RenderingContext.UNSIGNED_SHORT;case WebGL2RenderingContext.DEPTH24_STENCIL8:return WebGL2RenderingContext.UNSIGNED_INT_24_8;case WebGL2RenderingContext.R8:return WebGL2RenderingContext.UNSIGNED_BYTE;case WebGL2RenderingContext.R32F:return WebGL2RenderingContext.FLOAT}}class Ay{constructor(n,i,d,g){this.context=n,this.format=d,this.useMipmap=g&&g.useMipmap,this.texture=n.gl.createTexture(),this.update(i,{premultiply:g&&g.premultiply})}update(n,i){const d=n&&n instanceof HTMLVideoElement&&n.width===0?n.videoWidth:n.width,g=n&&n instanceof HTMLVideoElement&&n.height===0?n.videoHeight:n.height,{context:h}=this,{gl:v}=h,{x:S,y:T}=i&&i.position?i.position:{x:0,y:0},A=S+d,b=T+g;!this.size||this.size[0]===A&&this.size[1]===b||(v.bindTexture(v.TEXTURE_2D,null),v.deleteTexture(this.texture),this.texture=v.createTexture(),this.size=null),v.bindTexture(v.TEXTURE_2D,this.texture),h.pixelStoreUnpackFlipY.set(!1),h.pixelStoreUnpack.set(1),h.pixelStoreUnpackPremultiplyAlpha.set(this.format===v.RGBA8&&(!i||i.premultiply!==!1));const P=n instanceof HTMLImageElement||n instanceof HTMLCanvasElement||n instanceof HTMLVideoElement||n instanceof ImageData||ImageBitmap&&n instanceof ImageBitmap;if(!this.size&&A>0&&b>0){const $=this.useMipmap?Math.floor(Math.log2(Math.max(A,b)))+1:1;v.texStorage2D(v.TEXTURE_2D,$,this.format,A,b),this.size=[A,b]}if(this.size)if(P)v.texSubImage2D(v.TEXTURE_2D,0,S,T,Ry(this.format),$y(this.format),n);else{const $=n.data;$&&v.texSubImage2D(v.TEXTURE_2D,0,S,T,d,g,Ry(this.format),$y(this.format),$)}this.useMipmap&&v.generateMipmap(v.TEXTURE_2D)}bind(n,i,d=!1){const{context:g}=this,{gl:h}=g;h.bindTexture(h.TEXTURE_2D,this.texture),n!==this.minFilter&&(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,n),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,this.useMipmap&&!d?n===h.NEAREST?h.NEAREST_MIPMAP_NEAREST:h.LINEAR_MIPMAP_LINEAR:n),this.minFilter=n),i!==this.wrapS&&(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,i),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,i),this.wrapS=i)}bindExtraParam(n,i,d,g){const{context:h}=this,{gl:v}=h;v.bindTexture(v.TEXTURE_2D,this.texture),i!==this.magFilter&&(v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MAG_FILTER,i),this.magFilter=i),n!==this.minFilter&&(v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MIN_FILTER,this.useMipmap?n===v.NEAREST?v.NEAREST_MIPMAP_NEAREST:v.LINEAR_MIPMAP_LINEAR:n),this.minFilter=n),d!==this.wrapS&&(v.texParameteri(v.TEXTURE_2D,v.TEXTURE_WRAP_S,d),this.wrapS=d),g!==this.wrapT&&(v.texParameteri(v.TEXTURE_2D,v.TEXTURE_WRAP_T,g),this.wrapT=g)}destroy(){const{gl:n}=this.context;n.deleteTexture(this.texture),this.texture=null}}class $h{constructor(n,i){this.context=n,this.texture=i}bind(n,i){const{context:d}=this,{gl:g}=d;g.bindTexture(g.TEXTURE_2D,this.texture),n!==this.minFilter&&(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,n),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,n),this.minFilter=n),i!==this.wrapS&&(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,i),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,i),this.wrapS=i)}}function Z0(u,n,i,d,g,h,v,S){const T=[u,n,1,i,d,1,g,h,1],A=[v,S,1],b=Te.mat3.adjoint([],T),[P,$,M]=Te.vec3.transformMat3(A,A,b);return Te.mat3.multiply(T,T,[P,0,0,0,$,0,0,0,M])}function _1(u,n,i,d,g,h,v,S){const T=function(A,b,P,$,M,O,N,W){const q=Z0(0,0,1,0,1,1,0,1),ae=Z0(A,b,P,$,M,O,N,W),ce=Te.mat3.adjoint([],q);return Te.mat3.multiply(ae,ae,ce)}(u,n,i,d,g,h,v,S);return[T[2]/T[8]/Ii,T[5]/T[8]/Ii]}function gg(u){return[u[0],Math.min(Math.max(u[1],-rl),rl)]}class b1 extends to{constructor(n,i,d,g){super(),this.id=n,this.dispatcher=d,this.coordinates=i.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.onNorthPole=!1,this.onSouthPole=!1,this.setEventedParent(g),this.options=i,this._dirty=!1}load(n,i){if(this._loaded=i||!1,this.fire(new vo("dataloading",{dataType:"source"})),this.url=this.options.url,!this.url)return n&&(this.coordinates=n),this._loaded=!0,void this._finishLoading();this._imageRequest=Mi(this.map._requestManager.transformRequest(this.url,Qr.Image),(d,g)=>{this._imageRequest=null,this._loaded=!0,d?this.fire(new Oo(d)):g&&(this.image=g instanceof HTMLImageElement?he.getImageData(g):g,this._dirty=!0,this.width=this.image.width,this.height=this.image.height,n&&(this.coordinates=n),this._finishLoading())})}loaded(){return this._loaded}updateImage(n){return n.url?(this._imageRequest&&n.url!==this.options.url&&(this._imageRequest.cancel(),this._imageRequest=null),this.options.url=n.url,this.load(n.coordinates,this._loaded),this):this}setTexture(n){if(!(n.handle instanceof WebGLTexture))throw new Error("The provided handle is not a WebGLTexture instance");return this.texture=new $h(this.map.painter.context,n.handle),this.width=n.dimensions[0],this.height=n.dimensions[1],this._dirty=!1,this._loaded=!0,this._finishLoading(),this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new vo("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(n){this.map=n,this.load()}onRemove(n){this._imageRequest&&(this._imageRequest.cancel(),this._imageRequest=null),!this.texture||this.texture instanceof $h||this.texture.destroy(),this.boundsBuffer&&(this.boundsBuffer.destroy(),this.elevatedGlobeVertexBuffer&&this.elevatedGlobeVertexBuffer.destroy(),this.elevatedGlobeIndexBuffer&&this.elevatedGlobeIndexBuffer.destroy())}setCoordinates(n){if(this.coordinates=n,this._boundsArray=void 0,this._unsupportedCoords=!1,!n.length)return this;this.onNorthPole=!1,this.onSouthPole=!1;let i=n[0][1],d=n[0][1];for(const h of n)h[1]>d&&(d=h[1]),h[1]<i&&(i=h[1]);const g=(d+i)/2;if(g>rl?this.onNorthPole=!0:g<-rl&&(this.onSouthPole=!0),!this.onNorthPole&&!this.onSouthPole){const h=n.map(l.fromLngLat);this.tileID=function(v){let S=1/0,T=1/0,A=-1/0,b=-1/0;for(const N of v)S=Math.min(S,N.x),T=Math.min(T,N.y),A=Math.max(A,N.x),b=Math.max(b,N.y);const P=Math.max(A-S,b-T),$=Math.max(0,Math.floor(-Math.log(P)/Math.LN2)),M=Math.pow(2,$);let O=Math.floor((S+A)/2*M);return O>1&&(O-=1),new Vr($,O,Math.floor((T+b)/2*M))}(h),this.minzoom=this.maxzoom=this.tileID.z}return this.fire(new vo("data",{dataType:"source",sourceDataType:"content"})),this}_clear(){this._boundsArray=void 0,this._unsupportedCoords=!1}_prepareData(n){for(const q in this.tiles){const ae=this.tiles[q];ae.state!=="loaded"&&(ae.state="loaded",ae.texture=this.texture)}if(this._boundsArray||this.onNorthPole||this.onSouthPole||this._unsupportedCoords)return;const i=lg(new Vr(0,0,0),this.map.transform.projection),d=[i.projection.project(this.coordinates[0][0],this.coordinates[0][1]),i.projection.project(this.coordinates[1][0],this.coordinates[1][1]),i.projection.project(this.coordinates[2][0],this.coordinates[2][1]),i.projection.project(this.coordinates[3][0],this.coordinates[3][1])];if(!function(q){const ae=q[1].x-q[0].x,ce=q[1].y-q[0].y,ne=q[2].x-q[1].x,ge=q[2].y-q[1].y,Ce=q[3].x-q[2].x,De=q[3].y-q[2].y,ut=q[0].x-q[3].x,st=q[0].y-q[3].y,tt=ae*ge-ne*ce,Zt=ne*De-Ce*ge,pt=Ce*st-ut*De,Yt=ut*ce-ae*st;return tt>0&&Zt>0&&pt>0&&Yt>0||tt<0&&Zt<0&&pt<0&&Yt<0}(d))return console.warn("Image source coordinates are defining non-convex area in the Mercator projection"),void(this._unsupportedCoords=!0);const g=lg(this.tileID,this.map.transform.projection),[h,v,S,T]=this.coordinates.map(q=>{const ae=g.projection.project(q[0],q[1]);return o1(g,ae)._round()});this.perspectiveTransform=_1(h.x,h.y,v.x,v.y,S.x,S.y,T.x,T.y);const A=this._boundsArray=new pd;A.emplaceBack(h.x,h.y,0,0),A.emplaceBack(v.x,v.y,Ii,0),A.emplaceBack(T.x,T.y,0,Ii),A.emplaceBack(S.x,S.y,Ii,Ii),this.boundsBuffer&&(this.boundsBuffer.destroy(),this.elevatedGlobeVertexBuffer&&this.elevatedGlobeVertexBuffer.destroy(),this.elevatedGlobeIndexBuffer&&this.elevatedGlobeIndexBuffer.destroy()),this.boundsBuffer=n.createVertexBuffer(A,Oy.members),this.boundsSegments=cl.simpleSegment(0,0,4,2);const b=[],P=[gg(($=this.coordinates)[0]),gg($[1]),gg($[2]),gg($[3])];var $;const[M,O,N,W]=function(q){let ae=q[0][0],ce=ae,ne=q[0][1],ge=ne;for(let Ce=1;Ce<q.length;Ce++)q[Ce][0]<ae?ae=q[Ce][0]:q[Ce][0]>ce&&(ce=q[Ce][0]),q[Ce][1]<ne?ne=q[Ce][1]:q[Ce][1]>ge&&(ge=q[Ce][1]);return[ae,ne,ce-ae,ge-ne]}(P);{const q=new pd,[ae,ce,ne,ge]=function(On){let kn=On[0].x,Cn=kn,Sr=On[0].y,Gr=Sr;for(let br=1;br<On.length;br++)On[br].x<kn?kn=On[br].x:On[br].x>Cn&&(Cn=On[br].x),On[br].y<Sr?Sr=On[br].y:On[br].y>Gr&&(Gr=On[br].y);return[kn,Sr,Cn-kn,Gr-Sr]}(d),Ce=On=>[(On.x-ae)/ne,(On.y-ce)/ge],[De,ut,st,tt]=d.map(Ce),Zt=function(On,kn,Cn,Sr,Gr,br,Bi,Ti){const di=Z0(0,0,1,0,1,1,0,1),Hr=Z0(On,kn,Cn,Sr,Gr,br,Bi,Ti),go=Te.mat3.adjoint([],Hr);return Te.mat3.multiply(di,di,go)}(De[0],De[1],ut[0],ut[1],st[0],st[1],tt[0],tt[1]);this.elevatedGlobePerspectiveTransform=_1(De[0],De[1],ut[0],ut[1],st[0],st[1],tt[0],tt[1]);const pt=(On,kn)=>{b.push(On.lng);const Cn=Math.round((On.lng-M)/N*Ii),Sr=Math.round((On.lat-O)/W*Ii),Gr=Ce(kn),br=Te.vec3.transformMat3([],[Gr[0],Gr[1],1],Zt),Bi=Math.round(br[0]/br[2]*Ii),Ti=Math.round(br[1]/br[2]*Ii);q.emplaceBack(Cn,Sr,Bi,Ti)},Yt=d[3].x-d[0].x,un=d[3].y-d[0].y,on=d[2].x-d[1].x,hn=d[2].y-d[1].y;for(let On=0;On<65;On++){const kn=On/64,Cn=[d[0].x+kn*Yt,d[0].y+kn*un],Sr=[d[1].x+kn*on,d[1].y+kn*hn],Gr=Sr[0]-Cn[0],br=Sr[1]-Cn[1];for(let Bi=0;Bi<65;Bi++){const Ti=Bi/64,di={x:Cn[0]+Gr*Ti,y:Cn[1]+br*Ti,z:0};pt(i.projection.unproject(di.x,di.y),di)}}this.elevatedGlobeVertexBuffer=n.createVertexBuffer(q,Oy.members)}{this.maxLongitudeTriangleSize=0;let q=[],ae=new Nl;const ce=(ne,ge,Ce)=>{ae.emplaceBack(ne,ge,Ce);const De=b[ne],ut=b[ge],st=b[Ce],tt=Math.min(Math.min(De,ut),st),Zt=Math.max(Math.max(De,ut),st)-tt;Zt>this.maxLongitudeTriangleSize&&(this.maxLongitudeTriangleSize=Zt),q.push(tt+Zt/2)};for(let ne=0;ne<64;ne++)for(let ge=0;ge<64;ge++){const Ce=65*ne+ge,De=Ce+1,ut=Ce+65,st=ut+1;ce(Ce,ut,De),ce(De,ut,st)}[q,ae]=function(ne,ge){const Ce=Array.from({length:ne.length},(st,tt)=>tt);Ce.sort((st,tt)=>ne[st]-ne[tt]);const De=[],ut=new Nl;for(let st=0;st<Ce.length;st++){const tt=Ce[st];De.push(ne[tt]);const Zt=3*tt,pt=Zt+1;ut.emplaceBack(ge.uint16[Zt],ge.uint16[pt],ge.uint16[pt+1])}return[De,ut]}(q,ae),this.elevatedGlobeTrianglesCenterLongitudes=q,this.elevatedGlobeIndexBuffer=n.createIndexBuffer(ae)}this.elevatedGlobeSegments=cl.simpleSegment(0,0,4225,8192),this.elevatedGlobeGridMatrix=new Float32Array([0,N/Ii,0,W/Ii,0,0,O,M,0])}prepare(){const n=Object.keys(this.tiles).length!==0;if(this.tileID&&!n)return;const i=this.map.painter.context,d=i.gl;!this._dirty||this.texture instanceof $h||(this.texture?this.texture.update(this.image):(this.texture=new Ay(i,this.image,d.RGBA8),this.texture.bind(d.LINEAR,d.CLAMP_TO_EDGE)),this._dirty=!1),n&&this._prepareData(i)}loadTile(n,i){this.tileID&&this.tileID.equals(n.tileID.canonical)?(this.tiles[String(n.tileID.wrap)]=n,n.buckets={},i(null)):(n.state="errored",i(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}getSegmentsForLongitude(n){const i=this.elevatedGlobeSegments;if(!this.elevatedGlobeTrianglesCenterLongitudes||!i)return null;const d=this.elevatedGlobeTrianglesCenterLongitudes;let g=(h=n+180)+360*Math.round((d[0]-h)/360);var h;const v=new cl,S=(P,$)=>{v.segments.push({vertexOffset:0,primitiveOffset:P,vertexLength:i.segments[0].vertexLength,primitiveLength:$,sortKey:void 0,vaos:{}})},T=.51*this.maxLongitudeTriangleSize;if(Math.abs(d[0]-g)<=T){const P=Qn(d,0,d.length,g+T);return P===d.length||S(P,Mn(d,P+1,d.length,g+360-T)-P),v}g<d[0]&&(g+=360);const A=Mn(d,0,d.length,g-T);if(A===d.length)return S(0,d.length),v;S(0,A-0);const b=Qn(d,A+1,d.length,g+T);return b!==d.length&&S(b,d.length-b),v}}const x1=(Math.pow(256,2)-1)/16907520;class C1 extends Ll{constructor(n,i,d,g){super(n,{layout:v1||(v1=new nl({visibility:new pi(Gn.layout_raster.visibility)})),paint:y1||(y1=new nl({"raster-opacity":new pi(Gn.paint_raster["raster-opacity"]),"raster-color":new kd(Gn.paint_raster["raster-color"]),"raster-color-mix":new pi(Gn.paint_raster["raster-color-mix"]),"raster-color-range":new pi(Gn.paint_raster["raster-color-range"]),"raster-hue-rotate":new pi(Gn.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new pi(Gn.paint_raster["raster-brightness-min"]),"raster-brightness-max":new pi(Gn.paint_raster["raster-brightness-max"]),"raster-saturation":new pi(Gn.paint_raster["raster-saturation"]),"raster-contrast":new pi(Gn.paint_raster["raster-contrast"]),"raster-resampling":new pi(Gn.paint_raster["raster-resampling"]),"raster-fade-duration":new pi(Gn.paint_raster["raster-fade-duration"]),"raster-emissive-strength":new pi(Gn.paint_raster["raster-emissive-strength"]),"raster-array-band":new pi(Gn.paint_raster["raster-array-band"]),"raster-elevation":new pi(Gn.paint_raster["raster-elevation"]),"raster-color-use-theme":new Ki({type:"string",default:"default","property-type":"data-driven"})}))},i,d,g),this.updateColorRamp(),this._curRampRange=[NaN,NaN]}getProgramIds(){return["raster"]}hasColorMap(){return!!this._transitionablePaint._values["raster-color"].value.value}tileCoverLift(){return this.paint.get("raster-elevation")}isDraped(n){return!(n&&n._source instanceof b1&&(n._source.onNorthPole||n._source.onSouthPole))&&this.paint.get("raster-elevation")===0}_handleSpecialPaintPropertyUpdate(n){n!=="raster-color"&&n!=="raster-color-range"||(this._curRampRange=[NaN,NaN],this.updateColorRamp())}updateColorRamp(n){if(!this.hasColorMap()||!this._curRampRange)return;const i=this._transitionablePaint._values["raster-color"].value.expression,[d,g]=n||this._transitionablePaint._values["raster-color-range"].value.expression.evaluate({zoom:0})||[NaN,NaN];isNaN(d)&&isNaN(g)||d===this._curRampRange[0]&&g===this._curRampRange[1]||(this.colorRamp=Np({expression:i,evaluationKey:"rasterValue",image:this.colorRamp,clips:[{start:d,end:g}],resolution:256}),this.colorRampTexture=null,this._curRampRange=[d,g])}}let Dy,vg,zy,S1,Ly;class w1 extends Ll{constructor(n,i,d,g){super(n,{layout:Dy||(Dy=new nl({visibility:new pi(Gn["layout_raster-particle"].visibility)})),paint:vg||(vg=new nl({"raster-particle-array-band":new pi(Gn["paint_raster-particle"]["raster-particle-array-band"]),"raster-particle-count":new pi(Gn["paint_raster-particle"]["raster-particle-count"]),"raster-particle-color":new kd(Gn["paint_raster-particle"]["raster-particle-color"]),"raster-particle-max-speed":new pi(Gn["paint_raster-particle"]["raster-particle-max-speed"]),"raster-particle-speed-factor":new pi(Gn["paint_raster-particle"]["raster-particle-speed-factor"]),"raster-particle-fade-opacity-factor":new pi(Gn["paint_raster-particle"]["raster-particle-fade-opacity-factor"]),"raster-particle-reset-rate-factor":new pi(Gn["paint_raster-particle"]["raster-particle-reset-rate-factor"]),"raster-particle-elevation":new pi(Gn["paint_raster-particle"]["raster-particle-elevation"]),"raster-particle-color-use-theme":new Ki({type:"string",default:"default","property-type":"data-driven"})}))},i,d,g),this._updateColorRamp(),this.lastInvalidatedAt=he.now()}onRemove(n){this.colorRampTexture&&this.colorRampTexture.destroy(),this.tileFramebuffer&&this.tileFramebuffer.destroy(),this.particleFramebuffer&&this.particleFramebuffer.destroy()}hasColorMap(){return!!this._transitionablePaint._values["raster-particle-color"].value.value}getProgramIds(){return["rasterParticle"]}hasOffscreenPass(){return this.visibility!=="none"}isDraped(n){return!1}_handleSpecialPaintPropertyUpdate(n){n!=="raster-particle-color"&&n!=="raster-particle-max-speed"||(this._updateColorRamp(),this._invalidateAnimationState()),n==="raster-particle-count"&&this._invalidateAnimationState()}_updateColorRamp(){if(!this.hasColorMap())return;const n=this._transitionablePaint._values["raster-particle-color"].value.expression,i=this._transitionablePaint._values["raster-particle-max-speed"].value.expression.evaluate({zoom:0});this.colorRamp=Np({expression:n,evaluationKey:"rasterParticleSpeed",image:this.colorRamp,clips:[{start:0,end:i}],resolution:256}),this.colorRampTexture=null}_invalidateAnimationState(){this.lastInvalidatedAt=he.now()}tileCoverLift(){return this.paint.get("raster-particle-elevation")}}class E1 extends Ll{constructor(n,i){super(n,{},i,null),this.implementation=n,n.slot&&(this.slot=n.slot)}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}isDraped(n){return this.implementation.renderToTile!==void 0}shouldRedrape(){return!!this.implementation.shouldRerenderTiles&&this.implementation.shouldRerenderTiles()}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){}onAdd(n){this.implementation.onAdd&&this.implementation.onAdd(n,n.painter.context.gl)}onRemove(n){this.implementation.onRemove&&this.implementation.onRemove(n,n.painter.context.gl)}}function Ny(u,n,i){const d=[0,0,1],g=Te.quat.identity([]);return Te.quat.rotateY(g,g,i?-it(u)+Math.PI:it(u)),Te.quat.rotateX(g,g,-it(n)),Te.vec3.transformQuat(d,d,g),Te.vec3.normalize(d,d)}function By(u,n){const i=yg(u.projection,u.zoom,u.width,u.height),d=function(h,v,S,T,A){const b=new ms(S.lng-180*bd,S.lat),P=new ms(S.lng+180*bd,S.lat),$=h.project(b.lng,b.lat),M=h.project(P.lng,P.lat),O=-Math.atan2(M.y-$.y,M.x-$.x),N=l.fromLngLat(S);N.y=Un(N.y,-1+bd,1-bd);const W=N.toLngLat(),q=h.project(W.lng,W.lat),ae=l.fromLngLat(W);ae.x+=bd;const ce=ae.toLngLat(),ne=h.project(ce.lng,ce.lat),ge=ky(ne.x-q.x,ne.y-q.y,O),Ce=l.fromLngLat(W);Ce.y+=bd;const De=Ce.toLngLat(),ut=h.project(De.lng,De.lat),st=ky(ut.x-q.x,ut.y-q.y,O),tt=Math.abs(ge.x)/Math.abs(st.y),Zt=Te.mat4.identity([]);Te.mat4.rotateZ(Zt,Zt,-O*(1-(A?0:T)));const pt=Te.mat4.identity([]);return Te.mat4.scale(pt,pt,[1,1-(1-tt)*T,1]),pt[4]=-st.x/st.y*T,Te.mat4.rotateZ(pt,pt,O),Te.mat4.multiply(pt,Zt,pt),pt}(u.projection,0,u.center,i,n),g=I1(u);return Te.mat4.scale(d,d,[g,g,1]),d}function I1(u){const n=u.projection,i=yg(u.projection,u.zoom,u.width,u.height),d=Fy(n,u.center),g=Fy(n,ms.convert(n.center));return Math.pow(2,d*i+(1-i)*g)}function yg(u,n,i,d,g=1/0){const h=u.range;if(!h)return 0;const v=Math.min(g,Math.max(i,d)),S=Math.log(v/1024)/Math.LN2;return Xr(h[0]+S,h[1]+S,n)}const bd=1/4e4;function Fy(u,n){const i=Un(n.lat,-rl,rl),d=new ms(n.lng-180*bd,i),g=new ms(n.lng+180*bd,i),h=u.project(d.lng,i),v=u.project(g.lng,i),S=l.fromLngLat(d),T=l.fromLngLat(g),A=v.x-h.x,b=v.y-h.y,P=T.x-S.x,$=T.y-S.y,M=Math.sqrt((P*P+$*$)/(A*A+b*b));return Math.log(M)/Math.LN2}function ky(u,n,i){const d=Math.cos(i),g=Math.sin(i);return{x:u*d-n*g,y:u*g+n*d}}function M1(u,n,i){Te.mat4.identity(u),Te.mat4.rotateZ(u,u,it(n[2])),Te.mat4.rotateX(u,u,it(n[0])),Te.mat4.rotateY(u,u,it(n[1])),Te.mat4.scale(u,u,i),Te.mat4.multiply(u,u,[1,0,0,0,0,0,1,0,0,1,0,0,0,0,0,1])}function _g(u,n,i,d,g,h,v,S){const T=[i[0]-n[0],i[1]-n[1],0],A=[d[0]-n[0],d[1]-n[1],0];if(Te.vec3.length(T)<1e-12||Te.vec3.length(A)<1e-12)return Te.quat.identity(u);const b=Te.vec3.cross([],T,A);Te.vec3.normalize(b,b),Te.vec3.subtract(A,d,n),T[2]=(h-g)*S,A[2]=(v-g)*S;const P=T;return Te.vec3.cross(P,T,A),Te.vec3.normalize(P,P),Te.quat.rotationTo(u,b,P)}function jy(u,n,i=!1){const d=Tc(n.zoom),g=function(h,v,S){const T=v.worldSize,A=[h[12],h[13],h[14]],b=dc(A[1]/T),P=Bc(A[0]/T),$=Te.mat4.identity([]),M=Ol(1,b)*T,O=Ol(1,0)*T*zc(b,v.zoom),N=1/Mc(T);let W=O*N;if(S){const ne=yg(v.projection,v.zoom,v.width,v.height,1024);W=N*v.projection.pixelSpaceConversion(v.center.lat,T,ne)}const q=Gd(b,P);Te.vec3.add(q,q,Te.vec3.scale([],Te.vec3.normalize([],q),M*W*A[2]));const ae=function(ne){const ge=[ne[0],ne[1],ne[2]];let Ce=[0,1,0];const De=Te.vec3.cross([],Ce,ge);return Te.vec3.cross(Ce,ge,De),Te.vec3.squaredLength(Ce)===0&&(Ce=[0,1,0],Te.vec3.cross(De,ge,Ce)),Te.vec3.normalize(De,De),Te.vec3.normalize(Ce,Ce),Te.vec3.normalize(ge,ge),[De[0],De[1],De[2],0,Ce[0],Ce[1],Ce[2],0,ge[0],ge[1],ge[2],0,ne[0],ne[1],ne[2],1]}(q);Te.mat4.scale($,$,[W,W,W*M]),Te.mat4.translate($,$,[-A[0],-A[1],-A[2]]);const ce=Te.mat4.multiply([],v.globeMatrix,ae);return Te.mat4.multiply(ce,ce,$),Te.mat4.multiply(ce,ce,h),ce}(u,n,i);if(d>0){const h=function(v,S){const T=S.worldSize,A=Ol(1,0)*T*zc(S.center.lat,S.zoom)/Mc(T),b=Ol(1,S.center.lat)*T,P=Te.mat4.identity([]);return Te.mat4.rotateY(P,P,it(S.center.lng)),Te.mat4.rotateX(P,P,it(S.center.lat)),Te.mat4.translate(P,P,[0,0,uc]),Te.mat4.scale(P,P,[A,A,A*b]),Te.mat4.translate(P,P,[S.point.x-.5*T,S.point.y-.5*T,0]),Te.mat4.multiply(P,P,v),Te.mat4.multiply(P,S.globeMatrix,P)}(u,n);return function(v,S,T){const A=(O,N,W)=>{const q=Te.vec3.length(O),ae=Te.vec3.length(N),ce=Fl(O,N,W);return Te.vec3.scale(ce,ce,1/Te.vec3.length(ce)*Rr(q,ae,W))},b=A([v[0],v[1],v[2]],[S[0],S[1],S[2]],T),P=A([v[4],v[5],v[6]],[S[4],S[5],S[6]],T),$=A([v[8],v[9],v[10]],[S[8],S[9],S[10]],T),M=Fl([v[12],v[13],v[14]],[S[12],S[13],S[14]],T);return[b[0],b[1],b[2],0,P[0],P[1],P[2],0,$[0],$[1],$[2],0,M[0],M[1],M[2],1]}(g,h,d)}return g}function T1(u,n,i,d){const g=Eo.projectAabbCorners(d,i);let h=Number.MAX_VALUE,v=-1;for(let A=0;A<g.length;++A){const b=g[A];b[0]=(.5*b[0]+.5)*n.width,b[1]=(.5-.5*b[1])*n.height,b[2]<h&&(v=A,h=b[2])}const S=A=>new In(g[A][0],g[A][1]);let T;switch(v){case 0:case 6:T=[S(1),S(5),S(4),S(7),S(3),S(2),S(1)];break;case 1:case 7:T=[S(0),S(4),S(5),S(6),S(2),S(3),S(0)];break;case 3:case 5:T=[S(1),S(0),S(4),S(7),S(6),S(2),S(1)];break;default:T=[S(1),S(5),S(6),S(7),S(3),S(0),S(1)]}if(be(u,T))return h}const FC=bs([{name:"a_pos_3f",components:3,type:"Float32"}]),kC=bs([{name:"a_color_3f",components:3,type:"Float32"}]),jC=bs([{name:"a_color_4f",components:4,type:"Float32"}]),zm=bs([{name:"a_uv_2f",components:2,type:"Float32"}]),V0=bs([{name:"a_normal_3f",components:3,type:"Float32"}]),ZC=bs([{name:"a_normal_matrix0",components:4,type:"Float32"},{name:"a_normal_matrix1",components:4,type:"Float32"},{name:"a_normal_matrix2",components:4,type:"Float32"},{name:"a_normal_matrix3",components:4,type:"Float32"}]),P1=bs([{name:"a_pbr",components:4,type:"Uint16"},{name:"a_heightBasedEmissiveStrength",components:3,type:"Float32"}]),O1={None:0,Model:1,Symbol:2,FillExtrusion:4,All:7};class bg{constructor(n,i,d,g){this.message=(n?`${n}: `:"")+d,g&&(this.identifier=g),i!=null&&i.__line__&&(this.line=i.__line__)}}function R1(u,n){const i=u.indexOf("://")===-1;try{return new URL(u,i&&n?"http://example.com":void 0),!0}catch(d){return!1}}class $1{constructor(n,i){this.feature=n,this.instancedDataOffset=i,this.instancedDataCount=0,this.rotation=[0,0,0],this.scale=[1,1,1],this.translation=[0,0,0]}}class A1{constructor(){this.instancedDataArray=new xf,this.instancesEvaluatedElevation=[],this.features=[],this.idToFeaturesIndex={}}}class Zy{constructor(n){this.zoom=n.zoom,this.canonical=n.canonical,this.layers=n.layers,this.layerIds=this.layers.map(i=>i.fqid),this.projection=n.projection,this.index=n.index,this.hasZoomDependentProperties=this.layers[0].isZoomDependent(),this.stateDependentLayerIds=this.layers.filter(i=>i.isStateDependent()).map(i=>i.id),this.hasPattern=!1,this.instancesPerModel={},this.validForExaggeration=0,this.maxVerticalOffset=0,this.maxScale=0,this.maxHeight=0,this.lookupDim=this.zoom>this.canonical.z?256:this.zoom>15?75:100,this.instanceCount=0,this.terrainElevationMin=0,this.terrainElevationMax=0,this.validForDEMTile={id:null,timestamp:0},this.modelUris=[],this.modelsRequested=!1,this.activeReplacements=[],this.replacementUpdateTime=0}updateFootprints(n,i){}populate(n,i,d,g){this.tileToMeter=r(d);const h=this.layers[0]._featureFilter.needGeometry;this.lookup=new Uint8Array(this.lookupDim*this.lookupDim);for(const{feature:v,id:S,index:T,sourceLayerIndex:A}of n){const b=S!=null?S:v.properties&&v.properties.hasOwnProperty("id")?v.properties.id:void 0,P=J(v,h);if(!this.layers[0]._featureFilter.filter(new Ws(this.zoom),P,d))continue;const $={id:b,sourceLayerIndex:A,index:T,geometry:h?P.geometry:U(v,d,g),properties:v.properties,type:v.type,patterns:{}},M=this.addFeature($,$.geometry,P);M&&i.featureIndex.insert(v,$.geometry,T,A,this.index,this.instancesPerModel[M].instancedDataArray.length,Ii/32)}this.lookup=null}update(n,i,d,g){for(const h in this.instancesPerModel){const v=this.instancesPerModel[h];for(const S in n)v.idToFeaturesIndex.hasOwnProperty(S)&&(this.evaluate(v.features[v.idToFeaturesIndex[S]],n[S],v,!0),this.uploaded=!1)}this.maxHeight=0}updateZoomBasedPaintProperties(){if(!this.hasZoomDependentProperties)return!1;let n=!1;for(const i in this.instancesPerModel){const d=this.instancesPerModel[i];for(const g of d.features){const h=this.layers[0],v=g.feature,S=this.canonical,T=h.paint.get("model-rotation").evaluate(v,{},S),A=h.paint.get("model-scale").evaluate(v,{},S),b=h.paint.get("model-translation").evaluate(v,{},S);Te.vec3.exactEquals(g.rotation,T)&&Te.vec3.exactEquals(g.scale,A)&&Te.vec3.exactEquals(g.translation,b)||(this.evaluate(g,g.featureStates,d,!0),n=!0)}}return n}updateReplacement(n,i,d,g){if(i.updateTime===this.replacementUpdateTime)return!1;this.replacementUpdateTime=i.updateTime;const h=i.getReplacementRegionsForTile(n.toUnwrapped(),!0);if(ty(this.activeReplacements,h))return!1;this.activeReplacements=h;let v=!1;for(const S in this.instancesPerModel){const T=this.instancesPerModel[S],A=T.instancedDataArray;for(const b of T.features){const P=b.instancedDataOffset,$=b.instancedDataCount;for(let M=0;M<$;M++){const O=16*(M+P);let N=A.float32[O+0];const W=N>Ii;N=W?N-Ii:N;const q=Math.floor(N),ae=A.float32[O+1];let ce=!1;for(const ne of this.activeReplacements)if(!y0(ne,d,O1.Model,g)&&!(ne.min.x>q||q>ne.max.x||ne.min.y>ae||ae>ne.max.y)&&(ce=yb(vb(q,ae,n.canonical,ne.footprintTileId.canonical),ne.footprint),ce))break;A.float32[O]=ce?N+Ii:N,v=v||ce!==W}}}return v}isEmpty(){for(const n in this.instancesPerModel)if(this.instancesPerModel[n].instancedDataArray.length!==0)return!1;return!0}uploadPending(){return!this.uploaded}upload(n){if(!this.uploaded)for(const i in this.instancesPerModel){const d=this.instancesPerModel[i];d.instancedDataArray.length<0||d.instancedDataArray.length===0||(d.instancedDataBuffer?d.instancedDataBuffer.updateData(d.instancedDataArray):d.instancedDataBuffer=n.createVertexBuffer(d.instancedDataArray,ZC.members,!0,void 0,this.instanceCount))}this.uploaded=!0}destroy(){for(const i in this.instancesPerModel){const d=this.instancesPerModel[i];d.instancedDataArray.length!==0&&d.instancedDataBuffer&&d.instancedDataBuffer.destroy()}const n=this.layers[0].modelManager;if(n&&this.modelUris)for(const i of this.modelUris)n.removeModel(i,"")}addFeature(n,i,d){const g=this.layers[0],h=g.layout.get("model-id").evaluate(d,{},this.canonical);if(!h)return Fn(`modelId is not evaluated for layer ${g.id} and it is not going to get rendered.`),h;R1(h,!1)&&(this.modelUris.includes(h)||this.modelUris.push(h)),this.instancesPerModel[h]||(this.instancesPerModel[h]=new A1);const v=this.instancesPerModel[h],S=v.instancedDataArray,T=new $1(d,S.length);for(const A of i)for(const b of A){if(b.x<0||b.x>=Ii||b.y<0||b.y>=Ii)continue;const P=(this.lookupDim-1)/Ii,$=this.lookupDim*(b.y*P|0)+b.x*P|0;if(this.lookup){if(this.lookup[$]!==0)continue;this.lookup[$]=1}this.instanceCount++;const M=S.length;S.resize(M+1),v.instancesEvaluatedElevation.push(0),S.float32[16*M]=b.x,S.float32[16*M+1]=b.y}return T.instancedDataCount=v.instancedDataArray.length-T.instancedDataOffset,T.instancedDataCount>0&&(n.id&&(v.idToFeaturesIndex[n.id]=v.features.length),v.features.push(T),this.evaluate(T,{},v,!1)),h}getModelUris(){return this.modelUris}evaluate(n,i,d,g){const h=this.layers[0],v=n.feature,S=this.canonical,T=n.rotation=h.paint.get("model-rotation").evaluate(v,i,S),A=n.scale=h.paint.get("model-scale").evaluate(v,i,S),b=n.translation=h.paint.get("model-translation").evaluate(v,i,S),P=h.paint.get("model-color").evaluate(v,i,S);P.a=h.paint.get("model-color-mix-intensity").evaluate(v,i,S);const $=[];this.maxVerticalOffset<b[2]&&(this.maxVerticalOffset=b[2]),this.maxScale=Math.max(Math.max(this.maxScale,A[0]),Math.max(A[1],A[2])),M1($,T,A);const M=Math.round(100*P.a)+P.b/1.05;for(let O=0;O<n.instancedDataCount;++O){const N=n.instancedDataOffset+O,W=16*N,q=d.instancedDataArray.float32;let ae=0;g&&(ae=q[W+6]-d.instancesEvaluatedElevation[N]);const ce=0|q[W+1];q[W]=(0|q[W])+P.r/1.05,q[W+1]=ce+P.g/1.05,q[W+2]=M,q[W+3]=1/(S.z>10?this.tileToMeter:r(S,ce)),q[W+4]=b[0],q[W+5]=b[1],q[W+6]=b[2]+ae,q[W+7]=$[0],q[W+8]=$[1],q[W+9]=$[2],q[W+10]=$[4],q[W+11]=$[5],q[W+12]=$[6],q[W+13]=$[8],q[W+14]=$[9],q[W+15]=$[10],d.instancesEvaluatedElevation[N]=b[2]}}}let D1,z1;lo(Zy,"ModelBucket",{omit:["layers"]}),lo(A1,"PerModelAttributes"),lo($1,"ModelFeature");const Ah=64,Lm={CoordinateSpaceTile:1,CoordinateSpaceYUp:2,HasMapboxMeshFeatures:4,HasMeshoptCompression:8};function L1(u,n,i,d,g,h,v,S,T,A=!1){const b=i.zoom,P=i.project(d),$=zc(d.lat,b),M=1/$;Te.mat4.identity(u),Te.mat4.translate(u,u,[P.x+v[0]*M,P.y+v[1]*M,v[2]]);let O=1,N=1;const W=i.worldSize;if(A){if(i.projection.name==="mercator"){let ne=0;i.elevation&&(ne=i.elevation.getAtPointOrZero(new l(P.x/W,P.y/W),0));const ge=Te.vec4.transformMat4([],[P.x,P.y,ne,1],i.projMatrix)[3]/i.cameraToCenterDistance;O=ge,N=ge*zc(i.center.lat,b)}else if(i.projection.name==="globe"){const ne=jy(u,i),ge=Te.mat4.multiply([],i.projMatrix,ne),Ce=[0,0,0,1];Te.vec4.transformMat4(Ce,Ce,ge);const De=Ce[3]/i.cameraToCenterDistance,ut=Tc(b),st=i.projection.pixelsPerMeter(d.lat,W)*zc(d.lat,b),tt=i.projection.pixelsPerMeter(i.center.lat,W)*zc(i.center.lat,b);O=De/Rr(st,Dp(i.center.lat),ut),N=De*$/st,O*=tt,N*=tt}}else O=M;Te.mat4.scale(u,u,[O,O,N]);const q=[...u],ae=n.orientation,ce=[];if(M1(ce,[ae[0]+g[0],ae[1]+g[1],ae[2]+g[2]],h),Te.mat4.multiply(u,q,ce),S&&i.elevation){let ne=0;const ge=[];if(T&&i.elevation){ne=function(ut,st,tt,Zt,pt){const Yt=st.elevation;if(!Yt)return 0;const un=Eo.projectAabbCorners(tt,Zt),on=Ol(1,pt.lat)*st.worldSize,hn=function(go,ji){const qi=[0,0,1],la=[{corners:[0,1,3,2],dotProductWithUp:0},{corners:[1,5,2,6],dotProductWithUp:0},{corners:[0,4,1,5],dotProductWithUp:0},{corners:[2,6,3,7],dotProductWithUp:0},{corners:[4,7,5,6],dotProductWithUp:0},{corners:[0,3,4,7],dotProductWithUp:0}];for(const za of la){const Ba=go[za.corners[0]],Fa=go[za.corners[1]],Ja=go[za.corners[2]],Qa=[Fa[0]-Ba[0],Fa[1]-Ba[1],ji*(Fa[2]-Ba[2])],js=Te.vec3.cross(Qa,Qa,[Ja[0]-Ba[0],Ja[1]-Ba[1],ji*(Ja[2]-Ba[2])]);Te.vec3.normalize(js,js),za.dotProductWithUp=Te.vec3.dot(js,qi)}return la.sort((za,Ba)=>za.dotProductWithUp-Ba.dotProductWithUp),la[0].corners}(un,on),On=un[hn[0]],kn=un[hn[1]],Cn=un[hn[2]],Sr=un[hn[3]],Gr=Yt.getAtPointOrZero(new l(On[0]/st.worldSize,On[1]/st.worldSize),0),br=Yt.getAtPointOrZero(new l(kn[0]/st.worldSize,kn[1]/st.worldSize),0),Bi=Yt.getAtPointOrZero(new l(Cn[0]/st.worldSize,Cn[1]/st.worldSize),0),Ti=Yt.getAtPointOrZero(new l(Sr[0]/st.worldSize,Sr[1]/st.worldSize),0),di=(Gr+Ti)/2,Hr=(br+Bi)/2;return di>Hr?br<Bi?_g(ut,kn,Sr,On,br,Ti,Gr,on):_g(ut,Cn,On,Sr,Bi,Gr,Ti,on):Gr<Ti?_g(ut,On,kn,Cn,Gr,br,Bi,on):_g(ut,Sr,Cn,kn,Ti,Bi,br,on),Math.max(di,Hr)}(ge,i,n.aabb,u,d);const Ce=Te.mat4.fromQuat([],ge),De=Te.mat4.multiply([],Ce,ce);Te.mat4.multiply(u,q,De)}else ne=i.elevation.getAtPointOrZero(new l(P.x/W,P.y/W),0);ne!==0&&(u[14]+=ne)}}function Nm(u,n,i=!1){u.uploaded||(u.gfxTexture=new Ay(n,u.image,i?n.gl.R8:n.gl.RGBA8,{useMipmap:u.sampler.minFilter>=n.gl.NEAREST_MIPMAP_NEAREST}),u.uploaded=!0,u.image=null)}function VC(u,n,i){u.indexBuffer=n.createIndexBuffer(u.indexArray,!1,!0),u.vertexBuffer=n.createVertexBuffer(u.vertexArray,FC.members,!1,!0),u.normalArray&&(u.normalBuffer=n.createVertexBuffer(u.normalArray,V0.members,!1,!0)),u.texcoordArray&&(u.texcoordBuffer=n.createVertexBuffer(u.texcoordArray,zm.members,!1,!0)),u.colorArray&&(u.colorBuffer=n.createVertexBuffer(u.colorArray,(u.colorArray.bytesPerElement===12?kC:jC).members,!1,!0)),u.featureArray&&(u.pbrBuffer=n.createVertexBuffer(u.featureArray,P1.members,!0)),u.segments=cl.simpleSegment(0,0,u.vertexArray.length,u.indexArray.length);const d=u.material;d.pbrMetallicRoughness.baseColorTexture&&Nm(d.pbrMetallicRoughness.baseColorTexture,n),d.pbrMetallicRoughness.metallicRoughnessTexture&&Nm(d.pbrMetallicRoughness.metallicRoughnessTexture,n),d.normalTexture&&Nm(d.normalTexture,n),d.occlusionTexture&&Nm(d.occlusionTexture,n,i),d.emissionTexture&&Nm(d.emissionTexture,n)}function Vy(u,n,i){if(u.meshes)for(const d of u.meshes)VC(d,n,i);if(u.children)for(const d of u.children)Vy(d,n,i)}function H0(u){if(u.meshes)for(const n of u.meshes)n.indexArray.destroy(),n.vertexArray.destroy(),n.colorArray&&n.colorArray.destroy(),n.normalArray&&n.normalArray.destroy(),n.texcoordArray&&n.texcoordArray.destroy(),n.featureArray&&n.featureArray.destroy();if(u.children)for(const n of u.children)H0(n)}function Hy(u){if(u.meshes)for(const i of u.meshes)i.vertexBuffer&&(i.vertexBuffer.destroy(),i.indexBuffer.destroy(),i.normalBuffer&&i.normalBuffer.destroy(),i.texcoordBuffer&&i.texcoordBuffer.destroy(),i.colorBuffer&&i.colorBuffer.destroy(),i.pbrBuffer&&i.pbrBuffer.destroy(),i.segments.destroy(),i.material&&((n=i.material).pbrMetallicRoughness.baseColorTexture&&n.pbrMetallicRoughness.baseColorTexture.gfxTexture&&n.pbrMetallicRoughness.baseColorTexture.gfxTexture.destroy(),n.pbrMetallicRoughness.metallicRoughnessTexture&&n.pbrMetallicRoughness.metallicRoughnessTexture.gfxTexture&&n.pbrMetallicRoughness.metallicRoughnessTexture.gfxTexture.destroy(),n.normalTexture&&n.normalTexture.gfxTexture&&n.normalTexture.gfxTexture.destroy(),n.emissionTexture&&n.emissionTexture.gfxTexture&&n.emissionTexture.gfxTexture.destroy(),n.occlusionTexture&&n.occlusionTexture.gfxTexture&&n.occlusionTexture.gfxTexture.destroy()));var n;if(u.children)for(const i of u.children)Hy(i)}class Bm{constructor(n,i,d){this._demTile=n,this._dem=this._demTile.dem,this._scale=i,this._offset=d}static create(n,i,d){const g=d||n.findDEMTileFor(i);if(!g||!g.dem)return;const h=g.dem,v=g.tileID,S=1<<i.canonical.z-v.canonical.z;return new Bm(g,h.dim/Ii/S,[(i.canonical.x/S-v.canonical.x)*h.dim,(i.canonical.y/S-v.canonical.y)*h.dim])}tileCoordToPixel(n,i){const d=i*this._scale+this._offset[1],g=Math.floor(n*this._scale+this._offset[0]),h=Math.floor(d);return new In(g,h)}getElevationAt(n,i,d,g){const h=n*this._scale+this._offset[0],v=i*this._scale+this._offset[1],S=Math.floor(h),T=Math.floor(v),A=this._dem;return g=!!g,d?Rr(Rr(A.get(S,T,g),A.get(S,T+1,g),v-T),Rr(A.get(S+1,T,g),A.get(S+1,T+1,g),v-T),h-S):A.get(S,T,g)}getElevationAtPixel(n,i,d){return this._dem.get(n,i,!!d)}getMeterToDEM(n){return(1<<this._demTile.tileID.canonical.z)*Ol(1,n)*this._dem.stride}}const Uy=new Float32Array(262144),Dh=new Uint8Array(262144);function N1(u){let n=0;if(u.meshes)for(const i of u.meshes)n=Math.max(n,i.aabb.max[2]);if(u.children)for(const i of u.children)n=Math.max(n,N1(i));return n}function HC(u,n,i){if(u.meshes)for(const d of u.meshes){if(d.aabb.min[0]===1/0)continue;const g=Eo.applyTransform(d.aabb,u.matrix);i.insert(n,g.min[0],g.min[1],g.max[0],g.max[1])}if(u.children)for(const d of u.children)HC(d,n,i)}const B1=["","wall","door","roof","window","lamp","logo"];class F1{constructor(n){this.node=n,this.evaluatedRMEA=[[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[.4,1,0,1],[1,0,0,1],[1,0,0,1]],this.hiddenByReplacement=!1,this.evaluatedScale=[1,1,1],this.evaluatedColor=[],this.emissionHeightBasedParams=[],this.cameraCollisionOpacity=1,this.feature={type:"Point",id:n.id,geometry:[],properties:{height:N1(n)}},this.aabb=this._getLocalBounds(),this.state=null}_getLocalBounds(){if(!this.node.meshes)return new Eo([1/0,1/0,1/0],[-1/0,-1/0,-1/0]);if(!this.aabb){let n=0;const i=new Eo([1/0,1/0,1/0],[-1/0,-1/0,-1/0]);for(const d of this.node.meshes)this.node.lightMeshIndex!==n&&(d.transformedAabb=Eo.applyTransformFast(d.aabb,this.node.matrix),i.encapsulate(d.transformedAabb)),n++;this.aabb=i}return this.aabb}}class U0{constructor(n,i,d,g,h,v,S){this.id=d,this.layers=n,this.layerIds=this.layers.map(T=>T.fqid),this.stateDependentLayerIds=this.layers.filter(T=>T.isStateDependent()).map(T=>T.id),this.modelTraits|=Lm.CoordinateSpaceTile,this.uploaded=!1,this.hasPattern=!1,g&&(this.modelTraits|=Lm.HasMapboxMeshFeatures),h&&(this.modelTraits|=Lm.HasMeshoptCompression),this.zoom=-1,this.terrainExaggeration=1,this.projection={name:"mercator"},this.replacementUpdateTime=0,this.elevationReadFromZ=255,this.brightness=v,this.dirty=!0,this.needsUpload=!1,this.nodesInfo=[];for(const T of i)this.nodesInfo.push(new F1(T)),HC(T,S.featureIndexArray.length,S.grid),S.featureIndexArray.emplaceBack(this.nodesInfo.length-1,0,S.bucketLayerIDs.length-1,0);this.states={}}updateFootprints(n,i){for(const d of this.getNodesInfo()){const g=d.node;g.footprint&&i.push({footprint:g.footprint,id:n})}}update(n){const i=Object.keys(n).length!==0;if(i&&!this.stateDependentLayers.length)return;const d=i?this.stateDependentLayers:this.layers;if(!Nr(n,this.states))for(const g of d)this.evaluate(g,n);this.states=structuredClone(n)}populate(){console.log("populate 3D model bucket")}uploadPending(){return!this.uploaded||this.needsUpload}upload(n){if(!this.needsUpload)return;const i=this.getNodesInfo();for(const d of i){const g=d.node;this.uploaded?this.updatePbrBuffer(g):Vy(g,n,!0)}for(const d of i)H0(d.node);this.uploaded=!0,this.needsUpload=!1}updatePbrBuffer(n){let i=!1;if(!n.meshes)return i;for(const d of n.meshes)d.pbrBuffer&&(d.pbrBuffer.updateData(d.featureArray),i=!0);return i}needsReEvaluation(n,i,d){const g=n.transform.projectionOptions,h=n.style.getBrightness(),v=this.brightness!==h;if(!this.uploaded||this.dirty||g.name!==this.projection.name||xg(d.paint.get("model-color").value,v)||xg(d.paint.get("model-color-mix-intensity").value,v)||xg(d.paint.get("model-roughness").value,v)||xg(d.paint.get("model-emissive-strength").value,v)||xg(d.paint.get("model-height-based-emissive-strength-multiplier").value,v)){this.projection=g,this.brightness=h;const S=this.getNodesInfo();for(const T of S)T.state=null;return!0}return!1}evaluateScale(n,i){if(n.transform.zoom===this.zoom)return;this.zoom=n.transform.zoom;const d=this.getNodesInfo(),g=this.id.canonical;for(const h of d){const v=h.feature;h.evaluatedScale=i.paint.get("model-scale").evaluate(v,{},g)}}evaluate(n,i){const d=this.getNodesInfo();for(const g of d){if(!g.node.meshes)continue;const h=g.feature,v=i&&i[h.id];if(Nr(v,g.state))continue;g.state=structuredClone(v);const S=g.node.meshes&&g.node.meshes[0].featureData,T=g.evaluatedColor[2],A=g.evaluatedRMEA[2],b=this.id.canonical;if(g.hasTranslucentParts=!1,S){for(let P=0;P<B1.length;P++){const $=B1[P];$.length&&(h.properties.part=$);const M=n.paint.get("model-color").evaluate(h,v,b).toRenderColor(null),O=n.paint.get("model-color-mix-intensity").evaluate(h,v,b);g.evaluatedColor[P]=[M.r,M.g,M.b,O],g.evaluatedRMEA[P][0]=n.paint.get("model-roughness").evaluate(h,v,b),g.evaluatedRMEA[P][2]=n.paint.get("model-emissive-strength").evaluate(h,v,b),g.evaluatedRMEA[P][3]=M.a,g.emissionHeightBasedParams[P]=n.paint.get("model-height-based-emissive-strength-multiplier").evaluate(h,v,b),!g.hasTranslucentParts&&M.a<1&&(g.hasTranslucentParts=!0)}delete h.properties.part,WC(g,T!==g.evaluatedColor[2]||A!==g.evaluatedRMEA[2],this.modelTraits)}else g.evaluatedRMEA[0][2]=n.paint.get("model-emissive-strength").evaluate(h,v,b);g.evaluatedScale=n.paint.get("model-scale").evaluate(h,v,b),this.updatePbrBuffer(g.node)||(this.needsUpload=!0)}this.dirty=!1}elevationUpdate(n,i,d,g){const h=n.findDEMTileFor(d);if(h&&(h.tileID.canonical!==this.terrainTile||i!==this.terrainExaggeration)){if(h.dem&&h.tileID.overscaledZ!==this.elevationReadFromZ){this.elevationReadFromZ=h.tileID.overscaledZ;const v=Bm.create(n,d,h);if(!v)return;this.modelTraits&Lm.HasMapboxMeshFeatures&&this.updateDEM(n,v,d,g);for(const S of this.getNodesInfo()){const T=S.node;if(!T.footprint||!T.footprint.vertices||!T.footprint.vertices.length)continue;const A=T.footprint.vertices;let b=v.getElevationAt(A[0].x,A[0].y,!0,!0);for(let P=1;P<A.length;P++)b=Math.min(b,v.getElevationAt(A[P].x,A[P].y,!0,!0));T.elevation=b}}this.terrainTile=h.tileID.canonical,this.terrainExaggeration=i}}updateDEM(n,i,d,g){let h=i._dem._modifiedForSources[g];if(h===void 0&&(i._dem._modifiedForSources[g]=[],h=i._dem._modifiedForSources[g]),h.includes(d.canonical))return;const v=i._dem.dim;h.push(d.canonical);let S=!1;for(const T of this.getNodesInfo()){const A=T.node;if(!A.footprint||!A.footprint.grid)continue;const b=A.footprint.grid,P=i.tileCoordToPixel(b.min.x,b.min.y),$=i.tileCoordToPixel(b.max.x,b.max.y),M=Math.min(Math.min(v-$.y,P.x),Math.min(P.y,v-$.x));if(M<0)continue;const O=Un(M,2,5);let N=Math.max(0,P.x-O),W=Math.max(0,P.y-O),q=Math.min($.x+O,v-1),ae=Math.min($.y+O,v-1);for(let Ce=W;Ce<=ae;++Ce)for(let De=N;De<=q;++De)Dh[Ce*v+De]=255;let ce=0,ne=0;for(let Ce=0;Ce<b.cellsY;++Ce)for(let De=0;De<b.cellsX;++De){if(!b.cells[Ce*b.cellsX+De])continue;const ut=i.tileCoordToPixel(b.min.x+De/b.xScale,b.min.y+Ce/b.yScale),st=i.tileCoordToPixel(b.min.x+(De+1)/b.xScale,b.min.y+(Ce+1)/b.yScale);for(let tt=ut.y;tt<=Math.min(st.y+1,v-1);++tt)for(let Zt=ut.x;Zt<=Math.min(st.x+1,v-1);++Zt)Dh[tt*v+Zt]===255&&(Dh[tt*v+Zt]=0,ce+=i.getElevationAtPixel(Zt,tt),ne++)}const ge=ce/ne;N=Math.max(1,P.x-O),W=Math.max(1,P.y-O),q=Math.min($.x+O,v-2),ae=Math.min($.y+O,v-2),S=!0;for(let Ce=W;Ce<=ae;++Ce)for(let De=N;De<=q;++De)Dh[Ce*v+De]===0&&(Uy[Ce*v+De]=i._dem.set(De,Ce,ge));for(let Ce=1;Ce<O;++Ce){N=Math.max(1,P.x-Ce),W=Math.max(1,P.y-Ce),q=Math.min($.x+Ce,v-2),ae=Math.min($.y+Ce,v-2);for(let De=W;De<=ae;++De)for(let ut=N;ut<=q;++ut){const st=De*v+ut;if(Dh[st]===255){let tt=0,Zt=0,pt=-1,Yt=-1;for(let un=-1;un<=1;++un)for(let on=-1;on<=1;++on){const hn=(De+un)*v+ut+on;if(Dh[hn]>=Ce)continue;const On=Uy[hn],kn=Math.abs(On);kn>Zt&&(tt=On,Zt=kn,pt=on,Yt=un)}if(Zt>.1){const un=1-(Ce+.5*Math.abs(pt*Yt))/O;let on=i._dem.get(ut,De)+tt*un;const hn=i._dem.get(ut+pt,De+Yt),On=i._dem.get(ut-pt,De-Yt,!0);(on-hn)*(on-On)>0&&(on=(hn+On)/2),Uy[st]=i._dem.set(ut,De,on),Dh[st]=Ce}}}}}S&&(i._demTile.needsDEMTextureUpload=!0,i._dem._timestamp=he.now())}getNodesInfo(){return this.nodesInfo}destroy(){const n=this.getNodesInfo();for(const i of n)H0(i.node),Hy(i.node)}isEmpty(){return!this.nodesInfo.length}updateReplacement(n,i){if(i.updateTime===this.replacementUpdateTime)return;this.replacementUpdateTime=i.updateTime;const d=i.getReplacementRegionsForTile(n.toUnwrapped()),g=this.getNodesInfo();for(let h=0;h<this.nodesInfo.length;h++){const v=g[h].node;g[h].hiddenByReplacement=!!v.footprint&&!d.find(S=>S.footprint===v.footprint)}}getHeightAtTileCoord(n,i){const d=this.getNodesInfo(),g=[],h=[0,0,0],v=Te.mat4.identity([]);for(let S=0;S<this.nodesInfo.length;S++){const T=d[S],A=T.node.meshes[0],b=A.transformedAabb;if(n<b.min[0]||i<b.min[1]||n>b.max[0]||i>b.max[1])continue;if(T.node.hidden===!0)return{height:1/0,maxHeight:T.feature.properties.height,hidden:!1,verticalScale:T.evaluatedScale[2]};Te.mat4.invert(v,T.node.matrix),h[0]=n,h[1]=i,Te.vec3.transformMat4(h,h,v);const P=(h[0]-A.aabb.min[0])/(A.aabb.max[0]-A.aabb.min[0])*Ah|0,$=Math.min(63,(h[1]-A.aabb.min[1])/(A.aabb.max[1]-A.aabb.min[1])*Ah|0)*Ah+Math.min(63,P),M=A.heightmap[$];if(!(M<0&&T.node.footprint))return T.hiddenByReplacement?void 0:{height:M,maxHeight:T.feature.properties.height,hidden:!1,verticalScale:T.evaluatedScale[2]};if(T.node.footprint.grid.query(new In(n,i),new In(n,i),g),g.length>0)return{height:void 0,maxHeight:T.feature.properties.height,hidden:T.hiddenByReplacement,verticalScale:T.evaluatedScale[2]}}}}function xg(u,n){return!u.isLightConstant&&n}function UC(u,n,i,d,g,h,v,S){let T=(61440&n|(61440&n)>>4)>>8,A=(3840&n|(3840&n)>>4)>>4,b=240&n|(240&n)>>4;i[3]>0&&(T=Rr(T,255*i[0],i[3]),A=Rr(A,255*i[1],i[3]),b=Rr(b,255*i[2],i[3]));const P=T<<8|A,$=b<<8|Math.floor(255*d[3]),M=function(Ce){const De=Un(Ce,0,2);return Math.min(Math.round(.5*De*255),255)}(d[2])<<8|15*d[0]<<4|15*d[1],O=Un(g[0],0,1),N=Un(g[1],0,1),W=Un(g[2],0,1),q=Un(g[3],0,1);let ae,ce,ne,ge;if(O!==N&&v!==h&&N!==O){const Ce=v-h;ce=1/(Ce*(N-O)),ne=-(h+Ce*O)/(Ce*(N-O));const De=Un(g[4],-1,1);ge=Math.pow(10,De),ae=255*W<<8|255*q}else ae=65535,ce=0,ne=1,ge=1;if(u.emplaceBack(P,$,M,ae,ce,ne,ge),S){const Ce=S.length;S.clear();for(let De=0;De<Ce;De++)S.emplaceBack(P,$,M,ae,ce,ne,ge)}}function WC(u,n,i){const d=u.node;let g=0;const h=i&Lm.HasMeshoptCompression;for(const v of d.meshes){if(d.lights&&d.lightMeshIndex===g||!v.featureData)continue;v.featureArray=new Hd,v.featureArray.reserve(v.featureData.length);let S=n;for(const T of v.featureData){const A=h?65535&T:T>>16&65535,b=h?T>>16&65535:65535&T,P=(15&b)<8?15&b:0,$=u.evaluatedRMEA[P],M=u.evaluatedColor[P],O=u.emissionHeightBasedParams[P];let N;if(S&&P===2&&d.lights&&(N=new Hd,N.resize(10*d.lights.length)),UC(v.featureArray,A,M,$,O,v.aabb.min[2],v.aabb.max[2],N),N&&S){S=!1;const W=d.meshes[d.lightMeshIndex];W.featureArray=N,W.featureArray._trim()}}v.featureArray._trim(),g++}}function k1(u,n,i,d){const g=1<<u.z;n.lat=dc((d/Ii+u.y)/g),n.lng=Bc((i/Ii+u.x)/g)}lo(U0,"Tiled3dModelBucket",{omit:["layers"]}),lo(F1,"Tiled3dModelFeature");const GC={circle:class extends Ll{constructor(u,n,i,d){super(u,{layout:Kr||(Kr=new nl({"circle-sort-key":new Ki(Gn.layout_circle["circle-sort-key"]),"circle-elevation-reference":new pi(Gn.layout_circle["circle-elevation-reference"]),visibility:new pi(Gn.layout_circle.visibility)})),paint:Ln||(Ln=new nl({"circle-radius":new Ki(Gn.paint_circle["circle-radius"]),"circle-color":new Ki(Gn.paint_circle["circle-color"]),"circle-blur":new Ki(Gn.paint_circle["circle-blur"]),"circle-opacity":new Ki(Gn.paint_circle["circle-opacity"]),"circle-translate":new pi(Gn.paint_circle["circle-translate"]),"circle-translate-anchor":new pi(Gn.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new pi(Gn.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new pi(Gn.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Ki(Gn.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Ki(Gn.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Ki(Gn.paint_circle["circle-stroke-opacity"]),"circle-emissive-strength":new pi(Gn.paint_circle["circle-emissive-strength"]),"circle-color-use-theme":new Ki({type:"string",default:"default","property-type":"data-driven"}),"circle-stroke-color-use-theme":new Ki({type:"string",default:"default","property-type":"data-driven"})}))},n,i,d)}createBucket(u){return new Ee(u)}queryRadius(u){const n=u;return Pr("circle-radius",this,n)+Pr("circle-stroke-width",this,n)+Er(this.paint.get("circle-translate"))}queryIntersectsFeature(u,n,i,d,g,h,v,S){const T=ar(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),h.angle,u.pixelToTileUnitsFactor),A=this.paint.get("circle-radius").evaluate(n,i)+this.paint.get("circle-stroke-width").evaluate(n,i);return wm(u,d,h,v,S,this.paint.get("circle-pitch-alignment")==="map",this.paint.get("circle-pitch-scale")==="map",T,A)}getProgramIds(){return["circle"]}getDefaultProgramParams(u,n,i){const d=_d(this);return{config:new $u(this,{zoom:n,lut:i}),defines:d,overrideFog:!1}}},heatmap:class extends Ll{createBucket(u){return new Nv(u)}constructor(u,n,i,d){super(u,{layout:W_||(W_=new nl({visibility:new pi(Gn.layout_heatmap.visibility)})),paint:Bv||(Bv=new nl({"heatmap-radius":new Ki(Gn.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Ki(Gn.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new pi(Gn.paint_heatmap["heatmap-intensity"]),"heatmap-color":new kd(Gn.paint_heatmap["heatmap-color"]),"heatmap-opacity":new pi(Gn.paint_heatmap["heatmap-opacity"]),"heatmap-color-use-theme":new Ki({type:"string",default:"default","property-type":"data-driven"})}))},n,i,d),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(u){u==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=Np({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(u){return Pr("heatmap-radius",this,u)}queryIntersectsFeature(u,n,i,d,g,h,v,S){const T=this.paint.get("heatmap-radius").evaluate(n,i);return wm(u,d,h,v,S,!0,!0,new In(0,0),T)}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}getProgramIds(){return["heatmap","heatmapTexture"]}getDefaultProgramParams(u,n,i){return u==="heatmap"?{config:new $u(this,{zoom:n,lut:i}),overrideFog:!1}:{}}},hillshade:class extends Ll{constructor(u,n,i,d){super(u,{layout:Fv||(Fv=new nl({visibility:new pi(Gn.layout_hillshade.visibility)})),paint:kv||(kv=new nl({"hillshade-illumination-direction":new pi(Gn.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new pi(Gn.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new pi(Gn.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new pi(Gn.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new pi(Gn.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new pi(Gn.paint_hillshade["hillshade-accent-color"]),"hillshade-emissive-strength":new pi(Gn.paint_hillshade["hillshade-emissive-strength"]),"hillshade-shadow-color-use-theme":new Ki({type:"string",default:"default","property-type":"data-driven"}),"hillshade-highlight-color-use-theme":new Ki({type:"string",default:"default","property-type":"data-driven"}),"hillshade-accent-color-use-theme":new Ki({type:"string",default:"default","property-type":"data-driven"})}))},n,i,d)}shouldRedrape(){return this.hasOffscreenPass()&&this.paint.get("hillshade-illumination-anchor")==="viewport"}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}getProgramIds(){return["hillshade","hillshadePrepare"]}getDefaultProgramParams(u,n,i){return{overrideFog:!1}}},fill:class extends Ll{constructor(u,n,i,d){super(u,{layout:Gv||(Gv=new nl({"fill-sort-key":new Ki(Gn.layout_fill["fill-sort-key"]),visibility:new pi(Gn.layout_fill.visibility),"fill-elevation-reference":new pi(Gn.layout_fill["fill-elevation-reference"])})),paint:rb||(rb=new nl({"fill-antialias":new pi(Gn.paint_fill["fill-antialias"]),"fill-opacity":new Ki(Gn.paint_fill["fill-opacity"]),"fill-color":new Ki(Gn.paint_fill["fill-color"]),"fill-outline-color":new Ki(Gn.paint_fill["fill-outline-color"]),"fill-translate":new pi(Gn.paint_fill["fill-translate"]),"fill-translate-anchor":new pi(Gn.paint_fill["fill-translate-anchor"]),"fill-pattern":new Ki(Gn.paint_fill["fill-pattern"]),"fill-emissive-strength":new pi(Gn.paint_fill["fill-emissive-strength"]),"fill-z-offset":new Ki(Gn.paint_fill["fill-z-offset"]),"fill-color-use-theme":new Ki({type:"string",default:"default","property-type":"data-driven"}),"fill-outline-color-use-theme":new Ki({type:"string",default:"default","property-type":"data-driven"})}))},n,i,d)}getProgramIds(){const u=this.paint.get("fill-pattern"),n=u&&u.constantOr(1),i=[n?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&i.push(n&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),i}getDefaultProgramParams(u,n,i){return{config:new $u(this,{zoom:n,lut:i}),overrideFog:!1}}recalculate(u,n){super.recalculate(u,n);const i=this.paint._values["fill-outline-color"];i.value.kind==="constant"&&i.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(u){return new f0(u)}queryRadius(){return Er(this.paint.get("fill-translate"))}queryIntersectsFeature(u,n,i,d,g,h){return!u.queryGeometry.isAboveHorizon&&Pe(Nn(u.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),h.angle,u.pixelToTileUnitsFactor),d)}isTileClipped(){return!0}is3D(){return this.paint.get("fill-z-offset").constantOr(1)!==0}},"fill-extrusion":class extends Ll{constructor(u,n,i,d){super(u,{layout:x0||(x0=new nl({visibility:new pi(Gn["layout_fill-extrusion"].visibility),"fill-extrusion-edge-radius":new pi(Gn["layout_fill-extrusion"]["fill-extrusion-edge-radius"])})),paint:Rf||(Rf=new nl({"fill-extrusion-opacity":new pi(Gn["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Ki(Gn["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new pi(Gn["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new pi(Gn["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Ki(Gn["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Ki(Gn["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Ki(Gn["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-height-alignment":new pi(Gn["paint_fill-extrusion"]["fill-extrusion-height-alignment"]),"fill-extrusion-base-alignment":new pi(Gn["paint_fill-extrusion"]["fill-extrusion-base-alignment"]),"fill-extrusion-vertical-gradient":new pi(Gn["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"]),"fill-extrusion-ambient-occlusion-intensity":new pi(Gn["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-intensity"]),"fill-extrusion-ambient-occlusion-radius":new pi(Gn["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-radius"]),"fill-extrusion-ambient-occlusion-wall-radius":new pi(Gn["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-wall-radius"]),"fill-extrusion-ambient-occlusion-ground-radius":new pi(Gn["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-ground-radius"]),"fill-extrusion-ambient-occlusion-ground-attenuation":new pi(Gn["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-ground-attenuation"]),"fill-extrusion-flood-light-color":new pi(Gn["paint_fill-extrusion"]["fill-extrusion-flood-light-color"]),"fill-extrusion-flood-light-intensity":new pi(Gn["paint_fill-extrusion"]["fill-extrusion-flood-light-intensity"]),"fill-extrusion-flood-light-wall-radius":new Ki(Gn["paint_fill-extrusion"]["fill-extrusion-flood-light-wall-radius"]),"fill-extrusion-flood-light-ground-radius":new Ki(Gn["paint_fill-extrusion"]["fill-extrusion-flood-light-ground-radius"]),"fill-extrusion-flood-light-ground-attenuation":new pi(Gn["paint_fill-extrusion"]["fill-extrusion-flood-light-ground-attenuation"]),"fill-extrusion-vertical-scale":new pi(Gn["paint_fill-extrusion"]["fill-extrusion-vertical-scale"]),"fill-extrusion-rounded-roof":new pi(Gn["paint_fill-extrusion"]["fill-extrusion-rounded-roof"]),"fill-extrusion-cutoff-fade-range":new pi(Gn["paint_fill-extrusion"]["fill-extrusion-cutoff-fade-range"]),"fill-extrusion-emissive-strength":new Ki(Gn["paint_fill-extrusion"]["fill-extrusion-emissive-strength"]),"fill-extrusion-line-width":new Ki(Gn["paint_fill-extrusion"]["fill-extrusion-line-width"]),"fill-extrusion-cast-shadows":new pi(Gn["paint_fill-extrusion"]["fill-extrusion-cast-shadows"]),"fill-extrusion-color-use-theme":new Ki({type:"string",default:"default","property-type":"data-driven"}),"fill-extrusion-flood-light-color-use-theme":new Ki({type:"string",default:"default","property-type":"data-driven"})}))},n,i,d),this._stats={numRenderedVerticesInShadowPass:0,numRenderedVerticesInTransparentPass:0}}createBucket(u){return new Kp(u)}queryRadius(){return Er(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}hasShadowPass(){return this.paint.get("fill-extrusion-cast-shadows")}cutoffRange(){return this.paint.get("fill-extrusion-cutoff-fade-range")}canCastShadows(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}queryIntersectsFeature(u,n,i,d,g,h,v,S,T){const A=ar(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),h.angle,u.pixelToTileUnitsFactor),b=this.paint.get("fill-extrusion-height").evaluate(n,i),P=this.paint.get("fill-extrusion-base").evaluate(n,i),$=[0,0],M=S&&h.elevation,O=h.elevation?h.elevation.exaggeration():1,N=u.tile.getBucket(this);if(M&&N instanceof Kp){const ne=N.centroidVertexArray,ge=T+1;ge<ne.length&&($[0]=ne.geta_centroid_pos0(ge),$[1]=ne.geta_centroid_pos1(ge))}if($[0]===0&&$[1]===1)return!1;h.projection.name==="globe"&&(d=Pb([d],[new In(0,0),new In(Ii,Ii)],u.tileID.canonical).map(ne=>ne.polygon).flat());const W=M?S:null,[q,ae]=function(ne,ge,Ce,De,ut,st,tt,Zt,pt,Yt,un){return ne.projection.name==="globe"?function(on,hn,On,kn,Cn,Sr,Gr,br,Bi,Ti,di){const Hr=[],go=[],ji=on.projection.upVectorScale(di,on.center.lat,on.worldSize).metersToTile,qi=[0,0,0,1],la=[0,0,0,1],za=(Fa,Ja,Qa,js)=>{Fa[0]=Ja,Fa[1]=Qa,Fa[2]=js,Fa[3]=1},Ba=Tb();On>0&&(On+=Ba),kn+=Ba;for(const Fa of hn){const Ja=[],Qa=[];for(const js of Fa){const Ts=js.x+Cn.x,Sa=js.y+Cn.y,Es=on.projection.projectTilePoint(Ts,Sa,di),Is=on.projection.upVector(di,js.x,js.y);let Xs=On,wl=kn;if(Gr){const jl=oy(Ts,Sa,On,kn,Gr,br,Bi,Ti);Xs+=jl.base,wl+=jl.top}On!==0?za(qi,Es.x+Is[0]*ji*Xs,Es.y+Is[1]*ji*Xs,Es.z+Is[2]*ji*Xs):za(qi,Es.x,Es.y,Es.z),za(la,Es.x+Is[0]*ji*wl,Es.y+Is[1]*ji*wl,Es.z+Is[2]*ji*wl),Te.vec3.transformMat4(qi,qi,Sr),Te.vec3.transformMat4(la,la,Sr),Ja.push(new Tf(qi[0],qi[1],qi[2])),Qa.push(new Tf(la[0],la[1],la[2]))}Hr.push(Ja),go.push(Qa)}return[Hr,go]}(ne,ge,Ce,De,ut,st,tt,Zt,pt,Yt,un):tt?function(on,hn,On,kn,Cn,Sr,Gr,br,Bi){const Ti=[],di=[],Hr=[0,0,0,1];for(const go of on){const ji=[],qi=[];for(const la of go){const za=la.x+kn.x,Ba=la.y+kn.y,Fa=oy(za,Ba,hn,On,Sr,Gr,br,Bi);Hr[0]=za,Hr[1]=Ba,Hr[2]=Fa.base,Hr[3]=1,Te.vec4.transformMat4(Hr,Hr,Cn),Hr[3]=Math.max(Hr[3],1e-5);const Ja=new Tf(Hr[0]/Hr[3],Hr[1]/Hr[3],Hr[2]/Hr[3]);Hr[0]=za,Hr[1]=Ba,Hr[2]=Fa.top,Hr[3]=1,Te.vec4.transformMat4(Hr,Hr,Cn),Hr[3]=Math.max(Hr[3],1e-5);const Qa=new Tf(Hr[0]/Hr[3],Hr[1]/Hr[3],Hr[2]/Hr[3]);ji.push(Ja),qi.push(Qa)}Ti.push(ji),di.push(qi)}return[Ti,di]}(ge,Ce,De,ut,st,tt,Zt,pt,Yt):function(on,hn,On,kn,Cn){const Sr=[],Gr=[],br=Cn[8]*hn,Bi=Cn[9]*hn,Ti=Cn[10]*hn,di=Cn[11]*hn,Hr=Cn[8]*On,go=Cn[9]*On,ji=Cn[10]*On,qi=Cn[11]*On;for(const la of on){const za=[],Ba=[];for(const Fa of la){const Ja=Fa.x+kn.x,Qa=Fa.y+kn.y,js=Cn[0]*Ja+Cn[4]*Qa+Cn[12],Ts=Cn[1]*Ja+Cn[5]*Qa+Cn[13],Sa=Cn[2]*Ja+Cn[6]*Qa+Cn[14],Es=Cn[3]*Ja+Cn[7]*Qa+Cn[15],Is=js+br,Xs=Ts+Bi,wl=Sa+Ti,jl=Math.max(Es+di,1e-5),El=js+Hr,ml=Ts+go,Il=Sa+ji,sl=Math.max(Es+qi,1e-5);za.push(new Tf(Is/jl,Xs/jl,wl/jl)),Ba.push(new Tf(El/sl,ml/sl,Il/sl))}Sr.push(za),Gr.push(Ba)}return[Sr,Gr]}(ge,Ce,De,ut,st)}(h,d,P,b,A,v,W,$,O,h.center.lat,u.tileID.canonical),ce=u.queryGeometry;return function(ne,ge,Ce){let De=1/0;Pe(Ce,ge)&&(De=Xp(Ce,ge[0]));for(let ut=0;ut<ge.length;ut++){const st=ge[ut],tt=ne[ut];for(let Zt=0;Zt<st.length-1;Zt++){const pt=st[Zt],Yt=[pt,st[Zt+1],tt[Zt+1],tt[Zt],pt];be(Ce,Yt)&&(De=Math.min(De,Xp(Ce,Yt)))}}return De!==1/0&&De}(q,ae,ce.isPointQuery()?ce.screenBounds:ce.screenGeometry)}},line:class extends Ll{constructor(u,n,i,d){const g=I0();super(u,g,n,i,d),g.layout&&(this.layout=new Fd(g.layout)),this.gradientVersion=0,this.hasElevatedBuckets=!1,this.hasNonElevatedBuckets=!1}_handleSpecialPaintPropertyUpdate(u){if(u==="line-gradient"){const n=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=n._styleExpression&&n._styleExpression.expression instanceof cc,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}widthExpression(){return this._transitionablePaint._values["line-width"].value.expression}recalculate(u,n){super.recalculate(u,n),this.paint._values["line-floorwidth"]=(()=>{if(Tm)return Tm;const i=I0();return Tm=new dy(i.paint.properties["line-width"].specification),Tm.useIntegerZoom=!0,Tm})().possiblyEvaluate(this._transitioningPaint._values["line-width"].value,u)}createBucket(u){return new C0(u)}getProgramIds(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}getDefaultProgramParams(u,n,i){const d=$f(this);return{config:new $u(this,{zoom:n,lut:i}),defines:d,overrideFog:!1}}queryRadius(u){const n=u,i=fy(Pr("line-width",this,n),Pr("line-gap-width",this,n)),d=Pr("line-offset",this,n);return i/2+Math.abs(d)+Er(this.paint.get("line-translate"))}queryIntersectsFeature(u,n,i,d,g,h){if(u.queryGeometry.isAboveHorizon)return!1;const v=Nn(u.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),h.angle,u.pixelToTileUnitsFactor),S=u.pixelToTileUnitsFactor/2*fy(this.paint.get("line-width").evaluate(n,i),this.paint.get("line-gap-width").evaluate(n,i)),T=this.paint.get("line-offset").evaluate(n,i);return T&&(d=function(A,b){const P=[],$=new In(0,0);for(let M=0;M<A.length;M++){const O=A[M],N=[];for(let W=0;W<O.length;W++){const q=O[W],ae=O[W+1],ce=W===0?$:q.sub(O[W-1])._unit()._perp(),ne=W===O.length-1?$:ae.sub(q)._unit()._perp(),ge=ce._add(ne)._unit();ge._mult(1/(ge.x*ne.x+ge.y*ne.y)),N.push(ge._mult(b)._add(q))}P.push(N)}return P}(d,T*u.pixelToTileUnitsFactor)),function(A,b,P){for(let $=0;$<b.length;$++){const M=b[$];if(A.length>=3){for(let O=0;O<M.length;O++)if(Pt(A,M[O]))return!0}if(Qe(A,M,P))return!0}return!1}(v,d,S)}isTileClipped(){return!0}isDraped(u){return!this.hasElevatedBuckets}},symbol:pg,background:class extends Ll{constructor(u,n,i,d){super(u,{layout:Py||(Py=new nl({visibility:new pi(Gn.layout_background.visibility)})),paint:g1||(g1=new nl({"background-pitch-alignment":new pi(Gn.paint_background["background-pitch-alignment"]),"background-color":new pi(Gn.paint_background["background-color"]),"background-pattern":new pi(Gn.paint_background["background-pattern"]),"background-opacity":new pi(Gn.paint_background["background-opacity"]),"background-emissive-strength":new pi(Gn.paint_background["background-emissive-strength"]),"background-color-use-theme":new Ki({type:"string",default:"default","property-type":"data-driven"})}))},n,i,d)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}getDefaultProgramParams(u,n,i){return{overrideFog:!1}}is3D(){return this.paint.get("background-pitch-alignment")==="viewport"}},raster:C1,"raster-particle":w1,sky:class extends Ll{constructor(u,n,i,d){super(u,{layout:zy||(zy=new nl({visibility:new pi(Gn.layout_sky.visibility)})),paint:S1||(S1=new nl({"sky-type":new pi(Gn.paint_sky["sky-type"]),"sky-atmosphere-sun":new pi(Gn.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new pi(Gn.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new pi(Gn.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new pi(Gn.paint_sky["sky-gradient-radius"]),"sky-gradient":new kd(Gn.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new pi(Gn.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new pi(Gn.paint_sky["sky-atmosphere-color"]),"sky-opacity":new pi(Gn.paint_sky["sky-opacity"]),"sky-gradient-use-theme":new Ki({type:"string",default:"default","property-type":"data-driven"}),"sky-atmosphere-halo-color-use-theme":new Ki({type:"string",default:"default","property-type":"data-driven"}),"sky-atmosphere-color-use-theme":new Ki({type:"string",default:"default","property-type":"data-driven"})}))},n,i,d),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(u){u==="sky-gradient"?this._updateColorRamp():u!=="sky-atmosphere-sun"&&u!=="sky-atmosphere-halo-color"&&u!=="sky-atmosphere-color"&&u!=="sky-atmosphere-sun-intensity"||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=Np({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(u){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const n=u.style.light.properties.get("position");return this._lightPosition.azimuthal!==n.azimuthal||this._lightPosition.polar!==n.polar}return!1}getCenter(u,n){if(this.paint.get("sky-type")==="atmosphere"){const d=this.paint.get("sky-atmosphere-sun"),g=!d,h=u.style.light,v=h.properties.get("position");return g&&h.properties.get("anchor")==="viewport"&&Fn("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),g?Ny(v.azimuthal,90-v.polar,n):Ny(d[0],90-d[1],n)}const i=this.paint.get("sky-gradient-center");return Ny(i[0],90-i[1],n)}isSky(){return!0}markSkyboxValid(u){this._skyboxInvalidated=!1,this._lightPosition=u.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const u=this.paint.get("sky-type");return u==="atmosphere"?["skyboxCapture","skybox"]:u==="gradient"?["skyboxGradient"]:null}},slot:class extends Ll{constructor(u,n,i,d){super(u,{paint:Ly||(Ly=new nl({}))},n,null)}},model:class extends Ll{constructor(u,n,i,d){super(u,{layout:D1||(D1=new nl({visibility:new pi(Gn.layout_model.visibility),"model-id":new Ki(Gn.layout_model["model-id"])})),paint:z1||(z1=new nl({"model-opacity":new Ki(Gn.paint_model["model-opacity"]),"model-rotation":new Ki(Gn.paint_model["model-rotation"]),"model-scale":new Ki(Gn.paint_model["model-scale"]),"model-translation":new Ki(Gn.paint_model["model-translation"]),"model-color":new Ki(Gn.paint_model["model-color"]),"model-color-mix-intensity":new Ki(Gn.paint_model["model-color-mix-intensity"]),"model-type":new pi(Gn.paint_model["model-type"]),"model-cast-shadows":new pi(Gn.paint_model["model-cast-shadows"]),"model-receive-shadows":new pi(Gn.paint_model["model-receive-shadows"]),"model-ambient-occlusion-intensity":new pi(Gn.paint_model["model-ambient-occlusion-intensity"]),"model-emissive-strength":new Ki(Gn.paint_model["model-emissive-strength"]),"model-roughness":new Ki(Gn.paint_model["model-roughness"]),"model-height-based-emissive-strength-multiplier":new Ki(Gn.paint_model["model-height-based-emissive-strength-multiplier"]),"model-cutoff-fade-range":new pi(Gn.paint_model["model-cutoff-fade-range"]),"model-front-cutoff":new pi(Gn.paint_model["model-front-cutoff"]),"model-color-use-theme":new Ki({type:"string",default:"default","property-type":"data-driven"})}))},n,i,d),this._stats={numRenderedVerticesInShadowPass:0,numRenderedVerticesInTransparentPass:0}}createBucket(u){return new Zy(u)}getProgramIds(){return["model"]}is3D(){return!0}hasShadowPass(){return!0}canCastShadows(){return!0}hasLightBeamPass(){return!0}cutoffRange(){return this.paint.get("model-cutoff-fade-range")}queryRadius(u){return u instanceof U0?Ii-1:0}queryIntersectsFeature(u,n,i,d,g,h){if(!this.modelManager)return!1;const v=this.modelManager,S=u.tile.getBucket(this);if(!(S&&S instanceof Zy))return!1;for(const T in S.instancesPerModel){const A=S.instancesPerModel[T],b=n.id!==void 0?n.id:n.properties&&n.properties.hasOwnProperty("id")?n.properties.id:void 0;if(A.idToFeaturesIndex.hasOwnProperty(b)){const P=A.features[A.idToFeaturesIndex[b]],$=v.getModel(T,this.scope);if(!$)return!1;let M=Te.mat4.create();const O=new ms(0,0),N=S.canonical;let W=Number.MAX_VALUE;for(let q=0;q<P.instancedDataCount;++q){const ae=16*(P.instancedDataOffset+q),ce=A.instancedDataArray.float32,ne=[ce[ae+4],ce[ae+5],ce[ae+6]];k1(N,O,ce[ae],0|ce[ae+1]),L1(M,$,h,O,P.rotation,P.scale,ne,!1,!1,!1),h.projection.name==="globe"&&(M=jy(M,h));const ge=Te.mat4.multiply([],h.projMatrix,M),Ce=u.queryGeometry,De=T1(Ce.isPointQuery()?Ce.screenBounds:Ce.screenGeometry,h,ge,$.aabb);De!=null&&(W=Math.min(De,W))}return W!==Number.MAX_VALUE&&W}}return!1}_handleOverridablePaintPropertyUpdate(u,n,i){return!(!this.layout||n.isDataDriven()||i.isDataDriven()||u!=="model-color"&&u!=="model-color-mix-intensity"&&u!=="model-rotation"&&u!=="model-scale"&&u!=="model-translation"&&u!=="model-emissive-strength")}_isPropertyZoomDependent(u){const n=this._transitionablePaint._values[u];return n!=null&&n.value!=null&&n.value.expression!=null&&n.value.expression instanceof df}isZoomDependent(){return this._isPropertyZoomDependent("model-scale")||this._isPropertyZoomDependent("model-rotation")||this._isPropertyZoomDependent("model-translation")}},clip:class extends Ll{constructor(u,n,i,d){super(u,{layout:ib||(ib=new nl({"clip-layer-types":new pi(Gn.layout_clip["clip-layer-types"]),"clip-layer-scope":new pi(Gn.layout_clip["clip-layer-scope"])})),paint:ob||(ob=new nl({}))},n,i,d)}recalculate(u,n){super.recalculate(u,n)}createBucket(u){return new sb(u)}isTileClipped(){return!0}is3D(){return!0}}};class KC{constructor(n){this._callback=n,this._triggered=!1,typeof MessageChannel!="undefined"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){this._channel=void 0,this._callback=()=>{}}}class XC{constructor(){this.tasks={},this.taskQueue=[],wr(["process"],this),this.invoker=new KC(this.process),this.nextId=0}add(n,i){const d=this.nextId++,g=function({type:h,isSymbolTile:v,zoom:S}){return S=S||0,h==="message"?0:h!=="maybePrepare"||v?h!=="parseTile"||v?h==="parseTile"&&v?300-S:h==="maybePrepare"&&v?400-S:500:200-S:100-S}(i);if(g===0){try{n()}finally{}return null}return this.tasks[d]={fn:n,metadata:i,priority:g,id:d},this.taskQueue.push(d),this.invoker.trigger(),{cancel:()=>{delete this.tasks[d]}}}process(){try{if(this.taskQueue=this.taskQueue.filter(d=>!!this.tasks[d]),!this.taskQueue.length)return;const n=this.pick();if(n===null)return;const i=this.tasks[n];if(delete this.tasks[n],this.taskQueue.length&&this.invoker.trigger(),!i)return;i.fn()}finally{}}pick(){let n=null,i=1/0;for(let g=0;g<this.taskQueue.length;g++){const h=this.tasks[this.taskQueue[g]];h.priority<i&&(i=h.priority,n=g)}if(n===null)return null;const d=this.taskQueue[n];return this.taskQueue.splice(n,1),d}remove(){this.invoker.remove()}}class YC{constructor(n,i,d){this.target=n,this.parent=i,this.mapId=d,this.callbacks={},this.cancelCallbacks={},wr(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.scheduler=new XC}send(n,i,d,g,h=!1,v){const S=Math.round(1e18*Math.random()).toString(36).substring(0,10);d&&(d.metadata=v,this.callbacks[S]=d);const T=new Set;return this.target.postMessage({id:S,type:n,hasCallback:!!d,targetMapId:g,mustQueue:h,sourceMapId:this.mapId,data:Nd(i,T)},T),{cancel:()=>{d&&delete this.callbacks[S],this.target.postMessage({id:S,type:"<cancel>",targetMapId:g,sourceMapId:this.mapId})}}}receive(n){const i=n.data,d=i.id;if(d&&(!i.targetMapId||this.mapId===i.targetMapId))if(i.type==="<cancel>"){const g=this.cancelCallbacks[d];delete this.cancelCallbacks[d],g&&g.cancel()}else if(i.mustQueue||ho()){const g=this.callbacks[d],h=this.scheduler.add(()=>this.processTask(d,i),g&&g.metadata||{type:"message"});h&&(this.cancelCallbacks[d]=h)}else this.processTask(d,i)}processTask(n,i){if(delete this.cancelCallbacks[n],i.type==="<response>"){const d=this.callbacks[n];delete this.callbacks[n],d&&(i.error?d(fd(i.error)):d(null,fd(i.data)))}else{const d=new Set,g=i.hasCallback?(v,S)=>{this.target.postMessage({id:n,type:"<response>",sourceMapId:this.mapId,error:v?Nd(v):null,data:Nd(S,d)},d)}:()=>{},h=fd(i.data);if(this.parent[i.type])this.parent[i.type](i.sourceMapId,h,g);else if(this.parent.getWorkerSource){const v=i.type.split(".");this.parent.getWorkerSource(i.sourceMapId,v[0],h.source,h.scope)[v[1]](h,g)}else g(new Error(`Could not find function ${i.type}`))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}}var Cg={workerUrl:"",workerClass:null,workerParams:void 0};const Wy="mapboxgl_preloaded_worker_pool";class kf{constructor(){this.active={}}acquire(n,i=kf.workerCount){if(!this.workers)for(this.workers=[];this.workers.length<i;)this.workers.push(Cg.workerClass!=null?new Cg.workerClass:new self.Worker(Cg.workerUrl,Cg.workerParams));return this.active[n]=!0,this.workers.slice()}release(n){delete this.active[n],this.workers&&this.numActive()===0&&(this.workers.forEach(i=>{i.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Wy]}numActive(){return Object.keys(this.active).length}}kf.workerCount=2;class zh{constructor(n,i,d="Worker",g=kf.workerCount){this.workerPool=n,this.actors=[],this.currentActor=0,this.id=mr();const h=this.workerPool.acquire(this.id,g);for(let v=0;v<h.length;v++){const S=new zh.Actor(h[v],i,this.id);S.name=`${d} ${v}`,this.actors.push(S)}this.ready=!1,this.broadcast("checkIfReady",null,()=>{this.ready=!0})}broadcast(n,i,d){Wr(this.actors,(g,h)=>{g.send(n,i,h)},d=d||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(n=>{n.remove()}),this.actors=[],this.workerPool.release(this.id)}}let Sg,j1;function wg(){return Sg||(Sg=new kf),Sg}zh.Actor=YC;const Gy=new Fi(0,0,0);var Ky=(u=>(u[u.PATH_RULE_UNSPECIFIED=0]="PATH_RULE_UNSPECIFIED",u[u.PATH_RULE_NON_ZERO=1]="PATH_RULE_NON_ZERO",u[u.PATH_RULE_EVEN_ODD=2]="PATH_RULE_EVEN_ODD",u))(Ky||{}),W0=(u=>(u[u.LINE_CAP_UNSPECIFIED=0]="LINE_CAP_UNSPECIFIED",u[u.LINE_CAP_BUTT=1]="LINE_CAP_BUTT",u[u.LINE_CAP_ROUND=2]="LINE_CAP_ROUND",u[u.LINE_CAP_SQUARE=3]="LINE_CAP_SQUARE",u))(W0||{}),Eg=(u=>(u[u.LINE_JOIN_UNSPECIFIED=0]="LINE_JOIN_UNSPECIFIED",u[u.LINE_JOIN_MITER=1]="LINE_JOIN_MITER",u[u.LINE_JOIN_MITER_CLIP=2]="LINE_JOIN_MITER_CLIP",u[u.LINE_JOIN_ROUND=3]="LINE_JOIN_ROUND",u[u.LINE_JOIN_BEVEL=4]="LINE_JOIN_BEVEL",u))(Eg||{}),Z1=(u=>(u[u.PAINT_ORDER_UNSPECIFIED=0]="PAINT_ORDER_UNSPECIFIED",u[u.PAINT_ORDER_FILL_AND_STROKE=1]="PAINT_ORDER_FILL_AND_STROKE",u[u.PAINT_ORDER_STROKE_AND_FILL=2]="PAINT_ORDER_STROKE_AND_FILL",u))(Z1||{}),Fm=(u=>(u[u.PATH_COMMAND_UNSPECIFIED=0]="PATH_COMMAND_UNSPECIFIED",u[u.PATH_COMMAND_MOVE=1]="PATH_COMMAND_MOVE",u[u.PATH_COMMAND_LINE=2]="PATH_COMMAND_LINE",u[u.PATH_COMMAND_QUAD=3]="PATH_COMMAND_QUAD",u[u.PATH_COMMAND_CUBIC=4]="PATH_COMMAND_CUBIC",u[u.PATH_COMMAND_CLOSE=5]="PATH_COMMAND_CLOSE",u))(Fm||{}),V1=(u=>(u[u.MASK_TYPE_UNSPECIFIED=0]="MASK_TYPE_UNSPECIFIED",u[u.MASK_TYPE_LUMINANCE=1]="MASK_TYPE_LUMINANCE",u[u.MASK_TYPE_ALPHA=2]="MASK_TYPE_ALPHA",u))(V1||{});function qC(u,n,i){u===1&&n.icons.push(function(d,g){return function(h){if(h.usvg_tree.height||(h.usvg_tree.height=h.usvg_tree.width),!h.metadata)return h;const{metadata:v}=h;if(v.content_area){const{content_area:S}=v;S.top==null&&(S.top=S.left),S.width==null&&(S.width=h.usvg_tree.width),S.height==null&&(S.height=S.width)}return v.stretch_x&&v.stretch_x.length&&H1(v,"x"),v.stretch_y&&v.stretch_y.length&&H1(v,"y"),h}(d.readFields(JC,{name:void 0},g))}(i,i.readVarint()+i.pos))}function H1(u,n){const i=[],d=u[`stretch_${n}`];let g=null;for(let h=0;h<d.length;h++)g===null?g=i.length===0?d[0]:i[i.length-1][1]+d[h]:(i.push([g,g+d[h]]),g=null);u[`stretch_${n}_areas`]=i}function JC(u,n,i){u===1?n.name=i.readString():u===2?n.metadata=function(d,g){return d.readFields(jf,{stretch_x:null,stretch_y:null,stretch_x_areas:null,stretch_y_areas:null,variables:[]},g)}(i,i.readVarint()+i.pos):u===3&&(n.usvg_tree=function(d,g){return d.readFields(c2,{width:20,children:[],linear_gradients:[],radial_gradients:[],clip_paths:[],masks:[]},g)}(i,i.readVarint()+i.pos),n.data="usvg_tree")}function jf(u,n,i){u===1?n.stretch_x=i.readPackedVarint():u===2?n.stretch_y=i.readPackedVarint():u===3?n.content_area=function(d,g){return d.readFields(U1,{left:0},g)}(i,i.readVarint()+i.pos):u===4&&n.variables.push(function(d,g){return d.readFields(QC,{name:void 0},g)}(i,i.readVarint()+i.pos))}function U1(u,n,i){u===1?n.left=i.readVarint():u===2?n.width=i.readVarint():u===3?n.top=i.readVarint():u===4&&(n.height=i.readVarint())}function QC(u,n,i){u===1?n.name=i.readString():u===2&&(n.rgb_color=X0(i.readVarint()),n.value="rgb_color")}function c2(u,n,i){u===1?n.width=n.height=i.readVarint():u===2?n.height=i.readVarint():u===3?n.children.push(G0(i,i.readVarint()+i.pos)):u===4?n.linear_gradients.push(function(d,g){return d.readFields(W1,{spread_method:1,stops:[],x1:0,y1:0,x2:1,y2:0},g)}(i,i.readVarint()+i.pos)):u===5?n.radial_gradients.push(function(d,g){return d.readFields(qy,{spread_method:1,stops:[],cx:.5,cy:.5,r:.5,fx:.5,fy:.5,fr:0},g)}(i,i.readVarint()+i.pos)):u===7?n.clip_paths.push(function(d,g){return d.readFields(km,{children:[]},g)}(i,i.readVarint()+i.pos)):u===8&&n.masks.push(function(d,g){const h=d.readFields(Y0,{left:0,width:20,mask_type:1,children:[]},g);return h.height==null&&(h.height=h.width),h.top==null&&(h.top=h.left),h}(i,i.readVarint()+i.pos))}function G0(u,n){return u.readFields(eS,{},n)}function eS(u,n,i){u===1?(n.group=function(d,g){return d.readFields(u2,{opacity:255,children:[]},g)}(i,i.readVarint()+i.pos),n.node="group"):u===2&&(n.path=function(d,g){return d.readFields(tS,{paint_order:1,commands:[],step:1,diffs:[],rule:1},g)}(i,i.readVarint()+i.pos),n.node="path")}function u2(u,n,i){u===1?n.transform=K0(i,i.readVarint()+i.pos):u===2?n.opacity=i.readVarint():u===5?n.clip_path_idx=i.readVarint():u===6?n.mask_idx=i.readVarint():u===7&&n.children.push(G0(i,i.readVarint()+i.pos))}function K0(u,n){return u.readFields(Xy,{sx:1,ky:0,kx:0,sy:1,tx:0,ty:0},n)}function Xy(u,n,i){u===1?n.sx=i.readFloat():u===2?n.ky=i.readFloat():u===3?n.kx=i.readFloat():u===4?n.sy=i.readFloat():u===5?n.tx=i.readFloat():u===6&&(n.ty=i.readFloat())}function tS(u,n,i){u===1?n.fill=function(d,g){return d.readFields(nS,{rgb_color:Gy,paint:"rgb_color",opacity:255},g)}(i,i.readVarint()+i.pos):u===2?n.stroke=function(d,g){return d.readFields(rS,{rgb_color:Gy,paint:"rgb_color",dasharray:[],dashoffset:0,miterlimit:4,opacity:255,width:1,linecap:1,linejoin:1},g)}(i,i.readVarint()+i.pos):u===3?n.paint_order=i.readVarint():u===5?i.readPackedVarint(n.commands):u===6?n.step=i.readFloat():u===7?i.readPackedSVarint(n.diffs):u===8&&(n.rule=i.readVarint())}function nS(u,n,i){u===1?(n.rgb_color=X0(i.readVarint()),n.paint="rgb_color"):u===2?(n.linear_gradient_idx=i.readVarint(),n.paint="linear_gradient_idx"):u===3?(n.radial_gradient_idx=i.readVarint(),n.paint="radial_gradient_idx"):u===5&&(n.opacity=i.readVarint())}function X0(u){return new Fi((u>>16&255)/255,(u>>8&255)/255,(255&u)/255,1)}function rS(u,n,i){u===1?(n.rgb_color=X0(i.readVarint()),n.paint="rgb_color"):u===2?(n.linear_gradient_idx=i.readVarint(),n.paint="linear_gradient_idx"):u===3?(n.radial_gradient_idx=i.readVarint(),n.paint="radial_gradient_idx"):u===5?i.readPackedFloat(n.dasharray):u===6?n.dashoffset=i.readFloat():u===7?n.miterlimit=i.readFloat():u===8?n.opacity=i.readVarint():u===9?n.width=i.readFloat():u===10?n.linecap=i.readVarint():u===11&&(n.linejoin=i.readVarint())}function W1(u,n,i){u===1?n.transform=K0(i,i.readVarint()+i.pos):u===2?n.spread_method=i.readVarint():u===3?n.stops.push(G1(i,i.readVarint()+i.pos)):u===4?n.x1=i.readFloat():u===5?n.y1=i.readFloat():u===6?n.x2=i.readFloat():u===7&&(n.y2=i.readFloat())}function G1(u,n){return u.readFields(Yy,{offset:0,opacity:255,rgb_color:Gy},n)}function Yy(u,n,i){u===1?n.offset=i.readFloat():u===2?n.opacity=i.readVarint():u===3&&(n.rgb_color=X0(i.readVarint()))}function qy(u,n,i){u===1?n.transform=K0(i,i.readVarint()+i.pos):u===2?n.spread_method=i.readVarint():u===3?n.stops.push(G1(i,i.readVarint()+i.pos)):u===4?n.cx=i.readFloat():u===5?n.cy=i.readFloat():u===6?n.r=i.readFloat():u===7?n.fx=i.readFloat():u===8?n.fy=i.readFloat():u===9&&(n.fr=i.readFloat())}function km(u,n,i){u===1?n.transform=K0(i,i.readVarint()+i.pos):u===2?n.clip_path_idx=i.readVarint():u===3&&n.children.push(G0(i,i.readVarint()+i.pos))}function Y0(u,n,i){u===1?n.left=n.top=i.readFloat():u===2?n.width=n.height=i.readFloat():u===3?n.top=i.readFloat():u===4?n.height=i.readFloat():u===5?n.mask_type=i.readVarint():u===6?n.mask_idx=i.readVarint():u===7&&n.children.push(G0(i,i.readVarint()+i.pos))}class d2{static calculate(n,i){const d=new Map,g=new Map;if(Object.keys(n).length===0)return d;i.forEach(h=>{g.set(h.name,h.rgb_color||new Fi(0,0,0))});for(const[h,v]of Object.entries(n))g.has(h)?d.set(g.get(h).toStringPremultipliedAlpha(),v):console.warn(`Ignoring unknown image variable "${h}"`);return d}}function Zf(u,n=255,i){const d=n/255,g=u.toStringPremultipliedAlpha(),h=i.has(g)?i.get(g).clone():u.clone();return h.a=d,h.toString()}function Lh(u,n){if(!ke()){const i=document.createElement("canvas");return i.width=u,i.height=n,i}return new OffscreenCanvas(u,n)}function iS(u,n){const i=d2.calculate(n.params,u.metadata?u.metadata.variables:[]),d=u.usvg_tree,g=d.width,h=d.height,v=n.transform?n.transform:new DOMMatrix,S=Math.max(1,Math.round(g*v.a)),T=Math.max(1,Math.round(h*v.d)),A=new DOMMatrix([S/g,0,0,T/h,0,0]),b=Lh(S,T).getContext("2d");return Jy(b,A,d,d,i),b.getImageData(0,0,S,T)}function Jy(u,n,i,d,g){for(const h of d.children)q0(u,n,i,h,g)}function q0(u,n,i,d,g){d.group?(u.save(),function(h,v,S,T,A){const b=T.mask_idx!=null?S.masks[T.mask_idx]:null,P=T.clip_path_idx!=null?S.clip_paths[T.clip_path_idx]:null;if(T.transform&&(v=ev(T.transform).preMultiplySelf(v)),!function(O,N,W){return O.opacity!==255||N||W}(T,P!=null,b!=null))return void Jy(h,v,S,T,A);const $=Lh(h.canvas.width,h.canvas.height),M=$.getContext("2d");Jy(M,v,S,T,A),P&&Y1(M,v,S,P),b&&q1(M,v,S,b,A),h.globalAlpha=T.opacity/255,h.drawImage($,0,0)}(u,n,i,d.group,g),u.restore()):d.path&&(u.save(),function(h,v,S,T,A){const b=J1(T);h.setTransform(v),T.paint_order===Z1.PAINT_ORDER_FILL_AND_STROKE?(J0(h,S,T,b,A),Ig(h,S,T,b,A)):(Ig(h,S,T,b,A),J0(h,S,T,b,A))}(u,n,i,d.path,g),u.restore())}function J0(u,n,i,d,g){const h=i.fill;if(!h)return;const v=h.opacity/255;switch(h.paint){case"rgb_color":u.fillStyle=Zf(h.rgb_color,h.opacity,g);break;case"linear_gradient_idx":u.fillStyle=Q0(u,n.linear_gradients[h.linear_gradient_idx],v,g);break;case"radial_gradient_idx":u.fillStyle=K1(u,n.radial_gradients[h.radial_gradient_idx],v,g)}u.fill(d,Qy(i))}function Qy(u){return u.rule===Ky.PATH_RULE_NON_ZERO?"nonzero":u.rule===Ky.PATH_RULE_EVEN_ODD?"evenodd":void 0}function Ig(u,n,i,d,g){const h=i.stroke;if(!h)return;u.lineWidth=h.width,u.miterLimit=h.miterlimit,u.setLineDash(h.dasharray),u.lineDashOffset=h.dashoffset;const v=h.opacity/255;switch(h.paint){case"rgb_color":u.strokeStyle=Zf(h.rgb_color,h.opacity,g);break;case"linear_gradient_idx":u.strokeStyle=Q0(u,n.linear_gradients[h.linear_gradient_idx],v,g);break;case"radial_gradient_idx":u.strokeStyle=K1(u,n.radial_gradients[h.radial_gradient_idx],v,g)}switch(h.linejoin){case Eg.LINE_JOIN_MITER_CLIP:case Eg.LINE_JOIN_MITER:u.lineJoin="miter";break;case Eg.LINE_JOIN_ROUND:u.lineJoin="round";break;case Eg.LINE_JOIN_BEVEL:u.lineJoin="bevel"}switch(h.linecap){case W0.LINE_CAP_BUTT:u.lineCap="butt";break;case W0.LINE_CAP_ROUND:u.lineCap="round";break;case W0.LINE_CAP_SQUARE:u.lineCap="square"}u.stroke(d)}function Q0(u,n,i,d){if(n.stops.length===1){const $=n.stops[0];return Zf($.rgb_color,$.opacity*i,d)}const g=ev(n.transform),{x1:h,y1:v,x2:S,y2:T}=n,A=g.transformPoint(new DOMPoint(h,v)),b=g.transformPoint(new DOMPoint(S,T)),P=u.createLinearGradient(A.x,A.y,b.x,b.y);for(const $ of n.stops)P.addColorStop($.offset,Zf($.rgb_color,$.opacity*i,d));return P}function K1(u,n,i,d){if(n.stops.length===1){const $=n.stops[0];return Zf($.rgb_color,$.opacity*i,d)}const g=ev(n.transform),{fx:h,fy:v,cx:S,cy:T}=n,A=g.transformPoint(new DOMPoint(h,v)),b=g.transformPoint(new DOMPoint(S,T)),P=u.createRadialGradient(A.x,A.y,0,b.x,b.y,n.r*((g.a+g.d)/2));for(const $ of n.stops)P.addColorStop($.offset,Zf($.rgb_color,$.opacity*i,d));return P}function X1(u,n,i,d){const g=d.transform?ev(d.transform).preMultiplySelf(n):n,h=Lh(u.canvas.width,u.canvas.height),v=h.getContext("2d");for(const T of d.children)if(T.group)X1(v,g,i,T.group);else if(T.path){const A=T.path,b=new Path2D;b.addPath(J1(A),g),v.fill(b,Qy(A))}const S=d.clip_path_idx!=null?i.clip_paths[d.clip_path_idx]:null;S&&Y1(v,g,i,S),u.globalCompositeOperation="source-over",u.drawImage(h,0,0)}function Y1(u,n,i,d){const g=Lh(u.canvas.width,u.canvas.height);X1(g.getContext("2d"),n,i,d),u.globalCompositeOperation="destination-in",u.drawImage(g,0,0)}function q1(u,n,i,d,g){if(d.children.length===0)return;const h=d.mask_idx!=null?i.masks[d.mask_idx]:null;h&&q1(u,n,i,h,g);const v=u.canvas.width,S=u.canvas.height,T=Lh(v,S),A=T.getContext("2d"),b=d.width,P=d.height,$=d.left,M=d.top,O=new Path2D,N=new Path2D;N.rect($,M,b,P),O.addPath(N,n),A.clip(O);for(const ae of d.children)q0(A,n,i,ae,g);const W=A.getImageData(0,0,v,S),q=W.data;if(d.mask_type===V1.MASK_TYPE_LUMINANCE)for(let ae=0;ae<q.length;ae+=4)q[ae+3]=q[ae+3]/255*(.2126*q[ae]+.7152*q[ae+1]+.0722*q[ae+2]);A.putImageData(W,0,0),u.globalCompositeOperation="destination-in",u.drawImage(T,0,0)}function ev(u){return u?new DOMMatrix([u.sx,u.ky,u.kx,u.sy,u.tx,u.ty]):new DOMMatrix}function J1(u){const n=new Path2D,i=u.step;let d=u.diffs[0]*i,g=u.diffs[1]*i;n.moveTo(d,g);for(let h=0,v=2;h<u.commands.length;h++)switch(u.commands[h]){case Fm.PATH_COMMAND_MOVE:d+=u.diffs[v++]*i,g+=u.diffs[v++]*i,n.moveTo(d,g);break;case Fm.PATH_COMMAND_LINE:d+=u.diffs[v++]*i,g+=u.diffs[v++]*i,n.lineTo(d,g);break;case Fm.PATH_COMMAND_QUAD:{const S=d+u.diffs[v++]*i,T=g+u.diffs[v++]*i;d=S+u.diffs[v++]*i,g=T+u.diffs[v++]*i,n.quadraticCurveTo(S,T,d,g);break}case Fm.PATH_COMMAND_CUBIC:{const S=d+u.diffs[v++]*i,T=g+u.diffs[v++]*i,A=S+u.diffs[v++]*i,b=T+u.diffs[v++]*i;d=A+u.diffs[v++]*i,g=b+u.diffs[v++]*i,n.bezierCurveTo(S,T,A,b,d,g);break}case Fm.PATH_COMMAND_CLOSE:n.closePath()}return n}class e_{constructor(n){this.capacity=n,this.cache=new Map}get(n){if(!this.cache.has(n))return;const i=this.cache.get(n);return this.cache.delete(n),this.cache.set(n,i),i}put(n,i){this.cache.has(n)?this.cache.delete(n):this.cache.size===this.capacity&&this.cache.delete(this.cache.keys().next().value),this.cache.set(n,i)}delete(n){this.cache.delete(n)}}class t_{constructor(){this.cacheMap=new Map,this.cacheDependenciesMap=new Map}static _getImage(n){return new Sc(n,n.data)}getFromCache(n,i,d){return this.cacheMap.has(d)||this.cacheMap.set(d,new e_(150)),this.cacheMap.get(d).get(Tu(n.serialize(),i))}setInCache(n,i,d,g){this.cacheDependenciesMap.has(g)||this.cacheDependenciesMap.set(g,new Map),this.cacheMap.has(g)||this.cacheMap.set(g,new e_(150));const h=this.cacheDependenciesMap.get(g);h.get(Tu(n.id,d))||h.set(Tu(n.id,d),new Set);const v=this.cacheMap.get(g),S=n.serialize();h.get(Tu(n.id,d)).add(S),v.put(Tu(n.serialize(),d),i)}removeImagesFromCacheByIds(n,i,d=""){if(!this.cacheMap.has(d)||!this.cacheDependenciesMap.has(d))return;const g=this.cacheMap.get(d),h=this.cacheDependenciesMap.get(d);for(const v of n)if(h.has(Tu(v,i))){for(const S of h.get(Tu(v,i)))g.delete(S);h.delete(Tu(v,i))}}rasterize(n,i,d,g,h=iS){const v=this.getFromCache(n,d,g);if(v)return v.clone();const S=h(i.icon,n.options),T=t_._getImage(S);return this.setInCache(n,T,d,g),T.clone()}}class n_{constructor(n){this.size=n,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(n,i){const d=this.toIdx(n,i);return{min:this.minimums[d],max:this.maximums[d]}}isLeaf(n,i){return this.leaves[this.toIdx(n,i)]}toIdx(n,i){return i*this.size+n}}function r_(u,n,i,d){let g=0,h=Number.MAX_VALUE;for(let v=0;v<3;v++)if(Math.abs(d[v])<1e-15){if(i[v]<u[v]||i[v]>n[v])return null}else{const S=1/d[v];let T=(u[v]-i[v])*S,A=(n[v]-i[v])*S;if(T>A){const b=T;T=A,A=b}if(T>g&&(g=T),A<h&&(h=A),g>h)return null}return g}function tv(u,n,i,d,g,h,v,S,T,A,b){const P=d-u,$=g-n,M=h-i,O=v-u,N=S-n,W=T-i,q=b[1]*W-b[2]*N,ae=b[2]*O-b[0]*W,ce=b[0]*N-b[1]*O,ne=P*q+$*ae+M*ce;if(Math.abs(ne)<1e-15)return null;const ge=1/ne,Ce=A[0]-u,De=A[1]-n,ut=A[2]-i,st=(Ce*q+De*ae+ut*ce)*ge;if(st<0||st>1)return null;const tt=De*M-ut*$,Zt=ut*P-Ce*M,pt=Ce*$-De*P,Yt=(b[0]*tt+b[1]*Zt+b[2]*pt)*ge;return Yt<0||st+Yt>1?null:(O*tt+N*Zt+W*pt)*ge}function jm(u,n,i){return(u-n)/(i-n)}function i_(u,n,i,d,g,h,v,S,T){const A=1<<i,b=h-d,P=v-g,$=(u+1)/A*b+d,M=(n+0)/A*P+g,O=(n+1)/A*P+g;S[0]=(u+0)/A*b+d,S[1]=M,T[0]=$,T[1]=O}class Zm{constructor(n){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=n,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const i=function(h){const v=Math.ceil(Math.log2(h.dim/8)),S=[];let T=Math.ceil(Math.pow(2,v));const A=1/T,b=(M,O,N,W,q)=>{const ae=W?1:0,ce=(M+1)*N-ae,ne=O*N,ge=(O+1)*N-ae;q[0]=M*N,q[1]=ne,q[2]=ce,q[3]=ge};let P=new n_(T);const $=[];for(let M=0;M<T*T;M++){b(M%T,Math.floor(M/T),A,!1,$);const O=td($[0],$[1],h),N=td($[2],$[1],h),W=td($[2],$[3],h),q=td($[0],$[3],h);P.minimums.push(Math.min(O,N,W,q)),P.maximums.push(Math.max(O,N,W,q)),P.leaves.push(1)}for(S.push(P),T/=2;T>=1;T/=2){const M=S[S.length-1];P=new n_(T);for(let O=0;O<T*T;O++){b(O%T,Math.floor(O/T),2,!0,$);const N=M.getElevation($[0],$[1]),W=M.getElevation($[2],$[1]),q=M.getElevation($[2],$[3]),ae=M.getElevation($[0],$[3]),ce=M.isLeaf($[0],$[1]),ne=M.isLeaf($[2],$[1]),ge=M.isLeaf($[2],$[3]),Ce=M.isLeaf($[0],$[3]),De=Math.min(N.min,W.min,q.min,ae.min),ut=Math.max(N.max,W.max,q.max,ae.max),st=ce&&ne&&ge&&Ce;P.maximums.push(ut),P.minimums.push(De),P.leaves.push(ut-De<=5&&st?1:0)}S.push(P)}return S}(this.dem),d=i.length-1,g=i[d];this._addNode(g.minimums[0],g.maximums[0],g.leaves[0]),this._construct(i,0,0,d,0)}raycastRoot(n,i,d,g,h,v,S=1){return r_([n,i,-100],[d,g,this.maximums[0]*S],h,v)}raycast(n,i,d,g,h,v,S=1){if(!this.nodeCount)return null;const T=this.raycastRoot(n,i,d,g,h,v,S);if(T==null)return null;const A=[],b=[],P=[],$=[],M=[{idx:0,t:T,nodex:0,nodey:0,depth:0}];for(;M.length>0;){const{idx:O,t:N,nodex:W,nodey:q,depth:ae}=M.pop();if(this.leaves[O]){i_(W,q,ae,n,i,d,g,P,$);const ne=1<<ae,ge=(W+0)/ne,Ce=(W+1)/ne,De=(q+0)/ne,ut=(q+1)/ne,st=td(ge,De,this.dem)*S,tt=td(Ce,De,this.dem)*S,Zt=td(Ce,ut,this.dem)*S,pt=td(ge,ut,this.dem)*S,Yt=tv(P[0],P[1],st,$[0],P[1],tt,$[0],$[1],Zt,h,v),un=tv($[0],$[1],Zt,P[0],$[1],pt,P[0],P[1],st,h,v),on=Math.min(Yt!==null?Yt:Number.MAX_VALUE,un!==null?un:Number.MAX_VALUE);if(on!==Number.MAX_VALUE)return on;{const hn=Te.vec3.scaleAndAdd([],h,v,N);if(xd(st,tt,pt,Zt,jm(hn[0],P[0],$[0]),jm(hn[1],P[1],$[1]))>=hn[2])return N}continue}let ce=0;for(let ne=0;ne<this._siblingOffset.length;ne++){i_((W<<1)+this._siblingOffset[ne][0],(q<<1)+this._siblingOffset[ne][1],ae+1,n,i,d,g,P,$),P[2]=-100,$[2]=this.maximums[this.childOffsets[O]+ne]*S;const ge=r_(P,$,h,v);if(ge!=null){const Ce=ge;A[ne]=Ce;let De=!1;for(let ut=0;ut<ce&&!De;ut++)Ce>=A[b[ut]]&&(b.splice(ut,0,ne),De=!0);De||(b[ce]=ne),ce++}}for(let ne=0;ne<ce;ne++){const ge=b[ne];M.push({idx:this.childOffsets[O]+ge,t:A[ge],nodex:(W<<1)+this._siblingOffset[ge][0],nodey:(q<<1)+this._siblingOffset[ge][1],depth:ae+1})}}return null}_addNode(n,i,d){return this.minimums.push(n),this.maximums.push(i),this.leaves.push(d),this.childOffsets.push(0),this.nodeCount++}_construct(n,i,d,g,h){if(n[g].isLeaf(i,d)===1)return;this.childOffsets[h]||(this.childOffsets[h]=this.nodeCount);const v=g-1,S=n[v];let T=0,A=0;for(let b=0;b<this._siblingOffset.length;b++){const P=2*i+this._siblingOffset[b][0],$=2*d+this._siblingOffset[b][1],M=S.getElevation(P,$),O=S.isLeaf(P,$),N=this._addNode(M.min,M.max,O);O&&(T|=1<<b),A||(A=N)}for(let b=0;b<this._siblingOffset.length;b++)T&1<<b||this._construct(n,2*i+this._siblingOffset[b][0],2*d+this._siblingOffset[b][1],v,A+b)}}function xd(u,n,i,d,g,h){return Rr(Rr(u,i,h),Rr(n,d,h),g)}function td(u,n,i){const d=i.dim,g=Un(u*d-.5,0,d-1),h=Un(n*d-.5,0,d-1),v=Math.floor(g),S=Math.floor(h),T=Math.min(v+1,d-1),A=Math.min(S+1,d-1);return xd(i.get(v,S),i.get(T,S),i.get(v,A),i.get(T,A),g-v,h-S)}const oS={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};function aS(u,n,i){return(256*u*256+256*n+i)/10-1e4}function sS(u,n,i){return 256*u+n+i/256-32768}class nv{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(n,i,d,g=!1){if(this.uid=n,i.height!==i.width)throw new RangeError("DEM tiles must be square");if(d&&d!=="mapbox"&&d!=="terrarium")return void Fn(`"${d}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=i.height;const h=this.dim=i.height-2,v=new Uint32Array(i.data.buffer);if(this.pixels=new Uint8Array(i.data.buffer),this.floatView=new Float32Array(i.data.buffer),this.borderReady=g,this._modifiedForSources={},!g){for(let T=0;T<h;T++)v[this._idx(-1,T)]=v[this._idx(0,T)],v[this._idx(h,T)]=v[this._idx(h-1,T)],v[this._idx(T,-1)]=v[this._idx(T,0)],v[this._idx(T,h)]=v[this._idx(T,h-1)];v[this._idx(-1,-1)]=v[this._idx(0,0)],v[this._idx(h,-1)]=v[this._idx(h-1,0)],v[this._idx(-1,h)]=v[this._idx(0,h-1)],v[this._idx(h,h)]=v[this._idx(h-1,h-1)]}const S=d==="terrarium"?sS:aS;for(let T=0;T<v.length;++T){const A=4*T;this.floatView[T]=S(this.pixels[A],this.pixels[A+1],this.pixels[A+2])}this._timestamp=he.now()}_buildQuadTree(){this._tree=new Zm(this)}get(n,i,d=!1){d&&(n=Un(n,-1,this.dim),i=Un(i,-1,this.dim));const g=this._idx(n,i);return this.floatView[g]}set(n,i,d){const g=this._idx(n,i),h=this.floatView[g];return this.floatView[g]=d,d-h}static getUnpackVector(n){return oS[n]}_idx(n,i){if(n<-1||n>=this.dim+1||i<-1||i>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(i+1)*this.stride+(n+1)}static pack(n,i){const d=[0,0,0,0],g=nv.getUnpackVector(i);let h=Math.floor((n+g[3])/g[2]);return d[2]=h%256,h=Math.floor(h/256),d[1]=h%256,h=Math.floor(h/256),d[0]=h,d}getPixels(){return new Lp({width:this.stride,height:this.stride},this.pixels)}backfillBorder(n,i,d){if(this.dim!==n.dim)throw new Error("dem dimension mismatch");let g=i*this.dim,h=i*this.dim+this.dim,v=d*this.dim,S=d*this.dim+this.dim;switch(i){case-1:g=h-1;break;case 1:h=g+1}switch(d){case-1:v=S-1;break;case 1:S=v+1}const T=-i*this.dim,A=-d*this.dim;for(let b=v;b<S;b++)for(let P=g;P<h;P++){const $=4*this._idx(P,b),M=4*this._idx(P+T,b+A);this.pixels[$+0]=n.pixels[M+0],this.pixels[$+1]=n.pixels[M+1],this.pixels[$+2]=n.pixels[M+2],this.pixels[$+3]=n.pixels[M+3]}}onDeserialize(){this._tree&&(this._tree.dem=this)}}function Q1(u,n,i){u===1?n.headerLength=i.readFixed32():u===2?n.x=i.readVarint():u===3?n.y=i.readVarint():u===4?n.z=i.readVarint():u===5&&n.layers.push(function(d,g){return d.readFields(dS,{version:0,name:"",units:"",tileSize:0,buffer:0,pixelFormat:0,dataIndex:[]},g)}(i,i.readVarint()+i.pos))}function lS(u,n,i){u===1?(n.delta_filter=function(d,g){return d.readFields(cS,{blockSize:0},g)}(i,i.readVarint()+i.pos),n.filter="delta_filter"):u===2?(i.readVarint(),n.filter="zigzag_filter"):u===3?(i.readVarint(),n.filter="bitshuffle_filter"):u===4&&(i.readVarint(),n.filter="byteshuffle_filter")}function cS(u,n,i){u===1&&(n.blockSize=i.readVarint())}function uS(u,n,i){u===1?(i.readVarint(),n.codec="gzip_data"):u===2?(i.readVarint(),n.codec="jpeg_image"):u===3?(i.readVarint(),n.codec="webp_image"):u===4&&(i.readVarint(),n.codec="png_image")}function o_(u,n,i){let d=0,g=0;u===1?n.firstByte=i.readFixed64():u===2?n.lastByte=i.readFixed64():u===3?n.filters.push(function(h,v){return h.readFields(lS,{},v)}(i,i.readVarint()+i.pos)):u===4?n.codec=function(h,v){return h.readFields(uS,{},v)}(i,i.readVarint()+i.pos):u===5?g=i.readFloat():u===6?d=i.readFloat():u===7?n.bands.push(i.readString()):u===8?n.offset=i.readDouble():u===9&&(n.scale=i.readDouble()),n.offset===0&&(n.offset=g),n.scale===0&&(n.scale=d)}function dS(u,n,i){u===1?n.version=i.readVarint():u===2?n.name=i.readString():u===3?n.units=i.readString():u===4?n.tileSize=i.readVarint():u===5?n.buffer=i.readVarint():u===6?n.pixelFormat=i.readVarint():u===7&&n.dataIndex.push(function(d,g){return d.readFields(o_,{firstByte:0,lastByte:0,filters:[],codec:null,offset:0,scale:0,bands:[]},g)}(i,i.readVarint()+i.pos))}function a_(u,n,i){if(u===2)(function(d,g,h){d.readFields(fS,h,g)})(i,i.readVarint()+i.pos,n);else if(u===3)throw new Error("Not implemented")}function fS(u,n,i){if(u===1){let d=0;const g=i.readVarint()+i.pos;for(;i.pos<g;)n[d++]=i.readVarint()}}function hS(u,n){if(n.length!==4)throw new Error(`Expected data of dimension 4 but got ${n.length}.`);let i=n[3];for(let d=2;d>=1;d--){const g=d===1?1:0,h=d===2?1:0;for(let v=0;v<n[0];v++){const S=n[1]*v;for(let T=g;T<n[1];T++){const A=n[2]*(T+S);for(let b=h;b<n[2];b++){const P=n[3]*(b+A);for(let $=0;$<n[3];$++){const M=P+$;u[M]+=u[M-i]}}}}i*=n[d]}return u}function mS(u){for(let n=0,i=u.length;n<i;n++)u[n]=u[n]>>>1^-(1&u[n]);return u}function pS(u,n){switch(n){case"uint32":return u;case"uint16":for(let i=0;i<u.length;i+=2){const d=u[i],g=u[i+1];u[i]=(240&d)>>4|(61440&d)>>8|(240&g)<<4|61440&g,u[i+1]=15&d|(3840&d)>>4|(15&g)<<8|(3840&g)<<4}return u;case"uint8":for(let i=0;i<u.length;i+=4){const d=u[i],g=u[i+1],h=u[i+2],v=u[i+3];u[i+0]=(192&d)>>6|(192&g)>>4|(192&h)>>2|192&v,u[i+1]=(48&d)>>4|(48&g)>>2|48&h|(48&v)<<2,u[i+2]=(12&d)>>2|12&g|(12&h)<<2|(12&v)<<4,u[i+3]=3&d|(3&g)<<2|(3&h)<<4|(3&v)<<6}return u;default:throw new Error(`Invalid pixel format, "${n}"`)}}lo(nv,"DEMData"),lo(Zm,"DemMinMaxQuadTree",{omit:["dem"]});var Su=Uint8Array,Vm=Uint16Array,gS=Int32Array,ex=new Su([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),tx=new Su([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),vS=new Su([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),nx=function(u,n){for(var i=new Vm(31),d=0;d<31;++d)i[d]=n+=1<<u[d-1];var g=new gS(i[30]);for(d=1;d<30;++d)for(var h=i[d];h<i[d+1];++h)g[h]=h-i[d]<<5|d;return{b:i,r:g}},rx=nx(ex,2),ix=rx.b,s_=rx.r;ix[28]=258,s_[258]=28;for(var yS=nx(tx,0).b,ox=new Vm(32768),kl=0;kl<32768;++kl){var Vf=(43690&kl)>>1|(21845&kl)<<1;ox[kl]=((65280&(Vf=(61680&(Vf=(52428&Vf)>>2|(13107&Vf)<<2))>>4|(3855&Vf)<<4))>>8|(255&Vf)<<8)>>1}var Mg=function(u,n,i){for(var d=u.length,g=0,h=new Vm(n);g<d;++g)u[g]&&++h[u[g]-1];var v,S=new Vm(n);for(g=1;g<n;++g)S[g]=S[g-1]+h[g-1]<<1;v=new Vm(1<<n);var T=15-n;for(g=0;g<d;++g)if(u[g])for(var A=g<<4|u[g],b=n-u[g],P=S[u[g]-1]++<<b,$=P|(1<<b)-1;P<=$;++P)v[ox[P]>>T]=A;return v},Tg=new Su(288);for(kl=0;kl<144;++kl)Tg[kl]=8;for(kl=144;kl<256;++kl)Tg[kl]=9;for(kl=256;kl<280;++kl)Tg[kl]=7;for(kl=280;kl<288;++kl)Tg[kl]=8;var ax=new Su(32);for(kl=0;kl<32;++kl)ax[kl]=5;var _S=Mg(Tg,9),bS=Mg(ax,5),l_=function(u){for(var n=u[0],i=1;i<u.length;++i)u[i]>n&&(n=u[i]);return n},nd=function(u,n,i){var d=n/8|0;return(u[d]|u[d+1]<<8)>>(7&n)&i},rv=function(u,n){var i=n/8|0;return(u[i]|u[i+1]<<8|u[i+2]<<16)>>(7&n)},sx=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Lu=function(u,n,i){var d=new Error(n||sx[u]);if(d.code=u,Error.captureStackTrace&&Error.captureStackTrace(d,Lu),!i)throw d;return d},f2=new Su(0),xS=typeof TextDecoder!="undefined"&&new TextDecoder;try{xS.decode(f2,{stream:!0})}catch(u){}const iv={gzip_data:"gzip"};class wu extends Error{constructor(n){super(n),this.name="MRTError"}}const CS={0:"uint32",1:"uint32",2:"uint16",3:"uint8"},Nh={uint32:1,uint16:2,uint8:4},Hm={uint32:Uint32Array,uint16:Uint16Array,uint8:Uint8Array};let c_;class u_{constructor(n=5){this.x=NaN,this.y=NaN,this.z=NaN,this.layers={},this._cacheSize=n}getLayer(n){const i=this.layers[n];if(!i)throw new wu(`Layer '${n}' not found`);return i}getHeaderLength(n){const i=new Uint8Array(n),d=new DataView(n);if(i[0]!==13)throw new wu("File is not a valid MRT.");return d.getUint32(1,!0)}parseHeader(n){const i=new Uint8Array(n),d=this.getHeaderLength(n);if(i.length<d)throw new wu(`Expected header with length >= ${d} but got buffer of length ${i.length}`);const g=function(h,v){return h.readFields(Q1,{headerLength:0,x:0,y:0,z:0,layers:[]},void 0)}(new c_(i.subarray(0,d)));if(!isNaN(this.x)&&(this.x!==g.x||this.y!==g.y||this.z!==g.z))throw new wu(`Invalid attempt to parse header ${g.z}/${g.x}/${g.y} for tile ${this.z}/${this.x}/${this.y}`);this.x=g.x,this.y=g.y,this.z=g.z;for(const h of g.layers)this.layers[h.name]=new SS(h,{cacheSize:this._cacheSize});return this}createDecodingTask(n){const i=[],d=this.getLayer(n.layerName);for(let g of n.blockIndices){const h=d.dataIndex[g],v=h.firstByte-n.firstByte,S=h.lastByte-n.firstByte;if(d._blocksInProgress.has(g))continue;const T={layerName:d.name,firstByte:v,lastByte:S,pixelFormat:d.pixelFormat,blockIndex:g,blockShape:[h.bands.length].concat(d.bandShape),buffer:d.buffer,codec:h.codec.codec,filters:h.filters.map(A=>A.filter)};d._blocksInProgress.add(g),i.push(T)}return new lx(i,()=>{i.forEach(g=>d._blocksInProgress.delete(g.blockIndex))},(g,h)=>{if(i.forEach(v=>d._blocksInProgress.delete(v.blockIndex)),g)throw g;h.forEach(v=>{this.getLayer(v.layerName).processDecodedData(v)})})}}class SS{constructor({version:n,name:i,units:d,tileSize:g,pixelFormat:h,buffer:v,dataIndex:S},T){if(this.version=n,this.version!==1)throw new wu(`Cannot parse raster layer encoded with MRT version ${n}`);this.name=i,this.units=d,this.tileSize=g,this.buffer=v,this.pixelFormat=CS[h],this.dataIndex=S,this.bandShape=[g+2*v,g+2*v,Nh[this.pixelFormat]],this._decodedBlocks=new e_(T?T.cacheSize:5),this._blocksInProgress=new Set}get dimension(){return Nh[this.pixelFormat]}get cacheSize(){return this._decodedBlocks.capacity}getBandList(){return this.dataIndex.map(({bands:n})=>n).flat()}processDecodedData(n){const i=n.blockIndex.toString();this._decodedBlocks.get(i)||this._decodedBlocks.put(i,n.data)}getBlockForBand(n){let i=0;switch(typeof n){case"string":for(const[d,g]of this.dataIndex.entries()){for(const[h,v]of g.bands.entries())if(v===n)return{bandIndex:i+h,blockIndex:d,blockBandIndex:h};i+=g.bands.length}break;case"number":for(const[d,g]of this.dataIndex.entries()){if(n>=i&&n<i+g.bands.length)return{bandIndex:n,blockIndex:d,blockBandIndex:n-i};i+=g.bands.length}break;default:throw new wu(`Invalid band \`${JSON.stringify(n)}\`. Expected string or integer.`)}throw new wu(`Band not found: ${JSON.stringify(n)}`)}getDataRange(n){let i=1/0,d=-1/0;const g=[],h=new Set;for(const v of n){const{blockIndex:S}=this.getBlockForBand(v);if(S<0)throw new wu(`Invalid band: ${JSON.stringify(v)}`);const T=this.dataIndex[S];g.includes(S)||g.push(S),h.add(S),i=Math.min(i,T.firstByte),d=Math.max(d,T.lastByte)}if(h.size>this.cacheSize)throw new wu(`Number of blocks to decode (${h.size}) exceeds cache size (${this.cacheSize}).`);return{layerName:this.name,firstByte:i,lastByte:d,blockIndices:g}}hasBand(n){const{blockIndex:i}=this.getBlockForBand(n);return i>=0}hasDataForBand(n){const{blockIndex:i}=this.getBlockForBand(n);return i>=0&&!!this._decodedBlocks.get(i.toString())}getBandView(n){const{blockIndex:i,blockBandIndex:d}=this.getBlockForBand(n),g=this._decodedBlocks.get(i.toString());if(!g)throw new wu(`Data for band ${JSON.stringify(n)} of layer "${this.name}" not decoded.`);const h=this.dataIndex[i],v=this.bandShape.reduce((A,b)=>A*b,1),S=d*v,T=g.subarray(S,S+v);return{data:T,bytes:new Uint8Array(T.buffer).subarray(T.byteOffset,T.byteOffset+T.byteLength),tileSize:this.tileSize,buffer:this.buffer,pixelFormat:this.pixelFormat,dimension:this.dimension,offset:h.offset,scale:h.scale}}}u_.setPbf=function(u){c_=u};class lx{constructor(n,i,d){this.tasks=n,this._onCancel=i,this._onComplete=d,this._finalized=!1}cancel(){this._finalized||(this._onCancel(),this._finalized=!0)}complete(n,i){this._finalized||(this._onComplete(n,i),this._finalized=!0)}}u_.performDecoding=function(u,n){const i=new Uint8Array(u);return Promise.all(n.tasks.map(d=>{const{layerName:g,firstByte:h,lastByte:v,pixelFormat:S,blockShape:T,blockIndex:A,filters:b,codec:P}=d,$=i.subarray(h,v+1),M=new Uint32Array(T[0]*T[1]*T[2]);let O;if(P!=="gzip_data")throw new wu(`Unhandled codec: ${P}`);return O=function(N,W){if(!globalThis.DecompressionStream&&W==="gzip_data")return Promise.resolve(((ne=function(De){De[0]==31&&De[1]==139&&De[2]==8||Lu(6,"invalid gzip data");var ut=De[3],st=10;4&ut&&(st+=2+(De[10]|De[11]<<8));for(var tt=(ut>>3&1)+(ut>>4&1);tt>0;tt-=!De[st++]);return st+(2&ut)}(ce=N))+8>ce.length&&Lu(6,"invalid gzip data"),function(De,ut,st,tt){var Zt=De.length;if(!Zt||ut.f&&!ut.l)return st||new Su(0);var pt=!st,Yt=pt||ut.i!=2,un=ut.i;pt&&(st=new Su(3*Zt));var on,hn,On=function(Sd){var jh=st.length;if(Sd>jh){var Rg=new Su(Math.max(2*jh,Sd));Rg.set(st),st=Rg}},kn=ut.f||0,Cn=ut.p||0,Sr=ut.b||0,Gr=ut.l,br=ut.d,Bi=ut.m,Ti=ut.n,di=8*Zt;do{if(!Gr){kn=nd(De,Cn,1);var Hr=nd(De,Cn+1,3);if(Cn+=3,!Hr){var go=De[(Sa=4+((Cn+7)/8|0))-4]|De[Sa-3]<<8,ji=Sa+go;if(ji>Zt){un&&Lu(0);break}Yt&&On(Sr+go),st.set(De.subarray(Sa,ji),Sr),ut.b=Sr+=go,ut.p=Cn=8*ji,ut.f=kn;continue}if(Hr==1)Gr=_S,br=bS,Bi=9,Ti=5;else if(Hr==2){var qi=nd(De,Cn,31)+257,la=nd(De,Cn+10,15)+4,za=qi+nd(De,Cn+5,31)+1;Cn+=14;for(var Ba=new Su(za),Fa=new Su(19),Ja=0;Ja<la;++Ja)Fa[vS[Ja]]=nd(De,Cn+3*Ja,7);Cn+=3*la;var Qa=l_(Fa),js=(1<<Qa)-1,Ts=Mg(Fa,Qa);for(Ja=0;Ja<za;){var Sa,Es=Ts[nd(De,Cn,js)];if(Cn+=15&Es,(Sa=Es>>4)<16)Ba[Ja++]=Sa;else{var Is=0,Xs=0;for(Sa==16?(Xs=3+nd(De,Cn,3),Cn+=2,Is=Ba[Ja-1]):Sa==17?(Xs=3+nd(De,Cn,7),Cn+=3):Sa==18&&(Xs=11+nd(De,Cn,127),Cn+=7);Xs--;)Ba[Ja++]=Is}}var wl=Ba.subarray(0,qi),jl=Ba.subarray(qi);Bi=l_(wl),Ti=l_(jl),Gr=Mg(wl,Bi),br=Mg(jl,Ti)}else Lu(1);if(Cn>di){un&&Lu(0);break}}Yt&&On(Sr+131072);for(var El=(1<<Bi)-1,ml=(1<<Ti)-1,Il=Cn;;Il=Cn){var sl=(Is=Gr[rv(De,Cn)&El])>>4;if((Cn+=15&Is)>di){un&&Lu(0);break}if(Is||Lu(2),sl<256)st[Sr++]=sl;else{if(sl==256){Il=Cn,Gr=null;break}var wc=sl-254;sl>264&&(wc=nd(De,Cn,(1<<(rd=ex[Ja=sl-257]))-1)+ix[Ja],Cn+=rd);var Zs=br[rv(De,Cn)&ml],du=Zs>>4;if(Zs||Lu(3),Cn+=15&Zs,jl=yS[du],du>3){var rd=tx[du];jl+=rv(De,Cn)&(1<<rd)-1,Cn+=rd}if(Cn>di){un&&Lu(0);break}Yt&&On(Sr+131072);var fc=Sr+wc;if(Sr<jl){var id=0-jl,kh=Math.min(jl,fc);for(id+Sr<0&&Lu(3);Sr<kh;++Sr)st[Sr]=(void 0)[id+Sr]}for(;Sr<fc;++Sr)st[Sr]=st[Sr-jl]}}ut.l=Gr,ut.p=Il,ut.b=Sr,ut.f=kn,Gr&&(kn=1,ut.m=Bi,ut.d=br,ut.n=Ti)}while(!kn);return Sr!=st.length&&pt?(on=st,((hn=Sr)==null||hn>on.length)&&(hn=on.length),new Su(on.subarray(0,hn))):st.subarray(0,Sr)}(ce.subarray(ne,-8),{i:2},new Su(((q=ce)[(ae=q.length)-4]|q[ae-3]<<8|q[ae-2]<<16|q[ae-1]<<24)>>>0))));var q,ae,ce,ne;const ge=iv[W];if(!ge)throw new Error(`Unhandled codec: ${W}`);const Ce=new globalThis.DecompressionStream(ge);return new Response(new Blob([N]).stream().pipeThrough(Ce)).arrayBuffer().then(De=>new Uint8Array(De))}($,P).then(N=>(function(W,q){W.readFields(a_,q)}(new c_(N),M),new Hm[S](M.buffer))),O.then(N=>{for(let W=b.length-1;W>=0;W--)switch(b[W]){case"delta_filter":hS(N,T);break;case"zigzag_filter":mS(N);break;case"bitshuffle_filter":pS(N,S);break;default:throw new wu(`Unhandled filter "${b[W]}"`)}return{layerName:g,blockIndex:A,data:N}}).catch(N=>{throw N})}))},lo(lx,"MRTDecodingBatch",{omit:["_onCancel","_onComplete"]});let Bh,ov,Nu,Xc,Hf,Um=null;function d_(){return ho()&&self.worker&&self.worker.dracoUrl?self.worker.dracoUrl:ov||oi.DRACO_URL}function Wm(){if(ho()&&self.worker&&self.worker.meshoptUrl)return self.worker.meshoptUrl;if(Xc)return Xc;const u=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]);if(typeof WebAssembly!="object")throw new Error("WebAssembly not supported, cannot instantiate meshoptimizer");return Xc=WebAssembly.validate(u)?oi.MESHOPT_SIMD_URL:oi.MESHOPT_URL,Xc}const av={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},cx={5120:"DT_INT8",5121:"DT_UINT8",5122:"DT_INT16",5123:"DT_UINT16",5125:"DT_UINT32",5126:"DT_FLOAT32"},Pg={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16};function Og(u,n,i){const d=i.json.bufferViews.length,g=i.buffers.length;n.bufferView=d,i.json.bufferViews[d]={buffer:g,byteLength:u.byteLength},i.buffers[g]=u}const sv="KHR_draco_mesh_compression";function Gm(u,n){const i=u.extensions&&u.extensions[sv];if(!i)return;const d=new Nu.Decoder,g=Cd(n,i.bufferView),h=new Nu.Mesh;if(!d.DecodeArrayToMesh(g,g.byteLength,h))throw new Error("Failed to decode Draco mesh");const v=n.json.accessors[u.indices],S=av[v.componentType],T=v.count*S.BYTES_PER_ELEMENT,A=Nu._malloc(T);S===Uint16Array?d.GetTrianglesUInt16Array(h,T,A):d.GetTrianglesUInt32Array(h,T,A),Og(Nu.memory.buffer.slice(A,A+T),v,n),Nu._free(A);for(const b of Object.keys(i.attributes)){const P=d.GetAttributeByUniqueId(h,i.attributes[b]),$=n.json.accessors[u.attributes[b]],M=cx[$.componentType],O=$.count*Pg[$.type]*av[$.componentType].BYTES_PER_ELEMENT,N=Nu._malloc(O);d.GetAttributeDataArrayForAllPoints(h,P,Nu[M],O,N),Og(Nu.memory.buffer.slice(N,N+O),$,n),Nu._free(N)}d.destroy(),h.destroy(),delete u.extensions[sv]}const lv="EXT_meshopt_compression";function ux(u,n){if(!u.extensions||!u.extensions[lv])return;const i=u.extensions[lv],d=new Uint8Array(n.buffers[i.buffer],i.byteOffset||0,i.byteLength||0),g=new Uint8Array(i.count*i.byteStride);Hf.decodeGltfBuffer(g,i.count,i.byteStride,d,i.mode,i.filter),u.buffer=n.buffers.length,u.byteOffset=0,n.buffers[u.buffer]=g.buffer,delete u.extensions[lv]}const Uf=1179937895,dx=new TextDecoder("utf8");function f_(u,n){return new URL(u,n).href}function wS(u,n,i,d){return fetch(f_(u.uri,d)).then(g=>g.arrayBuffer()).then(g=>{n.buffers[i]=g})}function Cd(u,n){const i=u.json.bufferViews[n];return new Uint8Array(u.buffers[i.buffer],i.byteOffset||0,i.byteLength)}function fx(u,n,i,d){if(u.uri){const g=f_(u.uri,d);return fetch(g).then(h=>h.blob()).then(h=>createImageBitmap(h)).then(h=>{n.images[i]=h})}if(u.bufferView!==void 0){const g=Cd(n,u.bufferView),h=new Blob([g],{type:u.mimeType});return createImageBitmap(h).then(v=>{n.images[i]=v})}}function h_(u,n=0,i){const d={json:null,images:[],buffers:[]};if(new Uint32Array(u,n,1)[0]===Uf){const b=new Uint32Array(u,n);let P=2;const $=(b[P++]>>2)-3,M=b[P++]>>2;if(P++,d.json=JSON.parse(dx.decode(b.subarray(P,P+M))),P+=M,P<$){const O=b[P++];P++;const N=n+(P<<2);d.buffers[0]=u.slice(N,N+O)}}else d.json=JSON.parse(dx.decode(new Uint8Array(u,n)));const{buffers:g,images:h,meshes:v,extensionsUsed:S,bufferViews:T}=d.json;let A=Promise.resolve();if(g){const b=[];for(let P=0;P<g.length;P++){const $=g[P];$.uri?b.push(wS($,d,P,i)):d.buffers[P]||(d.buffers[P]=null)}A=Promise.all(b)}return A.then(()=>{const b=[],P=S&&S.includes(sv),$=S&&S.includes(lv);if(P&&b.push(function(){if(!Nu)return Bh!=null?Bh:(Bh=function(M){let O,N=null;function W(){O=new Uint8Array(N.buffer)}function q(){throw new Error("Unexpected Draco error.")}const ae={a:{a:q,d:function(ce,ne,ge){return O.copyWithin(ce,ne,ne+ge)},c:function(ce){const ne=O.length,ge=Math.max(ce>>>0,Math.ceil(1.2*ne)),Ce=Math.ceil((ge-ne)/65536);try{return N.grow(Ce),W(),!0}catch(De){return!1}},b:q}};return(WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(M,ae):M.then(ce=>ce.arrayBuffer()).then(ce=>WebAssembly.instantiate(ce,ae))).then(ce=>{const{Rb:ne,Qb:ge,P:Ce,T:De,X:ut,Ja:st,La:tt,Qa:Zt,Va:pt,Wa:Yt,eb:un,jb:on,f:hn,e:On,yb:kn,zb:Cn,Ab:Sr,Bb:Gr,Db:br,Gb:Bi}=ce.instance.exports;N=On;const Ti=(()=>{let di=0,Hr=0,go=0,ji=0;return qi=>{go&&(ne(ji),ne(di),Hr+=go,go=di=0),di||(Hr+=128,di=ge(Hr));const la=qi.length+7&-8;let za=di;la>=Hr&&(go=la,za=ji=ge(la));for(let Ba=0;Ba<qi.length;Ba++)O[za+Ba]=qi[Ba];return za}})();return W(),hn(),{memory:On,_free:ne,_malloc:ge,Mesh:class{constructor(){this.ptr=Ce()}destroy(){De(this.ptr)}},Decoder:class{constructor(){this.ptr=st()}destroy(){on(this.ptr)}DecodeArrayToMesh(di,Hr,go){const ji=Ti(di),qi=tt(this.ptr,ji,Hr,go.ptr);return!!ut(qi)}GetAttributeByUniqueId(di,Hr){return{ptr:Zt(this.ptr,di.ptr,Hr)}}GetTrianglesUInt16Array(di,Hr,go){pt(this.ptr,di.ptr,Hr,go)}GetTrianglesUInt32Array(di,Hr,go){Yt(this.ptr,di.ptr,Hr,go)}GetAttributeDataArrayForAllPoints(di,Hr,go,ji,qi){un(this.ptr,di.ptr,Hr.ptr,go,ji,qi)}},DT_INT8:kn(),DT_UINT8:Cn(),DT_INT16:Sr(),DT_UINT16:Gr(),DT_UINT32:br(),DT_FLOAT32:Bi()}})}(fetch(d_())),Bh.then(M=>{Nu=M,Bh=void 0}))}()),$&&b.push(function(){if(Hf)return;const M=function(O){let N;const W=WebAssembly.instantiateStreaming(O,{}).then(ce=>{N=ce.instance,N.exports.__wasm_call_ctors()}),q={NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},ae={ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return{ready:W,supported:!0,decodeGltfBuffer(ce,ne,ge,Ce,De,ut){(function(st,tt,Zt,pt,Yt,un,on){const hn=st.exports.sbrk,On=pt+3&-4,kn=hn(On*Yt),Cn=hn(un.length),Sr=new Uint8Array(st.exports.memory.buffer);Sr.set(un,Cn);const Gr=tt(kn,pt,Yt,Cn,un.length);if(Gr===0&&on&&on(kn,On,Yt),Zt.set(Sr.subarray(kn,kn+pt*Yt)),hn(kn-hn(0)),Gr!==0)throw new Error(`Malformed buffer data: ${Gr}`)})(N,N.exports[ae[De]],ce,ne,ge,Ce,N.exports[q[ut]])}}}(fetch(Wm()));return M.ready.then(()=>{Hf=M})}()),h)for(let M=0;M<h.length;M++)b.push(fx(h[M],d,M,i));return(b.length?Promise.all(b):Promise.resolve()).then(()=>{if(P&&v)for(const{primitives:M}of v)for(const O of M)Gm(O,d);if($&&v&&T)for(const M of T)ux(M,d);return d})})}function Fh(u,n){const i=u.json.bufferViews[n.bufferView],d=av[n.componentType];return new d(u.buffers[i.buffer],(n.byteOffset||0)+(i.byteOffset||0),n.count*(i.byteStride&&i.byteStride!==Pg[n.type]*d.BYTES_PER_ELEMENT?i.byteStride/d.BYTES_PER_ELEMENT:Pg[n.type]))}function m_(u,n,i,d){const g=av[n.componentType],h=function(b){switch(b){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:return 1}}(g),v=u.json.bufferViews[n.bufferView],S=v.byteStride?v.byteStride/g.BYTES_PER_ELEMENT:Pg[n.type],T=i.float32,A=T.length/i.capacity;for(let b=0,P=0;b<n.count*S;b+=S,P+=A)for(let $=0;$<A;$++)T[P+$]=d[b+$]*h;i._trim()}function ES(u,n,i){const d=u.indices,g=u.attributes,h={};h.indexArray=new Nl;const v=n.json.accessors[d],S=v.count/3;h.indexArray.reserve(S);const T=Fh(n,v);for(let $=0;$<S;$++)h.indexArray.emplaceBack(T[3*$],T[3*$+1],T[3*$+2]);h.indexArray._trim(),h.vertexArray=new Ou;const A=n.json.accessors[g.POSITION];h.vertexArray.reserve(A.count);const b=Fh(n,A);for(let $=0;$<A.count;$++)h.vertexArray.emplaceBack(b[3*$],b[3*$+1],b[3*$+2]);if(h.vertexArray._trim(),h.aabb=new Eo(A.min,A.max),h.centroid=function($,M){const O=[0,0,0],N=$.length;if(N>0){for(let W=0;W<N;W++){const q=3*$[W];O[0]+=M[q],O[1]+=M[q+1],O[2]+=M[q+2]}O[0]/=N,O[1]/=N,O[2]/=N}return O}(T,b),g.COLOR_0!==void 0){const $=n.json.accessors[g.COLOR_0],M=Pg[$.type],O=Fh(n,$);h.colorArray=M===3?new Ou:new Zd,h.colorArray.resize($.count),m_(n,$,h.colorArray,O)}if(g.NORMAL!==void 0){h.normalArray=new Ou;const $=n.json.accessors[g.NORMAL];h.normalArray.resize($.count);const M=Fh(n,$);m_(n,$,h.normalArray,M)}if(g.TEXCOORD_0!==void 0&&i.length>0){h.texcoordArray=new bf;const $=n.json.accessors[g.TEXCOORD_0];h.texcoordArray.resize($.count);const M=Fh(n,$);m_(n,$,h.texcoordArray,M)}if(g._FEATURE_ID_RGBA4444!==void 0){const $=n.json.accessors[g._FEATURE_ID_RGBA4444];n.json.extensionsUsed&&n.json.extensionsUsed.includes("EXT_meshopt_compression")&&(h.featureData=Fh(n,$))}g._FEATURE_RGBA4444!==void 0&&(h.featureData=new Uint32Array(Fh(n,n.json.accessors[g._FEATURE_RGBA4444]).buffer));const P=u.material;return h.material=function($,M){const{emissiveFactor:O=[0,0,0],alphaMode:N="OPAQUE",alphaCutoff:W=.5,normalTexture:q,occlusionTexture:ae,emissiveTexture:ce,doubleSided:ne}=$,{baseColorFactor:ge=[1,1,1,1],metallicFactor:Ce=1,roughnessFactor:De=1,baseColorTexture:ut,metallicRoughnessTexture:st}=$.pbrMetallicRoughness||{},tt=ae?M[ae.index]:void 0;if(ae&&ae.extensions&&ae.extensions.KHR_texture_transform&&tt){const Zt=ae.extensions.KHR_texture_transform;tt.offsetScale=[Zt.offset[0],Zt.offset[1],Zt.scale[0],Zt.scale[1]]}return{pbrMetallicRoughness:{baseColorFactor:new Fi(...ge),metallicFactor:Ce,roughnessFactor:De,baseColorTexture:ut?M[ut.index]:void 0,metallicRoughnessTexture:st?M[st.index]:void 0},doubleSided:ne,emissiveFactor:O,alphaMode:N,alphaCutoff:W,normalTexture:q?M[q.index]:void 0,occlusionTexture:tt,emissionTexture:ce?M[ce.index]:void 0,defined:$.defined===void 0}}(P!==void 0?n.json.materials[P]:{defined:!1},i),h}function p_(u,n,i){const{matrix:d,rotation:g,translation:h,scale:v,mesh:S,extras:T,children:A}=u,b={};if(b.matrix=d||Te.mat4.fromRotationTranslationScale([],g||[0,0,0,1],h||[0,0,0],v||[1,1,1]),S!==void 0){b.meshes=i[S];const P=b.anchor=[0,0];for(const $ of b.meshes){const{min:M,max:O}=$.aabb;P[0]+=M[0]+O[0],P[1]+=M[1]+O[1]}P[0]=Math.floor(P[0]/b.meshes.length/2),P[1]=Math.floor(P[1]/b.meshes.length/2)}if(T&&(T.id&&(b.id=T.id),T.lights&&(b.lights=function(P){if(!P.length)return[];const $=function(q){const ae=atob(q),ce=new Uint8Array(ae.length);for(let ne=0;ne<ae.length;ne++)ce[ne]=ae.codePointAt(ne);return ce}(P),M=[],O=$.length/24,N=new Uint16Array($.buffer),W=new Float32Array($.buffer);for(let q=0;q<O;q++){const ae=N[2*q*6]/30,ce=N[2*q*6+1]/30,ne=N[2*q*6+10]/100,ge=W[6*q+1],Ce=W[6*q+2],De=W[6*q+3],ut=W[6*q+4],st=De-ge,tt=ut-Ce,Zt=Math.hypot(st,tt);M.push({pos:[ge+.5*st,Ce+.5*tt,ce],normal:[tt/Zt,-st/Zt,0],width:Zt,height:ae,depth:ne,points:[ge,Ce,De,ut]})}return M}(T.lights))),A){const P=[];for(const $ of A)P.push(p_(n.json.nodes[$],n,i));b.children=P}return b}function IS(u){if(u.vertices.length===0||u.indices.length===0)return null;const n=new ab(u.vertices,u.indices,8,256),[i,d]=[n.min.clone(),n.max.clone()];return{vertices:u.vertices,indices:u.indices,grid:n,min:i,max:d}}function MS(u){if(!u.extras||!u.extras.ground)return null;const n=u.extras.ground;if(!n||!Array.isArray(n)||n.length===0)return null;const i=n[0];if(!i||!Array.isArray(i)||i.length===0)return null;const d=[];for(const v of i){if(!Array.isArray(v)||v.length!==2)continue;const S=v[0],T=v[1];typeof S=="number"&&typeof T=="number"&&d.push(new In(S,T))}if(d.length<3)return null;d.length>1&&d[d.length-1].equals(d[0])&&d.pop();let g=0;for(let v=0;v<d.length;v++){const S=d[v],T=d[(v+1)%d.length],A=d[(v+2)%d.length];g+=(S.x-T.x)*(A.y-T.y)-(A.x-T.x)*(S.y-T.y)}g>0&&d.reverse();const h=Bp(d.flatMap(v=>[v.x,v.y]),[]);return h.length===0?null:{vertices:d,indices:h}}function TS(u,n){const i=[],d=[];let g=0;const h=[];for(const v of u){g=i.length;const S=v.vertexArray.float32,T=v.indexArray.uint16;for(let A=0;A<v.vertexArray.length;A++)h[0]=S[3*A+0],h[1]=S[3*A+1],h[2]=S[3*A+2],Te.vec3.transformMat4(h,h,n),i.push(new In(h[0],h[1]));for(let A=0;A<3*v.indexArray.length;A++)d.push(T[A]+g)}if(d.length%3!=0)return null;for(let v=0;v<d.length;v+=3){const S=i[d[v+0]],T=i[d[v+1]],A=i[d[v+2]];(S.x-T.x)*(A.y-T.y)-(A.x-T.x)*(S.y-T.y)>0&&([d[v+1],d[v+2]]=[d[v+2],d[v+1]])}return{vertices:i,indices:d}}function hx(u){const n=function(T,A){const b=[],P=WebGL2RenderingContext;if(T.json.textures)for(const $ of T.json.textures){const M={magFilter:P.LINEAR,minFilter:P.NEAREST,wrapS:P.REPEAT,wrapT:P.REPEAT};$.sampler!==void 0&&Object.assign(M,T.json.samplers[$.sampler]),b.push({image:A[$.source],sampler:M,uploaded:!1})}return b}(u,u.images),i=function(T,A){const b=[];for(const P of T.json.meshes){const $=[];for(const M of P.primitives)$.push(ES(M,T,A));b.push($)}return b}(u,n),{scenes:d,scene:g,nodes:h}=u.json,v=d?d[g||0].nodes:h,S=[];for(const T of v)S.push(p_(h[T],u,i));return function(T,A,b){const P={},$=new Set;for(let M=0;M<T.length;M++){const O=b[A[M]];if(!O.extras)continue;const N=O.extras["mapbox:footprint:version"],W=O.extras["mapbox:footprint:id"];(N||W)&&$.add(M),N==="1.0.0"&&W&&(P[W]=M)}for(let M=0;M<T.length;M++){if($.has(M))continue;const O=T[M],N=b[A[M]];if(!N.extras)continue;let W=null;O.id in P&&(W=TS(T[P[O.id]].meshes,O.matrix)),W||(W=MS(N)),W&&(O.footprint=IS(W))}if($.size>0){const M=Array.from($.values()).sort((O,N)=>O-N);for(let O=M.length-1;O>=0;O--)T.splice(M[O],1)}}(S,v,u.json.nodes),S}function PS(u){u.heightmap=new Float32Array(4096),u.heightmap.fill(-1);const n=u.vertexArray.float32,i=u.aabb.min[0]-1,d=u.aabb.min[1]-1,g=Ah/(u.aabb.max[0]-i+2),h=Ah/(u.aabb.max[1]-d+2);for(let v=0;v<n.length;v+=3){const S=n[v+2],T=(n[v+0]-i)*g|0,A=(n[v+1]-d)*h|0;S>u.heightmap[A*Ah+T]&&(u.heightmap[A*Ah+T]=S)}}function mx(u,n){const i={};i.indexArray=new Nl,i.indexArray.reserve(4*u.length),i.vertexArray=new Ou,i.vertexArray.reserve(10*u.length),i.colorArray=new Zd,i.vertexArray.reserve(10*u.length);let d=0;for(const v of u){const S=Math.min(10,Math.max(4,1.3*v.height))*n,T=[-v.normal[1],v.normal[0],0],A=Math.min(.29,.1*v.width/v.depth),b=v.width-2*v.depth*n*(A+.01),P=Te.vec3.scaleAndAdd([],v.pos,T,b/2),$=Te.vec3.scaleAndAdd([],v.pos,T,-b/2),M=[P[0],P[1],P[2]+v.height],O=[$[0],$[1],$[2]+v.height],N=Te.vec3.scaleAndAdd([],v.normal,T,A);Te.vec3.scale(N,N,S);const W=Te.vec3.scaleAndAdd([],v.normal,T,-A);Te.vec3.scale(W,W,S),Te.vec3.add(N,P,N),Te.vec3.add(W,$,W),P[2]+=.1,$[2]+=.1,i.vertexArray.emplaceBack(N[0],N[1],N[2]),i.vertexArray.emplaceBack(W[0],W[1],W[2]),i.vertexArray.emplaceBack(P[0],P[1],P[2]),i.vertexArray.emplaceBack($[0],$[1],$[2]),i.vertexArray.emplaceBack(M[0],M[1],M[2]),i.vertexArray.emplaceBack(O[0],O[1],O[2]),i.vertexArray.emplaceBack(P[0],P[1],P[2]),i.vertexArray.emplaceBack($[0],$[1],$[2]),i.vertexArray.emplaceBack(N[0],N[1],N[2]),i.vertexArray.emplaceBack(W[0],W[1],W[2]);const q=b/S/2;i.colorArray.emplaceBack(-q-A,-1,q,.8),i.colorArray.emplaceBack(q+A,-1,q,.8),i.colorArray.emplaceBack(-q,0,q,1.3),i.colorArray.emplaceBack(q,0,q,1.3),i.colorArray.emplaceBack(q+A,-.8,q,.7),i.colorArray.emplaceBack(q+A,-.8,q,.7),i.colorArray.emplaceBack(0,0,q,1.3),i.colorArray.emplaceBack(0,0,q,1.3),i.colorArray.emplaceBack(q+A,-1.2,q,.8),i.colorArray.emplaceBack(q+A,-1.2,q,.8),i.indexArray.emplaceBack(6+d,4+d,8+d),i.indexArray.emplaceBack(7+d,9+d,5+d),i.indexArray.emplaceBack(0+d,1+d,2+d),i.indexArray.emplaceBack(1+d,3+d,2+d),d+=10}const g={defined:!0,emissiveFactor:[0,0,0]},h={};return h.baseColorFactor=Fi.white,g.pbrMetallicRoughness=h,i.material=g,i.aabb=new Eo([1/0,1/0,1/0],[-1/0,-1/0,-1/0]),i}class px{constructor(n){this._stringToNumber={},this._numberToString=[];for(let i=0;i<n.length;i++){const d=n[i];this._stringToNumber[d]=i,this._numberToString[i]=d}}encode(n){return this._stringToNumber[n]}decode(n){return this._numberToString[n]}}const OS=["id","tile","layer","source","sourceLayer","state"];class Km{constructor(n,i,d,g,h){this.type="Feature",this._vectorTileFeature=n,this._z=i,this._x=d,this._y=g,this.properties=n.properties,this.id=h}clone(){const n=new Km(this._vectorTileFeature,this._z,this._x,this._y,this.id);return this.state&&(n.state=Object.assign({},this.state)),this.layer&&(n.layer=Object.assign({},this.layer)),this.source&&(n.source=this.source),this.sourceLayer&&(n.sourceLayer=this.sourceLayer),n}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry}set geometry(n){this._geometry=n}toJSON(){const n={type:"Feature",state:void 0,geometry:this.geometry,properties:this.properties};for(const i of OS)this[i]!==void 0&&(n[i]=this[i]);return n}}class g_{constructor(n,i){this.tileID=n,this.x=n.canonical.x,this.y=n.canonical.y,this.z=n.canonical.z,this.grid=new Ld(Ii,16,0),this.featureIndexArray=new _h,this.promoteId=i,this.is3DTile=!1,this.serializedLayersCache=new Map}insert(n,i,d,g,h,v=0,S=0){const T=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(d,g,h,v);const A=this.grid;for(let b=0;b<i.length;b++){const P=i[b],$=[1/0,1/0,-1/0,-1/0];for(let M=0;M<P.length;M++){const O=P[M];$[0]=Math.min($[0],O.x),$[1]=Math.min($[1],O.y),$[2]=Math.max($[2],O.x),$[3]=Math.max($[3],O.y)}S!==0&&($[0]-=S,$[1]-=S,$[2]+=S,$[3]+=S),$[0]<Ii&&$[1]<Ii&&$[2]>=0&&$[3]>=0&&A.insert(T,$[0],$[1],$[2],$[3])}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new Mf.VectorTile(new Jp(this.rawTileData)).layers,this.sourceLayerCoder=new px(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={};for(const n in this.vtLayers)this.vtFeatures[n]=[]}return this.vtLayers}query(n,i){const{tilespaceGeometry:d,transform:g,tileTransform:h,pixelPosMatrix:v,availableImages:S}=i;this.loadVTLayers(),this.serializedLayersCache.clear();const T=d.bufferedTilespaceBounds,A=this.grid.query(T.min.x,T.min.y,T.max.x,T.max.y,(M,O,N,W)=>qt(d.bufferedTilespaceGeometry,M,O,N,W));A.sort(h2);let b=null;g.elevation&&A.length>0&&(b=Bm.create(g.elevation,this.tileID));const P={};let $;for(let M=0;M<A.length;M++){const O=A[M];if(O===$)continue;$=O;const N=this.featureIndexArray.get(O);let W=null;this.is3DTile?this.loadMatchingModelFeature(P,N,n,d,g):this.loadMatchingFeature(P,N,n,S,(q,ae,ce,ne=0)=>(W||(W=U(q,this.tileID.canonical,h)),ae.queryIntersectsFeature(d,q,ce,W,this.z,g,v,b,ne)))}return P}loadMatchingFeature(n,i,d,g,h){const{featureIndex:v,bucketIndex:S,sourceLayerIndex:T,layoutVertexArrayOffset:A}=i,b=this.bucketLayerIDs[S],P=d.layers,$=Object.keys(P);if($.length&&!function(q,ae){for(let ce=0;ce<q.length;ce++)if(ae.indexOf(q[ce])>=0)return!0;return!1}($,b))return;const M=d.sourceCache,O=this.sourceLayerCoder.decode(T),N=this.vtLayers[O].feature(v),W=this.getId(N,O);for(let q=0;q<b.length;q++){const ae=b[q];if(!P[ae])continue;const{styleLayer:ce,targets:ne}=P[ae];let ge={};W!==void 0&&(ge=M.getFeatureState(ce.sourceLayer,W));const Ce=!h||h(N,ce,ge,A);if(!Ce)continue;const De=new Km(N,this.z,this.x,this.y,W);De.tile=this.tileID.canonical,De.state=ge;let ut=this.serializedLayersCache.get(ae);ut||(ut=ce.serialize(),ut.id=ae,this.serializedLayersCache.set(ae,ut)),De.source=ut.source,De.sourceLayer=ut["source-layer"],De.layer=ti({},ut),De.layer.paint=RS(ut.paint,ce.paint,N,ge,g),De.layer.layout=RS(ut.layout,ce.layout,N,ge,g);let st=!1;for(const tt of ne){this.updateFeatureProperties(De,tt);const{filter:Zt}=tt;if(Zt){if(N.properties=De.properties,Zt.needGeometry){const pt=J(N,!0);if(!Zt.filter(new Ws(this.tileID.overscaledZ),pt,this.tileID.canonical))continue}else if(!Zt.filter(new Ws(this.tileID.overscaledZ),N))continue}st=!0,tt.targetId&&this.addFeatureVariant(De,tt)}st&&this.appendToResult(n,ae,v,De,Ce)}}loadMatchingModelFeature(n,i,d,g,h){const v=this.bucketLayerIDs[0][0],S=d.layers;if(!S[v])return;const{styleLayer:T,targets:A}=S[v];if(T.type!=="model")return;const b=g.tile,P=i.featureIndex,$=b.getBucket(T);if(!($&&$ instanceof U0))return;const M=function(ut,st,tt,Zt){const pt=ut.getNodesInfo()[st];if(pt.hiddenByReplacement||!pt.node.meshes)return;let Yt=Number.MAX_VALUE;const un=pt.node,on=tt.tile,hn=Zt.calculatePosMatrix(on.tileID.toUnwrapped(),Zt.worldSize),On=pt.evaluatedScale;let kn=0;Zt.elevation&&un.elevation&&(kn=un.elevation*Zt.elevation.exaggeration()),Te.mat4.translate(hn,hn,[(un.anchor?un.anchor[0]:0)*(On[0]-1),(un.anchor?un.anchor[1]:0)*(On[1]-1),kn]),Te.mat4.scale(hn,hn,On);const Cn=tt.queryGeometry,Sr=Cn.isPointQuery()?Cn.screenBounds:Cn.screenGeometry,Gr=function(Bi){const Ti=Te.mat4.multiply([],hn,Bi.matrix);Te.mat4.multiply(Ti,Zt.expandedFarZProjMatrix,Ti);for(let di=0;di<Bi.meshes.length;++di){const Hr=Bi.meshes[di];if(di===Bi.lightMeshIndex)continue;const go=T1(Sr,Zt,Ti,Hr.aabb);go!=null&&(Yt=Math.min(go,Yt))}if(Bi.children)for(const di of Bi.children)Gr(di)};if(Gr(un),Yt===Number.MAX_VALUE)return;const br=new ms(0,0);return k1(on.tileID.canonical,br,pt.node.anchor[0],pt.node.anchor[1]),{intersectionZ:Yt,position:br,feature:pt.feature}}($,P,g,h);if(!M)return;const{z:O,x:N,y:W}=b.tileID.canonical,{feature:q,intersectionZ:ae,position:ce}=M;let ne={};q.id!==void 0&&(ne=d.sourceCache.getFeatureState(T.sourceLayer,q.id));const ge=new Km({},O,N,W,q.id);ge.tile=this.tileID.canonical,ge.state=ne,ge.properties=q.properties,ge.geometry={type:"Point",coordinates:[ce.lng,ce.lat]};let Ce=this.serializedLayersCache.get(v);Ce||(Ce=T.serialize(),Ce.id=v,this.serializedLayersCache.set(v,Ce)),ge.source=Ce.source,ge.sourceLayer=Ce["source-layer"],ge.layer=ti({},Ce);let De=!1;for(const ut of A){this.updateFeatureProperties(ge,ut);const{filter:st}=ut;if(st){if(q.properties=ge.properties,st.needGeometry){if(!st.filter(new Ws(this.tileID.overscaledZ),q,this.tileID.canonical))continue}else if(!st.filter(new Ws(this.tileID.overscaledZ),q))continue}De=!0,ut.targetId&&this.addFeatureVariant(ge,ut)}De&&this.appendToResult(n,v,P,ge,ae)}updateFeatureProperties(n,i,d){if(i.properties){const g={};for(const h in i.properties){const v=i.properties[h].evaluate({zoom:this.z},n._vectorTileFeature,n.state,n.tile,d);v!=null&&(g[h]=v)}n.properties=g}}addFeatureVariant(n,i,d){const g={target:i.target,namespace:i.namespace,uniqueFeatureID:i.uniqueFeatureID};i.properties&&(g.properties=n.properties),n.variants=n.variants||{},n.variants[i.targetId]=n.variants[i.targetId]||[],n.variants[i.targetId].push(g)}appendToResult(n,i,d,g,h){let v=n[i];v===void 0&&(v=n[i]=[]),v.push({featureIndex:d,feature:g,intersectionZ:h})}lookupSymbolFeatures(n,i,d,g,h){const v={};this.loadVTLayers();for(const S of n)this.loadMatchingFeature(v,{bucketIndex:i,sourceLayerIndex:d,featureIndex:S,layoutVertexArrayOffset:0},g,h);return v}loadFeature(n){const{featureIndex:i,sourceLayerIndex:d}=n;this.loadVTLayers();const g=this.sourceLayerCoder.decode(d),h=this.vtFeatures[g];if(h[i])return h[i];const v=this.vtLayers[g].feature(i);return h[i]=v,v}hasLayer(n){for(const i of this.bucketLayerIDs)for(const d of i)if(n===d)return!0;return!1}getId(n,i){let d=n.id;if(this.promoteId){const g=Array.isArray(this.promoteId)||typeof this.promoteId!="object"?this.promoteId:this.promoteId[i];if(g!=null)if(Array.isArray(g)){if(!this.promoteIdExpression){const h=uf(g);if(h.result!=="success"){const v=h.value.map(S=>`${S.key}: ${S.message}`).join(", ");return void Fn(`Failed to create expression for promoteId: ${v}`)}this.promoteIdExpression=h.value}this.promoteIdExpression._evaluator||(this.promoteIdExpression._evaluator=new ja),d=this.promoteIdExpression.evaluate({zoom:0},n)}else d=n.properties[g];typeof d=="boolean"&&(d=Number(d))}return d}}function RS(u,n,i,d,g){return jr(u,(h,v)=>{const S=n instanceof Fd?n.get(v):null;return S&&S.evaluate?S.evaluate(i,d,g):S})}function h2(u,n){return n-u}lo(g_,"FeatureIndex",{omit:["rawTileData","sourceLayerCoder"]});const $S=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class v_{static from(n){if(!(n instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[i,d]=new Uint8Array(n,0,2);if(i!==219)throw new Error("Data does not appear to be in a KDBush format.");const g=d>>4;if(g!==1)throw new Error(`Got v${g} data when expected v1.`);const h=$S[15&d];if(!h)throw new Error("Unrecognized array type.");const[v]=new Uint16Array(n,2,1),[S]=new Uint32Array(n,4,1);return new v_(S,v,h,n)}constructor(n,i=64,d=Float64Array,g){if(isNaN(n)||n<0)throw new Error(`Unpexpected numItems value: ${n}.`);this.numItems=+n,this.nodeSize=Math.min(Math.max(+i,2),65535),this.ArrayType=d,this.IndexArrayType=n<65536?Uint16Array:Uint32Array;const h=$S.indexOf(this.ArrayType),v=2*n*this.ArrayType.BYTES_PER_ELEMENT,S=n*this.IndexArrayType.BYTES_PER_ELEMENT,T=(8-S%8)%8;if(h<0)throw new Error(`Unexpected typed array class: ${d}.`);g&&g instanceof ArrayBuffer?(this.data=g,this.ids=new this.IndexArrayType(this.data,8,n),this.coords=new this.ArrayType(this.data,8+S+T,2*n),this._pos=2*n,this._finished=!0):(this.data=new ArrayBuffer(8+v+S+T),this.ids=new this.IndexArrayType(this.data,8,n),this.coords=new this.ArrayType(this.data,8+S+T,2*n),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+h]),new Uint16Array(this.data,2,1)[0]=i,new Uint32Array(this.data,4,1)[0]=n)}add(n,i){const d=this._pos>>1;return this.ids[d]=d,this.coords[this._pos++]=n,this.coords[this._pos++]=i,d}finish(){const n=this._pos>>1;if(n!==this.numItems)throw new Error(`Added ${n} items when expected ${this.numItems}.`);return Xm(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(n,i,d,g){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:h,coords:v,nodeSize:S}=this,T=[0,h.length-1,0],A=[];for(;T.length;){const b=T.pop()||0,P=T.pop()||0,$=T.pop()||0;if(P-$<=S){for(let W=$;W<=P;W++){const q=v[2*W],ae=v[2*W+1];q>=n&&q<=d&&ae>=i&&ae<=g&&A.push(h[W])}continue}const M=$+P>>1,O=v[2*M],N=v[2*M+1];O>=n&&O<=d&&N>=i&&N<=g&&A.push(h[M]),(b===0?n<=O:i<=N)&&(T.push($),T.push(M-1),T.push(1-b)),(b===0?d>=O:g>=N)&&(T.push(M+1),T.push(P),T.push(1-b))}return A}within(n,i,d){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:g,coords:h,nodeSize:v}=this,S=[0,g.length-1,0],T=[],A=d*d;for(;S.length;){const b=S.pop()||0,P=S.pop()||0,$=S.pop()||0;if(P-$<=v){for(let W=$;W<=P;W++)Wf(h[2*W],h[2*W+1],n,i)<=A&&T.push(g[W]);continue}const M=$+P>>1,O=h[2*M],N=h[2*M+1];Wf(O,N,n,i)<=A&&T.push(g[M]),(b===0?n-d<=O:i-d<=N)&&(S.push($),S.push(M-1),S.push(1-b)),(b===0?n+d>=O:i+d>=N)&&(S.push(M+1),S.push(P),S.push(1-b))}return T}}function Xm(u,n,i,d,g,h){if(g-d<=i)return;const v=d+g>>1;gx(u,n,v,d,g,h),Xm(u,n,i,d,v-1,1-h),Xm(u,n,i,v+1,g,1-h)}function gx(u,n,i,d,g,h){for(;g>d;){if(g-d>600){const A=g-d+1,b=i-d+1,P=Math.log(A),$=.5*Math.exp(2*P/3),M=.5*Math.sqrt(P*$*(A-$)/A)*(b-A/2<0?-1:1);gx(u,n,i,Math.max(d,Math.floor(i-b*$/A+M)),Math.min(g,Math.floor(i+(A-b)*$/A+M)),h)}const v=n[2*i+h];let S=d,T=g;for(Ym(u,n,d,i),n[2*g+h]>v&&Ym(u,n,d,g);S<T;){for(Ym(u,n,S,T),S++,T--;n[2*S+h]<v;)S++;for(;n[2*T+h]>v;)T--}n[2*d+h]===v?Ym(u,n,d,T):(T++,Ym(u,n,T,g)),T<=i&&(d=T+1),i<=T&&(g=T-1)}}function Ym(u,n,i,d){Fc(u,i,d),Fc(n,2*i,2*d),Fc(n,2*i+1,2*d+1)}function Fc(u,n,i){const d=u[n];u[n]=u[i],u[i]=d}function Wf(u,n,i,d){const g=u-i,h=n-d;return g*g+h*h}c.$=mh,c.A=si,c.B=2,c.C=rg,c.D=zh,c.E=to,c.F=Xb,c.G=class extends bg{},c.H=Ea,c.I=t_,c.J=Na,c.K=Ug,c.L=Pl,c.M=tl,c.N=_c,c.O=cf,c.P=In,c.Q=_p,c.R=Qr,c.S=fp,c.T=Ay,c.U=uf,c.V=bg,c.W=Zl,c.X=Jl,c.Y=Tl,c.Z=Ca,c._=so,c.a=function(u){return oi.API_CDN_URL_REGEX.test(u)},c.a$=Km,c.a0=Jc,c.a1=Zc,c.a2=function(u){const n=u.value;let i=[];if(!n)return i;const d=Ea(n);return d!=="string"?(i=i.concat([new bg(u.key,n,`string expected, "${d}" found`)]),i):(R1(n,!0)||(i=i.concat([new bg(u.key,n,`invalid url "${n}"`)])),i)},c.a3=Gn,c.a4=lm,c.a5=nl,c.a6=pi,c.a7=class{constructor(u){this.specification=u}possiblyEvaluate(u,n){return Hi(u.expression.evaluate(n))}interpolate(u,n,i){return{x:Rr(u.x,n.x,i),y:Rr(u.y,n.y,i),z:Rr(u.z,n.z,i),azimuthal:Rr(u.azimuthal,n.azimuthal,i),polar:Rr(u.polar,n.polar,i)}}},c.a8=Ws,c.a9=df,c.aA=Dc,c.aB=class{constructor(u){this.entries={},this.scheduler=u}request(u,n,i,d){const g=this.entries[u]=this.entries[u]||{callbacks:[]};if(g.result){const[h,v]=g.result;return this.scheduler?this.scheduler.add(()=>{d(h,v)},n):d(h,v),()=>{}}return g.callbacks.push(d),g.cancel||(g.cancel=i((h,v)=>{g.result=[h,v];for(const S of g.callbacks)this.scheduler?this.scheduler.add(()=>{S(h,v)},n):S(h,v);setTimeout(()=>delete this.entries[u],3e3)})),()=>{g.result||(g.callbacks=g.callbacks.filter(h=>h!==d),g.callbacks.length||(g.cancel(),delete this.entries[u]))}}},c.aC=Tu,c.aD=function(u,n,i){const d=JSON.stringify(u.request);return u.data&&(this.deduped.entries[d]={result:[null,u.data]}),this.deduped.request(d,{type:"parseTile",isSymbolTile:u.isSymbolTile,zoom:u.tileZoom},g=>{const h=_n(u.request,(v,S,T,A)=>{v?g(v):S&&g(null,{vectorTile:i?void 0:new Mf.VectorTile(new Jp(S)),rawData:S,cacheControl:T,expires:A})});return()=>{h.cancel(),g()}},n)},c.aE=function(u){ct++,ct>nn&&(u.getActor().send("enforceCacheSizeLimit",Tt),ct=0)},c.aF=function(u){return u<=1?1:Math.pow(2,Math.floor(Math.log(u)/Math.LN2))},c.aG=fi,c.aH=C1,c.aI=w1,c.aJ=b1,c.aK=function(u,n){const i=document.createElement("video");i.muted=!0,i.onloadstart=function(){n(null,i)};for(let d=0;d<u.length;d++){const g=document.createElement("source");Ut(u[d])||(i.crossOrigin="Anonymous"),g.src=u[d],i.appendChild(g)}return{cancel:()=>{}}},c.aL=$h,c.aM=function(u){return fetch(u).then(n=>n.arrayBuffer()).then(n=>h_(n,0,u))},c.aN=hx,c.aO=class{constructor(u,n,i,d){this.id=u,this.position=n!=null?new ms(n[0],n[1]):new ms(0,0),this.orientation=i!=null?i:[0,0,0],this.nodes=d,this.uploaded=!1,this.aabb=new Eo([1/0,1/0,1/0],[-1/0,-1/0,-1/0]),this.matrix=[]}_applyTransformations(u,n){if(Te.mat4.multiply(u.matrix,n,u.matrix),u.meshes)for(const i of u.meshes){const d=Eo.applyTransformFast(i.aabb,u.matrix);this.aabb.encapsulate(d)}if(u.children)for(const i of u.children)this._applyTransformations(i,u.matrix)}computeBoundsAndApplyParent(){const u=Te.mat4.identity([]);for(const n of this.nodes)this._applyTransformations(n,u)}computeModelMatrix(u,n,i,d,g,h,v=!1){L1(this.matrix,this,u.transform,this.position,n,i,d,g,h,v)}upload(u){if(!this.uploaded){for(const n of this.nodes)Vy(n,u);for(const n of this.nodes)H0(n);this.uploaded=!0}}destroy(){for(const u of this.nodes)Hy(u)}},c.aP=wr,c.aQ=lg,c.aR=Bc,c.aS=dc,c.aT=pd,c.aU=Nl,c.aV=mr,c.aW=vm,c.aX=j0,c.aY=function(){au.isLoading()||au.isLoaded()||am()!=="deferred"||mf()},c.aZ=Wg,c.a_=J,c.aa=l,c.ab=Te,c.ac=Xr,c.ad=Fd,c.ae=Tc,c.af=Rr,c.ag=Ii,c.ah=Ao,c.ai=it,c.aj=Fi,c.ak=class{constructor(u){this.specification=u}possiblyEvaluate(u,n){return function([i,d]){const g=Hi([1,i,d]);return{x:g.x,y:g.y,z:g.z}}(u.expression.evaluate(n))}interpolate(u,n,i){return{x:Rr(u.x,n.x,i),y:Rr(u.y,n.y,i),z:Rr(u.z,n.z,i)}}},c.al=function(u,n,i=0,d=!0){const g=new In(i,i),h=u.sub(g),v=n.add(g),S=[h,new In(v.x,h.y),v,new In(h.x,v.y)];return d&&S.push(h.clone()),S},c.am=function(u,n){const i=[];for(let d=0;d<u.length;d++){const g=ei(d-1,-1,u.length-1),h=ei(d+1,-1,u.length-1),v=u[d],S=u[h],T=u[g].sub(v).unit(),A=S.sub(v).unit(),b=A.angleWithSep(T.x,T.y),P=T.add(A).unit().mult(-1*n/Math.sin(b/2));i.push(v.add(P))}return i},c.an=o1,c.ao=qt,c.ap=function(u,n,i=0){return Te.vec3.fromValues(((n.x-i)*u.scale-u.x)*Ii,(n.y*u.scale-u.y)*Ii,Ap(n.z,n.y))},c.aq=ga,c.ar=Lb,c.as=function(u){let n=1/0,i=1/0,d=-1/0,g=-1/0;for(const h of u)n=Math.min(n,h.x),i=Math.min(i,h.y),d=Math.max(d,h.x),g=Math.max(g,h.y);return{min:new In(n,i),max:new In(d,g)}},c.at=_u,c.au=Pt,c.av=_,c.aw=Un,c.ax=uc,c.ay=function(u,n){const i={};for(let d=0;d<n.length;d++){const g=n[d];g in u&&(i[g]=u[g])}return i},c.az=qu,c.b=function(u){return oi.API_FONTS_REGEX.test(u)},c.b$=yg,c.b0=Ur,c.b1=C0,c.b2=f0,c.b3=U,c.b4=md,c.b5=qg,c.b6=Zo,c.b7=cl,c.b8=Bp,c.b9=Oy,c.bA=yb,c.bB=Cy,c.bC=t1,c.bD=vy,c.bE=v_,c.bF=ei,c.bG=en,c.bH=Ol,c.bI=function(u,n,i){u[4*n+0]=i[0],u[4*n+1]=i[1],u[4*n+2]=i[2],u[4*n+3]=i[3]},c.bJ=Sh,c.bK=su,c.bL=Sf,c.bM=Cl,c.bN=Cf,c.bO=ms,c.bP=d1,c.bQ=$r,c.bR=us,c.bS=I1,c.bT=Vr,c.bU=Ic,c.bV=function(u,n,i,d,g,h,v,S,T){if(T.name==="globe")return Ic(u,n,new Vr(i,d,g),!1);const A=lg({z:i,x:d,y:g},T);return new Eo([(h+A.x/A.scale)*n,n*(A.y/A.scale),v],[(h+A.x2/A.scale)*n,n*(A.y2/A.scale),S])},c.bW=function(u,n,i){let d=0;for(let g=0;g<2;++g)u[g]>0&&(d+=(u[g]-0)*(u[g]-0)),n[g]<0&&(d+=(0-n[g])*(0-n[g]));return d},c.bX=rl,c.bY=s0,c.bZ=function(u){const n=Te.mat4.identity(new Float64Array(16));Te.mat4.multiply(n,u.pixelMatrix,u.globeMatrix);const i=[0,xc,0],d=[0,Cc,0];return Te.vec3.transformMat4(i,i,n),Te.vec3.transformMat4(d,d,n),[i[0]>0&&i[0]<=u.width&&i[1]>0&&i[1]<=u.height&&!cu(u,new ms(u.center.lat,90)),d[0]>0&&d[0]<=u.width&&d[1]>0&&d[1]<=u.height&&!cu(u,new ms(u.center.lat,-90))]},c.b_=function(u,n){const{scale:i}=u.tileTransform,d=i*Ii/(u.tileSize*Math.pow(2,n.zoom-u.tileID.overscaledZ+u.tileID.canonical.z));return Te.mat2.scale(new Float32Array(4),n.inverseAdjustmentMatrix,[d,d])},c.ba=function(u,n){const i=Tc(n.zoom);if(i===0)return Bl(u);const d=al(u),g=ks(d),h=_u(d.getWest())*n.worldSize,v=_u(d.getEast())*n.worldSize,S=Dc(d.getNorth())*n.worldSize,T=Dc(d.getSouth())*n.worldSize,A=[h,S,0],b=[v,S,0],P=[h,T,0],$=[v,T,0],M=Te.mat4.invert([],n.globeMatrix);return Te.vec3.transformMat4(A,A,M),Te.vec3.transformMat4(b,b,M),Te.vec3.transformMat4(P,P,M),Te.vec3.transformMat4($,$,M),g[0]=Fl(g[0],P,i),g[1]=Fl(g[1],$,i),g[2]=Fl(g[2],b,i),g[3]=Fl(g[3],A,i),Eo.fromPoints(g)},c.bb=nc,c.bc=Rs,c.bd=Fl,c.be=yf,c.bf=Fo,c.bg=u_,c.bh=Jp,c.bi=_n,c.bj=function(u){const n=[];for(const i in u)n.push(u[i]);return n},c.bk=function(u,n){const i=[];for(const d in u)d in n||i.push(d);return i},c.bl=Wr,c.bm=["type","source","source-layer","minzoom","maxzoom","filter","layout"],c.bn=Nr,c.bo=function(u,n){const{x:i,y:d}=u.point,g=Wc(i,d,u.worldSize/u._pixelsPerMercatorPixel,0,0);return Te.mat4.multiply(g,g,Ns(Bl(n)))},c.bp=Ih,c.bq=Kc,c.br=R0,c.bs=function(u,n,i,d,g){const h=5*n+2;u.float32[h+0]=i,u.float32[h+1]=d,u.float32[h+2]=g},c.bt=hg,c.bu=Kb,c.bv=be,c.bw=Rc,c.bx=y0,c.by=O1,c.bz=vb,c.c=Ji,c.c$=(u,n,i,d,g,h,v,S)=>{const T=u.transform,A=T.pitch<15?w0(.07,.7,Un((14-T.zoom)/5,0,1)):.07,b=i.paint.get("line-trim-color-use-theme").constantOr("default")==="none";return{u_matrix:E0(u,n,i,d),u_texsize:n.imageAtlasTexture?n.imageAtlasTexture.size:[0,0],u_pixels_to_tile_units:T.calculatePixelsToTileUnitsMatrix(n),u_device_pixel_ratio:g,u_width_scale:h,u_floor_width_scale:v,u_image:0,u_tile_units_to_pixels:Jd(n,T),u_units_to_pixels:[1/T.pixelsToGLUnits[0],1/T.pixelsToGLUnits[1]],u_alpha_discard_threshold:0,u_trim_offset:S,u_trim_fade_range:i.paint.get("line-trim-fade-range"),u_trim_color:i.paint.get("line-trim-color").toRenderColor(b?null:i.lut).toArray01(),u_emissive_strength:i.paint.get("line-emissive-strength"),u_zbias_factor:A,u_tile_to_meter:r(n.tileID.canonical,0)}},c.c0=By,c.c1=function(u){const n=By(u,!0);return Te.mat2.invert([],[n[0],n[1],n[4],n[5]])},c.c2=as,c.c3=function(u){const{x:n,y:i}=u.point,{lng:d,lat:g}=u._center;return Wc(n,i,u.worldSize,d,g)},c.c4=Ot,c.c5=Ci,c.c6=wf,c.c7=function(u){const n=Math.round((u+45+360)%360/90)%4;return zn[n]},c.c8=45,c.c9=Sm,c.cA=class extends vu{constructor(u){super(u),this.current=o0}set(u,n,i){if(this.fetchUniformLocation(u,n)){for(let d=0;d<9;d++)if(i[d]!==this.current[d]){this.current=i,this.gl.uniformMatrix3fv(this.location,!1,i);break}}}},c.cB=dn,c.cC=function(u,n,i){const d=Tc(i.zoom),g=u.style.map._antialias,h=u.terrain&&u.terrain.exaggeration()>0;return d===0&&!g&&!h},c.cD=function(u){const n=u.pixelsPerMeter,i=n/Ol(1,u.center.lat),d=Te.mat4.identity(new Float64Array(16));return Te.mat4.translate(d,d,[u.point.x,u.point.y,0]),Te.mat4.scale(d,d,[i,i,n]),Float32Array.from(d)},c.cE=al,c.cF=function(u){const n=rl-5;u=Un(u,-n,n)/n*90;const i=Math.pow(Math.abs(Math.sin(it(u))),3);return Math.round(i*(Cm.length-1))},c.cG=function(u,n,i,d){const g=n.getNorth(),h=n.getSouth(),v=n.getWest(),S=n.getEast(),T=1<<u.z,A=S-v,b=g-h,P=A/Ef,$=-b/Cm[i],M=[0,P,0,$,0,0,g,v,0];if(u.z>0){const O=180/d;Te.mat3.multiply(M,M,[O/A+1,0,0,0,O/b+1,0,-.5*O/P,.5*O/$,1])}return M[2]=T,M[5]=u.x,M[8]=u.y,M},c.cH=Bl,c.cI=function(u,n,i){const d=Te.mat4.identity(new Float64Array(16)),g=(n/(1<<u)-.5)*Math.PI*2;return Te.mat4.rotateY(d,i.globeMatrix,g),Float32Array.from(d)},c.cJ=class{isDataAvailableAtPoint(u){const n=this._source();if(this.isUsingMockSource()||!n||u.y<0||u.y>1)return!1;const i=n.getSource().maxzoom,d=1<<i,g=Math.floor(u.x),h=Math.floor((u.x-g)*d),v=Math.floor(u.y*d),S=this.findDEMTileFor(new fi(i,g,i,h,v));return!(!S||!S.dem)}getAtPointOrZero(u,n=0){return this.getAtPoint(u,n)||0}getAtPoint(u,n,i=!0){if(this.isUsingMockSource())return null;n==null&&(n=null);const d=this._source();if(!d||u.y<0||u.y>1)return n;const g=d.getSource().maxzoom,h=1<<g,v=Math.floor(u.x),S=u.x-v,T=new fi(g,v,g,Math.floor(S*h),Math.floor(u.y*h)),A=this.findDEMTileFor(T);if(!A||!A.dem)return n;const b=A.dem,P=1<<A.tileID.canonical.z,$=(S*P-A.tileID.canonical.x)*b.dim,M=(u.y*P-A.tileID.canonical.y)*b.dim,O=Math.floor($),N=Math.floor(M);return(i?this.exaggeration():1)*Rr(Rr(b.get(O,N),b.get(O,N+1),M-N),Rr(b.get(O+1,N),b.get(O+1,N+1),M-N),$-O)}getAtTileOffset(u,n,i){const d=1<<u.canonical.z;return this.getAtPointOrZero(new l(u.wrap+(u.canonical.x+n/Ii)/d,(u.canonical.y+i/Ii)/d))}getAtTileOffsetFunc(u,n,i,d){return g=>{const h=this.getAtTileOffset(u,g.x,g.y),v=d.upVector(u.canonical,g.x,g.y),S=d.upVectorScale(u.canonical,n,i).metersToTile;return Te.vec3.scale(v,v,h*S),v}}getForTilePoints(u,n,i,d){if(this.isUsingMockSource())return!1;const g=Bm.create(this,u,d);return!!g&&(n.forEach(h=>{h[2]=this.exaggeration()*g.getElevationAt(h[0],h[1],i)}),!0)}getMinMaxForTile(u){if(this.isUsingMockSource())return null;const n=this.findDEMTileFor(u);if(!n||!n.dem)return null;const i=n.dem.tree,d=n.tileID,g=1<<u.canonical.z-d.canonical.z;let h=u.canonical.x/g-d.canonical.x,v=u.canonical.y/g-d.canonical.y,S=0;for(let T=0;T<u.canonical.z-d.canonical.z&&!i.leaves[S];T++){h*=2,v*=2;const A=2*Math.floor(v)+Math.floor(h);S=i.childOffsets[S]+A,h%=1,v%=1}return{min:this.exaggeration()*i.minimums[S],max:this.exaggeration()*i.maximums[S]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(u,n,i){throw new Error("Pure virtual method called.")}pointCoordinate(u){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}isUsingMockSource(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(u){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}getMinMaxForVisibleTiles(){const u=this.visibleDemTiles;if(u.length===0)return null;let n=!1,i=Number.MAX_VALUE,d=Number.MIN_VALUE;for(const g of u){const h=this.getMinMaxForTile(g.tileID);h&&(i=Math.min(i,h.min),d=Math.max(d,h.max),n=!0)}return n?{min:i,max:d}:null}},c.cK=Lp,c.cL=_a,c.cM=function(u,n){return[Math.pow(u[0],2.2)*n,Math.pow(u[1],2.2)*n,Math.pow(u[2],2.2)*n]},c.cN=Uc,c.cO=ui,c.cP=Dr,c.cQ=256,c.cR=function(u,n){const i=[0,0,0],d=nc(Bl(n.canonical));return Te.vec3.transformMat4(i,i,d),Te.vec3.transformMat4(i,i,u),i},c.cS=u=>({u_camera_to_center_distance:new Cl(u),u_extrude_scale:new Rp(u),u_device_pixel_ratio:new Cl(u),u_matrix:new Sh(u),u_inv_rot_matrix:new Sh(u),u_merc_center:new su(u),u_tile_id:new Sf(u),u_zoom_transition:new Cl(u),u_up_dir:new Sf(u),u_emissive_strength:new Cl(u)}),c.cT=u=>({u_matrix:new Sh(u),u_pixels_to_tile_units:new Rp(u),u_device_pixel_ratio:new Cl(u),u_width_scale:new Cl(u),u_floor_width_scale:new Cl(u),u_units_to_pixels:new su(u),u_dash_image:new Cf(u),u_gradient_image:new Cf(u),u_image_height:new Cl(u),u_texsize:new su(u),u_tile_units_to_pixels:new Cl(u),u_alpha_discard_threshold:new Cl(u),u_trim_offset:new su(u),u_trim_fade_range:new su(u),u_trim_color:new xm(u),u_emissive_strength:new Cl(u),u_zbias_factor:new Cl(u),u_tile_to_meter:new Cl(u)}),c.cU=u=>({u_matrix:new Sh(u),u_texsize:new su(u),u_pixels_to_tile_units:new Rp(u),u_device_pixel_ratio:new Cl(u),u_width_scale:new Cl(u),u_floor_width_scale:new Cl(u),u_image:new Cf(u),u_units_to_pixels:new su(u),u_tile_units_to_pixels:new Cl(u),u_alpha_discard_threshold:new Cl(u),u_trim_offset:new su(u),u_trim_fade_range:new su(u),u_trim_color:new xm(u),u_emissive_strength:new Cl(u),u_zbias_factor:new Cl(u),u_tile_to_meter:new Cl(u)}),c.cV=ph,c.cW=wC,c.cX=Bb,c.cY=_d,c.cZ=(u,n,i,d,g,h)=>{const v=u.transform,S=v.projection.name==="globe";let T;if(h.paint.get("circle-pitch-alignment")==="map")if(S){const b=Uc(v.zoom,n.canonical)*v._pixelsPerMercatorPixel;T=Float32Array.from([b,0,0,b])}else T=v.calculatePixelsToTileUnitsMatrix(i);else T=new Float32Array([v.pixelsToGLUnits[0],0,0,v.pixelsToGLUnits[1]]);const A={u_camera_to_center_distance:u.transform.getCameraToCenterDistance(v.projection),u_matrix:u.translatePosMatrix(n.projMatrix,i,h.paint.get("circle-translate"),h.paint.get("circle-translate-anchor")),u_device_pixel_ratio:he.devicePixelRatio,u_extrude_scale:T,u_inv_rot_matrix:xu,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0],u_emissive_strength:h.paint.get("circle-emissive-strength")};if(S){A.u_inv_rot_matrix=d,A.u_merc_center=g,A.u_tile_id=[n.canonical.x,n.canonical.y,1<<n.canonical.z],A.u_zoom_transition=Tc(v.zoom);const b=g[0]*Ii,P=g[1]*Ii;A.u_up_dir=v.projection.upVector(new Vr(0,0,0),b,P)}return A},c.c_=$f,c.ca=xm,c.cb=function(u,n,i){const d=Math.sqrt(u*u+n*n+i*i),g=d>0?Math.acos(i/d)*sr:0;let h=u!==0||n!==0?Math.atan2(-n,-u)*sr+90:0;return h<0&&(h+=360),[d,h,g]},c.cc=r,c.cd=Eo,c.ce=Hi,c.cf=function(u){return[Math.pow(u[0],1/2.2),Math.pow(u[1],1/2.2),Math.pow(u[2],1/2.2)]},c.cg=function(u,n){return u.readFields(qC,{icons:[]},n)},c.ch=function(u){return u({pluginStatus:Vc,pluginURL:hd}),hf.on("pluginStateChange",u),u},c.ci=wg,c.cj=Dm,c.ck=Am,c.cl=Ui,c.cm=vp,c.cn=et,c.co=$o,c.cp=lr,c.cq=function(u){const n=u.indexOf(um);return n>=0?u.slice(0,n):u},c.cr=function(u){return u.indexOf(um)>=0},c.cs=function(u){const n=u.indexOf(um);return n>=0?u.slice(n+1):""},c.ct=function(u){const n=[],i=u.id;return i===void 0&&n.push({message:`layers.${i}: missing required property "id"`}),u.render===void 0&&n.push({message:`layers.${i}: missing required method "render"`}),u.renderingMode&&u.renderingMode!=="2d"&&u.renderingMode!=="3d"&&n.push({message:`layers.${i}: property "renderingMode" must be either "2d" or "3d"`}),n},c.cu=function(u,n,i,d){return u.type==="custom"?new E1(u,n):new GC[u.type](u,n,i,d)},c.cv=Xn,c.cw=class extends Km{constructor(u,n){super(u._vectorTileFeature,u._z,u._x,u._y,u.id),u.state&&(this.state=Object.assign({},u.state)),this.target=n.target,this.namespace=n.namespace,n.properties&&(this.properties=n.properties),this.target&&("featuresetId"in this.target&&!this.target.importId||"layerId"in this.target)&&(this.source=u.source,this.sourceLayer=u.sourceLayer,this.layer=u.layer)}toJSON(){const u=super.toJSON();return u.target=this.target,u.namespace=this.namespace,u}},c.cx=hf,c.cy=mt,c.cz=i0,c.d=function(u){return oi.API_TILEJSON_REGEX.test(u)},c.d$=g_,c.d0=(u,n,i,d,g,h,v,S,T)=>{const A=u.transform,b=A.calculatePixelsToTileUnitsMatrix(n),P=i.paint.get("line-trim-color-use-theme").constantOr("default")==="none",$=A.pitch<15?w0(.07,.7,Un((14-A.zoom)/5,0,1)):.07;return{u_matrix:E0(u,n,i,d),u_pixels_to_tile_units:b,u_device_pixel_ratio:h,u_width_scale:v,u_floor_width_scale:S,u_units_to_pixels:[1/A.pixelsToGLUnits[0],1/A.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:g,u_texsize:cy(i)&&n.lineAtlasTexture?n.lineAtlasTexture.size:[0,0],u_tile_units_to_pixels:Jd(n,u.transform),u_alpha_discard_threshold:0,u_trim_offset:T,u_trim_fade_range:i.paint.get("line-trim-fade-range"),u_trim_color:i.paint.get("line-trim-color").toRenderColor(P?null:i.lut).toArray01(),u_emissive_strength:i.paint.get("line-emissive-strength"),u_zbias_factor:$,u_tile_to_meter:r(n.tileID.canonical,0)}},c.d1=fr,c.d2=Np,c.d3=Tb,c.d4=Vi,c.d5=Kp,c.d6=Pf,c.d7=450,c.d8=7,c.d9=x1,c.dA=xr,c.dB=m,c.dC=Gd,c.dD=function([u,n,i]){const d=Math.hypot(u,n,i),g=Math.atan2(u,i),h=.5*Math.PI-Math.acos(-n/d);return new ms(Ot(g),Ot(h))},c.dE=Fy,c.dF=function(u){const n=u.navigator?u.navigator.userAgent:null;return!!function(i){if(eo==null){const d=i.navigator?i.navigator.userAgent:null;eo=!!i.safari||!(!d||!(/\b(iPad|iPhone|iPod)\b/.test(d)||d.match("Safari")&&!d.match("Chrome")))}return eo}(u)&&n&&(n.match("Version/15.4")||n.match("Version/15.5")||n.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},c.dG=function(u,n){Tt=u,nn=n},c.dH=cu,c.dI=bu,c.dJ=function(u){const n=[0,0,0],i=Te.mat4.identity(new Float64Array(16));return Te.mat4.multiply(i,u.pixelMatrix,u.globeMatrix),Te.vec3.transformMat4(n,n,i),new In(n[0],n[1])},c.dK=function(u,n,i=!1){if(Vc===ff||Vc===uh||Vc===gp)throw new Error("setRTLTextPlugin cannot be called multiple times.");hd=he.resolveURL(u),Vc=ff,Ac=n,om(),i||mf()},c.dL=am,c.dM=function(){wg().acquire(Wy)},c.dN=function(){const u=Sg;u&&(u.isPreloaded()&&u.numActive()===1?(u.release(Wy),Sg=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},c.dO=kf,c.dP=function(u){const n=Ht();if(!n)return;const i=n.delete(tn);u&&i.catch(u).then(()=>u())},c.dQ=Cg,c.dR=d_,c.dS=function(u){ov=he.resolveURL(u),Um||(Um=new zh(wg(),new to)),Um.broadcast("setDracoUrl",ov)},c.dT=Wm,c.dU=function(u){Xc=he.resolveURL(u),Um||(Um=new zh(wg(),new to)),Um.broadcast("setMeshoptUrl",Xc)},c.dV=lo,c.dW=Yd,c.dX=ed,c.dY=Mf,c.dZ=class{constructor(u,n){this.pos=u,this.dir=n}intersectsPlane(u,n,i){const d=Te.vec2.dot(n,this.dir);if(Math.abs(d)<1e-6)return!1;const g=((u[0]-this.pos[0])*n[0]+(u[1]-this.pos[1])*n[1])/d;return i[0]=this.pos[0]+this.dir[0]*g,i[1]=this.pos[1]+this.dir[1]*g,!0}},c.d_=px,c.da=bs,c.db=gm,c.dc=256,c.dd=Ns,c.de=Ou,c.df=gd,c.dg=pm,c.dh=function(u,n,i,d,g){return Un((u-n)/(i-n)*(g-d)+d,d,g)},c.di=pu,c.dj=zc,c.dk=class{constructor(u,n,i,d){this.context=u,this.format=d,this.size=i,this.texture=u.gl.createTexture();const[g,h,v]=this.size,{gl:S}=u;S.bindTexture(S.TEXTURE_3D,this.texture),u.pixelStoreUnpackFlipY.set(!1),u.pixelStoreUnpack.set(1),u.pixelStoreUnpackPremultiplyAlpha.set(!1),S.texImage3D(S.TEXTURE_3D,0,this.format,g,h,v,0,Ry(this.format),$y(this.format),n.data)}bind(u,n){const{context:i}=this,{gl:d}=i;d.bindTexture(d.TEXTURE_3D,this.texture),u!==this.minFilter&&(d.texParameteri(d.TEXTURE_3D,d.TEXTURE_MAG_FILTER,u),d.texParameteri(d.TEXTURE_3D,d.TEXTURE_MIN_FILTER,u),this.minFilter=u),n!==this.wrapS&&(d.texParameteri(d.TEXTURE_3D,d.TEXTURE_WRAP_S,n),d.texParameteri(d.TEXTURE_3D,d.TEXTURE_WRAP_T,n),this.wrapS=n)}destroy(){const{gl:u}=this.context;u.deleteTexture(this.texture),this.texture=null}},c.dl=jy,c.dm=[1,1,1],c.dn=Bm,c.dp=Lm,c.dq=Ku,c.dr=bf,c.ds=Kd,c.dt=gh,c.du=Ru,c.dv=class{constructor(){this._updateTime=0,this._sourceIds=[],this._activeRegions=[],this._prevRegions=[],this._globalClipBounds={min:new In(1/0,1/0),max:new In(-1/0,-1/0)}}clear(){this._activeRegions.length>0&&++this._updateTime,this._activeRegions=[],this._prevRegions=[]}get updateTime(){return this._updateTime}getReplacementRegionsForTile(u,n=!1){const i=pb(new In(0,0),new In(Ii,Ii),u),d=[];if(n&&!ey(i,this._globalClipBounds))return d;for(const g of this._activeRegions){if(g.hiddenByOverlap||!ey(i,g))continue;const h=hC(g.min,g.max,u);d.push({min:h.min,max:h.max,sourceId:this._sourceIds[g.priority],footprint:g.footprint,footprintTileId:g.tileId,order:g.order,clipMask:g.clipMask,clipScope:g.clipScope})}return d}setSources(u){this._setSources(u.map(n=>({getSourceId:()=>n.cache.id,getFootprints:()=>{const i=[];for(const d of n.cache.getVisibleCoordinates()){const g=n.cache.getTile(d).buckets[n.layer];g&&g.updateFootprints(d.toUnwrapped(),i)}return i},getOrder:()=>n.order,getClipMask:()=>n.clipMask,getClipScope:()=>n.clipScope})))}_addSource(u){const n=u.getFootprints();if(n.length===0)return;const i=u.getOrder(),d=u.getClipMask(),g=u.getClipScope();for(const h of n){if(!h.footprint)continue;const v=pb(h.footprint.min,h.footprint.max,h.id);this._activeRegions.push({min:v.min,max:v.max,hiddenByOverlap:!1,priority:this._sourceIds.length,tileId:h.id,footprint:h.footprint,order:i,clipMask:d,clipScope:g})}this._sourceIds.push(u.getSourceId())}_computeReplacement(){this._activeRegions.sort((n,i)=>n.priority-i.priority||Hp(n.min,i.min)||Hp(n.max,i.max)||n.order-i.order||n.clipMask-i.clipMask||function(d,g){const h=(v,S)=>v+S;return d.length-g.length||d.reduce(h,"").localeCompare(g.reduce(h,""))}(n.clipScope,i.clipScope));let u=this._activeRegions.length!==this._prevRegions.length;if(!u){let n=0;for(;!u&&n!==this._activeRegions.length;){const i=this._activeRegions[n],d=this._prevRegions[n];u=i.priority!==d.priority||!Qv(i,d)||i.order!==d.order||i.clipMask!==d.clipMask||!Nr(i.clipScope,d.clipScope),++n}}if(u){++this._updateTime;for(const i of this._activeRegions)i.order!==v0&&(this._globalClipBounds.min.x=Math.min(this._globalClipBounds.min.x,i.min.x),this._globalClipBounds.min.y=Math.min(this._globalClipBounds.min.y,i.min.y),this._globalClipBounds.max.x=Math.max(this._globalClipBounds.max.x,i.max.x),this._globalClipBounds.max.y=Math.max(this._globalClipBounds.max.y,i.max.y));const n=i=>{const d=this._activeRegions;if(i>=d.length)return i;const g=d[i].priority;for(;i<d.length&&d[i].priority===g;)++i;return i};if(this._sourceIds.length>1){let i=0,d=n(i);for(;i!==d;){let g=i;const h=i;for(;g!==d;){const v=this._activeRegions[g];v.hiddenByOverlap=!1;for(let S=0;S<h;S++){const T=this._activeRegions[S];if(!T.hiddenByOverlap&&v.order===v0&&ey(v,T)&&(v.hiddenByOverlap=gb(v.footprint,v.tileId,T.footprint,T.tileId),v.hiddenByOverlap))break}++g}i=d,d=n(i)}}}}_setSources(u){[this._prevRegions,this._activeRegions]=[this._activeRegions,[]],this._sourceIds=[];for(let n=u.length-1;n>=0;n--)this._addSource(u[n]);this._computeReplacement()}},c.dw=class{constructor(u){this._createGrid(u),this._createPoles(u)}destroy(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();for(const u of this._poleSegments)u.destroy();for(const u of this._gridSegments)u.withSkirts.destroy(),u.withoutSkirts.destroy()}_fillGridMeshWithLods(u,n){const i=new md,d=new Nl,g=[],h=u+1+2,v=n[0]+1,S=n[0]+1+(1+n.length),T=(A,b,P)=>{let $=A===h-1?A-2:A===0?A:A-1;return $+=P?24575:0,[$,b]};for(let A=0;A<h;++A)i.emplaceBack(...T(A,0,!0));for(let A=0;A<v;++A)for(let b=0;b<h;++b)i.emplaceBack(...T(b,A,(b===0||b===h-1)&&!0));for(let A=0;A<n.length;++A){const b=n[A];for(let P=0;P<h;++P)i.emplaceBack(...T(P,b,!0))}for(let A=0;A<n.length;++A){const b=d.length,P=n[A]+1+2,$=new Nl;for(let N=0;N<P-1;N++){const W=N===P-2,q=W?h*(S-n.length+A-N):h;for(let ae=0;ae<h-1;ae++){const ce=N*h+ae;N===0||W||ae===0||ae===h-2?($.emplaceBack(ce+1,ce,ce+q),$.emplaceBack(ce+q,ce+q+1,ce+1)):(d.emplaceBack(ce+1,ce,ce+q),d.emplaceBack(ce+q,ce+q+1,ce+1))}}const M=cl.simpleSegment(0,b,i.length,d.length-b);for(let N=0;N<$.uint16.length;N+=3)d.emplaceBack($.uint16[N],$.uint16[N+1],$.uint16[N+2]);const O=cl.simpleSegment(0,b,i.length,d.length-b);g.push({withoutSkirts:M,withSkirts:O})}return{vertices:i,indices:d,segments:g}}_createGrid(u){const n=this._fillGridMeshWithLods(Ef,Cm);this._gridSegments=n.segments,this._gridBuffer=u.createVertexBuffer(n.vertices,Zo.members),this._gridIndexBuffer=u.createIndexBuffer(n.indices,!0)}_createPoles(u){const n=new Nl;for(let v=0;v<=Ef;v++)n.emplaceBack(0,v+1,v+2);this._poleIndexBuffer=u.createIndexBuffer(n,!0);const i=new gd,d=new gd,g=new gd,h=new gd;this._poleSegments=[];for(let v=0,S=0;v<wf;v++){const T=360/(1<<v);i.emplaceBack(0,-uc,0,.5,0),d.emplaceBack(0,-uc,0,.5,1),g.emplaceBack(0,-uc,0,.5,.5),h.emplaceBack(0,-uc,0,.5,.5);for(let A=0;A<=Ef;A++){let b=A/Ef,P=0;const $=Rr(0,T,b),[M,O,N]=If(Xd,Au,$,uc);i.emplaceBack(M,O,N,b,P),d.emplaceBack(M,O,N,b,1-P);const W=it($);b=.5+.5*Math.sin(W),P=.5+.5*Math.cos(W),g.emplaceBack(M,O,N,b,P),h.emplaceBack(M,O,N,b,1-P)}this._poleSegments.push(cl.simpleSegment(S,0,66,64)),S+=66}this._poleNorthVertexBuffer=u.createVertexBuffer(i,ia,!1),this._poleSouthVertexBuffer=u.createVertexBuffer(d,ia,!1),this._texturedPoleNorthVertexBuffer=u.createVertexBuffer(g,ia,!1),this._texturedPoleSouthVertexBuffer=u.createVertexBuffer(h,ia,!1)}getGridBuffers(u,n){return[this._gridBuffer,this._gridIndexBuffer,n?this._gridSegments[u].withSkirts:this._gridSegments[u].withoutSkirts]}getPoleBuffers(u,n){return[n?this._texturedPoleNorthVertexBuffer:this._poleNorthVertexBuffer,n?this._texturedPoleSouthVertexBuffer:this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[u]]}},c.dx=v0,c.dy=fn,c.dz=function(){return!!document.fullscreenElement||!!document.webkitFullscreenElement},c.e=oi,c.e0=Mm,c.e1=jr,c.e2=yr,c.e3=Yb,c.e4=function(u,n,i,d,g,h,v,S,T,A,b=1,P,$){u.createArrays(),u.tilePixelRatio=Ii/(512*u.overscaling),u.compareText={},u.iconsNeedLinear=!1;const M=u.layers[0].layout,O=u.layers[0]._unevaluatedLayout._values,N={};N.scaleFactor=b,N.textSizeScaleRange=M.get("text-size-scale-range"),N.iconSizeScaleRange=M.get("icon-size-scale-range");const[W,q]=N.textSizeScaleRange,[ae,ce]=N.iconSizeScaleRange;if(N.textScaleFactor=Un(N.scaleFactor,W,q),N.iconScaleFactor=Un(N.scaleFactor,ae,ce),u.textSizeData.kind==="composite"){const{minZoom:De,maxZoom:ut}=u.textSizeData;N.compositeTextSizes=[O["text-size"].possiblyEvaluate(new Ws(De),S),O["text-size"].possiblyEvaluate(new Ws(ut),S)]}if(u.iconSizeData.kind==="composite"){const{minZoom:De,maxZoom:ut}=u.iconSizeData;N.compositeIconSizes=[O["icon-size"].possiblyEvaluate(new Ws(De),S),O["icon-size"].possiblyEvaluate(new Ws(ut),S)]}N.layoutTextSize=O["text-size"].possiblyEvaluate(new Ws(T+1),S),N.layoutIconSize=O["icon-size"].possiblyEvaluate(new Ws(T+1),S),N.textMaxSize=O["text-size"].possiblyEvaluate(new Ws(18),S);const ne=M.get("text-rotation-alignment")==="map"&&M.get("symbol-placement")!=="point",ge=M.get("text-size");let Ce=!1;for(const De of u.features)if(De.icon&&De.icon.nameSecondary){Ce=!0;break}for(const De of u.features){const ut=M.get("text-font").evaluate(De,{},S).join(","),st=ge.evaluate(De,{},S)*N.textScaleFactor,tt=N.layoutTextSize.evaluate(De,{},S)*N.textScaleFactor,Zt=(N.layoutIconSize.evaluate(De,{},S),{horizontal:{},vertical:void 0}),pt=De.text;let Yt,un=[0,0];if(pt){const On=pt.toString(),kn=M.get("text-letter-spacing").evaluate(De,{},S)*Rc,Cn=M.get("text-line-height").evaluate(De,{},S)*Rc,Sr=Vg(On)?kn:0,Gr=M.get("text-anchor").evaluate(De,{},S),br=M.get("text-variable-anchor");if(!br){const go=M.get("text-radial-offset").evaluate(De,{},S);un=go?t1(Gr,[go*Rc,L0]):M.get("text-offset").evaluate(De,{},S).map(ji=>ji*Rc)}let Bi=ne?"center":M.get("text-justify").evaluate(De,{},S);const Ti=M.get("symbol-placement")==="point",di=Ti?M.get("text-max-width").evaluate(De,{},S)*Rc:1/0,Hr=go=>{u.allowVerticalPlacement&&Wu(On)&&(Zt.vertical=gy(pt,n,i,g,ut,di,Cn,Gr,go,Sr,un,Kc.vertical,!0,tt,st))};if(!ne&&br){const go=Bi==="auto"?br.map(qi=>Cy(qi)):[Bi];let ji=!1;for(let qi=0;qi<go.length;qi++){const la=go[qi];if(!Zt.horizontal[la])if(ji)Zt.horizontal[la]=Zt.horizontal[0];else{const za=gy(pt,n,i,g,ut,di,Cn,"center",la,Sr,un,Kc.horizontal,!1,tt,st);za&&(Zt.horizontal[la]=za,ji=za.positionedLines.length===1)}}Hr("left")}else{if(Bi==="auto"&&(Bi=Cy(Gr)),Ti||M.get("text-writing-mode").indexOf("horizontal")>=0||!Wu(On)){const go=gy(pt,n,i,g,ut,di,Cn,Gr,Bi,Sr,un,Kc.horizontal,!1,tt,st);go&&(Zt.horizontal[Bi]=go)}Hr(Ti?"left":Bi)}}let on=!1;if(De.icon&&De.icon.namePrimary){const On=Pm(u.iconSizeData,O["icon-size"],S,u.zoom,De)*N.iconScaleFactor*P,kn=De.icon.getPrimary().scaleSelf(On).serialize(),Cn=d[kn];Cn&&(Yt=A0(g[kn],De.icon.nameSecondary?g[De.icon.getSecondary().scaleSelf(On).serialize()]:void 0,M.get("icon-offset").evaluate(De,{},S),M.get("icon-anchor").evaluate(De,{},S)),on=Cn.sdf,u.sdfIcons===void 0?u.sdfIcons=Cn.sdf:u.sdfIcons!==Cn.sdf&&Fn("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Cn.pixelRatio!==u.pixelRatio||M.get("icon-rotate").constantOr(1)!==0)&&(u.iconsNeedLinear=!0))}const hn=r1(Zt.horizontal)||Zt.vertical;u.iconsInText||(u.iconsInText=!!hn&&hn.iconsInText),(hn||Yt)&&OC(u,De,Zt,Yt,d,N,tt,0,un,on,v,S,A,$,Ce)}h&&u.generateCollisionDebugBuffers(T,u.collisionBoxArray,N.textScaleFactor)},c.e5=nv,c.e6=kr,c.e7=hb,c.e8=my,c.e9=xe,c.ea=function(u){let n=0;if(new Uint32Array(u,0,1)[0]!==Uf){const i=new Uint32Array(u,0,7),[,,d,g,h,v]=i;n=i.byteLength+g+h+v+h,(d!==u.byteLength||n>=u.byteLength)&&Fn("Invalid b3dm header information.")}return h_(u,n)},c.eb=function(u,n){const i=hx(u);for(const d of i){for(const g of d.meshes)PS(g);d.lights&&(d.lightMeshIndex=d.meshes.length,d.meshes.push(mx(d.lights,n)))}return i},c.ec=U0,c.ed=YC,c.ee=au,c.ef=function(u){Qt(),Xe!=null&&Xe.then(n=>{n.keys().then(i=>{for(let d=0;d<i.length-u;d++)n.delete(i[d])})})},c.f=function(u){return u.indexOf("mapbox:")===0},c.g=function(u,n){return mt(ti(u,{method:"GET"}),n)},c.h=Xi,c.i=function(u){return oi.API_STYLE_REGEX.test(u)&&!Ji(u)},c.j=function(u){return decodeURIComponent(atob(u).split("").map(n=>"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)).join(""))},c.k=function(u){return btoa(encodeURIComponent(u).replace(/%([0-9A-F]{2})/g,(n,i)=>String.fromCharCode(+("0x"+i))))},c.l=ti,c.m=rt,c.n=function(u,n){return mt(ti(u,{type:"json"}),n)},c.o=Mi,c.p=function(u,n){return mt(ti(u,{method:"POST"}),n)},c.q=he,c.r=Sc,c.s=function(u){try{const n=self[u];return n.setItem("_mapbox_test_",1),n.removeItem("_mapbox_test_"),!0}catch(n){return!1}},c.t=ke,c.u=function(){return function u(n){return n?(n^Math.random()*(16>>n/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,u)}()},c.v=function(u){return!!u&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(u)},c.w=Fn,c.x=function(){return j1||(j1=new kf),j1},c.y=Oo,c.z=vo}),ot(["./shared"],function(c){function xe(Oe){const de=Oe?Oe.url.toString():void 0;return de?performance.getEntriesByName(de):[]}function We(Oe){if(typeof Oe=="number"||typeof Oe=="boolean"||typeof Oe=="string"||Oe==null)return JSON.stringify(Oe);if(Array.isArray(Oe)){let X="[";for(const ke of Oe)X+=`${We(ke)},`;return`${X}]`}let de="{";for(const X of Object.keys(Oe).sort())de+=`${X}:${We(Oe[X])},`;return`${de}}`}function Fe(Oe){let de="";for(const X of c.bm)(Oe.type!=="model"||X!=="minzoom"&&X!=="maxzoom")&&(de+=`/${We(Oe[X])}`);return de}class Me{constructor(de){this.keyCache={},this._layers={},this._layerConfigs={},de&&this.replace(de)}replace(de,X){this._layerConfigs={},this._layers={},this.update(de,[],X)}update(de,X,ke){this._options=ke;for(const Ye of de)this._layerConfigs[Ye.id]=Ye,(this._layers[Ye.id]=c.cu(Ye,this.scope,null,this._options)).compileFilter(ke),this.keyCache[Ye.id]&&delete this.keyCache[Ye.id];for(const Ye of X)delete this.keyCache[Ye],delete this._layerConfigs[Ye],delete this._layers[Ye];this.familiesBySource={};const he=function(Ye,et){const tn={};for(let nn=0;nn<Ye.length;nn++){const vn=Ye[nn];let Xe=et&&et[vn.id];!Xe&&(Xe=Fe(vn),vn.type==="line"&&vn.paint)&&function Ht(Qt){return typeof Qt=="string"&&Qt==="line-progress"||(Array.isArray(Qt)?Qt.some(Ht):!(!Qt||typeof Qt!="object")&&Object.values(Qt).some(Ht))}(vn.paint["line-width"])&&(Xe+=`/${We(vn.paint["line-width"])}`),et&&(et[vn.id]=Xe);let Mt=tn[Xe];Mt||(Mt=tn[Xe]=[]),Mt.push(vn)}const Tt=[];for(const nn in tn)Tt.push(tn[nn]);return Tt}(c.bj(this._layerConfigs),this.keyCache);for(const Ye of he){const et=Ye.map(Mt=>this._layers[Mt.id]),tn=et[0];if(tn.visibility==="none")continue;const Tt=tn.source||"";let nn=this.familiesBySource[Tt];nn||(nn=this.familiesBySource[Tt]={});const vn=tn.sourceLayer||"_geojsonTileLayer";let Xe=nn[vn];Xe||(Xe=nn[vn]=[]),Xe.push(et)}}}const ve=1*c.dX;class te{constructor(de){const X={},ke=[];for(const tn in de){const Tt=de[tn],nn=X[tn]={};for(const vn in Tt.glyphs){const Xe=Tt.glyphs[+vn];if(!Xe||Xe.bitmap.width===0||Xe.bitmap.height===0)continue;const Mt=Xe.metrics.localGlyph?ve:1,Ht={x:0,y:0,w:Xe.bitmap.width+2*Mt,h:Xe.bitmap.height+2*Mt};ke.push(Ht),nn[vn]=Ht}}const{w:he,h:Ye}=c.F(ke),et=new c.dW({width:he||1,height:Ye||1});for(const tn in de){const Tt=de[tn];for(const nn in Tt.glyphs){const vn=Tt.glyphs[+nn];if(!vn||vn.bitmap.width===0||vn.bitmap.height===0)continue;const Xe=X[tn][nn],Mt=vn.metrics.localGlyph?ve:1;c.dW.copy(vn.bitmap,et,{x:0,y:0},{x:Xe.x+Mt,y:Xe.y+Mt},vn.bitmap)}}this.image=et,this.positions=X}}c.dV(te,"GlyphAtlas");const Ke="3d_elevation_id",$e="hd_road_elevation";class He{constructor(){this._valid=!1}reset(de){return this.feature=de,this._valid=!0,this._geometry=de.loadGeometry(),this._geometry.length!==0&&this._geometry[0].length!==0||(this._valid=!1),this}geometry(de,X){return this._valid&&de(X(this._geometry)),this}require(de,X,ke){return this.get(de,!0,X,ke)}optional(de,X,ke){return this.get(de,!1,X,ke)}success(){return this._valid}get(de,X,ke,he){const Ye=this.feature.properties.hasOwnProperty(de)?+this.feature.properties[de]:void 0;return this._valid&&Ye!==void 0?ke(he?he(Ye):Ye):X&&(this._valid=!1),this}}class qe{constructor(de,X){this.featureFunc=de,this.vertexFunc=X}parseFeature(de,X,ke){return this.featureFunc(de,X,ke)}parseVertex(de,X,ke){return this.vertexFunc(de,X,ke)}}const dt=new qe((Oe,de,X)=>Oe.reset(de).require(Ke,ke=>{X.id=ke}).optional("fixed_height_relative",ke=>{X.constantHeight=ke},ht.decodeRelativeHeight).geometry(ke=>{X.bounds=ke},ht.computeBounds).success(),(Oe,de,X)=>Oe.reset(de).require(Ke,ke=>{X.id=ke}).require("elevation_idx",ke=>{X.idx=ke}).require("extent",ke=>{X.extent=ke}).require("height_relative",ke=>{X.height=ke},ht.decodeRelativeHeight).geometry(ke=>{X.position=ke},ht.getPoint).success()),Je=new qe((Oe,de,X)=>Oe.reset(de).require(Ke,ke=>{X.id=ke}).optional("fixed_height",ke=>{X.constantHeight=ke},ht.decodeMetricHeight).geometry(ke=>{X.bounds=ke},ht.computeBounds).success(),(Oe,de,X)=>Oe.reset(de).require(Ke,ke=>{X.id=ke}).require("elevation_idx",ke=>{X.idx=ke}).require("extent",ke=>{X.extent=ke}).require("height",ke=>{X.height=ke},ht.decodeMetricHeight).geometry(ke=>{X.position=ke},ht.getPoint).success());class ht{static computeBounds(de){const X=new c.P(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),ke=new c.P(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY);for(const he of de[0])X.x>he.x&&(X.x=he.x),X.y>he.y&&(X.y=he.y),ke.x<he.x&&(ke.x=he.x),ke.y<he.y&&(ke.y=he.y);return{min:X,max:ke}}static getPoint(de){return c.ab.vec2.fromValues(de[0][0].x,de[0][0].y)}static decodeRelativeHeight(de){return 1e-4*de*5}static decodeMetricHeight(de){return 1e-4*de}static parse(de){const X=[],ke=[],he=de.length,Ye=new He;for(let tn=0;tn<he;tn++){const Tt=de.feature(tn),nn=Tt.properties.hasOwnProperty("version")?String(Tt.properties.version):void 0,vn=(et=nn)?et==="1.0.1"?Je:void 0:dt;if(vn===void 0){c.w(`Unknown elevation feature version number ${nn||"(unknown)"}`);continue}const Xe=Tt.properties.hasOwnProperty("type")?Tt.properties.type:void 0;if(Xe){if(c.dY.VectorTileFeature.types[Tt.type]==="Point"&&Xe==="curve_point"){const Mt={};vn.parseVertex(Ye,Tt,Mt)&&X.push(Mt)}else if(c.dY.VectorTileFeature.types[Tt.type]==="Polygon"&&Xe==="curve_meta"){const Mt={};vn.parseFeature(Ye,Tt,Mt)&&ke.push(Mt)}}}var et;return{vertices:X,features:ke}}}class bt{constructor(de,X,ke,he,Ye,et){if(this.vertices=new Array,this.vertexProps=new Array,this.edges=new Array,this.edgeProps=new Array,this.id=de,this.heightRange={min:ke,max:ke},this.safeArea=X,this.constantHeight=ke,this.constantHeight==null&&(this.constantHeight!=null||he.length!==0)){this.vertices=he,this.edges=Ye,this.edges=this.edges.filter(tn=>tn.a<this.vertices.length&&tn.b<this.vertices.length&&!c.ab.vec2.exactEquals(this.vertices[tn.a].position,this.vertices[tn.b].position)),this.heightRange={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};for(const tn of this.vertices)this.vertexProps.push({dir:c.ab.vec2.fromValues(0,0)}),this.heightRange.min=Math.min(this.heightRange.min,tn.height),this.heightRange.max=Math.max(this.heightRange.max,tn.height);for(const tn of this.edges){const Tt=this.vertices[tn.a].position,nn=this.vertices[tn.b].position,vn=c.ab.vec2.subtract(c.ab.vec2.create(),nn,Tt),Xe=c.ab.vec2.length(vn),Mt=c.ab.vec2.scale(c.ab.vec2.create(),vn,1/Xe);this.edgeProps.push({vec:vn,dir:Mt,len:Xe});const Ht=this.vertexProps[tn.a].dir,Qt=this.vertexProps[tn.b].dir;c.ab.vec2.add(Ht,Ht,Mt),c.ab.vec2.add(Qt,Qt,Mt)}for(const tn of this.vertexProps)tn.dir[0]===0&&tn.dir[1]===0||c.ab.vec2.normalize(tn.dir,tn.dir);this.tessellate(et)}}pointElevation(de){if(this.constantHeight!=null)return this.constantHeight;const X=this.getClosestEdge(de);if(X==null)return 0;const[ke,he]=X;return(1-(Ye=he))*this.vertices[this.edges[ke].a].height+Ye*this.vertices[this.edges[ke].b].height;var Ye}getClosestEdge(de){if(this.edges.length===0)return;let X=0,ke=Number.POSITIVE_INFINITY,he=0;const Ye=c.ab.vec2.fromValues(de.x,de.y);for(let et=0;et<this.edges.length;et++){const tn=this.edges[et],Tt=this.edgeProps[et].dir,nn=new c.dZ(Ye,this.edgeProps[et].dir),vn=this.vertices[tn.a].position,Xe=this.vertices[tn.b].position,Mt=c.ab.vec2.create(),Ht=c.ab.vec2.create(),Qt=nn.intersectsPlane(vn,this.vertexProps[tn.a].dir,Mt),ct=nn.intersectsPlane(Xe,this.vertexProps[tn.b].dir,Ht);if(!Qt||!ct)continue;const rt=c.ab.vec2.subtract(c.ab.vec2.create(),Ht,Mt),xn=c.ab.vec2.subtract(c.ab.vec2.create(),Ye,Mt),yn=c.ab.vec2.dot(rt,rt),Zn=yn>0?c.ab.vec2.dot(xn,rt)/yn:0,_r=c.aw(Zn,0,1),ir=Math.abs((Zn-_r)*this.edgeProps[et].len),Or=c.ab.vec2.subtract(c.ab.vec2.create(),Ye,vn),Qr=ir+Math.abs(c.ab.vec2.dot(Or,c.ab.vec2.fromValues(Tt[1],-Tt[0])));Qr<ke&&(X=et,ke=Qr,he=_r)}return[X,he]}tessellate(de){for(let X=this.edges.length-1;X>=0;--X){const ke=this.edges[X].a,he=this.edges[X].b,{position:Ye,height:et,extent:tn}=this.vertices[ke],{position:Tt,height:nn,extent:vn}=this.vertices[he],Xe=this.vertexProps[ke].dir,Mt=this.vertexProps[he].dir,Ht=c.ab.vec3.fromValues(Ye[0]/de,Ye[1]/de,et),Qt=c.ab.vec3.fromValues(Tt[0]/de,Tt[1]/de,nn),ct=c.ab.vec3.fromValues(Xe[1],-Xe[0],0);c.ab.vec3.scale(ct,ct,tn);const rt=c.ab.vec3.fromValues(Mt[1],-Mt[0],0);if(c.ab.vec3.scale(rt,rt,vn),this.distSqLines(c.ab.vec3.fromValues(Ht[0]+.5*ct[0],Ht[1]+.5*ct[1],Ht[2]+.5*ct[2]),c.ab.vec3.fromValues(Qt[0]-.5*rt[0],Qt[1]-.5*rt[1],Qt[2]-.5*rt[2]),c.ab.vec3.fromValues(Ht[0]-.5*ct[0],Ht[1]-.5*ct[1],Ht[2]-.5*ct[2]),c.ab.vec3.fromValues(Qt[0]+.5*rt[0],Qt[1]+.5*rt[1],Qt[2]+.5*rt[2]))<=.05*.05)continue;const xn=this.vertices.length,yn=c.ab.vec2.add(c.ab.vec2.create(),Ye,Tt);this.vertices.push({position:c.ab.vec2.scale(yn,yn,.5),height:.5*(et+nn),extent:.5*(tn+vn)});const Zn=c.ab.vec2.add(c.ab.vec2.create(),Xe,Mt);this.vertexProps.push({dir:c.ab.vec2.normalize(Zn,Zn)}),this.edges.splice(X,1),this.edgeProps.splice(X,1),this.edges.push({a:ke,b:xn}),this.edges.push({a:xn,b:he});const _r=c.ab.vec2.subtract(c.ab.vec2.create(),this.vertices[xn].position,Ye),ir=c.ab.vec2.length(_r),Or={vec:_r,dir:c.ab.vec2.scale(c.ab.vec2.create(),_r,1/ir),len:ir};this.edgeProps.push(Or),this.edgeProps.push(Or)}}distSqLines(de,X,ke,he){const Ye=c.ab.vec3.subtract(c.ab.vec3.create(),X,de),et=c.ab.vec3.subtract(c.ab.vec3.create(),he,ke),tn=c.ab.vec3.subtract(c.ab.vec3.create(),de,ke),Tt=c.ab.vec3.dot(Ye,Ye),nn=c.ab.vec3.dot(Ye,et),vn=c.ab.vec3.dot(Ye,tn),Xe=c.ab.vec3.dot(et,et),Mt=c.ab.vec3.dot(et,tn),Ht=Tt*Xe-nn*nn;if(Ht===0){const yn=c.ab.vec3.dot(tn,et)/c.ab.vec3.dot(et,et),Zn=c.ab.vec3.lerp(c.ab.vec3.create(),ke,he,yn);return c.ab.vec3.squaredDistance(Zn,de)}const Qt=(nn*Mt-vn*Xe)/Ht,ct=(Tt*Mt-nn*vn)/Ht,rt=c.ab.vec3.lerp(c.ab.vec3.create(),de,X,Qt),xn=c.ab.vec3.lerp(c.ab.vec3.create(),ke,he,ct);return c.ab.vec3.squaredDistance(rt,xn)}}class Ue{static parseFrom(de,X){const ke=ht.parse(de);if(!ke)return[];let{vertices:he,features:Ye}=ke;const et=1/c.cc(X);Ye.sort((vn,Xe)=>vn.id-Xe.id),he.sort((vn,Xe)=>vn.id-Xe.id||vn.idx-Xe.idx),he=he.filter((vn,Xe,Mt)=>Xe===Mt.findIndex(Ht=>Ht.id===vn.id&&Ht.idx===vn.idx));const tn=new Array;let Tt=0;const nn=he.length;for(const vn of Ye){if(vn.constantHeight){tn.push(new bt(vn.id,vn.bounds,vn.constantHeight));continue}for(;Tt!==nn&&he[Tt].id<vn.id;)Tt++;if(Tt===nn||he[Tt].id!==vn.id)continue;const Xe=new Array,Mt=new Array,Ht=Tt;for(;Tt!==nn&&he[Tt].id===vn.id;){const Qt=he[Tt];if(Xe.push({position:Qt.position,height:Qt.height,extent:Qt.extent}),Tt!==Ht&&he[Tt-1].idx===Qt.idx-1){const ct=Tt-Ht;Mt.push({a:ct-1,b:ct})}Tt++}tn.push(new bt(vn.id,vn.bounds,void 0,Xe,Mt,et))}return tn}}c.dV(bt,"ElevationFeature");class kt{constructor(de){this.tileID=new c.aG(de.tileID.overscaledZ,de.tileID.wrap,de.tileID.canonical.z,de.tileID.canonical.x,de.tileID.canonical.y),this.tileZoom=de.tileZoom,this.uid=de.uid,this.zoom=de.zoom,this.lut=de.lut,this.canonical=de.tileID.canonical,this.pixelRatio=de.pixelRatio,this.tileSize=de.tileSize,this.source=de.source,this.scope=de.scope,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=de.showCollisionBoxes,this.collectResourceTiming=!!de.request&&de.request.collectResourceTiming,this.promoteId=de.promoteId,this.isSymbolTile=de.isSymbolTile,this.tileTransform=c.aQ(de.tileID.canonical,de.projection),this.projection=de.projection,this.worldview=de.worldview,this.localizableLayerIds=de.localizableLayerIds,this.brightness=de.brightness,this.extraShadowCaster=!!de.extraShadowCaster,this.tessellationStep=de.tessellationStep,this.scaleFactor=de.scaleFactor}parse(de,X,ke,he,Ye){this.status="parsing",this.data=de,this.collisionBoxArray=new c.aW;const et=new c.d_(Object.keys(de.layers).sort()),tn=new c.d$(this.tileID,this.promoteId);tn.bucketLayerIDs=[];const Tt={},nn=new c.e0(256,256),vn={featureIndex:tn,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:nn,availableImages:ke,brightness:this.brightness,scaleFactor:this.scaleFactor,elevationFeatures:void 0},Xe=X.familiesBySource[this.source];for(const yn in Xe){const Zn=de.layers[yn];if(!Zn)continue;let _r=!1,ir=!1,Or=!1;for(const mt of Xe[yn])mt[0].type==="symbol"?_r=!0:ir=!0,mt[0].is3D()&&mt[0].type!=="model"&&(Or=!0);if(this.extraShadowCaster&&!Or||this.isSymbolTile===!0&&!_r||this.isSymbolTile===!1&&!ir)continue;Zn.version===1&&c.w(`Vector tile source "${this.source}" layer "${yn}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Qr=et.encode(yn),ii=[];let Ui=!1;for(let mt=0,_n=0;mt<Zn.length;mt++){const Ut=Zn.feature(mt),An=tn.getId(Ut,yn);if(this.localizableLayerIds&&this.localizableLayerIds.has(yn)){const or=Ut.properties?Ut.properties.worldview:null;if(this.worldview&&typeof or=="string")if(or==="all")Ut.properties.$localized=!0;else{if(!or.split(",").includes(this.worldview))continue;Ut.properties.$localized=!0,Ut.properties.worldview=this.worldview}}!Ui&&Ut.properties&&Ut.properties.hasOwnProperty(Ke)&&(Ui=!0),ii.push({feature:Ut,id:An,index:_n,sourceLayerIndex:Qr}),_n++}Ui&&de.layers.hasOwnProperty($e)&&(vn.elevationFeatures=Ue.parseFrom(de.layers[$e],this.canonical));for(const mt of Xe[yn]){const _n=mt[0];(!this.extraShadowCaster||_n.is3D()&&_n.type!=="model")&&(this.isSymbolTile!==void 0&&_n.type==="symbol"!==this.isSymbolTile||_n.minzoom&&this.zoom<Math.floor(_n.minzoom)||_n.maxzoom&&this.zoom>=_n.maxzoom||_n.visibility!=="none"&&(yt(mt,this.zoom,vn.brightness,ke),(Tt[_n.id]=_n.createBucket({index:tn.bucketLayerIDs.length,layers:mt,zoom:this.zoom,lut:this.lut,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Qr,sourceID:this.source,projection:this.projection.spec,tessellationStep:this.tessellationStep})).populate(ii,vn,this.tileID.canonical,this.tileTransform),tn.bucketLayerIDs.push(mt.map(Ut=>c.aC(Ut.id,Ut.scope)))))}}let Mt,Ht,Qt,ct;nn.trim();const rt={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},xn=()=>{if(Mt)return this.status="done",Ye(Mt);if(this.extraShadowCaster)this.status="done",Ye(null,{buckets:c.bj(Tt).filter(yn=>!yn.isEmpty()),featureIndex:tn,collisionBoxArray:null,glyphAtlasImage:null,lineAtlas:null,imageAtlas:null,brightness:vn.brightness,glyphMap:null,iconMap:null,glyphPositions:null});else if(Ht&&Qt&&ct){const yn=new te(Ht),Zn=new c.e3(Qt,ct,this.lut);for(const _r in Tt){const ir=Tt[_r];ir instanceof c.aX?(yt(ir.layers,this.zoom,vn.brightness,ke),c.e4(ir,Ht,yn.positions,Qt,Zn.iconPositions,this.showCollisionBoxes,ke,this.tileID.canonical,this.tileZoom,this.projection,this.scaleFactor,this.pixelRatio,this.brightness)):ir.hasPattern&&(ir instanceof c.b1||ir instanceof c.b2||ir instanceof c.d5)&&(yt(ir.layers,this.zoom,vn.brightness,ke),ir.addFeatures(vn,this.tileID.canonical,Zn.patternPositions,ke,this.tileTransform,this.brightness))}this.status="done",Ye(null,{buckets:c.bj(Tt).filter(_r=>!_r.isEmpty()),featureIndex:tn,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:yn.image,lineAtlas:nn,imageAtlas:Zn,brightness:vn.brightness})}};if(!this.extraShadowCaster){const yn=c.e1(vn.glyphDependencies,ir=>Object.keys(ir).map(Number));Object.keys(yn).length?he.send("getGlyphs",{uid:this.uid,stacks:yn,scope:this.scope},(ir,Or)=>{Mt||(Mt=ir,Ht=Or,xn())},void 0,!1,rt):Ht={};const Zn=Object.keys(vn.iconDependencies);Zn.length?he.send("getImages",{icons:Zn,source:this.source,scope:this.scope,tileID:this.tileID,type:"icons"},(ir,Or)=>{if(Mt)return;Mt=ir;const Qr={};Object.values(Or).some(ii=>ii.usvg)?this.rasterize(he,Qr,Or,vn.iconDependencies,()=>{Qt=Qr,xn()}):(this.fillImageMap(Qr,vn.iconDependencies,Or),Qt=Qr,xn())},void 0,!1,rt):Qt={};const _r=Object.keys(vn.patternDependencies);_r.length?he.send("getImages",{icons:_r,source:this.source,scope:this.scope,tileID:this.tileID,type:"patterns"},(ir,Or)=>{if(!Mt){Mt=ir;const Qr={};Object.values(Or).some(ii=>ii.usvg)?this.rasterize(he,Qr,Or,vn.patternDependencies,()=>{ct=Qr,xn()}):(this.fillImageMap(Qr,vn.patternDependencies,Or),ct=Qr,xn())}},void 0,!1,rt):ct={}}xn()}fillImageMap(de,X,ke){for(const he in ke){const Ye=X[he]||[];for(const et of Ye)ke[et.id].usvg||(de[et.serialize()]=ke[et.id])}}getImageTaskQueue(de,X,ke){const he={};for(const Ye in X){const et=ke[Ye]||[];for(const tn of et){const Tt=tn.serialize();X[tn.id].usvg?he[Tt]||(he[Tt]=tn):de[Tt]=X[tn.id]}}return he}rasterize(de,X,ke,he,Ye){const et=this.getImageTaskQueue(X,ke,he);this.rasterizeTask=de.send("rasterizeImages",{scope:this.scope,imageTasks:et},(tn,Tt)=>{if(!tn)for(const nn in Tt){const{id:vn}=c.e2.deserializeFromString(nn);X[nn]=Object.assign({},ke[vn],{data:Tt[nn]})}Ye()})}cancelRasterize(){this.rasterizeTask&&this.rasterizeTask.cancel()}}function yt(Oe,de,X,ke){const he=new c.a8(de,{brightness:X});for(const Ye of Oe)Ye.recalculate(he,ke)}class Et extends c.E{constructor(de,X,ke,he,Ye,et){super(),this.actor=de,this.layerIndex=X,this.availableImages=ke,this.loadVectorData=Ye||c.aD,this.loading={},this.loaded={},this.deduped=new c.aB(de.scheduler),this.isSpriteLoaded=he,this.scheduler=de.scheduler,this.brightness=et}loadTile(de,X){const ke=de.uid,he=de&&de.request,Ye=he&&he.collectResourceTiming,et=this.loading[ke]=new kt(de);et.abort=this.loadVectorData(de,(tn,Tt)=>{const nn=!this.loading[ke];if(delete this.loading[ke],et.cancelRasterize(),nn||tn||!Tt)return et.status="done",nn||(this.loaded[ke]=et),X(tn);const vn=Tt.rawData,Xe={};Tt.expires&&(Xe.expires=Tt.expires),Tt.cacheControl&&(Xe.cacheControl=Tt.cacheControl),et.vectorTile=Tt.vectorTile||new c.dY.VectorTile(new c.bh(vn));const Mt=()=>{et.parse(et.vectorTile,this.layerIndex,this.availableImages,this.actor,(Ht,Qt)=>{if(Ht||!Qt)return X(Ht);const ct={};if(Ye){const rt=xe(he);rt.length>0&&(ct.resourceTiming=JSON.parse(JSON.stringify(rt)))}X(null,c.l({rawTileData:vn.slice(0)},Qt,Xe,ct))})};this.isSpriteLoaded?Mt():this.once("isSpriteLoaded",()=>{this.scheduler?this.scheduler.add(Mt,{type:"parseTile",isSymbolTile:de.isSymbolTile,zoom:de.tileZoom}):Mt()}),this.loaded=this.loaded||{},this.loaded[ke]=et})}reloadTile(de,X){const ke=this.loaded,he=de.uid;if(ke&&ke[he]){const Ye=ke[he];Ye.scaleFactor=de.scaleFactor,Ye.showCollisionBoxes=de.showCollisionBoxes,Ye.projection=de.projection,Ye.brightness=de.brightness,Ye.tileTransform=c.aQ(de.tileID.canonical,de.projection),Ye.extraShadowCaster=de.extraShadowCaster,Ye.lut=de.lut;const et=(tn,Tt)=>{const nn=Ye.reloadCallback;nn&&(delete Ye.reloadCallback,Ye.parse(Ye.vectorTile,this.layerIndex,this.availableImages,this.actor,nn)),X(tn,Tt)};Ye.status==="parsing"?Ye.reloadCallback=et:Ye.status==="done"&&(Ye.vectorTile?Ye.parse(Ye.vectorTile,this.layerIndex,this.availableImages,this.actor,et):et())}else X(null,void 0)}abortTile(de,X){const ke=de.uid,he=this.loading[ke];he&&(he.abort&&he.abort(),delete this.loading[ke]),X()}removeTile(de,X){const ke=this.loaded,he=de.uid;ke&&ke[he]&&delete ke[he],X()}}class Vt{loadTile(de,X){const{uid:ke,encoding:he,rawImageData:Ye,padding:et}=de,tn=ImageBitmap&&Ye instanceof ImageBitmap?this.getImageData(Ye,et):Ye;X(null,new c.e5(ke,tn,he,et<1))}getImageData(de,X){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(de.width,de.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d",{willReadFrequently:!0})),this.offscreenCanvas.width=de.width,this.offscreenCanvas.height=de.height,this.offscreenCanvasContext.drawImage(de,0,0,de.width,de.height);const ke=this.offscreenCanvasContext.getImageData(-X,-X,de.width+2*X,de.height+2*X);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),ke}}c.bg.setPbf(c.bh);class Lt{decodeRasterArray({task:de,buffer:X},ke){c.bg.performDecoding(X,de).then(he=>{ke(null,he)},he=>{ke(he)})}}const hr=c.dY.VectorTileFeature.prototype.toGeoJSON;class er{constructor(de){this._feature=de,this.extent=c.ag,this.type=de.type,this.properties=de.tags,"id"in de&&!isNaN(de.id)&&(this.id=parseInt(de.id,10))}loadGeometry(){if(this._feature.type===1){const de=[];for(const X of this._feature.geometry)de.push([new c.P(X[0],X[1])]);return de}{const de=[];for(const X of this._feature.geometry){const ke=[];for(const he of X)ke.push(new c.P(he[0],he[1]));de.push(ke)}return de}}toGeoJSON(de,X,ke){return hr.call(this,de,X,ke)}}class Hn{constructor(de){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=c.ag,this.length=de.length,this._features=de}feature(de){return new er(this._features[de])}}const Ze=64/4096,Nt=128;class sn{constructor(){this.features=new Map}clear(){this.features.clear()}load(de=[],X){for(const ke of de){const he=ke.id;if(he==null)continue;let Ye=this.features.get(he);Ye&&this.updateCache(Ye,X),ke.geometry?(Ye=Le(ke),this.updateCache(Ye,X),this.features.set(he,Ye)):this.features.delete(he),this.updateCache(Ye,X)}}updateCache(de,X){for(const{canonical:ke,uid:he}of Object.values(X)){const{z:Ye,x:et,y:tn}=ke;Xt(de,Math.pow(2,Ye),et,tn)&&delete X[he]}}getTile(de,X,ke){const he=Math.pow(2,de),Ye=[];for(const et of this.features.values())Xt(et,he,X,ke)&&Ye.push(lt(et,he,X,ke));return{features:Ye}}getFeatures(){return[...this.features.values()]}}function Xt({minX:Oe,minY:de,maxX:X,maxY:ke},he,Ye,et){return Oe<(Ye+1+Ze)/he&&de<(et+1+Ze)/he&&X>(Ye-Ze)/he&&ke>(et-Ze)/he}function Le(Oe){const{id:de,geometry:X,properties:ke}=Oe;if(!X)return;if(X.type==="GeometryCollection")throw new Error("GeometryCollection not supported in dynamic mode.");const{type:he,coordinates:Ye}=X,et={id:de,type:1,geometry:[],tags:ke,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0},tn=et.geometry;if(he==="Point")$n(Ye,tn,et);else if(he==="MultiPoint")for(const Tt of Ye)$n(Tt,tn,et);else if(he==="LineString")et.type=2,cn(Ye,tn,et);else if(he==="MultiLineString")et.type=2,En(Ye,tn,et);else if(he==="Polygon")et.type=3,En(Ye,tn,et,!0);else{if(he!=="MultiPolygon")throw new Error("Input data is not a valid GeoJSON object.");et.type=3;for(const Tt of Ye)En(Tt,tn,et,!0)}return et}function $n([Oe,de],X,ke){const he=c.at(Oe);let Ye=c.aA(de);Ye=Ye<0?0:Ye>1?1:Ye,X.push(he,Ye),ke.minX=Math.min(ke.minX,he),ke.minY=Math.min(ke.minY,Ye),ke.maxX=Math.max(ke.maxX,he),ke.maxY=Math.max(ke.maxY,Ye)}function cn(Oe,de,X,ke=!1,he=!1){const Ye=[];for(const et of Oe)$n(et,Ye,X);de.push(Ye),ke&&function(et,tn){let Tt=0;for(let nn=0,vn=et.length,Xe=vn-2;nn<vn;Xe=nn,nn+=2)Tt+=(et[nn]-et[Xe])*(et[nn+1]+et[Xe+1]);if(Tt>0===tn)for(let nn=0,vn=et.length;nn<vn/2;nn+=2){const Xe=et[nn],Mt=et[nn+1];et[nn]=et[vn-2-nn],et[nn+1]=et[vn-1-nn],et[vn-2-nn]=Xe,et[vn-1-nn]=Mt}}(Ye,he)}function En(Oe,de,X,ke=!1){for(let he=0;he<Oe.length;he++)cn(Oe[he],de,X,ke,he===0)}function lt(Oe,de,X,ke){const{id:he,type:Ye,geometry:et,tags:tn}=Oe,Tt=[];if(Ye===1)(function(nn,vn,Xe,Mt,Ht){for(let Qt=0;Qt<nn.length;Qt+=2){const ct=Math.round(c.ag*(nn[Qt+0]*vn-Xe)),rt=Math.round(c.ag*(nn[Qt+1]*vn-Mt));Ht.push([ct,rt])}})(et,de,X,ke,Tt);else for(const nn of et)Gt(nn,de,X,ke,Tt);return{id:he,type:Ye,geometry:Tt,tags:tn}}function Gt(Oe,de,X,ke,he){const Ye=-Nt,et=c.ag+Nt;let tn;for(let Tt=0;Tt<Oe.length-2;Tt+=2){let nn=Math.round(c.ag*(Oe[Tt+0]*de-X)),vn=Math.round(c.ag*(Oe[Tt+1]*de-ke)),Xe=Math.round(c.ag*(Oe[Tt+2]*de-X)),Mt=Math.round(c.ag*(Oe[Tt+3]*de-ke));const Ht=Xe-nn,Qt=Mt-vn;nn<Ye&&Xe<Ye||(nn<Ye?(vn+=Math.round(Qt*((Ye-nn)/Ht)),nn=Ye):Xe<Ye&&(Mt=vn+Math.round(Qt*((Ye-nn)/Ht)),Xe=Ye),vn<Ye&&Mt<Ye||(vn<Ye?(nn+=Math.round(Ht*((Ye-vn)/Qt)),vn=Ye):Mt<Ye&&(Xe=nn+Math.round(Ht*((Ye-vn)/Qt)),Mt=Ye),nn>=et&&Xe>=et||(nn>=et?(vn+=Math.round(Qt*((et-nn)/Ht)),nn=et):Xe>=et&&(Mt=vn+Math.round(Qt*((et-nn)/Ht)),Xe=et),vn>=et&&Mt>=et||(vn>=et?(nn+=Math.round(Ht*((et-vn)/Qt)),vn=et):Mt>=et&&(Xe=nn+Math.round(Ht*((et-vn)/Qt)),Mt=et),tn&&nn===tn[tn.length-1][0]&&vn===tn[tn.length-1][1]||(tn=[[nn,vn]],he.push(tn)),tn.push([Xe,Mt])))))}}var bn,fe,Wt,hi={exports:{}},Jr=function(){if(Wt)return hi.exports;Wt=1;var Oe=c.e8(),de=function(){if(fe)return bn;fe=1;var vn=c.e6(),Xe=c.e7().VectorTileFeature;function Mt(Qt,ct){this.options=ct||{},this.features=Qt,this.length=Qt.length}function Ht(Qt,ct){this.id=typeof Qt.id=="number"?Qt.id:void 0,this.type=Qt.type,this.rawGeometry=Qt.type===1?[Qt.geometry]:Qt.geometry,this.properties=Qt.tags,this.extent=ct||4096}return bn=Mt,Mt.prototype.feature=function(Qt){return new Ht(this.features[Qt],this.options.extent)},Ht.prototype.loadGeometry=function(){var Qt=this.rawGeometry;this.geometry=[];for(var ct=0;ct<Qt.length;ct++){for(var rt=Qt[ct],xn=[],yn=0;yn<rt.length;yn++)xn.push(new vn(rt[yn][0],rt[yn][1]));this.geometry.push(xn)}return this.geometry},Ht.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var Qt=this.geometry,ct=1/0,rt=-1/0,xn=1/0,yn=-1/0,Zn=0;Zn<Qt.length;Zn++)for(var _r=Qt[Zn],ir=0;ir<_r.length;ir++){var Or=_r[ir];ct=Math.min(ct,Or.x),rt=Math.max(rt,Or.x),xn=Math.min(xn,Or.y),yn=Math.max(yn,Or.y)}return[ct,xn,rt,yn]},Ht.prototype.toGeoJSON=Xe.prototype.toGeoJSON,bn}();function X(vn){var Xe=new Oe;return function(Mt,Ht){for(var Qt in Mt.layers)Ht.writeMessage(3,ke,Mt.layers[Qt])}(vn,Xe),Xe.finish()}function ke(vn,Xe){var Mt;Xe.writeVarintField(15,vn.version||1),Xe.writeStringField(1,vn.name||""),Xe.writeVarintField(5,vn.extent||4096);var Ht={keys:[],values:[],keycache:{},valuecache:{}};for(Mt=0;Mt<vn.length;Mt++)Ht.feature=vn.feature(Mt),Xe.writeMessage(2,he,Ht);var Qt=Ht.keys;for(Mt=0;Mt<Qt.length;Mt++)Xe.writeStringField(3,Qt[Mt]);var ct=Ht.values;for(Mt=0;Mt<ct.length;Mt++)Xe.writeMessage(4,nn,ct[Mt])}function he(vn,Xe){var Mt=vn.feature;Mt.id!==void 0&&Xe.writeVarintField(1,Mt.id),Xe.writeMessage(2,Ye,vn),Xe.writeVarintField(3,Mt.type),Xe.writeMessage(4,Tt,Mt)}function Ye(vn,Xe){var Mt=vn.feature,Ht=vn.keys,Qt=vn.values,ct=vn.keycache,rt=vn.valuecache;for(var xn in Mt.properties){var yn=Mt.properties[xn],Zn=ct[xn];if(yn!==null){Zn===void 0&&(Ht.push(xn),ct[xn]=Zn=Ht.length-1),Xe.writeVarint(Zn);var _r=typeof yn;_r!=="string"&&_r!=="boolean"&&_r!=="number"&&(yn=JSON.stringify(yn));var ir=_r+":"+yn,Or=rt[ir];Or===void 0&&(Qt.push(yn),rt[ir]=Or=Qt.length-1),Xe.writeVarint(Or)}}}function et(vn,Xe){return(Xe<<3)+(7&vn)}function tn(vn){return vn<<1^vn>>31}function Tt(vn,Xe){for(var Mt=vn.loadGeometry(),Ht=vn.type,Qt=0,ct=0,rt=Mt.length,xn=0;xn<rt;xn++){var yn=Mt[xn],Zn=1;Ht===1&&(Zn=yn.length),Xe.writeVarint(et(1,Zn));for(var _r=Ht===3?yn.length-1:yn.length,ir=0;ir<_r;ir++){ir===1&&Ht!==1&&Xe.writeVarint(et(2,_r-1));var Or=yn[ir].x-Qt,Qr=yn[ir].y-ct;Xe.writeVarint(tn(Or)),Xe.writeVarint(tn(Qr)),Qt+=Or,ct+=Qr}Ht===3&&Xe.writeVarint(et(7,1))}}function nn(vn,Xe){var Mt=typeof vn;Mt==="string"?Xe.writeStringField(1,vn):Mt==="boolean"?Xe.writeBooleanField(7,vn):Mt==="number"&&(vn%1!=0?Xe.writeDoubleField(3,vn):vn<0?Xe.writeSVarintField(6,vn):Xe.writeVarintField(5,vn))}return hi.exports=X,hi.exports.fromVectorTileJs=X,hi.exports.fromGeojsonVt=function(vn,Xe){Xe=Xe||{};var Mt={};for(var Ht in vn)Mt[Ht]=new de(vn[Ht].features,Xe),Mt[Ht].name=Ht,Mt[Ht].version=Xe.version,Mt[Ht].extent=Xe.extent;return X({layers:Mt})},hi.exports.GeoJSONWrapper=de,hi.exports}(),Te=c.e9(Jr);const Pn={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:Oe=>Oe},Lr=Math.fround||(kr=new Float32Array(1),Oe=>(kr[0]=+Oe,kr[0]));var kr;const In=3,Nr=5,vi=6;class sr{constructor(de){this.options=Object.assign(Object.create(Pn),de),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(de){const{log:X,minZoom:ke,maxZoom:he}=this.options;X&&console.time("total time");const Ye=`prepare ${de.length} points`;X&&console.time(Ye),this.points=de;const et=[];for(let Tt=0;Tt<de.length;Tt++){const nn=de[Tt];if(!nn.geometry)continue;const[vn,Xe]=nn.geometry.coordinates,Mt=Lr(zn(vn)),Ht=Lr(dn(Xe));et.push(Mt,Ht,1/0,Tt,-1,1),this.options.reduce&&et.push(0)}let tn=this.trees[he+1]=this._createTree(et);X&&console.timeEnd(Ye);for(let Tt=he;Tt>=ke;Tt--){const nn=+Date.now();tn=this.trees[Tt]=this._createTree(this._cluster(tn,Tt)),X&&console.log("z%d: %d clusters in %dms",Tt,tn.numItems,+Date.now()-nn)}return X&&console.timeEnd("total time"),this}getClusters(de,X){let ke=((de[0]+180)%360+360)%360-180;const he=Math.max(-90,Math.min(90,de[1]));let Ye=de[2]===180?180:((de[2]+180)%360+360)%360-180;const et=Math.max(-90,Math.min(90,de[3]));if(de[2]-de[0]>=360)ke=-180,Ye=180;else if(ke>Ye){const Xe=this.getClusters([ke,he,180,et],X),Mt=this.getClusters([-180,he,Ye,et],X);return Xe.concat(Mt)}const tn=this.trees[this._limitZoom(X)],Tt=tn.range(zn(ke),dn(et),zn(Ye),dn(he)),nn=tn.data,vn=[];for(const Xe of Tt){const Mt=this.stride*Xe;vn.push(nn[Mt+Nr]>1?it(nn,Mt,this.clusterProps):this.points[nn[Mt+In]])}return vn}getChildren(de){const X=this._getOriginId(de),ke=this._getOriginZoom(de),he="No cluster with the specified id.",Ye=this.trees[ke];if(!Ye)throw new Error(he);const et=Ye.data;if(X*this.stride>=et.length)throw new Error(he);const tn=this.options.radius/(this.options.extent*Math.pow(2,ke-1)),Tt=Ye.within(et[X*this.stride],et[X*this.stride+1],tn),nn=[];for(const vn of Tt){const Xe=vn*this.stride;et[Xe+4]===de&&nn.push(et[Xe+Nr]>1?it(et,Xe,this.clusterProps):this.points[et[Xe+In]])}if(nn.length===0)throw new Error(he);return nn}getLeaves(de,X,ke){const he=[];return this._appendLeaves(he,de,X=X||10,ke=ke||0,0),he}getTile(de,X,ke){const he=this.trees[this._limitZoom(de)],Ye=Math.pow(2,de),{extent:et,radius:tn}=this.options,Tt=tn/et,nn=(ke-Tt)/Ye,vn=(ke+1+Tt)/Ye,Xe={features:[]};return this._addTileFeatures(he.range((X-Tt)/Ye,nn,(X+1+Tt)/Ye,vn),he.data,X,ke,Ye,Xe),X===0&&this._addTileFeatures(he.range(1-Tt/Ye,nn,1,vn),he.data,Ye,ke,Ye,Xe),X===Ye-1&&this._addTileFeatures(he.range(0,nn,Tt/Ye,vn),he.data,-1,ke,Ye,Xe),Xe.features.length?Xe:null}getClusterExpansionZoom(de){let X=this._getOriginZoom(de)-1;for(;X<=this.options.maxZoom;){const ke=this.getChildren(de);if(X++,ke.length!==1)break;de=ke[0].properties.cluster_id}return X}_appendLeaves(de,X,ke,he,Ye){const et=this.getChildren(X);for(const tn of et){const Tt=tn.properties;if(Tt&&Tt.cluster?Ye+Tt.point_count<=he?Ye+=Tt.point_count:Ye=this._appendLeaves(de,Tt.cluster_id,ke,he,Ye):Ye<he?Ye++:de.push(tn),de.length===ke)break}return Ye}_createTree(de){const X=new c.bE(de.length/this.stride|0,this.options.nodeSize,Float32Array);for(let ke=0;ke<de.length;ke+=this.stride)X.add(de[ke],de[ke+1]);return X.finish(),X.data=de,X}_addTileFeatures(de,X,ke,he,Ye,et){for(const tn of de){const Tt=tn*this.stride,nn=X[Tt+Nr]>1;let vn,Xe,Mt;if(nn)vn=Ot(X,Tt,this.clusterProps),Xe=X[Tt],Mt=X[Tt+1];else{const ct=this.points[X[Tt+In]];vn=ct.properties;const[rt,xn]=ct.geometry.coordinates;Xe=zn(rt),Mt=dn(xn)}const Ht={type:1,geometry:[[Math.round(this.options.extent*(Xe*Ye-ke)),Math.round(this.options.extent*(Mt*Ye-he))]],tags:vn};let Qt;Qt=nn||this.options.generateId?X[Tt+In]:this.points[X[Tt+In]].id,Qt!==void 0&&(Ht.id=Qt),et.features.push(Ht)}}_limitZoom(de){return Math.max(this.options.minZoom,Math.min(Math.floor(+de),this.options.maxZoom+1))}_cluster(de,X){const{radius:ke,extent:he,reduce:Ye,minPoints:et}=this.options,tn=ke/(he*Math.pow(2,X)),Tt=de.data,nn=[],vn=this.stride;for(let Xe=0;Xe<Tt.length;Xe+=vn){if(Tt[Xe+2]<=X)continue;Tt[Xe+2]=X;const Mt=Tt[Xe],Ht=Tt[Xe+1],Qt=de.within(Tt[Xe],Tt[Xe+1],tn),ct=Tt[Xe+Nr];let rt=ct;for(const xn of Qt){const yn=xn*vn;Tt[yn+2]>X&&(rt+=Tt[yn+Nr])}if(rt>ct&&rt>=et){let xn,yn=Mt*ct,Zn=Ht*ct,_r=-1;const ir=(Xe/vn<<5)+(X+1)+this.points.length;for(const Or of Qt){const Qr=Or*vn;if(Tt[Qr+2]<=X)continue;Tt[Qr+2]=X;const ii=Tt[Qr+Nr];yn+=Tt[Qr]*ii,Zn+=Tt[Qr+1]*ii,Tt[Qr+4]=ir,Ye&&(xn||(xn=this._map(Tt,Xe,!0),_r=this.clusterProps.length,this.clusterProps.push(xn)),Ye(xn,this._map(Tt,Qr)))}Tt[Xe+4]=ir,nn.push(yn/rt,Zn/rt,1/0,ir,-1,rt),Ye&&nn.push(_r)}else{for(let xn=0;xn<vn;xn++)nn.push(Tt[Xe+xn]);if(rt>1)for(const xn of Qt){const yn=xn*vn;if(!(Tt[yn+2]<=X)){Tt[yn+2]=X;for(let Zn=0;Zn<vn;Zn++)nn.push(Tt[yn+Zn])}}}}return nn}_getOriginId(de){return de-this.points.length>>5}_getOriginZoom(de){return(de-this.points.length)%32}_map(de,X,ke){if(de[X+Nr]>1){const et=this.clusterProps[de[X+vi]];return ke?Object.assign({},et):et}const he=this.points[de[X+In]].properties,Ye=this.options.map(he);return ke&&Ye===he?Object.assign({},Ye):Ye}}function it(Oe,de,X){return{type:"Feature",id:Oe[de+In],properties:Ot(Oe,de,X),geometry:{type:"Point",coordinates:[(ke=Oe[de],360*(ke-.5)),fn(Oe[de+1])]}};var ke}function Ot(Oe,de,X){const ke=Oe[de+Nr],he=ke>=1e4?`${Math.round(ke/1e3)}k`:ke>=1e3?Math.round(ke/100)/10+"k":ke,Ye=Oe[de+vi],et=Ye===-1?{}:Object.assign({},X[Ye]);return Object.assign(et,{cluster:!0,cluster_id:Oe[de+In],point_count:ke,point_count_abbreviated:he})}function zn(Oe){return Oe/360+.5}function dn(Oe){const de=Math.sin(Oe*Math.PI/180),X=.5-.25*Math.log((1+de)/(1-de))/Math.PI;return X<0?0:X>1?1:X}function fn(Oe){const de=(180-360*Oe)*Math.PI/180;return 360*Math.atan(Math.exp(de))/Math.PI-90}function xr(Oe,de,X,ke){let he=ke;const Ye=de+(X-de>>1);let et,tn=X-de;const Tt=Oe[de],nn=Oe[de+1],vn=Oe[X],Xe=Oe[X+1];for(let Mt=de+3;Mt<X;Mt+=3){const Ht=Un(Oe[Mt],Oe[Mt+1],Tt,nn,vn,Xe);if(Ht>he)et=Mt,he=Ht;else if(Ht===he){const Qt=Math.abs(Mt-Ye);Qt<tn&&(et=Mt,tn=Qt)}}he>ke&&(et-de>3&&xr(Oe,de,et,ke),Oe[et+2]=he,X-et>3&&xr(Oe,et,X,ke))}function Un(Oe,de,X,ke,he,Ye){let et=he-X,tn=Ye-ke;if(et!==0||tn!==0){const Tt=((Oe-X)*et+(de-ke)*tn)/(et*et+tn*tn);Tt>1?(X=he,ke=Ye):Tt>0&&(X+=et*Tt,ke+=tn*Tt)}return et=Oe-X,tn=de-ke,et*et+tn*tn}function Xr(Oe,de,X,ke){const he={id:Oe!=null?Oe:null,type:de,geometry:X,tags:ke,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};if(de==="Point"||de==="MultiPoint"||de==="LineString")ei(he,X);else if(de==="Polygon")ei(he,X[0]);else if(de==="MultiLineString")for(const Ye of X)ei(he,Ye);else if(de==="MultiPolygon")for(const Ye of X)ei(he,Ye[0]);return he}function ei(Oe,de){for(let X=0;X<de.length;X+=3)Oe.minX=Math.min(Oe.minX,de[X]),Oe.minY=Math.min(Oe.minY,de[X+1]),Oe.maxX=Math.max(Oe.maxX,de[X]),Oe.maxY=Math.max(Oe.maxY,de[X+1])}function Wr(Oe,de,X,ke){if(!de.geometry)return;const he=de.geometry.coordinates;if(he&&he.length===0)return;const Ye=de.geometry.type,et=Math.pow(X.tolerance/((1<<X.maxZoom)*X.extent),2);let tn=[],Tt=de.id;if(X.promoteId?Tt=de.properties[X.promoteId]:X.generateId&&(Tt=ke||0),Ye==="Point")ti(he,tn);else if(Ye==="MultiPoint")for(const nn of he)ti(nn,tn);else if(Ye==="LineString")gr(he,tn,et,!1);else if(Ye==="MultiLineString"){if(X.lineMetrics){for(const nn of he)tn=[],gr(nn,tn,et,!1),Oe.push(Xr(Tt,"LineString",tn,de.properties));return}mr(he,tn,et,!1)}else if(Ye==="Polygon")mr(he,tn,et,!0);else{if(Ye!=="MultiPolygon"){if(Ye==="GeometryCollection"){for(const nn of de.geometry.geometries)Wr(Oe,{id:Tt,geometry:nn,properties:de.properties},X,ke);return}throw new Error("Input data is not a valid GeoJSON object.")}for(const nn of he){const vn=[];mr(nn,vn,et,!0),tn.push(vn)}}Oe.push(Xr(Tt,Ye,tn,de.properties))}function ti(Oe,de){de.push(fr(Oe[0]),wr(Oe[1]),0)}function gr(Oe,de,X,ke){let he,Ye,et=0;for(let Tt=0;Tt<Oe.length;Tt++){const nn=fr(Oe[Tt][0]),vn=wr(Oe[Tt][1]);de.push(nn,vn,0),Tt>0&&(et+=ke?(he*vn-nn*Ye)/2:Math.sqrt(Math.pow(nn-he,2)+Math.pow(vn-Ye,2))),he=nn,Ye=vn}const tn=de.length-3;de[2]=1,xr(de,0,tn,X),de[tn+2]=1,de.size=Math.abs(et),de.start=0,de.end=de.size}function mr(Oe,de,X,ke){for(let he=0;he<Oe.length;he++){const Ye=[];gr(Oe[he],Ye,X,ke),de.push(Ye)}}function fr(Oe){return Oe/360+.5}function wr(Oe){const de=Math.sin(Oe*Math.PI/180),X=.5-.25*Math.log((1+de)/(1-de))/Math.PI;return X<0?0:X>1?1:X}function vr(Oe,de,X,ke,he,Ye,et,tn){if(ke/=de,Ye>=(X/=de)&&et<ke)return Oe;if(et<X||Ye>=ke)return null;const Tt=[];for(const nn of Oe){const vn=nn.geometry;let Xe=nn.type;const Mt=he===0?nn.minX:nn.minY,Ht=he===0?nn.maxX:nn.maxY;if(Mt>=X&&Ht<ke){Tt.push(nn);continue}if(Ht<X||Mt>=ke)continue;let Qt=[];if(Xe==="Point"||Xe==="MultiPoint")jr(vn,Qt,X,ke,he);else if(Xe==="LineString")Xn(vn,Qt,X,ke,he,!1,tn.lineMetrics);else if(Xe==="MultiLineString")Yr(vn,Qt,X,ke,he,!1);else if(Xe==="Polygon")Yr(vn,Qt,X,ke,he,!0);else if(Xe==="MultiPolygon")for(const ct of vn){const rt=[];Yr(ct,rt,X,ke,he,!0),rt.length&&Qt.push(rt)}if(Qt.length){if(tn.lineMetrics&&Xe==="LineString"){for(const ct of Qt)Tt.push(Xr(nn.id,Xe,ct,nn.tags));continue}Xe!=="LineString"&&Xe!=="MultiLineString"||(Qt.length===1?(Xe="LineString",Qt=Qt[0]):Xe="MultiLineString"),Xe!=="Point"&&Xe!=="MultiPoint"||(Xe=Qt.length===3?"Point":"MultiPoint"),Tt.push(Xr(nn.id,Xe,Qt,nn.tags))}}return Tt.length?Tt:null}function jr(Oe,de,X,ke,he){for(let Ye=0;Ye<Oe.length;Ye+=3){const et=Oe[Ye+he];et>=X&&et<=ke&&Fn(de,Oe[Ye],Oe[Ye+1],Oe[Ye+2])}}function Xn(Oe,de,X,ke,he,Ye,et){let tn=lr(Oe);const Tt=he===0?Si:mi;let nn,vn,Xe=Oe.start;for(let rt=0;rt<Oe.length-3;rt+=3){const xn=Oe[rt],yn=Oe[rt+1],Zn=Oe[rt+2],_r=Oe[rt+3],ir=Oe[rt+4],Or=he===0?xn:yn,Qr=he===0?_r:ir;let ii=!1;et&&(nn=Math.sqrt(Math.pow(xn-_r,2)+Math.pow(yn-ir,2))),Or<X?Qr>X&&(vn=Tt(tn,xn,yn,_r,ir,X),et&&(tn.start=Xe+nn*vn)):Or>ke?Qr<ke&&(vn=Tt(tn,xn,yn,_r,ir,ke),et&&(tn.start=Xe+nn*vn)):Fn(tn,xn,yn,Zn),Qr<X&&Or>=X&&(vn=Tt(tn,xn,yn,_r,ir,X),ii=!0),Qr>ke&&Or<=ke&&(vn=Tt(tn,xn,yn,_r,ir,ke),ii=!0),!Ye&&ii&&(et&&(tn.end=Xe+nn*vn),de.push(tn),tn=lr(Oe)),et&&(Xe+=nn)}let Mt=Oe.length-3;const Ht=Oe[Mt],Qt=Oe[Mt+1],ct=he===0?Ht:Qt;ct>=X&&ct<=ke&&Fn(tn,Ht,Qt,Oe[Mt+2]),Mt=tn.length-3,Ye&&Mt>=3&&(tn[Mt]!==tn[0]||tn[Mt+1]!==tn[1])&&Fn(tn,tn[0],tn[1],tn[2]),tn.length&&de.push(tn)}function lr(Oe){const de=[];return de.size=Oe.size,de.start=Oe.start,de.end=Oe.end,de}function Yr(Oe,de,X,ke,he,Ye){for(const et of Oe)Xn(et,de,X,ke,he,Ye,!1)}function Fn(Oe,de,X,ke){Oe.push(de,X,ke)}function Si(Oe,de,X,ke,he,Ye){const et=(Ye-de)/(ke-de);return Fn(Oe,Ye,X+(he-X)*et,1),et}function mi(Oe,de,X,ke,he,Ye){const et=(Ye-X)/(he-X);return Fn(Oe,de+(ke-de)*et,Ye,1),et}function Hi(Oe,de){const X=[];for(let ke=0;ke<Oe.length;ke++){const he=Oe[ke],Ye=he.type;let et;if(Ye==="Point"||Ye==="MultiPoint"||Ye==="LineString")et=ho(he.geometry,de);else if(Ye==="MultiLineString"||Ye==="Polygon"){et=[];for(const tn of he.geometry)et.push(ho(tn,de))}else if(Ye==="MultiPolygon"){et=[];for(const tn of he.geometry){const Tt=[];for(const nn of tn)Tt.push(ho(nn,de));et.push(Tt)}}X.push(Xr(he.id,Ye,et,he.tags))}return X}function ho(Oe,de){const X=[];X.size=Oe.size,Oe.start!==void 0&&(X.start=Oe.start,X.end=Oe.end);for(let ke=0;ke<Oe.length;ke+=3)X.push(Oe[ke]+de,Oe[ke+1],Oe[ke+2]);return X}function Ur(Oe,de){if(Oe.transformed)return Oe;const X=1<<Oe.z,ke=Oe.x,he=Oe.y;for(const Ye of Oe.features){const et=Ye.geometry,tn=Ye.type;if(Ye.geometry=[],tn===1)for(let Tt=0;Tt<et.length;Tt+=2)Ye.geometry.push(eo(et[Tt],et[Tt+1],de,X,ke,he));else for(let Tt=0;Tt<et.length;Tt++){const nn=[];for(let vn=0;vn<et[Tt].length;vn+=2)nn.push(eo(et[Tt][vn],et[Tt][vn+1],de,X,ke,he));Ye.geometry.push(nn)}}return Oe.transformed=!0,Oe}function eo(Oe,de,X,ke,he,Ye){return[Math.round(X*(Oe*ke-he)),Math.round(X*(de*ke-Ye))]}function en(Oe,de,X,ke,he){const Ye=de===he.maxZoom?0:he.tolerance/((1<<de)*he.extent),et={features:[],numPoints:0,numSimplified:0,numFeatures:Oe.length,source:null,x:X,y:ke,z:de,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0};for(const tn of Oe)Mn(et,tn,Ye,he);return et}function Mn(Oe,de,X,ke){const he=de.geometry,Ye=de.type,et=[];if(Oe.minX=Math.min(Oe.minX,de.minX),Oe.minY=Math.min(Oe.minY,de.minY),Oe.maxX=Math.max(Oe.maxX,de.maxX),Oe.maxY=Math.max(Oe.maxY,de.maxY),Ye==="Point"||Ye==="MultiPoint")for(let tn=0;tn<he.length;tn+=3)et.push(he[tn],he[tn+1]),Oe.numPoints++,Oe.numSimplified++;else if(Ye==="LineString")Qn(et,he,Oe,X,!1,!1);else if(Ye==="MultiLineString"||Ye==="Polygon")for(let tn=0;tn<he.length;tn++)Qn(et,he[tn],Oe,X,Ye==="Polygon",tn===0);else if(Ye==="MultiPolygon")for(let tn=0;tn<he.length;tn++){const Tt=he[tn];for(let nn=0;nn<Tt.length;nn++)Qn(et,Tt[nn],Oe,X,!0,nn===0)}if(et.length){let tn=de.tags||null;if(Ye==="LineString"&&ke.lineMetrics){tn={};for(const nn in de.tags)tn[nn]=de.tags[nn];tn.mapbox_clip_start=he.start/he.size,tn.mapbox_clip_end=he.end/he.size}const Tt={geometry:et,type:Ye==="Polygon"||Ye==="MultiPolygon"?3:Ye==="LineString"||Ye==="MultiLineString"?2:1,tags:tn};de.id!==null&&(Tt.id=de.id),Oe.features.push(Tt)}}function Qn(Oe,de,X,ke,he,Ye){const et=ke*ke;if(ke>0&&de.size<(he?et:ke))return void(X.numPoints+=de.length/3);const tn=[];for(let Tt=0;Tt<de.length;Tt+=3)(ke===0||de[Tt+2]>et)&&(X.numSimplified++,tn.push(de[Tt],de[Tt+1])),X.numPoints++;he&&function(Tt,nn){let vn=0;for(let Xe=0,Mt=Tt.length,Ht=Mt-2;Xe<Mt;Ht=Xe,Xe+=2)vn+=(Tt[Xe]-Tt[Ht])*(Tt[Xe+1]+Tt[Ht+1]);if(vn>0===nn)for(let Xe=0,Mt=Tt.length;Xe<Mt/2;Xe+=2){const Ht=Tt[Xe],Qt=Tt[Xe+1];Tt[Xe]=Tt[Mt-2-Xe],Tt[Xe+1]=Tt[Mt-1-Xe],Tt[Mt-2-Xe]=Ht,Tt[Mt-1-Xe]=Qt}}(tn,Ye),Oe.push(tn)}const Dr={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0};class ui{constructor(de,X){const ke=(X=this.options=function(Ye,et){for(const tn in et)Ye[tn]=et[tn];return Ye}(Object.create(Dr),X)).debug;if(ke&&console.time("preprocess data"),X.maxZoom<0||X.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(X.promoteId&&X.generateId)throw new Error("promoteId and generateId cannot be used together.");let he=function(Ye,et){const tn=[];if(Ye.type==="FeatureCollection")for(let Tt=0;Tt<Ye.features.length;Tt++)Wr(tn,Ye.features[Tt],et,Tt);else Wr(tn,Ye.type==="Feature"?Ye:{geometry:Ye},et);return tn}(de,X);this.tiles={},this.tileCoords=[],ke&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",X.indexMaxZoom,X.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),he=function(Ye,et){const tn=et.buffer/et.extent;let Tt=Ye;const nn=vr(Ye,1,-1-tn,tn,0,-1,2,et),vn=vr(Ye,1,1-tn,2+tn,0,-1,2,et);return(nn||vn)&&(Tt=vr(Ye,1,-tn,1+tn,0,-1,2,et)||[],nn&&(Tt=Hi(nn,1).concat(Tt)),vn&&(Tt=Tt.concat(Hi(vn,-1)))),Tt}(he,X),he.length&&this.splitTile(he,0,0,0),ke&&(he.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}splitTile(de,X,ke,he,Ye,et,tn){const Tt=[de,X,ke,he],nn=this.options,vn=nn.debug;for(;Tt.length;){he=Tt.pop(),ke=Tt.pop(),X=Tt.pop(),de=Tt.pop();const Xe=1<<X,Mt=oi(X,ke,he);let Ht=this.tiles[Mt];if(!Ht&&(vn>1&&console.time("creation"),Ht=this.tiles[Mt]=en(de,X,ke,he,nn),this.tileCoords.push({z:X,x:ke,y:he}),vn)){vn>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",X,ke,he,Ht.numFeatures,Ht.numPoints,Ht.numSimplified),console.timeEnd("creation"));const ii=`z${X}`;this.stats[ii]=(this.stats[ii]||0)+1,this.total++}if(Ht.source=de,Ye==null){if(X===nn.indexMaxZoom||Ht.numPoints<=nn.indexMaxPoints)continue}else{if(X===nn.maxZoom||X===Ye)continue;if(Ye!=null){const ii=Ye-X;if(ke!==et>>ii||he!==tn>>ii)continue}}if(Ht.source=null,de.length===0)continue;vn>1&&console.time("clipping");const Qt=.5*nn.buffer/nn.extent,ct=.5-Qt,rt=.5+Qt,xn=1+Qt;let yn=null,Zn=null,_r=null,ir=null,Or=vr(de,Xe,ke-Qt,ke+rt,0,Ht.minX,Ht.maxX,nn),Qr=vr(de,Xe,ke+ct,ke+xn,0,Ht.minX,Ht.maxX,nn);de=null,Or&&(yn=vr(Or,Xe,he-Qt,he+rt,1,Ht.minY,Ht.maxY,nn),Zn=vr(Or,Xe,he+ct,he+xn,1,Ht.minY,Ht.maxY,nn),Or=null),Qr&&(_r=vr(Qr,Xe,he-Qt,he+rt,1,Ht.minY,Ht.maxY,nn),ir=vr(Qr,Xe,he+ct,he+xn,1,Ht.minY,Ht.maxY,nn),Qr=null),vn>1&&console.timeEnd("clipping"),Tt.push(yn||[],X+1,2*ke,2*he),Tt.push(Zn||[],X+1,2*ke,2*he+1),Tt.push(_r||[],X+1,2*ke+1,2*he),Tt.push(ir||[],X+1,2*ke+1,2*he+1)}}getTile(de,X,ke){de=+de,X=+X,ke=+ke;const he=this.options,{extent:Ye,debug:et}=he;if(de<0||de>24)return null;const tn=1<<de,Tt=oi(de,X=X+tn&tn-1,ke);if(this.tiles[Tt])return Ur(this.tiles[Tt],Ye);et>1&&console.log("drilling down to z%d-%d-%d",de,X,ke);let nn,vn=de,Xe=X,Mt=ke;for(;!nn&&vn>0;)vn--,Xe>>=1,Mt>>=1,nn=this.tiles[oi(vn,Xe,Mt)];return nn&&nn.source?(et>1&&(console.log("found parent tile z%d-%d-%d",vn,Xe,Mt),console.time("drilling down")),this.splitTile(nn.source,vn,Xe,Mt,de,X,ke),et>1&&console.timeEnd("drilling down"),this.tiles[Tt]?Ur(this.tiles[Tt],Ye):null):null}}function oi(Oe,de,X){return 32*((1<<Oe)*X+de)+Oe}function Xi(Oe,de){const X=Oe.tileID.canonical;if(!this._geoJSONIndex)return void de(null,null);const ke=this._geoJSONIndex.getTile(X.z,X.x,X.y);if(!ke)return void de(null,null);const he=new Hn(ke.features);let Ye=Te(he);Ye.byteOffset===0&&Ye.byteLength===Ye.buffer.byteLength||(Ye=new Uint8Array(Ye)),de(null,{vectorTile:he,rawData:Ye.buffer})}class Ji extends Et{constructor(de,X,ke,he,Ye,et){super(de,X,ke,he,Xi,et),Ye&&(this.loadGeoJSON=Ye),this._dynamicIndex=new sn}loadData(de,X){const ke=de&&de.request,he=ke&&ke.collectResourceTiming;this.loadGeoJSON(de,(Ye,et)=>{if(Ye||!et)return X(Ye);if(typeof et!="object")return X(new Error(`Input data given to '${de.source}' is not a valid GeoJSON object.`));{try{if(de.filter){const Tt=c.U(de.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(Tt.result==="error")throw new Error(Tt.value.map(nn=>`${nn.key}: ${nn.message}`).join(", "));et.features=et.features.filter(nn=>Tt.value.evaluate({zoom:0},nn))}de.dynamic?(et.type==="Feature"&&(et={type:"FeatureCollection",features:[et]}),de.append||(this._dynamicIndex.clear(),this.loaded={}),this._dynamicIndex.load(et.features,this.loaded),de.cluster&&(et.features=this._dynamicIndex.getFeatures())):this.loaded={},this._geoJSONIndex=de.cluster?new sr(function({superclusterOptions:Tt,clusterProperties:nn}){if(!nn||!Tt)return Tt;const vn={},Xe={},Mt={accumulated:null,zoom:0},Ht={properties:null},Qt=Object.keys(nn);for(const ct of Qt){const[rt,xn]=nn[ct],yn=c.U(xn),Zn=c.U(typeof rt=="string"?[rt,["accumulated"],["get",ct]]:rt);vn[ct]=yn.value,Xe[ct]=Zn.value}return Tt.map=ct=>{Ht.properties=ct;const rt={};for(const xn of Qt)rt[xn]=vn[xn].evaluate(Mt,Ht);return rt},Tt.reduce=(ct,rt)=>{Ht.properties=rt;for(const xn of Qt)Mt.accumulated=ct[xn],ct[xn]=Xe[xn].evaluate(Mt,Ht)},Tt}(de)).load(et.features):de.dynamic?this._dynamicIndex:function(Tt,nn){return new ui(Tt,nn)}(et,de.geojsonVtOptions)}catch(Tt){return X(Tt)}const tn={};if(he){const Tt=xe(ke);Tt&&(tn.resourceTiming={},tn.resourceTiming[de.source]=JSON.parse(JSON.stringify(Tt)))}X(null,tn)}})}reloadTile(de,X){const ke=this.loaded;return ke&&ke[de.uid]?de.partial?X(null,void 0):super.reloadTile(de,X):this.loadTile(de,X)}loadGeoJSON(de,X){if(de.request)c.n(de.request,X);else{if(typeof de.data!="string")return X(new Error(`Input data given to '${de.source}' is not a valid GeoJSON object.`));try{return X(null,JSON.parse(de.data))}catch(ke){return X(new Error(`Input data given to '${de.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(de,X){try{X(null,this._geoJSONIndex.getClusterExpansionZoom(de.clusterId))}catch(ke){X(ke)}}getClusterChildren(de,X){try{X(null,this._geoJSONIndex.getChildren(de.clusterId))}catch(ke){X(ke)}}getClusterLeaves(de,X){try{X(null,this._geoJSONIndex.getLeaves(de.clusterId,de.limit,de.offset))}catch(ke){X(ke)}}}class Ro{constructor(de,X){this.tileID=new c.aG(de.tileID.overscaledZ,de.tileID.wrap,de.tileID.canonical.z,de.tileID.canonical.x,de.tileID.canonical.y),this.tileZoom=de.tileZoom,this.uid=de.uid,this.zoom=de.zoom,this.canonical=de.tileID.canonical,this.pixelRatio=de.pixelRatio,this.tileSize=de.tileSize,this.source=de.source,this.overscaling=this.tileID.overscaleFactor(),this.projection=de.projection,this.brightness=X}parse(de,X,ke,he){this.status="parsing";const Ye=new c.aG(ke.tileID.overscaledZ,ke.tileID.wrap,ke.tileID.canonical.z,ke.tileID.canonical.x,ke.tileID.canonical.y),et=[],tn=X.familiesBySource[ke.source],Tt=new c.d$(Ye,ke.promoteId);return Tt.bucketLayerIDs=[],Tt.is3DTile=!0,c.ea(de).then(nn=>{if(!nn)return he(new Error("Could not parse tile"));const vn=c.eb(nn,1/c.cc(ke.tileID.canonical)),Xe=nn.json.extensionsUsed&&nn.json.extensionsUsed.includes("MAPBOX_mesh_features")||nn.json.asset.extras&&nn.json.asset.extras.MAPBOX_mesh_features,Mt=nn.json.extensionsUsed&&nn.json.extensionsUsed.includes("EXT_meshopt_compression"),Ht=new c.a8(this.zoom,{brightness:this.brightness});for(const Qt in tn)for(const ct of tn[Qt]){const rt=ct[0];Tt.bucketLayerIDs.push(ct.map(yn=>c.aC(yn.id,yn.scope))),rt.recalculate(Ht,[]);const xn=new c.ec(ct,vn,Ye,Xe,Mt,this.brightness,Tt);Xe||(xn.needsUpload=!0),et.push(xn),xn.evaluate(rt)}this.status="done",he(null,{buckets:et,featureIndex:Tt,collisionBoxArray:null,glyphAtlasImage:null,lineAtlas:null,imageAtlas:null,brightness:null})}).catch(nn=>he(new Error(nn.message)))}}class xo{constructor(de,X,ke,he,Ye,et){this.actor=de,this.layerIndex=X,this.availableImages=ke,this.brightness=et,this.loading={},this.loaded={}}loadTile(de,X){const ke=de.uid,he=this.loading[ke]=new Ro(de,this.brightness);c.bi(de.request,(Ye,et)=>{const tn=!this.loading[ke];return delete this.loading[ke],tn||Ye?(he.status="done",tn||(this.loaded[ke]=he),X(Ye)):et&&et.byteLength!==0?void he.parse(et,this.layerIndex,de,(Tt,nn)=>{he.status="done",this.loaded=this.loaded||{},this.loaded[ke]=he,Tt||!nn?X(Tt):X(null,nn)}):(he.status="done",this.loaded[ke]=he,X())})}reloadTile(de,X){const ke=this.loaded,he=de.uid;if(ke&&ke[he]){const Ye=ke[he];Ye.projection=de.projection,Ye.brightness=de.brightness;const et=(tn,Tt)=>{Ye.reloadCallback&&(delete Ye.reloadCallback,this.loadTile(de,X)),X(tn,Tt)};Ye.status==="parsing"?Ye.reloadCallback=et:Ye.status==="done"&&this.loadTile(de,X)}}abortTile(de,X){const ke=de.uid;this.loading[ke]&&delete this.loading[ke],X()}removeTile(de,X){const ke=this.loaded,he=de.uid;ke&&ke[he]&&delete ke[he],X()}}class io{constructor(de){this.self=de,this.actor=new c.ed(de,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.imageRasterizer=new c.I,this.projections={},this.defaultProjection=c.bP({name:"mercator"}),this.workerSourceTypes={vector:Et,geojson:Ji,"batched-model":xo},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(X,ke)=>{if(this.workerSourceTypes[X])throw new Error(`Worker source with name "${X}" already registered.`);this.workerSourceTypes[X]=ke},this.self.registerRTLTextPlugin=X=>{if(c.ee.isParsed())throw new Error("RTL text plugin already registered.");c.ee.applyArabicShaping=X.applyArabicShaping,c.ee.processBidirectionalText=X.processBidirectionalText,c.ee.processStyledBidirectionalText=X.processStyledBidirectionalText}}clearCaches(de,X,ke){delete this.layerIndexes[de],delete this.availableImages[de],delete this.workerSources[de],delete this.demWorkerSources[de],delete this.rasterArrayWorkerSource,ke()}checkIfReady(de,X,ke){ke()}setReferrer(de,X){this.referrer=X}spriteLoaded(de,{scope:X,isLoaded:ke}){if(this.isSpriteLoaded[de]||(this.isSpriteLoaded[de]={}),this.isSpriteLoaded[de][X]=ke,this.workerSources[de]&&this.workerSources[de][X])for(const he in this.workerSources[de][X]){const Ye=this.workerSources[de][X][he];for(const et in Ye){const tn=Ye[et];tn instanceof Et&&(tn.isSpriteLoaded=ke,tn.fire(new c.z("isSpriteLoaded")))}}}setImages(de,{scope:X,images:ke},he){if(this.availableImages[de]||(this.availableImages[de]={}),this.availableImages[de][X]=ke,this.workerSources[de]&&this.workerSources[de][X]){for(const Ye in this.workerSources[de][X]){const et=this.workerSources[de][X][Ye];for(const tn in et)et[tn].availableImages=ke}he()}else he()}setProjection(de,X){this.projections[de]=c.bP(X)}setBrightness(de,X,ke){this.brightness=X,ke()}setLayers(de,X,ke){this.getLayerIndex(de,X.scope).replace(X.layers,X.options),ke()}updateLayers(de,X,ke){this.getLayerIndex(de,X.scope).update(X.layers,X.removedIds,X.options),ke()}loadTile(de,X,ke){X.projection=this.projections[de]||this.defaultProjection,this.getWorkerSource(de,X.type,X.source,X.scope).loadTile(X,ke)}loadDEMTile(de,X,ke){this.getDEMWorkerSource(de,X.source,X.scope).loadTile(X,ke)}decodeRasterArray(de,X,ke){this.getRasterArrayWorkerSource().decodeRasterArray(X,ke)}reloadTile(de,X,ke){X.projection=this.projections[de]||this.defaultProjection,this.getWorkerSource(de,X.type,X.source,X.scope).reloadTile(X,ke)}abortTile(de,X,ke){this.getWorkerSource(de,X.type,X.source,X.scope).abortTile(X,ke)}removeTile(de,X,ke){this.getWorkerSource(de,X.type,X.source,X.scope).removeTile(X,ke)}removeSource(de,X,ke){if(!(this.workerSources[de]&&this.workerSources[de][X.scope]&&this.workerSources[de][X.scope][X.type]&&this.workerSources[de][X.scope][X.type][X.source]))return;const he=this.workerSources[de][X.scope][X.type][X.source];delete this.workerSources[de][X.scope][X.type][X.source],he.removeSource!==void 0?he.removeSource(X,ke):ke()}loadWorkerSource(de,X,ke){try{this.self.importScripts(X.url),ke()}catch(he){ke(he.toString())}}syncRTLPluginState(de,X,ke){try{c.ee.setState(X);const he=c.ee.getPluginURL();if(c.ee.isLoaded()&&!c.ee.isParsed()&&he!=null){this.self.importScripts(he);const Ye=c.ee.isParsed();ke(Ye?void 0:new Error(`RTL Text Plugin failed to import scripts from ${he}`),Ye)}}catch(he){ke(he.toString())}}setDracoUrl(de,X){this.dracoUrl=X}getAvailableImages(de,X){this.availableImages[de]||(this.availableImages[de]={});let ke=this.availableImages[de][X];return ke||(ke=[]),ke}getLayerIndex(de,X){this.layerIndexes[de]||(this.layerIndexes[de]={});let ke=this.layerIndexes[de][X];return ke||(ke=this.layerIndexes[de][X]=new Me,ke.scope=X),ke}getWorkerSource(de,X,ke,he){return this.workerSources[de]||(this.workerSources[de]={}),this.workerSources[de][he]||(this.workerSources[de][he]={}),this.workerSources[de][he][X]||(this.workerSources[de][he][X]={}),this.isSpriteLoaded[de]||(this.isSpriteLoaded[de]={}),this.workerSources[de][he][X][ke]||(this.workerSources[de][he][X][ke]=new this.workerSourceTypes[X]({send:(Ye,et,tn,Tt,nn,vn)=>{this.actor.send(Ye,et,tn,de,nn,vn)},scheduler:this.actor.scheduler},this.getLayerIndex(de,he),this.getAvailableImages(de,he),this.isSpriteLoaded[de][he],void 0,this.brightness)),this.workerSources[de][he][X][ke]}rasterizeImages(de,X,ke){const{imageTasks:he,scope:Ye}=X,et={};for(const tn in he){const{image:Tt,imageIdWithOptions:nn}=he[tn];et[tn]=this.imageRasterizer.rasterize(nn,Tt,Ye,de)}ke(void 0,et)}removeRasterizedImages(de,X,ke){const{imageIds:he,scope:Ye}=X;this.imageRasterizer.removeImagesFromCacheByIds(he,Ye,de),ke()}getDEMWorkerSource(de,X,ke){return this.demWorkerSources[de]||(this.demWorkerSources[de]={}),this.demWorkerSources[de][ke]||(this.demWorkerSources[de][ke]={}),this.demWorkerSources[de][ke][X]||(this.demWorkerSources[de][ke][X]=new Vt),this.demWorkerSources[de][ke][X]}getRasterArrayWorkerSource(){return this.rasterArrayWorkerSource||(this.rasterArrayWorkerSource=new Lt),this.rasterArrayWorkerSource}enforceCacheSizeLimit(de,X){c.ef(X)}getWorkerPerformanceMetrics(de,X,ke){ke(void 0,void 0)}}return typeof WorkerGlobalScope!="undefined"&&typeof self!="undefined"&&self instanceof WorkerGlobalScope&&(self.worker=new io(self)),io}),ot(["./shared"],function(c){var xe="3.10.0";const We={create:"create",load:"load",fullLoad:"fullLoad"},Fe={mark(m){performance.mark(m)},measure(m,r,l){performance.measure(m,r,l)}};function Me(m){const r=m.name.split("?")[0];return c.a(r)&&r.includes("mapbox-gl.js")?"javascript":c.a(r)&&r.includes("mapbox-gl.css")?"css":c.b(r)?"fontRange":c.c(r)?"sprite":c.i(r)?"style":c.d(r)?"tilejson":"other"}var ve,te={},Ke=function(){if(ve)return te;function m(p){return!r(p)}function r(p){return typeof window=="undefined"||typeof document=="undefined"?"not a browser":function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var x,E,R=new Blob([""],{type:"text/javascript"}),B=URL.createObjectURL(R);try{E=new Worker(B),x=!0}catch(V){x=!1}return E&&E.terminate(),URL.revokeObjectURL(B),x}()?function(){var x=document.createElement("canvas");x.width=x.height=1;var E=x.getContext("2d");if(!E)return!1;var R=E.getImageData(0,0,1,1);return R&&R.width===x.width}()?(l[_=p&&p.failIfMajorPerformanceCaveat]===void 0&&(l[_]=function(x){var E,R=function(B){var V=document.createElement("canvas"),U=Object.create(m.webGLContextAttributes);return U.failIfMajorPerformanceCaveat=B,V.getContext("webgl2",U)}(x);if(!R)return!1;try{E=R.createShader(R.VERTEX_SHADER)}catch(B){return!1}return!(!E||R.isContextLost())&&(R.shaderSource(E,"void main() {}"),R.compileShader(E),R.getShaderParameter(E,R.COMPILE_STATUS)===!0)}(_)),l[_]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL2 support"):"insufficient Canvas/getImageData support":"insufficient worker support";var _}ve=1,te.supported=m,te.notSupportedReason=r;var l={};return m.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0},te}();function $e(m,r,l){const p=document.createElement(m);return r!=null&&(p.className=r),l&&l.appendChild(p),p}function He(m,r,l){const p=document.createElementNS("http://www.w3.org/2000/svg",m);for(const _ of Object.keys(r))p.setAttributeNS(null,_,String(r[_]));return l&&l.appendChild(p),p}const qe=typeof document!="undefined"?document.documentElement&&document.documentElement.style:null,dt=qe&&qe.userSelect!==void 0?"userSelect":"WebkitUserSelect";let Je;function ht(){qe&&dt&&(Je=qe[dt],qe[dt]="none")}function bt(){qe&&dt&&(qe[dt]=Je)}function Ue(m){m.preventDefault(),m.stopPropagation(),window.removeEventListener("click",Ue,!0)}function kt(){window.addEventListener("click",Ue,!0),window.setTimeout(()=>{window.removeEventListener("click",Ue,!0)},0)}function yt(m,r){const l=m.getBoundingClientRect();return Lt(m,l,r)}function Et(m,r){const l=m.getBoundingClientRect(),p=[];for(let _=0;_<r.length;_++)p.push(Lt(m,l,r[_]));return p}function Vt(m){return/firefox/i.test(navigator.userAgent)&&/macintosh/i.test(navigator.userAgent)&&m.button===2&&m.ctrlKey?0:m.button}function Lt(m,r,l){const p=m.offsetWidth===r.width?1:m.offsetWidth/r.width;return new c.P((l.clientX-r.left)*p,(l.clientY-r.top)*p)}const hr="01",er="NO_ACCESS_TOKEN";class Hn{constructor(r,l,p){this._transformRequestFn=r,this._customAccessToken=l,this._silenceAuthErrors=!!p,this._createSkuToken()}_createSkuToken(){const r=function(){let l="";for(let p=0;p<10;p++)l+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",hr,l].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=r.token,this._skuTokenExpiresAt=r.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(r,l){return this._transformRequestFn&&this._transformRequestFn(r,l)||{url:r}}normalizeStyleURL(r,l){if(!c.f(r))return r;const p=Nt(r);return p.params.push(`sdk=js-${xe}`),p.path=`/styles/v1${p.path}`,this._makeAPIURL(p,this._customAccessToken||l)}normalizeGlyphsURL(r,l){if(!c.f(r))return r;const p=Nt(r);return p.path=`/fonts/v1${p.path}`,this._makeAPIURL(p,this._customAccessToken||l)}normalizeModelURL(r,l){if(!c.f(r))return r;const p=Nt(r);return p.path=`/models/v1${p.path}`,this._makeAPIURL(p,this._customAccessToken||l)}normalizeSourceURL(r,l,p,_){if(!c.f(r))return r;const x=Nt(r);return x.path=`/v4/${x.authority}.json`,x.params.push("secure"),p&&x.params.push(`language=${p}`),_&&x.params.push(`worldview=${_}`),this._makeAPIURL(x,this._customAccessToken||l)}normalizeIconsetURL(r,l){const p=Nt(r);return c.f(r)?(p.path=`/styles/v1${p.path}/iconset.pbf`,this._makeAPIURL(p,this._customAccessToken||l)):sn(p)}normalizeSpriteURL(r,l,p,_){const x=Nt(r);return c.f(r)?(x.path=`/styles/v1${x.path}/sprite${l}${p}`,this._makeAPIURL(x,this._customAccessToken||_)):(x.path+=`${l}${p}`,sn(x))}normalizeTileURL(r,l,p){if(this._isSkuTokenExpired()&&this._createSkuToken(),r&&!c.f(r))return r;const _=Nt(r);_.path=_.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${l||p&&_.authority!=="raster"&&p===512?"@2x":""}${c.m.supported?".webp":"$1"}`),_.authority==="raster"?_.path=`/${c.e.RASTER_URL_PREFIX}${_.path}`:_.authority==="rasterarrays"?_.path=`/${c.e.RASTERARRAYS_URL_PREFIX}${_.path}`:_.authority==="3dtiles"?_.path=`/${c.e.TILES3D_URL_PREFIX}${_.path}`:(_.path=_.path.replace(/^.+\/v4\//,"/"),_.path=`/${c.e.TILE_URL_VERSION}${_.path}`);const x=this._customAccessToken||function(E){for(const R of E){const B=R.match(/^access_token=(.*)$/);if(B)return B[1]}return null}(_.params)||c.e.ACCESS_TOKEN;return c.e.REQUIRE_ACCESS_TOKEN&&x&&this._skuToken&&_.params.push(`sku=${this._skuToken}`),this._makeAPIURL(_,x)}canonicalizeTileURL(r,l){const p=Nt(r);if(!p.path.match(/^(\/v4\/|\/(raster|rasterarrays)\/v1\/)/)||!p.path.match(/\.[\w]+$/))return r;let _="mapbox://";p.path.match(/^\/raster\/v1\//)?_+=`raster/${p.path.replace(`/${c.e.RASTER_URL_PREFIX}/`,"")}`:p.path.match(/^\/rasterarrays\/v1\//)?_+=`rasterarrays/${p.path.replace(`/${c.e.RASTERARRAYS_URL_PREFIX}/`,"")}`:_+=`tiles/${p.path.replace(`/${c.e.TILE_URL_VERSION}/`,"")}`;let x=p.params;return l&&(x=x.filter(E=>!E.match(/^access_token=/))),x.length&&(_+=`?${x.join("&")}`),_}canonicalizeTileset(r,l){const p=!!l&&c.f(l),_=[];for(const x of r.tiles||[])c.h(x)?_.push(this.canonicalizeTileURL(x,p)):_.push(x);return _}_makeAPIURL(r,l){const p="See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes",_=Nt(c.e.API_URL);if(r.protocol=_.protocol,r.authority=_.authority,r.protocol==="http"){const x=r.params.indexOf("secure");x>=0&&r.params.splice(x,1)}if(_.path!=="/"&&(r.path=`${_.path}${r.path}`),!c.e.REQUIRE_ACCESS_TOKEN)return sn(r);if(l=l||c.e.ACCESS_TOKEN,!this._silenceAuthErrors){if(!l)throw new Error(`An API access token is required to use Mapbox GL. ${p}`);if(l[0]==="s")throw new Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ${p}`)}return r.params=r.params.filter(x=>x.indexOf("access_token")===-1),r.params.push(`access_token=${l||""}`),sn(r)}}const Ze=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Nt(m){const r=m.match(Ze);if(!r)throw new Error("Unable to parse URL object");return{protocol:r[1],authority:r[2],path:r[3]||"/",params:r[4]?r[4].split("&"):[]}}function sn(m){const r=m.params.length?`?${m.params.join("&")}`:"";return`${m.protocol}://${m.authority}${m.path}${r}`}const Xt="mapbox.eventData";function Le(m){if(!m)return null;const r=m.split(".");if(!r||r.length!==3)return null;try{return JSON.parse(c.j(r[1]))}catch(l){return null}}class $n{constructor(r){this.type=r,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(r){const l=Le(c.e.ACCESS_TOKEN);let p="";return p=l&&l.u?c.k(l.u):c.e.ACCESS_TOKEN||"",r?`${Xt}.${r}:${p}`:`${Xt}:${p}`}fetchEventData(){const r=c.s("localStorage"),l=this.getStorageKey(),p=this.getStorageKey("uuid");if(r)try{const _=localStorage.getItem(l);_&&(this.eventData=JSON.parse(_));const x=localStorage.getItem(p);x&&(this.anonId=x)}catch(_){c.w("Unable to read from LocalStorage")}}saveEventData(){const r=c.s("localStorage"),l=this.getStorageKey(),p=this.getStorageKey("uuid"),_=this.anonId;if(r&&_)try{localStorage.setItem(p,_),Object.keys(this.eventData).length>=1&&localStorage.setItem(l,JSON.stringify(this.eventData))}catch(x){c.w("Unable to write to LocalStorage")}}processRequests(r){}postEvent(r,l,p,_){if(!c.e.EVENTS_URL)return;const x=Nt(c.e.EVENTS_URL);x.params.push(`access_token=${_||c.e.ACCESS_TOKEN||""}`);const E={event:this.type,created:new Date(r).toISOString()},R=l?c.l(E,l):E,B={url:sn(x),headers:{"Content-Type":"text/plain"},body:JSON.stringify([R])};this.pendingRequest=c.p(B,V=>{this.pendingRequest=null,p(V),this.saveEventData(),this.processRequests(_)})}queueRequest(r,l){this.queue.push(r),this.processRequests(l)}}const cn=new class extends $n{constructor(m){super("appUserTurnstile"),this._customAccessToken=m}postTurnstileEvent(m,r){c.e.EVENTS_URL&&c.e.ACCESS_TOKEN&&Array.isArray(m)&&m.some(l=>c.f(l)||c.h(l))&&this.queueRequest(Date.now(),r)}processRequests(m){if(this.pendingRequest||this.queue.length===0)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const r=Le(c.e.ACCESS_TOKEN),l=r?r.u:c.e.ACCESS_TOKEN;let p=l!==this.eventData.tokenU;c.v(this.anonId)||(this.anonId=c.u(),p=!0);const _=this.queue.shift();if(this.eventData.lastSuccess){const x=new Date(this.eventData.lastSuccess),E=new Date(_),R=(_-this.eventData.lastSuccess)/864e5;p=p||R>=1||R<-1||x.getDate()!==E.getDate()}else p=!0;p?this.postEvent(_,{sdkIdentifier:"mapbox-gl-js",sdkVersion:xe,skuId:hr,"enabled.telemetry":!1,userId:this.anonId},x=>{x||(this.eventData.lastSuccess=_,this.eventData.tokenU=l)},m):this.processRequests()}},En=cn.postTurnstileEvent.bind(cn),lt=new class extends $n{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(m,r,l,p){this.skuToken=r,this.errorCb=p,c.e.EVENTS_URL&&(l||c.e.ACCESS_TOKEN?this.queueRequest({id:m,timestamp:Date.now()},l):this.errorCb(new Error(er)))}processRequests(m){if(this.pendingRequest||this.queue.length===0)return;const{id:r,timestamp:l}=this.queue.shift();r&&this.success[r]||(this.anonId||this.fetchEventData(),c.v(this.anonId)||(this.anonId=c.u()),this.postEvent(l,{sdkIdentifier:"mapbox-gl-js",sdkVersion:xe,skuId:hr,skuToken:this.skuToken,userId:this.anonId},p=>{p?this.errorCb(p):r&&(this.success[r]=!0)},m))}remove(){this.errorCb=null}},Gt=lt.postMapLoadEvent.bind(lt),bn=new class extends $n{constructor(){super("style.load"),this.eventIdPerMapInstanceMap=new Map,this.mapInstanceIdMap=new WeakMap}getMapInstanceId(m){let r=this.mapInstanceIdMap.get(m);return r||(r=c.u(),this.mapInstanceIdMap.set(m,r)),r}getEventId(m){const r=this.eventIdPerMapInstanceMap.get(m)||0;return this.eventIdPerMapInstanceMap.set(m,r+1),r}postStyleLoadEvent(m,r){const{map:l,style:p,importedStyles:_}=r;if(!c.e.EVENTS_URL||!m&&!c.e.ACCESS_TOKEN)return;const x=this.getMapInstanceId(l),E={mapInstanceId:x,eventId:this.getEventId(x),style:p};_.length&&(E.importedStyles=_),this.queueRequest({timestamp:Date.now(),payload:E},m)}processRequests(m){if(this.pendingRequest||this.queue.length===0)return;const{timestamp:r,payload:l}=this.queue.shift();this.postEvent(r,l,()=>{},m)}},fe=bn.postStyleLoadEvent.bind(bn),Wt=new class extends $n{constructor(){super("gljs.performance")}postPerformanceEvent(m,r){c.e.EVENTS_URL&&(m||c.e.ACCESS_TOKEN)&&this.queueRequest({timestamp:Date.now(),performanceData:r},m)}processRequests(m){if(this.pendingRequest||this.queue.length===0)return;const{timestamp:r,performanceData:l}=this.queue.shift(),p=function(_){const x=performance.getEntriesByType("resource"),E=performance.getEntriesByType("mark"),R=function(le){const Ee={};if(le){for(const be in le)if(be!=="other")for(const Ae of le[be]){const Pe=`${be}ResolveRangeMin`,Qe=`${be}ResolveRangeMax`,xt=`${be}RequestCount`,gt=`${be}RequestCachedCount`;Ee[Pe]=Math.min(Ee[Pe]||1/0,Ae.startTime),Ee[Qe]=Math.max(Ee[Qe]||-1/0,Ae.responseEnd);const Bt=Rt=>{Ee[Rt]===void 0&&(Ee[Rt]=0),++Ee[Rt]};Ae.transferSize!==void 0&&Ae.transferSize===0&&Bt(gt),Bt(xt)}}return Ee}(function(le,Ee){const be={};if(le)for(const Ae of le){const Pe=Ee(Ae);be[Pe]===void 0&&(be[Pe]=[]),be[Pe].push(Ae)}return be}(x,Me)),B=window.devicePixelRatio,V=navigator.connection||navigator.mozConnection||navigator.webkitConnection,U=V?V.effectiveType:void 0,J={counters:[],metadata:[],attributes:[]},Q=(le,Ee,be)=>{be!=null&&le.push({name:Ee,value:be.toString()})};for(const le in R)Q(J.counters,le,R[le]);if(_.interactionRange[0]!==1/0&&_.interactionRange[1]!==-1/0&&(Q(J.counters,"interactionRangeMin",_.interactionRange[0]),Q(J.counters,"interactionRangeMax",_.interactionRange[1])),E)for(const le of Object.keys(We)){const Ee=We[le],be=E.find(Ae=>Ae.name===Ee);be&&Q(J.counters,Ee,be.startTime)}return Q(J.counters,"visibilityHidden",_.visibilityHidden),Q(J.attributes,"style",function(le){if(le)for(const Ee of le){const be=Ee.name.split("?")[0];if(c.i(be)){const Ae=be.split("/").slice(-2);if(Ae.length===2)return`mapbox://styles/${Ae[0]}/${Ae[1]}`}}}(x)),Q(J.attributes,"terrainEnabled",_.terrainEnabled?"true":"false"),Q(J.attributes,"fogEnabled",_.fogEnabled?"true":"false"),Q(J.attributes,"projection",_.projection),Q(J.attributes,"zoom",_.zoom),Q(J.metadata,"devicePixelRatio",B),Q(J.metadata,"connectionEffectiveType",U),Q(J.metadata,"navigatorUserAgent",navigator.userAgent),Q(J.metadata,"screenWidth",window.screen.width),Q(J.metadata,"screenHeight",window.screen.height),Q(J.metadata,"windowWidth",window.innerWidth),Q(J.metadata,"windowHeight",window.innerHeight),Q(J.metadata,"mapWidth",_.width/B),Q(J.metadata,"mapHeight",_.height/B),Q(J.metadata,"webglRenderer",_.renderer),Q(J.metadata,"webglVendor",_.vendor),Q(J.metadata,"sdkVersion",xe),Q(J.metadata,"sdkIdentifier","mapbox-gl-js"),J}(l);for(const _ of p.metadata);for(const _ of p.counters);for(const _ of p.attributes);this.postEvent(r,p,()=>{},m)}},hi=Wt.postPerformanceEvent.bind(Wt),Jr=new class extends $n{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(m,r,l,p){if(!c.e.API_URL||!c.e.SESSION_PATH)return;const _=Nt(c.e.API_URL+c.e.SESSION_PATH);_.params.push(`sku=${r||""}`),_.params.push(`access_token=${p||c.e.ACCESS_TOKEN||""}`);const x={url:sn(_),headers:{"Content-Type":"text/plain"}};this.pendingRequest=c.g(x,E=>{this.pendingRequest=null,l(E),this.saveEventData(),this.processRequests(p)})}getSessionAPI(m,r,l,p){this.skuToken=r,this.errorCb=p,c.e.SESSION_PATH&&c.e.API_URL&&(l||c.e.ACCESS_TOKEN?this.queueRequest({id:m,timestamp:Date.now()},l):this.errorCb(new Error(er)))}processRequests(m){if(this.pendingRequest||this.queue.length===0)return;const{id:r,timestamp:l}=this.queue.shift();r&&this.success[r]||this.getSession(l,this.skuToken,p=>{p?this.errorCb(p):r&&(this.success[r]=!0)},m)}remove(){this.errorCb=null}},Te=Jr.getSessionAPI.bind(Jr),Pn=new Set;function Lr(m,r){r?Pn.add(m):Pn.delete(m)}class kr{constructor(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSourceCaches={},this._updatedPaintProps=new Set,this._updatedImages=new Set}isDirty(){return this._changed}setDirty(){this._changed=!0}getUpdatedSourceCaches(){return this._updatedSourceCaches}updateSourceCache(r,l){this._updatedSourceCaches[r]=l,this.setDirty()}discardSourceCacheUpdate(r){delete this._updatedSourceCaches[r]}updateLayer(r){const l=r.scope;this._updatedLayers[l]=this._updatedLayers[l]||new Set,this._updatedLayers[l].add(r.id),this.setDirty()}removeLayer(r){const l=r.scope;this._removedLayers[l]=this._removedLayers[l]||{},this._updatedLayers[l]=this._updatedLayers[l]||new Set,this._removedLayers[l][r.id]=r,this._updatedLayers[l].delete(r.id),this._updatedPaintProps.delete(r.fqid),this.setDirty()}getRemovedLayer(r){return this._removedLayers[r.scope]?this._removedLayers[r.scope][r.id]:null}discardLayerRemoval(r){this._removedLayers[r.scope]&&delete this._removedLayers[r.scope][r.id]}getLayerUpdatesByScope(){const r={};for(const l in this._updatedLayers)r[l]=r[l]||{},r[l].updatedIds=Array.from(this._updatedLayers[l].values());for(const l in this._removedLayers)r[l]=r[l]||{},r[l].removedIds=Object.keys(this._removedLayers[l]);return r}getUpdatedPaintProperties(){return this._updatedPaintProps}updatePaintProperties(r){this._updatedPaintProps.add(r.fqid),this.setDirty()}getUpdatedImages(){return Array.from(this._updatedImages.values())}updateImage(r){this._updatedImages.add(r),this.setDirty()}resetUpdatedImages(){this._updatedImages.clear()}reset(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSourceCaches={},this._updatedPaintProps.clear(),this._updatedImages.clear()}}function In(m){const{userImage:r}=m;return!!(r&&r.render&&r.render())&&(m.data.replace(new Uint8Array(r.data.buffer)),!0)}class Nr extends c.E{constructor(r){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded={},this.requestors=[],this.patterns={},this.atlasImage={},this.atlasTexture={},this.dirty=!0,this.spriteFormat=r,r!=="raster"&&c.t()&&(this.imageRasterizerDispatcher=new c.D(c.x(),this,"Image Rasterizer Worker",1))}get imageRasterizer(){return this._imageRasterizer||(this._imageRasterizer=new c.I),this._imageRasterizer}createScope(r){this.images[r]={},this.loaded[r]=!1,this.updatedImages[r]={},this.patterns[r]={},this.callbackDispatchedThisFrame[r]={},this.atlasImage[r]=new c.r({width:1,height:1})}isLoaded(){for(const r in this.loaded)if(!this.loaded[r])return!1;return!0}setLoaded(r,l){if(this.loaded[l]!==r&&(this.loaded[l]=r,r)){for(const{ids:p,callback:_}of this.requestors)this._notify(p,l,_);this.requestors=[]}}hasImage(r,l){return!!this.getImage(r,l)}getImage(r,l){return this.images[l][r]}addImage(r,l,p){this._validate(r,p)&&(this.images[l][r]=p)}_validate(r,l){let p=!0;return this._validateStretch(l.stretchX,l.data&&l.data.width)||(this.fire(new c.y(new Error(`Image "${r}" has invalid "stretchX" value`))),p=!1),this._validateStretch(l.stretchY,l.data&&l.data.height)||(this.fire(new c.y(new Error(`Image "${r}" has invalid "stretchY" value`))),p=!1),this._validateContent(l.content,l)||(this.fire(new c.y(new Error(`Image "${r}" has invalid "content" value`))),p=!1),p}_validateStretch(r,l){if(!r)return!0;let p=0;for(const _ of r){if(_[0]<p||_[1]<_[0]||l<_[1])return!1;p=_[1]}return!0}_validateContent(r,l){return r?r.length!==4||!l.usvg&&(r[0]<0||l.data.width<r[0]||r[1]<0||l.data.height<r[1]||r[2]<0||l.data.width<r[2]||r[3]<0||l.data.height<r[3])?!1:!(r[2]<r[0]||r[3]<r[1]):!0}updateImage(r,l,p){p.version=this.images[l][r].version+1,this.images[l][r]=p,this.updatedImages[l][r]=!0,this.removeFromImageRasterizerCache(r,l)}removeFromImageRasterizerCache(r,l){this.spriteFormat!=="raster"&&(c.t()?this.imageRasterizerDispatcher.getActor().send("removeRasterizedImages",{imageIds:[r],scope:l}):this.imageRasterizer.removeImagesFromCacheByIds([r],l))}removeImage(r,l){const p=this.images[l][r];delete this.images[l][r],delete this.patterns[l][r],this.removeFromImageRasterizerCache(r,l),p.userImage&&p.userImage.onRemove&&p.userImage.onRemove()}listImages(r){return Object.keys(this.images[r])}getImages(r,l,p){let _=!0;const x=!!this.loaded[l];if(!x)for(const E of r)this.images[l][E]||(_=!1);x||_?this._notify(r,l,p):this.requestors.push({ids:r,scope:l,callback:p})}rasterizeImages({scope:r,imageTasks:l},p){const _={};for(const x in l){const E=l[x],R=this.getImage(E.id,r);R&&(_[x]={image:R,imageIdWithOptions:E})}c.t()?this.imageRasterizerDispatcher.getActor().send("rasterizeImages",{imageTasks:_,scope:r},p):this.rasterizeImagesInMainThread({imageTasks:_,scope:r},p)}rasterizeImagesInMainThread(r,l){const{imageTasks:p,scope:_}=r,x={};for(const E in p){const{image:R,imageIdWithOptions:B}=p[E];x[E]=this.imageRasterizer.rasterize(B,R,_,"")}l(void 0,x)}getUpdatedImages(r){return this.updatedImages[r]}_notify(r,l,p){const _={};for(const x of r){this.images[l][x]||this.fire(new c.z("styleimagemissing",{id:x}));const E=this.images[l][x];E?_[x]={data:E.usvg?null:E.data.clone(),pixelRatio:E.pixelRatio,sdf:E.sdf,usvg:E.usvg,version:E.version,stretchX:E.stretchX,stretchY:E.stretchY,content:E.content,hasRenderCallback:!!(E.userImage&&E.userImage.render)}:c.w(`Image "${x}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}p(null,_)}getPixelSize(r){const{width:l,height:p}=this.atlasImage[r];return{width:l,height:p}}getPattern(r,l,p){const _=this.patterns[l][r],x=this.getImage(r,l);if(!x)return null;if(_&&_.position.version===x.version)return _.position;if(_)_.position.version=x.version;else{x.usvg&&!x.data&&(x.data=this.imageRasterizer.rasterize(c.A.from(r).getPrimary(),x,l,""));const E={w:x.data.width+2*c.B,h:x.data.height+2*c.B,x:0,y:0},R=new c.C(E,x,c.B);this.patterns[l][r]={bin:E,position:R}}return this._updatePatternAtlas(l,p),this.patterns[l][r].position}bind(r,l){const p=r.gl;let _=this.atlasTexture[l];_?this.dirty&&(_.update(this.atlasImage[l]),this.dirty=!1):(_=new c.T(r,this.atlasImage[l],p.RGBA8),this.atlasTexture[l]=_),_.bind(p.LINEAR,p.CLAMP_TO_EDGE)}_updatePatternAtlas(r,l){const p=[];for(const R in this.patterns[r])p.push(this.patterns[r][R].bin);const{w:_,h:x}=c.F(p),E=this.atlasImage[r];E.resize({width:_||1,height:x||1});for(const R in this.patterns[r]){const{bin:B,position:V}=this.patterns[r][R];let U=V.padding;const J=B.x+U,Q=B.y+U,le=this.images[r][R].data,Ee=le.width,be=le.height;U=U>1?U-1:U,c.r.copy(le,E,{x:0,y:0},{x:J,y:Q},{width:Ee,height:be},l),c.r.copy(le,E,{x:0,y:be-U},{x:J,y:Q-U},{width:Ee,height:U},l),c.r.copy(le,E,{x:0,y:0},{x:J,y:Q+be},{width:Ee,height:U},l),c.r.copy(le,E,{x:Ee-U,y:0},{x:J-U,y:Q},{width:U,height:be},l),c.r.copy(le,E,{x:0,y:0},{x:J+Ee,y:Q},{width:U,height:be},l),c.r.copy(le,E,{x:Ee-U,y:be-U},{x:J-U,y:Q-U},{width:U,height:U},l),c.r.copy(le,E,{x:0,y:be-U},{x:J+Ee,y:Q-U},{width:U,height:U},l),c.r.copy(le,E,{x:0,y:0},{x:J+Ee,y:Q+be},{width:U,height:U},l),c.r.copy(le,E,{x:Ee-U,y:0},{x:J-U,y:Q+be},{width:U,height:U},l)}this.dirty=!0}beginFrame(){for(const r in this.images)this.callbackDispatchedThisFrame[r]={}}dispatchRenderCallbacks(r,l){for(const p of r){if(this.callbackDispatchedThisFrame[l][p])continue;this.callbackDispatchedThisFrame[l][p]=!0;const _=this.images[l][p];In(_)&&this.updateImage(p,l,_)}}}function vi(m){const r=m.key,l=m.value,p=m.valueSpec||{},_=m.objectElementValidators||{},x=m.style,E=m.styleSpec;let R=[];const B=c.H(l);if(B!=="object")return[new c.V(r,l,`object expected, ${B} found`)];for(const V in l){const U=V.split(".")[0];let J;_[U]?J=_[U]:p[U]?J=Fn:_["*"]?J=_["*"]:p["*"]&&(J=Fn),J?R=R.concat(J({key:(r&&`${r}.`)+V,value:l[V],valueSpec:p[U]||p["*"],style:x,styleSpec:E,object:l,objectKey:V},l)):R.push(new c.G(r,l[V],`unknown property "${V}"`))}for(const V in p)_[V]||p[V].required&&p[V].default===void 0&&l[V]===void 0&&R.push(new c.V(r,l,`missing required property "${V}"`));return R}function sr(m){const r=m.value,l=m.valueSpec,p=m.style,_=m.styleSpec,x=m.key,E=m.arrayElementValidator||Fn;if(c.H(r)!=="array")return[new c.V(x,r,`array expected, ${c.H(r)} found`)];if(l.length&&r.length!==l.length)return[new c.V(x,r,`array length ${l.length} expected, length ${r.length} found`)];if(l["min-length"]&&r.length<l["min-length"])return[new c.V(x,r,`array length at least ${l["min-length"]} expected, length ${r.length} found`)];let R={type:l.value,values:l.values,minimum:l.minimum,maximum:l.maximum,function:void 0};_.$version<7&&(R.function=l.function),c.H(l.value)==="object"&&(R=l.value);let B=[];for(let V=0;V<r.length;V++)B=B.concat(E({array:r,arrayIndex:V,value:r[V],valueSpec:R,style:p,styleSpec:_,key:`${x}[${V}]`},!0));return B}function it(m){const r=m.key,l=m.value,p=m.valueSpec;let _=c.H(l);if(_==="number"&&l!=l&&(_="NaN"),_!=="number")return[new c.V(r,l,`number expected, ${_} found`)];if("minimum"in p){let x=p.minimum;if(c.H(p.minimum)==="array"&&(x=p.minimum[m.arrayIndex]),l<x)return[new c.V(r,l,`${l} is less than the minimum value ${x}`)]}if("maximum"in p){let x=p.maximum;if(c.H(p.maximum)==="array"&&(x=p.maximum[m.arrayIndex]),l>x)return[new c.V(r,l,`${l} is greater than the maximum value ${x}`)]}return[]}function Ot(m){const r=m.valueSpec,l=c.K(m.value.type);let p,_,x,E={};const R=l!=="categorical"&&m.value.property===void 0,B=!R,V=c.H(m.value.stops)==="array"&&c.H(m.value.stops[0])==="array"&&c.H(m.value.stops[0][0])==="object",U=vi({key:m.key,value:m.value,valueSpec:m.styleSpec.function,style:m.style,styleSpec:m.styleSpec,objectElementValidators:{stops:function(le){if(l==="identity")return[new c.V(le.key,le.value,'identity function may not have a "stops" property')];let Ee=[];const be=le.value;return Ee=Ee.concat(sr({key:le.key,value:be,valueSpec:le.valueSpec,style:le.style,styleSpec:le.styleSpec,arrayElementValidator:J})),c.H(be)==="array"&&be.length===0&&Ee.push(new c.V(le.key,be,"array must have at least one stop")),Ee},default:function(le){return Fn({key:le.key,value:le.value,valueSpec:r,style:le.style,styleSpec:le.styleSpec})}}});return l==="identity"&&R&&U.push(new c.V(m.key,m.value,'missing required property "property"')),l==="identity"||m.value.stops||U.push(new c.V(m.key,m.value,'missing required property "stops"')),l==="exponential"&&m.valueSpec.expression&&!c.L(m.valueSpec)&&U.push(new c.V(m.key,m.value,"exponential functions not supported")),m.styleSpec.$version>=8&&(B&&!c.M(m.valueSpec)?U.push(new c.V(m.key,m.value,"property functions not supported")):R&&!c.N(m.valueSpec)&&U.push(new c.V(m.key,m.value,"zoom functions not supported"))),l!=="categorical"&&!V||m.value.property!==void 0||U.push(new c.V(m.key,m.value,'"property" property is required')),U;function J(le){let Ee=[];const be=le.value,Ae=le.key;if(c.H(be)!=="array")return[new c.V(Ae,be,`array expected, ${c.H(be)} found`)];if(be.length!==2)return[new c.V(Ae,be,`array length 2 expected, length ${be.length} found`)];if(V){if(c.H(be[0])!=="object")return[new c.V(Ae,be,`object expected, ${c.H(be[0])} found`)];if(be[0].zoom===void 0)return[new c.V(Ae,be,"object stop key must have zoom")];if(be[0].value===void 0)return[new c.V(Ae,be,"object stop key must have value")];const Pe=c.K(be[0].zoom);if(typeof Pe!="number")return[new c.V(Ae,be[0].zoom,"stop zoom values must be numbers")];if(x&&x>Pe)return[new c.V(Ae,be[0].zoom,"stop zoom values must appear in ascending order")];Pe!==x&&(x=Pe,_=void 0,E={}),Ee=Ee.concat(vi({key:`${Ae}[0]`,value:be[0],valueSpec:{zoom:{}},style:le.style,styleSpec:le.styleSpec,objectElementValidators:{zoom:it,value:Q}}))}else Ee=Ee.concat(Q({key:`${Ae}[0]`,value:be[0],valueSpec:{},style:le.style,styleSpec:le.styleSpec},be));return c.O(c.Q(be[1]))?Ee.concat([new c.V(`${Ae}[1]`,be[1],"expressions are not allowed in function stops.")]):Ee.concat(Fn({key:`${Ae}[1]`,value:be[1],valueSpec:r,style:le.style,styleSpec:le.styleSpec}))}function Q(le,Ee){const be=c.H(le.value),Ae=c.K(le.value),Pe=le.value!==null?le.value:Ee;if(p){if(be!==p)return[new c.V(le.key,Pe,`${be} stop domain type must match previous stop domain type ${p}`)]}else p=be;if(be!=="number"&&be!=="string"&&be!=="boolean"&&typeof Ae!="number"&&typeof Ae!="string"&&typeof Ae!="boolean")return[new c.V(le.key,Pe,"stop domain value must be a number, string, or boolean")];if(be!=="number"&&l!=="categorical"){let Qe=`number expected, ${be} found`;return c.M(r)&&l===void 0&&(Qe+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new c.V(le.key,Pe,Qe)]}return l!=="categorical"||be!=="number"||typeof Ae=="number"&&isFinite(Ae)&&Math.floor(Ae)===Ae?l!=="categorical"&&be==="number"&&typeof Ae=="number"&&typeof _=="number"&&_!==void 0&&Ae<_?[new c.V(le.key,Pe,"stop domain values must appear in ascending order")]:(_=Ae,l==="categorical"&&Ae in E?[new c.V(le.key,Pe,"stop domain values must be unique")]:(E[Ae]=!0,[])):[new c.V(le.key,Pe,`integer expected, found ${String(Ae)}`)]}}function zn(m){const r=(m.expressionContext==="property"?c.S:c.U)(c.Q(m.value),m.valueSpec);if(r.result==="error")return r.value.map(p=>new c.V(`${m.key}${p.key}`,m.value,p.message));const l=r.value.expression||r.value._styleExpression.expression;if(m.expressionContext==="property"&&m.propertyKey==="text-font"&&!l.outputDefined())return[new c.V(m.key,m.value,`Invalid data expression for "${m.propertyKey}". Output values must be contained as literals within the expression.`)];if(m.expressionContext==="property"&&m.propertyType==="layout"&&!c.W(l))return[new c.V(m.key,m.value,'"feature-state" data expressions are not supported with layout properties.')];if(m.expressionContext==="filter")return dn(l,m);if(m.expressionContext&&m.expressionContext.indexOf("cluster")===0){if(!c.X(l,["zoom","feature-state"]))return[new c.V(m.key,m.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(m.expressionContext==="cluster-initial"&&!c.Y(l))return[new c.V(m.key,m.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function dn(m,r){const l=new Set(["zoom","feature-state","pitch","distance-from-center"]);if(r.valueSpec&&r.valueSpec.expression)for(const _ of r.valueSpec.expression.parameters)l.delete(_);if(l.size===0)return[];const p=[];return m instanceof c.Z&&l.has(m.name)?[new c.V(r.key,r.value,`["${m.name}"] expression is not supported in a filter for a ${r.object.type} layer with id: ${r.object.id}`)]:(m.eachChild(_=>{p.push(...dn(_,r))}),p)}function fn(m){const r=m.key,l=m.value,p=m.valueSpec,_=[];return Array.isArray(p.values)?p.values.indexOf(c.K(l))===-1&&_.push(new c.V(r,l,`expected one of [${p.values.join(", ")}], ${JSON.stringify(l)} found`)):Object.keys(p.values).indexOf(c.K(l))===-1&&_.push(new c.V(r,l,`expected one of [${Object.keys(p.values).join(", ")}], ${JSON.stringify(l)} found`)),_}function xr(m){return c.$(c.Q(m.value))?zn(c.J({},m,{expressionContext:"filter",valueSpec:m.styleSpec[`filter_${m.layerType||"fill"}`]})):Un(m)}function Un(m){const r=m.value,l=m.key;if(c.H(r)!=="array")return[new c.V(l,r,`array expected, ${c.H(r)} found`)];const p=m.styleSpec;let _,x=[];if(r.length<1)return[new c.V(l,r,"filter array must have at least 1 element")];switch(x=x.concat(fn({key:`${l}[0]`,value:r[0],valueSpec:p.filter_operator,style:m.style,styleSpec:m.styleSpec})),c.K(r[0])){case"<":case"<=":case">":case">=":r.length>=2&&c.K(r[1])==="$type"&&x.push(new c.V(l,r,`"$type" cannot be use with operator "${r[0]}"`));case"==":case"!=":r.length!==3&&x.push(new c.V(l,r,`filter array for operator "${r[0]}" must have 3 elements`));case"in":case"!in":r.length>=2&&(_=c.H(r[1]),_!=="string"&&x.push(new c.V(`${l}[1]`,r[1],`string expected, ${_} found`)));for(let E=2;E<r.length;E++)_=c.H(r[E]),c.K(r[1])==="$type"?x=x.concat(fn({key:`${l}[${E}]`,value:r[E],valueSpec:p.geometry_type,style:m.style,styleSpec:m.styleSpec})):_!=="string"&&_!=="number"&&_!=="boolean"&&x.push(new c.V(`${l}[${E}]`,r[E],`string, number, or boolean expected, ${_} found`));break;case"any":case"all":case"none":for(let E=1;E<r.length;E++)x=x.concat(Un({key:`${l}[${E}]`,value:r[E],style:m.style,styleSpec:m.styleSpec}));break;case"has":case"!has":_=c.H(r[1]),r.length!==2?x.push(new c.V(l,r,`filter array for "${r[0]}" operator must have 2 elements`)):_!=="string"&&x.push(new c.V(`${l}[1]`,r[1],`string expected, ${_} found`))}return x}function Xr(m,r){const l=m.key,p=m.style,_=m.layer,x=m.styleSpec,E=m.value,R=m.objectKey,B=x[`${r}_${m.layerType}`];if(!B)return[];const V=R.match(/^(.*)-use-theme$/);if(r==="paint"&&V&&B[V[1]])return c.O(E)?[].concat(Fn({key:m.key,value:E,valueSpec:{type:"string",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},style:p,styleSpec:x,expressionContext:"property",propertyType:r,propertyKey:R})):Fn({key:l,value:E,valueSpec:{type:"string"},style:p,styleSpec:x});const U=R.match(/^(.*)-transition$/);if(r==="paint"&&U&&B[U[1]]&&B[U[1]].transition)return Fn({key:l,value:E,valueSpec:x.transition,style:p,styleSpec:x});const J=m.valueSpec||B[R];if(!J)return[new c.G(l,E,`unknown property "${R}"`)];let Q;if(c.H(E)==="string"&&c.M(J)&&!J.tokens&&(Q=/^{([^}]+)}$/.exec(E))){const Ee=`\`{ "type": "identity", "property": ${Q?JSON.stringify(Q[1]):'"_"'} }\``;return[new c.V(l,E,`"${R}" does not support interpolation syntax
Use an identity property function instead: ${Ee}.`)]}const le=[];if(m.layerType==="symbol")R!=="text-field"||!p||p.glyphs||p.imports||le.push(new c.V(l,E,'use of "text-field" requires a style "glyphs" property')),R==="text-font"&&c.a0(c.Q(E))&&c.K(E.type)==="identity"&&le.push(new c.V(l,E,'"text-font" does not support identity functions'));else if(m.layerType==="model"&&r==="paint"&&_&&_.layout&&_.layout.hasOwnProperty("model-id")&&c.M(J)&&(c.a1(J)||c.N(J))){const Ee=c.S(c.Q(E),J),be=Ee.value.expression||Ee.value._styleExpression.expression;be&&!c.X(be,["measure-light"])&&(R==="model-emissive-strength"&&c.Y(be)&&c.W(be)||le.push(new c.V(l,E,`${R} does not support measure-light expressions when the model layer source is vector tile or GeoJSON.`)))}return le.concat(Fn({key:m.key,value:E,valueSpec:J,style:p,styleSpec:x,expressionContext:"property",propertyType:r,propertyKey:R}))}function ei(m){return Xr(m,"paint")}function Wr(m){return Xr(m,"layout")}function ti(m){let r=[];const l=m.value,p=m.key,_=m.style,x=m.styleSpec;l.type||l.ref||r.push(new c.V(p,l,'either "type" or "ref" is required'));let E=c.K(l.type);const R=c.K(l.ref);if(l.id){const B=c.K(l.id);for(let V=0;V<m.arrayIndex;V++){const U=_.layers[V];c.K(U.id)===B&&r.push(new c.V(p,l.id,`duplicate layer id "${l.id}", previously used at line ${U.id.__line__}`))}}if("ref"in l){let B;["type","source","source-layer","filter","layout"].forEach(V=>{V in l&&r.push(new c.V(p,l[V],`"${V}" is prohibited for ref layers`))}),_.layers.forEach(V=>{c.K(V.id)===R&&(B=V)}),B?B.ref?r.push(new c.V(p,l.ref,"ref cannot reference another ref layer")):E=c.K(B.type):typeof R=="string"&&r.push(new c.V(p,l.ref,`ref layer "${R}" not found`))}else if(E!=="background"&&E!=="sky"&&E!=="slot")if(l.source){const B=_.sources&&_.sources[l.source],V=B&&c.K(B.type);B?V==="vector"&&E==="raster"?r.push(new c.V(p,l.source,`layer "${l.id}" requires a raster source`)):V==="raster"&&E!=="raster"?r.push(new c.V(p,l.source,`layer "${l.id}" requires a vector source`)):V!=="vector"||l["source-layer"]?V==="raster-dem"&&E!=="hillshade"?r.push(new c.V(p,l.source,"raster-dem source can only be used with layer type 'hillshade'.")):V!=="raster-array"||["raster","raster-particle"].includes(E)?E!=="line"||!l.paint||!l.paint["line-gradient"]&&!l.paint["line-trim-offset"]||V==="geojson"&&B.lineMetrics?E==="raster-particle"&&V!=="raster-array"&&r.push(new c.V(p,l.source,`layer "${l.id}" requires a 'raster-array' source.`)):r.push(new c.V(p,l,`layer "${l.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):r.push(new c.V(p,l.source,"raster-array source can only be used with layer type 'raster'.")):r.push(new c.V(p,l,`layer "${l.id}" must specify a "source-layer"`)):r.push(new c.V(p,l.source,`source "${l.source}" not found`))}else r.push(new c.V(p,l,'missing required property "source"'));return r=r.concat(vi({key:p,value:l,valueSpec:x.layer,style:m.style,styleSpec:m.styleSpec,objectElementValidators:{"*":()=>[],type:()=>Fn({key:`${p}.type`,value:l.type,valueSpec:x.layer.type,style:m.style,styleSpec:m.styleSpec,object:l,objectKey:"type"}),filter:B=>xr(c.J({layerType:E},B)),layout:B=>vi({layer:l,key:B.key,value:B.value,valueSpec:{},style:B.style,styleSpec:B.styleSpec,objectElementValidators:{"*":V=>Wr(c.J({layerType:E},V))}}),paint:B=>vi({layer:l,key:B.key,value:B.value,valueSpec:{},style:B.style,styleSpec:B.styleSpec,objectElementValidators:{"*":V=>ei(c.J({layerType:E,layer:l},V))}})}})),r}function gr(m){const r=m.value,l=m.key,p=c.H(r);return p!=="string"?[new c.V(l,r,`string expected, ${p} found`)]:[]}const mr={promoteId:function m({key:r,value:l}){if(c.H(l)==="string")return gr({key:r,value:l});if(Array.isArray(l)){const p=[],_=c.Q(l),x=c.U(_);return x.result==="error"&&x.value.forEach(E=>{p.push(new c.V(`${r}${E.key}`,null,`${E.message}`))}),c.X(x.value.expression,["zoom","heatmap-density","line-progress","raster-value","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center","measure-light","raster-particle-speed"])||p.push(new c.V(`${r}`,null,"promoteId expression should be only feature dependent")),p}{const p=[];for(const _ in l)p.push(...m({key:`${r}.${_}`,value:l[_]}));return p}}};function fr(m){const r=m.value,l=m.key,p=m.styleSpec,_=m.style;if(!r.type)return[new c.V(l,r,'"type" is required')];const x=c.K(r.type);let E=[];switch(["vector","raster","raster-dem","raster-array"].includes(x)&&(r.url||r.tiles||E.push(new c.G(l,r,'Either "url" or "tiles" is required.'))),x){case"vector":case"raster":case"raster-dem":case"raster-array":return E=E.concat(vi({key:l,value:r,valueSpec:p[`source_${x.replace("-","_")}`],style:m.style,styleSpec:p,objectElementValidators:mr})),E;case"geojson":if(E=vi({key:l,value:r,valueSpec:p.source_geojson,style:_,styleSpec:p,objectElementValidators:mr}),r.cluster)for(const R in r.clusterProperties){const[B,V]=r.clusterProperties[R],U=typeof B=="string"?[B,["accumulated"],["get",R]]:B;E.push(...zn({key:`${l}.${R}.map`,value:V,expressionContext:"cluster-map"})),E.push(...zn({key:`${l}.${R}.reduce`,value:U,expressionContext:"cluster-reduce"}))}return E;case"video":return vi({key:l,value:r,valueSpec:p.source_video,style:_,styleSpec:p});case"image":return vi({key:l,value:r,valueSpec:p.source_image,style:_,styleSpec:p});case"canvas":return[new c.V(l,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return fn({key:`${l}.type`,value:r.type,valueSpec:{values:wr(p)},style:_,styleSpec:p})}}function wr(m){return m.source.reduce((r,l)=>{const p=m[l];return p.type.type==="enum"&&(r=r.concat(Object.keys(p.type.values))),r},[])}function vr(m){const r=m.value,l=m.styleSpec,p=l.light,_=m.style;let x=[];const E=c.H(r);if(r===void 0)return x;if(E!=="object")return x=x.concat([new c.V("light",r,`object expected, ${E} found`)]),x;for(const R in r){const B=R.match(/^(.*)-transition$/),V=R.match(/^(.*)-use-theme$/);x=x.concat(V&&p[V[1]]?Fn({key:R,value:r[R],valueSpec:{type:"string"},style:_,styleSpec:l}):B&&p[B[1]]&&p[B[1]].transition?Fn({key:R,value:r[R],valueSpec:l.transition,style:_,styleSpec:l}):p[R]?Fn({key:R,value:r[R],valueSpec:p[R],style:_,styleSpec:l}):[new c.V(R,r[R],`unknown property "${R}"`)])}return x}function jr(m){const r=m.value;let l=[];if(!r)return l;const p=c.H(r);if(p!=="object")return l=l.concat([new c.V("light-3d",r,`object expected, ${p} found`)]),l;const _=m.styleSpec,x=_["light-3d"],E=m.key,R=m.style,B=m.style.lights;for(const J of["type","id"])if(!(J in r))return l=l.concat([new c.V("light-3d",r,`missing property ${J} on light`)]),l;if(r.type&&B)for(let J=0;J<m.arrayIndex;J++){const Q=c.K(r.type),le=B[J];c.K(le.type)===Q&&l.push(new c.V(E,r.id,`duplicate light type "${r.type}", previously defined at line ${le.id.__line__}`))}const V=`properties_light_${r.type}`;if(!(V in _))return l=l.concat([new c.V("light-3d",r,`Invalid light type ${r.type}`)]),l;const U=_[V];for(const J in r)if(J==="properties"){const Q=r[J],le=c.H(Q);if(le!=="object")return l=l.concat([new c.V("properties",Q,`object expected, ${le} found`)]),l;for(const Ee in Q)l=l.concat(U[Ee]?Fn({key:Ee,value:Q[Ee],valueSpec:U[Ee],style:R,styleSpec:_}):[new c.G(m.key,Q[Ee],`unknown property "${Ee}"`)])}else{const Q=J.match(/^(.*)-transition$/),le=J.match(/^(.*)-use-theme$/);l=l.concat(le&&x[le[1]]?Fn({key:J,value:r[J],valueSpec:{type:"string"},style:R,styleSpec:_}):Q&&x[Q[1]]&&x[Q[1]].transition?Fn({key:J,value:r[J],valueSpec:_.transition,style:R,styleSpec:_}):x[J]?Fn({key:J,value:r[J],valueSpec:x[J],style:R,styleSpec:_}):[new c.G(J,r[J],`unknown property "${J}"`)])}return l}function Xn(m){const r=m.value,l=m.key,p=m.style,_=m.styleSpec,x=_.terrain;let E=[];const R=c.H(r);if(r===void 0||R==="null")return E;if(R!=="object")return E=E.concat([new c.V("terrain",r,`object expected, ${R} found`)]),E;for(const B in r){const V=B.match(/^(.*)-transition$/),U=B.match(/^(.*)-use-theme$/);E=E.concat(U&&x[U[1]]?Fn({key:B,value:r[B],valueSpec:{type:"string"},style:p,styleSpec:_}):V&&x[V[1]]&&x[V[1]].transition?Fn({key:B,value:r[B],valueSpec:_.transition,style:p,styleSpec:_}):x[B]?Fn({key:B,value:r[B],valueSpec:x[B],style:p,styleSpec:_}):[new c.G(B,r[B],`unknown property "${B}"`)])}if(r.source){const B=p.sources&&p.sources[r.source],V=B&&c.K(B.type);B?V!=="raster-dem"&&E.push(new c.V(l,r.source,`terrain cannot be used with a source of type ${String(V)}, it only be used with a "raster-dem" source type`)):E.push(new c.V(l,r.source,`source "${r.source}" not found`))}else E.push(new c.V(l,r,'terrain is missing required property "source"'));return E}function lr(m){const r=m.value,l=m.style,p=m.styleSpec,_=p.fog;let x=[];const E=c.H(r);if(r===void 0)return x;if(E!=="object")return x=x.concat([new c.V("fog",r,`object expected, ${E} found`)]),x;for(const R in r){const B=R.match(/^(.*)-transition$/),V=R.match(/^(.*)-use-theme$/);x=x.concat(V&&_[V[1]]?Fn({key:R,value:r[R],valueSpec:{type:"string"},style:l,styleSpec:p}):B&&_[B[1]]&&_[B[1]].transition?Fn({key:R,value:r[R],valueSpec:p.transition,style:l,styleSpec:p}):_[R]?Fn({key:R,value:r[R],valueSpec:_[R],style:l,styleSpec:p}):[new c.G(R,r[R],`unknown property "${R}"`)])}return x}const Yr={"*":()=>[],array:sr,boolean:function(m){const r=m.value,l=m.key,p=c.H(r);return p!=="boolean"?[new c.V(l,r,`boolean expected, ${p} found`)]:[]},number:it,color:function(m){const r=m.key,l=m.value,p=c.H(l);return p!=="string"?[new c.V(r,l,`color expected, ${p} found`)]:c._.parseCSSColor(l)===null?[new c.V(r,l,`color expected, "${l}" found`)]:[]},enum:fn,filter:xr,function:Ot,layer:ti,object:vi,source:fr,model:c.a2,light:vr,"light-3d":jr,terrain:Xn,fog:lr,string:gr,formatted:function(m){return gr(m).length===0?[]:zn(m)},resolvedImage:function(m){return gr(m).length===0?[]:zn(m)},projection:function(m){const r=m.value,l=m.styleSpec,p=l.projection,_=m.style;let x=[];const E=c.H(r);if(E==="object")for(const R in r)x=x.concat(Fn({key:R,value:r[R],valueSpec:p[R],style:_,styleSpec:l}));else E!=="string"&&(x=x.concat([new c.V("projection",r,`object or string expected, ${E} found`)]));return x},import:function(m){const{value:r,styleSpec:l}=m,E=r,{data:p}=E,_=i2(E,["data"]);Object.defineProperty(_,"__line__",{value:r.__line__,enumerable:!1});let x=vi(c.J({},m,{value:_,valueSpec:l.import}));return c.K(_.id)===""&&x.push(new c.V(`${m.key}.id`,_,"import id can't be an empty string")),p&&(x=x.concat(mi(p,l,{key:`${m.key}.data`}))),x}};function Fn(m,r=!1){const l=m.value,p=m.valueSpec,_=m.styleSpec;if(p.expression&&c.a0(c.K(l)))return Ot(m);if(p.expression&&c.O(c.Q(l)))return zn(m);if(p.type&&Yr[p.type]){const x=Yr[p.type](m);return r===!0&&x.length>0&&c.H(m.value)==="array"?zn(m):x}return vi(c.J({},m,{valueSpec:p.type?_[p.type]:p}))}function Si(m){const r=m.value,l=m.key,p=gr(m);return p.length||(r.indexOf("{fontstack}")===-1&&p.push(new c.V(l,r,'"glyphs" url must include a "{fontstack}" token')),r.indexOf("{range}")===-1&&p.push(new c.V(l,r,'"glyphs" url must include a "{range}" token'))),p}function mi(m,r=c.a3,l={}){return Fn({key:l.key||"",value:m,valueSpec:r.$root,styleSpec:r,style:m,objectElementValidators:{glyphs:Si,"*":()=>[]}})}function Hi(m,r=c.a3){return xo(mi(m,r))}const ho=m=>xo(fr(m)),Ur=m=>xo(vr(m)),eo=m=>xo(jr(m)),en=m=>xo(Xn(m)),Mn=m=>xo(lr(m)),Qn=m=>xo(function(r){const l=r.value,p=r.style,_=r.styleSpec,x=_.snow;let E=[];const R=c.H(l);if(l===void 0)return E;if(R!=="object")return E=E.concat([new c.V("snow",l,`object expected, ${R} found`)]),E;for(const B in l){const V=B.match(/^(.*)-transition$/);E=E.concat(V&&x[V[1]]&&x[V[1]].transition?Fn({key:B,value:l[B],valueSpec:_.transition,style:p,styleSpec:_}):x[B]?Fn({key:B,value:l[B],valueSpec:x[B],style:p,styleSpec:_}):[new c.G(B,l[B],`unknown property "${B}"`)])}return E}(m)),Dr=m=>xo(function(r){const l=r.value,p=r.style,_=r.styleSpec,x=_.rain;let E=[];const R=c.H(l);if(l===void 0)return E;if(R!=="object")return E=E.concat([new c.V("rain",l,`object expected, ${R} found`)]),E;for(const B in l){const V=B.match(/^(.*)-transition$/);E=E.concat(V&&x[V[1]]&&x[V[1]].transition?Fn({key:B,value:l[B],valueSpec:_.transition,style:p,styleSpec:_}):x[B]?Fn({key:B,value:l[B],valueSpec:x[B],style:p,styleSpec:_}):[new c.G(B,l[B],`unknown property "${B}"`)])}return E}(m)),ui=m=>xo(ti(m)),oi=m=>xo(xr(m)),Xi=m=>xo(ei(m)),Ji=m=>xo(Wr(m)),Ro=m=>xo(c.a2(m));function xo(m){return m.slice().sort((r,l)=>r.line&&l.line?r.line-l.line:0)}function io(m,r){let l=!1;if(r&&r.length)for(const p of r)p instanceof c.G?c.w(p.message):(m.fire(new c.y(new Error(p.message))),l=!0);return l}let Oe;class de extends c.E{constructor(r,l="flat"){super(),this._transitionable=new c.a4(Oe||(Oe=new c.a5({anchor:new c.a6(c.a3.light.anchor),position:new c.a7(c.a3.light.position),color:new c.a6(c.a3.light.color),intensity:new c.a6(c.a3.light.intensity)}))),this.setLight(r,l),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(r,l,p={}){this._validate(Ur,r,p)||(this._transitionable.setTransitionOrValue(r),this.id=l)}updateTransitions(r){this._transitioning=this._transitionable.transitioned(r,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(r){this.properties=this._transitioning.possiblyEvaluate(r)}_validate(r,l,p){return(!p||p.validate!==!1)&&io(this,r.call(Hi,c.l({value:l,style:{glyphs:!0,sprite:!0},styleSpec:c.a3})))}}let X=class extends c.E{constructor(m,r,l,p){super(),this.scope=l,this._transitionable=new c.a4(new c.a5({source:new c.a6(c.a3.terrain.source),exaggeration:new c.a6(c.a3.terrain.exaggeration)}),l,p),this._transitionable.setTransitionOrValue(m,p),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=r}get(){return this._transitionable.serialize()}set(m,r){this._transitionable.setTransitionOrValue(m,r)}updateTransitions(m){this._transitioning=this._transitionable.transitioned(m,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(m){this.properties=this._transitioning.possiblyEvaluate(m)}getExaggeration(m){return this._transitioning.possiblyEvaluate(new c.a8(m)).get("exaggeration")}getAttenuationRange(){if(!this.isZoomDependent())return null;const m=this._transitionable._values.exaggeration;if(!m)return null;const r=m.value.expression;if(!r)return null;let l=-1,p=-1,_=1;for(const x of r.zoomStops)_=r.evaluate(new c.a8(x)),_>.01?(l=x,p=-1):p=x;return _<.01&&l>0&&p>l?[l,p]:null}isZoomDependent(){const m=this._transitionable._values.exaggeration;return m!=null&&m.value!=null&&m.value.expression!=null&&m.value.expression instanceof c.a9}};const ke=45,he=65,Ye=.05;function et(m,r,l,p){const _=c.ac(ke,he,l),[x,E]=tn(m,p);let R=1-Math.min(1,Math.exp((r-x)/(E-x)*-6));return R*=R*R,R=Math.min(1,1.00747*R),R*_*m.alpha}function tn(m,r){const l=.5/Math.tan(.5*r);return[m.range[0]+l,m.range[1]+l]}function Tt(m,r,l,p,_){const x=c.ab.vec3.transformMat4([],[r,l,p],_.mercatorFogMatrix);return et(m,c.ab.vec3.length(x),_.pitch,_._fov)}function nn(m,r,l,p,_,x,E){const R=[[l,p,0],[_,p,0],[_,x,0],[l,x,0]];let B=Number.MAX_VALUE,V=-Number.MAX_VALUE;for(const U of R){const J=c.ab.vec3.transformMat4([],U,r),Q=c.ab.vec3.length(J);B=Math.min(B,Q),V=Math.max(V,Q)}return[et(m,B,E.pitch,E._fov),et(m,V,E.pitch,E._fov)]}class vn extends c.E{constructor(r,l,p,_){super();const x=new c.a5({range:new c.a6(c.a3.fog.range),color:new c.a6(c.a3.fog.color),"color-use-theme":new c.a6({type:"string","property-type":"data-constant",default:"default"}),"high-color":new c.a6(c.a3.fog["high-color"]),"high-color-use-theme":new c.a6({type:"string","property-type":"data-constant",default:"default"}),"space-color":new c.a6(c.a3.fog["space-color"]),"space-color-use-theme":new c.a6({type:"string","property-type":"data-constant",default:"default"}),"horizon-blend":new c.a6(c.a3.fog["horizon-blend"]),"star-intensity":new c.a6(c.a3.fog["star-intensity"]),"vertical-range":new c.a6(c.a3.fog["vertical-range"])});this._transitionable=new c.a4(x,p,new Map(_)),this.set(r,_),this._transitioning=this._transitionable.untransitioned(),this._transform=l,this.properties=new c.ad(x),this.scope=p}get state(){const r=this._transform,l=r.projection.name==="globe",p=c.ae(r.zoom),_=this.properties.get("range"),x=[.5,3];return{range:l?[c.af(x[0],_[0],p),c.af(x[1],_[1],p)]:_,horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(r,l,p={}){if(this._validate(Mn,r,p))return;const _=c.l({},r);for(const x of Object.keys(c.a3.fog))_[x]===void 0&&(_[x]=c.a3.fog[x].default);this._options=_,this._transitionable.setTransitionOrValue(this._options,l)}getOpacity(r){if(!this._transform.projection.supportsFog)return 0;const l=this.properties&&this.properties.get("color")||1;return(this._transform.projection.name==="globe"?1:c.ac(ke,he,r))*l.a}getOpacityAtLatLng(r,l){return this._transform.projection.supportsFog?function(p,_,x){const E=c.aa.fromLngLat(_),R=x.elevation?x.elevation.getAtPointOrZero(E):0;return Tt(p,E.x,E.y,R,x)}(this.state,r,l):0}getOpacityForTile(r){if(!this._transform.projection.supportsFog)return[1,1];const l=this._transform.calculateFogTileMatrix(r.toUnwrapped());return nn(this.state,l,0,0,c.ag,c.ag,this._transform)}getOpacityForBounds(r,l,p,_,x){return this._transform.projection.supportsFog?nn(this.state,r,l,p,_,x,this._transform):[1,1]}getFovAdjustedRange(r){return this._transform.projection.supportsFog?tn(this.state,r):[0,1]}isVisibleOnFrustum(r){if(!this._transform.projection.supportsFog)return!1;const l=[4,5,6,7];for(const p of l){const _=r.points[p];let x;if(_[2]>=0)x=_;else{const E=r.points[p-4];x=c.ah(E,_,E[2]/(E[2]-_[2]))}if(Tt(this.state,x[0],x[1],0,this._transform)>=Ye)return!0}return!1}updateConfig(r){this._transitionable.setTransitionOrValue(this._options,new Map(r))}updateTransitions(r){this._transitioning=this._transitionable.transitioned(r,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(r){this.properties=this._transitioning.possiblyEvaluate(r)}_validate(r,l,p){return(!p||p.validate!==!1)&&io(this,r.call(Hi,c.l({value:l,style:{glyphs:!0,sprite:!0},styleSpec:c.a3})))}}let Xe,Mt,Ht,Qt,ct=class extends c.E{constructor(m,r,l,p){super();const _=Xe||(Xe=new c.a5({density:new c.a6(c.a3.snow.density),intensity:new c.a6(c.a3.snow.intensity),color:new c.a6(c.a3.snow.color),opacity:new c.a6(c.a3.snow.opacity),vignette:new c.a6(c.a3.snow.vignette),"vignette-color":new c.a6(c.a3.snow["vignette-color"]),"center-thinning":new c.a6(c.a3.snow["center-thinning"]),direction:new c.a6(c.a3.snow.direction),"flake-size":new c.a6(c.a3.snow["flake-size"])}));this._transitionable=new c.a4(_,l,new Map(p)),this.set(m,p),this._transitioning=this._transitionable.untransitioned(),this.properties=new c.ad(_),this.scope=l}get state(){const m=this.properties.get("opacity"),r=this.properties.get("color"),l=this.properties.get("direction"),p=c.ai(l[0]),_=-Math.max(c.ai(l[1]),.01),x=[Math.cos(p)*Math.cos(_),Math.sin(p)*Math.cos(_),Math.sin(_)],E=this.properties.get("vignette"),R=this.properties.get("vignette-color");return R.a=E,{density:this.properties.get("density"),intensity:this.properties.get("intensity"),color:new c.aj(r.r,r.g,r.b,r.a*m),direction:x,centerThinning:this.properties.get("center-thinning"),flakeSize:this.properties.get("flake-size"),vignetteColor:R}}get(){return this._transitionable.serialize()}set(m,r,l={}){if(this._validate(Qn,m,l))return;const p=c.l({},m);for(const _ of Object.keys(c.a3.snow))p[_]===void 0&&(p[_]=c.a3.snow[_].default);this._options=p,this._transitionable.setTransitionOrValue(this._options,r)}updateConfig(m){this._transitionable.setTransitionOrValue(this._options,new Map(m))}updateTransitions(m){this._transitioning=this._transitionable.transitioned(m,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(m){this.properties=this._transitioning.possiblyEvaluate(m)}_validate(m,r,l){return(!l||l.validate!==!1)&&io(this,m.call(Hi,c.l({value:r,style:{glyphs:!0,sprite:!0},styleSpec:c.a3})))}},rt=class extends c.E{constructor(m,r,l,p){super();const _=Mt||(Mt=new c.a5({density:new c.a6(c.a3.rain.density),intensity:new c.a6(c.a3.rain.intensity),color:new c.a6(c.a3.rain.color),opacity:new c.a6(c.a3.rain.opacity),vignette:new c.a6(c.a3.rain.vignette),"vignette-color":new c.a6(c.a3.rain["vignette-color"]),"center-thinning":new c.a6(c.a3.rain["center-thinning"]),direction:new c.a6(c.a3.rain.direction),"droplet-size":new c.a6(c.a3.rain["droplet-size"]),"distortion-strength":new c.a6(c.a3.rain["distortion-strength"])}));this._transitionable=new c.a4(_,l,new Map(p)),this.set(m,p),this._transitioning=this._transitionable.untransitioned(),this.properties=new c.ad(_),this.scope=l}get state(){const m=this.properties.get("opacity"),r=this.properties.get("color"),l=this.properties.get("direction"),p=c.ai(l[0]),_=-Math.max(c.ai(l[1]),.01),x=[Math.cos(p)*Math.cos(_),Math.sin(p)*Math.cos(_),Math.sin(_)],E=this.properties.get("vignette-color");return E.a=this.properties.get("vignette"),{density:this.properties.get("density"),intensity:this.properties.get("intensity"),color:new c.aj(r.r,r.g,r.b,r.a*m),direction:x,centerThinning:this.properties.get("center-thinning"),dropletSize:this.properties.get("droplet-size"),distortionStrength:this.properties.get("distortion-strength"),vignetteColor:E}}get(){return this._transitionable.serialize()}set(m,r,l={}){if(this._validate(Dr,m,l))return;const p=c.l({},m);for(const _ of Object.keys(c.a3.rain))p[_]===void 0&&(p[_]=c.a3.rain[_].default);this._options=p,this._transitionable.setTransitionOrValue(this._options,r)}updateConfig(m){this._transitionable.setTransitionOrValue(this._options,new Map(m))}updateTransitions(m){this._transitioning=this._transitionable.transitioned(m,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(m){this.properties=this._transitioning.possiblyEvaluate(m)}_validate(m,r,l){return(!l||l.validate!==!1)&&io(this,m.call(Hi,c.l({value:r,style:{glyphs:!0,sprite:!0},styleSpec:c.a3})))}};class xn extends c.E{constructor(r,l,p,_){super(),this.scope=p,this._options=r,this.properties=new c.ad(l),this._transitionable=new c.a4(l,p,new Map(_)),this._transitionable.setTransitionOrValue(r.properties),this._transitioning=this._transitionable.untransitioned()}updateConfig(r){this._transitionable.setTransitionOrValue(this._options.properties,new Map(r))}updateTransitions(r){this._transitioning=this._transitionable.transitioned(r,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(r){this.properties=this._transitioning.possiblyEvaluate(r)}get(){return this._options.properties=this._transitionable.serialize(),this._options}set(r,l){this._options=r,this._transitionable.setTransitionOrValue(r.properties,l)}shadowsEnabled(){return!!this.properties&&this.properties.get("cast-shadows")===!0}}class yn{constructor(r,l,p,_){this.screenBounds=r,this.cameraPoint=l,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=p,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,_)}static createFromScreenPoints(r,l){let p,_;if(r instanceof c.P||typeof r[0]=="number"){const x=c.P.convert(r);p=[x],_=l.isPointAboveHorizon(x)}else{const x=c.P.convert(r[0]),E=c.P.convert(r[1]);p=[x,E],_=c.al(x,E).every(R=>l.isPointAboveHorizon(R))}return new yn(p,l.getCameraPoint(),_,l)}isPointQuery(){return this.screenBounds.length===1}bufferedScreenGeometry(r){return c.al(this.screenBounds[0],this.screenBounds.length===1?this.screenBounds[0]:this.screenBounds[1],r)}bufferedCameraGeometry(r){const l=this.screenBounds[0],p=this.screenBounds.length===1?this.screenBounds[0].add(new c.P(1,1)):this.screenBounds[1],_=c.al(l,p,0,!1);return this.cameraPoint.y>p.y&&(this.cameraPoint.x>l.x&&this.cameraPoint.x<p.x?_.splice(3,0,this.cameraPoint):this.cameraPoint.x>=p.x?_[2]=this.cameraPoint:this.cameraPoint.x<=l.x&&(_[3]=this.cameraPoint)),c.am(_,r)}bufferedCameraGeometryGlobe(r){const l=this.screenBounds[0],p=this.screenBounds.length===1?this.screenBounds[0].add(new c.P(1,1)):this.screenBounds[1],_=c.al(l,p,r),x=this.cameraPoint.clone();switch(3*((x.y>l.y)+(x.y>p.y))+((x.x>l.x)+(x.x>p.x))){case 0:_[0]=x,_[4]=x.clone();break;case 1:_.splice(1,0,x);break;case 2:_[1]=x;break;case 3:_.splice(4,0,x);break;case 5:_.splice(2,0,x);break;case 6:_[3]=x;break;case 7:_.splice(3,0,x);break;case 8:_[2]=x}return _}containsTile(r,l,p,_=0){const x=r.queryPadding/l._pixelsPerMercatorPixel+1,E=p?this._bufferedCameraMercator(x,l):this._bufferedScreenMercator(x,l);let R=r.tileID.wrap+(E.unwrapped?_:0);const B=E.polygon.map(Ae=>c.an(r.tileTransform,Ae,R));if(!c.ao(B,0,0,c.ag,c.ag))return;R=r.tileID.wrap+(this.screenGeometryMercator.unwrapped?_:0);const V=this.screenGeometryMercator.polygon.map(Ae=>c.ap(r.tileTransform,Ae,R)),U=V.map(Ae=>new c.P(Ae[0],Ae[1])),J=l.getFreeCameraOptions().position||new c.aa(0,0,0),Q=c.ap(r.tileTransform,J,R),le=V.map(Ae=>{const Pe=c.ab.vec3.sub(Ae,Ae,Q);return c.ab.vec3.normalize(Pe,Pe),new c.aq(Q,Pe)}),Ee=c.ar(r,1,l.zoom)*l._pixelsPerMercatorPixel;return{queryGeometry:this,tilespaceGeometry:U,tilespaceRays:le,bufferedTilespaceGeometry:B,bufferedTilespaceBounds:(be=c.as(B),be.min.x=c.aw(be.min.x,0,c.ag),be.min.y=c.aw(be.min.y,0,c.ag),be.max.x=c.aw(be.max.x,0,c.ag),be.max.y=c.aw(be.max.y,0,c.ag),be),tile:r,tileID:r.tileID,pixelToTileUnitsFactor:Ee};var be}_bufferedScreenMercator(r,l){const p=ir(r);if(this._screenRaycastCache[p])return this._screenRaycastCache[p];{let _;return _=l.projection.name==="globe"?this._projectAndResample(this.bufferedScreenGeometry(r),l):{polygon:this.bufferedScreenGeometry(r).map(x=>l.pointCoordinate3D(x)),unwrapped:!0},this._screenRaycastCache[p]=_,_}}_bufferedCameraMercator(r,l){const p=ir(r);if(this._cameraRaycastCache[p])return this._cameraRaycastCache[p];{let _;return _=l.projection.name==="globe"?this._projectAndResample(this.bufferedCameraGeometryGlobe(r),l):{polygon:this.bufferedCameraGeometry(r).map(x=>l.pointCoordinate3D(x)),unwrapped:!0},this._cameraRaycastCache[p]=_,_}}_projectAndResample(r,l){const p=function(x,E){const R=c.ab.mat4.multiply([],E.pixelMatrix,E.globeMatrix),B=[0,-c.ax,0,1],V=[0,c.ax,0,1],U=[0,0,0,1];c.ab.vec4.transformMat4(B,B,R),c.ab.vec4.transformMat4(V,V,R),c.ab.vec4.transformMat4(U,U,R);const J=new c.P(B[0]/B[3],B[1]/B[3]),Q=new c.P(V[0]/V[3],V[1]/V[3]),le=c.au(x,J)&&B[3]<U[3],Ee=c.au(x,Q)&&V[3]<U[3];if(!le&&!Ee)return null;const be=function(Dt,Pt,qt){for(let mn=1;mn<Dt.length;mn++){const nr=_r(Pt.pointCoordinate3D(Dt[mn-1]).x),Wn=_r(Pt.pointCoordinate3D(Dt[mn]).x);if(qt<0){if(nr<Wn)return{idx:mn,t:-nr/(Wn-1-nr)}}else if(Wn<nr)return{idx:mn,t:(1-nr)/(Wn+1-nr)}}return null}(x,E,le?-1:1);if(!be)return null;const{idx:Ae,t:Pe}=be;let Qe=Ae>1?Zn(x.slice(0,Ae),E):[],xt=Ae<x.length?Zn(x.slice(Ae),E):[];Qe=Qe.map(Dt=>new c.P(_r(Dt.x),Dt.y)),xt=xt.map(Dt=>new c.P(_r(Dt.x),Dt.y));const gt=[...Qe];gt.length===0&&gt.push(xt[xt.length-1]);const Bt=c.af(gt[gt.length-1].y,(xt.length===0?Qe[0]:xt[0]).y,Pe);let Rt;return Rt=le?[new c.P(0,Bt),new c.P(0,0),new c.P(1,0),new c.P(1,Bt)]:[new c.P(1,Bt),new c.P(1,1),new c.P(0,1),new c.P(0,Bt)],gt.push(...Rt),xt.length===0?gt.push(Qe[0]):gt.push(...xt),{polygon:gt.map(Dt=>new c.aa(Dt.x,Dt.y)),unwrapped:!1}}(r,l);if(p)return p;const _=function(x,E){let R=!1,B=-1/0,V=0;for(let J=0;J<x.length-1;J++)x[J].x>B&&(B=x[J].x,V=J);for(let J=0;J<x.length-1;J++){const Q=(V+J)%(x.length-1),le=x[Q],Ee=x[Q+1];Math.abs(le.x-Ee.x)>.5&&(le.x<Ee.x?(le.x+=1,Q===0&&(x[x.length-1].x+=1)):(Ee.x+=1,Q+1===x.length-1&&(x[0].x+=1)),R=!0)}const U=c.at(E.center.lng);return R&&U<Math.abs(U-1)&&x.forEach(J=>{J.x-=1}),{polygon:x,unwrapped:R}}(Zn(r,l).map(x=>new c.P(_r(x.x),x.y)),l);return{polygon:_.polygon.map(x=>new c.aa(x.x,x.y)),unwrapped:_.unwrapped}}}function Zn(m,r){return c.av(m,l=>{const p=r.pointCoordinate3D(l);l.x=p.x,l.y=p.y},1/256)}function _r(m){return m<0?1+m%1:m%1}function ir(m){return 100*m|0}function Or(m,r,l,p,_){const x=function(R,B){if(R)return _(R);if(B){if(m.url&&B.tiles&&m.tiles&&delete m.tiles,B.variants){if(!Array.isArray(B.variants))return _(new Error("variants must be an array"));for(const U of B.variants){if(U==null||typeof U!="object"||U.constructor!==Object)return _(new Error("variant must be an object"));if(!Array.isArray(U.capabilities))return _(new Error("capabilities must be an array"));if(U.capabilities.length===1&&U.capabilities[0]==="meshopt"){B=c.l(B,U);break}}}const V=c.ay(c.l({},B,m),["tilejson","tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding","vector_layers","raster_layers","worldview_options","worldview_default","worldview"]);V.tiles=r.canonicalizeTileset(V,m.url),_(null,V)}},E=function(R,B,V){if(!R)return null;if(!B&&!V)return R;V=V||R.worldview_default;const U=Object.values(R.language||{});if(U.length===0)return null;const J=Object.values(R.worldview||{});if(J.length===0)return null;const Q=U.every(Ee=>Ee===B),le=J.every(Ee=>Ee===V);return Q&&le?R:B in(R.language_options||{})||V in(R.worldview_options||{})?null:R.language_options&&R.worldview_options?R:null}(m.data,l,p);return E?c.q.frame(()=>x(null,E)):m.url?c.n(r.transformRequest(r.normalizeSourceURL(m.url,null,l,p),c.R.Source),x):c.q.frame(()=>{const V=m,{data:R}=V,B=i2(V,["data"]);x(null,B)})}class Qr{constructor(r,l,p){this.bounds=c.az.convert(this.validateBounds(r)),this.minzoom=l||0,this.maxzoom=p||24}validateBounds(r){return Array.isArray(r)&&r.length===4?[Math.max(-180,r[0]),Math.max(-90,r[1]),Math.min(180,r[2]),Math.min(90,r[3])]:[-180,-90,180,90]}contains(r){const l=Math.pow(2,r.z),p=Math.floor(c.at(this.bounds.getWest())*l),_=Math.floor(c.aA(this.bounds.getNorth())*l),x=Math.ceil(c.at(this.bounds.getEast())*l),E=Math.ceil(c.aA(this.bounds.getSouth())*l);return r.x>=p&&r.x<x&&r.y>=_&&r.y<E}}class ii extends c.E{constructor(r,l,p,_){if(super(),this.id=r,this.dispatcher=p,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,c.l(this,c.ay(l,["url","scheme","tileSize","promoteId"])),this._options=c.l({type:"vector"},l),this._collectResourceTiming=!!l.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(_),this._tileWorkers={},this._deduped=new c.aB}load(r){this._loaded=!1,this.fire(new c.z("dataloading",{dataType:"source"}));const l=Array.isArray(this.map._language)?this.map._language.join():this.map._language,p=this.map.getWorldview();this._tileJSONRequest=Or(this._options,this.map._requestManager,l,p,(_,x)=>{if(this._tileJSONRequest=null,this._loaded=!0,_)l&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${l}`),p&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${p}`),this.fire(new c.y(_));else if(x){if(c.l(this,x),this.hasWorldviews=!!x.worldview_options,x.worldview_default&&(this.worldviewDefault=x.worldview_default),x.vector_layers){this.vectorLayers=x.vector_layers,this.vectorLayerIds=[],this.localizableLayerIds=new Set;for(const E of x.vector_layers)this.vectorLayerIds.push(E.id),x.worldview&&x.worldview[E.source]&&this.localizableLayerIds.add(E.id)}x.bounds&&(this.tileBounds=new Qr(x.bounds,this.minzoom,this.maxzoom)),En(x.tiles,this.map._requestManager._customAccessToken),this.fire(new c.z("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new c.z("data",{dataType:"source",sourceDataType:"content"}))}r&&r(_)})}loaded(){return this._loaded}hasTile(r){return!this.tileBounds||this.tileBounds.contains(r.canonical)}onAdd(r){this.map=r,this.load()}reload(){this.cancelTileJSONRequest();const r=c.aC(this.id,this.scope);this.load(()=>this.map.style.clearSource(r))}setTiles(r){return this._options.tiles=r,this.reload(),this}setUrl(r){return this.url=r,this._options.url=r,this.reload(),this}onRemove(r){this.cancelTileJSONRequest()}serialize(){return c.l({},this._options)}loadTile(r,l){const p=r.tileID.canonical.url(this.tiles,this.scheme),_=this.map._requestManager.normalizeTileURL(p),x=this.map._requestManager.transformRequest(_,c.R.Tile),E=this.map.style?this.map.style.getLut(this.scope):null,R=E?{image:E.image.clone()}:null,B={request:x,data:void 0,uid:r.uid,tileID:r.tileID,tileZoom:r.tileZoom,zoom:r.tileID.overscaledZ,maxZoom:this.maxzoom,lut:R,tileSize:this.tileSize*r.tileID.overscaleFactor(),type:this.type,source:this.id,scope:this.scope,pixelRatio:c.q.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:r.isSymbolTile,brightness:this.map.style&&this.map.style.getBrightness()||0,extraShadowCaster:r.isExtraShadowCaster,tessellationStep:this.map._tessellationStep,scaleFactor:this.map.getScaleFactor()};if(this.hasWorldviews&&c.f(p)&&(B.worldview=this.map.getWorldview()||this.worldviewDefault,B.localizableLayerIds=this.localizableLayerIds),B.request.collectResourceTiming=this._collectResourceTiming,r.actor&&r.state!=="expired")r.state==="loading"?r.reloadCallback=l:r.request=r.actor.send("reloadTile",B,V.bind(this));else if(r.actor=this._tileWorkers[_]=this._tileWorkers[_]||this.dispatcher.getActor(),this.dispatcher.ready)r.request=r.actor.send("loadTile",B,V.bind(this),void 0,!0);else{const U=c.aD.call({deduped:this._deduped},B,(J,Q)=>{J||!Q?V.call(this,J):(B.data={cacheControl:Q.cacheControl,expires:Q.expires,rawData:Q.rawData.slice(0)},r.actor&&r.actor.send("loadTile",B,V.bind(this),void 0,!0))},!0);r.request={cancel:U}}function V(U,J){return delete r.request,r.aborted?l(null):U&&U.status!==404?l(U):(J&&J.resourceTiming&&(r.resourceTiming=J.resourceTiming),this.map._refreshExpiredTiles&&J&&r.setExpiryData(J),r.loadVectorData(J,this.map.painter),c.aE(this.dispatcher),l(null),void(r.reloadCallback&&(this.loadTile(r,r.reloadCallback),r.reloadCallback=null)))}}abortTile(r){r.request&&(r.request.cancel(),delete r.request),r.actor&&r.actor.send("abortTile",{uid:r.uid,type:this.type,source:this.id,scope:this.scope})}unloadTile(r,l){r.actor&&r.actor.send("removeTile",{uid:r.uid,type:this.type,source:this.id,scope:this.scope}),r.destroy()}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}class Ui extends c.E{constructor(r,l,p,_){super(),this.id=r,this.dispatcher=p,this.setEventedParent(_),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=c.l({type:"raster"},l),c.l(this,c.ay(l,["url","scheme","tileSize"]))}load(r){this._loaded=!1,this.fire(new c.z("dataloading",{dataType:"source"})),this._tileJSONRequest=Or(this._options,this.map._requestManager,null,null,(l,p)=>{this._tileJSONRequest=null,this._loaded=!0,l?this.fire(new c.y(l)):p&&(c.l(this,p),p.raster_layers&&(this.rasterLayers=p.raster_layers,this.rasterLayerIds=this.rasterLayers.map(_=>_.id)),p.bounds&&(this.tileBounds=new Qr(p.bounds,this.minzoom,this.maxzoom)),En(p.tiles),this.fire(new c.z("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new c.z("data",{dataType:"source",sourceDataType:"content"}))),r&&r(l)})}loaded(){return this._loaded}onAdd(r){this.map=r,this.load()}reload(){this.cancelTileJSONRequest();const r=c.aC(this.id,this.scope);this.load(()=>this.map.style.clearSource(r))}setTiles(r){return this._options.tiles=r,this.reload(),this}setUrl(r){return this.url=r,this._options.url=r,this.reload(),this}onRemove(r){this.cancelTileJSONRequest()}serialize(){return c.l({},this._options)}hasTile(r){return!this.tileBounds||this.tileBounds.contains(r.canonical)}loadTile(r,l){const p=c.q.devicePixelRatio>=2,_=this.map._requestManager.normalizeTileURL(r.tileID.canonical.url(this.tiles,this.scheme),p,this.tileSize);r.request=c.o(this.map._requestManager.transformRequest(_,c.R.Tile),(x,E,R,B)=>(delete r.request,r.aborted?(r.state="unloaded",l(null)):x?(r.state="errored",l(x)):E?(this.map._refreshExpiredTiles&&r.setExpiryData({cacheControl:R,expires:B}),r.setTexture(E,this.map.painter),r.state="loaded",c.aE(this.dispatcher),void l(null)):l(null)))}abortTile(r,l){r.request&&(r.request.cancel(),delete r.request),l&&l()}unloadTile(r,l){r.texture&&r.texture instanceof c.T?(r.destroy(!0),r.texture&&r.texture instanceof c.T&&this.map.painter.saveTileTexture(r.texture)):r.destroy(),l&&l()}hasTransition(){return!1}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}class mt extends Ui{constructor(r,l,p,_){super(r,l,p,_),this.type="raster-array",this.maxzoom=22,this._options=c.l({type:"raster-array"},l)}triggerRepaint(r){const l=this.map.painter._terrain,p=this.map.style.getSourceCache(this.id);l&&l.enabled&&p&&l._clearRenderCacheForTile(p.id,r.tileID),this.map.triggerRepaint()}loadTile(r,l){const p=this.map._requestManager.normalizeTileURL(r.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize),_=this.map._requestManager.transformRequest(p,c.R.Tile);r.requestParams=_,r.actor||(r.actor=this.dispatcher.getActor()),r.request=r.fetchHeader(void 0,(x,E,R,B)=>{if(delete r.request,r.aborted)return r.state="unloaded",l(null);if(x)return x.code===20?void 0:(r.state="errored",l(x));this.map._refreshExpiredTiles&&r.setExpiryData({cacheControl:R,expires:B}),r.state="empty",l(null)})}unloadTile(r,l){const p=r.texture;p&&p instanceof c.T?(r.destroy(!0),this.map.painter.saveTileTexture(p)):(r.destroy(),r.flushQueues(),r._isHeaderLoaded=!1,delete r._mrt,delete r.textureDescriptor),r.fbo&&(r.fbo.destroy(),delete r.fbo),delete r.request,delete r.requestParams,delete r.neighboringTiles,r.state="unloaded"}prepareTile(r,l,p){r._isHeaderLoaded&&(r.state!=="empty"&&(r.state="reloading"),r.fetchBand(l,p,(_,x)=>{if(_)return r.state="errored",this.fire(new c.y(_)),void this.triggerRepaint(r);x&&(r.setTexture(x,this.map.painter),r.state="loaded",this.triggerRepaint(r))}))}getInitialBand(r){if(!this.rasterLayers)return 0;const l=this.rasterLayers.find(({id:x})=>x===r),p=l&&l.fields,_=p&&p.bands&&p.bands;return _?_[0]:0}getTextureDescriptor(r,l,p){if(!r)return;const _=l.sourceLayer||this.rasterLayerIds&&this.rasterLayerIds[0];if(!_)return;let x=null;l instanceof c.aH?x=l.paint.get("raster-array-band"):l instanceof c.aI&&(x=l.paint.get("raster-particle-array-band"));const E=x||this.getInitialBand(_);if(E!=null)if(r.textureDescriptor){if(!r.updateNeeded(_,E)||p)return Object.assign({},r.textureDescriptor,{texture:r.texture})}else this.prepareTile(r,_,E)}}const _n={vector:ii,raster:Ui,"raster-dem":class extends Ui{constructor(m,r,l,p){super(m,r,l,p),this.type="raster-dem",this.maxzoom=22,this._options=c.l({type:"raster-dem"},r),this.encoding=r.encoding||"mapbox"}loadTile(m,r){const l=this.map._requestManager.normalizeTileURL(m.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function p(_,x){_&&(m.state="errored",r(_)),x&&(m.dem=x,m.dem.onDeserialize(),m.needsHillshadePrepare=!0,m.needsDEMTextureUpload=!0,m.state="loaded",r(null))}m.request=c.o(this.map._requestManager.transformRequest(l,c.R.Tile),function(_,x,E,R){if(delete m.request,m.aborted)m.state="unloaded",r(null);else if(_)m.state="errored",r(_);else if(x){this.map._refreshExpiredTiles&&m.setExpiryData({cacheControl:E,expires:R});const B=ImageBitmap&&x instanceof ImageBitmap&&c.t(),V=1-(x.width-c.aF(x.width))/2;V<1||m.neighboringTiles||(m.neighboringTiles=this._getNeighboringTiles(m.tileID));const U=B?x:c.q.getImageData(x,V),J={uid:m.uid,coord:m.tileID,source:this.id,scope:this.scope,rawImageData:U,encoding:this.encoding,padding:V};m.actor&&m.state!=="expired"||(m.actor=this.dispatcher.getActor(),m.actor.send("loadDEMTile",J,p.bind(this),void 0,!0))}}.bind(this))}_getNeighboringTiles(m){const r=m.canonical,l=Math.pow(2,r.z),p=(r.x-1+l)%l,_=r.x===0?m.wrap-1:m.wrap,x=(r.x+1+l)%l,E=r.x+1===l?m.wrap+1:m.wrap,R={};return R[new c.aG(m.overscaledZ,_,r.z,p,r.y).key]={backfilled:!1},R[new c.aG(m.overscaledZ,E,r.z,x,r.y).key]={backfilled:!1},r.y>0&&(R[new c.aG(m.overscaledZ,_,r.z,p,r.y-1).key]={backfilled:!1},R[new c.aG(m.overscaledZ,m.wrap,r.z,r.x,r.y-1).key]={backfilled:!1},R[new c.aG(m.overscaledZ,E,r.z,x,r.y-1).key]={backfilled:!1}),r.y+1<l&&(R[new c.aG(m.overscaledZ,_,r.z,p,r.y+1).key]={backfilled:!1},R[new c.aG(m.overscaledZ,m.wrap,r.z,r.x,r.y+1).key]={backfilled:!1},R[new c.aG(m.overscaledZ,E,r.z,x,r.y+1).key]={backfilled:!1}),R}},"raster-array":mt,geojson:class extends c.E{constructor(m,r,l,p){super(),this.id=m,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=l.getActor(),this.setEventedParent(p),this._data=r.data,this._options=c.l({},r),this._collectResourceTiming=r.collectResourceTiming,r.maxzoom!==void 0&&(this.maxzoom=r.maxzoom),r.minzoom!==void 0&&(this.minzoom=r.minzoom),r.type&&(this.type=r.type),r.attribution&&(this.attribution=r.attribution),this.promoteId=r.promoteId;const _=c.ag/this.tileSize;this.workerOptions=c.l({source:this.id,scope:this.scope,cluster:r.cluster||!1,geojsonVtOptions:{buffer:(r.buffer!==void 0?r.buffer:128)*_,tolerance:(r.tolerance!==void 0?r.tolerance:.375)*_,extent:c.ag,maxZoom:this.maxzoom,lineMetrics:r.lineMetrics||!1,generateId:r.generateId||!1},superclusterOptions:{maxZoom:r.clusterMaxZoom!==void 0?r.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,r.clusterMinPoints||2),extent:c.ag,radius:(r.clusterRadius!==void 0?r.clusterRadius:50)*_,log:!1,generateId:r.generateId||!1},clusterProperties:r.clusterProperties,filter:r.filter,dynamic:r.dynamic},r.workerOptions)}onAdd(m){this.map=m,this.setData(this._data)}setData(m){return this._data=m,this._updateWorkerData(),this}updateData(m){if(!this._options.dynamic)return this.fire(new c.y(new Error("Can't call updateData on a GeoJSON source with dynamic set to false.")));if(typeof m!="string"&&(m.type==="Feature"&&(m={type:"FeatureCollection",features:[m]}),m.type!=="FeatureCollection"))return this.fire(new c.y(new Error("Data to update should be a feature or a feature collection.")));if(this._coalesce&&typeof m!="string"&&typeof this._data!="string"&&this._data.type==="FeatureCollection"){const r=new Map;for(const l of this._data.features)r.set(l.id,l);for(const l of m.features)r.set(l.id,l);this._data.features=[...r.values()]}else this._data=m;return this._updateWorkerData(!0),this}getClusterExpansionZoom(m,r){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:m,source:this.id,scope:this.scope},r),this}getClusterChildren(m,r){return this.actor.send("geojson.getClusterChildren",{clusterId:m,source:this.id,scope:this.scope},r),this}getClusterLeaves(m,r,l,p){return this.actor.send("geojson.getClusterLeaves",{source:this.id,scope:this.scope,clusterId:m,limit:r,offset:l},p),this}_updateWorkerData(m=!1){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new c.z("dataloading",{dataType:"source"})),this._loaded=!1;const r=c.l({append:m},this.workerOptions);r.scope=this.scope;const l=this._data;typeof l=="string"?(r.request=this.map._requestManager.transformRequest(c.q.resolveURL(l),c.R.Source),r.request.collectResourceTiming=this._collectResourceTiming):r.data=JSON.stringify(l),this._pendingLoad=this.actor.send(`${this.type}.loadData`,r,(p,_)=>{if(this._loaded=!0,this._pendingLoad=null,p)this.fire(new c.y(p));else{const x={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&_&&_.resourceTiming&&_.resourceTiming[this.id]&&(x.resourceTiming=_.resourceTiming[this.id]),m&&(this._partialReload=!0),this.fire(new c.z("data",x)),this._partialReload=!1,this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(m),this._coalesce=!1)})}loaded(){return this._loaded}reload(){const m=c.aC(this.id,this.scope);this.map.style.clearSource(m),this._updateWorkerData()}loadTile(m,r){const l=m.actor?"reloadTile":"loadTile";m.actor=this.actor;const p=this.map.style?this.map.style.getLut(this.scope):null,_=p?{image:p.image.clone()}:null,x=this._partialReload,E={type:this.type,uid:m.uid,tileID:m.tileID,tileZoom:m.tileZoom,zoom:m.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,lut:_,scope:this.scope,pixelRatio:c.q.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,brightness:this.map.style&&this.map.style.getBrightness()||0,scaleFactor:this.map.getScaleFactor(),partial:x};m.request=this.actor.send(l,E,(R,B)=>x&&!B?(m.state="loaded",r(null)):(delete m.request,m.destroy(),m.aborted?r(null):R?r(R):(m.loadVectorData(B,this.map.painter,l==="reloadTile"),r(null))),void 0,l==="loadTile")}abortTile(m){m.request&&(m.request.cancel(),delete m.request),m.aborted=!0}unloadTile(m,r){this.actor.send("removeTile",{uid:m.uid,type:this.type,source:this.id,scope:this.scope}),m.destroy()}onRemove(m){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return c.l({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends c.aJ{constructor(m,r,l,p){super(m,r,l,p),this.roundZoom=!0,this.type="video",this.options=r}load(){this._loaded=!1;const m=this.options;this.urls=[];for(const r of m.urls)this.urls.push(this.map._requestManager.transformRequest(r,c.R.Source).url);c.aK(this.urls,(r,l)=>{this._loaded=!0,r?this.fire(new c.y(r)):l&&(this.video=l,this.video.loop=!0,this.video.setAttribute("playsinline",""),this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(m){if(this.video){const r=this.video.seekable;m<r.start(0)||m>r.end(0)?this.fire(new c.y(new c.V(`sources.${this.id}`,null,`Playback for this video can be set only between the ${r.start(0)} and ${r.end(0)}-second mark.`))):this.video.currentTime=m}}getVideo(){return this.video}onAdd(m){this.map||(this.map=m,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const m=this.map.painter.context,r=m.gl;this.texture?this.video.paused||(this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE),r.texSubImage2D(r.TEXTURE_2D,0,0,0,r.RGBA,r.UNSIGNED_BYTE,this.video)):(this.texture=new c.T(m,this.video,r.RGBA8),this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(m)}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:c.aJ,model:class extends c.E{constructor(m,r,l,p){super(),this.id=m,this.type="model",this.models=[],this._loaded=!1,this._options=r}load(){const m=[];for(const r in this._options.models){const l=this._options.models[r],p=c.aM(this.map._requestManager.transformRequest(l.uri,c.R.Model).url).then(_=>{if(!_)return;const x=c.aN(_),E=new c.aO(r,l.position,l.orientation,x);E.computeBoundsAndApplyParent(),this.models.push(E)}).catch(_=>{this.fire(new c.y(new Error(`Could not load model ${r} from ${l.uri}: ${_.message}`)))});m.push(p)}return Promise.allSettled(m).then(()=>{this._loaded=!0,this.fire(new c.z("data",{dataType:"source",sourceDataType:"metadata"}))}).catch(r=>{this.fire(new c.y(new Error(`Could not load models: ${r.message}`)))})}onAdd(m){this.map=m,this.load()}hasTransition(){return!1}loaded(){return this._loaded}getModels(){return this.models}loadTile(m,r){}serialize(){return{type:"model"}}},"batched-model":class extends c.E{constructor(m,r,l,p){super(),this.type="batched-model",this.id=m,this.tileSize=512,this._options=r,this.tiles=this._options.tiles,this.maxzoom=r.maxzoom||19,this.minzoom=r.minzoom||0,this.roundZoom=!0,this.usedInConflation=!0,this.dispatcher=l,this.reparseOverscaled=!1,this.scheme="xyz",this._loaded=!1,this.setEventedParent(p)}onAdd(m){this.map=m,this.load()}reload(){this.cancelTileJSONRequest();const m=c.aC(this.id,this.scope);this.load(()=>this.map.style.clearSource(m))}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}load(m){this._loaded=!1,this.fire(new c.z("dataloading",{dataType:"source"}));const r=Array.isArray(this.map._language)?this.map._language.join():this.map._language,l=this.map.getWorldview();this._tileJSONRequest=Or(this._options,this.map._requestManager,r,l,(p,_)=>{this._tileJSONRequest=null,this._loaded=!0,p?(r&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${r}`),l&&l.length!==2&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${l}`),this.fire(new c.y(p))):_&&(c.l(this,_),_.bounds&&(this.tileBounds=new Qr(_.bounds,this.minzoom,this.maxzoom)),En(_.tiles,this.map._requestManager._customAccessToken),this.fire(new c.z("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new c.z("data",{dataType:"source",sourceDataType:"content"}))),m&&m(p)})}hasTransition(){return!1}hasTile(m){return!this.tileBounds||this.tileBounds.contains(m.canonical)}loaded(){return this._loaded}loadTile(m,r){const l=this.map._requestManager.normalizeTileURL(m.tileID.canonical.url(this.tiles,this.scheme)),p={request:this.map._requestManager.transformRequest(l,c.R.Tile),data:void 0,uid:m.uid,tileID:m.tileID,tileZoom:m.tileZoom,zoom:m.tileID.overscaledZ,tileSize:this.tileSize*m.tileID.overscaleFactor(),type:this.type,source:this.id,scope:this.scope,showCollisionBoxes:this.map.showCollisionBoxes,isSymbolTile:m.isSymbolTile,brightness:this.map.style&&this.map.style.getBrightness()||0,lut:null,maxZoom:null,promoteId:null,pixelRatio:null,scaleFactor:null};if(m.actor&&m.state!=="expired")if(m.state==="loading")m.reloadCallback=r;else{if(m.buckets){const x=Object.values(m.buckets);for(const E of x)E.dirty=!0;return void(m.state="loaded")}m.request=m.actor.send("reloadTile",p,_.bind(this))}else m.actor=this.dispatcher.getActor(),m.request=m.actor.send("loadTile",p,_.bind(this),void 0,!0);function _(x,E){return m.aborted?r(null):x&&x.status!==404?r(x):(this.map._refreshExpiredTiles&&E&&m.setExpiryData(E),m.loadModelData(E,this.map.painter),m.state="loaded",void r(null))}}serialize(){return c.l({},this._options)}},canvas:class extends c.aJ{constructor(m,r,l,p){super(m,r,l,p),r.coordinates?Array.isArray(r.coordinates)&&r.coordinates.length===4&&!r.coordinates.some(_=>!Array.isArray(_)||_.length!==2||_.some(x=>typeof x!="number"))||this.fire(new c.y(new c.V(`sources.${m}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new c.y(new c.V(`sources.${m}`,null,'missing required property "coordinates"'))),r.animate&&typeof r.animate!="boolean"&&this.fire(new c.y(new c.V(`sources.${m}`,null,'optional "animate" property must be a boolean value'))),r.canvas?typeof r.canvas=="string"||r.canvas instanceof HTMLCanvasElement||this.fire(new c.y(new c.V(`sources.${m}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new c.y(new c.V(`sources.${m}`,null,'missing required property "canvas"'))),this.options=r,this.animate=r.animate===void 0||r.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new c.y(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(m){this.map=m,this.load(),this.canvas&&this.animate&&this.play()}onRemove(m){this.pause()}prepare(){let m=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,m=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,m=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const r=this.map.painter.context;this.texture?!m&&!this._playing||this.texture instanceof c.aL||this.texture.update(this.canvas,{premultiply:!0}):this.texture=new c.T(r,this.canvas,r.gl.RGBA8,{premultiply:!0}),this._prepareData(r)}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const m of[this.canvas.width,this.canvas.height])if(isNaN(m)||m<=0)return!0;return!1}},custom:class extends c.E{constructor(m,r,l,p){super(),this.id=m,this.type="custom",this._dataType="raster",this._dispatcher=l,this._implementation=r,this.setEventedParent(p),this.scheme="xyz",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new c.y(new Error(`Missing implementation for ${this.id} custom source`))),this._implementation.loadTile||this.fire(new c.y(new Error(`Missing loadTile implementation for ${this.id} custom source`))),this._implementation.bounds&&(this.tileBounds=new Qr(this._implementation.bounds,this.minzoom,this.maxzoom)),r.update=this._update.bind(this),r.clearTiles=this._clearTiles.bind(this),r.coveringTiles=this._coveringTiles.bind(this),c.l(this,c.ay(r,["dataType","scheme","minzoom","maxzoom","tileSize","attribution","minTileCacheSize","maxTileCacheSize"]))}serialize(){return c.ay(this,["type","scheme","minzoom","maxzoom","tileSize","attribution"])}load(){this._loaded=!0,this.fire(new c.z("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new c.z("data",{dataType:"source",sourceDataType:"content"}))}loaded(){return this._loaded}onAdd(m){this.map=m,this._loaded=!1,this.fire(new c.z("dataloading",{dataType:"source"})),this._implementation.onAdd&&this._implementation.onAdd(m),this.load()}onRemove(m){this._implementation.onRemove&&this._implementation.onRemove(m)}hasTile(m){if(this._implementation.hasTile){const{x:r,y:l,z:p}=m.canonical;return this._implementation.hasTile({x:r,y:l,z:p})}return!this.tileBounds||this.tileBounds.contains(m.canonical)}loadTile(m,r){const{x:l,y:p,z:_}=m.tileID.canonical,x=new AbortController;m.request=Promise.resolve(this._implementation.loadTile({x:l,y:p,z:_},{signal:x.signal})).then(function(E){return delete m.request,m.aborted?(m.state="unloaded",r(null)):E===void 0?(m.state="errored",r(null)):E===null?(this.loadTileData(m,{width:this.tileSize,height:this.tileSize,data:null}),m.state="loaded",r(null)):function(R){return R instanceof ImageData||R instanceof HTMLCanvasElement||R instanceof ImageBitmap||R instanceof HTMLImageElement}(E)?(this.loadTileData(m,E),m.state="loaded",void r(null)):(m.state="errored",r(new Error(`Can't infer data type for ${this.id}, only raster data supported at the moment`)))}.bind(this)).catch(E=>{E.code!==20&&(m.state="errored",r(E))}),m.request.cancel=()=>x.abort()}loadTileData(m,r){m.setTexture(r,this.map.painter)}unloadTile(m,r){if(m.texture&&m.texture instanceof c.T?(m.destroy(!0),m.texture&&m.texture instanceof c.T&&this.map.painter.saveTileTexture(m.texture)):m.destroy(),this._implementation.unloadTile){const{x:l,y:p,z:_}=m.tileID.canonical;this._implementation.unloadTile({x:l,y:p,z:_})}r&&r()}abortTile(m,r){m.request&&m.request.cancel&&(m.request.cancel(),delete m.request),r&&r()}hasTransition(){return!1}_coveringTiles(){return this.map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map(m=>({x:m.canonical.x,y:m.canonical.y,z:m.canonical.z}))}_clearTiles(){const m=c.aC(this.id,this.scope);this.map.style.clearSource(m)}_update(){this.fire(new c.z("data",{dataType:"source",sourceDataType:"content"}))}}},Ut=function(m,r,l,p){const _=new _n[r.type](m,r,l,p);if(_.id!==m)throw new Error(`Expected Source id to be ${m} instead of ${_.id}`);return c.aP(["load","abort","unload","serialize","prepare"],_),_};function An(m,r,l=""){return`${l}:${r.id||""}:${r.layer.id}:${function(p){if("layerId"in p)return`layer:${p.layerId}`;{const{featuresetId:_,importId:x}=p;return`featureset:${_}${x?`:import:${x}`:""}`}}(m.target)}`}function or(m,r,l,p=""){if(m.uniqueFeatureID){const _=An(m,r,p);if(l.has(_))return!0;l.add(_)}return!1}function qr(m,r,l,p,_=!1){const x=r.sourceCache.transform,E=r.sourceCache.tilesIn(m,r.has3DLayers,_);E.sort($i);const R=[];for(const B of E){const V=B.tile.queryRenderedFeatures(r,B,l,p,x,_);Object.keys(V).length&&R.push({wrappedTileID:B.tile.tileID.wrapped().key,queryResults:V})}return R.length===0?{}:function(B){const V={},U={};for(const J of B){const Q=J.queryResults,le=J.wrappedTileID,Ee=U[le]=U[le]||{};for(const be in Q){const Ae=Q[be],Pe=Ee[be]=Ee[be]||{},Qe=V[be]=V[be]||[];for(const xt of Ae)Pe[xt.featureIndex]||(Pe[xt.featureIndex]=!0,Qe.push(xt))}}return V}(R)}function Mi(m,r,l,p,_){const x={},E=p.queryRenderedSymbols(m),R=[];for(const B of Object.keys(E).map(Number))R.push(_[B]);R.sort($i);for(const B of R){const V=B.featureIndex.lookupSymbolFeatures(E[B.bucketInstanceId],B.bucketIndex,B.sourceLayerIndex,r,l);for(const U in V){const J=x[U]=x[U]||[],Q=V[U];Q.sort((le,Ee)=>{const be=B.featureSortOrder;if(be){const Ae=be.indexOf(le.featureIndex);return be.indexOf(Ee.featureIndex)-Ae}return Ee.featureIndex-le.featureIndex});for(const le of Q)J.push(le)}}return x}function fo(m,r){const l=m.getRenderableIds().map(x=>m.getTileByID(x)),p=[],_={};for(let x=0;x<l.length;x++){const E=l[x],R=E.tileID.canonical.key;_[R]||(_[R]=!0,E.querySourceFeatures(p,r))}return p}function $i(m,r){const l=m.tileID,p=r.tileID;return l.overscaledZ-p.overscaledZ||l.canonical.y-p.canonical.y||l.wrap-p.wrap||l.canonical.x-p.canonical.x}function Qi(m,r){const l={};if(!r)return l;for(const p of m){const _=p.layerIds.map(x=>r.getLayer(x)).filter(Boolean);if(_.length!==0){p.layers=_,p.stateDependentLayerIds&&(p.stateDependentLayers=p.stateDependentLayerIds.map(x=>_.filter(E=>E.id===x)[0]));for(const x of _)l[x.fqid]=p}}return l}const co=32,Ni=33,Io=new Uint16Array(8184);for(let m=0;m<2046;m++){let r=m+2,l=0,p=0,_=0,x=0,E=0,R=0;for(1&r?_=x=E=co:l=p=R=co;(r>>=1)>1;){const V=l+_>>1,U=p+x>>1;1&r?(_=l,x=p,l=E,p=R):(l=_,p=x,_=E,x=R),E=V,R=U}const B=4*m;Io[B+0]=l,Io[B+1]=p,Io[B+2]=_,Io[B+3]=x}const Wo=new Uint16Array(2178),$o=new Uint8Array(1089),vo=new Uint16Array(1089);function Oo(m){return m===0?-.03125:m===32?.03125:0}const zo={type:2,extent:c.ag,loadGeometry:()=>[[new c.P(0,0),new c.P(c.ag+1,0),new c.P(c.ag+1,c.ag+1),new c.P(0,c.ag+1),new c.P(0,0)]]};class Jo{constructor(r,l,p,_,x){this.tileID=r,this.uid=c.aV(),this.uses=0,this.tileSize=l,this.tileZoom=p,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=x,_&&_.style&&(this._lastUpdatedBrightness=_.style.getBrightness()),this.expiredRequestCount=0,this.state="loading",_&&_.transform&&(this.projection=_.transform.projection)}registerFadeDuration(r){const l=r+this.timeAdded;l<c.q.now()||this.fadeEndTime&&l<this.fadeEndTime||(this.fadeEndTime=l)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}get tileTransform(){return this._tileTransform||(this._tileTransform=c.aQ(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(r,l,p){if(this.unloadVectorData(),this.state="loaded",r){r.featureIndex&&(this.latestFeatureIndex=r.featureIndex,r.rawTileData?(this.latestRawTileData=r.rawTileData,this.latestFeatureIndex.rawTileData=r.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=r.collisionBoxArray,this.buckets=Qi(r.buckets,l.style),this.hasSymbolBuckets=!1;for(const _ in this.buckets){const x=this.buckets[_];if(x instanceof c.aX){if(this.hasSymbolBuckets=!0,!p)break;x.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const _ in this.buckets){const x=this.buckets[_];if(x instanceof c.aX&&x.hasRTLText){this.hasRTLText=!0,c.aY();break}}this.queryPadding=0;for(const _ in this.buckets){const x=this.buckets[_],E=l.style.getOwnLayer(_);if(!E)continue;const R=E.queryRadius(x);this.queryPadding=Math.max(this.queryPadding,R)}r.imageAtlas&&(this.imageAtlas=r.imageAtlas),r.glyphAtlasImage&&(this.glyphAtlasImage=r.glyphAtlasImage),r.lineAtlas&&(this.lineAtlas=r.lineAtlas),this._lastUpdatedBrightness=r.brightness}else this.collisionBoxArray=new c.aW}unloadVectorData(){if(this.hasData()){for(const r in this.buckets)this.buckets[r].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}loadModelData(r,l,p){r&&(r.resourceTiming&&(this.resourceTiming=r.resourceTiming),this.buckets=Object.assign({},this.buckets,Qi(r.buckets,l.style)),r.featureIndex&&(this.latestFeatureIndex=r.featureIndex))}getBucket(r){return this.buckets[r.fqid]}upload(r){for(const _ in this.buckets){const x=this.buckets[_];x.uploadPending()&&x.upload(r)}const l=r.gl,p=this.imageAtlas;if(p&&!p.uploaded){const _=!!Object.keys(p.patternPositions).length;this.imageAtlasTexture=new c.T(r,p.image,l.RGBA8,{useMipmap:_}),this.imageAtlas.uploaded=!0}this.glyphAtlasImage&&(this.glyphAtlasTexture=new c.T(r,this.glyphAtlasImage,l.R8),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new c.T(r,this.lineAtlas.image,l.R8),this.lineAtlas.uploaded=!0)}prepare(r,l,p){if(this.imageAtlas&&this.imageAtlasTexture&&this.imageAtlas.patchUpdatedImages(r,this.imageAtlasTexture,p),!l||!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData)return;const _=l.style.getBrightness();(this._lastUpdatedBrightness||_)&&(this._lastUpdatedBrightness&&_&&Math.abs(this._lastUpdatedBrightness-_)<.001||(this.updateBuckets(l,this._lastUpdatedBrightness!==_),this._lastUpdatedBrightness=_))}queryRenderedFeatures(r,l,p,_,x,E){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData&&!this.latestFeatureIndex.is3DTile)return{};const R=function(B,V){const U=c.ab.mat4.fromScaling([],[.5*B.width,.5*-B.height,1]);return c.ab.mat4.translate(U,U,[1,-1,0]),c.ab.mat4.multiply(U,U,B.calculateProjMatrix(V.toUnwrapped())),Float32Array.from(U)}(x,this.tileID);return this.latestFeatureIndex.query(r,{tilespaceGeometry:l,pixelPosMatrix:R,transform:_,availableImages:p,tileTransform:this.tileTransform})}querySourceFeatures(r,l){const p=this.latestFeatureIndex;if(!p||!p.rawTileData)return;const _=p.loadVTLayers(),x=l?l.sourceLayer:"",E=_._geojsonTileLayer||_[x];if(!E)return;const R=c.aZ(l&&l.filter),{z:B,x:V,y:U}=this.tileID.canonical,J={z:B,x:V,y:U};for(let Q=0;Q<E.length;Q++){const le=E.feature(Q);if(R.needGeometry){const Ae=c.a_(le,!0);if(!R.filter(new c.a8(this.tileID.overscaledZ),Ae,this.tileID.canonical))continue}else if(!R.filter(new c.a8(this.tileID.overscaledZ),le))continue;const Ee=p.getId(le,x),be=new c.a$(le,B,V,U,Ee);be.tile=J,r.push(be)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return!!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(r){const l=this.expirationTime;if(r.cacheControl){const p=c.b0(r.cacheControl);p["max-age"]&&(this.expirationTime=Date.now()+1e3*p["max-age"])}else r.expires&&(this.expirationTime=new Date(r.expires).getTime());if(this.expirationTime){const p=Date.now();let _=!1;if(this.expirationTime>p)_=!1;else if(l)if(this.expirationTime<l)_=!0;else{const x=this.expirationTime-l;x?this.expirationTime=p+Math.max(x,3e4):_=!0}else _=!0;_?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}refreshFeatureState(r){this.latestFeatureIndex&&(this.latestFeatureIndex.rawTileData||this.latestFeatureIndex.is3DTile)&&r&&this.updateBuckets(r)}updateBuckets(r,l){if(!this.latestFeatureIndex||!r.style)return;const p=this.latestFeatureIndex.loadVTLayers(),_=r.style.listImages(),x=r.style.getBrightness();for(const E in this.buckets){if(!r.style.hasLayer(E))continue;const R=this.buckets[E],B=R.layers[0],V=B.sourceLayer||"_geojsonTileLayer",U=p[V],J=r.style.getLayerSourceCache(B);let Q={};J&&(Q=J._state.getState(V,void 0));const le=this.imageAtlas&&this.imageAtlas.patternPositions||{},Ee=Object.keys(Q).length>0&&!l;Ee&&!R.stateDependentLayers.length&&!l||R.update(Q,U,_,le,Ee?R.stateDependentLayers:R.layers,l,x),(R instanceof c.b1||R instanceof c.b2)&&r._terrain&&r._terrain.enabled&&J&&R.programConfigurations.needsUpload&&r._terrain._clearRenderCacheForTile(J.id,this.tileID);const be=r&&r.style&&r.style.getOwnLayer(E);be&&(this.queryPadding=Math.max(this.queryPadding,be.queryRadius(R)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<c.q.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(r){this.symbolFadeHoldUntil=c.q.now()+r}setTexture(r,l){const p=l.context,_=p.gl;this.texture=this.texture||l.getTileTexture(r.width),this.texture&&this.texture instanceof c.T?this.texture.update(r):(this.texture=new c.T(p,r,_.RGBA8,{useMipmap:!0}),this.texture.bind(_.LINEAR,_.CLAMP_TO_EDGE))}setDependencies(r,l){const p={};for(const _ of l)p[_]=!0;this.dependencies[r]=p}hasDependency(r,l){for(const p of r){const _=this.dependencies[p];if(_){for(const x of l)if(_[x])return!0}}return!1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(r,l){if(!l||l.name==="mercator"||this._tileDebugBuffer)return;const p=c.b3(zo,this.tileID.canonical,this.tileTransform)[0],_=new c.b4,x=new c.b5;for(let E=0;E<p.length;E++){const{x:R,y:B}=p[E];_.emplaceBack(R,B),x.emplaceBack(E)}x.emplaceBack(0),this._tileDebugIndexBuffer=r.createIndexBuffer(x),this._tileDebugBuffer=r.createVertexBuffer(_,c.b6.members),this._tileDebugSegments=c.b7.simpleSegment(0,0,_.length,x.length)}_makeTileBoundsBuffers(r,l){if(this._tileBoundsBuffer||!l||l.name==="mercator")return;const p=c.b3(zo,this.tileID.canonical,this.tileTransform)[0];let _,x;if(this.isRaster){const E=function(R,B){const V=c.aQ(R,B),U=Math.pow(2,R.z);for(let Ae=0;Ae<Ni;Ae++)for(let Pe=0;Pe<Ni;Pe++){const Qe=c.aR((R.x+(Pe+Oo(Pe))/co)/U),xt=c.aS((R.y+(Ae+Oo(Ae))/co)/U),gt=B.project(Qe,xt),Bt=Ae*Ni+Pe;Wo[2*Bt+0]=Math.round((gt.x*V.scale-V.x)*c.ag),Wo[2*Bt+1]=Math.round((gt.y*V.scale-V.y)*c.ag)}$o.fill(0),vo.fill(0);for(let Ae=2045;Ae>=0;Ae--){const Pe=4*Ae,Qe=Io[Pe+0],xt=Io[Pe+1],gt=Io[Pe+2],Bt=Io[Pe+3],Rt=Qe+gt>>1,Dt=xt+Bt>>1,Pt=Rt+Dt-xt,qt=Dt+Qe-Rt,mn=xt*Ni+Qe,nr=Bt*Ni+gt,Wn=Dt*Ni+Rt,Pr=Math.hypot((Wo[2*mn+0]+Wo[2*nr+0])/2-Wo[2*Wn+0],(Wo[2*mn+1]+Wo[2*nr+1])/2-Wo[2*Wn+1])>=16;$o[Wn]=$o[Wn]||(Pr?1:0),Ae<1022&&($o[Wn]=$o[Wn]||$o[(xt+qt>>1)*Ni+(Qe+Pt>>1)]||$o[(Bt+qt>>1)*Ni+(gt+Pt>>1)])}const J=new c.aT,Q=new c.aU;let le=0;function Ee(Ae,Pe){const Qe=Pe*Ni+Ae;return vo[Qe]===0&&(J.emplaceBack(Wo[2*Qe+0],Wo[2*Qe+1],Ae*c.ag/co,Pe*c.ag/co),vo[Qe]=++le),vo[Qe]-1}function be(Ae,Pe,Qe,xt,gt,Bt){const Rt=Ae+Qe>>1,Dt=Pe+xt>>1;if(Math.abs(Ae-gt)+Math.abs(Pe-Bt)>1&&$o[Dt*Ni+Rt])be(gt,Bt,Ae,Pe,Rt,Dt),be(Qe,xt,gt,Bt,Rt,Dt);else{const Pt=Ee(Ae,Pe),qt=Ee(Qe,xt),mn=Ee(gt,Bt);Q.emplaceBack(Pt,qt,mn)}}return be(0,0,co,co,co,0),be(co,co,0,0,0,co),{vertices:J,indices:Q}}(this.tileID.canonical,l);_=E.vertices,x=E.indices}else{_=new c.aT,x=new c.aU;for(const{x:R,y:B}of p)_.emplaceBack(R,B,0,0);const E=c.b8(_.int16,void 0,4);for(let R=0;R<E.length;R+=3)x.emplaceBack(E[R],E[R+1],E[R+2])}this._tileBoundsBuffer=r.createVertexBuffer(_,c.b9.members),this._tileBoundsIndexBuffer=r.createIndexBuffer(x),this._tileBoundsSegments=c.b7.simpleSegment(0,0,_.length,x.length)}_makeGlobeTileDebugBuffers(r,l){const p=l.projection;if(!p||p.name!=="globe"||l.freezeTileCoverage)return;const _=this.tileID.canonical,x=c.ba(_,l),E=c.bb(x),R=c.ae(l.zoom);let B;R>0&&(B=c.ab.mat4.invert(new Float64Array(16),l.globeMatrix)),this._makeGlobeTileDebugBorderBuffer(r,_,l,E,B,R),this._makeGlobeTileDebugTextBuffer(r,_,l,E,B,R)}_globePoint(r,l,p,_,x,E,R){let B=c.bc(r,l,p);if(E){const V=1<<p.z,U=c.at(_.center.lng),J=c.aA(_.center.lat),Q=(p.x+.5)/V-U;let le=0;Q>.5?le=-1:Q<-.5&&(le=1);let Ee=(r/c.ag+p.x)/V+le,be=(l/c.ag+p.y)/V;Ee=(Ee-U)*_._pixelsPerMercatorPixel+U,be=(be-J)*_._pixelsPerMercatorPixel+J;const Ae=[Ee*_.worldSize,be*_.worldSize,0];c.ab.vec3.transformMat4(Ae,Ae,E),B=c.bd(B,Ae,R)}return c.ab.vec3.transformMat4(B,B,x)}_makeGlobeTileDebugBorderBuffer(r,l,p,_,x,E){const R=new c.b4,B=new c.b5,V=new c.be,U=(Q,le,Ee,be,Ae)=>{const Pe=(Ee-Q)/(Ae-1),Qe=(be-le)/(Ae-1),xt=R.length;for(let gt=0;gt<Ae;gt++){const Bt=Q+gt*Pe,Rt=le+gt*Qe;R.emplaceBack(Bt,Rt);const Dt=this._globePoint(Bt,Rt,l,p,_,x,E);V.emplaceBack(Dt[0],Dt[1],Dt[2]),B.emplaceBack(xt+gt)}},J=c.ag;U(0,0,J,0,16),U(J,0,J,J,16),U(J,J,0,J,16),U(0,J,0,0,16),this._tileDebugIndexBuffer=r.createIndexBuffer(B),this._tileDebugBuffer=r.createVertexBuffer(R,c.b6.members),this._globeTileDebugBorderBuffer=r.createVertexBuffer(V,c.bf.members),this._tileDebugSegments=c.b7.simpleSegment(0,0,R.length,B.length)}_makeGlobeTileDebugTextBuffer(r,l,p,_,x,E){const R=c.ag/4,B=new c.b4,V=new c.aU,U=new c.be,J=25;V.reserve(32),B.reserve(J),U.reserve(J);const Q=(le,Ee)=>J*le+Ee;for(let le=0;le<J;le++){const Ee=le*R;for(let be=0;be<J;be++){const Ae=be*R;B.emplaceBack(Ae,Ee);const Pe=this._globePoint(Ae,Ee,l,p,_,x,E);U.emplaceBack(Pe[0],Pe[1],Pe[2])}}for(let le=0;le<4;le++)for(let Ee=0;Ee<4;Ee++){const be=Q(le,Ee),Ae=Q(le,Ee+1),Pe=Q(le+1,Ee),Qe=Q(le+1,Ee+1);V.emplaceBack(be,Ae,Pe),V.emplaceBack(Pe,Ae,Qe)}this._tileDebugTextIndexBuffer=r.createIndexBuffer(V),this._tileDebugTextBuffer=r.createVertexBuffer(B,c.b6.members),this._globeTileDebugTextBuffer=r.createVertexBuffer(U,c.bf.members),this._tileDebugTextSegments=c.b7.simpleSegment(0,0,J,32)}destroy(r=!1){for(const l in this.buckets)this.buckets[l].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&(this.imageAtlasTexture.destroy(),delete this.imageAtlasTexture),this.glyphAtlasTexture&&(this.glyphAtlasTexture.destroy(),delete this.glyphAtlasTexture),this.lineAtlasTexture&&(this.lineAtlasTexture.destroy(),delete this.lineAtlasTexture),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),!r&&this.texture&&this.texture instanceof c.T&&(this.texture.destroy(),delete this.texture),this.hillshadeFBO&&(this.hillshadeFBO.destroy(),delete this.hillshadeFBO),this.dem&&delete this.dem,this.neighboringTiles&&delete this.neighboringTiles,this.demTexture&&(this.demTexture.destroy(),delete this.demTexture),this.rasterParticleState&&(this.rasterParticleState.destroy(),delete this.rasterParticleState),this.latestFeatureIndex=null,this.state="unloaded"}}c.bg.setPbf(c.bh);class to extends Jo{constructor(r,l,p,_,x){super(r,l,p,_,x),this._workQueue=[],this._fetchQueue=[],this._isHeaderLoaded=!1}setTexture(r,l){const p=l.context,_=p.gl;this.texture=this.texture||l.getTileTexture(r.width),this.texture&&this.texture instanceof c.T?this.texture.update(r,{premultiply:!1}):this.texture=new c.T(p,r,_.RGBA8,{premultiply:!1})}flushQueues(){for(;this._workQueue.length;)this._workQueue.pop()();for(;this._fetchQueue.length;)this._fetchQueue.pop()()}fetchHeader(r=16384,l){const p=this._mrt=new c.bg(30),_=Object.assign({},this.requestParams,{headers:{Range:"bytes=0-"+(r-1)}});return this.entireBuffer=null,this.request=c.bi(_,(x,E,R,B)=>{if(x)l(x);else try{const V=p.getHeaderLength(E);if(V>r)return void(this.request=this.fetchHeader(V,l));p.parseHeader(E),this._isHeaderLoaded=!0;let U=0;for(const J of Object.values(p.layers))U=Math.max(U,J.dataIndex[J.dataIndex.length-1].last_byte);E.byteLength>=U&&(this.entireBuffer=E),l(null,this.entireBuffer||E,R,B)}catch(V){l(V)}}),this.request}fetchBand(r,l,p){const _=this._mrt;if(!this._isHeaderLoaded||!_)return void p(new Error("Tile header is not ready"));const x=this.actor;if(!x)return void p(new Error("Can't fetch tile band without an actor"));let E;const R=(J,Q)=>{E.complete(J,Q),J?p(J):(this.updateTextureDescriptor(r,l),p(null,this.textureDescriptor&&this.textureDescriptor.img))},B=(J,Q)=>{if(J)return p(J);const le=x.send("decodeRasterArray",{buffer:Q,task:E},R,void 0,!0);this._workQueue.push(()=>{le&&le.cancel(),E.cancel()})},V=_.getLayer(r);if(!V)return void p(new Error(`Unknown sourceLayer "${r}"`));if(V.hasDataForBand(l))return this.updateTextureDescriptor(r,l),void p(null,this.textureDescriptor?this.textureDescriptor.img:null);const U=V.getDataRange([l]);if(E=_.createDecodingTask(U),!E||E.tasks.length)if(this.flushQueues(),this.entireBuffer)B(null,this.entireBuffer.slice(U.firstByte,U.lastByte+1));else{const J=Object.assign({},this.requestParams,{headers:{Range:`bytes=${U.firstByte}-${U.lastByte}`}}),Q=c.bi(J,B);this._fetchQueue.push(()=>{Q.cancel(),E.cancel()})}else p(null)}updateNeeded(r,l){return(!this.textureDescriptor||this.textureDescriptor.band!==l||this.textureDescriptor.layer!==r)&&this.state!=="errored"}updateTextureDescriptor(r,l){if(!this._mrt)return;const p=this._mrt.getLayer(r);if(!p||!p.hasBand(l)||!p.hasDataForBand(l))return;const{bytes:_,tileSize:x,buffer:E,offset:R,scale:B}=p.getBandView(l),V=x+2*E,U={data:_,width:V,height:V},J=this.texture;J&&J instanceof c.T&&J.update(U,{premultiply:!1}),this.textureDescriptor={layer:r,band:l,img:U,buffer:E,offset:R,tileSize:x,format:p.pixelFormat,mix:[B,256*B,65536*B,16777216*B]}}}class Co{constructor(r,l){this.max=r,this.onRemove=l,this.reset()}reset(){for(const r in this.data)for(const l of this.data[r])l.timeout&&clearTimeout(l.timeout),this.onRemove(l.value);return this.data={},this.order=[],this}add(r,l,p){const _=r.wrapped().key;this.data[_]===void 0&&(this.data[_]=[]);const x={value:l,timeout:void 0};if(p!==void 0&&(x.timeout=setTimeout(()=>{this.remove(r,x)},p)),this.data[_].push(x),this.order.push(_),this.order.length>this.max){const E=this._getAndRemoveByKey(this.order[0]);E&&this.onRemove(E)}return this}has(r){return r.wrapped().key in this.data}getAndRemove(r){return this.has(r)?this._getAndRemoveByKey(r.wrapped().key):null}_getAndRemoveByKey(r){const l=this.data[r].shift();return l.timeout&&clearTimeout(l.timeout),this.data[r].length===0&&delete this.data[r],this.order.splice(this.order.indexOf(r),1),l.value}getByKey(r){const l=this.data[r];return l?l[0].value:null}get(r){return this.has(r)?this.data[r.wrapped().key][0].value:null}remove(r,l){if(!this.has(r))return this;const p=r.wrapped().key,_=l===void 0?0:this.data[p].indexOf(l),x=this.data[p][_];return this.data[p].splice(_,1),x.timeout&&clearTimeout(x.timeout),this.data[p].length===0&&delete this.data[p],this.onRemove(x.value),this.order.splice(this.order.indexOf(p),1),this}setMaxSize(r){for(this.max=r;this.order.length>this.max;){const l=this._getAndRemoveByKey(this.order[0]);l&&this.onRemove(l)}return this}filter(r){const l=[];for(const p in this.data)for(const _ of this.data[p])r(_.value)||l.push(_);for(const p of l)this.remove(p.value.tileID,p)}}class mo{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(r,l,p){const _=String(l);if(this.stateChanges[r]=this.stateChanges[r]||{},this.stateChanges[r][_]=this.stateChanges[r][_]||{},c.l(this.stateChanges[r][_],p),this.deletedStates[r]===null){this.deletedStates[r]={};for(const x in this.state[r])x!==_&&(this.deletedStates[r][x]=null)}else if(this.deletedStates[r]&&this.deletedStates[r][_]===null){this.deletedStates[r][_]={};for(const x in this.state[r][_])p[x]||(this.deletedStates[r][_][x]=null)}else for(const x in p)this.deletedStates[r]&&this.deletedStates[r][_]&&this.deletedStates[r][_][x]===null&&delete this.deletedStates[r][_][x]}removeFeatureState(r,l,p){if(this.deletedStates[r]===null)return;const _=String(l);if(this.deletedStates[r]=this.deletedStates[r]||{},p&&l!==void 0)this.deletedStates[r][_]!==null&&(this.deletedStates[r][_]=this.deletedStates[r][_]||{},this.deletedStates[r][_][p]=null);else if(l!==void 0)if(this.stateChanges[r]&&this.stateChanges[r][_])for(p in this.deletedStates[r][_]={},this.stateChanges[r][_])this.deletedStates[r][_][p]=null;else this.deletedStates[r][_]=null;else this.deletedStates[r]=null}getState(r,l){const p=this.state[r]||{},_=this.stateChanges[r]||{},x=this.deletedStates[r];if(x===null)return{};if(l!==void 0){const R=String(l),B=c.l({},p[R],_[R]);if(x){const V=x[l];if(V===null)return{};for(const U in V)delete B[U]}return B}const E=c.l({},p,_);if(x)for(const R in x)delete E[R];return E}initializeTileState(r,l){r.refreshFeatureState(l)}coalesceChanges(r,l){const p={};for(const _ in this.stateChanges){this.state[_]=this.state[_]||{};const x={};for(const E in this.stateChanges[_])this.state[_][E]||(this.state[_][E]={}),c.l(this.state[_][E],this.stateChanges[_][E]),x[E]=this.state[_][E];p[_]=x}for(const _ in this.deletedStates){this.state[_]=this.state[_]||{};const x={};if(this.deletedStates[_]===null)for(const E in this.state[_])x[E]={},this.state[_][E]={};else for(const E in this.deletedStates[_]){if(this.deletedStates[_][E]===null)this.state[_][E]={};else if(this.state[_][E])for(const R of Object.keys(this.deletedStates[_][E]))delete this.state[_][E][R];x[E]=this.state[_][E]}p[_]=p[_]||{},c.l(p[_],x)}if(this.stateChanges={},this.deletedStates={},Object.keys(p).length!==0)for(const _ in r)r[_].refreshFeatureState(l)}}class so extends c.E{constructor(r,l,p){super(),this.id=r,this._onlySymbols=p,l.on("data",_=>{_.dataType==="source"&&_.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&_.dataType==="source"&&_.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform))}),l.on("error",()=>{this._sourceErrored=!0}),this._source=l,this._tiles={},this._cache=new Co(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._minTileCacheSize=l.minTileCacheSize,this._maxTileCacheSize=l.maxTileCacheSize,this._loadedParentTiles={},this.castsShadows=!1,this.tileCoverLift=0,this._coveredTiles={},this._shadowCasterTiles={},this._state=new mo,this._isRaster=this._source.type==="raster"||this._source.type==="raster-dem"||this._source.type==="raster-array"||this._source.type==="custom"&&this._source._dataType==="raster"}onAdd(r){this.map=r,this._minTileCacheSize=this._minTileCacheSize===void 0&&r?r._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=this._maxTileCacheSize===void 0&&r?r._maxTileCacheSize:this._maxTileCacheSize}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const r in this._tiles){const l=this._tiles[r];if(l.state!=="loaded"&&l.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const r=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,r&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(r,l){return r.isSymbolTile=this._onlySymbols,r.isExtraShadowCaster=this._shadowCasterTiles[r.tileID.key],this._source.loadTile(r,l)}_unloadTile(r){if(this._source.unloadTile)return this._source.unloadTile(r)}_abortTile(r){if(this._source.abortTile)return this._source.abortTile(r)}serialize(){return this._source.serialize()}prepare(r){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const l in this._tiles){const p=this._tiles[l];p.upload(r),p.prepare(this.map.style.imageManager,this.map?this.map.painter:null,this._source.scope)}}getIds(){return c.bj(this._tiles).map(r=>r.tileID).sort(Fi).map(r=>r.key)}getRenderableIds(r,l){const p=[];for(const _ in this._tiles)this._isIdRenderable(+_,r,l)&&p.push(this._tiles[_]);return r?p.sort((_,x)=>{const E=_.tileID,R=x.tileID,B=new c.P(E.canonical.x,E.canonical.y)._rotate(this.transform.angle),V=new c.P(R.canonical.x,R.canonical.y)._rotate(this.transform.angle);return E.overscaledZ-R.overscaledZ||V.y-B.y||V.x-B.x}).map(_=>_.tileID.key):p.map(_=>_.tileID).sort(Fi).map(_=>_.key)}hasRenderableParent(r){const l=this.findLoadedParent(r,0);return!!l&&this._isIdRenderable(l.tileID.key)}_isIdRenderable(r,l,p){return this._tiles[r]&&this._tiles[r].hasData()&&!this._coveredTiles[r]&&(l||!this._tiles[r].holdingForFade())&&(p||!this._shadowCasterTiles[r])}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const r in this._tiles)this._tiles[r].state!=="errored"&&this._reloadTile(+r,"reloading")}}_reloadTile(r,l){const p=this._tiles[r];p&&(p.state!=="loading"&&(p.state=l),this._loadTile(p,this._tileLoaded.bind(this,p,r,l)))}_tileLoaded(r,l,p,_){if(_)if(r.state="errored",_.status!==404)this._source.fire(new c.y(_,{tile:r}));else{if(this._source.fire(new c.z("data",{dataType:"source",sourceDataType:"error",sourceId:this._source.id,tile:r})),!(r.tileID.key in this._loadedParentTiles))return;if(this._source.type==="raster-dem"&&this.usedForTerrain&&this.map.painter.terrain){const x=this.map.painter.terrain;this.update(this.transform,x.getScaledDemTileSize(),!0),x.resetTileLookupCache(this.id)}else this.update(this.transform)}else r.timeAdded=c.q.now(),p==="expired"&&(r.refreshedUponExpiration=!0),this._setTileReloadTimer(l,r),this._source.type==="raster-dem"&&r.dem&&this._backfillDEM(r),this._state.initializeTileState(r,this.map?this.map.painter:null),this._source.fire(new c.z("data",{dataType:"source",tile:r,coord:r.tileID,sourceCacheId:this.id}))}_backfillDEM(r){const l=this.getRenderableIds();for(let _=0;_<l.length;_++){const x=l[_];if(r.neighboringTiles&&r.neighboringTiles[x]){const E=this.getTileByID(x);p(r,E),p(E,r)}}function p(_,x){if(!_.dem||_.dem.borderReady)return;_.needsHillshadePrepare=!0,_.needsDEMTextureUpload=!0;let E=x.tileID.canonical.x-_.tileID.canonical.x;const R=x.tileID.canonical.y-_.tileID.canonical.y,B=Math.pow(2,_.tileID.canonical.z),V=x.tileID.key;E===0&&R===0||Math.abs(R)>1||(Math.abs(E)>1&&(Math.abs(E+B)===1?E+=B:Math.abs(E-B)===1&&(E-=B)),x.dem&&_.dem&&(_.dem.backfillBorder(x.dem,E,R),_.neighboringTiles&&_.neighboringTiles[V]&&(_.neighboringTiles[V].backfilled=!0)))}}getTile(r){return this.getTileByID(r.key)}getTileByID(r){return this._tiles[r]}_retainLoadedChildren(r,l,p,_){for(const x in this._tiles){let E=this._tiles[x];if(_[x]||!E.hasData()||E.tileID.overscaledZ<=l||E.tileID.overscaledZ>p)continue;let R=E.tileID;for(;E&&E.tileID.overscaledZ>l+1;){const V=E.tileID.scaledTo(E.tileID.overscaledZ-1);E=this._tiles[V.key],E&&E.hasData()&&(R=V)}let B=R;for(;B.overscaledZ>l;)if(B=B.scaledTo(B.overscaledZ-1),r[B.key]){_[R.key]=R;break}}}findLoadedParent(r,l){if(r.key in this._loadedParentTiles){const p=this._loadedParentTiles[r.key];return p&&p.tileID.overscaledZ>=l?p:null}for(let p=r.overscaledZ-1;p>=l;p--){const _=r.scaledTo(p),x=this._getLoadedTile(_);if(x)return x}}_getLoadedTile(r){const l=this._tiles[r.key];return l&&l.hasData()?l:this._cache.getByKey(this._source.reparseOverscaled?r.wrapped().key:r.canonical.key)}updateCacheSize(r,l){l=l||this._source.tileSize;const p=Math.ceil(r.width/l)+1,_=Math.ceil(r.height/l)+1,x=Math.floor(p*_*5),E=typeof this._minTileCacheSize=="number"?Math.max(this._minTileCacheSize,x):x,R=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,E):E;this._cache.setMaxSize(R)}handleWrapJump(r){const l=Math.round((r-(this._prevLng===void 0?r:this._prevLng))/360);if(this._prevLng=r,l){const p={};for(const _ in this._tiles){const x=this._tiles[_];x.tileID=x.tileID.unwrapTo(x.tileID.wrap+l),p[x.tileID.key]=x}this._tiles=p;for(const _ in this._timers)clearTimeout(this._timers[_]),delete this._timers[_];for(const _ in this._tiles)this._setTileReloadTimer(+_,this._tiles[_])}}update(r,l,p,_){if(this.transform=r,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage||this.usedForTerrain&&!p)return;this.updateCacheSize(r,l),this.transform.projection.name!=="globe"&&this.handleWrapJump(this.transform.center.lng),this._shadowCasterTiles={},this._coveredTiles={};const x=this._source.type==="batched-model";let E,R=this._source.maxzoom;const B=this.map&&this.map.painter?this.map.painter._terrain:null;if(B&&B.sourceCache===this&&B.attenuationRange()){const J=B.attenuationRange()[0],Q=Math.floor(J)-Math.log2(B.getDemUpscale());R>Q&&(R=Q)}if(this.used||this.usedForTerrain){if(this._source.tileID)E=r.getVisibleUnwrappedCoordinates(this._source.tileID).map(J=>new c.aG(J.canonical.z,J.wrap,J.canonical.z,J.canonical.x,J.canonical.y));else if(this.tileCoverLift!==0){const J=r.clone();J.tileCoverLift=this.tileCoverLift,E=J.coveringTiles({tileSize:l||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:R,roundZoom:this._source.roundZoom&&!p,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain,calculateQuadrantVisibility:x}),this._source.minzoom<=1&&r.projection.name==="globe"&&(E.push(new c.aG(1,0,1,0,0)),E.push(new c.aG(1,0,1,1,0)),E.push(new c.aG(1,0,1,0,1)),E.push(new c.aG(1,0,1,1,1)))}else if(E=r.coveringTiles({tileSize:l||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:R,roundZoom:this._source.roundZoom&&!p,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain,calculateQuadrantVisibility:x}),this._source.hasTile){const J=this._source.hasTile.bind(this._source);E=E.filter(Q=>J(Q))}}else E=[];if(E.length>0&&this.castsShadows&&_&&this.transform.projection.name!=="globe"&&!this.usedForTerrain&&!Qo(this._source.type)){const J=r.coveringZoomLevel({tileSize:l||this._source.tileSize,roundZoom:this._source.roundZoom&&!p}),Q=Math.min(J,this._source.maxzoom);if(x){const le=r.extendTileCover(E,Q);for(const Ee of le)E.push(Ee)}else{const le=r.extendTileCover(E,Q,_);for(const Ee of le)this._shadowCasterTiles[Ee.key]=!0,E.push(Ee)}}const V=this._updateRetainedTiles(E);if(Qo(this._source.type)&&E.length!==0){const J={},Q={},le=Object.keys(V);for(const be of le){const Ae=V[be],Pe=this._tiles[be];if(!Pe||Pe.fadeEndTime&&Pe.fadeEndTime<=c.q.now())continue;const Qe=this.findLoadedParent(Ae,Math.max(Ae.overscaledZ-so.maxOverzooming,this._source.minzoom));Qe&&(this._addTile(Qe.tileID),J[Qe.tileID.key]=Qe.tileID),Q[be]=Ae}const Ee=E[E.length-1].overscaledZ;for(const be in this._tiles){const Ae=this._tiles[be];if(V[be]||!Ae.hasData())continue;let Pe=Ae.tileID;for(;Pe.overscaledZ>Ee;){Pe=Pe.scaledTo(Pe.overscaledZ-1);const Qe=this._tiles[Pe.key];if(Qe&&Qe.hasData()&&Q[Pe.key]){V[be]=Ae.tileID;break}}}for(const be in J)V[be]||(this._coveredTiles[be]=!0,V[be]=J[be])}for(const J in V)this._tiles[J].clearFadeHold();const U=c.bk(this._tiles,V);for(const J of U){const Q=this._tiles[J];Q.hasSymbolBuckets&&!Q.holdingForFade()?Q.setHoldDuration(this.map._fadeDuration):Q.hasSymbolBuckets&&!Q.symbolFadeFinished()||this._removeTile(+J)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const r in this._tiles)this._tiles[r].holdingForFade()&&this._removeTile(+r)}_updateRetainedTiles(r){const l={};if(r.length===0)return l;const p={},_=r.reduce((V,U)=>Math.min(V,U.overscaledZ),1/0),x=r[0].overscaledZ,E=Math.max(x-so.maxOverzooming,this._source.minzoom),R=Math.max(x+so.maxUnderzooming,this._source.minzoom),B={};for(const V of r){const U=this._addTile(V);l[V.key]=V,U.hasData()||_<this._source.maxzoom&&(B[V.key]=V)}this._retainLoadedChildren(B,_,R,l);for(const V of r){let U=this._tiles[V.key];if(U.hasData())continue;if(V.canonical.z>=this._source.maxzoom){const Q=V.children(this._source.maxzoom)[0],le=this.getTile(Q);if(le&&le.hasData()){l[Q.key]=Q;continue}}else{const Q=V.children(this._source.maxzoom);if(l[Q[0].key]&&l[Q[1].key]&&l[Q[2].key]&&l[Q[3].key])continue}let J=U.wasRequested();for(let Q=V.overscaledZ-1;Q>=E;--Q){const le=V.scaledTo(Q);if(p[le.key]||(p[le.key]=!0,U=this.getTile(le),!U&&J&&(U=this._addTile(le)),U&&(l[le.key]=le,J=U.wasRequested(),U.hasData())))break}}return l}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const r in this._tiles){const l=[];let p,_=this._tiles[r].tileID;for(;_.overscaledZ>0;){if(_.key in this._loadedParentTiles){p=this._loadedParentTiles[_.key];break}l.push(_.key);const x=_.scaledTo(_.overscaledZ-1);if(p=this._getLoadedTile(x),p)break;_=x}for(const x of l)this._loadedParentTiles[x]=p}}_addTile(r){let l=this._tiles[r.key];if(l)return l.isExtraShadowCaster!==!0||this._shadowCasterTiles[r.key]||this._reloadTile(r.key,"reloading"),l;l=this._cache.getAndRemove(r),l&&(this._setTileReloadTimer(r.key,l),l.tileID=r,this._state.initializeTileState(l,this.map?this.map.painter:null),this._cacheTimers[r.key]&&(clearTimeout(this._cacheTimers[r.key]),delete this._cacheTimers[r.key],this._setTileReloadTimer(r.key,l)));const p=!!l;if(!p){const _=this.map?this.map.painter:null,x=this._source.tileSize*r.overscaleFactor();l=this._source.type==="raster-array"?new to(r,x,this.transform.tileZoom,_,this._isRaster):new Jo(r,x,this.transform.tileZoom,_,this._isRaster),this._loadTile(l,this._tileLoaded.bind(this,l,r.key,l.state))}return l?(l.uses++,this._tiles[r.key]=l,p||this._source.fire(new c.z("dataloading",{tile:l,coord:l.tileID,dataType:"source"})),l):null}_setTileReloadTimer(r,l){r in this._timers&&(clearTimeout(this._timers[r]),delete this._timers[r]);const p=l.getExpiryTimeout();p&&(this._timers[r]=setTimeout(()=>{this._reloadTile(r,"expired"),delete this._timers[r]},p))}_removeTile(r){const l=this._tiles[r];l&&(l.uses--,delete this._tiles[r],this._timers[r]&&(clearTimeout(this._timers[r]),delete this._timers[r]),l.uses>0||(l.hasData()&&l.state!=="reloading"||l.state==="empty"?this._cache.add(l.tileID,l,l.getExpiryTimeout()):(l.aborted=!0,this._abortTile(l),this._unloadTile(l))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const r in this._tiles)this._removeTile(+r);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id)}tilesIn(r,l,p){const _=[],x=this.transform;if(!x)return _;const E=x.projection.name==="globe",R=c.at(x.center.lng);for(const B in this._tiles){const V=this._tiles[B];if(p&&V.clearQueryDebugViz(),V.holdingForFade())continue;let U;if(E){const J=V.tileID.canonical;if(J.z===0){const Q=[Math.abs(c.aw(R,...Rr(J,-1))-R),Math.abs(c.aw(R,...Rr(J,1))-R)];U=[0,2*Q.indexOf(Math.min(...Q))-1]}else{const Q=[Math.abs(c.aw(R,...Rr(J,-1))-R),Math.abs(c.aw(R,...Rr(J,0))-R),Math.abs(c.aw(R,...Rr(J,1))-R)];U=[Q.indexOf(Math.min(...Q))-1]}}else U=[0];for(const J of U){const Q=r.containsTile(V,x,l,J);Q&&_.push(Q)}}return _}getShadowCasterCoordinates(){return this._getRenderableCoordinates(!1,!0)}getVisibleCoordinates(r){return this._getRenderableCoordinates(r)}_getRenderableCoordinates(r,l){const p=this.getRenderableIds(r,l).map(x=>this._tiles[x].tileID),_=this.transform.projection.name==="globe";for(const x of p)x.projMatrix=this.transform.calculateProjMatrix(x.toUnwrapped()),x.expandedProjMatrix=_?this.transform.calculateProjMatrix(x.toUnwrapped(),!1,!0):x.projMatrix;return p}sortCoordinatesByDistance(r){const l=r.slice(),p=this.transform._camera.position,_=this.transform._camera.forward(),x={};for(const E of l){const R=1/(1<<E.canonical.z);x[E.key]=((E.canonical.x+.5)*R+E.wrap-p[0])*_[0]+((E.canonical.y+.5)*R-p[1])*_[1]-p[2]*_[2]}return l.sort((E,R)=>x[E.key]-x[R.key]),l}hasTransition(){if(this._source.hasTransition())return!0;if(Qo(this._source.type))for(const r in this._tiles){const l=this._tiles[r];if(l.fadeEndTime!==void 0&&l.fadeEndTime>=c.q.now())return!0}return!1}setFeatureState(r,l,p){this._state.updateState(r=r||"_geojsonTileLayer",l,p)}removeFeatureState(r,l,p){this._state.removeFeatureState(r=r||"_geojsonTileLayer",l,p)}getFeatureState(r,l){return this._state.getState(r=r||"_geojsonTileLayer",l)}setDependencies(r,l,p){const _=this._tiles[r];_&&_.setDependencies(l,p)}reloadTilesForDependencies(r,l){for(const p in this._tiles)this._tiles[p].hasDependency(r,l)&&this._reloadTile(+p,"reloading");this._cache.filter(p=>!p.hasDependency(r,l))}_preloadTiles(r,l){if(!this._sourceLoaded){const B=()=>{this._sourceLoaded&&(this._source.off("data",B),this._preloadTiles(r,l))};return void this._source.on("data",B)}const p=new Map,_=Array.isArray(r)?r:[r],x=this.map.painter.terrain,E=this.usedForTerrain&&x?x.getScaledDemTileSize():this._source.tileSize;for(const B of _){const V=B.coveringTiles({tileSize:E,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain});for(const U of V)p.set(U.key,U);this.usedForTerrain&&B.updateElevation(!1)}const R=Array.from(p.values());c.bl(R,(B,V)=>{const U=new Jo(B,this._source.tileSize*B.overscaleFactor(),this.transform.tileZoom,this.map.painter,this._isRaster);this._loadTile(U,J=>{this._source.type==="raster-dem"&&U.dem&&this._backfillDEM(U),V(J,U)})},l)}}function Fi(m,r){const l=Math.abs(2*m.wrap)-+(m.wrap<0),p=Math.abs(2*r.wrap)-+(r.wrap<0);return m.overscaledZ-r.overscaledZ||p-l||r.canonical.y-m.canonical.y||r.canonical.x-m.canonical.x}function Qo(m){return m==="raster"||m==="image"||m==="video"||m==="custom"}function Rr(m,r){const l=1<<m.z;return[m.x/l+r,(m.x+1)/l+r]}so.maxOverzooming=10,so.maxUnderzooming=3;class Ao{constructor(r){this.style=r,this.layersGotHidden=!1,this.layers=[]}processLayersChanged(){this.layers=[];const r=!1,l=!1;for(const p in this.style._mergedLayers){const _=this.style._mergedLayers[p];if(_.type==="fill-extrusion")this.layers.push({layer:_,visible:r,visibilityChanged:l});else if(_.type==="model"){const x=this.style.getLayerSource(_);x&&x.type==="batched-model"&&this.layers.push({layer:_,visible:r,visibilityChanged:l})}}}onNewFrame(r){this.layersGotHidden=!1;for(const l of this.layers){const p=l.layer;let _=!1;p.type==="fill-extrusion"?_=!p.isHidden(r)&&p.paint.get("fill-extrusion-opacity")>0:p.type==="model"&&(_=!p.isHidden(r)&&p.paint.get("model-opacity").constantOr(1)>0),this.layersGotHidden=this.layersGotHidden||!_&&l.visible,l.visible=_}}updateZOffset(r,l){this.currentBuildingBuckets=[];for(const _ of this.layers){const x=_.layer,E=this.style.getLayerSourceCache(x);let R=1;x.type==="fill-extrusion"&&(R=_.visible?x.paint.get("fill-extrusion-vertical-scale"):0);let B=E?E.getTile(l):null;if(!B&&E&&l.canonical.z>E.getSource().minzoom){let V=l.scaledTo(Math.min(E.getSource().maxzoom,l.overscaledZ-1));for(;V.overscaledZ>=E.getSource().minzoom&&(B=E.getTile(V),!B&&V.overscaledZ!==0);)V=V.scaledTo(V.overscaledZ-1)}this.currentBuildingBuckets.push({bucket:B?B.getBucket(x):null,tileID:B?B.tileID:l,verticalScale:R})}r.hasAnyZOffset=!1;let p=!1;for(let _=0;_<r.symbolInstances.length;_++){const x=r.symbolInstances.get(_),E=x.zOffset,R=this._getHeightAtTileOffset(l,x.tileAnchorX,x.tileAnchorY);x.zOffset=R!==Number.NEGATIVE_INFINITY?R:E,p||E===x.zOffset||(p=!0),r.hasAnyZOffset||x.zOffset===0||(r.hasAnyZOffset=!0)}p&&(r.zOffsetBuffersNeedUpload=!0,r.zOffsetSortDirty=!0)}_mapCoordToOverlappingTile(r,l,p,_){let x=l,E=p;if(r.canonical.z!==_.canonical.z){const R=_.canonical,B=1/(1<<r.canonical.z-R.z);x=(l+r.canonical.x*c.ag)*B-R.x*c.ag|0,E=(p+r.canonical.y*c.ag)*B-R.y*c.ag|0}return{tileX:x,tileY:E}}_getHeightAtTileOffset(r,l,p){let _,x;for(let E=0;E<this.layers.length;++E){if(this.layers[E].layer.type!=="fill-extrusion")continue;const{bucket:R,tileID:B,verticalScale:V}=this.currentBuildingBuckets[E];if(!R)continue;const{tileX:U,tileY:J}=this._mapCoordToOverlappingTile(r,l,p,B),Q=R.getHeightAtTileCoord(U,J);Q&&Q.height!==void 0&&(Q.hidden?_=Q.height:x=Math.max(Q.height*V,x||0))}if(x!==void 0)return x;for(let E=0;E<this.layers.length;++E){const R=this.layers[E];if(R.layer.type!=="model"||!R.visible)continue;const{bucket:B,tileID:V}=this.currentBuildingBuckets[E];if(!B)continue;const{tileX:U,tileY:J}=this._mapCoordToOverlappingTile(r,l,p,V),Q=B.getHeightAtTileCoord(U,J);if(Q&&!Q.hidden)return Q.height===void 0&&_!==void 0?Math.min(Q.maxHeight,_)*Q.verticalScale:Q.height?Q.height*Q.verticalScale:Number.NEGATIVE_INFINITY}return this.layersGotHidden?0:Number.NEGATIVE_INFINITY}}function ea(m,r){const l={};for(const p in m)p!=="ref"&&(l[p]=m[p]);return c.bm.forEach(p=>{p in r&&(l[p]=r[p])}),l}function Na(m){m=m.slice();const r=Object.create(null);for(let l=0;l<m.length;l++)r[m[l].id]=m[l];for(let l=0;l<m.length;l++)"ref"in m[l]&&(m[l]=ea(m[l],r[m[l].ref]));return m}const ci={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setSlot:"setSlot",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setSnow:"setSnow",setRain:"setRain",setCamera:"setCamera",setLights:"setLights",setProjection:"setProjection",addImport:"addImport",removeImport:"removeImport",updateImport:"updateImport"};function oa(m,r,l){l.push({command:ci.addSource,args:[m,r[m]]})}function Ta(m,r,l){r.push({command:ci.removeSource,args:[m]}),l[m]=!0}function Br(m,r,l,p){Ta(m,l,p),oa(m,r,l)}function oo(m,r,l){let p;for(p in m[l])if(m[l].hasOwnProperty(p)&&p!=="data"&&!c.bn(m[l][p],r[l][p]))return!1;for(p in r[l])if(r[l].hasOwnProperty(p)&&p!=="data"&&!c.bn(m[l][p],r[l][p]))return!1;return!0}function No(m,r,l,p,_,x){let E;for(E in r=r||{},m=m||{})m.hasOwnProperty(E)&&(c.bn(m[E],r[E])||l.push({command:x,args:[p,E,r[E],_]}));for(E in r)r.hasOwnProperty(E)&&!m.hasOwnProperty(E)&&(c.bn(m[E],r[E])||l.push({command:x,args:[p,E,r[E],_]}))}function Yo(m){return m.id}function uo(m,r){return m[r.id]=r,m}class Ri{constructor(r,l){this.reset(r,l)}reset(r,l){this.points=r||[],this._distances=[0];for(let p=1;p<this.points.length;p++)this._distances[p]=this._distances[p-1]+this.points[p].dist(this.points[p-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(l||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(r){if(this.points.length===1)return this.points[0];r=c.aw(r,0,1);let l=1,p=this._distances[l];const _=r*this.paddedLength+this.padding;for(;p<_&&l<this._distances.length;)p=this._distances[++l];const x=l-1,E=this._distances[x],R=p-E,B=R>0?(_-E)/R:0;return this.points[x].mult(1-B).add(this.points[l].mult(B))}}class fa{constructor(r,l,p){const _=this.boxCells=[],x=this.circleCells=[];this.xCellCount=Math.ceil(r/p),this.yCellCount=Math.ceil(l/p);for(let E=0;E<this.xCellCount*this.yCellCount;E++)_.push([]),x.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=r,this.height=l,this.xScale=this.xCellCount/r,this.yScale=this.yCellCount/l,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(r,l,p,_,x){this._forEachCell(l,p,_,x,this._insertBoxCell,this.boxUid++),this.boxKeys.push(r),this.bboxes.push(l),this.bboxes.push(p),this.bboxes.push(_),this.bboxes.push(x)}insertCircle(r,l,p,_){this._forEachCell(l-_,p-_,l+_,p+_,this._insertCircleCell,this.circleUid++),this.circleKeys.push(r),this.circles.push(l),this.circles.push(p),this.circles.push(_)}_insertBoxCell(r,l,p,_,x,E){this.boxCells[x].push(E)}_insertCircleCell(r,l,p,_,x,E){this.circleCells[x].push(E)}_query(r,l,p,_,x,E){if(p<0||r>this.width||_<0||l>this.height)return!x&&[];const R=[];if(r<=0&&l<=0&&this.width<=p&&this.height<=_){if(x)return!0;for(let B=0;B<this.boxKeys.length;B++)R.push({key:this.boxKeys[B],x1:this.bboxes[4*B],y1:this.bboxes[4*B+1],x2:this.bboxes[4*B+2],y2:this.bboxes[4*B+3]});for(let B=0;B<this.circleKeys.length;B++){const V=this.circles[3*B],U=this.circles[3*B+1],J=this.circles[3*B+2];R.push({key:this.circleKeys[B],x1:V-J,y1:U-J,x2:V+J,y2:U+J})}return E?R.filter(E):R}return this._forEachCell(r,l,p,_,this._queryCell,R,{hitTest:x,seenUids:{box:{},circle:{}}},E),x?R.length>0:R}_queryCircle(r,l,p,_,x){const E=r-p,R=r+p,B=l-p,V=l+p;if(R<0||E>this.width||V<0||B>this.height)return!_&&[];const U=[];return this._forEachCell(E,B,R,V,this._queryCellCircle,U,{hitTest:_,circle:{x:r,y:l,radius:p},seenUids:{box:{},circle:{}}},x),_?U.length>0:U}query(r,l,p,_,x){return this._query(r,l,p,_,!1,x)}hitTest(r,l,p,_,x){return this._query(r,l,p,_,!0,x)}hitTestCircle(r,l,p,_){return this._queryCircle(r,l,p,!0,_)}_queryCell(r,l,p,_,x,E,R,B){const V=R.seenUids,U=this.boxCells[x];if(U!==null){const Q=this.bboxes;for(const le of U)if(!V.box[le]){V.box[le]=!0;const Ee=4*le;if(r<=Q[Ee+2]&&l<=Q[Ee+3]&&p>=Q[Ee+0]&&_>=Q[Ee+1]&&(!B||B(this.boxKeys[le]))){if(R.hitTest)return E.push(!0),!0;E.push({key:this.boxKeys[le],x1:Q[Ee],y1:Q[Ee+1],x2:Q[Ee+2],y2:Q[Ee+3]})}}}const J=this.circleCells[x];if(J!==null){const Q=this.circles;for(const le of J)if(!V.circle[le]){V.circle[le]=!0;const Ee=3*le;if(this._circleAndRectCollide(Q[Ee],Q[Ee+1],Q[Ee+2],r,l,p,_)&&(!B||B(this.circleKeys[le]))){if(R.hitTest)return E.push(!0),!0;{const be=Q[Ee],Ae=Q[Ee+1],Pe=Q[Ee+2];E.push({key:this.circleKeys[le],x1:be-Pe,y1:Ae-Pe,x2:be+Pe,y2:Ae+Pe})}}}}}_queryCellCircle(r,l,p,_,x,E,R,B){const V=R.circle,U=R.seenUids,J=this.boxCells[x];if(J!==null){const le=this.bboxes;for(const Ee of J)if(!U.box[Ee]){U.box[Ee]=!0;const be=4*Ee;if(this._circleAndRectCollide(V.x,V.y,V.radius,le[be+0],le[be+1],le[be+2],le[be+3])&&(!B||B(this.boxKeys[Ee])))return E.push(!0),!0}}const Q=this.circleCells[x];if(Q!==null){const le=this.circles;for(const Ee of Q)if(!U.circle[Ee]){U.circle[Ee]=!0;const be=3*Ee;if(this._circlesCollide(le[be],le[be+1],le[be+2],V.x,V.y,V.radius)&&(!B||B(this.circleKeys[Ee])))return E.push(!0),!0}}}_forEachCell(r,l,p,_,x,E,R,B){const V=this._convertToXCellCoord(r),U=this._convertToYCellCoord(l),J=this._convertToXCellCoord(p),Q=this._convertToYCellCoord(_);for(let le=V;le<=J;le++)for(let Ee=U;Ee<=Q;Ee++)if(x.call(this,r,l,p,_,this.xCellCount*Ee+le,E,R,B))return}_convertToXCellCoord(r){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(r*this.xScale)))}_convertToYCellCoord(r){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(r*this.yScale)))}_circlesCollide(r,l,p,_,x,E){const R=_-r,B=x-l,V=p+E;return V*V>R*R+B*B}_circleAndRectCollide(r,l,p,_,x,E,R){const B=(E-_)/2,V=Math.abs(r-(_+B));if(V>B+p)return!1;const U=(R-x)/2,J=Math.abs(l-(x+U));if(J>U+p)return!1;if(V<=B||J<=U)return!0;const Q=V-B,le=J-U;return Q*Q+le*le<=p*p}}const ko={unknown:0,flipRequired:1,flipNotRequired:2},rn=Math.tan(85*Math.PI/180);function Ge(m,r,l,p,_,x,E){const R=c.ab.mat4.create();if(l)if(x.name==="globe"){const B=c.bo(_,r);c.ab.mat4.multiply(R,R,B)}else{const B=c.ab.mat2.invert([],E);R[0]=B[0],R[1]=B[1],R[4]=B[2],R[5]=B[3],p||c.ab.mat4.rotateZ(R,R,_.angle)}else c.ab.mat4.multiply(R,_.labelPlaneMatrix,m);return R}function _e(m,r,l,p,_,x,E){const R=Ge(m,r,l,p,_,x,E);return x.name==="globe"&&l||(R[2]=R[6]=R[10]=R[14]=0),R}function Ve(m,r,l,p,_,x,E){if(l){if(x.name==="globe"){const R=Ge(m,r,l,p,_,x,E);return c.ab.mat4.invert(R,R),c.ab.mat4.multiply(R,m,R),R}{const R=c.ab.mat4.clone(m),B=c.ab.mat4.identity([]);return B[0]=E[0],B[1]=E[1],B[4]=E[2],B[5]=E[3],c.ab.mat4.multiply(R,R,B),p||c.ab.mat4.rotateZ(R,R,-_.angle),R}}return _.glCoordMatrix}function ze(m,r,l,p){const _=[m,r,l,1];l?c.ab.vec4.transformMat4(_,_,p):Ei(_,_,p);const x=_[3];return _[0]/=x,_[1]/=x,_[2]/=x,_}function At(m,r){return Math.min(.5+m/r*.5,1.5)}function an(m,r){const l=m[0]/m[3],p=m[1]/m[3];return l>=-r[0]&&l<=r[0]&&p>=-r[1]&&p<=r[1]}function Kn(m,r,l,p,_,x,E,R,B,V){const U=l.transform,J=p?m.textSizeData:m.iconSizeData,Q=c.bp(J,l.transform.zoom),le=U.projection.name==="globe",Ee=[256/l.width*2+1,256/l.height*2+1],be=p?m.text.dynamicLayoutVertexArray:m.icon.dynamicLayoutVertexArray;be.clear();let Ae=null;le&&(Ae=p?m.text.globeExtVertexArray:m.icon.globeExtVertexArray);const Pe=m.lineVertexArray,Qe=p?m.text.placedSymbolArray:m.icon.placedSymbolArray,xt=l.transform.width/l.transform.height;let gt,Bt=!1;for(let Rt=0;Rt<Qe.length;Rt++){const Dt=Qe.get(Rt),{numGlyphs:Pt,writingMode:qt}=Dt;if(qt!==c.bq.vertical||Bt||gt===c.bq.horizontal||(Bt=!0),gt=qt,(Dt.hidden||qt===c.bq.vertical)&&!Bt){yi(Pt,be);continue}Bt=!1;const mn=new c.P(Dt.tileAnchorX,Dt.tileAnchorY);let{x:nr,y:Wn,z:Pr}=U.projection.projectTilePoint(mn.x,mn.y,V.canonical);if(B){const[$r,fi,Ci]=B(mn);nr+=$r,Wn+=fi,Pr+=Ci}const Er=[nr,Wn,Pr,1];if(c.ab.vec4.transformMat4(Er,Er,r),!an(Er,Ee)){yi(Pt,be);continue}const Nn=Er[3],ar=At(l.transform.getCameraToCenterDistance(U.projection),Nn),Kr=c.br(J,Q,Dt),Ln=E?Kr/ar:Kr*ar,Ar=ze(nr,Wn,Pr,_);if(Ar[3]<=0){yi(Pt,be);continue}let cr={};const bi=E?null:B,Vr=yr(Dt,Ln,!1,R,r,_,x,m.glyphOffsetArray,Pe,be,Ae,Ar,mn,cr,xt,bi,U.projection,V,E);Bt=Vr.useVertical,bi&&Vr.needsFlipping&&(cr={}),(Vr.notEnoughRoom||Bt||Vr.needsFlipping&&yr(Dt,Ln,!0,R,r,_,x,m.glyphOffsetArray,Pe,be,Ae,Ar,mn,cr,xt,bi,U.projection,V,E).notEnoughRoom)&&yi(Pt,be)}p?(m.text.dynamicLayoutVertexBuffer.updateData(be),Ae&&m.text.globeExtVertexBuffer&&m.text.globeExtVertexBuffer.updateData(Ae)):(m.icon.dynamicLayoutVertexBuffer.updateData(be),Ae&&m.icon.globeExtVertexBuffer&&m.icon.globeExtVertexBuffer.updateData(Ae))}function Cr(m,r,l,p,_,x,E,R,B,V,U,J,Q,le,Ee,be){const{lineStartIndex:Ae,glyphStartIndex:Pe,segment:Qe}=R,xt=Pe+R.numGlyphs,gt=Ae+R.lineLength,Bt=r.getoffsetX(Pe),Rt=r.getoffsetX(xt-1),Dt=yo(m*Bt,l,p,_,x,E,Qe,Ae,gt,B,V,U,J,Q,!0,le,Ee,be);if(!Dt)return null;const Pt=yo(m*Rt,l,p,_,x,E,Qe,Ae,gt,B,V,U,J,Q,!0,le,Ee,be);return Pt?{first:Dt,last:Pt}:null}function Mr(m,r,l,p){return m===c.bq.horizontal&&Math.abs(p)>Math.abs(l)?{useVertical:!0}:m===c.bq.vertical?p>0?{needsFlipping:!0}:null:r!==ko.unknown&&function(_,x){return _===0||Math.abs(x/_)>rn}(l,p)?r===ko.flipRequired?{needsFlipping:!0}:null:l<0?{needsFlipping:!0}:null}function yr(m,r,l,p,_,x,E,R,B,V,U,J,Q,le,Ee,be,Ae,Pe,Qe){const xt=r/24,gt=m.lineOffsetX*xt,Bt=m.lineOffsetY*xt,{lineStartIndex:Rt,glyphStartIndex:Dt,numGlyphs:Pt,segment:qt,writingMode:mn,flipState:nr}=m,Wn=Rt+m.lineLength,Pr=Er=>{if(U){const[Ln,Ar,cr]=Er.up,bi=V.length;c.bs(U,bi+0,Ln,Ar,cr),c.bs(U,bi+1,Ln,Ar,cr),c.bs(U,bi+2,Ln,Ar,cr),c.bs(U,bi+3,Ln,Ar,cr)}const[Nn,ar,Kr]=Er.point;c.bt(V,Nn,ar,Kr,Er.angle)};if(Pt>1){const Er=Cr(xt,R,gt,Bt,l,J,Q,m,B,x,le,be,!1,Ae,Pe,Qe);if(!Er)return{notEnoughRoom:!0};if(p&&!l){let[Nn,ar,Kr]=Er.first.point,[Ln,Ar,cr]=Er.last.point;[Nn,ar]=ze(Nn,ar,Kr,E),[Ln,Ar]=ze(Ln,Ar,cr,E);const bi=Mr(mn,nr,(Ln-Nn)*Ee,Ar-ar);if(m.flipState=bi&&bi.needsFlipping?ko.flipRequired:ko.flipNotRequired,bi)return bi}Pr(Er.first);for(let Nn=Dt+1;Nn<Dt+Pt-1;Nn++){const ar=yo(xt*R.getoffsetX(Nn),gt,Bt,l,J,Q,qt,Rt,Wn,B,x,le,be,!1,!1,Ae,Pe,Qe);if(!ar)return V.length-=4*(Nn-Dt),{notEnoughRoom:!0};Pr(ar)}Pr(Er.last)}else{if(p&&!l){const Nn=ze(Q.x,Q.y,0,_),ar=Rt+qt+1,Kr=new c.P(B.getx(ar),B.gety(ar)),Ln=ze(Kr.x,Kr.y,0,_),Ar=Ln[3]>0?Ln:wi(Q,Kr,Nn,1,_,void 0,Ae,Pe.canonical),cr=Mr(mn,nr,(Ar[0]-Nn[0])*Ee,Ar[1]-Nn[1]);if(m.flipState=cr&&cr.needsFlipping?ko.flipRequired:ko.flipNotRequired,cr)return cr}const Er=yo(xt*R.getoffsetX(Dt),gt,Bt,l,J,Q,qt,Rt,Wn,B,x,le,be,!1,!1,Ae,Pe,Qe);if(!Er)return{notEnoughRoom:!0};Pr(Er)}return{}}function si(m,r,l,p,_){const{x,y:E,z:R}=p.projectTilePoint(m.x,m.y,r);if(!_)return ze(x,E,R,l);const[B,V,U]=_(m);return ze(x+B,E+V,R+U,l)}function wi(m,r,l,p,_,x,E,R){const B=si(m.sub(r)._unit()._add(m),R,_,E,x);return c.ab.vec3.sub(B,l,B),c.ab.vec3.normalize(B,B),c.ab.vec3.scaleAndAdd(B,l,B,p)}function yo(m,r,l,p,_,x,E,R,B,V,U,J,Q,le,Ee,be,Ae,Pe){const Qe=p?m-r:m+r;let xt=Qe>0?1:-1,gt=0;p&&(xt*=-1,gt=Math.PI),xt<0&&(gt+=Math.PI);let Bt=R+E+(xt>0?0:1)|0,Rt=_,Dt=_,Pt=0,qt=0;const mn=Math.abs(Qe),nr=[],Wn=[];let Pr=x,Er=Pr;const Nn=()=>wi(Er,Pr,Dt,mn-Pt+1,U,Q,be,Ae.canonical);for(;Pt+qt<=mn;){if(Bt+=xt,Bt<R||Bt>=B)return null;if(Dt=Rt,Er=Pr,nr.push(Dt),le&&Wn.push(Er),Pr=new c.P(V.getx(Bt),V.gety(Bt)),Rt=J[Bt],!Rt){const fi=si(Pr,Ae.canonical,U,be,Q);Rt=fi[3]>0?J[Bt]=fi:Nn()}Pt+=qt,qt=c.ab.vec3.distance(Dt,Rt)}Ee&&Q&&(J[Bt]&&(Rt=Nn(),qt=c.ab.vec3.distance(Dt,Rt)),J[Bt]=Rt);const ar=(mn-Pt)/qt,Kr=Pr.sub(Er)._mult(ar)._add(Er),Ln=c.ab.vec3.sub([],Rt,Dt),Ar=c.ab.vec3.scaleAndAdd([],Dt,Ln,ar);let cr=[0,0,1],bi=Ln[0],Vr=Ln[1];if(Pe&&(cr=be.upVector(Ae.canonical,Kr.x,Kr.y),cr[0]!==0||cr[1]!==0||cr[2]!==1)){const fi=[cr[2],0,-cr[0]],Ci=c.ab.vec3.cross([],cr,fi);c.ab.vec3.normalize(fi,fi),c.ab.vec3.normalize(Ci,Ci),bi=c.ab.vec3.dot(Ln,fi),Vr=c.ab.vec3.dot(Ln,Ci)}if(l){const fi=c.ab.vec3.cross([],cr,Ln);c.ab.vec3.normalize(fi,fi),c.ab.vec3.scaleAndAdd(Ar,Ar,fi,l*xt)}const $r=gt+Math.atan2(Vr,bi);return nr.push(Ar),le&&Wn.push(Kr),{point:Ar,angle:$r,path:nr,tilePath:Wn,up:cr}}function yi(m,r){const l=r.length,p=l+4*m;r.resize(p),r.float32.fill(-1/0,4*l,4*p)}function Ei(m,r,l){const p=r[0],_=r[1];return m[0]=l[0]*p+l[4]*_+l[12],m[1]=l[1]*p+l[5]*_+l[13],m[3]=l[3]*p+l[7]*_+l[15],m}const ni=100;class zi{constructor(r,l,p=new fa(r.width+200,r.height+200,25),_=new fa(r.width+200,r.height+200,25)){this.transform=r,this.grid=p,this.ignoredGrid=_,this.pitchfactor=Math.cos(r._pitch)*r.cameraToCenterDistance,this.screenRightBoundary=r.width+ni,this.screenBottomBoundary=r.height+ni,this.gridRightBoundary=r.width+200,this.gridBottomBoundary=r.height+200,this.fogState=l}placeCollisionBox(r,l,p,_,x,E,R,B){let V=p.projectedAnchorX,U=p.projectedAnchorY,J=p.projectedAnchorZ;const Q=p.elevation,le=p.tileID,Ee=r.getProjection();if(Q&&le){const[Rt,Dt,Pt]=Ee.upVector(le.canonical,p.tileAnchorX,p.tileAnchorY),qt=Ee.upVectorScale(le.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;V+=Rt*Q*qt,U+=Dt*Q*qt,J+=Pt*Q*qt}const be=this.projectAndGetPerspectiveRatio(R,V,U,J,p.tileID,Ee.name==="globe"||!!Q||this.transform.pitch>0,Ee),Ae=E*be.perspectiveRatio,Pe=(p.x1*l+_.x-p.padding)*Ae+be.point.x,Qe=(p.y1*l+_.y-p.padding)*Ae+be.point.y,xt=(p.x2*l+_.x+p.padding)*Ae+be.point.x,gt=(p.y2*l+_.y+p.padding)*Ae+be.point.y,Bt=be.perspectiveRatio<=.55||be.occluded;return!this.isInsideGrid(Pe,Qe,xt,gt)||!x&&this.grid.hitTest(Pe,Qe,xt,gt,B)||Bt?{box:[],offscreen:!1,occluded:be.occluded}:{box:[Pe,Qe,xt,gt],offscreen:this.isOffscreen(Pe,Qe,xt,gt),occluded:!1}}placeCollisionCircles(r,l,p,_,x,E,R,B,V,U,J,Q,le,Ee,be){const Ae=[],Pe=this.transform.elevation,Qe=r.getProjection(),xt=Pe?Pe.getAtTileOffsetFunc(be,this.transform.center.lat,this.transform.worldSize,Qe):null,gt=new c.P(p.tileAnchorX,p.tileAnchorY);let{x:Bt,y:Rt,z:Dt}=Qe.projectTilePoint(gt.x,gt.y,be.canonical);if(xt){const[Kr,Ln,Ar]=xt(gt);Bt+=Kr,Rt+=Ln,Dt+=Ar}const Pt=Qe.name==="globe",qt=this.projectAndGetPerspectiveRatio(R,Bt,Rt,Dt,be,Pt||!!Pe||this.transform.pitch>0,Qe),{perspectiveRatio:mn}=qt,nr=(J?E/mn:E*mn)/c.bw,Wn=ze(Bt,Rt,Dt,B),Pr=qt.signedDistanceFromCamera>0?Cr(nr,x,p.lineOffsetX*nr,p.lineOffsetY*nr,!1,Wn,gt,p,_,B,{},Pe&&!J?xt:null,J&&!!Pe,Qe,be,J):null;let Er=!1,Nn=!1,ar=!0;if(Pr&&!qt.occluded){const Kr=.5*le*mn+Ee,Ln=new c.P(-100,-100),Ar=new c.P(this.screenRightBoundary,this.screenBottomBoundary),cr=new Ri,{first:bi,last:Vr}=Pr,$r=bi.path.length;let fi=[];for(let ao=$r-1;ao>=1;ao--)fi.push(bi.path[ao]);for(let ao=1;ao<Vr.path.length;ao++)fi.push(Vr.path[ao]);const Ci=2.5*Kr;V&&(fi=fi.map(([ao,ia,Fo],Zo)=>(xt&&!Pt&&(Fo=xt(Zo<$r-1?bi.tilePath[$r-1-Zo]:Vr.tilePath[Zo-$r+2])[2]),ze(ao,ia,Fo,V))),fi.some(ao=>ao[3]<=0)&&(fi=[]));let Vi=[];if(fi.length>0){let ao=1/0,ia=-1/0,Fo=1/0,Zo=-1/0;for(const ga of fi)ao=Math.min(ao,ga[0]),Fo=Math.min(Fo,ga[1]),ia=Math.max(ia,ga[0]),Zo=Math.max(Zo,ga[1]);ia>=Ln.x&&ao<=Ar.x&&Zo>=Ln.y&&Fo<=Ar.y&&(Vi=[fi.map(ga=>new c.P(ga[0],ga[1]))],(ao<Ln.x||ia>Ar.x||Fo<Ln.y||Zo>Ar.y)&&(Vi=c.bu(Vi,Ln.x,Ln.y,Ar.x,Ar.y)))}for(const ao of Vi){cr.reset(ao,.25*Kr);let ia=0;ia=cr.length<=.5*Kr?1:Math.ceil(cr.paddedLength/Ci)+1;for(let Fo=0;Fo<ia;Fo++){const Zo=Fo/Math.max(ia-1,1),ga=cr.lerp(Zo),as=ga.x+ni,ps=ga.y+ni;Ae.push(as,ps,Kr,0);const ul=as-Kr,Ks=ps-Kr,Ma=as+Kr,us=ps+Kr;if(ar=ar&&this.isOffscreen(ul,Ks,Ma,us),Nn=Nn||this.isInsideGrid(ul,Ks,Ma,us),!l&&this.grid.hitTestCircle(as,ps,Kr,Q)&&(Er=!0,!U))return{circles:[],offscreen:!1,collisionDetected:Er,occluded:!1}}}}return{circles:!U&&Er||!Nn?[]:Ae,offscreen:ar,collisionDetected:Er,occluded:qt.occluded}}queryRenderedSymbols(r){if(r.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const l=[];let p=1/0,_=1/0,x=-1/0,E=-1/0;for(const U of r){const J=new c.P(U.x+ni,U.y+ni);p=Math.min(p,J.x),_=Math.min(_,J.y),x=Math.max(x,J.x),E=Math.max(E,J.y),l.push(J)}const R=this.grid.query(p,_,x,E).concat(this.ignoredGrid.query(p,_,x,E)),B={},V={};for(const U of R){const J=U.key;if(B[J.bucketInstanceId]===void 0&&(B[J.bucketInstanceId]={}),B[J.bucketInstanceId][J.featureIndex])continue;const Q=[new c.P(U.x1,U.y1),new c.P(U.x2,U.y1),new c.P(U.x2,U.y2),new c.P(U.x1,U.y2)];c.bv(l,Q)&&(B[J.bucketInstanceId][J.featureIndex]=!0,V[J.bucketInstanceId]===void 0&&(V[J.bucketInstanceId]=[]),V[J.bucketInstanceId].push(J.featureIndex))}return V}insertCollisionBox(r,l,p,_,x){(l?this.ignoredGrid:this.grid).insert({bucketInstanceId:p,featureIndex:_,collisionGroupID:x},r[0],r[1],r[2],r[3])}insertCollisionCircles(r,l,p,_,x){const E=l?this.ignoredGrid:this.grid,R={bucketInstanceId:p,featureIndex:_,collisionGroupID:x};for(let B=0;B<r.length;B+=4)E.insertCircle(R,r[B],r[B+1],r[B+2])}projectAndGetPerspectiveRatio(r,l,p,_,x,E,R){const B=[l,p,_,1];let V=!1;_||this.transform.pitch>0?(c.ab.vec4.transformMat4(B,B,r),this.fogState&&x&&R.name!=="globe"&&(V=function(Q,le,Ee,be,Ae,Pe){const Qe=Pe.calculateFogTileMatrix(Ae),xt=[le,Ee,be];return c.ab.vec3.transformMat4(xt,xt,Qe),et(Q,c.ab.vec3.length(xt),Pe.pitch,Pe._fov)}(this.fogState,l,p,_,x.toUnwrapped(),this.transform)>.9)):Ei(B,B,r);const U=B[3];return{point:new c.P((B[0]/U+1)/2*this.transform.width+ni,(-B[1]/U+1)/2*this.transform.height+ni),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(R)/U*.5,1.5),signedDistanceFromCamera:U,occluded:E&&B[2]>U||V}}isOffscreen(r,l,p,_){return p<ni||r>=this.screenRightBoundary||_<ni||l>this.screenBottomBoundary}isInsideGrid(r,l,p,_){return p>=0&&r<this.gridRightBoundary&&_>=0&&l<this.gridBottomBoundary}getViewportMatrix(){const r=c.ab.mat4.identity([]);return c.ab.mat4.translate(r,r,[-100,-100,0]),r}}function Ai(m,r,l){const p=r.createTileMatrix(m,m.worldSize,l.toUnwrapped());return c.ab.mat4.multiply(new Float32Array(16),m.projMatrix,p)}function _o(m,r,l){if(r.projection.name===l.projection.name)return m.projMatrix;const p=l.clone();return p.setProjection(r.projection),Ai(p,r.getProjection(),m)}function na(m,r,l){return r.name===l.projection.name?m.projMatrix:Ai(l,r,m)}class ua{constructor(r,l,p,_){this.opacity=r?Math.max(0,Math.min(1,r.opacity+(r.placed?l:-l))):_&&p?1:0,this.placed=p}isHidden(){return this.opacity===0&&!this.placed}}class Ea{constructor(r,l,p,_,x,E=!1){this.text=new ua(r?r.text:null,l,p,x),this.icon=new ua(r?r.icon:null,l,_,x),this.clipped=E}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Ia{constructor(r,l,p,_=!1){this.text=r,this.icon=l,this.skipFade=p,this.clipped=_}}class xa{constructor(){this.invProjMatrix=c.ab.mat4.create(),this.viewportMatrix=c.ab.mat4.create(),this.circles=[]}}class ya{constructor(r,l,p,_,x){this.bucketInstanceId=r,this.featureIndex=l,this.sourceLayerIndex=p,this.bucketIndex=_,this.tileID=x}}class ja{constructor(r){this.crossSourceCollisions=r,this.maxGroupID=0,this.collisionGroups={}}get(r){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[r]){const l=++this.maxGroupID;this.collisionGroups[r]={ID:l,predicate:p=>p.collisionGroupID===l}}return this.collisionGroups[r]}}function Ca(m,r,l,p,_){const{horizontalAlign:x,verticalAlign:E}=c.bD(m),R=-(x-.5)*r,B=-(E-.5)*l,V=c.bC(m,p);return new c.P(R+V[0]*_,B+V[1]*_)}function Ps(m,r,l,p,_){const x=new c.P(m,r);return l&&x._rotate(p?_:-_),x}class Ms{constructor(r,l,p,_,x,E){this.transform=r.clone(),this.projection=r.projection.name,this.collisionIndex=new zi(this.transform,x),this.buildingIndex=E,this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=l,this.retainedQueryData={},this.collisionGroups=new ja(p),this.collisionCircleArrays={},this.prevPlacement=_,_&&(_.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(r,l,p,_,x=1){const E=p.getBucket(l),R=p.latestFeatureIndex;if(!E||!R||l.fqid!==E.layerIds[0])return;const B=E.layers[0].layout,V=E.layers[0].paint,U=p.collisionBoxArray,J=Math.pow(2,this.transform.zoom-p.tileID.overscaledZ),Q=p.tileSize/c.ag,le=p.tileID.toUnwrapped();this.transform.setProjection(E.projection);const Ee=(be=p.tileID,Ae=E.getProjection(),Pe=this.transform,Ae.name===this.projection?Pe.calculateProjMatrix(be.toUnwrapped()):Ai(Pe,Ae,be));var be,Ae,Pe;const Qe=B.get("text-pitch-alignment")==="map",xt=B.get("text-rotation-alignment")==="map";l.compileFilter(l.options);const gt=l.dynamicFilter(),Bt=l.dynamicFilterNeedsFeature(),Rt=this.transform.calculatePixelsToTileUnitsMatrix(p),Dt=_e(Ee,p.tileID.canonical,Qe,xt,this.transform,E.getProjection(),Rt);let Pt=null;if(Qe){const Kr=Ve(Ee,p.tileID.canonical,Qe,xt,this.transform,E.getProjection(),Rt);Pt=c.ab.mat4.multiply([],this.transform.labelPlaneMatrix,Kr)}let qt=null;gt&&p.latestFeatureIndex&&(qt={unwrappedTileID:le,dynamicFilter:gt,dynamicFilterNeedsFeature:Bt}),this.retainedQueryData[E.bucketInstanceId]=new ya(E.bucketInstanceId,R,E.sourceLayerIndex,E.index,p.tileID);const[mn,nr]=E.layers[0].layout.get("text-size-scale-range"),Wn=c.aw(x,mn,nr),[Pr,Er]=B.get("icon-size-scale-range"),Nn=c.aw(x,Pr,Er),ar={bucket:E,layout:B,paint:V,posMatrix:Ee,textLabelPlaneMatrix:Dt,labelToScreenMatrix:Pt,clippingData:qt,scale:J,textPixelRatio:Q,holdingForFade:p.holdingForFade(),collisionBoxArray:U,partiallyEvaluatedTextSize:c.bp(E.textSizeData,this.transform.zoom,Wn),partiallyEvaluatedIconSize:c.bp(E.iconSizeData,this.transform.zoom,Nn),collisionGroup:this.collisionGroups.get(E.sourceID),latestFeatureIndex:p.latestFeatureIndex};if(_)for(const Kr of E.sortKeyRanges){const{sortKey:Ln,symbolInstanceStart:Ar,symbolInstanceEnd:cr}=Kr;r.push({sortKey:Ln,symbolInstanceStart:Ar,symbolInstanceEnd:cr,parameters:ar})}else r.push({symbolInstanceStart:0,symbolInstanceEnd:E.symbolInstances.length,parameters:ar})}attemptAnchorPlacement(r,l,p,_,x,E,R,B,V,U,J,Q,le,Ee,be,Ae,Pe,Qe){const{textOffset0:xt,textOffset1:gt,crossTileID:Bt}=Q,Rt=[xt,gt],Dt=Ca(r,p,_,Rt,x),Pt=this.collisionIndex.placeCollisionBox(Ee,x,l,Ps(Dt.x,Dt.y,E,R,this.transform.angle),J,B,V,U.predicate);if(Ae){const qt=Ee.getSymbolInstanceIconSize(Qe,this.transform.zoom,Q.placedIconSymbolIndex);if(this.collisionIndex.placeCollisionBox(Ee,qt,Ae,Ps(Dt.x,Dt.y,E,R,this.transform.angle),J,B,V,U.predicate).box.length===0)return}if(Pt.box.length>0){let qt;return this.prevPlacement&&this.prevPlacement.variableOffsets[Bt]&&this.prevPlacement.placements[Bt]&&this.prevPlacement.placements[Bt].text&&(qt=this.prevPlacement.variableOffsets[Bt].anchor),this.variableOffsets[Bt]={textOffset:Rt,width:p,height:_,anchor:r,textScale:x,prevAnchor:qt},this.markUsedJustification(Ee,r,Q,be),Ee.allowVerticalPlacement&&(this.markUsedOrientation(Ee,be,Q),this.placedOrientations[Bt]=be),{shift:Dt,placedGlyphBoxes:Pt}}}placeLayerBucketPart(r,l,p,_,x=1){const{bucket:E,layout:R,paint:B,posMatrix:V,textLabelPlaneMatrix:U,labelToScreenMatrix:J,clippingData:Q,textPixelRatio:le,holdingForFade:Ee,collisionBoxArray:be,partiallyEvaluatedTextSize:Ae,partiallyEvaluatedIconSize:Pe,collisionGroup:Qe,latestFeatureIndex:xt}=r.parameters,gt=R.get("text-optional"),Bt=R.get("icon-optional"),Rt=R.get("text-allow-overlap"),Dt=R.get("icon-allow-overlap"),Pt=R.get("text-rotation-alignment")==="map",qt=R.get("text-pitch-alignment")==="map",mn=R.get("symbol-z-elevate"),nr=B.get("symbol-z-offset"),Wn=R.get("symbol-elevation-reference")==="sea",[Pr,Er]=R.get("text-size-scale-range"),[Nn,ar]=R.get("icon-size-scale-range"),Kr=c.aw(x,Pr,Er),Ln=c.aw(x,Nn,ar);this.transform.setProjection(E.projection);let Ar=Rt&&(Dt||!E.hasIconData()||Bt),cr=Dt&&(Rt||!E.hasTextData()||gt);const bi=!nr.isConstant();!E.collisionArrays&&be&&E.deserializeCollisionBoxes(be),p&&_&&E.updateCollisionDebugBuffers(this.transform.zoom,be,Kr,Ln);const Vr=($r,fi,Ci)=>{const{crossTileID:Vi,numVerticalGlyphVertices:ao}=$r;let ia=null;if(Q&&Q.dynamicFilterNeedsFeature||bi){const ks=this.retainedQueryData[E.bucketInstanceId];ia=xt.loadFeature({featureIndex:$r.featureIndex,bucketIndex:ks.bucketIndex,sourceLayerIndex:ks.sourceLayerIndex,layoutVertexArrayOffset:0})}if(Q&&!(0,Q.dynamicFilter)({zoom:this.transform.zoom,pitch:this.transform.pitch},ia,this.retainedQueryData[E.bucketInstanceId].tileID.canonical,new c.P($r.tileAnchorX,$r.tileAnchorY),this.transform.calculateDistanceTileData(Q.unwrappedTileID)))return this.placements[Vi]=new Ia(!1,!1,!1,!0),void l.add(Vi);const Fo=nr.evaluate(ia,{});if(l.has(Vi))return;if(Ee)return void(this.placements[Vi]=new Ia(!1,!1,!1));let Zo=!1,ga=!1,as=!0,ps=!1,ul=!1,Ks=null,Ma={box:null,offscreen:null,occluded:null},us={box:null,offscreen:null,occluded:null},Eo=null,_a=null,ys=null,xs=0,dl=0,Gl=0;Ci.textFeatureIndex?xs=Ci.textFeatureIndex:$r.useRuntimeCollisionCircles&&(xs=$r.featureIndex),Ci.verticalTextFeatureIndex&&(dl=Ci.verticalTextFeatureIndex);const Bl=ks=>{ks.tileID=this.retainedQueryData[E.bucketInstanceId].tileID;const Rs=this.transform.elevation;ks.elevation=Wn?Fo:Fo+(Rs?Rs.getAtTileOffset(ks.tileID,ks.tileAnchorX,ks.tileAnchorY):0),ks.elevation+=$r.zOffset},Fl=Ci.textBox;if(Fl){Bl(Fl);const ks=rs=>{let fl=c.bq.horizontal;if(E.allowVerticalPlacement&&!rs&&this.prevPlacement){const nc=this.prevPlacement.placedOrientations[Vi];nc&&(this.placedOrientations[Vi]=nc,fl=nc,this.markUsedOrientation(E,fl,$r))}return fl},Rs=(rs,fl)=>{if(E.allowVerticalPlacement&&ao>0&&Ci.verticalTextBox){for(const nc of E.writingModes)if(nc===c.bq.vertical?(Ma=fl(),us=Ma):Ma=rs(),Ma&&Ma.box&&Ma.box.length)break}else Ma=rs()};if(R.get("text-variable-anchor")){let rs=R.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[Vi]){const Ns=this.prevPlacement.variableOffsets[Vi];rs.indexOf(Ns.anchor)>0&&(rs=rs.filter(Mc=>Mc!==Ns.anchor),rs.unshift(Ns.anchor))}const fl=(Ns,Mc,Uc)=>{const Wc=E.getSymbolInstanceTextSize(Ae,$r,this.transform.zoom,fi),Tc=(Ns.x2-Ns.x1)*Wc+2*Ns.padding,bu=(Ns.y2-Ns.y1)*Wc+2*Ns.padding,cu=$r.hasIconTextFit&&!Dt?Mc:null;cu&&Bl(cu);let mc={box:[],offscreen:!1,occluded:!1};const Xd=Rt?2*rs.length:rs.length;for(let Au=0;Au<Xd;++Au){const xu=this.attemptAnchorPlacement(rs[Au%rs.length],Ns,Tc,bu,Wc,Pt,qt,le,V,Qe,Au>=rs.length,$r,fi,E,Uc,cu,Ae,Pe);if(xu&&(mc=xu.placedGlyphBoxes,mc&&mc.box&&mc.box.length)){Zo=!0,Ks=xu.shift;break}}return mc};Rs(()=>fl(Fl,Ci.iconBox,c.bq.horizontal),()=>{const Ns=Ci.verticalTextBox;return Ns&&Bl(Ns),E.allowVerticalPlacement&&!(Ma&&Ma.box&&Ma.box.length)&&ao>0&&Ns?fl(Ns,Ci.verticalIconBox,c.bq.vertical):{box:null,offscreen:null,occluded:null}}),Ma&&(Zo=Ma.box,as=Ma.offscreen,ps=Ma.occluded);const nc=ks(!(!Ma||!Ma.box));if(!Zo&&this.prevPlacement){const Ns=this.prevPlacement.variableOffsets[Vi];Ns&&(this.variableOffsets[Vi]=Ns,this.markUsedJustification(E,Ns.anchor,$r,nc))}}else{const rs=(fl,nc)=>{const Ns=E.getSymbolInstanceTextSize(Ae,$r,this.transform.zoom,fi,x),Mc=this.collisionIndex.placeCollisionBox(E,Ns,fl,new c.P(0,0),Rt,le,V,Qe.predicate);return Mc&&Mc.box&&Mc.box.length&&(this.markUsedOrientation(E,nc,$r),this.placedOrientations[Vi]=nc),Mc};Rs(()=>rs(Fl,c.bq.horizontal),()=>{const fl=Ci.verticalTextBox;return E.allowVerticalPlacement&&ao>0&&fl?(Bl(fl),rs(fl,c.bq.vertical)):{box:null,offscreen:null,occluded:null}}),ks(!!(Ma&&Ma.box&&Ma.box.length))}}if(Eo=Ma,Zo=Eo&&Eo.box&&Eo.box.length>0,as=Eo&&Eo.offscreen,ps=Eo&&Eo.occluded,$r.useRuntimeCollisionCircles){const ks=E.text.placedSymbolArray.get($r.centerJustifiedTextSymbolIndex>=0?$r.centerJustifiedTextSymbolIndex:$r.verticalPlacedTextSymbolIndex),Rs=c.br(E.textSizeData,Ae,ks),rs=R.get("text-padding");_a=this.collisionIndex.placeCollisionCircles(E,Rt,ks,E.lineVertexArray,E.glyphOffsetArray,Rs,V,U,J,p,qt,Qe.predicate,$r.collisionCircleDiameter*Rs/c.bw,rs,this.retainedQueryData[E.bucketInstanceId].tileID),Zo=Rt||_a.circles.length>0&&!_a.collisionDetected,as=as&&_a.offscreen,ps=_a.occluded}if(Ci.iconFeatureIndex&&(Gl=Ci.iconFeatureIndex),Ci.iconBox){const ks=Rs=>{Bl(Rs);const rs=$r.hasIconTextFit&&Ks?Ps(Ks.x,Ks.y,Pt,qt,this.transform.angle):new c.P(0,0),fl=E.getSymbolInstanceIconSize(Pe,this.transform.zoom,$r.placedIconSymbolIndex);return this.collisionIndex.placeCollisionBox(E,fl,Rs,rs,Dt,le,V,Qe.predicate)};us&&us.box&&us.box.length&&Ci.verticalIconBox?(ys=ks(Ci.verticalIconBox),ga=ys.box.length>0):(ys=ks(Ci.iconBox),ga=ys.box.length>0),as=as&&ys.offscreen,ul=ys.occluded}const eu=gt||$r.numHorizontalGlyphVertices===0&&ao===0,Ic=Bt||$r.numIconVertices===0;if(eu||Ic?Ic?eu||(ga=ga&&Zo):Zo=ga&&Zo:ga=Zo=ga&&Zo,Zo&&Eo&&Eo.box&&this.collisionIndex.insertCollisionBox(Eo.box,R.get("text-ignore-placement"),E.bucketInstanceId,us&&us.box&&dl?dl:xs,Qe.ID),ga&&ys&&this.collisionIndex.insertCollisionBox(ys.box,R.get("icon-ignore-placement"),E.bucketInstanceId,Gl,Qe.ID),_a&&(Zo&&this.collisionIndex.insertCollisionCircles(_a.circles,R.get("text-ignore-placement"),E.bucketInstanceId,xs,Qe.ID),p)){const ks=E.bucketInstanceId;let Rs=this.collisionCircleArrays[ks];Rs===void 0&&(Rs=this.collisionCircleArrays[ks]=new xa);for(let rs=0;rs<_a.circles.length;rs+=4)Rs.circles.push(_a.circles[rs+0]),Rs.circles.push(_a.circles[rs+1]),Rs.circles.push(_a.circles[rs+2]),Rs.circles.push(_a.collisionDetected?1:0)}const al=E.projection.name!=="globe";Ar=Ar&&(al||!ps),cr=cr&&(al||!ul),this.placements[Vi]=new Ia(Zo||Ar,ga||cr,as||E.justReloaded),l.add(Vi)};if(mn&&this.buildingIndex&&(this.buildingIndex.updateZOffset(E,this.retainedQueryData[E.bucketInstanceId].tileID),E.updateZOffset()),E.sortFeaturesByY){const $r=E.getSortedSymbolIndexes(this.transform.angle);for(let fi=$r.length-1;fi>=0;--fi){const Ci=$r[fi];Vr(E.symbolInstances.get(Ci),Ci,E.collisionArrays[Ci])}E.hasAnyZOffset&&c.w(`${E.layerIds[0]} layer symbol-z-elevate: symbols are not sorted by elevation if symbol-z-order is evaluated to viewport-y`)}else if(E.hasAnyZOffset){const $r=E.getSortedIndexesByZOffset();for(let fi=0;fi<$r.length;++fi){const Ci=$r[fi];Vr(E.symbolInstances.get(Ci),Ci,E.collisionArrays[Ci])}}else for(let $r=r.symbolInstanceStart;$r<r.symbolInstanceEnd;$r++)Vr(E.symbolInstances.get($r),$r,E.collisionArrays[$r]);if(p&&E.bucketInstanceId in this.collisionCircleArrays){const $r=this.collisionCircleArrays[E.bucketInstanceId];c.ab.mat4.invert($r.invProjMatrix,V),$r.viewportMatrix=this.collisionIndex.getViewportMatrix()}E.justReloaded=!1}markUsedJustification(r,l,p,_){const{leftJustifiedTextSymbolIndex:x,centerJustifiedTextSymbolIndex:E,rightJustifiedTextSymbolIndex:R,verticalPlacedTextSymbolIndex:B,crossTileID:V}=p,U=c.bB(l),J=_===c.bq.vertical?B:U==="left"?x:U==="center"?E:U==="right"?R:-1;x>=0&&(r.text.placedSymbolArray.get(x).crossTileID=J>=0&&x!==J?0:V),E>=0&&(r.text.placedSymbolArray.get(E).crossTileID=J>=0&&E!==J?0:V),R>=0&&(r.text.placedSymbolArray.get(R).crossTileID=J>=0&&R!==J?0:V),B>=0&&(r.text.placedSymbolArray.get(B).crossTileID=J>=0&&B!==J?0:V)}markUsedOrientation(r,l,p){const _=l===c.bq.horizontal||l===c.bq.horizontalOnly?l:0,x=l===c.bq.vertical?l:0,{leftJustifiedTextSymbolIndex:E,centerJustifiedTextSymbolIndex:R,rightJustifiedTextSymbolIndex:B,verticalPlacedTextSymbolIndex:V}=p,U=r.text.placedSymbolArray;E>=0&&(U.get(E).placedOrientation=_),R>=0&&(U.get(R).placedOrientation=_),B>=0&&(U.get(B).placedOrientation=_),V>=0&&(U.get(V).placedOrientation=x)}commit(r){this.commitTime=r,this.zoomAtLastRecencyCheck=this.transform.zoom;const l=this.prevPlacement;let p=!1;this.prevZoomAdjustment=l?l.zoomAdjustment(this.transform.zoom):0;const _=l?l.symbolFadeChange(r):1,x=l?l.opacities:{},E=l?l.variableOffsets:{},R=l?l.placedOrientations:{};for(const B in this.placements){const V=this.placements[B],U=x[B];U?(this.opacities[B]=new Ea(U,_,V.text,V.icon,null,V.clipped),p=p||V.text!==U.text.placed||V.icon!==U.icon.placed):(this.opacities[B]=new Ea(null,_,V.text,V.icon,V.skipFade,V.clipped),p=p||V.text||V.icon)}for(const B in x){const V=x[B];if(!this.opacities[B]){const U=new Ea(V,_,!1,!1);U.isHidden()||(this.opacities[B]=U,p=p||V.text.placed||V.icon.placed)}}for(const B in E)this.variableOffsets[B]||!this.opacities[B]||this.opacities[B].isHidden()||(this.variableOffsets[B]=E[B]);for(const B in R)this.placedOrientations[B]||!this.opacities[B]||this.opacities[B].isHidden()||(this.placedOrientations[B]=R[B]);p?this.lastPlacementChangeTime=r:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=l?l.lastPlacementChangeTime:r)}updateLayerOpacities(r,l,p,_){const x=new Set;for(const E of l){const R=E.getBucket(r);R&&E.latestFeatureIndex&&r.fqid===R.layerIds[0]&&(this.updateBucketOpacities(R,x,E,E.collisionBoxArray,p,_,E.tileID,r.scope),R.layers[0].layout.get("symbol-z-elevate")&&this.buildingIndex&&(this.buildingIndex.updateZOffset(R,E.tileID),R.updateZOffset()))}}updateBucketOpacities(r,l,p,_,x,E,R,B){r.hasTextData()&&r.text.opacityVertexArray.clear(),r.hasIconData()&&r.icon.opacityVertexArray.clear(),r.hasIconCollisionBoxData()&&r.iconCollisionBox.collisionVertexArray.clear(),r.hasTextCollisionBoxData()&&r.textCollisionBox.collisionVertexArray.clear();const V=r.layers[0].layout,U=r.layers[0].paint,J=!!r.layers[0].dynamicFilter(),Q=new Ea(null,0,!1,!1,!0),le=V.get("text-allow-overlap"),Ee=V.get("icon-allow-overlap"),be=V.get("text-variable-anchor"),Ae=V.get("text-rotation-alignment")==="map",Pe=V.get("text-pitch-alignment")==="map",Qe=U.get("symbol-z-offset"),xt=V.get("symbol-elevation-reference")==="sea",gt=!Qe.isConstant(),Bt=new Ea(null,0,le&&(Ee||!r.hasIconData()||V.get("icon-optional")),Ee&&(le||!r.hasTextData()||V.get("text-optional")),!0);!r.collisionArrays&&_&&(r.hasIconCollisionBoxData()||r.hasTextCollisionBoxData())&&r.deserializeCollisionBoxes(_);const Rt=(Pt,qt,mn)=>{for(let nr=0;nr<qt/4;nr++)Pt.opacityVertexArray.emplaceBack(mn)};let Dt=0;E&&r.updateReplacement(R,E);for(let Pt=0;Pt<r.symbolInstances.length;Pt++){const qt=r.symbolInstances.get(Pt),{numHorizontalGlyphVertices:mn,numVerticalGlyphVertices:nr,crossTileID:Wn,numIconVertices:Pr,tileAnchorX:Er,tileAnchorY:Nn}=qt;let ar=null;const Kr=this.retainedQueryData[r.bucketInstanceId];gt&&qt&&Kr&&(ar=p.latestFeatureIndex.loadFeature({featureIndex:qt.featureIndex,bucketIndex:Kr.bucketIndex,sourceLayerIndex:Kr.sourceLayerIndex,layoutVertexArrayOffset:0}));const Ln=Qe.evaluate(ar,{}),Ar=l.has(Wn);let cr=this.opacities[Wn];Ar?cr=Q:cr||(cr=Bt,this.opacities[Wn]=cr),l.add(Wn);const bi=mn>0||nr>0,Vr=Pr>0,$r=this.placedOrientations[Wn],fi=$r===c.bq.vertical,Ci=$r===c.bq.horizontal||$r===c.bq.horizontalOnly;!bi&&!Vr||cr.isHidden()||Dt++;let Vi=!1;if((bi||Vr)&&E)for(const ao of r.activeReplacements){if(c.bx(ao,x,c.by.Symbol,B)||ao.min.x>Er||Er>ao.max.x||ao.min.y>Nn||Nn>ao.max.y)continue;const ia=c.bz(Er,Nn,R.canonical,ao.footprintTileId.canonical);if(Vi=c.bA(ia,ao.footprint),Vi)break}if(bi){const ao=Vi?aa:Ha(cr.text);Rt(r.text,mn,fi?aa:ao),Rt(r.text,nr,Ci?aa:ao);const ia=cr.text.isHidden(),{leftJustifiedTextSymbolIndex:Fo,centerJustifiedTextSymbolIndex:Zo,rightJustifiedTextSymbolIndex:ga,verticalPlacedTextSymbolIndex:as}=qt,ps=r.text.placedSymbolArray,ul=ia||fi?1:0;Fo>=0&&(ps.get(Fo).hidden=ul),Zo>=0&&(ps.get(Zo).hidden=ul),ga>=0&&(ps.get(ga).hidden=ul),as>=0&&(ps.get(as).hidden=ia||Ci?1:0);const Ks=this.variableOffsets[Wn];Ks&&this.markUsedJustification(r,Ks.anchor,qt,$r);const Ma=this.placedOrientations[Wn];Ma&&(this.markUsedJustification(r,"left",qt,Ma),this.markUsedOrientation(r,Ma,qt))}if(Vr){const ao=Vi?aa:Ha(cr.icon),{placedIconSymbolIndex:ia,verticalPlacedIconSymbolIndex:Fo}=qt,Zo=r.icon.placedSymbolArray,ga=cr.icon.isHidden()?1:0;ia>=0&&(Rt(r.icon,Pr,fi?aa:ao),Zo.get(ia).hidden=ga),Fo>=0&&(Rt(r.icon,qt.numVerticalIconVertices,Ci?aa:ao),Zo.get(Fo).hidden=ga)}if(r.hasIconCollisionBoxData()||r.hasTextCollisionBoxData()){const ao=r.collisionArrays[Pt];if(ao){let ia=new c.P(0,0),Fo=!0;if(ao.textBox||ao.verticalTextBox){if(be){const ga=this.variableOffsets[Wn];ga?(ia=Ca(ga.anchor,ga.width,ga.height,ga.textOffset,ga.textScale),Ae&&ia._rotate(Pe?this.transform.angle:-this.transform.angle)):Fo=!1}J&&(Fo=!cr.clipped),ao.textBox&&_s(r.textCollisionBox.collisionVertexArray,cr.text.placed,!Fo||fi,Ln,xt,ia.x,ia.y),ao.verticalTextBox&&_s(r.textCollisionBox.collisionVertexArray,cr.text.placed,!Fo||Ci,Ln,xt,ia.x,ia.y)}const Zo=Fo&&!!(!Ci&&ao.verticalIconBox);ao.iconBox&&_s(r.iconCollisionBox.collisionVertexArray,cr.icon.placed,Zo,Ln,xt,qt.hasIconTextFit?ia.x:0,qt.hasIconTextFit?ia.y:0),ao.verticalIconBox&&_s(r.iconCollisionBox.collisionVertexArray,cr.icon.placed,!Zo,Ln,xt,qt.hasIconTextFit?ia.x:0,qt.hasIconTextFit?ia.y:0)}}}if(r.fullyClipped=Dt===0,r.sortFeatures(this.transform.angle),this.retainedQueryData[r.bucketInstanceId]&&(this.retainedQueryData[r.bucketInstanceId].featureSortOrder=r.featureSortOrder),r.hasTextData()&&r.text.opacityVertexBuffer&&r.text.opacityVertexBuffer.updateData(r.text.opacityVertexArray),r.hasIconData()&&r.icon.opacityVertexBuffer&&r.icon.opacityVertexBuffer.updateData(r.icon.opacityVertexArray),r.hasIconCollisionBoxData()&&r.iconCollisionBox.collisionVertexBuffer&&r.iconCollisionBox.collisionVertexBuffer.updateData(r.iconCollisionBox.collisionVertexArray),r.hasTextCollisionBoxData()&&r.textCollisionBox.collisionVertexBuffer&&r.textCollisionBox.collisionVertexBuffer.updateData(r.textCollisionBox.collisionVertexArray),r.bucketInstanceId in this.collisionCircleArrays){const Pt=this.collisionCircleArrays[r.bucketInstanceId];r.placementInvProjMatrix=Pt.invProjMatrix,r.placementViewportMatrix=Pt.viewportMatrix,r.collisionCircleArray=Pt.circles,delete this.collisionCircleArrays[r.bucketInstanceId]}}symbolFadeChange(r){return this.fadeDuration===0?1:(r-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(r){return Math.max(0,(this.transform.zoom-r)/1.5)}hasTransitions(r){return this.stale||r-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(r,l){const p=this.zoomAtLastRecencyCheck===l?1-this.zoomAdjustment(l):1;return this.zoomAtLastRecencyCheck=l,this.commitTime+this.fadeDuration*p>r}setStale(){this.stale=!0}}function _s(m,r,l,p,_,x,E){m.emplaceBack(r?1:0,l?1:0,x||0,E||0,p,_?1:0),m.emplaceBack(r?1:0,l?1:0,x||0,E||0,p,_?1:0),m.emplaceBack(r?1:0,l?1:0,x||0,E||0,p,_?1:0),m.emplaceBack(r?1:0,l?1:0,x||0,E||0,p,_?1:0)}const il=Math.pow(2,25),ol=Math.pow(2,24),Al=Math.pow(2,17),Vs=Math.pow(2,16),Dl=Math.pow(2,9),pc=Math.pow(2,8),da=Math.pow(2,1);function Ha(m){if(m.opacity===0&&!m.placed)return 0;if(m.opacity===1&&m.placed)return 4294967295;const r=m.placed?1:0,l=Math.floor(127*m.opacity);return l*il+r*ol+l*Al+r*Vs+l*Dl+r*pc+l*da+r}const aa=0;class jo{constructor(r){this._sortAcrossTiles=r.layout.get("symbol-z-order")!=="viewport-y"&&r.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs=new Set,this._bucketParts=[]}continuePlacement(r,l,p,_,x,E){const R=this._bucketParts;for(;this._currentTileIndex<r.length;)if(l.getBucketParts(R,_,r[this._currentTileIndex],this._sortAcrossTiles,E),this._currentTileIndex++,x())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,R.sort((B,V)=>B.sortKey-V.sortKey));this._currentPartIndex<R.length;){const B=R[this._currentPartIndex];if(l.placeLayerBucketPart(B,this._seenCrossTileIDs,p,B.symbolInstanceStart===0,E),this._currentPartIndex++,x())return!0}return!1}}class hs{constructor(r,l,p,_,x,E,R,B,V){this.placement=new Ms(r,x,E,R,B,V),this._currentPlacementIndex=l.length-1,this._forceFullPlacement=p,this._showCollisionBoxes=_,this._done=!1}isDone(){return this._done}continuePlacement(r,l,p,_,x){const E=c.q.now(),R=()=>{const B=c.q.now()-E;return!this._forceFullPlacement&&B>2};for(;this._currentPlacementIndex>=0;){const B=l[r[this._currentPlacementIndex]],V=this.placement.collisionIndex.transform.zoom;if(B.type==="symbol"&&(!B.minzoom||B.minzoom<=V)&&(!B.maxzoom||B.maxzoom>V)){const U=B,J=U.layout.get("symbol-z-elevate"),Q=U.layout.get("symbol-sort-key").constantOr(1)!==void 0,le=U.layout.get("symbol-z-order"),Ee=le==="viewport-y"||le==="auto"&&!(le!=="viewport-y"&&Q),be=U.layout.get("text-allow-overlap")||U.layout.get("icon-allow-overlap")||U.layout.get("text-ignore-placement")||U.layout.get("icon-ignore-placement"),Ae=Ee&&be,Pe=this._inProgressLayer=this._inProgressLayer||new jo(U),Qe=c.aC(B.source,B.scope);if(Pe.continuePlacement(J||Ae?_[Qe]:p[Qe],this.placement,this._showCollisionBoxes,B,R,x))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(r){return this.placement.commit(r),this.placement}}const Ls=512/c.ag/2;class ic{constructor(r,l,p){this.tileID=r,this.bucketInstanceId=p,this.index=new c.bE(l.length,16,Int32Array),this.keys=[],this.crossTileIDs=[];const _=r.canonical.x*c.ag,x=r.canonical.y*c.ag;for(let E=0;E<l.length;E++){const{key:R,crossTileID:B,tileAnchorX:V,tileAnchorY:U}=l.get(E),J=Math.floor((_+V)*Ls),Q=Math.floor((x+U)*Ls);this.index.add(J,Q),this.keys.push(R),this.crossTileIDs.push(B)}this.index.finish()}findMatches(r,l,p){const _=this.tileID.canonical.z<l.canonical.z?1:Math.pow(2,this.tileID.canonical.z-l.canonical.z),x=Ls/Math.pow(2,l.canonical.z-this.tileID.canonical.z),E=l.canonical.x*c.ag,R=l.canonical.y*c.ag;for(let B=0;B<r.length;B++){const V=r.get(B);if(V.crossTileID)continue;const{key:U,tileAnchorX:J,tileAnchorY:Q}=V,le=Math.floor((E+J)*x),Ee=Math.floor((R+Q)*x),be=this.index.range(le-_,Ee-_,le+_,Ee+_);for(const Ae of be){const Pe=this.crossTileIDs[Ae];if(this.keys[Ae]===U&&!p.has(Pe)){p.add(Pe),V.crossTileID=Pe;break}}}}}class gc{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class jc{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(r){const l=Math.round((r-this.lng)/360);if(l!==0)for(const p in this.indexes){const _=this.indexes[p],x={};for(const E in _){const R=_[E];R.tileID=R.tileID.unwrapTo(R.tileID.wrap+l),x[R.tileID.key]=R}this.indexes[p]=x}this.lng=r}addBucket(r,l,p){if(this.indexes[r.overscaledZ]&&this.indexes[r.overscaledZ][r.key]){if(this.indexes[r.overscaledZ][r.key].bucketInstanceId===l.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(r.overscaledZ,this.indexes[r.overscaledZ][r.key])}for(let x=0;x<l.symbolInstances.length;x++)l.symbolInstances.get(x).crossTileID=0;this.usedCrossTileIDs[r.overscaledZ]||(this.usedCrossTileIDs[r.overscaledZ]=new Set);const _=this.usedCrossTileIDs[r.overscaledZ];for(const x in this.indexes){const E=this.indexes[x];if(Number(x)>r.overscaledZ)for(const R in E){const B=E[R];B.tileID.isChildOf(r)&&B.findMatches(l.symbolInstances,r,_)}else{const R=E[r.scaledTo(Number(x)).key];R&&R.findMatches(l.symbolInstances,r,_)}}for(let x=0;x<l.symbolInstances.length;x++){const E=l.symbolInstances.get(x);E.crossTileID||(E.crossTileID=p.generate(),_.add(E.crossTileID))}return this.indexes[r.overscaledZ]===void 0&&(this.indexes[r.overscaledZ]={}),this.indexes[r.overscaledZ][r.key]=new ic(r,l.symbolInstances,l.bucketInstanceId),!0}removeBucketCrossTileIDs(r,l){for(const p of l.crossTileIDs)this.usedCrossTileIDs[r].delete(p)}removeStaleBuckets(r){let l=!1;for(const p in this.indexes){const _=this.indexes[p];for(const x in _)r[_[x].bucketInstanceId]||(this.removeBucketCrossTileIDs(p,_[x]),delete _[x],l=!0)}return l}}class _l{constructor(){this.layerIndexes={},this.crossTileIDs=new gc,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(r,l,p,_){let x=this.layerIndexes[r.fqid];x===void 0&&(x=this.layerIndexes[r.fqid]=new jc);let E=!1;const R={};_.name!=="globe"&&x.handleWrapJump(p);for(const B of l){const V=B.getBucket(r);V&&r.fqid===V.layerIds[0]&&(V.bucketInstanceId||(V.bucketInstanceId=++this.maxBucketInstanceId),x.addBucket(B.tileID,V,this.crossTileIDs)&&(E=!0),R[V.bucketInstanceId]=!0)}return x.removeStaleBuckets(R)&&(E=!0),E}pruneUnusedLayers(r){const l={};r.forEach(p=>{l[p]=!0});for(const p in this.layerIndexes)l[p]||delete this.layerIndexes[p]}}const Yl=771;class ra{constructor(r,l,p,_){this.blendFunction=r,this.blendColor=l,this.mask=p,this.blendEquation=_}}ra.Replace=[1,0,1,0],ra.disabled=new ra(ra.Replace,c.aj.transparent,[!1,!1,!1,!1]),ra.unblended=new ra(ra.Replace,c.aj.transparent,[!0,!0,!0,!0]),ra.alphaBlended=new ra([1,Yl,1,Yl],c.aj.transparent,[!0,!0,!0,!0]),ra.alphaBlendedNonPremultiplied=new ra([770,Yl,770,Yl],c.aj.transparent,[!0,!0,!0,!0]),ra.multiply=new ra([774,0,774,0],c.aj.transparent,[!0,!0,!0,!0]);class To{constructor(r,l,p){this.func=r,this.mask=l,this.range=p}}To.ReadOnly=!1,To.ReadWrite=!0,To.disabled=new To(519,To.ReadOnly,[0,1]);const hu=7680;class Uo{constructor(r,l,p,_,x,E){this.test=r,this.ref=l,this.mask=p,this.fail=_,this.depthFail=x,this.pass=E}}Uo.disabled=new Uo({func:519,mask:0},0,0,hu,hu,hu);const oc=1029,nu=2305;class qo{constructor(r,l,p){this.enable=r,this.mode=l,this.frontFace=p}}function Ec(m,r){const l=c.bG(m,3);c.ab.mat4.fromQuat(m,r),c.bI(m,3,l)}function vc(m,r){const l=c.ab.quat.identity([]);return c.ab.quat.rotateZ(l,l,-r),c.ab.quat.rotateX(l,l,-m),l}function ru(m,r){const l=[m[0],m[1],0],p=[r[0],r[1],0];if(c.ab.vec3.length(l)>=1e-15){const E=c.ab.vec3.normalize([],l);c.ab.vec3.scale(p,E,c.ab.vec3.dot(p,E)),r[0]=p[0],r[1]=p[1]}const _=c.ab.vec3.cross([],r,m);if(c.ab.vec3.len(_)<1e-15)return null;const x=Math.atan2(-_[1],_[0]);return vc(Math.atan2(Math.sqrt(m[0]*m[0]+m[1]*m[1]),-m[2]),x)}qo.disabled=new qo(!1,oc,nu),qo.backCCW=new qo(!0,oc,nu),qo.backCW=new qo(!0,oc,2304),qo.frontCW=new qo(!0,1028,2304),qo.frontCCW=new qo(!0,1028,nu);class ku{constructor(r,l){this.position=r,this.orientation=l}get position(){return this._position}set position(r){if(r){const l=r instanceof c.aa?r:new c.aa(r[0],r[1],r[2]);this._renderWorldCopies&&(l.x=c.bF(l.x,0,1)),this._position=l}else this._position=null}lookAtPoint(r,l){if(this.orientation=null,!this.position)return;const p=this.position,_=this._elevation?this._elevation.getAtPointOrZero(c.aa.fromLngLat(r)):0,x=c.aa.fromLngLat(r,_),E=[x.x-p.x,x.y-p.y,x.z-p.z];l||(l=[0,0,1]),l[2]=Math.abs(l[2]),this.orientation=ru(E,l)}setPitchBearing(r,l){this.orientation=vc(c.ai(r),c.ai(-l))}}class ac{constructor(r,l){this._transform=c.ab.mat4.identity([]),this.orientation=l,this.position=r}get mercatorPosition(){const r=this.position;return new c.aa(r[0],r[1],r[2])}get position(){const r=c.bG(this._transform,3);return[r[0],r[1],r[2]]}set position(r){var l;r&&c.bI(this._transform,3,[(l=r)[0],l[1],l[2],1])}get orientation(){return this._orientation}set orientation(r){this._orientation=r||c.ab.quat.identity([]),r&&Ec(this._transform,this._orientation)}getPitchBearing(){const r=this.forward(),l=this.right();return{bearing:Math.atan2(-l[1],l[0]),pitch:Math.atan2(Math.sqrt(r[0]*r[0]+r[1]*r[1]),-r[2])}}setPitchBearing(r,l){this._orientation=vc(r,l),Ec(this._transform,this._orientation)}forward(){const r=c.bG(this._transform,2);return[-r[0],-r[1],-r[2]]}up(){const r=c.bG(this._transform,1);return[-r[0],-r[1],-r[2]]}right(){const r=c.bG(this._transform,0);return[r[0],r[1],r[2]]}getCameraToWorld(r,l){const p=new Float64Array(16);return c.ab.mat4.invert(p,this.getWorldToCamera(r,l)),p}getCameraToWorldMercator(){return this._transform}getWorldToCameraPosition(r,l,p){const _=this.position;c.ab.vec3.scale(_,_,-r);const x=new Float64Array(16);return c.ab.mat4.fromScaling(x,[p,p,p]),c.ab.mat4.translate(x,x,_),x[10]*=l,x}getWorldToCamera(r,l){const p=new Float64Array(16),_=new Float64Array(4),x=this.position;return c.ab.quat.conjugate(_,this._orientation),c.ab.vec3.scale(x,x,-r),c.ab.mat4.fromQuat(p,_),c.ab.mat4.translate(p,p,x),p[1]*=-1,p[5]*=-1,p[9]*=-1,p[13]*=-1,p[8]*=l,p[9]*=l,p[10]*=l,p[11]*=l,p}getCameraToClipPerspective(r,l,p,_){const x=new Float64Array(16);return c.ab.mat4.perspective(x,r,l,p,_),x}getCameraToClipOrthographic(r,l,p,_,x,E){const R=new Float64Array(16);return c.ab.mat4.ortho(R,r,l,p,_,x,E),R}getDistanceToElevation(r,l=!1){const p=r===0?0:c.bH(r,l?c.aS(this.position[1]):this.position[1]),_=this.forward();return(p-this.position[2])/_[2]}clone(){return new ac([...this.position],[...this.orientation])}}const gl={BaseColor:5,MetallicRoughness:6,Normal:7,Occlusion:8,Emission:9,LUT:10,ShadowMap0:11};class Ii{constructor(r=0,l=0,p=0,_=0){if(isNaN(r)||r<0||isNaN(l)||l<0||isNaN(p)||p<0||isNaN(_)||_<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=r,this.bottom=l,this.left=p,this.right=_}interpolate(r,l,p){return l.top!=null&&r.top!=null&&(this.top=c.af(r.top,l.top,p)),l.bottom!=null&&r.bottom!=null&&(this.bottom=c.af(r.bottom,l.bottom,p)),l.left!=null&&r.left!=null&&(this.left=c.af(r.left,l.left,p)),l.right!=null&&r.right!=null&&(this.right=c.af(r.right,l.right,p)),this}getCenter(r,l){const p=c.aw((this.left+r-this.right)/2,0,r),_=c.aw((this.top+l-this.bottom)/2,0,l);return new c.P(p,_)}equals(r){return this.top===r.top&&this.bottom===r.bottom&&this.left===r.left&&this.right===r.right}clone(){return new Ii(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}const ju=(m,r,l)=>(1-l)*m+l*r,ld=m=>m*m*m*m*m;class Yc{constructor(r,l,p,_,x,E,R){this.tileSize=512,this._renderWorldCopies=x===void 0||x,this._minZoom=r||0,this._maxZoom=l||22,this._minPitch=p!=null?p:0,this._maxPitch=_!=null?_:60,this.setProjection(E),this.setMaxBounds(R),this.width=0,this.height=0,this._center=new c.bO(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new Ii,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._expandedProjMatrixCache={},this._distanceTileDataCache={},this._camera=new ac,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._tileCoverLift=0,this.freezeTileCoverage=!1,this._horizonShift=.1,this._orthographicProjectionAtLowPitch=!1}clone(){const r=new Yc(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return r._elevation=this._elevation,r._centerAltitude=this._centerAltitude,r._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,r.tileSize=this.tileSize,r.mercatorFromTransition=this.mercatorFromTransition,r.width=this.width,r.height=this.height,r.cameraElevationReference=this.cameraElevationReference,r._center=this._center,r._setZoom(this.zoom),r._seaLevelZoom=this._seaLevelZoom,r.angle=this.angle,r._fov=this._fov,r._pitch=this._pitch,r._nearZ=this._nearZ,r._farZ=this._farZ,r._averageElevation=this._averageElevation,r._orthographicProjectionAtLowPitch=this._orthographicProjectionAtLowPitch,r._unmodified=this._unmodified,r._edgeInsets=this._edgeInsets.clone(),r._camera=this._camera.clone(),r._calcMatrices(),r.freezeTileCoverage=this.freezeTileCoverage,r.frustumCorners=this.frustumCorners,r}get isOrthographic(){return this.projection.name!=="globe"&&this._orthographicProjectionAtLowPitch&&this.pitch<15}get elevation(){return this._elevation}set elevation(r){this._elevation!==r&&(this._elevation=r,this._updateCameraOnTerrain(),this._calcMatrices())}get depthOcclusionForSymbolsAndCircles(){return this.projection.name!=="globe"&&!this.isOrthographic}updateElevation(r,l=!1){const p=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(this._seaLevelZoom==null||p)&&this._updateCameraOnTerrain(),(r||p)&&this._constrainCamera(l),this._calcMatrices()}getProjection(){return c.ay(this.projection,["name","center","parallels"])}setProjection(r){this.projectionOptions=r||{name:"mercator"};const l=this.projection?this.getProjection():void 0;this.projection=c.bP(this.projectionOptions);const p=this.getProjection(),_=!c.bn(l,p);return _&&this._calcMatrices(),this.mercatorFromTransition=!1,_}setOrthographicProjectionAtLowPitch(r){return this._orthographicProjectionAtLowPitch!==r&&(this._orthographicProjectionAtLowPitch=r,this._calcMatrices(),!0)}setMercatorFromTransition(){const r=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:"mercator"},this.projection=c.bP({name:"mercator"});const l=r!==this.projection.name;return l&&this._calcMatrices(),l}get minZoom(){return this._minZoom}set minZoom(r){this._minZoom!==r&&(this._minZoom=r,this.zoom=Math.max(this.zoom,r))}get maxZoom(){return this._maxZoom}set maxZoom(r){this._maxZoom!==r&&(this._maxZoom=r,this.zoom=Math.min(this.zoom,r))}get minPitch(){return this._minPitch}set minPitch(r){this._minPitch!==r&&(this._minPitch=r,this.pitch=Math.max(this.pitch,r))}get maxPitch(){return this._maxPitch}set maxPitch(r){this._maxPitch!==r&&(this._maxPitch=r,this.pitch=Math.min(this.pitch,r))}get renderWorldCopies(){return this._renderWorldCopies&&this.projection.supportsWorldCopies===!0}set renderWorldCopies(r){r===void 0?r=!0:r===null&&(r=!1),this._renderWorldCopies=r}get worldSize(){return this.tileSize*this.scale}get cameraWorldSizeForFog(){const r=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(r))}get cameraWorldSize(){const r=Math.max(this._camera.getDistanceToElevation(this._averageElevation,!0),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(r))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return c.bH(1,this.center.lat)*this.cameraWorldSizeForFog}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new c.P(this.width,this.height)}get bearing(){return c.bF(this.rotation,-180,180)}set bearing(r){this.rotation=r}get rotation(){return-this.angle/Math.PI*180}set rotation(r){const l=-r*Math.PI/180;this.angle!==l&&(this._unmodified=!1,this.angle=l,this._calcMatrices(),this.rotationMatrix=c.ab.mat2.create(),c.ab.mat2.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(r){const l=c.aw(r,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==l&&(this._unmodified=!1,this._pitch=l,this._calcMatrices())}get aspect(){return this.width/this.height}get fov(){return this._fov/Math.PI*180}get fovX(){return this._fov}get fovY(){const r=1/Math.tan(.5*this.fovX);return 2*Math.atan(1/this.aspect/r)}set fov(r){r=Math.max(.01,Math.min(60,r)),this._fov!==r&&(this._unmodified=!1,this._fov=c.ai(r),this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(r){this._averageElevation=r,this._calcFogMatrices(),this._distanceTileDataCache={}}get zoom(){return this._zoom}set zoom(r){const l=Math.min(Math.max(r,this.minZoom),this.maxZoom);this._zoom!==l&&(this._unmodified=!1,this._setZoom(l),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices())}_setZoom(r){this._zoom=r,this.scale=this.zoomScale(r),this.tileZoom=Math.floor(r),this.zoomFraction=r-this.tileZoom}get tileCoverLift(){return this._tileCoverLift}set tileCoverLift(r){this._tileCoverLift!==r&&(this._tileCoverLift=r)}_updateCameraOnTerrain(){const r=this.elevation?this.elevation.getAtPoint(this.locationCoordinate(this.center),Number.NEGATIVE_INFINITY):Number.NEGATIVE_INFINITY,l=this.elevation&&r===Number.NEGATIVE_INFINITY&&this.elevation.visibleDemTiles.length>0&&this.elevation.exaggeration()>0&&this._centerAltitudeValidForExaggeration;if(!this._elevation||r===Number.NEGATIVE_INFINITY&&(!l||!this._centerAltitude))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);const p=this._elevation;l||this._centerAltitude&&this._centerAltitudeValidForExaggeration&&p.exaggeration()&&this._centerAltitudeValidForExaggeration!==p.exaggeration()?(this._centerAltitude=this._centerAltitude/this._centerAltitudeValidForExaggeration*p.exaggeration(),this._centerAltitudeValidForExaggeration=p.exaggeration()):(this._centerAltitude=r||0,this._centerAltitudeValidForExaggeration=p.exaggeration()),this._updateSeaLevelZoom()}_updateSeaLevelZoom(){this._centerAltitudeValidForExaggeration!==void 0&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize))}sampleAverageElevation(){if(!this._elevation)return 0;const r=this._elevation,l=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],p=this.horizonLineFromTop();let _=0,x=0;for(let E=0;E<l.length;E++){const R=new c.P(l[E][0]*this.width,p+l[E][1]*(this.height-p)),B=r.pointCoordinate(R);if(!B)continue;const V=1/Math.hypot(B[0]-this._camera.position[0],B[1]-this._camera.position[1]);_+=B[3]*V,x+=V}return x===0?NaN:_/x}get center(){return this._center}set center(r){r.lat===this._center.lat&&r.lng===this._center.lng||(this._unmodified=!1,this._center=r,this._terrainEnabled()&&(this.cameraElevationReference==="ground"?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(this._seaLevelZoom==null||!this._elevation)return;const r=this._seaLevelZoom,l=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),p=this.pixelsPerMeter/this.worldSize*l,_=this._mercatorZfromZoom(r),x=this._mercatorZfromZoom(this._maxZoom),E=Math.max(_-p,x);this._setZoom(this._zoomFromMercatorZ(E))}get padding(){return this._edgeInsets.toJSON()}set padding(r){this._edgeInsets.equals(r)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,r,1),this._calcMatrices())}computeZoomRelativeTo(r){const l=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,r.toAltitude()));let p;p=r.z<this._camera.position[2]?[l.x,l.y,l.z]:[r.x,r.y,r.z];const _=c.ab.vec3.length(c.ab.vec3.sub([],this._camera.position,p));return c.aw(this._zoomFromMercatorZ(_),this._minZoom,this._maxZoom)}setFreeCameraOptions(r){if(!this.height||!r.position&&!r.orientation)return;this._updateCameraState();let l=!1;if(r.orientation&&!c.ab.quat.exactEquals(r.orientation,this._camera.orientation)&&(l=this._setCameraOrientation(r.orientation)),r.position){const p=[r.position.x,r.position.y,r.position.z];c.ab.vec3.exactEquals(p,this._camera.position)||(this._setCameraPosition(p),l=!0)}l&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const r=this._camera.position,l=new ku;return l.position=new c.aa(r[0],r[1],r[2]),l.orientation=this._camera.orientation,l._elevation=this.elevation,l._renderWorldCopies=this.renderWorldCopies,l}_setCameraOrientation(r){if(!c.ab.quat.length(r))return!1;c.ab.quat.normalize(r,r);const l=c.ab.vec3.transformQuat([],[0,0,-1],r),p=c.ab.vec3.transformQuat([],[0,-1,0],r);if(p[2]<0)return!1;const _=ru(l,p);return!!_&&(this._camera.orientation=_,!0)}_setCameraPosition(r){const l=this.zoomScale(this.minZoom)*this.tileSize,p=this.zoomScale(this.maxZoom)*this.tileSize,_=this.cameraToCenterDistance;r[2]=c.aw(r[2],_/p,_/l),this._camera.position=r}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(r){return this._edgeInsets.equals(r)}interpolatePadding(r,l,p){this._unmodified=!1,this._edgeInsets.interpolate(r,l,p),this._constrain(),this._calcMatrices()}coveringZoomLevel(r){const l=(r.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/r.tileSize));return Math.max(0,l)}getVisibleUnwrappedCoordinates(r){const l=[new c.bQ(0,r)];if(this.renderWorldCopies){const p=this.pointCoordinate(new c.P(0,0)),_=this.pointCoordinate(new c.P(this.width,0)),x=this.pointCoordinate(new c.P(this.width,this.height)),E=this.pointCoordinate(new c.P(0,this.height)),R=Math.floor(Math.min(p.x,_.x,x.x,E.x)),B=Math.floor(Math.max(p.x,_.x,x.x,E.x)),V=1;for(let U=R-V;U<=B+V;U++)U!==0&&l.push(new c.bQ(U,r))}return l}isLODDisabled(r){return(!r||this.pitch<=60)&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace}extendTileCover(r,l,p){let _=[];const x=p!==void 0,E=!x;if(E&&this.zoom<l||x&&p[0]===0&&p[1]===0)return _;const R=new Set,B=(U,J,Q,le,Ee)=>{const be=c.c5(J,U,Q,le,Ee);R.has(be)||(_.push(new c.aG(U,J,Q,le,Ee)),R.add(be))};for(let U=0;U<r.length;U++){const J=r[U];if(E&&J.canonical.z!==l)continue;const Q=J.canonical,le=J.overscaledZ,Ee=J.wrap,be=1<<Q.z,Ae=Q.x+1<be,Pe=Q.x>0,Qe=Q.y+1<be,xt=Q.y>0,gt=J.wrap-(Pe?0:1),Bt=J.wrap+(Ae?0:1),Rt=Pe?Q.x-1:be-1,Dt=Ae?Q.x+1:0;if(x)p[0]<0?(B(le,Bt,Q.z,Dt,Q.y),p[1]<0&&Qe&&(B(le,Ee,Q.z,Q.x,Q.y+1),B(le,Bt,Q.z,Dt,Q.y+1)),p[1]>0&&xt&&(B(le,Ee,Q.z,Q.x,Q.y-1),B(le,Bt,Q.z,Dt,Q.y-1))):p[0]>0?(B(le,gt,Q.z,Rt,Q.y),p[1]<0&&Qe&&(B(le,Ee,Q.z,Q.x,Q.y+1),B(le,gt,Q.z,Rt,Q.y+1)),p[1]>0&&xt&&(B(le,Ee,Q.z,Q.x,Q.y-1),B(le,gt,Q.z,Rt,Q.y-1))):p[1]<0&&Qe?B(le,Ee,Q.z,Q.x,Q.y+1):xt&&B(le,Ee,Q.z,Q.x,Q.y-1);else{const Pt=J.visibleQuadrants;1&Pt&&(B(le,gt,Q.z,Rt,Q.y),xt&&(B(le,Ee,Q.z,Q.x,Q.y-1),B(le,gt,Q.z,Rt,Q.y-1))),2&Pt&&(B(le,Bt,Q.z,Dt,Q.y),xt&&(B(le,Ee,Q.z,Q.x,Q.y-1),B(le,Bt,Q.z,Dt,Q.y-1))),4&Pt&&(B(le,gt,Q.z,Rt,Q.y),Qe&&(B(le,Ee,Q.z,Q.x,Q.y+1),B(le,gt,Q.z,Rt,Q.y+1))),8&Pt&&(B(le,Bt,Q.z,Dt,Q.y),Qe&&(B(le,Ee,Q.z,Q.x,Q.y+1),B(le,Bt,Q.z,Dt,Q.y+1)))}}const V=[];for(const U of _)_.some(J=>U.isChildOf(J))||V.push(U);if(_=V.filter(U=>!r.some(J=>!!(U.overscaledZ<l&&J.isChildOf(U))||U.equals(J)||U.isChildOf(J))),E){const U=1<<l,J=this.projection.name==="globe"?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),Q=[U*J.x,U*J.y],le=4,Ee=le*le;_=_.filter(be=>{const Ae=be.canonical.x+.5-Q[0],Pe=be.canonical.y+.5-Q[1];return Ae*Ae+Pe*Pe<Ee})}return _}coveringTiles(r){let l=this.coveringZoomLevel(r);const p=l,_=this.elevation&&this.elevation.exaggeration(),x=_&&!r.isTerrainDEM,E=this.projection.name==="mercator";if(r.minzoom!==void 0&&l<r.minzoom)return[];r.maxzoom!==void 0&&l>r.maxzoom&&(l=r.maxzoom);const R=this.locationCoordinate(this.center),B=this.center.lat,V=1<<l,U=[V*R.x,V*R.y,0],J=this.projection.name==="globe",Q=!J,le=c.bR.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,l,Q),Ee=J?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),be=V*c.bH(1,this.center.lat),Ae=this._camera.position[2]/c.bH(1,this.center.lat),Pe=[V*Ee.x,V*Ee.y,Ae*(Q?1:be)],Qe=J||_,xt=this.cameraToCenterDistance/r.tileSize*(r.roundZoom?1:.502),gt=this.isLODDisabled(!0)?l:0;let Bt;if(this._elevation&&r.isTerrainDEM)Bt=1e4*this._elevation.exaggeration();else if(this._elevation){const Ln=this._elevation.getMinMaxForVisibleTiles();Bt=Ln?Ln.max:this._centerAltitude}else Bt=this._centerAltitude;const Rt=r.isTerrainDEM?-Bt:this._elevation?this._elevation.getMinElevationBelowMSL():0,Dt=this.projection.isReprojectedInTileSpace?c.bS(this):1,Pt=Ln=>{const cr=new c.aa(Ln.x+25e-6,Ln.y,Ln.z),bi=new c.aa(Ln.x,Ln.y+25e-6,Ln.z),Vr=Ln.toLngLat(),$r=cr.toLngLat(),fi=bi.toLngLat(),Ci=this.locationCoordinate(Vr),Vi=this.locationCoordinate($r),ao=this.locationCoordinate(fi),ia=Math.hypot(Vi.x-Ci.x,Vi.y-Ci.y),Fo=Math.hypot(ao.x-Ci.x,ao.y-Ci.y);return Math.sqrt(ia*Fo)*Dt/25e-6},qt=Ln=>{const Ar=Bt,cr=Rt;return{aabb:c.bV(this,V,0,0,0,Ln,cr,Ar,this.projection),zoom:0,x:0,y:0,minZ:cr,maxZ:Ar,wrap:Ln,fullyVisible:!1}},mn=[];let nr=[];const Wn=l,Pr=r.reparseOverscaled?p:l,Er=(Ae-this._centerAltitude)*be,Nn=Ln=>{if(!this._elevation||!Ln.tileID||!E)return;const Ar=this._elevation.getMinMaxForTile(Ln.tileID),cr=Ln.aabb;Ar?(cr.min[2]=Ar.min,cr.max[2]=Ar.max,cr.center[2]=(cr.min[2]+cr.max[2])/2):(Ln.shouldSplit=Kr(Ln),Ln.shouldSplit||(cr.min[2]=cr.max[2]=cr.center[2]=this._centerAltitude))},ar=(Ln,Ar)=>{if(.707*Ar<Ln)return 1;const cr=Ar/Ln;return cr/(1.4144271570014144+(Math.pow(1.1,cr-1.4144271570014144+1)-1)/(1.1-1)-1)},Kr=Ln=>{if(Ln.zoom<gt)return!0;if(Ln.zoom===Wn)return!1;if(Ln.shouldSplit!=null)return Ln.shouldSplit;const Ar=Ln.aabb.distanceX(Pe),cr=Ln.aabb.distanceY(Pe);let bi=Er,Vr=1;if(J){bi=Ln.aabb.distanceZ(Pe);const Fo=Math.pow(2,Ln.zoom),Zo=c.aS((Ln.y+1)/Fo),ga=c.aS(Ln.y/Fo),as=Math.min(Math.max(B,Zo),ga),ps=c.c9(as)/c.c9(B);if(Vr=as===B?1/Math.max(1,this._mercatorScaleRatio-.3):Math.min(1,ps/this._mercatorScaleRatio),this.zoom<=c.c6&&Ln.zoom===Wn-1&&ps>=.9)return!0}else if(x&&(bi=Ln.aabb.distanceZ(Pe)*be),this.projection.isReprojectedInTileSpace&&p<=5){const Fo=Math.pow(2,Ln.zoom),Zo=Pt(new c.aa((Ln.x+.5)/Fo,(Ln.y+.5)/Fo));Vr=Zo>.85?1:Zo}if(!E){const Fo=Math.sqrt(Ar*Ar+cr*cr+bi*bi);let Zo=(1<<Wn-Ln.zoom)*xt*Vr;return Zo*=ar(Math.max(bi,Er),Fo),Fo<Zo}let $r=Number.MAX_VALUE,fi=0;const Ci=Ln.aabb.getCorners(),Vi=[];for(const Fo of Ci){c.ab.vec3.sub(Vi,Fo,Pe),J||(x?Vi[2]*=be:Vi[2]=Er);const Zo=c.ab.vec3.dot(Vi,this._camera.forward());Zo<$r&&($r=Zo,fi=Math.abs(Vi[2]))}let ao=(1<<Wn-Ln.zoom)*xt*Vr;if(ao*=ar(Math.max(fi,Er),$r),$r<ao)return!0;const ia=Ln.aabb.closestPoint(U);return ia[0]===U[0]&&ia[1]===U[1]};if(this.renderWorldCopies)for(let Ln=1;Ln<=3;Ln++)mn.push(qt(-Ln)),mn.push(qt(Ln));for(mn.push(qt(0));mn.length>0;){const Ln=mn.pop(),Ar=Ln.x,cr=Ln.y;let bi=Ln.fullyVisible;const Vr=()=>this.projection.name==="globe"&&(Ln.y===0||Ln.y===(1<<Ln.zoom)-1);if(!bi){let $r=Qe?Ln.aabb.intersects(le):Ln.aabb.intersectsFlat(le);if($r===0&&Vr()){const fi=new c.bT(Ln.zoom,Ar,cr);$r=c.bU(this,V,fi,!0).intersects(le)}if($r===0)continue;bi=$r===2}if(Ln.zoom!==Wn&&Kr(Ln))for(let $r=0;$r<4;$r++){const fi=(Ar<<1)+$r%2,Ci=(cr<<1)+($r>>1),Vi={aabb:E?Ln.aabb.quadrant($r):c.bV(this,V,Ln.zoom+1,fi,Ci,Ln.wrap,Ln.minZ,Ln.maxZ,this.projection),zoom:Ln.zoom+1,x:fi,y:Ci,wrap:Ln.wrap,fullyVisible:bi,tileID:void 0,shouldSplit:void 0,minZ:Ln.minZ,maxZ:Ln.maxZ};x&&!J&&(Vi.tileID=new c.aG(Ln.zoom+1===Wn?Pr:Ln.zoom+1,Ln.wrap,Ln.zoom+1,fi,Ci),Nn(Vi)),mn.push(Vi)}else{const $r=Ln.zoom===Wn?Pr:Ln.zoom;if(r.minzoom&&r.minzoom>$r)continue;let fi=0;if(!bi){let ia=Qe?Ln.aabb.intersectsPrecise(le):Ln.aabb.intersectsPreciseFlat(le);if(ia===0&&Vr()){const Fo=new c.bT(Ln.zoom,Ar,cr);ia=c.bU(this,V,Fo,!0).intersectsPrecise(le)}if(ia===0)continue;if(r.calculateQuadrantVisibility)if(le.containsPoint(Ln.aabb.center))fi=15;else for(let Fo=0;Fo<4;Fo++)Ln.aabb.quadrant(Fo).intersects(le)!==0&&(fi|=1<<Fo)}const Ci=U[0]-(.5+Ar+(Ln.wrap<<Ln.zoom))*(1<<l-Ln.zoom),Vi=U[1]-.5-cr,ao=Ln.tileID?Ln.tileID:new c.aG($r,Ln.wrap,Ln.zoom,Ar,cr);r.calculateQuadrantVisibility&&(ao.visibleQuadrants=fi),nr.push({tileID:ao,distanceSq:Ci*Ci+Vi*Vi})}}if(this.fogCullDistSq){const Ln=this.fogCullDistSq,Ar=this.horizonLineFromTop();nr=nr.filter(cr=>{const bi=[0,0,0,1],Vr=[c.ag,c.ag,0,1],$r=this.calculateFogTileMatrix(cr.tileID.toUnwrapped());c.ab.vec4.transformMat4(bi,bi,$r),c.ab.vec4.transformMat4(Vr,Vr,$r);const fi=c.ab.vec4.min([],bi,Vr),Ci=c.ab.vec4.max([],bi,Vr),Vi=c.bW(fi,Ci);if(Vi===0)return!0;let ao=!1;const ia=this._elevation;if(ia&&Vi>Ln&&Ar!==0){const Fo=this.calculateProjMatrix(cr.tileID.toUnwrapped());let Zo;r.isTerrainDEM||(Zo=ia.getMinMaxForTile(cr.tileID)),Zo||(Zo={min:Rt,max:Bt});const ga=c.c7(this.rotation),as=[ga[0]*c.ag,ga[1]*c.ag,Zo.max];c.ab.vec3.transformMat4(as,as,Fo),ao=(1-as[1])*this.height*.5<Ar}return Vi<Ln||ao})}return nr.sort((Ln,Ar)=>Ln.distanceSq-Ar.distanceSq).map(Ln=>Ln.tileID)}resize(r,l){this.width=r,this.height=l,this.pixelsToGLUnits=[2/r,-2/l],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(r){return Math.pow(2,r)}scaleZoom(r){return Math.log(r)/Math.LN2}project(r){const l=c.aw(r.lat,-c.bX,c.bX),p=this.projection.project(r.lng,l);return new c.P(p.x*this.worldSize,p.y*this.worldSize)}unproject(r){return this.projection.unproject(r.x/this.worldSize,r.y/this.worldSize)}get point(){return this.project(this.center)}get pointMerc(){return this.point._div(this.worldSize)}get pixelsPerMeterRatio(){return this.pixelsPerMeter/c.bH(1,this.center.lat)/this.worldSize}setLocationAtPoint(r,l){let p,_;const x=this.centerPoint;if(this.projection.name==="globe"){const R=this.worldSize;p=(l.x-x.x)/R,_=(l.y-x.y)/R}else{const R=this.pointCoordinate(l),B=this.pointCoordinate(x);p=R.x-B.x,_=R.y-B.y}const E=this.locationCoordinate(r);this.setLocation(new c.aa(E.x-p,E.y-_))}setLocation(r){this.center=this.coordinateLocation(r),this.projection.wrap&&(this.center=this.center.wrap())}locationPoint(r){return this.projection.locationPoint(this,r)}locationPoint3D(r){return this.projection.locationPoint(this,r,!0)}pointLocation(r){return this.coordinateLocation(this.pointCoordinate(r))}pointLocation3D(r){return this.coordinateLocation(this.pointCoordinate3D(r))}locationCoordinate(r,l){const p=l?c.bH(l,r.lat):void 0,_=this.projection.project(r.lng,r.lat);return new c.aa(_.x,_.y,p)}coordinateLocation(r){return this.projection.unproject(r.x,r.y)}pointRayIntersection(r,l){const p=l!=null?l:this._centerAltitude,_=[r.x,r.y,0,1],x=[r.x,r.y,1,1];c.ab.vec4.transformMat4(_,_,this.pixelMatrixInverse),c.ab.vec4.transformMat4(x,x,this.pixelMatrixInverse);const E=x[3];c.ab.vec4.scale(_,_,1/_[3]),c.ab.vec4.scale(x,x,1/E);const R=_[2],B=x[2];return{p0:_,p1:x,t:R===B?0:(p-R)/(B-R)}}screenPointToMercatorRay(r){const l=[r.x,r.y,0,1],p=[r.x,r.y,1,1];return c.ab.vec4.transformMat4(l,l,this.pixelMatrixInverse),c.ab.vec4.transformMat4(p,p,this.pixelMatrixInverse),c.ab.vec4.scale(l,l,1/l[3]),c.ab.vec4.scale(p,p,1/p[3]),l[2]=c.bH(l[2],this._center.lat)*this.worldSize,p[2]=c.bH(p[2],this._center.lat)*this.worldSize,c.ab.vec4.scale(l,l,1/this.worldSize),c.ab.vec4.scale(p,p,1/this.worldSize),new c.aq([l[0],l[1],l[2]],c.ab.vec3.normalize([],c.ab.vec3.sub([],p,l)))}rayIntersectionCoordinate(r){const{p0:l,p1:p,t:_}=r,x=c.bH(l[2],this._center.lat),E=c.bH(p[2],this._center.lat);return new c.aa(c.af(l[0],p[0],_)/this.worldSize,c.af(l[1],p[1],_)/this.worldSize,c.af(x,E,_))}pointCoordinate(r,l=this._centerAltitude){return this.projection.pointCoordinate(this,r.x,r.y,l)}pointCoordinate3D(r){if(!this.elevation)return this.pointCoordinate(r);let l=this.projection.pointCoordinate3D(this,r.x,r.y);if(l)return new c.aa(l[0],l[1],l[2]);let p=0,_=this.horizonLineFromTop();if(r.y>_)return this.pointCoordinate(r);const x=.02*_,E=r.clone();for(let R=0;R<10&&_-p>x;R++){E.y=c.af(p,_,.66);const B=this.projection.pointCoordinate3D(this,E.x,E.y);B?(_=E.y,l=B):p=E.y}return l?new c.aa(l[0],l[1],l[2]):this.pointCoordinate(r)}isPointAboveHorizon(r){return this.projection.isPointAboveHorizon(this,r)}isPointOnSurface(r){if(r.y<0||r.y>this.height||r.x<0||r.x>this.width)return!1;if(this.elevation||this.zoom>=c.bY)return!this.isPointAboveHorizon(r);const l=this.pointCoordinate(r);return l.y>=0&&l.y<=1}_coordinatePoint(r,l){const p=l&&this.elevation?this.elevation.getAtPointOrZero(r,this._centerAltitude):this._centerAltitude,_=[r.x*this.worldSize,r.y*this.worldSize,p+r.toAltitude(),1];return c.ab.vec4.transformMat4(_,_,this.pixelMatrix),_[3]>0?new c.P(_[0]/_[3],_[1]/_[3]):new c.P(Number.MAX_VALUE,Number.MAX_VALUE)}_getBoundsNonRectangular(){const{top:r,left:l}=this._edgeInsets,p=this.height-this._edgeInsets.bottom,_=this.width-this._edgeInsets.right,x=this.pointLocation3D(new c.P(l,r)),E=this.pointLocation3D(new c.P(_,r)),R=this.pointLocation3D(new c.P(_,p)),B=this.pointLocation3D(new c.P(l,p));let V=Math.min(x.lng,E.lng,R.lng,B.lng),U=Math.max(x.lng,E.lng,R.lng,B.lng),J=Math.min(x.lat,E.lat,R.lat,B.lat),Q=Math.max(x.lat,E.lat,R.lat,B.lat);const le=Math.pow(2,-this.zoom)/16*270,Ee=this.projection.name==="globe"?1:4,be=(Ae,Pe,Qe,xt,gt)=>{const Bt=(Ae+Qe)/2,Rt=(Pe+xt)/2,Dt=new c.P(Bt,Rt),{lng:Pt,lat:qt}=this.pointLocation3D(Dt),mn=Math.max(0,V-Pt,J-qt,Pt-U,qt-Q);V=Math.min(V,Pt),U=Math.max(U,Pt),J=Math.min(J,qt),Q=Math.max(Q,qt),(gt<Ee||mn>le)&&(be(Ae,Pe,Bt,Rt,gt+1),be(Bt,Rt,Qe,xt,gt+1))};if(be(l,r,_,r,1),be(_,r,_,p,1),be(_,p,l,p,1),be(l,p,l,r,1),this.projection.name==="globe"){const[Ae,Pe]=c.bZ(this);Ae?(Q=90,U=180,V=-180):Pe&&(J=-90,U=180,V=-180)}return new c.az(new c.bO(V,J),new c.bO(U,Q))}_getBoundsRectangular(r,l){const{top:p,left:_}=this._edgeInsets,x=this.height-this._edgeInsets.bottom,E=this.width-this._edgeInsets.right,R=new c.P(_,p),B=new c.P(E,p),V=new c.P(E,x),U=new c.P(_,x);let J=this.pointCoordinate(R,r),Q=this.pointCoordinate(B,r);const le=this.pointCoordinate(V,l),Ee=this.pointCoordinate(U,l),be=(Ae,Pe)=>(Pe.y-Ae.y)/(Pe.x-Ae.x);return J.y>1&&Q.y>=0?J=new c.aa((1-Ee.y)/be(Ee,J)+Ee.x,1):J.y<0&&Q.y<=1&&(J=new c.aa(-Ee.y/be(Ee,J)+Ee.x,0)),Q.y>1&&J.y>=0?Q=new c.aa((1-le.y)/be(le,Q)+le.x,1):Q.y<0&&J.y<=1&&(Q=new c.aa(-le.y/be(le,Q)+le.x,0)),new c.az().extend(this.coordinateLocation(J)).extend(this.coordinateLocation(Q)).extend(this.coordinateLocation(Ee)).extend(this.coordinateLocation(le))}_getBoundsRectangularTerrain(){const r=this.elevation;if(!r.visibleDemTiles.length||r.isUsingMockSource())return this._getBoundsRectangular(0,0);const l=r.visibleDemTiles.reduce((p,_)=>{if(_.dem){const x=_.dem.tree;p.min=Math.min(p.min,x.minimums[0]),p.max=Math.max(p.max,x.maximums[0])}return p},{min:Number.MAX_VALUE,max:0});return this._getBoundsRectangular(l.min*r.exaggeration(),l.max*r.exaggeration())}getBounds(){return this.projection.name==="mercator"||this.projection.name==="equirectangular"?this._terrainEnabled()?this._getBoundsRectangularTerrain():this._getBoundsRectangular(0,0):this._getBoundsNonRectangular()}horizonLineFromTop(r=!0){const l=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))-this.centerOffset.y,p=this.height/2-l*(1-this._horizonShift);return r?Math.max(0,p):p}getMaxBounds(){return this.maxBounds}setMaxBounds(r){this.maxBounds=r,this.minLat=-c.bX,this.maxLat=c.bX,this.minLng=-180,this.maxLng=180,r&&(this.minLat=r.getSouth(),this.maxLat=r.getNorth(),this.minLng=r.getWest(),this.maxLng=r.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=c.at(this.minLng)*this.tileSize,this.worldMaxX=c.at(this.maxLng)*this.tileSize,this.worldMinY=c.aA(this.maxLat)*this.tileSize,this.worldMaxY=c.aA(this.minLat)*this.tileSize,this._constrain()}calculatePosMatrix(r,l){return this.projection.createTileMatrix(this,l,r)}calculateDistanceTileData(r){const l=r.key,p=this._distanceTileDataCache;if(p[l])return p[l];const _=r.canonical,x=1/this.height,E=this.cameraWorldSize,R=E/this.zoomScale(_.z),B=(_.x+Math.pow(2,_.z)*r.wrap)*R,V=_.y*R,U=this.point;U.x*=E/this.worldSize,U.y*=E/this.worldSize;const J=this.angle,Q=Math.sin(-J),le=-Math.cos(-J);return p[l]={bearing:[Q,le],center:[(U.x-B)*x,(U.y-V)*x],scale:R/c.ag*x},p[l]}calculateFogTileMatrix(r){const l=r.key,p=this._fogTileMatrixCache;if(p[l])return p[l];const _=this.projection.createTileMatrix(this,this.cameraWorldSizeForFog,r);return c.ab.mat4.multiply(_,this.worldToFogMatrix,_),p[l]=new Float32Array(_),p[l]}calculateProjMatrix(r,l=!1,p=!1){const _=r.key;let x;if(x=p?this._expandedProjMatrixCache:l?this._alignedProjMatrixCache:this._projMatrixCache,x[_])return x[_];const E=this.calculatePosMatrix(r,this.worldSize);let R;return R=this.projection.isReprojectedInTileSpace?this.mercatorMatrix:p?this.expandedFarZProjMatrix:l?this.alignedProjMatrix:this.projMatrix,c.ab.mat4.multiply(E,R,E),x[_]=new Float32Array(E),x[_]}calculatePixelsToTileUnitsMatrix(r){const l=r.tileID.key,p=this._pixelsToTileUnitsCache;if(p[l])return p[l];const _=c.b_(r,this);return p[l]=_,p[l]}customLayerMatrix(){return this.mercatorMatrix.slice()}globeToMercatorMatrix(){if(this.projection.name==="globe"){const r=1/this.worldSize,l=c.ab.mat4.fromScaling([],[r,r,r]);return c.ab.mat4.multiply(l,l,this.globeMatrix),l}}recenterOnTerrain(){if(!this._elevation||this.projection.name==="globe")return;const r=this._elevation;this._updateCameraState();const l=c.bH(1,this._center.lat)*this.worldSize,p=this._computeCameraPosition(l),_=this._camera.forward(),x=c.bH(1,this._center.lat);p[2]/=x,_[2]/=x,c.ab.vec3.normalize(_,_);const E=r.raycast(p,_,r.exaggeration());if(E){const R=c.ab.vec3.scaleAndAdd([],p,_,E),B=new c.aa(R[0],R[1],c.bH(R[2],c.aS(R[1]))),V=(B.z+c.ab.vec3.length([B.x-p[0],B.y-p[1],B.z-p[2]*x]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ(V),this._centerAltitude=B.toAltitude(),this._center=this.coordinateLocation(B),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCamera(r=!1){if(!this._elevation)return;const l=this._elevation,p=c.bH(1,this._center.lat)*this.worldSize,_=this._computeCameraPosition(p),x=l.getAtPointOrZero(new c.aa(..._)),E=this.pixelsPerMeter/this.worldSize*x,R=this._minimumHeightOverTerrain(),B=_[2]-E;if(B<=R)if(B<0||r){const V=this.locationCoordinate(this._center,this._centerAltitude),U=[_[0],_[1],V.z-_[2]],J=c.ab.vec3.length(U);U[2]-=(R-B)/this._pixelsPerMercatorPixel;const Q=c.ab.vec3.length(U);if(Q===0)return;c.ab.vec3.scale(U,U,J/Q*this._pixelsPerMercatorPixel),this._camera.position=[_[0],_[1],V.z*this._pixelsPerMercatorPixel-U[2]],this._updateStateFromCamera()}else this._isCameraConstrained=!0}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const r=this.projection.name==="globe"||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||r){const Q=this.center;return Q.lat=c.aw(Q.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!r)&&(Q.lng=c.aw(Q.lng,this.minLng,this.maxLng)),this.center=Q,void(this._constraining=!1)}const l=this._unmodified,{x:p,y:_}=this.point;let x=0,E=p,R=_;const B=this.width/2,V=this.height/2,U=this.worldMinY*this.scale,J=this.worldMaxY*this.scale;if(_-V<U&&(R=U+V),_+V>J&&(R=J-V),J-U<this.height&&(x=Math.max(x,this.height/(J-U)),R=(J+U)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const Q=this.worldMinX*this.scale,le=this.worldMaxX*this.scale,Ee=this.worldSize/2-(Q+le)/2;E=(p+Ee+this.worldSize)%this.worldSize-Ee,E-B<Q&&(E=Q+B),E+B>le&&(E=le-B),le-Q<this.width&&(x=Math.max(x,this.width/(le-Q)),E=(le+Q)/2)}E===p&&R===_||(this.center=this.unproject(new c.P(E,R))),x&&(this.zoom+=this.scaleZoom(x)),this._constrainCamera(),this._unmodified=l,this._constraining=!1}_minZoomForBounds(){let r=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(r=Math.max(r,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),r}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const r=this.centerOffset,l=this.projection.name==="globe",p=this.pixelsPerMeter;this.projection.name==="globe"&&(this._mercatorScaleRatio=c.bH(1,this.center.lat)/c.bH(1,c.c8));const _=c.b$(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,_),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const x=this.projection.zAxisUnit==="meters"?p:1,E=this._camera.getWorldToCamera(this.worldSize,x);let R;const B=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);if(B[8]=2*-r.x/this.width,B[9]=2*r.y/this.height,this.isOrthographic){let qt=.5*this.height/Math.tan(this._fov/2)*1*Math.tan(.5*this._fov),mn=qt*this.aspect,nr=-mn,Wn=-qt;mn-=r.x,nr-=r.x,qt+=r.y,Wn+=r.y,R=this._camera.getCameraToClipOrthographic(nr,mn,Wn,qt,this._nearZ,this._farZ),((Pr,Er,Nn,ar)=>{for(let Kr=0;Kr<16;Kr++)Pr[Kr]=ju(Er[Kr],Nn[Kr],ar)})(R,R,B,ld(this.pitch>=15?1:this.pitch/15))}else R=B;const V=c.ab.mat4.mul([],B,E);let U=c.ab.mat4.mul([],R,E);if(this.projection.isReprojectedInTileSpace){const qt=this.locationCoordinate(this.center),mn=c.ab.mat4.identity([]);c.ab.mat4.translate(mn,mn,[qt.x*this.worldSize,qt.y*this.worldSize,0]),c.ab.mat4.multiply(mn,mn,c.c0(this)),c.ab.mat4.translate(mn,mn,[-qt.x*this.worldSize,-qt.y*this.worldSize,0]),c.ab.mat4.multiply(U,U,mn),c.ab.mat4.multiply(V,V,mn),this.inverseAdjustmentMatrix=c.c1(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];if(this.mercatorMatrix=c.ab.mat4.scale([],U,[this.worldSize,this.worldSize,this.worldSize/x,1]),this.projMatrix=U,this.invProjMatrix=c.ab.mat4.invert(new Float64Array(16),this.projMatrix),l){const qt=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,1/0);qt[8]=2*-r.x/this.width,qt[9]=2*r.y/this.height,this.expandedFarZProjMatrix=c.ab.mat4.mul([],qt,E)}else this.expandedFarZProjMatrix=this.projMatrix;const J=c.ab.mat4.invert([],R);this.frustumCorners=c.c2.fromInvProjectionMatrix(J,this.horizonLineFromTop(),this.height),this.cameraFrustum=c.bR.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,0,!l);const Q=new Float32Array(16);c.ab.mat4.identity(Q),c.ab.mat4.scale(Q,Q,[1,-1,1]),c.ab.mat4.rotateX(Q,Q,this._pitch),c.ab.mat4.rotateZ(Q,Q,this.angle);const le=c.ab.mat4.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ);this.starsProjMatrix=c.ab.mat4.clone(le);const Ee=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;le[8]=2*-r.x/this.width,le[9]=2*(r.y+Ee)/this.height,this.skyboxMatrix=c.ab.mat4.multiply(Q,le,Q);const be=this.point,Ae=be.x,Pe=be.y,Qe=this.width%2/2,xt=this.height%2/2,gt=Math.cos(this.angle),Bt=Math.sin(this.angle),Rt=Ae-Math.round(Ae)+gt*Qe+Bt*xt,Dt=Pe-Math.round(Pe)+gt*xt+Bt*Qe,Pt=new Float64Array(U);if(c.ab.mat4.translate(Pt,Pt,[Rt>.5?Rt-1:Rt,Dt>.5?Dt-1:Dt,0]),this.alignedProjMatrix=Pt,U=c.ab.mat4.create(),c.ab.mat4.scale(U,U,[this.width/2,-this.height/2,1]),c.ab.mat4.translate(U,U,[1,-1,0]),this.labelPlaneMatrix=U,U=c.ab.mat4.create(),c.ab.mat4.scale(U,U,[1,-1,1]),c.ab.mat4.translate(U,U,[-1,-1,0]),c.ab.mat4.scale(U,U,[2/this.width,2/this.height,1]),this.glCoordMatrix=U,this.pixelMatrix=c.ab.mat4.multiply(new Float64Array(16),this.labelPlaneMatrix,V),this._calcFogMatrices(),this._distanceTileDataCache={},U=c.ab.mat4.invert(new Float64Array(16),this.pixelMatrix),!U)throw new Error("failed to invert matrix");if(this.pixelMatrixInverse=U,this.projection.name==="globe"||this.mercatorFromTransition){this.globeMatrix=c.c3(this);const qt=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=c.ab.vec3.transformMat4(qt,qt,E),this.globeRadius=this.worldSize/2/Math.PI-1}else this.globeMatrix=U;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={},this._expandedProjMatrixCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const r=this.cameraWorldSizeForFog,l=this.cameraPixelsPerMeter,p=this._camera.position,_=1/this.height/this._pixelsPerMercatorPixel,x=[r,r,l];c.ab.vec3.scale(x,x,_),c.ab.vec3.scale(p,p,-1),c.ab.vec3.multiply(p,p,x);const E=c.ab.mat4.create();c.ab.mat4.translate(E,E,p),c.ab.mat4.scale(E,E,x),this.mercatorFogMatrix=E,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(r,l,_)}_computeCameraPosition(r){const l=(r=r||this.pixelsPerMeter)/this.pixelsPerMeter,p=this._camera.forward(),_=this.point,x=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*l-r/this.worldSize*this._centerAltitude;return[_.x/this.worldSize-p[0]*x,_.y/this.worldSize-p[1]*x,r/this.worldSize*this._centerAltitude-p[2]*x]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}_translateCameraConstrained(r){const l=this._maxCameraBoundsDistance()*Math.cos(this._pitch),p=this._camera.position[2],_=r[2];let x=1;this.projection.wrap&&(this.center=this.center.wrap()),_>0&&(x=Math.min((l-p)/_,1)),this._camera.position=c.ab.vec3.scaleAndAdd([],this._camera.position,r,x),this._updateStateFromCamera()}_updateStateFromCamera(){const r=this._camera.position,l=this._camera.forward(),{pitch:p,bearing:_}=this._camera.getPitchBearing(),x=c.bH(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,E=this._mercatorZfromZoom(this._maxZoom)*Math.cos(c.ai(this._maxPitch)),R=Math.max((r[2]-x)/Math.cos(p),E),B=this._zoomFromMercatorZ(R);c.ab.vec3.scaleAndAdd(r,r,l,R),this._pitch=c.aw(p,c.ai(this.minPitch),c.ai(this.maxPitch)),this.angle=c.bF(_,-Math.PI,Math.PI),this._setZoom(c.aw(B,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new c.aa(r[0],r[1],r[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(r){return Math.pow(2,r)*this.tileSize}_mercatorZfromZoom(r){return this.cameraToCenterDistance/this._worldSizeFromZoom(r)}_minimumHeightOverTerrain(){const r=Math.min(this._seaLevelZoom!=null?this._seaLevelZoom:this._zoom,this._maxZoom)+4;return this._mercatorZfromZoom(r)}_zoomFromMercatorZ(r){return this.scaleZoom(this.cameraToCenterDistance/(r*this.tileSize))}zoomFromMercatorZAdjusted(r){let l=0,p=c.bY,_=0,x=1/0;for(;p-l>1e-6&&p>l;){const E=l+.5*(p-l),R=this.tileSize*Math.pow(2,E),B=this.getCameraToCenterDistance(this.projection,E,R),V=this.scaleZoom(B/(r*this.tileSize)),U=Math.abs(E-V);U<x&&(x=U,_=E),E<V?l=E:p=E}return _}_terrainEnabled(){return!(!this._elevation||!this.projection.supportsTerrain&&(c.w("Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain."),1))}anyCornerOffEdge(r,l){const p=Math.min(r.x,l.x),_=Math.max(r.x,l.x),x=Math.min(r.y,l.y),E=Math.max(r.y,l.y);if(x<this.horizonLineFromTop(!1))return!0;if(this.projection.name!=="mercator")return!1;const R=[new c.P(p,x),new c.P(_,E),new c.P(p,E),new c.P(_,x)],B=this.renderWorldCopies?-3:0,V=this.renderWorldCopies?4:1;for(const U of R){const J=this.pointRayIntersection(U);if(J.t<0)return!0;const Q=this.rayIntersectionCoordinate(J);if(Q.x<B||Q.y<0||Q.x>V||Q.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+c.c4(this.fovAboveCenter)>88||this.anyCornerOffEdge(new c.P(0,0),new c.P(this.width,this.height))}zoomDeltaToMovement(r,l){const p=c.ab.vec3.length(c.ab.vec3.sub([],this._camera.position,r)),_=this._zoomFromMercatorZ(p)+l;return p-this._mercatorZfromZoom(_)}getCameraPoint(){if(this.projection.name==="globe"){const r=function([l,p,_],x){const E=[l,p,_,1];c.ab.vec4.transformMat4(E,E,x);const R=E[3]=Math.max(E[3],1e-6);return E[0]/=R,E[1]/=R,E[2]/=R,E}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new c.P(r[0],r[1])}{const r=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new c.P(0,r))}}getCameraToCenterDistance(r,l=this.zoom,p=this.worldSize){const _=c.b$(r,l,this.width,this.height,1024),x=r.pixelSpaceConversion(this.center.lat,p,_);let E=.5/Math.tan(.5*this._fov)*this.height*x;return this.isOrthographic&&(E=ju(1,E,ld(this.pitch>=15?1:this.pitch/15))),E}getWorldToCameraMatrix(){const r=this._camera.getWorldToCamera(this.worldSize,this.projection.zAxisUnit==="meters"?this.pixelsPerMeter:1);return this.projection.name==="globe"&&c.ab.mat4.multiply(r,r,this.globeMatrix),r}getFrustum(r){return c.bR.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,r,this.projection.zAxisUnit==="meters")}}const Jt=(m,r)=>{if(r>0&&m.terrain&&c.w("Cutoff is currently disabled on terrain"),r<=0||m.terrain)return{shouldRenderCutoff:!1,uniformValues:{u_cutoff_params:[0,0,0,1]}};const l=m.transform,p=Math.max(Math.abs(l._zoom-(m.minCutoffZoom-1)),1),_=l.isLODDisabled(!1)?c.ac(60,45,l.pitch):c.ac(30,15,l.pitch),x=l._farZ-l._nearZ,E=r*l.height,R=((1-(B=_))*l.cameraToCenterDistance+B*(l._farZ+E))*p;var B;return{shouldRenderCutoff:_<1,uniformValues:{u_cutoff_params:[l._nearZ,l._farZ,(R-l._nearZ)/x,(R-E-l._nearZ)/x]}}},wn={cascadeCount:2,normalOffset:3,shadowMapResolution:2048};class jn{constructor(r,l){this.aabb=r,this.lastCascade=l}}class rr{add(r,l){const p=this.receivers[r.key];p!==void 0?(p.aabb.min[0]=Math.min(p.aabb.min[0],l.min[0]),p.aabb.min[1]=Math.min(p.aabb.min[1],l.min[1]),p.aabb.min[2]=Math.min(p.aabb.min[2],l.min[2]),p.aabb.max[0]=Math.max(p.aabb.max[0],l.max[0]),p.aabb.max[1]=Math.max(p.aabb.max[1],l.max[1]),p.aabb.max[2]=Math.max(p.aabb.max[2],l.max[2])):this.receivers[r.key]=new jn(l,null)}clear(){this.receivers={}}get(r){return this.receivers[r.key]}computeRequiredCascades(r,l,p){const _=c.cd.fromPoints(r.points);let x=0;for(const E in this.receivers){const R=this.receivers[E];if(!R||!_.intersectsAabb(R.aabb))continue;R.aabb.min=_.closestPoint(R.aabb.min),R.aabb.max=_.closestPoint(R.aabb.max);const B=R.aabb.getCorners();for(let V=0;V<p.length;V++){let U=!0;for(const J of B){const Q=[J[0]*l,J[1]*l,J[2]];if(c.ab.vec3.transformMat4(Q,Q,p[V].matrix),Q[0]<-1||Q[0]>1||Q[1]<-1||Q[1]>1){U=!1;break}}if(R.lastCascade=V,x=Math.max(x,V),U)break}}return x+1}}class Fr{constructor(r){this.painter=r,this._enabled=!1,this._shadowLayerCount=0,this._numCascadesToRender=0,this._cascades=[],this._groundShadowTiles=[],this._receivers=new rr,this._depthMode=new To(r.context.gl.LEQUAL,To.ReadWrite,[0,1]),this._uniformValues={u_light_matrix_0:new Float32Array(16),u_light_matrix_1:new Float32Array(16),u_shadow_intensity:0,u_fade_range:[0,0],u_shadow_normal_offset:[1,1,1],u_shadow_texel_size:1,u_shadow_map_resolution:1,u_shadow_direction:[0,0,1],u_shadow_bias:[36e-5,.0012,.012],u_shadowmap_0:0,u_shadowmap_1:0},this._forceDisable=!1,this.useNormalOffset=!1,r.tp.registerParameter(this,["Shadows"],"_forceDisable",{label:"forceDisable"},()=>{this.painter.style.map.triggerRepaint()}),r.tp.registerParameter(wn,["Shadows"],"cascadeCount",{min:1,max:2,step:1}),r.tp.registerParameter(wn,["Shadows"],"normalOffset",{min:0,max:10,step:.05}),r.tp.registerParameter(wn,["Shadows"],"shadowMapResolution",{min:32,max:2048,step:32}),r.tp.registerBinding(this,["Shadows"],"_numCascadesToRender",{readonly:!0,label:"numCascadesToRender"})}destroy(){for(const r of this._cascades)r.texture.destroy(),r.framebuffer.destroy();this._cascades=[]}updateShadowParameters(r,l){const p=this.painter;if(this._enabled=!1,this._shadowLayerCount=0,this._receivers.clear(),!l||!l.properties)return;const _=l.properties.get("shadow-intensity");if(!l.shadowsEnabled()||_<=0||(this._shadowLayerCount=p.style.order.reduce((Ee,be)=>{const Ae=p.style._mergedLayers[be];return Ee+(Ae.hasShadowPass()&&!Ae.isHidden(r.zoom)?1:0)},0),this._enabled=this._shadowLayerCount>0,!this.enabled))return;const x=p.context,E=wn.shadowMapResolution,R=wn.shadowMapResolution;if(this._cascades.length===0||wn.shadowMapResolution!==this._cascades[0].texture.size[0]){this._cascades=[];for(let Ee=0;Ee<wn.cascadeCount;++Ee){const be=p._shadowMapDebug,Ae=x.gl,Pe=x.createFramebuffer(E,R,be,"texture"),Qe=new c.T(x,{width:E,height:R,data:null},Ae.DEPTH_COMPONENT16);if(Pe.depthAttachment.set(Qe.texture),be){const xt=new c.T(x,{width:E,height:R,data:null},Ae.RGBA8);Pe.colorAttachment.set(xt.texture)}this._cascades.push({framebuffer:Pe,texture:Qe,matrix:[],far:0,boundingSphereRadius:0,frustum:new c.bR,scale:0})}}this.shadowDirection=no(l);let B=0;if(r.elevation){const Ee=r.elevation,be=[1e4,-1e4];Ee.visibleDemTiles.filter(Ae=>Ae.dem).forEach(Ae=>{const Pe=Ae.dem.tree;be[0]=Math.min(be[0],Pe.minimums[0]),be[1]=Math.max(be[1],Pe.maximums[0])}),be[0]!==1e4&&(B=(be[1]-be[0])*Ee.exaggeration())}const V=1.5*r.cameraToCenterDistance,U=3*V,J=new Float64Array(16);for(let Ee=0;Ee<this._cascades.length;++Ee){const be=this._cascades[Ee];let Ae=r.height/50,Pe=1;wn.cascadeCount===1?Pe=U:Ee===0?Pe=V:(Ae=V,Pe=U);const[Qe,xt]=po(r,this.shadowDirection,Ae,Pe,wn.shadowMapResolution,B);be.scale=r.scale,be.matrix=Qe,be.boundingSphereRadius=xt,c.ab.mat4.invert(J,be.matrix),be.frustum=c.bR.fromInvProjectionMatrix(J,1,0,!0),be.far=Pe}const Q=this._cascades.length-1;this._uniformValues.u_fade_range=[.75*this._cascades[Q].far,this._cascades[Q].far],this._uniformValues.u_shadow_intensity=_,this._uniformValues.u_shadow_direction=[this.shadowDirection[0],this.shadowDirection[1],this.shadowDirection[2]],this._uniformValues.u_shadow_texel_size=1/wn.shadowMapResolution,this._uniformValues.u_shadow_map_resolution=wn.shadowMapResolution,this._uniformValues.u_shadowmap_0=gl.ShadowMap0,this._uniformValues.u_shadowmap_1=gl.ShadowMap0+1,this._groundShadowTiles=p.transform.coveringTiles({tileSize:512,renderWorldCopies:!0});const le=p.transform.elevation;for(const Ee of this._groundShadowTiles){let be={min:0,max:0};if(le){const Ae=le.getMinMaxForTile(Ee);Ae&&(be=Ae)}this.addShadowReceiver(Ee.toUnwrapped(),be.min,be.max)}}get enabled(){return this._enabled&&!this._forceDisable}set enabled(r){this._enabled=r}drawShadowPass(r,l){if(!this.enabled)return;const p=this.painter,_=p.context;this._numCascadesToRender=this._receivers.computeRequiredCascades(p.transform.getFrustum(0),p.transform.worldSize,this._cascades),_.viewport.set([0,0,wn.shadowMapResolution,wn.shadowMapResolution]);for(let x=0;x<this._numCascadesToRender;++x){p.currentShadowCascade=x,_.bindFramebuffer.set(this._cascades[x].framebuffer.framebuffer),_.clear({color:c.aj.white,depth:1});for(const E of r.order){const R=r._mergedLayers[E];if(!R.hasShadowPass()||R.isHidden(p.transform.zoom))continue;const B=r.getLayerSourceCache(R),V=B?l[B.id]:void 0;(R.type==="model"||V&&V.length)&&p.renderLayer(p,B,R,V)}}p.currentShadowCascade=0}drawGroundShadows(){if(!this.enabled)return;const r=this.painter,l=r.style,p=r.context,_=l.directionalLight,x=l.ambientLight;if(!_||!x)return;const E=[],R=Jt(r,r.longestCutoffRange);R.shouldRenderCutoff&&E.push("RENDER_CUTOFF"),E.push("RENDER_SHADOWS","DEPTH_TEXTURE"),this.useNormalOffset&&E.push("NORMAL_OFFSET");const B=ki(l,_,x),V=new To(p.gl.LEQUAL,To.ReadOnly,r.depthRangeFor3D);for(const U of this._groundShadowTiles){const J=U.toUnwrapped(),Q=r.isTileAffectedByFog(U),le=r.getOrCreateProgram("groundShadow",{defines:E,overrideFog:Q});this.setupShadows(J,le),r.uploadCommonUniforms(p,le,J,null,R);const Ee={u_matrix:r.transform.calculateProjMatrix(J),u_ground_shadow_factor:B};le.draw(r,p.gl.TRIANGLES,V,Uo.disabled,ra.multiply,qo.disabled,Ee,"ground_shadow",r.tileExtentBuffer,r.quadTriangleIndexBuffer,r.tileExtentSegments,{},r.transform.zoom,null,null)}}getShadowPassColorMode(){return this.painter._shadowMapDebug?ra.unblended:ra.disabled}getShadowPassDepthMode(){return this._depthMode}getShadowCastingLayerCount(){return this._shadowLayerCount}calculateShadowPassMatrixFromTile(r){const l=this.painter.transform,p=l.calculatePosMatrix(r,l.worldSize);return c.ab.mat4.multiply(p,this._cascades[this.painter.currentShadowCascade].matrix,p),Float32Array.from(p)}calculateShadowPassMatrixFromMatrix(r){return c.ab.mat4.multiply(r,this._cascades[this.painter.currentShadowCascade].matrix,r),Float32Array.from(r)}setupShadows(r,l,p,_=0){if(!this.enabled)return;const x=this.painter.transform,E=this.painter.context,R=E.gl,B=this._uniformValues,V=new Float64Array(16),U=x.calculatePosMatrix(r,x.worldSize);for(let J=0;J<this._cascades.length;J++)c.ab.mat4.multiply(V,this._cascades[J].matrix,U),B[J===0?"u_light_matrix_0":"u_light_matrix_1"]=Float32Array.from(V),E.activeTexture.set(R.TEXTURE0+gl.ShadowMap0+J),this._cascades[J].texture.bind(R.NEAREST,R.CLAMP_TO_EDGE);if(this.useNormalOffset=!!p,this.useNormalOffset){const J=c.cc(r.canonical),Q=2/x.tileSize*c.ag/wn.shadowMapResolution,le=Q*this._cascades[0].boundingSphereRadius,Ee=Q*this._cascades[this._cascades.length-1].boundingSphereRadius,be=(p==="vector-tile"?1:3)/Math.pow(2,_-r.canonical.z-(1-x.zoom+Math.floor(x.zoom)));B.u_shadow_normal_offset=[J,le*be,Ee*be],B.u_shadow_bias=[6e-5,.0012,.012]}else B.u_shadow_bias=[36e-5,.0012,.012];l.setShadowUniformValues(E,B)}setupShadowsFromMatrix(r,l,p=!1){if(!this.enabled)return;const _=this.painter.context,x=_.gl,E=this._uniformValues,R=new Float64Array(16);for(let B=0;B<wn.cascadeCount;B++)c.ab.mat4.multiply(R,this._cascades[B].matrix,r),E[B===0?"u_light_matrix_0":"u_light_matrix_1"]=Float32Array.from(R),_.activeTexture.set(x.TEXTURE0+gl.ShadowMap0+B),this._cascades[B].texture.bind(x.NEAREST,x.CLAMP_TO_EDGE);if(this.useNormalOffset=p,p){const B=wn.normalOffset;E.u_shadow_normal_offset=[1,B,B],E.u_shadow_bias=[6e-5,.0012,.012]}else E.u_shadow_bias=[36e-5,.0012,.012];l.setShadowUniformValues(_,E)}getShadowUniformValues(){return this._uniformValues}getCurrentCascadeFrustum(){return this._cascades[this.painter.currentShadowCascade].frustum}computeSimplifiedTileShadowVolume(r,l,p,_){if(_[2]>=0)return{};const x=function(B,V,U){const J=U/(1<<B.canonical.z);return new c.cd([B.canonical.x*J+B.wrap*U,B.canonical.y*J+B.wrap*U,0],[(B.canonical.x+1)*J+B.wrap*U,(B.canonical.y+1)*J+B.wrap*U,V])}(r,l,p).getCorners(),E=l/-_[2];_[0]<0?(c.ab.vec3.add(x[0],x[0],[_[0]*E,0,0]),c.ab.vec3.add(x[3],x[3],[_[0]*E,0,0])):_[0]>0&&(c.ab.vec3.add(x[1],x[1],[_[0]*E,0,0]),c.ab.vec3.add(x[2],x[2],[_[0]*E,0,0])),_[1]<0?(c.ab.vec3.add(x[0],x[0],[0,_[1]*E,0]),c.ab.vec3.add(x[1],x[1],[0,_[1]*E,0])):_[1]>0&&(c.ab.vec3.add(x[2],x[2],[0,_[1]*E,0]),c.ab.vec3.add(x[3],x[3],[0,_[1]*E,0]));const R={};return R.vertices=x,R.planes=[Li(x[1],x[0],x[4]),Li(x[2],x[1],x[5]),Li(x[3],x[2],x[6]),Li(x[0],x[3],x[7])],R}addShadowReceiver(r,l,p){this._receivers.add(r,c.cd.fromTileIdAndHeight(r,l,p))}getMaxCascadeForTile(r){const l=this._receivers.get(r);return l&&l.lastCascade?l.lastCascade:0}}function Li(m,r,l){const p=c.ab.vec3.sub([],l,r),_=c.ab.vec3.sub([],m,r),x=c.ab.vec3.cross([],p,_),E=c.ab.vec3.length(x);return E===0?[0,0,1,0]:(c.ab.vec3.scale(x,x,1/E),[x[0],x[1],x[2],-c.ab.vec3.dot(x,r)])}function no(m){const r=m.properties.get("direction"),l=c.cb(r.x,r.y,r.z);l[2]=c.aw(l[2],0,75);const p=c.ce([l[0],l[1],l[2]]);return c.ab.vec3.fromValues(p.x,p.y,p.z)}function ki(m,r,l){const p=r.properties.get("color-use-theme")==="none",_=r.properties.get("color"),x=r.properties.get("intensity"),E=r.properties.get("direction"),R=[E.x,E.y,E.z],B=l.properties.get("color-use-theme")==="none",V=l.properties.get("color"),U=l.properties.get("intensity"),J=Math.max(c.ab.vec3.dot([0,0,1],R),0),Q=[0,0,0];c.ab.vec3.scale(Q,V.toRenderColor(B?null:m.getLut(r.scope)).toArray01Linear().slice(0,3),U);const le=[0,0,0];return c.ab.vec3.scale(le,_.toRenderColor(p?null:m.getLut(l.scope)).toArray01Linear().slice(0,3),J*x),c.cf([Q[0]>0?Q[0]/(Q[0]+le[0]):0,Q[1]>0?Q[1]/(Q[1]+le[1]):0,Q[2]>0?Q[2]/(Q[2]+le[2]):0])}function po(m,r,l,p,_,x){const E=m.zoom,R=m.scale,B=m.worldSize,V=1/B,U=m.aspect,J=Math.sqrt(1+U*U)*Math.tan(.5*m.fovX),Q=J*J,le=p-l,Ee=p+l;let be,Ae;Q>le/Ee?(be=p,Ae=p*J):(be=.5*Ee*(1+Q),Ae=.5*Math.sqrt(le*le+2*(p*p+l*l)*Q+Ee*Ee*Q*Q));const Pe=m.projection.pixelsPerMeter(m.center.lat,B),Qe=m._camera.getCameraToWorldMercator(),xt=[0,0,-be*V];c.ab.vec3.transformMat4(xt,xt,Qe);let gt=Ae*V;const Bt=m._edgeInsets;if(!(Bt.left===0&&Bt.top===0&&Bt.right===0&&Bt.bottom===0||Bt.left===Bt.right&&Bt.top===Bt.bottom)){const bi=m._camera.getWorldToCamera(m.worldSize,m.projection.zAxisUnit==="meters"?Pe:1),Vr=m._camera.getCameraToClipPerspective(m._fov,m.width/m.height,l,p);Vr[8]=2*-m.centerOffset.x/m.width,Vr[9]=2*m.centerOffset.y/m.height;const $r=new Float64Array(16);c.ab.mat4.mul($r,Vr,bi);const fi=new Float64Array(16);c.ab.mat4.invert(fi,$r);const Ci=c.bR.fromInvProjectionMatrix(fi,B,E,!0);for(const Vi of Ci.points){const ao=((Rt=Vi)[0]/=R,Rt[1]/=R,Rt[2]=c.bH(Rt[2],m._center.lat),Rt);gt=Math.max(gt,c.ab.vec3.len(c.ab.vec3.subtract([],xt,ao)))}}var Rt;gt*=_/(_-1);const Dt=Math.acos(r[2]),Pt=Math.atan2(-r[0],-r[1]),qt=new ac;qt.position=xt,qt.setPitchBearing(Dt,Pt);const mn=qt.getWorldToCamera(B,Pe),nr=gt*B,Wn=Math.min(m._mercatorZfromZoom(17)*B*-2,-2*nr),Pr=qt.getCameraToClipOrthographic(-nr,nr,-nr,nr,Wn,(nr+x*Pe)/r[2]),Er=new Float64Array(16);c.ab.mat4.multiply(Er,Pr,mn);const Nn=c.ab.vec3.fromValues(Math.floor(1e6*xt[0])/1e6*B,Math.floor(1e6*xt[1])/1e6*B,0),ar=.5*_,Kr=[0,0,0];c.ab.vec3.transformMat4(Kr,Nn,Er),c.ab.vec3.scale(Kr,Kr,ar);const Ln=[Math.floor(Kr[0]),Math.floor(Kr[1]),Math.floor(Kr[2])],Ar=[0,0,0];c.ab.vec3.sub(Ar,Kr,Ln),c.ab.vec3.scale(Ar,Ar,-1/ar);const cr=new Float64Array(16);return c.ab.mat4.identity(cr),c.ab.mat4.translate(cr,cr,Ar),c.ab.mat4.multiply(Er,cr,Er),[Er,nr]}class Yi extends c.E{constructor(r){super(),this.requestManager=r,this.models={"":{}},this.modelUris={"":{}},this.numModelsLoading={}}loadModel(r,l){return c.aM(this.requestManager.transformRequest(l,c.R.Model).url).then(p=>{if(!p)return;const _=c.aN(p),x=new c.aO(r,void 0,void 0,_);return x.computeBoundsAndApplyParent(),x}).catch(p=>{if(p&&p.status===404)return null;this.fire(new c.y(new Error(`Could not load model ${r} from ${l}: ${p.message}`)))})}load(r,l,p={keepNumReferences:!1}){this.models[l]||(this.models[l]={});const _=Object.keys(r);this.numModelsLoading[l]=(this.numModelsLoading[l]||0)+_.length;const x=[];for(const E of _)x.push(this.loadModel(E,r[E]));Promise.allSettled(x).then(E=>{for(let R=0;R<E.length;R++){const{status:B,value:V}=E[R];if(B==="fulfilled"&&V){const U=this.models[l][_[R]];this.models[l][_[R]]={model:V,numReferences:p.keepNumReferences&&U?U.numReferences:1}}}this.numModelsLoading[l]-=_.length,this.fire(new c.z("data",{dataType:"style"}))}).catch(E=>{this.fire(new c.y(new Error(`Could not load models: ${E.message}`)))})}isLoaded(){for(const r in this.numModelsLoading)if(this.numModelsLoading[r]>0)return!1;return!0}hasModel(r,l){return!!this.getModel(r,l)}getModel(r,l){return this.models[l]||(this.models[l]={}),this.models[l][r]?this.models[l][r].model:void 0}addModel(r,l,p){this.models[p]||(this.models[p]={}),this.modelUris[p]||(this.modelUris[p]={}),this.hasModel(r,p)&&this.models[p][r].numReferences++,this.modelUris[p][r]=this.requestManager.normalizeModelURL(l),this.load({[r]:this.modelUris[p][r]},p)}addModels(r,l){this.models[l]||(this.models[l]={}),this.modelUris[l]||(this.modelUris[l]={});const p=this.modelUris[l];for(const _ in r)this.models[l][_]={},p[_]=this.requestManager.normalizeModelURL(r[_]);this.load(p,l,{keepNumReferences:!0})}reloadModels(r){this.load(this.modelUris[r],r)}addModelsFromBucket(r,l){this.models[l]||(this.models[l]={}),this.modelUris[l]||(this.modelUris[l]={});const p={};for(const _ of r)this.hasModel(_,l)?this.models[l][_].numReferences++:(this.modelUris[l][_]=this.requestManager.normalizeModelURL(_),p[_]=this.modelUris[l][_]);this.load(p,l)}removeModel(r,l){if(this.models[l]&&this.models[l][r]&&(this.models[l][r].numReferences--,this.models[l][r].numReferences===0)){const p=this.models[l][r].model;delete this.models[l][r],delete this.modelUris[l][r],p.destroy()}}listModels(r){return this.models[r]||(this.models[r]={}),Object.keys(this.models[r])}upload(r,l){this.models[l]||(this.models[l]={});for(const p in this.models[l])this.models[l][p].model&&this.models[l][p].model.upload(r.context)}}const Zi=new c.a5({data:new c.a6(c.a3.colorTheme.data)}),Bo={"mbx-indoor-active-floorplans":{default:["literal",[]]},"mbx-indoor-underground":{default:["literal",!1]},"mbx-indoor-loaded-levels":{default:["literal",[]]},"mbx-indoor-level-height":{default:["literal",{}]},"mbx-indoor-level-base":{default:["literal",{}]},"mbx-indoor-level-selected":{default:["literal",{}]},"mbx-indoor-level-overlapped":{default:["literal",{}]}};function Mo(m){return m=m||{},Object.assign(m,Bo)}class Go extends c.E{constructor(r){super(),this.mergeFloors=!0,this._scope=void 0,this._queryFeatureSetId=void 0,this._buildingEntryFeatureSetId=void 0,this._selectedFloorplan=void 0,this._indoorData=void 0,this._selectedLevel=void 0,this._floorplanStates={},c.aP(["_onLoad","_onMove","_checkFloorplanVisible"],this),this._map=r,this._checkFloorplanVisible(!0),this._map.on("load",this._onLoad),this._map.on("move",this._onMove)}destroy(){this._map.indoor.off("load",this._onLoad),this._map.indoor.off("move",this._onMove),this._map=void 0}_onLoad(){this._map.style.forEachFragmentStyle(r=>{r.stylesheet.indoor&&(this._queryFeatureSetId?this.fire(new c.y(new Error("Multiple indoor map styles detected, simultaneous usage is not allowed currently."))):(this._queryFeatureSetId=r.stylesheet.indoor.floorplanFeaturesetId,this._buildingEntryFeatureSetId=r.stylesheet.indoor.buildingFeaturesetId,this._scope=r.scope))}),this._queryFeatureSetId&&this._buildingEntryFeatureSetId&&this._map.addInteraction("mbx-indoor-buildingclick",{type:"click",target:{featuresetId:this._buildingEntryFeatureSetId,importId:this._scope},handler:r=>(r.feature&&r.feature.properties.floorplan&&this.selectFloorplan(r.feature.properties.floorplan),!0)}),this._checkFloorplanVisible(!0)}_onMove(){this._checkFloorplanVisible(!1)}_checkFloorplanVisible(r){if(!this._queryFeatureSetId||!this._map.isStyleLoaded()||this._map.transform.zoom<13)return;this._indoorData&&!function(E,R){const[B,V]=E,{center:U,radius:J}=R,[Q,le]=U,Ee=Math.abs(B-Q);return Math.sqrt(Z_(Ee>180?360-Ee:Ee,2)+Z_(V-le,2))<=J}([this._map.getCenter().lng,this._map.getCenter().lat],this._indoorData.circumCircle)&&(this._indoorData=void 0,this._selectedFloorplan=void 0,this._map.setConfigProperty(this._scope,"mbx-indoor-underground",!1),this._map.setConfigProperty(this._scope,"mbx-indoor-active-floorplans",["literal",[]]),this.fire(new c.z("floorplangone")));const l={target:{featuresetId:this._queryFeatureSetId,importId:this._scope}},p=new c.P(this._map.transform.width/2,this._map.transform.height/2),_=[new c.P(0,0),new c.P(this._map.transform.width,this._map.transform.height)],x=this._map.queryRenderedFeatures(r?_:p,l);x.length>0&&(this._selectedFloorplan&&x[0].properties.id===this._selectedFloorplan.properties.id||(this._selectedFloorplan=x[0],this._floorplanSelected(!1)))}_floorplanSelected(r){this._indoorData=JSON.parse(this._selectedFloorplan.properties["indoor-data"]),this._indoorData.id=this._selectedFloorplan.properties.id,this._indoorData.circumCircle=function(x){const[[E,R],[B,V]]=x,U=(B-E+360)%360,J=U>180?360-U:U;return{center:[(E+J/2+360)%360,(R+V)/2],radius:Math.sqrt(Z_(J,2)+Z_(V-R,2))/2}}(this._indoorData.extent),this._floorplanStates[this._indoorData.id]||(this._floorplanStates[this._indoorData.id]={});const l=this._floorplanStates[this._indoorData.id].selectedBuilding,p=this._floorplanStates[this._indoorData.id].selectedLevel;let _;if(this._map.setConfigProperty(this._scope,"mbx-indoor-active-floorplans",this._indoorData.floorplanIDs),this._selectedLevel)for(const x of this._indoorData.levels)x.id===this._selectedLevel.id&&(_=x.id);if(this.fire(new c.z("floorplanselected",{buildings:this._indoorData.buildings,levels:this._indoorData.levels,selectedLevelId:_})),l){const x=this._indoorData.buildings.find(E=>E.id===l);this._buildingSelected(x,!1)}else this._indoorData.buildings.length>0&&this._buildingSelected(this._indoorData.buildings[0],!1);if(p){const x=this._indoorData.levels.find(E=>E.id===p);this._updateLevels(x,r)}else r&&this._indoorData["default-levels"].length>0&&this.selectLevel(this._indoorData["default-levels"][0])}_buildingSelected(r,l){l&&r&&r.extent&&this._map.fitBounds(r.extent,{pitch:this._map.getPitch(),bearing:this._map.getBearing()}),this._floorplanStates[this._indoorData.id].selectedBuilding=r?r.id:void 0;const p=this._indoorData.levels.filter(_=>r.levels.includes(_.id));this.fire(new c.z("buildingselected",{buildingId:r.id,levels:p}))}_levelSelected(r){if(r==="overview")this._updateLevels(void 0,!0);else{const l=this._indoorData.levels.find(p=>p.id===r);this._updateLevels(l,!0)}this.fire(new c.z("levelselected",{levelId:r==="overview"?void 0:r}))}_updateLevels(r,l){if(!r)return this._map.setConfigProperty(this._scope,"mbx-indoor-loaded-levels",["literal",[]]),this._map.setConfigProperty(this._scope,"mbx-indoor-underground",!1),this._floorplanStates[this._indoorData.id].selectedLevel=void 0,void(l&&this._indoorData.extent&&this._map.fitBounds(this._indoorData.extent,{pitch:this._map.getPitch(),bearing:this._map.getBearing()}));function p(V){const U=V.indexOf("/floor/");if(U===-1)return V;const J=U+7,Q=V.indexOf("/",J);return Q===-1?V.slice(J):V.slice(J,Q)}this._selectedLevel=r,this._floorplanStates[this._indoorData.id].selectedLevel=r?r.id:void 0;const _=[],x={},E={},R={},B={};for(const V of this._indoorData.levels)if(_.push(V.id),x[V.id]=V.height,E[V.id]=V.base,r){if(this.mergeFloors){const U=p(r.id),J=p(V.id);R[V.id]=J===U?"true":"false"}else R[V.id]=V.id===r.id?"true":"false";B[V.id]=V.base<r.base?"true":"false"}else B[V.id]=!0;if(this._map.setConfigProperty(this._scope,"mbx-indoor-loaded-levels",["literal",_]),this._map.setConfigProperty(this._scope,"mbx-indoor-level-height",["literal",x]),this._map.setConfigProperty(this._scope,"mbx-indoor-level-base",["literal",E]),this._map.setConfigProperty(this._scope,"mbx-indoor-level-selected",["literal",R]),this._map.setConfigProperty(this._scope,"mbx-indoor-level-overlapped",["literal",B]),r&&(this._map.setConfigProperty(this._scope,"mbx-indoor-underground",!!r.isUnderground),l&&r.extent)){const V=this._map.cameraForBounds(r.extent,{pitch:this._map.getPitch(),bearing:this._map.getBearing()}),U=this._map.getZoom(),J=V.zoom?Math.abs(U-V.zoom):0;this._map.fitBounds(r.extent,J>=1?{pitch:this._map.getPitch(),bearing:this._map.getBearing()}:{pitch:this._map.getPitch(),bearing:this._map.getBearing(),zoom:U})}}selectFloorplan(r){const l={target:{featuresetId:this._queryFeatureSetId,importId:this._scope}},p=[new c.P(0,0),new c.P(this._map.transform.width,this._map.transform.height)],_=this._map.queryRenderedFeatures(p,l);if(_.length>0){for(const x of _)if(JSON.parse(x.properties["indoor-data"]).floorplanIDs.includes(r)){this._selectedFloorplan=x,this._floorplanSelected(!0);break}}}selectBuilding(r){const l=this._indoorData.buildings.find(p=>p.id===r);this._buildingSelected(l,!0)}selectLevel(r){this._levelSelected(r)}}function Ua(m){if(!m.metadata||!m.metadata.content_area)return;const r=c.q.devicePixelRatio,{left:l,top:p,width:_,height:x}=m.metadata.content_area,E=l*r,R=p*r;return[E,R,E+_*r,R+x*r]}function sa(m){if(m)return m.map(([r,l])=>[r*c.q.devicePixelRatio,l*c.q.devicePixelRatio])}const Pa=(m,r)=>io(m,r&&r.filter(l=>l.identifier!=="source.canvas")),es=c.ay(ci,["addLayer","removeLayer","setLights","setPaintProperty","setLayoutProperty","setSlot","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setSnow","setRain","setProjection","setCamera","addImport","removeImport","updateImport"]),Oa=c.ay(ci,["setCenter","setZoom","setBearing","setPitch"]),qa=new Set(["background","sky","slot","custom"]),Xa={version:8,layers:[],sources:{}},is={duration:300,delay:0};class ns extends c.E{constructor(r,l={}){super(),this.map=r,this.scope=l.scope||"",this.globalId=null,this.fragments=[],this.importDepth=l.importDepth||0,this.importsCache=l.importsCache||new Map,this.resolvedImports=l.resolvedImports||new Set,this.transition=c.l({},is),this._buildingIndex=new Ao(this),this.crossTileSymbolIndex=new _l,this._mergedOrder=[],this._drapedFirstOrder=[],this._mergedLayers={},this._mergedSourceCaches={},this._mergedOtherSourceCaches={},this._mergedSymbolSourceCaches={},this._clipLayerPresent=!1,this._has3DLayers=!1,this._hasCircleLayers=!1,this._hasSymbolLayers=!1,this._changes=l.styleChanges||new kr,this.dispatcher=l.dispatcher?l.dispatcher:new c.D(c.ci(),this),l.imageManager?this.imageManager=l.imageManager:(this.imageManager=new Nr(this.map._spriteFormat),this.imageManager.setEventedParent(this)),this.imageManager.createScope(this.scope),this.glyphManager=l.glyphManager?l.glyphManager:new c.cj(r._requestManager,l.localFontFamily?c.ck.all:l.localIdeographFontFamily?c.ck.ideographs:c.ck.none,l.localFontFamily||l.localIdeographFontFamily),l.modelManager?this.modelManager=l.modelManager:(this.modelManager=new Yi(r._requestManager),this.modelManager.setEventedParent(this)),this._layers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this._loaded=!1,this._precompileDone=!1,this._shouldPrecompile=!1,this._availableImages=[],this._order=[],this._markersNeedUpdate=!1,this.options=l.configOptions?l.configOptions:new Map,this._configDependentLayers=l.configDependentLayers?l.configDependentLayers:new Set,this._config=l.config,this._styleColorTheme={lut:null,lutLoading:!1,lutLoadingCorrelationID:0,colorTheme:null,colorThemeOverride:l.colorThemeOverride},this._styleColorThemeForScope={},this._initialConfig=l.initialConfig,this.dispatcher.broadcast("setReferrer",c.cl());const p=this;this._rtlTextPluginCallback=ns.registerForPluginStateChange(_=>{p.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:_.pluginStatus,pluginURL:_.pluginURL},(x,E)=>{if(c.cm(x),E&&E.every(R=>R))for(const R in p._sourceCaches){const B=p._sourceCaches[R],V=B.getSource().type;V!=="vector"&&V!=="geojson"||B.reload()}})}),this.on("data",_=>{if(_.dataType!=="source"||_.sourceDataType!=="metadata")return;const x=this.getOwnSource(_.sourceId);if(x&&x.vectorLayerIds)for(const E in this._layers){const R=this._layers[E];R.source===x.id&&this._validateLayer(R)}})}load(r){return r?(typeof r=="string"?this.loadURL(r):this.loadJSON(r),this):this}_getGlobalId(r){if(!r)return null;if(typeof r=="string"){if(c.f(r))return r;const l=c.cn(r);if(!l.startsWith("http"))try{return new URL(l,location.href).toString()}catch(p){return l}return l}return`json://${c.co(JSON.stringify(r))}`}_diffStyle(r,l,p){this.globalId=this._getGlobalId(r);const _=(x,E)=>{try{E(null,this.setState(x,p))}catch(R){E(R,!1)}};if(typeof r=="string"){const x=this.map._requestManager.normalizeStyleURL(r),E=this.map._requestManager.transformRequest(x,c.R.Style);c.n(E,(R,B)=>{R?this.fire(new c.y(R)):B&&_(B,l)})}else typeof r=="object"&&_(r,l)}loadURL(r,l={}){this.fire(new c.z("dataloading",{dataType:"style"}));const p=typeof l.validate=="boolean"?l.validate:!c.f(r);this.globalId=this._getGlobalId(r),r=this.map._requestManager.normalizeStyleURL(r,l.accessToken),this.resolvedImports.add(r);const _=this.importsCache.get(r);if(_)return this._load(_,p);const x=this.map._requestManager.transformRequest(r,c.R.Style);this._request=c.n(x,(E,R)=>{if(this._request=null,E)this.fire(new c.y(E));else if(R)return this.importsCache.set(r,R),this._load(R,p)})}loadJSON(r,l={}){this.fire(new c.z("dataloading",{dataType:"style"})),this.globalId=this._getGlobalId(r),this._request=c.q.frame(()=>{this._request=null,this._load(r,l.validate!==!1)})}loadEmpty(){this.fire(new c.z("dataloading",{dataType:"style"})),this._load(Xa,!1)}_loadImports(r,l,p){if(this.importDepth>=4)return c.w("Style doesn't support nesting deeper than 5"),Promise.resolve();const _=[];for(const x of r){const E=this._createFragmentStyle(x),R=new Promise(U=>{E.once("style.import.load",U),E.once("error",U)}).then(()=>this.mergeAll());if(_.push(R),this.resolvedImports.has(x.url)){E.loadEmpty();continue}const B=x.data||this.importsCache.get(x.url);B?(E.loadJSON(B,{validate:l}),this._isInternalStyle(B)&&(E.globalId=null)):x.url?E.loadURL(x.url,{validate:l}):E.loadEmpty();const V={style:E,id:x.id,config:x.config};if(p){const U=this.fragments.findIndex(({id:J})=>J===p);this.fragments=this.fragments.slice(0,U).concat(V).concat(this.fragments.slice(U))}else this.fragments.push(V)}return Promise.allSettled(_)}getImportGlobalIds(r=this,l=new Set){for(const p of r.fragments)p.style.globalId&&l.add(p.style.globalId),this.getImportGlobalIds(p.style,l);return[...l.values()]}_createFragmentStyle(r){const l=this.scope?c.aC(r.id,this.scope):r.id;let p;const _=this._initialConfig&&this._initialConfig[l];(r.config||_)&&(p=c.l({},r.config,_));const x=new ns(this.map,{scope:l,styleChanges:this._changes,importDepth:this.importDepth+1,importsCache:this.importsCache,resolvedImports:new Set(this.resolvedImports),dispatcher:this.dispatcher,imageManager:this.imageManager,glyphManager:this.glyphManager,modelManager:this.modelManager,config:p,configOptions:this.options,colorThemeOverride:r["color-theme"],configDependentLayers:this._configDependentLayers});return x.setEventedParent(this.map,{style:x}),x}_reloadImports(){this.mergeAll(),this._updateMapProjection(),this.updateConfigDependencies(),this.map._triggerCameraUpdate(this.camera),this.dispatcher.broadcast("setLayers",{layers:this._serializeLayers(this._order),scope:this.scope,options:this.options}),this._shouldPrecompile=this.map._precompilePrograms&&this.isRootStyle()}_isInternalStyle(r){return this.isRootStyle()&&(r.fragment||!!r.schema&&r.fragment!==!1)}_load(r,l){const p=r.indoor?Mo(r.schema):r.schema;if(this._isInternalStyle(r)){const E=c.l({},Xa,{imports:[{id:"basemap",data:r,url:""}]});return void this._load(E,l)}if(this.updateConfig(this._config,p),l&&Pa(this,Hi(r)))return;this._loaded=!0,this.stylesheet=c.cp(r);const _=()=>{for(const V in r.sources)this.addSource(V,r.sources[V],{validate:!1,isInitialLoad:!0});r.sprite?this._loadIconset(r.sprite):(this.imageManager.setLoaded(!0,this.scope),this.dispatcher.broadcast("spriteLoaded",{scope:this.scope,isLoaded:!0})),this.glyphManager.setURL(r.glyphs,this.scope);const E=Na(this.stylesheet.layers);if(this._order=E.map(V=>V.id),this.stylesheet.light&&c.w("The `light` root property is deprecated, prefer using `lights` with `flat` light type instead."),this.stylesheet.lights)if(this.stylesheet.lights.length===1&&this.stylesheet.lights[0].type==="flat"){const V=this.stylesheet.lights[0];this.light=new de(V.properties,V.id)}else this.setLights(this.stylesheet.lights);this.light||(this.light=new de(this.stylesheet.light)),this._layers={};for(const V of E){const U=c.cu(V,this.scope,this._styleColorTheme.lut,this.options);U.configDependencies.size!==0&&this._configDependentLayers.add(U.fqid),U.setEventedParent(this,{layer:{id:U.id}}),this._layers[U.id]=U;const J=this.getOwnLayerSourceCache(U),Q=!!this.directionalLight&&this.directionalLight.shadowsEnabled();J&&U.canCastShadows()&&Q&&(J.castsShadows=!0)}this.stylesheet.featuresets&&this.setFeaturesetSelectors(this.stylesheet.featuresets),this.stylesheet.models&&this.modelManager.addModels(this.stylesheet.models,this.scope);const R=this.stylesheet.terrain;R&&(this.checkCanvasFingerprintNoise(),this.disableElevatedTerrain||this.terrainSetForDrapingOnly()||this._createTerrain(R,1)),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this.stylesheet.snow&&this._createSnow(this.stylesheet.snow),this.stylesheet.rain&&this._createRain(this.stylesheet.rain),this.stylesheet.transition&&this.setTransition(this.stylesheet.transition),this.fire(new c.z("data",{dataType:"style"}));const B=this.isRootStyle();r.imports?this._loadImports(r.imports,l).then(()=>{this._reloadImports(),this.fire(new c.z(B?"style.load":"style.import.load"))}):(this._reloadImports(),this.fire(new c.z(B?"style.load":"style.import.load")))};this._styleColorTheme.colorTheme=this.stylesheet["color-theme"];const x=this._styleColorTheme.colorThemeOverride?this._styleColorTheme.colorThemeOverride:this._styleColorTheme.colorTheme;if(x){const E=this._evaluateColorThemeData(x);this._loadColorTheme(E).then(()=>{_()}).catch(R=>{c.w(`Couldn't load color theme from the stylesheet: ${R}`),_()})}else this._styleColorTheme.lut=null,_()}isRootStyle(){return this.importDepth===0}mergeAll(){let r,l,p,_,x,E,R,B,V,U;const J={};this.terrain&&this.terrain.scope!==this.scope&&delete this.terrain,this.forEachFragmentStyle(Q=>{if(Q.stylesheet){if(Q.light!=null&&(r=Q.light),Q.stylesheet.lights)for(const le of Q.stylesheet.lights)le.type==="ambient"&&Q.ambientLight!=null&&(l=Q.ambientLight),le.type==="directional"&&Q.directionalLight!=null&&(p=Q.directionalLight);_=this._prioritizeTerrain(_,Q.terrain,Q.stylesheet.terrain),Q.stylesheet.fog&&Q.fog!=null&&(x=Q.fog),Q.stylesheet.snow&&Q.snow!=null&&(E=Q.snow),Q.stylesheet.rain&&Q.rain!=null&&(R=Q.rain),Q.stylesheet.camera!=null&&(U=Q.stylesheet.camera),Q.stylesheet.projection!=null&&(B=Q.stylesheet.projection),Q.stylesheet.transition!=null&&(V=Q.stylesheet.transition),J[Q.scope]=Q._styleColorTheme}}),this.light=r,this.ambientLight=l,this.directionalLight=p,this.fog=x,this.snow=E,this.rain=R,this._styleColorThemeForScope=J,_===null?delete this.terrain:this.terrain=_,this.camera=U||{"camera-projection":"perspective"},this.projection=B||{name:"mercator"},this.transition=c.l({},is,V),this.mergeSources(),this.mergeLayers()}forEachFragmentStyle(r){const l=p=>{for(const _ of p.fragments)l(_.style);r(p)};l(this)}_prioritizeTerrain(r,l,p){const _=r&&r.drapeRenderMode===0;return p===null?l&&l.drapeRenderMode===0?l:_?r:null:l!=null&&(!r||_||l&&l.drapeRenderMode===1)?l:r}mergeTerrain(){let r;this.terrain&&this.terrain.scope!==this.scope&&delete this.terrain,this.forEachFragmentStyle(l=>{r=this._prioritizeTerrain(r,l.terrain,l.stylesheet.terrain)}),r===null?delete this.terrain:this.terrain=r}mergeProjection(){let r;this.forEachFragmentStyle(l=>{l.stylesheet.projection!=null&&(r=l.stylesheet.projection)}),this.projection=r||{name:"mercator"}}mergeSources(){const r={},l={},p={};this.forEachFragmentStyle(_=>{for(const x in _._sourceCaches){const E=c.aC(x,_.scope);r[E]=_._sourceCaches[x]}for(const x in _._otherSourceCaches){const E=c.aC(x,_.scope);l[E]=_._otherSourceCaches[x]}for(const x in _._symbolSourceCaches){const E=c.aC(x,_.scope);p[E]=_._symbolSourceCaches[x]}}),this._mergedSourceCaches=r,this._mergedOtherSourceCaches=l,this._mergedSymbolSourceCaches=p}mergeLayers(){const r={},l=[],p={};this._mergedSlots=[],this._has3DLayers=!1,this._hasCircleLayers=!1,this._hasSymbolLayers=!1,this.forEachFragmentStyle(x=>{for(const E of x._order){const R=x._layers[E];if(R.type==="slot"){const B=c.cq(E);if(r[B])continue;r[B]=[]}R.slot&&r[R.slot]?r[R.slot].push(R):l.push(R)}}),this._mergedOrder=[];const _=(x=[])=>{for(const E of x)if(E.type==="slot"){const R=c.cq(E.id);r[R]&&_(r[R]),this._mergedSlots.push(R)}else{const R=c.aC(E.id,E.scope);this._mergedOrder.push(R),p[R]=E,E.is3D()&&(this._has3DLayers=!0),E.type==="circle"&&(this._hasCircleLayers=!0),E.type==="symbol"&&(this._hasSymbolLayers=!0),E.type==="clip"&&(this._clipLayerPresent=!0)}};_(l),this._mergedOrder.sort((x,E)=>{const R=p[x],B=p[E];return R.hasInitialOcclusionOpacityProperties?B.is3D()?1:0:R.is3D()&&B.hasInitialOcclusionOpacityProperties?-1:0}),this._mergedLayers=p,this.updateDrapeFirstLayers(),this._buildingIndex.processLayersChanged()}terrainSetForDrapingOnly(){return!!this.terrain&&this.terrain.drapeRenderMode===0}getCamera(){return this.stylesheet.camera}setCamera(r){return this.stylesheet.camera=c.l({},this.stylesheet.camera,r),this.camera=this.stylesheet.camera,this}_evaluateColorThemeData(r){return r.data?function(l,p,_){const x=c.l({},p);for(const R of Object.keys(c.a3.colorTheme))x[R]===void 0&&(x[R]=c.a3.colorTheme[R].default);const E=new c.a4(Zi,l,new Map(_));return E.setTransitionOrValue(x,_),E.untransitioned().possiblyEvaluate(new c.a8(0))}(this.scope,r,this.options).get("data"):null}_loadColorTheme(r){this._styleColorTheme.lutLoading=!0,this._styleColorTheme.lutLoadingCorrelationID+=1;const l=this._styleColorTheme.lutLoadingCorrelationID;return new Promise((p,_)=>{const x="data:image/png;base64,";if(!r||r.length===0)return this._styleColorTheme.lut=null,this._styleColorTheme.lutLoading=!1,void p();let E=r;E.startsWith(x)||(E=x+E);const R="mapbox-reserved-lut",B=new Image;B.src=E,B.onerror=()=>{this._styleColorTheme.lutLoading=!1,_(new Error("Failed to load image data"))},B.onload=()=>{if(this._styleColorTheme.lutLoadingCorrelationID!==l)return void p();this._styleColorTheme.lutLoading=!1;const{width:V,height:U,data:J}=c.q.getImageData(B);if(U>32)return void _(new Error("The height of the image must be less than or equal to 32 pixels."));if(V!==U*U)return void _(new Error("The width of the image must be equal to the height squared."));this.getImage(R)&&this.removeImage(R),this.addImage(R,{data:new c.r({width:V,height:U},J),pixelRatio:1,sdf:!1,usvg:!1,version:0});const Q=this.imageManager.getImage(R,this.scope);Q?(this._styleColorTheme.lut={image:Q.data,data:r},p()):_(new Error("Missing LUT image."))}})}getLut(r){const l=this._styleColorThemeForScope[r];return l?l.lut:null}setProjection(r){r?this.stylesheet.projection=r:delete this.stylesheet.projection,this.mergeProjection(),this._updateMapProjection()}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?(this.getTerrain()||this.stylesheet.terrain)&&!this.disableElevatedTerrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null,0))}_updateMapProjection(){this.isRootStyle()&&(this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.projection))}_loadSprite(r){this._spriteRequest=function(l,p,_){let x,E,R;const B=c.q.devicePixelRatio>1?"@2x":"";let V=c.n(p.transformRequest(p.normalizeSpriteURL(l,B,".json"),c.R.SpriteJSON),(Q,le)=>{V=null,R||(R=Q,x=le,J())}),U=c.o(p.transformRequest(p.normalizeSpriteURL(l,B,".png"),c.R.SpriteImage),(Q,le)=>{U=null,R||(R=Q,E=le,J())});function J(){if(R)_(R);else if(x&&E){const Q=c.q.getImageData(E),le={};for(const Ee in x){const{width:be,height:Ae,x:Pe,y:Qe,sdf:xt,pixelRatio:gt,stretchX:Bt,stretchY:Rt,content:Dt}=x[Ee],Pt=new c.r({width:be,height:Ae});c.r.copy(Q,Pt,{x:Pe,y:Qe},{x:0,y:0},{width:be,height:Ae},null),le[Ee]={data:Pt,pixelRatio:gt,sdf:xt,stretchX:Bt,stretchY:Rt,content:Dt,usvg:!1}}_(null,le)}}return{cancel(){V&&(V.cancel(),V=null),U&&(U.cancel(),U=null)}}}(r,this.map._requestManager,(l,p)=>{if(this._spriteRequest=null,l)this.fire(new c.y(l));else if(p)for(const _ in p)this.imageManager.addImage(_,this.scope,p[_]);this.imageManager.setLoaded(!0,this.scope),this._availableImages=this.imageManager.listImages(this.scope),this.dispatcher.broadcast("setImages",{scope:this.scope,images:this._availableImages}),this.dispatcher.broadcast("spriteLoaded",{scope:this.scope,isLoaded:!0}),this.fire(new c.z("data",{dataType:"style"}))})}_loadIconset(r){if(!c.f(r)&&this.map._spriteFormat!=="icon_set"||this.map._spriteFormat==="raster")return void this._loadSprite(r);const l=this.map._spriteFormat==="auto";var p,_;this._spriteRequest=(_=(x,E)=>{if(this._spriteRequest=null,x)l?this._loadSprite(r):this.fire(new c.y(x));else if(E)for(const R in E)this.imageManager.addImage(R,this.scope,E[R]);this.imageManager.setLoaded(!0,this.scope),this._availableImages=this.imageManager.listImages(this.scope),this.dispatcher.broadcast("setImages",{scope:this.scope,images:this._availableImages}),this.dispatcher.broadcast("spriteLoaded",{scope:this.scope,isLoaded:!0}),this.fire(new c.z("data",{dataType:"style"}))},c.bi((p=this.map._requestManager).transformRequest(p.normalizeIconsetURL(r),c.R.Iconset),(x,E)=>{if(x)return void _(x);const R={},B=c.cg(new c.bh(E));for(const V of B.icons){const U={version:1,pixelRatio:c.q.devicePixelRatio,content:Ua(V),stretchX:V.metadata?sa(V.metadata.stretch_x_areas):void 0,stretchY:V.metadata?sa(V.metadata.stretch_y_areas):void 0,sdf:!1,usvg:!0,icon:V};R[V.name]=U}_(null,R)}))}_validateLayer(r){const l=this.getOwnSource(r.source);if(!l)return;const p=r.sourceLayer;p&&(l.type==="geojson"||l.vectorLayerIds&&l.vectorLayerIds.indexOf(p)===-1)&&this.fire(new c.y(new Error(`Source layer "${p}" does not exist on source "${l.id}" as specified by style layer "${r.id}"`)))}loaded(){if(!this._loaded||Object.keys(this._changes.getUpdatedSourceCaches()).length)return!1;for(const r in this._sourceCaches)if(!this._sourceCaches[r].loaded())return!1;if(!this.imageManager.isLoaded()||!this.modelManager.isLoaded()||this._styleColorTheme.lutLoading)return!1;for(const{style:r}of this.fragments)if(!r.loaded())return!1;return!0}_serializeImports(){if(this.stylesheet.imports)return this.stylesheet.imports.map((r,l)=>{const p=this.fragments[l];return p&&p.style&&(r.data=p.style.serialize()),r})}_serializeSources(){const r={};for(const l in this._sourceCaches){const p=this._sourceCaches[l].getSource();r[p.id]||(r[p.id]=p.serialize())}return r}_serializeLayers(r){const l=[];for(const p of r){const _=this._layers[p];_&&_.type!=="custom"&&l.push(_.serialize())}return l}hasLightTransitions(){return!(!this.light||!this.light.hasTransition())||!(!this.ambientLight||!this.ambientLight.hasTransition())||!(!this.directionalLight||!this.directionalLight.hasTransition())}hasFogTransition(){return!!this.fog&&this.fog.hasTransition()}hasSnowTransition(){return!!this.snow&&this.snow.hasTransition()}hasRainTransition(){return!!this.rain&&this.rain.hasTransition()}hasTransitions(){if(this.hasLightTransitions()||this.hasFogTransition()||this.hasSnowTransition()||this.hasRainTransition())return!0;for(const r in this._sourceCaches)if(this._sourceCaches[r].hasTransition())return!0;for(const r in this._layers)if(this._layers[r].hasTransition())return!0;return!1}get order(){return this.terrain?this._drapedFirstOrder:this._mergedOrder}_getOrder(r){return r?this.order:this._mergedOrder}isLayerDraped(r){return!!this.terrain&&r.isDraped(this.getLayerSourceCache(r))}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}_checkLayer(r){const l=this.getOwnLayer(r);if(l)return l;this.fire(new c.y(new Error(`The layer '${r}' does not exist in the map's style.`)))}_checkSource(r){const l=this.getOwnSource(r);if(l)return l;this.fire(new c.y(new Error(`The source '${r}' does not exist in the map's style.`)))}precompilePrograms(r,l){const p=this.map.painter;if(p)for(let _=r.minzoom||0;_<(r.maxzoom||25.5);_++){const x=r.getProgramIds();if(x)for(const E of x){const R=r.getDefaultProgramParams(E,l.zoom,this._styleColorTheme.lut);R&&(p.style=this,this.fog&&(p._fogVisible=!0,R.overrideFog=!0,p.getOrCreateProgram(E,R)),p._fogVisible=!1,R.overrideFog=!1,p.getOrCreateProgram(E,R),(this.stylesheet.terrain||this.stylesheet.projection&&this.stylesheet.projection.name==="globe")&&(R.overrideRtt=!0,p.getOrCreateProgram(E,R)))}}}update(r){if(!this._loaded)return;this.ambientLight&&this.ambientLight.recalculate(r),this.directionalLight&&this.directionalLight.recalculate(r);const l=this.calculateLightsBrightness();r.brightness=l||0,l!==this._brightness&&(this._brightness=l,this.dispatcher.broadcast("setBrightness",l));const p=this._changes.isDirty();let _=!1;if(this._changes.isDirty()){const E=this._changes.getLayerUpdatesByScope();for(const R in E){const{updatedIds:B,removedIds:V}=E[R];(B||V)&&(this._updateWorkerLayers(R,B,V),_=!0)}this.updateSourceCaches(),this._updateTilesForChangedImages(),this.updateLayers(r),this.light&&this.light.updateTransitions(r),this.ambientLight&&this.ambientLight.updateTransitions(r),this.directionalLight&&this.directionalLight.updateTransitions(r),this.fog&&this.fog.updateTransitions(r),this.snow&&this.snow.updateTransitions(r),this.rain&&this.rain.updateTransitions(r),this._changes.reset()}const x={};for(const E in this._mergedSourceCaches){const R=this._mergedSourceCaches[E];x[E]=R.used,R.used=!1,R.tileCoverLift=0}for(const E of this._mergedOrder){const R=this._mergedLayers[E];if(R.recalculate(r,this._availableImages),!R.isHidden(r.zoom)){const B=this.getLayerSourceCache(R);B&&(B.used=!0,B.tileCoverLift=Math.max(B.tileCoverLift,R.tileCoverLift()))}!this._precompileDone&&this._shouldPrecompile&&("requestIdleCallback"in window?requestIdleCallback(()=>{this.precompilePrograms(R,r)}):this.precompilePrograms(R,r))}this._shouldPrecompile&&(this._precompileDone=!0),this.terrain&&_&&this.mergeLayers();for(const E in x){const R=this._mergedSourceCaches[E];x[E]!==R.used&&R.getSource().fire(new c.z("data",{sourceDataType:"visibility",dataType:"source",sourceId:R.getSource().id}))}this.light&&this.light.recalculate(r),this.terrain&&this.terrain.recalculate(r),this.fog&&this.fog.recalculate(r),this.snow&&this.snow.recalculate(r),this.rain&&this.rain.recalculate(r),this.z=r.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),p&&this.fire(new c.z("data",{dataType:"style"}))}_updateTilesForChangedImages(){const r=this._changes.getUpdatedImages();if(r.length){for(const l in this._sourceCaches)this._sourceCaches[l].reloadTilesForDependencies(["icons","patterns"],r);this._changes.resetUpdatedImages()}}_updateWorkerLayers(r,l,p){const _=this.getFragmentStyle(r);_&&this.dispatcher.broadcast("updateLayers",{layers:l?_._serializeLayers(l):[],scope:r,removedIds:p||[],options:_.options})}setState(r,l){if(this._checkLoaded(),Pa(this,Hi(r)))return!1;(r=c.cp(r)).layers=Na(r.layers);const p=function(E,R){if(!E)return[{command:ci.setStyle,args:[R]}];let B=[];try{if(!c.bn(E.version,R.version))return[{command:ci.setStyle,args:[R]}];if(c.bn(E.center,R.center)||B.push({command:ci.setCenter,args:[R.center]}),c.bn(E.zoom,R.zoom)||B.push({command:ci.setZoom,args:[R.zoom]}),c.bn(E.bearing,R.bearing)||B.push({command:ci.setBearing,args:[R.bearing]}),c.bn(E.pitch,R.pitch)||B.push({command:ci.setPitch,args:[R.pitch]}),c.bn(E.sprite,R.sprite)||B.push({command:ci.setSprite,args:[R.sprite]}),c.bn(E.glyphs,R.glyphs)||B.push({command:ci.setGlyphs,args:[R.glyphs]}),c.bn(E.imports,R.imports)||function(le=[],Ee=[],be){Ee=Ee||[];const Ae=(le=le||[]).map(Yo),Pe=Ee.map(Yo),Qe=le.reduce(uo,{}),xt=Ee.reduce(uo,{}),gt=Ae.slice();let Bt,Rt,Dt,Pt;for(Bt=0,Rt=0;Bt<Ae.length;Bt++)Dt=Ae[Bt],xt.hasOwnProperty(Dt)?Rt++:(be.push({command:ci.removeImport,args:[Dt]}),gt.splice(gt.indexOf(Dt,Rt),1));for(Bt=0,Rt=0;Bt<Pe.length;Bt++)Dt=Pe[Pe.length-1-Bt],gt[gt.length-1-Bt]!==Dt&&(Qe.hasOwnProperty(Dt)?(be.push({command:ci.removeImport,args:[Dt]}),gt.splice(gt.lastIndexOf(Dt,gt.length-Rt),1)):Rt++,Pt=gt[gt.length-Bt],be.push({command:ci.addImport,args:[xt[Dt],Pt]}),gt.splice(gt.length-Bt,0,Dt));for(const qt of Ee){const mn=Qe[qt.id];mn&&!c.bn(mn,qt)&&be.push({command:ci.updateImport,args:[qt.id,qt]})}}(E.imports,R.imports,B),c.bn(E.transition,R.transition)||B.push({command:ci.setTransition,args:[R.transition]}),c.bn(E.light,R.light)||B.push({command:ci.setLight,args:[R.light]}),c.bn(E.fog,R.fog)||B.push({command:ci.setFog,args:[R.fog]}),c.bn(E.snow,R.snow)||B.push({command:ci.setSnow,args:[R.snow]}),c.bn(E.rain,R.rain)||B.push({command:ci.setRain,args:[R.rain]}),c.bn(E.projection,R.projection)||B.push({command:ci.setProjection,args:[R.projection]}),c.bn(E.lights,R.lights)||B.push({command:ci.setLights,args:[R.lights]}),c.bn(E.camera,R.camera)||B.push({command:ci.setCamera,args:[R.camera]}),!c.bn(E["color-theme"],R["color-theme"]))return[{command:ci.setStyle,args:[R]}];const V={},U=[];(function(le,Ee,be,Ae){let Pe;for(Pe in Ee=Ee||{},le=le||{})le.hasOwnProperty(Pe)&&(Ee.hasOwnProperty(Pe)||Ta(Pe,be,Ae));for(Pe in Ee){if(!Ee.hasOwnProperty(Pe))continue;const Qe=Ee[Pe];le.hasOwnProperty(Pe)?c.bn(le[Pe],Qe)||(le[Pe].type==="geojson"&&Qe.type==="geojson"&&oo(le,Ee,Pe)?be.push({command:ci.setGeoJSONSourceData,args:[Pe,Qe.data]}):Br(Pe,Ee,be,Ae)):oa(Pe,Ee,be)}})(E.sources,R.sources,U,V);const J=[];E.layers&&E.layers.forEach(le=>{le.source&&V[le.source]?B.push({command:ci.removeLayer,args:[le.id]}):J.push(le)});let Q=E.terrain;Q&&V[Q.source]&&(B.push({command:ci.setTerrain,args:[void 0]}),Q=void 0),B=B.concat(U),c.bn(Q,R.terrain)||B.push({command:ci.setTerrain,args:[R.terrain]}),function(le,Ee,be){Ee=Ee||[];const Ae=(le=le||[]).map(Yo),Pe=Ee.map(Yo),Qe=le.reduce(uo,{}),xt=Ee.reduce(uo,{}),gt=Ae.slice(),Bt=Object.create(null);let Rt,Dt,Pt,qt,mn,nr,Wn;for(Rt=0,Dt=0;Rt<Ae.length;Rt++)Pt=Ae[Rt],xt.hasOwnProperty(Pt)?Dt++:(be.push({command:ci.removeLayer,args:[Pt]}),gt.splice(gt.indexOf(Pt,Dt),1));for(Rt=0,Dt=0;Rt<Pe.length;Rt++)Pt=Pe[Pe.length-1-Rt],gt[gt.length-1-Rt]!==Pt&&(Qe.hasOwnProperty(Pt)?(be.push({command:ci.removeLayer,args:[Pt]}),gt.splice(gt.lastIndexOf(Pt,gt.length-Dt),1)):Dt++,nr=gt[gt.length-Rt],be.push({command:ci.addLayer,args:[xt[Pt],nr]}),gt.splice(gt.length-Rt,0,Pt),Bt[Pt]=!0);for(Rt=0;Rt<Pe.length;Rt++)if(Pt=Pe[Rt],qt=Qe[Pt],mn=xt[Pt],!Bt[Pt]&&!c.bn(qt,mn))if(c.bn(qt.source,mn.source)&&c.bn(qt["source-layer"],mn["source-layer"])&&c.bn(qt.type,mn.type)){for(Wn in No(qt.layout,mn.layout,be,Pt,null,ci.setLayoutProperty),No(qt.paint,mn.paint,be,Pt,null,ci.setPaintProperty),c.bn(qt.slot,mn.slot)||be.push({command:ci.setSlot,args:[Pt,mn.slot]}),c.bn(qt.filter,mn.filter)||be.push({command:ci.setFilter,args:[Pt,mn.filter]}),c.bn(qt.minzoom,mn.minzoom)&&c.bn(qt.maxzoom,mn.maxzoom)||be.push({command:ci.setLayerZoomRange,args:[Pt,mn.minzoom,mn.maxzoom]}),qt)qt.hasOwnProperty(Wn)&&Wn!=="layout"&&Wn!=="paint"&&Wn!=="filter"&&Wn!=="metadata"&&Wn!=="minzoom"&&Wn!=="maxzoom"&&Wn!=="slot"&&(Wn.indexOf("paint.")===0?No(qt[Wn],mn[Wn],be,Pt,Wn.slice(6),ci.setPaintProperty):c.bn(qt[Wn],mn[Wn])||be.push({command:ci.setLayerProperty,args:[Pt,Wn,mn[Wn]]}));for(Wn in mn)mn.hasOwnProperty(Wn)&&!qt.hasOwnProperty(Wn)&&Wn!=="layout"&&Wn!=="paint"&&Wn!=="filter"&&Wn!=="metadata"&&Wn!=="minzoom"&&Wn!=="maxzoom"&&Wn!=="slot"&&(Wn.indexOf("paint.")===0?No(qt[Wn],mn[Wn],be,Pt,Wn.slice(6),ci.setPaintProperty):c.bn(qt[Wn],mn[Wn])||be.push({command:ci.setLayerProperty,args:[Pt,Wn,mn[Wn]]}))}else be.push({command:ci.removeLayer,args:[Pt]}),nr=gt[gt.lastIndexOf(Pt)+1],be.push({command:ci.addLayer,args:[mn,nr]})}(J,R.layers,B)}catch(V){console.warn("Unable to compute style diff:",V),B=[{command:ci.setStyle,args:[R]}]}return B}(this.serialize(),r).filter(E=>!(E.command in Oa));if(p.length===0)return!1;const _=p.filter(E=>!(E.command in es));if(_.length>0)throw new Error(`Unimplemented: ${_.map(E=>E.command).join(", ")}.`);const x=[];return p.forEach(E=>{x.push(this[E.command].apply(this,E.args))}),l&&Promise.all(x).then(l),this.stylesheet=r,this.mergeAll(),this.dispatcher.broadcast("setLayers",{layers:this._serializeLayers(this._order),scope:this.scope,options:this.options}),!0}addImage(r,l){return this.getImage(r)?this.fire(new c.y(new Error("An image with this name already exists."))):(this.imageManager.addImage(r,this.scope,l),this._afterImageUpdated(r),this)}updateImage(r,l,p=!1){this.imageManager.updateImage(r,this.scope,l),p&&this._afterImageUpdated(r)}getImage(r){return this.imageManager.getImage(r,this.scope)}removeImage(r){return this.getImage(r)?(this.imageManager.removeImage(r,this.scope),this._afterImageUpdated(r),this):this.fire(new c.y(new Error("No image with this name exists.")))}_afterImageUpdated(r){this._availableImages=this.imageManager.listImages(this.scope),this._changes.updateImage(r),this.dispatcher.broadcast("setImages",{scope:this.scope,images:this._availableImages}),this.fire(new c.z("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this._availableImages.slice()}addModel(r,l,p={}){return this._checkLoaded(),this._validate(Ro,`models.${r}`,l,null,p)||(this.modelManager.addModel(r,l,this.scope),this._changes.setDirty()),this}hasModel(r){return this.modelManager.hasModel(r,this.scope)}removeModel(r){return this.hasModel(r)?(this.modelManager.removeModel(r,this.scope),this):this.fire(new c.y(new Error("No model with this ID exists.")))}listModels(){return this._checkLoaded(),this.modelManager.listModels(this.scope)}addSource(r,l,p={}){if(this._checkLoaded(),this.getOwnSource(r)!==void 0)throw new Error(`There is already a source with ID "${r}".`);if(!l.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(l).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(l.type)>=0&&this._validate(ho,`sources.${r}`,l,null,p))return;this.map&&this.map._collectResourceTiming&&(l.collectResourceTiming=!0);const _=Ut(r,l,this.dispatcher,this);_.scope=this.scope,_.setEventedParent(this,()=>({isSourceLoaded:this._isSourceCacheLoaded(_.id),source:_.serialize(),sourceId:_.id}));const x=E=>{const R=(E?"symbol:":"other:")+_.id,B=c.aC(R,this.scope),V=this._sourceCaches[R]=new so(B,_,E);(E?this._symbolSourceCaches:this._otherSourceCaches)[_.id]=V,V.onAdd(this.map)};x(!1),l.type!=="vector"&&l.type!=="geojson"||x(!0),_.onAdd&&_.onAdd(this.map),p.isInitialLoad||(this.mergeSources(),this._changes.setDirty())}removeSource(r){this._checkLoaded();const l=this.getOwnSource(r);if(!l)throw new Error("There is no source with this ID");for(const _ in this._layers)if(this._layers[_].source===r)return this.fire(new c.y(new Error(`Source "${r}" cannot be removed while layer "${_}" is using it.`)));if(this.terrain&&this.terrain.scope===this.scope&&this.terrain.get().source===r)return this.fire(new c.y(new Error(`Source "${r}" cannot be removed while terrain is using it.`)));const p=this.getOwnSourceCaches(r);for(const _ of p){const x=c.cq(_.id);delete this._sourceCaches[x],this._changes.discardSourceCacheUpdate(_.id),_.fire(new c.z("data",{sourceDataType:"metadata",dataType:"source",sourceId:_.getSource().id})),_.setEventedParent(null),_.clearTiles()}return delete this._otherSourceCaches[r],delete this._symbolSourceCaches[r],this.mergeSources(),l.setEventedParent(null),l.onRemove&&l.onRemove(this.map),this._changes.setDirty(),this}setGeoJSONSourceData(r,l){this._checkLoaded(),this.getOwnSource(r).setData(l),this._changes.setDirty()}getOwnSource(r){const l=this.getOwnSourceCache(r);return l&&l.getSource()}getOwnSources(){const r=[];for(const l in this._otherSourceCaches){const p=this.getOwnSourceCache(l);p&&r.push(p.getSource())}return r}areTilesLoaded(){const r=this._mergedSourceCaches;for(const l in r){const p=r[l]._tiles;for(const _ in p){const x=p[_];if(x.state!=="loaded"&&x.state!=="errored")return!1}}return!0}setLights(r){if(this._checkLoaded(),!r)return delete this.ambientLight,void delete this.directionalLight;const l=this._getTransitionParameters();for(const _ of r){if(this._validate(eo,"lights",_))return;switch(_.type){case"ambient":if(this.ambientLight){const x=this.ambientLight;x.set(_),x.updateTransitions(l)}else this.ambientLight=new xn(_,Ht||(Ht=new c.a5({color:new c.a6(c.a3.properties_light_ambient.color),"color-use-theme":new c.a6({type:"string",default:"default","property-type":"data-constant"}),intensity:new c.a6(c.a3.properties_light_ambient.intensity)})),this.scope,this.options);break;case"directional":if(this.directionalLight){const x=this.directionalLight;x.set(_),x.updateTransitions(l)}else this.directionalLight=new xn(_,Qt||(Qt=new c.a5({direction:new c.ak(c.a3.properties_light_directional.direction),color:new c.a6(c.a3.properties_light_directional.color),"color-use-theme":new c.a6({type:"string",default:"default","property-type":"data-constant"}),intensity:new c.a6(c.a3.properties_light_directional.intensity),"cast-shadows":new c.a6(c.a3.properties_light_directional["cast-shadows"]),"shadow-quality":new c.a6(c.a3.properties_light_directional["shadow-quality"]),"shadow-intensity":new c.a6(c.a3.properties_light_directional["shadow-intensity"])})),this.scope,this.options)}}const p=new c.a8(this.z||0,l);this.ambientLight&&this.ambientLight.recalculate(p),this.directionalLight&&this.directionalLight.recalculate(p),this._brightness=this.calculateLightsBrightness(),this.dispatcher.broadcast("setBrightness",this._brightness)}calculateLightsBrightness(){const r=this.directionalLight,l=this.ambientLight;if(!r||!l)return;const p=Q=>.2126*(Q[0]<=.03928?Q[0]/12.92:Math.pow((Q[0]+.055)/1.055,2.4))+.7152*(Q[1]<=.03928?Q[1]/12.92:Math.pow((Q[1]+.055)/1.055,2.4))+.0722*(Q[2]<=.03928?Q[2]/12.92:Math.pow((Q[2]+.055)/1.055,2.4)),_=r.properties.get("color").toRenderColor(null).toArray01(),x=r.properties.get("intensity"),E=r.properties.get("direction"),R=1-c.cb(E.x,E.y,E.z)[2]/90,B=p(_)*x*R,V=l.properties.get("color").toRenderColor(null).toArray01(),U=l.properties.get("intensity"),J=p(V)*U;return Number(((B+J)/2).toFixed(6))}getBrightness(){return this._brightness}getLights(){if(!this.enable3dLights())return null;const r=[];return this.directionalLight&&r.push(this.directionalLight.get()),this.ambientLight&&r.push(this.ambientLight.get()),r}enable3dLights(){return!!this.ambientLight&&!!this.directionalLight}getFragmentStyle(r){if(!r)return this;if(c.cr(r)){const l=c.cs(r),p=this.fragments.find(({id:x})=>x===l);if(!p)throw new Error(`Style import '${r}' not found`);const _=c.cq(r);return p.style.getFragmentStyle(_)}{const l=this.fragments.find(({id:p})=>p===r);return l?l.style:void 0}}setFeaturesetSelectors(r){if(!r)return;const l={},p=(_,x="")=>`${_}::${x}`;this._featuresetSelectors={};for(const _ in r){const x=this._featuresetSelectors[_]=[];for(const E of r[_].selectors){if(E.featureNamespace){const B=this.getOwnLayer(E.layer);if(!B){c.w(`Layer is undefined for selector: ${E.layer}`);continue}const V=p(B.source,B.sourceLayer);if(V in l&&l[V]!==E.featureNamespace){c.w(`"featureNamespace ${E.featureNamespace} of featureset ${_}'s selector is not associated to the same source, skip this selector`);continue}l[V]=E.featureNamespace}let R;if(E.properties)for(const B in E.properties){const V=c.U(E.properties[B]);V.result==="success"&&(R=R||{},R[B]=V.value)}x.push({layerId:E.layer,namespace:E.featureNamespace,properties:R,uniqueFeatureID:E._uniqueFeatureID})}}}getFeaturesetDescriptors(r){const l=this.getFragmentStyle(r);if(!l||!l.stylesheet.featuresets)return[];const p=[];for(const _ in l.stylesheet.featuresets)p.push({featuresetId:_,importId:l.scope?l.scope:void 0});return p}getFeaturesetLayers(r,l){const p=this.getFragmentStyle(l),_=p.stylesheet.featuresets;if(!_||!_[r])return this.fire(new c.y(new Error(`The featureset '${r}' does not exist in the map's style and cannot be queried.`))),[];const x=[];for(const E of _[r].selectors){const R=p.getOwnLayer(E.layer);R&&x.push(R)}return x}getConfigProperty(r,l){const p=this.getFragmentStyle(r);if(!p)return null;const _=c.aC(l,p.scope),x=p.options.get(_),E=x?x.value||x.default:null;return E?E.serialize():null}setConfigProperty(r,l,p){const _=this.getFragmentStyle(r);if(!_)return;const x=_.stylesheet.indoor?Mo(_.stylesheet.schema):_.stylesheet.schema;if(!x||!x[l])return;const E=c.U(p);if(E.result!=="success")return void Pa(this,E.value);const R=E.value.expression,B=c.aC(l,_.scope),V=_.options.get(B);if(!V)return;let U;const{minValue:J,maxValue:Q,stepValue:le,type:Ee,values:be}=x[l],Ae=c.U(x[l].default);Ae.result==="success"&&(U=Ae.value.expression),U?(this.options.set(B,Object.assign({},V,{value:R,default:U,minValue:J,maxValue:Q,stepValue:le,type:Ee,values:be})),this.updateConfigDependencies(l)):this.fire(new c.y(new Error(`No schema defined for the config option "${l}" in the "${r}" fragment.`)))}getConfig(r){const l=this.getFragmentStyle(r);if(!l)return null;const p=l.stylesheet.schema;if(!p)return null;const _={};for(const x in p){const E=c.aC(x,l.scope),R=l.options.get(E),B=R?R.value||R.default:null;_[x]=B?B.serialize():null}return _}setConfig(r,l){const p=this.getFragmentStyle(r);p&&(p.updateConfig(l,p.stylesheet.schema),this.updateConfigDependencies())}getSchema(r){const l=this.getFragmentStyle(r);return l?l.stylesheet.schema:null}setSchema(r,l){const p=this.getFragmentStyle(r);p&&(p.stylesheet.schema=l,p.updateConfig(p._config,l),this.updateConfigDependencies())}updateConfig(r,l){if(this._config=r,r||l)if(l)for(const p in l){let _,x;const E=c.U(l[p].default);if(E.result==="success"&&(_=E.value.expression),r&&r[p]!==void 0){const Q=c.U(r[p]);Q.result==="success"&&(x=Q.value.expression)}const{minValue:R,maxValue:B,stepValue:V,type:U,values:J}=l[p];if(_){const Q=c.aC(p,this.scope);this.options.set(Q,{default:_,value:x,minValue:R,maxValue:B,stepValue:V,type:U,values:J})}else this.fire(new c.y(new Error(`No schema defined for config option "${p}".`)))}else this.fire(new c.y(new Error("Attempting to set config for a style without schema.")))}updateConfigDependencies(r){for(const l of this._configDependentLayers){const p=this.getLayer(l);if(p){if(r&&!p.configDependencies.has(r))continue;p.possiblyEvaluateVisibility(),this._updateLayer(p)}}this.ambientLight&&this.ambientLight.updateConfig(this.options),this.directionalLight&&this.directionalLight.updateConfig(this.options),this.fog&&this.fog.updateConfig(this.options),this.snow&&this.snow.updateConfig(this.options),this.rain&&this.rain.updateConfig(this.options),this.forEachFragmentStyle(l=>{const p=l._styleColorTheme.colorThemeOverride?l._styleColorTheme.colorThemeOverride:l._styleColorTheme.colorTheme;if(p){const _=l._evaluateColorThemeData(p);(!l._styleColorTheme.lut&&_!==""||l._styleColorTheme.lut&&_!==l._styleColorTheme.lut.data)&&l.setColorTheme(p)}}),this._changes.setDirty()}addLayer(r,l,p={}){this._checkLoaded();const _=r.id;if(this._layers[_])return void this.fire(new c.y(new Error(`Layer with id "${_}" already exists on this map`)));let x;if(r.type==="custom"){if(Pa(this,c.ct(r)))return;x=c.cu(r,this.scope,this._styleColorTheme.lut,this.options)}else{if(typeof r.source=="object"&&(this.addSource(_,r.source),r=c.cp(r),r=c.l(r,{source:_})),this._validate(ui,`layers.${_}`,r,{arrayIndex:-1},p))return;x=c.cu(r,this.scope,this._styleColorTheme.lut,this.options),this._validateLayer(x),x.setEventedParent(this,{layer:{id:_}})}x.configDependencies.size!==0&&this._configDependentLayers.add(x.fqid);let E=this._order.length;if(l){const U=this._order.indexOf(l);if(U===-1)return void this.fire(new c.y(new Error(`Layer with id "${l}" does not exist on this map.`)));x.slot===this._layers[l].slot?E=U:c.w(`Layer with id "${l}" has a different slot. Layers can only be rearranged within the same slot.`)}this._order.splice(E,0,_),this._layerOrderChanged=!0,this._layers[_]=x;const R=this.getOwnLayerSourceCache(x),B=!!this.directionalLight&&this.directionalLight.shadowsEnabled();R&&x.canCastShadows()&&B&&(R.castsShadows=!0);const V=this._changes.getRemovedLayer(x);if(V&&x.source&&R&&x.type!=="custom"){this._changes.discardLayerRemoval(x);const U=c.aC(x.source,x.scope);V.type!==x.type?this._changes.updateSourceCache(U,"clear"):(this._changes.updateSourceCache(U,"reload"),R.pause())}this._updateLayer(x),x.onAdd&&x.onAdd(this.map),x.scope=this.scope,this.mergeLayers()}moveLayer(r,l){this._checkLoaded();const p=this._checkLayer(r);if(!p||r===l)return;const _=this._order.indexOf(r);this._order.splice(_,1);let x=this._order.length;if(l){const E=this._order.indexOf(l);if(E===-1)return void this.fire(new c.y(new Error(`Layer with id "${l}" does not exist on this map.`)));p.slot===this._layers[l].slot?x=E:c.w(`Layer with id "${l}" has a different slot. Layers can only be rearranged within the same slot.`)}this._order.splice(x,0,r),this._changes.setDirty(),this._layerOrderChanged=!0,this.mergeLayers()}removeLayer(r){this._checkLoaded();const l=this._checkLayer(r);if(!l)return;l.setEventedParent(null);const p=this._order.indexOf(r);this._order.splice(p,1),delete this._layers[r],this._changes.setDirty(),this._layerOrderChanged=!0,this._configDependentLayers.delete(l.fqid),this._changes.removeLayer(l);const _=this.getOwnLayerSourceCache(l);if(_&&_.castsShadows){let x=!1;for(const E in this._layers)if(this._layers[E].source===l.source&&this._layers[E].canCastShadows()){x=!0;break}_.castsShadows=x}l.onRemove&&l.onRemove(this.map),this.mergeLayers()}getOwnLayer(r){return this._layers[r]}hasLayer(r){return r in this._mergedLayers}hasLayerType(r){for(const l in this._layers)if(this._layers[l].type===r)return!0;return!1}setLayerZoomRange(r,l,p){this._checkLoaded();const _=this._checkLayer(r);_&&(_.minzoom===l&&_.maxzoom===p||(l!=null&&(_.minzoom=l),p!=null&&(_.maxzoom=p),this._updateLayer(_)))}getSlots(){return this._checkLoaded(),this._mergedSlots}setSlot(r,l){this._checkLoaded();const p=this._checkLayer(r);p&&p.slot!==l&&(p.slot=l,this._updateLayer(p))}setFilter(r,l,p={}){this._checkLoaded();const _=this._checkLayer(r);if(_&&!c.bn(_.filter,l))return l==null?(_.filter=void 0,void this._updateLayer(_)):void(this._validate(oi,`layers.${_.id}.filter`,l,{layerType:_.type},p)||(_.filter=c.cp(l),this._updateLayer(_)))}getFilter(r){const l=this._checkLayer(r);if(l)return c.cp(l.filter)}setLayoutProperty(r,l,p,_={}){this._checkLoaded();const x=this._checkLayer(r);if(x&&!c.bn(x.getLayoutProperty(l),p)){if(p!=null&&(!_||_.validate!==!1)&&Pa(x,Ji.call(Hi,{key:`layers.${r}.layout.${l}`,layerType:x.type,objectKey:l,value:p,styleSpec:c.a3,style:{glyphs:!0,sprite:!0}})))return;x.setLayoutProperty(l,p),x.configDependencies.size!==0&&this._configDependentLayers.add(x.fqid),this._updateLayer(x)}}getLayoutProperty(r,l){const p=this._checkLayer(r);if(p)return p.getLayoutProperty(l)}setPaintProperty(r,l,p,_={}){this._checkLoaded();const x=this._checkLayer(r);if(!x||c.bn(x.getPaintProperty(l),p)||p!=null&&(!_||_.validate!==!1)&&Pa(x,Xi.call(Hi,{key:`layers.${r}.paint.${l}`,layerType:x.type,objectKey:l,value:p,styleSpec:c.a3})))return;const E=x.setPaintProperty(l,p);x.configDependencies.size!==0&&this._configDependentLayers.add(x.fqid),E&&this._updateLayer(x),this._changes.updatePaintProperties(x)}getPaintProperty(r,l){const p=this._checkLayer(r);if(p)return p.getPaintProperty(l)}setFeatureState(r,l){if(this._checkLoaded(),"target"in r){if("featuresetId"in r.target){const{featuresetId:B,importId:V}=r.target,U=this.getFragmentStyle(V),J=U.getFeaturesetLayers(B);for(const{source:Q,sourceLayer:le}of J)U.setFeatureState({id:r.id,source:Q,sourceLayer:le},l)}else if("layerId"in r.target){const{layerId:B}=r.target,V=this.getLayer(B);this.setFeatureState({id:r.id,source:V.source,sourceLayer:V.sourceLayer},l)}return}const p=r.source,_=r.sourceLayer,x=this._checkSource(p);if(!x)return;const E=x.type;if(E==="geojson"&&_)return void this.fire(new c.y(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if(E==="vector"&&!_)return void this.fire(new c.y(new Error("The sourceLayer parameter must be provided for vector source types.")));r.id===void 0&&this.fire(new c.y(new Error("The feature id parameter must be provided.")));const R=this.getOwnSourceCaches(p);for(const B of R)B.setFeatureState(_,r.id,l)}removeFeatureState(r,l){if(this._checkLoaded(),"target"in r){if("featuresetId"in r.target){const{featuresetId:B,importId:V}=r.target,U=this.getFragmentStyle(V),J=U.getFeaturesetLayers(B);for(const{source:Q,sourceLayer:le}of J)U.removeFeatureState({id:r.id,source:Q,sourceLayer:le},l)}else if("layerId"in r.target){const{layerId:B}=r.target,V=this.getLayer(B);this.removeFeatureState({id:r.id,source:V.source,sourceLayer:V.sourceLayer},l)}return}const p=r.source,_=this._checkSource(p);if(!_)return;const x=_.type,E=x==="vector"?r.sourceLayer:void 0;if(x==="vector"&&!E)return void this.fire(new c.y(new Error("The sourceLayer parameter must be provided for vector source types.")));if(l&&typeof r.id!="string"&&typeof r.id!="number")return void this.fire(new c.y(new Error("A feature id is required to remove its specific state property.")));const R=this.getOwnSourceCaches(p);for(const B of R)B.removeFeatureState(E,r.id,l)}getFeatureState(r){if(this._checkLoaded(),"target"in r){let x;if("featuresetId"in r.target){const{featuresetId:E,importId:R}=r.target,B=this.getFragmentStyle(R),V=B.getFeaturesetLayers(E);for(const{source:U,sourceLayer:J}of V){const Q=B.getFeatureState({id:r.id,source:U,sourceLayer:J});if(Q&&!x)x=Q;else if(!c.bn(x,Q))return void this.fire(new c.y(new Error("The same feature id exists in multiple sources in the featureset, but their feature states are not consistent through the sources.")))}}else if("layerId"in r.target){const{layerId:E}=r.target,R=this.getLayer(E);x=this.getFeatureState({id:r.id,source:R.source,sourceLayer:R.sourceLayer})}return x}const l=r.source,p=r.sourceLayer,_=this._checkSource(l);if(_){if(_.type!=="vector"||p)return r.id===void 0&&this.fire(new c.y(new Error("The feature id parameter must be provided."))),this.getOwnSourceCaches(l)[0].getFeatureState(p,r.id);this.fire(new c.y(new Error("The sourceLayer parameter must be provided for vector source types.")))}}setTransition(r){return this.stylesheet.transition=c.l({},this.stylesheet.transition,r),this.transition=this.stylesheet.transition,this}getTransition(){return c.l({},this.stylesheet.transition)}serialize(){this._checkLoaded();const r=this.getTerrain(),l=r&&this.terrain&&this.terrain.scope===this.scope?r:this.stylesheet.terrain;return c.cv({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,fragment:this.stylesheet.fragment,imports:this._serializeImports(),schema:this.stylesheet.schema,camera:this.stylesheet.camera,light:this.stylesheet.light,lights:this.stylesheet.lights,terrain:l,fog:this.stylesheet.fog,snow:this.stylesheet.snow,rain:this.stylesheet.rain,center:this.stylesheet.center,"color-theme":this.stylesheet["color-theme"],zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:this._serializeSources(),layers:this._serializeLayers(this._order)},p=>p!==void 0)}_updateFilteredLayers(r){for(const l of Object.values(this._mergedLayers))r(l)&&this._updateLayer(l)}_updateLayer(r){this._changes.updateLayer(r);const l=this.getLayerSourceCache(r),p=c.aC(r.source,r.scope),_=this._changes.getUpdatedSourceCaches();r.source&&!_[p]&&l&&l.getSource().type!=="raster"&&(this._changes.updateSourceCache(p,"reload"),l.pause()),r.invalidateCompiledFilter()}_flattenAndSortRenderedFeatures(r){const l=R=>this._mergedLayers[R].is3D(),p=this.order,_={},x=[];for(let R=p.length-1;R>=0;R--){const B=p[R];if(l(B)){_[B]=R;for(const V of r){const U=V[B];if(U)for(const J of U)x.push(J)}}}x.sort((R,B)=>B.intersectionZ-R.intersectionZ);const E=[];for(let R=p.length-1;R>=0;R--){const B=p[R];if(l(B))for(let V=x.length-1;V>=0;V--){const U=x[V].feature;if(U.layer&&_[U.layer.id]<R)break;E.push(U),x.pop()}else for(const V of r){const U=V[B];if(U)for(const J of U)E.push(J.feature)}}return E}queryRenderedFeatures(r,l,p){let _;l&&!Array.isArray(l)&&l.filter&&(this._validate(oi,"queryRenderedFeatures.filter",l.filter,null,l),_=c.aZ(l.filter));const x={},E=U=>{if(qa.has(U.type))return;const J=this.getOwnLayerSourceCache(U),Q=x[J.id]=x[J.id]||{sourceCache:J,layers:{},has3DLayers:!1};U.is3D()&&(Q.has3DLayers=!0),Q.layers[U.fqid]=Q.layers[U.fqid]||{styleLayer:U,targets:[]},Q.layers[U.fqid].targets.push({filter:_})};if(l&&l.layers){if(!Array.isArray(l.layers))return this.fire(new c.y(new Error("parameters.layers must be an Array."))),[];for(const U of l.layers){const J=this._layers[U];if(!J)return this.fire(new c.y(new Error(`The layer '${U}' does not exist in the map's style and cannot be queried for features.`))),[];E(J)}}else for(const U in this._layers)E(this._layers[U]);const R=this._queryRenderedFeatures(r,x,p),B=this._flattenAndSortRenderedFeatures(R),V=[];for(const U of B)c.cs(U.layer.id)===this.scope&&V.push(U);return V}queryRenderedFeatureset(r,l,p){let _;l&&!Array.isArray(l)&&l.filter&&(this._validate(oi,"queryRenderedFeatures.filter",l.filter,null,l),_=c.aZ(l.filter));const x="mock",E=[];if(l&&l.target)E.push(Object.assign({},l,{targetId:x,filter:_}));else{const U=this.getFeaturesetDescriptors();for(const J of U)E.push({targetId:x,filter:_,target:J});for(const{style:J}of this.fragments){const Q=J.getFeaturesetDescriptors();for(const le of Q)E.push({targetId:x,filter:_,target:le})}}const R=this.queryRenderedTargets(r,E,p),B=[],V=new Set;for(const U of R)for(const J of U.variants[x])or(J,U,V)||B.push(new c.cw(U,J));return B}queryRenderedTargets(r,l,p){const _={},x=(R,B,V,U)=>{const J=_[B.id]=_[B.id]||{sourceCache:B,layers:{},has3DLayers:!1};if(J.layers[R.fqid]=J.layers[R.fqid]||{styleLayer:R,targets:[]},R.is3D()&&(J.has3DLayers=!0),!U)return V.uniqueFeatureID=!1,void J.layers[R.fqid].targets.push(V);J.layers[R.fqid].targets.push(Object.assign({},V,{namespace:U.namespace,properties:U.properties,uniqueFeatureID:U.uniqueFeatureID}))};for(const R of l)if("featuresetId"in R.target){const{featuresetId:B,importId:V}=R.target,U=this.getFragmentStyle(V);if(!U||!U._featuresetSelectors)continue;const J=U._featuresetSelectors[B];if(!J){this.fire(new c.y(new Error(`The featureset '${B}' does not exist in the map's style and cannot be queried for features.`)));continue}for(const Q of J){const le=U.getOwnLayer(Q.layerId);le&&!qa.has(le.type)&&x(le,U.getOwnLayerSourceCache(le),R,Q)}}else if("layerId"in R.target){const{layerId:B}=R.target,V=this.getLayer(B);if(!V||qa.has(V.type))continue;x(V,this.getLayerSourceCache(V),R)}const E=this._queryRenderedFeatures(r,_,p);return this._flattenAndSortRenderedFeatures(E)}_queryRenderedFeatures(r,l,p){const _=[],x=!!this.map._showQueryGeometry,E=yn.createFromScreenPoints(r,p);for(const R in l){const B=qr(E,l[R],this._availableImages,p,x);Object.keys(B).length&&_.push(B)}if(this.placement)for(const R in l){if(!l[R].sourceCache._onlySymbols)continue;const B=Mi(E.screenGeometry,l[R],this._availableImages,this.placement.collisionIndex,this.placement.retainedQueryData);Object.keys(B).length&&_.push(B)}return _}querySourceFeatures(r,l){const p=l&&l.filter;p&&this._validate(oi,"querySourceFeatures.filter",p,null,l);let _=[];const x=this.getOwnSourceCaches(r);for(const E of x)_=_.concat(fo(E,l));return _}addSourceType(r,l,p){return ns.getSourceType(r)?p(new Error(`A source type called "${r}" already exists.`)):(ns.setSourceType(r,l),l.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:r,url:l.workerSourceURL},p):p(null,null))}getFlatLight(){return this.light.getLight()}setFlatLight(r,l,p={}){this._checkLoaded();const _=this.light.getLight();let x=!1;for(const R in r)if(!c.bn(r[R],_[R])){x=!0;break}if(!x)return;const E=this._getTransitionParameters();this.light.setLight(r,l,p),this.light.updateTransitions(E)}getTerrain(){return this.terrain&&this.terrain.drapeRenderMode===1?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:"",exaggeration:0},0)}checkCanvasFingerprintNoise(){this.disableElevatedTerrain===void 0&&(this.disableElevatedTerrain=c.q.hasCanvasFingerprintNoise(),this.disableElevatedTerrain&&c.w("Terrain and hillshade are disabled because of Canvas2D limitations when fingerprinting protection is enabled (e.g. in private browsing mode)."))}setTerrain(r,l=1){if(this._checkLoaded(),!r)return this.terrainSetForDrapingOnly()||(delete this.terrain,this.map.transform.projection.requiresDraping&&this.setTerrainForDraping()),l===0&&delete this.terrain,r===null?this.stylesheet.terrain=null:delete this.stylesheet.terrain,this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);this.checkCanvasFingerprintNoise();let p=r;const _=r.source==null;if(l===1){if(this.disableElevatedTerrain)return;if(typeof p.source=="object"){const R="terrain-dem-src";this.addSource(R,p.source),p=c.cp(p),p=c.l(p,{source:R})}const x=c.l({},p),E={};if(this.terrain&&_){x.source=this.terrain.get().source;const R=this.terrain?this.getFragmentStyle(this.terrain.scope):null;R&&(E.style=R.serialize())}if(this._validate(en,"terrain",x,E))return}if(!this.terrain||this.terrain.scope!==this.scope&&!_||this.terrain&&l!==this.terrain.drapeRenderMode){if(!p)return;this._createTerrain(p,l),this.fire(new c.z("data",{dataType:"style"}))}else{const x=this.terrain,E=x.get();for(const R of Object.keys(c.a3.terrain))!p.hasOwnProperty(R)&&c.a3.terrain[R].default&&(p[R]=c.a3.terrain[R].default);for(const R in r)if(!c.bn(r[R],E[R])){x.set(r,this.options),this.stylesheet.terrain=r;const B=this._getTransitionParameters({duration:0});x.updateTransitions(B),this.fire(new c.z("data",{dataType:"style"}));break}}this.mergeTerrain(),this.updateDrapeFirstLayers(),this._markersNeedUpdate=!0}_createFog(r){const l=this.fog=new vn(r,this.map.transform,this.scope,this.options);this.stylesheet.fog=l.get();const p=this._getTransitionParameters({duration:0});l.updateTransitions(p)}_createSnow(r){const l=this.snow=new ct(r,this.map.transform,this.scope,this.options);this.stylesheet.snow=l.get();const p=this._getTransitionParameters({duration:0});l.updateTransitions(p)}_createRain(r){const l=this.rain=new rt(r,this.map.transform,this.scope,this.options);this.stylesheet.rain=l.get();const p=this._getTransitionParameters({duration:0});l.updateTransitions(p)}_updateMarkersOpacity(){this.map._markers.length!==0&&this.map._requestDomTask(()=>{for(const r of this.map._markers)r._evaluateOpacity()})}getFog(){return this.fog?this.fog.get():null}setFog(r){if(this._checkLoaded(),!r)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const l=this.fog;if(!c.bn(l.get(),r)){l.set(r,this.options),this.stylesheet.fog=l.get();const p=this._getTransitionParameters({duration:0});l.updateTransitions(p)}}else this._createFog(r);this._markersNeedUpdate=!0}getSnow(){return this.snow?this.snow.get():null}setSnow(r){if(this._checkLoaded(),!r)return delete this.snow,void delete this.stylesheet.snow;if(this.snow){const l=this.snow;if(!c.bn(l.get(),r)){l.set(r,this.options),this.stylesheet.snow=l.get();const p=this._getTransitionParameters({duration:0});l.updateTransitions(p)}}else this._createSnow(r);this._markersNeedUpdate=!0}getRain(){return this.rain?this.rain.get():null}setRain(r){if(this._checkLoaded(),!r)return delete this.rain,void delete this.stylesheet.rain;if(this.rain){const l=this.rain;if(!c.bn(l.get(),r)){l.set(r,this.options),this.stylesheet.rain=l.get();const p=this._getTransitionParameters({duration:0});l.updateTransitions(p)}}else this._createRain(r);this._markersNeedUpdate=!0}_reloadColorTheme(){const r=()=>{for(const _ in this._layers)this._layers[_].lut=this._styleColorTheme.lut;for(const _ in this._sourceCaches)this._sourceCaches[_].clearTiles()},l=this._styleColorTheme.colorThemeOverride?this._styleColorTheme.colorThemeOverride:this._styleColorTheme.colorTheme;if(!l)return this._styleColorTheme.lut=null,void r();const p=this._evaluateColorThemeData(l);this._loadColorTheme(p).then(()=>{this.fire(new c.z("colorthemeset")),r()}).catch(_=>{c.w(`Couldn't set color theme: ${_}`)})}setColorTheme(r){this._checkLoaded(),this._styleColorTheme.colorThemeOverride&&c.w("Note: setColorTheme is called on a style with a color-theme override, the passed color-theme won't be visible."),this._styleColorTheme.colorTheme=r,this._reloadColorTheme()}setImportColorTheme(r,l){const p=this.getFragmentStyle(r);p&&(p._styleColorTheme.colorThemeOverride=l,p._reloadColorTheme())}_getTransitionParameters(r){return{now:c.q.now(),transition:c.l(this.transition,r)}}updateDrapeFirstLayers(){if(!this.terrain)return;const r=[],l=[];for(const p of this._mergedOrder)this.isLayerDraped(this._mergedLayers[p])?r.push(p):l.push(p);this._drapedFirstOrder=[],this._drapedFirstOrder.push(...r),this._drapedFirstOrder.push(...l)}_createTerrain(r,l){const p=this.terrain=new X(r,l,this.scope,this.options);l===1&&(this.stylesheet.terrain=r),this.mergeTerrain(),this.updateDrapeFirstLayers(),this._force3DLayerUpdate();const _=this._getTransitionParameters({duration:0});p.updateTransitions(_)}_force3DLayerUpdate(){for(const r in this._layers){const l=this._layers[r];l.type==="fill-extrusion"&&this._updateLayer(l)}}_forceSymbolLayerUpdate(){for(const r in this._layers){const l=this._layers[r];l.type==="symbol"&&this._updateLayer(l)}}_validate(r,l,p,_,x={}){if(x&&x.validate===!1)return!1;const E=c.l({},this.serialize());return Pa(this,r.call(Hi,c.l({key:l,style:E,value:p,styleSpec:c.a3},_)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),c.cx.off("pluginStateChange",this._rtlTextPluginCallback);for(const r in this._mergedLayers)this._mergedLayers[r].setEventedParent(null);for(const r in this._mergedSourceCaches)this._mergedSourceCaches[r].clearTiles(),this._mergedSourceCaches[r].setEventedParent(null);this.setEventedParent(null),delete this.fog,delete this.snow,delete this.rain,delete this.terrain,delete this.ambientLight,delete this.directionalLight,this.isRootStyle()&&(this.imageManager.setEventedParent(null),this.modelManager.setEventedParent(null),this.dispatcher.remove())}clearSource(r){const l=this.getSourceCaches(r);for(const p of l)p.clearTiles()}clearSources(){for(const r in this._mergedSourceCaches)this._mergedSourceCaches[r].clearTiles()}reloadSource(r){const l=this.getSourceCaches(r);for(const p of l)p.resume(),p.reload()}reloadSources(){for(const r of this.getSources())r.reload&&r.reload()}reloadModels(){this.modelManager.reloadModels(""),this.forEachFragmentStyle(r=>{r.modelManager.reloadModels(r.scope)})}updateSources(r){let l;this.directionalLight&&(l=no(this.directionalLight));for(const p in this._mergedSourceCaches)this._mergedSourceCaches[p].update(r,void 0,void 0,l)}_generateCollisionBoxes(){for(const r in this._sourceCaches){const l=this._sourceCaches[r];l.resume(),l.reload()}}_updatePlacement(r,l,p,_,x,E,R=!1){let B=!1,V=!1;const U={},J={};for(const Q of this._mergedOrder){const le=this._mergedLayers[Q];if(le.type!=="symbol")continue;const Ee=c.aC(le.source,le.scope);let be=U[Ee];if(!be){const Pe=this.getLayerSourceCache(le);if(!Pe)continue;const Qe=Pe.getRenderableIds(!0).map(xt=>Pe.getTileByID(xt));J[Ee]=Qe.slice(),be=U[Ee]=Qe.sort((xt,gt)=>gt.tileID.overscaledZ-xt.tileID.overscaledZ||(xt.tileID.isLessThan(gt.tileID)?-1:1))}const Ae=this.crossTileSymbolIndex.addLayer(le,be,l.center.lng,l.projection);B=B||Ae}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._mergedOrder),R=R||this._layerOrderChanged||_===0,this._layerOrderChanged&&this.fire(new c.z("neworder")),(R||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(c.q.now(),l.zoom))&&(this.pauseablePlacement=new hs(l,this._mergedOrder,R,p,_,x,this.placement,this.fog&&l.projection.supportsFog?this.fog.state:null,this._buildingIndex),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._mergedOrder,this._mergedLayers,U,J,this.map.painter.scaleFactor),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(c.q.now()),V=!0),B&&this.pauseablePlacement.placement.setStale()),V||B){this._buildingIndex.onNewFrame(l.zoom);for(let Q=0;Q<this._mergedOrder.length;Q++){const le=this._mergedLayers[this._mergedOrder[Q]];if(le.type!=="symbol")continue;const Ee=this.isLayerClipped(le);this.placement.updateLayerOpacities(le,U[c.aC(le.source,le.scope)],Q,Ee?E:null)}}return{needsRerender:!this.pauseablePlacement.isDone()||this.placement.hasTransitions(c.q.now())}}_releaseSymbolFadeTiles(){for(const r in this._sourceCaches)this._sourceCaches[r].releaseSymbolFadeTiles()}addImport(r,l){this._checkLoaded();const p=this.stylesheet.imports=this.stylesheet.imports||[];if(p.findIndex(({id:x})=>x===r.id)!==-1)return void this.fire(new c.y(new Error(`Import with id '${r.id}' already exists in the map's style.`)));if(!l)return p.push(r),this._loadImports([r],!0);const _=p.findIndex(({id:x})=>x===l);return _===-1&&this.fire(new c.y(new Error(`Import with id "${l}" does not exist on this map.`))),this.stylesheet.imports=p.slice(0,_).concat(r).concat(p.slice(_)),this._loadImports([r],!0,l)}updateImport(r,l){this._checkLoaded();const p=this.stylesheet.imports||[],_=this.getImportIndex(r);return _===-1?this:typeof l=="string"?(this.setImportUrl(r,l),this):(l.url&&l.url!==p[_].url&&this.setImportUrl(r,l.url),c.bn(l.config,p[_].config)||this.setImportConfig(r,l.config,l.data.schema),c.bn(l.data,p[_].data)||this.setImportData(r,l.data),this)}moveImport(r,l){this._checkLoaded();let p=this.stylesheet.imports||[];const _=this.getImportIndex(r);if(_===-1)return this;const x=this.getImportIndex(l);if(x===-1)return this;const E=p[_],R=this.fragments[_];return p=p.filter(({id:B})=>B!==r),this.fragments=this.fragments.filter(({id:B})=>B!==r),this.stylesheet.imports=p.slice(0,x).concat(E).concat(p.slice(x)),this.fragments=this.fragments.slice(0,x).concat(R).concat(this.fragments.slice(x)),this.mergeLayers(),this}setImportUrl(r,l){this._checkLoaded();const p=this.stylesheet.imports||[],_=this.getImportIndex(r);if(_===-1)return this;p[_].url=l;const x=this.fragments[_];return x.style=this._createFragmentStyle(p[_]),x.style.on("style.import.load",()=>this.mergeAll()),x.style.loadURL(l),this}setImportData(r,l){this._checkLoaded();const p=this.getImportIndex(r),_=this.stylesheet.imports||[];return p===-1?this:l?(this.fragments[p].style.setState(l),this._reloadImports(),this):(delete _[p].data,this.setImportUrl(r,_[p].url))}setImportConfig(r,l,p){this._checkLoaded();const _=this.getImportIndex(r),x=this.stylesheet.imports||[];if(_===-1)return this;l?x[_].config=l:delete x[_].config;const E=this.fragments[_];p&&E.style.stylesheet&&(E.style.stylesheet.schema=p);const R=E.style.stylesheet&&E.style.stylesheet.schema;return E.config=l,E.style.updateConfig(l,R),this.updateConfigDependencies(),this}removeImport(r){this._checkLoaded();const l=this.stylesheet.imports||[],p=this.getImportIndex(r);p!==-1&&(l.splice(p,1),this.fragments[p].style._remove(),this.fragments.splice(p,1),this._reloadImports())}getImportIndex(r){const l=(this.stylesheet.imports||[]).findIndex(p=>p.id===r);return l===-1&&this.fire(new c.y(new Error(`Import '${r}' does not exist in the map's style and cannot be updated.`))),l}getLayer(r){return this._mergedLayers[r]}getSources(){const r=[];for(const l in this._mergedOtherSourceCaches){const p=this._mergedOtherSourceCaches[l];p&&r.push(p.getSource())}return r}getSource(r,l){const p=this.getSourceCache(r,l);return p&&p.getSource()}getLayerSource(r){const l=this.getLayerSourceCache(r);return l&&l.getSource()}getSourceCache(r,l){const p=c.aC(r,l);return this._mergedOtherSourceCaches[p]}getLayerSourceCache(r){const l=c.aC(r.source,r.scope);return r.type==="symbol"?this._mergedSymbolSourceCaches[l]:this._mergedOtherSourceCaches[l]}getSourceCaches(r){if(r==null)return Object.values(this._mergedSourceCaches);const l=[];return this._mergedOtherSourceCaches[r]&&l.push(this._mergedOtherSourceCaches[r]),this._mergedSymbolSourceCaches[r]&&l.push(this._mergedSymbolSourceCaches[r]),l}updateSourceCaches(){const r=this._changes.getUpdatedSourceCaches();for(const l in r){const p=r[l];p==="reload"?this.reloadSource(l):p==="clear"&&this.clearSource(l)}}updateLayers(r){const l=this._changes.getUpdatedPaintProperties();for(const p of l){const _=this.getLayer(p);_&&_.updateTransitions(r)}}getImages(r,l,p){this.imageManager.getImages(l.icons,l.scope,p),this._updateTilesForChangedImages();const _=x=>{x&&x.setDependencies(l.tileID.key,l.type,l.icons)};_(this._otherSourceCaches[l.source]),_(this._symbolSourceCaches[l.source])}rasterizeImages(r,l,p){this.imageManager.rasterizeImages(l,p)}getGlyphs(r,l,p){this.glyphManager.getGlyphs(l.stacks,l.scope,p)}getResource(r,l,p){return c.cy(l,p)}getOwnSourceCache(r){return this._otherSourceCaches[r]}getOwnLayerSourceCache(r){return r.type==="symbol"?this._symbolSourceCaches[r.source]:this._otherSourceCaches[r.source]}getOwnSourceCaches(r){const l=[];return this._otherSourceCaches[r]&&l.push(this._otherSourceCaches[r]),this._symbolSourceCaches[r]&&l.push(this._symbolSourceCaches[r]),l}_isSourceCacheLoaded(r){const l=this.getOwnSourceCaches(r);return l.length===0?(this.fire(new c.y(new Error(`There is no source with ID '${r}'`))),!1):l.every(p=>p.loaded())}has3DLayers(){return this._has3DLayers}hasSymbolLayers(){return this._hasSymbolLayers}hasCircleLayers(){return this._hasCircleLayers}isLayerClipped(r,l){if(!this._clipLayerPresent&&r.type!=="fill-extrusion")return!1;const p=r.type==="fill-extrusion"&&r.sourceLayer==="building";if(r.is3D()){if(p||l&&l.type==="batched-model"||r.type==="model")return!0}else if(r.type==="symbol")return!0;return!1}_clearWorkerCaches(){this.dispatcher.broadcast("clearCaches")}destroy(){this._clearWorkerCaches(),this.fragments.forEach(r=>{r.style._remove()}),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}ns.getSourceType=function(m){return _n[m]},ns.setSourceType=function(m,r){_n[m]=r},ns.registerForPluginStateChange=c.ch;var Wa=`
#define EPSILON 0.0000001
#define PI 3.141592653589793
#ifdef RENDER_CUTOFF
float cutoff_opacity(vec4 cutoff_params,float depth) {float near=cutoff_params.x;float far=cutoff_params.y;float cutoffStart=cutoff_params.z;float cutoffEnd=cutoff_params.w;float linearDepth=(depth-near)/(far-near);return clamp((linearDepth-cutoffStart)/(cutoffEnd-cutoffStart),0.0,1.0);}
#endif`,Os=`
out vec4 glFragColor;highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}
#ifdef INDICATOR_CUTOUT
uniform vec3 u_indicator_cutout_centers;uniform vec4 u_indicator_cutout_params;
#endif
vec4 applyCutout(vec4 color,float height) {
#ifdef INDICATOR_CUTOUT
float verticalFadeRange=u_indicator_cutout_centers.z*0.25;float holeMinOpacity=mix(1.0,u_indicator_cutout_params.x,smoothstep(u_indicator_cutout_centers.z,u_indicator_cutout_centers.z+verticalFadeRange,height));float holeRadius=max(u_indicator_cutout_params.y,0.0);float holeAspectRatio=u_indicator_cutout_params.z;float fadeStart=u_indicator_cutout_params.w;float distA=distance(vec2(gl_FragCoord.x,gl_FragCoord.y*holeAspectRatio),vec2(u_indicator_cutout_centers[0],u_indicator_cutout_centers[1]*holeAspectRatio));return color*min(smoothstep(fadeStart,holeRadius,distA)+holeMinOpacity,1.0);
#else
return color;
#endif
}
#ifdef DEBUG_WIREFRAME
#define HANDLE_WIREFRAME_DEBUG \\
glFragColor=vec4(0.7,0.0,0.0,0.7); \\
gl_FragDepth=gl_FragCoord.z-0.0001;
#else
#define HANDLE_WIREFRAME_DEBUG
#endif
#ifdef RENDER_CUTOFF
uniform highp vec4 u_cutoff_params;in float v_cutoff_opacity;
#endif
vec4 textureLodCustom(sampler2D image,highp vec2 pos,highp vec2 lod_coord) {highp vec2 size=vec2(textureSize(image,0));highp vec2 dx=dFdx(lod_coord.xy*size);highp vec2 dy=dFdy(lod_coord.xy*size);highp float delta_max_sqr=max(dot(dx,dx),dot(dy,dy));highp float lod=0.5*log2(delta_max_sqr);return textureLod(image,pos,lod);}vec4 applyLUT(highp sampler3D lut,vec4 col) {vec3 size=vec3(textureSize(lut,0));vec3 uvw=(col.rbg*float(size-1.0)+0.5)/size;return vec4(texture(lut,uvw).rgb,col.a);}vec3 applyLUT(highp sampler3D lut,vec3 col) {return applyLUT(lut,vec4(col,1.0)).rgb;}`,sc=`
#define EXTENT 8192.0
#define RAD_TO_DEG 180.0/PI
#define DEG_TO_RAD PI/180.0
#define GLOBE_RADIUS EXTENT/PI/2.0
float wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}
#ifdef PROJECTION_GLOBE_VIEW
vec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {
#ifndef PROJECTED_POS_ON_VIEWPORT
float tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;
#else
return vec3(0.0);
#endif
}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(
unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const vec2 units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (units_to_pixels*pos+offset)/pattern_size;}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {return get_pattern_pos(pixel_coord_upper,pixel_coord_lower,pattern_size,vec2(tile_units_to_pixels),pos);}float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(PI/4.0+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}
#ifdef RENDER_CUTOFF
uniform vec4 u_cutoff_params;out float v_cutoff_opacity;
#endif
const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);const float skirtOffset=24575.0;vec3 decomposeToPosAndSkirt(vec2 posWithComposedSkirt)
{float skirt=float(posWithComposedSkirt.x >=skirtOffset);vec2 pos=posWithComposedSkirt-vec2(skirt*skirtOffset,0.0);return vec3(pos,skirt);}`,bl="in highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;out highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}",lc=`
#define ELEVATION_SCALE 7.0
#define ELEVATION_OFFSET 450.0
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(
mix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}
#else
vec3 elevationVector(vec2 pos) { return vec3(0,0,1); }
#endif
#ifdef TERRAIN
uniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float currentElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture(u_dem,pos).r;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=texture(u_dem,pos).r;float tr=texture(u_dem,pos+vec2(dd,0)).r;float bl=texture(u_dem,pos+vec2(0,dd)).r;float br=texture(u_dem,pos+vec2(dd,dd)).r;return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}float prevElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture(u_dem_prev,pos).r;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=texture(u_dem_prev,pos).r;float tr=texture(u_dem_prev,pos+vec2(dd,0)).r;float bl=texture(u_dem_prev,pos+vec2(0,dd)).r;float br=texture(u_dem_prev,pos+vec2(dd,dd)).r;return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}
#ifdef TERRAIN_VERTEX_MORPHING
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}
#else
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
return currentElevation(apos);}
#endif
vec4 fourSample(vec2 pos,vec2 off) {float tl=texture(u_dem,pos).r;float tr=texture(u_dem,pos+vec2(off.x,0.0)).r;float bl=texture(u_dem,pos+vec2(0.0,off.y)).r;float br=texture(u_dem,pos+off).r;return vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}
#else
float elevation(vec2 pos) { return 0.0; }
#endif
#ifdef DEPTH_OCCLUSION
uniform highp sampler2D u_depth;uniform highp vec2 u_depth_size_inv;uniform highp vec2 u_depth_range_unpack;uniform highp float u_occluder_half_size;uniform highp float u_occlusion_depth_offset;
#ifdef DEPTH_D24
float unpack_depth(float depth) {return depth*u_depth_range_unpack.x+u_depth_range_unpack.y;}vec4 unpack_depth4(vec4 depth) {return depth*u_depth_range_unpack.x+vec4(u_depth_range_unpack.y);}
#else
highp float unpack_depth_rgba(vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}
#endif
bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;
#ifdef DEPTH_D24
float depth=unpack_depth(texture(u_depth,(coord.xy+1.0)*0.5).r);
#else
float depth=unpack_depth_rgba(texture(u_depth,(coord.xy+1.0)*0.5));
#endif
return coord.z+u_occlusion_depth_offset > depth;}highp vec4 getCornerDepths(vec2 coord) {highp vec3 df=vec3(u_occluder_half_size*u_depth_size_inv,0.0);highp vec2 uv=0.5*coord.xy+0.5;
#ifdef DEPTH_D24
highp vec4 depth=vec4(
texture(u_depth,uv-df.xz).r,texture(u_depth,uv+df.xz).r,texture(u_depth,uv-df.zy).r,texture(u_depth,uv+df.zy).r
);depth=unpack_depth4(depth);
#else
highp vec4 depth=vec4(
unpack_depth_rgba(texture(u_depth,uv-df.xz)),unpack_depth_rgba(texture(u_depth,uv+df.xz)),unpack_depth_rgba(texture(u_depth,uv-df.zy)),unpack_depth_rgba(texture(u_depth,uv+df.zy))
);
#endif
return depth;}highp float occlusionFadeMultiSample(vec4 frag) {highp vec3 coord=frag.xyz/frag.w;highp vec2 uv=0.5*coord.xy+0.5;int NX=3;int NY=4;highp vec2 df=u_occluder_half_size*u_depth_size_inv;highp vec2 oneStep=2.0*u_occluder_half_size*u_depth_size_inv/vec2(NX-1,NY-1);highp float res=0.0;for (int y=0; y < NY;++y) {for (int x=0; x < NX;++x) {
#ifdef DEPTH_D24
highp float depth=unpack_depth(texture(u_depth,uv-df+vec2(float(x)*oneStep.x,float(y)*oneStep.y)).r);
#else
highp float depth=unpack_depth_rgba(texture(u_depth,uv-df+vec2(float(x)*oneStep.x,float(y)*oneStep.y)));
#endif
res+=1.0-clamp(300.0*(coord.z+u_occlusion_depth_offset-depth),0.0,1.0);}}res=clamp(2.0*res/float(NX*NY)-0.5,0.0,1.0);return res;}highp float occlusionFade(vec4 frag) {highp vec3 coord=frag.xyz/frag.w;highp vec4 depth=getCornerDepths(coord.xy);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z+u_occlusion_depth_offset)-depth),0.0,1.0));}
#else
bool isOccluded(vec4 frag) { return false; }highp float occlusionFade(vec4 frag) { return 1.0; }highp float occlusionFadeMultiSample(vec4 frag) { return 1.0; }
#endif//DEPTH_OCCLUSION`,Zu=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;out vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}
#endif`,ql=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump vec2 u_fog_vertical_limit;uniform mediump float u_fog_temporal_offset;in vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos,float opacity_limit) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,min(opacity,opacity_limit));}vec3 fog_apply(vec3 color,vec3 pos) {return fog_apply(color,pos,1.0);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec4 fog_apply_premultiplied(vec4 color,vec3 pos,float heightMeters) {float verticalProgress=(u_fog_vertical_limit.x > 0.0 || u_fog_vertical_limit.y > 0.0) ? smoothstep(u_fog_vertical_limit.x,u_fog_vertical_limit.y,heightMeters) : 0.0;float opacityLimit=1.0-smoothstep(0.9,1.0,fog_opacity(pos));return mix(fog_apply_premultiplied(color,pos),color,min(verticalProgress,opacityLimit));}vec3 fog_dither(vec3 color) {return color;}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}
#endif`,Tl=`#ifdef RASTER_ARRAY
uniform highp sampler2D u_image0;uniform sampler2D u_image1;const vec4 NODATA=vec4(1);ivec4 _raTexLinearCoord(highp vec2 texCoord,highp vec2 texResolution,out highp vec2 fxy) {texCoord=texCoord*texResolution-0.5;fxy=fract(texCoord);texCoord-=fxy;return ivec4(texCoord.xxyy+vec2(1.5,0.5).xyxy);}vec2 _raTexLinearMix(highp vec2 fxy,highp vec4 colorMix,highp float colorOffset,highp vec4 t00,highp vec4 t10,highp vec4 t01,highp vec4 t11) {vec2 c00=t00==NODATA ? vec2(0) : vec2(colorOffset+dot(t00,colorMix),1);vec2 c10=t10==NODATA ? vec2(0) : vec2(colorOffset+dot(t10,colorMix),1);vec2 c01=t01==NODATA ? vec2(0) : vec2(colorOffset+dot(t01,colorMix),1);vec2 c11=t11==NODATA ? vec2(0) : vec2(colorOffset+dot(t11,colorMix),1);return mix(mix(c01,c11,fxy.x),mix(c00,c10,fxy.x),fxy.y);}vec2 raTexture2D_image0_linear(highp vec2 texCoord,highp vec2 texResolution,highp vec4 colorMix,highp float colorOffset) {vec2 fxy;ivec4 c=_raTexLinearCoord(texCoord,texResolution,fxy);return _raTexLinearMix(fxy,colorMix,colorOffset,texelFetch(u_image0,c.yz,0),texelFetch(u_image0,c.xz,0),texelFetch(u_image0,c.yw,0),texelFetch(u_image0,c.xw,0)
);}vec2 raTexture2D_image1_linear(highp vec2 texCoord,highp vec2 texResolution,highp vec4 colorMix,highp float colorOffset) {vec2 fxy;ivec4 c=_raTexLinearCoord(texCoord,texResolution,fxy);return _raTexLinearMix(fxy,colorMix,colorOffset,texelFetch(u_image1,c.yz,0),texelFetch(u_image1,c.xz,0),texelFetch(u_image1,c.yw,0),texelFetch(u_image1,c.xw,0)
);}vec2 raTexture2D_image0_nearest(highp vec2 texCoord,highp vec2 texResolution,highp vec4 colorMix,highp float colorOffset) {vec4 t=texelFetch(u_image0,ivec2(texCoord*texResolution),0);return t==NODATA ? vec2(0) : vec2(colorOffset+dot(t,colorMix),1);}vec2 raTexture2D_image1_nearest(highp vec2 texCoord,highp vec2 texResolution,highp vec4 colorMix,highp float colorOffset) {vec4 t=texelFetch(u_image1,ivec2(texCoord*texResolution),0);return t==NODATA ? vec2(0) : vec2(colorOffset+dot(t,colorMix),1);}
#endif`,Zl=`#ifdef RASTER_ARRAY
uniform sampler2D u_velocity;uniform mediump vec2 u_velocity_res;uniform mediump float u_max_speed;const vec4 NO_DATA=vec4(1);const vec2 INVALID_VELOCITY=vec2(-1);uniform highp vec2 u_uv_offset;uniform highp float u_data_offset;uniform highp vec2 u_data_scale;ivec4 rasterArrayLinearCoord(highp vec2 texCoord,highp vec2 texResolution,out highp vec2 fxy) {texCoord=texCoord*texResolution-0.5;fxy=fract(texCoord);texCoord-=fxy;return ivec4(texCoord.xxyy+vec2(1.5,0.5).xyxy);}highp vec2 lookup_velocity(highp vec2 uv) {uv=u_uv_offset.x+u_uv_offset.y*uv;highp vec2 fxy;ivec4 c=rasterArrayLinearCoord(uv,u_velocity_res,fxy);highp vec4 tl=texelFetch(u_velocity,c.yz,0);highp vec4 tr=texelFetch(u_velocity,c.xz,0);highp vec4 bl=texelFetch(u_velocity,c.yw,0);highp vec4 br=texelFetch(u_velocity,c.xw,0);if (tl==NO_DATA) {return INVALID_VELOCITY;}if (tr==NO_DATA) {return INVALID_VELOCITY;}if (bl==NO_DATA) {return INVALID_VELOCITY;}if (br==NO_DATA) {return INVALID_VELOCITY;}highp vec4 t=mix(mix(bl,br,fxy.x),mix(tl,tr,fxy.x),fxy.y);highp vec2 velocity=u_data_offset+vec2(dot(t.rg,u_data_scale),dot(t.ba,u_data_scale));velocity.y=-velocity.y;velocity/=max(u_max_speed,length(velocity));return velocity;}
#endif
uniform highp float u_particle_pos_scale;uniform highp vec2 u_particle_pos_offset;highp vec4 pack_pos_to_rgba(highp vec2 p) {highp vec2 v=(p+u_particle_pos_offset)/u_particle_pos_scale;highp vec4 r=vec4(v.x,fract(v.x*255.0),v.y,fract(v.y*255.0));return vec4(r.x-r.y/255.0,r.y,r.z-r.w/255.0,r.w);}highp vec2 unpack_pos_from_rgba(highp vec4 v) {v=floor(v*255.0+0.5)/255.0;highp vec2 p=vec2(v.x+(v.y/255.0),v.z+(v.w/255.0));return u_particle_pos_scale*p-u_particle_pos_offset;}`,yc=`#ifdef RENDER_SHADOWS
uniform mediump vec3 u_shadow_direction;uniform highp vec3 u_shadow_normal_offset;vec3 shadow_normal_offset(vec3 normal) {float tileInMeters=u_shadow_normal_offset[0];vec3 n=vec3(-normal.xy,tileInMeters*normal.z);float dotScale=min(1.0-dot(normal,u_shadow_direction),1.0)*0.5+0.5;return n*dotScale;}vec3 shadow_normal_offset_model(vec3 normal) {vec3 transformed_normal=vec3(-normal.xy,normal.z);float NDotL=dot(normalize(transformed_normal),u_shadow_direction);float dotScale=min(1.0-NDotL,1.0)*0.5+0.5;return normal*dotScale;}float shadow_normal_offset_multiplier0() {return u_shadow_normal_offset[1];}float shadow_normal_offset_multiplier1() {return u_shadow_normal_offset[2];}
#endif//RENDER_SHADOWS`,Jl=`#ifdef RENDER_SHADOWS
#ifdef DEPTH_TEXTURE
uniform highp sampler2D u_shadowmap_0;uniform highp sampler2D u_shadowmap_1;
#else
uniform sampler2D u_shadowmap_0;uniform sampler2D u_shadowmap_1;
#endif
uniform float u_shadow_intensity;uniform float u_shadow_map_resolution;uniform float u_shadow_texel_size;uniform highp vec3 u_shadow_normal_offset;uniform vec2 u_fade_range;uniform mediump vec3 u_shadow_direction;uniform highp vec3 u_shadow_bias;highp float shadow_sample_1(highp vec2 uv,highp float compare) {highp float shadow_depth;
#ifdef DEPTH_TEXTURE
shadow_depth=texture(u_shadowmap_1,uv).r;
#else
shadow_depth=unpack_depth(texture(u_shadowmap_1,uv))*0.5+0.5;
#endif
return step(shadow_depth,compare);}highp float shadow_sample_0(highp vec2 uv,highp float compare) {highp float shadow_depth;
#ifdef DEPTH_TEXTURE
shadow_depth=texture(u_shadowmap_0,uv).r;
#else
shadow_depth=unpack_depth(texture(u_shadowmap_0,uv))*0.5+0.5;
#endif
return step(shadow_depth,compare);}float shadow_occlusion_1(highp vec4 pos,highp float bias) {highp vec2 uv=pos.xy;return shadow_sample_1(uv,pos.z-bias);}float shadow_occlusion_0(highp vec4 pos,highp float bias) {highp float compare0=pos.z-bias;
#ifdef TEXTURE_GATHER
highp vec2 uv=pos.xy;highp vec4 samples=textureGather(u_shadowmap_0,uv,0);lowp vec4 stepSamples=step(samples,vec4(compare0));
#else
highp vec2 uv00=pos.xy-vec2(0.5*u_shadow_texel_size);highp vec2 uv10=uv00+vec2(u_shadow_texel_size,0.0);highp vec2 uv01=uv00+vec2(0.0,u_shadow_texel_size);highp vec2 uv11=uv01+vec2(u_shadow_texel_size,0.0);lowp vec4 stepSamples=vec4(
shadow_sample_0(uv01,compare0),shadow_sample_0(uv11,compare0),shadow_sample_0(uv10,compare0),shadow_sample_0(uv00,compare0)
);
#endif
vec2 f=fract(pos.xy*u_shadow_map_resolution-vec2(0.5));lowp vec2 lerpx=mix(stepSamples.wx,stepSamples.zy,f.xx);return mix(lerpx.x,lerpx.y,f.y);}float shadow_occlusion(highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth,highp float bias) {
#ifdef SHADOWS_SINGLE_CASCADE
light_view_pos0.xyz/=light_view_pos0.w;vec2 abs_bounds=abs(light_view_pos0.xy);if (abs_bounds.x >=1.0 || abs_bounds.y >=1.0) {return 0.0;}light_view_pos0.xyz=light_view_pos0.xyz*0.5+0.5;return shadow_occlusion_0(light_view_pos0,bias);
#else
light_view_pos0.xyz/=light_view_pos0.w;light_view_pos1.xyz/=light_view_pos1.w;vec4 uv=vec4(light_view_pos0.xy,light_view_pos1.xy);vec4 abs_bounds=abs(uv);if (abs_bounds.x < 1.0 && abs_bounds.y < 1.0) {light_view_pos0.xyz=light_view_pos0.xyz*0.5+0.5;return shadow_occlusion_0(light_view_pos0,bias);}if (abs_bounds.z >=1.0 || abs_bounds.w >=1.0) {return 0.0;}light_view_pos1.xyz=light_view_pos1.xyz*0.5+0.5;float occlusion1=shadow_occlusion_1(light_view_pos1,bias);return mix(occlusion1,0.0,smoothstep(u_fade_range.x,u_fade_range.y,view_depth));
#endif
}highp float calculate_shadow_bias(float NDotL) {
#ifdef NORMAL_OFFSET
return 0.5*u_shadow_bias.x;
#else
return 0.5*(u_shadow_bias.x+clamp(u_shadow_bias.y*tan(acos(NDotL)),0.0,u_shadow_bias.z));
#endif
}float shadowed_light_factor_normal(vec3 N,highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {float NDotL=dot(N,u_shadow_direction);float bias=calculate_shadow_bias(NDotL);float occlusion=shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);return mix(0.0,(1.0-(u_shadow_intensity*occlusion))*NDotL,step(0.0,NDotL));}float shadowed_light_factor_normal_opacity(vec3 N,highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth,float shadow_opacity) {float NDotL=dot(N,u_shadow_direction);float bias=calculate_shadow_bias(NDotL);float occlusion=shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias)*shadow_opacity;return mix(0.0,(1.0-(u_shadow_intensity*occlusion))*NDotL,step(0.0,NDotL));}float shadowed_light_factor_normal_unbiased(vec3 N,highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {float NDotL=dot(N,u_shadow_direction);float bias=0.0;float occlusion=shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);return mix(0.0,(1.0-(u_shadow_intensity*occlusion))*NDotL,step(0.0,NDotL));}highp vec2 compute_receiver_plane_depth_bias(highp vec3 pos_dx,highp vec3 pos_dy)
{highp vec2 biasUV=vec2(
pos_dy.y*pos_dx.z-pos_dx.y*pos_dy.z,pos_dx.x*pos_dy.z-pos_dy.x*pos_dx.z);biasUV*=1.0/((pos_dx.x*pos_dy.y)-(pos_dx.y*pos_dy.x));return biasUV;}float shadowed_light_factor_plane_bias(highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {highp vec3 light_view_pos0_xyz=light_view_pos0.xyz/light_view_pos0.w*0.5+0.5;highp vec3 light_view_pos0_ddx=dFdx(light_view_pos0_xyz);highp vec3 light_view_pos0_ddy=dFdy(light_view_pos0_xyz);highp vec2 plane_depth_bias=compute_receiver_plane_depth_bias(light_view_pos0_ddx,light_view_pos0_ddy);highp float bias=dot(vec2(u_shadow_texel_size,u_shadow_texel_size),plane_depth_bias)+0.0001;float occlusion=shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);return 1.0-(u_shadow_intensity*occlusion);}float shadowed_light_factor(highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {float bias=0.0;float occlusion=shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);return 1.0-(u_shadow_intensity*occlusion);}float shadow_occlusion(float ndotl,highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {float bias=calculate_shadow_bias(ndotl);return shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);}
#endif`;const zl=[];ec(Wa,zl),ec(sc,zl),ec(Os,zl);const Vl={"_prelude_fog.vertex.glsl":Zu,"_prelude_terrain.vertex.glsl":lc,"_prelude_shadow.vertex.glsl":yc,"_prelude_fog.fragment.glsl":ql,"_prelude_shadow.fragment.glsl":Jl,"_prelude_lighting.glsl":`
#ifdef LIGHTING_3D_MODE
uniform mediump vec3 u_lighting_ambient_color;uniform mediump vec3 u_lighting_directional_dir;uniform mediump vec3 u_lighting_directional_color;uniform mediump vec3 u_ground_radiance;float calculate_ambient_directional_factor(vec3 normal) {float NdotL=dot(normal,u_lighting_directional_dir);const float factor_reduction_max=0.3;float dir_luminance=dot(u_lighting_directional_color,vec3(0.2126,0.7152,0.0722));float directional_factor_min=1.0-factor_reduction_max*min(dir_luminance,1.0);float ambient_directional_factor=mix(directional_factor_min,1.0,min((NdotL+1.0),1.0));const float vertical_factor_min=0.92;float vertical_factor=mix(vertical_factor_min,1.0,normal.z*0.5+0.5);return vertical_factor*ambient_directional_factor;}vec3 linearProduct(vec3 srgbIn,vec3 k) {return srgbIn*pow(k,vec3(1./2.2));}vec3 apply_lighting(vec3 color,vec3 normal,float dir_factor) {float ambient_directional_factor=calculate_ambient_directional_factor(normal);vec3 ambient_contrib=ambient_directional_factor*u_lighting_ambient_color;vec3 directional_contrib=u_lighting_directional_color*dir_factor;return linearProduct(color,ambient_contrib+directional_contrib);}vec4 apply_lighting(vec4 color,vec3 normal,float dir_factor) {return vec4(apply_lighting(color.rgb,normal,dir_factor),color.a);}vec3 apply_lighting(vec3 color,vec3 normal) {float dir_factor=max(dot(normal,u_lighting_directional_dir),0.0);return apply_lighting(color.rgb,normal,dir_factor);}vec4 apply_lighting(vec4 color,vec3 normal) {float dir_factor=max(dot(normal,u_lighting_directional_dir),0.0);return vec4(apply_lighting(color.rgb,normal,dir_factor),color.a);}vec3 apply_lighting_ground(vec3 color) {return color*u_ground_radiance;}vec4 apply_lighting_ground(vec4 color) {return vec4(apply_lighting_ground(color.rgb),color.a);}float calculate_NdotL(vec3 normal) {const float ext=0.70710678118;return (clamp(dot(normal,u_lighting_directional_dir),-ext,1.0)+ext)/(1.0+ext);}vec4 apply_lighting_with_emission_ground(vec4 color,float emissive_strength) {return mix(apply_lighting_ground(color),color,emissive_strength);}vec3 compute_flood_lighting(vec3 flood_light_color,float fully_occluded_factor,float occlusion,vec3 ground_shadow_factor) {vec3 fully_occluded_color=flood_light_color*mix(ground_shadow_factor,vec3(1.0),fully_occluded_factor);float occlusion_ramp=smoothstep(0.0,0.2,1.0-occlusion);return mix(fully_occluded_color,flood_light_color,occlusion_ramp);}vec3 compute_emissive_draped(vec3 unlit_color,float fully_occluded_factor,float occlusion,vec3 ground_shadow_factor) {vec3 fully_occluded_color=unlit_color*mix(ground_shadow_factor,vec3(1.0),fully_occluded_factor);return mix(fully_occluded_color,unlit_color,1.0-occlusion);}
#endif//LIGHTING_3D_MODE`,"_prelude_raster_array.glsl":Tl,"_prelude_raster_particle.glsl":Zl},Ql={};Ya("",lc),Ya(ql,Zu),Ya(Jl,yc),Ya(Tl,""),Ya(Zl,"");const qc=Ya(Os,sc),Hl=Wa;var cc={background:Ya(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform vec4 u_color;uniform float u_opacity;
#ifdef LIGHTING_3D_MODE
in vec4 v_color;
#endif
void main() {vec4 out_color;
#ifdef LIGHTING_3D_MODE
out_color=v_color;
#else
out_color=u_color;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_lighting.glsl"
in vec2 a_pos;uniform mat4 u_matrix;
#ifdef LIGHTING_3D_MODE
uniform mediump vec4 u_color;out vec4 v_color;uniform float u_emissive_strength;
#endif
void main() {gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting_with_emission_ground(u_color,u_emissive_strength);
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),backgroundPattern:Ya(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform vec2 u_pattern_tl;uniform vec2 u_pattern_br;uniform vec2 u_texsize;uniform float u_opacity;uniform float u_emissive_strength;uniform sampler2D u_image;in highp vec2 v_pos;void main() {highp vec2 imagecoord=mod(v_pos,1.0);highp vec2 pos=mix(u_pattern_tl/u_texsize,u_pattern_br/u_texsize,imagecoord);vec4 out_color=textureLodCustom(u_image,pos,v_pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform vec2 u_pattern_size;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec2 u_pattern_units_to_pixels;in vec2 a_pos;out highp vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_pattern_size,u_pattern_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),circle:Ya(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
in vec3 v_data;in float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
uniform float u_emissive_strength;void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float blur_positive=blur < 0.0 ? 0.0 : 1.0;lowp float antialiasblur=v_data.z;float extrude_length=length(extrude)+antialiasblur*(1.0-blur_positive);float antialiased_blur=-max(abs(blur),antialiasblur);float antialiase_blur_opacity=smoothstep(0.0,antialiasblur,extrude_length-1.0);float opacity_t=blur_positive==1.0 ? 
smoothstep(0.0,-antialiased_blur,1.0-extrude_length) : 
smoothstep(antialiased_blur,0.0,extrude_length-1.0)-antialiase_blur_opacity;float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(
antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)
);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#endif
#ifdef FOG
out_color=fog_apply_premultiplied(out_color,v_fog_pos);
#endif
glFragColor=out_color*(v_visibility*opacity_t);
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
#define NUM_VISIBILITY_RINGS 2
#define INV_SQRT2 0.70710678
#define ELEVATION_BIAS 0.0001
#define NUM_SAMPLES_PER_RING 16
uniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;in vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_pos_3;in vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
#ifdef ELEVATED_ROADS
in float a_circle_z_offset;
#endif
out vec3 v_data;out float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
vec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {
#if defined(TERRAIN)
return elevation(pos)+ELEVATION_BIAS;
#else
return 0.0;
#endif
}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);
#ifdef PITCH_WITH_MAP
#ifdef PROJECTION_GLOBE_VIEW
return u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );
#else
return u_matrix*( world_center+vec4(sample_offset,0,0) );
#endif
#else
return projected_center+vec4(sample_offset,0,0);
#endif
}float get_sample_step() {
#ifdef PITCH_WITH_MAP
return 2.0*PI/float(NUM_SAMPLES_PER_RING);
#else
return PI/float(NUM_SAMPLES_PER_RING);
#endif
}void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);vec4 world_center;mat3 surface_vectors;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);world_center=vec4(pos,1);
#else 
surface_vectors=mat3(1.0);float height=circle_elevation(circle_center);world_center=vec4(circle_center,height,1);
#endif
#ifdef ELEVATED_ROADS
world_center.z+=a_circle_z_offset+ELEVATION_BIAS;
#endif
vec4 projected_center=u_matrix*world_center;float view_scale=0.0;
#ifdef PITCH_WITH_MAP
#ifdef SCALE_WITH_MAP
view_scale=1.0;
#else
view_scale=projected_center.w/u_camera_to_center_distance;
#endif
#else
#ifdef SCALE_WITH_MAP
view_scale=u_camera_to_center_distance;
#else
view_scale=projected_center.w;
#endif
#endif
gl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;
#ifdef TERRAIN
float step=get_sample_step();vec4 occlusion_world_center;vec4 occlusion_projected_center;
#ifdef PITCH_WITH_MAP
float cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);occlusion_world_center=vec4(circle_center,cantilevered_height,1);occlusion_projected_center=u_matrix*occlusion_world_center;
#else
occlusion_world_center=world_center;occlusion_projected_center=projected_center;
#endif
for(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);
#else
visibility=1.0;
#endif
#ifdef PROJECTION_GLOBE_VIEW
visibility=1.0;
#endif
v_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);
#ifdef FOG
v_fog_pos=fog_position(world_center.xyz);
#endif
}`),clippingMask:Ya("void main() {glFragColor=vec4(1.0);}","in vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:Ya(`#include "_prelude_fog.fragment.glsl"
uniform highp float u_intensity;in vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);glFragColor=vec4(val,1.0,1.0,1.0);
#ifdef FOG
if (u_is_globe==0) {glFragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}
#endif
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_terrain.vertex.glsl"
#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;in vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_pos_3;in vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
out vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);vec3 pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#else
pos=vec3(tilePos+extrude,elevation(tilePos));
#endif
gl_Position=u_matrix*vec4(pos,1);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),heatmapTexture:Ya(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;in vec2 v_pos;void main() {float t=texture(u_image,v_pos).r;vec4 color=texture(u_color_ramp,vec2(t,0.5));glFragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(0.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,"in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:Ya("in float v_placed;in float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);glFragColor =mix(red,blue,step(0.5,v_placed))*0.5;glFragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}",`#include "_prelude_terrain.vertex.glsl"
in vec3 a_pos;in vec2 a_anchor_pos;in vec2 a_extrude;in vec2 a_placed;in vec2 a_shift;in vec2 a_elevation_from_sea;in float a_size_scale;in vec2 a_padding;in float a_auto_z_offset;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;out float v_placed;out float v_notUsed;void main() {float feature_elevation=a_elevation_from_sea.x+a_auto_z_offset;float terrain_elevation=(a_elevation_from_sea.y==1.0 ? 0.0 : elevation(a_anchor_pos));vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*(feature_elevation+terrain_elevation),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}`),collisionCircle:Ya("in float v_radius;in vec2 v_extrude;in float v_perspective_ratio;in float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);glFragColor=color*alpha*opacity_t;}",`in vec2 a_pos_2f;in float a_radius;in vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;out float v_radius;out vec2 v_extrude;out float v_perspective_ratio;out float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(
mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}`),debug:Ya("uniform highp vec4 u_color;uniform sampler2D u_overlay;in vec2 v_uv;void main() {vec4 overlay_color=texture(u_overlay,v_uv);glFragColor=mix(u_color,overlay_color,overlay_color.a);}",`#include "_prelude_terrain.vertex.glsl"
in vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_pos_3;
#endif
out vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;
#ifdef PROJECTION_GLOBE_VIEW
gl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);
#else
gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);
#endif
}`),fill:Ya(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
#include "_prelude_shadow.fragment.glsl"
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
uniform float u_emissive_strength;
#ifdef RENDER_SHADOWS
uniform vec3 u_ground_shadow_factor;in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;in highp float v_depth;
#endif
#ifdef INDICATOR_CUTOUT
in highp float v_z_offset;
#endif
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
vec4 out_color=color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#ifdef RENDER_SHADOWS
float light=shadowed_light_factor(v_pos_light_view_0,v_pos_light_view_1,v_depth);out_color.rgb*=mix(u_ground_shadow_factor,vec3(1.0),light);
#endif
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
out_color*=opacity;
#ifdef INDICATOR_CUTOUT
if (v_z_offset >=0.0) {out_color=applyCutout(out_color,v_z_offset);}
#endif
glFragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
in vec2 a_pos;
#ifdef ELEVATED_ROADS
in float a_road_z_offset;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;out highp float v_depth;
#endif
#ifdef INDICATOR_CUTOUT
out highp float v_z_offset;
#endif
uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp float z_offset
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp float z_offset
#ifdef ELEVATED_ROADS
z_offset+=a_road_z_offset;
#endif
float hidden=float(opacity==0.0);gl_Position=mix(u_matrix*vec4(a_pos,z_offset,1),AWAY,hidden);
#ifdef RENDER_SHADOWS
vec3 shd_pos0=vec3(a_pos,z_offset);vec3 shd_pos1=vec3(a_pos,z_offset);
#ifdef NORMAL_OFFSET
vec3 offset=shadow_normal_offset(vec3(0.0,0.0,1.0));shd_pos0+=offset*shadow_normal_offset_multiplier0();shd_pos1+=offset*shadow_normal_offset_multiplier1();
#endif
v_pos_light_view_0=u_light_matrix_0*vec4(shd_pos0,1);v_pos_light_view_1=u_light_matrix_1*vec4(shd_pos1,1);v_depth=gl_Position.w;
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
#ifdef INDICATOR_CUTOUT
v_z_offset=z_offset;
#endif
}`),fillOutline:Ya(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
#include "_prelude_shadow.fragment.glsl"
in highp vec2 v_pos;uniform float u_emissive_strength;
#ifdef RENDER_SHADOWS
uniform vec3 u_ground_shadow_factor;in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;in highp float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#ifdef RENDER_SHADOWS
float light=shadowed_light_factor(v_pos_light_view_0,v_pos_light_view_1,v_depth);out_color.rgb*=mix(u_ground_shadow_factor,vec3(1.0),light);
#endif
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
in vec2 a_pos;
#ifdef ELEVATED_ROADS
in float a_road_z_offset;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;out highp float v_depth;
#endif
uniform mat4 u_matrix;uniform vec2 u_world;out highp vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp float z_offset
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp float z_offset
#ifdef ELEVATED_ROADS
z_offset+=a_road_z_offset;
#endif
float hidden=float(opacity==0.0);gl_Position=mix(u_matrix*vec4(a_pos,z_offset,1),AWAY,hidden);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef RENDER_SHADOWS
vec3 shd_pos0=vec3(a_pos,z_offset);vec3 shd_pos1=vec3(a_pos,z_offset);
#ifdef NORMAL_OFFSET
vec3 offset=shadow_normal_offset(vec3(0.0,0.0,1.0));shd_pos0+=offset*shadow_normal_offset_multiplier0();shd_pos1+=offset*shadow_normal_offset_multiplier1();
#endif
v_pos_light_view_0=u_light_matrix_0*vec4(shd_pos0,1);v_pos_light_view_1=u_light_matrix_1*vec4(shd_pos1,1);v_depth=gl_Position.w;
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutlinePattern:Ya(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
#include "_prelude_shadow.fragment.glsl"
uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_emissive_strength;
#ifdef RENDER_SHADOWS
uniform vec3 u_ground_shadow_factor;in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;in highp float v_depth;
#endif
in highp vec2 v_pos;in highp vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;highp vec2 imagecoord=mod(v_pos,1.0);highp vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);highp vec2 lod_pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,v_pos);float dist=length(v_pos_world-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=textureLodCustom(u_image,pos,lod_pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#ifdef RENDER_SHADOWS
float light=shadowed_light_factor(v_pos_light_view_0,v_pos_light_view_1,v_depth);out_color.rgb*=mix(u_ground_shadow_factor,vec3(1.0),light);
#endif
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;in vec2 a_pos;
#ifdef ELEVATED_ROADS
in float a_road_z_offset;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;out highp float v_depth;
#endif
out highp vec2 v_pos;out highp vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
#pragma mapbox: define highp float z_offset
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
#pragma mapbox: initialize highp float z_offset
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;
#ifdef ELEVATED_ROADS
z_offset+=a_road_z_offset;
#endif
float hidden=float(opacity==0.0);gl_Position=mix(u_matrix*vec4(a_pos,z_offset,1),AWAY,hidden);vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);v_pos_world=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef RENDER_SHADOWS
vec3 shd_pos0=vec3(a_pos,z_offset);vec3 shd_pos1=vec3(a_pos,z_offset);
#ifdef NORMAL_OFFSET
vec3 offset=shadow_normal_offset(vec3(0.0,0.0,1.0));shd_pos0+=offset*shadow_normal_offset_multiplier0();shd_pos1+=offset*shadow_normal_offset_multiplier1();
#endif
v_pos_light_view_0=u_light_matrix_0*vec4(shd_pos0,1);v_pos_light_view_1=u_light_matrix_1*vec4(shd_pos1,1);v_depth=gl_Position.w;
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillPattern:Ya(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
#include "_prelude_shadow.fragment.glsl"
uniform vec2 u_texsize;uniform sampler2D u_image;in highp vec2 v_pos;uniform float u_emissive_strength;
#ifdef RENDER_SHADOWS
uniform vec3 u_ground_shadow_factor;in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;in highp float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;highp vec2 imagecoord=mod(v_pos,1.0);highp vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);highp vec2 lod_pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,v_pos);vec4 out_color=textureLodCustom(u_image,pos,lod_pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#ifdef RENDER_SHADOWS
float light=shadowed_light_factor(v_pos_light_view_0,v_pos_light_view_1,v_depth);out_color.rgb*=mix(u_ground_shadow_factor,vec3(1.0),light);
#endif
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;in vec2 a_pos;
#ifdef ELEVATED_ROADS
in float a_road_z_offset;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;out highp float v_depth;
#endif
out highp vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
#pragma mapbox: define highp float z_offset
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
#pragma mapbox: initialize highp float z_offset
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;
#ifdef ELEVATED_ROADS
z_offset+=a_road_z_offset;
#endif
float hidden=float(opacity==0.0);gl_Position=mix(u_matrix*vec4(a_pos,z_offset,1),AWAY,hidden);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);
#ifdef RENDER_SHADOWS
vec3 shd_pos0=vec3(a_pos,z_offset);vec3 shd_pos1=vec3(a_pos,z_offset);
#ifdef NORMAL_OFFSET
vec3 offset=shadow_normal_offset(vec3(0.0,0.0,1.0));shd_pos0+=offset*shadow_normal_offset_multiplier0();shd_pos1+=offset*shadow_normal_offset_multiplier1();
#endif
v_pos_light_view_0=u_light_matrix_0*vec4(shd_pos0,1);v_pos_light_view_1=u_light_matrix_1*vec4(shd_pos1,1);v_depth=gl_Position.w;
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillExtrusion:Ya(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_shadow.fragment.glsl"
#include "_prelude_lighting.glsl"
in vec4 v_color;in vec4 v_flat;
#ifdef RENDER_SHADOWS
in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;
#endif
uniform lowp float u_opacity;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;in vec2 v_ao;
#endif
#if defined(ZERO_ROOF_RADIUS) && !defined(LIGHTING_3D_MODE)
in vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS) || defined(LIGHTING_3D_MODE)
in highp vec3 v_normal;
#endif
uniform vec3 u_flood_light_color;uniform highp float u_vertical_scale;uniform float u_flood_light_intensity;uniform vec3 u_ground_shadow_factor;
#if defined(LIGHTING_3D_MODE) && defined(FLOOD_LIGHT)
in float v_flood_radius;in float v_has_floodlight;
#endif
in float v_height;
#pragma mapbox: define highp float emissive_strength
void main() {
#pragma mapbox: initialize highp float emissive_strength
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS) || defined(LIGHTING_3D_MODE)
vec3 normal=normalize(v_normal);
#endif
float z;vec4 color=v_color;
#ifdef ZERO_ROOF_RADIUS
z=float(normal.z > 0.00001);
#ifdef LIGHTING_3D_MODE
normal=mix(normal,vec3(0.0,0.0,1.0),z);
#else
color=mix(v_color,v_roof_color,z);
#endif
#endif
float h=max(0.0,v_height);float ao_shade=1.0;
#ifdef FAUX_AO
float intensity=u_ao[0];float h_floors=h/(u_ao[1]*u_vertical_scale);float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);ao_shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;
#ifdef ZERO_ROOF_RADIUS
concave*=(1.0-z);
#endif
float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);ao_shade*=mix(1.0,x_shade*x_shade*x_shade,concave);
#ifdef LIGHTING_3D_MODE
#ifdef FLOOD_LIGHT
color.rgb*=mix(ao_shade,1.0,v_has_floodlight);
#else
color.rgb*=ao_shade;
#endif
#else
color.rgb*=ao_shade;
#endif
#endif
#ifdef LIGHTING_3D_MODE
float flood_radiance=0.0;
#ifdef FLOOD_LIGHT
flood_radiance=(1.0-min(h/v_flood_radius,1.0))*u_flood_light_intensity*v_has_floodlight;
#endif
#ifdef RENDER_SHADOWS
#ifdef FLOOD_LIGHT
float ndotl_unclamped=dot(normal,u_shadow_direction);float ndotl=max(0.0,ndotl_unclamped);float occlusion=ndotl_unclamped < 0.0 ? 1.0 : shadow_occlusion(ndotl,v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w);vec3 litColor=apply_lighting(color.rgb,normal,(1.0-u_shadow_intensity*occlusion)*ndotl);vec3 floodLitColor=compute_flood_lighting(u_flood_light_color*u_opacity,1.0-u_shadow_intensity,occlusion,u_ground_shadow_factor);color.rgb=mix(litColor,floodLitColor,flood_radiance);
#else
float shadowed_lighting_factor;
#ifdef RENDER_CUTOFF
shadowed_lighting_factor=shadowed_light_factor_normal_opacity(normal,v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w,v_cutoff_opacity);if (v_cutoff_opacity==0.0) {discard;}
#else
shadowed_lighting_factor=shadowed_light_factor_normal(normal,v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w);
#endif
color.rgb=apply_lighting(color.rgb,normal,shadowed_lighting_factor);
#endif
#else
color.rgb=apply_lighting(color.rgb,normal);
#ifdef FLOOD_LIGHT
color.rgb=mix(color.rgb,u_flood_light_color*u_opacity,flood_radiance);
#endif
#endif
color.rgb=mix(color.rgb,v_flat.rgb,emissive_strength);color*=u_opacity;
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos,h));
#endif
#ifdef INDICATOR_CUTOUT
color=applyCutout(color,h);
#endif
glFragColor=color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
#include "_prelude_lighting.glsl"
uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;uniform float u_width_scale;in vec4 a_pos_normal_ed;in vec2 a_centroid_pos;
#ifdef RENDER_WALL_MODE
in vec3 a_join_normal_inside;
#endif
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_pos_3;in vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
#ifdef TERRAIN
uniform int u_height_type;uniform int u_base_type;
#endif
uniform highp float u_vertical_scale;out vec4 v_color;out vec4 v_flat;
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;
#endif
#if defined(ZERO_ROOF_RADIUS) && !defined(LIGHTING_3D_MODE)
out vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS) || defined(LIGHTING_3D_MODE)
out highp vec3 v_normal;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;out vec2 v_ao;
#endif
#if defined(LIGHTING_3D_MODE) && defined(FLOOD_LIGHT)
out float v_flood_radius;out float v_has_floodlight;
#endif
out float v_height;vec3 linearTosRGB(vec3 color) {return pow(color,vec3(1./2.2));}vec3 sRGBToLinear(vec3 srgbIn) {return pow(srgbIn,vec3(2.2));}
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
#pragma mapbox: define highp float flood_light_wall_radius
#pragma mapbox: define highp float line_width
#pragma mapbox: define highp float emissive_strength
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize highp float flood_light_wall_radius
#pragma mapbox: initialize highp float line_width
#pragma mapbox: initialize highp float emissive_strength
base*=u_vertical_scale;height*=u_vertical_scale;vec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS) || defined(LIGHTING_3D_MODE)
v_normal=normal;
#endif
base=max(0.0,base);float attr_height=height;height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=0.0;float c_ele=0.0;vec3 pos;
#ifdef TERRAIN
bool is_flat_height=centroid_pos.x !=0.0 && u_height_type==1;bool is_flat_base=centroid_pos.x !=0.0 && u_base_type==1;ele=elevation(pos_nx.xy);c_ele=is_flat_height || is_flat_base ? (centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos)) : ele;float h_height=is_flat_height ? max(c_ele+height,ele+base+2.0) : ele+height;float h_base=is_flat_base ? max(c_ele+base,ele+base) : ele+(base==0.0 ?-5.0 : base);h=t > 0.0 ? max(h_base,h_height) : h_base;pos=vec3(pos_nx.xy,h);
#else
h=t > 0.0 ? height : base;pos=vec3(pos_nx.xy,h);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float cutoff=1.0;vec3 scaled_pos=pos;
#ifdef RENDER_CUTOFF
vec3 centroid_random=vec3(centroid_pos.xy,centroid_pos.x+centroid_pos.y+1.0);vec3 ground_pos=centroid_pos.x==0.0 ? pos.xyz : (centroid_random/8.0);vec4 ground=u_matrix*vec4(ground_pos.xy,ele,1.0);cutoff=cutoff_opacity(u_cutoff_params,ground.z);if (centroid_pos.y !=0.0 && centroid_pos.x !=0.0) {vec3 g=floor(ground_pos);vec3 mod_=centroid_random-g*8.0;float seed=min(1.0,0.1*(min(3.5,max(mod_.x+mod_.y,0.2*attr_height))*0.35+mod_.z));if (cutoff < 0.8-seed) {cutoff=0.0;}}float cutoff_scale=cutoff;v_cutoff_opacity=cutoff;scaled_pos.z=mix(c_ele,h,cutoff_scale);
#endif
float hidden=float((centroid_pos.x==0.0 && centroid_pos.y==1.0) || (cutoff==0.0 && centroid_pos.x !=0.0) || (color.a==0.0));
#ifdef RENDER_WALL_MODE
vec2 wall_offset=u_width_scale*line_width*(a_join_normal_inside.xy/EXTENT);scaled_pos.xy+=(1.0-a_join_normal_inside.z)*wall_offset*0.5;scaled_pos.xy-=a_join_normal_inside.z*wall_offset*0.5;
#endif
gl_Position=mix(u_matrix*vec4(scaled_pos,1),AWAY,hidden);h=h-ele;v_height=h;
#ifdef RENDER_SHADOWS
vec3 shd_pos0=pos;vec3 shd_pos1=pos;
#ifdef NORMAL_OFFSET
vec3 offset=shadow_normal_offset(normal);shd_pos0+=offset*shadow_normal_offset_multiplier0();shd_pos1+=offset*shadow_normal_offset_multiplier1();
#endif
v_pos_light_view_0=u_light_matrix_0*vec4(shd_pos0,1);v_pos_light_view_1=u_light_matrix_1*vec4(shd_pos1,1);
#endif
float NdotL=0.0;float colorvalue=0.0;
#ifndef LIGHTING_3D_MODE
colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),NdotL);if (normal.y !=0.0) {float r=0.84;r=mix(0.7,0.98,1.0-u_lightintensity);NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}
#endif
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec2(mix(concave,-concave,start),y_ground);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
#ifdef FLOOD_LIGHT
float is_wall=1.0-float(t > 0.0 && top_up_ny.y > 0.0);v_has_floodlight=float(flood_light_wall_radius > 0.0 && is_wall > 0.0);v_flood_radius=flood_light_wall_radius*u_vertical_scale;
#endif
v_color=vec4(color.rgb,1.0);float ndotl=calculate_NdotL(normal);v_flat.rgb=sRGBToLinear(color.rgb);v_flat.rgb=v_flat.rgb*(ndotl+(1.0-min(ndotl*57.29,1.0))*emissive_strength);v_flat=vec4(linearTosRGB(v_flat.rgb),1.0);
#else
v_color=vec4(0.0,0.0,0.0,1.0);v_color.rgb+=clamp(color.rgb*NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_color*=u_opacity;
#endif
#if defined(ZERO_ROOF_RADIUS) && !defined(LIGHTING_3D_MODE)
float roofNdotL=clamp(u_lightpos.z,0.0,1.0);roofNdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),roofNdotL);v_roof_color=vec4(0.0,0.0,0.0,1.0);v_roof_color.rgb+=clamp(color.rgb*roofNdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_roof_color*=u_opacity;
#endif
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),fillExtrusionDepth:Ya(`in highp float v_depth;void main() {
#ifndef DEPTH_TEXTURE
glFragColor=pack_depth(v_depth);
#endif
}`,`#include "_prelude_terrain.vertex.glsl"
uniform mat4 u_matrix;uniform float u_edge_radius;uniform float u_width_scale;uniform float u_vertical_scale;
#ifdef TERRAIN
uniform int u_height_type;uniform int u_base_type;
#endif
in vec4 a_pos_normal_ed;in vec2 a_centroid_pos;
#ifdef RENDER_WALL_MODE
in vec3 a_join_normal_inside;
#endif
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp float line_width
#pragma mapbox: define highp vec4 color
out highp float v_depth;void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp float line_width
#pragma mapbox: initialize highp vec4 color
base*=u_vertical_scale;height*=u_vertical_scale;vec3 pos_nx=floor(a_pos_normal_ed.xyz*0.5);mediump vec3 top_up_ny=a_pos_normal_ed.xyz-2.0*pos_nx;base=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
vec3 pos;
#ifdef TERRAIN
bool is_flat_height=centroid_pos.x !=0.0 && u_height_type==1;bool is_flat_base=centroid_pos.x !=0.0 && u_base_type==1;float ele=elevation(pos_nx.xy);float c_ele=is_flat_height || is_flat_base ? (centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos)) : ele;float h_height=is_flat_height ? max(c_ele+height,ele+base+2.0) : ele+height;float h_base=is_flat_base ? max(c_ele+base,ele+base) : ele+(base==0.0 ?-5.0 : base);float h=t > 0.0 ? max(h_base,h_height) : h_base;pos=vec3(pos_nx.xy,h);
#else
pos=vec3(pos_nx.xy,t > 0.0 ? height : base);
#endif
#ifdef RENDER_WALL_MODE
vec2 wall_offset=u_width_scale*line_width*(a_join_normal_inside.xy/EXTENT);pos.xy+=(1.0-a_join_normal_inside.z)*wall_offset*0.5;pos.xy-=a_join_normal_inside.z*wall_offset*0.5;
#endif
float hidden=float((centroid_pos.x==0.0 && centroid_pos.y==1.0) || (color.a==0.0));gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);v_depth=gl_Position.z/gl_Position.w;}`),fillExtrusionPattern:Ya(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform vec2 u_texsize;uniform sampler2D u_image;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;in vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
in vec3 v_normal;
#endif
in highp vec2 v_pos;in vec4 v_lighting;uniform lowp float u_opacity;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define mediump vec4 pattern
#pragma mapbox: define highp float pixel_ratio
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize highp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;highp vec2 imagecoord=mod(v_pos,1.0);highp vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);highp vec2 lod_pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,v_pos);vec4 out_color=textureLodCustom(u_image,pos,lod_pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color,normalize(v_normal))*u_opacity;
#else
out_color=out_color*v_lighting;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
#ifdef INDICATOR_CUTOUT
out_color=applyCutout(out_color,height);
#endif
glFragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
#include "_prelude_lighting.glsl"
uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform float u_tile_units_to_pixels;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_width_scale;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;in vec4 a_pos_normal_ed;in vec2 a_centroid_pos;
#ifdef RENDER_WALL_MODE
in vec3 a_join_normal_inside;
#endif
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_pos_3;in vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
#ifdef TERRAIN
uniform int u_height_type;uniform int u_base_type;
#endif
out highp vec2 v_pos;out vec4 v_lighting;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;out vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
out vec3 v_normal;
#endif
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump vec4 pattern
#pragma mapbox: define highp float pixel_ratio
#pragma mapbox: define highp float line_width
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize highp float pixel_ratio
#pragma mapbox: initialize highp float line_width
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=z;vec3 p;float c_ele;
#ifdef TERRAIN
bool is_flat_height=centroid_pos.x !=0.0 && u_height_type==1;bool is_flat_base=centroid_pos.x !=0.0 && u_base_type==1;ele=elevation(pos_nx.xy);c_ele=is_flat_height || is_flat_base ? (centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos)) : ele;float h_height=is_flat_height ? max(c_ele+height,ele+base+2.0) : ele+height;float h_base=is_flat_base ? max(c_ele+base,ele+base) : ele+(base==0.0 ?-5.0 : base);h=t > 0.0 ? max(h_base,h_height) : h_base;p=vec3(pos_nx.xy,h);
#else
p=vec3(pos_nx.xy,z);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
#ifdef RENDER_WALL_MODE
vec2 wall_offset=u_width_scale*line_width*(a_join_normal_inside.xy/EXTENT);p.xy+=(1.0-a_join_normal_inside.z)*wall_offset*0.5;p.xy-=a_join_normal_inside.z*wall_offset*0.5;
#endif
float hidden=float((centroid_pos.x==0.0 && centroid_pos.y==1.0) || (color.a==0.0));gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0
? pos_nx.xy
: vec2(edgedistance,z*u_height_factor);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float NdotL=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_normal=normal;
#else
v_lighting.rgb+=clamp(NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;
#endif 
#ifdef FOG
v_fog_pos=fog_position(p);
#endif
}`),groundShadow:Ya(`#include "_prelude_shadow.fragment.glsl"
precision highp float;uniform vec3 u_ground_shadow_factor;in vec4 v_pos_light_view_0;in vec4 v_pos_light_view_1;
#ifdef FOG
in float v_fog_opacity;
#endif
void main() {float light=shadowed_light_factor_plane_bias(v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w);vec3 shadow=mix(u_ground_shadow_factor,vec3(1.0),light);
#ifdef RENDER_CUTOFF
shadow=mix(vec3(1.0),shadow,cutoff_opacity(u_cutoff_params,1.0/gl_FragCoord.w));
#endif
#ifdef FOG
shadow=mix(shadow,vec3(1.0),v_fog_opacity);
#endif
#ifdef INDICATOR_CUTOUT
shadow=mix(shadow,vec3(1.0),1.0-applyCutout(vec4(1.0),0.0).r);
#endif
glFragColor=vec4(shadow,1.0);}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;in vec2 a_pos;out vec4 v_pos_light_view_0;out vec4 v_pos_light_view_1;
#ifdef FOG
out float v_fog_opacity;
#endif
void main() {gl_Position=u_matrix*vec4(a_pos,0.0,1.0);v_pos_light_view_0=u_light_matrix_0*vec4(a_pos,0.0,1.0);v_pos_light_view_1=u_light_matrix_1*vec4(a_pos,0.0,1.0);
#ifdef FOG
v_fog_pos=fog_position(a_pos);v_fog_opacity=fog(v_fog_pos);
#endif
}`),fillExtrusionGroundEffect:Ya(`uniform highp float u_ao_pass;uniform highp float u_opacity;uniform highp float u_flood_light_intensity;uniform highp vec3 u_flood_light_color;uniform highp float u_attenuation;uniform sampler2D u_fb;uniform float u_fb_size;
#ifdef SDF_SUBPASS
in highp vec2 v_pos;in highp vec4 v_line_segment;in highp float v_flood_light_radius_tile;in highp vec2 v_ao;float line_df(highp vec2 a,highp vec2 b,highp vec2 p) {highp vec2 ba=b-a;highp vec2 pa=p-a;highp float r=clamp(dot(pa,ba)/dot(ba,ba),0.0,1.0);return length(pa-r*ba);}
#ifdef FOG
in highp float v_fog;
#endif
#endif
void main() {
#ifdef CLEAR_SUBPASS
vec4 color=vec4(1.0);
#ifdef CLEAR_FROM_TEXTURE
color=texture(u_fb,gl_FragCoord.xy/vec2(u_fb_size));
#endif
glFragColor=color;
#else
#ifdef SDF_SUBPASS
highp float d=line_df(v_line_segment.xy,v_line_segment.zw,v_pos);highp float effect_radius=mix(v_flood_light_radius_tile,v_ao.y,u_ao_pass);d/=effect_radius;d=min(d,1.0);d=1.0-pow(1.0-d,u_attenuation);highp float effect_intensity=mix(u_flood_light_intensity,v_ao.x,u_ao_pass);highp float fog=1.0;
#ifdef FOG
fog=v_fog;
#endif
#ifdef RENDER_CUTOFF
fog*=v_cutoff_opacity;
#endif
glFragColor=vec4(vec3(0.0),mix(1.0,d,effect_intensity*u_opacity*fog));
#else
vec4 color=mix(vec4(u_flood_light_color,1.0),vec4(vec3(0.0),1.0),u_ao_pass);
#ifdef OVERDRAW_INSPECTOR
color=vec4(1.0);
#endif
glFragColor=color;
#endif
HANDLE_WIREFRAME_DEBUG;
#endif
}`,`#include "_prelude_fog.vertex.glsl"
in highp vec4 a_pos_end;in highp float a_angular_offset_factor;in highp float a_hidden_by_landmark;
#ifdef SDF_SUBPASS
out highp vec2 v_pos;out highp vec4 v_line_segment;out highp float v_flood_light_radius_tile;out highp vec2 v_ao;
#ifdef FOG
out highp float v_fog;
#endif
#endif
uniform highp float u_flood_light_intensity;uniform highp mat4 u_matrix;uniform highp float u_ao_pass;uniform highp float u_meter_to_tile;uniform highp float u_edge_radius;uniform highp float u_dynamic_offset;uniform highp vec2 u_ao;
#pragma mapbox: define highp float flood_light_ground_radius
const float TANGENT_CUTOFF=4.0;const float NORM=32767.0;void main() {
#pragma mapbox: initialize highp float flood_light_ground_radius
vec2 p=a_pos_end.xy;vec2 q=floor(a_pos_end.zw*0.5);vec2 start_bottom=a_pos_end.zw-q*2.0;float fl_ground_radius=flood_light_ground_radius;fl_ground_radius=abs(flood_light_ground_radius);float direction=flood_light_ground_radius < 0.0 ?-1.0 : 1.0;float flood_radius_tile=fl_ground_radius*u_meter_to_tile;vec2 v=normalize(q-p);float ao_radius=u_ao.y/3.5;float effect_radius=mix(flood_radius_tile,ao_radius,u_ao_pass)+u_edge_radius;float angular_offset_factor=a_angular_offset_factor/NORM*TANGENT_CUTOFF;float angular_offset=direction*angular_offset_factor*effect_radius;float top=1.0-start_bottom.y;float side=(0.5-start_bottom.x)*2.0;vec2 extrusion_parallel=v*side*mix(u_dynamic_offset,angular_offset,top);vec2 perp=vec2(v.y,-v.x);vec2 extrusion_perp=direction*perp*effect_radius*top;vec3 pos=vec3(mix(q,p,start_bottom.x),0.0);pos.xy+=extrusion_parallel+extrusion_perp;
#ifdef SDF_SUBPASS
v_pos=pos.xy;v_line_segment=vec4(p,q)+perp.xyxy*u_edge_radius;v_flood_light_radius_tile=flood_radius_tile;v_ao=vec2(u_ao.x,ao_radius);
#ifdef FOG
v_fog_pos=fog_position(pos);v_fog=1.0-fog(v_fog_pos);
#endif
#endif
float hidden_by_landmark=0.0;
#ifdef HAS_CENTROID
hidden_by_landmark=a_hidden_by_landmark;
#endif
float isFloodlit=float(fl_ground_radius > 0.0 && u_flood_light_intensity > 0.0);float hidden=mix(1.0-isFloodlit,isFloodlit,u_ao_pass);hidden+=hidden_by_landmark;gl_Position=mix(u_matrix*vec4(pos,1.0),AWAY,float(hidden > 0.0));
#ifdef RENDER_CUTOFF
v_cutoff_opacity=cutoff_opacity(u_cutoff_params,gl_Position.z);
#endif
}`),hillshadePrepare:Ya(`precision highp float;uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;float getElevation(vec2 coord) {return texture(u_image,coord).r/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos+vec2(epsilon.x,0));float f=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float g=getElevation(v_pos+vec2(0,epsilon.y));float h=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(
(c+e+e+h)-(a+d+d+f),(f+g+g+h)-(a+b+b+c)
)/pow(2.0,exaggeration+(19.2562-u_zoom));glFragColor=clamp(vec4(
deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Ya(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;uniform float u_emissive_strength;void main() {vec4 pixel=texture(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);glFragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef LIGHTING_3D_MODE
glFragColor=apply_lighting_with_emission_ground(glFragColor,u_emissive_strength);
#endif
#ifdef FOG
glFragColor=fog_dither(fog_apply_premultiplied(glFragColor,v_fog_pos));
#endif
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),line:Ya(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
#include "_prelude_shadow.fragment.glsl"
uniform lowp float u_device_pixel_ratio;uniform highp float u_width_scale;uniform highp float u_floor_width_scale;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;uniform highp vec2 u_trim_fade_range;uniform lowp vec4 u_trim_color;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;in highp vec3 v_uv;
#ifdef ELEVATED_ROADS
in highp float v_road_z_offset;
#endif
#ifdef RENDER_LINE_DASH
uniform sampler2D u_dash_image;in vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform sampler2D u_gradient_image;
#endif
#ifdef INDICATOR_CUTOUT
in highp float v_z_offset;
#endif
#ifdef RENDER_SHADOWS
uniform vec3 u_ground_shadow_factor;in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;in highp float v_depth;
#endif
float luminance(vec3 c) {return (c.r+c.r+c.b+c.g+c.g+c.g)*0.1667;}uniform float u_emissive_strength;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float border_width
#pragma mapbox: define lowp vec4 border_color
float linearstep(float edge0,float edge1,float x) {return  clamp((x-edge0)/(edge1-edge0),0.0,1.0);}void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float border_width
#pragma mapbox: initialize lowp vec4 border_color
float dist=length(v_normal)*v_width2.s;float blur2=(u_width_scale*blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);
#ifdef RENDER_LINE_DASH
float sdfdist=texture(u_dash_image,v_tex).r;float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/dash.z;float scaled_floorwidth=(floorwidth*u_floor_width_scale);alpha*=linearstep(0.5-sdfgamma/scaled_floorwidth,0.5+sdfgamma/scaled_floorwidth,sdfdist);
#endif
highp vec4 out_color;
#ifdef RENDER_LINE_GRADIENT
out_color=texture(u_gradient_image,v_uv.xy);
#else
out_color=color;
#endif
float trim_alpha=1.0;
#ifdef RENDER_LINE_TRIM_OFFSET
highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=v_uv[2];if (trim_end > trim_start) {highp float start_transition=max(0.0,min(1.0,(line_progress-trim_start)/max(u_trim_fade_range[0],1.0e-9)));highp float end_transition=max(0.0,min(1.0,(trim_end-line_progress)/max(u_trim_fade_range[1],1.0e-9)));highp float transition_factor=min(start_transition,end_transition);out_color=mix(out_color,u_trim_color,transition_factor);trim_alpha=1.0-transition_factor;}
#endif
if (u_alpha_discard_threshold !=0.0) {if (alpha < u_alpha_discard_threshold) {discard;}}
#ifdef RENDER_LINE_BORDER
float edgeBlur=((border_width*u_width_scale)+1.0/u_device_pixel_ratio);float alpha2=clamp(min(dist-(v_width2.t-edgeBlur),v_width2.s-dist)/edgeBlur,0.0,1.0);if (alpha2 < 1.) {float smoothAlpha=smoothstep(0.6,1.0,alpha2);if (border_color.a==0.0) {float Y=(out_color.a > 0.01) ? luminance(out_color.rgb/out_color.a) : 1.;float adjustment=(Y > 0.) ? 0.5/Y : 0.45;if (out_color.a > 0.25 && Y < 0.25) {vec3 borderColor=(Y > 0.) ? out_color.rgb : vec3(1,1,1)*out_color.a;out_color.rgb=out_color.rgb+borderColor*(adjustment*(1.0-smoothAlpha));} else {out_color.rgb*=(0.6 +0.4*smoothAlpha);}} else {out_color=mix(border_color*trim_alpha,out_color,smoothAlpha);}}
#endif
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#ifdef RENDER_SHADOWS
float light=shadowed_light_factor(v_pos_light_view_0,v_pos_light_view_1,v_depth);
#ifdef ELEVATED_ROADS
out_color.rgb*=mix(v_road_z_offset > 0.0 ? u_ground_shadow_factor : vec3(1.0),vec3(1.0),light);
#else
out_color.rgb*=mix(u_ground_shadow_factor,vec3(1.0),light);
#endif
#endif
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
out_color*=(alpha*opacity);
#ifdef INDICATOR_CUTOUT
out_color=applyCutout(out_color,v_z_offset);
#endif
glFragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
#define EXTRUDE_SCALE 0.015873016
in vec2 a_pos_normal;in vec4 a_data;
#if defined(ELEVATED) || defined(ELEVATED_ROADS) || defined(VARIABLE_LINE_WIDTH)
in vec3 a_z_offset_width;
#endif
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
in highp vec3 a_packed;
#endif
#ifdef RENDER_LINE_DASH
in float a_linesofar;
#endif
uniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;uniform float u_width_scale;uniform highp float u_floor_width_scale;
#ifdef ELEVATED
uniform lowp float u_zbias_factor;uniform lowp float u_tile_to_meter;float sample_elevation(vec2 apos) {
#ifdef ELEVATION_REFERENCE_SEA
return 0.0;
#else
return elevation(apos);
#endif
}
#endif
out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp vec3 v_uv;
#ifdef ELEVATED_ROADS
out highp float v_road_z_offset;
#endif
#ifdef RENDER_LINE_DASH
uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;out vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform float u_image_height;
#endif
#ifdef INDICATOR_CUTOUT
out highp float v_z_offset;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;out highp float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float border_width
#pragma mapbox: define lowp vec4 border_color
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float border_width
#pragma mapbox: initialize lowp vec4 border_color
float a_z_offset;
#if defined(ELEVATED) || defined(ELEVATED_ROADS)
a_z_offset=a_z_offset_width.x;
#endif
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth;
#ifdef VARIABLE_LINE_WIDTH
float left=a_pos_normal.y-2.0*floor(a_pos_normal.y*0.5);halfwidth=(u_width_scale*(left==1.0 ? a_z_offset_width.y : a_z_offset_width.z))/2.0;
#else
halfwidth=(u_width_scale*width)/2.0;
#endif
offset=-1.0*offset*u_width_scale;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);float hidden=float(opacity==0.0);vec2 extrude=dist*u_pixels_to_tile_units;vec4 projected_extrude=u_matrix*vec4(extrude,0.0,0.0);vec2 projected_extrude_xy=projected_extrude.xy;
#ifdef ELEVATED_ROADS
v_road_z_offset=a_z_offset;gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,a_z_offset,1.0)+projected_extrude;
#else
#ifdef ELEVATED
vec2 offsetTile=offset2*u_pixels_to_tile_units;vec2 offset_pos=pos+offsetTile;float ele=0.0;
#ifdef CROSS_SLOPE_VERTICAL
float top=a_pos_normal.y-2.0*floor(a_pos_normal.y*0.5);float line_height=2.0*u_tile_to_meter*outset*top*u_pixels_to_tile_units[1][1]+a_z_offset;ele=sample_elevation(offset_pos)+line_height;projected_extrude=vec4(0);
#else
#ifdef CROSS_SLOPE_HORIZONTAL
float ele0=sample_elevation(offset_pos);float ele1=max(sample_elevation(offset_pos+extrude),sample_elevation(offset_pos+extrude/2.0));float ele2=max(sample_elevation(offset_pos-extrude),sample_elevation(offset_pos-extrude/2.0));float ele_max=max(ele0,max(ele1,ele2));ele=ele_max+a_z_offset;
#else
float ele0=sample_elevation(offset_pos);float ele1=max(sample_elevation(offset_pos+extrude),sample_elevation(offset_pos+extrude/2.0));float ele2=max(sample_elevation(offset_pos-extrude),sample_elevation(offset_pos-extrude/2.0));float ele_max=max(ele0,0.5*(ele1+ele2));ele=ele_max-ele0+ele1+a_z_offset;
#endif
#endif
gl_Position=u_matrix*vec4(offset_pos,ele,1.0)+projected_extrude;float z=clamp(gl_Position.z/gl_Position.w,0.5,1.0);float zbias=max(0.00005,(pow(z,0.8)-z)*u_zbias_factor*u_exaggeration);gl_Position.z-=(gl_Position.w*zbias);gl_Position=mix(gl_Position,AWAY,hidden);
#else
gl_Position=mix(u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude,AWAY,hidden);
#endif
#endif
#ifdef ELEVATED_ROADS
#ifdef RENDER_SHADOWS
vec3 shd_pos=vec3(pos+(offset2+dist)*u_pixels_to_tile_units,a_z_offset);vec3 shd_pos0=shd_pos;vec3 shd_pos1=shd_pos;
#ifdef NORMAL_OFFSET
vec3 shd_pos_offset=shadow_normal_offset(vec3(0.0,0.0,1.0));shd_pos0+=shd_pos_offset*shadow_normal_offset_multiplier0();shd_pos1+=shd_pos_offset*shadow_normal_offset_multiplier1();
#endif
v_pos_light_view_0=u_light_matrix_0*vec4(shd_pos0,1);v_pos_light_view_1=u_light_matrix_1*vec4(shd_pos1,1);v_depth=gl_Position.w;
#endif
#endif
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude_xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=mix(extrude_length_without_perspective/extrude_length_with_perspective,1.0,step(0.01,blur));
#else
v_gamma_scale=1.0;
#endif
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
highp float a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float line_progress=a_packed[2];
#ifdef RENDER_LINE_GRADIENT
highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec3(a_uv_x,a_split_index*texel_height-half_texel_height,line_progress);
#else
v_uv=vec3(a_uv_x,0.0,line_progress);
#endif
#endif
#ifdef RENDER_LINE_DASH
float scale=dash.z==0.0 ? 0.0 : u_tile_units_to_pixels/dash.z;float height=dash.y;v_tex=vec2(a_linesofar*scale/(floorwidth*u_floor_width_scale),(-normal.y*height+dash.x+0.5)/u_texsize.y);
#endif
v_width2=vec2(outset,inset);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
#ifdef INDICATOR_CUTOUT
v_z_offset=a_z_offset;
#endif
}`),linePattern:Ya(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
#include "_prelude_shadow.fragment.glsl"
uniform highp float u_device_pixel_ratio;uniform highp float u_width_scale;uniform highp float u_alpha_discard_threshold;uniform highp vec2 u_texsize;uniform highp float u_tile_units_to_pixels;uniform highp vec2 u_trim_offset;uniform highp vec2 u_trim_fade_range;uniform lowp vec4 u_trim_color;uniform sampler2D u_image;in vec2 v_normal;in vec2 v_width2;in highp float v_linesofar;in float v_gamma_scale;in float v_width;
#ifdef RENDER_LINE_TRIM_OFFSET
in highp vec3 v_uv;
#endif
#ifdef ELEVATED_ROADS
in highp float v_road_z_offset;
#endif
#ifdef LINE_JOIN_NONE
in vec2 v_pattern_data;
#endif
#ifdef INDICATOR_CUTOUT
in highp float v_z_offset;
#endif
#ifdef RENDER_SHADOWS
uniform vec3 u_ground_shadow_factor;in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;in highp float v_depth;
#endif
uniform float u_emissive_strength;
#pragma mapbox: define mediump vec4 pattern
#pragma mapbox: define mediump float pixel_ratio
#pragma mapbox: define mediump float blur
#pragma mapbox: define mediump float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize mediump float pixel_ratio
#pragma mapbox: initialize mediump float blur
#pragma mapbox: initialize mediump float opacity
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;highp float pattern_size=display_size.x/u_tile_units_to_pixels;float aspect=display_size.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(u_width_scale*blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);highp float pattern_x=v_linesofar/pattern_size*aspect;highp float x=mod(pattern_x,1.0);highp float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;highp vec2 pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(x,y));highp vec2 lod_pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(pattern_x,y));vec4 color=textureLodCustom(u_image,pos,lod_pos);
#ifdef RENDER_LINE_TRIM_OFFSET
highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=v_uv[2];if (trim_end > trim_start) {highp float start_transition=max(0.0,min(1.0,(line_progress-trim_start)/max(u_trim_fade_range[0],1.0e-9)));highp float end_transition=max(0.0,min(1.0,(trim_end-line_progress)/max(u_trim_fade_range[1],1.0e-9)));highp float transition_factor=min(start_transition,end_transition);color=mix(color,color.a*u_trim_color,transition_factor);}
#endif
#ifdef LINE_JOIN_NONE
highp float pattern_len=pattern_size/aspect;highp float segment_phase=pattern_len-mod(v_linesofar-v_pattern_data.x+pattern_len,pattern_len);highp float visible_start=segment_phase-step(pattern_len*0.5,segment_phase)*pattern_len;highp float visible_end=floor((v_pattern_data.y-segment_phase)/pattern_len)*pattern_len+segment_phase;visible_end+=step(pattern_len*0.5,v_pattern_data.y-visible_end)*pattern_len;if (v_pattern_data.x < visible_start || v_pattern_data.x >=visible_end) {color=vec4(0.0);}
#endif
#ifdef LIGHTING_3D_MODE
color=apply_lighting_with_emission_ground(color,u_emissive_strength);
#ifdef RENDER_SHADOWS
float light=shadowed_light_factor(v_pos_light_view_0,v_pos_light_view_1,v_depth);
#ifdef ELEVATED_ROADS
color.rgb*=mix(v_road_z_offset > 0.0 ? u_ground_shadow_factor : vec3(1.0),vec3(1.0),light);
#else
color.rgb*=mix(u_ground_shadow_factor,vec3(1.0),light);
#endif
#endif
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
color*=(alpha*opacity);if (u_alpha_discard_threshold !=0.0) {if (color.a < u_alpha_discard_threshold) {discard;}}
#ifdef INDICATOR_CUTOUT
color=applyCutout(color,v_z_offset);
#endif
glFragColor=color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;
#if defined(ELEVATED) || defined(ELEVATED_ROADS)
in vec3 a_z_offset_width;
#endif
#ifdef RENDER_LINE_TRIM_OFFSET
in highp vec3 a_packed;
#endif
in highp float a_linesofar;
#ifdef LINE_JOIN_NONE
in highp vec3 a_pattern_data;out vec2 v_pattern_data;
#endif
#ifdef INDICATOR_CUTOUT
out highp float v_z_offset;
#endif
uniform mat4 u_matrix;uniform float u_tile_units_to_pixels;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform float u_device_pixel_ratio;uniform float u_width_scale;uniform float u_floor_width_scale;
#ifdef ELEVATED
uniform lowp float u_zbias_factor;uniform lowp float u_tile_to_meter;float sample_elevation(vec2 apos) {
#ifdef ELEVATION_REFERENCE_SEA
return 0.0;
#else
return elevation(apos);
#endif
}
#endif
out vec2 v_normal;out vec2 v_width2;out highp float v_linesofar;out float v_gamma_scale;out float v_width;
#ifdef RENDER_LINE_TRIM_OFFSET
out highp vec3 v_uv;
#endif
#ifdef ELEVATED_ROADS
out highp float v_road_z_offset;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;out highp float v_depth;
#endif
#pragma mapbox: define mediump float blur
#pragma mapbox: define mediump float opacity
#pragma mapbox: define mediump float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define mediump float floorwidth
#pragma mapbox: define mediump vec4 pattern
#pragma mapbox: define mediump float pixel_ratio
void main() {
#pragma mapbox: initialize mediump float blur
#pragma mapbox: initialize mediump float opacity
#pragma mapbox: initialize mediump float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize mediump float floorwidth
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize mediump float pixel_ratio
float a_z_offset;
#if defined(ELEVATED) || defined(ELEVATED_ROADS)
a_z_offset=a_z_offset_width.x;
#endif
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=(u_width_scale*width)/2.0;offset=-1.0*offset*u_width_scale;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);vec2 dist=outset*a_extrude*scale;float u=0.5*a_direction;float t=1.0-abs(u);vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float hidden=float(opacity==0.0);vec2 extrude=dist*u_pixels_to_tile_units;vec4 projected_extrude=u_matrix*vec4(extrude,0.0,0.0);vec2 projected_extrude_xy=projected_extrude.xy;
#ifdef ELEVATED_ROADS
v_road_z_offset=a_z_offset;gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,a_z_offset,1.0)+projected_extrude;
#else
#ifdef ELEVATED
vec2 offsetTile=offset2*u_pixels_to_tile_units;vec2 offset_pos=pos+offsetTile;float ele=0.0;
#ifdef CROSS_SLOPE_VERTICAL
float top=a_pos_normal.y-2.0*floor(a_pos_normal.y*0.5);float line_height=2.0*u_tile_to_meter*outset*top*u_pixels_to_tile_units[1][1]+a_z_offset;ele=sample_elevation(offset_pos)+line_height;projected_extrude=vec4(0);
#else
#ifdef CROSS_SLOPE_HORIZONTAL
float ele0=sample_elevation(offset_pos);float ele1=max(sample_elevation(offset_pos+extrude),sample_elevation(offset_pos+extrude/2.0));float ele2=max(sample_elevation(offset_pos-extrude),sample_elevation(offset_pos-extrude/2.0));float ele_max=max(ele0,max(ele1,ele2));ele=ele_max+a_z_offset;
#else
float ele0=sample_elevation(offset_pos);float ele1=max(sample_elevation(offset_pos+extrude),sample_elevation(offset_pos+extrude/2.0));float ele2=max(sample_elevation(offset_pos-extrude),sample_elevation(offset_pos-extrude/2.0));float ele_max=max(ele0,0.5*(ele1+ele2));ele=ele_max-ele0+ele1+a_z_offset;
#endif
#endif
gl_Position=u_matrix*vec4(offset_pos,ele,1.0)+projected_extrude;float z=clamp(gl_Position.z/gl_Position.w,0.5,1.0);float zbias=max(0.00005,(pow(z,0.8)-z)*u_zbias_factor*u_exaggeration);gl_Position.z-=(gl_Position.w*zbias);gl_Position=mix(gl_Position,AWAY,hidden);
#else
gl_Position=mix(u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude,AWAY,hidden);
#endif
#endif
#ifdef ELEVATED_ROADS
#ifdef RENDER_SHADOWS
vec3 shd_pos=vec3(pos+(offset2+dist)*u_pixels_to_tile_units,a_z_offset);vec3 shd_pos0=shd_pos;vec3 shd_pos1=shd_pos;
#ifdef NORMAL_OFFSET
vec3 shd_pos_offset=shadow_normal_offset(vec3(0.0,0.0,1.0));shd_pos0+=shd_pos_offset*shadow_normal_offset_multiplier0();shd_pos1+=shd_pos_offset*shadow_normal_offset_multiplier1();
#endif
v_pos_light_view_0=u_light_matrix_0*vec4(shd_pos0,1);v_pos_light_view_1=u_light_matrix_1*vec4(shd_pos1,1);v_depth=gl_Position.w;
#endif
#endif
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude_xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=mix(extrude_length_without_perspective/extrude_length_with_perspective,1.0,step(0.01,blur));
#else
v_gamma_scale=1.0;
#endif
#ifdef RENDER_LINE_TRIM_OFFSET
highp float a_uv_x=a_packed[0];highp float line_progress=a_packed[2];v_uv=vec3(a_uv_x,0.0,line_progress);
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=(floorwidth*u_floor_width_scale);
#ifdef LINE_JOIN_NONE
v_width=(floorwidth*u_floor_width_scale)+ANTIALIASING;mediump float pixels_to_tile_units=1.0/u_tile_units_to_pixels;mediump float pixel_ratio_inverse=1.0/pixel_ratio;mediump float aspect=v_width/((pattern.w-pattern.y)*pixel_ratio_inverse);highp float subt_multiple=(pattern.z-pattern.x)*pixel_ratio_inverse*pixels_to_tile_units*aspect*32.0;highp float subt=floor(a_pattern_data.z/subt_multiple)*subt_multiple;float offset_sign=(fract(a_pattern_data.x)-0.5)*4.0;float line_progress_offset=offset_sign*v_width*0.5*pixels_to_tile_units;v_linesofar=(a_pattern_data.z-subt)+a_linesofar+line_progress_offset;v_pattern_data=vec2(a_pattern_data.x+line_progress_offset,a_pattern_data.y);
#endif
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
#ifdef INDICATOR_CUTOUT
v_z_offset=a_z_offset;
#endif
}`),raster:Ya(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
#include "_prelude_raster_array.glsl"
uniform float u_fade_t;uniform float u_opacity;uniform highp float u_raster_elevation;uniform highp float u_zoom_transition;in vec2 v_pos0;in vec2 v_pos1;in float v_depth;
#ifdef PROJECTION_GLOBE_VIEW
in float v_split_fade;
#endif
uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;uniform float u_emissive_strength;
#ifndef RASTER_ARRAY
uniform highp sampler2D u_image0;uniform sampler2D u_image1;
#endif
#ifdef RASTER_COLOR
uniform sampler2D u_color_ramp;uniform highp vec4 u_colorization_mix;uniform highp float u_colorization_offset;uniform vec2 u_texture_res;
#endif
void main() {vec4 color0,color1,color;vec2 value;
#ifdef RASTER_COLOR
#ifdef RASTER_ARRAY
#ifdef RASTER_ARRAY_LINEAR
value=mix(
raTexture2D_image0_linear(v_pos0,u_texture_res,u_colorization_mix,u_colorization_offset),raTexture2D_image1_linear(v_pos1,u_texture_res,u_colorization_mix,u_colorization_offset),u_fade_t
);
#else
value=mix(
raTexture2D_image0_nearest(v_pos0,u_texture_res,u_colorization_mix,u_colorization_offset),raTexture2D_image1_nearest(v_pos1,u_texture_res,u_colorization_mix,u_colorization_offset),u_fade_t
);
#endif
if (value.y > 0.0) value.x/=value.y;
#else
color=mix(texture(u_image0,v_pos0),texture(u_image1,v_pos1),u_fade_t);value=vec2(u_colorization_offset+dot(color.rgb,u_colorization_mix.rgb),color.a);
#endif
color=texture(u_color_ramp,vec2(value.x,0.5));if (color.a > 0.0) color.rgb/=color.a;color.a*=value.y;
#else
color0=texture(u_image0,v_pos0);color1=texture(u_image1,v_pos1);if (color0.a > 0.0) color0.rgb/=color0.a;if (color1.a > 0.0) color1.rgb/=color1.a;color=mix(color0,color1,u_fade_t);
#endif
color.a*=u_opacity;
#ifdef GLOBE_POLES
color.a*=1.0-smoothstep(0.0,0.05,u_zoom_transition);
#endif
vec3 rgb=color.rgb;rgb=vec3(
dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(vec4(out_color,1.0),u_emissive_strength).rgb;
#endif
#ifdef FOG
highp float fog_limit_high_meters=1000000.0;highp float fog_limit_low_meters=600000.0;float fog_limit=1.0-smoothstep(fog_limit_low_meters,fog_limit_high_meters,u_raster_elevation);out_color=fog_dither(fog_apply(out_color,v_fog_pos,fog_limit));
#endif
glFragColor=vec4(out_color*color.a,color.a);
#ifdef PROJECTION_GLOBE_VIEW
glFragColor*=mix(1.0,1.0-smoothstep(0.0,0.05,u_zoom_transition),smoothstep(0.8,0.9,v_split_fade));
#endif
#ifdef RENDER_CUTOFF
glFragColor=glFragColor*cutoff_opacity(u_cutoff_params,v_depth);
#endif
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform mat3 u_grid_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;uniform vec2 u_texture_offset;uniform float u_raster_elevation;uniform float u_zoom_transition;uniform vec2 u_merc_center;
#define GLOBE_UPSCALE GLOBE_RADIUS/6371008.8
#ifdef GLOBE_POLES
in vec3 a_globe_pos;in vec2 a_uv;
#else
in vec2 a_pos;in vec2 a_texture_pos;
#endif
out vec2 v_pos0;out vec2 v_pos1;out float v_depth;
#ifdef PROJECTION_GLOBE_VIEW
out float v_split_fade;
#endif
void main() {vec2 uv;
#ifdef GLOBE_POLES
vec3 globe_pos=a_globe_pos;globe_pos+=normalize(globe_pos)*u_raster_elevation*GLOBE_UPSCALE;gl_Position=u_matrix*u_globe_matrix*vec4(globe_pos   ,1.0);uv=a_uv;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(a_globe_pos,1.0)).xyz);
#endif
#else
float w=1.0+dot(a_texture_pos,u_perspective_transform);uv=a_texture_pos/8192.0;
#ifdef PROJECTION_GLOBE_VIEW
vec3 decomposed_pos_and_skirt=decomposeToPosAndSkirt(a_pos);vec3 latLng=u_grid_matrix*vec3(decomposed_pos_and_skirt.xy,1.0);vec3 globe_pos=latLngToECEF(latLng.xy);globe_pos+=normalize(globe_pos)*u_raster_elevation*GLOBE_UPSCALE;vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);float mercatorY=mercatorYfromLat(latLng[0]);float mercatorX=mercatorXfromLng(latLng[1]);    
v_split_fade=0.0;if (u_zoom_transition > 0.0) {vec2 merc_pos=vec2(mercatorX,mercatorY);merc_world_pos=vec4(merc_pos,u_raster_elevation,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;float opposite_merc_center=mod(u_merc_center.x+0.5,1.0);float dist_from_poles=(abs(mercatorY-0.5)*2.0);float range=0.1;v_split_fade=abs(opposite_merc_center-mercatorX);v_split_fade=clamp(1.0-v_split_fade,0.0,1.0);v_split_fade=max(smoothstep(1.0-range,1.0,dist_from_poles),max(smoothstep(1.0-range,1.0,v_split_fade),smoothstep(1.0-range,1.0,1.0-v_split_fade)));}float tiles=u_grid_matrix[0][2];if (tiles > 0.0) {float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];float uvY=mercatorY*tiles-idy;float uvX=mercatorX*tiles-idx;uv=vec2(uvX,uvY);}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition)*w,w);gl_Position=u_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
#else
gl_Position=u_matrix*vec4(a_pos*w,u_raster_elevation*w,w);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
#endif
#endif
v_pos0=uv;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;v_pos0=u_texture_offset.x+u_texture_offset.y*v_pos0;v_pos1=u_texture_offset.x+u_texture_offset.y*v_pos1;
#ifdef RENDER_CUTOFF
v_depth=gl_Position.z;
#endif
}`),rasterParticle:Ya(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform float u_fade_t;uniform float u_opacity;uniform highp float u_raster_elevation;in vec2 v_pos0;in vec2 v_pos1;uniform sampler2D u_image0;uniform sampler2D u_image1;void main() {vec4 color0,color1,color;color0=texture(u_image0,v_pos0);color1=texture(u_image1,v_pos1);if (color0.a > 0.0) color0.rgb/=color0.a;if (color1.a > 0.0) color1.rgb/=color1.a;color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 out_color=color.rgb;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(vec4(out_color,1.0),0.0).rgb;
#endif
#ifdef FOG
highp float fog_limit_high_meters=1000000.0;highp float fog_limit_low_meters=600000.0;float fog_limit=1.0-smoothstep(fog_limit_low_meters,fog_limit_high_meters,u_raster_elevation);out_color=fog_dither(fog_apply(out_color,v_fog_pos,fog_limit));
#endif
glFragColor=vec4(out_color*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform mat3 u_grid_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_raster_elevation;uniform float u_zoom_transition;uniform vec2 u_merc_center;
#define GLOBE_UPSCALE GLOBE_RADIUS/6371008.8
in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos0;out vec2 v_pos1;void main() {float w=1.0;vec2 uv;
#ifdef PROJECTION_GLOBE_VIEW
vec3 decomposed_pos_and_skirt=decomposeToPosAndSkirt(a_pos);vec3 latLng=u_grid_matrix*vec3(decomposed_pos_and_skirt.xy,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float mercatorX=mercatorXfromLng(latLng[1]);float tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];float uvX=mercatorX*tiles-idx;float uvY=mercatorY*tiles-idy;uv=vec2(uvX,uvY);vec3 globe_pos=latLngToECEF(latLng.xy);globe_pos+=normalize(globe_pos)*u_raster_elevation*GLOBE_UPSCALE;vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {vec2 merc_pos=vec2(mercatorX,mercatorY);merc_world_pos=vec4(merc_pos,u_raster_elevation,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition)*w,w);gl_Position=u_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
#else
uv=a_texture_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*w,u_raster_elevation*w,w);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
#endif
v_pos0=uv;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}`),rasterParticleDraw:Ya("uniform sampler2D u_color_ramp;in float v_particle_speed;void main() {glFragColor=texture(u_color_ramp,vec2(v_particle_speed,0.5));}",`#include "_prelude_raster_particle.glsl"
in float a_index;uniform sampler2D u_particle_texture;uniform float u_particle_texture_side_len;uniform vec2 u_tile_offset;out float v_particle_speed;void main() {ivec2 pixel_coord=ivec2(
mod(a_index,u_particle_texture_side_len),a_index/u_particle_texture_side_len);vec4 pixel=texelFetch(u_particle_texture,pixel_coord,0);vec2 pos=unpack_pos_from_rgba(pixel)+u_tile_offset;vec2 tex_coord=fract(pos);vec2 velocity=lookup_velocity(tex_coord);if (velocity==INVALID_VELOCITY) {gl_Position=AWAY;v_particle_speed=0.0;} else {gl_Position=vec4(2.0*pos-1.0,0,1);v_particle_speed=length(velocity);}gl_PointSize=1.0;}`),rasterParticleTexture:Ya("uniform sampler2D u_texture;uniform float u_opacity;in vec2 v_tex_pos;void main() {vec4 color=texture(u_texture,v_tex_pos);glFragColor=vec4(floor(255.0*color*u_opacity)/255.0);}","in vec2 a_pos;out vec2 v_tex_pos;void main() {vec2 uv=0.5*a_pos+vec2(0.5);v_tex_pos=uv;gl_Position=vec4(a_pos,0.0,1.0);}"),rasterParticleUpdate:Ya(`#include "_prelude_raster_particle.glsl"
uniform sampler2D u_particle_texture;uniform mediump float u_particle_texture_side_len;uniform mediump float u_speed_factor;uniform highp float u_reset_rate;uniform highp float u_rand_seed;in highp vec2 v_tex_coord;vec2 linearstep(vec2 edge0,vec2 edge1,vec2 x) {return  clamp((x-edge0)/(edge1-edge0),vec2(0),vec2(1));}const highp vec3 rand_constants=vec3(12.9898,78.233,4375.85453);highp float rand(const highp vec2 co) {highp float t=dot(rand_constants.xy,co);return fract(sin(t)*(rand_constants.z+t));}void main() {ivec2 pixel_coord=ivec2(v_tex_coord*u_particle_texture_side_len);highp vec4 pixel=texelFetch(u_particle_texture,pixel_coord,0);highp vec2 pos=unpack_pos_from_rgba(pixel);highp vec2 velocity=lookup_velocity(clamp(pos,0.0,1.0));highp vec2 dp=velocity==INVALID_VELOCITY ? vec2(0) : velocity*u_speed_factor;pos=pos+dp;highp vec2 seed=(pos+v_tex_coord)*u_rand_seed;highp vec2 random_pos=vec2(rand(seed+1.3),rand(seed+2.1));highp vec2 persist_rate=pow(
linearstep(vec2(-u_particle_pos_offset),vec2(0),pos)*linearstep(vec2(1.0+u_particle_pos_offset),vec2(1),pos),vec2(4)
);highp vec2 per_frame_persist=pow(persist_rate,abs(dp)/u_particle_pos_offset);highp float drop_rate=1.0-per_frame_persist.x*per_frame_persist.y;drop_rate=any(greaterThanEqual(abs(pos-0.5),vec2(0.5+u_particle_pos_offset))) ? 1.0 : drop_rate;highp float drop=step(1.0-drop_rate-u_reset_rate,rand(seed));highp vec2 next_pos=mix(pos,random_pos,drop);glFragColor=pack_pos_to_rgba(next_pos);}`,"in vec2 a_pos;out vec2 v_tex_coord;void main() {v_tex_coord=0.5*(a_pos+vec2(1.0));gl_Position=vec4(a_pos,0.0,1.0);}"),symbol:Ya(`#include "_prelude_lighting.glsl"
#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;uniform bool u_is_halo;uniform lowp float u_scale_factor;
#ifdef ICON_TRANSITION
uniform float u_icon_transition;
#endif
#ifdef COLOR_ADJUSTMENT
uniform mat4 u_color_adj_mat;
#endif
#ifdef INDICATOR_CUTOUT
in highp float v_z_offset;
#endif
in vec2 v_tex_a;
#ifdef ICON_TRANSITION
in vec2 v_tex_b;
#endif
in float v_draw_halo;in vec3 v_gamma_scale_size_fade_opacity;
#ifdef RENDER_TEXT_AND_SYMBOL
in float is_sdf;in vec2 v_tex_a_icon;
#endif
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
#pragma mapbox: define lowp float emissive_strength
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
#pragma mapbox: initialize lowp float emissive_strength
vec4 out_color;float fade_opacity=v_gamma_scale_size_fade_opacity[2];
#ifdef RENDER_TEXT_AND_SYMBOL
if (is_sdf==ICON) {vec2 tex_icon=v_tex_a_icon;lowp float alpha=opacity*fade_opacity;glFragColor=texture(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
return;}
#endif
#ifdef RENDER_SDF
float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_gamma_scale_size_fade_opacity.x;float size=v_gamma_scale_size_fade_opacity.y;float fontScale=u_is_text ? size/24.0 : size;out_color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;bool draw_halo=v_draw_halo > 0.0;if (draw_halo) {out_color=halo_color;gamma=(halo_blur*u_scale_factor*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width*u_scale_factor/fontScale)/SDF_PX;}lowp float dist=texture(u_texture,v_tex_a).r;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);out_color*=alpha;
#else
#ifdef ICON_TRANSITION
vec4 a=texture(u_texture,v_tex_a)*(1.0-u_icon_transition);vec4 b=texture(u_texture,v_tex_b)*u_icon_transition;out_color=(a+b);
#else
out_color=texture(u_texture,v_tex_a);
#endif
#ifdef COLOR_ADJUSTMENT
out_color=u_color_adj_mat*out_color;
#endif
#endif
out_color*=opacity*fade_opacity;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,emissive_strength);
#endif
#ifdef INDICATOR_CUTOUT
out_color=applyCutout(out_color,v_z_offset);
#endif
glFragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_terrain.vertex.glsl"
in vec4 a_pos_offset;in vec4 a_tex_size;in vec4 a_pixeloffset;in vec4 a_projected_pos;in float a_fade_opacity;
#ifdef Z_OFFSET
in float a_auto_z_offset;
#endif
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_globe_anchor;in vec3 a_globe_normal;
#endif
#ifdef ICON_TRANSITION
in vec2 a_texb;
#endif
#ifdef OCCLUSION_QUERIES
in float a_occlusion_query_opacity;
#endif
#ifdef INDICATOR_CUTOUT
out highp float v_z_offset;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_elevation_from_sea;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;uniform bool u_is_halo;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
out vec2 v_tex_a;
#ifdef ICON_TRANSITION
out vec2 v_tex_b;
#endif
out float v_draw_halo;out vec3 v_gamma_scale_size_fade_opacity;
#ifdef RENDER_TEXT_AND_SYMBOL
out float is_sdf;out vec2 v_tex_a_icon;
#endif
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
#pragma mapbox: define lowp float emissive_strength
#pragma mapbox: define lowp float occlusion_opacity
#pragma mapbox: define lowp float z_offset
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
#pragma mapbox: initialize lowp float emissive_strength
#pragma mapbox: initialize lowp float occlusion_opacity
#pragma mapbox: initialize lowp float z_offset
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;float e=u_elevation_from_sea ? z_offset : z_offset+elevation(tile_anchor);
#ifdef Z_OFFSET
e+=a_auto_z_offset;
#endif
vec3 h=elevationVector(tile_anchor)*e;float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;vec3 world_pos_globe;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos_globe=a_globe_anchor+h;world_pos=mix_globe_mercator(world_pos_globe,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetprojected_point;vec2 a;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);vec4 projected_point_globe=u_matrix*vec4(world_pos_globe,1);a=projected_point_globe.xy/projected_point_globe.w;
#else
offsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);a=projected_point.xy/projected_point.w;
#endif
vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
#ifdef PROJECTED_POS_ON_VIEWPORT
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xyz+h,1.0);
#else
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz,mercator_pos,u_zoom_transition)+h;projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);    
#endif
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
#ifdef Z_OFFSET
z+=u_pitch_with_map ? a_auto_z_offset+(u_elevation_from_sea ? z_offset : z_offset) : 0.0;
#else
z+=u_pitch_with_map ? (u_elevation_from_sea ? z_offset : z_offset) : 0.0;
#endif
float occlusion_fade=globe_occlusion_fade;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float out_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));
#ifdef DEPTH_OCCLUSION
float depth_occlusion=occlusionFadeMultiSample(projected_point);float depth_occlusion_multplier=mix(occlusion_opacity,1.0,depth_occlusion);out_fade_opacity*=depth_occlusion_multplier;
#endif
#ifdef OCCLUSION_QUERIES
float occludedFadeMultiplier=mix(occlusion_opacity,1.0,a_occlusion_query_opacity);out_fade_opacity*=occludedFadeMultiplier;
#endif
float alpha=opacity*out_fade_opacity;float hidden=float(alpha==0.0 || projected_point.w <=0.0 || occlusion_fade==0.0);
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,hidden);
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,hidden);
#endif
float gamma_scale=gl_Position.w;v_draw_halo=(u_is_halo && float(gl_InstanceID)==0.0) ? 1.0 : 0.0;v_gamma_scale_size_fade_opacity=vec3(gamma_scale,size,out_fade_opacity);v_tex_a=a_tex/u_texsize;
#ifdef RENDER_TEXT_AND_SYMBOL
is_sdf=a_size[0]-2.0*a_size_min;v_tex_a_icon=a_tex/u_texsize_icon;
#endif
#ifdef ICON_TRANSITION
v_tex_b=a_texb/u_texsize;
#endif
#ifdef INDICATOR_CUTOUT
v_z_offset=e;
#endif
}`),terrainRaster:Ya(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_shadow.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform sampler2D u_image0;in vec2 v_pos0;
#ifdef FOG
in float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
in vec4 v_pos_light_view_0;in vec4 v_pos_light_view_1;
#endif
uniform vec3 u_ground_shadow_factor;void main() {vec4 image_color=texture(u_image0,v_pos0);vec4 color;
#ifdef LIGHTING_3D_MODE
const vec3 normal=vec3(0.0,0.0,1.0);
#ifdef RENDER_SHADOWS
float cutoffOpacity=1.0;
#ifdef RENDER_CUTOFF
cutoffOpacity=cutoff_opacity(u_cutoff_params,1.0/gl_FragCoord.w);
#endif
#ifdef LIGHTING_3D_ALPHA_EMISSIVENESS
vec3 unlit_base=image_color.rgb*(1.0-image_color.a);vec3 emissive_base=image_color.rgb*image_color.a;float ndotl=u_shadow_direction.z;float occlusion=ndotl < 0.0 ? 1.0 : shadow_occlusion(v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w,0.0);ndotl=max(0.0,ndotl);vec3 lit=apply_lighting(unlit_base,normal,mix(1.0,(1.0-(u_shadow_intensity*occlusion))*ndotl,cutoffOpacity));vec3 emissive=compute_emissive_draped(emissive_base,1.0-u_shadow_intensity,occlusion,u_ground_shadow_factor);color.rgb=lit+emissive;color.a=1.0;
#else
float lighting_factor=shadowed_light_factor_normal_unbiased(normal,v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w);color=apply_lighting(image_color,normal,mix(1.0,lighting_factor,cutoffOpacity));
#endif
#else
float lighting_factor=u_lighting_directional_dir.z;color=apply_lighting(image_color,normal,lighting_factor);
#ifdef LIGHTING_3D_ALPHA_EMISSIVENESS
color.rgb=mix(color.rgb,image_color.rgb,image_color.a);color.a=1.0;
#endif
#endif
#else
color=image_color;
#endif
#ifdef FOG
#ifdef ZERO_EXAGGERATION
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#else
color=fog_dither(fog_apply_from_vert(color,v_fog_opacity));
#endif
#endif
glFragColor=color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
uniform mat4 u_matrix;uniform float u_skirt_height;in vec2 a_pos;out vec2 v_pos0;
#ifdef FOG
out float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out vec4 v_pos_light_view_0;out vec4 v_pos_light_view_1;out float v_depth;
#endif
void main() {vec3 decomposedPosAndSkirt=decomposeToPosAndSkirt(a_pos);float skirt=decomposedPosAndSkirt.z;vec2 decodedPos=decomposedPosAndSkirt.xy;float elevation=elevation(decodedPos)-skirt*u_skirt_height;v_pos0=decodedPos/8192.0;gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);
#ifdef FOG
#ifdef ZERO_EXAGGERATION
v_fog_pos=fog_position(decodedPos);
#else
v_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));
#endif
#endif
#ifdef RENDER_SHADOWS
vec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);
#endif
}`),terrainDepth:Ya("precision highp float;in float v_depth;void main() {glFragColor=pack_depth(v_depth);}",`#include "_prelude_terrain.vertex.glsl"
uniform mat4 u_matrix;in vec2 a_pos;out float v_depth;void main() {float elevation=elevation(a_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}`),skybox:Ya(`#include "_prelude_fog.fragment.glsl"
in lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(
cos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=texture(u_cubemap,uv).rgb;
#ifdef FOG
sky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);
#endif
sky_color+=0.1*sun_disk(v_uv,u_sun_direction);glFragColor=vec4(sky_color*u_opacity,u_opacity);
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
}`,bl),skyboxGradient:Ya(`#include "_prelude_fog.fragment.glsl"
in highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture(u_color_ramp,vec2(progress,0.5));
#ifdef FOG
color.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;
#endif
color*=u_opacity;glFragColor=color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
}`,bl),skyboxCapture:Ya(`
in highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;precision highp float;
#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)
#define BETA_M                  vec3(21e-6,21e-6,21e-6)
#define MIE_G                   0.76
#define DENSITY_HEIGHT_SCALE_R  8000.0
#define DENSITY_HEIGHT_SCALE_M  1200.0
#define PLANET_RADIUS           6360e3
#define ATMOSPHERE_RADIUS       6420e3
#define SAMPLE_STEPS            10
#define DENSITY_STEPS           4
float ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;glFragColor=vec4(color,1.0);}`,"in highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;out highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:Ya(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform sampler2D u_image0;uniform float u_far_z_cutoff;in vec2 v_pos0;
#ifndef FOG
uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;
#endif
void main() {vec4 color;
#ifdef CUSTOM_ANTIALIASING
highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;highp float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);highp float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture(u_image0,v_pos0);
#ifdef LIGHTING_3D_MODE
#ifdef LIGHTING_3D_ALPHA_EMISSIVENESS
raster=apply_lighting_with_emission_ground(raster,raster.a);color=vec4(clamp(raster.rgb,vec3(0),vec3(1))*antialias,antialias);
#else
raster=apply_lighting_ground(raster);color=vec4(raster.rgb*antialias,raster.a*antialias);
#endif
#else
color=vec4(raster.rgb*antialias,raster.a*antialias);
#endif
#else
color=texture(u_image0,v_pos0);
#ifdef LIGHTING_3D_MODE
#ifdef LIGHTING_3D_ALPHA_EMISSIVENESS
color=apply_lighting_with_emission_ground(color,color.a);color.a=1.0;
#else
color=apply_lighting_ground(color);
#endif
#endif
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
color*=1.0-step(u_far_z_cutoff,1.0/gl_FragCoord.w);glFragColor=color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
uniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;uniform float u_skirt_height;
#ifdef GLOBE_POLES
in vec3 a_globe_pos;in vec2 a_uv;
#else
in vec2 a_pos;
#endif
out vec2 v_pos0;void main() {
#ifdef GLOBE_POLES
vec3 globe_pos=a_globe_pos;vec2 uv=a_uv;
#else
float tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];vec3 decomposed_pos_and_skirt=decomposeToPosAndSkirt(a_pos);vec3 latLng=u_grid_matrix*vec3(decomposed_pos_and_skirt.xy,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=mercatorX*tiles-idx;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);
#endif
v_pos0=uv;vec2 tile_pos=uv*EXTENT;vec3 globe_derived_up_vector=normalize(globe_pos)*u_tile_up_scale;
#ifdef GLOBE_POLES
vec3 up_vector=globe_derived_up_vector;
#else
vec3 up_vector=elevationVector(tile_pos);
#endif
float height=elevation(tile_pos);globe_pos+=up_vector*height;
#ifndef GLOBE_POLES
globe_pos-=globe_derived_up_vector*u_skirt_height*decomposed_pos_and_skirt.z;
#endif
#ifdef GLOBE_POLES
vec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);
#else
vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height-u_skirt_height*decomposed_pos_and_skirt.z,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);
#endif
gl_Position=u_proj_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
}`),globeAtmosphere:Ya(`#include "_prelude_fog.fragment.glsl"
uniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec4 u_color;uniform vec4 u_high_color;uniform vec4 u_space_color;uniform float u_horizon_angle;in highp vec3 v_ray_dir;in highp vec3 v_horizon_dir;void main() {highp vec3 dir=normalize(v_ray_dir);float globe_pos_dot_dir;
#ifdef PROJECTION_GLOBE_VIEW
globe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {
#ifdef ALPHA_PASS
glFragColor=vec4(0,0,0,0);return;
#else
#ifdef NATIVE
glFragColor=vec4(1,1,1,1);
#else
glFragColor=vec4(0,0,0,1);
#endif
return;
#endif
}
#endif
highp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?
0.0 : max(acos(clamp(dot(dir,horizon_dir),-1.0,1.0)),0.0);float horizon_angle;
#ifdef PROJECTION_GLOBE_VIEW
highp vec3 closest_point=globe_pos_dot_dir*dir;highp float closest_point_to_center=length(closest_point-u_globe_pos);highp float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));horizon_angle=globe_pos_dot_dir < 0.0 ?
PI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);
#else
horizon_angle=horizon_angle_mercator;
#endif
horizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;
#ifdef ALPHA_PASS
float a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);glFragColor=vec4(1.0,1.0,1.0,a);
#else
vec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c=c2;glFragColor=vec4(c*t,t);
#endif
}`,`in vec3 a_pos;in vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;out highp vec3 v_ray_dir;out highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(
mix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}`),model:Ya(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_shadow.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform float u_opacity;uniform vec3 u_lightcolor;uniform vec3 u_lightpos;uniform float u_lightintensity;uniform vec4 u_baseColorFactor;uniform vec4 u_emissiveFactor;uniform float u_metallicFactor;uniform float u_roughnessFactor;uniform float u_emissive_strength;in highp vec4 v_position_height;in lowp vec4 v_color_mix;
#ifdef RENDER_SHADOWS
in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;in float v_depth_shadows;
#endif
#ifdef OCCLUSION_TEXTURE_TRANSFORM
uniform vec4 u_occlusionTextureTransform;
#endif
#pragma mapbox: define-attribute highp vec3 normal_3f
#pragma mapbox: define-attribute highp vec3 color_3f
#pragma mapbox: define-attribute highp vec4 color_4f
#pragma mapbox: define-attribute highp vec2 uv_2f
#pragma mapbox: initialize-attribute highp vec3 normal_3f
#pragma mapbox: initialize-attribute highp vec3 color_3f
#pragma mapbox: initialize-attribute highp vec4 color_4f
#pragma mapbox: initialize-attribute highp vec2 uv_2f
#ifdef HAS_ATTRIBUTE_a_pbr
in lowp vec4 v_roughness_metallic_emissive_alpha;in mediump vec4 v_height_based_emission_params;
#endif
#ifdef HAS_TEXTURE_u_baseColorTexture
uniform sampler2D u_baseColorTexture;uniform bool u_baseTextureIsAlpha;uniform bool u_alphaMask;uniform float u_alphaCutoff;
#endif
#ifdef HAS_TEXTURE_u_metallicRoughnessTexture
uniform sampler2D u_metallicRoughnessTexture;
#endif
#ifdef HAS_TEXTURE_u_occlusionTexture
uniform sampler2D u_occlusionTexture;uniform float u_aoIntensity;
#endif
#ifdef HAS_TEXTURE_u_normalTexture
uniform sampler2D u_normalTexture;
#endif
#ifdef HAS_TEXTURE_u_emissionTexture
uniform sampler2D u_emissionTexture;
#endif
#ifdef APPLY_LUT_ON_GPU
uniform highp sampler3D u_lutTexture;
#endif
#ifdef TERRAIN_FRAGMENT_OCCLUSION
in highp float v_depth;uniform highp sampler2D u_depthTexture;uniform highp vec2 u_inv_depth_size;uniform highp vec2 u_depth_range_unpack;
#ifdef DEPTH_D24
highp float unpack_depth(highp float depth) {return  depth*u_depth_range_unpack.x+u_depth_range_unpack.y;}
#else
highp float unpack_depth_rgba(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}
#endif
bool isOccluded() {highp vec2 coord=gl_FragCoord.xy*u_inv_depth_size;
#ifdef DEPTH_D24
highp float depth=unpack_depth(texture(u_depthTexture,coord).r);
#else
highp float depth=unpack_depth_rgba(texture(u_depthTexture,coord));
#endif
return v_depth > depth+0.0005;}
#endif
#define saturate(_x) clamp(_x,0.,1.)
vec3 linearTosRGB(vec3 color) {return pow(color,vec3(1./2.2));}vec3 sRGBToLinear(vec3 srgbIn) {return pow(srgbIn,vec3(2.2));}float calculate_NdotL(vec3 normal,vec3 lightDir) {const float ext=0.70710678118;return (clamp(dot(normal,lightDir),-ext,1.0)+ext)/(1.0+ext);}vec3 getDiffuseShadedColor(vec3 albedo,vec3 normal,vec3 lightDir,vec3 lightColor)
{
#ifdef LIGHTING_3D_MODE
vec3 transformed_normal=vec3(-normal.xy,normal.z);float lighting_factor;
#ifdef RENDER_SHADOWS
lighting_factor=shadowed_light_factor_normal(transformed_normal,v_pos_light_view_0,v_pos_light_view_1,v_depth_shadows);
#else
lighting_factor=saturate(dot(transformed_normal,u_lighting_directional_dir));
#endif
return apply_lighting(albedo,transformed_normal,lighting_factor);
#else
vec3 n=normal;float colorvalue=((albedo.x*0.2126)+(albedo.y*0.7152))+(albedo.z*0.0722);vec3 c=vec3(0.03,0.03,0.03);float directional=clamp(dot(n,vec3(lightDir)),0.0,1.0);directional=mix(1.0-u_lightintensity,max((1.0-colorvalue)+u_lightintensity,1.0),directional);vec3 c3=c+clamp((albedo*directional)*lightColor,mix(vec3(0.0),vec3(0.3),vec3(1.0)-lightColor),vec3(1.0));return c3;
#endif
}vec4 getBaseColor() {vec4 albedo=u_baseColorFactor;
#ifdef HAS_ATTRIBUTE_a_color_3f
albedo*=vec4(color_3f,1.0);
#endif
#ifdef HAS_ATTRIBUTE_a_pbr
#else
#ifdef HAS_ATTRIBUTE_a_color_4f
albedo*=color_4f;
#endif
#endif
#if defined (HAS_TEXTURE_u_baseColorTexture) && defined (HAS_ATTRIBUTE_a_uv_2f)
vec4 texColor=texture(u_baseColorTexture,uv_2f);if(u_alphaMask) {if (texColor.w < u_alphaCutoff) {discard;}}
#ifdef UNPREMULT_TEXTURE_IN_SHADER
if(texColor.w > 0.0) {texColor.rgb/=texColor.w;}texColor.w=1.0;
#endif
if(u_baseTextureIsAlpha) {if (texColor.r < 0.5) {discard;}} else {texColor.rgb=sRGBToLinear(texColor.rgb);albedo*=texColor;}
#endif
vec4 color=vec4(mix(albedo.rgb,v_color_mix.rgb,v_color_mix.a),albedo.a);
#ifdef APPLY_LUT_ON_GPU
color=applyLUT(u_lutTexture,color);
#endif
return color;}highp mat3 cotangentFrame(highp vec3 N,highp vec3 p,highp vec2 uv ) {
#ifdef HAS_TEXTURE_u_normalTexture
highp vec3 dp1=vec3(dFdx(p.x),dFdx(p.y),dFdx(p.z));highp vec3 dp2=vec3(dFdy(p.x),dFdy(p.y),dFdy(p.z));highp vec2 duv1=vec2(dFdx(uv.x),dFdx(uv.y));highp vec2 duv2=vec2(dFdy(uv.x),dFdy(uv.y));highp vec3 dp2perp=cross( dp2,N );highp vec3 dp1perp=cross( N,dp1 );highp vec3 T=dp2perp*duv1.x+dp1perp*duv2.x;highp vec3 B=dp2perp*duv1.y+dp1perp*duv2.y;highp float lengthT=dot(T,T);highp float lengthB=dot(B,B);highp float maxLength=max(lengthT,lengthB);highp float invmax=inversesqrt( maxLength );highp mat3 res=mat3( T*invmax,B*invmax,N );return res;
#else
return mat3(1.0);
#endif
}highp vec3 getNormal(){highp vec3 n;
#ifdef HAS_ATTRIBUTE_a_normal_3f
n=normalize(normal_3f);
#else
highp vec3 fdx=vec3(dFdx(v_position_height.x),dFdx(v_position_height.y),dFdx(v_position_height.z));highp vec3 fdy=vec3(dFdy(v_position_height.x),dFdy(v_position_height.y),dFdy(v_position_height.z));n=normalize(cross(fdx,fdy))*-1.0;
#endif
#if defined(HAS_TEXTURE_u_normalTexture) && defined(HAS_ATTRIBUTE_a_uv_2f)
vec3 nMap=texture( u_normalTexture,uv_2f).xyz;nMap=normalize(2.0*nMap-vec3(1.0));highp vec3 v=normalize(-v_position_height.xyz);highp mat3 TBN=cotangentFrame(n,v,uv_2f);n=normalize(TBN*nMap);
#endif
return n;}struct Material {float perceptualRoughness;float alphaRoughness;float metallic;vec3 f90;vec4 baseColor;vec3 diffuseColor;vec3 specularColor;highp vec3 normal;};Material getPBRMaterial() {Material mat;mat.baseColor=getBaseColor();mat.perceptualRoughness=u_roughnessFactor;mat.metallic=u_metallicFactor;
#ifdef HAS_ATTRIBUTE_a_pbr
mat.perceptualRoughness=v_roughness_metallic_emissive_alpha.x;mat.metallic=v_roughness_metallic_emissive_alpha.y;mat.baseColor.w*=v_roughness_metallic_emissive_alpha.w;
#endif
#if defined(HAS_TEXTURE_u_metallicRoughnessTexture) && defined(HAS_ATTRIBUTE_a_uv_2f) 
vec4 mrSample=texture(u_metallicRoughnessTexture,uv_2f);mat.perceptualRoughness*=mrSample.g;mat.metallic*=mrSample.b;
#endif
const float c_minRoughness=0.04;mat.perceptualRoughness=clamp(mat.perceptualRoughness,c_minRoughness,1.0);mat.metallic=saturate(mat.metallic);mat.alphaRoughness=mat.perceptualRoughness*mat.perceptualRoughness;const vec3 f0=vec3(0.04);mat.diffuseColor=mat.baseColor.rgb*(vec3(1.0)-f0);mat.diffuseColor*=1.0-mat.metallic;mat.specularColor=mix(f0,mat.baseColor.rgb,mat.metallic);highp float reflectance=max(max(mat.specularColor.r,mat.specularColor.g),mat.specularColor.b);highp float reflectance90=saturate(reflectance*25.0);mat.f90=vec3(reflectance90);mat.normal=getNormal();return mat;}float V_GGX(float NdotL,float NdotV,float roughness)
{float a2=roughness*roughness;float GGXV=NdotL*sqrt(NdotV*NdotV*(1.0-a2)+a2);float GGXL=NdotV*sqrt(NdotL*NdotL*(1.0-a2)+a2);return 0.5/(GGXV+GGXL);}float V_GGXFast(float NdotL,float NdotV,float roughness) {float a=roughness;float GGXV=NdotL*(NdotV*(1.0-a)+a);float GGXL=NdotV*(NdotL*(1.0-a)+a);return 0.5/(GGXV+GGXL);}vec3 F_Schlick(vec3 specularColor,vec3 f90,float VdotH)
{return specularColor+(f90-specularColor)*pow(clamp(1.0-VdotH,0.0,1.0),5.0);}vec3 F_SchlickFast(vec3 specularColor,float VdotH)
{float x=1.0-VdotH;float x4=x*x*x*x;return specularColor+(1.0-specularColor)*x4*x;}float D_GGX(highp float NdotH,float alphaRoughness)
{highp float a4=alphaRoughness*alphaRoughness;highp float f=(NdotH*a4-NdotH)*NdotH+1.0;return a4/(PI*f*f);}vec3 diffuseBurley(Material mat,float LdotH,float NdotL,float NdotV)
{float f90=2.0*LdotH*LdotH*mat.alphaRoughness-0.5;return (mat.diffuseColor/PI)*(1.0+f90*pow((1.0-NdotL),5.0))*(1.0+f90*pow((1.0-NdotV),5.0));}vec3 diffuseLambertian(Material mat)
{
#ifdef LIGHTING_3D_MODE
return mat.diffuseColor;
#else
return mat.diffuseColor/PI;
#endif
}vec3 EnvBRDFApprox(vec3 specularColor,float roughness,highp float NdotV)
{vec4 c0=vec4(-1,-0.0275,-0.572,0.022);vec4 c1=vec4(1,0.0425,1.04,-0.04);highp vec4 r=roughness*c0+c1;highp float a004=min(r.x*r.x,exp2(-9.28*NdotV))*r.x+r.y;vec2 AB=vec2(-1.04,1.04)*a004+r.zw;return specularColor*AB.x+AB.y;}vec3 computeIndirectLightContribution(Material mat,float NdotV,vec3 normal)
{vec3 env_light=vec3(0.65,0.65,0.65);
#ifdef LIGHTING_3D_MODE
float ambient_factor=calculate_ambient_directional_factor(normal);env_light=u_lighting_ambient_color*ambient_factor;
#endif
vec3 envBRDF=EnvBRDFApprox(mat.specularColor,mat.perceptualRoughness,NdotV);vec3 indirectSpecular= envBRDF*env_light;vec3 indirectDiffuse=mat.diffuseColor*env_light;return indirectSpecular+indirectDiffuse;}vec3 computeLightContribution(Material mat,vec3 lightPosition,vec3 lightColor)
{highp vec3 n=mat.normal;highp vec3 v=normalize(-v_position_height.xyz);highp vec3 l=normalize(lightPosition);highp vec3 h=normalize(v+l);float NdotV=clamp(abs(dot(n,v)),0.001,1.0);float NdotL=saturate(dot(n,l));highp float NdotH=saturate(dot(n,h));float VdotH=saturate(dot(v,h));vec3 f=F_SchlickFast(mat.specularColor,VdotH);float g=V_GGXFast(NdotL,NdotV,mat.alphaRoughness);float d=D_GGX(NdotH,mat.alphaRoughness);vec3 diffuseTerm=(1.0-f)*diffuseLambertian(mat);vec3 specularTerm=f*g*d;vec3 transformed_normal=vec3(-n.xy,n.z);float lighting_factor;
#ifdef RENDER_SHADOWS
lighting_factor=shadowed_light_factor_normal(transformed_normal,v_pos_light_view_0,v_pos_light_view_1,v_depth_shadows);
#else
lighting_factor=NdotL;
#endif
vec3 directLightColor=(specularTerm+diffuseTerm)*lighting_factor*lightColor;vec3 indirectLightColor=computeIndirectLightContribution(mat,NdotV,transformed_normal);vec3 color=(saturate(directLightColor)+indirectLightColor);float intensityFactor=1.0;
#if !defined(LIGHTING_3D_MODE)
const vec3 luminosityFactor=vec3(0.2126,0.7152,0.0722);float luminance=dot(diffuseTerm,luminosityFactor);intensityFactor=mix((1.0-u_lightintensity),max((1.0-luminance+u_lightintensity),1.0),NdotL);
#endif
color*=intensityFactor;return color;}void main() {
#ifdef TERRAIN_FRAGMENT_OCCLUSION
if (isOccluded()) {discard;}
#endif
vec3 lightDir=u_lightpos;vec3 lightColor=u_lightcolor;
#ifdef LIGHTING_3D_MODE
lightDir=u_lighting_directional_dir;lightDir.xy=-lightDir.xy;lightColor=u_lighting_directional_color;
#endif
vec4 finalColor;
#ifdef DIFFUSE_SHADED
vec3 N=getNormal();vec3 baseColor=getBaseColor().rgb;vec3 diffuse=getDiffuseShadedColor(baseColor,N,lightDir,lightColor);
#ifdef HAS_TEXTURE_u_occlusionTexture
float ao=(texture(u_occlusionTexture,uv_2f).r-1.0)*u_aoIntensity+1.0;diffuse*=ao;
#endif
finalColor=vec4(mix(diffuse,baseColor,u_emissive_strength),1.0)*u_opacity;
#else
Material mat=getPBRMaterial();vec3 color=computeLightContribution(mat,lightDir,lightColor);float ao=1.0;
#if defined (HAS_TEXTURE_u_occlusionTexture) && defined(HAS_ATTRIBUTE_a_uv_2f)
#ifdef OCCLUSION_TEXTURE_TRANSFORM
vec2 uv=uv_2f.xy*u_occlusionTextureTransform.zw+u_occlusionTextureTransform.xy;
#else
vec2 uv=uv_2f;
#endif
ao=(texture(u_occlusionTexture,uv).x-1.0)*u_aoIntensity+1.0;color*=ao;
#endif
vec4 emissive=u_emissiveFactor;
#if defined(HAS_TEXTURE_u_emissionTexture) && defined(HAS_ATTRIBUTE_a_uv_2f)
emissive.rgb*=sRGBToLinear(texture(u_emissionTexture,uv_2f).rgb);
#endif
#ifdef APPLY_LUT_ON_GPU
float emissiveFactorLength=max(length(u_emissiveFactor.rgb),0.001);emissive.rgb=sRGBToLinear(applyLUT(u_lutTexture,linearTosRGB(emissive.rgb/emissiveFactorLength).rbg))*emissiveFactorLength;
#endif
color+=emissive.rgb;float opacity=mat.baseColor.w*u_opacity;
#ifdef HAS_ATTRIBUTE_a_pbr
float resEmission=v_roughness_metallic_emissive_alpha.z;resEmission*=v_height_based_emission_params.z+v_height_based_emission_params.w*pow(clamp(v_height_based_emission_params.x,0.0,1.0),v_height_based_emission_params.y);vec3 color_mix=v_color_mix.rgb;
#ifdef APPLY_LUT_ON_GPU
color_mix=applyLUT(u_lutTexture,color_mix);
#endif
color=mix(color,color_mix,min(1.0,resEmission));
#ifdef HAS_ATTRIBUTE_a_color_4f
float distance=length(vec2(1.3*max(0.0,abs(color_4f.x)-color_4f.z),color_4f.y));distance+= mix(0.5,0.0,clamp(resEmission-1.0,0.0,1.0));opacity*=v_roughness_metallic_emissive_alpha.w*saturate(1.0-distance*distance);
#endif
#endif
vec3 unlitColor=mat.baseColor.rgb*ao+emissive.rgb;color=mix(color,unlitColor,u_emissive_strength);color=linearTosRGB(color);color*=opacity;finalColor=vec4(color,opacity);
#endif
#ifdef FOG
finalColor=fog_dither(fog_apply_premultiplied(finalColor,v_fog_pos,v_position_height.w));
#endif
#ifdef RENDER_CUTOFF
finalColor*=v_cutoff_opacity;
#endif
#ifdef INDICATOR_CUTOUT
finalColor=applyCutout(finalColor,v_position_height.w);
#endif
glFragColor=finalColor;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
in vec3 a_pos_3f;
#pragma mapbox: define-attribute highp vec3 normal_3f
#pragma mapbox: define-attribute highp vec2 uv_2f
#pragma mapbox: define-attribute highp vec3 color_3f
#pragma mapbox: define-attribute highp vec4 color_4f
#pragma mapbox: define-attribute-vertex-shader-only highp vec4 pbr
#pragma mapbox: define-attribute-vertex-shader-only highp vec3 heightBasedEmissiveStrength
uniform mat4 u_matrix;uniform mat4 u_node_matrix;uniform mat4 u_lighting_matrix;uniform vec3 u_camera_pos;uniform vec4 u_color_mix;
#ifdef INSTANCED_ARRAYS
in vec4 a_normal_matrix0;in vec4 a_normal_matrix1;in vec4 a_normal_matrix2;in vec4 a_normal_matrix3;
#else
uniform highp mat4 u_normal_matrix;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;out float v_depth_shadows;
#endif
out vec4 v_position_height;out lowp vec4 v_color_mix;
#ifdef TERRAIN_FRAGMENT_OCCLUSION
out highp float v_depth;
#endif
#ifdef HAS_ATTRIBUTE_a_pbr
out lowp vec4 v_roughness_metallic_emissive_alpha;out mediump vec4 v_height_based_emission_params;
#endif
vec3 sRGBToLinear(vec3 srgbIn) {return pow(srgbIn,vec3(2.2));}void main() {
#pragma mapbox: initialize-attribute highp vec3 normal_3f
#pragma mapbox: initialize-attribute highp vec2 uv_2f
#pragma mapbox: initialize-attribute highp vec3 color_3f
#pragma mapbox: initialize-attribute highp vec4 color_4f
#pragma mapbox: initialize-attribute-custom highp vec4 pbr
#pragma mapbox: initialize-attribute-custom highp vec3 heightBasedEmissiveStrength
highp mat4 normal_matrix;
#ifdef INSTANCED_ARRAYS
normal_matrix=mat4(a_normal_matrix0,a_normal_matrix1,a_normal_matrix2,a_normal_matrix3);
#else
normal_matrix=u_normal_matrix;
#endif
vec3 local_pos;mat3 rs;
#ifdef MODEL_POSITION_ON_GPU
vec3 pos_color=normal_matrix[0].xyz;vec4 translate=normal_matrix[1];vec3 pos_a=floor(pos_color);vec3 rgb=1.05*(pos_color-pos_a);float hidden=float(pos_a.x > EXTENT);float color_mix=pos_a.z/100.0;v_color_mix=vec4(sRGBToLinear(rgb),color_mix);float meter_to_tile=normal_matrix[0].w;vec4 pos=vec4(pos_a.xy,translate.z,1.0);rs[0].x=normal_matrix[1].w;rs[0].yz=normal_matrix[2].xy;rs[1].xy=normal_matrix[2].zw;rs[1].z=normal_matrix[3].x;rs[2].xyz=normal_matrix[3].yzw;vec4 pos_node=u_lighting_matrix*vec4(a_pos_3f,1.0);vec3 rotated_pos_node=rs*pos_node.xyz;vec3 pos_model_tile=(rotated_pos_node+vec3(translate.xy,0.0))*vec3(meter_to_tile,meter_to_tile,1.0);pos.xyz+=pos_model_tile;local_pos=pos.xyz;gl_Position=mix(u_matrix*pos,AWAY,hidden);pos.z*=meter_to_tile;v_position_height.xyz=pos.xyz-u_camera_pos;
#else
local_pos=a_pos_3f;gl_Position=u_matrix*vec4(a_pos_3f,1);v_position_height.xyz=vec3(u_lighting_matrix*vec4(a_pos_3f,1));v_color_mix=vec4(sRGBToLinear(u_color_mix.rgb),u_color_mix.a);
#endif
v_position_height.w=a_pos_3f.z;
#ifdef HAS_ATTRIBUTE_a_pbr
vec4 albedo_c=decode_color(pbr.xy);vec2 e_r_m=unpack_float(pbr.z);vec2 r_m= unpack_float(e_r_m.y*16.0);r_m.r=r_m.r*16.0;v_color_mix=vec4(albedo_c.rgb,1.0);v_roughness_metallic_emissive_alpha=vec4(vec3(r_m,e_r_m.x)/255.0,albedo_c.a);v_roughness_metallic_emissive_alpha.z*=2.0;float heightBasedRelativeIntepolation=a_pos_3f.z*heightBasedEmissiveStrength.x+heightBasedEmissiveStrength.y;v_height_based_emission_params.x=heightBasedRelativeIntepolation;v_height_based_emission_params.y=heightBasedEmissiveStrength.z;vec2 emissionMultiplierValues=unpack_float(pbr.w)/256.0;v_height_based_emission_params.z=emissionMultiplierValues.x;v_height_based_emission_params.w=emissionMultiplierValues.y-emissionMultiplierValues.x;
#endif
#ifdef FOG
v_fog_pos=fog_position(local_pos);
#endif
#ifdef RENDER_CUTOFF
v_cutoff_opacity=cutoff_opacity(u_cutoff_params,gl_Position.z);
#endif
#ifdef TERRAIN_FRAGMENT_OCCLUSION
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef HAS_ATTRIBUTE_a_normal_3f
#ifdef MODEL_POSITION_ON_GPU
float x_squared_scale=dot(rs[0],rs[0]);float y_squared_scale=dot(rs[1],rs[1]);float z_squared_scale=dot(rs[2],rs[2]);vec3 squared_scale=vec3(x_squared_scale,y_squared_scale,z_squared_scale);normal_3f=rs*((u_lighting_matrix*vec4(normal_3f,0.0)).xyz/squared_scale);normal_3f=normalize(normal_3f);
#else
normal_3f=vec3(normal_matrix*vec4(normal_3f,0));
#endif
#endif
#ifdef HAS_ATTRIBUTE_a_pbr
#ifdef HAS_ATTRIBUTE_a_color_4f
v_roughness_metallic_emissive_alpha.w=clamp(color_4f.a*v_roughness_metallic_emissive_alpha.w*(v_roughness_metallic_emissive_alpha.z-1.0),0.0,1.0);
#endif
#endif
#ifdef RENDER_SHADOWS
vec4 shadow_pos=u_node_matrix*vec4(local_pos,1.0);
#ifdef NORMAL_OFFSET
#ifdef HAS_ATTRIBUTE_a_normal_3f
#ifdef MODEL_POSITION_ON_GPU
vec3 offset=shadow_normal_offset(vec3(-normal_3f.xy,normal_3f.z));shadow_pos.xyz+=offset*shadow_normal_offset_multiplier0();
#else
vec3 offset=shadow_normal_offset_model(normal_3f);shadow_pos.xyz+=offset*shadow_normal_offset_multiplier0();
#endif
#endif
#endif
v_pos_light_view_0=u_light_matrix_0*shadow_pos;v_pos_light_view_1=u_light_matrix_1*shadow_pos;v_depth_shadows=gl_Position.w;
#endif
}`),modelDepth:Ya(`in highp float v_depth;void main() {
#ifndef DEPTH_TEXTURE
glFragColor=pack_depth(v_depth);
#endif
}`,`in vec3 a_pos_3f;uniform mat4 u_matrix;out highp float v_depth;
#ifdef MODEL_POSITION_ON_GPU
#ifdef INSTANCED_ARRAYS
in vec4 a_normal_matrix0;in vec4 a_normal_matrix1;in vec4 a_normal_matrix2;in vec4 a_normal_matrix3;
#else
uniform highp mat4 u_instance;
#endif
uniform highp mat4 u_node_matrix;
#endif
void main() {
#ifdef MODEL_POSITION_ON_GPU
highp mat4 instance;
#ifdef INSTANCED_ARRAYS
instance=mat4(a_normal_matrix0,a_normal_matrix1,a_normal_matrix2,a_normal_matrix3);
#else
instance=u_instance;
#endif
vec3 pos_color=instance[0].xyz;vec4 translate=instance[1];vec3 pos_a=floor(pos_color);float hidden=float(pos_a.x > EXTENT);float meter_to_tile=instance[0].w;vec4 pos=vec4(pos_a.xy,translate.z,1.0);mat3 rs;rs[0].x=instance[1].w;rs[0].yz=instance[2].xy;rs[1].xy=instance[2].zw;rs[1].z=instance[3].x;rs[2].xyz=instance[3].yzw;vec4 pos_node=u_node_matrix*vec4(a_pos_3f,1.0);vec3 rotated_pos_node=rs*pos_node.xyz;vec3 pos_model_tile=(rotated_pos_node+vec3(translate.xy,0.0))*vec3(meter_to_tile,meter_to_tile,1.0);pos.xyz+=pos_model_tile;gl_Position=mix(u_matrix*pos,AWAY,hidden);
#else
gl_Position=u_matrix*vec4(a_pos_3f,1);
#endif
v_depth=gl_Position.z/gl_Position.w;}`),stars:Ya(`in highp vec2 v_uv;in mediump float v_intensity;float shapeCircle(in vec2 uv)
{float beginFade=0.6;float lengthFromCenter=length(v_uv);return 1.0-clamp((lengthFromCenter-beginFade)/(1.0-beginFade),0.0,1.0);}void main() {float alpha=shapeCircle(v_uv);vec3 color=vec3(1.0,1.0,1.0);alpha*=v_intensity;glFragColor=vec4(color*alpha,alpha);HANDLE_WIREFRAME_DEBUG;}`,`
in vec3 a_pos_3f;in vec2 a_uv;in float a_size_scale;in float a_fade_opacity;uniform mat4 u_matrix;uniform vec3 u_up;uniform vec3 u_right;uniform float u_intensity_multiplier;out highp vec2 v_uv;out mediump float v_intensity;void main() {v_uv=a_uv;v_intensity=a_fade_opacity*u_intensity_multiplier;vec3 pos=a_pos_3f;pos+=a_uv.x*u_right*a_size_scale;pos+=a_uv.y*u_up*a_size_scale;gl_Position=u_matrix*vec4(pos,1.0);}`),snowParticle:Ya("in highp vec2 uv;in highp float alphaMultiplier;uniform vec4 u_particleColor;uniform vec2 u_simpleShapeParameters;void main() {float t=clamp((length(uv)-u_simpleShapeParameters.x)/(1.0-u_simpleShapeParameters.x),0.0,1.0);float alpha=1.0-pow(t,pow(10.0,u_simpleShapeParameters.y));alpha*=alphaMultiplier;alpha*=u_particleColor.a;vec3 color=u_particleColor.rgb*alpha;glFragColor=vec4(color,alpha) ;HANDLE_WIREFRAME_DEBUG;}",`
in highp vec3 a_pos_3f;in highp vec2 a_uv;in highp vec4 a_snowParticleData;in highp vec4 a_snowParticleDataHorizontalOscillation;uniform mat4 u_modelview;uniform mat4 u_projection;uniform vec3 u_cam_pos;uniform vec2 u_screenSize;uniform float u_time;uniform float u_boxSize;uniform float u_velocityConeAperture; 
uniform float u_velocity;uniform vec3 u_direction;uniform float u_horizontalOscillationRadius; 
uniform float u_horizontalOscillationRate; 
uniform float u_billboardSize;uniform vec2 u_thinningCenterPos;uniform vec3 u_thinningShape;uniform float u_thinningAffectedRatio;uniform float u_thinningParticleOffset;out highp vec2 uv;out highp float alphaMultiplier;void main() {vec3 pos=a_pos_3f;float halfBoxSize=0.5*u_boxSize;pos.xyz*=halfBoxSize;pos+=u_cam_pos;float velocityConeApertureRad=radians(u_velocityConeAperture*0.5);float coneAnglePichRad=velocityConeApertureRad*a_snowParticleData.z;float coneAngleHeadingRad=a_snowParticleData.w*radians(360.0);vec3 localZ=normalize(u_direction);vec3 localX=normalize(cross(localZ,vec3(1,0,0)));vec3 localY=normalize(cross(localZ,localX));vec3 direction;direction.x=cos(coneAngleHeadingRad)*sin(coneAnglePichRad);direction.y=sin(coneAngleHeadingRad)*sin(coneAnglePichRad);direction.z=cos(coneAnglePichRad);direction=normalize(direction);vec3 simPosLocal=vec3(0,0,0);float velocityScale=(1.0+3.0*a_snowParticleData.y)*u_velocity;simPosLocal+=direction*velocityScale*u_time;float horizontalOscillationRadius=u_horizontalOscillationRadius*a_snowParticleDataHorizontalOscillation.x;float horizontalOscillationAngle=u_horizontalOscillationRate*u_time*(-1.0+2.0*a_snowParticleDataHorizontalOscillation.y);simPosLocal.xy+=horizontalOscillationRadius*vec2(cos(horizontalOscillationAngle),sin(horizontalOscillationAngle));vec3 simPos=localX*simPosLocal.x+
localY*simPosLocal.y+localZ*simPosLocal.z;pos+=simPos;pos=fract((pos+vec3(halfBoxSize))/vec3(u_boxSize))*u_boxSize-vec3(halfBoxSize);float clipZ=-u_cam_pos.z+pos.z;vec4 posView=u_modelview*vec4(pos,1.0);float size=u_billboardSize;alphaMultiplier=1.0;vec4 posScreen=u_projection*posView;posScreen/=posScreen.w;posScreen.xy=vec2(0.5)+posScreen.xy*0.5;posScreen.xy*=u_screenSize;vec2 thinningCenterPos=u_thinningCenterPos.xy;thinningCenterPos.y=u_screenSize.y-thinningCenterPos.y;float screenDist=length((thinningCenterPos-posScreen.xy)/(0.5*u_screenSize));screenDist+=a_snowParticleData.x*u_thinningParticleOffset;float scaleFactorMode=0.0;float thinningShapeDist=u_thinningShape.x+u_thinningShape.y;if (screenDist < thinningShapeDist) {float thinningFadeRatio=clamp((screenDist-u_thinningShape.x)/u_thinningShape.y,0.0,1.0);thinningFadeRatio=pow(thinningFadeRatio,u_thinningShape.z);if (a_snowParticleData.x < u_thinningAffectedRatio) {scaleFactorMode=1.0-thinningFadeRatio;alphaMultiplier=thinningFadeRatio;}}vec4 posScreen1=u_projection*vec4(posView.x-size,posView.yzw);posScreen1/=posScreen1.w;vec4 posScreen2=u_projection*vec4(posView.x+size,posView.yzw);posScreen2/=posScreen2.w;posScreen1.xy=vec2(0.5)+posScreen1.xy*0.5;posScreen1.xy*=u_screenSize;posScreen2.xy=vec2(0.5)+posScreen2.xy*0.5;posScreen2.xy*=u_screenSize;float screenLength=length(posScreen1.xy-posScreen2.xy);float screenEpsilon=3.0;float scaleFactor=1.0;if (screenLength < screenEpsilon) {scaleFactor=screenEpsilon/max(screenLength,0.01);scaleFactor=mix(scaleFactor,1.0,scaleFactorMode);}float screenEpsilon2=15.0;if (screenLength > screenEpsilon2) {scaleFactor=screenEpsilon2/max(screenLength,0.01);}size*=scaleFactor;vec2 right=size*vec2(1,0);vec2 up=size*vec2(0,1);posView.xy+=right*a_uv.x;posView.xy+=up*a_uv.y;uv=a_uv;gl_Position=u_projection*posView;}`),rainParticle:Ya("in highp vec2 uv;in highp float particleRandomValue;uniform sampler2D u_texScreen;uniform float u_distortionStrength;uniform vec4 u_color;uniform vec2 u_thinningCenterPos;uniform vec3 u_thinningShape;uniform float u_thinningAffectedRatio;uniform float u_thinningParticleOffset;uniform float u_shapeDirectionalPower;uniform float u_mode;void main() {vec2 st=uv*0.5+vec2(0.5);vec2 uvm=uv;uvm.y=-1.0+2.0*pow(st.y,u_shapeDirectionalPower);float shape=clamp(1.0-length(uvm),0.0,1.0);float alpha=abs(shape)*u_color.a;vec2 screenSize=vec2(textureSize(u_texScreen,0));vec2 thinningCenterPos=u_thinningCenterPos.xy;thinningCenterPos.y=screenSize.y-thinningCenterPos.y;float screenDist=length((thinningCenterPos-gl_FragCoord.xy)/(0.5*screenSize));screenDist+=(0.5+0.5*particleRandomValue)*u_thinningParticleOffset;float thinningShapeDist=u_thinningShape.x+u_thinningShape.y;float thinningAlpha=1.0;if (screenDist < thinningShapeDist) {float thinningFadeRatio=clamp((screenDist-u_thinningShape.x)/u_thinningShape.y,0.0,1.0);thinningFadeRatio=pow(thinningFadeRatio,u_thinningShape.z);thinningAlpha*=thinningFadeRatio;}vec2 offsetXY=normalize(uvm)*abs(shape);vec2 stScreen=(gl_FragCoord.xy+offsetXY*u_distortionStrength*thinningAlpha)/screenSize;vec3 colorScreen=texture(u_texScreen,stScreen).rgb;alpha*=thinningAlpha;glFragColor=mix(vec4(colorScreen,1.0),vec4(u_color.rgb*alpha,alpha),u_mode);HANDLE_WIREFRAME_DEBUG;}",`
in highp vec3 a_pos_3f;in highp vec2 a_uv;in highp vec4 a_rainParticleData;uniform mat4 u_modelview;uniform mat4 u_projection;uniform vec3 u_cam_pos;uniform float u_time;uniform float u_boxSize;uniform float u_velocityConeAperture; 
uniform float u_velocity; 
uniform vec2 u_rainDropletSize;uniform vec3 u_rainDirection;out highp vec2 uv;out highp float particleRandomValue;void main() {vec3 pos=a_pos_3f;float halfBoxSize=0.5*u_boxSize;pos*=halfBoxSize; 
pos+=u_cam_pos;float velocityConeApertureRad=radians(u_velocityConeAperture*0.5);float coneAnglePichRad=velocityConeApertureRad*a_rainParticleData.z;float coneAngleHeadingRad=a_rainParticleData.w*radians(360.0);vec3 localZ=normalize(u_rainDirection);vec3 localX=normalize(cross(localZ,vec3(1,0,0)));vec3 localY=normalize(cross(localZ,localX));vec3 directionLocal;directionLocal.x=cos(coneAngleHeadingRad)*sin(coneAnglePichRad);directionLocal.y=sin(coneAngleHeadingRad)*sin(coneAnglePichRad);directionLocal.z=cos(coneAnglePichRad);directionLocal=normalize(directionLocal);vec3 directionWorld=localX*directionLocal.x+localY*directionLocal.y+localZ*directionLocal.z;float velocityScale=(1.0+3.0*a_rainParticleData.y)*u_velocity;vec3 simPosLocal=vec3(0,0,0);simPosLocal+=directionLocal*velocityScale*u_time;vec3 simPos=localX*simPosLocal.x+
localY*simPosLocal.y+localZ*simPosLocal.z;pos+=simPos;pos=fract((pos+vec3(halfBoxSize))/vec3(u_boxSize))*u_boxSize-vec3(halfBoxSize);vec4 posView=u_modelview*vec4(pos,1.0);vec3 directionView=normalize((u_modelview*vec4(directionWorld,0.0)).xyz);vec3 side=cross(directionView,normalize(posView.xyz));posView.xyz+=side*a_uv.x*u_rainDropletSize.x;posView.xyz+=directionView*a_uv.y*u_rainDropletSize.y;uv=a_uv;particleRandomValue=a_rainParticleData.x;gl_Position=u_projection*posView;}`),vignette:Ya("uniform vec3 u_vignetteShape;uniform vec4 u_vignetteColor;in vec2 st;void main() {float screenDist=length(st);float alpha=clamp((screenDist-u_vignetteShape.x)/u_vignetteShape.y,0.0,1.0);alpha=pow(alpha,u_vignetteShape.z)*u_vignetteColor.a;vec3 color=u_vignetteColor.rgb;glFragColor=vec4(color*alpha,alpha) ;}","in vec2 a_pos_2f;out vec2 st;void main() {st=a_pos_2f;gl_Position=vec4(a_pos_2f,0,1);}"),occlusion:Ya("uniform vec4 u_color;void main() {glFragColor=u_color;}",`#include "_prelude_terrain.vertex.glsl"
in highp vec2 a_offset_xy;uniform highp vec3 u_anchorPos;uniform mat4 u_matrix;uniform vec2 u_screenSizePx;uniform vec2 u_occluderSizePx;void main() {vec3 world_pos=u_anchorPos;
#ifdef TERRAIN
float e=elevation(world_pos.xy);world_pos.z+=e;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1.0);projected_point.xy+=projected_point.w*a_offset_xy*0.5*u_occluderSizePx/u_screenSizePx;gl_Position=projected_point;}`)};function ec(m,r){const l=m.replace(/\s*\/\/[^\n]*\n/g,`
`).split(`
`);for(let p of l)if(p=p.trim(),p[0]==="#"&&p.includes("if")&&!p.includes("endif")){p=p.replace("#","").replace(/ifdef|ifndef|elif|if/g,"").replace(/!|defined|\(|\)|\|\||&&/g,"").replace(/\s+/g," ").trim();const _=p.split(" ");for(const x of _)r.includes(x)||r.push(x)}}function Ya(m,r){const l=/#include\s+"([^"]+)"/g,p=/#pragma mapbox: ([\w\-]+) ([\w]+) ([\w]+) ([\w]+)/g;let _=r.match(/(attribute(\S*)|(^\s*|;)in) (highp |mediump |lowp )?([\w]+) ([\w]+)/gm);_&&(_=_.map(V=>{const U=V.split(" ");return U[U.length-1]}),_=[...new Set(_)]);const x={},E=[],R=[];if(m=m.replace(l,(V,U)=>(R.push(U),"")),(r=r.replace(l,(V,U)=>(E.push(U),""))).includes("flat out"))return void console.error('The usage of "flat" qualifier is disallowed, see: https://bugs.webkit.org/show_bug.cgi?id=268071');let B=[...zl];ec(m,B),ec(r,B);for(const V of[...E,...R])Vl[V]||console.error(`Undefined include: ${V}`),Ql[V]||(Ql[V]=[],ec(Vl[V],Ql[V])),B=[...B,...Ql[V]];return{fragmentSource:m=m.replace(p,(V,U,J,Q,le)=>(x[le]=!0,U==="define"?`
#ifndef HAS_UNIFORM_u_${le}
in ${J} ${Q} ${le};
#else
uniform ${J} ${Q} u_${le};
#endif
`:U==="initialize"?`
#ifdef HAS_UNIFORM_u_${le}
    ${J} ${Q} ${le} = u_${le};
#endif
`:U==="define-attribute"?`
#ifdef HAS_ATTRIBUTE_a_${le}
    in ${J} ${Q} ${le};
#endif
`:U==="initialize-attribute"?"":void 0)),vertexSource:r=r.replace(p,(V,U,J,Q,le)=>{const Ee=Q==="float"?"vec2":Q,be=le.match(/color/)?"color":Ee;return U==="define-attribute-vertex-shader-only"?`
#ifdef HAS_ATTRIBUTE_a_${le}
in ${J} ${Q} a_${le};
#endif
`:x[le]?U==="define"?`
#ifndef HAS_UNIFORM_u_${le}
uniform lowp float u_${le}_t;
in ${J} ${Ee} a_${le};
out ${J} ${Q} ${le};
#else
uniform ${J} ${Q} u_${le};
#endif
`:U==="initialize"?be==="vec4"?`
#ifndef HAS_UNIFORM_u_${le}
    ${le} = a_${le};
#else
    ${J} ${Q} ${le} = u_${le};
#endif
`:`
#ifndef HAS_UNIFORM_u_${le}
    ${le} = unpack_mix_${be}(a_${le}, u_${le}_t);
#else
    ${J} ${Q} ${le} = u_${le};
#endif
`:U==="define-attribute"?`
#ifdef HAS_ATTRIBUTE_a_${le}
    in ${J} ${Q} a_${le};
    out ${J} ${Q} ${le};
#endif
`:U==="initialize-attribute"?`
#ifdef HAS_ATTRIBUTE_a_${le}
    ${le} = a_${le};
#endif
`:void 0:U==="define"?`
#ifndef HAS_UNIFORM_u_${le}
uniform lowp float u_${le}_t;
in ${J} ${Ee} a_${le};
#else
uniform ${J} ${Q} u_${le};
#endif
`:U==="define-instanced"?be==="mat4"?`
#ifdef INSTANCED_ARRAYS
in vec4 a_${le}0;
in vec4 a_${le}1;
in vec4 a_${le}2;
in vec4 a_${le}3;
#else
uniform ${J} ${Q} u_${le};
#endif
`:`
#ifdef INSTANCED_ARRAYS
in ${J} ${Ee} a_${le};
#else
uniform ${J} ${Q} u_${le};
#endif
`:U==="initialize-attribute-custom"?`
#ifdef HAS_ATTRIBUTE_a_${le}
    ${J} ${Q} ${le} = a_${le};
#endif
`:be==="vec4"?`
#ifndef HAS_UNIFORM_u_${le}
    ${J} ${Q} ${le} = a_${le};
#else
    ${J} ${Q} ${le} = u_${le};
#endif
`:`
#ifndef HAS_UNIFORM_u_${le}
    ${J} ${Q} ${le} = unpack_mix_${be}(a_${le}, u_${le}_t);
#else
    ${J} ${Q} ${le} = u_${le};
#endif
`}),staticAttributes:_,usedDefines:B,vertexIncludes:E,fragmentIncludes:R}}class sp{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null}bind(r,l,p,_,x,E,R,B){this.context=r;let V=this.boundPaintVertexBuffers.length!==_.length;for(let J=0;!V&&J<_.length;J++)this.boundPaintVertexBuffers[J]!==_[J]&&(V=!0);let U=this.boundDynamicVertexBuffers.length!==R.length;for(let J=0;!U&&J<R.length;J++)this.boundDynamicVertexBuffers[J]!==R[J]&&(U=!0);if(!this.vao||this.boundProgram!==l||this.boundLayoutVertexBuffer!==p||V||U||this.boundIndexBuffer!==x||this.boundVertexOffset!==E)this.freshBind(l,p,_,x,E,R,B);else{r.bindVertexArrayOES.set(this.vao);for(const J of R)J&&(J.bind(),B&&J.instanceCount&&J.setVertexAttribDivisor(r.gl,l,B));x&&x.dynamicDraw&&x.bind()}}freshBind(r,l,p,_,x,E,R){const B=r.numAttributes,V=this.context,U=V.gl;this.vao&&this.destroy(),this.vao=V.gl.createVertexArray(),V.bindVertexArrayOES.set(this.vao),this.boundProgram=r,this.boundLayoutVertexBuffer=l,this.boundPaintVertexBuffers=p,this.boundIndexBuffer=_,this.boundVertexOffset=x,this.boundDynamicVertexBuffers=E,l.enableAttributes(U,r),l.bind(),l.setVertexAttribPointers(U,r,x);for(const J of p)J.enableAttributes(U,r),J.bind(),J.setVertexAttribPointers(U,r,x);for(const J of E)J&&(J.enableAttributes(U,r),J.bind(),J.setVertexAttribPointers(U,r,x),R&&J.instanceCount&&J.setVertexAttribDivisor(U,r,R));_&&_.bind(),V.currentNumAttributes=B}destroy(){this.vao&&(this.context.gl.deleteVertexArray(this.vao),this.vao=null)}}function mu(m,r){const l=Math.pow(2,r.canonical.z),p=r.canonical.y;return[new c.aa(0,p/l).toLngLat().lat,new c.aa(0,(p+1)/l).toLngLat().lat]}function Jh(m,r,l,p,_,x,E){const R=m.context,B=R.gl,V=l.hillshadeFBO;if(!V)return;m.prepareDrawTile();const U=m.isTileAffectedByFog(r),J=m.getOrCreateProgram("hillshade",{overrideFog:U});R.activeTexture.set(B.TEXTURE0),B.bindTexture(B.TEXTURE_2D,V.colorAttachment.get());const Q=((Ae,Pe,Qe,xt)=>{const gt=Qe.paint.get("hillshade-shadow-color"),Bt=Qe.paint.get("hillshade-shadow-color-use-theme").constantOr("default")==="none",Rt=Qe.paint.get("hillshade-highlight-color"),Dt=Qe.paint.get("hillshade-highlight-color-use-theme").constantOr("default")==="none",Pt=Qe.paint.get("hillshade-accent-color"),qt=Qe.paint.get("hillshade-accent-color-use-theme").constantOr("default")==="none",mn=Qe.paint.get("hillshade-emissive-strength");let nr=c.ai(Qe.paint.get("hillshade-illumination-direction"));if(Qe.paint.get("hillshade-illumination-anchor")==="viewport")nr-=Ae.transform.angle;else if(Ae.style&&Ae.style.enable3dLights()&&Ae.style.directionalLight){const Pr=Ae.style.directionalLight.properties.get("direction"),Er=c.cb(Pr.x,Pr.y,Pr.z);nr=c.ai(Er[1])}const Wn=!Ae.options.moving;return{u_matrix:xt||Ae.transform.calculateProjMatrix(Pe.tileID.toUnwrapped(),Wn),u_image:0,u_latrange:mu(0,Pe.tileID),u_light:[Qe.paint.get("hillshade-exaggeration"),nr],u_shadow:gt.toRenderColor(Bt?null:Qe.lut),u_highlight:Rt.toRenderColor(Dt?null:Qe.lut),u_emissive_strength:mn,u_accent:Pt.toRenderColor(qt?null:Qe.lut)}})(m,l,p,m.terrain?r.projMatrix:null);m.uploadCommonUniforms(R,J,r.toUnwrapped());const{tileBoundsBuffer:le,tileBoundsIndexBuffer:Ee,tileBoundsSegments:be}=m.getTileBoundsBuffers(l);J.draw(m,B.TRIANGLES,_,x,E,qo.disabled,Q,p.id,le,Ee,be)}function Pd(m,r,l){if(!r.needsDEMTextureUpload)return;const p=m.context,_=p.gl;p.pixelStoreUnpackPremultiplyAlpha.set(!1),r.demTexture=r.demTexture||m.getTileTexture(l.stride);const x=l.getPixels();r.demTexture?r.demTexture.update(x,{premultiply:!1}):r.demTexture=new c.T(p,x,_.R32F,{premultiply:!1}),r.needsDEMTextureUpload=!1}function cd(m,r,l){const p=m.context,_=p.gl;if(!r.dem)return;const x=r.dem;if(p.activeTexture.set(_.TEXTURE1),Pd(m,r,x),!r.demTexture)return;r.demTexture.bind(_.NEAREST,_.CLAMP_TO_EDGE);const E=x.dim;p.activeTexture.set(_.TEXTURE0);let R=r.hillshadeFBO;if(!R){const Q=new c.T(p,{width:E,height:E,data:null},_.RGBA8);Q.bind(_.LINEAR,_.CLAMP_TO_EDGE),R=r.hillshadeFBO=p.createFramebuffer(E,E,!0,"renderbuffer"),R.colorAttachment.set(Q.texture)}p.bindFramebuffer.set(R.framebuffer),p.viewport.set([0,0,E,E]);const{tileBoundsBuffer:B,tileBoundsIndexBuffer:V,tileBoundsSegments:U}=m.getMercatorTileBoundsBuffers(),J=[];m.linearFloatFilteringSupported()&&J.push("TERRAIN_DEM_FLOAT_FORMAT"),m.getOrCreateProgram("hillshadePrepare",{defines:J}).draw(m,_.TRIANGLES,To.disabled,Uo.disabled,ra.unblended,qo.disabled,((Q,le)=>{const Ee=le.stride,be=c.ab.mat4.create();return c.ab.mat4.ortho(be,0,c.ag,-c.ag,0,0,1),c.ab.mat4.translate(be,be,[0,-c.ag,0]),{u_matrix:be,u_image:1,u_dimension:[Ee,Ee],u_zoom:Q.overscaledZ}})(r.tileID,x),l.id,B,V,U),r.needsHillshadePrepare=!1}class Hs{constructor(r){this.gl=r.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(r){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Vu extends Hs{getDefault(){return c.aj.transparent}set(r){const l=this.current;(r.r!==l.r||r.g!==l.g||r.b!==l.b||r.a!==l.a||this.dirty)&&(this.gl.clearColor(r.r,r.g,r.b,r.a),this.current=r,this.dirty=!1)}}class Xf extends Hs{getDefault(){return 1}set(r){(r!==this.current||this.dirty)&&(this.gl.clearDepth(r),this.current=r,this.dirty=!1)}}class Od extends Hs{getDefault(){return 0}set(r){(r!==this.current||this.dirty)&&(this.gl.clearStencil(r),this.current=r,this.dirty=!1)}}class of extends Hs{getDefault(){return[!0,!0,!0,!0]}set(r){const l=this.current;(r[0]!==l[0]||r[1]!==l[1]||r[2]!==l[2]||r[3]!==l[3]||this.dirty)&&(this.gl.colorMask(r[0],r[1],r[2],r[3]),this.current=r,this.dirty=!1)}}class af extends Hs{getDefault(){return!0}set(r){(r!==this.current||this.dirty)&&(this.gl.depthMask(r),this.current=r,this.dirty=!1)}}class sf extends Hs{getDefault(){return 255}set(r){(r!==this.current||this.dirty)&&(this.gl.stencilMask(r),this.current=r,this.dirty=!1)}}class Rd extends Hs{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(r){const l=this.current;(r.func!==l.func||r.ref!==l.ref||r.mask!==l.mask||this.dirty)&&(this.gl.stencilFunc(r.func,r.ref,r.mask),this.current=r,this.dirty=!1)}}class ud extends Hs{getDefault(){const r=this.gl;return[r.KEEP,r.KEEP,r.KEEP]}set(r){const l=this.current;(r[0]!==l[0]||r[1]!==l[1]||r[2]!==l[2]||this.dirty)&&(this.gl.stencilOp(r[0],r[1],r[2]),this.current=r,this.dirty=!1)}}class $d extends Hs{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;r?l.enable(l.STENCIL_TEST):l.disable(l.STENCIL_TEST),this.current=r,this.dirty=!1}}class Yf extends Hs{getDefault(){return[0,1]}set(r){const l=this.current;(r[0]!==l[0]||r[1]!==l[1]||this.dirty)&&(this.gl.depthRange(r[0],r[1]),this.current=r,this.dirty=!1)}}class Ul extends Hs{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;r?l.enable(l.DEPTH_TEST):l.disable(l.DEPTH_TEST),this.current=r,this.dirty=!1}}class qf extends Hs{getDefault(){return this.gl.LESS}set(r){(r!==this.current||this.dirty)&&(this.gl.depthFunc(r),this.current=r,this.dirty=!1)}}class Ad extends Hs{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;r?l.enable(l.BLEND):l.disable(l.BLEND),this.current=r,this.dirty=!1}}class Jf extends Hs{getDefault(){const r=this.gl;return[r.ONE,r.ZERO,r.ONE,r.ZERO]}set(r){const l=this.current;(r[0]!==l[0]||r[1]!==l[1]||r[2]!==l[2]||r[3]!==l[3]||this.dirty)&&(this.gl.blendFuncSeparate(r[0],r[1],r[2],r[3]),this.current=r,this.dirty=!1)}}class Qf extends Hs{getDefault(){return c.aj.transparent}set(r){const l=this.current;(r.r!==l.r||r.g!==l.g||r.b!==l.b||r.a!==l.a||this.dirty)&&(this.gl.blendColor(r.r,r.g,r.b,r.a),this.current=r,this.dirty=!1)}}class eh extends Hs{getDefault(){return this.gl.FUNC_ADD}set(r){(r!==this.current||this.dirty)&&(this.gl.blendEquationSeparate(r,r),this.current=r,this.dirty=!1)}}class th extends Hs{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;r?l.enable(l.CULL_FACE):l.disable(l.CULL_FACE),this.current=r,this.dirty=!1}}class nh extends Hs{getDefault(){return this.gl.BACK}set(r){(r!==this.current||this.dirty)&&(this.gl.cullFace(r),this.current=r,this.dirty=!1)}}class Mu extends Hs{getDefault(){return this.gl.CCW}set(r){(r!==this.current||this.dirty)&&(this.gl.frontFace(r),this.current=r,this.dirty=!1)}}let Dd=class extends Hs{getDefault(){return null}set(m){(m!==this.current||this.dirty)&&(this.gl.useProgram(m),this.current=m,this.dirty=!1)}};class lp extends Hs{getDefault(){return this.gl.TEXTURE0}set(r){(r!==this.current||this.dirty)&&(this.gl.activeTexture(r),this.current=r,this.dirty=!1)}}class rh extends Hs{getDefault(){const r=this.gl;return[0,0,r.drawingBufferWidth,r.drawingBufferHeight]}set(r){const l=this.current;(r[0]!==l[0]||r[1]!==l[1]||r[2]!==l[2]||r[3]!==l[3]||this.dirty)&&(this.gl.viewport(r[0],r[1],r[2],r[3]),this.current=r,this.dirty=!1)}}class Hu extends Hs{getDefault(){return null}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;l.bindFramebuffer(l.FRAMEBUFFER,r),this.current=r,this.dirty=!1}}class ih extends Hs{getDefault(){return null}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;l.bindRenderbuffer(l.RENDERBUFFER,r),this.current=r,this.dirty=!1}}class cp extends Hs{getDefault(){return null}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;l.bindTexture(l.TEXTURE_2D,r),this.current=r,this.dirty=!1}}class up extends Hs{getDefault(){return null}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;l.bindBuffer(l.ARRAY_BUFFER,r),this.current=r,this.dirty=!1}}class dp extends Hs{getDefault(){return null}set(r){const l=this.gl;l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,r),this.current=r,this.dirty=!1}}class oh extends Hs{getDefault(){return null}set(r){this.gl&&(r!==this.current||this.dirty)&&(this.gl.bindVertexArray(r),this.current=r,this.dirty=!1)}}class Qh extends Hs{getDefault(){return 4}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;l.pixelStorei(l.UNPACK_ALIGNMENT,r),this.current=r,this.dirty=!1}}class ah extends Hs{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;l.pixelStorei(l.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r),this.current=r,this.dirty=!1}}class sh extends Hs{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;l.pixelStorei(l.UNPACK_FLIP_Y_WEBGL,r),this.current=r,this.dirty=!1}}class pu extends Hs{constructor(r,l){super(r),this.context=r,this.parent=l}getDefault(){return null}}class gn extends pu{setDirty(){this.dirty=!0}set(r){if(r===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const l=this.gl;l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,r,0),this.current=r,this.dirty=!1}}class Tr extends pu{attachment(){return this.gl.DEPTH_ATTACHMENT}set(r){if(r===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const l=this.gl;l.framebufferRenderbuffer(l.FRAMEBUFFER,this.attachment(),l.RENDERBUFFER,r),this.current=r,this.dirty=!1}}class Wi extends pu{attachment(){return this.gl.DEPTH_ATTACHMENT}set(r){if(r===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const l=this.gl;l.framebufferTexture2D(l.FRAMEBUFFER,this.attachment(),l.TEXTURE_2D,r,0),this.current=r,this.dirty=!1}}class ha extends Tr{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}const el=(m,r,l)=>({u_matrix:m,u_image0:0,u_skirt_height:r,u_ground_shadow_factor:l}),os=(m,r,l,p,_,x,E,R,B,V,U,J,Q,le,Ee,be)=>({u_proj_matrix:Float32Array.from(m),u_globe_matrix:r,u_normalize_matrix:Float32Array.from(p),u_merc_matrix:l,u_zoom_transition:_,u_merc_center:x,u_image0:0,u_frustum_tl:E,u_frustum_tr:R,u_frustum_br:B,u_frustum_bl:V,u_globe_pos:U,u_globe_radius:J,u_viewport:Q,u_grid_matrix:be?Float32Array.from(be):new Float32Array(9),u_skirt_height:le,u_far_z_cutoff:Ee});function xl(m,r){return m!=null&&r!=null&&!(!m.hasData()||!r.hasData())&&m.demTexture!=null&&r.demTexture!=null&&m.tileID.key!==r.tileID.key}const Us=new class{constructor(){this.operations={}}newMorphing(m,r,l,p,_){if(m in this.operations){const x=this.operations[m];x.to.tileID.key!==l.tileID.key&&(x.queued=l)}else this.operations[m]={startTime:p,phase:0,duration:_,from:r,to:l,queued:null}}getMorphValuesForProxy(m){if(!(m in this.operations))return null;const r=this.operations[m];return{from:r.from,to:r.to,phase:r.phase}}update(m){for(const r in this.operations){const l=this.operations[r];for(l.phase=(m-l.startTime)/l.duration;l.phase>=1||!this._validOp(l);)if(!this._nextOp(l,m)){delete this.operations[r];break}}}_nextOp(m,r){return!!m.queued&&(m.from=m.to,m.to=m.queued,m.queued=null,m.phase=0,m.startTime=r,!0)}_validOp(m){return m.from.hasData()&&m.to.hasData()}},tc={0:null,1:"TERRAIN_VERTEX_MORPHING"};function tl(m,r,l){if(r===0)return 0;const p=r<1&&l===514?.25/r:1;return 6*Math.pow(1.5,22-m)*Math.max(r,1)*p}function Zc(m,r){const l=1<<m.z;return!r&&(m.x===0||m.x===l-1)||m.y===0||m.y===l-1}const _c=m=>({u_matrix:m});function Pl(m,r,l,p,_){if(_>0){const x=c.q.now(),E=(x-m.timeAdded)/_,R=r?(x-r.timeAdded)/_:-1,B=l.getSource(),V=p.coveringZoomLevel({tileSize:B.tileSize,roundZoom:B.roundZoom}),U=!r||Math.abs(r.tileID.overscaledZ-V)>Math.abs(m.tileID.overscaledZ-V),J=U&&m.refreshedUponExpiration?1:c.aw(U?E:1-R,0,1);return m.refreshedUponExpiration&&E>=1&&(m.refreshedUponExpiration=!1),r?{opacity:1,mix:1-J}:{opacity:J,mix:0}}return{opacity:1,mix:0}}class Jc extends so{constructor(r){const l={type:"raster-dem",maxzoom:r.transform.maxZoom},p=new c.D(c.ci(),null),_=Ut("mock-dem",l,p,r.style);super("mock-dem",_,!1),_.setEventedParent(this),this._sourceLoaded=!0}_loadTile(r,l){r.state="loaded",l(null)}}class bc extends so{constructor(r){const l=Ut("proxy",{type:"geojson",maxzoom:r.transform.maxZoom},new c.D(c.ci(),null),r.style);super("proxy",l,!1),l.setEventedParent(this),this.map=this.getSource().map=r,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(r,l,p){if(r.freezeTileCoverage)return;this.transform=r;const _=r.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((x,E)=>{if(x[E.key]="",!this._tiles[E.key]){const R=new Jo(E,this._source.tileSize*E.overscaleFactor(),r.tileZoom);R.state="loaded",this._tiles[E.key]=R}return x},{});for(const x in this._tiles)x in _||(this.freeFBO(x),this._tiles[x].unloadVectorData(),delete this._tiles[x])}freeFBO(r){const l=this.proxyCachedFBO[r];if(l!==void 0){const p=Object.values(l);this.renderCachePool.push(...p),delete this.proxyCachedFBO[r]}}deallocRenderCache(){this.renderCache.forEach(r=>r.fb.destroy()),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class Lc extends c.aG{constructor(r,l,p){super(r.overscaledZ,r.wrap,r.canonical.z,r.canonical.x,r.canonical.y),this.proxyTileKey=l,this.projMatrix=p}}class Nc extends c.cJ{constructor(r,l){super(),this._debugParams={sortTilesHiZFirst:!0,disableRenderCache:!1},r.tp.registerParameter(this._debugParams,["Terrain"],"sortTilesHiZFirst",{},()=>{this._style.map.triggerRepaint()}),r.tp.registerParameter(this._debugParams,["Terrain"],"disableRenderCache",{},()=>{this._style.map.triggerRepaint()}),r.tp.registerButton(["Terrain"],"Invalidate Render Cache",()=>{this.invalidateRenderCache=!0,this._style.map.triggerRepaint()}),this.painter=r,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[p,_,x]=function(B){const V=new c.b4,U=new c.aU,J=131;V.reserve(17161),U.reserve(33800);const Q=c.ag/128,le=c.ag+Q/2,Ee=le+Q;for(let Ae=-Q;Ae<Ee;Ae+=Q)for(let Pe=-Q;Pe<Ee;Pe+=Q){const Qe=Pe<0||Pe>le||Ae<0||Ae>le?24575:0,xt=c.aw(Math.round(Pe),0,c.ag),gt=c.aw(Math.round(Ae),0,c.ag);V.emplaceBack(xt+Qe,gt)}const be=(Ae,Pe)=>{const Qe=Pe*J+Ae;U.emplaceBack(Qe+1,Qe,Qe+J),U.emplaceBack(Qe+J,Qe+J+1,Qe+1)};for(let Ae=1;Ae<129;Ae++)for(let Pe=1;Pe<129;Pe++)be(Pe,Ae);return[0,129].forEach(Ae=>{for(let Pe=0;Pe<130;Pe++)be(Pe,Ae),be(Ae,Pe)}),[V,U,32768]}(),E=r.context;this.gridBuffer=E.createVertexBuffer(p,c.b6.members),this.gridIndexBuffer=E.createIndexBuffer(_),this.gridSegments=c.b7.simpleSegment(0,0,p.length,_.length),this.gridNoSkirtSegments=c.b7.simpleSegment(0,0,p.length,x),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new bc(l.map),this.orthoMatrix=c.ab.mat4.create(),c.ab.mat4.ortho(this.orthoMatrix,this.painter.transform.projection.name==="globe"?.015:0,c.ag,0,c.ag,0,1);const R=E.gl;this._overlapStencilMode=new Uo({func:R.GEQUAL,mask:255},0,255,R.KEEP,R.KEEP,R.REPLACE),this._previousZoom=r.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=l,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new Jc(l.map),this._pendingGroundEffectLayers=[]}set style(r){r.on("data",this._onStyleDataEvent.bind(this)),this._style=r,this._style.map.on("moveend",()=>{this._clearLineLayersFromRenderCache()})}update(r,l,p){if(r&&r.terrain){this._style!==r&&(this.style=r,this._evaluationZoom=void 0);const _=r.terrain.properties,x=r.terrain.drapeRenderMode===0,E=r.terrain.isZoomDependent();this._previousUpdateTimestamp=this.enabled?this._updateTimestamp:void 0,this._updateTimestamp=c.q.now();const R=r.terrain&&r.terrain.scope,B=_.get("source"),V=x?this._mockSourceCache:r.getSourceCache(B,R);if(!V)return void c.w(`Couldn't find terrain source "${B}".`);if(this.sourceCache=V,this._attenuationRange=r.terrain.getAttenuationRange(),this._exaggeration=E?this.calculateExaggeration(l):_.get("exaggeration"),!l.projection.requiresDraping&&E&&this._exaggeration===0)return void this._disable();this.enabled=!0;const U=()=>{this.sourceCache.used&&c.w(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.
This leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const J=this.getScaledDemTileSize();this.sourceCache.update(l,J,!0),this.resetTileLookupCache(this.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,U(),this._initializing=!0),U(),l.updateElevation(!0,p),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(l),this._emptyDEMTextureDirty=!0,this._previousZoom=l.zoom}else this._disable()}calculateExaggeration(r){if(this._attenuationRange&&r.zoom>=Math.ceil(this._attenuationRange[1]))return this._style.terrain.getExaggeration(r.zoom);const l=this._previousCameraAltitude,p=r.getFreeCameraOptions().position.z/r.pixelsPerMeter*r.worldSize;this._previousCameraAltitude=p;const _=l!=null?p-l:Number.MAX_VALUE;if(Math.abs(_)<2)return this._exaggeration;const x=r.zoom,E=this._style.terrain;if(!this._previousUpdateTimestamp)return E.getExaggeration(x);let R=x-this._previousZoom;const B=this._previousUpdateTimestamp;let V=x;this._evaluationZoom!=null&&(V=this._evaluationZoom,Math.abs(x-V)>.5&&(R=.5*(x-V+R)),R*_<0&&(V+=R)),this._evaluationZoom=V;const U=E.getExaggeration(V),J=U===E.getExaggeration(Math.max(0,V-.1));if(J&&Math.abs(U-this._exaggeration)<.01)return U;let Q=Math.min(.1,.00375*(this._updateTimestamp-B));return(J||U<.1||Math.abs(R)<1e-4)&&(Q=Math.min(.2,4*Q)),c.af(this._exaggeration,U,Q)}resetTileLookupCache(r){this._findCoveringTileCache[r]={}}attenuationRange(){return this._attenuationRange}getDemUpscale(){return this.proxySourceCache.getSource().tileSize/128}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_onStyleDataEvent(r){r.coord&&r.dataType==="source"?this._clearRenderCacheForTile(r.sourceCacheId,r.coord):r.dataType==="style"&&(this.invalidateRenderCache=!0,this._evaluationZoom=void 0,this._previousUpdateTimestamp=void 0,this._previousCameraAltitude=void 0)}_disable(){if(this.enabled&&(this.enabled=!1,this._emptyDEMTextureDirty=!0,this._sharedDepthStencil=void 0,this._evaluationZoom=void 0,this._previousUpdateTimestamp=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const r in this._style._mergedSourceCaches)this._style._mergedSourceCaches[r].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this.pool.forEach(r=>r.fb.destroy()),this.pool=[],this.framebufferCopyTexture&&this.framebufferCopyTexture.destroy()}_source(){return this.enabled?this.sourceCache:null}isUsingMockSource(){return this.sourceCache===this._mockSourceCache}exaggeration(){return this.enabled?this._exaggeration:0}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const r=2*this.proxySourceCache.getSource().tileSize;return[r,r]}set useVertexMorphing(r){this._useVertexMorphing=r}updateTileBinding(r){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const l=this.proxySourceCache,p=this.painter.transform;this._initializing&&(this._initializing=p._centerAltitude===0&&this.getAtPointOrZero(c.aa.fromLngLat(p.center),-1)===-1,this._emptyDEMTextureDirty=!this._initializing);const _=this.proxyCoords=l.getIds().map(B=>{const V=l.getTileByID(B).tileID;return V.projMatrix=p.calculateProjMatrix(V.toUnwrapped()),V});(function(B,V){const U=V.transform.pointCoordinate(V.transform.getCameraPoint()),J=new c.P(U.x,U.y);B.sort((Q,le)=>{if(le.overscaledZ-Q.overscaledZ)return le.overscaledZ-Q.overscaledZ;const Ee=new c.P(Q.canonical.x+(1<<Q.canonical.z)*Q.wrap,Q.canonical.y),be=new c.P(le.canonical.x+(1<<le.canonical.z)*le.wrap,le.canonical.y),Ae=J.mult(1<<Q.canonical.z);return Ae.x-=.5,Ae.y-=.5,Ae.distSqr(Ee)-Ae.distSqr(be)})})(_,this.painter);const x=this.proxyToSource||{};this.proxyToSource={},_.forEach(B=>{this.proxyToSource[B.key]={}}),this.terrainTileForTile={};const E=this._style._mergedSourceCaches;for(const B in E){const V=E[B];if(!V.used||(V!==this.sourceCache&&this.resetTileLookupCache(V.id),this._setupProxiedCoordsForOrtho(V,r[B],x),V.usedForTerrain))continue;const U=r[B];V.getSource().reparseOverscaled&&this._assignTerrainTiles(U)}this.proxiedCoords[l.id]=_.map(B=>new Lc(B,B.key,this.orthoMatrix)),this._assignTerrainTiles(_),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(x),this.renderingToTexture=!1;const R={};this._visibleDemTiles=[];for(const B of this.proxyCoords){const V=this.terrainTileForTile[B.key];if(!V)continue;const U=V.tileID.key;U in R||(this._visibleDemTiles.push(V),R[U]=U)}}_assignTerrainTiles(r){this._initializing||r.forEach(l=>{if(this.terrainTileForTile[l.key])return;const p=this._findTileCoveringTileID(l,this.sourceCache);p&&(this.terrainTileForTile[l.key]=p)})}_prepareDEMTextures(){const r=this.painter.context,l=r.gl;for(const p in this.terrainTileForTile){const _=this.terrainTileForTile[p],x=_.dem;!x||_.demTexture&&!_.needsDEMTextureUpload||(r.activeTexture.set(l.TEXTURE1),Pd(this.painter,_,x))}}_prepareDemTileUniforms(r,l,p,_){if(!l||l.demTexture==null)return!1;const x=r.tileID.canonical,E=Math.pow(2,l.tileID.canonical.z-x.z),R=_||"";return p[`u_dem_tl${R}`]=[x.x*E%1,x.y*E%1],p[`u_dem_scale${R}`]=E,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}_getLoadedAreaMinimum(){if(!this.enabled)return 0;let r=0;const l=this._visibleDemTiles.reduce((p,_)=>{if(!_.dem)return p;const x=_.dem.tree.minimums[0];return x>0&&r++,p+x},0);return r?l/r:0}_updateEmptyDEMTexture(){const r=this.painter.context,l=r.gl;r.activeTexture.set(l.TEXTURE2);const p=this._getLoadedAreaMinimum(),_=new c.cK({width:1,height:1},new Float32Array([p]));this._emptyDEMTextureDirty=!1;let x=this._emptyDEMTexture;return x?x.update(_,{premultiply:!1}):x=this._emptyDEMTexture=new c.T(r,_,l.R32F,{premultiply:!1}),x}setupElevationDraw(r,l,p){const _=this.painter.context,x=_.gl,E={u_dem:2,u_dem_prev:4,u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_depth_range_unpack:[0,1],u_occluder_half_size:16,u_occlusion_depth_offset:-1e-4,u_exaggeration:0};E.u_exaggeration=this.exaggeration();let R=null,B=null,V=1;if(p&&p.morphing&&this._useVertexMorphing){const le=p.morphing.srcDemTile,Ee=p.morphing.dstDemTile;V=p.morphing.phase,le&&Ee&&(this._prepareDemTileUniforms(r,le,E,"_prev")&&(B=le),this._prepareDemTileUniforms(r,Ee,E)&&(R=Ee))}const U=le=>le&&le.demTexture&&this.painter.linearFloatFilteringSupported()?x.LINEAR:x.NEAREST;let J=null;var Q;if(this.enabled?B&&R?(J=R.demTexture,_.activeTexture.set(x.TEXTURE4),B.demTexture.bind(U(B),x.CLAMP_TO_EDGE),E.u_dem_lerp=V):(R=this.terrainTileForTile[r.tileID.key],J=this._prepareDemTileUniforms(r,R,E)?R.demTexture:this.emptyDEMTexture):J=this.emptyDEMTexture,_.activeTexture.set(x.TEXTURE2),J&&(E.u_dem_size=(Q=J).size[0]===1?1:Q.size[0]-2,J.bind(U(R),x.CLAMP_TO_EDGE)),this.painter.setupDepthForOcclusion(p&&p.useDepthForOcclusion,l,E),p&&p.useMeterToDem&&R){const le=(1<<R.tileID.canonical.z)*c.bH(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;E.u_meter_to_dem=le}if(p&&p.labelPlaneMatrixInv&&(E.u_label_plane_matrix_inv=p.labelPlaneMatrixInv),l.setTerrainUniformValues(_,E),this.painter.transform.projection.name==="globe"){const le=this.globeUniformValues(this.painter.transform,r.tileID.canonical,p&&p.useDenormalizedUpVectorScale);l.setGlobeUniformValues(_,le)}}globeUniformValues(r,l,p){const _=r.projection;return{u_tile_tl_up:_.upVector(l,0,0),u_tile_tr_up:_.upVector(l,c.ag,0),u_tile_br_up:_.upVector(l,c.ag,c.ag),u_tile_bl_up:_.upVector(l,0,c.ag),u_tile_up_scale:p?c.cL(1):_.upVectorScale(l,r.center.lat,r.worldSize).metersToTile}}renderToBackBuffer(r){const l=this.painter,p=this.painter.context;r.length!==0&&(p.bindFramebuffer.set(null),p.viewport.set([0,0,l.width,l.height]),l.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(_,x,E,R,B){if(_.transform.projection.name==="globe")(function(V,U,J,Q,le){const Ee=V.context,be=Ee.gl;let Ae,Pe;const Qe=V.transform,xt=c.cC(V,Ee,Qe),gt=(Pr,Er)=>{if(Pe===Er)return;const Nn=[tc[Er],"PROJECTION_GLOBE_VIEW"];xt&&Nn.push("CUSTOM_ANTIALIASING");const ar=V.isTileAffectedByFog(Pr);Ae=V.getOrCreateProgram("globeRaster",{defines:Nn,overrideFog:ar}),Pe=Er},Bt=V.colorModeForRenderPass(),Rt=new To(be.LEQUAL,To.ReadWrite,V.depthRangeFor3D);Us.update(le);const Dt=c.cD(Qe),Pt=[c.at(Qe.center.lng),c.aA(Qe.center.lat)],qt=V.globeSharedBuffers,mn=[Qe.width*c.q.devicePixelRatio,Qe.height*c.q.devicePixelRatio],nr=Float32Array.from(Qe.globeMatrix),Wn={useDenormalizedUpVectorScale:!0};{const Pr=V.transform,Er=tl(Pr.zoom,U.exaggeration(),U.sourceCache._source.tileSize);Pe=-1;const Nn=be.TRIANGLES;for(const ar of Q){const Kr=J.getTile(ar),Ln=Uo.disabled,Ar=U.prevTerrainTileForTile[ar.key],cr=U.terrainTileForTile[ar.key];xl(Ar,cr)&&Us.newMorphing(ar.key,Ar,cr,le,250),Ee.activeTexture.set(be.TEXTURE0),Kr.texture&&Kr.texture.bind(be.LINEAR,be.CLAMP_TO_EDGE);const bi=Us.getMorphValuesForProxy(ar.key),Vr=bi?1:0;bi&&c.J(Wn,{morphing:{srcDemTile:bi.from,dstDemTile:bi.to,phase:c.cB(bi.phase)}});const $r=c.cE(ar.canonical),fi=c.cF($r.getCenter().lat),Ci=c.cG(ar.canonical,$r,fi,Pr.worldSize/Pr._pixelsPerMercatorPixel),Vi=c.bb(c.cH(ar.canonical)),ao=os(Pr.expandedFarZProjMatrix,nr,Dt,Vi,c.ae(Pr.zoom),Pt,Pr.frustumCorners.TL,Pr.frustumCorners.TR,Pr.frustumCorners.BR,Pr.frustumCorners.BL,Pr.globeCenterInViewSpace,Pr.globeRadius,mn,Er,Pr._farZ,Ci);if(gt(ar,Vr),Ae&&(U.setupElevationDraw(Kr,Ae,Wn),V.uploadCommonUniforms(Ee,Ae,ar.toUnwrapped()),qt)){const[ia,Fo,Zo]=qt.getGridBuffers(fi,Er!==0);Ae.draw(V,Nn,Rt,Ln,Bt,qo.backCCW,ao,"globe_raster",ia,Fo,Zo)}}}if(qt&&(V.renderDefaultNorthPole||V.renderDefaultSouthPole)){const Pr=["GLOBE_POLES","PROJECTION_GLOBE_VIEW"];xt&&Pr.push("CUSTOM_ANTIALIASING"),Ae=V.getOrCreateProgram("globeRaster",{defines:Pr});for(const Er of Q){const{x:Nn,y:ar,z:Kr}=Er.canonical,Ln=ar===0,Ar=ar===(1<<Kr)-1,[cr,bi,Vr,$r]=qt.getPoleBuffers(Kr,!1);if($r&&(Ln||Ar)){const fi=J.getTile(Er);Ee.activeTexture.set(be.TEXTURE0),fi.texture&&fi.texture.bind(be.LINEAR,be.CLAMP_TO_EDGE);let Ci=c.cI(Kr,Nn,Qe);const Vi=c.bb(c.cH(Er.canonical)),ao=(ia,Fo)=>ia.draw(V,be.TRIANGLES,Rt,Uo.disabled,Bt,qo.disabled,os(Qe.expandedFarZProjMatrix,Ci,Ci,Vi,0,Pt,Qe.frustumCorners.TL,Qe.frustumCorners.TR,Qe.frustumCorners.BR,Qe.frustumCorners.BL,Qe.globeCenterInViewSpace,Qe.globeRadius,mn,0,Qe._farZ),"globe_pole_raster",Fo,Vr,$r);U.setupElevationDraw(fi,Ae,Wn),V.uploadCommonUniforms(Ee,Ae,Er.toUnwrapped()),Ln&&V.renderDefaultNorthPole&&ao(Ae,cr),Ar&&V.renderDefaultSouthPole&&(Ci=c.ab.mat4.scale(c.ab.mat4.create(),Ci,[1,-1,1]),ao(Ae,bi))}}}})(_,x,E,R,B);else{const V=_.context,U=V.gl;let J,Q;const le=_.shadowRenderer,Ee=Jt(_,_.longestCutoffRange),be=Bt=>{if(Q===Bt)return;const Rt=[];Rt.push(tc[Bt]),Ee.shouldRenderCutoff&&Rt.push("RENDER_CUTOFF"),le&&(Rt.push("RENDER_SHADOWS","DEPTH_TEXTURE"),le.useNormalOffset&&Rt.push("NORMAL_OFFSET")),J=_.getOrCreateProgram("terrainRaster",{defines:Rt}),Q=Bt},Ae=_.colorModeForRenderPass(),Pe=new To(U.LEQUAL,To.ReadWrite,_.depthRangeFor3D);Us.update(B);const Qe=_.transform,xt=tl(Qe.zoom,x.exaggeration(),x.sourceCache._source.tileSize);let gt=[0,0,0];if(le){const Bt=_.style.directionalLight,Rt=_.style.ambientLight;Bt&&Rt&&(gt=ki(_.style,Bt,Rt))}{Q=-1;const Bt=U.TRIANGLES,[Rt,Dt]=[x.gridIndexBuffer,x.gridSegments];for(const Pt of R){const qt=E.getTile(Pt),mn=Uo.disabled,nr=x.prevTerrainTileForTile[Pt.key],Wn=x.terrainTileForTile[Pt.key];xl(nr,Wn)&&Us.newMorphing(Pt.key,nr,Wn,B,250),V.activeTexture.set(U.TEXTURE0),qt.texture&&qt.texture.bind(U.LINEAR,U.CLAMP_TO_EDGE);const Pr=Us.getMorphValuesForProxy(Pt.key),Er=Pr?1:0;let Nn;Pr&&(Nn={morphing:{srcDemTile:Pr.from,dstDemTile:Pr.to,phase:c.cB(Pr.phase)}});const ar=el(Pt.projMatrix,Zc(Pt.canonical,Qe.renderWorldCopies)?xt/10:xt,gt);if(be(Er),!J)continue;x.setupElevationDraw(qt,J,Nn);const Kr=Pt.toUnwrapped();le&&le.setupShadows(Kr,J),_.uploadCommonUniforms(V,J,Kr,null,Ee),J.draw(_,Bt,Pe,mn,Ae,qo.backCCW,ar,"terrain_raster",x.gridBuffer,Rt,Dt)}}}}(l,this,this.proxySourceCache,r,this._updateTimestamp),this.renderingToTexture=!0,l.gpuTimingDeferredRenderEnd(),r.splice(0,r.length))}renderBatch(r){if(this._drapedRenderBatches.length===0)return r+1;this.renderingToTexture=!0;const l=this.painter,p=this.painter.context,_=this.proxySourceCache,x=this.proxiedCoords[_.id],E=this._drapedRenderBatches.shift(),R=l.style.order,B=[];let V=0;for(const U of x){const J=_.getTileByID(U.proxyTileKey),Q=_.proxyCachedFBO[U.key]?_.proxyCachedFBO[U.key][r]:void 0,le=Q!==void 0?_.renderCache[Q]:this.pool[V++],Ee=Q!==void 0;if(J.texture=le.tex,Ee&&!le.dirty){B.push(J.tileID);continue}let be;p.bindFramebuffer.set(le.fb.framebuffer),this.renderedToTile=!1,le.dirty&&(p.clear({color:c.aj.transparent,stencil:0}),le.dirty=!1);for(let Ae=E.start;Ae<=E.end;++Ae){const Pe=l.style._mergedLayers[R[Ae]];if(Pe.isHidden(l.transform.zoom))continue;const Qe=l.style.getLayerSourceCache(Pe),xt=Qe?this.proxyToSource[U.key][Qe.id]:[U];if(!xt)continue;const gt=xt;p.viewport.set([0,0,le.fb.width,le.fb.height]),be!==(Qe?Qe.id:null)&&(this._setupStencil(le,xt,Pe,Qe),be=Qe?Qe.id:null),l.renderLayer(l,Qe,Pe,gt)}if(this._drapedRenderBatches.length===0)for(const Ae of this._pendingGroundEffectLayers){const Pe=l.style._mergedLayers[R[Ae]];if(Pe.isHidden(l.transform.zoom))continue;const Qe=l.style.getLayerSourceCache(Pe),xt=Qe?this.proxyToSource[U.key][Qe.id]:[U];if(!xt)continue;const gt=xt;p.viewport.set([0,0,le.fb.width,le.fb.height]),be!==(Qe?Qe.id:null)&&(this._setupStencil(le,xt,Pe,Qe),be=Qe?Qe.id:null),l.renderLayer(l,Qe,Pe,gt)}this.renderedToTile?(le.dirty=!0,B.push(J.tileID)):Ee||--V,V===5&&(V=0,this.renderToBackBuffer(B))}return this.renderToBackBuffer(B),this.renderingToTexture=!1,p.bindFramebuffer.set(null),p.viewport.set([0,0,l.width,l.height]),E.end+1}postRender(){}isLayerOrderingCorrect(r){const l=r.order.length;let p=-1,_=l;for(let x=0;x<l;++x)this._style.isLayerDraped(r._mergedLayers[r.order[x]])?p=Math.max(p,x):_=Math.min(_,x);return _>p}getMinElevationBelowMSL(){let r=0;return this._visibleDemTiles.filter(l=>l.dem).forEach(l=>{r=Math.min(r,l.dem.tree.minimums[0])}),r===0?r:(r-30)*this._exaggeration}raycast(r,l,p){if(!this._visibleDemTiles)return null;const _=this._visibleDemTiles.filter(x=>x.dem).map(x=>{const E=x.tileID,R=1<<E.overscaledZ,{x:B,y:V}=E.canonical,U=B/R,J=(B+1)/R,Q=V/R,le=(V+1)/R;return{minx:U,miny:Q,maxx:J,maxy:le,t:x.dem.tree.raycastRoot(U,Q,J,le,r,l,p),tile:x}});_.sort((x,E)=>(x.t!==null?x.t:Number.MAX_VALUE)-(E.t!==null?E.t:Number.MAX_VALUE));for(const x of _){if(x.t==null)return null;const E=x.tile.dem.tree.raycast(x.minx,x.miny,x.maxx,x.maxy,r,l,p);if(E!=null)return E}return null}_createFBO(){const r=this.painter.context,l=r.gl,p=this.drapeBufferSize;r.activeTexture.set(l.TEXTURE0);const _=new c.T(r,{width:p[0],height:p[1],data:null},l.RGBA8);_.bind(l.LINEAR,l.CLAMP_TO_EDGE);const x=r.createFramebuffer(p[0],p[1],!0,null);return x.colorAttachment.set(_.texture),x.depthAttachment=new ha(r,x.framebuffer),this._sharedDepthStencil===void 0?(this._sharedDepthStencil=r.createRenderbuffer(r.gl.DEPTH_STENCIL,p[0],p[1]),this._stencilRef=0,x.depthAttachment.set(this._sharedDepthStencil),r.clear({stencil:0})):x.depthAttachment.set(this._sharedDepthStencil),r.extTextureFilterAnisotropic&&l.texParameterf(l.TEXTURE_2D,r.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,r.extTextureFilterAnisotropicMax),{fb:x,tex:_,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._debugParams.disableRenderCache||this._style.hasLightTransitions())return!0;for(const r in this._style._mergedSourceCaches)if(this._style._mergedSourceCaches[r].hasTransition())return!0;return this._style.order.some(r=>{const l=this._style._mergedLayers[r],p=l.isHidden(this.painter.transform.zoom);return l.type==="hillshade"||l.type==="custom"?!p&&l.shouldRedrape():!p&&l.hasTransition()})}_clearLineLayersFromRenderCache(){let r=!1;for(const p of this._style.getSources())if(p instanceof ii){r=!0;break}if(!r)return;const l={};for(let p=0;p<this._style.order.length;++p){const _=this._style._mergedLayers[this._style.order[p]],x=this._style.getLayerSourceCache(_);if(x&&!l[x.id]&&!_.isHidden(this.painter.transform.zoom)&&_.type==="line"&&_.widthExpression()instanceof c.a9){l[x.id]=!0;for(const E of this.proxyCoords){const R=this.proxyToSource[E.key][x.id];if(R)for(const B of R)this._clearRenderCacheForTile(x.id,B)}}}}_clearRasterLayersFromRenderCache(){let r=!1;for(const p in this._style._mergedSourceCaches)if(this._style._mergedSourceCaches[p]._source instanceof Ui){r=!0;break}if(!r)return;const l={};for(let p=0;p<this._style.order.length;++p){const _=this._style._mergedLayers[this._style.order[p]],x=this._style.getLayerSourceCache(_);if(!x||l[x.id]||_.isHidden(this.painter.transform.zoom)||_.type!=="raster")continue;const E=_.paint.get("raster-fade-duration");for(const R of this.proxyCoords){const B=this.proxyToSource[R.key][x.id];if(B)for(const V of B){const U=Pl(x.getTile(V),x.findLoadedParent(V,0),x,this.painter.transform,E);(U.opacity!==1||U.mix!==0)&&this._clearRenderCacheForTile(x.id,V)}}}}_setupDrapedRenderBatches(){this._style.updateDrapeFirstLayers();const r=this._style.order,l=r.length;if(l===0)return;const p=[];this._pendingGroundEffectLayers=[];let _,x=0,E=this._style._mergedLayers[r[x]];for(;!this._style.isLayerDraped(E)&&E.isHidden(this.painter.transform.zoom)&&++x<l;)E=this._style._mergedLayers[r[x]];for(;x<l;++x){const R=this._style._mergedLayers[r[x]];R.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(R)?_===void 0&&(_=x):(R.type==="fill-extrusion"&&this._pendingGroundEffectLayers.push(x),_!==void 0&&(p.push({start:_,end:x-1}),_=void 0)))}if(_!==void 0&&p.push({start:_,end:x-1}),p.length!==0){const R=p[p.length-1];this._pendingGroundEffectLayers.every(B=>B>R.end)||c.w("fill-extrusion with flood lighting and/or ground ambient occlusion should be moved to be on top of all draped layers.")}this._drapedRenderBatches=p}_setupRenderCache(r){const l=this.proxySourceCache;if(this._shouldDisableRenderCache()||this.invalidateRenderCache){if(this.invalidateRenderCache=!1,l.renderCache.length>l.renderCachePool.length){const E=Object.values(l.proxyCachedFBO);l.proxyCachedFBO={};for(let R=0;R<E.length;++R){const B=Object.values(E[R]);l.renderCachePool.push(...B)}}return}this._clearRasterLayersFromRenderCache();const p=this.proxyCoords,_=this._tilesDirty;for(let E=p.length-1;E>=0;E--){const R=p[E];if(l.getTileByID(R.key),l.proxyCachedFBO[R.key]!==void 0){const B=r[R.key],V=this.proxyToSource[R.key];let U=0;for(const J in V){const Q=V[J],le=B[J];if(!le||le.length!==Q.length||Q.some((Ee,be)=>Ee!==le[be]||_[J]&&_[J].hasOwnProperty(Ee.key))){U=-1;break}++U}for(const J in l.proxyCachedFBO[R.key])l.renderCache[l.proxyCachedFBO[R.key][J]].dirty=U<0||U!==Object.values(B).length}}const x=[...this._drapedRenderBatches];x.sort((E,R)=>R.end-R.start-(E.end-E.start));for(const E of x)for(const R of p){if(l.proxyCachedFBO[R.key])continue;let B=l.renderCachePool.pop();B===void 0&&l.renderCache.length<50&&(B=l.renderCache.length,l.renderCache.push(this._createFBO())),B!==void 0&&(l.proxyCachedFBO[R.key]={},l.proxyCachedFBO[R.key][E.start]=B,l.renderCache[B].dirty=!0)}this._tilesDirty={}}_setupStencil(r,l,p,_){if(!_||!this._sourceTilesOverlap[_.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const x=this.painter.context,E=x.gl;if(l.length<=1)return void(this._overlapStencilType=!1);let R;if(p.isTileClipped())R=l.length,this._overlapStencilMode.test={func:E.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(l[0].overscaledZ>l[l.length-1].overscaledZ))return void(this._overlapStencilType=!1);R=1,this._overlapStencilMode.test={func:E.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+R>255&&(x.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=R,this._overlapStencilMode.ref=this._stencilRef,p.isTileClipped()&&this._renderTileClippingMasks(l,this._overlapStencilMode.ref)}clipOrMaskOverlapStencilType(){return this._overlapStencilType==="Clip"||this._overlapStencilType==="Mask"}stencilModeForRTTOverlap(r){return this.renderingToTexture&&this._overlapStencilType?(this._overlapStencilType==="Clip"&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[r.key]),this._overlapStencilMode):Uo.disabled}_renderTileClippingMasks(r,l){const p=this.painter,_=this.painter.context,x=_.gl;p._tileClippingMaskIDs={},_.setColorMode(ra.disabled),_.setDepthMode(To.disabled);const E=p.getOrCreateProgram("clippingMask");for(const R of r){const B=p._tileClippingMaskIDs[R.key]=--l;E.draw(p,x.TRIANGLES,To.disabled,new Uo({func:x.ALWAYS,mask:0},B,255,x.KEEP,x.KEEP,x.REPLACE),ra.disabled,qo.disabled,_c(R.projMatrix),"$clipping",p.tileExtentBuffer,p.quadTriangleIndexBuffer,p.tileExtentSegments)}}pointCoordinate(r){const l=this.painter.transform;if(r.x<0||r.x>l.width||r.y<0||r.y>l.height)return null;const p=[r.x,r.y,1,1];c.ab.vec4.transformMat4(p,p,l.pixelMatrixInverse),c.ab.vec4.scale(p,p,1/p[3]),p[0]/=l.worldSize,p[1]/=l.worldSize;const _=l._camera.position,x=c.bH(1,l.center.lat),E=[_[0],_[1],_[2]/x,0],R=c.ab.vec3.subtract([],p.slice(0,3),E);c.ab.vec3.normalize(R,R);const B=this.raycast(E,R,this._exaggeration);return B!==null&&B?(c.ab.vec3.scaleAndAdd(E,E,R,B),E[3]=E[2],E[2]*=x,E):null}_setupProxiedCoordsForOrtho(r,l,p){if(r.getSource()instanceof c.aJ)return this._setupProxiedCoordsForImageSource(r,l,p);this._findCoveringTileCache[r.id]=this._findCoveringTileCache[r.id]||{};const _=this.proxiedCoords[r.id]=[],x=this.proxyCoords;for(let B=0;B<x.length;B++){const V=x[B],U=this._findTileCoveringTileID(V,r);if(U){const J=this._createProxiedId(V,U,p[V.key]&&p[V.key][r.id]);_.push(J),this.proxyToSource[V.key][r.id]=[J]}}let E=!1;const R=new Set;for(let B=0;B<l.length;B++){const V=r.getTile(l[B]);if(!V||!V.hasData())continue;const U=this._findTileCoveringTileID(V.tileID,this.proxySourceCache);if(U&&U.tileID.canonical.z!==V.tileID.canonical.z){const J=this.proxyToSource[U.tileID.key][r.id],Q=this._createProxiedId(U.tileID,V,p[U.tileID.key]&&p[U.tileID.key][r.id]);J?J.splice(J.length-1,0,Q):this.proxyToSource[U.tileID.key][r.id]=[Q];const le=this.proxyToSource[U.tileID.key][r.id];R.has(le)||R.add(le),_.push(Q),E=!0}}if(this._sourceTilesOverlap[r.id]=E,E&&this._debugParams.sortTilesHiZFirst)for(const B of R)B.sort((V,U)=>U.overscaledZ-V.overscaledZ)}_setupProxiedCoordsForImageSource(r,l,p){if(!r.getSource().loaded())return;const _=this.proxiedCoords[r.id]=[],x=this.proxyCoords,E=r.getSource(),R=E.tileID;if(!R)return;const B=new c.P(R.x,R.y)._div(1<<R.z),V=E.coordinates.map(c.aa.fromLngLat).reduce((J,Q)=>(J.min.x=Math.min(J.min.x,Q.x-B.x),J.min.y=Math.min(J.min.y,Q.y-B.y),J.max.x=Math.max(J.max.x,Q.x-B.x),J.max.y=Math.max(J.max.y,Q.y-B.y),J),{min:new c.P(Number.MAX_VALUE,Number.MAX_VALUE),max:new c.P(-Number.MAX_VALUE,-Number.MAX_VALUE)}),U=(J,Q)=>{const le=J.wrap+J.canonical.x/(1<<J.canonical.z),Ee=J.canonical.y/(1<<J.canonical.z),be=c.ag/(1<<J.canonical.z),Ae=Q.wrap+Q.canonical.x/(1<<Q.canonical.z),Pe=Q.canonical.y/(1<<Q.canonical.z);return le+be<Ae+V.min.x||le>Ae+V.max.x||Ee+be<Pe+V.min.y||Ee>Pe+V.max.y};for(let J=0;J<x.length;J++){const Q=x[J];for(let le=0;le<l.length;le++){const Ee=r.getTile(l[le]);if(!Ee||!Ee.hasData()||U(Q,Ee.tileID))continue;const be=this._createProxiedId(Q,Ee,p[Q.key]&&p[Q.key][r.id]),Ae=this.proxyToSource[Q.key][r.id];Ae?Ae.push(be):this.proxyToSource[Q.key][r.id]=[be],_.push(be)}}}_createProxiedId(r,l,p){let _=this.orthoMatrix;if(p){const x=p.find(E=>E.key===l.tileID.key);if(x)return x}if(l.tileID.key!==r.key){const x=r.canonical.z-l.tileID.canonical.z;let E,R,B;_=c.ab.mat4.create();const V=l.tileID.wrap-r.wrap<<r.overscaledZ;x>0?(E=c.ag>>x,R=E*((l.tileID.canonical.x<<x)-r.canonical.x+V),B=E*((l.tileID.canonical.y<<x)-r.canonical.y)):(E=c.ag<<-x,R=c.ag*(l.tileID.canonical.x-(r.canonical.x+V<<-x)),B=c.ag*(l.tileID.canonical.y-(r.canonical.y<<-x))),c.ab.mat4.ortho(_,0,E,0,E,0,1),c.ab.mat4.translate(_,_,[R,B,0])}return new Lc(l.tileID,r.key,_)}_findTileCoveringTileID(r,l){let p=l.getTile(r);if(p&&p.hasData())return p;const _=this._findCoveringTileCache[l.id],x=_[r.key];if(p=x?l.getTileByID(x):null,p&&p.hasData()||x===null)return p;let E=p?p.tileID:r,R=E.overscaledZ;const B=l.getSource().minzoom,V=[];if(!x){const J=l.getSource().maxzoom;if(r.canonical.z>=J){const Q=r.canonical.z-J;l.getSource().reparseOverscaled?(R=Math.max(r.canonical.z+2,l.transform.tileZoom),E=new c.aG(R,r.wrap,J,r.canonical.x>>Q,r.canonical.y>>Q)):Q!==0&&(R=J,E=new c.aG(R,r.wrap,J,r.canonical.x>>Q,r.canonical.y>>Q))}E.key!==r.key&&(V.push(E.key),p=l.getTile(E))}const U=J=>{V.forEach(Q=>{_[Q]=J}),V.length=0};for(R-=1;R>=B&&(!p||!p.hasData());R--){p&&U(p.tileID.key);const J=E.calculateScaledKey(R);if(p=l.getTileByID(J),p&&p.hasData())break;const Q=_[J];if(Q===null)break;Q===void 0?V.push(J):p=l.getTileByID(Q)}return U(p?p.tileID.key:null),p&&p.hasData()?p:null}findDEMTileFor(r){return this.enabled?this._findTileCoveringTileID(r,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0}_clearRenderCacheForTile(r,l){let p=this._tilesDirty[r];p||(p=this._tilesDirty[r]={}),p[l.key]=!0}}function iu(m,r,l){const p=function(R,B,V){const U=c.ab.vec3.dot(B,R),J=c.ab.vec3.dot(V,[.2126,.7152,.0722]),Q=(Ee,be,Ae)=>(1-Ae)*Ee+Ae*be,le=Q(1-.3*Math.min(J,1),1,Math.min(U+1,1));return Q(.92,1,Math.asin(c.aw(B[2],-1,1))/Math.PI+.5)*le}(m,[0,0,1],r),_=[0,0,0];c.ab.vec3.scale(_,l.slice(0,3),p);const x=[0,0,0];c.ab.vec3.scale(x,r.slice(0,3),m[2]);const E=[0,0,0];return c.ab.vec3.add(E,_,x),c.cf(E)}const ou=["fill","fillOutline","fillPattern","line","linePattern","background","backgroundPattern","hillshade","raster"],lf=["stars","rainParticle","snowParticle","fillExtrusion","fillExtrusionGroundEffect","model","symbol"];class dd{static cacheKey(r,l,p,_){let x=`${l}${_?_.cacheKey:""}`;for(const E of p)r.usedDefines.includes(E)&&(x+=`/${E}`);return x}constructor(r,l,p,_,x,E){const R=r.gl;this.program=R.createProgram(),this.configuration=_,this.name=l,this.fixedDefines=[...E];const B=_?_.getBinderAttributes():[],V=(p.staticAttributes||[]).concat(B);let U=_?_.defines():[];U=U.concat(E.map(Ae=>`#define ${Ae}`));const J=`#version 300 es
`;let Q=J+U.concat("precision mediump float;",Hl,qc.fragmentSource).join(`
`);for(const Ae of p.fragmentIncludes)Q+=`
${Vl[Ae]}`;Q+=`
${p.fragmentSource}`;let le=J+U.concat("precision highp float;",Hl,qc.vertexSource).join(`
`);for(const Ae of p.vertexIncludes)le+=`
${Vl[Ae]}`;this.forceManualRenderingForInstanceIDShaders=r.forceManualRenderingForInstanceIDShaders&&p.vertexSource.indexOf("gl_InstanceID")!==-1,this.forceManualRenderingForInstanceIDShaders&&(le+=`
uniform int u_instanceID;
`),le+=`
${p.vertexSource}`,this.forceManualRenderingForInstanceIDShaders&&(le=le.replaceAll("gl_InstanceID","u_instanceID"));const Ee=R.createShader(R.FRAGMENT_SHADER);if(R.isContextLost())return void(this.failedToCreate=!0);R.shaderSource(Ee,Q),R.compileShader(Ee),R.attachShader(this.program,Ee);const be=R.createShader(R.VERTEX_SHADER);if(R.isContextLost())this.failedToCreate=!0;else{R.shaderSource(be,le),R.compileShader(be),R.attachShader(this.program,be),this.attributes={},this.numAttributes=V.length;for(let Ae=0;Ae<this.numAttributes;Ae++)if(V[Ae]){const Pe=V[Ae].startsWith("a_")?V[Ae]:`a_${V[Ae]}`;R.bindAttribLocation(this.program,Ae,Pe),this.attributes[Pe]=Ae}R.linkProgram(this.program),R.deleteShader(be),R.deleteShader(Ee),this.fixedUniforms=x(r),this.binderUniforms=_?_.getUniforms(r):[],this.forceManualRenderingForInstanceIDShaders&&(this.instancingUniforms=(Ae=>({u_instanceID:new c.bN(Ae)}))(r)),(E.includes("TERRAIN")||l.indexOf("symbol")!==-1||l.indexOf("circle")!==-1)&&(this.terrainUniforms=(Ae=>({u_dem:new c.bN(Ae),u_dem_prev:new c.bN(Ae),u_dem_tl:new c.bK(Ae),u_dem_scale:new c.bM(Ae),u_dem_tl_prev:new c.bK(Ae),u_dem_scale_prev:new c.bM(Ae),u_dem_size:new c.bM(Ae),u_dem_lerp:new c.bM(Ae),u_exaggeration:new c.bM(Ae),u_depth:new c.bN(Ae),u_depth_size_inv:new c.bK(Ae),u_depth_range_unpack:new c.bK(Ae),u_occluder_half_size:new c.bM(Ae),u_occlusion_depth_offset:new c.bM(Ae),u_meter_to_dem:new c.bM(Ae),u_label_plane_matrix_inv:new c.bJ(Ae)}))(r)),E.includes("GLOBE")&&(this.globeUniforms=(Ae=>({u_tile_tl_up:new c.bL(Ae),u_tile_tr_up:new c.bL(Ae),u_tile_br_up:new c.bL(Ae),u_tile_bl_up:new c.bL(Ae),u_tile_up_scale:new c.bM(Ae)}))(r)),E.includes("FOG")&&(this.fogUniforms=(Ae=>({u_fog_matrix:new c.bJ(Ae),u_fog_range:new c.bK(Ae),u_fog_color:new c.ca(Ae),u_fog_horizon_blend:new c.bM(Ae),u_fog_vertical_limit:new c.bK(Ae),u_fog_temporal_offset:new c.bM(Ae),u_frustum_tl:new c.bL(Ae),u_frustum_tr:new c.bL(Ae),u_frustum_br:new c.bL(Ae),u_frustum_bl:new c.bL(Ae),u_globe_pos:new c.bL(Ae),u_globe_radius:new c.bM(Ae),u_globe_transition:new c.bM(Ae),u_is_globe:new c.bN(Ae),u_viewport:new c.bK(Ae)}))(r)),E.includes("RENDER_CUTOFF")&&(this.cutoffUniforms=(Ae=>({u_cutoff_params:new c.ca(Ae)}))(r)),E.includes("LIGHTING_3D_MODE")&&(this.lightsUniforms=(Ae=>({u_lighting_ambient_color:new c.bL(Ae),u_lighting_directional_dir:new c.bL(Ae),u_lighting_directional_color:new c.bL(Ae),u_ground_radiance:new c.bL(Ae)}))(r)),E.includes("RENDER_SHADOWS")&&(this.shadowUniforms=(Ae=>({u_light_matrix_0:new c.bJ(Ae),u_light_matrix_1:new c.bJ(Ae),u_fade_range:new c.bK(Ae),u_shadow_normal_offset:new c.bL(Ae),u_shadow_intensity:new c.bM(Ae),u_shadow_texel_size:new c.bM(Ae),u_shadow_map_resolution:new c.bM(Ae),u_shadow_direction:new c.bL(Ae),u_shadow_bias:new c.bL(Ae),u_shadowmap_0:new c.bN(Ae),u_shadowmap_1:new c.bN(Ae)}))(r))}}setTerrainUniformValues(r,l){if(!this.terrainUniforms)return;const p=this.terrainUniforms;if(!this.failedToCreate){r.program.set(this.program);for(const _ in l)p[_]&&p[_].set(this.program,_,l[_])}}setGlobeUniformValues(r,l){if(!this.globeUniforms)return;const p=this.globeUniforms;if(!this.failedToCreate){r.program.set(this.program);for(const _ in l)p[_]&&p[_].set(this.program,_,l[_])}}setFogUniformValues(r,l){if(!this.fogUniforms)return;const p=this.fogUniforms;if(!this.failedToCreate){r.program.set(this.program);for(const _ in l)p[_].set(this.program,_,l[_])}}setCutoffUniformValues(r,l){if(!this.cutoffUniforms)return;const p=this.cutoffUniforms;if(!this.failedToCreate){r.program.set(this.program);for(const _ in l)p[_].set(this.program,_,l[_])}}setLightsUniformValues(r,l){if(!this.lightsUniforms)return;const p=this.lightsUniforms;if(!this.failedToCreate){r.program.set(this.program);for(const _ in l)p[_].set(this.program,_,l[_])}}setShadowUniformValues(r,l){if(this.failedToCreate||!this.shadowUniforms)return;const p=this.shadowUniforms;r.program.set(this.program);for(const _ in l)p[_].set(this.program,_,l[_])}_drawDebugWireframe(r,l,p,_,x,E,R,B,V,U){const J=r.options.wireframe;if(J.terrain===!1&&J.layers2D===!1&&J.layers3D===!1)return;const Q=r.context;if(!(!(!J.terrain||this.name!=="terrainRaster"&&this.name!=="globeRaster")||!(!J.layers2D||r._terrain&&r._terrain.renderingToTexture||!ou.includes(this.name))||!(!J.layers3D||!lf.includes(this.name))))return;const le=Q.gl,Ee=r.wireframeDebugCache.getLinesFromTrianglesBuffer(r.frameCounter,x,Q);if(!Ee)return;const be=[...this.fixedDefines];be.push("DEBUG_WIREFRAME");const Ae=r.getOrCreateProgram(this.name,{config:this.configuration,defines:be});Q.program.set(Ae.program);const Pe=(gt,Bt,Rt)=>{if(Bt[gt]&&Rt[gt])for(const Dt in Bt[gt])Rt[gt][Dt]&&Rt[gt][Dt].set(Rt.program,Dt,Bt[gt][Dt].current)};V&&V.setUniforms(Ae.program,Q,Ae.binderUniforms,R,{zoom:B}),Pe("fixedUniforms",this,Ae),Pe("terrainUniforms",this,Ae),Pe("globeUniforms",this,Ae),Pe("fogUniforms",this,Ae),Pe("lightsUniforms",this,Ae),Pe("shadowUniforms",this,Ae),Ee.bind(),Q.setColorMode(new ra([le.ONE,le.ONE_MINUS_SRC_ALPHA,le.ZERO,le.ONE],c.aj.transparent,[!0,!0,!0,!1])),Q.setDepthMode(new To(l.func===le.LESS?le.LEQUAL:l.func,To.ReadOnly,l.range)),Q.setStencilMode(Uo.disabled);const Qe=3*E.primitiveLength*2,xt=3*E.primitiveOffset*2*2;if(this.forceManualRenderingForInstanceIDShaders){const gt=U||1;for(let Bt=0;Bt<gt;++Bt)Ae.instancingUniforms.u_instanceID.set(this.program,"u_instanceID",Bt),le.drawElements(le.LINES,Qe,le.UNSIGNED_SHORT,xt)}else U&&U>1?le.drawElementsInstanced(le.LINES,Qe,le.UNSIGNED_SHORT,xt,U):le.drawElements(le.LINES,Qe,le.UNSIGNED_SHORT,xt);x.bind(),Q.program.set(this.program),Q.setDepthMode(l),Q.setStencilMode(p),Q.setColorMode(_)}checkUniforms(r,l,p){if(this.fixedDefines.includes(l)){for(const _ of Object.keys(p))if(!p[_].initialized)throw new Error(`Program '${this.name}', from draw '${r}': uniform ${_} not set but required by ${l} being defined`)}}draw(r,l,p,_,x,E,R,B,V,U,J,Q,le,Ee,be,Ae){const Pe=r.context,Qe=Pe.gl;if(this.failedToCreate)return;Pe.program.set(this.program),Pe.setDepthMode(p),Pe.setStencilMode(_),Pe.setColorMode(x),Pe.setCullFace(E);for(const Bt of Object.keys(this.fixedUniforms))this.fixedUniforms[Bt].set(this.program,Bt,R[Bt]);Ee&&Ee.setUniforms(this.program,Pe,this.binderUniforms,Q,{zoom:le});const xt={[Qe.POINTS]:1,[Qe.LINES]:2,[Qe.TRIANGLES]:3,[Qe.LINE_STRIP]:1}[l];this.checkUniforms(B,"RENDER_SHADOWS",this.shadowUniforms);const gt=Ae&&Ae>0?1:void 0;for(const Bt of J.get()){const Rt=Bt.vaos||(Bt.vaos={});if((Rt[B]||(Rt[B]=new sp)).bind(Pe,this,V,Ee?Ee.getPaintVertexBuffers():[],U,Bt.vertexOffset,be||[],gt),this.forceManualRenderingForInstanceIDShaders){const Dt=Ae||1;for(let Pt=0;Pt<Dt;++Pt)this.instancingUniforms.u_instanceID.set(this.program,"u_instanceID",Pt),U?Qe.drawElements(l,Bt.primitiveLength*xt,Qe.UNSIGNED_SHORT,Bt.primitiveOffset*xt*2):Qe.drawArrays(l,Bt.vertexOffset,Bt.vertexLength)}else Ae&&Ae>1?Qe.drawElementsInstanced(l,Bt.primitiveLength*xt,Qe.UNSIGNED_SHORT,Bt.primitiveOffset*xt*2,Ae):U?Qe.drawElements(l,Bt.primitiveLength*xt,Qe.UNSIGNED_SHORT,Bt.primitiveOffset*xt*2):Qe.drawArrays(l,Bt.vertexOffset,Bt.vertexLength);l===Qe.TRIANGLES&&U&&this._drawDebugWireframe(r,p,_,x,U,Bt,Q,le,Ee,Ae)}}}function Uu(m,r){const l=Math.pow(2,r.tileID.overscaledZ),p=r.tileSize*Math.pow(2,m.transform.tileZoom)/l,_=p*(r.tileID.canonical.x+r.tileID.wrap*l),x=p*r.tileID.canonical.y;return{u_image:0,u_texsize:r.imageAtlasTexture?r.imageAtlasTexture.size:[0,0],u_tile_units_to_pixels:1/c.ar(r,1,m.transform.tileZoom),u_pixel_coord_upper:[_>>16,x>>16],u_pixel_coord_lower:[65535&_,65535&x]}}const cf={terrain:0,flat:1},uf=c.ab.mat4.create(),lh=(m,r,l,p,_,x,E,R,B,V,U,J,Q,le,Ee,be,Ae,Pe)=>{const Qe=r.style.light,xt=Qe.properties.get("position"),gt=[xt.x,xt.y,xt.z],Bt=c.ab.mat3.create();Qe.properties.get("anchor")==="viewport"&&(c.ab.mat3.fromRotation(Bt,-r.transform.angle),c.ab.vec3.transformMat3(gt,gt,Bt));const Rt=Qe.properties.get("color"),Dt=r.transform,Pt={u_matrix:m,u_lightpos:gt,u_lightintensity:Qe.properties.get("intensity"),u_lightcolor:[Rt.r,Rt.g,Rt.b],u_vertical_gradient:+l,u_opacity:p,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:uf,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_height_type:cf[V],u_base_type:cf[U],u_ao:_,u_edge_radius:x,u_width_scale:E,u_flood_light_color:Ee,u_vertical_scale:be,u_flood_light_intensity:Ae,u_ground_shadow_factor:Pe};return Dt.projection.name==="globe"&&(Pt.u_tile_id=[R.canonical.x,R.canonical.y,1<<R.canonical.z],Pt.u_zoom_transition=J,Pt.u_inv_rot_matrix=le,Pt.u_merc_center=Q,Pt.u_up_dir=Dt.projection.upVector(new c.bT(0,0,0),Q[0]*c.ag,Q[1]*c.ag),Pt.u_height_lift=B),Pt},df=(m,r,l,p,_,x)=>({u_matrix:m,u_edge_radius:r,u_width_scale:l,u_vertical_scale:p,u_height_type:cf[_],u_base_type:cf[x]}),fp=(m,r,l,p,_,x,E,R,B,V,U,J,Q,le,Ee,be,Ae)=>{const Pe=lh(m,r,l,p,_,x,E,R,V,U,J,Q,le,Ee,be,Ae,1,[0,0,0]),Qe={u_height_factor:-Math.pow(2,R.overscaledZ)/B.tileSize/8};return c.l(Pe,Uu(r,B),Qe)},ch=(m,r)=>({u_matrix:m,u_emissive_strength:r}),zd=(m,r,l,p)=>c.l(ch(m,r),Uu(l,p)),hp=(m,r,l)=>({u_matrix:m,u_world:l,u_emissive_strength:r}),Iv=(m,r,l,p,_)=>c.l(zd(m,r,l,p),{u_world:_}),Zg=(m,r,l,p)=>{const _=c.ag/l.tileSize;return{u_matrix:m,u_camera_to_center_distance:r.getCameraToCenterDistance(p),u_extrude_scale:[r.pixelsToGLUnits[0]/_,r.pixelsToGLUnits[1]/_]}},Ld=(m,r,l=1)=>({u_matrix:m,u_color:r.toRenderColor(null),u_overlay:0,u_overlay_scale:l}),em=c.ab.mat4.create(),lo=(m,r,l,p,_,x,E)=>{const R=m.transform,B=R.projection.name==="globe",V=B?c.cN(R.zoom,r.canonical)*R._pixelsPerMercatorPixel:c.ar(l,1,x),U={u_matrix:r.projMatrix,u_extrude_scale:V,u_intensity:E,u_inv_rot_matrix:em,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(B){U.u_inv_rot_matrix=p,U.u_merc_center=_,U.u_tile_id=[r.canonical.x,r.canonical.y,1<<r.canonical.z],U.u_zoom_transition=c.ae(R.zoom);const J=_[0]*c.ag,Q=_[1]*c.ag;U.u_up_dir=R.projection.upVector(new c.bT(0,0,0),J,Q)}return U};function tm(m,[r,l,p,_],[x,E]){if(x===E)return[0,0,0,0];const R=255*(m-1)/(m*(E-x));return[r*R,l*R,p*R,_*R]}function mp(m,r,[l,p]){return l===p?0:.5/m+(r-l)*(m-1)/(m*(p-l))}const Nd=(m,r,l,p,_,x,E,R,B,V,U,J,Q,le,Ee,be,Ae,Pe,Qe,xt,gt)=>({u_matrix:m,u_normalize_matrix:r,u_globe_matrix:l,u_merc_matrix:p,u_grid_matrix:_,u_tl_parent:x,u_scale_parent:V,u_fade_t:U.mix,u_opacity:U.opacity*J.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:J.paint.get("raster-brightness-min"),u_brightness_high:J.paint.get("raster-brightness-max"),u_saturation_factor:c.cO(J.paint.get("raster-saturation")),u_contrast_factor:c.cP(J.paint.get("raster-contrast")),u_spin_weights:fd(J.paint.get("raster-hue-rotate")),u_perspective_transform:Q,u_raster_elevation:le,u_zoom_transition:E,u_merc_center:R,u_cutoff_params:B,u_colorization_mix:tm(c.cQ,be,Pe),u_colorization_offset:mp(c.cQ,Ae,Pe),u_color_ramp:Ee,u_texture_offset:[xt/(Qe+2*xt),Qe/(Qe+2*xt)],u_texture_res:[Qe+2*xt,Qe+2*xt],u_emissive_strength:gt});function fd(m){m*=Math.PI/180;const r=Math.sin(m),l=Math.cos(m);return[(2*l+1)/3,(-Math.sqrt(3)*r-l+1)/3,(Math.sqrt(3)*r-l+1)/3]}const Po=.05,Wu=(m,r,l,p,_,x,E,R,B,V,U,J)=>({u_matrix:m,u_normalize_matrix:r,u_globe_matrix:l,u_merc_matrix:p,u_grid_matrix:_,u_tl_parent:x,u_scale_parent:V,u_fade_t:U.mix,u_opacity:U.opacity,u_image0:0,u_image1:1,u_raster_elevation:J,u_zoom_transition:E,u_merc_center:R,u_cutoff_params:B}),Vg=(m,r,l,p,_,x,E,R,B,V)=>({u_particle_texture:m,u_particle_texture_side_len:r,u_tile_offset:l,u_velocity:p,u_color_ramp:x,u_velocity_res:_,u_max_speed:E,u_uv_offset:R,u_data_scale:[255*B[0],255*B[1]],u_data_offset:V,u_particle_pos_scale:1.1,u_particle_pos_offset:[Po,Po]}),Hg=(m,r,l,p,_,x,E,R,B,V)=>({u_particle_texture:m,u_particle_texture_side_len:r,u_velocity:l,u_velocity_res:p,u_max_speed:_,u_speed_factor:x,u_reset_rate:E,u_rand_seed:Math.random(),u_uv_offset:R,u_data_scale:[255*B[0],255*B[1]],u_data_offset:V,u_particle_pos_scale:1.1,u_particle_pos_offset:[Po,Po]}),nm=c.ab.mat4.create(),Bd=(m,r,l,p,_,x,E,R,B,V,U,J,Q,le,Ee,be,Ae,Pe,Qe,xt,gt,Bt)=>{const Rt=_.transform,Dt={u_is_size_zoom_constant:+(m==="constant"||m==="source"),u_is_size_feature_constant:+(m==="constant"||m==="camera"),u_size_t:r?r.uSizeT:0,u_size:r?r.uSize:0,u_camera_to_center_distance:Rt.getCameraToCenterDistance(Qe),u_rotate_symbol:+l,u_aspect_ratio:Rt.width/Rt.height,u_fade_change:_.options.fadeDuration?_.symbolFadeChange:1,u_matrix:x,u_label_plane_matrix:E,u_coord_matrix:R,u_is_text:+V,u_elevation_from_sea:B?1:0,u_pitch_with_map:+p,u_texsize:U,u_texsize_icon:J,u_texture:0,u_texture_icon:1,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:nm,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:nm,u_up_vector:[0,-1,0],u_color_adj_mat:xt,u_icon_transition:gt||0,u_gamma_scale:p?_.transform.getCameraToCenterDistance(Qe)*Math.cos(_.terrain?0:_.transform._pitch):1,u_device_pixel_ratio:c.q.devicePixelRatio,u_is_halo:+Q,u_scale_factor:Bt||1};return Qe.name==="globe"&&(Dt.u_tile_id=[le.canonical.x,le.canonical.y,1<<le.canonical.z],Dt.u_zoom_transition=Ee,Dt.u_inv_rot_matrix=Ae,Dt.u_merc_center=be,Dt.u_camera_forward=Rt._camera.forward(),Dt.u_ecef_origin=c.cR(Rt.globeMatrix,le.toUnwrapped()),Dt.u_tile_matrix=Float32Array.from(Rt.globeMatrix),Dt.u_up_vector=Pe),Dt},rm=(m,r,l,p)=>({u_matrix:m,u_emissive_strength:r,u_opacity:l,u_color:p}),pp=(m,r,l,p,_,x,E,R,B)=>c.l(function(V,U,J,Q,le,Ee){const{width:be,height:Ae}=Q.imageManager.getPixelSize(U),Pe=Math.pow(2,Ee.tileID.overscaledZ),Qe=Ee.tileSize*Math.pow(2,Q.transform.tileZoom)/Pe,xt=Qe*(Ee.tileID.canonical.x+Ee.tileID.wrap*Pe),gt=Qe*Ee.tileID.canonical.y;return{u_image:0,u_pattern_tl:J.tl,u_pattern_br:J.br,u_texsize:[be,Ae],u_pattern_size:J.displaySize,u_pattern_units_to_pixels:le?[Q.transform.width,-1*Q.transform.height]:[1/c.ar(Ee,1,Q.transform.tileZoom),1/c.ar(Ee,1,Q.transform.tileZoom)],u_pixel_coord_upper:[xt>>16,gt>>16],u_pixel_coord_lower:[65535&xt,65535&gt]}}(0,x,E,p,R,B),{u_matrix:m,u_emissive_strength:r,u_opacity:l}),im=new Float32Array(c.ab.mat4.identity([])),ff=(m,r,l,p,_,x,E,R,B,V,U,J,Q,le=[0,0,0],Ee)=>{const be=_.style.light,Ae=be.properties.get("position"),Pe=[-Ae.x,-Ae.y,Ae.z],Qe=c.ab.mat3.create();be.properties.get("anchor")==="viewport"&&(c.ab.mat3.fromRotation(Qe,-_.transform.angle),c.ab.vec3.transformMat3(Pe,Pe,Qe));const xt=U.alphaMode==="MASK",gt=be.properties.get("color").toRenderColor(null),Bt=Q.paint.get("model-ambient-occlusion-intensity"),Rt=Q.paint.get("model-color").constantOr(c.aj.white).toRenderColor(null),Dt=Q.paint.get("model-color-mix-intensity").constantOr(0);return{u_matrix:m,u_lighting_matrix:r,u_normal_matrix:l,u_node_matrix:p||im,u_lightpos:Pe,u_lightintensity:be.properties.get("intensity"),u_lightcolor:[gt.r,gt.g,gt.b],u_camera_pos:le,u_opacity:x,u_baseTextureIsAlpha:0,u_alphaMask:+xt,u_alphaCutoff:U.alphaCutoff,u_baseColorFactor:[E.r,E.g,E.b,E.a],u_emissiveFactor:[R[0],R[1],R[2],1],u_metallicFactor:B,u_roughnessFactor:V,u_baseColorTexture:gl.BaseColor,u_metallicRoughnessTexture:gl.MetallicRoughness,u_normalTexture:gl.Normal,u_occlusionTexture:gl.Occlusion,u_emissionTexture:gl.Emission,u_lutTexture:gl.LUT,u_color_mix:[Rt.r,Rt.g,Rt.b,Dt],u_aoIntensity:Bt,u_emissive_strength:J,u_occlusionTextureTransform:Ee||[0,0,0,0]}},uh=(m,r=im,l=im)=>({u_matrix:m,u_instance:r,u_node_matrix:l}),gp={fillExtrusion:m=>({u_matrix:new c.bJ(m),u_lightpos:new c.bL(m),u_lightintensity:new c.bM(m),u_lightcolor:new c.bL(m),u_vertical_gradient:new c.bM(m),u_opacity:new c.bM(m),u_edge_radius:new c.bM(m),u_width_scale:new c.bM(m),u_ao:new c.bK(m),u_height_type:new c.bN(m),u_base_type:new c.bN(m),u_tile_id:new c.bL(m),u_zoom_transition:new c.bM(m),u_inv_rot_matrix:new c.bJ(m),u_merc_center:new c.bK(m),u_up_dir:new c.bL(m),u_height_lift:new c.bM(m),u_flood_light_color:new c.bL(m),u_vertical_scale:new c.bM(m),u_flood_light_intensity:new c.bM(m),u_ground_shadow_factor:new c.bL(m)}),fillExtrusionDepth:m=>({u_matrix:new c.bJ(m),u_edge_radius:new c.bM(m),u_width_scale:new c.bM(m),u_vertical_scale:new c.bM(m),u_height_type:new c.bN(m),u_base_type:new c.bN(m)}),fillExtrusionPattern:m=>({u_matrix:new c.bJ(m),u_lightpos:new c.bL(m),u_lightintensity:new c.bM(m),u_lightcolor:new c.bL(m),u_vertical_gradient:new c.bM(m),u_height_factor:new c.bM(m),u_edge_radius:new c.bM(m),u_width_scale:new c.bM(m),u_ao:new c.bK(m),u_height_type:new c.bN(m),u_base_type:new c.bN(m),u_tile_id:new c.bL(m),u_zoom_transition:new c.bM(m),u_inv_rot_matrix:new c.bJ(m),u_merc_center:new c.bK(m),u_up_dir:new c.bL(m),u_height_lift:new c.bM(m),u_image:new c.bN(m),u_texsize:new c.bK(m),u_pixel_coord_upper:new c.bK(m),u_pixel_coord_lower:new c.bK(m),u_tile_units_to_pixels:new c.bM(m),u_opacity:new c.bM(m)}),fillExtrusionGroundEffect:m=>({u_matrix:new c.bJ(m),u_opacity:new c.bM(m),u_ao_pass:new c.bM(m),u_meter_to_tile:new c.bM(m),u_ao:new c.bK(m),u_flood_light_intensity:new c.bM(m),u_flood_light_color:new c.bL(m),u_attenuation:new c.bM(m),u_edge_radius:new c.bM(m),u_fb:new c.bN(m),u_fb_size:new c.bM(m),u_dynamic_offset:new c.bM(m)}),fill:m=>({u_matrix:new c.bJ(m),u_emissive_strength:new c.bM(m)}),fillPattern:m=>({u_matrix:new c.bJ(m),u_emissive_strength:new c.bM(m),u_image:new c.bN(m),u_texsize:new c.bK(m),u_pixel_coord_upper:new c.bK(m),u_pixel_coord_lower:new c.bK(m),u_tile_units_to_pixels:new c.bM(m)}),fillOutline:m=>({u_matrix:new c.bJ(m),u_emissive_strength:new c.bM(m),u_world:new c.bK(m)}),fillOutlinePattern:m=>({u_matrix:new c.bJ(m),u_emissive_strength:new c.bM(m),u_world:new c.bK(m),u_image:new c.bN(m),u_texsize:new c.bK(m),u_pixel_coord_upper:new c.bK(m),u_pixel_coord_lower:new c.bK(m),u_tile_units_to_pixels:new c.bM(m)}),circle:c.cS,collisionBox:m=>({u_matrix:new c.bJ(m),u_camera_to_center_distance:new c.bM(m),u_extrude_scale:new c.bK(m)}),collisionCircle:m=>({u_matrix:new c.bJ(m),u_inv_matrix:new c.bJ(m),u_camera_to_center_distance:new c.bM(m),u_viewport_size:new c.bK(m)}),debug:m=>({u_color:new c.cz(m),u_matrix:new c.bJ(m),u_overlay:new c.bN(m),u_overlay_scale:new c.bM(m)}),clippingMask:m=>({u_matrix:new c.bJ(m)}),heatmap:m=>({u_extrude_scale:new c.bM(m),u_intensity:new c.bM(m),u_matrix:new c.bJ(m),u_inv_rot_matrix:new c.bJ(m),u_merc_center:new c.bK(m),u_tile_id:new c.bL(m),u_zoom_transition:new c.bM(m),u_up_dir:new c.bL(m)}),heatmapTexture:m=>({u_image:new c.bN(m),u_color_ramp:new c.bN(m),u_opacity:new c.bM(m)}),hillshade:m=>({u_matrix:new c.bJ(m),u_image:new c.bN(m),u_latrange:new c.bK(m),u_light:new c.bK(m),u_shadow:new c.cz(m),u_highlight:new c.cz(m),u_emissive_strength:new c.bM(m),u_accent:new c.cz(m)}),hillshadePrepare:m=>({u_matrix:new c.bJ(m),u_image:new c.bN(m),u_dimension:new c.bK(m),u_zoom:new c.bM(m)}),line:c.cT,linePattern:c.cU,raster:m=>({u_matrix:new c.bJ(m),u_normalize_matrix:new c.bJ(m),u_globe_matrix:new c.bJ(m),u_merc_matrix:new c.bJ(m),u_grid_matrix:new c.cA(m),u_tl_parent:new c.bK(m),u_scale_parent:new c.bM(m),u_fade_t:new c.bM(m),u_opacity:new c.bM(m),u_image0:new c.bN(m),u_image1:new c.bN(m),u_brightness_low:new c.bM(m),u_brightness_high:new c.bM(m),u_saturation_factor:new c.bM(m),u_contrast_factor:new c.bM(m),u_spin_weights:new c.bL(m),u_perspective_transform:new c.bK(m),u_raster_elevation:new c.bM(m),u_zoom_transition:new c.bM(m),u_merc_center:new c.bK(m),u_cutoff_params:new c.ca(m),u_colorization_mix:new c.ca(m),u_colorization_offset:new c.bM(m),u_color_ramp:new c.bN(m),u_texture_offset:new c.bK(m),u_texture_res:new c.bK(m),u_emissive_strength:new c.bM(m)}),rasterParticle:m=>({u_matrix:new c.bJ(m),u_normalize_matrix:new c.bJ(m),u_globe_matrix:new c.bJ(m),u_merc_matrix:new c.bJ(m),u_grid_matrix:new c.cA(m),u_tl_parent:new c.bK(m),u_scale_parent:new c.bM(m),u_fade_t:new c.bM(m),u_opacity:new c.bM(m),u_image0:new c.bN(m),u_image1:new c.bN(m),u_raster_elevation:new c.bM(m),u_zoom_transition:new c.bM(m),u_merc_center:new c.bK(m),u_cutoff_params:new c.ca(m)}),rasterParticleTexture:m=>({u_texture:new c.bN(m),u_opacity:new c.bM(m)}),rasterParticleDraw:m=>({u_particle_texture:new c.bN(m),u_particle_texture_side_len:new c.bM(m),u_tile_offset:new c.bK(m),u_velocity:new c.bN(m),u_color_ramp:new c.bN(m),u_velocity_res:new c.bK(m),u_max_speed:new c.bM(m),u_uv_offset:new c.bK(m),u_data_scale:new c.bK(m),u_data_offset:new c.bM(m),u_particle_pos_scale:new c.bM(m),u_particle_pos_offset:new c.bK(m)}),rasterParticleUpdate:m=>({u_particle_texture:new c.bN(m),u_particle_texture_side_len:new c.bM(m),u_velocity:new c.bN(m),u_velocity_res:new c.bK(m),u_max_speed:new c.bM(m),u_speed_factor:new c.bM(m),u_reset_rate:new c.bM(m),u_rand_seed:new c.bM(m),u_uv_offset:new c.bK(m),u_data_scale:new c.bK(m),u_data_offset:new c.bM(m),u_particle_pos_scale:new c.bM(m),u_particle_pos_offset:new c.bK(m)}),symbol:m=>({u_is_size_zoom_constant:new c.bN(m),u_is_size_feature_constant:new c.bN(m),u_size_t:new c.bM(m),u_size:new c.bM(m),u_camera_to_center_distance:new c.bM(m),u_rotate_symbol:new c.bN(m),u_aspect_ratio:new c.bM(m),u_fade_change:new c.bM(m),u_matrix:new c.bJ(m),u_label_plane_matrix:new c.bJ(m),u_coord_matrix:new c.bJ(m),u_is_text:new c.bN(m),u_elevation_from_sea:new c.bN(m),u_pitch_with_map:new c.bN(m),u_texsize:new c.bK(m),u_texsize_icon:new c.bK(m),u_texture:new c.bN(m),u_texture_icon:new c.bN(m),u_gamma_scale:new c.bM(m),u_device_pixel_ratio:new c.bM(m),u_tile_id:new c.bL(m),u_zoom_transition:new c.bM(m),u_inv_rot_matrix:new c.bJ(m),u_merc_center:new c.bK(m),u_camera_forward:new c.bL(m),u_tile_matrix:new c.bJ(m),u_up_vector:new c.bL(m),u_ecef_origin:new c.bL(m),u_is_halo:new c.bN(m),u_icon_transition:new c.bM(m),u_color_adj_mat:new c.bJ(m),u_scale_factor:new c.bM(m)}),background:m=>({u_matrix:new c.bJ(m),u_emissive_strength:new c.bM(m),u_opacity:new c.bM(m),u_color:new c.cz(m)}),backgroundPattern:m=>({u_matrix:new c.bJ(m),u_emissive_strength:new c.bM(m),u_opacity:new c.bM(m),u_image:new c.bN(m),u_pattern_tl:new c.bK(m),u_pattern_br:new c.bK(m),u_texsize:new c.bK(m),u_pattern_size:new c.bK(m),u_pixel_coord_upper:new c.bK(m),u_pixel_coord_lower:new c.bK(m),u_pattern_units_to_pixels:new c.bK(m)}),terrainRaster:m=>({u_matrix:new c.bJ(m),u_image0:new c.bN(m),u_skirt_height:new c.bM(m),u_ground_shadow_factor:new c.bL(m)}),skybox:m=>({u_matrix:new c.bJ(m),u_sun_direction:new c.bL(m),u_cubemap:new c.bN(m),u_opacity:new c.bM(m),u_temporal_offset:new c.bM(m)}),skyboxGradient:m=>({u_matrix:new c.bJ(m),u_color_ramp:new c.bN(m),u_center_direction:new c.bL(m),u_radius:new c.bM(m),u_opacity:new c.bM(m),u_temporal_offset:new c.bM(m)}),skyboxCapture:m=>({u_matrix_3f:new c.cA(m),u_sun_direction:new c.bL(m),u_sun_intensity:new c.bM(m),u_color_tint_r:new c.ca(m),u_color_tint_m:new c.ca(m),u_luminance:new c.bM(m)}),globeRaster:m=>({u_proj_matrix:new c.bJ(m),u_globe_matrix:new c.bJ(m),u_normalize_matrix:new c.bJ(m),u_merc_matrix:new c.bJ(m),u_zoom_transition:new c.bM(m),u_merc_center:new c.bK(m),u_image0:new c.bN(m),u_grid_matrix:new c.cA(m),u_skirt_height:new c.bM(m),u_far_z_cutoff:new c.bM(m),u_frustum_tl:new c.bL(m),u_frustum_tr:new c.bL(m),u_frustum_br:new c.bL(m),u_frustum_bl:new c.bL(m),u_globe_pos:new c.bL(m),u_globe_radius:new c.bM(m),u_viewport:new c.bK(m)}),globeAtmosphere:m=>({u_frustum_tl:new c.bL(m),u_frustum_tr:new c.bL(m),u_frustum_br:new c.bL(m),u_frustum_bl:new c.bL(m),u_horizon:new c.bM(m),u_transition:new c.bM(m),u_fadeout_range:new c.bM(m),u_color:new c.ca(m),u_high_color:new c.ca(m),u_space_color:new c.ca(m),u_temporal_offset:new c.bM(m),u_horizon_angle:new c.bM(m)}),model:m=>({u_matrix:new c.bJ(m),u_lighting_matrix:new c.bJ(m),u_normal_matrix:new c.bJ(m),u_node_matrix:new c.bJ(m),u_lightpos:new c.bL(m),u_lightintensity:new c.bM(m),u_lightcolor:new c.bL(m),u_camera_pos:new c.bL(m),u_opacity:new c.bM(m),u_baseColorFactor:new c.ca(m),u_emissiveFactor:new c.ca(m),u_metallicFactor:new c.bM(m),u_roughnessFactor:new c.bM(m),u_baseTextureIsAlpha:new c.bN(m),u_alphaMask:new c.bN(m),u_alphaCutoff:new c.bM(m),u_baseColorTexture:new c.bN(m),u_metallicRoughnessTexture:new c.bN(m),u_normalTexture:new c.bN(m),u_occlusionTexture:new c.bN(m),u_emissionTexture:new c.bN(m),u_lutTexture:new c.bN(m),u_color_mix:new c.ca(m),u_aoIntensity:new c.bM(m),u_emissive_strength:new c.bM(m),u_occlusionTextureTransform:new c.ca(m)}),modelDepth:m=>({u_matrix:new c.bJ(m),u_instance:new c.bJ(m),u_node_matrix:new c.bJ(m)}),groundShadow:m=>({u_matrix:new c.bJ(m),u_ground_shadow_factor:new c.bL(m)}),stars:m=>({u_matrix:new c.bJ(m),u_up:new c.bL(m),u_right:new c.bL(m),u_intensity_multiplier:new c.bM(m)}),snowParticle:m=>({u_modelview:new c.bJ(m),u_projection:new c.bJ(m),u_time:new c.bM(m),u_cam_pos:new c.bL(m),u_velocityConeAperture:new c.bM(m),u_velocity:new c.bM(m),u_horizontalOscillationRadius:new c.bM(m),u_horizontalOscillationRate:new c.bM(m),u_boxSize:new c.bM(m),u_billboardSize:new c.bM(m),u_simpleShapeParameters:new c.bK(m),u_screenSize:new c.bK(m),u_thinningCenterPos:new c.bK(m),u_thinningShape:new c.bL(m),u_thinningAffectedRatio:new c.bM(m),u_thinningParticleOffset:new c.bM(m),u_particleColor:new c.ca(m),u_direction:new c.bL(m)}),rainParticle:m=>({u_modelview:new c.bJ(m),u_projection:new c.bJ(m),u_time:new c.bM(m),u_cam_pos:new c.bL(m),u_texScreen:new c.bN(m),u_velocityConeAperture:new c.bM(m),u_velocity:new c.bM(m),u_boxSize:new c.bM(m),u_rainDropletSize:new c.bK(m),u_distortionStrength:new c.bM(m),u_rainDirection:new c.bL(m),u_color:new c.ca(m),u_screenSize:new c.bK(m),u_thinningCenterPos:new c.bK(m),u_thinningShape:new c.bL(m),u_thinningAffectedRatio:new c.bM(m),u_thinningParticleOffset:new c.bM(m),u_shapeDirectionalPower:new c.bM(m),u_shapeNormalPower:new c.bM(m),u_mode:new c.bM(m)}),vignette:m=>({u_vignetteShape:new c.bL(m),u_vignetteColor:new c.ca(m)}),occlusion:m=>({u_matrix:new c.bJ(m),u_anchorPos:new c.bL(m),u_screenSizePx:new c.bK(m),u_occluderSizePx:new c.bK(m),u_color:new c.ca(m)})};class Ac{constructor(r,l,p,_){this.id=Ac.uniqueIdxCounter,Ac.uniqueIdxCounter++,this.context=r;const x=r.gl;this.buffer=x.createBuffer(),this.dynamicDraw=!!p,this.context.unbindVAO(),r.bindElementBuffer.set(this.buffer),x.bufferData(x.ELEMENT_ARRAY_BUFFER,l.arrayBuffer,this.dynamicDraw?x.DYNAMIC_DRAW:x.STATIC_DRAW),this.dynamicDraw||_||l.destroy()}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(r){this.id=Ac.uniqueIdxCounter,Ac.uniqueIdxCounter++;const l=this.context.gl;this.context.unbindVAO(),this.bind(),l.bufferSubData(l.ELEMENT_ARRAY_BUFFER,0,r.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}Ac.uniqueIdxCounter=0;const Vc={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class hd{constructor(r,l,p,_,x,E){this.length=l.length,this.attributes=p,this.itemSize=l.bytesPerElement,this.dynamicDraw=_,this.instanceCount=E,this.context=r;const R=r.gl;this.buffer=R.createBuffer(),r.bindVertexBuffer.set(this.buffer),R.bufferData(R.ARRAY_BUFFER,l.arrayBuffer,this.dynamicDraw?R.DYNAMIC_DRAW:R.STATIC_DRAW),this.dynamicDraw||x||l.destroy()}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(r){const l=this.context.gl;this.bind(),l.bufferSubData(l.ARRAY_BUFFER,0,r.arrayBuffer)}enableAttributes(r,l){for(let p=0;p<this.attributes.length;p++){const _=l.attributes[this.attributes[p].name];_!==void 0&&r.enableVertexAttribArray(_)}}setVertexAttribPointers(r,l,p){for(let _=0;_<this.attributes.length;_++){const x=this.attributes[_],E=l.attributes[x.name];E!==void 0&&r.vertexAttribPointer(E,x.components,r[Vc[x.type]],!1,this.itemSize,x.offset+this.itemSize*(p||0))}}setVertexAttribDivisor(r,l,p){for(let _=0;_<this.attributes.length;_++){const x=l.attributes[this.attributes[_].name];x!==void 0&&this.instanceCount&&this.instanceCount>0&&r.vertexAttribDivisor(x,p)}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class vp{constructor(r,l,p,_,x){this.context=r,this.width=l,this.height=p;const E=this.framebuffer=r.gl.createFramebuffer();_&&(this.colorAttachment=new gn(r,E)),x&&(this.depthAttachmentType=x,this.depthAttachment=x==="renderbuffer"?new Tr(r,E):new Wi(r,E))}destroy(){const r=this.context.gl;if(this.colorAttachment){const l=this.colorAttachment.get();l&&r.deleteTexture(l)}if(this.depthAttachment&&this.depthAttachmentType)if(this.depthAttachmentType==="renderbuffer"){const l=this.depthAttachment.get();l&&r.deleteRenderbuffer(l)}else{const l=this.depthAttachment.get();l&&r.deleteTexture(l)}r.deleteFramebuffer(this.framebuffer)}}class om{constructor(r,l){this.gl=r,this.clearColor=new Vu(this),this.clearDepth=new Xf(this),this.clearStencil=new Od(this),this.colorMask=new of(this),this.depthMask=new af(this),this.stencilMask=new sf(this),this.stencilFunc=new Rd(this),this.stencilOp=new ud(this),this.stencilTest=new $d(this),this.depthRange=new Yf(this),this.depthTest=new Ul(this),this.depthFunc=new qf(this),this.blend=new Ad(this),this.blendFunc=new Jf(this),this.blendColor=new Qf(this),this.blendEquation=new eh(this),this.cullFace=new th(this),this.cullFaceSide=new nh(this),this.frontFace=new Mu(this),this.program=new Dd(this),this.activeTexture=new lp(this),this.viewport=new rh(this),this.bindFramebuffer=new Hu(this),this.bindRenderbuffer=new ih(this),this.bindTexture=new cp(this),this.bindVertexBuffer=new up(this),this.bindElementBuffer=new dp(this),this.bindVertexArrayOES=new oh(this),this.pixelStoreUnpack=new Qh(this),this.pixelStoreUnpackPremultiplyAlpha=new ah(this),this.pixelStoreUnpackFlipY=new sh(this),this.options=l?Object.assign({},l):{},this.options.extTextureFilterAnisotropicForceOff||(this.extTextureFilterAnisotropic=r.getExtension("EXT_texture_filter_anisotropic")||r.getExtension("MOZ_EXT_texture_filter_anisotropic")||r.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=r.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT))),this.extDebugRendererInfo=r.getExtension("WEBGL_debug_renderer_info"),this.extDebugRendererInfo&&(this.renderer=r.getParameter(this.extDebugRendererInfo.UNMASKED_RENDERER_WEBGL),this.vendor=r.getParameter(this.extDebugRendererInfo.UNMASKED_VENDOR_WEBGL)),this.forceManualRenderingForInstanceIDShaders=l&&!!l.forceManualRenderingForInstanceIDShaders||this.renderer&&this.renderer.indexOf("PowerVR")!==-1,this.options.extTextureFloatLinearForceOff||(this.extTextureFloatLinear=r.getExtension("OES_texture_float_linear")),this.extRenderToTextureHalfFloat=r.getExtension("EXT_color_buffer_half_float"),this.extTimerQuery=r.getExtension("EXT_disjoint_timer_query_webgl2"),this.maxTextureSize=r.getParameter(r.MAX_TEXTURE_SIZE),this.maxPointSize=r.getParameter(r.ALIASED_POINT_SIZE_RANGE)[1]}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArrayOES.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(r,l,p){return new Ac(this,r,l,p)}createVertexBuffer(r,l,p,_,x){return new hd(this,r,l,p,_,x)}createRenderbuffer(r,l,p){const _=this.gl,x=_.createRenderbuffer();return this.bindRenderbuffer.set(x),_.renderbufferStorage(_.RENDERBUFFER,r,l,p),this.bindRenderbuffer.set(null),x}createFramebuffer(r,l,p,_){return new vp(this,r,l,p,_)}clear({color:r,depth:l,stencil:p,colorMask:_}){const x=this.gl;let E=0;r&&(E|=x.COLOR_BUFFER_BIT,this.clearColor.set(r),this.colorMask.set(_||[!0,!0,!0,!0])),l!==void 0&&(E|=x.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(l),this.depthMask.set(!0)),p!==void 0&&(E|=x.STENCIL_BUFFER_BIT,this.clearStencil.set(p),this.stencilMask.set(255)),x.clear(E)}setCullFace(r){r.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(r.mode),this.frontFace.set(r.frontFace))}setDepthMode(r){r.func!==this.gl.ALWAYS||r.mask?(this.depthTest.set(!0),this.depthFunc.set(r.func),this.depthMask.set(r.mask),this.depthRange.set(r.range)):this.depthTest.set(!1)}setStencilMode(r){r.test.func!==this.gl.ALWAYS||r.mask?(this.stencilTest.set(!0),this.stencilMask.set(r.mask),this.stencilOp.set([r.fail,r.depthFail,r.pass]),this.stencilFunc.set({func:r.test.func,ref:r.ref,mask:r.test.mask})):this.stencilTest.set(!1)}setColorMode(r){c.bn(r.blendFunction,ra.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(r.blendFunction),this.blendColor.set(r.blendColor),r.blendEquation?this.blendEquation.set(r.blendEquation):this.blendEquation.setDefault()),this.colorMask.set(r.mask)}unbindVAO(){this.bindVertexArrayOES.set(null)}}let hf;function am(m,r,l,p,_,x,E){const R=m.context,B=R.gl,V=m.transform,U=m.getOrCreateProgram("collisionBox"),J=[];let Q=0,le=0;for(let gt=0;gt<p.length;gt++){const Bt=p[gt],Rt=r.getTile(Bt),Dt=Rt.getBucket(l);if(!Dt)continue;const Pt=_o(Bt,Dt,V);let qt=Pt;_[0]===0&&_[1]===0||(qt=m.translatePosMatrix(Pt,Rt,_,x));const mn=E?Dt.textCollisionBox:Dt.iconCollisionBox,nr=Dt.collisionCircleArray;if(nr.length>0){const Wn=c.ab.mat4.create(),Pr=qt;c.ab.mat4.mul(Wn,Dt.placementInvProjMatrix,V.glCoordMatrix),c.ab.mat4.mul(Wn,Wn,Dt.placementViewportMatrix),J.push({circleArray:nr,circleOffset:le,transform:Pr,invTransform:Wn,projection:Dt.getProjection()}),Q+=nr.length/4,le=Q}mn&&(m.terrain&&m.terrain.setupElevationDraw(Rt,U),U.draw(m,B.LINES,To.disabled,Uo.disabled,m.colorModeForRenderPass(),qo.disabled,Zg(qt,V,Rt,Dt.getProjection()),l.id,mn.layoutVertexBuffer,mn.indexBuffer,mn.segments,null,V.zoom,null,[mn.collisionVertexBuffer,mn.collisionVertexBufferExt]))}if(!E||!J.length)return;const Ee=m.getOrCreateProgram("collisionCircle"),be=new c.cV;be.resize(4*Q),be._trim();let Ae=0;for(const gt of J)for(let Bt=0;Bt<gt.circleArray.length/4;Bt++){const Rt=4*Bt,Dt=gt.circleArray[Rt+0],Pt=gt.circleArray[Rt+1],qt=gt.circleArray[Rt+2],mn=gt.circleArray[Rt+3];be.emplace(Ae++,Dt,Pt,qt,mn,0),be.emplace(Ae++,Dt,Pt,qt,mn,1),be.emplace(Ae++,Dt,Pt,qt,mn,2),be.emplace(Ae++,Dt,Pt,qt,mn,3)}(!hf||hf.length<2*Q)&&(hf=function(gt){const Bt=2*gt,Rt=new c.aU;Rt.resize(Bt),Rt._trim();for(let Dt=0;Dt<Bt;Dt++){const Pt=6*Dt;Rt.uint16[Pt+0]=4*Dt+0,Rt.uint16[Pt+1]=4*Dt+1,Rt.uint16[Pt+2]=4*Dt+2,Rt.uint16[Pt+3]=4*Dt+2,Rt.uint16[Pt+4]=4*Dt+3,Rt.uint16[Pt+5]=4*Dt+0}return Rt}(Q));const Pe=R.createIndexBuffer(hf,!0),Qe=R.createVertexBuffer(be,c.cW.members,!0);for(const gt of J){const Bt={u_matrix:gt.transform,u_inv_matrix:gt.invTransform,u_camera_to_center_distance:(xt=V).getCameraToCenterDistance(gt.projection),u_viewport_size:[xt.width,xt.height]};Ee.draw(m,B.TRIANGLES,To.disabled,Uo.disabled,m.colorModeForRenderPass(),qo.disabled,Bt,l.id,Qe,Pe,c.b7.simpleSegment(0,2*gt.circleOffset,gt.circleArray.length,gt.circleArray.length/2),null,V.zoom)}var xt;Qe.destroy(),Pe.destroy()}const mf=c.ab.mat4.create();function au(m){const r=m._camera.getWorldToCamera(m.worldSize,1),l=c.ab.mat4.multiply([],r,m.globeMatrix);c.ab.mat4.invert(l,l);const p=[0,0,0],_=[0,1,0,0];return c.ab.vec4.transformMat4(_,_,l),p[0]=_[0],p[1]=_[1],p[2]=_[2],c.ab.vec3.normalize(p,p),p}function Ws({width:m,height:r,anchor:l,textOffset:p,textScale:_},x){const{horizontalAlign:E,verticalAlign:R}=c.bD(l),B=-(E-.5)*m,V=-(R-.5)*r,U=c.bC(l,p);return new c.P((B/_+U[0])*x,(V/_+U[1])*x)}function sm(m,r,l,p,_,x,E,R,B,V,U){const J=m.text.placedSymbolArray,Q=m.text.dynamicLayoutVertexArray,le=m.icon.dynamicLayoutVertexArray,Ee={},be=m.getProjection(),Ae=na(R,be,x),Pe=x.elevation,Qe=be.upVectorScale(R.canonical,x.center.lat,x.worldSize).metersToTile;Q.clear();for(let xt=0;xt<J.length;xt++){const gt=J.get(xt),{tileAnchorX:Bt,tileAnchorY:Rt,numGlyphs:Dt}=gt,Pt=gt.hidden||!gt.crossTileID||m.allowVerticalPlacement&&!gt.placedOrientation?null:p[gt.crossTileID];if(Pt){let qt=0,mn=0,nr=0;if(Pe){const cr=Pe?Pe.getAtTileOffset(R,Bt,Rt):0,[bi,Vr,$r]=be.upVector(R.canonical,Bt,Rt);qt=cr*bi*Qe,mn=cr*Vr*Qe,nr=cr*$r*Qe}let[Wn,Pr,Er,Nn]=ze(gt.projectedAnchorX+qt,gt.projectedAnchorY+mn,gt.projectedAnchorZ+nr,l?Ae:E);const ar=At(x.getCameraToCenterDistance(be),Nn);let Kr=_.evaluateSizeForFeature(m.textSizeData,V,gt)*ar/c.bw;l&&(Kr*=m.tilePixelRatio/B);const Ln=Ws(Pt,Kr);l?({x:Wn,y:Pr,z:Er}=be.projectTilePoint(Bt+Ln.x,Rt+Ln.y,R.canonical),[Wn,Pr,Er]=ze(Wn+qt,Pr+mn,Er+nr,E)):(r&&Ln._rotate(-x.angle),Wn+=Ln.x,Pr+=Ln.y,Er=0);const Ar=m.allowVerticalPlacement&&gt.placedOrientation===c.bq.vertical?Math.PI/2:0;for(let cr=0;cr<Dt;cr++)c.bt(Q,Wn,Pr,Er,Ar);U&&gt.associatedIconIndex>=0&&(Ee[gt.associatedIconIndex]={x:Wn,y:Pr,z:Er,angle:Ar})}else yi(Dt,Q)}if(U){le.clear();const xt=m.icon.placedSymbolArray;for(let gt=0;gt<xt.length;gt++){const Bt=xt.get(gt),{numGlyphs:Rt}=Bt,Dt=Ee[gt];if(Bt.hidden||!Dt)yi(Rt,le);else{const{x:Pt,y:qt,z:mn,angle:nr}=Dt;for(let Wn=0;Wn<Rt;Wn++)c.bt(le,Pt,qt,mn,nr)}}m.icon.dynamicLayoutVertexBuffer.updateData(le)}m.text.dynamicLayoutVertexBuffer.updateData(Q)}function dh(m,r,l,p,_,x,E={}){const R=l.paint.get("icon-translate"),B=l.paint.get("text-translate"),V=l.paint.get("icon-translate-anchor"),U=l.paint.get("text-translate-anchor"),J=l.layout.get("icon-rotation-alignment"),Q=l.layout.get("text-rotation-alignment"),le=l.layout.get("icon-pitch-alignment"),Ee=l.layout.get("text-pitch-alignment"),be=l.layout.get("icon-keep-upright"),Ae=l.layout.get("text-keep-upright"),Pe=l.paint.get("icon-color-saturation"),Qe=l.paint.get("icon-color-contrast"),xt=l.paint.get("icon-color-brightness-min"),gt=l.paint.get("icon-color-brightness-max"),Bt=l.layout.get("symbol-elevation-reference")==="sea",Rt=m.context,Dt=Rt.gl,Pt=m.transform,qt=J==="map",mn=Q==="map",nr=le==="map",Wn=Ee==="map",Pr=l.layout.get("symbol-sort-key").constantOr(1)!==void 0;let Er=!1;const Nn=m.depthModeForSublayer(0,To.ReadOnly),ar=[c.at(Pt.center.lng),c.aA(Pt.center.lat)],Kr=l.layout.get("text-variable-anchor"),Ln=Pt.projection.name==="globe",Ar=[],cr=[0,-1,0];for(const bi of p){const Vr=r.getTile(bi),$r=Vr.getBucket(l);if(!$r||$r.projection.name==="mercator"&&Ln||$r.fullyClipped)continue;const fi=$r.projection.name==="globe",Ci=fi?c.ae(Pt.zoom):0,Vi=na(bi,$r.getProjection(),Pt),ao=Pt.calculatePixelsToTileUnitsMatrix(Vr),ia=Kr&&$r.hasTextData(),Fo=$r.hasIconTextFit()&&ia&&$r.hasIconData(),Zo=$r.getProjection().createInversionMatrix(Pt,bi.canonical),ga=ys=>{Pt.depthOcclusionForSymbolsAndCircles&&(l.hasInitialOcclusionOpacityProperties||m.terrain)&&(ys.push("DEPTH_D24"),ys.push("DEPTH_OCCLUSION"))},as=()=>{const ys=qt&&l.layout.get("symbol-placement")!=="point",xs=[];ga(xs);const dl=ys||Fo,Gl=l.paint.get("icon-image-cross-fade").constantOr(0);m.terrainRenderModeElevated()&&nr&&xs.push("PITCH_WITH_MAP_TERRAIN"),fi&&(xs.push("PROJECTION_GLOBE_VIEW"),dl&&xs.push("PROJECTED_POS_ON_VIEWPORT")),Gl>0&&xs.push("ICON_TRANSITION"),$r.icon.zOffsetVertexBuffer&&xs.push("Z_OFFSET"),Pe===0&&Qe===0&&xt===0&&gt===1||xs.push("COLOR_ADJUSTMENT"),$r.sdfIcons&&xs.push("RENDER_SDF");const Bl=$r.icon.programConfigurations.get(l.id),Fl=m.getOrCreateProgram("symbol",{config:Bl,defines:xs}),eu=Vr.imageAtlasTexture?Vr.imageAtlasTexture.size:[0,0],Ic=$r.iconSizeData,al=c.bp(Ic,Pt.zoom),ks=nr||Pt.pitch!==0,Rs=Ge(Vi,Vr.tileID.canonical,nr,qt,Pt,$r.getProjection(),ao),rs=Ve(Vi,Vr.tileID.canonical,nr,qt,Pt,$r.getProjection(),ao),fl=m.translatePosMatrix(rs,Vr,R,V,!0),nc=m.translatePosMatrix(Vi,Vr,R,V),Ns=dl?mf:Rs,Mc=qt&&!nr&&!ys;let Uc=cr;!Ln&&!Pt.mercatorFromTransition||qt||(Uc=au(Pt));const Wc=fi?Uc:cr,Tc=l.getColorAdjustmentMatrix(Pe,Qe,xt,gt),bu=Bd(Ic.kind,al,Mc,nr,m,nc,Ns,fl,Bt,!1,eu,[0,0],!0,bi,Ci,ar,Zo,Wc,$r.getProjection(),Tc,Gl),cu=Vr.imageAtlasTexture?Vr.imageAtlasTexture:null,mc=l.layout.get("icon-size").constantOr(0)!==1||$r.iconsNeedLinear,Xd=$r.sdfIcons||m.options.rotating||m.options.zooming||mc||ks?Dt.LINEAR:Dt.NEAREST,Au=$r.sdfIcons&&l.paint.get("icon-halo-width").constantOr(1)!==0,xu=m.terrain&&nr&&ys?c.ab.mat4.invert(c.ab.mat4.create(),Rs):mf;if(ys&&$r.icon){const _d=Pt.elevation,wm=_d?_d.getAtTileOffsetFunc(bi,Pt.center.lat,Pt.worldSize,$r.getProjection()):null,zp=_e(Vi,Vr.tileID.canonical,nr,qt,Pt,$r.getProjection(),ao);Kn($r,Vi,m,!1,zp,rs,nr,be,wm,bi)}return{program:Fl,buffers:$r.icon,uniformValues:bu,atlasTexture:cu,atlasTextureIcon:null,atlasInterpolation:Xd,atlasInterpolationIcon:null,isSDF:$r.sdfIcons,hasHalo:Au,tile:Vr,labelPlaneMatrixInv:xu}},ps=()=>{const ys=mn&&l.layout.get("symbol-placement")!=="point",xs=[],dl=ys||Kr||Fo;m.terrainRenderModeElevated()&&Wn&&xs.push("PITCH_WITH_MAP_TERRAIN"),fi&&(xs.push("PROJECTION_GLOBE_VIEW"),dl&&xs.push("PROJECTED_POS_ON_VIEWPORT")),$r.text.zOffsetVertexBuffer&&xs.push("Z_OFFSET"),$r.iconsInText&&xs.push("RENDER_TEXT_AND_SYMBOL"),xs.push("RENDER_SDF"),ga(xs);const Gl=$r.text.programConfigurations.get(l.id),Bl=m.getOrCreateProgram("symbol",{config:Gl,defines:xs});let Fl,eu=[0,0],Ic=null;const al=$r.textSizeData;$r.iconsInText&&(eu=Vr.imageAtlasTexture?Vr.imageAtlasTexture.size:[0,0],Ic=Vr.imageAtlasTexture?Vr.imageAtlasTexture:null,Fl=Wn||Pt.pitch!==0||m.options.rotating||m.options.zooming||al.kind==="composite"||al.kind==="camera"?Dt.LINEAR:Dt.NEAREST);const ks=Vr.glyphAtlasTexture?Vr.glyphAtlasTexture.size:[0,0],Rs=l.layout.get("text-size-scale-range"),rs=c.aw(m.scaleFactor,Rs[0],Rs[1]),fl=c.bp(al,Pt.zoom,rs),nc=Ge(Vi,Vr.tileID.canonical,Wn,mn,Pt,$r.getProjection(),ao),Ns=Ve(Vi,Vr.tileID.canonical,Wn,mn,Pt,$r.getProjection(),ao),Mc=m.translatePosMatrix(Ns,Vr,B,U,!0),Uc=m.translatePosMatrix(Vi,Vr,B,U),Wc=dl?mf:nc,Tc=mn&&!Wn&&!ys;let bu=cr;!Ln&&!Pt.mercatorFromTransition||mn||(bu=au(Pt));const cu=Bd(al.kind,fl,Tc,Wn,m,Uc,Wc,Mc,Bt,!0,ks,eu,!0,bi,Ci,ar,Zo,fi?bu:cr,$r.getProjection(),null,null,rs),mc=Vr.glyphAtlasTexture?Vr.glyphAtlasTexture:null,Xd=Dt.LINEAR,Au=l.paint.get("text-halo-width").constantOr(1)!==0,xu=m.terrain&&Wn&&ys?c.ab.mat4.invert(c.ab.mat4.create(),nc):mf;if(ys&&$r.text){const _d=Pt.elevation,wm=_d?_d.getAtTileOffsetFunc(bi,Pt.center.lat,Pt.worldSize,$r.getProjection()):null,zp=_e(Vi,Vr.tileID.canonical,Wn,mn,Pt,$r.getProjection(),ao);Kn($r,Vi,m,!0,zp,Ns,Wn,Ae,wm,bi)}return{program:Bl,buffers:$r.text,uniformValues:cu,atlasTexture:mc,atlasTextureIcon:Ic,atlasInterpolation:Xd,atlasInterpolationIcon:Fl,isSDF:!0,hasHalo:Au,tile:Vr,labelPlaneMatrixInv:xu}},ul=$r.icon.segments.get().length,Ks=$r.text.segments.get().length,Ma=ul&&!E.onlyText?as():null,us=Ks&&!E.onlyIcons?ps():null,Eo=l.paint.get("icon-opacity").constantOr(1),_a=l.paint.get("text-opacity").constantOr(1);if(Pr&&$r.canOverlap){Er=!0;const ys=Eo&&!E.onlyText?$r.icon.segments.get():[],xs=_a&&!E.onlyIcons?$r.text.segments.get():[];for(const dl of ys)Ar.push({segments:new c.b7([dl]),sortKey:dl.sortKey,state:Ma});for(const dl of xs)Ar.push({segments:new c.b7([dl]),sortKey:dl.sortKey,state:us})}else E.onlyText||Ar.push({segments:Eo?$r.icon.segments:new c.b7([]),sortKey:0,state:Ma}),E.onlyIcons||Ar.push({segments:_a?$r.text.segments:new c.b7([]),sortKey:0,state:us})}Er&&Ar.sort((bi,Vr)=>bi.sortKey-Vr.sortKey);for(const bi of Ar){const Vr=bi.state;if(Vr)if(m.terrain?m.terrain.setupElevationDraw(Vr.tile,Vr.program,{useDepthForOcclusion:Pt.depthOcclusionForSymbolsAndCircles,labelPlaneMatrixInv:Vr.labelPlaneMatrixInv}):m.setupDepthForOcclusion(Pt.depthOcclusionForSymbolsAndCircles,Vr.program),Rt.activeTexture.set(Dt.TEXTURE0),Vr.atlasTexture&&Vr.atlasTexture.bind(Vr.atlasInterpolation,Dt.CLAMP_TO_EDGE,!0),Vr.atlasTextureIcon&&(Rt.activeTexture.set(Dt.TEXTURE1),Vr.atlasTextureIcon&&Vr.atlasTextureIcon.bind(Vr.atlasInterpolationIcon,Dt.CLAMP_TO_EDGE,!0)),m.uploadCommonLightUniforms(m.context,Vr.program),Vr.hasHalo){const $r=Vr.uniformValues;$r.u_is_halo=1,lm(Vr.buffers,bi.segments,l,m,Vr.program,Nn,_,x,$r,2),$r.u_is_halo=0}else{if(Vr.isSDF){const $r=Vr.uniformValues;Vr.hasHalo&&($r.u_is_halo=1,lm(Vr.buffers,bi.segments,l,m,Vr.program,Nn,_,x,$r,1)),$r.u_is_halo=0}lm(Vr.buffers,bi.segments,l,m,Vr.program,Nn,_,x,Vr.uniformValues,1)}}}function lm(m,r,l,p,_,x,E,R,B,V){const U=[m.dynamicLayoutVertexBuffer,m.opacityVertexBuffer,m.iconTransitioningVertexBuffer,m.globeExtVertexBuffer,m.zOffsetVertexBuffer];_.draw(p,p.context.gl.TRIANGLES,x,E,R,qo.disabled,B,l.id,m.layoutVertexBuffer,m.indexBuffer,r,l.paint,p.transform.zoom,m.programConfigurations.get(l.id),U,V)}function yp(m,r,l,p,_,x,E){const R=m.context.gl,B=l.paint.get("fill-pattern"),V=l.is3D(),U=V?m.stencilModeFor3D():Uo.disabled,J=B&&B.constantOr(1);let Q,le,Ee,be,Ae;E?(le=J&&!l.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",Q=R.LINES):(le=J?"fillPattern":"fill",Q=R.TRIANGLES);for(const Pe of p){const Qe=r.getTile(Pe);if(J&&!Qe.patternsLoaded())continue;const xt=Qe.getBucket(l);if(!xt)continue;m.prepareDrawTile();const gt=xt.programConfigurations.get(l.id),Bt=m.isTileAffectedByFog(Pe),Rt=m.getOrCreateProgram(le,{config:gt,overrideFog:Bt});J&&(m.context.activeTexture.set(R.TEXTURE0),Qe.imageAtlasTexture&&Qe.imageAtlasTexture.bind(R.LINEAR,R.CLAMP_TO_EDGE),gt.updatePaintBuffers());const Dt=B.constantOr(null);if(Dt&&Qe.imageAtlas){const mn=Qe.imageAtlas,nr=c.A.from(Dt).getPrimary().scaleSelf(c.q.devicePixelRatio).serialize(),Wn=mn.patternPositions[nr];Wn&&gt.setConstantPatternPositions(Wn)}const Pt=m.translatePosMatrix(Pe.projMatrix,Qe,l.paint.get("fill-translate"),l.paint.get("fill-translate-anchor")),qt=l.paint.get("fill-emissive-strength");if(E){be=xt.indexBuffer2,Ae=xt.segments2;const mn=m.terrain&&m.terrain.renderingToTexture?m.terrain.drapeBufferSize:[R.drawingBufferWidth,R.drawingBufferHeight];Ee=le==="fillOutlinePattern"&&J?Iv(Pt,qt,m,Qe,mn):hp(Pt,qt,mn)}else be=xt.indexBuffer,Ae=xt.segments,Ee=J?zd(Pt,qt,m,Qe):ch(Pt,qt);m.uploadCommonUniforms(m.context,Rt,Pe.toUnwrapped()),Rt.draw(m,Q,_,V?U:m.stencilModeForClipping(Pe),x,qo.disabled,Ee,l.id,xt.layoutVertexBuffer,be,Ae,l.paint,m.transform.zoom,gt,void 0)}}function fh(m,r,l,p,_,x,E,R){l.resetLayerRenderingStats(m);const B=m.context,V=B.gl,U=m.transform,J=l.paint.get("fill-extrusion-pattern"),Q=J.constantOr(1),le=l.paint.get("fill-extrusion-opacity"),Ee=m.style.enable3dLights(),be=l.paint.get(Ee&&!Q?"fill-extrusion-ambient-occlusion-wall-radius":"fill-extrusion-ambient-occlusion-radius"),Ae=[l.paint.get("fill-extrusion-ambient-occlusion-intensity"),be],Pe=l.layout.get("fill-extrusion-edge-radius"),Qe=Pe>0&&!l.paint.get("fill-extrusion-rounded-roof"),xt=Qe?0:Pe,gt=U.projection.name==="globe"?c.d3():0,Bt=U.projection.name==="globe",Rt=Bt?c.ae(U.zoom):0,Dt=[c.at(U.center.lng),c.aA(U.center.lat)],Pt=l.paint.get("fill-extrusion-flood-light-color-use-theme").constantOr("default")==="none",qt=l.paint.get("fill-extrusion-flood-light-color").toRenderColor(Pt?null:l.lut).toArray01().slice(0,3),mn=l.paint.get("fill-extrusion-flood-light-intensity"),nr=l.paint.get("fill-extrusion-vertical-scale"),Wn=l.paint.get("fill-extrusion-line-width").constantOr(1)!==0,Pr=l.paint.get("fill-extrusion-height-alignment"),Er=l.paint.get("fill-extrusion-base-alignment"),Nn=Jt(m,l.paint.get("fill-extrusion-cutoff-fade-range")),ar=[];let Kr;Bt&&ar.push("PROJECTION_GLOBE_VIEW"),Ae[0]>0&&ar.push("FAUX_AO"),Qe&&ar.push("ZERO_ROOF_RADIUS"),R&&ar.push("HAS_CENTROID"),mn>0&&ar.push("FLOOD_LIGHT"),Nn.shouldRenderCutoff&&ar.push("RENDER_CUTOFF"),Wn&&ar.push("RENDER_WALL_MODE");const Ln=m.renderPass==="shadow",Ar=m.shadowRenderer,cr=Ln&&!!Ar;m.shadowRenderer&&(m.shadowRenderer.useNormalOffset=!0);let bi=[0,0,0];if(Ar){const fi=m.style.directionalLight,Ci=m.style.ambientLight;fi&&Ci&&(bi=ki(m.style,fi,Ci)),Ln||(ar.push("RENDER_SHADOWS","DEPTH_TEXTURE"),Ar.useNormalOffset&&ar.push("NORMAL_OFFSET")),Kr=ar.concat(["SHADOWS_SINGLE_CASCADE"])}const Vr=cr?"fillExtrusionDepth":Q?"fillExtrusionPattern":"fillExtrusion",$r=l.getLayerRenderingStats();for(const fi of p){const Ci=r.getTile(fi),Vi=Ci.getBucket(l);if(!Vi||Vi.projection.name!==U.projection.name)continue;let ao=!1;Ar&&(ao=Ar.getMaxCascadeForTile(fi.toUnwrapped())===0);const ia=m.isTileAffectedByFog(fi),Fo=Vi.programConfigurations.get(l.id),Zo=m.getOrCreateProgram(Vr,{config:Fo,defines:ao?Kr:ar,overrideFog:ia});if(m.terrain&&m.terrain.setupElevationDraw(Ci,Zo,{useMeterToDem:!0}),!Vi.centroidVertexBuffer){const us=Zo.attributes.a_centroid_pos;us!==void 0&&V.vertexAttrib2f(us,0,0)}!Ln&&Ar&&Ar.setupShadows(Ci.tileID.toUnwrapped(),Zo,"vector-tile",Ci.tileID.overscaledZ),Q&&(m.context.activeTexture.set(V.TEXTURE0),Ci.imageAtlasTexture&&Ci.imageAtlasTexture.bind(V.LINEAR,V.CLAMP_TO_EDGE),Fo.updatePaintBuffers());const ga=J.constantOr(null);if(ga&&Ci.imageAtlas){const us=Ci.imageAtlas,Eo=c.A.from(ga).getPrimary().scaleSelf(c.q.devicePixelRatio),_a=us.patternPositions[Eo.serialize()];_a&&Fo.setConstantPatternPositions(_a)}const as=l.paint.get("fill-extrusion-vertical-gradient"),ps=1/Vi.tileToMeter;let ul;if(Ln&&Ar){if(kd(Ci.tileID,Vi,m))continue;const us=Ar.calculateShadowPassMatrixFromTile(Ci.tileID.toUnwrapped());ul=df(us,xt,ps,nr,Pr,Er)}else{const us=m.translatePosMatrix(fi.expandedProjMatrix,Ci,l.paint.get("fill-extrusion-translate"),l.paint.get("fill-extrusion-translate-anchor")),Eo=U.projection.createInversionMatrix(U,fi.canonical);ul=Q?fp(us,m,as,le,Ae,xt,ps,fi,Ci,gt,Pr,Er,Rt,Dt,Eo,qt,nr):lh(us,m,as,le,Ae,xt,ps,fi,gt,Pr,Er,Rt,Dt,Eo,qt,nr,mn,bi)}m.uploadCommonUniforms(B,Zo,fi.toUnwrapped(),null,Nn);let Ks=Vi.segments;if(U.projection.name==="mercator"&&!Ln&&(Ks=Vi.getVisibleSegments(Ci.tileID,m.terrain,m.transform.getFrustum(0)),!Ks.get().length))continue;if($r)if(Ln)for(const us of Ks.get())$r.numRenderedVerticesInShadowPass+=us.primitiveLength;else for(const us of Ks.get())$r.numRenderedVerticesInTransparentPass+=us.primitiveLength;const Ma=[];(m.terrain||R)&&Ma.push(Vi.centroidVertexBuffer),Bt&&Ma.push(Vi.layoutVertexExtBuffer),Wn&&Ma.push(Vi.wallVertexBuffer),Zo.draw(m,B.gl.TRIANGLES,_,x,E,qo.backCCW,ul,l.id,Vi.layoutVertexBuffer,Vi.indexBuffer,Ks,l.paint,m.transform.zoom,Fo,Ma)}m.shadowRenderer&&(m.shadowRenderer.useNormalOffset=!1)}function hh(m,r,l,p,_,x,E,R,B,V,U,J,Q,le,Ee,be,Ae,Pe,Qe){const xt=m.context,gt=xt.gl,Bt=m.transform,Rt=m.transform.zoom,Dt=[],Pt=Jt(m,l.paint.get("fill-extrusion-cutoff-fade-range"));V==="clear"?(Dt.push("CLEAR_SUBPASS"),Qe&&(Dt.push("CLEAR_FROM_TEXTURE"),xt.activeTexture.set(gt.TEXTURE0),Qe.bind(gt.LINEAR,gt.CLAMP_TO_EDGE))):V==="sdf"&&Dt.push("SDF_SUBPASS"),Ae&&Dt.push("HAS_CENTROID"),Pt.shouldRenderCutoff&&Dt.push("RENDER_CUTOFF");const qt=l.layout.get("fill-extrusion-edge-radius"),mn=(nr,Wn,Pr,Er,Nn)=>{const ar=Wn.programConfigurations.get(l.id),Kr=m.isTileAffectedByFog(nr),Ln=m.getOrCreateProgram("fillExtrusionGroundEffect",{config:ar,defines:Dt,overrideFog:Kr}),Ar=((bi,Vr,$r,fi,Ci,Vi,ao,ia,Fo,Zo,ga)=>({u_matrix:Vr,u_opacity:$r,u_ao_pass:fi?1:0,u_meter_to_tile:Ci,u_ao:Vi,u_flood_light_intensity:ao,u_flood_light_color:ia,u_attenuation:Fo,u_edge_radius:Zo,u_fb:0,u_fb_size:ga,u_dynamic_offset:1}))(0,Er,U,B,Nn,[J,Q*Nn],le,Ee,be,Rt>=17?0:qt*Nn,Qe?Qe.size[0]:0),cr=[];Ae&&cr.push(Wn.hiddenByLandmarkVertexBuffer),m.uploadCommonUniforms(xt,Ln,nr.toUnwrapped(),null,Pt),Ln.draw(m,xt.gl.TRIANGLES,_,x,E,R,Ar,l.id,Wn.vertexBuffer,Wn.indexBuffer,Pr,l.paint,Rt,ar,cr)};for(const nr of p){const Wn=r.getTile(nr),Pr=Wn.getBucket(l);if(!Pr||Pr.projection.name!==Bt.projection.name||!Pr.groundEffect||Pr.groundEffect&&!Pr.groundEffect.hasData())continue;const Er=Pr.groundEffect,Nn=1/Pr.tileToMeter;{const ar=m.translatePosMatrix(nr.projMatrix,Wn,l.paint.get("fill-extrusion-translate"),l.paint.get("fill-extrusion-translate-anchor")),Kr=Er.getDefaultSegment();mn(nr,Er,Kr,ar,Nn)}if(Pe)for(let ar=0;ar<4;ar++){const Kr=c.d4[ar](nr),Ln=r.getTile(Kr);if(!Ln)continue;const Ar=Ln.getBucket(l);if(!Ar||Ar.projection.name!==Bt.projection.name||!Ar.groundEffect||Ar.groundEffect&&!Ar.groundEffect.hasData())continue;const cr=Ar.groundEffect;let bi,Vr;ar===0?(bi=[-c.ag,0,0],Vr=1):ar===1?(bi=[c.ag,0,0],Vr=0):ar===2?(bi=[0,-c.ag,0],Vr=3):(bi=[0,c.ag,0],Vr=2);const $r=cr.regionSegments[Vr];if(!$r)continue;const fi=new Float32Array(16);c.ab.mat4.translate(fi,nr.projMatrix,bi),mn(nr,cr,$r,m.translatePosMatrix(fi,Wn,l.paint.get("fill-extrusion-translate"),l.paint.get("fill-extrusion-translate-anchor")),Nn)}}}function pf(m,r,l,p,_,x,E){p.centroidVertexArray.length===0&&p.createCentroidsBuffer();const R=x?x.findDEMTileFor(l):null;if(!(R&&R.dem||E))return;x&&R&&R.dem&&p.selfDEMTileTimestamp!==R.dem._timestamp&&(p.borderDoneWithNeighborZ=[-1,-1,-1,-1],p.selfDEMTileTimestamp=R.dem._timestamp);const B=Pe=>new c.P(Math.ceil((Pe+c.d7)*c.d8),0),V=Pe=>{const Qe=r.getSource().minzoom,xt=Bt=>{const Rt=r.getTileByID(Bt);if(Rt&&Rt.hasData())return Rt.getBucket(_)},gt=[0,-1,1];for(const Bt of gt){if(Pe.overscaledZ+Bt<Qe)continue;const Rt=xt(Pe.calculateScaledKey(Pe.overscaledZ+Bt));if(Rt)return Rt}},U=[0,0,0],J=(Pe,Qe)=>(U[0]=Math.min(Pe.min.y,Qe.min.y),U[1]=Math.max(Pe.max.y,Qe.max.y),U[2]=c.ag-Qe.min.x>Pe.max.x?Qe.min.x-c.ag:Pe.max.x,U),Q=(Pe,Qe)=>(U[0]=Math.min(Pe.min.x,Qe.min.x),U[1]=Math.max(Pe.max.x,Qe.max.x),U[2]=c.ag-Qe.min.y>Pe.max.y?Qe.min.y-c.ag:Pe.max.y,U),le=[(Pe,Qe)=>J(Pe,Qe),(Pe,Qe)=>J(Qe,Pe),(Pe,Qe)=>Q(Pe,Qe),(Pe,Qe)=>Q(Qe,Pe)],Ee=(Pe,Qe,xt,gt,Bt,Rt,Dt)=>{if(!x)return 0;const Pt=[[Rt?xt:Pe,Rt?Pe:xt,0],[Rt?xt:Qe,Rt?Qe:xt,0]],qt=Dt<0?c.ag+Dt:Dt,mn=[Rt?qt:(Pe+Qe)/2,Rt?(Pe+Qe)/2:qt,0];return xt===0&&Dt<0||xt!==0&&Dt>0?x.getForTilePoints(Bt,[mn],!0,gt):Pt.push(mn),x.getForTilePoints(l,Pt,!0,R),Math.max(Pt[0][2],Pt[1][2],mn[2])/x.exaggeration()};for(let Pe=0;Pe<4;Pe++){const Qe=p.borderFeatureIndices[Pe];if(Qe.length===0)continue;const xt=c.d4[Pe](l),gt=V(xt);if(!(gt&&gt instanceof c.d5))continue;const Bt=x?x.findDEMTileFor(xt):null;if(!(Bt&&Bt.dem||E)||(x&&Bt&&Bt.dem&&p.borderDEMTileTimestamp[Pe]!==Bt.dem._timestamp&&(p.borderDoneWithNeighborZ[Pe]=-1,p.borderDEMTileTimestamp[Pe]=Bt.dem._timestamp),p.borderDoneWithNeighborZ[Pe]===gt.canonical.z))continue;gt.centroidVertexArray.length===0&&gt.createCentroidsBuffer();const Rt=(Pe<2?1:5)-Pe,Dt=gt.borderDoneWithNeighborZ[Rt]!==p.canonical.z,Pt=gt.borderFeatureIndices[Rt];let qt=0;if(p.canonical.z!==gt.canonical.z){for(const mn of Qe)p.showCentroid(p.featuresOnBorder[mn]);if(Dt)for(const mn of Pt)gt.showCentroid(gt.featuresOnBorder[mn]);p.borderDoneWithNeighborZ[Pe]=gt.canonical.z,gt.borderDoneWithNeighborZ[Rt]=p.canonical.z}for(const mn of Qe){const nr=p.featuresOnBorder[mn],Wn=p.centroidData[nr.centroidDataIndex],Pr=nr.borders[Pe];let Er;for(;qt<Pt.length;){Er=gt.featuresOnBorder[Pt[qt]];const Nn=Er.borders[Rt];if(Nn[1]>Pr[0]+3||Nn[0]>Pr[0]-3)break;gt.showCentroid(Er),qt++}if(Er&&qt<Pt.length){const Nn=qt;let ar=0;for(;!(Er.borders[Rt][0]>Pr[1]-3)&&(ar++,++qt!==Pt.length);)Er=gt.featuresOnBorder[Pt[qt]];Er=gt.featuresOnBorder[Pt[Nn]];let Kr=!1;if(ar>=1){const cr=Er.borders[Rt];Math.abs(Pr[0]-cr[0])<3&&Math.abs(Pr[1]-cr[1])<3&&(ar=1,Kr=!0,qt=Nn+1)}else if(ar===0){p.showCentroid(nr);continue}const Ln=gt.centroidData[Er.centroidDataIndex];E&&Kr&&(((be=Wn).flags|(Ae=Ln).flags)&c.d6?(be.flags|=c.d6,Ae.flags|=c.d6):(be.flags&=~c.d6,Ae.flags&=~c.d6));const Ar=nr.intersectsCount()>1||Er.intersectsCount()>1;if(ar>1)qt=Nn,Wn.centroidXY=Ln.centroidXY=new c.P(0,0);else if(Bt&&Bt.dem&&!Ar){const cr=le[Pe](Wn,Ln),bi=Pe%2?c.ag-1:0,Vr=Ee(cr[0],Math.min(c.ag-1,cr[1]),bi,Bt,xt,Pe<2,cr[2]);Wn.centroidXY=Ln.centroidXY=B(Vr)}else Ar?Wn.centroidXY=Ln.centroidXY=new c.P(0,0):(Wn.centroidXY=p.encodeBorderCentroid(nr),Ln.centroidXY=gt.encodeBorderCentroid(Er));p.writeCentroidToBuffer(Wn),gt.writeCentroidToBuffer(Ln)}else p.showCentroid(nr)}p.borderDoneWithNeighborZ[Pe]=gt.canonical.z,gt.borderDoneWithNeighborZ[Rt]=p.canonical.z}var be,Ae;(p.needsCentroidUpdate||!p.centroidVertexBuffer&&p.centroidVertexArray.length!==0)&&p.uploadCentroid(m)}const Fd=[1,0,0],pi=[0,1,0],Ki=[0,0,1];function kd(m,r,l){const p=l.transform,_=l.shadowRenderer;if(!_)return!0;const x=m.toUnwrapped(),E=p.tileSize*_._cascades[l.currentShadowCascade].scale;let R=r.maxHeight;if(p.elevation){const be=p.elevation.getMinMaxForTile(m);be&&(R+=be.max)}const B=[..._.shadowDirection];B[2]=-B[2];const V=_.computeSimplifiedTileShadowVolume(x,R,E,B);if(!V)return!1;const U=[Fd,pi,Ki,B,[B[0],0,B[2]],[0,B[1],B[2]]],J=p.projection.name==="globe",Q=p.scaleZoom(E),le=c.bR.fromInvProjectionMatrix(p.invProjMatrix,p.worldSize,Q,!J),Ee=_.getCurrentCascadeFrustum();return le.intersectsPrecise(V.vertices,V.planes,U)===0||Ee.intersectsPrecise(V.vertices,V.planes,U)===0}function nl(m){return[m[0]*c.d9,m[1]*c.d9,m[2]*c.d9,0]}function Gn(m,r,l,p,_,x,E,R,B){const V=p.getSource(),U=l.globeSharedBuffers;if(!U)return;let J,Q,le;if(r&&(J=p.getTile(r)),V instanceof c.aJ?(Q=V.texture,le=c.cI(0,0,l.transform)):J&&r&&(Q=J.texture,le=c.cI(r.canonical.z,r.canonical.x,l.transform)),!Q||!le)return;m||(le=c.ab.mat4.scale(c.ab.mat4.create(),le,[1,-1,1]));const Ee=l.context,be=Ee.gl,Ae=_.paint.get("raster-resampling")==="nearest"?be.NEAREST:be.LINEAR,Pe=l.colorModeForDrapableLayerRenderPass(x),Qe=E.defines;Qe.push("GLOBE_POLES");const xt=new To(be.LEQUAL,To.ReadWrite,l.depthRangeFor3D),gt=Float32Array.from(l.transform.expandedFarZProjMatrix),Bt=Float32Array.from(c.bb(c.cH(new c.bT(0,0,0))));l.terrain&&l.terrain.prepareDrawTile(),Ee.activeTexture.set(be.TEXTURE0),Q.bind(Ae,be.CLAMP_TO_EDGE),Ee.activeTexture.set(be.TEXTURE1),Q.bind(Ae,be.CLAMP_TO_EDGE),Q.useMipmap&&Ee.extTextureFilterAnisotropic&&l.transform.pitch>20&&be.texParameterf(be.TEXTURE_2D,Ee.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,Ee.extTextureFilterAnisotropicMax);const[Rt,Dt,Pt,qt]=r?U.getPoleBuffers(r.canonical.z,!1):U.getPoleBuffers(0,!0),mn=_.paint.get("raster-elevation");let nr;m?(nr=Rt,l.renderDefaultNorthPole=mn!==0):(nr=Dt,l.renderDefaultSouthPole=mn!==0);const Wn=nl(E.mix),Pr=((Nn,ar,Kr,Ln,Ar,cr,bi,Vr,$r,fi,Ci,Vi,ao)=>Nd(Nn,ar,Kr,new Float32Array(16),new Float32Array(9),[0,0],Ln,[0,0],[0,0,0,0],1,{opacity:1,mix:0},cr,[0,0],Vr,2,fi,Ci,Vi,1,0,ao))(gt,Bt,le,c.ae(l.transform.zoom),0,_,0,mn,0,Wn,E.offset,E.range,x),Er=l.getOrCreateProgram("raster",{defines:Qe});l.uploadCommonUniforms(Ee,Er,null),Er.draw(l,be.TRIANGLES,xt,B,Pe,R,Pr,_.id,nr,Pt,qt)}function Ug(m){const r=m._nearZ,l=m.projection.farthestPixelDistance(m),p=l-r,_=.2*m.height,x=r+_;return[r,l,(x-_-r)/p,(x-r)/p]}function _p(m,r,l,p){if(m)return r instanceof mt&&m instanceof to?r.getTextureDescriptor(m,l,!0):{texture:m.texture,mix:nl(p.mix),offset:p.offset,buffer:0,tileSize:1}}var mh=c.da([{name:"a_index",type:"Int16",components:1}]);class Wg{constructor(r,l,p,_){const x={width:p[0],height:p[1],data:null},E=r.gl;this.targetColorTexture=new c.T(r,x,E.RGBA8,{useMipmap:!1}),this.backgroundColorTexture=new c.T(r,x,E.RGBA8,{useMipmap:!1}),this.context=r,this.updateParticleTexture(l,_),this.lastInvalidatedAt=0}updateParticleTexture(r,l){if(this.particleTextureDimension===l.width)return;(this.particleTexture0||this.particleTexture1||this.particleIndexBuffer||this.particleSegment)&&(this.particleTexture0.destroy(),this.particleTexture1.destroy(),this.particleIndexBuffer.destroy(),this.particleSegment.destroy());const p=this.context.gl,_=l.width*l.height;this.particleTexture0=new c.T(this.context,l,p.RGBA8,{premultiply:!1,useMipmap:!1}),this.particleTexture1=new c.T(this.context,l,p.RGBA8,{premultiply:!1,useMipmap:!1});const x=new c.db;x.reserve(_);for(let E=0;E<_;E++)x.emplaceBack(E);this.particleIndexBuffer=this.context.createVertexBuffer(x,mh.members,!0),this.particleSegment=c.b7.simpleSegment(0,0,this.particleIndexBuffer.length,0),this.particleTextureDimension=l.width}update(r){return!(this.lastInvalidatedAt<r&&(this.lastInvalidatedAt=c.q.now(),1))}destroy(){this.targetColorTexture.destroy(),this.backgroundColorTexture.destroy(),this.particleIndexBuffer.destroy(),this.particleTexture0.destroy(),this.particleTexture1.destroy(),this.particleSegment.destroy()}}function bp(m,r,l){if(!m)return null;const p=r.getTextureDescriptor(m,l,!0);if(!p)return null;let{texture:_,mix:x,offset:E,tileSize:R,buffer:B,format:V}=p;if(!_||!V)return null;let U=!1;return V==="uint32"&&(U=!0,x[3]=0,x=tm(c.dc,x,[0,l.paint.get("raster-particle-max-speed")]),E=mp(c.dc,E,[0,l.paint.get("raster-particle-max-speed")])),{texture:_,textureOffset:[B/(R+2*B),R/(R+2*B)],tileSize:R,scalarData:U,scale:x,offset:E,defines:["RASTER_ARRAY",{uint8:"DATA_FORMAT_UINT8",uint16:"DATA_FORMAT_UINT16",uint32:"DATA_FORMAT_UINT32"}[V]]}}function Mv(m){const r=m._nearZ,l=m.projection.farthestPixelDistance(m),p=l-r,_=.2*m.height,x=r+_;return[r,l,(x-_-r)/p,(x-r)/p]}const gf=new c.aj(1,0,0,1),Tv=new c.aj(0,1,0,1),Pv=new c.aj(0,0,1,1),Gg=new c.aj(1,0,1,1),cm=new c.aj(0,1,1,1);function Gu(m,r,l,p,_,x,E){const R=m.context,B=m.transform,V=R.gl,U=B.projection.name==="globe",J=U?["PROJECTION_GLOBE_VIEW"]:[];let Q=c.ab.mat4.clone(l.projMatrix);if(U&&c.ae(B.zoom)>0){const Wn=c.ba(l.canonical,B),Pr=c.dd(Wn);Q=c.ab.mat4.multiply(new Float32Array(16),B.globeMatrix,Pr),c.ab.mat4.multiply(Q,B.projMatrix,Q)}const le=c.ab.mat4.create();le[12]+=2*_/(c.q.devicePixelRatio*B.width),le[13]+=2*x/(c.q.devicePixelRatio*B.height),c.ab.mat4.multiply(Q,le,Q);const Ee=m.getOrCreateProgram("debug",{defines:J}),be=r.getTileByID(l.key);m.terrain&&m.terrain.setupElevationDraw(be,Ee);const Ae=To.disabled,Pe=Uo.disabled,Qe=m.colorModeForRenderPass(),xt="$debug";R.activeTexture.set(V.TEXTURE0),m.emptyTexture.bind(V.LINEAR,V.CLAMP_TO_EDGE),U?be._makeGlobeTileDebugBuffers(m.context,B):be._makeDebugTileBoundsBuffers(m.context,B.projection);const gt=be._tileDebugBuffer||m.debugBuffer,Bt=be._tileDebugIndexBuffer||m.debugIndexBuffer,Rt=be._tileDebugSegments||m.debugSegments;if(Ee.draw(m,V.LINE_STRIP,Ae,Pe,Qe,qo.disabled,Ld(Q,p),xt,gt,Bt,Rt,null,null,null,[be._globeTileDebugBorderBuffer]),E){const Wn=be.latestRawTileData,Pr=Math.floor((Wn&&Wn.byteLength||0)/1024);let Er=l.canonical.toString();l.overscaledZ!==l.canonical.z&&(Er+=` => ${l.overscaledZ}`),Er+=` ${be.state}`,Er+=` ${Pr}kb`,function(Nn,ar){Nn.initDebugOverlayCanvas();const Kr=Nn.debugOverlayCanvas,Ln=Nn.context.gl,Ar=Nn.debugOverlayCanvas.getContext("2d");Ar.clearRect(0,0,Kr.width,Kr.height),Ar.shadowColor="white",Ar.shadowBlur=2,Ar.lineWidth=1.5,Ar.strokeStyle="white",Ar.textBaseline="top",Ar.font="bold 36px Open Sans, sans-serif",Ar.fillText(ar,5,5),Ar.strokeText(ar,5,5),Nn.debugOverlayTexture.update(Kr),Nn.debugOverlayTexture.bind(Ln.LINEAR,Ln.CLAMP_TO_EDGE)}(m,Er)}const Dt=r.getTile(l).tileSize,Pt=512/Math.min(Dt,512)*(l.overscaledZ/B.zoom)*.5,qt=be._tileDebugTextBuffer||m.debugBuffer,mn=be._tileDebugTextIndexBuffer||m.quadTriangleIndexBuffer,nr=be._tileDebugTextSegments||m.debugSegments;Ee.draw(m,V.TRIANGLES,Ae,Pe,ra.alphaBlended,qo.disabled,Ld(Q,c.aj.transparent,Pt),xt,qt,mn,nr,null,null,null,[be._globeTileDebugTextBuffer])}function xp(m,r,l,p){jd(m,0,r+l/2,m.transform.width,l,p)}function Cp(m,r,l,p){jd(m,r-l/2,0,l,m.transform.height,p)}function jd(m,r,l,p,_,x){const E=m.context,R=E.gl;R.enable(R.SCISSOR_TEST),R.scissor(r*c.q.devicePixelRatio,l*c.q.devicePixelRatio,p*c.q.devicePixelRatio,_*c.q.devicePixelRatio),E.clear({color:x}),R.disable(R.SCISSOR_TEST)}const um=c.da([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:Tu}=um;function Pu(m,r,l,p){m.emplaceBack(r,l,p)}class Sp{constructor(r){this.vertexArray=new c.de,this.indices=new c.aU,Pu(this.vertexArray,-1,-1,1),Pu(this.vertexArray,1,-1,1),Pu(this.vertexArray,-1,1,1),Pu(this.vertexArray,1,1,1),Pu(this.vertexArray,-1,-1,-1),Pu(this.vertexArray,1,-1,-1),Pu(this.vertexArray,-1,1,-1),Pu(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=r.createVertexBuffer(this.vertexArray,Tu),this.indexBuffer=r.createIndexBuffer(this.indices),this.segment=c.b7.simpleSegment(0,0,36,12)}}function Ll(m,r,l,p,_,x){const E=m.context.gl,R=r.paint.get("sky-atmosphere-color"),B=r.paint.get("sky-atmosphere-halo-color"),V=r.paint.get("sky-atmosphere-sun-intensity"),U=((J,Q,le,Ee,be)=>({u_matrix_3f:J,u_sun_direction:Q,u_sun_intensity:le,u_color_tint_r:[Ee.r,Ee.g,Ee.b,Ee.a],u_color_tint_m:[be.r,be.g,be.b,be.a],u_luminance:5e-5}))(c.ab.mat3.fromMat4(c.ab.mat3.create(),p),_,V,R,B);E.framebufferTexture2D(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.TEXTURE_CUBE_MAP_POSITIVE_X+x,r.skyboxTexture,0),l.draw(m,E.TRIANGLES,To.disabled,Uo.disabled,ra.unblended,qo.frontCW,U,"skyboxCapture",r.skyboxGeometry.vertexBuffer,r.skyboxGeometry.indexBuffer,r.skyboxGeometry.segment)}const V_=c.da([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]);class vf{constructor(r){const l=new c.df;l.emplaceBack(-1,1,1,0,0),l.emplaceBack(1,1,1,1,0),l.emplaceBack(1,-1,1,1,1),l.emplaceBack(-1,-1,1,0,1);const p=new c.aU;p.emplaceBack(0,1,2),p.emplaceBack(2,3,0),this.vertexBuffer=r.createVertexBuffer(l,V_.members),this.indexBuffer=r.createIndexBuffer(p),this.segments=c.b7.simpleSegment(0,0,4,2)}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy()}}const Gs=c.da([{type:"Float32",name:"a_pos_3f",components:3},{type:"Float32",name:"a_uv",components:2},{type:"Float32",name:"a_size_scale",components:1},{type:"Float32",name:"a_fade_opacity",components:1}]);class bs{constructor(){this.starsCount=16e3,this.sizeMultiplier=.15,this.sizeRange=100,this.intensityRange=200}}class Kg{constructor(r){this.colorModeAlphaBlendedWriteRGB=new ra([1,Yl,1,Yl],c.aj.transparent,[!0,!0,!0,!1]),this.colorModeWriteAlpha=new ra([1,0,1,0],c.aj.transparent,[!1,!1,!1,!0]),this.params=new bs,this.updateNeeded=!0,r.tp.registerParameter(this.params,["Stars"],"starsCount",{min:100,max:16e3,step:1},()=>{this.updateNeeded=!0}),r.tp.registerParameter(this.params,["Stars"],"sizeMultiplier",{min:.01,max:2,step:.01}),r.tp.registerParameter(this.params,["Stars"],"sizeRange",{min:0,max:200,step:1},()=>{this.updateNeeded=!0}),r.tp.registerParameter(this.params,["Stars"],"intensityRange",{min:0,max:200,step:1},()=>{this.updateNeeded=!0})}update(r){const l=r.context;if(!this.atmosphereBuffer||this.updateNeeded){this.updateNeeded=!1,this.atmosphereBuffer=new vf(l);const p=this.params.sizeRange,_=this.params.intensityRange,x=function(U){const J=c.di(30),Q=[];for(let le=0;le<U;++le){const Ee=2*Math.PI*J(),be=Math.acos(1-2*J())-.5*Math.PI;Q.push(c.ab.vec3.fromValues(Math.cos(be)*Math.cos(Ee),Math.cos(be)*Math.sin(Ee),Math.sin(be)))}return Q}(this.params.starsCount),E=c.di(300),R=new c.dg,B=new c.aU;let V=0;for(let U=0;U<x.length;++U){const J=c.ab.vec3.scale([],x[U],200),Q=Math.max(0,1+.01*p*(1*E()-.5)),le=Math.max(0,1+.01*_*(1*E()-.5));R.emplaceBack(J[0],J[1],J[2],-1,-1,Q,le),R.emplaceBack(J[0],J[1],J[2],1,-1,Q,le),R.emplaceBack(J[0],J[1],J[2],1,1,Q,le),R.emplaceBack(J[0],J[1],J[2],-1,1,Q,le),B.emplaceBack(V+0,V+1,V+2),B.emplaceBack(V+0,V+2,V+3),V+=4}this.starsVx=l.createVertexBuffer(R,Gs.members),this.starsIdx=l.createIndexBuffer(B),this.starsSegments=c.b7.simpleSegment(0,0,R.length,B.length)}}destroy(){this.atmosphereBuffer&&this.atmosphereBuffer.destroy(),this.starsVx&&this.starsVx.destroy(),this.starsIdx&&this.starsIdx.destroy()}drawAtmosphereGlow(r,l){const p=r.context,_=p.gl,x=r.transform,E=new To(_.LEQUAL,To.ReadOnly,[0,1]),R=c.ae(x.zoom),B=r.style.getLut(l.scope),V=l.properties.get("color-use-theme")==="none",U=l.properties.get("color").toRenderColor(V?null:B).toArray01(),J=l.properties.get("high-color-use-theme")==="none",Q=l.properties.get("high-color").toRenderColor(J?null:B).toArray01(),le=l.properties.get("space-color-use-theme")==="none",Ee=l.properties.get("space-color").toRenderColor(le?null:B).toArray01PremultipliedAlpha(),be=5e-4,Ae=c.dh(l.properties.get("horizon-blend"),0,1,be,.25),Pe=c.cC(r,p,x)&&Ae===be?x.worldSize/(2*Math.PI*1.025)-1:x.globeRadius,Qe=r.frameCounter/1e3%1,xt=c.ab.vec3.length(x.globeCenterInViewSpace),gt=Math.sqrt(Math.pow(xt,2)-Math.pow(Pe,2)),Bt=Math.acos(gt/xt),Rt=Dt=>{const Pt=x.projection.name==="globe"?["PROJECTION_GLOBE_VIEW","FOG"]:["FOG"];Dt&&Pt.push("ALPHA_PASS");const qt=r.getOrCreateProgram("globeAtmosphere",{defines:Pt}),mn=((Wn,Pr,Er,Nn,ar,Kr,Ln,Ar,cr,bi,Vr,$r)=>({u_frustum_tl:Wn,u_frustum_tr:Pr,u_frustum_br:Er,u_frustum_bl:Nn,u_horizon:ar,u_transition:Kr,u_fadeout_range:Ln,u_color:Ar,u_high_color:cr,u_space_color:bi,u_temporal_offset:Vr,u_horizon_angle:$r}))(x.frustumCorners.TL,x.frustumCorners.TR,x.frustumCorners.BR,x.frustumCorners.BL,x.frustumCorners.horizon,R,Ae,U,Q,Ee,Qe,Bt);r.uploadCommonUniforms(p,qt);const nr=this.atmosphereBuffer;nr&&qt.draw(r,_.TRIANGLES,E,Uo.disabled,Dt?this.colorModeWriteAlpha:this.colorModeAlphaBlendedWriteRGB,qo.backCW,mn,Dt?"atmosphere_glow_alpha":"atmosphere_glow",nr.vertexBuffer,nr.indexBuffer,nr.segments)};Rt(!1),Rt(!0)}drawStars(r,l){const p=c.aw(l.properties.get("star-intensity"),0,1);if(p===0)return;const _=r.context,x=_.gl,E=r.transform,R=r.getOrCreateProgram("stars"),B=c.ab.quat.identity([]);c.ab.quat.rotateX(B,B,-E._pitch),c.ab.quat.rotateZ(B,B,-E.angle),c.ab.quat.rotateX(B,B,c.ai(E._center.lat)),c.ab.quat.rotateY(B,B,-c.ai(E._center.lng));const V=c.ab.mat4.fromQuat(new Float32Array(16),B),U=c.ab.mat4.multiply([],E.starsProjMatrix,V),J=c.ab.mat3.fromMat4([],V),Q=c.ab.mat3.invert([],J),le=[0,1,0];c.ab.vec3.transformMat3(le,le,Q),c.ab.vec3.scale(le,le,this.params.sizeMultiplier);const Ee=[1,0,0];c.ab.vec3.transformMat3(Ee,Ee,Q),c.ab.vec3.scale(Ee,Ee,this.params.sizeMultiplier);const be=(Ae=le,Pe=Ee,Qe=p,{u_matrix:Float32Array.from(U),u_up:Ae,u_right:Pe,u_intensity_multiplier:Qe});var Ae,Pe,Qe;r.uploadCommonUniforms(_,R),this.starsVx&&this.starsIdx&&R.draw(r,x.TRIANGLES,To.disabled,Uo.disabled,this.colorModeAlphaBlendedWriteRGB,qo.disabled,be,"atmosphere_stars",this.starsVx,this.starsIdx,this.starsSegments)}}function md(m,r){const l=[...m],p=r.cameraWorldSizeForFog/r.worldSize,_=c.ab.mat4.identity([]);return c.ab.mat4.scale(_,_,[p,p,1]),c.ab.mat4.multiply(l,_,l),c.ab.mat4.multiply(l,r.worldToFogMatrix,l),l}function yf(m,r,l,p,_){const x=l.material,E=p.context,{baseColorTexture:R,metallicRoughnessTexture:B}=x.pbrMetallicRoughness,{normalTexture:V,occlusionTexture:U,emissionTexture:J}=x;function Q(Ee,be,Ae){if(Ee&&(m.push(be),E.activeTexture.set(E.gl.TEXTURE0+Ae),Ee.gfxTexture)){const{minFilter:Pe,magFilter:Qe,wrapS:xt,wrapT:gt}=Ee.sampler;Ee.gfxTexture.bindExtraParam(Pe,Qe,xt,gt)}}Q(R,"HAS_TEXTURE_u_baseColorTexture",gl.BaseColor),Q(B,"HAS_TEXTURE_u_metallicRoughnessTexture",gl.MetallicRoughness),Q(V,"HAS_TEXTURE_u_normalTexture",gl.Normal),Q(U,"HAS_TEXTURE_u_occlusionTexture",gl.Occlusion),Q(J,"HAS_TEXTURE_u_emissionTexture",gl.Emission),_&&(_.texture||(_.texture=new c.dk(p.context,_.image,[_.image.height,_.image.height,_.image.height],E.gl.RGBA8)),E.activeTexture.set(E.gl.TEXTURE0+gl.LUT),_.texture&&_.texture.bind(E.gl.LINEAR,E.gl.CLAMP_TO_EDGE),m.push("APPLY_LUT_ON_GPU")),l.texcoordBuffer&&(m.push("HAS_ATTRIBUTE_a_uv_2f"),r.push(l.texcoordBuffer)),l.colorBuffer&&(m.push(l.colorBuffer.itemSize===12?"HAS_ATTRIBUTE_a_color_3f":"HAS_ATTRIBUTE_a_color_4f"),r.push(l.colorBuffer)),l.normalBuffer&&(m.push("HAS_ATTRIBUTE_a_normal_3f"),r.push(l.normalBuffer)),l.pbrBuffer&&(m.push("HAS_ATTRIBUTE_a_pbr"),m.push("HAS_ATTRIBUTE_a_heightBasedEmissiveStrength"),r.push(l.pbrBuffer)),x.alphaMode!=="OPAQUE"&&x.alphaMode!=="MASK"||m.push("UNPREMULT_TEXTURE_IN_SHADER"),x.defined||m.push("DIFFUSE_SHADED");const le=p.shadowRenderer;le&&(m.push("RENDER_SHADOWS","DEPTH_TEXTURE"),le.useNormalOffset&&m.push("NORMAL_OFFSET"))}function pd(m,r,l,p,_,x){const E=l.paint.get("model-opacity").constantOr(1),R=r.context,B=new To(r.context.gl.LEQUAL,To.ReadWrite,r.depthRangeFor3D),V=r.transform,U=m.mesh,J=U.material,Q=J.pbrMetallicRoughness,le=r.style.fog;let Ee;Ee=r.transform.projection.zAxisUnit==="pixels"?[...m.nodeModelMatrix]:c.ab.mat4.multiply([],p.zScaleMatrix,m.nodeModelMatrix),c.ab.mat4.multiply(Ee,p.negCameraPosMatrix,Ee);const be=c.ab.mat4.invert([],Ee);c.ab.mat4.transpose(be,be);const Ae=l.paint.get("model-color-use-theme").constantOr("default")==="none",Pe=l.paint.get("model-emissive-strength").constantOr(0),Qe=ff(new Float32Array(m.worldViewProjection),new Float32Array(Ee),new Float32Array(be),null,r,E,Q.baseColorFactor.toRenderColor(null),J.emissiveFactor,Q.metallicFactor,Q.roughnessFactor,J,Pe,l),xt={defines:[]},gt=[],Bt=r.shadowRenderer;Bt&&(Bt.useNormalOffset=!1),yf(xt.defines,gt,U,r,Ae?null:l.lut);let Rt=null;if(le){const qt=md(m.nodeModelMatrix,r.transform);if(Rt=new Float32Array(qt),V.projection.name!=="globe"){const mn=U.aabb.min,nr=U.aabb.max,[Wn,Pr]=le.getOpacityForBounds(qt,mn[0],mn[1],nr[0],nr[1]);xt.overrideFog=Wn>=Ye||Pr>=Ye}}const Dt=Jt(r,l.paint.get("model-cutoff-fade-range"));Dt.shouldRenderCutoff&&xt.defines.push("RENDER_CUTOFF");const Pt=r.getOrCreateProgram("model",xt);r.uploadCommonUniforms(R,Pt,null,Rt,Dt),r.renderPass!=="shadow"&&Bt&&Bt.setupShadowsFromMatrix(m.nodeModelMatrix,Pt),Pt.draw(r,R.gl.TRIANGLES,B,_,x,U.material.doubleSided?qo.disabled:qo.backCCW,Qe,l.id,U.vertexBuffer,U.indexBuffer,U.segments,l.paint,r.transform.zoom,void 0,gt)}function dm(m,r,l,p,_,x,E){let R;R=m.projection.name==="globe"?c.dl(l,m):[...l],c.ab.mat4.multiply(R,R,r.matrix);const B=c.ab.mat4.multiply([],p,R);if(r.meshes)for(const V of r.meshes){if(V.material.alphaMode!=="BLEND"){E.push({mesh:V,depth:0,modelIndex:_,worldViewProjection:B,nodeModelMatrix:R});continue}const U=c.ab.vec3.transformMat4([],V.centroid,B);!m.isOrthographic&&U[2]<=0||x.push({mesh:V,depth:U[2],modelIndex:_,worldViewProjection:B,nodeModelMatrix:R})}if(r.children)for(const V of r.children)dm(m,V,l,p,_,x,E)}function _f(m,r,l,p){const _=l.shadowRenderer;if(!_)return;const x=_.getShadowPassDepthMode(),E=_.getShadowPassColorMode(),R=_.calculateShadowPassMatrixFromMatrix(r),B=uh(R);l.getOrCreateProgram("modelDepth",{defines:l._shadowMapDebug?[]:["DEPTH_TEXTURE"]}).draw(l,l.context.gl.TRIANGLES,x,Uo.disabled,E,qo.backCCW,B,p.id,m.vertexBuffer,m.indexBuffer,m.segments,p.paint,l.transform.zoom,void 0,void 0)}function Ou(m,r,l){const p=r.updateZoomBasedPaintProperties(),_=function(x,E,R){let B,V,U,J=x.terrain?x.terrain.exaggeration():0;if(x.terrain&&J>0){const Q=x.terrain,le=Q.findDEMTileFor(R);le&&le.dem?B=c.dn.create(Q,R,le):J=0}if(J===0&&(E.terrainElevationMin=0,E.terrainElevationMax=0),J===E.validForExaggeration&&(J===0||B&&B._demTile&&B._demTile.tileID===E.validForDEMTile.id&&B._dem._timestamp===E.validForDEMTile.timestamp))return!1;for(const Q in E.instancesPerModel){const le=E.instancesPerModel[Q];for(let Ee=0;Ee<le.instancedDataArray.length;++Ee){const be=(B?J*B.getElevationAt(0|le.instancedDataArray.float32[16*Ee],0|le.instancedDataArray.float32[16*Ee+1],!0,!0):0)+le.instancesEvaluatedElevation[Ee];le.instancedDataArray.float32[16*Ee+6]=be,V=V?Math.min(E.terrainElevationMin,be):be,U=U?Math.max(E.terrainElevationMax,be):be}}return E.terrainElevationMin=V||0,E.terrainElevationMax=U||0,E.validForExaggeration=J,E.validForDEMTile=B&&B._demTile?{id:B._demTile.tileID,timestamp:B._dem._timestamp}:{id:void 0,timestamp:0},!0}(m,r,l);(p||_)&&(r.uploaded=!1,r.upload(m.context))}const vl={shadowUniformsInitialized:!1,useSingleShadowCascade:!1,tileMatrix:new Float64Array(16),shadowTileMatrix:new Float32Array(16),aabb:new c.cd([0,0,0],[c.ag,c.ag,0])};function gu(m,r){const l=1<<m.canonical.z,p=r.getFreeCameraOptions().position,_=r.elevation,x=m.canonical.x/l,E=(m.canonical.x+1)/l,R=m.canonical.y/l,B=(m.canonical.y+1)/l;let V=r._centerAltitude;if(_){const le=_.getMinMaxForTile(m);le&&le.max>V&&(V=le.max)}const U=c.aw(p.x,x,E)-p.x,J=c.aw(p.y,R,B)-p.y,Q=c.bH(V,r.center.lat)-p.z;return r._zoomFromMercatorZ(Math.sqrt(U*U+J*J+Q*Q))}function Wl(m,r,l,p,_,x,E){const R=m.context,B=m.renderPass==="shadow",V=m.shadowRenderer,U=B&&V?V.getShadowPassDepthMode():new To(R.gl.LEQUAL,To.ReadWrite,m.depthRangeFor3D),J=m.isTileAffectedByFog(x);if(l.meshes)for(const Q of l.meshes){const le=["MODEL_POSITION_ON_GPU"],Ee=[];let be,Ae,Pe;p.instancedDataArray.length>20&&le.push("INSTANCED_ARRAYS");const Qe=Jt(m,r.paint.get("model-cutoff-fade-range"));if(Qe.shouldRenderCutoff&&le.push("RENDER_CUTOFF"),B&&V)be=m.getOrCreateProgram("modelDepth",{defines:le}),Ae=uh(E.shadowTileMatrix,E.shadowTileMatrix,Float32Array.from(l.matrix)),Pe=V.getShadowPassColorMode();else{yf(le,Ee,Q,m,r.paint.get("model-color-use-theme").constantOr("default")==="none"?null:r.lut),be=m.getOrCreateProgram("model",{defines:le,overrideFog:J});const gt=Q.material,Bt=gt.pbrMetallicRoughness,Rt=r.paint.get("model-opacity").constantOr(1),Dt=r.paint.get("model-emissive-strength").constantOr(0);Ae=ff(x.expandedProjMatrix,Float32Array.from(l.matrix),new Float32Array(16),null,m,Rt,Bt.baseColorFactor.toRenderColor(null),gt.emissiveFactor,Bt.metallicFactor,Bt.roughnessFactor,gt,Dt,r,_),V&&(E.shadowUniformsInitialized?be.setShadowUniformValues(R,V.getShadowUniformValues()):(V.setupShadows(x.toUnwrapped(),be,"model-tile",x.overscaledZ),E.shadowUniformsInitialized=!0)),Pe=Qe.shouldRenderCutoff||Rt<1||gt.alphaMode!=="OPAQUE"?ra.alphaBlended:ra.unblended}m.uploadCommonUniforms(R,be,x.toUnwrapped(),null,Qe);const xt=Q.material.doubleSided?qo.disabled:qo.backCCW;if(p.instancedDataArray.length>20)Ee.push(p.instancedDataBuffer),be.draw(m,R.gl.TRIANGLES,U,Uo.disabled,Pe,xt,Ae,r.id,Q.vertexBuffer,Q.indexBuffer,Q.segments,r.paint,m.transform.zoom,void 0,Ee,p.instancedDataArray.length);else{const gt=B?"u_instance":"u_normal_matrix";for(let Bt=0;Bt<p.instancedDataArray.length;++Bt)Ae[gt]=new Float32Array(p.instancedDataArray.arrayBuffer,64*Bt,16),be.draw(m,R.gl.TRIANGLES,U,Uo.disabled,Pe,xt,Ae,r.id,Q.vertexBuffer,Q.indexBuffer,Q.segments,r.paint,m.transform.zoom,void 0,Ee)}}if(l.children)for(const Q of l.children)Wl(m,r,Q,p,_,x,E)}const fm=[1,-1,1];function hm(m,r,l,p){if(!l.modelManager)return!0;const _=l.modelManager;if(!l.shadowRenderer)return!0;const x=l.shadowRenderer,E=r.aabb;let R=!0,B=m.maxHeight;if(B===0){let U=0;for(const J in m.instancesPerModel){const Q=_.getModel(J,p);Q?U=Math.max(U,Math.max(Math.max(Q.aabb.max[0],Q.aabb.max[1]),Q.aabb.max[2])):R=!1}B=m.maxScale*U*1.41+m.maxVerticalOffset,R&&(m.maxHeight=B)}E.max[2]=B,E.min[2]+=m.terrainElevationMin,E.max[2]+=m.terrainElevationMax,c.ab.vec3.transformMat4(E.min,E.min,r.tileMatrix),c.ab.vec3.transformMat4(E.max,E.max,r.tileMatrix);const V=E.intersects(x.getCurrentCascadeFrustum());return l.currentShadowCascade===0&&(m.isInsideFirstShadowMapFrustum=V===2),V===0}function Zd(m,r){const l=m.uniformValues.u_cutoff_params[0],p=m.uniformValues.u_cutoff_params[1],_=m.uniformValues.u_cutoff_params[2],x=m.uniformValues.u_cutoff_params[3];return p===l||x===_?1:c.aw(((r-l)/(p-l)-_)/(x-_),0,1)}function Xg(m,r,l,p){if(r.pitch<20)return 1;const _=r.getWorldToCameraMatrix();c.ab.mat4.multiply(_,_,m);const x=c.ab.vec4.fromValues(l.min[0],l.min[1],l.min[2],1);let E=c.ab.vec4.transformMat4(c.ab.vec4.create(),x,_),R=E,B=E;x[1]=l.max[1],E=c.ab.vec4.transformMat4(c.ab.vec4.create(),x,_),R=E[1]<R[1]?E:R,B=E[1]>B[1]?E:B,x[0]=l.max[0],E=c.ab.vec4.transformMat4(c.ab.vec4.create(),x,_),R=E[1]<R[1]?E:R,B=E[1]>B[1]?E:B,x[1]=l.min[1],E=c.ab.vec4.transformMat4(c.ab.vec4.create(),x,_),R=E[1]<R[1]?E:R,B=E[1]>B[1]?E:B;const V=c.aw(p[0],0,1),U=100*r.pixelsPerMeter*c.aw(p[1],0,1),J=c.aw(p[2],0,1),Q=c.ab.vec4.lerp(c.ab.vec4.create(),R,B,V),le=Math.tan(.5*r.fovX),Ee=-Q[2]*le;if(U===0)return Q[1]<-Math.abs(Ee)?J:1;const be=(-Math.abs(Ee)-Q[1])/U,Ae=(Qe,xt,gt)=>(1-gt)*Qe+gt*xt,Pe=c.aw(Ae(1,J,be),J,1);return Ae(1,Pe,c.aw((r.pitch-20)/20,0,1))}class Ku{}class wp{constructor(){this._storage=new Map}getLinesFromTrianglesBuffer(r,l,p){{const J=this._storage.get(l.id);if(J)return J.lastUsedFrameIdx=r,J.buf}const _=p.gl,x=_.getBufferParameter(_.ELEMENT_ARRAY_BUFFER,_.BUFFER_SIZE),E=new ArrayBuffer(x),R=new Int16Array(E);_.getBufferSubData(_.ELEMENT_ARRAY_BUFFER,0,new Int16Array(E));const B=new c.dq;for(let J=0;J<x/2;J+=3){const Q=R[J],le=R[J+1],Ee=R[J+2];B.emplaceBack(Q,le),B.emplaceBack(le,Ee),B.emplaceBack(Ee,Q)}const V=p.bindVertexArrayOES.current,U=new Ku;return U.buf=new Ac(p,B),U.lastUsedFrameIdx=r,this._storage.set(l.id,U),p.bindVertexArrayOES.set(V),U.buf}update(r){for(const[l,p]of this._storage)r-p.lastUsedFrameIdx>30&&(p.buf.destroy(),this._storage.delete(l))}destroy(){for(const[r,l]of this._storage)l.buf.destroy(),this._storage.delete(r)}}class mm{constructor(r){this.occluderSize=30,this.depthOffset=-1e-4,r.registerParameter(this,["Occlusion"],"occluderSize",{min:1,max:100,step:1}),r.registerParameter(this,["Occlusion"],"depthOffset",{min:-.05,max:0,step:1e-5})}}const ph=c.da([{type:"Float32",name:"a_pos_3f",components:3},{type:"Float32",name:"a_uv",components:2},{type:"Float32",name:"a_rainParticleData",components:4}]);class Ep{registerParameter(){}registerButton(){}registerBinding(){}refreshUI(){}}class Nl{constructor(r,l){this.revealStart=11,this.revealRange=2,r.registerParameter(this,[...l,"Reveal"],"revealStart",{min:0,max:17,step:.05}),r.registerParameter(this,[...l,"Reveal"],"revealRange",{min:.1,max:5.1,step:.05})}}const Xu=c.da([{type:"Float32",name:"a_pos_2f",components:2}]);class Yg{destroy(){this.vignetteVx&&this.vignetteVx.destroy(),this.vignetteIdx&&this.vignetteIdx.destroy()}draw(r,l){const p=r.getOrCreateProgram("vignette");if(!this.vignetteVx||!this.vignetteIdx){const E=new c.dr,R=new c.aU;E.emplaceBack(-1,-1),E.emplaceBack(1,-1),E.emplaceBack(1,1),E.emplaceBack(-1,1),R.emplaceBack(0,1,2),R.emplaceBack(0,2,3),this.vignetteVx=r.context.createVertexBuffer(E,Xu.members),this.vignetteIdx=r.context.createIndexBuffer(R)}const _=c.b7.simpleSegment(0,0,4,6);if(this.vignetteVx&&this.vignetteIdx){r.uploadCommonUniforms(r.context,p);const E={u_vignetteShape:(x={vignetteShape:[l.start,l.range,Math.pow(10,l.fadePower)],vignetteColor:[l.color.r,l.color.g,l.color.b,l.color.a*l.strength]}).vignetteShape,u_vignetteColor:x.vignetteColor};p.draw(r,r.context.gl.TRIANGLES,To.disabled,Uo.disabled,ra.alphaBlended,qo.disabled,E,"vignette",this.vignetteVx,this.vignetteIdx,_,{})}var x}}class Vd{constructor(){this._accumulatedOffsetX=0,this._accumulatedOffsetY=0,this._accumulatedElevation=0}update(r,l){const p=r.getFreeCameraOptions().position,_=p.toAltitude(),x=p.toLngLat(),E=c.ai(x.lng),R=c.ai(x.lat),B=r.pixelsPerMeter/l,V=E*c.ds,U=c.ds*Math.log(Math.tan(Math.PI/4+R/2));if(this._offsetXPrev===void 0)this._offsetXPrev=0,this._offsetYPrev=0,this._elevationPrev=0,this._accumulatedOffsetX=0,this._accumulatedOffsetY=0,this._accumulatedElevation=0;else{const J=-this._offsetYPrev+U,Q=-this._elevationPrev+_;this._accumulatedOffsetX+=(-this._offsetXPrev+V)*B,this._accumulatedOffsetY+=J*B,this._accumulatedElevation+=Q*B,this._offsetXPrev=V,this._offsetYPrev=U,this._elevationPrev=_}}getPosition(){return[this._accumulatedOffsetX,this._accumulatedOffsetY,this._accumulatedElevation]}}function gd(m,r){return[-(m[0]-Math.floor(m[0]/r)*r),-(m[1]-Math.floor(m[1]/r)*r),-(m[2]-Math.floor(m[2]/r)*r)]}function pm(m){const r=c.di(1323123451230),l=[];for(let p=0;p<m;++p){const _=2*r()-1,x=2*r()-1,E=2*r()-1;l.push(c.ab.vec3.fromValues(_,x,E))}return l}function Ru(m,r,l,p,_){const x=c.aw((_-l)/(p-l),0,1);return(1-x)*m+x*r}class gh{constructor(r){this._movement=new Vd,this._accumulatedTimeFromStart=0,this._prevTime=Date.now()/1e3,this._vignette=new Yg,this._ppmScaleFactor=r}destroy(){this.particlesVx&&this.particlesVx.destroy(),this.particlesIdx&&this.particlesIdx.destroy(),this._vignette&&this._vignette.destroy()}updateOnRender(r,l){const p=r.transform;this._movement.update(p,this._ppmScaleFactor);const _=p.starsProjMatrix,x=c.ab.quat.identity([]);c.ab.quat.rotateX(x,x,c.ai(90)-p._pitch),c.ab.quat.rotateZ(x,x,-p.angle);const E=c.ab.mat4.fromQuat(new Float32Array(16),x),R=c.ab.mat4.fromValues(1,0,0,0,0,0,1,0,0,-1,0,0,0,0,0,1),B=c.ab.mat4.transpose([],R),V=c.ab.mat4.multiply([],B,E),U=Date.now()/1e3;return this._accumulatedTimeFromStart+=(U-this._prevTime)*l,this._prevTime=U,{projectionMatrix:_,modelviewMatrix:V}}}class bf extends gh{constructor(r){super(4.25),this._params={overrideStyleParameters:!1,intensity:.5,timeFactor:1,velocityConeAperture:0,velocity:300,boxSize:2500,dropletSizeX:1,dropletSizeYScale:10,distortionStrength:70,screenThinning:{intensity:.57,start:.46,range:1.17,fadePower:.17,affectedRatio:1,particleOffset:-.2},color:{r:.66,g:.68,b:.74,a:.7},direction:{x:-50,y:-35},shapeDirPower:2,shapeNormalPower:1},this._revealParams=new Nl(r.tp,["Precipitation","Rain"]),this._vignetteParams={strength:1,start:.7,range:1,fadePower:.4,color:{r:.27,g:.27,b:.27,a:1}},this.particlesCount=16e3}update(r){const l=r.context;if(!this.particlesVx){const p=pm(this.particlesCount),_=new c.dt,x=new c.aU;let E=0;const R=c.di(1323123451230);for(let B=0;B<p.length;++B){const V=p[B],U=[2*R()-1,R(),R(),R()];_.emplaceBack(V[0],V[1],V[2],-1,-1,...U),_.emplaceBack(V[0],V[1],V[2],1,-1,...U),_.emplaceBack(V[0],V[1],V[2],1,1,...U),_.emplaceBack(V[0],V[1],V[2],-1,1,...U),x.emplaceBack(E+0,E+1,E+2),x.emplaceBack(E+0,E+2,E+3),E+=4}this.particlesVx=l.createVertexBuffer(_,ph.members),this.particlesIdx=l.createIndexBuffer(x)}}draw(r){if(!this._params.overrideStyleParameters&&!r.style.rain)return;const l=this._params.overrideStyleParameters?this._revealParams:{revealStart:0,revealRange:.01},p=r.transform.zoom;if(l.revealStart>p)return;const _=Ru(0,1,l.revealStart,l.revealStart+l.revealRange,p);if(!this.particlesVx||!this.particlesIdx)return;const x=structuredClone(this._params);let E=[-x.direction.x,x.direction.y,-100];c.ab.vec3.normalize(E,E);const R=structuredClone(this._vignetteParams);R.strength*=_,x.overrideStyleParameters||(x.intensity=r.style.rain.state.density,x.timeFactor=r.style.rain.state.intensity,x.color=structuredClone(r.style.rain.state.color),E=structuredClone(r.style.rain.state.direction),x.screenThinning.intensity=r.style.rain.state.centerThinning,x.dropletSizeX=r.style.rain.state.dropletSize[0],x.dropletSizeYScale=r.style.rain.state.dropletSize[1]/r.style.rain.state.dropletSize[0],x.distortionStrength=100*r.style.rain.state.distortionStrength,R.strength=1,R.color=structuredClone(r.style.rain.state.vignetteColor));const B=this.updateOnRender(r,x.timeFactor),V=r.context,U=V.gl,J=r.transform;this.screenTexture&&this.screenTexture.size[0]===r.width&&this.screenTexture.size[1]===r.height||(this.screenTexture=new c.T(V,{width:r.width,height:r.height,data:null},U.RGBA8)),x.distortionStrength>0&&(V.activeTexture.set(U.TEXTURE0),this.screenTexture.bind(U.LINEAR,U.CLAMP_TO_EDGE),U.copyTexSubImage2D(U.TEXTURE_2D,0,0,0,0,0,r.width,r.height));const Q=r.getOrCreateProgram("rainParticle");r.uploadCommonUniforms(V,Q),V.activeTexture.set(U.TEXTURE0),this.screenTexture.bind(U.LINEAR,U.CLAMP_TO_EDGE);const le=[x.color.r,x.color.g,x.color.b,x.color.a],Ee=(be,Ae)=>{const Pe=gd(this._movement.getPosition(),be),Qe=x.dropletSizeX,xt=x.dropletSizeX*x.dropletSizeYScale,gt=r.width/2,Bt=r.height/2,Rt=Ru(0,x.screenThinning.start,0,1,x.screenThinning.intensity),Dt=Ru(.001,x.screenThinning.range,0,1,x.screenThinning.intensity),Pt=Ru(0,x.screenThinning.particleOffset,0,1,x.screenThinning.intensity),qt=(mn={modelview:B.modelviewMatrix,projection:B.projectionMatrix,time:this._accumulatedTimeFromStart,camPos:Pe,velocityConeAperture:x.velocityConeAperture,velocity:x.velocity,boxSize:be,rainDropletSize:[Qe,xt],distortionStrength:x.distortionStrength,rainDirection:E,color:le,screenSize:[J.width,J.height],thinningCenterPos:[gt,Bt],thinningShape:[Rt,Dt,Math.pow(10,x.screenThinning.fadePower)],thinningAffectedRatio:x.screenThinning.affectedRatio,thinningParticleOffset:Pt,shapeDirectionalPower:x.shapeDirPower,shapeNormalPower:x.shapeNormalPower,mode:Ae?0:1},{u_modelview:Float32Array.from(mn.modelview),u_projection:Float32Array.from(mn.projection),u_time:mn.time,u_cam_pos:mn.camPos,u_texScreen:0,u_velocityConeAperture:mn.velocityConeAperture,u_velocity:mn.velocity,u_boxSize:mn.boxSize,u_rainDropletSize:mn.rainDropletSize,u_distortionStrength:mn.distortionStrength,u_rainDirection:mn.rainDirection,u_color:mn.color,u_screenSize:mn.screenSize,u_thinningCenterPos:mn.thinningCenterPos,u_thinningShape:mn.thinningShape,u_thinningAffectedRatio:mn.thinningAffectedRatio,u_thinningParticleOffset:mn.thinningParticleOffset,u_shapeDirectionalPower:mn.shapeDirectionalPower,u_shapeNormalPower:mn.shapeNormalPower,u_mode:mn.mode});var mn;const nr=Math.round(x.intensity*this.particlesCount),Wn=c.b7.simpleSegment(0,0,4*nr,2*nr);Q.draw(r,U.TRIANGLES,To.disabled,Uo.disabled,ra.alphaBlended,qo.disabled,qt,"rain_particles",this.particlesVx,this.particlesIdx,Wn,{})};x.distortionStrength>0&&Ee(x.boxSize,!0),Ee(x.boxSize,!1),this._vignette.draw(r,R)}}const Ip=c.da([{type:"Float32",name:"a_pos_3f",components:3},{type:"Float32",name:"a_uv",components:2},{type:"Float32",name:"a_snowParticleData",components:4},{type:"Float32",name:"a_snowParticleDataHorizontalOscillation",components:2}]);class qg extends gh{constructor(r){super(2.25),this._params={overrideStyleParameters:!1,intensity:.85,timeFactor:.75,velocityConeAperture:70,velocity:40,horizontalOscillationRadius:4,horizontalOscillationRate:1.5,boxSize:2e3,billboardSize:2,shapeFadeStart:.27,shapeFadePower:.21,screenThinning:{intensity:.4,start:.15,range:1.4,fadePower:.24,affectedRatio:1,particleOffset:-.2},color:{r:1,g:1,b:1,a:1},direction:{x:-50,y:-35}},this._revealParams=new Nl(r.tp,["Precipitation","Snow"]),this._vignetteParams={strength:.3,start:.78,range:.46,fadePower:.2,color:{r:1,g:1,b:1,a:1}},this.particlesCount=16e3}update(r){const l=r.context;if(!this.particlesVx){const p=pm(this.particlesCount),_=new c.du,x=new c.aU;let E=0;const R=c.di(1323123451230);for(let B=0;B<p.length;++B){const V=p[B],U=R(),J=R(),Q=R(),le=[B/p.length,U,J,Q],Ee=[R(),R()];_.emplaceBack(V[0],V[1],V[2],-1,-1,...le,...Ee),_.emplaceBack(V[0],V[1],V[2],1,-1,...le,...Ee),_.emplaceBack(V[0],V[1],V[2],1,1,...le,...Ee),_.emplaceBack(V[0],V[1],V[2],-1,1,...le,...Ee),x.emplaceBack(E+0,E+1,E+2),x.emplaceBack(E+0,E+2,E+3),E+=4}this.particlesVx=l.createVertexBuffer(_,Ip.members),this.particlesIdx=l.createIndexBuffer(x)}}draw(r){if(!this._params.overrideStyleParameters&&!r.style.snow)return;const l=structuredClone(this._params);let p=[-l.direction.x,l.direction.y,-100];c.ab.vec3.normalize(p,p);const _=structuredClone(this._vignetteParams),x=l.overrideStyleParameters?this._revealParams:{revealStart:0,revealRange:.01},E=r.transform.zoom;if(x.revealStart>E)return;const R=Ru(0,1,x.revealStart,x.revealStart+x.revealRange,E);_.strength*=R,l.overrideStyleParameters||(l.intensity=r.style.snow.state.density,l.timeFactor=r.style.snow.state.intensity,l.color=structuredClone(r.style.snow.state.color),p=structuredClone(r.style.snow.state.direction),l.screenThinning.intensity=r.style.snow.state.centerThinning,l.billboardSize=2.79*r.style.snow.state.flakeSize,_.strength=1,_.color=structuredClone(r.style.snow.state.vignetteColor));const B=this.updateOnRender(r,l.timeFactor);if(!this.particlesVx||!this.particlesIdx)return;const V=r.context,U=V.gl,J=r.transform,Q=r.getOrCreateProgram("snowParticle");r.uploadCommonUniforms(V,Q),((le,Ee,be)=>{const Ae=gd(this._movement.getPosition(),le),Pe=J.width/2,Qe=J.height/2,xt=Ru(0,be.screenThinning.start,0,1,be.screenThinning.intensity),gt=Ru(.001,be.screenThinning.range,0,1,be.screenThinning.intensity),Bt=Ru(0,be.screenThinning.particleOffset,0,1,be.screenThinning.intensity),Rt=(Dt={modelview:B.modelviewMatrix,projection:B.projectionMatrix,time:this._accumulatedTimeFromStart,camPos:Ae,velocityConeAperture:be.velocityConeAperture,velocity:be.velocity,horizontalOscillationRadius:be.horizontalOscillationRadius,horizontalOscillationRate:be.horizontalOscillationRate,boxSize:le,billboardSize:1*be.billboardSize,simpleShapeParameters:[be.shapeFadeStart,be.shapeFadePower],screenSize:[J.width,J.height],thinningCenterPos:[Pe,Qe],thinningShape:[xt,gt,Math.pow(10,be.screenThinning.fadePower)],thinningAffectedRatio:be.screenThinning.affectedRatio,thinningParticleOffset:Bt,color:[be.color.r,be.color.g,be.color.b,be.color.a],direction:p},{u_modelview:Float32Array.from(Dt.modelview),u_projection:Float32Array.from(Dt.projection),u_time:Dt.time,u_cam_pos:Dt.camPos,u_velocityConeAperture:Dt.velocityConeAperture,u_velocity:Dt.velocity,u_horizontalOscillationRadius:Dt.horizontalOscillationRadius,u_horizontalOscillationRate:Dt.horizontalOscillationRate,u_boxSize:Dt.boxSize,u_billboardSize:Dt.billboardSize,u_simpleShapeParameters:Dt.simpleShapeParameters,u_screenSize:Dt.screenSize,u_thinningCenterPos:Dt.thinningCenterPos,u_thinningShape:Dt.thinningShape,u_thinningAffectedRatio:Dt.thinningAffectedRatio,u_thinningParticleOffset:Dt.thinningParticleOffset,u_particleColor:Dt.color,u_direction:Dt.direction});var Dt;const Pt=Math.round(be.intensity*this.particlesCount),qt=c.b7.simpleSegment(0,0,4*Pt,2*Pt);this.particlesVx&&this.particlesIdx&&Q.draw(r,U.TRIANGLES,To.disabled,Uo.disabled,ra.alphaBlended,qo.disabled,Rt,"snow_particles",this.particlesVx,this.particlesIdx,qt,{})})(l.boxSize,0,l),this._vignette.draw(r,_)}}const xf={symbol:function(m,r,l,p,_){if(m.renderPass!=="translucent")return;const x=Uo.disabled,E=m.colorModeForRenderPass(),R=l.layout.get("text-variable-anchor"),B=l.layout.get("text-size-scale-range"),V=c.aw(m.scaleFactor,B[0],B[1]);R&&function(Q,le,Ee,be,Ae,Pe,Qe,xt){const gt=le.transform,Bt=Ae==="map",Rt=Pe==="map";for(const Dt of Q){const Pt=be.getTile(Dt),qt=Pt.getBucket(Ee);if(!qt||!qt.text||!qt.text.segments.get().length)continue;const mn=c.bp(qt.textSizeData,gt.zoom,xt),nr=na(Dt,qt.getProjection(),gt),Wn=gt.calculatePixelsToTileUnitsMatrix(Pt),Pr=Ge(nr,Pt.tileID.canonical,Rt,Bt,gt,qt.getProjection(),Wn),Er=qt.hasIconTextFit()&&qt.hasIconData();if(mn){const Nn=Math.pow(2,gt.zoom-Pt.tileID.overscaledZ);sm(qt,Bt,Rt,Qe,c.cX,gt,Pr,Dt,Nn,mn,Er)}}}(p,m,l,r,l.layout.get("text-rotation-alignment"),l.layout.get("text-pitch-alignment"),_,V);const U=l.paint.get("icon-opacity").constantOr(1)!==0,J=l.paint.get("text-opacity").constantOr(1)!==0;l.layout.get("symbol-sort-key").constantOr(1)!==void 0&&(U||J)?dh(m,r,l,p,x,E):(U&&dh(m,r,l,p,x,E,{onlyIcons:!0}),J&&dh(m,r,l,p,x,E,{onlyText:!0})),r.map.showCollisionBoxes&&(am(m,r,l,p,l.paint.get("text-translate"),l.paint.get("text-translate-anchor"),!0),am(m,r,l,p,l.paint.get("icon-translate"),l.paint.get("icon-translate-anchor"),!1))},circle:function(m,r,l,p){if(m.renderPass!=="translucent")return;const _=l.paint.get("circle-opacity"),x=l.paint.get("circle-stroke-width"),E=l.paint.get("circle-stroke-opacity"),R=l.layout.get("circle-sort-key").constantOr(1)!==void 0,B=l.paint.get("circle-emissive-strength");if(_.constantOr(1)===0&&(x.constantOr(1)===0||E.constantOr(1)===0))return;const V=m.context,U=V.gl,J=m.transform,Q=m.depthModeForSublayer(0,To.ReadOnly),le=Uo.disabled,Ee=m.colorModeForDrapableLayerRenderPass(B),be=J.projection.name==="globe",Ae=[c.at(J.center.lng),c.aA(J.center.lat)],Pe=[];for(let xt=0;xt<p.length;xt++){const gt=p[xt],Bt=r.getTile(gt),Rt=Bt.getBucket(l);if(!Rt||Rt.projection.name!==J.projection.name)continue;const Dt=Rt.programConfigurations.get(l.id),Pt=c.cY(l),qt=m.isTileAffectedByFog(gt);be&&Pt.push("PROJECTION_GLOBE_VIEW"),Pt.push("DEPTH_D24"),m.terrain&&J.depthOcclusionForSymbolsAndCircles&&Pt.push("DEPTH_OCCLUSION");const mn=m.getOrCreateProgram("circle",{config:Dt,defines:Pt,overrideFog:qt}),nr=Rt.layoutVertexBuffer,Wn=Rt.globeExtVertexBuffer,Pr=Rt.indexBuffer,Er=J.projection.createInversionMatrix(J,gt.canonical),Nn={programConfiguration:Dt,program:mn,layoutVertexBuffer:nr,globeExtVertexBuffer:Wn,indexBuffer:Pr,uniformValues:c.cZ(m,gt,Bt,Er,Ae,l),tile:Bt};if(R){const ar=Rt.segments.get();for(const Kr of ar)Pe.push({segments:new c.b7([Kr]),sortKey:Kr.sortKey,state:Nn})}else Pe.push({segments:Rt.segments,sortKey:0,state:Nn})}R&&Pe.sort((xt,gt)=>xt.sortKey-gt.sortKey);const Qe={useDepthForOcclusion:J.depthOcclusionForSymbolsAndCircles};for(const xt of Pe){const{programConfiguration:gt,program:Bt,layoutVertexBuffer:Rt,globeExtVertexBuffer:Dt,indexBuffer:Pt,uniformValues:qt,tile:mn}=xt.state,nr=xt.segments;m.terrain&&m.terrain.setupElevationDraw(mn,Bt,Qe),m.uploadCommonUniforms(V,Bt,mn.tileID.toUnwrapped()),Bt.draw(m,U.TRIANGLES,Q,le,Ee,qo.disabled,qt,l.id,Rt,Pt,nr,l.paint,J.zoom,gt,[Dt])}},heatmap:function(m,r,l,p){if(l.paint.get("heatmap-opacity")!==0)if(m.renderPass==="offscreen"){const _=m.context,x=_.gl,E=Uo.disabled,R=new ra([x.ONE,x.ONE,x.ONE,x.ONE],c.aj.transparent,[!0,!0,!0,!0]);(function(le,Ee,be,Ae){const Pe=le.gl,Qe=Ee.width*Ae,xt=Ee.height*Ae;le.activeTexture.set(Pe.TEXTURE1),le.viewport.set([0,0,Qe,xt]);let gt=be.heatmapFbo;if(!gt||gt&&(gt.width!==Qe||gt.height!==xt)){gt&&gt.destroy();const Bt=Pe.createTexture();Pe.bindTexture(Pe.TEXTURE_2D,Bt),Pe.texParameteri(Pe.TEXTURE_2D,Pe.TEXTURE_WRAP_S,Pe.CLAMP_TO_EDGE),Pe.texParameteri(Pe.TEXTURE_2D,Pe.TEXTURE_WRAP_T,Pe.CLAMP_TO_EDGE),Pe.texParameteri(Pe.TEXTURE_2D,Pe.TEXTURE_MIN_FILTER,Pe.LINEAR),Pe.texParameteri(Pe.TEXTURE_2D,Pe.TEXTURE_MAG_FILTER,Pe.LINEAR),gt=be.heatmapFbo=le.createFramebuffer(Qe,xt,!0,null),function(Rt,Dt,Pt,qt,mn,nr){const Wn=Rt.gl;Wn.texImage2D(Wn.TEXTURE_2D,0,Rt.extRenderToTextureHalfFloat?Wn.RGBA16F:Wn.RGBA,mn,nr,0,Wn.RGBA,Rt.extRenderToTextureHalfFloat?Wn.HALF_FLOAT:Wn.UNSIGNED_BYTE,null),qt.colorAttachment.set(Pt)}(le,0,Bt,gt,Qe,xt)}else Pe.bindTexture(Pe.TEXTURE_2D,gt.colorAttachment.get()),le.bindFramebuffer.set(gt.framebuffer)})(_,m,l,m.transform.projection.name==="globe"?.5:.25),_.clear({color:c.aj.transparent});const B=m.transform,V=B.projection.name==="globe",U=V?["PROJECTION_GLOBE_VIEW"]:[],J=V?qo.frontCCW:qo.disabled,Q=[c.at(B.center.lng),c.aA(B.center.lat)];for(let le=0;le<p.length;le++){const Ee=p[le];if(r.hasRenderableParent(Ee))continue;const be=r.getTile(Ee),Ae=be.getBucket(l);if(!Ae||Ae.projection.name!==B.projection.name)continue;const Pe=m.isTileAffectedByFog(Ee),Qe=Ae.programConfigurations.get(l.id),xt=m.getOrCreateProgram("heatmap",{config:Qe,defines:U,overrideFog:Pe}),{zoom:gt}=m.transform;m.terrain&&m.terrain.setupElevationDraw(be,xt),m.uploadCommonUniforms(_,xt,Ee.toUnwrapped());const Bt=B.projection.createInversionMatrix(B,Ee.canonical);xt.draw(m,x.TRIANGLES,To.disabled,E,R,J,lo(m,Ee,be,Bt,Q,gt,l.paint.get("heatmap-intensity")),l.id,Ae.layoutVertexBuffer,Ae.indexBuffer,Ae.segments,l.paint,m.transform.zoom,Qe,V?[Ae.globeExtVertexBuffer]:null)}_.viewport.set([0,0,m.width,m.height])}else m.renderPass==="translucent"&&(m.context.setColorMode(m.colorModeForRenderPass()),function(_,x){const E=_.context,R=E.gl,B=x.heatmapFbo;if(!B)return;E.activeTexture.set(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,B.colorAttachment.get()),E.activeTexture.set(R.TEXTURE1);let V=x.colorRampTexture;V||(V=x.colorRampTexture=new c.T(E,x.colorRamp,R.RGBA8)),V.bind(R.LINEAR,R.CLAMP_TO_EDGE),_.getOrCreateProgram("heatmapTexture").draw(_,R.TRIANGLES,To.disabled,Uo.disabled,_.colorModeForRenderPass(),qo.disabled,((U,J,Q,le)=>({u_image:0,u_color_ramp:1,u_opacity:J.paint.get("heatmap-opacity")}))(0,x),x.id,_.viewportBuffer,_.quadTriangleIndexBuffer,_.viewportSegments,x.paint,_.transform.zoom)}(m,l))},line:function(m,r,l,p){if(m.renderPass!=="translucent")return;const _=l.paint.get("line-opacity"),x=l.paint.get("line-width");if(_.constantOr(1)===0||x.constantOr(1)===0)return;const E=l.paint.get("line-emissive-strength"),R=l.paint.get("line-occlusion-opacity"),B=l.layout.get("line-elevation-reference"),V=l.layout.get("line-width-unit")==="meters",U=B==="sea",J=m.context,Q=J.gl;if(l.hasElevatedBuckets&&m.transform.projection.name==="globe")return;const le=l.layout.get("line-cross-slope"),Ee=le!==void 0,be=le<1,Ae=m.colorModeForDrapableLayerRenderPass(E),Pe=m.terrain&&m.terrain.renderingToTexture,Qe=Pe?1:c.q.devicePixelRatio,xt=l.paint.get("line-dasharray"),gt=xt.constantOr(1),Bt=l.layout.get("line-cap"),Rt=xt.constantOr(null),Dt=Bt.constantOr(null),Pt=l.paint.get("line-pattern"),qt=Pt.constantOr(1),mn=Pt.constantOr(null),nr=l.paint.get("line-opacity").constantOr(1);let Wn=!qt&&nr!==1||m.depthOcclusion&&R>0&&R<1;const Pr=l.paint.get("line-gradient"),Er=qt?"linePattern":"line",Nn=c.c_(l);let ar;if(Pe&&m.terrain&&m.terrain.clipOrMaskOverlapStencilType()&&(Wn=!1),R!==0&&m.depthOcclusion){const Ln=l.paint._values["line-opacity"];Ln&&Ln.value&&Ln.value.kind==="constant"?ar=Ln.value:c.w(`Occlusion opacity for layer ${l.id} is supported only when line-opacity isn't data-driven.`)}x.value.kind!=="constant"&&x.value.isLineProgressConstant===!1&&Nn.push("VARIABLE_LINE_WIDTH");const Kr=(Ln,Ar,cr,bi,Vr)=>{for(const $r of Ln){const fi=r.getTile($r);if(qt&&!fi.patternsLoaded())continue;const Ci=fi.getBucket(l);if(!Ci||Ci.hasZOffset&&!Vr||!Ci.hasZOffset&&Vr)continue;m.prepareDrawTile();const Vi=Ci.programConfigurations.get(l.id),ao=m.isTileAffectedByFog($r),ia=m.getOrCreateProgram(Er,{config:Vi,defines:Ar,overrideFog:ao,overrideRtt:!Vr&&void 0});if(mn&&fi.imageAtlas){const Ma=c.A.from(mn).getPrimary().scaleSelf(Qe).serialize(),us=fi.imageAtlas.patternPositions[Ma];us&&Vi.setConstantPatternPositions(us)}if(!qt&&Rt&&Dt&&fi.lineAtlas){const Ma=fi.lineAtlas.getDash(Rt,Dt);Ma&&Vi.setConstantPatternPositions(Ma)}let[Fo,Zo]=l.paint.get("line-trim-offset");(Dt==="round"||Dt==="square")&&Fo!==Zo&&(Fo===0&&(Fo-=1),Zo===1&&(Zo+=1));const ga=Pe?$r.projMatrix:null,as=V?1/Ci.tileToMeter/c.ar(fi,1,m.transform.zoom):1,ps=V?1/Ci.tileToMeter/c.ar(fi,1,Math.floor(m.transform.zoom)):1,ul=qt?c.c$(m,fi,l,ga,Qe,as,ps,[Fo,Zo]):c.d0(m,fi,l,ga,Ci.lineClipsArray.length,Qe,as,ps,[Fo,Zo]);if(Pr){const Ma=Ci.gradients[l.id];let us=Ma.texture;if(l.gradientVersion!==Ma.version){let Eo=256;if(l.stepInterpolant){const _a=r.getSource().maxzoom,ys=$r.canonical.z===_a?Math.ceil(1<<m.transform.maxZoom-$r.canonical.z):1;Eo=c.aw(c.d1(Ci.maxLineLength/c.ag*1024*ys),256,J.maxTextureSize)}Ma.gradient=c.d2({expression:l.gradientExpression(),evaluationKey:"lineProgress",resolution:Eo,image:Ma.gradient||void 0,clips:Ci.lineClipsArray}),Ma.texture?Ma.texture.update(Ma.gradient):Ma.texture=new c.T(J,Ma.gradient,Q.RGBA8),Ma.version=l.gradientVersion,us=Ma.texture}J.activeTexture.set(Q.TEXTURE1),us.bind(l.stepInterpolant?Q.NEAREST:Q.LINEAR,Q.CLAMP_TO_EDGE)}gt&&(J.activeTexture.set(Q.TEXTURE0),fi.lineAtlasTexture&&fi.lineAtlasTexture.bind(Q.LINEAR,Q.REPEAT),Vi.updatePaintBuffers()),qt&&(J.activeTexture.set(Q.TEXTURE0),fi.imageAtlasTexture&&fi.imageAtlasTexture.bind(Q.LINEAR,Q.CLAMP_TO_EDGE),Vi.updatePaintBuffers()),Vr&&!U&&m.terrain.setupElevationDraw(fi,ia),m.uploadCommonUniforms(J,ia,$r.toUnwrapped());const Ks=Ma=>{ar!=null&&(ar.value=nr*R),ia.draw(m,Q.TRIANGLES,cr,Ma,Ae,qo.disabled,ul,l.id,Ci.layoutVertexBuffer,Ci.indexBuffer,Ci.segments,l.paint,m.transform.zoom,Vi,[Ci.layoutVertexBuffer2,Ci.patternVertexBuffer,Ci.zOffsetVertexBuffer]),ar!=null&&(ar.value=nr)};if(Wn&&!Vr){const Ma=m.stencilModeForClipping($r).ref;Ma===0&&Pe&&J.clear({stencil:0});const us={func:Q.EQUAL,mask:255};ul.u_alpha_discard_threshold=.8,Ks(new Uo(us,Ma,255,Q.KEEP,Q.KEEP,Q.INVERT)),ul.u_alpha_discard_threshold=0,Ks(new Uo(us,Ma,255,Q.KEEP,Q.KEEP,Q.KEEP))}else Wn&&Vr&&(ul.u_alpha_discard_threshold=.001),Ks(Vr?bi:m.stencilModeForClipping($r))}};if(l.hasNonElevatedBuckets){const Ln=!Pe&&m.terrain;R!==0&&Ln?c.w(`Occlusion opacity for layer ${l.id} is supported on terrain only if the layer has line-z-offset enabled.`):Ln?c.w(`Cannot render non-elevated lines in immediate mode when terrain is enabled. Layer: ${l.id}.`):Kr(p,Nn,m.depthModeForSublayer(0,To.ReadOnly),Uo.disabled,!1)}if(l.hasElevatedBuckets){Nn.push("ELEVATED"),Ee&&Nn.push(be?"CROSS_SLOPE_HORIZONTAL":"CROSS_SLOPE_VERTICAL"),U&&Nn.push("ELEVATION_REFERENCE_SEA");const Ln=Wn?m.stencilModeFor3D():Uo.disabled,Ar=new To(m.depthOcclusion?Q.GREATER:Q.LEQUAL,To.ReadOnly,m.depthRangeFor3D);m.forceTerrainMode=!0,Kr(p,Nn,Ar,Ln,!0),m.forceTerrainMode=!1}Wn&&(m.resetStencilClippingMasks(),Pe&&J.clear({stencil:0})),R===0||m.depthOcclusion||Pe||m.layersWithOcclusionOpacity.push(m.currentLayer)},fill:function(m,r,l,p){const _=l.paint.get("fill-color"),x=l.paint.get("fill-opacity"),E=l.is3D(),R=new To(m.context.gl.LEQUAL,To.ReadWrite,m.depthRangeFor3D);if(x.constantOr(1)===0)return;const B=l.paint.get("fill-emissive-strength"),V=m.colorModeForDrapableLayerRenderPass(B),U=l.paint.get("fill-pattern"),J=m.opaquePassEnabledForLayer()&&!U.constantOr(1)&&_.constantOr(c.aj.transparent).a===1&&x.constantOr(0)===1?"opaque":"translucent";if(m.renderPass===J){const Q=E?R:m.depthModeForSublayer(1,m.renderPass==="opaque"?To.ReadWrite:To.ReadOnly);yp(m,r,l,p,Q,V,!1)}if(!E&&m.renderPass==="translucent"&&l.paint.get("fill-antialias")){const Q=E?R:m.depthModeForSublayer(l.getPaintProperty("fill-outline-color")?2:0,To.ReadOnly);yp(m,r,l,p,Q,V,!0)}},"fill-extrusion":function(m,r,l,p){const _=l.paint.get("fill-extrusion-opacity"),x=m.context,E=x.gl,R=m.terrain,B=R&&R.renderingToTexture;if(_===0)return;const V=m.conflationActive&&m.style.isLayerClipped(l,r.getSource()),U=m.style.order.indexOf(l.fqid);if(V&&function(J,Q,le,Ee,be){for(const Ae of Ee){const Pe=Q.getTile(Ae).getBucket(le);Pe&&(Pe.updateReplacement(Ae,J.replacementSource,be),Pe.uploadCentroid(J.context))}}(m,r,l,p,U),R||V)for(const J of p){const Q=r.getTile(J).getBucket(l);Q&&pf(m.context,r,J,Q,l,R,V)}if(m.renderPass==="shadow"&&m.shadowRenderer){const J=m.shadowRenderer;if(R&&_<.65&&l._transitionablePaint._values["fill-extrusion-opacity"].value.expression instanceof c.a9)return;const Q=J.getShadowPassDepthMode(),le=J.getShadowPassColorMode();fh(m,r,l,p,Q,Uo.disabled,le,V)}else if(m.renderPass==="translucent"){const J=!l.paint.get("fill-extrusion-pattern").constantOr(1),Q=l.paint.get("fill-extrusion-color").constantOr(c.aj.white);if(!B&&Q.a!==0){const le=new To(m.context.gl.LEQUAL,To.ReadWrite,m.depthRangeFor3D);_===1&&J?fh(m,r,l,p,le,Uo.disabled,ra.unblended,V):(fh(m,r,l,p,le,Uo.disabled,ra.disabled,V),fh(m,r,l,p,le,m.stencilModeFor3D(),m.colorModeForRenderPass(),V),m.resetStencilClippingMasks())}if(m.style.enable3dLights()&&J&&(!R&&m.transform.projection.name!=="globe"||B)){const le=l.paint.get("fill-extrusion-opacity"),Ee=l.paint.get("fill-extrusion-ambient-occlusion-intensity"),be=l.paint.get("fill-extrusion-ambient-occlusion-ground-radius"),Ae=l.paint.get("fill-extrusion-flood-light-intensity"),Pe=l.paint.get("fill-extrusion-flood-light-color-use-theme").constantOr("default")==="none",Qe=l.paint.get("fill-extrusion-flood-light-color").toRenderColor(Pe?null:l.lut).toArray01().slice(0,3),xt=Ee>0&&be>0,gt=Ae>0,Bt=(Dt,Pt,qt)=>(1-qt)*Dt+qt*Pt,Rt=Dt=>{const Pt=m.depthModeForSublayer(1,To.ReadOnly,E.LEQUAL,!0),qt=l.paint.get(Dt?"fill-extrusion-ambient-occlusion-ground-attenuation":"fill-extrusion-flood-light-ground-attenuation"),mn=Bt(.1,3,qt),nr=m._showOverdrawInspector;if(!nr){const Wn=new Uo({func:E.ALWAYS,mask:255},255,255,E.KEEP,E.KEEP,E.REPLACE),Pr=new ra([E.ONE,E.ONE,E.ONE,E.ONE],c.aj.transparent,[!1,!1,!1,!0],E.MIN);hh(m,r,l,p,Pt,Wn,Pr,qo.disabled,Dt,"sdf",le,Ee,be,Ae,Qe,mn,V,!1)}{const Wn=nr?Uo.disabled:new Uo({func:E.EQUAL,mask:255},255,255,E.KEEP,E.DECR,E.DECR),Pr=nr?m.colorModeForRenderPass():new ra([E.ONE_MINUS_DST_ALPHA,E.DST_ALPHA,E.ONE,E.ONE],c.aj.transparent,[!0,!0,!0,!0]);hh(m,r,l,p,Pt,Wn,Pr,qo.disabled,Dt,"color",le,Ee,be,Ae,Qe,mn,V,!1)}};if(B){const Dt=(Pt,qt,mn)=>{const nr=m.depthModeForSublayer(1,To.ReadOnly,E.LEQUAL,!1),Wn=l.paint.get(Pt?"fill-extrusion-ambient-occlusion-ground-attenuation":"fill-extrusion-flood-light-ground-attenuation"),Pr=Bt(.1,3,Wn);{const Er=new ra([E.ONE,E.ONE,E.ONE,E.ONE],c.aj.transparent,[!1,!1,!1,!0]);hh(m,r,l,p,nr,Uo.disabled,Er,qo.disabled,Pt,"clear",le,Ee,be,Ae,Qe,Pr,V,qt)}{const Er=new Uo({func:E.ALWAYS,mask:255},255,255,E.KEEP,E.KEEP,E.REPLACE),Nn=new ra([E.ONE,E.ONE,E.ONE,E.ONE],c.aj.transparent,[!1,!1,!1,!0],E.MIN);hh(m,r,l,p,nr,Er,Nn,qo.disabled,Pt,"sdf",le,Ee,be,Ae,Qe,Pr,V,qt)}{const Er=Pt?E.ZERO:E.ONE_MINUS_DST_ALPHA,Nn=new Uo({func:E.EQUAL,mask:255},255,255,E.KEEP,E.DECR,E.DECR),ar=new ra([Er,E.DST_ALPHA,E.ONE_MINUS_DST_ALPHA,E.ZERO],c.aj.transparent,[!0,!0,!0,!0]);hh(m,r,l,p,nr,Nn,ar,qo.disabled,Pt,"color",le,Ee,be,Ae,Qe,Pr,V,qt)}{const Er=new ra([E.ONE,E.ONE,E.ONE,Pt?E.ZERO:E.ONE],c.aj.transparent,[!1,!1,!1,!0],Pt?E.FUNC_ADD:E.MAX);hh(m,r,l,p,nr,Uo.disabled,Er,qo.disabled,Pt,"clear",le,Ee,be,Ae,Qe,Pr,V,qt,mn)}};if(xt||gt){let Pt;if(m.prepareDrawTile(),R){const qt=R.drapeBufferSize[0],mn=R.drapeBufferSize[1];Pt=R.framebufferCopyTexture,Pt&&(!Pt||Pt.size[0]===qt&&Pt.size[1]===mn)||(Pt&&Pt.destroy(),Pt=R.framebufferCopyTexture=new c.T(x,new c.r({width:qt,height:mn}),E.RGBA8)),Pt.bind(E.LINEAR,E.CLAMP_TO_EDGE),E.copyTexSubImage2D(E.TEXTURE_2D,0,0,0,0,0,qt,mn)}xt&&Dt(!0,!1,Pt),gt&&Dt(!1,!0,Pt)}}else xt&&Rt(!0),gt&&Rt(!1),(xt||gt)&&m.resetStencilClippingMasks()}}},hillshade:function(m,r,l,p){if(m.renderPass!=="offscreen"&&m.renderPass!=="translucent"||m.style.disableElevatedTerrain)return;const _=m.context,x=m.terrain&&m.terrain.renderingToTexture,[E,R]=m.renderPass!=="translucent"||x?[{},p]:m.stencilConfigForOverlap(p);for(const B of R){const V=r.getTile(B);if(V.needsHillshadePrepare&&m.renderPass==="offscreen")cd(m,V,l);else if(m.renderPass==="translucent"){const U=m.depthModeForSublayer(0,To.ReadOnly),J=l.paint.get("hillshade-emissive-strength"),Q=m.colorModeForDrapableLayerRenderPass(J),le=x&&m.terrain?m.terrain.stencilModeForRTTOverlap(B):E[B.overscaledZ];Jh(m,B,V,l,U,le,Q)}}_.viewport.set([0,0,m.width,m.height]),m.resetStencilClippingMasks()},raster:function(m,r,l,p,_,x){if(m.renderPass!=="translucent"||l.paint.get("raster-opacity")===0)return;const E=m.transform.projection.name==="globe",R=l.paint.get("raster-elevation")!==0,B=R&&E;if(m.renderElevatedRasterBackface&&!B)return;const V=m.context,U=V.gl,J=r.getSource(),Q=function(Rt,Dt,Pt,qt){const mn=Dt.paint.get("raster-color"),nr=Rt.type==="raster-array",Wn=[],Pr=Dt.paint.get("raster-resampling"),Er=Dt.paint.get("raster-color-mix");let Nn=Dt.paint.get("raster-color-range");const ar=[Er[0],Er[1],Er[2],0],Kr=Er[3];let Ln=Pr==="nearest"?qt.NEAREST:qt.LINEAR;if(nr&&(Wn.push("RASTER_ARRAY"),mn||Wn.push("RASTER_COLOR"),Pr==="linear"&&Wn.push("RASTER_ARRAY_LINEAR"),Ln=qt.NEAREST,!Nn&&Rt.rasterLayers)){const Ar=Rt.rasterLayers.find(({id:cr})=>cr===Dt.sourceLayer);Ar&&Ar.fields&&Ar.fields.range&&(Nn=Ar.fields.range)}if(Nn=Nn||[0,1],mn){Wn.push("RASTER_COLOR"),Pt.activeTexture.set(qt.TEXTURE2),Dt.updateColorRamp(Nn);let Ar=Dt.colorRampTexture;Ar||(Ar=Dt.colorRampTexture=new c.T(Pt,Dt.colorRamp,qt.RGBA8)),Ar.bind(qt.LINEAR,qt.CLAMP_TO_EDGE)}return{mix:ar,range:Nn,offset:Kr,defines:Wn,resampling:Ln}}(J,l,V,U);if(J instanceof c.aJ&&!p.length&&!E)return;const le=l.paint.get("raster-emissive-strength"),Ee=m.colorModeForDrapableLayerRenderPass(le),be=m.terrain&&m.terrain.renderingToTexture,Ae=!m.options.moving,Pe=l.paint.get("raster-resampling")==="nearest"?U.NEAREST:U.LINEAR;if(J instanceof c.aJ&&!p.length&&(J.onNorthPole||J.onSouthPole)){const Rt=R?m.stencilModeFor3D():Uo.disabled;return void Gn(!!J.onNorthPole,null,m,r,l,le,Q,qo.disabled,Rt)}if(!p.length)return;const[Qe,xt]=J instanceof c.aJ||be?[{},p]:m.stencilConfigForOverlap(p),gt=xt[xt.length-1].overscaledZ;B&&Q.defines.push("PROJECTION_GLOBE_VIEW"),R&&Q.defines.push("RENDER_CUTOFF");const Bt=(Rt,Dt,Pt)=>{for(const qt of Rt){const mn=qt.toUnwrapped(),nr=r.getTile(qt);if(be&&(!nr||!nr.hasData()))continue;V.activeTexture.set(U.TEXTURE0);const Wn=_p(nr,J,l,Q);if(!Wn||!Wn.texture)continue;const{texture:Pr,mix:Er,offset:Nn,tileSize:ar,buffer:Kr}=Wn;let Ln,Ar;be?(Ln=To.disabled,Ar=qt.projMatrix):R?(Ln=new To(U.LEQUAL,To.ReadWrite,m.depthRangeFor3D),Ar=E?Float32Array.from(m.transform.expandedFarZProjMatrix):m.transform.calculateProjMatrix(mn,Ae)):(Ln=m.depthModeForSublayer(qt.overscaledZ-gt,l.paint.get("raster-opacity")===1?To.ReadWrite:To.ReadOnly,U.LESS),Ar=m.transform.calculateProjMatrix(mn,Ae));const cr=m.terrain&&be?m.terrain.stencilModeForRTTOverlap(qt):Qe[qt.overscaledZ],bi=x?0:l.paint.get("raster-fade-duration");nr.registerFadeDuration(bi);const Vr=r.findLoadedParent(qt,0),$r=Pl(nr,Vr,r,m.transform,bi);let fi,Ci;m.terrain&&m.terrain.prepareDrawTile(),V.activeTexture.set(U.TEXTURE0),Pr.bind(Pe,U.CLAMP_TO_EDGE),V.activeTexture.set(U.TEXTURE1),Vr?(Vr.texture&&Vr.texture.bind(Pe,U.CLAMP_TO_EDGE),fi=Math.pow(2,Vr.tileID.overscaledZ-nr.tileID.overscaledZ),Ci=[nr.tileID.canonical.x*fi%1,nr.tileID.canonical.y*fi%1]):Pr.bind(Pe,U.CLAMP_TO_EDGE),Pr.useMipmap&&V.extTextureFilterAnisotropic&&m.transform.pitch>20&&U.texParameterf(U.TEXTURE_2D,V.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,V.extTextureFilterAnisotropicMax);const Vi=m.transform;let ao;const ia=R?Ug(Vi):[0,0,0,0];let Fo,Zo,ga,as,ps,ul=0;if(B&&J instanceof c.aJ&&J.coordinates.length>3)Fo=Float32Array.from(c.bb(c.cH(new c.bT(0,0,0)))),Zo=Float32Array.from(Vi.globeMatrix),ga=Float32Array.from(c.cD(Vi)),as=[c.at(Vi.center.lng),c.aA(Vi.center.lat)],ao=J.elevatedGlobePerspectiveTransform,ps=J.elevatedGlobeGridMatrix||new Float32Array(9);else if(B){const Eo=c.cE(qt.canonical);ul=c.cF(Eo.getCenter().lat),Fo=Float32Array.from(c.bb(c.cH(qt.canonical))),Zo=Float32Array.from(Vi.globeMatrix),ga=Float32Array.from(c.cD(Vi)),as=[c.at(Vi.center.lng),c.aA(Vi.center.lat)],ao=[0,0],ps=Float32Array.from(c.cG(qt.canonical,Eo,ul,Vi.worldSize/Vi._pixelsPerMercatorPixel))}else ao=J instanceof c.aJ?J.perspectiveTransform:[0,0],Fo=new Float32Array(16),Zo=new Float32Array(9),ga=new Float32Array(16),as=[0,0],ps=new Float32Array(9);const Ks=Nd(Ar,Fo,Zo,ga,ps,Ci||[0,0],c.ae(m.transform.zoom),as,ia,fi||1,$r,l,ao,R?l.paint.get("raster-elevation"):0,2,Er,Nn,Q.range,ar,Kr,le),Ma=m.isTileAffectedByFog(qt),us=m.getOrCreateProgram("raster",{defines:Q.defines,overrideFog:Ma});if(m.uploadCommonUniforms(V,us,mn),J instanceof c.aJ){const Eo=J.elevatedGlobeVertexBuffer,_a=J.elevatedGlobeIndexBuffer;if(be||!E)J.boundsBuffer&&J.boundsSegments&&us.draw(m,U.TRIANGLES,Ln,Uo.disabled,Ee,qo.disabled,Ks,l.id,J.boundsBuffer,m.quadTriangleIndexBuffer,J.boundsSegments);else if(Eo&&_a){const ys=Vi.zoom<=c.c6?J.elevatedGlobeSegments:J.getSegmentsForLongitude(Vi.center.lng);ys&&us.draw(m,U.TRIANGLES,Ln,Uo.disabled,Ee,Dt,Ks,l.id,Eo,_a,ys)}}else if(B){Ln=new To(U.LEQUAL,To.ReadOnly,m.depthRangeFor3D);const Eo=m.globeSharedBuffers;if(Eo){const[_a,ys,xs]=Eo.getGridBuffers(ul,!1);us.draw(m,U.TRIANGLES,Ln,Pt||cr,m.colorModeForRenderPass(),Dt,Ks,l.id,_a,ys,xs)}}else{const{tileBoundsBuffer:Eo,tileBoundsIndexBuffer:_a,tileBoundsSegments:ys}=m.getTileBoundsBuffers(nr);us.draw(m,U.TRIANGLES,Ln,cr,Ee,qo.disabled,Ks,l.id,Eo,_a,ys)}}if(!(J instanceof c.aJ)&&B)for(const qt of Rt){const mn=qt.canonical.y===(1<<qt.canonical.z)-1;qt.canonical.y===0&&Gn(!0,qt,m,r,l,le,Q,Dt,Pt||Uo.disabled),mn&&Gn(!1,qt,m,r,l,le,Q,Dt===qo.frontCW?qo.backCW:qo.frontCW,Pt||Uo.disabled)}};B?Bt(xt,m.renderElevatedRasterBackface?qo.backCW:qo.frontCW,m.stencilModeFor3D()):Bt(xt,qo.disabled,void 0),m.resetStencilClippingMasks()},"raster-particle":function(m,r,l,p,_,x){m.renderPass==="offscreen"&&function(E,R,B,V){if(!V.length)return;const U=E.context,J=U.gl,Q=R.getSource();if(!(Q instanceof mt))return;const le=Math.ceil(Math.sqrt(B.paint.get("raster-particle-count")));let Ee=B.particlePositionRGBAImage;if(!Ee||Ee.width!==le){const xt=function(gt){const Bt=gt*gt,Rt=new Uint8Array(4*Bt),Dt=function(qt){return qt|=0,qt=Math.imul(2747636419^qt,2654435769),qt=Math.imul(qt^qt>>>16,2654435769),((qt=Math.imul(qt^qt>>>16,2654435769))>>>0)/4294967296},Pt=1/1.1;for(let qt=0;qt<Bt;qt++){const mn=Pt*(Dt(2*qt+0)+Po),nr=Pt*(Dt(2*qt+1)+Po),Wn=255*mn%1,Pr=255*nr%1,Er=Wn,Nn=nr-Pr/255,ar=Pr;Rt[4*qt+0]=255*(mn-Wn/255),Rt[4*qt+1]=255*Er,Rt[4*qt+2]=255*Nn,Rt[4*qt+3]=255*ar}return Rt}(le);Ee=B.particlePositionRGBAImage=new c.r({width:le,height:le},xt)}let be=B.particleFramebuffer;be?be.width!==le&&(be.destroy(),be=B.particleFramebuffer=U.createFramebuffer(le,le,!0,null)):be=B.particleFramebuffer=U.createFramebuffer(le,le,!0,null);const Ae=[];for(const xt of V){const gt=R.getTile(xt);if(!(gt instanceof to))continue;const Bt=bp(gt,Q,B);if(!Bt)continue;const Rt=[gt.tileSize,gt.tileSize];let Dt=B.tileFramebuffer;Dt||(Dt=B.tileFramebuffer=U.createFramebuffer(Rt[0],Rt[1],!0,null));let Pt=gt.rasterParticleState;Pt||(Pt=gt.rasterParticleState=new Wg(U,xt,Rt,Ee));const qt=Pt.update(B.lastInvalidatedAt);Pt.particleTextureDimension!==le&&Pt.updateParticleTexture(xt,Ee);const mn=Pt.targetColorTexture;Pt.targetColorTexture=Pt.backgroundColorTexture,Pt.backgroundColorTexture=mn;const nr=Pt.particleTexture0;Pt.particleTexture0=Pt.particleTexture1,Pt.particleTexture1=nr,Ae.push([xt,Bt,Pt,qt])}if(Ae.length===0)return;const Pe=c.q.now(),Qe=B.previousDrawTimestamp?.001*(Pe-B.previousDrawTimestamp):.0167;if(B.previousDrawTimestamp=Pe,B.hasColorMap()){U.activeTexture.set(J.TEXTURE0+2);let xt=B.colorRampTexture;xt||(xt=B.colorRampTexture=new c.T(U,B.colorRamp,J.RGBA8)),xt.bind(J.LINEAR,J.CLAMP_TO_EDGE)}U.bindFramebuffer.set(B.tileFramebuffer.framebuffer),function(xt,gt,Bt){const Rt=xt.context,Dt=Rt.gl,Pt=gt.tileFramebuffer;Rt.activeTexture.set(Dt.TEXTURE0);const qt={u_texture:0,u_opacity:1.05*(nr=gt.paint.get("raster-particle-fade-opacity-factor"))/(nr+.05)},mn=xt.getOrCreateProgram("rasterParticleTexture",{defines:[],overrideFog:!1});var nr;for(const Wn of Bt){const[,,Pr,Er]=Wn;Pt.colorAttachment.set(Pr.targetColorTexture.texture),Rt.viewport.set([0,0,Pt.width,Pt.height]),Rt.clear({color:c.aj.transparent}),Er&&(Pr.backgroundColorTexture.bind(Dt.NEAREST,Dt.CLAMP_TO_EDGE),mn.draw(xt,Dt.TRIANGLES,To.disabled,Uo.disabled,ra.alphaBlended,qo.disabled,qt,gt.id,xt.viewportBuffer,xt.quadTriangleIndexBuffer,xt.viewportSegments))}}(E,B,Ae),function(xt,gt,Bt,Rt){const Dt=xt.context,Pt=Dt.gl,qt=Bt.tileFramebuffer,mn=xt.transform.projection.name==="globe",nr=Bt.paint.get("raster-particle-max-speed");for(const Wn of Rt){const[Pr,Er,Nn]=Wn;Dt.activeTexture.set(Pt.TEXTURE0+0),Er.texture.bind(Pt.LINEAR,Pt.CLAMP_TO_EDGE),qt.colorAttachment.set(Nn.targetColorTexture.texture);const ar=xt.getOrCreateProgram("rasterParticleDraw",{defines:Er.defines,overrideFog:!1});Dt.activeTexture.set(Pt.TEXTURE0+1);const Kr=Er.scalarData?[]:[0,1,2,3].map(cr=>c.d4[cr](Pr));Kr.push(Pr);const Ln=Pr.canonical.x,Ar=Pr.canonical.y;for(const cr of Kr){const bi=gt.getTile(mn?cr.wrapped():cr);if(!bi)continue;const Vr=bi.rasterParticleState;if(!Vr)continue;const $r=cr.canonical.x+(1<<cr.canonical.z)*(cr.wrap-Pr.wrap),fi=cr.canonical.y;Vr.particleTexture0.bind(Pt.NEAREST,Pt.CLAMP_TO_EDGE);const Ci=Vg(1,Vr.particleTexture0.size[0],[$r-Ln,fi-Ar],0,Er.texture.size,2,nr,Er.textureOffset,Er.scale,Er.offset);ar.draw(xt,Pt.POINTS,To.disabled,Uo.disabled,ra.alphaBlended,qo.disabled,Ci,Bt.id,Vr.particleIndexBuffer,void 0,Vr.particleSegment)}}}(E,R,B,Ae),U.bindFramebuffer.set(B.particleFramebuffer.framebuffer),function(xt,gt,Bt,Rt){const Dt=xt.context,Pt=Dt.gl,qt=gt.paint.get("raster-particle-max-speed"),mn=Rt*gt.paint.get("raster-particle-speed-factor")*.15,nr=function(Pr){return Math.pow(Pr,6)}(.01+1*gt.paint.get("raster-particle-reset-rate-factor")),Wn=gt.particleFramebuffer;Dt.viewport.set([0,0,Wn.width,Wn.height]);for(const Pr of Bt){const[,Er,Nn]=Pr;Dt.activeTexture.set(Pt.TEXTURE0+0),Er.texture.bind(Pt.LINEAR,Pt.CLAMP_TO_EDGE),Dt.activeTexture.set(Pt.TEXTURE0+1);const ar=Nn.particleTexture0;ar.bind(Pt.NEAREST,Pt.CLAMP_TO_EDGE);const Kr=Hg(1,ar.size[0],0,Er.texture.size,qt,mn,nr,Er.textureOffset,Er.scale,Er.offset);Wn.colorAttachment.set(Nn.particleTexture1.texture),Dt.clear({color:c.aj.transparent}),xt.getOrCreateProgram("rasterParticleUpdate",{defines:Er.defines}).draw(xt,Pt.TRIANGLES,To.disabled,Uo.disabled,ra.unblended,qo.disabled,Kr,gt.id,xt.viewportBuffer,xt.quadTriangleIndexBuffer,xt.viewportSegments)}}(E,B,Ae,Qe)}(m,r,l,p),m.renderPass==="translucent"&&(function(E,R,B,V,U){const J=E.context,Q=J.gl,le=R.getSource().tileSize,Ee=5*(1-c.ac(c.bY,c.bY+1,E.transform.zoom))*le+B.paint.get("raster-particle-elevation"),be=!E.options.moving,Ae=E.transform.projection.name==="globe";if(!V.length)return;const[Pe,Qe]=E.stencilConfigForOverlap(V),xt=[];Ae&&xt.push("PROJECTION_GLOBE_VIEW");const gt=E.stencilModeFor3D();for(const Bt of Qe){const Rt=Bt.toUnwrapped(),Dt=R.getTile(Bt);if(!Dt.rasterParticleState)continue;const Pt=Dt.rasterParticleState,qt=100;Dt.registerFadeDuration(qt);const mn=R.findLoadedParent(Bt,0),nr=Pl(Dt,mn,R,E.transform,qt);let Wn,Pr;E.terrain&&E.terrain.prepareDrawTile(),J.activeTexture.set(Q.TEXTURE0),Pt.targetColorTexture.bind(Q.LINEAR,Q.CLAMP_TO_EDGE),J.activeTexture.set(Q.TEXTURE1),mn&&mn.rasterParticleState?(mn.rasterParticleState.targetColorTexture.bind(Q.LINEAR,Q.CLAMP_TO_EDGE),Wn=Math.pow(2,mn.tileID.overscaledZ-Dt.tileID.overscaledZ),Pr=[Dt.tileID.canonical.x*Wn%1,Dt.tileID.canonical.y*Wn%1]):Pt.targetColorTexture.bind(Q.LINEAR,Q.CLAMP_TO_EDGE);const Er=Ae?Float32Array.from(E.transform.expandedFarZProjMatrix):E.transform.calculateProjMatrix(Rt,be),Nn=E.transform,ar=Mv(Nn),Kr=c.cE(Bt.canonical),Ln=c.cF(Kr.getCenter().lat);let Ar,cr,bi,Vr,$r;Ae?(Ar=Float32Array.from(c.bb(c.cH(Bt.canonical))),cr=Float32Array.from(Nn.globeMatrix),bi=Float32Array.from(c.cD(Nn)),Vr=[c.at(Nn.center.lng),c.aA(Nn.center.lat)],$r=Float32Array.from(c.cG(Bt.canonical,Kr,Ln,Nn.worldSize/Nn._pixelsPerMercatorPixel))):(Ar=new Float32Array(16),cr=new Float32Array(9),bi=new Float32Array(16),Vr=[0,0],$r=new Float32Array(9));const fi=Wu(Er,Ar,cr,bi,$r,Pr||[0,0],c.ae(E.transform.zoom),Vr,ar,Wn||1,nr,Ee),Ci=E.isTileAffectedByFog(Bt),Vi=E.getOrCreateProgram("rasterParticle",{defines:xt,overrideFog:Ci});if(E.uploadCommonUniforms(J,Vi,Rt),Ae){const ao=new To(Q.LEQUAL,To.ReadOnly,E.depthRangeFor3D),ia=0,Fo=E.globeSharedBuffers;if(Fo){const[Zo,ga,as]=Fo.getGridBuffers(Ln,ia!==0);Vi.draw(E,Q.TRIANGLES,ao,gt,ra.alphaBlended,E.renderElevatedRasterBackface?qo.frontCCW:qo.backCCW,fi,B.id,Zo,ga,as)}}else{const ao=E.depthModeForSublayer(0,To.ReadOnly),ia=Pe[Bt.overscaledZ],{tileBoundsBuffer:Fo,tileBoundsIndexBuffer:Zo,tileBoundsSegments:ga}=E.getTileBoundsBuffers(Dt);Vi.draw(E,Q.TRIANGLES,ao,ia,ra.alphaBlended,qo.disabled,fi,B.id,Fo,Zo,ga)}}E.resetStencilClippingMasks()}(m,r,l,p),m.style.map.triggerRepaint())},background:function(m,r,l,p){const _=l.paint.get("background-color"),x=l.paint.get("background-color-use-theme").constantOr("default")==="none",E=l.paint.get("background-opacity"),R=l.paint.get("background-emissive-strength"),B=l.paint.get("background-pitch-alignment")==="viewport";if(E===0)return;const V=m.context,U=V.gl,J=m.transform,Q=J.tileSize,le=l.paint.get("background-pattern");let Ee;if(le!==void 0&&(le===null||(Ee=m.imageManager.getPattern(le.toString(),l.scope,m.style.getLut(l.scope)),!Ee)))return;const be=!le&&_.a===1&&E===1&&m.opaquePassEnabledForLayer()?"opaque":"translucent";if(m.renderPass!==be)return;const Ae=Uo.disabled,Pe=m.depthModeForSublayer(0,be==="opaque"?To.ReadWrite:To.ReadOnly),Qe=m.colorModeForDrapableLayerRenderPass(R),xt=le?"backgroundPattern":"background";let gt,Bt=p;if(Bt||(gt=m.getBackgroundTiles(),Bt=Object.values(gt).map(Rt=>Rt.tileID)),le&&(V.activeTexture.set(U.TEXTURE0),m.imageManager.bind(m.context,l.scope)),B){const Rt=m.getOrCreateProgram(xt,{overrideFog:!1,overrideRtt:!0}),Dt=new Float32Array(c.ab.mat4.identity([])),Pt=new c.aG(0,0,0,0,0),qt=le?pp(Dt,R,E,m,0,l.scope,Ee,B,{tileID:Pt,tileSize:Q}):rm(Dt,R,E,_.toRenderColor(x?null:l.lut));Rt.draw(m,U.TRIANGLES,Pe,Ae,Qe,qo.disabled,qt,l.id,m.viewportBuffer,m.quadTriangleIndexBuffer,m.viewportSegments)}else for(const Rt of Bt){const Dt=m.isTileAffectedByFog(Rt),Pt=m.getOrCreateProgram(xt,{overrideFog:Dt}),qt=Rt.toUnwrapped(),mn=p?Rt.projMatrix:m.transform.calculateProjMatrix(qt);m.prepareDrawTile();const nr=r?r.getTile(Rt):gt?gt[Rt.key]:new Jo(Rt,Q,J.zoom,m),Wn=le?pp(mn,R,E,m,0,l.scope,Ee,B,{tileID:Rt,tileSize:Q}):rm(mn,R,E,_.toRenderColor(x?null:l.lut));m.uploadCommonUniforms(V,Pt,qt);const{tileBoundsBuffer:Pr,tileBoundsIndexBuffer:Er,tileBoundsSegments:Nn}=m.getTileBoundsBuffers(nr);Pt.draw(m,U.TRIANGLES,Pe,Ae,Qe,qo.disabled,Wn,l.id,Pr,Er,Nn)}},sky:function(m,r,l){const p=m._atmosphere?c.ae(m.transform.zoom):1,_=l.paint.get("sky-opacity")*p;if(_===0)return;const x=m.context,E=l.paint.get("sky-type"),R=new To(x.gl.LEQUAL,To.ReadOnly,[0,1]),B=m.frameCounter/1e3%1;E==="atmosphere"?m.renderPass==="offscreen"?l.needsSkyboxCapture(m)&&(function(V,U,J,Q){const le=V.context,Ee=le.gl;let be=U.skyboxFbo;if(!be){be=U.skyboxFbo=le.createFramebuffer(32,32,!0,null),U.skyboxGeometry=new Sp(le),U.skyboxTexture=le.gl.createTexture(),Ee.bindTexture(Ee.TEXTURE_CUBE_MAP,U.skyboxTexture),Ee.texParameteri(Ee.TEXTURE_CUBE_MAP,Ee.TEXTURE_WRAP_S,Ee.CLAMP_TO_EDGE),Ee.texParameteri(Ee.TEXTURE_CUBE_MAP,Ee.TEXTURE_WRAP_T,Ee.CLAMP_TO_EDGE),Ee.texParameteri(Ee.TEXTURE_CUBE_MAP,Ee.TEXTURE_MIN_FILTER,Ee.LINEAR),Ee.texParameteri(Ee.TEXTURE_CUBE_MAP,Ee.TEXTURE_MAG_FILTER,Ee.LINEAR);for(let xt=0;xt<6;++xt)Ee.texImage2D(Ee.TEXTURE_CUBE_MAP_POSITIVE_X+xt,0,Ee.RGBA,32,32,0,Ee.RGBA,Ee.UNSIGNED_BYTE,null)}le.bindFramebuffer.set(be.framebuffer),le.viewport.set([0,0,32,32]);const Ae=U.getCenter(V,!0),Pe=V.getOrCreateProgram("skyboxCapture"),Qe=new Float64Array(16);c.ab.mat4.identity(Qe),c.ab.mat4.rotateY(Qe,Qe,.5*-Math.PI),Ll(V,U,Pe,Qe,Ae,0),c.ab.mat4.identity(Qe),c.ab.mat4.rotateY(Qe,Qe,.5*Math.PI),Ll(V,U,Pe,Qe,Ae,1),c.ab.mat4.identity(Qe),c.ab.mat4.rotateX(Qe,Qe,.5*-Math.PI),Ll(V,U,Pe,Qe,Ae,2),c.ab.mat4.identity(Qe),c.ab.mat4.rotateX(Qe,Qe,.5*Math.PI),Ll(V,U,Pe,Qe,Ae,3),c.ab.mat4.identity(Qe),Ll(V,U,Pe,Qe,Ae,4),c.ab.mat4.identity(Qe),c.ab.mat4.rotateY(Qe,Qe,Math.PI),Ll(V,U,Pe,Qe,Ae,5),le.viewport.set([0,0,V.width,V.height])}(m,l),l.markSkyboxValid(m)):m.renderPass==="sky"&&function(V,U,J,Q,le){const Ee=V.context,be=Ee.gl,Ae=V.transform,Pe=V.getOrCreateProgram("skybox");Ee.activeTexture.set(be.TEXTURE0),be.bindTexture(be.TEXTURE_CUBE_MAP,U.skyboxTexture);const Qe=((xt,gt,Bt,Rt,Dt)=>({u_matrix:xt,u_sun_direction:gt,u_cubemap:0,u_opacity:Rt,u_temporal_offset:Dt}))(Ae.skyboxMatrix,U.getCenter(V,!1),0,Q,le);V.uploadCommonUniforms(Ee,Pe),Pe.draw(V,be.TRIANGLES,J,Uo.disabled,V.colorModeForRenderPass(),qo.backCW,Qe,"skybox",U.skyboxGeometry.vertexBuffer,U.skyboxGeometry.indexBuffer,U.skyboxGeometry.segment)}(m,l,R,_,B):E==="gradient"&&m.renderPass==="sky"&&function(V,U,J,Q,le){const Ee=V.context,be=Ee.gl,Ae=V.transform,Pe=V.getOrCreateProgram("skyboxGradient");U.skyboxGeometry||(U.skyboxGeometry=new Sp(Ee)),Ee.activeTexture.set(be.TEXTURE0);let Qe=U.colorRampTexture;Qe||(Qe=U.colorRampTexture=new c.T(Ee,U.colorRamp,be.RGBA8)),Qe.bind(be.LINEAR,be.CLAMP_TO_EDGE);const xt=((gt,Bt,Rt,Dt,Pt)=>({u_matrix:gt,u_color_ramp:0,u_center_direction:Bt,u_radius:c.ai(Rt),u_opacity:Dt,u_temporal_offset:Pt}))(Ae.skyboxMatrix,U.getCenter(V,!1),U.paint.get("sky-gradient-radius"),Q,le);V.uploadCommonUniforms(Ee,Pe),Pe.draw(V,be.TRIANGLES,J,Uo.disabled,V.colorModeForRenderPass(),qo.backCW,xt,"skyboxGradient",U.skyboxGeometry.vertexBuffer,U.skyboxGeometry.indexBuffer,U.skyboxGeometry.segment)}(m,l,R,_,B)},debug:function(m,r,l,p,_,x){for(let E=0;E<l.length;E++)if(_){const V=new c.aj(p.r*.8,p.g*.8,p.b*.8,1);Gu(m,r,l[E],p,-1,-1,x),Gu(m,r,l[E],p,-1,1,x),Gu(m,r,l[E],p,1,1,x),Gu(m,r,l[E],p,1,-1,x),Gu(m,r,l[E],V,0,0,x)}else Gu(m,r,l[E],p,0,0,x)},custom:function(m,r,l,p){const _=m.context,x=l.implementation;if(!m.transform.projection.unsupportedLayers||!m.transform.projection.unsupportedLayers.includes("custom")||m.terrain&&(m.terrain.renderingToTexture||m.renderPass==="offscreen")&&l.isDraped(r)){if(m.renderPass==="offscreen"){const E=x.prerender;if(E){if(m.setCustomLayerDefaults(),_.setColorMode(m.colorModeForRenderPass()),m.transform.projection.name==="globe"){const R=m.transform.pointMerc;E.call(x,_.gl,m.transform.customLayerMatrix(),m.transform.getProjection(),m.transform.globeToMercatorMatrix(),c.ae(m.transform.zoom),[R.x,R.y],m.transform.pixelsPerMeterRatio)}else E.call(x,_.gl,m.transform.customLayerMatrix());_.setDirty(),m.setBaseState()}}else if(m.renderPass==="translucent"){if(m.terrain&&m.terrain.renderingToTexture){const R=x.renderToTile;if(R){const B=p[0].canonical,V=new c.aa(B.x+p[0].wrap*(1<<B.z),B.y,B.z);_.setDepthMode(To.disabled),_.setStencilMode(Uo.disabled),_.setColorMode(m.colorModeForRenderPass()),m.setCustomLayerDefaults(),R.call(x,_.gl,V),_.setDirty(),m.setBaseState()}return}m.setCustomLayerDefaults(),_.setColorMode(m.colorModeForRenderPass()),_.setStencilMode(Uo.disabled);const E=x.renderingMode==="3d"?new To(m.context.gl.LEQUAL,To.ReadWrite,m.depthRangeFor3D):m.depthModeForSublayer(0,To.ReadOnly);if(_.setDepthMode(E),m.transform.projection.name==="globe"){const R=m.transform.pointMerc;x.render(_.gl,m.transform.customLayerMatrix(),m.transform.getProjection(),m.transform.globeToMercatorMatrix(),c.ae(m.transform.zoom),[R.x,R.y],m.transform.pixelsPerMeterRatio)}else x.render(_.gl,m.transform.customLayerMatrix());_.setDirty(),m.setBaseState(),_.bindFramebuffer.set(null)}}else c.w("Custom layers are not yet supported with this projection. Use mercator or globe to enable usage of custom layers.")},model:function(m,r,l,p){if(m.renderPass==="opaque")return;const _=l.paint.get("model-opacity").constantOr(1);if(_===0)return;const x=l.paint.get("model-cast-shadows");if(m.renderPass==="shadow"&&(!x||m.terrain&&_<.65&&l._transitionablePaint._values["model-opacity"].value.expression instanceof c.a9))return;const E=m.shadowRenderer,R=l.paint.get("model-receive-shadows");E&&(E.useNormalOffset=!0,R||(E.enabled=!1));const B=()=>{E&&(E.useNormalOffset=!0,R||(E.enabled=!0))},V=r.getSource();if(m.renderPass==="light-beam"&&V.type!=="batched-model")return;if(V.type==="vector"||V.type==="geojson")return function(Pe,Qe,xt,gt,Bt){const Rt=Pe.transform;if(Rt.projection.name!=="mercator")return void c.w(`Drawing 3D models for ${Rt.projection.name} projection is not yet implemented`);const Dt=Rt.getFreeCameraOptions().position;if(!Pe.modelManager)return;const Pt=Pe.modelManager;xt.modelManager=Pt;const qt=Pe.shadowRenderer;if(!xt._unevaluatedLayout._values.hasOwnProperty("model-id"))return;const mn=xt._unevaluatedLayout._values["model-id"],nr=Object.assign({},xt.layout.get("model-id").parameters),Wn=Pe.style.order.indexOf(xt.fqid);for(const Pr of gt){const Er=Qe.getTile(Pr).getBucket(xt);if(!Er||Er.projection.name!==Rt.projection.name)continue;const Nn=Er.getModelUris();Nn&&!Er.modelsRequested&&(Pt.addModelsFromBucket(Nn,Bt),Er.modelsRequested=!0);const ar=gu(Pr,Rt);nr.zoom=ar;const Kr=mn.possiblyEvaluate(nr);if(Ou(Pe,Er,Pr),vl.shadowUniformsInitialized=!1,vl.useSingleShadowCascade=!!qt&&qt.getMaxCascadeForTile(Pr.toUnwrapped())===0,Pe.renderPass==="shadow"&&qt){if(Pe.currentShadowCascade===1&&Er.isInsideFirstShadowMapFrustum)continue;const cr=Rt.calculatePosMatrix(Pr.toUnwrapped(),Rt.worldSize);if(vl.tileMatrix.set(cr),vl.shadowTileMatrix=Float32Array.from(qt.calculateShadowPassMatrixFromMatrix(cr)),vl.aabb.min.fill(0),vl.aabb.max[0]=vl.aabb.max[1]=c.ag,vl.aabb.max[2]=0,hm(Er,vl,Pe,xt.scope))continue}const Ln=1<<Pr.canonical.z,Ar=[((Dt.x-Pr.wrap)*Ln-Pr.canonical.x)*c.ag,(Dt.y*Ln-Pr.canonical.y)*c.ag,Dt.z*Ln*c.ag];Pe.conflationActive&&Object.keys(Er.instancesPerModel).length>0&&Pe.style.isLayerClipped(xt,Qe.getSource())&&Er.updateReplacement(Pr,Pe.replacementSource,Wn,Bt)&&(Er.uploaded=!1,Er.upload(Pe.context));for(let cr in Er.instancesPerModel){const bi=Er.instancesPerModel[cr];bi.features.length>0&&(cr=Kr.evaluate(bi.features[0].feature,{}));const Vr=Pt.getModel(cr,Bt);if(Vr&&Vr.uploaded)for(const $r of Vr.nodes)Wl(Pe,xt,$r,bi,Ar,Pr,vl)}}}(m,r,l,p,V.type==="vector"?l.scope:""),void B();if(!V.loaded())return;if(V.type==="batched-model")return function(Pe,Qe,xt,gt){xt.resetLayerRenderingStats(Pe);const Bt=Pe.context,Rt=Pe.transform,Dt=Pe.style.fog,Pt=Pe.shadowRenderer;if(Rt.projection.name!=="mercator")return void c.w(`Drawing 3D landmark models for ${Rt.projection.name} projection is not yet implemented`);const qt=Pe.transform.getFreeCameraOptions().position,mn=c.ab.vec3.scale([],[qt.x,qt.y,qt.z],Pe.transform.worldSize),nr=c.ab.vec3.negate([],mn),Wn=c.ab.mat4.identity([]),Pr=c.dj(Rt.center.lat,Rt.zoom),Er=c.ab.mat4.fromScaling([],[1,1,1/Pr]);c.ab.mat4.translate(Wn,Wn,nr);const Nn=xt.paint.get("model-opacity").constantOr(1),ar=new To(Bt.gl.LEQUAL,To.ReadWrite,Pe.depthRangeFor3D),Kr=new To(Bt.gl.LEQUAL,To.ReadOnly,Pe.depthRangeFor3D),Ln=new c.cd([1/0,1/0,1/0],[-1/0,-1/0,-1/0]),Ar=Pe.renderPass==="shadow",cr=Ar&&Pt?Pt.getCurrentCascadeFrustum():Rt.getFrustum(Rt.scaleZoom(Rt.worldSize)),bi=xt.paint.get("model-front-cutoff"),Vr=bi[2]<1,$r=Jt(Pe,xt.paint.get("model-cutoff-fade-range")),fi=xt.getLayerRenderingStats();(function(Ci,Vi,ao,ia){const Fo=Ci.terrain?Ci.terrain.exaggeration():0,Zo=Ci.transform.zoom;for(const ga of ia){const as=Vi.getTile(ga).getBucket(ao);as&&(Ci.conflationActive&&as.updateReplacement(ga,Ci.replacementSource),as.evaluateScale(Ci,ao),Ci.terrain&&Fo>0&&as.elevationUpdate(Ci.terrain,Fo,ga,ao.source),as.needsReEvaluation(Ci,Zo,ao)&&as.evaluate(ao))}})(Pe,Qe,xt,gt),function(){let Ci,Vi,ao;Vr?(Ci=gt.length-1,Vi=-1,ao=-1):(Ci=0,Vi=gt.length,ao=1);const ia=new Float64Array(16),Fo=c.ab.vec3.create(),Zo=new c.P(0,0);for(let ga=Ci;ga!==Vi;ga+=ao){const as=gt[ga],ps=Qe.getTile(as).getBucket(xt);if(!ps||!ps.uploaded)continue;let ul=!1;Pt&&(ul=Pt.getMaxCascadeForTile(as.toUnwrapped())===0);const Ks=Rt.calculatePosMatrix(as.toUnwrapped(),Rt.worldSize),Ma=ps.modelTraits;!Ar&&Vr&&(c.ab.mat4.invert(ia,Ks),c.ab.vec3.transformMat4(Fo,mn,ia),Zo.x=Fo[0],Zo.y=Fo[1]);const us=[];for(const Eo of ps.getNodesInfo()){if(Eo.hiddenByReplacement||!Eo.node.meshes)continue;const _a=Eo.node;let ys=0;Pe.terrain&&_a.elevation&&(ys=_a.elevation*Pe.terrain.exaggeration());const xs=(()=>{const rs=Eo.aabb;return Ln.min=[...rs.min],Ln.max=[...rs.max],Ln.min[2]+=ys,Ln.max[2]+=ys,c.ab.vec3.transformMat4(Ln.min,Ln.min,Ks),c.ab.vec3.transformMat4(Ln.max,Ln.max,Ks),Ln})(),dl=Eo.evaluatedScale;if(dl[0]<=1&&dl[1]<=1&&dl[2]<=1&&xs.intersects(cr)===0)continue;if(!Ar&&Vr){const rs=.16666666666666666;Eo.cameraCollisionOpacity=mn[0]>xs.min[0]&&mn[0]<xs.max[0]&&mn[1]>xs.min[1]&&mn[1]<xs.max[1]&&mn[2]*Pr<xs.max[2]&&_a.footprint&&c.bA(Zo,_a.footprint)?Math.max(Eo.cameraCollisionOpacity-rs,0):Math.min(1,Eo.cameraCollisionOpacity+rs)}const Gl=[...Ks],Bl=_a.anchor?_a.anchor[0]:0,Fl=_a.anchor?_a.anchor[1]:0;c.ab.mat4.translate(Gl,Gl,[Bl*(dl[0]-1),Fl*(dl[1]-1),ys]),c.ab.vec3.exactEquals(dl,c.dm)||c.ab.mat4.scale(Gl,Gl,dl);const eu=c.ab.mat4.multiply([],Gl,_a.matrix),Ic=c.ab.mat4.multiply([],Rt.expandedFarZProjMatrix,eu),al=c.ab.mat4.multiply([],Rt.expandedFarZProjMatrix,Gl),ks=c.ab.vec4.transformMat4([],[Bl,Fl,ys,1],Ic)[2];_a.hidden=!1;let Rs=Nn;Ar||(Vr&&(Rs*=Eo.cameraCollisionOpacity,Rs*=Xg(Gl,Rt,Eo.aabb,bi)),Rs*=Zd($r,ks)),Rs!==0?us.push({nodeInfo:Eo,depth:ks,opacity:Rs,wvpForNode:Ic,wvpForTile:al,nodeModelMatrix:eu,tileModelMatrix:Gl}):_a.hidden=!0}Ar||us.sort((Eo,_a)=>!Vr||Eo.opacity===1&&_a.opacity===1?Eo.depth<_a.depth?-1:1:Eo.opacity===1?-1:_a.opacity===1?1:Eo.depth>_a.depth?-1:1);for(const Eo of us){const _a=Eo.nodeInfo,ys=_a.node;let xs=c.ab.mat4.multiply([],Er,Eo.tileModelMatrix);c.ab.mat4.multiply(xs,Wn,xs);const dl=c.ab.mat4.invert([],xs);c.ab.mat4.transpose(dl,dl),c.ab.mat4.scale(dl,dl,fm),xs=c.ab.mat4.multiply(xs,xs,ys.matrix);const Gl=Pe.renderPass==="light-beam",Bl=xt.paint.get("model-color-use-theme").constantOr("default")==="none",Fl=Ma&c.dp.HasMapboxMeshFeatures,eu=Fl?0:_a.evaluatedRMEA[0][2];for(let Ic=0;Ic<ys.meshes.length;++Ic){const al=ys.meshes[Ic],ks=Ic===ys.lightMeshIndex;let Rs=Eo.wvpForNode;if(ks){if(!Gl&&!Pe.terrain&&Pe.shadowRenderer){Pe.currentLayer<Pe.firstLightBeamLayer&&(Pe.firstLightBeamLayer=Pe.currentLayer);continue}Rs=Eo.wvpForTile}else if(Gl)continue;const rs={defines:[]},fl=[];if(!Ar&&Pt&&(Pt.useNormalOffset=!!al.normalBuffer),yf(rs.defines,fl,al,Pe,Bl?null:xt.lut),Fl||rs.defines.push("DIFFUSE_SHADED"),ul&&rs.defines.push("SHADOWS_SINGLE_CASCADE"),fi&&(Ar?fi.numRenderedVerticesInShadowPass+=al.vertexArray.length:fi.numRenderedVerticesInTransparentPass+=al.vertexArray.length),Ar){_f(al,Eo.nodeModelMatrix,Pe,xt);continue}let nc=null;if(Dt){const bu=md(Eo.nodeModelMatrix,Pe.transform);if(nc=new Float32Array(bu),Rt.projection.name!=="globe"){const cu=al.aabb.min,mc=al.aabb.max,[Xd,Au]=Dt.getOpacityForBounds(bu,cu[0],cu[1],mc[0],mc[1]);rs.overrideFog=Xd>=Ye||Au>=Ye}}const Ns=al.material;let Mc;Ns.occlusionTexture&&Ns.occlusionTexture.offsetScale&&(Mc=Ns.occlusionTexture.offsetScale,rs.defines.push("OCCLUSION_TEXTURE_TRANSFORM"));const Uc=Pe.getOrCreateProgram("model",rs);!Ar&&Pt&&Pt.setupShadowsFromMatrix(Eo.tileModelMatrix,Uc,Pt.useNormalOffset),Pe.uploadCommonUniforms(Bt,Uc,null,nc);const Wc=Ns.pbrMetallicRoughness;Wc.metallicFactor=.9,Wc.roughnessFactor=.5;const Tc=ff(new Float32Array(Rs),new Float32Array(xs),new Float32Array(dl),new Float32Array(ys.matrix),Pe,Eo.opacity,Wc.baseColorFactor.toRenderColor(null),Ns.emissiveFactor,Wc.metallicFactor,Wc.roughnessFactor,Ns,eu,xt,[0,0,0],Mc);!ks&&(_a.hasTranslucentParts||Eo.opacity<1)&&Uc.draw(Pe,Bt.gl.TRIANGLES,ar,Uo.disabled,ra.disabled,qo.backCCW,Tc,xt.id,al.vertexBuffer,al.indexBuffer,al.segments,xt.paint,Pe.transform.zoom,void 0,fl),Uc.draw(Pe,Bt.gl.TRIANGLES,ks?Kr:ar,Uo.disabled,ks||Eo.opacity<1||_a.hasTranslucentParts?ra.alphaBlended:ra.unblended,qo.backCCW,Tc,xt.id,al.vertexBuffer,al.indexBuffer,al.segments,xt.paint,Pe.transform.zoom,void 0,fl)}}}}()}(m,r,l,p),void B();if(V.type!=="model")return;const U=V.getModels(),J=[],Q=m.transform.getFreeCameraOptions().position,le=c.ab.vec3.scale([],[Q.x,Q.y,Q.z],m.transform.worldSize);c.ab.vec3.negate(le,le);const Ee=[],be=[];let Ae=0;for(const Pe of U){const Qe=l.paint.get("model-rotation").constantOr(null),xt=l.paint.get("model-scale").constantOr(null),gt=l.paint.get("model-translation").constantOr(null);Pe.computeModelMatrix(m,Qe,xt,gt,!0,!0,!1);const Bt=c.ab.mat4.identity([]),Rt=c.dj(Pe.position.lat,m.transform.zoom),Dt=c.ab.mat4.fromScaling([],[1,1,1/Rt]);c.ab.mat4.translate(Bt,Bt,le),J.push({zScaleMatrix:Dt,negCameraPosMatrix:Bt});for(const Pt of Pe.nodes)dm(m.transform,Pt,Pe.matrix,m.transform.expandedFarZProjMatrix,Ae,Ee,be);Ae++}if(Ee.sort((Pe,Qe)=>Qe.depth-Pe.depth),m.renderPass!=="shadow"){if(_===1)for(const Pe of be)pd(Pe,m,l,J[Pe.modelIndex],Uo.disabled,m.colorModeForRenderPass());else{for(const Pe of be)pd(Pe,m,l,J[Pe.modelIndex],Uo.disabled,ra.disabled);for(const Pe of be)pd(Pe,m,l,J[Pe.modelIndex],m.stencilModeFor3D(),m.colorModeForRenderPass());m.resetStencilClippingMasks()}for(const Pe of Ee)pd(Pe,m,l,J[Pe.modelIndex],Uo.disabled,m.colorModeForRenderPass());B()}else{for(const Pe of be)_f(Pe.mesh,Pe.nodeModelMatrix,m,l);for(const Pe of Ee)_f(Pe.mesh,Pe.nodeModelMatrix,m,l);B()}}},Hd={line:function(m,r,l){if(m.hasElevatedBuckets=!1,m.hasNonElevatedBuckets=!1,m._unevaluatedLayout.getValue("line-elevation-reference")!==void 0||m._unevaluatedLayout.getValue("line-z-offset")!==void 0){if(r){const p=r.getVisibleCoordinates();for(const _ of p){const x=r.getTile(_).getBucket(m);if(x&&(x.hasZOffset?m.hasElevatedBuckets=!0:m.hasNonElevatedBuckets=!0,m.hasElevatedBuckets&&m.hasNonElevatedBuckets))break}}}else m.hasNonElevatedBuckets=!0},model:function(m,r,l){const p=r.getSource();if(!p.loaded())return;if(p.type==="vector"||p.type==="geojson")return void(l.modelManager&&l.modelManager.upload(l,p.type==="vector"?m.scope:""));if(p.type==="batched-model"||p.type!=="model")return;const _=p.getModels();for(const x of _)x.upload(l.context)},raster:function(m,r,l){const p=r.getSource();if(!(p instanceof mt&&p.loaded()))return;const _=m.sourceLayer||p.rasterLayerIds&&p.rasterLayerIds[0];if(!_)return;const x=m.paint.get("raster-array-band")||p.getInitialBand(_);if(x==null)return;const E=r.getIds().map(R=>r.getTileByID(R));for(const R of E)R.updateNeeded(_,x)&&p.prepareTile(R,_,x)},"raster-particle":function(m,r,l){const p=r.getSource();if(!(p instanceof mt&&p.loaded()))return;const _=m.sourceLayer||p.rasterLayerIds&&p.rasterLayerIds[0];if(!_)return;const x=m.paint.get("raster-particle-array-band")||p.getInitialBand(_);if(x==null)return;const E=r.getIds().map(R=>r.getTileByID(R));for(const R of E)R.updateNeeded(_,x)&&p.prepareTile(R,_,x)}};class gm{constructor(r,l,p,_,x){this.context=new om(r,l),this.transform=p,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.tp=x,this._timeStamp=c.q.now(),this._averageFPS=0,this._fpsHistory=[],this._dt=0,this._debugParams={forceEnablePrecipitation:!1,showTerrainProxyTiles:!1,fpsWindow:30,continousRedraw:!1,enabledLayers:{}};const E=["fill","line","symbol","circle","heatmap","fill-extrusion","raster","raster-particle","hillshade","model","background","sky"];for(const B of E)this._debugParams.enabledLayers[B]=!0;x.registerParameter(this._debugParams,["Terrain"],"showTerrainProxyTiles",{},()=>{this.style.map.triggerRepaint()}),x.registerParameter(this._debugParams,["Precipitation"],"forceEnablePrecipitation"),x.registerParameter(this._debugParams,["FPS"],"fpsWindow",{min:1,max:100,step:1}),x.registerBinding(this._debugParams,["FPS"],"continousRedraw",{readonly:!0,label:"continuous redraw"}),x.registerBinding(this,["FPS"],"_averageFPS",{readonly:!0,label:"value"}),x.registerBinding(this,["FPS"],"_averageFPS",{readonly:!0,label:"graph",view:"graph",min:0,max:200});for(const B of E)x.registerParameter(this._debugParams.enabledLayers,["Debug","Layers"],B);this.occlusionParams=new mm(x),this.setup(),this.numSublayers=so.maxUnderzooming+so.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={},this.conflationActive=!1,this.replacementSource=new c.dv,this.longestCutoffRange=0,this.minCutoffZoom=0,this._fogVisible=!1,this._cachedTileFogOpacities={},this._shadowRenderer=new Fr(this),this._wireframeDebugCache=new wp,this.renderDefaultNorthPole=!0,this.renderDefaultSouthPole=!0,this.layersWithOcclusionOpacity=[];const R=new c.r({width:1,height:1},Uint8Array.of(0,0,0,0));this.emptyDepthTexture=new c.T(this.context,R,r.RGBA8),this._clippingActiveLastFrame=!1,this.scaleFactor=_}updateTerrain(r,l){const p=!!r&&!!r.terrain&&this.transform.projection.supportsTerrain;if(!(p||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new Nc(this,r));const _=this._terrain;this.transform.elevation=p?_:null,_.update(r,this.transform,l),this.transform.elevation&&!_.enabled&&(this.transform.elevation=null)}_updateFog(r){const l=r.fog;if(!l||this.transform.projection.name==="globe"||l.getOpacity(this.transform.pitch)<1||l.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[p,_]=l.getFovAdjustedRange(this.transform._fov);if(p>_)return void(this.transform.fogCullDistSq=null);const x=p+.78*(_-p);this.transform.fogCullDistSq=x*x}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled||this._forceTerrainMode?this._terrain:null}get forceTerrainMode(){return this._forceTerrainMode}set forceTerrainMode(r){r&&!this._terrain&&(this._terrain=new Nc(this,this.style)),this._forceTerrainMode=r}get shadowRenderer(){return this._shadowRenderer&&this._shadowRenderer.enabled?this._shadowRenderer:null}get wireframeDebugCache(){return this._wireframeDebugCache}resize(r,l){if(this.width=r*c.q.devicePixelRatio,this.height=l*c.q.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const p of this.style.order)this.style._mergedLayers[p].resize()}setup(){const r=this.context,l=new c.b4;l.emplaceBack(0,0),l.emplaceBack(c.ag,0),l.emplaceBack(0,c.ag),l.emplaceBack(c.ag,c.ag),this.tileExtentBuffer=r.createVertexBuffer(l,c.b6.members),this.tileExtentSegments=c.b7.simpleSegment(0,0,4,2);const p=new c.b4;p.emplaceBack(0,0),p.emplaceBack(c.ag,0),p.emplaceBack(0,c.ag),p.emplaceBack(c.ag,c.ag),this.debugBuffer=r.createVertexBuffer(p,c.b6.members),this.debugSegments=c.b7.simpleSegment(0,0,4,5);const _=new c.b4;_.emplaceBack(-1,-1),_.emplaceBack(1,-1),_.emplaceBack(-1,1),_.emplaceBack(1,1),this.viewportBuffer=r.createVertexBuffer(_,c.b6.members),this.viewportSegments=c.b7.simpleSegment(0,0,4,2);const x=new c.aT;x.emplaceBack(0,0,0,0),x.emplaceBack(c.ag,0,c.ag,0),x.emplaceBack(0,c.ag,0,c.ag),x.emplaceBack(c.ag,c.ag,c.ag,c.ag),this.mercatorBoundsBuffer=r.createVertexBuffer(x,c.b9.members),this.mercatorBoundsSegments=c.b7.simpleSegment(0,0,4,2);const E=new c.aU;E.emplaceBack(0,1,2),E.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=r.createIndexBuffer(E);const R=new c.b5;for(const V of[0,1,3,2,0])R.emplaceBack(V);this.debugIndexBuffer=r.createIndexBuffer(R),this.emptyTexture=new c.T(r,new c.r({width:1,height:1},Uint8Array.of(0,0,0,0)),r.gl.RGBA8),this.identityMat=c.ab.mat4.create();const B=this.context.gl;this.stencilClearMode=new Uo({func:B.ALWAYS,mask:0},0,255,B.ZERO,B.ZERO,B.ZERO),this.loadTimeStamps.push(performance.now())}getMercatorTileBoundsBuffers(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(r){return r._makeTileBoundsBuffers(this.context,this.transform.projection),r._tileBoundsBuffer?{tileBoundsBuffer:r._tileBoundsBuffer,tileBoundsIndexBuffer:r._tileBoundsIndexBuffer,tileBoundsSegments:r._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const r=this.context.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.getOrCreateProgram("clippingMask").draw(this,r.TRIANGLES,To.disabled,this.stencilClearMode,ra.disabled,qo.disabled,_c(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={})}_renderTileClippingMasks(r,l,p){if(!l||this.currentStencilSource===l.id||!r.isTileClipped()||!p||p.length===0)return;if(this._tileClippingMaskIDs&&!this.terrain){let R=!1;for(const B of p)if(this._tileClippingMaskIDs[B.key]===void 0){R=!0;break}if(!R)return}this.currentStencilSource=l.id;const _=this.context,x=_.gl;this.nextStencilID+p.length>256&&this.clearStencil(),_.setColorMode(ra.disabled),_.setDepthMode(To.disabled);const E=this.getOrCreateProgram("clippingMask");this._tileClippingMaskIDs={};for(const R of p){const B=l.getTile(R),V=this._tileClippingMaskIDs[R.key]=this.nextStencilID++,{tileBoundsBuffer:U,tileBoundsIndexBuffer:J,tileBoundsSegments:Q}=this.getTileBoundsBuffers(B);E.draw(this,x.TRIANGLES,To.disabled,new Uo({func:x.ALWAYS,mask:0},V,255,x.KEEP,x.KEEP,x.REPLACE),ra.disabled,qo.disabled,_c(R.projMatrix),"$clipping",U,J,Q)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const r=this.nextStencilID++,l=this.context.gl;return new Uo({func:l.NOTEQUAL,mask:255},r,255,l.KEEP,l.KEEP,l.REPLACE)}stencilModeForClipping(r){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(r);const l=this.context.gl;return new Uo({func:l.EQUAL,mask:255},this._tileClippingMaskIDs[r.key],0,l.KEEP,l.KEEP,l.REPLACE)}stencilConfigForOverlap(r){const l=this.context.gl,p=r.sort((E,R)=>R.overscaledZ-E.overscaledZ),_=p[p.length-1].overscaledZ,x=p[0].overscaledZ-_+1;if(x>1){this.currentStencilSource=void 0,this.nextStencilID+x>256&&this.clearStencil();const E={};for(let R=0;R<x;R++)E[R+_]=new Uo({func:l.GEQUAL,mask:255},R+this.nextStencilID,255,l.KEEP,l.KEEP,l.REPLACE);return this.nextStencilID+=x,[E,p]}return[{[_]:Uo.disabled},p]}colorModeForRenderPass(){const r=this.context.gl;return this._showOverdrawInspector?new ra([r.CONSTANT_COLOR,r.ONE,r.CONSTANT_COLOR,r.ONE],new c.aj(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?ra.unblended:ra.alphaBlended}colorModeForDrapableLayerRenderPass(r){const l=this.context.gl;return this.style&&this.style.enable3dLights()&&this.terrain&&this.terrain.renderingToTexture&&this.renderPass==="translucent"?new ra([l.ONE,l.ONE_MINUS_SRC_ALPHA,l.CONSTANT_ALPHA,l.ONE_MINUS_SRC_ALPHA],new c.aj(0,0,0,r===void 0?0:r),[!0,!0,!0,!0]):this.colorModeForRenderPass()}depthModeForSublayer(r,l,p,_=!1){if(this.depthOcclusion)return new To(this.context.gl.GREATER,To.ReadOnly,this.depthRangeFor3D);if(!this.opaquePassEnabledForLayer()&&!_)return To.disabled;const x=1-((1+this.currentLayer)*this.numSublayers+r)*this.depthEpsilon;return new To(p||this.context.gl.LEQUAL,l,[x,x])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}blitDepth(){const r=this.context.gl,l=Math.ceil(this.width),p=Math.ceil(this.height),_=this.context.bindFramebuffer.get(),x=r.getParameter(r.TEXTURE_BINDING_2D);this.depthFBO&&this.depthFBO.width===l&&this.depthFBO.height===p||(this.depthFBO&&(this.depthFBO.destroy(),this.depthFBO=void 0,this.depthTexture=void 0),l!==0&&p!==0&&(this.depthFBO=new vp(this.context,l,p,!1,"texture"),this.depthTexture=new c.T(this.context,{width:l,height:p,data:null},r.DEPTH24_STENCIL8),this.depthFBO.depthAttachment.set(this.depthTexture.texture))),this.context.bindFramebuffer.set(_),r.bindTexture(r.TEXTURE_2D,x),this.depthFBO&&(r.bindFramebuffer(r.READ_FRAMEBUFFER,null),r.bindFramebuffer(r.DRAW_FRAMEBUFFER,this.depthFBO.framebuffer),r.blitFramebuffer(0,0,l,p,0,0,l,p,r.DEPTH_BUFFER_BIT,r.NEAREST),r.bindFramebuffer(r.FRAMEBUFFER,this.context.bindFramebuffer.current))}updateAverageFPS(){this._fpsHistory.push(this._dt===0?0:1e3/this._dt),this._fpsHistory.length>this._debugParams.fpsWindow&&this._fpsHistory.splice(0,this._fpsHistory.length-this._debugParams.fpsWindow),this._averageFPS=Math.round(this._fpsHistory.reduce((r,l)=>r+l/this._fpsHistory.length,0))}render(r,l){const p=c.q.now();this._dt=p-this._timeStamp,this._timeStamp=p,this._wireframeDebugCache.update(this.frameCounter),this._debugParams.continousRedraw=r.map.repaint,this.style=r,this.options=l;const _=this.style._mergedLayers,x=!(!this.terrain||!this.terrain.enabled),E=()=>this.style._getOrder(x).filter(Nn=>{const ar=_[Nn];return!(ar.type in this._debugParams.enabledLayers)||this._debugParams.enabledLayers[ar.type]});let R=E(),B=!1,V=!1;for(const Nn of R){const ar=_[Nn];ar.type==="circle"&&(B=!0),ar.type==="symbol"&&(ar.hasInitialOcclusionOpacityProperties?V=!0:B=!0)}let U=R.map(Nn=>_[Nn]);const J=this.style._mergedSourceCaches;this.imageManager=r.imageManager,this.modelManager=r.modelManager,this.symbolFadeChange=r.placement.symbolFadeChange(c.q.now()),this.imageManager.beginFrame();let Q=0,le=!1;for(const Nn in J){const ar=J[Nn];ar.used&&(ar.prepare(this.context),ar.getSource().usedInConflation&&++Q)}let Ee=!1;for(const Nn of U)Nn.isHidden(this.transform.zoom)||(Nn.type==="clip"&&(Ee=!0),this.prepareLayer(Nn));const be={},Ae={},Pe={},Qe={},xt={};for(const Nn in J){const ar=J[Nn];be[Nn]=ar.getVisibleCoordinates(),Ae[Nn]=be[Nn].slice().reverse(),Pe[Nn]=ar.getVisibleCoordinates(!0).reverse(),Qe[Nn]=ar.getShadowCasterCoordinates(),xt[Nn]=ar.sortCoordinatesByDistance(be[Nn])}const gt=Nn=>{const ar=this.style.getLayerSourceCache(Nn);return ar&&ar.used?ar.getSource():null};if(Q||Ee||this._clippingActiveLastFrame){const Nn=[],ar=[];let Kr=0;for(const Ln of U)this.isSourceForClippingOrConflation(Ln,gt(Ln))&&(Nn.push(Ln),ar.push(Kr)),Kr++;if(Nn&&(Ee||Nn.length>1)||this._clippingActiveLastFrame){Ee=!1;const Ln=[];for(let Ar=0;Ar<Nn.length;Ar++){const cr=Nn[Ar],bi=ar[Ar],Vr=this.style.getLayerSourceCache(cr);if(!Vr||!Vr.used||!Vr.getSource().usedInConflation&&cr.type!=="clip")continue;let $r=c.dx,fi=c.by.None;const Ci=[];let Vi=!0;if(cr.type==="clip"){$r=bi;for(const ao of cr.layout.get("clip-layer-types"))fi|=ao==="model"?c.by.Model:ao==="symbol"?c.by.Symbol:c.by.FillExtrusion;for(const ao of cr.layout.get("clip-layer-scope"))Ci.push(ao);cr.isHidden(this.transform.zoom)?Vi=!1:Ee=!0}Vi&&Ln.push({layer:cr.fqid,cache:Vr,order:$r,clipMask:fi,clipScope:Ci})}this.replacementSource.setSources(Ln),le=!0}}this._clippingActiveLastFrame=Ee,le||this.replacementSource.clear(),this.conflationActive=le,this.minCutoffZoom=0,this.longestCutoffRange=0,this.opaquePassCutoff=1/0,this._lastOcclusionLayer=-1,this.layersWithOcclusionOpacity=[];for(let Nn=0;Nn<U.length;Nn++){const ar=U[Nn],Kr=ar.cutoffRange();if(this.longestCutoffRange=Math.max(Kr,this.longestCutoffRange),Kr>0){const Ln=gt(ar);Ln&&(this.minCutoffZoom=Math.max(Ln.minzoom,this.minCutoffZoom)),ar.minzoom&&(this.minCutoffZoom=Math.max(ar.minzoom,this.minCutoffZoom))}ar.is3D()&&(this.opaquePassCutoff===1/0&&(this.opaquePassCutoff=Nn),this._lastOcclusionLayer=Nn)}const Bt=this.style&&this.style.fog;Bt?(this._fogVisible=Bt.getOpacity(this.transform.pitch)!==0,this._fogVisible&&this.transform.projection.name!=="globe"&&(this._fogVisible=Bt.isVisibleOnFrustum(this.transform.cameraFrustum))):this._fogVisible=!1,this._cachedTileFogOpacities={},this.terrain&&(this.terrain.updateTileBinding(Pe),this.opaquePassCutoff=0,R=E(),U=R.map(Nn=>_[Nn]));const Rt=this._shadowRenderer;if(Rt){Rt.updateShadowParameters(this.transform,this.style.directionalLight);for(const Nn in J)for(const ar of be[Nn]){let Kr={min:0,max:0};this.terrain&&(Kr=this.terrain.getMinMaxForTile(ar)||Kr),Rt.addShadowReceiver(ar.toUnwrapped(),Kr.min,Kr.max)}}this.transform.projection.name!=="globe"||this.globeSharedBuffers||(this.globeSharedBuffers=new c.dw(this.context)),this.style.fog&&this.transform.projection.supportsFog?(this._atmosphere||(this._atmosphere=new Kg(this)),this._atmosphere.update(this)):this._atmosphere&&(this._atmosphere.destroy(),this._atmosphere=void 0);const Dt=this._debugParams.forceEnablePrecipitation||!(!this.style||!this.style.snow),Pt=this._debugParams.forceEnablePrecipitation||!(!this.style||!this.style.rain);if(Dt&&!this._snow&&(this._snow=new qg(this)),!Dt&&this._snow&&(this._snow.destroy(),delete this._snow),Pt&&!this._rain&&(this._rain=new bf(this)),!Pt&&this._rain&&(this._rain.destroy(),delete this._rain),this._snow&&this._snow.update(this),this._rain&&this._rain.update(this),!Pn.has(this.context.gl))return;this.renderPass="offscreen";for(const Nn of U){const ar=r.getLayerSourceCache(Nn);if(!Nn.hasOffscreenPass()||Nn.isHidden(this.transform.zoom))continue;const Kr=ar?Ae[ar.id]:void 0;(Nn.type==="custom"||Nn.type==="raster"||Nn.type==="raster-particle"||Nn.isSky()||Kr&&Kr.length)&&this.renderLayer(this,ar,Nn,Kr)}this.depthRangeFor3D=[0,1-(U.length+2)*this.numSublayers*this.depthEpsilon],this._shadowRenderer&&(this.renderPass="shadow",this._shadowRenderer.drawShadowPass(this.style,Qe)),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]);const qt=this.transform.projection.name==="globe"||this.transform.isHorizonVisible(),mn=(()=>{if(l.showOverdrawInspector)return c.aj.black;const Nn=this.style.fog;if(Nn&&this.transform.projection.supportsFog){const ar=this.style.getLut(Nn.scope);if(!qt){const Kr=Nn.properties.get("color-use-theme")==="none",Ln=Nn.properties.get("color").toRenderColor(Kr?null:ar).toArray01();return new c.aj(...Ln)}if(qt){const Kr=Nn.properties.get("space-color-use-theme")==="none",Ln=Nn.properties.get("space-color").toRenderColor(Kr?null:ar).toArray01();return new c.aj(...Ln)}}return c.aj.transparent})();if(this.context.clear({color:mn,depth:1}),this.clearStencil(),this._showOverdrawInspector=l.showOverdrawInspector,this.renderPass="opaque",this.style.fog&&this.transform.projection.supportsFog&&this._atmosphere&&!this._showOverdrawInspector&&qt&&this._atmosphere.drawStars(this,this.style.fog),!this.terrain)for(this.currentLayer=R.length-1;this.currentLayer>=0;this.currentLayer--){const Nn=U[this.currentLayer],ar=r.getLayerSourceCache(Nn);if(Nn.isSky())continue;const Kr=ar?(Nn.is3D()?xt:Ae)[ar.id]:void 0;this._renderTileClippingMasks(Nn,ar,Kr),this.renderLayer(this,ar,Nn,Kr)}if(this.style.fog&&this.transform.projection.supportsFog&&this._atmosphere&&!this._showOverdrawInspector&&qt&&this._atmosphere.drawAtmosphereGlow(this,this.style.fog),this.renderPass="sky",(!this._atmosphere||c.ae(this.transform.zoom)>0)&&(this.transform.projection.name==="globe"||this.transform.isHorizonVisible()))for(this.currentLayer=0;this.currentLayer<R.length;this.currentLayer++){const Nn=U[this.currentLayer],ar=r.getLayerSourceCache(Nn);Nn.isSky()&&this.renderLayer(this,ar,Nn,ar?Ae[ar.id]:void 0)}function nr(Nn,ar){let Kr;return ar&&(Kr=(Nn.type==="symbol"?Pe:Nn.is3D()?xt:Ae)[ar.id]),Kr}if(this.renderPass="translucent",this.transform.projection.name==="globe"){for(this.renderElevatedRasterBackface=!0,this.currentLayer=0;this.currentLayer<R.length;){const Nn=U[this.currentLayer];if(Nn.type==="raster"||Nn.type==="raster-particle"){const ar=r.getLayerSourceCache(Nn);this.renderLayer(this,ar,Nn,nr(Nn,ar))}++this.currentLayer}this.renderElevatedRasterBackface=!1}this.currentLayer=0,this.firstLightBeamLayer=Number.MAX_SAFE_INTEGER;let Wn=0;Rt&&(Wn=Rt.getShadowCastingLayerCount());let Pr=!1,Er=-1;for(let Nn=0;Nn<R.length;++Nn){const ar=U[Nn];ar.isHidden(this.transform.zoom)||ar.is3D()&&(Er=Nn)}for(V&&Er===-1&&(B=!0);this.currentLayer<R.length;){const Nn=U[this.currentLayer],ar=r.getLayerSourceCache(Nn);if(Nn.isSky())++this.currentLayer;else if(this.terrain&&this.style.isLayerDraped(Nn)){if(Nn.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer),this._lastOcclusionLayer=Math.max(this.currentLayer,this._lastOcclusionLayer)}else{if(B&&!Pr&&this.terrain&&!this.transform.isOrthographic&&(Pr=!0,this.blitDepth()),V&&Er!==-1&&this.currentLayer===Er+1&&!this.transform.isOrthographic&&this.blitDepth(),Nn.is3D()||this.terrain||this._renderTileClippingMasks(Nn,ar,ar?be[ar.id]:void 0),this.renderLayer(this,ar,Nn,nr(Nn,ar)),!this.terrain&&Rt&&Wn>0&&Nn.hasShadowPass()&&--Wn==0&&(Rt.drawGroundShadows(),this.firstLightBeamLayer<=this.currentLayer)){const Kr=this.currentLayer;for(this.renderPass="light-beam",this.currentLayer=this.firstLightBeamLayer;this.currentLayer<=Kr;this.currentLayer++){const Ln=U[this.currentLayer];if(!Ln.hasLightBeamPass())continue;const Ar=r.getLayerSourceCache(Ln);this.renderLayer(this,Ar,Ln,Ar?Ae[Ar.id]:void 0)}this.currentLayer=Kr,this.renderPass="translucent"}if(this.currentLayer>=this._lastOcclusionLayer&&this.layersWithOcclusionOpacity.length>0){const Kr=this.currentLayer;this.depthOcclusion=!0;for(const Ln of this.layersWithOcclusionOpacity){this.currentLayer=Ln;const Ar=U[this.currentLayer],cr=r.getLayerSourceCache(Ar),bi=cr?Ae[cr.id]:void 0;Ar.is3D()||this.terrain||this._renderTileClippingMasks(Ar,cr,cr?be[cr.id]:void 0),this.renderLayer(this,cr,Ar,bi)}this.depthOcclusion=!1,this.currentLayer=Kr,this.renderPass="translucent",this.layersWithOcclusionOpacity=[]}++this.currentLayer}}if(this.terrain&&this.terrain.postRender(),this._snow&&this._snow.draw(this),this._rain&&this._rain.draw(this),this.options.showTileBoundaries||this.options.showQueryGeometry||this.options.showTileAABBs){let Nn=null;U.forEach(ar=>{const Kr=r.getLayerSourceCache(ar);Kr&&!ar.isHidden(this.transform.zoom)&&Kr.getVisibleCoordinates().length&&(!Nn||Nn.getSource().maxzoom<Kr.getSource().maxzoom)&&(Nn=Kr)}),Nn&&this.options.showTileBoundaries&&xf.debug(this,Nn,Nn.getVisibleCoordinates(),c.aj.red,!1,this.options.showParseStatus)}this.terrain&&this._debugParams.showTerrainProxyTiles&&xf.debug(this,this.terrain.proxySourceCache,this.terrain.proxyCoords,new c.aj(1,.8,.1,1),!0,this.options.showParseStatus),this.options.showPadding&&function(Nn){const ar=Nn.transform.padding;xp(Nn,Nn.transform.height-(ar.top||0),3,gf),xp(Nn,ar.bottom||0,3,Tv),Cp(Nn,ar.left||0,3,Pv),Cp(Nn,Nn.transform.width-(ar.right||0),3,Gg);const Kr=Nn.transform.centerPoint;(function(Ln,Ar,cr,bi){jd(Ln,Ar-1,cr-10,2,20,bi),jd(Ln,Ar-10,cr-1,20,2,bi)})(Nn,Kr.x,Nn.transform.height-Kr.y,cm)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(performance.now()),this.saveCanvasCopy()),le||(this.conflationActive=!1)}prepareLayer(r){this.gpuTimingStart(r);const{unsupportedLayers:l}=this.transform.projection,p=!l||!l.includes(r.type);if(Hd[r.type]&&(p||this.terrain&&r.type==="custom")){const _=this.style.getLayerSourceCache(r);Hd[r.type](r,_,this)}this.gpuTimingEnd()}renderLayer(r,l,p,_){p.isHidden(this.transform.zoom)||(p.type==="background"||p.type==="sky"||p.type==="custom"||p.type==="model"||p.type==="raster"||p.type==="raster-particle"||_&&_.length)&&(this.id=p.id,this.gpuTimingStart(p),r.transform.projection.unsupportedLayers&&r.transform.projection.unsupportedLayers.includes(p.type)&&(!r.terrain||p.type!=="custom")||p.type==="clip"||xf[p.type](r,l,p,_,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(r){if(!this.options.gpuTiming)return;const l=this.context.extTimerQuery,p=this.context.gl;let _=this.gpuTimers[r.id];_||(_=this.gpuTimers[r.id]={calls:0,cpuTime:0,query:p.createQuery()}),_.calls++,p.beginQuery(l.TIME_ELAPSED_EXT,_.query)}gpuTimingDeferredRenderStart(){if(this.options.gpuTimingDeferredRender){const r=this.context.extTimerQuery,l=this.context.gl,p=l.createQuery();this.deferredRenderGpuTimeQueries.push(p),l.beginQuery(r.TIME_ELAPSED_EXT,p)}}gpuTimingDeferredRenderEnd(){this.options.gpuTimingDeferredRender&&this.context.gl.endQuery(this.context.extTimerQuery.TIME_ELAPSED_EXT)}gpuTimingEnd(){this.options.gpuTiming&&this.context.gl.endQuery(this.context.extTimerQuery.TIME_ELAPSED_EXT)}collectGpuTimers(){const r=this.gpuTimers;return this.gpuTimers={},r}collectDeferredRenderGpuQueries(){const r=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],r}queryGpuTimers(r){const l={};for(const p in r){const _=r[p],x=this.context.extTimerQuery,E=x.getQueryParameter(_.query,this.context.gl.QUERY_RESULT)/1e6;x.deleteQueryEXT(_.query),l[p]=E}return l}queryGpuTimeDeferredRender(r){if(!this.options.gpuTimingDeferredRender)return 0;const l=this.context.gl;let p=0;for(const _ of r)p+=l.getQueryParameter(_,l.QUERY_RESULT)/1e6,l.deleteQuery(_);return p}translatePosMatrix(r,l,p,_,x){if(!p[0]&&!p[1])return r;const E=x?_==="map"?this.transform.angle:0:_==="viewport"?-this.transform.angle:0;if(E){const V=Math.sin(E),U=Math.cos(E);p=[p[0]*U-p[1]*V,p[0]*V+p[1]*U]}const R=[x?p[0]:c.ar(l,p[0],this.transform.zoom),x?p[1]:c.ar(l,p[1],this.transform.zoom),0],B=new Float32Array(16);return c.ab.mat4.translate(B,r,R),B}saveTileTexture(r){const l=r.size[0],p=this._tileTextures[l];p?p.push(r):this._tileTextures[l]=[r]}getTileTexture(r){const l=this._tileTextures[r];return l&&l.length>0?l.pop():null}terrainRenderModeElevated(){return this.style&&!!this.style.getTerrain()&&!!this.terrain&&!this.terrain.renderingToTexture||this.forceTerrainMode}linearFloatFilteringSupported(){return this.context.extTextureFloatLinear!=null}currentGlobalDefines(r,l,p){const _=p===void 0?this.terrain&&this.terrain.renderingToTexture:p,x=[];return this.style&&this.style.enable3dLights()&&(r==="globeRaster"||r==="terrainRaster"?(x.push("LIGHTING_3D_MODE"),x.push("LIGHTING_3D_ALPHA_EMISSIVENESS")):_||x.push("LIGHTING_3D_MODE")),this.renderPass==="shadow"&&(this._shadowMapDebug||x.push("DEPTH_TEXTURE")),this.terrainRenderModeElevated()&&(x.push("TERRAIN"),this.linearFloatFilteringSupported()&&x.push("TERRAIN_DEM_FLOAT_FORMAT")),this.transform.projection.name==="globe"&&x.push("GLOBE"),!this._fogVisible||_||l!==void 0&&!l||x.push("FOG","FOG_DITHERING"),_&&x.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&x.push("OVERDRAW_INSPECTOR"),x}getOrCreateProgram(r,l){this.cache=this.cache||{};const p=l&&l.defines||[],_=l&&l.config,x=this.currentGlobalDefines(r,l&&l.overrideFog,l&&l.overrideRtt).concat(p),E=dd.cacheKey(cc[r],r,x,_);return this.cache[E]||(this.cache[E]=new dd(this.context,r,cc[r],_,gp[r],x)),this.cache[E]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const r=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(r.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new c.T(this.context,this.debugOverlayCanvas,this.context.gl.RGBA8))}destroy(){this._terrain&&this._terrain.destroy(),this._atmosphere&&(this._atmosphere.destroy(),this._atmosphere=void 0),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this._wireframeDebugCache.destroy(),this.depthFBO&&(this.depthFBO.destroy(),this.depthFBO=void 0,this.depthTexture=void 0),this.emptyDepthTexture&&this.emptyDepthTexture.destroy()}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile()}uploadCommonLightUniforms(r,l){if(this.style.enable3dLights()){const p=this.style.directionalLight,_=this.style.ambientLight;if(p&&_){const x=((E,R,B)=>{const V=E.properties.get("direction"),U=E.properties.get("color-use-theme")==="none",J=E.properties.get("color").toRenderColor(U?null:B.getLut(E.scope)).toArray01(),Q=E.properties.get("intensity"),le=R.properties.get("color-use-theme")==="none",Ee=R.properties.get("color").toRenderColor(le?null:B.getLut(R.scope)).toArray01(),be=R.properties.get("intensity"),Ae=[V.x,V.y,V.z],Pe=c.cM(Ee,be),Qe=c.cM(J,Q);return{u_lighting_ambient_color:Pe,u_lighting_directional_dir:Ae,u_lighting_directional_color:Qe,u_ground_radiance:iu(Ae,Qe,Pe)}})(p,_,this.style);l.setLightsUniformValues(r,x)}}}uploadCommonUniforms(r,l,p,_,x){if(this.uploadCommonLightUniforms(r,l),this.terrain&&this.terrain.renderingToTexture)return;const E=this.style.fog;if(E){const R=E.getOpacity(this.transform.pitch),B=((V,U,J,Q,le,Ee,be,Ae,Pe,Qe,xt,gt)=>{const Bt=V.transform,Rt=U.properties.get("color-use-theme")==="none",Dt=U.properties.get("color").toRenderColor(Rt?null:V.style.getLut(U.scope)).toArray01();Dt[3]=Q;const Pt=V.frameCounter/1e3%1,[qt,mn]=U.properties.get("vertical-range");return{u_fog_matrix:J?Bt.calculateFogTileMatrix(J):gt||V.identityMat,u_fog_range:U.getFovAdjustedRange(Bt._fov),u_fog_color:Dt,u_fog_horizon_blend:U.properties.get("horizon-blend"),u_fog_vertical_limit:[Math.min(qt,mn),mn],u_fog_temporal_offset:Pt,u_frustum_tl:le,u_frustum_tr:Ee,u_frustum_br:be,u_frustum_bl:Ae,u_globe_pos:Pe,u_globe_radius:Qe,u_viewport:xt,u_globe_transition:c.ae(Bt.zoom),u_is_globe:+(Bt.projection.name==="globe")}})(this,E,p,R,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*c.q.devicePixelRatio,this.transform.height*c.q.devicePixelRatio],_);l.setFogUniformValues(r,B)}x&&l.setCutoffUniformValues(r,x.uniformValues)}setTileLoadedFlag(r){this.tileLoaded=r}saveCanvasCopy(){const r=this.canvasCopy();r&&(this.frameCopies.push(r),this.tileLoaded=!1)}canvasCopy(){const r=this.context.gl,l=r.createTexture();return r.bindTexture(r.TEXTURE_2D,l),r.copyTexImage2D(r.TEXTURE_2D,0,r.RGBA,0,0,r.drawingBufferWidth,r.drawingBufferHeight,0),l}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const r=this.style&&this.style.fog;return!!r&&r.getOpacity(this.transform.pitch)!==0}getBackgroundTiles(){const r=this._backgroundTiles,l=this._backgroundTiles={},p=this.transform.coveringTiles({tileSize:512});for(const _ of p)l[_.key]=r[_.key]||new Jo(_,512,this.transform.tileZoom,this);return l}clearBackgroundTiles(){this._backgroundTiles={}}isSourceForClippingOrConflation(r,l){return!(!r.is3D()||r.type!=="clip"&&(r.minzoom&&r.minzoom>this.transform.zoom||(this.style._clipLayerPresent||r.sourceLayer!=="building")&&(!l||l.type!=="batched-model")))}isTileAffectedByFog(r){if(!this.style||!this.style.fog)return!1;if(this.transform.projection.name==="globe")return!0;let l=this._cachedTileFogOpacities[r.key];return l||(this._cachedTileFogOpacities[r.key]=l=this.style.fog.getOpacityForTile(r)),l[0]>=Ye||l[1]>=Ye}setupDepthForOcclusion(r,l,p){const _=this.context,x=_.gl,E=!!p;var R;p||(p={u_dem:2,u_dem_prev:4,u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_depth_range_unpack:[0,1],u_occluder_half_size:16,u_occlusion_depth_offset:-1e-4,u_exaggeration:0}),_.activeTexture.set(x.TEXTURE3),r&&this.depthFBO&&this.depthTexture?(this.depthTexture.bind(x.NEAREST,x.CLAMP_TO_EDGE),p.u_depth_size_inv=[1/this.depthFBO.width,1/this.depthFBO.height],p.u_depth_range_unpack=[2/((R=this.depthRangeFor3D)[1]-R[0]),-1-2*R[0]/(R[1]-R[0])],p.u_occluder_half_size=.5*this.occlusionParams.occluderSize,p.u_occlusion_depth_offset=this.occlusionParams.depthOffset):this.emptyDepthTexture.bind(x.NEAREST,x.CLAMP_TO_EDGE),_.activeTexture.set(x.TEXTURE0),E||l.setTerrainUniformValues(_,p)}}function Mp(m,r){let l=!1,p=null;const _=()=>{p=null,l&&(m(),p=setTimeout(_,r),l=!1)};return()=>(l=!0,p||_(),p)}class Jg{constructor(r){this._hashName=r&&encodeURIComponent(r),c.aP(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Mp(this._updateHashUnthrottled.bind(this),300)}addTo(r){return this._map=r,window.addEventListener("hashchange",this._onHashChange,!1),r.on("moveend",this._updateHash),this}remove(){return this._map?(this._map.off("moveend",this._updateHash),window.removeEventListener("hashchange",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(){const r=this._map;if(!r)return"";const l=vm(r);if(this._hashName){const p=this._hashName;let _=!1;const x=location.hash.slice(1).split("&").map(E=>{const R=E.split("=")[0];return R===p?(_=!0,`${R}=${l}`):E}).filter(E=>E);return _||x.push(`${p}=${l}`),`#${x.join("&")}`}return`#${l}`}_getCurrentHash(){const r=location.hash.replace("#","");if(this._hashName){let l;return r.split("&").map(p=>p.split("=")).forEach(p=>{p[0]===this._hashName&&(l=p)}),(l&&l[1]||"").split("/")}return r.split("/")}_onHashChange(){const r=this._map;if(!r)return!1;const l=this._getCurrentHash();if(l.length>=3&&!l.some(p=>isNaN(p))){const p=r.dragRotate.isEnabled()&&r.touchZoomRotate.isEnabled()?+(l[3]||0):r.getBearing();return r.jumpTo({center:[+l[2],+l[1]],zoom:+l[0],bearing:p,pitch:+(l[4]||0)}),!0}return!1}_updateHashUnthrottled(){history.replaceState(history.state,"",location.href.replace(/(#.+)?$/,this.getHashString()))}}function vm(m,r){const l=m.getCenter(),p=Math.round(100*m.getZoom())/100,_=Math.ceil((p*Math.LN2+Math.log(512/360/.5))/Math.LN10),x=Math.pow(10,_),E=Math.round(l.lng*x)/x,R=Math.round(l.lat*x)/x,B=m.getBearing(),V=m.getPitch();let U=r?`/${E}/${R}/${p}`:`${p}/${R}/${E}`;return(B||V)&&(U+="/"+Math.round(10*B)/10),V&&(U+=`/${Math.round(V)}`),U}const vh={linearity:.3,easing:c.dy(0,0,.3,1)},Qg=c.l({deceleration:2500,maxSpeed:1400},vh),e0=c.l({deceleration:20,maxSpeed:1400},vh),t0=c.l({deceleration:1e3,maxSpeed:360},vh),n0=c.l({deceleration:1e3,maxSpeed:90},vh);class Tp{constructor(r){this._map=r,this.clear()}clear(){this._inertiaBuffer=[]}record(r){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:c.q.now(),settings:r})}_drainInertiaBuffer(){const r=this._inertiaBuffer,l=c.q.now();for(;r.length>0&&l-r[0].time>160;)r.shift()}_onMoveEnd(r){if(this._map._prefersReducedMotion()||(this._drainInertiaBuffer(),this._inertiaBuffer.length<2))return;const l={zoom:0,bearing:0,pitch:0,pan:new c.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:x}of this._inertiaBuffer)l.zoom+=x.zoomDelta||0,l.bearing+=x.bearingDelta||0,l.pitch+=x.pitchDelta||0,x.panDelta&&l.pan._add(x.panDelta),x.around&&(l.around=x.around),x.pinchAround&&(l.pinchAround=x.pinchAround);const p=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,_={};if(l.pan.mag()){const x=_h(l.pan.mag(),p,c.l({},Qg,r||{}));_.offset=l.pan.mult(x.amount/l.pan.mag()),_.center=this._map.transform.center,yh(_,x)}if(l.zoom){const x=_h(l.zoom,p,e0);_.zoom=this._map.transform.zoom+x.amount,yh(_,x)}if(l.bearing){const x=_h(l.bearing,p,t0);_.bearing=this._map.transform.bearing+c.aw(x.amount,-179,179),yh(_,x)}if(l.pitch){const x=_h(l.pitch,p,n0);_.pitch=this._map.transform.pitch+x.amount,yh(_,x)}if(_.zoom||_.bearing){const x=l.pinchAround===void 0?l.around:l.pinchAround;_.around=x?this._map.unproject(x):this._map.getCenter()}return this.clear(),_.noMoveStart=!0,_}}function yh(m,r){(!m.duration||m.duration<r.duration)&&(m.duration=r.duration,m.easing=r.easing)}function _h(m,r,l){const{maxSpeed:p,linearity:_,deceleration:x}=l,E=c.aw(m*_/(r/1e3),-p,p),R=Math.abs(E)/(x*_);return{easing:l.easing,duration:1e3*R,amount:E*(R/2)}}class Hc extends c.z{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(r,l,p,_={}){const x=yt(l.getCanvasContainer(),p),E=l.unproject(x);super(r,c.l({point:x,lngLat:E,originalEvent:p},_)),this._defaultPrevented=!1,this.target=l}}class bh extends c.z{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(r,l,p){const _=r==="touchend"?p.changedTouches:p.touches,x=Et(l.getCanvasContainer(),_),E=x.map(B=>l.unproject(B)),R=x.reduce((B,V,U,J)=>B.add(V.div(J.length)),new c.P(0,0));super(r,{points:x,point:R,lngLats:E,lngLat:l.unproject(R),originalEvent:p}),this._defaultPrevented=!1}}class Ov extends c.z{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(r,l){super("wheel",{originalEvent:l}),this._defaultPrevented=!1}}class Rv{constructor(r,l){this._map=r,this._clickTolerance=l.clickTolerance}reset(){this._mousedownPos=void 0}wheel(r){return this._firePreventable(new Ov(this._map,r))}mousedown(r,l){return this._mousedownPos=l,this._firePreventable(new Hc(r.type,this._map,r))}mouseup(r){this._map.fire(new Hc(r.type,this._map,r))}preclick(r){const l=c.l({},r);l.type="preclick",this._map.fire(new Hc(l.type,this._map,l))}click(r,l){this._mousedownPos&&this._mousedownPos.dist(l)>=this._clickTolerance||(this.preclick(r),this._map.fire(new Hc(r.type,this._map,r)))}dblclick(r){return this._firePreventable(new Hc(r.type,this._map,r))}mouseover(r){this._map.fire(new Hc(r.type,this._map,r))}mouseout(r){this._map.fire(new Hc(r.type,this._map,r))}touchstart(r){return this._firePreventable(new bh(r.type,this._map,r))}touchmove(r){this._map.fire(new bh(r.type,this._map,r))}touchend(r){this._map.fire(new bh(r.type,this._map,r))}touchcancel(r){this._map.fire(new bh(r.type,this._map,r))}_firePreventable(r){if(this._map.fire(r),r.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class ym{constructor(r){this._map=r}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0}mousemove(r){this._map.fire(new Hc(r.type,this._map,r))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Hc("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(r){this._delayContextMenu?this._contextMenuEvent=r:this._map.fire(new Hc(r.type,this._map,r)),this._map.listens("contextmenu")&&r.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class cl{constructor(r,l){this._map=r,this._el=r.getCanvasContainer(),this._container=r.getContainer(),this._clickTolerance=l.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(r,l){this.isEnabled()&&r.shiftKey&&r.button===0&&(ht(),this._startPos=this._lastPos=l,this._active=!0)}mousemoveWindow(r,l){if(!this._active)return;const p=l,_=this._startPos,x=this._lastPos;if(!_||!x||x.equals(p)||!this._box&&p.dist(_)<this._clickTolerance)return;this._lastPos=p,this._box||(this._box=$e("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",r));const E=Math.min(_.x,p.x),R=Math.max(_.x,p.x),B=Math.min(_.y,p.y),V=Math.max(_.y,p.y);this._map._requestDomTask(()=>{this._box&&(this._box.style.transform=`translate(${E}px,${B}px)`,this._box.style.width=R-E+"px",this._box.style.height=V-B+"px")})}mouseupWindow(r,l){if(!this._active)return;const p=this._startPos,_=l;if(p&&r.button===0){if(this.reset(),kt(),p.x!==_.x||p.y!==_.y)return this._map.fire(new c.z("boxzoomend",{originalEvent:r})),{cameraAnimation:x=>x.fitScreenCoordinates(p,_,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",r)}}keydown(r){this._active&&r.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",r))}blur(){this.reset()}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),bt(),delete this._startPos,delete this._lastPos}_fireEvent(r,l){return this._map.fire(new c.z(r,{originalEvent:l}))}}function _m(m,r){const l={};for(let p=0;p<m.length;p++)l[m[p].identifier]=r[p];return l}class $v{constructor(r){this.reset(),this.numTouches=r.numTouches}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1}touchstart(r,l,p){(this.centroid||p.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===0&&(this.startTime=r.timeStamp),p.length===this.numTouches&&(this.centroid=function(_){const x=new c.P(0,0);for(const E of _)x._add(E);return x.div(_.length)}(l),this.touches=_m(p,l)))}touchmove(r,l,p){if(this.aborted||!this.centroid)return;const _=_m(p,l);for(const x in this.touches){const E=_[x];(!E||E.dist(this.touches[x])>30)&&(this.aborted=!0)}}touchend(r,l,p){if((!this.centroid||r.timeStamp-this.startTime>500)&&(this.aborted=!0),p.length===0){const _=!this.aborted&&this.centroid;if(this.reset(),_)return _}}}class Pp{constructor(r){this.singleTap=new $v(r),this.numTaps=r.numTaps,this.reset()}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset()}touchstart(r,l,p){this.singleTap.touchstart(r,l,p)}touchmove(r,l,p){this.singleTap.touchmove(r,l,p)}touchend(r,l,p){const _=this.singleTap.touchend(r,l,p);if(_){const x=r.timeStamp-this.lastTime<500,E=!this.lastTap||this.lastTap.dist(_)<30;if(x&&E||this.reset(),this.count++,this.lastTime=r.timeStamp,this.lastTap=_,this.count===this.numTaps)return this.reset(),_}}}class xh{constructor(){this._zoomIn=new Pp({numTouches:1,numTaps:2}),this._zoomOut=new Pp({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(r,l,p){this._zoomIn.touchstart(r,l,p),this._zoomOut.touchstart(r,l,p)}touchmove(r,l,p){this._zoomIn.touchmove(r,l,p),this._zoomOut.touchmove(r,l,p)}touchend(r,l,p){const _=this._zoomIn.touchend(r,l,p),x=this._zoomOut.touchend(r,l,p);return _?(this._active=!0,r.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:E=>E.easeTo({duration:300,zoom:E.getZoom()+1,around:E.unproject(_)},{originalEvent:r})}):x?(this._active=!0,r.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:E=>E.easeTo({duration:300,zoom:E.getZoom()-1,around:E.unproject(x)},{originalEvent:r})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const r0={0:1,2:2};class Ch{constructor(r){this.reset(),this._clickTolerance=r.clickTolerance||1}blur(){this.reset()}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0}_correctButton(r,l){return!1}_move(r,l){return{}}mousedown(r,l){if(this._lastPoint)return;const p=Vt(r);this._correctButton(r,p)&&(this._lastPoint=l,this._eventButton=p)}mousemoveWindow(r,l){const p=this._lastPoint;if(p){if(r.preventDefault(),this._eventButton!=null&&function(_,x){const E=r0[x];return _.buttons===void 0||(_.buttons&E)!==E}(r,this._eventButton))this.reset();else if(this._moved||!(l.dist(p)<this._clickTolerance))return this._moved=!0,this._lastPoint=l,this._move(p,l)}}mouseupWindow(r){this._lastPoint&&Vt(r)===this._eventButton&&(this._moved&&kt(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class bm extends Ch{mousedown(r,l){super.mousedown(r,l),this._lastPoint&&(this._active=!0)}_correctButton(r,l){return l===0&&!r.ctrlKey}_move(r,l){return{around:l,panDelta:l.sub(r)}}}class vu extends Ch{_correctButton(r,l){return l===0&&r.ctrlKey||l===2}_move(r,l){const p=.8*(l.x-r.x);if(p)return this._active=!0,{bearingDelta:p}}contextmenu(r){r.preventDefault()}}class Cf extends Ch{_correctButton(r,l){return l===0&&r.ctrlKey||l===2}_move(r,l){const p=-.5*(l.y-r.y);if(p)return this._active=!0,{pitchDelta:p}}contextmenu(r){r.preventDefault()}}class Cl{constructor(r,l){this._map=r,this._el=r.getCanvasContainer(),this._minTouches=1,this._clickTolerance=l.clickTolerance||1,this.reset(),c.aP(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}reset(){this._active=!1,this._touches={},this._sum=new c.P(0,0)}touchstart(r,l,p){return this._calculateTransform(r,l,p)}touchmove(r,l,p){if(this._active&&!(p.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(p.length===1&&!c.dz())return void this._showTouchPanBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return r.cancelable&&r.preventDefault(),this._calculateTransform(r,l,p)}}touchend(r,l,p){this._calculateTransform(r,l,p),this._active&&p.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(r,l,p){p.length>0&&(this._active=!0);const _=_m(p,l),x=new c.P(0,0),E=new c.P(0,0);let R=0;for(const V in _){const U=_[V],J=this._touches[V];J&&(x._add(U),E._add(U.sub(J)),R++,_[V]=U)}if(this._touches=_,R<this._minTouches||!E.mag())return;const B=E.div(R);return this._sum._add(B),this._sum.mag()<this._clickTolerance?void 0:{around:x.div(R),panDelta:B}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=$e("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showTouchPanBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=window.setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show"),this._alertContainer.removeAttribute("role")},500)}}class su{constructor(){this.reset()}reset(){this._active=!1,this._firstTwoTouches=void 0}_start(r){}_move(r,l,p){return{}}touchstart(r,l,p){this._firstTwoTouches||p.length<2||(this._firstTwoTouches=[p[0].identifier,p[1].identifier],this._start([l[0],l[1]]))}touchmove(r,l,p){const _=this._firstTwoTouches;if(!_)return;r.preventDefault();const[x,E]=_,R=Sf(p,l,x),B=Sf(p,l,E);if(!R||!B)return;const V=this._aroundCenter?null:R.add(B).div(2);return this._move([R,B],V,r)}touchend(r,l,p){if(!this._firstTwoTouches)return;const[_,x]=this._firstTwoTouches,E=Sf(p,l,_),R=Sf(p,l,x);E&&R||(this._active&&kt(),this.reset())}touchcancel(){this.reset()}enable(r){this._enabled=!0,this._aroundCenter=!!r&&r.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Sf(m,r,l){for(let p=0;p<m.length;p++)if(m[p].identifier===l)return r[p]}function xm(m,r){return Math.log(m/r)/Math.LN2}class i0 extends su{reset(){super.reset(),this._distance=0,this._startDistance=0}_start(r){this._startDistance=this._distance=r[0].dist(r[1])}_move(r,l){const p=this._distance;if(this._distance=r[0].dist(r[1]),this._active||!(Math.abs(xm(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:xm(this._distance,p),pinchAround:l}}}function Op(m,r){return 180*m.angleWith(r)/Math.PI}class Sh extends su{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0}_start(r){this._startVector=this._vector=r[0].sub(r[1]),this._minDiameter=r[0].dist(r[1])}_move(r,l){const p=this._vector;if(this._vector=r[0].sub(r[1]),p&&(this._active||!this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:Op(this._vector,p),pinchAround:l}}_isBelowThreshold(r){this._minDiameter=Math.min(this._minDiameter,r.mag());const l=25/(Math.PI*this._minDiameter)*360,p=this._startVector;if(!p)return!1;const _=Op(r,p);return Math.abs(_)<l}}function o0(m){return Math.abs(m.y)>Math.abs(m.x)}class Av extends su{constructor(r){super(),this._map=r}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0}_start(r){this._lastPoints=r,o0(r[0].sub(r[1]))&&(this._valid=!1)}_move(r,l,p){const _=this._lastPoints;if(!_)return;const x=r[0].sub(_[0]),E=r[1].sub(_[1]);return this._map._cooperativeGestures&&!c.dz()&&p.touches.length<3||(this._valid=this.gestureBeginsVertically(x,E,p.timeStamp),!this._valid)?void 0:(this._lastPoints=r,this._active=!0,{pitchDelta:(x.y+E.y)/2*-.5})}gestureBeginsVertically(r,l,p){if(this._valid!==void 0)return this._valid;const _=r.mag()>=2,x=l.mag()>=2;if(!_&&!x)return;if(!_||!x)return this._firstMove==null&&(this._firstMove=p),p-this._firstMove<100&&void 0;const E=r.y>0==l.y>0;return o0(r)&&o0(l)&&E}}const Rp={panStep:100,bearingStep:15,pitchStep:10};class a0{constructor(){const r=Rp;this._panStep=r.panStep,this._bearingStep=r.bearingStep,this._pitchStep=r.pitchStep,this._rotationDisabled=!1}blur(){this.reset()}reset(){this._active=!1}keydown(r){if(r.altKey||r.ctrlKey||r.metaKey)return;let l=0,p=0,_=0,x=0,E=0;switch(r.keyCode){case 61:case 107:case 171:case 187:l=1;break;case 189:case 109:case 173:l=-1;break;case 37:r.shiftKey?p=-1:(r.preventDefault(),x=-1);break;case 39:r.shiftKey?p=1:(r.preventDefault(),x=1);break;case 38:r.shiftKey?_=1:(r.preventDefault(),E=-1);break;case 40:r.shiftKey?_=-1:(r.preventDefault(),E=1);break;default:return}return this._rotationDisabled&&(p=0,_=0),{cameraAnimation:R=>{const B=R.getZoom();R.easeTo({duration:300,easeId:"keyboardHandler",easing:Ud,zoom:l?Math.round(B)+l*(r.shiftKey?2:1):B,bearing:R.getBearing()+p*this._bearingStep,pitch:R.getPitch()+_*this._pitchStep,offset:[-x*this._panStep,-E*this._panStep],center:R.getCenter()},{originalEvent:r})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Ud(m){return m*(2-m)}const Wd=4.000244140625,vd=1/450;class lu{constructor(r,l){this._map=r,this._el=r.getCanvasContainer(),this._handler=l,this._delta=0,this._lastDelta=0,this._defaultZoomRate=.01,this._wheelZoomRate=vd,c.aP(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert"],this)}setZoomRate(r){this._defaultZoomRate=r}setWheelZoomRate(r){this._wheelZoomRate=r}isEnabled(){return!!this._enabled}isActive(){return this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(r){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!r&&r.around==="center",this._map._cooperativeGestures&&this._addScrollZoomBlocker())}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}wheel(r){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(r.ctrlKey||r.metaKey||this.isZooming()||c.dz()))return void this._showBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}let l=r.deltaMode===WheelEvent.DOM_DELTA_LINE?40*r.deltaY:r.deltaY;const p=c.q.now(),_=p-(this._lastWheelEventTime||0);this._lastWheelEventTime=p,l!==0&&l%Wd==0?this._type="wheel":l!==0&&Math.abs(l)<4?this._type="trackpad":_>400?(this._type=null,this._lastValue=l,this._timeout=window.setTimeout(this._onTimeout,40,r)):this._type||(this._type=Math.abs(_*l)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,l+=this._lastValue)),r.shiftKey&&l&&(l/=4),this._type&&(this._lastWheelEvent=r,this._delta-=l,this._active||this._start(r)),r.preventDefault()}_onTimeout(r){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(r)}_start(r){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const l=yt(this._el,r);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:l,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const r=this._map.transform;this._type==="wheel"&&r.projection.wrap&&(r._center.lng>=180||r._center.lng<=-180)&&(this._prevEase=null,this._easing=null,this._lastWheelEvent=null,this._lastWheelEventTime=0);const l=()=>r._terrainEnabled()&&this._aroundCoord?r.computeZoomRelativeTo(this._aroundCoord):r.zoom;if(this._delta!==0){const V=this._type==="wheel"&&Math.abs(this._delta)>Wd?this._wheelZoomRate:this._defaultZoomRate;let U=2/(1+Math.exp(-Math.abs(this._delta*V)));this._delta<0&&U!==0&&(U=1/U);const J=l(),Q=Math.pow(2,J),le=typeof this._targetZoom=="number"?r.zoomScale(this._targetZoom):Q;this._targetZoom=Math.min(r.maxZoom,Math.max(r.minZoom,r.scaleZoom(le*U))),this._type==="wheel"&&(this._startZoom=J,this._easing=this._smoothOutEasing(200)),this._lastDelta=this._delta,this._delta=0}const p=typeof this._targetZoom=="number"?this._targetZoom:l(),_=this._startZoom,x=this._easing;let E,R=!1;if(this._type==="wheel"&&_&&x){const V=Math.min((c.q.now()-this._lastWheelEventTime)/200,1),U=x(V);E=c.af(_,p,U),V<1?this._frameId||(this._frameId=!0):R=!0}else E=p,R=!0;this._active=!0,R&&(this._active=!1,this._finishTimeout=window.setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200));let B=E-l();return B*this._lastDelta<0&&(B=0),{noInertia:!0,needsRenderFrame:!R,zoomDelta:B,around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(r){let l=c.dA;if(this._prevEase){const p=this._prevEase,_=(c.q.now()-p.start)/p.duration,x=p.easing(_+.01)-p.easing(_),E=.27/Math.sqrt(x*x+1e-4)*.01,R=Math.sqrt(.0729-E*E);l=c.dy(E,R,.25,1)}return this._prevEase={start:c.q.now(),duration:r,easing:l},l}blur(){this.reset()}reset(){this._active=!1}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=$e("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=window.setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.removeAttribute("role")},200)}}class Yu{constructor(r,l){this._clickZoom=r,this._tapZoom=l}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class $u{constructor(){this.reset()}reset(){this._active=!1}blur(){this.reset()}dblclick(r,l){return r.preventDefault(),{cameraAnimation:p=>{p.easeTo({duration:300,zoom:p.getZoom()+(r.shiftKey?-1:1),around:p.unproject(l)},{originalEvent:r})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class yd{constructor(){this._tap=new Pp({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset()}touchstart(r,l,p){this._swipePoint||(this._tapTime&&r.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?p.length>0&&(this._swipePoint=l[0],this._swipeTouch=p[0].identifier):this._tap.touchstart(r,l,p))}touchmove(r,l,p){if(this._tapTime){if(this._swipePoint){if(p[0].identifier!==this._swipeTouch)return;const _=l[0],x=_.y-this._swipePoint.y;return this._swipePoint=_,r.preventDefault(),this._active=!0,{zoomDelta:x/128}}}else this._tap.touchmove(r,l,p)}touchend(r,l,p){this._tapTime?this._swipePoint&&p.length===0&&this.reset():this._tap.touchend(r,l,p)&&(this._tapTime=r.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Dv{constructor(r,l,p){this._el=r,this._mousePan=l,this._touchPan=p}enable(r){this._inertiaOptions=r||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class zv{constructor(r,l,p){this._pitchWithRotate=r.pitchWithRotate,this._mouseRotate=l,this._mousePitch=p}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class Lv{constructor(r,l,p,_){this._el=r,this._touchZoom=l,this._touchRotate=p,this._tapDragZoom=_,this._rotationDisabled=!1,this._enabled=!0}enable(r){this._touchZoom.enable(r),this._rotationDisabled||this._touchRotate.enable(r),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const Qc=m=>m.zoom||m.drag||m.pitch||m.rotate;class yu extends c.z{}class uc{constructor(){this.constants=[1,1,.01],this.radius=0}setup(r,l){const p=c.ab.vec3.sub([],l,r);this.radius=c.ab.vec3.length(p[2]<0?c.ab.vec3.div([],p,this.constants):[p[0],p[1],0])}projectRay(r){c.ab.vec3.div(r,r,this.constants),c.ab.vec3.normalize(r,r),c.ab.vec3.mul(r,r,this.constants);const l=c.ab.vec3.scale([],r,this.radius);if(l[2]>0){const p=c.ab.vec3.scale([],[0,0,1],c.ab.vec3.dot(l,[0,0,1])),_=c.ab.vec3.scale([],c.ab.vec3.normalize([],[l[0],l[1],0]),this.radius),x=c.ab.vec3.add([],l,c.ab.vec3.scale([],c.ab.vec3.sub([],c.ab.vec3.add([],_,p),l),2));l[0]=x[0],l[1]=x[1]}return l}}function wf(m){return m.panDelta&&m.panDelta.mag()||m.zoomDelta||m.bearingDelta||m.pitchDelta}class s0{constructor(r,l){this._map=r,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Tp(r),this._bearingSnap=l.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new uc,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(l),c.aP(["handleEvent","handleWindowEvent"],this);const p=this._el;this._listeners=[[p,"touchstart",{passive:!0}],[p,"touchmove",{passive:!1}],[p,"touchend",void 0],[p,"touchcancel",void 0],[p,"mousedown",void 0],[p,"mousemove",void 0],[p,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[p,"mouseover",void 0],[p,"mouseout",void 0],[p,"dblclick",void 0],[p,"click",void 0],[p,"keydown",{capture:!1}],[p,"keyup",void 0],[p,"wheel",{passive:!1}],[p,"contextmenu",void 0],[window,"blur",void 0]];for(const[_,x,E]of this._listeners){const R=_===document?this.handleWindowEvent:this.handleEvent;_.addEventListener(x,R,E)}}destroy(){for(const[r,l,p]of this._listeners){const _=r===document?this.handleWindowEvent:this.handleEvent;r.removeEventListener(l,_,p)}}_addDefaultHandlers(r){const l=this._map,p=l.getCanvasContainer();this._add("mapEvent",new Rv(l,r));const _=l.boxZoom=new cl(l,r);this._add("boxZoom",_);const x=new xh,E=new $u;l.doubleClickZoom=new Yu(E,x),this._add("tapZoom",x),this._add("clickZoom",E);const R=new yd;this._add("tapDragZoom",R);const B=l.touchPitch=new Av(l);this._add("touchPitch",B);const V=new vu(r),U=new Cf(r);l.dragRotate=new zv(r,V,U),this._add("mouseRotate",V,["mousePitch"]),this._add("mousePitch",U,["mouseRotate"]);const J=new bm(r),Q=new Cl(l,r);l.dragPan=new Dv(p,J,Q),this._add("mousePan",J),this._add("touchPan",Q,["touchZoom","touchRotate"]);const le=new Sh,Ee=new i0;l.touchZoomRotate=new Lv(p,Ee,le,R),this._add("touchRotate",le,["touchPan","touchZoom"]),this._add("touchZoom",Ee,["touchPan","touchRotate"]),this._add("blockableMapEvent",new ym(l));const be=l.scrollZoom=new lu(l,this);this._add("scrollZoom",be,["mousePan"]);const Ae=l.keyboard=new a0;this._add("keyboard",Ae);for(const Pe of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])r.interactive&&r[Pe]&&l[Pe].enable(r[Pe])}_add(r,l,p){this._handlers.push({handlerName:r,handler:l,allowed:p}),this._handlersById[r]=l}stop(r){if(!this._updatingCamera){for(const{handler:l}of this._handlers)l.reset();this._inertia.clear(),this._fireEvents({},{},r),this._changes=[],this._originalZoom=void 0}}isActive(){for(const{handler:r}of this._handlers)if(r.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Qc(this._eventsInProgress)||this.isZooming()}_isDragging(){return!!this._eventsInProgress.drag}_blockedByActive(r,l,p){for(const _ in r)if(_!==p&&(!l||l.indexOf(_)<0))return!0;return!1}handleWindowEvent(r){this.handleEvent(r,`${r.type}Window`)}_getMapTouches(r){const l=[];for(const p of r)this._el.contains(p.target)&&l.push(p);return l}handleEvent(r,l){this._updatingCamera=!0;const p=r.type==="renderFrame",_=p?void 0:r,x={needsRenderFrame:!1},E={},R={},B=r.touches?this._getMapTouches(r.touches):void 0,V=B?Et(this._el,B):p?void 0:yt(this._el,r);for(const{handlerName:Q,handler:le,allowed:Ee}of this._handlers){if(!le.isEnabled())continue;let be;this._blockedByActive(R,Ee,Q)?le.reset():le[l||r.type]&&(be=le[l||r.type](r,V,B),this.mergeHandlerResult(x,E,be,Q,_),be&&be.needsRenderFrame&&this._triggerRenderFrame()),(be||le.isActive())&&(R[Q]=le)}const U={};for(const Q in this._previousActiveHandlers)R[Q]||(U[Q]=_);this._previousActiveHandlers=R,(Object.keys(U).length||wf(x))&&(this._changes.push([x,E,U]),this._triggerRenderFrame()),(Object.keys(R).length||wf(x))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:J}=x;J&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],J(this._map))}mergeHandlerResult(r,l,p,_,x){if(!p)return;c.l(r,p);const E={handlerName:_,originalEvent:p.originalEvent||x};p.zoomDelta!==void 0&&(l.zoom=E),p.panDelta!==void 0&&(l.drag=E),p.pitchDelta!==void 0&&(l.pitch=E),p.bearingDelta!==void 0&&(l.rotate=E)}_applyChanges(){const r={},l={},p={};for(const[_,x,E]of this._changes)_.panDelta&&(r.panDelta=(r.panDelta||new c.P(0,0))._add(_.panDelta)),_.zoomDelta&&(r.zoomDelta=(r.zoomDelta||0)+_.zoomDelta),_.bearingDelta&&(r.bearingDelta=(r.bearingDelta||0)+_.bearingDelta),_.pitchDelta&&(r.pitchDelta=(r.pitchDelta||0)+_.pitchDelta),_.around!==void 0&&(r.around=_.around),_.aroundCoord!==void 0&&(r.aroundCoord=_.aroundCoord),_.pinchAround!==void 0&&(r.pinchAround=_.pinchAround),_.noInertia&&(r.noInertia=_.noInertia),c.l(l,x),c.l(p,E);this._updateMapTransform(r,l,p),this._changes=[]}_updateMapTransform(r,l,p){const _=this._map,x=_.transform,E=Qe=>[Qe.x,Qe.y,Qe.z];if((Qe=>{const xt=this._eventsInProgress.drag;return xt&&!this._handlersById[xt.handlerName].isActive()})()&&!wf(r)){const Qe=x.zoom;x.cameraElevationReference="sea",this._originalZoom!=null&&x._orthographicProjectionAtLowPitch&&x.projection.name!=="globe"&&x.pitch===0?(x.cameraElevationReference="ground",x.zoom=this._originalZoom):(x.recenterOnTerrain(),x.cameraElevationReference="ground"),Qe!==x.zoom&&this._map._update(!0)}if(x._isCameraConstrained&&_._stop(!0),!wf(r))return void this._fireEvents(l,p,!0);let{panDelta:R,zoomDelta:B,bearingDelta:V,pitchDelta:U,around:J,aroundCoord:Q,pinchAround:le}=r;x._isCameraConstrained&&(B>0&&(B=0),x._isCameraConstrained=!1),le!==void 0&&(J=le),(B||(Qe=>l[Qe]&&!this._eventsInProgress[Qe])("drag"))&&J&&(this._dragOrigin=E(x.pointCoordinate3D(J)),this._originalZoom=x.zoom,this._trackingEllipsoid.setup(x._camera.position,this._dragOrigin)),x.cameraElevationReference="sea",_._stop(!0),J=J||_.transform.centerPoint,V&&(x.bearing+=V),U&&(x.pitch+=U),x._updateCameraState();const Ee=[0,0,0];if(R)if(x.projection.name==="mercator"){const Qe=this._trackingEllipsoid.projectRay(x.screenPointToMercatorRay(J).dir),xt=this._trackingEllipsoid.projectRay(x.screenPointToMercatorRay(J.sub(R)).dir);Ee[0]=xt[0]-Qe[0],Ee[1]=xt[1]-Qe[1]}else{const Qe=x.pointCoordinate(J);if(x.projection.name==="globe"){R=R.rotate(-x.angle);const xt=x._pixelsPerMercatorPixel/x.worldSize;Ee[0]=-R.x*c.dB(c.aS(Qe.y))*xt,Ee[1]=-R.y*c.dB(x.center.lat)*xt}else{const xt=x.pointCoordinate(J.sub(R));Qe&&xt&&(Ee[0]=xt.x-Qe.x,Ee[1]=xt.y-Qe.y)}}const be=x.zoom,Ae=[0,0,0];if(B){const Qe=E(Q||x.pointCoordinate3D(J)),xt={dir:c.ab.vec3.normalize([],c.ab.vec3.sub([],Qe,x._camera.position))};if(xt.dir[2]<0){const gt=x.zoomDeltaToMovement(Qe,B);c.ab.vec3.scale(Ae,xt.dir,gt)}}const Pe=c.ab.vec3.add(Ee,Ee,Ae);x._translateCameraConstrained(Pe),B&&Math.abs(x.zoom-be)>1e-4&&x.recenterOnTerrain(),x.cameraElevationReference="ground",this._map._update(),r.noInertia||this._inertia.record(r),this._fireEvents(l,p,!0)}_fireEvents(r,l,p){const _=Qc(this._eventsInProgress),x=Qc(r),E={};for(const U in r){const{originalEvent:J}=r[U];this._eventsInProgress[U]||(E[`${U}start`]=J),this._eventsInProgress[U]=r[U]}!_&&x&&this._fireEvent("movestart",x.originalEvent);for(const U in E)this._fireEvent(U,E[U]);x&&this._fireEvent("move",x.originalEvent);for(const U in r){const{originalEvent:J}=r[U];this._fireEvent(U,J)}const R={};let B;for(const U in this._eventsInProgress){const{handlerName:J,originalEvent:Q}=this._eventsInProgress[U];this._handlersById[J].isActive()||(delete this._eventsInProgress[U],B=l[J]||Q,R[`${U}end`]=B)}for(const U in R)this._fireEvent(U,R[U]);const V=Qc(this._eventsInProgress);if(p&&(_||x)&&!V){this._updatingCamera=!0;const U=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),J=Q=>Q!==0&&-this._bearingSnap<Q&&Q<this._bearingSnap;U?(J(U.bearing||this._map.getBearing())&&(U.bearing=0),this._map.easeTo(U,{originalEvent:B})):(this._map.fire(new c.z("moveend",{originalEvent:B})),J(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(r,l){this._map.fire(new c.z(r,l?{originalEvent:l}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(r=>{this._frameId=void 0,this.handleEvent(new yu("renderFrame",{timeStamp:r})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}const l0="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.";class Ef extends c.E{constructor(r,l){super(),this._moving=!1,this._zooming=!1,this.transform=r,this._bearingSnap=l.bearingSnap,this._respectPrefersReducedMotion=l.respectPrefersReducedMotion!==!1,c.aP(["_renderFrameCallback"],this)}getCenter(){return new c.bO(this.transform.center.lng,this.transform.center.lat)}setCenter(r,l){return this.jumpTo({center:r},l)}panBy(r,l,p){return r=c.P.convert(r).mult(-1),this.panTo(this.transform.center,c.l({offset:r},l),p)}panTo(r,l,p){return this.easeTo(c.l({center:r},l),p)}getZoom(){return this.transform.zoom}setZoom(r,l){return this.jumpTo({zoom:r},l),this}zoomTo(r,l,p){return this.easeTo(c.l({zoom:r},l),p)}zoomIn(r,l){return this.zoomTo(this.getZoom()+1,r,l),this}zoomOut(r,l){return this.zoomTo(this.getZoom()-1,r,l),this}getBearing(){return this.transform.bearing}setBearing(r,l){return this.jumpTo({bearing:r},l),this}getPadding(){return this.transform.padding}setPadding(r,l){return this.jumpTo({padding:r},l),this}rotateTo(r,l,p){return this.easeTo(c.l({bearing:r},l),p)}resetNorth(r,l){return this.rotateTo(0,c.l({duration:1e3},r),l),this}resetNorthPitch(r,l){return this.easeTo(c.l({bearing:0,pitch:0,duration:1e3},r),l),this}snapToNorth(r,l){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(r,l):this}getPitch(){return this.transform.pitch}setPitch(r,l){return this.jumpTo({pitch:r},l),this}cameraForBounds(r,l){r=c.az.convert(r);const p=l&&l.bearing||0,_=l&&l.pitch||0,x=r.getNorthWest(),E=r.getSouthEast();return this._cameraForBounds(this.transform,x,E,p,_,l)}_extendPadding(r){const l={top:0,right:0,bottom:0,left:0};return r==null?c.l({},l,this.transform.padding):typeof r=="number"?{top:r,bottom:r,right:r,left:r}:c.l({},l,r)}_extendCameraOptions(r){return(r=c.l({offset:[0,0],maxZoom:this.transform.maxZoom},r)).padding=this._extendPadding(r.padding),r}_minimumAABBFrustumDistance(r,l){const p=l.max[0]-l.min[0],_=l.max[1]-l.min[1];return p/_>r.aspect?p/(2*Math.tan(.5*r.fovX)*r.aspect):_/(2*Math.tan(.5*r.fovY)*r.aspect)}_cameraForBoundsOnGlobe(r,l,p,_,x,E){const R=r.clone(),B=this._extendCameraOptions(E);R.bearing=_,R.pitch=x;const V=c.bO.convert(l),U=c.bO.convert(p),J=.5*(V.lat+U.lat),Q=.5*(V.lng+U.lng),le=c.dC(J,Q),Ee=c.ab.vec3.normalize([],le),be=c.ab.vec3.normalize([],c.ab.vec3.cross([],Ee,[0,1,0])),Ae=c.ab.vec3.cross([],be,Ee),Pe=[be[0],be[1],be[2],0,Ae[0],Ae[1],Ae[2],0,Ee[0],Ee[1],Ee[2],0,0,0,0,1],Qe=[le,c.dC(V.lat,V.lng),c.dC(U.lat,V.lng),c.dC(U.lat,U.lng),c.dC(V.lat,U.lng),c.dC(J,V.lng),c.dC(J,U.lng),c.dC(V.lat,Q),c.dC(U.lat,Q)];let xt=c.cd.fromPoints(Qe.map(cr=>[c.ab.vec3.dot(be,cr),c.ab.vec3.dot(Ae,cr),c.ab.vec3.dot(Ee,cr)]));const gt=c.ab.vec3.transformMat4([],xt.center,Pe);c.ab.vec3.squaredLength(gt)===0&&c.ab.vec3.set(gt,0,0,1),c.ab.vec3.normalize(gt,gt),c.ab.vec3.scale(gt,gt,c.ax),R.center=c.dD(gt);const Bt=R.getWorldToCameraMatrix(),Rt=c.ab.mat4.invert(new Float64Array(16),Bt);xt=c.cd.applyTransform(xt,c.ab.mat4.multiply([],Bt,Pe));const Dt=this._extendAABB(xt,R,B,_);if(!Dt)return void c.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.");xt=Dt,c.ab.vec3.transformMat4(gt,gt,Bt);const Pt=.5*(xt.max[2]-xt.min[2]),qt=this._minimumAABBFrustumDistance(R,xt),mn=c.ab.vec3.scale([],[0,0,1],Pt),nr=c.ab.vec3.add(mn,gt,mn),Wn=qt+(R.pitch===0?0:c.ab.vec3.distance(gt,nr)),Pr=R.globeCenterInViewSpace,Er=c.ab.vec3.sub([],gt,[Pr[0],Pr[1],Pr[2]]);c.ab.vec3.normalize(Er,Er),c.ab.vec3.scale(Er,Er,Wn);const Nn=c.ab.vec3.add([],gt,Er);c.ab.vec3.transformMat4(Nn,Nn,Rt);const ar=c.ds/c.ax,Kr=c.ab.vec3.length(Nn),Ln=c.bH(Math.max(Kr*ar-c.ds,Number.EPSILON),0),Ar=Math.min(R.zoomFromMercatorZAdjusted(Ln),B.maxZoom);return Ar>.5*(c.c6+c.bY)?(R.setProjection({name:"mercator"}),R.zoom=Ar,this._cameraForBounds(R,l,p,_,x,E)):{center:R.center,zoom:Ar,bearing:_,pitch:x}}_extendAABB(r,l,p,_){const x=.5*((p.padding.left||0)+(p.padding.right||0)),E=.5*((p.padding.top||0)+(p.padding.bottom||0)),R=E,B=x,V=x,U=E,J=l.width-(B+V),Q=l.height-(R+U),le=c.ab.vec3.sub([],r.max,r.min),Ee=Math.min(J/le[0],Q/le[1]),be=Math.min(l.scaleZoom(l.scale*Ee),p.maxZoom);if(isNaN(be))return null;const Ae=l.scale/l.zoomScale(be),Pe=new c.cd([r.min[0]-B*Ae,r.min[1]-U*Ae,r.min[2]],[r.max[0]+V*Ae,r.max[1]+R*Ae,r.max[2]]),Qe=(typeof p.offset.x=="number"&&typeof p.offset.y=="number"?new c.P(p.offset.x,p.offset.y):c.P.convert(p.offset)).rotate(-c.ai(_));return Pe.center[0]-=Qe.x*Ae,Pe.center[1]+=Qe.y*Ae,Pe}queryTerrainElevation(r,l){const p=this.transform.elevation;return p?(l=c.l({},{exaggerated:!0},l),p.getAtPoint(c.aa.fromLngLat(r),null,l.exaggerated)):null}_cameraForBounds(r,l,p,_,x,E){if(r.projection.name==="globe")return this._cameraForBoundsOnGlobe(r,l,p,_,x,E);const R=r.clone(),B=this._extendCameraOptions(E);R.bearing=_,R.pitch=x;const V=c.bO.convert(l),U=c.bO.convert(p),J=new c.bO(V.lng,U.lat),Q=new c.bO(U.lng,V.lat),le=R.project(V),Ee=R.project(U),be=this.queryTerrainElevation(V),Ae=this.queryTerrainElevation(U),Pe=this.queryTerrainElevation(J),Qe=this.queryTerrainElevation(Q),xt=[[le.x,le.y,Math.min(be||0,Ae||0,Pe||0,Qe||0)],[Ee.x,Ee.y,Math.max(be||0,Ae||0,Pe||0,Qe||0)]];let gt=c.cd.fromPoints(xt);const Bt=R.getWorldToCameraMatrix(),Rt=c.ab.mat4.invert(new Float64Array(16),Bt);gt=c.cd.applyTransform(gt,Bt);const Dt=this._extendAABB(gt,R,B,_);if(!Dt)return void c.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.");gt=Dt;const Pt=.5*c.ab.vec3.sub([],gt.max,gt.min)[2],qt=this._minimumAABBFrustumDistance(R,gt),mn=[0,0,1,0];c.ab.vec4.transformMat4(mn,mn,Bt),c.ab.vec4.normalize(mn,mn);const nr=c.ab.vec3.scale([],mn,qt+Pt),Wn=c.ab.vec3.add([],gt.center,nr);c.ab.vec3.transformMat4(gt.center,gt.center,Rt),c.ab.vec3.transformMat4(Wn,Wn,Rt);const Pr=R.unproject(new c.P(gt.center[0],gt.center[1])),Er=c.dE(R.projection,Pr),Nn=Math.pow(2,Er),ar=Math.min(R._zoomFromMercatorZ(Wn[2]*R.pixelsPerMeter*Nn/R.worldSize),B.maxZoom);return R.mercatorFromTransition&&ar<.5*(c.c6+c.bY)?(R.setProjection({name:"globe"}),R.zoom=ar,this._cameraForBounds(R,l,p,_,x,E)):{center:Pr,zoom:ar,bearing:_,pitch:x}}fitBounds(r,l,p){const _=this.cameraForBounds(r,l);return this._fitInternal(_,l,p)}fitScreenCoordinates(r,l,p,_,x){const E=c.P.convert(r),R=c.P.convert(l),B=new c.P(Math.min(E.x,R.x),Math.min(E.y,R.y)),V=new c.P(Math.max(E.x,R.x),Math.max(E.y,R.y));if(this.transform.projection.name==="mercator"&&this.transform.anyCornerOffEdge(E,R))return this;const U=this.transform.pointLocation3D(B),J=this.transform.pointLocation3D(V),Q=this.transform.pointLocation3D(new c.P(B.x,V.y)),le=this.transform.pointLocation3D(new c.P(V.x,B.y)),Ee=[Math.min(U.lng,J.lng,Q.lng,le.lng),Math.min(U.lat,J.lat,Q.lat,le.lat)],be=[Math.max(U.lng,J.lng,Q.lng,le.lng),Math.max(U.lat,J.lat,Q.lat,le.lat)],Ae=_&&_.pitch?_.pitch:this.getPitch(),Pe=this._cameraForBounds(this.transform,Ee,be,p,Ae,_);return this._fitInternal(Pe,_,x)}_fitInternal(r,l,p){return r?(l=c.l(r,l)).linear?this.easeTo(l,p):this.flyTo(l,p):this}jumpTo(r,l){this.stop();const p=r.preloadOnly?this.transform.clone():this.transform;let _=!1,x=!1,E=!1;"zoom"in r&&p.zoom!==+r.zoom&&(_=!0,p.zoom=+r.zoom),r.center!==void 0&&(p.center=c.bO.convert(r.center)),"bearing"in r&&p.bearing!==+r.bearing&&(x=!0,p.bearing=+r.bearing),"pitch"in r&&p.pitch!==+r.pitch&&(E=!0,p.pitch=+r.pitch);const R=typeof r.padding=="number"?this._extendPadding(r.padding):r.padding;if(r.padding!=null&&!p.isPaddingEqual(R))if(r.retainPadding===!1){const B=p.clone();B.padding=R,p.setLocationAtPoint(p.center,B.centerPoint)}else p.padding=R;return r.preloadOnly?(this._preloadTiles(p),this):(this.fire(new c.z("movestart",l)).fire(new c.z("move",l)),_&&this.fire(new c.z("zoomstart",l)).fire(new c.z("zoom",l)).fire(new c.z("zoomend",l)),x&&this.fire(new c.z("rotatestart",l)).fire(new c.z("rotate",l)).fire(new c.z("rotateend",l)),E&&this.fire(new c.z("pitchstart",l)).fire(new c.z("pitch",l)).fire(new c.z("pitchend",l)),this.fire(new c.z("moveend",l)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||c.w(l0),this.transform.getFreeCameraOptions()}setFreeCameraOptions(r,l){const p=this.transform;if(!p.projection.supportsFreeCamera)return c.w(l0),this;this.stop();const _=p.zoom,x=p.pitch,E=p.bearing;p.setFreeCameraOptions(r);const R=_!==p.zoom,B=x!==p.pitch,V=E!==p.bearing;return this.fire(new c.z("movestart",l)).fire(new c.z("move",l)),R&&this.fire(new c.z("zoomstart",l)).fire(new c.z("zoom",l)).fire(new c.z("zoomend",l)),V&&this.fire(new c.z("rotatestart",l)).fire(new c.z("rotate",l)).fire(new c.z("rotateend",l)),B&&this.fire(new c.z("pitchstart",l)).fire(new c.z("pitch",l)).fire(new c.z("pitchend",l)),this.fire(new c.z("moveend",l)),this}easeTo(r,l){this._stop(!1,r.easeId),((r=c.l({offset:[0,0],duration:500,easing:c.dA},r)).animate===!1||this._prefersReducedMotion(r))&&(r.duration=0);const p=this.transform,_=this.getZoom(),x=this.getBearing(),E=this.getPitch(),R=this.getPadding(),B="zoom"in r?+r.zoom:_,V="bearing"in r?this._normalizeBearing(r.bearing,x):x,U="pitch"in r?+r.pitch:E,J=this._extendPadding(r.padding),Q=c.P.convert(r.offset);let le,Ee,be;if(p.projection.name==="globe"){const mn=c.aa.fromLngLat(p.center),nr=Q.rotate(-p.angle);mn.x+=nr.x/p.worldSize,mn.y+=nr.y/p.worldSize;const Wn=mn.toLngLat(),Pr=c.bO.convert(r.center||Wn);this._normalizeCenter(Pr),le=p.centerPoint.add(nr),Ee=new c.P(mn.x,mn.y).mult(p.worldSize),be=new c.P(c.at(Pr.lng),c.aA(Pr.lat)).mult(p.worldSize).sub(Ee)}else{le=p.centerPoint.add(Q);const mn=p.pointLocation(le),nr=c.bO.convert(r.center||mn);this._normalizeCenter(nr),Ee=p.project(mn),be=p.project(nr).sub(Ee)}const Ae=p.zoomScale(B-_);let Pe,Qe;r.around&&(Pe=c.bO.convert(r.around),Qe=p.locationPoint(Pe));const xt=this._zooming||B!==_,gt=this._rotating||x!==V,Bt=this._pitching||U!==E,Rt=!p.isPaddingEqual(J),Dt=r.retainPadding===!1?p.clone():p,Pt=mn=>nr=>{if(xt&&(mn.zoom=c.af(_,B,nr)),gt&&(mn.bearing=c.af(x,V,nr)),Bt&&(mn.pitch=c.af(E,U,nr)),Rt&&(Dt.interpolatePadding(R,J,nr),le=Dt.centerPoint.add(Q)),Pe)mn.setLocationAtPoint(Pe,Qe);else{const Wn=mn.zoomScale(mn.zoom-_),Pr=B>_?Math.min(2,Ae):Math.max(.5,Ae),Er=Math.pow(Pr,1-nr),Nn=mn.unproject(Ee.add(be.mult(nr*Er)).mult(Wn));mn.setLocationAtPoint(mn.renderWorldCopies?Nn.wrap():Nn,le)}return r.preloadOnly||this._fireMoveEvents(l),mn};if(r.preloadOnly){const mn=this._emulate(Pt,r.duration,p);return this._preloadTiles(mn),this}const qt={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=xt,this._rotating=gt,this._pitching=Bt,this._padding=Rt,this._easeId=r.easeId,this._prepareEase(l,r.noMoveStart,qt),this._ease(Pt(p),mn=>{p.cameraElevationReference==="sea"&&p.recenterOnTerrain(),this._afterEase(l,mn)},r),this}_prepareEase(r,l,p={}){this._moving=!0,this.transform.cameraElevationReference="sea",this.transform._orthographicProjectionAtLowPitch&&this.transform.pitch===0&&this.transform.projection.name!=="globe"&&(this.transform.cameraElevationReference="ground"),l||p.moving||this.fire(new c.z("movestart",r)),this._zooming&&!p.zooming&&this.fire(new c.z("zoomstart",r)),this._rotating&&!p.rotating&&this.fire(new c.z("rotatestart",r)),this._pitching&&!p.pitching&&this.fire(new c.z("pitchstart",r))}_fireMoveEvents(r){this.fire(new c.z("move",r)),this._zooming&&this.fire(new c.z("zoom",r)),this._rotating&&this.fire(new c.z("rotate",r)),this._pitching&&this.fire(new c.z("pitch",r))}_afterEase(r,l){if(this._easeId&&l&&this._easeId===l)return;this._easeId=void 0,this.transform.cameraElevationReference="ground";const p=this._zooming,_=this._rotating,x=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,p&&this.fire(new c.z("zoomend",r)),_&&this.fire(new c.z("rotateend",r)),x&&this.fire(new c.z("pitchend",r)),this.fire(new c.z("moveend",r))}flyTo(r,l){if(this._prefersReducedMotion(r)){const cr=c.ay(r,["center","zoom","bearing","pitch","around","padding","retainPadding"]);return this.jumpTo(cr,l)}this.stop(),r=c.l({offset:[0,0],speed:1.2,curve:1.42,easing:c.dA},r);const p=this.transform,_=this.getZoom(),x=this.getBearing(),E=this.getPitch(),R=this.getPadding(),B="zoom"in r?c.aw(+r.zoom,p.minZoom,p.maxZoom):_,V="bearing"in r?this._normalizeBearing(r.bearing,x):x,U="pitch"in r?+r.pitch:E,J=this._extendPadding(r.padding),Q=p.zoomScale(B-_),le=c.P.convert(r.offset);let Ee=p.centerPoint.add(le);const be=p.pointLocation(Ee),Ae=c.bO.convert(r.center||be);this._normalizeCenter(Ae);const Pe=p.project(be),Qe=p.project(Ae).sub(Pe);let xt=r.curve;const gt=Math.max(p.width,p.height),Bt=gt/Q,Rt=Qe.mag();if("minZoom"in r){const cr=c.aw(Math.min(r.minZoom,_,B),p.minZoom,p.maxZoom),bi=gt/p.zoomScale(cr-_);xt=Math.sqrt(bi/Rt*2)}const Dt=xt*xt;function Pt(cr){const bi=(Bt*Bt-gt*gt+(cr?-1:1)*Dt*Dt*Rt*Rt)/(2*(cr?Bt:gt)*Dt*Rt);return Math.log(Math.sqrt(bi*bi+1)-bi)}function qt(cr){return(Math.exp(cr)-Math.exp(-cr))/2}function mn(cr){return(Math.exp(cr)+Math.exp(-cr))/2}const nr=Pt(0);let Wn=function(cr){return mn(nr)/mn(nr+xt*cr)},Pr=function(cr){return gt*((mn(nr)*(qt(bi=nr+xt*cr)/mn(bi))-qt(nr))/Dt)/Rt;var bi},Er=(Pt(1)-nr)/xt;if(Math.abs(Rt)<1e-6||!isFinite(Er)){if(Math.abs(gt-Bt)<1e-6)return this.easeTo(r,l);const cr=Bt<gt?-1:1;Er=Math.abs(Math.log(Bt/gt))/xt,Pr=function(){return 0},Wn=function(bi){return Math.exp(cr*xt*bi)}}r.duration="duration"in r?+r.duration:1e3*Er/("screenSpeed"in r?+r.screenSpeed/xt:+r.speed),r.maxDuration&&r.duration>r.maxDuration&&(r.duration=0);const Nn=x!==V,ar=U!==E,Kr=!p.isPaddingEqual(J),Ln=r.retainPadding===!1?p.clone():p,Ar=cr=>bi=>{const Vr=bi*Er,$r=1/Wn(Vr);cr.zoom=bi===1?B:_+cr.scaleZoom($r),Nn&&(cr.bearing=c.af(x,V,bi)),ar&&(cr.pitch=c.af(E,U,bi)),Kr&&(Ln.interpolatePadding(R,J,bi),Ee=Ln.centerPoint.add(le));const fi=bi===1?Ae:cr.unproject(Pe.add(Qe.mult(Pr(Vr))).mult($r));return cr.setLocationAtPoint(cr.renderWorldCopies?fi.wrap():fi,Ee),cr._updateCameraOnTerrain(),r.preloadOnly||this._fireMoveEvents(l),cr};if(r.preloadOnly){const cr=this._emulate(Ar,r.duration,p);return this._preloadTiles(cr),this}return this._zooming=!0,this._rotating=Nn,this._pitching=ar,this._padding=Kr,this._prepareEase(l,!1),this._ease(Ar(p),()=>this._afterEase(l),r),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_requestRenderFrame(r){}_cancelRenderFrame(r){}_stop(r,l){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){const p=this._onEaseEnd;this._onEaseEnd=void 0,p.call(this,l)}if(!r){const p=this.handlers;p&&p.stop(!1)}return this}_ease(r,l,p){p.animate===!1||p.duration===0?(r(1),l()):(this._easeStart=c.q.now(),this._easeOptions=p,this._onEaseFrame=r,this._onEaseEnd=l,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const r=Math.min((c.q.now()-this._easeStart)/this._easeOptions.duration,1),l=this._onEaseFrame;l&&l(this._easeOptions.easing(r)),r<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(r,l){r=c.bF(r,-180,180);const p=Math.abs(r-l);return Math.abs(r-360-l)<p&&(r-=360),Math.abs(r+360-l)<p&&(r+=360),r}_normalizeCenter(r){const l=this.transform;if(l.maxBounds||l.projection.name!=="globe"&&!l.renderWorldCopies)return;const p=r.lng-l.center.lng;r.lng+=p>180?-360:p<-180?360:0}_prefersReducedMotion(r){return this._respectPrefersReducedMotion&&c.q.prefersReducedMotion&&!(r&&r.essential)}_emulate(r,l,p){const _=Math.ceil(15*l/1e3),x=[],E=r(p.clone());for(let R=0;R<=_;R++){const B=E(R/_);x.push(B.clone())}return x}_preloadTiles(r,l){}}class Cm{constructor(r={}){this.options=r,c.aP(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(r){const l=this.options&&this.options.compact,p=r._getUIString("AttributionControl.ToggleAttribution");this._map=r,this._container=$e("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=$e("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._compactButton.setAttribute("aria-label",p);const _=$e("span","mapboxgl-ctrl-icon",this._compactButton);return _.setAttribute("aria-hidden","true"),_.setAttribute("title",p),this._innerContainer=$e("div","mapboxgl-ctrl-attrib-inner",this._container),l&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),l===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}_updateEditLink(){let r=this._editLink;r||(r=this._editLink=this._container.querySelector(".mapbox-improve-map"));const l=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||c.e.ACCESS_TOKEN}];if(r){const p=l.reduce((_,x,E)=>(x.value&&(_+=`${x.key}=${x.value}${E<l.length-1?"&":""}`),_),"?");r.href=`${c.e.FEEDBACK_URL}/${p}#${vm(this._map,!0)}`,r.rel="noopener nofollow"}}_updateData(r){!r||r.sourceDataType!=="metadata"&&r.sourceDataType!=="visibility"&&r.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let r=[];if(this._map.style.stylesheet){const _=this._map.style.stylesheet;this.styleOwner=_.owner,this.styleId=_.id}const l=this._map.style._mergedSourceCaches;for(const _ in l){const x=l[_];if(x.used){const E=x.getSource();E.attribution&&r.indexOf(E.attribution)<0&&r.push(E.attribution)}}r.sort((_,x)=>_.length-x.length),r=r.filter((_,x)=>{for(let E=x+1;E<r.length;E++)if(r[E].indexOf(_)>=0)return!1;return!0}),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?r=[...this.options.customAttribution,...r]:r.unshift(this.options.customAttribution));const p=r.join(" | ");p!==this._attribHTML&&(this._attribHTML=p,r.length?(this._innerContainer.innerHTML=p,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class xc{constructor(){c.aP(["_updateLogo","_updateCompact"],this)}onAdd(r){this._map=r,this._container=$e("div","mapboxgl-ctrl");const l=$e("a","mapboxgl-ctrl-logo");return l.target="_blank",l.rel="noopener nofollow",l.href="https://www.mapbox.com/",l.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),l.setAttribute("rel","noopener nofollow"),this._container.appendChild(l),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(r){r&&r.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const r=this._map.style._sourceCaches;if(Object.entries(r).length===0)return!0;for(const l in r){const p=r[l].getSource();if(p.hasOwnProperty("mapbox_logo")&&!p.mapbox_logo)return!1}return!0}_updateCompact(){const r=this._container.children;if(r.length){const l=r[0];this._map.getCanvasContainer().offsetWidth<250?l.classList.add("mapboxgl-compact"):l.classList.remove("mapboxgl-compact")}}}class Cc{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(r){const l=++this._id;return this._queue.push({callback:r,id:l,cancelled:!1}),l}remove(r){const l=this._currentlyRunning,p=l?this._queue.concat(l):this._queue;for(const _ of p)if(_.id===r)return void(_.cancelled=!0)}run(r=0){const l=this._currentlyRunning=this._queue;this._queue=[];for(const p of l)if(!p.cancelled&&(p.callback(r),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}class If{constructor(r){this.jumpTo(r)}getValue(r){if(r<=this._startTime)return this._start;if(r>=this._endTime)return this._end;const l=c.cB((r-this._startTime)/(this._endTime-this._startTime));return this._start*(1-l)+this._end*l}isEasing(r){return r>=this._startTime&&r<=this._endTime}jumpTo(r){this._startTime=-1/0,this._endTime=-1/0,this._start=r,this._end=r}easeTo(r,l,p){this._start=this.getValue(l),this._end=r,this._startTime=l,this._endTime=l+p}}const Gd={"AttributionControl.ToggleAttribution":"Toggle attribution","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox homepage","Map.Title":"Map","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use \u2318 + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"};class Kd extends c.z{constructor(r,l,p,_){const{point:x,lngLat:E,originalEvent:R,target:B}=r;super(r.type,{point:x,lngLat:E,originalEvent:R,target:B}),this.preventDefault=()=>{r.preventDefault()},this.id=l,this.interaction=p,this.feature=_}}class $p{constructor(r){this.map=r,this.interactionsByType=new Map,this.delegatedInteractions=new Map,this.typeById=new Map,this.filters=new Map,this.handleType=this.handleType.bind(this),this.handleMove=this.handleMove.bind(this),this.handleOut=this.handleOut.bind(this),this.hoveredFeatures=new Map,this.prevHoveredFeatures=new Map}add(r,l){if(this.typeById.has(r))throw new Error(`Interaction id "${r}" already exists.`);const p=l.filter;let _=l.type;p&&this.filters.set(r,c.aZ(p)),_==="mouseover"&&(_="mouseenter"),_==="mouseout"&&(_="mouseleave");const x=this.interactionsByType.get(_)||new Map;_==="mouseenter"||_==="mouseleave"?(this.delegatedInteractions.size===0&&(this.map.on("mousemove",this.handleMove),this.map.on("mouseout",this.handleOut)),this.delegatedInteractions.set(r,l)):x.size===0&&this.map.on(_,this.handleType),x.size===0&&this.interactionsByType.set(_,x),x.set(r,l),this.typeById.set(r,_)}get(r){const l=this.typeById.get(r);if(!l)return;const p=this.interactionsByType.get(l);return p?p.get(r):void 0}remove(r){const l=this.typeById.get(r);if(!l)return;this.typeById.delete(r),this.filters.delete(r);const p=this.interactionsByType.get(l);p&&(p.delete(r),l==="mouseenter"||l==="mouseleave"?(this.delegatedInteractions.delete(r),this.delegatedInteractions.size===0&&(this.map.off("mousemove",this.handleMove),this.map.off("mouseout",this.handleOut))):p.size===0&&this.map.off(l,this.handleType))}queryTargets(r,l){const p=[];for(const[_,x]of l)x.target&&p.push({targetId:_,target:x.target,filter:this.filters.get(_)});return this.map.style.queryRenderedTargets(r,p,this.map.transform)}handleMove(r){this.prevHoveredFeatures=this.hoveredFeatures,this.hoveredFeatures=new Map;const l=this.queryTargets(r.point,Array.from(this.delegatedInteractions).reverse());l.length&&(r.type="mouseenter",this.handleType(r,l));const p=new Map;for(const[_,{feature:x}]of this.prevHoveredFeatures)this.hoveredFeatures.has(_)||p.set(x.id,x);p.size&&(r.type="mouseleave",this.handleType(r,Array.from(p.values())))}handleOut(r){const l=Array.from(this.hoveredFeatures.values()).map(({feature:p})=>p);l.length&&(r.type="mouseleave",this.handleType(r,l)),this.hoveredFeatures.clear()}handleType(r,l){const p=Array.from(this.interactionsByType.get(r.type)).reverse(),_=!!l;l=l||this.queryTargets(r.point,p);const x=r.type==="mouseenter";let E=!1;const R=new Set;for(const B of l){for(const[V,U]of p){if(!U.target)continue;const J=B.variants?B.variants[V]:null;if(J){for(const Q of J){if(or(Q,B,R,V))continue;const le=new c.cw(B,Q),Ee=An(Q,B,V);_&&(le.state=this.map.getFeatureState(le));const be=x?this.prevHoveredFeatures.get(Ee):null,Ae=new Kd(r,V,U,le),Pe=be?be.stop:U.handler(Ae);if(x&&this.hoveredFeatures.set(Ee,{feature:B,stop:Pe}),Pe!==!1){E=!0;break}}if(E)break}}if(E)break}if(!E)for(const[B,V]of p){const{handler:U,target:J}=V;if(!J&&U(new Kd(r,B,V,null))!==!1)break}}}function ms(m,r){if(Array.isArray(m)&&Array.isArray(r)){const l=new Set(m),p=new Set(r);return l.size===p.size&&m.every(_=>p.has(_))}return c.bn(m,r)}const qu={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,performanceMetricsCollection:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,antialias:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,respectPrefersReducedMotion:!0,crossSourceCollisions:!0,collectResourceTiming:!1,testMode:!1,precompilePrograms:!0,scaleFactor:1,spriteFormat:"auto"},Fs={showCompass:!0,showZoom:!0,visualizePitch:!1};class H_{constructor(r,l,p=!1){this._clickTolerance=10,this.element=l,this.mouseRotate=new vu({clickTolerance:r.dragRotate._mouseRotate._clickTolerance}),this.map=r,p&&(this.mousePitch=new Cf({clickTolerance:r.dragRotate._mousePitch._clickTolerance})),c.aP(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),l.addEventListener("mousedown",this.mousedown),l.addEventListener("touchstart",this.touchstart,{passive:!1}),l.addEventListener("touchmove",this.touchmove),l.addEventListener("touchend",this.touchend),l.addEventListener("touchcancel",this.reset)}down(r,l){this.mouseRotate.mousedown(r,l),this.mousePitch&&this.mousePitch.mousedown(r,l),ht()}move(r,l){const p=this.map,_=this.mouseRotate.mousemoveWindow(r,l),x=_&&_.bearingDelta;if(x&&p.setBearing(p.getBearing()+x),this.mousePitch){const E=this.mousePitch.mousemoveWindow(r,l),R=E&&E.pitchDelta;R&&p.setPitch(p.getPitch()+R)}}off(){const r=this.element;r.removeEventListener("mousedown",this.mousedown),r.removeEventListener("touchstart",this.touchstart,{passive:!1}),r.removeEventListener("touchmove",this.touchmove),r.removeEventListener("touchend",this.touchend),r.removeEventListener("touchcancel",this.reset),this.offTemp()}offTemp(){bt(),window.removeEventListener("mousemove",this.mousemove),window.removeEventListener("mouseup",this.mouseup)}mousedown(r){this.down(c.l({},r,{ctrlKey:!0,preventDefault:()=>r.preventDefault()}),yt(this.element,r)),window.addEventListener("mousemove",this.mousemove),window.addEventListener("mouseup",this.mouseup)}mousemove(r){this.move(r,yt(this.element,r))}mouseup(r){this.mouseRotate.mouseupWindow(r),this.mousePitch&&this.mousePitch.mouseupWindow(r),this.offTemp()}touchstart(r){r.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=Et(this.element,r.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>r.preventDefault()},this._startPos))}touchmove(r){r.targetTouches.length!==1?this.reset():(this._lastPos=Et(this.element,r.targetTouches)[0],this.move({preventDefault:()=>r.preventDefault()},this._lastPos))}touchend(r){r.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}function Sm(m,r,l){if(m=new c.bO(m.lng,m.lat),r){const p=new c.bO(m.lng-360,m.lat),_=new c.bO(m.lng+360,m.lat),x=360*Math.ceil(Math.abs(m.lng-l.center.lng)/360),E=l.locationPoint(m).distSqr(r),R=r.x<0||r.y<0||r.x>l.width||r.y>l.height;l.locationPoint(p).distSqr(r)<E&&(R||Math.abs(p.lng-l.center.lng)<x)?m=p:l.locationPoint(_).distSqr(r)<E&&(R||Math.abs(_.lng-l.center.lng)<x)&&(m=_)}for(;Math.abs(m.lng-l.center.lng)>180;){const p=l.locationPoint(m);if(p.x>=0&&p.y>=0&&p.x<=l.width&&p.y<=l.height)break;m.lng>l.center.lng?m.lng-=360:m.lng+=360}return m}const _u={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};class Dc extends c.E{constructor(r,l){if(super(),(r instanceof HTMLElement||l)&&(r=c.l({element:r},l)),c.aP(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=r&&r.anchor||"center",this._color=r&&r.color||"#3FB1CE",this._scale=r&&r.scale||1,this._draggable=r&&r.draggable||!1,this._clickTolerance=r&&r.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=r&&r.rotation||0,this._rotationAlignment=r&&r.rotationAlignment||"auto",this._pitchAlignment=r&&r.pitchAlignment&&r.pitchAlignment||"auto",this._updateMoving=()=>this._update(!0),this._occludedOpacity=r&&r.occludedOpacity||.2,r&&r.element)this._element=r.element,this._offset=c.P.convert(r&&r.offset||[0,0]);else{this._defaultMarker=!0,this._element=$e("div");const x=41,E=27,R=He("svg",{display:"block",height:x*this._scale+"px",width:E*this._scale+"px",viewBox:`0 0 ${E} ${x}`},this._element),B=He("radialGradient",{id:"shadowGradient"},He("defs",{},R));He("stop",{offset:"10%","stop-opacity":.4},B),He("stop",{offset:"100%","stop-opacity":.05},B),He("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},R),He("path",{fill:this._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},R),He("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},R),He("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},R),this._offset=c.P.convert(r&&r.offset||[0,-14])}this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label","Map marker"),this._element.hasAttribute("role")||this._element.setAttribute("role","img"),this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",x=>{x.preventDefault()}),this._element.addEventListener("mousedown",x=>{x.preventDefault()});const p=this._element.classList;for(const x in _u)p.remove(`mapboxgl-marker-anchor-${x}`);p.add(`mapboxgl-marker-anchor-${this._anchor}`);const _=r&&r.className?r.className.trim().split(/\s+/):[];p.add(..._),this._popup=null}addTo(r){return r===this._map||(this.remove(),this._map=r,r.getCanvasContainer().appendChild(this._element),r.on("move",this._updateMoving),r.on("moveend",this._update),r.on("remove",this._clearFadeTimer),r._addMarker(this),this.setDraggable(this._draggable),this._update(),r.on("click",this._onMapClick)),this}remove(){const r=this._map;return r&&(r.off("click",this._onMapClick),r.off("move",this._updateMoving),r.off("moveend",this._update),r.off("mousedown",this._addDragHandler),r.off("touchstart",this._addDragHandler),r.off("mouseup",this._onUp),r.off("touchend",this._onUp),r.off("mousemove",this._onMove),r.off("touchmove",this._onMove),r.off("remove",this._clearFadeTimer),r._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(r){return this._lngLat=c.bO.convert(r),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(r){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),r){if(!("offset"in r.options)){const _=Math.sqrt(Math.pow(13.5,2)/2);r.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[_,-1*(38.1-13.5+_)],"bottom-right":[-_,-1*(38.1-13.5+_)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=r,r._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}_onKeyPress(r){const l=r.code,p=r.charCode||r.keyCode;l!=="Space"&&l!=="Enter"&&p!==32&&p!==13||this.togglePopup()}_onMapClick(r){const l=r.originalEvent.target,p=this._element;this._popup&&(l===p||p.contains(l))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const r=this._popup;return r?(r.isOpen()?(r.remove(),this._element.setAttribute("aria-expanded","false")):this._map&&(r.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}_behindTerrain(){const r=this._map,l=this._pos;if(!r||!l)return!1;const p=r.unproject(l),_=r.getFreeCameraOptions();if(!_.position)return!1;const x=_.position.toLngLat();return x.distanceTo(p)<.9*x.distanceTo(this._lngLat)}_evaluateOpacity(){const r=this._map;if(!r)return;const l=this._pos;if(!l||l.x<0||l.x>r.transform.width||l.y<0||l.y>r.transform.height)return void this._clearFadeTimer();const p=r.unproject(l);let _;r._showingGlobe()&&c.dH(r.transform,this._lngLat)?_=0:(_=1-r._queryFogOpacity(p),r.transform._terrainEnabled()&&r.getTerrain()&&this._behindTerrain()&&(_*=this._occludedOpacity)),this._element.style.opacity=`${_}`,this._element.style.pointerEvents=_>0?"auto":"none",this._popup&&this._popup._setOpacity(_),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_updateDOM(){const r=this._pos;if(!r||!this._map)return;const l=this._offset.mult(this._scale);this._element.style.transform=`
            translate(${r.x}px,${r.y}px)
            ${_u[this._anchor]}
            ${this._calculateXYTransform()} ${this._calculateZTransform()}
            translate(${l.x}px,${l.y}px)
        `}_calculateXYTransform(){const r=this._pos,l=this._map,p=this.getPitchAlignment();if(!l||!r||p!=="map")return"";if(!l._showingGlobe()){const B=l.getPitch();return B?`rotateX(${B}deg)`:""}const _=c.c4(c.dI(l.transform,this._lngLat)),x=r.sub(c.dJ(l.transform)),E=Math.abs(x.x)+Math.abs(x.y);if(E===0)return"";const R=_/E;return`rotateX(${-x.y*R}deg) rotateY(${x.x*R}deg)`}_calculateZTransform(){const r=this._pos,l=this._map;if(!l||!r)return"";let p=0;const _=this.getRotationAlignment();if(_==="map")if(l._showingGlobe()){const x=l.project(new c.bO(this._lngLat.lng,this._lngLat.lat+.001)),E=l.project(new c.bO(this._lngLat.lng,this._lngLat.lat-.001)).sub(x);p=c.c4(Math.atan2(E.y,E.x))-90}else p=-l.getBearing();else if(_==="horizon"){const x=c.ac(4,6,l.getZoom()),E=c.dJ(l.transform);E.y+=x*l.transform.height;const R=r.sub(E),B=c.c4(Math.atan2(R.y,R.x));p=(B>90?B-270:B+90)*(1-x)}return p+=this._rotation,p?`rotateZ(${p}deg)`:""}_update(r){cancelAnimationFrame(this._updateFrameId);const l=this._map;l&&(l.transform.renderWorldCopies&&(this._lngLat=Sm(this._lngLat,this._pos,l.transform)),this._pos=l.project(this._lngLat),r===!0?this._updateFrameId=requestAnimationFrame(()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM())}):this._pos=this._pos.round(),l._requestDomTask(()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),(l._showingGlobe()||l.getTerrain()||l.getFog())&&!this._fadeTimer&&(this._fadeTimer=window.setTimeout(this._evaluateOpacity.bind(this),60)))}))}getOffset(){return this._offset}setOffset(r){return this._offset=c.P.convert(r),this._update(),this}addClassName(r){return this._element.classList.add(r),this}removeClassName(r){return this._element.classList.remove(r),this}toggleClassName(r){return this._element.classList.toggle(r)}_onMove(r){const l=this._map;if(!l)return;const p=this._pointerdownPos,_=this._positionDelta;if(p&&_){if(!this._isDragging){const x=this._clickTolerance||l._clickTolerance;if(r.point.dist(p)<x)return;this._isDragging=!0}this._pos=r.point.sub(_),this._lngLat=l.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new c.z("dragstart"))),this.fire(new c.z("drag"))}}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;const r=this._map;r&&(r.off("mousemove",this._onMove),r.off("touchmove",this._onMove)),this._state==="active"&&this.fire(new c.z("dragend")),this._state="inactive"}_addDragHandler(r){const l=this._map,p=this._pos;l&&p&&this._element.contains(r.originalEvent.target)&&(r.preventDefault(),this._positionDelta=r.point.sub(p),this._pointerdownPos=r.point,this._state="pending",l.on("mousemove",this._onMove),l.on("touchmove",this._onMove),l.once("mouseup",this._onUp),l.once("touchend",this._onUp))}setDraggable(r){this._draggable=!!r;const l=this._map;return l&&(r?(l.on("mousedown",this._addDragHandler),l.on("touchstart",this._addDragHandler)):(l.off("mousedown",this._addDragHandler),l.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(r){return this._rotation=r||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(r){return this._rotationAlignment=r||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment==="auto"||this._rotationAlignment==="horizon"&&this._map&&!this._map._showingGlobe()?"viewport":this._rotationAlignment}setPitchAlignment(r){return this._pitchAlignment=r||"auto",this._update(),this}getPitchAlignment(){return this._pitchAlignment==="auto"?this.getRotationAlignment():this._pitchAlignment}setOccludedOpacity(r){return this._occludedOpacity=r||.2,this._update(),this}getOccludedOpacity(){return this._occludedOpacity}}const Ol={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},Bc={maxWidth:100,unit:"metric"},dc={kilometer:"km",meter:"m",mile:"mi",foot:"ft","nautical-mile":"nm"},Ap={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},rl=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Dp(m=new c.P(0,0),r="bottom"){if(typeof m=="number"){const l=Math.round(Math.sqrt(.5*Math.pow(m,2)));switch(r){case"top":return new c.P(0,m);case"top-left":return new c.P(l,l);case"top-right":return new c.P(-l,l);case"bottom":return new c.P(0,-m);case"bottom-left":return new c.P(l,-l);case"bottom-right":return new c.P(-l,-l);case"left":return new c.P(m,0);case"right":return new c.P(-m,0)}return new c.P(0,0)}return m instanceof c.P||Array.isArray(m)?c.P.convert(m):c.P.convert(m[r]||[0,0])}return{version:xe,supported:Ke.supported,setRTLTextPlugin:c.dK,getRTLTextPluginStatus:c.dL,Map:class extends Ef{constructor(m){Fe.mark(We.create);const r=m;if((m=c.l({},qu,m)).minZoom!=null&&m.maxZoom!=null&&m.minZoom>m.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(m.minPitch!=null&&m.maxPitch!=null&&m.minPitch>m.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(m.minPitch!=null&&m.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(m.maxPitch!=null&&m.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(m.antialias&&c.dF(window)&&(m.antialias=!1,c.w("Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609")),super(new Yc(m.minZoom,m.maxZoom,m.minPitch,m.maxPitch,m.renderWorldCopies),m),this._repaint=!!m.repaint,this._interactive=m.interactive,this._minTileCacheSize=m.minTileCacheSize,this._maxTileCacheSize=m.maxTileCacheSize,this._failIfMajorPerformanceCaveat=m.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=m.preserveDrawingBuffer,this._antialias=m.antialias,this._trackResize=m.trackResize,this._bearingSnap=m.bearingSnap,this._refreshExpiredTiles=m.refreshExpiredTiles,this._fadeDuration=m.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=m.crossSourceCollisions,this._collectResourceTiming=m.collectResourceTiming,this._language=this._parseLanguage(m.language),this._worldview=m.worldview,this._renderTaskQueue=new Cc,this._domRenderTaskQueue=new Cc,this._controls=[],this._markers=[],this._popups=[],this._mapId=c.aV(),this._locale=c.l({},Gd,m.locale),this._clickTolerance=m.clickTolerance,this._cooperativeGestures=m.cooperativeGestures,this._performanceMetricsCollection=m.performanceMetricsCollection,this._tessellationStep=m.tessellationStep,this._containerWidth=0,this._containerHeight=0,this._showParseStatus=!0,this._precompilePrograms=m.precompilePrograms,this._scaleFactorChanged=!1,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new If(0),this._interactionRange=[1/0,-1/0],this._visibilityHidden=0,this._useExplicitProjection=!1,this._frameId=0,this._scaleFactor=m.scaleFactor,this._requestManager=new Hn(m.transformRequest,m.accessToken,m.testMode),this._silenceAuthErrors=!!m.testMode,this._contextCreateOptions=m.contextCreateOptions?Object.assign({},m.contextCreateOptions):{},typeof m.container=="string"){const l=document.getElementById(m.container);if(!l)throw new Error(`Container '${m.container.toString()}' not found.`);this._container=l}else{if(!(m.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=m.container}if(this._container.childNodes.length>0&&c.w("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),m.maxBounds&&this.setMaxBounds(m.maxBounds),this._spriteFormat=m.spriteFormat,c.aP(["_onWindowOnline","_onWindowResize","_onVisibilityChange","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._tp||(this._tp=new Ep),this._tp.registerParameter(this,["Debug"],"showOverdrawInspector"),this._tp.registerParameter(this,["Debug"],"showTileBoundaries"),this._tp.registerParameter(this,["Debug"],"showParseStatus"),this._tp.registerParameter(this,["Debug"],"repaint"),this._tp.registerParameter(this,["Debug"],"showTileAABBs"),this._tp.registerParameter(this,["Debug"],"showPadding"),this._tp.registerParameter(this,["Debug"],"showCollisionBoxes",{noSave:!0}),this._tp.registerParameter(this.transform,["Debug"],"freezeTileCoverage",{noSave:!0},()=>{this._update()}),this._tp.registerParameter(this,["Debug","Wireframe"],"showTerrainWireframe"),this._tp.registerParameter(this,["Debug","Wireframe"],"showLayers2DWireframe"),this._tp.registerParameter(this,["Debug","Wireframe"],"showLayers3DWireframe"),this._tp.registerParameter(this,["Scaling"],"_scaleFactor",{min:.1,max:10,step:.1},()=>{this.setScaleFactor(this._scaleFactor)}),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");if(this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this._fullscreenchangeEvent="onfullscreenchange"in document?"fullscreenchange":"webkitfullscreenchange",window.addEventListener("online",this._onWindowOnline,!1),window.addEventListener("resize",this._onWindowResize,!1),window.addEventListener("orientationchange",this._onWindowResize,!1),window.addEventListener(this._fullscreenchangeEvent,this._onWindowResize,!1),window.addEventListener("visibilitychange",this._onVisibilityChange,!1),this.handlers=new s0(this,m),this._localFontFamily=m.localFontFamily,this._localIdeographFontFamily=m.localIdeographFontFamily,(m.style||!m.testMode)&&this.setStyle(m.style||c.e.DEFAULT_STYLE,{config:m.config,localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),m.projection&&this.setProjection(m.projection),this.indoor=new Go(this),m.hash&&(this._hash=new Jg(typeof m.hash=="string"&&m.hash||void 0).addTo(this)),!this._hash||!this._hash._onHashChange()){r.center==null&&r.zoom==null||(this.transform._unmodified=!1),this.jumpTo({center:m.center,zoom:m.zoom,bearing:m.bearing,pitch:m.pitch});const l=m.bounds;l&&(this.resize(),this.fitBounds(l,c.l({},m.fitBoundsOptions,{duration:0})))}this.resize(),m.attributionControl&&this.addControl(new Cm({customAttribution:m.customAttribution})),this._logoControl=new xc,this.addControl(this._logoControl,m.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet),this._postStyleLoadEvent()}),this.on("data",l=>{this._update(l.dataType==="style"),this.fire(new c.z(`${l.dataType}data`,l))}),this.on("dataloading",l=>{this.fire(new c.z(`${l.dataType}dataloading`,l))}),this._interactions=new $p(this)}_getMapId(){return this._mapId}addControl(m,r){if(r===void 0&&(r=m.getDefaultPosition?m.getDefaultPosition():"top-right"),!m||!m.onAdd)return this.fire(new c.y(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const l=m.onAdd(this);this._controls.push(m);const p=this._controlPositions[r];return r.indexOf("bottom")!==-1?p.insertBefore(l,p.firstChild):p.appendChild(l),this}removeControl(m){if(!m||!m.onRemove)return this.fire(new c.y(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const r=this._controls.indexOf(m);return r>-1&&this._controls.splice(r,1),m.onRemove(this),this}hasControl(m){return this._controls.indexOf(m)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(m){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const r=!this._moving;return r&&this.fire(new c.z("movestart",m)).fire(new c.z("move",m)),this.fire(new c.z("resize",m)),r&&this.fire(new c.z("moveend",m)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(m){return this.transform.setMaxBounds(c.az.convert(m)),this._update()}setMinZoom(m){if((m=m!=null?m:-2)>=-2&&m<=this.transform.maxZoom)return this.transform.minZoom=m,this._update(),this.getZoom()<m?this.setZoom(m):this.fire(new c.z("zoomstart")).fire(new c.z("zoom")).fire(new c.z("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(m){if((m=m!=null?m:22)>=this.transform.minZoom)return this.transform.maxZoom=m,this._update(),this.getZoom()>m?this.setZoom(m):this.fire(new c.z("zoomstart")).fire(new c.z("zoom")).fire(new c.z("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(m){if((m=m!=null?m:0)<0)throw new Error("minPitch must be greater than or equal to 0");if(m>=0&&m<=this.transform.maxPitch)return this.transform.minPitch=m,this._update(),this.getPitch()<m?this.setPitch(m):this.fire(new c.z("pitchstart")).fire(new c.z("pitch")).fire(new c.z("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(m){if((m=m!=null?m:85)>85)throw new Error("maxPitch must be less than or equal to 85");if(m>=this.transform.minPitch)return this.transform.maxPitch=m,this._update(),this.getPitch()>m?this.setPitch(m):this.fire(new c.z("pitchstart")).fire(new c.z("pitch")).fire(new c.z("pitchend")),this;throw new Error("maxPitch must be greater than or equal to minPitch")}getMaxPitch(){return this.transform.maxPitch}getScaleFactor(){return this._scaleFactor}setScaleFactor(m){return this._scaleFactor=m,this.painter.scaleFactor=m,this._tp.refreshUI(),this._scaleFactorChanged=!0,this.style._updateFilteredLayers(r=>r.type==="symbol"),this._update(!0),this}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(m){return this.transform.renderWorldCopies=m,this.transform.renderWorldCopies||this._forceMarkerAndPopupUpdate(!0),this._update()}getLanguage(){return this._language}_parseLanguage(m){return m==="auto"?navigator.language:Array.isArray(m)?m.length===0?void 0:m.map(r=>r==="auto"?navigator.language:r):m}setLanguage(m){const r=this._parseLanguage(m);if(!this.style||r===this._language)return this;this._language=r,this.style.reloadSources();for(const l of this._controls)l._setLanguage&&l._setLanguage(this._language);return this}getWorldview(){return this._worldview}setWorldview(m){return this.style&&m!==this._worldview?(this._worldview=m,this.style.reloadSources(),this):this}getProjection(){return this.transform.mercatorFromTransition?{name:"globe",center:[0,0]}:this.transform.getProjection()}_showingGlobe(){return this.transform.projection.name==="globe"}setProjection(m){return this._lazyInitEmptyStyle(),m?typeof m=="string"&&(m={name:m}):m=null,this._useExplicitProjection=!!m,this._prioritizeAndUpdateProjection(m,this.style.projection)}_updateProjectionTransition(){if(this.getProjection().name!=="globe")return;const m=this.transform,r=m.projection.name;let l;r==="globe"&&m.zoom>=c.bY?(m.setMercatorFromTransition(),l=!0):r==="mercator"&&m.zoom<c.bY&&(m.setProjection({name:"globe"}),l=!0),l&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate())}_prioritizeAndUpdateProjection(m,r){return this._updateProjection(m||r||{name:"mercator"})}_updateProjection(m){let r;return r=m.name==="globe"&&this.transform.zoom>=c.bY?this.transform.setMercatorFromTransition():this.transform.setProjection(m),this.style.applyProjectionUpdate(),r&&(this.painter.clearBackgroundTiles(),this.style.clearSources(),this._update(!0),this._forceMarkerAndPopupUpdate(!0)),this}project(m){return this.transform.locationPoint3D(c.bO.convert(m))}unproject(m){return this.transform.pointLocation3D(c.P.convert(m))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_isDragging(){return this.handlers&&this.handlers._isDragging()||!1}_createDelegatedListener(m,r,l){const p=_=>{let x=[];if(Array.isArray(r)){const E=r.filter(R=>this.getLayer(R));x=E.length?this.queryRenderedFeatures(_,{layers:E}):[]}else x=this.queryRenderedFeatures(_,{target:r});return x};if(m==="mouseenter"||m==="mouseover"){let _=!1;return{listener:l,targets:r,delegates:{mousemove:E=>{const R=p(E.point);R.length?_||(_=!0,l.call(this,new Hc(m,this,E.originalEvent,{features:R}))):_=!1},mouseout:()=>{_=!1}}}}if(m==="mouseleave"||m==="mouseout"){let _=!1;return{listener:l,targets:r,delegates:{mousemove:R=>{p(R.point).length?_=!0:_&&(_=!1,l.call(this,new Hc(m,this,R.originalEvent)))},mouseout:R=>{_&&(_=!1,l.call(this,new Hc(m,this,R.originalEvent)))}}}}{const _=x=>{const E=p(x.point);E.length&&(x.features=E,l.call(this,x),delete x.features)};return{listener:l,targets:r,delegates:{[m]:_}}}}on(m,r,l){if(typeof r=="function"||l===void 0)return super.on(m,r);if(typeof r=="string"&&(r=[r]),!this._areTargetsValid(r))return this;const p=this._createDelegatedListener(m,r,l);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[m]=this._delegatedListeners[m]||[],this._delegatedListeners[m].push(p);for(const _ in p.delegates)this.on(_,p.delegates[_]);return this}once(m,r,l){if(typeof r=="function"||l===void 0)return super.once(m,r);if(typeof r=="string"&&(r=[r]),!this._areTargetsValid(r))return this;const p=this._createDelegatedListener(m,r,l);for(const _ in p.delegates)this.once(_,p.delegates[_]);return this}off(m,r,l){if(typeof r=="function"||l===void 0)return super.off(m,r);if(typeof r=="string"&&(r=[r]),!this._areTargetsValid(r))return this;const p=this._delegatedListeners?this._delegatedListeners[m]:void 0;return p&&(_=>{for(let x=0;x<_.length;x++){const E=_[x];if(E.listener===l&&ms(E.targets,r)){for(const R in E.delegates)this.off(R,E.delegates[R]);return _.splice(x,1),this}}})(p),this}queryRenderedFeatures(m,r){if(!this.style)return[];if(m===void 0||m instanceof c.P||Array.isArray(m)||r!==void 0||(r=m,m=void 0),m=m||[[0,0],[this.transform.width,this.transform.height]],!r){const x=this.style.queryRenderedFeatures(m,void 0,this.transform),E=this.style.queryRenderedFeatureset(m,void 0,this.transform);return x.concat(E)}let l=!0;if(r.target&&(l=this._isTargetValid(r.target),l&&!r.layers))return this.style.queryRenderedFeatureset(m,r,this.transform);let p=!0;if(r.layers&&Array.isArray(r.layers)){for(const x of r.layers)if(!this._isValidId(x)){p=!1;break}if(p&&!r.target)return this.style.queryRenderedFeatures(m,r,this.transform)}let _=[];return p&&(_=_.concat(this.style.queryRenderedFeatures(m,r,this.transform))),l&&(_=_.concat(this.style.queryRenderedFeatureset(m,r,this.transform))),_}querySourceFeatures(m,r){return!m||typeof m=="string"&&!this._isValidId(m)?[]:this.style.querySourceFeatures(m,r)}isPointOnSurface(m){const{name:r}=this.transform.projection;return r!=="globe"&&r!=="mercator"&&c.w(`${r} projection does not support isPointOnSurface, this API may behave unexpectedly.`),this.transform.isPointOnSurface(c.P.convert(m))}addInteraction(m,r){return this._interactions.add(m,r),this}removeInteraction(m){return this._interactions.remove(m),this}setStyle(m,r){return r=c.l({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},r),this.style&&m&&r.diff!==!1&&r.localFontFamily===this._localFontFamily&&r.localIdeographFontFamily===this._localIdeographFontFamily&&!r.config?(this.style._diffStyle(m,(l,p)=>{l?(c.w(`Unable to perform style diff: ${String(l.message||l.error||l)}. Rebuilding the style from scratch.`),this._updateStyle(m,r)):p&&this._update(!0)},()=>{this._postStyleLoadEvent()}),this):(this._localIdeographFontFamily=r.localIdeographFontFamily,this._localFontFamily=r.localFontFamily,this._updateStyle(m,r))}_getUIString(m){const r=this._locale[m];if(r==null)throw new Error(`Missing UI string '${m}'`);return r}_updateStyle(m,r){if(this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),m){const l=c.l({},r);r&&r.config&&(l.initialConfig=r.config,delete l.config),this.style=new ns(this,l).load(m),this.style.setEventedParent(this,{style:this.style})}return this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new ns(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(c.w("There is no style added to the map."),!1)}_isValidId(m){return m==null?(this.fire(new c.y(new Error("IDs can't be empty."))),!1):!c.cr(m)||(this.fire(new c.y(new Error(`IDs can't contain special symbols: "${m}".`))),!1)}_isTargetValid(m){return"featuresetId"in m?this._isValidId("importId"in m?m.importId:m.featuresetId):"layerId"in m&&this._isValidId(m.layerId)}_areTargetsValid(m){if(Array.isArray(m)){for(const r of m)if(!this._isValidId(r))return!1;return!0}return this._isTargetValid(m)}addSource(m,r){return this._isValidId(m)?(this._lazyInitEmptyStyle(),this.style.addSource(m,r),this._update(!0)):this}isSourceLoaded(m){return!!this._isValidId(m)&&!!this.style&&this.style._isSourceCacheLoaded(m)}areTilesLoaded(){return this.style.areTilesLoaded()}addSourceType(m,r,l){this._lazyInitEmptyStyle(),this.style.addSourceType(m,r,l)}removeSource(m){return this._isValidId(m)?(this.style.removeSource(m),this._updateTerrain(),this._update(!0)):this}getSource(m){return this._isValidId(m)?this.style.getOwnSource(m):null}addImage(m,r,{pixelRatio:l=1,sdf:p=!1,stretchX:_,stretchY:x,content:E}={}){if(this._lazyInitEmptyStyle(),r instanceof HTMLImageElement||ImageBitmap&&r instanceof ImageBitmap){const{width:R,height:B,data:V}=c.q.getImageData(r);this.style.addImage(m,{data:new c.r({width:R,height:B},V),pixelRatio:l,stretchX:_,stretchY:x,content:E,sdf:p,version:0,usvg:!1})}else if(r.width===void 0||r.height===void 0)this.fire(new c.y(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{const{width:R,height:B}=r,V=r;this.style.addImage(m,{data:new c.r({width:R,height:B},new Uint8Array(V.data)),pixelRatio:l,stretchX:_,stretchY:x,content:E,sdf:p,usvg:!1,version:0,userImage:V}),V.onAdd&&V.onAdd(this,m)}}updateImage(m,r){this._lazyInitEmptyStyle();const l=this.style.getImage(m);if(!l)return void this.fire(new c.y(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const p=r instanceof HTMLImageElement||ImageBitmap&&r instanceof ImageBitmap?c.q.getImageData(r):r,{width:_,height:x,data:E}=p;if(_===void 0||x===void 0)return void this.fire(new c.y(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(_!==(l.usvg?l.icon.usvg_tree.width:l.data.width)||x!==(l.usvg?l.icon.usvg_tree.height:l.data.height))return void this.fire(new c.y(new Error(`The width and height of the updated image (${_}, ${x})
                must be that same as the previous version of the image
                (${l.data.width}, ${l.data.height})`)));const R=!(r instanceof HTMLImageElement||ImageBitmap&&r instanceof ImageBitmap);let B=!1;l.usvg?(l.data=new c.r({width:_,height:x},new Uint8Array(E)),l.usvg=!1,l.icon=void 0,B=!0):l.data.replace(E,R),this.style.updateImage(m,l,B)}hasImage(m){return m?!!this.style&&!!this.style.getImage(m):(this.fire(new c.y(new Error("Missing required image id"))),!1)}removeImage(m){this.style.removeImage(m)}loadImage(m,r){c.o(this._requestManager.transformRequest(m,c.R.Image),(l,p)=>{r(l,p instanceof HTMLImageElement?c.q.getImageData(p):p)})}listImages(){return this.style.listImages()}addModel(m,r){this._lazyInitEmptyStyle(),this.style.addModel(m,r)}hasModel(m){return m?this.style.hasModel(m):(this.fire(new c.y(new Error("Missing required model id"))),!1)}removeModel(m){this.style.removeModel(m)}listModels(){return this.style.listModels()}addLayer(m,r){return this._isValidId(m.id)?(this._lazyInitEmptyStyle(),this.style.addLayer(m,r),this._update(!0)):this}getSlot(m){const r=this.getLayer(m);return r&&r.slot||null}setSlot(m,r){return this.style.setSlot(m,r),this.style.mergeLayers(),this._update(!0)}addImport(m,r){return this.style.addImport(m,r),this}updateImport(m,r){return typeof r!="string"&&r.id!==m?(this.removeImport(m),this.addImport(r)):(this.style.updateImport(m,r),this._update(!0))}removeImport(m){return this.style.removeImport(m),this}moveImport(m,r){return this.style.moveImport(m,r),this._update(!0)}moveLayer(m,r){return this._isValidId(m)?(this.style.moveLayer(m,r),this._update(!0)):this}removeLayer(m){return this._isValidId(m)?(this.style.removeLayer(m),this._update(!0)):this}getLayer(m){if(!this._isValidId(m))return null;const r=this.style.getOwnLayer(m);return r?r.type==="custom"?r.implementation:r.serialize():void 0}getSlots(){return this.style.getSlots()}setLayerZoomRange(m,r,l){return this._isValidId(m)?(this.style.setLayerZoomRange(m,r,l),this._update(!0)):this}setFilter(m,r,l={}){return this._isValidId(m)?(this.style.setFilter(m,r,l),this._update(!0)):this}getFilter(m){return this._isValidId(m)?this.style.getFilter(m):null}setPaintProperty(m,r,l,p={}){return this._isValidId(m)?(this.style.setPaintProperty(m,r,l,p),this._update(!0)):this}getPaintProperty(m,r){return this._isValidId(m)?this.style.getPaintProperty(m,r):null}setLayoutProperty(m,r,l,p={}){return this._isValidId(m)?(this.style.setLayoutProperty(m,r,l,p),this._update(!0)):this}getLayoutProperty(m,r){return this._isValidId(m)?this.style.getLayoutProperty(m,r):null}getSchema(m){return this.style.getSchema(m)}setSchema(m,r){return this.style.setSchema(m,r),this._update(!0)}getConfig(m){return this.style.getConfig(m)}setConfig(m,r){return this.style.setConfig(m,r),this._update(!0)}getConfigProperty(m,r){return this.style.getConfigProperty(m,r)}setConfigProperty(m,r,l){return this.style.setConfigProperty(m,r,l),this._update(!0)}getFeaturesetDescriptors(m){return this.style.getFeaturesetDescriptors(m)}setLights(m){if(this._lazyInitEmptyStyle(),m&&m.length===1&&m[0].type==="flat"){const r=m[0];r.properties?this.style.setFlatLight(r.properties,r.id,{}):this.style.setFlatLight({},"flat")}else this.style.setLights(m),this.painter.terrain&&(this.painter.terrain.invalidateRenderCache=!0);return this._update(!0)}getLights(){const m=this.style.getLights()||[];return m.length===0&&m.push({id:this.style.light.id,type:"flat",properties:this.style.getFlatLight()}),m}setLight(m,r={}){return console.log("The `map.setLight` function is deprecated, prefer using `map.setLights` with `flat` light type instead."),this.setLights([{id:"flat",type:"flat",properties:m}])}getLight(){return console.log("The `map.getLight` function is deprecated, prefer using `map.getLights` instead."),this.style.getFlatLight()}setTerrain(m){return this._lazyInitEmptyStyle(),!m&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(m),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(m){return this._lazyInitEmptyStyle(),this.style.setFog(m),this._update(!0)}getFog(){return this.style?this.style.getFog():null}setSnow(m){return this._lazyInitEmptyStyle(),this.style.setSnow(m),this._update(!0)}getSnow(){return this.style?this.style.getSnow():null}setRain(m){return this._lazyInitEmptyStyle(),this.style.setRain(m),this._update(!0)}getRain(){return this.style?this.style.getRain():null}setColorTheme(m){return this._lazyInitEmptyStyle(),this.style.setColorTheme(m),this._update(!0)}setImportColorTheme(m,r){return this._lazyInitEmptyStyle(),this.style.setImportColorTheme(m,r),this._update(!0)}setCamera(m){return this.style.setCamera(m),this._triggerCameraUpdate(m)}_triggerCameraUpdate(m){return this._update(this.transform.setOrthographicProjectionAtLowPitch(m["camera-projection"]==="orthographic"))}getCamera(){return this.style.camera}_queryFogOpacity(m){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(c.bO.convert(m),this.transform):0}setFeatureState(m,r){return m.source&&!this._isValidId(m.source)?this:(this.style.setFeatureState(m,r),this._update())}removeFeatureState(m,r){return m.source&&!this._isValidId(m.source)?this:(this.style.removeFeatureState(m,r),this._update())}getFeatureState(m){return m.source&&!this._isValidId(m.source)?null:this.style.getFeatureState(m)}_updateContainerDimensions(){if(!this._container)return;const m=this._container.getBoundingClientRect().width||400,r=this._container.getBoundingClientRect().height||300;let l,p,_,x=this._container;for(;x&&(!p||!_);){const E=window.getComputedStyle(x).transform;E&&E!=="none"&&(l=E.match(/matrix.*\((.+)\)/)[1].split(", "),l[0]&&l[0]!=="0"&&l[0]!=="1"&&(p=l[0]),l[3]&&l[3]!=="0"&&l[3]!=="1"&&(_=l[3])),x=x.parentElement}this._containerWidth=p?Math.abs(m/p):m,this._containerHeight=_?Math.abs(r/_):r}_detectMissingCSS(){window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&c.w("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const m=this._container;m.classList.add("mapboxgl-map"),(this._missingCSSCanary=$e("div","mapboxgl-canary",m)).style.visibility="hidden",this._detectMissingCSS();const r=this._canvasContainer=$e("div","mapboxgl-canvas-container",m);this._canvas=$e("canvas","mapboxgl-canvas",r),this._interactive&&(r.classList.add("mapboxgl-interactive"),this._canvas.setAttribute("tabindex","0")),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const l=this._controlContainer=$e("div","mapboxgl-control-container",m),p=this._controlPositions={};["top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"].forEach(_=>{p[_]=$e("div",`mapboxgl-ctrl-${_}`,l)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(m,r){const l=c.q.devicePixelRatio||1;this._canvas.width=l*Math.ceil(m),this._canvas.height=l*Math.ceil(r),this._canvas.style.width=`${m}px`,this._canvas.style.height=`${r}px`}_addMarker(m){this._markers.push(m)}_removeMarker(m){const r=this._markers.indexOf(m);r!==-1&&this._markers.splice(r,1)}_addPopup(m){this._popups.push(m)}_removePopup(m){const r=this._popups.indexOf(m);r!==-1&&this._popups.splice(r,1)}_setupPainter(){const m=c.l({},Ke.supported.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),r=this._canvas.getContext("webgl2",m);r?(Lr(r,!0),this.painter=new gm(r,this._contextCreateOptions,this.transform,this._scaleFactor,this._tp),this.on("data",l=>{l.dataType==="source"&&this.painter.setTileLoadedFlag(!0)}),c.m.testSupport(r)):this.fire(new c.y(new Error("Failed to initialize WebGL")))}_contextLost(m){m.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new c.z("webglcontextlost",{originalEvent:m}))}_contextRestored(m){this._setupPainter(),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight)),this._updateTerrain(),this.style.reloadModels(),this.style.clearSources(),this._update(),this.fire(new c.z("webglcontextrestored",{originalEvent:m}))}_onMapScroll(m){if(m.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}idle(){return!this.isMoving()&&this.loaded()}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}frameReady(){return this.loaded()&&!this._placementDirty}_update(m){return this.style?(this._styleDirty=this._styleDirty||m,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(m){return this._update(),this._renderTaskQueue.add(m)}_cancelRenderFrame(m){this._renderTaskQueue.remove(m)}_requestDomTask(m){!this.loaded()||this.loaded()&&!this.isMoving()?m():this._domRenderTaskQueue.add(m)}_render(m){let r;this.fire(new c.z("renderstart")),++this._frameId;const l=this.painter.context.extTimerQuery,p=c.q.now(),_=this.painter.context.gl;if(this.listens("gpu-timing-frame")&&(r=_.createQuery(),_.beginQuery(l.TIME_ELAPSED_EXT,r)),this.painter.context.setDirty(),this.painter.setBaseState(),(this.isMoving()||this.isRotating()||this.isZooming())&&(this._interactionRange[0]=Math.min(this._interactionRange[0],performance.now()),this._interactionRange[1]=Math.max(this._interactionRange[1],performance.now())),this._renderTaskQueue.run(m),this._domRenderTaskQueue.run(m),this._removed)return;this._updateProjectionTransition();const x=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const V=this.transform.zoom,U=this.transform.pitch,J=c.q.now(),Q=new c.a8(V,{now:J,fadeDuration:x,pitch:U,transition:this.style.transition});this.style.update(Q)}this.style&&this.style.hasFogTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let E=!1;this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),E=this._updateAverageElevation(p),this.style.updateSources(this.transform),this._forceMarkerAndPopupUpdate()):E=this._updateAverageElevation(p);const R=this.style&&this.style._updatePlacement(this.painter,this.painter.transform,this.showCollisionBoxes,x,this._crossSourceCollisions,this.painter.replacementSource,this._scaleFactorChanged);if(this._scaleFactorChanged&&(this._scaleFactorChanged=!1),R&&(this._placementDirty=R.needsRerender),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showParseStatus:this.showParseStatus,wireframe:{terrain:this.showTerrainWireframe,layers2D:this.showLayers2DWireframe,layers3D:this.showLayers3DWireframe},showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,showTileAABBs:this.showTileAABBs,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:x,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),gpuTimingDeferredRender:!!this.listens("gpu-timing-deferred-render"),speedIndexTiming:this.speedIndexTiming}),this.fire(new c.z("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,Fe.mark(We.load),this.fire(new c.z("load"))),this.style&&this.style.hasTransitions()&&(this._styleDirty=!0),this.style&&(this.style.snow||this.style.rain)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),r){const V=c.q.now()-p;_.endQuery(l.TIME_ELAPSED_EXT),setTimeout(()=>{const U=_.getQueryParameter(r,_.QUERY_RESULT)/1e6;_.deleteQuery(r),this.fire(new c.z("gpu-timing-frame",{cpuTime:V,gpuTime:U}))},50)}if(this.listens("gpu-timing-layer")){const V=this.painter.collectGpuTimers();setTimeout(()=>{const U=this.painter.queryGpuTimers(V);this.fire(new c.z("gpu-timing-layer",{layerTimes:U}))},50)}if(this.listens("gpu-timing-deferred-render")){const V=this.painter.collectDeferredRenderGpuQueries();setTimeout(()=>{const U=this.painter.queryGpuTimeDeferredRender(V);this.fire(new c.z("gpu-timing-deferred-render",{gpuTime:U}))},50)}const B=this._sourcesDirty||this._styleDirty||this._placementDirty||E;if(B||this._repaint)this.triggerRepaint();else{const V=this.idle();if(V&&(E=this._updateAverageElevation(p,!0)),E)this.triggerRepaint();else if(this._triggerFrame(!1),V&&(this.fire(new c.z("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const U=this._calculateSpeedIndex();this.fire(new c.z("speedindexcompleted",{speedIndex:U})),this.speedIndexTiming=!1}}!this._loaded||this._fullyLoaded||B||(this._fullyLoaded=!0,Fe.mark(We.fullLoad),this._performanceMetricsCollection&&hi(this._requestManager._customAccessToken,{width:this.painter.width,height:this.painter.height,interactionRange:this._interactionRange,visibilityHidden:this._visibilityHidden,terrainEnabled:!!this.painter.style.getTerrain(),fogEnabled:!!this.painter.style.getFog(),projection:this.getProjection().name,zoom:this.transform.zoom,renderer:this.painter.context.renderer,vendor:this.painter.context.vendor}),this._authenticate())}_forceMarkerAndPopupUpdate(m){for(const r of this._markers)m&&!this.getRenderWorldCopies()&&(r._lngLat=r._lngLat.wrap()),r._update();for(const r of this._popups)!m||this.getRenderWorldCopies()||r._trackPointer||(r._lngLat=r._lngLat.wrap()),r._update()}_updateAverageElevation(m,r=!1){const l=_=>(this.transform.averageElevation=_,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return this.transform.averageElevation!==0&&l(0);const p=this.transform.elevation&&this.transform.elevation.exaggeration()!==this._averageElevationExaggeration;if(p||(r||m-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(m)){const _=this.transform.averageElevation;let x=this.transform.sampleAverageElevation();this.transform.elevation!=null&&(this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(x)?x=0:this._averageElevationLastSampledAt=m;const E=Math.abs(_-x);if(E>1){if(this._isInitialLoad||p)return this._averageElevation.jumpTo(x),l(x);this._averageElevation.easeTo(x,m,300)}else if(E>1e-4)return this._averageElevation.jumpTo(x),l(x)}return!!this._averageElevation.isEasing(m)&&l(this._averageElevation.getValue(m))}_authenticate(){Te(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,m=>{if(m&&(m.message===er||m.status===401)){const r=this.painter.context.gl;Lr(r,!1),this._logoControl instanceof xc&&this._logoControl._updateLogo(),r&&r.clear(r.DEPTH_BUFFER_BIT|r.COLOR_BUFFER_BIT|r.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new c.y(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}}),Gt(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,()=>{})}_postStyleLoadEvent(){this.style.globalId&&fe(this._requestManager._customAccessToken,{map:this,skuToken:this._requestManager._skuToken,style:this.style.globalId,importedStyles:this.style.getImportGlobalIds()})}_updateTerrain(){const m=this._isDragging();this.painter.updateTerrain(this.style,m)}_calculateSpeedIndex(){const m=this.painter.canvasCopy(),r=this.painter.getCanvasCopiesAndTimestamps();r.timeStamps.push(performance.now());const l=this.painter.context.gl,p=l.createFramebuffer();function _(x){l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,x,0);const E=new Uint8Array(l.drawingBufferWidth*l.drawingBufferHeight*4);return l.readPixels(0,0,l.drawingBufferWidth,l.drawingBufferHeight,l.RGBA,l.UNSIGNED_BYTE,E),E}return l.bindFramebuffer(l.FRAMEBUFFER,p),this._canvasPixelComparison(_(m),r.canvasCopies.map(_),r.timeStamps)}_canvasPixelComparison(m,r,l){let p=l[1]-l[0];const _=m.length/4;for(let x=0;x<r.length;x++){const E=r[x];let R=0;for(let B=0;B<E.length;B+=4)E[B]===m[B]&&E[B+1]===m[B+1]&&E[B+2]===m[B+2]&&E[B+3]===m[B+3]&&(R+=1);p+=(l[x+2]-l[x+1])*(1-R/_)}return p}remove(){this._hash&&this._hash.remove();for(const r of this._controls)r.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.indoor.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),window.removeEventListener("resize",this._onWindowResize,!1),window.removeEventListener("orientationchange",this._onWindowResize,!1),window.removeEventListener(this._fullscreenchangeEvent,this._onWindowResize,!1),window.removeEventListener("online",this._onWindowOnline,!1),window.removeEventListener("visibilitychange",this._onVisibilityChange,!1);const m=this.painter.context.gl.getExtension("WEBGL_lose_context");m&&m.loseContext(),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvasContainer.remove(),this._controlContainer.remove(),this._missingCSSCanary.remove(),this._canvas=void 0,this._canvasContainer=void 0,this._controlContainer=void 0,this._missingCSSCanary=void 0,this._container.classList.remove("mapboxgl-map"),this._container.removeEventListener("scroll",this._onMapScroll,!1),Pn.delete(this.painter.context.gl),Jr.remove(),lt.remove(),this._removed=!0,this.fire(new c.z("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(m){this._renderNextFrame=this._renderNextFrame||m,this.style&&!this._frame&&(this._frame=c.q.frame(r=>{const l=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,l&&this._render(r)}))}_preloadTiles(m){const r=this.style?this.style.getSourceCaches():[];return c.bl(r,(l,p)=>l._preloadTiles(m,p),()=>{this.triggerRepaint()}),this}_onWindowOnline(){this._update()}_onWindowResize(m){this._trackResize&&this.resize({originalEvent:m})._update()}_onVisibilityChange(){document.visibilityState==="hidden"&&this._visibilityHidden++}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(m){this._showTileBoundaries!==m&&(this._showTileBoundaries=m,this._tp.refreshUI(),this._update())}get showParseStatus(){return!!this._showParseStatus}set showParseStatus(m){this._showParseStatus!==m&&(this._showParseStatus=m,this._tp.refreshUI(),this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(m){this._showTerrainWireframe!==m&&(this._showTerrainWireframe=m,this._tp.refreshUI(),this._update())}get showLayers2DWireframe(){return!!this._showLayers2DWireframe}set showLayers2DWireframe(m){this._showLayers2DWireframe!==m&&(this._showLayers2DWireframe=m,this._tp.refreshUI(),this._update())}get showLayers3DWireframe(){return!!this._showLayers3DWireframe}set showLayers3DWireframe(m){this._showLayers3DWireframe!==m&&(this._showLayers3DWireframe=m,this._tp.refreshUI(),this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(m){this._speedIndexTiming!==m&&(this._speedIndexTiming=m,this._update())}get showPadding(){return!!this._showPadding}set showPadding(m){this._showPadding!==m&&(this._showPadding=m,this._tp.refreshUI(),this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(m){this._showCollisionBoxes!==m&&(this._showCollisionBoxes=m,this._tp.refreshUI(),m?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(m){this._showOverdrawInspector!==m&&(this._showOverdrawInspector=m,this._tp.refreshUI(),this._update())}get repaint(){return!!this._repaint}set repaint(m){this._repaint!==m&&(this._repaint=m,this._tp.refreshUI(),this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(m){this._vertices=m,this._update()}get showTileAABBs(){return!!this._showTileAABBs}set showTileAABBs(m){this._showTileAABBs!==m&&(this._showTileAABBs=m,this._tp.refreshUI(),m&&this._update())}_setCacheLimits(m,r){c.dG(m,r)}get version(){return xe}},NavigationControl:class{constructor(m={}){this.options=c.l({},Fs,m),this._container=$e("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",r=>r.preventDefault()),this.options.showZoom&&(c.aP(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",r=>{this._map&&this._map.zoomIn({},{originalEvent:r})}),$e("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",r=>{this._map&&this._map.zoomOut({},{originalEvent:r})}),$e("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(c.aP(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",r=>{const l=this._map;l&&(this.options.visualizePitch?l.resetNorthPitch({},{originalEvent:r}):l.resetNorth({},{originalEvent:r}))}),this._compassIcon=$e("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const m=this._map;if(!m)return;const r=m.getZoom(),l=r===m.getMaxZoom(),p=r===m.getMinZoom();this._zoomInButton.disabled=l,this._zoomOutButton.disabled=p,this._zoomInButton.setAttribute("aria-disabled",l.toString()),this._zoomOutButton.setAttribute("aria-disabled",p.toString())}_rotateCompassArrow(){const m=this._map;if(!m)return;const r=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(m.transform.pitch*(Math.PI/180)),.5)}) rotateX(${m.transform.pitch}deg) rotateZ(${m.transform.angle*(180/Math.PI)}deg)`:`rotate(${m.transform.angle*(180/Math.PI)}deg)`;m._requestDomTask(()=>{this._compassIcon&&(this._compassIcon.style.transform=r)})}onAdd(m){return this._map=m,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),m.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&m.on("pitch",this._rotateCompassArrow),m.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new H_(m,this._compass,this.options.visualizePitch)),this._container}onRemove(){const m=this._map;m&&(this._container.remove(),this.options.showZoom&&m.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&m.off("pitch",this._rotateCompassArrow),m.off("rotate",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0)}_createButton(m,r){const l=$e("button",m,this._container);return l.type="button",l.addEventListener("click",r),l}_setButtonTitle(m,r){if(!this._map)return;const l=this._map._getUIString(`NavigationControl.${r}`);m.setAttribute("aria-label",l),m.firstElementChild&&m.firstElementChild.setAttribute("title",l)}},GeolocateControl:class extends c.E{constructor(m={}){super();const r=navigator.geolocation;this.options=c.l({geolocation:r},Ol,m),c.aP(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation","_onDeviceOrientation"],this),this._updateMarkerRotationThrottled=Mp(this._updateMarkerRotation,20),this._numberOfWatches=0}onAdd(m){return this._map=m,this._container=$e("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkGeolocationSupport(this._setupUI),this._container}onRemove(){this._geolocationWatchID!==void 0&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1}_checkGeolocationSupport(m){const r=(l=!!this.options.geolocation)=>{this._supportsGeolocation=l,m(l)};this._supportsGeolocation!==void 0?m(this._supportsGeolocation):navigator.permissions!==void 0?navigator.permissions.query({name:"geolocation"}).then(l=>r(l.state!=="denied")).catch(()=>r()):r()}_isOutOfMapMaxBounds(m){const r=this._map.getMaxBounds(),l=m.coords;return!!r&&(l.longitude<r.getWest()||l.longitude>r.getEast()||l.latitude<r.getSouth()||l.latitude>r.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(m){if(this._map){if(this._isOutOfMapMaxBounds(m))return this._setErrorState(),this.fire(new c.z("outofmaxbounds",m)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=m,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(m),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(m),this.options.showUserLocation&&this._userLocationDotMarker.removeClassName("mapboxgl-user-location-dot-stale"),this.fire(new c.z("geolocate",m)),this._finish()}}_updateCamera(m){const r=new c.bO(m.coords.longitude,m.coords.latitude),l=m.coords.accuracy,p=this._map.getBearing(),_=c.l({bearing:p},this.options.fitBoundsOptions);this._map.fitBounds(r.toBounds(l),_,{geolocateSource:!0})}_updateMarker(m){if(m){const r=new c.bO(m.coords.longitude,m.coords.latitude);this._accuracyCircleMarker.setLngLat(r).addTo(this._map),this._userLocationDotMarker.setLngLat(r).addTo(this._map),this._accuracy=m.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const m=this._map.transform,r=c.bH(1,m._center.lat)*m.worldSize,l=Math.ceil(2*this._accuracy*r);this._circleElement.style.width=`${l}px`,this._circleElement.style.height=`${l}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&typeof this._heading=="number"?(this._userLocationDotMarker.setRotation(this._heading),this._userLocationDotMarker.addClassName("mapboxgl-user-location-show-heading")):(this._userLocationDotMarker.removeClassName("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(m){if(this._map){if(this.options.trackUserLocation)if(m.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const r=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",r),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",r),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(m.code===3&&this._noTimeout)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._userLocationDotMarker.addClassName("mapboxgl-user-location-dot-stale"),this.fire(new c.z("error",m)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(m){if(this._map!==void 0){if(this._container.addEventListener("contextmenu",r=>r.preventDefault()),this._geolocateButton=$e("button","mapboxgl-ctrl-geolocate",this._container),$e("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",m===!1){c.w("Geolocation support is not available so the GeolocateControl will be disabled.");const r=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",r),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",r)}else{const r=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",r),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",r)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=$e("div","mapboxgl-user-location"),this._dotElement.appendChild($e("div","mapboxgl-user-location-dot")),this._dotElement.appendChild($e("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new Dc({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=$e("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Dc({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",r=>{r.geolocateSource||this._watchState!=="ACTIVE_LOCK"||r.originalEvent&&r.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new c.z("trackuserlocationend")))})}}_onDeviceOrientation(m){this._userLocationDotMarker&&(m.webkitCompassHeading?this._heading=m.webkitCompassHeading:m.absolute===!0&&(this._heading=-1*m.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return c.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new c.z("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._numberOfWatches--,this._noTimeout=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new c.z("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new c.z("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let m;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._numberOfWatches++,this._numberOfWatches>1?(m={maximumAge:6e5,timeout:0},this._noTimeout=!0):(m=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,m),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=window.setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const m=()=>{"ondeviceorientationabsolute"in window?window.addEventListener("deviceorientationabsolute",this._onDeviceOrientation):window.addEventListener("deviceorientation",this._onDeviceOrientation)};typeof DeviceMotionEvent!="undefined"&&typeof DeviceMotionEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(r=>{r==="granted"&&m()}).catch(console.error):m()}_clearWatch(){this.options.geolocation.clearWatch(this._geolocationWatchID),window.removeEventListener("deviceorientation",this._onDeviceOrientation),window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:Cm,ScaleControl:class{constructor(m={}){this.options=c.l({},Bc,m),this._isNumberFormatSupported=function(){try{return new Intl.NumberFormat("en",{style:"unit",unitDisplay:"short",unit:"meter"}),!0}catch(r){return!1}}(),c.aP(["_update","_setScale","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_update(){const m=this.options.maxWidth||100,r=this._map,l=r._containerHeight/2,p=r._containerWidth/2-m/2,_=r.unproject([p,l]),x=r.unproject([p+m,l]),E=_.distanceTo(x);if(this.options.unit==="imperial"){const R=3.2808*E;R>5280?this._setScale(m,R/5280,"mile"):this._setScale(m,R,"foot")}else this.options.unit==="nautical"?this._setScale(m,E/1852,"nautical-mile"):E>=1e3?this._setScale(m,E/1e3,"kilometer"):this._setScale(m,E,"meter")}_setScale(m,r,l){this._map._requestDomTask(()=>{const p=function(x){const E=Math.pow(10,`${Math.floor(x)}`.length-1);let R=x/E;return R=R>=10?10:R>=5?5:R>=3?3:R>=2?2:R>=1?1:function(B){const V=Math.pow(10,Math.ceil(-Math.log(B)/Math.LN10));return Math.round(B*V)/V}(R),E*R}(r),_=p/r;this._container.innerHTML=this._isNumberFormatSupported&&l!=="nautical-mile"?new Intl.NumberFormat(this._language,{style:"unit",unitDisplay:"short",unit:l}).format(p):`${p}&nbsp;${dc[l]}`,this._container.style.width=m*_+"px"})}onAdd(m){return this._map=m,this._language=m.getLanguage(),this._container=$e("div","mapboxgl-ctrl mapboxgl-ctrl-scale",m.getContainer()),this._container.dir="auto",this._map.on("move",this._update),this._update(),this._container}onRemove(){this._container.remove(),this._map.off("move",this._update),this._map=void 0}_setLanguage(m){this._language=m,this._update()}setUnit(m){this.options.unit=m,this._update()}},FullscreenControl:class{constructor(m={}){this._fullscreen=!1,m&&m.container&&(m.container instanceof HTMLElement?this._container=m.container:c.w("Full screen control 'container' must be a DOM element.")),c.aP(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(m){return this._map=m,this._container||(this._container=this._map.getContainer()),this._controlContainer=$e("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",c.w("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!document.fullscreenEnabled&&!document.webkitFullscreenEnabled)}_setupUI(){const m=this._fullscreenButton=$e("button","mapboxgl-ctrl-fullscreen",this._controlContainer);$e("span","mapboxgl-ctrl-icon",m).setAttribute("aria-hidden","true"),m.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const m=this._getTitle();this._fullscreenButton.setAttribute("aria-label",m),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",m)}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(document.fullscreenElement||document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends c.E{constructor(m){super(),this.options=c.l(Object.create(Ap),m),c.aP(["_update","_onClose","remove","_onMouseEvent"],this),this._classList=new Set(m&&m.className?m.className.trim().split(/\s+/):[])}addTo(m){return this._map&&this.remove(),this._map=m,this.options.closeOnClick&&m.on("preclick",this._onClose),this.options.closeOnMove&&m.on("move",this._onClose),m.on("remove",this.remove),this._update(),m._addPopup(this),this._focusFirstElement(),this._trackPointer?(m.on("mousemove",this._onMouseEvent),m.on("mouseup",this._onMouseEvent),m._canvasContainer.classList.add("mapboxgl-track-pointer")):m.on("move",this._update),this.fire(new c.z("open")),this}isOpen(){return!!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);const m=this._map;return m&&(m.off("move",this._update),m.off("move",this._onClose),m.off("preclick",this._onClose),m.off("click",this._onClose),m.off("remove",this.remove),m.off("mousemove",this._onMouseEvent),m.off("mouseup",this._onMouseEvent),m.off("drag",this._onMouseEvent),m._canvasContainer&&m._canvasContainer.classList.remove("mapboxgl-track-pointer"),m._removePopup(this),this._map=void 0),this.fire(new c.z("close")),this}getLngLat(){return this._lngLat}setLngLat(m){this._lngLat=c.bO.convert(m),this._pos=null,this._trackPointer=!1,this._update();const r=this._map;return r&&(r.on("move",this._update),r.off("mousemove",this._onMouseEvent),r._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();const m=this._map;return m&&(m.off("move",this._update),m.on("mousemove",this._onMouseEvent),m.on("drag",this._onMouseEvent),m._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(m){return this.setDOMContent(document.createTextNode(m))}setHTML(m){const r=document.createDocumentFragment(),l=document.createElement("body");let p;for(l.innerHTML=m;p=l.firstChild,p;)r.appendChild(p);return this.setDOMContent(r)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(m){return this.options.maxWidth=m,this._update(),this}setDOMContent(m){let r=this._content;if(r)for(;r.hasChildNodes();)r.firstChild&&r.removeChild(r.firstChild);else r=this._content=$e("div","mapboxgl-popup-content",this._container||void 0);if(r.appendChild(m),this.options.closeButton){const l=this._closeButton=$e("button","mapboxgl-popup-close-button",r);l.type="button",l.setAttribute("aria-label","Close popup"),l.innerHTML='<span aria-hidden="true">&#215;</span>',l.addEventListener("click",this._onClose)}return this._update(),this._focusFirstElement(),this}addClassName(m){return this._classList.add(m),this._updateClassList(),this}removeClassName(m){return this._classList.delete(m),this._updateClassList(),this}setOffset(m){return this.options.offset=m,this._update(),this}toggleClassName(m){let r;return this._classList.delete(m)?r=!1:(this._classList.add(m),r=!0),this._updateClassList(),r}_onMouseEvent(m){this._update(m.point)}_getAnchor(m){if(this.options.anchor)return this.options.anchor;const r=this._map,l=this._container,p=this._pos;if(!r||!l||!p)return"bottom";const _=l.offsetWidth,x=l.offsetHeight,E=p.x<_/2,R=p.x>r.transform.width-_/2;if(p.y+m<x)return E?"top-left":R?"top-right":"top";if(p.y>r.transform.height-x){if(E)return"bottom-left";if(R)return"bottom-right"}return E?"left":R?"right":"bottom"}_updateClassList(){const m=this._container;if(!m)return;const r=[...this._classList];r.push("mapboxgl-popup"),this._anchor&&r.push(`mapboxgl-popup-anchor-${this._anchor}`),this._trackPointer&&r.push("mapboxgl-popup-track-pointer"),m.className=r.join(" ")}_update(m){const r=this._map,l=this._content;if(!r||!this._lngLat&&!this._trackPointer||!l)return;let p=this._container;if(p||(p=this._container=$e("div","mapboxgl-popup",r.getContainer()),this._tip=$e("div","mapboxgl-popup-tip",p),p.appendChild(l)),this.options.maxWidth&&p.style.maxWidth!==this.options.maxWidth&&(p.style.maxWidth=this.options.maxWidth),r.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Sm(this._lngLat,this._pos,r.transform)),!this._trackPointer||m){const _=this._pos=this._trackPointer&&m instanceof c.P?m:r.project(this._lngLat),x=Dp(this.options.offset),E=this._anchor=this._getAnchor(x.y),R=Dp(this.options.offset,E),B=_.add(R).round();r._requestDomTask(()=>{this._container&&E&&(this._container.style.transform=`${_u[E]} translate(${B.x}px,${B.y}px)`)})}if(!this._marker&&r._showingGlobe()){const _=c.dH(r.transform,this._lngLat)?0:1;this._setOpacity(_)}this._updateClassList()}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const m=this._container.querySelector(rl);m&&m.focus()}_onClose(){this.remove()}_setOpacity(m){this._container&&(this._container.style.opacity=`${m}`),this._content&&(this._content.style.pointerEvents=m?"auto":"none")}},Marker:Dc,Style:ns,LngLat:c.bO,LngLatBounds:c.az,Point:c.P,MercatorCoordinate:c.aa,FreeCameraOptions:ku,Evented:c.E,config:c.e,prewarm:c.dM,clearPrewarmedResources:c.dN,get accessToken(){return c.e.ACCESS_TOKEN},set accessToken(m){c.e.ACCESS_TOKEN=m},get baseApiUrl(){return c.e.API_URL},set baseApiUrl(m){c.e.API_URL=m},get workerCount(){return c.dO.workerCount},set workerCount(m){c.dO.workerCount=m},get maxParallelImageRequests(){return c.e.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(m){c.e.MAX_PARALLEL_IMAGE_REQUESTS=m},clearStorage(m){c.dP(m)},get workerUrl(){return c.dQ.workerUrl},set workerUrl(m){c.dQ.workerUrl=m},get workerClass(){return c.dQ.workerClass},set workerClass(m){c.dQ.workerClass=m},get workerParams(){return c.dQ.workerParams},set workerParams(m){c.dQ.workerParams=m},get dracoUrl(){return c.dR()},set dracoUrl(m){c.dS(m)},get meshoptUrl(){return c.dT()},set meshoptUrl(m){c.dU(m)},setNow:c.q.setNow,restoreNow:c.q.restoreNow}});var Y=s;return Y})},14224:function(Zr){var jt=Zr.exports={},F,s;function ot(){throw new Error("setTimeout has not been defined")}function Y(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?F=setTimeout:F=ot}catch(qe){F=ot}try{typeof clearTimeout=="function"?s=clearTimeout:s=Y}catch(qe){s=Y}})();function c(qe){if(F===setTimeout)return setTimeout(qe,0);if((F===ot||!F)&&setTimeout)return F=setTimeout,setTimeout(qe,0);try{return F(qe,0)}catch(dt){try{return F.call(null,qe,0)}catch(Je){return F.call(this,qe,0)}}}function xe(qe){if(s===clearTimeout)return clearTimeout(qe);if((s===Y||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(qe);try{return s(qe)}catch(dt){try{return s.call(null,qe)}catch(Je){return s.call(this,qe)}}}var We=[],Fe=!1,Me,ve=-1;function te(){!Fe||!Me||(Fe=!1,Me.length?We=Me.concat(We):ve=-1,We.length&&Ke())}function Ke(){if(!Fe){var qe=c(te);Fe=!0;for(var dt=We.length;dt;){for(Me=We,We=[];++ve<dt;)Me&&Me[ve].run();ve=-1,dt=We.length}Me=null,Fe=!1,xe(qe)}}jt.nextTick=function(qe){var dt=new Array(arguments.length-1);if(arguments.length>1)for(var Je=1;Je<arguments.length;Je++)dt[Je-1]=arguments[Je];We.push(new $e(qe,dt)),We.length===1&&!Fe&&c(Ke)};function $e(qe,dt){this.fun=qe,this.array=dt}$e.prototype.run=function(){this.fun.apply(null,this.array)},jt.title="browser",jt.browser=!0,jt.env={},jt.argv=[],jt.version="",jt.versions={};function He(){}jt.on=He,jt.addListener=He,jt.once=He,jt.off=He,jt.removeListener=He,jt.removeAllListeners=He,jt.emit=He,jt.prependListener=He,jt.prependOnceListener=He,jt.listeners=function(qe){return[]},jt.binding=function(qe){throw new Error("process.binding is not supported")},jt.cwd=function(){return"/"},jt.chdir=function(qe){throw new Error("process.chdir is not supported")},jt.umask=function(){return 0}},12977:function(Zr,jt,F){"use strict";var s=F(23022),ot=F(54153),Y=F(38926),c=F(89692),xe=F(58190),We=F(82187),Fe=F.n(We),Me=F(93954),ve=F(75271),te=["prefixCls","className","style","checked","disabled","defaultChecked","type","title","onChange"],Ke=(0,ve.forwardRef)(function($e,He){var qe=$e.prefixCls,dt=qe===void 0?"rc-checkbox":qe,Je=$e.className,ht=$e.style,bt=$e.checked,Ue=$e.disabled,kt=$e.defaultChecked,yt=kt===void 0?!1:kt,Et=$e.type,Vt=Et===void 0?"checkbox":Et,Lt=$e.title,hr=$e.onChange,er=(0,xe.Z)($e,te),Hn=(0,ve.useRef)(null),Ze=(0,ve.useRef)(null),Nt=(0,Me.Z)(yt,{value:bt}),sn=(0,c.Z)(Nt,2),Xt=sn[0],Le=sn[1];(0,ve.useImperativeHandle)(He,function(){return{focus:function(lt){var Gt;(Gt=Hn.current)===null||Gt===void 0||Gt.focus(lt)},blur:function(){var lt;(lt=Hn.current)===null||lt===void 0||lt.blur()},input:Hn.current,nativeElement:Ze.current}});var $n=Fe()(dt,Je,(0,Y.Z)((0,Y.Z)({},"".concat(dt,"-checked"),Xt),"".concat(dt,"-disabled"),Ue)),cn=function(lt){Ue||("checked"in $e||Le(lt.target.checked),hr==null||hr({target:(0,ot.Z)((0,ot.Z)({},$e),{},{type:Vt,checked:lt.target.checked}),stopPropagation:function(){lt.stopPropagation()},preventDefault:function(){lt.preventDefault()},nativeEvent:lt.nativeEvent}))};return ve.createElement("span",{className:$n,title:Lt,style:ht,ref:Ze},ve.createElement("input",(0,s.Z)({},er,{className:"".concat(dt,"-input"),ref:Hn,onChange:cn,disabled:Ue,checked:!!Xt,type:Vt})),ve.createElement("span",{className:"".concat(dt,"-inner")}))});jt.Z=Ke},93930:function(Zr,jt,F){"use strict";F.d(jt,{gN:function(){return $o},zb:function(){return kt},RV:function(){return Na},aV:function(){return Oo},ZM:function(){return Et},ZP:function(){return ko},cI:function(){return Ao},qo:function(){return uo}});var s=F(75271),ot=F(23022),Y=F(58190),c=F(57250),xe=F(90594),We=F(54153),Fe=F(46865),Me=F(59295),ve=F(45985),te=F(63662),Ke=F(76525),$e=F(56216),He=F(38926),qe=F(81626),dt=F(47996),Je=F(4449),ht="RC_FORM_INTERNAL_HOOKS",bt=function(){(0,Je.ZP)(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},Ue=s.createContext({getFieldValue:bt,getFieldsValue:bt,getFieldError:bt,getFieldWarning:bt,getFieldsError:bt,isFieldsTouched:bt,isFieldTouched:bt,isFieldValidating:bt,isFieldsValidating:bt,resetFields:bt,setFields:bt,setFieldValue:bt,setFieldsValue:bt,validateFields:bt,submit:bt,getInternalHooks:function(){return bt(),{dispatch:bt,initEntityValue:bt,registerField:bt,useSubscribe:bt,setInitialValues:bt,destroyForm:bt,setCallbacks:bt,registerWatch:bt,getFields:bt,setValidateMessages:bt,setPreserve:bt,getInitialValue:bt}}}),kt=Ue,yt=s.createContext(null),Et=yt;function Vt(rn){return rn==null?[]:Array.isArray(rn)?rn:[rn]}function Lt(rn){return rn&&!!rn._init}var hr=F(5147);function er(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var Ge=JSON.parse(JSON.stringify(this));return Ge.clone=this.clone,Ge}}}var Hn=er(),Ze=F(51123),Nt=F(84255);function sn(rn){try{return Function.toString.call(rn).indexOf("[native code]")!==-1}catch(Ge){return typeof rn=="function"}}var Xt=F(57649);function Le(rn,Ge,_e){if((0,Xt.Z)())return Reflect.construct.apply(null,arguments);var Ve=[null];Ve.push.apply(Ve,Ge);var ze=new(rn.bind.apply(rn,Ve));return _e&&(0,Nt.Z)(ze,_e.prototype),ze}function $n(rn){var Ge=typeof Map=="function"?new Map:void 0;return $n=function(Ve){if(Ve===null||!sn(Ve))return Ve;if(typeof Ve!="function")throw new TypeError("Super expression must either be null or a function");if(Ge!==void 0){if(Ge.has(Ve))return Ge.get(Ve);Ge.set(Ve,ze)}function ze(){return Le(Ve,arguments,(0,Ze.Z)(this).constructor)}return ze.prototype=Object.create(Ve.prototype,{constructor:{value:ze,enumerable:!1,writable:!0,configurable:!0}}),(0,Nt.Z)(ze,Ve)},$n(rn)}var cn=F(14224),En=/%[sdj%]/g,lt=function(){};function Gt(rn){if(!rn||!rn.length)return null;var Ge={};return rn.forEach(function(_e){var Ve=_e.field;Ge[Ve]=Ge[Ve]||[],Ge[Ve].push(_e)}),Ge}function bn(rn){for(var Ge=arguments.length,_e=new Array(Ge>1?Ge-1:0),Ve=1;Ve<Ge;Ve++)_e[Ve-1]=arguments[Ve];var ze=0,At=_e.length;if(typeof rn=="function")return rn.apply(null,_e);if(typeof rn=="string"){var an=rn.replace(En,function(Kn){if(Kn==="%%")return"%";if(ze>=At)return Kn;switch(Kn){case"%s":return String(_e[ze++]);case"%d":return Number(_e[ze++]);case"%j":try{return JSON.stringify(_e[ze++])}catch(Cr){return"[Circular]"}break;default:return Kn}});return an}return rn}function fe(rn){return rn==="string"||rn==="url"||rn==="hex"||rn==="email"||rn==="date"||rn==="pattern"}function Wt(rn,Ge){return!!(rn==null||Ge==="array"&&Array.isArray(rn)&&!rn.length||fe(Ge)&&typeof rn=="string"&&!rn)}function hi(rn){return Object.keys(rn).length===0}function Jr(rn,Ge,_e){var Ve=[],ze=0,At=rn.length;function an(Kn){Ve.push.apply(Ve,(0,Fe.Z)(Kn||[])),ze++,ze===At&&_e(Ve)}rn.forEach(function(Kn){Ge(Kn,an)})}function Te(rn,Ge,_e){var Ve=0,ze=rn.length;function At(an){if(an&&an.length){_e(an);return}var Kn=Ve;Ve=Ve+1,Kn<ze?Ge(rn[Kn],At):_e([])}At([])}function Pn(rn){var Ge=[];return Object.keys(rn).forEach(function(_e){Ge.push.apply(Ge,(0,Fe.Z)(rn[_e]||[]))}),Ge}var Lr=function(rn){(0,Ke.Z)(_e,rn);var Ge=(0,$e.Z)(_e);function _e(Ve,ze){var At;return(0,Me.Z)(this,_e),At=Ge.call(this,"Async Validation Error"),(0,He.Z)((0,te.Z)(At),"errors",void 0),(0,He.Z)((0,te.Z)(At),"fields",void 0),At.errors=Ve,At.fields=ze,At}return(0,ve.Z)(_e)}($n(Error));function kr(rn,Ge,_e,Ve,ze){if(Ge.first){var At=new Promise(function(wi,yo){var yi=function(zi){return Ve(zi),zi.length?yo(new Lr(zi,Gt(zi))):wi(ze)},Ei=Pn(rn);Te(Ei,_e,yi)});return At.catch(function(wi){return wi}),At}var an=Ge.firstFields===!0?Object.keys(rn):Ge.firstFields||[],Kn=Object.keys(rn),Cr=Kn.length,Mr=0,yr=[],si=new Promise(function(wi,yo){var yi=function(ni){if(yr.push.apply(yr,ni),Mr++,Mr===Cr)return Ve(yr),yr.length?yo(new Lr(yr,Gt(yr))):wi(ze)};Kn.length||(Ve(yr),wi(ze)),Kn.forEach(function(Ei){var ni=rn[Ei];an.indexOf(Ei)!==-1?Te(ni,_e,yi):Jr(ni,_e,yi)})});return si.catch(function(wi){return wi}),si}function In(rn){return!!(rn&&rn.message!==void 0)}function Nr(rn,Ge){for(var _e=rn,Ve=0;Ve<Ge.length;Ve++){if(_e==null)return _e;_e=_e[Ge[Ve]]}return _e}function vi(rn,Ge){return function(_e){var Ve;return rn.fullFields?Ve=Nr(Ge,rn.fullFields):Ve=Ge[_e.field||rn.fullField],In(_e)?(_e.field=_e.field||rn.fullField,_e.fieldValue=Ve,_e):{message:typeof _e=="function"?_e():_e,fieldValue:Ve,field:_e.field||rn.fullField}}}function sr(rn,Ge){if(Ge){for(var _e in Ge)if(Ge.hasOwnProperty(_e)){var Ve=Ge[_e];(0,hr.Z)(Ve)==="object"&&(0,hr.Z)(rn[_e])==="object"?rn[_e]=(0,We.Z)((0,We.Z)({},rn[_e]),Ve):rn[_e]=Ve}}return rn}var it="enum",Ot=function(Ge,_e,Ve,ze,At){Ge[it]=Array.isArray(Ge[it])?Ge[it]:[],Ge[it].indexOf(_e)===-1&&ze.push(bn(At.messages[it],Ge.fullField,Ge[it].join(", ")))},zn=Ot,dn=function(Ge,_e,Ve,ze,At){if(Ge.pattern){if(Ge.pattern instanceof RegExp)Ge.pattern.lastIndex=0,Ge.pattern.test(_e)||ze.push(bn(At.messages.pattern.mismatch,Ge.fullField,_e,Ge.pattern));else if(typeof Ge.pattern=="string"){var an=new RegExp(Ge.pattern);an.test(_e)||ze.push(bn(At.messages.pattern.mismatch,Ge.fullField,_e,Ge.pattern))}}},fn=dn,xr=function(Ge,_e,Ve,ze,At){var an=typeof Ge.len=="number",Kn=typeof Ge.min=="number",Cr=typeof Ge.max=="number",Mr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,yr=_e,si=null,wi=typeof _e=="number",yo=typeof _e=="string",yi=Array.isArray(_e);if(wi?si="number":yo?si="string":yi&&(si="array"),!si)return!1;yi&&(yr=_e.length),yo&&(yr=_e.replace(Mr,"_").length),an?yr!==Ge.len&&ze.push(bn(At.messages[si].len,Ge.fullField,Ge.len)):Kn&&!Cr&&yr<Ge.min?ze.push(bn(At.messages[si].min,Ge.fullField,Ge.min)):Cr&&!Kn&&yr>Ge.max?ze.push(bn(At.messages[si].max,Ge.fullField,Ge.max)):Kn&&Cr&&(yr<Ge.min||yr>Ge.max)&&ze.push(bn(At.messages[si].range,Ge.fullField,Ge.min,Ge.max))},Un=xr,Xr=function(Ge,_e,Ve,ze,At,an){Ge.required&&(!Ve.hasOwnProperty(Ge.field)||Wt(_e,an||Ge.type))&&ze.push(bn(At.messages.required,Ge.fullField))},ei=Xr,Wr,ti=function(){if(Wr)return Wr;var rn="[a-fA-F\\d:]",Ge=function(Ea){return Ea&&Ea.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(rn,")|(?<=").concat(rn,")(?=\\s|$))"):""},_e="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",Ve="[a-fA-F\\d]{1,4}",ze=["(?:".concat(Ve,":){7}(?:").concat(Ve,"|:)"),"(?:".concat(Ve,":){6}(?:").concat(_e,"|:").concat(Ve,"|:)"),"(?:".concat(Ve,":){5}(?::").concat(_e,"|(?::").concat(Ve,"){1,2}|:)"),"(?:".concat(Ve,":){4}(?:(?::").concat(Ve,"){0,1}:").concat(_e,"|(?::").concat(Ve,"){1,3}|:)"),"(?:".concat(Ve,":){3}(?:(?::").concat(Ve,"){0,2}:").concat(_e,"|(?::").concat(Ve,"){1,4}|:)"),"(?:".concat(Ve,":){2}(?:(?::").concat(Ve,"){0,3}:").concat(_e,"|(?::").concat(Ve,"){1,5}|:)"),"(?:".concat(Ve,":){1}(?:(?::").concat(Ve,"){0,4}:").concat(_e,"|(?::").concat(Ve,"){1,6}|:)"),"(?::(?:(?::".concat(Ve,"){0,5}:").concat(_e,"|(?::").concat(Ve,"){1,7}|:))")],At="(?:%[0-9a-zA-Z]{1,})?",an="(?:".concat(ze.join("|"),")").concat(At),Kn=new RegExp("(?:^".concat(_e,"$)|(?:^").concat(an,"$)")),Cr=new RegExp("^".concat(_e,"$")),Mr=new RegExp("^".concat(an,"$")),yr=function(Ea){return Ea&&Ea.exact?Kn:new RegExp("(?:".concat(Ge(Ea)).concat(_e).concat(Ge(Ea),")|(?:").concat(Ge(Ea)).concat(an).concat(Ge(Ea),")"),"g")};yr.v4=function(ua){return ua&&ua.exact?Cr:new RegExp("".concat(Ge(ua)).concat(_e).concat(Ge(ua)),"g")},yr.v6=function(ua){return ua&&ua.exact?Mr:new RegExp("".concat(Ge(ua)).concat(an).concat(Ge(ua)),"g")};var si="(?:(?:[a-z]+:)?//)",wi="(?:\\S+(?::\\S*)?@)?",yo=yr.v4().source,yi=yr.v6().source,Ei="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",ni="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",zi="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",Ai="(?::\\d{2,5})?",_o='(?:[/?#][^\\s"]*)?',na="(?:".concat(si,"|www\\.)").concat(wi,"(?:localhost|").concat(yo,"|").concat(yi,"|").concat(Ei).concat(ni).concat(zi,")").concat(Ai).concat(_o);return Wr=new RegExp("(?:^".concat(na,"$)"),"i"),Wr},gr={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},mr={integer:function(Ge){return mr.number(Ge)&&parseInt(Ge,10)===Ge},float:function(Ge){return mr.number(Ge)&&!mr.integer(Ge)},array:function(Ge){return Array.isArray(Ge)},regexp:function(Ge){if(Ge instanceof RegExp)return!0;try{return!!new RegExp(Ge)}catch(_e){return!1}},date:function(Ge){return typeof Ge.getTime=="function"&&typeof Ge.getMonth=="function"&&typeof Ge.getYear=="function"&&!isNaN(Ge.getTime())},number:function(Ge){return isNaN(Ge)?!1:typeof Ge=="number"},object:function(Ge){return(0,hr.Z)(Ge)==="object"&&!mr.array(Ge)},method:function(Ge){return typeof Ge=="function"},email:function(Ge){return typeof Ge=="string"&&Ge.length<=320&&!!Ge.match(gr.email)},url:function(Ge){return typeof Ge=="string"&&Ge.length<=2048&&!!Ge.match(ti())},hex:function(Ge){return typeof Ge=="string"&&!!Ge.match(gr.hex)}},fr=function(Ge,_e,Ve,ze,At){if(Ge.required&&_e===void 0){ei(Ge,_e,Ve,ze,At);return}var an=["integer","float","array","regexp","object","method","email","number","date","url","hex"],Kn=Ge.type;an.indexOf(Kn)>-1?mr[Kn](_e)||ze.push(bn(At.messages.types[Kn],Ge.fullField,Ge.type)):Kn&&(0,hr.Z)(_e)!==Ge.type&&ze.push(bn(At.messages.types[Kn],Ge.fullField,Ge.type))},wr=fr,vr=function(Ge,_e,Ve,ze,At){(/^\s+$/.test(_e)||_e==="")&&ze.push(bn(At.messages.whitespace,Ge.fullField))},jr=vr,Xn={required:ei,whitespace:jr,type:wr,range:Un,enum:zn,pattern:fn},lr=function(Ge,_e,Ve,ze,At){var an=[],Kn=Ge.required||!Ge.required&&ze.hasOwnProperty(Ge.field);if(Kn){if(Wt(_e)&&!Ge.required)return Ve();Xn.required(Ge,_e,ze,an,At)}Ve(an)},Yr=lr,Fn=function(Ge,_e,Ve,ze,At){var an=[],Kn=Ge.required||!Ge.required&&ze.hasOwnProperty(Ge.field);if(Kn){if(_e==null&&!Ge.required)return Ve();Xn.required(Ge,_e,ze,an,At,"array"),_e!=null&&(Xn.type(Ge,_e,ze,an,At),Xn.range(Ge,_e,ze,an,At))}Ve(an)},Si=Fn,mi=function(Ge,_e,Ve,ze,At){var an=[],Kn=Ge.required||!Ge.required&&ze.hasOwnProperty(Ge.field);if(Kn){if(Wt(_e)&&!Ge.required)return Ve();Xn.required(Ge,_e,ze,an,At),_e!==void 0&&Xn.type(Ge,_e,ze,an,At)}Ve(an)},Hi=mi,ho=function(Ge,_e,Ve,ze,At){var an=[],Kn=Ge.required||!Ge.required&&ze.hasOwnProperty(Ge.field);if(Kn){if(Wt(_e,"date")&&!Ge.required)return Ve();if(Xn.required(Ge,_e,ze,an,At),!Wt(_e,"date")){var Cr;_e instanceof Date?Cr=_e:Cr=new Date(_e),Xn.type(Ge,Cr,ze,an,At),Cr&&Xn.range(Ge,Cr.getTime(),ze,an,At)}}Ve(an)},Ur=ho,eo="enum",en=function(Ge,_e,Ve,ze,At){var an=[],Kn=Ge.required||!Ge.required&&ze.hasOwnProperty(Ge.field);if(Kn){if(Wt(_e)&&!Ge.required)return Ve();Xn.required(Ge,_e,ze,an,At),_e!==void 0&&Xn[eo](Ge,_e,ze,an,At)}Ve(an)},Mn=en,Qn=function(Ge,_e,Ve,ze,At){var an=[],Kn=Ge.required||!Ge.required&&ze.hasOwnProperty(Ge.field);if(Kn){if(Wt(_e)&&!Ge.required)return Ve();Xn.required(Ge,_e,ze,an,At),_e!==void 0&&(Xn.type(Ge,_e,ze,an,At),Xn.range(Ge,_e,ze,an,At))}Ve(an)},Dr=Qn,ui=function(Ge,_e,Ve,ze,At){var an=[],Kn=Ge.required||!Ge.required&&ze.hasOwnProperty(Ge.field);if(Kn){if(Wt(_e)&&!Ge.required)return Ve();Xn.required(Ge,_e,ze,an,At),_e!==void 0&&(Xn.type(Ge,_e,ze,an,At),Xn.range(Ge,_e,ze,an,At))}Ve(an)},oi=ui,Xi=function(Ge,_e,Ve,ze,At){var an=[],Kn=Ge.required||!Ge.required&&ze.hasOwnProperty(Ge.field);if(Kn){if(Wt(_e)&&!Ge.required)return Ve();Xn.required(Ge,_e,ze,an,At),_e!==void 0&&Xn.type(Ge,_e,ze,an,At)}Ve(an)},Ji=Xi,Ro=function(Ge,_e,Ve,ze,At){var an=[],Kn=Ge.required||!Ge.required&&ze.hasOwnProperty(Ge.field);if(Kn){if(_e===""&&(_e=void 0),Wt(_e)&&!Ge.required)return Ve();Xn.required(Ge,_e,ze,an,At),_e!==void 0&&(Xn.type(Ge,_e,ze,an,At),Xn.range(Ge,_e,ze,an,At))}Ve(an)},xo=Ro,io=function(Ge,_e,Ve,ze,At){var an=[],Kn=Ge.required||!Ge.required&&ze.hasOwnProperty(Ge.field);if(Kn){if(Wt(_e)&&!Ge.required)return Ve();Xn.required(Ge,_e,ze,an,At),_e!==void 0&&Xn.type(Ge,_e,ze,an,At)}Ve(an)},Oe=io,de=function(Ge,_e,Ve,ze,At){var an=[],Kn=Ge.required||!Ge.required&&ze.hasOwnProperty(Ge.field);if(Kn){if(Wt(_e,"string")&&!Ge.required)return Ve();Xn.required(Ge,_e,ze,an,At),Wt(_e,"string")||Xn.pattern(Ge,_e,ze,an,At)}Ve(an)},X=de,ke=function(Ge,_e,Ve,ze,At){var an=[],Kn=Ge.required||!Ge.required&&ze.hasOwnProperty(Ge.field);if(Kn){if(Wt(_e)&&!Ge.required)return Ve();Xn.required(Ge,_e,ze,an,At),Wt(_e)||Xn.type(Ge,_e,ze,an,At)}Ve(an)},he=ke,Ye=function(Ge,_e,Ve,ze,At){var an=[],Kn=Array.isArray(_e)?"array":(0,hr.Z)(_e);Xn.required(Ge,_e,ze,an,At,Kn),Ve(an)},et=Ye,tn=function(Ge,_e,Ve,ze,At){var an=[],Kn=Ge.required||!Ge.required&&ze.hasOwnProperty(Ge.field);if(Kn){if(Wt(_e,"string")&&!Ge.required)return Ve();Xn.required(Ge,_e,ze,an,At,"string"),Wt(_e,"string")||(Xn.type(Ge,_e,ze,an,At),Xn.range(Ge,_e,ze,an,At),Xn.pattern(Ge,_e,ze,an,At),Ge.whitespace===!0&&Xn.whitespace(Ge,_e,ze,an,At))}Ve(an)},Tt=tn,nn=function(Ge,_e,Ve,ze,At){var an=Ge.type,Kn=[],Cr=Ge.required||!Ge.required&&ze.hasOwnProperty(Ge.field);if(Cr){if(Wt(_e,an)&&!Ge.required)return Ve();Xn.required(Ge,_e,ze,Kn,At,an),Wt(_e,an)||Xn.type(Ge,_e,ze,Kn,At)}Ve(Kn)},vn=nn,Xe={string:Tt,method:Ji,number:xo,boolean:Hi,regexp:he,integer:oi,float:Dr,array:Si,object:Oe,enum:Mn,pattern:X,date:Ur,url:vn,hex:vn,email:vn,required:et,any:Yr},Mt=function(){function rn(Ge){(0,Me.Z)(this,rn),(0,He.Z)(this,"rules",null),(0,He.Z)(this,"_messages",Hn),this.define(Ge)}return(0,ve.Z)(rn,[{key:"define",value:function(_e){var Ve=this;if(!_e)throw new Error("Cannot configure a schema with no rules");if((0,hr.Z)(_e)!=="object"||Array.isArray(_e))throw new Error("Rules must be an object");this.rules={},Object.keys(_e).forEach(function(ze){var At=_e[ze];Ve.rules[ze]=Array.isArray(At)?At:[At]})}},{key:"messages",value:function(_e){return _e&&(this._messages=sr(er(),_e)),this._messages}},{key:"validate",value:function(_e){var Ve=this,ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},At=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},an=_e,Kn=ze,Cr=At;if(typeof Kn=="function"&&(Cr=Kn,Kn={}),!this.rules||Object.keys(this.rules).length===0)return Cr&&Cr(null,an),Promise.resolve(an);function Mr(yi){var Ei=[],ni={};function zi(_o){if(Array.isArray(_o)){var na;Ei=(na=Ei).concat.apply(na,(0,Fe.Z)(_o))}else Ei.push(_o)}for(var Ai=0;Ai<yi.length;Ai++)zi(yi[Ai]);Ei.length?(ni=Gt(Ei),Cr(Ei,ni)):Cr(null,an)}if(Kn.messages){var yr=this.messages();yr===Hn&&(yr=er()),sr(yr,Kn.messages),Kn.messages=yr}else Kn.messages=this.messages();var si={},wi=Kn.keys||Object.keys(this.rules);wi.forEach(function(yi){var Ei=Ve.rules[yi],ni=an[yi];Ei.forEach(function(zi){var Ai=zi;typeof Ai.transform=="function"&&(an===_e&&(an=(0,We.Z)({},an)),ni=an[yi]=Ai.transform(ni),ni!=null&&(Ai.type=Ai.type||(Array.isArray(ni)?"array":(0,hr.Z)(ni)))),typeof Ai=="function"?Ai={validator:Ai}:Ai=(0,We.Z)({},Ai),Ai.validator=Ve.getValidationMethod(Ai),Ai.validator&&(Ai.field=yi,Ai.fullField=Ai.fullField||yi,Ai.type=Ve.getType(Ai),si[yi]=si[yi]||[],si[yi].push({rule:Ai,value:ni,source:an,field:yi}))})});var yo={};return kr(si,Kn,function(yi,Ei){var ni=yi.rule,zi=(ni.type==="object"||ni.type==="array")&&((0,hr.Z)(ni.fields)==="object"||(0,hr.Z)(ni.defaultField)==="object");zi=zi&&(ni.required||!ni.required&&yi.value),ni.field=yi.field;function Ai(Ia,xa){return(0,We.Z)((0,We.Z)({},xa),{},{fullField:"".concat(ni.fullField,".").concat(Ia),fullFields:ni.fullFields?[].concat((0,Fe.Z)(ni.fullFields),[Ia]):[Ia]})}function _o(){var Ia=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],xa=Array.isArray(Ia)?Ia:[Ia];!Kn.suppressWarning&&xa.length&&rn.warning("async-validator:",xa),xa.length&&ni.message!==void 0&&(xa=[].concat(ni.message));var ya=xa.map(vi(ni,an));if(Kn.first&&ya.length)return yo[ni.field]=1,Ei(ya);if(!zi)Ei(ya);else{if(ni.required&&!yi.value)return ni.message!==void 0?ya=[].concat(ni.message).map(vi(ni,an)):Kn.error&&(ya=[Kn.error(ni,bn(Kn.messages.required,ni.field))]),Ei(ya);var ja={};ni.defaultField&&Object.keys(yi.value).map(function(Ms){ja[Ms]=ni.defaultField}),ja=(0,We.Z)((0,We.Z)({},ja),yi.rule.fields);var Ca={};Object.keys(ja).forEach(function(Ms){var _s=ja[Ms],il=Array.isArray(_s)?_s:[_s];Ca[Ms]=il.map(Ai.bind(null,Ms))});var Ps=new rn(Ca);Ps.messages(Kn.messages),yi.rule.options&&(yi.rule.options.messages=Kn.messages,yi.rule.options.error=Kn.error),Ps.validate(yi.value,yi.rule.options||Kn,function(Ms){var _s=[];ya&&ya.length&&_s.push.apply(_s,(0,Fe.Z)(ya)),Ms&&Ms.length&&_s.push.apply(_s,(0,Fe.Z)(Ms)),Ei(_s.length?_s:null)})}}var na;if(ni.asyncValidator)na=ni.asyncValidator(ni,yi.value,_o,yi.source,Kn);else if(ni.validator){try{na=ni.validator(ni,yi.value,_o,yi.source,Kn)}catch(Ia){var ua,Ea;(ua=(Ea=console).error)===null||ua===void 0||ua.call(Ea,Ia),Kn.suppressValidatorError||setTimeout(function(){throw Ia},0),_o(Ia.message)}na===!0?_o():na===!1?_o(typeof ni.message=="function"?ni.message(ni.fullField||ni.field):ni.message||"".concat(ni.fullField||ni.field," fails")):na instanceof Array?_o(na):na instanceof Error&&_o(na.message)}na&&na.then&&na.then(function(){return _o()},function(Ia){return _o(Ia)})},function(yi){Mr(yi)},an)}},{key:"getType",value:function(_e){if(_e.type===void 0&&_e.pattern instanceof RegExp&&(_e.type="pattern"),typeof _e.validator!="function"&&_e.type&&!Xe.hasOwnProperty(_e.type))throw new Error(bn("Unknown rule type %s",_e.type));return _e.type||"string"}},{key:"getValidationMethod",value:function(_e){if(typeof _e.validator=="function")return _e.validator;var Ve=Object.keys(_e),ze=Ve.indexOf("message");return ze!==-1&&Ve.splice(ze,1),Ve.length===1&&Ve[0]==="required"?Xe.required:Xe[this.getType(_e)]||void 0}}]),rn}();(0,He.Z)(Mt,"register",function(Ge,_e){if(typeof _e!="function")throw new Error("Cannot register a validator by type, validator is not a function");Xe[Ge]=_e}),(0,He.Z)(Mt,"warning",lt),(0,He.Z)(Mt,"messages",Hn),(0,He.Z)(Mt,"validators",Xe);var Ht=Mt,Qt="'${name}' is not a valid ${type}",ct={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:Qt,method:Qt,array:Qt,object:Qt,number:Qt,date:Qt,boolean:Qt,integer:Qt,float:Qt,regexp:Qt,email:Qt,url:Qt,hex:Qt},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},rt=F(27636),xn=Ht;function yn(rn,Ge){return rn.replace(/\\?\$\{\w+\}/g,function(_e){if(_e.startsWith("\\"))return _e.slice(1);var Ve=_e.slice(2,-1);return Ge[Ve]})}var Zn="CODE_LOGIC_ERROR";function _r(rn,Ge,_e,Ve,ze){return ir.apply(this,arguments)}function ir(){return ir=(0,xe.Z)((0,c.Z)().mark(function rn(Ge,_e,Ve,ze,At){var an,Kn,Cr,Mr,yr,si,wi,yo,yi;return(0,c.Z)().wrap(function(ni){for(;;)switch(ni.prev=ni.next){case 0:return an=(0,We.Z)({},Ve),delete an.ruleIndex,xn.warning=function(){},an.validator&&(Kn=an.validator,an.validator=function(){try{return Kn.apply(void 0,arguments)}catch(zi){return console.error(zi),Promise.reject(Zn)}}),Cr=null,an&&an.type==="array"&&an.defaultField&&(Cr=an.defaultField,delete an.defaultField),Mr=new xn((0,He.Z)({},Ge,[an])),yr=(0,rt.T)(ct,ze.validateMessages),Mr.messages(yr),si=[],ni.prev=10,ni.next=13,Promise.resolve(Mr.validate((0,He.Z)({},Ge,_e),(0,We.Z)({},ze)));case 13:ni.next=18;break;case 15:ni.prev=15,ni.t0=ni.catch(10),ni.t0.errors&&(si=ni.t0.errors.map(function(zi,Ai){var _o=zi.message,na=_o===Zn?yr.default:_o;return s.isValidElement(na)?s.cloneElement(na,{key:"error_".concat(Ai)}):na}));case 18:if(!(!si.length&&Cr)){ni.next=23;break}return ni.next=21,Promise.all(_e.map(function(zi,Ai){return _r("".concat(Ge,".").concat(Ai),zi,Cr,ze,At)}));case 21:return wi=ni.sent,ni.abrupt("return",wi.reduce(function(zi,Ai){return[].concat((0,Fe.Z)(zi),(0,Fe.Z)(Ai))},[]));case 23:return yo=(0,We.Z)((0,We.Z)({},Ve),{},{name:Ge,enum:(Ve.enum||[]).join(", ")},At),yi=si.map(function(zi){return typeof zi=="string"?yn(zi,yo):zi}),ni.abrupt("return",yi);case 26:case"end":return ni.stop()}},rn,null,[[10,15]])})),ir.apply(this,arguments)}function Or(rn,Ge,_e,Ve,ze,At){var an=rn.join("."),Kn=_e.map(function(yr,si){var wi=yr.validator,yo=(0,We.Z)((0,We.Z)({},yr),{},{ruleIndex:si});return wi&&(yo.validator=function(yi,Ei,ni){var zi=!1,Ai=function(){for(var ua=arguments.length,Ea=new Array(ua),Ia=0;Ia<ua;Ia++)Ea[Ia]=arguments[Ia];Promise.resolve().then(function(){(0,Je.ZP)(!zi,"Your validator function has already return a promise. `callback` will be ignored."),zi||ni.apply(void 0,Ea)})},_o=wi(yi,Ei,Ai);zi=_o&&typeof _o.then=="function"&&typeof _o.catch=="function",(0,Je.ZP)(zi,"`callback` is deprecated. Please return a promise instead."),zi&&_o.then(function(){ni()}).catch(function(na){ni(na||" ")})}),yo}).sort(function(yr,si){var wi=yr.warningOnly,yo=yr.ruleIndex,yi=si.warningOnly,Ei=si.ruleIndex;return!!wi==!!yi?yo-Ei:wi?1:-1}),Cr;if(ze===!0)Cr=new Promise(function(){var yr=(0,xe.Z)((0,c.Z)().mark(function si(wi,yo){var yi,Ei,ni;return(0,c.Z)().wrap(function(Ai){for(;;)switch(Ai.prev=Ai.next){case 0:yi=0;case 1:if(!(yi<Kn.length)){Ai.next=12;break}return Ei=Kn[yi],Ai.next=5,_r(an,Ge,Ei,Ve,At);case 5:if(ni=Ai.sent,!ni.length){Ai.next=9;break}return yo([{errors:ni,rule:Ei}]),Ai.abrupt("return");case 9:yi+=1,Ai.next=1;break;case 12:wi([]);case 13:case"end":return Ai.stop()}},si)}));return function(si,wi){return yr.apply(this,arguments)}}());else{var Mr=Kn.map(function(yr){return _r(an,Ge,yr,Ve,At).then(function(si){return{errors:si,rule:yr}})});Cr=(ze?Ui(Mr):Qr(Mr)).then(function(yr){return Promise.reject(yr)})}return Cr.catch(function(yr){return yr}),Cr}function Qr(rn){return ii.apply(this,arguments)}function ii(){return ii=(0,xe.Z)((0,c.Z)().mark(function rn(Ge){return(0,c.Z)().wrap(function(Ve){for(;;)switch(Ve.prev=Ve.next){case 0:return Ve.abrupt("return",Promise.all(Ge).then(function(ze){var At,an=(At=[]).concat.apply(At,(0,Fe.Z)(ze));return an}));case 1:case"end":return Ve.stop()}},rn)})),ii.apply(this,arguments)}function Ui(rn){return mt.apply(this,arguments)}function mt(){return mt=(0,xe.Z)((0,c.Z)().mark(function rn(Ge){var _e;return(0,c.Z)().wrap(function(ze){for(;;)switch(ze.prev=ze.next){case 0:return _e=0,ze.abrupt("return",new Promise(function(At){Ge.forEach(function(an){an.then(function(Kn){Kn.errors.length&&At([Kn]),_e+=1,_e===Ge.length&&At([])})})}));case 2:case"end":return ze.stop()}},rn)})),mt.apply(this,arguments)}var _n=F(36040);function Ut(rn){return Vt(rn)}function An(rn,Ge){var _e={};return Ge.forEach(function(Ve){var ze=(0,_n.Z)(rn,Ve);_e=(0,rt.Z)(_e,Ve,ze)}),_e}function or(rn,Ge){var _e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return rn&&rn.some(function(Ve){return qr(Ge,Ve,_e)})}function qr(rn,Ge){var _e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!rn||!Ge||!_e&&rn.length!==Ge.length?!1:Ge.every(function(Ve,ze){return rn[ze]===Ve})}function Mi(rn,Ge){if(rn===Ge)return!0;if(!rn&&Ge||rn&&!Ge||!rn||!Ge||(0,hr.Z)(rn)!=="object"||(0,hr.Z)(Ge)!=="object")return!1;var _e=Object.keys(rn),Ve=Object.keys(Ge),ze=new Set([].concat(_e,Ve));return(0,Fe.Z)(ze).every(function(At){var an=rn[At],Kn=Ge[At];return typeof an=="function"&&typeof Kn=="function"?!0:an===Kn})}function fo(rn){var Ge=arguments.length<=1?void 0:arguments[1];return Ge&&Ge.target&&(0,hr.Z)(Ge.target)==="object"&&rn in Ge.target?Ge.target[rn]:Ge}function $i(rn,Ge,_e){var Ve=rn.length;if(Ge<0||Ge>=Ve||_e<0||_e>=Ve)return rn;var ze=rn[Ge],At=Ge-_e;return At>0?[].concat((0,Fe.Z)(rn.slice(0,_e)),[ze],(0,Fe.Z)(rn.slice(_e,Ge)),(0,Fe.Z)(rn.slice(Ge+1,Ve))):At<0?[].concat((0,Fe.Z)(rn.slice(0,Ge)),(0,Fe.Z)(rn.slice(Ge+1,_e+1)),[ze],(0,Fe.Z)(rn.slice(_e+1,Ve))):rn}var Qi=["name"],co=[];function Ni(rn,Ge,_e,Ve,ze,At){return typeof rn=="function"?rn(Ge,_e,"source"in At?{source:At.source}:{}):Ve!==ze}var Io=function(rn){(0,Ke.Z)(_e,rn);var Ge=(0,$e.Z)(_e);function _e(Ve){var ze;if((0,Me.Z)(this,_e),ze=Ge.call(this,Ve),(0,He.Z)((0,te.Z)(ze),"state",{resetCount:0}),(0,He.Z)((0,te.Z)(ze),"cancelRegisterFunc",null),(0,He.Z)((0,te.Z)(ze),"mounted",!1),(0,He.Z)((0,te.Z)(ze),"touched",!1),(0,He.Z)((0,te.Z)(ze),"dirty",!1),(0,He.Z)((0,te.Z)(ze),"validatePromise",void 0),(0,He.Z)((0,te.Z)(ze),"prevValidating",void 0),(0,He.Z)((0,te.Z)(ze),"errors",co),(0,He.Z)((0,te.Z)(ze),"warnings",co),(0,He.Z)((0,te.Z)(ze),"cancelRegister",function(){var Cr=ze.props,Mr=Cr.preserve,yr=Cr.isListField,si=Cr.name;ze.cancelRegisterFunc&&ze.cancelRegisterFunc(yr,Mr,Ut(si)),ze.cancelRegisterFunc=null}),(0,He.Z)((0,te.Z)(ze),"getNamePath",function(){var Cr=ze.props,Mr=Cr.name,yr=Cr.fieldContext,si=yr.prefixName,wi=si===void 0?[]:si;return Mr!==void 0?[].concat((0,Fe.Z)(wi),(0,Fe.Z)(Mr)):[]}),(0,He.Z)((0,te.Z)(ze),"getRules",function(){var Cr=ze.props,Mr=Cr.rules,yr=Mr===void 0?[]:Mr,si=Cr.fieldContext;return yr.map(function(wi){return typeof wi=="function"?wi(si):wi})}),(0,He.Z)((0,te.Z)(ze),"refresh",function(){ze.mounted&&ze.setState(function(Cr){var Mr=Cr.resetCount;return{resetCount:Mr+1}})}),(0,He.Z)((0,te.Z)(ze),"metaCache",null),(0,He.Z)((0,te.Z)(ze),"triggerMetaEvent",function(Cr){var Mr=ze.props.onMetaChange;if(Mr){var yr=(0,We.Z)((0,We.Z)({},ze.getMeta()),{},{destroy:Cr});(0,dt.Z)(ze.metaCache,yr)||Mr(yr),ze.metaCache=yr}else ze.metaCache=null}),(0,He.Z)((0,te.Z)(ze),"onStoreChange",function(Cr,Mr,yr){var si=ze.props,wi=si.shouldUpdate,yo=si.dependencies,yi=yo===void 0?[]:yo,Ei=si.onReset,ni=yr.store,zi=ze.getNamePath(),Ai=ze.getValue(Cr),_o=ze.getValue(ni),na=Mr&&or(Mr,zi);switch(yr.type==="valueUpdate"&&yr.source==="external"&&!(0,dt.Z)(Ai,_o)&&(ze.touched=!0,ze.dirty=!0,ze.validatePromise=null,ze.errors=co,ze.warnings=co,ze.triggerMetaEvent()),yr.type){case"reset":if(!Mr||na){ze.touched=!1,ze.dirty=!1,ze.validatePromise=void 0,ze.errors=co,ze.warnings=co,ze.triggerMetaEvent(),Ei==null||Ei(),ze.refresh();return}break;case"remove":{if(wi&&Ni(wi,Cr,ni,Ai,_o,yr)){ze.reRender();return}break}case"setField":{var ua=yr.data;if(na){"touched"in ua&&(ze.touched=ua.touched),"validating"in ua&&!("originRCField"in ua)&&(ze.validatePromise=ua.validating?Promise.resolve([]):null),"errors"in ua&&(ze.errors=ua.errors||co),"warnings"in ua&&(ze.warnings=ua.warnings||co),ze.dirty=!0,ze.triggerMetaEvent(),ze.reRender();return}else if("value"in ua&&or(Mr,zi,!0)){ze.reRender();return}if(wi&&!zi.length&&Ni(wi,Cr,ni,Ai,_o,yr)){ze.reRender();return}break}case"dependenciesUpdate":{var Ea=yi.map(Ut);if(Ea.some(function(Ia){return or(yr.relatedFields,Ia)})){ze.reRender();return}break}default:if(na||(!yi.length||zi.length||wi)&&Ni(wi,Cr,ni,Ai,_o,yr)){ze.reRender();return}break}wi===!0&&ze.reRender()}),(0,He.Z)((0,te.Z)(ze),"validateRules",function(Cr){var Mr=ze.getNamePath(),yr=ze.getValue(),si=Cr||{},wi=si.triggerName,yo=si.validateOnly,yi=yo===void 0?!1:yo,Ei=Promise.resolve().then((0,xe.Z)((0,c.Z)().mark(function ni(){var zi,Ai,_o,na,ua,Ea,Ia;return(0,c.Z)().wrap(function(ya){for(;;)switch(ya.prev=ya.next){case 0:if(ze.mounted){ya.next=2;break}return ya.abrupt("return",[]);case 2:if(zi=ze.props,Ai=zi.validateFirst,_o=Ai===void 0?!1:Ai,na=zi.messageVariables,ua=zi.validateDebounce,Ea=ze.getRules(),wi&&(Ea=Ea.filter(function(ja){return ja}).filter(function(ja){var Ca=ja.validateTrigger;if(!Ca)return!0;var Ps=Vt(Ca);return Ps.includes(wi)})),!(ua&&wi)){ya.next=10;break}return ya.next=8,new Promise(function(ja){setTimeout(ja,ua)});case 8:if(ze.validatePromise===Ei){ya.next=10;break}return ya.abrupt("return",[]);case 10:return Ia=Or(Mr,yr,Ea,Cr,_o,na),Ia.catch(function(ja){return ja}).then(function(){var ja=arguments.length>0&&arguments[0]!==void 0?arguments[0]:co;if(ze.validatePromise===Ei){var Ca;ze.validatePromise=null;var Ps=[],Ms=[];(Ca=ja.forEach)===null||Ca===void 0||Ca.call(ja,function(_s){var il=_s.rule.warningOnly,ol=_s.errors,Al=ol===void 0?co:ol;il?Ms.push.apply(Ms,(0,Fe.Z)(Al)):Ps.push.apply(Ps,(0,Fe.Z)(Al))}),ze.errors=Ps,ze.warnings=Ms,ze.triggerMetaEvent(),ze.reRender()}}),ya.abrupt("return",Ia);case 13:case"end":return ya.stop()}},ni)})));return yi||(ze.validatePromise=Ei,ze.dirty=!0,ze.errors=co,ze.warnings=co,ze.triggerMetaEvent(),ze.reRender()),Ei}),(0,He.Z)((0,te.Z)(ze),"isFieldValidating",function(){return!!ze.validatePromise}),(0,He.Z)((0,te.Z)(ze),"isFieldTouched",function(){return ze.touched}),(0,He.Z)((0,te.Z)(ze),"isFieldDirty",function(){if(ze.dirty||ze.props.initialValue!==void 0)return!0;var Cr=ze.props.fieldContext,Mr=Cr.getInternalHooks(ht),yr=Mr.getInitialValue;return yr(ze.getNamePath())!==void 0}),(0,He.Z)((0,te.Z)(ze),"getErrors",function(){return ze.errors}),(0,He.Z)((0,te.Z)(ze),"getWarnings",function(){return ze.warnings}),(0,He.Z)((0,te.Z)(ze),"isListField",function(){return ze.props.isListField}),(0,He.Z)((0,te.Z)(ze),"isList",function(){return ze.props.isList}),(0,He.Z)((0,te.Z)(ze),"isPreserve",function(){return ze.props.preserve}),(0,He.Z)((0,te.Z)(ze),"getMeta",function(){ze.prevValidating=ze.isFieldValidating();var Cr={touched:ze.isFieldTouched(),validating:ze.prevValidating,errors:ze.errors,warnings:ze.warnings,name:ze.getNamePath(),validated:ze.validatePromise===null};return Cr}),(0,He.Z)((0,te.Z)(ze),"getOnlyChild",function(Cr){if(typeof Cr=="function"){var Mr=ze.getMeta();return(0,We.Z)((0,We.Z)({},ze.getOnlyChild(Cr(ze.getControlled(),Mr,ze.props.fieldContext))),{},{isFunction:!0})}var yr=(0,qe.Z)(Cr);return yr.length!==1||!s.isValidElement(yr[0])?{child:yr,isFunction:!1}:{child:yr[0],isFunction:!1}}),(0,He.Z)((0,te.Z)(ze),"getValue",function(Cr){var Mr=ze.props.fieldContext.getFieldsValue,yr=ze.getNamePath();return(0,_n.Z)(Cr||Mr(!0),yr)}),(0,He.Z)((0,te.Z)(ze),"getControlled",function(){var Cr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Mr=ze.props,yr=Mr.name,si=Mr.trigger,wi=Mr.validateTrigger,yo=Mr.getValueFromEvent,yi=Mr.normalize,Ei=Mr.valuePropName,ni=Mr.getValueProps,zi=Mr.fieldContext,Ai=wi!==void 0?wi:zi.validateTrigger,_o=ze.getNamePath(),na=zi.getInternalHooks,ua=zi.getFieldsValue,Ea=na(ht),Ia=Ea.dispatch,xa=ze.getValue(),ya=ni||function(_s){return(0,He.Z)({},Ei,_s)},ja=Cr[si],Ca=yr!==void 0?ya(xa):{},Ps=(0,We.Z)((0,We.Z)({},Cr),Ca);Ps[si]=function(){ze.touched=!0,ze.dirty=!0,ze.triggerMetaEvent();for(var _s,il=arguments.length,ol=new Array(il),Al=0;Al<il;Al++)ol[Al]=arguments[Al];yo?_s=yo.apply(void 0,ol):_s=fo.apply(void 0,[Ei].concat(ol)),yi&&(_s=yi(_s,xa,ua(!0))),_s!==xa&&Ia({type:"updateValue",namePath:_o,value:_s}),ja&&ja.apply(void 0,ol)};var Ms=Vt(Ai||[]);return Ms.forEach(function(_s){var il=Ps[_s];Ps[_s]=function(){il&&il.apply(void 0,arguments);var ol=ze.props.rules;ol&&ol.length&&Ia({type:"validateField",namePath:_o,triggerName:_s})}}),Ps}),Ve.fieldContext){var At=Ve.fieldContext.getInternalHooks,an=At(ht),Kn=an.initEntityValue;Kn((0,te.Z)(ze))}return ze}return(0,ve.Z)(_e,[{key:"componentDidMount",value:function(){var ze=this.props,At=ze.shouldUpdate,an=ze.fieldContext;if(this.mounted=!0,an){var Kn=an.getInternalHooks,Cr=Kn(ht),Mr=Cr.registerField;this.cancelRegisterFunc=Mr(this)}At===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var ze=this.state.resetCount,At=this.props.children,an=this.getOnlyChild(At),Kn=an.child,Cr=an.isFunction,Mr;return Cr?Mr=Kn:s.isValidElement(Kn)?Mr=s.cloneElement(Kn,this.getControlled(Kn.props)):((0,Je.ZP)(!Kn,"`children` of Field is not validate ReactElement."),Mr=Kn),s.createElement(s.Fragment,{key:ze},Mr)}}]),_e}(s.Component);(0,He.Z)(Io,"contextType",kt),(0,He.Z)(Io,"defaultProps",{trigger:"onChange",valuePropName:"value"});function Wo(rn){var Ge,_e=rn.name,Ve=(0,Y.Z)(rn,Qi),ze=s.useContext(kt),At=s.useContext(Et),an=_e!==void 0?Ut(_e):void 0,Kn=(Ge=Ve.isListField)!==null&&Ge!==void 0?Ge:!!At,Cr="keep";return Kn||(Cr="_".concat((an||[]).join("_"))),s.createElement(Io,(0,ot.Z)({key:Cr,name:an,isListField:Kn},Ve,{fieldContext:ze}))}var $o=Wo;function vo(rn){var Ge=rn.name,_e=rn.initialValue,Ve=rn.children,ze=rn.rules,At=rn.validateTrigger,an=rn.isListField,Kn=s.useContext(kt),Cr=s.useContext(Et),Mr=s.useRef({keys:[],id:0}),yr=Mr.current,si=s.useMemo(function(){var Ei=Ut(Kn.prefixName)||[];return[].concat((0,Fe.Z)(Ei),(0,Fe.Z)(Ut(Ge)))},[Kn.prefixName,Ge]),wi=s.useMemo(function(){return(0,We.Z)((0,We.Z)({},Kn),{},{prefixName:si})},[Kn,si]),yo=s.useMemo(function(){return{getKey:function(ni){var zi=si.length,Ai=ni[zi];return[yr.keys[Ai],ni.slice(zi+1)]}}},[si]);if(typeof Ve!="function")return(0,Je.ZP)(!1,"Form.List only accepts function as children."),null;var yi=function(ni,zi,Ai){var _o=Ai.source;return _o==="internal"?!1:ni!==zi};return s.createElement(Et.Provider,{value:yo},s.createElement(kt.Provider,{value:wi},s.createElement($o,{name:[],shouldUpdate:yi,rules:ze,validateTrigger:At,initialValue:_e,isList:!0,isListField:an!=null?an:!!Cr},function(Ei,ni){var zi=Ei.value,Ai=zi===void 0?[]:zi,_o=Ei.onChange,na=Kn.getFieldValue,ua=function(){var ya=na(si||[]);return ya||[]},Ea={add:function(ya,ja){var Ca=ua();ja>=0&&ja<=Ca.length?(yr.keys=[].concat((0,Fe.Z)(yr.keys.slice(0,ja)),[yr.id],(0,Fe.Z)(yr.keys.slice(ja))),_o([].concat((0,Fe.Z)(Ca.slice(0,ja)),[ya],(0,Fe.Z)(Ca.slice(ja))))):(yr.keys=[].concat((0,Fe.Z)(yr.keys),[yr.id]),_o([].concat((0,Fe.Z)(Ca),[ya]))),yr.id+=1},remove:function(ya){var ja=ua(),Ca=new Set(Array.isArray(ya)?ya:[ya]);Ca.size<=0||(yr.keys=yr.keys.filter(function(Ps,Ms){return!Ca.has(Ms)}),_o(ja.filter(function(Ps,Ms){return!Ca.has(Ms)})))},move:function(ya,ja){if(ya!==ja){var Ca=ua();ya<0||ya>=Ca.length||ja<0||ja>=Ca.length||(yr.keys=$i(yr.keys,ya,ja),_o($i(Ca,ya,ja)))}}},Ia=Ai||[];return Array.isArray(Ia)||(Ia=[]),Ve(Ia.map(function(xa,ya){var ja=yr.keys[ya];return ja===void 0&&(yr.keys[ya]=yr.id,ja=yr.keys[ya],yr.id+=1),{name:ya,key:ja,isListField:!0}}),Ea,ni)})))}var Oo=vo,zo=F(89692);function Jo(rn){var Ge=!1,_e=rn.length,Ve=[];return rn.length?new Promise(function(ze,At){rn.forEach(function(an,Kn){an.catch(function(Cr){return Ge=!0,Cr}).then(function(Cr){_e-=1,Ve[Kn]=Cr,!(_e>0)&&(Ge&&At(Ve),ze(Ve))})})}):Promise.resolve([])}var to="__@field_split__";function Co(rn){return rn.map(function(Ge){return"".concat((0,hr.Z)(Ge),":").concat(Ge)}).join(to)}var mo=function(){function rn(){(0,Me.Z)(this,rn),(0,He.Z)(this,"kvs",new Map)}return(0,ve.Z)(rn,[{key:"set",value:function(_e,Ve){this.kvs.set(Co(_e),Ve)}},{key:"get",value:function(_e){return this.kvs.get(Co(_e))}},{key:"update",value:function(_e,Ve){var ze=this.get(_e),At=Ve(ze);At?this.set(_e,At):this.delete(_e)}},{key:"delete",value:function(_e){this.kvs.delete(Co(_e))}},{key:"map",value:function(_e){return(0,Fe.Z)(this.kvs.entries()).map(function(Ve){var ze=(0,zo.Z)(Ve,2),At=ze[0],an=ze[1],Kn=At.split(to);return _e({key:Kn.map(function(Cr){var Mr=Cr.match(/^([^:]*):(.*)$/),yr=(0,zo.Z)(Mr,3),si=yr[1],wi=yr[2];return si==="number"?Number(wi):wi}),value:an})})}},{key:"toJSON",value:function(){var _e={};return this.map(function(Ve){var ze=Ve.key,At=Ve.value;return _e[ze.join(".")]=At,null}),_e}}]),rn}(),so=mo,Fi=["name"],Qo=(0,ve.Z)(function rn(Ge){var _e=this;(0,Me.Z)(this,rn),(0,He.Z)(this,"formHooked",!1),(0,He.Z)(this,"forceRootUpdate",void 0),(0,He.Z)(this,"subscribable",!0),(0,He.Z)(this,"store",{}),(0,He.Z)(this,"fieldEntities",[]),(0,He.Z)(this,"initialValues",{}),(0,He.Z)(this,"callbacks",{}),(0,He.Z)(this,"validateMessages",null),(0,He.Z)(this,"preserve",null),(0,He.Z)(this,"lastValidatePromise",null),(0,He.Z)(this,"getForm",function(){return{getFieldValue:_e.getFieldValue,getFieldsValue:_e.getFieldsValue,getFieldError:_e.getFieldError,getFieldWarning:_e.getFieldWarning,getFieldsError:_e.getFieldsError,isFieldsTouched:_e.isFieldsTouched,isFieldTouched:_e.isFieldTouched,isFieldValidating:_e.isFieldValidating,isFieldsValidating:_e.isFieldsValidating,resetFields:_e.resetFields,setFields:_e.setFields,setFieldValue:_e.setFieldValue,setFieldsValue:_e.setFieldsValue,validateFields:_e.validateFields,submit:_e.submit,_init:!0,getInternalHooks:_e.getInternalHooks}}),(0,He.Z)(this,"getInternalHooks",function(Ve){return Ve===ht?(_e.formHooked=!0,{dispatch:_e.dispatch,initEntityValue:_e.initEntityValue,registerField:_e.registerField,useSubscribe:_e.useSubscribe,setInitialValues:_e.setInitialValues,destroyForm:_e.destroyForm,setCallbacks:_e.setCallbacks,setValidateMessages:_e.setValidateMessages,getFields:_e.getFields,setPreserve:_e.setPreserve,getInitialValue:_e.getInitialValue,registerWatch:_e.registerWatch}):((0,Je.ZP)(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)}),(0,He.Z)(this,"useSubscribe",function(Ve){_e.subscribable=Ve}),(0,He.Z)(this,"prevWithoutPreserves",null),(0,He.Z)(this,"setInitialValues",function(Ve,ze){if(_e.initialValues=Ve||{},ze){var At,an=(0,rt.T)(Ve,_e.store);(At=_e.prevWithoutPreserves)===null||At===void 0||At.map(function(Kn){var Cr=Kn.key;an=(0,rt.Z)(an,Cr,(0,_n.Z)(Ve,Cr))}),_e.prevWithoutPreserves=null,_e.updateStore(an)}}),(0,He.Z)(this,"destroyForm",function(Ve){if(Ve)_e.updateStore({});else{var ze=new so;_e.getFieldEntities(!0).forEach(function(At){_e.isMergedPreserve(At.isPreserve())||ze.set(At.getNamePath(),!0)}),_e.prevWithoutPreserves=ze}}),(0,He.Z)(this,"getInitialValue",function(Ve){var ze=(0,_n.Z)(_e.initialValues,Ve);return Ve.length?(0,rt.T)(ze):ze}),(0,He.Z)(this,"setCallbacks",function(Ve){_e.callbacks=Ve}),(0,He.Z)(this,"setValidateMessages",function(Ve){_e.validateMessages=Ve}),(0,He.Z)(this,"setPreserve",function(Ve){_e.preserve=Ve}),(0,He.Z)(this,"watchList",[]),(0,He.Z)(this,"registerWatch",function(Ve){return _e.watchList.push(Ve),function(){_e.watchList=_e.watchList.filter(function(ze){return ze!==Ve})}}),(0,He.Z)(this,"notifyWatch",function(){var Ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(_e.watchList.length){var ze=_e.getFieldsValue(),At=_e.getFieldsValue(!0);_e.watchList.forEach(function(an){an(ze,At,Ve)})}}),(0,He.Z)(this,"timeoutId",null),(0,He.Z)(this,"warningUnhooked",function(){}),(0,He.Z)(this,"updateStore",function(Ve){_e.store=Ve}),(0,He.Z)(this,"getFieldEntities",function(){var Ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return Ve?_e.fieldEntities.filter(function(ze){return ze.getNamePath().length}):_e.fieldEntities}),(0,He.Z)(this,"getFieldsMap",function(){var Ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,ze=new so;return _e.getFieldEntities(Ve).forEach(function(At){var an=At.getNamePath();ze.set(an,At)}),ze}),(0,He.Z)(this,"getFieldEntitiesForNamePathList",function(Ve){if(!Ve)return _e.getFieldEntities(!0);var ze=_e.getFieldsMap(!0);return Ve.map(function(At){var an=Ut(At);return ze.get(an)||{INVALIDATE_NAME_PATH:Ut(At)}})}),(0,He.Z)(this,"getFieldsValue",function(Ve,ze){_e.warningUnhooked();var At,an,Kn;if(Ve===!0||Array.isArray(Ve)?(At=Ve,an=ze):Ve&&(0,hr.Z)(Ve)==="object"&&(Kn=Ve.strict,an=Ve.filter),At===!0&&!an)return _e.store;var Cr=_e.getFieldEntitiesForNamePathList(Array.isArray(At)?At:null),Mr=[];return Cr.forEach(function(yr){var si,wi,yo="INVALIDATE_NAME_PATH"in yr?yr.INVALIDATE_NAME_PATH:yr.getNamePath();if(Kn){var yi,Ei;if((yi=(Ei=yr).isList)!==null&&yi!==void 0&&yi.call(Ei))return}else if(!At&&(si=(wi=yr).isListField)!==null&&si!==void 0&&si.call(wi))return;if(!an)Mr.push(yo);else{var ni="getMeta"in yr?yr.getMeta():null;an(ni)&&Mr.push(yo)}}),An(_e.store,Mr.map(Ut))}),(0,He.Z)(this,"getFieldValue",function(Ve){_e.warningUnhooked();var ze=Ut(Ve);return(0,_n.Z)(_e.store,ze)}),(0,He.Z)(this,"getFieldsError",function(Ve){_e.warningUnhooked();var ze=_e.getFieldEntitiesForNamePathList(Ve);return ze.map(function(At,an){return At&&!("INVALIDATE_NAME_PATH"in At)?{name:At.getNamePath(),errors:At.getErrors(),warnings:At.getWarnings()}:{name:Ut(Ve[an]),errors:[],warnings:[]}})}),(0,He.Z)(this,"getFieldError",function(Ve){_e.warningUnhooked();var ze=Ut(Ve),At=_e.getFieldsError([ze])[0];return At.errors}),(0,He.Z)(this,"getFieldWarning",function(Ve){_e.warningUnhooked();var ze=Ut(Ve),At=_e.getFieldsError([ze])[0];return At.warnings}),(0,He.Z)(this,"isFieldsTouched",function(){_e.warningUnhooked();for(var Ve=arguments.length,ze=new Array(Ve),At=0;At<Ve;At++)ze[At]=arguments[At];var an=ze[0],Kn=ze[1],Cr,Mr=!1;ze.length===0?Cr=null:ze.length===1?Array.isArray(an)?(Cr=an.map(Ut),Mr=!1):(Cr=null,Mr=an):(Cr=an.map(Ut),Mr=Kn);var yr=_e.getFieldEntities(!0),si=function(ni){return ni.isFieldTouched()};if(!Cr)return Mr?yr.every(function(Ei){return si(Ei)||Ei.isList()}):yr.some(si);var wi=new so;Cr.forEach(function(Ei){wi.set(Ei,[])}),yr.forEach(function(Ei){var ni=Ei.getNamePath();Cr.forEach(function(zi){zi.every(function(Ai,_o){return ni[_o]===Ai})&&wi.update(zi,function(Ai){return[].concat((0,Fe.Z)(Ai),[Ei])})})});var yo=function(ni){return ni.some(si)},yi=wi.map(function(Ei){var ni=Ei.value;return ni});return Mr?yi.every(yo):yi.some(yo)}),(0,He.Z)(this,"isFieldTouched",function(Ve){return _e.warningUnhooked(),_e.isFieldsTouched([Ve])}),(0,He.Z)(this,"isFieldsValidating",function(Ve){_e.warningUnhooked();var ze=_e.getFieldEntities();if(!Ve)return ze.some(function(an){return an.isFieldValidating()});var At=Ve.map(Ut);return ze.some(function(an){var Kn=an.getNamePath();return or(At,Kn)&&an.isFieldValidating()})}),(0,He.Z)(this,"isFieldValidating",function(Ve){return _e.warningUnhooked(),_e.isFieldsValidating([Ve])}),(0,He.Z)(this,"resetWithFieldInitialValue",function(){var Ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ze=new so,At=_e.getFieldEntities(!0);At.forEach(function(Cr){var Mr=Cr.props.initialValue,yr=Cr.getNamePath();if(Mr!==void 0){var si=ze.get(yr)||new Set;si.add({entity:Cr,value:Mr}),ze.set(yr,si)}});var an=function(Mr){Mr.forEach(function(yr){var si=yr.props.initialValue;if(si!==void 0){var wi=yr.getNamePath(),yo=_e.getInitialValue(wi);if(yo!==void 0)(0,Je.ZP)(!1,"Form already set 'initialValues' with path '".concat(wi.join("."),"'. Field can not overwrite it."));else{var yi=ze.get(wi);if(yi&&yi.size>1)(0,Je.ZP)(!1,"Multiple Field with path '".concat(wi.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(yi){var Ei=_e.getFieldValue(wi),ni=yr.isListField();!ni&&(!Ve.skipExist||Ei===void 0)&&_e.updateStore((0,rt.Z)(_e.store,wi,(0,Fe.Z)(yi)[0].value))}}}})},Kn;Ve.entities?Kn=Ve.entities:Ve.namePathList?(Kn=[],Ve.namePathList.forEach(function(Cr){var Mr=ze.get(Cr);if(Mr){var yr;(yr=Kn).push.apply(yr,(0,Fe.Z)((0,Fe.Z)(Mr).map(function(si){return si.entity})))}})):Kn=At,an(Kn)}),(0,He.Z)(this,"resetFields",function(Ve){_e.warningUnhooked();var ze=_e.store;if(!Ve){_e.updateStore((0,rt.T)(_e.initialValues)),_e.resetWithFieldInitialValue(),_e.notifyObservers(ze,null,{type:"reset"}),_e.notifyWatch();return}var At=Ve.map(Ut);At.forEach(function(an){var Kn=_e.getInitialValue(an);_e.updateStore((0,rt.Z)(_e.store,an,Kn))}),_e.resetWithFieldInitialValue({namePathList:At}),_e.notifyObservers(ze,At,{type:"reset"}),_e.notifyWatch(At)}),(0,He.Z)(this,"setFields",function(Ve){_e.warningUnhooked();var ze=_e.store,At=[];Ve.forEach(function(an){var Kn=an.name,Cr=(0,Y.Z)(an,Fi),Mr=Ut(Kn);At.push(Mr),"value"in Cr&&_e.updateStore((0,rt.Z)(_e.store,Mr,Cr.value)),_e.notifyObservers(ze,[Mr],{type:"setField",data:an})}),_e.notifyWatch(At)}),(0,He.Z)(this,"getFields",function(){var Ve=_e.getFieldEntities(!0),ze=Ve.map(function(At){var an=At.getNamePath(),Kn=At.getMeta(),Cr=(0,We.Z)((0,We.Z)({},Kn),{},{name:an,value:_e.getFieldValue(an)});return Object.defineProperty(Cr,"originRCField",{value:!0}),Cr});return ze}),(0,He.Z)(this,"initEntityValue",function(Ve){var ze=Ve.props.initialValue;if(ze!==void 0){var At=Ve.getNamePath(),an=(0,_n.Z)(_e.store,At);an===void 0&&_e.updateStore((0,rt.Z)(_e.store,At,ze))}}),(0,He.Z)(this,"isMergedPreserve",function(Ve){var ze=Ve!==void 0?Ve:_e.preserve;return ze!=null?ze:!0}),(0,He.Z)(this,"registerField",function(Ve){_e.fieldEntities.push(Ve);var ze=Ve.getNamePath();if(_e.notifyWatch([ze]),Ve.props.initialValue!==void 0){var At=_e.store;_e.resetWithFieldInitialValue({entities:[Ve],skipExist:!0}),_e.notifyObservers(At,[Ve.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(an,Kn){var Cr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(_e.fieldEntities=_e.fieldEntities.filter(function(si){return si!==Ve}),!_e.isMergedPreserve(Kn)&&(!an||Cr.length>1)){var Mr=an?void 0:_e.getInitialValue(ze);if(ze.length&&_e.getFieldValue(ze)!==Mr&&_e.fieldEntities.every(function(si){return!qr(si.getNamePath(),ze)})){var yr=_e.store;_e.updateStore((0,rt.Z)(yr,ze,Mr,!0)),_e.notifyObservers(yr,[ze],{type:"remove"}),_e.triggerDependenciesUpdate(yr,ze)}}_e.notifyWatch([ze])}}),(0,He.Z)(this,"dispatch",function(Ve){switch(Ve.type){case"updateValue":{var ze=Ve.namePath,At=Ve.value;_e.updateValue(ze,At);break}case"validateField":{var an=Ve.namePath,Kn=Ve.triggerName;_e.validateFields([an],{triggerName:Kn});break}default:}}),(0,He.Z)(this,"notifyObservers",function(Ve,ze,At){if(_e.subscribable){var an=(0,We.Z)((0,We.Z)({},At),{},{store:_e.getFieldsValue(!0)});_e.getFieldEntities().forEach(function(Kn){var Cr=Kn.onStoreChange;Cr(Ve,ze,an)})}else _e.forceRootUpdate()}),(0,He.Z)(this,"triggerDependenciesUpdate",function(Ve,ze){var At=_e.getDependencyChildrenFields(ze);return At.length&&_e.validateFields(At),_e.notifyObservers(Ve,At,{type:"dependenciesUpdate",relatedFields:[ze].concat((0,Fe.Z)(At))}),At}),(0,He.Z)(this,"updateValue",function(Ve,ze){var At=Ut(Ve),an=_e.store;_e.updateStore((0,rt.Z)(_e.store,At,ze)),_e.notifyObservers(an,[At],{type:"valueUpdate",source:"internal"}),_e.notifyWatch([At]);var Kn=_e.triggerDependenciesUpdate(an,At),Cr=_e.callbacks.onValuesChange;if(Cr){var Mr=An(_e.store,[At]);Cr(Mr,_e.getFieldsValue())}_e.triggerOnFieldsChange([At].concat((0,Fe.Z)(Kn)))}),(0,He.Z)(this,"setFieldsValue",function(Ve){_e.warningUnhooked();var ze=_e.store;if(Ve){var At=(0,rt.T)(_e.store,Ve);_e.updateStore(At)}_e.notifyObservers(ze,null,{type:"valueUpdate",source:"external"}),_e.notifyWatch()}),(0,He.Z)(this,"setFieldValue",function(Ve,ze){_e.setFields([{name:Ve,value:ze,errors:[],warnings:[]}])}),(0,He.Z)(this,"getDependencyChildrenFields",function(Ve){var ze=new Set,At=[],an=new so;_e.getFieldEntities().forEach(function(Cr){var Mr=Cr.props.dependencies;(Mr||[]).forEach(function(yr){var si=Ut(yr);an.update(si,function(){var wi=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return wi.add(Cr),wi})})});var Kn=function Cr(Mr){var yr=an.get(Mr)||new Set;yr.forEach(function(si){if(!ze.has(si)){ze.add(si);var wi=si.getNamePath();si.isFieldDirty()&&wi.length&&(At.push(wi),Cr(wi))}})};return Kn(Ve),At}),(0,He.Z)(this,"triggerOnFieldsChange",function(Ve,ze){var At=_e.callbacks.onFieldsChange;if(At){var an=_e.getFields();if(ze){var Kn=new so;ze.forEach(function(Mr){var yr=Mr.name,si=Mr.errors;Kn.set(yr,si)}),an.forEach(function(Mr){Mr.errors=Kn.get(Mr.name)||Mr.errors})}var Cr=an.filter(function(Mr){var yr=Mr.name;return or(Ve,yr)});Cr.length&&At(Cr,an)}}),(0,He.Z)(this,"validateFields",function(Ve,ze){_e.warningUnhooked();var At,an;Array.isArray(Ve)||typeof Ve=="string"||typeof ze=="string"?(At=Ve,an=ze):an=Ve;var Kn=!!At,Cr=Kn?At.map(Ut):[],Mr=[],yr=String(Date.now()),si=new Set,wi=an||{},yo=wi.recursive,yi=wi.dirty;_e.getFieldEntities(!0).forEach(function(Ai){if(Kn||Cr.push(Ai.getNamePath()),!(!Ai.props.rules||!Ai.props.rules.length)&&!(yi&&!Ai.isFieldDirty())){var _o=Ai.getNamePath();if(si.add(_o.join(yr)),!Kn||or(Cr,_o,yo)){var na=Ai.validateRules((0,We.Z)({validateMessages:(0,We.Z)((0,We.Z)({},ct),_e.validateMessages)},an));Mr.push(na.then(function(){return{name:_o,errors:[],warnings:[]}}).catch(function(ua){var Ea,Ia=[],xa=[];return(Ea=ua.forEach)===null||Ea===void 0||Ea.call(ua,function(ya){var ja=ya.rule.warningOnly,Ca=ya.errors;ja?xa.push.apply(xa,(0,Fe.Z)(Ca)):Ia.push.apply(Ia,(0,Fe.Z)(Ca))}),Ia.length?Promise.reject({name:_o,errors:Ia,warnings:xa}):{name:_o,errors:Ia,warnings:xa}}))}}});var Ei=Jo(Mr);_e.lastValidatePromise=Ei,Ei.catch(function(Ai){return Ai}).then(function(Ai){var _o=Ai.map(function(na){var ua=na.name;return ua});_e.notifyObservers(_e.store,_o,{type:"validateFinish"}),_e.triggerOnFieldsChange(_o,Ai)});var ni=Ei.then(function(){return _e.lastValidatePromise===Ei?Promise.resolve(_e.getFieldsValue(Cr)):Promise.reject([])}).catch(function(Ai){var _o=Ai.filter(function(na){return na&&na.errors.length});return Promise.reject({values:_e.getFieldsValue(Cr),errorFields:_o,outOfDate:_e.lastValidatePromise!==Ei})});ni.catch(function(Ai){return Ai});var zi=Cr.filter(function(Ai){return si.has(Ai.join(yr))});return _e.triggerOnFieldsChange(zi),ni}),(0,He.Z)(this,"submit",function(){_e.warningUnhooked(),_e.validateFields().then(function(Ve){var ze=_e.callbacks.onFinish;if(ze)try{ze(Ve)}catch(At){console.error(At)}}).catch(function(Ve){var ze=_e.callbacks.onFinishFailed;ze&&ze(Ve)})}),this.forceRootUpdate=Ge});function Rr(rn){var Ge=s.useRef(),_e=s.useState({}),Ve=(0,zo.Z)(_e,2),ze=Ve[1];if(!Ge.current)if(rn)Ge.current=rn;else{var At=function(){ze({})},an=new Qo(At);Ge.current=an.getForm()}return[Ge.current]}var Ao=Rr,ea=s.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),Na=function(Ge){var _e=Ge.validateMessages,Ve=Ge.onFormChange,ze=Ge.onFormFinish,At=Ge.children,an=s.useContext(ea),Kn=s.useRef({});return s.createElement(ea.Provider,{value:(0,We.Z)((0,We.Z)({},an),{},{validateMessages:(0,We.Z)((0,We.Z)({},an.validateMessages),_e),triggerFormChange:function(Mr,yr){Ve&&Ve(Mr,{changedFields:yr,forms:Kn.current}),an.triggerFormChange(Mr,yr)},triggerFormFinish:function(Mr,yr){ze&&ze(Mr,{values:yr,forms:Kn.current}),an.triggerFormFinish(Mr,yr)},registerForm:function(Mr,yr){Mr&&(Kn.current=(0,We.Z)((0,We.Z)({},Kn.current),{},(0,He.Z)({},Mr,yr))),an.registerForm(Mr,yr)},unregisterForm:function(Mr){var yr=(0,We.Z)({},Kn.current);delete yr[Mr],Kn.current=yr,an.unregisterForm(Mr)}})},At)},ci=ea,oa=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed","clearOnDestroy"],Ta=function(Ge,_e){var Ve=Ge.name,ze=Ge.initialValues,At=Ge.fields,an=Ge.form,Kn=Ge.preserve,Cr=Ge.children,Mr=Ge.component,yr=Mr===void 0?"form":Mr,si=Ge.validateMessages,wi=Ge.validateTrigger,yo=wi===void 0?"onChange":wi,yi=Ge.onValuesChange,Ei=Ge.onFieldsChange,ni=Ge.onFinish,zi=Ge.onFinishFailed,Ai=Ge.clearOnDestroy,_o=(0,Y.Z)(Ge,oa),na=s.useRef(null),ua=s.useContext(ci),Ea=Ao(an),Ia=(0,zo.Z)(Ea,1),xa=Ia[0],ya=xa.getInternalHooks(ht),ja=ya.useSubscribe,Ca=ya.setInitialValues,Ps=ya.setCallbacks,Ms=ya.setValidateMessages,_s=ya.setPreserve,il=ya.destroyForm;s.useImperativeHandle(_e,function(){return(0,We.Z)((0,We.Z)({},xa),{},{nativeElement:na.current})}),s.useEffect(function(){return ua.registerForm(Ve,xa),function(){ua.unregisterForm(Ve)}},[ua,xa,Ve]),Ms((0,We.Z)((0,We.Z)({},ua.validateMessages),si)),Ps({onValuesChange:yi,onFieldsChange:function(jo){if(ua.triggerFormChange(Ve,jo),Ei){for(var hs=arguments.length,Ls=new Array(hs>1?hs-1:0),ic=1;ic<hs;ic++)Ls[ic-1]=arguments[ic];Ei.apply(void 0,[jo].concat(Ls))}},onFinish:function(jo){ua.triggerFormFinish(Ve,jo),ni&&ni(jo)},onFinishFailed:zi}),_s(Kn);var ol=s.useRef(null);Ca(ze,!ol.current),ol.current||(ol.current=!0),s.useEffect(function(){return function(){return il(Ai)}},[]);var Al,Vs=typeof Cr=="function";if(Vs){var Dl=xa.getFieldsValue(!0);Al=Cr(Dl,xa)}else Al=Cr;ja(!Vs);var pc=s.useRef();s.useEffect(function(){Mi(pc.current||[],At||[])||xa.setFields(At||[]),pc.current=At},[At,xa]);var da=s.useMemo(function(){return(0,We.Z)((0,We.Z)({},xa),{},{validateTrigger:yo})},[xa,yo]),Ha=s.createElement(Et.Provider,{value:null},s.createElement(kt.Provider,{value:da},Al));return yr===!1?Ha:s.createElement(yr,(0,ot.Z)({},_o,{ref:na,onSubmit:function(jo){jo.preventDefault(),jo.stopPropagation(),xa.submit()},onReset:function(jo){var hs;jo.preventDefault(),xa.resetFields(),(hs=_o.onReset)===null||hs===void 0||hs.call(_o,jo)}}),Ha)},Br=Ta;function oo(rn){try{return JSON.stringify(rn)}catch(Ge){return Math.random()}}var No=function(){};function Yo(){for(var rn=arguments.length,Ge=new Array(rn),_e=0;_e<rn;_e++)Ge[_e]=arguments[_e];var Ve=Ge[0],ze=Ge[1],At=ze===void 0?{}:ze,an=Lt(At)?{form:At}:At,Kn=an.form,Cr=(0,s.useState)(),Mr=(0,zo.Z)(Cr,2),yr=Mr[0],si=Mr[1],wi=(0,s.useMemo)(function(){return oo(yr)},[yr]),yo=(0,s.useRef)(wi);yo.current=wi;var yi=(0,s.useContext)(kt),Ei=Kn||yi,ni=Ei&&Ei._init,zi=Ut(Ve),Ai=(0,s.useRef)(zi);return Ai.current=zi,No(zi),(0,s.useEffect)(function(){if(ni){var _o=Ei.getFieldsValue,na=Ei.getInternalHooks,ua=na(ht),Ea=ua.registerWatch,Ia=function(Ca,Ps){var Ms=an.preserve?Ps:Ca;return typeof Ve=="function"?Ve(Ms):(0,_n.Z)(Ms,Ai.current)},xa=Ea(function(ja,Ca){var Ps=Ia(ja,Ca),Ms=oo(Ps);yo.current!==Ms&&(yo.current=Ms,si(Ps))}),ya=Ia(_o(),_o(!0));return yr!==ya&&si(ya),xa}},[ni]),yr}var uo=Yo,Ri=s.forwardRef(Br),fa=Ri;fa.FormProvider=Na,fa.Field=$o,fa.List=Oo,fa.useForm=Ao,fa.useWatch=uo;var ko=fa},88555:function(Zr,jt,F){"use strict";F.d(jt,{Z:function(){return Fe}});var s=F(58190),ot=F(54153),Y=F(5147),c=F(75271),xe=["show"];function We(Me,ve){if(!ve.max)return!0;var te=ve.strategy(Me);return te<=ve.max}function Fe(Me,ve){return c.useMemo(function(){var te={};ve&&(te.show=(0,Y.Z)(ve)==="object"&&ve.formatter?ve.formatter:!!ve),te=(0,ot.Z)((0,ot.Z)({},te),Me);var Ke=te,$e=Ke.show,He=(0,s.Z)(Ke,xe);return(0,ot.Z)((0,ot.Z)({},He),{},{show:!!$e,showFormatter:typeof $e=="function"?$e:void 0,strategy:He.strategy||function(qe){return qe.length}})},[Me,ve])}},44885:function(Zr,jt,F){"use strict";F.d(jt,{Q:function(){return te},Z:function(){return kt}});var s=F(54153),ot=F(23022),Y=F(38926),c=F(5147),xe=F(82187),We=F.n(xe),Fe=F(75271),Me=F(68677),ve=Fe.forwardRef(function(yt,Et){var Vt,Lt,hr,er=yt.inputElement,Hn=yt.children,Ze=yt.prefixCls,Nt=yt.prefix,sn=yt.suffix,Xt=yt.addonBefore,Le=yt.addonAfter,$n=yt.className,cn=yt.style,En=yt.disabled,lt=yt.readOnly,Gt=yt.focused,bn=yt.triggerFocus,fe=yt.allowClear,Wt=yt.value,hi=yt.handleReset,Jr=yt.hidden,Te=yt.classes,Pn=yt.classNames,Lr=yt.dataAttrs,kr=yt.styles,In=yt.components,Nr=yt.onClear,vi=Hn!=null?Hn:er,sr=(In==null?void 0:In.affixWrapper)||"span",it=(In==null?void 0:In.groupWrapper)||"span",Ot=(In==null?void 0:In.wrapper)||"span",zn=(In==null?void 0:In.groupAddon)||"span",dn=(0,Fe.useRef)(null),fn=function(Si){var mi;(mi=dn.current)!==null&&mi!==void 0&&mi.contains(Si.target)&&(bn==null||bn())},xr=(0,Me.X3)(yt),Un=(0,Fe.cloneElement)(vi,{value:Wt,className:We()((Vt=vi.props)===null||Vt===void 0?void 0:Vt.className,!xr&&(Pn==null?void 0:Pn.variant))||null}),Xr=(0,Fe.useRef)(null);if(Fe.useImperativeHandle(Et,function(){return{nativeElement:Xr.current||dn.current}}),xr){var ei=null;if(fe){var Wr=!En&&!lt&&Wt,ti="".concat(Ze,"-clear-icon"),gr=(0,c.Z)(fe)==="object"&&fe!==null&&fe!==void 0&&fe.clearIcon?fe.clearIcon:"\u2716";ei=Fe.createElement("button",{type:"button",tabIndex:-1,onClick:function(Si){hi==null||hi(Si),Nr==null||Nr()},onMouseDown:function(Si){return Si.preventDefault()},className:We()(ti,(0,Y.Z)((0,Y.Z)({},"".concat(ti,"-hidden"),!Wr),"".concat(ti,"-has-suffix"),!!sn))},gr)}var mr="".concat(Ze,"-affix-wrapper"),fr=We()(mr,(0,Y.Z)((0,Y.Z)((0,Y.Z)((0,Y.Z)((0,Y.Z)({},"".concat(Ze,"-disabled"),En),"".concat(mr,"-disabled"),En),"".concat(mr,"-focused"),Gt),"".concat(mr,"-readonly"),lt),"".concat(mr,"-input-with-clear-btn"),sn&&fe&&Wt),Te==null?void 0:Te.affixWrapper,Pn==null?void 0:Pn.affixWrapper,Pn==null?void 0:Pn.variant),wr=(sn||fe)&&Fe.createElement("span",{className:We()("".concat(Ze,"-suffix"),Pn==null?void 0:Pn.suffix),style:kr==null?void 0:kr.suffix},ei,sn);Un=Fe.createElement(sr,(0,ot.Z)({className:fr,style:kr==null?void 0:kr.affixWrapper,onClick:fn},Lr==null?void 0:Lr.affixWrapper,{ref:dn}),Nt&&Fe.createElement("span",{className:We()("".concat(Ze,"-prefix"),Pn==null?void 0:Pn.prefix),style:kr==null?void 0:kr.prefix},Nt),Un,wr)}if((0,Me.He)(yt)){var vr="".concat(Ze,"-group"),jr="".concat(vr,"-addon"),Xn="".concat(vr,"-wrapper"),lr=We()("".concat(Ze,"-wrapper"),vr,Te==null?void 0:Te.wrapper,Pn==null?void 0:Pn.wrapper),Yr=We()(Xn,(0,Y.Z)({},"".concat(Xn,"-disabled"),En),Te==null?void 0:Te.group,Pn==null?void 0:Pn.groupWrapper);Un=Fe.createElement(it,{className:Yr,ref:Xr},Fe.createElement(Ot,{className:lr},Xt&&Fe.createElement(zn,{className:jr},Xt),Un,Le&&Fe.createElement(zn,{className:jr},Le)))}return Fe.cloneElement(Un,{className:We()((Lt=Un.props)===null||Lt===void 0?void 0:Lt.className,$n)||null,style:(0,s.Z)((0,s.Z)({},(hr=Un.props)===null||hr===void 0?void 0:hr.style),cn),hidden:Jr})}),te=ve,Ke=F(46865),$e=F(89692),He=F(58190),qe=F(93954),dt=F(18051),Je=F(88555),ht=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","onKeyUp","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","count","type","classes","classNames","styles","onCompositionStart","onCompositionEnd"],bt=(0,Fe.forwardRef)(function(yt,Et){var Vt=yt.autoComplete,Lt=yt.onChange,hr=yt.onFocus,er=yt.onBlur,Hn=yt.onPressEnter,Ze=yt.onKeyDown,Nt=yt.onKeyUp,sn=yt.prefixCls,Xt=sn===void 0?"rc-input":sn,Le=yt.disabled,$n=yt.htmlSize,cn=yt.className,En=yt.maxLength,lt=yt.suffix,Gt=yt.showCount,bn=yt.count,fe=yt.type,Wt=fe===void 0?"text":fe,hi=yt.classes,Jr=yt.classNames,Te=yt.styles,Pn=yt.onCompositionStart,Lr=yt.onCompositionEnd,kr=(0,He.Z)(yt,ht),In=(0,Fe.useState)(!1),Nr=(0,$e.Z)(In,2),vi=Nr[0],sr=Nr[1],it=(0,Fe.useRef)(!1),Ot=(0,Fe.useRef)(!1),zn=(0,Fe.useRef)(null),dn=(0,Fe.useRef)(null),fn=function(Dr){zn.current&&(0,Me.nH)(zn.current,Dr)},xr=(0,qe.Z)(yt.defaultValue,{value:yt.value}),Un=(0,$e.Z)(xr,2),Xr=Un[0],ei=Un[1],Wr=Xr==null?"":String(Xr),ti=(0,Fe.useState)(null),gr=(0,$e.Z)(ti,2),mr=gr[0],fr=gr[1],wr=(0,Je.Z)(bn,Gt),vr=wr.max||En,jr=wr.strategy(Wr),Xn=!!vr&&jr>vr;(0,Fe.useImperativeHandle)(Et,function(){var Qn;return{focus:fn,blur:function(){var ui;(ui=zn.current)===null||ui===void 0||ui.blur()},setSelectionRange:function(ui,oi,Xi){var Ji;(Ji=zn.current)===null||Ji===void 0||Ji.setSelectionRange(ui,oi,Xi)},select:function(){var ui;(ui=zn.current)===null||ui===void 0||ui.select()},input:zn.current,nativeElement:((Qn=dn.current)===null||Qn===void 0?void 0:Qn.nativeElement)||zn.current}}),(0,Fe.useEffect)(function(){Ot.current&&(Ot.current=!1),sr(function(Qn){return Qn&&Le?!1:Qn})},[Le]);var lr=function(Dr,ui,oi){var Xi=ui;if(!it.current&&wr.exceedFormatter&&wr.max&&wr.strategy(ui)>wr.max){if(Xi=wr.exceedFormatter(ui,{max:wr.max}),ui!==Xi){var Ji,Ro;fr([((Ji=zn.current)===null||Ji===void 0?void 0:Ji.selectionStart)||0,((Ro=zn.current)===null||Ro===void 0?void 0:Ro.selectionEnd)||0])}}else if(oi.source==="compositionEnd")return;ei(Xi),zn.current&&(0,Me.rJ)(zn.current,Dr,Lt,Xi)};(0,Fe.useEffect)(function(){if(mr){var Qn;(Qn=zn.current)===null||Qn===void 0||Qn.setSelectionRange.apply(Qn,(0,Ke.Z)(mr))}},[mr]);var Yr=function(Dr){lr(Dr,Dr.target.value,{source:"change"})},Fn=function(Dr){it.current=!1,lr(Dr,Dr.currentTarget.value,{source:"compositionEnd"}),Lr==null||Lr(Dr)},Si=function(Dr){Hn&&Dr.key==="Enter"&&!Ot.current&&(Ot.current=!0,Hn(Dr)),Ze==null||Ze(Dr)},mi=function(Dr){Dr.key==="Enter"&&(Ot.current=!1),Nt==null||Nt(Dr)},Hi=function(Dr){sr(!0),hr==null||hr(Dr)},ho=function(Dr){Ot.current&&(Ot.current=!1),sr(!1),er==null||er(Dr)},Ur=function(Dr){ei(""),fn(),zn.current&&(0,Me.rJ)(zn.current,Dr,Lt)},eo=Xn&&"".concat(Xt,"-out-of-range"),en=function(){var Dr=(0,dt.Z)(yt,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","count","classes","htmlSize","styles","classNames","onClear"]);return Fe.createElement("input",(0,ot.Z)({autoComplete:Vt},Dr,{onChange:Yr,onFocus:Hi,onBlur:ho,onKeyDown:Si,onKeyUp:mi,className:We()(Xt,(0,Y.Z)({},"".concat(Xt,"-disabled"),Le),Jr==null?void 0:Jr.input),style:Te==null?void 0:Te.input,ref:zn,size:$n,type:Wt,onCompositionStart:function(oi){it.current=!0,Pn==null||Pn(oi)},onCompositionEnd:Fn}))},Mn=function(){var Dr=Number(vr)>0;if(lt||wr.show){var ui=wr.showFormatter?wr.showFormatter({value:Wr,count:jr,maxLength:vr}):"".concat(jr).concat(Dr?" / ".concat(vr):"");return Fe.createElement(Fe.Fragment,null,wr.show&&Fe.createElement("span",{className:We()("".concat(Xt,"-show-count-suffix"),(0,Y.Z)({},"".concat(Xt,"-show-count-has-suffix"),!!lt),Jr==null?void 0:Jr.count),style:(0,s.Z)({},Te==null?void 0:Te.count)},ui),lt)}return null};return Fe.createElement(te,(0,ot.Z)({},kr,{prefixCls:Xt,className:We()(cn,eo),handleReset:Ur,value:Wr,focused:vi,triggerFocus:fn,suffix:Mn(),disabled:Le,classes:hi,classNames:Jr,styles:Te}),en())}),Ue=bt,kt=Ue},68677:function(Zr,jt,F){"use strict";F.d(jt,{He:function(){return s},X3:function(){return ot},nH:function(){return xe},rJ:function(){return c}});function s(We){return!!(We.addonBefore||We.addonAfter)}function ot(We){return!!(We.prefix||We.suffix||We.allowClear)}function Y(We,Fe,Me){var ve=Fe.cloneNode(!0),te=Object.create(We,{target:{value:ve},currentTarget:{value:ve}});return ve.value=Me,typeof Fe.selectionStart=="number"&&typeof Fe.selectionEnd=="number"&&(ve.selectionStart=Fe.selectionStart,ve.selectionEnd=Fe.selectionEnd),ve.setSelectionRange=function(){Fe.setSelectionRange.apply(Fe,arguments)},te}function c(We,Fe,Me,ve){if(Me){var te=Fe;if(Fe.type==="click"){te=Y(Fe,We,""),Me(te);return}if(We.type!=="file"&&ve!==void 0){te=Y(Fe,We,ve),Me(te);return}Me(te)}}function xe(We,Fe){if(We){We.focus(Fe);var Me=Fe||{},ve=Me.cursor;if(ve){var te=We.value.length;switch(ve){case"start":We.setSelectionRange(0,0);break;case"end":We.setSelectionRange(te,te);break;default:We.setSelectionRange(0,te)}}}}},18507:function(Zr,jt){"use strict";var F={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"};jt.Z=F},21125:function(Zr,jt,F){"use strict";F.d(jt,{ZP:function(){return Fe}});var s=F(89692),ot=F(75271),Y=F(18415),c=0,xe=(0,Y.Z)();function We(){var Me;return xe?(Me=c,c+=1):Me="TEST_OR_SSR",Me}function Fe(Me){var ve=ot.useState(),te=(0,s.Z)(ve,2),Ke=te[0],$e=te[1];return ot.useEffect(function(){$e("rc_select_".concat(We()))},[]),Me||Ke}},12321:function(Zr,jt,F){"use strict";F.d(jt,{Ac:function(){return Xn},Xo:function(){return Yr},Wx:function(){return Si},ZP:function(){return Qt},lk:function(){return kt}});var s=F(23022),ot=F(46865),Y=F(38926),c=F(54153),xe=F(89692),We=F(58190),Fe=F(5147),Me=F(93954),ve=F(4449),te=F(75271),Ke=F(82187),$e=F.n(Ke),He=F(92076),qe=F(21611),dt=F(42684),Je=function(rt){var xn=rt.className,yn=rt.customizeIcon,Zn=rt.customizeIconProps,_r=rt.children,ir=rt.onMouseDown,Or=rt.onClick,Qr=typeof yn=="function"?yn(Zn):yn;return te.createElement("span",{className:xn,onMouseDown:function(Ui){Ui.preventDefault(),ir==null||ir(Ui)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:Or,"aria-hidden":!0},Qr!==void 0?Qr:te.createElement("span",{className:$e()(xn.split(/\s+/).map(function(ii){return"".concat(ii,"-icon")}))},_r))},ht=Je,bt=function(rt,xn,yn,Zn,_r){var ir=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,Or=arguments.length>6?arguments[6]:void 0,Qr=arguments.length>7?arguments[7]:void 0,ii=te.useMemo(function(){if((0,Fe.Z)(Zn)==="object")return Zn.clearIcon;if(_r)return _r},[Zn,_r]),Ui=te.useMemo(function(){return!!(!ir&&Zn&&(yn.length||Or)&&!(Qr==="combobox"&&Or===""))},[Zn,ir,yn.length,Or,Qr]);return{allowClear:Ui,clearIcon:te.createElement(ht,{className:"".concat(rt,"-clear"),onMouseDown:xn,customizeIcon:ii},"\xD7")}},Ue=te.createContext(null);function kt(){return te.useContext(Ue)}function yt(){var ct=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,rt=te.useState(!1),xn=(0,xe.Z)(rt,2),yn=xn[0],Zn=xn[1],_r=te.useRef(null),ir=function(){window.clearTimeout(_r.current)};te.useEffect(function(){return ir},[]);var Or=function(ii,Ui){ir(),_r.current=window.setTimeout(function(){Zn(ii),Ui&&Ui()},ct)};return[yn,Or,ir]}function Et(){var ct=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,rt=te.useRef(null),xn=te.useRef(null);te.useEffect(function(){return function(){window.clearTimeout(xn.current)}},[]);function yn(Zn){(Zn||rt.current===null)&&(rt.current=Zn),window.clearTimeout(xn.current),xn.current=window.setTimeout(function(){rt.current=null},ct)}return[function(){return rt.current},yn]}function Vt(ct,rt,xn,yn){var Zn=te.useRef(null);Zn.current={open:rt,triggerOpen:xn,customizedTrigger:yn},te.useEffect(function(){function _r(ir){var Or;if(!((Or=Zn.current)!==null&&Or!==void 0&&Or.customizedTrigger)){var Qr=ir.target;Qr.shadowRoot&&ir.composed&&(Qr=ir.composedPath()[0]||Qr),Zn.current.open&&ct().filter(function(ii){return ii}).every(function(ii){return!ii.contains(Qr)&&ii!==Qr})&&Zn.current.triggerOpen(!1)}}return window.addEventListener("mousedown",_r),function(){return window.removeEventListener("mousedown",_r)}},[])}var Lt=F(14583);function hr(ct){return ct&&![Lt.Z.ESC,Lt.Z.SHIFT,Lt.Z.BACKSPACE,Lt.Z.TAB,Lt.Z.WIN_KEY,Lt.Z.ALT,Lt.Z.META,Lt.Z.WIN_KEY_RIGHT,Lt.Z.CTRL,Lt.Z.SEMICOLON,Lt.Z.EQUALS,Lt.Z.CAPS_LOCK,Lt.Z.CONTEXT_MENU,Lt.Z.F1,Lt.Z.F2,Lt.Z.F3,Lt.Z.F4,Lt.Z.F5,Lt.Z.F6,Lt.Z.F7,Lt.Z.F8,Lt.Z.F9,Lt.Z.F10,Lt.Z.F11,Lt.Z.F12].includes(ct)}var er=F(71305),Hn=F(50009),Ze=function(rt,xn){var yn,Zn=rt.prefixCls,_r=rt.id,ir=rt.inputElement,Or=rt.disabled,Qr=rt.tabIndex,ii=rt.autoFocus,Ui=rt.autoComplete,mt=rt.editable,_n=rt.activeDescendantId,Ut=rt.value,An=rt.maxLength,or=rt.onKeyDown,qr=rt.onMouseDown,Mi=rt.onChange,fo=rt.onPaste,$i=rt.onCompositionStart,Qi=rt.onCompositionEnd,co=rt.onBlur,Ni=rt.open,Io=rt.attrs,Wo=ir||te.createElement("input",null),$o=Wo,vo=$o.ref,Oo=$o.props,zo=Oo.onKeyDown,Jo=Oo.onChange,to=Oo.onMouseDown,Co=Oo.onCompositionStart,mo=Oo.onCompositionEnd,so=Oo.onBlur,Fi=Oo.style;return(0,ve.Kp)(!("maxLength"in Wo.props),"Passing 'maxLength' to input element directly may not work because input in BaseSelect is controlled."),Wo=te.cloneElement(Wo,(0,c.Z)((0,c.Z)((0,c.Z)({type:"search"},Oo),{},{id:_r,ref:(0,dt.sQ)(xn,vo),disabled:Or,tabIndex:Qr,autoComplete:Ui||"off",autoFocus:ii,className:$e()("".concat(Zn,"-selection-search-input"),(yn=Wo)===null||yn===void 0||(yn=yn.props)===null||yn===void 0?void 0:yn.className),role:"combobox","aria-expanded":Ni||!1,"aria-haspopup":"listbox","aria-owns":"".concat(_r,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(_r,"_list"),"aria-activedescendant":Ni?_n:void 0},Io),{},{value:mt?Ut:"",maxLength:An,readOnly:!mt,unselectable:mt?null:"on",style:(0,c.Z)((0,c.Z)({},Fi),{},{opacity:mt?null:0}),onKeyDown:function(Rr){or(Rr),zo&&zo(Rr)},onMouseDown:function(Rr){qr(Rr),to&&to(Rr)},onChange:function(Rr){Mi(Rr),Jo&&Jo(Rr)},onCompositionStart:function(Rr){$i(Rr),Co&&Co(Rr)},onCompositionEnd:function(Rr){Qi(Rr),mo&&mo(Rr)},onPaste:fo,onBlur:function(Rr){co(Rr),so&&so(Rr)}})),Wo},Nt=te.forwardRef(Ze),sn=Nt;function Xt(ct){return Array.isArray(ct)?ct:ct!==void 0?[ct]:[]}var Le=typeof window!="undefined"&&window.document&&window.document.documentElement,$n=Le;function cn(ct){return ct!=null}function En(ct){return!ct&&ct!==0}function lt(ct){return["string","number"].includes((0,Fe.Z)(ct))}function Gt(ct){var rt=void 0;return ct&&(lt(ct.title)?rt=ct.title.toString():lt(ct.label)&&(rt=ct.label.toString())),rt}function bn(ct,rt){$n?te.useLayoutEffect(ct,rt):te.useEffect(ct,rt)}function fe(ct){var rt;return(rt=ct.key)!==null&&rt!==void 0?rt:ct.value}var Wt=function(rt){rt.preventDefault(),rt.stopPropagation()},hi=function(rt){var xn=rt.id,yn=rt.prefixCls,Zn=rt.values,_r=rt.open,ir=rt.searchValue,Or=rt.autoClearSearchValue,Qr=rt.inputRef,ii=rt.placeholder,Ui=rt.disabled,mt=rt.mode,_n=rt.showSearch,Ut=rt.autoFocus,An=rt.autoComplete,or=rt.activeDescendantId,qr=rt.tabIndex,Mi=rt.removeIcon,fo=rt.maxTagCount,$i=rt.maxTagTextLength,Qi=rt.maxTagPlaceholder,co=Qi===void 0?function(ko){return"+ ".concat(ko.length," ...")}:Qi,Ni=rt.tagRender,Io=rt.onToggleOpen,Wo=rt.onRemove,$o=rt.onInputChange,vo=rt.onInputPaste,Oo=rt.onInputKeyDown,zo=rt.onInputMouseDown,Jo=rt.onInputCompositionStart,to=rt.onInputCompositionEnd,Co=rt.onInputBlur,mo=te.useRef(null),so=(0,te.useState)(0),Fi=(0,xe.Z)(so,2),Qo=Fi[0],Rr=Fi[1],Ao=(0,te.useState)(!1),ea=(0,xe.Z)(Ao,2),Na=ea[0],ci=ea[1],oa="".concat(yn,"-selection"),Ta=_r||mt==="multiple"&&Or===!1||mt==="tags"?ir:"",Br=mt==="tags"||mt==="multiple"&&Or===!1||_n&&(_r||Na);bn(function(){Rr(mo.current.scrollWidth)},[Ta]);var oo=function(rn,Ge,_e,Ve,ze){return te.createElement("span",{title:Gt(rn),className:$e()("".concat(oa,"-item"),(0,Y.Z)({},"".concat(oa,"-item-disabled"),_e))},te.createElement("span",{className:"".concat(oa,"-item-content")},Ge),Ve&&te.createElement(ht,{className:"".concat(oa,"-item-remove"),onMouseDown:Wt,onClick:ze,customizeIcon:Mi},"\xD7"))},No=function(rn,Ge,_e,Ve,ze,At){var an=function(Cr){Wt(Cr),Io(!_r)};return te.createElement("span",{onMouseDown:an},Ni({label:Ge,value:rn,disabled:_e,closable:Ve,onClose:ze,isMaxTag:!!At}))},Yo=function(rn){var Ge=rn.disabled,_e=rn.label,Ve=rn.value,ze=!Ui&&!Ge,At=_e;if(typeof $i=="number"&&(typeof _e=="string"||typeof _e=="number")){var an=String(At);an.length>$i&&(At="".concat(an.slice(0,$i),"..."))}var Kn=function(Mr){Mr&&Mr.stopPropagation(),Wo(rn)};return typeof Ni=="function"?No(Ve,At,Ge,ze,Kn):oo(rn,At,Ge,ze,Kn)},uo=function(rn){if(!Zn.length)return null;var Ge=typeof co=="function"?co(rn):co;return typeof Ni=="function"?No(void 0,Ge,!1,!1,void 0,!0):oo({title:Ge},Ge,!1)},Ri=te.createElement("div",{className:"".concat(oa,"-search"),style:{width:Qo},onFocus:function(){ci(!0)},onBlur:function(){ci(!1)}},te.createElement(sn,{ref:Qr,open:_r,prefixCls:yn,id:xn,inputElement:null,disabled:Ui,autoFocus:Ut,autoComplete:An,editable:Br,activeDescendantId:or,value:Ta,onKeyDown:Oo,onMouseDown:zo,onChange:$o,onPaste:vo,onCompositionStart:Jo,onCompositionEnd:to,onBlur:Co,tabIndex:qr,attrs:(0,er.Z)(rt,!0)}),te.createElement("span",{ref:mo,className:"".concat(oa,"-search-mirror"),"aria-hidden":!0},Ta,"\xA0")),fa=te.createElement(Hn.Z,{prefixCls:"".concat(oa,"-overflow"),data:Zn,renderItem:Yo,renderRest:uo,suffix:Ri,itemKey:fe,maxCount:fo});return te.createElement("span",{className:"".concat(oa,"-wrap")},fa,!Zn.length&&!Ta&&te.createElement("span",{className:"".concat(oa,"-placeholder")},ii))},Jr=hi,Te=function(rt){var xn=rt.inputElement,yn=rt.prefixCls,Zn=rt.id,_r=rt.inputRef,ir=rt.disabled,Or=rt.autoFocus,Qr=rt.autoComplete,ii=rt.activeDescendantId,Ui=rt.mode,mt=rt.open,_n=rt.values,Ut=rt.placeholder,An=rt.tabIndex,or=rt.showSearch,qr=rt.searchValue,Mi=rt.activeValue,fo=rt.maxLength,$i=rt.onInputKeyDown,Qi=rt.onInputMouseDown,co=rt.onInputChange,Ni=rt.onInputPaste,Io=rt.onInputCompositionStart,Wo=rt.onInputCompositionEnd,$o=rt.onInputBlur,vo=rt.title,Oo=te.useState(!1),zo=(0,xe.Z)(Oo,2),Jo=zo[0],to=zo[1],Co=Ui==="combobox",mo=Co||or,so=_n[0],Fi=qr||"";Co&&Mi&&!Jo&&(Fi=Mi),te.useEffect(function(){Co&&to(!1)},[Co,Mi]);var Qo=Ui!=="combobox"&&!mt&&!or?!1:!!Fi,Rr=vo===void 0?Gt(so):vo,Ao=te.useMemo(function(){return so?null:te.createElement("span",{className:"".concat(yn,"-selection-placeholder"),style:Qo?{visibility:"hidden"}:void 0},Ut)},[so,Qo,Ut,yn]);return te.createElement("span",{className:"".concat(yn,"-selection-wrap")},te.createElement("span",{className:"".concat(yn,"-selection-search")},te.createElement(sn,{ref:_r,prefixCls:yn,id:Zn,open:mt,inputElement:xn,disabled:ir,autoFocus:Or,autoComplete:Qr,editable:mo,activeDescendantId:ii,value:Fi,onKeyDown:$i,onMouseDown:Qi,onChange:function(Na){to(!0),co(Na)},onPaste:Ni,onCompositionStart:Io,onCompositionEnd:Wo,onBlur:$o,tabIndex:An,attrs:(0,er.Z)(rt,!0),maxLength:Co?fo:void 0})),!Co&&so?te.createElement("span",{className:"".concat(yn,"-selection-item"),title:Rr,style:Qo?{visibility:"hidden"}:void 0},so.label):null,Ao)},Pn=Te,Lr=function(rt,xn){var yn=(0,te.useRef)(null),Zn=(0,te.useRef)(!1),_r=rt.prefixCls,ir=rt.open,Or=rt.mode,Qr=rt.showSearch,ii=rt.tokenWithEnter,Ui=rt.disabled,mt=rt.prefix,_n=rt.autoClearSearchValue,Ut=rt.onSearch,An=rt.onSearchSubmit,or=rt.onToggleOpen,qr=rt.onInputKeyDown,Mi=rt.onInputBlur,fo=rt.domRef;te.useImperativeHandle(xn,function(){return{focus:function(Rr){yn.current.focus(Rr)},blur:function(){yn.current.blur()}}});var $i=Et(0),Qi=(0,xe.Z)($i,2),co=Qi[0],Ni=Qi[1],Io=function(Rr){var Ao=Rr.which,ea=yn.current instanceof HTMLTextAreaElement;!ea&&ir&&(Ao===Lt.Z.UP||Ao===Lt.Z.DOWN)&&Rr.preventDefault(),qr&&qr(Rr),Ao===Lt.Z.ENTER&&Or==="tags"&&!Zn.current&&!ir&&(An==null||An(Rr.target.value)),!(ea&&!ir&&~[Lt.Z.UP,Lt.Z.DOWN,Lt.Z.LEFT,Lt.Z.RIGHT].indexOf(Ao))&&hr(Ao)&&or(!0)},Wo=function(){Ni(!0)},$o=(0,te.useRef)(null),vo=function(Rr){Ut(Rr,!0,Zn.current)!==!1&&or(!0)},Oo=function(){Zn.current=!0},zo=function(Rr){Zn.current=!1,Or!=="combobox"&&vo(Rr.target.value)},Jo=function(Rr){var Ao=Rr.target.value;if(ii&&$o.current&&/[\r\n]/.test($o.current)){var ea=$o.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");Ao=Ao.replace(ea,$o.current)}$o.current=null,vo(Ao)},to=function(Rr){var Ao=Rr.clipboardData,ea=Ao==null?void 0:Ao.getData("text");$o.current=ea||""},Co=function(Rr){var Ao=Rr.target;if(Ao!==yn.current){var ea=document.body.style.msTouchAction!==void 0;ea?setTimeout(function(){yn.current.focus()}):yn.current.focus()}},mo=function(Rr){var Ao=co();Rr.target!==yn.current&&!Ao&&!(Or==="combobox"&&Ui)&&Rr.preventDefault(),(Or!=="combobox"&&(!Qr||!Ao)||!ir)&&(ir&&_n!==!1&&Ut("",!0,!1),or())},so={inputRef:yn,onInputKeyDown:Io,onInputMouseDown:Wo,onInputChange:Jo,onInputPaste:to,onInputCompositionStart:Oo,onInputCompositionEnd:zo,onInputBlur:Mi},Fi=Or==="multiple"||Or==="tags"?te.createElement(Jr,(0,s.Z)({},rt,so)):te.createElement(Pn,(0,s.Z)({},rt,so));return te.createElement("div",{ref:fo,className:"".concat(_r,"-selector"),onClick:Co,onMouseDown:mo},mt&&te.createElement("div",{className:"".concat(_r,"-prefix")},mt),Fi)},kr=te.forwardRef(Lr),In=kr,Nr=F(83190),vi=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],sr=function(rt){var xn=rt===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:xn,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:xn,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:xn,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:xn,adjustY:1},htmlRegion:"scroll"}}},it=function(rt,xn){var yn=rt.prefixCls,Zn=rt.disabled,_r=rt.visible,ir=rt.children,Or=rt.popupElement,Qr=rt.animation,ii=rt.transitionName,Ui=rt.dropdownStyle,mt=rt.dropdownClassName,_n=rt.direction,Ut=_n===void 0?"ltr":_n,An=rt.placement,or=rt.builtinPlacements,qr=rt.dropdownMatchSelectWidth,Mi=rt.dropdownRender,fo=rt.dropdownAlign,$i=rt.getPopupContainer,Qi=rt.empty,co=rt.getTriggerDOMNode,Ni=rt.onPopupVisibleChange,Io=rt.onPopupMouseEnter,Wo=(0,We.Z)(rt,vi),$o="".concat(yn,"-dropdown"),vo=Or;Mi&&(vo=Mi(Or));var Oo=te.useMemo(function(){return or||sr(qr)},[or,qr]),zo=Qr?"".concat($o,"-").concat(Qr):ii,Jo=typeof qr=="number",to=te.useMemo(function(){return Jo?null:qr===!1?"minWidth":"width"},[qr,Jo]),Co=Ui;Jo&&(Co=(0,c.Z)((0,c.Z)({},Co),{},{width:qr}));var mo=te.useRef(null);return te.useImperativeHandle(xn,function(){return{getPopupElement:function(){var Fi;return(Fi=mo.current)===null||Fi===void 0?void 0:Fi.popupElement}}}),te.createElement(Nr.Z,(0,s.Z)({},Wo,{showAction:Ni?["click"]:[],hideAction:Ni?["click"]:[],popupPlacement:An||(Ut==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:Oo,prefixCls:$o,popupTransitionName:zo,popup:te.createElement("div",{onMouseEnter:Io},vo),ref:mo,stretch:to,popupAlign:fo,popupVisible:_r,getPopupContainer:$i,popupClassName:$e()(mt,(0,Y.Z)({},"".concat($o,"-empty"),Qi)),popupStyle:Co,getTriggerDOMNode:co,onPopupVisibleChange:Ni}),ir)},Ot=te.forwardRef(it),zn=Ot,dn=F(70615);function fn(ct,rt){var xn=ct.key,yn;return"value"in ct&&(yn=ct.value),xn!=null?xn:yn!==void 0?yn:"rc-index-key-".concat(rt)}function xr(ct){return typeof ct!="undefined"&&!Number.isNaN(ct)}function Un(ct,rt){var xn=ct||{},yn=xn.label,Zn=xn.value,_r=xn.options,ir=xn.groupLabel,Or=yn||(rt?"children":"label");return{label:Or,value:Zn||"value",options:_r||"options",groupLabel:ir||Or}}function Xr(ct){var rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},xn=rt.fieldNames,yn=rt.childrenAsData,Zn=[],_r=Un(xn,!1),ir=_r.label,Or=_r.value,Qr=_r.options,ii=_r.groupLabel;function Ui(mt,_n){Array.isArray(mt)&&mt.forEach(function(Ut){if(_n||!(Qr in Ut)){var An=Ut[Or];Zn.push({key:fn(Ut,Zn.length),groupOption:_n,data:Ut,label:Ut[ir],value:An})}else{var or=Ut[ii];or===void 0&&yn&&(or=Ut.label),Zn.push({key:fn(Ut,Zn.length),group:!0,data:Ut,label:or}),Ui(Ut[Qr],!0)}})}return Ui(ct,!1),Zn}function ei(ct){var rt=(0,c.Z)({},ct);return"props"in rt||Object.defineProperty(rt,"props",{get:function(){return(0,ve.ZP)(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),rt}}),rt}var Wr=function(rt,xn,yn){if(!xn||!xn.length)return null;var Zn=!1,_r=function Or(Qr,ii){var Ui=(0,dn.Z)(ii),mt=Ui[0],_n=Ui.slice(1);if(!mt)return[Qr];var Ut=Qr.split(mt);return Zn=Zn||Ut.length>1,Ut.reduce(function(An,or){return[].concat((0,ot.Z)(An),(0,ot.Z)(Or(or,_n)))},[]).filter(Boolean)},ir=_r(rt,xn);return Zn?typeof yn!="undefined"?ir.slice(0,yn):ir:null},ti=te.createContext(null),gr=ti;function mr(ct){var rt=ct.visible,xn=ct.values;if(!rt)return null;var yn=50;return te.createElement("span",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"".concat(xn.slice(0,yn).map(function(Zn){var _r=Zn.label,ir=Zn.value;return["number","string"].includes((0,Fe.Z)(_r))?_r:ir}).join(", ")),xn.length>yn?", ...":null)}var fr=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","prefix","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],wr=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"],vr=function(rt){return rt==="tags"||rt==="multiple"},jr=te.forwardRef(function(ct,rt){var xn,yn=ct.id,Zn=ct.prefixCls,_r=ct.className,ir=ct.showSearch,Or=ct.tagRender,Qr=ct.direction,ii=ct.omitDomProps,Ui=ct.displayValues,mt=ct.onDisplayValuesChange,_n=ct.emptyOptions,Ut=ct.notFoundContent,An=Ut===void 0?"Not Found":Ut,or=ct.onClear,qr=ct.mode,Mi=ct.disabled,fo=ct.loading,$i=ct.getInputElement,Qi=ct.getRawInputElement,co=ct.open,Ni=ct.defaultOpen,Io=ct.onDropdownVisibleChange,Wo=ct.activeValue,$o=ct.onActiveValueChange,vo=ct.activeDescendantId,Oo=ct.searchValue,zo=ct.autoClearSearchValue,Jo=ct.onSearch,to=ct.onSearchSplit,Co=ct.tokenSeparators,mo=ct.allowClear,so=ct.prefix,Fi=ct.suffixIcon,Qo=ct.clearIcon,Rr=ct.OptionList,Ao=ct.animation,ea=ct.transitionName,Na=ct.dropdownStyle,ci=ct.dropdownClassName,oa=ct.dropdownMatchSelectWidth,Ta=ct.dropdownRender,Br=ct.dropdownAlign,oo=ct.placement,No=ct.builtinPlacements,Yo=ct.getPopupContainer,uo=ct.showAction,Ri=uo===void 0?[]:uo,fa=ct.onFocus,ko=ct.onBlur,rn=ct.onKeyUp,Ge=ct.onKeyDown,_e=ct.onMouseDown,Ve=(0,We.Z)(ct,fr),ze=vr(qr),At=(ir!==void 0?ir:ze)||qr==="combobox",an=(0,c.Z)({},Ve);wr.forEach(function(Yi){delete an[Yi]}),ii==null||ii.forEach(function(Yi){delete an[Yi]});var Kn=te.useState(!1),Cr=(0,xe.Z)(Kn,2),Mr=Cr[0],yr=Cr[1];te.useEffect(function(){yr((0,qe.Z)())},[]);var si=te.useRef(null),wi=te.useRef(null),yo=te.useRef(null),yi=te.useRef(null),Ei=te.useRef(null),ni=te.useRef(!1),zi=yt(),Ai=(0,xe.Z)(zi,3),_o=Ai[0],na=Ai[1],ua=Ai[2];te.useImperativeHandle(rt,function(){var Yi,Zi;return{focus:(Yi=yi.current)===null||Yi===void 0?void 0:Yi.focus,blur:(Zi=yi.current)===null||Zi===void 0?void 0:Zi.blur,scrollTo:function(Mo){var Go;return(Go=Ei.current)===null||Go===void 0?void 0:Go.scrollTo(Mo)},nativeElement:si.current||wi.current}});var Ea=te.useMemo(function(){var Yi;if(qr!=="combobox")return Oo;var Zi=(Yi=Ui[0])===null||Yi===void 0?void 0:Yi.value;return typeof Zi=="string"||typeof Zi=="number"?String(Zi):""},[Oo,qr,Ui]),Ia=qr==="combobox"&&typeof $i=="function"&&$i()||null,xa=typeof Qi=="function"&&Qi(),ya=(0,dt.x1)(wi,xa==null||(xn=xa.props)===null||xn===void 0?void 0:xn.ref),ja=te.useState(!1),Ca=(0,xe.Z)(ja,2),Ps=Ca[0],Ms=Ca[1];(0,He.Z)(function(){Ms(!0)},[]);var _s=(0,Me.Z)(!1,{defaultValue:Ni,value:co}),il=(0,xe.Z)(_s,2),ol=il[0],Al=il[1],Vs=Ps?ol:!1,Dl=!An&&_n;(Mi||Dl&&Vs&&qr==="combobox")&&(Vs=!1);var pc=Dl?!1:Vs,da=te.useCallback(function(Yi){var Zi=Yi!==void 0?Yi:!Vs;Mi||(Al(Zi),Vs!==Zi&&(Io==null||Io(Zi)))},[Mi,Vs,Al,Io]),Ha=te.useMemo(function(){return(Co||[]).some(function(Yi){return[`
`,`\r
`].includes(Yi)})},[Co]),aa=te.useContext(gr)||{},jo=aa.maxCount,hs=aa.rawValues,Ls=function(Zi,Bo,Mo){if(!(ze&&xr(jo)&&(hs==null?void 0:hs.size)>=jo)){var Go=!0,Ua=Zi;$o==null||$o(null);var sa=Wr(Zi,Co,xr(jo)?jo-hs.size:void 0),Pa=Mo?null:sa;return qr!=="combobox"&&Pa&&(Ua="",to==null||to(Pa),da(!1),Go=!1),Jo&&Ea!==Ua&&Jo(Ua,{source:Bo?"typing":"effect"}),Go}},ic=function(Zi){!Zi||!Zi.trim()||Jo(Zi,{source:"submit"})};te.useEffect(function(){!Vs&&!ze&&qr!=="combobox"&&Ls("",!1,!1)},[Vs]),te.useEffect(function(){ol&&Mi&&Al(!1),Mi&&!ni.current&&na(!1)},[Mi]);var gc=Et(),jc=(0,xe.Z)(gc,2),_l=jc[0],Yl=jc[1],ra=te.useRef(!1),To=function(Zi){var Bo=_l(),Mo=Zi.key,Go=Mo==="Enter";if(Go&&(qr!=="combobox"&&Zi.preventDefault(),Vs||da(!0)),Yl(!!Ea),Mo==="Backspace"&&!Bo&&ze&&!Ea&&Ui.length){for(var Ua=(0,ot.Z)(Ui),sa=null,Pa=Ua.length-1;Pa>=0;Pa-=1){var es=Ua[Pa];if(!es.disabled){Ua.splice(Pa,1),sa=es;break}}sa&&mt(Ua,{type:"remove",values:[sa]})}for(var Oa=arguments.length,qa=new Array(Oa>1?Oa-1:0),Xa=1;Xa<Oa;Xa++)qa[Xa-1]=arguments[Xa];if(Vs&&(!Go||!ra.current)){var is;Go&&(ra.current=!0),(is=Ei.current)===null||is===void 0||is.onKeyDown.apply(is,[Zi].concat(qa))}Ge==null||Ge.apply(void 0,[Zi].concat(qa))},hu=function(Zi){for(var Bo=arguments.length,Mo=new Array(Bo>1?Bo-1:0),Go=1;Go<Bo;Go++)Mo[Go-1]=arguments[Go];if(Vs){var Ua;(Ua=Ei.current)===null||Ua===void 0||Ua.onKeyUp.apply(Ua,[Zi].concat(Mo))}Zi.key==="Enter"&&(ra.current=!1),rn==null||rn.apply(void 0,[Zi].concat(Mo))},Uo=function(Zi){var Bo=Ui.filter(function(Mo){return Mo!==Zi});mt(Bo,{type:"remove",values:[Zi]})},oc=function(){ra.current=!1},nu=te.useRef(!1),qo=function(){na(!0),Mi||(fa&&!nu.current&&fa.apply(void 0,arguments),Ri.includes("focus")&&da(!0)),nu.current=!0},Ec=function(){ni.current=!0,na(!1,function(){nu.current=!1,ni.current=!1,da(!1)}),!Mi&&(Ea&&(qr==="tags"?Jo(Ea,{source:"submit"}):qr==="multiple"&&Jo("",{source:"blur"})),ko&&ko.apply(void 0,arguments))},vc=[];te.useEffect(function(){return function(){vc.forEach(function(Yi){return clearTimeout(Yi)}),vc.splice(0,vc.length)}},[]);var ru=function(Zi){var Bo,Mo=Zi.target,Go=(Bo=yo.current)===null||Bo===void 0?void 0:Bo.getPopupElement();if(Go&&Go.contains(Mo)){var Ua=setTimeout(function(){var Oa=vc.indexOf(Ua);if(Oa!==-1&&vc.splice(Oa,1),ua(),!Mr&&!Go.contains(document.activeElement)){var qa;(qa=yi.current)===null||qa===void 0||qa.focus()}});vc.push(Ua)}for(var sa=arguments.length,Pa=new Array(sa>1?sa-1:0),es=1;es<sa;es++)Pa[es-1]=arguments[es];_e==null||_e.apply(void 0,[Zi].concat(Pa))},ku=te.useState({}),ac=(0,xe.Z)(ku,2),gl=ac[1];function Ii(){gl({})}var ju;xa&&(ju=function(Zi){da(Zi)}),Vt(function(){var Yi;return[si.current,(Yi=yo.current)===null||Yi===void 0?void 0:Yi.getPopupElement()]},pc,da,!!xa);var ld=te.useMemo(function(){return(0,c.Z)((0,c.Z)({},ct),{},{notFoundContent:An,open:Vs,triggerOpen:pc,id:yn,showSearch:At,multiple:ze,toggleOpen:da})},[ct,An,pc,Vs,yn,At,ze,da]),Yc=!!Fi||fo,Jt;Yc&&(Jt=te.createElement(ht,{className:$e()("".concat(Zn,"-arrow"),(0,Y.Z)({},"".concat(Zn,"-arrow-loading"),fo)),customizeIcon:Fi,customizeIconProps:{loading:fo,searchValue:Ea,open:Vs,focused:_o,showSearch:At}}));var wn=function(){var Zi;or==null||or(),(Zi=yi.current)===null||Zi===void 0||Zi.focus(),mt([],{type:"clear",values:Ui}),Ls("",!1,!1)},jn=bt(Zn,wn,Ui,mo,Qo,Mi,Ea,qr),rr=jn.allowClear,Fr=jn.clearIcon,Li=te.createElement(Rr,{ref:Ei}),no=$e()(Zn,_r,(0,Y.Z)((0,Y.Z)((0,Y.Z)((0,Y.Z)((0,Y.Z)((0,Y.Z)((0,Y.Z)((0,Y.Z)((0,Y.Z)((0,Y.Z)({},"".concat(Zn,"-focused"),_o),"".concat(Zn,"-multiple"),ze),"".concat(Zn,"-single"),!ze),"".concat(Zn,"-allow-clear"),mo),"".concat(Zn,"-show-arrow"),Yc),"".concat(Zn,"-disabled"),Mi),"".concat(Zn,"-loading"),fo),"".concat(Zn,"-open"),Vs),"".concat(Zn,"-customize-input"),Ia),"".concat(Zn,"-show-search"),At)),ki=te.createElement(zn,{ref:yo,disabled:Mi,prefixCls:Zn,visible:pc,popupElement:Li,animation:Ao,transitionName:ea,dropdownStyle:Na,dropdownClassName:ci,direction:Qr,dropdownMatchSelectWidth:oa,dropdownRender:Ta,dropdownAlign:Br,placement:oo,builtinPlacements:No,getPopupContainer:Yo,empty:_n,getTriggerDOMNode:function(Zi){return wi.current||Zi},onPopupVisibleChange:ju,onPopupMouseEnter:Ii},xa?te.cloneElement(xa,{ref:ya}):te.createElement(In,(0,s.Z)({},ct,{domRef:wi,prefixCls:Zn,inputElement:Ia,ref:yi,id:yn,prefix:so,showSearch:At,autoClearSearchValue:zo,mode:qr,activeDescendantId:vo,tagRender:Or,values:Ui,open:Vs,onToggleOpen:da,activeValue:Wo,searchValue:Ea,onSearch:Ls,onSearchSubmit:ic,onRemove:Uo,tokenWithEnter:Ha,onInputBlur:oc}))),po;return xa?po=ki:po=te.createElement("div",(0,s.Z)({className:no},an,{ref:si,onMouseDown:ru,onKeyDown:To,onKeyUp:hu,onFocus:qo,onBlur:Ec}),te.createElement(mr,{visible:_o&&!Vs,values:Ui}),ki,Jt,rr&&Fr),te.createElement(Ue.Provider,{value:ld},po)}),Xn=jr,lr=function(){return null};lr.isSelectOptGroup=!0;var Yr=lr,Fn=function(){return null};Fn.isSelectOption=!0;var Si=Fn,mi=F(54596),Hi=F(18051),ho=F(98131);function Ur(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}var eo=["disabled","title","children","style","className"];function en(ct){return typeof ct=="string"||typeof ct=="number"}var Mn=function(rt,xn){var yn=kt(),Zn=yn.prefixCls,_r=yn.id,ir=yn.open,Or=yn.multiple,Qr=yn.mode,ii=yn.searchValue,Ui=yn.toggleOpen,mt=yn.notFoundContent,_n=yn.onPopupScroll,Ut=te.useContext(gr),An=Ut.maxCount,or=Ut.flattenOptions,qr=Ut.onActiveValue,Mi=Ut.defaultActiveFirstOption,fo=Ut.onSelect,$i=Ut.menuItemSelectedIcon,Qi=Ut.rawValues,co=Ut.fieldNames,Ni=Ut.virtual,Io=Ut.direction,Wo=Ut.listHeight,$o=Ut.listItemHeight,vo=Ut.optionRender,Oo="".concat(Zn,"-item"),zo=(0,mi.Z)(function(){return or},[ir,or],function(uo,Ri){return Ri[0]&&uo[1]!==Ri[1]}),Jo=te.useRef(null),to=te.useMemo(function(){return Or&&xr(An)&&(Qi==null?void 0:Qi.size)>=An},[Or,An,Qi==null?void 0:Qi.size]),Co=function(Ri){Ri.preventDefault()},mo=function(Ri){var fa;(fa=Jo.current)===null||fa===void 0||fa.scrollTo(typeof Ri=="number"?{index:Ri}:Ri)},so=te.useCallback(function(uo){return Qr==="combobox"?!1:Qi.has(uo)},[Qr,(0,ot.Z)(Qi).toString(),Qi.size]),Fi=function(Ri){for(var fa=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,ko=zo.length,rn=0;rn<ko;rn+=1){var Ge=(Ri+rn*fa+ko)%ko,_e=zo[Ge]||{},Ve=_e.group,ze=_e.data;if(!Ve&&!(ze!=null&&ze.disabled)&&(so(ze.value)||!to))return Ge}return-1},Qo=te.useState(function(){return Fi(0)}),Rr=(0,xe.Z)(Qo,2),Ao=Rr[0],ea=Rr[1],Na=function(Ri){var fa=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;ea(Ri);var ko={source:fa?"keyboard":"mouse"},rn=zo[Ri];if(!rn){qr(null,-1,ko);return}qr(rn.value,Ri,ko)};(0,te.useEffect)(function(){Na(Mi!==!1?Fi(0):-1)},[zo.length,ii]);var ci=te.useCallback(function(uo){return Qr==="combobox"?String(uo).toLowerCase()===ii.toLowerCase():Qi.has(uo)},[Qr,ii,(0,ot.Z)(Qi).toString(),Qi.size]);(0,te.useEffect)(function(){var uo=setTimeout(function(){if(!Or&&ir&&Qi.size===1){var fa=Array.from(Qi)[0],ko=zo.findIndex(function(rn){var Ge=rn.data;return Ge.value===fa});ko!==-1&&(Na(ko),mo(ko))}});if(ir){var Ri;(Ri=Jo.current)===null||Ri===void 0||Ri.scrollTo(void 0)}return function(){return clearTimeout(uo)}},[ir,ii]);var oa=function(Ri){Ri!==void 0&&fo(Ri,{selected:!Qi.has(Ri)}),Or||Ui(!1)};if(te.useImperativeHandle(xn,function(){return{onKeyDown:function(Ri){var fa=Ri.which,ko=Ri.ctrlKey;switch(fa){case Lt.Z.N:case Lt.Z.P:case Lt.Z.UP:case Lt.Z.DOWN:{var rn=0;if(fa===Lt.Z.UP?rn=-1:fa===Lt.Z.DOWN?rn=1:Ur()&&ko&&(fa===Lt.Z.N?rn=1:fa===Lt.Z.P&&(rn=-1)),rn!==0){var Ge=Fi(Ao+rn,rn);mo(Ge),Na(Ge,!0)}break}case Lt.Z.TAB:case Lt.Z.ENTER:{var _e,Ve=zo[Ao];Ve&&!(Ve!=null&&(_e=Ve.data)!==null&&_e!==void 0&&_e.disabled)&&!to?oa(Ve.value):oa(void 0),ir&&Ri.preventDefault();break}case Lt.Z.ESC:Ui(!1),ir&&Ri.stopPropagation()}},onKeyUp:function(){},scrollTo:function(Ri){mo(Ri)}}}),zo.length===0)return te.createElement("div",{role:"listbox",id:"".concat(_r,"_list"),className:"".concat(Oo,"-empty"),onMouseDown:Co},mt);var Ta=Object.keys(co).map(function(uo){return co[uo]}),Br=function(Ri){return Ri.label};function oo(uo,Ri){var fa=uo.group;return{role:fa?"presentation":"option",id:"".concat(_r,"_list_").concat(Ri)}}var No=function(Ri){var fa=zo[Ri];if(!fa)return null;var ko=fa.data||{},rn=ko.value,Ge=fa.group,_e=(0,er.Z)(ko,!0),Ve=Br(fa);return fa?te.createElement("div",(0,s.Z)({"aria-label":typeof Ve=="string"&&!Ge?Ve:null},_e,{key:Ri},oo(fa,Ri),{"aria-selected":ci(rn)}),rn):null},Yo={role:"listbox",id:"".concat(_r,"_list")};return te.createElement(te.Fragment,null,Ni&&te.createElement("div",(0,s.Z)({},Yo,{style:{height:0,width:0,overflow:"hidden"}}),No(Ao-1),No(Ao),No(Ao+1)),te.createElement(ho.Z,{itemKey:"key",ref:Jo,data:zo,height:Wo,itemHeight:$o,fullHeight:!1,onMouseDown:Co,onScroll:_n,virtual:Ni,direction:Io,innerProps:Ni?null:Yo},function(uo,Ri){var fa=uo.group,ko=uo.groupOption,rn=uo.data,Ge=uo.label,_e=uo.value,Ve=rn.key;if(fa){var ze,At=(ze=rn.title)!==null&&ze!==void 0?ze:en(Ge)?Ge.toString():void 0;return te.createElement("div",{className:$e()(Oo,"".concat(Oo,"-group"),rn.className),title:At},Ge!==void 0?Ge:Ve)}var an=rn.disabled,Kn=rn.title,Cr=rn.children,Mr=rn.style,yr=rn.className,si=(0,We.Z)(rn,eo),wi=(0,Hi.Z)(si,Ta),yo=so(_e),yi=an||!yo&&to,Ei="".concat(Oo,"-option"),ni=$e()(Oo,Ei,yr,(0,Y.Z)((0,Y.Z)((0,Y.Z)((0,Y.Z)({},"".concat(Ei,"-grouped"),ko),"".concat(Ei,"-active"),Ao===Ri&&!yi),"".concat(Ei,"-disabled"),yi),"".concat(Ei,"-selected"),yo)),zi=Br(uo),Ai=!$i||typeof $i=="function"||yo,_o=typeof zi=="number"?zi:zi||_e,na=en(_o)?_o.toString():void 0;return Kn!==void 0&&(na=Kn),te.createElement("div",(0,s.Z)({},(0,er.Z)(wi),Ni?{}:oo(uo,Ri),{"aria-selected":ci(_e),className:ni,title:na,onMouseMove:function(){Ao===Ri||yi||Na(Ri)},onClick:function(){yi||oa(_e)},style:Mr}),te.createElement("div",{className:"".concat(Ei,"-content")},typeof vo=="function"?vo(uo,{index:Ri}):_o),te.isValidElement($i)||yo,Ai&&te.createElement(ht,{className:"".concat(Oo,"-option-state"),customizeIcon:$i,customizeIconProps:{value:_e,disabled:yi,isSelected:yo}},yo?"\u2713":null))}))},Qn=te.forwardRef(Mn),Dr=Qn,ui=function(ct,rt){var xn=te.useRef({values:new Map,options:new Map}),yn=te.useMemo(function(){var _r=xn.current,ir=_r.values,Or=_r.options,Qr=ct.map(function(mt){if(mt.label===void 0){var _n;return(0,c.Z)((0,c.Z)({},mt),{},{label:(_n=ir.get(mt.value))===null||_n===void 0?void 0:_n.label})}return mt}),ii=new Map,Ui=new Map;return Qr.forEach(function(mt){ii.set(mt.value,mt),Ui.set(mt.value,rt.get(mt.value)||Or.get(mt.value))}),xn.current.values=ii,xn.current.options=Ui,Qr},[ct,rt]),Zn=te.useCallback(function(_r){return rt.get(_r)||xn.current.options.get(_r)},[rt]);return[yn,Zn]};function oi(ct,rt){return Xt(ct).join("").toUpperCase().includes(rt)}var Xi=function(ct,rt,xn,yn,Zn){return te.useMemo(function(){if(!xn||yn===!1)return ct;var _r=rt.options,ir=rt.label,Or=rt.value,Qr=[],ii=typeof yn=="function",Ui=xn.toUpperCase(),mt=ii?yn:function(Ut,An){return Zn?oi(An[Zn],Ui):An[_r]?oi(An[ir!=="children"?ir:"label"],Ui):oi(An[Or],Ui)},_n=ii?function(Ut){return ei(Ut)}:function(Ut){return Ut};return ct.forEach(function(Ut){if(Ut[_r]){var An=mt(xn,_n(Ut));if(An)Qr.push(Ut);else{var or=Ut[_r].filter(function(qr){return mt(xn,_n(qr))});or.length&&Qr.push((0,c.Z)((0,c.Z)({},Ut),{},(0,Y.Z)({},_r,or)))}return}mt(xn,_n(Ut))&&Qr.push(Ut)}),Qr},[ct,yn,Zn,xn,rt])},Ji=F(21125),Ro=F(81626),xo=["children","value"],io=["children"];function Oe(ct){var rt=ct,xn=rt.key,yn=rt.props,Zn=yn.children,_r=yn.value,ir=(0,We.Z)(yn,xo);return(0,c.Z)({key:xn,value:_r!==void 0?_r:xn,children:Zn},ir)}function de(ct){var rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return(0,Ro.Z)(ct).map(function(xn,yn){if(!te.isValidElement(xn)||!xn.type)return null;var Zn=xn,_r=Zn.type.isSelectOptGroup,ir=Zn.key,Or=Zn.props,Qr=Or.children,ii=(0,We.Z)(Or,io);return rt||!_r?Oe(xn):(0,c.Z)((0,c.Z)({key:"__RC_SELECT_GRP__".concat(ir===null?yn:ir,"__"),label:ir},ii),{},{options:de(Qr)})}).filter(function(xn){return xn})}var X=function(rt,xn,yn,Zn,_r){return te.useMemo(function(){var ir=rt,Or=!rt;Or&&(ir=de(xn));var Qr=new Map,ii=new Map,Ui=function(Ut,An,or){or&&typeof or=="string"&&Ut.set(An[or],An)},mt=function _n(Ut){for(var An=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,or=0;or<Ut.length;or+=1){var qr=Ut[or];!qr[yn.options]||An?(Qr.set(qr[yn.value],qr),Ui(ii,qr,yn.label),Ui(ii,qr,Zn),Ui(ii,qr,_r)):_n(qr[yn.options],!0)}};return mt(ir),{options:ir,valueOptions:Qr,labelOptions:ii}},[rt,xn,yn,Zn,_r])},ke=X;function he(ct){var rt=te.useRef();rt.current=ct;var xn=te.useCallback(function(){return rt.current.apply(rt,arguments)},[]);return xn}function Ye(ct){var rt=ct.mode,xn=ct.options,yn=ct.children,Zn=ct.backfill,_r=ct.allowClear,ir=ct.placeholder,Or=ct.getInputElement,Qr=ct.showSearch,ii=ct.onSearch,Ui=ct.defaultOpen,mt=ct.autoFocus,_n=ct.labelInValue,Ut=ct.value,An=ct.inputValue,or=ct.optionLabelProp,qr=isMultiple(rt),Mi=Qr!==void 0?Qr:qr||rt==="combobox",fo=xn||convertChildrenToData(yn);if(warning(rt!=="tags"||fo.every(function(Ni){return!Ni.disabled}),"Please avoid setting option to disabled in tags mode since user can always type text as tag."),rt==="tags"||rt==="combobox"){var $i=fo.some(function(Ni){return Ni.options?Ni.options.some(function(Io){return typeof("value"in Io?Io.value:Io.key)=="number"}):typeof("value"in Ni?Ni.value:Ni.key)=="number"});warning(!$i,"`value` of Option should not use number type when `mode` is `tags` or `combobox`.")}if(warning(rt!=="combobox"||!or,"`combobox` mode not support `optionLabelProp`. Please set `value` on Option directly."),warning(rt==="combobox"||!Zn,"`backfill` only works with `combobox` mode."),warning(rt==="combobox"||!Or,"`getInputElement` only work with `combobox` mode."),noteOnce(rt!=="combobox"||!Or||!_r||!ir,"Customize `getInputElement` should customize clear and placeholder logic instead of configuring `allowClear` and `placeholder`."),ii&&!Mi&&rt!=="combobox"&&rt!=="tags"&&warning(!1,"`onSearch` should work with `showSearch` instead of use alone."),noteOnce(!Ui||mt,"`defaultOpen` makes Select open without focus which means it will not close by click outside. You can set `autoFocus` if needed."),Ut!=null){var Qi=toArray(Ut);warning(!_n||Qi.every(function(Ni){return _typeof(Ni)==="object"&&("key"in Ni||"value"in Ni)}),"`value` should in shape of `{ value: string | number, label?: ReactNode }` when you set `labelInValue` to `true`"),warning(!qr||Array.isArray(Ut),"`value` should be array when `mode` is `multiple` or `tags`")}if(yn){var co=null;toNodeArray(yn).some(function(Ni){if(!React.isValidElement(Ni)||!Ni.type)return!1;var Io=Ni,Wo=Io.type;if(Wo.isSelectOption)return!1;if(Wo.isSelectOptGroup){var $o=toNodeArray(Ni.props.children).every(function(vo){return!React.isValidElement(vo)||!Ni.type||vo.type.isSelectOption?!0:(co=vo.type,!1)});return!$o}return co=Wo,!0}),co&&warning(!1,"`children` should be `Select.Option` or `Select.OptGroup` instead of `".concat(co.displayName||co.name||co,"`.")),warning(An===void 0,"`inputValue` is deprecated, please use `searchValue` instead.")}}function et(ct,rt){if(ct){var xn=function yn(Zn){for(var _r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ir=0;ir<Zn.length;ir++){var Or=Zn[ir];if(Or[rt==null?void 0:rt.value]===null)return warning(!1,"`value` in Select options should not be `null`."),!0;if(!_r&&Array.isArray(Or[rt==null?void 0:rt.options])&&yn(Or[rt==null?void 0:rt.options],!0))break}};xn(ct)}}var tn=null,Tt=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","optionRender","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","labelRender","value","defaultValue","labelInValue","onChange","maxCount"],nn=["inputValue"];function vn(ct){return!ct||(0,Fe.Z)(ct)!=="object"}var Xe=te.forwardRef(function(ct,rt){var xn=ct.id,yn=ct.mode,Zn=ct.prefixCls,_r=Zn===void 0?"rc-select":Zn,ir=ct.backfill,Or=ct.fieldNames,Qr=ct.inputValue,ii=ct.searchValue,Ui=ct.onSearch,mt=ct.autoClearSearchValue,_n=mt===void 0?!0:mt,Ut=ct.onSelect,An=ct.onDeselect,or=ct.dropdownMatchSelectWidth,qr=or===void 0?!0:or,Mi=ct.filterOption,fo=ct.filterSort,$i=ct.optionFilterProp,Qi=ct.optionLabelProp,co=ct.options,Ni=ct.optionRender,Io=ct.children,Wo=ct.defaultActiveFirstOption,$o=ct.menuItemSelectedIcon,vo=ct.virtual,Oo=ct.direction,zo=ct.listHeight,Jo=zo===void 0?200:zo,to=ct.listItemHeight,Co=to===void 0?20:to,mo=ct.labelRender,so=ct.value,Fi=ct.defaultValue,Qo=ct.labelInValue,Rr=ct.onChange,Ao=ct.maxCount,ea=(0,We.Z)(ct,Tt),Na=(0,Ji.ZP)(xn),ci=vr(yn),oa=!!(!co&&Io),Ta=te.useMemo(function(){return Mi===void 0&&yn==="combobox"?!1:Mi},[Mi,yn]),Br=te.useMemo(function(){return Un(Or,oa)},[JSON.stringify(Or),oa]),oo=(0,Me.Z)("",{value:ii!==void 0?ii:Qr,postState:function(Ha){return Ha||""}}),No=(0,xe.Z)(oo,2),Yo=No[0],uo=No[1],Ri=ke(co,Io,Br,$i,Qi),fa=Ri.valueOptions,ko=Ri.labelOptions,rn=Ri.options,Ge=te.useCallback(function(da){var Ha=Xt(da);return Ha.map(function(aa){var jo,hs,Ls,ic,gc;if(vn(aa))jo=aa;else{var jc;Ls=aa.key,hs=aa.label,jo=(jc=aa.value)!==null&&jc!==void 0?jc:Ls}var _l=fa.get(jo);if(_l){var Yl;if(hs===void 0&&(hs=_l==null?void 0:_l[Qi||Br.label]),Ls===void 0&&(Ls=(Yl=_l==null?void 0:_l.key)!==null&&Yl!==void 0?Yl:jo),ic=_l==null?void 0:_l.disabled,gc=_l==null?void 0:_l.title,0)var ra}return{label:hs,value:jo,key:Ls,disabled:ic,title:gc}})},[Br,Qi,fa]),_e=(0,Me.Z)(Fi,{value:so}),Ve=(0,xe.Z)(_e,2),ze=Ve[0],At=Ve[1],an=te.useMemo(function(){var da,Ha=ci&&ze===null?[]:ze,aa=Ge(Ha);return yn==="combobox"&&En((da=aa[0])===null||da===void 0?void 0:da.value)?[]:aa},[ze,Ge,yn,ci]),Kn=ui(an,fa),Cr=(0,xe.Z)(Kn,2),Mr=Cr[0],yr=Cr[1],si=te.useMemo(function(){if(!yn&&Mr.length===1){var da=Mr[0];if(da.value===null&&(da.label===null||da.label===void 0))return[]}return Mr.map(function(Ha){var aa;return(0,c.Z)((0,c.Z)({},Ha),{},{label:(aa=typeof mo=="function"?mo(Ha):Ha.label)!==null&&aa!==void 0?aa:Ha.value})})},[yn,Mr,mo]),wi=te.useMemo(function(){return new Set(Mr.map(function(da){return da.value}))},[Mr]);te.useEffect(function(){if(yn==="combobox"){var da,Ha=(da=Mr[0])===null||da===void 0?void 0:da.value;uo(cn(Ha)?String(Ha):"")}},[Mr]);var yo=he(function(da,Ha){var aa=Ha!=null?Ha:da;return(0,Y.Z)((0,Y.Z)({},Br.value,da),Br.label,aa)}),yi=te.useMemo(function(){if(yn!=="tags")return rn;var da=(0,ot.Z)(rn),Ha=function(jo){return fa.has(jo)};return(0,ot.Z)(Mr).sort(function(aa,jo){return aa.value<jo.value?-1:1}).forEach(function(aa){var jo=aa.value;Ha(jo)||da.push(yo(jo,aa.label))}),da},[yo,rn,fa,Mr,yn]),Ei=Xi(yi,Br,Yo,Ta,$i),ni=te.useMemo(function(){return yn!=="tags"||!Yo||Ei.some(function(da){return da[$i||"value"]===Yo})||Ei.some(function(da){return da[Br.value]===Yo})?Ei:[yo(Yo)].concat((0,ot.Z)(Ei))},[yo,$i,yn,Ei,Yo,Br]),zi=function da(Ha){var aa=(0,ot.Z)(Ha).sort(function(jo,hs){return fo(jo,hs,{searchValue:Yo})});return aa.map(function(jo){return Array.isArray(jo.options)?(0,c.Z)((0,c.Z)({},jo),{},{options:jo.options.length>0?da(jo.options):jo.options}):jo})},Ai=te.useMemo(function(){return fo?zi(ni):ni},[ni,fo,Yo]),_o=te.useMemo(function(){return Xr(Ai,{fieldNames:Br,childrenAsData:oa})},[Ai,Br,oa]),na=function(Ha){var aa=Ge(Ha);if(At(aa),Rr&&(aa.length!==Mr.length||aa.some(function(Ls,ic){var gc;return((gc=Mr[ic])===null||gc===void 0?void 0:gc.value)!==(Ls==null?void 0:Ls.value)}))){var jo=Qo?aa:aa.map(function(Ls){return Ls.value}),hs=aa.map(function(Ls){return ei(yr(Ls.value))});Rr(ci?jo:jo[0],ci?hs:hs[0])}},ua=te.useState(null),Ea=(0,xe.Z)(ua,2),Ia=Ea[0],xa=Ea[1],ya=te.useState(0),ja=(0,xe.Z)(ya,2),Ca=ja[0],Ps=ja[1],Ms=Wo!==void 0?Wo:yn!=="combobox",_s=te.useCallback(function(da,Ha){var aa=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},jo=aa.source,hs=jo===void 0?"keyboard":jo;Ps(Ha),ir&&yn==="combobox"&&da!==null&&hs==="keyboard"&&xa(String(da))},[ir,yn]),il=function(Ha,aa,jo){var hs=function(){var Uo,oc=yr(Ha);return[Qo?{label:oc==null?void 0:oc[Br.label],value:Ha,key:(Uo=oc==null?void 0:oc.key)!==null&&Uo!==void 0?Uo:Ha}:Ha,ei(oc)]};if(aa&&Ut){var Ls=hs(),ic=(0,xe.Z)(Ls,2),gc=ic[0],jc=ic[1];Ut(gc,jc)}else if(!aa&&An&&jo!=="clear"){var _l=hs(),Yl=(0,xe.Z)(_l,2),ra=Yl[0],To=Yl[1];An(ra,To)}},ol=he(function(da,Ha){var aa,jo=ci?Ha.selected:!0;jo?aa=ci?[].concat((0,ot.Z)(Mr),[da]):[da]:aa=Mr.filter(function(hs){return hs.value!==da}),na(aa),il(da,jo),yn==="combobox"?xa(""):(!vr||_n)&&(uo(""),xa(""))}),Al=function(Ha,aa){na(Ha);var jo=aa.type,hs=aa.values;(jo==="remove"||jo==="clear")&&hs.forEach(function(Ls){il(Ls.value,!1,jo)})},Vs=function(Ha,aa){if(uo(Ha),xa(null),aa.source==="submit"){var jo=(Ha||"").trim();if(jo){var hs=Array.from(new Set([].concat((0,ot.Z)(wi),[jo])));na(hs),il(jo,!0),uo("")}return}aa.source!=="blur"&&(yn==="combobox"&&na(Ha),Ui==null||Ui(Ha))},Dl=function(Ha){var aa=Ha;yn!=="tags"&&(aa=Ha.map(function(hs){var Ls=ko.get(hs);return Ls==null?void 0:Ls.value}).filter(function(hs){return hs!==void 0}));var jo=Array.from(new Set([].concat((0,ot.Z)(wi),(0,ot.Z)(aa))));na(jo),jo.forEach(function(hs){il(hs,!0)})},pc=te.useMemo(function(){var da=vo!==!1&&qr!==!1;return(0,c.Z)((0,c.Z)({},Ri),{},{flattenOptions:_o,onActiveValue:_s,defaultActiveFirstOption:Ms,onSelect:ol,menuItemSelectedIcon:$o,rawValues:wi,fieldNames:Br,virtual:da,direction:Oo,listHeight:Jo,listItemHeight:Co,childrenAsData:oa,maxCount:Ao,optionRender:Ni})},[Ao,Ri,_o,_s,Ms,ol,$o,wi,Br,vo,qr,Oo,Jo,Co,oa,Ni]);return te.createElement(gr.Provider,{value:pc},te.createElement(Xn,(0,s.Z)({},ea,{id:Na,prefixCls:_r,ref:rt,omitDomProps:nn,mode:yn,displayValues:si,onDisplayValuesChange:Al,direction:Oo,searchValue:Yo,onSearch:Vs,autoClearSearchValue:_n,onSearchSplit:Dl,dropdownMatchSelectWidth:qr,OptionList:Dr,emptyOptions:!_o.length,activeValue:Ia,activeDescendantId:"".concat(Na,"_list_").concat(Ca)})))}),Mt=Xe;Mt.Option=Si,Mt.OptGroup=Yr;var Ht=Mt,Qt=Ht},28661:function(Zr,jt,F){"use strict";F.d(jt,{y:function(){return Et},Z:function(){return sr}});var s=F(54153),ot=F(38926),Y=F(46865),c=F(5147),xe=F(89692),We=F(82187),Fe=F.n(We),Me=F(59373),ve=F(93954),te=F(47996),Ke=F(4449),$e=F(75271),He=F(23022),qe=F(58190),dt=F(30967);function Je(it,Ot,zn){return(it-Ot)/(zn-Ot)}function ht(it,Ot,zn,dn){var fn=Je(Ot,zn,dn),xr={};switch(it){case"rtl":xr.right="".concat(fn*100,"%"),xr.transform="translateX(50%)";break;case"btt":xr.bottom="".concat(fn*100,"%"),xr.transform="translateY(50%)";break;case"ttb":xr.top="".concat(fn*100,"%"),xr.transform="translateY(-50%)";break;default:xr.left="".concat(fn*100,"%"),xr.transform="translateX(-50%)";break}return xr}function bt(it,Ot){return Array.isArray(it)?it[Ot]:it}var Ue=F(14583),kt=$e.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}}),yt=kt,Et=$e.createContext({}),Vt=["prefixCls","value","valueIndex","onStartMove","onDelete","style","render","dragging","draggingDelete","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"],Lt=$e.forwardRef(function(it,Ot){var zn=it.prefixCls,dn=it.value,fn=it.valueIndex,xr=it.onStartMove,Un=it.onDelete,Xr=it.style,ei=it.render,Wr=it.dragging,ti=it.draggingDelete,gr=it.onOffsetChange,mr=it.onChangeComplete,fr=it.onFocus,wr=it.onMouseEnter,vr=(0,qe.Z)(it,Vt),jr=$e.useContext(yt),Xn=jr.min,lr=jr.max,Yr=jr.direction,Fn=jr.disabled,Si=jr.keyboard,mi=jr.range,Hi=jr.tabIndex,ho=jr.ariaLabelForHandle,Ur=jr.ariaLabelledByForHandle,eo=jr.ariaRequired,en=jr.ariaValueTextFormatterForHandle,Mn=jr.styles,Qn=jr.classNames,Dr="".concat(zn,"-handle"),ui=function(ke){Fn||xr(ke,fn)},oi=function(ke){fr==null||fr(ke,fn)},Xi=function(ke){wr(ke,fn)},Ji=function(ke){if(!Fn&&Si){var he=null;switch(ke.which||ke.keyCode){case Ue.Z.LEFT:he=Yr==="ltr"||Yr==="btt"?-1:1;break;case Ue.Z.RIGHT:he=Yr==="ltr"||Yr==="btt"?1:-1;break;case Ue.Z.UP:he=Yr!=="ttb"?1:-1;break;case Ue.Z.DOWN:he=Yr!=="ttb"?-1:1;break;case Ue.Z.HOME:he="min";break;case Ue.Z.END:he="max";break;case Ue.Z.PAGE_UP:he=2;break;case Ue.Z.PAGE_DOWN:he=-2;break;case Ue.Z.BACKSPACE:case Ue.Z.DELETE:Un(fn);break}he!==null&&(ke.preventDefault(),gr(he,fn))}},Ro=function(ke){switch(ke.which||ke.keyCode){case Ue.Z.LEFT:case Ue.Z.RIGHT:case Ue.Z.UP:case Ue.Z.DOWN:case Ue.Z.HOME:case Ue.Z.END:case Ue.Z.PAGE_UP:case Ue.Z.PAGE_DOWN:mr==null||mr();break}},xo=ht(Yr,dn,Xn,lr),io={};if(fn!==null){var Oe;io={tabIndex:Fn?null:bt(Hi,fn),role:"slider","aria-valuemin":Xn,"aria-valuemax":lr,"aria-valuenow":dn,"aria-disabled":Fn,"aria-label":bt(ho,fn),"aria-labelledby":bt(Ur,fn),"aria-required":bt(eo,fn),"aria-valuetext":(Oe=bt(en,fn))===null||Oe===void 0?void 0:Oe(dn),"aria-orientation":Yr==="ltr"||Yr==="rtl"?"horizontal":"vertical",onMouseDown:ui,onTouchStart:ui,onFocus:oi,onMouseEnter:Xi,onKeyDown:Ji,onKeyUp:Ro}}var de=$e.createElement("div",(0,He.Z)({ref:Ot,className:Fe()(Dr,(0,ot.Z)((0,ot.Z)((0,ot.Z)({},"".concat(Dr,"-").concat(fn+1),fn!==null&&mi),"".concat(Dr,"-dragging"),Wr),"".concat(Dr,"-dragging-delete"),ti),Qn.handle),style:(0,s.Z)((0,s.Z)((0,s.Z)({},xo),Xr),Mn.handle)},io,vr));return ei&&(de=ei(de,{index:fn,prefixCls:zn,value:dn,dragging:Wr,draggingDelete:ti})),de}),hr=Lt,er=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","draggingDelete","onFocus"],Hn=$e.forwardRef(function(it,Ot){var zn=it.prefixCls,dn=it.style,fn=it.onStartMove,xr=it.onOffsetChange,Un=it.values,Xr=it.handleRender,ei=it.activeHandleRender,Wr=it.draggingIndex,ti=it.draggingDelete,gr=it.onFocus,mr=(0,qe.Z)(it,er),fr=$e.useRef({}),wr=$e.useState(!1),vr=(0,xe.Z)(wr,2),jr=vr[0],Xn=vr[1],lr=$e.useState(-1),Yr=(0,xe.Z)(lr,2),Fn=Yr[0],Si=Yr[1],mi=function(en){Si(en),Xn(!0)},Hi=function(en,Mn){mi(Mn),gr==null||gr(en)},ho=function(en,Mn){mi(Mn)};$e.useImperativeHandle(Ot,function(){return{focus:function(en){var Mn;(Mn=fr.current[en])===null||Mn===void 0||Mn.focus()},hideHelp:function(){(0,dt.flushSync)(function(){Xn(!1)})}}});var Ur=(0,s.Z)({prefixCls:zn,onStartMove:fn,onOffsetChange:xr,render:Xr,onFocus:Hi,onMouseEnter:ho},mr);return $e.createElement($e.Fragment,null,Un.map(function(eo,en){var Mn=Wr===en;return $e.createElement(hr,(0,He.Z)({ref:function(Dr){Dr?fr.current[en]=Dr:delete fr.current[en]},dragging:Mn,draggingDelete:Mn&&ti,style:bt(dn,en),key:en,value:eo,valueIndex:en},Ur))}),ei&&jr&&$e.createElement(hr,(0,He.Z)({key:"a11y"},Ur,{value:Un[Fn],valueIndex:null,dragging:Wr!==-1,draggingDelete:ti,render:ei,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}),Ze=Hn,Nt=function(Ot){var zn=Ot.prefixCls,dn=Ot.style,fn=Ot.children,xr=Ot.value,Un=Ot.onClick,Xr=$e.useContext(yt),ei=Xr.min,Wr=Xr.max,ti=Xr.direction,gr=Xr.includedStart,mr=Xr.includedEnd,fr=Xr.included,wr="".concat(zn,"-text"),vr=ht(ti,xr,ei,Wr);return $e.createElement("span",{className:Fe()(wr,(0,ot.Z)({},"".concat(wr,"-active"),fr&&gr<=xr&&xr<=mr)),style:(0,s.Z)((0,s.Z)({},vr),dn),onMouseDown:function(Xn){Xn.stopPropagation()},onClick:function(){Un(xr)}},fn)},sn=Nt,Xt=function(Ot){var zn=Ot.prefixCls,dn=Ot.marks,fn=Ot.onClick,xr="".concat(zn,"-mark");return dn.length?$e.createElement("div",{className:xr},dn.map(function(Un){var Xr=Un.value,ei=Un.style,Wr=Un.label;return $e.createElement(sn,{key:Xr,prefixCls:xr,style:ei,value:Xr,onClick:fn},Wr)})):null},Le=Xt,$n=function(Ot){var zn=Ot.prefixCls,dn=Ot.value,fn=Ot.style,xr=Ot.activeStyle,Un=$e.useContext(yt),Xr=Un.min,ei=Un.max,Wr=Un.direction,ti=Un.included,gr=Un.includedStart,mr=Un.includedEnd,fr="".concat(zn,"-dot"),wr=ti&&gr<=dn&&dn<=mr,vr=(0,s.Z)((0,s.Z)({},ht(Wr,dn,Xr,ei)),typeof fn=="function"?fn(dn):fn);return wr&&(vr=(0,s.Z)((0,s.Z)({},vr),typeof xr=="function"?xr(dn):xr)),$e.createElement("span",{className:Fe()(fr,(0,ot.Z)({},"".concat(fr,"-active"),wr)),style:vr})},cn=$n,En=function(Ot){var zn=Ot.prefixCls,dn=Ot.marks,fn=Ot.dots,xr=Ot.style,Un=Ot.activeStyle,Xr=$e.useContext(yt),ei=Xr.min,Wr=Xr.max,ti=Xr.step,gr=$e.useMemo(function(){var mr=new Set;if(dn.forEach(function(wr){mr.add(wr.value)}),fn&&ti!==null)for(var fr=ei;fr<=Wr;)mr.add(fr),fr+=ti;return Array.from(mr)},[ei,Wr,ti,fn,dn]);return $e.createElement("div",{className:"".concat(zn,"-step")},gr.map(function(mr){return $e.createElement(cn,{prefixCls:zn,key:mr,value:mr,style:xr,activeStyle:Un})}))},lt=En,Gt=function(Ot){var zn=Ot.prefixCls,dn=Ot.style,fn=Ot.start,xr=Ot.end,Un=Ot.index,Xr=Ot.onStartMove,ei=Ot.replaceCls,Wr=$e.useContext(yt),ti=Wr.direction,gr=Wr.min,mr=Wr.max,fr=Wr.disabled,wr=Wr.range,vr=Wr.classNames,jr="".concat(zn,"-track"),Xn=Je(fn,gr,mr),lr=Je(xr,gr,mr),Yr=function(Hi){!fr&&Xr&&Xr(Hi,-1)},Fn={};switch(ti){case"rtl":Fn.right="".concat(Xn*100,"%"),Fn.width="".concat(lr*100-Xn*100,"%");break;case"btt":Fn.bottom="".concat(Xn*100,"%"),Fn.height="".concat(lr*100-Xn*100,"%");break;case"ttb":Fn.top="".concat(Xn*100,"%"),Fn.height="".concat(lr*100-Xn*100,"%");break;default:Fn.left="".concat(Xn*100,"%"),Fn.width="".concat(lr*100-Xn*100,"%")}var Si=ei||Fe()(jr,(0,ot.Z)((0,ot.Z)({},"".concat(jr,"-").concat(Un+1),Un!==null&&wr),"".concat(zn,"-track-draggable"),Xr),vr.track);return $e.createElement("div",{className:Si,style:(0,s.Z)((0,s.Z)({},Fn),dn),onMouseDown:Yr,onTouchStart:Yr})},bn=Gt,fe=function(Ot){var zn=Ot.prefixCls,dn=Ot.style,fn=Ot.values,xr=Ot.startPoint,Un=Ot.onStartMove,Xr=$e.useContext(yt),ei=Xr.included,Wr=Xr.range,ti=Xr.min,gr=Xr.styles,mr=Xr.classNames,fr=$e.useMemo(function(){if(!Wr){if(fn.length===0)return[];var vr=xr!=null?xr:ti,jr=fn[0];return[{start:Math.min(vr,jr),end:Math.max(vr,jr)}]}for(var Xn=[],lr=0;lr<fn.length-1;lr+=1)Xn.push({start:fn[lr],end:fn[lr+1]});return Xn},[fn,Wr,xr,ti]);if(!ei)return null;var wr=fr!=null&&fr.length&&(mr.tracks||gr.tracks)?$e.createElement(bn,{index:null,prefixCls:zn,start:fr[0].start,end:fr[fr.length-1].end,replaceCls:Fe()(mr.tracks,"".concat(zn,"-tracks")),style:gr.tracks}):null;return $e.createElement($e.Fragment,null,wr,fr.map(function(vr,jr){var Xn=vr.start,lr=vr.end;return $e.createElement(bn,{index:jr,prefixCls:zn,style:(0,s.Z)((0,s.Z)({},bt(dn,jr)),gr.track),start:Xn,end:lr,key:jr,onStartMove:Un})}))},Wt=fe,hi=F(92076),Jr=130;function Te(it){var Ot="targetTouches"in it?it.targetTouches[0]:it;return{pageX:Ot.pageX,pageY:Ot.pageY}}function Pn(it,Ot,zn,dn,fn,xr,Un,Xr,ei,Wr,ti){var gr=$e.useState(null),mr=(0,xe.Z)(gr,2),fr=mr[0],wr=mr[1],vr=$e.useState(-1),jr=(0,xe.Z)(vr,2),Xn=jr[0],lr=jr[1],Yr=$e.useState(!1),Fn=(0,xe.Z)(Yr,2),Si=Fn[0],mi=Fn[1],Hi=$e.useState(zn),ho=(0,xe.Z)(Hi,2),Ur=ho[0],eo=ho[1],en=$e.useState(zn),Mn=(0,xe.Z)(en,2),Qn=Mn[0],Dr=Mn[1],ui=$e.useRef(null),oi=$e.useRef(null),Xi=$e.useRef(null),Ji=$e.useContext(Et),Ro=Ji.onDragStart,xo=Ji.onDragChange;(0,hi.Z)(function(){Xn===-1&&eo(zn)},[zn,Xn]),$e.useEffect(function(){return function(){document.removeEventListener("mousemove",ui.current),document.removeEventListener("mouseup",oi.current),Xi.current&&(Xi.current.removeEventListener("touchmove",ui.current),Xi.current.removeEventListener("touchend",oi.current))}},[]);var io=function(he,Ye,et){Ye!==void 0&&wr(Ye),eo(he);var tn=he;et&&(tn=he.filter(function(Tt,nn){return nn!==Xn})),Un(tn),xo&&xo({rawValues:he,deleteIndex:et?Xn:-1,draggingIndex:Xn,draggingValue:Ye})},Oe=(0,Me.Z)(function(ke,he,Ye){if(ke===-1){var et=Qn[0],tn=Qn[Qn.length-1],Tt=dn-et,nn=fn-tn,vn=he*(fn-dn);vn=Math.max(vn,Tt),vn=Math.min(vn,nn);var Xe=xr(et+vn);vn=Xe-et;var Mt=Qn.map(function(rt){return rt+vn});io(Mt)}else{var Ht=(fn-dn)*he,Qt=(0,Y.Z)(Ur);Qt[ke]=Qn[ke];var ct=ei(Qt,Ht,ke,"dist");io(ct.values,ct.value,Ye)}}),de=function(he,Ye,et){he.stopPropagation();var tn=et||zn,Tt=tn[Ye];lr(Ye),wr(Tt),Dr(tn),eo(tn),mi(!1);var nn=Te(he),vn=nn.pageX,Xe=nn.pageY,Mt=!1;Ro&&Ro({rawValues:tn,draggingIndex:Ye,draggingValue:Tt});var Ht=function(rt){rt.preventDefault();var xn=Te(rt),yn=xn.pageX,Zn=xn.pageY,_r=yn-vn,ir=Zn-Xe,Or=it.current.getBoundingClientRect(),Qr=Or.width,ii=Or.height,Ui,mt;switch(Ot){case"btt":Ui=-ir/ii,mt=_r;break;case"ttb":Ui=ir/ii,mt=_r;break;case"rtl":Ui=-_r/Qr,mt=ir;break;default:Ui=_r/Qr,mt=ir}Mt=Wr?Math.abs(mt)>Jr&&ti<Ur.length:!1,mi(Mt),Oe(Ye,Ui,Mt)},Qt=function ct(rt){rt.preventDefault(),document.removeEventListener("mouseup",ct),document.removeEventListener("mousemove",Ht),Xi.current&&(Xi.current.removeEventListener("touchmove",ui.current),Xi.current.removeEventListener("touchend",oi.current)),ui.current=null,oi.current=null,Xi.current=null,Xr(Mt),lr(-1),mi(!1)};document.addEventListener("mouseup",Qt),document.addEventListener("mousemove",Ht),he.currentTarget.addEventListener("touchend",Qt),he.currentTarget.addEventListener("touchmove",Ht),ui.current=Ht,oi.current=Qt,Xi.current=he.currentTarget},X=$e.useMemo(function(){var ke=(0,Y.Z)(zn).sort(function(Tt,nn){return Tt-nn}),he=(0,Y.Z)(Ur).sort(function(Tt,nn){return Tt-nn}),Ye={};he.forEach(function(Tt){Ye[Tt]=(Ye[Tt]||0)+1}),ke.forEach(function(Tt){Ye[Tt]=(Ye[Tt]||0)-1});var et=Wr?1:0,tn=Object.values(Ye).reduce(function(Tt,nn){return Tt+Math.abs(nn)},0);return tn<=et?Ur:zn},[zn,Ur,Wr]);return[Xn,fr,Si,X,de]}var Lr=Pn;function kr(it,Ot,zn,dn,fn,xr){var Un=$e.useCallback(function(fr){return Math.max(it,Math.min(Ot,fr))},[it,Ot]),Xr=$e.useCallback(function(fr){if(zn!==null){var wr=it+Math.round((Un(fr)-it)/zn)*zn,vr=function(Yr){return(String(Yr).split(".")[1]||"").length},jr=Math.max(vr(zn),vr(Ot),vr(it)),Xn=Number(wr.toFixed(jr));return it<=Xn&&Xn<=Ot?Xn:null}return null},[zn,it,Ot,Un]),ei=$e.useCallback(function(fr){var wr=Un(fr),vr=dn.map(function(lr){return lr.value});zn!==null&&vr.push(Xr(fr)),vr.push(it,Ot);var jr=vr[0],Xn=Ot-it;return vr.forEach(function(lr){var Yr=Math.abs(wr-lr);Yr<=Xn&&(jr=lr,Xn=Yr)}),jr},[it,Ot,dn,zn,Un,Xr]),Wr=function fr(wr,vr,jr){var Xn=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof vr=="number"){var lr,Yr=wr[jr],Fn=Yr+vr,Si=[];dn.forEach(function(eo){Si.push(eo.value)}),Si.push(it,Ot),Si.push(Xr(Yr));var mi=vr>0?1:-1;Xn==="unit"?Si.push(Xr(Yr+mi*zn)):Si.push(Xr(Fn)),Si=Si.filter(function(eo){return eo!==null}).filter(function(eo){return vr<0?eo<=Yr:eo>=Yr}),Xn==="unit"&&(Si=Si.filter(function(eo){return eo!==Yr}));var Hi=Xn==="unit"?Yr:Fn;lr=Si[0];var ho=Math.abs(lr-Hi);if(Si.forEach(function(eo){var en=Math.abs(eo-Hi);en<ho&&(lr=eo,ho=en)}),lr===void 0)return vr<0?it:Ot;if(Xn==="dist")return lr;if(Math.abs(vr)>1){var Ur=(0,Y.Z)(wr);return Ur[jr]=lr,fr(Ur,vr-mi,jr,Xn)}return lr}else{if(vr==="min")return it;if(vr==="max")return Ot}},ti=function(wr,vr,jr){var Xn=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",lr=wr[jr],Yr=Wr(wr,vr,jr,Xn);return{value:Yr,changed:Yr!==lr}},gr=function(wr){return xr===null&&wr===0||typeof xr=="number"&&wr<xr},mr=function(wr,vr,jr){var Xn=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",lr=wr.map(ei),Yr=lr[jr],Fn=Wr(lr,vr,jr,Xn);if(lr[jr]=Fn,fn===!1){var Si=xr||0;jr>0&&lr[jr-1]!==Yr&&(lr[jr]=Math.max(lr[jr],lr[jr-1]+Si)),jr<lr.length-1&&lr[jr+1]!==Yr&&(lr[jr]=Math.min(lr[jr],lr[jr+1]-Si))}else if(typeof xr=="number"||xr===null){for(var mi=jr+1;mi<lr.length;mi+=1)for(var Hi=!0;gr(lr[mi]-lr[mi-1])&&Hi;){var ho=ti(lr,1,mi);lr[mi]=ho.value,Hi=ho.changed}for(var Ur=jr;Ur>0;Ur-=1)for(var eo=!0;gr(lr[Ur]-lr[Ur-1])&&eo;){var en=ti(lr,-1,Ur-1);lr[Ur-1]=en.value,eo=en.changed}for(var Mn=lr.length-1;Mn>0;Mn-=1)for(var Qn=!0;gr(lr[Mn]-lr[Mn-1])&&Qn;){var Dr=ti(lr,-1,Mn-1);lr[Mn-1]=Dr.value,Qn=Dr.changed}for(var ui=0;ui<lr.length-1;ui+=1)for(var oi=!0;gr(lr[ui+1]-lr[ui])&&oi;){var Xi=ti(lr,1,ui+1);lr[ui+1]=Xi.value,oi=Xi.changed}}return{value:lr[jr],values:lr}};return[ei,mr]}function In(it){return(0,$e.useMemo)(function(){if(it===!0||!it)return[!!it,!1,!1,0];var Ot=it.editable,zn=it.draggableTrack,dn=it.minCount,fn=it.maxCount;return[!0,Ot,!Ot&&zn,dn||0,fn]},[it])}var Nr=$e.forwardRef(function(it,Ot){var zn=it.prefixCls,dn=zn===void 0?"rc-slider":zn,fn=it.className,xr=it.style,Un=it.classNames,Xr=it.styles,ei=it.id,Wr=it.disabled,ti=Wr===void 0?!1:Wr,gr=it.keyboard,mr=gr===void 0?!0:gr,fr=it.autoFocus,wr=it.onFocus,vr=it.onBlur,jr=it.min,Xn=jr===void 0?0:jr,lr=it.max,Yr=lr===void 0?100:lr,Fn=it.step,Si=Fn===void 0?1:Fn,mi=it.value,Hi=it.defaultValue,ho=it.range,Ur=it.count,eo=it.onChange,en=it.onBeforeChange,Mn=it.onAfterChange,Qn=it.onChangeComplete,Dr=it.allowCross,ui=Dr===void 0?!0:Dr,oi=it.pushable,Xi=oi===void 0?!1:oi,Ji=it.reverse,Ro=it.vertical,xo=it.included,io=xo===void 0?!0:xo,Oe=it.startPoint,de=it.trackStyle,X=it.handleStyle,ke=it.railStyle,he=it.dotStyle,Ye=it.activeDotStyle,et=it.marks,tn=it.dots,Tt=it.handleRender,nn=it.activeHandleRender,vn=it.track,Xe=it.tabIndex,Mt=Xe===void 0?0:Xe,Ht=it.ariaLabelForHandle,Qt=it.ariaLabelledByForHandle,ct=it.ariaRequired,rt=it.ariaValueTextFormatterForHandle,xn=$e.useRef(null),yn=$e.useRef(null),Zn=$e.useMemo(function(){return Ro?Ji?"ttb":"btt":Ji?"rtl":"ltr"},[Ji,Ro]),_r=In(ho),ir=(0,xe.Z)(_r,5),Or=ir[0],Qr=ir[1],ii=ir[2],Ui=ir[3],mt=ir[4],_n=$e.useMemo(function(){return isFinite(Xn)?Xn:0},[Xn]),Ut=$e.useMemo(function(){return isFinite(Yr)?Yr:100},[Yr]),An=$e.useMemo(function(){return Si!==null&&Si<=0?1:Si},[Si]),or=$e.useMemo(function(){return typeof Xi=="boolean"?Xi?An:!1:Xi>=0?Xi:!1},[Xi,An]),qr=$e.useMemo(function(){return Object.keys(et||{}).map(function(_e){var Ve=et[_e],ze={value:Number(_e)};return Ve&&(0,c.Z)(Ve)==="object"&&!$e.isValidElement(Ve)&&("label"in Ve||"style"in Ve)?(ze.style=Ve.style,ze.label=Ve.label):ze.label=Ve,ze}).filter(function(_e){var Ve=_e.label;return Ve||typeof Ve=="number"}).sort(function(_e,Ve){return _e.value-Ve.value})},[et]),Mi=kr(_n,Ut,An,qr,ui,or),fo=(0,xe.Z)(Mi,2),$i=fo[0],Qi=fo[1],co=(0,ve.Z)(Hi,{value:mi}),Ni=(0,xe.Z)(co,2),Io=Ni[0],Wo=Ni[1],$o=$e.useMemo(function(){var _e=Io==null?[]:Array.isArray(Io)?Io:[Io],Ve=(0,xe.Z)(_e,1),ze=Ve[0],At=ze===void 0?_n:ze,an=Io===null?[]:[At];if(Or){if(an=(0,Y.Z)(_e),Ur||Io===void 0){var Kn=Ur>=0?Ur+1:2;for(an=an.slice(0,Kn);an.length<Kn;){var Cr;an.push((Cr=an[an.length-1])!==null&&Cr!==void 0?Cr:_n)}}an.sort(function(Mr,yr){return Mr-yr})}return an.forEach(function(Mr,yr){an[yr]=$i(Mr)}),an},[Io,Or,_n,Ur,$i]),vo=function(Ve){return Or?Ve:Ve[0]},Oo=(0,Me.Z)(function(_e){var Ve=(0,Y.Z)(_e).sort(function(ze,At){return ze-At});eo&&!(0,te.Z)(Ve,$o,!0)&&eo(vo(Ve)),Wo(Ve)}),zo=(0,Me.Z)(function(_e){_e&&xn.current.hideHelp();var Ve=vo($o);Mn==null||Mn(Ve),(0,Ke.ZP)(!Mn,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),Qn==null||Qn(Ve)}),Jo=function(Ve){if(!(ti||!Qr||$o.length<=Ui)){var ze=(0,Y.Z)($o);ze.splice(Ve,1),en==null||en(vo(ze)),Oo(ze);var At=Math.max(0,Ve-1);xn.current.hideHelp(),xn.current.focus(At)}},to=Lr(yn,Zn,$o,_n,Ut,$i,Oo,zo,Qi,Qr,Ui),Co=(0,xe.Z)(to,5),mo=Co[0],so=Co[1],Fi=Co[2],Qo=Co[3],Rr=Co[4],Ao=function(Ve,ze){if(!ti){var At=(0,Y.Z)($o),an=0,Kn=0,Cr=Ut-_n;$o.forEach(function(yo,yi){var Ei=Math.abs(Ve-yo);Ei<=Cr&&(Cr=Ei,an=yi),yo<Ve&&(Kn=yi)});var Mr=an;Qr&&Cr!==0&&(!mt||$o.length<mt)?(At.splice(Kn+1,0,Ve),Mr=Kn+1):At[an]=Ve,Or&&!$o.length&&Ur===void 0&&At.push(Ve);var yr=vo(At);if(en==null||en(yr),Oo(At),ze){var si,wi;(si=document.activeElement)===null||si===void 0||(wi=si.blur)===null||wi===void 0||wi.call(si),xn.current.focus(Mr),Rr(ze,Mr,At)}else Mn==null||Mn(yr),(0,Ke.ZP)(!Mn,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),Qn==null||Qn(yr)}},ea=function(Ve){Ve.preventDefault();var ze=yn.current.getBoundingClientRect(),At=ze.width,an=ze.height,Kn=ze.left,Cr=ze.top,Mr=ze.bottom,yr=ze.right,si=Ve.clientX,wi=Ve.clientY,yo;switch(Zn){case"btt":yo=(Mr-wi)/an;break;case"ttb":yo=(wi-Cr)/an;break;case"rtl":yo=(yr-si)/At;break;default:yo=(si-Kn)/At}var yi=_n+yo*(Ut-_n);Ao($i(yi),Ve)},Na=$e.useState(null),ci=(0,xe.Z)(Na,2),oa=ci[0],Ta=ci[1],Br=function(Ve,ze){if(!ti){var At=Qi($o,Ve,ze);en==null||en(vo($o)),Oo(At.values),Ta(At.value)}};$e.useEffect(function(){if(oa!==null){var _e=$o.indexOf(oa);_e>=0&&xn.current.focus(_e)}Ta(null)},[oa]);var oo=$e.useMemo(function(){return ii&&An===null?!1:ii},[ii,An]),No=(0,Me.Z)(function(_e,Ve){Rr(_e,Ve),en==null||en(vo($o))}),Yo=mo!==-1;$e.useEffect(function(){if(!Yo){var _e=$o.lastIndexOf(so);xn.current.focus(_e)}},[Yo]);var uo=$e.useMemo(function(){return(0,Y.Z)(Qo).sort(function(_e,Ve){return _e-Ve})},[Qo]),Ri=$e.useMemo(function(){return Or?[uo[0],uo[uo.length-1]]:[_n,uo[0]]},[uo,Or,_n]),fa=(0,xe.Z)(Ri,2),ko=fa[0],rn=fa[1];$e.useImperativeHandle(Ot,function(){return{focus:function(){xn.current.focus(0)},blur:function(){var Ve,ze=document,At=ze.activeElement;(Ve=yn.current)!==null&&Ve!==void 0&&Ve.contains(At)&&(At==null||At.blur())}}}),$e.useEffect(function(){fr&&xn.current.focus(0)},[]);var Ge=$e.useMemo(function(){return{min:_n,max:Ut,direction:Zn,disabled:ti,keyboard:mr,step:An,included:io,includedStart:ko,includedEnd:rn,range:Or,tabIndex:Mt,ariaLabelForHandle:Ht,ariaLabelledByForHandle:Qt,ariaRequired:ct,ariaValueTextFormatterForHandle:rt,styles:Xr||{},classNames:Un||{}}},[_n,Ut,Zn,ti,mr,An,io,ko,rn,Or,Mt,Ht,Qt,ct,rt,Xr,Un]);return $e.createElement(yt.Provider,{value:Ge},$e.createElement("div",{ref:yn,className:Fe()(dn,fn,(0,ot.Z)((0,ot.Z)((0,ot.Z)((0,ot.Z)({},"".concat(dn,"-disabled"),ti),"".concat(dn,"-vertical"),Ro),"".concat(dn,"-horizontal"),!Ro),"".concat(dn,"-with-marks"),qr.length)),style:xr,onMouseDown:ea,id:ei},$e.createElement("div",{className:Fe()("".concat(dn,"-rail"),Un==null?void 0:Un.rail),style:(0,s.Z)((0,s.Z)({},ke),Xr==null?void 0:Xr.rail)}),vn!==!1&&$e.createElement(Wt,{prefixCls:dn,style:de,values:$o,startPoint:Oe,onStartMove:oo?No:void 0}),$e.createElement(lt,{prefixCls:dn,marks:qr,dots:tn,style:he,activeStyle:Ye}),$e.createElement(Ze,{ref:xn,prefixCls:dn,style:X,values:Qo,draggingIndex:mo,draggingDelete:Fi,onStartMove:No,onOffsetChange:Br,onFocus:wr,onBlur:vr,handleRender:Tt,activeHandleRender:nn,onChangeComplete:zo,onDelete:Qr?Jo:void 0}),$e.createElement(Le,{prefixCls:dn,marks:qr,onClick:Ao})))}),vi=Nr,sr=vi},3806:function(Zr){var jt=function(F){return F.replace(/[A-Z]/g,function(s){return"-"+s.toLowerCase()}).toLowerCase()};Zr.exports=jt},67825:function(Zr,jt,F){var s=F(64382);function ot(Y,c){if(Y==null)return{};var xe=s(Y,c),We,Fe;if(Object.getOwnPropertySymbols){var Me=Object.getOwnPropertySymbols(Y);for(Fe=0;Fe<Me.length;Fe++)We=Me[Fe],!(c.indexOf(We)>=0)&&Object.prototype.propertyIsEnumerable.call(Y,We)&&(xe[We]=Y[We])}return xe}Zr.exports=ot,Zr.exports.__esModule=!0,Zr.exports.default=Zr.exports},64382:function(Zr){function jt(F,s){if(F==null)return{};var ot={},Y=Object.keys(F),c,xe;for(xe=0;xe<Y.length;xe++)c=Y[xe],!(s.indexOf(c)>=0)&&(ot[c]=F[c]);return ot}Zr.exports=jt,Zr.exports.__esModule=!0,Zr.exports.default=Zr.exports},90594:function(Zr,jt,F){"use strict";F.d(jt,{Z:function(){return ot}});function s(Y,c,xe,We,Fe,Me,ve){try{var te=Y[Me](ve),Ke=te.value}catch($e){return void xe($e)}te.done?c(Ke):Promise.resolve(Ke).then(We,Fe)}function ot(Y){return function(){var c=this,xe=arguments;return new Promise(function(We,Fe){var Me=Y.apply(c,xe);function ve(Ke){s(Me,We,Fe,ve,te,"next",Ke)}function te(Ke){s(Me,We,Fe,ve,te,"throw",Ke)}ve(void 0)})}}},57250:function(Zr,jt,F){"use strict";F.d(jt,{Z:function(){return ot}});var s=F(5147);function ot(){"use strict";ot=function(){return c};var Y,c={},xe=Object.prototype,We=xe.hasOwnProperty,Fe=Object.defineProperty||function(En,lt,Gt){En[lt]=Gt.value},Me=typeof Symbol=="function"?Symbol:{},ve=Me.iterator||"@@iterator",te=Me.asyncIterator||"@@asyncIterator",Ke=Me.toStringTag||"@@toStringTag";function $e(En,lt,Gt){return Object.defineProperty(En,lt,{value:Gt,enumerable:!0,configurable:!0,writable:!0}),En[lt]}try{$e({},"")}catch(En){$e=function(Gt,bn,fe){return Gt[bn]=fe}}function He(En,lt,Gt,bn){var fe=lt&&lt.prototype instanceof kt?lt:kt,Wt=Object.create(fe.prototype),hi=new $n(bn||[]);return Fe(Wt,"_invoke",{value:Nt(En,Gt,hi)}),Wt}function qe(En,lt,Gt){try{return{type:"normal",arg:En.call(lt,Gt)}}catch(bn){return{type:"throw",arg:bn}}}c.wrap=He;var dt="suspendedStart",Je="suspendedYield",ht="executing",bt="completed",Ue={};function kt(){}function yt(){}function Et(){}var Vt={};$e(Vt,ve,function(){return this});var Lt=Object.getPrototypeOf,hr=Lt&&Lt(Lt(cn([])));hr&&hr!==xe&&We.call(hr,ve)&&(Vt=hr);var er=Et.prototype=kt.prototype=Object.create(Vt);function Hn(En){["next","throw","return"].forEach(function(lt){$e(En,lt,function(Gt){return this._invoke(lt,Gt)})})}function Ze(En,lt){function Gt(fe,Wt,hi,Jr){var Te=qe(En[fe],En,Wt);if(Te.type!=="throw"){var Pn=Te.arg,Lr=Pn.value;return Lr&&(0,s.Z)(Lr)=="object"&&We.call(Lr,"__await")?lt.resolve(Lr.__await).then(function(kr){Gt("next",kr,hi,Jr)},function(kr){Gt("throw",kr,hi,Jr)}):lt.resolve(Lr).then(function(kr){Pn.value=kr,hi(Pn)},function(kr){return Gt("throw",kr,hi,Jr)})}Jr(Te.arg)}var bn;Fe(this,"_invoke",{value:function(Wt,hi){function Jr(){return new lt(function(Te,Pn){Gt(Wt,hi,Te,Pn)})}return bn=bn?bn.then(Jr,Jr):Jr()}})}function Nt(En,lt,Gt){var bn=dt;return function(fe,Wt){if(bn===ht)throw Error("Generator is already running");if(bn===bt){if(fe==="throw")throw Wt;return{value:Y,done:!0}}for(Gt.method=fe,Gt.arg=Wt;;){var hi=Gt.delegate;if(hi){var Jr=sn(hi,Gt);if(Jr){if(Jr===Ue)continue;return Jr}}if(Gt.method==="next")Gt.sent=Gt._sent=Gt.arg;else if(Gt.method==="throw"){if(bn===dt)throw bn=bt,Gt.arg;Gt.dispatchException(Gt.arg)}else Gt.method==="return"&&Gt.abrupt("return",Gt.arg);bn=ht;var Te=qe(En,lt,Gt);if(Te.type==="normal"){if(bn=Gt.done?bt:Je,Te.arg===Ue)continue;return{value:Te.arg,done:Gt.done}}Te.type==="throw"&&(bn=bt,Gt.method="throw",Gt.arg=Te.arg)}}}function sn(En,lt){var Gt=lt.method,bn=En.iterator[Gt];if(bn===Y)return lt.delegate=null,Gt==="throw"&&En.iterator.return&&(lt.method="return",lt.arg=Y,sn(En,lt),lt.method==="throw")||Gt!=="return"&&(lt.method="throw",lt.arg=new TypeError("The iterator does not provide a '"+Gt+"' method")),Ue;var fe=qe(bn,En.iterator,lt.arg);if(fe.type==="throw")return lt.method="throw",lt.arg=fe.arg,lt.delegate=null,Ue;var Wt=fe.arg;return Wt?Wt.done?(lt[En.resultName]=Wt.value,lt.next=En.nextLoc,lt.method!=="return"&&(lt.method="next",lt.arg=Y),lt.delegate=null,Ue):Wt:(lt.method="throw",lt.arg=new TypeError("iterator result is not an object"),lt.delegate=null,Ue)}function Xt(En){var lt={tryLoc:En[0]};1 in En&&(lt.catchLoc=En[1]),2 in En&&(lt.finallyLoc=En[2],lt.afterLoc=En[3]),this.tryEntries.push(lt)}function Le(En){var lt=En.completion||{};lt.type="normal",delete lt.arg,En.completion=lt}function $n(En){this.tryEntries=[{tryLoc:"root"}],En.forEach(Xt,this),this.reset(!0)}function cn(En){if(En||En===""){var lt=En[ve];if(lt)return lt.call(En);if(typeof En.next=="function")return En;if(!isNaN(En.length)){var Gt=-1,bn=function fe(){for(;++Gt<En.length;)if(We.call(En,Gt))return fe.value=En[Gt],fe.done=!1,fe;return fe.value=Y,fe.done=!0,fe};return bn.next=bn}}throw new TypeError((0,s.Z)(En)+" is not iterable")}return yt.prototype=Et,Fe(er,"constructor",{value:Et,configurable:!0}),Fe(Et,"constructor",{value:yt,configurable:!0}),yt.displayName=$e(Et,Ke,"GeneratorFunction"),c.isGeneratorFunction=function(En){var lt=typeof En=="function"&&En.constructor;return!!lt&&(lt===yt||(lt.displayName||lt.name)==="GeneratorFunction")},c.mark=function(En){return Object.setPrototypeOf?Object.setPrototypeOf(En,Et):(En.__proto__=Et,$e(En,Ke,"GeneratorFunction")),En.prototype=Object.create(er),En},c.awrap=function(En){return{__await:En}},Hn(Ze.prototype),$e(Ze.prototype,te,function(){return this}),c.AsyncIterator=Ze,c.async=function(En,lt,Gt,bn,fe){fe===void 0&&(fe=Promise);var Wt=new Ze(He(En,lt,Gt,bn),fe);return c.isGeneratorFunction(lt)?Wt:Wt.next().then(function(hi){return hi.done?hi.value:Wt.next()})},Hn(er),$e(er,Ke,"Generator"),$e(er,ve,function(){return this}),$e(er,"toString",function(){return"[object Generator]"}),c.keys=function(En){var lt=Object(En),Gt=[];for(var bn in lt)Gt.push(bn);return Gt.reverse(),function fe(){for(;Gt.length;){var Wt=Gt.pop();if(Wt in lt)return fe.value=Wt,fe.done=!1,fe}return fe.done=!0,fe}},c.values=cn,$n.prototype={constructor:$n,reset:function(lt){if(this.prev=0,this.next=0,this.sent=this._sent=Y,this.done=!1,this.delegate=null,this.method="next",this.arg=Y,this.tryEntries.forEach(Le),!lt)for(var Gt in this)Gt.charAt(0)==="t"&&We.call(this,Gt)&&!isNaN(+Gt.slice(1))&&(this[Gt]=Y)},stop:function(){this.done=!0;var lt=this.tryEntries[0].completion;if(lt.type==="throw")throw lt.arg;return this.rval},dispatchException:function(lt){if(this.done)throw lt;var Gt=this;function bn(Pn,Lr){return hi.type="throw",hi.arg=lt,Gt.next=Pn,Lr&&(Gt.method="next",Gt.arg=Y),!!Lr}for(var fe=this.tryEntries.length-1;fe>=0;--fe){var Wt=this.tryEntries[fe],hi=Wt.completion;if(Wt.tryLoc==="root")return bn("end");if(Wt.tryLoc<=this.prev){var Jr=We.call(Wt,"catchLoc"),Te=We.call(Wt,"finallyLoc");if(Jr&&Te){if(this.prev<Wt.catchLoc)return bn(Wt.catchLoc,!0);if(this.prev<Wt.finallyLoc)return bn(Wt.finallyLoc)}else if(Jr){if(this.prev<Wt.catchLoc)return bn(Wt.catchLoc,!0)}else{if(!Te)throw Error("try statement without catch or finally");if(this.prev<Wt.finallyLoc)return bn(Wt.finallyLoc)}}}},abrupt:function(lt,Gt){for(var bn=this.tryEntries.length-1;bn>=0;--bn){var fe=this.tryEntries[bn];if(fe.tryLoc<=this.prev&&We.call(fe,"finallyLoc")&&this.prev<fe.finallyLoc){var Wt=fe;break}}Wt&&(lt==="break"||lt==="continue")&&Wt.tryLoc<=Gt&&Gt<=Wt.finallyLoc&&(Wt=null);var hi=Wt?Wt.completion:{};return hi.type=lt,hi.arg=Gt,Wt?(this.method="next",this.next=Wt.finallyLoc,Ue):this.complete(hi)},complete:function(lt,Gt){if(lt.type==="throw")throw lt.arg;return lt.type==="break"||lt.type==="continue"?this.next=lt.arg:lt.type==="return"?(this.rval=this.arg=lt.arg,this.method="return",this.next="end"):lt.type==="normal"&&Gt&&(this.next=Gt),Ue},finish:function(lt){for(var Gt=this.tryEntries.length-1;Gt>=0;--Gt){var bn=this.tryEntries[Gt];if(bn.finallyLoc===lt)return this.complete(bn.completion,bn.afterLoc),Le(bn),Ue}},catch:function(lt){for(var Gt=this.tryEntries.length-1;Gt>=0;--Gt){var bn=this.tryEntries[Gt];if(bn.tryLoc===lt){var fe=bn.completion;if(fe.type==="throw"){var Wt=fe.arg;Le(bn)}return Wt}}throw Error("illegal catch attempt")},delegateYield:function(lt,Gt,bn){return this.delegate={iterator:cn(lt),resultName:Gt,nextLoc:bn},this.method==="next"&&(this.arg=Y),Ue}},c}},69370:function(Zr,jt,F){"use strict";F.d(jt,{Z:function(){return pu}});function s(){this.__data__=[],this.size=0}var ot=s;function Y(gn,Tr){return gn===Tr||gn!==gn&&Tr!==Tr}var c=Y;function xe(gn,Tr){for(var Wi=gn.length;Wi--;)if(c(gn[Wi][0],Tr))return Wi;return-1}var We=xe,Fe=Array.prototype,Me=Fe.splice;function ve(gn){var Tr=this.__data__,Wi=We(Tr,gn);if(Wi<0)return!1;var ha=Tr.length-1;return Wi==ha?Tr.pop():Me.call(Tr,Wi,1),--this.size,!0}var te=ve;function Ke(gn){var Tr=this.__data__,Wi=We(Tr,gn);return Wi<0?void 0:Tr[Wi][1]}var $e=Ke;function He(gn){return We(this.__data__,gn)>-1}var qe=He;function dt(gn,Tr){var Wi=this.__data__,ha=We(Wi,gn);return ha<0?(++this.size,Wi.push([gn,Tr])):Wi[ha][1]=Tr,this}var Je=dt;function ht(gn){var Tr=-1,Wi=gn==null?0:gn.length;for(this.clear();++Tr<Wi;){var ha=gn[Tr];this.set(ha[0],ha[1])}}ht.prototype.clear=ot,ht.prototype.delete=te,ht.prototype.get=$e,ht.prototype.has=qe,ht.prototype.set=Je;var bt=ht;function Ue(){this.__data__=new bt,this.size=0}var kt=Ue;function yt(gn){var Tr=this.__data__,Wi=Tr.delete(gn);return this.size=Tr.size,Wi}var Et=yt;function Vt(gn){return this.__data__.get(gn)}var Lt=Vt;function hr(gn){return this.__data__.has(gn)}var er=hr,Hn=typeof global=="object"&&global&&global.Object===Object&&global,Ze=Hn,Nt=typeof self=="object"&&self&&self.Object===Object&&self,sn=Ze||Nt||Function("return this")(),Xt=sn,Le=Xt.Symbol,$n=Le,cn=Object.prototype,En=cn.hasOwnProperty,lt=cn.toString,Gt=$n?$n.toStringTag:void 0;function bn(gn){var Tr=En.call(gn,Gt),Wi=gn[Gt];try{gn[Gt]=void 0;var ha=!0}catch(os){}var el=lt.call(gn);return ha&&(Tr?gn[Gt]=Wi:delete gn[Gt]),el}var fe=bn,Wt=Object.prototype,hi=Wt.toString;function Jr(gn){return hi.call(gn)}var Te=Jr,Pn="[object Null]",Lr="[object Undefined]",kr=$n?$n.toStringTag:void 0;function In(gn){return gn==null?gn===void 0?Lr:Pn:kr&&kr in Object(gn)?fe(gn):Te(gn)}var Nr=In;function vi(gn){var Tr=typeof gn;return gn!=null&&(Tr=="object"||Tr=="function")}var sr=vi,it="[object AsyncFunction]",Ot="[object Function]",zn="[object GeneratorFunction]",dn="[object Proxy]";function fn(gn){if(!sr(gn))return!1;var Tr=Nr(gn);return Tr==Ot||Tr==zn||Tr==it||Tr==dn}var xr=fn,Un=Xt["__core-js_shared__"],Xr=Un,ei=function(){var gn=/[^.]+$/.exec(Xr&&Xr.keys&&Xr.keys.IE_PROTO||"");return gn?"Symbol(src)_1."+gn:""}();function Wr(gn){return!!ei&&ei in gn}var ti=Wr,gr=Function.prototype,mr=gr.toString;function fr(gn){if(gn!=null){try{return mr.call(gn)}catch(Tr){}try{return gn+""}catch(Tr){}}return""}var wr=fr,vr=/[\\^$.*+?()[\]{}|]/g,jr=/^\[object .+?Constructor\]$/,Xn=Function.prototype,lr=Object.prototype,Yr=Xn.toString,Fn=lr.hasOwnProperty,Si=RegExp("^"+Yr.call(Fn).replace(vr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function mi(gn){if(!sr(gn)||ti(gn))return!1;var Tr=xr(gn)?Si:jr;return Tr.test(wr(gn))}var Hi=mi;function ho(gn,Tr){return gn==null?void 0:gn[Tr]}var Ur=ho;function eo(gn,Tr){var Wi=Ur(gn,Tr);return Hi(Wi)?Wi:void 0}var en=eo,Mn=en(Xt,"Map"),Qn=Mn,Dr=en(Object,"create"),ui=Dr;function oi(){this.__data__=ui?ui(null):{},this.size=0}var Xi=oi;function Ji(gn){var Tr=this.has(gn)&&delete this.__data__[gn];return this.size-=Tr?1:0,Tr}var Ro=Ji,xo="__lodash_hash_undefined__",io=Object.prototype,Oe=io.hasOwnProperty;function de(gn){var Tr=this.__data__;if(ui){var Wi=Tr[gn];return Wi===xo?void 0:Wi}return Oe.call(Tr,gn)?Tr[gn]:void 0}var X=de,ke=Object.prototype,he=ke.hasOwnProperty;function Ye(gn){var Tr=this.__data__;return ui?Tr[gn]!==void 0:he.call(Tr,gn)}var et=Ye,tn="__lodash_hash_undefined__";function Tt(gn,Tr){var Wi=this.__data__;return this.size+=this.has(gn)?0:1,Wi[gn]=ui&&Tr===void 0?tn:Tr,this}var nn=Tt;function vn(gn){var Tr=-1,Wi=gn==null?0:gn.length;for(this.clear();++Tr<Wi;){var ha=gn[Tr];this.set(ha[0],ha[1])}}vn.prototype.clear=Xi,vn.prototype.delete=Ro,vn.prototype.get=X,vn.prototype.has=et,vn.prototype.set=nn;var Xe=vn;function Mt(){this.size=0,this.__data__={hash:new Xe,map:new(Qn||bt),string:new Xe}}var Ht=Mt;function Qt(gn){var Tr=typeof gn;return Tr=="string"||Tr=="number"||Tr=="symbol"||Tr=="boolean"?gn!=="__proto__":gn===null}var ct=Qt;function rt(gn,Tr){var Wi=gn.__data__;return ct(Tr)?Wi[typeof Tr=="string"?"string":"hash"]:Wi.map}var xn=rt;function yn(gn){var Tr=xn(this,gn).delete(gn);return this.size-=Tr?1:0,Tr}var Zn=yn;function _r(gn){return xn(this,gn).get(gn)}var ir=_r;function Or(gn){return xn(this,gn).has(gn)}var Qr=Or;function ii(gn,Tr){var Wi=xn(this,gn),ha=Wi.size;return Wi.set(gn,Tr),this.size+=Wi.size==ha?0:1,this}var Ui=ii;function mt(gn){var Tr=-1,Wi=gn==null?0:gn.length;for(this.clear();++Tr<Wi;){var ha=gn[Tr];this.set(ha[0],ha[1])}}mt.prototype.clear=Ht,mt.prototype.delete=Zn,mt.prototype.get=ir,mt.prototype.has=Qr,mt.prototype.set=Ui;var _n=mt,Ut=200;function An(gn,Tr){var Wi=this.__data__;if(Wi instanceof bt){var ha=Wi.__data__;if(!Qn||ha.length<Ut-1)return ha.push([gn,Tr]),this.size=++Wi.size,this;Wi=this.__data__=new _n(ha)}return Wi.set(gn,Tr),this.size=Wi.size,this}var or=An;function qr(gn){var Tr=this.__data__=new bt(gn);this.size=Tr.size}qr.prototype.clear=kt,qr.prototype.delete=Et,qr.prototype.get=Lt,qr.prototype.has=er,qr.prototype.set=or;var Mi=qr,fo="__lodash_hash_undefined__";function $i(gn){return this.__data__.set(gn,fo),this}var Qi=$i;function co(gn){return this.__data__.has(gn)}var Ni=co;function Io(gn){var Tr=-1,Wi=gn==null?0:gn.length;for(this.__data__=new _n;++Tr<Wi;)this.add(gn[Tr])}Io.prototype.add=Io.prototype.push=Qi,Io.prototype.has=Ni;var Wo=Io;function $o(gn,Tr){for(var Wi=-1,ha=gn==null?0:gn.length;++Wi<ha;)if(Tr(gn[Wi],Wi,gn))return!0;return!1}var vo=$o;function Oo(gn,Tr){return gn.has(Tr)}var zo=Oo,Jo=1,to=2;function Co(gn,Tr,Wi,ha,el,os){var xl=Wi&Jo,Us=gn.length,tc=Tr.length;if(Us!=tc&&!(xl&&tc>Us))return!1;var tl=os.get(gn),Zc=os.get(Tr);if(tl&&Zc)return tl==Tr&&Zc==gn;var _c=-1,Pl=!0,Jc=Wi&to?new Wo:void 0;for(os.set(gn,Tr),os.set(Tr,gn);++_c<Us;){var bc=gn[_c],Lc=Tr[_c];if(ha)var Nc=xl?ha(Lc,bc,_c,Tr,gn,os):ha(bc,Lc,_c,gn,Tr,os);if(Nc!==void 0){if(Nc)continue;Pl=!1;break}if(Jc){if(!vo(Tr,function(iu,ou){if(!zo(Jc,ou)&&(bc===iu||el(bc,iu,Wi,ha,os)))return Jc.push(ou)})){Pl=!1;break}}else if(!(bc===Lc||el(bc,Lc,Wi,ha,os))){Pl=!1;break}}return os.delete(gn),os.delete(Tr),Pl}var mo=Co,so=Xt.Uint8Array,Fi=so;function Qo(gn){var Tr=-1,Wi=Array(gn.size);return gn.forEach(function(ha,el){Wi[++Tr]=[el,ha]}),Wi}var Rr=Qo;function Ao(gn){var Tr=-1,Wi=Array(gn.size);return gn.forEach(function(ha){Wi[++Tr]=ha}),Wi}var ea=Ao,Na=1,ci=2,oa="[object Boolean]",Ta="[object Date]",Br="[object Error]",oo="[object Map]",No="[object Number]",Yo="[object RegExp]",uo="[object Set]",Ri="[object String]",fa="[object Symbol]",ko="[object ArrayBuffer]",rn="[object DataView]",Ge=$n?$n.prototype:void 0,_e=Ge?Ge.valueOf:void 0;function Ve(gn,Tr,Wi,ha,el,os,xl){switch(Wi){case rn:if(gn.byteLength!=Tr.byteLength||gn.byteOffset!=Tr.byteOffset)return!1;gn=gn.buffer,Tr=Tr.buffer;case ko:return!(gn.byteLength!=Tr.byteLength||!os(new Fi(gn),new Fi(Tr)));case oa:case Ta:case No:return c(+gn,+Tr);case Br:return gn.name==Tr.name&&gn.message==Tr.message;case Yo:case Ri:return gn==Tr+"";case oo:var Us=Rr;case uo:var tc=ha&Na;if(Us||(Us=ea),gn.size!=Tr.size&&!tc)return!1;var tl=xl.get(gn);if(tl)return tl==Tr;ha|=ci,xl.set(gn,Tr);var Zc=mo(Us(gn),Us(Tr),ha,el,os,xl);return xl.delete(gn),Zc;case fa:if(_e)return _e.call(gn)==_e.call(Tr)}return!1}var ze=Ve;function At(gn,Tr){for(var Wi=-1,ha=Tr.length,el=gn.length;++Wi<ha;)gn[el+Wi]=Tr[Wi];return gn}var an=At,Kn=Array.isArray,Cr=Kn;function Mr(gn,Tr,Wi){var ha=Tr(gn);return Cr(gn)?ha:an(ha,Wi(gn))}var yr=Mr;function si(gn,Tr){for(var Wi=-1,ha=gn==null?0:gn.length,el=0,os=[];++Wi<ha;){var xl=gn[Wi];Tr(xl,Wi,gn)&&(os[el++]=xl)}return os}var wi=si;function yo(){return[]}var yi=yo,Ei=Object.prototype,ni=Ei.propertyIsEnumerable,zi=Object.getOwnPropertySymbols,Ai=zi?function(gn){return gn==null?[]:(gn=Object(gn),wi(zi(gn),function(Tr){return ni.call(gn,Tr)}))}:yi,_o=Ai;function na(gn,Tr){for(var Wi=-1,ha=Array(gn);++Wi<gn;)ha[Wi]=Tr(Wi);return ha}var ua=na;function Ea(gn){return gn!=null&&typeof gn=="object"}var Ia=Ea,xa="[object Arguments]";function ya(gn){return Ia(gn)&&Nr(gn)==xa}var ja=ya,Ca=Object.prototype,Ps=Ca.hasOwnProperty,Ms=Ca.propertyIsEnumerable,_s=ja(function(){return arguments}())?ja:function(gn){return Ia(gn)&&Ps.call(gn,"callee")&&!Ms.call(gn,"callee")},il=_s;function ol(){return!1}var Al=ol,Vs=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Dl=Vs&&typeof module=="object"&&module&&!module.nodeType&&module,pc=Dl&&Dl.exports===Vs,da=pc?Xt.Buffer:void 0,Ha=da?da.isBuffer:void 0,aa=Ha||Al,jo=aa,hs=9007199254740991,Ls=/^(?:0|[1-9]\d*)$/;function ic(gn,Tr){var Wi=typeof gn;return Tr=Tr==null?hs:Tr,!!Tr&&(Wi=="number"||Wi!="symbol"&&Ls.test(gn))&&gn>-1&&gn%1==0&&gn<Tr}var gc=ic,jc=9007199254740991;function _l(gn){return typeof gn=="number"&&gn>-1&&gn%1==0&&gn<=jc}var Yl=_l,ra="[object Arguments]",To="[object Array]",hu="[object Boolean]",Uo="[object Date]",oc="[object Error]",nu="[object Function]",qo="[object Map]",Ec="[object Number]",vc="[object Object]",ru="[object RegExp]",ku="[object Set]",ac="[object String]",gl="[object WeakMap]",Ii="[object ArrayBuffer]",ju="[object DataView]",ld="[object Float32Array]",Yc="[object Float64Array]",Jt="[object Int8Array]",wn="[object Int16Array]",jn="[object Int32Array]",rr="[object Uint8Array]",Fr="[object Uint8ClampedArray]",Li="[object Uint16Array]",no="[object Uint32Array]",ki={};ki[ld]=ki[Yc]=ki[Jt]=ki[wn]=ki[jn]=ki[rr]=ki[Fr]=ki[Li]=ki[no]=!0,ki[ra]=ki[To]=ki[Ii]=ki[hu]=ki[ju]=ki[Uo]=ki[oc]=ki[nu]=ki[qo]=ki[Ec]=ki[vc]=ki[ru]=ki[ku]=ki[ac]=ki[gl]=!1;function po(gn){return Ia(gn)&&Yl(gn.length)&&!!ki[Nr(gn)]}var Yi=po;function Zi(gn){return function(Tr){return gn(Tr)}}var Bo=Zi,Mo=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Go=Mo&&typeof module=="object"&&module&&!module.nodeType&&module,Ua=Go&&Go.exports===Mo,sa=Ua&&Ze.process,Pa=function(){try{var gn=Go&&Go.require&&Go.require("util").types;return gn||sa&&sa.binding&&sa.binding("util")}catch(Tr){}}(),es=Pa,Oa=es&&es.isTypedArray,qa=Oa?Bo(Oa):Yi,Xa=qa,is=Object.prototype,ns=is.hasOwnProperty;function Wa(gn,Tr){var Wi=Cr(gn),ha=!Wi&&il(gn),el=!Wi&&!ha&&jo(gn),os=!Wi&&!ha&&!el&&Xa(gn),xl=Wi||ha||el||os,Us=xl?ua(gn.length,String):[],tc=Us.length;for(var tl in gn)(Tr||ns.call(gn,tl))&&!(xl&&(tl=="length"||el&&(tl=="offset"||tl=="parent")||os&&(tl=="buffer"||tl=="byteLength"||tl=="byteOffset")||gc(tl,tc)))&&Us.push(tl);return Us}var Os=Wa,sc=Object.prototype;function bl(gn){var Tr=gn&&gn.constructor,Wi=typeof Tr=="function"&&Tr.prototype||sc;return gn===Wi}var lc=bl;function Zu(gn,Tr){return function(Wi){return gn(Tr(Wi))}}var ql=Zu,Tl=ql(Object.keys,Object),Zl=Tl,yc=Object.prototype,Jl=yc.hasOwnProperty;function zl(gn){if(!lc(gn))return Zl(gn);var Tr=[];for(var Wi in Object(gn))Jl.call(gn,Wi)&&Wi!="constructor"&&Tr.push(Wi);return Tr}var Vl=zl;function Ql(gn){return gn!=null&&Yl(gn.length)&&!xr(gn)}var qc=Ql;function Hl(gn){return qc(gn)?Os(gn):Vl(gn)}var cc=Hl;function ec(gn){return yr(gn,cc,_o)}var Ya=ec,sp=1,mu=Object.prototype,Jh=mu.hasOwnProperty;function Pd(gn,Tr,Wi,ha,el,os){var xl=Wi&sp,Us=Ya(gn),tc=Us.length,tl=Ya(Tr),Zc=tl.length;if(tc!=Zc&&!xl)return!1;for(var _c=tc;_c--;){var Pl=Us[_c];if(!(xl?Pl in Tr:Jh.call(Tr,Pl)))return!1}var Jc=os.get(gn),bc=os.get(Tr);if(Jc&&bc)return Jc==Tr&&bc==gn;var Lc=!0;os.set(gn,Tr),os.set(Tr,gn);for(var Nc=xl;++_c<tc;){Pl=Us[_c];var iu=gn[Pl],ou=Tr[Pl];if(ha)var lf=xl?ha(ou,iu,Pl,Tr,gn,os):ha(iu,ou,Pl,gn,Tr,os);if(!(lf===void 0?iu===ou||el(iu,ou,Wi,ha,os):lf)){Lc=!1;break}Nc||(Nc=Pl=="constructor")}if(Lc&&!Nc){var dd=gn.constructor,Uu=Tr.constructor;dd!=Uu&&"constructor"in gn&&"constructor"in Tr&&!(typeof dd=="function"&&dd instanceof dd&&typeof Uu=="function"&&Uu instanceof Uu)&&(Lc=!1)}return os.delete(gn),os.delete(Tr),Lc}var cd=Pd,Hs=en(Xt,"DataView"),Vu=Hs,Xf=en(Xt,"Promise"),Od=Xf,of=en(Xt,"Set"),af=of,sf=en(Xt,"WeakMap"),Rd=sf,ud="[object Map]",$d="[object Object]",Yf="[object Promise]",Ul="[object Set]",qf="[object WeakMap]",Ad="[object DataView]",Jf=wr(Vu),Qf=wr(Qn),eh=wr(Od),th=wr(af),nh=wr(Rd),Mu=Nr;(Vu&&Mu(new Vu(new ArrayBuffer(1)))!=Ad||Qn&&Mu(new Qn)!=ud||Od&&Mu(Od.resolve())!=Yf||af&&Mu(new af)!=Ul||Rd&&Mu(new Rd)!=qf)&&(Mu=function(gn){var Tr=Nr(gn),Wi=Tr==$d?gn.constructor:void 0,ha=Wi?wr(Wi):"";if(ha)switch(ha){case Jf:return Ad;case Qf:return ud;case eh:return Yf;case th:return Ul;case nh:return qf}return Tr});var Dd=Mu,lp=1,rh="[object Arguments]",Hu="[object Array]",ih="[object Object]",cp=Object.prototype,up=cp.hasOwnProperty;function dp(gn,Tr,Wi,ha,el,os){var xl=Cr(gn),Us=Cr(Tr),tc=xl?Hu:Dd(gn),tl=Us?Hu:Dd(Tr);tc=tc==rh?ih:tc,tl=tl==rh?ih:tl;var Zc=tc==ih,_c=tl==ih,Pl=tc==tl;if(Pl&&jo(gn)){if(!jo(Tr))return!1;xl=!0,Zc=!1}if(Pl&&!Zc)return os||(os=new Mi),xl||Xa(gn)?mo(gn,Tr,Wi,ha,el,os):ze(gn,Tr,tc,Wi,ha,el,os);if(!(Wi&lp)){var Jc=Zc&&up.call(gn,"__wrapped__"),bc=_c&&up.call(Tr,"__wrapped__");if(Jc||bc){var Lc=Jc?gn.value():gn,Nc=bc?Tr.value():Tr;return os||(os=new Mi),el(Lc,Nc,Wi,ha,os)}}return Pl?(os||(os=new Mi),cd(gn,Tr,Wi,ha,el,os)):!1}var oh=dp;function Qh(gn,Tr,Wi,ha,el){return gn===Tr?!0:gn==null||Tr==null||!Ia(gn)&&!Ia(Tr)?gn!==gn&&Tr!==Tr:oh(gn,Tr,Wi,ha,Qh,el)}var ah=Qh;function sh(gn,Tr){return ah(gn,Tr)}var pu=sh},56680:function(Zr,jt,F){"use strict";F.d(jt,{Z:function(){return Me}});const s=ve=>typeof ve=="object"&&ve!=null&&ve.nodeType===1,ot=(ve,te)=>(!te||ve!=="hidden")&&ve!=="visible"&&ve!=="clip",Y=(ve,te)=>{if(ve.clientHeight<ve.scrollHeight||ve.clientWidth<ve.scrollWidth){const Ke=getComputedStyle(ve,null);return ot(Ke.overflowY,te)||ot(Ke.overflowX,te)||($e=>{const He=(qe=>{if(!qe.ownerDocument||!qe.ownerDocument.defaultView)return null;try{return qe.ownerDocument.defaultView.frameElement}catch(dt){return null}})($e);return!!He&&(He.clientHeight<$e.scrollHeight||He.clientWidth<$e.scrollWidth)})(ve)}return!1},c=(ve,te,Ke,$e,He,qe,dt,Je)=>qe<ve&&dt>te||qe>ve&&dt<te?0:qe<=ve&&Je<=Ke||dt>=te&&Je>=Ke?qe-ve-$e:dt>te&&Je<Ke||qe<ve&&Je>Ke?dt-te+He:0,xe=ve=>{const te=ve.parentElement;return te==null?ve.getRootNode().host||null:te},We=(ve,te)=>{var Ke,$e,He,qe;if(typeof document=="undefined")return[];const{scrollMode:dt,block:Je,inline:ht,boundary:bt,skipOverflowHiddenElements:Ue}=te,kt=typeof bt=="function"?bt:hi=>hi!==bt;if(!s(ve))throw new TypeError("Invalid target");const yt=document.scrollingElement||document.documentElement,Et=[];let Vt=ve;for(;s(Vt)&&kt(Vt);){if(Vt=xe(Vt),Vt===yt){Et.push(Vt);break}Vt!=null&&Vt===document.body&&Y(Vt)&&!Y(document.documentElement)||Vt!=null&&Y(Vt,Ue)&&Et.push(Vt)}const Lt=($e=(Ke=window.visualViewport)==null?void 0:Ke.width)!=null?$e:innerWidth,hr=(qe=(He=window.visualViewport)==null?void 0:He.height)!=null?qe:innerHeight,{scrollX:er,scrollY:Hn}=window,{height:Ze,width:Nt,top:sn,right:Xt,bottom:Le,left:$n}=ve.getBoundingClientRect(),{top:cn,right:En,bottom:lt,left:Gt}=(hi=>{const Jr=window.getComputedStyle(hi);return{top:parseFloat(Jr.scrollMarginTop)||0,right:parseFloat(Jr.scrollMarginRight)||0,bottom:parseFloat(Jr.scrollMarginBottom)||0,left:parseFloat(Jr.scrollMarginLeft)||0}})(ve);let bn=Je==="start"||Je==="nearest"?sn-cn:Je==="end"?Le+lt:sn+Ze/2-cn+lt,fe=ht==="center"?$n+Nt/2-Gt+En:ht==="end"?Xt+En:$n-Gt;const Wt=[];for(let hi=0;hi<Et.length;hi++){const Jr=Et[hi],{height:Te,width:Pn,top:Lr,right:kr,bottom:In,left:Nr}=Jr.getBoundingClientRect();if(dt==="if-needed"&&sn>=0&&$n>=0&&Le<=hr&&Xt<=Lt&&(Jr===yt&&!Y(Jr)||sn>=Lr&&Le<=In&&$n>=Nr&&Xt<=kr))return Wt;const vi=getComputedStyle(Jr),sr=parseInt(vi.borderLeftWidth,10),it=parseInt(vi.borderTopWidth,10),Ot=parseInt(vi.borderRightWidth,10),zn=parseInt(vi.borderBottomWidth,10);let dn=0,fn=0;const xr="offsetWidth"in Jr?Jr.offsetWidth-Jr.clientWidth-sr-Ot:0,Un="offsetHeight"in Jr?Jr.offsetHeight-Jr.clientHeight-it-zn:0,Xr="offsetWidth"in Jr?Jr.offsetWidth===0?0:Pn/Jr.offsetWidth:0,ei="offsetHeight"in Jr?Jr.offsetHeight===0?0:Te/Jr.offsetHeight:0;if(yt===Jr)dn=Je==="start"?bn:Je==="end"?bn-hr:Je==="nearest"?c(Hn,Hn+hr,hr,it,zn,Hn+bn,Hn+bn+Ze,Ze):bn-hr/2,fn=ht==="start"?fe:ht==="center"?fe-Lt/2:ht==="end"?fe-Lt:c(er,er+Lt,Lt,sr,Ot,er+fe,er+fe+Nt,Nt),dn=Math.max(0,dn+Hn),fn=Math.max(0,fn+er);else{dn=Je==="start"?bn-Lr-it:Je==="end"?bn-In+zn+Un:Je==="nearest"?c(Lr,In,Te,it,zn+Un,bn,bn+Ze,Ze):bn-(Lr+Te/2)+Un/2,fn=ht==="start"?fe-Nr-sr:ht==="center"?fe-(Nr+Pn/2)+xr/2:ht==="end"?fe-kr+Ot+xr:c(Nr,kr,Pn,sr,Ot+xr,fe,fe+Nt,Nt);const{scrollLeft:Wr,scrollTop:ti}=Jr;dn=ei===0?0:Math.max(0,Math.min(ti+dn/ei,Jr.scrollHeight-Te/ei+Un)),fn=Xr===0?0:Math.max(0,Math.min(Wr+fn/Xr,Jr.scrollWidth-Pn/Xr+xr)),bn+=ti-dn,fe+=Wr-fn}Wt.push({el:Jr,top:dn,left:fn})}return Wt},Fe=ve=>ve===!1?{block:"end",inline:"nearest"}:(te=>te===Object(te)&&Object.keys(te).length!==0)(ve)?ve:{block:"start",inline:"nearest"};function Me(ve,te){if(!ve.isConnected||!(He=>{let qe=He;for(;qe&&qe.parentNode;){if(qe.parentNode===document)return!0;qe=qe.parentNode instanceof ShadowRoot?qe.parentNode.host:qe.parentNode}return!1})(ve))return;const Ke=(He=>{const qe=window.getComputedStyle(He);return{top:parseFloat(qe.scrollMarginTop)||0,right:parseFloat(qe.scrollMarginRight)||0,bottom:parseFloat(qe.scrollMarginBottom)||0,left:parseFloat(qe.scrollMarginLeft)||0}})(ve);if((He=>typeof He=="object"&&typeof He.behavior=="function")(te))return te.behavior(We(ve,te));const $e=typeof te=="boolean"||te==null?void 0:te.behavior;for(const{el:He,top:qe,left:dt}of We(ve,Fe(te))){const Je=qe-Ke.top+Ke.bottom,ht=dt-Ke.left+Ke.right;He.scroll({top:Je,left:ht,behavior:$e})}}}}]);
}());