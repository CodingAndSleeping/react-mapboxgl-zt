!(function(){var CM=Object.getOwnPropertySymbols;var sk=Object.prototype.hasOwnProperty,lk=Object.prototype.propertyIsEnumerable;var zb=Math.pow;var h2=(Qr,Jt)=>{var j={};for(var s in Qr)sk.call(Qr,s)&&Jt.indexOf(s)<0&&(j[s]=Qr[s]);if(Qr!=null&&CM)for(var s of CM(Qr))Jt.indexOf(s)<0&&lk.call(Qr,s)&&(j[s]=Qr[s]);return j};(self.webpackChunkreact_mapboxgl_zt=self.webpackChunkreact_mapboxgl_zt||[]).push([[672],{68640:function(Qr,Jt,j){"use strict";j.d(Jt,{iN:function(){return Xt},R_:function(){return Xe},EV:function(){return Ot},Ti:function(){return sn},ez:function(){return at}});var s=j(84432),ht=2,J=.16,u=.05,Ie=.05,He=.15,je=5,Le=4,_e=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function oe(Mn,Kr,jr){var Sn;return Math.round(Mn.h)>=60&&Math.round(Mn.h)<=240?Sn=jr?Math.round(Mn.h)-ht*Kr:Math.round(Mn.h)+ht*Kr:Sn=jr?Math.round(Mn.h)+ht*Kr:Math.round(Mn.h)-ht*Kr,Sn<0?Sn+=360:Sn>=360&&(Sn-=360),Sn}function Ye(Mn,Kr,jr){if(Mn.h===0&&Mn.s===0)return Mn.s;var Sn;return jr?Sn=Mn.s-J*Kr:Kr===Le?Sn=Mn.s+J:Sn=Mn.s+u*Kr,Sn>1&&(Sn=1),jr&&Kr===je&&Sn>.1&&(Sn=.1),Sn<.06&&(Sn=.06),Math.round(Sn*100)/100}function ke(Mn,Kr,jr){var Sn;return jr?Sn=Mn.v+Ie*Kr:Sn=Mn.v-He*Kr,Sn=Math.max(0,Math.min(1,Sn)),Math.round(Sn*100)/100}function Xe(Mn){for(var Kr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},jr=[],Sn=new s.t(Mn),Fr=Sn.toHsv(),Ii=je;Ii>0;Ii-=1){var fr=new s.t({h:oe(Fr,Ii,!0),s:Ye(Fr,Ii,!0),v:ke(Fr,Ii,!0)});jr.push(fr)}jr.push(Sn);for(var st=1;st<=Le;st+=1){var jt=new s.t({h:oe(Fr,st),s:Ye(Fr,st),v:ke(Fr,st)});jr.push(jt)}return Kr.theme==="dark"?_e.map(function(Fn){var un=Fn.index,pn=Fn.amount;return new s.t(Kr.backgroundColor||"#141414").mix(jr[un],pn).toHexString()}):jr.map(function(Fn){return Fn.toHexString()})}var at={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},xt=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];xt.primary=xt[5];var ot=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];ot.primary=ot[5];var St=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];St.primary=St[5];var Ot=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];Ot.primary=Ot[5];var Ge=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];Ge.primary=Ge[5];var Qt=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];Qt.primary=Qt[5];var Pt=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];Pt.primary=Pt[5];var Ft=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];Ft.primary=Ft[5];var Xt=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];Xt.primary=Xt[5];var Ht=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];Ht.primary=Ht[5];var Ar=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];Ar.primary=Ar[5];var Cr=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];Cr.primary=Cr[5];var Dr=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];Dr.primary=Dr[5];var Ue=null,sn={red:xt,volcano:ot,orange:St,gold:Ot,yellow:Ge,lime:Qt,green:Pt,cyan:Ft,blue:Xt,geekblue:Ht,purple:Ar,magenta:Cr,grey:Dr},Bn=["#2a1215","#431418","#58181c","#791a1f","#a61d24","#d32029","#e84749","#f37370","#f89f9a","#fac8c3"];Bn.primary=Bn[5];var En=["#2b1611","#441d12","#592716","#7c3118","#aa3e19","#d84a1b","#e87040","#f3956a","#f8b692","#fad4bc"];En.primary=En[5];var Be=["#2b1d11","#442a11","#593815","#7c4a15","#aa6215","#d87a16","#e89a3c","#f3b765","#f8cf8d","#fae3b7"];Be.primary=Be[5];var Gn=["#2b2111","#443111","#594214","#7c5914","#aa7714","#d89614","#e8b339","#f3cc62","#f8df8b","#faedb5"];Gn.primary=Gn[5];var In=["#2b2611","#443b11","#595014","#7c6e14","#aa9514","#d8bd14","#e8d639","#f3ea62","#f8f48b","#fafab5"];In.primary=In[5];var Rn=["#1f2611","#2e3c10","#3e4f13","#536d13","#6f9412","#8bbb11","#a9d134","#c9e75d","#e4f88b","#f0fab5"];Rn.primary=Rn[5];var pt=["#162312","#1d3712","#274916","#306317","#3c8618","#49aa19","#6abe39","#8fd460","#b2e58b","#d5f2bb"];pt.primary=pt[5];var an=["#112123","#113536","#144848","#146262","#138585","#13a8a8","#33bcb7","#58d1c9","#84e2d8","#b2f1e8"];an.primary=an[5];var Tn=["#111a2c","#112545","#15325b","#15417e","#1554ad","#1668dc","#3c89e8","#65a9f3","#8dc5f8","#b7dcfa"];Tn.primary=Tn[5];var me=["#131629","#161d40","#1c2755","#203175","#263ea0","#2b4acb","#5273e0","#7f9ef3","#a8c1f8","#d2e0fa"];me.primary=me[5];var nn=["#1a1325","#24163a","#301c4d","#3e2069","#51258f","#642ab5","#854eca","#ab7ae0","#cda8f0","#ebd7fa"];nn.primary=nn[5];var bi=["#291321","#40162f","#551c3b","#75204f","#a02669","#cb2b83","#e0529c","#f37fb7","#f8a8cc","#fad2e3"];bi.primary=bi[5];var ui=["#151515","#1f1f1f","#2d2d2d","#393939","#494949","#5a5a5a","#6a6a6a","#7b7b7b","#888888","#969696"];ui.primary=ui[5];var $e={red:Bn,volcano:En,orange:Be,gold:Gn,yellow:In,lime:Rn,green:pt,cyan:an,blue:Tn,geekblue:me,purple:nn,magenta:bi,grey:ui}},83509:function(Qr,Jt,j){"use strict";j.d(Jt,{rb:function(){return Sn},IX:function(){return sn}});var s=j(5147),ht=j(89692),J=j(38926),u=j(54153),Ie=j(75271),He=j(55921),je=j(59295),Le=j(45985),_e=j(63662),oe=j(76525),Ye=j(56216),ke=(0,Le.Z)(function Fr(){(0,je.Z)(this,Fr)}),Xe=ke,at="CALC_UNIT",xt=new RegExp(at,"g");function ot(Fr){return typeof Fr=="number"?"".concat(Fr).concat(at):Fr}var St=function(Fr){(0,oe.Z)(fr,Fr);var Ii=(0,Ye.Z)(fr);function fr(st,jt){var Fn;(0,je.Z)(this,fr),Fn=Ii.call(this),(0,J.Z)((0,_e.Z)(Fn),"result",""),(0,J.Z)((0,_e.Z)(Fn),"unitlessCssVar",void 0),(0,J.Z)((0,_e.Z)(Fn),"lowPriority",void 0);var un=(0,s.Z)(st);return Fn.unitlessCssVar=jt,st instanceof fr?Fn.result="(".concat(st.result,")"):un==="number"?Fn.result=ot(st):un==="string"&&(Fn.result=st),Fn}return(0,Le.Z)(fr,[{key:"add",value:function(jt){return jt instanceof fr?this.result="".concat(this.result," + ").concat(jt.getResult()):(typeof jt=="number"||typeof jt=="string")&&(this.result="".concat(this.result," + ").concat(ot(jt))),this.lowPriority=!0,this}},{key:"sub",value:function(jt){return jt instanceof fr?this.result="".concat(this.result," - ").concat(jt.getResult()):(typeof jt=="number"||typeof jt=="string")&&(this.result="".concat(this.result," - ").concat(ot(jt))),this.lowPriority=!0,this}},{key:"mul",value:function(jt){return this.lowPriority&&(this.result="(".concat(this.result,")")),jt instanceof fr?this.result="".concat(this.result," * ").concat(jt.getResult(!0)):(typeof jt=="number"||typeof jt=="string")&&(this.result="".concat(this.result," * ").concat(jt)),this.lowPriority=!1,this}},{key:"div",value:function(jt){return this.lowPriority&&(this.result="(".concat(this.result,")")),jt instanceof fr?this.result="".concat(this.result," / ").concat(jt.getResult(!0)):(typeof jt=="number"||typeof jt=="string")&&(this.result="".concat(this.result," / ").concat(jt)),this.lowPriority=!1,this}},{key:"getResult",value:function(jt){return this.lowPriority||jt?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(jt){var Fn=this,un=jt||{},pn=un.unit,Sr=!0;return typeof pn=="boolean"?Sr=pn:Array.from(this.unitlessCssVar).some(function(Vn){return Fn.result.includes(Vn)})&&(Sr=!1),this.result=this.result.replace(xt,Sr?"px":""),typeof this.lowPriority!="undefined"?"calc(".concat(this.result,")"):this.result}}]),fr}(Xe),Ot=function(Fr){(0,oe.Z)(fr,Fr);var Ii=(0,Ye.Z)(fr);function fr(st){var jt;return(0,je.Z)(this,fr),jt=Ii.call(this),(0,J.Z)((0,_e.Z)(jt),"result",0),st instanceof fr?jt.result=st.result:typeof st=="number"&&(jt.result=st),jt}return(0,Le.Z)(fr,[{key:"add",value:function(jt){return jt instanceof fr?this.result+=jt.result:typeof jt=="number"&&(this.result+=jt),this}},{key:"sub",value:function(jt){return jt instanceof fr?this.result-=jt.result:typeof jt=="number"&&(this.result-=jt),this}},{key:"mul",value:function(jt){return jt instanceof fr?this.result*=jt.result:typeof jt=="number"&&(this.result*=jt),this}},{key:"div",value:function(jt){return jt instanceof fr?this.result/=jt.result:typeof jt=="number"&&(this.result/=jt),this}},{key:"equal",value:function(){return this.result}}]),fr}(Xe),Ge=Ot,Qt=function(Ii,fr){var st=Ii==="css"?St:Ge;return function(jt){return new st(jt,fr)}},Pt=Qt,Ft=function(Ii,fr){return"".concat([fr,Ii.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-"))},Xt=Ft,Ht=j(22217);function Ar(Fr,Ii,fr,st){var jt=(0,u.Z)({},Ii[Fr]);if(st!=null&&st.deprecatedTokens){var Fn=st.deprecatedTokens;Fn.forEach(function(pn){var Sr=(0,ht.Z)(pn,2),Vn=Sr[0],Xr=Sr[1];if(jt!=null&&jt[Vn]||jt!=null&&jt[Xr]){var ri;(ri=jt[Xr])!==null&&ri!==void 0||(jt[Xr]=jt==null?void 0:jt[Vn])}})}var un=(0,u.Z)((0,u.Z)({},fr),jt);return Object.keys(un).forEach(function(pn){un[pn]===Ii[pn]&&delete un[pn]}),un}var Cr=Ar,Dr=typeof CSSINJS_STATISTIC!="undefined",Ue=!0;function sn(){for(var Fr=arguments.length,Ii=new Array(Fr),fr=0;fr<Fr;fr++)Ii[fr]=arguments[fr];if(!Dr)return Object.assign.apply(Object,[{}].concat(Ii));Ue=!1;var st={};return Ii.forEach(function(jt){if((0,s.Z)(jt)==="object"){var Fn=Object.keys(jt);Fn.forEach(function(un){Object.defineProperty(st,un,{configurable:!0,enumerable:!0,get:function(){return jt[un]}})})}}),Ue=!0,st}var Bn={},En={};function Be(){}var Gn=function(Ii){var fr,st=Ii,jt=Be;return Dr&&typeof Proxy!="undefined"&&(fr=new Set,st=new Proxy(Ii,{get:function(un,pn){if(Ue){var Sr;(Sr=fr)===null||Sr===void 0||Sr.add(pn)}return un[pn]}}),jt=function(un,pn){var Sr;Bn[un]={global:Array.from(fr),component:(0,u.Z)((0,u.Z)({},(Sr=Bn[un])===null||Sr===void 0?void 0:Sr.component),pn)}}),{token:st,keys:fr,flush:jt}},In=Gn;function Rn(Fr,Ii,fr){if(typeof fr=="function"){var st;return fr(sn(Ii,(st=Ii[Fr])!==null&&st!==void 0?st:{}))}return fr!=null?fr:{}}var pt=Rn;function an(Fr){return Fr==="js"?{max:Math.max,min:Math.min}:{max:function(){for(var fr=arguments.length,st=new Array(fr),jt=0;jt<fr;jt++)st[jt]=arguments[jt];return"max(".concat(st.map(function(Fn){return(0,He.bf)(Fn)}).join(","),")")},min:function(){for(var fr=arguments.length,st=new Array(fr),jt=0;jt<fr;jt++)st[jt]=arguments[jt];return"min(".concat(st.map(function(Fn){return(0,He.bf)(Fn)}).join(","),")")}}}var Tn=an,me=1e3*60*10,nn=function(){function Fr(){(0,je.Z)(this,Fr),(0,J.Z)(this,"map",new Map),(0,J.Z)(this,"objectIDMap",new WeakMap),(0,J.Z)(this,"nextID",0),(0,J.Z)(this,"lastAccessBeat",new Map),(0,J.Z)(this,"accessBeat",0)}return(0,Le.Z)(Fr,[{key:"set",value:function(fr,st){this.clear();var jt=this.getCompositeKey(fr);this.map.set(jt,st),this.lastAccessBeat.set(jt,Date.now())}},{key:"get",value:function(fr){var st=this.getCompositeKey(fr),jt=this.map.get(st);return this.lastAccessBeat.set(st,Date.now()),this.accessBeat+=1,jt}},{key:"getCompositeKey",value:function(fr){var st=this,jt=fr.map(function(Fn){return Fn&&(0,s.Z)(Fn)==="object"?"obj_".concat(st.getObjectID(Fn)):"".concat((0,s.Z)(Fn),"_").concat(Fn)});return jt.join("|")}},{key:"getObjectID",value:function(fr){if(this.objectIDMap.has(fr))return this.objectIDMap.get(fr);var st=this.nextID;return this.objectIDMap.set(fr,st),this.nextID+=1,st}},{key:"clear",value:function(){var fr=this;if(this.accessBeat>1e4){var st=Date.now();this.lastAccessBeat.forEach(function(jt,Fn){st-jt>me&&(fr.map.delete(Fn),fr.lastAccessBeat.delete(Fn))}),this.accessBeat=0}}}]),Fr}(),bi=new nn;function ui(Fr,Ii){return Ie.useMemo(function(){var fr=bi.get(Ii);if(fr)return fr;var st=Fr();return bi.set(Ii,st),st},Ii)}var $e=ui,Mn=function(){return{}},Kr=Mn;function jr(Fr){var Ii=Fr.useCSP,fr=Ii===void 0?Kr:Ii,st=Fr.useToken,jt=Fr.usePrefix,Fn=Fr.getResetStyles,un=Fr.getCommonStyle,pn=Fr.getCompUnitless;function Sr(Zr,ei,vr,hr){var ur=Array.isArray(Zr)?Zr[0]:Zr;function wr(_i){return"".concat(String(ur)).concat(_i.slice(0,1).toUpperCase()).concat(_i.slice(1))}var yr=(hr==null?void 0:hr.unitless)||{},Nr=typeof pn=="function"?pn(Zr):{},Xn=(0,u.Z)((0,u.Z)({},Nr),{},(0,J.Z)({},wr("zIndexPopup"),!0));Object.keys(yr).forEach(function(_i){Xn[wr(_i)]=yr[_i]});var lr=(0,u.Z)((0,u.Z)({},hr),{},{unitless:Xn,prefixToken:wr}),Ur=Xr(Zr,ei,vr,lr),Ln=Vn(ur,vr,lr);return function(_i){var fi=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_i,Wi=Ur(_i,fi),po=(0,ht.Z)(Wi,2),kr=po[1],no=Ln(fi),qt=(0,ht.Z)(no,2),xn=qt[0],Jn=qt[1];return[xn,kr,Jn]}}function Vn(Zr,ei,vr){var hr=vr.unitless,ur=vr.injectStyle,wr=ur===void 0?!0:ur,yr=vr.prefixToken,Nr=vr.ignore,Xn=function(Ln){var _i=Ln.rootCls,fi=Ln.cssVar,Wi=fi===void 0?{}:fi,po=st(),kr=po.realToken;return(0,He.CI)({path:[Zr],prefix:Wi.prefix,key:Wi.key,unitless:hr,ignore:Nr,token:kr,scope:_i},function(){var no=pt(Zr,kr,ei),qt=Cr(Zr,kr,no,{deprecatedTokens:vr==null?void 0:vr.deprecatedTokens});return Object.keys(no).forEach(function(xn){qt[yr(xn)]=qt[xn],delete qt[xn]}),qt}),null},lr=function(Ln){var _i=st(),fi=_i.cssVar;return[function(Wi){return wr&&fi?Ie.createElement(Ie.Fragment,null,Ie.createElement(Xn,{rootCls:Ln,cssVar:fi,component:Zr}),Wi):Wi},fi==null?void 0:fi.key]};return lr}function Xr(Zr,ei,vr){var hr=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},ur=Array.isArray(Zr)?Zr:[Zr,Zr],wr=(0,ht.Z)(ur,1),yr=wr[0],Nr=ur.join("-"),Xn=Fr.layer||{name:"antd"};return function(lr){var Ur=arguments.length>1&&arguments[1]!==void 0?arguments[1]:lr,Ln=st(),_i=Ln.theme,fi=Ln.realToken,Wi=Ln.hashId,po=Ln.token,kr=Ln.cssVar,no=jt(),qt=no.rootPrefixCls,xn=no.iconPrefixCls,Jn=fr(),$r=kr?"css":"js",li=$e(function(){var io=new Set;return kr&&Object.keys(hr.unitless||{}).forEach(function(Pe){io.add((0,He.ks)(Pe,kr.prefix)),io.add((0,He.ks)(Pe,Xt(yr,kr.prefix)))}),Pt($r,io)},[$r,yr,kr==null?void 0:kr.prefix]),ii=Tn($r),Ki=ii.max,eo=ii.min,Ro={theme:_i,token:po,hashId:Wi,nonce:function(){return Jn.nonce},clientOnly:hr.clientOnly,layer:Xn,order:hr.order||-999};typeof Fn=="function"&&(0,He.xy)((0,u.Z)((0,u.Z)({},Ro),{},{clientOnly:!1,path:["Shared",qt]}),function(){return Fn(po,{prefix:{rootPrefixCls:qt,iconPrefixCls:xn},csp:Jn})});var So=(0,He.xy)((0,u.Z)((0,u.Z)({},Ro),{},{path:[Nr,lr,xn]}),function(){if(hr.injectStyle===!1)return[];var io=In(po),Pe=io.token,de=io.flush,K=pt(yr,fi,vr),Ne=".".concat(lr),Je=Cr(yr,fi,K,{deprecatedTokens:hr.deprecatedTokens});kr&&K&&(0,s.Z)(K)==="object"&&Object.keys(K).forEach(function(Tt){K[Tt]="var(".concat((0,He.ks)(Tt,Xt(yr,kr.prefix)),")")});var ge=sn(Pe,{componentCls:Ne,prefixCls:lr,iconCls:".".concat(xn),antCls:".".concat(qt),calc:li,max:Ki,min:eo},kr?K:Je),dt=ei(ge,{hashId:Wi,prefixCls:lr,rootPrefixCls:qt,iconPrefixCls:xn});de(yr,Je);var _t=typeof un=="function"?un(ge,lr,Ur,hr.resetFont):null;return[hr.resetStyle===!1?null:_t,dt]});return[So,Wi]}}function ri(Zr,ei,vr){var hr=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},ur=Xr(Zr,ei,vr,(0,u.Z)({resetStyle:!1,order:-998},hr)),wr=function(Nr){var Xn=Nr.prefixCls,lr=Nr.rootCls,Ur=lr===void 0?Xn:lr;return ur(Xn,Ur),null};return wr}return{genStyleHooks:Sr,genSubStyleComponent:ri,genComponentStyleHook:Xr}}var Sn=jr},55921:function(Qr,Jt,j){"use strict";j.d(Jt,{E4:function(){return fu},uP:function(){return Cr},jG:function(){return bi},t2:function(){return Pe},ks:function(){return Zr},bf:function(){return Xr},CI:function(){return Xl},fp:function(){return K},xy:function(){return Fs}});var s=j(38926),ht=j(89692),J=j(46865),u=j(54153);function Ie(Gt){for(var An=0,jn,tr=0,Lr=Gt.length;Lr>=4;++tr,Lr-=4)jn=Gt.charCodeAt(tr)&255|(Gt.charCodeAt(++tr)&255)<<8|(Gt.charCodeAt(++tr)&255)<<16|(Gt.charCodeAt(++tr)&255)<<24,jn=(jn&65535)*1540483477+((jn>>>16)*59797<<16),jn^=jn>>>24,An=(jn&65535)*1540483477+((jn>>>16)*59797<<16)^(An&65535)*1540483477+((An>>>16)*59797<<16);switch(Lr){case 3:An^=(Gt.charCodeAt(tr+2)&255)<<16;case 2:An^=(Gt.charCodeAt(tr+1)&255)<<8;case 1:An^=Gt.charCodeAt(tr)&255,An=(An&65535)*1540483477+((An>>>16)*59797<<16)}return An^=An>>>13,An=(An&65535)*1540483477+((An>>>16)*59797<<16),((An^An>>>15)>>>0).toString(36)}var He=Ie,je=j(18263),Le=j(75271),_e=j.t(Le,2),oe=j(54596),Ye=j(47996),ke=j(59295),Xe=j(45985),at="%";function xt(Gt){return Gt.join(at)}var ot=function(){function Gt(An){(0,ke.Z)(this,Gt),(0,s.Z)(this,"instanceId",void 0),(0,s.Z)(this,"cache",new Map),this.instanceId=An}return(0,Xe.Z)(Gt,[{key:"get",value:function(jn){return this.opGet(xt(jn))}},{key:"opGet",value:function(jn){return this.cache.get(jn)||null}},{key:"update",value:function(jn,tr){return this.opUpdate(xt(jn),tr)}},{key:"opUpdate",value:function(jn,tr){var Lr=this.cache.get(jn),Fi=tr(Lr);Fi===null?this.cache.delete(jn):this.cache.set(jn,Fi)}}]),Gt}(),St=ot,Ot=null,Ge="data-token-hash",Qt="data-css-hash",Pt="data-cache-path",Ft="__cssinjs_instance__";function Xt(){var Gt=Math.random().toString(12).slice(2);if(typeof document!="undefined"&&document.head&&document.body){var An=document.body.querySelectorAll("style[".concat(Qt,"]"))||[],jn=document.head.firstChild;Array.from(An).forEach(function(Lr){Lr[Ft]=Lr[Ft]||Gt,Lr[Ft]===Gt&&document.head.insertBefore(Lr,jn)});var tr={};Array.from(document.querySelectorAll("style[".concat(Qt,"]"))).forEach(function(Lr){var Fi=Lr.getAttribute(Qt);if(tr[Fi]){if(Lr[Ft]===Gt){var ao;(ao=Lr.parentNode)===null||ao===void 0||ao.removeChild(Lr)}}else tr[Fi]=!0})}return new St(Gt)}var Ht=Le.createContext({hashPriority:"low",cache:Xt(),defaultCache:!0}),Ar=function(An){var jn=An.children,tr=_objectWithoutProperties(An,Ot),Lr=React.useContext(Ht),Fi=useMemo(function(){var ao=_objectSpread({},Lr);Object.keys(tr).forEach(function(mo){var Hi=tr[mo];tr[mo]!==void 0&&(ao[mo]=Hi)});var Li=tr.cache;return ao.cache=ao.cache||Xt(),ao.defaultCache=!Li&&Lr.defaultCache,ao},[Lr,tr],function(ao,Li){return!isEqual(ao[0],Li[0],!0)||!isEqual(ao[1],Li[1],!0)});return React.createElement(Ht.Provider,{value:Fi},jn)},Cr=Ht,Dr=j(5147),Ue=j(18415),sn="CALC_UNIT",Bn=new RegExp(sn,"g");function En(Gt){return typeof Gt=="number"?"".concat(Gt).concat(sn):Gt}var Be=null,Gn=function(An,jn){var tr=An==="css"?CSSCalculator:NumCalculator;return function(Lr){return new tr(Lr,jn)}},In=null;function Rn(Gt,An){if(Gt.length!==An.length)return!1;for(var jn=0;jn<Gt.length;jn++)if(Gt[jn]!==An[jn])return!1;return!0}var pt=function(){function Gt(){(0,ke.Z)(this,Gt),(0,s.Z)(this,"cache",void 0),(0,s.Z)(this,"keys",void 0),(0,s.Z)(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return(0,Xe.Z)(Gt,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(jn){var tr,Lr,Fi=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ao={map:this.cache};return jn.forEach(function(Li){if(!ao)ao=void 0;else{var mo;ao=(mo=ao)===null||mo===void 0||(mo=mo.map)===null||mo===void 0?void 0:mo.get(Li)}}),(tr=ao)!==null&&tr!==void 0&&tr.value&&Fi&&(ao.value[1]=this.cacheCallTimes++),(Lr=ao)===null||Lr===void 0?void 0:Lr.value}},{key:"get",value:function(jn){var tr;return(tr=this.internalGet(jn,!0))===null||tr===void 0?void 0:tr[0]}},{key:"has",value:function(jn){return!!this.internalGet(jn)}},{key:"set",value:function(jn,tr){var Lr=this;if(!this.has(jn)){if(this.size()+1>Gt.MAX_CACHE_SIZE+Gt.MAX_CACHE_OFFSET){var Fi=this.keys.reduce(function(Hi,ki){var Fo=(0,ht.Z)(Hi,2),fo=Fo[1];return Lr.internalGet(ki)[1]<fo?[ki,Lr.internalGet(ki)[1]]:Hi},[this.keys[0],this.cacheCallTimes]),ao=(0,ht.Z)(Fi,1),Li=ao[0];this.delete(Li)}this.keys.push(jn)}var mo=this.cache;jn.forEach(function(Hi,ki){if(ki===jn.length-1)mo.set(Hi,{value:[tr,Lr.cacheCallTimes++]});else{var Fo=mo.get(Hi);Fo?Fo.map||(Fo.map=new Map):mo.set(Hi,{map:new Map}),mo=mo.get(Hi).map}})}},{key:"deleteByPath",value:function(jn,tr){var Lr=jn.get(tr[0]);if(tr.length===1){var Fi;return Lr.map?jn.set(tr[0],{map:Lr.map}):jn.delete(tr[0]),(Fi=Lr.value)===null||Fi===void 0?void 0:Fi[0]}var ao=this.deleteByPath(Lr.map,tr.slice(1));return(!Lr.map||Lr.map.size===0)&&!Lr.value&&jn.delete(tr[0]),ao}},{key:"delete",value:function(jn){if(this.has(jn))return this.keys=this.keys.filter(function(tr){return!Rn(tr,jn)}),this.deleteByPath(this.cache,jn)}}]),Gt}();(0,s.Z)(pt,"MAX_CACHE_SIZE",20),(0,s.Z)(pt,"MAX_CACHE_OFFSET",5);var an=j(4449),Tn=0,me=function(){function Gt(An){(0,ke.Z)(this,Gt),(0,s.Z)(this,"derivatives",void 0),(0,s.Z)(this,"id",void 0),this.derivatives=Array.isArray(An)?An:[An],this.id=Tn,An.length===0&&(0,an.Kp)(An.length>0,"[Ant Design CSS-in-JS] Theme should have at least one derivative function."),Tn+=1}return(0,Xe.Z)(Gt,[{key:"getDerivativeToken",value:function(jn){return this.derivatives.reduce(function(tr,Lr){return Lr(jn,tr)},void 0)}}]),Gt}(),nn=new pt;function bi(Gt){var An=Array.isArray(Gt)?Gt:[Gt];return nn.has(An)||nn.set(An,new me(An)),nn.get(An)}var ui=new WeakMap,$e={};function Mn(Gt,An){for(var jn=ui,tr=0;tr<An.length;tr+=1){var Lr=An[tr];jn.has(Lr)||jn.set(Lr,new WeakMap),jn=jn.get(Lr)}return jn.has($e)||jn.set($e,Gt()),jn.get($e)}var Kr=new WeakMap;function jr(Gt){var An=Kr.get(Gt)||"";return An||(Object.keys(Gt).forEach(function(jn){var tr=Gt[jn];An+=jn,tr instanceof me?An+=tr.id:tr&&(0,Dr.Z)(tr)==="object"?An+=jr(tr):An+=tr}),An=He(An),Kr.set(Gt,An)),An}function Sn(Gt,An){return He("".concat(An,"_").concat(jr(Gt)))}var Fr="random-".concat(Date.now(),"-").concat(Math.random()).replace(/\./g,""),Ii="_bAmBoO_";function fr(Gt,An,jn){if((0,Ue.Z)()){var tr,Lr;(0,je.hq)(Gt,Fr);var Fi=document.createElement("div");Fi.style.position="fixed",Fi.style.left="0",Fi.style.top="0",An==null||An(Fi),document.body.appendChild(Fi);var ao=jn?jn(Fi):(tr=getComputedStyle(Fi).content)===null||tr===void 0?void 0:tr.includes(Ii);return(Lr=Fi.parentNode)===null||Lr===void 0||Lr.removeChild(Fi),(0,je.jL)(Fr),ao}return!1}var st=null;function jt(){return st===void 0&&(st=fr("@layer ".concat(Fr," { .").concat(Fr,' { content: "').concat(Ii,'"!important; } }'),function(Gt){Gt.className=Fr})),st}var Fn=void 0;function un(){return Fn===void 0&&(Fn=fr(":where(.".concat(Fr,') { content: "').concat(Ii,'"!important; }'),function(Gt){Gt.className=Fr})),Fn}var pn=void 0;function Sr(){return pn===void 0&&(pn=fr(".".concat(Fr," { inset-block: 93px !important; }"),function(Gt){Gt.className=Fr},function(Gt){return getComputedStyle(Gt).bottom==="93px"})),pn}var Vn=(0,Ue.Z)();function Xr(Gt){return typeof Gt=="number"?"".concat(Gt,"px"):Gt}function ri(Gt,An,jn){var tr,Lr=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},Fi=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(Fi)return Gt;var ao=(0,u.Z)((0,u.Z)({},Lr),{},(tr={},(0,s.Z)(tr,Ge,An),(0,s.Z)(tr,Qt,jn),tr)),Li=Object.keys(ao).map(function(mo){var Hi=ao[mo];return Hi?"".concat(mo,'="').concat(Hi,'"'):null}).filter(function(mo){return mo}).join(" ");return"<style ".concat(Li,">").concat(Gt,"</style>")}var Zr=function(An){var jn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return"--".concat(jn?"".concat(jn,"-"):"").concat(An).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},ei=function(An,jn,tr){return Object.keys(An).length?".".concat(jn).concat(tr!=null&&tr.scope?".".concat(tr.scope):"","{").concat(Object.entries(An).map(function(Lr){var Fi=(0,ht.Z)(Lr,2),ao=Fi[0],Li=Fi[1];return"".concat(ao,":").concat(Li,";")}).join(""),"}"):""},vr=function(An,jn,tr){var Lr={},Fi={};return Object.entries(An).forEach(function(ao){var Li,mo,Hi=(0,ht.Z)(ao,2),ki=Hi[0],Fo=Hi[1];if(tr!=null&&(Li=tr.preserve)!==null&&Li!==void 0&&Li[ki])Fi[ki]=Fo;else if((typeof Fo=="string"||typeof Fo=="number")&&!(tr!=null&&(mo=tr.ignore)!==null&&mo!==void 0&&mo[ki])){var fo,Xo=Zr(ki,tr==null?void 0:tr.prefix);Lr[Xo]=typeof Fo=="number"&&!(tr!=null&&(fo=tr.unitless)!==null&&fo!==void 0&&fo[ki])?"".concat(Fo,"px"):String(Fo),Fi[ki]="var(".concat(Xo,")")}}),[Fi,ei(Lr,jn,{scope:tr==null?void 0:tr.scope})]},hr=j(92076),ur=(0,u.Z)({},_e),wr=ur.useInsertionEffect,yr=function(An,jn,tr){Le.useMemo(An,tr),(0,hr.Z)(function(){return jn(!0)},tr)},Nr=wr?function(Gt,An,jn){return wr(function(){return Gt(),An()},jn)}:yr,Xn=Nr,lr=(0,u.Z)({},_e),Ur=lr.useInsertionEffect,Ln=function(An){var jn=[],tr=!1;function Lr(Fi){tr||jn.push(Fi)}return Le.useEffect(function(){return tr=!1,function(){tr=!0,jn.length&&jn.forEach(function(Fi){return Fi()})}},An),Lr},_i=function(){return function(An){An()}},fi=typeof Ur!="undefined"?Ln:_i,Wi=fi;function po(){return!1}var kr=!1;function no(){return kr}var qt=po;if(0)var xn,Jn;function $r(Gt,An,jn,tr,Lr){var Fi=Le.useContext(Cr),ao=Fi.cache,Li=[Gt].concat((0,J.Z)(An)),mo=xt(Li),Hi=Wi([mo]),ki=qt(),Fo=function(la){ao.opUpdate(mo,function(Pa){var es=Pa||[void 0,void 0],Ia=(0,ht.Z)(es,2),Ja=Ia[0],ja=Ja===void 0?0:Ja,ls=Ia[1],ss=ls,Xa=ss||jn(),Ds=[ja,Xa];return la?la(Ds):Ds})};Le.useMemo(function(){Fo()},[mo]);var fo=ao.opGet(mo),Xo=fo[1];return Xn(function(){Lr==null||Lr(Xo)},function(Ga){return Fo(function(la){var Pa=(0,ht.Z)(la,2),es=Pa[0],Ia=Pa[1];return Ga&&es===0&&(Lr==null||Lr(Xo)),[es+1,Ia]}),function(){ao.opUpdate(mo,function(la){var Pa=la||[],es=(0,ht.Z)(Pa,2),Ia=es[0],Ja=Ia===void 0?0:Ia,ja=es[1],ls=Ja-1;return ls===0?(Hi(function(){(Ga||!ao.opGet(mo))&&(tr==null||tr(ja,!1))}),null):[Ja-1,ja]})}},[mo]),Xo}var li={},ii="css",Ki=new Map;function eo(Gt){Ki.set(Gt,(Ki.get(Gt)||0)+1)}function Ro(Gt,An){if(typeof document!="undefined"){var jn=document.querySelectorAll("style[".concat(Ge,'="').concat(Gt,'"]'));jn.forEach(function(tr){if(tr[Ft]===An){var Lr;(Lr=tr.parentNode)===null||Lr===void 0||Lr.removeChild(tr)}})}}var So=0;function io(Gt,An){Ki.set(Gt,(Ki.get(Gt)||0)-1);var jn=Array.from(Ki.keys()),tr=jn.filter(function(Lr){var Fi=Ki.get(Lr)||0;return Fi<=0});jn.length-tr.length>So&&tr.forEach(function(Lr){Ro(Lr,An),Ki.delete(Lr)})}var Pe=function(An,jn,tr,Lr){var Fi=tr.getDerivativeToken(An),ao=(0,u.Z)((0,u.Z)({},Fi),jn);return Lr&&(ao=Lr(ao)),ao},de="token";function K(Gt,An){var jn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},tr=(0,Le.useContext)(Cr),Lr=tr.cache.instanceId,Fi=tr.container,ao=jn.salt,Li=ao===void 0?"":ao,mo=jn.override,Hi=mo===void 0?li:mo,ki=jn.formatToken,Fo=jn.getComputedToken,fo=jn.cssVar,Xo=Mn(function(){return Object.assign.apply(Object,[{}].concat((0,J.Z)(An)))},An),Ga=jr(Xo),la=jr(Hi),Pa=fo?jr(fo):"",es=$r(de,[Li,Gt.id,Ga,la,Pa],function(){var Ia,Ja=Fo?Fo(Xo,Hi,Gt):Pe(Xo,Hi,Gt,ki),ja=(0,u.Z)({},Ja),ls="";if(fo){var ss=vr(Ja,fo.key,{prefix:fo.prefix,ignore:fo.ignore,unitless:fo.unitless,preserve:fo.preserve}),Xa=(0,ht.Z)(ss,2);Ja=Xa[0],ls=Xa[1]}var Ds=Sn(Ja,Li);Ja._tokenKey=Ds,ja._tokenKey=Sn(ja,Li);var ql=(Ia=fo==null?void 0:fo.key)!==null&&Ia!==void 0?Ia:Ds;Ja._themeKey=ql,eo(ql);var ul="".concat(ii,"-").concat(He(Ds));return Ja._hashId=ul,[Ja,ul,ja,ls,(fo==null?void 0:fo.key)||""]},function(Ia){io(Ia[0]._themeKey,Lr)},function(Ia){var Ja=(0,ht.Z)(Ia,4),ja=Ja[0],ls=Ja[3];if(fo&&ls){var ss=(0,je.hq)(ls,He("css-variables-".concat(ja._themeKey)),{mark:Qt,prepend:"queue",attachTo:Fi,priority:-999});ss[Ft]=Lr,ss.setAttribute(Ge,ja._themeKey)}});return es}var Ne=function(An,jn,tr){var Lr=(0,ht.Z)(An,5),Fi=Lr[2],ao=Lr[3],Li=Lr[4],mo=tr||{},Hi=mo.plain;if(!ao)return null;var ki=Fi._tokenKey,Fo=-999,fo={"data-rc-order":"prependQueue","data-rc-priority":"".concat(Fo)},Xo=ri(ao,Li,ki,fo,Hi);return[Fo,ki,Xo]},Je=j(23022),ge={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},dt=ge,_t="-ms-",Tt="-moz-",Yt="-webkit-",hn="comm",We="rule",Et="decl",kt="@page",Kt="@media",rt="@import",Qe="@charset",gn="@viewport",mn="@supports",kn="@document",br="@namespace",ar="@keyframes",Mr="@font-face",qr="@counter-style",oi="@font-feature-values",Zi="@layer",ft="@scope",_n=Math.abs,Ut=String.fromCharCode,bn=Object.assign;function sr(Gt,An){return Ji(Gt,0)^45?(((An<<2^Ji(Gt,0))<<2^Ji(Gt,1))<<2^Ji(Gt,2))<<2^Ji(Gt,3):0}function Yr(Gt){return Gt.trim()}function Ti(Gt,An){return(Gt=An.exec(Gt))?Gt[0]:Gt}function ho(Gt,An,jn){return Gt.replace(An,jn)}function zi(Gt,An,jn){return Gt.indexOf(An,jn)}function Ji(Gt,An){return Gt.charCodeAt(An)|0}function uo(Gt,An,jn){return Gt.slice(An,jn)}function Ni(Gt){return Gt.length}function Po(Gt){return Gt.length}function Vo(Gt,An){return An.push(Gt),Gt}function $o(Gt,An){return Gt.map(An).join("")}function _o(Gt,An){return Gt.filter(function(jn){return!Ti(jn,An)})}function Oo(Gt,An){for(var jn="",tr=0;tr<Gt.length;tr++)jn+=An(Gt[tr],tr,Gt,An)||"";return jn}function zo(Gt,An,jn,tr){switch(Gt.type){case Zi:if(Gt.children.length)break;case rt:case br:case Et:return Gt.return=Gt.return||Gt.value;case hn:return"";case ar:return Gt.return=Gt.value+"{"+Oo(Gt.children,tr)+"}";case We:if(!Ni(Gt.value=Gt.props.join(",")))return""}return Ni(jn=Oo(Gt.children,tr))?Gt.return=Gt.value+"{"+jn+"}":""}var qo=1,oo=1,wo=0,go=0,so=0,to="";function ko(Gt,An,jn,tr,Lr,Fi,ao,Li){return{value:Gt,root:An,parent:jn,type:tr,props:Lr,children:Fi,line:qo,column:oo,length:ao,return:"",siblings:Li}}function Pr(Gt,An){return assign(ko("",null,null,"",null,null,0,Gt.siblings),Gt,{length:-Gt.length},An)}function Ho(Gt){for(;Gt.root;)Gt=Pr(Gt.root,{children:[Gt]});append(Gt,Gt.siblings)}function ha(){return so}function za(){return so=go>0?Ji(to,--go):0,oo--,so===10&&(oo=1,qo--),so}function Vi(){return so=go<wo?Ji(to,go++):0,oo++,so===10&&(oo=1,qo++),so}function ma(){return Ji(to,go)}function qa(){return go}function Jr(Gt,An){return uo(to,Gt,An)}function vo(Gt){switch(Gt){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Ao(Gt){return qo=oo=1,wo=Ni(to=Gt),go=0,[]}function Yo(Gt){return to="",Gt}function co(Gt){return Yr(Jr(go-1,Ve(Gt===91?Gt+2:Gt===40?Gt+1:Gt)))}function Ai(Gt){return Yo(jo(Ao(Gt)))}function ga(Gt){for(;(so=ma())&&so<33;)Vi();return vo(Gt)>2||vo(so)>3?"":" "}function jo(Gt){for(;Vi();)switch(vo(so)){case 0:append(Ze(go-1),Gt);break;case 2:append(co(so),Gt);break;default:append(from(so),Gt)}return Gt}function en(Gt,An){for(;--An&&Vi()&&!(so<48||so>102||so>57&&so<65||so>70&&so<97););return Jr(Gt,qa()+(An<6&&ma()==32&&Vi()==32))}function Ve(Gt){for(;Vi();)switch(so){case Gt:return go;case 34:case 39:Gt!==34&&Gt!==39&&Ve(so);break;case 40:Gt===41&&Ve(Gt);break;case 92:Vi();break}return go}function be(Gt,An){for(;Vi()&&Gt+so!==57;)if(Gt+so===84&&ma()===47)break;return"/*"+Jr(An,go-1)+"*"+Ut(Gt===47?Gt:Vi())}function Ze(Gt){for(;!vo(ma());)Vi();return Jr(Gt,go)}function De(Gt){return Yo($t("",null,null,null,[""],Gt=Ao(Gt),0,[0],Gt))}function $t(Gt,An,jn,tr,Lr,Fi,ao,Li,mo){for(var Hi=0,ki=0,Fo=ao,fo=0,Xo=0,Ga=0,la=1,Pa=1,es=1,Ia=0,Ja="",ja=Lr,ls=Fi,ss=tr,Xa=Ja;Pa;)switch(Ga=Ia,Ia=Vi()){case 40:if(Ga!=108&&Ji(Xa,Fo-1)==58){zi(Xa+=ho(co(Ia),"&","&\f"),"&\f",_n(Hi?Li[Hi-1]:0))!=-1&&(es=-1);break}case 34:case 39:case 91:Xa+=co(Ia);break;case 9:case 10:case 13:case 32:Xa+=ga(Ga);break;case 92:Xa+=en(qa()-1,7);continue;case 47:switch(ma()){case 42:case 47:Vo(Wn(be(Vi(),qa()),An,jn,mo),mo),(vo(Ga||1)==5||vo(ma()||1)==5)&&Ni(Xa)&&uo(Xa,-1,void 0)!==" "&&(Xa+=" ");break;default:Xa+="/"}break;case 123*la:Li[Hi++]=Ni(Xa)*es;case 125*la:case 59:case 0:switch(Ia){case 0:case 125:Pa=0;case 59+ki:es==-1&&(Xa=ho(Xa,/\f/g,"")),Xo>0&&(Ni(Xa)-Fo||la===0&&Ga===47)&&Vo(Xo>32?pr(Xa+";",tr,jn,Fo-1,mo):pr(ho(Xa," ","")+";",tr,jn,Fo-2,mo),mo);break;case 59:Xa+=";";default:if(Vo(ss=tn(Xa,An,jn,Hi,ki,Lr,Li,Ja,ja=[],ls=[],Fo,Fi),Fi),Ia===123)if(ki===0)$t(Xa,An,ss,ss,ja,Fi,Fo,Li,ls);else{switch(fo){case 99:if(Ji(Xa,3)===110)break;case 108:if(Ji(Xa,2)===97)break;default:ki=0;case 100:case 109:case 115:}ki?$t(Gt,ss,ss,tr&&Vo(tn(Gt,ss,ss,0,0,Lr,Li,Ja,Lr,ja=[],Fo,ls),ls),Lr,ls,Fo,Li,tr?ja:ls):$t(Xa,ss,ss,ss,[""],ls,0,Li,ls)}}Hi=ki=Xo=0,la=es=1,Ja=Xa="",Fo=ao;break;case 58:Fo=1+Ni(Xa),Xo=Ga;default:if(la<1){if(Ia==123)--la;else if(Ia==125&&la++==0&&za()==125)continue}switch(Xa+=Ut(Ia),Ia*la){case 38:es=ki>0?1:(Xa+="\f",-1);break;case 44:Li[Hi++]=(Ni(Xa)-1)*es,es=1;break;case 64:ma()===45&&(Xa+=co(Vi())),fo=ma(),ki=Fo=Ni(Ja=Xa+=Ze(qa())),Ia++;break;case 45:Ga===45&&Ni(Xa)==2&&(la=0)}}return Fi}function tn(Gt,An,jn,tr,Lr,Fi,ao,Li,mo,Hi,ki,Fo){for(var fo=Lr-1,Xo=Lr===0?Fi:[""],Ga=Po(Xo),la=0,Pa=0,es=0;la<tr;++la)for(var Ia=0,Ja=uo(Gt,fo+1,fo=_n(Pa=ao[la])),ja=Gt;Ia<Ga;++Ia)(ja=Yr(Pa>0?Xo[Ia]+" "+Ja:ho(Ja,/&\f/g,Xo[Ia])))&&(mo[es++]=ja);return ko(Gt,An,jn,Lr===0?We:Li,mo,Hi,ki,Fo)}function Wn(Gt,An,jn,tr){return ko(Gt,An,jn,hn,Ut(ha()),uo(Gt,2,-2),0,tr)}function pr(Gt,An,jn,tr,Lr){return ko(Gt,An,jn,Et,uo(Gt,0,tr),uo(Gt,tr+1,-1),tr,Lr)}function ir(Gt,An){var jn=An.path,tr=An.parentSelectors;devWarning(!1,"[Ant Design CSS-in-JS] ".concat(jn?"Error in ".concat(jn,": "):"").concat(Gt).concat(tr.length?" Selector: ".concat(tr.join(" | ")):""))}var rr=function(An,jn,tr){if(An==="content"){var Lr=/(attr|counters?|url|(((repeating-)?(linear|radial))|conic)-gradient)\(|(no-)?(open|close)-quote/,Fi=["normal","none","initial","inherit","unset"];(typeof jn!="string"||Fi.indexOf(jn)===-1&&!Lr.test(jn)&&(jn.charAt(0)!==jn.charAt(jn.length-1)||jn.charAt(0)!=='"'&&jn.charAt(0)!=="'"))&&lintWarning("You seem to be using a value for 'content' without quotes, try replacing it with `content: '\"".concat(jn,"\"'`."),tr)}},Vr=null,Si=function(An,jn,tr){An==="animation"&&tr.hashId&&jn!=="none"&&lintWarning("You seem to be using hashed animation '".concat(jn,"', in which case 'animationName' with Keyframe as value is recommended."),tr)},Ci=null;function pi(Gt){var An,jn=((An=Gt.match(/:not\(([^)]*)\)/))===null||An===void 0?void 0:An[1])||"",tr=jn.split(/(\[[^[]*])|(?=[.#])/).filter(function(Lr){return Lr});return tr.length>1}function wi(Gt){return Gt.parentSelectors.reduce(function(An,jn){return An?jn.includes("&")?jn.replace(/&/g,An):"".concat(An," ").concat(jn):jn},"")}var ti=function(An,jn,tr){var Lr=wi(tr),Fi=Lr.match(/:not\([^)]*\)/g)||[];Fi.length>0&&Fi.some(pi)&&lintWarning("Concat ':not' selector not support in legacy browsers.",tr)},Ri=null,$i=function(An,jn,tr){switch(An){case"marginLeft":case"marginRight":case"paddingLeft":case"paddingRight":case"left":case"right":case"borderLeft":case"borderLeftWidth":case"borderLeftStyle":case"borderLeftColor":case"borderRight":case"borderRightWidth":case"borderRightStyle":case"borderRightColor":case"borderTopLeftRadius":case"borderTopRightRadius":case"borderBottomLeftRadius":case"borderBottomRightRadius":lintWarning("You seem to be using non-logical property '".concat(An,"' which is not compatible with RTL mode. Please use logical properties and values instead. For more information: https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Logical_Properties."),tr);return;case"margin":case"padding":case"borderWidth":case"borderStyle":if(typeof jn=="string"){var Lr=jn.split(" ").map(function(Li){return Li.trim()});Lr.length===4&&Lr[1]!==Lr[3]&&lintWarning("You seem to be using '".concat(An,"' property with different left ").concat(An," and right ").concat(An,", which is not compatible with RTL mode. Please use logical properties and values instead. For more information: https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Logical_Properties."),tr)}return;case"clear":case"textAlign":(jn==="left"||jn==="right")&&lintWarning("You seem to be using non-logical value '".concat(jn,"' of ").concat(An,", which is not compatible with RTL mode. Please use logical properties and values instead. For more information: https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Logical_Properties."),tr);return;case"borderRadius":if(typeof jn=="string"){var Fi=jn.split("/").map(function(Li){return Li.trim()}),ao=Fi.reduce(function(Li,mo){if(Li)return Li;var Hi=mo.split(" ").map(function(ki){return ki.trim()});return Hi.length>=2&&Hi[0]!==Hi[1]||Hi.length===3&&Hi[1]!==Hi[2]||Hi.length===4&&Hi[2]!==Hi[3]?!0:Li},!1);ao&&lintWarning("You seem to be using non-logical value '".concat(jn,"' of ").concat(An,", which is not compatible with RTL mode. Please use logical properties and values instead. For more information: https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Logical_Properties."),tr)}return;default:}},yo=null,Qo=function(An,jn,tr){(typeof jn=="string"&&/NaN/g.test(jn)||Number.isNaN(jn))&&lintWarning("Unexpected 'NaN' in property '".concat(An,": ").concat(jn,"'."),tr)},aa=null,Ea=function(An,jn,tr){tr.parentSelectors.some(function(Lr){var Fi=Lr.split(",");return Fi.some(function(ao){return ao.split("&").length>2})})&&lintWarning("Should not use more than one `&` in a selector.",tr)},Ma=null,wa="data-ant-cssinjs-cache-path",Ca="_FILE_STYLE__";function Za(Gt){return Object.keys(Gt).map(function(An){var jn=Gt[An];return"".concat(An,":").concat(jn)}).join(";")}var ca,cs=!0;function Va(Gt){var An=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;ca=Gt,cs=An}function as(){if(!ca&&(ca={},(0,Ue.Z)())){var Gt=document.createElement("div");Gt.className=wa,Gt.style.position="fixed",Gt.style.visibility="hidden",Gt.style.top="-9999px",document.body.appendChild(Gt);var An=getComputedStyle(Gt).content||"";An=An.replace(/^"/,"").replace(/"$/,""),An.split(";").forEach(function(Lr){var Fi=Lr.split(":"),ao=(0,ht.Z)(Fi,2),Li=ao[0],mo=ao[1];ca[Li]=mo});var jn=document.querySelector("style[".concat(wa,"]"));if(jn){var tr;cs=!1,(tr=jn.parentNode)===null||tr===void 0||tr.removeChild(jn)}document.body.removeChild(Gt)}}function nl(Gt){return as(),!!ca[Gt]}function cl(Gt){var An=ca[Gt],jn=null;if(An&&(0,Ue.Z)())if(cs)jn=Ca;else{var tr=document.querySelector("style[".concat(Qt,'="').concat(ca[Gt],'"]'));tr?jn=tr.innerHTML:delete ca[Gt]}return[jn,An]}var Nl="_skip_check_",Hs="_multi_value_";function Bl(Gt){var An=Oo(De(Gt),zo);return An.replace(/\{%%%\:[^;];}/g,";")}function wc(Gt){return(0,Dr.Z)(Gt)==="object"&&Gt&&(Nl in Gt||Hs in Gt)}function ua(Gt,An,jn){if(!An)return Gt;var tr=".".concat(An),Lr=jn==="low"?":where(".concat(tr,")"):tr,Fi=Gt.split(",").map(function(ao){var Li,mo=ao.trim().split(/\s+/),Hi=mo[0]||"",ki=((Li=Hi.match(/^\w+/))===null||Li===void 0?void 0:Li[0])||"";return Hi="".concat(ki).concat(Lr).concat(Hi.slice(ki.length)),[Hi].concat((0,J.Z)(mo.slice(1))).join(" ")});return Fi.join(",")}var Ha=function Gt(An){var jn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},tr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},Lr=tr.root,Fi=tr.injectHash,ao=tr.parentSelectors,Li=jn.hashId,mo=jn.layer,Hi=jn.path,ki=jn.hashPriority,Fo=jn.transformers,fo=Fo===void 0?[]:Fo,Xo=jn.linters,Ga=Xo===void 0?[]:Xo,la="",Pa={};function es(ja){var ls=ja.getName(Li);if(!Pa[ls]){var ss=Gt(ja.style,jn,{root:!1,parentSelectors:ao}),Xa=(0,ht.Z)(ss,1),Ds=Xa[0];Pa[ls]="@keyframes ".concat(ja.getName(Li)).concat(Ds)}}function Ia(ja){var ls=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return ja.forEach(function(ss){Array.isArray(ss)?Ia(ss,ls):ss&&ls.push(ss)}),ls}var Ja=Ia(Array.isArray(An)?An:[An]);return Ja.forEach(function(ja){var ls=typeof ja=="string"&&!Lr?{}:ja;if(typeof ls=="string")la+="".concat(ls,`
`);else if(ls._keyframe)es(ls);else{var ss=fo.reduce(function(Xa,Ds){var ql;return(Ds==null||(ql=Ds.visit)===null||ql===void 0?void 0:ql.call(Ds,Xa))||Xa},ls);Object.keys(ss).forEach(function(Xa){var Ds=ss[Xa];if((0,Dr.Z)(Ds)==="object"&&Ds&&(Xa!=="animationName"||!Ds._keyframe)&&!wc(Ds)){var ql=!1,ul=Xa.trim(),mu=!1;(Lr||Fi)&&Li?ul.startsWith("@")?ql=!0:ul==="&"?ul=ua("",Li,ki):ul=ua(Xa,Li,ki):Lr&&!Li&&(ul==="&"||ul==="")&&(ul="",mu=!0);var Zu=Gt(Ds,jn,{root:mu,injectHash:ql,parentSelectors:[].concat((0,J.Z)(ao),[ul])}),Vl=(0,ht.Z)(Zu,2),$l=Vl[0],kl=Vl[1];Pa=(0,u.Z)((0,u.Z)({},Pa),kl),la+="".concat(ul).concat($l)}else{let uc=function(Yl,jl){var Vc=Yl.replace(/[A-Z]/g,function(dc){return"-".concat(dc.toLowerCase())}),ks=jl;!dt[Yl]&&typeof ks=="number"&&ks!==0&&(ks="".concat(ks,"px")),Yl==="animationName"&&jl!==null&&jl!==void 0&&jl._keyframe&&(es(jl),ks=jl.getName(Li)),la+="".concat(Vc,":").concat(ks,";")};var yc,bc=(yc=Ds==null?void 0:Ds.value)!==null&&yc!==void 0?yc:Ds;(0,Dr.Z)(Ds)==="object"&&Ds!==null&&Ds!==void 0&&Ds[Hs]&&Array.isArray(bc)?bc.forEach(function(Yl){uc(Xa,Yl)}):uc(Xa,bc)}})}}),Lr?mo&&(la&&(la="@layer ".concat(mo.name," {").concat(la,"}")),mo.dependencies&&(Pa["@layer ".concat(mo.name)]=mo.dependencies.map(function(ja){return"@layer ".concat(ja,", ").concat(mo.name,";")}).join(`
`))):la="{".concat(la,"}"),[la,Pa]};function da(Gt,An){return He("".concat(Gt.join("%")).concat(An))}function Jo(){return null}var ys="style";function Fs(Gt,An){var jn=Gt.token,tr=Gt.path,Lr=Gt.hashId,Fi=Gt.layer,ao=Gt.nonce,Li=Gt.clientOnly,mo=Gt.order,Hi=mo===void 0?0:mo,ki=Le.useContext(Cr),Fo=ki.autoClear,fo=ki.mock,Xo=ki.defaultCache,Ga=ki.hashPriority,la=ki.container,Pa=ki.ssrInline,es=ki.transformers,Ia=ki.linters,Ja=ki.cache,ja=ki.layer,ls=jn._tokenKey,ss=[ls];ja&&ss.push("layer"),ss.push.apply(ss,(0,J.Z)(tr));var Xa=Vn,Ds=$r(ys,ss,function(){var Vl=ss.join("|");if(nl(Vl)){var $l=cl(Vl),kl=(0,ht.Z)($l,2),yc=kl[0],bc=kl[1];if(yc)return[yc,ls,bc,{},Li,Hi]}var uc=An(),Yl=Ha(uc,{hashId:Lr,hashPriority:Ga,layer:ja?Fi:void 0,path:tr.join("-"),transformers:es,linters:Ia}),jl=(0,ht.Z)(Yl,2),Vc=jl[0],ks=jl[1],dc=Bl(Vc),Jl=da(ss,dc);return[dc,ls,Jl,ks,Li,Hi]},function(Vl,$l){var kl=(0,ht.Z)(Vl,3),yc=kl[2];($l||Fo)&&Vn&&(0,je.jL)(yc,{mark:Qt})},function(Vl){var $l=(0,ht.Z)(Vl,4),kl=$l[0],yc=$l[1],bc=$l[2],uc=$l[3];if(Xa&&kl!==Ca){var Yl={mark:Qt,prepend:ja?!1:"queue",attachTo:la,priority:Hi},jl=typeof ao=="function"?ao():ao;jl&&(Yl.csp={nonce:jl});var Vc=[],ks=[];Object.keys(uc).forEach(function(Jl){Jl.startsWith("@layer")?Vc.push(Jl):ks.push(Jl)}),Vc.forEach(function(Jl){(0,je.hq)(Bl(uc[Jl]),"_layer-".concat(Jl),(0,u.Z)((0,u.Z)({},Yl),{},{prepend:!0}))});var dc=(0,je.hq)(kl,bc,Yl);dc[Ft]=Ja.instanceId,dc.setAttribute(Ge,ls),ks.forEach(function(Jl){(0,je.hq)(Bl(uc[Jl]),"_effect-".concat(Jl),Yl)})}}),ql=(0,ht.Z)(Ds,3),ul=ql[0],mu=ql[1],Zu=ql[2];return function(Vl){var $l;if(!Pa||Xa||!Xo)$l=Le.createElement(Jo,null);else{var kl;$l=Le.createElement("style",(0,Je.Z)({},(kl={},(0,s.Z)(kl,Ge,mu),(0,s.Z)(kl,Qt,Zu),kl),{dangerouslySetInnerHTML:{__html:ul}}))}return Le.createElement(Le.Fragment,null,$l,Vl)}}var rc=function(An,jn,tr){var Lr=(0,ht.Z)(An,6),Fi=Lr[0],ao=Lr[1],Li=Lr[2],mo=Lr[3],Hi=Lr[4],ki=Lr[5],Fo=tr||{},fo=Fo.plain;if(Hi)return null;var Xo=Fi,Ga={"data-rc-order":"prependQueue","data-rc-priority":"".concat(ki)};return Xo=ri(Fi,ao,Li,Ga,fo),mo&&Object.keys(mo).forEach(function(la){if(!jn[la]){jn[la]=!0;var Pa=Bl(mo[la]),es=ri(Pa,ao,"_effect-".concat(la),Ga,fo);la.startsWith("@layer")?Xo=es+Xo:Xo+=es}}),[ki,Li,Xo]},gc="cssVar",Zc=function(An,jn){var tr=An.key,Lr=An.prefix,Fi=An.unitless,ao=An.ignore,Li=An.token,mo=An.scope,Hi=mo===void 0?"":mo,ki=(0,Le.useContext)(Cr),Fo=ki.cache.instanceId,fo=ki.container,Xo=Li._tokenKey,Ga=[].concat((0,J.Z)(An.path),[tr,Hi,Xo]),la=$r(gc,Ga,function(){var Pa=jn(),es=vr(Pa,tr,{prefix:Lr,unitless:Fi,ignore:ao,scope:Hi}),Ia=(0,ht.Z)(es,2),Ja=Ia[0],ja=Ia[1],ls=da(Ga,ja);return[Ja,ja,ls,tr]},function(Pa){var es=(0,ht.Z)(Pa,3),Ia=es[2];Vn&&(0,je.jL)(Ia,{mark:Qt})},function(Pa){var es=(0,ht.Z)(Pa,3),Ia=es[1],Ja=es[2];if(Ia){var ja=(0,je.hq)(Ia,Ja,{mark:Qt,prepend:"queue",attachTo:fo,priority:-999});ja[Ft]=Fo,ja.setAttribute(Ge,tr)}});return la},Ml=function(An,jn,tr){var Lr=(0,ht.Z)(An,4),Fi=Lr[1],ao=Lr[2],Li=Lr[3],mo=tr||{},Hi=mo.plain;if(!Fi)return null;var ki=-999,Fo={"data-rc-order":"prependQueue","data-rc-priority":"".concat(ki)},fo=ri(Fi,Li,ao,Fo,Hi);return[ki,ao,fo]},Xl=Zc,sa,To=(sa={},(0,s.Z)(sa,ys,rc),(0,s.Z)(sa,de,Ne),(0,s.Z)(sa,gc,Ml),sa);function ru(Gt){return Gt!==null}function Zo(Gt,An){var jn=typeof An=="boolean"?{plain:An}:An||{},tr=jn.plain,Lr=tr===void 0?!1:tr,Fi=jn.types,ao=Fi===void 0?["style","token","cssVar"]:Fi,Li=new RegExp("^(".concat((typeof ao=="string"?[ao]:ao).join("|"),")%")),mo=Array.from(Gt.cache.keys()).filter(function(fo){return Li.test(fo)}),Hi={},ki={},Fo="";return mo.map(function(fo){var Xo=fo.replace(Li,"").replace(/%/g,"|"),Ga=fo.split("%"),la=_slicedToArray(Ga,1),Pa=la[0],es=To[Pa],Ia=es(Gt.cache.get(fo)[1],Hi,{plain:Lr});if(!Ia)return null;var Ja=_slicedToArray(Ia,3),ja=Ja[0],ls=Ja[1],ss=Ja[2];return fo.startsWith("style")&&(ki[Xo]=ls),[ja,ss]}).filter(ru).sort(function(fo,Xo){var Ga=_slicedToArray(fo,1),la=Ga[0],Pa=_slicedToArray(Xo,1),es=Pa[0];return la-es}).forEach(function(fo){var Xo=_slicedToArray(fo,2),Ga=Xo[1];Fo+=Ga}),Fo+=toStyleStr(".".concat(ATTR_CACHE_MAP,'{content:"').concat(serializeCacheMap(ki),'";}'),void 0,void 0,_defineProperty({},ATTR_CACHE_MAP,ATTR_CACHE_MAP),Lr),Fo}var Fl=function(){function Gt(An,jn){(0,ke.Z)(this,Gt),(0,s.Z)(this,"name",void 0),(0,s.Z)(this,"style",void 0),(0,s.Z)(this,"_keyframe",!0),this.name=An,this.style=jn}return(0,Xe.Z)(Gt,[{key:"getName",value:function(){var jn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return jn?"".concat(jn,"-").concat(this.name):this.name}}]),Gt}(),fu=Fl;function ea(Gt){if(typeof Gt=="number")return[[Gt],!1];var An=String(Gt).trim(),jn=An.match(/(.*)(!important)/),tr=(jn?jn[1]:An).trim().split(/\s+/),Lr=[],Fi=0;return[tr.reduce(function(ao,Li){if(Li.includes("(")||Li.includes(")")){var mo=Li.split("(").length-1,Hi=Li.split(")").length-1;Fi+=mo-Hi}return Fi>=0&&Lr.push(Li),Fi===0&&(ao.push(Lr.join(" ")),Lr=[]),ao},[]),!!jn]}function cc(Gt){return Gt.notSplit=!0,Gt}var vc={inset:["top","right","bottom","left"],insetBlock:["top","bottom"],insetBlockStart:["top"],insetBlockEnd:["bottom"],insetInline:["left","right"],insetInlineStart:["left"],insetInlineEnd:["right"],marginBlock:["marginTop","marginBottom"],marginBlockStart:["marginTop"],marginBlockEnd:["marginBottom"],marginInline:["marginLeft","marginRight"],marginInlineStart:["marginLeft"],marginInlineEnd:["marginRight"],paddingBlock:["paddingTop","paddingBottom"],paddingBlockStart:["paddingTop"],paddingBlockEnd:["paddingBottom"],paddingInline:["paddingLeft","paddingRight"],paddingInlineStart:["paddingLeft"],paddingInlineEnd:["paddingRight"],borderBlock:cc(["borderTop","borderBottom"]),borderBlockStart:cc(["borderTop"]),borderBlockEnd:cc(["borderBottom"]),borderInline:cc(["borderLeft","borderRight"]),borderInlineStart:cc(["borderLeft"]),borderInlineEnd:cc(["borderRight"]),borderBlockWidth:["borderTopWidth","borderBottomWidth"],borderBlockStartWidth:["borderTopWidth"],borderBlockEndWidth:["borderBottomWidth"],borderInlineWidth:["borderLeftWidth","borderRightWidth"],borderInlineStartWidth:["borderLeftWidth"],borderInlineEndWidth:["borderRightWidth"],borderBlockStyle:["borderTopStyle","borderBottomStyle"],borderBlockStartStyle:["borderTopStyle"],borderBlockEndStyle:["borderBottomStyle"],borderInlineStyle:["borderLeftStyle","borderRightStyle"],borderInlineStartStyle:["borderLeftStyle"],borderInlineEndStyle:["borderRightStyle"],borderBlockColor:["borderTopColor","borderBottomColor"],borderBlockStartColor:["borderTopColor"],borderBlockEndColor:["borderBottomColor"],borderInlineColor:["borderLeftColor","borderRightColor"],borderInlineStartColor:["borderLeftColor"],borderInlineEndColor:["borderRightColor"],borderStartStartRadius:["borderTopLeftRadius"],borderStartEndRadius:["borderTopRightRadius"],borderEndStartRadius:["borderBottomLeftRadius"],borderEndEndRadius:["borderBottomRightRadius"]};function iu(Gt,An){var jn=Gt;return An&&(jn="".concat(jn," !important")),{_skip_check_:!0,value:jn}}var ju={visit:function(An){var jn={};return Object.keys(An).forEach(function(tr){var Lr=An[tr],Fi=vc[tr];if(Fi&&(typeof Lr=="number"||typeof Lr=="string")){var ao=ea(Lr),Li=(0,ht.Z)(ao,2),mo=Li[0],Hi=Li[1];Fi.length&&Fi.notSplit?Fi.forEach(function(ki){jn[ki]=iu(Lr,Hi)}):Fi.length===1?jn[Fi[0]]=iu(mo[0],Hi):Fi.length===2?Fi.forEach(function(ki,Fo){var fo;jn[ki]=iu((fo=mo[Fo])!==null&&fo!==void 0?fo:mo[0],Hi)}):Fi.length===4?Fi.forEach(function(ki,Fo){var fo,Xo;jn[ki]=iu((fo=(Xo=mo[Fo])!==null&&Xo!==void 0?Xo:mo[Fo-2])!==null&&fo!==void 0?fo:mo[0],Hi)}):jn[tr]=Lr}else jn[tr]=Lr}),jn}},Kl=null,ll=/url\([^)]+\)|var\([^)]+\)|(\d*\.?\d+)px/g;function Ei(Gt,An){var jn=Math.pow(10,An+1),tr=Math.floor(Gt*jn);return Math.round(tr/10)*10/jn}var Eu=function(){var An=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},jn=An.rootValue,tr=jn===void 0?16:jn,Lr=An.precision,Fi=Lr===void 0?5:Lr,ao=An.mediaQuery,Li=ao===void 0?!1:ao,mo=function(Fo,fo){if(!fo)return Fo;var Xo=parseFloat(fo);if(Xo<=1)return Fo;var Ga=Ei(Xo/tr,Fi);return"".concat(Ga,"rem")},Hi=function(Fo){var fo=_objectSpread({},Fo);return Object.entries(Fo).forEach(function(Xo){var Ga=_slicedToArray(Xo,2),la=Ga[0],Pa=Ga[1];if(typeof Pa=="string"&&Pa.includes("px")){var es=Pa.replace(ll,mo);fo[la]=es}!unitless[la]&&typeof Pa=="number"&&Pa!==0&&(fo[la]="".concat(Pa,"px").replace(ll,mo));var Ia=la.trim();if(Ia.startsWith("@")&&Ia.includes("px")&&Li){var Ja=la.replace(ll,mo);fo[Ja]=fo[la],delete fo[la]}}),fo};return{visit:Hi}},Iu=null,hu={supportModernCSS:function(){return un()&&Sr()}}},84432:function(Qr,Jt,j){"use strict";j.d(Jt,{t:function(){return He}});var s=j(38926);const ht=Math.round;function J(je,Le){const _e=je.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],oe=_e.map(Ye=>parseFloat(Ye));for(let Ye=0;Ye<3;Ye+=1)oe[Ye]=Le(oe[Ye]||0,_e[Ye]||"",Ye);return _e[3]?oe[3]=_e[3].includes("%")?oe[3]/100:oe[3]:oe[3]=1,oe}const u=(je,Le,_e)=>_e===0?je:je/100;function Ie(je,Le){const _e=Le||255;return je>_e?_e:je<0?0:je}class He{constructor(Le){(0,s.Z)(this,"isValid",!0),(0,s.Z)(this,"r",0),(0,s.Z)(this,"g",0),(0,s.Z)(this,"b",0),(0,s.Z)(this,"a",1),(0,s.Z)(this,"_h",void 0),(0,s.Z)(this,"_s",void 0),(0,s.Z)(this,"_l",void 0),(0,s.Z)(this,"_v",void 0),(0,s.Z)(this,"_max",void 0),(0,s.Z)(this,"_min",void 0),(0,s.Z)(this,"_brightness",void 0);function _e(oe){return oe[0]in Le&&oe[1]in Le&&oe[2]in Le}if(Le)if(typeof Le=="string"){let Ye=function(ke){return oe.startsWith(ke)};const oe=Le.trim();/^#?[A-F\d]{3,8}$/i.test(oe)?this.fromHexString(oe):Ye("rgb")?this.fromRgbString(oe):Ye("hsl")?this.fromHslString(oe):(Ye("hsv")||Ye("hsb"))&&this.fromHsvString(oe)}else if(Le instanceof He)this.r=Le.r,this.g=Le.g,this.b=Le.b,this.a=Le.a,this._h=Le._h,this._s=Le._s,this._l=Le._l,this._v=Le._v;else if(_e("rgb"))this.r=Ie(Le.r),this.g=Ie(Le.g),this.b=Ie(Le.b),this.a=typeof Le.a=="number"?Ie(Le.a,1):1;else if(_e("hsl"))this.fromHsl(Le);else if(_e("hsv"))this.fromHsv(Le);else throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(Le))}setR(Le){return this._sc("r",Le)}setG(Le){return this._sc("g",Le)}setB(Le){return this._sc("b",Le)}setA(Le){return this._sc("a",Le,1)}setHue(Le){const _e=this.toHsv();return _e.h=Le,this._c(_e)}getLuminance(){function Le(ke){const Xe=ke/255;return Xe<=.03928?Xe/12.92:Math.pow((Xe+.055)/1.055,2.4)}const _e=Le(this.r),oe=Le(this.g),Ye=Le(this.b);return .2126*_e+.7152*oe+.0722*Ye}getHue(){if(typeof this._h=="undefined"){const Le=this.getMax()-this.getMin();Le===0?this._h=0:this._h=ht(60*(this.r===this.getMax()?(this.g-this.b)/Le+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/Le+2:(this.r-this.g)/Le+4))}return this._h}getSaturation(){if(typeof this._s=="undefined"){const Le=this.getMax()-this.getMin();Le===0?this._s=0:this._s=Le/this.getMax()}return this._s}getLightness(){return typeof this._l=="undefined"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v=="undefined"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness=="undefined"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(Le=10){const _e=this.getHue(),oe=this.getSaturation();let Ye=this.getLightness()-Le/100;return Ye<0&&(Ye=0),this._c({h:_e,s:oe,l:Ye,a:this.a})}lighten(Le=10){const _e=this.getHue(),oe=this.getSaturation();let Ye=this.getLightness()+Le/100;return Ye>1&&(Ye=1),this._c({h:_e,s:oe,l:Ye,a:this.a})}mix(Le,_e=50){const oe=this._c(Le),Ye=_e/100,ke=at=>(oe[at]-this[at])*Ye+this[at],Xe={r:ht(ke("r")),g:ht(ke("g")),b:ht(ke("b")),a:ht(ke("a")*100)/100};return this._c(Xe)}tint(Le=10){return this.mix({r:255,g:255,b:255,a:1},Le)}shade(Le=10){return this.mix({r:0,g:0,b:0,a:1},Le)}onBackground(Le){const _e=this._c(Le),oe=this.a+_e.a*(1-this.a),Ye=ke=>ht((this[ke]*this.a+_e[ke]*_e.a*(1-this.a))/oe);return this._c({r:Ye("r"),g:Ye("g"),b:Ye("b"),a:oe})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(Le){return this.r===Le.r&&this.g===Le.g&&this.b===Le.b&&this.a===Le.a}clone(){return this._c(this)}toHexString(){let Le="#";const _e=(this.r||0).toString(16);Le+=_e.length===2?_e:"0"+_e;const oe=(this.g||0).toString(16);Le+=oe.length===2?oe:"0"+oe;const Ye=(this.b||0).toString(16);if(Le+=Ye.length===2?Ye:"0"+Ye,typeof this.a=="number"&&this.a>=0&&this.a<1){const ke=ht(this.a*255).toString(16);Le+=ke.length===2?ke:"0"+ke}return Le}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const Le=this.getHue(),_e=ht(this.getSaturation()*100),oe=ht(this.getLightness()*100);return this.a!==1?`hsla(${Le},${_e}%,${oe}%,${this.a})`:`hsl(${Le},${_e}%,${oe}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(Le,_e,oe){const Ye=this.clone();return Ye[Le]=Ie(_e,oe),Ye}_c(Le){return new this.constructor(Le)}getMax(){return typeof this._max=="undefined"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min=="undefined"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(Le){const _e=Le.replace("#","");function oe(Ye,ke){return parseInt(_e[Ye]+_e[ke||Ye],16)}_e.length<6?(this.r=oe(0),this.g=oe(1),this.b=oe(2),this.a=_e[3]?oe(3)/255:1):(this.r=oe(0,1),this.g=oe(2,3),this.b=oe(4,5),this.a=_e[6]?oe(6,7)/255:1)}fromHsl({h:Le,s:_e,l:oe,a:Ye}){if(this._h=Le%360,this._s=_e,this._l=oe,this.a=typeof Ye=="number"?Ye:1,_e<=0){const Ge=ht(oe*255);this.r=Ge,this.g=Ge,this.b=Ge}let ke=0,Xe=0,at=0;const xt=Le/60,ot=(1-Math.abs(2*oe-1))*_e,St=ot*(1-Math.abs(xt%2-1));xt>=0&&xt<1?(ke=ot,Xe=St):xt>=1&&xt<2?(ke=St,Xe=ot):xt>=2&&xt<3?(Xe=ot,at=St):xt>=3&&xt<4?(Xe=St,at=ot):xt>=4&&xt<5?(ke=St,at=ot):xt>=5&&xt<6&&(ke=ot,at=St);const Ot=oe-ot/2;this.r=ht((ke+Ot)*255),this.g=ht((Xe+Ot)*255),this.b=ht((at+Ot)*255)}fromHsv({h:Le,s:_e,v:oe,a:Ye}){this._h=Le%360,this._s=_e,this._v=oe,this.a=typeof Ye=="number"?Ye:1;const ke=ht(oe*255);if(this.r=ke,this.g=ke,this.b=ke,_e<=0)return;const Xe=Le/60,at=Math.floor(Xe),xt=Xe-at,ot=ht(oe*(1-_e)*255),St=ht(oe*(1-_e*xt)*255),Ot=ht(oe*(1-_e*(1-xt))*255);switch(at){case 0:this.g=Ot,this.b=ot;break;case 1:this.r=St,this.b=ot;break;case 2:this.r=ot,this.b=Ot;break;case 3:this.r=ot,this.g=St;break;case 4:this.r=Ot,this.g=ot;break;case 5:default:this.g=ot,this.b=St;break}}fromHsvString(Le){const _e=J(Le,u);this.fromHsv({h:_e[0],s:_e[1],v:_e[2],a:_e[3]})}fromHslString(Le){const _e=J(Le,u);this.fromHsl({h:_e[0],s:_e[1],l:_e[2],a:_e[3]})}fromRgbString(Le){const _e=J(Le,(oe,Ye)=>Ye.includes("%")?ht(oe/100*255):oe);this.r=_e[0],this.g=_e[1],this.b=_e[2],this.a=_e[3]}}},23738:function(Qr,Jt,j){"use strict";j.d(Jt,{Z:function(){return Rn}});var s=j(23022),ht=j(89692),J=j(38926),u=j(58190),Ie=j(75271),He=j(82187),je=j.n(He),Le=j(68640),_e=j(53552),oe=j(54153),Ye=j(5147),ke=j(18263),Xe=j(16167),at=j(4449);function xt(pt){return pt.replace(/-(.)/g,function(an,Tn){return Tn.toUpperCase()})}function ot(pt,an){(0,at.ZP)(pt,"[@ant-design/icons] ".concat(an))}function St(pt){return(0,Ye.Z)(pt)==="object"&&typeof pt.name=="string"&&typeof pt.theme=="string"&&((0,Ye.Z)(pt.icon)==="object"||typeof pt.icon=="function")}function Ot(){var pt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(pt).reduce(function(an,Tn){var me=pt[Tn];switch(Tn){case"class":an.className=me,delete an.class;break;default:delete an[Tn],an[xt(Tn)]=me}return an},{})}function Ge(pt,an,Tn){return Tn?Ie.createElement(pt.tag,(0,oe.Z)((0,oe.Z)({key:an},Ot(pt.attrs)),Tn),(pt.children||[]).map(function(me,nn){return Ge(me,"".concat(an,"-").concat(pt.tag,"-").concat(nn))})):Ie.createElement(pt.tag,(0,oe.Z)({key:an},Ot(pt.attrs)),(pt.children||[]).map(function(me,nn){return Ge(me,"".concat(an,"-").concat(pt.tag,"-").concat(nn))}))}function Qt(pt){return(0,Le.R_)(pt)[0]}function Pt(pt){return pt?Array.isArray(pt)?pt:[pt]:[]}var Ft={width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",focusable:"false"},Xt=`
.anticon {
  display: inline-flex;
  align-items: center;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,Ht=function(an){var Tn=(0,Ie.useContext)(_e.Z),me=Tn.csp,nn=Tn.prefixCls,bi=Tn.layer,ui=Xt;nn&&(ui=ui.replace(/anticon/g,nn)),bi&&(ui="@layer ".concat(bi,` {
`).concat(ui,`
}`)),(0,Ie.useEffect)(function(){var $e=an.current,Mn=(0,Xe.A)($e);(0,ke.hq)(ui,"@ant-design-icons",{prepend:!bi,csp:me,attachTo:Mn})},[])},Ar=["icon","className","onClick","style","primaryColor","secondaryColor"],Cr={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function Dr(pt){var an=pt.primaryColor,Tn=pt.secondaryColor;Cr.primaryColor=an,Cr.secondaryColor=Tn||Qt(an),Cr.calculated=!!Tn}function Ue(){return(0,oe.Z)({},Cr)}var sn=function(an){var Tn=an.icon,me=an.className,nn=an.onClick,bi=an.style,ui=an.primaryColor,$e=an.secondaryColor,Mn=(0,u.Z)(an,Ar),Kr=Ie.useRef(),jr=Cr;if(ui&&(jr={primaryColor:ui,secondaryColor:$e||Qt(ui)}),Ht(Kr),ot(St(Tn),"icon should be icon definiton, but got ".concat(Tn)),!St(Tn))return null;var Sn=Tn;return Sn&&typeof Sn.icon=="function"&&(Sn=(0,oe.Z)((0,oe.Z)({},Sn),{},{icon:Sn.icon(jr.primaryColor,jr.secondaryColor)})),Ge(Sn.icon,"svg-".concat(Sn.name),(0,oe.Z)((0,oe.Z)({className:me,onClick:nn,style:bi,"data-icon":Sn.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},Mn),{},{ref:Kr}))};sn.displayName="IconReact",sn.getTwoToneColors=Ue,sn.setTwoToneColors=Dr;var Bn=sn;function En(pt){var an=Pt(pt),Tn=(0,ht.Z)(an,2),me=Tn[0],nn=Tn[1];return Bn.setTwoToneColors({primaryColor:me,secondaryColor:nn})}function Be(){var pt=Bn.getTwoToneColors();return pt.calculated?[pt.primaryColor,pt.secondaryColor]:pt.primaryColor}var Gn=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];En(Le.iN.primary);var In=Ie.forwardRef(function(pt,an){var Tn=pt.className,me=pt.icon,nn=pt.spin,bi=pt.rotate,ui=pt.tabIndex,$e=pt.onClick,Mn=pt.twoToneColor,Kr=(0,u.Z)(pt,Gn),jr=Ie.useContext(_e.Z),Sn=jr.prefixCls,Fr=Sn===void 0?"anticon":Sn,Ii=jr.rootClassName,fr=je()(Ii,Fr,(0,J.Z)((0,J.Z)({},"".concat(Fr,"-").concat(me.name),!!me.name),"".concat(Fr,"-spin"),!!nn||me.name==="loading"),Tn),st=ui;st===void 0&&$e&&(st=-1);var jt=bi?{msTransform:"rotate(".concat(bi,"deg)"),transform:"rotate(".concat(bi,"deg)")}:void 0,Fn=Pt(Mn),un=(0,ht.Z)(Fn,2),pn=un[0],Sr=un[1];return Ie.createElement("span",(0,s.Z)({role:"img","aria-label":me.name},Kr,{ref:an,tabIndex:st,onClick:$e,className:fr}),Ie.createElement(Bn,{icon:me,primaryColor:pn,secondaryColor:Sr,style:jt}))});In.displayName="AntdIcon",In.getTwoToneColor=Be,In.setTwoToneColor=En;var Rn=In},53552:function(Qr,Jt,j){"use strict";var s=j(75271),ht=(0,s.createContext)({});Jt.Z=ht},4692:function(Qr,Jt,j){"use strict";j.d(Jt,{Z:function(){return Le}});var s=j(23022),ht=j(75271),J={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},u=J,Ie=j(23738),He=function(oe,Ye){return ht.createElement(Ie.Z,(0,s.Z)({},oe,{ref:Ye,icon:u}))},je=ht.forwardRef(He),Le=je},3642:function(Qr,Jt,j){"use strict";j.d(Jt,{Z:function(){return Le}});var s=j(23022),ht=j(75271),J={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},u=J,Ie=j(23738),He=function(oe,Ye){return ht.createElement(Ie.Z,(0,s.Z)({},oe,{ref:Ye,icon:u}))},je=ht.forwardRef(He),Le=je},75434:function(Qr,Jt,j){"use strict";j.d(Jt,{Z:function(){return Le}});var s=j(23022),ht=j(75271),J={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"},u=J,Ie=j(23738),He=function(oe,Ye){return ht.createElement(Ie.Z,(0,s.Z)({},oe,{ref:Ye,icon:u}))},je=ht.forwardRef(He),Le=je},14258:function(Qr,Jt,j){"use strict";j.d(Jt,{Z:function(){return Le}});var s=j(23022),ht=j(75271),J={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"},u=J,Ie=j(23738),He=function(oe,Ye){return ht.createElement(Ie.Z,(0,s.Z)({},oe,{ref:Ye,icon:u}))},je=ht.forwardRef(He),Le=je},13143:function(Qr,Jt,j){"use strict";j.d(Jt,{Z:function(){return Le}});var s=j(23022),ht=j(75271),J={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},u=J,Ie=j(23738),He=function(oe,Ye){return ht.createElement(Ie.Z,(0,s.Z)({},oe,{ref:Ye,icon:u}))},je=ht.forwardRef(He),Le=je},64267:function(Qr,Jt,j){"use strict";j.d(Jt,{Z:function(){return Le}});var s=j(23022),ht=j(75271),J={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},u=J,Ie=j(23738),He=function(oe,Ye){return ht.createElement(Ie.Z,(0,s.Z)({},oe,{ref:Ye,icon:u}))},je=ht.forwardRef(He),Le=je},24573:function(Qr,Jt,j){"use strict";j.d(Jt,{Z:function(){return Le}});var s=j(23022),ht=j(75271),J={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},u=J,Ie=j(23738),He=function(oe,Ye){return ht.createElement(Ie.Z,(0,s.Z)({},oe,{ref:Ye,icon:u}))},je=ht.forwardRef(He),Le=je},27806:function(Qr,Jt,j){"use strict";j.d(Jt,{Z:function(){return Le}});var s=j(23022),ht=j(75271),J={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"},u=J,Ie=j(23738),He=function(oe,Ye){return ht.createElement(Ie.Z,(0,s.Z)({},oe,{ref:Ye,icon:u}))},je=ht.forwardRef(He),Le=je},17023:function(Qr,Jt,j){"use strict";j.d(Jt,{Z:function(){return Le}});var s=j(23022),ht=j(75271),J={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},u=J,Ie=j(23738),He=function(oe,Ye){return ht.createElement(Ie.Z,(0,s.Z)({},oe,{ref:Ye,icon:u}))},je=ht.forwardRef(He),Le=je},84896:function(Qr,Jt,j){"use strict";j.d(Jt,{Z:function(){return Le}});var s=j(23022),ht=j(75271),J={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"},u=J,Ie=j(23738),He=function(oe,Ye){return ht.createElement(Ie.Z,(0,s.Z)({},oe,{ref:Ye,icon:u}))},je=ht.forwardRef(He),Le=je},2180:function(Qr,Jt,j){"use strict";j.d(Jt,{Il:function(){return St},G5:function(){return Cr},ZP:function(){return Ii}});var s=j(23022),ht=j(38926),J=j(89692),u=j(75271),Ie=j(54153),He=j(59295),je=j(45985),Le=j(76525),_e=j(56216),oe=j(58190),Ye=j(5147),ke=j(84432),Xe=["b"],at=["v"],xt=function(st){return Math.round(Number(st||0))},ot=function(st){if(st instanceof ke.t)return st;if(st&&(0,Ye.Z)(st)==="object"&&"h"in st&&"b"in st){var jt=st,Fn=jt.b,un=(0,oe.Z)(jt,Xe);return(0,Ie.Z)((0,Ie.Z)({},un),{},{v:Fn})}return typeof st=="string"&&/hsb/.test(st)?st.replace(/hsb/,"hsv"):st},St=function(fr){(0,Le.Z)(jt,fr);var st=(0,_e.Z)(jt);function jt(Fn){return(0,He.Z)(this,jt),st.call(this,ot(Fn))}return(0,je.Z)(jt,[{key:"toHsbString",value:function(){var un=this.toHsb(),pn=xt(un.s*100),Sr=xt(un.b*100),Vn=xt(un.h),Xr=un.a,ri="hsb(".concat(Vn,", ").concat(pn,"%, ").concat(Sr,"%)"),Zr="hsba(".concat(Vn,", ").concat(pn,"%, ").concat(Sr,"%, ").concat(Xr.toFixed(Xr===0?0:2),")");return Xr===1?ri:Zr}},{key:"toHsb",value:function(){var un=this.toHsv(),pn=un.v,Sr=(0,oe.Z)(un,at);return(0,Ie.Z)((0,Ie.Z)({},Sr),{},{b:pn,a:this.a})}}]),jt}(ke.t),Ot="rc-color-picker",Ge=function(st){return st instanceof St?st:new St(st)},Qt=Ge("#1677ff"),Pt=function(st){var jt=st.offset,Fn=st.targetRef,un=st.containerRef,pn=st.color,Sr=st.type,Vn=un.current.getBoundingClientRect(),Xr=Vn.width,ri=Vn.height,Zr=Fn.current.getBoundingClientRect(),ei=Zr.width,vr=Zr.height,hr=ei/2,ur=vr/2,wr=(jt.x+hr)/Xr,yr=1-(jt.y+ur)/ri,Nr=pn.toHsb(),Xn=wr,lr=(jt.x+hr)/Xr*360;if(Sr)switch(Sr){case"hue":return Ge((0,Ie.Z)((0,Ie.Z)({},Nr),{},{h:lr<=0?0:lr}));case"alpha":return Ge((0,Ie.Z)((0,Ie.Z)({},Nr),{},{a:Xn<=0?0:Xn}))}return Ge({h:Nr.h,s:wr<=0?0:wr,b:yr>=1?1:yr,a:Nr.a})},Ft=function(st,jt){var Fn=st.toHsb();switch(jt){case"hue":return{x:Fn.h/360*100,y:50};case"alpha":return{x:st.a*100,y:50};default:return{x:Fn.s*100,y:(1-Fn.b)*100}}},Xt=j(82187),Ht=j.n(Xt),Ar=function(st){var jt=st.color,Fn=st.prefixCls,un=st.className,pn=st.style,Sr=st.onClick,Vn="".concat(Fn,"-color-block");return u.createElement("div",{className:Ht()(Vn,un),style:pn,onClick:Sr},u.createElement("div",{className:"".concat(Vn,"-inner"),style:{background:jt}}))},Cr=Ar;function Dr(fr){var st="touches"in fr?fr.touches[0]:fr,jt=document.documentElement.scrollLeft||document.body.scrollLeft||window.pageXOffset,Fn=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset;return{pageX:st.pageX-jt,pageY:st.pageY-Fn}}function Ue(fr){var st=fr.targetRef,jt=fr.containerRef,Fn=fr.direction,un=fr.onDragChange,pn=fr.onDragChangeComplete,Sr=fr.calculate,Vn=fr.color,Xr=fr.disabledDrag,ri=(0,u.useState)({x:0,y:0}),Zr=(0,J.Z)(ri,2),ei=Zr[0],vr=Zr[1],hr=(0,u.useRef)(null),ur=(0,u.useRef)(null);(0,u.useEffect)(function(){vr(Sr())},[Vn]),(0,u.useEffect)(function(){return function(){document.removeEventListener("mousemove",hr.current),document.removeEventListener("mouseup",ur.current),document.removeEventListener("touchmove",hr.current),document.removeEventListener("touchend",ur.current),hr.current=null,ur.current=null}},[]);var wr=function(Ur){var Ln=Dr(Ur),_i=Ln.pageX,fi=Ln.pageY,Wi=jt.current.getBoundingClientRect(),po=Wi.x,kr=Wi.y,no=Wi.width,qt=Wi.height,xn=st.current.getBoundingClientRect(),Jn=xn.width,$r=xn.height,li=Jn/2,ii=$r/2,Ki=Math.max(0,Math.min(_i-po,no))-li,eo=Math.max(0,Math.min(fi-kr,qt))-ii,Ro={x:Ki,y:Fn==="x"?ei.y:eo};if(Jn===0&&$r===0||Jn!==$r)return!1;un==null||un(Ro)},yr=function(Ur){Ur.preventDefault(),wr(Ur)},Nr=function(Ur){Ur.preventDefault(),document.removeEventListener("mousemove",hr.current),document.removeEventListener("mouseup",ur.current),document.removeEventListener("touchmove",hr.current),document.removeEventListener("touchend",ur.current),hr.current=null,ur.current=null,pn==null||pn()},Xn=function(Ur){document.removeEventListener("mousemove",hr.current),document.removeEventListener("mouseup",ur.current),!Xr&&(wr(Ur),document.addEventListener("mousemove",yr),document.addEventListener("mouseup",Nr),document.addEventListener("touchmove",yr),document.addEventListener("touchend",Nr),hr.current=yr,ur.current=Nr)};return[ei,Xn]}var sn=Ue,Bn=j(22217),En=function(st){var jt=st.size,Fn=jt===void 0?"default":jt,un=st.color,pn=st.prefixCls;return u.createElement("div",{className:Ht()("".concat(pn,"-handler"),(0,ht.Z)({},"".concat(pn,"-handler-sm"),Fn==="small")),style:{backgroundColor:un}})},Be=En,Gn=function(st){var jt=st.children,Fn=st.style,un=st.prefixCls;return u.createElement("div",{className:"".concat(un,"-palette"),style:(0,Ie.Z)({position:"relative"},Fn)},jt)},In=Gn,Rn=(0,u.forwardRef)(function(fr,st){var jt=fr.children,Fn=fr.x,un=fr.y;return u.createElement("div",{ref:st,style:{position:"absolute",left:"".concat(Fn,"%"),top:"".concat(un,"%"),zIndex:1,transform:"translate(-50%, -50%)"}},jt)}),pt=Rn,an=function(st){var jt=st.color,Fn=st.onChange,un=st.prefixCls,pn=st.onChangeComplete,Sr=st.disabled,Vn=(0,u.useRef)(),Xr=(0,u.useRef)(),ri=(0,u.useRef)(jt),Zr=(0,Bn.zX)(function(wr){var yr=Pt({offset:wr,targetRef:Xr,containerRef:Vn,color:jt});ri.current=yr,Fn(yr)}),ei=sn({color:jt,containerRef:Vn,targetRef:Xr,calculate:function(){return Ft(jt)},onDragChange:Zr,onDragChangeComplete:function(){return pn==null?void 0:pn(ri.current)},disabledDrag:Sr}),vr=(0,J.Z)(ei,2),hr=vr[0],ur=vr[1];return u.createElement("div",{ref:Vn,className:"".concat(un,"-select"),onMouseDown:ur,onTouchStart:ur},u.createElement(In,{prefixCls:un},u.createElement(pt,{x:hr.x,y:hr.y,ref:Xr},u.createElement(Be,{color:jt.toRgbString(),prefixCls:un})),u.createElement("div",{className:"".concat(un,"-saturation"),style:{backgroundColor:"hsl(".concat(jt.toHsb().h,",100%, 50%)"),backgroundImage:"linear-gradient(0deg, #000, transparent),linear-gradient(90deg, #fff, hsla(0, 0%, 100%, 0))"}})))},Tn=an,me=function(st,jt){var Fn=(0,Bn.C8)(st,{value:jt}),un=(0,J.Z)(Fn,2),pn=un[0],Sr=un[1],Vn=(0,u.useMemo)(function(){return Ge(pn)},[pn]);return[Vn,Sr]},nn=me,bi=function(st){var jt=st.colors,Fn=st.children,un=st.direction,pn=un===void 0?"to right":un,Sr=st.type,Vn=st.prefixCls,Xr=(0,u.useMemo)(function(){return jt.map(function(ri,Zr){var ei=Ge(ri);return Sr==="alpha"&&Zr===jt.length-1&&(ei=new St(ei.setA(1))),ei.toRgbString()}).join(",")},[jt,Sr]);return u.createElement("div",{className:"".concat(Vn,"-gradient"),style:{position:"absolute",inset:0,background:"linear-gradient(".concat(pn,", ").concat(Xr,")")}},Fn)},ui=bi,$e=function(st){var jt=st.prefixCls,Fn=st.colors,un=st.disabled,pn=st.onChange,Sr=st.onChangeComplete,Vn=st.color,Xr=st.type,ri=(0,u.useRef)(),Zr=(0,u.useRef)(),ei=(0,u.useRef)(Vn),vr=function(Ln){return Xr==="hue"?Ln.getHue():Ln.a*100},hr=(0,Bn.zX)(function(Ur){var Ln=Pt({offset:Ur,targetRef:Zr,containerRef:ri,color:Vn,type:Xr});ei.current=Ln,pn(vr(Ln))}),ur=sn({color:Vn,targetRef:Zr,containerRef:ri,calculate:function(){return Ft(Vn,Xr)},onDragChange:hr,onDragChangeComplete:function(){Sr(vr(ei.current))},direction:"x",disabledDrag:un}),wr=(0,J.Z)(ur,2),yr=wr[0],Nr=wr[1],Xn=u.useMemo(function(){if(Xr==="hue"){var Ur=Vn.toHsb();Ur.s=1,Ur.b=1,Ur.a=1;var Ln=new St(Ur);return Ln}return Vn},[Vn,Xr]),lr=u.useMemo(function(){return Fn.map(function(Ur){return"".concat(Ur.color," ").concat(Ur.percent,"%")})},[Fn]);return u.createElement("div",{ref:ri,className:Ht()("".concat(jt,"-slider"),"".concat(jt,"-slider-").concat(Xr)),onMouseDown:Nr,onTouchStart:Nr},u.createElement(In,{prefixCls:jt},u.createElement(pt,{x:yr.x,y:yr.y,ref:Zr},u.createElement(Be,{size:"small",color:Xn.toHexString(),prefixCls:jt})),u.createElement(ui,{colors:lr,type:Xr,prefixCls:jt})))},Mn=$e;function Kr(fr){return u.useMemo(function(){var st=fr||{},jt=st.slider;return[jt||Mn]},[fr])}var jr=[{color:"rgb(255, 0, 0)",percent:0},{color:"rgb(255, 255, 0)",percent:17},{color:"rgb(0, 255, 0)",percent:33},{color:"rgb(0, 255, 255)",percent:50},{color:"rgb(0, 0, 255)",percent:67},{color:"rgb(255, 0, 255)",percent:83},{color:"rgb(255, 0, 0)",percent:100}],Sn=(0,u.forwardRef)(function(fr,st){var jt=fr.value,Fn=fr.defaultValue,un=fr.prefixCls,pn=un===void 0?Ot:un,Sr=fr.onChange,Vn=fr.onChangeComplete,Xr=fr.className,ri=fr.style,Zr=fr.panelRender,ei=fr.disabledAlpha,vr=ei===void 0?!1:ei,hr=fr.disabled,ur=hr===void 0?!1:hr,wr=fr.components,yr=Kr(wr),Nr=(0,J.Z)(yr,1),Xn=Nr[0],lr=nn(Fn||Qt,jt),Ur=(0,J.Z)(lr,2),Ln=Ur[0],_i=Ur[1],fi=(0,u.useMemo)(function(){return Ln.setA(1).toRgbString()},[Ln]),Wi=function(eo,Ro){jt||_i(eo),Sr==null||Sr(eo,Ro)},po=function(eo){return new St(Ln.setHue(eo))},kr=function(eo){return new St(Ln.setA(eo/100))},no=function(eo){Wi(po(eo),{type:"hue",value:eo})},qt=function(eo){Wi(kr(eo),{type:"alpha",value:eo})},xn=function(eo){Vn&&Vn(po(eo))},Jn=function(eo){Vn&&Vn(kr(eo))},$r=Ht()("".concat(pn,"-panel"),Xr,(0,ht.Z)({},"".concat(pn,"-panel-disabled"),ur)),li={prefixCls:pn,disabled:ur,color:Ln},ii=u.createElement(u.Fragment,null,u.createElement(Tn,(0,s.Z)({onChange:Wi},li,{onChangeComplete:Vn})),u.createElement("div",{className:"".concat(pn,"-slider-container")},u.createElement("div",{className:Ht()("".concat(pn,"-slider-group"),(0,ht.Z)({},"".concat(pn,"-slider-group-disabled-alpha"),vr))},u.createElement(Xn,(0,s.Z)({},li,{type:"hue",colors:jr,min:0,max:359,value:Ln.getHue(),onChange:no,onChangeComplete:xn})),!vr&&u.createElement(Xn,(0,s.Z)({},li,{type:"alpha",colors:[{percent:0,color:"rgba(255, 0, 4, 0)"},{percent:100,color:fi}],min:0,max:100,value:Ln.a*100,onChange:qt,onChangeComplete:Jn}))),u.createElement(Cr,{color:Ln.toRgbString(),prefixCls:pn})));return u.createElement("div",{className:$r,style:ri,ref:st},typeof Zr=="function"?Zr(ii):ii)}),Fr=Sn,Ii=Fr},54797:function(){"use strict"},78018:function(Qr,Jt,j){"use strict";var s=j(75271),ht=j(60824),J=j(23137);const u=Ie=>{const{space:He,form:je,children:Le}=Ie;if(Le==null)return null;let _e=Le;return je&&(_e=s.createElement(ht.Ux,{override:!0,status:!0},_e)),He&&(_e=s.createElement(J.BR,null,_e)),_e};Jt.Z=u},52445:function(Qr,Jt,j){"use strict";j.d(Jt,{i:function(){return Ie}});var s=j(75271),ht=j(93954),J=j(62639),u=j(98446);function Ie(je){return Le=>s.createElement(J.ZP,{theme:{token:{motion:!1,zIndexPopupBase:0}}},s.createElement(je,Object.assign({},Le)))}const He=(je,Le,_e,oe,Ye)=>Ie(Xe=>{const{prefixCls:at,style:xt}=Xe,ot=s.useRef(null),[St,Ot]=s.useState(0),[Ge,Qt]=s.useState(0),[Pt,Ft]=(0,ht.Z)(!1,{value:Xe.open}),{getPrefixCls:Xt}=s.useContext(u.E_),Ht=Xt(oe||"select",at);s.useEffect(()=>{if(Ft(!0),typeof ResizeObserver!="undefined"){const Dr=new ResizeObserver(sn=>{const Bn=sn[0].target;Ot(Bn.offsetHeight+8),Qt(Bn.offsetWidth)}),Ue=setInterval(()=>{var sn;const Bn=Ye?`.${Ye(Ht)}`:`.${Ht}-dropdown`,En=(sn=ot.current)===null||sn===void 0?void 0:sn.querySelector(Bn);En&&(clearInterval(Ue),Dr.observe(En))},10);return()=>{clearInterval(Ue),Dr.disconnect()}}},[]);let Ar=Object.assign(Object.assign({},Xe),{style:Object.assign(Object.assign({},xt),{margin:0}),open:Pt,visible:Pt,getPopupContainer:()=>ot.current});_e&&(Ar=_e(Ar)),Le&&Object.assign(Ar,{[Le]:{overflow:{adjustX:!1,adjustY:!1}}});const Cr={paddingBottom:St,position:"relative",minWidth:Ge};return s.createElement("div",{ref:ot,style:Cr},s.createElement(je,Object.assign({},Ar)))});Jt.Z=He},53835:function(Qr,Jt,j){"use strict";j.d(Jt,{o2:function(){return Ie},yT:function(){return He}});var s=j(46865),ht=j(98990);const J=ht.i.map(je=>`${je}-inverse`),u=["success","processing","error","default","warning"];function Ie(je){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)?[].concat((0,s.Z)(J),(0,s.Z)(ht.i)).includes(je):ht.i.includes(je)}function He(je){return u.includes(je)}},93473:function(Qr,Jt,j){"use strict";var s=j(75271),ht=j(75434);const J=u=>{let Ie;return typeof u=="object"&&(u!=null&&u.clearIcon)?Ie=u:u&&(Ie={clearIcon:s.createElement(ht.Z,null)}),Ie};Jt.Z=J},17522:function(Qr,Jt,j){"use strict";j.d(Jt,{Z:function(){return s}});const s=ht=>ht?typeof ht=="function"?ht():ht:null},85990:function(Qr,Jt,j){"use strict";j.d(Jt,{Z:function(){return ht}});var s=j(75271);function ht(){const[,J]=s.useReducer(u=>u+1,0);return J}},19952:function(Qr,Jt,j){"use strict";j.d(Jt,{Cn:function(){return Ye},u6:function(){return He}});var s=j(75271),ht=j(67699),J=j(61803);const u=100,He=u*10,je=He+u,Le={Modal:u,Drawer:u,Popover:u,Popconfirm:u,Tooltip:u,Tour:u,FloatButton:u},_e={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};function oe(ke){return ke in Le}const Ye=(ke,Xe)=>{const[,at]=(0,ht.ZP)(),xt=s.useContext(J.Z),ot=oe(ke);let St;if(Xe!==void 0)St=[Xe,Xe];else{let Ot=xt!=null?xt:0;ot?Ot+=(xt?0:at.zIndexPopupBase)+Le[ke]:Ot+=_e[ke],St=[xt===void 0?Xe:Ot,Ot]}return St}},13635:function(Qr,Jt,j){"use strict";j.d(Jt,{m:function(){return Le}});var s=j(98446);const ht=()=>({height:0,opacity:0}),J=_e=>{const{scrollHeight:oe}=_e;return{height:oe,opacity:1}},u=_e=>({height:_e?_e.offsetHeight:0}),Ie=(_e,oe)=>(oe==null?void 0:oe.deadline)===!0||oe.propertyName==="height",He=function(){return{motionName:`${arguments.length>0&&arguments[0]!==void 0?arguments[0]:s.Rf}-motion-collapse`,onAppearStart:ht,onEnterStart:ht,onAppearActive:J,onEnterActive:J,onLeaveStart:u,onLeaveActive:ht,onAppearEnd:Ie,onEnterEnd:Ie,onLeaveEnd:Ie,motionDeadline:500}},je=null,Le=(_e,oe,Ye)=>Ye!==void 0?Ye:`${_e}-${oe}`;Jt.Z=He},5416:function(Qr,Jt,j){"use strict";j.d(Jt,{Z:function(){return He}});var s=j(18533);function ht(je,Le,_e,oe){if(oe===!1)return{adjustX:!1,adjustY:!1};const Ye=oe&&typeof oe=="object"?oe:{},ke={};switch(je){case"top":case"bottom":ke.shiftX=Le.arrowOffsetHorizontal*2+_e,ke.shiftY=!0,ke.adjustY=!0;break;case"left":case"right":ke.shiftY=Le.arrowOffsetVertical*2+_e,ke.shiftX=!0,ke.adjustX=!0;break}const Xe=Object.assign(Object.assign({},ke),Ye);return Xe.shiftX||(Xe.adjustX=!0),Xe.shiftY||(Xe.adjustY=!0),Xe}const J={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},u={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},Ie=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function He(je){const{arrowWidth:Le,autoAdjustOverflow:_e,arrowPointAtCenter:oe,offset:Ye,borderRadius:ke,visibleFirst:Xe}=je,at=Le/2,xt={};return Object.keys(J).forEach(ot=>{const St=oe&&u[ot]||J[ot],Ot=Object.assign(Object.assign({},St),{offset:[0,0],dynamicInset:!0});switch(xt[ot]=Ot,Ie.has(ot)&&(Ot.autoArrow=!1),ot){case"top":case"topLeft":case"topRight":Ot.offset[1]=-at-Ye;break;case"bottom":case"bottomLeft":case"bottomRight":Ot.offset[1]=at+Ye;break;case"left":case"leftTop":case"leftBottom":Ot.offset[0]=-at-Ye;break;case"right":case"rightTop":case"rightBottom":Ot.offset[0]=at+Ye;break}const Ge=(0,s.wZ)({contentRadius:ke,limitVerticalRadius:!0});if(oe)switch(ot){case"topLeft":case"bottomLeft":Ot.offset[0]=-Ge.arrowOffsetHorizontal-at;break;case"topRight":case"bottomRight":Ot.offset[0]=Ge.arrowOffsetHorizontal+at;break;case"leftTop":case"rightTop":Ot.offset[1]=-Ge.arrowOffsetHorizontal*2+at;break;case"leftBottom":case"rightBottom":Ot.offset[1]=Ge.arrowOffsetHorizontal*2-at;break}Ot.overflow=ht(ot,Ge,Le,_e),Xe&&(Ot.htmlRegion="visibleFirst")}),xt}},26021:function(Qr,Jt,j){"use strict";j.d(Jt,{M2:function(){return ht},Tm:function(){return u},wm:function(){return J}});var s=j(75271);function ht(Ie){return Ie&&s.isValidElement(Ie)&&Ie.type===s.Fragment}const J=(Ie,He,je)=>s.isValidElement(Ie)?s.cloneElement(Ie,typeof je=="function"?je(Ie.props||{}):je):He;function u(Ie,He){return J(Ie,Ie,He)}},96777:function(Qr,Jt,j){"use strict";j.d(Jt,{ZP:function(){return He},c4:function(){return J},m9:function(){return je}});var s=j(75271),ht=j(67699);const J=["xxl","xl","lg","md","sm","xs"],u=Le=>({xs:`(max-width: ${Le.screenXSMax}px)`,sm:`(min-width: ${Le.screenSM}px)`,md:`(min-width: ${Le.screenMD}px)`,lg:`(min-width: ${Le.screenLG}px)`,xl:`(min-width: ${Le.screenXL}px)`,xxl:`(min-width: ${Le.screenXXL}px)`}),Ie=Le=>{const _e=Le,oe=[].concat(J).reverse();return oe.forEach((Ye,ke)=>{const Xe=Ye.toUpperCase(),at=`screen${Xe}Min`,xt=`screen${Xe}`;if(!(_e[at]<=_e[xt]))throw new Error(`${at}<=${xt} fails : !(${_e[at]}<=${_e[xt]})`);if(ke<oe.length-1){const ot=`screen${Xe}Max`;if(!(_e[xt]<=_e[ot]))throw new Error(`${xt}<=${ot} fails : !(${_e[xt]}<=${_e[ot]})`);const Ot=`screen${oe[ke+1].toUpperCase()}Min`;if(!(_e[ot]<=_e[Ot]))throw new Error(`${ot}<=${Ot} fails : !(${_e[ot]}<=${_e[Ot]})`)}}),Le};function He(){const[,Le]=(0,ht.ZP)(),_e=u(Ie(Le));return s.useMemo(()=>{const oe=new Map;let Ye=-1,ke={};return{matchHandlers:{},dispatch(Xe){return ke=Xe,oe.forEach(at=>at(ke)),oe.size>=1},subscribe(Xe){return oe.size||this.register(),Ye+=1,oe.set(Ye,Xe),Xe(ke),Ye},unsubscribe(Xe){oe.delete(Xe),oe.size||this.unregister()},unregister(){Object.keys(_e).forEach(Xe=>{const at=_e[Xe],xt=this.matchHandlers[at];xt==null||xt.mql.removeListener(xt==null?void 0:xt.listener)}),oe.clear()},register(){Object.keys(_e).forEach(Xe=>{const at=_e[Xe],xt=St=>{let{matches:Ot}=St;this.dispatch(Object.assign(Object.assign({},ke),{[Xe]:Ot}))},ot=window.matchMedia(at);ot.addListener(xt),this.matchHandlers[at]={mql:ot,listener:xt},xt(ot)})},responsiveMap:_e}},[Le])}const je=(Le,_e)=>{if(_e&&typeof _e=="object")for(let oe=0;oe<J.length;oe++){const Ye=J[oe];if(Le[Ye]&&_e[Ye]!==void 0)return _e[Ye]}}},94773:function(Qr,Jt,j){"use strict";j.d(Jt,{F:function(){return Ie},Z:function(){return u}});var s=j(82187),ht=j.n(s);const J=null;function u(He,je,Le){return ht()({[`${He}-status-success`]:je==="success",[`${He}-status-warning`]:je==="warning",[`${He}-status-error`]:je==="error",[`${He}-status-validating`]:je==="validating",[`${He}-has-feedback`]:Le})}const Ie=(He,je)=>je||He},87117:function(Qr,Jt,j){"use strict";j.d(Jt,{G8:function(){return je},ln:function(){return Le}});var s=j(75271),ht=j(4449);function J(){}let u=null;function Ie(){u=null,rcResetWarned()}let He=null;const je=s.createContext({}),Le=()=>{const oe=()=>{};return oe.deprecated=J,oe};var _e=null},61803:function(Qr,Jt,j){"use strict";var s=j(75271);const ht=s.createContext(void 0);Jt.Z=ht},40859:function(Qr,Jt,j){"use strict";var s=j(58492);Jt.Z=s.Z},62023:function(Qr,Jt,j){"use strict";j.d(Jt,{Z:function(){return Fn}});var s=j(75271),ht=j(27806),J=j(82187),u=j.n(J),Ie=j(23022),He=j(46865),je=j(89692),Le=j(5147),_e=j(93954),oe=j(4449),Ye=j(58190),ke=j(81626),Xe=j(54153),at=j(38926),xt=j(62803),ot=j(14583),St=s.forwardRef(function(un,pn){var Sr=un.prefixCls,Vn=un.forceRender,Xr=un.className,ri=un.style,Zr=un.children,ei=un.isActive,vr=un.role,hr=un.classNames,ur=un.styles,wr=s.useState(ei||Vn),yr=(0,je.Z)(wr,2),Nr=yr[0],Xn=yr[1];return s.useEffect(function(){(Vn||ei)&&Xn(!0)},[Vn,ei]),Nr?s.createElement("div",{ref:pn,className:u()("".concat(Sr,"-content"),(0,at.Z)((0,at.Z)({},"".concat(Sr,"-content-active"),ei),"".concat(Sr,"-content-inactive"),!ei),Xr),style:ri,role:vr},s.createElement("div",{className:u()("".concat(Sr,"-content-box"),hr==null?void 0:hr.body),style:ur==null?void 0:ur.body},Zr)):null});St.displayName="PanelContent";var Ot=St,Ge=["showArrow","headerClass","isActive","onItemClick","forceRender","className","classNames","styles","prefixCls","collapsible","accordion","panelKey","extra","header","expandIcon","openMotion","destroyInactivePanel","children"],Qt=s.forwardRef(function(un,pn){var Sr=un.showArrow,Vn=Sr===void 0?!0:Sr,Xr=un.headerClass,ri=un.isActive,Zr=un.onItemClick,ei=un.forceRender,vr=un.className,hr=un.classNames,ur=hr===void 0?{}:hr,wr=un.styles,yr=wr===void 0?{}:wr,Nr=un.prefixCls,Xn=un.collapsible,lr=un.accordion,Ur=un.panelKey,Ln=un.extra,_i=un.header,fi=un.expandIcon,Wi=un.openMotion,po=un.destroyInactivePanel,kr=un.children,no=(0,Ye.Z)(un,Ge),qt=Xn==="disabled",xn=Ln!=null&&typeof Ln!="boolean",Jn=(0,at.Z)((0,at.Z)((0,at.Z)({onClick:function(){Zr==null||Zr(Ur)},onKeyDown:function(So){(So.key==="Enter"||So.keyCode===ot.Z.ENTER||So.which===ot.Z.ENTER)&&(Zr==null||Zr(Ur))},role:lr?"tab":"button"},"aria-expanded",ri),"aria-disabled",qt),"tabIndex",qt?-1:0),$r=typeof fi=="function"?fi(un):s.createElement("i",{className:"arrow"}),li=$r&&s.createElement("div",(0,Ie.Z)({className:"".concat(Nr,"-expand-icon")},["header","icon"].includes(Xn)?Jn:{}),$r),ii=u()("".concat(Nr,"-item"),(0,at.Z)((0,at.Z)({},"".concat(Nr,"-item-active"),ri),"".concat(Nr,"-item-disabled"),qt),vr),Ki=u()(Xr,"".concat(Nr,"-header"),(0,at.Z)({},"".concat(Nr,"-collapsible-").concat(Xn),!!Xn),ur.header),eo=(0,Xe.Z)({className:Ki,style:yr.header},["header","icon"].includes(Xn)?{}:Jn);return s.createElement("div",(0,Ie.Z)({},no,{ref:pn,className:ii}),s.createElement("div",eo,Vn&&li,s.createElement("span",(0,Ie.Z)({className:"".concat(Nr,"-header-text")},Xn==="header"?Jn:{}),_i),xn&&s.createElement("div",{className:"".concat(Nr,"-extra")},Ln)),s.createElement(xt.ZP,(0,Ie.Z)({visible:ri,leavedClassName:"".concat(Nr,"-content-hidden")},Wi,{forceRender:ei,removeOnLeave:po}),function(Ro,So){var io=Ro.className,Pe=Ro.style;return s.createElement(Ot,{ref:So,prefixCls:Nr,className:io,classNames:ur,style:Pe,styles:yr,isActive:ri,forceRender:ei,role:lr?"tabpanel":void 0},kr)}))}),Pt=Qt,Ft=["children","label","key","collapsible","onItemClick","destroyInactivePanel"],Xt=function(pn,Sr){var Vn=Sr.prefixCls,Xr=Sr.accordion,ri=Sr.collapsible,Zr=Sr.destroyInactivePanel,ei=Sr.onItemClick,vr=Sr.activeKey,hr=Sr.openMotion,ur=Sr.expandIcon;return pn.map(function(wr,yr){var Nr=wr.children,Xn=wr.label,lr=wr.key,Ur=wr.collapsible,Ln=wr.onItemClick,_i=wr.destroyInactivePanel,fi=(0,Ye.Z)(wr,Ft),Wi=String(lr!=null?lr:yr),po=Ur!=null?Ur:ri,kr=_i!=null?_i:Zr,no=function(Jn){po!=="disabled"&&(ei(Jn),Ln==null||Ln(Jn))},qt=!1;return Xr?qt=vr[0]===Wi:qt=vr.indexOf(Wi)>-1,s.createElement(Pt,(0,Ie.Z)({},fi,{prefixCls:Vn,key:Wi,panelKey:Wi,isActive:qt,accordion:Xr,openMotion:hr,expandIcon:ur,header:Xn,collapsible:po,onItemClick:no,destroyInactivePanel:kr}),Nr)})},Ht=function(pn,Sr,Vn){if(!pn)return null;var Xr=Vn.prefixCls,ri=Vn.accordion,Zr=Vn.collapsible,ei=Vn.destroyInactivePanel,vr=Vn.onItemClick,hr=Vn.activeKey,ur=Vn.openMotion,wr=Vn.expandIcon,yr=pn.key||String(Sr),Nr=pn.props,Xn=Nr.header,lr=Nr.headerClass,Ur=Nr.destroyInactivePanel,Ln=Nr.collapsible,_i=Nr.onItemClick,fi=!1;ri?fi=hr[0]===yr:fi=hr.indexOf(yr)>-1;var Wi=Ln!=null?Ln:Zr,po=function(qt){Wi!=="disabled"&&(vr(qt),_i==null||_i(qt))},kr={key:yr,panelKey:yr,header:Xn,headerClass:lr,isActive:fi,prefixCls:Xr,destroyInactivePanel:Ur!=null?Ur:ei,openMotion:ur,accordion:ri,children:pn.props.children,onItemClick:po,expandIcon:wr,collapsible:Wi};return typeof pn.type=="string"?pn:(Object.keys(kr).forEach(function(no){typeof kr[no]=="undefined"&&delete kr[no]}),s.cloneElement(pn,kr))};function Ar(un,pn,Sr){return Array.isArray(un)?Xt(un,Sr):(0,ke.Z)(pn).map(function(Vn,Xr){return Ht(Vn,Xr,Sr)})}var Cr=Ar,Dr=j(71305);function Ue(un){var pn=un;if(!Array.isArray(pn)){var Sr=(0,Le.Z)(pn);pn=Sr==="number"||Sr==="string"?[pn]:[]}return pn.map(function(Vn){return String(Vn)})}var sn=s.forwardRef(function(un,pn){var Sr=un.prefixCls,Vn=Sr===void 0?"rc-collapse":Sr,Xr=un.destroyInactivePanel,ri=Xr===void 0?!1:Xr,Zr=un.style,ei=un.accordion,vr=un.className,hr=un.children,ur=un.collapsible,wr=un.openMotion,yr=un.expandIcon,Nr=un.activeKey,Xn=un.defaultActiveKey,lr=un.onChange,Ur=un.items,Ln=u()(Vn,vr),_i=(0,_e.Z)([],{value:Nr,onChange:function(xn){return lr==null?void 0:lr(xn)},defaultValue:Xn,postState:Ue}),fi=(0,je.Z)(_i,2),Wi=fi[0],po=fi[1],kr=function(xn){return po(function(){if(ei)return Wi[0]===xn?[]:[xn];var Jn=Wi.indexOf(xn),$r=Jn>-1;return $r?Wi.filter(function(li){return li!==xn}):[].concat((0,He.Z)(Wi),[xn])})};(0,oe.ZP)(!hr,"[rc-collapse] `children` will be removed in next major version. Please use `items` instead.");var no=Cr(Ur,hr,{prefixCls:Vn,accordion:ei,openMotion:wr,expandIcon:yr,collapsible:ur,destroyInactivePanel:ri,onItemClick:kr,activeKey:Wi});return s.createElement("div",(0,Ie.Z)({ref:pn,className:Ln,style:Zr,role:ei?"tablist":void 0},(0,Dr.Z)(un,{aria:!0,data:!0})),no)}),Bn=Object.assign(sn,{Panel:Pt}),En=Bn,Be=Bn.Panel,Gn=j(18051),In=j(13635),Rn=j(26021),pt=j(98446),an=j(95741),me=s.forwardRef((un,pn)=>{const{getPrefixCls:Sr}=s.useContext(pt.E_),{prefixCls:Vn,className:Xr,showArrow:ri=!0}=un,Zr=Sr("collapse",Vn),ei=u()({[`${Zr}-no-arrow`]:!ri},Xr);return s.createElement(En.Panel,Object.assign({ref:pn},un,{prefixCls:Zr,className:ei}))}),nn=j(55921),bi=j(34299),ui=j(40894),$e=j(84825),Mn=j(83509);const Kr=un=>{const{componentCls:pn,contentBg:Sr,padding:Vn,headerBg:Xr,headerPadding:ri,collapseHeaderPaddingSM:Zr,collapseHeaderPaddingLG:ei,collapsePanelBorderRadius:vr,lineWidth:hr,lineType:ur,colorBorder:wr,colorText:yr,colorTextHeading:Nr,colorTextDisabled:Xn,fontSizeLG:lr,lineHeight:Ur,lineHeightLG:Ln,marginSM:_i,paddingSM:fi,paddingLG:Wi,paddingXS:po,motionDurationSlow:kr,fontSizeIcon:no,contentPadding:qt,fontHeight:xn,fontHeightLG:Jn}=un,$r=`${(0,nn.bf)(hr)} ${ur} ${wr}`;return{[pn]:Object.assign(Object.assign({},(0,bi.Wf)(un)),{backgroundColor:Xr,border:$r,borderRadius:vr,"&-rtl":{direction:"rtl"},[`& > ${pn}-item`]:{borderBottom:$r,"&:first-child":{[`
            &,
            & > ${pn}-header`]:{borderRadius:`${(0,nn.bf)(vr)} ${(0,nn.bf)(vr)} 0 0`}},"&:last-child":{[`
            &,
            & > ${pn}-header`]:{borderRadius:`0 0 ${(0,nn.bf)(vr)} ${(0,nn.bf)(vr)}`}},[`> ${pn}-header`]:Object.assign(Object.assign({position:"relative",display:"flex",flexWrap:"nowrap",alignItems:"flex-start",padding:ri,color:Nr,lineHeight:Ur,cursor:"pointer",transition:`all ${kr}, visibility 0s`},(0,bi.Qy)(un)),{[`> ${pn}-header-text`]:{flex:"auto"},[`${pn}-expand-icon`]:{height:xn,display:"flex",alignItems:"center",paddingInlineEnd:_i},[`${pn}-arrow`]:Object.assign(Object.assign({},(0,bi.Ro)()),{fontSize:no,transition:`transform ${kr}`,svg:{transition:`transform ${kr}`}}),[`${pn}-header-text`]:{marginInlineEnd:"auto"}}),[`${pn}-collapsible-header`]:{cursor:"default",[`${pn}-header-text`]:{flex:"none",cursor:"pointer"}},[`${pn}-collapsible-icon`]:{cursor:"unset",[`${pn}-expand-icon`]:{cursor:"pointer"}}},[`${pn}-content`]:{color:yr,backgroundColor:Sr,borderTop:$r,[`& > ${pn}-content-box`]:{padding:qt},"&-hidden":{display:"none"}},"&-small":{[`> ${pn}-item`]:{[`> ${pn}-header`]:{padding:Zr,paddingInlineStart:po,[`> ${pn}-expand-icon`]:{marginInlineStart:un.calc(fi).sub(po).equal()}},[`> ${pn}-content > ${pn}-content-box`]:{padding:fi}}},"&-large":{[`> ${pn}-item`]:{fontSize:lr,lineHeight:Ln,[`> ${pn}-header`]:{padding:ei,paddingInlineStart:Vn,[`> ${pn}-expand-icon`]:{height:Jn,marginInlineStart:un.calc(Wi).sub(Vn).equal()}},[`> ${pn}-content > ${pn}-content-box`]:{padding:Wi}}},[`${pn}-item:last-child`]:{borderBottom:0,[`> ${pn}-content`]:{borderRadius:`0 0 ${(0,nn.bf)(vr)} ${(0,nn.bf)(vr)}`}},[`& ${pn}-item-disabled > ${pn}-header`]:{"\n          &,\n          & > .arrow\n        ":{color:Xn,cursor:"not-allowed"}},[`&${pn}-icon-position-end`]:{[`& > ${pn}-item`]:{[`> ${pn}-header`]:{[`${pn}-expand-icon`]:{order:1,paddingInlineEnd:0,paddingInlineStart:_i}}}}})}},jr=un=>{const{componentCls:pn}=un,Sr=`> ${pn}-item > ${pn}-header ${pn}-arrow`;return{[`${pn}-rtl`]:{[Sr]:{transform:"rotate(180deg)"}}}},Sn=un=>{const{componentCls:pn,headerBg:Sr,paddingXXS:Vn,colorBorder:Xr}=un;return{[`${pn}-borderless`]:{backgroundColor:Sr,border:0,[`> ${pn}-item`]:{borderBottom:`1px solid ${Xr}`},[`
        > ${pn}-item:last-child,
        > ${pn}-item:last-child ${pn}-header
      `]:{borderRadius:0},[`> ${pn}-item:last-child`]:{borderBottom:0},[`> ${pn}-item > ${pn}-content`]:{backgroundColor:"transparent",borderTop:0},[`> ${pn}-item > ${pn}-content > ${pn}-content-box`]:{paddingTop:Vn}}}},Fr=un=>{const{componentCls:pn,paddingSM:Sr}=un;return{[`${pn}-ghost`]:{backgroundColor:"transparent",border:0,[`> ${pn}-item`]:{borderBottom:0,[`> ${pn}-content`]:{backgroundColor:"transparent",border:0,[`> ${pn}-content-box`]:{paddingBlock:Sr}}}}}},Ii=un=>({headerPadding:`${un.paddingSM}px ${un.padding}px`,headerBg:un.colorFillAlter,contentPadding:`${un.padding}px 16px`,contentBg:un.colorBgContainer});var fr=(0,$e.I$)("Collapse",un=>{const pn=(0,Mn.IX)(un,{collapseHeaderPaddingSM:`${(0,nn.bf)(un.paddingXS)} ${(0,nn.bf)(un.paddingSM)}`,collapseHeaderPaddingLG:`${(0,nn.bf)(un.padding)} ${(0,nn.bf)(un.paddingLG)}`,collapsePanelBorderRadius:un.borderRadiusLG});return[Kr(pn),Sn(pn),Fr(pn),jr(pn),(0,ui.Z)(pn)]},Ii),jt=Object.assign(s.forwardRef((un,pn)=>{const{getPrefixCls:Sr,direction:Vn,expandIcon:Xr,className:ri,style:Zr}=(0,pt.dj)("collapse"),{prefixCls:ei,className:vr,rootClassName:hr,style:ur,bordered:wr=!0,ghost:yr,size:Nr,expandIconPosition:Xn="start",children:lr,expandIcon:Ur}=un,Ln=(0,an.Z)(ii=>{var Ki;return(Ki=Nr!=null?Nr:ii)!==null&&Ki!==void 0?Ki:"middle"}),_i=Sr("collapse",ei),fi=Sr(),[Wi,po,kr]=fr(_i),no=s.useMemo(()=>Xn==="left"?"start":Xn==="right"?"end":Xn,[Xn]),qt=Ur!=null?Ur:Xr,xn=s.useCallback(function(){let ii=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const Ki=typeof qt=="function"?qt(ii):s.createElement(ht.Z,{rotate:ii.isActive?Vn==="rtl"?-90:90:void 0,"aria-label":ii.isActive?"expanded":"collapsed"});return(0,Rn.Tm)(Ki,()=>{var eo;return{className:u()((eo=Ki==null?void 0:Ki.props)===null||eo===void 0?void 0:eo.className,`${_i}-arrow`)}})},[qt,_i]),Jn=u()(`${_i}-icon-position-${no}`,{[`${_i}-borderless`]:!wr,[`${_i}-rtl`]:Vn==="rtl",[`${_i}-ghost`]:!!yr,[`${_i}-${Ln}`]:Ln!=="middle"},ri,vr,hr,po,kr),$r=Object.assign(Object.assign({},(0,In.Z)(fi)),{motionAppear:!1,leavedClassName:`${_i}-content-hidden`}),li=s.useMemo(()=>lr?(0,ke.Z)(lr).map((ii,Ki)=>{var eo,Ro;const So=ii.props;if(So!=null&&So.disabled){const io=(eo=ii.key)!==null&&eo!==void 0?eo:String(Ki),Pe=Object.assign(Object.assign({},(0,Gn.Z)(ii.props,["disabled"])),{key:io,collapsible:(Ro=So.collapsible)!==null&&Ro!==void 0?Ro:"disabled"});return(0,Rn.Tm)(ii,Pe)}return ii}):null,[lr]);return Wi(s.createElement(En,Object.assign({ref:pn,openMotion:$r},(0,Gn.Z)(un,["rootClassName"]),{expandIcon:xn,prefixCls:_i,className:Jn,style:Object.assign(Object.assign({},Zr),ur)}),li))}),{Panel:me}),Fn=jt},82227:function(Qr,Jt,j){"use strict";j.d(Jt,{Ot:function(){return u},y9:function(){return He}});var s=j(59295),ht=j(45985),J=j(2180);const u=(je,Le)=>(je==null?void 0:je.replace(/[^\w/]/g,"").slice(0,Le?8:6))||"",Ie=(je,Le)=>je?u(je,Le):"";let He=function(){function je(Le){(0,s.Z)(this,je);var _e;if(this.cleared=!1,Le instanceof je){this.metaColor=Le.metaColor.clone(),this.colors=(_e=Le.colors)===null||_e===void 0?void 0:_e.map(Ye=>({color:new je(Ye.color),percent:Ye.percent})),this.cleared=Le.cleared;return}const oe=Array.isArray(Le);oe&&Le.length?(this.colors=Le.map(Ye=>{let{color:ke,percent:Xe}=Ye;return{color:new je(ke),percent:Xe}}),this.metaColor=new J.Il(this.colors[0].color.metaColor)):this.metaColor=new J.Il(oe?"":Le),(!Le||oe&&!this.colors)&&(this.metaColor=this.metaColor.setA(0),this.cleared=!0)}return(0,ht.Z)(je,[{key:"toHsb",value:function(){return this.metaColor.toHsb()}},{key:"toHsbString",value:function(){return this.metaColor.toHsbString()}},{key:"toHex",value:function(){return Ie(this.toHexString(),this.metaColor.a<1)}},{key:"toHexString",value:function(){return this.metaColor.toHexString()}},{key:"toRgb",value:function(){return this.metaColor.toRgb()}},{key:"toRgbString",value:function(){return this.metaColor.toRgbString()}},{key:"isGradient",value:function(){return!!this.colors&&!this.cleared}},{key:"getColors",value:function(){return this.colors||[{color:this,percent:0}]}},{key:"toCssString",value:function(){const{colors:_e}=this;return _e?`linear-gradient(90deg, ${_e.map(Ye=>`${Ye.color.toRgbString()} ${Ye.percent}%`).join(", ")})`:this.metaColor.toRgbString()}},{key:"equals",value:function(_e){return!_e||this.isGradient()!==_e.isGradient()?!1:this.isGradient()?this.colors.length===_e.colors.length&&this.colors.every((oe,Ye)=>{const ke=_e.colors[Ye];return oe.percent===ke.percent&&oe.color.equals(ke.color)}):this.toHexString()===_e.toHexString()}}])}()},29230:function(Qr,Jt,j){"use strict";j.d(Jt,{U:function(){return Ye}});var s=j(75271),ht=j(2180),J=j(82187),u=j.n(J),Ie=j(93954),He=j(62023),je=j(77648),Le=j(67699),_e=j(70395);const oe=at=>at.map(xt=>(xt.colors=xt.colors.map(_e.vC),xt)),Ye=(at,xt)=>{const{r:ot,g:St,b:Ot,a:Ge}=at.toRgb(),Qt=new ht.Il(at.toRgbString()).onBackground(xt).toHsv();return Ge<=.5?Qt.v>.5:ot*.299+St*.587+Ot*.114>192},ke=(at,xt)=>{var ot;return`panel-${(ot=at.key)!==null&&ot!==void 0?ot:xt}`},Xe=at=>{let{prefixCls:xt,presets:ot,value:St,onChange:Ot}=at;const[Ge]=(0,je.Z)("ColorPicker"),[,Qt]=(0,Le.ZP)(),[Pt]=(0,Ie.Z)(oe(ot),{value:oe(ot),postState:oe}),Ft=`${xt}-presets`,Xt=(0,s.useMemo)(()=>Pt.reduce((Cr,Dr,Ue)=>{const{defaultOpen:sn=!0}=Dr;return sn&&Cr.push(ke(Dr,Ue)),Cr},[]),[Pt]),Ht=Cr=>{Ot==null||Ot(Cr)},Ar=Pt.map((Cr,Dr)=>{var Ue;return{key:ke(Cr,Dr),label:s.createElement("div",{className:`${Ft}-label`},Cr==null?void 0:Cr.label),children:s.createElement("div",{className:`${Ft}-items`},Array.isArray(Cr==null?void 0:Cr.colors)&&((Ue=Cr.colors)===null||Ue===void 0?void 0:Ue.length)>0?Cr.colors.map((sn,Bn)=>s.createElement(ht.G5,{key:`preset-${Bn}-${sn.toHexString()}`,color:(0,_e.vC)(sn).toRgbString(),prefixCls:xt,className:u()(`${Ft}-color`,{[`${Ft}-color-checked`]:sn.toHexString()===(St==null?void 0:St.toHexString()),[`${Ft}-color-bright`]:Ye(sn,Qt.colorBgElevated)}),onClick:()=>Ht(sn)})):s.createElement("span",{className:`${Ft}-empty`},Ge.presetEmpty))}});return s.createElement("div",{className:Ft},s.createElement(He.Z,{defaultActiveKey:Xt,ghost:!0,items:Ar}))};Jt.Z=Xe},89874:function(Qr,Jt,j){"use strict";j.d(Jt,{Z:function(){return hn}});var s=j(75271),ht=j(82187),J=j.n(ht),u=j(93954),Ie=j(78018),He=j(52445),je=j(94773),Le=j(98446),_e=j(98472),oe=j(38437),Ye=j(95741),ke=j(60824),Xe=j(60916),at=j(23137),xt=j(82227),ot=j(67567),St=j(46865),Ot=j(2180),Ge=j(92076),Qt=j(82162);const Pt=s.createContext({}),Ft=s.createContext({});var Xt=j(70395),Ar=We=>{let{prefixCls:Et,value:kt,onChange:Kt}=We;const rt=()=>{if(Kt&&kt&&!kt.cleared){const Qe=kt.toHsb();Qe.a=0;const gn=(0,Xt.vC)(Qe);gn.cleared=!0,Kt(gn)}};return s.createElement("div",{className:`${Et}-clear`,onClick:rt})},Cr=j(30142);const Dr="hex",Ue="rgb",sn="hsb";var Bn=j(33839),Be=We=>{let{prefixCls:Et,min:kt=0,max:Kt=100,value:rt,onChange:Qe,className:gn,formatter:mn}=We;const kn=`${Et}-steppers`,[br,ar]=(0,s.useState)(rt);return(0,s.useEffect)(()=>{Number.isNaN(rt)||ar(rt)},[rt]),s.createElement(Bn.Z,{className:J()(kn,gn),min:kt,max:Kt,value:br,formatter:mn,size:"small",onChange:Mr=>{rt||ar(Mr||0),Qe==null||Qe(Mr)}})},In=We=>{let{prefixCls:Et,value:kt,onChange:Kt}=We;const rt=`${Et}-alpha-input`,[Qe,gn]=(0,s.useState)((0,Xt.vC)(kt||"#000"));(0,s.useEffect)(()=>{kt&&gn(kt)},[kt]);const mn=kn=>{const br=Qe.toHsb();br.a=(kn||0)/100;const ar=(0,Xt.vC)(br);kt||gn(ar),Kt==null||Kt(ar)};return s.createElement(Be,{value:(0,Xt.uZ)(Qe),prefixCls:Et,formatter:kn=>`${kn}%`,className:rt,onChange:mn})},Rn=j(58793);const pt=/(^#[\da-f]{6}$)|(^#[\da-f]{8}$)/i,an=We=>pt.test(`#${We}`);var me=We=>{let{prefixCls:Et,value:kt,onChange:Kt}=We;const rt=`${Et}-hex-input`,[Qe,gn]=(0,s.useState)(()=>kt?(0,xt.Ot)(kt.toHexString()):void 0);(0,s.useEffect)(()=>{kt&&gn((0,xt.Ot)(kt.toHexString()))},[kt]);const mn=kn=>{const br=kn.target.value;gn((0,xt.Ot)(br)),an((0,xt.Ot)(br,!0))&&(Kt==null||Kt((0,Xt.vC)(br)))};return s.createElement(Rn.Z,{className:rt,value:Qe,prefix:"#",onChange:mn,size:"small"})},bi=We=>{let{prefixCls:Et,value:kt,onChange:Kt}=We;const rt=`${Et}-hsb-input`,[Qe,gn]=(0,s.useState)((0,Xt.vC)(kt||"#000"));(0,s.useEffect)(()=>{kt&&gn(kt)},[kt]);const mn=(kn,br)=>{const ar=Qe.toHsb();ar[br]=br==="h"?kn:(kn||0)/100;const Mr=(0,Xt.vC)(ar);kt||gn(Mr),Kt==null||Kt(Mr)};return s.createElement("div",{className:rt},s.createElement(Be,{max:360,min:0,value:Number(Qe.toHsb().h),prefixCls:Et,className:rt,formatter:kn=>(0,Xt.lx)(kn||0).toString(),onChange:kn=>mn(Number(kn),"h")}),s.createElement(Be,{max:100,min:0,value:Number(Qe.toHsb().s)*100,prefixCls:Et,className:rt,formatter:kn=>`${(0,Xt.lx)(kn||0)}%`,onChange:kn=>mn(Number(kn),"s")}),s.createElement(Be,{max:100,min:0,value:Number(Qe.toHsb().b)*100,prefixCls:Et,className:rt,formatter:kn=>`${(0,Xt.lx)(kn||0)}%`,onChange:kn=>mn(Number(kn),"b")}))},$e=We=>{let{prefixCls:Et,value:kt,onChange:Kt}=We;const rt=`${Et}-rgb-input`,[Qe,gn]=(0,s.useState)((0,Xt.vC)(kt||"#000"));(0,s.useEffect)(()=>{kt&&gn(kt)},[kt]);const mn=(kn,br)=>{const ar=Qe.toRgb();ar[br]=kn||0;const Mr=(0,Xt.vC)(ar);kt||gn(Mr),Kt==null||Kt(Mr)};return s.createElement("div",{className:rt},s.createElement(Be,{max:255,min:0,value:Number(Qe.toRgb().r),prefixCls:Et,className:rt,onChange:kn=>mn(Number(kn),"r")}),s.createElement(Be,{max:255,min:0,value:Number(Qe.toRgb().g),prefixCls:Et,className:rt,onChange:kn=>mn(Number(kn),"g")}),s.createElement(Be,{max:255,min:0,value:Number(Qe.toRgb().b),prefixCls:Et,className:rt,onChange:kn=>mn(Number(kn),"b")}))};const Mn=[Dr,sn,Ue].map(We=>({value:We,label:We.toUpperCase()}));var jr=We=>{const{prefixCls:Et,format:kt,value:Kt,disabledAlpha:rt,onFormatChange:Qe,onChange:gn,disabledFormat:mn}=We,[kn,br]=(0,u.Z)(Dr,{value:kt,onChange:Qe}),ar=`${Et}-input`,Mr=oi=>{br(oi)},qr=(0,s.useMemo)(()=>{const oi={value:Kt,prefixCls:Et,onChange:gn};switch(kn){case sn:return s.createElement(bi,Object.assign({},oi));case Ue:return s.createElement($e,Object.assign({},oi));default:return s.createElement(me,Object.assign({},oi))}},[kn,Et,Kt,gn]);return s.createElement("div",{className:`${ar}-container`},!mn&&s.createElement(Cr.default,{value:kn,variant:"borderless",getPopupContainer:oi=>oi,popupMatchSelectWidth:68,placement:"bottomRight",onChange:Mr,className:`${Et}-format-select`,size:"small",options:Mn}),s.createElement("div",{className:ar},qr),!rt&&s.createElement(In,{prefixCls:Et,value:Kt,onChange:gn}))},Sn=j(28661),Fr=j(59373),Ii=j(80300),fr=j(14391),st=function(We,Et){var kt={};for(var Kt in We)Object.prototype.hasOwnProperty.call(We,Kt)&&Et.indexOf(Kt)<0&&(kt[Kt]=We[Kt]);if(We!=null&&typeof Object.getOwnPropertySymbols=="function")for(var rt=0,Kt=Object.getOwnPropertySymbols(We);rt<Kt.length;rt++)Et.indexOf(Kt[rt])<0&&Object.prototype.propertyIsEnumerable.call(We,Kt[rt])&&(kt[Kt[rt]]=We[Kt[rt]]);return kt};const jt=We=>{const{prefixCls:Et,colors:kt,type:Kt,color:rt,range:Qe=!1,className:gn,activeIndex:mn,onActive:kn,onDragStart:br,onDragChange:ar,onKeyDelete:Mr}=We,qr=st(We,["prefixCls","colors","type","color","range","className","activeIndex","onActive","onDragStart","onDragChange","onKeyDelete"]),oi=Object.assign(Object.assign({},qr),{track:!1}),Zi=s.useMemo(()=>`linear-gradient(90deg, ${kt.map(ho=>`${ho.color} ${ho.percent}%`).join(", ")})`,[kt]),ft=s.useMemo(()=>!rt||!Kt?null:Kt==="alpha"?rt.toRgbString():`hsl(${rt.toHsb().h}, 100%, 50%)`,[rt,Kt]),_n=(0,Fr.Z)(br),Ut=(0,Fr.Z)(ar),bn=s.useMemo(()=>({onDragStart:_n,onDragChange:Ut}),[]),sr=(0,Fr.Z)((Ti,ho)=>{const{onFocus:zi,style:Ji,className:uo,onKeyDown:Ni}=Ti.props,Po=Object.assign({},Ji);return Kt==="gradient"&&(Po.background=(0,Xt.AO)(kt,ho.value)),s.cloneElement(Ti,{onFocus:Vo=>{kn==null||kn(ho.index),zi==null||zi(Vo)},style:Po,className:J()(uo,{[`${Et}-slider-handle-active`]:mn===ho.index}),onKeyDown:Vo=>{(Vo.key==="Delete"||Vo.key==="Backspace")&&Mr&&Mr(ho.index),Ni==null||Ni(Vo)}})}),Yr=s.useMemo(()=>({direction:"ltr",handleRender:sr}),[]);return s.createElement(fr.Z.Provider,{value:Yr},s.createElement(Sn.y.Provider,{value:bn},s.createElement(Ii.Z,Object.assign({},oi,{className:J()(gn,`${Et}-slider`),tooltip:{open:!1},range:{editable:Qe,minCount:2},styles:{rail:{background:Zi},handle:ft?{background:ft}:{}},classNames:{rail:`${Et}-slider-rail`,handle:`${Et}-slider-handle`}}))))};var un=We=>{const{value:Et,onChange:kt,onChangeComplete:Kt}=We,rt=gn=>kt(gn[0]),Qe=gn=>Kt(gn[0]);return s.createElement(jt,Object.assign({},We,{value:[Et],onChange:rt,onChangeComplete:Qe}))};function pn(We){return(0,St.Z)(We).sort((Et,kt)=>Et.percent-kt.percent)}const Sr=We=>{const{prefixCls:Et,mode:kt,onChange:Kt,onChangeComplete:rt,onActive:Qe,activeIndex:gn,onGradientDragging:mn,colors:kn}=We,br=kt==="gradient",ar=s.useMemo(()=>kn.map(Ut=>({percent:Ut.percent,color:Ut.color.toRgbString()})),[kn]),Mr=s.useMemo(()=>ar.map(Ut=>Ut.percent),[ar]),qr=s.useRef(ar),oi=Ut=>{let{rawValues:bn,draggingIndex:sr,draggingValue:Yr}=Ut;if(bn.length>ar.length){const Ti=(0,Xt.AO)(ar,Yr),ho=(0,St.Z)(ar);ho.splice(sr,0,{percent:Yr,color:Ti}),qr.current=ho}else qr.current=ar;mn(!0),Kt(new xt.y9(pn(qr.current)),!0)},Zi=Ut=>{let{deleteIndex:bn,draggingIndex:sr,draggingValue:Yr}=Ut,Ti=(0,St.Z)(qr.current);bn!==-1?Ti.splice(bn,1):(Ti[sr]=Object.assign(Object.assign({},Ti[sr]),{percent:Yr}),Ti=pn(Ti)),Kt(new xt.y9(Ti),!0)},ft=Ut=>{const bn=(0,St.Z)(ar);bn.splice(Ut,1);const sr=new xt.y9(bn);Kt(sr),rt(sr)},_n=Ut=>{rt(new xt.y9(ar)),gn>=Ut.length&&Qe(Ut.length-1),mn(!1)};return br?s.createElement(jt,{min:0,max:100,prefixCls:Et,className:`${Et}-gradient-slider`,colors:ar,color:null,value:Mr,range:!0,onChangeComplete:_n,disabled:!1,type:"gradient",activeIndex:gn,onActive:Qe,onDragStart:oi,onDragChange:Zi,onKeyDelete:ft}):null};var Vn=s.memo(Sr),Xr=function(We,Et){var kt={};for(var Kt in We)Object.prototype.hasOwnProperty.call(We,Kt)&&Et.indexOf(Kt)<0&&(kt[Kt]=We[Kt]);if(We!=null&&typeof Object.getOwnPropertySymbols=="function")for(var rt=0,Kt=Object.getOwnPropertySymbols(We);rt<Kt.length;rt++)Et.indexOf(Kt[rt])<0&&Object.prototype.propertyIsEnumerable.call(We,Kt[rt])&&(kt[Kt[rt]]=We[Kt[rt]]);return kt};const ri={slider:un};var ei=()=>{const We=(0,s.useContext)(Pt),{mode:Et,onModeChange:kt,modeOptions:Kt,prefixCls:rt,allowClear:Qe,value:gn,disabledAlpha:mn,onChange:kn,onClear:br,onChangeComplete:ar,activeIndex:Mr,gradientDragging:qr}=We,oi=Xr(We,["mode","onModeChange","modeOptions","prefixCls","allowClear","value","disabledAlpha","onChange","onClear","onChangeComplete","activeIndex","gradientDragging"]),Zi=s.useMemo(()=>gn.cleared?[{percent:0,color:new xt.y9("")},{percent:100,color:new xt.y9("")}]:gn.getColors(),[gn]),ft=!gn.isGradient(),[_n,Ut]=s.useState(gn);(0,Ge.Z)(()=>{var _o;ft||Ut((_o=Zi[Mr])===null||_o===void 0?void 0:_o.color)},[qr,Mr]);const bn=s.useMemo(()=>{var _o;return ft?gn:qr?_n:(_o=Zi[Mr])===null||_o===void 0?void 0:_o.color},[gn,Mr,ft,_n,qr]),[sr,Yr]=s.useState(bn),[Ti,ho]=s.useState(0),zi=sr!=null&&sr.equals(bn)?bn:sr;(0,Ge.Z)(()=>{Yr(bn)},[Ti,bn==null?void 0:bn.toHexString()]);const Ji=(_o,Oo)=>{let zo=(0,Xt.vC)(_o);if(gn.cleared){const oo=zo.toRgb();if(!oo.r&&!oo.g&&!oo.b&&Oo){const{type:wo,value:go=0}=Oo;zo=new xt.y9({h:wo==="hue"?go:0,s:1,b:1,a:wo==="alpha"?go/100:1})}else zo=(0,Xt.T7)(zo)}if(Et==="single")return zo;const qo=(0,St.Z)(Zi);return qo[Mr]=Object.assign(Object.assign({},qo[Mr]),{color:zo}),new xt.y9(qo)},uo=(_o,Oo,zo)=>{const qo=Ji(_o,zo);Yr(qo.isGradient()?qo.getColors()[Mr].color:qo),kn(qo,Oo)},Ni=(_o,Oo)=>{ar(Ji(_o,Oo)),ho(zo=>zo+1)},Po=_o=>{kn(Ji(_o))};let Vo=null;const $o=Kt.length>1;return(Qe||$o)&&(Vo=s.createElement("div",{className:`${rt}-operation`},$o&&s.createElement(Qt.Z,{size:"small",options:Kt,value:Et,onChange:kt}),s.createElement(Ar,Object.assign({prefixCls:rt,value:gn,onChange:_o=>{kn(_o),br==null||br()}},oi)))),s.createElement(s.Fragment,null,Vo,s.createElement(Vn,Object.assign({},We,{colors:Zi})),s.createElement(Ot.ZP,{prefixCls:rt,value:zi==null?void 0:zi.toHsb(),disabledAlpha:mn,onChange:(_o,Oo)=>{uo(_o,!0,Oo)},onChangeComplete:(_o,Oo)=>{Ni(_o,Oo)},components:ri}),s.createElement(jr,Object.assign({value:bn,onChange:Po,prefixCls:rt,disabledAlpha:mn},oi)))},vr=j(29230),ur=()=>{const{prefixCls:We,value:Et,presets:kt,onChange:Kt}=(0,s.useContext)(Ft);return Array.isArray(kt)?s.createElement(vr.Z,{value:Et,presets:kt,prefixCls:We,onChange:Kt}):null},yr=We=>{const{prefixCls:Et,presets:kt,panelRender:Kt,value:rt,onChange:Qe,onClear:gn,allowClear:mn,disabledAlpha:kn,mode:br,onModeChange:ar,modeOptions:Mr,onChangeComplete:qr,activeIndex:oi,onActive:Zi,format:ft,onFormatChange:_n,gradientDragging:Ut,onGradientDragging:bn,disabledFormat:sr}=We,Yr=`${Et}-inner`,Ti=s.useMemo(()=>({prefixCls:Et,value:rt,onChange:Qe,onClear:gn,allowClear:mn,disabledAlpha:kn,mode:br,onModeChange:ar,modeOptions:Mr,onChangeComplete:qr,activeIndex:oi,onActive:Zi,format:ft,onFormatChange:_n,gradientDragging:Ut,onGradientDragging:bn,disabledFormat:sr}),[Et,rt,Qe,gn,mn,kn,br,ar,Mr,qr,oi,Zi,ft,_n,Ut,bn,sr]),ho=s.useMemo(()=>({prefixCls:Et,value:rt,presets:kt,onChange:Qe}),[Et,rt,kt,Qe]),zi=s.createElement("div",{className:`${Yr}-content`},s.createElement(ei,null),Array.isArray(kt)&&s.createElement(ot.Z,null),s.createElement(ur,null));return s.createElement(Pt.Provider,{value:Ti},s.createElement(Ft.Provider,{value:ho},s.createElement("div",{className:Yr},typeof Kt=="function"?Kt(zi,{components:{Picker:ei,Presets:ur}}):zi)))},Nr=j(71305),Xn=j(77648),lr=function(We,Et){var kt={};for(var Kt in We)Object.prototype.hasOwnProperty.call(We,Kt)&&Et.indexOf(Kt)<0&&(kt[Kt]=We[Kt]);if(We!=null&&typeof Object.getOwnPropertySymbols=="function")for(var rt=0,Kt=Object.getOwnPropertySymbols(We);rt<Kt.length;rt++)Et.indexOf(Kt[rt])<0&&Object.prototype.propertyIsEnumerable.call(We,Kt[rt])&&(kt[Kt[rt]]=We[Kt[rt]]);return kt},Ln=(0,s.forwardRef)((We,Et)=>{const{color:kt,prefixCls:Kt,open:rt,disabled:Qe,format:gn,className:mn,showText:kn,activeIndex:br}=We,ar=lr(We,["color","prefixCls","open","disabled","format","className","showText","activeIndex"]),Mr=`${Kt}-trigger`,qr=`${Mr}-text`,oi=`${qr}-cell`,[Zi]=(0,Xn.Z)("ColorPicker"),ft=s.useMemo(()=>{if(!kn)return"";if(typeof kn=="function")return kn(kt);if(kt.cleared)return Zi.transparent;if(kt.isGradient())return kt.getColors().map((sr,Yr)=>{const Ti=br!==-1&&br!==Yr;return s.createElement("span",{key:Yr,className:J()(oi,Ti&&`${oi}-inactive`)},sr.color.toRgbString()," ",sr.percent,"%")});const Ut=kt.toHexString().toUpperCase(),bn=(0,Xt.uZ)(kt);switch(gn){case"rgb":return kt.toRgbString();case"hsb":return kt.toHsbString();default:return bn<100?`${Ut.slice(0,7)},${bn}%`:Ut}},[kt,gn,kn,br]),_n=(0,s.useMemo)(()=>kt.cleared?s.createElement(Ar,{prefixCls:Kt}):s.createElement(Ot.G5,{prefixCls:Kt,color:kt.toCssString()}),[kt,Kt]);return s.createElement("div",Object.assign({ref:Et,className:J()(Mr,mn,{[`${Mr}-active`]:rt,[`${Mr}-disabled`]:Qe})},(0,Nr.Z)(ar)),_n,kn&&s.createElement("div",{className:qr},ft))});function _i(We,Et,kt){const[Kt]=(0,Xn.Z)("ColorPicker"),[rt,Qe]=(0,u.Z)(We,{value:Et}),[gn,mn]=s.useState("single"),[kn,br]=s.useMemo(()=>{const ft=(Array.isArray(kt)?kt:[kt]).filter(sr=>sr);ft.length||ft.push("single");const _n=new Set(ft),Ut=[],bn=(sr,Yr)=>{_n.has(sr)&&Ut.push({label:Yr,value:sr})};return bn("single",Kt.singleColor),bn("gradient",Kt.gradientColor),[Ut,_n]},[kt]),[ar,Mr]=s.useState(null),qr=(0,Fr.Z)(ft=>{Mr(ft),Qe(ft)}),oi=s.useMemo(()=>{const ft=(0,Xt.vC)(rt||"");return ft.equals(ar)?ar:ft},[rt,ar]),Zi=s.useMemo(()=>{var ft;return br.has(gn)?gn:(ft=kn[0])===null||ft===void 0?void 0:ft.value},[br,gn,kn]);return s.useEffect(()=>{mn(oi.isGradient()?"gradient":"single")},[oi]),[oi,qr,Zi,mn,kn]}var fi=j(55921),Wi=j(9288),po=j(84825),kr=j(83509);const no=(We,Et)=>({backgroundImage:`conic-gradient(${Et} 0 25%, transparent 0 50%, ${Et} 0 75%, transparent 0)`,backgroundSize:`${We} ${We}`});var xn=(We,Et)=>{const{componentCls:kt,borderRadiusSM:Kt,colorPickerInsetShadow:rt,lineWidth:Qe,colorFillSecondary:gn}=We;return{[`${kt}-color-block`]:Object.assign(Object.assign({position:"relative",borderRadius:Kt,width:Et,height:Et,boxShadow:rt,flex:"none"},no("50%",We.colorFillSecondary)),{[`${kt}-color-block-inner`]:{width:"100%",height:"100%",boxShadow:`inset 0 0 0 ${(0,fi.bf)(Qe)} ${gn}`,borderRadius:"inherit"}})}},$r=We=>{const{componentCls:Et,antCls:kt,fontSizeSM:Kt,lineHeightSM:rt,colorPickerAlphaInputWidth:Qe,marginXXS:gn,paddingXXS:mn,controlHeightSM:kn,marginXS:br,fontSizeIcon:ar,paddingXS:Mr,colorTextPlaceholder:qr,colorPickerInputNumberHandleWidth:oi,lineWidth:Zi}=We;return{[`${Et}-input-container`]:{display:"flex",[`${Et}-steppers${kt}-input-number`]:{fontSize:Kt,lineHeight:rt,[`${kt}-input-number-input`]:{paddingInlineStart:mn,paddingInlineEnd:0},[`${kt}-input-number-handler-wrap`]:{width:oi}},[`${Et}-steppers${Et}-alpha-input`]:{flex:`0 0 ${(0,fi.bf)(Qe)}`,marginInlineStart:gn},[`${Et}-format-select${kt}-select`]:{marginInlineEnd:br,width:"auto","&-single":{[`${kt}-select-selector`]:{padding:0,border:0},[`${kt}-select-arrow`]:{insetInlineEnd:0},[`${kt}-select-selection-item`]:{paddingInlineEnd:We.calc(ar).add(gn).equal(),fontSize:Kt,lineHeight:(0,fi.bf)(kn)},[`${kt}-select-item-option-content`]:{fontSize:Kt,lineHeight:rt},[`${kt}-select-dropdown`]:{[`${kt}-select-item`]:{minHeight:"auto"}}}},[`${Et}-input`]:{gap:gn,alignItems:"center",flex:1,width:0,[`${Et}-hsb-input,${Et}-rgb-input`]:{display:"flex",gap:gn,alignItems:"center"},[`${Et}-steppers`]:{flex:1},[`${Et}-hex-input${kt}-input-affix-wrapper`]:{flex:1,padding:`0 ${(0,fi.bf)(Mr)}`,[`${kt}-input`]:{fontSize:Kt,textTransform:"uppercase",lineHeight:(0,fi.bf)(We.calc(kn).sub(We.calc(Zi).mul(2)).equal())},[`${kt}-input-prefix`]:{color:qr}}}}}},ii=We=>{const{componentCls:Et,controlHeightLG:kt,borderRadiusSM:Kt,colorPickerInsetShadow:rt,marginSM:Qe,colorBgElevated:gn,colorFillSecondary:mn,lineWidthBold:kn,colorPickerHandlerSize:br}=We;return{userSelect:"none",[`${Et}-select`]:{[`${Et}-palette`]:{minHeight:We.calc(kt).mul(4).equal(),overflow:"hidden",borderRadius:Kt},[`${Et}-saturation`]:{position:"absolute",borderRadius:"inherit",boxShadow:rt,inset:0},marginBottom:Qe},[`${Et}-handler`]:{width:br,height:br,border:`${(0,fi.bf)(kn)} solid ${gn}`,position:"relative",borderRadius:"50%",cursor:"pointer",boxShadow:`${rt}, 0 0 0 1px ${mn}`}}},eo=We=>{const{componentCls:Et,antCls:kt,colorTextQuaternary:Kt,paddingXXS:rt,colorPickerPresetColorSize:Qe,fontSizeSM:gn,colorText:mn,lineHeightSM:kn,lineWidth:br,borderRadius:ar,colorFill:Mr,colorWhite:qr,marginXXS:oi,paddingXS:Zi,fontHeightSM:ft}=We;return{[`${Et}-presets`]:{[`${kt}-collapse-item > ${kt}-collapse-header`]:{padding:0,[`${kt}-collapse-expand-icon`]:{height:ft,color:Kt,paddingInlineEnd:rt}},[`${kt}-collapse`]:{display:"flex",flexDirection:"column",gap:oi},[`${kt}-collapse-item > ${kt}-collapse-content > ${kt}-collapse-content-box`]:{padding:`${(0,fi.bf)(Zi)} 0`},"&-label":{fontSize:gn,color:mn,lineHeight:kn},"&-items":{display:"flex",flexWrap:"wrap",gap:We.calc(oi).mul(1.5).equal(),[`${Et}-presets-color`]:{position:"relative",cursor:"pointer",width:Qe,height:Qe,"&::before":{content:'""',pointerEvents:"none",width:We.calc(Qe).add(We.calc(br).mul(4)).equal(),height:We.calc(Qe).add(We.calc(br).mul(4)).equal(),position:"absolute",top:We.calc(br).mul(-2).equal(),insetInlineStart:We.calc(br).mul(-2).equal(),borderRadius:ar,border:`${(0,fi.bf)(br)} solid transparent`,transition:`border-color ${We.motionDurationMid} ${We.motionEaseInBack}`},"&:hover::before":{borderColor:Mr},"&::after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"21.5%",display:"table",width:We.calc(Qe).div(13).mul(5).equal(),height:We.calc(Qe).div(13).mul(8).equal(),border:`${(0,fi.bf)(We.lineWidthBold)} solid ${We.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${We.motionDurationFast} ${We.motionEaseInBack}, opacity ${We.motionDurationFast}`},[`&${Et}-presets-color-checked`]:{"&::after":{opacity:1,borderColor:qr,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`transform ${We.motionDurationMid} ${We.motionEaseOutBack} ${We.motionDurationFast}`},[`&${Et}-presets-color-bright`]:{"&::after":{borderColor:"rgba(0, 0, 0, 0.45)"}}}}},"&-empty":{fontSize:gn,color:Kt}}}},So=We=>{const{componentCls:Et,colorPickerInsetShadow:kt,colorBgElevated:Kt,colorFillSecondary:rt,lineWidthBold:Qe,colorPickerHandlerSizeSM:gn,colorPickerSliderHeight:mn,marginSM:kn,marginXS:br}=We,ar=We.calc(gn).sub(We.calc(Qe).mul(2).equal()).equal(),Mr=We.calc(gn).add(We.calc(Qe).mul(2).equal()).equal(),qr={"&:after":{transform:"scale(1)",boxShadow:`${kt}, 0 0 0 1px ${We.colorPrimaryActive}`}};return{[`${Et}-slider`]:[no((0,fi.bf)(mn),We.colorFillSecondary),{margin:0,padding:0,height:mn,borderRadius:We.calc(mn).div(2).equal(),"&-rail":{height:mn,borderRadius:We.calc(mn).div(2).equal(),boxShadow:kt},[`& ${Et}-slider-handle`]:{width:ar,height:ar,top:0,borderRadius:"100%","&:before":{display:"block",position:"absolute",background:"transparent",left:{_skip_check_:!0,value:"50%"},top:"50%",transform:"translate(-50%, -50%)",width:Mr,height:Mr,borderRadius:"100%"},"&:after":{width:gn,height:gn,border:`${(0,fi.bf)(Qe)} solid ${Kt}`,boxShadow:`${kt}, 0 0 0 1px ${rt}`,outline:"none",insetInlineStart:We.calc(Qe).mul(-1).equal(),top:We.calc(Qe).mul(-1).equal(),background:"transparent",transition:"none"},"&:focus":qr}}],[`${Et}-slider-container`]:{display:"flex",gap:kn,marginBottom:kn,[`${Et}-slider-group`]:{flex:1,flexDirection:"column",justifyContent:"space-between",display:"flex","&-disabled-alpha":{justifyContent:"center"}}},[`${Et}-gradient-slider`]:{marginBottom:br,[`& ${Et}-slider-handle`]:{"&:after":{transform:"scale(0.8)"},"&-active, &:focus":qr}}}};const io=(We,Et,kt)=>({borderInlineEndWidth:We.lineWidth,borderColor:Et,boxShadow:`0 0 0 ${(0,fi.bf)(We.controlOutlineWidth)} ${kt}`,outline:0}),Pe=We=>{const{componentCls:Et}=We;return{"&-rtl":{[`${Et}-presets-color`]:{"&::after":{direction:"ltr"}},[`${Et}-clear`]:{"&::after":{direction:"ltr"}}}}},de=(We,Et,kt)=>{const{componentCls:Kt,borderRadiusSM:rt,lineWidth:Qe,colorSplit:gn,colorBorder:mn,red6:kn}=We;return{[`${Kt}-clear`]:Object.assign(Object.assign({width:Et,height:Et,borderRadius:rt,border:`${(0,fi.bf)(Qe)} solid ${gn}`,position:"relative",overflow:"hidden",cursor:"inherit",transition:`all ${We.motionDurationFast}`},kt),{"&::after":{content:'""',position:"absolute",insetInlineEnd:We.calc(Qe).mul(-1).equal(),top:We.calc(Qe).mul(-1).equal(),display:"block",width:40,height:2,transformOrigin:"calc(100% - 1px) 1px",transform:"rotate(-45deg)",backgroundColor:kn},"&:hover":{borderColor:mn}})}},K=We=>{const{componentCls:Et,colorError:kt,colorWarning:Kt,colorErrorHover:rt,colorWarningHover:Qe,colorErrorOutline:gn,colorWarningOutline:mn}=We;return{[`&${Et}-status-error`]:{borderColor:kt,"&:hover":{borderColor:rt},[`&${Et}-trigger-active`]:Object.assign({},io(We,kt,gn))},[`&${Et}-status-warning`]:{borderColor:Kt,"&:hover":{borderColor:Qe},[`&${Et}-trigger-active`]:Object.assign({},io(We,Kt,mn))}}},Ne=We=>{const{componentCls:Et,controlHeightLG:kt,controlHeightSM:Kt,controlHeight:rt,controlHeightXS:Qe,borderRadius:gn,borderRadiusSM:mn,borderRadiusXS:kn,borderRadiusLG:br,fontSizeLG:ar}=We;return{[`&${Et}-lg`]:{minWidth:kt,minHeight:kt,borderRadius:br,[`${Et}-color-block, ${Et}-clear`]:{width:rt,height:rt,borderRadius:gn},[`${Et}-trigger-text`]:{fontSize:ar}},[`&${Et}-sm`]:{minWidth:Kt,minHeight:Kt,borderRadius:mn,[`${Et}-color-block, ${Et}-clear`]:{width:Qe,height:Qe,borderRadius:kn},[`${Et}-trigger-text`]:{lineHeight:(0,fi.bf)(Qe)}}}},Je=We=>{const{antCls:Et,componentCls:kt,colorPickerWidth:Kt,colorPrimary:rt,motionDurationMid:Qe,colorBgElevated:gn,colorTextDisabled:mn,colorText:kn,colorBgContainerDisabled:br,borderRadius:ar,marginXS:Mr,marginSM:qr,controlHeight:oi,controlHeightSM:Zi,colorBgTextActive:ft,colorPickerPresetColorSize:_n,colorPickerPreviewSize:Ut,lineWidth:bn,colorBorder:sr,paddingXXS:Yr,fontSize:Ti,colorPrimaryHover:ho,controlOutline:zi}=We;return[{[kt]:Object.assign({[`${kt}-inner`]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({"&-content":{display:"flex",flexDirection:"column",width:Kt,[`& > ${Et}-divider`]:{margin:`${(0,fi.bf)(qr)} 0 ${(0,fi.bf)(Mr)}`}},[`${kt}-panel`]:Object.assign({},ii(We))},So(We)),xn(We,Ut)),$r(We)),eo(We)),de(We,_n,{marginInlineStart:"auto"})),{[`${kt}-operation`]:{display:"flex",justifyContent:"space-between",marginBottom:Mr}}),"&-trigger":Object.assign(Object.assign(Object.assign(Object.assign({minWidth:oi,minHeight:oi,borderRadius:ar,border:`${(0,fi.bf)(bn)} solid ${sr}`,cursor:"pointer",display:"inline-flex",alignItems:"flex-start",justifyContent:"center",transition:`all ${Qe}`,background:gn,padding:We.calc(Yr).sub(bn).equal(),[`${kt}-trigger-text`]:{marginInlineStart:Mr,marginInlineEnd:We.calc(Mr).sub(We.calc(Yr).sub(bn)).equal(),fontSize:Ti,color:kn,alignSelf:"center","&-cell":{"&:not(:last-child):after":{content:'", "'},"&-inactive":{color:mn}}},"&:hover":{borderColor:ho},[`&${kt}-trigger-active`]:Object.assign({},io(We,rt,zi)),"&-disabled":{color:mn,background:br,cursor:"not-allowed","&:hover":{borderColor:ft},[`${kt}-trigger-text`]:{color:mn}}},de(We,Zi)),xn(We,Zi)),K(We)),Ne(We))},Pe(We))},(0,Wi.c)(We,{focusElCls:`${kt}-trigger-active`})]};var ge=(0,po.I$)("ColorPicker",We=>{const{colorTextQuaternary:Et,marginSM:kt}=We,Kt=8,rt=(0,kr.IX)(We,{colorPickerWidth:234,colorPickerHandlerSize:16,colorPickerHandlerSizeSM:12,colorPickerAlphaInputWidth:44,colorPickerInputNumberHandleWidth:16,colorPickerPresetColorSize:24,colorPickerInsetShadow:`inset 0 0 1px 0 ${Et}`,colorPickerSliderHeight:Kt,colorPickerPreviewSize:We.calc(Kt).mul(2).add(kt).equal()});return[Je(rt)]}),dt=function(We,Et){var kt={};for(var Kt in We)Object.prototype.hasOwnProperty.call(We,Kt)&&Et.indexOf(Kt)<0&&(kt[Kt]=We[Kt]);if(We!=null&&typeof Object.getOwnPropertySymbols=="function")for(var rt=0,Kt=Object.getOwnPropertySymbols(We);rt<Kt.length;rt++)Et.indexOf(Kt[rt])<0&&Object.prototype.propertyIsEnumerable.call(We,Kt[rt])&&(kt[Kt[rt]]=We[Kt[rt]]);return kt};const _t=We=>{const{mode:Et,value:kt,defaultValue:Kt,format:rt,defaultFormat:Qe,allowClear:gn=!1,presets:mn,children:kn,trigger:br="click",open:ar,disabled:Mr,placement:qr="bottomLeft",arrow:oi=!0,panelRender:Zi,showText:ft,style:_n,className:Ut,size:bn,rootClassName:sr,prefixCls:Yr,styles:Ti,disabledAlpha:ho=!1,onFormatChange:zi,onChange:Ji,onClear:uo,onOpenChange:Ni,onChangeComplete:Po,getPopupContainer:Vo,autoAdjustOverflow:$o=!0,destroyTooltipOnHide:_o,disabledFormat:Oo}=We,zo=dt(We,["mode","value","defaultValue","format","defaultFormat","allowClear","presets","children","trigger","open","disabled","placement","arrow","panelRender","showText","style","className","size","rootClassName","prefixCls","styles","disabledAlpha","onFormatChange","onChange","onClear","onOpenChange","onChangeComplete","getPopupContainer","autoAdjustOverflow","destroyTooltipOnHide","disabledFormat"]),{getPrefixCls:qo,direction:oo,colorPicker:wo}=(0,s.useContext)(Le.E_),go=(0,s.useContext)(_e.Z),so=Mr!=null?Mr:go,[to,ko]=(0,u.Z)(!1,{value:ar,postState:Ri=>!so&&Ri,onChange:Ni}),[Pr,Ho]=(0,u.Z)(rt,{value:rt,defaultValue:Qe,onChange:zi}),ha=qo("color-picker",Yr),[za,Vi,ma,qa,Jr]=_i(Kt,kt,Et),vo=(0,s.useMemo)(()=>(0,Xt.uZ)(za)<100,[za]),[Ao,Yo]=s.useState(null),co=Ri=>{if(Po){let $i=(0,Xt.vC)(Ri);ho&&vo&&($i=(0,Xt.T7)(Ri)),Po($i)}},Ai=(Ri,$i)=>{let yo=(0,Xt.vC)(Ri);ho&&vo&&(yo=(0,Xt.T7)(yo)),Vi(yo),Yo(null),Ji&&Ji(yo,yo.toCssString()),$i||co(yo)},[ga,jo]=s.useState(0),[en,Ve]=s.useState(!1),be=Ri=>{if(qa(Ri),Ri==="single"&&za.isGradient())jo(0),Ai(new xt.y9(za.getColors()[0].color)),Yo(za);else if(Ri==="gradient"&&!za.isGradient()){const $i=vo?(0,Xt.T7)(za):za;Ai(new xt.y9(Ao||[{percent:0,color:$i},{percent:100,color:$i}]))}},{status:Ze}=s.useContext(ke.aM),{compactSize:De,compactItemClassnames:$t}=(0,at.ri)(ha,oo),tn=(0,Ye.Z)(Ri=>{var $i;return($i=bn!=null?bn:De)!==null&&$i!==void 0?$i:Ri}),Wn=(0,oe.Z)(ha),[pr,ir,rr]=ge(ha,Wn),Vr={[`${ha}-rtl`]:oo},Si=J()(sr,rr,Wn,Vr),Ci=J()((0,je.Z)(ha,Ze),{[`${ha}-sm`]:tn==="small",[`${ha}-lg`]:tn==="large"},$t,wo==null?void 0:wo.className,Si,Ut,ir),pi=J()(ha,Si),wi={open:to,trigger:br,placement:qr,arrow:oi,rootClassName:sr,getPopupContainer:Vo,autoAdjustOverflow:$o,destroyTooltipOnHide:_o},ti=Object.assign(Object.assign({},wo==null?void 0:wo.style),_n);return pr(s.createElement(Xe.Z,Object.assign({style:Ti==null?void 0:Ti.popup,styles:{body:Ti==null?void 0:Ti.popupOverlayInner},onOpenChange:Ri=>{(!Ri||!so)&&ko(Ri)},content:s.createElement(Ie.Z,{form:!0},s.createElement(yr,{mode:ma,onModeChange:be,modeOptions:Jr,prefixCls:ha,value:za,allowClear:gn,disabled:so,disabledAlpha:ho,presets:mn,panelRender:Zi,format:Pr,onFormatChange:Ho,onChange:Ai,onChangeComplete:co,onClear:uo,activeIndex:ga,onActive:jo,gradientDragging:en,onGradientDragging:Ve,disabledFormat:Oo})),classNames:{root:pi}},wi),kn||s.createElement(Ln,Object.assign({activeIndex:to?ga:-1,open:to,className:Ci,style:ti,prefixCls:ha,disabled:so,showText:ft,format:Pr},zo,{color:za}))))},Tt=(0,He.Z)(_t,void 0,We=>Object.assign(Object.assign({},We),{placement:"bottom",autoAdjustOverflow:!1}),"color-picker",We=>We);_t._InternalPanelDoNotUseOrYouWillBeFired=Tt;var Yt=_t,hn=Yt},70395:function(Qr,Jt,j){"use strict";j.d(Jt,{AO:function(){return Le},T7:function(){return je},lx:function(){return Ie},uZ:function(){return He},vC:function(){return u}});var s=j(46865),ht=j(2180),J=j(82227);const u=_e=>_e instanceof J.y9?_e:new J.y9(_e),Ie=_e=>Math.round(Number(_e||0)),He=_e=>Ie(_e.toHsb().a*100),je=(_e,oe)=>{const Ye=_e.toRgb();if(!Ye.r&&!Ye.g&&!Ye.b){const ke=_e.toHsb();return ke.a=oe||1,u(ke)}return Ye.a=oe||1,u(Ye)},Le=(_e,oe)=>{const Ye=[{percent:0,color:_e[0].color}].concat((0,s.Z)(_e),[{percent:100,color:_e[_e.length-1].color}]);for(let ke=0;ke<Ye.length-1;ke+=1){const Xe=Ye[ke].percent,at=Ye[ke+1].percent,xt=Ye[ke].color,ot=Ye[ke+1].color;if(Xe<=oe&&oe<=at){const St=at-Xe;if(St===0)return xt;const Ot=(oe-Xe)/St*100,Ge=new ht.Il(xt),Qt=new ht.Il(ot);return Ge.mix(Qt,Ot).toRgbString()}}return""}},98472:function(Qr,Jt,j){"use strict";j.d(Jt,{n:function(){return J}});var s=j(75271);const ht=s.createContext(!1),J=u=>{let{children:Ie,disabled:He}=u;const je=s.useContext(ht);return s.createElement(ht.Provider,{value:He!=null?He:je},Ie)};Jt.Z=ht},10497:function(Qr,Jt,j){"use strict";j.d(Jt,{q:function(){return J}});var s=j(75271);const ht=s.createContext(void 0),J=u=>{let{children:Ie,size:He}=u;const je=s.useContext(ht);return s.createElement(ht.Provider,{value:He||je},Ie)};Jt.Z=ht},98446:function(Qr,Jt,j){"use strict";j.d(Jt,{E_:function(){return He},Rf:function(){return ht},dj:function(){return _e},oR:function(){return J},tr:function(){return u}});var s=j(75271);const ht="ant",J="anticon",u=["outlined","borderless","filled","underlined"],Ie=(oe,Ye)=>Ye||(oe?`${ht}-${oe}`:ht),He=s.createContext({getPrefixCls:Ie,iconPrefixCls:J}),{Consumer:je}=He,Le={};function _e(oe){const Ye=s.useContext(He),{getPrefixCls:ke,direction:Xe,getPopupContainer:at}=Ye,xt=Ye[oe];return Object.assign(Object.assign({classNames:Le,styles:Le},xt),{getPrefixCls:ke,direction:Xe,getPopupContainer:at})}},22463:function(Qr,Jt,j){"use strict";var s=j(75271),ht=j(98446),J=j(35335);const u=Ie=>{const{componentName:He}=Ie,{getPrefixCls:je}=(0,s.useContext)(ht.E_),Le=je("empty");switch(He){case"Table":case"List":return s.createElement(J.Z,{image:J.Z.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return s.createElement(J.Z,{image:J.Z.PRESENTED_IMAGE_SIMPLE,className:`${Le}-small`});case"Table.filter":return null;default:return s.createElement(J.Z,null)}};Jt.Z=u},38437:function(Qr,Jt,j){"use strict";var s=j(67699);const ht=J=>{const[,,,,u]=(0,s.ZP)();return u?`${J}-css-var`:""};Jt.Z=ht},95741:function(Qr,Jt,j){"use strict";var s=j(75271),ht=j(10497);const J=u=>{const Ie=s.useContext(ht.Z);return s.useMemo(()=>u?typeof u=="string"?u!=null?u:Ie:u instanceof Function?u(Ie):Ie:Ie,[u,Ie])};Jt.Z=J},62639:function(Qr,Jt,j){"use strict";j.d(Jt,{ZP:function(){return ei},w6:function(){return Xr}});var s=j(75271),ht=j.t(s,2),J=j(55921),u=j(53552),Ie=j(54596),He=j(27636),je=j(87117),Le=j(63613),_e=j(3786),oe=j(59379);const Ye="internalMark";var Xe=vr=>{const{locale:hr={},children:ur,_ANT_MARK__:wr}=vr;s.useEffect(()=>(0,_e.f)(hr==null?void 0:hr.Modal),[hr]);const yr=s.useMemo(()=>Object.assign(Object.assign({},hr),{exist:!0}),[hr]);return s.createElement(oe.Z.Provider,{value:yr},ur)},at=j(42474),xt=j(38920),ot=j(20284),St=j(30767),Ot=j(98446),Ge=j(68640),Qt=j(84432),Pt=j(18415),Ft=j(18263);const Xt=`-ant-${Date.now()}-${Math.random()}`;function Ht(vr,hr){const ur={},wr=(Xn,lr)=>{let Ur=Xn.clone();return Ur=(lr==null?void 0:lr(Ur))||Ur,Ur.toRgbString()},yr=(Xn,lr)=>{const Ur=new Qt.t(Xn),Ln=(0,Ge.R_)(Ur.toRgbString());ur[`${lr}-color`]=wr(Ur),ur[`${lr}-color-disabled`]=Ln[1],ur[`${lr}-color-hover`]=Ln[4],ur[`${lr}-color-active`]=Ln[6],ur[`${lr}-color-outline`]=Ur.clone().setA(.2).toRgbString(),ur[`${lr}-color-deprecated-bg`]=Ln[0],ur[`${lr}-color-deprecated-border`]=Ln[2]};if(hr.primaryColor){yr(hr.primaryColor,"primary");const Xn=new Qt.t(hr.primaryColor),lr=(0,Ge.R_)(Xn.toRgbString());lr.forEach((Ln,_i)=>{ur[`primary-${_i+1}`]=Ln}),ur["primary-color-deprecated-l-35"]=wr(Xn,Ln=>Ln.lighten(35)),ur["primary-color-deprecated-l-20"]=wr(Xn,Ln=>Ln.lighten(20)),ur["primary-color-deprecated-t-20"]=wr(Xn,Ln=>Ln.tint(20)),ur["primary-color-deprecated-t-50"]=wr(Xn,Ln=>Ln.tint(50)),ur["primary-color-deprecated-f-12"]=wr(Xn,Ln=>Ln.setA(Ln.a*.12));const Ur=new Qt.t(lr[0]);ur["primary-color-active-deprecated-f-30"]=wr(Ur,Ln=>Ln.setA(Ln.a*.3)),ur["primary-color-active-deprecated-d-02"]=wr(Ur,Ln=>Ln.darken(2))}return hr.successColor&&yr(hr.successColor,"success"),hr.warningColor&&yr(hr.warningColor,"warning"),hr.errorColor&&yr(hr.errorColor,"error"),hr.infoColor&&yr(hr.infoColor,"info"),`
  :root {
    ${Object.keys(ur).map(Xn=>`--${vr}-${Xn}: ${ur[Xn]};`).join(`
`)}
  }
  `.trim()}function Ar(vr,hr){const ur=Ht(vr,hr);(0,Pt.Z)()&&(0,Ft.hq)(ur,`${Xt}-dynamic-theme`)}var Cr=j(98472),Dr=j(10497);function Ue(){const vr=(0,s.useContext)(Cr.Z),hr=(0,s.useContext)(Dr.Z);return{componentDisabled:vr,componentSize:hr}}var sn=Ue,Bn=j(47996);const En=Object.assign({},ht),{useId:Be}=En;var Rn=typeof Be=="undefined"?()=>"":Be;function pt(vr,hr,ur){var wr,yr;const Nr=(0,je.ln)("ConfigProvider"),Xn=vr||{},lr=Xn.inherit===!1||!hr?Object.assign(Object.assign({},ot.u_),{hashed:(wr=hr==null?void 0:hr.hashed)!==null&&wr!==void 0?wr:ot.u_.hashed,cssVar:hr==null?void 0:hr.cssVar}):hr,Ur=Rn();return(0,Ie.Z)(()=>{var Ln,_i;if(!vr)return hr;const fi=Object.assign({},lr.components);Object.keys(vr.components||{}).forEach(kr=>{fi[kr]=Object.assign(Object.assign({},fi[kr]),vr.components[kr])});const Wi=`css-var-${Ur.replace(/:/g,"")}`,po=((Ln=Xn.cssVar)!==null&&Ln!==void 0?Ln:lr.cssVar)&&Object.assign(Object.assign(Object.assign({prefix:ur==null?void 0:ur.prefixCls},typeof lr.cssVar=="object"?lr.cssVar:{}),typeof Xn.cssVar=="object"?Xn.cssVar:{}),{key:typeof Xn.cssVar=="object"&&((_i=Xn.cssVar)===null||_i===void 0?void 0:_i.key)||Wi});return Object.assign(Object.assign(Object.assign({},lr),Xn),{token:Object.assign(Object.assign({},lr.token),Xn.token),components:fi,cssVar:po})},[Xn,lr],(Ln,_i)=>Ln.some((fi,Wi)=>{const po=_i[Wi];return!(0,Bn.Z)(fi,po,!0)}))}var an=j(62803),Tn=j(67699);function me(vr){const{children:hr}=vr,[,ur]=(0,Tn.ZP)(),{motion:wr}=ur,yr=s.useRef(!1);return yr.current=yr.current||wr===!1,yr.current?s.createElement(an.zt,{motion:wr},hr):hr}const nn=null;var bi=()=>null,ui=j(34299),Mn=(vr,hr)=>{const[ur,wr]=(0,Tn.ZP)();return(0,J.xy)({theme:ur,token:wr,hashId:"",path:["ant-design-icons",vr],nonce:()=>hr==null?void 0:hr.nonce,layer:{name:"antd"}},()=>[(0,ui.JT)(vr)])},Kr=function(vr,hr){var ur={};for(var wr in vr)Object.prototype.hasOwnProperty.call(vr,wr)&&hr.indexOf(wr)<0&&(ur[wr]=vr[wr]);if(vr!=null&&typeof Object.getOwnPropertySymbols=="function")for(var yr=0,wr=Object.getOwnPropertySymbols(vr);yr<wr.length;yr++)hr.indexOf(wr[yr])<0&&Object.prototype.propertyIsEnumerable.call(vr,wr[yr])&&(ur[wr[yr]]=vr[wr[yr]]);return ur};let jr=!1;const Sn=null,Fr=null,Ii=["getTargetContainer","getPopupContainer","renderEmpty","input","pagination","form","select","button"];let fr,st,jt,Fn;function un(){return fr||Ot.Rf}function pn(){return st||Ot.oR}function Sr(vr){return Object.keys(vr).some(hr=>hr.endsWith("Color"))}const Vn=vr=>{const{prefixCls:hr,iconPrefixCls:ur,theme:wr,holderRender:yr}=vr;hr!==void 0&&(fr=hr),ur!==void 0&&(st=ur),"holderRender"in vr&&(Fn=yr),wr&&(Sr(wr)?Ar(un(),wr):jt=wr)},Xr=()=>({getPrefixCls:(vr,hr)=>hr||(vr?`${un()}-${vr}`:un()),getIconPrefixCls:pn,getRootPrefixCls:()=>fr||un(),getTheme:()=>jt,holderRender:Fn}),ri=vr=>{const{children:hr,csp:ur,autoInsertSpaceInButton:wr,alert:yr,anchor:Nr,form:Xn,locale:lr,componentSize:Ur,direction:Ln,space:_i,splitter:fi,virtual:Wi,dropdownMatchSelectWidth:po,popupMatchSelectWidth:kr,popupOverflow:no,legacyLocale:qt,parentContext:xn,iconPrefixCls:Jn,theme:$r,componentDisabled:li,segmented:ii,statistic:Ki,spin:eo,calendar:Ro,carousel:So,cascader:io,collapse:Pe,typography:de,checkbox:K,descriptions:Ne,divider:Je,drawer:ge,skeleton:dt,steps:_t,image:Tt,layout:Yt,list:hn,mentions:We,modal:Et,progress:kt,result:Kt,slider:rt,breadcrumb:Qe,menu:gn,pagination:mn,input:kn,textArea:br,empty:ar,badge:Mr,radio:qr,rate:oi,switch:Zi,transfer:ft,avatar:_n,message:Ut,tag:bn,table:sr,card:Yr,tabs:Ti,timeline:ho,timePicker:zi,upload:Ji,notification:uo,tree:Ni,colorPicker:Po,datePicker:Vo,rangePicker:$o,flex:_o,wave:Oo,dropdown:zo,warning:qo,tour:oo,tooltip:wo,popover:go,popconfirm:so,floatButtonGroup:to,variant:ko,inputNumber:Pr,treeSelect:Ho}=vr,ha=s.useCallback((jo,en)=>{const{prefixCls:Ve}=vr;if(en)return en;const be=Ve||xn.getPrefixCls("");return jo?`${be}-${jo}`:be},[xn.getPrefixCls,vr.prefixCls]),za=Jn||xn.iconPrefixCls||Ot.oR,Vi=ur||xn.csp;Mn(za,Vi);const ma=pt($r,xn.theme,{prefixCls:ha("")}),qa={csp:Vi,autoInsertSpaceInButton:wr,alert:yr,anchor:Nr,locale:lr||qt,direction:Ln,space:_i,splitter:fi,virtual:Wi,popupMatchSelectWidth:kr!=null?kr:po,popupOverflow:no,getPrefixCls:ha,iconPrefixCls:za,theme:ma,segmented:ii,statistic:Ki,spin:eo,calendar:Ro,carousel:So,cascader:io,collapse:Pe,typography:de,checkbox:K,descriptions:Ne,divider:Je,drawer:ge,skeleton:dt,steps:_t,image:Tt,input:kn,textArea:br,layout:Yt,list:hn,mentions:We,modal:Et,progress:kt,result:Kt,slider:rt,breadcrumb:Qe,menu:gn,pagination:mn,empty:ar,badge:Mr,radio:qr,rate:oi,switch:Zi,transfer:ft,avatar:_n,message:Ut,tag:bn,table:sr,card:Yr,tabs:Ti,timeline:ho,timePicker:zi,upload:Ji,notification:uo,tree:Ni,colorPicker:Po,datePicker:Vo,rangePicker:$o,flex:_o,wave:Oo,dropdown:zo,warning:qo,tour:oo,tooltip:wo,popover:go,popconfirm:so,floatButtonGroup:to,variant:ko,inputNumber:Pr,treeSelect:Ho},Jr=Object.assign({},xn);Object.keys(qa).forEach(jo=>{qa[jo]!==void 0&&(Jr[jo]=qa[jo])}),Ii.forEach(jo=>{const en=vr[jo];en&&(Jr[jo]=en)}),typeof wr!="undefined"&&(Jr.button=Object.assign({autoInsertSpace:wr},Jr.button));const vo=(0,Ie.Z)(()=>Jr,Jr,(jo,en)=>{const Ve=Object.keys(jo),be=Object.keys(en);return Ve.length!==be.length||Ve.some(Ze=>jo[Ze]!==en[Ze])}),{layer:Ao}=s.useContext(J.uP),Yo=s.useMemo(()=>({prefixCls:za,csp:Vi,layer:Ao?"antd":void 0}),[za,Vi,Ao]);let co=s.createElement(s.Fragment,null,s.createElement(bi,{dropdownMatchSelectWidth:po}),hr);const Ai=s.useMemo(()=>{var jo,en,Ve,be;return(0,He.T)(((jo=at.Z.Form)===null||jo===void 0?void 0:jo.defaultValidateMessages)||{},((Ve=(en=vo.locale)===null||en===void 0?void 0:en.Form)===null||Ve===void 0?void 0:Ve.defaultValidateMessages)||{},((be=vo.form)===null||be===void 0?void 0:be.validateMessages)||{},(Xn==null?void 0:Xn.validateMessages)||{})},[vo,Xn==null?void 0:Xn.validateMessages]);Object.keys(Ai).length>0&&(co=s.createElement(Le.Z.Provider,{value:Ai},co)),lr&&(co=s.createElement(Xe,{locale:lr,_ANT_MARK__:Ye},co)),(za||Vi)&&(co=s.createElement(u.Z.Provider,{value:Yo},co)),Ur&&(co=s.createElement(Dr.q,{size:Ur},co)),co=s.createElement(me,null,co);const ga=s.useMemo(()=>{const jo=ma||{},{algorithm:en,token:Ve,components:be,cssVar:Ze}=jo,De=Kr(jo,["algorithm","token","components","cssVar"]),$t=en&&(!Array.isArray(en)||en.length>0)?(0,J.jG)(en):xt.Z,tn={};Object.entries(be||{}).forEach(pr=>{let[ir,rr]=pr;const Vr=Object.assign({},rr);"algorithm"in Vr&&(Vr.algorithm===!0?Vr.theme=$t:(Array.isArray(Vr.algorithm)||typeof Vr.algorithm=="function")&&(Vr.theme=(0,J.jG)(Vr.algorithm)),delete Vr.algorithm),tn[ir]=Vr});const Wn=Object.assign(Object.assign({},St.Z),Ve);return Object.assign(Object.assign({},De),{theme:$t,token:Wn,components:tn,override:Object.assign({override:Wn},tn),cssVar:Ze})},[ma]);return $r&&(co=s.createElement(ot.Mj.Provider,{value:ga},co)),vo.warning&&(co=s.createElement(je.G8.Provider,{value:vo.warning},co)),li!==void 0&&(co=s.createElement(Cr.n,{disabled:li},co)),s.createElement(Ot.E_.Provider,{value:vo},co)},Zr=vr=>{const hr=s.useContext(Ot.E_),ur=s.useContext(oe.Z);return s.createElement(ri,Object.assign({parentContext:hr,legacyLocale:ur},vr))};Zr.ConfigContext=Ot.E_,Zr.SizeContext=Dr.Z,Zr.config=Vn,Zr.useConfig=sn,Object.defineProperty(Zr,"SizeContext",{get:()=>Dr.Z});var ei=Zr},58492:function(Qr,Jt,j){"use strict";j.d(Jt,{Z:function(){return je}});var s=j(54153),ht={yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0},J=(0,s.Z)((0,s.Z)({},ht),{},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",week:"Week",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",dateFormat:"M/D/YYYY",dateTimeFormat:"M/D/YYYY HH:mm:ss",previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"}),u=J,Ie=j(85985),je={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},u),timePickerLocale:Object.assign({},Ie.Z)}},67567:function(Qr,Jt,j){"use strict";j.d(Jt,{Z:function(){return at}});var s=j(75271),ht=j(82187),J=j.n(ht),u=j(98446),Ie=j(55921),He=j(34299),je=j(84825),Le=j(83509);const _e=xt=>{const{componentCls:ot,sizePaddingEdgeHorizontal:St,colorSplit:Ot,lineWidth:Ge,textPaddingInline:Qt,orientationMargin:Pt,verticalMarginInline:Ft}=xt;return{[ot]:Object.assign(Object.assign({},(0,He.Wf)(xt)),{borderBlockStart:`${(0,Ie.bf)(Ge)} solid ${Ot}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:Ft,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:`${(0,Ie.bf)(Ge)} solid ${Ot}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${(0,Ie.bf)(xt.dividerHorizontalGutterMargin)} 0`},[`&-horizontal${ot}-with-text`]:{display:"flex",alignItems:"center",margin:`${(0,Ie.bf)(xt.dividerHorizontalWithTextGutterMargin)} 0`,color:xt.colorTextHeading,fontWeight:500,fontSize:xt.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${Ot}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${(0,Ie.bf)(Ge)} solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${ot}-with-text-start`]:{"&::before":{width:`calc(${Pt} * 100%)`},"&::after":{width:`calc(100% - ${Pt} * 100%)`}},[`&-horizontal${ot}-with-text-end`]:{"&::before":{width:`calc(100% - ${Pt} * 100%)`},"&::after":{width:`calc(${Pt} * 100%)`}},[`${ot}-inner-text`]:{display:"inline-block",paddingBlock:0,paddingInline:Qt},"&-dashed":{background:"none",borderColor:Ot,borderStyle:"dashed",borderWidth:`${(0,Ie.bf)(Ge)} 0 0`},[`&-horizontal${ot}-with-text${ot}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${ot}-dashed`]:{borderInlineStartWidth:Ge,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},"&-dotted":{background:"none",borderColor:Ot,borderStyle:"dotted",borderWidth:`${(0,Ie.bf)(Ge)} 0 0`},[`&-horizontal${ot}-with-text${ot}-dotted`]:{"&::before, &::after":{borderStyle:"dotted none none"}},[`&-vertical${ot}-dotted`]:{borderInlineStartWidth:Ge,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${ot}-with-text`]:{color:xt.colorText,fontWeight:"normal",fontSize:xt.fontSize},[`&-horizontal${ot}-with-text-start${ot}-no-default-orientation-margin-start`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${ot}-inner-text`]:{paddingInlineStart:St}},[`&-horizontal${ot}-with-text-end${ot}-no-default-orientation-margin-end`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${ot}-inner-text`]:{paddingInlineEnd:St}}})}},oe=xt=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:xt.marginXS});var Ye=(0,je.I$)("Divider",xt=>{const ot=(0,Le.IX)(xt,{dividerHorizontalWithTextGutterMargin:xt.margin,dividerHorizontalGutterMargin:xt.marginLG,sizePaddingEdgeHorizontal:0});return[_e(ot)]},oe,{unitless:{orientationMargin:!0}}),ke=function(xt,ot){var St={};for(var Ot in xt)Object.prototype.hasOwnProperty.call(xt,Ot)&&ot.indexOf(Ot)<0&&(St[Ot]=xt[Ot]);if(xt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ge=0,Ot=Object.getOwnPropertySymbols(xt);Ge<Ot.length;Ge++)ot.indexOf(Ot[Ge])<0&&Object.prototype.propertyIsEnumerable.call(xt,Ot[Ge])&&(St[Ot[Ge]]=xt[Ot[Ge]]);return St},at=xt=>{const{getPrefixCls:ot,direction:St,className:Ot,style:Ge}=(0,u.dj)("divider"),{prefixCls:Qt,type:Pt="horizontal",orientation:Ft="center",orientationMargin:Xt,className:Ht,rootClassName:Ar,children:Cr,dashed:Dr,variant:Ue="solid",plain:sn,style:Bn}=xt,En=ke(xt,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","variant","plain","style"]),Be=ot("divider",Qt),[Gn,In,Rn]=Ye(Be),pt=!!Cr,an=s.useMemo(()=>Ft==="left"?St==="rtl"?"end":"start":Ft==="right"?St==="rtl"?"start":"end":Ft,[St,Ft]),Tn=an==="start"&&Xt!=null,me=an==="end"&&Xt!=null,nn=J()(Be,Ot,In,Rn,`${Be}-${Pt}`,{[`${Be}-with-text`]:pt,[`${Be}-with-text-${an}`]:pt,[`${Be}-dashed`]:!!Dr,[`${Be}-${Ue}`]:Ue!=="solid",[`${Be}-plain`]:!!sn,[`${Be}-rtl`]:St==="rtl",[`${Be}-no-default-orientation-margin-start`]:Tn,[`${Be}-no-default-orientation-margin-end`]:me},Ht,Ar),bi=s.useMemo(()=>typeof Xt=="number"?Xt:/^\d+$/.test(Xt)?Number(Xt):Xt,[Xt]),ui={marginInlineStart:Tn?bi:void 0,marginInlineEnd:me?bi:void 0};return Gn(s.createElement("div",Object.assign({className:nn,style:Object.assign(Object.assign({},Ge),Bn)},En,{role:"separator"}),Cr&&Pt!=="vertical"&&s.createElement("span",{className:`${Be}-inner-text`,style:ui},Cr)))}},35335:function(Qr,Jt,j){"use strict";j.d(Jt,{Z:function(){return Qt}});var s=j(75271),ht=j(82187),J=j.n(ht),u=j(77648),Ie=j(84432),He=j(67699),Le=()=>{const[,Pt]=(0,He.ZP)(),[Ft]=(0,u.Z)("Empty"),Ht=new Ie.t(Pt.colorBgBase).toHsl().l<.5?{opacity:.65}:{};return s.createElement("svg",{style:Ht,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},s.createElement("title",null,(Ft==null?void 0:Ft.description)||"Empty"),s.createElement("g",{fill:"none",fillRule:"evenodd"},s.createElement("g",{transform:"translate(24 31.67)"},s.createElement("ellipse",{fillOpacity:".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),s.createElement("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"}),s.createElement("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"}),s.createElement("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"}),s.createElement("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"})),s.createElement("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"}),s.createElement("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},s.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),s.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},oe=()=>{const[,Pt]=(0,He.ZP)(),[Ft]=(0,u.Z)("Empty"),{colorFill:Xt,colorFillTertiary:Ht,colorFillQuaternary:Ar,colorBgContainer:Cr}=Pt,{borderColor:Dr,shadowColor:Ue,contentColor:sn}=(0,s.useMemo)(()=>({borderColor:new Ie.t(Xt).onBackground(Cr).toHexString(),shadowColor:new Ie.t(Ht).onBackground(Cr).toHexString(),contentColor:new Ie.t(Ar).onBackground(Cr).toHexString()}),[Xt,Ht,Ar,Cr]);return s.createElement("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},s.createElement("title",null,(Ft==null?void 0:Ft.description)||"Empty"),s.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},s.createElement("ellipse",{fill:Ue,cx:"32",cy:"33",rx:"32",ry:"7"}),s.createElement("g",{fillRule:"nonzero",stroke:Dr},s.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),s.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:sn}))))},Ye=j(84825),ke=j(83509);const Xe=Pt=>{const{componentCls:Ft,margin:Xt,marginXS:Ht,marginXL:Ar,fontSize:Cr,lineHeight:Dr}=Pt;return{[Ft]:{marginInline:Ht,fontSize:Cr,lineHeight:Dr,textAlign:"center",[`${Ft}-image`]:{height:Pt.emptyImgHeight,marginBottom:Ht,opacity:Pt.opacityImage,img:{height:"100%"},svg:{maxWidth:"100%",height:"100%",margin:"auto"}},[`${Ft}-description`]:{color:Pt.colorTextDescription},[`${Ft}-footer`]:{marginTop:Xt},"&-normal":{marginBlock:Ar,color:Pt.colorTextDescription,[`${Ft}-description`]:{color:Pt.colorTextDescription},[`${Ft}-image`]:{height:Pt.emptyImgHeightMD}},"&-small":{marginBlock:Ht,color:Pt.colorTextDescription,[`${Ft}-image`]:{height:Pt.emptyImgHeightSM}}}}};var at=(0,Ye.I$)("Empty",Pt=>{const{componentCls:Ft,controlHeightLG:Xt,calc:Ht}=Pt,Ar=(0,ke.IX)(Pt,{emptyImgCls:`${Ft}-img`,emptyImgHeight:Ht(Xt).mul(2.5).equal(),emptyImgHeightMD:Xt,emptyImgHeightSM:Ht(Xt).mul(.875).equal()});return[Xe(Ar)]}),xt=j(98446),ot=function(Pt,Ft){var Xt={};for(var Ht in Pt)Object.prototype.hasOwnProperty.call(Pt,Ht)&&Ft.indexOf(Ht)<0&&(Xt[Ht]=Pt[Ht]);if(Pt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ar=0,Ht=Object.getOwnPropertySymbols(Pt);Ar<Ht.length;Ar++)Ft.indexOf(Ht[Ar])<0&&Object.prototype.propertyIsEnumerable.call(Pt,Ht[Ar])&&(Xt[Ht[Ar]]=Pt[Ht[Ar]]);return Xt};const St=s.createElement(Le,null),Ot=s.createElement(oe,null),Ge=Pt=>{const{className:Ft,rootClassName:Xt,prefixCls:Ht,image:Ar=St,description:Cr,children:Dr,imageStyle:Ue,style:sn,classNames:Bn,styles:En}=Pt,Be=ot(Pt,["className","rootClassName","prefixCls","image","description","children","imageStyle","style","classNames","styles"]),{getPrefixCls:Gn,direction:In,className:Rn,style:pt,classNames:an,styles:Tn}=(0,xt.dj)("empty"),me=Gn("empty",Ht),[nn,bi,ui]=at(me),[$e]=(0,u.Z)("Empty"),Mn=typeof Cr!="undefined"?Cr:$e==null?void 0:$e.description,Kr=typeof Mn=="string"?Mn:"empty";let jr=null;return typeof Ar=="string"?jr=s.createElement("img",{alt:Kr,src:Ar}):jr=Ar,nn(s.createElement("div",Object.assign({className:J()(bi,ui,me,Rn,{[`${me}-normal`]:Ar===Ot,[`${me}-rtl`]:In==="rtl"},Ft,Xt,an.root,Bn==null?void 0:Bn.root),style:Object.assign(Object.assign(Object.assign(Object.assign({},Tn.root),pt),En==null?void 0:En.root),sn)},Be),s.createElement("div",{className:J()(`${me}-image`,an.image,Bn==null?void 0:Bn.image),style:Object.assign(Object.assign(Object.assign({},Ue),Tn.image),En==null?void 0:En.image)},jr),Mn&&s.createElement("div",{className:J()(`${me}-description`,an.description,Bn==null?void 0:Bn.description),style:Object.assign(Object.assign({},Tn.description),En==null?void 0:En.description)},Mn),Dr&&s.createElement("div",{className:J()(`${me}-footer`,an.footer,Bn==null?void 0:Bn.footer),style:Object.assign(Object.assign({},Tn.footer),En==null?void 0:En.footer)},Dr)))};Ge.PRESENTED_IMAGE_DEFAULT=St,Ge.PRESENTED_IMAGE_SIMPLE=Ot;var Qt=Ge},60824:function(Qr,Jt,j){"use strict";j.d(Jt,{RV:function(){return He},Rk:function(){return je},Ux:function(){return _e},aM:function(){return Le},pg:function(){return oe},q3:function(){return u},qI:function(){return Ie}});var s=j(75271),ht=j(93930),J=j(18051);const u=s.createContext({labelAlign:"right",vertical:!1,itemRef:()=>{}}),Ie=s.createContext(null),He=Ye=>{const ke=(0,J.Z)(Ye,["prefixCls"]);return s.createElement(ht.RV,Object.assign({},ke))},je=s.createContext({prefixCls:""}),Le=s.createContext({}),_e=Ye=>{let{children:ke,status:Xe,override:at}=Ye;const xt=s.useContext(Le),ot=s.useMemo(()=>{const St=Object.assign({},xt);return at&&delete St.isFormItemInput,Xe&&(delete St.status,delete St.hasFeedback,delete St.feedbackIcon),St},[Xe,at,xt]);return s.createElement(Le.Provider,{value:ot},ke)},oe=s.createContext(void 0)},7038:function(Qr,Jt,j){"use strict";var s=j(75271),ht=j(60824),J=j(98446);const u=function(Ie,He){let je=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;var Le,_e;const{variant:oe,[Ie]:Ye}=s.useContext(J.E_),ke=s.useContext(ht.pg),Xe=Ye==null?void 0:Ye.variant;let at;typeof He!="undefined"?at=He:je===!1?at="borderless":at=(_e=(Le=ke!=null?ke:Xe)!==null&&Le!==void 0?Le:oe)!==null&&_e!==void 0?_e:"outlined";const xt=J.tr.includes(at);return[at,xt]};Jt.Z=u},54735:function(Qr,Jt,j){"use strict";j.d(Jt,{Z:function(){return Zi}});var s=j(60824),ht=j(46865),J=j(75271),u=j(82187),Ie=j.n(u),He=j(62803),je=j(13635),Le=j(38437);function _e(ft){const[_n,Ut]=J.useState(ft);return J.useEffect(()=>{const bn=setTimeout(()=>{Ut(ft)},ft.length?0:10);return()=>{clearTimeout(bn)}},[ft]),_n}var oe=j(55921),Ye=j(34299),ke=j(3153),Xe=j(40894),at=j(83509),xt=j(84825),St=ft=>{const{componentCls:_n}=ft,Ut=`${_n}-show-help`,bn=`${_n}-show-help-item`;return{[Ut]:{transition:`opacity ${ft.motionDurationFast} ${ft.motionEaseInOut}`,"&-appear, &-enter":{opacity:0,"&-active":{opacity:1}},"&-leave":{opacity:1,"&-active":{opacity:0}},[bn]:{overflow:"hidden",transition:`height ${ft.motionDurationFast} ${ft.motionEaseInOut},
                     opacity ${ft.motionDurationFast} ${ft.motionEaseInOut},
                     transform ${ft.motionDurationFast} ${ft.motionEaseInOut} !important`,[`&${bn}-appear, &${bn}-enter`]:{transform:"translateY(-5px)",opacity:0,"&-active":{transform:"translateY(0)",opacity:1}},[`&${bn}-leave-active`]:{transform:"translateY(-5px)"}}}}};const Ot=ft=>({legend:{display:"block",width:"100%",marginBottom:ft.marginLG,padding:0,color:ft.colorTextDescription,fontSize:ft.fontSizeLG,lineHeight:"inherit",border:0,borderBottom:`${(0,oe.bf)(ft.lineWidth)} ${ft.lineType} ${ft.colorBorder}`},'input[type="search"]':{boxSizing:"border-box"},'input[type="radio"], input[type="checkbox"]':{lineHeight:"normal"},'input[type="file"]':{display:"block"},'input[type="range"]':{display:"block",width:"100%"},"select[multiple], select[size]":{height:"auto"},"input[type='file']:focus,\n  input[type='radio']:focus,\n  input[type='checkbox']:focus":{outline:0,boxShadow:`0 0 0 ${(0,oe.bf)(ft.controlOutlineWidth)} ${ft.controlOutline}`},output:{display:"block",paddingTop:15,color:ft.colorText,fontSize:ft.fontSize,lineHeight:ft.lineHeight}}),Ge=(ft,_n)=>{const{formItemCls:Ut}=ft;return{[Ut]:{[`${Ut}-label > label`]:{height:_n},[`${Ut}-control-input`]:{minHeight:_n}}}},Qt=ft=>{const{componentCls:_n}=ft;return{[ft.componentCls]:Object.assign(Object.assign(Object.assign({},(0,Ye.Wf)(ft)),Ot(ft)),{[`${_n}-text`]:{display:"inline-block",paddingInlineEnd:ft.paddingSM},"&-small":Object.assign({},Ge(ft,ft.controlHeightSM)),"&-large":Object.assign({},Ge(ft,ft.controlHeightLG))})}},Pt=ft=>{const{formItemCls:_n,iconCls:Ut,componentCls:bn,rootPrefixCls:sr,antCls:Yr,labelRequiredMarkColor:Ti,labelColor:ho,labelFontSize:zi,labelHeight:Ji,labelColonMarginInlineStart:uo,labelColonMarginInlineEnd:Ni,itemMarginBottom:Po}=ft;return{[_n]:Object.assign(Object.assign({},(0,Ye.Wf)(ft)),{marginBottom:Po,verticalAlign:"top","&-with-help":{transition:"none"},[`&-hidden,
        &-hidden${Yr}-row`]:{display:"none"},"&-has-warning":{[`${_n}-split`]:{color:ft.colorError}},"&-has-error":{[`${_n}-split`]:{color:ft.colorWarning}},[`${_n}-label`]:{flexGrow:0,overflow:"hidden",whiteSpace:"nowrap",textAlign:"end",verticalAlign:"middle","&-left":{textAlign:"start"},"&-wrap":{overflow:"unset",lineHeight:ft.lineHeight,whiteSpace:"unset"},"> label":{position:"relative",display:"inline-flex",alignItems:"center",maxWidth:"100%",height:Ji,color:ho,fontSize:zi,[`> ${Ut}`]:{fontSize:ft.fontSize,verticalAlign:"top"},[`&${_n}-required:not(${_n}-required-mark-optional)::before`]:{display:"inline-block",marginInlineEnd:ft.marginXXS,color:Ti,fontSize:ft.fontSize,fontFamily:"SimSun, sans-serif",lineHeight:1,content:'"*"',[`${bn}-hide-required-mark &`]:{display:"none"}},[`${_n}-optional`]:{display:"inline-block",marginInlineStart:ft.marginXXS,color:ft.colorTextDescription,[`${bn}-hide-required-mark &`]:{display:"none"}},[`${_n}-tooltip`]:{color:ft.colorTextDescription,cursor:"help",writingMode:"horizontal-tb",marginInlineStart:ft.marginXXS},"&::after":{content:'":"',position:"relative",marginBlock:0,marginInlineStart:uo,marginInlineEnd:Ni},[`&${_n}-no-colon::after`]:{content:'"\\a0"'}}},[`${_n}-control`]:{"--ant-display":"flex",flexDirection:"column",flexGrow:1,[`&:first-child:not([class^="'${sr}-col-'"]):not([class*="' ${sr}-col-'"])`]:{width:"100%"},"&-input":{position:"relative",display:"flex",alignItems:"center",minHeight:ft.controlHeight,"&-content":{flex:"auto",maxWidth:"100%"}}},[_n]:{"&-additional":{display:"flex",flexDirection:"column"},"&-explain, &-extra":{clear:"both",color:ft.colorTextDescription,fontSize:ft.fontSize,lineHeight:ft.lineHeight},"&-explain-connected":{width:"100%"},"&-extra":{minHeight:ft.controlHeightSM,transition:`color ${ft.motionDurationMid} ${ft.motionEaseOut}`},"&-explain":{"&-error":{color:ft.colorError},"&-warning":{color:ft.colorWarning}}},[`&-with-help ${_n}-explain`]:{height:"auto",opacity:1},[`${_n}-feedback-icon`]:{fontSize:ft.fontSize,textAlign:"center",visibility:"visible",animationName:ke.kr,animationDuration:ft.motionDurationMid,animationTimingFunction:ft.motionEaseOutBack,pointerEvents:"none","&-success":{color:ft.colorSuccess},"&-error":{color:ft.colorError},"&-warning":{color:ft.colorWarning},"&-validating":{color:ft.colorPrimary}}})}},Ft=(ft,_n)=>{const{formItemCls:Ut}=ft;return{[`${_n}-horizontal`]:{[`${Ut}-label`]:{flexGrow:0},[`${Ut}-control`]:{flex:"1 1 0",minWidth:0},[`${Ut}-label[class$='-24'], ${Ut}-label[class*='-24 ']`]:{[`& + ${Ut}-control`]:{minWidth:"unset"}}}}},Xt=ft=>{const{componentCls:_n,formItemCls:Ut,inlineItemMarginBottom:bn}=ft;return{[`${_n}-inline`]:{display:"flex",flexWrap:"wrap",[Ut]:{flex:"none",marginInlineEnd:ft.margin,marginBottom:bn,"&-row":{flexWrap:"nowrap"},[`> ${Ut}-label,
        > ${Ut}-control`]:{display:"inline-block",verticalAlign:"top"},[`> ${Ut}-label`]:{flex:"none"},[`${_n}-text`]:{display:"inline-block"},[`${Ut}-has-feedback`]:{display:"inline-block"}}}}},Ht=ft=>({padding:ft.verticalLabelPadding,margin:ft.verticalLabelMargin,whiteSpace:"initial",textAlign:"start","> label":{margin:0,"&::after":{visibility:"hidden"}}}),Ar=ft=>{const{componentCls:_n,formItemCls:Ut,rootPrefixCls:bn}=ft;return{[`${Ut} ${Ut}-label`]:Ht(ft),[`${_n}:not(${_n}-inline)`]:{[Ut]:{flexWrap:"wrap",[`${Ut}-label, ${Ut}-control`]:{[`&:not([class*=" ${bn}-col-xs"])`]:{flex:"0 0 100%",maxWidth:"100%"}}}}}},Cr=ft=>{const{componentCls:_n,formItemCls:Ut,antCls:bn}=ft;return{[`${_n}-vertical`]:{[`${Ut}:not(${Ut}-horizontal)`]:{[`${Ut}-row`]:{flexDirection:"column"},[`${Ut}-label > label`]:{height:"auto"},[`${Ut}-control`]:{width:"100%"},[`${Ut}-label,
        ${bn}-col-24${Ut}-label,
        ${bn}-col-xl-24${Ut}-label`]:Ht(ft)}},[`@media (max-width: ${(0,oe.bf)(ft.screenXSMax)})`]:[Ar(ft),{[_n]:{[`${Ut}:not(${Ut}-horizontal)`]:{[`${bn}-col-xs-24${Ut}-label`]:Ht(ft)}}}],[`@media (max-width: ${(0,oe.bf)(ft.screenSMMax)})`]:{[_n]:{[`${Ut}:not(${Ut}-horizontal)`]:{[`${bn}-col-sm-24${Ut}-label`]:Ht(ft)}}},[`@media (max-width: ${(0,oe.bf)(ft.screenMDMax)})`]:{[_n]:{[`${Ut}:not(${Ut}-horizontal)`]:{[`${bn}-col-md-24${Ut}-label`]:Ht(ft)}}},[`@media (max-width: ${(0,oe.bf)(ft.screenLGMax)})`]:{[_n]:{[`${Ut}:not(${Ut}-horizontal)`]:{[`${bn}-col-lg-24${Ut}-label`]:Ht(ft)}}}}},Dr=ft=>{const{formItemCls:_n,antCls:Ut}=ft;return{[`${_n}-vertical`]:{[`${_n}-row`]:{flexDirection:"column"},[`${_n}-label > label`]:{height:"auto"},[`${_n}-control`]:{width:"100%"}},[`${_n}-vertical ${_n}-label,
      ${Ut}-col-24${_n}-label,
      ${Ut}-col-xl-24${_n}-label`]:Ht(ft),[`@media (max-width: ${(0,oe.bf)(ft.screenXSMax)})`]:[Ar(ft),{[_n]:{[`${Ut}-col-xs-24${_n}-label`]:Ht(ft)}}],[`@media (max-width: ${(0,oe.bf)(ft.screenSMMax)})`]:{[_n]:{[`${Ut}-col-sm-24${_n}-label`]:Ht(ft)}},[`@media (max-width: ${(0,oe.bf)(ft.screenMDMax)})`]:{[_n]:{[`${Ut}-col-md-24${_n}-label`]:Ht(ft)}},[`@media (max-width: ${(0,oe.bf)(ft.screenLGMax)})`]:{[_n]:{[`${Ut}-col-lg-24${_n}-label`]:Ht(ft)}}}},Ue=ft=>({labelRequiredMarkColor:ft.colorError,labelColor:ft.colorTextHeading,labelFontSize:ft.fontSize,labelHeight:ft.controlHeight,labelColonMarginInlineStart:ft.marginXXS/2,labelColonMarginInlineEnd:ft.marginXS,itemMarginBottom:ft.marginLG,verticalLabelPadding:`0 0 ${ft.paddingXS}px`,verticalLabelMargin:0,inlineItemMarginBottom:0}),sn=(ft,_n)=>(0,at.IX)(ft,{formItemCls:`${ft.componentCls}-item`,rootPrefixCls:_n});var Bn=(0,xt.I$)("Form",(ft,_n)=>{let{rootPrefixCls:Ut}=_n;const bn=sn(ft,Ut);return[Qt(bn),Pt(bn),St(bn),Ft(bn,bn.componentCls),Ft(bn,bn.formItemCls),Xt(bn),Cr(bn),Dr(bn),(0,Xe.Z)(bn),ke.kr]},Ue,{order:-1e3});const En=[];function Be(ft,_n,Ut){let bn=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return{key:typeof ft=="string"?ft:`${_n}-${bn}`,error:ft,errorStatus:Ut}}var In=ft=>{let{help:_n,helpStatus:Ut,errors:bn=En,warnings:sr=En,className:Yr,fieldId:Ti,onVisibleChanged:ho}=ft;const{prefixCls:zi}=J.useContext(s.Rk),Ji=`${zi}-item-explain`,uo=(0,Le.Z)(zi),[Ni,Po,Vo]=Bn(zi,uo),$o=J.useMemo(()=>(0,je.Z)(zi),[zi]),_o=_e(bn),Oo=_e(sr),zo=J.useMemo(()=>_n!=null?[Be(_n,"help",Ut)]:[].concat((0,ht.Z)(_o.map((wo,go)=>Be(wo,"error","error",go))),(0,ht.Z)(Oo.map((wo,go)=>Be(wo,"warning","warning",go)))),[_n,Ut,_o,Oo]),qo=J.useMemo(()=>{const wo={};return zo.forEach(go=>{let{key:so}=go;wo[so]=(wo[so]||0)+1}),zo.map((go,so)=>Object.assign(Object.assign({},go),{key:wo[go.key]>1?`${go.key}-fallback-${so}`:go.key}))},[zo]),oo={};return Ti&&(oo.id=`${Ti}_help`),Ni(J.createElement(He.ZP,{motionDeadline:$o.motionDeadline,motionName:`${zi}-show-help`,visible:!!qo.length,onVisibleChanged:ho},wo=>{const{className:go,style:so}=wo;return J.createElement("div",Object.assign({},oo,{className:Ie()(Ji,go,Vo,uo,Yr,Po),style:so}),J.createElement(He.V4,Object.assign({keys:qo},(0,je.Z)(zi),{motionName:`${zi}-show-help-item`,component:!1}),to=>{const{key:ko,error:Pr,errorStatus:Ho,className:ha,style:za}=to;return J.createElement("div",{key:ko,className:Ie()(ha,{[`${Ji}-${Ho}`]:Ho}),style:za},Pr)}))}))},Rn=j(93930),pt=j(98446),an=j(98472),Tn=j(95741),me=j(10497),nn=j(4525),bi=j(56680);const ui=["parentNode"],$e="form_item";function Mn(ft){return ft===void 0||ft===!1?[]:Array.isArray(ft)?ft:[ft]}function Kr(ft,_n){if(!ft.length)return;const Ut=ft.join("_");return _n?`${_n}_${Ut}`:ui.includes(Ut)?`${$e}_${Ut}`:Ut}function jr(ft,_n,Ut,bn,sr,Yr){let Ti=bn;return Yr!==void 0?Ti=Yr:Ut.validating?Ti="validating":ft.length?Ti="error":_n.length?Ti="warning":(Ut.touched||sr&&Ut.validated)&&(Ti="success"),Ti}var Sn=function(ft,_n){var Ut={};for(var bn in ft)Object.prototype.hasOwnProperty.call(ft,bn)&&_n.indexOf(bn)<0&&(Ut[bn]=ft[bn]);if(ft!=null&&typeof Object.getOwnPropertySymbols=="function")for(var sr=0,bn=Object.getOwnPropertySymbols(ft);sr<bn.length;sr++)_n.indexOf(bn[sr])<0&&Object.prototype.propertyIsEnumerable.call(ft,bn[sr])&&(Ut[bn[sr]]=ft[bn[sr]]);return Ut};function Fr(ft){return Mn(ft).join("_")}function Ii(ft,_n){const Ut=_n.getFieldInstance(ft),bn=(0,nn.bn)(Ut);if(bn)return bn;const sr=Kr(Mn(ft),_n.__INTERNAL__.name);if(sr)return document.getElementById(sr)}function fr(ft){const[_n]=(0,Rn.cI)(),Ut=J.useRef({}),bn=J.useMemo(()=>ft!=null?ft:Object.assign(Object.assign({},_n),{__INTERNAL__:{itemRef:sr=>Yr=>{const Ti=Fr(sr);Yr?Ut.current[Ti]=Yr:delete Ut.current[Ti]}},scrollToField:function(sr){let Yr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{focus:Ti}=Yr,ho=Sn(Yr,["focus"]),zi=Ii(sr,bn);zi&&((0,bi.Z)(zi,Object.assign({scrollMode:"if-needed",block:"nearest"},ho)),Ti&&bn.focusField(sr))},focusField:sr=>{var Yr,Ti;const ho=bn.getFieldInstance(sr);typeof(ho==null?void 0:ho.focus)=="function"?ho.focus():(Ti=(Yr=Ii(sr,bn))===null||Yr===void 0?void 0:Yr.focus)===null||Ti===void 0||Ti.call(Yr)},getFieldInstance:sr=>{const Yr=Fr(sr);return Ut.current[Yr]}}),[ft,_n]);return[bn]}var st=j(63613),jt=function(ft,_n){var Ut={};for(var bn in ft)Object.prototype.hasOwnProperty.call(ft,bn)&&_n.indexOf(bn)<0&&(Ut[bn]=ft[bn]);if(ft!=null&&typeof Object.getOwnPropertySymbols=="function")for(var sr=0,bn=Object.getOwnPropertySymbols(ft);sr<bn.length;sr++)_n.indexOf(bn[sr])<0&&Object.prototype.propertyIsEnumerable.call(ft,bn[sr])&&(Ut[bn[sr]]=ft[bn[sr]]);return Ut};const Fn=(ft,_n)=>{const Ut=J.useContext(an.Z),{getPrefixCls:bn,direction:sr,requiredMark:Yr,colon:Ti,scrollToFirstError:ho,className:zi,style:Ji}=(0,pt.dj)("form"),{prefixCls:uo,className:Ni,rootClassName:Po,size:Vo,disabled:$o=Ut,form:_o,colon:Oo,labelAlign:zo,labelWrap:qo,labelCol:oo,wrapperCol:wo,hideRequiredMark:go,layout:so="horizontal",scrollToFirstError:to,requiredMark:ko,onFinishFailed:Pr,name:Ho,style:ha,feedbackIcons:za,variant:Vi}=ft,ma=jt(ft,["prefixCls","className","rootClassName","size","disabled","form","colon","labelAlign","labelWrap","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name","style","feedbackIcons","variant"]),qa=(0,Tn.Z)(Vo),Jr=J.useContext(st.Z),vo=J.useMemo(()=>ko!==void 0?ko:go?!1:Yr!==void 0?Yr:!0,[go,ko,Yr]),Ao=Oo!=null?Oo:Ti,Yo=bn("form",uo),co=(0,Le.Z)(Yo),[Ai,ga,jo]=Bn(Yo,co),en=Ie()(Yo,`${Yo}-${so}`,{[`${Yo}-hide-required-mark`]:vo===!1,[`${Yo}-rtl`]:sr==="rtl",[`${Yo}-${qa}`]:qa},jo,co,ga,zi,Ni,Po),[Ve]=fr(_o),{__INTERNAL__:be}=Ve;be.name=Ho;const Ze=J.useMemo(()=>({name:Ho,labelAlign:zo,labelCol:oo,labelWrap:qo,wrapperCol:wo,vertical:so==="vertical",colon:Ao,requiredMark:vo,itemRef:be.itemRef,form:Ve,feedbackIcons:za}),[Ho,zo,oo,wo,so,Ao,vo,Ve,za]),De=J.useRef(null);J.useImperativeHandle(_n,()=>{var Wn;return Object.assign(Object.assign({},Ve),{nativeElement:(Wn=De.current)===null||Wn===void 0?void 0:Wn.nativeElement})});const $t=(Wn,pr)=>{if(Wn){let ir={block:"nearest"};typeof Wn=="object"&&(ir=Object.assign(Object.assign({},ir),Wn)),Ve.scrollToField(pr,ir)}},tn=Wn=>{if(Pr==null||Pr(Wn),Wn.errorFields.length){const pr=Wn.errorFields[0].name;if(to!==void 0){$t(to,pr);return}ho!==void 0&&$t(ho,pr)}};return Ai(J.createElement(s.pg.Provider,{value:Vi},J.createElement(an.n,{disabled:$o},J.createElement(me.Z.Provider,{value:qa},J.createElement(s.RV,{validateMessages:Jr},J.createElement(s.q3.Provider,{value:Ze},J.createElement(Rn.ZP,Object.assign({id:Ho},ma,{name:Ho,onFinishFailed:tn,form:Ve,ref:De,style:Object.assign(Object.assign({},Ji),ha),className:en}))))))))};var pn=J.forwardRef(Fn),Sr=j(60784),Vn=j(42684),Xr=j(26021),ri=j(87117),Zr=j(81626);function ei(ft){if(typeof ft=="function")return ft;const _n=(0,Zr.Z)(ft);return _n.length<=1?_n[0]:_n}const vr=()=>{const{status:ft,errors:_n=[],warnings:Ut=[]}=J.useContext(s.aM);return{status:ft,errors:_n,warnings:Ut}};vr.Context=s.aM;var hr=vr,ur=j(49975);function wr(ft){const[_n,Ut]=J.useState(ft),bn=J.useRef(null),sr=J.useRef([]),Yr=J.useRef(!1);J.useEffect(()=>(Yr.current=!1,()=>{Yr.current=!0,ur.Z.cancel(bn.current),bn.current=null}),[]);function Ti(ho){Yr.current||(bn.current===null&&(sr.current=[],bn.current=(0,ur.Z)(()=>{bn.current=null,Ut(zi=>{let Ji=zi;return sr.current.forEach(uo=>{Ji=uo(Ji)}),Ji})})),sr.current.push(ho))}return[_n,Ti]}function yr(){const{itemRef:ft}=J.useContext(s.q3),_n=J.useRef({});function Ut(bn,sr){const Yr=sr&&typeof sr=="object"&&(0,Vn.C4)(sr),Ti=bn.join("_");return(_n.current.name!==Ti||_n.current.originRef!==Yr)&&(_n.current.name=Ti,_n.current.originRef=Yr,_n.current.ref=(0,Vn.sQ)(ft(bn),Yr)),_n.current.ref}return Ut}var Nr=j(60900),Xn=j(92076),lr=j(18051),Ur=j(78769),Ln=j(22217),_i=j(11365);const fi=ft=>{const{formItemCls:_n}=ft;return{"@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none)":{[`${_n}-control`]:{display:"flex"}}}};var Wi=(0,xt.bk)(["Form","item-item"],(ft,_n)=>{let{rootPrefixCls:Ut}=_n;const bn=sn(ft,Ut);return[fi(bn)]}),po=function(ft,_n){var Ut={};for(var bn in ft)Object.prototype.hasOwnProperty.call(ft,bn)&&_n.indexOf(bn)<0&&(Ut[bn]=ft[bn]);if(ft!=null&&typeof Object.getOwnPropertySymbols=="function")for(var sr=0,bn=Object.getOwnPropertySymbols(ft);sr<bn.length;sr++)_n.indexOf(bn[sr])<0&&Object.prototype.propertyIsEnumerable.call(ft,bn[sr])&&(Ut[bn[sr]]=ft[bn[sr]]);return Ut};const kr=24;var qt=ft=>{const{prefixCls:_n,status:Ut,labelCol:bn,wrapperCol:sr,children:Yr,errors:Ti,warnings:ho,_internalItemRender:zi,extra:Ji,help:uo,fieldId:Ni,marginBottom:Po,onErrorVisibleChanged:Vo,label:$o}=ft,_o=`${_n}-item`,Oo=J.useContext(s.q3),zo=J.useMemo(()=>{let ma=Object.assign({},sr||Oo.wrapperCol||{});return $o===null&&!bn&&!sr&&Oo.labelCol&&[void 0,"xs","sm","md","lg","xl","xxl"].forEach(Jr=>{const vo=Jr?[Jr]:[],Ao=(0,Ln.U2)(Oo.labelCol,vo),Yo=typeof Ao=="object"?Ao:{},co=(0,Ln.U2)(ma,vo),Ai=typeof co=="object"?co:{};"span"in Yo&&!("offset"in Ai)&&Yo.span<kr&&(ma=(0,Ln.t8)(ma,[].concat(vo,["offset"]),Yo.span))}),ma},[sr,Oo]),qo=Ie()(`${_o}-control`,zo.className),oo=J.useMemo(()=>{const{labelCol:ma,wrapperCol:qa}=Oo;return po(Oo,["labelCol","wrapperCol"])},[Oo]),wo=J.useRef(null),[go,so]=J.useState(0);(0,Xn.Z)(()=>{Ji&&wo.current?so(wo.current.clientHeight):so(0)},[Ji]);const to=J.createElement("div",{className:`${_o}-control-input`},J.createElement("div",{className:`${_o}-control-input-content`},Yr)),ko=J.useMemo(()=>({prefixCls:_n,status:Ut}),[_n,Ut]),Pr=Po!==null||Ti.length||ho.length?J.createElement(s.Rk.Provider,{value:ko},J.createElement(In,{fieldId:Ni,errors:Ti,warnings:ho,help:uo,helpStatus:Ut,className:`${_o}-explain-connected`,onVisibleChanged:Vo})):null,Ho={};Ni&&(Ho.id=`${Ni}_extra`);const ha=Ji?J.createElement("div",Object.assign({},Ho,{className:`${_o}-extra`,ref:wo}),Ji):null,za=Pr||ha?J.createElement("div",{className:`${_o}-additional`,style:Po?{minHeight:Po+go}:{}},Pr,ha):null,Vi=zi&&zi.mark==="pro_table_render"&&zi.render?zi.render(ft,{input:to,errorList:Pr,extra:ha}):J.createElement(J.Fragment,null,to,za);return J.createElement(s.q3.Provider,{value:oo},J.createElement(_i.Z,Object.assign({},zo,{className:qo}),Vi),J.createElement(Wi,{prefixCls:_n}))},xn=j(23022),Jn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"},$r=Jn,li=j(23738),ii=function(_n,Ut){return J.createElement(li.Z,(0,xn.Z)({},_n,{ref:Ut,icon:$r}))},Ki=J.forwardRef(ii),eo=Ki,Ro=j(77648),So=j(42474),io=j(9202),Pe=function(ft,_n){var Ut={};for(var bn in ft)Object.prototype.hasOwnProperty.call(ft,bn)&&_n.indexOf(bn)<0&&(Ut[bn]=ft[bn]);if(ft!=null&&typeof Object.getOwnPropertySymbols=="function")for(var sr=0,bn=Object.getOwnPropertySymbols(ft);sr<bn.length;sr++)_n.indexOf(bn[sr])<0&&Object.prototype.propertyIsEnumerable.call(ft,bn[sr])&&(Ut[bn[sr]]=ft[bn[sr]]);return Ut};function de(ft){return ft?typeof ft=="object"&&!J.isValidElement(ft)?ft:{title:ft}:null}var Ne=ft=>{let{prefixCls:_n,label:Ut,htmlFor:bn,labelCol:sr,labelAlign:Yr,colon:Ti,required:ho,requiredMark:zi,tooltip:Ji,vertical:uo}=ft;var Ni;const[Po]=(0,Ro.Z)("Form"),{labelAlign:Vo,labelCol:$o,labelWrap:_o,colon:Oo}=J.useContext(s.q3);if(!Ut)return null;const zo=sr||$o||{},qo=Yr||Vo,oo=`${_n}-item-label`,wo=Ie()(oo,qo==="left"&&`${oo}-left`,zo.className,{[`${oo}-wrap`]:!!_o});let go=Ut;const so=Ti===!0||Oo!==!1&&Ti!==!1;so&&!uo&&typeof Ut=="string"&&Ut.trim()&&(go=Ut.replace(/[:|]\s*$/,""));const ko=de(Ji);if(ko){const{icon:za=J.createElement(eo,null)}=ko,Vi=Pe(ko,["icon"]),ma=J.createElement(io.Z,Object.assign({},Vi),J.cloneElement(za,{className:`${_n}-item-tooltip`,title:"",onClick:qa=>{qa.preventDefault()},tabIndex:null}));go=J.createElement(J.Fragment,null,go,ma)}const Pr=zi==="optional",Ho=typeof zi=="function";Ho?go=zi(go,{required:!!ho}):Pr&&!ho&&(go=J.createElement(J.Fragment,null,go,J.createElement("span",{className:`${_n}-item-optional`,title:""},(Po==null?void 0:Po.optional)||((Ni=So.Z.Form)===null||Ni===void 0?void 0:Ni.optional))));const ha=Ie()({[`${_n}-item-required`]:ho,[`${_n}-item-required-mark-optional`]:Pr||Ho,[`${_n}-item-no-colon`]:!so});return J.createElement(_i.Z,Object.assign({},zo,{className:wo}),J.createElement("label",{htmlFor:bn,className:ha,title:typeof Ut=="string"?Ut:""},go))},Je=j(4692),ge=j(75434),dt=j(64267),_t=j(24573);const Tt={success:Je.Z,warning:dt.Z,error:ge.Z,validating:_t.Z};function Yt(ft){let{children:_n,errors:Ut,warnings:bn,hasFeedback:sr,validateStatus:Yr,prefixCls:Ti,meta:ho,noStyle:zi}=ft;const Ji=`${Ti}-item`,{feedbackIcons:uo}=J.useContext(s.q3),Ni=jr(Ut,bn,ho,null,!!sr,Yr),{isFormItemInput:Po,status:Vo,hasFeedback:$o,feedbackIcon:_o}=J.useContext(s.aM),Oo=J.useMemo(()=>{var zo;let qo;if(sr){const wo=sr!==!0&&sr.icons||uo,go=Ni&&((zo=wo==null?void 0:wo({status:Ni,errors:Ut,warnings:bn}))===null||zo===void 0?void 0:zo[Ni]),so=Ni&&Tt[Ni];qo=go!==!1&&so?J.createElement("span",{className:Ie()(`${Ji}-feedback-icon`,`${Ji}-feedback-icon-${Ni}`)},go||J.createElement(so,null)):null}const oo={status:Ni||"",errors:Ut,warnings:bn,hasFeedback:!!sr,feedbackIcon:qo,isFormItemInput:!0};return zi&&(oo.status=(Ni!=null?Ni:Vo)||"",oo.isFormItemInput=Po,oo.hasFeedback=!!(sr!=null?sr:$o),oo.feedbackIcon=sr!==void 0?oo.feedbackIcon:_o),oo},[Ni,sr,zi,Po,Vo]);return J.createElement(s.aM.Provider,{value:Oo},_n)}var hn=function(ft,_n){var Ut={};for(var bn in ft)Object.prototype.hasOwnProperty.call(ft,bn)&&_n.indexOf(bn)<0&&(Ut[bn]=ft[bn]);if(ft!=null&&typeof Object.getOwnPropertySymbols=="function")for(var sr=0,bn=Object.getOwnPropertySymbols(ft);sr<bn.length;sr++)_n.indexOf(bn[sr])<0&&Object.prototype.propertyIsEnumerable.call(ft,bn[sr])&&(Ut[bn[sr]]=ft[bn[sr]]);return Ut};function We(ft){const{prefixCls:_n,className:Ut,rootClassName:bn,style:sr,help:Yr,errors:Ti,warnings:ho,validateStatus:zi,meta:Ji,hasFeedback:uo,hidden:Ni,children:Po,fieldId:Vo,required:$o,isRequired:_o,onSubItemMetaChange:Oo,layout:zo}=ft,qo=hn(ft,["prefixCls","className","rootClassName","style","help","errors","warnings","validateStatus","meta","hasFeedback","hidden","children","fieldId","required","isRequired","onSubItemMetaChange","layout"]),oo=`${_n}-item`,{requiredMark:wo,vertical:go}=J.useContext(s.q3),so=go||zo==="vertical",to=J.useRef(null),ko=_e(Ti),Pr=_e(ho),Ho=Yr!=null,ha=!!(Ho||Ti.length||ho.length),za=!!to.current&&(0,Nr.Z)(to.current),[Vi,ma]=J.useState(null);(0,Xn.Z)(()=>{if(ha&&to.current){const Yo=getComputedStyle(to.current);ma(parseInt(Yo.marginBottom,10))}},[ha,za]);const qa=Yo=>{Yo||ma(null)},vo=function(){let Yo=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const co=Yo?ko:Ji.errors,Ai=Yo?Pr:Ji.warnings;return jr(co,Ai,Ji,"",!!uo,zi)}(),Ao=Ie()(oo,Ut,bn,{[`${oo}-with-help`]:Ho||ko.length||Pr.length,[`${oo}-has-feedback`]:vo&&uo,[`${oo}-has-success`]:vo==="success",[`${oo}-has-warning`]:vo==="warning",[`${oo}-has-error`]:vo==="error",[`${oo}-is-validating`]:vo==="validating",[`${oo}-hidden`]:Ni,[`${oo}-${zo}`]:zo});return J.createElement("div",{className:Ao,style:sr,ref:to},J.createElement(Ur.Z,Object.assign({className:`${oo}-row`},(0,lr.Z)(qo,["_internalItemRender","colon","dependencies","extra","fieldKey","getValueFromEvent","getValueProps","htmlFor","id","initialValue","isListField","label","labelAlign","labelCol","labelWrap","messageVariables","name","normalize","noStyle","preserve","requiredMark","rules","shouldUpdate","trigger","tooltip","validateFirst","validateTrigger","valuePropName","wrapperCol","validateDebounce"])),J.createElement(Ne,Object.assign({htmlFor:Vo},ft,{requiredMark:wo,required:$o!=null?$o:_o,prefixCls:_n,vertical:so})),J.createElement(qt,Object.assign({},ft,Ji,{errors:ko,warnings:Pr,prefixCls:_n,status:vo,help:Yr,marginBottom:Vi,onErrorVisibleChanged:qa}),J.createElement(s.qI.Provider,{value:Oo},J.createElement(Yt,{prefixCls:_n,meta:Ji,errors:Ji.errors,warnings:Ji.warnings,hasFeedback:uo,validateStatus:vo},Po)))),!!Vi&&J.createElement("div",{className:`${oo}-margin-offset`,style:{marginBottom:-Vi}}))}const Et="__SPLIT__",kt=null;function Kt(ft,_n){const Ut=Object.keys(ft),bn=Object.keys(_n);return Ut.length===bn.length&&Ut.every(sr=>{const Yr=ft[sr],Ti=_n[sr];return Yr===Ti||typeof Yr=="function"||typeof Ti=="function"})}const rt=J.memo(ft=>{let{children:_n}=ft;return _n},(ft,_n)=>Kt(ft.control,_n.control)&&ft.update===_n.update&&ft.childProps.length===_n.childProps.length&&ft.childProps.every((Ut,bn)=>Ut===_n.childProps[bn]));function Qe(){return{errors:[],warnings:[],touched:!1,validating:!1,name:[],validated:!1}}function gn(ft){const{name:_n,noStyle:Ut,className:bn,dependencies:sr,prefixCls:Yr,shouldUpdate:Ti,rules:ho,children:zi,required:Ji,label:uo,messageVariables:Ni,trigger:Po="onChange",validateTrigger:Vo,hidden:$o,help:_o,layout:Oo}=ft,{getPrefixCls:zo}=J.useContext(pt.E_),{name:qo}=J.useContext(s.q3),oo=ei(zi),wo=typeof oo=="function",go=J.useContext(s.qI),{validateTrigger:so}=J.useContext(Rn.zb),to=Vo!==void 0?Vo:so,ko=_n!=null,Pr=zo("form",Yr),Ho=(0,Le.Z)(Pr),[ha,za,Vi]=Bn(Pr,Ho),ma=(0,ri.ln)("Form.Item"),qa=J.useContext(Rn.ZM),Jr=J.useRef(null),[vo,Ao]=wr({}),[Yo,co]=(0,Sr.Z)(()=>Qe()),Ai=De=>{const $t=qa==null?void 0:qa.getKey(De.name);if(co(De.destroy?Qe():De,!0),Ut&&_o!==!1&&go){let tn=De.name;if(De.destroy)tn=Jr.current||tn;else if($t!==void 0){const[Wn,pr]=$t;tn=[Wn].concat((0,ht.Z)(pr)),Jr.current=tn}go(De,tn)}},ga=(De,$t)=>{Ao(tn=>{const Wn=Object.assign({},tn),ir=[].concat((0,ht.Z)(De.name.slice(0,-1)),(0,ht.Z)($t)).join(Et);return De.destroy?delete Wn[ir]:Wn[ir]=De,Wn})},[jo,en]=J.useMemo(()=>{const De=(0,ht.Z)(Yo.errors),$t=(0,ht.Z)(Yo.warnings);return Object.values(vo).forEach(tn=>{De.push.apply(De,(0,ht.Z)(tn.errors||[])),$t.push.apply($t,(0,ht.Z)(tn.warnings||[]))}),[De,$t]},[vo,Yo.errors,Yo.warnings]),Ve=yr();function be(De,$t,tn){return Ut&&!$o?J.createElement(Yt,{prefixCls:Pr,hasFeedback:ft.hasFeedback,validateStatus:ft.validateStatus,meta:Yo,errors:jo,warnings:en,noStyle:!0},De):J.createElement(We,Object.assign({key:"row"},ft,{className:Ie()(bn,Vi,Ho,za),prefixCls:Pr,fieldId:$t,isRequired:tn,errors:jo,warnings:en,meta:Yo,onSubItemMetaChange:ga,layout:Oo}),De)}if(!ko&&!wo&&!sr)return ha(be(oo));let Ze={};return typeof uo=="string"?Ze.label=uo:_n&&(Ze.label=String(_n)),Ni&&(Ze=Object.assign(Object.assign({},Ze),Ni)),ha(J.createElement(Rn.gN,Object.assign({},ft,{messageVariables:Ze,trigger:Po,validateTrigger:to,onMetaChange:Ai}),(De,$t,tn)=>{const Wn=Mn(_n).length&&$t?$t.name:[],pr=Kr(Wn,qo),ir=Ji!==void 0?Ji:!!(ho!=null&&ho.some(Si=>{if(Si&&typeof Si=="object"&&Si.required&&!Si.warningOnly)return!0;if(typeof Si=="function"){const Ci=Si(tn);return(Ci==null?void 0:Ci.required)&&!(Ci!=null&&Ci.warningOnly)}return!1})),rr=Object.assign({},De);let Vr=null;if(Array.isArray(oo)&&ko)Vr=oo;else if(!(wo&&(!(Ti||sr)||ko))){if(!(sr&&!wo&&!ko))if(J.isValidElement(oo)){const Si=Object.assign(Object.assign({},oo.props),rr);if(Si.id||(Si.id=pr),_o||jo.length>0||en.length>0||ft.extra){const wi=[];(_o||jo.length>0)&&wi.push(`${pr}_help`),ft.extra&&wi.push(`${pr}_extra`),Si["aria-describedby"]=wi.join(" ")}jo.length>0&&(Si["aria-invalid"]="true"),ir&&(Si["aria-required"]="true"),(0,Vn.Yr)(oo)&&(Si.ref=Ve(Wn,oo)),new Set([].concat((0,ht.Z)(Mn(Po)),(0,ht.Z)(Mn(to)))).forEach(wi=>{Si[wi]=function(){for(var ti,Ri,$i,yo,Qo,aa=arguments.length,Ea=new Array(aa),Ma=0;Ma<aa;Ma++)Ea[Ma]=arguments[Ma];($i=rr[wi])===null||$i===void 0||(ti=$i).call.apply(ti,[rr].concat(Ea)),(Qo=(yo=oo.props)[wi])===null||Qo===void 0||(Ri=Qo).call.apply(Ri,[yo].concat(Ea))}});const pi=[Si["aria-required"],Si["aria-invalid"],Si["aria-describedby"]];Vr=J.createElement(rt,{control:rr,update:oo,childProps:pi},(0,Xr.Tm)(oo,Si))}else wo&&(Ti||sr)&&!ko?Vr=oo(tn):Vr=oo}return be(Vr,pr,ir)}))}const mn=gn;mn.useStatus=hr;var kn=mn,br=function(ft,_n){var Ut={};for(var bn in ft)Object.prototype.hasOwnProperty.call(ft,bn)&&_n.indexOf(bn)<0&&(Ut[bn]=ft[bn]);if(ft!=null&&typeof Object.getOwnPropertySymbols=="function")for(var sr=0,bn=Object.getOwnPropertySymbols(ft);sr<bn.length;sr++)_n.indexOf(bn[sr])<0&&Object.prototype.propertyIsEnumerable.call(ft,bn[sr])&&(Ut[bn[sr]]=ft[bn[sr]]);return Ut},Mr=ft=>{var{prefixCls:_n,children:Ut}=ft,bn=br(ft,["prefixCls","children"]);const{getPrefixCls:sr}=J.useContext(pt.E_),Yr=sr("form",_n),Ti=J.useMemo(()=>({prefixCls:Yr,status:"error"}),[Yr]);return J.createElement(Rn.aV,Object.assign({},bn),(ho,zi,Ji)=>J.createElement(s.Rk.Provider,{value:Ti},Ut(ho.map(uo=>Object.assign(Object.assign({},uo),{fieldKey:uo.key})),zi,{errors:Ji.errors,warnings:Ji.warnings})))};function qr(){const{form:ft}=J.useContext(s.q3);return ft}const oi=pn;oi.Item=kn,oi.List=Mr,oi.ErrorList=In,oi.useForm=fr,oi.useFormInstance=qr,oi.useWatch=Rn.qo,oi.Provider=s.RV,oi.create=()=>{};var Zi=oi},63613:function(Qr,Jt,j){"use strict";var s=j(75271);Jt.Z=(0,s.createContext)(void 0)},60017:function(Qr,Jt,j){"use strict";var s=j(75271);const ht=(0,s.createContext)({});Jt.Z=ht},11365:function(Qr,Jt,j){"use strict";var s=j(75271),ht=j(82187),J=j.n(ht),u=j(98446),Ie=j(60017),He=j(40672),je=function(Ye,ke){var Xe={};for(var at in Ye)Object.prototype.hasOwnProperty.call(Ye,at)&&ke.indexOf(at)<0&&(Xe[at]=Ye[at]);if(Ye!=null&&typeof Object.getOwnPropertySymbols=="function")for(var xt=0,at=Object.getOwnPropertySymbols(Ye);xt<at.length;xt++)ke.indexOf(at[xt])<0&&Object.prototype.propertyIsEnumerable.call(Ye,at[xt])&&(Xe[at[xt]]=Ye[at[xt]]);return Xe};function Le(Ye){return typeof Ye=="number"?`${Ye} ${Ye} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(Ye)?`0 0 ${Ye}`:Ye}const _e=["xs","sm","md","lg","xl","xxl"],oe=s.forwardRef((Ye,ke)=>{const{getPrefixCls:Xe,direction:at}=s.useContext(u.E_),{gutter:xt,wrap:ot}=s.useContext(Ie.Z),{prefixCls:St,span:Ot,order:Ge,offset:Qt,push:Pt,pull:Ft,className:Xt,children:Ht,flex:Ar,style:Cr}=Ye,Dr=je(Ye,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),Ue=Xe("col",St),[sn,Bn,En]=(0,He.cG)(Ue),Be={};let Gn={};_e.forEach(pt=>{let an={};const Tn=Ye[pt];typeof Tn=="number"?an.span=Tn:typeof Tn=="object"&&(an=Tn||{}),delete Dr[pt],Gn=Object.assign(Object.assign({},Gn),{[`${Ue}-${pt}-${an.span}`]:an.span!==void 0,[`${Ue}-${pt}-order-${an.order}`]:an.order||an.order===0,[`${Ue}-${pt}-offset-${an.offset}`]:an.offset||an.offset===0,[`${Ue}-${pt}-push-${an.push}`]:an.push||an.push===0,[`${Ue}-${pt}-pull-${an.pull}`]:an.pull||an.pull===0,[`${Ue}-rtl`]:at==="rtl"}),an.flex&&(Gn[`${Ue}-${pt}-flex`]=!0,Be[`--${Ue}-${pt}-flex`]=Le(an.flex))});const In=J()(Ue,{[`${Ue}-${Ot}`]:Ot!==void 0,[`${Ue}-order-${Ge}`]:Ge,[`${Ue}-offset-${Qt}`]:Qt,[`${Ue}-push-${Pt}`]:Pt,[`${Ue}-pull-${Ft}`]:Ft},Xt,Gn,Bn,En),Rn={};if(xt&&xt[0]>0){const pt=xt[0]/2;Rn.paddingLeft=pt,Rn.paddingRight=pt}return Ar&&(Rn.flex=Le(Ar),ot===!1&&!Rn.minWidth&&(Rn.minWidth=0)),sn(s.createElement("div",Object.assign({},Dr,{style:Object.assign(Object.assign(Object.assign({},Rn),Cr),Be),className:In,ref:ke}),Ht))});Jt.Z=oe},19240:function(Qr,Jt,j){"use strict";var s=j(75271),ht=j(92076),J=j(85990),u=j(96777);function Ie(){let He=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,je=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const Le=(0,s.useRef)(je),_e=(0,J.Z)(),oe=(0,u.ZP)();return(0,ht.Z)(()=>{const Ye=oe.subscribe(ke=>{Le.current=ke,He&&_e()});return()=>oe.unsubscribe(Ye)},[]),Le.current}Jt.Z=Ie},78769:function(Qr,Jt,j){"use strict";j.d(Jt,{Z:function(){return xt}});var s=j(75271),ht=j(82187),J=j.n(ht),u=j(96777),Ie=j(98446),He=j(19240);function je(ot,St){const Ot=[void 0,void 0],Ge=Array.isArray(ot)?ot:[ot,void 0],Qt=St||{xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0};return Ge.forEach((Pt,Ft)=>{if(typeof Pt=="object"&&Pt!==null)for(let Xt=0;Xt<u.c4.length;Xt++){const Ht=u.c4[Xt];if(Qt[Ht]&&Pt[Ht]!==void 0){Ot[Ft]=Pt[Ht];break}}else Ot[Ft]=Pt}),Ot}var Le=j(60017),_e=j(40672),oe=function(ot,St){var Ot={};for(var Ge in ot)Object.prototype.hasOwnProperty.call(ot,Ge)&&St.indexOf(Ge)<0&&(Ot[Ge]=ot[Ge]);if(ot!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Qt=0,Ge=Object.getOwnPropertySymbols(ot);Qt<Ge.length;Qt++)St.indexOf(Ge[Qt])<0&&Object.prototype.propertyIsEnumerable.call(ot,Ge[Qt])&&(Ot[Ge[Qt]]=ot[Ge[Qt]]);return Ot};const Ye=null,ke=null;function Xe(ot,St){const[Ot,Ge]=s.useState(typeof ot=="string"?ot:""),Qt=()=>{if(typeof ot=="string"&&Ge(ot),typeof ot=="object")for(let Pt=0;Pt<u.c4.length;Pt++){const Ft=u.c4[Pt];if(!St||!St[Ft])continue;const Xt=ot[Ft];if(Xt!==void 0){Ge(Xt);return}}};return s.useEffect(()=>{Qt()},[JSON.stringify(ot),St]),Ot}var xt=s.forwardRef((ot,St)=>{const{prefixCls:Ot,justify:Ge,align:Qt,className:Pt,style:Ft,children:Xt,gutter:Ht=0,wrap:Ar}=ot,Cr=oe(ot,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:Dr,direction:Ue}=s.useContext(Ie.E_),sn=(0,He.Z)(!0,null),Bn=Xe(Qt,sn),En=Xe(Ge,sn),Be=Dr("row",Ot),[Gn,In,Rn]=(0,_e.VM)(Be),pt=je(Ht,sn),an=J()(Be,{[`${Be}-no-wrap`]:Ar===!1,[`${Be}-${En}`]:En,[`${Be}-${Bn}`]:Bn,[`${Be}-rtl`]:Ue==="rtl"},Pt,In,Rn),Tn={},me=pt[0]!=null&&pt[0]>0?pt[0]/-2:void 0;me&&(Tn.marginLeft=me,Tn.marginRight=me);const[nn,bi]=pt;Tn.rowGap=bi;const ui=s.useMemo(()=>({gutter:[nn,bi],wrap:Ar}),[nn,bi,Ar]);return Gn(s.createElement(Le.Z.Provider,{value:ui},s.createElement("div",Object.assign({},Cr,{className:an,style:Object.assign(Object.assign({},Tn),Ft),ref:St}),Xt)))})},40672:function(Qr,Jt,j){"use strict";j.d(Jt,{VM:function(){return Ye},cG:function(){return Xe},hd:function(){return ke}});var s=j(55921),ht=j(84825),J=j(83509);const u=at=>{const{componentCls:xt}=at;return{[xt]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},Ie=at=>{const{componentCls:xt}=at;return{[xt]:{position:"relative",maxWidth:"100%",minHeight:1}}},He=(at,xt)=>{const{prefixCls:ot,componentCls:St,gridColumns:Ot}=at,Ge={};for(let Qt=Ot;Qt>=0;Qt--)Qt===0?(Ge[`${St}${xt}-${Qt}`]={display:"none"},Ge[`${St}-push-${Qt}`]={insetInlineStart:"auto"},Ge[`${St}-pull-${Qt}`]={insetInlineEnd:"auto"},Ge[`${St}${xt}-push-${Qt}`]={insetInlineStart:"auto"},Ge[`${St}${xt}-pull-${Qt}`]={insetInlineEnd:"auto"},Ge[`${St}${xt}-offset-${Qt}`]={marginInlineStart:0},Ge[`${St}${xt}-order-${Qt}`]={order:0}):(Ge[`${St}${xt}-${Qt}`]=[{"--ant-display":"block",display:"block"},{display:"var(--ant-display)",flex:`0 0 ${Qt/Ot*100}%`,maxWidth:`${Qt/Ot*100}%`}],Ge[`${St}${xt}-push-${Qt}`]={insetInlineStart:`${Qt/Ot*100}%`},Ge[`${St}${xt}-pull-${Qt}`]={insetInlineEnd:`${Qt/Ot*100}%`},Ge[`${St}${xt}-offset-${Qt}`]={marginInlineStart:`${Qt/Ot*100}%`},Ge[`${St}${xt}-order-${Qt}`]={order:Qt});return Ge[`${St}${xt}-flex`]={flex:`var(--${ot}${xt}-flex)`},Ge},je=(at,xt)=>He(at,xt),Le=(at,xt,ot)=>({[`@media (min-width: ${(0,s.bf)(xt)})`]:Object.assign({},je(at,ot))}),_e=()=>({}),oe=()=>({}),Ye=(0,ht.I$)("Grid",u,_e),ke=at=>({xs:at.screenXSMin,sm:at.screenSMMin,md:at.screenMDMin,lg:at.screenLGMin,xl:at.screenXLMin,xxl:at.screenXXLMin}),Xe=(0,ht.I$)("Grid",at=>{const xt=(0,J.IX)(at,{gridColumns:24}),ot=ke(xt);return delete ot.xs,[Ie(xt),je(xt,""),je(xt,"-xs"),Object.keys(ot).map(St=>Le(xt,ot[St],`-${St}`)).reduce((St,Ot)=>Object.assign(Object.assign({},St),Ot),{})]},oe)},90262:function(Qr,Jt,j){"use strict";j.r(Jt),j.d(Jt,{Affix:function(){return Xt},Alert:function(){return hr},Anchor:function(){return So},App:function(){return Sh},AutoComplete:function(){return Eh},Avatar:function(){return bu},BackTop:function(){return qg},Badge:function(){return p},Breadcrumb:function(){return yC},Button:function(){return ks},Calendar:function(){return Wh},Card:function(){return L1},Carousel:function(){return n},Cascader:function(){return pb},Checkbox:function(){return xg},Col:function(){return wM},Collapse:function(){return EM.Z},ColorPicker:function(){return IM.Z},ConfigProvider:function(){return ko.ZP},DatePicker:function(){return P2},Descriptions:function(){return xP},Divider:function(){return CP.Z},Drawer:function(){return kP},Dropdown:function(){return lx},Empty:function(){return US.Z},Flex:function(){return aO},FloatButton:function(){return CO},Form:function(){return SO.Z},Grid:function(){return EO},Image:function(){return A3},Input:function(){return mR},InputNumber:function(){return pR.Z},Layout:function(){return SR},List:function(){return x$},Mentions:function(){return X$},Menu:function(){return ty},Modal:function(){return a4},Pagination:function(){return mx},Popconfirm:function(){return y4},Popover:function(){return Mh.Z},Progress:function(){return uw},QRCode:function(){return pA},Radio:function(){return dw},Rate:function(){return NA},Result:function(){return nD},Row:function(){return rD},Segmented:function(){return iD.Z},Select:function(){return ou.default},Skeleton:function(){return yu},Slider:function(){return oD.Z},Space:function(){return U2},Spin:function(){return dv},Splitter:function(){return ak},Statistic:function(){return bD},Steps:function(){return WD},Switch:function(){return r5},Table:function(){return MN},Tabs:function(){return Ky},Tag:function(){return NN},TimePicker:function(){return t6},Timeline:function(){return d6},Tooltip:function(){return su.Z},Tour:function(){return D6},Transfer:function(){return sB},Tree:function(){return bT},TreeSelect:function(){return BB},Typography:function(){return DF},Upload:function(){return R8},Watermark:function(){return H8},message:function(){return n4},notification:function(){return f4},theme:function(){return qN},unstableSetRender:function(){return Wn},version:function(){return $8.Z}});var s=j(75271),ht=j(82187),J=j.n(ht),u=j(40493),Ie=j(46865),He=j(49975);function je(e){let t;const a=f=>()=>{t=null,e.apply(void 0,(0,Ie.Z)(f))},o=function(){if(t==null){for(var f=arguments.length,y=new Array(f),_=0;_<f;_++)y[_]=arguments[_];t=(0,He.Z)(a(y))}};return o.cancel=()=>{He.Z.cancel(t),t=null},o}var Le=je,_e=j(98446),oe=j(84825);const Ye=e=>{const{componentCls:t}=e;return{[t]:{position:"fixed",zIndex:e.zIndexPopup}}},ke=e=>({zIndexPopup:e.zIndexBase+10});var Xe=(0,oe.I$)("Affix",Ye,ke);function at(e){return e!==window?e.getBoundingClientRect():{top:0,bottom:window.innerHeight}}function xt(e,t,a){if(a!==void 0&&Math.round(t.top)>Math.round(e.top)-a)return a+t.top}function ot(e,t,a){if(a!==void 0&&Math.round(t.bottom)<Math.round(e.bottom)+a){const o=window.innerHeight-t.bottom;return a+o}}var St=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const Ot=["resize","scroll","touchstart","touchmove","touchend","pageshow","load"];function Ge(){return typeof window!="undefined"?window:null}const Qt=0,Pt=1;var Xt=s.forwardRef((e,t)=>{var a;const{style:o,offsetTop:f,offsetBottom:y,prefixCls:_,className:S,rootClassName:I,children:A,target:z,onChange:L,onTestUpdatePosition:F}=e,Z=St(e,["style","offsetTop","offsetBottom","prefixCls","className","rootClassName","children","target","onChange","onTestUpdatePosition"]),{getPrefixCls:k,getTargetContainer:W}=s.useContext(_e.E_),H=k("affix",_),[X,Q]=s.useState(!1),[re,ie]=s.useState(),[ne,ae]=s.useState(),ue=s.useRef(Qt),fe=s.useRef(null),he=s.useRef(null),ve=s.useRef(null),ye=s.useRef(null),we=s.useRef(null),Se=(a=z!=null?z:W)!==null&&a!==void 0?a:Ge,ze=y===void 0&&f===void 0?0:f,Te=()=>{if(ue.current!==Pt||!ye.current||!ve.current||!Se)return;const wt=Se();if(wt){const Bt={status:Qt},Ct=at(ve.current);if(Ct.top===0&&Ct.left===0&&Ct.width===0&&Ct.height===0)return;const dn=at(wt),zn=xt(Ct,dn,ze),rn=ot(Ct,dn,y);zn!==void 0?(Bt.affixStyle={position:"fixed",top:zn,width:Ct.width,height:Ct.height},Bt.placeholderStyle={width:Ct.width,height:Ct.height}):rn!==void 0&&(Bt.affixStyle={position:"fixed",bottom:rn,width:Ct.width,height:Ct.height},Bt.placeholderStyle={width:Ct.width,height:Ct.height}),Bt.lastAffix=!!Bt.affixStyle,X!==Bt.lastAffix&&(L==null||L(Bt.lastAffix)),ue.current=Bt.status,ie(Bt.affixStyle),ae(Bt.placeholderStyle),Q(Bt.lastAffix)}},Fe=()=>{ue.current=Pt,Te()},Ae=Le(()=>{Fe()}),Ke=Le(()=>{if(Se&&re){const wt=Se();if(wt&&ve.current){const Bt=at(wt),Ct=at(ve.current),dn=xt(Ct,Bt,ze),zn=ot(Ct,Bt,y);if(dn!==void 0&&re.top===dn||zn!==void 0&&re.bottom===zn)return}}Fe()}),tt=()=>{const wt=Se==null?void 0:Se();wt&&(Ot.forEach(Bt=>{var Ct;he.current&&((Ct=fe.current)===null||Ct===void 0||Ct.removeEventListener(Bt,he.current)),wt==null||wt.addEventListener(Bt,Ke)}),fe.current=wt,he.current=Ke)},vt=()=>{we.current&&(clearTimeout(we.current),we.current=null);const wt=Se==null?void 0:Se();Ot.forEach(Bt=>{var Ct;wt==null||wt.removeEventListener(Bt,Ke),he.current&&((Ct=fe.current)===null||Ct===void 0||Ct.removeEventListener(Bt,he.current))}),Ae.cancel(),Ke.cancel()};s.useImperativeHandle(t,()=>({updatePosition:Ae})),s.useEffect(()=>(we.current=setTimeout(tt),()=>vt()),[]),s.useEffect(()=>{tt()},[z,re]),s.useEffect(()=>{Ae()},[z,f,y]);const[bt,lt,ct]=Xe(H),mt=J()(I,lt,H,ct),Rt=J()({[mt]:re});return bt(s.createElement(u.Z,{onResize:Ae},s.createElement("div",Object.assign({style:o,className:S,ref:ve},Z),re&&s.createElement("div",{style:ne,"aria-hidden":"true"}),s.createElement("div",{className:Rt,ref:ye,style:re},s.createElement(u.Z,{onResize:Ae},A)))))}),Ht=j(4692),Ar=j(75434),Cr=j(14258),Dr=j(64267),Ue=j(23022),sn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},Bn=sn,En=j(23738),Be=function(t,a){return s.createElement(En.Z,(0,Ue.Z)({},t,{ref:a,icon:Bn}))},Gn=s.forwardRef(Be),In=Gn,Rn=j(62803),pt=j(71305),an=j(42684),Tn=j(26021),me=j(55921),nn=j(34299);const bi=(e,t,a,o,f)=>({background:e,border:`${(0,me.bf)(o.lineWidth)} ${o.lineType} ${t}`,[`${f}-icon`]:{color:a}}),ui=e=>{const{componentCls:t,motionDurationSlow:a,marginXS:o,marginSM:f,fontSize:y,fontSizeLG:_,lineHeight:S,borderRadiusLG:I,motionEaseInOutCirc:A,withDescriptionIconSize:z,colorText:L,colorTextHeading:F,withDescriptionPadding:Z,defaultPadding:k}=e;return{[t]:Object.assign(Object.assign({},(0,nn.Wf)(e)),{position:"relative",display:"flex",alignItems:"center",padding:k,wordWrap:"break-word",borderRadius:I,[`&${t}-rtl`]:{direction:"rtl"},[`${t}-content`]:{flex:1,minWidth:0},[`${t}-icon`]:{marginInlineEnd:o,lineHeight:0},"&-description":{display:"none",fontSize:y,lineHeight:S},"&-message":{color:F},[`&${t}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${a} ${A}, opacity ${a} ${A},
        padding-top ${a} ${A}, padding-bottom ${a} ${A},
        margin-bottom ${a} ${A}`},[`&${t}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${t}-with-description`]:{alignItems:"flex-start",padding:Z,[`${t}-icon`]:{marginInlineEnd:f,fontSize:z,lineHeight:0},[`${t}-message`]:{display:"block",marginBottom:o,color:F,fontSize:_},[`${t}-description`]:{display:"block",color:L}},[`${t}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},$e=e=>{const{componentCls:t,colorSuccess:a,colorSuccessBorder:o,colorSuccessBg:f,colorWarning:y,colorWarningBorder:_,colorWarningBg:S,colorError:I,colorErrorBorder:A,colorErrorBg:z,colorInfo:L,colorInfoBorder:F,colorInfoBg:Z}=e;return{[t]:{"&-success":bi(f,o,a,e,t),"&-info":bi(Z,F,L,e,t),"&-warning":bi(S,_,y,e,t),"&-error":Object.assign(Object.assign({},bi(z,A,I,e,t)),{[`${t}-description > pre`]:{margin:0,padding:0}})}}},Mn=e=>{const{componentCls:t,iconCls:a,motionDurationMid:o,marginXS:f,fontSizeIcon:y,colorIcon:_,colorIconHover:S}=e;return{[t]:{"&-action":{marginInlineStart:f},[`${t}-close-icon`]:{marginInlineStart:f,padding:0,overflow:"hidden",fontSize:y,lineHeight:(0,me.bf)(y),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${a}-close`]:{color:_,transition:`color ${o}`,"&:hover":{color:S}}},"&-close-text":{color:_,transition:`color ${o}`,"&:hover":{color:S}}}}},Kr=e=>({withDescriptionIconSize:e.fontSizeHeading3,defaultPadding:`${e.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${e.paddingMD}px ${e.paddingContentHorizontalLG}px`});var jr=(0,oe.I$)("Alert",e=>[ui(e),$e(e),Mn(e)],Kr),Sn=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const Fr={success:Ht.Z,info:In,error:Ar.Z,warning:Dr.Z},Ii=e=>{const{icon:t,prefixCls:a,type:o}=e,f=Fr[o]||null;return t?(0,Tn.wm)(t,s.createElement("span",{className:`${a}-icon`},t),()=>({className:J()(`${a}-icon`,t.props.className)})):s.createElement(f,{className:`${a}-icon`})},fr=e=>{const{isClosable:t,prefixCls:a,closeIcon:o,handleClose:f,ariaProps:y}=e,_=o===!0||o===void 0?s.createElement(Cr.Z,null):o;return t?s.createElement("button",Object.assign({type:"button",onClick:f,className:`${a}-close-icon`,tabIndex:0},y),_):null};var jt=s.forwardRef((e,t)=>{const{description:a,prefixCls:o,message:f,banner:y,className:_,rootClassName:S,style:I,onMouseEnter:A,onMouseLeave:z,onClick:L,afterClose:F,showIcon:Z,closable:k,closeText:W,closeIcon:H,action:X,id:Q}=e,re=Sn(e,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action","id"]),[ie,ne]=s.useState(!1),ae=s.useRef(null);s.useImperativeHandle(t,()=>({nativeElement:ae.current}));const{getPrefixCls:ue,direction:fe,closable:he,closeIcon:ve,className:ye,style:we}=(0,_e.dj)("alert"),Se=ue("alert",o),[ze,Te,Fe]=jr(Se),Ae=Rt=>{var wt;ne(!0),(wt=e.onClose)===null||wt===void 0||wt.call(e,Rt)},Ke=s.useMemo(()=>e.type!==void 0?e.type:y?"warning":"info",[e.type,y]),tt=s.useMemo(()=>typeof k=="object"&&k.closeIcon||W?!0:typeof k=="boolean"?k:H!==!1&&H!==null&&H!==void 0?!0:!!he,[W,H,k,he]),vt=y&&Z===void 0?!0:Z,bt=J()(Se,`${Se}-${Ke}`,{[`${Se}-with-description`]:!!a,[`${Se}-no-icon`]:!vt,[`${Se}-banner`]:!!y,[`${Se}-rtl`]:fe==="rtl"},ye,_,S,Fe,Te),lt=(0,pt.Z)(re,{aria:!0,data:!0}),ct=s.useMemo(()=>typeof k=="object"&&k.closeIcon?k.closeIcon:W||(H!==void 0?H:typeof he=="object"&&he.closeIcon?he.closeIcon:ve),[H,k,W,ve]),mt=s.useMemo(()=>{const Rt=k!=null?k:he;if(typeof Rt=="object"){const{closeIcon:wt}=Rt;return Sn(Rt,["closeIcon"])}return{}},[k,he]);return ze(s.createElement(Rn.ZP,{visible:!ie,motionName:`${Se}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:Rt=>({maxHeight:Rt.offsetHeight}),onLeaveEnd:F},(Rt,wt)=>{let{className:Bt,style:Ct}=Rt;return s.createElement("div",Object.assign({id:Q,ref:(0,an.sQ)(ae,wt),"data-show":!ie,className:J()(bt,Bt),style:Object.assign(Object.assign(Object.assign({},we),I),Ct),onMouseEnter:A,onMouseLeave:z,onClick:L,role:"alert"},lt),vt?s.createElement(Ii,{description:a,icon:e.icon,prefixCls:Se,type:Ke}):null,s.createElement("div",{className:`${Se}-content`},f?s.createElement("div",{className:`${Se}-message`},f):null,a?s.createElement("div",{className:`${Se}-description`},a):null),X?s.createElement("div",{className:`${Se}-action`},X):null,s.createElement(fr,{isClosable:tt,prefixCls:Se,closeIcon:ct,handleClose:Ae,ariaProps:mt}))}))}),Fn=j(59295),un=j(45985),pn=j(51123),Sr=j(57649),Vn=j(78512);function Xr(e,t,a){return t=(0,pn.Z)(t),(0,Vn.Z)(e,(0,Sr.Z)()?Reflect.construct(t,a||[],(0,pn.Z)(e).constructor):t.apply(e,a))}var ri=j(76525),ei=function(e){function t(){var a;return(0,Fn.Z)(this,t),a=Xr(this,t,arguments),a.state={error:void 0,info:{componentStack:""}},a}return(0,ri.Z)(t,e),(0,un.Z)(t,[{key:"componentDidCatch",value:function(o,f){this.setState({error:o,info:f})}},{key:"render",value:function(){const{message:o,description:f,id:y,children:_}=this.props,{error:S,info:I}=this.state,A=(I==null?void 0:I.componentStack)||null,z=typeof o=="undefined"?(S||"").toString():o,L=typeof f=="undefined"?A:f;return S?s.createElement(jt,{id:y,type:"error",message:z,description:s.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},L)}):_}}])}(s.Component);const vr=jt;vr.ErrorBoundary=ei;var hr=vr,ur=j(59373),wr=j(56680);function yr(e){return e!=null&&e===e.window}var Xn=e=>{var t,a;if(typeof window=="undefined")return 0;let o=0;return yr(e)?o=e.pageYOffset:e instanceof Document?o=e.documentElement.scrollTop:(e instanceof HTMLElement||e)&&(o=e.scrollTop),e&&!yr(e)&&typeof o!="number"&&(o=(a=((t=e.ownerDocument)!==null&&t!==void 0?t:e).documentElement)===null||a===void 0?void 0:a.scrollTop),o};function lr(e,t,a,o){const f=a-t;return e/=o/2,e<1?f/2*e*e*e+t:f/2*((e-=2)*e*e+2)+t}function Ur(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{getContainer:a=()=>window,callback:o,duration:f=450}=t,y=a(),_=Xn(y),S=Date.now(),I=()=>{const z=Date.now()-S,L=lr(z>f?f:z,_,e,f);yr(y)?y.scrollTo(window.pageXOffset,L):y instanceof Document||y.constructor.name==="HTMLDocument"?y.documentElement.scrollTop=L:y.scrollTop=L,z<f?(0,He.Z)(I):typeof o=="function"&&o()};(0,He.Z)(I)}var Ln=j(38437),fi=s.createContext(void 0),po=e=>{const{href:t,title:a,prefixCls:o,children:f,className:y,target:_,replace:S}=e,I=s.useContext(fi),{registerLink:A,unregisterLink:z,scrollTo:L,onClick:F,activeLink:Z,direction:k}=I||{};s.useEffect(()=>(A==null||A(t),()=>{z==null||z(t)}),[t]);const W=ne=>{F==null||F(ne,{title:a,href:t}),L==null||L(t),S&&(ne.preventDefault(),window.location.replace(t))},{getPrefixCls:H}=s.useContext(_e.E_),X=H("anchor",o),Q=Z===t,re=J()(`${X}-link`,y,{[`${X}-link-active`]:Q}),ie=J()(`${X}-link-title`,{[`${X}-link-title-active`]:Q});return s.createElement("div",{className:re},s.createElement("a",{className:ie,href:t,title:typeof a=="string"?a:"",target:_,onClick:W},a),k!=="horizontal"?f:null)},kr=j(83509);const no=e=>{const{componentCls:t,holderOffsetBlock:a,motionDurationSlow:o,lineWidthBold:f,colorPrimary:y,lineType:_,colorSplit:S,calc:I}=e;return{[`${t}-wrapper`]:{marginBlockStart:I(a).mul(-1).equal(),paddingBlockStart:a,[t]:Object.assign(Object.assign({},(0,nn.Wf)(e)),{position:"relative",paddingInlineStart:f,[`${t}-link`]:{paddingBlock:e.linkPaddingBlock,paddingInline:`${(0,me.bf)(e.linkPaddingInlineStart)} 0`,"&-title":Object.assign(Object.assign({},nn.vS),{position:"relative",display:"block",marginBlockEnd:e.anchorTitleBlock,color:e.colorText,transition:`all ${e.motionDurationSlow}`,"&:only-child":{marginBlockEnd:0}}),[`&-active > ${t}-link-title`]:{color:e.colorPrimary},[`${t}-link`]:{paddingBlock:e.anchorPaddingBlockSecondary}}}),[`&:not(${t}-wrapper-horizontal)`]:{[t]:{"&::before":{position:"absolute",insetInlineStart:0,top:0,height:"100%",borderInlineStart:`${(0,me.bf)(f)} ${_} ${S}`,content:'" "'},[`${t}-ink`]:{position:"absolute",insetInlineStart:0,display:"none",transform:"translateY(-50%)",transition:`top ${o} ease-in-out`,width:f,backgroundColor:y,[`&${t}-ink-visible`]:{display:"inline-block"}}}},[`${t}-fixed ${t}-ink ${t}-ink`]:{display:"none"}}}},qt=e=>{const{componentCls:t,motionDurationSlow:a,lineWidthBold:o,colorPrimary:f}=e;return{[`${t}-wrapper-horizontal`]:{position:"relative","&::before":{position:"absolute",left:{_skip_check_:!0,value:0},right:{_skip_check_:!0,value:0},bottom:0,borderBottom:`${(0,me.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,content:'" "'},[t]:{overflowX:"scroll",position:"relative",display:"flex",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"},[`${t}-link:first-of-type`]:{paddingInline:0},[`${t}-ink`]:{position:"absolute",bottom:0,transition:`left ${a} ease-in-out, width ${a} ease-in-out`,height:o,backgroundColor:f}}}}},xn=e=>({linkPaddingBlock:e.paddingXXS,linkPaddingInlineStart:e.padding});var Jn=(0,oe.I$)("Anchor",e=>{const{fontSize:t,fontSizeLG:a,paddingXXS:o,calc:f}=e,y=(0,kr.IX)(e,{holderOffsetBlock:o,anchorPaddingBlockSecondary:f(o).div(2).equal(),anchorTitleBlock:f(t).div(14).mul(3).equal(),anchorBallSize:f(a).div(2).equal()});return[no(y),qt(y)]},xn);function $r(){return window}function li(e,t){if(!e.getClientRects().length)return 0;const a=e.getBoundingClientRect();return a.width||a.height?t===window?a.top-e.ownerDocument.documentElement.clientTop:a.top-t.getBoundingClientRect().top:a.top}const ii=/#([\S ]+)$/;var eo=e=>{var t;const{rootClassName:a,prefixCls:o,className:f,style:y,offsetTop:_,affix:S=!0,showInkInFixed:I=!1,children:A,items:z,direction:L="vertical",bounds:F,targetOffset:Z,onClick:k,onChange:W,getContainer:H,getCurrentAnchor:X,replace:Q}=e,[re,ie]=s.useState([]),[ne,ae]=s.useState(null),ue=s.useRef(ne),fe=s.useRef(null),he=s.useRef(null),ve=s.useRef(!1),{direction:ye,getPrefixCls:we,className:Se,style:ze}=(0,_e.dj)("anchor"),{getTargetContainer:Te}=s.useContext(_e.E_),Fe=we("anchor",o),Ae=(0,Ln.Z)(Fe),[Ke,tt,vt]=Jn(Fe,Ae),bt=(t=H!=null?H:Te)!==null&&t!==void 0?t:$r,lt=JSON.stringify(re),ct=(0,ur.Z)(cr=>{re.includes(cr)||ie(Kn=>[].concat((0,Ie.Z)(Kn),[cr]))}),mt=(0,ur.Z)(cr=>{re.includes(cr)&&ie(Kn=>Kn.filter(qn=>qn!==cr))}),Rt=()=>{var cr;const Kn=(cr=fe.current)===null||cr===void 0?void 0:cr.querySelector(`.${Fe}-link-title-active`);if(Kn&&he.current){const{style:qn}=he.current,Pn=L==="horizontal";qn.top=Pn?"":`${Kn.offsetTop+Kn.clientHeight/2}px`,qn.height=Pn?"":`${Kn.clientHeight}px`,qn.left=Pn?`${Kn.offsetLeft}px`:"",qn.width=Pn?`${Kn.clientWidth}px`:"",Pn&&(0,wr.Z)(Kn,{scrollMode:"if-needed",block:"nearest"})}},wt=function(cr){let Kn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,qn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:5;const Pn=[],Yn=bt();return cr.forEach(zr=>{const si=ii.exec(zr==null?void 0:zr.toString());if(!si)return;const yi=document.getElementById(si[1]);if(yi){const Di=li(yi,Yn);Di<=Kn+qn&&Pn.push({link:zr,top:Di})}}),Pn.length?Pn.reduce((si,yi)=>yi.top>si.top?yi:si).link:""},Bt=(0,ur.Z)(cr=>{if(ue.current===cr)return;const Kn=typeof X=="function"?X(cr):cr;ae(Kn),ue.current=Kn,W==null||W(cr)}),Ct=s.useCallback(()=>{if(ve.current)return;const cr=wt(re,Z!==void 0?Z:_||0,F);Bt(cr)},[lt,Z,_]),dn=s.useCallback(cr=>{Bt(cr);const Kn=ii.exec(cr);if(!Kn)return;const qn=document.getElementById(Kn[1]);if(!qn)return;const Pn=bt(),Yn=Xn(Pn),zr=li(qn,Pn);let si=Yn+zr;si-=Z!==void 0?Z:_||0,ve.current=!0,Ur(si,{getContainer:bt,callback(){ve.current=!1}})},[Z,_]),zn=J()(tt,vt,Ae,a,`${Fe}-wrapper`,{[`${Fe}-wrapper-horizontal`]:L==="horizontal",[`${Fe}-rtl`]:ye==="rtl"},f,Se),rn=J()(Fe,{[`${Fe}-fixed`]:!S&&!I}),Cn=J()(`${Fe}-ink`,{[`${Fe}-ink-visible`]:ne}),Vt=Object.assign(Object.assign({maxHeight:_?`calc(100vh - ${_}px)`:"100vh"},ze),y),At=cr=>Array.isArray(cr)?cr.map(Kn=>s.createElement(po,Object.assign({replace:Q},Kn,{key:Kn.key}),L==="vertical"&&At(Kn.children))):null,$n=s.createElement("div",{ref:fe,className:zn,style:Vt},s.createElement("div",{className:rn},s.createElement("span",{className:Cn,ref:he}),"items"in e?At(z):A));s.useEffect(()=>{const cr=bt();return Ct(),cr==null||cr.addEventListener("scroll",Ct),()=>{cr==null||cr.removeEventListener("scroll",Ct)}},[lt]),s.useEffect(()=>{typeof X=="function"&&Bt(X(ue.current||""))},[X]),s.useEffect(()=>{Rt()},[L,X,lt,ne]);const yn=s.useMemo(()=>({registerLink:ct,unregisterLink:mt,scrollTo:dn,activeLink:ne,onClick:k,direction:L}),[ne,k,dn,L]),Ir=S&&typeof S=="object"?S:void 0;return Ke(s.createElement(fi.Provider,{value:yn},S?s.createElement(Xt,Object.assign({offsetTop:_,target:bt},Ir),$n):$n))};const Ro=eo;Ro.Link=po;var So=Ro,io=j(87117),Pe=j(89692),de=j(58190),K=j(54153),Ne=j(30967),Je=j.t(Ne,2),ge=j(38926),dt=j(5147),_t=j(14583),Tt=s.forwardRef(function(e,t){var a=e.prefixCls,o=e.style,f=e.className,y=e.duration,_=y===void 0?4.5:y,S=e.showProgress,I=e.pauseOnHover,A=I===void 0?!0:I,z=e.eventKey,L=e.content,F=e.closable,Z=e.closeIcon,k=Z===void 0?"x":Z,W=e.props,H=e.onClick,X=e.onNoticeClose,Q=e.times,re=e.hovering,ie=s.useState(!1),ne=(0,Pe.Z)(ie,2),ae=ne[0],ue=ne[1],fe=s.useState(0),he=(0,Pe.Z)(fe,2),ve=he[0],ye=he[1],we=s.useState(0),Se=(0,Pe.Z)(we,2),ze=Se[0],Te=Se[1],Fe=re||ae,Ae=_>0&&S,Ke=function(){X(z)},tt=function(Rt){(Rt.key==="Enter"||Rt.code==="Enter"||Rt.keyCode===_t.Z.ENTER)&&Ke()};s.useEffect(function(){if(!Fe&&_>0){var mt=Date.now()-ze,Rt=setTimeout(function(){Ke()},_*1e3-ze);return function(){A&&clearTimeout(Rt),Te(Date.now()-mt)}}},[_,Fe,Q]),s.useEffect(function(){if(!Fe&&Ae&&(A||ze===0)){var mt=performance.now(),Rt,wt=function Bt(){cancelAnimationFrame(Rt),Rt=requestAnimationFrame(function(Ct){var dn=Ct+ze-mt,zn=Math.min(dn/(_*1e3),1);ye(zn*100),zn<1&&Bt()})};return wt(),function(){A&&cancelAnimationFrame(Rt)}}},[_,ze,Fe,Ae,Q]);var vt=s.useMemo(function(){return(0,dt.Z)(F)==="object"&&F!==null?F:F?{closeIcon:k}:{}},[F,k]),bt=(0,pt.Z)(vt,!0),lt=100-(!ve||ve<0?0:ve>100?100:ve),ct="".concat(a,"-notice");return s.createElement("div",(0,Ue.Z)({},W,{ref:t,className:J()(ct,f,(0,ge.Z)({},"".concat(ct,"-closable"),F)),style:o,onMouseEnter:function(Rt){var wt;ue(!0),W==null||(wt=W.onMouseEnter)===null||wt===void 0||wt.call(W,Rt)},onMouseLeave:function(Rt){var wt;ue(!1),W==null||(wt=W.onMouseLeave)===null||wt===void 0||wt.call(W,Rt)},onClick:H}),s.createElement("div",{className:"".concat(ct,"-content")},L),F&&s.createElement("a",(0,Ue.Z)({tabIndex:0,className:"".concat(ct,"-close"),onKeyDown:tt,"aria-label":"Close"},bt,{onClick:function(Rt){Rt.preventDefault(),Rt.stopPropagation(),Ke()}}),vt.closeIcon),Ae&&s.createElement("progress",{className:"".concat(ct,"-progress"),max:"100",value:lt},lt+"%"))}),Yt=Tt,hn=s.createContext({}),We=function(t){var a=t.children,o=t.classNames;return s.createElement(hn.Provider,{value:{classNames:o}},a)},Et=We,kt=8,Kt=3,rt=16,Qe=function(t){var a={offset:kt,threshold:Kt,gap:rt};if(t&&(0,dt.Z)(t)==="object"){var o,f,y;a.offset=(o=t.offset)!==null&&o!==void 0?o:kt,a.threshold=(f=t.threshold)!==null&&f!==void 0?f:Kt,a.gap=(y=t.gap)!==null&&y!==void 0?y:rt}return[!!t,a]},gn=Qe,mn=["className","style","classNames","styles"],kn=function(t){var a=t.configList,o=t.placement,f=t.prefixCls,y=t.className,_=t.style,S=t.motion,I=t.onAllNoticeRemoved,A=t.onNoticeClose,z=t.stack,L=(0,s.useContext)(hn),F=L.classNames,Z=(0,s.useRef)({}),k=(0,s.useState)(null),W=(0,Pe.Z)(k,2),H=W[0],X=W[1],Q=(0,s.useState)([]),re=(0,Pe.Z)(Q,2),ie=re[0],ne=re[1],ae=a.map(function(Fe){return{config:Fe,key:String(Fe.key)}}),ue=gn(z),fe=(0,Pe.Z)(ue,2),he=fe[0],ve=fe[1],ye=ve.offset,we=ve.threshold,Se=ve.gap,ze=he&&(ie.length>0||ae.length<=we),Te=typeof S=="function"?S(o):S;return(0,s.useEffect)(function(){he&&ie.length>1&&ne(function(Fe){return Fe.filter(function(Ae){return ae.some(function(Ke){var tt=Ke.key;return Ae===tt})})})},[ie,ae,he]),(0,s.useEffect)(function(){var Fe;if(he&&Z.current[(Fe=ae[ae.length-1])===null||Fe===void 0?void 0:Fe.key]){var Ae;X(Z.current[(Ae=ae[ae.length-1])===null||Ae===void 0?void 0:Ae.key])}},[ae,he]),s.createElement(Rn.V4,(0,Ue.Z)({key:o,className:J()(f,"".concat(f,"-").concat(o),F==null?void 0:F.list,y,(0,ge.Z)((0,ge.Z)({},"".concat(f,"-stack"),!!he),"".concat(f,"-stack-expanded"),ze)),style:_,keys:ae,motionAppear:!0},Te,{onAllRemoved:function(){I(o)}}),function(Fe,Ae){var Ke=Fe.config,tt=Fe.className,vt=Fe.style,bt=Fe.index,lt=Ke,ct=lt.key,mt=lt.times,Rt=String(ct),wt=Ke,Bt=wt.className,Ct=wt.style,dn=wt.classNames,zn=wt.styles,rn=(0,de.Z)(wt,mn),Cn=ae.findIndex(function(si){return si.key===Rt}),Vt={};if(he){var At=ae.length-1-(Cn>-1?Cn:bt-1),$n=o==="top"||o==="bottom"?"-50%":"0";if(At>0){var yn,Ir,cr;Vt.height=ze?(yn=Z.current[Rt])===null||yn===void 0?void 0:yn.offsetHeight:H==null?void 0:H.offsetHeight;for(var Kn=0,qn=0;qn<At;qn++){var Pn;Kn+=((Pn=Z.current[ae[ae.length-1-qn].key])===null||Pn===void 0?void 0:Pn.offsetHeight)+Se}var Yn=(ze?Kn:At*ye)*(o.startsWith("top")?1:-1),zr=!ze&&H!==null&&H!==void 0&&H.offsetWidth&&(Ir=Z.current[Rt])!==null&&Ir!==void 0&&Ir.offsetWidth?((H==null?void 0:H.offsetWidth)-ye*2*(At<3?At:3))/((cr=Z.current[Rt])===null||cr===void 0?void 0:cr.offsetWidth):1;Vt.transform="translate3d(".concat($n,", ").concat(Yn,"px, 0) scaleX(").concat(zr,")")}else Vt.transform="translate3d(".concat($n,", 0, 0)")}return s.createElement("div",{ref:Ae,className:J()("".concat(f,"-notice-wrapper"),tt,dn==null?void 0:dn.wrapper),style:(0,K.Z)((0,K.Z)((0,K.Z)({},vt),Vt),zn==null?void 0:zn.wrapper),onMouseEnter:function(){return ne(function(yi){return yi.includes(Rt)?yi:[].concat((0,Ie.Z)(yi),[Rt])})},onMouseLeave:function(){return ne(function(yi){return yi.filter(function(Di){return Di!==Rt})})}},s.createElement(Yt,(0,Ue.Z)({},rn,{ref:function(yi){Cn>-1?Z.current[Rt]=yi:delete Z.current[Rt]},prefixCls:f,classNames:dn,styles:zn,className:J()(Bt,F==null?void 0:F.notice),style:Ct,times:mt,key:ct,eventKey:ct,onNoticeClose:A,hovering:he&&ie.length>0})))})},br=kn,ar=s.forwardRef(function(e,t){var a=e.prefixCls,o=a===void 0?"rc-notification":a,f=e.container,y=e.motion,_=e.maxCount,S=e.className,I=e.style,A=e.onAllRemoved,z=e.stack,L=e.renderNotifications,F=s.useState([]),Z=(0,Pe.Z)(F,2),k=Z[0],W=Z[1],H=function(he){var ve,ye=k.find(function(we){return we.key===he});ye==null||(ve=ye.onClose)===null||ve===void 0||ve.call(ye),W(function(we){return we.filter(function(Se){return Se.key!==he})})};s.useImperativeHandle(t,function(){return{open:function(he){W(function(ve){var ye=(0,Ie.Z)(ve),we=ye.findIndex(function(Te){return Te.key===he.key}),Se=(0,K.Z)({},he);if(we>=0){var ze;Se.times=(((ze=ve[we])===null||ze===void 0?void 0:ze.times)||0)+1,ye[we]=Se}else Se.times=0,ye.push(Se);return _>0&&ye.length>_&&(ye=ye.slice(-_)),ye})},close:function(he){H(he)},destroy:function(){W([])}}});var X=s.useState({}),Q=(0,Pe.Z)(X,2),re=Q[0],ie=Q[1];s.useEffect(function(){var fe={};k.forEach(function(he){var ve=he.placement,ye=ve===void 0?"topRight":ve;ye&&(fe[ye]=fe[ye]||[],fe[ye].push(he))}),Object.keys(re).forEach(function(he){fe[he]=fe[he]||[]}),ie(fe)},[k]);var ne=function(he){ie(function(ve){var ye=(0,K.Z)({},ve),we=ye[he]||[];return we.length||delete ye[he],ye})},ae=s.useRef(!1);if(s.useEffect(function(){Object.keys(re).length>0?ae.current=!0:ae.current&&(A==null||A(),ae.current=!1)},[re]),!f)return null;var ue=Object.keys(re);return(0,Ne.createPortal)(s.createElement(s.Fragment,null,ue.map(function(fe){var he=re[fe],ve=s.createElement(br,{key:fe,configList:he,placement:fe,prefixCls:o,className:S==null?void 0:S(fe),style:I==null?void 0:I(fe),motion:y,onNoticeClose:H,onAllNoticeRemoved:ne,stack:z});return L?L(ve,{prefixCls:o,key:fe}):ve})),f)}),Mr=ar,qr=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications"],oi=function(){return document.body},Zi=0;function ft(){for(var e={},t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return a.forEach(function(f){f&&Object.keys(f).forEach(function(y){var _=f[y];_!==void 0&&(e[y]=_)})}),e}function _n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.getContainer,a=t===void 0?oi:t,o=e.motion,f=e.prefixCls,y=e.maxCount,_=e.className,S=e.style,I=e.onAllRemoved,A=e.stack,z=e.renderNotifications,L=(0,de.Z)(e,qr),F=s.useState(),Z=(0,Pe.Z)(F,2),k=Z[0],W=Z[1],H=s.useRef(),X=s.createElement(Mr,{container:k,ref:H,prefixCls:f,motion:o,maxCount:y,className:_,style:S,onAllRemoved:I,stack:A,renderNotifications:z}),Q=s.useState([]),re=(0,Pe.Z)(Q,2),ie=re[0],ne=re[1],ae=s.useMemo(function(){return{open:function(fe){var he=ft(L,fe);(he.key===null||he.key===void 0)&&(he.key="rc-notification-".concat(Zi),Zi+=1),ne(function(ve){return[].concat((0,Ie.Z)(ve),[{type:"open",config:he}])})},close:function(fe){ne(function(he){return[].concat((0,Ie.Z)(he),[{type:"close",key:fe}])})},destroy:function(){ne(function(fe){return[].concat((0,Ie.Z)(fe),[{type:"destroy"}])})}}},[]);return s.useEffect(function(){W(a())}),s.useEffect(function(){if(H.current&&ie.length){ie.forEach(function(he){switch(he.type){case"open":H.current.open(he.config);break;case"close":H.current.close(he.key);break;case"destroy":H.current.destroy();break}});var ue,fe;ne(function(he){return(ue!==he||!fe)&&(ue=he,fe=he.filter(function(ve){return!ie.includes(ve)})),fe})}},[ie]),[ae,X]}var Ut=j(24573),bn=j(19952);const sr=e=>{const{componentCls:t,iconCls:a,boxShadow:o,colorText:f,colorSuccess:y,colorError:_,colorWarning:S,colorInfo:I,fontSizeLG:A,motionEaseInOutCirc:z,motionDurationSlow:L,marginXS:F,paddingXS:Z,borderRadiusLG:k,zIndexPopup:W,contentPadding:H,contentBg:X}=e,Q=`${t}-notice`,re=new me.E4("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:Z,transform:"translateY(0)",opacity:1}}),ie=new me.E4("MessageMoveOut",{"0%":{maxHeight:e.height,padding:Z,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}}),ne={padding:Z,textAlign:"center",[`${t}-custom-content`]:{display:"flex",alignItems:"center"},[`${t}-custom-content > ${a}`]:{marginInlineEnd:F,fontSize:A},[`${Q}-content`]:{display:"inline-block",padding:H,background:X,borderRadius:k,boxShadow:o,pointerEvents:"all"},[`${t}-success > ${a}`]:{color:y},[`${t}-error > ${a}`]:{color:_},[`${t}-warning > ${a}`]:{color:S},[`${t}-info > ${a},
      ${t}-loading > ${a}`]:{color:I}};return[{[t]:Object.assign(Object.assign({},(0,nn.Wf)(e)),{color:f,position:"fixed",top:F,width:"100%",pointerEvents:"none",zIndex:W,[`${t}-move-up`]:{animationFillMode:"forwards"},[`
        ${t}-move-up-appear,
        ${t}-move-up-enter
      `]:{animationName:re,animationDuration:L,animationPlayState:"paused",animationTimingFunction:z},[`
        ${t}-move-up-appear${t}-move-up-appear-active,
        ${t}-move-up-enter${t}-move-up-enter-active
      `]:{animationPlayState:"running"},[`${t}-move-up-leave`]:{animationName:ie,animationDuration:L,animationPlayState:"paused",animationTimingFunction:z},[`${t}-move-up-leave${t}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[t]:{[`${Q}-wrapper`]:Object.assign({},ne)}},{[`${t}-notice-pure-panel`]:Object.assign(Object.assign({},ne),{padding:0,textAlign:"start"})}]},Yr=e=>({zIndexPopup:e.zIndexPopupBase+bn.u6+10,contentBg:e.colorBgElevated,contentPadding:`${(e.controlHeightLG-e.fontSize*e.lineHeight)/2}px ${e.paddingSM}px`});var Ti=(0,oe.I$)("Message",e=>{const t=(0,kr.IX)(e,{height:150});return[sr(t)]},Yr),ho=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const zi={info:s.createElement(In,null),success:s.createElement(Ht.Z,null),error:s.createElement(Ar.Z,null),warning:s.createElement(Dr.Z,null),loading:s.createElement(Ut.Z,null)},Ji=e=>{let{prefixCls:t,type:a,icon:o,children:f}=e;return s.createElement("div",{className:J()(`${t}-custom-content`,`${t}-${a}`)},o||zi[a],s.createElement("span",null,f))};var Ni=e=>{const{prefixCls:t,className:a,type:o,icon:f,content:y}=e,_=ho(e,["prefixCls","className","type","icon","content"]),{getPrefixCls:S}=s.useContext(_e.E_),I=t||S("message"),A=(0,Ln.Z)(I),[z,L,F]=Ti(I,A);return z(s.createElement(Yt,Object.assign({},_,{prefixCls:I,className:J()(a,L,`${I}-notice-pure-panel`,F,A),eventKey:"pure",duration:null,content:s.createElement(Ji,{prefixCls:I,type:o,icon:f},y)})))};function Po(e,t){return{motionName:t!=null?t:`${e}-move-up`}}function Vo(e){let t;const a=new Promise(f=>{t=e(()=>{f(!0)})}),o=()=>{t==null||t()};return o.then=(f,y)=>a.then(f,y),o.promise=a,o}var $o=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const _o=8,Oo=3,zo=e=>{let{children:t,prefixCls:a}=e;const o=(0,Ln.Z)(a),[f,y,_]=Ti(a,o);return f(s.createElement(Et,{classNames:{list:J()(y,_,o)}},t))},qo=(e,t)=>{let{prefixCls:a,key:o}=t;return s.createElement(zo,{prefixCls:a,key:o},e)},oo=s.forwardRef((e,t)=>{const{top:a,prefixCls:o,getContainer:f,maxCount:y,duration:_=Oo,rtl:S,transitionName:I,onAllRemoved:A}=e,{getPrefixCls:z,getPopupContainer:L,message:F,direction:Z}=s.useContext(_e.E_),k=o||z("message"),W=()=>({left:"50%",transform:"translateX(-50%)",top:a!=null?a:_o}),H=()=>J()({[`${k}-rtl`]:S!=null?S:Z==="rtl"}),X=()=>Po(k,I),Q=s.createElement("span",{className:`${k}-close-x`},s.createElement(Cr.Z,{className:`${k}-close-icon`})),[re,ie]=_n({prefixCls:k,style:W,className:H,motion:X,closable:!1,closeIcon:Q,duration:_,getContainer:()=>(f==null?void 0:f())||(L==null?void 0:L())||document.body,maxCount:y,onAllRemoved:A,renderNotifications:qo});return s.useImperativeHandle(t,()=>Object.assign(Object.assign({},re),{prefixCls:k,message:F})),ie});let wo=0;function go(e){const t=s.useRef(null),a=(0,io.ln)("Message");return[s.useMemo(()=>{const f=A=>{var z;(z=t.current)===null||z===void 0||z.close(A)},y=A=>{if(!t.current){const ue=()=>{};return ue.then=()=>{},ue}const{open:z,prefixCls:L,message:F}=t.current,Z=`${L}-notice`,{content:k,icon:W,type:H,key:X,className:Q,style:re,onClose:ie}=A,ne=$o(A,["content","icon","type","key","className","style","onClose"]);let ae=X;return ae==null&&(wo+=1,ae=`antd-message-${wo}`),Vo(ue=>(z(Object.assign(Object.assign({},ne),{key:ae,content:s.createElement(Ji,{prefixCls:L,type:H,icon:W},k),placement:"top",className:J()(H&&`${Z}-${H}`,Q,F==null?void 0:F.className),style:Object.assign(Object.assign({},F==null?void 0:F.style),re),onClose:()=>{ie==null||ie(),ue()}})),()=>{f(ae)}))},S={open:y,destroy:A=>{var z;A!==void 0?f(A):(z=t.current)===null||z===void 0||z.destroy()}};return["info","success","warning","error","loading"].forEach(A=>{const z=(L,F,Z)=>{let k;L&&typeof L=="object"&&"content"in L?k=L:k={content:L};let W,H;typeof F=="function"?H=F:(W=F,H=Z);const X=Object.assign(Object.assign({onClose:H,duration:W},k),{type:A});return y(X)};S[A]=z}),S},[]),s.createElement(oo,Object.assign({key:"message-holder"},e,{ref:t}))]}function so(e){return go(e)}function to(){const[e,t]=s.useState([]),a=s.useCallback(o=>(t(f=>[].concat((0,Ie.Z)(f),[o])),()=>{t(f=>f.filter(y=>y!==o))}),[]);return[e,a]}var ko=j(62639),Pr=j(57250),Ho=j(90594),ha=(0,K.Z)({},Je),za=ha.version,Vi=ha.render,ma=ha.unmountComponentAtNode,qa;try{var Jr=Number((za||"").split(".")[0]);Jr>=18&&(qa=ha.createRoot)}catch(e){}function vo(e){var t=ha.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;t&&(0,dt.Z)(t)==="object"&&(t.usingClientEntryPoint=e)}var Ao="__rc_react_root__";function Yo(e,t){vo(!0);var a=t[Ao]||qa(t);vo(!1),a.render(e),t[Ao]=a}function co(e,t){Vi==null||Vi(e,t)}function Ai(e,t){}function ga(e,t){if(qa){Yo(e,t);return}co(e,t)}function jo(e){return en.apply(this,arguments)}function en(){return en=(0,Ho.Z)((0,Pr.Z)().mark(function e(t){return(0,Pr.Z)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Promise.resolve().then(function(){var f;(f=t[Ao])===null||f===void 0||f.unmount(),delete t[Ao]}));case 1:case"end":return o.stop()}},e)})),en.apply(this,arguments)}function Ve(e){ma(e)}function be(e){}function Ze(e){return De.apply(this,arguments)}function De(){return De=(0,Ho.Z)((0,Pr.Z)().mark(function e(t){return(0,Pr.Z)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(qa===void 0){o.next=2;break}return o.abrupt("return",jo(t));case 2:Ve(t);case 3:case"end":return o.stop()}},e)})),De.apply(this,arguments)}let tn=(e,t)=>(ga(e,t),()=>Ze(t));function Wn(e){tn=e}function pr(){return tn}var ir=j(13635),rr=j(77648),Vr=j(67699),Si=j(60784),Ci=j(18051),pi=j(60900);const wi=e=>{const{componentCls:t,colorPrimary:a}=e;return{[t]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${a})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${e.motionEaseOutCirc}`,`opacity 2s ${e.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow ${e.motionDurationSlow} ${e.motionEaseInOut}`,`opacity ${e.motionDurationSlow} ${e.motionEaseInOut}`].join(",")}}}}};var ti=(0,oe.A1)("Wave",e=>[wi(e)]);const Ri=`${_e.Rf}-wave-target`;function $i(e){return e&&e!=="#fff"&&e!=="#ffffff"&&e!=="rgb(255, 255, 255)"&&e!=="rgba(255, 255, 255, 1)"&&!/rgba\((?:\d*, ){3}0\)/.test(e)&&e!=="transparent"}function yo(e){const{borderTopColor:t,borderColor:a,backgroundColor:o}=getComputedStyle(e);return $i(t)?t:$i(a)?a:$i(o)?o:null}function Qo(e){return Number.isNaN(e)?0:e}const aa=e=>{const{className:t,target:a,component:o,registerUnmount:f}=e,y=s.useRef(null),_=s.useRef(null);s.useEffect(()=>{_.current=f()},[]);const[S,I]=s.useState(null),[A,z]=s.useState([]),[L,F]=s.useState(0),[Z,k]=s.useState(0),[W,H]=s.useState(0),[X,Q]=s.useState(0),[re,ie]=s.useState(!1),ne={left:L,top:Z,width:W,height:X,borderRadius:A.map(fe=>`${fe}px`).join(" ")};S&&(ne["--wave-color"]=S);function ae(){const fe=getComputedStyle(a);I(yo(a));const he=fe.position==="static",{borderLeftWidth:ve,borderTopWidth:ye}=fe;F(he?a.offsetLeft:Qo(-parseFloat(ve))),k(he?a.offsetTop:Qo(-parseFloat(ye))),H(a.offsetWidth),Q(a.offsetHeight);const{borderTopLeftRadius:we,borderTopRightRadius:Se,borderBottomLeftRadius:ze,borderBottomRightRadius:Te}=fe;z([we,Se,Te,ze].map(Fe=>Qo(parseFloat(Fe))))}if(s.useEffect(()=>{if(a){const fe=(0,He.Z)(()=>{ae(),ie(!0)});let he;return typeof ResizeObserver!="undefined"&&(he=new ResizeObserver(ae),he.observe(a)),()=>{He.Z.cancel(fe),he==null||he.disconnect()}}},[]),!re)return null;const ue=(o==="Checkbox"||o==="Radio")&&(a==null?void 0:a.classList.contains(Ri));return s.createElement(Rn.ZP,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(fe,he)=>{var ve,ye;if(he.deadline||he.propertyName==="opacity"){const we=(ve=y.current)===null||ve===void 0?void 0:ve.parentElement;(ye=_.current)===null||ye===void 0||ye.call(_).then(()=>{we==null||we.remove()})}return!1}},(fe,he)=>{let{className:ve}=fe;return s.createElement("div",{ref:(0,an.sQ)(y,he),className:J()(t,ve,{"wave-quick":ue}),style:ne})})};var Ma=(e,t)=>{var a;const{component:o}=t;if(o==="Checkbox"&&!(!((a=e.querySelector("input"))===null||a===void 0)&&a.checked))return;const f=document.createElement("div");f.style.position="absolute",f.style.left="0px",f.style.top="0px",e==null||e.insertBefore(f,e==null?void 0:e.firstChild);const y=pr();let _=null;function S(){return _}_=y(s.createElement(aa,Object.assign({},t,{target:e,registerUnmount:S})),f)},Ca=(e,t,a)=>{const{wave:o}=s.useContext(_e.E_),[,f,y]=(0,Vr.ZP)(),_=(0,ur.Z)(A=>{const z=e.current;if(o!=null&&o.disabled||!z)return;const L=z.querySelector(`.${Ri}`)||z,{showEffect:F}=o||{};(F||Ma)(L,{className:t,token:f,component:a,event:A,hashId:y})}),S=s.useRef(null);return A=>{He.Z.cancel(S.current),S.current=(0,He.Z)(()=>{_(A)})}},ca=e=>{const{children:t,disabled:a,component:o}=e,{getPrefixCls:f}=(0,s.useContext)(_e.E_),y=(0,s.useRef)(null),_=f("wave"),[,S]=ti(_),I=Ca(y,J()(_,S),o);if(s.useEffect(()=>{const z=y.current;if(!z||z.nodeType!==1||a)return;const L=F=>{!(0,pi.Z)(F.target)||!z.getAttribute||z.getAttribute("disabled")||z.disabled||z.className.includes("disabled")||z.className.includes("-leave")||I(F)};return z.addEventListener("click",L,!0),()=>{z.removeEventListener("click",L,!0)}},[a]),!s.isValidElement(t))return t!=null?t:null;const A=(0,an.Yr)(t)?(0,an.sQ)((0,an.C4)(t),y):y;return(0,Tn.Tm)(t,{ref:A})},cs=j(98472),Va=j(95741),as=j(23137),nl=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const cl=s.createContext(void 0);var Hs=e=>{const{getPrefixCls:t,direction:a}=s.useContext(_e.E_),{prefixCls:o,size:f,className:y}=e,_=nl(e,["prefixCls","size","className"]),S=t("btn-group",o),[,,I]=(0,Vr.ZP)(),A=s.useMemo(()=>{switch(f){case"large":return"lg";case"small":return"sm";default:return""}},[f]),z=J()(S,{[`${S}-${A}`]:A,[`${S}-rtl`]:a==="rtl"},y,I);return s.createElement(cl.Provider,{value:f},s.createElement("div",Object.assign({},_,{className:z})))},Bl=j(98990);const wc=/^[\u4E00-\u9FA5]{2}$/,ua=wc.test.bind(wc);function Ha(e){return e==="danger"?{danger:!0}:{type:e}}function da(e){return typeof e=="string"}function Jo(e){return e==="text"||e==="link"}function ys(e,t){if(e==null)return;const a=t?" ":"";return typeof e!="string"&&typeof e!="number"&&da(e.type)&&ua(e.props.children)?(0,Tn.Tm)(e,{children:e.props.children.split("").join(a)}):da(e)?ua(e)?s.createElement("span",null,e.split("").join(a)):s.createElement("span",null,e):(0,Tn.M2)(e)?s.createElement("span",null,e):e}function Fs(e,t){let a=!1;const o=[];return s.Children.forEach(e,f=>{const y=typeof f,_=y==="string"||y==="number";if(a&&_){const S=o.length-1,I=o[S];o[S]=`${I}${f}`}else o.push(f);a=_}),s.Children.map(o,f=>ys(f,t))}const rc=null,gc=null,Zc=null,Ml=null,Xl=["default","primary","danger"].concat((0,Ie.Z)(Bl.i));var To=(0,s.forwardRef)((e,t)=>{const{className:a,style:o,children:f,prefixCls:y}=e,_=J()(`${y}-icon`,a);return s.createElement("span",{ref:t,className:_,style:o},f)});const ru=(0,s.forwardRef)((e,t)=>{const{prefixCls:a,className:o,style:f,iconClassName:y}=e,_=J()(`${a}-loading-icon`,o);return s.createElement(To,{prefixCls:a,className:_,style:f,ref:t},s.createElement(Ut.Z,{className:y}))}),Zo=()=>({width:0,opacity:0,transform:"scale(0)"}),Fl=e=>({width:e.scrollWidth,opacity:1,transform:"scale(1)"});var ea=e=>{const{prefixCls:t,loading:a,existIcon:o,className:f,style:y,mount:_}=e,S=!!a;return o?s.createElement(ru,{prefixCls:t,className:f,style:y}):s.createElement(Rn.ZP,{visible:S,motionName:`${t}-loading-icon-motion`,motionAppear:!_,motionEnter:!_,motionLeave:!_,removeOnLeave:!0,onAppearStart:Zo,onAppearActive:Fl,onEnterStart:Zo,onEnterActive:Fl,onLeaveStart:Fl,onLeaveActive:Zo},(I,A)=>{let{className:z,style:L}=I;const F=Object.assign(Object.assign({},y),L);return s.createElement(ru,{prefixCls:t,className:J()(f,z),style:F,ref:A})})};const cc=(e,t)=>({[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineEndColor:t}}},"&:not(:first-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineStartColor:t}}}}});var iu=e=>{const{componentCls:t,fontSize:a,lineWidth:o,groupBorderColor:f,colorErrorHover:y}=e;return{[`${t}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${t}`]:{"&:not(:last-child)":{[`&, & > ${t}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:e.calc(o).mul(-1).equal(),[`&, & > ${t}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[t]:{position:"relative",zIndex:1,"&:hover, &:focus, &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${t}-icon-only`]:{fontSize:a}},cc(`${t}-primary`,f),cc(`${t}-danger`,y)]}},ju=j(82227),Kl=j(29230),ll=j(78611),Ei=j(58570);const Eu=e=>{const{paddingInline:t,onlyIconSize:a}=e;return(0,kr.IX)(e,{buttonPaddingHorizontal:t,buttonPaddingVertical:0,buttonIconOnlyFontSize:a})},Iu=e=>{var t,a,o,f,y,_;const S=(t=e.contentFontSize)!==null&&t!==void 0?t:e.fontSize,I=(a=e.contentFontSizeSM)!==null&&a!==void 0?a:e.fontSize,A=(o=e.contentFontSizeLG)!==null&&o!==void 0?o:e.fontSizeLG,z=(f=e.contentLineHeight)!==null&&f!==void 0?f:(0,ll.D)(S),L=(y=e.contentLineHeightSM)!==null&&y!==void 0?y:(0,ll.D)(I),F=(_=e.contentLineHeightLG)!==null&&_!==void 0?_:(0,ll.D)(A),Z=(0,Kl.U)(new ju.y9(e.colorBgSolid),"#fff")?"#000":"#fff",k=Bl.i.reduce((W,H)=>Object.assign(Object.assign({},W),{[`${H}ShadowColor`]:`0 ${(0,me.bf)(e.controlOutlineWidth)} 0 ${(0,Ei.Z)(e[`${H}1`],e.colorBgContainer)}`}),{});return Object.assign(Object.assign({},k),{fontWeight:400,defaultShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlTmpOutline}`,primaryShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlOutline}`,dangerShadow:`0 ${e.controlOutlineWidth}px 0 ${e.colorErrorOutline}`,primaryColor:e.colorTextLightSolid,dangerColor:e.colorTextLightSolid,borderColorDisabled:e.colorBorder,defaultGhostColor:e.colorBgContainer,ghostBg:"transparent",defaultGhostBorderColor:e.colorBgContainer,paddingInline:e.paddingContentHorizontal-e.lineWidth,paddingInlineLG:e.paddingContentHorizontal-e.lineWidth,paddingInlineSM:8-e.lineWidth,onlyIconSize:"inherit",onlyIconSizeSM:"inherit",onlyIconSizeLG:"inherit",groupBorderColor:e.colorPrimaryHover,linkHoverBg:"transparent",textTextColor:e.colorText,textTextHoverColor:e.colorText,textTextActiveColor:e.colorText,textHoverBg:e.colorFillTertiary,defaultColor:e.colorText,defaultBg:e.colorBgContainer,defaultBorderColor:e.colorBorder,defaultBorderColorDisabled:e.colorBorder,defaultHoverBg:e.colorBgContainer,defaultHoverColor:e.colorPrimaryHover,defaultHoverBorderColor:e.colorPrimaryHover,defaultActiveBg:e.colorBgContainer,defaultActiveColor:e.colorPrimaryActive,defaultActiveBorderColor:e.colorPrimaryActive,solidTextColor:Z,contentFontSize:S,contentFontSizeSM:I,contentFontSizeLG:A,contentLineHeight:z,contentLineHeightSM:L,contentLineHeightLG:F,paddingBlock:Math.max((e.controlHeight-S*z)/2-e.lineWidth,0),paddingBlockSM:Math.max((e.controlHeightSM-I*L)/2-e.lineWidth,0),paddingBlockLG:Math.max((e.controlHeightLG-A*F)/2-e.lineWidth,0)})},hu=e=>{const{componentCls:t,iconCls:a,fontWeight:o,opacityLoading:f,motionDurationSlow:y,motionEaseInOut:_,marginXS:S,calc:I}=e;return{[t]:{outline:"none",position:"relative",display:"inline-flex",gap:e.marginXS,alignItems:"center",justifyContent:"center",fontWeight:o,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",background:"transparent",border:`${(0,me.bf)(e.lineWidth)} ${e.lineType} transparent`,cursor:"pointer",transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",color:e.colorText,"&:disabled > *":{pointerEvents:"none"},[`${t}-icon > svg`]:(0,nn.Ro)(),"> a":{color:"currentColor"},"&:not(:disabled)":(0,nn.Qy)(e),[`&${t}-two-chinese-chars::first-letter`]:{letterSpacing:"0.34em"},[`&${t}-two-chinese-chars > *:not(${a})`]:{marginInlineEnd:"-0.34em",letterSpacing:"0.34em"},[`&${t}-icon-only`]:{paddingInline:0,[`&${t}-compact-item`]:{flex:"none"},[`&${t}-round`]:{width:"auto"}},[`&${t}-loading`]:{opacity:f,cursor:"default"},[`${t}-loading-icon`]:{transition:["width","opacity","margin"].map(A=>`${A} ${y} ${_}`).join(",")},[`&:not(${t}-icon-end)`]:{[`${t}-loading-icon-motion`]:{"&-appear-start, &-enter-start":{marginInlineEnd:I(S).mul(-1).equal()},"&-appear-active, &-enter-active":{marginInlineEnd:0},"&-leave-start":{marginInlineEnd:0},"&-leave-active":{marginInlineEnd:I(S).mul(-1).equal()}}},"&-icon-end":{flexDirection:"row-reverse",[`${t}-loading-icon-motion`]:{"&-appear-start, &-enter-start":{marginInlineStart:I(S).mul(-1).equal()},"&-appear-active, &-enter-active":{marginInlineStart:0},"&-leave-start":{marginInlineStart:0},"&-leave-active":{marginInlineStart:I(S).mul(-1).equal()}}}}}},Gt=(e,t,a)=>({[`&:not(:disabled):not(${e}-disabled)`]:{"&:hover":t,"&:active":a}}),An=e=>({minWidth:e.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),jn=e=>({borderRadius:e.controlHeight,paddingInlineStart:e.calc(e.controlHeight).div(2).equal(),paddingInlineEnd:e.calc(e.controlHeight).div(2).equal()}),tr=e=>({cursor:"not-allowed",borderColor:e.borderColorDisabled,color:e.colorTextDisabled,background:e.colorBgContainerDisabled,boxShadow:"none"}),Lr=(e,t,a,o,f,y,_,S)=>({[`&${e}-background-ghost`]:Object.assign(Object.assign({color:a||void 0,background:t,borderColor:o||void 0,boxShadow:"none"},Gt(e,Object.assign({background:t},_),Object.assign({background:t},S))),{"&:disabled":{cursor:"not-allowed",color:f||void 0,borderColor:y||void 0}})}),Fi=e=>({[`&:disabled, &${e.componentCls}-disabled`]:Object.assign({},tr(e))}),ao=e=>({[`&:disabled, &${e.componentCls}-disabled`]:{cursor:"not-allowed",color:e.colorTextDisabled}}),Li=(e,t,a,o)=>{const y=o&&["link","text"].includes(o)?ao:Fi;return Object.assign(Object.assign({},y(e)),Gt(e.componentCls,t,a))},mo=(e,t,a,o,f)=>({[`&${e.componentCls}-variant-solid`]:Object.assign({color:t,background:a},Li(e,o,f))}),Hi=(e,t,a,o,f)=>({[`&${e.componentCls}-variant-outlined, &${e.componentCls}-variant-dashed`]:Object.assign({borderColor:t,background:a},Li(e,o,f))}),ki=e=>({[`&${e.componentCls}-variant-dashed`]:{borderStyle:"dashed"}}),Fo=(e,t,a,o)=>({[`&${e.componentCls}-variant-filled`]:Object.assign({boxShadow:"none",background:t},Li(e,a,o))}),fo=(e,t,a,o,f)=>({[`&${e.componentCls}-variant-${a}`]:Object.assign({color:t,boxShadow:"none"},Li(e,o,f,a))}),Xo=e=>{const{componentCls:t}=e;return Bl.i.reduce((a,o)=>{const f=e[`${o}6`],y=e[`${o}1`],_=e[`${o}5`],S=e[`${o}2`],I=e[`${o}3`],A=e[`${o}7`];return Object.assign(Object.assign({},a),{[`&${t}-color-${o}`]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:f,boxShadow:e[`${o}ShadowColor`]},mo(e,e.colorTextLightSolid,f,{background:_},{background:A})),Hi(e,f,e.colorBgContainer,{color:_,borderColor:_,background:e.colorBgContainer},{color:A,borderColor:A,background:e.colorBgContainer})),ki(e)),Fo(e,y,{background:S},{background:I})),fo(e,f,"link",{color:_},{color:A})),fo(e,f,"text",{color:_,background:y},{color:A,background:I}))})},{})},Ga=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.defaultColor,boxShadow:e.defaultShadow},mo(e,e.solidTextColor,e.colorBgSolid,{color:e.solidTextColor,background:e.colorBgSolidHover},{color:e.solidTextColor,background:e.colorBgSolidActive})),ki(e)),Fo(e,e.colorFillTertiary,{background:e.colorFillSecondary},{background:e.colorFill})),Lr(e.componentCls,e.ghostBg,e.defaultGhostColor,e.defaultGhostBorderColor,e.colorTextDisabled,e.colorBorder)),fo(e,e.textTextColor,"link",{color:e.colorLinkHover,background:e.linkHoverBg},{color:e.colorLinkActive})),la=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.colorPrimary,boxShadow:e.primaryShadow},Hi(e,e.colorPrimary,e.colorBgContainer,{color:e.colorPrimaryTextHover,borderColor:e.colorPrimaryHover,background:e.colorBgContainer},{color:e.colorPrimaryTextActive,borderColor:e.colorPrimaryActive,background:e.colorBgContainer})),ki(e)),Fo(e,e.colorPrimaryBg,{background:e.colorPrimaryBgHover},{background:e.colorPrimaryBorder})),fo(e,e.colorPrimaryText,"text",{color:e.colorPrimaryTextHover,background:e.colorPrimaryBg},{color:e.colorPrimaryTextActive,background:e.colorPrimaryBorder})),fo(e,e.colorPrimaryText,"link",{color:e.colorPrimaryTextHover,background:e.linkHoverBg},{color:e.colorPrimaryTextActive})),Lr(e.componentCls,e.ghostBg,e.colorPrimary,e.colorPrimary,e.colorTextDisabled,e.colorBorder,{color:e.colorPrimaryHover,borderColor:e.colorPrimaryHover},{color:e.colorPrimaryActive,borderColor:e.colorPrimaryActive})),Pa=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.colorError,boxShadow:e.dangerShadow},mo(e,e.dangerColor,e.colorError,{background:e.colorErrorHover},{background:e.colorErrorActive})),Hi(e,e.colorError,e.colorBgContainer,{color:e.colorErrorHover,borderColor:e.colorErrorBorderHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),ki(e)),Fo(e,e.colorErrorBg,{background:e.colorErrorBgFilledHover},{background:e.colorErrorBgActive})),fo(e,e.colorError,"text",{color:e.colorErrorHover,background:e.colorErrorBg},{color:e.colorErrorHover,background:e.colorErrorBgActive})),fo(e,e.colorError,"link",{color:e.colorErrorHover},{color:e.colorErrorActive})),Lr(e.componentCls,e.ghostBg,e.colorError,e.colorError,e.colorTextDisabled,e.colorBorder,{color:e.colorErrorHover,borderColor:e.colorErrorHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),es=e=>Object.assign(Object.assign({},fo(e,e.colorLink,"link",{color:e.colorLinkHover},{color:e.colorLinkActive})),Lr(e.componentCls,e.ghostBg,e.colorInfo,e.colorInfo,e.colorTextDisabled,e.colorBorder,{color:e.colorInfoHover,borderColor:e.colorInfoHover},{color:e.colorInfoActive,borderColor:e.colorInfoActive})),Ia=e=>{const{componentCls:t}=e;return Object.assign({[`${t}-color-default`]:Ga(e),[`${t}-color-primary`]:la(e),[`${t}-color-dangerous`]:Pa(e),[`${t}-color-link`]:es(e)},Xo(e))},Ja=e=>Object.assign(Object.assign(Object.assign(Object.assign({},Hi(e,e.defaultBorderColor,e.defaultBg,{color:e.defaultHoverColor,borderColor:e.defaultHoverBorderColor,background:e.defaultHoverBg},{color:e.defaultActiveColor,borderColor:e.defaultActiveBorderColor,background:e.defaultActiveBg})),fo(e,e.textTextColor,"text",{color:e.textTextHoverColor,background:e.textHoverBg},{color:e.textTextActiveColor,background:e.colorBgTextActive})),mo(e,e.primaryColor,e.colorPrimary,{background:e.colorPrimaryHover,color:e.primaryColor},{background:e.colorPrimaryActive,color:e.primaryColor})),fo(e,e.colorLink,"link",{color:e.colorLinkHover,background:e.linkHoverBg},{color:e.colorLinkActive})),ja=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const{componentCls:a,controlHeight:o,fontSize:f,borderRadius:y,buttonPaddingHorizontal:_,iconCls:S,buttonPaddingVertical:I,buttonIconOnlyFontSize:A}=e;return[{[t]:{fontSize:f,height:o,padding:`${(0,me.bf)(I)} ${(0,me.bf)(_)}`,borderRadius:y,[`&${a}-icon-only`]:{width:o,[S]:{fontSize:A}}}},{[`${a}${a}-circle${t}`]:An(e)},{[`${a}${a}-round${t}`]:jn(e)}]},ls=e=>{const t=(0,kr.IX)(e,{fontSize:e.contentFontSize});return ja(t,e.componentCls)},ss=e=>{const t=(0,kr.IX)(e,{controlHeight:e.controlHeightSM,fontSize:e.contentFontSizeSM,padding:e.paddingXS,buttonPaddingHorizontal:e.paddingInlineSM,buttonPaddingVertical:0,borderRadius:e.borderRadiusSM,buttonIconOnlyFontSize:e.onlyIconSizeSM});return ja(t,`${e.componentCls}-sm`)},Xa=e=>{const t=(0,kr.IX)(e,{controlHeight:e.controlHeightLG,fontSize:e.contentFontSizeLG,buttonPaddingHorizontal:e.paddingInlineLG,buttonPaddingVertical:0,borderRadius:e.borderRadiusLG,buttonIconOnlyFontSize:e.onlyIconSizeLG});return ja(t,`${e.componentCls}-lg`)},Ds=e=>{const{componentCls:t}=e;return{[t]:{[`&${t}-block`]:{width:"100%"}}}};var ql=(0,oe.I$)("Button",e=>{const t=Eu(e);return[hu(t),ls(t),ss(t),Xa(t),Ds(t),Ia(t),Ja(t),iu(t)]},Iu,{unitless:{fontWeight:!0,contentLineHeight:!0,contentLineHeightSM:!0,contentLineHeightLG:!0}}),ul=j(9288);function mu(e,t){return{[`&-item:not(${t}-last-item)`]:{marginBottom:e.calc(e.lineWidth).mul(-1).equal()},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function Zu(e,t){return{[`&-item:not(${t}-first-item):not(${t}-last-item)`]:{borderRadius:0},[`&-item${t}-first-item:not(${t}-last-item)`]:{[`&, &${e}-sm, &${e}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${t}-last-item:not(${t}-first-item)`]:{[`&, &${e}-sm, &${e}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}}function Vl(e){const t=`${e.componentCls}-compact-vertical`;return{[t]:Object.assign(Object.assign({},mu(e,t)),Zu(e.componentCls,t))}}const $l=e=>{const{componentCls:t,colorPrimaryHover:a,lineWidth:o,calc:f}=e,y=f(o).mul(-1).equal(),_=S=>{const I=`${t}-compact${S?"-vertical":""}-item${t}-primary:not([disabled])`;return{[`${I} + ${I}::before`]:{position:"absolute",top:S?y:0,insetInlineStart:S?0:y,backgroundColor:a,content:'""',width:S?"100%":o,height:S?o:"100%"}}};return Object.assign(Object.assign({},_()),_(!0))};var kl=(0,oe.bk)(["Button","compact"],e=>{const t=Eu(e);return[(0,ul.c)(t),Vl(t),$l(t)]},Iu),yc=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};function bc(e){if(typeof e=="object"&&e){let t=e==null?void 0:e.delay;return t=!Number.isNaN(t)&&typeof t=="number"?t:0,{loading:t<=0,delay:t}}return{loading:!!e,delay:0}}const uc={default:["default","outlined"],primary:["primary","solid"],dashed:["default","dashed"],link:["link","link"],text:["default","text"]},jl=s.forwardRef((e,t)=>{var a,o;const{loading:f=!1,prefixCls:y,color:_,variant:S,type:I,danger:A=!1,shape:z="default",size:L,styles:F,disabled:Z,className:k,rootClassName:W,children:H,icon:X,iconPosition:Q="start",ghost:re=!1,block:ie=!1,htmlType:ne="button",classNames:ae,style:ue={},autoInsertSpace:fe,autoFocus:he}=e,ve=yc(e,["loading","prefixCls","color","variant","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","iconPosition","ghost","block","htmlType","classNames","style","autoInsertSpace","autoFocus"]),ye=I||"default",[we,Se]=(0,s.useMemo)(()=>{if(_&&S)return[_,S];const er=uc[ye]||[];return A?["danger",er[1]]:er},[I,_,S,A]),Te=we==="danger"?"dangerous":we,{getPrefixCls:Fe,direction:Ae,autoInsertSpace:Ke,className:tt,style:vt,classNames:bt,styles:lt}=(0,_e.dj)("button"),ct=(a=fe!=null?fe:Ke)!==null&&a!==void 0?a:!0,mt=Fe("btn",y),[Rt,wt,Bt]=ql(mt),Ct=(0,s.useContext)(cs.Z),dn=Z!=null?Z:Ct,zn=(0,s.useContext)(cl),rn=(0,s.useMemo)(()=>bc(f),[f]),[Cn,Vt]=(0,s.useState)(rn.loading),[At,$n]=(0,s.useState)(!1),yn=(0,s.useRef)(null),Ir=(0,an.x1)(t,yn),cr=s.Children.count(H)===1&&!X&&!Jo(Se),Kn=(0,s.useRef)(!0);s.useEffect(()=>(Kn.current=!1,()=>{Kn.current=!0}),[]),(0,s.useEffect)(()=>{let er=null;rn.delay>0?er=setTimeout(()=>{er=null,Vt(!0)},rn.delay):Vt(rn.loading);function gr(){er&&(clearTimeout(er),er=null)}return gr},[rn]),(0,s.useEffect)(()=>{if(!yn.current||!ct)return;const er=yn.current.textContent||"";cr&&ua(er)?At||$n(!0):At&&$n(!1)}),(0,s.useEffect)(()=>{he&&yn.current&&yn.current.focus()},[]);const qn=s.useCallback(er=>{var gr;if(Cn||dn){er.preventDefault();return}(gr=e.onClick)===null||gr===void 0||gr.call(e,("href"in e,er))},[e.onClick,Cn,dn]),{compactSize:Pn,compactItemClassnames:Yn}=(0,as.ri)(mt,Ae),zr={large:"lg",small:"sm",middle:void 0},si=(0,Va.Z)(er=>{var gr,Zn;return(Zn=(gr=L!=null?L:Pn)!==null&&gr!==void 0?gr:zn)!==null&&Zn!==void 0?Zn:er}),yi=si&&(o=zr[si])!==null&&o!==void 0?o:"",Di=Cn?"loading":X,Eo=(0,Ci.Z)(ve,["navigate"]),gi=J()(mt,wt,Bt,{[`${mt}-${z}`]:z!=="default"&&z,[`${mt}-${ye}`]:ye,[`${mt}-dangerous`]:A,[`${mt}-color-${Te}`]:Te,[`${mt}-variant-${Se}`]:Se,[`${mt}-${yi}`]:yi,[`${mt}-icon-only`]:!H&&H!==0&&!!Di,[`${mt}-background-ghost`]:re&&!Jo(Se),[`${mt}-loading`]:Cn,[`${mt}-two-chinese-chars`]:At&&ct&&!Cn,[`${mt}-block`]:ie,[`${mt}-rtl`]:Ae==="rtl",[`${mt}-icon-end`]:Q==="end"},Yn,k,W,tt),ai=Object.assign(Object.assign({},vt),ue),mi=J()(ae==null?void 0:ae.icon,bt.icon),Xi=Object.assign(Object.assign({},(F==null?void 0:F.icon)||{}),lt.icon||{}),Pi=X&&!Cn?s.createElement(To,{prefixCls:mt,className:mi,style:Xi},X):f&&typeof f=="object"&&f.icon?s.createElement(To,{prefixCls:mt,className:mi,style:Xi},f.icon):s.createElement(ea,{existIcon:!!X,prefixCls:mt,loading:Cn,mount:Kn.current}),Io=H||H===0?Fs(H,cr&&ct):null;if(Eo.href!==void 0)return Rt(s.createElement("a",Object.assign({},Eo,{className:J()(gi,{[`${mt}-disabled`]:dn}),href:dn?void 0:Eo.href,style:ai,onClick:qn,ref:Ir,tabIndex:dn?-1:0}),Pi,Io));let dr=s.createElement("button",Object.assign({},ve,{type:ne,className:gi,style:ai,onClick:qn,disabled:dn,ref:Ir}),Pi,Io,Yn&&s.createElement(kl,{prefixCls:mt}));return Jo(Se)||(dr=s.createElement(ca,{component:"Button",disabled:Cn},dr)),Rt(dr)});jl.Group=Hs,jl.__ANT_BUTTON=!0;var Vc=jl,ks=Vc;function dc(e){return!!(e!=null&&e.then)}var Qa=e=>{const{type:t,children:a,prefixCls:o,buttonProps:f,close:y,autoFocus:_,emitEvent:S,isSilent:I,quitOnNullishReturnValue:A,actionFn:z}=e,L=s.useRef(!1),F=s.useRef(null),[Z,k]=(0,Si.Z)(!1),W=function(){y==null||y.apply(void 0,arguments)};s.useEffect(()=>{let Q=null;return _&&(Q=setTimeout(()=>{var re;(re=F.current)===null||re===void 0||re.focus({preventScroll:!0})})),()=>{Q&&clearTimeout(Q)}},[]);const H=Q=>{dc(Q)&&(k(!0),Q.then(function(){k(!1,!0),W.apply(void 0,arguments),L.current=!1},re=>{if(k(!1,!0),L.current=!1,!(I!=null&&I()))return Promise.reject(re)}))},X=Q=>{if(L.current)return;if(L.current=!0,!z){W();return}let re;if(S){if(re=z(Q),A&&!dc(re)){L.current=!1,W(Q);return}}else if(z.length)re=z(y),L.current=!1;else if(re=z(),!dc(re)){W();return}H(re)};return s.createElement(ks,Object.assign({},Ha(t),{onClick:X,loading:Z,prefixCls:o},f,{ref:F}),a)};const ad=s.createContext({}),{Provider:Vu}=ad;var Yf=()=>{const{autoFocusButton:e,cancelButtonProps:t,cancelTextLocale:a,isSilent:o,mergedOkCancel:f,rootPrefixCls:y,close:_,onCancel:S,onConfirm:I}=(0,s.useContext)(ad);return f?s.createElement(Qa,{isSilent:o,actionFn:S,close:function(){_==null||_.apply(void 0,arguments),I==null||I(!1)},autoFocus:e==="cancel",buttonProps:t,prefixCls:`${y}-btn`},a):null},Vs=()=>{const{autoFocusButton:e,close:t,isSilent:a,okButtonProps:o,rootPrefixCls:f,okTextLocale:y,okType:_,onConfirm:S,onOk:I}=(0,s.useContext)(ad);return s.createElement(Qa,{isSilent:a,type:_||"primary",actionFn:I,close:function(){t==null||t.apply(void 0,arguments),S==null||S(!0)},autoFocus:e==="ok",buttonProps:o,prefixCls:`${f}-btn`},y)},pu=j(54869),tf=s.createContext({}),sd=j(89648),Od=j(73188);function Rd(e,t,a){var o=t;return!o&&a&&(o="".concat(e,"-").concat(a)),o}function Jf(e,t){var a=e["page".concat(t?"Y":"X","Offset")],o="scroll".concat(t?"Top":"Left");if(typeof a!="number"){var f=e.document;a=f.documentElement[o],typeof a!="number"&&(a=f.body[o])}return a}function Qf(e){var t=e.getBoundingClientRect(),a={left:t.left,top:t.top},o=e.ownerDocument,f=o.defaultView||o.parentWindow;return a.left+=Jf(f),a.top+=Jf(f,!0),a}var ld=s.memo(function(e){var t=e.children;return t},function(e,t){var a=t.shouldUpdate;return!a}),$d={width:0,height:0,overflow:"hidden",outline:"none"},eh={outline:"none"},_c=s.forwardRef(function(e,t){var a=e.prefixCls,o=e.className,f=e.style,y=e.title,_=e.ariaId,S=e.footer,I=e.closable,A=e.closeIcon,z=e.onClose,L=e.children,F=e.bodyStyle,Z=e.bodyProps,k=e.modalRender,W=e.onMouseDown,H=e.onMouseUp,X=e.holderRef,Q=e.visible,re=e.forceRender,ie=e.width,ne=e.height,ae=e.classNames,ue=e.styles,fe=s.useContext(tf),he=fe.panel,ve=(0,an.x1)(X,he),ye=(0,s.useRef)(),we=(0,s.useRef)();s.useImperativeHandle(t,function(){return{focus:function(){var lt;(lt=ye.current)===null||lt===void 0||lt.focus({preventScroll:!0})},changeActive:function(lt){var ct=document,mt=ct.activeElement;lt&&mt===we.current?ye.current.focus({preventScroll:!0}):!lt&&mt===ye.current&&we.current.focus({preventScroll:!0})}}});var Se={};ie!==void 0&&(Se.width=ie),ne!==void 0&&(Se.height=ne);var ze=S?s.createElement("div",{className:J()("".concat(a,"-footer"),ae==null?void 0:ae.footer),style:(0,K.Z)({},ue==null?void 0:ue.footer)},S):null,Te=y?s.createElement("div",{className:J()("".concat(a,"-header"),ae==null?void 0:ae.header),style:(0,K.Z)({},ue==null?void 0:ue.header)},s.createElement("div",{className:"".concat(a,"-title"),id:_},y)):null,Fe=(0,s.useMemo)(function(){return(0,dt.Z)(I)==="object"&&I!==null?I:I?{closeIcon:A!=null?A:s.createElement("span",{className:"".concat(a,"-close-x")})}:{}},[I,A,a]),Ae=(0,pt.Z)(Fe,!0),Ke=(0,dt.Z)(I)==="object"&&I.disabled,tt=I?s.createElement("button",(0,Ue.Z)({type:"button",onClick:z,"aria-label":"Close"},Ae,{className:"".concat(a,"-close"),disabled:Ke}),Fe.closeIcon):null,vt=s.createElement("div",{className:J()("".concat(a,"-content"),ae==null?void 0:ae.content),style:ue==null?void 0:ue.content},tt,Te,s.createElement("div",(0,Ue.Z)({className:J()("".concat(a,"-body"),ae==null?void 0:ae.body),style:(0,K.Z)((0,K.Z)({},F),ue==null?void 0:ue.body)},Z),L),ze);return s.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":y?_:null,"aria-modal":"true",ref:ve,style:(0,K.Z)((0,K.Z)({},f),Se),className:J()(a,o),onMouseDown:W,onMouseUp:H},s.createElement("div",{ref:ye,tabIndex:0,style:eh},s.createElement(ld,{shouldUpdate:Q||re},k?k(vt):vt)),s.createElement("div",{tabIndex:0,ref:we,style:$d}))}),Ad=_c,cd=s.forwardRef(function(e,t){var a=e.prefixCls,o=e.title,f=e.style,y=e.className,_=e.visible,S=e.forceRender,I=e.destroyOnClose,A=e.motionName,z=e.ariaId,L=e.onVisibleChanged,F=e.mousePosition,Z=(0,s.useRef)(),k=s.useState(),W=(0,Pe.Z)(k,2),H=W[0],X=W[1],Q={};H&&(Q.transformOrigin=H);function re(){var ie=Qf(Z.current);X(F&&(F.x||F.y)?"".concat(F.x-ie.left,"px ").concat(F.y-ie.top,"px"):"")}return s.createElement(Rn.ZP,{visible:_,onVisibleChanged:L,onAppearPrepare:re,onEnterPrepare:re,forceRender:S,motionName:A,removeOnLeave:I,ref:Z},function(ie,ne){var ae=ie.className,ue=ie.style;return s.createElement(Ad,(0,Ue.Z)({},e,{ref:t,title:o,ariaId:z,prefixCls:a,holderRef:ne,style:(0,K.Z)((0,K.Z)((0,K.Z)({},ue),f),Q),className:J()(y,ae)}))})});cd.displayName="Content";var nf=cd,th=function(t){var a=t.prefixCls,o=t.style,f=t.visible,y=t.maskProps,_=t.motionName,S=t.className;return s.createElement(Rn.ZP,{key:"mask",visible:f,motionName:_,leavedClassName:"".concat(a,"-mask-hidden")},function(I,A){var z=I.className,L=I.style;return s.createElement("div",(0,Ue.Z)({ref:A,style:(0,K.Z)((0,K.Z)({},L),o),className:J()("".concat(a,"-mask"),z,S)},y))})},nh=th,Pc=j(4449),rh=function(t){var a=t.prefixCls,o=a===void 0?"rc-dialog":a,f=t.zIndex,y=t.visible,_=y===void 0?!1:y,S=t.keyboard,I=S===void 0?!0:S,A=t.focusTriggerAfterClose,z=A===void 0?!0:A,L=t.wrapStyle,F=t.wrapClassName,Z=t.wrapProps,k=t.onClose,W=t.afterOpenChange,H=t.afterClose,X=t.transitionName,Q=t.animation,re=t.closable,ie=re===void 0?!0:re,ne=t.mask,ae=ne===void 0?!0:ne,ue=t.maskTransitionName,fe=t.maskAnimation,he=t.maskClosable,ve=he===void 0?!0:he,ye=t.maskStyle,we=t.maskProps,Se=t.rootClassName,ze=t.classNames,Te=t.styles,Fe=(0,s.useRef)(),Ae=(0,s.useRef)(),Ke=(0,s.useRef)(),tt=s.useState(_),vt=(0,Pe.Z)(tt,2),bt=vt[0],lt=vt[1],ct=(0,Od.Z)();function mt(){(0,sd.Z)(Ae.current,document.activeElement)||(Fe.current=document.activeElement)}function Rt(){if(!(0,sd.Z)(Ae.current,document.activeElement)){var $n;($n=Ke.current)===null||$n===void 0||$n.focus()}}function wt($n){if($n)Rt();else{if(lt(!1),ae&&Fe.current&&z){try{Fe.current.focus({preventScroll:!0})}catch(yn){}Fe.current=null}bt&&(H==null||H())}W==null||W($n)}function Bt($n){k==null||k($n)}var Ct=(0,s.useRef)(!1),dn=(0,s.useRef)(),zn=function(){clearTimeout(dn.current),Ct.current=!0},rn=function(){dn.current=setTimeout(function(){Ct.current=!1})},Cn=null;ve&&(Cn=function(yn){Ct.current?Ct.current=!1:Ae.current===yn.target&&Bt(yn)});function Vt($n){if(I&&$n.keyCode===_t.Z.ESC){$n.stopPropagation(),Bt($n);return}_&&$n.keyCode===_t.Z.TAB&&Ke.current.changeActive(!$n.shiftKey)}(0,s.useEffect)(function(){_&&(lt(!0),mt())},[_]),(0,s.useEffect)(function(){return function(){clearTimeout(dn.current)}},[]);var At=(0,K.Z)((0,K.Z)((0,K.Z)({zIndex:f},L),Te==null?void 0:Te.wrapper),{},{display:bt?null:"none"});return s.createElement("div",(0,Ue.Z)({className:J()("".concat(o,"-root"),Se)},(0,pt.Z)(t,{data:!0})),s.createElement(nh,{prefixCls:o,visible:ae&&_,motionName:Rd(o,ue,fe),style:(0,K.Z)((0,K.Z)({zIndex:f},ye),Te==null?void 0:Te.mask),maskProps:we,className:ze==null?void 0:ze.mask}),s.createElement("div",(0,Ue.Z)({tabIndex:-1,onKeyDown:Vt,className:J()("".concat(o,"-wrap"),F,ze==null?void 0:ze.wrapper),ref:Ae,onClick:Cn,style:At},Z),s.createElement(nf,(0,Ue.Z)({},t,{onMouseDown:zn,onMouseUp:rn,ref:Ke,closable:ie,ariaId:ct,prefixCls:o,visible:_&&bt,onClose:Bt,onVisibleChanged:wt,motionName:Rd(o,X,Q)}))))},gu=rh,ud=function(t){var a=t.visible,o=t.getContainer,f=t.forceRender,y=t.destroyOnClose,_=y===void 0?!1:y,S=t.afterClose,I=t.panelRef,A=s.useState(a),z=(0,Pe.Z)(A,2),L=z[0],F=z[1],Z=s.useMemo(function(){return{panel:I}},[I]);return s.useEffect(function(){a&&F(!0)},[a]),!f&&_&&!L?null:s.createElement(tf.Provider,{value:Z},s.createElement(pu.Z,{open:a||f||L,autoDestroy:!1,getContainer:o,autoLock:a||L},s.createElement(gu,(0,Ue.Z)({},t,{destroyOnClose:_,afterClose:function(){S==null||S(),F(!1)}}))))};ud.displayName="Dialog";var om=ud,rf=om,Hc=j(78018);function vu(e){if(e)return{closable:e.closable,closeIcon:e.closeIcon}}function am(e){const{closable:t,closeIcon:a}=e||{};return s.useMemo(()=>{if(!t&&(t===!1||a===!1||a===null))return!1;if(t===void 0&&a===void 0)return null;let o={closeIcon:typeof a!="boolean"&&a!==null?a:void 0};return t&&typeof t=="object"&&(o=Object.assign(Object.assign({},o),t)),o},[t,a])}function ih(){const e={};for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return a.forEach(f=>{f&&Object.keys(f).forEach(y=>{f[y]!==void 0&&(e[y]=f[y])})}),e}const fp={};function of(e,t){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:fp;const o=am(e),f=am(t),y=typeof o!="boolean"?!!(o!=null&&o.disabled):!1,_=s.useMemo(()=>Object.assign({closeIcon:s.createElement(Cr.Z,null)},a),[a]),S=s.useMemo(()=>o===!1?!1:o?ih(_,f,o):f===!1?!1:f?ih(_,f):_.closable?_:!1,[o,f,_]);return s.useMemo(()=>{if(S===!1)return[!1,null,y];const{closeIconRender:I}=_,{closeIcon:A}=S;let z=A;if(z!=null){I&&(z=I(A));const L=(0,pt.Z)(S,!0);Object.keys(L).length&&(z=s.isValidElement(z)?s.cloneElement(z,L):s.createElement("span",Object.assign({},L),z))}return[!0,z,y]},[S,_])}var dd=j(18415);const oh=()=>(0,dd.Z)()&&window.document.documentElement;var fd=j(61803),ln=e=>{const{prefixCls:t,className:a,style:o,size:f,shape:y}=e,_=J()({[`${t}-lg`]:f==="large",[`${t}-sm`]:f==="small"}),S=J()({[`${t}-circle`]:y==="circle",[`${t}-square`]:y==="square",[`${t}-round`]:y==="round"}),I=s.useMemo(()=>typeof f=="number"?{width:f,height:f,lineHeight:`${f}px`}:{},[f]);return s.createElement("span",{className:J()(t,_,S,a),style:Object.assign(Object.assign({},I),o)})};const Tr=new me.E4("ant-skeleton-loading",{"0%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0 50%"}}),Ui=e=>({height:e,lineHeight:(0,me.bf)(e)}),na=e=>Object.assign({width:e},Ui(e)),rl=e=>({background:e.skeletonLoadingBackground,backgroundSize:"400% 100%",animationName:Tr,animationDuration:e.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite"}),is=(e,t)=>Object.assign({width:t(e).mul(5).equal(),minWidth:t(e).mul(5).equal()},Ui(e)),pl=e=>{const{skeletonAvatarCls:t,gradientFromColor:a,controlHeight:o,controlHeightLG:f,controlHeightSM:y}=e;return{[t]:Object.assign({display:"inline-block",verticalAlign:"top",background:a},na(o)),[`${t}${t}-circle`]:{borderRadius:"50%"},[`${t}${t}-lg`]:Object.assign({},na(f)),[`${t}${t}-sm`]:Object.assign({},na(y))}},Xs=e=>{const{controlHeight:t,borderRadiusSM:a,skeletonInputCls:o,controlHeightLG:f,controlHeightSM:y,gradientFromColor:_,calc:S}=e;return{[o]:Object.assign({display:"inline-block",verticalAlign:"top",background:_,borderRadius:a},is(t,S)),[`${o}-lg`]:Object.assign({},is(f,S)),[`${o}-sm`]:Object.assign({},is(y,S))}},Al=e=>Object.assign({width:e},Ui(e)),il=e=>{const{skeletonImageCls:t,imageSizeBase:a,gradientFromColor:o,borderRadiusSM:f,calc:y}=e;return{[t]:Object.assign(Object.assign({display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"middle",background:o,borderRadius:f},Al(y(a).mul(2).equal())),{[`${t}-path`]:{fill:"#bfbfbf"},[`${t}-svg`]:Object.assign(Object.assign({},Al(a)),{maxWidth:y(a).mul(4).equal(),maxHeight:y(a).mul(4).equal()}),[`${t}-svg${t}-svg-circle`]:{borderRadius:"50%"}}),[`${t}${t}-circle`]:{borderRadius:"50%"}}},Oc=(e,t,a)=>{const{skeletonButtonCls:o}=e;return{[`${a}${o}-circle`]:{width:t,minWidth:t,borderRadius:"50%"},[`${a}${o}-round`]:{borderRadius:t}}},ic=(e,t)=>Object.assign({width:t(e).mul(2).equal(),minWidth:t(e).mul(2).equal()},Ui(e)),Dl=e=>{const{borderRadiusSM:t,skeletonButtonCls:a,controlHeight:o,controlHeightLG:f,controlHeightSM:y,gradientFromColor:_,calc:S}=e;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[a]:Object.assign({display:"inline-block",verticalAlign:"top",background:_,borderRadius:t,width:S(o).mul(2).equal(),minWidth:S(o).mul(2).equal()},ic(o,S))},Oc(e,o,a)),{[`${a}-lg`]:Object.assign({},ic(f,S))}),Oc(e,f,`${a}-lg`)),{[`${a}-sm`]:Object.assign({},ic(y,S))}),Oc(e,y,`${a}-sm`))},Uc=e=>{const{componentCls:t,skeletonAvatarCls:a,skeletonTitleCls:o,skeletonParagraphCls:f,skeletonButtonCls:y,skeletonInputCls:_,skeletonImageCls:S,controlHeight:I,controlHeightLG:A,controlHeightSM:z,gradientFromColor:L,padding:F,marginSM:Z,borderRadius:k,titleHeight:W,blockRadius:H,paragraphLiHeight:X,controlHeightXS:Q,paragraphMarginTop:re}=e;return{[t]:{display:"table",width:"100%",[`${t}-header`]:{display:"table-cell",paddingInlineEnd:F,verticalAlign:"top",[a]:Object.assign({display:"inline-block",verticalAlign:"top",background:L},na(I)),[`${a}-circle`]:{borderRadius:"50%"},[`${a}-lg`]:Object.assign({},na(A)),[`${a}-sm`]:Object.assign({},na(z))},[`${t}-content`]:{display:"table-cell",width:"100%",verticalAlign:"top",[o]:{width:"100%",height:W,background:L,borderRadius:H,[`+ ${f}`]:{marginBlockStart:z}},[f]:{padding:0,"> li":{width:"100%",height:X,listStyle:"none",background:L,borderRadius:H,"+ li":{marginBlockStart:Q}}},[`${f}> li:last-child:not(:first-child):not(:nth-child(2))`]:{width:"61%"}},[`&-round ${t}-content`]:{[`${o}, ${f} > li`]:{borderRadius:k}}},[`${t}-with-avatar ${t}-content`]:{[o]:{marginBlockStart:Z,[`+ ${f}`]:{marginBlockStart:re}}},[`${t}${t}-element`]:Object.assign(Object.assign(Object.assign(Object.assign({display:"inline-block",width:"auto"},Dl(e)),pl(e)),Xs(e)),il(e)),[`${t}${t}-block`]:{width:"100%",[y]:{width:"100%"},[_]:{width:"100%"}},[`${t}${t}-active`]:{[`
        ${o},
        ${f} > li,
        ${a},
        ${y},
        ${_},
        ${S}
      `]:Object.assign({},rl(e))}}},zc=e=>{const{colorFillContent:t,colorFill:a}=e,o=t,f=a;return{color:o,colorGradientEnd:f,gradientFromColor:o,gradientToColor:f,titleHeight:e.controlHeight/2,blockRadius:e.borderRadiusSM,paragraphMarginTop:e.marginLG+e.marginXXS,paragraphLiHeight:e.controlHeight/2}};var Ql=(0,oe.I$)("Skeleton",e=>{const{componentCls:t,calc:a}=e,o=(0,kr.IX)(e,{skeletonAvatarCls:`${t}-avatar`,skeletonTitleCls:`${t}-title`,skeletonParagraphCls:`${t}-paragraph`,skeletonButtonCls:`${t}-button`,skeletonInputCls:`${t}-input`,skeletonImageCls:`${t}-image`,imageSizeBase:a(e.controlHeight).mul(1.5).equal(),borderRadius:100,skeletonLoadingBackground:`linear-gradient(90deg, ${e.gradientFromColor} 25%, ${e.gradientToColor} 37%, ${e.gradientFromColor} 63%)`,skeletonLoadingMotionDuration:"1.4s"});return[Uc(o)]},zc,{deprecatedTokens:[["color","gradientFromColor"],["colorGradientEnd","gradientToColor"]]}),Hu=e=>{const{prefixCls:t,className:a,rootClassName:o,active:f,shape:y="circle",size:_="default"}=e,{getPrefixCls:S}=s.useContext(_e.E_),I=S("skeleton",t),[A,z,L]=Ql(I),F=(0,Ci.Z)(e,["prefixCls","className"]),Z=J()(I,`${I}-element`,{[`${I}-active`]:f},a,o,z,L);return A(s.createElement("div",{className:Z},s.createElement(ln,Object.assign({prefixCls:`${I}-avatar`,shape:y,size:_},F))))},sh=e=>{const{prefixCls:t,className:a,rootClassName:o,active:f,block:y=!1,size:_="default"}=e,{getPrefixCls:S}=s.useContext(_e.E_),I=S("skeleton",t),[A,z,L]=Ql(I),F=(0,Ci.Z)(e,["prefixCls"]),Z=J()(I,`${I}-element`,{[`${I}-active`]:f,[`${I}-block`]:y},a,o,z,L);return A(s.createElement("div",{className:Z},s.createElement(ln,Object.assign({prefixCls:`${I}-button`,size:_},F))))};const Dd="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z";var af=e=>{const{prefixCls:t,className:a,rootClassName:o,style:f,active:y}=e,{getPrefixCls:_}=s.useContext(_e.E_),S=_("skeleton",t),[I,A,z]=Ql(S),L=J()(S,`${S}-element`,{[`${S}-active`]:y},a,o,A,z);return I(s.createElement("div",{className:L},s.createElement("div",{className:J()(`${S}-image`,a),style:f},s.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:`${S}-image-svg`},s.createElement("title",null,"Image placeholder"),s.createElement("path",{d:Dd,className:`${S}-image-path`})))))},sm=e=>{const{prefixCls:t,className:a,rootClassName:o,active:f,block:y,size:_="default"}=e,{getPrefixCls:S}=s.useContext(_e.E_),I=S("skeleton",t),[A,z,L]=Ql(I),F=(0,Ci.Z)(e,["prefixCls"]),Z=J()(I,`${I}-element`,{[`${I}-active`]:f,[`${I}-block`]:y},a,o,z,L);return A(s.createElement("div",{className:Z},s.createElement(ln,Object.assign({prefixCls:`${I}-input`,size:_},F))))},$g=e=>{const{prefixCls:t,className:a,rootClassName:o,style:f,active:y,children:_}=e,{getPrefixCls:S}=s.useContext(_e.E_),I=S("skeleton",t),[A,z,L]=Ql(I),F=J()(I,`${I}-element`,{[`${I}-active`]:y},z,a,o,L);return A(s.createElement("div",{className:F},s.createElement("div",{className:J()(`${I}-image`,a),style:f},_)))};const ch=(e,t)=>{const{width:a,rows:o=2}=t;if(Array.isArray(a))return a[e];if(o-1===e)return a};var hp=e=>{const{prefixCls:t,className:a,style:o,rows:f=0}=e,y=Array.from({length:f}).map((_,S)=>s.createElement("li",{key:S,style:{width:ch(S,e)}}));return s.createElement("ul",{className:J()(t,a),style:o},y)},xv=e=>{let{prefixCls:t,className:a,width:o,style:f}=e;return s.createElement("h3",{className:J()(t,a),style:Object.assign({width:o},f)})};function Uu(e){return e&&typeof e=="object"?e:{}}function um(e,t){return e&&!t?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function lo(e,t){return!e&&t?{width:"38%"}:e&&t?{width:"50%"}:{}}function mp(e,t){const a={};return(!e||!t)&&(a.width="61%"),!e&&t?a.rows=3:a.rows=2,a}const pd=e=>{const{prefixCls:t,loading:a,className:o,rootClassName:f,style:y,children:_,avatar:S=!1,title:I=!0,paragraph:A=!0,active:z,round:L}=e,{getPrefixCls:F,direction:Z,className:k,style:W}=(0,_e.dj)("skeleton"),H=F("skeleton",t),[X,Q,re]=Ql(H);if(a||!("loading"in e)){const ie=!!S,ne=!!I,ae=!!A;let ue;if(ie){const ve=Object.assign(Object.assign({prefixCls:`${H}-avatar`},um(ne,ae)),Uu(S));ue=s.createElement("div",{className:`${H}-header`},s.createElement(ln,Object.assign({},ve)))}let fe;if(ne||ae){let ve;if(ne){const we=Object.assign(Object.assign({prefixCls:`${H}-title`},lo(ie,ae)),Uu(I));ve=s.createElement(xv,Object.assign({},we))}let ye;if(ae){const we=Object.assign(Object.assign({prefixCls:`${H}-paragraph`},mp(ie,ne)),Uu(A));ye=s.createElement(hp,Object.assign({},we))}fe=s.createElement("div",{className:`${H}-content`},ve,ye)}const he=J()(H,{[`${H}-with-avatar`]:ie,[`${H}-active`]:z,[`${H}-rtl`]:Z==="rtl",[`${H}-round`]:L},k,o,f,Q,re);return X(s.createElement("div",{className:he,style:Object.assign(Object.assign({},W),y)},ue,fe))}return _!=null?_:null};pd.Button=sh,pd.Avatar=Hu,pd.Input=sm,pd.Image=af,pd.Node=$g;var gd=pd,yu=gd;function Mo(){}const dm=s.createContext({add:Mo,remove:Mo});function Ag(e){const t=s.useContext(dm),a=s.useRef(null);return(0,ur.Z)(f=>{if(f){const y=e?f.querySelector(e):f;t.add(y),a.current=y}else t.remove(a.current)})}var Cv=dm,fm=()=>{const{cancelButtonProps:e,cancelTextLocale:t,onCancel:a}=(0,s.useContext)(ad);return s.createElement(ks,Object.assign({onClick:a},e),t)},gp=()=>{const{confirmLoading:e,okButtonProps:t,okType:a,okTextLocale:o,onOk:f}=(0,s.useContext)(ad);return s.createElement(ks,Object.assign({},Ha(a),{loading:e,onClick:f},t),o)},hm=j(3786);function sf(e,t){return s.createElement("span",{className:`${e}-close-x`},t||s.createElement(Cr.Z,{className:`${e}-close-icon`}))}const uh=e=>{const{okText:t,okType:a="primary",cancelText:o,confirmLoading:f,onOk:y,onCancel:_,okButtonProps:S,cancelButtonProps:I,footer:A}=e,[z]=(0,rr.Z)("Modal",(0,hm.A)()),L=t||(z==null?void 0:z.okText),F=o||(z==null?void 0:z.cancelText),Z={confirmLoading:f,okButtonProps:S,cancelButtonProps:I,okTextLocale:L,cancelTextLocale:F,okType:a,onOk:y,onCancel:_},k=s.useMemo(()=>Z,(0,Ie.Z)(Object.values(Z)));let W;return typeof A=="function"||typeof A=="undefined"?(W=s.createElement(s.Fragment,null,s.createElement(fm,null),s.createElement(gp,null)),typeof A=="function"&&(W=A(W,{OkBtn:gp,CancelBtn:fm})),W=s.createElement(Vu,{value:k},W)):W=A,s.createElement(cs.n,{disabled:!1},W)};var vp=j(40672),Nc=j(79318);const Bc=new me.E4("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),vd=new me.E4("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),lf=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{antCls:a}=e,o=`${a}-fade`,f=t?"&":"";return[(0,Nc.R)(o,Bc,vd,e.motionDurationMid,t),{[`
        ${f}${o}-enter,
        ${f}${o}-appear
      `]:{opacity:0,animationTimingFunction:"linear"},[`${f}${o}-leave`]:{animationTimingFunction:"linear"}}]};var cf=j(3153);function zd(e){return{position:e,inset:0}}const dh=e=>{const{componentCls:t,antCls:a}=e;return[{[`${t}-root`]:{[`${t}${a}-zoom-enter, ${t}${a}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:e.motionDurationSlow,userSelect:"none"},[`${t}${a}-zoom-leave ${t}-content`]:{pointerEvents:"none"},[`${t}-mask`]:Object.assign(Object.assign({},zd("fixed")),{zIndex:e.zIndexPopupBase,height:"100%",backgroundColor:e.colorBgMask,pointerEvents:"none",[`${t}-hidden`]:{display:"none"}}),[`${t}-wrap`]:Object.assign(Object.assign({},zd("fixed")),{zIndex:e.zIndexPopupBase,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"})}},{[`${t}-root`]:lf(e)}]},fh=e=>{const{componentCls:t}=e;return[{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl"},[`${t}-centered`]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[t]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},[`@media (max-width: ${e.screenSMMax}px)`]:{[t]:{maxWidth:"calc(100vw - 16px)",margin:`${(0,me.bf)(e.marginXS)} auto`},[`${t}-centered`]:{[t]:{flex:1}}}}},{[t]:Object.assign(Object.assign({},(0,nn.Wf)(e)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:`calc(100vw - ${(0,me.bf)(e.calc(e.margin).mul(2).equal())})`,margin:"0 auto",paddingBottom:e.paddingLG,[`${t}-title`]:{margin:0,color:e.titleColor,fontWeight:e.fontWeightStrong,fontSize:e.titleFontSize,lineHeight:e.titleLineHeight,wordWrap:"break-word"},[`${t}-content`]:{position:"relative",backgroundColor:e.contentBg,backgroundClip:"padding-box",border:0,borderRadius:e.borderRadiusLG,boxShadow:e.boxShadow,pointerEvents:"auto",padding:e.contentPadding},[`${t}-close`]:Object.assign({position:"absolute",top:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),insetInlineEnd:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),zIndex:e.calc(e.zIndexPopupBase).add(10).equal(),padding:0,color:e.modalCloseIconColor,fontWeight:e.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:e.borderRadiusSM,width:e.modalCloseBtnSize,height:e.modalCloseBtnSize,border:0,outline:0,cursor:"pointer",transition:`color ${e.motionDurationMid}, background-color ${e.motionDurationMid}`,"&-x":{display:"flex",fontSize:e.fontSizeLG,fontStyle:"normal",lineHeight:(0,me.bf)(e.modalCloseBtnSize),justifyContent:"center",textTransform:"none",textRendering:"auto"},"&:disabled":{pointerEvents:"none"},"&:hover":{color:e.modalCloseIconHoverColor,backgroundColor:e.colorBgTextHover,textDecoration:"none"},"&:active":{backgroundColor:e.colorBgTextActive}},(0,nn.Qy)(e)),[`${t}-header`]:{color:e.colorText,background:e.headerBg,borderRadius:`${(0,me.bf)(e.borderRadiusLG)} ${(0,me.bf)(e.borderRadiusLG)} 0 0`,marginBottom:e.headerMarginBottom,padding:e.headerPadding,borderBottom:e.headerBorderBottom},[`${t}-body`]:{fontSize:e.fontSize,lineHeight:e.lineHeight,wordWrap:"break-word",padding:e.bodyPadding,[`${t}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:`${(0,me.bf)(e.margin)} auto`}},[`${t}-footer`]:{textAlign:"end",background:e.footerBg,marginTop:e.footerMarginTop,padding:e.footerPadding,borderTop:e.footerBorderTop,borderRadius:e.footerBorderRadius,[`> ${e.antCls}-btn + ${e.antCls}-btn`]:{marginInlineStart:e.marginXS}},[`${t}-open`]:{overflow:"hidden"}})},{[`${t}-pure-panel`]:{top:"auto",padding:0,display:"flex",flexDirection:"column",[`${t}-content,
          ${t}-body,
          ${t}-confirm-body-wrapper`]:{display:"flex",flexDirection:"column",flex:"auto"},[`${t}-confirm-body`]:{marginBottom:"auto"}}}]},Wc=e=>{const{componentCls:t}=e;return{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl",[`${t}-confirm-body`]:{direction:"rtl"}}}}},Ws=e=>{const{componentCls:t}=e,a=(0,vp.hd)(e);delete a.xs;const o=Object.keys(a).map(f=>({[`@media (min-width: ${(0,me.bf)(a[f])})`]:{width:`var(--${t.replace(".","")}-${f}-width)`}}));return{[`${t}-root`]:{[t]:[{width:`var(--${t.replace(".","")}-xs-width)`}].concat((0,Ie.Z)(o))}}},hh=e=>{const t=e.padding,a=e.fontSizeHeading5,o=e.lineHeightHeading5;return(0,kr.IX)(e,{modalHeaderHeight:e.calc(e.calc(o).mul(a).equal()).add(e.calc(t).mul(2).equal()).equal(),modalFooterBorderColorSplit:e.colorSplit,modalFooterBorderStyle:e.lineType,modalFooterBorderWidth:e.lineWidth,modalCloseIconColor:e.colorIcon,modalCloseIconHoverColor:e.colorIconHover,modalCloseBtnSize:e.controlHeight,modalConfirmIconSize:e.fontHeight,modalTitleHeight:e.calc(e.titleFontSize).mul(e.titleLineHeight).equal()})},uf=e=>({footerBg:"transparent",headerBg:e.colorBgElevated,titleLineHeight:e.lineHeightHeading5,titleFontSize:e.fontSizeHeading5,contentBg:e.colorBgElevated,titleColor:e.colorTextHeading,contentPadding:e.wireframe?0:`${(0,me.bf)(e.paddingMD)} ${(0,me.bf)(e.paddingContentHorizontalLG)}`,headerPadding:e.wireframe?`${(0,me.bf)(e.padding)} ${(0,me.bf)(e.paddingLG)}`:0,headerBorderBottom:e.wireframe?`${(0,me.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",headerMarginBottom:e.wireframe?0:e.marginXS,bodyPadding:e.wireframe?e.paddingLG:0,footerPadding:e.wireframe?`${(0,me.bf)(e.paddingXS)} ${(0,me.bf)(e.padding)}`:0,footerBorderTop:e.wireframe?`${(0,me.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",footerBorderRadius:e.wireframe?`0 0 ${(0,me.bf)(e.borderRadiusLG)} ${(0,me.bf)(e.borderRadiusLG)}`:0,footerMarginTop:e.wireframe?0:e.marginSM,confirmBodyPadding:e.wireframe?`${(0,me.bf)(e.padding*2)} ${(0,me.bf)(e.padding*2)} ${(0,me.bf)(e.paddingLG)}`:0,confirmIconMarginInlineEnd:e.wireframe?e.margin:e.marginSM,confirmBtnsMarginTop:e.wireframe?e.marginLG:e.marginSM});var mh=(0,oe.I$)("Modal",e=>{const t=hh(e);return[fh(t),Wc(t),dh(t),(0,cf._y)(t,"zoom"),Ws(t)]},uf,{unitless:{titleLineHeight:!0}}),yp=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};let Ld;const df=e=>{Ld={x:e.pageX,y:e.pageY},setTimeout(()=>{Ld=null},100)};oh()&&document.documentElement.addEventListener("click",df,!0);var Nd=e=>{var t;const{getPopupContainer:a,getPrefixCls:o,direction:f,modal:y}=s.useContext(_e.E_),_=wt=>{const{onCancel:Bt}=e;Bt==null||Bt(wt)},S=wt=>{const{onOk:Bt}=e;Bt==null||Bt(wt)},{prefixCls:I,className:A,rootClassName:z,open:L,wrapClassName:F,centered:Z,getContainer:k,focusTriggerAfterClose:W=!0,style:H,visible:X,width:Q=520,footer:re,classNames:ie,styles:ne,children:ae,loading:ue}=e,fe=yp(e,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","focusTriggerAfterClose","style","visible","width","footer","classNames","styles","children","loading"]),he=o("modal",I),ve=o(),ye=(0,Ln.Z)(he),[we,Se,ze]=mh(he,ye),Te=J()(F,{[`${he}-centered`]:Z!=null?Z:y==null?void 0:y.centered,[`${he}-wrap-rtl`]:f==="rtl"}),Fe=re!==null&&!ue?s.createElement(uh,Object.assign({},e,{onOk:S,onCancel:_})):null,[Ae,Ke,tt]=of(vu(e),vu(y),{closable:!0,closeIcon:s.createElement(Cr.Z,{className:`${he}-close-icon`}),closeIconRender:wt=>sf(he,wt)}),vt=Ag(`.${he}-content`),[bt,lt]=(0,bn.Cn)("Modal",fe.zIndex),[ct,mt]=s.useMemo(()=>Q&&typeof Q=="object"?[void 0,Q]:[Q,void 0],[Q]),Rt=s.useMemo(()=>{const wt={};return mt&&Object.keys(mt).forEach(Bt=>{const Ct=mt[Bt];Ct!==void 0&&(wt[`--${he}-${Bt}-width`]=typeof Ct=="number"?`${Ct}px`:Ct)}),wt},[mt]);return we(s.createElement(Hc.Z,{form:!0,space:!0},s.createElement(fd.Z.Provider,{value:lt},s.createElement(rf,Object.assign({width:ct},fe,{zIndex:bt,getContainer:k===void 0?a:k,prefixCls:he,rootClassName:J()(Se,z,ze,ye),footer:Fe,visible:L!=null?L:X,mousePosition:(t=fe.mousePosition)!==null&&t!==void 0?t:Ld,onClose:_,closable:Ae&&{disabled:tt,closeIcon:Ke},closeIcon:Ke,focusTriggerAfterClose:W,transitionName:(0,ir.m)(ve,"zoom",e.transitionName),maskTransitionName:(0,ir.m)(ve,"fade",e.maskTransitionName),className:J()(Se,A,y==null?void 0:y.className),style:Object.assign(Object.assign(Object.assign({},y==null?void 0:y.style),H),Rt),classNames:Object.assign(Object.assign(Object.assign({},y==null?void 0:y.classNames),ie),{wrapper:J()(Te,ie==null?void 0:ie.wrapper)}),styles:Object.assign(Object.assign({},y==null?void 0:y.styles),ne),panelRef:vt}),ue?s.createElement(yu,{active:!0,title:!1,paragraph:{rows:4},className:`${he}-body-skeleton`}):ae))))};const hi=e=>{const{componentCls:t,titleFontSize:a,titleLineHeight:o,modalConfirmIconSize:f,fontSize:y,lineHeight:_,modalTitleHeight:S,fontHeight:I,confirmBodyPadding:A}=e,z=`${t}-confirm`;return{[z]:{"&-rtl":{direction:"rtl"},[`${e.antCls}-modal-header`]:{display:"none"},[`${z}-body-wrapper`]:Object.assign({},(0,nn.dF)()),[`&${t} ${t}-body`]:{padding:A},[`${z}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${e.iconCls}`]:{flex:"none",fontSize:f,marginInlineEnd:e.confirmIconMarginInlineEnd,marginTop:e.calc(e.calc(I).sub(f).equal()).div(2).equal()},[`&-has-title > ${e.iconCls}`]:{marginTop:e.calc(e.calc(S).sub(f).equal()).div(2).equal()}},[`${z}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:e.marginXS,maxWidth:`calc(100% - ${(0,me.bf)(e.marginSM)})`},[`${e.iconCls} + ${z}-paragraph`]:{maxWidth:`calc(100% - ${(0,me.bf)(e.calc(e.modalConfirmIconSize).add(e.marginSM).equal())})`},[`${z}-title`]:{color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:a,lineHeight:o},[`${z}-content`]:{color:e.colorText,fontSize:y,lineHeight:_},[`${z}-btns`]:{textAlign:"end",marginTop:e.confirmBtnsMarginTop,[`${e.antCls}-btn + ${e.antCls}-btn`]:{marginBottom:0,marginInlineStart:e.marginXS}}},[`${z}-error ${z}-body > ${e.iconCls}`]:{color:e.colorError},[`${z}-warning ${z}-body > ${e.iconCls},
        ${z}-confirm ${z}-body > ${e.iconCls}`]:{color:e.colorWarning},[`${z}-info ${z}-body > ${e.iconCls}`]:{color:e.colorInfo},[`${z}-success ${z}-body > ${e.iconCls}`]:{color:e.colorSuccess}}};var qi=(0,oe.bk)(["Modal","confirm"],e=>{const t=hh(e);return[hi(t)]},uf,{order:-1e3}),ff=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};function el(e){const{prefixCls:t,icon:a,okText:o,cancelText:f,confirmPrefixCls:y,type:_,okCancel:S,footer:I,locale:A}=e,z=ff(e,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let L=a;if(!a&&a!==null)switch(_){case"info":L=s.createElement(In,null);break;case"success":L=s.createElement(Ht.Z,null);break;case"error":L=s.createElement(Ar.Z,null);break;default:L=s.createElement(Dr.Z,null)}const F=S!=null?S:_==="confirm",Z=e.autoFocusButton===null?!1:e.autoFocusButton||"ok",[k]=(0,rr.Z)("Modal"),W=A||k,H=o||(F?W==null?void 0:W.okText:W==null?void 0:W.justOkText),X=f||(W==null?void 0:W.cancelText),Q=Object.assign({autoFocusButton:Z,cancelTextLocale:X,okTextLocale:H,mergedOkCancel:F},z),re=s.useMemo(()=>Q,(0,Ie.Z)(Object.values(Q))),ie=s.createElement(s.Fragment,null,s.createElement(Yf,null),s.createElement(Vs,null)),ne=e.title!==void 0&&e.title!==null,ae=`${y}-body`;return s.createElement("div",{className:`${y}-body-wrapper`},s.createElement("div",{className:J()(ae,{[`${ae}-has-title`]:ne})},L,s.createElement("div",{className:`${y}-paragraph`},ne&&s.createElement("span",{className:`${y}-title`},e.title),s.createElement("div",{className:`${y}-content`},e.content))),I===void 0||typeof I=="function"?s.createElement(Vu,{value:re},s.createElement("div",{className:`${y}-btns`},typeof I=="function"?I(ie,{OkBtn:Vs,CancelBtn:Yf}):ie)):I,s.createElement(qi,{prefixCls:t}))}const Un=e=>{const{close:t,zIndex:a,maskStyle:o,direction:f,prefixCls:y,wrapClassName:_,rootPrefixCls:S,bodyStyle:I,closable:A=!1,onConfirm:z,styles:L}=e,F=`${y}-confirm`,Z=e.width||416,k=e.style||{},W=e.mask===void 0?!0:e.mask,H=e.maskClosable===void 0?!1:e.maskClosable,X=J()(F,`${F}-${e.type}`,{[`${F}-rtl`]:f==="rtl"},e.className),[,Q]=(0,Vr.ZP)(),re=s.useMemo(()=>a!==void 0?a:Q.zIndexPopupBase+bn.u6,[a,Q]);return s.createElement(Nd,Object.assign({},e,{className:X,wrapClassName:J()({[`${F}-centered`]:!!e.centered},_),onCancel:()=>{t==null||t({triggerCancel:!0}),z==null||z(!1)},title:"",footer:null,transitionName:(0,ir.m)(S||"","zoom",e.transitionName),maskTransitionName:(0,ir.m)(S||"","fade",e.maskTransitionName),mask:W,maskClosable:H,style:k,styles:Object.assign({body:I,mask:o},L),width:Z,zIndex:re,closable:A}),s.createElement(el,Object.assign({},e,{confirmPrefixCls:F})))};var gh=e=>{const{rootPrefixCls:t,iconPrefixCls:a,direction:o,theme:f}=e;return s.createElement(ko.ZP,{prefixCls:t,iconPrefixCls:a,direction:o,theme:f},s.createElement(Un,Object.assign({},e)))},yd=[];let bp="";function _p(){return bp}const hf=e=>{var t,a;const{prefixCls:o,getContainer:f,direction:y}=e,_=(0,hm.A)(),S=(0,s.useContext)(_e.E_),I=_p()||S.getPrefixCls(),A=o||`${I}-modal`;let z=f;return z===!1&&(z=void 0),s.createElement(gh,Object.assign({},e,{rootPrefixCls:I,prefixCls:A,iconPrefixCls:S.iconPrefixCls,theme:S.theme,direction:y!=null?y:S.direction,locale:(a=(t=S.locale)===null||t===void 0?void 0:t.Modal)!==null&&a!==void 0?a:_,getContainer:z}))};function vh(e){const t=(0,ko.w6)(),a=document.createDocumentFragment();let o=Object.assign(Object.assign({},e),{close:I,open:!0}),f,y;function _(){for(var z,L=arguments.length,F=new Array(L),Z=0;Z<L;Z++)F[Z]=arguments[Z];if(F.some(H=>H==null?void 0:H.triggerCancel)){var W;(z=e.onCancel)===null||z===void 0||(W=z).call.apply(W,[e,()=>{}].concat((0,Ie.Z)(F.slice(1))))}for(let H=0;H<yd.length;H++)if(yd[H]===I){yd.splice(H,1);break}y()}function S(z){clearTimeout(f),f=setTimeout(()=>{const L=t.getPrefixCls(void 0,_p()),F=t.getIconPrefixCls(),Z=t.getTheme(),k=s.createElement(hf,Object.assign({},z));y=pr()(s.createElement(ko.ZP,{prefixCls:L,iconPrefixCls:F,theme:Z},t.holderRender?t.holderRender(k):k),a)})}function I(){for(var z=arguments.length,L=new Array(z),F=0;F<z;F++)L[F]=arguments[F];o=Object.assign(Object.assign({},o),{open:!1,afterClose:()=>{typeof e.afterClose=="function"&&e.afterClose(),_.apply(this,L)}}),o.visible&&delete o.visible,S(o)}function A(z){typeof z=="function"?o=z(o):o=Object.assign(Object.assign({},o),z),S(o)}return S(o),yd.push(I),{destroy:I,update:A}}function Lg(e){return Object.assign(Object.assign({},e),{type:"warning"})}function xp(e){return Object.assign(Object.assign({},e),{type:"info"})}function yh(e){return Object.assign(Object.assign({},e),{type:"success"})}function Wu(e){return Object.assign(Object.assign({},e),{type:"error"})}function mm(e){return Object.assign(Object.assign({},e),{type:"confirm"})}function Cp(e){let{rootPrefixCls:t}=e;bp=t}var Gc=j(42474),pm=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const Tu=(e,t)=>{var a,{afterClose:o,config:f}=e,y=pm(e,["afterClose","config"]);const[_,S]=s.useState(!0),[I,A]=s.useState(f),{direction:z,getPrefixCls:L}=s.useContext(_e.E_),F=L("modal"),Z=L(),k=()=>{var Q;o(),(Q=I.afterClose)===null||Q===void 0||Q.call(I)},W=function(){var Q;S(!1);for(var re=arguments.length,ie=new Array(re),ne=0;ne<re;ne++)ie[ne]=arguments[ne];if(ie.some(fe=>fe==null?void 0:fe.triggerCancel)){var ue;(Q=I.onCancel)===null||Q===void 0||(ue=Q).call.apply(ue,[I,()=>{}].concat((0,Ie.Z)(ie.slice(1))))}};s.useImperativeHandle(t,()=>({destroy:W,update:Q=>{A(re=>Object.assign(Object.assign({},re),Q))}}));const H=(a=I.okCancel)!==null&&a!==void 0?a:I.type==="confirm",[X]=(0,rr.Z)("Modal",Gc.Z.Modal);return s.createElement(gh,Object.assign({prefixCls:F,rootPrefixCls:Z},I,{close:W,open:_,afterClose:k,okText:I.okText||(H?X==null?void 0:X.okText:X==null?void 0:X.justOkText),direction:I.direction||z,cancelText:I.cancelText||(X==null?void 0:X.cancelText)},y))};var Gu=s.forwardRef(Tu);let Sp=0;const ec=s.memo(s.forwardRef((e,t)=>{const[a,o]=to();return s.useImperativeHandle(t,()=>({patchElement:o}),[]),s.createElement(s.Fragment,null,a)}));function wv(){const e=s.useRef(null),[t,a]=s.useState([]);s.useEffect(()=>{t.length&&((0,Ie.Z)(t).forEach(_=>{_()}),a([]))},[t]);const o=s.useCallback(y=>function(S){var I;Sp+=1;const A=s.createRef();let z;const L=new Promise(H=>{z=H});let F=!1,Z;const k=s.createElement(Gu,{key:`modal-${Sp}`,config:y(S),ref:A,afterClose:()=>{Z==null||Z()},isSilent:()=>F,onConfirm:H=>{z(H)}});return Z=(I=e.current)===null||I===void 0?void 0:I.patchElement(k),Z&&yd.push(Z),{destroy:()=>{function H(){var X;(X=A.current)===null||X===void 0||X.destroy()}A.current?H():a(X=>[].concat((0,Ie.Z)(X),[H]))},update:H=>{function X(){var Q;(Q=A.current)===null||Q===void 0||Q.update(H)}A.current?X():a(Q=>[].concat((0,Ie.Z)(Q),[X]))},then:H=>(F=!0,L.then(H))}},[]);return[s.useMemo(()=>({info:o(xp),success:o(yh),error:o(Wu),warning:o(Lg),confirm:o(mm)}),[]),s.createElement(ec,{key:"modal-holder",ref:e})]}var mf=wv,Ss=e=>{const{componentCls:t,notificationMarginEdge:a,animationMaxHeight:o}=e,f=`${t}-notice`,y=new me.E4("antNotificationFadeIn",{"0%":{transform:"translate3d(100%, 0, 0)",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",opacity:1}}),_=new me.E4("antNotificationTopFadeIn",{"0%":{top:-o,opacity:0},"100%":{top:0,opacity:1}}),S=new me.E4("antNotificationBottomFadeIn",{"0%":{bottom:e.calc(o).mul(-1).equal(),opacity:0},"100%":{bottom:0,opacity:1}}),I=new me.E4("antNotificationLeftFadeIn",{"0%":{transform:"translate3d(-100%, 0, 0)",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",opacity:1}});return{[t]:{[`&${t}-top, &${t}-bottom`]:{marginInline:0,[f]:{marginInline:"auto auto"}},[`&${t}-top`]:{[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:_}},[`&${t}-bottom`]:{[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:S}},[`&${t}-topRight, &${t}-bottomRight`]:{[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:y}},[`&${t}-topLeft, &${t}-bottomLeft`]:{marginRight:{value:0,_skip_check_:!0},marginLeft:{value:a,_skip_check_:!0},[f]:{marginInlineEnd:"auto",marginInlineStart:0},[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:I}}}}};const Ng=["top","topLeft","topRight","bottom","bottomLeft","bottomRight"],Xu={topLeft:"left",topRight:"right",bottomLeft:"left",bottomRight:"right",top:"left",bottom:"left"},pf=(e,t)=>{const{componentCls:a}=e;return{[`${a}-${t}`]:{[`&${a}-stack > ${a}-notice-wrapper`]:{[t.startsWith("top")?"top":"bottom"]:0,[Xu[t]]:{value:0,_skip_check_:!0}}}}},Ku=e=>{const t={};for(let a=1;a<e.notificationStackLayer;a++)t[`&:nth-last-child(${a+1})`]={overflow:"hidden",[`& > ${e.componentCls}-notice`]:{opacity:0,transition:`opacity ${e.motionDurationMid}`}};return Object.assign({[`&:not(:nth-last-child(-n+${e.notificationStackLayer}))`]:{opacity:0,overflow:"hidden",color:"transparent",pointerEvents:"none"}},t)},gm=e=>{const t={};for(let a=1;a<e.notificationStackLayer;a++)t[`&:nth-last-child(${a+1})`]={background:e.colorBgBlur,backdropFilter:"blur(10px)","-webkit-backdrop-filter":"blur(10px)"};return Object.assign({},t)};var Mu=e=>{const{componentCls:t}=e;return Object.assign({[`${t}-stack`]:{[`& > ${t}-notice-wrapper`]:Object.assign({transition:`transform ${e.motionDurationSlow}, backdrop-filter 0s`,willChange:"transform, opacity",position:"absolute"},Ku(e))},[`${t}-stack:not(${t}-stack-expanded)`]:{[`& > ${t}-notice-wrapper`]:Object.assign({},gm(e))},[`${t}-stack${t}-stack-expanded`]:{[`& > ${t}-notice-wrapper`]:{"&:not(:nth-last-child(-n + 1))":{opacity:1,overflow:"unset",color:"inherit",pointerEvents:"auto",[`& > ${e.componentCls}-notice`]:{opacity:1}},"&:after":{content:'""',position:"absolute",height:e.margin,width:"100%",insetInline:0,bottom:e.calc(e.margin).mul(-1).equal(),background:"transparent",pointerEvents:"auto"}}}},Ng.map(a=>pf(e,a)).reduce((a,o)=>Object.assign(Object.assign({},a),o),{}))};const fc=e=>{const{iconCls:t,componentCls:a,boxShadow:o,fontSizeLG:f,notificationMarginBottom:y,borderRadiusLG:_,colorSuccess:S,colorInfo:I,colorWarning:A,colorError:z,colorTextHeading:L,notificationBg:F,notificationPadding:Z,notificationMarginEdge:k,notificationProgressBg:W,notificationProgressHeight:H,fontSize:X,lineHeight:Q,width:re,notificationIconSize:ie,colorText:ne}=e,ae=`${a}-notice`;return{position:"relative",marginBottom:y,marginInlineStart:"auto",background:F,borderRadius:_,boxShadow:o,[ae]:{padding:Z,width:re,maxWidth:`calc(100vw - ${(0,me.bf)(e.calc(k).mul(2).equal())})`,overflow:"hidden",lineHeight:Q,wordWrap:"break-word"},[`${ae}-message`]:{marginBottom:e.marginXS,color:L,fontSize:f,lineHeight:e.lineHeightLG},[`${ae}-description`]:{fontSize:X,color:ne},[`${ae}-closable ${ae}-message`]:{paddingInlineEnd:e.paddingLG},[`${ae}-with-icon ${ae}-message`]:{marginBottom:e.marginXS,marginInlineStart:e.calc(e.marginSM).add(ie).equal(),fontSize:f},[`${ae}-with-icon ${ae}-description`]:{marginInlineStart:e.calc(e.marginSM).add(ie).equal(),fontSize:X},[`${ae}-icon`]:{position:"absolute",fontSize:ie,lineHeight:1,[`&-success${t}`]:{color:S},[`&-info${t}`]:{color:I},[`&-warning${t}`]:{color:A},[`&-error${t}`]:{color:z}},[`${ae}-close`]:Object.assign({position:"absolute",top:e.notificationPaddingVertical,insetInlineEnd:e.notificationPaddingHorizontal,color:e.colorIcon,outline:"none",width:e.notificationCloseButtonSize,height:e.notificationCloseButtonSize,borderRadius:e.borderRadiusSM,transition:`background-color ${e.motionDurationMid}, color ${e.motionDurationMid}`,display:"flex",alignItems:"center",justifyContent:"center","&:hover":{color:e.colorIconHover,backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive}},(0,nn.Qy)(e)),[`${ae}-progress`]:{position:"absolute",display:"block",appearance:"none",WebkitAppearance:"none",inlineSize:`calc(100% - ${(0,me.bf)(_)} * 2)`,left:{_skip_check_:!0,value:_},right:{_skip_check_:!0,value:_},bottom:0,blockSize:H,border:0,"&, &::-webkit-progress-bar":{borderRadius:_,backgroundColor:"rgba(0, 0, 0, 0.04)"},"&::-moz-progress-bar":{background:W},"&::-webkit-progress-value":{borderRadius:_,background:W}},[`${ae}-actions`]:{float:"right",marginTop:e.marginSM}}},ym=e=>{const{componentCls:t,notificationMarginBottom:a,notificationMarginEdge:o,motionDurationMid:f,motionEaseInOut:y}=e,_=`${t}-notice`,S=new me.E4("antNotificationFadeOut",{"0%":{maxHeight:e.animationMaxHeight,marginBottom:a},"100%":{maxHeight:0,marginBottom:0,paddingTop:0,paddingBottom:0,opacity:0}});return[{[t]:Object.assign(Object.assign({},(0,nn.Wf)(e)),{position:"fixed",zIndex:e.zIndexPopup,marginRight:{value:o,_skip_check_:!0},[`${t}-hook-holder`]:{position:"relative"},[`${t}-fade-appear-prepare`]:{opacity:"0 !important"},[`${t}-fade-enter, ${t}-fade-appear`]:{animationDuration:e.motionDurationMid,animationTimingFunction:y,animationFillMode:"both",opacity:0,animationPlayState:"paused"},[`${t}-fade-leave`]:{animationTimingFunction:y,animationFillMode:"both",animationDuration:f,animationPlayState:"paused"},[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationPlayState:"running"},[`${t}-fade-leave${t}-fade-leave-active`]:{animationName:S,animationPlayState:"running"},"&-rtl":{direction:"rtl",[`${_}-actions`]:{float:"left"}}})},{[t]:{[`${_}-wrapper`]:Object.assign({},fc(e))}}]},gf=e=>({zIndexPopup:e.zIndexPopupBase+bn.u6+50,width:384}),bm=e=>{const t=e.paddingMD,a=e.paddingLG;return(0,kr.IX)(e,{notificationBg:e.colorBgElevated,notificationPaddingVertical:t,notificationPaddingHorizontal:a,notificationIconSize:e.calc(e.fontSizeLG).mul(e.lineHeightLG).equal(),notificationCloseButtonSize:e.calc(e.controlHeightLG).mul(.55).equal(),notificationMarginBottom:e.margin,notificationPadding:`${(0,me.bf)(e.paddingMD)} ${(0,me.bf)(e.paddingContentHorizontalLG)}`,notificationMarginEdge:e.marginLG,animationMaxHeight:150,notificationStackLayer:3,notificationProgressHeight:2,notificationProgressBg:`linear-gradient(90deg, ${e.colorPrimaryBorderHover}, ${e.colorPrimary})`})};var _m=(0,oe.I$)("Notification",e=>{const t=bm(e);return[ym(t),Ss(t),Mu(t)]},gf),Bd=(0,oe.bk)(["Notification","PurePanel"],e=>{const t=`${e.componentCls}-notice`,a=bm(e);return{[`${t}-pure-panel`]:Object.assign(Object.assign({},fc(a)),{width:a.width,maxWidth:`calc(100vw - ${(0,me.bf)(e.calc(a.notificationMarginEdge).mul(2).equal())})`,margin:0})}},gf),wp=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const Fd={info:s.createElement(In,null),success:s.createElement(Ht.Z,null),error:s.createElement(Ar.Z,null),warning:s.createElement(Dr.Z,null),loading:s.createElement(Ut.Z,null)};function bh(e,t){return t===null||t===!1?null:t||s.createElement(Cr.Z,{className:`${e}-close-icon`})}const xm={success:Ht.Z,info:In,error:Ar.Z,warning:Dr.Z},Cm=e=>{const{prefixCls:t,icon:a,type:o,message:f,description:y,actions:_,role:S="alert"}=e;let I=null;return a?I=s.createElement("span",{className:`${t}-icon`},a):o&&(I=s.createElement(xm[o]||null,{className:J()(`${t}-icon`,`${t}-icon-${o}`)})),s.createElement("div",{className:J()({[`${t}-with-icon`]:I}),role:S},I,s.createElement("div",{className:`${t}-message`},f),s.createElement("div",{className:`${t}-description`},y),_&&s.createElement("div",{className:`${t}-actions`},_))};var oc=e=>{const{prefixCls:t,className:a,icon:o,type:f,message:y,description:_,btn:S,actions:I,closable:A=!0,closeIcon:z,className:L}=e,F=wp(e,["prefixCls","className","icon","type","message","description","btn","actions","closable","closeIcon","className"]),{getPrefixCls:Z}=s.useContext(_e.E_),k=I!=null?I:S,W=t||Z("notification"),H=`${W}-notice`,X=(0,Ln.Z)(W),[Q,re,ie]=_m(W,X);return Q(s.createElement("div",{className:J()(`${H}-pure-panel`,re,a,ie,X)},s.createElement(Bd,{prefixCls:W}),s.createElement(Yt,Object.assign({},F,{prefixCls:W,eventKey:"pure",duration:null,closable:A,className:J()({notificationClassName:L}),closeIcon:bh(W,z),content:s.createElement(Cm,{prefixCls:H,icon:o,type:f,message:y,description:_,actions:k})}))))};function Ep(e,t,a){let o;switch(e){case"top":o={left:"50%",transform:"translateX(-50%)",right:"auto",top:t,bottom:"auto"};break;case"topLeft":o={left:0,top:t,bottom:"auto"};break;case"topRight":o={right:0,top:t,bottom:"auto"};break;case"bottom":o={left:"50%",transform:"translateX(-50%)",right:"auto",top:"auto",bottom:a};break;case"bottomLeft":o={left:0,top:"auto",bottom:a};break;default:o={right:0,top:"auto",bottom:a};break}return o}function Ip(e){return{motionName:`${e}-fade`}}function _h(e,t,a){return typeof e!="undefined"?e:typeof(t==null?void 0:t.closeIcon)!="undefined"?t.closeIcon:a==null?void 0:a.closeIcon}var bd=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const xh=24,Pu=4.5,Sm="topRight",vf=e=>{let{children:t,prefixCls:a}=e;const o=(0,Ln.Z)(a),[f,y,_]=_m(a,o);return f(s.createElement(Et,{classNames:{list:J()(y,_,o)}},t))},Tp=(e,t)=>{let{prefixCls:a,key:o}=t;return s.createElement(vf,{prefixCls:a,key:o},e)},Mp=s.forwardRef((e,t)=>{const{top:a,bottom:o,prefixCls:f,getContainer:y,maxCount:_,rtl:S,onAllRemoved:I,stack:A,duration:z,pauseOnHover:L=!0,showProgress:F}=e,{getPrefixCls:Z,getPopupContainer:k,notification:W,direction:H}=(0,s.useContext)(_e.E_),[,X]=(0,Vr.ZP)(),Q=f||Z("notification"),re=fe=>Ep(fe,a!=null?a:xh,o!=null?o:xh),ie=()=>J()({[`${Q}-rtl`]:S!=null?S:H==="rtl"}),ne=()=>Ip(Q),[ae,ue]=_n({prefixCls:Q,style:re,className:ie,motion:ne,closable:!0,closeIcon:bh(Q),duration:z!=null?z:Pu,getContainer:()=>(y==null?void 0:y())||(k==null?void 0:k())||document.body,maxCount:_,pauseOnHover:L,showProgress:F,onAllRemoved:I,renderNotifications:Tp,stack:A===!1?!1:{threshold:typeof A=="object"?A==null?void 0:A.threshold:void 0,offset:8,gap:X.margin}});return s.useImperativeHandle(t,()=>Object.assign(Object.assign({},ae),{prefixCls:Q,notification:W})),ue});function yf(e){const t=s.useRef(null),a=(0,io.ln)("Notification");return[s.useMemo(()=>{const f=I=>{var A;if(!t.current)return;const{open:z,prefixCls:L,notification:F}=t.current,Z=`${L}-notice`,{message:k,description:W,icon:H,type:X,btn:Q,actions:re,className:ie,style:ne,role:ae="alert",closeIcon:ue,closable:fe}=I,he=bd(I,["message","description","icon","type","btn","actions","className","style","role","closeIcon","closable"]),ve=re!=null?re:Q,ye=bh(Z,_h(ue,e,F));return z(Object.assign(Object.assign({placement:(A=e==null?void 0:e.placement)!==null&&A!==void 0?A:Sm},he),{content:s.createElement(Cm,{prefixCls:Z,icon:H,type:X,message:k,description:W,actions:ve,role:ae}),className:J()(X&&`${Z}-${X}`,ie,F==null?void 0:F.className),style:Object.assign(Object.assign({},F==null?void 0:F.style),ne),closeIcon:ye,closable:fe!=null?fe:!!ye}))},_={open:f,destroy:I=>{var A,z;I!==void 0?(A=t.current)===null||A===void 0||A.close(I):(z=t.current)===null||z===void 0||z.destroy()}};return["success","info","warning","error"].forEach(I=>{_[I]=A=>f(Object.assign(Object.assign({},A),{type:I}))}),_},[]),s.createElement(Mp,Object.assign({key:"notification-holder"},e,{ref:t}))]}function bf(e){return yf(e)}const _f=s.createContext({});var Op=s.createContext({message:{},notification:{},modal:{}});const Rp=e=>{const{componentCls:t,colorText:a,fontSize:o,lineHeight:f,fontFamily:y}=e;return{[t]:{color:a,fontSize:o,lineHeight:f,fontFamily:y,[`&${t}-rtl`]:{direction:"rtl"}}}},Ch=()=>({});var Fg=(0,oe.I$)("App",Rp,Ch),kg=e=>{const{prefixCls:t,children:a,className:o,rootClassName:f,message:y,notification:_,style:S,component:I="div"}=e,{direction:A,getPrefixCls:z}=(0,s.useContext)(_e.E_),L=z("app",t),[F,Z,k]=Fg(L),W=J()(Z,L,o,f,k,{[`${L}-rtl`]:A==="rtl"}),H=(0,s.useContext)(_f),X=s.useMemo(()=>({message:Object.assign(Object.assign({},H.message),y),notification:Object.assign(Object.assign({},H.notification),_)}),[y,_,H.message,H.notification]),[Q,re]=so(X.message),[ie,ne]=bf(X.notification),[ae,ue]=mf(),fe=s.useMemo(()=>({message:Q,notification:ie,modal:ae}),[Q,ie,ae]);(0,io.ln)("App")(!(k&&I===!1),"usage","When using cssVar, ensure `component` is assigned a valid React component string.");const he=I===!1?s.Fragment:I,ve={className:W,style:S};return F(s.createElement(Op.Provider,{value:fe},s.createElement(_f.Provider,{value:X},s.createElement(he,Object.assign({},I===!1?void 0:ve),ue,re,ne,a))))},jg=()=>s.useContext(Op);const xf=kg;xf.useApp=jg;var Sh=xf,zl=j(52445),ou=j(30142),ac=j(81626);const{Option:Zg}=ou.default;function Vg(e){return(e==null?void 0:e.type)&&(e.type.isSelectOption||e.type.isSelectOptGroup)}const gl=(e,t)=>{var a;const{prefixCls:o,className:f,popupClassName:y,dropdownClassName:_,children:S,dataSource:I}=e,A=(0,ac.Z)(S);let z;A.length===1&&s.isValidElement(A[0])&&!Vg(A[0])&&([z]=A);const L=z?()=>z:void 0;let F;A.length&&Vg(A[0])?F=S:F=I?I.map(H=>{if(s.isValidElement(H))return H;switch(typeof H){case"string":return s.createElement(Zg,{key:H,value:H},H);case"object":{const{value:X}=H;return s.createElement(Zg,{key:X,value:X},H.text)}default:return}}):[];const{getPrefixCls:Z}=s.useContext(_e.E_),k=Z("select",o),[W]=(0,bn.Cn)("SelectLike",(a=e.dropdownStyle)===null||a===void 0?void 0:a.zIndex);return s.createElement(ou.default,Object.assign({ref:t,suffixIcon:null},(0,Ci.Z)(e,["dataSource","dropdownClassName"]),{prefixCls:k,popupClassName:y||_,dropdownStyle:Object.assign(Object.assign({},e.dropdownStyle),{zIndex:W}),className:J()(`${k}-auto-complete`,f),mode:ou.default.SECRET_COMBOBOX_MODE_DO_NOT_USE,getInputElement:L}),F)};var Hg=s.forwardRef(gl);const{Option:Ap}=ou.default,wh=(0,zl.Z)(Hg,"dropdownAlign",e=>(0,Ci.Z)(e,["visible"])),wm=Hg;wm.Option=Ap,wm._InternalPanelDoNotUseOrYouWillBeFired=wh;var Eh=wm,_d=j(96777),Ec=j(19240),dl=s.createContext({});const au=e=>{const{antCls:t,componentCls:a,iconCls:o,avatarBg:f,avatarColor:y,containerSize:_,containerSizeLG:S,containerSizeSM:I,textFontSize:A,textFontSizeLG:z,textFontSizeSM:L,borderRadius:F,borderRadiusLG:Z,borderRadiusSM:k,lineWidth:W,lineType:H}=e,X=(Q,re,ie)=>({width:Q,height:Q,borderRadius:"50%",[`&${a}-square`]:{borderRadius:ie},[`&${a}-icon`]:{fontSize:re,[`> ${o}`]:{margin:0}}});return{[a]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,nn.Wf)(e)),{position:"relative",display:"inline-flex",justifyContent:"center",alignItems:"center",overflow:"hidden",color:y,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:f,border:`${(0,me.bf)(W)} ${H} transparent`,"&-image":{background:"transparent"},[`${t}-image-img`]:{display:"block"}}),X(_,A,F)),{"&-lg":Object.assign({},X(S,z,Z)),"&-sm":Object.assign({},X(I,L,k)),"> img":{display:"block",width:"100%",height:"100%",objectFit:"cover"}})}},Cf=e=>{const{componentCls:t,groupBorderColor:a,groupOverlapping:o,groupSpace:f}=e;return{[`${t}-group`]:{display:"inline-flex",[t]:{borderColor:a},"> *:not(:first-child)":{marginInlineStart:o}},[`${t}-group-popover`]:{[`${t} + ${t}`]:{marginInlineStart:f}}}},Ih=e=>{const{controlHeight:t,controlHeightLG:a,controlHeightSM:o,fontSize:f,fontSizeLG:y,fontSizeXL:_,fontSizeHeading3:S,marginXS:I,marginXXS:A,colorBorderBg:z}=e;return{containerSize:t,containerSizeLG:a,containerSizeSM:o,textFontSize:Math.round((y+_)/2),textFontSizeLG:S,textFontSizeSM:f,groupSpace:A,groupOverlapping:-I,groupBorderColor:z}};var Dp=(0,oe.I$)("Avatar",e=>{const{colorTextLightSolid:t,colorTextPlaceholder:a}=e,o=(0,kr.IX)(e,{avatarBg:a,avatarColor:t});return[au(o),Cf(o)]},Ih),Ug=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const Th=(e,t)=>{const[a,o]=s.useState(1),[f,y]=s.useState(!1),[_,S]=s.useState(!0),I=s.useRef(null),A=s.useRef(null),z=(0,an.sQ)(t,I),{getPrefixCls:L,avatar:F}=s.useContext(_e.E_),Z=s.useContext(dl),k=()=>{if(!A.current||!I.current)return;const Ct=A.current.offsetWidth,dn=I.current.offsetWidth;if(Ct!==0&&dn!==0){const{gap:zn=4}=e;zn*2<dn&&o(dn-zn*2<Ct?(dn-zn*2)/Ct:1)}};s.useEffect(()=>{y(!0)},[]),s.useEffect(()=>{S(!0),o(1)},[e.src]),s.useEffect(k,[e.gap]);const W=()=>{const{onError:Ct}=e;(Ct==null?void 0:Ct())!==!1&&S(!1)},{prefixCls:H,shape:X,size:Q,src:re,srcSet:ie,icon:ne,className:ae,rootClassName:ue,alt:fe,draggable:he,children:ve,crossOrigin:ye}=e,we=Ug(e,["prefixCls","shape","size","src","srcSet","icon","className","rootClassName","alt","draggable","children","crossOrigin"]),Se=(0,Va.Z)(Ct=>{var dn,zn;return(zn=(dn=Q!=null?Q:Z==null?void 0:Z.size)!==null&&dn!==void 0?dn:Ct)!==null&&zn!==void 0?zn:"default"}),ze=Object.keys(typeof Se=="object"?Se||{}:{}).some(Ct=>["xs","sm","md","lg","xl","xxl"].includes(Ct)),Te=(0,Ec.Z)(ze),Fe=s.useMemo(()=>{if(typeof Se!="object")return{};const Ct=_d.c4.find(zn=>Te[zn]),dn=Se[Ct];return dn?{width:dn,height:dn,fontSize:dn&&(ne||ve)?dn/2:18}:{}},[Te,Se]),Ae=L("avatar",H),Ke=(0,Ln.Z)(Ae),[tt,vt,bt]=Dp(Ae,Ke),lt=J()({[`${Ae}-lg`]:Se==="large",[`${Ae}-sm`]:Se==="small"}),ct=s.isValidElement(re),mt=X||(Z==null?void 0:Z.shape)||"circle",Rt=J()(Ae,lt,F==null?void 0:F.className,`${Ae}-${mt}`,{[`${Ae}-image`]:ct||re&&_,[`${Ae}-icon`]:!!ne},bt,Ke,ae,ue,vt),wt=typeof Se=="number"?{width:Se,height:Se,fontSize:ne?Se/2:18}:{};let Bt;if(typeof re=="string"&&_)Bt=s.createElement("img",{src:re,draggable:he,srcSet:ie,onError:W,alt:fe,crossOrigin:ye});else if(ct)Bt=re;else if(ne)Bt=ne;else if(f||a!==1){const Ct=`scale(${a})`,dn={msTransform:Ct,WebkitTransform:Ct,transform:Ct};Bt=s.createElement(u.Z,{onResize:k},s.createElement("span",{className:`${Ae}-string`,ref:A,style:Object.assign({},dn)},ve))}else Bt=s.createElement("span",{className:`${Ae}-string`,style:{opacity:0},ref:A},ve);return delete we.onError,delete we.gap,tt(s.createElement("span",Object.assign({},we,{style:Object.assign(Object.assign(Object.assign(Object.assign({},wt),Fe),F==null?void 0:F.style),we.style),className:Rt,ref:z}),Bt))};var Gg=s.forwardRef(Th),Mh=j(60916);const Im=e=>{const{size:t,shape:a}=s.useContext(dl),o=s.useMemo(()=>({size:e.size||t,shape:e.shape||a}),[e.size,e.shape,t,a]);return s.createElement(dl.Provider,{value:o},e.children)};var kd=e=>{var t,a,o,f;const{getPrefixCls:y,direction:_}=s.useContext(_e.E_),{prefixCls:S,className:I,rootClassName:A,style:z,maxCount:L,maxStyle:F,size:Z,shape:k,maxPopoverPlacement:W,maxPopoverTrigger:H,children:X,max:Q}=e,re=y("avatar",S),ie=`${re}-group`,ne=(0,Ln.Z)(re),[ae,ue,fe]=Dp(re,ne),he=J()(ie,{[`${ie}-rtl`]:_==="rtl"},fe,ne,I,A,ue),ve=(0,ac.Z)(X).map((Se,ze)=>(0,Tn.Tm)(Se,{key:`avatar-key-${ze}`})),ye=(Q==null?void 0:Q.count)||L,we=ve.length;if(ye&&ye<we){const Se=ve.slice(0,ye),ze=ve.slice(ye,we),Te=(Q==null?void 0:Q.style)||F,Fe=((t=Q==null?void 0:Q.popover)===null||t===void 0?void 0:t.trigger)||H||"hover",Ae=((a=Q==null?void 0:Q.popover)===null||a===void 0?void 0:a.placement)||W||"top",Ke=Object.assign(Object.assign({content:ze},Q==null?void 0:Q.popover),{classNames:{root:J()(`${ie}-popover`,(f=(o=Q==null?void 0:Q.popover)===null||o===void 0?void 0:o.classNames)===null||f===void 0?void 0:f.root)},placement:Ae,trigger:Fe});return Se.push(s.createElement(Mh.Z,Object.assign({key:"avatar-popover-key",destroyTooltipOnHide:!0},Ke),s.createElement(Gg,{style:Te},`+${we-ye}`))),ae(s.createElement(Im,{shape:k,size:Z},s.createElement("div",{className:he,style:z},Se)))}return ae(s.createElement(Im,{shape:k,size:Z},s.createElement("div",{className:he,style:z},ve)))};const Ou=Gg;Ou.Group=kd;var bu=Ou,xd={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z"}}]},name:"vertical-align-top",theme:"outlined"},jd=xd,Cd=function(t,a){return s.createElement(En.Z,(0,Ue.Z)({},t,{ref:a,icon:jd}))},Tv=s.forwardRef(Cd),Xg=Tv;const Mv=e=>{const{componentCls:t,backTopFontSize:a,backTopSize:o,zIndexPopup:f}=e;return{[t]:Object.assign(Object.assign({},(0,nn.Wf)(e)),{position:"fixed",insetInlineEnd:e.backTopInlineEnd,insetBlockEnd:e.backTopBlockEnd,zIndex:f,width:40,height:40,cursor:"pointer","&:empty":{display:"none"},[`${t}-content`]:{width:o,height:o,overflow:"hidden",color:e.backTopColor,textAlign:"center",backgroundColor:e.backTopBackground,borderRadius:o,transition:`all ${e.motionDurationMid}`,"&:hover":{backgroundColor:e.backTopHoverBackground,transition:`all ${e.motionDurationMid}`}},[`${t}-icon`]:{fontSize:a,lineHeight:(0,me.bf)(o)}})}},Tm=e=>{const{componentCls:t,screenMD:a,screenXS:o,backTopInlineEndMD:f,backTopInlineEndXS:y}=e;return{[`@media (max-width: ${(0,me.bf)(a)})`]:{[t]:{insetInlineEnd:f}},[`@media (max-width: ${(0,me.bf)(o)})`]:{[t]:{insetInlineEnd:y}}}},Kg=e=>({zIndexPopup:e.zIndexBase+10});var Ic=(0,oe.I$)("BackTop",e=>{const{fontSizeHeading3:t,colorTextDescription:a,colorTextLightSolid:o,colorText:f,controlHeightLG:y,calc:_}=e,S=(0,kr.IX)(e,{backTopBackground:a,backTopColor:o,backTopHoverBackground:f,backTopFontSize:t,backTopSize:y,backTopBlockEnd:_(y).mul(1.25).equal(),backTopInlineEnd:_(y).mul(2.5).equal(),backTopInlineEndMD:_(y).mul(1.5).equal(),backTopInlineEndXS:_(y).mul(.5).equal()});return[Mv(S),Tm(S)]},Kg),qg=e=>{const{prefixCls:t,className:a,rootClassName:o,visibilityHeight:f=400,target:y,onClick:_,duration:S=450}=e,[I,A]=s.useState(f===0),z=s.useRef(null),L=()=>{var fe;return((fe=z.current)===null||fe===void 0?void 0:fe.ownerDocument)||window},F=Le(fe=>{const he=Xn(fe.target);A(he>=f)});s.useEffect(()=>{const he=(y||L)();return F({target:he}),he==null||he.addEventListener("scroll",F),()=>{F.cancel(),he==null||he.removeEventListener("scroll",F)}},[y]);const Z=fe=>{Ur(0,{getContainer:y||L,duration:S}),_==null||_(fe)},{getPrefixCls:k,direction:W}=s.useContext(_e.E_),H=k("back-top",t),X=k(),[Q,re,ie]=Ic(H),ne=J()(re,ie,H,{[`${H}-rtl`]:W==="rtl"},a,o),ae=(0,Ci.Z)(e,["prefixCls","className","rootClassName","children","visibilityHeight","target"]),ue=s.createElement("div",{className:`${H}-content`},s.createElement("div",{className:`${H}-icon`},s.createElement(Xg,null)));return Q(s.createElement("div",Object.assign({},ae,{className:ne,onClick:Z,ref:z}),s.createElement(Rn.ZP,{visible:I,motionName:`${X}-fade`},fe=>{let{className:he}=fe;return(0,Tn.Tm)(e.children||ue,ve=>{let{className:ye}=ve;return{className:J()(he,ye)}})})))},Oh=j(53835),Sd=j(75428);const Mm=new me.E4("antStatusProcessing",{"0%":{transform:"scale(0.8)",opacity:.5},"100%":{transform:"scale(2.4)",opacity:0}}),Xc=new me.E4("antZoomBadgeIn",{"0%":{transform:"scale(0) translate(50%, -50%)",opacity:0},"100%":{transform:"scale(1) translate(50%, -50%)"}}),Kc=new me.E4("antZoomBadgeOut",{"0%":{transform:"scale(1) translate(50%, -50%)"},"100%":{transform:"scale(0) translate(50%, -50%)",opacity:0}}),wf=new me.E4("antNoWrapperZoomBadgeIn",{"0%":{transform:"scale(0)",opacity:0},"100%":{transform:"scale(1)"}}),Zd=new me.E4("antNoWrapperZoomBadgeOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0)",opacity:0}}),Vd=new me.E4("antBadgeLoadingCircle",{"0%":{transformOrigin:"50%"},"100%":{transform:"translate(50%, -50%) rotate(360deg)",transformOrigin:"50%"}}),zp=e=>{const{componentCls:t,iconCls:a,antCls:o,badgeShadowSize:f,textFontSize:y,textFontSizeSM:_,statusSize:S,dotSize:I,textFontWeight:A,indicatorHeight:z,indicatorHeightSM:L,marginXS:F,calc:Z}=e,k=`${o}-scroll-number`,W=(0,Sd.Z)(e,(H,X)=>{let{darkColor:Q}=X;return{[`&${t} ${t}-color-${H}`]:{background:Q,[`&:not(${t}-count)`]:{color:Q},"a:hover &":{background:Q}}}});return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,nn.Wf)(e)),{position:"relative",display:"inline-block",width:"fit-content",lineHeight:1,[`${t}-count`]:{display:"inline-flex",justifyContent:"center",zIndex:e.indicatorZIndex,minWidth:z,height:z,color:e.badgeTextColor,fontWeight:A,fontSize:y,lineHeight:(0,me.bf)(z),whiteSpace:"nowrap",textAlign:"center",background:e.badgeColor,borderRadius:Z(z).div(2).equal(),boxShadow:`0 0 0 ${(0,me.bf)(f)} ${e.badgeShadowColor}`,transition:`background ${e.motionDurationMid}`,a:{color:e.badgeTextColor},"a:hover":{color:e.badgeTextColor},"a:hover &":{background:e.badgeColorHover}},[`${t}-count-sm`]:{minWidth:L,height:L,fontSize:_,lineHeight:(0,me.bf)(L),borderRadius:Z(L).div(2).equal()},[`${t}-multiple-words`]:{padding:`0 ${(0,me.bf)(e.paddingXS)}`,bdi:{unicodeBidi:"plaintext"}},[`${t}-dot`]:{zIndex:e.indicatorZIndex,width:I,minWidth:I,height:I,background:e.badgeColor,borderRadius:"100%",boxShadow:`0 0 0 ${(0,me.bf)(f)} ${e.badgeShadowColor}`},[`${t}-count, ${t}-dot, ${k}-custom-component`]:{position:"absolute",top:0,insetInlineEnd:0,transform:"translate(50%, -50%)",transformOrigin:"100% 0%",[`&${a}-spin`]:{animationName:Vd,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear"}},[`&${t}-status`]:{lineHeight:"inherit",verticalAlign:"baseline",[`${t}-status-dot`]:{position:"relative",top:-1,display:"inline-block",width:S,height:S,verticalAlign:"middle",borderRadius:"50%"},[`${t}-status-success`]:{backgroundColor:e.colorSuccess},[`${t}-status-processing`]:{overflow:"visible",color:e.colorInfo,backgroundColor:e.colorInfo,borderColor:"currentcolor","&::after":{position:"absolute",top:0,insetInlineStart:0,width:"100%",height:"100%",borderWidth:f,borderStyle:"solid",borderColor:"inherit",borderRadius:"50%",animationName:Mm,animationDuration:e.badgeProcessingDuration,animationIterationCount:"infinite",animationTimingFunction:"ease-in-out",content:'""'}},[`${t}-status-default`]:{backgroundColor:e.colorTextPlaceholder},[`${t}-status-error`]:{backgroundColor:e.colorError},[`${t}-status-warning`]:{backgroundColor:e.colorWarning},[`${t}-status-text`]:{marginInlineStart:F,color:e.colorText,fontSize:e.fontSize}}}),W),{[`${t}-zoom-appear, ${t}-zoom-enter`]:{animationName:Xc,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"},[`${t}-zoom-leave`]:{animationName:Kc,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"},[`&${t}-not-a-wrapper`]:{[`${t}-zoom-appear, ${t}-zoom-enter`]:{animationName:wf,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack},[`${t}-zoom-leave`]:{animationName:Zd,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack},[`&:not(${t}-status)`]:{verticalAlign:"middle"},[`${k}-custom-component, ${t}-count`]:{transform:"none"},[`${k}-custom-component, ${k}`]:{position:"relative",top:"auto",display:"block",transformOrigin:"50% 50%"}},[k]:{overflow:"hidden",transition:`all ${e.motionDurationMid} ${e.motionEaseOutBack}`,[`${k}-only`]:{position:"relative",display:"inline-block",height:z,transition:`all ${e.motionDurationSlow} ${e.motionEaseOutBack}`,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden",[`> p${k}-only-unit`]:{height:z,margin:0,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden"}},[`${k}-symbol`]:{verticalAlign:"top"}},"&-rtl":{direction:"rtl",[`${t}-count, ${t}-dot, ${k}-custom-component`]:{transform:"translate(-50%, -50%)"}}})}},gs=e=>{const{fontHeight:t,lineWidth:a,marginXS:o,colorBorderBg:f}=e,y=t,_=a,S=e.colorTextLightSolid,I=e.colorError,A=e.colorErrorHover;return(0,kr.IX)(e,{badgeFontHeight:y,badgeShadowSize:_,badgeTextColor:S,badgeColor:I,badgeColorHover:A,badgeShadowColor:f,badgeProcessingDuration:"1.2s",badgeRibbonOffset:o,badgeRibbonCornerTransform:"scaleY(0.75)",badgeRibbonCornerFilter:"brightness(75%)"})},qu=e=>{const{fontSize:t,lineHeight:a,fontSizeSM:o,lineWidth:f}=e;return{indicatorZIndex:"auto",indicatorHeight:Math.round(t*a)-2*f,indicatorHeightSM:t,dotSize:o/2,textFontSize:o,textFontSizeSM:o,textFontWeight:"normal",statusSize:o/2}};var Pv=(0,oe.I$)("Badge",e=>{const t=gs(e);return zp(t)},qu);const Ov=e=>{const{antCls:t,badgeFontHeight:a,marginXS:o,badgeRibbonOffset:f,calc:y}=e,_=`${t}-ribbon`,S=`${t}-ribbon-wrapper`,I=(0,Sd.Z)(e,(A,z)=>{let{darkColor:L}=z;return{[`&${_}-color-${A}`]:{background:L,color:L}}});return{[S]:{position:"relative"},[_]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,nn.Wf)(e)),{position:"absolute",top:o,padding:`0 ${(0,me.bf)(e.paddingXS)}`,color:e.colorPrimary,lineHeight:(0,me.bf)(a),whiteSpace:"nowrap",backgroundColor:e.colorPrimary,borderRadius:e.borderRadiusSM,[`${_}-text`]:{color:e.badgeTextColor},[`${_}-corner`]:{position:"absolute",top:"100%",width:f,height:f,color:"currentcolor",border:`${(0,me.bf)(y(f).div(2).equal())} solid`,transform:e.badgeRibbonCornerTransform,transformOrigin:"top",filter:e.badgeRibbonCornerFilter}}),I),{[`&${_}-placement-end`]:{insetInlineEnd:y(f).mul(-1).equal(),borderEndEndRadius:0,[`${_}-corner`]:{insetInlineEnd:0,borderInlineEndColor:"transparent",borderBlockEndColor:"transparent"}},[`&${_}-placement-start`]:{insetInlineStart:y(f).mul(-1).equal(),borderEndStartRadius:0,[`${_}-corner`]:{insetInlineStart:0,borderBlockEndColor:"transparent",borderInlineStartColor:"transparent"}},"&-rtl":{direction:"rtl"}})}};var Pm=(0,oe.I$)(["Badge","Ribbon"],e=>{const t=gs(e);return Ov(t)},qu),_u=e=>{const{className:t,prefixCls:a,style:o,color:f,children:y,text:_,placement:S="end",rootClassName:I}=e,{getPrefixCls:A,direction:z}=s.useContext(_e.E_),L=A("ribbon",a),F=`${L}-wrapper`,[Z,k,W]=Pm(L,F),H=(0,Oh.o2)(f,!1),X=J()(L,`${L}-placement-${S}`,{[`${L}-rtl`]:z==="rtl",[`${L}-color-${f}`]:H},t),Q={},re={};return f&&!H&&(Q.background=f,re.color=f),Z(s.createElement("div",{className:J()(F,I,k,W)},y,s.createElement("div",{className:J()(X,k),style:Object.assign(Object.assign({},Q),o)},s.createElement("span",{className:`${L}-text`},_),s.createElement("div",{className:`${L}-corner`,style:re}))))};const xc=e=>{const{prefixCls:t,value:a,current:o,offset:f=0}=e;let y;return f&&(y={position:"absolute",top:`${f}00%`,left:0}),s.createElement("span",{style:y,className:J()(`${t}-only-unit`,{current:o})},a)};function Fc(e,t,a){let o=e,f=0;for(;(o+10)%10!==t;)o+=a,f+=a;return f}var Yg=e=>{const{prefixCls:t,count:a,value:o}=e,f=Number(o),y=Math.abs(a),[_,S]=s.useState(f),[I,A]=s.useState(y),z=()=>{S(f),A(y)};s.useEffect(()=>{const Z=setTimeout(z,1e3);return()=>clearTimeout(Z)},[f]);let L,F;if(_===f||Number.isNaN(f)||Number.isNaN(_))L=[s.createElement(xc,Object.assign({},e,{key:f,current:!0}))],F={transition:"none"};else{L=[];const Z=f+10,k=[];for(let Q=f;Q<=Z;Q+=1)k.push(Q);const W=I<y?1:-1,H=k.findIndex(Q=>Q%10===_);L=(W<0?k.slice(0,H+1):k.slice(H)).map((Q,re)=>{const ie=Q%10;return s.createElement(xc,Object.assign({},e,{key:Q,value:ie,offset:W<0?re-H:re,current:re===H}))}),F={transform:`translateY(${-Fc(_,f,W)}00%)`}}return s.createElement("span",{className:`${t}-only`,style:F,onTransitionEnd:z},L)},vl=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},Ef=s.forwardRef((e,t)=>{const{prefixCls:a,count:o,className:f,motionClassName:y,style:_,title:S,show:I,component:A="sup",children:z}=e,L=vl(e,["prefixCls","count","className","motionClassName","style","title","show","component","children"]),{getPrefixCls:F}=s.useContext(_e.E_),Z=F("scroll-number",a),k=Object.assign(Object.assign({},L),{"data-show":I,style:_,className:J()(Z,f,y),title:S});let W=o;if(o&&Number(o)%1===0){const H=String(o).split("");W=s.createElement("bdi",null,H.map((X,Q)=>s.createElement(Yg,{prefixCls:Z,count:Number(o),value:X,key:H.length-Q})))}return _!=null&&_.borderColor&&(k.style=Object.assign(Object.assign({},_),{boxShadow:`0 0 0 1px ${_.borderColor} inset`})),z?(0,Tn.Tm)(z,H=>({className:J()(`${Z}-custom-component`,H==null?void 0:H.className,y)})):s.createElement(A,Object.assign({},k,{ref:t}),W)}),m=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const l=s.forwardRef((e,t)=>{var a,o,f,y,_;const{prefixCls:S,scrollNumberPrefixCls:I,children:A,status:z,text:L,color:F,count:Z=null,overflowCount:k=99,dot:W=!1,size:H="default",title:X,offset:Q,style:re,className:ie,rootClassName:ne,classNames:ae,styles:ue,showZero:fe=!1}=e,he=m(e,["prefixCls","scrollNumberPrefixCls","children","status","text","color","count","overflowCount","dot","size","title","offset","style","className","rootClassName","classNames","styles","showZero"]),{getPrefixCls:ve,direction:ye,badge:we}=s.useContext(_e.E_),Se=ve("badge",S),[ze,Te,Fe]=Pv(Se),Ae=Z>k?`${k}+`:Z,Ke=Ae==="0"||Ae===0,tt=Z===null||Ke&&!fe,vt=(z!=null||F!=null)&&tt,bt=W&&!Ke,lt=bt?"":Ae,ct=(0,s.useMemo)(()=>(lt==null||lt===""||Ke&&!fe)&&!bt,[lt,Ke,fe,bt]),mt=(0,s.useRef)(Z);ct||(mt.current=Z);const Rt=mt.current,wt=(0,s.useRef)(lt);ct||(wt.current=lt);const Bt=wt.current,Ct=(0,s.useRef)(bt);ct||(Ct.current=bt);const dn=(0,s.useMemo)(()=>{if(!Q)return Object.assign(Object.assign({},we==null?void 0:we.style),re);const Ir={marginTop:Q[1]};return ye==="rtl"?Ir.left=parseInt(Q[0],10):Ir.right=-parseInt(Q[0],10),Object.assign(Object.assign(Object.assign({},Ir),we==null?void 0:we.style),re)},[ye,Q,re,we==null?void 0:we.style]),zn=X!=null?X:typeof Rt=="string"||typeof Rt=="number"?Rt:void 0,rn=ct||!L?null:s.createElement("span",{className:`${Se}-status-text`},L),Cn=!Rt||typeof Rt!="object"?void 0:(0,Tn.Tm)(Rt,Ir=>({style:Object.assign(Object.assign({},dn),Ir.style)})),Vt=(0,Oh.o2)(F,!1),At=J()(ae==null?void 0:ae.indicator,(a=we==null?void 0:we.classNames)===null||a===void 0?void 0:a.indicator,{[`${Se}-status-dot`]:vt,[`${Se}-status-${z}`]:!!z,[`${Se}-color-${F}`]:Vt}),$n={};F&&!Vt&&($n.color=F,$n.background=F);const yn=J()(Se,{[`${Se}-status`]:vt,[`${Se}-not-a-wrapper`]:!A,[`${Se}-rtl`]:ye==="rtl"},ie,ne,we==null?void 0:we.className,(o=we==null?void 0:we.classNames)===null||o===void 0?void 0:o.root,ae==null?void 0:ae.root,Te,Fe);if(!A&&vt){const Ir=dn.color;return ze(s.createElement("span",Object.assign({},he,{className:yn,style:Object.assign(Object.assign(Object.assign({},ue==null?void 0:ue.root),(f=we==null?void 0:we.styles)===null||f===void 0?void 0:f.root),dn)}),s.createElement("span",{className:At,style:Object.assign(Object.assign(Object.assign({},ue==null?void 0:ue.indicator),(y=we==null?void 0:we.styles)===null||y===void 0?void 0:y.indicator),$n)}),L&&s.createElement("span",{style:{color:Ir},className:`${Se}-status-text`},L)))}return ze(s.createElement("span",Object.assign({ref:t},he,{className:yn,style:Object.assign(Object.assign({},(_=we==null?void 0:we.styles)===null||_===void 0?void 0:_.root),ue==null?void 0:ue.root)}),A,s.createElement(Rn.ZP,{visible:!ct,motionName:`${Se}-zoom`,motionAppear:!1,motionDeadline:1e3},Ir=>{let{className:cr}=Ir;var Kn,qn;const Pn=ve("scroll-number",I),Yn=Ct.current,zr=J()(ae==null?void 0:ae.indicator,(Kn=we==null?void 0:we.classNames)===null||Kn===void 0?void 0:Kn.indicator,{[`${Se}-dot`]:Yn,[`${Se}-count`]:!Yn,[`${Se}-count-sm`]:H==="small",[`${Se}-multiple-words`]:!Yn&&Bt&&Bt.toString().length>1,[`${Se}-status-${z}`]:!!z,[`${Se}-color-${F}`]:Vt});let si=Object.assign(Object.assign(Object.assign({},ue==null?void 0:ue.indicator),(qn=we==null?void 0:we.styles)===null||qn===void 0?void 0:qn.indicator),dn);return F&&!Vt&&(si=si||{},si.background=F),s.createElement(Ef,{prefixCls:Pn,show:!ct,motionClassName:cr,className:zr,count:Bt,title:zn,style:si,key:"scrollNumber"},Cn)}),rn))});l.Ribbon=_u;var p=l,b=j(13143),C={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"},E=C,R=function(t,a){return s.createElement(En.Z,(0,Ue.Z)({},t,{ref:a,icon:E}))},B=s.forwardRef(R),V=B,U=j(27806),Y=j(83190),ee=_t.Z.ESC,le=_t.Z.TAB;function Ee(e){var t=e.visible,a=e.triggerRef,o=e.onVisibleChange,f=e.autoFocus,y=e.overlayRef,_=s.useRef(!1),S=function(){if(t){var L,F;(L=a.current)===null||L===void 0||(F=L.focus)===null||F===void 0||F.call(L),o==null||o(!1)}},I=function(){var L;return(L=y.current)!==null&&L!==void 0&&L.focus?(y.current.focus(),_.current=!0,!0):!1},A=function(L){switch(L.keyCode){case ee:S();break;case le:{var F=!1;_.current||(F=I()),F?L.preventDefault():S();break}}};s.useEffect(function(){return t?(window.addEventListener("keydown",A),f&&(0,He.Z)(I,3),function(){window.removeEventListener("keydown",A),_.current=!1}):function(){_.current=!1}},[t])}var xe=(0,s.forwardRef)(function(e,t){var a=e.overlay,o=e.arrow,f=e.prefixCls,y=(0,s.useMemo)(function(){var S;return typeof a=="function"?S=a():S=a,S},[a]),_=(0,an.sQ)(t,(0,an.C4)(y));return s.createElement(s.Fragment,null,o&&s.createElement("div",{className:"".concat(f,"-arrow")}),s.cloneElement(y,{ref:(0,an.Yr)(y)?_:void 0}))}),Oe=xe,Me={adjustX:1,adjustY:1},qe=[0,0],yt={topLeft:{points:["bl","tl"],overflow:Me,offset:[0,-4],targetOffset:qe},top:{points:["bc","tc"],overflow:Me,offset:[0,-4],targetOffset:qe},topRight:{points:["br","tr"],overflow:Me,offset:[0,-4],targetOffset:qe},bottomLeft:{points:["tl","bl"],overflow:Me,offset:[0,4],targetOffset:qe},bottom:{points:["tc","bc"],overflow:Me,offset:[0,4],targetOffset:qe},bottomRight:{points:["tr","br"],overflow:Me,offset:[0,4],targetOffset:qe}},gt=yt,Nt=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus","overlay","children","onVisibleChange"];function Mt(e,t){var a,o=e.arrow,f=o===void 0?!1:o,y=e.prefixCls,_=y===void 0?"rc-dropdown":y,S=e.transitionName,I=e.animation,A=e.align,z=e.placement,L=z===void 0?"bottomLeft":z,F=e.placements,Z=F===void 0?gt:F,k=e.getPopupContainer,W=e.showAction,H=e.hideAction,X=e.overlayClassName,Q=e.overlayStyle,re=e.visible,ie=e.trigger,ne=ie===void 0?["hover"]:ie,ae=e.autoFocus,ue=e.overlay,fe=e.children,he=e.onVisibleChange,ve=(0,de.Z)(e,Nt),ye=s.useState(),we=(0,Pe.Z)(ye,2),Se=we[0],ze=we[1],Te="visible"in e?re:Se,Fe=s.useRef(null),Ae=s.useRef(null),Ke=s.useRef(null);s.useImperativeHandle(t,function(){return Fe.current});var tt=function(Ct){ze(Ct),he==null||he(Ct)};Ee({visible:Te,triggerRef:Ke,onVisibleChange:tt,autoFocus:ae,overlayRef:Ae});var vt=function(Ct){var dn=e.onOverlayClick;ze(!1),dn&&dn(Ct)},bt=function(){return s.createElement(Oe,{ref:Ae,overlay:ue,prefixCls:_,arrow:f})},lt=function(){return typeof ue=="function"?bt:bt()},ct=function(){var Ct=e.minOverlayWidthMatchTrigger,dn=e.alignPoint;return"minOverlayWidthMatchTrigger"in e?Ct:!dn},mt=function(){var Ct=e.openClassName;return Ct!==void 0?Ct:"".concat(_,"-open")},Rt=s.cloneElement(fe,{className:J()((a=fe.props)===null||a===void 0?void 0:a.className,Te&&mt()),ref:(0,an.Yr)(fe)?(0,an.sQ)(Ke,(0,an.C4)(fe)):void 0}),wt=H;return!wt&&ne.indexOf("contextMenu")!==-1&&(wt=["click"]),s.createElement(Y.Z,(0,Ue.Z)({builtinPlacements:Z},ve,{prefixCls:_,ref:Fe,popupClassName:J()(X,(0,ge.Z)({},"".concat(_,"-show-arrow"),f)),popupStyle:Q,action:ne,showAction:W,hideAction:wt,popupPlacement:L,popupAlign:A,popupTransitionName:S,popupAnimation:I,popupVisible:Te,stretch:ct()?"minWidth":"",popup:lt(),onPopupVisibleChange:tt,onPopupClick:vt,getPopupContainer:k}),Rt)}var Dt=s.forwardRef(Mt),It=Dt,zt=j(93954),nr=e=>typeof e!="object"&&typeof e!="function"||e===null,Hn=j(5416),Er=j(50009),mr=j(47996),Dn=s.createContext(null);function or(e,t){return e===void 0?null:"".concat(e,"-").concat(t)}function Gr(e){var t=s.useContext(Dn);return or(t,e)}var On=j(54596),Rr=["children","locked"],Qn=s.createContext(null);function xi(e,t){var a=(0,K.Z)({},e);return Object.keys(t).forEach(function(o){var f=t[o];f!==void 0&&(a[o]=f)}),a}function Br(e){var t=e.children,a=e.locked,o=(0,de.Z)(e,Rr),f=s.useContext(Qn),y=(0,On.Z)(function(){return xi(f,o)},[f,o],function(_,S){return!a&&(_[0]!==S[0]||!(0,mr.Z)(_[1],S[1],!0))});return s.createElement(Qn.Provider,{value:y},t)}var Or=[],ci=s.createContext(null);function vi(){return s.useContext(ci)}var Gi=s.createContext(Or);function Yi(e){var t=s.useContext(Gi);return s.useMemo(function(){return e!==void 0?[].concat((0,Ie.Z)(t),[e]):t},[t,e])}var ra=s.createContext(null),Bo=s.createContext({}),No=Bo,va=j(59422),os=_t.Z.LEFT,Es=_t.Z.RIGHT,tl=_t.Z.UP,js=_t.Z.DOWN,ba=_t.Z.ENTER,ms=_t.Z.ESC,xo=_t.Z.HOME,Ka=_t.Z.END,xs=[tl,js,os,Es];function ws(e,t,a,o){var f,y="prev",_="next",S="children",I="parent";if(e==="inline"&&o===ba)return{inlineTrigger:!0};var A=(0,ge.Z)((0,ge.Z)({},tl,y),js,_),z=(0,ge.Z)((0,ge.Z)((0,ge.Z)((0,ge.Z)({},os,a?_:y),Es,a?y:_),js,S),ba,S),L=(0,ge.Z)((0,ge.Z)((0,ge.Z)((0,ge.Z)((0,ge.Z)((0,ge.Z)({},tl,y),js,_),ba,S),ms,I),os,a?S:I),Es,a?I:S),F={inline:A,horizontal:z,vertical:L,inlineSub:A,horizontalSub:L,verticalSub:L},Z=(f=F["".concat(e).concat(t?"":"Sub")])===null||f===void 0?void 0:f[o];switch(Z){case y:return{offset:-1,sibling:!0};case _:return{offset:1,sibling:!0};case I:return{offset:-1,sibling:!1};case S:return{offset:1,sibling:!1};default:return null}}function ol(e){for(var t=e;t;){if(t.getAttribute("data-menu-list"))return t;t=t.parentElement}return null}function Hl(e,t){for(var a=e||document.activeElement;a;){if(t.has(a))return a;a=a.parentElement}return null}function Cl(e,t){var a=(0,va.tS)(e,!0);return a.filter(function(o){return t.has(o)})}function Pl(e,t,a){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;if(!e)return null;var f=Cl(e,t),y=f.length,_=f.findIndex(function(S){return a===S});return o<0?_===-1?_=y-1:_-=1:o>0&&(_+=1),_=(_+y)%y,f[_]}var Rc=function(t,a){var o=new Set,f=new Map,y=new Map;return t.forEach(function(_){var S=document.querySelector("[data-menu-id='".concat(or(a,_),"']"));S&&(o.add(S),y.set(S,_),f.set(_,S))}),{elements:o,key2element:f,element2key:y}};function Cc(e,t,a,o,f,y,_,S,I,A){var z=s.useRef(),L=s.useRef();L.current=t;var F=function(){He.Z.cancel(z.current)};return s.useEffect(function(){return function(){F()}},[]),function(Z){var k=Z.which;if([].concat(xs,[ba,ms,xo,Ka]).includes(k)){var W=y(),H=Rc(W,o),X=H,Q=X.elements,re=X.key2element,ie=X.element2key,ne=re.get(t),ae=Hl(ne,Q),ue=ie.get(ae),fe=ws(e,_(ue,!0).length===1,a,k);if(!fe&&k!==xo&&k!==Ka)return;(xs.includes(k)||[xo,Ka].includes(k))&&Z.preventDefault();var he=function(Ae){if(Ae){var Ke=Ae,tt=Ae.querySelector("a");tt!=null&&tt.getAttribute("href")&&(Ke=tt);var vt=ie.get(Ae);S(vt),F(),z.current=(0,He.Z)(function(){L.current===vt&&Ke.focus()})}};if([xo,Ka].includes(k)||fe.sibling||!ae){var ve;!ae||e==="inline"?ve=f.current:ve=ol(ae);var ye,we=Cl(ve,Q);k===xo?ye=we[0]:k===Ka?ye=we[we.length-1]:ye=Pl(ve,Q,ae,fe.offset),he(ye)}else if(fe.inlineTrigger)I(ue);else if(fe.offset>0)I(ue,!0),F(),z.current=(0,He.Z)(function(){H=Rc(W,o);var Fe=ae.getAttribute("aria-controls"),Ae=document.getElementById(Fe),Ke=Pl(Ae,H.elements);he(Ke)},5);else if(fe.offset<0){var Se=_(ue,!0),ze=Se[Se.length-2],Te=re.get(ze);I(ze,!1),he(Te)}}A==null||A(Z)}}function al(e){Promise.resolve().then(e)}var zs="__RC_UTIL_PATH_SPLIT__",$s=function(t){return t.join(zs)},us=function(t){return t.split(zs)},fl="rc-menu-more";function Ul(){var e=s.useState({}),t=(0,Pe.Z)(e,2),a=t[1],o=(0,s.useRef)(new Map),f=(0,s.useRef)(new Map),y=s.useState([]),_=(0,Pe.Z)(y,2),S=_[0],I=_[1],A=(0,s.useRef)(0),z=(0,s.useRef)(!1),L=function(){z.current||a({})},F=(0,s.useCallback)(function(re,ie){var ne=$s(ie);f.current.set(ne,re),o.current.set(re,ne),A.current+=1;var ae=A.current;al(function(){ae===A.current&&L()})},[]),Z=(0,s.useCallback)(function(re,ie){var ne=$s(ie);f.current.delete(ne),o.current.delete(re)},[]),k=(0,s.useCallback)(function(re){I(re)},[]),W=(0,s.useCallback)(function(re,ie){var ne=o.current.get(re)||"",ae=us(ne);return ie&&S.includes(ae[0])&&ae.unshift(fl),ae},[S]),H=(0,s.useCallback)(function(re,ie){return re.filter(function(ne){return ne!==void 0}).some(function(ne){var ae=W(ne,!0);return ae.includes(ie)})},[W]),X=function(){var ie=(0,Ie.Z)(o.current.keys());return S.length&&ie.push(fl),ie},Q=(0,s.useCallback)(function(re){var ie="".concat(o.current.get(re)).concat(zs),ne=new Set;return(0,Ie.Z)(f.current.keys()).forEach(function(ae){ae.startsWith(ie)&&ne.add(f.current.get(ae))}),ne},[]);return s.useEffect(function(){return function(){z.current=!0}},[]),{registerPath:F,unregisterPath:Z,refreshOverflowKeys:k,isSubPathKey:H,getKeyPath:W,getKeys:X,getSubPathKeys:Q}}function Ps(e){var t=s.useRef(e);t.current=e;var a=s.useCallback(function(){for(var o,f=arguments.length,y=new Array(f),_=0;_<f;_++)y[_]=arguments[_];return(o=t.current)===null||o===void 0?void 0:o.call.apply(o,[t].concat(y))},[]);return e?a:void 0}var Sc=Math.random().toFixed(5).toString().slice(2),qc=0;function kc(e){var t=(0,zt.Z)(e,{value:e}),a=(0,Pe.Z)(t,2),o=a[0],f=a[1];return s.useEffect(function(){qc+=1;var y="".concat(Sc,"-").concat(qc);f("rc-menu-uuid-".concat(y))},[]),o}var mc=j(56216);function xu(e,t,a,o){var f=s.useContext(Qn),y=f.activeKey,_=f.onActive,S=f.onInactive,I={active:y===e};return t||(I.onMouseEnter=function(A){a==null||a({key:e,domEvent:A}),_(e)},I.onMouseLeave=function(A){o==null||o({key:e,domEvent:A}),S(e)}),I}function Yc(e){var t=s.useContext(Qn),a=t.mode,o=t.rtl,f=t.inlineIndent;if(a!=="inline")return null;var y=e;return o?{paddingRight:y*f}:{paddingLeft:y*f}}function jc(e){var t=e.icon,a=e.props,o=e.children,f;return t===null||t===!1?null:(typeof t=="function"?f=s.createElement(t,(0,K.Z)({},a)):typeof t!="boolean"&&(f=t),f||o||null)}var Hd=["item"];function Jc(e){var t=e.item,a=(0,de.Z)(e,Hd);return Object.defineProperty(a,"item",{get:function(){return(0,Pc.ZP)(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),t}}),a}var Ud=["title","attribute","elementRef"],If=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],Om=["active"],Lp=function(e){(0,ri.Z)(a,e);var t=(0,mc.Z)(a);function a(){return(0,Fn.Z)(this,a),t.apply(this,arguments)}return(0,un.Z)(a,[{key:"render",value:function(){var f=this.props,y=f.title,_=f.attribute,S=f.elementRef,I=(0,de.Z)(f,Ud),A=(0,Ci.Z)(I,["eventKey","popupClassName","popupOffset","onTitleClick"]);return(0,Pc.ZP)(!_,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),s.createElement(Er.Z.Item,(0,Ue.Z)({},_,{title:typeof y=="string"?y:void 0},A,{ref:S}))}}]),a}(s.Component),Lb=s.forwardRef(function(e,t){var a=e.style,o=e.className,f=e.eventKey,y=e.warnKey,_=e.disabled,S=e.itemIcon,I=e.children,A=e.role,z=e.onMouseEnter,L=e.onMouseLeave,F=e.onClick,Z=e.onKeyDown,k=e.onFocus,W=(0,de.Z)(e,If),H=Gr(f),X=s.useContext(Qn),Q=X.prefixCls,re=X.onItemClick,ie=X.disabled,ne=X.overflowDisabled,ae=X.itemIcon,ue=X.selectedKeys,fe=X.onActive,he=s.useContext(No),ve=he._internalRenderMenuItem,ye="".concat(Q,"-item"),we=s.useRef(),Se=s.useRef(),ze=ie||_,Te=(0,an.x1)(t,Se),Fe=Yi(f),Ae=function(zn){return{key:f,keyPath:(0,Ie.Z)(Fe).reverse(),item:we.current,domEvent:zn}},Ke=S||ae,tt=xu(f,ze,z,L),vt=tt.active,bt=(0,de.Z)(tt,Om),lt=ue.includes(f),ct=Yc(Fe.length),mt=function(zn){if(!ze){var rn=Ae(zn);F==null||F(Jc(rn)),re(rn)}},Rt=function(zn){if(Z==null||Z(zn),zn.which===_t.Z.ENTER){var rn=Ae(zn);F==null||F(Jc(rn)),re(rn)}},wt=function(zn){fe(f),k==null||k(zn)},Bt={};e.role==="option"&&(Bt["aria-selected"]=lt);var Ct=s.createElement(Lp,(0,Ue.Z)({ref:we,elementRef:Te,role:A===null?"none":A||"menuitem",tabIndex:_?null:-1,"data-menu-id":ne&&H?null:H},(0,Ci.Z)(W,["extra"]),bt,Bt,{component:"li","aria-disabled":_,style:(0,K.Z)((0,K.Z)({},ct),a),className:J()(ye,(0,ge.Z)((0,ge.Z)((0,ge.Z)({},"".concat(ye,"-active"),vt),"".concat(ye,"-selected"),lt),"".concat(ye,"-disabled"),ze),o),onClick:mt,onKeyDown:Rt,onFocus:wt}),I,s.createElement(jc,{props:(0,K.Z)((0,K.Z)({},e),{},{isSelected:lt}),icon:Ke}));return ve&&(Ct=ve(Ct,e,{selected:lt})),Ct});function Wx(e,t){var a=e.eventKey,o=vi(),f=Yi(a);return s.useEffect(function(){if(o)return o.registerPath(a,f),function(){o.unregisterPath(a,f)}},[f]),o?null:s.createElement(Lb,(0,Ue.Z)({},e,{ref:t}))}var Rh=s.forwardRef(Wx),Nb=["className","children"],Bb=function(t,a){var o=t.className,f=t.children,y=(0,de.Z)(t,Nb),_=s.useContext(Qn),S=_.prefixCls,I=_.mode,A=_.rtl;return s.createElement("ul",(0,Ue.Z)({className:J()(S,A&&"".concat(S,"-rtl"),"".concat(S,"-sub"),"".concat(S,"-").concat(I==="inline"?"inline":"vertical"),o),role:"menu"},y,{"data-menu-list":!0,ref:a}),f)},Rv=s.forwardRef(Bb);Rv.displayName="SubMenuList";var $v=Rv;function Qg(e,t){return(0,ac.Z)(e).map(function(a,o){if(s.isValidElement(a)){var f,y,_=a.key,S=(f=(y=a.props)===null||y===void 0?void 0:y.eventKey)!==null&&f!==void 0?f:_,I=S==null;I&&(S="tmp_key-".concat([].concat((0,Ie.Z)(t),[o]).join("-")));var A={key:S,eventKey:S};return s.cloneElement(a,A)}return a})}var $c={adjustX:1,adjustY:1},Fb={topLeft:{points:["bl","tl"],overflow:$c},topRight:{points:["br","tr"],overflow:$c},bottomLeft:{points:["tl","bl"],overflow:$c},bottomRight:{points:["tr","br"],overflow:$c},leftTop:{points:["tr","tl"],overflow:$c},leftBottom:{points:["br","bl"],overflow:$c},rightTop:{points:["tl","tr"],overflow:$c},rightBottom:{points:["bl","br"],overflow:$c}},Av={topLeft:{points:["bl","tl"],overflow:$c},topRight:{points:["br","tr"],overflow:$c},bottomLeft:{points:["tl","bl"],overflow:$c},bottomRight:{points:["tr","br"],overflow:$c},rightTop:{points:["tr","tl"],overflow:$c},rightBottom:{points:["br","bl"],overflow:$c},leftTop:{points:["tl","tr"],overflow:$c},leftBottom:{points:["bl","br"],overflow:$c}},$h=null;function sc(e,t,a){if(t)return t;if(a)return a[e]||a.other}var kb={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function Np(e){var t=e.prefixCls,a=e.visible,o=e.children,f=e.popup,y=e.popupStyle,_=e.popupClassName,S=e.popupOffset,I=e.disabled,A=e.mode,z=e.onVisibleChange,L=s.useContext(Qn),F=L.getPopupContainer,Z=L.rtl,k=L.subMenuOpenDelay,W=L.subMenuCloseDelay,H=L.builtinPlacements,X=L.triggerSubMenuAction,Q=L.forceSubMenuRender,re=L.rootClassName,ie=L.motion,ne=L.defaultMotions,ae=s.useState(!1),ue=(0,Pe.Z)(ae,2),fe=ue[0],he=ue[1],ve=Z?(0,K.Z)((0,K.Z)({},Av),H):(0,K.Z)((0,K.Z)({},Fb),H),ye=kb[A],we=sc(A,ie,ne),Se=s.useRef(we);A!=="inline"&&(Se.current=we);var ze=(0,K.Z)((0,K.Z)({},Se.current),{},{leavedClassName:"".concat(t,"-hidden"),removeOnLeave:!1,motionAppear:!0}),Te=s.useRef();return s.useEffect(function(){return Te.current=(0,He.Z)(function(){he(a)}),function(){He.Z.cancel(Te.current)}},[a]),s.createElement(Y.Z,{prefixCls:t,popupClassName:J()("".concat(t,"-popup"),(0,ge.Z)({},"".concat(t,"-rtl"),Z),_,re),stretch:A==="horizontal"?"minWidth":null,getPopupContainer:F,builtinPlacements:ve,popupPlacement:ye,popupVisible:fe,popup:f,popupStyle:y,popupAlign:S&&{offset:S},action:I?[]:[X],mouseEnterDelay:k,mouseLeaveDelay:W,onPopupVisibleChange:z,forceRender:Q,popupMotion:ze,fresh:!0},o)}function Gx(e){var t=e.id,a=e.open,o=e.keyPath,f=e.children,y="inline",_=s.useContext(Qn),S=_.prefixCls,I=_.forceSubMenuRender,A=_.motion,z=_.defaultMotions,L=_.mode,F=s.useRef(!1);F.current=L===y;var Z=s.useState(!F.current),k=(0,Pe.Z)(Z,2),W=k[0],H=k[1],X=F.current?a:!1;s.useEffect(function(){F.current&&H(!1)},[L]);var Q=(0,K.Z)({},sc(y,A,z));o.length>1&&(Q.motionAppear=!1);var re=Q.onVisibleChanged;return Q.onVisibleChanged=function(ie){return!F.current&&!ie&&H(!0),re==null?void 0:re(ie)},W?null:s.createElement(Br,{mode:y,locked:!F.current},s.createElement(Rn.ZP,(0,Ue.Z)({visible:X},Q,{forceRender:I,removeOnLeave:!1,leavedClassName:"".concat(S,"-hidden")}),function(ie){var ne=ie.className,ae=ie.style;return s.createElement($v,{id:t,className:ne,style:ae},f)}))}var Xx=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","popupStyle","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],Bp=["active"],jb=s.forwardRef(function(e,t){var a=e.style,o=e.className,f=e.title,y=e.eventKey,_=e.warnKey,S=e.disabled,I=e.internalPopupClose,A=e.children,z=e.itemIcon,L=e.expandIcon,F=e.popupClassName,Z=e.popupOffset,k=e.popupStyle,W=e.onClick,H=e.onMouseEnter,X=e.onMouseLeave,Q=e.onTitleClick,re=e.onTitleMouseEnter,ie=e.onTitleMouseLeave,ne=(0,de.Z)(e,Xx),ae=Gr(y),ue=s.useContext(Qn),fe=ue.prefixCls,he=ue.mode,ve=ue.openKeys,ye=ue.disabled,we=ue.overflowDisabled,Se=ue.activeKey,ze=ue.selectedKeys,Te=ue.itemIcon,Fe=ue.expandIcon,Ae=ue.onItemClick,Ke=ue.onOpenChange,tt=ue.onActive,vt=s.useContext(No),bt=vt._internalRenderSubMenuItem,lt=s.useContext(ra),ct=lt.isSubPathKey,mt=Yi(),Rt="".concat(fe,"-submenu"),wt=ye||S,Bt=s.useRef(),Ct=s.useRef(),dn=z!=null?z:Te,zn=L!=null?L:Fe,rn=ve.includes(y),Cn=!we&&rn,Vt=ct(ze,y),At=xu(y,wt,re,ie),$n=At.active,yn=(0,de.Z)(At,Bp),Ir=s.useState(!1),cr=(0,Pe.Z)(Ir,2),Kn=cr[0],qn=cr[1],Pn=function(Zn){wt||qn(Zn)},Yn=function(Zn){Pn(!0),H==null||H({key:y,domEvent:Zn})},zr=function(Zn){Pn(!1),X==null||X({key:y,domEvent:Zn})},si=s.useMemo(function(){return $n||(he!=="inline"?Kn||ct([Se],y):!1)},[he,$n,Se,Kn,y,ct]),yi=Yc(mt.length),Di=function(Zn){wt||(Q==null||Q({key:y,domEvent:Zn}),he==="inline"&&Ke(y,!rn))},Eo=Ps(function(gr){W==null||W(Jc(gr)),Ae(gr)}),gi=function(Zn){he!=="inline"&&Ke(y,Zn)},ai=function(){tt(y)},mi=ae&&"".concat(ae,"-popup"),Xi=s.useMemo(function(){return s.createElement(jc,{icon:he!=="horizontal"?zn:void 0,props:(0,K.Z)((0,K.Z)({},e),{},{isOpen:Cn,isSubMenu:!0})},s.createElement("i",{className:"".concat(Rt,"-arrow")}))},[he,zn,e,Cn,Rt]),Pi=s.createElement("div",(0,Ue.Z)({role:"menuitem",style:yi,className:"".concat(Rt,"-title"),tabIndex:wt?null:-1,ref:Bt,title:typeof f=="string"?f:null,"data-menu-id":we&&ae?null:ae,"aria-expanded":Cn,"aria-haspopup":!0,"aria-controls":mi,"aria-disabled":wt,onClick:Di,onFocus:ai},yn),f,Xi),Io=s.useRef(he);if(he!=="inline"&&mt.length>1?Io.current="vertical":Io.current=he,!we){var dr=Io.current;Pi=s.createElement(Np,{mode:dr,prefixCls:Rt,visible:!I&&Cn&&he!=="inline",popupClassName:F,popupOffset:Z,popupStyle:k,popup:s.createElement(Br,{mode:dr==="horizontal"?"vertical":dr},s.createElement($v,{id:mi,ref:Ct},A)),disabled:wt,onVisibleChange:gi},Pi)}var er=s.createElement(Er.Z.Item,(0,Ue.Z)({ref:t,role:"none"},ne,{component:"li",style:a,className:J()(Rt,"".concat(Rt,"-").concat(he),o,(0,ge.Z)((0,ge.Z)((0,ge.Z)((0,ge.Z)({},"".concat(Rt,"-open"),Cn),"".concat(Rt,"-active"),si),"".concat(Rt,"-selected"),Vt),"".concat(Rt,"-disabled"),wt)),onMouseEnter:Yn,onMouseLeave:zr}),Pi,!we&&s.createElement(Gx,{id:mi,open:Cn,keyPath:mt},A));return bt&&(er=bt(er,e,{selected:Vt,active:si,open:Cn,disabled:wt})),s.createElement(Br,{onItemClick:Eo,mode:he==="horizontal"?"vertical":he,itemIcon:dn,expandIcon:zn},er)}),Ah=s.forwardRef(function(e,t){var a=e.eventKey,o=e.children,f=Yi(a),y=Qg(o,f),_=vi();s.useEffect(function(){if(_)return _.registerPath(a,f),function(){_.unregisterPath(a,f)}},[f]);var S;return _?S=y:S=s.createElement(jb,(0,Ue.Z)({ref:t},e),y),s.createElement(Gi.Provider,{value:f},S)}),Tf=Ah;function Dv(e){var t=e.className,a=e.style,o=s.useContext(Qn),f=o.prefixCls,y=vi();return y?null:s.createElement("li",{role:"separator",className:J()("".concat(f,"-item-divider"),t),style:a})}var Kx=["className","title","eventKey","children"],qx=s.forwardRef(function(e,t){var a=e.className,o=e.title,f=e.eventKey,y=e.children,_=(0,de.Z)(e,Kx),S=s.useContext(Qn),I=S.prefixCls,A="".concat(I,"-item-group");return s.createElement("li",(0,Ue.Z)({ref:t,role:"presentation"},_,{onClick:function(L){return L.stopPropagation()},className:J()(A,a)}),s.createElement("div",{role:"presentation",className:"".concat(A,"-title"),title:typeof o=="string"?o:void 0},o),s.createElement("ul",{role:"group",className:"".concat(A,"-list")},y))}),Yx=s.forwardRef(function(e,t){var a=e.eventKey,o=e.children,f=Yi(a),y=Qg(o,f),_=vi();return _?y:s.createElement(qx,(0,Ue.Z)({ref:t},(0,Ci.Z)(e,["warnKey"])),y)}),zv=Yx,Jx=["label","children","key","type","extra"];function Lv(e,t,a){var o=t.item,f=t.group,y=t.submenu,_=t.divider;return(e||[]).map(function(S,I){if(S&&(0,dt.Z)(S)==="object"){var A=S,z=A.label,L=A.children,F=A.key,Z=A.type,k=A.extra,W=(0,de.Z)(A,Jx),H=F!=null?F:"tmp-".concat(I);return L||Z==="group"?Z==="group"?s.createElement(f,(0,Ue.Z)({key:H},W,{title:z}),Lv(L,t,a)):s.createElement(y,(0,Ue.Z)({key:H},W,{title:z}),Lv(L,t,a)):Z==="divider"?s.createElement(_,(0,Ue.Z)({key:H},W)):s.createElement(o,(0,Ue.Z)({key:H},W,{extra:k}),z,(!!k||k===0)&&s.createElement("span",{className:"".concat(a,"-item-extra")},k))}return null}).filter(function(S){return S})}function e0(e,t,a,o,f){var y=e,_=(0,K.Z)({divider:Dv,item:Rh,group:zv,submenu:Tf},o);return t&&(y=Lv(t,_,f)),Qg(y,a)}var Qx=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem","_internalComponents"],Ru=[],eC=s.forwardRef(function(e,t){var a,o=e,f=o.prefixCls,y=f===void 0?"rc-menu":f,_=o.rootClassName,S=o.style,I=o.className,A=o.tabIndex,z=A===void 0?0:A,L=o.items,F=o.children,Z=o.direction,k=o.id,W=o.mode,H=W===void 0?"vertical":W,X=o.inlineCollapsed,Q=o.disabled,re=o.disabledOverflow,ie=o.subMenuOpenDelay,ne=ie===void 0?.1:ie,ae=o.subMenuCloseDelay,ue=ae===void 0?.1:ae,fe=o.forceSubMenuRender,he=o.defaultOpenKeys,ve=o.openKeys,ye=o.activeKey,we=o.defaultActiveFirst,Se=o.selectable,ze=Se===void 0?!0:Se,Te=o.multiple,Fe=Te===void 0?!1:Te,Ae=o.defaultSelectedKeys,Ke=o.selectedKeys,tt=o.onSelect,vt=o.onDeselect,bt=o.inlineIndent,lt=bt===void 0?24:bt,ct=o.motion,mt=o.defaultMotions,Rt=o.triggerSubMenuAction,wt=Rt===void 0?"hover":Rt,Bt=o.builtinPlacements,Ct=o.itemIcon,dn=o.expandIcon,zn=o.overflowedIndicator,rn=zn===void 0?"...":zn,Cn=o.overflowedIndicatorPopupClassName,Vt=o.getPopupContainer,At=o.onClick,$n=o.onOpenChange,yn=o.onKeyDown,Ir=o.openAnimation,cr=o.openTransitionName,Kn=o._internalRenderMenuItem,qn=o._internalRenderSubMenuItem,Pn=o._internalComponents,Yn=(0,de.Z)(o,Qx),zr=s.useMemo(function(){return[e0(F,L,Ru,Pn,y),e0(F,L,Ru,{},y)]},[F,L,Pn]),si=(0,Pe.Z)(zr,2),yi=si[0],Di=si[1],Eo=s.useState(!1),gi=(0,Pe.Z)(Eo,2),ai=gi[0],mi=gi[1],Xi=s.useRef(),Pi=kc(k),Io=Z==="rtl",dr=(0,zt.Z)(he,{value:ve,postState:function(Qs){return Qs||Ru}}),er=(0,Pe.Z)(dr,2),gr=er[0],Zn=er[1],ni=function(Qs){var Sa=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;function ka(){Zn(Qs),$n==null||$n(Qs)}Sa?(0,Ne.flushSync)(ka):ka()},Oi=s.useState(gr),ro=(0,Pe.Z)(Oi,2),Ko=ro[0],Oa=ro[1],ta=s.useRef(!1),Is=s.useMemo(function(){return(H==="inline"||H==="vertical")&&X?["vertical",X]:[H,!1]},[H,X]),Fa=(0,Pe.Z)(Is,2),Ua=Fa[0],pa=Fa[1],rs=Ua==="inline",Ls=s.useState(Ua),Co=(0,Pe.Z)(Ls,2),Go=Co[0],Ta=Co[1],Wa=s.useState(pa),ds=(0,Pe.Z)(Wa,2),sl=ds[0],Ol=ds[1];s.useEffect(function(){Ta(Ua),Ol(pa),ta.current&&(rs?Zn(Ko):ni(Ru))},[Ua,pa]);var xl=s.useState(0),Zl=(0,Pe.Z)(xl,2),fa=Zl[0],Uo=Zl[1],Wo=fa>=yi.length-1||Go!=="horizontal"||re;s.useEffect(function(){rs&&Oa(gr)},[gr]),s.useEffect(function(){return ta.current=!0,function(){ta.current=!1}},[]);var Do=Ul(),fs=Do.registerPath,Ns=Do.unregisterPath,La=Do.refreshOverflowKeys,xa=Do.isSubPathKey,_s=Do.getKeyPath,Cs=Do.getKeys,qs=Do.getSubPathKeys,ya=s.useMemo(function(){return{registerPath:fs,unregisterPath:Ns}},[fs,Ns]),Lo=s.useMemo(function(){return{isSubPathKey:xa}},[xa]);s.useEffect(function(){La(Wo?Ru:yi.slice(fa+1).map(function(Tl){return Tl.key}))},[fa,Wo]);var Ra=(0,zt.Z)(ye||we&&((a=yi[0])===null||a===void 0?void 0:a.key),{value:ye}),ps=(0,Pe.Z)(Ra,2),Zs=ps[0],Ys=ps[1],Gl=Ps(function(Tl){Ys(Tl)}),Js=Ps(function(){Ys(void 0)});(0,s.useImperativeHandle)(t,function(){return{list:Xi.current,focus:function(Qs){var Sa,ka=Cs(),ml=Rc(ka,Pi),Dc=ml.elements,ef=ml.key2element,Mg=ml.element2key,Pg=Cl(Xi.current,Dc),bv=Zs!=null?Zs:Pg[0]?Mg.get(Pg[0]):(Sa=yi.find(function(Da){return!Da.props.disabled}))===null||Sa===void 0?void 0:Sa.key,Ms=ef.get(bv);if(bv&&Ms){var oa;Ms==null||(oa=Ms.focus)===null||oa===void 0||oa.call(Ms,Qs)}}}});var $a=(0,zt.Z)(Ae||[],{value:Ke,postState:function(Qs){return Array.isArray(Qs)?Qs:Qs==null?Ru:[Qs]}}),hs=(0,Pe.Z)($a,2),Ts=hs[0],Rl=hs[1],ku=function(Qs){if(ze){var Sa=Qs.key,ka=Ts.includes(Sa),ml;Fe?ka?ml=Ts.filter(function(ef){return ef!==Sa}):ml=[].concat((0,Ie.Z)(Ts),[Sa]):ml=[Sa],Rl(ml);var Dc=(0,K.Z)((0,K.Z)({},Qs),{},{selectedKeys:ml});ka?vt==null||vt(Dc):tt==null||tt(Dc)}!Fe&&gr.length&&Go!=="inline"&&ni(Ru)},tm=Ps(function(Tl){At==null||At(Jc(Tl)),ku(Tl)}),lp=Ps(function(Tl,Qs){var Sa=gr.filter(function(ml){return ml!==Tl});if(Qs)Sa.push(Tl);else if(Go!=="inline"){var ka=qs(Tl);Sa=Sa.filter(function(ml){return!ka.has(ml)})}(0,mr.Z)(gr,Sa,!0)||ni(Sa,!0)}),cp=function(Qs,Sa){var ka=Sa!=null?Sa:!gr.includes(Qs);lp(Qs,ka)},qf=Cc(Go,Zs,Io,Pi,Xi,Cs,_s,Ys,cp,yn);s.useEffect(function(){mi(!0)},[]);var nm=s.useMemo(function(){return{_internalRenderMenuItem:Kn,_internalRenderSubMenuItem:qn}},[Kn,qn]),rm=Go!=="horizontal"||re?yi:yi.map(function(Tl,Qs){return s.createElement(Br,{key:Tl.key,overflowDisabled:Qs>fa},Tl)}),up=s.createElement(Er.Z,(0,Ue.Z)({id:k,ref:Xi,prefixCls:"".concat(y,"-overflow"),component:"ul",itemComponent:Rh,className:J()(y,"".concat(y,"-root"),"".concat(y,"-").concat(Go),I,(0,ge.Z)((0,ge.Z)({},"".concat(y,"-inline-collapsed"),sl),"".concat(y,"-rtl"),Io),_),dir:Z,style:S,role:"menu",tabIndex:z,data:rm,renderRawItem:function(Qs){return Qs},renderRawRest:function(Qs){var Sa=Qs.length,ka=Sa?yi.slice(-Sa):null;return s.createElement(Tf,{eventKey:fl,title:rn,disabled:Wo,internalPopupClose:Sa===0,popupClassName:Cn},ka)},maxCount:Go!=="horizontal"||re?Er.Z.INVALIDATE:Er.Z.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(Qs){Uo(Qs)},onKeyDown:qf},Yn));return s.createElement(No.Provider,{value:nm},s.createElement(Dn.Provider,{value:Pi},s.createElement(Br,{prefixCls:y,rootClassName:_,mode:Go,openKeys:gr,rtl:Io,disabled:Q,motion:ai?ct:null,defaultMotions:ai?mt:null,activeKey:Zs,onActive:Gl,onInactive:Js,selectedKeys:Ts,inlineIndent:lt,subMenuOpenDelay:ne,subMenuCloseDelay:ue,forceSubMenuRender:fe,builtinPlacements:Bt,triggerSubMenuAction:wt,getPopupContainer:Vt,itemIcon:Ct,expandIcon:dn,onItemClick:tm,onOpenChange:lp},s.createElement(ra.Provider,{value:Lo},up),s.createElement("div",{style:{display:"none"},"aria-hidden":!0},s.createElement(ci.Provider,{value:ya},Di)))))}),Wl=eC,Mf=Wl;Mf.Item=Rh,Mf.SubMenu=Tf,Mf.ItemGroup=zv,Mf.Divider=Dv;var t0=Mf,n0={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"bars",theme:"outlined"},r0=n0,Fp=function(t,a){return s.createElement(En.Z,(0,Ue.Z)({},t,{ref:a,icon:r0}))},Zb=s.forwardRef(Fp),Vb=Zb;const Rm=s.createContext({siderHook:{addSider:()=>null,removeSider:()=>null}}),Nv=e=>{const{antCls:t,componentCls:a,colorText:o,footerBg:f,headerHeight:y,headerPadding:_,headerColor:S,footerPadding:I,fontSize:A,bodyBg:z,headerBg:L}=e;return{[a]:{display:"flex",flex:"auto",flexDirection:"column",minHeight:0,background:z,"&, *":{boxSizing:"border-box"},[`&${a}-has-sider`]:{flexDirection:"row",[`> ${a}, > ${a}-content`]:{width:0}},[`${a}-header, &${a}-footer`]:{flex:"0 0 auto"},"&-rtl":{direction:"rtl"}},[`${a}-header`]:{height:y,padding:_,color:S,lineHeight:(0,me.bf)(y),background:L,[`${t}-menu`]:{lineHeight:"inherit"}},[`${a}-footer`]:{padding:I,color:o,fontSize:A,background:f},[`${a}-content`]:{flex:"auto",color:o,minHeight:0}}},kp=e=>{const{colorBgLayout:t,controlHeight:a,controlHeightLG:o,colorText:f,controlHeightSM:y,marginXXS:_,colorTextLightSolid:S,colorBgContainer:I}=e,A=o*1.25;return{colorBgHeader:"#001529",colorBgBody:t,colorBgTrigger:"#002140",bodyBg:t,headerBg:"#001529",headerHeight:a*2,headerPadding:`0 ${A}px`,headerColor:f,footerPadding:`${y}px ${A}px`,footerBg:t,siderBg:"#001529",triggerHeight:o+_*2,triggerBg:"#002140",triggerColor:S,zeroTriggerWidth:o,zeroTriggerHeight:o,lightSiderBg:I,lightTriggerBg:I,lightTriggerColor:f}},Hb=[["colorBgBody","bodyBg"],["colorBgHeader","headerBg"],["colorBgTrigger","triggerBg"]];var Bv=(0,oe.I$)("Layout",e=>[Nv(e)],kp,{deprecatedTokens:Hb});const Fv=e=>{const{componentCls:t,siderBg:a,motionDurationMid:o,motionDurationSlow:f,antCls:y,triggerHeight:_,triggerColor:S,triggerBg:I,headerHeight:A,zeroTriggerWidth:z,zeroTriggerHeight:L,borderRadiusLG:F,lightSiderBg:Z,lightTriggerColor:k,lightTriggerBg:W,bodyBg:H}=e;return{[t]:{position:"relative",minWidth:0,background:a,transition:`all ${o}, background 0s`,"&-has-trigger":{paddingBottom:_},"&-right":{order:1},[`${t}-children`]:{height:"100%",marginTop:-.1,paddingTop:.1,[`${y}-menu${y}-menu-inline-collapsed`]:{width:"auto"}},[`&-zero-width ${t}-children`]:{overflow:"hidden"},[`${t}-trigger`]:{position:"fixed",bottom:0,zIndex:1,height:_,color:S,lineHeight:(0,me.bf)(_),textAlign:"center",background:I,cursor:"pointer",transition:`all ${o}`},[`${t}-zero-width-trigger`]:{position:"absolute",top:A,insetInlineEnd:e.calc(z).mul(-1).equal(),zIndex:1,width:z,height:L,color:S,fontSize:e.fontSizeXL,display:"flex",alignItems:"center",justifyContent:"center",background:a,borderRadius:`0 ${(0,me.bf)(F)} ${(0,me.bf)(F)} 0`,cursor:"pointer",transition:`background ${f} ease`,"&::after":{position:"absolute",inset:0,background:"transparent",transition:`all ${f}`,content:'""'},"&:hover::after":{background:"rgba(255, 255, 255, 0.2)"},"&-right":{insetInlineStart:e.calc(z).mul(-1).equal(),borderRadius:`${(0,me.bf)(F)} 0 0 ${(0,me.bf)(F)}`}},"&-light":{background:Z,[`${t}-trigger`]:{color:k,background:W},[`${t}-zero-width-trigger`]:{color:k,background:W,border:`1px solid ${H}`,borderInlineStart:0}}}}};var kv=(0,oe.I$)(["Layout","Sider"],e=>[Fv(e)],kp,{deprecatedTokens:Hb}),jv=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const Zv={xs:"479.98px",sm:"575.98px",md:"767.98px",lg:"991.98px",xl:"1199.98px",xxl:"1599.98px"},Ub=e=>!Number.isNaN(Number.parseFloat(e))&&isFinite(e),jp=s.createContext({}),Wb=(()=>{let e=0;return function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return e+=1,`${t}${e}`}})();var Ju=s.forwardRef((e,t)=>{const{prefixCls:a,className:o,trigger:f,children:y,defaultCollapsed:_=!1,theme:S="dark",style:I={},collapsible:A=!1,reverseArrow:z=!1,width:L=200,collapsedWidth:F=80,zeroWidthTriggerStyle:Z,breakpoint:k,onCollapse:W,onBreakpoint:H}=e,X=jv(e,["prefixCls","className","trigger","children","defaultCollapsed","theme","style","collapsible","reverseArrow","width","collapsedWidth","zeroWidthTriggerStyle","breakpoint","onCollapse","onBreakpoint"]),{siderHook:Q}=(0,s.useContext)(Rm),[re,ie]=(0,s.useState)("collapsed"in e?e.collapsed:_),[ne,ae]=(0,s.useState)(!1);(0,s.useEffect)(()=>{"collapsed"in e&&ie(e.collapsed)},[e.collapsed]);const ue=(Ct,dn)=>{"collapsed"in e||ie(Ct),W==null||W(Ct,dn)},{getPrefixCls:fe,direction:he}=(0,s.useContext)(_e.E_),ve=fe("layout-sider",a),[ye,we,Se]=kv(ve),ze=(0,s.useRef)(null);ze.current=Ct=>{ae(Ct.matches),H==null||H(Ct.matches),re!==Ct.matches&&ue(Ct.matches,"responsive")},(0,s.useEffect)(()=>{function Ct(zn){return ze.current(zn)}let dn;if(typeof window!="undefined"){const{matchMedia:zn}=window;if(zn&&k&&k in Zv){dn=zn(`screen and (max-width: ${Zv[k]})`);try{dn.addEventListener("change",Ct)}catch(rn){dn.addListener(Ct)}Ct(dn)}}return()=>{try{dn==null||dn.removeEventListener("change",Ct)}catch(zn){dn==null||dn.removeListener(Ct)}}},[k]),(0,s.useEffect)(()=>{const Ct=Wb("ant-sider-");return Q.addSider(Ct),()=>Q.removeSider(Ct)},[]);const Te=()=>{ue(!re,"clickTrigger")},Fe=(0,Ci.Z)(X,["collapsed"]),Ae=re?F:L,Ke=Ub(Ae)?`${Ae}px`:String(Ae),tt=parseFloat(String(F||0))===0?s.createElement("span",{onClick:Te,className:J()(`${ve}-zero-width-trigger`,`${ve}-zero-width-trigger-${z?"right":"left"}`),style:Z},f||s.createElement(Vb,null)):null,vt=he==="rtl"==!z,ct={expanded:vt?s.createElement(U.Z,null):s.createElement(V,null),collapsed:vt?s.createElement(V,null):s.createElement(U.Z,null)}[re?"collapsed":"expanded"],mt=f!==null?tt||s.createElement("div",{className:`${ve}-trigger`,onClick:Te,style:{width:Ke}},f||ct):null,Rt=Object.assign(Object.assign({},I),{flex:`0 0 ${Ke}`,maxWidth:Ke,minWidth:Ke,width:Ke}),wt=J()(ve,`${ve}-${S}`,{[`${ve}-collapsed`]:!!re,[`${ve}-has-trigger`]:A&&f!==null&&!tt,[`${ve}-below`]:!!ne,[`${ve}-zero-width`]:parseFloat(Ke)===0},o,we,Se),Bt=s.useMemo(()=>({siderCollapsed:re}),[re]);return ye(s.createElement(jp.Provider,{value:Bt},s.createElement("aside",Object.assign({className:wt},Fe,{style:Rt,ref:t}),s.createElement("div",{className:`${ve}-children`},y),A||ne&&tt?mt:null)))}),Xb={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"},tC=Xb,nC=function(t,a){return s.createElement(En.Z,(0,Ue.Z)({},t,{ref:a,icon:tC}))},rC=s.forwardRef(nC),Vv=rC,i0=(0,s.createContext)({prefixCls:"",firstLevel:!0,inlineCollapsed:!1}),iC=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},Hv=e=>{const{prefixCls:t,className:a,dashed:o}=e,f=iC(e,["prefixCls","className","dashed"]),{getPrefixCls:y}=s.useContext(_e.E_),_=y("menu",t),S=J()({[`${_}-item-divider-dashed`]:!!o},a);return s.createElement(Dv,Object.assign({className:S},f))},su=j(9202),o0=e=>{var t;const{className:a,children:o,icon:f,title:y,danger:_,extra:S}=e,{prefixCls:I,firstLevel:A,direction:z,disableMenuItemTitleTooltip:L,inlineCollapsed:F}=s.useContext(i0),Z=re=>{const ie=o==null?void 0:o[0],ne=s.createElement("span",{className:J()(`${I}-title-content`,{[`${I}-title-content-with-extra`]:!!S||S===0})},o);return(!f||s.isValidElement(o)&&o.type==="span")&&o&&re&&A&&typeof ie=="string"?s.createElement("div",{className:`${I}-inline-collapsed-noicon`},ie.charAt(0)):ne},{siderCollapsed:k}=s.useContext(jp);let W=y;typeof y=="undefined"?W=A?o:"":y===!1&&(W="");const H={title:W};!k&&!F&&(H.title=null,H.open=!1);const X=(0,ac.Z)(o).length;let Q=s.createElement(Rh,Object.assign({},(0,Ci.Z)(e,["title","icon","danger"]),{className:J()({[`${I}-item-danger`]:_,[`${I}-item-only-child`]:(f?X+1:X)===1},a),title:typeof y=="string"?y:void 0}),(0,Tn.Tm)(f,{className:J()(s.isValidElement(f)?(t=f.props)===null||t===void 0?void 0:t.className:"",`${I}-item-icon`)}),Z(F));return L||(Q=s.createElement(su.Z,Object.assign({},H,{placement:z==="rtl"?"left":"right",classNames:{root:`${I}-inline-collapsed-tooltip`}}),Q)),Q},qb=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const a0=s.createContext(null),Zp=s.forwardRef((e,t)=>{const{children:a}=e,o=qb(e,["children"]),f=s.useContext(a0),y=s.useMemo(()=>Object.assign(Object.assign({},f),o),[f,o.prefixCls,o.mode,o.selectable,o.rootClassName]),_=(0,an.t4)(a),S=(0,an.x1)(t,_?(0,an.C4)(a):null);return s.createElement(a0.Provider,{value:y},s.createElement(Hc.Z,{space:!0},_?s.cloneElement(a,{ref:S}):a))});var Uv=a0,Sl=j(84432),s0=j(40894),lc=j(17877),Yb=e=>{const{componentCls:t,motionDurationSlow:a,horizontalLineHeight:o,colorSplit:f,lineWidth:y,lineType:_,itemPaddingInline:S}=e;return{[`${t}-horizontal`]:{lineHeight:o,border:0,borderBottom:`${(0,me.bf)(y)} ${_} ${f}`,boxShadow:"none","&::after":{display:"block",clear:"both",height:0,content:'"\\20"'},[`${t}-item, ${t}-submenu`]:{position:"relative",display:"inline-block",verticalAlign:"bottom",paddingInline:S},[`> ${t}-item:hover,
        > ${t}-item-active,
        > ${t}-submenu ${t}-submenu-title:hover`]:{backgroundColor:"transparent"},[`${t}-item, ${t}-submenu-title`]:{transition:[`border-color ${a}`,`background ${a}`].join(",")},[`${t}-submenu-arrow`]:{display:"none"}}}},Jb=e=>{let{componentCls:t,menuArrowOffset:a,calc:o}=e;return{[`${t}-rtl`]:{direction:"rtl"},[`${t}-submenu-rtl`]:{transformOrigin:"100% 0"},[`${t}-rtl${t}-vertical,
    ${t}-submenu-rtl ${t}-vertical`]:{[`${t}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateY(${(0,me.bf)(o(a).mul(-1).equal())})`},"&::after":{transform:`rotate(45deg) translateY(${(0,me.bf)(a)})`}}}}};const Gv=e=>Object.assign({},(0,nn.oN)(e));var Kv=(e,t)=>{const{componentCls:a,itemColor:o,itemSelectedColor:f,subMenuItemSelectedColor:y,groupTitleColor:_,itemBg:S,subMenuItemBg:I,itemSelectedBg:A,activeBarHeight:z,activeBarWidth:L,activeBarBorderWidth:F,motionDurationSlow:Z,motionEaseInOut:k,motionEaseOut:W,itemPaddingInline:H,motionDurationMid:X,itemHoverColor:Q,lineType:re,colorSplit:ie,itemDisabledColor:ne,dangerItemColor:ae,dangerItemHoverColor:ue,dangerItemSelectedColor:fe,dangerItemActiveBg:he,dangerItemSelectedBg:ve,popupBg:ye,itemHoverBg:we,itemActiveBg:Se,menuSubMenuBg:ze,horizontalItemSelectedColor:Te,horizontalItemSelectedBg:Fe,horizontalItemBorderRadius:Ae,horizontalItemHoverBg:Ke}=e;return{[`${a}-${t}, ${a}-${t} > ${a}`]:{color:o,background:S,[`&${a}-root:focus-visible`]:Object.assign({},Gv(e)),[`${a}-item`]:{"&-group-title, &-extra":{color:_}},[`${a}-submenu-selected > ${a}-submenu-title`]:{color:y},[`${a}-item, ${a}-submenu-title`]:{color:o,[`&:not(${a}-item-disabled):focus-visible`]:Object.assign({},Gv(e))},[`${a}-item-disabled, ${a}-submenu-disabled`]:{color:`${ne} !important`},[`${a}-item:not(${a}-item-selected):not(${a}-submenu-selected)`]:{[`&:hover, > ${a}-submenu-title:hover`]:{color:Q}},[`&:not(${a}-horizontal)`]:{[`${a}-item:not(${a}-item-selected)`]:{"&:hover":{backgroundColor:we},"&:active":{backgroundColor:Se}},[`${a}-submenu-title`]:{"&:hover":{backgroundColor:we},"&:active":{backgroundColor:Se}}},[`${a}-item-danger`]:{color:ae,[`&${a}-item:hover`]:{[`&:not(${a}-item-selected):not(${a}-submenu-selected)`]:{color:ue}},[`&${a}-item:active`]:{background:he}},[`${a}-item a`]:{"&, &:hover":{color:"inherit"}},[`${a}-item-selected`]:{color:f,[`&${a}-item-danger`]:{color:fe},"a, a:hover":{color:"inherit"}},[`& ${a}-item-selected`]:{backgroundColor:A,[`&${a}-item-danger`]:{backgroundColor:ve}},[`&${a}-submenu > ${a}`]:{backgroundColor:ze},[`&${a}-popup > ${a}`]:{backgroundColor:ye},[`&${a}-submenu-popup > ${a}`]:{backgroundColor:ye},[`&${a}-horizontal`]:Object.assign(Object.assign({},t==="dark"?{borderBottom:0}:{}),{[`> ${a}-item, > ${a}-submenu`]:{top:F,marginTop:e.calc(F).mul(-1).equal(),marginBottom:0,borderRadius:Ae,"&::after":{position:"absolute",insetInline:H,bottom:0,borderBottom:`${(0,me.bf)(z)} solid transparent`,transition:`border-color ${Z} ${k}`,content:'""'},"&:hover, &-active, &-open":{background:Ke,"&::after":{borderBottomWidth:z,borderBottomColor:Te}},"&-selected":{color:Te,backgroundColor:Fe,"&:hover":{backgroundColor:Fe},"&::after":{borderBottomWidth:z,borderBottomColor:Te}}}}),[`&${a}-root`]:{[`&${a}-inline, &${a}-vertical`]:{borderInlineEnd:`${(0,me.bf)(F)} ${re} ${ie}`}},[`&${a}-inline`]:{[`${a}-sub${a}-inline`]:{background:I},[`${a}-item`]:{position:"relative","&::after":{position:"absolute",insetBlock:0,insetInlineEnd:0,borderInlineEnd:`${(0,me.bf)(L)} solid ${f}`,transform:"scaleY(0.0001)",opacity:0,transition:[`transform ${X} ${W}`,`opacity ${X} ${W}`].join(","),content:'""'},[`&${a}-item-danger`]:{"&::after":{borderInlineEndColor:fe}}},[`${a}-selected, ${a}-item-selected`]:{"&::after":{transform:"scaleY(1)",opacity:1,transition:[`transform ${X} ${k}`,`opacity ${X} ${k}`].join(",")}}}}}};const Vp=e=>{const{componentCls:t,itemHeight:a,itemMarginInline:o,padding:f,menuArrowSize:y,marginXS:_,itemMarginBlock:S,itemWidth:I,itemPaddingInline:A}=e,z=e.calc(y).add(f).add(_).equal();return{[`${t}-item`]:{position:"relative",overflow:"hidden"},[`${t}-item, ${t}-submenu-title`]:{height:a,lineHeight:(0,me.bf)(a),paddingInline:A,overflow:"hidden",textOverflow:"ellipsis",marginInline:o,marginBlock:S,width:I},[`> ${t}-item,
            > ${t}-submenu > ${t}-submenu-title`]:{height:a,lineHeight:(0,me.bf)(a)},[`${t}-item-group-list ${t}-submenu-title,
            ${t}-submenu-title`]:{paddingInlineEnd:z}}};var qv=e=>{const{componentCls:t,iconCls:a,itemHeight:o,colorTextLightSolid:f,dropdownWidth:y,controlHeightLG:_,motionEaseOut:S,paddingXL:I,itemMarginInline:A,fontSizeLG:z,motionDurationFast:L,motionDurationSlow:F,paddingXS:Z,boxShadowSecondary:k,collapsedWidth:W,collapsedIconSize:H}=e,X={height:o,lineHeight:(0,me.bf)(o),listStylePosition:"inside",listStyleType:"disc"};return[{[t]:{"&-inline, &-vertical":Object.assign({[`&${t}-root`]:{boxShadow:"none"}},Vp(e))},[`${t}-submenu-popup`]:{[`${t}-vertical`]:Object.assign(Object.assign({},Vp(e)),{boxShadow:k})}},{[`${t}-submenu-popup ${t}-vertical${t}-sub`]:{minWidth:y,maxHeight:`calc(100vh - ${(0,me.bf)(e.calc(_).mul(2.5).equal())})`,padding:"0",overflow:"hidden",borderInlineEnd:0,"&:not([class*='-active'])":{overflowX:"hidden",overflowY:"auto"}}},{[`${t}-inline`]:{width:"100%",[`&${t}-root`]:{[`${t}-item, ${t}-submenu-title`]:{display:"flex",alignItems:"center",transition:[`border-color ${F}`,`background ${F}`,`padding ${L} ${S}`].join(","),[`> ${t}-title-content`]:{flex:"auto",minWidth:0,overflow:"hidden",textOverflow:"ellipsis"},"> *":{flex:"none"}}},[`${t}-sub${t}-inline`]:{padding:0,border:0,borderRadius:0,boxShadow:"none",[`& > ${t}-submenu > ${t}-submenu-title`]:X,[`& ${t}-item-group-title`]:{paddingInlineStart:I}},[`${t}-item`]:X}},{[`${t}-inline-collapsed`]:{width:W,[`&${t}-root`]:{[`${t}-item, ${t}-submenu ${t}-submenu-title`]:{[`> ${t}-inline-collapsed-noicon`]:{fontSize:z,textAlign:"center"}}},[`> ${t}-item,
          > ${t}-item-group > ${t}-item-group-list > ${t}-item,
          > ${t}-item-group > ${t}-item-group-list > ${t}-submenu > ${t}-submenu-title,
          > ${t}-submenu > ${t}-submenu-title`]:{insetInlineStart:0,paddingInline:`calc(50% - ${(0,me.bf)(e.calc(H).div(2).equal())} - ${(0,me.bf)(A)})`,textOverflow:"clip",[`
            ${t}-submenu-arrow,
            ${t}-submenu-expand-icon
          `]:{opacity:0},[`${t}-item-icon, ${a}`]:{margin:0,fontSize:H,lineHeight:(0,me.bf)(o),"+ span":{display:"inline-block",opacity:0}}},[`${t}-item-icon, ${a}`]:{display:"inline-block"},"&-tooltip":{pointerEvents:"none",[`${t}-item-icon, ${a}`]:{display:"none"},"a, a:hover":{color:f}},[`${t}-item-group-title`]:Object.assign(Object.assign({},nn.vS),{paddingInline:Z})}}]};const l0=e=>{const{componentCls:t,motionDurationSlow:a,motionDurationMid:o,motionEaseInOut:f,motionEaseOut:y,iconCls:_,iconSize:S,iconMarginInlineEnd:I}=e;return{[`${t}-item, ${t}-submenu-title`]:{position:"relative",display:"block",margin:0,whiteSpace:"nowrap",cursor:"pointer",transition:[`border-color ${a}`,`background ${a}`,`padding calc(${a} + 0.1s) ${f}`].join(","),[`${t}-item-icon, ${_}`]:{minWidth:S,fontSize:S,transition:[`font-size ${o} ${y}`,`margin ${a} ${f}`,`color ${a}`].join(","),"+ span":{marginInlineStart:I,opacity:1,transition:[`opacity ${a} ${f}`,`margin ${a}`,`color ${a}`].join(",")}},[`${t}-item-icon`]:Object.assign({},(0,nn.Ro)()),[`&${t}-item-only-child`]:{[`> ${_}, > ${t}-item-icon`]:{marginInlineEnd:0}}},[`${t}-item-disabled, ${t}-submenu-disabled`]:{background:"none !important",cursor:"not-allowed","&::after":{borderColor:"transparent !important"},a:{color:"inherit !important",cursor:"not-allowed",pointerEvents:"none"},[`> ${t}-submenu-title`]:{color:"inherit !important",cursor:"not-allowed"}}}},Yv=e=>{const{componentCls:t,motionDurationSlow:a,motionEaseInOut:o,borderRadius:f,menuArrowSize:y,menuArrowOffset:_}=e;return{[`${t}-submenu`]:{"&-expand-icon, &-arrow":{position:"absolute",top:"50%",insetInlineEnd:e.margin,width:y,color:"currentcolor",transform:"translateY(-50%)",transition:`transform ${a} ${o}, opacity ${a}`},"&-arrow":{"&::before, &::after":{position:"absolute",width:e.calc(y).mul(.6).equal(),height:e.calc(y).mul(.15).equal(),backgroundColor:"currentcolor",borderRadius:f,transition:[`background ${a} ${o}`,`transform ${a} ${o}`,`top ${a} ${o}`,`color ${a} ${o}`].join(","),content:'""'},"&::before":{transform:`rotate(45deg) translateY(${(0,me.bf)(e.calc(_).mul(-1).equal())})`},"&::after":{transform:`rotate(-45deg) translateY(${(0,me.bf)(_)})`}}}}},sC=e=>{const{antCls:t,componentCls:a,fontSize:o,motionDurationSlow:f,motionDurationMid:y,motionEaseInOut:_,paddingXS:S,padding:I,colorSplit:A,lineWidth:z,zIndexPopup:L,borderRadiusLG:F,subMenuItemBorderRadius:Z,menuArrowSize:k,menuArrowOffset:W,lineType:H,groupTitleLineHeight:X,groupTitleFontSize:Q}=e;return[{"":{[a]:Object.assign(Object.assign({},(0,nn.dF)()),{"&-hidden":{display:"none"}})},[`${a}-submenu-hidden`]:{display:"none"}},{[a]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,nn.Wf)(e)),(0,nn.dF)()),{marginBottom:0,paddingInlineStart:0,fontSize:o,lineHeight:0,listStyle:"none",outline:"none",transition:`width ${f} cubic-bezier(0.2, 0, 0, 1) 0s`,"ul, ol":{margin:0,padding:0,listStyle:"none"},"&-overflow":{display:"flex",[`${a}-item`]:{flex:"none"}},[`${a}-item, ${a}-submenu, ${a}-submenu-title`]:{borderRadius:e.itemBorderRadius},[`${a}-item-group-title`]:{padding:`${(0,me.bf)(S)} ${(0,me.bf)(I)}`,fontSize:Q,lineHeight:X,transition:`all ${f}`},[`&-horizontal ${a}-submenu`]:{transition:[`border-color ${f} ${_}`,`background ${f} ${_}`].join(",")},[`${a}-submenu, ${a}-submenu-inline`]:{transition:[`border-color ${f} ${_}`,`background ${f} ${_}`,`padding ${y} ${_}`].join(",")},[`${a}-submenu ${a}-sub`]:{cursor:"initial",transition:[`background ${f} ${_}`,`padding ${f} ${_}`].join(",")},[`${a}-title-content`]:{transition:`color ${f}`,"&-with-extra":{display:"inline-flex",alignItems:"center",width:"100%"},[`> ${t}-typography-ellipsis-single-line`]:{display:"inline",verticalAlign:"unset"},[`${a}-item-extra`]:{marginInlineStart:"auto",paddingInlineStart:e.padding}},[`${a}-item a`]:{"&::before":{position:"absolute",inset:0,backgroundColor:"transparent",content:'""'}},[`${a}-item-divider`]:{overflow:"hidden",lineHeight:0,borderColor:A,borderStyle:H,borderWidth:0,borderTopWidth:z,marginBlock:z,padding:0,"&-dashed":{borderStyle:"dashed"}}}),l0(e)),{[`${a}-item-group`]:{[`${a}-item-group-list`]:{margin:0,padding:0,[`${a}-item, ${a}-submenu-title`]:{paddingInline:`${(0,me.bf)(e.calc(o).mul(2).equal())} ${(0,me.bf)(I)}`}}},"&-submenu":{"&-popup":{position:"absolute",zIndex:L,borderRadius:F,boxShadow:"none",transformOrigin:"0 0",[`&${a}-submenu`]:{background:"transparent"},"&::before":{position:"absolute",inset:0,zIndex:-1,width:"100%",height:"100%",opacity:0,content:'""'},[`> ${a}`]:Object.assign(Object.assign(Object.assign({borderRadius:F},l0(e)),Yv(e)),{[`${a}-item, ${a}-submenu > ${a}-submenu-title`]:{borderRadius:Z},[`${a}-submenu-title::after`]:{transition:`transform ${f} ${_}`}})},"\n          &-placement-leftTop,\n          &-placement-bottomRight,\n          ":{transformOrigin:"100% 0"},"\n          &-placement-leftBottom,\n          &-placement-topRight,\n          ":{transformOrigin:"100% 100%"},"\n          &-placement-rightBottom,\n          &-placement-topLeft,\n          ":{transformOrigin:"0 100%"},"\n          &-placement-bottomLeft,\n          &-placement-rightTop,\n          ":{transformOrigin:"0 0"},"\n          &-placement-leftTop,\n          &-placement-leftBottom\n          ":{paddingInlineEnd:e.paddingXS},"\n          &-placement-rightTop,\n          &-placement-rightBottom\n          ":{paddingInlineStart:e.paddingXS},"\n          &-placement-topRight,\n          &-placement-topLeft\n          ":{paddingBottom:e.paddingXS},"\n          &-placement-bottomRight,\n          &-placement-bottomLeft\n          ":{paddingTop:e.paddingXS}}}),Yv(e)),{[`&-inline-collapsed ${a}-submenu-arrow,
        &-inline ${a}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateX(${(0,me.bf)(W)})`},"&::after":{transform:`rotate(45deg) translateX(${(0,me.bf)(e.calc(W).mul(-1).equal())})`}},[`${a}-submenu-open${a}-submenu-inline > ${a}-submenu-title > ${a}-submenu-arrow`]:{transform:`translateY(${(0,me.bf)(e.calc(k).mul(.2).mul(-1).equal())})`,"&::after":{transform:`rotate(-45deg) translateX(${(0,me.bf)(e.calc(W).mul(-1).equal())})`},"&::before":{transform:`rotate(45deg) translateX(${(0,me.bf)(W)})`}}})},{[`${t}-layout-header`]:{[a]:{lineHeight:"inherit"}}}]},Qb=e=>{var t,a,o;const{colorPrimary:f,colorError:y,colorTextDisabled:_,colorErrorBg:S,colorText:I,colorTextDescription:A,colorBgContainer:z,colorFillAlter:L,colorFillContent:F,lineWidth:Z,lineWidthBold:k,controlItemBgActive:W,colorBgTextHover:H,controlHeightLG:X,lineHeight:Q,colorBgElevated:re,marginXXS:ie,padding:ne,fontSize:ae,controlHeightSM:ue,fontSizeLG:fe,colorTextLightSolid:he,colorErrorHover:ve}=e,ye=(t=e.activeBarWidth)!==null&&t!==void 0?t:0,we=(a=e.activeBarBorderWidth)!==null&&a!==void 0?a:Z,Se=(o=e.itemMarginInline)!==null&&o!==void 0?o:e.marginXXS,ze=new Sl.t(he).setA(.65).toRgbString();return{dropdownWidth:160,zIndexPopup:e.zIndexPopupBase+50,radiusItem:e.borderRadiusLG,itemBorderRadius:e.borderRadiusLG,radiusSubMenuItem:e.borderRadiusSM,subMenuItemBorderRadius:e.borderRadiusSM,colorItemText:I,itemColor:I,colorItemTextHover:I,itemHoverColor:I,colorItemTextHoverHorizontal:f,horizontalItemHoverColor:f,colorGroupTitle:A,groupTitleColor:A,colorItemTextSelected:f,itemSelectedColor:f,subMenuItemSelectedColor:f,colorItemTextSelectedHorizontal:f,horizontalItemSelectedColor:f,colorItemBg:z,itemBg:z,colorItemBgHover:H,itemHoverBg:H,colorItemBgActive:F,itemActiveBg:W,colorSubItemBg:L,subMenuItemBg:L,colorItemBgSelected:W,itemSelectedBg:W,colorItemBgSelectedHorizontal:"transparent",horizontalItemSelectedBg:"transparent",colorActiveBarWidth:0,activeBarWidth:ye,colorActiveBarHeight:k,activeBarHeight:k,colorActiveBarBorderSize:Z,activeBarBorderWidth:we,colorItemTextDisabled:_,itemDisabledColor:_,colorDangerItemText:y,dangerItemColor:y,colorDangerItemTextHover:y,dangerItemHoverColor:y,colorDangerItemTextSelected:y,dangerItemSelectedColor:y,colorDangerItemBgActive:S,dangerItemActiveBg:S,colorDangerItemBgSelected:S,dangerItemSelectedBg:S,itemMarginInline:Se,horizontalItemBorderRadius:0,horizontalItemHoverBg:"transparent",itemHeight:X,groupTitleLineHeight:Q,collapsedWidth:X*2,popupBg:re,itemMarginBlock:ie,itemPaddingInline:ne,horizontalLineHeight:`${X*1.15}px`,iconSize:ae,iconMarginInlineEnd:ue-ae,collapsedIconSize:fe,groupTitleFontSize:ae,darkItemDisabledColor:new Sl.t(he).setA(.25).toRgbString(),darkItemColor:ze,darkDangerItemColor:y,darkItemBg:"#001529",darkPopupBg:"#001529",darkSubMenuItemBg:"#000c17",darkItemSelectedColor:he,darkItemSelectedBg:f,darkDangerItemSelectedBg:y,darkItemHoverBg:"transparent",darkGroupTitleColor:ze,darkItemHoverColor:he,darkDangerItemHoverColor:ve,darkDangerItemSelectedColor:he,darkDangerItemActiveBg:y,itemWidth:ye?`calc(100% + ${we}px)`:`calc(100% - ${Se*2}px)`}};var e_=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return(0,oe.I$)("Menu",f=>{const{colorBgElevated:y,controlHeightLG:_,fontSize:S,darkItemColor:I,darkDangerItemColor:A,darkItemBg:z,darkSubMenuItemBg:L,darkItemSelectedColor:F,darkItemSelectedBg:Z,darkDangerItemSelectedBg:k,darkItemHoverBg:W,darkGroupTitleColor:H,darkItemHoverColor:X,darkItemDisabledColor:Q,darkDangerItemHoverColor:re,darkDangerItemSelectedColor:ie,darkDangerItemActiveBg:ne,popupBg:ae,darkPopupBg:ue}=f,fe=f.calc(S).div(7).mul(5).equal(),he=(0,kr.IX)(f,{menuArrowSize:fe,menuHorizontalHeight:f.calc(_).mul(1.15).equal(),menuArrowOffset:f.calc(fe).mul(.25).equal(),menuSubMenuBg:y,calc:f.calc,popupBg:ae}),ve=(0,kr.IX)(he,{itemColor:I,itemHoverColor:X,groupTitleColor:H,itemSelectedColor:F,subMenuItemSelectedColor:F,itemBg:z,popupBg:ue,subMenuItemBg:L,itemActiveBg:"transparent",itemSelectedBg:Z,activeBarHeight:0,activeBarBorderWidth:0,itemHoverBg:W,itemDisabledColor:Q,dangerItemColor:A,dangerItemHoverColor:re,dangerItemSelectedColor:ie,dangerItemActiveBg:ne,dangerItemSelectedBg:k,menuSubMenuBg:L,horizontalItemSelectedColor:F,horizontalItemSelectedBg:Z});return[sC(he),Yb(he),qv(he),Kv(he,"light"),Kv(ve,"dark"),Jb(he),(0,s0.Z)(he),(0,lc.oN)(he,"slide-up"),(0,lc.oN)(he,"slide-down"),(0,cf._y)(he,"zoom-big")]},Qb,{deprecatedTokens:[["colorGroupTitle","groupTitleColor"],["radiusItem","itemBorderRadius"],["radiusSubMenuItem","subMenuItemBorderRadius"],["colorItemText","itemColor"],["colorItemTextHover","itemHoverColor"],["colorItemTextHoverHorizontal","horizontalItemHoverColor"],["colorItemTextSelected","itemSelectedColor"],["colorItemTextSelectedHorizontal","horizontalItemSelectedColor"],["colorItemTextDisabled","itemDisabledColor"],["colorDangerItemText","dangerItemColor"],["colorDangerItemTextHover","dangerItemHoverColor"],["colorDangerItemTextSelected","dangerItemSelectedColor"],["colorDangerItemBgActive","dangerItemActiveBg"],["colorDangerItemBgSelected","dangerItemSelectedBg"],["colorItemBg","itemBg"],["colorItemBgHover","itemHoverBg"],["colorSubItemBg","subMenuItemBg"],["colorItemBgActive","itemActiveBg"],["colorItemBgSelectedHorizontal","horizontalItemSelectedBg"],["colorActiveBarWidth","activeBarWidth"],["colorActiveBarHeight","activeBarHeight"],["colorActiveBarBorderSize","activeBarBorderWidth"],["colorItemBgSelected","itemSelectedBg"]],injectStyle:a,unitless:{groupTitleLineHeight:!0}})(e,t)},Jv=e=>{var t;const{popupClassName:a,icon:o,title:f,theme:y}=e,_=s.useContext(i0),{prefixCls:S,inlineCollapsed:I,theme:A}=_,z=Yi();let L;if(!o)L=I&&!z.length&&f&&typeof f=="string"?s.createElement("div",{className:`${S}-inline-collapsed-noicon`},f.charAt(0)):s.createElement("span",{className:`${S}-title-content`},f);else{const k=s.isValidElement(f)&&f.type==="span";L=s.createElement(s.Fragment,null,(0,Tn.Tm)(o,{className:J()(s.isValidElement(o)?(t=o.props)===null||t===void 0?void 0:t.className:"",`${S}-item-icon`)}),k?f:s.createElement("span",{className:`${S}-title-content`},f))}const F=s.useMemo(()=>Object.assign(Object.assign({},_),{firstLevel:!1}),[_]),[Z]=(0,bn.Cn)("Menu");return s.createElement(i0.Provider,{value:F},s.createElement(Tf,Object.assign({},(0,Ci.Z)(e,["icon"]),{title:L,popupClassName:J()(S,a,`${S}-${y||A}`),popupStyle:Object.assign({zIndex:Z},e.popupStyle)})))},Qv=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};function c0(e){return e===null||e===!1}const ey={item:o0,submenu:Jv,divider:Hv};var cC=(0,s.forwardRef)((e,t)=>{var a;const o=s.useContext(Uv),f=o||{},{getPrefixCls:y,getPopupContainer:_,direction:S,menu:I}=s.useContext(_e.E_),A=y(),{prefixCls:z,className:L,style:F,theme:Z="light",expandIcon:k,_internalDisableMenuItemTitleTooltip:W,inlineCollapsed:H,siderCollapsed:X,rootClassName:Q,mode:re,selectable:ie,onClick:ne,overflowedIndicatorPopupClassName:ae}=e,ue=Qv(e,["prefixCls","className","style","theme","expandIcon","_internalDisableMenuItemTitleTooltip","inlineCollapsed","siderCollapsed","rootClassName","mode","selectable","onClick","overflowedIndicatorPopupClassName"]),fe=(0,Ci.Z)(ue,["collapsedWidth"]);(a=f.validator)===null||a===void 0||a.call(f,{mode:re});const he=(0,ur.Z)(function(){var lt;ne==null||ne.apply(void 0,arguments),(lt=f.onClick)===null||lt===void 0||lt.call(f)}),ve=f.mode||re,ye=ie!=null?ie:f.selectable,we=H!=null?H:X,Se={horizontal:{motionName:`${A}-slide-up`},inline:(0,ir.Z)(A),other:{motionName:`${A}-zoom-big`}},ze=y("menu",z||f.prefixCls),Te=(0,Ln.Z)(ze),[Fe,Ae,Ke]=e_(ze,Te,!o),tt=J()(`${ze}-${Z}`,I==null?void 0:I.className,L),vt=s.useMemo(()=>{var lt,ct;if(typeof k=="function"||c0(k))return k||null;if(typeof f.expandIcon=="function"||c0(f.expandIcon))return f.expandIcon||null;if(typeof(I==null?void 0:I.expandIcon)=="function"||c0(I==null?void 0:I.expandIcon))return(I==null?void 0:I.expandIcon)||null;const mt=(lt=k!=null?k:f==null?void 0:f.expandIcon)!==null&&lt!==void 0?lt:I==null?void 0:I.expandIcon;return(0,Tn.Tm)(mt,{className:J()(`${ze}-submenu-expand-icon`,s.isValidElement(mt)?(ct=mt.props)===null||ct===void 0?void 0:ct.className:void 0)})},[k,f==null?void 0:f.expandIcon,I==null?void 0:I.expandIcon,ze]),bt=s.useMemo(()=>({prefixCls:ze,inlineCollapsed:we||!1,direction:S,firstLevel:!0,theme:Z,mode:ve,disableMenuItemTitleTooltip:W}),[ze,we,S,W,Z]);return Fe(s.createElement(Uv.Provider,{value:null},s.createElement(i0.Provider,{value:bt},s.createElement(t0,Object.assign({getPopupContainer:_,overflowedIndicator:s.createElement(Vv,null),overflowedIndicatorPopupClassName:J()(ze,`${ze}-${Z}`,ae),mode:ve,selectable:ye,onClick:he},fe,{inlineCollapsed:we,style:Object.assign(Object.assign({},I==null?void 0:I.style),F),className:tt,prefixCls:ze,direction:S,defaultMotions:Se,expandIcon:vt,ref:t,rootClassName:J()(Q,Ae,f.rootClassName,Ke,Te),_internalComponents:ey})))))});const Hp=(0,s.forwardRef)((e,t)=>{const a=(0,s.useRef)(null),o=s.useContext(jp);return(0,s.useImperativeHandle)(t,()=>({menu:a.current,focus:f=>{var y;(y=a.current)===null||y===void 0||y.focus(f)}})),s.createElement(cC,Object.assign({ref:a},e,o))});Hp.Item=o0,Hp.SubMenu=Jv,Hp.Divider=Hv,Hp.ItemGroup=zv;var ty=Hp,Up=j(48221),$u=j(18533),Pf=j(2276),d0=e=>{const{componentCls:t,menuCls:a,colorError:o,colorTextLightSolid:f}=e,y=`${a}-item`;return{[`${t}, ${t}-menu-submenu`]:{[`${a} ${y}`]:{[`&${y}-danger:not(${y}-disabled)`]:{color:o,"&:hover":{color:f,backgroundColor:o}}}}}};const Wp=e=>{const{componentCls:t,menuCls:a,zIndexPopup:o,dropdownArrowDistance:f,sizePopupArrow:y,antCls:_,iconCls:S,motionDurationMid:I,paddingBlock:A,fontSize:z,dropdownEdgeChildPadding:L,colorTextDisabled:F,fontSizeIcon:Z,controlPaddingHorizontal:k,colorBgElevated:W}=e;return[{[t]:{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:o,display:"block","&::before":{position:"absolute",insetBlock:e.calc(y).div(2).sub(f).equal(),zIndex:-9999,opacity:1e-4,content:'""'},"&-menu-vertical":{maxHeight:"100vh",overflowY:"auto"},[`&-trigger${_}-btn`]:{[`& > ${S}-down, & > ${_}-btn-icon > ${S}-down`]:{fontSize:Z}},[`${t}-wrap`]:{position:"relative",[`${_}-btn > ${S}-down`]:{fontSize:Z},[`${S}-down::before`]:{transition:`transform ${I}`}},[`${t}-wrap-open`]:{[`${S}-down::before`]:{transform:"rotate(180deg)"}},"\n        &-hidden,\n        &-menu-hidden,\n        &-menu-submenu-hidden\n      ":{display:"none"},[`&${_}-slide-down-enter${_}-slide-down-enter-active${t}-placement-bottomLeft,
          &${_}-slide-down-appear${_}-slide-down-appear-active${t}-placement-bottomLeft,
          &${_}-slide-down-enter${_}-slide-down-enter-active${t}-placement-bottom,
          &${_}-slide-down-appear${_}-slide-down-appear-active${t}-placement-bottom,
          &${_}-slide-down-enter${_}-slide-down-enter-active${t}-placement-bottomRight,
          &${_}-slide-down-appear${_}-slide-down-appear-active${t}-placement-bottomRight`]:{animationName:lc.fJ},[`&${_}-slide-up-enter${_}-slide-up-enter-active${t}-placement-topLeft,
          &${_}-slide-up-appear${_}-slide-up-appear-active${t}-placement-topLeft,
          &${_}-slide-up-enter${_}-slide-up-enter-active${t}-placement-top,
          &${_}-slide-up-appear${_}-slide-up-appear-active${t}-placement-top,
          &${_}-slide-up-enter${_}-slide-up-enter-active${t}-placement-topRight,
          &${_}-slide-up-appear${_}-slide-up-appear-active${t}-placement-topRight`]:{animationName:lc.Qt},[`&${_}-slide-down-leave${_}-slide-down-leave-active${t}-placement-bottomLeft,
          &${_}-slide-down-leave${_}-slide-down-leave-active${t}-placement-bottom,
          &${_}-slide-down-leave${_}-slide-down-leave-active${t}-placement-bottomRight`]:{animationName:lc.Uw},[`&${_}-slide-up-leave${_}-slide-up-leave-active${t}-placement-topLeft,
          &${_}-slide-up-leave${_}-slide-up-leave-active${t}-placement-top,
          &${_}-slide-up-leave${_}-slide-up-leave-active${t}-placement-topRight`]:{animationName:lc.ly}}},(0,$u.ZP)(e,W,{arrowPlacement:{top:!0,bottom:!0}}),{[`${t} ${a}`]:{position:"relative",margin:0},[`${a}-submenu-popup`]:{position:"absolute",zIndex:o,background:"transparent",boxShadow:"none",transformOrigin:"0 0","ul, li":{listStyle:"none",margin:0}},[`${t}, ${t}-menu-submenu`]:Object.assign(Object.assign({},(0,nn.Wf)(e)),{[a]:Object.assign(Object.assign({padding:L,listStyleType:"none",backgroundColor:W,backgroundClip:"padding-box",borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary},(0,nn.Qy)(e)),{"&:empty":{padding:0,boxShadow:"none"},[`${a}-item-group-title`]:{padding:`${(0,me.bf)(A)} ${(0,me.bf)(k)}`,color:e.colorTextDescription,transition:`all ${I}`},[`${a}-item`]:{position:"relative",display:"flex",alignItems:"center"},[`${a}-item-icon`]:{minWidth:z,marginInlineEnd:e.marginXS,fontSize:e.fontSizeSM},[`${a}-title-content`]:{flex:"auto","&-with-extra":{display:"inline-flex",alignItems:"center",width:"100%"},"> a":{color:"inherit",transition:`all ${I}`,"&:hover":{color:"inherit"},"&::after":{position:"absolute",inset:0,content:'""'}},[`${a}-item-extra`]:{paddingInlineStart:e.padding,marginInlineStart:"auto",fontSize:e.fontSizeSM,color:e.colorTextDescription}},[`${a}-item, ${a}-submenu-title`]:Object.assign(Object.assign({display:"flex",margin:0,padding:`${(0,me.bf)(A)} ${(0,me.bf)(k)}`,color:e.colorText,fontWeight:"normal",fontSize:z,lineHeight:e.lineHeight,cursor:"pointer",transition:`all ${I}`,borderRadius:e.borderRadiusSM,"&:hover, &-active":{backgroundColor:e.controlItemBgHover}},(0,nn.Qy)(e)),{"&-selected":{color:e.colorPrimary,backgroundColor:e.controlItemBgActive,"&:hover, &-active":{backgroundColor:e.controlItemBgActiveHover}},"&-disabled":{color:F,cursor:"not-allowed","&:hover":{color:F,backgroundColor:W,cursor:"not-allowed"},a:{pointerEvents:"none"}},"&-divider":{height:1,margin:`${(0,me.bf)(e.marginXXS)} 0`,overflow:"hidden",lineHeight:0,backgroundColor:e.colorSplit},[`${t}-menu-submenu-expand-icon`]:{position:"absolute",insetInlineEnd:e.paddingXS,[`${t}-menu-submenu-arrow-icon`]:{marginInlineEnd:"0 !important",color:e.colorTextDescription,fontSize:Z,fontStyle:"normal"}}}),[`${a}-item-group-list`]:{margin:`0 ${(0,me.bf)(e.marginXS)}`,padding:0,listStyle:"none"},[`${a}-submenu-title`]:{paddingInlineEnd:e.calc(k).add(e.fontSizeSM).equal()},[`${a}-submenu-vertical`]:{position:"relative"},[`${a}-submenu${a}-submenu-disabled ${t}-menu-submenu-title`]:{[`&, ${t}-menu-submenu-arrow-icon`]:{color:F,backgroundColor:W,cursor:"not-allowed"}},[`${a}-submenu-selected ${t}-menu-submenu-title`]:{color:e.colorPrimary}})})},[(0,lc.oN)(e,"slide-up"),(0,lc.oN)(e,"slide-down"),(0,Up.Fm)(e,"move-up"),(0,Up.Fm)(e,"move-down"),(0,cf._y)(e,"zoom-big")]]},t_=e=>Object.assign(Object.assign({zIndexPopup:e.zIndexPopupBase+50,paddingBlock:(e.controlHeight-e.fontSize*e.lineHeight)/2},(0,$u.wZ)({contentRadius:e.borderRadiusLG,limitVerticalRadius:!0})),(0,Pf.w)(e));var n_=(0,oe.I$)("Dropdown",e=>{const{marginXXS:t,sizePopupArrow:a,paddingXXS:o,componentCls:f}=e,y=(0,kr.IX)(e,{menuCls:`${f}-menu`,dropdownArrowDistance:e.calc(a).div(2).add(t).equal(),dropdownEdgeChildPadding:o});return[Wp(y),d0(y)]},t_,{resetStyle:!1});const uC=null,f0=e=>{var t;const{menu:a,arrow:o,prefixCls:f,children:y,trigger:_,disabled:S,dropdownRender:I,getPopupContainer:A,overlayClassName:z,rootClassName:L,overlayStyle:F,open:Z,onOpenChange:k,visible:W,onVisibleChange:H,mouseEnterDelay:X=.15,mouseLeaveDelay:Q=.1,autoAdjustOverflow:re=!0,placement:ie="",overlay:ne,transitionName:ae}=e,{getPopupContainer:ue,getPrefixCls:fe,direction:he,dropdown:ve}=s.useContext(_e.E_),ye=(0,io.ln)("Dropdown"),we=s.useMemo(()=>{const At=fe();return ae!==void 0?ae:ie.includes("top")?`${At}-slide-down`:`${At}-slide-up`},[fe,ie,ae]),Se=s.useMemo(()=>ie?ie.includes("Center")?ie.slice(0,ie.indexOf("Center")):ie:he==="rtl"?"bottomRight":"bottomLeft",[ie,he]),ze=fe("dropdown",f),Te=(0,Ln.Z)(ze),[Fe,Ae,Ke]=n_(ze,Te),[,tt]=(0,Vr.ZP)(),vt=s.Children.only(nr(y)?s.createElement("span",null,y):y),bt=(0,Tn.Tm)(vt,{className:J()(`${ze}-trigger`,{[`${ze}-rtl`]:he==="rtl"},vt.props.className),disabled:(t=vt.props.disabled)!==null&&t!==void 0?t:S}),lt=S?[]:_,ct=!!(lt!=null&&lt.includes("contextMenu")),[mt,Rt]=(0,zt.Z)(!1,{value:Z!=null?Z:W}),wt=(0,ur.Z)(At=>{k==null||k(At,{source:"trigger"}),H==null||H(At),Rt(At)}),Bt=J()(z,L,Ae,Ke,Te,ve==null?void 0:ve.className,{[`${ze}-rtl`]:he==="rtl"}),Ct=(0,Hn.Z)({arrowPointAtCenter:typeof o=="object"&&o.pointAtCenter,autoAdjustOverflow:re,offset:tt.marginXXS,arrowWidth:o?tt.sizePopupArrow:0,borderRadius:tt.borderRadius}),dn=s.useCallback(()=>{a!=null&&a.selectable&&(a!=null&&a.multiple)||(k==null||k(!1,{source:"menu"}),Rt(!1))},[a==null?void 0:a.selectable,a==null?void 0:a.multiple]),zn=()=>{let At;return a!=null&&a.items?At=s.createElement(ty,Object.assign({},a)):typeof ne=="function"?At=ne():At=ne,I&&(At=I(At)),At=s.Children.only(typeof At=="string"?s.createElement("span",null,At):At),s.createElement(Zp,{prefixCls:`${ze}-menu`,rootClassName:J()(Ke,Te),expandIcon:s.createElement("span",{className:`${ze}-menu-submenu-arrow`},he==="rtl"?s.createElement(V,{className:`${ze}-menu-submenu-arrow-icon`}):s.createElement(U.Z,{className:`${ze}-menu-submenu-arrow-icon`})),mode:"vertical",selectable:!1,onClick:dn,validator:$n=>{let{mode:yn}=$n}},At)},[rn,Cn]=(0,bn.Cn)("Dropdown",F==null?void 0:F.zIndex);let Vt=s.createElement(It,Object.assign({alignPoint:ct},(0,Ci.Z)(e,["rootClassName"]),{mouseEnterDelay:X,mouseLeaveDelay:Q,visible:mt,builtinPlacements:Ct,arrow:!!o,overlayClassName:Bt,prefixCls:ze,getPopupContainer:A||ue,transitionName:we,trigger:lt,overlay:zn,placement:Se,onVisibleChange:wt,overlayStyle:Object.assign(Object.assign(Object.assign({},ve==null?void 0:ve.style),F),{zIndex:rn})}),bt);return rn&&(Vt=s.createElement(fd.Z.Provider,{value:Cn},Vt)),Fe(Vt)},dC=(0,zl.Z)(f0,"align",void 0,"dropdown",e=>e),fC=e=>s.createElement(dC,Object.assign({},e),s.createElement("span",null));f0._InternalPanelDoNotUseOrYouWillBeFired=fC;var h0=f0;const Gp=e=>{let{children:t}=e;const{getPrefixCls:a}=s.useContext(_e.E_),o=a("breadcrumb");return s.createElement("li",{className:`${o}-separator`,"aria-hidden":"true"},t===""?t:t||"/")};Gp.__ANT_BREADCRUMB_SEPARATOR=!0;var m0=Gp,hC=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};function r_(e,t){if(e.title===void 0||e.title===null)return null;const a=Object.keys(t).join("|");return typeof e.title=="object"?e.title:String(e.title).replace(new RegExp(`:(${a})`,"g"),(o,f)=>t[f]||o)}function p0(e,t,a,o){if(a==null)return null;const{className:f,onClick:y}=t,_=hC(t,["className","onClick"]),S=Object.assign(Object.assign({},(0,pt.Z)(_,{data:!0,aria:!0})),{onClick:y});return o!==void 0?s.createElement("a",Object.assign({},S,{className:J()(`${e}-link`,f),href:o}),a):s.createElement("span",Object.assign({},S,{className:J()(`${e}-link`,f)}),a)}function i_(e,t){return(o,f,y,_,S)=>{if(t)return t(o,f,y,_);const I=r_(o,f);return p0(e,o,I,S)}}var g0=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const ny=e=>{const{prefixCls:t,separator:a="/",children:o,menu:f,overlay:y,dropdownProps:_,href:S}=e,A=(z=>{if(f||y){const L=Object.assign({},_);if(f){const F=f||{},{items:Z}=F,k=g0(F,["items"]);L.menu=Object.assign(Object.assign({},k),{items:Z==null?void 0:Z.map((W,H)=>{var{key:X,title:Q,label:re,path:ie}=W,ne=g0(W,["key","title","label","path"]);let ae=re!=null?re:Q;return ie&&(ae=s.createElement("a",{href:`${S}${ie}`},ae)),Object.assign(Object.assign({},ne),{key:X!=null?X:H,label:ae})})})}else y&&(L.overlay=y);return s.createElement(h0,Object.assign({placement:"bottom"},L),s.createElement("span",{className:`${t}-overlay-link`},z,s.createElement(b.Z,null)))}return z})(o);return A!=null?s.createElement(s.Fragment,null,s.createElement("li",null,A),a&&s.createElement(m0,null,a)):null},ry=e=>{const{prefixCls:t,children:a,href:o}=e,f=g0(e,["prefixCls","children","href"]),{getPrefixCls:y}=s.useContext(_e.E_),_=y("breadcrumb",t);return s.createElement(ny,Object.assign({},f,{prefixCls:_}),p0(_,f,a,o))};ry.__ANT_BREADCRUMB_ITEM=!0;var o_=ry;const mC=e=>{const{componentCls:t,iconCls:a,calc:o}=e;return{[t]:Object.assign(Object.assign({},(0,nn.Wf)(e)),{color:e.itemColor,fontSize:e.fontSize,[a]:{fontSize:e.iconFontSize},ol:{display:"flex",flexWrap:"wrap",margin:0,padding:0,listStyle:"none"},a:Object.assign({color:e.linkColor,transition:`color ${e.motionDurationMid}`,padding:`0 ${(0,me.bf)(e.paddingXXS)}`,borderRadius:e.borderRadiusSM,height:e.fontHeight,display:"inline-block",marginInline:o(e.marginXXS).mul(-1).equal(),"&:hover":{color:e.linkHoverColor,backgroundColor:e.colorBgTextHover}},(0,nn.Qy)(e)),"li:last-child":{color:e.lastItemColor},[`${t}-separator`]:{marginInline:e.separatorMargin,color:e.separatorColor},[`${t}-link`]:{[`
          > ${a} + span,
          > ${a} + a
        `]:{marginInlineStart:e.marginXXS}},[`${t}-overlay-link`]:{borderRadius:e.borderRadiusSM,height:e.fontHeight,display:"inline-block",padding:`0 ${(0,me.bf)(e.paddingXXS)}`,marginInline:o(e.marginXXS).mul(-1).equal(),[`> ${a}`]:{marginInlineStart:e.marginXXS,fontSize:e.fontSizeIcon},"&:hover":{color:e.linkHoverColor,backgroundColor:e.colorBgTextHover,a:{color:e.linkHoverColor}},a:{"&:hover":{backgroundColor:"transparent"}}},[`&${e.componentCls}-rtl`]:{direction:"rtl"}})}},a_=e=>({itemColor:e.colorTextDescription,lastItemColor:e.colorText,iconFontSize:e.fontSize,linkColor:e.colorTextDescription,linkHoverColor:e.colorText,separatorColor:e.colorTextDescription,separatorMargin:e.marginXS});var s_=(0,oe.I$)("Breadcrumb",e=>{const t=(0,kr.IX)(e,{});return mC(t)},a_),Am=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};function l_(e){const{breadcrumbName:t,children:a}=e,o=Am(e,["breadcrumbName","children"]),f=Object.assign({title:t},o);return a&&(f.menu={items:a.map(y=>{var{breadcrumbName:_}=y,S=Am(y,["breadcrumbName"]);return Object.assign(Object.assign({},S),{title:_})})}),f}function c_(e,t){return(0,s.useMemo)(()=>e||(t?t.map(l_):null),[e,t])}var pC=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const gC=(e,t)=>{if(t===void 0)return t;let a=(t||"").replace(/^\//,"");return Object.keys(e).forEach(o=>{a=a.replace(`:${o}`,e[o])}),a},iy=e=>{const{prefixCls:t,separator:a="/",style:o,className:f,rootClassName:y,routes:_,items:S,children:I,itemRender:A,params:z={}}=e,L=pC(e,["prefixCls","separator","style","className","rootClassName","routes","items","children","itemRender","params"]),{getPrefixCls:F,direction:Z,breadcrumb:k}=s.useContext(_e.E_);let W;const H=F("breadcrumb",t),[X,Q,re]=s_(H),ie=c_(S,_),ne=i_(H,A);if(ie&&ie.length>0){const fe=[],he=S||_;W=ie.map((ve,ye)=>{const{path:we,key:Se,type:ze,menu:Te,overlay:Fe,onClick:Ae,className:Ke,separator:tt,dropdownProps:vt}=ve,bt=gC(z,we);bt!==void 0&&fe.push(bt);const lt=Se!=null?Se:ye;if(ze==="separator")return s.createElement(m0,{key:lt},tt);const ct={},mt=ye===ie.length-1;Te?ct.menu=Te:Fe&&(ct.overlay=Fe);let{href:Rt}=ve;return fe.length&&bt!==void 0&&(Rt=`#/${fe.join("/")}`),s.createElement(ny,Object.assign({key:lt},ct,(0,pt.Z)(ve,{data:!0,aria:!0}),{className:Ke,dropdownProps:vt,href:Rt,separator:mt?"":a,onClick:Ae,prefixCls:H}),ne(ve,z,he,fe,Rt))})}else if(I){const fe=(0,ac.Z)(I).length;W=(0,ac.Z)(I).map((he,ve)=>{if(!he)return he;const ye=ve===fe-1;return(0,Tn.Tm)(he,{separator:ye?"":a,key:ve})})}const ae=J()(H,k==null?void 0:k.className,{[`${H}-rtl`]:Z==="rtl"},f,y,Q,re),ue=Object.assign(Object.assign({},k==null?void 0:k.style),o);return X(s.createElement("nav",Object.assign({className:ae,style:ue},L),s.createElement("ol",null,W)))};iy.Item=o_,iy.Separator=m0;var vC=iy,yC=vC,bC=j(16483),lu=j.n(bC),u_=j(92098),_C=j.n(u_),xC=j(2845),CC=j.n(xC),oy=j(88777),ay=j.n(oy),d_=j(41466),f_=j.n(d_),h_=j(79771),m_=j.n(h_),p_=j(30156),g_=j.n(p_);lu().extend(g_()),lu().extend(m_()),lu().extend(_C()),lu().extend(CC()),lu().extend(ay()),lu().extend(f_()),lu().extend(function(e,t){var a=t.prototype,o=a.format;a.format=function(y){var _=(y||"").replace("Wo","wo");return o.bind(this)(_)}});var v_={bn_BD:"bn-bd",by_BY:"be",en_GB:"en-gb",en_US:"en",fr_BE:"fr",fr_CA:"fr-ca",hy_AM:"hy-am",kmr_IQ:"ku",nl_BE:"nl-be",pt_BR:"pt-br",zh_CN:"zh-cn",zh_HK:"zh-hk",zh_TW:"zh-tw"},Of=function(t){var a=v_[t];return a||t.split("_")[0]},v0=function(){},y_={getNow:function(){var t=lu()();return typeof t.tz=="function"?t.tz():t},getFixedDate:function(t){return lu()(t,["YYYY-M-DD","YYYY-MM-DD"])},getEndDate:function(t){return t.endOf("month")},getWeekDay:function(t){var a=t.locale("en");return a.weekday()+a.localeData().firstDayOfWeek()},getYear:function(t){return t.year()},getMonth:function(t){return t.month()},getDate:function(t){return t.date()},getHour:function(t){return t.hour()},getMinute:function(t){return t.minute()},getSecond:function(t){return t.second()},getMillisecond:function(t){return t.millisecond()},addYear:function(t,a){return t.add(a,"year")},addMonth:function(t,a){return t.add(a,"month")},addDate:function(t,a){return t.add(a,"day")},setYear:function(t,a){return t.year(a)},setMonth:function(t,a){return t.month(a)},setDate:function(t,a){return t.date(a)},setHour:function(t,a){return t.hour(a)},setMinute:function(t,a){return t.minute(a)},setSecond:function(t,a){return t.second(a)},setMillisecond:function(t,a){return t.millisecond(a)},isAfter:function(t,a){return t.isAfter(a)},isValidate:function(t){return t.isValid()},locale:{getWeekFirstDay:function(t){return lu()().locale(Of(t)).localeData().firstDayOfWeek()},getWeekFirstDate:function(t,a){return a.locale(Of(t)).weekday(0)},getWeek:function(t,a){return a.locale(Of(t)).week()},getShortWeekDays:function(t){return lu()().locale(Of(t)).localeData().weekdaysMin()},getShortMonths:function(t){return lu()().locale(Of(t)).localeData().monthsShort()},format:function(t,a,o){return a.locale(Of(t)).format(o)},parse:function(t,a,o){for(var f=Of(t),y=0;y<o.length;y+=1){var _=o[y],S=a;if(_.includes("wo")||_.includes("Wo")){for(var I=S.split("-")[0],A=S.split("-")[1],z=lu()(I,"YYYY").startOf("year").locale(f),L=0;L<=52;L+=1){var F=z.add(L,"week");if(F.format("Wo")===A)return F}return v0(),null}var Z=lu()(S,_,!0).locale(f);if(Z.isValid())return Z}return a&&v0(),null}}},b_=y_,Os=j(22217),yl=j(92076);function SC(e,t){return e!==void 0?e:t?"bottomRight":"bottomLeft"}var wC=s.createContext(null),Qu=wC,EC={bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}}};function IC(e){var t=e.popupElement,a=e.popupStyle,o=e.popupClassName,f=e.popupAlign,y=e.transitionName,_=e.getPopupContainer,S=e.children,I=e.range,A=e.placement,z=e.builtinPlacements,L=z===void 0?EC:z,F=e.direction,Z=e.visible,k=e.onClose,W=s.useContext(Qu),H=W.prefixCls,X="".concat(H,"-dropdown"),Q=SC(A,F==="rtl");return s.createElement(Y.Z,{showAction:[],hideAction:["click"],popupPlacement:Q,builtinPlacements:L,prefixCls:X,popupTransitionName:y,popup:t,popupAlign:f,popupVisible:Z,popupClassName:J()(o,(0,ge.Z)((0,ge.Z)({},"".concat(X,"-range"),I),"".concat(X,"-rtl"),F==="rtl")),popupStyle:a,stretch:"minWidth",getPopupContainer:_,onPopupVisibleChange:function(ie){ie||k()}},S)}var __=IC;function sy(e,t){for(var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0",o=String(e);o.length<t;)o="".concat(a).concat(o);return o}function Rf(e){return e==null?[]:Array.isArray(e)?e:[e]}function Xp(e,t,a){var o=(0,Ie.Z)(e);return o[t]=a,o}function tc(e,t){var a={},o=t||Object.keys(e);return o.forEach(function(f){e[f]!==void 0&&(a[f]=e[f])}),a}function Au(e,t,a){if(a)return a;switch(e){case"time":return t.fieldTimeFormat;case"datetime":return t.fieldDateTimeFormat;case"month":return t.fieldMonthFormat;case"year":return t.fieldYearFormat;case"quarter":return t.fieldQuarterFormat;case"week":return t.fieldWeekFormat;default:return t.fieldDateFormat}}function y0(e,t,a){var o=a!==void 0?a:t[t.length-1],f=t.find(function(y){return e[y]});return o!==f?e[f]:void 0}function b0(e){return tc(e,["placement","builtinPlacements","popupAlign","getPopupContainer","transitionName","direction"])}function Dm(e,t,a,o){var f=s.useMemo(function(){return e||function(_,S){var I=_;return t&&S.type==="date"?t(I,S.today):a&&S.type==="month"?a(I,S.locale):S.originNode}},[e,a,t]),y=s.useCallback(function(_,S){return f(_,(0,K.Z)((0,K.Z)({},S),{},{range:o}))},[f,o]);return y}function Dh(e,t){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],o=s.useState([!1,!1]),f=(0,Pe.Z)(o,2),y=f[0],_=f[1],S=function(z,L){_(function(F){return Xp(F,L,z)})},I=s.useMemo(function(){return y.map(function(A,z){if(A)return!0;var L=e[z];return L?!!(!a[z]&&!L||L&&t(L,{activeIndex:z})):!1})},[e,y,t,a]);return[I,S]}function x_(e,t,a,o,f){var y="",_=[];return e&&_.push(f?"hh":"HH"),t&&_.push("mm"),a&&_.push("ss"),y=_.join(":"),o&&(y+=".SSS"),f&&(y+=" A"),y}function TC(e,t,a,o,f,y){var _=e.fieldDateTimeFormat,S=e.fieldDateFormat,I=e.fieldTimeFormat,A=e.fieldMonthFormat,z=e.fieldYearFormat,L=e.fieldWeekFormat,F=e.fieldQuarterFormat,Z=e.yearFormat,k=e.cellYearFormat,W=e.cellQuarterFormat,H=e.dayFormat,X=e.cellDateFormat,Q=x_(t,a,o,f,y);return(0,K.Z)((0,K.Z)({},e),{},{fieldDateTimeFormat:_||"YYYY-MM-DD ".concat(Q),fieldDateFormat:S||"YYYY-MM-DD",fieldTimeFormat:I||Q,fieldMonthFormat:A||"YYYY-MM",fieldYearFormat:z||"YYYY",fieldWeekFormat:L||"gggg-wo",fieldQuarterFormat:F||"YYYY-[Q]Q",yearFormat:Z||"YYYY",cellYearFormat:k||"YYYY",cellQuarterFormat:W||"[Q]Q",cellDateFormat:X||H||"D"})}function zm(e,t){var a=t.showHour,o=t.showMinute,f=t.showSecond,y=t.showMillisecond,_=t.use12Hours;return s.useMemo(function(){return TC(e,a,o,f,y,_)},[e,a,o,f,y,_])}function Kp(e,t,a){return a!=null?a:t.some(function(o){return e.includes(o)})}var MC=["showNow","showHour","showMinute","showSecond","showMillisecond","use12Hours","hourStep","minuteStep","secondStep","millisecondStep","hideDisabledOptions","defaultValue","disabledHours","disabledMinutes","disabledSeconds","disabledMilliseconds","disabledTime","changeOnScroll","defaultOpenValue"];function C_(e){var t=tc(e,MC),a=e.format,o=e.picker,f=null;return a&&(f=a,Array.isArray(f)&&(f=f[0]),f=(0,dt.Z)(f)==="object"?f.format:f),o==="time"&&(t.format=f),[t,f]}function ly(e){return e&&typeof e=="string"}function cy(e,t,a,o){return[e,t,a,o].some(function(f){return f!==void 0})}function _0(e,t,a,o,f){var y=t,_=a,S=o;if(!e&&!y&&!_&&!S&&!f)y=!0,_=!0,S=!0;else if(e){var I,A,z,L=[y,_,S].some(function(k){return k===!1}),F=[y,_,S].some(function(k){return k===!0}),Z=L?!0:!F;y=(I=y)!==null&&I!==void 0?I:Z,_=(A=_)!==null&&A!==void 0?A:Z,S=(z=S)!==null&&z!==void 0?z:Z}return[y,_,S,f]}function S_(e){var t=e.showTime,a=C_(e),o=(0,Pe.Z)(a,2),f=o[0],y=o[1],_=t&&(0,dt.Z)(t)==="object"?t:{},S=(0,K.Z)((0,K.Z)({defaultOpenValue:_.defaultOpenValue||_.defaultValue},f),_),I=S.showMillisecond,A=S.showHour,z=S.showMinute,L=S.showSecond,F=cy(A,z,L,I),Z=_0(F,A,z,L,I),k=(0,Pe.Z)(Z,3);return A=k[0],z=k[1],L=k[2],[S,(0,K.Z)((0,K.Z)({},S),{},{showHour:A,showMinute:z,showSecond:L,showMillisecond:I}),S.format,y]}function uy(e,t,a,o,f){var y=e==="time";if(e==="datetime"||y){for(var _=o,S=Au(e,f,null),I=S,A=[t,a],z=0;z<A.length;z+=1){var L=Rf(A[z])[0];if(ly(L)){I=L;break}}var F=_.showHour,Z=_.showMinute,k=_.showSecond,W=_.showMillisecond,H=_.use12Hours,X=Kp(I,["a","A","LT","LLL","LTS"],H),Q=cy(F,Z,k,W);Q||(F=Kp(I,["H","h","k","LT","LLL"]),Z=Kp(I,["m","LT","LLL"]),k=Kp(I,["s","LTS"]),W=Kp(I,["SSS"]));var re=_0(Q,F,Z,k,W),ie=(0,Pe.Z)(re,3);F=ie[0],Z=ie[1],k=ie[2];var ne=t||x_(F,Z,k,W,X);return(0,K.Z)((0,K.Z)({},_),{},{format:ne,showHour:F,showMinute:Z,showSecond:k,showMillisecond:W,use12Hours:X})}return null}function x0(e,t,a){if(t===!1)return null;var o=t&&(0,dt.Z)(t)==="object"?t:{};return o.clearIcon||a||s.createElement("span",{className:"".concat(e,"-clear-btn")})}var qp=7;function $f(e,t,a){return!e&&!t||e===t?!0:!e||!t?!1:a()}function dy(e,t,a){return $f(t,a,function(){var o=Math.floor(e.getYear(t)/10),f=Math.floor(e.getYear(a)/10);return o===f})}function zh(e,t,a){return $f(t,a,function(){return e.getYear(t)===e.getYear(a)})}function fy(e,t){var a=Math.floor(e.getMonth(t)/3);return a+1}function Cu(e,t,a){return $f(t,a,function(){return zh(e,t,a)&&fy(e,t)===fy(e,a)})}function Lh(e,t,a){return $f(t,a,function(){return zh(e,t,a)&&e.getMonth(t)===e.getMonth(a)})}function Af(e,t,a){return $f(t,a,function(){return zh(e,t,a)&&Lh(e,t,a)&&e.getDate(t)===e.getDate(a)})}function C0(e,t,a){return $f(t,a,function(){return e.getHour(t)===e.getHour(a)&&e.getMinute(t)===e.getMinute(a)&&e.getSecond(t)===e.getSecond(a)})}function Yp(e,t,a){return $f(t,a,function(){return Af(e,t,a)&&C0(e,t,a)&&e.getMillisecond(t)===e.getMillisecond(a)})}function Jp(e,t,a,o){return $f(a,o,function(){var f=e.locale.getWeekFirstDate(t,a),y=e.locale.getWeekFirstDate(t,o);return zh(e,f,y)&&e.locale.getWeek(t,a)===e.locale.getWeek(t,o)})}function Ac(e,t,a,o,f){switch(f){case"date":return Af(e,a,o);case"week":return Jp(e,t.locale,a,o);case"month":return Lh(e,a,o);case"quarter":return Cu(e,a,o);case"year":return zh(e,a,o);case"decade":return dy(e,a,o);case"time":return C0(e,a,o);default:return Yp(e,a,o)}}function Qp(e,t,a,o){return!t||!a||!o?!1:e.isAfter(o,t)&&e.isAfter(a,o)}function S0(e,t,a,o,f){return Ac(e,t,a,o,f)?!0:e.isAfter(a,o)}function w_(e,t,a){var o=t.locale.getWeekFirstDay(e),f=t.setDate(a,1),y=t.getWeekDay(f),_=t.addDate(f,o-y);return t.getMonth(_)===t.getMonth(a)&&t.getDate(_)>1&&(_=t.addDate(_,-7)),_}function pc(e,t){var a=t.generateConfig,o=t.locale,f=t.format;return e?typeof f=="function"?f(e):a.locale.format(o.locale,e,f):""}function Lm(e,t,a){var o=t,f=["getHour","getMinute","getSecond","getMillisecond"],y=["setHour","setMinute","setSecond","setMillisecond"];return y.forEach(function(_,S){a?o=e[_](o,e[f[S]](a)):o=e[_](o,0)}),o}function E_(e,t,a,o,f){var y=(0,Os.zX)(function(_,S){return!!(a&&a(_,S)||o&&e.isAfter(o,_)&&!Ac(e,t,o,_,S.type)||f&&e.isAfter(_,f)&&!Ac(e,t,f,_,S.type))});return y}function PC(e,t,a){return s.useMemo(function(){var o=Au(e,t,a),f=Rf(o),y=f[0],_=(0,dt.Z)(y)==="object"&&y.type==="mask"?y.format:null;return[f.map(function(S){return typeof S=="string"||typeof S=="function"?S:S.format}),_]},[e,t,a])}function I_(e,t,a){return typeof e[0]=="function"||a?!0:t}function Wd(e,t,a,o){var f=(0,Os.zX)(function(y,_){var S=(0,K.Z)({type:t},_);if(delete S.activeIndex,!e.isValidate(y)||a&&a(y,S))return!0;if((t==="date"||t==="time")&&o){var I,A=_&&_.activeIndex===1?"end":"start",z=((I=o.disabledTime)===null||I===void 0?void 0:I.call(o,y,A,{from:S.from}))||{},L=z.disabledHours,F=z.disabledMinutes,Z=z.disabledSeconds,k=z.disabledMilliseconds,W=o.disabledHours,H=o.disabledMinutes,X=o.disabledSeconds,Q=L||W,re=F||H,ie=Z||X,ne=e.getHour(y),ae=e.getMinute(y),ue=e.getSecond(y),fe=e.getMillisecond(y);if(Q&&Q().includes(ne)||re&&re(ne).includes(ae)||ie&&ie(ne,ae).includes(ue)||k&&k(ne,ae,ue).includes(fe))return!0}return!1});return f}function eg(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=s.useMemo(function(){var o=e&&Rf(e);return t&&o&&(o[1]=o[1]||o[0]),o},[e,t]);return a}function hy(e,t){var a=e.generateConfig,o=e.locale,f=e.picker,y=f===void 0?"date":f,_=e.prefixCls,S=_===void 0?"rc-picker":_,I=e.styles,A=I===void 0?{}:I,z=e.classNames,L=z===void 0?{}:z,F=e.order,Z=F===void 0?!0:F,k=e.components,W=k===void 0?{}:k,H=e.inputRender,X=e.allowClear,Q=e.clearIcon,re=e.needConfirm,ie=e.multiple,ne=e.format,ae=e.inputReadOnly,ue=e.disabledDate,fe=e.minDate,he=e.maxDate,ve=e.showTime,ye=e.value,we=e.defaultValue,Se=e.pickerValue,ze=e.defaultPickerValue,Te=eg(ye),Fe=eg(we),Ae=eg(Se),Ke=eg(ze),tt=y==="date"&&ve?"datetime":y,vt=tt==="time"||tt==="datetime",bt=vt||ie,lt=re!=null?re:vt,ct=S_(e),mt=(0,Pe.Z)(ct,4),Rt=mt[0],wt=mt[1],Bt=mt[2],Ct=mt[3],dn=zm(o,wt),zn=s.useMemo(function(){return uy(tt,Bt,Ct,Rt,dn)},[tt,Bt,Ct,Rt,dn]),rn=s.useMemo(function(){return(0,K.Z)((0,K.Z)({},e),{},{prefixCls:S,locale:dn,picker:y,styles:A,classNames:L,order:Z,components:(0,K.Z)({input:H},W),clearIcon:x0(S,X,Q),showTime:zn,value:Te,defaultValue:Fe,pickerValue:Ae,defaultPickerValue:Ke},t==null?void 0:t())},[e]),Cn=PC(tt,dn,ne),Vt=(0,Pe.Z)(Cn,2),At=Vt[0],$n=Vt[1],yn=I_(At,ae,ie),Ir=E_(a,o,ue,fe,he),cr=Wd(a,y,Ir,zn),Kn=s.useMemo(function(){return(0,K.Z)((0,K.Z)({},rn),{},{needConfirm:lt,inputReadOnly:yn,disabledDate:Ir})},[rn,lt,yn,Ir]);return[Kn,tt,bt,At,$n,cr]}function T_(e,t,a){var o=(0,Os.C8)(t,{value:e}),f=(0,Pe.Z)(o,2),y=f[0],_=f[1],S=s.useRef(e),I=s.useRef(),A=function(){He.Z.cancel(I.current)},z=(0,Os.zX)(function(){_(S.current),a&&y!==S.current&&a(S.current)}),L=(0,Os.zX)(function(F,Z){A(),S.current=F,F||Z?z():I.current=(0,He.Z)(z)});return s.useEffect(function(){return A},[]),[y,L]}function my(e,t){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],o=arguments.length>3?arguments[3]:void 0,f=a.every(function(z){return z})?!1:e,y=T_(f,t||!1,o),_=(0,Pe.Z)(y,2),S=_[0],I=_[1];function A(z){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(!L.inherit||S)&&I(z,L.force)}return[S,A]}function M_(e){var t=s.useRef();return s.useImperativeHandle(e,function(){var a;return{nativeElement:(a=t.current)===null||a===void 0?void 0:a.nativeElement,focus:function(f){var y;(y=t.current)===null||y===void 0||y.focus(f)},blur:function(){var f;(f=t.current)===null||f===void 0||f.blur()}}}),t}function P_(e,t){return s.useMemo(function(){return e||(t?((0,Pc.ZP)(!1,"`ranges` is deprecated. Please use `presets` instead."),Object.entries(t).map(function(a){var o=(0,Pe.Z)(a,2),f=o[0],y=o[1];return{label:f,value:y}})):[])},[e,t])}function w0(e,t){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,o=s.useRef(t);o.current=t,(0,yl.o)(function(){if(e)o.current(e);else{var f=(0,He.Z)(function(){o.current(e)},a);return function(){He.Z.cancel(f)}}},[e])}function py(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=s.useState(0),f=(0,Pe.Z)(o,2),y=f[0],_=f[1],S=s.useState(!1),I=(0,Pe.Z)(S,2),A=I[0],z=I[1],L=s.useRef([]),F=s.useRef(null),Z=s.useRef(null),k=function(ie){F.current=ie},W=function(ie){return F.current===ie},H=function(ie){z(ie)},X=function(ie){return ie&&(Z.current=ie),Z.current},Q=function(ie){var ne=L.current,ae=new Set(ne.filter(function(fe){return ie[fe]||t[fe]})),ue=ne[ne.length-1]===0?1:0;return ae.size>=2||e[ue]?null:ue};return w0(A||a,function(){A||(L.current=[],k(null))}),s.useEffect(function(){A&&L.current.push(y)},[A,y]),[A,H,X,y,_,Q,L.current,k,W]}function O_(e,t,a,o,f,y){var _=a[a.length-1],S=function(A,z){var L=(0,Pe.Z)(e,2),F=L[0],Z=L[1],k=(0,K.Z)((0,K.Z)({},z),{},{from:y0(e,a)});return _===1&&t[0]&&F&&!Ac(o,f,F,A,k.type)&&o.isAfter(F,A)||_===0&&t[1]&&Z&&!Ac(o,f,Z,A,k.type)&&o.isAfter(A,Z)?!0:y==null?void 0:y(A,k)};return S}function Gd(e,t,a,o){switch(t){case"date":case"week":return e.addMonth(a,o);case"month":case"quarter":return e.addYear(a,o);case"year":return e.addYear(a,o*10);case"decade":return e.addYear(a,o*100);default:return a}}var Nh=[];function gy(e,t,a,o,f,y,_,S){var I=arguments.length>8&&arguments[8]!==void 0?arguments[8]:Nh,A=arguments.length>9&&arguments[9]!==void 0?arguments[9]:Nh,z=arguments.length>10&&arguments[10]!==void 0?arguments[10]:Nh,L=arguments.length>11?arguments[11]:void 0,F=arguments.length>12?arguments[12]:void 0,Z=arguments.length>13?arguments[13]:void 0,k=_==="time",W=y||0,H=function(Ae){var Ke=e.getNow();return k&&(Ke=Lm(e,Ke)),I[Ae]||a[Ae]||Ke},X=(0,Pe.Z)(A,2),Q=X[0],re=X[1],ie=(0,Os.C8)(function(){return H(0)},{value:Q}),ne=(0,Pe.Z)(ie,2),ae=ne[0],ue=ne[1],fe=(0,Os.C8)(function(){return H(1)},{value:re}),he=(0,Pe.Z)(fe,2),ve=he[0],ye=he[1],we=s.useMemo(function(){var Fe=[ae,ve][W];return k?Fe:Lm(e,Fe,z[W])},[k,ae,ve,W,e,z]),Se=function(Ae){var Ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"panel",tt=[ue,ye][W];tt(Ae);var vt=[ae,ve];vt[W]=Ae,L&&(!Ac(e,t,ae,vt[0],_)||!Ac(e,t,ve,vt[1],_))&&L(vt,{source:Ke,range:W===1?"end":"start",mode:o})},ze=function(Ae,Ke){if(S){var tt={date:"month",week:"month",month:"year",quarter:"year"},vt=tt[_];if(vt&&!Ac(e,t,Ae,Ke,vt))return Gd(e,_,Ke,-1);if(_==="year"&&Ae){var bt=Math.floor(e.getYear(Ae)/10),lt=Math.floor(e.getYear(Ke)/10);if(bt!==lt)return Gd(e,_,Ke,-1)}}return Ke},Te=s.useRef(null);return(0,yl.Z)(function(){if(f&&!I[W]){var Fe=k?null:e.getNow();if(Te.current!==null&&Te.current!==W?Fe=[ae,ve][W^1]:a[W]?Fe=W===0?a[0]:ze(a[0],a[1]):a[W^1]&&(Fe=a[W^1]),Fe){F&&e.isAfter(F,Fe)&&(Fe=F);var Ae=S?Gd(e,_,Fe,1):Fe;Z&&e.isAfter(Ae,Z)&&(Fe=S?Gd(e,_,Z,-1):Z),Se(Fe,"reset")}}},[f,W,a[W]]),s.useEffect(function(){f?Te.current=W:Te.current=null},[f,W]),(0,yl.Z)(function(){f&&I&&I[W]&&Se(I[W],"reset")},[f,W]),[we,Se]}function Nm(e,t){var a=s.useRef(e),o=s.useState({}),f=(0,Pe.Z)(o,2),y=f[1],_=function(A){return A&&t!==void 0?t:a.current},S=function(A){a.current=A,y({})};return[_,S,_(!0)]}var R_=[];function vy(e,t,a){var o=function(_){return _.map(function(S){return pc(S,{generateConfig:e,locale:t,format:a[0]})})},f=function(_,S){for(var I=Math.max(_.length,S.length),A=-1,z=0;z<I;z+=1){var L=_[z]||null,F=S[z]||null;if(L!==F&&!Yp(e,L,F)){A=z;break}}return[A<0,A!==0]};return[o,f]}function Du(e,t){return(0,Ie.Z)(e).sort(function(a,o){return t.isAfter(a,o)?1:-1})}function yy(e){var t=Nm(e),a=(0,Pe.Z)(t,2),o=a[0],f=a[1],y=(0,Os.zX)(function(){f(e)});return s.useEffect(function(){y()},[e]),[o,f]}function Bh(e,t,a,o,f,y,_,S,I){var A=(0,Os.C8)(y,{value:_}),z=(0,Pe.Z)(A,2),L=z[0],F=z[1],Z=L||R_,k=yy(Z),W=(0,Pe.Z)(k,2),H=W[0],X=W[1],Q=vy(e,t,a),re=(0,Pe.Z)(Q,2),ie=re[0],ne=re[1],ae=(0,Os.zX)(function(fe){var he=(0,Ie.Z)(fe);if(o)for(var ve=0;ve<2;ve+=1)he[ve]=he[ve]||null;else f&&(he=Du(he.filter(function(Fe){return Fe}),e));var ye=ne(H(),he),we=(0,Pe.Z)(ye,2),Se=we[0],ze=we[1];if(!Se&&(X(he),S)){var Te=ie(he);S(he,Te,{range:ze?"end":"start"})}}),ue=function(){I&&I(H())};return[Z,F,H,ae,ue]}function Xd(e,t,a,o,f,y,_,S,I,A){var z=e.generateConfig,L=e.locale,F=e.picker,Z=e.onChange,k=e.allowEmpty,W=e.order,H=y.some(function(Se){return Se})?!1:W,X=vy(z,L,_),Q=(0,Pe.Z)(X,2),re=Q[0],ie=Q[1],ne=Nm(t),ae=(0,Pe.Z)(ne,2),ue=ae[0],fe=ae[1],he=(0,Os.zX)(function(){fe(t)});s.useEffect(function(){he()},[t]);var ve=(0,Os.zX)(function(Se){var ze=Se===null,Te=(0,Ie.Z)(Se||ue());if(ze)for(var Fe=Math.max(y.length,Te.length),Ae=0;Ae<Fe;Ae+=1)y[Ae]||(Te[Ae]=null);H&&Te[0]&&Te[1]&&(Te=Du(Te,z)),f(Te);var Ke=Te,tt=(0,Pe.Z)(Ke,2),vt=tt[0],bt=tt[1],lt=!vt,ct=!bt,mt=k?(!lt||k[0])&&(!ct||k[1]):!0,Rt=!W||lt||ct||Ac(z,L,vt,bt,F)||z.isAfter(bt,vt),wt=(y[0]||!vt||!A(vt,{activeIndex:0}))&&(y[1]||!bt||!A(bt,{from:vt,activeIndex:1})),Bt=ze||mt&&Rt&&wt;if(Bt){a(Te);var Ct=ie(Te,t),dn=(0,Pe.Z)(Ct,1),zn=dn[0];Z&&!zn&&Z(ze&&Te.every(function(rn){return!rn})?null:Te,re(Te))}return Bt}),ye=(0,Os.zX)(function(Se,ze){var Te=Xp(ue(),Se,o()[Se]);fe(Te),ze&&ve()}),we=!S&&!I;return w0(!we,function(){we&&(ve(),f(t),he())},2),[ye,ve]}function by(e,t,a,o,f){return t!=="date"&&t!=="time"?!1:a!==void 0?a:o!==void 0?o:!f&&(e==="date"||e==="time")}function $_(e,t,a,o,f,y){var _=e;function S(L,F,Z){var k=y[L](_),W=Z.find(function(re){return re.value===k});if(!W||W.disabled){var H=Z.filter(function(re){return!re.disabled}),X=(0,Ie.Z)(H).reverse(),Q=X.find(function(re){return re.value<=k})||H[0];Q&&(k=Q.value,_=y[F](_,k))}return k}var I=S("getHour","setHour",t()),A=S("getMinute","setMinute",a(I)),z=S("getSecond","setSecond",o(I,A));return S("getMillisecond","setMillisecond",f(I,A,z)),_}function Fh(){return[]}function tg(e,t){for(var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],y=arguments.length>5&&arguments[5]!==void 0?arguments[5]:2,_=[],S=a>=1?a|0:1,I=e;I<=t;I+=S){var A=f.includes(I);(!A||!o)&&_.push({label:sy(I,y),value:I,disabled:A})}return _}function Bm(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,o=t||{},f=o.use12Hours,y=o.hourStep,_=y===void 0?1:y,S=o.minuteStep,I=S===void 0?1:S,A=o.secondStep,z=A===void 0?1:A,L=o.millisecondStep,F=L===void 0?100:L,Z=o.hideDisabledOptions,k=o.disabledTime,W=o.disabledHours,H=o.disabledMinutes,X=o.disabledSeconds,Q=s.useMemo(function(){return a||e.getNow()},[a,e]);if(0)var re,ie,ne;var ae=s.useCallback(function(bt){var lt=(k==null?void 0:k(bt))||{};return[lt.disabledHours||W||Fh,lt.disabledMinutes||H||Fh,lt.disabledSeconds||X||Fh,lt.disabledMilliseconds||Fh]},[k,W,H,X]),ue=s.useMemo(function(){return ae(Q)},[Q,ae]),fe=(0,Pe.Z)(ue,4),he=fe[0],ve=fe[1],ye=fe[2],we=fe[3],Se=s.useCallback(function(bt,lt,ct,mt){var Rt=tg(0,23,_,Z,bt()),wt=f?Rt.map(function(zn){return(0,K.Z)((0,K.Z)({},zn),{},{label:sy(zn.value%12||12,2)})}):Rt,Bt=function(rn){return tg(0,59,I,Z,lt(rn))},Ct=function(rn,Cn){return tg(0,59,z,Z,ct(rn,Cn))},dn=function(rn,Cn,Vt){return tg(0,999,F,Z,mt(rn,Cn,Vt),3)};return[wt,Bt,Ct,dn]},[Z,_,f,F,I,z]),ze=s.useMemo(function(){return Se(he,ve,ye,we)},[Se,he,ve,ye,we]),Te=(0,Pe.Z)(ze,4),Fe=Te[0],Ae=Te[1],Ke=Te[2],tt=Te[3],vt=function(lt,ct){var mt=function(){return Fe},Rt=Ae,wt=Ke,Bt=tt;if(ct){var Ct=ae(ct),dn=(0,Pe.Z)(Ct,4),zn=dn[0],rn=dn[1],Cn=dn[2],Vt=dn[3],At=Se(zn,rn,Cn,Vt),$n=(0,Pe.Z)(At,4),yn=$n[0],Ir=$n[1],cr=$n[2],Kn=$n[3];mt=function(){return yn},Rt=Ir,wt=cr,Bt=Kn}var qn=$_(lt,mt,Rt,wt,Bt,e);return qn};return[vt,Fe,Ae,Ke,tt]}function E0(e){var t=e.mode,a=e.internalMode,o=e.renderExtraFooter,f=e.showNow,y=e.showTime,_=e.onSubmit,S=e.onNow,I=e.invalid,A=e.needConfirm,z=e.generateConfig,L=e.disabledDate,F=s.useContext(Qu),Z=F.prefixCls,k=F.locale,W=F.button,H=W===void 0?"button":W,X=z.getNow(),Q=Bm(z,y,X),re=(0,Pe.Z)(Q,1),ie=re[0],ne=o==null?void 0:o(t),ae=L(X,{type:t}),ue=function(){if(!ae){var ze=ie(X);S(ze)}},fe="".concat(Z,"-now"),he="".concat(fe,"-btn"),ve=f&&s.createElement("li",{className:fe},s.createElement("a",{className:J()(he,ae&&"".concat(he,"-disabled")),"aria-disabled":ae,onClick:ue},a==="date"?k.today:k.now)),ye=A&&s.createElement("li",{className:"".concat(Z,"-ok")},s.createElement(H,{disabled:I,onClick:_},k.ok)),we=(ve||ye)&&s.createElement("ul",{className:"".concat(Z,"-ranges")},ve,ye);return!ne&&!we?null:s.createElement("div",{className:"".concat(Z,"-footer")},ne&&s.createElement("div",{className:"".concat(Z,"-footer-extra")},ne),we)}function A_(e,t,a){function o(f,y){var _=f.findIndex(function(I){return Ac(e,t,I,y,a)});if(_===-1)return[].concat((0,Ie.Z)(f),[y]);var S=(0,Ie.Z)(f);return S.splice(_,1),S}return o}var kh=s.createContext(null);function I0(){return s.useContext(kh)}function ed(e,t){var a=e.prefixCls,o=e.generateConfig,f=e.locale,y=e.disabledDate,_=e.minDate,S=e.maxDate,I=e.cellRender,A=e.hoverValue,z=e.hoverRangeValue,L=e.onHover,F=e.values,Z=e.pickerValue,k=e.onSelect,W=e.prevIcon,H=e.nextIcon,X=e.superPrevIcon,Q=e.superNextIcon,re=o.getNow(),ie={now:re,values:F,pickerValue:Z,prefixCls:a,disabledDate:y,minDate:_,maxDate:S,cellRender:I,hoverValue:A,hoverRangeValue:z,onHover:L,locale:f,generateConfig:o,onSelect:k,panelType:t,prevIcon:W,nextIcon:H,superPrevIcon:X,superNextIcon:Q};return[ie,re]}var wd=s.createContext({});function ng(e){for(var t=e.rowNum,a=e.colNum,o=e.baseDate,f=e.getCellDate,y=e.prefixColumn,_=e.rowClassName,S=e.titleFormat,I=e.getCellText,A=e.getCellClassName,z=e.headerCells,L=e.cellSelection,F=L===void 0?!0:L,Z=e.disabledDate,k=I0(),W=k.prefixCls,H=k.panelType,X=k.now,Q=k.disabledDate,re=k.cellRender,ie=k.onHover,ne=k.hoverValue,ae=k.hoverRangeValue,ue=k.generateConfig,fe=k.values,he=k.locale,ve=k.onSelect,ye=Z||Q,we="".concat(W,"-cell"),Se=s.useContext(wd),ze=Se.onCellDblClick,Te=function(ct){return fe.some(function(mt){return mt&&Ac(ue,he,ct,mt,H)})},Fe=[],Ae=0;Ae<t;Ae+=1){for(var Ke=[],tt=void 0,vt=function(){var ct=Ae*a+bt,mt=f(o,ct),Rt=ye==null?void 0:ye(mt,{type:H});bt===0&&(tt=mt,y&&Ke.push(y(tt)));var wt=!1,Bt=!1,Ct=!1;if(F&&ae){var dn=(0,Pe.Z)(ae,2),zn=dn[0],rn=dn[1];wt=Qp(ue,zn,rn,mt),Bt=Ac(ue,he,mt,zn,H),Ct=Ac(ue,he,mt,rn,H)}var Cn=S?pc(mt,{locale:he,format:S,generateConfig:ue}):void 0,Vt=s.createElement("div",{className:"".concat(we,"-inner")},I(mt));Ke.push(s.createElement("td",{key:bt,title:Cn,className:J()(we,(0,K.Z)((0,ge.Z)((0,ge.Z)((0,ge.Z)((0,ge.Z)((0,ge.Z)((0,ge.Z)({},"".concat(we,"-disabled"),Rt),"".concat(we,"-hover"),(ne||[]).some(function(At){return Ac(ue,he,mt,At,H)})),"".concat(we,"-in-range"),wt&&!Bt&&!Ct),"".concat(we,"-range-start"),Bt),"".concat(we,"-range-end"),Ct),"".concat(W,"-cell-selected"),!ae&&H!=="week"&&Te(mt)),A(mt))),onClick:function(){Rt||ve(mt)},onDoubleClick:function(){!Rt&&ze&&ze()},onMouseEnter:function(){Rt||ie==null||ie(mt)},onMouseLeave:function(){Rt||ie==null||ie(null)}},re?re(mt,{prefixCls:W,originNode:Vt,today:X,type:H,locale:he}):Vt))},bt=0;bt<a;bt+=1)vt();Fe.push(s.createElement("tr",{key:Ae,className:_==null?void 0:_(tt)},Ke))}return s.createElement("div",{className:"".concat(W,"-body")},s.createElement("table",{className:"".concat(W,"-content")},z&&s.createElement("thead",null,s.createElement("tr",null,z)),s.createElement("tbody",null,Fe)))}var rg={visibility:"hidden"};function _y(e){var t=e.offset,a=e.superOffset,o=e.onChange,f=e.getStart,y=e.getEnd,_=e.children,S=I0(),I=S.prefixCls,A=S.prevIcon,z=A===void 0?"\u2039":A,L=S.nextIcon,F=L===void 0?"\u203A":L,Z=S.superPrevIcon,k=Z===void 0?"\xAB":Z,W=S.superNextIcon,H=W===void 0?"\xBB":W,X=S.minDate,Q=S.maxDate,re=S.generateConfig,ie=S.locale,ne=S.pickerValue,ae=S.panelType,ue="".concat(I,"-header"),fe=s.useContext(wd),he=fe.hidePrev,ve=fe.hideNext,ye=fe.hideHeader,we=s.useMemo(function(){if(!X||!t||!y)return!1;var lt=y(t(-1,ne));return!S0(re,ie,lt,X,ae)},[X,t,ne,y,re,ie,ae]),Se=s.useMemo(function(){if(!X||!a||!y)return!1;var lt=y(a(-1,ne));return!S0(re,ie,lt,X,ae)},[X,a,ne,y,re,ie,ae]),ze=s.useMemo(function(){if(!Q||!t||!f)return!1;var lt=f(t(1,ne));return!S0(re,ie,Q,lt,ae)},[Q,t,ne,f,re,ie,ae]),Te=s.useMemo(function(){if(!Q||!a||!f)return!1;var lt=f(a(1,ne));return!S0(re,ie,Q,lt,ae)},[Q,a,ne,f,re,ie,ae]),Fe=function(ct){t&&o(t(ct,ne))},Ae=function(ct){a&&o(a(ct,ne))};if(ye)return null;var Ke="".concat(ue,"-prev-btn"),tt="".concat(ue,"-next-btn"),vt="".concat(ue,"-super-prev-btn"),bt="".concat(ue,"-super-next-btn");return s.createElement("div",{className:ue},a&&s.createElement("button",{type:"button","aria-label":ie.previousYear,onClick:function(){return Ae(-1)},tabIndex:-1,className:J()(vt,Se&&"".concat(vt,"-disabled")),disabled:Se,style:he?rg:{}},k),t&&s.createElement("button",{type:"button","aria-label":ie.previousMonth,onClick:function(){return Fe(-1)},tabIndex:-1,className:J()(Ke,we&&"".concat(Ke,"-disabled")),disabled:we,style:he?rg:{}},z),s.createElement("div",{className:"".concat(ue,"-view")},_),t&&s.createElement("button",{type:"button","aria-label":ie.nextMonth,onClick:function(){return Fe(1)},tabIndex:-1,className:J()(tt,ze&&"".concat(tt,"-disabled")),disabled:ze,style:ve?rg:{}},F),a&&s.createElement("button",{type:"button","aria-label":ie.nextYear,onClick:function(){return Ae(1)},tabIndex:-1,className:J()(bt,Te&&"".concat(bt,"-disabled")),disabled:Te,style:ve?rg:{}},H))}var Fm=_y;function Df(e){var t=e.prefixCls,a=e.panelName,o=a===void 0?"date":a,f=e.locale,y=e.generateConfig,_=e.pickerValue,S=e.onPickerValueChange,I=e.onModeChange,A=e.mode,z=A===void 0?"date":A,L=e.disabledDate,F=e.onSelect,Z=e.onHover,k=e.showWeek,W="".concat(t,"-").concat(o,"-panel"),H="".concat(t,"-cell"),X=z==="week",Q=ed(e,z),re=(0,Pe.Z)(Q,2),ie=re[0],ne=re[1],ae=y.locale.getWeekFirstDay(f.locale),ue=y.setDate(_,1),fe=w_(f.locale,y,ue),he=y.getMonth(_),ve=k===void 0?X:k,ye=ve?function(lt){var ct=L==null?void 0:L(lt,{type:"week"});return s.createElement("td",{key:"week",className:J()(H,"".concat(H,"-week"),(0,ge.Z)({},"".concat(H,"-disabled"),ct)),onClick:function(){ct||F(lt)},onMouseEnter:function(){ct||Z==null||Z(lt)},onMouseLeave:function(){ct||Z==null||Z(null)}},s.createElement("div",{className:"".concat(H,"-inner")},y.locale.getWeek(f.locale,lt)))}:null,we=[],Se=f.shortWeekDays||(y.locale.getShortWeekDays?y.locale.getShortWeekDays(f.locale):[]);ye&&we.push(s.createElement("th",{key:"empty"},s.createElement("span",{style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},f.week)));for(var ze=0;ze<qp;ze+=1)we.push(s.createElement("th",{key:ze},Se[(ze+ae)%qp]));var Te=function(ct,mt){return y.addDate(ct,mt)},Fe=function(ct){return pc(ct,{locale:f,format:f.cellDateFormat,generateConfig:y})},Ae=function(ct){var mt=(0,ge.Z)((0,ge.Z)({},"".concat(t,"-cell-in-view"),Lh(y,ct,_)),"".concat(t,"-cell-today"),Af(y,ct,ne));return mt},Ke=f.shortMonths||(y.locale.getShortMonths?y.locale.getShortMonths(f.locale):[]),tt=s.createElement("button",{type:"button","aria-label":f.yearSelect,key:"year",onClick:function(){I("year",_)},tabIndex:-1,className:"".concat(t,"-year-btn")},pc(_,{locale:f,format:f.yearFormat,generateConfig:y})),vt=s.createElement("button",{type:"button","aria-label":f.monthSelect,key:"month",onClick:function(){I("month",_)},tabIndex:-1,className:"".concat(t,"-month-btn")},f.monthFormat?pc(_,{locale:f,format:f.monthFormat,generateConfig:y}):Ke[he]),bt=f.monthBeforeYear?[vt,tt]:[tt,vt];return s.createElement(kh.Provider,{value:ie},s.createElement("div",{className:J()(W,k&&"".concat(W,"-show-week"))},s.createElement(Fm,{offset:function(ct){return y.addMonth(_,ct)},superOffset:function(ct){return y.addYear(_,ct)},onChange:S,getStart:function(ct){return y.setDate(ct,1)},getEnd:function(ct){var mt=y.setDate(ct,1);return mt=y.addMonth(mt,1),y.addDate(mt,-1)}},bt),s.createElement(ng,(0,Ue.Z)({titleFormat:f.fieldDateFormat},e,{colNum:qp,rowNum:6,baseDate:fe,headerCells:we,getCellDate:Te,getCellText:Fe,getCellClassName:Ae,prefixColumn:ye,cellSelection:!X}))))}var zf=1/3;function D_(e,t){var a=s.useRef(!1),o=s.useRef(null),f=s.useRef(null),y=function(){return a.current},_=function(){He.Z.cancel(o.current),a.current=!1},S=s.useRef(),I=function(){var L=e.current;if(f.current=null,S.current=0,L){var F=L.querySelector('[data-value="'.concat(t,'"]')),Z=L.querySelector("li"),k=function W(){_(),a.current=!0,S.current+=1;var H=L.scrollTop,X=Z.offsetTop,Q=F.offsetTop,re=Q-X;if(Q===0&&F!==Z||!(0,pi.Z)(L)){S.current<=5&&(o.current=(0,He.Z)(W));return}var ie=H+(re-H)*zf,ne=Math.abs(re-ie);if(f.current!==null&&f.current<ne){_();return}if(f.current=ne,ne<=1){L.scrollTop=re,_();return}L.scrollTop=ie,o.current=(0,He.Z)(W)};F&&Z&&k()}},A=(0,Os.zX)(I);return[A,_,y]}var z_=300;function T0(e){return e.map(function(t){var a=t.value,o=t.label,f=t.disabled;return[a,o,f].join(",")}).join(";")}function jh(e){var t=e.units,a=e.value,o=e.optionalValue,f=e.type,y=e.onChange,_=e.onHover,S=e.onDblClick,I=e.changeOnScroll,A=I0(),z=A.prefixCls,L=A.cellRender,F=A.now,Z=A.locale,k="".concat(z,"-time-panel"),W="".concat(z,"-time-panel-cell"),H=s.useRef(null),X=s.useRef(),Q=function(){clearTimeout(X.current)},re=D_(H,a!=null?a:o),ie=(0,Pe.Z)(re,3),ne=ie[0],ae=ie[1],ue=ie[2];(0,yl.Z)(function(){return ne(),Q(),function(){ae(),Q()}},[a,o,T0(t)]);var fe=function(ye){Q();var we=ye.target;!ue()&&I&&(X.current=setTimeout(function(){var Se=H.current,ze=Se.querySelector("li").offsetTop,Te=Array.from(Se.querySelectorAll("li")),Fe=Te.map(function(bt){return bt.offsetTop-ze}),Ae=Fe.map(function(bt,lt){return t[lt].disabled?Number.MAX_SAFE_INTEGER:Math.abs(bt-we.scrollTop)}),Ke=Math.min.apply(Math,(0,Ie.Z)(Ae)),tt=Ae.findIndex(function(bt){return bt===Ke}),vt=t[tt];vt&&!vt.disabled&&y(vt.value)},z_))},he="".concat(k,"-column");return s.createElement("ul",{className:he,ref:H,"data-type":f,onScroll:fe},t.map(function(ve){var ye=ve.label,we=ve.value,Se=ve.disabled,ze=s.createElement("div",{className:"".concat(W,"-inner")},ye);return s.createElement("li",{key:we,className:J()(W,(0,ge.Z)((0,ge.Z)({},"".concat(W,"-selected"),a===we),"".concat(W,"-disabled"),Se)),onClick:function(){Se||y(we)},onDoubleClick:function(){!Se&&S&&S()},onMouseEnter:function(){_(we)},onMouseLeave:function(){_(null)},"data-value":we},L?L(we,{prefixCls:z,originNode:ze,today:F,type:"time",subType:f,locale:Z}):ze)}))}function Lf(e){return e<12}function L_(e){var t=e.showHour,a=e.showMinute,o=e.showSecond,f=e.showMillisecond,y=e.use12Hours,_=e.changeOnScroll,S=I0(),I=S.prefixCls,A=S.values,z=S.generateConfig,L=S.locale,F=S.onSelect,Z=S.onHover,k=Z===void 0?function(){}:Z,W=S.pickerValue,H=(A==null?void 0:A[0])||null,X=s.useContext(wd),Q=X.onCellDblClick,re=Bm(z,e,H),ie=(0,Pe.Z)(re,5),ne=ie[0],ae=ie[1],ue=ie[2],fe=ie[3],he=ie[4],ve=function(ni){var Oi=H&&z[ni](H),ro=W&&z[ni](W);return[Oi,ro]},ye=ve("getHour"),we=(0,Pe.Z)(ye,2),Se=we[0],ze=we[1],Te=ve("getMinute"),Fe=(0,Pe.Z)(Te,2),Ae=Fe[0],Ke=Fe[1],tt=ve("getSecond"),vt=(0,Pe.Z)(tt,2),bt=vt[0],lt=vt[1],ct=ve("getMillisecond"),mt=(0,Pe.Z)(ct,2),Rt=mt[0],wt=mt[1],Bt=Se===null?null:Lf(Se)?"am":"pm",Ct=s.useMemo(function(){return y?Lf(Se)?ae.filter(function(Zn){return Lf(Zn.value)}):ae.filter(function(Zn){return!Lf(Zn.value)}):ae},[Se,ae,y]),dn=function(ni,Oi){var ro,Ko=ni.filter(function(Oa){return!Oa.disabled});return Oi!=null?Oi:Ko==null||(ro=Ko[0])===null||ro===void 0?void 0:ro.value},zn=dn(ae,Se),rn=s.useMemo(function(){return ue(zn)},[ue,zn]),Cn=dn(rn,Ae),Vt=s.useMemo(function(){return fe(zn,Cn)},[fe,zn,Cn]),At=dn(Vt,bt),$n=s.useMemo(function(){return he(zn,Cn,At)},[he,zn,Cn,At]),yn=dn($n,Rt),Ir=s.useMemo(function(){if(!y)return[];var Zn=z.getNow(),ni=z.setHour(Zn,6),Oi=z.setHour(Zn,18),ro=function(Oa,ta){var Is=L.cellMeridiemFormat;return Is?pc(Oa,{generateConfig:z,locale:L,format:Is}):ta};return[{label:ro(ni,"AM"),value:"am",disabled:ae.every(function(Ko){return Ko.disabled||!Lf(Ko.value)})},{label:ro(Oi,"PM"),value:"pm",disabled:ae.every(function(Ko){return Ko.disabled||Lf(Ko.value)})}]},[ae,y,z,L]),cr=function(ni){var Oi=ne(ni);F(Oi)},Kn=s.useMemo(function(){var Zn=H||W||z.getNow(),ni=function(ro){return ro!=null};return ni(Se)?(Zn=z.setHour(Zn,Se),Zn=z.setMinute(Zn,Ae),Zn=z.setSecond(Zn,bt),Zn=z.setMillisecond(Zn,Rt)):ni(ze)?(Zn=z.setHour(Zn,ze),Zn=z.setMinute(Zn,Ke),Zn=z.setSecond(Zn,lt),Zn=z.setMillisecond(Zn,wt)):ni(zn)&&(Zn=z.setHour(Zn,zn),Zn=z.setMinute(Zn,Cn),Zn=z.setSecond(Zn,At),Zn=z.setMillisecond(Zn,yn)),Zn},[H,W,Se,Ae,bt,Rt,zn,Cn,At,yn,ze,Ke,lt,wt,z]),qn=function(ni,Oi){return ni===null?null:z[Oi](Kn,ni)},Pn=function(ni){return qn(ni,"setHour")},Yn=function(ni){return qn(ni,"setMinute")},zr=function(ni){return qn(ni,"setSecond")},si=function(ni){return qn(ni,"setMillisecond")},yi=function(ni){return ni===null?null:ni==="am"&&!Lf(Se)?z.setHour(Kn,Se-12):ni==="pm"&&Lf(Se)?z.setHour(Kn,Se+12):Kn},Di=function(ni){cr(Pn(ni))},Eo=function(ni){cr(Yn(ni))},gi=function(ni){cr(zr(ni))},ai=function(ni){cr(si(ni))},mi=function(ni){cr(yi(ni))},Xi=function(ni){k(Pn(ni))},Pi=function(ni){k(Yn(ni))},Io=function(ni){k(zr(ni))},dr=function(ni){k(si(ni))},er=function(ni){k(yi(ni))},gr={onDblClick:Q,changeOnScroll:_};return s.createElement("div",{className:"".concat(I,"-content")},t&&s.createElement(jh,(0,Ue.Z)({units:Ct,value:Se,optionalValue:ze,type:"hour",onChange:Di,onHover:Xi},gr)),a&&s.createElement(jh,(0,Ue.Z)({units:rn,value:Ae,optionalValue:Ke,type:"minute",onChange:Eo,onHover:Pi},gr)),o&&s.createElement(jh,(0,Ue.Z)({units:Vt,value:bt,optionalValue:lt,type:"second",onChange:gi,onHover:Io},gr)),f&&s.createElement(jh,(0,Ue.Z)({units:$n,value:Rt,optionalValue:wt,type:"millisecond",onChange:ai,onHover:dr},gr)),y&&s.createElement(jh,(0,Ue.Z)({units:Ir,value:Bt,type:"meridiem",onChange:mi,onHover:er},gr)))}function km(e){var t=e.prefixCls,a=e.value,o=e.locale,f=e.generateConfig,y=e.showTime,_=y||{},S=_.format,I="".concat(t,"-time-panel"),A=ed(e,"time"),z=(0,Pe.Z)(A,1),L=z[0];return s.createElement(kh.Provider,{value:L},s.createElement("div",{className:J()(I)},s.createElement(Fm,null,a?pc(a,{locale:o,format:S,generateConfig:f}):"\xA0"),s.createElement(L_,y)))}function N_(e){var t=e.prefixCls,a=e.generateConfig,o=e.showTime,f=e.onSelect,y=e.value,_=e.pickerValue,S=e.onHover,I="".concat(t,"-datetime-panel"),A=Bm(a,o),z=(0,Pe.Z)(A,1),L=z[0],F=function(H){return y?Lm(a,H,y):Lm(a,H,_)},Z=function(H){S==null||S(H&&F(H))},k=function(H){var X=F(H);f(L(X,X))};return s.createElement("div",{className:I},s.createElement(Df,(0,Ue.Z)({},e,{onSelect:k,onHover:Z})),s.createElement(km,e))}function OC(e){var t=e.prefixCls,a=e.locale,o=e.generateConfig,f=e.pickerValue,y=e.disabledDate,_=e.onPickerValueChange,S="".concat(t,"-decade-panel"),I=ed(e,"decade"),A=(0,Pe.Z)(I,1),z=A[0],L=function(ae){var ue=Math.floor(o.getYear(ae)/100)*100;return o.setYear(ae,ue)},F=function(ae){var ue=L(ae);return o.addYear(ue,99)},Z=L(f),k=F(f),W=o.addYear(Z,-10),H=function(ae,ue){return o.addYear(ae,ue*10)},X=function(ae){var ue=a.cellYearFormat,fe=pc(ae,{locale:a,format:ue,generateConfig:o}),he=pc(o.addYear(ae,9),{locale:a,format:ue,generateConfig:o});return"".concat(fe,"-").concat(he)},Q=function(ae){return(0,ge.Z)({},"".concat(t,"-cell-in-view"),dy(o,ae,Z)||dy(o,ae,k)||Qp(o,Z,k,ae))},re=y?function(ne,ae){var ue=o.setDate(ne,1),fe=o.setMonth(ue,0),he=o.setYear(fe,Math.floor(o.getYear(fe)/10)*10),ve=o.addYear(he,10),ye=o.addDate(ve,-1);return y(he,ae)&&y(ye,ae)}:null,ie="".concat(pc(Z,{locale:a,format:a.yearFormat,generateConfig:o}),"-").concat(pc(k,{locale:a,format:a.yearFormat,generateConfig:o}));return s.createElement(kh.Provider,{value:z},s.createElement("div",{className:S},s.createElement(Fm,{superOffset:function(ae){return o.addYear(f,ae*100)},onChange:_,getStart:L,getEnd:F},ie),s.createElement(ng,(0,Ue.Z)({},e,{disabledDate:re,colNum:3,rowNum:4,baseDate:W,getCellDate:H,getCellText:X,getCellClassName:Q}))))}function Nf(e){var t=e.prefixCls,a=e.locale,o=e.generateConfig,f=e.pickerValue,y=e.disabledDate,_=e.onPickerValueChange,S=e.onModeChange,I="".concat(t,"-month-panel"),A=ed(e,"month"),z=(0,Pe.Z)(A,1),L=z[0],F=o.setMonth(f,0),Z=a.shortMonths||(o.locale.getShortMonths?o.locale.getShortMonths(a.locale):[]),k=function(ie,ne){return o.addMonth(ie,ne)},W=function(ie){var ne=o.getMonth(ie);return a.monthFormat?pc(ie,{locale:a,format:a.monthFormat,generateConfig:o}):Z[ne]},H=function(){return(0,ge.Z)({},"".concat(t,"-cell-in-view"),!0)},X=y?function(re,ie){var ne=o.setDate(re,1),ae=o.setMonth(ne,o.getMonth(ne)+1),ue=o.addDate(ae,-1);return y(ne,ie)&&y(ue,ie)}:null,Q=s.createElement("button",{type:"button",key:"year","aria-label":a.yearSelect,onClick:function(){S("year")},tabIndex:-1,className:"".concat(t,"-year-btn")},pc(f,{locale:a,format:a.yearFormat,generateConfig:o}));return s.createElement(kh.Provider,{value:L},s.createElement("div",{className:I},s.createElement(Fm,{superOffset:function(ie){return o.addYear(f,ie)},onChange:_,getStart:function(ie){return o.setMonth(ie,0)},getEnd:function(ie){return o.setMonth(ie,11)}},Q),s.createElement(ng,(0,Ue.Z)({},e,{disabledDate:X,titleFormat:a.fieldMonthFormat,colNum:3,rowNum:4,baseDate:F,getCellDate:k,getCellText:W,getCellClassName:H}))))}function RC(e){var t=e.prefixCls,a=e.locale,o=e.generateConfig,f=e.pickerValue,y=e.onPickerValueChange,_=e.onModeChange,S="".concat(t,"-quarter-panel"),I=ed(e,"quarter"),A=(0,Pe.Z)(I,1),z=A[0],L=o.setMonth(f,0),F=function(X,Q){return o.addMonth(X,Q*3)},Z=function(X){return pc(X,{locale:a,format:a.cellQuarterFormat,generateConfig:o})},k=function(){return(0,ge.Z)({},"".concat(t,"-cell-in-view"),!0)},W=s.createElement("button",{type:"button",key:"year","aria-label":a.yearSelect,onClick:function(){_("year")},tabIndex:-1,className:"".concat(t,"-year-btn")},pc(f,{locale:a,format:a.yearFormat,generateConfig:o}));return s.createElement(kh.Provider,{value:z},s.createElement("div",{className:S},s.createElement(Fm,{superOffset:function(X){return o.addYear(f,X)},onChange:y,getStart:function(X){return o.setMonth(X,0)},getEnd:function(X){return o.setMonth(X,11)}},W),s.createElement(ng,(0,Ue.Z)({},e,{titleFormat:a.fieldQuarterFormat,colNum:4,rowNum:1,baseDate:L,getCellDate:F,getCellText:Z,getCellClassName:k}))))}function ig(e){var t=e.prefixCls,a=e.generateConfig,o=e.locale,f=e.value,y=e.hoverValue,_=e.hoverRangeValue,S=o.locale,I="".concat(t,"-week-panel-row"),A=function(L){var F={};if(_){var Z=(0,Pe.Z)(_,2),k=Z[0],W=Z[1],H=Jp(a,S,k,L),X=Jp(a,S,W,L);F["".concat(I,"-range-start")]=H,F["".concat(I,"-range-end")]=X,F["".concat(I,"-range-hover")]=!H&&!X&&Qp(a,k,W,L)}return y&&(F["".concat(I,"-hover")]=y.some(function(Q){return Jp(a,S,L,Q)})),J()(I,(0,ge.Z)({},"".concat(I,"-selected"),!_&&Jp(a,S,f,L)),F)};return s.createElement(Df,(0,Ue.Z)({},e,{mode:"week",panelName:"week",rowClassName:A}))}function og(e){var t=e.prefixCls,a=e.locale,o=e.generateConfig,f=e.pickerValue,y=e.disabledDate,_=e.onPickerValueChange,S=e.onModeChange,I="".concat(t,"-year-panel"),A=ed(e,"year"),z=(0,Pe.Z)(A,1),L=z[0],F=function(ue){var fe=Math.floor(o.getYear(ue)/10)*10;return o.setYear(ue,fe)},Z=function(ue){var fe=F(ue);return o.addYear(fe,9)},k=F(f),W=Z(f),H=o.addYear(k,-1),X=function(ue,fe){return o.addYear(ue,fe)},Q=function(ue){return pc(ue,{locale:a,format:a.cellYearFormat,generateConfig:o})},re=function(ue){return(0,ge.Z)({},"".concat(t,"-cell-in-view"),zh(o,ue,k)||zh(o,ue,W)||Qp(o,k,W,ue))},ie=y?function(ae,ue){var fe=o.setMonth(ae,0),he=o.setDate(fe,1),ve=o.addYear(he,1),ye=o.addDate(ve,-1);return y(he,ue)&&y(ye,ue)}:null,ne=s.createElement("button",{type:"button",key:"decade","aria-label":a.decadeSelect,onClick:function(){S("decade")},tabIndex:-1,className:"".concat(t,"-decade-btn")},pc(k,{locale:a,format:a.yearFormat,generateConfig:o}),"-",pc(W,{locale:a,format:a.yearFormat,generateConfig:o}));return s.createElement(kh.Provider,{value:L},s.createElement("div",{className:I},s.createElement(Fm,{superOffset:function(ue){return o.addYear(f,ue*10)},onChange:_,getStart:F,getEnd:Z},ne),s.createElement(ng,(0,Ue.Z)({},e,{disabledDate:ie,titleFormat:a.fieldYearFormat,colNum:3,rowNum:4,baseDate:H,getCellDate:X,getCellText:Q,getCellClassName:re}))))}var ag={date:Df,datetime:N_,week:ig,month:Nf,quarter:RC,year:og,decade:OC,time:km};function sg(e,t){var a,o=e.locale,f=e.generateConfig,y=e.direction,_=e.prefixCls,S=e.tabIndex,I=S===void 0?0:S,A=e.multiple,z=e.defaultValue,L=e.value,F=e.onChange,Z=e.onSelect,k=e.defaultPickerValue,W=e.pickerValue,H=e.onPickerValueChange,X=e.mode,Q=e.onPanelChange,re=e.picker,ie=re===void 0?"date":re,ne=e.showTime,ae=e.hoverValue,ue=e.hoverRangeValue,fe=e.cellRender,he=e.dateRender,ve=e.monthCellRender,ye=e.components,we=ye===void 0?{}:ye,Se=e.hideHeader,ze=((a=s.useContext(Qu))===null||a===void 0?void 0:a.prefixCls)||_||"rc-picker",Te=s.useRef();s.useImperativeHandle(t,function(){return{nativeElement:Te.current}});var Fe=S_(e),Ae=(0,Pe.Z)(Fe,4),Ke=Ae[0],tt=Ae[1],vt=Ae[2],bt=Ae[3],lt=zm(o,tt),ct=ie==="date"&&ne?"datetime":ie,mt=s.useMemo(function(){return uy(ct,vt,bt,Ke,lt)},[ct,vt,bt,Ke,lt]),Rt=f.getNow(),wt=(0,Os.C8)(ie,{value:X,postState:function(er){return er||"date"}}),Bt=(0,Pe.Z)(wt,2),Ct=Bt[0],dn=Bt[1],zn=Ct==="date"&&mt?"datetime":Ct,rn=A_(f,o,ct),Cn=(0,Os.C8)(z,{value:L}),Vt=(0,Pe.Z)(Cn,2),At=Vt[0],$n=Vt[1],yn=s.useMemo(function(){var dr=Rf(At).filter(function(er){return er});return A?dr:dr.slice(0,1)},[At,A]),Ir=(0,Os.zX)(function(dr){$n(dr),F&&(dr===null||yn.length!==dr.length||yn.some(function(er,gr){return!Ac(f,o,er,dr[gr],ct)}))&&(F==null||F(A?dr:dr[0]))}),cr=(0,Os.zX)(function(dr){if(Z==null||Z(dr),Ct===ie){var er=A?rn(yn,dr):[dr];Ir(er)}}),Kn=(0,Os.C8)(k||yn[0]||Rt,{value:W}),qn=(0,Pe.Z)(Kn,2),Pn=qn[0],Yn=qn[1];s.useEffect(function(){yn[0]&&!W&&Yn(yn[0])},[yn[0]]);var zr=function(er,gr){Q==null||Q(er||W,gr||Ct)},si=function(er){var gr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;Yn(er),H==null||H(er),gr&&zr(er)},yi=function(er,gr){dn(er),gr&&si(gr),zr(gr,er)},Di=function(er){if(cr(er),si(er),Ct!==ie){var gr=["decade","year"],Zn=[].concat(gr,["month"]),ni={quarter:[].concat(gr,["quarter"]),week:[].concat((0,Ie.Z)(Zn),["week"]),date:[].concat((0,Ie.Z)(Zn),["date"])},Oi=ni[ie]||Zn,ro=Oi.indexOf(Ct),Ko=Oi[ro+1];Ko&&yi(Ko,er)}},Eo=s.useMemo(function(){var dr,er;if(Array.isArray(ue)){var gr=(0,Pe.Z)(ue,2);dr=gr[0],er=gr[1]}else dr=ue;return!dr&&!er?null:(dr=dr||er,er=er||dr,f.isAfter(dr,er)?[er,dr]:[dr,er])},[ue,f]),gi=Dm(fe,he,ve),ai=we[zn]||ag[zn]||Df,mi=s.useContext(wd),Xi=s.useMemo(function(){return(0,K.Z)((0,K.Z)({},mi),{},{hideHeader:Se})},[mi,Se]),Pi="".concat(ze,"-panel"),Io=tc(e,["showWeek","prevIcon","nextIcon","superPrevIcon","superNextIcon","disabledDate","minDate","maxDate","onHover"]);return s.createElement(wd.Provider,{value:Xi},s.createElement("div",{ref:Te,tabIndex:I,className:J()(Pi,(0,ge.Z)({},"".concat(Pi,"-rtl"),y==="rtl"))},s.createElement(ai,(0,Ue.Z)({},Io,{showTime:mt,prefixCls:ze,locale:lt,generateConfig:f,onModeChange:yi,pickerValue:Pn,onPickerValueChange:function(er){si(er,!0)},value:yn[0],onSelect:Di,values:yn,cellRender:gi,hoverRangeValue:Eo,hoverValue:ae}))))}var M0=s.memo(s.forwardRef(sg)),P0=M0;function $C(e){var t=e.picker,a=e.multiplePanel,o=e.pickerValue,f=e.onPickerValueChange,y=e.needConfirm,_=e.onSubmit,S=e.range,I=e.hoverValue,A=s.useContext(Qu),z=A.prefixCls,L=A.generateConfig,F=s.useCallback(function(Q,re){return Gd(L,t,Q,re)},[L,t]),Z=s.useMemo(function(){return F(o,1)},[o,F]),k=function(re){f(F(re,-1))},W={onCellDblClick:function(){y&&_()}},H=t==="time",X=(0,K.Z)((0,K.Z)({},e),{},{hoverValue:null,hoverRangeValue:null,hideHeader:H});return S?X.hoverRangeValue=I:X.hoverValue=I,a?s.createElement("div",{className:"".concat(z,"-panels")},s.createElement(wd.Provider,{value:(0,K.Z)((0,K.Z)({},W),{},{hideNext:!0})},s.createElement(P0,X)),s.createElement(wd.Provider,{value:(0,K.Z)((0,K.Z)({},W),{},{hidePrev:!0})},s.createElement(P0,(0,Ue.Z)({},X,{pickerValue:Z,onPickerValueChange:k})))):s.createElement(wd.Provider,{value:(0,K.Z)({},W)},s.createElement(P0,X))}function Zh(e){return typeof e=="function"?e():e}function O0(e){var t=e.prefixCls,a=e.presets,o=e.onClick,f=e.onHover;return a.length?s.createElement("div",{className:"".concat(t,"-presets")},s.createElement("ul",null,a.map(function(y,_){var S=y.label,I=y.value;return s.createElement("li",{key:_,onClick:function(){o(Zh(I))},onMouseEnter:function(){f(Zh(I))},onMouseLeave:function(){f(null)}},S)}))):null}function B_(e){var t=e.panelRender,a=e.internalMode,o=e.picker,f=e.showNow,y=e.range,_=e.multiple,S=e.activeInfo,I=S===void 0?[0,0,0]:S,A=e.presets,z=e.onPresetHover,L=e.onPresetSubmit,F=e.onFocus,Z=e.onBlur,k=e.onPanelMouseDown,W=e.direction,H=e.value,X=e.onSelect,Q=e.isInvalid,re=e.defaultOpenValue,ie=e.onOk,ne=e.onSubmit,ae=s.useContext(Qu),ue=ae.prefixCls,fe="".concat(ue,"-panel"),he=W==="rtl",ve=s.useRef(null),ye=s.useRef(null),we=s.useState(0),Se=(0,Pe.Z)(we,2),ze=Se[0],Te=Se[1],Fe=s.useState(0),Ae=(0,Pe.Z)(Fe,2),Ke=Ae[0],tt=Ae[1],vt=s.useState(0),bt=(0,Pe.Z)(vt,2),lt=bt[0],ct=bt[1],mt=function(Di){Di.width&&Te(Di.width)},Rt=(0,Pe.Z)(I,3),wt=Rt[0],Bt=Rt[1],Ct=Rt[2],dn=s.useState(0),zn=(0,Pe.Z)(dn,2),rn=zn[0],Cn=zn[1];s.useEffect(function(){Cn(10)},[wt]),s.useEffect(function(){if(y&&ye.current){var yi,Di=((yi=ve.current)===null||yi===void 0?void 0:yi.offsetWidth)||0,Eo=ye.current.getBoundingClientRect();if(!Eo.height||Eo.right<0){Cn(function(Xi){return Math.max(0,Xi-1)});return}var gi=(he?Bt-Di:wt)-Eo.left;if(ct(gi),ze&&ze<Ct){var ai=he?Eo.right-(Bt-Di+ze):wt+Di-Eo.left-ze,mi=Math.max(0,ai);tt(mi)}else tt(0)}},[rn,he,ze,wt,Bt,Ct,y]);function Vt(yi){return yi.filter(function(Di){return Di})}var At=s.useMemo(function(){return Vt(Rf(H))},[H]),$n=o==="time"&&!At.length,yn=s.useMemo(function(){return $n?Vt([re]):At},[$n,At,re]),Ir=$n?re:At,cr=s.useMemo(function(){return yn.length?yn.some(function(yi){return Q(yi)}):!0},[yn,Q]),Kn=function(){$n&&X(re),ie(),ne()},qn=s.createElement("div",{className:"".concat(ue,"-panel-layout")},s.createElement(O0,{prefixCls:ue,presets:A,onClick:L,onHover:z}),s.createElement("div",null,s.createElement($C,(0,Ue.Z)({},e,{value:Ir})),s.createElement(E0,(0,Ue.Z)({},e,{showNow:_?!1:f,invalid:cr,onSubmit:Kn}))));t&&(qn=t(qn));var Pn="".concat(fe,"-container"),Yn="marginLeft",zr="marginRight",si=s.createElement("div",{onMouseDown:k,tabIndex:-1,className:J()(Pn,"".concat(ue,"-").concat(a,"-panel-container")),style:(0,ge.Z)((0,ge.Z)({},he?zr:Yn,Ke),he?Yn:zr,"auto"),onFocus:F,onBlur:Z},qn);return y&&(si=s.createElement("div",{onMouseDown:k,ref:ye,className:J()("".concat(ue,"-range-wrapper"),"".concat(ue,"-").concat(o,"-range-wrapper"))},s.createElement("div",{ref:ve,className:"".concat(ue,"-range-arrow"),style:{left:lt}}),s.createElement(u.Z,{onResize:mt},si))),si}function xy(e,t){var a=e.format,o=e.maskFormat,f=e.generateConfig,y=e.locale,_=e.preserveInvalidOnBlur,S=e.inputReadOnly,I=e.required,A=e["aria-required"],z=e.onSubmit,L=e.onFocus,F=e.onBlur,Z=e.onInputChange,k=e.onInvalid,W=e.open,H=e.onOpenChange,X=e.onKeyDown,Q=e.onChange,re=e.activeHelp,ie=e.name,ne=e.autoComplete,ae=e.id,ue=e.value,fe=e.invalid,he=e.placeholder,ve=e.disabled,ye=e.activeIndex,we=e.allHelp,Se=e.picker,ze=function(lt,ct){var mt=f.locale.parse(y.locale,lt,[ct]);return mt&&f.isValidate(mt)?mt:null},Te=a[0],Fe=s.useCallback(function(bt){return pc(bt,{locale:y,format:Te,generateConfig:f})},[y,f,Te]),Ae=s.useMemo(function(){return ue.map(Fe)},[ue,Fe]),Ke=s.useMemo(function(){var bt=Se==="time"?8:10,lt=typeof Te=="function"?Te(f.getNow()).length:Te.length;return Math.max(bt,lt)+2},[Te,Se,f]),tt=function(lt){for(var ct=0;ct<a.length;ct+=1){var mt=a[ct];if(typeof mt=="string"){var Rt=ze(lt,mt);if(Rt)return Rt}}return!1},vt=function(lt){function ct(wt){return lt!==void 0?wt[lt]:wt}var mt=(0,pt.Z)(e,{aria:!0,data:!0}),Rt=(0,K.Z)((0,K.Z)({},mt),{},{format:o,validateFormat:function(Bt){return!!tt(Bt)},preserveInvalidOnBlur:_,readOnly:S,required:I,"aria-required":A,name:ie,autoComplete:ne,size:Ke,id:ct(ae),value:ct(Ae)||"",invalid:ct(fe),placeholder:ct(he),active:ye===lt,helped:we||re&&ye===lt,disabled:ct(ve),onFocus:function(Bt){L(Bt,lt)},onBlur:function(Bt){F(Bt,lt)},onSubmit:z,onChange:function(Bt){Z();var Ct=tt(Bt);if(Ct){k(!1,lt),Q(Ct,lt);return}k(!!Bt,lt)},onHelp:function(){H(!0,{index:lt})},onKeyDown:function(Bt){var Ct=!1;if(X==null||X(Bt,function(){Ct=!0}),!Bt.defaultPrevented&&!Ct)switch(Bt.key){case"Escape":H(!1,{index:lt});break;case"Enter":W||H(!0);break}}},t==null?void 0:t({valueTexts:Ae}));return Object.keys(Rt).forEach(function(wt){Rt[wt]===void 0&&delete Rt[wt]}),Rt};return[vt,Fe]}var F_=["onMouseEnter","onMouseLeave"];function k_(e){return s.useMemo(function(){return tc(e,F_)},[e])}var j_=["icon","type"],AC=["onClear"];function lg(e){var t=e.icon,a=e.type,o=(0,de.Z)(e,j_),f=s.useContext(Qu),y=f.prefixCls;return t?s.createElement("span",(0,Ue.Z)({className:"".concat(y,"-").concat(a)},o),t):null}function Cy(e){var t=e.onClear,a=(0,de.Z)(e,AC);return s.createElement(lg,(0,Ue.Z)({},a,{type:"clear",role:"button",onMouseDown:function(f){f.preventDefault()},onClick:function(f){f.stopPropagation(),t()}}))}var R0=["YYYY","MM","DD","HH","mm","ss","SSS"],Z_="\u9867",DC=function(){function e(t){(0,Fn.Z)(this,e),(0,ge.Z)(this,"format",void 0),(0,ge.Z)(this,"maskFormat",void 0),(0,ge.Z)(this,"cells",void 0),(0,ge.Z)(this,"maskCells",void 0),this.format=t;var a=R0.map(function(S){return"(".concat(S,")")}).join("|"),o=new RegExp(a,"g");this.maskFormat=t.replace(o,function(S){return Z_.repeat(S.length)});var f=new RegExp("(".concat(R0.join("|"),")")),y=(t.split(f)||[]).filter(function(S){return S}),_=0;this.cells=y.map(function(S){var I=R0.includes(S),A=_,z=_+S.length;return _=z,{text:S,mask:I,start:A,end:z}}),this.maskCells=this.cells.filter(function(S){return S.mask})}return(0,un.Z)(e,[{key:"getSelection",value:function(a){var o=this.maskCells[a]||{},f=o.start,y=o.end;return[f||0,y||0]}},{key:"match",value:function(a){for(var o=0;o<this.maskFormat.length;o+=1){var f=this.maskFormat[o],y=a[o];if(!y||f!==Z_&&f!==y)return!1}return!0}},{key:"size",value:function(){return this.maskCells.length}},{key:"getMaskCellIndex",value:function(a){for(var o=Number.MAX_SAFE_INTEGER,f=0,y=0;y<this.maskCells.length;y+=1){var _=this.maskCells[y],S=_.start,I=_.end;if(a>=S&&a<=I)return y;var A=Math.min(Math.abs(a-S),Math.abs(a-I));A<o&&(o=A,f=y)}return f}}]),e}();function $0(e){var t={YYYY:[0,9999,new Date().getFullYear()],MM:[1,12],DD:[1,31],HH:[0,23],mm:[0,59],ss:[0,59],SSS:[0,999]};return t[e]}var A0=["active","showActiveCls","suffixIcon","format","validateFormat","onChange","onInput","helped","onHelp","onSubmit","onKeyDown","preserveInvalidOnBlur","invalid","clearIcon"],D0=s.forwardRef(function(e,t){var a=e.active,o=e.showActiveCls,f=o===void 0?!0:o,y=e.suffixIcon,_=e.format,S=e.validateFormat,I=e.onChange,A=e.onInput,z=e.helped,L=e.onHelp,F=e.onSubmit,Z=e.onKeyDown,k=e.preserveInvalidOnBlur,W=k===void 0?!1:k,H=e.invalid,X=e.clearIcon,Q=(0,de.Z)(e,A0),re=e.value,ie=e.onFocus,ne=e.onBlur,ae=e.onMouseUp,ue=s.useContext(Qu),fe=ue.prefixCls,he=ue.input,ve=he===void 0?"input":he,ye="".concat(fe,"-input"),we=s.useState(!1),Se=(0,Pe.Z)(we,2),ze=Se[0],Te=Se[1],Fe=s.useState(re),Ae=(0,Pe.Z)(Fe,2),Ke=Ae[0],tt=Ae[1],vt=s.useState(""),bt=(0,Pe.Z)(vt,2),lt=bt[0],ct=bt[1],mt=s.useState(null),Rt=(0,Pe.Z)(mt,2),wt=Rt[0],Bt=Rt[1],Ct=s.useState(null),dn=(0,Pe.Z)(Ct,2),zn=dn[0],rn=dn[1],Cn=Ke||"";s.useEffect(function(){tt(re)},[re]);var Vt=s.useRef(),At=s.useRef();s.useImperativeHandle(t,function(){return{nativeElement:Vt.current,inputElement:At.current,focus:function(er){At.current.focus(er)},blur:function(){At.current.blur()}}});var $n=s.useMemo(function(){return new DC(_||"")},[_]),yn=s.useMemo(function(){return z?[0,0]:$n.getSelection(wt)},[$n,wt,z]),Ir=(0,Pe.Z)(yn,2),cr=Ir[0],Kn=Ir[1],qn=function(er){er&&er!==_&&er!==re&&L()},Pn=(0,Os.zX)(function(dr){S(dr)&&I(dr),tt(dr),qn(dr)}),Yn=function(er){if(!_){var gr=er.target.value;qn(gr),tt(gr),I(gr)}},zr=function(er){var gr=er.clipboardData.getData("text");S(gr)&&Pn(gr)},si=s.useRef(!1),yi=function(){si.current=!0},Di=function(er){var gr=er.target,Zn=gr.selectionStart,ni=$n.getMaskCellIndex(Zn);Bt(ni),rn({}),ae==null||ae(er),si.current=!1},Eo=function(er){Te(!0),Bt(0),ct(""),ie(er)},gi=function(er){ne(er)},ai=function(er){Te(!1),gi(er)};w0(a,function(){!a&&!W&&tt(re)});var mi=function(er){er.key==="Enter"&&S(Cn)&&F(),Z==null||Z(er)},Xi=function(er){mi(er);var gr=er.key,Zn=null,ni=null,Oi=Kn-cr,ro=_.slice(cr,Kn),Ko=function(Fa){Bt(function(Ua){var pa=Ua+Fa;return pa=Math.max(pa,0),pa=Math.min(pa,$n.size()-1),pa})},Oa=function(Fa){var Ua=$0(ro),pa=(0,Pe.Z)(Ua,3),rs=pa[0],Ls=pa[1],Co=pa[2],Go=Cn.slice(cr,Kn),Ta=Number(Go);if(isNaN(Ta))return String(Co||(Fa>0?rs:Ls));var Wa=Ta+Fa,ds=Ls-rs+1;return String(rs+(ds+Wa-rs)%ds)};switch(gr){case"Backspace":case"Delete":Zn="",ni=ro;break;case"ArrowLeft":Zn="",Ko(-1);break;case"ArrowRight":Zn="",Ko(1);break;case"ArrowUp":Zn="",ni=Oa(1);break;case"ArrowDown":Zn="",ni=Oa(-1);break;default:isNaN(Number(gr))||(Zn=lt+gr,ni=Zn);break}if(Zn!==null&&(ct(Zn),Zn.length>=Oi&&(Ko(1),ct(""))),ni!==null){var ta=Cn.slice(0,cr)+sy(ni,Oi)+Cn.slice(Kn);Pn(ta.slice(0,_.length))}rn({})},Pi=s.useRef();(0,yl.Z)(function(){if(!(!ze||!_||si.current)){if(!$n.match(Cn)){Pn(_);return}return At.current.setSelectionRange(cr,Kn),Pi.current=(0,He.Z)(function(){At.current.setSelectionRange(cr,Kn)}),function(){He.Z.cancel(Pi.current)}}},[$n,_,ze,Cn,wt,cr,Kn,zn,Pn]);var Io=_?{onFocus:Eo,onBlur:ai,onKeyDown:Xi,onMouseDown:yi,onMouseUp:Di,onPaste:zr}:{};return s.createElement("div",{ref:Vt,className:J()(ye,(0,ge.Z)((0,ge.Z)({},"".concat(ye,"-active"),a&&f),"".concat(ye,"-placeholder"),z))},s.createElement(ve,(0,Ue.Z)({ref:At,"aria-invalid":H,autoComplete:"off"},Q,{onKeyDown:mi,onBlur:gi},Io,{value:Cn,onChange:Yn})),s.createElement(lg,{type:"suffix",icon:y}),X)}),jm=D0,zC=["id","prefix","clearIcon","suffixIcon","separator","activeIndex","activeHelp","allHelp","focused","onFocus","onBlur","onKeyDown","locale","generateConfig","placeholder","className","style","onClick","onClear","value","onChange","onSubmit","onInputChange","format","maskFormat","preserveInvalidOnBlur","onInvalid","disabled","invalid","inputReadOnly","direction","onOpenChange","onActiveInfo","placement","onMouseDown","required","aria-required","autoFocus","tabIndex"],Sy=["index"];function wy(e,t){var a=e.id,o=e.prefix,f=e.clearIcon,y=e.suffixIcon,_=e.separator,S=_===void 0?"~":_,I=e.activeIndex,A=e.activeHelp,z=e.allHelp,L=e.focused,F=e.onFocus,Z=e.onBlur,k=e.onKeyDown,W=e.locale,H=e.generateConfig,X=e.placeholder,Q=e.className,re=e.style,ie=e.onClick,ne=e.onClear,ae=e.value,ue=e.onChange,fe=e.onSubmit,he=e.onInputChange,ve=e.format,ye=e.maskFormat,we=e.preserveInvalidOnBlur,Se=e.onInvalid,ze=e.disabled,Te=e.invalid,Fe=e.inputReadOnly,Ae=e.direction,Ke=e.onOpenChange,tt=e.onActiveInfo,vt=e.placement,bt=e.onMouseDown,lt=e.required,ct=e["aria-required"],mt=e.autoFocus,Rt=e.tabIndex,wt=(0,de.Z)(e,zC),Bt=Ae==="rtl",Ct=s.useContext(Qu),dn=Ct.prefixCls,zn=s.useMemo(function(){if(typeof a=="string")return[a];var gi=a||{};return[gi.start,gi.end]},[a]),rn=s.useRef(),Cn=s.useRef(),Vt=s.useRef(),At=function(ai){var mi;return(mi=[Cn,Vt][ai])===null||mi===void 0?void 0:mi.current};s.useImperativeHandle(t,function(){return{nativeElement:rn.current,focus:function(ai){if((0,dt.Z)(ai)==="object"){var mi,Xi=ai||{},Pi=Xi.index,Io=Pi===void 0?0:Pi,dr=(0,de.Z)(Xi,Sy);(mi=At(Io))===null||mi===void 0||mi.focus(dr)}else{var er;(er=At(ai!=null?ai:0))===null||er===void 0||er.focus()}},blur:function(){var ai,mi;(ai=At(0))===null||ai===void 0||ai.blur(),(mi=At(1))===null||mi===void 0||mi.blur()}}});var $n=k_(wt),yn=s.useMemo(function(){return Array.isArray(X)?X:[X,X]},[X]),Ir=xy((0,K.Z)((0,K.Z)({},e),{},{id:zn,placeholder:yn})),cr=(0,Pe.Z)(Ir,1),Kn=cr[0],qn=s.useState({position:"absolute",width:0}),Pn=(0,Pe.Z)(qn,2),Yn=Pn[0],zr=Pn[1],si=(0,Os.zX)(function(){var gi=At(I);if(gi){var ai=gi.nativeElement.getBoundingClientRect(),mi=rn.current.getBoundingClientRect(),Xi=ai.left-mi.left;zr(function(Pi){return(0,K.Z)((0,K.Z)({},Pi),{},{width:ai.width,left:Xi})}),tt([ai.left,ai.right,mi.width])}});s.useEffect(function(){si()},[I]);var yi=f&&(ae[0]&&!ze[0]||ae[1]&&!ze[1]),Di=mt&&!ze[0],Eo=mt&&!Di&&!ze[1];return s.createElement(u.Z,{onResize:si},s.createElement("div",(0,Ue.Z)({},$n,{className:J()(dn,"".concat(dn,"-range"),(0,ge.Z)((0,ge.Z)((0,ge.Z)((0,ge.Z)({},"".concat(dn,"-focused"),L),"".concat(dn,"-disabled"),ze.every(function(gi){return gi})),"".concat(dn,"-invalid"),Te.some(function(gi){return gi})),"".concat(dn,"-rtl"),Bt),Q),style:re,ref:rn,onClick:ie,onMouseDown:function(ai){var mi=ai.target;mi!==Cn.current.inputElement&&mi!==Vt.current.inputElement&&ai.preventDefault(),bt==null||bt(ai)}}),o&&s.createElement("div",{className:"".concat(dn,"-prefix")},o),s.createElement(jm,(0,Ue.Z)({ref:Cn},Kn(0),{autoFocus:Di,tabIndex:Rt,"date-range":"start"})),s.createElement("div",{className:"".concat(dn,"-range-separator")},S),s.createElement(jm,(0,Ue.Z)({ref:Vt},Kn(1),{autoFocus:Eo,tabIndex:Rt,"date-range":"end"})),s.createElement("div",{className:"".concat(dn,"-active-bar"),style:Yn}),s.createElement(lg,{type:"suffix",icon:y}),yi&&s.createElement(Cy,{icon:f,onClear:ne})))}var z0=s.forwardRef(wy),V_=z0;function Ey(e,t){var a=e!=null?e:t;return Array.isArray(a)?a:[a,a]}function Zm(e){return e===1?"end":"start"}function H_(e,t){var a=hy(e,function(){var oa=e.disabled,Da=e.allowEmpty,vs=Ey(oa,!1),Bs=Ey(Da,!1);return{disabled:vs,allowEmpty:Bs}}),o=(0,Pe.Z)(a,6),f=o[0],y=o[1],_=o[2],S=o[3],I=o[4],A=o[5],z=f.prefixCls,L=f.styles,F=f.classNames,Z=f.defaultValue,k=f.value,W=f.needConfirm,H=f.onKeyDown,X=f.disabled,Q=f.allowEmpty,re=f.disabledDate,ie=f.minDate,ne=f.maxDate,ae=f.defaultOpen,ue=f.open,fe=f.onOpenChange,he=f.locale,ve=f.generateConfig,ye=f.picker,we=f.showNow,Se=f.showToday,ze=f.showTime,Te=f.mode,Fe=f.onPanelChange,Ae=f.onCalendarChange,Ke=f.onOk,tt=f.defaultPickerValue,vt=f.pickerValue,bt=f.onPickerValueChange,lt=f.inputReadOnly,ct=f.suffixIcon,mt=f.onFocus,Rt=f.onBlur,wt=f.presets,Bt=f.ranges,Ct=f.components,dn=f.cellRender,zn=f.dateRender,rn=f.monthCellRender,Cn=f.onClick,Vt=M_(t),At=my(ue,ae,X,fe),$n=(0,Pe.Z)(At,2),yn=$n[0],Ir=$n[1],cr=function(Da,vs){(X.some(function(Bs){return!Bs})||!Da)&&Ir(Da,vs)},Kn=Bh(ve,he,S,!0,!1,Z,k,Ae,Ke),qn=(0,Pe.Z)(Kn,5),Pn=qn[0],Yn=qn[1],zr=qn[2],si=qn[3],yi=qn[4],Di=zr(),Eo=py(X,Q,yn),gi=(0,Pe.Z)(Eo,9),ai=gi[0],mi=gi[1],Xi=gi[2],Pi=gi[3],Io=gi[4],dr=gi[5],er=gi[6],gr=gi[7],Zn=gi[8],ni=function(Da,vs){mi(!0),mt==null||mt(Da,{range:Zm(vs!=null?vs:Pi)})},Oi=function(Da,vs){mi(!1),Rt==null||Rt(Da,{range:Zm(vs!=null?vs:Pi)})},ro=s.useMemo(function(){if(!ze)return null;var oa=ze.disabledTime,Da=oa?function(vs){var Bs=Zm(Pi),nc=y0(Di,er,Pi);return oa(vs,Bs,{from:nc})}:void 0;return(0,K.Z)((0,K.Z)({},ze),{},{disabledTime:Da})},[ze,Pi,Di,er]),Ko=(0,Os.C8)([ye,ye],{value:Te}),Oa=(0,Pe.Z)(Ko,2),ta=Oa[0],Is=Oa[1],Fa=ta[Pi]||ye,Ua=Fa==="date"&&ro?"datetime":Fa,pa=Ua===ye&&Ua!=="time",rs=by(ye,Fa,we,Se,!0),Ls=Xd(f,Pn,Yn,zr,si,X,S,ai,yn,A),Co=(0,Pe.Z)(Ls,2),Go=Co[0],Ta=Co[1],Wa=O_(Di,X,er,ve,he,re),ds=Dh(Di,A,Q),sl=(0,Pe.Z)(ds,2),Ol=sl[0],xl=sl[1],Zl=gy(ve,he,Di,ta,yn,Pi,y,pa,tt,vt,ro==null?void 0:ro.defaultOpenValue,bt,ie,ne),fa=(0,Pe.Z)(Zl,2),Uo=fa[0],Wo=fa[1],Do=(0,Os.zX)(function(oa,Da,vs){var Bs=Xp(ta,Pi,Da);if((Bs[0]!==ta[0]||Bs[1]!==ta[1])&&Is(Bs),Fe&&vs!==!1){var nc=(0,Ie.Z)(Di);oa&&(nc[Pi]=oa),Fe(nc,Bs)}}),fs=function(Da,vs){return Xp(Di,vs,Da)},Ns=function(Da,vs){var Bs=Di;Da&&(Bs=fs(Da,Pi)),gr(Pi);var nc=dr(Bs);si(Bs),Go(Pi,nc===null),nc===null?cr(!1,{force:!0}):vs||Vt.current.focus({index:nc})},La=function(Da){var vs,Bs=Da.target.getRootNode();if(!Vt.current.nativeElement.contains((vs=Bs.activeElement)!==null&&vs!==void 0?vs:document.activeElement)){var nc=X.findIndex(function(im){return!im});nc>=0&&Vt.current.focus({index:nc})}cr(!0),Cn==null||Cn(Da)},xa=function(){Ta(null),cr(!1,{force:!0})},_s=s.useState(null),Cs=(0,Pe.Z)(_s,2),qs=Cs[0],ya=Cs[1],Lo=s.useState(null),Ra=(0,Pe.Z)(Lo,2),ps=Ra[0],Zs=Ra[1],Ys=s.useMemo(function(){return ps||Di},[Di,ps]);s.useEffect(function(){yn||Zs(null)},[yn]);var Gl=s.useState([0,0,0]),Js=(0,Pe.Z)(Gl,2),$a=Js[0],hs=Js[1],Ts=P_(wt,Bt),Rl=function(Da){Zs(Da),ya("preset")},ku=function(Da){var vs=Ta(Da);vs&&cr(!1,{force:!0})},tm=function(Da){Ns(Da)},lp=function(Da){Zs(Da?fs(Da,Pi):null),ya("cell")},cp=function(Da){cr(!0),ni(Da)},qf=function(){Xi("panel")},nm=function(Da){var vs=Xp(Di,Pi,Da);si(vs),!W&&!_&&y===Ua&&Ns(Da)},rm=function(){cr(!1)},up=Dm(dn,zn,rn,Zm(Pi)),Tl=Di[Pi]||null,Qs=(0,Os.zX)(function(oa){return A(oa,{activeIndex:Pi})}),Sa=s.useMemo(function(){var oa=(0,pt.Z)(f,!1),Da=(0,Ci.Z)(f,[].concat((0,Ie.Z)(Object.keys(oa)),["onChange","onCalendarChange","style","className","onPanelChange","disabledTime"]));return Da},[f]),ka=s.createElement(B_,(0,Ue.Z)({},Sa,{showNow:rs,showTime:ro,range:!0,multiplePanel:pa,activeInfo:$a,disabledDate:Wa,onFocus:cp,onBlur:Oi,onPanelMouseDown:qf,picker:ye,mode:Fa,internalMode:Ua,onPanelChange:Do,format:I,value:Tl,isInvalid:Qs,onChange:null,onSelect:nm,pickerValue:Uo,defaultOpenValue:Rf(ze==null?void 0:ze.defaultOpenValue)[Pi],onPickerValueChange:Wo,hoverValue:Ys,onHover:lp,needConfirm:W,onSubmit:Ns,onOk:yi,presets:Ts,onPresetHover:Rl,onPresetSubmit:ku,onNow:tm,cellRender:up})),ml=function(Da,vs){var Bs=fs(Da,vs);si(Bs)},Dc=function(){Xi("input")},ef=function(Da,vs){var Bs=er.length,nc=er[Bs-1];if(Bs&&nc!==vs&&W&&!Q[nc]&&!Zn(nc)&&Di[nc]){Vt.current.focus({index:nc});return}Xi("input"),cr(!0,{inherit:!0}),Pi!==vs&&yn&&!W&&_&&Ns(null,!0),Io(vs),ni(Da,vs)},Mg=function(Da,vs){if(cr(!1),!W&&Xi()==="input"){var Bs=dr(Di);Go(Pi,Bs===null)}Oi(Da,vs)},Pg=function(Da,vs){Da.key==="Tab"&&Ns(null,!0),H==null||H(Da,vs)},bv=s.useMemo(function(){return{prefixCls:z,locale:he,generateConfig:ve,button:Ct.button,input:Ct.input}},[z,he,ve,Ct.button,Ct.input]);if((0,yl.Z)(function(){yn&&Pi!==void 0&&Do(null,ye,!1)},[yn,Pi,ye]),(0,yl.Z)(function(){var oa=Xi();!yn&&oa==="input"&&(cr(!1),Ns(null,!0)),!yn&&_&&!W&&oa==="panel"&&(cr(!0),Ns())},[yn]),0)var Ms;return s.createElement(Qu.Provider,{value:bv},s.createElement(__,(0,Ue.Z)({},b0(f),{popupElement:ka,popupStyle:L.popup,popupClassName:F.popup,visible:yn,onClose:rm,range:!0}),s.createElement(V_,(0,Ue.Z)({},f,{ref:Vt,suffixIcon:ct,activeIndex:ai||yn?Pi:null,activeHelp:!!ps,allHelp:!!ps&&qs==="preset",focused:ai,onFocus:ef,onBlur:Mg,onKeyDown:Pg,onSubmit:Ns,value:Ys,maskFormat:I,onChange:ml,onInputChange:Dc,format:S,inputReadOnly:lt,disabled:X,open:yn,onOpenChange:cr,onClick:La,onClear:xa,invalid:Ol,onInvalid:xl,onActiveInfo:hs}))))}var Iy=s.forwardRef(H_),L0=Iy;function U_(e){var t=e.prefixCls,a=e.value,o=e.onRemove,f=e.removeIcon,y=f===void 0?"\xD7":f,_=e.formatDate,S=e.disabled,I=e.maxTagCount,A=e.placeholder,z="".concat(t,"-selector"),L="".concat(t,"-selection"),F="".concat(L,"-overflow");function Z(H,X){return s.createElement("span",{className:J()("".concat(L,"-item")),title:typeof H=="string"?H:null},s.createElement("span",{className:"".concat(L,"-item-content")},H),!S&&X&&s.createElement("span",{onMouseDown:function(re){re.preventDefault()},onClick:X,className:"".concat(L,"-item-remove")},y))}function k(H){var X=_(H),Q=function(ie){ie&&ie.stopPropagation(),o(H)};return Z(X,Q)}function W(H){var X="+ ".concat(H.length," ...");return Z(X)}return s.createElement("div",{className:z},s.createElement(Er.Z,{prefixCls:F,data:a,renderItem:k,renderRest:W,itemKey:function(X){return _(X)},maxCount:I}),!a.length&&s.createElement("span",{className:"".concat(t,"-selection-placeholder")},A))}var W_=["id","open","prefix","clearIcon","suffixIcon","activeHelp","allHelp","focused","onFocus","onBlur","onKeyDown","locale","generateConfig","placeholder","className","style","onClick","onClear","internalPicker","value","onChange","onSubmit","onInputChange","multiple","maxTagCount","format","maskFormat","preserveInvalidOnBlur","onInvalid","disabled","invalid","inputReadOnly","direction","onOpenChange","onMouseDown","required","aria-required","autoFocus","tabIndex","removeIcon"];function G_(e,t){var a=e.id,o=e.open,f=e.prefix,y=e.clearIcon,_=e.suffixIcon,S=e.activeHelp,I=e.allHelp,A=e.focused,z=e.onFocus,L=e.onBlur,F=e.onKeyDown,Z=e.locale,k=e.generateConfig,W=e.placeholder,H=e.className,X=e.style,Q=e.onClick,re=e.onClear,ie=e.internalPicker,ne=e.value,ae=e.onChange,ue=e.onSubmit,fe=e.onInputChange,he=e.multiple,ve=e.maxTagCount,ye=e.format,we=e.maskFormat,Se=e.preserveInvalidOnBlur,ze=e.onInvalid,Te=e.disabled,Fe=e.invalid,Ae=e.inputReadOnly,Ke=e.direction,tt=e.onOpenChange,vt=e.onMouseDown,bt=e.required,lt=e["aria-required"],ct=e.autoFocus,mt=e.tabIndex,Rt=e.removeIcon,wt=(0,de.Z)(e,W_),Bt=Ke==="rtl",Ct=s.useContext(Qu),dn=Ct.prefixCls,zn=s.useRef(),rn=s.useRef();s.useImperativeHandle(t,function(){return{nativeElement:zn.current,focus:function(Yn){var zr;(zr=rn.current)===null||zr===void 0||zr.focus(Yn)},blur:function(){var Yn;(Yn=rn.current)===null||Yn===void 0||Yn.blur()}}});var Cn=k_(wt),Vt=function(Yn){ae([Yn])},At=function(Yn){var zr=ne.filter(function(si){return si&&!Ac(k,Z,si,Yn,ie)});ae(zr),o||ue()},$n=xy((0,K.Z)((0,K.Z)({},e),{},{onChange:Vt}),function(Pn){var Yn=Pn.valueTexts;return{value:Yn[0]||"",active:A}}),yn=(0,Pe.Z)($n,2),Ir=yn[0],cr=yn[1],Kn=!!(y&&ne.length&&!Te),qn=he?s.createElement(s.Fragment,null,s.createElement(U_,{prefixCls:dn,value:ne,onRemove:At,formatDate:cr,maxTagCount:ve,disabled:Te,removeIcon:Rt,placeholder:W}),s.createElement("input",{className:"".concat(dn,"-multiple-input"),value:ne.map(cr).join(","),ref:rn,readOnly:!0,autoFocus:ct,tabIndex:mt}),s.createElement(lg,{type:"suffix",icon:_}),Kn&&s.createElement(Cy,{icon:y,onClear:re})):s.createElement(jm,(0,Ue.Z)({ref:rn},Ir(),{autoFocus:ct,tabIndex:mt,suffixIcon:_,clearIcon:Kn&&s.createElement(Cy,{icon:y,onClear:re}),showActiveCls:!1}));return s.createElement("div",(0,Ue.Z)({},Cn,{className:J()(dn,(0,ge.Z)((0,ge.Z)((0,ge.Z)((0,ge.Z)((0,ge.Z)({},"".concat(dn,"-multiple"),he),"".concat(dn,"-focused"),A),"".concat(dn,"-disabled"),Te),"".concat(dn,"-invalid"),Fe),"".concat(dn,"-rtl"),Bt),H),style:X,ref:zn,onClick:Q,onMouseDown:function(Yn){var zr,si=Yn.target;si!==((zr=rn.current)===null||zr===void 0?void 0:zr.inputElement)&&Yn.preventDefault(),vt==null||vt(Yn)}}),f&&s.createElement("div",{className:"".concat(dn,"-prefix")},f),qn)}var X_=s.forwardRef(G_),Ty=X_;function My(e,t){var a=hy(e),o=(0,Pe.Z)(a,6),f=o[0],y=o[1],_=o[2],S=o[3],I=o[4],A=o[5],z=f,L=z.prefixCls,F=z.styles,Z=z.classNames,k=z.order,W=z.defaultValue,H=z.value,X=z.needConfirm,Q=z.onChange,re=z.onKeyDown,ie=z.disabled,ne=z.disabledDate,ae=z.minDate,ue=z.maxDate,fe=z.defaultOpen,he=z.open,ve=z.onOpenChange,ye=z.locale,we=z.generateConfig,Se=z.picker,ze=z.showNow,Te=z.showToday,Fe=z.showTime,Ae=z.mode,Ke=z.onPanelChange,tt=z.onCalendarChange,vt=z.onOk,bt=z.multiple,lt=z.defaultPickerValue,ct=z.pickerValue,mt=z.onPickerValueChange,Rt=z.inputReadOnly,wt=z.suffixIcon,Bt=z.removeIcon,Ct=z.onFocus,dn=z.onBlur,zn=z.presets,rn=z.components,Cn=z.cellRender,Vt=z.dateRender,At=z.monthCellRender,$n=z.onClick,yn=M_(t);function Ir(Sa){return Sa===null?null:bt?Sa:Sa[0]}var cr=A_(we,ye,y),Kn=my(he,fe,[ie],ve),qn=(0,Pe.Z)(Kn,2),Pn=qn[0],Yn=qn[1],zr=function(ka,ml,Dc){if(tt){var ef=(0,K.Z)({},Dc);delete ef.range,tt(Ir(ka),Ir(ml),ef)}},si=function(ka){vt==null||vt(Ir(ka))},yi=Bh(we,ye,S,!1,k,W,H,zr,si),Di=(0,Pe.Z)(yi,5),Eo=Di[0],gi=Di[1],ai=Di[2],mi=Di[3],Xi=Di[4],Pi=ai(),Io=py([ie]),dr=(0,Pe.Z)(Io,4),er=dr[0],gr=dr[1],Zn=dr[2],ni=dr[3],Oi=function(ka){gr(!0),Ct==null||Ct(ka,{})},ro=function(ka){gr(!1),dn==null||dn(ka,{})},Ko=(0,Os.C8)(Se,{value:Ae}),Oa=(0,Pe.Z)(Ko,2),ta=Oa[0],Is=Oa[1],Fa=ta==="date"&&Fe?"datetime":ta,Ua=by(Se,ta,ze,Te),pa=Q&&function(Sa,ka){Q(Ir(Sa),Ir(ka))},rs=Xd((0,K.Z)((0,K.Z)({},f),{},{onChange:pa}),Eo,gi,ai,mi,[],S,er,Pn,A),Ls=(0,Pe.Z)(rs,2),Co=Ls[1],Go=Dh(Pi,A),Ta=(0,Pe.Z)(Go,2),Wa=Ta[0],ds=Ta[1],sl=s.useMemo(function(){return Wa.some(function(Sa){return Sa})},[Wa]),Ol=function(ka,ml){if(mt){var Dc=(0,K.Z)((0,K.Z)({},ml),{},{mode:ml.mode[0]});delete Dc.range,mt(ka[0],Dc)}},xl=gy(we,ye,Pi,[ta],Pn,ni,y,!1,lt,ct,Rf(Fe==null?void 0:Fe.defaultOpenValue),Ol,ae,ue),Zl=(0,Pe.Z)(xl,2),fa=Zl[0],Uo=Zl[1],Wo=(0,Os.zX)(function(Sa,ka,ml){if(Is(ka),Ke&&ml!==!1){var Dc=Sa||Pi[Pi.length-1];Ke(Dc,ka)}}),Do=function(){Co(ai()),Yn(!1,{force:!0})},fs=function(ka){!ie&&!yn.current.nativeElement.contains(document.activeElement)&&yn.current.focus(),Yn(!0),$n==null||$n(ka)},Ns=function(){Co(null),Yn(!1,{force:!0})},La=s.useState(null),xa=(0,Pe.Z)(La,2),_s=xa[0],Cs=xa[1],qs=s.useState(null),ya=(0,Pe.Z)(qs,2),Lo=ya[0],Ra=ya[1],ps=s.useMemo(function(){var Sa=[Lo].concat((0,Ie.Z)(Pi)).filter(function(ka){return ka});return bt?Sa:Sa.slice(0,1)},[Pi,Lo,bt]),Zs=s.useMemo(function(){return!bt&&Lo?[Lo]:Pi.filter(function(Sa){return Sa})},[Pi,Lo,bt]);s.useEffect(function(){Pn||Ra(null)},[Pn]);var Ys=P_(zn),Gl=function(ka){Ra(ka),Cs("preset")},Js=function(ka){var ml=bt?cr(ai(),ka):[ka],Dc=Co(ml);Dc&&!bt&&Yn(!1,{force:!0})},$a=function(ka){Js(ka)},hs=function(ka){Ra(ka),Cs("cell")},Ts=function(ka){Yn(!0),Oi(ka)},Rl=function(ka){if(Zn("panel"),!(bt&&Fa!==Se)){var ml=bt?cr(ai(),ka):[ka];mi(ml),!X&&!_&&y===Fa&&Do()}},ku=function(){Yn(!1)},tm=Dm(Cn,Vt,At),lp=s.useMemo(function(){var Sa=(0,pt.Z)(f,!1),ka=(0,Ci.Z)(f,[].concat((0,Ie.Z)(Object.keys(Sa)),["onChange","onCalendarChange","style","className","onPanelChange"]));return(0,K.Z)((0,K.Z)({},ka),{},{multiple:f.multiple})},[f]),cp=s.createElement(B_,(0,Ue.Z)({},lp,{showNow:Ua,showTime:Fe,disabledDate:ne,onFocus:Ts,onBlur:ro,picker:Se,mode:ta,internalMode:Fa,onPanelChange:Wo,format:I,value:Pi,isInvalid:A,onChange:null,onSelect:Rl,pickerValue:fa,defaultOpenValue:Fe==null?void 0:Fe.defaultOpenValue,onPickerValueChange:Uo,hoverValue:ps,onHover:hs,needConfirm:X,onSubmit:Do,onOk:Xi,presets:Ys,onPresetHover:Gl,onPresetSubmit:Js,onNow:$a,cellRender:tm})),qf=function(ka){mi(ka)},nm=function(){Zn("input")},rm=function(ka){Zn("input"),Yn(!0,{inherit:!0}),Oi(ka)},up=function(ka){Yn(!1),ro(ka)},Tl=function(ka,ml){ka.key==="Tab"&&Do(),re==null||re(ka,ml)},Qs=s.useMemo(function(){return{prefixCls:L,locale:ye,generateConfig:we,button:rn.button,input:rn.input}},[L,ye,we,rn.button,rn.input]);return(0,yl.Z)(function(){Pn&&ni!==void 0&&Wo(null,Se,!1)},[Pn,ni,Se]),(0,yl.Z)(function(){var Sa=Zn();!Pn&&Sa==="input"&&(Yn(!1),Do()),!Pn&&_&&!X&&Sa==="panel"&&Do()},[Pn]),s.createElement(Qu.Provider,{value:Qs},s.createElement(__,(0,Ue.Z)({},b0(f),{popupElement:cp,popupStyle:F.popup,popupClassName:Z.popup,visible:Pn,onClose:ku}),s.createElement(Ty,(0,Ue.Z)({},f,{ref:yn,suffixIcon:wt,removeIcon:Bt,activeHelp:!!Lo,allHelp:!!Lo&&_s==="preset",focused:er,onFocus:rm,onBlur:up,onKeyDown:Tl,onSubmit:Do,value:Zs,maskFormat:I,onChange:qf,onInputChange:nm,internalPicker:y,format:S,inputReadOnly:Rt,disabled:ie,open:Pn,onOpenChange:Yn,onClick:fs,onClear:Ns,invalid:sl,onInvalid:function(ka){ds(ka,0)}}))))}var Py=s.forwardRef(My),Oy=Py,N0=Oy,Tc=j(60824);const Ry=s.createContext(null),B0=Ry.Provider;var K_=Ry;const q_=s.createContext(null),Y_=q_.Provider;var J_=["prefixCls","className","style","checked","disabled","defaultChecked","type","title","onChange"],Q_=(0,s.forwardRef)(function(e,t){var a=e.prefixCls,o=a===void 0?"rc-checkbox":a,f=e.className,y=e.style,_=e.checked,S=e.disabled,I=e.defaultChecked,A=I===void 0?!1:I,z=e.type,L=z===void 0?"checkbox":z,F=e.title,Z=e.onChange,k=(0,de.Z)(e,J_),W=(0,s.useRef)(null),H=(0,s.useRef)(null),X=(0,zt.Z)(A,{value:_}),Q=(0,Pe.Z)(X,2),re=Q[0],ie=Q[1];(0,s.useImperativeHandle)(t,function(){return{focus:function(fe){var he;(he=W.current)===null||he===void 0||he.focus(fe)},blur:function(){var fe;(fe=W.current)===null||fe===void 0||fe.blur()},input:W.current,nativeElement:H.current}});var ne=J()(o,f,(0,ge.Z)((0,ge.Z)({},"".concat(o,"-checked"),re),"".concat(o,"-disabled"),S)),ae=function(fe){S||("checked"in e||ie(fe.target.checked),Z==null||Z({target:(0,K.Z)((0,K.Z)({},e),{},{type:L,checked:fe.target.checked}),stopPropagation:function(){fe.stopPropagation()},preventDefault:function(){fe.preventDefault()},nativeEvent:fe.nativeEvent}))};return s.createElement("span",{className:ne,title:F,style:y,ref:H},s.createElement("input",(0,Ue.Z)({},k,{className:"".concat(o,"-input"),ref:W,onChange:ae,disabled:S,checked:!!re,type:L})),s.createElement("span",{className:"".concat(o,"-inner")}))}),$y=Q_;function Ay(e){const t=s.useRef(null),a=()=>{He.Z.cancel(t.current),t.current=null};return[()=>{a(),t.current=(0,He.Z)(()=>{t.current=null})},y=>{t.current&&(y.stopPropagation(),a()),e==null||e(y)}]}const e1=e=>{const{componentCls:t,antCls:a}=e,o=`${t}-group`;return{[o]:Object.assign(Object.assign({},(0,nn.Wf)(e)),{display:"inline-block",fontSize:0,[`&${o}-rtl`]:{direction:"rtl"},[`&${o}-block`]:{display:"flex"},[`${a}-badge ${a}-badge-count`]:{zIndex:1},[`> ${a}-badge:not(:first-child) > ${a}-button-wrapper`]:{borderInlineStart:"none"}})}},t1=e=>{const{componentCls:t,wrapperMarginInlineEnd:a,colorPrimary:o,radioSize:f,motionDurationSlow:y,motionDurationMid:_,motionEaseInOutCirc:S,colorBgContainer:I,colorBorder:A,lineWidth:z,colorBgContainerDisabled:L,colorTextDisabled:F,paddingXS:Z,dotColorDisabled:k,lineType:W,radioColor:H,radioBgColor:X,calc:Q}=e,re=`${t}-inner`,ne=Q(f).sub(Q(4).mul(2)),ae=Q(1).mul(f).equal({unit:!0});return{[`${t}-wrapper`]:Object.assign(Object.assign({},(0,nn.Wf)(e)),{display:"inline-flex",alignItems:"baseline",marginInlineStart:0,marginInlineEnd:a,cursor:"pointer","&:last-child":{marginInlineEnd:0},[`&${t}-wrapper-rtl`]:{direction:"rtl"},"&-disabled":{cursor:"not-allowed",color:e.colorTextDisabled},"&::after":{display:"inline-block",width:0,overflow:"hidden",content:'"\\a0"'},"&-block":{flex:1,justifyContent:"center"},[`${t}-checked::after`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:"100%",height:"100%",border:`${(0,me.bf)(z)} ${W} ${o}`,borderRadius:"50%",visibility:"hidden",opacity:0,content:'""'},[t]:Object.assign(Object.assign({},(0,nn.Wf)(e)),{position:"relative",display:"inline-block",outline:"none",cursor:"pointer",alignSelf:"center",borderRadius:"50%"}),[`${t}-wrapper:hover &,
        &:hover ${re}`]:{borderColor:o},[`${t}-input:focus-visible + ${re}`]:Object.assign({},(0,nn.oN)(e)),[`${t}:hover::after, ${t}-wrapper:hover &::after`]:{visibility:"visible"},[`${t}-inner`]:{"&::after":{boxSizing:"border-box",position:"absolute",insetBlockStart:"50%",insetInlineStart:"50%",display:"block",width:ae,height:ae,marginBlockStart:Q(1).mul(f).div(-2).equal({unit:!0}),marginInlineStart:Q(1).mul(f).div(-2).equal({unit:!0}),backgroundColor:H,borderBlockStart:0,borderInlineStart:0,borderRadius:ae,transform:"scale(0)",opacity:0,transition:`all ${y} ${S}`,content:'""'},boxSizing:"border-box",position:"relative",insetBlockStart:0,insetInlineStart:0,display:"block",width:ae,height:ae,backgroundColor:I,borderColor:A,borderStyle:"solid",borderWidth:z,borderRadius:"50%",transition:`all ${_}`},[`${t}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0},[`${t}-checked`]:{[re]:{borderColor:o,backgroundColor:X,"&::after":{transform:`scale(${e.calc(e.dotSize).div(f).equal()})`,opacity:1,transition:`all ${y} ${S}`}}},[`${t}-disabled`]:{cursor:"not-allowed",[re]:{backgroundColor:L,borderColor:A,cursor:"not-allowed","&::after":{backgroundColor:k}},[`${t}-input`]:{cursor:"not-allowed"},[`${t}-disabled + span`]:{color:F,cursor:"not-allowed"},[`&${t}-checked`]:{[re]:{"&::after":{transform:`scale(${Q(ne).div(f).equal()})`}}}},[`span${t} + *`]:{paddingInlineStart:Z,paddingInlineEnd:Z}})}},LC=e=>{const{buttonColor:t,controlHeight:a,componentCls:o,lineWidth:f,lineType:y,colorBorder:_,motionDurationSlow:S,motionDurationMid:I,buttonPaddingInline:A,fontSize:z,buttonBg:L,fontSizeLG:F,controlHeightLG:Z,controlHeightSM:k,paddingXS:W,borderRadius:H,borderRadiusSM:X,borderRadiusLG:Q,buttonCheckedBg:re,buttonSolidCheckedColor:ie,colorTextDisabled:ne,colorBgContainerDisabled:ae,buttonCheckedBgDisabled:ue,buttonCheckedColorDisabled:fe,colorPrimary:he,colorPrimaryHover:ve,colorPrimaryActive:ye,buttonSolidCheckedBg:we,buttonSolidCheckedHoverBg:Se,buttonSolidCheckedActiveBg:ze,calc:Te}=e;return{[`${o}-button-wrapper`]:{position:"relative",display:"inline-block",height:a,margin:0,paddingInline:A,paddingBlock:0,color:t,fontSize:z,lineHeight:(0,me.bf)(Te(a).sub(Te(f).mul(2)).equal()),background:L,border:`${(0,me.bf)(f)} ${y} ${_}`,borderBlockStartWidth:Te(f).add(.02).equal(),borderInlineStartWidth:0,borderInlineEndWidth:f,cursor:"pointer",transition:[`color ${I}`,`background ${I}`,`box-shadow ${I}`].join(","),a:{color:t},[`> ${o}-button`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,zIndex:-1,width:"100%",height:"100%"},"&:not(:first-child)":{"&::before":{position:"absolute",insetBlockStart:Te(f).mul(-1).equal(),insetInlineStart:Te(f).mul(-1).equal(),display:"block",boxSizing:"content-box",width:1,height:"100%",paddingBlock:f,paddingInline:0,backgroundColor:_,transition:`background-color ${S}`,content:'""'}},"&:first-child":{borderInlineStart:`${(0,me.bf)(f)} ${y} ${_}`,borderStartStartRadius:H,borderEndStartRadius:H},"&:last-child":{borderStartEndRadius:H,borderEndEndRadius:H},"&:first-child:last-child":{borderRadius:H},[`${o}-group-large &`]:{height:Z,fontSize:F,lineHeight:(0,me.bf)(Te(Z).sub(Te(f).mul(2)).equal()),"&:first-child":{borderStartStartRadius:Q,borderEndStartRadius:Q},"&:last-child":{borderStartEndRadius:Q,borderEndEndRadius:Q}},[`${o}-group-small &`]:{height:k,paddingInline:Te(W).sub(f).equal(),paddingBlock:0,lineHeight:(0,me.bf)(Te(k).sub(Te(f).mul(2)).equal()),"&:first-child":{borderStartStartRadius:X,borderEndStartRadius:X},"&:last-child":{borderStartEndRadius:X,borderEndEndRadius:X}},"&:hover":{position:"relative",color:he},"&:has(:focus-visible)":Object.assign({},(0,nn.oN)(e)),[`${o}-inner, input[type='checkbox'], input[type='radio']`]:{width:0,height:0,opacity:0,pointerEvents:"none"},[`&-checked:not(${o}-button-wrapper-disabled)`]:{zIndex:1,color:he,background:re,borderColor:he,"&::before":{backgroundColor:he},"&:first-child":{borderColor:he},"&:hover":{color:ve,borderColor:ve,"&::before":{backgroundColor:ve}},"&:active":{color:ye,borderColor:ye,"&::before":{backgroundColor:ye}}},[`${o}-group-solid &-checked:not(${o}-button-wrapper-disabled)`]:{color:ie,background:we,borderColor:we,"&:hover":{color:ie,background:Se,borderColor:Se},"&:active":{color:ie,background:ze,borderColor:ze}},"&-disabled":{color:ne,backgroundColor:ae,borderColor:_,cursor:"not-allowed","&:first-child, &:hover":{color:ne,backgroundColor:ae,borderColor:_}},[`&-disabled${o}-button-wrapper-checked`]:{color:fe,backgroundColor:ue,borderColor:_,boxShadow:"none"},"&-block":{flex:1,textAlign:"center"}}}},Dy=e=>{const{wireframe:t,padding:a,marginXS:o,lineWidth:f,fontSizeLG:y,colorText:_,colorBgContainer:S,colorTextDisabled:I,controlItemBgActiveDisabled:A,colorTextLightSolid:z,colorPrimary:L,colorPrimaryHover:F,colorPrimaryActive:Z,colorWhite:k}=e,W=4,H=y,X=t?H-W*2:H-(W+f)*2;return{radioSize:H,dotSize:X,dotColorDisabled:I,buttonSolidCheckedColor:z,buttonSolidCheckedBg:L,buttonSolidCheckedHoverBg:F,buttonSolidCheckedActiveBg:Z,buttonBg:S,buttonCheckedBg:S,buttonColor:_,buttonCheckedBgDisabled:A,buttonCheckedColorDisabled:I,buttonPaddingInline:a-f,wrapperMarginInlineEnd:o,radioColor:t?L:k,radioBgColor:t?S:L}};var zy=(0,oe.I$)("Radio",e=>{const{controlOutline:t,controlOutlineWidth:a}=e,o=`0 0 0 ${(0,me.bf)(a)} ${t}`,f=o,y=(0,kr.IX)(e,{radioFocusShadow:o,radioButtonFocusShadow:f});return[e1(y),t1(y),LC(y)]},Dy,{unitless:{radioSize:!0,dotSize:!0}}),n1=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const F0=(e,t)=>{var a,o;const f=s.useContext(K_),y=s.useContext(q_),{getPrefixCls:_,direction:S,radio:I}=s.useContext(_e.E_),A=s.useRef(null),z=(0,an.sQ)(t,A),{isFormItemInput:L}=s.useContext(Tc.aM),F=Fe=>{var Ae,Ke;(Ae=e.onChange)===null||Ae===void 0||Ae.call(e,Fe),(Ke=f==null?void 0:f.onChange)===null||Ke===void 0||Ke.call(f,Fe)},{prefixCls:Z,className:k,rootClassName:W,children:H,style:X,title:Q}=e,re=n1(e,["prefixCls","className","rootClassName","children","style","title"]),ie=_("radio",Z),ne=((f==null?void 0:f.optionType)||y)==="button",ae=ne?`${ie}-button`:ie,ue=(0,Ln.Z)(ie),[fe,he,ve]=zy(ie,ue),ye=Object.assign({},re),we=s.useContext(cs.Z);f&&(ye.name=f.name,ye.onChange=F,ye.checked=e.value===f.value,ye.disabled=(a=ye.disabled)!==null&&a!==void 0?a:f.disabled),ye.disabled=(o=ye.disabled)!==null&&o!==void 0?o:we;const Se=J()(`${ae}-wrapper`,{[`${ae}-wrapper-checked`]:ye.checked,[`${ae}-wrapper-disabled`]:ye.disabled,[`${ae}-wrapper-rtl`]:S==="rtl",[`${ae}-wrapper-in-form-item`]:L,[`${ae}-wrapper-block`]:!!(f!=null&&f.block)},I==null?void 0:I.className,k,W,he,ve,ue),[ze,Te]=Ay(ye.onClick);return fe(s.createElement(ca,{component:"Radio",disabled:ye.disabled},s.createElement("label",{className:Se,style:Object.assign(Object.assign({},I==null?void 0:I.style),X),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,title:Q,onClick:ze},s.createElement($y,Object.assign({},ye,{className:J()(ye.className,{[Ri]:!ne}),type:"radio",prefixCls:ae,ref:z,onClick:Te})),H!==void 0?s.createElement("span",{className:`${ae}-label`},H):null)))};var Vm=s.forwardRef(F0);const r1=s.forwardRef((e,t)=>{const{getPrefixCls:a,direction:o}=s.useContext(_e.E_),f=(0,Od.Z)(),{prefixCls:y,className:_,rootClassName:S,options:I,buttonStyle:A="outline",disabled:z,children:L,size:F,style:Z,id:k,optionType:W,name:H=f,defaultValue:X,value:Q,block:re=!1,onChange:ie,onMouseEnter:ne,onMouseLeave:ae,onFocus:ue,onBlur:fe}=e,[he,ve]=(0,zt.Z)(X,{value:Q}),ye=s.useCallback(lt=>{const ct=he,mt=lt.target.value;"value"in e||ve(mt),mt!==ct&&(ie==null||ie(lt))},[he,ve,ie]),we=a("radio",y),Se=`${we}-group`,ze=(0,Ln.Z)(we),[Te,Fe,Ae]=zy(we,ze);let Ke=L;I&&I.length>0&&(Ke=I.map(lt=>typeof lt=="string"||typeof lt=="number"?s.createElement(Vm,{key:lt.toString(),prefixCls:we,disabled:z,value:lt,checked:he===lt},lt):s.createElement(Vm,{key:`radio-group-value-options-${lt.value}`,prefixCls:we,disabled:lt.disabled||z,value:lt.value,checked:he===lt.value,title:lt.title,style:lt.style,id:lt.id,required:lt.required},lt.label)));const tt=(0,Va.Z)(F),vt=J()(Se,`${Se}-${A}`,{[`${Se}-${tt}`]:tt,[`${Se}-rtl`]:o==="rtl",[`${Se}-block`]:re},_,S,Fe,Ae,ze),bt=s.useMemo(()=>({onChange:ye,value:he,disabled:z,name:H,optionType:W,block:re}),[ye,he,z,H,W,re]);return Te(s.createElement("div",Object.assign({},(0,pt.Z)(e,{aria:!0,data:!0}),{className:vt,style:Z,onMouseEnter:ne,onMouseLeave:ae,onFocus:ue,onBlur:fe,id:k,ref:t}),s.createElement(B0,{value:bt},Ke)))});var Ly=s.memo(r1),k0=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const Ny=(e,t)=>{const{getPrefixCls:a}=s.useContext(_e.E_),{prefixCls:o}=e,f=k0(e,["prefixCls"]),y=a("radio",o);return s.createElement(Y_,{value:"button"},s.createElement(Vm,Object.assign({prefixCls:y},f,{type:"radio",ref:t})))};var j0=s.forwardRef(Ny);const NC=10,BC=20;function FC(e){const{fullscreen:t,validRange:a,generateConfig:o,locale:f,prefixCls:y,value:_,onChange:S,divRef:I}=e,A=o.getYear(_||o.getNow());let z=A-NC,L=z+BC;a&&(z=o.getYear(a[0]),L=o.getYear(a[1])+1);const F=f&&f.year==="\u5E74"?"\u5E74":"",Z=[];for(let k=z;k<L;k++)Z.push({label:`${k}${F}`,value:k});return s.createElement(ou.default,{size:t?void 0:"small",options:Z,value:A,className:`${y}-year-select`,onChange:k=>{let W=o.setYear(_,k);if(a){const[H,X]=a,Q=o.getYear(W),re=o.getMonth(W);Q===o.getYear(X)&&re>o.getMonth(X)&&(W=o.setMonth(W,o.getMonth(X))),Q===o.getYear(H)&&re<o.getMonth(H)&&(W=o.setMonth(W,o.getMonth(H)))}S(W)},getPopupContainer:()=>I.current})}function kC(e){const{prefixCls:t,fullscreen:a,validRange:o,value:f,generateConfig:y,locale:_,onChange:S,divRef:I}=e,A=y.getMonth(f||y.getNow());let z=0,L=11;if(o){const[k,W]=o,H=y.getYear(f);y.getYear(W)===H&&(L=y.getMonth(W)),y.getYear(k)===H&&(z=y.getMonth(k))}const F=_.shortMonths||y.locale.getShortMonths(_.locale),Z=[];for(let k=z;k<=L;k+=1)Z.push({label:F[k],value:k});return s.createElement(ou.default,{size:a?void 0:"small",className:`${t}-month-select`,value:A,options:Z,onChange:k=>{S(y.setMonth(f,k))},getPopupContainer:()=>I.current})}function jC(e){const{prefixCls:t,locale:a,mode:o,fullscreen:f,onModeChange:y}=e;return s.createElement(Ly,{onChange:_=>{let{target:{value:S}}=_;y(S)},value:o,size:f?void 0:"small",className:`${t}-mode-switch`},s.createElement(j0,{value:"month"},a.month),s.createElement(j0,{value:"year"},a.year))}function ZC(e){const{prefixCls:t,fullscreen:a,mode:o,onChange:f,onModeChange:y}=e,_=s.useRef(null),S=(0,s.useContext)(Tc.aM),I=(0,s.useMemo)(()=>Object.assign(Object.assign({},S),{isFormItemInput:!1}),[S]),A=Object.assign(Object.assign({},e),{fullscreen:a,divRef:_});return s.createElement("div",{className:`${t}-header`,ref:_},s.createElement(Tc.aM.Provider,{value:I},s.createElement(FC,Object.assign({},A,{onChange:z=>{f(z,"year")}})),o==="month"&&s.createElement(kC,Object.assign({},A,{onChange:z=>{f(z,"month")}}))),s.createElement(jC,Object.assign({},A,{onModeChange:y})))}var VC=ZC,i1=j(40859);const Z0=e=>{const{pickerCellCls:t,pickerCellInnerCls:a,cellHeight:o,borderRadiusSM:f,motionDurationMid:y,cellHoverBg:_,lineWidth:S,lineType:I,colorPrimary:A,cellActiveWithRangeBg:z,colorTextLightSolid:L,colorTextDisabled:F,cellBgDisabled:Z,colorFillSecondary:k}=e;return{"&::before":{position:"absolute",top:"50%",insetInlineStart:0,insetInlineEnd:0,zIndex:1,height:o,transform:"translateY(-50%)",content:'""',pointerEvents:"none"},[a]:{position:"relative",zIndex:2,display:"inline-block",minWidth:o,height:o,lineHeight:(0,me.bf)(o),borderRadius:f,transition:`background ${y}`},[`&:hover:not(${t}-in-view):not(${t}-disabled),
    &:hover:not(${t}-selected):not(${t}-range-start):not(${t}-range-end):not(${t}-disabled)`]:{[a]:{background:_}},[`&-in-view${t}-today ${a}`]:{"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:1,border:`${(0,me.bf)(S)} ${I} ${A}`,borderRadius:f,content:'""'}},[`&-in-view${t}-in-range,
      &-in-view${t}-range-start,
      &-in-view${t}-range-end`]:{position:"relative",[`&:not(${t}-disabled):before`]:{background:z}},[`&-in-view${t}-selected,
      &-in-view${t}-range-start,
      &-in-view${t}-range-end`]:{[`&:not(${t}-disabled) ${a}`]:{color:L,background:A},[`&${t}-disabled ${a}`]:{background:k}},[`&-in-view${t}-range-start:not(${t}-disabled):before`]:{insetInlineStart:"50%"},[`&-in-view${t}-range-end:not(${t}-disabled):before`]:{insetInlineEnd:"50%"},[`&-in-view${t}-range-start:not(${t}-range-end) ${a}`]:{borderStartStartRadius:f,borderEndStartRadius:f,borderStartEndRadius:0,borderEndEndRadius:0},[`&-in-view${t}-range-end:not(${t}-range-start) ${a}`]:{borderStartStartRadius:0,borderEndStartRadius:0,borderStartEndRadius:f,borderEndEndRadius:f},"&-disabled":{color:F,cursor:"not-allowed",[a]:{background:"transparent"},"&::before":{background:Z}},[`&-disabled${t}-today ${a}::before`]:{borderColor:F}}},By=e=>{const{componentCls:t,pickerCellCls:a,pickerCellInnerCls:o,pickerYearMonthCellWidth:f,pickerControlIconSize:y,cellWidth:_,paddingSM:S,paddingXS:I,paddingXXS:A,colorBgContainer:z,lineWidth:L,lineType:F,borderRadiusLG:Z,colorPrimary:k,colorTextHeading:W,colorSplit:H,pickerControlIconBorderWidth:X,colorIcon:Q,textHeight:re,motionDurationMid:ie,colorIconHover:ne,fontWeightStrong:ae,cellHeight:ue,pickerCellPaddingVertical:fe,colorTextDisabled:he,colorText:ve,fontSize:ye,motionDurationSlow:we,withoutTimeCellHeight:Se,pickerQuarterPanelContentHeight:ze,borderRadiusSM:Te,colorTextLightSolid:Fe,cellHoverBg:Ae,timeColumnHeight:Ke,timeColumnWidth:tt,timeCellHeight:vt,controlItemBgActive:bt,marginXXS:lt,pickerDatePanelPaddingHorizontal:ct,pickerControlIconMargin:mt}=e,Rt=e.calc(_).mul(7).add(e.calc(ct).mul(2)).equal();return{[t]:{"&-panel":{display:"inline-flex",flexDirection:"column",textAlign:"center",background:z,borderRadius:Z,outline:"none","&-focused":{borderColor:k},"&-rtl":{[`${t}-prev-icon,
              ${t}-super-prev-icon`]:{transform:"rotate(45deg)"},[`${t}-next-icon,
              ${t}-super-next-icon`]:{transform:"rotate(-135deg)"},[`${t}-time-panel`]:{[`${t}-content`]:{direction:"ltr","> *":{direction:"rtl"}}}}},"&-decade-panel,\n        &-year-panel,\n        &-quarter-panel,\n        &-month-panel,\n        &-week-panel,\n        &-date-panel,\n        &-time-panel":{display:"flex",flexDirection:"column",width:Rt},"&-header":{display:"flex",padding:`0 ${(0,me.bf)(I)}`,color:W,borderBottom:`${(0,me.bf)(L)} ${F} ${H}`,"> *":{flex:"none"},button:{padding:0,color:Q,lineHeight:(0,me.bf)(re),background:"transparent",border:0,cursor:"pointer",transition:`color ${ie}`,fontSize:"inherit",display:"inline-flex",alignItems:"center",justifyContent:"center","&:empty":{display:"none"}},"> button":{minWidth:"1.6em",fontSize:ye,"&:hover":{color:ne},"&:disabled":{opacity:.25,pointerEvents:"none"}},"&-view":{flex:"auto",fontWeight:ae,lineHeight:(0,me.bf)(re),"> button":{color:"inherit",fontWeight:"inherit","&:not(:first-child)":{marginInlineStart:I},"&:hover":{color:k}}}},"&-prev-icon,\n        &-next-icon,\n        &-super-prev-icon,\n        &-super-next-icon":{position:"relative",width:y,height:y,"&::before":{position:"absolute",top:0,insetInlineStart:0,width:y,height:y,border:"0 solid currentcolor",borderBlockWidth:`${(0,me.bf)(X)} 0`,borderInlineWidth:`${(0,me.bf)(X)} 0`,content:'""'}},"&-super-prev-icon,\n        &-super-next-icon":{"&::after":{position:"absolute",top:mt,insetInlineStart:mt,display:"inline-block",width:y,height:y,border:"0 solid currentcolor",borderBlockWidth:`${(0,me.bf)(X)} 0`,borderInlineWidth:`${(0,me.bf)(X)} 0`,content:'""'}},"&-prev-icon, &-super-prev-icon":{transform:"rotate(-45deg)"},"&-next-icon, &-super-next-icon":{transform:"rotate(135deg)"},"&-content":{width:"100%",tableLayout:"fixed",borderCollapse:"collapse","th, td":{position:"relative",minWidth:ue,fontWeight:"normal"},th:{height:e.calc(ue).add(e.calc(fe).mul(2)).equal(),color:ve,verticalAlign:"middle"}},"&-cell":Object.assign({padding:`${(0,me.bf)(fe)} 0`,color:he,cursor:"pointer","&-in-view":{color:ve}},Z0(e)),"&-decade-panel,\n        &-year-panel,\n        &-quarter-panel,\n        &-month-panel":{[`${t}-content`]:{height:e.calc(Se).mul(4).equal()},[o]:{padding:`0 ${(0,me.bf)(I)}`}},"&-quarter-panel":{[`${t}-content`]:{height:ze}},"&-decade-panel":{[o]:{padding:`0 ${(0,me.bf)(e.calc(I).div(2).equal())}`},[`${t}-cell::before`]:{display:"none"}},"&-year-panel,\n        &-quarter-panel,\n        &-month-panel":{[`${t}-body`]:{padding:`0 ${(0,me.bf)(I)}`},[o]:{width:f}},"&-date-panel":{[`${t}-body`]:{padding:`${(0,me.bf)(I)} ${(0,me.bf)(ct)}`},[`${t}-content th`]:{boxSizing:"border-box",padding:0}},"&-week-panel":{[`${t}-cell`]:{[`&:hover ${o},
            &-selected ${o},
            ${o}`]:{background:"transparent !important"}},"&-row":{td:{"&:before":{transition:`background ${ie}`},"&:first-child:before":{borderStartStartRadius:Te,borderEndStartRadius:Te},"&:last-child:before":{borderStartEndRadius:Te,borderEndEndRadius:Te}},"&:hover td:before":{background:Ae},"&-range-start td, &-range-end td, &-selected td, &-hover td":{[`&${a}`]:{"&:before":{background:k},[`&${t}-cell-week`]:{color:new Sl.t(Fe).setA(.5).toHexString()},[o]:{color:Fe}}},"&-range-hover td:before":{background:bt}}},"&-week-panel, &-date-panel-show-week":{[`${t}-body`]:{padding:`${(0,me.bf)(I)} ${(0,me.bf)(S)}`},[`${t}-content th`]:{width:"auto"}},"&-datetime-panel":{display:"flex",[`${t}-time-panel`]:{borderInlineStart:`${(0,me.bf)(L)} ${F} ${H}`},[`${t}-date-panel,
          ${t}-time-panel`]:{transition:`opacity ${we}`},"&-active":{[`${t}-date-panel,
            ${t}-time-panel`]:{opacity:.3,"&-active":{opacity:1}}}},"&-time-panel":{width:"auto",minWidth:"auto",[`${t}-content`]:{display:"flex",flex:"auto",height:Ke},"&-column":{flex:"1 0 auto",width:tt,margin:`${(0,me.bf)(A)} 0`,padding:0,overflowY:"hidden",textAlign:"start",listStyle:"none",transition:`background ${ie}`,overflowX:"hidden","&::-webkit-scrollbar":{width:8,backgroundColor:"transparent"},"&::-webkit-scrollbar-thumb":{backgroundColor:e.colorTextTertiary,borderRadius:e.borderRadiusSM},"&":{scrollbarWidth:"thin",scrollbarColor:`${e.colorTextTertiary} transparent`},"&::after":{display:"block",height:`calc(100% - ${(0,me.bf)(vt)})`,content:'""'},"&:not(:first-child)":{borderInlineStart:`${(0,me.bf)(L)} ${F} ${H}`},"&-active":{background:new Sl.t(bt).setA(.2).toHexString()},"&:hover":{overflowY:"auto"},"> li":{margin:0,padding:0,[`&${t}-time-panel-cell`]:{marginInline:lt,[`${t}-time-panel-cell-inner`]:{display:"block",width:e.calc(tt).sub(e.calc(lt).mul(2)).equal(),height:vt,margin:0,paddingBlock:0,paddingInlineEnd:0,paddingInlineStart:e.calc(tt).sub(vt).div(2).equal(),color:ve,lineHeight:(0,me.bf)(vt),borderRadius:Te,cursor:"pointer",transition:`background ${ie}`,"&:hover":{background:Ae}},"&-selected":{[`${t}-time-panel-cell-inner`]:{background:bt}},"&-disabled":{[`${t}-time-panel-cell-inner`]:{color:he,background:"transparent",cursor:"not-allowed"}}}}}}}}};var o1=e=>{const{componentCls:t,textHeight:a,lineWidth:o,paddingSM:f,antCls:y,colorPrimary:_,cellActiveWithRangeBg:S,colorPrimaryBorder:I,lineType:A,colorSplit:z}=e;return{[`${t}-dropdown`]:{[`${t}-footer`]:{borderTop:`${(0,me.bf)(o)} ${A} ${z}`,"&-extra":{padding:`0 ${(0,me.bf)(f)}`,lineHeight:(0,me.bf)(e.calc(a).sub(e.calc(o).mul(2)).equal()),textAlign:"start","&:not(:last-child)":{borderBottom:`${(0,me.bf)(o)} ${A} ${z}`}}},[`${t}-panels + ${t}-footer ${t}-ranges`]:{justifyContent:"space-between"},[`${t}-ranges`]:{marginBlock:0,paddingInline:(0,me.bf)(f),overflow:"hidden",textAlign:"start",listStyle:"none",display:"flex",justifyContent:"center",alignItems:"center","> li":{lineHeight:(0,me.bf)(e.calc(a).sub(e.calc(o).mul(2)).equal()),display:"inline-block"},[`${t}-now-btn-disabled`]:{pointerEvents:"none",color:e.colorTextDisabled},[`${t}-preset > ${y}-tag-blue`]:{color:_,background:S,borderColor:I,cursor:"pointer"},[`${t}-ok`]:{paddingBlock:e.calc(o).mul(2).equal(),marginInlineStart:"auto"}}}}},zu=j(21571);const Fy=e=>{const{componentCls:t,controlHeightLG:a,paddingXXS:o,padding:f}=e;return{pickerCellCls:`${t}-cell`,pickerCellInnerCls:`${t}-cell-inner`,pickerYearMonthCellWidth:e.calc(a).mul(1.5).equal(),pickerQuarterPanelContentHeight:e.calc(a).mul(1.4).equal(),pickerCellPaddingVertical:e.calc(o).add(e.calc(o).div(2)).equal(),pickerCellBorderGap:2,pickerControlIconSize:7,pickerControlIconMargin:4,pickerControlIconBorderWidth:1.5,pickerDatePanelPaddingHorizontal:e.calc(f).add(e.calc(o).div(2)).equal()}},ky=e=>{const{colorBgContainerDisabled:t,controlHeight:a,controlHeightSM:o,controlHeightLG:f,paddingXXS:y,lineWidth:_}=e,S=y*2,I=_*2,A=Math.min(a-S,a-I),z=Math.min(o-S,o-I),L=Math.min(f-S,f-I);return{INTERNAL_FIXED_ITEM_MARGIN:Math.floor(y/2),cellHoverBg:e.controlItemBgHover,cellActiveWithRangeBg:e.controlItemBgActive,cellHoverWithRangeBg:new Sl.t(e.colorPrimary).lighten(35).toHexString(),cellRangeBorderColor:new Sl.t(e.colorPrimary).lighten(20).toHexString(),cellBgDisabled:t,timeColumnWidth:f*1.4,timeColumnHeight:28*8,timeCellHeight:28,cellWidth:o*1.5,cellHeight:o,textHeight:f,withoutTimeCellHeight:f*1.65,multipleItemBg:e.colorFillSecondary,multipleItemBorderColor:"transparent",multipleItemHeight:A,multipleItemHeightSM:z,multipleItemHeightLG:L,multipleSelectorBgDisabled:t,multipleItemColorDisabled:e.colorTextDisabled,multipleItemBorderColorDisabled:"transparent"}},Hh=e=>Object.assign(Object.assign(Object.assign(Object.assign({},(0,zu.T)(e)),ky(e)),(0,Pf.w)(e)),{presetsWidth:120,presetsMaxWidth:200,zIndexPopup:e.zIndexPopupBase+50}),Hm=e=>{const{calendarCls:t,componentCls:a,fullBg:o,fullPanelBg:f,itemActiveBg:y}=e;return{[t]:Object.assign(Object.assign(Object.assign({},By(e)),(0,nn.Wf)(e)),{background:o,"&-rtl":{direction:"rtl"},[`${t}-header`]:{display:"flex",justifyContent:"flex-end",padding:`${(0,me.bf)(e.paddingSM)} 0`,[`${t}-year-select`]:{minWidth:e.yearControlWidth},[`${t}-month-select`]:{minWidth:e.monthControlWidth,marginInlineStart:e.marginXS},[`${t}-mode-switch`]:{marginInlineStart:e.marginXS}}}),[`${t} ${a}-panel`]:{background:f,border:0,borderTop:`${(0,me.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,borderRadius:0,[`${a}-month-panel, ${a}-date-panel`]:{width:"auto"},[`${a}-body`]:{padding:`${(0,me.bf)(e.paddingXS)} 0`},[`${a}-content`]:{width:"100%"}},[`${t}-mini`]:{borderRadius:e.borderRadiusLG,[`${t}-header`]:{paddingInlineEnd:e.paddingXS,paddingInlineStart:e.paddingXS},[`${a}-panel`]:{borderRadius:`0 0 ${(0,me.bf)(e.borderRadiusLG)} ${(0,me.bf)(e.borderRadiusLG)}`},[`${a}-content`]:{height:e.miniContentHeight,th:{height:"auto",padding:0,lineHeight:(0,me.bf)(e.weekHeight)}},[`${a}-cell::before`]:{pointerEvents:"none"}},[`${t}${t}-full`]:{[`${a}-panel`]:{display:"block",width:"100%",textAlign:"end",background:o,border:0,[`${a}-body`]:{"th, td":{padding:0},th:{height:"auto",paddingInlineEnd:e.paddingSM,paddingBottom:e.paddingXXS,lineHeight:(0,me.bf)(e.weekHeight)}}},[`${a}-cell-week ${a}-cell-inner`]:{display:"block",borderRadius:0,borderTop:`${(0,me.bf)(e.lineWidthBold)} ${e.lineType} ${e.colorSplit}`,width:"100%",height:e.calc(e.dateValueHeight).add(e.dateContentHeight).add(e.calc(e.paddingXS).div(2)).add(e.lineWidthBold).equal()},[`${a}-cell`]:{"&::before":{display:"none"},"&:hover":{[`${t}-date`]:{background:e.controlItemBgHover}},[`${t}-date-today::before`]:{display:"none"},[`&-in-view${a}-cell-selected`]:{[`${t}-date, ${t}-date-today`]:{background:y}},"&-selected, &-selected:hover":{[`${t}-date, ${t}-date-today`]:{[`${t}-date-value`]:{color:e.colorPrimary}}}},[`${t}-date`]:{display:"block",width:"auto",height:"auto",margin:`0 ${(0,me.bf)(e.calc(e.marginXS).div(2).equal())}`,padding:`${(0,me.bf)(e.calc(e.paddingXS).div(2).equal())} ${(0,me.bf)(e.paddingXS)} 0`,border:0,borderTop:`${(0,me.bf)(e.lineWidthBold)} ${e.lineType} ${e.colorSplit}`,borderRadius:0,transition:`background ${e.motionDurationSlow}`,"&-value":{lineHeight:(0,me.bf)(e.dateValueHeight),transition:`color ${e.motionDurationSlow}`},"&-content":{position:"static",width:"auto",height:e.dateContentHeight,overflowY:"auto",color:e.colorText,lineHeight:e.lineHeight,textAlign:"start"},"&-today":{borderColor:e.colorPrimary,[`${t}-date-value`]:{color:e.colorText}}}},[`@media only screen and (max-width: ${(0,me.bf)(e.screenXS)}) `]:{[t]:{[`${t}-header`]:{display:"block",[`${t}-year-select`]:{width:"50%"},[`${t}-month-select`]:{width:`calc(50% - ${(0,me.bf)(e.paddingXS)})`},[`${t}-mode-switch`]:{width:"100%",marginTop:e.marginXS,marginInlineStart:0,"> label":{width:"50%",textAlign:"center"}}}}}}},a1=e=>Object.assign({fullBg:e.colorBgContainer,fullPanelBg:e.colorBgContainer,itemActiveBg:e.controlItemBgActive,yearControlWidth:80,monthControlWidth:70,miniContentHeight:256},ky(e));var cg=(0,oe.I$)("Calendar",e=>{const t=`${e.componentCls}-calendar`,a=(0,kr.IX)(e,Fy(e),{calendarCls:t,pickerCellInnerCls:`${e.componentCls}-cell-inner`,dateValueHeight:e.controlHeightSM,weekHeight:e.calc(e.controlHeightSM).mul(.75).equal(),dateContentHeight:e.calc(e.calc(e.fontHeightSM).add(e.marginXS)).mul(3).add(e.calc(e.lineWidth).mul(2)).equal()});return[Hm(a)]},a1);const s1=(e,t,a)=>{const{getYear:o}=a;return e&&t&&o(e)===o(t)},ug=(e,t,a)=>{const{getMonth:o}=a;return s1(e,t,a)&&o(e)===o(t)},dg=(e,t,a)=>{const{getDate:o}=a;return ug(e,t,a)&&o(e)===o(t)};var Uh=e=>a=>{const{prefixCls:o,className:f,rootClassName:y,style:_,dateFullCellRender:S,dateCellRender:I,monthFullCellRender:A,monthCellRender:z,cellRender:L,fullCellRender:F,headerRender:Z,value:k,defaultValue:W,disabledDate:H,mode:X,validRange:Q,fullscreen:re=!0,showWeek:ie,onChange:ne,onPanelChange:ae,onSelect:ue}=a,{getPrefixCls:fe,direction:he,className:ve,style:ye}=(0,_e.dj)("calendar"),we=fe("picker",o),Se=`${we}-calendar`,[ze,Te,Fe]=cg(we,Se),Ae=e.getNow(),[Ke,tt]=(0,zt.Z)(()=>k||e.getNow(),{defaultValue:W,value:k}),[vt,bt]=(0,zt.Z)("month",{value:X}),lt=s.useMemo(()=>vt==="year"?"month":"date",[vt]),ct=s.useCallback(Vt=>(Q?e.isAfter(Q[0],Vt)||e.isAfter(Vt,Q[1]):!1)||!!(H!=null&&H(Vt)),[H,Q]),mt=(Vt,At)=>{ae==null||ae(Vt,At)},Rt=Vt=>{tt(Vt),dg(Vt,Ke,e)||((lt==="date"&&!ug(Vt,Ke,e)||lt==="month"&&!s1(Vt,Ke,e))&&mt(Vt,vt),ne==null||ne(Vt))},wt=Vt=>{bt(Vt),mt(Ke,Vt)},Bt=(Vt,At)=>{Rt(Vt),ue==null||ue(Vt,{source:At})},Ct=s.useCallback((Vt,At)=>F?F(Vt,At):S?S(Vt):s.createElement("div",{className:J()(`${we}-cell-inner`,`${Se}-date`,{[`${Se}-date-today`]:dg(Ae,Vt,e)})},s.createElement("div",{className:`${Se}-date-value`},String(e.getDate(Vt)).padStart(2,"0")),s.createElement("div",{className:`${Se}-date-content`},L?L(Vt,At):I==null?void 0:I(Vt))),[S,I,L,F]),dn=s.useCallback((Vt,At)=>{if(F)return F(Vt,At);if(A)return A(Vt);const $n=At.locale.shortMonths||e.locale.getShortMonths(At.locale.locale);return s.createElement("div",{className:J()(`${we}-cell-inner`,`${Se}-date`,{[`${Se}-date-today`]:ug(Ae,Vt,e)})},s.createElement("div",{className:`${Se}-date-value`},$n[e.getMonth(Vt)]),s.createElement("div",{className:`${Se}-date-content`},L?L(Vt,At):z==null?void 0:z(Vt)))},[A,z,L,F]),[zn]=(0,rr.Z)("Calendar",i1.Z),rn=Object.assign(Object.assign({},zn),a.locale),Cn=(Vt,At)=>{if(At.type==="date")return Ct(Vt,At);if(At.type==="month")return dn(Vt,Object.assign(Object.assign({},At),{locale:rn==null?void 0:rn.lang}))};return ze(s.createElement("div",{className:J()(Se,{[`${Se}-full`]:re,[`${Se}-mini`]:!re,[`${Se}-rtl`]:he==="rtl"},ve,f,y,Te,Fe),style:Object.assign(Object.assign({},ye),_)},Z?Z({value:Ke,type:vt,onChange:Vt=>{Bt(Vt,"customize")},onTypeChange:wt}):s.createElement(VC,{prefixCls:Se,value:Ke,generateConfig:e,mode:vt,fullscreen:re,locale:rn==null?void 0:rn.lang,validRange:Q,onChange:Bt,onModeChange:wt}),s.createElement(P0,{value:Ke,prefixCls:we,locale:rn==null?void 0:rn.lang,generateConfig:e,cellRender:Cn,onSelect:Vt=>{Bt(Vt,lt)},mode:lt,picker:lt,disabledDate:ct,hideHeader:!0,showWeek:ie})))};const V0=Uh(b_);V0.generateCalendar=Uh;var Wh=V0,c1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},u1=c1,d1=function(t,a){return s.createElement(En.Z,(0,Ue.Z)({},t,{ref:a,icon:u1}))},f1=s.forwardRef(d1),H0=f1,fg=j(21611),U0=(0,s.createContext)(null),UC=function(t){var a=t.activeTabOffset,o=t.horizontal,f=t.rtl,y=t.indicator,_=y===void 0?{}:y,S=_.size,I=_.align,A=I===void 0?"center":I,z=(0,s.useState)(),L=(0,Pe.Z)(z,2),F=L[0],Z=L[1],k=(0,s.useRef)(),W=s.useCallback(function(X){return typeof S=="function"?S(X):typeof S=="number"?S:X},[S]);function H(){He.Z.cancel(k.current)}return(0,s.useEffect)(function(){var X={};if(a)if(o){X.width=W(a.width);var Q=f?"right":"left";A==="start"&&(X[Q]=a[Q]),A==="center"&&(X[Q]=a[Q]+a.width/2,X.transform=f?"translateX(50%)":"translateX(-50%)"),A==="end"&&(X[Q]=a[Q]+a.width,X.transform="translateX(-100%)")}else X.height=W(a.height),A==="start"&&(X.top=a.top),A==="center"&&(X.top=a.top+a.height/2,X.transform="translateY(-50%)"),A==="end"&&(X.top=a.top+a.height,X.transform="translateY(-100%)");return H(),k.current=(0,He.Z)(function(){Z(X)}),H},[a,o,f,A,W]),{style:F}},h1=UC,m1={width:0,height:0,left:0,top:0};function WC(e,t,a){return(0,s.useMemo)(function(){for(var o,f=new Map,y=t.get((o=e[0])===null||o===void 0?void 0:o.key)||m1,_=y.left+y.width,S=0;S<e.length;S+=1){var I=e[S].key,A=t.get(I);if(!A){var z;A=t.get((z=e[S-1])===null||z===void 0?void 0:z.key)||m1}var L=f.get(I)||(0,K.Z)({},A);L.right=_-L.left-L.width,f.set(I,L)}return f},[e.map(function(o){return o.key}).join("_"),t,a])}function p1(e,t){var a=s.useRef(e),o=s.useState({}),f=(0,Pe.Z)(o,2),y=f[1];function _(S){var I=typeof S=="function"?S(a.current):S;I!==a.current&&t(I,a.current),a.current=I,y({})}return[a.current,_]}var g1=.1,Um=.01,Wm=20,Bf=Math.pow(.995,Wm);function Gm(e,t){var a=(0,s.useState)(),o=(0,Pe.Z)(a,2),f=o[0],y=o[1],_=(0,s.useState)(0),S=(0,Pe.Z)(_,2),I=S[0],A=S[1],z=(0,s.useState)(0),L=(0,Pe.Z)(z,2),F=L[0],Z=L[1],k=(0,s.useState)(),W=(0,Pe.Z)(k,2),H=W[0],X=W[1],Q=(0,s.useRef)();function re(he){var ve=he.touches[0],ye=ve.screenX,we=ve.screenY;y({x:ye,y:we}),window.clearInterval(Q.current)}function ie(he){if(f){var ve=he.touches[0],ye=ve.screenX,we=ve.screenY;y({x:ye,y:we});var Se=ye-f.x,ze=we-f.y;t(Se,ze);var Te=Date.now();A(Te),Z(Te-I),X({x:Se,y:ze})}}function ne(){if(f&&(y(null),X(null),H)){var he=H.x/F,ve=H.y/F,ye=Math.abs(he),we=Math.abs(ve);if(Math.max(ye,we)<g1)return;var Se=he,ze=ve;Q.current=window.setInterval(function(){if(Math.abs(Se)<Um&&Math.abs(ze)<Um){window.clearInterval(Q.current);return}Se*=Bf,ze*=Bf,t(Se*Wm,ze*Wm)},Wm)}}var ae=(0,s.useRef)();function ue(he){var ve=he.deltaX,ye=he.deltaY,we=0,Se=Math.abs(ve),ze=Math.abs(ye);Se===ze?we=ae.current==="x"?ve:ye:Se>ze?(we=ve,ae.current="x"):(we=ye,ae.current="y"),t(-we,-we)&&he.preventDefault()}var fe=(0,s.useRef)(null);fe.current={onTouchStart:re,onTouchMove:ie,onTouchEnd:ne,onWheel:ue},s.useEffect(function(){function he(Se){fe.current.onTouchStart(Se)}function ve(Se){fe.current.onTouchMove(Se)}function ye(Se){fe.current.onTouchEnd(Se)}function we(Se){fe.current.onWheel(Se)}return document.addEventListener("touchmove",ve,{passive:!1}),document.addEventListener("touchend",ye,{passive:!0}),e.current.addEventListener("touchstart",he,{passive:!0}),e.current.addEventListener("wheel",we,{passive:!1}),function(){document.removeEventListener("touchmove",ve),document.removeEventListener("touchend",ye)}},[])}function Xm(e){var t=(0,s.useState)(0),a=(0,Pe.Z)(t,2),o=a[0],f=a[1],y=(0,s.useRef)(0),_=(0,s.useRef)();return _.current=e,(0,yl.o)(function(){var S;(S=_.current)===null||S===void 0||S.call(_)},[o]),function(){y.current===o&&(y.current+=1,f(y.current))}}function jy(e){var t=(0,s.useRef)([]),a=(0,s.useState)({}),o=(0,Pe.Z)(a,2),f=o[1],y=(0,s.useRef)(typeof e=="function"?e():e),_=Xm(function(){var I=y.current;t.current.forEach(function(A){I=A(I)}),t.current=[],y.current=I,f({})});function S(I){t.current.push(I),_()}return[y.current,S]}var hg={width:0,height:0,left:0,top:0,right:0};function Zy(e,t,a,o,f,y,_){var S=_.tabs,I=_.tabPosition,A=_.rtl,z,L,F;return["top","bottom"].includes(I)?(z="width",L=A?"right":"left",F=Math.abs(a)):(z="height",L="top",F=-a),(0,s.useMemo)(function(){if(!S.length)return[0,0];for(var Z=S.length,k=Z,W=0;W<Z;W+=1){var H=e.get(S[W].key)||hg;if(Math.floor(H[L]+H[z])>Math.floor(F+t)){k=W-1;break}}for(var X=0,Q=Z-1;Q>=0;Q-=1){var re=e.get(S[Q].key)||hg;if(re[L]<F){X=Q+1;break}}return X>=k?[0,0]:[X,k]},[e,t,o,f,y,F,I,S.map(function(Z){return Z.key}).join("_"),A])}function W0(e){var t;return e instanceof Map?(t={},e.forEach(function(a,o){t[o]=a})):t=e,JSON.stringify(t)}var G0="TABS_DQ";function Km(e){return String(e).replace(/"/g,G0)}function X0(e,t,a,o){return!(!a||o||e===!1||e===void 0&&(t===!1||t===null))}var qm=s.forwardRef(function(e,t){var a=e.prefixCls,o=e.editable,f=e.locale,y=e.style;return!o||o.showAdd===!1?null:s.createElement("button",{ref:t,type:"button",className:"".concat(a,"-nav-add"),style:y,"aria-label":(f==null?void 0:f.addAriaLabel)||"Add tab",onClick:function(S){o.onEdit("add",{event:S})}},o.addIcon||"+")}),Vy=qm,GC=s.forwardRef(function(e,t){var a=e.position,o=e.prefixCls,f=e.extra;if(!f)return null;var y,_={};return(0,dt.Z)(f)==="object"&&!s.isValidElement(f)?_=f:_.right=f,a==="right"&&(y=_.right),a==="left"&&(y=_.left),y?s.createElement("div",{className:"".concat(o,"-extra-content"),ref:t},y):null}),Hy=GC,XC=s.forwardRef(function(e,t){var a=e.prefixCls,o=e.id,f=e.tabs,y=e.locale,_=e.mobile,S=e.more,I=S===void 0?{}:S,A=e.style,z=e.className,L=e.editable,F=e.tabBarGutter,Z=e.rtl,k=e.removeAriaLabel,W=e.onTabClick,H=e.getPopupContainer,X=e.popupClassName,Q=(0,s.useState)(!1),re=(0,Pe.Z)(Q,2),ie=re[0],ne=re[1],ae=(0,s.useState)(null),ue=(0,Pe.Z)(ae,2),fe=ue[0],he=ue[1],ve=I.icon,ye=ve===void 0?"More":ve,we="".concat(o,"-more-popup"),Se="".concat(a,"-dropdown"),ze=fe!==null?"".concat(we,"-").concat(fe):null,Te=y==null?void 0:y.dropdownAriaLabel;function Fe(ct,mt){ct.preventDefault(),ct.stopPropagation(),L.onEdit("remove",{key:mt,event:ct})}var Ae=s.createElement(t0,{onClick:function(mt){var Rt=mt.key,wt=mt.domEvent;W(Rt,wt),ne(!1)},prefixCls:"".concat(Se,"-menu"),id:we,tabIndex:-1,role:"listbox","aria-activedescendant":ze,selectedKeys:[fe],"aria-label":Te!==void 0?Te:"expanded dropdown"},f.map(function(ct){var mt=ct.closable,Rt=ct.disabled,wt=ct.closeIcon,Bt=ct.key,Ct=ct.label,dn=X0(mt,wt,L,Rt);return s.createElement(Rh,{key:Bt,id:"".concat(we,"-").concat(Bt),role:"option","aria-controls":o&&"".concat(o,"-panel-").concat(Bt),disabled:Rt},s.createElement("span",null,Ct),dn&&s.createElement("button",{type:"button","aria-label":k||"remove",tabIndex:0,className:"".concat(Se,"-menu-item-remove"),onClick:function(rn){rn.stopPropagation(),Fe(rn,Bt)}},wt||L.removeIcon||"\xD7"))}));function Ke(ct){for(var mt=f.filter(function(dn){return!dn.disabled}),Rt=mt.findIndex(function(dn){return dn.key===fe})||0,wt=mt.length,Bt=0;Bt<wt;Bt+=1){Rt=(Rt+ct+wt)%wt;var Ct=mt[Rt];if(!Ct.disabled){he(Ct.key);return}}}function tt(ct){var mt=ct.which;if(!ie){[_t.Z.DOWN,_t.Z.SPACE,_t.Z.ENTER].includes(mt)&&(ne(!0),ct.preventDefault());return}switch(mt){case _t.Z.UP:Ke(-1),ct.preventDefault();break;case _t.Z.DOWN:Ke(1),ct.preventDefault();break;case _t.Z.ESC:ne(!1);break;case _t.Z.SPACE:case _t.Z.ENTER:fe!==null&&W(fe,ct);break}}(0,s.useEffect)(function(){var ct=document.getElementById(ze);ct&&ct.scrollIntoView&&ct.scrollIntoView(!1)},[fe]),(0,s.useEffect)(function(){ie||he(null)},[ie]);var vt=(0,ge.Z)({},Z?"marginRight":"marginLeft",F);f.length||(vt.visibility="hidden",vt.order=1);var bt=J()((0,ge.Z)({},"".concat(Se,"-rtl"),Z)),lt=_?null:s.createElement(It,(0,Ue.Z)({prefixCls:Se,overlay:Ae,visible:f.length?ie:!1,onVisibleChange:ne,overlayClassName:J()(bt,X),mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:H},I),s.createElement("button",{type:"button",className:"".concat(a,"-nav-more"),style:vt,"aria-haspopup":"listbox","aria-controls":we,id:"".concat(o,"-more"),"aria-expanded":ie,onKeyDown:tt},ye));return s.createElement("div",{className:J()("".concat(a,"-nav-operations"),z),style:A,ref:t},lt,s.createElement(Vy,{prefixCls:a,locale:y,editable:L}))}),KC=s.memo(XC,function(e,t){return t.tabMoving}),qC=function(t){var a=t.prefixCls,o=t.id,f=t.active,y=t.focus,_=t.tab,S=_.key,I=_.label,A=_.disabled,z=_.closeIcon,L=_.icon,F=t.closable,Z=t.renderWrapper,k=t.removeAriaLabel,W=t.editable,H=t.onClick,X=t.onFocus,Q=t.onBlur,re=t.onKeyDown,ie=t.onMouseDown,ne=t.onMouseUp,ae=t.style,ue=t.tabCount,fe=t.currentPosition,he="".concat(a,"-tab"),ve=X0(F,z,W,A);function ye(Fe){A||H(Fe)}function we(Fe){Fe.preventDefault(),Fe.stopPropagation(),W.onEdit("remove",{key:S,event:Fe})}var Se=s.useMemo(function(){return L&&typeof I=="string"?s.createElement("span",null,I):I},[I,L]),ze=s.useRef(null);s.useEffect(function(){y&&ze.current&&ze.current.focus()},[y]);var Te=s.createElement("div",{key:S,"data-node-key":Km(S),className:J()(he,(0,ge.Z)((0,ge.Z)((0,ge.Z)((0,ge.Z)({},"".concat(he,"-with-remove"),ve),"".concat(he,"-active"),f),"".concat(he,"-disabled"),A),"".concat(he,"-focus"),y)),style:ae,onClick:ye},s.createElement("div",{ref:ze,role:"tab","aria-selected":f,id:o&&"".concat(o,"-tab-").concat(S),className:"".concat(he,"-btn"),"aria-controls":o&&"".concat(o,"-panel-").concat(S),"aria-disabled":A,tabIndex:A?null:f?0:-1,onClick:function(Ae){Ae.stopPropagation(),ye(Ae)},onKeyDown:re,onMouseDown:ie,onMouseUp:ne,onFocus:X,onBlur:Q},y&&s.createElement("div",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"Tab ".concat(fe," of ").concat(ue)),L&&s.createElement("span",{className:"".concat(he,"-icon")},L),I&&Se),ve&&s.createElement("button",{type:"button",role:"tab","aria-label":k||"remove",tabIndex:f?0:-1,className:"".concat(he,"-remove"),onClick:function(Ae){Ae.stopPropagation(),we(Ae)}},z||W.removeIcon||"\xD7"));return Z?Z(Te):Te},YC=qC,JC=function(t,a){var o=t.offsetWidth,f=t.offsetHeight,y=t.offsetTop,_=t.offsetLeft,S=t.getBoundingClientRect(),I=S.width,A=S.height,z=S.left,L=S.top;return Math.abs(I-o)<1?[I,A,z-a.left,L-a.top]:[o,f,_,y]},Kd=function(t){var a=t.current||{},o=a.offsetWidth,f=o===void 0?0:o,y=a.offsetHeight,_=y===void 0?0:y;if(t.current){var S=t.current.getBoundingClientRect(),I=S.width,A=S.height;if(Math.abs(I-f)<1)return[I,A]}return[f,_]},K0=function(t,a){return t[a?0:1]},QC=s.forwardRef(function(e,t){var a=e.className,o=e.style,f=e.id,y=e.animated,_=e.activeKey,S=e.rtl,I=e.extra,A=e.editable,z=e.locale,L=e.tabPosition,F=e.tabBarGutter,Z=e.children,k=e.onTabClick,W=e.onTabScroll,H=e.indicator,X=s.useContext(U0),Q=X.prefixCls,re=X.tabs,ie=(0,s.useRef)(null),ne=(0,s.useRef)(null),ae=(0,s.useRef)(null),ue=(0,s.useRef)(null),fe=(0,s.useRef)(null),he=(0,s.useRef)(null),ve=(0,s.useRef)(null),ye=L==="top"||L==="bottom",we=p1(0,function(ya,Lo){ye&&W&&W({direction:ya>Lo?"left":"right"})}),Se=(0,Pe.Z)(we,2),ze=Se[0],Te=Se[1],Fe=p1(0,function(ya,Lo){!ye&&W&&W({direction:ya>Lo?"top":"bottom"})}),Ae=(0,Pe.Z)(Fe,2),Ke=Ae[0],tt=Ae[1],vt=(0,s.useState)([0,0]),bt=(0,Pe.Z)(vt,2),lt=bt[0],ct=bt[1],mt=(0,s.useState)([0,0]),Rt=(0,Pe.Z)(mt,2),wt=Rt[0],Bt=Rt[1],Ct=(0,s.useState)([0,0]),dn=(0,Pe.Z)(Ct,2),zn=dn[0],rn=dn[1],Cn=(0,s.useState)([0,0]),Vt=(0,Pe.Z)(Cn,2),At=Vt[0],$n=Vt[1],yn=jy(new Map),Ir=(0,Pe.Z)(yn,2),cr=Ir[0],Kn=Ir[1],qn=WC(re,cr,wt[0]),Pn=K0(lt,ye),Yn=K0(wt,ye),zr=K0(zn,ye),si=K0(At,ye),yi=Math.floor(Pn)<Math.floor(Yn+zr),Di=yi?Pn-si:Pn-zr,Eo="".concat(Q,"-nav-operations-hidden"),gi=0,ai=0;ye&&S?(gi=0,ai=Math.max(0,Yn-Di)):(gi=Math.min(0,Di-Yn),ai=0);function mi(ya){return ya<gi?gi:ya>ai?ai:ya}var Xi=(0,s.useRef)(null),Pi=(0,s.useState)(),Io=(0,Pe.Z)(Pi,2),dr=Io[0],er=Io[1];function gr(){er(Date.now())}function Zn(){Xi.current&&clearTimeout(Xi.current)}Gm(ue,function(ya,Lo){function Ra(ps,Zs){ps(function(Ys){var Gl=mi(Ys+Zs);return Gl})}return yi?(ye?Ra(Te,ya):Ra(tt,Lo),Zn(),gr(),!0):!1}),(0,s.useEffect)(function(){return Zn(),dr&&(Xi.current=setTimeout(function(){er(0)},100)),Zn},[dr]);var ni=Zy(qn,Di,ye?ze:Ke,Yn,zr,si,(0,K.Z)((0,K.Z)({},e),{},{tabs:re})),Oi=(0,Pe.Z)(ni,2),ro=Oi[0],Ko=Oi[1],Oa=(0,ur.Z)(function(){var ya=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_,Lo=qn.get(ya)||{width:0,height:0,left:0,right:0,top:0};if(ye){var Ra=ze;S?Lo.right<ze?Ra=Lo.right:Lo.right+Lo.width>ze+Di&&(Ra=Lo.right+Lo.width-Di):Lo.left<-ze?Ra=-Lo.left:Lo.left+Lo.width>-ze+Di&&(Ra=-(Lo.left+Lo.width-Di)),tt(0),Te(mi(Ra))}else{var ps=Ke;Lo.top<-Ke?ps=-Lo.top:Lo.top+Lo.height>-Ke+Di&&(ps=-(Lo.top+Lo.height-Di)),Te(0),tt(mi(ps))}}),ta=(0,s.useState)(),Is=(0,Pe.Z)(ta,2),Fa=Is[0],Ua=Is[1],pa=(0,s.useState)(!1),rs=(0,Pe.Z)(pa,2),Ls=rs[0],Co=rs[1],Go=re.filter(function(ya){return!ya.disabled}).map(function(ya){return ya.key}),Ta=function(Lo){var Ra=Go.indexOf(Fa||_),ps=Go.length,Zs=(Ra+Lo+ps)%ps,Ys=Go[Zs];Ua(Ys)},Wa=function(Lo){var Ra=Lo.code,ps=S&&ye,Zs=Go[0],Ys=Go[Go.length-1];switch(Ra){case"ArrowLeft":{ye&&Ta(ps?1:-1);break}case"ArrowRight":{ye&&Ta(ps?-1:1);break}case"ArrowUp":{Lo.preventDefault(),ye||Ta(-1);break}case"ArrowDown":{Lo.preventDefault(),ye||Ta(1);break}case"Home":{Lo.preventDefault(),Ua(Zs);break}case"End":{Lo.preventDefault(),Ua(Ys);break}case"Enter":case"Space":{Lo.preventDefault(),k(Fa,Lo);break}case"Backspace":case"Delete":{var Gl=Go.indexOf(Fa),Js=re.find(function(hs){return hs.key===Fa}),$a=X0(Js==null?void 0:Js.closable,Js==null?void 0:Js.closeIcon,A,Js==null?void 0:Js.disabled);$a&&(Lo.preventDefault(),Lo.stopPropagation(),A.onEdit("remove",{key:Fa,event:Lo}),Gl===Go.length-1?Ta(-1):Ta(1));break}}},ds={};ye?ds[S?"marginRight":"marginLeft"]=F:ds.marginTop=F;var sl=re.map(function(ya,Lo){var Ra=ya.key;return s.createElement(YC,{id:f,prefixCls:Q,key:Ra,tab:ya,style:Lo===0?void 0:ds,closable:ya.closable,editable:A,active:Ra===_,focus:Ra===Fa,renderWrapper:Z,removeAriaLabel:z==null?void 0:z.removeAriaLabel,tabCount:Go.length,currentPosition:Lo+1,onClick:function(Zs){k(Ra,Zs)},onKeyDown:Wa,onFocus:function(){Ls||Ua(Ra),Oa(Ra),gr(),ue.current&&(S||(ue.current.scrollLeft=0),ue.current.scrollTop=0)},onBlur:function(){Ua(void 0)},onMouseDown:function(){Co(!0)},onMouseUp:function(){Co(!1)}})}),Ol=function(){return Kn(function(){var Lo,Ra=new Map,ps=(Lo=fe.current)===null||Lo===void 0?void 0:Lo.getBoundingClientRect();return re.forEach(function(Zs){var Ys,Gl=Zs.key,Js=(Ys=fe.current)===null||Ys===void 0?void 0:Ys.querySelector('[data-node-key="'.concat(Km(Gl),'"]'));if(Js){var $a=JC(Js,ps),hs=(0,Pe.Z)($a,4),Ts=hs[0],Rl=hs[1],ku=hs[2],tm=hs[3];Ra.set(Gl,{width:Ts,height:Rl,left:ku,top:tm})}}),Ra})};(0,s.useEffect)(function(){Ol()},[re.map(function(ya){return ya.key}).join("_")]);var xl=Xm(function(){var ya=Kd(ie),Lo=Kd(ne),Ra=Kd(ae);ct([ya[0]-Lo[0]-Ra[0],ya[1]-Lo[1]-Ra[1]]);var ps=Kd(ve);rn(ps);var Zs=Kd(he);$n(Zs);var Ys=Kd(fe);Bt([Ys[0]-ps[0],Ys[1]-ps[1]]),Ol()}),Zl=re.slice(0,ro),fa=re.slice(Ko+1),Uo=[].concat((0,Ie.Z)(Zl),(0,Ie.Z)(fa)),Wo=qn.get(_),Do=h1({activeTabOffset:Wo,horizontal:ye,indicator:H,rtl:S}),fs=Do.style;(0,s.useEffect)(function(){Oa()},[_,gi,ai,W0(Wo),W0(qn),ye]),(0,s.useEffect)(function(){xl()},[S]);var Ns=!!Uo.length,La="".concat(Q,"-nav-wrap"),xa,_s,Cs,qs;return ye?S?(_s=ze>0,xa=ze!==ai):(xa=ze<0,_s=ze!==gi):(Cs=Ke<0,qs=Ke!==gi),s.createElement(u.Z,{onResize:xl},s.createElement("div",{ref:(0,an.x1)(t,ie),role:"tablist","aria-orientation":ye?"horizontal":"vertical",className:J()("".concat(Q,"-nav"),a),style:o,onKeyDown:function(){gr()}},s.createElement(Hy,{ref:ne,position:"left",extra:I,prefixCls:Q}),s.createElement(u.Z,{onResize:xl},s.createElement("div",{className:J()(La,(0,ge.Z)((0,ge.Z)((0,ge.Z)((0,ge.Z)({},"".concat(La,"-ping-left"),xa),"".concat(La,"-ping-right"),_s),"".concat(La,"-ping-top"),Cs),"".concat(La,"-ping-bottom"),qs)),ref:ue},s.createElement(u.Z,{onResize:xl},s.createElement("div",{ref:fe,className:"".concat(Q,"-nav-list"),style:{transform:"translate(".concat(ze,"px, ").concat(Ke,"px)"),transition:dr?"none":void 0}},sl,s.createElement(Vy,{ref:ve,prefixCls:Q,locale:z,editable:A,style:(0,K.Z)((0,K.Z)({},sl.length===0?void 0:ds),{},{visibility:Ns?"hidden":null})}),s.createElement("div",{className:J()("".concat(Q,"-ink-bar"),(0,ge.Z)({},"".concat(Q,"-ink-bar-animated"),y.inkBar)),style:fs}))))),s.createElement(KC,(0,Ue.Z)({},e,{removeAriaLabel:z==null?void 0:z.removeAriaLabel,ref:he,prefixCls:Q,tabs:Uo,className:!Ns&&Eo,tabMoving:!!dr})),s.createElement(Hy,{ref:ae,position:"right",extra:I,prefixCls:Q})))}),mg=QC,eS=s.forwardRef(function(e,t){var a=e.prefixCls,o=e.className,f=e.style,y=e.id,_=e.active,S=e.tabKey,I=e.children;return s.createElement("div",{id:y&&"".concat(y,"-panel-").concat(S),role:"tabpanel",tabIndex:_?0:-1,"aria-labelledby":y&&"".concat(y,"-tab-").concat(S),"aria-hidden":!_,style:f,className:J()(a,_&&"".concat(a,"-active"),o),ref:t},I)}),v1=eS,tS=["renderTabBar"],q0=["label","key"],nS=function(t){var a=t.renderTabBar,o=(0,de.Z)(t,tS),f=s.useContext(U0),y=f.tabs;if(a){var _=(0,K.Z)((0,K.Z)({},o),{},{panes:y.map(function(S){var I=S.label,A=S.key,z=(0,de.Z)(S,q0);return s.createElement(v1,(0,Ue.Z)({tab:I,key:A,tabKey:A},z))})});return a(_,mg)}return s.createElement(mg,o)},rS=nS,y1=["key","forceRender","style","className","destroyInactiveTabPane"],iS=function(t){var a=t.id,o=t.activeKey,f=t.animated,y=t.tabPosition,_=t.destroyInactiveTabPane,S=s.useContext(U0),I=S.prefixCls,A=S.tabs,z=f.tabPane,L="".concat(I,"-tabpane");return s.createElement("div",{className:J()("".concat(I,"-content-holder"))},s.createElement("div",{className:J()("".concat(I,"-content"),"".concat(I,"-content-").concat(y),(0,ge.Z)({},"".concat(I,"-content-animated"),z))},A.map(function(F){var Z=F.key,k=F.forceRender,W=F.style,H=F.className,X=F.destroyInactiveTabPane,Q=(0,de.Z)(F,y1),re=Z===o;return s.createElement(Rn.ZP,(0,Ue.Z)({key:Z,visible:re,forceRender:k,removeOnLeave:!!(_||X),leavedClassName:"".concat(L,"-hidden")},f.tabPaneMotion),function(ie,ne){var ae=ie.style,ue=ie.className;return s.createElement(v1,(0,Ue.Z)({},Q,{prefixCls:L,id:a,tabKey:Z,animated:z,active:re,style:(0,K.Z)((0,K.Z)({},W),ae),className:J()(H,ue),ref:ne}))})})))},oS=iS;function aS(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{inkBar:!0,tabPane:!1},t;return e===!1?t={inkBar:!1,tabPane:!1}:e===!0?t={inkBar:!0,tabPane:!1}:t=(0,K.Z)({inkBar:!0},(0,dt.Z)(e)==="object"?e:{}),t.tabPaneMotion&&t.tabPane===void 0&&(t.tabPane=!0),!t.tabPaneMotion&&t.tabPane&&(t.tabPane=!1),t}var sS=["id","prefixCls","className","items","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","more","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll","getPopupContainer","popupClassName","indicator"],b1=0,Ym=s.forwardRef(function(e,t){var a=e.id,o=e.prefixCls,f=o===void 0?"rc-tabs":o,y=e.className,_=e.items,S=e.direction,I=e.activeKey,A=e.defaultActiveKey,z=e.editable,L=e.animated,F=e.tabPosition,Z=F===void 0?"top":F,k=e.tabBarGutter,W=e.tabBarStyle,H=e.tabBarExtraContent,X=e.locale,Q=e.more,re=e.destroyInactiveTabPane,ie=e.renderTabBar,ne=e.onChange,ae=e.onTabClick,ue=e.onTabScroll,fe=e.getPopupContainer,he=e.popupClassName,ve=e.indicator,ye=(0,de.Z)(e,sS),we=s.useMemo(function(){return(_||[]).filter(function(At){return At&&(0,dt.Z)(At)==="object"&&"key"in At})},[_]),Se=S==="rtl",ze=aS(L),Te=(0,s.useState)(!1),Fe=(0,Pe.Z)(Te,2),Ae=Fe[0],Ke=Fe[1];(0,s.useEffect)(function(){Ke((0,fg.Z)())},[]);var tt=(0,zt.Z)(function(){var At;return(At=we[0])===null||At===void 0?void 0:At.key},{value:I,defaultValue:A}),vt=(0,Pe.Z)(tt,2),bt=vt[0],lt=vt[1],ct=(0,s.useState)(function(){return we.findIndex(function(At){return At.key===bt})}),mt=(0,Pe.Z)(ct,2),Rt=mt[0],wt=mt[1];(0,s.useEffect)(function(){var At=we.findIndex(function(yn){return yn.key===bt});if(At===-1){var $n;At=Math.max(0,Math.min(Rt,we.length-1)),lt(($n=we[At])===null||$n===void 0?void 0:$n.key)}wt(At)},[we.map(function(At){return At.key}).join("_"),bt,Rt]);var Bt=(0,zt.Z)(null,{value:a}),Ct=(0,Pe.Z)(Bt,2),dn=Ct[0],zn=Ct[1];(0,s.useEffect)(function(){a||(zn("rc-tabs-".concat(b1)),b1+=1)},[]);function rn(At,$n){ae==null||ae(At,$n);var yn=At!==bt;lt(At),yn&&(ne==null||ne(At))}var Cn={id:dn,activeKey:bt,animated:ze,tabPosition:Z,rtl:Se,mobile:Ae},Vt=(0,K.Z)((0,K.Z)({},Cn),{},{editable:z,locale:X,more:Q,tabBarGutter:k,onTabClick:rn,onTabScroll:ue,extra:H,style:W,panes:null,getPopupContainer:fe,popupClassName:he,indicator:ve});return s.createElement(U0.Provider,{value:{tabs:we,prefixCls:f}},s.createElement("div",(0,Ue.Z)({ref:t,id:a,className:J()(f,"".concat(f,"-").concat(Z),(0,ge.Z)((0,ge.Z)((0,ge.Z)({},"".concat(f,"-mobile"),Ae),"".concat(f,"-editable"),z),"".concat(f,"-rtl"),Se),y)},ye),s.createElement(rS,(0,Ue.Z)({},Vt,{renderTabBar:ie})),s.createElement(oS,(0,Ue.Z)({destroyInactiveTabPane:re},Cn,{animated:ze}))))}),pg=Ym,lS=pg;const Uy={motionAppear:!1,motionEnter:!0,motionLeave:!0};function _1(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{inkBar:!0,tabPane:!1},a;return t===!1?a={inkBar:!1,tabPane:!1}:t===!0?a={inkBar:!0,tabPane:!0}:a=Object.assign({inkBar:!0},typeof t=="object"?t:{}),a.tabPane&&(a.tabPaneMotion=Object.assign(Object.assign({},Uy),{motionName:(0,ir.m)(e,"switch")})),a}var x1=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};function C1(e){return e.filter(t=>t)}function S1(e,t){if(e)return e;const a=(0,ac.Z)(t).map(o=>{if(s.isValidElement(o)){const{key:f,props:y}=o,_=y||{},{tab:S}=_,I=x1(_,["tab"]);return Object.assign(Object.assign({key:String(f)},I),{label:S})}return null});return C1(a)}var w1=e=>{const{componentCls:t,motionDurationSlow:a}=e;return[{[t]:{[`${t}-switch`]:{"&-appear, &-enter":{transition:"none","&-start":{opacity:0},"&-active":{opacity:1,transition:`opacity ${a}`}},"&-leave":{position:"absolute",transition:"none",inset:0,"&-start":{opacity:1},"&-active":{opacity:0,transition:`opacity ${a}`}}}}},[(0,lc.oN)(e,"slide-up"),(0,lc.oN)(e,"slide-down")]]};const E1=e=>{const{componentCls:t,tabsCardPadding:a,cardBg:o,cardGutter:f,colorBorderSecondary:y,itemSelectedColor:_}=e;return{[`${t}-card`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{margin:0,padding:a,background:o,border:`${(0,me.bf)(e.lineWidth)} ${e.lineType} ${y}`,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOut}`},[`${t}-tab-active`]:{color:_,background:e.colorBgContainer},[`${t}-tab-focus`]:Object.assign({},(0,nn.oN)(e,-3)),[`${t}-ink-bar`]:{visibility:"hidden"},[`& ${t}-tab${t}-tab-focus ${t}-tab-btn`]:{outline:"none"}},[`&${t}-top, &${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginLeft:{_skip_check_:!0,value:(0,me.bf)(f)}}}},[`&${t}-top`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:`${(0,me.bf)(e.borderRadiusLG)} ${(0,me.bf)(e.borderRadiusLG)} 0 0`},[`${t}-tab-active`]:{borderBottomColor:e.colorBgContainer}}},[`&${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:`0 0 ${(0,me.bf)(e.borderRadiusLG)} ${(0,me.bf)(e.borderRadiusLG)}`},[`${t}-tab-active`]:{borderTopColor:e.colorBgContainer}}},[`&${t}-left, &${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginTop:(0,me.bf)(f)}}},[`&${t}-left`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`${(0,me.bf)(e.borderRadiusLG)} 0 0 ${(0,me.bf)(e.borderRadiusLG)}`}},[`${t}-tab-active`]:{borderRightColor:{_skip_check_:!0,value:e.colorBgContainer}}}},[`&${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${(0,me.bf)(e.borderRadiusLG)} ${(0,me.bf)(e.borderRadiusLG)} 0`}},[`${t}-tab-active`]:{borderLeftColor:{_skip_check_:!0,value:e.colorBgContainer}}}}}}},I1=e=>{const{componentCls:t,itemHoverColor:a,dropdownEdgeChildVerticalPadding:o}=e;return{[`${t}-dropdown`]:Object.assign(Object.assign({},(0,nn.Wf)(e)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:e.zIndexPopup,display:"block","&-hidden":{display:"none"},[`${t}-dropdown-menu`]:{maxHeight:e.tabsDropdownHeight,margin:0,padding:`${(0,me.bf)(o)} 0`,overflowX:"hidden",overflowY:"auto",textAlign:{_skip_check_:!0,value:"left"},listStyleType:"none",backgroundColor:e.colorBgContainer,backgroundClip:"padding-box",borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary,"&-item":Object.assign(Object.assign({},nn.vS),{display:"flex",alignItems:"center",minWidth:e.tabsDropdownWidth,margin:0,padding:`${(0,me.bf)(e.paddingXXS)} ${(0,me.bf)(e.paddingSM)}`,color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,"> span":{flex:1,whiteSpace:"nowrap"},"&-remove":{flex:"none",marginLeft:{_skip_check_:!0,value:e.marginSM},color:e.colorTextDescription,fontSize:e.fontSizeSM,background:"transparent",border:0,cursor:"pointer","&:hover":{color:a}},"&:hover":{background:e.controlItemBgHover},"&-disabled":{"&, &:hover":{color:e.colorTextDisabled,background:"transparent",cursor:"not-allowed"}}})}})}},T1=e=>{const{componentCls:t,margin:a,colorBorderSecondary:o,horizontalMargin:f,verticalItemPadding:y,verticalItemMargin:_,calc:S}=e;return{[`${t}-top, ${t}-bottom`]:{flexDirection:"column",[`> ${t}-nav, > div > ${t}-nav`]:{margin:f,"&::before":{position:"absolute",right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},borderBottom:`${(0,me.bf)(e.lineWidth)} ${e.lineType} ${o}`,content:"''"},[`${t}-ink-bar`]:{height:e.lineWidthBold,"&-animated":{transition:`width ${e.motionDurationSlow}, left ${e.motionDurationSlow},
            right ${e.motionDurationSlow}`}},[`${t}-nav-wrap`]:{"&::before, &::after":{top:0,bottom:0,width:e.controlHeight},"&::before":{left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowTabsOverflowLeft},"&::after":{right:{_skip_check_:!0,value:0},boxShadow:e.boxShadowTabsOverflowRight},[`&${t}-nav-wrap-ping-left::before`]:{opacity:1},[`&${t}-nav-wrap-ping-right::after`]:{opacity:1}}}},[`${t}-top`]:{[`> ${t}-nav,
        > div > ${t}-nav`]:{"&::before":{bottom:0},[`${t}-ink-bar`]:{bottom:0}}},[`${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{order:1,marginTop:a,marginBottom:0,"&::before":{top:0},[`${t}-ink-bar`]:{top:0}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{order:0}},[`${t}-left, ${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{flexDirection:"column",minWidth:S(e.controlHeight).mul(1.25).equal(),[`${t}-tab`]:{padding:y,textAlign:"center"},[`${t}-tab + ${t}-tab`]:{margin:_},[`${t}-nav-wrap`]:{flexDirection:"column","&::before, &::after":{right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},height:e.controlHeight},"&::before":{top:0,boxShadow:e.boxShadowTabsOverflowTop},"&::after":{bottom:0,boxShadow:e.boxShadowTabsOverflowBottom},[`&${t}-nav-wrap-ping-top::before`]:{opacity:1},[`&${t}-nav-wrap-ping-bottom::after`]:{opacity:1}},[`${t}-ink-bar`]:{width:e.lineWidthBold,"&-animated":{transition:`height ${e.motionDurationSlow}, top ${e.motionDurationSlow}`}},[`${t}-nav-list, ${t}-nav-operations`]:{flex:"1 0 auto",flexDirection:"column"}}},[`${t}-left`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-ink-bar`]:{right:{_skip_check_:!0,value:0}}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{marginLeft:{_skip_check_:!0,value:(0,me.bf)(S(e.lineWidth).mul(-1).equal())},borderLeft:{_skip_check_:!0,value:`${(0,me.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},[`> ${t}-content > ${t}-tabpane`]:{paddingLeft:{_skip_check_:!0,value:e.paddingLG}}}},[`${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{order:1,[`${t}-ink-bar`]:{left:{_skip_check_:!0,value:0}}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{order:0,marginRight:{_skip_check_:!0,value:S(e.lineWidth).mul(-1).equal()},borderRight:{_skip_check_:!0,value:`${(0,me.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},[`> ${t}-content > ${t}-tabpane`]:{paddingRight:{_skip_check_:!0,value:e.paddingLG}}}}}},Y0=e=>{const{componentCls:t,cardPaddingSM:a,cardPaddingLG:o,horizontalItemPaddingSM:f,horizontalItemPaddingLG:y}=e;return{[t]:{"&-small":{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:f,fontSize:e.titleFontSizeSM}}},"&-large":{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:y,fontSize:e.titleFontSizeLG}}}},[`${t}-card`]:{[`&${t}-small`]:{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:a}},[`&${t}-bottom`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:`0 0 ${(0,me.bf)(e.borderRadius)} ${(0,me.bf)(e.borderRadius)}`}},[`&${t}-top`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:`${(0,me.bf)(e.borderRadius)} ${(0,me.bf)(e.borderRadius)} 0 0`}},[`&${t}-right`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${(0,me.bf)(e.borderRadius)} ${(0,me.bf)(e.borderRadius)} 0`}}},[`&${t}-left`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`${(0,me.bf)(e.borderRadius)} 0 0 ${(0,me.bf)(e.borderRadius)}`}}}},[`&${t}-large`]:{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:o}}}}}},M1=e=>{const{componentCls:t,itemActiveColor:a,itemHoverColor:o,iconCls:f,tabsHorizontalItemMargin:y,horizontalItemPadding:_,itemSelectedColor:S,itemColor:I}=e,A=`${t}-tab`;return{[A]:{position:"relative",WebkitTouchCallout:"none",WebkitTapHighlightColor:"transparent",display:"inline-flex",alignItems:"center",padding:_,fontSize:e.titleFontSize,background:"transparent",border:0,outline:"none",cursor:"pointer",color:I,"&-btn, &-remove":{"&:focus:not(:focus-visible), &:active":{color:a}},"&-btn":{outline:"none",transition:`all ${e.motionDurationSlow}`,[`${A}-icon:not(:last-child)`]:{marginInlineEnd:e.marginSM}},"&-remove":Object.assign({flex:"none",marginRight:{_skip_check_:!0,value:e.calc(e.marginXXS).mul(-1).equal()},marginLeft:{_skip_check_:!0,value:e.marginXS},color:e.colorTextDescription,fontSize:e.fontSizeSM,background:"transparent",border:"none",outline:"none",cursor:"pointer",transition:`all ${e.motionDurationSlow}`,"&:hover":{color:e.colorTextHeading}},(0,nn.Qy)(e)),"&:hover":{color:o},[`&${A}-active ${A}-btn`]:{color:S,textShadow:e.tabsActiveTextShadow},[`&${A}-focus ${A}-btn`]:Object.assign({},(0,nn.oN)(e)),[`&${A}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed"},[`&${A}-disabled ${A}-btn, &${A}-disabled ${t}-remove`]:{"&:focus, &:active":{color:e.colorTextDisabled}},[`& ${A}-remove ${f}`]:{margin:0},[`${f}:not(:last-child)`]:{marginRight:{_skip_check_:!0,value:e.marginSM}}},[`${A} + ${A}`]:{margin:{_skip_check_:!0,value:y}}}},Wy=e=>{const{componentCls:t,tabsHorizontalItemMarginRTL:a,iconCls:o,cardGutter:f,calc:y}=e;return{[`${t}-rtl`]:{direction:"rtl",[`${t}-nav`]:{[`${t}-tab`]:{margin:{_skip_check_:!0,value:a},[`${t}-tab:last-of-type`]:{marginLeft:{_skip_check_:!0,value:0}},[o]:{marginRight:{_skip_check_:!0,value:0},marginLeft:{_skip_check_:!0,value:(0,me.bf)(e.marginSM)}},[`${t}-tab-remove`]:{marginRight:{_skip_check_:!0,value:(0,me.bf)(e.marginXS)},marginLeft:{_skip_check_:!0,value:(0,me.bf)(y(e.marginXXS).mul(-1).equal())},[o]:{margin:0}}}},[`&${t}-left`]:{[`> ${t}-nav`]:{order:1},[`> ${t}-content-holder`]:{order:0}},[`&${t}-right`]:{[`> ${t}-nav`]:{order:0},[`> ${t}-content-holder`]:{order:1}},[`&${t}-card${t}-top, &${t}-card${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginRight:{_skip_check_:!0,value:f},marginLeft:{_skip_check_:!0,value:0}}}}},[`${t}-dropdown-rtl`]:{direction:"rtl"},[`${t}-menu-item`]:{[`${t}-dropdown-rtl`]:{textAlign:{_skip_check_:!0,value:"right"}}}}},Gy=e=>{const{componentCls:t,tabsCardPadding:a,cardHeight:o,cardGutter:f,itemHoverColor:y,itemActiveColor:_,colorBorderSecondary:S}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,nn.Wf)(e)),{display:"flex",[`> ${t}-nav, > div > ${t}-nav`]:{position:"relative",display:"flex",flex:"none",alignItems:"center",[`${t}-nav-wrap`]:{position:"relative",display:"flex",flex:"auto",alignSelf:"stretch",overflow:"hidden",whiteSpace:"nowrap",transform:"translate(0)","&::before, &::after":{position:"absolute",zIndex:1,opacity:0,transition:`opacity ${e.motionDurationSlow}`,content:"''",pointerEvents:"none"}},[`${t}-nav-list`]:{position:"relative",display:"flex",transition:`opacity ${e.motionDurationSlow}`},[`${t}-nav-operations`]:{display:"flex",alignSelf:"stretch"},[`${t}-nav-operations-hidden`]:{position:"absolute",visibility:"hidden",pointerEvents:"none"},[`${t}-nav-more`]:{position:"relative",padding:a,background:"transparent",border:0,color:e.colorText,"&::after":{position:"absolute",right:{_skip_check_:!0,value:0},bottom:0,left:{_skip_check_:!0,value:0},height:e.calc(e.controlHeightLG).div(8).equal(),transform:"translateY(100%)",content:"''"}},[`${t}-nav-add`]:Object.assign({minWidth:o,marginLeft:{_skip_check_:!0,value:f},padding:(0,me.bf)(e.paddingXS),background:"transparent",border:`${(0,me.bf)(e.lineWidth)} ${e.lineType} ${S}`,borderRadius:`${(0,me.bf)(e.borderRadiusLG)} ${(0,me.bf)(e.borderRadiusLG)} 0 0`,outline:"none",cursor:"pointer",color:e.colorText,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOut}`,"&:hover":{color:y},"&:active, &:focus:not(:focus-visible)":{color:_}},(0,nn.Qy)(e,-3))},[`${t}-extra-content`]:{flex:"none"},[`${t}-ink-bar`]:{position:"absolute",background:e.inkBarColor,pointerEvents:"none"}}),M1(e)),{[`${t}-content`]:{position:"relative",width:"100%"},[`${t}-content-holder`]:{flex:"auto",minWidth:0,minHeight:0},[`${t}-tabpane`]:Object.assign(Object.assign({},(0,nn.Qy)(e)),{"&-hidden":{display:"none"}})}),[`${t}-centered`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-nav-wrap`]:{[`&:not([class*='${t}-nav-wrap-ping']) > ${t}-nav-list`]:{margin:"auto"}}}}}},P1=e=>{const t=e.controlHeightLG;return{zIndexPopup:e.zIndexPopupBase+50,cardBg:e.colorFillAlter,cardHeight:t,cardPadding:`${(t-Math.round(e.fontSize*e.lineHeight))/2-e.lineWidth}px ${e.padding}px`,cardPaddingSM:`${e.paddingXXS*1.5}px ${e.padding}px`,cardPaddingLG:`${e.paddingXS}px ${e.padding}px ${e.paddingXXS*1.5}px`,titleFontSize:e.fontSize,titleFontSizeLG:e.fontSizeLG,titleFontSizeSM:e.fontSize,inkBarColor:e.colorPrimary,horizontalMargin:`0 0 ${e.margin}px 0`,horizontalItemGutter:32,horizontalItemMargin:"",horizontalItemMarginRTL:"",horizontalItemPadding:`${e.paddingSM}px 0`,horizontalItemPaddingSM:`${e.paddingXS}px 0`,horizontalItemPaddingLG:`${e.padding}px 0`,verticalItemPadding:`${e.paddingXS}px ${e.paddingLG}px`,verticalItemMargin:`${e.margin}px 0 0 0`,itemColor:e.colorText,itemSelectedColor:e.colorPrimary,itemHoverColor:e.colorPrimaryHover,itemActiveColor:e.colorPrimaryActive,cardGutter:e.marginXXS/2}};var O1=(0,oe.I$)("Tabs",e=>{const t=(0,kr.IX)(e,{tabsCardPadding:e.cardPadding,dropdownEdgeChildVerticalPadding:e.paddingXXS,tabsActiveTextShadow:"0 0 0.25px currentcolor",tabsDropdownHeight:200,tabsDropdownWidth:120,tabsHorizontalItemMargin:`0 0 0 ${(0,me.bf)(e.horizontalItemGutter)}`,tabsHorizontalItemMarginRTL:`0 0 0 ${(0,me.bf)(e.horizontalItemGutter)}`});return[Y0(t),Wy(t),T1(t),I1(t),E1(t),Gy(t),w1(t)]},P1),R1=()=>null,$1=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const Xy=e=>{var t,a,o,f,y,_,S,I,A,z,L;const{type:F,className:Z,rootClassName:k,size:W,onEdit:H,hideAdd:X,centered:Q,addIcon:re,removeIcon:ie,moreIcon:ne,more:ae,popupClassName:ue,children:fe,items:he,animated:ve,style:ye,indicatorSize:we,indicator:Se}=e,ze=$1(e,["type","className","rootClassName","size","onEdit","hideAdd","centered","addIcon","removeIcon","moreIcon","more","popupClassName","children","items","animated","style","indicatorSize","indicator"]),{prefixCls:Te}=ze,{direction:Fe,tabs:Ae,getPrefixCls:Ke,getPopupContainer:tt}=s.useContext(_e.E_),vt=Ke("tabs",Te),bt=(0,Ln.Z)(vt),[lt,ct,mt]=O1(vt,bt);let Rt;F==="editable-card"&&(Rt={onEdit:(Cn,Vt)=>{let{key:At,event:$n}=Vt;H==null||H(Cn==="add"?$n:At,Cn)},removeIcon:(t=ie!=null?ie:Ae==null?void 0:Ae.removeIcon)!==null&&t!==void 0?t:s.createElement(Cr.Z,null),addIcon:(re!=null?re:Ae==null?void 0:Ae.addIcon)||s.createElement(H0,null),showAdd:X!==!0});const wt=Ke(),Bt=(0,Va.Z)(W),Ct=S1(he,fe),dn=_1(vt,ve),zn=Object.assign(Object.assign({},Ae==null?void 0:Ae.style),ye),rn={align:(a=Se==null?void 0:Se.align)!==null&&a!==void 0?a:(o=Ae==null?void 0:Ae.indicator)===null||o===void 0?void 0:o.align,size:(S=(y=(f=Se==null?void 0:Se.size)!==null&&f!==void 0?f:we)!==null&&y!==void 0?y:(_=Ae==null?void 0:Ae.indicator)===null||_===void 0?void 0:_.size)!==null&&S!==void 0?S:Ae==null?void 0:Ae.indicatorSize};return lt(s.createElement(lS,Object.assign({direction:Fe,getPopupContainer:tt},ze,{items:Ct,className:J()({[`${vt}-${Bt}`]:Bt,[`${vt}-card`]:["card","editable-card"].includes(F),[`${vt}-editable-card`]:F==="editable-card",[`${vt}-centered`]:Q},Ae==null?void 0:Ae.className,Z,k,ct,mt,bt),popupClassName:J()(ue,ct,mt,bt),style:zn,editable:Rt,more:Object.assign({icon:(L=(z=(A=(I=Ae==null?void 0:Ae.more)===null||I===void 0?void 0:I.icon)!==null&&A!==void 0?A:Ae==null?void 0:Ae.moreIcon)!==null&&z!==void 0?z:ne)!==null&&L!==void 0?L:s.createElement(Vv,null),transitionName:`${wt}-slide-up`},ae),prefixCls:vt,animated:dn,indicator:rn})))};Xy.TabPane=R1;var Ky=Xy,Ff=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},A1=e=>{var{prefixCls:t,className:a,hoverable:o=!0}=e,f=Ff(e,["prefixCls","className","hoverable"]);const{getPrefixCls:y}=s.useContext(_e.E_),_=y("card",t),S=J()(`${_}-grid`,a,{[`${_}-grid-hoverable`]:o});return s.createElement("div",Object.assign({},f,{className:S}))};const dS=e=>{const{antCls:t,componentCls:a,headerHeight:o,headerPadding:f,tabsMarginBottom:y}=e;return Object.assign(Object.assign({display:"flex",justifyContent:"center",flexDirection:"column",minHeight:o,marginBottom:-1,padding:`0 ${(0,me.bf)(f)}`,color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:e.headerFontSize,background:e.headerBg,borderBottom:`${(0,me.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorderSecondary}`,borderRadius:`${(0,me.bf)(e.borderRadiusLG)} ${(0,me.bf)(e.borderRadiusLG)} 0 0`},(0,nn.dF)()),{"&-wrapper":{width:"100%",display:"flex",alignItems:"center"},"&-title":Object.assign(Object.assign({display:"inline-block",flex:1},nn.vS),{[`
          > ${a}-typography,
          > ${a}-typography-edit-content
        `]:{insetInlineStart:0,marginTop:0,marginBottom:0}}),[`${t}-tabs-top`]:{clear:"both",marginBottom:y,color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,"&-bar":{borderBottom:`${(0,me.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorderSecondary}`}}})},J0=e=>{const{cardPaddingBase:t,colorBorderSecondary:a,cardShadow:o,lineWidth:f}=e;return{width:"33.33%",padding:t,border:0,borderRadius:0,boxShadow:`
      ${(0,me.bf)(f)} 0 0 0 ${a},
      0 ${(0,me.bf)(f)} 0 0 ${a},
      ${(0,me.bf)(f)} ${(0,me.bf)(f)} 0 0 ${a},
      ${(0,me.bf)(f)} 0 0 0 ${a} inset,
      0 ${(0,me.bf)(f)} 0 0 ${a} inset;
    `,transition:`all ${e.motionDurationMid}`,"&-hoverable:hover":{position:"relative",zIndex:1,boxShadow:o}}},fS=e=>{const{componentCls:t,iconCls:a,actionsLiMargin:o,cardActionsIconSize:f,colorBorderSecondary:y,actionsBg:_}=e;return Object.assign(Object.assign({margin:0,padding:0,listStyle:"none",background:_,borderTop:`${(0,me.bf)(e.lineWidth)} ${e.lineType} ${y}`,display:"flex",borderRadius:`0 0 ${(0,me.bf)(e.borderRadiusLG)} ${(0,me.bf)(e.borderRadiusLG)}`},(0,nn.dF)()),{"& > li":{margin:o,color:e.colorTextDescription,textAlign:"center","> span":{position:"relative",display:"block",minWidth:e.calc(e.cardActionsIconSize).mul(2).equal(),fontSize:e.fontSize,lineHeight:e.lineHeight,cursor:"pointer","&:hover":{color:e.colorPrimary,transition:`color ${e.motionDurationMid}`},[`a:not(${t}-btn), > ${a}`]:{display:"inline-block",width:"100%",color:e.colorTextDescription,lineHeight:(0,me.bf)(e.fontHeight),transition:`color ${e.motionDurationMid}`,"&:hover":{color:e.colorPrimary}},[`> ${a}`]:{fontSize:f,lineHeight:(0,me.bf)(e.calc(f).mul(e.lineHeight).equal())}},"&:not(:last-child)":{borderInlineEnd:`${(0,me.bf)(e.lineWidth)} ${e.lineType} ${y}`}}})},hS=e=>Object.assign(Object.assign({margin:`${(0,me.bf)(e.calc(e.marginXXS).mul(-1).equal())} 0`,display:"flex"},(0,nn.dF)()),{"&-avatar":{paddingInlineEnd:e.padding},"&-detail":{overflow:"hidden",flex:1,"> div:not(:last-child)":{marginBottom:e.marginXS}},"&-title":Object.assign({color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG},nn.vS),"&-description":{color:e.colorTextDescription}}),mS=e=>{const{componentCls:t,colorFillAlter:a,headerPadding:o,bodyPadding:f}=e;return{[`${t}-head`]:{padding:`0 ${(0,me.bf)(o)}`,background:a,"&-title":{fontSize:e.fontSize}},[`${t}-body`]:{padding:`${(0,me.bf)(e.padding)} ${(0,me.bf)(f)}`}}},pS=e=>{const{componentCls:t}=e;return{overflow:"hidden",[`${t}-body`]:{userSelect:"none"}}},gS=e=>{const{componentCls:t,cardShadow:a,cardHeadPadding:o,colorBorderSecondary:f,boxShadowTertiary:y,bodyPadding:_,extraColor:S}=e;return{[t]:Object.assign(Object.assign({},(0,nn.Wf)(e)),{position:"relative",background:e.colorBgContainer,borderRadius:e.borderRadiusLG,[`&:not(${t}-bordered)`]:{boxShadow:y},[`${t}-head`]:dS(e),[`${t}-extra`]:{marginInlineStart:"auto",color:S,fontWeight:"normal",fontSize:e.fontSize},[`${t}-body`]:Object.assign({padding:_,borderRadius:`0 0 ${(0,me.bf)(e.borderRadiusLG)} ${(0,me.bf)(e.borderRadiusLG)}`},(0,nn.dF)()),[`${t}-grid`]:J0(e),[`${t}-cover`]:{"> *":{display:"block",width:"100%",borderRadius:`${(0,me.bf)(e.borderRadiusLG)} ${(0,me.bf)(e.borderRadiusLG)} 0 0`}},[`${t}-actions`]:fS(e),[`${t}-meta`]:hS(e)}),[`${t}-bordered`]:{border:`${(0,me.bf)(e.lineWidth)} ${e.lineType} ${f}`,[`${t}-cover`]:{marginTop:-1,marginInlineStart:-1,marginInlineEnd:-1}},[`${t}-hoverable`]:{cursor:"pointer",transition:`box-shadow ${e.motionDurationMid}, border-color ${e.motionDurationMid}`,"&:hover":{borderColor:"transparent",boxShadow:a}},[`${t}-contain-grid`]:{borderRadius:`${(0,me.bf)(e.borderRadiusLG)} ${(0,me.bf)(e.borderRadiusLG)} 0 0 `,[`${t}-body`]:{display:"flex",flexWrap:"wrap"},[`&:not(${t}-loading) ${t}-body`]:{marginBlockStart:e.calc(e.lineWidth).mul(-1).equal(),marginInlineStart:e.calc(e.lineWidth).mul(-1).equal(),padding:0}},[`${t}-contain-tabs`]:{[`> div${t}-head`]:{minHeight:0,[`${t}-head-title, ${t}-extra`]:{paddingTop:o}}},[`${t}-type-inner`]:mS(e),[`${t}-loading`]:pS(e),[`${t}-rtl`]:{direction:"rtl"}}},vS=e=>{const{componentCls:t,bodyPaddingSM:a,headerPaddingSM:o,headerHeightSM:f,headerFontSizeSM:y}=e;return{[`${t}-small`]:{[`> ${t}-head`]:{minHeight:f,padding:`0 ${(0,me.bf)(o)}`,fontSize:y,[`> ${t}-head-wrapper`]:{[`> ${t}-extra`]:{fontSize:e.fontSize}}},[`> ${t}-body`]:{padding:a}},[`${t}-small${t}-contain-tabs`]:{[`> ${t}-head`]:{[`${t}-head-title, ${t}-extra`]:{paddingTop:0,display:"flex",alignItems:"center"}}}}},yS=e=>{var t,a;return{headerBg:"transparent",headerFontSize:e.fontSizeLG,headerFontSizeSM:e.fontSize,headerHeight:e.fontSizeLG*e.lineHeightLG+e.padding*2,headerHeightSM:e.fontSize*e.lineHeight+e.paddingXS*2,actionsBg:e.colorBgContainer,actionsLiMargin:`${e.paddingSM}px 0`,tabsMarginBottom:-e.padding-e.lineWidth,extraColor:e.colorText,bodyPaddingSM:12,headerPaddingSM:12,bodyPadding:(t=e.bodyPadding)!==null&&t!==void 0?t:e.paddingLG,headerPadding:(a=e.headerPadding)!==null&&a!==void 0?a:e.paddingLG}};var bS=(0,oe.I$)("Card",e=>{const t=(0,kr.IX)(e,{cardShadow:e.boxShadowCard,cardHeadPadding:e.padding,cardPaddingBase:e.paddingLG,cardActionsIconSize:e.fontSize});return[gS(t),vS(t)]},yS),kf=j(7038),D1=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const _S=e=>{const{actionClasses:t,actions:a=[],actionStyle:o}=e;return s.createElement("ul",{className:t,style:o},a.map((f,y)=>{const _=`action-${y}`;return s.createElement("li",{style:{width:`${100/a.length}%`},key:_},s.createElement("span",null,f))}))};var gg=s.forwardRef((e,t)=>{const{prefixCls:a,className:o,rootClassName:f,style:y,extra:_,headStyle:S={},bodyStyle:I={},title:A,loading:z,bordered:L,variant:F,size:Z,type:k,cover:W,actions:H,tabList:X,children:Q,activeTabKey:re,defaultActiveTabKey:ie,tabBarExtraContent:ne,hoverable:ae,tabProps:ue={},classNames:fe,styles:he}=e,ve=D1(e,["prefixCls","className","rootClassName","style","extra","headStyle","bodyStyle","title","loading","bordered","variant","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps","classNames","styles"]),{getPrefixCls:ye,direction:we,card:Se}=s.useContext(_e.E_),[ze]=(0,kf.Z)("card",F,L),Te=qn=>{var Pn;(Pn=e.onTabChange)===null||Pn===void 0||Pn.call(e,qn)},Fe=qn=>{var Pn;return J()((Pn=Se==null?void 0:Se.classNames)===null||Pn===void 0?void 0:Pn[qn],fe==null?void 0:fe[qn])},Ae=qn=>{var Pn;return Object.assign(Object.assign({},(Pn=Se==null?void 0:Se.styles)===null||Pn===void 0?void 0:Pn[qn]),he==null?void 0:he[qn])},Ke=s.useMemo(()=>{let qn=!1;return s.Children.forEach(Q,Pn=>{(Pn==null?void 0:Pn.type)===A1&&(qn=!0)}),qn},[Q]),tt=ye("card",a),[vt,bt,lt]=bS(tt),ct=s.createElement(yu,{loading:!0,active:!0,paragraph:{rows:4},title:!1},Q),mt=re!==void 0,Rt=Object.assign(Object.assign({},ue),{[mt?"activeKey":"defaultActiveKey"]:mt?re:ie,tabBarExtraContent:ne});let wt;const Bt=(0,Va.Z)(Z),Ct=!Bt||Bt==="default"?"large":Bt,dn=X?s.createElement(Ky,Object.assign({size:Ct},Rt,{className:`${tt}-head-tabs`,onChange:Te,items:X.map(qn=>{var{tab:Pn}=qn,Yn=D1(qn,["tab"]);return Object.assign({label:Pn},Yn)})})):null;if(A||_||dn){const qn=J()(`${tt}-head`,Fe("header")),Pn=J()(`${tt}-head-title`,Fe("title")),Yn=J()(`${tt}-extra`,Fe("extra")),zr=Object.assign(Object.assign({},S),Ae("header"));wt=s.createElement("div",{className:qn,style:zr},s.createElement("div",{className:`${tt}-head-wrapper`},A&&s.createElement("div",{className:Pn,style:Ae("title")},A),_&&s.createElement("div",{className:Yn,style:Ae("extra")},_)),dn)}const zn=J()(`${tt}-cover`,Fe("cover")),rn=W?s.createElement("div",{className:zn,style:Ae("cover")},W):null,Cn=J()(`${tt}-body`,Fe("body")),Vt=Object.assign(Object.assign({},I),Ae("body")),At=s.createElement("div",{className:Cn,style:Vt},z?ct:Q),$n=J()(`${tt}-actions`,Fe("actions")),yn=H!=null&&H.length?s.createElement(_S,{actionClasses:$n,actionStyle:Ae("actions"),actions:H}):null,Ir=(0,Ci.Z)(ve,["onTabChange"]),cr=J()(tt,Se==null?void 0:Se.className,{[`${tt}-loading`]:z,[`${tt}-bordered`]:ze!=="borderless",[`${tt}-hoverable`]:ae,[`${tt}-contain-grid`]:Ke,[`${tt}-contain-tabs`]:X==null?void 0:X.length,[`${tt}-${Bt}`]:Bt,[`${tt}-type-${k}`]:!!k,[`${tt}-rtl`]:we==="rtl"},o,f,bt,lt),Kn=Object.assign(Object.assign({},Se==null?void 0:Se.style),y);return vt(s.createElement("div",Object.assign({ref:t},Ir,{className:cr,style:Kn}),wt,rn,At,yn))}),xS=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},z1=e=>{const{prefixCls:t,className:a,avatar:o,title:f,description:y}=e,_=xS(e,["prefixCls","className","avatar","title","description"]),{getPrefixCls:S}=s.useContext(_e.E_),I=S("card",t),A=J()(`${I}-meta`,a),z=o?s.createElement("div",{className:`${I}-meta-avatar`},o):null,L=f?s.createElement("div",{className:`${I}-meta-title`},f):null,F=y?s.createElement("div",{className:`${I}-meta-description`},y):null,Z=L||F?s.createElement("div",{className:`${I}-meta-detail`},L,F):null;return s.createElement("div",Object.assign({},_,{className:A}),z,Z)};const qy=gg;qy.Grid=A1,qy.Meta=z1;var L1=qy,N1={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0},B1=N1;function SS(e,t,a){var o=a||{},f=o.noTrailing,y=f===void 0?!1:f,_=o.noLeading,S=_===void 0?!1:_,I=o.debounceMode,A=I===void 0?void 0:I,z,L=!1,F=0;function Z(){z&&clearTimeout(z)}function k(H){var X=H||{},Q=X.upcomingOnly,re=Q===void 0?!1:Q;Z(),L=!re}function W(){for(var H=arguments.length,X=new Array(H),Q=0;Q<H;Q++)X[Q]=arguments[Q];var re=this,ie=Date.now()-F;if(L)return;function ne(){F=Date.now(),t.apply(re,X)}function ae(){z=void 0}!S&&A&&!z&&ne(),Z(),A===void 0&&ie>e?S?(F=Date.now(),y||(z=setTimeout(A?ae:ne,e))):ne():y!==!0&&(z=setTimeout(A?ae:ne,A===void 0?e-ie:e))}return W.cancel=k,W}function F1(e,t,a){var o=a||{},f=o.atBegin,y=f===void 0?!1:f;return SS(e,t,{debounceMode:y!==!1})}var k1={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(t){return s.createElement("ul",{style:{display:"block"}},t)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(t){return s.createElement("button",null,t+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,asNavFor:null},wl=k1;function jf(e,t,a){return Math.max(t,Math.min(e,a))}var Ed=function(t){var a=["onTouchStart","onTouchMove","onWheel"];a.includes(t._reactName)||t.preventDefault()},Zf=function(t){for(var a=[],o=Yy(t),f=Jy(t),y=o;y<f;y++)t.lazyLoadedList.indexOf(y)<0&&a.push(y);return a},wS=function(t){for(var a=[],o=Yy(t),f=Jy(t),y=o;y<f;y++)a.push(y);return a},Yy=function(t){return t.currentSlide-Qy(t)},Jy=function(t){return t.currentSlide+td(t)},Qy=function(t){return t.centerMode?Math.floor(t.slidesToShow/2)+(parseInt(t.centerPadding)>0?1:0):0},td=function(t){return t.centerMode?Math.floor((t.slidesToShow-1)/2)+1+(parseInt(t.centerPadding)>0?1:0):t.slidesToShow},vg=function(t){return t&&t.offsetWidth||0},eb=function(t){return t&&t.offsetHeight||0},Nu=function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o,f,y,_;return o=t.startX-t.curX,f=t.startY-t.curY,y=Math.atan2(f,o),_=Math.round(y*180/Math.PI),_<0&&(_=360-Math.abs(_)),_<=45&&_>=0||_<=360&&_>=315?"left":_>=135&&_<=225?"right":a===!0?_>=35&&_<=135?"up":"down":"vertical"},Q0=function(t){var a=!0;return t.infinite||(t.centerMode&&t.currentSlide>=t.slideCount-1||t.slideCount<=t.slidesToShow||t.currentSlide>=t.slideCount-t.slidesToShow)&&(a=!1),a},tb=function(t,a){var o={};return a.forEach(function(f){return o[f]=t[f]}),o},ES=function(t){var a=s.Children.count(t.children),o=t.listRef,f=Math.ceil(vg(o)),y=t.trackRef&&t.trackRef.node,_=Math.ceil(vg(y)),S;if(t.vertical)S=f;else{var I=t.centerMode&&parseInt(t.centerPadding)*2;typeof t.centerPadding=="string"&&t.centerPadding.slice(-1)==="%"&&(I*=f/100),S=Math.ceil((f-I)/t.slidesToShow)}var A=o&&eb(o.querySelector('[data-index="0"]')),z=A*t.slidesToShow,L=t.currentSlide===void 0?t.initialSlide:t.currentSlide;t.rtl&&t.currentSlide===void 0&&(L=a-1-t.initialSlide);var F=t.lazyLoadedList||[],Z=Zf((0,K.Z)((0,K.Z)({},t),{},{currentSlide:L,lazyLoadedList:F}));F=F.concat(Z);var k={slideCount:a,slideWidth:S,listWidth:f,trackWidth:_,currentSlide:L,slideHeight:A,listHeight:z,lazyLoadedList:F};return t.autoplaying===null&&t.autoplay&&(k.autoplaying="playing"),k},Bu=function(t){var a=t.waitForAnimate,o=t.animating,f=t.fade,y=t.infinite,_=t.index,S=t.slideCount,I=t.lazyLoad,A=t.currentSlide,z=t.centerMode,L=t.slidesToScroll,F=t.slidesToShow,Z=t.useCSS,k=t.lazyLoadedList;if(a&&o)return{};var W=_,H,X,Q,re={},ie={},ne=y?_:jf(_,0,S-1);if(f){if(!y&&(_<0||_>=S))return{};_<0?W=_+S:_>=S&&(W=_-S),I&&k.indexOf(W)<0&&(k=k.concat(W)),re={animating:!0,currentSlide:W,lazyLoadedList:k,targetSlide:W},ie={animating:!1,targetSlide:W}}else H=W,W<0?(H=W+S,y?S%L!==0&&(H=S-S%L):H=0):!Q0(t)&&W>A?W=H=A:z&&W>=S?(W=y?S:S-1,H=y?0:S-1):W>=S&&(H=W-S,y?S%L!==0&&(H=0):H=S-F),!y&&W+F>=S&&(H=S-F),X=Xh((0,K.Z)((0,K.Z)({},t),{},{slideIndex:W})),Q=Xh((0,K.Z)((0,K.Z)({},t),{},{slideIndex:H})),y||(X===Q&&(W=H),X=Q),I&&(k=k.concat(Zf((0,K.Z)((0,K.Z)({},t),{},{currentSlide:W})))),Z?(re={animating:!0,currentSlide:H,trackStyle:Gh((0,K.Z)((0,K.Z)({},t),{},{left:X})),lazyLoadedList:k,targetSlide:ne},ie={animating:!1,currentSlide:H,trackStyle:Qc((0,K.Z)((0,K.Z)({},t),{},{left:Q})),swipeLeft:null,targetSlide:ne}):re={currentSlide:H,trackStyle:Qc((0,K.Z)((0,K.Z)({},t),{},{left:Q})),lazyLoadedList:k,targetSlide:ne};return{state:re,nextState:ie}},IS=function(t,a){var o,f,y,_,S,I=t.slidesToScroll,A=t.slidesToShow,z=t.slideCount,L=t.currentSlide,F=t.targetSlide,Z=t.lazyLoad,k=t.infinite;if(_=z%I!==0,o=_?0:(z-L)%I,a.message==="previous")y=o===0?I:A-o,S=L-y,Z&&!k&&(f=L-y,S=f===-1?z-1:f),k||(S=F-I);else if(a.message==="next")y=o===0?I:o,S=L+y,Z&&!k&&(S=(L+I)%z+o),k||(S=F+I);else if(a.message==="dots")S=a.index*a.slidesToScroll;else if(a.message==="children"){if(S=a.index,k){var W=ev((0,K.Z)((0,K.Z)({},t),{},{targetSlide:S}));S>a.currentSlide&&W==="left"?S=S-z:S<a.currentSlide&&W==="right"&&(S=S+z)}}else a.message==="index"&&(S=Number(a.index));return S},j1=function(t,a,o){return t.target.tagName.match("TEXTAREA|INPUT|SELECT")||!a?"":t.keyCode===37?o?"next":"previous":t.keyCode===39?o?"previous":"next":""},TS=function(t,a,o){return t.target.tagName==="IMG"&&Ed(t),!a||!o&&t.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:t.touches?t.touches[0].pageX:t.clientX,startY:t.touches?t.touches[0].pageY:t.clientY,curX:t.touches?t.touches[0].pageX:t.clientX,curY:t.touches?t.touches[0].pageY:t.clientY}}},nb=function(t,a){var o=a.scrolling,f=a.animating,y=a.vertical,_=a.swipeToSlide,S=a.verticalSwiping,I=a.rtl,A=a.currentSlide,z=a.edgeFriction,L=a.edgeDragged,F=a.onEdge,Z=a.swiped,k=a.swiping,W=a.slideCount,H=a.slidesToScroll,X=a.infinite,Q=a.touchObject,re=a.swipeEvent,ie=a.listHeight,ne=a.listWidth;if(!o){if(f)return Ed(t);y&&_&&S&&Ed(t);var ae,ue={},fe=Xh(a);Q.curX=t.touches?t.touches[0].pageX:t.clientX,Q.curY=t.touches?t.touches[0].pageY:t.clientY,Q.swipeLength=Math.round(Math.sqrt(Math.pow(Q.curX-Q.startX,2)));var he=Math.round(Math.sqrt(Math.pow(Q.curY-Q.startY,2)));if(!S&&!k&&he>10)return{scrolling:!0};S&&(Q.swipeLength=he);var ve=(I?-1:1)*(Q.curX>Q.startX?1:-1);S&&(ve=Q.curY>Q.startY?1:-1);var ye=Math.ceil(W/H),we=Nu(a.touchObject,S),Se=Q.swipeLength;return X||(A===0&&(we==="right"||we==="down")||A+1>=ye&&(we==="left"||we==="up")||!Q0(a)&&(we==="left"||we==="up"))&&(Se=Q.swipeLength*z,L===!1&&F&&(F(we),ue.edgeDragged=!0)),!Z&&re&&(re(we),ue.swiped=!0),y?ae=fe+Se*(ie/ne)*ve:I?ae=fe-Se*ve:ae=fe+Se*ve,S&&(ae=fe+Se*ve),ue=(0,K.Z)((0,K.Z)({},ue),{},{touchObject:Q,swipeLeft:ae,trackStyle:Qc((0,K.Z)((0,K.Z)({},a),{},{left:ae}))}),Math.abs(Q.curX-Q.startX)<Math.abs(Q.curY-Q.startY)*.8||Q.swipeLength>10&&(ue.swiping=!0,Ed(t)),ue}},rb=function(t,a){var o=a.dragging,f=a.swipe,y=a.touchObject,_=a.listWidth,S=a.touchThreshold,I=a.verticalSwiping,A=a.listHeight,z=a.swipeToSlide,L=a.scrolling,F=a.onSwipe,Z=a.targetSlide,k=a.currentSlide,W=a.infinite;if(!o)return f&&Ed(t),{};var H=I?A/S:_/S,X=Nu(y,I),Q={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(L||!y.swipeLength)return Q;if(y.swipeLength>H){Ed(t),F&&F(X);var re,ie,ne=W?k:Z;switch(X){case"left":case"up":ie=ne+Jm(a),re=z?ib(a,ie):ie,Q.currentDirection=0;break;case"right":case"down":ie=ne-Jm(a),re=z?ib(a,ie):ie,Q.currentDirection=1;break;default:re=ne}Q.triggerSlideHandler=re}else{var ae=Xh(a);Q.trackStyle=Gh((0,K.Z)((0,K.Z)({},a),{},{left:ae}))}return Q},MS=function(t){for(var a=t.infinite?t.slideCount*2:t.slideCount,o=t.infinite?t.slidesToShow*-1:0,f=t.infinite?t.slidesToShow*-1:0,y=[];o<a;)y.push(o),o=f+t.slidesToScroll,f+=Math.min(t.slidesToScroll,t.slidesToShow);return y},ib=function(t,a){var o=MS(t),f=0;if(a>o[o.length-1])a=o[o.length-1];else for(var y in o){if(a<o[y]){a=f;break}f=o[y]}return a},Jm=function(t){var a=t.centerMode?t.slideWidth*Math.floor(t.slidesToShow/2):0;if(t.swipeToSlide){var o,f=t.listRef,y=f.querySelectorAll&&f.querySelectorAll(".slick-slide")||[];if(Array.from(y).every(function(I){if(t.vertical){if(I.offsetTop+eb(I)/2>t.swipeLeft*-1)return o=I,!1}else if(I.offsetLeft-a+vg(I)/2>t.swipeLeft*-1)return o=I,!1;return!0}),!o)return 0;var _=t.rtl===!0?t.slideCount-t.currentSlide:t.currentSlide,S=Math.abs(o.dataset.index-_)||1;return S}else return t.slidesToScroll},yg=function(t,a){return a.reduce(function(o,f){return o&&t.hasOwnProperty(f)},!0)?null:console.error("Keys Missing:",t)},Qc=function(t){yg(t,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var a,o;if(!t.vertical)a=Z1(t)*t.slideWidth;else{var f=t.unslick?t.slideCount:t.slideCount+2*t.slidesToShow;o=f*t.slideHeight}var y={opacity:1,transition:"",WebkitTransition:""};if(t.useTransform){var _=t.vertical?"translate3d(0px, "+t.left+"px, 0px)":"translate3d("+t.left+"px, 0px, 0px)",S=t.vertical?"translate3d(0px, "+t.left+"px, 0px)":"translate3d("+t.left+"px, 0px, 0px)",I=t.vertical?"translateY("+t.left+"px)":"translateX("+t.left+"px)";y=(0,K.Z)((0,K.Z)({},y),{},{WebkitTransform:_,transform:S,msTransform:I})}else t.vertical?y.top=t.left:y.left=t.left;return t.fade&&(y={opacity:1}),a&&(y.width=a),o&&(y.height=o),window&&!window.addEventListener&&window.attachEvent&&(t.vertical?y.marginTop=t.left+"px":y.marginLeft=t.left+"px"),y},Gh=function(t){yg(t,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var a=Qc(t);return t.useTransform?(a.WebkitTransition="-webkit-transform "+t.speed+"ms "+t.cssEase,a.transition="transform "+t.speed+"ms "+t.cssEase):t.vertical?a.transition="top "+t.speed+"ms "+t.cssEase:a.transition="left "+t.speed+"ms "+t.cssEase,a},Xh=function(t){if(t.unslick)return 0;yg(t,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var a=t.slideIndex,o=t.trackRef,f=t.infinite,y=t.centerMode,_=t.slideCount,S=t.slidesToShow,I=t.slidesToScroll,A=t.slideWidth,z=t.listWidth,L=t.variableWidth,F=t.slideHeight,Z=t.fade,k=t.vertical,W=0,H,X,Q=0;if(Z||t.slideCount===1)return 0;var re=0;if(f?(re=-cu(t),_%I!==0&&a+I>_&&(re=-(a>_?S-(a-_):_%I)),y&&(re+=parseInt(S/2))):(_%I!==0&&a+I>_&&(re=S-_%I),y&&(re=parseInt(S/2))),W=re*A,Q=re*F,k?H=a*F*-1+Q:H=a*A*-1+W,L===!0){var ie,ne=o&&o.node;if(ie=a+cu(t),X=ne&&ne.childNodes[ie],H=X?X.offsetLeft*-1:0,y===!0){ie=f?a+cu(t):a,X=ne&&ne.children[ie],H=0;for(var ae=0;ae<ie;ae++)H-=ne&&ne.children[ae]&&ne.children[ae].offsetWidth;H-=parseInt(t.centerPadding),H+=X&&(z-X.offsetWidth)/2}}return H},cu=function(t){return t.unslick||!t.infinite?0:t.variableWidth?t.slideCount:t.slidesToShow+(t.centerMode?1:0)},bg=function(t){return t.unslick||!t.infinite?0:t.slideCount},Z1=function(t){return t.slideCount===1?1:cu(t)+t.slideCount+bg(t)},ev=function(t){return t.targetSlide>t.currentSlide?t.targetSlide>t.currentSlide+PS(t)?"left":"right":t.targetSlide<t.currentSlide-_g(t)?"right":"left"},PS=function(t){var a=t.slidesToShow,o=t.centerMode,f=t.rtl,y=t.centerPadding;if(o){var _=(a-1)/2+1;return parseInt(y)>0&&(_+=1),f&&a%2===0&&(_+=1),_}return f?0:a-1},_g=function(t){var a=t.slidesToShow,o=t.centerMode,f=t.rtl,y=t.centerPadding;if(o){var _=(a-1)/2+1;return parseInt(y)>0&&(_+=1),!f&&a%2===0&&(_+=1),_}return f?a-1:0},ob=function(){return!!(typeof window!="undefined"&&window.document&&window.document.createElement)},ab=Object.keys(wl);function OS(e){return ab.reduce(function(t,a){return e.hasOwnProperty(a)&&(t[a]=e[a]),t},{})}function tv(e,t,a){return t=(0,pn.Z)(t),(0,Vn.Z)(e,(0,Sr.Z)()?Reflect.construct(t,a||[],(0,pn.Z)(e).constructor):t.apply(e,a))}var sb=function(t){var a,o,f,y,_;t.rtl?_=t.slideCount-1-t.index:_=t.index,f=_<0||_>=t.slideCount,t.centerMode?(y=Math.floor(t.slidesToShow/2),o=(_-t.currentSlide)%t.slideCount===0,_>t.currentSlide-y-1&&_<=t.currentSlide+y&&(a=!0)):a=t.currentSlide<=_&&_<t.currentSlide+t.slidesToShow;var S;t.targetSlide<0?S=t.targetSlide+t.slideCount:t.targetSlide>=t.slideCount?S=t.targetSlide-t.slideCount:S=t.targetSlide;var I=_===S;return{"slick-slide":!0,"slick-active":a,"slick-center":o,"slick-cloned":f,"slick-current":I}},V1=function(t){var a={};return(t.variableWidth===void 0||t.variableWidth===!1)&&(a.width=t.slideWidth),t.fade&&(a.position="relative",t.vertical&&t.slideHeight?a.top=-t.index*parseInt(t.slideHeight):a.left=-t.index*parseInt(t.slideWidth),a.opacity=t.currentSlide===t.index?1:0,a.zIndex=t.currentSlide===t.index?999:998,t.useCSS&&(a.transition="opacity "+t.speed+"ms "+t.cssEase+", visibility "+t.speed+"ms "+t.cssEase)),a},nv=function(t,a){return t.key+"-"+a},H1=function(t){var a,o=[],f=[],y=[],_=s.Children.count(t.children),S=Yy(t),I=Jy(t);return s.Children.forEach(t.children,function(A,z){var L,F={message:"children",index:z,slidesToScroll:t.slidesToScroll,currentSlide:t.currentSlide};!t.lazyLoad||t.lazyLoad&&t.lazyLoadedList.indexOf(z)>=0?L=A:L=s.createElement("div",null);var Z=V1((0,K.Z)((0,K.Z)({},t),{},{index:z})),k=L.props.className||"",W=sb((0,K.Z)((0,K.Z)({},t),{},{index:z}));if(o.push(s.cloneElement(L,{key:"original"+nv(L,z),"data-index":z,className:J()(W,k),tabIndex:"-1","aria-hidden":!W["slick-active"],style:(0,K.Z)((0,K.Z)({outline:"none"},L.props.style||{}),Z),onClick:function(Q){L.props&&L.props.onClick&&L.props.onClick(Q),t.focusOnSelect&&t.focusOnSelect(F)}})),t.infinite&&_>1&&t.fade===!1&&!t.unslick){var H=_-z;H<=cu(t)&&(a=-H,a>=S&&(L=A),W=sb((0,K.Z)((0,K.Z)({},t),{},{index:a})),f.push(s.cloneElement(L,{key:"precloned"+nv(L,a),"data-index":a,tabIndex:"-1",className:J()(W,k),"aria-hidden":!W["slick-active"],style:(0,K.Z)((0,K.Z)({},L.props.style||{}),Z),onClick:function(Q){L.props&&L.props.onClick&&L.props.onClick(Q),t.focusOnSelect&&t.focusOnSelect(F)}}))),a=_+z,a<I&&(L=A),W=sb((0,K.Z)((0,K.Z)({},t),{},{index:a})),y.push(s.cloneElement(L,{key:"postcloned"+nv(L,a),"data-index":a,tabIndex:"-1",className:J()(W,k),"aria-hidden":!W["slick-active"],style:(0,K.Z)((0,K.Z)({},L.props.style||{}),Z),onClick:function(Q){L.props&&L.props.onClick&&L.props.onClick(Q),t.focusOnSelect&&t.focusOnSelect(F)}}))}}),t.rtl?f.concat(o,y).reverse():f.concat(o,y)},RS=function(e){function t(){var a;(0,Fn.Z)(this,t);for(var o=arguments.length,f=new Array(o),y=0;y<o;y++)f[y]=arguments[y];return a=tv(this,t,[].concat(f)),(0,ge.Z)(a,"node",null),(0,ge.Z)(a,"handleRef",function(_){a.node=_}),a}return(0,ri.Z)(t,e),(0,un.Z)(t,[{key:"render",value:function(){var o=H1(this.props),f=this.props,y=f.onMouseEnter,_=f.onMouseOver,S=f.onMouseLeave,I={onMouseEnter:y,onMouseOver:_,onMouseLeave:S};return s.createElement("div",(0,Ue.Z)({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},I),o)}}])}(s.PureComponent);function U1(e,t,a){return t=(0,pn.Z)(t),(0,Vn.Z)(e,(0,Sr.Z)()?Reflect.construct(t,a||[],(0,pn.Z)(e).constructor):t.apply(e,a))}var $S=function(t){var a;return t.infinite?a=Math.ceil(t.slideCount/t.slidesToScroll):a=Math.ceil((t.slideCount-t.slidesToShow)/t.slidesToScroll)+1,a},W1=function(e){function t(){return(0,Fn.Z)(this,t),U1(this,t,arguments)}return(0,ri.Z)(t,e),(0,un.Z)(t,[{key:"clickHandler",value:function(o,f){f.preventDefault(),this.props.clickHandler(o)}},{key:"render",value:function(){for(var o=this.props,f=o.onMouseEnter,y=o.onMouseOver,_=o.onMouseLeave,S=o.infinite,I=o.slidesToScroll,A=o.slidesToShow,z=o.slideCount,L=o.currentSlide,F=$S({slideCount:z,slidesToScroll:I,slidesToShow:A,infinite:S}),Z={onMouseEnter:f,onMouseOver:y,onMouseLeave:_},k=[],W=0;W<F;W++){var H=(W+1)*I-1,X=S?H:jf(H,0,z-1),Q=X-(I-1),re=S?Q:jf(Q,0,z-1),ie=J()({"slick-active":S?L>=re&&L<=X:L===re}),ne={message:"dots",index:W,slidesToScroll:I,currentSlide:L},ae=this.clickHandler.bind(this,ne);k=k.concat(s.createElement("li",{key:W,className:ie},s.cloneElement(this.props.customPaging(W),{onClick:ae})))}return s.cloneElement(this.props.appendDots(k),(0,K.Z)({className:this.props.dotsClass},Z))}}])}(s.PureComponent);function Vf(e,t,a){return t=(0,pn.Z)(t),(0,Vn.Z)(e,(0,Sr.Z)()?Reflect.construct(t,a||[],(0,pn.Z)(e).constructor):t.apply(e,a))}var lb=function(e){function t(){return(0,Fn.Z)(this,t),Vf(this,t,arguments)}return(0,ri.Z)(t,e),(0,un.Z)(t,[{key:"clickHandler",value:function(o,f){f&&f.preventDefault(),this.props.clickHandler(o,f)}},{key:"render",value:function(){var o={"slick-arrow":!0,"slick-prev":!0},f=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(o["slick-disabled"]=!0,f=null);var y={key:"0","data-role":"none",className:J()(o),style:{display:"block"},onClick:f},_={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},S;return this.props.prevArrow?S=s.cloneElement(this.props.prevArrow,(0,K.Z)((0,K.Z)({},y),_)):S=s.createElement("button",(0,Ue.Z)({key:"0",type:"button"},y)," ","Previous"),S}}])}(s.PureComponent),AS=function(e){function t(){return(0,Fn.Z)(this,t),Vf(this,t,arguments)}return(0,ri.Z)(t,e),(0,un.Z)(t,[{key:"clickHandler",value:function(o,f){f&&f.preventDefault(),this.props.clickHandler(o,f)}},{key:"render",value:function(){var o={"slick-arrow":!0,"slick-next":!0},f=this.clickHandler.bind(this,{message:"next"});Q0(this.props)||(o["slick-disabled"]=!0,f=null);var y={key:"1","data-role":"none",className:J()(o),style:{display:"block"},onClick:f},_={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},S;return this.props.nextArrow?S=s.cloneElement(this.props.nextArrow,(0,K.Z)((0,K.Z)({},y),_)):S=s.createElement("button",(0,Ue.Z)({key:"1",type:"button"},y)," ","Next"),S}}])}(s.PureComponent),G1=j(73023),DS=["animating"];function zS(e,t,a){return t=(0,pn.Z)(t),(0,Vn.Z)(e,(0,Sr.Z)()?Reflect.construct(t,a||[],(0,pn.Z)(e).constructor):t.apply(e,a))}var LS=function(e){function t(a){var o;(0,Fn.Z)(this,t),o=zS(this,t,[a]),(0,ge.Z)(o,"listRefHandler",function(y){return o.list=y}),(0,ge.Z)(o,"trackRefHandler",function(y){return o.track=y}),(0,ge.Z)(o,"adaptHeight",function(){if(o.props.adaptiveHeight&&o.list){var y=o.list.querySelector('[data-index="'.concat(o.state.currentSlide,'"]'));o.list.style.height=eb(y)+"px"}}),(0,ge.Z)(o,"componentDidMount",function(){if(o.props.onInit&&o.props.onInit(),o.props.lazyLoad){var y=Zf((0,K.Z)((0,K.Z)({},o.props),o.state));y.length>0&&(o.setState(function(S){return{lazyLoadedList:S.lazyLoadedList.concat(y)}}),o.props.onLazyLoad&&o.props.onLazyLoad(y))}var _=(0,K.Z)({listRef:o.list,trackRef:o.track},o.props);o.updateState(_,!0,function(){o.adaptHeight(),o.props.autoplay&&o.autoPlay("playing")}),o.props.lazyLoad==="progressive"&&(o.lazyLoadTimer=setInterval(o.progressiveLazyLoad,1e3)),o.ro=new G1.Z(function(){o.state.animating?(o.onWindowResized(!1),o.callbackTimers.push(setTimeout(function(){return o.onWindowResized()},o.props.speed))):o.onWindowResized()}),o.ro.observe(o.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(S){S.onfocus=o.props.pauseOnFocus?o.onSlideFocus:null,S.onblur=o.props.pauseOnFocus?o.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",o.onWindowResized):window.attachEvent("onresize",o.onWindowResized)}),(0,ge.Z)(o,"componentWillUnmount",function(){o.animationEndCallback&&clearTimeout(o.animationEndCallback),o.lazyLoadTimer&&clearInterval(o.lazyLoadTimer),o.callbackTimers.length&&(o.callbackTimers.forEach(function(y){return clearTimeout(y)}),o.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",o.onWindowResized):window.detachEvent("onresize",o.onWindowResized),o.autoplayTimer&&clearInterval(o.autoplayTimer),o.ro.disconnect()}),(0,ge.Z)(o,"componentDidUpdate",function(y){if(o.checkImagesLoad(),o.props.onReInit&&o.props.onReInit(),o.props.lazyLoad){var _=Zf((0,K.Z)((0,K.Z)({},o.props),o.state));_.length>0&&(o.setState(function(A){return{lazyLoadedList:A.lazyLoadedList.concat(_)}}),o.props.onLazyLoad&&o.props.onLazyLoad(_))}o.adaptHeight();var S=(0,K.Z)((0,K.Z)({listRef:o.list,trackRef:o.track},o.props),o.state),I=o.didPropsChange(y);I&&o.updateState(S,I,function(){o.state.currentSlide>=s.Children.count(o.props.children)&&o.changeSlide({message:"index",index:s.Children.count(o.props.children)-o.props.slidesToShow,currentSlide:o.state.currentSlide}),(y.autoplay!==o.props.autoplay||y.autoplaySpeed!==o.props.autoplaySpeed)&&(!y.autoplay&&o.props.autoplay?o.autoPlay("playing"):o.props.autoplay?o.autoPlay("update"):o.pause("paused"))})}),(0,ge.Z)(o,"onWindowResized",function(y){o.debouncedResize&&o.debouncedResize.cancel(),o.debouncedResize=F1(50,function(){return o.resizeWindow(y)}),o.debouncedResize()}),(0,ge.Z)(o,"resizeWindow",function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,_=!!(o.track&&o.track.node);if(_){var S=(0,K.Z)((0,K.Z)({listRef:o.list,trackRef:o.track},o.props),o.state);o.updateState(S,y,function(){o.props.autoplay?o.autoPlay("update"):o.pause("paused")}),o.setState({animating:!1}),clearTimeout(o.animationEndCallback),delete o.animationEndCallback}}),(0,ge.Z)(o,"updateState",function(y,_,S){var I=ES(y);y=(0,K.Z)((0,K.Z)((0,K.Z)({},y),I),{},{slideIndex:I.currentSlide});var A=Xh(y);y=(0,K.Z)((0,K.Z)({},y),{},{left:A});var z=Qc(y);(_||s.Children.count(o.props.children)!==s.Children.count(y.children))&&(I.trackStyle=z),o.setState(I,S)}),(0,ge.Z)(o,"ssrInit",function(){if(o.props.variableWidth){var y=0,_=0,S=[],I=cu((0,K.Z)((0,K.Z)((0,K.Z)({},o.props),o.state),{},{slideCount:o.props.children.length})),A=bg((0,K.Z)((0,K.Z)((0,K.Z)({},o.props),o.state),{},{slideCount:o.props.children.length}));o.props.children.forEach(function(ae){S.push(ae.props.style.width),y+=ae.props.style.width});for(var z=0;z<I;z++)_+=S[S.length-1-z],y+=S[S.length-1-z];for(var L=0;L<A;L++)y+=S[L];for(var F=0;F<o.state.currentSlide;F++)_+=S[F];var Z={width:y+"px",left:-_+"px"};if(o.props.centerMode){var k="".concat(S[o.state.currentSlide],"px");Z.left="calc(".concat(Z.left," + (100% - ").concat(k,") / 2 ) ")}return{trackStyle:Z}}var W=s.Children.count(o.props.children),H=(0,K.Z)((0,K.Z)((0,K.Z)({},o.props),o.state),{},{slideCount:W}),X=cu(H)+bg(H)+W,Q=100/o.props.slidesToShow*X,re=100/X,ie=-re*(cu(H)+o.state.currentSlide)*Q/100;o.props.centerMode&&(ie+=(100-re*Q/100)/2);var ne={width:Q+"%",left:ie+"%"};return{slideWidth:re+"%",trackStyle:ne}}),(0,ge.Z)(o,"checkImagesLoad",function(){var y=o.list&&o.list.querySelectorAll&&o.list.querySelectorAll(".slick-slide img")||[],_=y.length,S=0;Array.prototype.forEach.call(y,function(I){var A=function(){return++S&&S>=_&&o.onWindowResized()};if(!I.onclick)I.onclick=function(){return I.parentNode.focus()};else{var z=I.onclick;I.onclick=function(L){z(L),I.parentNode.focus()}}I.onload||(o.props.lazyLoad?I.onload=function(){o.adaptHeight(),o.callbackTimers.push(setTimeout(o.onWindowResized,o.props.speed))}:(I.onload=A,I.onerror=function(){A(),o.props.onLazyLoadError&&o.props.onLazyLoadError()}))})}),(0,ge.Z)(o,"progressiveLazyLoad",function(){for(var y=[],_=(0,K.Z)((0,K.Z)({},o.props),o.state),S=o.state.currentSlide;S<o.state.slideCount+bg(_);S++)if(o.state.lazyLoadedList.indexOf(S)<0){y.push(S);break}for(var I=o.state.currentSlide-1;I>=-cu(_);I--)if(o.state.lazyLoadedList.indexOf(I)<0){y.push(I);break}y.length>0?(o.setState(function(A){return{lazyLoadedList:A.lazyLoadedList.concat(y)}}),o.props.onLazyLoad&&o.props.onLazyLoad(y)):o.lazyLoadTimer&&(clearInterval(o.lazyLoadTimer),delete o.lazyLoadTimer)}),(0,ge.Z)(o,"slideHandler",function(y){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,S=o.props,I=S.asNavFor,A=S.beforeChange,z=S.onLazyLoad,L=S.speed,F=S.afterChange,Z=o.state.currentSlide,k=Bu((0,K.Z)((0,K.Z)((0,K.Z)({index:y},o.props),o.state),{},{trackRef:o.track,useCSS:o.props.useCSS&&!_})),W=k.state,H=k.nextState;if(W){A&&A(Z,W.currentSlide);var X=W.lazyLoadedList.filter(function(Q){return o.state.lazyLoadedList.indexOf(Q)<0});z&&X.length>0&&z(X),!o.props.waitForAnimate&&o.animationEndCallback&&(clearTimeout(o.animationEndCallback),F&&F(Z),delete o.animationEndCallback),o.setState(W,function(){I&&o.asNavForIndex!==y&&(o.asNavForIndex=y,I.innerSlider.slideHandler(y)),H&&(o.animationEndCallback=setTimeout(function(){var Q=H.animating,re=(0,de.Z)(H,DS);o.setState(re,function(){o.callbackTimers.push(setTimeout(function(){return o.setState({animating:Q})},10)),F&&F(W.currentSlide),delete o.animationEndCallback})},L))})}}),(0,ge.Z)(o,"changeSlide",function(y){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,S=(0,K.Z)((0,K.Z)({},o.props),o.state),I=IS(S,y);if(!(I!==0&&!I)&&(_===!0?o.slideHandler(I,_):o.slideHandler(I),o.props.autoplay&&o.autoPlay("update"),o.props.focusOnSelect)){var A=o.list.querySelectorAll(".slick-current");A[0]&&A[0].focus()}}),(0,ge.Z)(o,"clickHandler",function(y){o.clickable===!1&&(y.stopPropagation(),y.preventDefault()),o.clickable=!0}),(0,ge.Z)(o,"keyHandler",function(y){var _=j1(y,o.props.accessibility,o.props.rtl);_!==""&&o.changeSlide({message:_})}),(0,ge.Z)(o,"selectHandler",function(y){o.changeSlide(y)}),(0,ge.Z)(o,"disableBodyScroll",function(){var y=function(S){S=S||window.event,S.preventDefault&&S.preventDefault(),S.returnValue=!1};window.ontouchmove=y}),(0,ge.Z)(o,"enableBodyScroll",function(){window.ontouchmove=null}),(0,ge.Z)(o,"swipeStart",function(y){o.props.verticalSwiping&&o.disableBodyScroll();var _=TS(y,o.props.swipe,o.props.draggable);_!==""&&o.setState(_)}),(0,ge.Z)(o,"swipeMove",function(y){var _=nb(y,(0,K.Z)((0,K.Z)((0,K.Z)({},o.props),o.state),{},{trackRef:o.track,listRef:o.list,slideIndex:o.state.currentSlide}));_&&(_.swiping&&(o.clickable=!1),o.setState(_))}),(0,ge.Z)(o,"swipeEnd",function(y){var _=rb(y,(0,K.Z)((0,K.Z)((0,K.Z)({},o.props),o.state),{},{trackRef:o.track,listRef:o.list,slideIndex:o.state.currentSlide}));if(_){var S=_.triggerSlideHandler;delete _.triggerSlideHandler,o.setState(_),S!==void 0&&(o.slideHandler(S),o.props.verticalSwiping&&o.enableBodyScroll())}}),(0,ge.Z)(o,"touchEnd",function(y){o.swipeEnd(y),o.clickable=!0}),(0,ge.Z)(o,"slickPrev",function(){o.callbackTimers.push(setTimeout(function(){return o.changeSlide({message:"previous"})},0))}),(0,ge.Z)(o,"slickNext",function(){o.callbackTimers.push(setTimeout(function(){return o.changeSlide({message:"next"})},0))}),(0,ge.Z)(o,"slickGoTo",function(y){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(y=Number(y),isNaN(y))return"";o.callbackTimers.push(setTimeout(function(){return o.changeSlide({message:"index",index:y,currentSlide:o.state.currentSlide},_)},0))}),(0,ge.Z)(o,"play",function(){var y;if(o.props.rtl)y=o.state.currentSlide-o.props.slidesToScroll;else if(Q0((0,K.Z)((0,K.Z)({},o.props),o.state)))y=o.state.currentSlide+o.props.slidesToScroll;else return!1;o.slideHandler(y)}),(0,ge.Z)(o,"autoPlay",function(y){o.autoplayTimer&&clearInterval(o.autoplayTimer);var _=o.state.autoplaying;if(y==="update"){if(_==="hovered"||_==="focused"||_==="paused")return}else if(y==="leave"){if(_==="paused"||_==="focused")return}else if(y==="blur"&&(_==="paused"||_==="hovered"))return;o.autoplayTimer=setInterval(o.play,o.props.autoplaySpeed+50),o.setState({autoplaying:"playing"})}),(0,ge.Z)(o,"pause",function(y){o.autoplayTimer&&(clearInterval(o.autoplayTimer),o.autoplayTimer=null);var _=o.state.autoplaying;y==="paused"?o.setState({autoplaying:"paused"}):y==="focused"?(_==="hovered"||_==="playing")&&o.setState({autoplaying:"focused"}):_==="playing"&&o.setState({autoplaying:"hovered"})}),(0,ge.Z)(o,"onDotsOver",function(){return o.props.autoplay&&o.pause("hovered")}),(0,ge.Z)(o,"onDotsLeave",function(){return o.props.autoplay&&o.state.autoplaying==="hovered"&&o.autoPlay("leave")}),(0,ge.Z)(o,"onTrackOver",function(){return o.props.autoplay&&o.pause("hovered")}),(0,ge.Z)(o,"onTrackLeave",function(){return o.props.autoplay&&o.state.autoplaying==="hovered"&&o.autoPlay("leave")}),(0,ge.Z)(o,"onSlideFocus",function(){return o.props.autoplay&&o.pause("focused")}),(0,ge.Z)(o,"onSlideBlur",function(){return o.props.autoplay&&o.state.autoplaying==="focused"&&o.autoPlay("blur")}),(0,ge.Z)(o,"render",function(){var y=J()("slick-slider",o.props.className,{"slick-vertical":o.props.vertical,"slick-initialized":!0}),_=(0,K.Z)((0,K.Z)({},o.props),o.state),S=tb(_,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),I=o.props.pauseOnHover;S=(0,K.Z)((0,K.Z)({},S),{},{onMouseEnter:I?o.onTrackOver:null,onMouseLeave:I?o.onTrackLeave:null,onMouseOver:I?o.onTrackOver:null,focusOnSelect:o.props.focusOnSelect&&o.clickable?o.selectHandler:null});var A;if(o.props.dots===!0&&o.state.slideCount>=o.props.slidesToShow){var z=tb(_,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),L=o.props.pauseOnDotsHover;z=(0,K.Z)((0,K.Z)({},z),{},{clickHandler:o.changeSlide,onMouseEnter:L?o.onDotsLeave:null,onMouseOver:L?o.onDotsOver:null,onMouseLeave:L?o.onDotsLeave:null}),A=s.createElement(W1,z)}var F,Z,k=tb(_,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);k.clickHandler=o.changeSlide,o.props.arrows&&(F=s.createElement(lb,k),Z=s.createElement(AS,k));var W=null;o.props.vertical&&(W={height:o.state.listHeight});var H=null;o.props.vertical===!1?o.props.centerMode===!0&&(H={padding:"0px "+o.props.centerPadding}):o.props.centerMode===!0&&(H={padding:o.props.centerPadding+" 0px"});var X=(0,K.Z)((0,K.Z)({},W),H),Q=o.props.touchMove,re={className:"slick-list",style:X,onClick:o.clickHandler,onMouseDown:Q?o.swipeStart:null,onMouseMove:o.state.dragging&&Q?o.swipeMove:null,onMouseUp:Q?o.swipeEnd:null,onMouseLeave:o.state.dragging&&Q?o.swipeEnd:null,onTouchStart:Q?o.swipeStart:null,onTouchMove:o.state.dragging&&Q?o.swipeMove:null,onTouchEnd:Q?o.touchEnd:null,onTouchCancel:o.state.dragging&&Q?o.swipeEnd:null,onKeyDown:o.props.accessibility?o.keyHandler:null},ie={className:y,dir:"ltr",style:o.props.style};return o.props.unslick&&(re={className:"slick-list"},ie={className:y,style:o.props.style}),s.createElement("div",ie,o.props.unslick?"":F,s.createElement("div",(0,Ue.Z)({ref:o.listRefHandler},re),s.createElement(RS,(0,Ue.Z)({ref:o.trackRefHandler},S),o.props.children)),o.props.unslick?"":Z,o.props.unslick?"":A)}),o.list=null,o.track=null,o.state=(0,K.Z)((0,K.Z)({},B1),{},{currentSlide:o.props.initialSlide,targetSlide:o.props.initialSlide?o.props.initialSlide:0,slideCount:s.Children.count(o.props.children)}),o.callbackTimers=[],o.clickable=!0,o.debouncedResize=null;var f=o.ssrInit();return o.state=(0,K.Z)((0,K.Z)({},o.state),f),o}return(0,ri.Z)(t,e),(0,un.Z)(t,[{key:"didPropsChange",value:function(o){for(var f=!1,y=0,_=Object.keys(this.props);y<_.length;y++){var S=_[y];if(!o.hasOwnProperty(S)){f=!0;break}if(!((0,dt.Z)(o[S])==="object"||typeof o[S]=="function"||isNaN(o[S]))&&o[S]!==this.props[S]){f=!0;break}}return f||s.Children.count(this.props.children)!==s.Children.count(o.children)}}])}(s.Component),X1=j(55518),cb=j.n(X1);function NS(e,t,a){return t=(0,pn.Z)(t),(0,Vn.Z)(e,(0,Sr.Z)()?Reflect.construct(t,a||[],(0,pn.Z)(e).constructor):t.apply(e,a))}var K1=function(e){function t(a){var o;return(0,Fn.Z)(this,t),o=NS(this,t,[a]),(0,ge.Z)(o,"innerSliderRefHandler",function(f){return o.innerSlider=f}),(0,ge.Z)(o,"slickPrev",function(){return o.innerSlider.slickPrev()}),(0,ge.Z)(o,"slickNext",function(){return o.innerSlider.slickNext()}),(0,ge.Z)(o,"slickGoTo",function(f){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return o.innerSlider.slickGoTo(f,y)}),(0,ge.Z)(o,"slickPause",function(){return o.innerSlider.pause("paused")}),(0,ge.Z)(o,"slickPlay",function(){return o.innerSlider.autoPlay("play")}),o.state={breakpoint:null},o._responsiveMediaHandlers=[],o}return(0,ri.Z)(t,e),(0,un.Z)(t,[{key:"media",value:function(o,f){var y=window.matchMedia(o),_=function(I){var A=I.matches;A&&f()};y.addListener(_),_(y),this._responsiveMediaHandlers.push({mql:y,query:o,listener:_})}},{key:"componentDidMount",value:function(){var o=this;if(this.props.responsive){var f=this.props.responsive.map(function(_){return _.breakpoint});f.sort(function(_,S){return _-S}),f.forEach(function(_,S){var I;S===0?I=cb()({minWidth:0,maxWidth:_}):I=cb()({minWidth:f[S-1]+1,maxWidth:_}),ob()&&o.media(I,function(){o.setState({breakpoint:_})})});var y=cb()({minWidth:f.slice(-1)[0]});ob()&&this.media(y,function(){o.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(o){o.mql.removeListener(o.listener)})}},{key:"render",value:function(){var o=this,f,y;this.state.breakpoint?(y=this.props.responsive.filter(function(W){return W.breakpoint===o.state.breakpoint}),f=y[0].settings==="unslick"?"unslick":(0,K.Z)((0,K.Z)((0,K.Z)({},wl),this.props),y[0].settings)):f=(0,K.Z)((0,K.Z)({},wl),this.props),f.centerMode&&(f.slidesToScroll>1,f.slidesToScroll=1),f.fade&&(f.slidesToShow>1,f.slidesToScroll>1,f.slidesToShow=1,f.slidesToScroll=1);var _=s.Children.toArray(this.props.children);_=_.filter(function(W){return typeof W=="string"?!!W.trim():!!W}),f.variableWidth&&(f.rows>1||f.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),f.variableWidth=!1);for(var S=[],I=null,A=0;A<_.length;A+=f.rows*f.slidesPerRow){for(var z=[],L=A;L<A+f.rows*f.slidesPerRow;L+=f.slidesPerRow){for(var F=[],Z=L;Z<L+f.slidesPerRow&&(f.variableWidth&&_[Z].props.style&&(I=_[Z].props.style.width),!(Z>=_.length));Z+=1)F.push(s.cloneElement(_[Z],{key:100*A+10*L+Z,tabIndex:-1,style:{width:"".concat(100/f.slidesPerRow,"%"),display:"inline-block"}}));z.push(s.createElement("div",{key:10*A+L},F))}f.variableWidth?S.push(s.createElement("div",{key:A,style:{width:I}},z)):S.push(s.createElement("div",{key:A},z))}if(f==="unslick"){var k="regular slider "+(this.props.className||"");return s.createElement("div",{className:k},_)}else S.length<=f.slidesToShow&&!f.infinite&&(f.unslick=!0);return s.createElement(LS,(0,Ue.Z)({style:this.props.style,ref:this.innerSliderRefHandler},OS(f)),S)}}])}(s.Component),BS=K1;const Hf="--dot-duration",q1=e=>{const{componentCls:t,antCls:a}=e;return{[t]:Object.assign(Object.assign({},(0,nn.Wf)(e)),{".slick-slider":{position:"relative",display:"block",boxSizing:"border-box",touchAction:"pan-y",WebkitTouchCallout:"none",WebkitTapHighlightColor:"transparent",".slick-track, .slick-list":{transform:"translate3d(0, 0, 0)",touchAction:"pan-y"}},".slick-list":{position:"relative",display:"block",margin:0,padding:0,overflow:"hidden","&:focus":{outline:"none"},"&.dragging":{cursor:"pointer"},".slick-slide":{pointerEvents:"none",[`input${a}-radio-input, input${a}-checkbox-input`]:{visibility:"hidden"},"&.slick-active":{pointerEvents:"auto",[`input${a}-radio-input, input${a}-checkbox-input`]:{visibility:"visible"}},"> div > div":{verticalAlign:"bottom"}}},".slick-track":{position:"relative",top:0,insetInlineStart:0,display:"block","&::before, &::after":{display:"table",content:'""'},"&::after":{clear:"both"}},".slick-slide":{display:"none",float:"left",height:"100%",minHeight:1,img:{display:"block"},"&.dragging img":{pointerEvents:"none"}},".slick-initialized .slick-slide":{display:"block"},".slick-vertical .slick-slide":{display:"block",height:"auto"}})}},Y1=e=>{const{componentCls:t,motionDurationSlow:a,arrowSize:o,arrowOffset:f}=e,y=e.calc(o).div(Math.SQRT2).equal();return{[t]:{".slick-prev, .slick-next":{position:"absolute",top:"50%",width:o,height:o,transform:"translateY(-50%)",color:"#fff",opacity:.4,background:"transparent",padding:0,lineHeight:0,border:0,outline:"none",cursor:"pointer",zIndex:1,transition:`opacity ${a}`,"&:hover, &:focus":{opacity:1},"&.slick-disabled":{pointerEvents:"none",opacity:0},"&::after":{boxSizing:"border-box",position:"absolute",top:e.calc(o).sub(y).div(2).equal(),insetInlineStart:e.calc(o).sub(y).div(2).equal(),display:"inline-block",width:y,height:y,border:"0 solid currentcolor",borderInlineWidth:"2px 0",borderBlockWidth:"2px 0",borderRadius:1,content:'""'}},".slick-prev":{insetInlineStart:f,"&::after":{transform:"rotate(-45deg)"}},".slick-next":{insetInlineEnd:f,"&::after":{transform:"rotate(135deg)"}}}}},FS=e=>{const{componentCls:t,dotOffset:a,dotWidth:o,dotHeight:f,dotGap:y,colorBgContainer:_,motionDurationSlow:S}=e;return{[t]:{".slick-dots":{position:"absolute",insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:15,display:"flex !important",justifyContent:"center",paddingInlineStart:0,margin:0,listStyle:"none","&-bottom":{bottom:a},"&-top":{top:a,bottom:"auto"},li:{position:"relative",display:"inline-block",flex:"0 1 auto",boxSizing:"content-box",width:o,height:f,marginInline:y,padding:0,textAlign:"center",textIndent:-999,verticalAlign:"top",transition:`all ${S}`,borderRadius:f,overflow:"hidden","&::after":{display:"block",position:"absolute",top:0,insetInlineStart:0,width:"100%",height:f,content:'""',background:_,borderRadius:f,opacity:1,outline:"none",cursor:"pointer",overflow:"hidden",transform:"translate3d(-100%, 0, 0)"},button:{position:"relative",display:"block",width:"100%",height:f,padding:0,color:"transparent",fontSize:0,background:_,border:0,borderRadius:f,outline:"none",cursor:"pointer",opacity:.2,transition:`all ${S}`,overflow:"hidden","&:hover":{opacity:.75},"&::after":{position:"absolute",inset:e.calc(y).mul(-1).equal(),content:'""'}},"&.slick-active":{width:e.dotActiveWidth,position:"relative","&:hover":{opacity:1},"&::after":{transform:"translate3d(0, 0, 0)",transition:`transform var(${Hf}) ease-out`}}}}}}},J1=e=>{const{componentCls:t,dotOffset:a,arrowOffset:o,marginXXS:f}=e,y={width:e.dotHeight,height:e.dotWidth};return{[`${t}-vertical`]:{".slick-prev, .slick-next":{insetInlineStart:"50%",marginBlockStart:"unset",transform:"translateX(-50%)"},".slick-prev":{insetBlockStart:o,insetInlineStart:"50%","&::after":{transform:"rotate(45deg)"}},".slick-next":{insetBlockStart:"auto",insetBlockEnd:o,"&::after":{transform:"rotate(-135deg)"}},".slick-dots":{top:"50%",bottom:"auto",flexDirection:"column",width:e.dotHeight,height:"auto",margin:0,transform:"translateY(-50%)","&-left":{insetInlineEnd:"auto",insetInlineStart:a},"&-right":{insetInlineEnd:a,insetInlineStart:"auto"},li:Object.assign(Object.assign({},y),{margin:`${(0,me.bf)(f)} 0`,verticalAlign:"baseline",button:y,"&::after":Object.assign(Object.assign({},y),{height:0}),"&.slick-active":Object.assign(Object.assign({},y),{button:y,"&::after":Object.assign(Object.assign({},y),{transition:`height var(${Hf}) ease-out`})})})}}}},ub=e=>{const{componentCls:t}=e;return[{[`${t}-rtl`]:{direction:"rtl",".slick-dots":{[`${t}-rtl&`]:{flexDirection:"row-reverse"}}}},{[`${t}-vertical`]:{".slick-dots":{[`${t}-rtl&`]:{flexDirection:"column"}}}}]},db=e=>({arrowSize:16,arrowOffset:e.marginXS,dotWidth:16,dotHeight:3,dotGap:e.marginXXS,dotOffset:12,dotWidthActive:24,dotActiveWidth:24});var Q1=(0,oe.I$)("Carousel",e=>[q1(e),Y1(e),FS(e),J1(e),ub(e)],db,{deprecatedTokens:[["dotWidthActive","dotActiveWidth"]]}),Qm=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const rv="slick-dots",fb=e=>{var{currentSlide:t,slideCount:a}=e,o=Qm(e,["currentSlide","slideCount"]);return s.createElement("button",Object.assign({type:"button"},o))};var n=s.forwardRef((e,t)=>{const{dots:a=!0,arrows:o=!1,prevArrow:f=s.createElement(fb,{"aria-label":"prev"}),nextArrow:y=s.createElement(fb,{"aria-label":"next"}),draggable:_=!1,waitForAnimate:S=!1,dotPosition:I="bottom",vertical:A=I==="left"||I==="right",rootClassName:z,className:L,style:F,id:Z,autoplay:k=!1,autoplaySpeed:W=3e3}=e,H=Qm(e,["dots","arrows","prevArrow","nextArrow","draggable","waitForAnimate","dotPosition","vertical","rootClassName","className","style","id","autoplay","autoplaySpeed"]),{getPrefixCls:X,direction:Q,className:re,style:ie}=(0,_e.dj)("carousel"),ne=s.useRef(null),ae=function(Ke){let tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;ne.current.slickGoTo(Ke,tt)};s.useImperativeHandle(t,()=>({goTo:ae,autoPlay:ne.current.innerSlider.autoPlay,innerSlider:ne.current.innerSlider,prev:ne.current.slickPrev,next:ne.current.slickNext}),[ne.current]);const ue=s.useRef(s.Children.count(e.children));s.useEffect(()=>{ue.current!==s.Children.count(e.children)&&(ae(e.initialSlide||0,!1),ue.current=s.Children.count(e.children))},[e.children]);const fe=Object.assign({vertical:A,className:J()(L,re),style:Object.assign(Object.assign({},ie),F),autoplay:!!k},H);fe.effect==="fade"&&(fe.fade=!0);const he=X("carousel",fe.prefixCls),ve=!!a,ye=J()(rv,`${rv}-${I}`,typeof a=="boolean"?!1:a==null?void 0:a.className),[we,Se,ze]=Q1(he),Te=J()(he,{[`${he}-rtl`]:Q==="rtl",[`${he}-vertical`]:fe.vertical},Se,ze,z),Ae=k&&(typeof k=="object"?k.dotDuration:!1)?{[Hf]:`${W}ms`}:{};return we(s.createElement("div",{className:Te,id:Z,style:Ae},s.createElement(BS,Object.assign({ref:ne},fe,{dots:ve,dotsClass:ye,arrows:o,prevArrow:f,nextArrow:y,draggable:_,verticalSwiping:A,autoplaySpeed:W,waitForAnimate:S}))))}),i=j(12321),d=j(21125),g=s.createContext({}),h=g,v="__rc_cascader_search_mark__",w=function(t,a,o){var f=o.label,y=f===void 0?"":f;return a.some(function(_){return String(_[y]).toLowerCase().includes(t.toLowerCase())})},M=function(t,a,o,f){return a.map(function(y){return y[f.label]}).join(" / ")},D=function(t,a,o,f,y,_){var S=y.filter,I=S===void 0?w:S,A=y.render,z=A===void 0?M:A,L=y.limit,F=L===void 0?50:L,Z=y.sort;return s.useMemo(function(){var k=[];if(!t)return[];function W(H,X){var Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;H.forEach(function(re){if(!(!Z&&F!==!1&&F>0&&k.length>=F)){var ie=[].concat((0,Ie.Z)(X),[re]),ne=re[o.children],ae=Q||re.disabled;if((!ne||ne.length===0||_)&&I(t,ie,{label:o.label})){var ue;k.push((0,K.Z)((0,K.Z)({},re),{},(ue={disabled:ae},(0,ge.Z)(ue,o.label,z(t,ie,f,o)),(0,ge.Z)(ue,v,ie),(0,ge.Z)(ue,o.children,void 0),ue)))}ne&&W(re[o.children],ie,ae)}})}return W(a,[]),Z&&k.sort(function(H,X){return Z(H[v],X[v],t,o)}),F!==!1&&F>0?k.slice(0,F):k},[t,a,o,f,z,_,I,Z,F])},x=D,P="__RC_CASCADER_SPLIT__",$="SHOW_PARENT",T="SHOW_CHILD";function O(e){return e.join(P)}function N(e){return e.map(O)}function G(e){return e.split(P)}function q(e){var t=e||{},a=t.label,o=t.value,f=t.children,y=o||"value";return{label:a||"label",value:y,key:y,children:f||"children"}}function se(e,t){var a,o;return(a=e.isLeaf)!==null&&a!==void 0?a:!((o=e[t.children])!==null&&o!==void 0&&o.length)}function ce(e){var t=e.parentElement;if(t){var a=e.offsetTop-t.offsetTop;a-t.scrollTop<0?t.scrollTo({top:a}):a+e.offsetHeight-t.scrollTop>t.offsetHeight&&t.scrollTo({top:a+e.offsetHeight-t.offsetHeight})}}function te(e,t){return e.map(function(a){var o;return(o=a[v])===null||o===void 0?void 0:o.map(function(f){return f[t.value]})})}function pe(e){return Array.isArray(e)&&Array.isArray(e[0])}function Ce(e){return e?pe(e)?e:(e.length===0?[]:[e]).map(function(t){return Array.isArray(t)?t:[t]}):[]}function Re(e,t,a){var o=new Set(e),f=t();return e.filter(function(y){var _=f[y],S=_?_.parent:null,I=_?_.children:null;return _&&_.node.disabled?!0:a===T?!(I&&I.some(function(A){return A.key&&o.has(A.key)})):!(S&&!S.node.disabled&&o.has(S.key))})}function it(e,t,a){for(var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,f=t,y=[],_=function(){var A,z,L,F=e[S],Z=(A=f)===null||A===void 0?void 0:A.findIndex(function(W){var H=W[a.value];return o?String(H)===String(F):H===F}),k=Z!==-1?(z=f)===null||z===void 0?void 0:z[Z]:null;y.push({value:(L=k==null?void 0:k[a.value])!==null&&L!==void 0?L:F,index:Z,option:k}),f=k==null?void 0:k[a.children]},S=0;S<e.length;S+=1)_();return y}var nt=function(e,t,a,o,f){return s.useMemo(function(){var y=f||function(_){var S=o?_.slice(-1):_,I=" / ";return S.every(function(A){return["string","number"].includes((0,dt.Z)(A))})?S.join(I):S.reduce(function(A,z,L){var F=s.isValidElement(z)?s.cloneElement(z,{key:L}):z;return L===0?[F]:[].concat((0,Ie.Z)(A),[I,F])},[])};return e.map(function(_){var S,I=it(_,t,a),A=y(I.map(function(L){var F,Z=L.option,k=L.value;return(F=Z==null?void 0:Z[a.label])!==null&&F!==void 0?F:k}),I.map(function(L){var F=L.option;return F})),z=O(_);return{label:A,value:z,key:z,valueCells:_,disabled:(S=I[I.length-1])===null||S===void 0||(S=S.option)===null||S===void 0?void 0:S.disabled}})},[e,t,a,f,o])};function et(e,t){return s.useCallback(function(a){var o=[],f=[];return a.forEach(function(y){var _=it(y,e,t);_.every(function(S){return S.option})?f.push(y):o.push(y)}),[f,o]},[e,t])}var Lt=j(37861),ut=function(e,t){var a=s.useRef({options:[],info:{keyEntities:{},pathKeyEntities:{}}}),o=s.useCallback(function(){return a.current.options!==e&&(a.current.options=e,a.current.info=(0,Lt.I8)(e,{fieldNames:t,initWrapper:function(y){return(0,K.Z)((0,K.Z)({},y),{},{pathKeyEntities:{}})},processEntity:function(y,_){var S=y.nodes.map(function(I){return I[t.value]}).join(P);_.pathKeyEntities[S]=y,y.key=S}})),a.current.info.pathKeyEntities},[t,e]);return o};function Zt(e,t){var a=s.useMemo(function(){return t||[]},[t]),o=ut(a,e),f=s.useCallback(function(y){var _=o();return y.map(function(S){var I=_[S].nodes;return I.map(function(A){return A[e.value]})})},[o,e]);return[a,o,f]}function on(e){return s.useMemo(function(){if(!e)return[!1,{}];var t={matchInputWidth:!0,limit:50};return e&&(0,dt.Z)(e)==="object"&&(t=(0,K.Z)((0,K.Z)({},t),e)),t.limit<=0&&(t.limit=!1),[!0,t]},[e])}var Wt=j(59454);function cn(e,t,a,o,f,y,_,S){return function(I){if(!e)t(I);else{var A=O(I),z=N(a),L=N(o),F=z.includes(A),Z=f.some(function(ae){return O(ae)===A}),k=a,W=f;if(Z&&!F)W=f.filter(function(ae){return O(ae)!==A});else{var H=F?z.filter(function(ae){return ae!==A}):[].concat((0,Ie.Z)(z),[A]),X=y(),Q;if(F){var re=(0,Wt.S)(H,{checked:!1,halfCheckedKeys:L},X);Q=re.checkedKeys}else{var ie=(0,Wt.S)(H,!0,X);Q=ie.checkedKeys}var ne=Re(Q,y,S);k=_(ne)}t([].concat((0,Ie.Z)(W),(0,Ie.Z)(k)))}}}function wn(e,t,a,o,f){return s.useMemo(function(){var y=f(t),_=(0,Pe.Z)(y,2),S=_[0],I=_[1];if(!e||!t.length)return[S,[],I];var A=N(S),z=a(),L=(0,Wt.S)(A,!0,z),F=L.checkedKeys,Z=L.halfCheckedKeys;return[o(F),o(Z),I]},[e,t,a,o,f])}var Nn=s.memo(function(e){var t=e.children;return t},function(e,t){return!t.open}),vn=Nn;function xr(e){var t,a=e.prefixCls,o=e.checked,f=e.halfChecked,y=e.disabled,_=e.onClick,S=e.disableCheckbox,I=s.useContext(h),A=I.checkable,z=typeof A!="boolean"?A:null;return s.createElement("span",{className:J()("".concat(a),(t={},(0,ge.Z)(t,"".concat(a,"-checked"),o),(0,ge.Z)(t,"".concat(a,"-indeterminate"),!o&&f),(0,ge.Z)(t,"".concat(a,"-disabled"),y||S),t)),onClick:_},z)}var Hr="__cascader_fix_label__";function _r(e){var t=e.prefixCls,a=e.multiple,o=e.options,f=e.activeValue,y=e.prevValuePath,_=e.onToggleOpen,S=e.onSelect,I=e.onActive,A=e.checkedSet,z=e.halfCheckedSet,L=e.loadingKeys,F=e.isSelectable,Z=e.disabled,k="".concat(t,"-menu"),W="".concat(t,"-menu-item"),H=s.useContext(h),X=H.fieldNames,Q=H.changeOnSelect,re=H.expandTrigger,ie=H.expandIcon,ne=H.loadingIcon,ae=H.dropdownMenuColumnStyle,ue=H.optionRender,fe=re==="hover",he=function(we){return Z||we},ve=s.useMemo(function(){return o.map(function(ye){var we,Se=ye.disabled,ze=ye.disableCheckbox,Te=ye[v],Fe=(we=ye[Hr])!==null&&we!==void 0?we:ye[X.label],Ae=ye[X.value],Ke=se(ye,X),tt=Te?Te.map(function(mt){return mt[X.value]}):[].concat((0,Ie.Z)(y),[Ae]),vt=O(tt),bt=L.includes(vt),lt=A.has(vt),ct=z.has(vt);return{disabled:Se,label:Fe,value:Ae,isLeaf:Ke,isLoading:bt,checked:lt,halfChecked:ct,option:ye,disableCheckbox:ze,fullPath:tt,fullPathKey:vt}})},[o,A,X,z,L,y]);return s.createElement("ul",{className:k,role:"menu"},ve.map(function(ye){var we,Se=ye.disabled,ze=ye.label,Te=ye.value,Fe=ye.isLeaf,Ae=ye.isLoading,Ke=ye.checked,tt=ye.halfChecked,vt=ye.option,bt=ye.fullPath,lt=ye.fullPathKey,ct=ye.disableCheckbox,mt=function(){if(!he(Se)){var Ct=(0,Ie.Z)(bt);fe&&Fe&&Ct.pop(),I(Ct)}},Rt=function(){F(vt)&&!he(Se)&&S(bt,Fe)},wt;return typeof vt.title=="string"?wt=vt.title:typeof ze=="string"&&(wt=ze),s.createElement("li",{key:lt,className:J()(W,(we={},(0,ge.Z)(we,"".concat(W,"-expand"),!Fe),(0,ge.Z)(we,"".concat(W,"-active"),f===Te||f===lt),(0,ge.Z)(we,"".concat(W,"-disabled"),he(Se)),(0,ge.Z)(we,"".concat(W,"-loading"),Ae),we)),style:ae,role:"menuitemcheckbox",title:wt,"aria-checked":Ke,"data-path-key":lt,onClick:function(){mt(),!ct&&(!a||Fe)&&Rt()},onDoubleClick:function(){Q&&_(!1)},onMouseEnter:function(){fe&&mt()},onMouseDown:function(Ct){Ct.preventDefault()}},a&&s.createElement(xr,{prefixCls:"".concat(t,"-checkbox"),checked:Ke,halfChecked:tt,disabled:he(Se)||ct,disableCheckbox:ct,onClick:function(Ct){ct||(Ct.stopPropagation(),Rt())}}),s.createElement("div",{className:"".concat(W,"-content")},ue?ue(vt):ze),!Ae&&ie&&!Fe&&s.createElement("div",{className:"".concat(W,"-expand-icon")},ie),Ae&&ne&&s.createElement("div",{className:"".concat(W,"-loading-icon")},ne))}))}var Bi=function(t,a){var o=s.useContext(h),f=o.values,y=f[0],_=s.useState([]),S=(0,Pe.Z)(_,2),I=S[0],A=S[1];return s.useEffect(function(){t||A(y||[])},[a,y]),[I,A]},Mi=Bi,di=function(e,t,a,o,f,y,_){var S=_.direction,I=_.searchValue,A=_.toggleOpen,z=_.open,L=S==="rtl",F=s.useMemo(function(){for(var ae=-1,ue=t,fe=[],he=[],ve=o.length,ye=te(t,a),we=function(Ae){var Ke=ue.findIndex(function(tt,vt){return(ye[vt]?O(ye[vt]):tt[a.value])===o[Ae]});if(Ke===-1)return 1;ae=Ke,fe.push(ae),he.push(o[Ae]),ue=ue[ae][a.children]},Se=0;Se<ve&&ue&&!we(Se);Se+=1);for(var ze=t,Te=0;Te<fe.length-1;Te+=1)ze=ze[fe[Te]][a.children];return[he,ae,ze,ye]},[o,a,t]),Z=(0,Pe.Z)(F,4),k=Z[0],W=Z[1],H=Z[2],X=Z[3],Q=function(ue){f(ue)},re=function(ue){var fe=H.length,he=W;he===-1&&ue<0&&(he=fe);for(var ve=0;ve<fe;ve+=1){he=(he+ue+fe)%fe;var ye=H[he];if(ye&&!ye.disabled){var we=k.slice(0,-1).concat(X[he]?O(X[he]):ye[a.value]);Q(we);return}}},ie=function(){if(k.length>1){var ue=k.slice(0,-1);Q(ue)}else A(!1)},ne=function(){var ue,fe=((ue=H[W])===null||ue===void 0?void 0:ue[a.children])||[],he=fe.find(function(ye){return!ye.disabled});if(he){var ve=[].concat((0,Ie.Z)(k),[he[a.value]]);Q(ve)}};s.useImperativeHandle(e,function(){return{onKeyDown:function(ue){var fe=ue.which;switch(fe){case _t.Z.UP:case _t.Z.DOWN:{var he=0;fe===_t.Z.UP?he=-1:fe===_t.Z.DOWN&&(he=1),he!==0&&re(he);break}case _t.Z.LEFT:{if(I)break;L?ne():ie();break}case _t.Z.RIGHT:{if(I)break;L?ie():ne();break}case _t.Z.BACKSPACE:{I||ie();break}case _t.Z.ENTER:{if(k.length){var ve=H[W],ye=(ve==null?void 0:ve[v])||[];ye.length?y(ye.map(function(we){return we[a.value]}),ye[ye.length-1]):y(k,H[W])}break}case _t.Z.ESC:A(!1),z&&ue.stopPropagation()}},onKeyUp:function(){}}})},Wr=s.forwardRef(function(e,t){var a,o,f,y=e.prefixCls,_=e.multiple,S=e.searchValue,I=e.toggleOpen,A=e.notFoundContent,z=e.direction,L=e.open,F=e.disabled,Z=s.useRef(null),k=z==="rtl",W=s.useContext(h),H=W.options,X=W.values,Q=W.halfValues,re=W.fieldNames,ie=W.changeOnSelect,ne=W.onSelect,ae=W.searchOptions,ue=W.dropdownPrefixCls,fe=W.loadData,he=W.expandTrigger,ve=ue||y,ye=s.useState([]),we=(0,Pe.Z)(ye,2),Se=we[0],ze=we[1],Te=function(At){if(!(!fe||S)){var $n=it(At,H,re),yn=$n.map(function(Kn){var qn=Kn.option;return qn}),Ir=yn[yn.length-1];if(Ir&&!se(Ir,re)){var cr=O(At);ze(function(Kn){return[].concat((0,Ie.Z)(Kn),[cr])}),fe(yn)}}};s.useEffect(function(){Se.length&&Se.forEach(function(Vt){var At=G(Vt),$n=it(At,H,re,!0).map(function(Ir){var cr=Ir.option;return cr}),yn=$n[$n.length-1];(!yn||yn[re.children]||se(yn,re))&&ze(function(Ir){return Ir.filter(function(cr){return cr!==Vt})})})},[H,Se,re]);var Fe=s.useMemo(function(){return new Set(N(X))},[X]),Ae=s.useMemo(function(){return new Set(N(Q))},[Q]),Ke=Mi(_,L),tt=(0,Pe.Z)(Ke,2),vt=tt[0],bt=tt[1],lt=function(At){bt(At),Te(At)},ct=function(At){if(F)return!1;var $n=At.disabled,yn=se(At,re);return!$n&&(yn||ie||_)},mt=function(At,$n){var yn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;ne(At),!_&&($n||ie&&(he==="hover"||yn))&&I(!1)},Rt=s.useMemo(function(){return S?ae:H},[S,ae,H]),wt=s.useMemo(function(){for(var Vt=[{options:Rt}],At=Rt,$n=te(At,re),yn=function(){var Kn=vt[Ir],qn=At.find(function(Yn,zr){return($n[zr]?O($n[zr]):Yn[re.value])===Kn}),Pn=qn==null?void 0:qn[re.children];if(!(Pn!=null&&Pn.length))return 1;At=Pn,Vt.push({options:Pn})},Ir=0;Ir<vt.length&&!yn();Ir+=1);return Vt},[Rt,vt,re]),Bt=function(At,$n){ct($n)&&mt(At,se($n,re),!0)};di(t,Rt,re,vt,lt,Bt,{direction:z,searchValue:S,toggleOpen:I,open:L}),s.useEffect(function(){if(!S)for(var Vt=0;Vt<vt.length;Vt+=1){var At,$n=vt.slice(0,Vt+1),yn=O($n),Ir=(At=Z.current)===null||At===void 0?void 0:At.querySelector('li[data-path-key="'.concat(yn.replace(/\\{0,2}"/g,'\\"'),'"]'));Ir&&ce(Ir)}},[vt,S]);var Ct=!((a=wt[0])!==null&&a!==void 0&&(a=a.options)!==null&&a!==void 0&&a.length),dn=[(o={},(0,ge.Z)(o,re.value,"__EMPTY__"),(0,ge.Z)(o,Hr,A),(0,ge.Z)(o,"disabled",!0),o)],zn=(0,K.Z)((0,K.Z)({},e),{},{multiple:!Ct&&_,onSelect:mt,onActive:lt,onToggleOpen:I,checkedSet:Fe,halfCheckedSet:Ae,loadingKeys:Se,isSelectable:ct}),rn=Ct?[{options:dn}]:wt,Cn=rn.map(function(Vt,At){var $n=vt.slice(0,At),yn=vt[At];return s.createElement(_r,(0,Ue.Z)({key:At},zn,{prefixCls:ve,options:Vt.options,prevValuePath:$n,activeValue:yn}))});return s.createElement(vn,{open:L},s.createElement("div",{className:J()("".concat(ve,"-menus"),(f={},(0,ge.Z)(f,"".concat(ve,"-menu-empty"),Ct),(0,ge.Z)(f,"".concat(ve,"-rtl"),k),f)),ref:Z},Cn))}),bo=Wr,ji=s.forwardRef(function(e,t){var a=(0,i.lk)();return s.createElement(bo,(0,Ue.Z)({},e,a,{ref:t}))}),Qi=ji;function ia(){}function Aa(e){var t,a=e,o=a.prefixCls,f=o===void 0?"rc-cascader":o,y=a.style,_=a.className,S=a.options,I=a.checkable,A=a.defaultValue,z=a.value,L=a.fieldNames,F=a.changeOnSelect,Z=a.onChange,k=a.showCheckedStrategy,W=a.loadData,H=a.expandTrigger,X=a.expandIcon,Q=X===void 0?">":X,re=a.loadingIcon,ie=a.direction,ne=a.notFoundContent,ae=ne===void 0?"Not Found":ne,ue=a.disabled,fe=!!I,he=(0,Os.C8)(A,{value:z,postState:Ce}),ve=(0,Pe.Z)(he,2),ye=ve[0],we=ve[1],Se=s.useMemo(function(){return q(L)},[JSON.stringify(L)]),ze=Zt(Se,S),Te=(0,Pe.Z)(ze,3),Fe=Te[0],Ae=Te[1],Ke=Te[2],tt=et(Fe,Se),vt=wn(fe,ye,Ae,Ke,tt),bt=(0,Pe.Z)(vt,3),lt=bt[0],ct=bt[1],mt=bt[2],Rt=(0,Os.zX)(function(rn){if(we(rn),Z){var Cn=Ce(rn),Vt=Cn.map(function(yn){return it(yn,Fe,Se).map(function(Ir){return Ir.option})}),At=fe?Cn:Cn[0],$n=fe?Vt:Vt[0];Z(At,$n)}}),wt=cn(fe,Rt,lt,ct,mt,Ae,Ke,k),Bt=(0,Os.zX)(function(rn){wt(rn)}),Ct=s.useMemo(function(){return{options:Fe,fieldNames:Se,values:lt,halfValues:ct,changeOnSelect:F,onSelect:Bt,checkable:I,searchOptions:[],dropdownPrefixCls:void 0,loadData:W,expandTrigger:H,expandIcon:Q,loadingIcon:re,dropdownMenuColumnStyle:void 0}},[Fe,Se,lt,ct,F,Bt,I,W,H,Q,re]),dn="".concat(f,"-panel"),zn=!Fe.length;return s.createElement(h.Provider,{value:Ct},s.createElement("div",{className:J()(dn,(t={},(0,ge.Z)(t,"".concat(dn,"-rtl"),ie==="rtl"),(0,ge.Z)(t,"".concat(dn,"-empty"),zn),t),_),style:y},zn?ae:s.createElement(bo,{prefixCls:f,searchValue:"",multiple:fe,toggleOpen:ia,open:!0,direction:ie,disabled:ue})))}function Na(e){var t=e.onPopupVisibleChange,a=e.popupVisible,o=e.popupClassName,f=e.popupPlacement;warning(!t,"`onPopupVisibleChange` is deprecated. Please use `onDropdownVisibleChange` instead."),warning(a===void 0,"`popupVisible` is deprecated. Please use `open` instead."),warning(o===void 0,"`popupClassName` is deprecated. Please use `dropdownClassName` instead."),warning(f===void 0,"`popupPlacement` is deprecated. Please use `placement` instead.")}function Ba(e,t){if(e){var a=function o(f){for(var y=0;y<f.length;y++){var _=f[y];if(_[t==null?void 0:t.value]===null)return warning(!1,"`value` in Cascader options should not be `null`."),!0;if(Array.isArray(_[t==null?void 0:t.children])&&o(_[t==null?void 0:t.children]))return!0}};a(e)}}var ts=null,ns=["id","prefixCls","fieldNames","defaultValue","value","changeOnSelect","onChange","displayRender","checkable","autoClearSearchValue","searchValue","onSearch","showSearch","expandTrigger","options","dropdownPrefixCls","loadData","popupVisible","open","popupClassName","dropdownClassName","dropdownMenuColumnStyle","dropdownStyle","popupPlacement","placement","onDropdownVisibleChange","onPopupVisibleChange","expandIcon","loadingIcon","children","dropdownMatchSelectWidth","showCheckedStrategy","optionRender"],As=s.forwardRef(function(e,t){var a=e.id,o=e.prefixCls,f=o===void 0?"rc-cascader":o,y=e.fieldNames,_=e.defaultValue,S=e.value,I=e.changeOnSelect,A=e.onChange,z=e.displayRender,L=e.checkable,F=e.autoClearSearchValue,Z=F===void 0?!0:F,k=e.searchValue,W=e.onSearch,H=e.showSearch,X=e.expandTrigger,Q=e.options,re=e.dropdownPrefixCls,ie=e.loadData,ne=e.popupVisible,ae=e.open,ue=e.popupClassName,fe=e.dropdownClassName,he=e.dropdownMenuColumnStyle,ve=e.dropdownStyle,ye=e.popupPlacement,we=e.placement,Se=e.onDropdownVisibleChange,ze=e.onPopupVisibleChange,Te=e.expandIcon,Fe=Te===void 0?">":Te,Ae=e.loadingIcon,Ke=e.children,tt=e.dropdownMatchSelectWidth,vt=tt===void 0?!1:tt,bt=e.showCheckedStrategy,lt=bt===void 0?$:bt,ct=e.optionRender,mt=(0,de.Z)(e,ns),Rt=(0,d.ZP)(a),wt=!!L,Bt=(0,zt.Z)(_,{value:S,postState:Ce}),Ct=(0,Pe.Z)(Bt,2),dn=Ct[0],zn=Ct[1],rn=s.useMemo(function(){return q(y)},[JSON.stringify(y)]),Cn=Zt(rn,Q),Vt=(0,Pe.Z)(Cn,3),At=Vt[0],$n=Vt[1],yn=Vt[2],Ir=(0,zt.Z)("",{value:k,postState:function(pa){return pa||""}}),cr=(0,Pe.Z)(Ir,2),Kn=cr[0],qn=cr[1],Pn=function(pa,rs){qn(pa),rs.source!=="blur"&&W&&W(pa)},Yn=on(H),zr=(0,Pe.Z)(Yn,2),si=zr[0],yi=zr[1],Di=x(Kn,At,rn,re||f,yi,I||wt),Eo=et(At,rn),gi=wn(wt,dn,$n,yn,Eo),ai=(0,Pe.Z)(gi,3),mi=ai[0],Xi=ai[1],Pi=ai[2],Io=s.useMemo(function(){var Ua=N(mi),pa=Re(Ua,$n,lt);return[].concat((0,Ie.Z)(Pi),(0,Ie.Z)(yn(pa)))},[mi,$n,yn,Pi,lt]),dr=nt(Io,At,rn,wt,z),er=(0,ur.Z)(function(Ua){if(zn(Ua),A){var pa=Ce(Ua),rs=pa.map(function(Go){return it(Go,At,rn).map(function(Ta){return Ta.option})}),Ls=wt?pa:pa[0],Co=wt?rs:rs[0];A(Ls,Co)}}),gr=cn(wt,er,mi,Xi,Pi,$n,yn,lt),Zn=(0,ur.Z)(function(Ua){(!wt||Z)&&qn(""),gr(Ua)}),ni=function(pa,rs){if(rs.type==="clear"){er([]);return}var Ls=rs.values[0],Co=Ls.valueCells;Zn(Co)},Oi=ae!==void 0?ae:ne,ro=fe||ue,Ko=we||ye,Oa=function(pa){Se==null||Se(pa),ze==null||ze(pa)},ta=s.useMemo(function(){return{options:At,fieldNames:rn,values:mi,halfValues:Xi,changeOnSelect:I,onSelect:Zn,checkable:L,searchOptions:Di,dropdownPrefixCls:re,loadData:ie,expandTrigger:X,expandIcon:Fe,loadingIcon:Ae,dropdownMenuColumnStyle:he,optionRender:ct}},[At,rn,mi,Xi,I,Zn,L,Di,re,ie,X,Fe,Ae,he,ct]),Is=!(Kn?Di:At).length,Fa=Kn&&yi.matchInputWidth||Is?{}:{minWidth:"auto"};return s.createElement(h.Provider,{value:ta},s.createElement(i.Ac,(0,Ue.Z)({},mt,{ref:t,id:Rt,prefixCls:f,autoClearSearchValue:Z,dropdownMatchSelectWidth:vt,dropdownStyle:(0,K.Z)((0,K.Z)({},Fa),ve),displayValues:dr,onDisplayValuesChange:ni,mode:wt?"multiple":void 0,searchValue:Kn,onSearch:Pn,showSearch:si,OptionList:Qi,emptyOptions:Is,open:Oi,dropdownClassName:ro,placement:Ko,onDropdownVisibleChange:Oa,getRawInputElement:function(){return Ke}})))});As.SHOW_PARENT=$,As.SHOW_CHILD=T,As.Panel=Aa;var Rs=As,_a=Rs,Ya=j(94773),bs=j(22463),Gs=j(95799),bl=j(80043),El=j(50360),_l=j(54299);function hl(e,t){const{getPrefixCls:a,direction:o,renderEmpty:f}=s.useContext(_e.E_),y=t||o,_=a("select",e),S=a("cascader",e);return[_,S,y,f]}var Il=hl;function Ll(e,t){return s.useMemo(()=>t?s.createElement("span",{className:`${e}-checkbox-inner`}):!1,[t])}var Us=(e,t,a)=>{let o=a;a||(o=t?s.createElement(V,null):s.createElement(U.Z,null));const f=s.createElement("span",{className:`${e}-menu-item-loading-icon`},s.createElement(Ut.Z,{spin:!0}));return s.useMemo(()=>[o,f],[o])};const eu=e=>{const{checkboxCls:t}=e,a=`${t}-wrapper`;return[{[`${t}-group`]:Object.assign(Object.assign({},(0,nn.Wf)(e)),{display:"inline-flex",flexWrap:"wrap",columnGap:e.marginXS,[`> ${e.antCls}-row`]:{flex:1}}),[a]:Object.assign(Object.assign({},(0,nn.Wf)(e)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},[`& + ${a}`]:{marginInlineStart:0},[`&${a}-in-form-item`]:{'input[type="checkbox"]':{width:14,height:14}}}),[t]:Object.assign(Object.assign({},(0,nn.Wf)(e)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",borderRadius:e.borderRadiusSM,alignSelf:"center",[`${t}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,[`&:focus-visible + ${t}-inner`]:Object.assign({},(0,nn.oN)(e))},[`${t}-inner`]:{boxSizing:"border-box",display:"block",width:e.checkboxSize,height:e.checkboxSize,direction:"ltr",backgroundColor:e.colorBgContainer,border:`${(0,me.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,borderCollapse:"separate",transition:`all ${e.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"25%",display:"table",width:e.calc(e.checkboxSize).div(14).mul(5).equal(),height:e.calc(e.checkboxSize).div(14).mul(8).equal(),border:`${(0,me.bf)(e.lineWidthBold)} solid ${e.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${e.motionDurationFast} ${e.motionEaseInBack}, opacity ${e.motionDurationFast}`}},"& + span":{paddingInlineStart:e.paddingXS,paddingInlineEnd:e.paddingXS}})},{[`
        ${a}:not(${a}-disabled),
        ${t}:not(${t}-disabled)
      `]:{[`&:hover ${t}-inner`]:{borderColor:e.colorPrimary}},[`${a}:not(${a}-disabled)`]:{[`&:hover ${t}-checked:not(${t}-disabled) ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${t}-checked:not(${t}-disabled):after`]:{borderColor:e.colorPrimaryHover}}},{[`${t}-checked`]:{[`${t}-inner`]:{backgroundColor:e.colorPrimary,borderColor:e.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${e.motionDurationMid} ${e.motionEaseOutBack} ${e.motionDurationFast}`}}},[`
        ${a}-checked:not(${a}-disabled),
        ${t}-checked:not(${t}-disabled)
      `]:{[`&:hover ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"}}},{[t]:{"&-indeterminate":{[`${t}-inner`]:{backgroundColor:`${e.colorBgContainer} !important`,borderColor:`${e.colorBorder} !important`,"&:after":{top:"50%",insetInlineStart:"50%",width:e.calc(e.fontSizeLG).div(2).equal(),height:e.calc(e.fontSizeLG).div(2).equal(),backgroundColor:e.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}},[`&:hover ${t}-inner`]:{backgroundColor:`${e.colorBgContainer} !important`,borderColor:`${e.colorPrimary} !important`}}}},{[`${a}-disabled`]:{cursor:"not-allowed"},[`${t}-disabled`]:{[`&, ${t}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${t}-inner`]:{background:e.colorBgContainerDisabled,borderColor:e.colorBorder,"&:after":{borderColor:e.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:e.colorTextDisabled},[`&${t}-indeterminate ${t}-inner::after`]:{background:e.colorTextDisabled}}}]};function uu(e,t){const a=(0,kr.IX)(t,{checkboxCls:`.${e}`,checkboxSize:t.controlInteractiveSize});return[eu(a)]}var Su=(0,oe.I$)("Checkbox",(e,t)=>{let{prefixCls:a}=t;return[uu(a,e)]}),Uf=e=>{const{prefixCls:t,componentCls:a}=e,o=`${a}-menu-item`,f=`
  &${o}-expand ${o}-expand-icon,
  ${o}-loading-icon
`;return[uu(`${t}-checkbox`,e),{[a]:{"&-checkbox":{top:0,marginInlineEnd:e.paddingXS,pointerEvents:"unset"},"&-menus":{display:"flex",flexWrap:"nowrap",alignItems:"flex-start",[`&${a}-menu-empty`]:{[`${a}-menu`]:{width:"100%",height:"auto",[o]:{color:e.colorTextDisabled}}}},"&-menu":{flexGrow:1,flexShrink:0,minWidth:e.controlItemWidth,height:e.dropdownHeight,margin:0,padding:e.menuPadding,overflow:"auto",verticalAlign:"top",listStyle:"none","-ms-overflow-style":"-ms-autohiding-scrollbar","&:not(:last-child)":{borderInlineEnd:`${(0,me.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},"&-item":Object.assign(Object.assign({},nn.vS),{display:"flex",flexWrap:"nowrap",alignItems:"center",padding:e.optionPadding,lineHeight:e.lineHeight,cursor:"pointer",transition:`all ${e.motionDurationMid}`,borderRadius:e.borderRadiusSM,"&:hover":{background:e.controlItemBgHover},"&-disabled":{color:e.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"},[f]:{color:e.colorTextDisabled}},[`&-active:not(${o}-disabled)`]:{"&, &:hover":{color:e.optionSelectedColor,fontWeight:e.optionSelectedFontWeight,backgroundColor:e.optionSelectedBg}},"&-content":{flex:"auto"},[f]:{marginInlineStart:e.paddingXXS,color:e.colorTextDescription,fontSize:e.fontSizeIcon},"&-keyword":{color:e.colorHighlight}})}}}]};const Wf=e=>{const{componentCls:t,antCls:a}=e;return[{[t]:{width:e.controlWidth}},{[`${t}-dropdown`]:[{[`&${a}-select-dropdown`]:{padding:0}},Uf(e)]},{[`${t}-dropdown-rtl`]:{direction:"rtl"}},(0,ul.c)(e)]},Gf=e=>{const t=Math.round((e.controlHeight-e.fontSize*e.lineHeight)/2);return{controlWidth:184,controlItemWidth:111,dropdownHeight:180,optionSelectedBg:e.controlItemBgActive,optionSelectedFontWeight:e.fontWeightStrong,optionPadding:`${t}px ${e.paddingSM}px`,menuPadding:e.paddingXXS,optionSelectedColor:e.colorText}};var ep=(0,oe.I$)("Cascader",e=>[Wf(e)],Gf);const ex=e=>{const{componentCls:t}=e;return{[`${t}-panel`]:[Uf(e),{display:"inline-flex",border:`${(0,me.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,borderRadius:e.borderRadiusLG,overflowX:"auto",maxWidth:"100%",[`${t}-menus`]:{alignItems:"stretch"},[`${t}-menu`]:{height:"auto"},"&-empty":{padding:e.paddingXXS}}]}};var tx=(0,oe.A1)(["Cascader","Panel"],e=>ex(e),Gf);function nx(e){const{prefixCls:t,className:a,multiple:o,rootClassName:f,notFoundContent:y,direction:_,expandIcon:S,disabled:I}=e,A=s.useContext(cs.Z),z=I!=null?I:A,[L,F,Z,k]=Il(t,_),W=(0,Ln.Z)(F),[H,X,Q]=ep(F,W);tx(F);const re=Z==="rtl",[ie,ne]=Us(L,re,S),ae=y||(k==null?void 0:k("Cascader"))||s.createElement(bs.Z,{componentName:"Cascader"}),ue=Ll(F,o);return H(s.createElement(Aa,Object.assign({},e,{checkable:ue,prefixCls:F,className:J()(a,X,f,Q,W),notFoundContent:ae,direction:Z,expandIcon:ie,loadingIcon:ne,disabled:z})))}var rx=nx,ix=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const{SHOW_CHILD:ox,SHOW_PARENT:hb}=_a;function mb(e,t,a){const o=e.toLowerCase().split(t).reduce((_,S,I)=>I===0?[S]:[].concat((0,Ie.Z)(_),[t,S]),[]),f=[];let y=0;return o.forEach((_,S)=>{const I=y+_.length;let A=e.slice(y,I);y=I,S%2===1&&(A=s.createElement("span",{className:`${a}-menu-item-keyword`,key:`separator-${S}`},A)),f.push(A)}),f}const Id=(e,t,a,o)=>{const f=[],y=e.toLowerCase();return t.forEach((_,S)=>{S!==0&&f.push(" / ");let I=_[o.label];const A=typeof I;(A==="string"||A==="number")&&(I=mb(String(I),y,a)),f.push(I)}),f},Kh=s.forwardRef((e,t)=>{var a;const{prefixCls:o,size:f,disabled:y,className:_,rootClassName:S,multiple:I,bordered:A=!0,transitionName:z,choiceTransitionName:L="",popupClassName:F,dropdownClassName:Z,expandIcon:k,placement:W,showSearch:H,allowClear:X=!0,notFoundContent:Q,direction:re,getPopupContainer:ie,status:ne,showArrow:ae,builtinPlacements:ue,style:fe,variant:he}=e,ve=ix(e,["prefixCls","size","disabled","className","rootClassName","multiple","bordered","transitionName","choiceTransitionName","popupClassName","dropdownClassName","expandIcon","placement","showSearch","allowClear","notFoundContent","direction","getPopupContainer","status","showArrow","builtinPlacements","style","variant"]),ye=(0,Ci.Z)(ve,["suffixIcon"]),{getPrefixCls:we,getPopupContainer:Se,className:ze,style:Te}=(0,_e.dj)("cascader"),{popupOverflow:Fe}=s.useContext(_e.E_),{status:Ae,hasFeedback:Ke,isFormItemInput:tt,feedbackIcon:vt}=s.useContext(Tc.aM),bt=(0,Ya.F)(Ae,ne),[lt,ct,mt,Rt]=Il(o,re),wt=mt==="rtl",Bt=we(),Ct=(0,Ln.Z)(lt),[dn,zn,rn]=(0,bl.Z)(lt,Ct),Cn=(0,Ln.Z)(ct),[Vt]=ep(ct,Cn),{compactSize:At,compactItemClassnames:$n}=(0,as.ri)(lt,re),[yn,Ir]=(0,kf.Z)("cascader",he,A),cr=Q||(Rt==null?void 0:Rt("Cascader"))||s.createElement(bs.Z,{componentName:"Cascader"}),Kn=J()(F||Z,`${ct}-dropdown`,{[`${ct}-dropdown-rtl`]:mt==="rtl"},S,Ct,Cn,zn,rn),qn=s.useMemo(()=>{if(!H)return H;let er={render:Id};return typeof H=="object"&&(er=Object.assign(Object.assign({},er),H)),er},[H]),Pn=(0,Va.Z)(er=>{var gr;return(gr=f!=null?f:At)!==null&&gr!==void 0?gr:er}),Yn=s.useContext(cs.Z),zr=y!=null?y:Yn,[si,yi]=Us(lt,wt,k),Di=Ll(ct,I),Eo=(0,_l.Z)(e.suffixIcon,ae),{suffixIcon:gi,removeIcon:ai,clearIcon:mi}=(0,El.Z)(Object.assign(Object.assign({},e),{hasFeedback:Ke,feedbackIcon:vt,showSuffixIcon:Eo,multiple:I,prefixCls:lt,componentName:"Cascader"})),Xi=s.useMemo(()=>W!==void 0?W:wt?"bottomRight":"bottomLeft",[W,wt]),Pi=X===!0?{clearIcon:mi}:X,[Io]=(0,bn.Cn)("SelectLike",(a=ye.dropdownStyle)===null||a===void 0?void 0:a.zIndex),dr=s.createElement(_a,Object.assign({prefixCls:lt,className:J()(!o&&ct,{[`${lt}-lg`]:Pn==="large",[`${lt}-sm`]:Pn==="small",[`${lt}-rtl`]:wt,[`${lt}-${yn}`]:Ir,[`${lt}-in-form-item`]:tt},(0,Ya.Z)(lt,bt,Ke),$n,ze,_,S,Ct,Cn,zn,rn),disabled:zr,style:Object.assign(Object.assign({},Te),fe)},ye,{builtinPlacements:(0,Gs.Z)(ue,Fe),direction:mt,placement:Xi,notFoundContent:cr,allowClear:Pi,showSearch:qn,expandIcon:si,suffixIcon:gi,removeIcon:ai,loadingIcon:yi,checkable:Di,dropdownClassName:Kn,dropdownPrefixCls:o||ct,dropdownStyle:Object.assign(Object.assign({},ye.dropdownStyle),{zIndex:Io}),choiceTransitionName:(0,ir.m)(Bt,"",L),transitionName:(0,ir.m)(Bt,"slide-up",z),getPopupContainer:ie||Se,ref:t}));return Vt(dn(dr))}),qh=(0,zl.Z)(Kh,"dropdownAlign",e=>(0,Ci.Z)(e,["visible"]));Kh.SHOW_PARENT=hb,Kh.SHOW_CHILD=ox,Kh.Panel=rx,Kh._InternalPanelDoNotUseOrYouWillBeFired=qh;var pb=Kh,iv=s.createContext(null),Xf=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const gb=(e,t)=>{var a;const{prefixCls:o,className:f,rootClassName:y,children:_,indeterminate:S=!1,style:I,onMouseEnter:A,onMouseLeave:z,skipGroup:L=!1,disabled:F}=e,Z=Xf(e,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:k,direction:W,checkbox:H}=s.useContext(_e.E_),X=s.useContext(iv),{isFormItemInput:Q}=s.useContext(Tc.aM),re=s.useContext(cs.Z),ie=(a=(X==null?void 0:X.disabled)||F)!==null&&a!==void 0?a:re,ne=s.useRef(Z.value),ae=s.useRef(null),ue=(0,an.sQ)(t,ae);s.useEffect(()=>{X==null||X.registerValue(Z.value)},[]),s.useEffect(()=>{if(!L)return Z.value!==ne.current&&(X==null||X.cancelValue(ne.current),X==null||X.registerValue(Z.value),ne.current=Z.value),()=>X==null?void 0:X.cancelValue(Z.value)},[Z.value]),s.useEffect(()=>{var Ke;!((Ke=ae.current)===null||Ke===void 0)&&Ke.input&&(ae.current.input.indeterminate=S)},[S]);const fe=k("checkbox",o),he=(0,Ln.Z)(fe),[ve,ye,we]=Su(fe,he),Se=Object.assign({},Z);X&&!L&&(Se.onChange=function(){Z.onChange&&Z.onChange.apply(Z,arguments),X.toggleOption&&X.toggleOption({label:_,value:Z.value})},Se.name=X.name,Se.checked=X.value.includes(Z.value));const ze=J()(`${fe}-wrapper`,{[`${fe}-rtl`]:W==="rtl",[`${fe}-wrapper-checked`]:Se.checked,[`${fe}-wrapper-disabled`]:ie,[`${fe}-wrapper-in-form-item`]:Q},H==null?void 0:H.className,f,y,we,he,ye),Te=J()({[`${fe}-indeterminate`]:S},Ri,ye),[Fe,Ae]=Ay(Se.onClick);return ve(s.createElement(ca,{component:"Checkbox",disabled:ie},s.createElement("label",{className:ze,style:Object.assign(Object.assign({},H==null?void 0:H.style),I),onMouseEnter:A,onMouseLeave:z,onClick:Fe},s.createElement($y,Object.assign({},Se,{onClick:Ae,prefixCls:fe,className:Te,disabled:ie,ref:ue})),_!==void 0&&s.createElement("span",{className:`${fe}-label`},_))))};var du=s.forwardRef(gb),tu=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},vb=s.forwardRef((e,t)=>{const{defaultValue:a,children:o,options:f=[],prefixCls:y,className:_,rootClassName:S,style:I,onChange:A}=e,z=tu(e,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:L,direction:F}=s.useContext(_e.E_),[Z,k]=s.useState(z.value||a||[]),[W,H]=s.useState([]);s.useEffect(()=>{"value"in z&&k(z.value||[])},[z.value]);const X=s.useMemo(()=>f.map(Te=>typeof Te=="string"||typeof Te=="number"?{label:Te,value:Te}:Te),[f]),Q=Te=>{H(Fe=>Fe.filter(Ae=>Ae!==Te))},re=Te=>{H(Fe=>[].concat((0,Ie.Z)(Fe),[Te]))},ie=Te=>{const Fe=Z.indexOf(Te.value),Ae=(0,Ie.Z)(Z);Fe===-1?Ae.push(Te.value):Ae.splice(Fe,1),"value"in z||k(Ae),A==null||A(Ae.filter(Ke=>W.includes(Ke)).sort((Ke,tt)=>{const vt=X.findIndex(lt=>lt.value===Ke),bt=X.findIndex(lt=>lt.value===tt);return vt-bt}))},ne=L("checkbox",y),ae=`${ne}-group`,ue=(0,Ln.Z)(ne),[fe,he,ve]=Su(ne,ue),ye=(0,Ci.Z)(z,["value","disabled"]),we=f.length?X.map(Te=>s.createElement(du,{prefixCls:ne,key:Te.value.toString(),disabled:"disabled"in Te?Te.disabled:z.disabled,value:Te.value,checked:Z.includes(Te.value),onChange:Te.onChange,className:`${ae}-item`,style:Te.style,title:Te.title,id:Te.id,required:Te.required},Te.label)):o,Se={toggleOption:ie,value:Z,disabled:z.disabled,name:z.name,registerValue:re,cancelValue:Q},ze=J()(ae,{[`${ae}-rtl`]:F==="rtl"},_,S,ve,ue,he);return fe(s.createElement("div",Object.assign({className:ze,style:I},ye,{ref:t}),s.createElement(iv.Provider,{value:Se},we)))});const qd=du;qd.Group=vb,qd.__ANT_CHECKBOX=!0;var xg=qd,y2=j(11365),wM=y2.Z,EM=j(62023),IM=j(89874),TM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z"}}]},name:"calendar",theme:"outlined"},MM=TM,PM=function(t,a){return s.createElement(En.Z,(0,Ue.Z)({},t,{ref:a,icon:MM}))},OM=s.forwardRef(PM),b2=OM,RM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"}}]},name:"clock-circle",theme:"outlined"},$M=RM,AM=function(t,a){return s.createElement(En.Z,(0,Ue.Z)({},t,{ref:a,icon:$M}))},DM=s.forwardRef(AM),_2=DM,zM={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z"}}]},name:"swap-right",theme:"outlined"},LM=zM,NM=function(t,a){return s.createElement(En.Z,(0,Ue.Z)({},t,{ref:a,icon:LM}))},BM=s.forwardRef(NM),FM=BM,x2=j(58492),tp=j(43452),C2=j(17543);const kS=(e,t)=>{const{componentCls:a,controlHeight:o}=e,f=t?`${a}-${t}`:"",y=(0,C2.gp)(e);return[{[`${a}-multiple${f}`]:{paddingBlock:y.containerPadding,paddingInlineStart:y.basePadding,minHeight:o,[`${a}-selection-item`]:{height:y.itemHeight,lineHeight:(0,me.bf)(y.itemLineHeight)}}}]};var kM=e=>{const{componentCls:t,calc:a,lineWidth:o}=e,f=(0,kr.IX)(e,{fontHeight:e.fontSize,selectHeight:e.controlHeightSM,multipleSelectItemHeight:e.multipleItemHeightSM,borderRadius:e.borderRadiusSM,borderRadiusSM:e.borderRadiusXS,controlHeight:e.controlHeightSM}),y=(0,kr.IX)(e,{fontHeight:a(e.multipleItemHeightLG).sub(a(o).mul(2).equal()).equal(),fontSize:e.fontSizeLG,selectHeight:e.controlHeightLG,multipleSelectItemHeight:e.multipleItemHeightLG,borderRadius:e.borderRadiusLG,borderRadiusSM:e.borderRadius,controlHeight:e.controlHeightLG});return[kS(f,"small"),kS(e),kS(y,"large"),{[`${t}${t}-multiple`]:Object.assign(Object.assign({width:"100%",cursor:"text",[`${t}-selector`]:{flex:"auto",padding:0,position:"relative","&:after":{margin:0},[`${t}-selection-placeholder`]:{position:"absolute",top:"50%",insetInlineStart:e.inputPaddingHorizontalBase,insetInlineEnd:0,transform:"translateY(-50%)",transition:`all ${e.motionDurationSlow}`,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",flex:1,color:e.colorTextPlaceholder,pointerEvents:"none"}}},(0,C2._z)(e)),{[`${t}-multiple-input`]:{width:0,height:0,border:0,visibility:"hidden",position:"absolute",zIndex:-1}})}]},Yd=j(57616),jM=e=>{const{componentCls:t}=e;return{[t]:[Object.assign(Object.assign(Object.assign(Object.assign({},(0,Yd.qG)(e)),(0,Yd.vc)(e)),(0,Yd.H8)(e)),(0,Yd.Mu)(e)),{"&-outlined":{[`&${t}-multiple ${t}-selection-item`]:{background:e.multipleItemBg,border:`${(0,me.bf)(e.lineWidth)} ${e.lineType} ${e.multipleItemBorderColor}`}},"&-filled":{[`&${t}-multiple ${t}-selection-item`]:{background:e.colorBgContainer,border:`${(0,me.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`}},"&-borderless":{[`&${t}-multiple ${t}-selection-item`]:{background:e.multipleItemBg,border:`${(0,me.bf)(e.lineWidth)} ${e.lineType} ${e.multipleItemBorderColor}`}},"&-underlined":{[`&${t}-multiple ${t}-selection-item`]:{background:e.multipleItemBg,border:`${(0,me.bf)(e.lineWidth)} ${e.lineType} ${e.multipleItemBorderColor}`}}}]}};const jS=(e,t,a,o)=>{const f=e.calc(a).add(2).equal(),y=e.max(e.calc(t).sub(f).div(2).equal(),0),_=e.max(e.calc(t).sub(f).sub(y).equal(),0);return{padding:`${(0,me.bf)(y)} ${(0,me.bf)(o)} ${(0,me.bf)(_)}`}},ZM=e=>{const{componentCls:t,colorError:a,colorWarning:o}=e;return{[`${t}:not(${t}-disabled):not([disabled])`]:{[`&${t}-status-error`]:{[`${t}-active-bar`]:{background:a}},[`&${t}-status-warning`]:{[`${t}-active-bar`]:{background:o}}}}},VM=e=>{const{componentCls:t,antCls:a,controlHeight:o,paddingInline:f,lineWidth:y,lineType:_,colorBorder:S,borderRadius:I,motionDurationMid:A,colorTextDisabled:z,colorTextPlaceholder:L,controlHeightLG:F,fontSizeLG:Z,controlHeightSM:k,paddingInlineSM:W,paddingXS:H,marginXS:X,colorTextDescription:Q,lineWidthBold:re,colorPrimary:ie,motionDurationSlow:ne,zIndexPopup:ae,paddingXXS:ue,sizePopupArrow:fe,colorBgElevated:he,borderRadiusLG:ve,boxShadowSecondary:ye,borderRadiusSM:we,colorSplit:Se,cellHoverBg:ze,presetsWidth:Te,presetsMaxWidth:Fe,boxShadowPopoverArrow:Ae,fontHeight:Ke,fontHeightLG:tt,lineHeightLG:vt}=e;return[{[t]:Object.assign(Object.assign(Object.assign({},(0,nn.Wf)(e)),jS(e,o,Ke,f)),{position:"relative",display:"inline-flex",alignItems:"center",lineHeight:1,borderRadius:I,transition:`border ${A}, box-shadow ${A}, background ${A}`,[`${t}-prefix`]:{flex:"0 0 auto",marginInlineEnd:e.inputAffixPadding},[`${t}-input`]:{position:"relative",display:"inline-flex",alignItems:"center",width:"100%","> input":Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",color:"inherit",fontSize:e.fontSize,lineHeight:e.lineHeight,transition:`all ${A}`},(0,tp.nz)(L)),{flex:"auto",minWidth:1,height:"auto",padding:0,background:"transparent",border:0,fontFamily:"inherit","&:focus":{boxShadow:"none",outline:0},"&[disabled]":{background:"transparent",color:z,cursor:"not-allowed"}}),"&-placeholder":{"> input":{color:L}}},"&-large":Object.assign(Object.assign({},jS(e,F,tt,f)),{[`${t}-input > input`]:{fontSize:Z,lineHeight:vt}}),"&-small":Object.assign({},jS(e,k,Ke,W)),[`${t}-suffix`]:{display:"flex",flex:"none",alignSelf:"center",marginInlineStart:e.calc(H).div(2).equal(),color:z,lineHeight:1,pointerEvents:"none",transition:`opacity ${A}, color ${A}`,"> *":{verticalAlign:"top","&:not(:last-child)":{marginInlineEnd:X}}},[`${t}-clear`]:{position:"absolute",top:"50%",insetInlineEnd:0,color:z,lineHeight:1,transform:"translateY(-50%)",cursor:"pointer",opacity:0,transition:`opacity ${A}, color ${A}`,"> *":{verticalAlign:"top"},"&:hover":{color:Q}},"&:hover":{[`${t}-clear`]:{opacity:1},[`${t}-suffix:not(:last-child)`]:{opacity:0}},[`${t}-separator`]:{position:"relative",display:"inline-block",width:"1em",height:Z,color:z,fontSize:Z,verticalAlign:"top",cursor:"default",[`${t}-focused &`]:{color:Q},[`${t}-range-separator &`]:{[`${t}-disabled &`]:{cursor:"not-allowed"}}},"&-range":{position:"relative",display:"inline-flex",[`${t}-active-bar`]:{bottom:e.calc(y).mul(-1).equal(),height:re,background:ie,opacity:0,transition:`all ${ne} ease-out`,pointerEvents:"none"},[`&${t}-focused`]:{[`${t}-active-bar`]:{opacity:1}},[`${t}-range-separator`]:{alignItems:"center",padding:`0 ${(0,me.bf)(H)}`,lineHeight:1}},"&-range, &-multiple":{[`${t}-clear`]:{insetInlineEnd:f},[`&${t}-small`]:{[`${t}-clear`]:{insetInlineEnd:W}}},"&-dropdown":Object.assign(Object.assign(Object.assign({},(0,nn.Wf)(e)),By(e)),{pointerEvents:"none",position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:ae,[`&${t}-dropdown-hidden`]:{display:"none"},"&-rtl":{direction:"rtl"},[`&${t}-dropdown-placement-bottomLeft,
            &${t}-dropdown-placement-bottomRight`]:{[`${t}-range-arrow`]:{top:0,display:"block",transform:"translateY(-100%)"}},[`&${t}-dropdown-placement-topLeft,
            &${t}-dropdown-placement-topRight`]:{[`${t}-range-arrow`]:{bottom:0,display:"block",transform:"translateY(100%) rotate(180deg)"}},[`&${a}-slide-up-appear, &${a}-slide-up-enter`]:{[`${t}-range-arrow${t}-range-arrow`]:{transition:"none"}},[`&${a}-slide-up-enter${a}-slide-up-enter-active${t}-dropdown-placement-topLeft,
          &${a}-slide-up-enter${a}-slide-up-enter-active${t}-dropdown-placement-topRight,
          &${a}-slide-up-appear${a}-slide-up-appear-active${t}-dropdown-placement-topLeft,
          &${a}-slide-up-appear${a}-slide-up-appear-active${t}-dropdown-placement-topRight`]:{animationName:lc.Qt},[`&${a}-slide-up-enter${a}-slide-up-enter-active${t}-dropdown-placement-bottomLeft,
          &${a}-slide-up-enter${a}-slide-up-enter-active${t}-dropdown-placement-bottomRight,
          &${a}-slide-up-appear${a}-slide-up-appear-active${t}-dropdown-placement-bottomLeft,
          &${a}-slide-up-appear${a}-slide-up-appear-active${t}-dropdown-placement-bottomRight`]:{animationName:lc.fJ},[`&${a}-slide-up-leave ${t}-panel-container`]:{pointerEvents:"none"},[`&${a}-slide-up-leave${a}-slide-up-leave-active${t}-dropdown-placement-topLeft,
          &${a}-slide-up-leave${a}-slide-up-leave-active${t}-dropdown-placement-topRight`]:{animationName:lc.ly},[`&${a}-slide-up-leave${a}-slide-up-leave-active${t}-dropdown-placement-bottomLeft,
          &${a}-slide-up-leave${a}-slide-up-leave-active${t}-dropdown-placement-bottomRight`]:{animationName:lc.Uw},[`${t}-panel > ${t}-time-panel`]:{paddingTop:ue},[`${t}-range-wrapper`]:{display:"flex",position:"relative"},[`${t}-range-arrow`]:Object.assign(Object.assign({position:"absolute",zIndex:1,display:"none",paddingInline:e.calc(f).mul(1.5).equal(),boxSizing:"content-box",transition:`all ${ne} ease-out`},(0,Pf.W)(e,he,Ae)),{"&:before":{insetInlineStart:e.calc(f).mul(1.5).equal()}}),[`${t}-panel-container`]:{overflow:"hidden",verticalAlign:"top",background:he,borderRadius:ve,boxShadow:ye,transition:`margin ${ne}`,display:"inline-block",pointerEvents:"auto",[`${t}-panel-layout`]:{display:"flex",flexWrap:"nowrap",alignItems:"stretch"},[`${t}-presets`]:{display:"flex",flexDirection:"column",minWidth:Te,maxWidth:Fe,ul:{height:0,flex:"auto",listStyle:"none",overflow:"auto",margin:0,padding:H,borderInlineEnd:`${(0,me.bf)(y)} ${_} ${Se}`,li:Object.assign(Object.assign({},nn.vS),{borderRadius:we,paddingInline:H,paddingBlock:e.calc(k).sub(Ke).div(2).equal(),cursor:"pointer",transition:`all ${ne}`,"+ li":{marginTop:X},"&:hover":{background:ze}})}},[`${t}-panels`]:{display:"inline-flex",flexWrap:"nowrap","&:last-child":{[`${t}-panel`]:{borderWidth:0}}},[`${t}-panel`]:{verticalAlign:"top",background:"transparent",borderRadius:0,borderWidth:0,[`${t}-content, table`]:{textAlign:"center"},"&-focused":{borderColor:S}}}}),"&-dropdown-range":{padding:`${(0,me.bf)(e.calc(fe).mul(2).div(3).equal())} 0`,"&-hidden":{display:"none"}},"&-rtl":{direction:"rtl",[`${t}-separator`]:{transform:"scale(-1, 1)"},[`${t}-footer`]:{"&-extra":{direction:"rtl"}}}})},(0,lc.oN)(e,"slide-up"),(0,lc.oN)(e,"slide-down"),(0,Up.Fm)(e,"move-up"),(0,Up.Fm)(e,"move-down")]};var S2=(0,oe.I$)("DatePicker",e=>{const t=(0,kr.IX)((0,zu.e)(e),Fy(e),{inputPaddingHorizontalBase:e.calc(e.paddingSM).sub(1).equal(),multipleSelectItemHeight:e.multipleItemHeight,selectHeight:e.controlHeight});return[o1(t),VM(t),jM(t),ZM(t),kM(t),(0,ul.c)(e,{focusElCls:`${e.componentCls}-focused`})]},Hh);function HM(e,t,a){return a!==void 0?a:t==="year"&&e.lang.yearPlaceholder?e.lang.yearPlaceholder:t==="quarter"&&e.lang.quarterPlaceholder?e.lang.quarterPlaceholder:t==="month"&&e.lang.monthPlaceholder?e.lang.monthPlaceholder:t==="week"&&e.lang.weekPlaceholder?e.lang.weekPlaceholder:t==="time"&&e.timePickerLocale.placeholder?e.timePickerLocale.placeholder:e.lang.placeholder}function UM(e,t,a){return a!==void 0?a:t==="year"&&e.lang.yearPlaceholder?e.lang.rangeYearPlaceholder:t==="quarter"&&e.lang.quarterPlaceholder?e.lang.rangeQuarterPlaceholder:t==="month"&&e.lang.monthPlaceholder?e.lang.rangeMonthPlaceholder:t==="week"&&e.lang.weekPlaceholder?e.lang.rangeWeekPlaceholder:t==="time"&&e.timePickerLocale.placeholder?e.timePickerLocale.rangePlaceholder:e.lang.rangePlaceholder}function w2(e,t){const{allowClear:a=!0}=e,{clearIcon:o,removeIcon:f}=(0,El.Z)(Object.assign(Object.assign({},e),{prefixCls:t,componentName:"DatePicker"}));return[s.useMemo(()=>a===!1?!1:Object.assign({clearIcon:o},a===!0?{}:a),[a,o]),f]}const[WM,GM]=["week","WeekPicker"],[XM,KM]=["month","MonthPicker"],[qM,YM]=["year","YearPicker"],[JM,QM]=["quarter","QuarterPicker"],[E2,I2]=["time","TimePicker"];var eP=e=>s.createElement(ks,Object.assign({size:"small",type:"primary"},e));function T2(e){return(0,s.useMemo)(()=>Object.assign({button:eP},e),[e])}var tP=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},nP=e=>(0,s.forwardRef)((a,o)=>{var f;const{prefixCls:y,getPopupContainer:_,components:S,className:I,style:A,placement:z,size:L,disabled:F,bordered:Z=!0,placeholder:k,popupClassName:W,dropdownClassName:H,status:X,rootClassName:Q,variant:re,picker:ie}=a,ne=tP(a,["prefixCls","getPopupContainer","components","className","style","placement","size","disabled","bordered","placeholder","popupClassName","dropdownClassName","status","rootClassName","variant","picker"]),ae=s.useRef(null),{getPrefixCls:ue,direction:fe,getPopupContainer:he,rangePicker:ve}=(0,s.useContext)(_e.E_),ye=ue("picker",y),{compactSize:we,compactItemClassnames:Se}=(0,as.ri)(ye,fe),ze=ue(),[Te,Fe]=(0,kf.Z)("rangePicker",re,Z),Ae=(0,Ln.Z)(ye),[Ke,tt,vt]=S2(ye,Ae),[bt]=w2(a,ye),lt=T2(S),ct=(0,Va.Z)(At=>{var $n;return($n=L!=null?L:we)!==null&&$n!==void 0?$n:At}),mt=s.useContext(cs.Z),Rt=F!=null?F:mt,wt=(0,s.useContext)(Tc.aM),{hasFeedback:Bt,status:Ct,feedbackIcon:dn}=wt,zn=s.createElement(s.Fragment,null,ie===E2?s.createElement(_2,null):s.createElement(b2,null),Bt&&dn);(0,s.useImperativeHandle)(o,()=>ae.current);const[rn]=(0,rr.Z)("Calendar",x2.Z),Cn=Object.assign(Object.assign({},rn),a.locale),[Vt]=(0,bn.Cn)("DatePicker",(f=a.popupStyle)===null||f===void 0?void 0:f.zIndex);return Ke(s.createElement(Hc.Z,{space:!0},s.createElement(L0,Object.assign({separator:s.createElement("span",{"aria-label":"to",className:`${ye}-separator`},s.createElement(FM,null)),disabled:Rt,ref:ae,placement:z,placeholder:UM(Cn,ie,k),suffixIcon:zn,prevIcon:s.createElement("span",{className:`${ye}-prev-icon`}),nextIcon:s.createElement("span",{className:`${ye}-next-icon`}),superPrevIcon:s.createElement("span",{className:`${ye}-super-prev-icon`}),superNextIcon:s.createElement("span",{className:`${ye}-super-next-icon`}),transitionName:`${ze}-slide-up`,picker:ie},ne,{className:J()({[`${ye}-${ct}`]:ct,[`${ye}-${Te}`]:Fe},(0,Ya.Z)(ye,(0,Ya.F)(Ct,X),Bt),tt,Se,I,ve==null?void 0:ve.className,vt,Ae,Q),style:Object.assign(Object.assign({},ve==null?void 0:ve.style),A),locale:Cn.lang,prefixCls:ye,getPopupContainer:_||he,generateConfig:e,components:lt,direction:fe,classNames:{popup:J()(tt,W||H,vt,Ae,Q)},styles:{popup:Object.assign(Object.assign({},a.popupStyle),{zIndex:Vt})},allowClear:bt}))))}),rP=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},iP=e=>{const t=(I,A)=>{const z=A===I2?"timePicker":"datePicker";return(0,s.forwardRef)((F,Z)=>{var k;const{prefixCls:W,getPopupContainer:H,components:X,style:Q,className:re,rootClassName:ie,size:ne,bordered:ae,placement:ue,placeholder:fe,popupClassName:he,dropdownClassName:ve,disabled:ye,status:we,variant:Se,onCalendarChange:ze}=F,Te=rP(F,["prefixCls","getPopupContainer","components","style","className","rootClassName","size","bordered","placement","placeholder","popupClassName","dropdownClassName","disabled","status","variant","onCalendarChange"]),{getPrefixCls:Fe,direction:Ae,getPopupContainer:Ke,[z]:tt}=(0,s.useContext)(_e.E_),vt=Fe("picker",W),{compactSize:bt,compactItemClassnames:lt}=(0,as.ri)(vt,Ae),ct=s.useRef(null),[mt,Rt]=(0,kf.Z)("datePicker",Se,ae),wt=(0,Ln.Z)(vt),[Bt,Ct,dn]=S2(vt,wt);(0,s.useImperativeHandle)(Z,()=>ct.current);const zn={showToday:!0},rn=I||F.picker,Cn=Fe(),{onSelect:Vt,multiple:At}=Te,$n=Vt&&I==="time"&&!At,yn=(Xi,Pi,Io)=>{ze==null||ze(Xi,Pi,Io),$n&&Vt(Xi)},[Ir,cr]=w2(F,vt),Kn=T2(X),qn=(0,Va.Z)(Xi=>{var Pi;return(Pi=ne!=null?ne:bt)!==null&&Pi!==void 0?Pi:Xi}),Pn=s.useContext(cs.Z),Yn=ye!=null?ye:Pn,zr=(0,s.useContext)(Tc.aM),{hasFeedback:si,status:yi,feedbackIcon:Di}=zr,Eo=s.createElement(s.Fragment,null,rn==="time"?s.createElement(_2,null):s.createElement(b2,null),si&&Di),[gi]=(0,rr.Z)("DatePicker",x2.Z),ai=Object.assign(Object.assign({},gi),F.locale),[mi]=(0,bn.Cn)("DatePicker",(k=F.popupStyle)===null||k===void 0?void 0:k.zIndex);return Bt(s.createElement(Hc.Z,{space:!0},s.createElement(N0,Object.assign({ref:ct,placeholder:HM(ai,rn,fe),suffixIcon:Eo,placement:ue,prevIcon:s.createElement("span",{className:`${vt}-prev-icon`}),nextIcon:s.createElement("span",{className:`${vt}-next-icon`}),superPrevIcon:s.createElement("span",{className:`${vt}-super-prev-icon`}),superNextIcon:s.createElement("span",{className:`${vt}-super-next-icon`}),transitionName:`${Cn}-slide-up`,picker:I,onCalendarChange:yn},zn,Te,{locale:ai.lang,className:J()({[`${vt}-${qn}`]:qn,[`${vt}-${mt}`]:Rt},(0,Ya.Z)(vt,(0,Ya.F)(yi,we),si),Ct,lt,tt==null?void 0:tt.className,re,dn,wt,ie),style:Object.assign(Object.assign({},tt==null?void 0:tt.style),Q),prefixCls:vt,getPopupContainer:H||Ke,generateConfig:e,components:Kn,direction:Ae,disabled:Yn,classNames:{popup:J()(Ct,dn,wt,ie,he||ve)},styles:{popup:Object.assign(Object.assign({},F.popupStyle),{zIndex:mi})},allowClear:Ir,removeIcon:cr}))))})},a=t(),o=t(WM,GM),f=t(XM,KM),y=t(qM,YM),_=t(JM,QM),S=t(E2,I2);return{DatePicker:a,WeekPicker:o,MonthPicker:f,YearPicker:y,TimePicker:S,QuarterPicker:_}},M2=e=>{const{DatePicker:t,WeekPicker:a,MonthPicker:o,YearPicker:f,TimePicker:y,QuarterPicker:_}=iP(e),S=nP(e),I=t;return I.WeekPicker=a,I.MonthPicker=o,I.YearPicker=f,I.RangePicker=S,I.TimePicker=y,I.QuarterPicker=_,I};const av=M2(b_),oP=(0,zl.Z)(av,"popupAlign",void 0,"picker");av._InternalPanelDoNotUseOrYouWillBeFired=oP;const aP=(0,zl.Z)(av.RangePicker,"popupAlign",void 0,"picker");av._InternalRangePanelDoNotUseOrYouWillBeFired=aP,av.generatePicker=M2;var P2=av,sP={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1},ZS=s.createContext({}),lP=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const cP=e=>(0,ac.Z)(e).map(t=>Object.assign(Object.assign({},t==null?void 0:t.props),{key:t.key}));function uP(e,t,a){const o=s.useMemo(()=>t||cP(a),[t,a]);return s.useMemo(()=>o.map(y=>{var{span:_}=y,S=lP(y,["span"]);return _==="filled"?Object.assign(Object.assign({},S),{filled:!0}):Object.assign(Object.assign({},S),{span:typeof _=="number"?_:(0,_d.m9)(e,_)})}),[o,e])}var dP=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};function fP(e,t){let a=[],o=[],f=!1,y=0;return e.filter(_=>_).forEach(_=>{const{filled:S}=_,I=dP(_,["filled"]);if(S){o.push(I),a.push(o),o=[],y=0;return}const A=t-y;y+=_.span||1,y>=t?(y>t?(f=!0,o.push(Object.assign(Object.assign({},I),{span:A}))):o.push(I),a.push(o),o=[],y=0):o.push(I)}),o.length>0&&a.push(o),a=a.map(_=>{const S=_.reduce((I,A)=>I+(A.span||1),0);if(S<t){const I=_[_.length-1];return I.span=t-(S-(I.span||1)),_}return _}),[a,f]}var hP=(e,t)=>{const[a,o]=(0,s.useMemo)(()=>fP(t,e),[t,e]);return a},mP=e=>{let{children:t}=e;return t};function O2(e){return e!=null}var VS=e=>{const{itemPrefixCls:t,component:a,span:o,className:f,style:y,labelStyle:_,contentStyle:S,bordered:I,label:A,content:z,colon:L,type:F,styles:Z}=e,k=a,W=s.useContext(ZS),{classNames:H}=W;return I?s.createElement(k,{className:J()({[`${t}-item-label`]:F==="label",[`${t}-item-content`]:F==="content",[`${H==null?void 0:H.label}`]:F==="label",[`${H==null?void 0:H.content}`]:F==="content"},f),style:y,colSpan:o},O2(A)&&s.createElement("span",{style:Object.assign(Object.assign({},_),Z==null?void 0:Z.label)},A),O2(z)&&s.createElement("span",{style:Object.assign(Object.assign({},_),Z==null?void 0:Z.content)},z)):s.createElement(k,{className:J()(`${t}-item`,f),style:y,colSpan:o},s.createElement("div",{className:`${t}-item-container`},(A||A===0)&&s.createElement("span",{className:J()(`${t}-item-label`,H==null?void 0:H.label,{[`${t}-item-no-colon`]:!L}),style:Object.assign(Object.assign({},_),Z==null?void 0:Z.label)},A),(z||z===0)&&s.createElement("span",{className:J()(`${t}-item-content`,H==null?void 0:H.content),style:Object.assign(Object.assign({},S),Z==null?void 0:Z.content)},z)))};function HS(e,t,a){let{colon:o,prefixCls:f,bordered:y}=t,{component:_,type:S,showLabel:I,showContent:A,labelStyle:z,contentStyle:L,styles:F}=a;return e.map((Z,k)=>{let{label:W,children:H,prefixCls:X=f,className:Q,style:re,labelStyle:ie,contentStyle:ne,span:ae=1,key:ue,styles:fe}=Z;return typeof _=="string"?s.createElement(VS,{key:`${S}-${ue||k}`,className:Q,style:re,styles:{label:Object.assign(Object.assign(Object.assign(Object.assign({},z),F==null?void 0:F.label),ie),fe==null?void 0:fe.label),content:Object.assign(Object.assign(Object.assign(Object.assign({},L),F==null?void 0:F.content),ne),fe==null?void 0:fe.content)},span:ae,colon:o,component:_,itemPrefixCls:X,bordered:y,label:I?W:null,content:A?H:null,type:S}):[s.createElement(VS,{key:`label-${ue||k}`,className:Q,style:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},z),F==null?void 0:F.label),re),ie),fe==null?void 0:fe.label),span:1,colon:o,component:_[0],itemPrefixCls:X,bordered:y,label:W,type:"label"}),s.createElement(VS,{key:`content-${ue||k}`,className:Q,style:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},L),F==null?void 0:F.content),re),ne),fe==null?void 0:fe.content),span:ae*2-1,component:_[1],itemPrefixCls:X,bordered:y,content:H,type:"content"})]})}var pP=e=>{const t=s.useContext(ZS),{prefixCls:a,vertical:o,row:f,index:y,bordered:_}=e;return o?s.createElement(s.Fragment,null,s.createElement("tr",{key:`label-${y}`,className:`${a}-row`},HS(f,e,Object.assign({component:"th",type:"label",showLabel:!0},t))),s.createElement("tr",{key:`content-${y}`,className:`${a}-row`},HS(f,e,Object.assign({component:"td",type:"content",showContent:!0},t)))):s.createElement("tr",{key:y,className:`${a}-row`},HS(f,e,Object.assign({component:_?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0},t)))};const gP=e=>{const{componentCls:t,labelBg:a}=e;return{[`&${t}-bordered`]:{[`> ${t}-view`]:{border:`${(0,me.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"> table":{tableLayout:"auto"},[`${t}-row`]:{borderBottom:`${(0,me.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderBottom:"none"},[`> ${t}-item-label, > ${t}-item-content`]:{padding:`${(0,me.bf)(e.padding)} ${(0,me.bf)(e.paddingLG)}`,borderInlineEnd:`${(0,me.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderInlineEnd:"none"}},[`> ${t}-item-label`]:{color:e.colorTextSecondary,backgroundColor:a,"&::after":{display:"none"}}}},[`&${t}-middle`]:{[`${t}-row`]:{[`> ${t}-item-label, > ${t}-item-content`]:{padding:`${(0,me.bf)(e.paddingSM)} ${(0,me.bf)(e.paddingLG)}`}}},[`&${t}-small`]:{[`${t}-row`]:{[`> ${t}-item-label, > ${t}-item-content`]:{padding:`${(0,me.bf)(e.paddingXS)} ${(0,me.bf)(e.padding)}`}}}}}},vP=e=>{const{componentCls:t,extraColor:a,itemPaddingBottom:o,itemPaddingEnd:f,colonMarginRight:y,colonMarginLeft:_,titleMarginBottom:S}=e;return{[t]:Object.assign(Object.assign(Object.assign({},(0,nn.Wf)(e)),gP(e)),{"&-rtl":{direction:"rtl"},[`${t}-header`]:{display:"flex",alignItems:"center",marginBottom:S},[`${t}-title`]:Object.assign(Object.assign({},nn.vS),{flex:"auto",color:e.titleColor,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG}),[`${t}-extra`]:{marginInlineStart:"auto",color:a,fontSize:e.fontSize},[`${t}-view`]:{width:"100%",borderRadius:e.borderRadiusLG,table:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse"}},[`${t}-row`]:{"> th, > td":{paddingBottom:o,paddingInlineEnd:f},"> th:last-child, > td:last-child":{paddingInlineEnd:0},"&:last-child":{borderBottom:"none","> th, > td":{paddingBottom:0}}},[`${t}-item-label`]:{color:e.labelColor,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"start","&::after":{content:'":"',position:"relative",top:-.5,marginInline:`${(0,me.bf)(_)} ${(0,me.bf)(y)}`},[`&${t}-item-no-colon::after`]:{content:'""'}},[`${t}-item-no-label`]:{"&::after":{margin:0,content:'""'}},[`${t}-item-content`]:{display:"table-cell",flex:1,color:e.contentColor,fontSize:e.fontSize,lineHeight:e.lineHeight,wordBreak:"break-word",overflowWrap:"break-word"},[`${t}-item`]:{paddingBottom:0,verticalAlign:"top","&-container":{display:"flex",[`${t}-item-label`]:{display:"inline-flex",alignItems:"baseline"},[`${t}-item-content`]:{display:"inline-flex",alignItems:"baseline",minWidth:"1em"}}},"&-middle":{[`${t}-row`]:{"> th, > td":{paddingBottom:e.paddingSM}}},"&-small":{[`${t}-row`]:{"> th, > td":{paddingBottom:e.paddingXS}}}})}},yP=e=>({labelBg:e.colorFillAlter,labelColor:e.colorTextTertiary,titleColor:e.colorText,titleMarginBottom:e.fontSizeSM*e.lineHeightSM,itemPaddingBottom:e.padding,itemPaddingEnd:e.padding,colonMarginRight:e.marginXS,colonMarginLeft:e.marginXXS/2,contentColor:e.colorText,extraColor:e.colorText});var bP=(0,oe.I$)("Descriptions",e=>{const t=(0,kr.IX)(e,{});return vP(t)},yP),_P=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const R2=e=>{const{prefixCls:t,title:a,extra:o,column:f,colon:y=!0,bordered:_,layout:S,children:I,className:A,rootClassName:z,style:L,size:F,labelStyle:Z,contentStyle:k,styles:W,items:H,classNames:X}=e,Q=_P(e,["prefixCls","title","extra","column","colon","bordered","layout","children","className","rootClassName","style","size","labelStyle","contentStyle","styles","items","classNames"]),{getPrefixCls:re,direction:ie,className:ne,style:ae,classNames:ue,styles:fe}=(0,_e.dj)("descriptions"),he=re("descriptions",t),ve=(0,Ec.Z)(),ye=s.useMemo(()=>{var tt;return typeof f=="number"?f:(tt=(0,_d.m9)(ve,Object.assign(Object.assign({},sP),f)))!==null&&tt!==void 0?tt:3},[ve,f]),we=uP(ve,H,I),Se=(0,Va.Z)(F),ze=hP(ye,we),[Te,Fe,Ae]=bP(he),Ke=s.useMemo(()=>({labelStyle:Z,contentStyle:k,styles:{content:Object.assign(Object.assign({},fe.content),W==null?void 0:W.content),label:Object.assign(Object.assign({},fe.label),W==null?void 0:W.label)},classNames:{label:J()(ue.label,X==null?void 0:X.label),content:J()(ue.content,X==null?void 0:X.content)}}),[Z,k,W,X,ue,fe]);return Te(s.createElement(ZS.Provider,{value:Ke},s.createElement("div",Object.assign({className:J()(he,ne,ue.root,X==null?void 0:X.root,{[`${he}-${Se}`]:Se&&Se!=="default",[`${he}-bordered`]:!!_,[`${he}-rtl`]:ie==="rtl"},A,z,Fe,Ae),style:Object.assign(Object.assign(Object.assign(Object.assign({},ae),fe.root),W==null?void 0:W.root),L)},Q),(a||o)&&s.createElement("div",{className:J()(`${he}-header`,ue.header,X==null?void 0:X.header),style:Object.assign(Object.assign({},fe.header),W==null?void 0:W.header)},a&&s.createElement("div",{className:J()(`${he}-title`,ue.title,X==null?void 0:X.title),style:Object.assign(Object.assign({},fe.title),W==null?void 0:W.title)},a),o&&s.createElement("div",{className:J()(`${he}-extra`,ue.extra,X==null?void 0:X.extra),style:Object.assign(Object.assign({},fe.extra),W==null?void 0:W.extra)},o)),s.createElement("div",{className:`${he}-view`},s.createElement("table",null,s.createElement("tbody",null,ze.map((tt,vt)=>s.createElement(pP,{key:vt,index:vt,colon:y,prefixCls:he,vertical:S==="vertical",bordered:_,row:tt}))))))))};R2.Item=mP;var xP=R2,CP=j(67567),SP=s.createContext(null),$2=s.createContext({}),A2=SP,wP=["prefixCls","className","containerRef"],EP=function(t){var a=t.prefixCls,o=t.className,f=t.containerRef,y=(0,de.Z)(t,wP),_=s.useContext($2),S=_.panel,I=(0,an.x1)(S,f);return s.createElement("div",(0,Ue.Z)({className:J()("".concat(a,"-content"),o),role:"dialog",ref:I},(0,pt.Z)(t,{aria:!0}),{"aria-modal":"true"},y))},IP=EP;function D2(e){return typeof e=="string"&&String(Number(e))===e?((0,Pc.ZP)(!1,"Invalid value type of `width` or `height` which should be number type instead."),Number(e)):e}function xk(e){warning(!("wrapperClassName"in e),"'wrapperClassName' is removed. Please use 'rootClassName' instead."),warning(canUseDom()||!e.open,"Drawer with 'open' in SSR is not work since no place to createPortal. Please move to 'useEffect' instead.")}var z2={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"};function TP(e,t){var a,o,f,y=e.prefixCls,_=e.open,S=e.placement,I=e.inline,A=e.push,z=e.forceRender,L=e.autoFocus,F=e.keyboard,Z=e.classNames,k=e.rootClassName,W=e.rootStyle,H=e.zIndex,X=e.className,Q=e.id,re=e.style,ie=e.motion,ne=e.width,ae=e.height,ue=e.children,fe=e.mask,he=e.maskClosable,ve=e.maskMotion,ye=e.maskClassName,we=e.maskStyle,Se=e.afterOpenChange,ze=e.onClose,Te=e.onMouseEnter,Fe=e.onMouseOver,Ae=e.onMouseLeave,Ke=e.onClick,tt=e.onKeyDown,vt=e.onKeyUp,bt=e.styles,lt=e.drawerRender,ct=s.useRef(),mt=s.useRef(),Rt=s.useRef();s.useImperativeHandle(t,function(){return ct.current});var wt=function(Yn){var zr=Yn.keyCode,si=Yn.shiftKey;switch(zr){case _t.Z.TAB:{if(zr===_t.Z.TAB){if(!si&&document.activeElement===Rt.current){var yi;(yi=mt.current)===null||yi===void 0||yi.focus({preventScroll:!0})}else if(si&&document.activeElement===mt.current){var Di;(Di=Rt.current)===null||Di===void 0||Di.focus({preventScroll:!0})}}break}case _t.Z.ESC:{ze&&F&&(Yn.stopPropagation(),ze(Yn));break}}};s.useEffect(function(){if(_&&L){var Pn;(Pn=ct.current)===null||Pn===void 0||Pn.focus({preventScroll:!0})}},[_]);var Bt=s.useState(!1),Ct=(0,Pe.Z)(Bt,2),dn=Ct[0],zn=Ct[1],rn=s.useContext(A2),Cn;typeof A=="boolean"?Cn=A?{}:{distance:0}:Cn=A||{};var Vt=(a=(o=(f=Cn)===null||f===void 0?void 0:f.distance)!==null&&o!==void 0?o:rn==null?void 0:rn.pushDistance)!==null&&a!==void 0?a:180,At=s.useMemo(function(){return{pushDistance:Vt,push:function(){zn(!0)},pull:function(){zn(!1)}}},[Vt]);s.useEffect(function(){if(_){var Pn;rn==null||(Pn=rn.push)===null||Pn===void 0||Pn.call(rn)}else{var Yn;rn==null||(Yn=rn.pull)===null||Yn===void 0||Yn.call(rn)}},[_]),s.useEffect(function(){return function(){var Pn;rn==null||(Pn=rn.pull)===null||Pn===void 0||Pn.call(rn)}},[]);var $n=fe&&s.createElement(Rn.ZP,(0,Ue.Z)({key:"mask"},ve,{visible:_}),function(Pn,Yn){var zr=Pn.className,si=Pn.style;return s.createElement("div",{className:J()("".concat(y,"-mask"),zr,Z==null?void 0:Z.mask,ye),style:(0,K.Z)((0,K.Z)((0,K.Z)({},si),we),bt==null?void 0:bt.mask),onClick:he&&_?ze:void 0,ref:Yn})}),yn=typeof ie=="function"?ie(S):ie,Ir={};if(dn&&Vt)switch(S){case"top":Ir.transform="translateY(".concat(Vt,"px)");break;case"bottom":Ir.transform="translateY(".concat(-Vt,"px)");break;case"left":Ir.transform="translateX(".concat(Vt,"px)");break;default:Ir.transform="translateX(".concat(-Vt,"px)");break}S==="left"||S==="right"?Ir.width=D2(ne):Ir.height=D2(ae);var cr={onMouseEnter:Te,onMouseOver:Fe,onMouseLeave:Ae,onClick:Ke,onKeyDown:tt,onKeyUp:vt},Kn=s.createElement(Rn.ZP,(0,Ue.Z)({key:"panel"},yn,{visible:_,forceRender:z,onVisibleChanged:function(Yn){Se==null||Se(Yn)},removeOnLeave:!1,leavedClassName:"".concat(y,"-content-wrapper-hidden")}),function(Pn,Yn){var zr=Pn.className,si=Pn.style,yi=s.createElement(IP,(0,Ue.Z)({id:Q,containerRef:Yn,prefixCls:y,className:J()(X,Z==null?void 0:Z.content),style:(0,K.Z)((0,K.Z)({},re),bt==null?void 0:bt.content)},(0,pt.Z)(e,{aria:!0}),cr),ue);return s.createElement("div",(0,Ue.Z)({className:J()("".concat(y,"-content-wrapper"),Z==null?void 0:Z.wrapper,zr),style:(0,K.Z)((0,K.Z)((0,K.Z)({},Ir),si),bt==null?void 0:bt.wrapper)},(0,pt.Z)(e,{data:!0})),lt?lt(yi):yi)}),qn=(0,K.Z)({},W);return H&&(qn.zIndex=H),s.createElement(A2.Provider,{value:At},s.createElement("div",{className:J()(y,"".concat(y,"-").concat(S),k,(0,ge.Z)((0,ge.Z)({},"".concat(y,"-open"),_),"".concat(y,"-inline"),I)),style:qn,tabIndex:-1,ref:ct,onKeyDown:wt},$n,s.createElement("div",{tabIndex:0,ref:mt,style:z2,"aria-hidden":"true","data-sentinel":"start"}),Kn,s.createElement("div",{tabIndex:0,ref:Rt,style:z2,"aria-hidden":"true","data-sentinel":"end"})))}var MP=s.forwardRef(TP),PP=MP,OP=function(t){var a=t.open,o=a===void 0?!1:a,f=t.prefixCls,y=f===void 0?"rc-drawer":f,_=t.placement,S=_===void 0?"right":_,I=t.autoFocus,A=I===void 0?!0:I,z=t.keyboard,L=z===void 0?!0:z,F=t.width,Z=F===void 0?378:F,k=t.mask,W=k===void 0?!0:k,H=t.maskClosable,X=H===void 0?!0:H,Q=t.getContainer,re=t.forceRender,ie=t.afterOpenChange,ne=t.destroyOnClose,ae=t.onMouseEnter,ue=t.onMouseOver,fe=t.onMouseLeave,he=t.onClick,ve=t.onKeyDown,ye=t.onKeyUp,we=t.panelRef,Se=s.useState(!1),ze=(0,Pe.Z)(Se,2),Te=ze[0],Fe=ze[1],Ae=s.useState(!1),Ke=(0,Pe.Z)(Ae,2),tt=Ke[0],vt=Ke[1];(0,yl.Z)(function(){vt(!0)},[]);var bt=tt?o:!1,lt=s.useRef(),ct=s.useRef();(0,yl.Z)(function(){bt&&(ct.current=document.activeElement)},[bt]);var mt=function(dn){var zn;if(Fe(dn),ie==null||ie(dn),!dn&&ct.current&&!((zn=lt.current)!==null&&zn!==void 0&&zn.contains(ct.current))){var rn;(rn=ct.current)===null||rn===void 0||rn.focus({preventScroll:!0})}},Rt=s.useMemo(function(){return{panel:we}},[we]);if(!re&&!Te&&!bt&&ne)return null;var wt={onMouseEnter:ae,onMouseOver:ue,onMouseLeave:fe,onClick:he,onKeyDown:ve,onKeyUp:ye},Bt=(0,K.Z)((0,K.Z)({},t),{},{open:bt,prefixCls:y,placement:S,autoFocus:A,keyboard:L,width:Z,mask:W,maskClosable:X,inline:Q===!1,afterOpenChange:mt,ref:lt},wt);return s.createElement($2.Provider,{value:Rt},s.createElement(pu.Z,{open:bt||re||Te,autoDestroy:!1,getContainer:Q,autoLock:W&&(bt||Te)},s.createElement(PP,Bt)))},RP=OP,$P=RP,L2=e=>{var t,a;const{prefixCls:o,title:f,footer:y,extra:_,loading:S,onClose:I,headerStyle:A,bodyStyle:z,footerStyle:L,children:F,classNames:Z,styles:k}=e,W=(0,_e.dj)("drawer"),H=s.useCallback(ne=>s.createElement("button",{type:"button",onClick:I,"aria-label":"Close",className:`${o}-close`},ne),[I]),[X,Q]=of(vu(e),vu(W),{closable:!0,closeIconRender:H}),re=s.useMemo(()=>{var ne,ae;return!f&&!X?null:s.createElement("div",{style:Object.assign(Object.assign(Object.assign({},(ne=W.styles)===null||ne===void 0?void 0:ne.header),A),k==null?void 0:k.header),className:J()(`${o}-header`,{[`${o}-header-close-only`]:X&&!f&&!_},(ae=W.classNames)===null||ae===void 0?void 0:ae.header,Z==null?void 0:Z.header)},s.createElement("div",{className:`${o}-header-title`},Q,f&&s.createElement("div",{className:`${o}-title`},f)),_&&s.createElement("div",{className:`${o}-extra`},_))},[X,Q,_,A,o,f]),ie=s.useMemo(()=>{var ne,ae;if(!y)return null;const ue=`${o}-footer`;return s.createElement("div",{className:J()(ue,(ne=W.classNames)===null||ne===void 0?void 0:ne.footer,Z==null?void 0:Z.footer),style:Object.assign(Object.assign(Object.assign({},(ae=W.styles)===null||ae===void 0?void 0:ae.footer),L),k==null?void 0:k.footer)},y)},[y,L,o]);return s.createElement(s.Fragment,null,re,s.createElement("div",{className:J()(`${o}-body`,Z==null?void 0:Z.body,(t=W.classNames)===null||t===void 0?void 0:t.body),style:Object.assign(Object.assign(Object.assign({},(a=W.styles)===null||a===void 0?void 0:a.body),z),k==null?void 0:k.body)},S?s.createElement(yu,{active:!0,title:!1,paragraph:{rows:5},className:`${o}-body-skeleton`}):F),ie)};const AP=e=>{const t="100%";return{left:`translateX(-${t})`,right:`translateX(${t})`,top:`translateY(-${t})`,bottom:`translateY(${t})`}[e]},N2=(e,t)=>({"&-enter, &-appear":Object.assign(Object.assign({},e),{"&-active":t}),"&-leave":Object.assign(Object.assign({},t),{"&-active":e})}),B2=(e,t)=>Object.assign({"&-enter, &-appear, &-leave":{"&-start":{transition:"none"},"&-active":{transition:`all ${t}`}}},N2({opacity:e},{opacity:1})),DP=(e,t)=>[B2(.7,t),N2({transform:AP(e)},{transform:"none"})];var zP=e=>{const{componentCls:t,motionDurationSlow:a}=e;return{[t]:{[`${t}-mask-motion`]:B2(0,a),[`${t}-panel-motion`]:["left","right","top","bottom"].reduce((o,f)=>Object.assign(Object.assign({},o),{[`&-${f}`]:DP(f,a)}),{})}}};const LP=e=>{const{borderRadiusSM:t,componentCls:a,zIndexPopup:o,colorBgMask:f,colorBgElevated:y,motionDurationSlow:_,motionDurationMid:S,paddingXS:I,padding:A,paddingLG:z,fontSizeLG:L,lineHeightLG:F,lineWidth:Z,lineType:k,colorSplit:W,marginXS:H,colorIcon:X,colorIconHover:Q,colorBgTextHover:re,colorBgTextActive:ie,colorText:ne,fontWeightStrong:ae,footerPaddingBlock:ue,footerPaddingInline:fe,calc:he}=e,ve=`${a}-content-wrapper`;return{[a]:{position:"fixed",inset:0,zIndex:o,pointerEvents:"none",color:ne,"&-pure":{position:"relative",background:y,display:"flex",flexDirection:"column",[`&${a}-left`]:{boxShadow:e.boxShadowDrawerLeft},[`&${a}-right`]:{boxShadow:e.boxShadowDrawerRight},[`&${a}-top`]:{boxShadow:e.boxShadowDrawerUp},[`&${a}-bottom`]:{boxShadow:e.boxShadowDrawerDown}},"&-inline":{position:"absolute"},[`${a}-mask`]:{position:"absolute",inset:0,zIndex:o,background:f,pointerEvents:"auto"},[ve]:{position:"absolute",zIndex:o,maxWidth:"100vw",transition:`all ${_}`,"&-hidden":{display:"none"}},[`&-left > ${ve}`]:{top:0,bottom:0,left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowDrawerLeft},[`&-right > ${ve}`]:{top:0,right:{_skip_check_:!0,value:0},bottom:0,boxShadow:e.boxShadowDrawerRight},[`&-top > ${ve}`]:{top:0,insetInline:0,boxShadow:e.boxShadowDrawerUp},[`&-bottom > ${ve}`]:{bottom:0,insetInline:0,boxShadow:e.boxShadowDrawerDown},[`${a}-content`]:{display:"flex",flexDirection:"column",width:"100%",height:"100%",overflow:"auto",background:y,pointerEvents:"auto"},[`${a}-header`]:{display:"flex",flex:0,alignItems:"center",padding:`${(0,me.bf)(A)} ${(0,me.bf)(z)}`,fontSize:L,lineHeight:F,borderBottom:`${(0,me.bf)(Z)} ${k} ${W}`,"&-title":{display:"flex",flex:1,alignItems:"center",minWidth:0,minHeight:0}},[`${a}-extra`]:{flex:"none"},[`${a}-close`]:Object.assign({display:"inline-flex",width:he(L).add(I).equal(),height:he(L).add(I).equal(),borderRadius:t,justifyContent:"center",alignItems:"center",marginInlineEnd:H,color:X,fontWeight:ae,fontSize:L,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",textDecoration:"none",background:"transparent",border:0,cursor:"pointer",transition:`all ${S}`,textRendering:"auto","&:hover":{color:Q,backgroundColor:re,textDecoration:"none"},"&:active":{backgroundColor:ie}},(0,nn.Qy)(e)),[`${a}-title`]:{flex:1,margin:0,fontWeight:e.fontWeightStrong,fontSize:L,lineHeight:F},[`${a}-body`]:{flex:1,minWidth:0,minHeight:0,padding:z,overflow:"auto",[`${a}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center"}},[`${a}-footer`]:{flexShrink:0,padding:`${(0,me.bf)(ue)} ${(0,me.bf)(fe)}`,borderTop:`${(0,me.bf)(Z)} ${k} ${W}`},"&-rtl":{direction:"rtl"}}}},NP=e=>({zIndexPopup:e.zIndexPopupBase,footerPaddingBlock:e.paddingXS,footerPaddingInline:e.padding});var F2=(0,oe.I$)("Drawer",e=>{const t=(0,kr.IX)(e,{});return[LP(t),zP(t)]},NP),k2=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const wk=null,BP={distance:180},j2=e=>{var t;const{rootClassName:a,width:o,height:f,size:y="default",mask:_=!0,push:S=BP,open:I,afterOpenChange:A,onClose:z,prefixCls:L,getContainer:F,style:Z,className:k,visible:W,afterVisibleChange:H,maskStyle:X,drawerStyle:Q,contentWrapperStyle:re}=e,ie=k2(e,["rootClassName","width","height","size","mask","push","open","afterOpenChange","onClose","prefixCls","getContainer","style","className","visible","afterVisibleChange","maskStyle","drawerStyle","contentWrapperStyle"]),{getPopupContainer:ne,getPrefixCls:ae,direction:ue,className:fe,style:he,classNames:ve,styles:ye}=(0,_e.dj)("drawer"),we=ae("drawer",L),[Se,ze,Te]=F2(we),Fe=F===void 0&&ne?()=>ne(document.body):F,Ae=J()({"no-mask":!_,[`${we}-rtl`]:ue==="rtl"},a,ze,Te),Ke=s.useMemo(()=>o!=null?o:y==="large"?736:378,[o,y]),tt=s.useMemo(()=>f!=null?f:y==="large"?736:378,[f,y]),vt={motionName:(0,ir.m)(we,"mask-motion"),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500},bt=Bt=>({motionName:(0,ir.m)(we,`panel-motion-${Bt}`),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500}),lt=Ag(),[ct,mt]=(0,bn.Cn)("Drawer",ie.zIndex),{classNames:Rt={},styles:wt={}}=ie;return Se(s.createElement(Hc.Z,{form:!0,space:!0},s.createElement(fd.Z.Provider,{value:mt},s.createElement($P,Object.assign({prefixCls:we,onClose:z,maskMotion:vt,motion:bt},ie,{classNames:{mask:J()(Rt.mask,ve.mask),content:J()(Rt.content,ve.content),wrapper:J()(Rt.wrapper,ve.wrapper)},styles:{mask:Object.assign(Object.assign(Object.assign({},wt.mask),X),ye.mask),content:Object.assign(Object.assign(Object.assign({},wt.content),Q),ye.content),wrapper:Object.assign(Object.assign(Object.assign({},wt.wrapper),re),ye.wrapper)},open:I!=null?I:W,mask:_,push:S,width:Ke,height:tt,style:Object.assign(Object.assign({},he),Z),className:J()(fe,k),rootClassName:Ae,getContainer:Fe,afterOpenChange:A!=null?A:H,panelRef:lt,zIndex:ct}),s.createElement(L2,Object.assign({prefixCls:we},ie,{onClose:z}))))))},FP=e=>{const{prefixCls:t,style:a,className:o,placement:f="right"}=e,y=k2(e,["prefixCls","style","className","placement"]),{getPrefixCls:_}=s.useContext(_e.E_),S=_("drawer",t),[I,A,z]=F2(S),L=J()(S,`${S}-pure`,`${S}-${f}`,A,z,o);return I(s.createElement("div",{className:L,style:a},s.createElement(L2,Object.assign({prefixCls:S},y))))};j2._InternalPanelDoNotUseOrYouWillBeFired=FP;var kP=j2;function sx(e){return["small","middle","large"].includes(e)}function Z2(e){return e?typeof e=="number"&&!Number.isNaN(e):!1}const V2=s.createContext({latestIndex:0}),jP=V2.Provider;var ZP=e=>{let{className:t,index:a,children:o,split:f,style:y}=e;const{latestIndex:_}=s.useContext(V2);return o==null?null:s.createElement(s.Fragment,null,s.createElement("div",{className:t,style:y},o),a<_&&f&&s.createElement("span",{className:`${t}-split`},f))},VP=j(45936),HP=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const H2=s.forwardRef((e,t)=>{var a;const{getPrefixCls:o,direction:f,size:y,className:_,style:S,classNames:I,styles:A}=(0,_e.dj)("space"),{size:z=y!=null?y:"small",align:L,className:F,rootClassName:Z,children:k,direction:W="horizontal",prefixCls:H,split:X,style:Q,wrap:re=!1,classNames:ie,styles:ne}=e,ae=HP(e,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),[ue,fe]=Array.isArray(z)?z:[z,z],he=sx(fe),ve=sx(ue),ye=Z2(fe),we=Z2(ue),Se=(0,ac.Z)(k,{keepEmpty:!0}),ze=L===void 0&&W==="horizontal"?"center":L,Te=o("space",H),[Fe,Ae,Ke]=(0,VP.Z)(Te),tt=J()(Te,_,Ae,`${Te}-${W}`,{[`${Te}-rtl`]:f==="rtl",[`${Te}-align-${ze}`]:ze,[`${Te}-gap-row-${fe}`]:he,[`${Te}-gap-col-${ue}`]:ve},F,Z,Ke),vt=J()(`${Te}-item`,(a=ie==null?void 0:ie.item)!==null&&a!==void 0?a:I.item);let bt=0;const lt=Se.map((Rt,wt)=>{var Bt;Rt!=null&&(bt=wt);const Ct=(Rt==null?void 0:Rt.key)||`${vt}-${wt}`;return s.createElement(ZP,{className:vt,key:Ct,index:wt,split:X,style:(Bt=ne==null?void 0:ne.item)!==null&&Bt!==void 0?Bt:A.item},Rt)}),ct=s.useMemo(()=>({latestIndex:bt}),[bt]);if(Se.length===0)return null;const mt={};return re&&(mt.flexWrap="wrap"),!ve&&we&&(mt.columnGap=ue),!he&&ye&&(mt.rowGap=fe),Fe(s.createElement("div",Object.assign({ref:t,className:tt,style:Object.assign(Object.assign(Object.assign({},mt),S),Q)},ae),s.createElement(jP,{value:ct},lt)))});H2.Compact=as.ZP;var U2=H2,UP=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const W2=e=>{const{getPopupContainer:t,getPrefixCls:a,direction:o}=s.useContext(_e.E_),{prefixCls:f,type:y="default",danger:_,disabled:S,loading:I,onClick:A,htmlType:z,children:L,className:F,menu:Z,arrow:k,autoFocus:W,overlay:H,trigger:X,align:Q,open:re,onOpenChange:ie,placement:ne,getPopupContainer:ae,href:ue,icon:fe=s.createElement(Vv,null),title:he,buttonsRender:ve=Ct=>Ct,mouseEnterDelay:ye,mouseLeaveDelay:we,overlayClassName:Se,overlayStyle:ze,destroyPopupOnHide:Te,dropdownRender:Fe}=e,Ae=UP(e,["prefixCls","type","danger","disabled","loading","onClick","htmlType","children","className","menu","arrow","autoFocus","overlay","trigger","align","open","onOpenChange","placement","getPopupContainer","href","icon","title","buttonsRender","mouseEnterDelay","mouseLeaveDelay","overlayClassName","overlayStyle","destroyPopupOnHide","dropdownRender"]),Ke=a("dropdown",f),tt=`${Ke}-button`,vt={menu:Z,arrow:k,autoFocus:W,align:Q,disabled:S,trigger:S?[]:X,onOpenChange:ie,getPopupContainer:ae||t,mouseEnterDelay:ye,mouseLeaveDelay:we,overlayClassName:Se,overlayStyle:ze,destroyPopupOnHide:Te,dropdownRender:Fe},{compactSize:bt,compactItemClassnames:lt}=(0,as.ri)(Ke,o),ct=J()(tt,lt,F);"overlay"in e&&(vt.overlay=H),"open"in e&&(vt.open=re),"placement"in e?vt.placement=ne:vt.placement=o==="rtl"?"bottomLeft":"bottomRight";const mt=s.createElement(ks,{type:y,danger:_,disabled:S,loading:I,onClick:A,htmlType:z,href:ue,title:he},L),Rt=s.createElement(ks,{type:y,danger:_,icon:fe}),[wt,Bt]=ve([mt,Rt]);return s.createElement(U2.Compact,Object.assign({className:ct,size:bt,block:!0},Ae),wt,s.createElement(h0,Object.assign({},vt),Bt))};W2.__ANT_BUTTON=!0;var WP=W2;const G2=h0;G2.Button=WP;var lx=G2,US=j(35335);const X2=["wrap","nowrap","wrap-reverse"],K2=["flex-start","flex-end","start","end","center","space-between","space-around","space-evenly","stretch","normal","left","right"],q2=["center","start","end","flex-start","flex-end","self-start","self-end","baseline","normal","stretch"],GP=(e,t)=>{const a=t.wrap===!0?"wrap":t.wrap;return{[`${e}-wrap-${a}`]:a&&X2.includes(a)}},XP=(e,t)=>{const a={};return q2.forEach(o=>{a[`${e}-align-${o}`]=t.align===o}),a[`${e}-align-stretch`]=!t.align&&!!t.vertical,a},KP=(e,t)=>{const a={};return K2.forEach(o=>{a[`${e}-justify-${o}`]=t.justify===o}),a};function qP(e,t){return J()(Object.assign(Object.assign(Object.assign({},GP(e,t)),XP(e,t)),KP(e,t)))}var YP=qP;const JP=e=>{const{componentCls:t}=e;return{[t]:{display:"flex",margin:0,padding:0,"&-vertical":{flexDirection:"column"},"&-rtl":{direction:"rtl"},"&:empty":{display:"none"}}}},QP=e=>{const{componentCls:t}=e;return{[t]:{"&-gap-small":{gap:e.flexGapSM},"&-gap-middle":{gap:e.flexGap},"&-gap-large":{gap:e.flexGapLG}}}},eO=e=>{const{componentCls:t}=e,a={};return X2.forEach(o=>{a[`${t}-wrap-${o}`]={flexWrap:o}}),a},tO=e=>{const{componentCls:t}=e,a={};return q2.forEach(o=>{a[`${t}-align-${o}`]={alignItems:o}}),a},nO=e=>{const{componentCls:t}=e,a={};return K2.forEach(o=>{a[`${t}-justify-${o}`]={justifyContent:o}}),a},rO=()=>({});var iO=(0,oe.I$)("Flex",e=>{const{paddingXS:t,padding:a,paddingLG:o}=e,f=(0,kr.IX)(e,{flexGapSM:t,flexGap:a,flexGapLG:o});return[JP(f),QP(f),eO(f),tO(f),nO(f)]},rO,{resetStyle:!1}),oO=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},aO=s.forwardRef((e,t)=>{const{prefixCls:a,rootClassName:o,className:f,style:y,flex:_,gap:S,children:I,vertical:A=!1,component:z="div"}=e,L=oO(e,["prefixCls","rootClassName","className","style","flex","gap","children","vertical","component"]),{flex:F,direction:Z,getPrefixCls:k}=s.useContext(_e.E_),W=k("flex",a),[H,X,Q]=iO(W),re=A!=null?A:F==null?void 0:F.vertical,ie=J()(f,o,F==null?void 0:F.className,W,X,Q,YP(W,e),{[`${W}-rtl`]:Z==="rtl",[`${W}-gap-${S}`]:sx(S),[`${W}-vertical`]:re}),ne=Object.assign(Object.assign({},F==null?void 0:F.style),y);return _&&(ne.flex=_),S&&!sx(S)&&(ne.gap=S),H(s.createElement(z,Object.assign({ref:t,className:ie,style:ne},(0,Ci.Z)(L,["justify","wrap","align"])),I))});const Y2=s.createContext(void 0),{Provider:sO}=Y2;var J2=Y2,lO={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM504 618H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM312 490v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8z"}}]},name:"file-text",theme:"outlined"},cO=lO,uO=function(t,a){return s.createElement(En.Z,(0,Ue.Z)({},t,{ref:a,icon:cO}))},dO=s.forwardRef(uO),Q2=dO;const fO=e=>{const{icon:t,description:a,prefixCls:o,className:f}=e,y=s.createElement("div",{className:`${o}-icon`},s.createElement(Q2,null));return s.createElement("div",{onClick:e.onClick,onFocus:e.onFocus,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,className:J()(f,`${o}-content`)},t||a?s.createElement(s.Fragment,null,t&&s.createElement("div",{className:`${o}-icon`},t),a&&s.createElement("div",{className:`${o}-description`},a)):y)};var hO=(0,s.memo)(fO),eE=e=>e===0?0:e-Math.sqrt(Math.pow(e,2)/2),mO=e=>{const{componentCls:t,floatButtonSize:a,motionDurationSlow:o,motionEaseInOutCirc:f,calc:y}=e,_=new me.E4("antFloatButtonMoveTopIn",{"0%":{transform:`translate3d(0, ${(0,me.bf)(a)}, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),S=new me.E4("antFloatButtonMoveTopOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(0, ${(0,me.bf)(a)}, 0)`,transformOrigin:"0 0",opacity:0}}),I=new me.E4("antFloatButtonMoveRightIn",{"0%":{transform:`translate3d(${y(a).mul(-1).equal()}, 0, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),A=new me.E4("antFloatButtonMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(${y(a).mul(-1).equal()}, 0, 0)`,transformOrigin:"0 0",opacity:0}}),z=new me.E4("antFloatButtonMoveBottomIn",{"0%":{transform:`translate3d(0, ${y(a).mul(-1).equal()}, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),L=new me.E4("antFloatButtonMoveBottomOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(0, ${y(a).mul(-1).equal()}, 0)`,transformOrigin:"0 0",opacity:0}}),F=new me.E4("antFloatButtonMoveLeftIn",{"0%":{transform:`translate3d(${(0,me.bf)(a)}, 0, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),Z=new me.E4("antFloatButtonMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(${(0,me.bf)(a)}, 0, 0)`,transformOrigin:"0 0",opacity:0}}),k=`${t}-group`;return[{[k]:{[`&${k}-top ${k}-wrap`]:(0,Nc.R)(`${k}-wrap`,_,S,o,!0),[`&${k}-bottom ${k}-wrap`]:(0,Nc.R)(`${k}-wrap`,z,L,o,!0),[`&${k}-left ${k}-wrap`]:(0,Nc.R)(`${k}-wrap`,F,Z,o,!0),[`&${k}-right ${k}-wrap`]:(0,Nc.R)(`${k}-wrap`,I,A,o,!0)}},{[`${k}-wrap`]:{[`&${k}-wrap-enter, &${k}-wrap-appear`]:{opacity:0,animationTimingFunction:f},[`&${k}-wrap-leave`]:{opacity:1,animationTimingFunction:f}}}]};const pO=e=>{const{antCls:t,componentCls:a,floatButtonSize:o,margin:f,borderRadiusLG:y,borderRadiusSM:_,badgeOffset:S,floatButtonBodyPadding:I,zIndexPopupBase:A,calc:z}=e,L=`${a}-group`;return{[L]:Object.assign(Object.assign({},(0,nn.Wf)(e)),{zIndex:A,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",border:"none",position:"fixed",height:"auto",boxShadow:"none",minWidth:o,minHeight:o,insetInlineEnd:e.floatButtonInsetInlineEnd,bottom:e.floatButtonInsetBlockEnd,borderRadius:y,[`${L}-wrap`]:{zIndex:-1,display:"flex",justifyContent:"center",alignItems:"center",position:"absolute"},[`&${L}-rtl`]:{direction:"rtl"},[a]:{position:"static"}}),[`${L}-top > ${L}-wrap`]:{flexDirection:"column",top:"auto",bottom:z(o).add(f).equal(),"&::after":{content:'""',position:"absolute",width:"100%",height:f,bottom:z(f).mul(-1).equal()}},[`${L}-bottom > ${L}-wrap`]:{flexDirection:"column",top:z(o).add(f).equal(),bottom:"auto","&::after":{content:'""',position:"absolute",width:"100%",height:f,top:z(f).mul(-1).equal()}},[`${L}-right > ${L}-wrap`]:{flexDirection:"row",left:{_skip_check_:!0,value:z(o).add(f).equal()},right:{_skip_check_:!0,value:"auto"},"&::after":{content:'""',position:"absolute",width:f,height:"100%",left:{_skip_check_:!0,value:z(f).mul(-1).equal()}}},[`${L}-left > ${L}-wrap`]:{flexDirection:"row",left:{_skip_check_:!0,value:"auto"},right:{_skip_check_:!0,value:z(o).add(f).equal()},"&::after":{content:'""',position:"absolute",width:f,height:"100%",right:{_skip_check_:!0,value:z(f).mul(-1).equal()}}},[`${L}-circle`]:{gap:f,[`${L}-wrap`]:{gap:f}},[`${L}-square`]:{[`${a}-square`]:{padding:0,borderRadius:0,[`&${L}-trigger`]:{borderRadius:y},"&:first-child":{borderStartStartRadius:y,borderStartEndRadius:y},"&:last-child":{borderEndStartRadius:y,borderEndEndRadius:y},"&:not(:last-child)":{borderBottom:`${(0,me.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-badge`]:{[`${t}-badge-count`]:{top:z(z(I).add(S)).mul(-1).equal(),insetInlineEnd:z(z(I).add(S)).mul(-1).equal()}}},[`${L}-wrap`]:{borderRadius:y,boxShadow:e.boxShadowSecondary,[`${a}-square`]:{boxShadow:"none",borderRadius:0,padding:I,[`${a}-body`]:{width:e.floatButtonBodySize,height:e.floatButtonBodySize,borderRadius:_}}}},[`${L}-top > ${L}-wrap, ${L}-bottom > ${L}-wrap`]:{[`> ${a}-square`]:{"&:first-child":{borderStartStartRadius:y,borderStartEndRadius:y},"&:last-child":{borderEndStartRadius:y,borderEndEndRadius:y},"&:not(:last-child)":{borderBottom:`${(0,me.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`}}},[`${L}-left > ${L}-wrap, ${L}-right > ${L}-wrap`]:{[`> ${a}-square`]:{"&:first-child":{borderStartStartRadius:y,borderEndStartRadius:y},"&:last-child":{borderStartEndRadius:y,borderEndEndRadius:y},"&:not(:last-child)":{borderInlineEnd:`${(0,me.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`}}},[`${L}-circle-shadow`]:{boxShadow:"none"},[`${L}-square-shadow`]:{boxShadow:e.boxShadowSecondary,[`${a}-square`]:{boxShadow:"none",padding:I,[`${a}-body`]:{width:e.floatButtonBodySize,height:e.floatButtonBodySize,borderRadius:_}}}}},gO=e=>{const{antCls:t,componentCls:a,floatButtonBodyPadding:o,floatButtonIconSize:f,floatButtonSize:y,borderRadiusLG:_,badgeOffset:S,dotOffsetInSquare:I,dotOffsetInCircle:A,zIndexPopupBase:z,calc:L}=e;return{[a]:Object.assign(Object.assign({},(0,nn.Wf)(e)),{border:"none",position:"fixed",cursor:"pointer",zIndex:z,display:"block",width:y,height:y,insetInlineEnd:e.floatButtonInsetInlineEnd,bottom:e.floatButtonInsetBlockEnd,boxShadow:e.boxShadowSecondary,"&-pure":{position:"relative",inset:"auto"},"&:empty":{display:"none"},[`${t}-badge`]:{width:"100%",height:"100%",[`${t}-badge-count`]:{transform:"translate(0, 0)",transformOrigin:"center",top:L(S).mul(-1).equal(),insetInlineEnd:L(S).mul(-1).equal()}},[`${a}-body`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",transition:`all ${e.motionDurationMid}`,[`${a}-content`]:{overflow:"hidden",textAlign:"center",minHeight:y,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:`${(0,me.bf)(L(o).div(2).equal())} ${(0,me.bf)(o)}`,[`${a}-icon`]:{textAlign:"center",margin:"auto",width:f,fontSize:f,lineHeight:1}}}}),[`${a}-rtl`]:{direction:"rtl"},[`${a}-circle`]:{height:y,borderRadius:"50%",[`${t}-badge`]:{[`${t}-badge-dot`]:{top:A,insetInlineEnd:A}},[`${a}-body`]:{borderRadius:"50%"}},[`${a}-square`]:{height:"auto",minHeight:y,borderRadius:_,[`${t}-badge`]:{[`${t}-badge-dot`]:{top:I,insetInlineEnd:I}},[`${a}-body`]:{height:"auto",borderRadius:_}},[`${a}-default`]:{backgroundColor:e.floatButtonBackgroundColor,transition:`background-color ${e.motionDurationMid}`,[`${a}-body`]:{backgroundColor:e.floatButtonBackgroundColor,transition:`background-color ${e.motionDurationMid}`,"&:hover":{backgroundColor:e.colorFillContent},[`${a}-content`]:{[`${a}-icon`]:{color:e.colorText},[`${a}-description`]:{display:"flex",alignItems:"center",lineHeight:(0,me.bf)(e.fontSizeLG),color:e.colorText,fontSize:e.fontSizeSM}}}},[`${a}-primary`]:{backgroundColor:e.colorPrimary,[`${a}-body`]:{backgroundColor:e.colorPrimary,transition:`background-color ${e.motionDurationMid}`,"&:hover":{backgroundColor:e.colorPrimaryHover},[`${a}-content`]:{[`${a}-icon`]:{color:e.colorTextLightSolid},[`${a}-description`]:{display:"flex",alignItems:"center",lineHeight:(0,me.bf)(e.fontSizeLG),color:e.colorTextLightSolid,fontSize:e.fontSizeSM}}}}}},vO=e=>({dotOffsetInCircle:eE(e.controlHeightLG/2),dotOffsetInSquare:eE(e.borderRadiusLG)});var tE=(0,oe.I$)("FloatButton",e=>{const{colorTextLightSolid:t,colorBgElevated:a,controlHeightLG:o,marginXXL:f,marginLG:y,fontSize:_,fontSizeIcon:S,controlItemBgHover:I,paddingXXS:A,calc:z}=e,L=(0,kr.IX)(e,{floatButtonBackgroundColor:a,floatButtonColor:t,floatButtonHoverBackgroundColor:I,floatButtonFontSize:_,floatButtonIconSize:z(S).mul(1.5).equal(),floatButtonSize:o,floatButtonInsetBlockEnd:f,floatButtonInsetInlineEnd:y,floatButtonBodySize:z(o).sub(z(A).mul(2)).equal(),floatButtonBodyPadding:A,badgeOffset:z(A).mul(1.5).equal()});return[pO(L),gO(L),lf(e),mO(L)]},vO),yO=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const cx="float-btn";var Cg=s.forwardRef((e,t)=>{const{prefixCls:a,className:o,rootClassName:f,style:y,type:_="default",shape:S="circle",icon:I,description:A,tooltip:z,htmlType:L="button",badge:F={}}=e,Z=yO(e,["prefixCls","className","rootClassName","style","type","shape","icon","description","tooltip","htmlType","badge"]),{getPrefixCls:k,direction:W}=(0,s.useContext)(_e.E_),H=(0,s.useContext)(J2),X=k(cx,a),Q=(0,Ln.Z)(X),[re,ie,ne]=tE(X,Q),ae=H||S,ue=J()(ie,ne,Q,X,o,f,`${X}-${_}`,`${X}-${ae}`,{[`${X}-rtl`]:W==="rtl"}),[fe]=(0,bn.Cn)("FloatButton",y==null?void 0:y.zIndex),he=Object.assign(Object.assign({},y),{zIndex:fe}),ve=(0,Ci.Z)(F,["title","children","status","text"]),ye=(0,s.useMemo)(()=>({prefixCls:X,description:A,icon:I,type:_}),[X,A,I,_]);let we=s.createElement("div",{className:`${X}-body`},s.createElement(hO,Object.assign({},ye)));return"badge"in e&&(we=s.createElement(p,Object.assign({},ve),we)),"tooltip"in e&&(we=s.createElement(su.Z,{title:z,placement:W==="rtl"?"right":"left"},we)),re(e.href?s.createElement("a",Object.assign({ref:t},Z,{className:ue,style:he}),we):s.createElement("button",Object.assign({ref:t},Z,{className:ue,style:he,type:L}),we))}),bO=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},nE=s.forwardRef((e,t)=>{const{prefixCls:a,className:o,type:f="default",shape:y="circle",visibilityHeight:_=400,icon:S=s.createElement(Xg,null),target:I,onClick:A,duration:z=450}=e,L=bO(e,["prefixCls","className","type","shape","visibilityHeight","icon","target","onClick","duration"]),[F,Z]=(0,s.useState)(_===0),k=s.useRef(null);s.useImperativeHandle(t,()=>({nativeElement:k.current}));const W=()=>{var fe;return((fe=k.current)===null||fe===void 0?void 0:fe.ownerDocument)||window},H=Le(fe=>{const he=Xn(fe.target);Z(he>=_)});(0,s.useEffect)(()=>{const he=(I||W)();return H({target:he}),he==null||he.addEventListener("scroll",H),()=>{H.cancel(),he==null||he.removeEventListener("scroll",H)}},[I]);const X=fe=>{Ur(0,{getContainer:I||W,duration:z}),A==null||A(fe)},{getPrefixCls:Q}=(0,s.useContext)(_e.E_),re=Q(cx,a),ie=Q(),ae=(0,s.useContext)(J2)||y,ue=Object.assign({prefixCls:re,icon:S,type:f,shape:ae},L);return s.createElement(Rn.ZP,{visible:F,motionName:`${ie}-fade`},(fe,he)=>{let{className:ve}=fe;return s.createElement(Cg,Object.assign({ref:(0,an.sQ)(k,he)},ue,{onClick:X,className:J()(o,ve)}))})}),_O=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},rE=e=>{var t;const{prefixCls:a,className:o,style:f,shape:y="circle",type:_="default",placement:S="top",icon:I=s.createElement(Q2,null),closeIcon:A,description:z,trigger:L,children:F,onOpenChange:Z,open:k,onClick:W}=e,H=_O(e,["prefixCls","className","style","shape","type","placement","icon","closeIcon","description","trigger","children","onOpenChange","open","onClick"]),{direction:X,getPrefixCls:Q,closeIcon:re}=(0,_e.dj)("floatButtonGroup"),ie=(t=A!=null?A:re)!==null&&t!==void 0?t:s.createElement(Cr.Z,null),ne=Q(cx,a),ae=(0,Ln.Z)(ne),[ue,fe,he]=tE(ne,ae),ve=`${ne}-group`,ye=L&&["click","hover"].includes(L),we=S&&["top","left","right","bottom"].includes(S),Se=J()(ve,fe,he,ae,o,{[`${ve}-rtl`]:X==="rtl",[`${ve}-${y}`]:y,[`${ve}-${y}-shadow`]:!ye,[`${ve}-${S}`]:ye&&we}),[ze]=(0,bn.Cn)("FloatButton",f==null?void 0:f.zIndex),Te=Object.assign(Object.assign({},f),{zIndex:ze}),Fe=J()(fe,`${ve}-wrap`),[Ae,Ke]=(0,zt.Z)(!1,{value:k}),tt=s.useRef(null),vt=L==="hover",bt=L==="click",lt=(0,ur.Z)(wt=>{Ae!==wt&&(Ke(wt),Z==null||Z(wt))}),ct=()=>{vt&&lt(!0)},mt=()=>{vt&&lt(!1)},Rt=wt=>{bt&&lt(!Ae),W==null||W(wt)};return s.useEffect(()=>{if(bt){const wt=Bt=>{var Ct;!((Ct=tt.current)===null||Ct===void 0)&&Ct.contains(Bt.target)||lt(!1)};return document.addEventListener("click",wt,{capture:!0}),()=>document.removeEventListener("click",wt,{capture:!0})}},[bt]),ue(s.createElement(sO,{value:y},s.createElement("div",{ref:tt,className:Se,style:Te,onMouseEnter:ct,onMouseLeave:mt},ye?s.createElement(s.Fragment,null,s.createElement(Rn.ZP,{visible:Ae,motionName:`${ve}-wrap`},wt=>{let{className:Bt}=wt;return s.createElement("div",{className:J()(Bt,Fe)},F)}),s.createElement(Cg,Object.assign({type:_,icon:Ae?ie:I,description:z,"aria-label":e["aria-label"],className:`${ve}-trigger`,onClick:Rt},H))):F)))},iE=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const oE=e=>{var{backTop:t}=e,a=iE(e,["backTop"]);return t?s.createElement(nE,Object.assign({},a,{visibilityHeight:0})):s.createElement(Cg,Object.assign({},a))};var xO=e=>{var{className:t,items:a}=e,o=iE(e,["className","items"]);const{prefixCls:f}=o,{getPrefixCls:y}=s.useContext(_e.E_),S=`${y(cx,f)}-pure`;return a?s.createElement(rE,Object.assign({className:J()(t,S)},o),a.map((I,A)=>s.createElement(oE,Object.assign({key:A},I)))):s.createElement(oE,Object.assign({className:J()(t,S)},o))};Cg.BackTop=nE,Cg.Group=rE,Cg._InternalPanelDoNotUseOrYouWillBeFired=xO;var CO=Cg,SO=j(54735);function wO(){return(0,Ec.Z)()}var EO={useBreakpoint:wO},IO={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},TO=IO,MO=function(t,a){return s.createElement(En.Z,(0,Ue.Z)({},t,{ref:a,icon:TO}))},PO=s.forwardRef(MO),WS=PO,aE=/margin|padding|width|height|max|min|offset/,GS={left:!0,top:!0},sE={cssFloat:1,styleFloat:1,float:1};function lE(e){return e.nodeType===1?e.ownerDocument.defaultView.getComputedStyle(e,null):{}}function OO(e,t,a){if(t=t.toLowerCase(),a==="auto"){if(t==="height")return e.offsetHeight;if(t==="width")return e.offsetWidth}return t in GS||(GS[t]=aE.test(t)),GS[t]?parseFloat(a)||0:a}function zk(e,t){var a=arguments.length,o=lE(e);return t=sE[t]?"cssFloat"in e.style?"cssFloat":"styleFloat":t,a===1?o:OO(e,t,o[t]||e.style[t])}function RO(e,t,a){var o=arguments.length;if(t=sE[t]?"cssFloat"in e.style?"cssFloat":"styleFloat":t,o===3)return typeof a=="number"&&aE.test(t)&&(a="".concat(a,"px")),e.style[t]=a,a;for(var f in t)t.hasOwnProperty(f)&&RO(e,f,t[f]);return lE(e)}function Lk(e){return e===document.body?document.documentElement.clientWidth:e.offsetWidth}function Nk(e){return e===document.body?window.innerHeight||document.documentElement.clientHeight:e.offsetHeight}function Bk(){var e=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),t=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);return{width:e,height:t}}function cE(){var e=document.documentElement.clientWidth,t=window.innerHeight||document.documentElement.clientHeight;return{width:e,height:t}}function Fk(){return{scrollLeft:Math.max(document.documentElement.scrollLeft,document.body.scrollLeft),scrollTop:Math.max(document.documentElement.scrollTop,document.body.scrollTop)}}function $O(e){var t=e.getBoundingClientRect(),a=document.documentElement;return{left:t.left+(window.pageXOffset||a.scrollLeft)-(a.clientLeft||document.body.clientLeft||0),top:t.top+(window.pageYOffset||a.scrollTop)-(a.clientTop||document.body.clientTop||0)}}function np(e,t,a,o){var f=Ne.unstable_batchedUpdates?function(_){Ne.unstable_batchedUpdates(a,_)}:a;return e!=null&&e.addEventListener&&e.addEventListener(t,f,o),{remove:function(){e!=null&&e.removeEventListener&&e.removeEventListener(t,f,o)}}}var yb=s.createContext(null),AO=function(t){var a=t.visible,o=t.maskTransitionName,f=t.getContainer,y=t.prefixCls,_=t.rootClassName,S=t.icons,I=t.countRender,A=t.showSwitch,z=t.showProgress,L=t.current,F=t.transform,Z=t.count,k=t.scale,W=t.minScale,H=t.maxScale,X=t.closeIcon,Q=t.onActive,re=t.onClose,ie=t.onZoomIn,ne=t.onZoomOut,ae=t.onRotateRight,ue=t.onRotateLeft,fe=t.onFlipX,he=t.onFlipY,ve=t.onReset,ye=t.toolbarRender,we=t.zIndex,Se=t.image,ze=(0,s.useContext)(yb),Te=S.rotateLeft,Fe=S.rotateRight,Ae=S.zoomIn,Ke=S.zoomOut,tt=S.close,vt=S.left,bt=S.right,lt=S.flipX,ct=S.flipY,mt="".concat(y,"-operations-operation");s.useEffect(function(){var yn=function(cr){cr.keyCode===_t.Z.ESC&&re()};return a&&window.addEventListener("keydown",yn),function(){window.removeEventListener("keydown",yn)}},[a]);var Rt=function(Ir,cr){Ir.preventDefault(),Ir.stopPropagation(),Q(cr)},wt=s.useCallback(function(yn){var Ir=yn.type,cr=yn.disabled,Kn=yn.onClick,qn=yn.icon;return s.createElement("div",{key:Ir,className:J()(mt,"".concat(y,"-operations-operation-").concat(Ir),(0,ge.Z)({},"".concat(y,"-operations-operation-disabled"),!!cr)),onClick:Kn},qn)},[mt,y]),Bt=A?wt({icon:vt,onClick:function(Ir){return Rt(Ir,-1)},type:"prev",disabled:L===0}):void 0,Ct=A?wt({icon:bt,onClick:function(Ir){return Rt(Ir,1)},type:"next",disabled:L===Z-1}):void 0,dn=wt({icon:ct,onClick:he,type:"flipY"}),zn=wt({icon:lt,onClick:fe,type:"flipX"}),rn=wt({icon:Te,onClick:ue,type:"rotateLeft"}),Cn=wt({icon:Fe,onClick:ae,type:"rotateRight"}),Vt=wt({icon:Ke,onClick:ne,type:"zoomOut",disabled:k<=W}),At=wt({icon:Ae,onClick:ie,type:"zoomIn",disabled:k===H}),$n=s.createElement("div",{className:"".concat(y,"-operations")},dn,zn,rn,Cn,Vt,At);return s.createElement(Rn.ZP,{visible:a,motionName:o},function(yn){var Ir=yn.className,cr=yn.style;return s.createElement(pu.Z,{open:!0,getContainer:f!=null?f:document.body},s.createElement("div",{className:J()("".concat(y,"-operations-wrapper"),Ir,_),style:(0,K.Z)((0,K.Z)({},cr),{},{zIndex:we})},X===null?null:s.createElement("button",{className:"".concat(y,"-close"),onClick:re},X||tt),A&&s.createElement(s.Fragment,null,s.createElement("div",{className:J()("".concat(y,"-switch-left"),(0,ge.Z)({},"".concat(y,"-switch-left-disabled"),L===0)),onClick:function(qn){return Rt(qn,-1)}},vt),s.createElement("div",{className:J()("".concat(y,"-switch-right"),(0,ge.Z)({},"".concat(y,"-switch-right-disabled"),L===Z-1)),onClick:function(qn){return Rt(qn,1)}},bt)),s.createElement("div",{className:"".concat(y,"-footer")},z&&s.createElement("div",{className:"".concat(y,"-progress")},I?I(L+1,Z):"".concat(L+1," / ").concat(Z)),ye?ye($n,(0,K.Z)((0,K.Z)({icons:{prevIcon:Bt,nextIcon:Ct,flipYIcon:dn,flipXIcon:zn,rotateLeftIcon:rn,rotateRightIcon:Cn,zoomOutIcon:Vt,zoomInIcon:At},actions:{onActive:Q,onFlipY:he,onFlipX:fe,onRotateLeft:ue,onRotateRight:ae,onZoomOut:ne,onZoomIn:ie,onReset:ve,onClose:re},transform:F},ze?{current:L,total:Z}:{}),{},{image:Se})):$n)))})},DO=AO,ux={x:0,y:0,rotate:0,scale:1,flipX:!1,flipY:!1};function zO(e,t,a,o){var f=(0,s.useRef)(null),y=(0,s.useRef)([]),_=(0,s.useState)(ux),S=(0,Pe.Z)(_,2),I=S[0],A=S[1],z=function(k){A(ux),(0,mr.Z)(ux,I)||o==null||o({transform:ux,action:k})},L=function(k,W){f.current===null&&(y.current=[],f.current=(0,He.Z)(function(){A(function(H){var X=H;return y.current.forEach(function(Q){X=(0,K.Z)((0,K.Z)({},X),Q)}),f.current=null,o==null||o({transform:X,action:W}),X})})),y.current.push((0,K.Z)((0,K.Z)({},I),k))},F=function(k,W,H,X,Q){var re=e.current,ie=re.width,ne=re.height,ae=re.offsetWidth,ue=re.offsetHeight,fe=re.offsetLeft,he=re.offsetTop,ve=k,ye=I.scale*k;ye>a?(ye=a,ve=a/I.scale):ye<t&&(ye=Q?ye:t,ve=ye/I.scale);var we=H!=null?H:innerWidth/2,Se=X!=null?X:innerHeight/2,ze=ve-1,Te=ze*ie*.5,Fe=ze*ne*.5,Ae=ze*(we-I.x-fe),Ke=ze*(Se-I.y-he),tt=I.x-(Ae-Te),vt=I.y-(Ke-Fe);if(k<1&&ye===1){var bt=ae*ye,lt=ue*ye,ct=cE(),mt=ct.width,Rt=ct.height;bt<=mt&&lt<=Rt&&(tt=0,vt=0)}L({x:tt,y:vt,scale:ye},W)};return{transform:I,resetTransform:z,updateTransform:L,dispatchZoomChange:F}}function uE(e,t,a,o){var f=t+a,y=(a-o)/2;if(a>o){if(t>0)return(0,ge.Z)({},e,y);if(t<0&&f<o)return(0,ge.Z)({},e,-y)}else if(t<0||f>o)return(0,ge.Z)({},e,t<0?y:-y);return{}}function dE(e,t,a,o){var f=cE(),y=f.width,_=f.height,S=null;return e<=y&&t<=_?S={x:0,y:0}:(e>y||t>_)&&(S=(0,K.Z)((0,K.Z)({},uE("x",a,e,y)),uE("y",o,t,_))),S}var sv=1,LO=1;function NO(e,t,a,o,f,y,_){var S=f.rotate,I=f.scale,A=f.x,z=f.y,L=(0,s.useState)(!1),F=(0,Pe.Z)(L,2),Z=F[0],k=F[1],W=(0,s.useRef)({diffX:0,diffY:0,transformX:0,transformY:0}),H=function(ne){!t||ne.button!==0||(ne.preventDefault(),ne.stopPropagation(),W.current={diffX:ne.pageX-A,diffY:ne.pageY-z,transformX:A,transformY:z},k(!0))},X=function(ne){a&&Z&&y({x:ne.pageX-W.current.diffX,y:ne.pageY-W.current.diffY},"move")},Q=function(){if(a&&Z){k(!1);var ne=W.current,ae=ne.transformX,ue=ne.transformY,fe=A!==ae&&z!==ue;if(!fe)return;var he=e.current.offsetWidth*I,ve=e.current.offsetHeight*I,ye=e.current.getBoundingClientRect(),we=ye.left,Se=ye.top,ze=S%180!==0,Te=dE(ze?ve:he,ze?he:ve,we,Se);Te&&y((0,K.Z)({},Te),"dragRebound")}},re=function(ne){if(!(!a||ne.deltaY==0)){var ae=Math.abs(ne.deltaY/100),ue=Math.min(ae,LO),fe=sv+ue*o;ne.deltaY>0&&(fe=sv/fe),_(fe,"wheel",ne.clientX,ne.clientY)}};return(0,s.useEffect)(function(){var ie,ne,ae,ue;if(t){ae=np(window,"mouseup",Q,!1),ue=np(window,"mousemove",X,!1);try{window.top!==window.self&&(ie=np(window.top,"mouseup",Q,!1),ne=np(window.top,"mousemove",X,!1))}catch(fe){(0,Pc.Kp)(!1,"[rc-image] ".concat(fe))}}return function(){var fe,he,ve,ye;(fe=ae)===null||fe===void 0||fe.remove(),(he=ue)===null||he===void 0||he.remove(),(ve=ie)===null||ve===void 0||ve.remove(),(ye=ne)===null||ye===void 0||ye.remove()}},[a,Z,A,z,S,t]),{isMoving:Z,onMouseDown:H,onMouseMove:X,onMouseUp:Q,onWheel:re}}function BO(e){return new Promise(function(t){var a=document.createElement("img");a.onerror=function(){return t(!1)},a.onload=function(){return t(!0)},a.src=e})}function fE(e){var t=e.src,a=e.isCustomPlaceholder,o=e.fallback,f=(0,s.useState)(a?"loading":"normal"),y=(0,Pe.Z)(f,2),_=y[0],S=y[1],I=(0,s.useRef)(!1),A=_==="error";(0,s.useEffect)(function(){var Z=!0;return BO(t).then(function(k){!k&&Z&&S("error")}),function(){Z=!1}},[t]),(0,s.useEffect)(function(){a&&!I.current?S("loading"):A&&S("normal")},[t]);var z=function(){S("normal")},L=function(k){I.current=!1,_==="loading"&&k!==null&&k!==void 0&&k.complete&&(k.naturalWidth||k.naturalHeight)&&(I.current=!0,z())},F=A&&o?{src:o}:{onLoad:z,src:t};return[L,F,_]}function dx(e,t){var a=e.x-t.x,o=e.y-t.y;return Math.hypot(a,o)}function FO(e,t,a,o){var f=dx(e,a),y=dx(t,o);if(f===0&&y===0)return[e.x,e.y];var _=f/(f+y),S=e.x+_*(t.x-e.x),I=e.y+_*(t.y-e.y);return[S,I]}function kO(e,t,a,o,f,y,_){var S=f.rotate,I=f.scale,A=f.x,z=f.y,L=(0,s.useState)(!1),F=(0,Pe.Z)(L,2),Z=F[0],k=F[1],W=(0,s.useRef)({point1:{x:0,y:0},point2:{x:0,y:0},eventType:"none"}),H=function(ne){W.current=(0,K.Z)((0,K.Z)({},W.current),ne)},X=function(ne){if(t){ne.stopPropagation(),k(!0);var ae=ne.touches,ue=ae===void 0?[]:ae;ue.length>1?H({point1:{x:ue[0].clientX,y:ue[0].clientY},point2:{x:ue[1].clientX,y:ue[1].clientY},eventType:"touchZoom"}):H({point1:{x:ue[0].clientX-A,y:ue[0].clientY-z},eventType:"move"})}},Q=function(ne){var ae=ne.touches,ue=ae===void 0?[]:ae,fe=W.current,he=fe.point1,ve=fe.point2,ye=fe.eventType;if(ue.length>1&&ye==="touchZoom"){var we={x:ue[0].clientX,y:ue[0].clientY},Se={x:ue[1].clientX,y:ue[1].clientY},ze=FO(he,ve,we,Se),Te=(0,Pe.Z)(ze,2),Fe=Te[0],Ae=Te[1],Ke=dx(we,Se)/dx(he,ve);_(Ke,"touchZoom",Fe,Ae,!0),H({point1:we,point2:Se,eventType:"touchZoom"})}else ye==="move"&&(y({x:ue[0].clientX-he.x,y:ue[0].clientY-he.y},"move"),H({eventType:"move"}))},re=function(){if(a){if(Z&&k(!1),H({eventType:"none"}),o>I)return y({x:0,y:0,scale:o},"touchZoom");var ne=e.current.offsetWidth*I,ae=e.current.offsetHeight*I,ue=e.current.getBoundingClientRect(),fe=ue.left,he=ue.top,ve=S%180!==0,ye=dE(ve?ae:ne,ve?ne:ae,fe,he);ye&&y((0,K.Z)({},ye),"dragRebound")}};return(0,s.useEffect)(function(){var ie;return a&&t&&(ie=np(window,"touchmove",function(ne){return ne.preventDefault()},{passive:!1})),function(){var ne;(ne=ie)===null||ne===void 0||ne.remove()}},[a,t]),{isTouching:Z,onTouchStart:X,onTouchMove:Q,onTouchEnd:re}}var jO=["fallback","src","imgRef"],ZO=["prefixCls","src","alt","imageInfo","fallback","movable","onClose","visible","icons","rootClassName","closeIcon","getContainer","current","count","countRender","scaleStep","minScale","maxScale","transitionName","maskTransitionName","imageRender","imgCommonProps","toolbarRender","onTransform","onChange"],VO=function(t){var a=t.fallback,o=t.src,f=t.imgRef,y=(0,de.Z)(t,jO),_=fE({src:o,fallback:a}),S=(0,Pe.Z)(_,2),I=S[0],A=S[1];return s.createElement("img",(0,Ue.Z)({ref:function(L){f.current=L,I(L)}},y,A))},HO=function(t){var a=t.prefixCls,o=t.src,f=t.alt,y=t.imageInfo,_=t.fallback,S=t.movable,I=S===void 0?!0:S,A=t.onClose,z=t.visible,L=t.icons,F=L===void 0?{}:L,Z=t.rootClassName,k=t.closeIcon,W=t.getContainer,H=t.current,X=H===void 0?0:H,Q=t.count,re=Q===void 0?1:Q,ie=t.countRender,ne=t.scaleStep,ae=ne===void 0?.5:ne,ue=t.minScale,fe=ue===void 0?1:ue,he=t.maxScale,ve=he===void 0?50:he,ye=t.transitionName,we=ye===void 0?"zoom":ye,Se=t.maskTransitionName,ze=Se===void 0?"fade":Se,Te=t.imageRender,Fe=t.imgCommonProps,Ae=t.toolbarRender,Ke=t.onTransform,tt=t.onChange,vt=(0,de.Z)(t,ZO),bt=(0,s.useRef)(),lt=(0,s.useContext)(yb),ct=lt&&re>1,mt=lt&&re>=1,Rt=(0,s.useState)(!0),wt=(0,Pe.Z)(Rt,2),Bt=wt[0],Ct=wt[1],dn=zO(bt,fe,ve,Ke),zn=dn.transform,rn=dn.resetTransform,Cn=dn.updateTransform,Vt=dn.dispatchZoomChange,At=NO(bt,I,z,ae,zn,Cn,Vt),$n=At.isMoving,yn=At.onMouseDown,Ir=At.onWheel,cr=kO(bt,I,z,fe,zn,Cn,Vt),Kn=cr.isTouching,qn=cr.onTouchStart,Pn=cr.onTouchMove,Yn=cr.onTouchEnd,zr=zn.rotate,si=zn.scale,yi=J()((0,ge.Z)({},"".concat(a,"-moving"),$n));(0,s.useEffect)(function(){Bt||Ct(!0)},[Bt]);var Di=function(){rn("close")},Eo=function(){Vt(sv+ae,"zoomIn")},gi=function(){Vt(sv/(sv+ae),"zoomOut")},ai=function(){Cn({rotate:zr+90},"rotateRight")},mi=function(){Cn({rotate:zr-90},"rotateLeft")},Xi=function(){Cn({flipX:!zn.flipX},"flipX")},Pi=function(){Cn({flipY:!zn.flipY},"flipY")},Io=function(){rn("reset")},dr=function(ro){var Ko=X+ro;!Number.isInteger(Ko)||Ko<0||Ko>re-1||(Ct(!1),rn(ro<0?"prev":"next"),tt==null||tt(Ko,X))},er=function(ro){!z||!ct||(ro.keyCode===_t.Z.LEFT?dr(-1):ro.keyCode===_t.Z.RIGHT&&dr(1))},gr=function(ro){z&&(si!==1?Cn({x:0,y:0,scale:1},"doubleClick"):Vt(sv+ae,"doubleClick",ro.clientX,ro.clientY))};(0,s.useEffect)(function(){var Oi=np(window,"keydown",er,!1);return function(){Oi.remove()}},[z,ct,X]);var Zn=s.createElement(VO,(0,Ue.Z)({},Fe,{width:t.width,height:t.height,imgRef:bt,className:"".concat(a,"-img"),alt:f,style:{transform:"translate3d(".concat(zn.x,"px, ").concat(zn.y,"px, 0) scale3d(").concat(zn.flipX?"-":"").concat(si,", ").concat(zn.flipY?"-":"").concat(si,", 1) rotate(").concat(zr,"deg)"),transitionDuration:(!Bt||Kn)&&"0s"},fallback:_,src:o,onWheel:Ir,onMouseDown:yn,onDoubleClick:gr,onTouchStart:qn,onTouchMove:Pn,onTouchEnd:Yn,onTouchCancel:Yn})),ni=(0,K.Z)({url:o,alt:f},y);return s.createElement(s.Fragment,null,s.createElement(rf,(0,Ue.Z)({transitionName:we,maskTransitionName:ze,closable:!1,keyboard:!0,prefixCls:a,onClose:A,visible:z,classNames:{wrapper:yi},rootClassName:Z,getContainer:W},vt,{afterClose:Di}),s.createElement("div",{className:"".concat(a,"-img-wrapper")},Te?Te(Zn,(0,K.Z)({transform:zn,image:ni},lt?{current:X}:{})):Zn)),s.createElement(DO,{visible:z,transform:zn,maskTransitionName:ze,closeIcon:k,getContainer:W,prefixCls:a,rootClassName:Z,icons:F,countRender:ie,showSwitch:ct,showProgress:mt,current:X,count:re,scale:si,minScale:fe,maxScale:ve,toolbarRender:Ae,onActive:dr,onZoomIn:Eo,onZoomOut:gi,onRotateRight:ai,onRotateLeft:mi,onFlipX:Xi,onFlipY:Pi,onClose:A,onReset:Io,zIndex:vt.zIndex!==void 0?vt.zIndex+1:void 0,image:ni}))},hE=HO,XS=["crossOrigin","decoding","draggable","loading","referrerPolicy","sizes","srcSet","useMap","alt"];function UO(e){var t=s.useState({}),a=(0,Pe.Z)(t,2),o=a[0],f=a[1],y=s.useCallback(function(S,I){return f(function(A){return(0,K.Z)((0,K.Z)({},A),{},(0,ge.Z)({},S,I))}),function(){f(function(A){var z=(0,K.Z)({},A);return delete z[S],z})}},[]),_=s.useMemo(function(){return e?e.map(function(S){if(typeof S=="string")return{data:{src:S}};var I={};return Object.keys(S).forEach(function(A){["src"].concat((0,Ie.Z)(XS)).includes(A)&&(I[A]=S[A])}),{data:I}}):Object.keys(o).reduce(function(S,I){var A=o[I],z=A.canPreview,L=A.data;return z&&S.push({data:L,id:I}),S},[])},[e,o]);return[_,y,!!e]}var WO=["visible","onVisibleChange","getContainer","current","movable","minScale","maxScale","countRender","closeIcon","onChange","onTransform","toolbarRender","imageRender"],GO=["src"],XO=function(t){var a,o=t.previewPrefixCls,f=o===void 0?"rc-image-preview":o,y=t.children,_=t.icons,S=_===void 0?{}:_,I=t.items,A=t.preview,z=t.fallback,L=(0,dt.Z)(A)==="object"?A:{},F=L.visible,Z=L.onVisibleChange,k=L.getContainer,W=L.current,H=L.movable,X=L.minScale,Q=L.maxScale,re=L.countRender,ie=L.closeIcon,ne=L.onChange,ae=L.onTransform,ue=L.toolbarRender,fe=L.imageRender,he=(0,de.Z)(L,WO),ve=UO(I),ye=(0,Pe.Z)(ve,3),we=ye[0],Se=ye[1],ze=ye[2],Te=(0,zt.Z)(0,{value:W}),Fe=(0,Pe.Z)(Te,2),Ae=Fe[0],Ke=Fe[1],tt=(0,s.useState)(!1),vt=(0,Pe.Z)(tt,2),bt=vt[0],lt=vt[1],ct=((a=we[Ae])===null||a===void 0?void 0:a.data)||{},mt=ct.src,Rt=(0,de.Z)(ct,GO),wt=(0,zt.Z)(!!F,{value:F,onChange:function(Kn,qn){Z==null||Z(Kn,qn,Ae)}}),Bt=(0,Pe.Z)(wt,2),Ct=Bt[0],dn=Bt[1],zn=(0,s.useState)(null),rn=(0,Pe.Z)(zn,2),Cn=rn[0],Vt=rn[1],At=s.useCallback(function(cr,Kn,qn,Pn){var Yn=ze?we.findIndex(function(zr){return zr.data.src===Kn}):we.findIndex(function(zr){return zr.id===cr});Ke(Yn<0?0:Yn),dn(!0),Vt({x:qn,y:Pn}),lt(!0)},[we,ze]);s.useEffect(function(){Ct?bt||Ke(0):lt(!1)},[Ct]);var $n=function(Kn,qn){Ke(Kn),ne==null||ne(Kn,qn)},yn=function(){dn(!1),Vt(null)},Ir=s.useMemo(function(){return{register:Se,onPreview:At}},[Se,At]);return s.createElement(yb.Provider,{value:Ir},y,s.createElement(hE,(0,Ue.Z)({"aria-hidden":!Ct,movable:H,visible:Ct,prefixCls:f,closeIcon:ie,onClose:yn,mousePosition:Cn,imgCommonProps:Rt,src:mt,fallback:z,icons:S,minScale:X,maxScale:Q,getContainer:k,current:Ae,count:we.length,countRender:re,onTransform:ae,toolbarRender:ue,imageRender:fe,onChange:$n},he)))},KO=XO,mE=0;function qO(e,t){var a=s.useState(function(){return mE+=1,String(mE)}),o=(0,Pe.Z)(a,1),f=o[0],y=s.useContext(yb),_={data:t,canPreview:e};return s.useEffect(function(){if(y)return y.register(f,_)},[]),s.useEffect(function(){y&&y.register(f,_)},[e,t]),f}var YO=["src","alt","onPreviewClose","prefixCls","previewPrefixCls","placeholder","fallback","width","height","style","preview","className","onClick","onError","wrapperClassName","wrapperStyle","rootClassName"],JO=["src","visible","onVisibleChange","getContainer","mask","maskClassName","movable","icons","scaleStep","minScale","maxScale","imageRender","toolbarRender"],pE=function(t){var a=t.src,o=t.alt,f=t.onPreviewClose,y=t.prefixCls,_=y===void 0?"rc-image":y,S=t.previewPrefixCls,I=S===void 0?"".concat(_,"-preview"):S,A=t.placeholder,z=t.fallback,L=t.width,F=t.height,Z=t.style,k=t.preview,W=k===void 0?!0:k,H=t.className,X=t.onClick,Q=t.onError,re=t.wrapperClassName,ie=t.wrapperStyle,ne=t.rootClassName,ae=(0,de.Z)(t,YO),ue=A&&A!==!0,fe=(0,dt.Z)(W)==="object"?W:{},he=fe.src,ve=fe.visible,ye=ve===void 0?void 0:ve,we=fe.onVisibleChange,Se=we===void 0?f:we,ze=fe.getContainer,Te=ze===void 0?void 0:ze,Fe=fe.mask,Ae=fe.maskClassName,Ke=fe.movable,tt=fe.icons,vt=fe.scaleStep,bt=fe.minScale,lt=fe.maxScale,ct=fe.imageRender,mt=fe.toolbarRender,Rt=(0,de.Z)(fe,JO),wt=he!=null?he:a,Bt=(0,zt.Z)(!!ye,{value:ye,onChange:Se}),Ct=(0,Pe.Z)(Bt,2),dn=Ct[0],zn=Ct[1],rn=fE({src:a,isCustomPlaceholder:ue,fallback:z}),Cn=(0,Pe.Z)(rn,3),Vt=Cn[0],At=Cn[1],$n=Cn[2],yn=(0,s.useState)(null),Ir=(0,Pe.Z)(yn,2),cr=Ir[0],Kn=Ir[1],qn=(0,s.useContext)(yb),Pn=!!W,Yn=function(){zn(!1),Kn(null)},zr=J()(_,re,ne,(0,ge.Z)({},"".concat(_,"-error"),$n==="error")),si=(0,s.useMemo)(function(){var gi={};return XS.forEach(function(ai){t[ai]!==void 0&&(gi[ai]=t[ai])}),gi},XS.map(function(gi){return t[gi]})),yi=(0,s.useMemo)(function(){return(0,K.Z)((0,K.Z)({},si),{},{src:wt})},[wt,si]),Di=qO(Pn,yi),Eo=function(ai){var mi=$O(ai.target),Xi=mi.left,Pi=mi.top;qn?qn.onPreview(Di,wt,Xi,Pi):(Kn({x:Xi,y:Pi}),zn(!0)),X==null||X(ai)};return s.createElement(s.Fragment,null,s.createElement("div",(0,Ue.Z)({},ae,{className:zr,onClick:Pn?Eo:X,style:(0,K.Z)({width:L,height:F},ie)}),s.createElement("img",(0,Ue.Z)({},si,{className:J()("".concat(_,"-img"),(0,ge.Z)({},"".concat(_,"-img-placeholder"),A===!0),H),style:(0,K.Z)({height:F},Z),ref:Vt},At,{width:L,height:F,onError:Q})),$n==="loading"&&s.createElement("div",{"aria-hidden":"true",className:"".concat(_,"-placeholder")},A),Fe&&Pn&&s.createElement("div",{className:J()("".concat(_,"-mask"),Ae),style:{display:(Z==null?void 0:Z.display)==="none"?"none":void 0}},Fe)),!qn&&Pn&&s.createElement(hE,(0,Ue.Z)({"aria-hidden":!dn,visible:dn,prefixCls:I,onClose:Yn,mousePosition:cr,src:wt,alt:o,imageInfo:{width:L,height:F},fallback:z,getContainer:Te,icons:tt,movable:Ke,scaleStep:vt,minScale:bt,maxScale:lt,rootClassName:ne,imageRender:ct,imgCommonProps:si,toolbarRender:mt},Rt)))};pE.PreviewGroup=KO;var QO=pE,gE=QO,e3={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"},t3=e3,n3=function(t,a){return s.createElement(En.Z,(0,Ue.Z)({},t,{ref:a,icon:t3}))},r3=s.forwardRef(n3),i3=r3,o3={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"},a3=o3,s3=function(t,a){return s.createElement(En.Z,(0,Ue.Z)({},t,{ref:a,icon:a3}))},l3=s.forwardRef(s3),c3=l3,u3={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"swap",theme:"outlined"},d3=u3,f3=function(t,a){return s.createElement(En.Z,(0,Ue.Z)({},t,{ref:a,icon:d3}))},h3=s.forwardRef(f3),vE=h3,m3={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"},p3=m3,g3=function(t,a){return s.createElement(En.Z,(0,Ue.Z)({},t,{ref:a,icon:p3}))},v3=s.forwardRef(g3),y3=v3,b3={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"},_3=b3,x3=function(t,a){return s.createElement(En.Z,(0,Ue.Z)({},t,{ref:a,icon:_3}))},C3=s.forwardRef(x3),S3=C3;const KS=e=>({position:e||"absolute",inset:0}),w3=e=>{const{iconCls:t,motionDurationSlow:a,paddingXXS:o,marginXXS:f,prefixCls:y,colorTextLightSolid:_}=e;return{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:_,background:new Sl.t("#000").setA(.5).toRgbString(),cursor:"pointer",opacity:0,transition:`opacity ${a}`,[`.${y}-mask-info`]:Object.assign(Object.assign({},nn.vS),{padding:`0 ${(0,me.bf)(o)}`,[t]:{marginInlineEnd:f,svg:{verticalAlign:"baseline"}}})}},E3=e=>{const{previewCls:t,modalMaskBg:a,paddingSM:o,marginXL:f,margin:y,paddingLG:_,previewOperationColorDisabled:S,previewOperationHoverColor:I,motionDurationSlow:A,iconCls:z,colorTextLightSolid:L}=e,F=new Sl.t(a).setA(.1),Z=F.clone().setA(.2);return{[`${t}-footer`]:{position:"fixed",bottom:f,left:{_skip_check_:!0,value:"50%"},display:"flex",flexDirection:"column",alignItems:"center",color:e.previewOperationColor,transform:"translateX(-50%)"},[`${t}-progress`]:{marginBottom:y},[`${t}-close`]:{position:"fixed",top:f,right:{_skip_check_:!0,value:f},display:"flex",color:L,backgroundColor:F.toRgbString(),borderRadius:"50%",padding:o,outline:0,border:0,cursor:"pointer",transition:`all ${A}`,"&:hover":{backgroundColor:Z.toRgbString()},[`& > ${z}`]:{fontSize:e.previewOperationSize}},[`${t}-operations`]:{display:"flex",alignItems:"center",padding:`0 ${(0,me.bf)(_)}`,backgroundColor:F.toRgbString(),borderRadius:100,"&-operation":{marginInlineStart:o,padding:o,cursor:"pointer",transition:`all ${A}`,userSelect:"none",[`&:not(${t}-operations-operation-disabled):hover > ${z}`]:{color:I},"&-disabled":{color:S,cursor:"not-allowed"},"&:first-of-type":{marginInlineStart:0},[`& > ${z}`]:{fontSize:e.previewOperationSize}}}}},I3=e=>{const{modalMaskBg:t,iconCls:a,previewOperationColorDisabled:o,previewCls:f,zIndexPopup:y,motionDurationSlow:_}=e,S=new Sl.t(t).setA(.1),I=S.clone().setA(.2);return{[`${f}-switch-left, ${f}-switch-right`]:{position:"fixed",insetBlockStart:"50%",zIndex:e.calc(y).add(1).equal(),display:"flex",alignItems:"center",justifyContent:"center",width:e.imagePreviewSwitchSize,height:e.imagePreviewSwitchSize,marginTop:e.calc(e.imagePreviewSwitchSize).mul(-1).div(2).equal(),color:e.previewOperationColor,background:S.toRgbString(),borderRadius:"50%",transform:"translateY(-50%)",cursor:"pointer",transition:`all ${_}`,userSelect:"none","&:hover":{background:I.toRgbString()},"&-disabled":{"&, &:hover":{color:o,background:"transparent",cursor:"not-allowed",[`> ${a}`]:{cursor:"not-allowed"}}},[`> ${a}`]:{fontSize:e.previewOperationSize}},[`${f}-switch-left`]:{insetInlineStart:e.marginSM},[`${f}-switch-right`]:{insetInlineEnd:e.marginSM}}},T3=e=>{const{motionEaseOut:t,previewCls:a,motionDurationSlow:o,componentCls:f}=e;return[{[`${f}-preview-root`]:{[a]:{height:"100%",textAlign:"center",pointerEvents:"none"},[`${a}-body`]:Object.assign(Object.assign({},KS()),{overflow:"hidden"}),[`${a}-img`]:{maxWidth:"100%",maxHeight:"70%",verticalAlign:"middle",transform:"scale3d(1, 1, 1)",cursor:"grab",transition:`transform ${o} ${t} 0s`,userSelect:"none","&-wrapper":Object.assign(Object.assign({},KS()),{transition:`transform ${o} ${t} 0s`,display:"flex",justifyContent:"center",alignItems:"center","& > *":{pointerEvents:"auto"},"&::before":{display:"inline-block",width:1,height:"50%",marginInlineEnd:-1,content:'""'}})},[`${a}-moving`]:{[`${a}-preview-img`]:{cursor:"grabbing","&-wrapper":{transitionDuration:"0s"}}}}},{[`${f}-preview-root`]:{[`${a}-wrap`]:{zIndex:e.zIndexPopup}}},{[`${f}-preview-operations-wrapper`]:{position:"fixed",zIndex:e.calc(e.zIndexPopup).add(1).equal()},"&":[E3(e),I3(e)]}]},M3=e=>{const{componentCls:t}=e;return{[t]:{position:"relative",display:"inline-block",[`${t}-img`]:{width:"100%",height:"auto",verticalAlign:"middle"},[`${t}-img-placeholder`]:{backgroundColor:e.colorBgContainerDisabled,backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTQuNSAyLjVoLTEzQS41LjUgMCAwIDAgMSAzdjEwYS41LjUgMCAwIDAgLjUuNWgxM2EuNS41IDAgMCAwIC41LS41VjNhLjUuNSAwIDAgMC0uNS0uNXpNNS4yODEgNC43NWExIDEgMCAwIDEgMCAyIDEgMSAwIDAgMSAwLTJ6bTguMDMgNi44M2EuMTI3LjEyNyAwIDAgMS0uMDgxLjAzSDIuNzY5YS4xMjUuMTI1IDAgMCAxLS4wOTYtLjIwN2wyLjY2MS0zLjE1NmEuMTI2LjEyNiAwIDAgMSAuMTc3LS4wMTZsLjAxNi4wMTZMNy4wOCAxMC4wOWwyLjQ3LTIuOTNhLjEyNi4xMjYgMCAwIDEgLjE3Ny0uMDE2bC4wMTUuMDE2IDMuNTg4IDQuMjQ0YS4xMjcuMTI3IDAgMCAxLS4wMi4xNzV6IiBmaWxsPSIjOEM4QzhDIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=')",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"30%"},[`${t}-mask`]:Object.assign({},w3(e)),[`${t}-mask:hover`]:{opacity:1},[`${t}-placeholder`]:Object.assign({},KS())}}},P3=e=>{const{previewCls:t}=e;return{[`${t}-root`]:(0,cf._y)(e,"zoom"),"&":lf(e,!0)}},O3=e=>({zIndexPopup:e.zIndexPopupBase+80,previewOperationColor:new Sl.t(e.colorTextLightSolid).setA(.65).toRgbString(),previewOperationHoverColor:new Sl.t(e.colorTextLightSolid).setA(.85).toRgbString(),previewOperationColorDisabled:new Sl.t(e.colorTextLightSolid).setA(.25).toRgbString(),previewOperationSize:e.fontSizeIcon*1.5});var yE=(0,oe.I$)("Image",e=>{const t=`${e.componentCls}-preview`,a=(0,kr.IX)(e,{previewCls:t,modalMaskBg:new Sl.t("#000").setA(.45).toRgbString(),imagePreviewSwitchSize:e.controlHeightLG});return[M3(a),T3(a),dh((0,kr.IX)(a,{componentCls:t})),P3(a)]},O3),R3=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const bE={rotateLeft:s.createElement(i3,null),rotateRight:s.createElement(c3,null),zoomIn:s.createElement(y3,null),zoomOut:s.createElement(S3,null),close:s.createElement(Cr.Z,null),left:s.createElement(V,null),right:s.createElement(U.Z,null),flipX:s.createElement(vE,null),flipY:s.createElement(vE,{rotate:90})};var $3=e=>{var{previewPrefixCls:t,preview:a}=e,o=R3(e,["previewPrefixCls","preview"]);const{getPrefixCls:f}=s.useContext(_e.E_),y=f("image",t),_=`${y}-preview`,S=f(),I=(0,Ln.Z)(y),[A,z,L]=yE(y,I),[F]=(0,bn.Cn)("ImagePreview",typeof a=="object"?a.zIndex:void 0),Z=s.useMemo(()=>{var k;if(a===!1)return a;const W=typeof a=="object"?a:{},H=J()(z,L,I,(k=W.rootClassName)!==null&&k!==void 0?k:"");return Object.assign(Object.assign({},W),{transitionName:(0,ir.m)(S,"zoom",W.transitionName),maskTransitionName:(0,ir.m)(S,"fade",W.maskTransitionName),rootClassName:H,zIndex:F})},[a]);return A(s.createElement(gE.PreviewGroup,Object.assign({preview:Z,previewPrefixCls:_,icons:bE},o)))},_E=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const xE=e=>{const{prefixCls:t,preview:a,className:o,rootClassName:f,style:y}=e,_=_E(e,["prefixCls","preview","className","rootClassName","style"]),{getPrefixCls:S,getPopupContainer:I,className:A,style:z,preview:L}=(0,_e.dj)("image"),[F]=(0,rr.Z)("Image"),Z=S("image",t),k=S(),W=(0,Ln.Z)(Z),[H,X,Q]=yE(Z,W),re=J()(f,X,Q,W),ie=J()(o,X,A),[ne]=(0,bn.Cn)("ImagePreview",typeof a=="object"?a.zIndex:void 0),ae=s.useMemo(()=>{if(a===!1)return a;const fe=typeof a=="object"?a:{},{getContainer:he,closeIcon:ve,rootClassName:ye}=fe,we=_E(fe,["getContainer","closeIcon","rootClassName"]);return Object.assign(Object.assign({mask:s.createElement("div",{className:`${Z}-mask-info`},s.createElement(WS,null),F==null?void 0:F.preview),icons:bE},we),{rootClassName:J()(re,ye),getContainer:he!=null?he:I,transitionName:(0,ir.m)(k,"zoom",fe.transitionName),maskTransitionName:(0,ir.m)(k,"fade",fe.maskTransitionName),zIndex:ne,closeIcon:ve!=null?ve:L==null?void 0:L.closeIcon})},[a,F,L==null?void 0:L.closeIcon]),ue=Object.assign(Object.assign({},z),y);return H(s.createElement(gE,Object.assign({prefixCls:Z,preview:ae,rootClassName:re,className:ie,style:ue},_)))};xE.PreviewGroup=$3;var A3=xE,D3=e=>{const{getPrefixCls:t,direction:a}=(0,s.useContext)(_e.E_),{prefixCls:o,className:f}=e,y=t("input-group",o),_=t("input"),[S,I,A]=(0,tp.ZP)(_),z=J()(y,A,{[`${y}-lg`]:e.size==="large",[`${y}-sm`]:e.size==="small",[`${y}-compact`]:e.compact,[`${y}-rtl`]:a==="rtl"},I,f),L=(0,s.useContext)(Tc.aM),F=(0,s.useMemo)(()=>Object.assign(Object.assign({},L),{isFormItemInput:!1}),[L]);return S(s.createElement("span",{className:z,style:e.style,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},s.createElement(Tc.aM.Provider,{value:F},e.children)))},lv=j(58793);const z3=e=>{const{componentCls:t,paddingXS:a}=e;return{[t]:{display:"inline-flex",alignItems:"center",flexWrap:"nowrap",columnGap:a,"&-rtl":{direction:"rtl"},[`${t}-input`]:{textAlign:"center",paddingInline:e.paddingXXS},[`&${t}-sm ${t}-input`]:{paddingInline:e.calc(e.paddingXXS).div(2).equal()},[`&${t}-lg ${t}-input`]:{paddingInline:e.paddingXS}}}};var L3=(0,oe.I$)(["Input","OTP"],e=>{const t=(0,kr.IX)(e,(0,zu.e)(e));return[z3(t)]},zu.T),N3=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},B3=s.forwardRef((e,t)=>{const{value:a,onChange:o,onActiveChange:f,index:y,mask:_}=e,S=N3(e,["value","onChange","onActiveChange","index","mask"]),I=a&&typeof _=="string"?_:a,A=k=>{o(y,k.target.value)},z=s.useRef(null);s.useImperativeHandle(t,()=>z.current);const L=()=>{(0,He.Z)(()=>{var k;const W=(k=z.current)===null||k===void 0?void 0:k.input;document.activeElement===W&&W&&W.select()})},F=k=>{const{key:W,ctrlKey:H,metaKey:X}=k;W==="ArrowLeft"?f(y-1):W==="ArrowRight"?f(y+1):W==="z"&&(H||X)&&k.preventDefault(),L()},Z=k=>{k.key==="Backspace"&&!a&&f(y-1),L()};return s.createElement(lv.Z,Object.assign({type:_===!0?"password":"text"},S,{ref:z,value:I,onInput:A,onFocus:L,onKeyDown:F,onKeyUp:Z,onMouseDown:L,onMouseUp:L}))}),F3=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};function fx(e){return(e||"").split("")}const k3=e=>{const{index:t,prefixCls:a,separator:o}=e,f=typeof o=="function"?o(t):o;return f?s.createElement("span",{className:`${a}-separator`},f):null};var j3=s.forwardRef((e,t)=>{const{prefixCls:a,length:o=6,size:f,defaultValue:y,value:_,onChange:S,formatter:I,separator:A,variant:z,disabled:L,status:F,autoFocus:Z,mask:k,type:W,onInput:H,inputMode:X}=e,Q=F3(e,["prefixCls","length","size","defaultValue","value","onChange","formatter","separator","variant","disabled","status","autoFocus","mask","type","onInput","inputMode"]),{getPrefixCls:re,direction:ie}=s.useContext(_e.E_),ne=re("otp",a),ae=(0,pt.Z)(Q,{aria:!0,data:!0,attr:!0}),[ue,fe,he]=L3(ne),ve=(0,Va.Z)(mt=>f!=null?f:mt),ye=s.useContext(Tc.aM),we=(0,Ya.F)(ye.status,F),Se=s.useMemo(()=>Object.assign(Object.assign({},ye),{status:we,hasFeedback:!1,feedbackIcon:null}),[ye,we]),ze=s.useRef(null),Te=s.useRef({});s.useImperativeHandle(t,()=>({focus:()=>{var mt;(mt=Te.current[0])===null||mt===void 0||mt.focus()},blur:()=>{var mt;for(let Rt=0;Rt<o;Rt+=1)(mt=Te.current[Rt])===null||mt===void 0||mt.blur()},nativeElement:ze.current}));const Fe=mt=>I?I(mt):mt,[Ae,Ke]=s.useState(()=>fx(Fe(y||"")));s.useEffect(()=>{_!==void 0&&Ke(fx(_))},[_]);const tt=(0,ur.Z)(mt=>{Ke(mt),H&&H(mt),S&&mt.length===o&&mt.every(Rt=>Rt)&&mt.some((Rt,wt)=>Ae[wt]!==Rt)&&S(mt.join(""))}),vt=(0,ur.Z)((mt,Rt)=>{let wt=(0,Ie.Z)(Ae);for(let Ct=0;Ct<mt;Ct+=1)wt[Ct]||(wt[Ct]="");Rt.length<=1?wt[mt]=Rt:wt=wt.slice(0,mt).concat(fx(Rt)),wt=wt.slice(0,o);for(let Ct=wt.length-1;Ct>=0&&!wt[Ct];Ct-=1)wt.pop();const Bt=Fe(wt.map(Ct=>Ct||" ").join(""));return wt=fx(Bt).map((Ct,dn)=>Ct===" "&&!wt[dn]?wt[dn]:Ct),wt}),bt=(mt,Rt)=>{var wt;const Bt=vt(mt,Rt),Ct=Math.min(mt+Rt.length,o-1);Ct!==mt&&Bt[mt]!==void 0&&((wt=Te.current[Ct])===null||wt===void 0||wt.focus()),tt(Bt)},lt=mt=>{var Rt;(Rt=Te.current[mt])===null||Rt===void 0||Rt.focus()},ct={variant:z,disabled:L,status:we,mask:k,type:W,inputMode:X};return ue(s.createElement("div",Object.assign({},ae,{ref:ze,className:J()(ne,{[`${ne}-sm`]:ve==="small",[`${ne}-lg`]:ve==="large",[`${ne}-rtl`]:ie==="rtl"},he,fe)}),s.createElement(Tc.aM.Provider,{value:Se},Array.from({length:o}).map((mt,Rt)=>{const wt=`otp-${Rt}`,Bt=Ae[Rt]||"";return s.createElement(s.Fragment,{key:wt},s.createElement(B3,Object.assign({ref:Ct=>{Te.current[Rt]=Ct},index:Rt,size:ve,htmlSize:1,className:`${ne}-input`,onChange:bt,value:Bt,onActiveChange:lt,autoFocus:Rt===0&&Z},ct)),Rt<o-1&&s.createElement(k3,{separator:A,index:Rt,prefixCls:ne}))}))))}),Z3={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},V3=Z3,H3=function(t,a){return s.createElement(En.Z,(0,Ue.Z)({},t,{ref:a,icon:V3}))},U3=s.forwardRef(H3),W3=U3,G3=j(81391),X3=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const K3=e=>e?s.createElement(WS,null):s.createElement(W3,null),q3={click:"onClick",hover:"onMouseOver"};var Y3=s.forwardRef((e,t)=>{const{disabled:a,action:o="click",visibilityToggle:f=!0,iconRender:y=K3}=e,_=s.useContext(cs.Z),S=a!=null?a:_,I=typeof f=="object"&&f.visible!==void 0,[A,z]=(0,s.useState)(()=>I?f.visible:!1),L=(0,s.useRef)(null);s.useEffect(()=>{I&&z(f.visible)},[I,f]);const F=(0,G3.Z)(L),Z=()=>{var ve;if(S)return;A&&F();const ye=!A;z(ye),typeof f=="object"&&((ve=f.onVisibleChange)===null||ve===void 0||ve.call(f,ye))},k=ve=>{const ye=q3[o]||"",we=y(A),Se={[ye]:Z,className:`${ve}-icon`,key:"passwordIcon",onMouseDown:ze=>{ze.preventDefault()},onMouseUp:ze=>{ze.preventDefault()}};return s.cloneElement(s.isValidElement(we)?we:s.createElement("span",null,we),Se)},{className:W,prefixCls:H,inputPrefixCls:X,size:Q}=e,re=X3(e,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:ie}=s.useContext(_e.E_),ne=ie("input",X),ae=ie("input-password",H),ue=f&&k(ae),fe=J()(ae,W,{[`${ae}-${Q}`]:!!Q}),he=Object.assign(Object.assign({},(0,Ci.Z)(re,["suffix","iconRender","visibilityToggle"])),{type:A?"text":"password",className:fe,prefixCls:ne,suffix:ue});return Q&&(he.size=Q),s.createElement(lv.Z,Object.assign({ref:(0,an.sQ)(t,L)},he))}),qS=j(17023),J3=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},Q3=s.forwardRef((e,t)=>{const{prefixCls:a,inputPrefixCls:o,className:f,size:y,suffix:_,enterButton:S=!1,addonAfter:I,loading:A,disabled:z,onSearch:L,onChange:F,onCompositionStart:Z,onCompositionEnd:k}=e,W=J3(e,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),{getPrefixCls:H,direction:X}=s.useContext(_e.E_),Q=s.useRef(!1),re=H("input-search",a),ie=H("input",o),{compactSize:ne}=(0,as.ri)(re,X),ae=(0,Va.Z)(bt=>{var lt;return(lt=y!=null?y:ne)!==null&&lt!==void 0?lt:bt}),ue=s.useRef(null),fe=bt=>{bt!=null&&bt.target&&bt.type==="click"&&L&&L(bt.target.value,bt,{source:"clear"}),F==null||F(bt)},he=bt=>{var lt;document.activeElement===((lt=ue.current)===null||lt===void 0?void 0:lt.input)&&bt.preventDefault()},ve=bt=>{var lt,ct;L&&L((ct=(lt=ue.current)===null||lt===void 0?void 0:lt.input)===null||ct===void 0?void 0:ct.value,bt,{source:"input"})},ye=bt=>{Q.current||A||ve(bt)},we=typeof S=="boolean"?s.createElement(qS.Z,null):null,Se=`${re}-button`;let ze;const Te=S||{},Fe=Te.type&&Te.type.__ANT_BUTTON===!0;Fe||Te.type==="button"?ze=(0,Tn.Tm)(Te,Object.assign({onMouseDown:he,onClick:bt=>{var lt,ct;(ct=(lt=Te==null?void 0:Te.props)===null||lt===void 0?void 0:lt.onClick)===null||ct===void 0||ct.call(lt,bt),ve(bt)},key:"enterButton"},Fe?{className:Se,size:ae}:{})):ze=s.createElement(ks,{className:Se,type:S?"primary":void 0,size:ae,disabled:z,key:"enterButton",onMouseDown:he,onClick:ve,loading:A,icon:we},S),I&&(ze=[ze,(0,Tn.Tm)(I,{key:"addonAfter"})]);const Ae=J()(re,{[`${re}-rtl`]:X==="rtl",[`${re}-${ae}`]:!!ae,[`${re}-with-button`]:!!S},f),Ke=Object.assign(Object.assign({},W),{className:Ae,prefixCls:ie,type:"search"}),tt=bt=>{Q.current=!0,Z==null||Z(bt)},vt=bt=>{Q.current=!1,k==null||k(bt)};return s.createElement(lv.Z,Object.assign({ref:(0,an.sQ)(ue,t),onPressEnter:ye},Ke,{size:ae,onCompositionStart:tt,onCompositionEnd:vt,addonAfter:ze,suffix:_,onChange:fe,disabled:z}))}),CE=j(44885),eR=j(88555),YS=j(68677),tR=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
  pointer-events: none !important;
`,nR=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],JS={},rd;function rR(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&JS[a])return JS[a];var o=window.getComputedStyle(e),f=o.getPropertyValue("box-sizing")||o.getPropertyValue("-moz-box-sizing")||o.getPropertyValue("-webkit-box-sizing"),y=parseFloat(o.getPropertyValue("padding-bottom"))+parseFloat(o.getPropertyValue("padding-top")),_=parseFloat(o.getPropertyValue("border-bottom-width"))+parseFloat(o.getPropertyValue("border-top-width")),S=nR.map(function(A){return"".concat(A,":").concat(o.getPropertyValue(A))}).join(";"),I={sizingStyle:S,paddingSize:y,borderSize:_,boxSizing:f};return t&&a&&(JS[a]=I),I}function iR(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;rd||(rd=document.createElement("textarea"),rd.setAttribute("tab-index","-1"),rd.setAttribute("aria-hidden","true"),rd.setAttribute("name","hiddenTextarea"),document.body.appendChild(rd)),e.getAttribute("wrap")?rd.setAttribute("wrap",e.getAttribute("wrap")):rd.removeAttribute("wrap");var f=rR(e,t),y=f.paddingSize,_=f.borderSize,S=f.boxSizing,I=f.sizingStyle;rd.setAttribute("style","".concat(I,";").concat(tR)),rd.value=e.value||e.placeholder||"";var A=void 0,z=void 0,L,F=rd.scrollHeight;if(S==="border-box"?F+=_:S==="content-box"&&(F-=y),a!==null||o!==null){rd.value=" ";var Z=rd.scrollHeight-y;a!==null&&(A=Z*a,S==="border-box"&&(A=A+y+_),F=Math.max(A,F)),o!==null&&(z=Z*o,S==="border-box"&&(z=z+y+_),L=F>z?"":"hidden",F=Math.min(z,F))}var k={height:F,overflowY:L,resize:"none"};return A&&(k.minHeight=A),z&&(k.maxHeight=z),k}var oR=["prefixCls","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],QS=0,ew=1,tw=2,aR=s.forwardRef(function(e,t){var a=e,o=a.prefixCls,f=a.defaultValue,y=a.value,_=a.autoSize,S=a.onResize,I=a.className,A=a.style,z=a.disabled,L=a.onChange,F=a.onInternalAutoSize,Z=(0,de.Z)(a,oR),k=(0,zt.Z)(f,{value:y,postState:function(Rt){return Rt!=null?Rt:""}}),W=(0,Pe.Z)(k,2),H=W[0],X=W[1],Q=function(Rt){X(Rt.target.value),L==null||L(Rt)},re=s.useRef();s.useImperativeHandle(t,function(){return{textArea:re.current}});var ie=s.useMemo(function(){return _&&(0,dt.Z)(_)==="object"?[_.minRows,_.maxRows]:[]},[_]),ne=(0,Pe.Z)(ie,2),ae=ne[0],ue=ne[1],fe=!!_,he=function(){try{if(document.activeElement===re.current){var Rt=re.current,wt=Rt.selectionStart,Bt=Rt.selectionEnd,Ct=Rt.scrollTop;re.current.setSelectionRange(wt,Bt),re.current.scrollTop=Ct}}catch(dn){}},ve=s.useState(tw),ye=(0,Pe.Z)(ve,2),we=ye[0],Se=ye[1],ze=s.useState(),Te=(0,Pe.Z)(ze,2),Fe=Te[0],Ae=Te[1],Ke=function(){Se(QS)};(0,yl.Z)(function(){fe&&Ke()},[y,ae,ue,fe]),(0,yl.Z)(function(){if(we===QS)Se(ew);else if(we===ew){var mt=iR(re.current,!1,ae,ue);Se(tw),Ae(mt)}else he()},[we]);var tt=s.useRef(),vt=function(){He.Z.cancel(tt.current)},bt=function(Rt){we===tw&&(S==null||S(Rt),_&&(vt(),tt.current=(0,He.Z)(function(){Ke()})))};s.useEffect(function(){return vt},[]);var lt=fe?Fe:null,ct=(0,K.Z)((0,K.Z)({},A),lt);return(we===QS||we===ew)&&(ct.overflowY="hidden",ct.overflowX="hidden"),s.createElement(u.Z,{onResize:bt,disabled:!(_||S)},s.createElement("textarea",(0,Ue.Z)({},Z,{ref:re,style:ct,className:J()(o,I,(0,ge.Z)({},"".concat(o,"-disabled"),z)),disabled:z,value:H,onChange:Q})))}),sR=aR,lR=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","showCount","count","className","style","disabled","hidden","classNames","styles","onResize","onClear","onPressEnter","readOnly","autoSize","onKeyDown"],cR=s.forwardRef(function(e,t){var a,o=e.defaultValue,f=e.value,y=e.onFocus,_=e.onBlur,S=e.onChange,I=e.allowClear,A=e.maxLength,z=e.onCompositionStart,L=e.onCompositionEnd,F=e.suffix,Z=e.prefixCls,k=Z===void 0?"rc-textarea":Z,W=e.showCount,H=e.count,X=e.className,Q=e.style,re=e.disabled,ie=e.hidden,ne=e.classNames,ae=e.styles,ue=e.onResize,fe=e.onClear,he=e.onPressEnter,ve=e.readOnly,ye=e.autoSize,we=e.onKeyDown,Se=(0,de.Z)(e,lR),ze=(0,zt.Z)(o,{value:f,defaultValue:o}),Te=(0,Pe.Z)(ze,2),Fe=Te[0],Ae=Te[1],Ke=Fe==null?"":String(Fe),tt=s.useState(!1),vt=(0,Pe.Z)(tt,2),bt=vt[0],lt=vt[1],ct=s.useRef(!1),mt=s.useState(null),Rt=(0,Pe.Z)(mt,2),wt=Rt[0],Bt=Rt[1],Ct=(0,s.useRef)(null),dn=(0,s.useRef)(null),zn=function(){var dr;return(dr=dn.current)===null||dr===void 0?void 0:dr.textArea},rn=function(){zn().focus()};(0,s.useImperativeHandle)(t,function(){var Io;return{resizableTextArea:dn.current,focus:rn,blur:function(){zn().blur()},nativeElement:((Io=Ct.current)===null||Io===void 0?void 0:Io.nativeElement)||zn()}}),(0,s.useEffect)(function(){lt(function(Io){return!re&&Io})},[re]);var Cn=s.useState(null),Vt=(0,Pe.Z)(Cn,2),At=Vt[0],$n=Vt[1];s.useEffect(function(){if(At){var Io;(Io=zn()).setSelectionRange.apply(Io,(0,Ie.Z)(At))}},[At]);var yn=(0,eR.Z)(H,W),Ir=(a=yn.max)!==null&&a!==void 0?a:A,cr=Number(Ir)>0,Kn=yn.strategy(Ke),qn=!!Ir&&Kn>Ir,Pn=function(dr,er){var gr=er;!ct.current&&yn.exceedFormatter&&yn.max&&yn.strategy(er)>yn.max&&(gr=yn.exceedFormatter(er,{max:yn.max}),er!==gr&&$n([zn().selectionStart||0,zn().selectionEnd||0])),Ae(gr),(0,YS.rJ)(dr.currentTarget,dr,S,gr)},Yn=function(dr){ct.current=!0,z==null||z(dr)},zr=function(dr){ct.current=!1,Pn(dr,dr.currentTarget.value),L==null||L(dr)},si=function(dr){Pn(dr,dr.target.value)},yi=function(dr){dr.key==="Enter"&&he&&he(dr),we==null||we(dr)},Di=function(dr){lt(!0),y==null||y(dr)},Eo=function(dr){lt(!1),_==null||_(dr)},gi=function(dr){Ae(""),rn(),(0,YS.rJ)(zn(),dr,S)},ai=F,mi;yn.show&&(yn.showFormatter?mi=yn.showFormatter({value:Ke,count:Kn,maxLength:Ir}):mi="".concat(Kn).concat(cr?" / ".concat(Ir):""),ai=s.createElement(s.Fragment,null,ai,s.createElement("span",{className:J()("".concat(k,"-data-count"),ne==null?void 0:ne.count),style:ae==null?void 0:ae.count},mi)));var Xi=function(dr){var er;ue==null||ue(dr),(er=zn())!==null&&er!==void 0&&er.style.height&&Bt(!0)},Pi=!ye&&!W&&!I;return s.createElement(CE.Q,{ref:Ct,value:Ke,allowClear:I,handleReset:gi,suffix:ai,prefixCls:k,classNames:(0,K.Z)((0,K.Z)({},ne),{},{affixWrapper:J()(ne==null?void 0:ne.affixWrapper,(0,ge.Z)((0,ge.Z)({},"".concat(k,"-show-count"),W),"".concat(k,"-textarea-allow-clear"),I))}),disabled:re,focused:bt,className:J()(X,qn&&"".concat(k,"-out-of-range")),style:(0,K.Z)((0,K.Z)({},Q),wt&&!Pi?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":typeof mi=="string"?mi:void 0}},hidden:ie,readOnly:ve,onClear:fe},s.createElement(sR,(0,Ue.Z)({},Se,{autoSize:ye,maxLength:A,onKeyDown:yi,onChange:si,onFocus:Di,onBlur:Eo,onCompositionStart:Yn,onCompositionEnd:zr,className:J()(ne==null?void 0:ne.textarea),style:(0,K.Z)((0,K.Z)({},ae==null?void 0:ae.textarea),{},{resize:Q==null?void 0:Q.resize}),disabled:re,prefixCls:k,onResize:Xi,ref:dn,readOnly:ve})))}),uR=cR,SE=uR,wE=j(93473);const dR=e=>{const{componentCls:t,paddingLG:a}=e,o=`${t}-textarea`;return{[o]:{position:"relative","&-show-count":{[`> ${t}`]:{height:"100%"},[`${t}-data-count`]:{position:"absolute",bottom:e.calc(e.fontSize).mul(e.lineHeight).mul(-1).equal(),insetInlineEnd:0,color:e.colorTextDescription,whiteSpace:"nowrap",pointerEvents:"none"}},[`
        &-allow-clear > ${t},
        &-affix-wrapper${o}-has-feedback ${t}
      `]:{paddingInlineEnd:a},[`&-affix-wrapper${t}-affix-wrapper`]:{padding:0,[`> textarea${t}`]:{fontSize:"inherit",border:"none",outline:"none",background:"transparent",minHeight:e.calc(e.controlHeight).sub(e.calc(e.lineWidth).mul(2)).equal(),"&:focus":{boxShadow:"none !important"}},[`${t}-suffix`]:{margin:0,"> *:not(:last-child)":{marginInline:0},[`${t}-clear-icon`]:{position:"absolute",insetInlineEnd:e.paddingInline,insetBlockStart:e.paddingXS},[`${o}-suffix`]:{position:"absolute",top:0,insetInlineEnd:e.paddingInline,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto",pointerEvents:"none"}}},[`&-affix-wrapper${t}-affix-wrapper-sm`]:{[`${t}-suffix`]:{[`${t}-clear-icon`]:{insetInlineEnd:e.paddingInlineSM}}}}}};var fR=(0,oe.I$)(["Input","TextArea"],e=>{const t=(0,kr.IX)(e,(0,zu.e)(e));return[dR(t)]},zu.T,{resetFont:!1}),hR=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},EE=(0,s.forwardRef)((e,t)=>{var a;const{prefixCls:o,bordered:f=!0,size:y,disabled:_,status:S,allowClear:I,classNames:A,rootClassName:z,className:L,style:F,styles:Z,variant:k}=e,W=hR(e,["prefixCls","bordered","size","disabled","status","allowClear","classNames","rootClassName","className","style","styles","variant"]),{getPrefixCls:H,direction:X,allowClear:Q,autoComplete:re,className:ie,style:ne,classNames:ae,styles:ue}=(0,_e.dj)("textArea"),fe=s.useContext(cs.Z),he=_!=null?_:fe,{status:ve,hasFeedback:ye,feedbackIcon:we}=s.useContext(Tc.aM),Se=(0,Ya.F)(ve,S),ze=s.useRef(null);s.useImperativeHandle(t,()=>{var Bt;return{resizableTextArea:(Bt=ze.current)===null||Bt===void 0?void 0:Bt.resizableTextArea,focus:Ct=>{var dn,zn;(0,YS.nH)((zn=(dn=ze.current)===null||dn===void 0?void 0:dn.resizableTextArea)===null||zn===void 0?void 0:zn.textArea,Ct)},blur:()=>{var Ct;return(Ct=ze.current)===null||Ct===void 0?void 0:Ct.blur()}}});const Te=H("input",o),Fe=(0,Ln.Z)(Te),[Ae,Ke,tt]=(0,tp.TI)(Te,z),[vt]=fR(Te,Fe),{compactSize:bt,compactItemClassnames:lt}=(0,as.ri)(Te,X),ct=(0,Va.Z)(Bt=>{var Ct;return(Ct=y!=null?y:bt)!==null&&Ct!==void 0?Ct:Bt}),[mt,Rt]=(0,kf.Z)("textArea",k,f),wt=(0,wE.Z)(I!=null?I:Q);return Ae(vt(s.createElement(SE,Object.assign({autoComplete:re},W,{style:Object.assign(Object.assign({},ne),F),styles:Object.assign(Object.assign({},ue),Z),disabled:he,allowClear:wt,className:J()(tt,Fe,L,z,lt,ie),classNames:Object.assign(Object.assign(Object.assign({},A),ae),{textarea:J()({[`${Te}-sm`]:ct==="small",[`${Te}-lg`]:ct==="large"},Ke,A==null?void 0:A.textarea,ae.textarea),variant:J()({[`${Te}-${mt}`]:Rt},(0,Ya.Z)(Te,Se)),affixWrapper:J()(`${Te}-textarea-affix-wrapper`,{[`${Te}-affix-wrapper-rtl`]:X==="rtl",[`${Te}-affix-wrapper-sm`]:ct==="small",[`${Te}-affix-wrapper-lg`]:ct==="large",[`${Te}-textarea-show-count`]:e.showCount||((a=e.count)===null||a===void 0?void 0:a.show)},Ke)}),prefixCls:Te,suffix:ye&&s.createElement("span",{className:`${Te}-textarea-suffix`},we),ref:ze}))))});const cv=lv.Z;cv.Group=D3,cv.Search=Q3,cv.TextArea=EE,cv.Password=Y3,cv.OTP=j3;var mR=cv,pR=j(33839);function gR(e,t,a){return typeof a=="boolean"?a:e.length?!0:(0,ac.Z)(t).some(f=>f.type===Ju)}var IE=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};function hx(e){let{suffixCls:t,tagName:a,displayName:o}=e;return f=>s.forwardRef((_,S)=>s.createElement(f,Object.assign({ref:S,suffixCls:t,tagName:a},_)))}const nw=s.forwardRef((e,t)=>{const{prefixCls:a,suffixCls:o,className:f,tagName:y}=e,_=IE(e,["prefixCls","suffixCls","className","tagName"]),{getPrefixCls:S}=s.useContext(_e.E_),I=S("layout",a),[A,z,L]=Bv(I),F=o?`${I}-${o}`:I;return A(s.createElement(y,Object.assign({className:J()(a||F,f,z,L),ref:t},_)))}),vR=s.forwardRef((e,t)=>{const{direction:a}=s.useContext(_e.E_),[o,f]=s.useState([]),{prefixCls:y,className:_,rootClassName:S,children:I,hasSider:A,tagName:z,style:L}=e,F=IE(e,["prefixCls","className","rootClassName","children","hasSider","tagName","style"]),Z=(0,Ci.Z)(F,["suffixCls"]),{getPrefixCls:k,className:W,style:H}=(0,_e.dj)("layout"),X=k("layout",y),Q=gR(o,I,A),[re,ie,ne]=Bv(X),ae=J()(X,{[`${X}-has-sider`]:Q,[`${X}-rtl`]:a==="rtl"},W,_,S,ie,ne),ue=s.useMemo(()=>({siderHook:{addSider:fe=>{f(he=>[].concat((0,Ie.Z)(he),[fe]))},removeSider:fe=>{f(he=>he.filter(ve=>ve!==fe))}}}),[]);return re(s.createElement(Rm.Provider,{value:ue},s.createElement(z,Object.assign({ref:t,className:ae,style:Object.assign(Object.assign({},H),L)},Z),I)))}),yR=hx({tagName:"div",displayName:"Layout"})(vR),bR=hx({suffixCls:"header",tagName:"header",displayName:"Header"})(nw),_R=hx({suffixCls:"footer",tagName:"footer",displayName:"Footer"})(nw),xR=hx({suffixCls:"content",tagName:"main",displayName:"Content"})(nw);var CR=yR;const uv=CR;uv.Header=bR,uv.Footer=_R,uv.Content=xR,uv.Sider=Ju,uv._InternalSiderContext=jp;var SR=uv,rw=function(){const e=Object.assign({},arguments.length<=0?void 0:arguments[0]);for(let t=1;t<arguments.length;t++){const a=t<0||arguments.length<=t?void 0:arguments[t];a&&Object.keys(a).forEach(o=>{const f=a[o];f!==void 0&&(e[o]=f)})}return e},TE=j(78769),wR={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"},ER=wR,IR=function(t,a){return s.createElement(En.Z,(0,Ue.Z)({},t,{ref:a,icon:ER}))},TR=s.forwardRef(IR),ME=TR,MR={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"},PR=MR,OR=function(t,a){return s.createElement(En.Z,(0,Ue.Z)({},t,{ref:a,icon:PR}))},RR=s.forwardRef(OR),PE=RR,$R={items_per_page:"\u6761/\u9875",jump_to:"\u8DF3\u81F3",jump_to_confirm:"\u786E\u5B9A",page:"\u9875",prev_page:"\u4E0A\u4E00\u9875",next_page:"\u4E0B\u4E00\u9875",prev_5:"\u5411\u524D 5 \u9875",next_5:"\u5411\u540E 5 \u9875",prev_3:"\u5411\u524D 3 \u9875",next_3:"\u5411\u540E 3 \u9875",page_size:"\u9875\u7801"},AR=$R,DR=[10,20,50,100],zR=function(t){var a=t.pageSizeOptions,o=a===void 0?DR:a,f=t.locale,y=t.changeSize,_=t.pageSize,S=t.goButton,I=t.quickGo,A=t.rootPrefixCls,z=t.disabled,L=t.buildOptionText,F=t.showSizeChanger,Z=t.sizeChangerRender,k=s.useState(""),W=(0,Pe.Z)(k,2),H=W[0],X=W[1],Q=function(){return!H||Number.isNaN(H)?void 0:Number(H)},re=typeof L=="function"?L:function(we){return"".concat(we," ").concat(f.items_per_page)},ie=function(Se){X(Se.target.value)},ne=function(Se){S||H===""||(X(""),!(Se.relatedTarget&&(Se.relatedTarget.className.indexOf("".concat(A,"-item-link"))>=0||Se.relatedTarget.className.indexOf("".concat(A,"-item"))>=0))&&(I==null||I(Q())))},ae=function(Se){H!==""&&(Se.keyCode===_t.Z.ENTER||Se.type==="click")&&(X(""),I==null||I(Q()))},ue=function(){return o.some(function(Se){return Se.toString()===_.toString()})?o:o.concat([_]).sort(function(Se,ze){var Te=Number.isNaN(Number(Se))?0:Number(Se),Fe=Number.isNaN(Number(ze))?0:Number(ze);return Te-Fe})},fe="".concat(A,"-options");if(!F&&!I)return null;var he=null,ve=null,ye=null;return F&&Z&&(he=Z({disabled:z,size:_,onSizeChange:function(Se){y==null||y(Number(Se))},"aria-label":f.page_size,className:"".concat(fe,"-size-changer"),options:ue().map(function(we){return{label:re(we),value:we}})})),I&&(S&&(ye=typeof S=="boolean"?s.createElement("button",{type:"button",onClick:ae,onKeyUp:ae,disabled:z,className:"".concat(fe,"-quick-jumper-button")},f.jump_to_confirm):s.createElement("span",{onClick:ae,onKeyUp:ae},S)),ve=s.createElement("div",{className:"".concat(fe,"-quick-jumper")},f.jump_to,s.createElement("input",{disabled:z,type:"text",value:H,onChange:ie,onKeyUp:ae,onBlur:ne,"aria-label":f.page}),f.page,ye)),s.createElement("li",{className:fe},he,ve)},LR=zR,NR=function(t){var a=t.rootPrefixCls,o=t.page,f=t.active,y=t.className,_=t.showTitle,S=t.onClick,I=t.onKeyPress,A=t.itemRender,z="".concat(a,"-item"),L=J()(z,"".concat(z,"-").concat(o),(0,ge.Z)((0,ge.Z)({},"".concat(z,"-active"),f),"".concat(z,"-disabled"),!o),y),F=function(){S(o)},Z=function(H){I(H,S,o)},k=A(o,"page",s.createElement("a",{rel:"nofollow"},o));return k?s.createElement("li",{title:_?String(o):null,className:L,onClick:F,onKeyDown:Z,tabIndex:0},k):null},bb=NR,BR=function(t,a,o){return o};function iw(){}function OE(e){var t=Number(e);return typeof t=="number"&&!Number.isNaN(t)&&isFinite(t)&&Math.floor(t)===t}function Sg(e,t,a){var o=typeof e=="undefined"?t:e;return Math.floor((a-1)/o)+1}var FR=function(t){var a=t.prefixCls,o=a===void 0?"rc-pagination":a,f=t.selectPrefixCls,y=f===void 0?"rc-select":f,_=t.className,S=t.current,I=t.defaultCurrent,A=I===void 0?1:I,z=t.total,L=z===void 0?0:z,F=t.pageSize,Z=t.defaultPageSize,k=Z===void 0?10:Z,W=t.onChange,H=W===void 0?iw:W,X=t.hideOnSinglePage,Q=t.align,re=t.showPrevNextJumpers,ie=re===void 0?!0:re,ne=t.showQuickJumper,ae=t.showLessItems,ue=t.showTitle,fe=ue===void 0?!0:ue,he=t.onShowSizeChange,ve=he===void 0?iw:he,ye=t.locale,we=ye===void 0?AR:ye,Se=t.style,ze=t.totalBoundaryShowSizeChanger,Te=ze===void 0?50:ze,Fe=t.disabled,Ae=t.simple,Ke=t.showTotal,tt=t.showSizeChanger,vt=tt===void 0?L>Te:tt,bt=t.sizeChangerRender,lt=t.pageSizeOptions,ct=t.itemRender,mt=ct===void 0?BR:ct,Rt=t.jumpPrevIcon,wt=t.jumpNextIcon,Bt=t.prevIcon,Ct=t.nextIcon,dn=s.useRef(null),zn=(0,zt.Z)(10,{value:F,defaultValue:k}),rn=(0,Pe.Z)(zn,2),Cn=rn[0],Vt=rn[1],At=(0,zt.Z)(1,{value:S,defaultValue:A,postState:function(hs){return Math.max(1,Math.min(hs,Sg(void 0,Cn,L)))}}),$n=(0,Pe.Z)(At,2),yn=$n[0],Ir=$n[1],cr=s.useState(yn),Kn=(0,Pe.Z)(cr,2),qn=Kn[0],Pn=Kn[1];(0,s.useEffect)(function(){Pn(yn)},[yn]);var Yn=H!==iw,zr="current"in t,si=Math.max(1,yn-(ae?3:5)),yi=Math.min(Sg(void 0,Cn,L),yn+(ae?3:5));function Di($a,hs){var Ts=$a||s.createElement("button",{type:"button","aria-label":hs,className:"".concat(o,"-item-link")});return typeof $a=="function"&&(Ts=s.createElement($a,(0,K.Z)({},t))),Ts}function Eo($a){var hs=$a.target.value,Ts=Sg(void 0,Cn,L),Rl;return hs===""?Rl=hs:Number.isNaN(Number(hs))?Rl=qn:hs>=Ts?Rl=Ts:Rl=Number(hs),Rl}function gi($a){return OE($a)&&$a!==yn&&OE(L)&&L>0}var ai=L>Cn?ne:!1;function mi($a){($a.keyCode===_t.Z.UP||$a.keyCode===_t.Z.DOWN)&&$a.preventDefault()}function Xi($a){var hs=Eo($a);switch(hs!==qn&&Pn(hs),$a.keyCode){case _t.Z.ENTER:dr(hs);break;case _t.Z.UP:dr(hs-1);break;case _t.Z.DOWN:dr(hs+1);break;default:break}}function Pi($a){dr(Eo($a))}function Io($a){var hs=Sg($a,Cn,L),Ts=yn>hs&&hs!==0?hs:yn;Vt($a),Pn(Ts),ve==null||ve(yn,$a),Ir(Ts),H==null||H(Ts,$a)}function dr($a){if(gi($a)&&!Fe){var hs=Sg(void 0,Cn,L),Ts=$a;return $a>hs?Ts=hs:$a<1&&(Ts=1),Ts!==qn&&Pn(Ts),Ir(Ts),H==null||H(Ts,Cn),Ts}return yn}var er=yn>1,gr=yn<Sg(void 0,Cn,L);function Zn(){er&&dr(yn-1)}function ni(){gr&&dr(yn+1)}function Oi(){dr(si)}function ro(){dr(yi)}function Ko($a,hs){if($a.key==="Enter"||$a.charCode===_t.Z.ENTER||$a.keyCode===_t.Z.ENTER){for(var Ts=arguments.length,Rl=new Array(Ts>2?Ts-2:0),ku=2;ku<Ts;ku++)Rl[ku-2]=arguments[ku];hs.apply(void 0,Rl)}}function Oa($a){Ko($a,Zn)}function ta($a){Ko($a,ni)}function Is($a){Ko($a,Oi)}function Fa($a){Ko($a,ro)}function Ua($a){var hs=mt($a,"prev",Di(Bt,"prev page"));return s.isValidElement(hs)?s.cloneElement(hs,{disabled:!er}):hs}function pa($a){var hs=mt($a,"next",Di(Ct,"next page"));return s.isValidElement(hs)?s.cloneElement(hs,{disabled:!gr}):hs}function rs($a){($a.type==="click"||$a.keyCode===_t.Z.ENTER)&&dr(qn)}var Ls=null,Co=(0,pt.Z)(t,{aria:!0,data:!0}),Go=Ke&&s.createElement("li",{className:"".concat(o,"-total-text")},Ke(L,[L===0?0:(yn-1)*Cn+1,yn*Cn>L?L:yn*Cn])),Ta=null,Wa=Sg(void 0,Cn,L);if(X&&L<=Cn)return null;var ds=[],sl={rootPrefixCls:o,onClick:dr,onKeyPress:Ko,showTitle:fe,itemRender:mt,page:-1},Ol=yn-1>0?yn-1:0,xl=yn+1<Wa?yn+1:Wa,Zl=ne&&ne.goButton,fa=(0,dt.Z)(Ae)==="object"?Ae.readOnly:!Ae,Uo=Zl,Wo=null;Ae&&(Zl&&(typeof Zl=="boolean"?Uo=s.createElement("button",{type:"button",onClick:rs,onKeyUp:rs},we.jump_to_confirm):Uo=s.createElement("span",{onClick:rs,onKeyUp:rs},Zl),Uo=s.createElement("li",{title:fe?"".concat(we.jump_to).concat(yn,"/").concat(Wa):null,className:"".concat(o,"-simple-pager")},Uo)),Wo=s.createElement("li",{title:fe?"".concat(yn,"/").concat(Wa):null,className:"".concat(o,"-simple-pager")},fa?qn:s.createElement("input",{type:"text","aria-label":we.jump_to,value:qn,disabled:Fe,onKeyDown:mi,onKeyUp:Xi,onChange:Xi,onBlur:Pi,size:3}),s.createElement("span",{className:"".concat(o,"-slash")},"/"),Wa));var Do=ae?1:2;if(Wa<=3+Do*2){Wa||ds.push(s.createElement(bb,(0,Ue.Z)({},sl,{key:"noPager",page:1,className:"".concat(o,"-item-disabled")})));for(var fs=1;fs<=Wa;fs+=1)ds.push(s.createElement(bb,(0,Ue.Z)({},sl,{key:fs,page:fs,active:yn===fs})))}else{var Ns=ae?we.prev_3:we.prev_5,La=ae?we.next_3:we.next_5,xa=mt(si,"jump-prev",Di(Rt,"prev page")),_s=mt(yi,"jump-next",Di(wt,"next page"));ie&&(Ls=xa?s.createElement("li",{title:fe?Ns:null,key:"prev",onClick:Oi,tabIndex:0,onKeyDown:Is,className:J()("".concat(o,"-jump-prev"),(0,ge.Z)({},"".concat(o,"-jump-prev-custom-icon"),!!Rt))},xa):null,Ta=_s?s.createElement("li",{title:fe?La:null,key:"next",onClick:ro,tabIndex:0,onKeyDown:Fa,className:J()("".concat(o,"-jump-next"),(0,ge.Z)({},"".concat(o,"-jump-next-custom-icon"),!!wt))},_s):null);var Cs=Math.max(1,yn-Do),qs=Math.min(yn+Do,Wa);yn-1<=Do&&(qs=1+Do*2),Wa-yn<=Do&&(Cs=Wa-Do*2);for(var ya=Cs;ya<=qs;ya+=1)ds.push(s.createElement(bb,(0,Ue.Z)({},sl,{key:ya,page:ya,active:yn===ya})));if(yn-1>=Do*2&&yn!==3&&(ds[0]=s.cloneElement(ds[0],{className:J()("".concat(o,"-item-after-jump-prev"),ds[0].props.className)}),ds.unshift(Ls)),Wa-yn>=Do*2&&yn!==Wa-2){var Lo=ds[ds.length-1];ds[ds.length-1]=s.cloneElement(Lo,{className:J()("".concat(o,"-item-before-jump-next"),Lo.props.className)}),ds.push(Ta)}Cs!==1&&ds.unshift(s.createElement(bb,(0,Ue.Z)({},sl,{key:1,page:1}))),qs!==Wa&&ds.push(s.createElement(bb,(0,Ue.Z)({},sl,{key:Wa,page:Wa})))}var Ra=Ua(Ol);if(Ra){var ps=!er||!Wa;Ra=s.createElement("li",{title:fe?we.prev_page:null,onClick:Zn,tabIndex:ps?null:0,onKeyDown:Oa,className:J()("".concat(o,"-prev"),(0,ge.Z)({},"".concat(o,"-disabled"),ps)),"aria-disabled":ps},Ra)}var Zs=pa(xl);if(Zs){var Ys,Gl;Ae?(Ys=!gr,Gl=er?0:null):(Ys=!gr||!Wa,Gl=Ys?null:0),Zs=s.createElement("li",{title:fe?we.next_page:null,onClick:ni,tabIndex:Gl,onKeyDown:ta,className:J()("".concat(o,"-next"),(0,ge.Z)({},"".concat(o,"-disabled"),Ys)),"aria-disabled":Ys},Zs)}var Js=J()(o,_,(0,ge.Z)((0,ge.Z)((0,ge.Z)((0,ge.Z)((0,ge.Z)({},"".concat(o,"-start"),Q==="start"),"".concat(o,"-center"),Q==="center"),"".concat(o,"-end"),Q==="end"),"".concat(o,"-simple"),Ae),"".concat(o,"-disabled"),Fe));return s.createElement("ul",(0,Ue.Z)({className:Js,style:Se,ref:dn},Co),Go,Ra,Ae?Wo:ds,Zs,s.createElement(LR,{locale:we,rootPrefixCls:o,disabled:Fe,selectPrefixCls:y,changeSize:Io,pageSize:Cn,pageSizeOptions:lt,quickGo:ai?dr:null,goButton:Uo,showSizeChanger:vt,sizeChangerRender:bt}))},kR=FR,jR=j(18507);const ZR=e=>{const{componentCls:t}=e;return{[`${t}-disabled`]:{"&, &:hover":{cursor:"not-allowed",[`${t}-item-link`]:{color:e.colorTextDisabled,cursor:"not-allowed"}},"&:focus-visible":{cursor:"not-allowed",[`${t}-item-link`]:{color:e.colorTextDisabled,cursor:"not-allowed"}}},[`&${t}-disabled`]:{cursor:"not-allowed",[`${t}-item`]:{cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},a:{color:e.colorTextDisabled,backgroundColor:"transparent",border:"none",cursor:"not-allowed"},"&-active":{borderColor:e.colorBorder,backgroundColor:e.itemActiveBgDisabled,"&:hover, &:active":{backgroundColor:e.itemActiveBgDisabled},a:{color:e.itemActiveColorDisabled}}},[`${t}-item-link`]:{color:e.colorTextDisabled,cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},[`${t}-simple&`]:{backgroundColor:"transparent","&:hover, &:active":{backgroundColor:"transparent"}}},[`${t}-simple-pager`]:{color:e.colorTextDisabled},[`${t}-jump-prev, ${t}-jump-next`]:{[`${t}-item-link-icon`]:{opacity:0},[`${t}-item-ellipsis`]:{opacity:1}}},[`&${t}-simple`]:{[`${t}-prev, ${t}-next`]:{[`&${t}-disabled ${t}-item-link`]:{"&:hover, &:active":{backgroundColor:"transparent"}}}}}},VR=e=>{const{componentCls:t}=e;return{[`&${t}-mini ${t}-total-text, &${t}-mini ${t}-simple-pager`]:{height:e.itemSizeSM,lineHeight:(0,me.bf)(e.itemSizeSM)},[`&${t}-mini ${t}-item`]:{minWidth:e.itemSizeSM,height:e.itemSizeSM,margin:0,lineHeight:(0,me.bf)(e.calc(e.itemSizeSM).sub(2).equal())},[`&${t}-mini:not(${t}-disabled) ${t}-item:not(${t}-item-active)`]:{backgroundColor:"transparent",borderColor:"transparent","&:hover":{backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive}},[`&${t}-mini ${t}-prev, &${t}-mini ${t}-next`]:{minWidth:e.itemSizeSM,height:e.itemSizeSM,margin:0,lineHeight:(0,me.bf)(e.itemSizeSM)},[`&${t}-mini:not(${t}-disabled)`]:{[`${t}-prev, ${t}-next`]:{[`&:hover ${t}-item-link`]:{backgroundColor:e.colorBgTextHover},[`&:active ${t}-item-link`]:{backgroundColor:e.colorBgTextActive},[`&${t}-disabled:hover ${t}-item-link`]:{backgroundColor:"transparent"}}},[`
    &${t}-mini ${t}-prev ${t}-item-link,
    &${t}-mini ${t}-next ${t}-item-link
    `]:{backgroundColor:"transparent",borderColor:"transparent","&::after":{height:e.itemSizeSM,lineHeight:(0,me.bf)(e.itemSizeSM)}},[`&${t}-mini ${t}-jump-prev, &${t}-mini ${t}-jump-next`]:{height:e.itemSizeSM,marginInlineEnd:0,lineHeight:(0,me.bf)(e.itemSizeSM)},[`&${t}-mini ${t}-options`]:{marginInlineStart:e.paginationMiniOptionsMarginInlineStart,"&-size-changer":{top:e.miniOptionsSizeChangerTop},"&-quick-jumper":{height:e.itemSizeSM,lineHeight:(0,me.bf)(e.itemSizeSM),input:Object.assign(Object.assign({},(0,tp.x0)(e)),{width:e.paginationMiniQuickJumperInputWidth,height:e.controlHeightSM})}}}},HR=e=>{const{componentCls:t}=e;return{[`
    &${t}-simple ${t}-prev,
    &${t}-simple ${t}-next
    `]:{height:e.itemSizeSM,lineHeight:(0,me.bf)(e.itemSizeSM),verticalAlign:"top",[`${t}-item-link`]:{height:e.itemSizeSM,backgroundColor:"transparent",border:0,"&:hover":{backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive},"&::after":{height:e.itemSizeSM,lineHeight:(0,me.bf)(e.itemSizeSM)}}},[`&${t}-simple ${t}-simple-pager`]:{display:"inline-block",height:e.itemSizeSM,marginInlineEnd:e.marginXS,input:{boxSizing:"border-box",height:"100%",padding:`0 ${(0,me.bf)(e.paginationItemPaddingInline)}`,textAlign:"center",backgroundColor:e.itemInputBg,border:`${(0,me.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadius,outline:"none",transition:`border-color ${e.motionDurationMid}`,color:"inherit","&:hover":{borderColor:e.colorPrimary},"&:focus":{borderColor:e.colorPrimaryHover,boxShadow:`${(0,me.bf)(e.inputOutlineOffset)} 0 ${(0,me.bf)(e.controlOutlineWidth)} ${e.controlOutline}`},"&[disabled]":{color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,cursor:"not-allowed"}}}}},UR=e=>{const{componentCls:t}=e;return{[`${t}-jump-prev, ${t}-jump-next`]:{outline:0,[`${t}-item-container`]:{position:"relative",[`${t}-item-link-icon`]:{color:e.colorPrimary,fontSize:e.fontSizeSM,opacity:0,transition:`all ${e.motionDurationMid}`,"&-svg":{top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,margin:"auto"}},[`${t}-item-ellipsis`]:{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,display:"block",margin:"auto",color:e.colorTextDisabled,letterSpacing:e.paginationEllipsisLetterSpacing,textAlign:"center",textIndent:e.paginationEllipsisTextIndent,opacity:1,transition:`all ${e.motionDurationMid}`}},"&:hover":{[`${t}-item-link-icon`]:{opacity:1},[`${t}-item-ellipsis`]:{opacity:0}}},[`
    ${t}-prev,
    ${t}-jump-prev,
    ${t}-jump-next
    `]:{marginInlineEnd:e.marginXS},[`
    ${t}-prev,
    ${t}-next,
    ${t}-jump-prev,
    ${t}-jump-next
    `]:{display:"inline-block",minWidth:e.itemSize,height:e.itemSize,color:e.colorText,fontFamily:e.fontFamily,lineHeight:(0,me.bf)(e.itemSize),textAlign:"center",verticalAlign:"middle",listStyle:"none",borderRadius:e.borderRadius,cursor:"pointer",transition:`all ${e.motionDurationMid}`},[`${t}-prev, ${t}-next`]:{outline:0,button:{color:e.colorText,cursor:"pointer",userSelect:"none"},[`${t}-item-link`]:{display:"block",width:"100%",height:"100%",padding:0,fontSize:e.fontSizeSM,textAlign:"center",backgroundColor:"transparent",border:`${(0,me.bf)(e.lineWidth)} ${e.lineType} transparent`,borderRadius:e.borderRadius,outline:"none",transition:`all ${e.motionDurationMid}`},[`&:hover ${t}-item-link`]:{backgroundColor:e.colorBgTextHover},[`&:active ${t}-item-link`]:{backgroundColor:e.colorBgTextActive},[`&${t}-disabled:hover`]:{[`${t}-item-link`]:{backgroundColor:"transparent"}}},[`${t}-slash`]:{marginInlineEnd:e.paginationSlashMarginInlineEnd,marginInlineStart:e.paginationSlashMarginInlineStart},[`${t}-options`]:{display:"inline-block",marginInlineStart:e.margin,verticalAlign:"middle","&-size-changer":{display:"inline-block",width:"auto"},"&-quick-jumper":{display:"inline-block",height:e.controlHeight,marginInlineStart:e.marginXS,lineHeight:(0,me.bf)(e.controlHeight),verticalAlign:"top",input:Object.assign(Object.assign(Object.assign({},(0,tp.ik)(e)),(0,Yd.$U)(e,{borderColor:e.colorBorder,hoverBorderColor:e.colorPrimaryHover,activeBorderColor:e.colorPrimary,activeShadow:e.activeShadow})),{"&[disabled]":Object.assign({},(0,Yd.Xy)(e)),width:e.calc(e.controlHeightLG).mul(1.25).equal(),height:e.controlHeight,boxSizing:"border-box",margin:0,marginInlineStart:e.marginXS,marginInlineEnd:e.marginXS})}}}},WR=e=>{const{componentCls:t}=e;return{[`${t}-item`]:{display:"inline-block",minWidth:e.itemSize,height:e.itemSize,marginInlineEnd:e.marginXS,fontFamily:e.fontFamily,lineHeight:(0,me.bf)(e.calc(e.itemSize).sub(2).equal()),textAlign:"center",verticalAlign:"middle",listStyle:"none",backgroundColor:e.itemBg,border:`${(0,me.bf)(e.lineWidth)} ${e.lineType} transparent`,borderRadius:e.borderRadius,outline:0,cursor:"pointer",userSelect:"none",a:{display:"block",padding:`0 ${(0,me.bf)(e.paginationItemPaddingInline)}`,color:e.colorText,"&:hover":{textDecoration:"none"}},[`&:not(${t}-item-active)`]:{"&:hover":{transition:`all ${e.motionDurationMid}`,backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive}},"&-active":{fontWeight:e.fontWeightStrong,backgroundColor:e.itemActiveBg,borderColor:e.colorPrimary,a:{color:e.colorPrimary},"&:hover":{borderColor:e.colorPrimaryHover},"&:hover a":{color:e.colorPrimaryHover}}}}},GR=e=>{const{componentCls:t}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,nn.Wf)(e)),{display:"flex","&-start":{justifyContent:"start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"end"},"ul, ol":{margin:0,padding:0,listStyle:"none"},"&::after":{display:"block",clear:"both",height:0,overflow:"hidden",visibility:"hidden",content:'""'},[`${t}-total-text`]:{display:"inline-block",height:e.itemSize,marginInlineEnd:e.marginXS,lineHeight:(0,me.bf)(e.calc(e.itemSize).sub(2).equal()),verticalAlign:"middle"}}),WR(e)),UR(e)),HR(e)),VR(e)),ZR(e)),{[`@media only screen and (max-width: ${e.screenLG}px)`]:{[`${t}-item`]:{"&-after-jump-prev, &-before-jump-next":{display:"none"}}},[`@media only screen and (max-width: ${e.screenSM}px)`]:{[`${t}-options`]:{display:"none"}}}),[`&${e.componentCls}-rtl`]:{direction:"rtl"}}},XR=e=>{const{componentCls:t}=e;return{[`${t}:not(${t}-disabled)`]:{[`${t}-item`]:Object.assign({},(0,nn.Qy)(e)),[`${t}-jump-prev, ${t}-jump-next`]:{"&:focus-visible":Object.assign({[`${t}-item-link-icon`]:{opacity:1},[`${t}-item-ellipsis`]:{opacity:0}},(0,nn.oN)(e))},[`${t}-prev, ${t}-next`]:{[`&:focus-visible ${t}-item-link`]:Object.assign({},(0,nn.oN)(e))}}}},RE=e=>Object.assign({itemBg:e.colorBgContainer,itemSize:e.controlHeight,itemSizeSM:e.controlHeightSM,itemActiveBg:e.colorBgContainer,itemLinkBg:e.colorBgContainer,itemActiveColorDisabled:e.colorTextDisabled,itemActiveBgDisabled:e.controlItemBgActiveDisabled,itemInputBg:e.colorBgContainer,miniOptionsSizeChangerTop:0},(0,zu.T)(e)),$E=e=>(0,kr.IX)(e,{inputOutlineOffset:0,paginationMiniOptionsMarginInlineStart:e.calc(e.marginXXS).div(2).equal(),paginationMiniQuickJumperInputWidth:e.calc(e.controlHeightLG).mul(1.1).equal(),paginationItemPaddingInline:e.calc(e.marginXXS).mul(1.5).equal(),paginationEllipsisLetterSpacing:e.calc(e.marginXXS).div(2).equal(),paginationSlashMarginInlineStart:e.marginSM,paginationSlashMarginInlineEnd:e.marginSM,paginationEllipsisTextIndent:"0.13em"},(0,zu.e)(e));var KR=(0,oe.I$)("Pagination",e=>{const t=$E(e);return[GR(t),XR(t)]},RE);const qR=e=>{const{componentCls:t}=e;return{[`${t}${t}-bordered${t}-disabled:not(${t}-mini)`]:{"&, &:hover":{[`${t}-item-link`]:{borderColor:e.colorBorder}},"&:focus-visible":{[`${t}-item-link`]:{borderColor:e.colorBorder}},[`${t}-item, ${t}-item-link`]:{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,[`&:hover:not(${t}-item-active)`]:{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,a:{color:e.colorTextDisabled}},[`&${t}-item-active`]:{backgroundColor:e.itemActiveBgDisabled}},[`${t}-prev, ${t}-next`]:{"&:hover button":{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,color:e.colorTextDisabled},[`${t}-item-link`]:{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder}}},[`${t}${t}-bordered:not(${t}-mini)`]:{[`${t}-prev, ${t}-next`]:{"&:hover button":{borderColor:e.colorPrimaryHover,backgroundColor:e.itemBg},[`${t}-item-link`]:{backgroundColor:e.itemLinkBg,borderColor:e.colorBorder},[`&:hover ${t}-item-link`]:{borderColor:e.colorPrimary,backgroundColor:e.itemBg,color:e.colorPrimary},[`&${t}-disabled`]:{[`${t}-item-link`]:{borderColor:e.colorBorder,color:e.colorTextDisabled}}},[`${t}-item`]:{backgroundColor:e.itemBg,border:`${(0,me.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,[`&:hover:not(${t}-item-active)`]:{borderColor:e.colorPrimary,backgroundColor:e.itemBg,a:{color:e.colorPrimary}},"&-active":{borderColor:e.colorPrimary}}}}};var YR=(0,oe.bk)(["Pagination","bordered"],e=>{const t=$E(e);return[qR(t)]},RE);function AE(e){return(0,s.useMemo)(()=>typeof e=="boolean"?[e,{}]:e&&typeof e=="object"?[!0,e]:[void 0,void 0],[e])}var JR=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},QR=e=>{const{align:t,prefixCls:a,selectPrefixCls:o,className:f,rootClassName:y,style:_,size:S,locale:I,responsive:A,showSizeChanger:z,selectComponentClass:L,pageSizeOptions:F}=e,Z=JR(e,["align","prefixCls","selectPrefixCls","className","rootClassName","style","size","locale","responsive","showSizeChanger","selectComponentClass","pageSizeOptions"]),{xs:k}=(0,Ec.Z)(A),[,W]=(0,Vr.ZP)(),{getPrefixCls:H,direction:X,showSizeChanger:Q,className:re,style:ie}=(0,_e.dj)("pagination"),ne=H("pagination",a),[ae,ue,fe]=KR(ne),he=(0,Va.Z)(S),ve=he==="small"||!!(k&&!he&&A),[ye]=(0,rr.Z)("Pagination",jR.Z),we=Object.assign(Object.assign({},ye),I),[Se,ze]=AE(z),[Te,Fe]=AE(Q),Ae=Se!=null?Se:Te,Ke=ze!=null?ze:Fe,tt=L||ou.default,vt=s.useMemo(()=>F?F.map(wt=>Number(wt)):void 0,[F]),bt=wt=>{var Bt;const{disabled:Ct,size:dn,onSizeChange:zn,"aria-label":rn,className:Cn,options:Vt}=wt,{className:At,onChange:$n}=Ke||{},yn=(Bt=Vt.find(Ir=>String(Ir.value)===String(dn)))===null||Bt===void 0?void 0:Bt.value;return s.createElement(tt,Object.assign({disabled:Ct,showSearch:!0,popupMatchSelectWidth:!1,getPopupContainer:Ir=>Ir.parentNode,"aria-label":rn,options:Vt},Ke,{value:yn,onChange:(Ir,cr)=>{zn==null||zn(Ir),$n==null||$n(Ir,cr)},size:ve?"small":"middle",className:J()(Cn,At)}))},lt=s.useMemo(()=>{const wt=s.createElement("span",{className:`${ne}-item-ellipsis`},"\u2022\u2022\u2022"),Bt=s.createElement("button",{className:`${ne}-item-link`,type:"button",tabIndex:-1},X==="rtl"?s.createElement(U.Z,null):s.createElement(V,null)),Ct=s.createElement("button",{className:`${ne}-item-link`,type:"button",tabIndex:-1},X==="rtl"?s.createElement(V,null):s.createElement(U.Z,null)),dn=s.createElement("a",{className:`${ne}-item-link`},s.createElement("div",{className:`${ne}-item-container`},X==="rtl"?s.createElement(PE,{className:`${ne}-item-link-icon`}):s.createElement(ME,{className:`${ne}-item-link-icon`}),wt)),zn=s.createElement("a",{className:`${ne}-item-link`},s.createElement("div",{className:`${ne}-item-container`},X==="rtl"?s.createElement(ME,{className:`${ne}-item-link-icon`}):s.createElement(PE,{className:`${ne}-item-link-icon`}),wt));return{prevIcon:Bt,nextIcon:Ct,jumpPrevIcon:dn,jumpNextIcon:zn}},[X,ne]),ct=H("select",o),mt=J()({[`${ne}-${t}`]:!!t,[`${ne}-mini`]:ve,[`${ne}-rtl`]:X==="rtl",[`${ne}-bordered`]:W.wireframe},re,f,y,ue,fe),Rt=Object.assign(Object.assign({},ie),_);return ae(s.createElement(s.Fragment,null,W.wireframe&&s.createElement(YR,{prefixCls:ne}),s.createElement(kR,Object.assign({},lt,Z,{style:Rt,prefixCls:ne,selectPrefixCls:ct,className:mt,locale:we,pageSizeOptions:vt,showSizeChanger:Ae,sizeChangerRender:bt}))))},mx=QR;const px=100,DE=px/5,zE=px/2-DE/2,ow=zE*2*Math.PI,LE=50,NE=e=>{const{dotClassName:t,style:a,hasCircleCls:o}=e;return s.createElement("circle",{className:J()(`${t}-circle`,{[`${t}-circle-bg`]:o}),r:zE,cx:LE,cy:LE,strokeWidth:DE,style:a})};var e$=e=>{let{percent:t,prefixCls:a}=e;const o=`${a}-dot`,f=`${o}-holder`,y=`${f}-hidden`,[_,S]=s.useState(!1);(0,yl.Z)(()=>{t!==0&&S(!0)},[t!==0]);const I=Math.max(Math.min(t,100),0);if(!_)return null;const A={strokeDashoffset:`${ow/4}`,strokeDasharray:`${ow*I/100} ${ow*(100-I)/100}`};return s.createElement("span",{className:J()(f,`${o}-progress`,I<=0&&y)},s.createElement("svg",{viewBox:`0 0 ${px} ${px}`,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":I},s.createElement(NE,{dotClassName:o,hasCircleCls:!0}),s.createElement(NE,{dotClassName:o,style:A})))};function t$(e){const{prefixCls:t,percent:a=0}=e,o=`${t}-dot`,f=`${o}-holder`,y=`${f}-hidden`;return s.createElement(s.Fragment,null,s.createElement("span",{className:J()(f,a>0&&y)},s.createElement("span",{className:J()(o,`${t}-dot-spin`)},[1,2,3,4].map(_=>s.createElement("i",{className:`${t}-dot-item`,key:_})))),s.createElement(e$,{prefixCls:t,percent:a}))}function n$(e){const{prefixCls:t,indicator:a,percent:o}=e,f=`${t}-dot`;return a&&s.isValidElement(a)?(0,Tn.Tm)(a,{className:J()(a.props.className,f),percent:o}):s.createElement(t$,{prefixCls:t,percent:o})}const r$=new me.E4("antSpinMove",{to:{opacity:1}}),i$=new me.E4("antRotate",{to:{transform:"rotate(405deg)"}}),o$=e=>{const{componentCls:t,calc:a}=e;return{[t]:Object.assign(Object.assign({},(0,nn.Wf)(e)),{position:"absolute",display:"none",color:e.colorPrimary,fontSize:0,textAlign:"center",verticalAlign:"middle",opacity:0,transition:`transform ${e.motionDurationSlow} ${e.motionEaseInOutCirc}`,"&-spinning":{position:"relative",display:"inline-block",opacity:1},[`${t}-text`]:{fontSize:e.fontSize,paddingTop:a(a(e.dotSize).sub(e.fontSize)).div(2).add(2).equal()},"&-fullscreen":{position:"fixed",width:"100vw",height:"100vh",backgroundColor:e.colorBgMask,zIndex:e.zIndexPopupBase,inset:0,display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",opacity:0,visibility:"hidden",transition:`all ${e.motionDurationMid}`,"&-show":{opacity:1,visibility:"visible"},[t]:{[`${t}-dot-holder`]:{color:e.colorWhite},[`${t}-text`]:{color:e.colorTextLightSolid}}},"&-nested-loading":{position:"relative",[`> div > ${t}`]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:e.contentHeight,[`${t}-dot`]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:a(e.dotSize).mul(-1).div(2).equal()},[`${t}-text`]:{position:"absolute",top:"50%",width:"100%",textShadow:`0 1px 2px ${e.colorBgContainer}`},[`&${t}-show-text ${t}-dot`]:{marginTop:a(e.dotSize).div(2).mul(-1).sub(10).equal()},"&-sm":{[`${t}-dot`]:{margin:a(e.dotSizeSM).mul(-1).div(2).equal()},[`${t}-text`]:{paddingTop:a(a(e.dotSizeSM).sub(e.fontSize)).div(2).add(2).equal()},[`&${t}-show-text ${t}-dot`]:{marginTop:a(e.dotSizeSM).div(2).mul(-1).sub(10).equal()}},"&-lg":{[`${t}-dot`]:{margin:a(e.dotSizeLG).mul(-1).div(2).equal()},[`${t}-text`]:{paddingTop:a(a(e.dotSizeLG).sub(e.fontSize)).div(2).add(2).equal()},[`&${t}-show-text ${t}-dot`]:{marginTop:a(e.dotSizeLG).div(2).mul(-1).sub(10).equal()}}},[`${t}-container`]:{position:"relative",transition:`opacity ${e.motionDurationSlow}`,"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:e.colorBgContainer,opacity:0,transition:`all ${e.motionDurationSlow}`,content:'""',pointerEvents:"none"}},[`${t}-blur`]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none","&::after":{opacity:.4,pointerEvents:"auto"}}},"&-tip":{color:e.spinDotDefault},[`${t}-dot-holder`]:{width:"1em",height:"1em",fontSize:e.dotSize,display:"inline-block",transition:`transform ${e.motionDurationSlow} ease, opacity ${e.motionDurationSlow} ease`,transformOrigin:"50% 50%",lineHeight:1,color:e.colorPrimary,"&-hidden":{transform:"scale(0.3)",opacity:0}},[`${t}-dot-progress`]:{position:"absolute",inset:0},[`${t}-dot`]:{position:"relative",display:"inline-block",fontSize:e.dotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:a(e.dotSize).sub(a(e.marginXXS).div(2)).div(2).equal(),height:a(e.dotSize).sub(a(e.marginXXS).div(2)).div(2).equal(),background:"currentColor",borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:r$,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0,animationDelay:"0s"},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:i$,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"},"&-circle":{strokeLinecap:"round",transition:["stroke-dashoffset","stroke-dasharray","stroke","stroke-width","opacity"].map(o=>`${o} ${e.motionDurationSlow} ease`).join(","),fillOpacity:0,stroke:"currentcolor"},"&-circle-bg":{stroke:e.colorFillSecondary}},[`&-sm ${t}-dot`]:{"&, &-holder":{fontSize:e.dotSizeSM}},[`&-sm ${t}-dot-holder`]:{i:{width:a(a(e.dotSizeSM).sub(a(e.marginXXS).div(2))).div(2).equal(),height:a(a(e.dotSizeSM).sub(a(e.marginXXS).div(2))).div(2).equal()}},[`&-lg ${t}-dot`]:{"&, &-holder":{fontSize:e.dotSizeLG}},[`&-lg ${t}-dot-holder`]:{i:{width:a(a(e.dotSizeLG).sub(e.marginXXS)).div(2).equal(),height:a(a(e.dotSizeLG).sub(e.marginXXS)).div(2).equal()}},[`&${t}-show-text ${t}-text`]:{display:"block"}})}},a$=e=>{const{controlHeightLG:t,controlHeight:a}=e;return{contentHeight:400,dotSize:t/2,dotSizeSM:t*.35,dotSizeLG:a}};var s$=(0,oe.I$)("Spin",e=>{const t=(0,kr.IX)(e,{spinDotDefault:e.colorTextDescription});return[o$(t)]},a$);const l$=200,BE=[[30,.05],[70,.03],[96,.01]];function c$(e,t){const[a,o]=s.useState(0),f=s.useRef(null),y=t==="auto";return s.useEffect(()=>(y&&e&&(o(0),f.current=setInterval(()=>{o(_=>{const S=100-_;for(let I=0;I<BE.length;I+=1){const[A,z]=BE[I];if(_<=A)return _+S*z}return _})},l$)),()=>{clearInterval(f.current)}),[y,e]),y?a:t}var u$=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const qk=null;let FE;function d$(e,t){return!!e&&!!t&&!Number.isNaN(Number(t))}const kE=e=>{var t;const{prefixCls:a,spinning:o=!0,delay:f=0,className:y,rootClassName:_,size:S="default",tip:I,wrapperClassName:A,style:z,children:L,fullscreen:F=!1,indicator:Z,percent:k}=e,W=u$(e,["prefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","fullscreen","indicator","percent"]),{getPrefixCls:H,direction:X,className:Q,style:re,indicator:ie}=(0,_e.dj)("spin"),ne=H("spin",a),[ae,ue,fe]=s$(ne),[he,ve]=s.useState(()=>o&&!d$(o,f)),ye=c$(he,k);s.useEffect(()=>{if(o){const Ke=F1(f,()=>{ve(!0)});return Ke(),()=>{var tt;(tt=Ke==null?void 0:Ke.cancel)===null||tt===void 0||tt.call(Ke)}}ve(!1)},[f,o]);const we=s.useMemo(()=>typeof L!="undefined"&&!F,[L,F]),Se=J()(ne,Q,{[`${ne}-sm`]:S==="small",[`${ne}-lg`]:S==="large",[`${ne}-spinning`]:he,[`${ne}-show-text`]:!!I,[`${ne}-rtl`]:X==="rtl"},y,!F&&_,ue,fe),ze=J()(`${ne}-container`,{[`${ne}-blur`]:he}),Te=(t=Z!=null?Z:ie)!==null&&t!==void 0?t:FE,Fe=Object.assign(Object.assign({},re),z),Ae=s.createElement("div",Object.assign({},W,{style:Fe,className:Se,"aria-live":"polite","aria-busy":he}),s.createElement(n$,{prefixCls:ne,indicator:Te,percent:ye}),I&&(we||F)?s.createElement("div",{className:`${ne}-text`},I):null);return ae(we?s.createElement("div",Object.assign({},W,{className:J()(`${ne}-nested-loading`,A,ue,fe)}),he&&s.createElement("div",{key:"loading"},Ae),s.createElement("div",{className:ze,key:"container"},L)):F?s.createElement("div",{className:J()(`${ne}-fullscreen`,{[`${ne}-fullscreen-show`]:he},_,ue,fe)},Ae):Ae)};kE.setDefaultIndicator=e=>{FE=e};var dv=kE;const aw=s.createContext({}),Yk=aw.Consumer;var jE=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const f$=e=>{var{prefixCls:t,className:a,avatar:o,title:f,description:y}=e,_=jE(e,["prefixCls","className","avatar","title","description"]);const{getPrefixCls:S}=(0,s.useContext)(_e.E_),I=S("list",t),A=J()(`${I}-item-meta`,a),z=s.createElement("div",{className:`${I}-item-meta-content`},f&&s.createElement("h4",{className:`${I}-item-meta-title`},f),y&&s.createElement("div",{className:`${I}-item-meta-description`},y));return s.createElement("div",Object.assign({},_,{className:A}),o&&s.createElement("div",{className:`${I}-item-meta-avatar`},o),(f||y)&&z)},ZE=s.forwardRef((e,t)=>{const{prefixCls:a,children:o,actions:f,extra:y,styles:_,className:S,classNames:I,colStyle:A}=e,z=jE(e,["prefixCls","children","actions","extra","styles","className","classNames","colStyle"]),{grid:L,itemLayout:F}=(0,s.useContext)(aw),{getPrefixCls:Z,list:k}=(0,s.useContext)(_e.E_),W=ue=>{var fe,he;return J()((he=(fe=k==null?void 0:k.item)===null||fe===void 0?void 0:fe.classNames)===null||he===void 0?void 0:he[ue],I==null?void 0:I[ue])},H=ue=>{var fe,he;return Object.assign(Object.assign({},(he=(fe=k==null?void 0:k.item)===null||fe===void 0?void 0:fe.styles)===null||he===void 0?void 0:he[ue]),_==null?void 0:_[ue])},X=()=>{let ue=!1;return s.Children.forEach(o,fe=>{typeof fe=="string"&&(ue=!0)}),ue&&s.Children.count(o)>1},Q=()=>F==="vertical"?!!y:!X(),re=Z("list",a),ie=f&&f.length>0&&s.createElement("ul",{className:J()(`${re}-item-action`,W("actions")),key:"actions",style:H("actions")},f.map((ue,fe)=>s.createElement("li",{key:`${re}-item-action-${fe}`},ue,fe!==f.length-1&&s.createElement("em",{className:`${re}-item-action-split`})))),ne=L?"div":"li",ae=s.createElement(ne,Object.assign({},z,L?{}:{ref:t},{className:J()(`${re}-item`,{[`${re}-item-no-flex`]:!Q()},S)}),F==="vertical"&&y?[s.createElement("div",{className:`${re}-item-main`,key:"content"},o,ie),s.createElement("div",{className:J()(`${re}-item-extra`,W("extra")),key:"extra",style:H("extra")},y)]:[o,ie,(0,Tn.Tm)(y,{key:"extra"})]);return L?s.createElement(y2.Z,{ref:t,flex:1,style:A},ae):ae});ZE.Meta=f$;var h$=ZE;const m$=e=>{const{listBorderedCls:t,componentCls:a,paddingLG:o,margin:f,itemPaddingSM:y,itemPaddingLG:_,marginLG:S,borderRadiusLG:I}=e;return{[t]:{border:`${(0,me.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:I,[`${a}-header,${a}-footer,${a}-item`]:{paddingInline:o},[`${a}-pagination`]:{margin:`${(0,me.bf)(f)} ${(0,me.bf)(S)}`}},[`${t}${a}-sm`]:{[`${a}-item,${a}-header,${a}-footer`]:{padding:y}},[`${t}${a}-lg`]:{[`${a}-item,${a}-header,${a}-footer`]:{padding:_}}}},p$=e=>{const{componentCls:t,screenSM:a,screenMD:o,marginLG:f,marginSM:y,margin:_}=e;return{[`@media screen and (max-width:${o}px)`]:{[t]:{[`${t}-item`]:{[`${t}-item-action`]:{marginInlineStart:f}}},[`${t}-vertical`]:{[`${t}-item`]:{[`${t}-item-extra`]:{marginInlineStart:f}}}},[`@media screen and (max-width: ${a}px)`]:{[t]:{[`${t}-item`]:{flexWrap:"wrap",[`${t}-action`]:{marginInlineStart:y}}},[`${t}-vertical`]:{[`${t}-item`]:{flexWrap:"wrap-reverse",[`${t}-item-main`]:{minWidth:e.contentWidth},[`${t}-item-extra`]:{margin:`auto auto ${(0,me.bf)(_)}`}}}}}},g$=e=>{const{componentCls:t,antCls:a,controlHeight:o,minHeight:f,paddingSM:y,marginLG:_,padding:S,itemPadding:I,colorPrimary:A,itemPaddingSM:z,itemPaddingLG:L,paddingXS:F,margin:Z,colorText:k,colorTextDescription:W,motionDurationSlow:H,lineWidth:X,headerBg:Q,footerBg:re,emptyTextPadding:ie,metaMarginBottom:ne,avatarMarginRight:ae,titleMarginBottom:ue,descriptionFontSize:fe}=e;return{[t]:Object.assign(Object.assign({},(0,nn.Wf)(e)),{position:"relative","*":{outline:"none"},[`${t}-header`]:{background:Q},[`${t}-footer`]:{background:re},[`${t}-header, ${t}-footer`]:{paddingBlock:y},[`${t}-pagination`]:{marginBlockStart:_,[`${a}-pagination-options`]:{textAlign:"start"}},[`${t}-spin`]:{minHeight:f,textAlign:"center"},[`${t}-items`]:{margin:0,padding:0,listStyle:"none"},[`${t}-item`]:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:I,color:k,[`${t}-item-meta`]:{display:"flex",flex:1,alignItems:"flex-start",maxWidth:"100%",[`${t}-item-meta-avatar`]:{marginInlineEnd:ae},[`${t}-item-meta-content`]:{flex:"1 0",width:0,color:k},[`${t}-item-meta-title`]:{margin:`0 0 ${(0,me.bf)(e.marginXXS)} 0`,color:k,fontSize:e.fontSize,lineHeight:e.lineHeight,"> a":{color:k,transition:`all ${H}`,"&:hover":{color:A}}},[`${t}-item-meta-description`]:{color:W,fontSize:fe,lineHeight:e.lineHeight}},[`${t}-item-action`]:{flex:"0 0 auto",marginInlineStart:e.marginXXL,padding:0,fontSize:0,listStyle:"none","& > li":{position:"relative",display:"inline-block",padding:`0 ${(0,me.bf)(F)}`,color:W,fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"center","&:first-child":{paddingInlineStart:0}},[`${t}-item-action-split`]:{position:"absolute",insetBlockStart:"50%",insetInlineEnd:0,width:X,height:e.calc(e.fontHeight).sub(e.calc(e.marginXXS).mul(2)).equal(),transform:"translateY(-50%)",backgroundColor:e.colorSplit}}},[`${t}-empty`]:{padding:`${(0,me.bf)(S)} 0`,color:W,fontSize:e.fontSizeSM,textAlign:"center"},[`${t}-empty-text`]:{padding:ie,color:e.colorTextDisabled,fontSize:e.fontSize,textAlign:"center"},[`${t}-item-no-flex`]:{display:"block"}}),[`${t}-grid ${a}-col > ${t}-item`]:{display:"block",maxWidth:"100%",marginBlockEnd:Z,paddingBlock:0,borderBlockEnd:"none"},[`${t}-vertical ${t}-item`]:{alignItems:"initial",[`${t}-item-main`]:{display:"block",flex:1},[`${t}-item-extra`]:{marginInlineStart:_},[`${t}-item-meta`]:{marginBlockEnd:ne,[`${t}-item-meta-title`]:{marginBlockStart:0,marginBlockEnd:ue,color:k,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG}},[`${t}-item-action`]:{marginBlockStart:S,marginInlineStart:"auto","> li":{padding:`0 ${(0,me.bf)(S)}`,"&:first-child":{paddingInlineStart:0}}}},[`${t}-split ${t}-item`]:{borderBlockEnd:`${(0,me.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderBlockEnd:"none"}},[`${t}-split ${t}-header`]:{borderBlockEnd:`${(0,me.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-split${t}-empty ${t}-footer`]:{borderTop:`${(0,me.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-loading ${t}-spin-nested-loading`]:{minHeight:o},[`${t}-split${t}-something-after-last-item ${a}-spin-container > ${t}-items > ${t}-item:last-child`]:{borderBlockEnd:`${(0,me.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-lg ${t}-item`]:{padding:L},[`${t}-sm ${t}-item`]:{padding:z},[`${t}:not(${t}-vertical)`]:{[`${t}-item-no-flex`]:{[`${t}-item-action`]:{float:"right"}}}}},v$=e=>({contentWidth:220,itemPadding:`${(0,me.bf)(e.paddingContentVertical)} 0`,itemPaddingSM:`${(0,me.bf)(e.paddingContentVerticalSM)} ${(0,me.bf)(e.paddingContentHorizontal)}`,itemPaddingLG:`${(0,me.bf)(e.paddingContentVerticalLG)} ${(0,me.bf)(e.paddingContentHorizontalLG)}`,headerBg:"transparent",footerBg:"transparent",emptyTextPadding:e.padding,metaMarginBottom:e.padding,avatarMarginRight:e.padding,titleMarginBottom:e.paddingSM,descriptionFontSize:e.fontSize});var y$=(0,oe.I$)("List",e=>{const t=(0,kr.IX)(e,{listBorderedCls:`${e.componentCls}-bordered`,minHeight:e.controlHeightLG});return[g$(t),m$(t),p$(t)]},v$),b$=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};function _$(e,t){var{pagination:a=!1,prefixCls:o,bordered:f=!1,split:y=!0,className:_,rootClassName:S,style:I,children:A,itemLayout:z,loadMore:L,grid:F,dataSource:Z=[],size:k,header:W,footer:H,loading:X=!1,rowKey:Q,renderItem:re,locale:ie}=e,ne=b$(e,["pagination","prefixCls","bordered","split","className","rootClassName","style","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]);const ae=a&&typeof a=="object"?a:{},[ue,fe]=s.useState(ae.defaultCurrent||1),[he,ve]=s.useState(ae.defaultPageSize||10),{getPrefixCls:ye,direction:we,className:Se,style:ze}=(0,_e.dj)("list"),{renderEmpty:Te}=s.useContext(_e.E_),Fe={current:1,total:0},Ae=Yn=>(zr,si)=>{var yi;fe(zr),ve(si),a&&((yi=a==null?void 0:a[Yn])===null||yi===void 0||yi.call(a,zr,si))},Ke=Ae("onChange"),tt=Ae("onShowSizeChange"),vt=(Yn,zr)=>{if(!re)return null;let si;return typeof Q=="function"?si=Q(Yn):Q?si=Yn[Q]:si=Yn.key,si||(si=`list-item-${zr}`),s.createElement(s.Fragment,{key:si},re(Yn,zr))},bt=()=>!!(L||a||H),lt=ye("list",o),[ct,mt,Rt]=y$(lt);let wt=X;typeof wt=="boolean"&&(wt={spinning:wt});const Bt=!!(wt!=null&&wt.spinning),Ct=(0,Va.Z)(k);let dn="";switch(Ct){case"large":dn="lg";break;case"small":dn="sm";break;default:break}const zn=J()(lt,{[`${lt}-vertical`]:z==="vertical",[`${lt}-${dn}`]:dn,[`${lt}-split`]:y,[`${lt}-bordered`]:f,[`${lt}-loading`]:Bt,[`${lt}-grid`]:!!F,[`${lt}-something-after-last-item`]:bt(),[`${lt}-rtl`]:we==="rtl"},Se,_,S,mt,Rt),rn=rw(Fe,{total:Z.length,current:ue,pageSize:he},a||{}),Cn=Math.ceil(rn.total/rn.pageSize);rn.current>Cn&&(rn.current=Cn);const Vt=a&&s.createElement("div",{className:J()(`${lt}-pagination`)},s.createElement(mx,Object.assign({align:"end"},rn,{onChange:Ke,onShowSizeChange:tt})));let At=(0,Ie.Z)(Z);a&&Z.length>(rn.current-1)*rn.pageSize&&(At=(0,Ie.Z)(Z).splice((rn.current-1)*rn.pageSize,rn.pageSize));const $n=Object.keys(F||{}).some(Yn=>["xs","sm","md","lg","xl","xxl"].includes(Yn)),yn=(0,Ec.Z)($n),Ir=s.useMemo(()=>{for(let Yn=0;Yn<_d.c4.length;Yn+=1){const zr=_d.c4[Yn];if(yn[zr])return zr}},[yn]),cr=s.useMemo(()=>{if(!F)return;const Yn=Ir&&F[Ir]?F[Ir]:F.column;if(Yn)return{width:`${100/Yn}%`,maxWidth:`${100/Yn}%`}},[JSON.stringify(F),Ir]);let Kn=Bt&&s.createElement("div",{style:{minHeight:53}});if(At.length>0){const Yn=At.map((zr,si)=>vt(zr,si));Kn=F?s.createElement(TE.Z,{gutter:F.gutter},s.Children.map(Yn,zr=>s.createElement("div",{key:zr==null?void 0:zr.key,style:cr},zr))):s.createElement("ul",{className:`${lt}-items`},Yn)}else!A&&!Bt&&(Kn=s.createElement("div",{className:`${lt}-empty-text`},(ie==null?void 0:ie.emptyText)||(Te==null?void 0:Te("List"))||s.createElement(bs.Z,{componentName:"List"})));const qn=rn.position||"bottom",Pn=s.useMemo(()=>({grid:F,itemLayout:z}),[JSON.stringify(F),z]);return ct(s.createElement(aw.Provider,{value:Pn},s.createElement("div",Object.assign({ref:t,style:Object.assign(Object.assign({},ze),I),className:zn},ne),(qn==="top"||qn==="both")&&Vt,W&&s.createElement("div",{className:`${lt}-header`},W),s.createElement(dv,Object.assign({},wt),Kn,A),H&&s.createElement("div",{className:`${lt}-footer`},H),L||(qn==="bottom"||qn==="both")&&Vt)))}const VE=s.forwardRef(_$);VE.Item=h$;var x$=VE;function C$(){var e=(0,s.useState)({id:0,callback:null}),t=(0,Pe.Z)(e,2),a=t[0],o=t[1],f=(0,s.useCallback)(function(y){o(function(_){var S=_.id;return{id:S+1,callback:y}})},[]);return(0,s.useEffect)(function(){var y;(y=a.callback)===null||y===void 0||y.call(a)},[a]),f}var S$=s.createContext(null),HE=S$;function w$(e){var t=s.useContext(HE),a=t.notFoundContent,o=t.activeIndex,f=t.setActiveIndex,y=t.selectOption,_=t.onFocus,S=t.onBlur,I=t.onScroll,A=e.prefixCls,z=e.options,L=z[o]||{};return s.createElement(t0,{prefixCls:"".concat(A,"-menu"),activeKey:L.key,onSelect:function(Z){var k=Z.key,W=z.find(function(H){var X=H.key;return X===k});y(W)},onFocus:_,onBlur:S,onScroll:I},z.map(function(F,Z){var k=F.key,W=F.disabled,H=F.className,X=F.style,Q=F.label;return s.createElement(Rh,{key:k,disabled:W,className:H,style:X,onMouseEnter:function(){f(Z)}},Q)}),!z.length&&s.createElement(Rh,{disabled:!0},a))}var E$=w$,I$={bottomRight:{points:["tl","br"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},bottomLeft:{points:["tr","bl"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},topRight:{points:["bl","tr"],offset:[0,-4],overflow:{adjustX:1,adjustY:1}},topLeft:{points:["br","tl"],offset:[0,-4],overflow:{adjustX:1,adjustY:1}}},T$=function(t){var a=t.prefixCls,o=t.options,f=t.children,y=t.visible,_=t.transitionName,S=t.getPopupContainer,I=t.dropdownClassName,A=t.direction,z=t.placement,L="".concat(a,"-dropdown"),F=s.createElement(E$,{prefixCls:L,options:o}),Z=(0,s.useMemo)(function(){var k;return A==="rtl"?k=z==="top"?"topLeft":"bottomLeft":k=z==="top"?"topRight":"bottomRight",k},[A,z]);return s.createElement(Y.Z,{prefixCls:L,popupVisible:y,popup:F,popupPlacement:Z,popupTransitionName:_,builtinPlacements:I$,getPopupContainer:S,popupClassName:I},f)},M$=T$,P$=function(){return null},O$=P$;function R$(e){var t=e.selectionStart;return e.value.slice(0,t)}function $$(e,t){return t.reduce(function(a,o){var f=e.lastIndexOf(o);return f>a.location?{location:f,prefix:o}:a},{location:-1,prefix:""})}function UE(e){return(e||"").toLowerCase()}function A$(e,t,a){var o=e[0];if(!o||o===a)return e;for(var f=e,y=t.length,_=0;_<y;_+=1)if(UE(f[_])!==UE(t[_])){f=f.slice(_);break}else _===y-1&&(f=f.slice(y));return f}function D$(e,t){var a=t.measureLocation,o=t.prefix,f=t.targetText,y=t.selectionStart,_=t.split,S=e.slice(0,a);S[S.length-_.length]===_&&(S=S.slice(0,S.length-_.length)),S&&(S="".concat(S).concat(_));var I=A$(e.slice(y),f.slice(y-a-o.length),_);I.slice(0,_.length)===_&&(I=I.slice(_.length));var A="".concat(S).concat(o).concat(f).concat(_);return{text:"".concat(A).concat(I),selectionLocation:A.length}}function z$(e,t){e.setSelectionRange(t,t),e.blur(),e.focus()}function L$(e,t){return!t||e.indexOf(t)===-1}function N$(e,t){var a=t.value,o=a===void 0?"":a,f=e.toLowerCase();return o.toLowerCase().indexOf(f)!==-1}var B$=["prefixCls","className","style","prefix","split","notFoundContent","value","defaultValue","children","options","open","allowClear","silent","validateSearch","filterOption","onChange","onKeyDown","onKeyUp","onPressEnter","onSearch","onSelect","onFocus","onBlur","transitionName","placement","direction","getPopupContainer","dropdownClassName","rows","visible","onPopupScroll"],F$=["suffix","prefixCls","defaultValue","value","allowClear","onChange","classNames","className","disabled","onClear"],k$=(0,s.forwardRef)(function(e,t){var a=e.prefixCls,o=e.className,f=e.style,y=e.prefix,_=y===void 0?"@":y,S=e.split,I=S===void 0?" ":S,A=e.notFoundContent,z=A===void 0?"Not Found":A,L=e.value,F=e.defaultValue,Z=e.children,k=e.options,W=e.open,H=e.allowClear,X=e.silent,Q=e.validateSearch,re=Q===void 0?L$:Q,ie=e.filterOption,ne=ie===void 0?N$:ie,ae=e.onChange,ue=e.onKeyDown,fe=e.onKeyUp,he=e.onPressEnter,ve=e.onSearch,ye=e.onSelect,we=e.onFocus,Se=e.onBlur,ze=e.transitionName,Te=e.placement,Fe=e.direction,Ae=e.getPopupContainer,Ke=e.dropdownClassName,tt=e.rows,vt=tt===void 0?1:tt,bt=e.visible,lt=e.onPopupScroll,ct=(0,de.Z)(e,B$),mt=(0,s.useMemo)(function(){return Array.isArray(_)?_:[_]},[_]),Rt=(0,s.useRef)(null),wt=(0,s.useRef)(null),Bt=(0,s.useRef)(null),Ct=function(){var Wo;return(Wo=wt.current)===null||Wo===void 0||(Wo=Wo.resizableTextArea)===null||Wo===void 0?void 0:Wo.textArea};s.useImperativeHandle(t,function(){var Uo;return{focus:function(){var Do;return(Do=wt.current)===null||Do===void 0?void 0:Do.focus()},blur:function(){var Do;return(Do=wt.current)===null||Do===void 0?void 0:Do.blur()},textarea:(Uo=wt.current)===null||Uo===void 0||(Uo=Uo.resizableTextArea)===null||Uo===void 0?void 0:Uo.textArea,nativeElement:Rt.current}});var dn=(0,s.useState)(!1),zn=(0,Pe.Z)(dn,2),rn=zn[0],Cn=zn[1],Vt=(0,s.useState)(""),At=(0,Pe.Z)(Vt,2),$n=At[0],yn=At[1],Ir=(0,s.useState)(""),cr=(0,Pe.Z)(Ir,2),Kn=cr[0],qn=cr[1],Pn=(0,s.useState)(0),Yn=(0,Pe.Z)(Pn,2),zr=Yn[0],si=Yn[1],yi=(0,s.useState)(0),Di=(0,Pe.Z)(yi,2),Eo=Di[0],gi=Di[1],ai=(0,s.useState)(!1),mi=(0,Pe.Z)(ai,2),Xi=mi[0],Pi=mi[1],Io=(0,zt.Z)("",{defaultValue:F,value:L}),dr=(0,Pe.Z)(Io,2),er=dr[0],gr=dr[1];(0,s.useEffect)(function(){rn&&Bt.current&&(Bt.current.scrollTop=Ct().scrollTop)},[rn]);var Zn=s.useMemo(function(){if(W)for(var Uo=0;Uo<mt.length;Uo+=1){var Wo=mt[Uo],Do=er.lastIndexOf(Wo);if(Do>=0)return[!0,"",Wo,Do]}return[rn,$n,Kn,zr]},[W,rn,mt,er,$n,Kn,zr]),ni=(0,Pe.Z)(Zn,4),Oi=ni[0],ro=ni[1],Ko=ni[2],Oa=ni[3],ta=s.useCallback(function(Uo){var Wo;return k&&k.length>0?Wo=k.map(function(Do){var fs;return(0,K.Z)((0,K.Z)({},Do),{},{key:(fs=Do==null?void 0:Do.key)!==null&&fs!==void 0?fs:Do.value})}):Wo=(0,ac.Z)(Z).map(function(Do){var fs=Do.props,Ns=Do.key;return(0,K.Z)((0,K.Z)({},fs),{},{label:fs.children,key:Ns||fs.value})}),Wo.filter(function(Do){return ne===!1?!0:ne(Uo,Do)})},[Z,k,ne]),Is=s.useMemo(function(){return ta(ro)},[ta,ro]),Fa=C$(),Ua=function(Wo,Do,fs){Cn(!0),yn(Wo),qn(Do),si(fs),gi(0)},pa=function(Wo){Cn(!1),si(0),yn(""),Fa(Wo)},rs=function(Wo){gr(Wo),ae==null||ae(Wo)},Ls=function(Wo){var Do=Wo.target.value;rs(Do)},Co=function(Wo){var Do,fs=Wo.value,Ns=fs===void 0?"":fs,La=D$(er,{measureLocation:Oa,targetText:Ns,prefix:Ko,selectionStart:(Do=Ct())===null||Do===void 0?void 0:Do.selectionStart,split:I}),xa=La.text,_s=La.selectionLocation;rs(xa),pa(function(){z$(Ct(),_s)}),ye==null||ye(Wo,Ko)},Go=function(Wo){var Do=Wo.which;if(ue==null||ue(Wo),!!Oi){if(Do===_t.Z.UP||Do===_t.Z.DOWN){var fs=Is.length,Ns=Do===_t.Z.UP?-1:1,La=(Eo+Ns+fs)%fs;gi(La),Wo.preventDefault()}else if(Do===_t.Z.ESC)pa();else if(Do===_t.Z.ENTER){if(Wo.preventDefault(),X)return;if(!Is.length){pa();return}var xa=Is[Eo];Co(xa)}}},Ta=function(Wo){var Do=Wo.key,fs=Wo.which,Ns=Wo.target,La=R$(Ns),xa=$$(La,mt),_s=xa.location,Cs=xa.prefix;if(fe==null||fe(Wo),[_t.Z.ESC,_t.Z.UP,_t.Z.DOWN,_t.Z.ENTER].indexOf(fs)===-1)if(_s!==-1){var qs=La.slice(_s+Cs.length),ya=re(qs,I),Lo=!!ta(qs).length;ya?(Do===Cs||Do==="Shift"||fs===_t.Z.ALT||Do==="AltGraph"||Oi||qs!==ro&&Lo)&&Ua(qs,Cs,_s):Oi&&pa(),ve&&ya&&ve(qs,Cs)}else Oi&&pa()},Wa=function(Wo){!Oi&&he&&he(Wo)},ds=(0,s.useRef)(),sl=function(Wo){window.clearTimeout(ds.current),!Xi&&Wo&&we&&we(Wo),Pi(!0)},Ol=function(Wo){ds.current=window.setTimeout(function(){Pi(!1),pa(),Se==null||Se(Wo)},0)},xl=function(){sl()},Zl=function(){Ol()},fa=function(Wo){lt==null||lt(Wo)};return s.createElement("div",{className:J()(a,o),style:f,ref:Rt},s.createElement(SE,(0,Ue.Z)({ref:wt,value:er},ct,{rows:vt,onChange:Ls,onKeyDown:Go,onKeyUp:Ta,onPressEnter:Wa,onFocus:sl,onBlur:Ol})),Oi&&s.createElement("div",{ref:Bt,className:"".concat(a,"-measure")},er.slice(0,Oa),s.createElement(HE.Provider,{value:{notFoundContent:z,activeIndex:Eo,setActiveIndex:gi,selectOption:Co,onFocus:xl,onBlur:Zl,onScroll:fa}},s.createElement(M$,{prefixCls:a,transitionName:ze,placement:Te,direction:Fe,options:Is,visible:!0,getPopupContainer:Ae,dropdownClassName:Ke},s.createElement("span",null,Ko))),er.slice(Oa+Ko.length)))}),WE=(0,s.forwardRef)(function(e,t){var a=e.suffix,o=e.prefixCls,f=o===void 0?"rc-mentions":o,y=e.defaultValue,_=e.value,S=e.allowClear,I=e.onChange,A=e.classNames,z=e.className,L=e.disabled,F=e.onClear,Z=(0,de.Z)(e,F$),k=(0,s.useRef)(null),W=(0,s.useRef)(null);(0,s.useImperativeHandle)(t,function(){var ae,ue;return(0,K.Z)((0,K.Z)({},W.current),{},{nativeElement:((ae=k.current)===null||ae===void 0?void 0:ae.nativeElement)||((ue=W.current)===null||ue===void 0?void 0:ue.nativeElement)})});var H=(0,zt.Z)("",{defaultValue:y,value:_}),X=(0,Pe.Z)(H,2),Q=X[0],re=X[1],ie=function(ue){re(ue),I==null||I(ue)},ne=function(){ie("")};return s.createElement(CE.Q,{suffix:a,prefixCls:f,value:Q,allowClear:S,handleReset:ne,className:z,classNames:A,disabled:L,ref:k,onClear:F},s.createElement(k$,(0,Ue.Z)({className:A==null?void 0:A.mentions,prefixCls:f,ref:W,onChange:ie,disabled:L},Z)))});WE.Option=O$;var j$=WE,GE=j$;function gx(e){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)&&e==null?[]:Array.isArray(e)?e:[e]}const Z$=e=>{const{componentCls:t,colorTextDisabled:a,controlItemBgHover:o,controlPaddingHorizontal:f,colorText:y,motionDurationSlow:_,lineHeight:S,controlHeight:I,paddingInline:A,paddingBlock:z,fontSize:L,fontSizeIcon:F,colorTextTertiary:Z,colorTextQuaternary:k,colorBgElevated:W,paddingXXS:H,paddingLG:X,borderRadius:Q,borderRadiusLG:re,boxShadowSecondary:ie,itemPaddingVertical:ne,calc:ae}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,nn.Wf)(e)),(0,tp.ik)(e)),{position:"relative",display:"inline-block",height:"auto",padding:0,overflow:"hidden",lineHeight:S,whiteSpace:"pre-wrap",verticalAlign:"bottom"}),(0,Yd.qG)(e)),(0,Yd.H8)(e)),(0,Yd.Mu)(e)),{"&-affix-wrapper":Object.assign(Object.assign({},(0,tp.ik)(e)),{display:"inline-flex",padding:0,"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[`${t}-suffix`]:{position:"absolute",top:0,insetInlineEnd:A,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto"},[`&:has(${t}-suffix) > ${t} > textarea`]:{paddingInlineEnd:X},[`${t}-clear-icon`]:{position:"absolute",insetInlineEnd:0,insetBlockStart:ae(L).mul(S).mul(.5).add(z).equal(),transform:"translateY(-50%)",margin:0,padding:0,color:k,fontSize:F,verticalAlign:-1,cursor:"pointer",transition:`color ${_}`,border:"none",outline:"none",backgroundColor:"transparent","&:hover":{color:Z},"&:active":{color:y},"&-hidden":{visibility:"hidden"}}})}),(0,Yd.vc)(e)),{"&-disabled":{"> textarea":Object.assign({},(0,Yd.Xy)(e))},[`&, &-affix-wrapper > ${t}`]:{[`> textarea, ${t}-measure`]:{color:y,boxSizing:"border-box",minHeight:e.calc(I).sub(2),margin:0,padding:`${(0,me.bf)(z)} ${(0,me.bf)(A)}`,overflow:"inherit",overflowX:"hidden",overflowY:"auto",fontWeight:"inherit",fontSize:"inherit",fontFamily:"inherit",fontStyle:"inherit",fontVariant:"inherit",fontSizeAdjust:"inherit",fontStretch:"inherit",lineHeight:"inherit",direction:"inherit",letterSpacing:"inherit",whiteSpace:"inherit",textAlign:"inherit",verticalAlign:"top",wordWrap:"break-word",wordBreak:"inherit",tabSize:"inherit"},"> textarea":Object.assign({width:"100%",border:"none",outline:"none",resize:"none",backgroundColor:"transparent"},(0,tp.nz)(e.colorTextPlaceholder)),[`${t}-measure`]:{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:-1,color:"transparent",pointerEvents:"none","> span":{display:"inline-block",minHeight:"1em"}}},"&-dropdown":Object.assign(Object.assign({},(0,nn.Wf)(e)),{position:"absolute",top:-9999,insetInlineStart:-9999,zIndex:e.zIndexPopup,boxSizing:"border-box",fontSize:L,fontVariant:"initial",padding:H,backgroundColor:W,borderRadius:re,outline:"none",boxShadow:ie,"&-hidden":{display:"none"},[`${t}-dropdown-menu`]:{maxHeight:e.dropdownHeight,margin:0,paddingInlineStart:0,overflow:"auto",listStyle:"none",outline:"none","&-item":Object.assign(Object.assign({},nn.vS),{position:"relative",display:"block",minWidth:e.controlItemWidth,padding:`${(0,me.bf)(ne)} ${(0,me.bf)(f)}`,color:y,borderRadius:Q,fontWeight:"normal",lineHeight:S,cursor:"pointer",transition:`background ${_} ease`,"&:hover":{backgroundColor:o},"&-disabled":{color:a,cursor:"not-allowed","&:hover":{color:a,backgroundColor:o,cursor:"not-allowed"}},"&-selected":{color:y,fontWeight:e.fontWeightStrong,backgroundColor:o},"&-active":{backgroundColor:o}})}})})}},V$=e=>Object.assign(Object.assign({},(0,zu.T)(e)),{dropdownHeight:250,controlItemWidth:100,zIndexPopup:e.zIndexPopupBase+50,itemPaddingVertical:(e.controlHeight-e.fontHeight)/2});var H$=(0,oe.I$)("Mentions",e=>{const t=(0,kr.IX)(e,(0,zu.e)(e));return[Z$(t)]},V$),U$=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const{Option:XE}=GE;function W$(){return!0}const _b=s.forwardRef((e,t)=>{const{prefixCls:a,className:o,rootClassName:f,disabled:y,loading:_,filterOption:S,children:I,notFoundContent:A,options:z,status:L,allowClear:F=!1,popupClassName:Z,style:k,variant:W}=e,H=U$(e,["prefixCls","className","rootClassName","disabled","loading","filterOption","children","notFoundContent","options","status","allowClear","popupClassName","style","variant"]),[X,Q]=s.useState(!1),re=s.useRef(null),ie=(0,an.sQ)(t,re),{getPrefixCls:ne,renderEmpty:ae,direction:ue,mentions:fe}=s.useContext(_e.E_),{status:he,hasFeedback:ve,feedbackIcon:ye}=s.useContext(Tc.aM),we=(0,Ya.F)(he,L),Se=function(){H.onFocus&&H.onFocus.apply(H,arguments),Q(!0)},ze=function(){H.onBlur&&H.onBlur.apply(H,arguments),Q(!1)},Te=s.useMemo(()=>A!==void 0?A:(ae==null?void 0:ae("Select"))||s.createElement(bs.Z,{componentName:"Select"}),[A,ae]),Fe=s.useMemo(()=>_?s.createElement(XE,{value:"ANTD_SEARCHING",disabled:!0},s.createElement(dv,{size:"small"})):I,[_,I]),Ae=_?[{value:"ANTD_SEARCHING",disabled:!0,label:s.createElement(dv,{size:"small"})}]:z,Ke=_?W$:S,tt=ne("mentions",a),vt=(0,wE.Z)(F),bt=(0,Ln.Z)(tt),[lt,ct,mt]=H$(tt,bt),[Rt,wt]=(0,kf.Z)("mentions",W),Bt=ve&&s.createElement(s.Fragment,null,ye),Ct=J()(fe==null?void 0:fe.className,o,f,mt,bt),dn=s.createElement(GE,Object.assign({silent:_,prefixCls:tt,notFoundContent:Te,className:Ct,disabled:y,allowClear:vt,direction:ue,style:Object.assign(Object.assign({},fe==null?void 0:fe.style),k)},H,{filterOption:Ke,onFocus:Se,onBlur:ze,dropdownClassName:J()(Z,f,ct,mt,bt),ref:ie,options:Ae,suffix:Bt,classNames:{mentions:J()({[`${tt}-disabled`]:y,[`${tt}-focused`]:X,[`${tt}-rtl`]:ue==="rtl"},ct),variant:J()({[`${tt}-${Rt}`]:wt},(0,Ya.Z)(tt,we)),affixWrapper:ct}}),Fe);return lt(dn)});_b.Option=XE;const G$=(0,zl.Z)(_b,void 0,void 0,"mentions");_b._InternalPanelDoNotUseOrYouWillBeFired=G$,_b.getMentions=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{prefix:a="@",split:o=" "}=t,f=gx(a);return e.split(o).map(function(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",_=null;return f.some(S=>y.slice(0,S.length)===S?(_=S,!0):!1),_!==null?{prefix:_,value:y.slice(_.length)}:null}).filter(y=>!!y&&!!y.value)};var X$=_b;let Td=null,wg=e=>e(),xb=[],Cb={};function KE(){const{getContainer:e,duration:t,rtl:a,maxCount:o,top:f}=Cb,y=(e==null?void 0:e())||document.body;return{getContainer:()=>y,duration:t,rtl:a,maxCount:o,top:f}}const K$=s.forwardRef((e,t)=>{const{messageConfig:a,sync:o}=e,{getPrefixCls:f}=(0,s.useContext)(_e.E_),y=Cb.prefixCls||f("message"),_=(0,s.useContext)(_f),[S,I]=go(Object.assign(Object.assign(Object.assign({},a),{prefixCls:y}),_.message));return s.useImperativeHandle(t,()=>{const A=Object.assign({},S);return Object.keys(A).forEach(z=>{A[z]=function(){return o(),S[z].apply(S,arguments)}}),{instance:A,sync:o}}),I}),q$=s.forwardRef((e,t)=>{const[a,o]=s.useState(KE),f=()=>{o(KE)};s.useEffect(f,[]);const y=(0,ko.w6)(),_=y.getRootPrefixCls(),S=y.getIconPrefixCls(),I=y.getTheme(),A=s.createElement(K$,{ref:t,sync:f,messageConfig:a});return s.createElement(ko.ZP,{prefixCls:_,iconPrefixCls:S,theme:I},y.holderRender?y.holderRender(A):A)});function vx(){if(!Td){const e=document.createDocumentFragment(),t={fragment:e};Td=t,wg(()=>{pr()(s.createElement(q$,{ref:o=>{const{instance:f,sync:y}=o||{};Promise.resolve().then(()=>{!t.instance&&f&&(t.instance=f,t.sync=y,vx())})}}),e)});return}Td.instance&&(xb.forEach(e=>{const{type:t,skipped:a}=e;if(!a)switch(t){case"open":{wg(()=>{const o=Td.instance.open(Object.assign(Object.assign({},Cb),e.config));o==null||o.then(e.resolve),e.setCloseFn(o)});break}case"destroy":wg(()=>{Td==null||Td.instance.destroy(e.key)});break;default:wg(()=>{var o;const f=(o=Td.instance)[t].apply(o,(0,Ie.Z)(e.args));f==null||f.then(e.resolve),e.setCloseFn(f)})}}),xb=[])}function Y$(e){Cb=Object.assign(Object.assign({},Cb),e),wg(()=>{var t;(t=Td==null?void 0:Td.sync)===null||t===void 0||t.call(Td)})}function J$(e){const t=Vo(a=>{let o;const f={type:"open",config:e,resolve:a,setCloseFn:y=>{o=y}};return xb.push(f),()=>{o?wg(()=>{o()}):f.skipped=!0}});return vx(),t}function Q$(e,t){const a=(0,ko.w6)(),o=Vo(f=>{let y;const _={type:e,args:t,resolve:f,setCloseFn:S=>{y=S}};return xb.push(_),()=>{y?wg(()=>{y()}):_.skipped=!0}});return vx(),o}const e4=e=>{xb.push({type:"destroy",key:e}),vx()},t4=["success","info","warning","error","loading"],qE={open:J$,destroy:e4,config:Y$,useMessage:so,_InternalPanelDoNotUseOrYouWillBeFired:Ni};t4.forEach(e=>{qE[e]=function(){for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return Q$(e,a)}});const n7=()=>{};let r7=null,i7=null;var n4=qE,r4=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const i4=e=>{const{prefixCls:t,className:a,closeIcon:o,closable:f,type:y,title:_,children:S,footer:I}=e,A=r4(e,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:z}=s.useContext(_e.E_),L=z(),F=t||z("modal"),Z=(0,Ln.Z)(L),[k,W,H]=mh(F,Z),X=`${F}-confirm`;let Q={};return y?Q={closable:f!=null?f:!1,title:"",footer:"",children:s.createElement(el,Object.assign({},e,{prefixCls:F,confirmPrefixCls:X,rootPrefixCls:L,content:S}))}:Q={closable:f!=null?f:!0,title:_,footer:I!==null&&s.createElement(uh,Object.assign({},e)),children:S},k(s.createElement(Ad,Object.assign({prefixCls:F,className:J()(W,`${F}-pure-panel`,y&&X,y&&`${X}-${y}`,a,H,Z)},A,{closeIcon:sf(F,o),closable:f},Q)))};var o4=(0,zl.i)(i4);function YE(e){return vh(Lg(e))}const Jd=Nd;Jd.useModal=mf,Jd.info=function(t){return vh(xp(t))},Jd.success=function(t){return vh(yh(t))},Jd.error=function(t){return vh(Wu(t))},Jd.warning=YE,Jd.warn=YE,Jd.confirm=function(t){return vh(mm(t))},Jd.destroyAll=function(){for(;yd.length;){const t=yd.pop();t&&t()}},Jd.config=Cp,Jd._InternalPanelDoNotUseOrYouWillBeFired=o4;var a4=Jd;let Qd=null,yx=e=>e(),bx=[],Sb={};function JE(){const{getContainer:e,rtl:t,maxCount:a,top:o,bottom:f,showProgress:y,pauseOnHover:_}=Sb,S=(e==null?void 0:e())||document.body;return{getContainer:()=>S,rtl:t,maxCount:a,top:o,bottom:f,showProgress:y,pauseOnHover:_}}const s4=s.forwardRef((e,t)=>{const{notificationConfig:a,sync:o}=e,{getPrefixCls:f}=(0,s.useContext)(_e.E_),y=Sb.prefixCls||f("notification"),_=(0,s.useContext)(_f),[S,I]=yf(Object.assign(Object.assign(Object.assign({},a),{prefixCls:y}),_.notification));return s.useEffect(o,[]),s.useImperativeHandle(t,()=>{const A=Object.assign({},S);return Object.keys(A).forEach(z=>{A[z]=function(){return o(),S[z].apply(S,arguments)}}),{instance:A,sync:o}}),I}),l4=s.forwardRef((e,t)=>{const[a,o]=s.useState(JE),f=()=>{o(JE)};s.useEffect(f,[]);const y=(0,ko.w6)(),_=y.getRootPrefixCls(),S=y.getIconPrefixCls(),I=y.getTheme(),A=s.createElement(s4,{ref:t,sync:f,notificationConfig:a});return s.createElement(ko.ZP,{prefixCls:_,iconPrefixCls:S,theme:I},y.holderRender?y.holderRender(A):A)});function sw(){if(!Qd){const e=document.createDocumentFragment(),t={fragment:e};Qd=t,yx(()=>{pr()(s.createElement(l4,{ref:o=>{const{instance:f,sync:y}=o||{};Promise.resolve().then(()=>{!t.instance&&f&&(t.instance=f,t.sync=y,sw())})}}),e)});return}Qd.instance&&(bx.forEach(e=>{switch(e.type){case"open":{yx(()=>{Qd.instance.open(Object.assign(Object.assign({},Sb),e.config))});break}case"destroy":yx(()=>{Qd==null||Qd.instance.destroy(e.key)});break}}),bx=[])}function c4(e){Sb=Object.assign(Object.assign({},Sb),e),yx(()=>{var t;(t=Qd==null?void 0:Qd.sync)===null||t===void 0||t.call(Qd)})}function QE(e){const t=(0,ko.w6)();bx.push({type:"open",config:e}),sw()}const u4=e=>{bx.push({type:"destroy",key:e}),sw()},d4=["success","info","warning","error"],eI={open:QE,destroy:u4,config:c4,useNotification:bf,_InternalPanelDoNotUseOrYouWillBeFired:oc};d4.forEach(e=>{eI[e]=t=>QE(Object.assign(Object.assign({},t),{type:e}))});const a7=()=>{};let s7=null,l7=null;var f4=eI,tI=j(17522),nI=j(97294);const h4=e=>{const{componentCls:t,iconCls:a,antCls:o,zIndexPopup:f,colorText:y,colorWarning:_,marginXXS:S,marginXS:I,fontSize:A,fontWeightStrong:z,colorTextHeading:L}=e;return{[t]:{zIndex:f,[`&${o}-popover`]:{fontSize:A},[`${t}-message`]:{marginBottom:I,display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${t}-message-icon ${a}`]:{color:_,fontSize:A,lineHeight:1,marginInlineEnd:I},[`${t}-title`]:{fontWeight:z,color:L,"&:only-child":{fontWeight:"normal"}},[`${t}-description`]:{marginTop:S,color:y}},[`${t}-buttons`]:{textAlign:"end",whiteSpace:"nowrap",button:{marginInlineStart:I}}}}},m4=e=>{const{zIndexPopupBase:t}=e;return{zIndexPopup:t+60}};var rI=(0,oe.I$)("Popconfirm",e=>h4(e),m4,{resetStyle:!1}),p4=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const iI=e=>{const{prefixCls:t,okButtonProps:a,cancelButtonProps:o,title:f,description:y,cancelText:_,okText:S,okType:I="primary",icon:A=s.createElement(Dr.Z,null),showCancel:z=!0,close:L,onConfirm:F,onCancel:Z,onPopupClick:k}=e,{getPrefixCls:W}=s.useContext(_e.E_),[H]=(0,rr.Z)("Popconfirm",Gc.Z.Popconfirm),X=(0,tI.Z)(f),Q=(0,tI.Z)(y);return s.createElement("div",{className:`${t}-inner-content`,onClick:k},s.createElement("div",{className:`${t}-message`},A&&s.createElement("span",{className:`${t}-message-icon`},A),s.createElement("div",{className:`${t}-message-text`},X&&s.createElement("div",{className:`${t}-title`},X),Q&&s.createElement("div",{className:`${t}-description`},Q))),s.createElement("div",{className:`${t}-buttons`},z&&s.createElement(ks,Object.assign({onClick:Z,size:"small"},o),_||(H==null?void 0:H.cancelText)),s.createElement(Qa,{buttonProps:Object.assign(Object.assign({size:"small"},Ha(I)),a),actionFn:F,close:L,prefixCls:W("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},S||(H==null?void 0:H.okText))))};var g4=e=>{const{prefixCls:t,placement:a,className:o,style:f}=e,y=p4(e,["prefixCls","placement","className","style"]),{getPrefixCls:_}=s.useContext(_e.E_),S=_("popconfirm",t),[I]=rI(S);return I(s.createElement(nI.ZP,{placement:a,className:J()(S,o),style:f,content:s.createElement(iI,Object.assign({prefixCls:S},y))}))},v4=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const oI=s.forwardRef((e,t)=>{var a,o;const{prefixCls:f,placement:y="top",trigger:_="click",okType:S="primary",icon:I=s.createElement(Dr.Z,null),children:A,overlayClassName:z,onOpenChange:L,onVisibleChange:F,overlayStyle:Z,styles:k,classNames:W}=e,H=v4(e,["prefixCls","placement","trigger","okType","icon","children","overlayClassName","onOpenChange","onVisibleChange","overlayStyle","styles","classNames"]),{getPrefixCls:X,className:Q,style:re,classNames:ie,styles:ne}=(0,_e.dj)("popconfirm"),[ae,ue]=(0,zt.Z)(!1,{value:(a=e.open)!==null&&a!==void 0?a:e.visible,defaultValue:(o=e.defaultOpen)!==null&&o!==void 0?o:e.defaultVisible}),fe=(Ae,Ke)=>{ue(Ae,!0),F==null||F(Ae),L==null||L(Ae,Ke)},he=Ae=>{fe(!1,Ae)},ve=Ae=>{var Ke;return(Ke=e.onConfirm)===null||Ke===void 0?void 0:Ke.call(void 0,Ae)},ye=Ae=>{var Ke;fe(!1,Ae),(Ke=e.onCancel)===null||Ke===void 0||Ke.call(void 0,Ae)},we=(Ae,Ke)=>{const{disabled:tt=!1}=e;tt||fe(Ae,Ke)},Se=X("popconfirm",f),ze=J()(Se,Q,z,ie.root,W==null?void 0:W.root),Te=J()(ie.body,W==null?void 0:W.body),[Fe]=rI(Se);return Fe(s.createElement(Mh.Z,Object.assign({},(0,Ci.Z)(H,["title"]),{trigger:_,placement:y,onOpenChange:we,open:ae,ref:t,classNames:{root:ze,body:Te},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign({},ne.root),re),Z),k==null?void 0:k.root),body:Object.assign(Object.assign({},ne.body),k==null?void 0:k.body)},content:s.createElement(iI,Object.assign({okType:S,icon:I},e,{prefixCls:Se,close:he,onConfirm:ve,onCancel:ye})),"data-popover-inject":!0}),A))});oI._InternalPanelDoNotUseOrYouWillBeFired=g4;var y4=oI,lw=j(3642),aI={percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},sI=function(){var t=(0,s.useRef)([]),a=(0,s.useRef)(null);return(0,s.useEffect)(function(){var o=Date.now(),f=!1;t.current.forEach(function(y){if(y){f=!0;var _=y.style;_.transitionDuration=".3s, .3s, .3s, .06s",a.current&&o-a.current<100&&(_.transitionDuration="0s, 0s")}}),f&&(a.current=Date.now())}),t.current},b4=["className","percent","prefixCls","strokeColor","strokeLinecap","strokeWidth","style","trailColor","trailWidth","transition"],_4=function(t){var a=(0,K.Z)((0,K.Z)({},aI),t),o=a.className,f=a.percent,y=a.prefixCls,_=a.strokeColor,S=a.strokeLinecap,I=a.strokeWidth,A=a.style,z=a.trailColor,L=a.trailWidth,F=a.transition,Z=(0,de.Z)(a,b4);delete Z.gapPosition;var k=Array.isArray(f)?f:[f],W=Array.isArray(_)?_:[_],H=sI(),X=I/2,Q=100-I/2,re="M ".concat(S==="round"?X:0,",").concat(X,`
         L `).concat(S==="round"?Q:100,",").concat(X),ie="0 0 100 ".concat(I),ne=0;return s.createElement("svg",(0,Ue.Z)({className:J()("".concat(y,"-line"),o),viewBox:ie,preserveAspectRatio:"none",style:A},Z),s.createElement("path",{className:"".concat(y,"-line-trail"),d:re,strokeLinecap:S,stroke:z,strokeWidth:L||I,fillOpacity:"0"}),k.map(function(ae,ue){var fe=1;switch(S){case"round":fe=1-I/100;break;case"square":fe=1-I/2/100;break;default:fe=1;break}var he={strokeDasharray:"".concat(ae*fe,"px, 100px"),strokeDashoffset:"-".concat(ne,"px"),transition:F||"stroke-dashoffset 0.3s ease 0s, stroke-dasharray .3s ease 0s, stroke 0.3s linear"},ve=W[ue]||W[W.length-1];return ne+=ae,s.createElement("path",{key:ue,className:"".concat(y,"-line-path"),d:re,strokeLinecap:S,stroke:ve,strokeWidth:I,fillOpacity:"0",ref:function(we){H[ue]=we},style:he})}))},x4=_4,lI=0,C4=(0,dd.Z)();function S4(){var e;return C4?(e=lI,lI+=1):e="TEST_OR_SSR",e}var w4=function(e){var t=s.useState(),a=(0,Pe.Z)(t,2),o=a[0],f=a[1];return s.useEffect(function(){f("rc_progress_".concat(S4()))},[]),e||o},cI=function(t){var a=t.bg,o=t.children;return s.createElement("div",{style:{width:"100%",height:"100%",background:a}},o)};function uI(e,t){return Object.keys(e).map(function(a){var o=parseFloat(a),f="".concat(Math.floor(o*t),"%");return"".concat(e[a]," ").concat(f)})}var E4=s.forwardRef(function(e,t){var a=e.prefixCls,o=e.color,f=e.gradientId,y=e.radius,_=e.style,S=e.ptg,I=e.strokeLinecap,A=e.strokeWidth,z=e.size,L=e.gapDegree,F=o&&(0,dt.Z)(o)==="object",Z=F?"#FFF":void 0,k=z/2,W=s.createElement("circle",{className:"".concat(a,"-circle-path"),r:y,cx:k,cy:k,stroke:Z,strokeLinecap:I,strokeWidth:A,opacity:S===0?0:1,style:_,ref:t});if(!F)return W;var H="".concat(f,"-conic"),X=L?"".concat(180+L/2,"deg"):"0deg",Q=uI(o,(360-L)/360),re=uI(o,1),ie="conic-gradient(from ".concat(X,", ").concat(Q.join(", "),")"),ne="linear-gradient(to ".concat(L?"bottom":"top",", ").concat(re.join(", "),")");return s.createElement(s.Fragment,null,s.createElement("mask",{id:H},W),s.createElement("foreignObject",{x:0,y:0,width:z,height:z,mask:"url(#".concat(H,")")},s.createElement(cI,{bg:ne},s.createElement(cI,{bg:ie}))))}),I4=E4,wb=100,cw=function(t,a,o,f,y,_,S,I,A,z){var L=arguments.length>10&&arguments[10]!==void 0?arguments[10]:0,F=o/100*360*((360-_)/360),Z=_===0?0:{bottom:0,top:180,left:90,right:-90}[S],k=(100-f)/100*a;A==="round"&&f!==100&&(k+=z/2,k>=a&&(k=a-.01));var W=wb/2;return{stroke:typeof I=="string"?I:void 0,strokeDasharray:"".concat(a,"px ").concat(t),strokeDashoffset:k+L,transform:"rotate(".concat(y+F+Z,"deg)"),transformOrigin:"".concat(W,"px ").concat(W,"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},T4=["id","prefixCls","steps","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function dI(e){var t=e!=null?e:[];return Array.isArray(t)?t:[t]}var M4=function(t){var a=(0,K.Z)((0,K.Z)({},aI),t),o=a.id,f=a.prefixCls,y=a.steps,_=a.strokeWidth,S=a.trailWidth,I=a.gapDegree,A=I===void 0?0:I,z=a.gapPosition,L=a.trailColor,F=a.strokeLinecap,Z=a.style,k=a.className,W=a.strokeColor,H=a.percent,X=(0,de.Z)(a,T4),Q=wb/2,re=w4(o),ie="".concat(re,"-gradient"),ne=Q-_/2,ae=Math.PI*2*ne,ue=A>0?90+A/2:-90,fe=ae*((360-A)/360),he=(0,dt.Z)(y)==="object"?y:{count:y,gap:2},ve=he.count,ye=he.gap,we=dI(H),Se=dI(W),ze=Se.find(function(bt){return bt&&(0,dt.Z)(bt)==="object"}),Te=ze&&(0,dt.Z)(ze)==="object",Fe=Te?"butt":F,Ae=cw(ae,fe,0,100,ue,A,z,L,Fe,_),Ke=sI(),tt=function(){var lt=0;return we.map(function(ct,mt){var Rt=Se[mt]||Se[Se.length-1],wt=cw(ae,fe,lt,ct,ue,A,z,Rt,Fe,_);return lt+=ct,s.createElement(I4,{key:mt,color:Rt,ptg:ct,radius:ne,prefixCls:f,gradientId:ie,style:wt,strokeLinecap:Fe,strokeWidth:_,gapDegree:A,ref:function(Ct){Ke[mt]=Ct},size:wb})}).reverse()},vt=function(){var lt=Math.round(ve*(we[0]/100)),ct=100/ve,mt=0;return new Array(ve).fill(null).map(function(Rt,wt){var Bt=wt<=lt-1?Se[0]:L,Ct=Bt&&(0,dt.Z)(Bt)==="object"?"url(#".concat(ie,")"):void 0,dn=cw(ae,fe,mt,ct,ue,A,z,Bt,"butt",_,ye);return mt+=(fe-dn.strokeDashoffset+ye)*100/fe,s.createElement("circle",{key:wt,className:"".concat(f,"-circle-path"),r:ne,cx:Q,cy:Q,stroke:Ct,strokeWidth:_,opacity:1,style:dn,ref:function(rn){Ke[wt]=rn}})})};return s.createElement("svg",(0,Ue.Z)({className:J()("".concat(f,"-circle"),k),viewBox:"0 0 ".concat(wb," ").concat(wb),style:Z,id:o,role:"presentation"},X),!ve&&s.createElement("circle",{className:"".concat(f,"-circle-trail"),r:ne,cx:Q,cy:Q,stroke:L,strokeLinecap:Fe,strokeWidth:S||_,style:Ae}),ve?vt():tt())},fI=M4,d7={Line:x4,Circle:fI},rp=j(68640);function ip(e){return!e||e<0?0:e>100?100:e}function _x(e){let{success:t,successPercent:a}=e,o=a;return t&&"progress"in t&&(o=t.progress),t&&"percent"in t&&(o=t.percent),o}const P4=e=>{let{percent:t,success:a,successPercent:o}=e;const f=ip(_x({success:a,successPercent:o}));return[f,ip(ip(t)-f)]},O4=e=>{let{success:t={},strokeColor:a}=e;const{strokeColor:o}=t;return[o||rp.ez.green,a||null]},xx=(e,t,a)=>{var o,f,y,_;let S=-1,I=-1;if(t==="step"){const A=a.steps,z=a.strokeWidth;typeof e=="string"||typeof e=="undefined"?(S=e==="small"?2:14,I=z!=null?z:8):typeof e=="number"?[S,I]=[e,e]:[S=14,I=8]=Array.isArray(e)?e:[e.width,e.height],S*=A}else if(t==="line"){const A=a==null?void 0:a.strokeWidth;typeof e=="string"||typeof e=="undefined"?I=A||(e==="small"?6:8):typeof e=="number"?[S,I]=[e,e]:[S=-1,I=8]=Array.isArray(e)?e:[e.width,e.height]}else(t==="circle"||t==="dashboard")&&(typeof e=="string"||typeof e=="undefined"?[S,I]=e==="small"?[60,60]:[120,120]:typeof e=="number"?[S,I]=[e,e]:Array.isArray(e)&&(S=(f=(o=e[0])!==null&&o!==void 0?o:e[1])!==null&&f!==void 0?f:120,I=(_=(y=e[0])!==null&&y!==void 0?y:e[1])!==null&&_!==void 0?_:120));return[S,I]},R4=3,$4=e=>R4/e*100;var A4=e=>{const{prefixCls:t,trailColor:a=null,strokeLinecap:o="round",gapPosition:f,gapDegree:y,width:_=120,type:S,children:I,success:A,size:z=_,steps:L}=e,[F,Z]=xx(z,"circle");let{strokeWidth:k}=e;k===void 0&&(k=Math.max($4(F),6));const W={width:F,height:Z,fontSize:F*.15+6},H=s.useMemo(()=>{if(y||y===0)return y;if(S==="dashboard")return 75},[y,S]),X=P4(e),Q=f||S==="dashboard"&&"bottom"||void 0,re=Object.prototype.toString.call(e.strokeColor)==="[object Object]",ie=O4({success:A,strokeColor:e.strokeColor}),ne=J()(`${t}-inner`,{[`${t}-circle-gradient`]:re}),ae=s.createElement(fI,{steps:L,percent:L?X[1]:X,strokeWidth:k,trailWidth:k,strokeColor:L?ie[1]:ie,strokeLinecap:o,trailColor:a,prefixCls:t,gapDegree:H,gapPosition:Q}),ue=F<=20,fe=s.createElement("div",{className:ne,style:W},ae,!ue&&I);return ue?s.createElement(su.Z,{title:I},fe):fe};const Cx="--progress-line-stroke-color",hI="--progress-percent",mI=e=>{const t=e?"100%":"-100%";return new me.E4(`antProgress${e?"RTL":"LTR"}Active`,{"0%":{transform:`translateX(${t}) scaleX(0)`,opacity:.1},"20%":{transform:`translateX(${t}) scaleX(0)`,opacity:.5},to:{transform:"translateX(0) scaleX(1)",opacity:0}})},D4=e=>{const{componentCls:t,iconCls:a}=e;return{[t]:Object.assign(Object.assign({},(0,nn.Wf)(e)),{display:"inline-block","&-rtl":{direction:"rtl"},"&-line":{position:"relative",width:"100%",fontSize:e.fontSize},[`${t}-outer`]:{display:"inline-flex",alignItems:"center",width:"100%"},[`${t}-inner`]:{position:"relative",display:"inline-block",width:"100%",flex:1,overflow:"hidden",verticalAlign:"middle",backgroundColor:e.remainingColor,borderRadius:e.lineBorderRadius},[`${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.defaultColor}},[`${t}-success-bg, ${t}-bg`]:{position:"relative",background:e.defaultColor,borderRadius:e.lineBorderRadius,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOutCirc}`},[`${t}-layout-bottom`]:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",[`${t}-text`]:{width:"max-content",marginInlineStart:0,marginTop:e.marginXXS}},[`${t}-bg`]:{overflow:"hidden","&::after":{content:'""',background:{_multi_value_:!0,value:["inherit",`var(${Cx})`]},height:"100%",width:`calc(1 / var(${hI}) * 100%)`,display:"block"},[`&${t}-bg-inner`]:{minWidth:"max-content","&::after":{content:"none"},[`${t}-text-inner`]:{color:e.colorWhite,[`&${t}-text-bright`]:{color:"rgba(0, 0, 0, 0.45)"}}}},[`${t}-success-bg`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,backgroundColor:e.colorSuccess},[`${t}-text`]:{display:"inline-block",marginInlineStart:e.marginXS,color:e.colorText,lineHeight:1,width:"2em",whiteSpace:"nowrap",textAlign:"start",verticalAlign:"middle",wordBreak:"normal",[a]:{fontSize:e.fontSize},[`&${t}-text-outer`]:{width:"max-content"},[`&${t}-text-outer${t}-text-start`]:{width:"max-content",marginInlineStart:0,marginInlineEnd:e.marginXS}},[`${t}-text-inner`]:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",marginInlineStart:0,padding:`0 ${(0,me.bf)(e.paddingXXS)}`,[`&${t}-text-start`]:{justifyContent:"start"},[`&${t}-text-end`]:{justifyContent:"end"}},[`&${t}-status-active`]:{[`${t}-bg::before`]:{position:"absolute",inset:0,backgroundColor:e.colorBgContainer,borderRadius:e.lineBorderRadius,opacity:0,animationName:mI(),animationDuration:e.progressActiveMotionDuration,animationTimingFunction:e.motionEaseOutQuint,animationIterationCount:"infinite",content:'""'}},[`&${t}-rtl${t}-status-active`]:{[`${t}-bg::before`]:{animationName:mI(!0)}},[`&${t}-status-exception`]:{[`${t}-bg`]:{backgroundColor:e.colorError},[`${t}-text`]:{color:e.colorError}},[`&${t}-status-exception ${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorError}},[`&${t}-status-success`]:{[`${t}-bg`]:{backgroundColor:e.colorSuccess},[`${t}-text`]:{color:e.colorSuccess}},[`&${t}-status-success ${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorSuccess}}})}},z4=e=>{const{componentCls:t,iconCls:a}=e;return{[t]:{[`${t}-circle-trail`]:{stroke:e.remainingColor},[`&${t}-circle ${t}-inner`]:{position:"relative",lineHeight:1,backgroundColor:"transparent"},[`&${t}-circle ${t}-text`]:{position:"absolute",insetBlockStart:"50%",insetInlineStart:0,width:"100%",margin:0,padding:0,color:e.circleTextColor,fontSize:e.circleTextFontSize,lineHeight:1,whiteSpace:"normal",textAlign:"center",transform:"translateY(-50%)",[a]:{fontSize:e.circleIconFontSize}},[`${t}-circle&-status-exception`]:{[`${t}-text`]:{color:e.colorError}},[`${t}-circle&-status-success`]:{[`${t}-text`]:{color:e.colorSuccess}}},[`${t}-inline-circle`]:{lineHeight:1,[`${t}-inner`]:{verticalAlign:"bottom"}}}},L4=e=>{const{componentCls:t}=e;return{[t]:{[`${t}-steps`]:{display:"inline-block","&-outer":{display:"flex",flexDirection:"row",alignItems:"center"},"&-item":{flexShrink:0,minWidth:e.progressStepMinWidth,marginInlineEnd:e.progressStepMarginInlineEnd,backgroundColor:e.remainingColor,transition:`all ${e.motionDurationSlow}`,"&-active":{backgroundColor:e.defaultColor}}}}}},N4=e=>{const{componentCls:t,iconCls:a}=e;return{[t]:{[`${t}-small&-line, ${t}-small&-line ${t}-text ${a}`]:{fontSize:e.fontSizeSM}}}},B4=e=>({circleTextColor:e.colorText,defaultColor:e.colorInfo,remainingColor:e.colorFillSecondary,lineBorderRadius:100,circleTextFontSize:"1em",circleIconFontSize:`${e.fontSize/e.fontSizeSM}em`});var F4=(0,oe.I$)("Progress",e=>{const t=e.calc(e.marginXXS).div(2).equal(),a=(0,kr.IX)(e,{progressStepMarginInlineEnd:t,progressStepMinWidth:t,progressActiveMotionDuration:"2.4s"});return[D4(a),z4(a),L4(a),N4(a)]},B4),k4=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const j4=e=>{let t=[];return Object.keys(e).forEach(a=>{const o=parseFloat(a.replace(/%/g,""));Number.isNaN(o)||t.push({key:o,value:e[a]})}),t=t.sort((a,o)=>a.key-o.key),t.map(a=>{let{key:o,value:f}=a;return`${f} ${o}%`}).join(", ")},Z4=(e,t)=>{const{from:a=rp.ez.blue,to:o=rp.ez.blue,direction:f=t==="rtl"?"to left":"to right"}=e,y=k4(e,["from","to","direction"]);if(Object.keys(y).length!==0){const S=j4(y),I=`linear-gradient(${f}, ${S})`;return{background:I,[Cx]:I}}const _=`linear-gradient(${f}, ${a}, ${o})`;return{background:_,[Cx]:_}};var V4=e=>{const{prefixCls:t,direction:a,percent:o,size:f,strokeWidth:y,strokeColor:_,strokeLinecap:S="round",children:I,trailColor:A=null,percentPosition:z,success:L}=e,{align:F,type:Z}=z,k=_&&typeof _!="string"?Z4(_,a):{[Cx]:_,background:_},W=S==="square"||S==="butt"?0:void 0,H=f!=null?f:[-1,y||(f==="small"?6:8)],[X,Q]=xx(H,"line",{strokeWidth:y}),re={backgroundColor:A||void 0,borderRadius:W},ie=Object.assign(Object.assign({width:`${ip(o)}%`,height:Q,borderRadius:W},k),{[hI]:ip(o)/100}),ne=_x(e),ae={width:`${ip(ne)}%`,height:Q,borderRadius:W,backgroundColor:L==null?void 0:L.strokeColor},ue={width:X<0?"100%":X},fe=s.createElement("div",{className:`${t}-inner`,style:re},s.createElement("div",{className:J()(`${t}-bg`,`${t}-bg-${Z}`),style:ie},Z==="inner"&&I),ne!==void 0&&s.createElement("div",{className:`${t}-success-bg`,style:ae})),he=Z==="outer"&&F==="start",ve=Z==="outer"&&F==="end";return Z==="outer"&&F==="center"?s.createElement("div",{className:`${t}-layout-bottom`},fe,I):s.createElement("div",{className:`${t}-outer`,style:ue},he&&I,fe,ve&&I)},H4=e=>{const{size:t,steps:a,rounding:o=Math.round,percent:f=0,strokeWidth:y=8,strokeColor:_,trailColor:S=null,prefixCls:I,children:A}=e,z=o(a*(f/100)),L=t==="small"?2:14,F=t!=null?t:[L,y],[Z,k]=xx(F,"step",{steps:a,strokeWidth:y}),W=Z/a,H=Array.from({length:a});for(let X=0;X<a;X++){const Q=Array.isArray(_)?_[X]:_;H[X]=s.createElement("div",{key:X,className:J()(`${I}-steps-item`,{[`${I}-steps-item-active`]:X<=z-1}),style:{backgroundColor:X<=z-1?Q:S,width:W,height:k}})}return s.createElement("div",{className:`${I}-steps-outer`},H,A)},U4=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const p7=null,W4=["normal","exception","active","success"];var G4=s.forwardRef((e,t)=>{const{prefixCls:a,className:o,rootClassName:f,steps:y,strokeColor:_,percent:S=0,size:I="default",showInfo:A=!0,type:z="line",status:L,format:F,style:Z,percentPosition:k={}}=e,W=U4(e,["prefixCls","className","rootClassName","steps","strokeColor","percent","size","showInfo","type","status","format","style","percentPosition"]),{align:H="end",type:X="outer"}=k,Q=Array.isArray(_)?_[0]:_,re=typeof _=="string"||Array.isArray(_)?_:void 0,ie=s.useMemo(()=>{if(Q){const tt=typeof Q=="string"?Q:Object.values(Q)[0];return new Sl.t(tt).isLight()}return!1},[_]),ne=s.useMemo(()=>{var tt,vt;const bt=_x(e);return parseInt(bt!==void 0?(tt=bt!=null?bt:0)===null||tt===void 0?void 0:tt.toString():(vt=S!=null?S:0)===null||vt===void 0?void 0:vt.toString(),10)},[S,e.success,e.successPercent]),ae=s.useMemo(()=>!W4.includes(L)&&ne>=100?"success":L||"normal",[L,ne]),{getPrefixCls:ue,direction:fe,progress:he}=s.useContext(_e.E_),ve=ue("progress",a),[ye,we,Se]=F4(ve),ze=z==="line",Te=ze&&!y,Fe=s.useMemo(()=>{if(!A)return null;const tt=_x(e);let vt;const bt=F||(ct=>`${ct}%`),lt=ze&&ie&&X==="inner";return X==="inner"||F||ae!=="exception"&&ae!=="success"?vt=bt(ip(S),ip(tt)):ae==="exception"?vt=ze?s.createElement(Ar.Z,null):s.createElement(Cr.Z,null):ae==="success"&&(vt=ze?s.createElement(Ht.Z,null):s.createElement(lw.Z,null)),s.createElement("span",{className:J()(`${ve}-text`,{[`${ve}-text-bright`]:lt,[`${ve}-text-${H}`]:Te,[`${ve}-text-${X}`]:Te}),title:typeof vt=="string"?vt:void 0},vt)},[A,S,ne,ae,z,ve,F]);let Ae;z==="line"?Ae=y?s.createElement(H4,Object.assign({},e,{strokeColor:re,prefixCls:ve,steps:typeof y=="object"?y.count:y}),Fe):s.createElement(V4,Object.assign({},e,{strokeColor:Q,prefixCls:ve,direction:fe,percentPosition:{align:H,type:X}}),Fe):(z==="circle"||z==="dashboard")&&(Ae=s.createElement(A4,Object.assign({},e,{strokeColor:Q,prefixCls:ve,progressStatus:ae}),Fe));const Ke=J()(ve,`${ve}-status-${ae}`,{[`${ve}-${z==="dashboard"&&"circle"||z}`]:z!=="line",[`${ve}-inline-circle`]:z==="circle"&&xx(I,"circle")[0]<=20,[`${ve}-line`]:Te,[`${ve}-line-align-${H}`]:Te,[`${ve}-line-position-${X}`]:Te,[`${ve}-steps`]:y,[`${ve}-show-info`]:A,[`${ve}-${I}`]:typeof I=="string",[`${ve}-rtl`]:fe==="rtl"},he==null?void 0:he.className,o,f,we,Se);return ye(s.createElement("div",Object.assign({ref:t,style:Object.assign(Object.assign({},he==null?void 0:he.style),Z),className:Ke,role:"progressbar","aria-valuenow":ne,"aria-valuemin":0,"aria-valuemax":100},(0,Ci.Z)(W,["trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","success","successPercent"])),Ae))}),uw=G4,X4=j(62851);function Eg(e,t){var a=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=(0,X4.Z)(e))||t&&e&&typeof e.length=="number"){a&&(e=a);var o=0,f=function(){};return{s:f,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(A){throw A},f}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var y,_=!0,S=!1;return{s:function(){a=a.call(e)},n:function(){var A=a.next();return _=A.done,A},e:function(A){S=!0,y=A},f:function(){try{_||a.return==null||a.return()}finally{if(S)throw y}}}}var fv,Eb;function Fu(e,t,a){if(t<0||t>31||e>>>t)throw new RangeError("Value out of range");for(var o=t-1;o>=0;o--)a.push(e>>>o&1)}function Yh(e,t){return(e>>>t&1)!=0}function id(e){if(!e)throw new Error("Assertion error")}var Kf=function(){function e(t,a){(0,Fn.Z)(this,e),(0,ge.Z)(this,"modeBits",void 0),(0,ge.Z)(this,"numBitsCharCount",void 0),this.modeBits=t,this.numBitsCharCount=a}return(0,un.Z)(e,[{key:"numCharCountBits",value:function(a){return this.numBitsCharCount[Math.floor((a+7)/17)]}}]),e}();fv=Kf,(0,ge.Z)(Kf,"NUMERIC",new fv(1,[10,12,14])),(0,ge.Z)(Kf,"ALPHANUMERIC",new fv(2,[9,11,13])),(0,ge.Z)(Kf,"BYTE",new fv(4,[8,16,16])),(0,ge.Z)(Kf,"KANJI",new fv(8,[8,10,12])),(0,ge.Z)(Kf,"ECI",new fv(7,[0,0,0]));var Md=(0,un.Z)(function e(t,a){(0,Fn.Z)(this,e),(0,ge.Z)(this,"ordinal",void 0),(0,ge.Z)(this,"formatBits",void 0),this.ordinal=t,this.formatBits=a});Eb=Md,(0,ge.Z)(Md,"LOW",new Eb(0,1)),(0,ge.Z)(Md,"MEDIUM",new Eb(1,0)),(0,ge.Z)(Md,"QUARTILE",new Eb(2,3)),(0,ge.Z)(Md,"HIGH",new Eb(3,2));var Ig=function(){function e(t,a,o){if((0,Fn.Z)(this,e),(0,ge.Z)(this,"mode",void 0),(0,ge.Z)(this,"numChars",void 0),(0,ge.Z)(this,"bitData",void 0),this.mode=t,this.numChars=a,this.bitData=o,a<0)throw new RangeError("Invalid argument");this.bitData=o.slice()}return(0,un.Z)(e,[{key:"getData",value:function(){return this.bitData.slice()}}],[{key:"makeBytes",value:function(a){var o=[],f=Eg(a),y;try{for(f.s();!(y=f.n()).done;){var _=y.value;Fu(_,8,o)}}catch(S){f.e(S)}finally{f.f()}return new e(Kf.BYTE,a.length,o)}},{key:"makeNumeric",value:function(a){if(!e.isNumeric(a))throw new RangeError("String contains non-numeric characters");for(var o=[],f=0;f<a.length;){var y=Math.min(a.length-f,3);Fu(parseInt(a.substring(f,f+y),10),y*3+1,o),f+=y}return new e(Kf.NUMERIC,a.length,o)}},{key:"makeAlphanumeric",value:function(a){if(!e.isAlphanumeric(a))throw new RangeError("String contains unencodable characters in alphanumeric mode");var o=[],f;for(f=0;f+2<=a.length;f+=2){var y=e.ALPHANUMERIC_CHARSET.indexOf(a.charAt(f))*45;y+=e.ALPHANUMERIC_CHARSET.indexOf(a.charAt(f+1)),Fu(y,11,o)}return f<a.length&&Fu(e.ALPHANUMERIC_CHARSET.indexOf(a.charAt(f)),6,o),new e(Kf.ALPHANUMERIC,a.length,o)}},{key:"makeSegments",value:function(a){return a==""?[]:e.isNumeric(a)?[e.makeNumeric(a)]:e.isAlphanumeric(a)?[e.makeAlphanumeric(a)]:[e.makeBytes(e.toUtf8ByteArray(a))]}},{key:"makeEci",value:function(a){var o=[];if(a<0)throw new RangeError("ECI assignment value out of range");if(a<128)Fu(a,8,o);else if(a<16384)Fu(2,2,o),Fu(a,14,o);else if(a<1e6)Fu(6,3,o),Fu(a,21,o);else throw new RangeError("ECI assignment value out of range");return new e(Kf.ECI,0,o)}},{key:"isNumeric",value:function(a){return e.NUMERIC_REGEX.test(a)}},{key:"isAlphanumeric",value:function(a){return e.ALPHANUMERIC_REGEX.test(a)}},{key:"getTotalBits",value:function(a,o){var f=0,y=Eg(a),_;try{for(y.s();!(_=y.n()).done;){var S=_.value,I=S.mode.numCharCountBits(o);if(S.numChars>=1<<I)return 1/0;f+=4+I+S.bitData.length}}catch(A){y.e(A)}finally{y.f()}return f}},{key:"toUtf8ByteArray",value:function(a){for(var o=encodeURI(a),f=[],y=0;y<o.length;y++)o.charAt(y)!="%"?f.push(o.charCodeAt(y)):(f.push(parseInt(o.substring(y+1,y+3),16)),y+=2);return f}}]),e}();(0,ge.Z)(Ig,"NUMERIC_REGEX",/^[0-9]*$/),(0,ge.Z)(Ig,"ALPHANUMERIC_REGEX",/^[A-Z0-9 $%*+.\/:-]*$/),(0,ge.Z)(Ig,"ALPHANUMERIC_CHARSET","0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:");var Jh=function(){function e(t,a,o,f){(0,Fn.Z)(this,e),(0,ge.Z)(this,"size",void 0),(0,ge.Z)(this,"mask",void 0),(0,ge.Z)(this,"modules",[]),(0,ge.Z)(this,"isFunction",[]),(0,ge.Z)(this,"version",void 0),(0,ge.Z)(this,"errorCorrectionLevel",void 0);var y=f;if(this.version=t,this.errorCorrectionLevel=a,t<e.MIN_VERSION||t>e.MAX_VERSION)throw new RangeError("Version value out of range");if(y<-1||y>7)throw new RangeError("Mask value out of range");this.size=t*4+17;for(var _=[],S=0;S<this.size;S++)_.push(!1);for(var I=0;I<this.size;I++)this.modules.push(_.slice()),this.isFunction.push(_.slice());this.drawFunctionPatterns();var A=this.addEccAndInterleave(o);if(this.drawCodewords(A),y==-1)for(var z=1e9,L=0;L<8;L++){this.applyMask(L),this.drawFormatBits(L);var F=this.getPenaltyScore();F<z&&(y=L,z=F),this.applyMask(L)}id(0<=y&&y<=7),this.mask=y,this.applyMask(y),this.drawFormatBits(y),this.isFunction=[]}return(0,un.Z)(e,[{key:"getModule",value:function(a,o){return 0<=a&&a<this.size&&0<=o&&o<this.size&&this.modules[o][a]}},{key:"getModules",value:function(){return this.modules}},{key:"drawFunctionPatterns",value:function(){for(var a=0;a<this.size;a++)this.setFunctionModule(6,a,a%2==0),this.setFunctionModule(a,6,a%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);for(var o=this.getAlignmentPatternPositions(),f=o.length,y=0;y<f;y++)for(var _=0;_<f;_++)y==0&&_==0||y==0&&_==f-1||y==f-1&&_==0||this.drawAlignmentPattern(o[y],o[_]);this.drawFormatBits(0),this.drawVersion()}},{key:"drawFormatBits",value:function(a){for(var o=this.errorCorrectionLevel.formatBits<<3|a,f=o,y=0;y<10;y++)f=f<<1^(f>>>9)*1335;var _=(o<<10|f)^21522;id(_>>>15==0);for(var S=0;S<=5;S++)this.setFunctionModule(8,S,Yh(_,S));this.setFunctionModule(8,7,Yh(_,6)),this.setFunctionModule(8,8,Yh(_,7)),this.setFunctionModule(7,8,Yh(_,8));for(var I=9;I<15;I++)this.setFunctionModule(14-I,8,Yh(_,I));for(var A=0;A<8;A++)this.setFunctionModule(this.size-1-A,8,Yh(_,A));for(var z=8;z<15;z++)this.setFunctionModule(8,this.size-15+z,Yh(_,z));this.setFunctionModule(8,this.size-8,!0)}},{key:"drawVersion",value:function(){if(!(this.version<7)){for(var a=this.version,o=0;o<12;o++)a=a<<1^(a>>>11)*7973;var f=this.version<<12|a;id(f>>>18==0);for(var y=0;y<18;y++){var _=Yh(f,y),S=this.size-11+y%3,I=Math.floor(y/3);this.setFunctionModule(S,I,_),this.setFunctionModule(I,S,_)}}}},{key:"drawFinderPattern",value:function(a,o){for(var f=-4;f<=4;f++)for(var y=-4;y<=4;y++){var _=Math.max(Math.abs(y),Math.abs(f)),S=a+y,I=o+f;0<=S&&S<this.size&&0<=I&&I<this.size&&this.setFunctionModule(S,I,_!=2&&_!=4)}}},{key:"drawAlignmentPattern",value:function(a,o){for(var f=-2;f<=2;f++)for(var y=-2;y<=2;y++)this.setFunctionModule(a+y,o+f,Math.max(Math.abs(y),Math.abs(f))!=1)}},{key:"setFunctionModule",value:function(a,o,f){this.modules[o][a]=f,this.isFunction[o][a]=!0}},{key:"addEccAndInterleave",value:function(a){var o=this.version,f=this.errorCorrectionLevel;if(a.length!=e.getNumDataCodewords(o,f))throw new RangeError("Invalid argument");for(var y=e.NUM_ERROR_CORRECTION_BLOCKS[f.ordinal][o],_=e.ECC_CODEWORDS_PER_BLOCK[f.ordinal][o],S=Math.floor(e.getNumRawDataModules(o)/8),I=y-S%y,A=Math.floor(S/y),z=[],L=e.reedSolomonComputeDivisor(_),F=0,Z=0;F<y;F++){var k=a.slice(Z,Z+A-_+(F<I?0:1));Z+=k.length;var W=e.reedSolomonComputeRemainder(k,L);F<I&&k.push(0),z.push(k.concat(W))}for(var H=[],X=function(ie){z.forEach(function(ne,ae){(ie!=A-_||ae>=I)&&H.push(ne[ie])})},Q=0;Q<z[0].length;Q++)X(Q);return id(H.length==S),H}},{key:"drawCodewords",value:function(a){if(a.length!=Math.floor(e.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");for(var o=0,f=this.size-1;f>=1;f-=2){f==6&&(f=5);for(var y=0;y<this.size;y++)for(var _=0;_<2;_++){var S=f-_,I=(f+1&2)==0,A=I?this.size-1-y:y;!this.isFunction[A][S]&&o<a.length*8&&(this.modules[A][S]=Yh(a[o>>>3],7-(o&7)),o++)}}id(o==a.length*8)}},{key:"applyMask",value:function(a){if(a<0||a>7)throw new RangeError("Mask value out of range");for(var o=0;o<this.size;o++)for(var f=0;f<this.size;f++){var y=void 0;switch(a){case 0:y=(f+o)%2==0;break;case 1:y=o%2==0;break;case 2:y=f%3==0;break;case 3:y=(f+o)%3==0;break;case 4:y=(Math.floor(f/3)+Math.floor(o/2))%2==0;break;case 5:y=f*o%2+f*o%3==0;break;case 6:y=(f*o%2+f*o%3)%2==0;break;case 7:y=((f+o)%2+f*o%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[o][f]&&y&&(this.modules[o][f]=!this.modules[o][f])}}},{key:"getPenaltyScore",value:function(){for(var a=0,o=0;o<this.size;o++){for(var f=!1,y=0,_=[0,0,0,0,0,0,0],S=0;S<this.size;S++)this.modules[o][S]==f?(y++,y==5?a+=e.PENALTY_N1:y>5&&a++):(this.finderPenaltyAddHistory(y,_),f||(a+=this.finderPenaltyCountPatterns(_)*e.PENALTY_N3),f=this.modules[o][S],y=1);a+=this.finderPenaltyTerminateAndCount(f,y,_)*e.PENALTY_N3}for(var I=0;I<this.size;I++){for(var A=!1,z=0,L=[0,0,0,0,0,0,0],F=0;F<this.size;F++)this.modules[F][I]==A?(z++,z==5?a+=e.PENALTY_N1:z>5&&a++):(this.finderPenaltyAddHistory(z,L),A||(a+=this.finderPenaltyCountPatterns(L)*e.PENALTY_N3),A=this.modules[F][I],z=1);a+=this.finderPenaltyTerminateAndCount(A,z,L)*e.PENALTY_N3}for(var Z=0;Z<this.size-1;Z++)for(var k=0;k<this.size-1;k++){var W=this.modules[Z][k];W==this.modules[Z][k+1]&&W==this.modules[Z+1][k]&&W==this.modules[Z+1][k+1]&&(a+=e.PENALTY_N2)}var H=0,X=Eg(this.modules),Q;try{for(X.s();!(Q=X.n()).done;){var re=Q.value;H=re.reduce(function(ae,ue){return ae+(ue?1:0)},H)}}catch(ae){X.e(ae)}finally{X.f()}var ie=this.size*this.size,ne=Math.ceil(Math.abs(H*20-ie*10)/ie)-1;return id(0<=ne&&ne<=9),a+=ne*e.PENALTY_N4,id(0<=a&&a<=2568888),a}},{key:"getAlignmentPatternPositions",value:function(){if(this.version==1)return[];for(var a=Math.floor(this.version/7)+2,o=this.version==32?26:Math.ceil((this.version*4+4)/(a*2-2))*2,f=[6],y=this.size-7;f.length<a;y-=o)f.splice(1,0,y);return f}},{key:"finderPenaltyCountPatterns",value:function(a){var o=a[1];id(o<=this.size*3);var f=o>0&&a[2]==o&&a[3]==o*3&&a[4]==o&&a[5]==o;return(f&&a[0]>=o*4&&a[6]>=o?1:0)+(f&&a[6]>=o*4&&a[0]>=o?1:0)}},{key:"finderPenaltyTerminateAndCount",value:function(a,o,f){var y=o;return a&&(this.finderPenaltyAddHistory(y,f),y=0),y+=this.size,this.finderPenaltyAddHistory(y,f),this.finderPenaltyCountPatterns(f)}},{key:"finderPenaltyAddHistory",value:function(a,o){var f=a;o[0]==0&&(f+=this.size),o.pop(),o.unshift(f)}}],[{key:"encodeText",value:function(a,o){var f=Ig.makeSegments(a);return e.encodeSegments(f,o)}},{key:"encodeBinary",value:function(a,o){var f=Ig.makeBytes(a);return e.encodeSegments([f],o)}},{key:"encodeSegments",value:function(a,o){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:40,_=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1,S=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;if(!(e.MIN_VERSION<=f&&f<=y&&y<=e.MAX_VERSION)||_<-1||_>7)throw new RangeError("Invalid value");var I,A;for(I=f;;I++){var z=e.getNumDataCodewords(I,o)*8,L=Ig.getTotalBits(a,I);if(L<=z){A=L;break}if(I>=y)throw new RangeError("Data too long")}for(var F=o,Z=0,k=[Md.MEDIUM,Md.QUARTILE,Md.HIGH];Z<k.length;Z++){var W=k[Z];S&&A<=e.getNumDataCodewords(I,W)*8&&(F=W)}var H=[],X=Eg(a),Q;try{for(X.s();!(Q=X.n()).done;){var re=Q.value;Fu(re.mode.modeBits,4,H),Fu(re.numChars,re.mode.numCharCountBits(I),H);var ie=Eg(re.getData()),ne;try{for(ie.s();!(ne=ie.n()).done;){var ae=ne.value;H.push(ae)}}catch(ve){ie.e(ve)}finally{ie.f()}}}catch(ve){X.e(ve)}finally{X.f()}id(H.length==A);var ue=e.getNumDataCodewords(I,F)*8;id(H.length<=ue),Fu(0,Math.min(4,ue-H.length),H),Fu(0,(8-H.length%8)%8,H),id(H.length%8==0);for(var fe=236;H.length<ue;fe^=253)Fu(fe,8,H);for(var he=[];he.length*8<H.length;)he.push(0);return H.forEach(function(ve,ye){return he[ye>>>3]|=ve<<7-(ye&7)}),new e(I,F,he,_)}},{key:"getNumRawDataModules",value:function(a){if(a<e.MIN_VERSION||a>e.MAX_VERSION)throw new RangeError("Version number out of range");var o=(16*a+128)*a+64;if(a>=2){var f=Math.floor(a/7)+2;o-=(25*f-10)*f-55,a>=7&&(o-=36)}return id(208<=o&&o<=29648),o}},{key:"getNumDataCodewords",value:function(a,o){return Math.floor(e.getNumRawDataModules(a)/8)-e.ECC_CODEWORDS_PER_BLOCK[o.ordinal][a]*e.NUM_ERROR_CORRECTION_BLOCKS[o.ordinal][a]}},{key:"reedSolomonComputeDivisor",value:function(a){if(a<1||a>255)throw new RangeError("Degree out of range");for(var o=[],f=0;f<a-1;f++)o.push(0);o.push(1);for(var y=1,_=0;_<a;_++){for(var S=0;S<o.length;S++)o[S]=e.reedSolomonMultiply(o[S],y),S+1<o.length&&(o[S]^=o[S+1]);y=e.reedSolomonMultiply(y,2)}return o}},{key:"reedSolomonComputeRemainder",value:function(a,o){var f=o.map(function(){return 0}),y=Eg(a),_;try{var S=function(){var A=_.value,z=A^f.shift();f.push(0),o.forEach(function(L,F){return f[F]^=e.reedSolomonMultiply(L,z)})};for(y.s();!(_=y.n()).done;)S()}catch(I){y.e(I)}finally{y.f()}return f}},{key:"reedSolomonMultiply",value:function(a,o){if(a>>>8||o>>>8)throw new RangeError("Byte out of range");for(var f=0,y=7;y>=0;y--)f=f<<1^(f>>>7)*285,f^=(o>>>y&1)*a;return id(f>>>8==0),f}}]),e}();(0,ge.Z)(Jh,"MIN_VERSION",1),(0,ge.Z)(Jh,"MAX_VERSION",40),(0,ge.Z)(Jh,"PENALTY_N1",3),(0,ge.Z)(Jh,"PENALTY_N2",3),(0,ge.Z)(Jh,"PENALTY_N3",40),(0,ge.Z)(Jh,"PENALTY_N4",10),(0,ge.Z)(Jh,"ECC_CODEWORDS_PER_BLOCK",[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]]),(0,ge.Z)(Jh,"NUM_ERROR_CORRECTION_BLOCKS",[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]]);var K4={L:Md.LOW,M:Md.MEDIUM,Q:Md.QUARTILE,H:Md.HIGH},pI=128,gI="L",vI="#FFFFFF",yI="#000000",bI=!1,_I=1,q4=4,Y4=0,J4=.1;function xI(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=[];return e.forEach(function(o,f){var y=null;o.forEach(function(_,S){if(!_&&y!==null){a.push("M".concat(y+t," ").concat(f+t,"h").concat(S-y,"v1H").concat(y+t,"z")),y=null;return}if(S===o.length-1){if(!_)return;y===null?a.push("M".concat(S+t,",").concat(f+t," h1v1H").concat(S+t,"z")):a.push("M".concat(y+t,",").concat(f+t," h").concat(S+1-y,"v1H").concat(y+t,"z"));return}_&&y===null&&(y=S)})}),a.join("")}function CI(e,t){return e.slice().map(function(a,o){return o<t.y||o>=t.y+t.h?a:a.map(function(f,y){return y<t.x||y>=t.x+t.w?f:!1})})}function Q4(e,t,a,o){if(o==null)return null;var f=e.length+a*2,y=Math.floor(t*J4),_=f/t,S=(o.width||y)*_,I=(o.height||y)*_,A=o.x==null?e.length/2-S/2:o.x*_,z=o.y==null?e.length/2-I/2:o.y*_,L=o.opacity==null?1:o.opacity,F=null;if(o.excavate){var Z=Math.floor(A),k=Math.floor(z),W=Math.ceil(S+A-Z),H=Math.ceil(I+z-k);F={x:Z,y:k,w:W,h:H}}var X=o.crossOrigin;return{x:A,y:z,h:I,w:S,excavation:F,opacity:L,crossOrigin:X}}function eA(e,t){return t!=null?Math.floor(t):e?q4:Y4}var tA=function(){try{new Path2D().addPath(new Path2D)}catch(e){return!1}return!0}();function SI(e){var t=e.value,a=e.level,o=e.minVersion,f=e.includeMargin,y=e.marginSize,_=e.imageSettings,S=e.size,I=(0,s.useMemo)(function(){var k=Ig.makeSegments(t);return Jh.encodeSegments(k,K4[a],o)},[t,a,o]),A=(0,s.useMemo)(function(){var k=I.getModules(),W=eA(f,y),H=k.length+W*2,X=Q4(k,S,W,_);return{cells:k,margin:W,numCells:H,calculatedImageSettings:X}},[I,S,_,f,y]),z=A.cells,L=A.margin,F=A.numCells,Z=A.calculatedImageSettings;return{qrcode:I,margin:L,cells:z,numCells:F,calculatedImageSettings:Z}}var nA=["value","size","level","bgColor","fgColor","includeMargin","minVersion","marginSize","style","imageSettings"],wI=s.forwardRef(function(t,a){var o=t.value,f=t.size,y=f===void 0?pI:f,_=t.level,S=_===void 0?gI:_,I=t.bgColor,A=I===void 0?vI:I,z=t.fgColor,L=z===void 0?yI:z,F=t.includeMargin,Z=F===void 0?bI:F,k=t.minVersion,W=k===void 0?_I:k,H=t.marginSize,X=t.style,Q=t.imageSettings,re=(0,de.Z)(t,nA),ie=Q==null?void 0:Q.src,ne=(0,s.useRef)(null),ae=(0,s.useRef)(null),ue=(0,s.useCallback)(function(Ke){ne.current=Ke,typeof a=="function"?a(Ke):a&&(a.current=Ke)},[a]),fe=(0,s.useState)(!1),he=(0,Pe.Z)(fe,2),ve=he[1],ye=SI({value:o,level:S,minVersion:W,includeMargin:Z,marginSize:H,imageSettings:Q,size:y}),we=ye.margin,Se=ye.cells,ze=ye.numCells,Te=ye.calculatedImageSettings;(0,s.useEffect)(function(){if(ne.current!=null){var Ke=ne.current,tt=Ke.getContext("2d");if(!tt)return;var vt=Se,bt=ae.current,lt=Te!=null&&bt!==null&&bt.complete&&bt.naturalHeight!==0&&bt.naturalWidth!==0;lt&&Te.excavation!=null&&(vt=CI(Se,Te.excavation));var ct=window.devicePixelRatio||1;Ke.height=Ke.width=y*ct;var mt=y/ze*ct;tt.scale(mt,mt),tt.fillStyle=A,tt.fillRect(0,0,ze,ze),tt.fillStyle=L,tA?tt.fill(new Path2D(xI(vt,we))):Se.forEach(function(Rt,wt){Rt.forEach(function(Bt,Ct){Bt&&tt.fillRect(Ct+we,wt+we,1,1)})}),Te&&(tt.globalAlpha=Te.opacity),lt&&tt.drawImage(bt,Te.x+we,Te.y+we,Te.w,Te.h)}}),(0,s.useEffect)(function(){ve(!1)},[ie]);var Fe=(0,K.Z)({height:y,width:y},X),Ae=null;return ie!=null&&(Ae=s.createElement("img",{src:ie,key:ie,style:{display:"none"},onLoad:function(){ve(!0)},ref:ae,crossOrigin:Te==null?void 0:Te.crossOrigin})),s.createElement(s.Fragment,null,s.createElement("canvas",(0,Ue.Z)({style:Fe,height:y,width:y,ref:ue,role:"img"},re)),Ae)});wI.displayName="QRCodeCanvas";var rA=["value","size","level","bgColor","fgColor","includeMargin","minVersion","title","marginSize","imageSettings"],EI=s.forwardRef(function(t,a){var o=t.value,f=t.size,y=f===void 0?pI:f,_=t.level,S=_===void 0?gI:_,I=t.bgColor,A=I===void 0?vI:I,z=t.fgColor,L=z===void 0?yI:z,F=t.includeMargin,Z=F===void 0?bI:F,k=t.minVersion,W=k===void 0?_I:k,H=t.title,X=t.marginSize,Q=t.imageSettings,re=(0,de.Z)(t,rA),ie=SI({value:o,level:S,minVersion:W,includeMargin:Z,marginSize:X,imageSettings:Q,size:y}),ne=ie.margin,ae=ie.cells,ue=ie.numCells,fe=ie.calculatedImageSettings,he=ae,ve=null;Q!=null&&fe!=null&&(fe.excavation!=null&&(he=CI(ae,fe.excavation)),ve=s.createElement("image",{href:Q.src,height:fe.h,width:fe.w,x:fe.x+ne,y:fe.y+ne,preserveAspectRatio:"none",opacity:fe.opacity,crossOrigin:fe.crossOrigin}));var ye=xI(he,ne);return s.createElement("svg",(0,Ue.Z)({height:y,width:y,viewBox:"0 0 ".concat(ue," ").concat(ue),ref:a,role:"img"},re),!!H&&s.createElement("title",null,H),s.createElement("path",{fill:A,d:"M0,0 h".concat(ue,"v").concat(ue,"H0z"),shapeRendering:"crispEdges"}),s.createElement("path",{fill:L,d:ye,shapeRendering:"crispEdges"}),ve)});EI.displayName="QRCodeSVG";var iA={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"}}]},name:"reload",theme:"outlined"},oA=iA,aA=function(t,a){return s.createElement(En.Z,(0,Ue.Z)({},t,{ref:a,icon:oA}))},sA=s.forwardRef(aA),lA=sA;const cA=s.createElement(dv,null);function uA(e){let{prefixCls:t,locale:a,onRefresh:o,statusRender:f,status:y}=e;const _=s.createElement(s.Fragment,null,s.createElement("p",{className:`${t}-expired`},a==null?void 0:a.expired),o&&s.createElement(ks,{type:"link",icon:s.createElement(lA,null),onClick:o},a==null?void 0:a.refresh)),S=s.createElement("p",{className:`${t}-scanned`},a==null?void 0:a.scanned),I={expired:_,loading:cA,scanned:S},A=L=>I[L.status];return(f!=null?f:A)({status:y,locale:a,onRefresh:o})}const dA=e=>{const{componentCls:t,lineWidth:a,lineType:o,colorSplit:f}=e;return{[t]:Object.assign(Object.assign({},(0,nn.Wf)(e)),{display:"flex",justifyContent:"center",alignItems:"center",padding:e.paddingSM,backgroundColor:e.colorWhite,borderRadius:e.borderRadiusLG,border:`${(0,me.bf)(a)} ${o} ${f}`,position:"relative",overflow:"hidden",[`& > ${t}-mask`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,zIndex:10,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",color:e.colorText,lineHeight:e.lineHeight,background:e.QRCodeMaskBackgroundColor,textAlign:"center",[`& > ${t}-expired, & > ${t}-scanned`]:{color:e.QRCodeTextColor}},"> canvas":{alignSelf:"stretch",flex:"auto",minWidth:0},"&-icon":{marginBlockEnd:e.marginXS,fontSize:e.controlHeight}}),[`${t}-borderless`]:{borderColor:"transparent",padding:0,borderRadius:0}}},fA=e=>({QRCodeMaskBackgroundColor:new Sl.t(e.colorBgContainer).setA(.96).toRgbString()});var hA=(0,oe.I$)("QRCode",e=>{const t=(0,kr.IX)(e,{QRCodeTextColor:e.colorText});return dA(t)},fA),mA=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},pA=e=>{var t,a,o,f;const[,y]=(0,Vr.ZP)(),{value:_,type:S="canvas",icon:I="",size:A=160,iconSize:z,color:L=y.colorText,errorLevel:F="M",status:Z="active",bordered:k=!0,onRefresh:W,style:H,className:X,rootClassName:Q,prefixCls:re,bgColor:ie="transparent",statusRender:ne}=e,ae=mA(e,["value","type","icon","size","iconSize","color","errorLevel","status","bordered","onRefresh","style","className","rootClassName","prefixCls","bgColor","statusRender"]),{getPrefixCls:ue}=(0,s.useContext)(_e.E_),fe=ue("qrcode",re),[he,ve,ye]=hA(fe),we={src:I,x:void 0,y:void 0,height:typeof z=="number"?z:(t=z==null?void 0:z.height)!==null&&t!==void 0?t:40,width:typeof z=="number"?z:(a=z==null?void 0:z.width)!==null&&a!==void 0?a:40,excavate:!0,crossOrigin:"anonymous"},Se=(0,pt.Z)(ae,!0),ze=(0,Ci.Z)(ae,Object.keys(Se)),Te=Object.assign({value:_,size:A,level:F,bgColor:ie,fgColor:L,style:{width:H==null?void 0:H.width,height:H==null?void 0:H.height},imageSettings:I?we:void 0},Se),[Fe]=(0,rr.Z)("QRCode");if(!_)return null;const Ae=J()(fe,X,Q,ve,ye,{[`${fe}-borderless`]:!k}),Ke=Object.assign(Object.assign({backgroundColor:ie},H),{width:(o=H==null?void 0:H.width)!==null&&o!==void 0?o:A,height:(f=H==null?void 0:H.height)!==null&&f!==void 0?f:A});return he(s.createElement("div",Object.assign({},ze,{className:Ae,style:Ke}),Z!=="active"&&s.createElement("div",{className:`${fe}-mask`},s.createElement(uA,{prefixCls:fe,locale:Fe,status:Z,onRefresh:W,statusRender:ne})),S==="canvas"?s.createElement(wI,Object.assign({},Te)):s.createElement(EI,Object.assign({},Te))))};const Sx=Vm;Sx.Button=j0,Sx.Group=Ly,Sx.__ANT_RADIO=!0;var dw=Sx,gA={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z"}}]},name:"star",theme:"filled"},vA=gA,yA=function(t,a){return s.createElement(En.Z,(0,Ue.Z)({},t,{ref:a,icon:vA}))},bA=s.forwardRef(yA),_A=bA;function xA(e,t){var a=e.disabled,o=e.prefixCls,f=e.character,y=e.characterRender,_=e.index,S=e.count,I=e.value,A=e.allowHalf,z=e.focused,L=e.onHover,F=e.onClick,Z=function(ne){L(ne,_)},k=function(ne){F(ne,_)},W=function(ne){ne.keyCode===_t.Z.ENTER&&F(ne,_)},H=_+1,X=new Set([o]);I===0&&_===0&&z?X.add("".concat(o,"-focused")):A&&I+.5>=H&&I<H?(X.add("".concat(o,"-half")),X.add("".concat(o,"-active")),z&&X.add("".concat(o,"-focused"))):(H<=I?X.add("".concat(o,"-full")):X.add("".concat(o,"-zero")),H===I&&z&&X.add("".concat(o,"-focused")));var Q=typeof f=="function"?f(e):f,re=s.createElement("li",{className:J()(Array.from(X)),ref:t},s.createElement("div",{onClick:a?null:k,onKeyDown:a?null:W,onMouseMove:a?null:Z,role:"radio","aria-checked":I>_?"true":"false","aria-posinset":_+1,"aria-setsize":S,tabIndex:a?-1:0},s.createElement("div",{className:"".concat(o,"-first")},Q),s.createElement("div",{className:"".concat(o,"-second")},Q)));return y&&(re=y(re,e)),re}var CA=s.forwardRef(xA);function SA(){var e=s.useRef({});function t(o){return e.current[o]}function a(o){return function(f){e.current[o]=f}}return[t,a]}function wA(e){var t=e.pageXOffset,a="scrollLeft";if(typeof t!="number"){var o=e.document;t=o.documentElement[a],typeof t!="number"&&(t=o.body[a])}return t}function EA(e){var t,a,o=e.ownerDocument,f=o.body,y=o&&o.documentElement,_=e.getBoundingClientRect();return t=_.left,a=_.top,t-=y.clientLeft||f.clientLeft||0,a-=y.clientTop||f.clientTop||0,{left:t,top:a}}function IA(e){var t=EA(e),a=e.ownerDocument,o=a.defaultView||a.parentWindow;return t.left+=wA(o),t.left}var TA=["prefixCls","className","defaultValue","value","count","allowHalf","allowClear","keyboard","character","characterRender","disabled","direction","tabIndex","autoFocus","onHoverChange","onChange","onFocus","onBlur","onKeyDown","onMouseLeave"];function MA(e,t){var a=e.prefixCls,o=a===void 0?"rc-rate":a,f=e.className,y=e.defaultValue,_=e.value,S=e.count,I=S===void 0?5:S,A=e.allowHalf,z=A===void 0?!1:A,L=e.allowClear,F=L===void 0?!0:L,Z=e.keyboard,k=Z===void 0?!0:Z,W=e.character,H=W===void 0?"\u2605":W,X=e.characterRender,Q=e.disabled,re=e.direction,ie=re===void 0?"ltr":re,ne=e.tabIndex,ae=ne===void 0?0:ne,ue=e.autoFocus,fe=e.onHoverChange,he=e.onChange,ve=e.onFocus,ye=e.onBlur,we=e.onKeyDown,Se=e.onMouseLeave,ze=(0,de.Z)(e,TA),Te=SA(),Fe=(0,Pe.Z)(Te,2),Ae=Fe[0],Ke=Fe[1],tt=s.useRef(null),vt=function(){if(!Q){var gi;(gi=tt.current)===null||gi===void 0||gi.focus()}};s.useImperativeHandle(t,function(){return{focus:vt,blur:function(){if(!Q){var gi;(gi=tt.current)===null||gi===void 0||gi.blur()}}}});var bt=(0,zt.Z)(y||0,{value:_}),lt=(0,Pe.Z)(bt,2),ct=lt[0],mt=lt[1],Rt=(0,zt.Z)(null),wt=(0,Pe.Z)(Rt,2),Bt=wt[0],Ct=wt[1],dn=function(gi,ai){var mi=ie==="rtl",Xi=gi+1;if(z){var Pi=Ae(gi),Io=IA(Pi),dr=Pi.clientWidth;(mi&&ai-Io>dr/2||!mi&&ai-Io<dr/2)&&(Xi-=.5)}return Xi},zn=function(gi){mt(gi),he==null||he(gi)},rn=s.useState(!1),Cn=(0,Pe.Z)(rn,2),Vt=Cn[0],At=Cn[1],$n=function(){At(!0),ve==null||ve()},yn=function(){At(!1),ye==null||ye()},Ir=s.useState(null),cr=(0,Pe.Z)(Ir,2),Kn=cr[0],qn=cr[1],Pn=function(gi,ai){var mi=dn(ai,gi.pageX);mi!==Bt&&(qn(mi),Ct(null)),fe==null||fe(mi)},Yn=function(gi){Q||(qn(null),Ct(null),fe==null||fe(void 0)),gi&&(Se==null||Se(gi))},zr=function(gi,ai){var mi=dn(ai,gi.pageX),Xi=!1;F&&(Xi=mi===ct),Yn(),zn(Xi?0:mi),Ct(Xi?mi:null)},si=function(gi){var ai=gi.keyCode,mi=ie==="rtl",Xi=z?.5:1;k&&(ai===_t.Z.RIGHT&&ct<I&&!mi?(zn(ct+Xi),gi.preventDefault()):ai===_t.Z.LEFT&&ct>0&&!mi||ai===_t.Z.RIGHT&&ct>0&&mi?(zn(ct-Xi),gi.preventDefault()):ai===_t.Z.LEFT&&ct<I&&mi&&(zn(ct+Xi),gi.preventDefault())),we==null||we(gi)};s.useEffect(function(){ue&&!Q&&vt()},[]);var yi=new Array(I).fill(0).map(function(Eo,gi){return s.createElement(CA,{ref:Ke(gi),index:gi,count:I,disabled:Q,prefixCls:"".concat(o,"-star"),allowHalf:z,value:Kn===null?ct:Kn,onClick:zr,onHover:Pn,key:Eo||gi,character:H,characterRender:X,focused:Vt})}),Di=J()(o,f,(0,ge.Z)((0,ge.Z)({},"".concat(o,"-disabled"),Q),"".concat(o,"-rtl"),ie==="rtl"));return s.createElement("ul",(0,Ue.Z)({className:Di,onMouseLeave:Yn,tabIndex:Q?-1:ae,onFocus:Q?null:$n,onBlur:Q?null:yn,onKeyDown:Q?null:si,ref:tt},(0,pt.Z)(ze,{aria:!0,data:!0,attr:!0})),yi)}var PA=s.forwardRef(MA),OA=PA;const RA=e=>{const{componentCls:t}=e;return{[`${t}-star`]:{position:"relative",display:"inline-block",color:"inherit",cursor:"pointer","&:not(:last-child)":{marginInlineEnd:e.marginXS},"> div":{transition:`all ${e.motionDurationMid}, outline 0s`,"&:hover":{transform:e.starHoverScale},"&:focus":{outline:0},"&:focus-visible":{outline:`${(0,me.bf)(e.lineWidth)} dashed ${e.starColor}`,transform:e.starHoverScale}},"&-first, &-second":{color:e.starBg,transition:`all ${e.motionDurationMid}`,userSelect:"none"},"&-first":{position:"absolute",top:0,insetInlineStart:0,width:"50%",height:"100%",overflow:"hidden",opacity:0},[`&-half ${t}-star-first, &-half ${t}-star-second`]:{opacity:1},[`&-half ${t}-star-first, &-full ${t}-star-second`]:{color:"inherit"}}}},$A=e=>({[`&-rtl${e.componentCls}`]:{direction:"rtl"}}),AA=e=>{const{componentCls:t}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,nn.Wf)(e)),{display:"inline-block",margin:0,padding:0,color:e.starColor,fontSize:e.starSize,lineHeight:1,listStyle:"none",outline:"none",[`&-disabled${t} ${t}-star`]:{cursor:"default","> div:hover":{transform:"scale(1)"}}}),RA(e)),$A(e))}},DA=e=>({starColor:e.yellow6,starSize:e.controlHeightLG*.5,starHoverScale:"scale(1.1)",starBg:e.colorFillContent});var zA=(0,oe.I$)("Rate",e=>{const t=(0,kr.IX)(e,{});return[AA(t)]},DA),LA=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},NA=s.forwardRef((e,t)=>{const{prefixCls:a,className:o,rootClassName:f,style:y,tooltips:_,character:S=s.createElement(_A,null),disabled:I}=e,A=LA(e,["prefixCls","className","rootClassName","style","tooltips","character","disabled"]),z=(ne,ae)=>{let{index:ue}=ae;return _?s.createElement(su.Z,{title:_[ue]},ne):ne},{getPrefixCls:L,direction:F,rate:Z}=s.useContext(_e.E_),k=L("rate",a),[W,H,X]=zA(k),Q=Object.assign(Object.assign({},Z==null?void 0:Z.style),y),re=s.useContext(cs.Z),ie=I!=null?I:re;return W(s.createElement(OA,Object.assign({ref:t,character:S,characterRender:z,disabled:ie},A,{className:J()(o,f,H,X,Z==null?void 0:Z.className),style:Q,prefixCls:k,direction:F})))}),BA={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M955.7 856l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zM480 416c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v184c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V416zm32 352a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"warning",theme:"filled"},FA=BA,kA=function(t,a){return s.createElement(En.Z,(0,Ue.Z)({},t,{ref:a,icon:FA}))},jA=s.forwardRef(kA),ZA=jA,VA=()=>s.createElement("svg",{width:"252",height:"294"},s.createElement("title",null,"No Found"),s.createElement("defs",null,s.createElement("path",{d:"M0 .387h251.772v251.772H0z"})),s.createElement("g",{fill:"none",fillRule:"evenodd"},s.createElement("g",{transform:"translate(0 .012)"},s.createElement("mask",{fill:"#fff"}),s.createElement("path",{d:"M0 127.32v-2.095C0 56.279 55.892.387 124.838.387h2.096c68.946 0 124.838 55.892 124.838 124.838v2.096c0 68.946-55.892 124.838-124.838 124.838h-2.096C55.892 252.16 0 196.267 0 127.321",fill:"#E4EBF7",mask:"url(#b)"})),s.createElement("path",{d:"M39.755 130.84a8.276 8.276 0 1 1-16.468-1.66 8.276 8.276 0 0 1 16.468 1.66",fill:"#FFF"}),s.createElement("path",{d:"M36.975 134.297l10.482 5.943M48.373 146.508l-12.648 10.788",stroke:"#FFF",strokeWidth:"2"}),s.createElement("path",{d:"M39.875 159.352a5.667 5.667 0 1 1-11.277-1.136 5.667 5.667 0 0 1 11.277 1.136M57.588 143.247a5.708 5.708 0 1 1-11.358-1.145 5.708 5.708 0 0 1 11.358 1.145M99.018 26.875l29.82-.014a4.587 4.587 0 1 0-.003-9.175l-29.82.013a4.587 4.587 0 1 0 .003 9.176M110.424 45.211l29.82-.013a4.588 4.588 0 0 0-.004-9.175l-29.82.013a4.587 4.587 0 1 0 .004 9.175",fill:"#FFF"}),s.createElement("path",{d:"M112.798 26.861v-.002l15.784-.006a4.588 4.588 0 1 0 .003 9.175l-15.783.007v-.002a4.586 4.586 0 0 0-.004-9.172M184.523 135.668c-.553 5.485-5.447 9.483-10.931 8.93-5.485-.553-9.483-5.448-8.93-10.932.552-5.485 5.447-9.483 10.932-8.93 5.485.553 9.483 5.447 8.93 10.932",fill:"#FFF"}),s.createElement("path",{d:"M179.26 141.75l12.64 7.167M193.006 156.477l-15.255 13.011",stroke:"#FFF",strokeWidth:"2"}),s.createElement("path",{d:"M184.668 170.057a6.835 6.835 0 1 1-13.6-1.372 6.835 6.835 0 0 1 13.6 1.372M203.34 153.325a6.885 6.885 0 1 1-13.7-1.382 6.885 6.885 0 0 1 13.7 1.382",fill:"#FFF"}),s.createElement("path",{d:"M151.931 192.324a2.222 2.222 0 1 1-4.444 0 2.222 2.222 0 0 1 4.444 0zM225.27 116.056a2.222 2.222 0 1 1-4.445 0 2.222 2.222 0 0 1 4.444 0zM216.38 151.08a2.223 2.223 0 1 1-4.446-.001 2.223 2.223 0 0 1 4.446 0zM176.917 107.636a2.223 2.223 0 1 1-4.445 0 2.223 2.223 0 0 1 4.445 0zM195.291 92.165a2.223 2.223 0 1 1-4.445 0 2.223 2.223 0 0 1 4.445 0zM202.058 180.711a2.223 2.223 0 1 1-4.446 0 2.223 2.223 0 0 1 4.446 0z",stroke:"#FFF",strokeWidth:"2"}),s.createElement("path",{stroke:"#FFF",strokeWidth:"2",d:"M214.404 153.302l-1.912 20.184-10.928 5.99M173.661 174.792l-6.356 9.814h-11.36l-4.508 6.484M174.941 125.168v-15.804M220.824 117.25l-12.84 7.901-15.31-7.902V94.39"}),s.createElement("path",{d:"M166.588 65.936h-3.951a4.756 4.756 0 0 1-4.743-4.742 4.756 4.756 0 0 1 4.743-4.743h3.951a4.756 4.756 0 0 1 4.743 4.743 4.756 4.756 0 0 1-4.743 4.742",fill:"#FFF"}),s.createElement("path",{d:"M174.823 30.03c0-16.281 13.198-29.48 29.48-29.48 16.28 0 29.48 13.199 29.48 29.48 0 16.28-13.2 29.48-29.48 29.48-16.282 0-29.48-13.2-29.48-29.48",fill:"#1677ff"}),s.createElement("path",{d:"M205.952 38.387c.5.5.785 1.142.785 1.928s-.286 1.465-.785 1.964c-.572.5-1.214.75-2 .75-.785 0-1.429-.285-1.929-.785-.572-.5-.82-1.143-.82-1.929s.248-1.428.82-1.928c.5-.5 1.144-.75 1.93-.75.785 0 1.462.25 1.999.75m4.285-19.463c1.428 1.249 2.143 2.963 2.143 5.142 0 1.712-.427 3.13-1.219 4.25-.067.096-.137.18-.218.265-.416.429-1.41 1.346-2.956 2.699a5.07 5.07 0 0 0-1.428 1.75 5.207 5.207 0 0 0-.536 2.357v.5h-4.107v-.5c0-1.357.215-2.536.714-3.5.464-.964 1.857-2.464 4.178-4.536l.43-.5c.643-.785.964-1.643.964-2.535 0-1.18-.358-2.108-1-2.785-.678-.68-1.643-1.001-2.858-1.001-1.536 0-2.642.464-3.357 1.43-.37.5-.621 1.135-.76 1.904a1.999 1.999 0 0 1-1.971 1.63h-.004c-1.277 0-2.257-1.183-1.98-2.43.337-1.518 1.02-2.78 2.073-3.784 1.536-1.5 3.607-2.25 6.25-2.25 2.32 0 4.214.607 5.642 1.894",fill:"#FFF"}),s.createElement("path",{d:"M52.04 76.131s21.81 5.36 27.307 15.945c5.575 10.74-6.352 9.26-15.73 4.935-10.86-5.008-24.7-11.822-11.577-20.88",fill:"#FFB594"}),s.createElement("path",{d:"M90.483 67.504l-.449 2.893c-.753.49-4.748-2.663-4.748-2.663l-1.645.748-1.346-5.684s6.815-4.589 8.917-5.018c2.452-.501 9.884.94 10.7 2.278 0 0 1.32.486-2.227.69-3.548.203-5.043.447-6.79 3.132-1.747 2.686-2.412 3.624-2.412 3.624",fill:"#FFC6A0"}),s.createElement("path",{d:"M128.055 111.367c-2.627-7.724-6.15-13.18-8.917-15.478-3.5-2.906-9.34-2.225-11.366-4.187-1.27-1.231-3.215-1.197-3.215-1.197s-14.98-3.158-16.828-3.479c-2.37-.41-2.124-.714-6.054-1.405-1.57-1.907-2.917-1.122-2.917-1.122l-7.11-1.383c-.853-1.472-2.423-1.023-2.423-1.023l-2.468-.897c-1.645 9.976-7.74 13.796-7.74 13.796 1.795 1.122 15.703 8.3 15.703 8.3l5.107 37.11s-3.321 5.694 1.346 9.109c0 0 19.883-3.743 34.921-.329 0 0 3.047-2.546.972-8.806.523-3.01 1.394-8.263 1.736-11.622.385.772 2.019 1.918 3.14 3.477 0 0 9.407-7.365 11.052-14.012-.832-.723-1.598-1.585-2.267-2.453-.567-.736-.358-2.056-.765-2.717-.669-1.084-1.804-1.378-1.907-1.682",fill:"#FFF"}),s.createElement("path",{d:"M101.09 289.998s4.295 2.041 7.354 1.021c2.821-.94 4.53.668 7.08 1.178 2.55.51 6.874 1.1 11.686-1.26-.103-5.51-6.889-3.98-11.96-6.713-2.563-1.38-3.784-4.722-3.598-8.799h-9.402s-1.392 10.52-1.16 14.573",fill:"#CBD1D1"}),s.createElement("path",{d:"M101.067 289.826s2.428 1.271 6.759.653c3.058-.437 3.712.481 7.423 1.031 3.712.55 10.724-.069 11.823-.894.413 1.1-.343 2.063-.343 2.063s-1.512.603-4.812.824c-2.03.136-5.8.291-7.607-.503-1.787-1.375-5.247-1.903-5.728-.241-3.918.95-7.355-.286-7.355-.286l-.16-2.647z",fill:"#2B0849"}),s.createElement("path",{d:"M108.341 276.044h3.094s-.103 6.702 4.536 8.558c-4.64.618-8.558-2.303-7.63-8.558",fill:"#A4AABA"}),s.createElement("path",{d:"M57.542 272.401s-2.107 7.416-4.485 12.306c-1.798 3.695-4.225 7.492 5.465 7.492 6.648 0 8.953-.48 7.423-6.599-1.53-6.12.266-13.199.266-13.199h-8.669z",fill:"#CBD1D1"}),s.createElement("path",{d:"M51.476 289.793s2.097 1.169 6.633 1.169c6.083 0 8.249-1.65 8.249-1.65s.602 1.114-.619 2.165c-.993.855-3.597 1.591-7.39 1.546-4.145-.048-5.832-.566-6.736-1.168-.825-.55-.687-1.58-.137-2.062",fill:"#2B0849"}),s.createElement("path",{d:"M58.419 274.304s.033 1.519-.314 2.93c-.349 1.42-1.078 3.104-1.13 4.139-.058 1.151 4.537 1.58 5.155.034.62-1.547 1.294-6.427 1.913-7.252.619-.825-4.903-2.119-5.624.15",fill:"#A4AABA"}),s.createElement("path",{d:"M99.66 278.514l13.378.092s1.298-54.52 1.853-64.403c.554-9.882 3.776-43.364 1.002-63.128l-12.547-.644-22.849.78s-.434 3.966-1.195 9.976c-.063.496-.682.843-.749 1.365-.075.585.423 1.354.32 1.966-2.364 14.08-6.377 33.104-8.744 46.677-.116.666-1.234 1.009-1.458 2.691-.04.302.211 1.525.112 1.795-6.873 18.744-10.949 47.842-14.277 61.885l14.607-.014s2.197-8.57 4.03-16.97c2.811-12.886 23.111-85.01 23.111-85.01l3.016-.521 1.043 46.35s-.224 1.234.337 2.02c.56.785-.56 1.123-.392 2.244l.392 1.794s-.449 7.178-.898 11.89c-.448 4.71-.092 39.165-.092 39.165",fill:"#7BB2F9"}),s.createElement("path",{d:"M76.085 221.626c1.153.094 4.038-2.019 6.955-4.935M106.36 225.142s2.774-1.11 6.103-3.883",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M107.275 222.1s2.773-1.11 6.102-3.884",stroke:"#648BD8",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M74.74 224.767s2.622-.591 6.505-3.365M86.03 151.634c-.27 3.106.3 8.525-4.336 9.123M103.625 149.88s.11 14.012-1.293 15.065c-2.219 1.664-2.99 1.944-2.99 1.944M99.79 150.438s.035 12.88-1.196 24.377M93.673 175.911s7.212-1.664 9.431-1.664M74.31 205.861a212.013 212.013 0 0 1-.979 4.56s-1.458 1.832-1.009 3.776c.449 1.944-.947 2.045-4.985 15.355-1.696 5.59-4.49 18.591-6.348 27.597l-.231 1.12M75.689 197.807a320.934 320.934 0 0 1-.882 4.754M82.591 152.233L81.395 162.7s-1.097.15-.5 2.244c.113 1.346-2.674 15.775-5.18 30.43M56.12 274.418h13.31",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M116.241 148.22s-17.047-3.104-35.893.2c.158 2.514-.003 4.15-.003 4.15s14.687-2.818 35.67-.312c.252-2.355.226-4.038.226-4.038",fill:"#192064"}),s.createElement("path",{d:"M106.322 151.165l.003-4.911a.81.81 0 0 0-.778-.815c-2.44-.091-5.066-.108-7.836-.014a.818.818 0 0 0-.789.815l-.003 4.906a.81.81 0 0 0 .831.813c2.385-.06 4.973-.064 7.73.017a.815.815 0 0 0 .842-.81",fill:"#FFF"}),s.createElement("path",{d:"M105.207 150.233l.002-3.076a.642.642 0 0 0-.619-.646 94.321 94.321 0 0 0-5.866-.01.65.65 0 0 0-.63.647v3.072a.64.64 0 0 0 .654.644 121.12 121.12 0 0 1 5.794.011c.362.01.665-.28.665-.642",fill:"#192064"}),s.createElement("path",{d:"M100.263 275.415h12.338M101.436 270.53c.006 3.387.042 5.79.111 6.506M101.451 264.548a915.75 915.75 0 0 0-.015 4.337M100.986 174.965l.898 44.642s.673 1.57-.225 2.692c-.897 1.122 2.468.673.898 2.243-1.57 1.57.897 1.122 0 3.365-.596 1.489-.994 21.1-1.096 35.146",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M46.876 83.427s-.516 6.045 7.223 5.552c11.2-.712 9.218-9.345 31.54-21.655-.786-2.708-2.447-4.744-2.447-4.744s-11.068 3.11-22.584 8.046c-6.766 2.9-13.395 6.352-13.732 12.801M104.46 91.057l.941-5.372-8.884-11.43-5.037 5.372-1.74 7.834a.321.321 0 0 0 .108.32c.965.8 6.5 5.013 14.347 3.544a.332.332 0 0 0 .264-.268",fill:"#FFC6A0"}),s.createElement("path",{d:"M93.942 79.387s-4.533-2.853-2.432-6.855c1.623-3.09 4.513 1.133 4.513 1.133s.52-3.642 3.121-3.642c.52-1.04 1.561-4.162 1.561-4.162s11.445 2.601 13.526 3.121c0 5.203-2.304 19.424-7.84 19.861-8.892.703-12.449-9.456-12.449-9.456",fill:"#FFC6A0"}),s.createElement("path",{d:"M113.874 73.446c2.601-2.081 3.47-9.722 3.47-9.722s-2.479-.49-6.64-2.05c-4.683-2.081-12.798-4.747-17.48.976-9.668 3.223-2.05 19.823-2.05 19.823l2.713-3.021s-3.935-3.287-2.08-6.243c2.17-3.462 3.92 1.073 3.92 1.073s.637-2.387 3.581-3.342c.355-.71 1.036-2.674 1.432-3.85a1.073 1.073 0 0 1 1.263-.704c2.4.558 8.677 2.019 11.356 2.662.522.125.871.615.82 1.15l-.305 3.248z",fill:"#520038"}),s.createElement("path",{d:"M104.977 76.064c-.103.61-.582 1.038-1.07.956-.489-.083-.801-.644-.698-1.254.103-.61.582-1.038 1.07-.956.488.082.8.644.698 1.254M112.132 77.694c-.103.61-.582 1.038-1.07.956-.488-.083-.8-.644-.698-1.254.103-.61.582-1.038 1.07-.956.488.082.8.643.698 1.254",fill:"#552950"}),s.createElement("path",{stroke:"#DB836E",strokeWidth:"1.118",strokeLinecap:"round",strokeLinejoin:"round",d:"M110.13 74.84l-.896 1.61-.298 4.357h-2.228"}),s.createElement("path",{d:"M110.846 74.481s1.79-.716 2.506.537",stroke:"#5C2552",strokeWidth:"1.118",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M92.386 74.282s.477-1.114 1.113-.716c.637.398 1.274 1.433.558 1.99-.717.556.159 1.67.159 1.67",stroke:"#DB836E",strokeWidth:"1.118",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M103.287 72.93s1.83 1.113 4.137.954",stroke:"#5C2552",strokeWidth:"1.118",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M103.685 81.762s2.227 1.193 4.376 1.193M104.64 84.308s.954.398 1.511.318M94.693 81.205s2.308 7.4 10.424 7.639",stroke:"#DB836E",strokeWidth:"1.118",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M81.45 89.384s.45 5.647-4.935 12.787M69 82.654s-.726 9.282-8.204 14.206",stroke:"#E4EBF7",strokeWidth:"1.101",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M129.405 122.865s-5.272 7.403-9.422 10.768",stroke:"#E4EBF7",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M119.306 107.329s.452 4.366-2.127 32.062",stroke:"#E4EBF7",strokeWidth:"1.101",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M150.028 151.232h-49.837a1.01 1.01 0 0 1-1.01-1.01v-31.688c0-.557.452-1.01 1.01-1.01h49.837c.558 0 1.01.453 1.01 1.01v31.688a1.01 1.01 0 0 1-1.01 1.01",fill:"#F2D7AD"}),s.createElement("path",{d:"M150.29 151.232h-19.863v-33.707h20.784v32.786a.92.92 0 0 1-.92.92",fill:"#F4D19D"}),s.createElement("path",{d:"M123.554 127.896H92.917a.518.518 0 0 1-.425-.816l6.38-9.113c.193-.277.51-.442.85-.442h31.092l-7.26 10.371z",fill:"#F2D7AD"}),s.createElement("path",{fill:"#CC9B6E",d:"M123.689 128.447H99.25v-.519h24.169l7.183-10.26.424.298z"}),s.createElement("path",{d:"M158.298 127.896h-18.669a2.073 2.073 0 0 1-1.659-.83l-7.156-9.541h19.965c.49 0 .95.23 1.244.622l6.69 8.92a.519.519 0 0 1-.415.83",fill:"#F4D19D"}),s.createElement("path",{fill:"#CC9B6E",d:"M157.847 128.479h-19.384l-7.857-10.475.415-.31 7.7 10.266h19.126zM130.554 150.685l-.032-8.177.519-.002.032 8.177z"}),s.createElement("path",{fill:"#CC9B6E",d:"M130.511 139.783l-.08-21.414.519-.002.08 21.414zM111.876 140.932l-.498-.143 1.479-5.167.498.143zM108.437 141.06l-2.679-2.935 2.665-3.434.41.318-2.397 3.089 2.384 2.612zM116.607 141.06l-.383-.35 2.383-2.612-2.397-3.089.41-.318 2.665 3.434z"}),s.createElement("path",{d:"M154.316 131.892l-3.114-1.96.038 3.514-1.043.092c-1.682.115-3.634.23-4.789.23-1.902 0-2.693 2.258 2.23 2.648l-2.645-.596s-2.168 1.317.504 2.3c0 0-1.58 1.217.561 2.58-.584 3.504 5.247 4.058 7.122 3.59 1.876-.47 4.233-2.359 4.487-5.16.28-3.085-.89-5.432-3.35-7.238",fill:"#FFC6A0"}),s.createElement("path",{d:"M153.686 133.577s-6.522.47-8.36.372c-1.836-.098-1.904 2.19 2.359 2.264 3.739.15 5.451-.044 5.451-.044",stroke:"#DB836E",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M145.16 135.877c-1.85 1.346.561 2.355.561 2.355s3.478.898 6.73.617",stroke:"#DB836E",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M151.89 141.71s-6.28.111-6.73-2.132c-.223-1.346.45-1.402.45-1.402M146.114 140.868s-1.103 3.16 5.44 3.533M151.202 129.932v3.477M52.838 89.286c3.533-.337 8.423-1.248 13.582-7.754",stroke:"#DB836E",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M168.567 248.318a6.647 6.647 0 0 1-6.647-6.647v-66.466a6.647 6.647 0 1 1 13.294 0v66.466a6.647 6.647 0 0 1-6.647 6.647",fill:"#5BA02E"}),s.createElement("path",{d:"M176.543 247.653a6.647 6.647 0 0 1-6.646-6.647v-33.232a6.647 6.647 0 1 1 13.293 0v33.232a6.647 6.647 0 0 1-6.647 6.647",fill:"#92C110"}),s.createElement("path",{d:"M186.443 293.613H158.92a3.187 3.187 0 0 1-3.187-3.187v-46.134a3.187 3.187 0 0 1 3.187-3.187h27.524a3.187 3.187 0 0 1 3.187 3.187v46.134a3.187 3.187 0 0 1-3.187 3.187",fill:"#F2D7AD"}),s.createElement("path",{d:"M88.979 89.48s7.776 5.384 16.6 2.842",stroke:"#E4EBF7",strokeWidth:"1.101",strokeLinecap:"round",strokeLinejoin:"round"}))),HA=()=>s.createElement("svg",{width:"254",height:"294"},s.createElement("title",null,"Server Error"),s.createElement("defs",null,s.createElement("path",{d:"M0 .335h253.49v253.49H0z"}),s.createElement("path",{d:"M0 293.665h253.49V.401H0z"})),s.createElement("g",{fill:"none",fillRule:"evenodd"},s.createElement("g",{transform:"translate(0 .067)"},s.createElement("mask",{fill:"#fff"}),s.createElement("path",{d:"M0 128.134v-2.11C0 56.608 56.273.334 125.69.334h2.11c69.416 0 125.69 56.274 125.69 125.69v2.11c0 69.417-56.274 125.69-125.69 125.69h-2.11C56.273 253.824 0 197.551 0 128.134",fill:"#E4EBF7",mask:"url(#b)"})),s.createElement("path",{d:"M39.989 132.108a8.332 8.332 0 1 1-16.581-1.671 8.332 8.332 0 0 1 16.58 1.671",fill:"#FFF"}),s.createElement("path",{d:"M37.19 135.59l10.553 5.983M48.665 147.884l-12.734 10.861",stroke:"#FFF",strokeWidth:"2"}),s.createElement("path",{d:"M40.11 160.816a5.706 5.706 0 1 1-11.354-1.145 5.706 5.706 0 0 1 11.354 1.145M57.943 144.6a5.747 5.747 0 1 1-11.436-1.152 5.747 5.747 0 0 1 11.436 1.153M99.656 27.434l30.024-.013a4.619 4.619 0 1 0-.004-9.238l-30.024.013a4.62 4.62 0 0 0 .004 9.238M111.14 45.896l30.023-.013a4.62 4.62 0 1 0-.004-9.238l-30.024.013a4.619 4.619 0 1 0 .004 9.238",fill:"#FFF"}),s.createElement("path",{d:"M113.53 27.421v-.002l15.89-.007a4.619 4.619 0 1 0 .005 9.238l-15.892.007v-.002a4.618 4.618 0 0 0-.004-9.234M150.167 70.091h-3.979a4.789 4.789 0 0 1-4.774-4.775 4.788 4.788 0 0 1 4.774-4.774h3.979a4.789 4.789 0 0 1 4.775 4.774 4.789 4.789 0 0 1-4.775 4.775",fill:"#FFF"}),s.createElement("path",{d:"M171.687 30.234c0-16.392 13.289-29.68 29.681-29.68 16.392 0 29.68 13.288 29.68 29.68 0 16.393-13.288 29.681-29.68 29.681s-29.68-13.288-29.68-29.68",fill:"#FF603B"}),s.createElement("path",{d:"M203.557 19.435l-.676 15.035a1.514 1.514 0 0 1-3.026 0l-.675-15.035a2.19 2.19 0 1 1 4.377 0m-.264 19.378c.513.477.77 1.1.77 1.87s-.257 1.393-.77 1.907c-.55.476-1.21.733-1.943.733a2.545 2.545 0 0 1-1.87-.77c-.55-.514-.806-1.136-.806-1.87 0-.77.256-1.393.806-1.87.513-.513 1.137-.733 1.87-.733.77 0 1.43.22 1.943.733",fill:"#FFF"}),s.createElement("path",{d:"M119.3 133.275c4.426-.598 3.612-1.204 4.079-4.778.675-5.18-3.108-16.935-8.262-25.118-1.088-10.72-12.598-11.24-12.598-11.24s4.312 4.895 4.196 16.199c1.398 5.243.804 14.45.804 14.45s5.255 11.369 11.78 10.487",fill:"#FFB594"}),s.createElement("path",{d:"M100.944 91.61s1.463-.583 3.211.582c8.08 1.398 10.368 6.706 11.3 11.368 1.864 1.282 1.864 2.33 1.864 3.496.365.777 1.515 3.03 1.515 3.03s-7.225 1.748-10.954 6.758c-1.399-6.41-6.936-25.235-6.936-25.235",fill:"#FFF"}),s.createElement("path",{d:"M94.008 90.5l1.019-5.815-9.23-11.874-5.233 5.581-2.593 9.863s8.39 5.128 16.037 2.246",fill:"#FFB594"}),s.createElement("path",{d:"M82.931 78.216s-4.557-2.868-2.445-6.892c1.632-3.107 4.537 1.139 4.537 1.139s.524-3.662 3.139-3.662c.523-1.046 1.569-4.184 1.569-4.184s11.507 2.615 13.6 3.138c-.001 5.23-2.317 19.529-7.884 19.969-8.94.706-12.516-9.508-12.516-9.508",fill:"#FFC6A0"}),s.createElement("path",{d:"M102.971 72.243c2.616-2.093 3.489-9.775 3.489-9.775s-2.492-.492-6.676-2.062c-4.708-2.092-12.867-4.771-17.575.982-9.54 4.41-2.062 19.93-2.062 19.93l2.729-3.037s-3.956-3.304-2.092-6.277c2.183-3.48 3.943 1.08 3.943 1.08s.64-2.4 3.6-3.36c.356-.714 1.04-2.69 1.44-3.872a1.08 1.08 0 0 1 1.27-.707c2.41.56 8.723 2.03 11.417 2.676.524.126.876.619.825 1.156l-.308 3.266z",fill:"#520038"}),s.createElement("path",{d:"M101.22 76.514c-.104.613-.585 1.044-1.076.96-.49-.082-.805-.646-.702-1.26.104-.613.585-1.044 1.076-.961.491.083.805.647.702 1.26M94.26 75.074c-.104.613-.585 1.044-1.076.96-.49-.082-.805-.646-.702-1.26.104-.613.585-1.044 1.076-.96.491.082.805.646.702 1.26",fill:"#552950"}),s.createElement("path",{stroke:"#DB836E",strokeWidth:"1.063",strokeLinecap:"round",strokeLinejoin:"round",d:"M99.206 73.644l-.9 1.62-.3 4.38h-2.24"}),s.createElement("path",{d:"M99.926 73.284s1.8-.72 2.52.54",stroke:"#5C2552",strokeWidth:"1.117",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M81.367 73.084s.48-1.12 1.12-.72c.64.4 1.28 1.44.56 2s.16 1.68.16 1.68",stroke:"#DB836E",strokeWidth:"1.117",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M92.326 71.724s1.84 1.12 4.16.96",stroke:"#5C2552",strokeWidth:"1.117",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M92.726 80.604s2.24 1.2 4.4 1.2M93.686 83.164s.96.4 1.52.32M83.687 80.044s1.786 6.547 9.262 7.954",stroke:"#DB836E",strokeWidth:"1.063",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M95.548 91.663s-1.068 2.821-8.298 2.105c-7.23-.717-10.29-5.044-10.29-5.044",stroke:"#E4EBF7",strokeWidth:"1.136",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M78.126 87.478s6.526 4.972 16.47 2.486c0 0 9.577 1.02 11.536 5.322 5.36 11.77.543 36.835 0 39.962 3.496 4.055-.466 8.483-.466 8.483-15.624-3.548-35.81-.6-35.81-.6-4.849-3.546-1.223-9.044-1.223-9.044L62.38 110.32c-2.485-15.227.833-19.803 3.549-20.743 3.03-1.049 8.04-1.282 8.04-1.282.496-.058 1.08-.076 1.37-.233 2.36-1.282 2.787-.583 2.787-.583",fill:"#FFF"}),s.createElement("path",{d:"M65.828 89.81s-6.875.465-7.59 8.156c-.466 8.857 3.03 10.954 3.03 10.954s6.075 22.102 16.796 22.957c8.39-2.176 4.758-6.702 4.661-11.42-.233-11.304-7.108-16.897-7.108-16.897s-4.212-13.75-9.789-13.75",fill:"#FFC6A0"}),s.createElement("path",{d:"M71.716 124.225s.855 11.264 9.828 6.486c4.765-2.536 7.581-13.828 9.789-22.568 1.456-5.768 2.58-12.197 2.58-12.197l-4.973-1.709s-2.408 5.516-7.769 12.275c-4.335 5.467-9.144 11.11-9.455 17.713",fill:"#FFC6A0"}),s.createElement("path",{d:"M108.463 105.191s1.747 2.724-2.331 30.535c2.376 2.216 1.053 6.012-.233 7.51",stroke:"#E4EBF7",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M123.262 131.527s-.427 2.732-11.77 1.981c-15.187-1.006-25.326-3.25-25.326-3.25l.933-5.8s.723.215 9.71-.068c11.887-.373 18.714-6.07 24.964-1.022 4.039 3.263 1.489 8.16 1.489 8.16",fill:"#FFC6A0"}),s.createElement("path",{d:"M70.24 90.974s-5.593-4.739-11.054 2.68c-3.318 7.223.517 15.284 2.664 19.578-.31 3.729 2.33 4.311 2.33 4.311s.108.895 1.516 2.68c4.078-7.03 6.72-9.166 13.711-12.546-.328-.656-1.877-3.265-1.825-3.767.175-1.69-1.282-2.623-1.282-2.623s-.286-.156-1.165-2.738c-.788-2.313-2.036-5.177-4.895-7.575",fill:"#FFF"}),s.createElement("path",{d:"M90.232 288.027s4.855 2.308 8.313 1.155c3.188-1.063 5.12.755 8.002 1.331 2.881.577 7.769 1.243 13.207-1.424-.117-6.228-7.786-4.499-13.518-7.588-2.895-1.56-4.276-5.336-4.066-9.944H91.544s-1.573 11.89-1.312 16.47",fill:"#CBD1D1"}),s.createElement("path",{d:"M90.207 287.833s2.745 1.437 7.639.738c3.456-.494 3.223.66 7.418 1.282 4.195.621 13.092-.194 14.334-1.126.466 1.242-.388 2.33-.388 2.33s-1.709.682-5.438.932c-2.295.154-8.098.276-10.14-.621-2.02-1.554-4.894-1.515-6.06-.234-4.427 1.075-7.184-.31-7.184-.31l-.181-2.991z",fill:"#2B0849"}),s.createElement("path",{d:"M98.429 272.257h3.496s-.117 7.574 5.127 9.671c-5.244.7-9.672-2.602-8.623-9.671",fill:"#A4AABA"}),s.createElement("path",{d:"M44.425 272.046s-2.208 7.774-4.702 12.899c-1.884 3.874-4.428 7.854 5.729 7.854 6.97 0 9.385-.503 7.782-6.917-1.604-6.415.279-13.836.279-13.836h-9.088z",fill:"#CBD1D1"}),s.createElement("path",{d:"M38.066 290.277s2.198 1.225 6.954 1.225c6.376 0 8.646-1.73 8.646-1.73s.63 1.168-.649 2.27c-1.04.897-3.77 1.668-7.745 1.621-4.347-.05-6.115-.593-7.062-1.224-.864-.577-.72-1.657-.144-2.162",fill:"#2B0849"}),s.createElement("path",{d:"M45.344 274.041s.035 1.592-.329 3.07c-.365 1.49-1.13 3.255-1.184 4.34-.061 1.206 4.755 1.657 5.403.036.65-1.622 1.357-6.737 2.006-7.602.648-.865-5.14-2.222-5.896.156",fill:"#A4AABA"}),s.createElement("path",{d:"M89.476 277.57l13.899.095s1.349-56.643 1.925-66.909c.576-10.267 3.923-45.052 1.042-65.585l-13.037-.669-23.737.81s-.452 4.12-1.243 10.365c-.065.515-.708.874-.777 1.417-.078.608.439 1.407.332 2.044-2.455 14.627-5.797 32.736-8.256 46.837-.121.693-1.282 1.048-1.515 2.796-.042.314.22 1.584.116 1.865-7.14 19.473-12.202 52.601-15.66 67.19l15.176-.015s2.282-10.145 4.185-18.871c2.922-13.389 24.012-88.32 24.012-88.32l3.133-.954-.158 48.568s-.233 1.282.35 2.098c.583.815-.581 1.167-.408 2.331l.408 1.864s-.466 7.458-.932 12.352c-.467 4.895 1.145 40.69 1.145 40.69",fill:"#7BB2F9"}),s.createElement("path",{d:"M64.57 218.881c1.197.099 4.195-2.097 7.225-5.127M96.024 222.534s2.881-1.152 6.34-4.034",stroke:"#648BD8",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M96.973 219.373s2.882-1.153 6.34-4.034",stroke:"#648BD8",strokeWidth:"1.032",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M63.172 222.144s2.724-.614 6.759-3.496M74.903 146.166c-.281 3.226.31 8.856-4.506 9.478M93.182 144.344s.115 14.557-1.344 15.65c-2.305 1.73-3.107 2.02-3.107 2.02M89.197 144.923s.269 13.144-1.01 25.088M83.525 170.71s6.81-1.051 9.116-1.051M46.026 270.045l-.892 4.538M46.937 263.289l-.815 4.157M62.725 202.503c-.33 1.618-.102 1.904-.449 3.438 0 0-2.756 1.903-2.29 3.923.466 2.02-.31 3.424-4.505 17.252-1.762 5.807-4.233 18.922-6.165 28.278-.03.144-.521 2.646-1.14 5.8M64.158 194.136c-.295 1.658-.6 3.31-.917 4.938M71.33 146.787l-1.244 10.877s-1.14.155-.519 2.33c.117 1.399-2.778 16.39-5.382 31.615M44.242 273.727H58.07",stroke:"#648BD8",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M106.18 142.117c-3.028-.489-18.825-2.744-36.219.2a.625.625 0 0 0-.518.644c.063 1.307.044 2.343.015 2.995a.617.617 0 0 0 .716.636c3.303-.534 17.037-2.412 35.664-.266.347.04.66-.214.692-.56.124-1.347.16-2.425.17-3.029a.616.616 0 0 0-.52-.62",fill:"#192064"}),s.createElement("path",{d:"M96.398 145.264l.003-5.102a.843.843 0 0 0-.809-.847 114.104 114.104 0 0 0-8.141-.014.85.85 0 0 0-.82.847l-.003 5.097c0 .476.388.857.864.845 2.478-.064 5.166-.067 8.03.017a.848.848 0 0 0 .876-.843",fill:"#FFF"}),s.createElement("path",{d:"M95.239 144.296l.002-3.195a.667.667 0 0 0-.643-.672c-1.9-.061-3.941-.073-6.094-.01a.675.675 0 0 0-.654.672l-.002 3.192c0 .376.305.677.68.669 1.859-.042 3.874-.043 6.02.012.376.01.69-.291.691-.668",fill:"#192064"}),s.createElement("path",{d:"M90.102 273.522h12.819M91.216 269.761c.006 3.519-.072 5.55 0 6.292M90.923 263.474c-.009 1.599-.016 2.558-.016 4.505M90.44 170.404l.932 46.38s.7 1.631-.233 2.796c-.932 1.166 2.564.7.932 2.33-1.63 1.633.933 1.166 0 3.497-.618 1.546-1.031 21.921-1.138 36.513",stroke:"#648BD8",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M73.736 98.665l2.214 4.312s2.098.816 1.865 2.68l.816 2.214M64.297 116.611c.233-.932 2.176-7.147 12.585-10.488M77.598 90.042s7.691 6.137 16.547 2.72",stroke:"#E4EBF7",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M91.974 86.954s5.476-.816 7.574-4.545c1.297-.345.72 2.212-.33 3.671-.7.971-1.01 1.554-1.01 1.554s.194.31.155.816c-.053.697-.175.653-.272 1.048-.081.335.108.657 0 1.049-.046.17-.198.5-.382.878-.12.249-.072.687-.2.948-.231.469-1.562 1.87-2.622 2.855-3.826 3.554-5.018 1.644-6.001-.408-.894-1.865-.661-5.127-.874-6.875-.35-2.914-2.622-3.03-1.923-4.429.343-.685 2.87.69 3.263 1.748.757 2.04 2.952 1.807 2.622 1.69",fill:"#FFC6A0"}),s.createElement("path",{d:"M99.8 82.429c-.465.077-.35.272-.97 1.243-.622.971-4.817 2.932-6.39 3.224-2.589.48-2.278-1.56-4.254-2.855-1.69-1.107-3.562-.638-1.398 1.398.99.932.932 1.107 1.398 3.205.335 1.506-.64 3.67.7 5.593",stroke:"#DB836E",strokeWidth:".774",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M79.543 108.673c-2.1 2.926-4.266 6.175-5.557 8.762",stroke:"#E59788",strokeWidth:".774",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M87.72 124.768s-2.098-1.942-5.127-2.719c-3.03-.777-3.574-.155-5.516.078-1.942.233-3.885-.932-3.652.7.233 1.63 5.05 1.01 5.206 2.097.155 1.087-6.37 2.796-8.313 2.175-.777.777.466 1.864 2.02 2.175.233 1.554 2.253 1.554 2.253 1.554s.699 1.01 2.641 1.088c2.486 1.32 8.934-.7 10.954-1.554 2.02-.855-.466-5.594-.466-5.594",fill:"#FFC6A0"}),s.createElement("path",{d:"M73.425 122.826s.66 1.127 3.167 1.418c2.315.27 2.563.583 2.563.583s-2.545 2.894-9.07 2.272M72.416 129.274s3.826.097 4.933-.718M74.98 130.75s1.961.136 3.36-.505M77.232 131.916s1.748.019 2.914-.505M73.328 122.321s-.595-1.032 1.262-.427c1.671.544 2.833.055 5.128.155 1.389.061 3.067-.297 3.982.15 1.606.784 3.632 2.181 3.632 2.181s10.526 1.204 19.033-1.127M78.864 108.104s-8.39 2.758-13.168 12.12",stroke:"#E59788",strokeWidth:".774",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M109.278 112.533s3.38-3.613 7.575-4.662",stroke:"#E4EBF7",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M107.375 123.006s9.697-2.745 11.445-.88",stroke:"#E59788",strokeWidth:".774",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M194.605 83.656l3.971-3.886M187.166 90.933l3.736-3.655M191.752 84.207l-4.462-4.56M198.453 91.057l-4.133-4.225M129.256 163.074l3.718-3.718M122.291 170.039l3.498-3.498M126.561 163.626l-4.27-4.27M132.975 170.039l-3.955-3.955",stroke:"#BFCDDD",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M190.156 211.779h-1.604a4.023 4.023 0 0 1-4.011-4.011V175.68a4.023 4.023 0 0 1 4.01-4.01h1.605a4.023 4.023 0 0 1 4.011 4.01v32.088a4.023 4.023 0 0 1-4.01 4.01",fill:"#A3B4C6"}),s.createElement("path",{d:"M237.824 212.977a4.813 4.813 0 0 1-4.813 4.813h-86.636a4.813 4.813 0 0 1 0-9.626h86.636a4.813 4.813 0 0 1 4.813 4.813",fill:"#A3B4C6"}),s.createElement("mask",{fill:"#fff"}),s.createElement("path",{fill:"#A3B4C6",mask:"url(#d)",d:"M154.098 190.096h70.513v-84.617h-70.513z"}),s.createElement("path",{d:"M224.928 190.096H153.78a3.219 3.219 0 0 1-3.208-3.209V167.92a3.219 3.219 0 0 1 3.208-3.21h71.148a3.219 3.219 0 0 1 3.209 3.21v18.967a3.219 3.219 0 0 1-3.21 3.209M224.928 130.832H153.78a3.218 3.218 0 0 1-3.208-3.208v-18.968a3.219 3.219 0 0 1 3.208-3.209h71.148a3.219 3.219 0 0 1 3.209 3.21v18.967a3.218 3.218 0 0 1-3.21 3.208",fill:"#BFCDDD",mask:"url(#d)"}),s.createElement("path",{d:"M159.563 120.546a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M166.98 120.546a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M174.397 120.546a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M222.539 120.546h-22.461a.802.802 0 0 1-.802-.802v-3.208c0-.443.359-.803.802-.803h22.46c.444 0 .803.36.803.803v3.208c0 .443-.36.802-.802.802",fill:"#FFF",mask:"url(#d)"}),s.createElement("path",{d:"M224.928 160.464H153.78a3.218 3.218 0 0 1-3.208-3.209v-18.967a3.219 3.219 0 0 1 3.208-3.209h71.148a3.219 3.219 0 0 1 3.209 3.209v18.967a3.218 3.218 0 0 1-3.21 3.209",fill:"#BFCDDD",mask:"url(#d)"}),s.createElement("path",{d:"M173.455 130.832h49.301M164.984 130.832h6.089M155.952 130.832h6.75M173.837 160.613h49.3M165.365 160.613h6.089M155.57 160.613h6.751",stroke:"#7C90A5",strokeWidth:"1.124",strokeLinecap:"round",strokeLinejoin:"round",mask:"url(#d)"}),s.createElement("path",{d:"M159.563 151.038a2.407 2.407 0 1 1 0-4.814 2.407 2.407 0 0 1 0 4.814M166.98 151.038a2.407 2.407 0 1 1 0-4.814 2.407 2.407 0 0 1 0 4.814M174.397 151.038a2.407 2.407 0 1 1 .001-4.814 2.407 2.407 0 0 1 0 4.814M222.539 151.038h-22.461a.802.802 0 0 1-.802-.802v-3.209c0-.443.359-.802.802-.802h22.46c.444 0 .803.36.803.802v3.209c0 .443-.36.802-.802.802M159.563 179.987a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M166.98 179.987a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M174.397 179.987a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M222.539 179.987h-22.461a.802.802 0 0 1-.802-.802v-3.209c0-.443.359-.802.802-.802h22.46c.444 0 .803.36.803.802v3.209c0 .443-.36.802-.802.802",fill:"#FFF",mask:"url(#d)"}),s.createElement("path",{d:"M203.04 221.108h-27.372a2.413 2.413 0 0 1-2.406-2.407v-11.448a2.414 2.414 0 0 1 2.406-2.407h27.372a2.414 2.414 0 0 1 2.407 2.407V218.7a2.413 2.413 0 0 1-2.407 2.407",fill:"#BFCDDD",mask:"url(#d)"}),s.createElement("path",{d:"M177.259 207.217v11.52M201.05 207.217v11.52",stroke:"#A3B4C6",strokeWidth:"1.124",strokeLinecap:"round",strokeLinejoin:"round",mask:"url(#d)"}),s.createElement("path",{d:"M162.873 267.894a9.422 9.422 0 0 1-9.422-9.422v-14.82a9.423 9.423 0 0 1 18.845 0v14.82a9.423 9.423 0 0 1-9.423 9.422",fill:"#5BA02E",mask:"url(#d)"}),s.createElement("path",{d:"M171.22 267.83a9.422 9.422 0 0 1-9.422-9.423v-3.438a9.423 9.423 0 0 1 18.845 0v3.438a9.423 9.423 0 0 1-9.422 9.423",fill:"#92C110",mask:"url(#d)"}),s.createElement("path",{d:"M181.31 293.666h-27.712a3.209 3.209 0 0 1-3.209-3.21V269.79a3.209 3.209 0 0 1 3.209-3.21h27.711a3.209 3.209 0 0 1 3.209 3.21v20.668a3.209 3.209 0 0 1-3.209 3.209",fill:"#F2D7AD",mask:"url(#d)"})));const UA=e=>{const{componentCls:t,lineHeightHeading3:a,iconCls:o,padding:f,paddingXL:y,paddingXS:_,paddingLG:S,marginXS:I,lineHeight:A}=e;return{[t]:{padding:`${(0,me.bf)(e.calc(S).mul(2).equal())} ${(0,me.bf)(y)}`,"&-rtl":{direction:"rtl"}},[`${t} ${t}-image`]:{width:e.imageWidth,height:e.imageHeight,margin:"auto"},[`${t} ${t}-icon`]:{marginBottom:S,textAlign:"center",[`& > ${o}`]:{fontSize:e.iconFontSize}},[`${t} ${t}-title`]:{color:e.colorTextHeading,fontSize:e.titleFontSize,lineHeight:a,marginBlock:I,textAlign:"center"},[`${t} ${t}-subtitle`]:{color:e.colorTextDescription,fontSize:e.subtitleFontSize,lineHeight:A,textAlign:"center"},[`${t} ${t}-content`]:{marginTop:S,padding:`${(0,me.bf)(S)} ${(0,me.bf)(e.calc(f).mul(2.5).equal())}`,backgroundColor:e.colorFillAlter},[`${t} ${t}-extra`]:{margin:e.extraMargin,textAlign:"center","& > *":{marginInlineEnd:_,"&:last-child":{marginInlineEnd:0}}}}},WA=e=>{const{componentCls:t,iconCls:a}=e;return{[`${t}-success ${t}-icon > ${a}`]:{color:e.resultSuccessIconColor},[`${t}-error ${t}-icon > ${a}`]:{color:e.resultErrorIconColor},[`${t}-info ${t}-icon > ${a}`]:{color:e.resultInfoIconColor},[`${t}-warning ${t}-icon > ${a}`]:{color:e.resultWarningIconColor}}},GA=e=>[UA(e),WA(e)],XA=e=>GA(e),KA=e=>({titleFontSize:e.fontSizeHeading3,subtitleFontSize:e.fontSize,iconFontSize:e.fontSizeHeading3*3,extraMargin:`${e.paddingLG}px 0 0 0`});var qA=(0,oe.I$)("Result",e=>{const t=e.colorInfo,a=e.colorError,o=e.colorSuccess,f=e.colorWarning,y=(0,kr.IX)(e,{resultInfoIconColor:t,resultErrorIconColor:a,resultSuccessIconColor:o,resultWarningIconColor:f,imageWidth:250,imageHeight:295});return[XA(y)]},KA),YA=()=>s.createElement("svg",{width:"251",height:"294"},s.createElement("title",null,"Unauthorized"),s.createElement("g",{fill:"none",fillRule:"evenodd"},s.createElement("path",{d:"M0 129.023v-2.084C0 58.364 55.591 2.774 124.165 2.774h2.085c68.574 0 124.165 55.59 124.165 124.165v2.084c0 68.575-55.59 124.166-124.165 124.166h-2.085C55.591 253.189 0 197.598 0 129.023",fill:"#E4EBF7"}),s.createElement("path",{d:"M41.417 132.92a8.231 8.231 0 1 1-16.38-1.65 8.231 8.231 0 0 1 16.38 1.65",fill:"#FFF"}),s.createElement("path",{d:"M38.652 136.36l10.425 5.91M49.989 148.505l-12.58 10.73",stroke:"#FFF",strokeWidth:"2"}),s.createElement("path",{d:"M41.536 161.28a5.636 5.636 0 1 1-11.216-1.13 5.636 5.636 0 0 1 11.216 1.13M59.154 145.261a5.677 5.677 0 1 1-11.297-1.138 5.677 5.677 0 0 1 11.297 1.138M100.36 29.516l29.66-.013a4.562 4.562 0 1 0-.004-9.126l-29.66.013a4.563 4.563 0 0 0 .005 9.126M111.705 47.754l29.659-.013a4.563 4.563 0 1 0-.004-9.126l-29.66.013a4.563 4.563 0 1 0 .005 9.126",fill:"#FFF"}),s.createElement("path",{d:"M114.066 29.503V29.5l15.698-.007a4.563 4.563 0 1 0 .004 9.126l-15.698.007v-.002a4.562 4.562 0 0 0-.004-9.122M185.405 137.723c-.55 5.455-5.418 9.432-10.873 8.882-5.456-.55-9.432-5.418-8.882-10.873.55-5.455 5.418-9.432 10.873-8.882 5.455.55 9.432 5.418 8.882 10.873",fill:"#FFF"}),s.createElement("path",{d:"M180.17 143.772l12.572 7.129M193.841 158.42L178.67 171.36",stroke:"#FFF",strokeWidth:"2"}),s.createElement("path",{d:"M185.55 171.926a6.798 6.798 0 1 1-13.528-1.363 6.798 6.798 0 0 1 13.527 1.363M204.12 155.285a6.848 6.848 0 1 1-13.627-1.375 6.848 6.848 0 0 1 13.626 1.375",fill:"#FFF"}),s.createElement("path",{d:"M152.988 194.074a2.21 2.21 0 1 1-4.42 0 2.21 2.21 0 0 1 4.42 0zM225.931 118.217a2.21 2.21 0 1 1-4.421 0 2.21 2.21 0 0 1 4.421 0zM217.09 153.051a2.21 2.21 0 1 1-4.421 0 2.21 2.21 0 0 1 4.42 0zM177.84 109.842a2.21 2.21 0 1 1-4.422 0 2.21 2.21 0 0 1 4.421 0zM196.114 94.454a2.21 2.21 0 1 1-4.421 0 2.21 2.21 0 0 1 4.421 0zM202.844 182.523a2.21 2.21 0 1 1-4.42 0 2.21 2.21 0 0 1 4.42 0z",stroke:"#FFF",strokeWidth:"2"}),s.createElement("path",{stroke:"#FFF",strokeWidth:"2",d:"M215.125 155.262l-1.902 20.075-10.87 5.958M174.601 176.636l-6.322 9.761H156.98l-4.484 6.449M175.874 127.28V111.56M221.51 119.404l-12.77 7.859-15.228-7.86V96.668"}),s.createElement("path",{d:"M180.68 29.32C180.68 13.128 193.806 0 210 0c16.193 0 29.32 13.127 29.32 29.32 0 16.194-13.127 29.322-29.32 29.322-16.193 0-29.32-13.128-29.32-29.321",fill:"#A26EF4"}),s.createElement("path",{d:"M221.45 41.706l-21.563-.125a1.744 1.744 0 0 1-1.734-1.754l.071-12.23a1.744 1.744 0 0 1 1.754-1.734l21.562.125c.964.006 1.74.791 1.735 1.755l-.071 12.229a1.744 1.744 0 0 1-1.754 1.734",fill:"#FFF"}),s.createElement("path",{d:"M215.106 29.192c-.015 2.577-2.049 4.654-4.543 4.64-2.494-.014-4.504-2.115-4.489-4.693l.04-6.925c.016-2.577 2.05-4.654 4.543-4.64 2.494.015 4.504 2.116 4.49 4.693l-.04 6.925zm-4.53-14.074a6.877 6.877 0 0 0-6.916 6.837l-.043 7.368a6.877 6.877 0 0 0 13.754.08l.042-7.368a6.878 6.878 0 0 0-6.837-6.917zM167.566 68.367h-3.93a4.73 4.73 0 0 1-4.717-4.717 4.73 4.73 0 0 1 4.717-4.717h3.93a4.73 4.73 0 0 1 4.717 4.717 4.73 4.73 0 0 1-4.717 4.717",fill:"#FFF"}),s.createElement("path",{d:"M168.214 248.838a6.611 6.611 0 0 1-6.61-6.611v-66.108a6.611 6.611 0 0 1 13.221 0v66.108a6.611 6.611 0 0 1-6.61 6.61",fill:"#5BA02E"}),s.createElement("path",{d:"M176.147 248.176a6.611 6.611 0 0 1-6.61-6.61v-33.054a6.611 6.611 0 1 1 13.221 0v33.053a6.611 6.611 0 0 1-6.61 6.611",fill:"#92C110"}),s.createElement("path",{d:"M185.994 293.89h-27.376a3.17 3.17 0 0 1-3.17-3.17v-45.887a3.17 3.17 0 0 1 3.17-3.17h27.376a3.17 3.17 0 0 1 3.17 3.17v45.886a3.17 3.17 0 0 1-3.17 3.17",fill:"#F2D7AD"}),s.createElement("path",{d:"M81.972 147.673s6.377-.927 17.566-1.28c11.729-.371 17.57 1.086 17.57 1.086s3.697-3.855.968-8.424c1.278-12.077 5.982-32.827.335-48.273-1.116-1.339-3.743-1.512-7.536-.62-1.337.315-7.147-.149-7.983-.1l-15.311-.347s-3.487-.17-8.035-.508c-1.512-.113-4.227-1.683-5.458-.338-.406.443-2.425 5.669-1.97 16.077l8.635 35.642s-3.141 3.61 1.219 7.085",fill:"#FFF"}),s.createElement("path",{d:"M75.768 73.325l-.9-6.397 11.982-6.52s7.302-.118 8.038 1.205c.737 1.324-5.616.993-5.616.993s-1.836 1.388-2.615 2.5c-1.654 2.363-.986 6.471-8.318 5.986-1.708.284-2.57 2.233-2.57 2.233",fill:"#FFC6A0"}),s.createElement("path",{d:"M52.44 77.672s14.217 9.406 24.973 14.444c1.061.497-2.094 16.183-11.892 11.811-7.436-3.318-20.162-8.44-21.482-14.496-.71-3.258 2.543-7.643 8.401-11.76M141.862 80.113s-6.693 2.999-13.844 6.876c-3.894 2.11-10.137 4.704-12.33 7.988-6.224 9.314 3.536 11.22 12.947 7.503 6.71-2.651 28.999-12.127 13.227-22.367",fill:"#FFB594"}),s.createElement("path",{d:"M76.166 66.36l3.06 3.881s-2.783 2.67-6.31 5.747c-7.103 6.195-12.803 14.296-15.995 16.44-3.966 2.662-9.754 3.314-12.177-.118-3.553-5.032.464-14.628 31.422-25.95",fill:"#FFC6A0"}),s.createElement("path",{d:"M64.674 85.116s-2.34 8.413-8.912 14.447c.652.548 18.586 10.51 22.144 10.056 5.238-.669 6.417-18.968 1.145-20.531-.702-.208-5.901-1.286-8.853-2.167-.87-.26-1.611-1.71-3.545-.936l-1.98-.869zM128.362 85.826s5.318 1.956 7.325 13.734c-.546.274-17.55 12.35-21.829 7.805-6.534-6.94-.766-17.393 4.275-18.61 4.646-1.121 5.03-1.37 10.23-2.929",fill:"#FFF"}),s.createElement("path",{d:"M78.18 94.656s.911 7.41-4.914 13.078",stroke:"#E4EBF7",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M87.397 94.68s3.124 2.572 10.263 2.572c7.14 0 9.074-3.437 9.074-3.437",stroke:"#E4EBF7",strokeWidth:".932",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M117.184 68.639l-6.781-6.177s-5.355-4.314-9.223-.893c-3.867 3.422 4.463 2.083 5.653 4.165 1.19 2.082.848 1.143-2.083.446-5.603-1.331-2.082.893 2.975 5.355 2.091 1.845 6.992.955 6.992.955l2.467-3.851z",fill:"#FFC6A0"}),s.createElement("path",{d:"M105.282 91.315l-.297-10.937-15.918-.027-.53 10.45c-.026.403.17.788.515.999 2.049 1.251 9.387 5.093 15.799.424.287-.21.443-.554.431-.91",fill:"#FFB594"}),s.createElement("path",{d:"M107.573 74.24c.817-1.147.982-9.118 1.015-11.928a1.046 1.046 0 0 0-.965-1.055l-4.62-.365c-7.71-1.044-17.071.624-18.253 6.346-5.482 5.813-.421 13.244-.421 13.244s1.963 3.566 4.305 6.791c.756 1.041.398-3.731 3.04-5.929 5.524-4.594 15.899-7.103 15.899-7.103",fill:"#5C2552"}),s.createElement("path",{d:"M88.426 83.206s2.685 6.202 11.602 6.522c7.82.28 8.973-7.008 7.434-17.505l-.909-5.483c-6.118-2.897-15.478.54-15.478.54s-.576 2.044-.19 5.504c-2.276 2.066-1.824 5.618-1.824 5.618s-.905-1.922-1.98-2.321c-.86-.32-1.897.089-2.322 1.98-1.04 4.632 3.667 5.145 3.667 5.145",fill:"#FFC6A0"}),s.createElement("path",{stroke:"#DB836E",strokeWidth:"1.145",strokeLinecap:"round",strokeLinejoin:"round",d:"M100.843 77.099l1.701-.928-1.015-4.324.674-1.406"}),s.createElement("path",{d:"M105.546 74.092c-.022.713-.452 1.279-.96 1.263-.51-.016-.904-.607-.882-1.32.021-.713.452-1.278.96-1.263.51.016.904.607.882 1.32M97.592 74.349c-.022.713-.452 1.278-.961 1.263-.509-.016-.904-.607-.882-1.32.022-.713.452-1.279.961-1.263.51.016.904.606.882 1.32",fill:"#552950"}),s.createElement("path",{d:"M91.132 86.786s5.269 4.957 12.679 2.327",stroke:"#DB836E",strokeWidth:"1.145",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M99.776 81.903s-3.592.232-1.44-2.79c1.59-1.496 4.897-.46 4.897-.46s1.156 3.906-3.457 3.25",fill:"#DB836E"}),s.createElement("path",{d:"M102.88 70.6s2.483.84 3.402.715M93.883 71.975s2.492-1.144 4.778-1.073",stroke:"#5C2552",strokeWidth:"1.526",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M86.32 77.374s.961.879 1.458 2.106c-.377.48-1.033 1.152-.236 1.809M99.337 83.719s1.911.151 2.509-.254",stroke:"#DB836E",strokeWidth:"1.145",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M87.782 115.821l15.73-3.012M100.165 115.821l10.04-2.008",stroke:"#E4EBF7",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M66.508 86.763s-1.598 8.83-6.697 14.078",stroke:"#E4EBF7",strokeWidth:"1.114",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M128.31 87.934s3.013 4.121 4.06 11.785",stroke:"#E4EBF7",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M64.09 84.816s-6.03 9.912-13.607 9.903",stroke:"#DB836E",strokeWidth:".795",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M112.366 65.909l-.142 5.32s5.993 4.472 11.945 9.202c4.482 3.562 8.888 7.455 10.985 8.662 4.804 2.766 8.9 3.355 11.076 1.808 4.071-2.894 4.373-9.878-8.136-15.263-4.271-1.838-16.144-6.36-25.728-9.73",fill:"#FFC6A0"}),s.createElement("path",{d:"M130.532 85.488s4.588 5.757 11.619 6.214",stroke:"#DB836E",strokeWidth:".75",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M121.708 105.73s-.393 8.564-1.34 13.612",stroke:"#E4EBF7",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M115.784 161.512s-3.57-1.488-2.678-7.14",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M101.52 290.246s4.326 2.057 7.408 1.03c2.842-.948 4.564.673 7.132 1.186 2.57.514 6.925 1.108 11.772-1.269-.104-5.551-6.939-4.01-12.048-6.763-2.582-1.39-3.812-4.757-3.625-8.863h-9.471s-1.402 10.596-1.169 14.68",fill:"#CBD1D1"}),s.createElement("path",{d:"M101.496 290.073s2.447 1.281 6.809.658c3.081-.44 3.74.485 7.479 1.039 3.739.554 10.802-.07 11.91-.9.415 1.108-.347 2.077-.347 2.077s-1.523.608-4.847.831c-2.045.137-5.843.293-7.663-.507-1.8-1.385-5.286-1.917-5.77-.243-3.947.958-7.41-.288-7.41-.288l-.16-2.667z",fill:"#2B0849"}),s.createElement("path",{d:"M108.824 276.19h3.116s-.103 6.751 4.57 8.62c-4.673.624-8.62-2.32-7.686-8.62",fill:"#A4AABA"}),s.createElement("path",{d:"M57.65 272.52s-2.122 7.47-4.518 12.396c-1.811 3.724-4.255 7.548 5.505 7.548 6.698 0 9.02-.483 7.479-6.648-1.541-6.164.268-13.296.268-13.296H57.65z",fill:"#CBD1D1"}),s.createElement("path",{d:"M51.54 290.04s2.111 1.178 6.682 1.178c6.128 0 8.31-1.662 8.31-1.662s.605 1.122-.624 2.18c-1 .862-3.624 1.603-7.444 1.559-4.177-.049-5.876-.57-6.786-1.177-.831-.554-.692-1.593-.138-2.078",fill:"#2B0849"}),s.createElement("path",{d:"M58.533 274.438s.034 1.529-.315 2.95c-.352 1.431-1.087 3.127-1.139 4.17-.058 1.16 4.57 1.592 5.194.035.623-1.559 1.303-6.475 1.927-7.306.622-.831-4.94-2.135-5.667.15",fill:"#A4AABA"}),s.createElement("path",{d:"M100.885 277.015l13.306.092s1.291-54.228 1.843-64.056c.552-9.828 3.756-43.13.997-62.788l-12.48-.64-22.725.776s-.433 3.944-1.19 9.921c-.062.493-.677.838-.744 1.358-.075.582.42 1.347.318 1.956-2.35 14.003-6.343 32.926-8.697 46.425-.116.663-1.227 1.004-1.45 2.677-.04.3.21 1.516.112 1.785-6.836 18.643-10.89 47.584-14.2 61.551l14.528-.014s2.185-8.524 4.008-16.878c2.796-12.817 22.987-84.553 22.987-84.553l3-.517 1.037 46.1s-.223 1.228.334 2.008c.558.782-.556 1.117-.39 2.233l.39 1.784s-.446 7.14-.892 11.826c-.446 4.685-.092 38.954-.092 38.954",fill:"#7BB2F9"}),s.createElement("path",{d:"M77.438 220.434c1.146.094 4.016-2.008 6.916-4.91M107.55 223.931s2.758-1.103 6.069-3.862",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M108.459 220.905s2.759-1.104 6.07-3.863",stroke:"#648BD8",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M76.099 223.557s2.608-.587 6.47-3.346M87.33 150.82c-.27 3.088.297 8.478-4.315 9.073M104.829 149.075s.11 13.936-1.286 14.983c-2.207 1.655-2.975 1.934-2.975 1.934M101.014 149.63s.035 12.81-1.19 24.245M94.93 174.965s7.174-1.655 9.38-1.655M75.671 204.754c-.316 1.55-.64 3.067-.973 4.535 0 0-1.45 1.822-1.003 3.756.446 1.934-.943 2.034-4.96 15.273-1.686 5.559-4.464 18.49-6.313 27.447-.078.38-4.018 18.06-4.093 18.423M77.043 196.743a313.269 313.269 0 0 1-.877 4.729M83.908 151.414l-1.19 10.413s-1.091.148-.496 2.23c.111 1.34-2.66 15.692-5.153 30.267M57.58 272.94h13.238",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M117.377 147.423s-16.955-3.087-35.7.199c.157 2.501-.002 4.128-.002 4.128s14.607-2.802 35.476-.31c.251-2.342.226-4.017.226-4.017",fill:"#192064"}),s.createElement("path",{d:"M107.511 150.353l.004-4.885a.807.807 0 0 0-.774-.81c-2.428-.092-5.04-.108-7.795-.014a.814.814 0 0 0-.784.81l-.003 4.88c0 .456.371.82.827.808a140.76 140.76 0 0 1 7.688.017.81.81 0 0 0 .837-.806",fill:"#FFF"}),s.createElement("path",{d:"M106.402 149.426l.002-3.06a.64.64 0 0 0-.616-.643 94.135 94.135 0 0 0-5.834-.009.647.647 0 0 0-.626.643l-.001 3.056c0 .36.291.648.651.64 1.78-.04 3.708-.041 5.762.012.36.009.662-.279.662-.64",fill:"#192064"}),s.createElement("path",{d:"M101.485 273.933h12.272M102.652 269.075c.006 3.368.04 5.759.11 6.47M102.667 263.125c-.009 1.53-.015 2.98-.016 4.313M102.204 174.024l.893 44.402s.669 1.561-.224 2.677c-.892 1.116 2.455.67.893 2.231-1.562 1.562.893 1.116 0 3.347-.592 1.48-.988 20.987-1.09 34.956",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"})));const JA={success:Ht.Z,error:Ar.Z,info:Dr.Z,warning:ZA},Ib={404:VA,500:HA,403:YA},QA=Object.keys(Ib),eD=e=>{let{prefixCls:t,icon:a,status:o}=e;const f=J()(`${t}-icon`);if(QA.includes(`${o}`)){const _=Ib[o];return s.createElement("div",{className:`${f} ${t}-image`},s.createElement(_,null))}const y=s.createElement(JA[o]);return a===null||a===!1?null:s.createElement("div",{className:f},a||y)},tD=e=>{let{prefixCls:t,extra:a}=e;return a?s.createElement("div",{className:`${t}-extra`},a):null},wx=e=>{let{prefixCls:t,className:a,rootClassName:o,subTitle:f,title:y,style:_,children:S,status:I="info",icon:A,extra:z}=e;const{getPrefixCls:L,direction:F,result:Z}=s.useContext(_e.E_),k=L("result",t),[W,H,X]=qA(k),Q=J()(k,`${k}-${I}`,a,Z==null?void 0:Z.className,o,{[`${k}-rtl`]:F==="rtl"},H,X),re=Object.assign(Object.assign({},Z==null?void 0:Z.style),_);return W(s.createElement("div",{className:Q,style:re},s.createElement(eD,{prefixCls:k,status:I,icon:A}),s.createElement("div",{className:`${k}-title`},y),f&&s.createElement("div",{className:`${k}-subtitle`},f),s.createElement(tD,{prefixCls:k,extra:z}),S&&s.createElement("div",{className:`${k}-content`},S)))};wx.PRESENTED_IMAGE_403=Ib[403],wx.PRESENTED_IMAGE_404=Ib[404],wx.PRESENTED_IMAGE_500=Ib[500];var nD=wx,rD=TE.Z,iD=j(82162),oD=j(80300),fw=j(85990),aD=e=>{const{value:t,formatter:a,precision:o,decimalSeparator:f,groupSeparator:y="",prefixCls:_}=e;let S;if(typeof a=="function")S=a(t);else{const I=String(t),A=I.match(/^(-?)(\d*)(\.(\d+))?$/);if(!A||I==="-")S=I;else{const z=A[1];let L=A[2]||"0",F=A[4]||"";L=L.replace(/\B(?=(\d{3})+(?!\d))/g,y),typeof o=="number"&&(F=F.padEnd(o,"0").slice(0,o>0?o:0)),F&&(F=`${f}${F}`),S=[s.createElement("span",{key:"int",className:`${_}-content-value-int`},z,L),F&&s.createElement("span",{key:"decimal",className:`${_}-content-value-decimal`},F)]}}return s.createElement("span",{className:`${_}-content-value`},S)};const sD=e=>{const{componentCls:t,marginXXS:a,padding:o,colorTextDescription:f,titleFontSize:y,colorTextHeading:_,contentFontSize:S,fontFamily:I}=e;return{[t]:Object.assign(Object.assign({},(0,nn.Wf)(e)),{[`${t}-title`]:{marginBottom:a,color:f,fontSize:y},[`${t}-skeleton`]:{paddingTop:o},[`${t}-content`]:{color:_,fontSize:S,fontFamily:I,[`${t}-content-value`]:{display:"inline-block",direction:"ltr"},[`${t}-content-prefix, ${t}-content-suffix`]:{display:"inline-block"},[`${t}-content-prefix`]:{marginInlineEnd:a},[`${t}-content-suffix`]:{marginInlineStart:a}}})}},lD=e=>{const{fontSizeHeading3:t,fontSize:a}=e;return{titleFontSize:a,contentFontSize:t}};var cD=(0,oe.I$)("Statistic",e=>{const t=(0,kr.IX)(e,{});return[sD(t)]},lD),uD=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},hw=e=>{const{prefixCls:t,className:a,rootClassName:o,style:f,valueStyle:y,value:_=0,title:S,valueRender:I,prefix:A,suffix:z,loading:L=!1,formatter:F,precision:Z,decimalSeparator:k=".",groupSeparator:W=",",onMouseEnter:H,onMouseLeave:X}=e,Q=uD(e,["prefixCls","className","rootClassName","style","valueStyle","value","title","valueRender","prefix","suffix","loading","formatter","precision","decimalSeparator","groupSeparator","onMouseEnter","onMouseLeave"]),{getPrefixCls:re,direction:ie,className:ne,style:ae}=(0,_e.dj)("statistic"),ue=re("statistic",t),[fe,he,ve]=cD(ue),ye=s.createElement(aD,{decimalSeparator:k,groupSeparator:W,prefixCls:ue,formatter:F,precision:Z,value:_}),we=J()(ue,{[`${ue}-rtl`]:ie==="rtl"},ne,a,o,he,ve),Se=(0,pt.Z)(Q,{aria:!0,data:!0});return fe(s.createElement("div",Object.assign({},Se,{className:we,style:Object.assign(Object.assign({},ae),f),onMouseEnter:H,onMouseLeave:X}),S&&s.createElement("div",{className:`${ue}-title`},S),s.createElement(yu,{paragraph:!1,loading:L,className:`${ue}-skeleton`},s.createElement("div",{style:y,className:`${ue}-content`},A&&s.createElement("span",{className:`${ue}-content-prefix`},A),I?I(ye):ye,z&&s.createElement("span",{className:`${ue}-content-suffix`},z)))))};const dD=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]];function fD(e,t){let a=e;const o=/\[[^\]]*]/g,f=(t.match(o)||[]).map(I=>I.slice(1,-1)),y=t.replace(o,"[]"),_=dD.reduce((I,A)=>{let[z,L]=A;if(I.includes(z)){const F=Math.floor(a/L);return a-=F*L,I.replace(new RegExp(`${z}+`,"g"),Z=>{const k=Z.length;return F.toString().padStart(k,"0")})}return I},y);let S=0;return _.replace(o,()=>{const I=f[S];return S+=1,I})}function hD(e,t){const{format:a=""}=t,o=new Date(e).getTime(),f=Date.now(),y=Math.max(o-f,0);return fD(y,a)}var mD=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const pD=1e3/30;function gD(e){return new Date(e).getTime()}const vD=e=>{const{value:t,format:a="HH:mm:ss",onChange:o,onFinish:f}=e,y=mD(e,["value","format","onChange","onFinish"]),_=(0,fw.Z)(),S=s.useRef(null),I=()=>{f==null||f(),S.current&&(clearInterval(S.current),S.current=null)},A=()=>{const F=gD(t);F>=Date.now()&&(S.current=setInterval(()=>{_(),o==null||o(F-Date.now()),F<Date.now()&&I()},pD))};s.useEffect(()=>(A(),()=>{S.current&&(clearInterval(S.current),S.current=null)}),[t]);const z=(F,Z)=>hD(F,Object.assign(Object.assign({},Z),{format:a})),L=F=>(0,Tn.Tm)(F,{title:void 0});return s.createElement(hw,Object.assign({},y,{value:t,valueRender:L,formatter:z}))};var yD=s.memo(vD);hw.Countdown=yD;var bD=hw,_D=["className","prefixCls","style","active","status","iconPrefix","icon","wrapperStyle","stepNumber","disabled","description","title","subTitle","progressDot","stepIcon","tailContent","icons","stepIndex","onStepClick","onClick","render"];function II(e){return typeof e=="string"}function xD(e){var t,a=e.className,o=e.prefixCls,f=e.style,y=e.active,_=e.status,S=e.iconPrefix,I=e.icon,A=e.wrapperStyle,z=e.stepNumber,L=e.disabled,F=e.description,Z=e.title,k=e.subTitle,W=e.progressDot,H=e.stepIcon,X=e.tailContent,Q=e.icons,re=e.stepIndex,ie=e.onStepClick,ne=e.onClick,ae=e.render,ue=(0,de.Z)(e,_D),fe=!!ie&&!L,he={};fe&&(he.role="button",he.tabIndex=0,he.onClick=function(Te){ne==null||ne(Te),ie(re)},he.onKeyDown=function(Te){var Fe=Te.which;(Fe===_t.Z.ENTER||Fe===_t.Z.SPACE)&&ie(re)});var ve=function(){var Fe,Ae,Ke=J()("".concat(o,"-icon"),"".concat(S,"icon"),(Fe={},(0,ge.Z)(Fe,"".concat(S,"icon-").concat(I),I&&II(I)),(0,ge.Z)(Fe,"".concat(S,"icon-check"),!I&&_==="finish"&&(Q&&!Q.finish||!Q)),(0,ge.Z)(Fe,"".concat(S,"icon-cross"),!I&&_==="error"&&(Q&&!Q.error||!Q)),Fe)),tt=s.createElement("span",{className:"".concat(o,"-icon-dot")});return W?typeof W=="function"?Ae=s.createElement("span",{className:"".concat(o,"-icon")},W(tt,{index:z-1,status:_,title:Z,description:F})):Ae=s.createElement("span",{className:"".concat(o,"-icon")},tt):I&&!II(I)?Ae=s.createElement("span",{className:"".concat(o,"-icon")},I):Q&&Q.finish&&_==="finish"?Ae=s.createElement("span",{className:"".concat(o,"-icon")},Q.finish):Q&&Q.error&&_==="error"?Ae=s.createElement("span",{className:"".concat(o,"-icon")},Q.error):I||_==="finish"||_==="error"?Ae=s.createElement("span",{className:Ke}):Ae=s.createElement("span",{className:"".concat(o,"-icon")},z),H&&(Ae=H({index:z-1,status:_,title:Z,description:F,node:Ae})),Ae},ye=_||"wait",we=J()("".concat(o,"-item"),"".concat(o,"-item-").concat(ye),a,(t={},(0,ge.Z)(t,"".concat(o,"-item-custom"),I),(0,ge.Z)(t,"".concat(o,"-item-active"),y),(0,ge.Z)(t,"".concat(o,"-item-disabled"),L===!0),t)),Se=(0,K.Z)({},f),ze=s.createElement("div",(0,Ue.Z)({},ue,{className:we,style:Se}),s.createElement("div",(0,Ue.Z)({onClick:ne},he,{className:"".concat(o,"-item-container")}),s.createElement("div",{className:"".concat(o,"-item-tail")},X),s.createElement("div",{className:"".concat(o,"-item-icon")},ve()),s.createElement("div",{className:"".concat(o,"-item-content")},s.createElement("div",{className:"".concat(o,"-item-title")},Z,k&&s.createElement("div",{title:typeof k=="string"?k:void 0,className:"".concat(o,"-item-subtitle")},k)),F&&s.createElement("div",{className:"".concat(o,"-item-description")},F))));return ae&&(ze=ae(ze)||null),ze}var TI=xD,CD=["prefixCls","style","className","children","direction","type","labelPlacement","iconPrefix","status","size","current","progressDot","stepIcon","initial","icons","onChange","itemRender","items"];function MI(e){var t,a=e.prefixCls,o=a===void 0?"rc-steps":a,f=e.style,y=f===void 0?{}:f,_=e.className,S=e.children,I=e.direction,A=I===void 0?"horizontal":I,z=e.type,L=z===void 0?"default":z,F=e.labelPlacement,Z=F===void 0?"horizontal":F,k=e.iconPrefix,W=k===void 0?"rc":k,H=e.status,X=H===void 0?"process":H,Q=e.size,re=e.current,ie=re===void 0?0:re,ne=e.progressDot,ae=ne===void 0?!1:ne,ue=e.stepIcon,fe=e.initial,he=fe===void 0?0:fe,ve=e.icons,ye=e.onChange,we=e.itemRender,Se=e.items,ze=Se===void 0?[]:Se,Te=(0,de.Z)(e,CD),Fe=L==="navigation",Ae=L==="inline",Ke=Ae||ae,tt=Ae?"horizontal":A,vt=Ae?void 0:Q,bt=Ke?"vertical":Z,lt=J()(o,"".concat(o,"-").concat(tt),_,(t={},(0,ge.Z)(t,"".concat(o,"-").concat(vt),vt),(0,ge.Z)(t,"".concat(o,"-label-").concat(bt),tt==="horizontal"),(0,ge.Z)(t,"".concat(o,"-dot"),!!Ke),(0,ge.Z)(t,"".concat(o,"-navigation"),Fe),(0,ge.Z)(t,"".concat(o,"-inline"),Ae),t)),ct=function(wt){ye&&ie!==wt&&ye(wt)},mt=function(wt,Bt){var Ct=(0,K.Z)({},wt),dn=he+Bt;return X==="error"&&Bt===ie-1&&(Ct.className="".concat(o,"-next-error")),Ct.status||(dn===ie?Ct.status=X:dn<ie?Ct.status="finish":Ct.status="wait"),Ae&&(Ct.icon=void 0,Ct.subTitle=void 0),!Ct.render&&we&&(Ct.render=function(zn){return we(Ct,zn)}),s.createElement(TI,(0,Ue.Z)({},Ct,{active:dn===ie,stepNumber:dn+1,stepIndex:dn,key:dn,prefixCls:o,iconPrefix:W,wrapperStyle:y,progressDot:Ke,stepIcon:ue,icons:ve,onStepClick:ye&&ct}))};return s.createElement("div",(0,Ue.Z)({className:lt,style:y},Te),ze.filter(function(Rt){return Rt}).map(mt))}MI.Step=TI;var SD=MI,PI=SD,wD=e=>{const{componentCls:t,customIconTop:a,customIconSize:o,customIconFontSize:f}=e;return{[`${t}-item-custom`]:{[`> ${t}-item-container > ${t}-item-icon`]:{height:"auto",background:"none",border:0,[`> ${t}-icon`]:{top:a,width:o,height:o,fontSize:f,lineHeight:(0,me.bf)(o)}}},[`&:not(${t}-vertical)`]:{[`${t}-item-custom`]:{[`${t}-item-icon`]:{width:"auto",background:"none"}}}}},ED=e=>{const{componentCls:t}=e,a=`${t}-item`;return{[`${t}-horizontal`]:{[`${a}-tail`]:{transform:"translateY(-50%)"}}}},ID=e=>{const{componentCls:t,inlineDotSize:a,inlineTitleColor:o,inlineTailColor:f}=e,y=e.calc(e.paddingXS).add(e.lineWidth).equal(),_={[`${t}-item-container ${t}-item-content ${t}-item-title`]:{color:o}};return{[`&${t}-inline`]:{width:"auto",display:"inline-flex",[`${t}-item`]:{flex:"none","&-container":{padding:`${(0,me.bf)(y)} ${(0,me.bf)(e.paddingXXS)} 0`,margin:`0 ${(0,me.bf)(e.calc(e.marginXXS).div(2).equal())}`,borderRadius:e.borderRadiusSM,cursor:"pointer",transition:`background-color ${e.motionDurationMid}`,"&:hover":{background:e.controlItemBgHover},"&[role='button']:hover":{opacity:1}},"&-icon":{width:a,height:a,marginInlineStart:`calc(50% - ${(0,me.bf)(e.calc(a).div(2).equal())})`,[`> ${t}-icon`]:{top:0},[`${t}-icon-dot`]:{borderRadius:e.calc(e.fontSizeSM).div(4).equal(),"&::after":{display:"none"}}},"&-content":{width:"auto",marginTop:e.calc(e.marginXS).sub(e.lineWidth).equal()},"&-title":{color:o,fontSize:e.fontSizeSM,lineHeight:e.lineHeightSM,fontWeight:"normal",marginBottom:e.calc(e.marginXXS).div(2).equal()},"&-description":{display:"none"},"&-tail":{marginInlineStart:0,top:e.calc(a).div(2).add(y).equal(),transform:"translateY(-50%)","&:after":{width:"100%",height:e.lineWidth,borderRadius:0,marginInlineStart:0,background:f}},[`&:first-child ${t}-item-tail`]:{width:"50%",marginInlineStart:"50%"},[`&:last-child ${t}-item-tail`]:{display:"block",width:"50%"},"&-wait":Object.assign({[`${t}-item-icon ${t}-icon ${t}-icon-dot`]:{backgroundColor:e.colorBorderBg,border:`${(0,me.bf)(e.lineWidth)} ${e.lineType} ${f}`}},_),"&-finish":Object.assign({[`${t}-item-tail::after`]:{backgroundColor:f},[`${t}-item-icon ${t}-icon ${t}-icon-dot`]:{backgroundColor:f,border:`${(0,me.bf)(e.lineWidth)} ${e.lineType} ${f}`}},_),"&-error":_,"&-active, &-process":Object.assign({[`${t}-item-icon`]:{width:a,height:a,marginInlineStart:`calc(50% - ${(0,me.bf)(e.calc(a).div(2).equal())})`,top:0}},_),[`&:not(${t}-item-active) > ${t}-item-container[role='button']:hover`]:{[`${t}-item-title`]:{color:o}}}}}},TD=e=>{const{componentCls:t,iconSize:a,lineHeight:o,iconSizeSM:f}=e;return{[`&${t}-label-vertical`]:{[`${t}-item`]:{overflow:"visible","&-tail":{marginInlineStart:e.calc(a).div(2).add(e.controlHeightLG).equal(),padding:`0 ${(0,me.bf)(e.paddingLG)}`},"&-content":{display:"block",width:e.calc(a).div(2).add(e.controlHeightLG).mul(2).equal(),marginTop:e.marginSM,textAlign:"center"},"&-icon":{display:"inline-block",marginInlineStart:e.controlHeightLG},"&-title":{paddingInlineEnd:0,paddingInlineStart:0,"&::after":{display:"none"}},"&-subtitle":{display:"block",marginBottom:e.marginXXS,marginInlineStart:0,lineHeight:o}},[`&${t}-small:not(${t}-dot)`]:{[`${t}-item`]:{"&-icon":{marginInlineStart:e.calc(a).sub(f).div(2).add(e.controlHeightLG).equal()}}}}}},MD=e=>{const{componentCls:t,navContentMaxWidth:a,navArrowColor:o,stepsNavActiveColor:f,motionDurationSlow:y}=e;return{[`&${t}-navigation`]:{paddingTop:e.paddingSM,[`&${t}-small`]:{[`${t}-item`]:{"&-container":{marginInlineStart:e.calc(e.marginSM).mul(-1).equal()}}},[`${t}-item`]:{overflow:"visible",textAlign:"center","&-container":{display:"inline-block",height:"100%",marginInlineStart:e.calc(e.margin).mul(-1).equal(),paddingBottom:e.paddingSM,textAlign:"start",transition:`opacity ${y}`,[`${t}-item-content`]:{maxWidth:a},[`${t}-item-title`]:Object.assign(Object.assign({maxWidth:"100%",paddingInlineEnd:0},nn.vS),{"&::after":{display:"none"}})},[`&:not(${t}-item-active)`]:{[`${t}-item-container[role='button']`]:{cursor:"pointer","&:hover":{opacity:.85}}},"&:last-child":{flex:1,"&::after":{display:"none"}},"&::after":{position:"absolute",top:`calc(50% - ${(0,me.bf)(e.calc(e.paddingSM).div(2).equal())})`,insetInlineStart:"100%",display:"inline-block",width:e.fontSizeIcon,height:e.fontSizeIcon,borderTop:`${(0,me.bf)(e.lineWidth)} ${e.lineType} ${o}`,borderBottom:"none",borderInlineStart:"none",borderInlineEnd:`${(0,me.bf)(e.lineWidth)} ${e.lineType} ${o}`,transform:"translateY(-50%) translateX(-50%) rotate(45deg)",content:'""'},"&::before":{position:"absolute",bottom:0,insetInlineStart:"50%",display:"inline-block",width:0,height:e.lineWidthBold,backgroundColor:f,transition:`width ${y}, inset-inline-start ${y}`,transitionTimingFunction:"ease-out",content:'""'}},[`${t}-item${t}-item-active::before`]:{insetInlineStart:0,width:"100%"}},[`&${t}-navigation${t}-vertical`]:{[`> ${t}-item`]:{marginInlineEnd:0,"&::before":{display:"none"},[`&${t}-item-active::before`]:{top:0,insetInlineEnd:0,insetInlineStart:"unset",display:"block",width:e.calc(e.lineWidth).mul(3).equal(),height:`calc(100% - ${(0,me.bf)(e.marginLG)})`},"&::after":{position:"relative",insetInlineStart:"50%",display:"block",width:e.calc(e.controlHeight).mul(.25).equal(),height:e.calc(e.controlHeight).mul(.25).equal(),marginBottom:e.marginXS,textAlign:"center",transform:"translateY(-50%) translateX(-50%) rotate(135deg)"},"&:last-child":{"&::after":{display:"none"}},[`> ${t}-item-container > ${t}-item-tail`]:{visibility:"hidden"}}},[`&${t}-navigation${t}-horizontal`]:{[`> ${t}-item > ${t}-item-container > ${t}-item-tail`]:{visibility:"hidden"}}}},PD=e=>{const{antCls:t,componentCls:a,iconSize:o,iconSizeSM:f,processIconColor:y,marginXXS:_,lineWidthBold:S,lineWidth:I,paddingXXS:A}=e,z=e.calc(o).add(e.calc(S).mul(4).equal()).equal(),L=e.calc(f).add(e.calc(e.lineWidth).mul(4).equal()).equal();return{[`&${a}-with-progress`]:{[`${a}-item`]:{paddingTop:A,[`&-process ${a}-item-container ${a}-item-icon ${a}-icon`]:{color:y}},[`&${a}-vertical > ${a}-item `]:{paddingInlineStart:A,[`> ${a}-item-container > ${a}-item-tail`]:{top:_,insetInlineStart:e.calc(o).div(2).sub(I).add(A).equal()}},[`&, &${a}-small`]:{[`&${a}-horizontal ${a}-item:first-child`]:{paddingBottom:A,paddingInlineStart:A}},[`&${a}-small${a}-vertical > ${a}-item > ${a}-item-container > ${a}-item-tail`]:{insetInlineStart:e.calc(f).div(2).sub(I).add(A).equal()},[`&${a}-label-vertical ${a}-item ${a}-item-tail`]:{top:e.calc(o).div(2).add(A).equal()},[`${a}-item-icon`]:{position:"relative",[`${t}-progress`]:{position:"absolute",insetInlineStart:"50%",top:"50%",transform:"translate(-50%, -50%)","&-inner":{width:`${(0,me.bf)(z)} !important`,height:`${(0,me.bf)(z)} !important`}}},[`&${a}-small`]:{[`&${a}-label-vertical ${a}-item ${a}-item-tail`]:{top:e.calc(f).div(2).add(A).equal()},[`${a}-item-icon ${t}-progress-inner`]:{width:`${(0,me.bf)(L)} !important`,height:`${(0,me.bf)(L)} !important`}}}}},OD=e=>{const{componentCls:t,descriptionMaxWidth:a,lineHeight:o,dotCurrentSize:f,dotSize:y,motionDurationSlow:_}=e;return{[`&${t}-dot, &${t}-dot${t}-small`]:{[`${t}-item`]:{"&-title":{lineHeight:o},"&-tail":{top:e.calc(e.dotSize).sub(e.calc(e.lineWidth).mul(3).equal()).div(2).equal(),width:"100%",marginTop:0,marginBottom:0,marginInline:`${(0,me.bf)(e.calc(a).div(2).equal())} 0`,padding:0,"&::after":{width:`calc(100% - ${(0,me.bf)(e.calc(e.marginSM).mul(2).equal())})`,height:e.calc(e.lineWidth).mul(3).equal(),marginInlineStart:e.marginSM}},"&-icon":{width:y,height:y,marginInlineStart:e.calc(e.descriptionMaxWidth).sub(y).div(2).equal(),paddingInlineEnd:0,lineHeight:(0,me.bf)(y),background:"transparent",border:0,[`${t}-icon-dot`]:{position:"relative",float:"left",width:"100%",height:"100%",borderRadius:100,transition:`all ${_}`,"&::after":{position:"absolute",top:e.calc(e.marginSM).mul(-1).equal(),insetInlineStart:e.calc(y).sub(e.calc(e.controlHeightLG).mul(1.5).equal()).div(2).equal(),width:e.calc(e.controlHeightLG).mul(1.5).equal(),height:e.controlHeight,background:"transparent",content:'""'}}},"&-content":{width:a},[`&-process ${t}-item-icon`]:{position:"relative",top:e.calc(y).sub(f).div(2).equal(),width:f,height:f,lineHeight:(0,me.bf)(f),background:"none",marginInlineStart:e.calc(e.descriptionMaxWidth).sub(f).div(2).equal()},[`&-process ${t}-icon`]:{[`&:first-child ${t}-icon-dot`]:{insetInlineStart:0}}}},[`&${t}-vertical${t}-dot`]:{[`${t}-item-icon`]:{marginTop:e.calc(e.controlHeight).sub(y).div(2).equal(),marginInlineStart:0,background:"none"},[`${t}-item-process ${t}-item-icon`]:{marginTop:e.calc(e.controlHeight).sub(f).div(2).equal(),top:0,insetInlineStart:e.calc(y).sub(f).div(2).equal(),marginInlineStart:0},[`${t}-item > ${t}-item-container > ${t}-item-tail`]:{top:e.calc(e.controlHeight).sub(y).div(2).equal(),insetInlineStart:0,margin:0,padding:`${(0,me.bf)(e.calc(y).add(e.paddingXS).equal())} 0 ${(0,me.bf)(e.paddingXS)}`,"&::after":{marginInlineStart:e.calc(y).sub(e.lineWidth).div(2).equal()}},[`&${t}-small`]:{[`${t}-item-icon`]:{marginTop:e.calc(e.controlHeightSM).sub(y).div(2).equal()},[`${t}-item-process ${t}-item-icon`]:{marginTop:e.calc(e.controlHeightSM).sub(f).div(2).equal()},[`${t}-item > ${t}-item-container > ${t}-item-tail`]:{top:e.calc(e.controlHeightSM).sub(y).div(2).equal()}},[`${t}-item:first-child ${t}-icon-dot`]:{insetInlineStart:0},[`${t}-item-content`]:{width:"inherit"}}}},RD=e=>{const{componentCls:t}=e;return{[`&${t}-rtl`]:{direction:"rtl",[`${t}-item`]:{"&-subtitle":{float:"left"}},[`&${t}-navigation`]:{[`${t}-item::after`]:{transform:"rotate(-45deg)"}},[`&${t}-vertical`]:{[`> ${t}-item`]:{"&::after":{transform:"rotate(225deg)"},[`${t}-item-icon`]:{float:"right"}}},[`&${t}-dot`]:{[`${t}-item-icon ${t}-icon-dot, &${t}-small ${t}-item-icon ${t}-icon-dot`]:{float:"right"}}}}},$D=e=>{const{componentCls:t,iconSizeSM:a,fontSizeSM:o,fontSize:f,colorTextDescription:y}=e;return{[`&${t}-small`]:{[`&${t}-horizontal:not(${t}-label-vertical) ${t}-item`]:{paddingInlineStart:e.paddingSM,"&:first-child":{paddingInlineStart:0}},[`${t}-item-icon`]:{width:a,height:a,marginTop:0,marginBottom:0,marginInline:`0 ${(0,me.bf)(e.marginXS)}`,fontSize:o,lineHeight:(0,me.bf)(a),textAlign:"center",borderRadius:a},[`${t}-item-title`]:{paddingInlineEnd:e.paddingSM,fontSize:f,lineHeight:(0,me.bf)(a),"&::after":{top:e.calc(a).div(2).equal()}},[`${t}-item-description`]:{color:y,fontSize:f},[`${t}-item-tail`]:{top:e.calc(a).div(2).sub(e.paddingXXS).equal()},[`${t}-item-custom ${t}-item-icon`]:{width:"inherit",height:"inherit",lineHeight:"inherit",background:"none",border:0,borderRadius:0,[`> ${t}-icon`]:{fontSize:a,lineHeight:(0,me.bf)(a),transform:"none"}}}}},AD=e=>{const{componentCls:t,iconSizeSM:a,iconSize:o}=e;return{[`&${t}-vertical`]:{display:"flex",flexDirection:"column",[`> ${t}-item`]:{display:"block",flex:"1 0 auto",paddingInlineStart:0,overflow:"visible",[`${t}-item-icon`]:{float:"left",marginInlineEnd:e.margin},[`${t}-item-content`]:{display:"block",minHeight:e.calc(e.controlHeight).mul(1.5).equal(),overflow:"hidden"},[`${t}-item-title`]:{lineHeight:(0,me.bf)(o)},[`${t}-item-description`]:{paddingBottom:e.paddingSM}},[`> ${t}-item > ${t}-item-container > ${t}-item-tail`]:{position:"absolute",top:0,insetInlineStart:e.calc(o).div(2).sub(e.lineWidth).equal(),width:e.lineWidth,height:"100%",padding:`${(0,me.bf)(e.calc(e.marginXXS).mul(1.5).add(o).equal())} 0 ${(0,me.bf)(e.calc(e.marginXXS).mul(1.5).equal())}`,"&::after":{width:e.lineWidth,height:"100%"}},[`> ${t}-item:not(:last-child) > ${t}-item-container > ${t}-item-tail`]:{display:"block"},[` > ${t}-item > ${t}-item-container > ${t}-item-content > ${t}-item-title`]:{"&::after":{display:"none"}},[`&${t}-small ${t}-item-container`]:{[`${t}-item-tail`]:{position:"absolute",top:0,insetInlineStart:e.calc(a).div(2).sub(e.lineWidth).equal(),padding:`${(0,me.bf)(e.calc(e.marginXXS).mul(1.5).add(a).equal())} 0 ${(0,me.bf)(e.calc(e.marginXXS).mul(1.5).equal())}`},[`${t}-item-title`]:{lineHeight:(0,me.bf)(a)}}}}};const DD="wait",zD="process",LD="finish",ND="error",Ex=(e,t)=>{const a=`${t.componentCls}-item`,o=`${e}IconColor`,f=`${e}TitleColor`,y=`${e}DescriptionColor`,_=`${e}TailColor`,S=`${e}IconBgColor`,I=`${e}IconBorderColor`,A=`${e}DotColor`;return{[`${a}-${e} ${a}-icon`]:{backgroundColor:t[S],borderColor:t[I],[`> ${t.componentCls}-icon`]:{color:t[o],[`${t.componentCls}-icon-dot`]:{background:t[A]}}},[`${a}-${e}${a}-custom ${a}-icon`]:{[`> ${t.componentCls}-icon`]:{color:t[A]}},[`${a}-${e} > ${a}-container > ${a}-content > ${a}-title`]:{color:t[f],"&::after":{backgroundColor:t[_]}},[`${a}-${e} > ${a}-container > ${a}-content > ${a}-description`]:{color:t[y]},[`${a}-${e} > ${a}-container > ${a}-tail::after`]:{backgroundColor:t[_]}}},BD=e=>{const{componentCls:t,motionDurationSlow:a}=e,o=`${t}-item`,f=`${o}-icon`;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[o]:{position:"relative",display:"inline-block",flex:1,overflow:"hidden",verticalAlign:"top","&:last-child":{flex:"none",[`> ${o}-container > ${o}-tail, > ${o}-container >  ${o}-content > ${o}-title::after`]:{display:"none"}}},[`${o}-container`]:{outline:"none","&:focus-visible":{[f]:Object.assign({},(0,nn.oN)(e))}},[`${f}, ${o}-content`]:{display:"inline-block",verticalAlign:"top"},[f]:{width:e.iconSize,height:e.iconSize,marginTop:0,marginBottom:0,marginInlineStart:0,marginInlineEnd:e.marginXS,fontSize:e.iconFontSize,fontFamily:e.fontFamily,lineHeight:(0,me.bf)(e.iconSize),textAlign:"center",borderRadius:e.iconSize,border:`${(0,me.bf)(e.lineWidth)} ${e.lineType} transparent`,transition:`background-color ${a}, border-color ${a}`,[`${t}-icon`]:{position:"relative",top:e.iconTop,color:e.colorPrimary,lineHeight:1}},[`${o}-tail`]:{position:"absolute",top:e.calc(e.iconSize).div(2).equal(),insetInlineStart:0,width:"100%","&::after":{display:"inline-block",width:"100%",height:e.lineWidth,background:e.colorSplit,borderRadius:e.lineWidth,transition:`background ${a}`,content:'""'}},[`${o}-title`]:{position:"relative",display:"inline-block",paddingInlineEnd:e.padding,color:e.colorText,fontSize:e.fontSizeLG,lineHeight:(0,me.bf)(e.titleLineHeight),"&::after":{position:"absolute",top:e.calc(e.titleLineHeight).div(2).equal(),insetInlineStart:"100%",display:"block",width:9999,height:e.lineWidth,background:e.processTailColor,content:'""'}},[`${o}-subtitle`]:{display:"inline",marginInlineStart:e.marginXS,color:e.colorTextDescription,fontWeight:"normal",fontSize:e.fontSize},[`${o}-description`]:{color:e.colorTextDescription,fontSize:e.fontSize}},Ex(DD,e)),Ex(zD,e)),{[`${o}-process > ${o}-container > ${o}-title`]:{fontWeight:e.fontWeightStrong}}),Ex(LD,e)),Ex(ND,e)),{[`${o}${t}-next-error > ${t}-item-title::after`]:{background:e.colorError},[`${o}-disabled`]:{cursor:"not-allowed"}})},FD=e=>{const{componentCls:t,motionDurationSlow:a}=e;return{[`& ${t}-item`]:{[`&:not(${t}-item-active)`]:{[`& > ${t}-item-container[role='button']`]:{cursor:"pointer",[`${t}-item`]:{[`&-title, &-subtitle, &-description, &-icon ${t}-icon`]:{transition:`color ${a}`}},"&:hover":{[`${t}-item`]:{"&-title, &-subtitle, &-description":{color:e.colorPrimary}}}},[`&:not(${t}-item-process)`]:{[`& > ${t}-item-container[role='button']:hover`]:{[`${t}-item`]:{"&-icon":{borderColor:e.colorPrimary,[`${t}-icon`]:{color:e.colorPrimary}}}}}}},[`&${t}-horizontal:not(${t}-label-vertical)`]:{[`${t}-item`]:{paddingInlineStart:e.padding,whiteSpace:"nowrap","&:first-child":{paddingInlineStart:0},[`&:last-child ${t}-item-title`]:{paddingInlineEnd:0},"&-tail":{display:"none"},"&-description":{maxWidth:e.descriptionMaxWidth,whiteSpace:"normal"}}}}},kD=e=>{const{componentCls:t}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,nn.Wf)(e)),{display:"flex",width:"100%",fontSize:0,textAlign:"initial"}),BD(e)),FD(e)),wD(e)),$D(e)),AD(e)),ED(e)),TD(e)),OD(e)),MD(e)),RD(e)),PD(e)),ID(e))}},jD=e=>({titleLineHeight:e.controlHeight,customIconSize:e.controlHeight,customIconTop:0,customIconFontSize:e.controlHeightSM,iconSize:e.controlHeight,iconTop:-.5,iconFontSize:e.fontSize,iconSizeSM:e.fontSizeHeading3,dotSize:e.controlHeight/4,dotCurrentSize:e.controlHeightLG/4,navArrowColor:e.colorTextDisabled,navContentMaxWidth:"auto",descriptionMaxWidth:140,waitIconColor:e.wireframe?e.colorTextDisabled:e.colorTextLabel,waitIconBgColor:e.wireframe?e.colorBgContainer:e.colorFillContent,waitIconBorderColor:e.wireframe?e.colorTextDisabled:"transparent",finishIconBgColor:e.wireframe?e.colorBgContainer:e.controlItemBgActive,finishIconBorderColor:e.wireframe?e.colorPrimary:e.controlItemBgActive});var ZD=(0,oe.I$)("Steps",e=>{const{colorTextDisabled:t,controlHeightLG:a,colorTextLightSolid:o,colorText:f,colorPrimary:y,colorTextDescription:_,colorTextQuaternary:S,colorError:I,colorBorderSecondary:A,colorSplit:z}=e,L=(0,kr.IX)(e,{processIconColor:o,processTitleColor:f,processDescriptionColor:f,processIconBgColor:y,processIconBorderColor:y,processDotColor:y,processTailColor:z,waitTitleColor:_,waitDescriptionColor:_,waitTailColor:z,waitDotColor:t,finishIconColor:y,finishTitleColor:f,finishDescriptionColor:_,finishTailColor:y,finishDotColor:y,errorIconColor:o,errorTitleColor:I,errorDescriptionColor:I,errorTailColor:z,errorIconBgColor:I,errorIconBorderColor:I,errorDotColor:I,stepsNavActiveColor:y,stepsProgressSize:a,inlineDotSize:6,inlineTitleColor:S,inlineTailColor:A});return[kD(L)]},jD);function VD(e){return e.filter(t=>t)}function HD(e,t){if(e)return e;const a=(0,ac.Z)(t).map(o=>{if(s.isValidElement(o)){const{props:f}=o;return Object.assign({},f)}return null});return VD(a)}var UD=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const OI=e=>{const{percent:t,size:a,className:o,rootClassName:f,direction:y,items:_,responsive:S=!0,current:I=0,children:A,style:z}=e,L=UD(e,["percent","size","className","rootClassName","direction","items","responsive","current","children","style"]),{xs:F}=(0,Ec.Z)(S),{getPrefixCls:Z,direction:k,className:W,style:H}=(0,_e.dj)("steps"),X=s.useMemo(()=>S&&F?"vertical":y,[F,y]),Q=(0,Va.Z)(a),re=Z("steps",e.prefixCls),[ie,ne,ae]=ZD(re),ue=e.type==="inline",fe=Z("",e.iconPrefix),he=HD(_,A),ve=ue?void 0:t,ye=Object.assign(Object.assign({},H),z),we=J()(W,{[`${re}-rtl`]:k==="rtl",[`${re}-with-progress`]:ve!==void 0},o,f,ne,ae),Se={finish:s.createElement(lw.Z,{className:`${re}-finish-icon`}),error:s.createElement(Cr.Z,{className:`${re}-error-icon`})},ze=Fe=>{let{node:Ae,status:Ke}=Fe;if(Ke==="process"&&ve!==void 0){const tt=Q==="small"?32:40;return s.createElement("div",{className:`${re}-progress-icon`},s.createElement(uw,{type:"circle",percent:ve,size:tt,strokeWidth:4,format:()=>null}),Ae)}return Ae},Te=(Fe,Ae)=>Fe.description?s.createElement(su.Z,{title:Fe.description},Ae):Ae;return ie(s.createElement(PI,Object.assign({icons:Se},L,{style:ye,current:I,size:Q,items:he,itemRender:ue?Te:void 0,stepIcon:ze,direction:X,prefixCls:re,iconPrefix:fe,className:we})))};OI.Step=PI.Step;var WD=OI,GD=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],RI=s.forwardRef(function(e,t){var a,o=e.prefixCls,f=o===void 0?"rc-switch":o,y=e.className,_=e.checked,S=e.defaultChecked,I=e.disabled,A=e.loadingIcon,z=e.checkedChildren,L=e.unCheckedChildren,F=e.onClick,Z=e.onChange,k=e.onKeyDown,W=(0,de.Z)(e,GD),H=(0,zt.Z)(!1,{value:_,defaultValue:S}),X=(0,Pe.Z)(H,2),Q=X[0],re=X[1];function ie(fe,he){var ve=Q;return I||(ve=fe,re(ve),Z==null||Z(ve,he)),ve}function ne(fe){fe.which===_t.Z.LEFT?ie(!1,fe):fe.which===_t.Z.RIGHT&&ie(!0,fe),k==null||k(fe)}function ae(fe){var he=ie(!Q,fe);F==null||F(he,fe)}var ue=J()(f,y,(a={},(0,ge.Z)(a,"".concat(f,"-checked"),Q),(0,ge.Z)(a,"".concat(f,"-disabled"),I),a));return s.createElement("button",(0,Ue.Z)({},W,{type:"button",role:"switch","aria-checked":Q,disabled:I,className:ue,ref:t,onKeyDown:ne,onClick:ae}),A,s.createElement("span",{className:"".concat(f,"-inner")},s.createElement("span",{className:"".concat(f,"-inner-checked")},z),s.createElement("span",{className:"".concat(f,"-inner-unchecked")},L)))});RI.displayName="Switch";var XD=RI;const KD=e=>{const{componentCls:t,trackHeightSM:a,trackPadding:o,trackMinWidthSM:f,innerMinMarginSM:y,innerMaxMarginSM:_,handleSizeSM:S,calc:I}=e,A=`${t}-inner`,z=(0,me.bf)(I(S).add(I(o).mul(2)).equal()),L=(0,me.bf)(I(_).mul(2).equal());return{[t]:{[`&${t}-small`]:{minWidth:f,height:a,lineHeight:(0,me.bf)(a),[`${t}-inner`]:{paddingInlineStart:_,paddingInlineEnd:y,[`${A}-checked, ${A}-unchecked`]:{minHeight:a},[`${A}-checked`]:{marginInlineStart:`calc(-100% + ${z} - ${L})`,marginInlineEnd:`calc(100% - ${z} + ${L})`},[`${A}-unchecked`]:{marginTop:I(a).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`${t}-handle`]:{width:S,height:S},[`${t}-loading-icon`]:{top:I(I(S).sub(e.switchLoadingIconSize)).div(2).equal(),fontSize:e.switchLoadingIconSize},[`&${t}-checked`]:{[`${t}-inner`]:{paddingInlineStart:y,paddingInlineEnd:_,[`${A}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${A}-unchecked`]:{marginInlineStart:`calc(100% - ${z} + ${L})`,marginInlineEnd:`calc(-100% + ${z} - ${L})`}},[`${t}-handle`]:{insetInlineStart:`calc(100% - ${(0,me.bf)(I(S).add(o).equal())})`}},[`&:not(${t}-disabled):active`]:{[`&:not(${t}-checked) ${A}`]:{[`${A}-unchecked`]:{marginInlineStart:I(e.marginXXS).div(2).equal(),marginInlineEnd:I(e.marginXXS).mul(-1).div(2).equal()}},[`&${t}-checked ${A}`]:{[`${A}-checked`]:{marginInlineStart:I(e.marginXXS).mul(-1).div(2).equal(),marginInlineEnd:I(e.marginXXS).div(2).equal()}}}}}}},qD=e=>{const{componentCls:t,handleSize:a,calc:o}=e;return{[t]:{[`${t}-loading-icon${e.iconCls}`]:{position:"relative",top:o(o(a).sub(e.fontSize)).div(2).equal(),color:e.switchLoadingIconColor,verticalAlign:"top"},[`&${t}-checked ${t}-loading-icon`]:{color:e.switchColor}}}},YD=e=>{const{componentCls:t,trackPadding:a,handleBg:o,handleShadow:f,handleSize:y,calc:_}=e,S=`${t}-handle`;return{[t]:{[S]:{position:"absolute",top:a,insetInlineStart:a,width:y,height:y,transition:`all ${e.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:o,borderRadius:_(y).div(2).equal(),boxShadow:f,transition:`all ${e.switchDuration} ease-in-out`,content:'""'}},[`&${t}-checked ${S}`]:{insetInlineStart:`calc(100% - ${(0,me.bf)(_(y).add(a).equal())})`},[`&:not(${t}-disabled):active`]:{[`${S}::before`]:{insetInlineEnd:e.switchHandleActiveInset,insetInlineStart:0},[`&${t}-checked ${S}::before`]:{insetInlineEnd:0,insetInlineStart:e.switchHandleActiveInset}}}}},JD=e=>{const{componentCls:t,trackHeight:a,trackPadding:o,innerMinMargin:f,innerMaxMargin:y,handleSize:_,calc:S}=e,I=`${t}-inner`,A=(0,me.bf)(S(_).add(S(o).mul(2)).equal()),z=(0,me.bf)(S(y).mul(2).equal());return{[t]:{[I]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:y,paddingInlineEnd:f,transition:`padding-inline-start ${e.switchDuration} ease-in-out, padding-inline-end ${e.switchDuration} ease-in-out`,[`${I}-checked, ${I}-unchecked`]:{display:"block",color:e.colorTextLightSolid,fontSize:e.fontSizeSM,transition:`margin-inline-start ${e.switchDuration} ease-in-out, margin-inline-end ${e.switchDuration} ease-in-out`,pointerEvents:"none",minHeight:a},[`${I}-checked`]:{marginInlineStart:`calc(-100% + ${A} - ${z})`,marginInlineEnd:`calc(100% - ${A} + ${z})`},[`${I}-unchecked`]:{marginTop:S(a).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`&${t}-checked ${I}`]:{paddingInlineStart:f,paddingInlineEnd:y,[`${I}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${I}-unchecked`]:{marginInlineStart:`calc(100% - ${A} + ${z})`,marginInlineEnd:`calc(-100% + ${A} - ${z})`}},[`&:not(${t}-disabled):active`]:{[`&:not(${t}-checked) ${I}`]:{[`${I}-unchecked`]:{marginInlineStart:S(o).mul(2).equal(),marginInlineEnd:S(o).mul(-1).mul(2).equal()}},[`&${t}-checked ${I}`]:{[`${I}-checked`]:{marginInlineStart:S(o).mul(-1).mul(2).equal(),marginInlineEnd:S(o).mul(2).equal()}}}}}},QD=e=>{const{componentCls:t,trackHeight:a,trackMinWidth:o}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,nn.Wf)(e)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:o,height:a,lineHeight:(0,me.bf)(a),verticalAlign:"middle",background:e.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${e.motionDurationMid}`,userSelect:"none",[`&:hover:not(${t}-disabled)`]:{background:e.colorTextTertiary}}),(0,nn.Qy)(e)),{[`&${t}-checked`]:{background:e.switchColor,[`&:hover:not(${t}-disabled)`]:{background:e.colorPrimaryHover}},[`&${t}-loading, &${t}-disabled`]:{cursor:"not-allowed",opacity:e.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${t}-rtl`]:{direction:"rtl"}})}},e5=e=>{const{fontSize:t,lineHeight:a,controlHeight:o,colorWhite:f}=e,y=t*a,_=o/2,S=2,I=y-S*2,A=_-S*2;return{trackHeight:y,trackHeightSM:_,trackMinWidth:I*2+S*4,trackMinWidthSM:A*2+S*2,trackPadding:S,handleBg:f,handleSize:I,handleSizeSM:A,handleShadow:`0 2px 4px 0 ${new Sl.t("#00230b").setA(.2).toRgbString()}`,innerMinMargin:I/2,innerMaxMargin:I+S+S*2,innerMinMarginSM:A/2,innerMaxMarginSM:A+S+S*2}};var t5=(0,oe.I$)("Switch",e=>{const t=(0,kr.IX)(e,{switchDuration:e.motionDurationMid,switchColor:e.colorPrimary,switchDisabledOpacity:e.opacityLoading,switchLoadingIconSize:e.calc(e.fontSizeIcon).mul(.75).equal(),switchLoadingIconColor:`rgba(0, 0, 0, ${e.opacityLoading})`,switchHandleActiveInset:"-30%"});return[QD(t),JD(t),YD(t),qD(t),KD(t)]},e5),n5=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const $I=s.forwardRef((e,t)=>{const{prefixCls:a,size:o,disabled:f,loading:y,className:_,rootClassName:S,style:I,checked:A,value:z,defaultChecked:L,defaultValue:F,onChange:Z}=e,k=n5(e,["prefixCls","size","disabled","loading","className","rootClassName","style","checked","value","defaultChecked","defaultValue","onChange"]),[W,H]=(0,zt.Z)(!1,{value:A!=null?A:z,defaultValue:L!=null?L:F}),{getPrefixCls:X,direction:Q,switch:re}=s.useContext(_e.E_),ie=s.useContext(cs.Z),ne=(f!=null?f:ie)||y,ae=X("switch",a),ue=s.createElement("div",{className:`${ae}-handle`},y&&s.createElement(Ut.Z,{className:`${ae}-loading-icon`})),[fe,he,ve]=t5(ae),ye=(0,Va.Z)(o),we=J()(re==null?void 0:re.className,{[`${ae}-small`]:ye==="small",[`${ae}-loading`]:y,[`${ae}-rtl`]:Q==="rtl"},_,S,he,ve),Se=Object.assign(Object.assign({},re==null?void 0:re.style),I),ze=function(){H(arguments.length<=0?void 0:arguments[0]),Z==null||Z.apply(void 0,arguments)};return fe(s.createElement(ca,{component:"Switch"},s.createElement(XD,Object.assign({},k,{checked:W,onChange:ze,prefixCls:ae,className:we,style:Se,disabled:ne,ref:t,loadingIcon:ue}))))});$I.__ANT_SWITCH=!0;var r5=$I,Qh={},Tb="rc-table-internal-hook";function mw(e){var t=s.createContext(void 0),a=function(f){var y=f.value,_=f.children,S=s.useRef(y);S.current=y;var I=s.useState(function(){return{getValue:function(){return S.current},listeners:new Set}}),A=(0,Pe.Z)(I,1),z=A[0];return(0,yl.Z)(function(){(0,Ne.unstable_batchedUpdates)(function(){z.listeners.forEach(function(L){L(y)})})},[y]),s.createElement(t.Provider,{value:z},_)};return{Context:t,Provider:a,defaultValue:e}}function nu(e,t){var a=(0,ur.Z)(typeof t=="function"?t:function(L){if(t===void 0)return L;if(!Array.isArray(t))return L[t];var F={};return t.forEach(function(Z){F[Z]=L[Z]}),F}),o=s.useContext(e==null?void 0:e.Context),f=o||{},y=f.listeners,_=f.getValue,S=s.useRef();S.current=a(o?_():e==null?void 0:e.defaultValue);var I=s.useState({}),A=(0,Pe.Z)(I,2),z=A[1];return(0,yl.Z)(function(){if(!o)return;function L(F){var Z=a(F);(0,mr.Z)(S.current,Z,!0)||z({})}return y.add(L),function(){y.delete(L)}},[o]),S.current}function AI(){var e=s.createContext(null);function t(){return s.useContext(e)}function a(f,y){var _=(0,an.Yr)(f),S=function(A,z){var L=_?{ref:z}:{},F=s.useRef(0),Z=s.useRef(A),k=t();return k!==null?s.createElement(f,(0,Ue.Z)({},A,L)):((!y||y(Z.current,A))&&(F.current+=1),Z.current=A,s.createElement(e.Provider,{value:F.current},s.createElement(f,(0,Ue.Z)({},A,L))))};return _?s.forwardRef(S):S}function o(f,y){var _=(0,an.Yr)(f),S=function(A,z){var L=_?{ref:z}:{};return t(),s.createElement(f,(0,Ue.Z)({},A,L))};return _?s.memo(s.forwardRef(S),y):s.memo(S,y)}return{makeImmutable:a,responseImmutable:o,useImmutableMark:t}}var pw=AI(),z7=pw.makeImmutable,L7=pw.responseImmutable,N7=pw.useImmutableMark,gw=AI(),DI=gw.makeImmutable,hv=gw.responseImmutable,i5=gw.useImmutableMark,o5=mw(),wu=o5;function B7(e,t){var a=React.useRef(0);a.current+=1;var o=React.useRef(e),f=[];Object.keys(e||{}).map(function(_){var S;(e==null?void 0:e[_])!==((S=o.current)===null||S===void 0?void 0:S[_])&&f.push(_)}),o.current=e;var y=React.useRef([]);return f.length&&(y.current=f),React.useDebugValue(a.current),React.useDebugValue(y.current.join(", ")),t&&console.log("".concat(t,":"),a.current,y.current),a.current}var F7=null,k7=null,vw=j(36040),a5=s.createContext({renderWithProps:!1}),zI=a5,s5="RC_TABLE_KEY";function l5(e){return e==null?[]:Array.isArray(e)?e:[e]}function Ix(e){var t=[],a={};return e.forEach(function(o){for(var f=o||{},y=f.key,_=f.dataIndex,S=y||l5(_).join("-")||s5;a[S];)S="".concat(S,"_next");a[S]=!0,t.push(S)}),t}function yw(e){return e!=null}function c5(e){return typeof e=="number"&&!Number.isNaN(e)}function u5(e){return e&&(0,dt.Z)(e)==="object"&&!Array.isArray(e)&&!s.isValidElement(e)}function d5(e,t,a,o,f,y){var _=s.useContext(zI),S=i5(),I=(0,On.Z)(function(){if(yw(o))return[o];var A=t==null||t===""?[]:Array.isArray(t)?t:[t],z=(0,vw.Z)(e,A),L=z,F=void 0;if(f){var Z=f(z,e,a);u5(Z)?(L=Z.children,F=Z.props,_.renderWithProps=!0):L=Z}return[L,F]},[S,e,o,t,f,a],function(A,z){if(y){var L=(0,Pe.Z)(A,2),F=L[1],Z=(0,Pe.Z)(z,2),k=Z[1];return y(k,F)}return _.renderWithProps?!0:!(0,mr.Z)(A,z,!0)});return I}function f5(e,t,a,o){var f=e+t-1;return e<=o&&f>=a}function h5(e,t){return nu(wu,function(a){var o=f5(e,t||1,a.hoverStartRow,a.hoverEndRow);return[o,a.onHover]})}var m5=function(t){var a=t.ellipsis,o=t.rowType,f=t.children,y,_=a===!0?{showTitle:!0}:a;return _&&(_.showTitle||o==="header")&&(typeof f=="string"||typeof f=="number"?y=f.toString():s.isValidElement(f)&&typeof f.props.children=="string"&&(y=f.props.children)),y};function p5(e){var t,a,o,f,y,_,S,I,A=e.component,z=e.children,L=e.ellipsis,F=e.scope,Z=e.prefixCls,k=e.className,W=e.align,H=e.record,X=e.render,Q=e.dataIndex,re=e.renderIndex,ie=e.shouldCellUpdate,ne=e.index,ae=e.rowType,ue=e.colSpan,fe=e.rowSpan,he=e.fixLeft,ve=e.fixRight,ye=e.firstFixLeft,we=e.lastFixLeft,Se=e.firstFixRight,ze=e.lastFixRight,Te=e.appendNode,Fe=e.additionalProps,Ae=Fe===void 0?{}:Fe,Ke=e.isSticky,tt="".concat(Z,"-cell"),vt=nu(wu,["supportSticky","allColumnsFixedLeft","rowHoverable"]),bt=vt.supportSticky,lt=vt.allColumnsFixedLeft,ct=vt.rowHoverable,mt=d5(H,Q,re,z,X,ie),Rt=(0,Pe.Z)(mt,2),wt=Rt[0],Bt=Rt[1],Ct={},dn=typeof he=="number"&&bt,zn=typeof ve=="number"&&bt;dn&&(Ct.position="sticky",Ct.left=he),zn&&(Ct.position="sticky",Ct.right=ve);var rn=(t=(a=(o=Bt==null?void 0:Bt.colSpan)!==null&&o!==void 0?o:Ae.colSpan)!==null&&a!==void 0?a:ue)!==null&&t!==void 0?t:1,Cn=(f=(y=(_=Bt==null?void 0:Bt.rowSpan)!==null&&_!==void 0?_:Ae.rowSpan)!==null&&y!==void 0?y:fe)!==null&&f!==void 0?f:1,Vt=h5(ne,Cn),At=(0,Pe.Z)(Vt,2),$n=At[0],yn=At[1],Ir=(0,Os.zX)(function(si){var yi;H&&yn(ne,ne+Cn-1),Ae==null||(yi=Ae.onMouseEnter)===null||yi===void 0||yi.call(Ae,si)}),cr=(0,Os.zX)(function(si){var yi;H&&yn(-1,-1),Ae==null||(yi=Ae.onMouseLeave)===null||yi===void 0||yi.call(Ae,si)});if(rn===0||Cn===0)return null;var Kn=(S=Ae.title)!==null&&S!==void 0?S:m5({rowType:ae,ellipsis:L,children:wt}),qn=J()(tt,k,(I={},(0,ge.Z)((0,ge.Z)((0,ge.Z)((0,ge.Z)((0,ge.Z)((0,ge.Z)((0,ge.Z)((0,ge.Z)((0,ge.Z)((0,ge.Z)(I,"".concat(tt,"-fix-left"),dn&&bt),"".concat(tt,"-fix-left-first"),ye&&bt),"".concat(tt,"-fix-left-last"),we&&bt),"".concat(tt,"-fix-left-all"),we&&lt&&bt),"".concat(tt,"-fix-right"),zn&&bt),"".concat(tt,"-fix-right-first"),Se&&bt),"".concat(tt,"-fix-right-last"),ze&&bt),"".concat(tt,"-ellipsis"),L),"".concat(tt,"-with-append"),Te),"".concat(tt,"-fix-sticky"),(dn||zn)&&Ke&&bt),(0,ge.Z)(I,"".concat(tt,"-row-hover"),!Bt&&$n)),Ae.className,Bt==null?void 0:Bt.className),Pn={};W&&(Pn.textAlign=W);var Yn=(0,K.Z)((0,K.Z)((0,K.Z)((0,K.Z)({},Bt==null?void 0:Bt.style),Ct),Pn),Ae.style),zr=wt;return(0,dt.Z)(zr)==="object"&&!Array.isArray(zr)&&!s.isValidElement(zr)&&(zr=null),L&&(we||Se)&&(zr=s.createElement("span",{className:"".concat(tt,"-content")},zr)),s.createElement(A,(0,Ue.Z)({},Bt,Ae,{className:qn,style:Yn,title:Kn,scope:F,onMouseEnter:ct?Ir:void 0,onMouseLeave:ct?cr:void 0,colSpan:rn!==1?rn:null,rowSpan:Cn!==1?Cn:null}),Te,zr)}var mv=s.memo(p5);function bw(e,t,a,o,f){var y=a[e]||{},_=a[t]||{},S,I;y.fixed==="left"?S=o.left[f==="rtl"?t:e]:_.fixed==="right"&&(I=o.right[f==="rtl"?e:t]);var A=!1,z=!1,L=!1,F=!1,Z=a[t+1],k=a[e-1],W=Z&&!Z.fixed||k&&!k.fixed||a.every(function(ie){return ie.fixed==="left"});if(f==="rtl"){if(S!==void 0){var H=k&&k.fixed==="left";F=!H&&W}else if(I!==void 0){var X=Z&&Z.fixed==="right";L=!X&&W}}else if(S!==void 0){var Q=Z&&Z.fixed==="left";A=!Q&&W}else if(I!==void 0){var re=k&&k.fixed==="right";z=!re&&W}return{fixLeft:S,fixRight:I,lastFixLeft:A,firstFixRight:z,lastFixRight:L,firstFixLeft:F,isSticky:o.isSticky}}var g5=s.createContext({}),LI=g5;function v5(e){var t=e.className,a=e.index,o=e.children,f=e.colSpan,y=f===void 0?1:f,_=e.rowSpan,S=e.align,I=nu(wu,["prefixCls","direction"]),A=I.prefixCls,z=I.direction,L=s.useContext(LI),F=L.scrollColumnIndex,Z=L.stickyOffsets,k=L.flattenColumns,W=a+y-1,H=W+1===F?y+1:y,X=bw(a,a+H-1,k,Z,z);return s.createElement(mv,(0,Ue.Z)({className:t,index:a,component:"td",prefixCls:A,record:null,dataIndex:null,align:S,colSpan:H,rowSpan:_,render:function(){return o}},X))}var y5=["children"];function b5(e){var t=e.children,a=(0,de.Z)(e,y5);return s.createElement("tr",a,t)}function _w(e){var t=e.children;return t}_w.Row=b5,_w.Cell=v5;var NI=_w;function _5(e){var t=e.children,a=e.stickyOffsets,o=e.flattenColumns,f=nu(wu,"prefixCls"),y=o.length-1,_=o[y],S=s.useMemo(function(){return{stickyOffsets:a,flattenColumns:o,scrollColumnIndex:_!=null&&_.scrollbar?y:null}},[_,o,y,a]);return s.createElement(LI.Provider,{value:S},s.createElement("tfoot",{className:"".concat(f,"-summary")},t))}var Tx=hv(_5),BI=NI,FI=function(t){if((0,dd.Z)()&&window.document.documentElement){var a=Array.isArray(t)?t:[t],o=window.document.documentElement;return a.some(function(f){return f in o.style})}return!1},x5=function(t,a){if(!FI(t))return!1;var o=document.createElement("div"),f=o.style[t];return o.style[t]=a,o.style[t]!==f};function xw(e,t){return!Array.isArray(e)&&t!==void 0?x5(e,t):FI(e)}var Mx=j(90242);function kI(e,t,a,o,f,y,_){e.push({record:t,indent:a,index:_});var S=y(t),I=f==null?void 0:f.has(S);if(t&&Array.isArray(t[o])&&I)for(var A=0;A<t[o].length;A+=1)kI(e,t[o][A],a+1,o,f,y,A)}function jI(e,t,a,o){var f=s.useMemo(function(){if(a!=null&&a.size){for(var y=[],_=0;_<(e==null?void 0:e.length);_+=1){var S=e[_];kI(y,S,0,t,a,o,_)}return y}return e==null?void 0:e.map(function(I,A){return{record:I,indent:0,index:A}})},[e,t,a,o]);return f}function ZI(e,t,a,o){var f=nu(wu,["prefixCls","fixedInfoList","flattenColumns","expandableType","expandRowByClick","onTriggerExpand","rowClassName","expandedRowClassName","indentSize","expandIcon","expandedRowRender","expandIconColumnIndex","expandedKeys","childrenColumnName","rowExpandable","onRow"]),y=f.flattenColumns,_=f.expandableType,S=f.expandedKeys,I=f.childrenColumnName,A=f.onTriggerExpand,z=f.rowExpandable,L=f.onRow,F=f.expandRowByClick,Z=f.rowClassName,k=_==="nest",W=_==="row"&&(!z||z(e)),H=W||k,X=S&&S.has(t),Q=I&&e&&e[I],re=(0,Os.zX)(A),ie=L==null?void 0:L(e,a),ne=ie==null?void 0:ie.onClick,ae=function(ve){F&&H&&A(e,ve);for(var ye=arguments.length,we=new Array(ye>1?ye-1:0),Se=1;Se<ye;Se++)we[Se-1]=arguments[Se];ne==null||ne.apply(void 0,[ve].concat(we))},ue;typeof Z=="string"?ue=Z:typeof Z=="function"&&(ue=Z(e,a,o));var fe=Ix(y);return(0,K.Z)((0,K.Z)({},f),{},{columnsKey:fe,nestExpandable:k,expanded:X,hasNestChildren:Q,record:e,onTriggerExpand:re,rowSupportExpand:W,expandable:H,rowProps:(0,K.Z)((0,K.Z)({},ie),{},{className:J()(ue,ie==null?void 0:ie.className),onClick:ae})})}function C5(e){var t=e.prefixCls,a=e.children,o=e.component,f=e.cellComponent,y=e.className,_=e.expanded,S=e.colSpan,I=e.isEmpty,A=nu(wu,["scrollbarSize","fixHeader","fixColumn","componentWidth","horizonScroll"]),z=A.scrollbarSize,L=A.fixHeader,F=A.fixColumn,Z=A.componentWidth,k=A.horizonScroll,W=a;return(I?k&&Z:F)&&(W=s.createElement("div",{style:{width:Z-(L&&!I?z:0),position:"sticky",left:0,overflow:"hidden"},className:"".concat(t,"-expanded-row-fixed")},W)),s.createElement(o,{className:y,style:{display:_?null:"none"}},s.createElement(mv,{component:f,prefixCls:t,colSpan:S},W))}var VI=C5;function S5(e){var t=e.prefixCls,a=e.record,o=e.onExpand,f=e.expanded,y=e.expandable,_="".concat(t,"-row-expand-icon");if(!y)return s.createElement("span",{className:J()(_,"".concat(t,"-row-spaced"))});var S=function(A){o(a,A),A.stopPropagation()};return s.createElement("span",{className:J()(_,(0,ge.Z)((0,ge.Z)({},"".concat(t,"-row-expanded"),f),"".concat(t,"-row-collapsed"),!f)),onClick:S})}function w5(e,t,a){var o=[];function f(y){(y||[]).forEach(function(_,S){o.push(t(_,S)),f(_[a])})}return f(e),o}function HI(e,t,a,o){return typeof e=="string"?e:typeof e=="function"?e(t,a,o):""}function UI(e,t,a,o,f){var y=e.record,_=e.prefixCls,S=e.columnsKey,I=e.fixedInfoList,A=e.expandIconColumnIndex,z=e.nestExpandable,L=e.indentSize,F=e.expandIcon,Z=e.expanded,k=e.hasNestChildren,W=e.onTriggerExpand,H=S[a],X=I[a],Q;a===(A||0)&&z&&(Q=s.createElement(s.Fragment,null,s.createElement("span",{style:{paddingLeft:"".concat(L*o,"px")},className:"".concat(_,"-row-indent indent-level-").concat(o)}),F({prefixCls:_,expanded:Z,expandable:k,record:y,onExpand:W})));var re;return t.onCell&&(re=t.onCell(y,f)),{key:H,fixedInfo:X,appendCellNode:Q,additionalCellProps:re||{}}}function E5(e){var t=e.className,a=e.style,o=e.record,f=e.index,y=e.renderIndex,_=e.rowKey,S=e.indent,I=S===void 0?0:S,A=e.rowComponent,z=e.cellComponent,L=e.scopeCellComponent,F=ZI(o,_,f,I),Z=F.prefixCls,k=F.flattenColumns,W=F.expandedRowClassName,H=F.expandedRowRender,X=F.rowProps,Q=F.expanded,re=F.rowSupportExpand,ie=s.useRef(!1);ie.current||(ie.current=Q);var ne=HI(W,o,f,I),ae=s.createElement(A,(0,Ue.Z)({},X,{"data-row-key":_,className:J()(t,"".concat(Z,"-row"),"".concat(Z,"-row-level-").concat(I),X==null?void 0:X.className,(0,ge.Z)({},ne,I>=1)),style:(0,K.Z)((0,K.Z)({},a),X==null?void 0:X.style)}),k.map(function(he,ve){var ye=he.render,we=he.dataIndex,Se=he.className,ze=UI(F,he,ve,I,f),Te=ze.key,Fe=ze.fixedInfo,Ae=ze.appendCellNode,Ke=ze.additionalCellProps;return s.createElement(mv,(0,Ue.Z)({className:Se,ellipsis:he.ellipsis,align:he.align,scope:he.rowScope,component:he.rowScope?L:z,prefixCls:Z,key:Te,record:o,index:f,renderIndex:y,dataIndex:we,render:ye,shouldCellUpdate:he.shouldCellUpdate},Fe,{appendNode:Ae,additionalProps:Ke}))})),ue;if(re&&(ie.current||Q)){var fe=H(o,f,I+1,Q);ue=s.createElement(VI,{expanded:Q,className:J()("".concat(Z,"-expanded-row"),"".concat(Z,"-expanded-row-level-").concat(I+1),ne),prefixCls:Z,component:A,cellComponent:z,colSpan:k.length,isEmpty:!1},fe)}return s.createElement(s.Fragment,null,ae,ue)}var I5=hv(E5);function T5(e){var t=e.columnKey,a=e.onColumnResize,o=s.useRef();return s.useEffect(function(){o.current&&a(t,o.current.offsetWidth)},[]),s.createElement(u.Z,{data:t},s.createElement("td",{ref:o,style:{padding:0,border:0,height:0}},s.createElement("div",{style:{height:0,overflow:"hidden"}},"\xA0")))}function M5(e){var t=e.prefixCls,a=e.columnsKey,o=e.onColumnResize;return s.createElement("tr",{"aria-hidden":"true",className:"".concat(t,"-measure-row"),style:{height:0,fontSize:0}},s.createElement(u.Z.Collection,{onBatchResize:function(y){y.forEach(function(_){var S=_.data,I=_.size;o(S,I.offsetWidth)})}},a.map(function(f){return s.createElement(T5,{key:f,columnKey:f,onColumnResize:o})})))}function P5(e){var t=e.data,a=e.measureColumnWidth,o=nu(wu,["prefixCls","getComponent","onColumnResize","flattenColumns","getRowKey","expandedKeys","childrenColumnName","emptyNode"]),f=o.prefixCls,y=o.getComponent,_=o.onColumnResize,S=o.flattenColumns,I=o.getRowKey,A=o.expandedKeys,z=o.childrenColumnName,L=o.emptyNode,F=jI(t,z,A,I),Z=s.useRef({renderWithProps:!1}),k=y(["body","wrapper"],"tbody"),W=y(["body","row"],"tr"),H=y(["body","cell"],"td"),X=y(["body","cell"],"th"),Q;t.length?Q=F.map(function(ie,ne){var ae=ie.record,ue=ie.indent,fe=ie.index,he=I(ae,ne);return s.createElement(I5,{key:he,rowKey:he,record:ae,index:ne,renderIndex:fe,rowComponent:W,cellComponent:H,scopeCellComponent:X,indent:ue})}):Q=s.createElement(VI,{expanded:!0,className:"".concat(f,"-placeholder"),prefixCls:f,component:W,cellComponent:H,colSpan:S.length,isEmpty:!0},L);var re=Ix(S);return s.createElement(zI.Provider,{value:Z.current},s.createElement(k,{className:"".concat(f,"-tbody")},a&&s.createElement(M5,{prefixCls:f,columnsKey:re,onColumnResize:_}),Q))}var O5=hv(P5),R5=["expandable"],Mb="RC_TABLE_INTERNAL_COL_DEFINE";function $5(e){var t=e.expandable,a=(0,de.Z)(e,R5),o;return"expandable"in e?o=(0,K.Z)((0,K.Z)({},a),t):o=a,o.showExpandColumn===!1&&(o.expandIconColumnIndex=-1),o}var A5=["columnType"];function D5(e){for(var t=e.colWidths,a=e.columns,o=e.columCount,f=nu(wu,["tableLayout"]),y=f.tableLayout,_=[],S=o||a.length,I=!1,A=S-1;A>=0;A-=1){var z=t[A],L=a&&a[A],F=void 0,Z=void 0;if(L&&(F=L[Mb],y==="auto"&&(Z=L.minWidth)),z||Z||F||I){var k=F||{},W=k.columnType,H=(0,de.Z)(k,A5);_.unshift(s.createElement("col",(0,Ue.Z)({key:A,style:{width:z,minWidth:Z}},H))),I=!0}}return s.createElement("colgroup",null,_)}var WI=D5,z5=["className","noData","columns","flattenColumns","colWidths","columCount","stickyOffsets","direction","fixHeader","stickyTopOffset","stickyBottomOffset","stickyClassName","onScroll","maxContentScroll","children"];function L5(e,t){return(0,s.useMemo)(function(){for(var a=[],o=0;o<t;o+=1){var f=e[o];if(f!==void 0)a[o]=f;else return null}return a},[e.join("_"),t])}var N5=s.forwardRef(function(e,t){var a=e.className,o=e.noData,f=e.columns,y=e.flattenColumns,_=e.colWidths,S=e.columCount,I=e.stickyOffsets,A=e.direction,z=e.fixHeader,L=e.stickyTopOffset,F=e.stickyBottomOffset,Z=e.stickyClassName,k=e.onScroll,W=e.maxContentScroll,H=e.children,X=(0,de.Z)(e,z5),Q=nu(wu,["prefixCls","scrollbarSize","isSticky","getComponent"]),re=Q.prefixCls,ie=Q.scrollbarSize,ne=Q.isSticky,ae=Q.getComponent,ue=ae(["header","table"],"table"),fe=ne&&!z?0:ie,he=s.useRef(null),ve=s.useCallback(function(Ke){(0,an.mH)(t,Ke),(0,an.mH)(he,Ke)},[]);s.useEffect(function(){var Ke;function tt(vt){var bt=vt,lt=bt.currentTarget,ct=bt.deltaX;ct&&(k({currentTarget:lt,scrollLeft:lt.scrollLeft+ct}),vt.preventDefault())}return(Ke=he.current)===null||Ke===void 0||Ke.addEventListener("wheel",tt,{passive:!1}),function(){var vt;(vt=he.current)===null||vt===void 0||vt.removeEventListener("wheel",tt)}},[]);var ye=s.useMemo(function(){return y.every(function(Ke){return Ke.width})},[y]),we=y[y.length-1],Se={fixed:we?we.fixed:null,scrollbar:!0,onHeaderCell:function(){return{className:"".concat(re,"-cell-scrollbar")}}},ze=(0,s.useMemo)(function(){return fe?[].concat((0,Ie.Z)(f),[Se]):f},[fe,f]),Te=(0,s.useMemo)(function(){return fe?[].concat((0,Ie.Z)(y),[Se]):y},[fe,y]),Fe=(0,s.useMemo)(function(){var Ke=I.right,tt=I.left;return(0,K.Z)((0,K.Z)({},I),{},{left:A==="rtl"?[].concat((0,Ie.Z)(tt.map(function(vt){return vt+fe})),[0]):tt,right:A==="rtl"?Ke:[].concat((0,Ie.Z)(Ke.map(function(vt){return vt+fe})),[0]),isSticky:ne})},[fe,I,ne]),Ae=L5(_,S);return s.createElement("div",{style:(0,K.Z)({overflow:"hidden"},ne?{top:L,bottom:F}:{}),ref:ve,className:J()(a,(0,ge.Z)({},Z,!!Z))},s.createElement(ue,{style:{tableLayout:"fixed",visibility:o||Ae?null:"hidden"}},(!o||!W||ye)&&s.createElement(WI,{colWidths:Ae?[].concat((0,Ie.Z)(Ae),[fe]):[],columCount:S+1,columns:Te}),H((0,K.Z)((0,K.Z)({},X),{},{stickyOffsets:Fe,columns:ze,flattenColumns:Te}))))}),GI=s.memo(N5),B5=function(t){var a=t.cells,o=t.stickyOffsets,f=t.flattenColumns,y=t.rowComponent,_=t.cellComponent,S=t.onHeaderRow,I=t.index,A=nu(wu,["prefixCls","direction"]),z=A.prefixCls,L=A.direction,F;S&&(F=S(a.map(function(k){return k.column}),I));var Z=Ix(a.map(function(k){return k.column}));return s.createElement(y,F,a.map(function(k,W){var H=k.column,X=bw(k.colStart,k.colEnd,f,o,L),Q;return H&&H.onHeaderCell&&(Q=k.column.onHeaderCell(H)),s.createElement(mv,(0,Ue.Z)({},k,{scope:H.title?k.colSpan>1?"colgroup":"col":null,ellipsis:H.ellipsis,align:H.align,component:_,prefixCls:z,key:Z[W]},X,{additionalProps:Q,rowType:"header"}))}))},F5=B5;function k5(e){var t=[];function a(_,S){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;t[I]=t[I]||[];var A=S,z=_.filter(Boolean).map(function(L){var F={key:L.key,className:L.className||"",children:L.title,column:L,colStart:A},Z=1,k=L.children;return k&&k.length>0&&(Z=a(k,A,I+1).reduce(function(W,H){return W+H},0),F.hasSubColumns=!0),"colSpan"in L&&(Z=L.colSpan),"rowSpan"in L&&(F.rowSpan=L.rowSpan),F.colSpan=Z,F.colEnd=F.colStart+Z-1,t[I].push(F),A+=Z,Z});return z}a(e,0);for(var o=t.length,f=function(S){t[S].forEach(function(I){!("rowSpan"in I)&&!I.hasSubColumns&&(I.rowSpan=o-S)})},y=0;y<o;y+=1)f(y);return t}var j5=function(t){var a=t.stickyOffsets,o=t.columns,f=t.flattenColumns,y=t.onHeaderRow,_=nu(wu,["prefixCls","getComponent"]),S=_.prefixCls,I=_.getComponent,A=s.useMemo(function(){return k5(o)},[o]),z=I(["header","wrapper"],"thead"),L=I(["header","row"],"tr"),F=I(["header","cell"],"th");return s.createElement(z,{className:"".concat(S,"-thead")},A.map(function(Z,k){var W=s.createElement(F5,{key:k,flattenColumns:f,cells:Z,stickyOffsets:a,rowComponent:L,cellComponent:F,onHeaderRow:y,index:k});return W}))},XI=hv(j5);function KI(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return typeof t=="number"?t:t.endsWith("%")?e*parseFloat(t)/100:null}function Z5(e,t,a){return s.useMemo(function(){if(t&&t>0){var o=0,f=0;e.forEach(function(F){var Z=KI(t,F.width);Z?o+=Z:f+=1});var y=Math.max(t,a),_=Math.max(y-o,f),S=f,I=_/f,A=0,z=e.map(function(F){var Z=(0,K.Z)({},F),k=KI(t,Z.width);if(k)Z.width=k;else{var W=Math.floor(I);Z.width=S===1?_:W,_-=W,S-=1}return A+=Z.width,Z});if(A<y){var L=y/A;_=y,z.forEach(function(F,Z){var k=Math.floor(F.width*L);F.width=Z===z.length-1?_:k,_-=k})}return[z,Math.max(A,y)]}return[e,t]},[e,t,a])}var V5=["children"],H5=["fixed"];function Cw(e){return(0,ac.Z)(e).filter(function(t){return s.isValidElement(t)}).map(function(t){var a=t.key,o=t.props,f=o.children,y=(0,de.Z)(o,V5),_=(0,K.Z)({key:a},y);return f&&(_.children=Cw(f)),_})}function qI(e){return e.filter(function(t){return t&&(0,dt.Z)(t)==="object"&&!t.hidden}).map(function(t){var a=t.children;return a&&a.length>0?(0,K.Z)((0,K.Z)({},t),{},{children:qI(a)}):t})}function Sw(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"key";return e.filter(function(a){return a&&(0,dt.Z)(a)==="object"}).reduce(function(a,o,f){var y=o.fixed,_=y===!0?"left":y,S="".concat(t,"-").concat(f),I=o.children;return I&&I.length>0?[].concat((0,Ie.Z)(a),(0,Ie.Z)(Sw(I,S).map(function(A){return(0,K.Z)({fixed:_},A)}))):[].concat((0,Ie.Z)(a),[(0,K.Z)((0,K.Z)({key:S},o),{},{fixed:_})])},[])}function U5(e){return e.map(function(t){var a=t.fixed,o=(0,de.Z)(t,H5),f=a;return a==="left"?f="right":a==="right"&&(f="left"),(0,K.Z)({fixed:f},o)})}function W5(e,t){var a=e.prefixCls,o=e.columns,f=e.children,y=e.expandable,_=e.expandedKeys,S=e.columnTitle,I=e.getRowKey,A=e.onTriggerExpand,z=e.expandIcon,L=e.rowExpandable,F=e.expandIconColumnIndex,Z=e.direction,k=e.expandRowByClick,W=e.columnWidth,H=e.fixed,X=e.scrollWidth,Q=e.clientWidth,re=s.useMemo(function(){var we=o||Cw(f)||[];return qI(we.slice())},[o,f]),ie=s.useMemo(function(){if(y){var we=re.slice();if(!we.includes(Qh)){var Se=F||0;Se>=0&&(Se||H==="left"||!H)&&we.splice(Se,0,Qh),H==="right"&&we.splice(re.length,0,Qh)}var ze=we.indexOf(Qh);we=we.filter(function(Ke,tt){return Ke!==Qh||tt===ze});var Te=re[ze],Fe;H?Fe=H:Fe=Te?Te.fixed:null;var Ae=(0,ge.Z)((0,ge.Z)((0,ge.Z)((0,ge.Z)((0,ge.Z)((0,ge.Z)({},Mb,{className:"".concat(a,"-expand-icon-col"),columnType:"EXPAND_COLUMN"}),"title",S),"fixed",Fe),"className","".concat(a,"-row-expand-icon-cell")),"width",W),"render",function(tt,vt,bt){var lt=I(vt,bt),ct=_.has(lt),mt=L?L(vt):!0,Rt=z({prefixCls:a,expanded:ct,expandable:mt,record:vt,onExpand:A});return k?s.createElement("span",{onClick:function(Bt){return Bt.stopPropagation()}},Rt):Rt});return we.map(function(Ke){return Ke===Qh?Ae:Ke})}return re.filter(function(Ke){return Ke!==Qh})},[y,re,I,_,z,Z]),ne=s.useMemo(function(){var we=ie;return t&&(we=t(we)),we.length||(we=[{render:function(){return null}}]),we},[t,ie,Z]),ae=s.useMemo(function(){return Z==="rtl"?U5(Sw(ne)):Sw(ne)},[ne,Z,X]),ue=s.useMemo(function(){for(var we=-1,Se=ae.length-1;Se>=0;Se-=1){var ze=ae[Se].fixed;if(ze==="left"||ze===!0){we=Se;break}}if(we>=0)for(var Te=0;Te<=we;Te+=1){var Fe=ae[Te].fixed;if(Fe!=="left"&&Fe!==!0)return!0}var Ae=ae.findIndex(function(vt){var bt=vt.fixed;return bt==="right"});if(Ae>=0)for(var Ke=Ae;Ke<ae.length;Ke+=1){var tt=ae[Ke].fixed;if(tt!=="right")return!0}return!1},[ae]),fe=Z5(ae,X,Q),he=(0,Pe.Z)(fe,2),ve=he[0],ye=he[1];return[ne,ve,ye,ue]}var G5=W5;function X5(e,t,a){var o=$5(e),f=o.expandIcon,y=o.expandedRowKeys,_=o.defaultExpandedRowKeys,S=o.defaultExpandAllRows,I=o.expandedRowRender,A=o.onExpand,z=o.onExpandedRowsChange,L=o.childrenColumnName,F=f||S5,Z=L||"children",k=s.useMemo(function(){return I?"row":e.expandable&&e.internalHooks===Tb&&e.expandable.__PARENT_RENDER_ICON__||t.some(function(ne){return ne&&(0,dt.Z)(ne)==="object"&&ne[Z]})?"nest":!1},[!!I,t]),W=s.useState(function(){return _||(S?w5(t,a,Z):[])}),H=(0,Pe.Z)(W,2),X=H[0],Q=H[1],re=s.useMemo(function(){return new Set(y||X||[])},[y,X]),ie=s.useCallback(function(ne){var ae=a(ne,t.indexOf(ne)),ue,fe=re.has(ae);fe?(re.delete(ae),ue=(0,Ie.Z)(re)):ue=[].concat((0,Ie.Z)(re),[ae]),Q(ue),A&&A(!fe,ne),z&&z(ue)},[a,re,t,A,z]);return[o,k,re,F,Z,ie]}function K5(e,t,a){var o=e.map(function(f,y){return bw(y,y,e,t,a)});return(0,On.Z)(function(){return o},[o],function(f,y){return!(0,mr.Z)(f,y)})}function YI(e){var t=(0,s.useRef)(e),a=(0,s.useState)({}),o=(0,Pe.Z)(a,2),f=o[1],y=(0,s.useRef)(null),_=(0,s.useRef)([]);function S(I){_.current.push(I);var A=Promise.resolve();y.current=A,A.then(function(){if(y.current===A){var z=_.current,L=t.current;_.current=[],z.forEach(function(F){t.current=F(t.current)}),y.current=null,L!==t.current&&f({})}})}return(0,s.useEffect)(function(){return function(){y.current=null}},[]),[t.current,S]}function q5(e){var t=(0,s.useRef)(e||null),a=(0,s.useRef)();function o(){window.clearTimeout(a.current)}function f(_){t.current=_,o(),a.current=window.setTimeout(function(){t.current=null,a.current=void 0},100)}function y(){return t.current}return(0,s.useEffect)(function(){return o},[]),[f,y]}function Y5(){var e=s.useState(-1),t=(0,Pe.Z)(e,2),a=t[0],o=t[1],f=s.useState(-1),y=(0,Pe.Z)(f,2),_=y[0],S=y[1],I=s.useCallback(function(A,z){o(A),S(z)},[]);return[a,_,I]}var JI=(0,dd.Z)()?window:null;function J5(e,t){var a=(0,dt.Z)(e)==="object"?e:{},o=a.offsetHeader,f=o===void 0?0:o,y=a.offsetSummary,_=y===void 0?0:y,S=a.offsetScroll,I=S===void 0?0:S,A=a.getContainer,z=A===void 0?function(){return JI}:A,L=z()||JI,F=!!e;return s.useMemo(function(){return{isSticky:F,stickyClassName:F?"".concat(t,"-sticky-holder"):"",offsetHeader:f,offsetSummary:_,offsetScroll:I,container:L}},[F,I,f,_,t,L])}function Q5(e,t,a){var o=(0,s.useMemo)(function(){var f=t.length,y=function(A,z,L){for(var F=[],Z=0,k=A;k!==z;k+=L)F.push(Z),t[k].fixed&&(Z+=e[k]||0);return F},_=y(0,f,1),S=y(f-1,-1,-1).reverse();return a==="rtl"?{left:S,right:_}:{left:_,right:S}},[e,t,a]);return o}var ez=Q5;function tz(e){var t=e.className,a=e.children;return s.createElement("div",{className:t},a)}var QI=tz,eT=j(4525);function tT(e){var t=(0,eT.bn)(e),a=t.getBoundingClientRect(),o=document.documentElement;return{left:a.left+(window.pageXOffset||o.scrollLeft)-(o.clientLeft||document.body.clientLeft||0),top:a.top+(window.pageYOffset||o.scrollTop)-(o.clientTop||document.body.clientTop||0)}}var nz=function(t,a){var o,f,y=t.scrollBodyRef,_=t.onScroll,S=t.offsetScroll,I=t.container,A=t.direction,z=nu(wu,"prefixCls"),L=((o=y.current)===null||o===void 0?void 0:o.scrollWidth)||0,F=((f=y.current)===null||f===void 0?void 0:f.clientWidth)||0,Z=L&&F*(F/L),k=s.useRef(),W=YI({scrollLeft:0,isHiddenScrollBar:!0}),H=(0,Pe.Z)(W,2),X=H[0],Q=H[1],re=s.useRef({delta:0,x:0}),ie=s.useState(!1),ne=(0,Pe.Z)(ie,2),ae=ne[0],ue=ne[1],fe=s.useRef(null);s.useEffect(function(){return function(){He.Z.cancel(fe.current)}},[]);var he=function(){ue(!1)},ve=function(Te){Te.persist(),re.current.delta=Te.pageX-X.scrollLeft,re.current.x=0,ue(!0),Te.preventDefault()},ye=function(Te){var Fe,Ae=Te||((Fe=window)===null||Fe===void 0?void 0:Fe.event),Ke=Ae.buttons;if(!ae||Ke===0){ae&&ue(!1);return}var tt=re.current.x+Te.pageX-re.current.x-re.current.delta,vt=A==="rtl";tt=Math.max(vt?Z-F:0,Math.min(vt?0:F-Z,tt));var bt=!vt||Math.abs(tt)+Math.abs(Z)<F;bt&&(_({scrollLeft:tt/F*(L+2)}),re.current.x=Te.pageX)},we=function(){He.Z.cancel(fe.current),fe.current=(0,He.Z)(function(){if(y.current){var Te=tT(y.current).top,Fe=Te+y.current.offsetHeight,Ae=I===window?document.documentElement.scrollTop+window.innerHeight:tT(I).top+I.clientHeight;Fe-(0,Mx.Z)()<=Ae||Te>=Ae-S?Q(function(Ke){return(0,K.Z)((0,K.Z)({},Ke),{},{isHiddenScrollBar:!0})}):Q(function(Ke){return(0,K.Z)((0,K.Z)({},Ke),{},{isHiddenScrollBar:!1})})}})},Se=function(Te){Q(function(Fe){return(0,K.Z)((0,K.Z)({},Fe),{},{scrollLeft:Te/L*F||0})})};return s.useImperativeHandle(a,function(){return{setScrollLeft:Se,checkScrollBarVisible:we}}),s.useEffect(function(){var ze=np(document.body,"mouseup",he,!1),Te=np(document.body,"mousemove",ye,!1);return we(),function(){ze.remove(),Te.remove()}},[Z,ae]),s.useEffect(function(){if(y.current){for(var ze=[],Te=y.current;Te;)ze.push(Te),Te=Te.parentElement;return ze.forEach(function(Fe){return Fe.addEventListener("scroll",we,!1)}),window.addEventListener("resize",we,!1),window.addEventListener("scroll",we,!1),I.addEventListener("scroll",we,!1),function(){ze.forEach(function(Fe){return Fe.removeEventListener("scroll",we)}),window.removeEventListener("resize",we),window.removeEventListener("scroll",we),I.removeEventListener("scroll",we)}}},[I]),s.useEffect(function(){X.isHiddenScrollBar||Q(function(ze){var Te=y.current;return Te?(0,K.Z)((0,K.Z)({},ze),{},{scrollLeft:Te.scrollLeft/Te.scrollWidth*Te.clientWidth}):ze})},[X.isHiddenScrollBar]),L<=F||!Z||X.isHiddenScrollBar?null:s.createElement("div",{style:{height:(0,Mx.Z)(),width:F,bottom:S},className:"".concat(z,"-sticky-scroll")},s.createElement("div",{onMouseDown:ve,ref:k,className:J()("".concat(z,"-sticky-scroll-bar"),(0,ge.Z)({},"".concat(z,"-sticky-scroll-bar-active"),ae)),style:{width:"".concat(Z,"px"),transform:"translate3d(".concat(X.scrollLeft,"px, 0, 0)")}}))},rz=s.forwardRef(nz);function iz(e){return null}var oz=iz;function az(e){return null}var sz=az,nT="rc-table",lz=[],cz={};function uz(){return"No Data"}function dz(e,t){var a=(0,K.Z)({rowKey:"key",prefixCls:nT,emptyText:uz},e),o=a.prefixCls,f=a.className,y=a.rowClassName,_=a.style,S=a.data,I=a.rowKey,A=a.scroll,z=a.tableLayout,L=a.direction,F=a.title,Z=a.footer,k=a.summary,W=a.caption,H=a.id,X=a.showHeader,Q=a.components,re=a.emptyText,ie=a.onRow,ne=a.onHeaderRow,ae=a.onScroll,ue=a.internalHooks,fe=a.transformColumns,he=a.internalRefs,ve=a.tailor,ye=a.getContainerWidth,we=a.sticky,Se=a.rowHoverable,ze=Se===void 0?!0:Se,Te=S||lz,Fe=!!Te.length,Ae=ue===Tb,Ke=s.useCallback(function(Ms,oa){return(0,vw.Z)(Q,Ms)||oa},[Q]),tt=s.useMemo(function(){return typeof I=="function"?I:function(Ms){var oa=Ms&&Ms[I];return oa}},[I]),vt=Ke(["body"]),bt=Y5(),lt=(0,Pe.Z)(bt,3),ct=lt[0],mt=lt[1],Rt=lt[2],wt=X5(a,Te,tt),Bt=(0,Pe.Z)(wt,6),Ct=Bt[0],dn=Bt[1],zn=Bt[2],rn=Bt[3],Cn=Bt[4],Vt=Bt[5],At=A==null?void 0:A.x,$n=s.useState(0),yn=(0,Pe.Z)($n,2),Ir=yn[0],cr=yn[1],Kn=G5((0,K.Z)((0,K.Z)((0,K.Z)({},a),Ct),{},{expandable:!!Ct.expandedRowRender,columnTitle:Ct.columnTitle,expandedKeys:zn,getRowKey:tt,onTriggerExpand:Vt,expandIcon:rn,expandIconColumnIndex:Ct.expandIconColumnIndex,direction:L,scrollWidth:Ae&&ve&&typeof At=="number"?At:null,clientWidth:Ir}),Ae?fe:null),qn=(0,Pe.Z)(Kn,4),Pn=qn[0],Yn=qn[1],zr=qn[2],si=qn[3],yi=zr!=null?zr:At,Di=s.useMemo(function(){return{columns:Pn,flattenColumns:Yn}},[Pn,Yn]),Eo=s.useRef(),gi=s.useRef(),ai=s.useRef(),mi=s.useRef();s.useImperativeHandle(t,function(){return{nativeElement:Eo.current,scrollTo:function(oa){var Da;if(ai.current instanceof HTMLElement){var vs=oa.index,Bs=oa.top,nc=oa.key;if(c5(Bs)){var im;(im=ai.current)===null||im===void 0||im.scrollTo({top:Bs})}else{var Og,Db=nc!=null?nc:tt(Te[vs]);(Og=ai.current.querySelector('[data-row-key="'.concat(Db,'"]')))===null||Og===void 0||Og.scrollIntoView()}}else(Da=ai.current)!==null&&Da!==void 0&&Da.scrollTo&&ai.current.scrollTo(oa)}}});var Xi=s.useRef(),Pi=s.useState(!1),Io=(0,Pe.Z)(Pi,2),dr=Io[0],er=Io[1],gr=s.useState(!1),Zn=(0,Pe.Z)(gr,2),ni=Zn[0],Oi=Zn[1],ro=YI(new Map),Ko=(0,Pe.Z)(ro,2),Oa=Ko[0],ta=Ko[1],Is=Ix(Yn),Fa=Is.map(function(Ms){return Oa.get(Ms)}),Ua=s.useMemo(function(){return Fa},[Fa.join("_")]),pa=ez(Ua,Yn,L),rs=A&&yw(A.y),Ls=A&&yw(yi)||!!Ct.fixed,Co=Ls&&Yn.some(function(Ms){var oa=Ms.fixed;return oa}),Go=s.useRef(),Ta=J5(we,o),Wa=Ta.isSticky,ds=Ta.offsetHeader,sl=Ta.offsetSummary,Ol=Ta.offsetScroll,xl=Ta.stickyClassName,Zl=Ta.container,fa=s.useMemo(function(){return k==null?void 0:k(Te)},[k,Te]),Uo=(rs||Wa)&&s.isValidElement(fa)&&fa.type===NI&&fa.props.fixed,Wo,Do,fs;rs&&(Do={overflowY:Fe?"scroll":"auto",maxHeight:A.y}),Ls&&(Wo={overflowX:"auto"},rs||(Do={overflowY:"hidden"}),fs={width:yi===!0?"auto":yi,minWidth:"100%"});var Ns=s.useCallback(function(Ms,oa){(0,pi.Z)(Eo.current)&&ta(function(Da){if(Da.get(Ms)!==oa){var vs=new Map(Da);return vs.set(Ms,oa),vs}return Da})},[]),La=q5(null),xa=(0,Pe.Z)(La,2),_s=xa[0],Cs=xa[1];function qs(Ms,oa){oa&&(typeof oa=="function"?oa(Ms):oa.scrollLeft!==Ms&&(oa.scrollLeft=Ms,oa.scrollLeft!==Ms&&setTimeout(function(){oa.scrollLeft=Ms},0)))}var ya=(0,ur.Z)(function(Ms){var oa=Ms.currentTarget,Da=Ms.scrollLeft,vs=L==="rtl",Bs=typeof Da=="number"?Da:oa.scrollLeft,nc=oa||cz;if(!Cs()||Cs()===nc){var im;_s(nc),qs(Bs,gi.current),qs(Bs,ai.current),qs(Bs,Xi.current),qs(Bs,(im=Go.current)===null||im===void 0?void 0:im.setScrollLeft)}var Og=oa||gi.current;if(Og){var Db=Ae&&ve&&typeof yi=="number"?yi:Og.scrollWidth,f2=Og.clientWidth;if(Db===f2){er(!1),Oi(!1);return}vs?(er(-Bs<Db-f2),Oi(-Bs>0)):(er(Bs>0),Oi(Bs<Db-f2))}}),Lo=(0,ur.Z)(function(Ms){ya(Ms),ae==null||ae(Ms)}),Ra=function(){if(Ls&&ai.current){var oa;ya({currentTarget:(0,eT.bn)(ai.current),scrollLeft:(oa=ai.current)===null||oa===void 0?void 0:oa.scrollLeft})}else er(!1),Oi(!1)},ps=function(oa){var Da,vs=oa.width;(Da=Go.current)===null||Da===void 0||Da.checkScrollBarVisible();var Bs=Eo.current?Eo.current.offsetWidth:vs;Ae&&ye&&Eo.current&&(Bs=ye(Eo.current,Bs)||Bs),Bs!==Ir&&(Ra(),cr(Bs))},Zs=s.useRef(!1);s.useEffect(function(){Zs.current&&Ra()},[Ls,S,Pn.length]),s.useEffect(function(){Zs.current=!0},[]);var Ys=s.useState(0),Gl=(0,Pe.Z)(Ys,2),Js=Gl[0],$a=Gl[1],hs=s.useState(!0),Ts=(0,Pe.Z)(hs,2),Rl=Ts[0],ku=Ts[1];s.useEffect(function(){(!ve||!Ae)&&(ai.current instanceof Element?$a((0,Mx.o)(ai.current).width):$a((0,Mx.o)(mi.current).width)),ku(xw("position","sticky"))},[]),s.useEffect(function(){Ae&&he&&(he.body.current=ai.current)});var tm=s.useCallback(function(Ms){return s.createElement(s.Fragment,null,s.createElement(XI,Ms),Uo==="top"&&s.createElement(Tx,Ms,fa))},[Uo,fa]),lp=s.useCallback(function(Ms){return s.createElement(Tx,Ms,fa)},[fa]),cp=Ke(["table"],"table"),qf=s.useMemo(function(){return z||(Co?yi==="max-content"?"auto":"fixed":rs||Wa||Yn.some(function(Ms){var oa=Ms.ellipsis;return oa})?"fixed":"auto")},[rs,Co,Yn,z,Wa]),nm,rm={colWidths:Ua,columCount:Yn.length,stickyOffsets:pa,onHeaderRow:ne,fixHeader:rs,scroll:A},up=s.useMemo(function(){return Fe?null:typeof re=="function"?re():re},[Fe,re]),Tl=s.createElement(O5,{data:Te,measureColumnWidth:rs||Ls||Wa}),Qs=s.createElement(WI,{colWidths:Yn.map(function(Ms){var oa=Ms.width;return oa}),columns:Yn}),Sa=W!=null?s.createElement("caption",{className:"".concat(o,"-caption")},W):void 0,ka=(0,pt.Z)(a,{data:!0}),ml=(0,pt.Z)(a,{aria:!0});if(rs||Wa){var Dc;typeof vt=="function"?(Dc=vt(Te,{scrollbarSize:Js,ref:ai,onScroll:ya}),rm.colWidths=Yn.map(function(Ms,oa){var Da=Ms.width,vs=oa===Yn.length-1?Da-Js:Da;return typeof vs=="number"&&!Number.isNaN(vs)?vs:0})):Dc=s.createElement("div",{style:(0,K.Z)((0,K.Z)({},Wo),Do),onScroll:Lo,ref:ai,className:J()("".concat(o,"-body"))},s.createElement(cp,(0,Ue.Z)({style:(0,K.Z)((0,K.Z)({},fs),{},{tableLayout:qf})},ml),Sa,Qs,Tl,!Uo&&fa&&s.createElement(Tx,{stickyOffsets:pa,flattenColumns:Yn},fa)));var ef=(0,K.Z)((0,K.Z)((0,K.Z)({noData:!Te.length,maxContentScroll:Ls&&yi==="max-content"},rm),Di),{},{direction:L,stickyClassName:xl,onScroll:ya});nm=s.createElement(s.Fragment,null,X!==!1&&s.createElement(GI,(0,Ue.Z)({},ef,{stickyTopOffset:ds,className:"".concat(o,"-header"),ref:gi}),tm),Dc,Uo&&Uo!=="top"&&s.createElement(GI,(0,Ue.Z)({},ef,{stickyBottomOffset:sl,className:"".concat(o,"-summary"),ref:Xi}),lp),Wa&&ai.current&&ai.current instanceof Element&&s.createElement(rz,{ref:Go,offsetScroll:Ol,scrollBodyRef:ai,onScroll:ya,container:Zl,direction:L}))}else nm=s.createElement("div",{style:(0,K.Z)((0,K.Z)({},Wo),Do),className:J()("".concat(o,"-content")),onScroll:ya,ref:ai},s.createElement(cp,(0,Ue.Z)({style:(0,K.Z)((0,K.Z)({},fs),{},{tableLayout:qf})},ml),Sa,Qs,X!==!1&&s.createElement(XI,(0,Ue.Z)({},rm,Di)),Tl,fa&&s.createElement(Tx,{stickyOffsets:pa,flattenColumns:Yn},fa)));var Mg=s.createElement("div",(0,Ue.Z)({className:J()(o,f,(0,ge.Z)((0,ge.Z)((0,ge.Z)((0,ge.Z)((0,ge.Z)((0,ge.Z)((0,ge.Z)((0,ge.Z)((0,ge.Z)((0,ge.Z)({},"".concat(o,"-rtl"),L==="rtl"),"".concat(o,"-ping-left"),dr),"".concat(o,"-ping-right"),ni),"".concat(o,"-layout-fixed"),z==="fixed"),"".concat(o,"-fixed-header"),rs),"".concat(o,"-fixed-column"),Co),"".concat(o,"-fixed-column-gapped"),Co&&si),"".concat(o,"-scroll-horizontal"),Ls),"".concat(o,"-has-fix-left"),Yn[0]&&Yn[0].fixed),"".concat(o,"-has-fix-right"),Yn[Yn.length-1]&&Yn[Yn.length-1].fixed==="right")),style:_,id:H,ref:Eo},ka),F&&s.createElement(QI,{className:"".concat(o,"-title")},F(Te)),s.createElement("div",{ref:mi,className:"".concat(o,"-container")},nm),Z&&s.createElement(QI,{className:"".concat(o,"-footer")},Z(Te)));Ls&&(Mg=s.createElement(u.Z,{onResize:ps},Mg));var Pg=K5(Yn,pa,L),bv=s.useMemo(function(){return{scrollX:yi,prefixCls:o,getComponent:Ke,scrollbarSize:Js,direction:L,fixedInfoList:Pg,isSticky:Wa,supportSticky:Rl,componentWidth:Ir,fixHeader:rs,fixColumn:Co,horizonScroll:Ls,tableLayout:qf,rowClassName:y,expandedRowClassName:Ct.expandedRowClassName,expandIcon:rn,expandableType:dn,expandRowByClick:Ct.expandRowByClick,expandedRowRender:Ct.expandedRowRender,onTriggerExpand:Vt,expandIconColumnIndex:Ct.expandIconColumnIndex,indentSize:Ct.indentSize,allColumnsFixedLeft:Yn.every(function(Ms){return Ms.fixed==="left"}),emptyNode:up,columns:Pn,flattenColumns:Yn,onColumnResize:Ns,hoverStartRow:ct,hoverEndRow:mt,onHover:Rt,rowExpandable:Ct.rowExpandable,onRow:ie,getRowKey:tt,expandedKeys:zn,childrenColumnName:Cn,rowHoverable:ze}},[yi,o,Ke,Js,L,Pg,Wa,Rl,Ir,rs,Co,Ls,qf,y,Ct.expandedRowClassName,rn,dn,Ct.expandRowByClick,Ct.expandedRowRender,Vt,Ct.expandIconColumnIndex,Ct.indentSize,up,Pn,Yn,Ns,ct,mt,Rt,Ct.rowExpandable,ie,tt,zn,Cn,ze]);return s.createElement(wu.Provider,{value:bv},Mg)}var fz=s.forwardRef(dz);function rT(e){return DI(fz,e)}var pv=rT();pv.EXPAND_COLUMN=Qh,pv.INTERNAL_HOOKS=Tb,pv.Column=oz,pv.ColumnGroup=sz,pv.Summary=BI;var hz=pv,mz=j(98131),ww=mw(null),iT=mw(null);function pz(e,t,a){var o=t||1;return a[e+o]-(a[e]||0)}function gz(e){var t=e.rowInfo,a=e.column,o=e.colIndex,f=e.indent,y=e.index,_=e.component,S=e.renderIndex,I=e.record,A=e.style,z=e.className,L=e.inverse,F=e.getHeight,Z=a.render,k=a.dataIndex,W=a.className,H=a.width,X=nu(iT,["columnsOffset"]),Q=X.columnsOffset,re=UI(t,a,o,f,y),ie=re.key,ne=re.fixedInfo,ae=re.appendCellNode,ue=re.additionalCellProps,fe=ue.style,he=ue.colSpan,ve=he===void 0?1:he,ye=ue.rowSpan,we=ye===void 0?1:ye,Se=o-1,ze=pz(Se,ve,Q),Te=ve>1?H-ze:0,Fe=(0,K.Z)((0,K.Z)((0,K.Z)({},fe),A),{},{flex:"0 0 ".concat(ze,"px"),width:"".concat(ze,"px"),marginRight:Te,pointerEvents:"auto"}),Ae=s.useMemo(function(){return L?we<=1:ve===0||we===0||we>1},[we,ve,L]);Ae?Fe.visibility="hidden":L&&(Fe.height=F==null?void 0:F(we));var Ke=Ae?function(){return null}:Z,tt={};return(we===0||ve===0)&&(tt.rowSpan=1,tt.colSpan=1),s.createElement(mv,(0,Ue.Z)({className:J()(W,z),ellipsis:a.ellipsis,align:a.align,scope:a.rowScope,component:_,prefixCls:t.prefixCls,key:ie,record:I,index:y,renderIndex:S,dataIndex:k,render:Ke,shouldCellUpdate:a.shouldCellUpdate},ne,{appendNode:ae,additionalProps:(0,K.Z)((0,K.Z)({},ue),{},{style:Fe},tt)}))}var vz=gz,yz=["data","index","className","rowKey","style","extra","getHeight"],bz=s.forwardRef(function(e,t){var a=e.data,o=e.index,f=e.className,y=e.rowKey,_=e.style,S=e.extra,I=e.getHeight,A=(0,de.Z)(e,yz),z=a.record,L=a.indent,F=a.index,Z=nu(wu,["prefixCls","flattenColumns","fixColumn","componentWidth","scrollX"]),k=Z.scrollX,W=Z.flattenColumns,H=Z.prefixCls,X=Z.fixColumn,Q=Z.componentWidth,re=nu(ww,["getComponent"]),ie=re.getComponent,ne=ZI(z,y,o,L),ae=ie(["body","row"],"div"),ue=ie(["body","cell"],"div"),fe=ne.rowSupportExpand,he=ne.expanded,ve=ne.rowProps,ye=ne.expandedRowRender,we=ne.expandedRowClassName,Se;if(fe&&he){var ze=ye(z,o,L+1,he),Te=HI(we,z,o,L),Fe={};X&&(Fe={style:(0,ge.Z)({},"--virtual-width","".concat(Q,"px"))});var Ae="".concat(H,"-expanded-row-cell");Se=s.createElement(ae,{className:J()("".concat(H,"-expanded-row"),"".concat(H,"-expanded-row-level-").concat(L+1),Te)},s.createElement(mv,{component:ue,prefixCls:H,className:J()(Ae,(0,ge.Z)({},"".concat(Ae,"-fixed"),X)),additionalProps:Fe},ze))}var Ke=(0,K.Z)((0,K.Z)({},_),{},{width:k});S&&(Ke.position="absolute",Ke.pointerEvents="none");var tt=s.createElement(ae,(0,Ue.Z)({},ve,A,{"data-row-key":y,ref:fe?null:t,className:J()(f,"".concat(H,"-row"),ve==null?void 0:ve.className,(0,ge.Z)({},"".concat(H,"-row-extra"),S)),style:(0,K.Z)((0,K.Z)({},Ke),ve==null?void 0:ve.style)}),W.map(function(vt,bt){return s.createElement(vz,{key:bt,component:ue,rowInfo:ne,column:vt,colIndex:bt,indent:L,index:o,renderIndex:F,record:z,inverse:S,getHeight:I})}));return fe?s.createElement("div",{ref:t},tt,Se):tt}),_z=hv(bz),oT=_z,xz=s.forwardRef(function(e,t){var a=e.data,o=e.onScroll,f=nu(wu,["flattenColumns","onColumnResize","getRowKey","prefixCls","expandedKeys","childrenColumnName","scrollX","direction"]),y=f.flattenColumns,_=f.onColumnResize,S=f.getRowKey,I=f.expandedKeys,A=f.prefixCls,z=f.childrenColumnName,L=f.scrollX,F=f.direction,Z=nu(ww),k=Z.sticky,W=Z.scrollY,H=Z.listItemHeight,X=Z.getComponent,Q=Z.onScroll,re=s.useRef(),ie=jI(a,z,I,S),ne=s.useMemo(function(){var Se=0;return y.map(function(ze){var Te=ze.width,Fe=ze.key;return Se+=Te,[Fe,Te,Se]})},[y]),ae=s.useMemo(function(){return ne.map(function(Se){return Se[2]})},[ne]);s.useEffect(function(){ne.forEach(function(Se){var ze=(0,Pe.Z)(Se,2),Te=ze[0],Fe=ze[1];_(Te,Fe)})},[ne]),s.useImperativeHandle(t,function(){var Se,ze={scrollTo:function(Fe){var Ae;(Ae=re.current)===null||Ae===void 0||Ae.scrollTo(Fe)},nativeElement:(Se=re.current)===null||Se===void 0?void 0:Se.nativeElement};return Object.defineProperty(ze,"scrollLeft",{get:function(){var Fe;return((Fe=re.current)===null||Fe===void 0?void 0:Fe.getScrollInfo().x)||0},set:function(Fe){var Ae;(Ae=re.current)===null||Ae===void 0||Ae.scrollTo({left:Fe})}}),ze});var ue=function(ze,Te){var Fe,Ae=(Fe=ie[Te])===null||Fe===void 0?void 0:Fe.record,Ke=ze.onCell;if(Ke){var tt,vt=Ke(Ae,Te);return(tt=vt==null?void 0:vt.rowSpan)!==null&&tt!==void 0?tt:1}return 1},fe=function(ze){var Te=ze.start,Fe=ze.end,Ae=ze.getSize,Ke=ze.offsetY;if(Fe<0)return null;for(var tt=y.filter(function(rn){return ue(rn,Te)===0}),vt=Te,bt=function(Cn){if(tt=tt.filter(function(Vt){return ue(Vt,Cn)===0}),!tt.length)return vt=Cn,1},lt=Te;lt>=0&&!bt(lt);lt-=1);for(var ct=y.filter(function(rn){return ue(rn,Fe)!==1}),mt=Fe,Rt=function(Cn){if(ct=ct.filter(function(Vt){return ue(Vt,Cn)!==1}),!ct.length)return mt=Math.max(Cn-1,Fe),1},wt=Fe;wt<ie.length&&!Rt(wt);wt+=1);for(var Bt=[],Ct=function(Cn){var Vt=ie[Cn];if(!Vt)return 1;y.some(function(At){return ue(At,Cn)>1})&&Bt.push(Cn)},dn=vt;dn<=mt;dn+=1)Ct(dn);var zn=Bt.map(function(rn){var Cn=ie[rn],Vt=S(Cn.record,rn),At=function(Ir){var cr=rn+Ir-1,Kn=S(ie[cr].record,cr),qn=Ae(Vt,Kn);return qn.bottom-qn.top},$n=Ae(Vt);return s.createElement(oT,{key:rn,data:Cn,rowKey:Vt,index:rn,style:{top:-Ke+$n.top},extra:!0,getHeight:At})});return zn},he=s.useMemo(function(){return{columnsOffset:ae}},[ae]),ve="".concat(A,"-tbody"),ye=X(["body","wrapper"]),we={};return k&&(we.position="sticky",we.bottom=0,(0,dt.Z)(k)==="object"&&k.offsetScroll&&(we.bottom=k.offsetScroll)),s.createElement(iT.Provider,{value:he},s.createElement(mz.Z,{fullHeight:!1,ref:re,prefixCls:"".concat(ve,"-virtual"),styles:{horizontalScrollBar:we},className:ve,height:W,itemHeight:H||24,data:ie,itemKey:function(ze){return S(ze.record)},component:ye,scrollWidth:L,direction:F,onVirtualScroll:function(ze){var Te,Fe=ze.x;o({currentTarget:(Te=re.current)===null||Te===void 0?void 0:Te.nativeElement,scrollLeft:Fe})},onScroll:Q,extraRender:fe},function(Se,ze,Te){var Fe=S(Se.record,ze);return s.createElement(oT,{data:Se,rowKey:Fe,index:ze,style:Te.style})}))}),Cz=hv(xz),Sz=Cz,wz=function(t,a){var o=a.ref,f=a.onScroll;return s.createElement(Sz,{ref:o,data:t,onScroll:f})};function Ez(e,t){var a=e.data,o=e.columns,f=e.scroll,y=e.sticky,_=e.prefixCls,S=_===void 0?nT:_,I=e.className,A=e.listItemHeight,z=e.components,L=e.onScroll,F=f||{},Z=F.x,k=F.y;typeof Z!="number"&&(Z=1),typeof k!="number"&&(k=500);var W=(0,Os.zX)(function(Q,re){return(0,vw.Z)(z,Q)||re}),H=(0,Os.zX)(L),X=s.useMemo(function(){return{sticky:y,scrollY:k,listItemHeight:A,getComponent:W,onScroll:H}},[y,k,A,W,H]);return s.createElement(ww.Provider,{value:X},s.createElement(hz,(0,Ue.Z)({},e,{className:J()(I,"".concat(S,"-virtual")),scroll:(0,K.Z)((0,K.Z)({},f),{},{x:Z}),components:(0,K.Z)((0,K.Z)({},z),{},{body:a!=null&&a.length?wz:void 0}),columns:o,internalHooks:Tb,tailor:!0,ref:t})))}var Iz=s.forwardRef(Ez);function aT(e){return DI(Iz,e)}var j7=aT(),Z7=null,Tz=e=>null,Mz=e=>null,Ew=j(44443);function Iw(e){const[t,a]=(0,s.useState)(null);return[(0,s.useCallback)((y,_,S)=>{const I=t!=null?t:y,A=Math.min(I||0,y),z=Math.max(I||0,y),L=_.slice(A,z+1).map(k=>e(k)),F=L.some(k=>!S.has(k)),Z=[];return L.forEach(k=>{F?(S.has(k)||Z.push(k),S.add(k)):(S.delete(k),Z.push(k))}),a(F?z:null),Z},[t]),y=>{a(y)}]}const op={},Tw="SELECT_ALL",Mw="SELECT_INVERT",Pw="SELECT_NONE",sT=[],lT=(e,t)=>{let a=[];return(t||[]).forEach(o=>{a.push(o),o&&typeof o=="object"&&e in o&&(a=[].concat((0,Ie.Z)(a),(0,Ie.Z)(lT(e,o[e]))))}),a};var Pz=(e,t)=>{const{preserveSelectedRowKeys:a,selectedRowKeys:o,defaultSelectedRowKeys:f,getCheckboxProps:y,onChange:_,onSelect:S,onSelectAll:I,onSelectInvert:A,onSelectNone:z,onSelectMultiple:L,columnWidth:F,type:Z,selections:k,fixed:W,renderCell:H,hideSelectAll:X,checkStrictly:Q=!0}=t||{},{prefixCls:re,data:ie,pageData:ne,getRecordByKey:ae,getRowKey:ue,expandType:fe,childrenColumnName:he,locale:ve,getPopupContainer:ye}=e,we=(0,io.ln)("Table"),[Se,ze]=Iw(rn=>rn),[Te,Fe]=(0,zt.Z)(o||f||sT,{value:o}),Ae=s.useRef(new Map),Ke=(0,s.useCallback)(rn=>{if(a){const Cn=new Map;rn.forEach(Vt=>{let At=ae(Vt);!At&&Ae.current.has(Vt)&&(At=Ae.current.get(Vt)),Cn.set(Vt,At)}),Ae.current=Cn}},[ae,a]);s.useEffect(()=>{Ke(Te)},[Te]);const tt=(0,s.useMemo)(()=>lT(he,ne),[he,ne]),{keyEntities:vt}=(0,s.useMemo)(()=>{if(Q)return{keyEntities:null};let rn=ie;if(a){const Cn=new Set(tt.map((At,$n)=>ue(At,$n))),Vt=Array.from(Ae.current).reduce((At,$n)=>{let[yn,Ir]=$n;return Cn.has(yn)?At:At.concat(Ir)},[]);rn=[].concat((0,Ie.Z)(rn),(0,Ie.Z)(Vt))}return(0,Lt.I8)(rn,{externalGetKey:ue,childrenPropName:he})},[ie,ue,Q,he,a,tt]),bt=(0,s.useMemo)(()=>{const rn=new Map;return tt.forEach((Cn,Vt)=>{const At=ue(Cn,Vt),$n=(y?y(Cn):null)||{};rn.set(At,$n)}),rn},[tt,ue,y]),lt=(0,s.useCallback)(rn=>{const Cn=ue(rn);let Vt;return bt.has(Cn)?Vt=bt.get(ue(rn)):Vt=y?y(rn):void 0,!!(Vt!=null&&Vt.disabled)},[bt,ue]),[ct,mt]=(0,s.useMemo)(()=>{if(Q)return[Te||[],[]];const{checkedKeys:rn,halfCheckedKeys:Cn}=(0,Wt.S)(Te,!0,vt,lt);return[rn||[],Cn]},[Te,Q,vt,lt]),Rt=(0,s.useMemo)(()=>{const rn=Z==="radio"?ct.slice(0,1):ct;return new Set(rn)},[ct,Z]),wt=(0,s.useMemo)(()=>Z==="radio"?new Set:new Set(mt),[mt,Z]);s.useEffect(()=>{t||Fe(sT)},[!!t]);const Bt=(0,s.useCallback)((rn,Cn)=>{let Vt,At;Ke(rn),a?(Vt=rn,At=rn.map($n=>Ae.current.get($n))):(Vt=[],At=[],rn.forEach($n=>{const yn=ae($n);yn!==void 0&&(Vt.push($n),At.push(yn))})),Fe(Vt),_==null||_(Vt,At,{type:Cn})},[Fe,ae,_,a]),Ct=(0,s.useCallback)((rn,Cn,Vt,At)=>{if(S){const $n=Vt.map(yn=>ae(yn));S(ae(rn),Cn,$n,At)}Bt(Vt,"single")},[S,ae,Bt]),dn=(0,s.useMemo)(()=>!k||X?null:(k===!0?[Tw,Mw,Pw]:k).map(Cn=>Cn===Tw?{key:"all",text:ve.selectionAll,onSelect(){Bt(ie.map((Vt,At)=>ue(Vt,At)).filter(Vt=>{const At=bt.get(Vt);return!(At!=null&&At.disabled)||Rt.has(Vt)}),"all")}}:Cn===Mw?{key:"invert",text:ve.selectInvert,onSelect(){const Vt=new Set(Rt);ne.forEach(($n,yn)=>{const Ir=ue($n,yn),cr=bt.get(Ir);cr!=null&&cr.disabled||(Vt.has(Ir)?Vt.delete(Ir):Vt.add(Ir))});const At=Array.from(Vt);A&&(we.deprecated(!1,"onSelectInvert","onChange"),A(At)),Bt(At,"invert")}}:Cn===Pw?{key:"none",text:ve.selectNone,onSelect(){z==null||z(),Bt(Array.from(Rt).filter(Vt=>{const At=bt.get(Vt);return At==null?void 0:At.disabled}),"none")}}:Cn).map(Cn=>Object.assign(Object.assign({},Cn),{onSelect:function(){for(var Vt,At,$n=arguments.length,yn=new Array($n),Ir=0;Ir<$n;Ir++)yn[Ir]=arguments[Ir];(At=Cn.onSelect)===null||At===void 0||(Vt=At).call.apply(Vt,[Cn].concat(yn)),ze(null)}})),[k,Rt,ne,ue,A,Bt]);return[(0,s.useCallback)(rn=>{var Cn;if(!t)return rn.filter(mi=>mi!==op);let Vt=(0,Ie.Z)(rn);const At=new Set(Rt),$n=tt.map(ue).filter(mi=>!bt.get(mi).disabled),yn=$n.every(mi=>At.has(mi)),Ir=$n.some(mi=>At.has(mi)),cr=()=>{const mi=[];yn?$n.forEach(Pi=>{At.delete(Pi),mi.push(Pi)}):$n.forEach(Pi=>{At.has(Pi)||(At.add(Pi),mi.push(Pi))});const Xi=Array.from(At);I==null||I(!yn,Xi.map(Pi=>ae(Pi)),mi.map(Pi=>ae(Pi))),Bt(Xi,"all"),ze(null)};let Kn,qn;if(Z!=="radio"){let mi;if(dn){const er={getPopupContainer:ye,items:dn.map((gr,Zn)=>{const{key:ni,text:Oi,onSelect:ro}=gr;return{key:ni!=null?ni:Zn,onClick:()=>{ro==null||ro($n)},label:Oi}})};mi=s.createElement("div",{className:`${re}-selection-extra`},s.createElement(lx,{menu:er,getPopupContainer:ye},s.createElement("span",null,s.createElement(b.Z,null))))}const Xi=tt.map((er,gr)=>{const Zn=ue(er,gr),ni=bt.get(Zn)||{};return Object.assign({checked:At.has(Zn)},ni)}).filter(er=>{let{disabled:gr}=er;return gr}),Pi=!!Xi.length&&Xi.length===tt.length,Io=Pi&&Xi.every(er=>{let{checked:gr}=er;return gr}),dr=Pi&&Xi.some(er=>{let{checked:gr}=er;return gr});qn=s.createElement(xg,{checked:Pi?Io:!!tt.length&&yn,indeterminate:Pi?!Io&&dr:!yn&&Ir,onChange:cr,disabled:tt.length===0||Pi,"aria-label":mi?"Custom selection":"Select all",skipGroup:!0}),Kn=!X&&s.createElement("div",{className:`${re}-selection`},qn,mi)}let Pn;Z==="radio"?Pn=(mi,Xi,Pi)=>{const Io=ue(Xi,Pi),dr=At.has(Io),er=bt.get(Io);return{node:s.createElement(dw,Object.assign({},er,{checked:dr,onClick:gr=>{var Zn;gr.stopPropagation(),(Zn=er==null?void 0:er.onClick)===null||Zn===void 0||Zn.call(er,gr)},onChange:gr=>{var Zn;At.has(Io)||Ct(Io,!0,[Io],gr.nativeEvent),(Zn=er==null?void 0:er.onChange)===null||Zn===void 0||Zn.call(er,gr)}})),checked:dr}}:Pn=(mi,Xi,Pi)=>{var Io;const dr=ue(Xi,Pi),er=At.has(dr),gr=wt.has(dr),Zn=bt.get(dr);let ni;return fe==="nest"?ni=gr:ni=(Io=Zn==null?void 0:Zn.indeterminate)!==null&&Io!==void 0?Io:gr,{node:s.createElement(xg,Object.assign({},Zn,{indeterminate:ni,checked:er,skipGroup:!0,onClick:Oi=>{var ro;Oi.stopPropagation(),(ro=Zn==null?void 0:Zn.onClick)===null||ro===void 0||ro.call(Zn,Oi)},onChange:Oi=>{var ro;const{nativeEvent:Ko}=Oi,{shiftKey:Oa}=Ko,ta=$n.findIndex(Fa=>Fa===dr),Is=ct.some(Fa=>$n.includes(Fa));if(Oa&&Q&&Is){const Fa=Se(ta,$n,At),Ua=Array.from(At);L==null||L(!er,Ua.map(pa=>ae(pa)),Fa.map(pa=>ae(pa))),Bt(Ua,"multiple")}else{const Fa=ct;if(Q){const Ua=er?(0,Ew._5)(Fa,dr):(0,Ew.L0)(Fa,dr);Ct(dr,!er,Ua,Ko)}else{const Ua=(0,Wt.S)([].concat((0,Ie.Z)(Fa),[dr]),!0,vt,lt),{checkedKeys:pa,halfCheckedKeys:rs}=Ua;let Ls=pa;if(er){const Co=new Set(pa);Co.delete(dr),Ls=(0,Wt.S)(Array.from(Co),{checked:!1,halfCheckedKeys:rs},vt,lt).checkedKeys}Ct(dr,!er,Ls,Ko)}}ze(er?null:ta),(ro=Zn==null?void 0:Zn.onChange)===null||ro===void 0||ro.call(Zn,Oi)}})),checked:er}};const Yn=(mi,Xi,Pi)=>{const{node:Io,checked:dr}=Pn(mi,Xi,Pi);return H?H(dr,Xi,Pi,Io):Io};if(!Vt.includes(op))if(Vt.findIndex(mi=>{var Xi;return((Xi=mi[Mb])===null||Xi===void 0?void 0:Xi.columnType)==="EXPAND_COLUMN"})===0){const[mi,...Xi]=Vt;Vt=[mi,op].concat((0,Ie.Z)(Xi))}else Vt=[op].concat((0,Ie.Z)(Vt));const zr=Vt.indexOf(op);Vt=Vt.filter((mi,Xi)=>mi!==op||Xi===zr);const si=Vt[zr-1],yi=Vt[zr+1];let Di=W;Di===void 0&&((yi==null?void 0:yi.fixed)!==void 0?Di=yi.fixed:(si==null?void 0:si.fixed)!==void 0&&(Di=si.fixed)),Di&&si&&((Cn=si[Mb])===null||Cn===void 0?void 0:Cn.columnType)==="EXPAND_COLUMN"&&si.fixed===void 0&&(si.fixed=Di);const Eo=J()(`${re}-selection-col`,{[`${re}-selection-col-with-dropdown`]:k&&Z==="checkbox"}),gi=()=>t!=null&&t.columnTitle?typeof t.columnTitle=="function"?t.columnTitle(qn):t.columnTitle:Kn,ai={fixed:Di,width:F,className:`${re}-selection-column`,title:gi(),render:Yn,onCell:t.onCell,[Mb]:{className:Eo}};return Vt.map(mi=>mi===op?ai:mi)},[ue,tt,t,ct,Rt,wt,F,dn,fe,bt,L,Ct,lt]),Rt]};function Oz(e,t){return e._antProxy=e._antProxy||{},Object.keys(t).forEach(a=>{if(!(a in e._antProxy)){const o=e[a];e._antProxy[a]=o,e[a]=t[a]}}),e}function Rz(e,t){return(0,s.useImperativeHandle)(e,()=>{const a=t(),{nativeElement:o}=a;return typeof Proxy!="undefined"?new Proxy(o,{get(f,y){return a[y]?a[y]:Reflect.get(f,y)}}):Oz(o,a)})}function $z(e){return t=>{const{prefixCls:a,onExpand:o,record:f,expanded:y,expandable:_}=t,S=`${a}-row-expand-icon`;return s.createElement("button",{type:"button",onClick:I=>{o(f,I),I.stopPropagation()},className:J()(S,{[`${S}-spaced`]:!_,[`${S}-expanded`]:_&&y,[`${S}-collapsed`]:_&&!y}),"aria-label":y?e.collapse:e.expand,"aria-expanded":y})}}var Az=$z;function Dz(e){return(a,o)=>{const f=a.querySelector(`.${e}-container`);let y=o;if(f){const _=getComputedStyle(f),S=parseInt(_.borderLeftWidth,10),I=parseInt(_.borderRightWidth,10);y=o-S-I}return y}}const ap=(e,t)=>"key"in e&&e.key!==void 0&&e.key!==null?e.key:e.dataIndex?Array.isArray(e.dataIndex)?e.dataIndex.join("."):e.dataIndex:t;function gv(e,t){return t?`${t}-${e}`:`${e}`}const Px=(e,t)=>typeof e=="function"?e(t):e,zz=(e,t)=>{const a=Px(e,t);return Object.prototype.toString.call(a)==="[object Object]"?"":a};var Lz={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z"}}]},name:"filter",theme:"filled"},Nz=Lz,Bz=function(t,a){return s.createElement(En.Z,(0,Ue.Z)({},t,{ref:a,icon:Nz}))},Fz=s.forwardRef(Bz),kz=Fz;function jz(e){const t=s.useRef(e),a=(0,fw.Z)();return[()=>t.current,o=>{t.current=o,a()}]}var Ox=j(91606),Zz={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"},Vz=Zz,Hz=function(t,a){return s.createElement(En.Z,(0,Ue.Z)({},t,{ref:a,icon:Vz}))},Uz=s.forwardRef(Hz),cT=Uz,Wz={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"},Gz=Wz,Xz=function(t,a){return s.createElement(En.Z,(0,Ue.Z)({},t,{ref:a,icon:Gz}))},Kz=s.forwardRef(Xz),qz=Kz,Yz={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"},Jz=Yz,Qz=function(t,a){return s.createElement(En.Z,(0,Ue.Z)({},t,{ref:a,icon:Jz}))},eL=s.forwardRef(Qz),tL=eL,nL={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"},rL=nL,iL=function(t,a){return s.createElement(En.Z,(0,Ue.Z)({},t,{ref:a,icon:rL}))},oL=s.forwardRef(iL),aL=oL;const sL=e=>{let{treeCls:t,treeNodeCls:a,directoryNodeSelectedBg:o,directoryNodeSelectedColor:f,motionDurationMid:y,borderRadius:_,controlItemBgHover:S}=e;return{[`${t}${t}-directory ${a}`]:{[`${t}-node-content-wrapper`]:{position:"static",[`> *:not(${t}-drop-indicator)`]:{position:"relative"},"&:hover":{background:"transparent"},"&:before":{position:"absolute",inset:0,transition:`background-color ${y}`,content:'""',borderRadius:_},"&:hover:before":{background:S}},[`${t}-switcher, ${t}-checkbox, ${t}-draggable-icon`]:{zIndex:1},"&-selected":{[`${t}-switcher, ${t}-draggable-icon`]:{color:f},[`${t}-node-content-wrapper`]:{color:f,background:"transparent","&:before, &:hover:before":{background:o}}}}}},lL=new me.E4("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),cL=(e,t)=>({[`.${e}-switcher-icon`]:{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:`transform ${t.motionDurationSlow}`}}}),uL=(e,t)=>({[`.${e}-drop-indicator`]:{position:"absolute",zIndex:1,height:2,backgroundColor:t.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:`${(0,me.bf)(t.lineWidthBold)} solid ${t.colorPrimary}`,borderRadius:"50%",content:'""'}}}),dL=(e,t)=>{const{treeCls:a,treeNodeCls:o,treeNodePadding:f,titleHeight:y,indentSize:_,nodeSelectedBg:S,nodeHoverBg:I,colorTextQuaternary:A,controlItemBgActiveDisabled:z}=t;return{[a]:Object.assign(Object.assign({},(0,nn.Wf)(t)),{background:t.colorBgContainer,borderRadius:t.borderRadius,transition:`background-color ${t.motionDurationSlow}`,"&-rtl":{direction:"rtl"},[`&${a}-rtl ${a}-switcher_close ${a}-switcher-icon svg`]:{transform:"rotate(90deg)"},[`&-focused:not(:hover):not(${a}-active-focused)`]:Object.assign({},(0,nn.oN)(t)),[`${a}-list-holder-inner`]:{alignItems:"flex-start"},[`&${a}-block-node`]:{[`${a}-list-holder-inner`]:{alignItems:"stretch",[`${a}-node-content-wrapper`]:{flex:"auto"},[`${o}.dragging:after`]:{position:"absolute",inset:0,border:`1px solid ${t.colorPrimary}`,opacity:0,animationName:lL,animationDuration:t.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none",borderRadius:t.borderRadius}}},[o]:{display:"flex",alignItems:"flex-start",marginBottom:f,lineHeight:(0,me.bf)(y),position:"relative","&:before":{content:'""',position:"absolute",zIndex:1,insetInlineStart:0,width:"100%",top:"100%",height:f},[`&-disabled ${a}-node-content-wrapper`]:{color:t.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}},[`${a}-checkbox-disabled + ${a}-node-selected,&${o}-disabled${o}-selected ${a}-node-content-wrapper`]:{backgroundColor:z},[`${a}-checkbox-disabled`]:{pointerEvents:"unset"},[`&:not(${o}-disabled)`]:{[`${a}-node-content-wrapper`]:{"&:hover":{color:t.nodeHoverColor}}},[`&-active ${a}-node-content-wrapper`]:{background:t.controlItemBgHover},[`&:not(${o}-disabled).filter-node ${a}-title`]:{color:t.colorPrimary,fontWeight:500},"&-draggable":{cursor:"grab",[`${a}-draggable-icon`]:{flexShrink:0,width:y,textAlign:"center",visibility:"visible",color:A},[`&${o}-disabled ${a}-draggable-icon`]:{visibility:"hidden"}}},[`${a}-indent`]:{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:_}},[`${a}-draggable-icon`]:{visibility:"hidden"},[`${a}-switcher, ${a}-checkbox`]:{marginInlineEnd:t.calc(t.calc(y).sub(t.controlInteractiveSize)).div(2).equal()},[`${a}-switcher`]:Object.assign(Object.assign({},cL(e,t)),{position:"relative",flex:"none",alignSelf:"stretch",width:y,textAlign:"center",cursor:"pointer",userSelect:"none",transition:`all ${t.motionDurationSlow}`,"&-noop":{cursor:"unset"},"&:before":{pointerEvents:"none",content:'""',width:y,height:y,position:"absolute",left:{_skip_check_:!0,value:0},top:0,borderRadius:t.borderRadius,transition:`all ${t.motionDurationSlow}`},[`&:not(${a}-switcher-noop):hover:before`]:{backgroundColor:t.colorBgTextHover},[`&_close ${a}-switcher-icon svg`]:{transform:"rotate(-90deg)"},"&-loading-icon":{color:t.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:t.calc(y).div(2).equal(),bottom:t.calc(f).mul(-1).equal(),marginInlineStart:-1,borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&:after":{position:"absolute",width:t.calc(t.calc(y).div(2).equal()).mul(.8).equal(),height:t.calc(y).div(2).equal(),borderBottom:`1px solid ${t.colorBorder}`,content:'""'}}}),[`${a}-node-content-wrapper`]:Object.assign(Object.assign({position:"relative",minHeight:y,paddingBlock:0,paddingInline:t.paddingXS,background:"transparent",borderRadius:t.borderRadius,cursor:"pointer",transition:`all ${t.motionDurationMid}, border 0s, line-height 0s, box-shadow 0s`},uL(e,t)),{"&:hover":{backgroundColor:I},[`&${a}-node-selected`]:{color:t.nodeSelectedColor,backgroundColor:S},[`${a}-iconEle`]:{display:"inline-block",width:y,height:y,textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}}),[`${a}-unselectable ${a}-node-content-wrapper:hover`]:{backgroundColor:"transparent"},[`${o}.drop-container > [draggable]`]:{boxShadow:`0 0 0 2px ${t.colorPrimary}`},"&-show-line":{[`${a}-indent-unit`]:{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:t.calc(y).div(2).equal(),bottom:t.calc(f).mul(-1).equal(),borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&-end:before":{display:"none"}},[`${a}-switcher`]:{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}},[`${o}-leaf-last ${a}-switcher-leaf-line:before`]:{top:"auto !important",bottom:"auto !important",height:`${(0,me.bf)(t.calc(y).div(2).equal())} !important`}})}},uT=(e,t)=>{const a=`.${e}`,o=`${a}-treenode`,f=t.calc(t.paddingXS).div(2).equal(),y=(0,kr.IX)(t,{treeCls:a,treeNodeCls:o,treeNodePadding:f});return[dL(e,y),sL(y)]},dT=e=>{const{controlHeightSM:t,controlItemBgHover:a,controlItemBgActive:o}=e,f=t;return{titleHeight:f,indentSize:f,nodeHoverBg:a,nodeHoverColor:e.colorText,nodeSelectedBg:o,nodeSelectedColor:e.colorText}},fL=e=>{const{colorTextLightSolid:t,colorPrimary:a}=e;return Object.assign(Object.assign({},dT(e)),{directoryNodeSelectedColor:t,directoryNodeSelectedBg:a})};var hL=(0,oe.I$)("Tree",(e,t)=>{let{prefixCls:a}=t;return[{[e.componentCls]:uu(`${a}-checkbox`,e)},uT(a,e),(0,s0.Z)(e)]},fL);const fT=4;function mL(e){const{dropPosition:t,dropLevelOffset:a,prefixCls:o,indent:f,direction:y="ltr"}=e,_=y==="ltr"?"left":"right",S=y==="ltr"?"right":"left",I={[_]:-a*f+fT,[S]:0};switch(t){case-1:I.top=-3;break;case 1:I.bottom=-3;break;default:I.bottom=-3,I[_]=f+fT;break}return s.createElement("div",{style:I,className:`${o}-drop-indicator`})}var pL=mL,gL={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"},vL=gL,yL=function(t,a){return s.createElement(En.Z,(0,Ue.Z)({},t,{ref:a,icon:vL}))},bL=s.forwardRef(yL),_L=bL,xL={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"},CL=xL,SL=function(t,a){return s.createElement(En.Z,(0,Ue.Z)({},t,{ref:a,icon:CL}))},wL=s.forwardRef(SL),EL=wL,IL={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"},TL=IL,ML=function(t,a){return s.createElement(En.Z,(0,Ue.Z)({},t,{ref:a,icon:TL}))},PL=s.forwardRef(ML),OL=PL,hT=e=>{const{prefixCls:t,switcherIcon:a,treeNodeProps:o,showLine:f,switcherLoadingIcon:y}=e,{isLeaf:_,expanded:S,loading:I}=o;if(I)return s.isValidElement(y)?y:s.createElement(Ut.Z,{className:`${t}-switcher-loading-icon`});let A;if(f&&typeof f=="object"&&(A=f.showLeafIcon),_){if(!f)return null;if(typeof A!="boolean"&&A){const F=typeof A=="function"?A(o):A,Z=`${t}-switcher-line-custom-icon`;return s.isValidElement(F)?(0,Tn.Tm)(F,{className:J()(F.props.className||"",Z)}):F}return A?s.createElement(cT,{className:`${t}-switcher-line-icon`}):s.createElement("span",{className:`${t}-switcher-leaf-line`})}const z=`${t}-switcher-icon`,L=typeof a=="function"?a(o):a;return s.isValidElement(L)?(0,Tn.Tm)(L,{className:J()(L.props.className||"",z)}):L!==void 0?L:f?S?s.createElement(EL,{className:`${t}-switcher-line-icon`}):s.createElement(OL,{className:`${t}-switcher-line-icon`}):s.createElement(_L,{className:z})},mT=s.forwardRef((e,t)=>{var a;const{getPrefixCls:o,direction:f,virtual:y,tree:_}=s.useContext(_e.E_),{prefixCls:S,className:I,showIcon:A=!1,showLine:z,switcherIcon:L,switcherLoadingIcon:F,blockNode:Z=!1,children:k,checkable:W=!1,selectable:H=!0,draggable:X,motion:Q,style:re}=e,ie=o("tree",S),ne=o(),ae=Q!=null?Q:Object.assign(Object.assign({},(0,ir.Z)(ne)),{motionAppear:!1}),ue=Object.assign(Object.assign({},e),{checkable:W,selectable:H,showIcon:A,motion:ae,blockNode:Z,showLine:!!z,dropIndicatorRender:pL}),[fe,he,ve]=hL(ie),[,ye]=(0,Vr.ZP)(),we=ye.paddingXS/2+(((a=ye.Tree)===null||a===void 0?void 0:a.titleHeight)||ye.controlHeightSM),Se=s.useMemo(()=>{if(!X)return!1;let Te={};switch(typeof X){case"function":Te.nodeDraggable=X;break;case"object":Te=Object.assign({},X);break;default:break}return Te.icon!==!1&&(Te.icon=Te.icon||s.createElement(aL,null)),Te},[X]),ze=Te=>s.createElement(hT,{prefixCls:ie,switcherIcon:L,switcherLoadingIcon:F,treeNodeProps:Te,showLine:z});return fe(s.createElement(Ox.ZP,Object.assign({itemHeight:we,ref:t,virtual:y},ue,{style:Object.assign(Object.assign({},_==null?void 0:_.style),re),prefixCls:ie,className:J()({[`${ie}-icon-hide`]:!A,[`${ie}-block-node`]:Z,[`${ie}-unselectable`]:!H,[`${ie}-rtl`]:f==="rtl"},_==null?void 0:_.className,I,he,ve),direction:f,checkable:W&&s.createElement("span",{className:`${ie}-checkbox-inner`}),selectable:H,switcherIcon:ze,draggable:Se}),k))});const pT=0,Ow=1,gT=2;function Rw(e,t,a){const{key:o,children:f}=a;function y(_){const S=_[o],I=_[f];t(S,_)!==!1&&Rw(I||[],t,a)}e.forEach(y)}function RL(e){let{treeData:t,expandedKeys:a,startKey:o,endKey:f,fieldNames:y}=e;const _=[];let S=pT;if(o&&o===f)return[o];if(!o||!f)return[];function I(A){return A===o||A===f}return Rw(t,A=>{if(S===gT)return!1;if(I(A)){if(_.push(A),S===pT)S=Ow;else if(S===Ow)return S=gT,!1}else S===Ow&&_.push(A);return a.includes(A)},(0,Lt.w$)(y)),_}function $w(e,t,a){const o=(0,Ie.Z)(t),f=[];return Rw(e,(y,_)=>{const S=o.indexOf(y);return S!==-1&&(f.push(_),o.splice(S,1)),!!o.length},(0,Lt.w$)(a)),f}var vT=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};function $L(e){const{isLeaf:t,expanded:a}=e;return t?s.createElement(cT,null):a?s.createElement(qz,null):s.createElement(tL,null)}function yT(e){let{treeData:t,children:a}=e;return t||(0,Lt.zn)(a)}const AL=(e,t)=>{var{defaultExpandAll:a,defaultExpandParent:o,defaultExpandedKeys:f}=e,y=vT(e,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]);const _=s.useRef(null),S=s.useRef(null),I=()=>{const{keyEntities:fe}=(0,Lt.I8)(yT(y));let he;return a?he=Object.keys(fe):o?he=(0,Ew.r7)(y.expandedKeys||f||[],fe):he=y.expandedKeys||f||[],he},[A,z]=s.useState(y.selectedKeys||y.defaultSelectedKeys||[]),[L,F]=s.useState(()=>I());s.useEffect(()=>{"selectedKeys"in y&&z(y.selectedKeys)},[y.selectedKeys]),s.useEffect(()=>{"expandedKeys"in y&&F(y.expandedKeys)},[y.expandedKeys]);const Z=(fe,he)=>{var ve;return"expandedKeys"in y||F(fe),(ve=y.onExpand)===null||ve===void 0?void 0:ve.call(y,fe,he)},k=(fe,he)=>{var ve;const{multiple:ye,fieldNames:we}=y,{node:Se,nativeEvent:ze}=he,{key:Te=""}=Se,Fe=yT(y),Ae=Object.assign(Object.assign({},he),{selected:!0}),Ke=(ze==null?void 0:ze.ctrlKey)||(ze==null?void 0:ze.metaKey),tt=ze==null?void 0:ze.shiftKey;let vt;ye&&Ke?(vt=fe,_.current=Te,S.current=vt,Ae.selectedNodes=$w(Fe,vt,we)):ye&&tt?(vt=Array.from(new Set([].concat((0,Ie.Z)(S.current||[]),(0,Ie.Z)(RL({treeData:Fe,expandedKeys:L,startKey:Te,endKey:_.current,fieldNames:we}))))),Ae.selectedNodes=$w(Fe,vt,we)):(vt=[Te],_.current=Te,S.current=vt,Ae.selectedNodes=$w(Fe,vt,we)),(ve=y.onSelect)===null||ve===void 0||ve.call(y,vt,Ae),"selectedKeys"in y||z(vt)},{getPrefixCls:W,direction:H}=s.useContext(_e.E_),{prefixCls:X,className:Q,showIcon:re=!0,expandAction:ie="click"}=y,ne=vT(y,["prefixCls","className","showIcon","expandAction"]),ae=W("tree",X),ue=J()(`${ae}-directory`,{[`${ae}-directory-rtl`]:H==="rtl"},Q);return s.createElement(mT,Object.assign({icon:$L,ref:t,blockNode:!0},ne,{showIcon:re,expandAction:ie,prefixCls:ae,className:ue,expandedKeys:L,selectedKeys:A,onSelect:k,onExpand:Z}))};var DL=s.forwardRef(AL);const Aw=mT;Aw.DirectoryTree=DL,Aw.TreeNode=Ox.OF;var bT=Aw,_T=e=>{const{value:t,filterSearch:a,tablePrefixCls:o,locale:f,onChange:y}=e;return a?s.createElement("div",{className:`${o}-filter-dropdown-search`},s.createElement(lv.Z,{prefix:s.createElement(qS.Z,null),placeholder:f.filterSearchPlaceholder,onChange:y,value:t,htmlSize:1,className:`${o}-filter-dropdown-search-input`})):null};const zL=e=>{const{keyCode:t}=e;t===_t.Z.ENTER&&e.stopPropagation()};var LL=s.forwardRef((e,t)=>s.createElement("div",{className:e.className,onClick:a=>a.stopPropagation(),onKeyDown:zL,ref:t},e.children));function vv(e){let t=[];return(e||[]).forEach(a=>{let{value:o,children:f}=a;t.push(o),f&&(t=[].concat((0,Ie.Z)(t),(0,Ie.Z)(vv(f))))}),t}function NL(e){return e.some(t=>{let{children:a}=t;return a})}function xT(e,t){return typeof t=="string"||typeof t=="number"?t==null?void 0:t.toString().toLowerCase().includes(e.trim().toLowerCase()):!1}function CT(e){let{filters:t,prefixCls:a,filteredKeys:o,filterMultiple:f,searchValue:y,filterSearch:_}=e;return t.map((S,I)=>{const A=String(S.value);if(S.children)return{key:A||I,label:S.text,popupClassName:`${a}-dropdown-submenu`,children:CT({filters:S.children,prefixCls:a,filteredKeys:o,filterMultiple:f,searchValue:y,filterSearch:_})};const z=f?xg:dw,L={key:S.value!==void 0?A:I,label:s.createElement(s.Fragment,null,s.createElement(z,{checked:o.includes(A)}),s.createElement("span",null,S.text))};return y.trim()?typeof _=="function"?_(y,S)?L:null:xT(y,S.text)?L:null:L})}function Dw(e){return e||[]}var BL=e=>{var t,a,o,f;const{tablePrefixCls:y,prefixCls:_,column:S,dropdownPrefixCls:I,columnKey:A,filterOnClose:z,filterMultiple:L,filterMode:F="menu",filterSearch:Z=!1,filterState:k,triggerFilter:W,locale:H,children:X,getPopupContainer:Q,rootClassName:re}=e,{filterResetToDefaultFilteredValue:ie,defaultFilteredValue:ne,filterDropdownProps:ae={},filterDropdownOpen:ue,filterDropdownVisible:fe,onFilterDropdownVisibleChange:he,onFilterDropdownOpenChange:ve}=S,[ye,we]=s.useState(!1),Se=!!(k&&(!((t=k.filteredKeys)===null||t===void 0)&&t.length||k.forceFiltered)),ze=Pn=>{var Yn;we(Pn),(Yn=ae.onOpenChange)===null||Yn===void 0||Yn.call(ae,Pn),ve==null||ve(Pn),he==null||he(Pn)},Te=(f=(o=(a=ae.open)!==null&&a!==void 0?a:ue)!==null&&o!==void 0?o:fe)!==null&&f!==void 0?f:ye,Fe=k==null?void 0:k.filteredKeys,[Ae,Ke]=jz(Dw(Fe)),tt=Pn=>{let{selectedKeys:Yn}=Pn;Ke(Yn)},vt=(Pn,Yn)=>{let{node:zr,checked:si}=Yn;tt(L?{selectedKeys:Pn}:{selectedKeys:si&&zr.key?[zr.key]:[]})};s.useEffect(()=>{ye&&tt({selectedKeys:Dw(Fe)})},[Fe]);const[bt,lt]=s.useState([]),ct=Pn=>{lt(Pn)},[mt,Rt]=s.useState(""),wt=Pn=>{const{value:Yn}=Pn.target;Rt(Yn)};s.useEffect(()=>{ye||Rt("")},[ye]);const Bt=Pn=>{const Yn=Pn!=null&&Pn.length?Pn:null;if(Yn===null&&(!k||!k.filteredKeys)||(0,mr.Z)(Yn,k==null?void 0:k.filteredKeys,!0))return null;W({column:S,key:A,filteredKeys:Yn})},Ct=()=>{ze(!1),Bt(Ae())},dn=function(){let{confirm:Pn,closeDropdown:Yn}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{confirm:!1,closeDropdown:!1};Pn&&Bt([]),Yn&&ze(!1),Rt(""),Ke(ie?(ne||[]).map(zr=>String(zr)):[])},zn=function(){let{closeDropdown:Pn}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{closeDropdown:!0};Pn&&ze(!1),Bt(Ae())},rn=(Pn,Yn)=>{Yn.source==="trigger"&&(Pn&&Fe!==void 0&&Ke(Dw(Fe)),ze(Pn),!Pn&&!S.filterDropdown&&z&&Ct())},Cn=J()({[`${I}-menu-without-submenu`]:!NL(S.filters||[])}),Vt=Pn=>{if(Pn.target.checked){const Yn=vv(S==null?void 0:S.filters).map(zr=>String(zr));Ke(Yn)}else Ke([])},At=Pn=>{let{filters:Yn}=Pn;return(Yn||[]).map((zr,si)=>{const yi=String(zr.value),Di={title:zr.text,key:zr.value!==void 0?yi:String(si)};return zr.children&&(Di.children=At({filters:zr.children})),Di})},$n=Pn=>{var Yn;return Object.assign(Object.assign({},Pn),{text:Pn.title,value:Pn.key,children:((Yn=Pn.children)===null||Yn===void 0?void 0:Yn.map(zr=>$n(zr)))||[]})};let yn;const{direction:Ir,renderEmpty:cr}=s.useContext(_e.E_);if(typeof S.filterDropdown=="function")yn=S.filterDropdown({prefixCls:`${I}-custom`,setSelectedKeys:Pn=>tt({selectedKeys:Pn}),selectedKeys:Ae(),confirm:zn,clearFilters:dn,filters:S.filters,visible:Te,close:()=>{ze(!1)}});else if(S.filterDropdown)yn=S.filterDropdown;else{const Pn=Ae()||[],Yn=()=>{var si,yi;const Di=(si=cr==null?void 0:cr("Table.filter"))!==null&&si!==void 0?si:s.createElement(US.Z,{image:US.Z.PRESENTED_IMAGE_SIMPLE,description:H.filterEmptyText,styles:{image:{height:24}},style:{margin:0,padding:"16px 0"}});if((S.filters||[]).length===0)return Di;if(F==="tree")return s.createElement(s.Fragment,null,s.createElement(_T,{filterSearch:Z,value:mt,onChange:wt,tablePrefixCls:y,locale:H}),s.createElement("div",{className:`${y}-filter-dropdown-tree`},L?s.createElement(xg,{checked:Pn.length===vv(S.filters).length,indeterminate:Pn.length>0&&Pn.length<vv(S.filters).length,className:`${y}-filter-dropdown-checkall`,onChange:Vt},(yi=H==null?void 0:H.filterCheckall)!==null&&yi!==void 0?yi:H==null?void 0:H.filterCheckAll):null,s.createElement(bT,{checkable:!0,selectable:!1,blockNode:!0,multiple:L,checkStrictly:!L,className:`${I}-menu`,onCheck:vt,checkedKeys:Pn,selectedKeys:Pn,showIcon:!1,treeData:At({filters:S.filters}),autoExpandParent:!0,defaultExpandAll:!0,filterTreeNode:mt.trim()?ai=>typeof Z=="function"?Z(mt,$n(ai)):xT(mt,ai.title):void 0})));const Eo=CT({filters:S.filters||[],filterSearch:Z,prefixCls:_,filteredKeys:Ae(),filterMultiple:L,searchValue:mt}),gi=Eo.every(ai=>ai===null);return s.createElement(s.Fragment,null,s.createElement(_T,{filterSearch:Z,value:mt,onChange:wt,tablePrefixCls:y,locale:H}),gi?Di:s.createElement(ty,{selectable:!0,multiple:L,prefixCls:`${I}-menu`,className:Cn,onSelect:tt,onDeselect:tt,selectedKeys:Pn,getPopupContainer:Q,openKeys:bt,onOpenChange:ct,items:Eo}))},zr=()=>ie?(0,mr.Z)((ne||[]).map(si=>String(si)),Pn,!0):Pn.length===0;yn=s.createElement(s.Fragment,null,Yn(),s.createElement("div",{className:`${_}-dropdown-btns`},s.createElement(ks,{type:"link",size:"small",disabled:zr(),onClick:()=>dn()},H.filterReset),s.createElement(ks,{type:"primary",size:"small",onClick:Ct},H.filterConfirm)))}S.filterDropdown&&(yn=s.createElement(Zp,{selectable:void 0},yn)),yn=s.createElement(LL,{className:`${_}-dropdown`},yn);const qn=rw({trigger:["click"],placement:Ir==="rtl"?"bottomLeft":"bottomRight",children:(()=>{let Pn;return typeof S.filterIcon=="function"?Pn=S.filterIcon(Se):S.filterIcon?Pn=S.filterIcon:Pn=s.createElement(kz,null),s.createElement("span",{role:"button",tabIndex:-1,className:J()(`${_}-trigger`,{active:Se}),onClick:Yn=>{Yn.stopPropagation()}},Pn)})(),getPopupContainer:Q},Object.assign(Object.assign({},ae),{rootClassName:J()(re,ae.rootClassName),open:Te,onOpenChange:rn,dropdownRender:()=>typeof(ae==null?void 0:ae.dropdownRender)=="function"?ae.dropdownRender(yn):yn}));return s.createElement("div",{className:`${_}-column`},s.createElement("span",{className:`${y}-column-title`},X),s.createElement(lx,Object.assign({},qn)))};const zw=(e,t,a)=>{let o=[];return(e||[]).forEach((f,y)=>{var _;const S=gv(y,a);if(f.filters||"filterDropdown"in f||"onFilter"in f)if("filteredValue"in f){let I=f.filteredValue;"filterDropdown"in f||(I=(_=I==null?void 0:I.map(String))!==null&&_!==void 0?_:I),o.push({column:f,key:ap(f,S),filteredKeys:I,forceFiltered:f.filtered})}else o.push({column:f,key:ap(f,S),filteredKeys:t&&f.defaultFilteredValue?f.defaultFilteredValue:void 0,forceFiltered:f.filtered});"children"in f&&(o=[].concat((0,Ie.Z)(o),(0,Ie.Z)(zw(f.children,t,S))))}),o};function ST(e,t,a,o,f,y,_,S,I){return a.map((A,z)=>{const L=gv(z,S),{filterOnClose:F=!0,filterMultiple:Z=!0,filterMode:k,filterSearch:W}=A;let H=A;if(H.filters||H.filterDropdown){const X=ap(H,L),Q=o.find(re=>{let{key:ie}=re;return X===ie});H=Object.assign(Object.assign({},H),{title:re=>s.createElement(BL,{tablePrefixCls:e,prefixCls:`${e}-filter`,dropdownPrefixCls:t,column:H,columnKey:X,filterState:Q,filterOnClose:F,filterMultiple:Z,filterMode:k,filterSearch:W,triggerFilter:y,locale:f,getPopupContainer:_,rootClassName:I},Px(A.title,re))})}return"children"in H&&(H=Object.assign(Object.assign({},H),{children:ST(e,t,H.children,o,f,y,_,L,I)})),H})}const wT=e=>{const t={};return e.forEach(a=>{let{key:o,filteredKeys:f,column:y}=a;const _=o,{filters:S,filterDropdown:I}=y;if(I)t[_]=f||null;else if(Array.isArray(f)){const A=vv(S);t[_]=A.filter(z=>f.includes(String(z)))}else t[_]=null}),t},Lw=(e,t,a)=>t.reduce((f,y)=>{const{column:{onFilter:_,filters:S},filteredKeys:I}=y;return _&&I&&I.length?f.map(A=>Object.assign({},A)).filter(A=>I.some(z=>{const L=vv(S),F=L.findIndex(k=>String(k)===String(z)),Z=F!==-1?L[F]:z;return A[a]&&(A[a]=Lw(A[a],t,a)),_(Z,A)})):f},e),ET=e=>e.flatMap(t=>"children"in t?[t].concat((0,Ie.Z)(ET(t.children||[]))):[t]);var FL=e=>{const{prefixCls:t,dropdownPrefixCls:a,mergedColumns:o,onFilterChange:f,getPopupContainer:y,locale:_,rootClassName:S}=e,I=(0,io.ln)("Table"),A=s.useMemo(()=>ET(o||[]),[o]),[z,L]=s.useState(()=>zw(A,!0)),F=s.useMemo(()=>{const H=zw(A,!1);if(H.length===0)return H;let X=!0,Q=!0;if(H.forEach(re=>{let{filteredKeys:ie}=re;ie!==void 0?X=!1:Q=!1}),X){const re=(A||[]).map((ie,ne)=>ap(ie,gv(ne)));return z.filter(ie=>{let{key:ne}=ie;return re.includes(ne)}).map(ie=>{const ne=A[re.findIndex(ae=>ae===ie.key)];return Object.assign(Object.assign({},ie),{column:Object.assign(Object.assign({},ie.column),ne),forceFiltered:ne.filtered})})}return H},[A,z]),Z=s.useMemo(()=>wT(F),[F]),k=H=>{const X=F.filter(Q=>{let{key:re}=Q;return re!==H.key});X.push(H),L(X),f(wT(X),X)};return[H=>ST(t,a,H,F,_,k,y,void 0,S),F,Z]},kL=(e,t,a)=>{const o=s.useRef({});function f(y){var _;if(!o.current||o.current.data!==e||o.current.childrenColumnName!==t||o.current.getRowKey!==a){let I=function(A){A.forEach((z,L)=>{const F=a(z,L);S.set(F,z),z&&typeof z=="object"&&t in z&&I(z[t]||[])})};const S=new Map;I(e),o.current={data:e,childrenColumnName:t,kvMap:S,getRowKey:a}}return(_=o.current.kvMap)===null||_===void 0?void 0:_.get(y)}return[f]},jL=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const IT=10;function ZL(e,t){const a={current:e.current,pageSize:e.pageSize};return Object.keys(t&&typeof t=="object"?t:{}).forEach(f=>{const y=e[f];typeof y!="function"&&(a[f]=y)}),a}function VL(e,t,a){const o=a&&typeof a=="object"?a:{},{total:f=0}=o,y=jL(o,["total"]),[_,S]=(0,s.useState)(()=>({current:"defaultCurrent"in y?y.defaultCurrent:1,pageSize:"defaultPageSize"in y?y.defaultPageSize:IT})),I=rw(_,y,{total:f>0?f:e}),A=Math.ceil((f||e)/I.pageSize);I.current>A&&(I.current=A||1);const z=(F,Z)=>{S({current:F!=null?F:1,pageSize:Z||I.pageSize})},L=(F,Z)=>{var k;a&&((k=a.onChange)===null||k===void 0||k.call(a,F,Z)),z(F,Z),t(F,Z||(I==null?void 0:I.pageSize))};return a===!1?[{},()=>{}]:[Object.assign(Object.assign({},I),{onChange:L}),z]}var HL=VL,UL={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"},WL=UL,GL=function(t,a){return s.createElement(En.Z,(0,Ue.Z)({},t,{ref:a,icon:WL}))},XL=s.forwardRef(GL),KL=XL,qL={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"}}]},name:"caret-up",theme:"outlined"},YL=qL,JL=function(t,a){return s.createElement(En.Z,(0,Ue.Z)({},t,{ref:a,icon:YL}))},QL=s.forwardRef(JL),eN=QL;const Rx="ascend",Nw="descend",$x=e=>typeof e.sorter=="object"&&typeof e.sorter.multiple=="number"?e.sorter.multiple:!1,TT=e=>typeof e=="function"?e:e&&typeof e=="object"&&e.compare?e.compare:!1,tN=(e,t)=>t?e[e.indexOf(t)+1]:e[0],Bw=(e,t,a)=>{let o=[];const f=(y,_)=>{o.push({column:y,key:ap(y,_),multiplePriority:$x(y),sortOrder:y.sortOrder})};return(e||[]).forEach((y,_)=>{const S=gv(_,a);y.children?("sortOrder"in y&&f(y,S),o=[].concat((0,Ie.Z)(o),(0,Ie.Z)(Bw(y.children,t,S)))):y.sorter&&("sortOrder"in y?f(y,S):t&&y.defaultSortOrder&&o.push({column:y,key:ap(y,S),multiplePriority:$x(y),sortOrder:y.defaultSortOrder}))}),o},MT=(e,t,a,o,f,y,_,S)=>(t||[]).map((A,z)=>{const L=gv(z,S);let F=A;if(F.sorter){const Z=F.sortDirections||f,k=F.showSorterTooltip===void 0?_:F.showSorterTooltip,W=ap(F,L),H=a.find(he=>{let{key:ve}=he;return ve===W}),X=H?H.sortOrder:null,Q=tN(Z,X);let re;if(A.sortIcon)re=A.sortIcon({sortOrder:X});else{const he=Z.includes(Rx)&&s.createElement(eN,{className:J()(`${e}-column-sorter-up`,{active:X===Rx})}),ve=Z.includes(Nw)&&s.createElement(KL,{className:J()(`${e}-column-sorter-down`,{active:X===Nw})});re=s.createElement("span",{className:J()(`${e}-column-sorter`,{[`${e}-column-sorter-full`]:!!(he&&ve)})},s.createElement("span",{className:`${e}-column-sorter-inner`,"aria-hidden":"true"},he,ve))}const{cancelSort:ie,triggerAsc:ne,triggerDesc:ae}=y||{};let ue=ie;Q===Nw?ue=ae:Q===Rx&&(ue=ne);const fe=typeof k=="object"?Object.assign({title:ue},k):{title:ue};F=Object.assign(Object.assign({},F),{className:J()(F.className,{[`${e}-column-sort`]:X}),title:he=>{const ve=`${e}-column-sorters`,ye=s.createElement("span",{className:`${e}-column-title`},Px(A.title,he)),we=s.createElement("div",{className:ve},ye,re);return k?typeof k!="boolean"&&(k==null?void 0:k.target)==="sorter-icon"?s.createElement("div",{className:`${ve} ${e}-column-sorters-tooltip-target-sorter`},ye,s.createElement(su.Z,Object.assign({},fe),re)):s.createElement(su.Z,Object.assign({},fe),we):we},onHeaderCell:he=>{var ve;const ye=((ve=A.onHeaderCell)===null||ve===void 0?void 0:ve.call(A,he))||{},we=ye.onClick,Se=ye.onKeyDown;ye.onClick=Fe=>{o({column:A,key:W,sortOrder:Q,multiplePriority:$x(A)}),we==null||we(Fe)},ye.onKeyDown=Fe=>{Fe.keyCode===_t.Z.ENTER&&(o({column:A,key:W,sortOrder:Q,multiplePriority:$x(A)}),Se==null||Se(Fe))};const ze=zz(A.title,{}),Te=ze==null?void 0:ze.toString();return X&&(ye["aria-sort"]=X==="ascend"?"ascending":"descending"),ye["aria-label"]=Te||"",ye.className=J()(ye.className,`${e}-column-has-sorters`),ye.tabIndex=0,A.ellipsis&&(ye.title=(ze!=null?ze:"").toString()),ye}})}return"children"in F&&(F=Object.assign(Object.assign({},F),{children:MT(e,F.children,a,o,f,y,_,L)})),F}),PT=e=>{const{column:t,sortOrder:a}=e;return{column:t,order:a,field:t.dataIndex,columnKey:t.key}},OT=e=>{const t=e.filter(a=>{let{sortOrder:o}=a;return o}).map(PT);if(t.length===0&&e.length){const a=e.length-1;return Object.assign(Object.assign({},PT(e[a])),{column:void 0,order:void 0,field:void 0,columnKey:void 0})}return t.length<=1?t[0]||{}:t},Fw=(e,t,a)=>{const o=t.slice().sort((_,S)=>S.multiplePriority-_.multiplePriority),f=e.slice(),y=o.filter(_=>{let{column:{sorter:S},sortOrder:I}=_;return TT(S)&&I});return y.length?f.sort((_,S)=>{for(let I=0;I<y.length;I+=1){const A=y[I],{column:{sorter:z},sortOrder:L}=A,F=TT(z);if(F&&L){const Z=F(_,S,L);if(Z!==0)return L===Rx?Z:-Z}}return 0}).map(_=>{const S=_[a];return S?Object.assign(Object.assign({},_),{[a]:Fw(S,t,a)}):_}):f};var nN=e=>{const{prefixCls:t,mergedColumns:a,sortDirections:o,tableLocale:f,showSorterTooltip:y,onSorterChange:_}=e,[S,I]=s.useState(Bw(a,!0)),A=(W,H)=>{const X=[];return W.forEach((Q,re)=>{const ie=gv(re,H);if(X.push(ap(Q,ie)),Array.isArray(Q.children)){const ne=A(Q.children,ie);X.push.apply(X,(0,Ie.Z)(ne))}}),X},z=s.useMemo(()=>{let W=!0;const H=Bw(a,!1);if(!H.length){const ie=A(a);return S.filter(ne=>{let{key:ae}=ne;return ie.includes(ae)})}const X=[];function Q(ie){W?X.push(ie):X.push(Object.assign(Object.assign({},ie),{sortOrder:null}))}let re=null;return H.forEach(ie=>{re===null?(Q(ie),ie.sortOrder&&(ie.multiplePriority===!1?W=!1:re=!0)):(re&&ie.multiplePriority!==!1||(W=!1),Q(ie))}),X},[a,S]),L=s.useMemo(()=>{var W,H;const X=z.map(Q=>{let{column:re,sortOrder:ie}=Q;return{column:re,order:ie}});return{sortColumns:X,sortColumn:(W=X[0])===null||W===void 0?void 0:W.column,sortOrder:(H=X[0])===null||H===void 0?void 0:H.order}},[z]),F=W=>{let H;W.multiplePriority===!1||!z.length||z[0].multiplePriority===!1?H=[W]:H=[].concat((0,Ie.Z)(z.filter(X=>{let{key:Q}=X;return Q!==W.key})),[W]),I(H),_(OT(H),H)};return[W=>MT(t,W,z,F,o,f,y),z,L,()=>OT(z)]};const RT=(e,t)=>e.map(o=>{const f=Object.assign({},o);return f.title=Px(o.title,t),"children"in f&&(f.children=RT(f.children,t)),f});var rN=e=>[s.useCallback(a=>RT(a,e),[e])],iN=rT((e,t)=>{const{_renderTimes:a}=e,{_renderTimes:o}=t;return a!==o}),oN=aT((e,t)=>{const{_renderTimes:a}=e,{_renderTimes:o}=t;return a!==o}),aN=e=>{const{componentCls:t,lineWidth:a,lineType:o,tableBorderColor:f,tableHeaderBg:y,tablePaddingVertical:_,tablePaddingHorizontal:S,calc:I}=e,A=`${(0,me.bf)(a)} ${o} ${f}`,z=(L,F,Z)=>({[`&${t}-${L}`]:{[`> ${t}-container`]:{[`> ${t}-content, > ${t}-body`]:{"\n            > table > tbody > tr > th,\n            > table > tbody > tr > td\n          ":{[`> ${t}-expanded-row-fixed`]:{margin:`${(0,me.bf)(I(F).mul(-1).equal())}
              ${(0,me.bf)(I(I(Z).add(a)).mul(-1).equal())}`}}}}}});return{[`${t}-wrapper`]:{[`${t}${t}-bordered`]:Object.assign(Object.assign(Object.assign({[`> ${t}-title`]:{border:A,borderBottom:0},[`> ${t}-container`]:{borderInlineStart:A,borderTop:A,[`
            > ${t}-content,
            > ${t}-header,
            > ${t}-body,
            > ${t}-summary
          `]:{"> table":{"\n                > thead > tr > th,\n                > thead > tr > td,\n                > tbody > tr > th,\n                > tbody > tr > td,\n                > tfoot > tr > th,\n                > tfoot > tr > td\n              ":{borderInlineEnd:A},"> thead":{"> tr:not(:last-child) > th":{borderBottom:A},"> tr > th::before":{backgroundColor:"transparent !important"}},"\n                > thead > tr,\n                > tbody > tr,\n                > tfoot > tr\n              ":{[`> ${t}-cell-fix-right-first::after`]:{borderInlineEnd:A}},"\n                > tbody > tr > th,\n                > tbody > tr > td\n              ":{[`> ${t}-expanded-row-fixed`]:{margin:`${(0,me.bf)(I(_).mul(-1).equal())} ${(0,me.bf)(I(I(S).add(a)).mul(-1).equal())}`,"&::after":{position:"absolute",top:0,insetInlineEnd:a,bottom:0,borderInlineEnd:A,content:'""'}}}}}},[`&${t}-scroll-horizontal`]:{[`> ${t}-container > ${t}-body`]:{"> table > tbody":{[`
                > tr${t}-expanded-row,
                > tr${t}-placeholder
              `]:{"> th, > td":{borderInlineEnd:0}}}}}},z("middle",e.tablePaddingVerticalMiddle,e.tablePaddingHorizontalMiddle)),z("small",e.tablePaddingVerticalSmall,e.tablePaddingHorizontalSmall)),{[`> ${t}-footer`]:{border:A,borderTop:0}}),[`${t}-cell`]:{[`${t}-container:first-child`]:{borderTop:0},"&-scrollbar:not([rowspan])":{boxShadow:`0 ${(0,me.bf)(a)} 0 ${(0,me.bf)(a)} ${y}`}},[`${t}-bordered ${t}-cell-scrollbar`]:{borderInlineEnd:A}}}},sN=e=>{const{componentCls:t}=e;return{[`${t}-wrapper`]:{[`${t}-cell-ellipsis`]:Object.assign(Object.assign({},nn.vS),{wordBreak:"keep-all",[`
          &${t}-cell-fix-left-last,
          &${t}-cell-fix-right-first
        `]:{overflow:"visible",[`${t}-cell-content`]:{display:"block",overflow:"hidden",textOverflow:"ellipsis"}},[`${t}-column-title`]:{overflow:"hidden",textOverflow:"ellipsis",wordBreak:"keep-all"}})}}},lN=e=>{const{componentCls:t}=e;return{[`${t}-wrapper`]:{[`${t}-tbody > tr${t}-placeholder`]:{textAlign:"center",color:e.colorTextDisabled,"\n          &:hover > th,\n          &:hover > td,\n        ":{background:e.colorBgContainer}}}}},cN=e=>{const{componentCls:t,antCls:a,motionDurationSlow:o,lineWidth:f,paddingXS:y,lineType:_,tableBorderColor:S,tableExpandIconBg:I,tableExpandColumnWidth:A,borderRadius:z,tablePaddingVertical:L,tablePaddingHorizontal:F,tableExpandedRowBg:Z,paddingXXS:k,expandIconMarginTop:W,expandIconSize:H,expandIconHalfInner:X,expandIconScale:Q,calc:re}=e,ie=`${(0,me.bf)(f)} ${_} ${S}`,ne=re(k).sub(f).equal();return{[`${t}-wrapper`]:{[`${t}-expand-icon-col`]:{width:A},[`${t}-row-expand-icon-cell`]:{textAlign:"center",[`${t}-row-expand-icon`]:{display:"inline-flex",float:"none",verticalAlign:"sub"}},[`${t}-row-indent`]:{height:1,float:"left"},[`${t}-row-expand-icon`]:Object.assign(Object.assign({},(0,nn.Nd)(e)),{position:"relative",float:"left",width:H,height:H,color:"inherit",lineHeight:(0,me.bf)(H),background:I,border:ie,borderRadius:z,transform:`scale(${Q})`,"&:focus, &:hover, &:active":{borderColor:"currentcolor"},"&::before, &::after":{position:"absolute",background:"currentcolor",transition:`transform ${o} ease-out`,content:'""'},"&::before":{top:X,insetInlineEnd:ne,insetInlineStart:ne,height:f},"&::after":{top:ne,bottom:ne,insetInlineStart:X,width:f,transform:"rotate(90deg)"},"&-collapsed::before":{transform:"rotate(-180deg)"},"&-collapsed::after":{transform:"rotate(0deg)"},"&-spaced":{"&::before, &::after":{display:"none",content:"none"},background:"transparent",border:0,visibility:"hidden"}}),[`${t}-row-indent + ${t}-row-expand-icon`]:{marginTop:W,marginInlineEnd:y},[`tr${t}-expanded-row`]:{"&, &:hover":{"> th, > td":{background:Z}},[`${a}-descriptions-view`]:{display:"flex",table:{flex:"auto",width:"100%"}}},[`${t}-expanded-row-fixed`]:{position:"relative",margin:`${(0,me.bf)(re(L).mul(-1).equal())} ${(0,me.bf)(re(F).mul(-1).equal())}`,padding:`${(0,me.bf)(L)} ${(0,me.bf)(F)}`}}}},uN=e=>{const{componentCls:t,antCls:a,iconCls:o,tableFilterDropdownWidth:f,tableFilterDropdownSearchWidth:y,paddingXXS:_,paddingXS:S,colorText:I,lineWidth:A,lineType:z,tableBorderColor:L,headerIconColor:F,fontSizeSM:Z,tablePaddingHorizontal:k,borderRadius:W,motionDurationSlow:H,colorTextDescription:X,colorPrimary:Q,tableHeaderFilterActiveBg:re,colorTextDisabled:ie,tableFilterDropdownBg:ne,tableFilterDropdownHeight:ae,controlItemBgHover:ue,controlItemBgActive:fe,boxShadowSecondary:he,filterDropdownMenuBg:ve,calc:ye}=e,we=`${a}-dropdown`,Se=`${t}-filter-dropdown`,ze=`${a}-tree`,Te=`${(0,me.bf)(A)} ${z} ${L}`;return[{[`${t}-wrapper`]:{[`${t}-filter-column`]:{display:"flex",justifyContent:"space-between"},[`${t}-filter-trigger`]:{position:"relative",display:"flex",alignItems:"center",marginBlock:ye(_).mul(-1).equal(),marginInline:`${(0,me.bf)(_)} ${(0,me.bf)(ye(k).div(2).mul(-1).equal())}`,padding:`0 ${(0,me.bf)(_)}`,color:F,fontSize:Z,borderRadius:W,cursor:"pointer",transition:`all ${H}`,"&:hover":{color:X,background:re},"&.active":{color:Q}}}},{[`${a}-dropdown`]:{[Se]:Object.assign(Object.assign({},(0,nn.Wf)(e)),{minWidth:f,backgroundColor:ne,borderRadius:W,boxShadow:he,overflow:"hidden",[`${we}-menu`]:{maxHeight:ae,overflowX:"hidden",border:0,boxShadow:"none",borderRadius:"unset",backgroundColor:ve,"&:empty::after":{display:"block",padding:`${(0,me.bf)(S)} 0`,color:ie,fontSize:Z,textAlign:"center",content:'"Not Found"'}},[`${Se}-tree`]:{paddingBlock:`${(0,me.bf)(S)} 0`,paddingInline:S,[ze]:{padding:0},[`${ze}-treenode ${ze}-node-content-wrapper:hover`]:{backgroundColor:ue},[`${ze}-treenode-checkbox-checked ${ze}-node-content-wrapper`]:{"&, &:hover":{backgroundColor:fe}}},[`${Se}-search`]:{padding:S,borderBottom:Te,"&-input":{input:{minWidth:y},[o]:{color:ie}}},[`${Se}-checkall`]:{width:"100%",marginBottom:_,marginInlineStart:_},[`${Se}-btns`]:{display:"flex",justifyContent:"space-between",padding:`${(0,me.bf)(ye(S).sub(A).equal())} ${(0,me.bf)(S)}`,overflow:"hidden",borderTop:Te}})}},{[`${a}-dropdown ${Se}, ${Se}-submenu`]:{[`${a}-checkbox-wrapper + span`]:{paddingInlineStart:S,color:I},"> ul":{maxHeight:"calc(100vh - 130px)",overflowX:"hidden",overflowY:"auto"}}}]},dN=e=>{const{componentCls:t,lineWidth:a,colorSplit:o,motionDurationSlow:f,zIndexTableFixed:y,tableBg:_,zIndexTableSticky:S,calc:I}=e,A=o;return{[`${t}-wrapper`]:{[`
        ${t}-cell-fix-left,
        ${t}-cell-fix-right
      `]:{position:"sticky !important",zIndex:y,background:_},[`
        ${t}-cell-fix-left-first::after,
        ${t}-cell-fix-left-last::after
      `]:{position:"absolute",top:0,right:{_skip_check_:!0,value:0},bottom:I(a).mul(-1).equal(),width:30,transform:"translateX(100%)",transition:`box-shadow ${f}`,content:'""',pointerEvents:"none"},[`${t}-cell-fix-left-all::after`]:{display:"none"},[`
        ${t}-cell-fix-right-first::after,
        ${t}-cell-fix-right-last::after
      `]:{position:"absolute",top:0,bottom:I(a).mul(-1).equal(),left:{_skip_check_:!0,value:0},width:30,transform:"translateX(-100%)",transition:`box-shadow ${f}`,content:'""',pointerEvents:"none"},[`${t}-container`]:{position:"relative","&::before, &::after":{position:"absolute",top:0,bottom:0,zIndex:I(S).add(1).equal({unit:!1}),width:30,transition:`box-shadow ${f}`,content:'""',pointerEvents:"none"},"&::before":{insetInlineStart:0},"&::after":{insetInlineEnd:0}},[`${t}-ping-left`]:{[`&:not(${t}-has-fix-left) ${t}-container::before`]:{boxShadow:`inset 10px 0 8px -8px ${A}`},[`
          ${t}-cell-fix-left-first::after,
          ${t}-cell-fix-left-last::after
        `]:{boxShadow:`inset 10px 0 8px -8px ${A}`},[`${t}-cell-fix-left-last::before`]:{backgroundColor:"transparent !important"}},[`${t}-ping-right`]:{[`&:not(${t}-has-fix-right) ${t}-container::after`]:{boxShadow:`inset -10px 0 8px -8px ${A}`},[`
          ${t}-cell-fix-right-first::after,
          ${t}-cell-fix-right-last::after
        `]:{boxShadow:`inset -10px 0 8px -8px ${A}`}},[`${t}-fixed-column-gapped`]:{[`
        ${t}-cell-fix-left-first::after,
        ${t}-cell-fix-left-last::after,
        ${t}-cell-fix-right-first::after,
        ${t}-cell-fix-right-last::after
      `]:{boxShadow:"none"}}}}},fN=e=>{const{componentCls:t,antCls:a,margin:o}=e;return{[`${t}-wrapper`]:{[`${t}-pagination${a}-pagination`]:{margin:`${(0,me.bf)(o)} 0`},[`${t}-pagination`]:{display:"flex",flexWrap:"wrap",rowGap:e.paddingXS,"> *":{flex:"none"},"&-left":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-right":{justifyContent:"flex-end"}}}}},hN=e=>{const{componentCls:t,tableRadius:a}=e;return{[`${t}-wrapper`]:{[t]:{[`${t}-title, ${t}-header`]:{borderRadius:`${(0,me.bf)(a)} ${(0,me.bf)(a)} 0 0`},[`${t}-title + ${t}-container`]:{borderStartStartRadius:0,borderStartEndRadius:0,[`${t}-header, table`]:{borderRadius:0},"table > thead > tr:first-child":{"th:first-child, th:last-child, td:first-child, td:last-child":{borderRadius:0}}},"&-container":{borderStartStartRadius:a,borderStartEndRadius:a,"table > thead > tr:first-child":{"> *:first-child":{borderStartStartRadius:a},"> *:last-child":{borderStartEndRadius:a}}},"&-footer":{borderRadius:`0 0 ${(0,me.bf)(a)} ${(0,me.bf)(a)}`}}}}},mN=e=>{const{componentCls:t}=e;return{[`${t}-wrapper-rtl`]:{direction:"rtl",table:{direction:"rtl"},[`${t}-pagination-left`]:{justifyContent:"flex-end"},[`${t}-pagination-right`]:{justifyContent:"flex-start"},[`${t}-row-expand-icon`]:{float:"right","&::after":{transform:"rotate(-90deg)"},"&-collapsed::before":{transform:"rotate(180deg)"},"&-collapsed::after":{transform:"rotate(0deg)"}},[`${t}-container`]:{"&::before":{insetInlineStart:"unset",insetInlineEnd:0},"&::after":{insetInlineStart:0,insetInlineEnd:"unset"},[`${t}-row-indent`]:{float:"right"}}}}},pN=e=>{const{componentCls:t,antCls:a,iconCls:o,fontSizeIcon:f,padding:y,paddingXS:_,headerIconColor:S,headerIconHoverColor:I,tableSelectionColumnWidth:A,tableSelectedRowBg:z,tableSelectedRowHoverBg:L,tableRowHoverBg:F,tablePaddingHorizontal:Z,calc:k}=e;return{[`${t}-wrapper`]:{[`${t}-selection-col`]:{width:A,[`&${t}-selection-col-with-dropdown`]:{width:k(A).add(f).add(k(y).div(4)).equal()}},[`${t}-bordered ${t}-selection-col`]:{width:k(A).add(k(_).mul(2)).equal(),[`&${t}-selection-col-with-dropdown`]:{width:k(A).add(f).add(k(y).div(4)).add(k(_).mul(2)).equal()}},[`
        table tr th${t}-selection-column,
        table tr td${t}-selection-column,
        ${t}-selection-column
      `]:{paddingInlineEnd:e.paddingXS,paddingInlineStart:e.paddingXS,textAlign:"center",[`${a}-radio-wrapper`]:{marginInlineEnd:0}},[`table tr th${t}-selection-column${t}-cell-fix-left`]:{zIndex:k(e.zIndexTableFixed).add(1).equal({unit:!1})},[`table tr th${t}-selection-column::after`]:{backgroundColor:"transparent !important"},[`${t}-selection`]:{position:"relative",display:"inline-flex",flexDirection:"column"},[`${t}-selection-extra`]:{position:"absolute",top:0,zIndex:1,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,marginInlineStart:"100%",paddingInlineStart:(0,me.bf)(k(Z).div(4).equal()),[o]:{color:S,fontSize:f,verticalAlign:"baseline","&:hover":{color:I}}},[`${t}-tbody`]:{[`${t}-row`]:{[`&${t}-row-selected`]:{[`> ${t}-cell`]:{background:z,"&-row-hover":{background:L}}},[`> ${t}-cell-row-hover`]:{background:F}}}}}},gN=e=>{const{componentCls:t,tableExpandColumnWidth:a,calc:o}=e,f=(y,_,S,I)=>({[`${t}${t}-${y}`]:{fontSize:I,[`
        ${t}-title,
        ${t}-footer,
        ${t}-cell,
        ${t}-thead > tr > th,
        ${t}-tbody > tr > th,
        ${t}-tbody > tr > td,
        tfoot > tr > th,
        tfoot > tr > td
      `]:{padding:`${(0,me.bf)(_)} ${(0,me.bf)(S)}`},[`${t}-filter-trigger`]:{marginInlineEnd:(0,me.bf)(o(S).div(2).mul(-1).equal())},[`${t}-expanded-row-fixed`]:{margin:`${(0,me.bf)(o(_).mul(-1).equal())} ${(0,me.bf)(o(S).mul(-1).equal())}`},[`${t}-tbody`]:{[`${t}-wrapper:only-child ${t}`]:{marginBlock:(0,me.bf)(o(_).mul(-1).equal()),marginInline:`${(0,me.bf)(o(a).sub(S).equal())} ${(0,me.bf)(o(S).mul(-1).equal())}`}},[`${t}-selection-extra`]:{paddingInlineStart:(0,me.bf)(o(S).div(4).equal())}}});return{[`${t}-wrapper`]:Object.assign(Object.assign({},f("middle",e.tablePaddingVerticalMiddle,e.tablePaddingHorizontalMiddle,e.tableFontSizeMiddle)),f("small",e.tablePaddingVerticalSmall,e.tablePaddingHorizontalSmall,e.tableFontSizeSmall))}},vN=e=>{const{componentCls:t,marginXXS:a,fontSizeIcon:o,headerIconColor:f,headerIconHoverColor:y}=e;return{[`${t}-wrapper`]:{[`${t}-thead th${t}-column-has-sorters`]:{outline:"none",cursor:"pointer",transition:`all ${e.motionDurationSlow}, left 0s`,"&:hover":{background:e.tableHeaderSortHoverBg,"&::before":{backgroundColor:"transparent !important"}},"&:focus-visible":{color:e.colorPrimary},[`
          &${t}-cell-fix-left:hover,
          &${t}-cell-fix-right:hover
        `]:{background:e.tableFixedHeaderSortActiveBg}},[`${t}-thead th${t}-column-sort`]:{background:e.tableHeaderSortBg,"&::before":{backgroundColor:"transparent !important"}},[`td${t}-column-sort`]:{background:e.tableBodySortBg},[`${t}-column-title`]:{position:"relative",zIndex:1,flex:1,minWidth:0},[`${t}-column-sorters`]:{display:"flex",flex:"auto",alignItems:"center",justifyContent:"space-between","&::after":{position:"absolute",inset:0,width:"100%",height:"100%",content:'""'}},[`${t}-column-sorters-tooltip-target-sorter`]:{"&::after":{content:"none"}},[`${t}-column-sorter`]:{marginInlineStart:a,color:f,fontSize:0,transition:`color ${e.motionDurationSlow}`,"&-inner":{display:"inline-flex",flexDirection:"column",alignItems:"center"},"&-up, &-down":{fontSize:o,"&.active":{color:e.colorPrimary}},[`${t}-column-sorter-up + ${t}-column-sorter-down`]:{marginTop:"-0.3em"}},[`${t}-column-sorters:hover ${t}-column-sorter`]:{color:y}}}},yN=e=>{const{componentCls:t,opacityLoading:a,tableScrollThumbBg:o,tableScrollThumbBgHover:f,tableScrollThumbSize:y,tableScrollBg:_,zIndexTableSticky:S,stickyScrollBarBorderRadius:I,lineWidth:A,lineType:z,tableBorderColor:L}=e,F=`${(0,me.bf)(A)} ${z} ${L}`;return{[`${t}-wrapper`]:{[`${t}-sticky`]:{"&-holder":{position:"sticky",zIndex:S,background:e.colorBgContainer},"&-scroll":{position:"sticky",bottom:0,height:`${(0,me.bf)(y)} !important`,zIndex:S,display:"flex",alignItems:"center",background:_,borderTop:F,opacity:a,"&:hover":{transformOrigin:"center bottom"},"&-bar":{height:y,backgroundColor:o,borderRadius:I,transition:`all ${e.motionDurationSlow}, transform none`,position:"absolute",bottom:0,"&:hover, &-active":{backgroundColor:f}}}}}}},$T=e=>{const{componentCls:t,lineWidth:a,tableBorderColor:o,calc:f}=e,y=`${(0,me.bf)(a)} ${e.lineType} ${o}`;return{[`${t}-wrapper`]:{[`${t}-summary`]:{position:"relative",zIndex:e.zIndexTableFixed,background:e.tableBg,"> tr":{"> th, > td":{borderBottom:y}}},[`div${t}-summary`]:{boxShadow:`0 ${(0,me.bf)(f(a).mul(-1).equal())} 0 ${o}`}}}},bN=e=>{const{componentCls:t,motionDurationMid:a,lineWidth:o,lineType:f,tableBorderColor:y,calc:_}=e,S=`${(0,me.bf)(o)} ${f} ${y}`,I=`${t}-expanded-row-cell`;return{[`${t}-wrapper`]:{[`${t}-tbody-virtual`]:{[`${t}-tbody-virtual-holder-inner`]:{[`
            & > ${t}-row, 
            & > div:not(${t}-row) > ${t}-row
          `]:{display:"flex",boxSizing:"border-box",width:"100%"}},[`${t}-cell`]:{borderBottom:S,transition:`background ${a}`},[`${t}-expanded-row`]:{[`${I}${I}-fixed`]:{position:"sticky",insetInlineStart:0,overflow:"hidden",width:`calc(var(--virtual-width) - ${(0,me.bf)(o)})`,borderInlineEnd:"none"}}},[`${t}-bordered`]:{[`${t}-tbody-virtual`]:{"&:after":{content:'""',insetInline:0,bottom:0,borderBottom:S,position:"absolute"},[`${t}-cell`]:{borderInlineEnd:S,[`&${t}-cell-fix-right-first:before`]:{content:'""',position:"absolute",insetBlock:0,insetInlineStart:_(o).mul(-1).equal(),borderInlineStart:S}}},[`&${t}-virtual`]:{[`${t}-placeholder ${t}-cell`]:{borderInlineEnd:S,borderBottom:S}}}}}};const _N=e=>{const{componentCls:t,fontWeightStrong:a,tablePaddingVertical:o,tablePaddingHorizontal:f,tableExpandColumnWidth:y,lineWidth:_,lineType:S,tableBorderColor:I,tableFontSize:A,tableBg:z,tableRadius:L,tableHeaderTextColor:F,motionDurationMid:Z,tableHeaderBg:k,tableHeaderCellSplitColor:W,tableFooterTextColor:H,tableFooterBg:X,calc:Q}=e,re=`${(0,me.bf)(_)} ${S} ${I}`;return{[`${t}-wrapper`]:Object.assign(Object.assign({clear:"both",maxWidth:"100%"},(0,nn.dF)()),{[t]:Object.assign(Object.assign({},(0,nn.Wf)(e)),{fontSize:A,background:z,borderRadius:`${(0,me.bf)(L)} ${(0,me.bf)(L)} 0 0`,scrollbarColor:`${e.tableScrollThumbBg} ${e.tableScrollBg}`}),table:{width:"100%",textAlign:"start",borderRadius:`${(0,me.bf)(L)} ${(0,me.bf)(L)} 0 0`,borderCollapse:"separate",borderSpacing:0},[`
          ${t}-cell,
          ${t}-thead > tr > th,
          ${t}-tbody > tr > th,
          ${t}-tbody > tr > td,
          tfoot > tr > th,
          tfoot > tr > td
        `]:{position:"relative",padding:`${(0,me.bf)(o)} ${(0,me.bf)(f)}`,overflowWrap:"break-word"},[`${t}-title`]:{padding:`${(0,me.bf)(o)} ${(0,me.bf)(f)}`},[`${t}-thead`]:{"\n          > tr > th,\n          > tr > td\n        ":{position:"relative",color:F,fontWeight:a,textAlign:"start",background:k,borderBottom:re,transition:`background ${Z} ease`,"&[colspan]:not([colspan='1'])":{textAlign:"center"},[`&:not(:last-child):not(${t}-selection-column):not(${t}-row-expand-icon-cell):not([colspan])::before`]:{position:"absolute",top:"50%",insetInlineEnd:0,width:1,height:"1.6em",backgroundColor:W,transform:"translateY(-50%)",transition:`background-color ${Z}`,content:'""'}},"> tr:not(:last-child) > th[colspan]":{borderBottom:0}},[`${t}-tbody`]:{"> tr":{"> th, > td":{transition:`background ${Z}, border-color ${Z}`,borderBottom:re,[`
              > ${t}-wrapper:only-child,
              > ${t}-expanded-row-fixed > ${t}-wrapper:only-child
            `]:{[t]:{marginBlock:(0,me.bf)(Q(o).mul(-1).equal()),marginInline:`${(0,me.bf)(Q(y).sub(f).equal())}
                ${(0,me.bf)(Q(f).mul(-1).equal())}`,[`${t}-tbody > tr:last-child > td`]:{borderBottomWidth:0,"&:first-child, &:last-child":{borderRadius:0}}}}},"> th":{position:"relative",color:F,fontWeight:a,textAlign:"start",background:k,borderBottom:re,transition:`background ${Z} ease`}}},[`${t}-footer`]:{padding:`${(0,me.bf)(o)} ${(0,me.bf)(f)}`,color:H,background:X}})}},xN=e=>{const{colorFillAlter:t,colorBgContainer:a,colorTextHeading:o,colorFillSecondary:f,colorFillContent:y,controlItemBgActive:_,controlItemBgActiveHover:S,padding:I,paddingSM:A,paddingXS:z,colorBorderSecondary:L,borderRadiusLG:F,controlHeight:Z,colorTextPlaceholder:k,fontSize:W,fontSizeSM:H,lineHeight:X,lineWidth:Q,colorIcon:re,colorIconHover:ie,opacityLoading:ne,controlInteractiveSize:ae}=e,ue=new Sl.t(f).onBackground(a).toHexString(),fe=new Sl.t(y).onBackground(a).toHexString(),he=new Sl.t(t).onBackground(a).toHexString(),ve=new Sl.t(re),ye=new Sl.t(ie),we=ae/2-Q,Se=we*2+Q*3;return{headerBg:he,headerColor:o,headerSortActiveBg:ue,headerSortHoverBg:fe,bodySortBg:he,rowHoverBg:he,rowSelectedBg:_,rowSelectedHoverBg:S,rowExpandedBg:t,cellPaddingBlock:I,cellPaddingInline:I,cellPaddingBlockMD:A,cellPaddingInlineMD:z,cellPaddingBlockSM:z,cellPaddingInlineSM:z,borderColor:L,headerBorderRadius:F,footerBg:he,footerColor:o,cellFontSize:W,cellFontSizeMD:W,cellFontSizeSM:W,headerSplitColor:L,fixedHeaderSortActiveBg:ue,headerFilterHoverBg:y,filterDropdownMenuBg:a,filterDropdownBg:a,expandIconBg:a,selectionColumnWidth:Z,stickyScrollBarBg:k,stickyScrollBarBorderRadius:100,expandIconMarginTop:(W*X-Q*3)/2-Math.ceil((H*1.4-Q*3)/2),headerIconColor:ve.clone().setA(ve.a*ne).toRgbString(),headerIconHoverColor:ye.clone().setA(ye.a*ne).toRgbString(),expandIconHalfInner:we,expandIconSize:Se,expandIconScale:ae/Se}},AT=2;var CN=(0,oe.I$)("Table",e=>{const{colorTextHeading:t,colorSplit:a,colorBgContainer:o,controlInteractiveSize:f,headerBg:y,headerColor:_,headerSortActiveBg:S,headerSortHoverBg:I,bodySortBg:A,rowHoverBg:z,rowSelectedBg:L,rowSelectedHoverBg:F,rowExpandedBg:Z,cellPaddingBlock:k,cellPaddingInline:W,cellPaddingBlockMD:H,cellPaddingInlineMD:X,cellPaddingBlockSM:Q,cellPaddingInlineSM:re,borderColor:ie,footerBg:ne,footerColor:ae,headerBorderRadius:ue,cellFontSize:fe,cellFontSizeMD:he,cellFontSizeSM:ve,headerSplitColor:ye,fixedHeaderSortActiveBg:we,headerFilterHoverBg:Se,filterDropdownBg:ze,expandIconBg:Te,selectionColumnWidth:Fe,stickyScrollBarBg:Ae,calc:Ke}=e,tt=(0,kr.IX)(e,{tableFontSize:fe,tableBg:o,tableRadius:ue,tablePaddingVertical:k,tablePaddingHorizontal:W,tablePaddingVerticalMiddle:H,tablePaddingHorizontalMiddle:X,tablePaddingVerticalSmall:Q,tablePaddingHorizontalSmall:re,tableBorderColor:ie,tableHeaderTextColor:_,tableHeaderBg:y,tableFooterTextColor:ae,tableFooterBg:ne,tableHeaderCellSplitColor:ye,tableHeaderSortBg:S,tableHeaderSortHoverBg:I,tableBodySortBg:A,tableFixedHeaderSortActiveBg:we,tableHeaderFilterActiveBg:Se,tableFilterDropdownBg:ze,tableRowHoverBg:z,tableSelectedRowBg:L,tableSelectedRowHoverBg:F,zIndexTableFixed:AT,zIndexTableSticky:Ke(AT).add(1).equal({unit:!1}),tableFontSizeMiddle:he,tableFontSizeSmall:ve,tableSelectionColumnWidth:Fe,tableExpandIconBg:Te,tableExpandColumnWidth:Ke(f).add(Ke(e.padding).mul(2)).equal(),tableExpandedRowBg:Z,tableFilterDropdownWidth:120,tableFilterDropdownHeight:264,tableFilterDropdownSearchWidth:140,tableScrollThumbSize:8,tableScrollThumbBg:Ae,tableScrollThumbBgHover:t,tableScrollBg:a});return[_N(tt),fN(tt),$T(tt),vN(tt),uN(tt),aN(tt),hN(tt),cN(tt),$T(tt),lN(tt),pN(tt),dN(tt),yN(tt),sN(tt),gN(tt),mN(tt),bN(tt)]},xN,{unitless:{expandIconScale:!0}});const SN=[],wN=(e,t)=>{var a,o;const{prefixCls:f,className:y,rootClassName:_,style:S,size:I,bordered:A,dropdownPrefixCls:z,dataSource:L,pagination:F,rowSelection:Z,rowKey:k="key",rowClassName:W,columns:H,children:X,childrenColumnName:Q,onChange:re,getPopupContainer:ie,loading:ne,expandIcon:ae,expandable:ue,expandedRowRender:fe,expandIconColumnIndex:he,indentSize:ve,scroll:ye,sortDirections:we,locale:Se,showSorterTooltip:ze={target:"full-header"},virtual:Te}=e,Fe=(0,io.ln)("Table"),Ae=s.useMemo(()=>H||Cw(X),[H,X]),Ke=s.useMemo(()=>Ae.some(fa=>fa.responsive),[Ae]),tt=(0,Ec.Z)(Ke),vt=s.useMemo(()=>{const fa=new Set(Object.keys(tt).filter(Uo=>tt[Uo]));return Ae.filter(Uo=>!Uo.responsive||Uo.responsive.some(Wo=>fa.has(Wo)))},[Ae,tt]),bt=(0,Ci.Z)(e,["className","style","columns"]),{locale:lt=Gc.Z,direction:ct,table:mt,renderEmpty:Rt,getPrefixCls:wt,getPopupContainer:Bt}=s.useContext(_e.E_),Ct=(0,Va.Z)(I),dn=Object.assign(Object.assign({},lt.Table),Se),zn=L||SN,rn=wt("table",f),Cn=wt("dropdown",z),[,Vt]=(0,Vr.ZP)(),At=(0,Ln.Z)(rn),[$n,yn,Ir]=CN(rn,At),cr=Object.assign(Object.assign({childrenColumnName:Q,expandIconColumnIndex:he},ue),{expandIcon:(a=ue==null?void 0:ue.expandIcon)!==null&&a!==void 0?a:(o=mt==null?void 0:mt.expandable)===null||o===void 0?void 0:o.expandIcon}),{childrenColumnName:Kn="children"}=cr,qn=s.useMemo(()=>zn.some(fa=>fa==null?void 0:fa[Kn])?"nest":fe||ue!=null&&ue.expandedRowRender?"row":null,[zn]),Pn={body:s.useRef(null)},Yn=Dz(rn),zr=s.useRef(null),si=s.useRef(null);Rz(t,()=>Object.assign(Object.assign({},si.current),{nativeElement:zr.current}));const yi=s.useMemo(()=>typeof k=="function"?k:fa=>fa==null?void 0:fa[k],[k]),[Di]=kL(zn,Kn,yi),Eo={},gi=function(fa,Uo){let Wo=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var Do,fs,Ns,La;const xa=Object.assign(Object.assign({},Eo),fa);Wo&&((Do=Eo.resetPagination)===null||Do===void 0||Do.call(Eo),!((fs=xa.pagination)===null||fs===void 0)&&fs.current&&(xa.pagination.current=1),F&&((Ns=F.onChange)===null||Ns===void 0||Ns.call(F,1,(La=xa.pagination)===null||La===void 0?void 0:La.pageSize))),ye&&ye.scrollToFirstRowOnChange!==!1&&Pn.body.current&&Ur(0,{getContainer:()=>Pn.body.current}),re==null||re(xa.pagination,xa.filters,xa.sorter,{currentDataSource:Lw(Fw(zn,xa.sorterStates,Kn),xa.filterStates,Kn),action:Uo})},ai=(fa,Uo)=>{gi({sorter:fa,sorterStates:Uo},"sort",!1)},[mi,Xi,Pi,Io]=nN({prefixCls:rn,mergedColumns:vt,onSorterChange:ai,sortDirections:we||["ascend","descend"],tableLocale:dn,showSorterTooltip:ze}),dr=s.useMemo(()=>Fw(zn,Xi,Kn),[zn,Xi]);Eo.sorter=Io(),Eo.sorterStates=Xi;const er=(fa,Uo)=>{gi({filters:fa,filterStates:Uo},"filter",!0)},[gr,Zn,ni]=FL({prefixCls:rn,locale:dn,dropdownPrefixCls:Cn,mergedColumns:vt,onFilterChange:er,getPopupContainer:ie||Bt,rootClassName:J()(_,At)}),Oi=Lw(dr,Zn,Kn);Eo.filters=ni,Eo.filterStates=Zn;const ro=s.useMemo(()=>{const fa={};return Object.keys(ni).forEach(Uo=>{ni[Uo]!==null&&(fa[Uo]=ni[Uo])}),Object.assign(Object.assign({},Pi),{filters:fa})},[Pi,ni]),[Ko]=rN(ro),Oa=(fa,Uo)=>{gi({pagination:Object.assign(Object.assign({},Eo.pagination),{current:fa,pageSize:Uo})},"paginate")},[ta,Is]=HL(Oi.length,Oa,F);Eo.pagination=F===!1?{}:ZL(ta,F),Eo.resetPagination=Is;const Fa=s.useMemo(()=>{if(F===!1||!ta.pageSize)return Oi;const{current:fa=1,total:Uo,pageSize:Wo=IT}=ta;return Oi.length<Uo?Oi.length>Wo?Oi.slice((fa-1)*Wo,fa*Wo):Oi:Oi.slice((fa-1)*Wo,fa*Wo)},[!!F,Oi,ta==null?void 0:ta.current,ta==null?void 0:ta.pageSize,ta==null?void 0:ta.total]),[Ua,pa]=Pz({prefixCls:rn,data:Oi,pageData:Fa,getRowKey:yi,getRecordByKey:Di,expandType:qn,childrenColumnName:Kn,locale:dn,getPopupContainer:ie||Bt},Z),rs=(fa,Uo,Wo)=>{let Do;return typeof W=="function"?Do=J()(W(fa,Uo,Wo)):Do=J()(W),J()({[`${rn}-row-selected`]:pa.has(yi(fa,Uo))},Do)};cr.__PARENT_RENDER_ICON__=cr.expandIcon,cr.expandIcon=cr.expandIcon||ae||Az(dn),qn==="nest"&&cr.expandIconColumnIndex===void 0?cr.expandIconColumnIndex=Z?1:0:cr.expandIconColumnIndex>0&&Z&&(cr.expandIconColumnIndex-=1),typeof cr.indentSize!="number"&&(cr.indentSize=typeof ve=="number"?ve:15);const Ls=s.useCallback(fa=>Ko(Ua(gr(mi(fa)))),[mi,gr,Ua]);let Co,Go;if(F!==!1&&(ta!=null&&ta.total)){let fa;ta.size?fa=ta.size:fa=Ct==="small"||Ct==="middle"?"small":void 0;const Uo=fs=>s.createElement(mx,Object.assign({},ta,{className:J()(`${rn}-pagination ${rn}-pagination-${fs}`,ta.className),size:fa})),Wo=ct==="rtl"?"left":"right",{position:Do}=ta;if(Do!==null&&Array.isArray(Do)){const fs=Do.find(xa=>xa.includes("top")),Ns=Do.find(xa=>xa.includes("bottom")),La=Do.every(xa=>`${xa}`=="none");!fs&&!Ns&&!La&&(Go=Uo(Wo)),fs&&(Co=Uo(fs.toLowerCase().replace("top",""))),Ns&&(Go=Uo(Ns.toLowerCase().replace("bottom","")))}else Go=Uo(Wo)}let Ta;typeof ne=="boolean"?Ta={spinning:ne}:typeof ne=="object"&&(Ta=Object.assign({spinning:!0},ne));const Wa=J()(Ir,At,`${rn}-wrapper`,mt==null?void 0:mt.className,{[`${rn}-wrapper-rtl`]:ct==="rtl"},y,_,yn),ds=Object.assign(Object.assign({},mt==null?void 0:mt.style),S),sl=typeof(Se==null?void 0:Se.emptyText)!="undefined"?Se.emptyText:(Rt==null?void 0:Rt("Table"))||s.createElement(bs.Z,{componentName:"Table"}),Ol=Te?oN:iN,xl={},Zl=s.useMemo(()=>{const{fontSize:fa,lineHeight:Uo,lineWidth:Wo,padding:Do,paddingXS:fs,paddingSM:Ns}=Vt,La=Math.floor(fa*Uo);switch(Ct){case"middle":return Ns*2+La+Wo;case"small":return fs*2+La+Wo;default:return Do*2+La+Wo}},[Vt,Ct]);return Te&&(xl.listItemHeight=Zl),$n(s.createElement("div",{ref:zr,className:Wa,style:ds},s.createElement(dv,Object.assign({spinning:!1},Ta),Co,s.createElement(Ol,Object.assign({},xl,bt,{ref:si,columns:vt,direction:ct,expandable:cr,prefixCls:rn,className:J()({[`${rn}-middle`]:Ct==="middle",[`${rn}-small`]:Ct==="small",[`${rn}-bordered`]:A,[`${rn}-empty`]:zn.length===0},Ir,At,yn),data:Fa,rowKey:yi,rowClassName:rs,emptyText:sl,internalHooks:Tb,internalRefs:Pn,transformColumns:Ls,getContainerWidth:Yn})),Go)))};var EN=s.forwardRef(wN);const IN=(e,t)=>{const a=s.useRef(0);return a.current+=1,s.createElement(EN,Object.assign({},e,{ref:t,_renderTimes:a.current}))},em=s.forwardRef(IN);em.SELECTION_COLUMN=op,em.EXPAND_COLUMN=Qh,em.SELECTION_ALL=Tw,em.SELECTION_INVERT=Mw,em.SELECTION_NONE=Pw,em.Column=Tz,em.ColumnGroup=Mz,em.Summary=BI;var TN=em,MN=TN;const PN=e=>{const{paddingXXS:t,lineWidth:a,tagPaddingHorizontal:o,componentCls:f,calc:y}=e,_=y(o).sub(a).equal(),S=y(t).sub(a).equal();return{[f]:Object.assign(Object.assign({},(0,nn.Wf)(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:_,fontSize:e.tagFontSize,lineHeight:e.tagLineHeight,whiteSpace:"nowrap",background:e.defaultBg,border:`${(0,me.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,opacity:1,transition:`all ${e.motionDurationMid}`,textAlign:"start",position:"relative",[`&${f}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:e.defaultColor},[`${f}-close-icon`]:{marginInlineStart:S,fontSize:e.tagIconSize,color:e.colorTextDescription,cursor:"pointer",transition:`all ${e.motionDurationMid}`,"&:hover":{color:e.colorTextHeading}},[`&${f}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${e.iconCls}-close, ${e.iconCls}-close:hover`]:{color:e.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${f}-checkable-checked):hover`]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${e.iconCls} + span, > span + ${e.iconCls}`]:{marginInlineStart:_}}),[`${f}-borderless`]:{borderColor:"transparent",background:e.tagBorderlessBg}}},kw=e=>{const{lineWidth:t,fontSizeIcon:a,calc:o}=e,f=e.fontSizeSM;return(0,kr.IX)(e,{tagFontSize:f,tagLineHeight:(0,me.bf)(o(e.lineHeightSM).mul(f).equal()),tagIconSize:o(a).sub(o(t).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:e.defaultBg})},jw=e=>({defaultBg:new Sl.t(e.colorFillQuaternary).onBackground(e.colorBgContainer).toHexString(),defaultColor:e.colorText});var DT=(0,oe.I$)("Tag",e=>{const t=kw(e);return PN(t)},jw),ON=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},RN=s.forwardRef((e,t)=>{const{prefixCls:a,style:o,className:f,checked:y,onChange:_,onClick:S}=e,I=ON(e,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:A,tag:z}=s.useContext(_e.E_),L=X=>{_==null||_(!y),S==null||S(X)},F=A("tag",a),[Z,k,W]=DT(F),H=J()(F,`${F}-checkable`,{[`${F}-checkable-checked`]:y},z==null?void 0:z.className,f,k,W);return Z(s.createElement("span",Object.assign({},I,{ref:t,style:Object.assign(Object.assign({},o),z==null?void 0:z.style),className:H,onClick:L})))});const $N=e=>(0,Sd.Z)(e,(t,a)=>{let{textColor:o,lightBorderColor:f,lightColor:y,darkColor:_}=a;return{[`${e.componentCls}${e.componentCls}-${t}`]:{color:o,background:y,borderColor:f,"&-inverse":{color:e.colorTextLightSolid,background:_,borderColor:_},[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}});var AN=(0,oe.bk)(["Tag","preset"],e=>{const t=kw(e);return $N(t)},jw);function DN(e){return typeof e!="string"?e:e.charAt(0).toUpperCase()+e.slice(1)}const Ax=(e,t,a)=>{const o=DN(a);return{[`${e.componentCls}${e.componentCls}-${t}`]:{color:e[`color${a}`],background:e[`color${o}Bg`],borderColor:e[`color${o}Border`],[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}};var zN=(0,oe.bk)(["Tag","status"],e=>{const t=kw(e);return[Ax(t,"success","Success"),Ax(t,"processing","Info"),Ax(t,"error","Error"),Ax(t,"warning","Warning")]},jw),LN=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const zT=s.forwardRef((e,t)=>{const{prefixCls:a,className:o,rootClassName:f,style:y,children:_,icon:S,color:I,onClose:A,bordered:z=!0,visible:L}=e,F=LN(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","bordered","visible"]),{getPrefixCls:Z,direction:k,tag:W}=s.useContext(_e.E_),[H,X]=s.useState(!0),Q=(0,Ci.Z)(F,["closeIcon","closable"]);s.useEffect(()=>{L!==void 0&&X(L)},[L]);const re=(0,Oh.o2)(I),ie=(0,Oh.yT)(I),ne=re||ie,ae=Object.assign(Object.assign({backgroundColor:I&&!ne?I:void 0},W==null?void 0:W.style),y),ue=Z("tag",a),[fe,he,ve]=DT(ue),ye=J()(ue,W==null?void 0:W.className,{[`${ue}-${I}`]:ne,[`${ue}-has-color`]:I&&!ne,[`${ue}-hidden`]:!H,[`${ue}-rtl`]:k==="rtl",[`${ue}-borderless`]:!z},o,f,he,ve),we=Ke=>{Ke.stopPropagation(),A==null||A(Ke),!Ke.defaultPrevented&&X(!1)},[,Se]=of(vu(e),vu(W),{closable:!1,closeIconRender:Ke=>{const tt=s.createElement("span",{className:`${ue}-close-icon`,onClick:we},Ke);return(0,Tn.wm)(Ke,tt,vt=>({onClick:bt=>{var lt;(lt=vt==null?void 0:vt.onClick)===null||lt===void 0||lt.call(vt,bt),we(bt)},className:J()(vt==null?void 0:vt.className,`${ue}-close-icon`)}))}}),ze=typeof F.onClick=="function"||_&&_.type==="a",Te=S||null,Fe=Te?s.createElement(s.Fragment,null,Te,_&&s.createElement("span",null,_)):_,Ae=s.createElement("span",Object.assign({},Q,{ref:t,className:ye,style:ae}),Fe,Se,re&&s.createElement(AN,{key:"preset",prefixCls:ue}),ie&&s.createElement(zN,{key:"status",prefixCls:ue}));return fe(ze?s.createElement(ca,{component:"Tag"},Ae):Ae)});zT.CheckableTag=RN;var NN=zT,BN=j(38920),LT=j(30767),FN=j(33598),kN=e=>{const t=e!=null&&e.algorithm?(0,me.jG)(e.algorithm):BN.Z,a=Object.assign(Object.assign({},LT.Z),e==null?void 0:e.token);return(0,me.t2)(a,{override:e==null?void 0:e.token},t,FN.Z)},Zw=j(20284),Vw=j(28893),jN=j(10154),ZN=j(79319);function VN(e){const{sizeUnit:t,sizeStep:a}=e,o=a-2;return{sizeXXL:t*(o+10),sizeXL:t*(o+6),sizeLG:t*(o+2),sizeMD:t*(o+2),sizeMS:t*(o+1),size:t*o,sizeSM:t*o,sizeXS:t*(o-1),sizeXXS:t*(o-1)}}var HN=(e,t)=>{const a=t!=null?t:(0,Vw.Z)(e),o=a.fontSizeSM,f=a.controlHeight-4;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},a),VN(t!=null?t:e)),(0,ZN.Z)(o)),{controlHeight:f}),(0,jN.Z)(Object.assign(Object.assign({},a),{controlHeight:f})))},UN=j(40329);const Pd=(e,t)=>new Sl.t(e).setA(t).toRgbString(),yv=(e,t)=>new Sl.t(e).lighten(t).toHexString(),WN=e=>{const t=(0,rp.R_)(e,{theme:"dark"});return{1:t[0],2:t[1],3:t[2],4:t[3],5:t[6],6:t[5],7:t[4],8:t[6],9:t[5],10:t[4]}},GN=(e,t)=>{const a=e||"#000",o=t||"#fff";return{colorBgBase:a,colorTextBase:o,colorText:Pd(o,.85),colorTextSecondary:Pd(o,.65),colorTextTertiary:Pd(o,.45),colorTextQuaternary:Pd(o,.25),colorFill:Pd(o,.18),colorFillSecondary:Pd(o,.12),colorFillTertiary:Pd(o,.08),colorFillQuaternary:Pd(o,.04),colorBgSolid:Pd(o,.95),colorBgSolidHover:Pd(o,1),colorBgSolidActive:Pd(o,.9),colorBgElevated:yv(a,12),colorBgContainer:yv(a,8),colorBgLayout:yv(a,0),colorBgSpotlight:yv(a,26),colorBgBlur:Pd(o,.04),colorBorder:yv(a,26),colorBorderSecondary:yv(a,19)}};var XN=(e,t)=>{const a=Object.keys(LT.M).map(f=>{const y=(0,rp.R_)(e[f],{theme:"dark"});return Array.from({length:10},()=>1).reduce((_,S,I)=>(_[`${f}-${I+1}`]=y[I],_[`${f}${I+1}`]=y[I],_),{})}).reduce((f,y)=>(f=Object.assign(Object.assign({},f),y),f),{}),o=t!=null?t:(0,Vw.Z)(e);return Object.assign(Object.assign(Object.assign({},o),a),(0,UN.Z)(e,{generateColorPalettes:WN,generateNeutralColorPalettes:GN}))};function KN(){const[e,t,a]=(0,Vr.ZP)();return{theme:e,token:t,hashId:a}}var qN={defaultSeed:Zw.u_.token,useToken:KN,defaultAlgorithm:Vw.Z,darkAlgorithm:XN,compactAlgorithm:HN,getDesignToken:kN,defaultConfig:Zw.u_,_internalContext:Zw.Mj},YN=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const{TimePicker:JN,RangePicker:QN}=P2,e6=s.forwardRef((e,t)=>s.createElement(QN,Object.assign({},e,{picker:"time",mode:void 0,ref:t}))),Pb=s.forwardRef((e,t)=>{var{addon:a,renderExtraFooter:o,variant:f,bordered:y}=e,_=YN(e,["addon","renderExtraFooter","variant","bordered"]);const[S]=(0,kf.Z)("timePicker",f,y),I=s.useMemo(()=>{if(o)return o;if(a)return a},[a,o]);return s.createElement(JN,Object.assign({},_,{mode:void 0,ref:t,renderExtraFooter:I,variant:S}))}),NT=(0,zl.Z)(Pb,"popupAlign",void 0,"picker");Pb._InternalPanelDoNotUseOrYouWillBeFired=NT,Pb.RangePicker=e6,Pb._InternalPanelDoNotUseOrYouWillBeFired=NT;var t6=Pb;const n6=e=>{const{componentCls:t,calc:a}=e;return{[t]:Object.assign(Object.assign({},(0,nn.Wf)(e)),{margin:0,padding:0,listStyle:"none",[`${t}-item`]:{position:"relative",margin:0,paddingBottom:e.itemPaddingBottom,fontSize:e.fontSize,listStyle:"none","&-tail":{position:"absolute",insetBlockStart:e.itemHeadSize,insetInlineStart:a(a(e.itemHeadSize).sub(e.tailWidth)).div(2).equal(),height:`calc(100% - ${(0,me.bf)(e.itemHeadSize)})`,borderInlineStart:`${(0,me.bf)(e.tailWidth)} ${e.lineType} ${e.tailColor}`},"&-pending":{[`${t}-item-head`]:{fontSize:e.fontSizeSM,backgroundColor:"transparent"},[`${t}-item-tail`]:{display:"none"}},"&-head":{position:"absolute",width:e.itemHeadSize,height:e.itemHeadSize,backgroundColor:e.dotBg,border:`${(0,me.bf)(e.dotBorderWidth)} ${e.lineType} transparent`,borderRadius:"50%","&-blue":{color:e.colorPrimary,borderColor:e.colorPrimary},"&-red":{color:e.colorError,borderColor:e.colorError},"&-green":{color:e.colorSuccess,borderColor:e.colorSuccess},"&-gray":{color:e.colorTextDisabled,borderColor:e.colorTextDisabled}},"&-head-custom":{position:"absolute",insetBlockStart:a(e.itemHeadSize).div(2).equal(),insetInlineStart:a(e.itemHeadSize).div(2).equal(),width:"auto",height:"auto",marginBlockStart:0,paddingBlock:e.customHeadPaddingVertical,lineHeight:1,textAlign:"center",border:0,borderRadius:0,transform:"translate(-50%, -50%)"},"&-content":{position:"relative",insetBlockStart:a(a(e.fontSize).mul(e.lineHeight).sub(e.fontSize)).mul(-1).add(e.lineWidth).equal(),marginInlineStart:a(e.margin).add(e.itemHeadSize).equal(),marginInlineEnd:0,marginBlockStart:0,marginBlockEnd:0,wordBreak:"break-word"},"&-last":{[`> ${t}-item-tail`]:{display:"none"},[`> ${t}-item-content`]:{minHeight:a(e.controlHeightLG).mul(1.2).equal()}}},[`&${t}-alternate,
        &${t}-right,
        &${t}-label`]:{[`${t}-item`]:{"&-tail, &-head, &-head-custom":{insetInlineStart:"50%"},"&-head":{marginInlineStart:a(e.marginXXS).mul(-1).equal(),"&-custom":{marginInlineStart:a(e.tailWidth).div(2).equal()}},"&-left":{[`${t}-item-content`]:{insetInlineStart:`calc(50% - ${(0,me.bf)(e.marginXXS)})`,width:`calc(50% - ${(0,me.bf)(e.marginSM)})`,textAlign:"start"}},"&-right":{[`${t}-item-content`]:{width:`calc(50% - ${(0,me.bf)(e.marginSM)})`,margin:0,textAlign:"end"}}}},[`&${t}-right`]:{[`${t}-item-right`]:{[`${t}-item-tail,
            ${t}-item-head,
            ${t}-item-head-custom`]:{insetInlineStart:`calc(100% - ${(0,me.bf)(a(a(e.itemHeadSize).add(e.tailWidth)).div(2).equal())})`},[`${t}-item-content`]:{width:`calc(100% - ${(0,me.bf)(a(e.itemHeadSize).add(e.marginXS).equal())})`}}},[`&${t}-pending
        ${t}-item-last
        ${t}-item-tail`]:{display:"block",height:`calc(100% - ${(0,me.bf)(e.margin)})`,borderInlineStart:`${(0,me.bf)(e.tailWidth)} dotted ${e.tailColor}`},[`&${t}-reverse
        ${t}-item-last
        ${t}-item-tail`]:{display:"none"},[`&${t}-reverse ${t}-item-pending`]:{[`${t}-item-tail`]:{insetBlockStart:e.margin,display:"block",height:`calc(100% - ${(0,me.bf)(e.margin)})`,borderInlineStart:`${(0,me.bf)(e.tailWidth)} dotted ${e.tailColor}`},[`${t}-item-content`]:{minHeight:a(e.controlHeightLG).mul(1.2).equal()}},[`&${t}-label`]:{[`${t}-item-label`]:{position:"absolute",insetBlockStart:a(a(e.fontSize).mul(e.lineHeight).sub(e.fontSize)).mul(-1).add(e.tailWidth).equal(),width:`calc(50% - ${(0,me.bf)(e.marginSM)})`,textAlign:"end"},[`${t}-item-right`]:{[`${t}-item-label`]:{insetInlineStart:`calc(50% + ${(0,me.bf)(e.marginSM)})`,width:`calc(50% - ${(0,me.bf)(e.marginSM)})`,textAlign:"start"}}},"&-rtl":{direction:"rtl",[`${t}-item-head-custom`]:{transform:"translate(50%, -50%)"}}})}},r6=e=>({tailColor:e.colorSplit,tailWidth:e.lineWidthBold,dotBorderWidth:e.wireframe?e.lineWidthBold:e.lineWidth*3,dotBg:e.colorBgContainer,itemPaddingBottom:e.padding*1.25});var i6=(0,oe.I$)("Timeline",e=>{const t=(0,kr.IX)(e,{itemHeadSize:10,customHeadPaddingVertical:e.paddingXXS,paddingInlineEnd:2});return[n6(t)]},r6),o6=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},BT=e=>{var{prefixCls:t,className:a,color:o="blue",dot:f,pending:y=!1,position:_,label:S,children:I}=e,A=o6(e,["prefixCls","className","color","dot","pending","position","label","children"]);const{getPrefixCls:z}=s.useContext(_e.E_),L=z("timeline",t),F=J()(`${L}-item`,{[`${L}-item-pending`]:y},a),Z=/blue|red|green|gray/.test(o||"")?void 0:o,k=J()(`${L}-item-head`,{[`${L}-item-head-custom`]:!!f,[`${L}-item-head-${o}`]:!Z});return s.createElement("li",Object.assign({},A,{className:F}),S&&s.createElement("div",{className:`${L}-item-label`},S),s.createElement("div",{className:`${L}-item-tail`}),s.createElement("div",{className:k,style:{borderColor:Z,color:Z}},f),s.createElement("div",{className:`${L}-item-content`},I))},FT=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},a6=e=>{var{prefixCls:t,className:a,pending:o=!1,children:f,items:y,rootClassName:_,reverse:S=!1,direction:I,hashId:A,pendingDot:z,mode:L=""}=e,F=FT(e,["prefixCls","className","pending","children","items","rootClassName","reverse","direction","hashId","pendingDot","mode"]);const Z=(ne,ae)=>L==="alternate"?ne==="right"?`${t}-item-right`:ne==="left"?`${t}-item-left`:ae%2===0?`${t}-item-left`:`${t}-item-right`:L==="left"?`${t}-item-left`:L==="right"?`${t}-item-right`:ne==="right"?`${t}-item-right`:"",k=(0,Ie.Z)(y||[]),W=typeof o=="boolean"?null:o;o&&k.push({pending:!!o,dot:z||s.createElement(Ut.Z,null),children:W}),S&&k.reverse();const H=k.length,X=`${t}-item-last`,Q=k.filter(ne=>!!ne).map((ne,ae)=>{var ue;const fe=ae===H-2?X:"",he=ae===H-1?X:"",{className:ve}=ne,ye=FT(ne,["className"]);return s.createElement(BT,Object.assign({},ye,{className:J()([ve,!S&&o?fe:he,Z((ue=ne==null?void 0:ne.position)!==null&&ue!==void 0?ue:"",ae)]),key:(ne==null?void 0:ne.key)||ae}))}),re=k.some(ne=>!!(ne!=null&&ne.label)),ie=J()(t,{[`${t}-pending`]:!!o,[`${t}-reverse`]:!!S,[`${t}-${L}`]:!!L&&!re,[`${t}-label`]:re,[`${t}-rtl`]:I==="rtl"},a,_,A);return s.createElement("ul",Object.assign({},F,{className:ie}),Q)};function s6(e,t){return e&&Array.isArray(e)?e:(0,ac.Z)(t).map(a=>{var o,f;return Object.assign({children:(f=(o=a==null?void 0:a.props)===null||o===void 0?void 0:o.children)!==null&&f!==void 0?f:""},a.props)})}var l6=s6,c6=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const kT=e=>{const{getPrefixCls:t,direction:a,timeline:o}=s.useContext(_e.E_),{prefixCls:f,children:y,items:_,className:S,style:I}=e,A=c6(e,["prefixCls","children","items","className","style"]),z=t("timeline",f),L=(0,Ln.Z)(z),[F,Z,k]=i6(z,L),W=l6(_,y);return F(s.createElement(a6,Object.assign({},A,{className:J()(o==null?void 0:o.className,S,k,L),style:Object.assign(Object.assign({},o==null?void 0:o.style),I),prefixCls:z,direction:a,items:W,hashId:Z})))};kT.Item=BT;var u6=kT,d6=u6;function jT(e){return e!==null&&(0,dt.Z)(e)==="object"}function ZT(e,t,a){if(e===!1||t===!1&&(!jT(e)||!e.closeIcon))return null;var o=typeof t!="boolean"?t:void 0;if(jT(e)){var f;return(0,K.Z)((0,K.Z)({},e),{},{closeIcon:(f=e.closeIcon)!==null&&f!==void 0?f:o})}return a||e||t?{closeIcon:o}:"empty"}function f6(e,t,a,o){return s.useMemo(function(){var f=ZT(e,t,!1),y=ZT(a,o,!0);return f!=="empty"?f:y},[a,o,e,t])}function h6(e){var t=window.innerWidth||document.documentElement.clientWidth,a=window.innerHeight||document.documentElement.clientHeight,o=e.getBoundingClientRect(),f=o.top,y=o.right,_=o.bottom,S=o.left;return f>=0&&S>=0&&y<=t&&_<=a}function m6(e,t,a){var o;return(o=a!=null?a:t)!==null&&o!==void 0?o:e===null?"center":"bottom"}function p6(e){return typeof e=="number"&&!Number.isNaN(e)}function g6(e,t,a,o){var f=(0,s.useState)(void 0),y=(0,Pe.Z)(f,2),_=y[0],S=y[1];(0,yl.Z)(function(){var W=typeof e=="function"?e():e;S(W||null)});var I=(0,s.useState)(null),A=(0,Pe.Z)(I,2),z=A[0],L=A[1],F=(0,ur.Z)(function(){if(_){!h6(_)&&t&&_.scrollIntoView(o);var W=_.getBoundingClientRect(),H=W.left,X=W.top,Q=W.width,re=W.height,ie={left:H,top:X,width:Q,height:re,radius:0};L(function(ne){return JSON.stringify(ne)!==JSON.stringify(ie)?ie:ne})}else L(null)}),Z=function(H){var X;return(X=Array.isArray(a==null?void 0:a.offset)?a==null?void 0:a.offset[H]:a==null?void 0:a.offset)!==null&&X!==void 0?X:6};(0,yl.Z)(function(){return F(),window.addEventListener("resize",F),function(){window.removeEventListener("resize",F)}},[_,t,F]);var k=(0,s.useMemo)(function(){if(!z)return z;var W=Z(0),H=Z(1),X=p6(a==null?void 0:a.radius)?a==null?void 0:a.radius:2;return{left:z.left-W,top:z.top-H,width:z.width+W*2,height:z.height+H*2,radius:X}},[z,a]);return[k,_]}var Dx={fill:"transparent",pointerEvents:"auto"},v6=function(t){var a=t.prefixCls,o=t.rootClassName,f=t.pos,y=t.showMask,_=t.style,S=_===void 0?{}:_,I=t.fill,A=I===void 0?"rgba(0,0,0,0.5)":I,z=t.open,L=t.animated,F=t.zIndex,Z=t.disabledInteraction,k=(0,Od.Z)(),W="".concat(a,"-mask-").concat(k),H=(0,dt.Z)(L)==="object"?L==null?void 0:L.placeholder:L,X=typeof navigator!="undefined"&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent),Q=X?{width:"100%",height:"100%"}:{width:"100vw",height:"100vh"};return s.createElement(pu.Z,{open:z,autoLock:!0},s.createElement("div",{className:J()("".concat(a,"-mask"),o),style:(0,K.Z)({position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:F,pointerEvents:f&&!Z?"none":"auto"},S)},y?s.createElement("svg",{style:{width:"100%",height:"100%"}},s.createElement("defs",null,s.createElement("mask",{id:W},s.createElement("rect",(0,Ue.Z)({x:"0",y:"0"},Q,{fill:"white"})),f&&s.createElement("rect",{x:f.left,y:f.top,rx:f.radius,width:f.width,height:f.height,fill:"black",className:H?"".concat(a,"-placeholder-animated"):""}))),s.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:A,mask:"url(#".concat(W,")")}),f&&s.createElement(s.Fragment,null,s.createElement("rect",(0,Ue.Z)({},Dx,{x:"0",y:"0",width:"100%",height:f.top})),s.createElement("rect",(0,Ue.Z)({},Dx,{x:"0",y:"0",width:f.left,height:"100%"})),s.createElement("rect",(0,Ue.Z)({},Dx,{x:"0",y:f.top+f.height,width:"100%",height:"calc(100vh - ".concat(f.top+f.height,"px)")})),s.createElement("rect",(0,Ue.Z)({},Dx,{x:f.left+f.width,y:"0",width:"calc(100vw - ".concat(f.left+f.width,"px)"),height:"100%"})))):null))},y6=v6,Ij={adjustX:1,adjustY:1},b6=[0,0],VT={left:{points:["cr","cl"],offset:[-8,0]},right:{points:["cl","cr"],offset:[8,0]},top:{points:["bc","tc"],offset:[0,-8]},bottom:{points:["tc","bc"],offset:[0,8]},topLeft:{points:["bl","tl"],offset:[0,-8]},leftTop:{points:["tr","tl"],offset:[-8,0]},topRight:{points:["br","tr"],offset:[0,-8]},rightTop:{points:["tl","tr"],offset:[8,0]},bottomRight:{points:["tr","br"],offset:[0,8]},rightBottom:{points:["bl","br"],offset:[8,0]},bottomLeft:{points:["tl","bl"],offset:[0,8]},leftBottom:{points:["br","bl"],offset:[-8,0]}};function HT(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t={};return Object.keys(VT).forEach(function(a){t[a]=(0,K.Z)((0,K.Z)({},VT[a]),{},{autoArrow:e,targetOffset:b6})}),t}var Tj=HT();function _6(e){var t,a=e.prefixCls,o=e.current,f=e.total,y=e.title,_=e.description,S=e.onClose,I=e.onPrev,A=e.onNext,z=e.onFinish,L=e.className,F=e.closable,Z=(0,pt.Z)(F||{},!0),k=(t=F==null?void 0:F.closeIcon)!==null&&t!==void 0?t:s.createElement("span",{className:"".concat(a,"-close-x")},"\xD7"),W=!!F;return s.createElement("div",{className:J()("".concat(a,"-content"),L)},s.createElement("div",{className:"".concat(a,"-inner")},W&&s.createElement("button",(0,Ue.Z)({type:"button",onClick:S,"aria-label":"Close"},Z,{className:"".concat(a,"-close")}),k),s.createElement("div",{className:"".concat(a,"-header")},s.createElement("div",{className:"".concat(a,"-title")},y)),s.createElement("div",{className:"".concat(a,"-description")},_),s.createElement("div",{className:"".concat(a,"-footer")},s.createElement("div",{className:"".concat(a,"-sliders")},f>1?(0,Ie.Z)(Array.from({length:f}).keys()).map(function(H,X){return s.createElement("span",{key:H,className:X===o?"active":""})}):null),s.createElement("div",{className:"".concat(a,"-buttons")},o!==0?s.createElement("button",{className:"".concat(a,"-prev-btn"),onClick:I},"Prev"):null,o===f-1?s.createElement("button",{className:"".concat(a,"-finish-btn"),onClick:z},"Finish"):s.createElement("button",{className:"".concat(a,"-next-btn"),onClick:A},"Next")))))}var x6=function(t){var a=t.current,o=t.renderPanel;return s.createElement(s.Fragment,null,typeof o=="function"?o(t,a):s.createElement(_6,t))},C6=x6,S6=["prefixCls","steps","defaultCurrent","current","onChange","onClose","onFinish","open","mask","arrow","rootClassName","placement","renderPanel","gap","animated","scrollIntoViewOptions","zIndex","closeIcon","closable","builtinPlacements","disabledInteraction"],w6={left:"50%",top:"50%",width:1,height:1},UT={block:"center",inline:"center"},E6=function(t){var a=t.prefixCls,o=a===void 0?"rc-tour":a,f=t.steps,y=f===void 0?[]:f,_=t.defaultCurrent,S=t.current,I=t.onChange,A=t.onClose,z=t.onFinish,L=t.open,F=t.mask,Z=F===void 0?!0:F,k=t.arrow,W=k===void 0?!0:k,H=t.rootClassName,X=t.placement,Q=t.renderPanel,re=t.gap,ie=t.animated,ne=t.scrollIntoViewOptions,ae=ne===void 0?UT:ne,ue=t.zIndex,fe=ue===void 0?1001:ue,he=t.closeIcon,ve=t.closable,ye=t.builtinPlacements,we=t.disabledInteraction,Se=(0,de.Z)(t,S6),ze=s.useRef(),Te=(0,zt.Z)(0,{value:S,defaultValue:_}),Fe=(0,Pe.Z)(Te,2),Ae=Fe[0],Ke=Fe[1],tt=(0,zt.Z)(void 0,{value:L,postState:function(Zn){return Ae<0||Ae>=y.length?!1:Zn!=null?Zn:!0}}),vt=(0,Pe.Z)(tt,2),bt=vt[0],lt=vt[1],ct=s.useState(bt),mt=(0,Pe.Z)(ct,2),Rt=mt[0],wt=mt[1],Bt=s.useRef(bt);(0,yl.Z)(function(){bt&&(Bt.current||Ke(0),wt(!0)),Bt.current=bt},[bt]);var Ct=y[Ae]||{},dn=Ct.target,zn=Ct.placement,rn=Ct.style,Cn=Ct.arrow,Vt=Ct.className,At=Ct.mask,$n=Ct.scrollIntoViewOptions,yn=$n===void 0?UT:$n,Ir=Ct.closeIcon,cr=Ct.closable,Kn=f6(cr,Ir,ve,he),qn=bt&&(At!=null?At:Z),Pn=yn!=null?yn:ae,Yn=g6(dn,L,re,Pn),zr=(0,Pe.Z)(Yn,2),si=zr[0],yi=zr[1],Di=m6(yi,X,zn),Eo=yi?typeof Cn=="undefined"?W:Cn:!1,gi=(0,dt.Z)(Eo)==="object"?Eo.pointAtCenter:!1;(0,yl.Z)(function(){var gr;(gr=ze.current)===null||gr===void 0||gr.forceAlign()},[gi,Ae]);var ai=function(Zn){Ke(Zn),I==null||I(Zn)},mi=(0,s.useMemo)(function(){return ye?typeof ye=="function"?ye({arrowPointAtCenter:gi}):ye:HT(gi)},[ye,gi]);if(yi===void 0||!Rt)return null;var Xi=function(){lt(!1),A==null||A(Ae)},Pi=function(){return s.createElement(C6,(0,Ue.Z)({arrow:Eo,key:"content",prefixCls:o,total:y.length,renderPanel:Q,onPrev:function(){ai(Ae-1)},onNext:function(){ai(Ae+1)},onClose:Xi,current:Ae,onFinish:function(){Xi(),z==null||z()}},y[Ae],{closable:Kn}))},Io=typeof qn=="boolean"?qn:!!qn,dr=typeof qn=="boolean"?void 0:qn,er=function(Zn){return Zn||yi||document.body};return s.createElement(s.Fragment,null,s.createElement(y6,{zIndex:fe,prefixCls:o,pos:si,showMask:Io,style:dr==null?void 0:dr.style,fill:dr==null?void 0:dr.color,open:bt,animated:ie,rootClassName:H,disabledInteraction:we}),s.createElement(Y.Z,(0,Ue.Z)({},Se,{builtinPlacements:mi,ref:ze,popupStyle:rn,popupPlacement:Di,popupVisible:bt,popupClassName:J()(H,Vt),prefixCls:o,popup:Pi,forceRender:!1,destroyPopupOnHide:!0,zIndex:fe,getTriggerDOMNode:er,arrow:!!Eo}),s.createElement(pu.Z,{open:bt,autoLock:!0},s.createElement("div",{className:J()(H,"".concat(o,"-target-placeholder")),style:(0,K.Z)((0,K.Z)({},si||w6),{},{position:"fixed",pointerEvents:"none"})}))))},I6=E6,T6=I6;function Hw(e){return e!=null}var WT=e=>{var t,a;const{stepProps:o,current:f,type:y,indicatorsRender:_}=e,{prefixCls:S,total:I=1,title:A,onClose:z,onPrev:L,onNext:F,onFinish:Z,cover:k,description:W,nextButtonProps:H,prevButtonProps:X,type:Q,closable:re}=o,ie=Q!=null?Q:y,ne=s.createElement("button",{type:"button",onClick:z,className:`${S}-close`},(re==null?void 0:re.closeIcon)||s.createElement(Cr.Z,{className:`${S}-close-icon`})),ae=f===I-1,ue=()=>{var Fe;L==null||L(),(Fe=X==null?void 0:X.onClick)===null||Fe===void 0||Fe.call(X)},fe=()=>{var Fe;ae?Z==null||Z():F==null||F(),(Fe=H==null?void 0:H.onClick)===null||Fe===void 0||Fe.call(H)},he=Hw(A)?s.createElement("div",{className:`${S}-header`},s.createElement("div",{className:`${S}-title`},A)):null,ve=Hw(W)?s.createElement("div",{className:`${S}-description`},W):null,ye=Hw(k)?s.createElement("div",{className:`${S}-cover`},k):null;let we;_?we=_(f,I):we=(0,Ie.Z)(Array.from({length:I}).keys()).map((Fe,Ae)=>s.createElement("span",{key:Fe,className:J()(Ae===f&&`${S}-indicator-active`,`${S}-indicator`)}));const Se=ie==="primary"?"default":"primary",ze={type:"default",ghost:ie==="primary"},[Te]=(0,rr.Z)("Tour",Gc.Z.Tour);return s.createElement("div",{className:`${S}-content`},s.createElement("div",{className:`${S}-inner`},re&&ne,ye,he,ve,s.createElement("div",{className:`${S}-footer`},I>1&&s.createElement("div",{className:`${S}-indicators`},we),s.createElement("div",{className:`${S}-buttons`},f!==0?s.createElement(ks,Object.assign({},ze,X,{onClick:ue,size:"small",className:J()(`${S}-prev-btn`,X==null?void 0:X.className)}),(t=X==null?void 0:X.children)!==null&&t!==void 0?t:Te==null?void 0:Te.Previous):null,s.createElement(ks,Object.assign({type:Se},H,{onClick:fe,size:"small",className:J()(`${S}-next-btn`,H==null?void 0:H.className)}),(a=H==null?void 0:H.children)!==null&&a!==void 0?a:ae?Te==null?void 0:Te.Finish:Te==null?void 0:Te.Next)))))};const M6=e=>{const{componentCls:t,padding:a,paddingXS:o,borderRadius:f,borderRadiusXS:y,colorPrimary:_,colorFill:S,indicatorHeight:I,indicatorWidth:A,boxShadowTertiary:z,zIndexPopup:L,colorBgElevated:F,fontWeightStrong:Z,marginXS:k,colorTextLightSolid:W,tourBorderRadius:H,colorWhite:X,primaryNextBtnHoverBg:Q,closeBtnSize:re,motionDurationSlow:ie,antCls:ne,primaryPrevBtnBg:ae}=e;return[{[t]:Object.assign(Object.assign({},(0,nn.Wf)(e)),{position:"absolute",zIndex:L,maxWidth:"fit-content",visibility:"visible",width:520,"--antd-arrow-background-color":F,"&-pure":{maxWidth:"100%",position:"relative"},[`&${t}-hidden`]:{display:"none"},[`${t}-content`]:{position:"relative"},[`${t}-inner`]:{textAlign:"start",textDecoration:"none",borderRadius:H,boxShadow:z,position:"relative",backgroundColor:F,border:"none",backgroundClip:"padding-box",[`${t}-close`]:Object.assign({position:"absolute",top:a,insetInlineEnd:a,color:e.colorIcon,background:"none",border:"none",width:re,height:re,borderRadius:e.borderRadiusSM,transition:`background-color ${e.motionDurationMid}, color ${e.motionDurationMid}`,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer","&:hover":{color:e.colorIconHover,backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive}},(0,nn.Qy)(e)),[`${t}-cover`]:{textAlign:"center",padding:`${(0,me.bf)(e.calc(a).add(re).add(o).equal())} ${(0,me.bf)(a)} 0`,img:{width:"100%"}},[`${t}-header`]:{padding:`${(0,me.bf)(a)} ${(0,me.bf)(a)} ${(0,me.bf)(o)}`,width:`calc(100% - ${(0,me.bf)(re)})`,wordBreak:"break-word",[`${t}-title`]:{fontWeight:Z}},[`${t}-description`]:{padding:`0 ${(0,me.bf)(a)}`,wordWrap:"break-word"},[`${t}-footer`]:{padding:`${(0,me.bf)(o)} ${(0,me.bf)(a)} ${(0,me.bf)(a)}`,textAlign:"end",borderRadius:`0 0 ${(0,me.bf)(y)} ${(0,me.bf)(y)}`,display:"flex",[`${t}-indicators`]:{display:"inline-block",[`${t}-indicator`]:{width:A,height:I,display:"inline-block",borderRadius:"50%",background:S,"&:not(:last-child)":{marginInlineEnd:I},"&-active":{background:_}}},[`${t}-buttons`]:{marginInlineStart:"auto",[`${ne}-btn`]:{marginInlineStart:k}}}},[`${t}-primary, &${t}-primary`]:{"--antd-arrow-background-color":_,[`${t}-inner`]:{color:W,textAlign:"start",textDecoration:"none",backgroundColor:_,borderRadius:f,boxShadow:z,[`${t}-close`]:{color:W},[`${t}-indicators`]:{[`${t}-indicator`]:{background:ae,"&-active":{background:W}}},[`${t}-prev-btn`]:{color:W,borderColor:ae,backgroundColor:_,"&:hover":{backgroundColor:ae,borderColor:"transparent"}},[`${t}-next-btn`]:{color:_,borderColor:"transparent",background:X,"&:hover":{background:Q}}}}}),[`${t}-mask`]:{[`${t}-placeholder-animated`]:{transition:`all ${ie}`}},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${t}-inner`]:{borderRadius:e.min(H,$u.qN)}}},(0,$u.ZP)(e,"var(--antd-arrow-background-color)")]},P6=e=>Object.assign(Object.assign({zIndexPopup:e.zIndexPopupBase+70,closeBtnSize:e.fontSize*e.lineHeight,primaryPrevBtnBg:new Sl.t(e.colorTextLightSolid).setA(.15).toRgbString(),primaryNextBtnHoverBg:new Sl.t(e.colorBgTextHover).onBackground(e.colorWhite).toRgbString()},(0,$u.wZ)({contentRadius:e.borderRadiusLG,limitVerticalRadius:!0})),(0,Pf.w)(e));var GT=(0,oe.I$)("Tour",e=>{const{borderRadiusLG:t}=e,a=(0,kr.IX)(e,{indicatorWidth:6,indicatorHeight:6,tourBorderRadius:t});return[M6(a)]},P6),O6=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const R6=e=>{const{prefixCls:t,current:a=0,total:o=6,className:f,style:y,type:_,closable:S,closeIcon:I}=e,A=O6(e,["prefixCls","current","total","className","style","type","closable","closeIcon"]),{getPrefixCls:z}=s.useContext(_e.E_),L=z("tour",t),[F,Z,k]=GT(L),[W,H]=of({closable:S,closeIcon:I},null,{closable:!0,closeIconRender:X=>s.isValidElement(X)?(0,Tn.Tm)(X,{className:J()(X.props.className,`${L}-close-icon`)}):X});return F(s.createElement(nI.t5,{prefixCls:L,hashId:Z,className:J()(f,`${L}-pure`,_&&`${L}-${_}`,k),style:y},s.createElement(WT,{stepProps:Object.assign(Object.assign({},A),{prefixCls:L,total:o,closable:W?{closeIcon:H}:void 0}),current:a,type:_})))};var $6=(0,zl.i)(R6),A6=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const XT=e=>{const{prefixCls:t,type:a,rootClassName:o,indicatorsRender:f,steps:y,closeIcon:_}=e,S=A6(e,["prefixCls","type","rootClassName","indicatorsRender","steps","closeIcon"]),{getPrefixCls:I,direction:A,tour:z}=(0,s.useContext)(_e.E_),L=I("tour",t),[F,Z,k]=GT(L),[,W]=(0,Vr.ZP)(),H=s.useMemo(()=>y==null?void 0:y.map(ae=>{var ue;return Object.assign(Object.assign({},ae),{className:J()(ae.className,{[`${L}-primary`]:((ue=ae.type)!==null&&ue!==void 0?ue:a)==="primary"})})}),[y,a]),X=ae=>{var ue;return(0,Hn.Z)({arrowPointAtCenter:(ue=ae==null?void 0:ae.arrowPointAtCenter)!==null&&ue!==void 0?ue:!0,autoAdjustOverflow:!0,offset:W.marginXXS,arrowWidth:W.sizePopupArrow,borderRadius:W.borderRadius})},Q=J()({[`${L}-rtl`]:A==="rtl"},Z,k,o),re=(ae,ue)=>s.createElement(WT,{type:a,stepProps:ae,current:ue,indicatorsRender:f}),[ie,ne]=(0,bn.Cn)("Tour",S.zIndex);return F(s.createElement(fd.Z.Provider,{value:ne},s.createElement(T6,Object.assign({},S,{closeIcon:_!=null?_:z==null?void 0:z.closeIcon,zIndex:ie,rootClassName:Q,prefixCls:L,animated:!0,renderPanel:re,builtinPlacements:X,steps:H}))))};XT._InternalPanelDoNotUseOrYouWillBeFired=$6;var D6=XT;const zx=e=>{const t=new Map;return e.forEach((a,o)=>{t.set(a,o)}),t},z6=e=>{const t=new Map;return e.forEach((a,o)=>{let{disabled:f,key:y}=a;f&&t.set(y,o)}),t};var L6=(e,t,a)=>{const o=s.useMemo(()=>(e||[]).map(_=>t?Object.assign(Object.assign({},_),{key:t(_)}):_),[e,t]),[f,y]=s.useMemo(()=>{var _;const S=[],I=Array.from({length:(_=a==null?void 0:a.length)!==null&&_!==void 0?_:0}),A=zx(a||[]);return o.forEach(z=>{if(A.has(z.key)){const L=A.get(z.key);I[L]=z}else S.push(z)}),[S,I]},[o,a]);return[o,f.filter(Boolean),y.filter(Boolean)]};const N6=[];function Lx(e,t){const a=e.filter(o=>t.has(o));return e.length===a.length?e:a}function KT(e){return Array.from(e).join(";")}function B6(e,t,a){const[o,f]=s.useMemo(()=>[new Set(e.map(L=>L==null?void 0:L.key)),new Set(t.map(L=>L==null?void 0:L.key))],[e,t]),[y,_]=(0,Os.C8)(N6,{value:a}),S=s.useMemo(()=>Lx(y,o),[y,o]),I=s.useMemo(()=>Lx(y,f),[y,f]);s.useEffect(()=>{_([].concat((0,Ie.Z)(Lx(y,o)),(0,Ie.Z)(Lx(y,f))))},[KT(o),KT(f)]);const A=(0,Os.zX)(L=>{_([].concat((0,Ie.Z)(L),(0,Ie.Z)(I)))}),z=(0,Os.zX)(L=>{_([].concat((0,Ie.Z)(S),(0,Ie.Z)(L)))});return[S,I,A,z]}var F6=B6,k6={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},j6=k6,Z6=function(t,a){return s.createElement(En.Z,(0,Ue.Z)({},t,{ref:a,icon:j6}))},V6=s.forwardRef(Z6),qT=V6;const H6=e=>{const{renderedText:t,renderedEl:a,item:o,checked:f,disabled:y,prefixCls:_,onClick:S,onRemove:I,showRemove:A}=e,z=J()(`${_}-content-item`,{[`${_}-content-item-disabled`]:y||o.disabled,[`${_}-content-item-checked`]:f&&!o.disabled});let L;(typeof t=="string"||typeof t=="number")&&(L=String(t));const[F]=(0,rr.Z)("Transfer",Gc.Z.Transfer),Z={className:z,title:L},k=s.createElement("span",{className:`${_}-content-item-text`},a);return A?s.createElement("li",Object.assign({},Z),k,s.createElement("button",{type:"button",disabled:y||o.disabled,className:`${_}-content-item-remove`,"aria-label":F==null?void 0:F.remove,onClick:()=>I==null?void 0:I(o)},s.createElement(qT,null))):(Z.onClick=y||o.disabled?void 0:W=>S(o,W),s.createElement("li",Object.assign({},Z),s.createElement(xg,{className:`${_}-checkbox`,checked:f,disabled:y||o.disabled}),k))};var U6=s.memo(H6);const W6=["handleFilter","handleClear","checkedKeys"],G6=e=>Object.assign(Object.assign({},{simple:!0,showSizeChanger:!1,showLessItems:!1}),e),X6=(e,t)=>{const{prefixCls:a,filteredRenderItems:o,selectedKeys:f,disabled:y,showRemove:_,pagination:S,onScroll:I,onItemSelect:A,onItemRemove:z}=e,[L,F]=s.useState(1),Z=s.useMemo(()=>S?G6(typeof S=="object"?S:{}):null,[S]),[k,W]=(0,zt.Z)(10,{value:Z==null?void 0:Z.pageSize});s.useEffect(()=>{if(Z){const ue=Math.ceil(o.length/k);F(Math.min(L,ue))}},[o,Z,k]);const H=(ue,fe)=>{A(ue.key,!f.includes(ue.key),fe)},X=ue=>{z==null||z([ue.key])},Q=ue=>{F(ue)},re=(ue,fe)=>{F(ue),W(fe)},ie=s.useMemo(()=>Z?o.slice((L-1)*k,L*k):o,[L,o,Z,k]);s.useImperativeHandle(t,()=>({items:ie}));const ne=Z?s.createElement(mx,{size:"small",disabled:y,simple:Z.simple,pageSize:k,showLessItems:Z.showLessItems,showSizeChanger:Z.showSizeChanger,className:`${a}-pagination`,total:o.length,current:L,onChange:Q,onShowSizeChange:re}):null,ae=J()(`${a}-content`,{[`${a}-content-show-remove`]:_});return s.createElement(s.Fragment,null,s.createElement("ul",{className:ae,onScroll:I},(ie||[]).map(ue=>{let{renderedEl:fe,renderedText:he,item:ve}=ue;return s.createElement(U6,{key:ve.key,item:ve,renderedText:he,renderedEl:fe,prefixCls:a,showRemove:_,onClick:H,onRemove:X,checked:f.includes(ve.key),disabled:y||ve.disabled})})),ne)};var K6=s.forwardRef(X6),YT=e=>{const{placeholder:t="",value:a,prefixCls:o,disabled:f,onChange:y,handleClear:_}=e,S=s.useCallback(I=>{y==null||y(I),I.target.value===""&&(_==null||_())},[y]);return s.createElement(lv.Z,{placeholder:t,className:o,value:a,onChange:S,disabled:f,allowClear:!0,prefix:s.createElement(qS.Z,null)})};const q6=()=>null;function Y6(e){return!!(e&&!s.isValidElement(e)&&Object.prototype.toString.call(e)==="[object Object]")}function Ob(e){return e.filter(t=>!t.disabled).map(t=>t.key)}const J6=e=>e!==void 0,Q6=e=>e&&typeof e=="object"?Object.assign(Object.assign({},e),{defaultValue:e.defaultValue||""}):{defaultValue:"",placeholder:""};var Uw=e=>{const{prefixCls:t,dataSource:a=[],titleText:o="",checkedKeys:f,disabled:y,showSearch:_=!1,style:S,searchPlaceholder:I,notFoundContent:A,selectAll:z,deselectAll:L,selectCurrent:F,selectInvert:Z,removeAll:k,removeCurrent:W,showSelectAll:H=!0,showRemove:X,pagination:Q,direction:re,itemsUnit:ie,itemUnit:ne,selectAllLabel:ae,selectionsIcon:ue,footer:fe,renderList:he,onItemSelectAll:ve,onItemRemove:ye,handleFilter:we,handleClear:Se,filterOption:ze,render:Te=q6}=e,Fe=Q6(_),[Ae,Ke]=(0,s.useState)(Fe.defaultValue),tt=(0,s.useRef)({}),vt=Kn=>{Ke(Kn.target.value),we(Kn)},bt=()=>{Ke(""),Se()},lt=(Kn,qn)=>ze?ze(Ae,qn,re):Kn.includes(Ae),ct=Kn=>{let qn=he?he(Object.assign(Object.assign({},Kn),{onItemSelect:(Yn,zr)=>Kn.onItemSelect(Yn,zr)})):null;const Pn=!!qn;return Pn||(qn=s.createElement(K6,Object.assign({ref:tt},Kn))),{customize:Pn,bodyContent:qn}},mt=Kn=>{const qn=Te(Kn),Pn=Y6(qn);return{item:Kn,renderedEl:Pn?qn.label:qn,renderedText:Pn?qn.value:qn}},Rt=(0,s.useMemo)(()=>Array.isArray(A)?A[re==="left"?0:1]:A,[A,re]),[wt,Bt]=(0,s.useMemo)(()=>{const Kn=[],qn=[];return a.forEach(Pn=>{const Yn=mt(Pn);Ae&&!lt(Yn.renderedText,Pn)||(Kn.push(Pn),qn.push(Yn))}),[Kn,qn]},[a,Ae]),Ct=(0,s.useMemo)(()=>wt.filter(Kn=>f.includes(Kn.key)&&!Kn.disabled),[f,wt]),dn=(0,s.useMemo)(()=>{if(Ct.length===0)return"none";const Kn=zx(f);return wt.every(qn=>Kn.has(qn.key)||!!qn.disabled)?"all":"part"},[f,Ct]),zn=(0,s.useMemo)(()=>{const Kn=_?s.createElement("div",{className:`${t}-body-search-wrapper`},s.createElement(YT,{prefixCls:`${t}-search`,onChange:vt,handleClear:bt,placeholder:Fe.placeholder||I,value:Ae,disabled:y})):null,{customize:qn,bodyContent:Pn}=ct(Object.assign(Object.assign({},(0,Ci.Z)(e,W6)),{filteredItems:wt,filteredRenderItems:Bt,selectedKeys:f}));let Yn;return qn?Yn=s.createElement("div",{className:`${t}-body-customize-wrapper`},Pn):Yn=wt.length?Pn:s.createElement("div",{className:`${t}-body-not-found`},Rt),s.createElement("div",{className:J()(`${t}-body`,{[`${t}-body-with-search`]:_})},Kn,Yn)},[_,t,I,Ae,y,f,wt,Bt,Rt]),rn=s.createElement(xg,{disabled:a.filter(Kn=>!Kn.disabled).length===0||y,checked:dn==="all",indeterminate:dn==="part",className:`${t}-checkbox`,onChange:()=>{ve==null||ve(wt.filter(Kn=>!Kn.disabled).map(Kn=>{let{key:qn}=Kn;return qn}),dn!=="all")}}),Cn=(Kn,qn)=>{if(ae)return typeof ae=="function"?ae({selectedCount:Kn,totalCount:qn}):ae;const Pn=qn>1?ie:ne;return s.createElement(s.Fragment,null,(Kn>0?`${Kn}/`:"")+qn," ",Pn)},Vt=fe&&(fe.length<2?fe(e):fe(e,{direction:re})),At=J()(t,{[`${t}-with-pagination`]:!!Q,[`${t}-with-footer`]:!!Vt}),$n=Vt?s.createElement("div",{className:`${t}-footer`},Vt):null,yn=!X&&!Q&&rn;let Ir;X?Ir=[Q?{key:"removeCurrent",label:W,onClick(){var Kn;const qn=Ob((((Kn=tt.current)===null||Kn===void 0?void 0:Kn.items)||[]).map(Pn=>Pn.item));ye==null||ye(qn)}}:null,{key:"removeAll",label:k,onClick(){ye==null||ye(Ob(wt))}}].filter(Boolean):Ir=[{key:"selectAll",label:dn==="all"?L:z,onClick(){const Kn=Ob(wt);ve==null||ve(Kn,Kn.length!==f.length)}},Q?{key:"selectCurrent",label:F,onClick(){var Kn;const qn=((Kn=tt.current)===null||Kn===void 0?void 0:Kn.items)||[];ve==null||ve(Ob(qn.map(Pn=>Pn.item)),!0)}}:null,{key:"selectInvert",label:Z,onClick(){var Kn;const qn=Ob((((Kn=tt.current)===null||Kn===void 0?void 0:Kn.items)||[]).map(zr=>zr.item)),Pn=new Set(f),Yn=new Set(Pn);qn.forEach(zr=>{Pn.has(zr)?Yn.delete(zr):Yn.add(zr)}),ve==null||ve(Array.from(Yn),"replace")}}];const cr=s.createElement(lx,{className:`${t}-header-dropdown`,menu:{items:Ir},disabled:y},J6(ue)?ue:s.createElement(b.Z,null));return s.createElement("div",{className:At,style:S},s.createElement("div",{className:`${t}-header`},H?s.createElement(s.Fragment,null,yn,cr):null,s.createElement("span",{className:`${t}-header-selected`},Cn(Ct.length,wt.length)),s.createElement("span",{className:`${t}-header-title`},o)),zn,$n)},JT=e=>{const{disabled:t,moveToLeft:a,moveToRight:o,leftArrowText:f="",rightArrowText:y="",leftActive:_,rightActive:S,className:I,style:A,direction:z,oneWay:L}=e;return s.createElement("div",{className:I,style:A},s.createElement(ks,{type:"primary",size:"small",disabled:t||!S,onClick:o,icon:z!=="rtl"?s.createElement(U.Z,null):s.createElement(V,null)},y),!L&&s.createElement(ks,{type:"primary",size:"small",disabled:t||!_,onClick:a,icon:z!=="rtl"?s.createElement(V,null):s.createElement(U.Z,null)},f))};const eB=e=>{const{antCls:t,componentCls:a,listHeight:o,controlHeightLG:f}=e,y=`${t}-table`,_=`${t}-input`;return{[`${a}-customize-list`]:{[`${a}-list`]:{flex:"1 1 50%",width:"auto",height:"auto",minHeight:o,minWidth:0},[`${y}-wrapper`]:{[`${y}-small`]:{border:0,borderRadius:0,[`${y}-selection-column`]:{width:f,minWidth:f}},[`${y}-pagination${y}-pagination`]:{margin:0,padding:e.paddingXS}},[`${_}[disabled]`]:{backgroundColor:"transparent"}}}},QT=(e,t)=>{const{componentCls:a,colorBorder:o}=e;return{[`${a}-list`]:{borderColor:t,"&-search:not([disabled])":{borderColor:o}}}},tB=e=>{const{componentCls:t}=e;return{[`${t}-status-error`]:Object.assign({},QT(e,e.colorError)),[`${t}-status-warning`]:Object.assign({},QT(e,e.colorWarning))}},nB=e=>{const{componentCls:t,colorBorder:a,colorSplit:o,lineWidth:f,itemHeight:y,headerHeight:_,transferHeaderVerticalPadding:S,itemPaddingBlock:I,controlItemBgActive:A,colorTextDisabled:z,colorTextSecondary:L,listHeight:F,listWidth:Z,listWidthLG:k,fontSizeIcon:W,marginXS:H,paddingSM:X,lineType:Q,antCls:re,iconCls:ie,motionDurationSlow:ne,controlItemBgHover:ae,borderRadiusLG:ue,colorBgContainer:fe,colorText:he,controlItemBgActiveHover:ve}=e,ye=(0,me.bf)(e.calc(ue).sub(f).equal());return{display:"flex",flexDirection:"column",width:Z,height:F,border:`${(0,me.bf)(f)} ${Q} ${a}`,borderRadius:e.borderRadiusLG,"&-with-pagination":{width:k,height:"auto"},"&-search":{[`${ie}-search`]:{color:z}},"&-header":{display:"flex",flex:"none",alignItems:"center",height:_,padding:`${(0,me.bf)(e.calc(S).sub(f).equal())} ${(0,me.bf)(X)} ${(0,me.bf)(S)}`,color:he,background:fe,borderBottom:`${(0,me.bf)(f)} ${Q} ${o}`,borderRadius:`${(0,me.bf)(ue)} ${(0,me.bf)(ue)} 0 0`,"> *:not(:last-child)":{marginInlineEnd:4},"> *":{flex:"none"},"&-title":Object.assign(Object.assign({},nn.vS),{flex:"auto",textAlign:"end"}),"&-dropdown":Object.assign(Object.assign({},(0,nn.Ro)()),{fontSize:W,transform:"translateY(10%)",cursor:"pointer","&[disabled]":{cursor:"not-allowed"}})},"&-body":{display:"flex",flex:"auto",flexDirection:"column",fontSize:e.fontSize,minHeight:0,"&-search-wrapper":{position:"relative",flex:"none",padding:X}},"&-content":{flex:"auto",margin:0,padding:0,overflow:"auto",listStyle:"none",borderRadius:`0 0 ${ye} ${ye}`,"&-item":{display:"flex",alignItems:"center",minHeight:y,padding:`${(0,me.bf)(I)} ${(0,me.bf)(X)}`,transition:`all ${ne}`,"> *:not(:last-child)":{marginInlineEnd:H},"> *":{flex:"none"},"&-text":Object.assign(Object.assign({},nn.vS),{flex:"auto"}),"&-remove":Object.assign(Object.assign({},(0,nn.Nd)(e)),{color:a,"&:hover, &:focus":{color:L}}),[`&:not(${t}-list-content-item-disabled)`]:{"&:hover":{backgroundColor:ae,cursor:"pointer"},[`&${t}-list-content-item-checked:hover`]:{backgroundColor:ve}},"&-checked":{backgroundColor:A},"&-disabled":{color:z,cursor:"not-allowed"}},[`&-show-remove ${t}-list-content-item:not(${t}-list-content-item-disabled):hover`]:{background:"transparent",cursor:"default"}},"&-pagination":{padding:e.paddingXS,textAlign:"end",borderTop:`${(0,me.bf)(f)} ${Q} ${o}`,[`${re}-pagination-options`]:{paddingInlineEnd:e.paddingXS}},"&-body-not-found":{flex:"none",width:"100%",margin:"auto 0",color:z,textAlign:"center"},"&-footer":{borderTop:`${(0,me.bf)(f)} ${Q} ${o}`},"&-checkbox":{lineHeight:1}}},rB=e=>{const{antCls:t,iconCls:a,componentCls:o,marginXS:f,marginXXS:y,fontSizeIcon:_,colorBgContainerDisabled:S}=e;return{[o]:Object.assign(Object.assign({},(0,nn.Wf)(e)),{position:"relative",display:"flex",alignItems:"stretch",[`${o}-disabled`]:{[`${o}-list`]:{background:S}},[`${o}-list`]:nB(e),[`${o}-operation`]:{display:"flex",flex:"none",flexDirection:"column",alignSelf:"center",margin:`0 ${(0,me.bf)(f)}`,verticalAlign:"middle",gap:y,[`${t}-btn ${a}`]:{fontSize:_}}})}},iB=e=>{const{componentCls:t}=e;return{[`${t}-rtl`]:{direction:"rtl"}}},oB=e=>{const{fontSize:t,lineHeight:a,controlHeight:o,controlHeightLG:f,lineWidth:y}=e,_=Math.round(t*a);return{listWidth:180,listHeight:200,listWidthLG:250,headerHeight:f,itemHeight:o,itemPaddingBlock:(o-_)/2,transferHeaderVerticalPadding:Math.ceil((f-y-_)/2)}};var aB=(0,oe.I$)("Transfer",e=>{const t=(0,kr.IX)(e);return[rB(t),eB(t),tB(t),iB(t)]},oB);const Nx=e=>{const{dataSource:t,targetKeys:a=[],selectedKeys:o,selectAllLabels:f=[],operations:y=[],style:_={},listStyle:S={},locale:I={},titles:A,disabled:z,showSearch:L=!1,operationStyle:F,showSelectAll:Z,oneWay:k,pagination:W,status:H,prefixCls:X,className:Q,rootClassName:re,selectionsIcon:ie,filterOption:ne,render:ae,footer:ue,children:fe,rowKey:he,onScroll:ve,onChange:ye,onSearch:we,onSelectChange:Se}=e,{getPrefixCls:ze,renderEmpty:Te,direction:Fe,transfer:Ae}=(0,s.useContext)(_e.E_),Ke=ze("transfer",X),[tt,vt,bt]=aB(Ke),[lt,ct,mt]=L6(t,he,a),[Rt,wt,Bt,Ct]=F6(ct,mt,o),[dn,zn]=Iw(Co=>Co.key),[rn,Cn]=Iw(Co=>Co.key),Vt=(0,s.useCallback)((Co,Go)=>{if(Co==="left"){const Ta=typeof Go=="function"?Go(Rt||[]):Go;Bt(Ta)}else{const Ta=typeof Go=="function"?Go(wt||[]):Go;Ct(Ta)}},[Rt,wt]),At=(Co,Go)=>{(Co==="left"?zn:Cn)(Go)},$n=(0,s.useCallback)((Co,Go)=>{Co==="left"?Se==null||Se(Go,wt):Se==null||Se(Rt,Go)},[Rt,wt]),yn=Co=>{var Go;return(Go=A!=null?A:Co.titles)!==null&&Go!==void 0?Go:[]},Ir=Co=>{ve==null||ve("left",Co)},cr=Co=>{ve==null||ve("right",Co)},Kn=Co=>{const Go=Co==="right"?Rt:wt,Ta=z6(lt),Wa=Go.filter(xl=>!Ta.has(xl)),ds=zx(Wa),sl=Co==="right"?Wa.concat(a):a.filter(xl=>!ds.has(xl)),Ol=Co==="right"?"left":"right";Vt(Ol,[]),$n(Ol,[]),ye==null||ye(sl,Co,Wa)},qn=()=>{Kn("left"),At("left",null)},Pn=()=>{Kn("right"),At("right",null)},Yn=(Co,Go,Ta)=>{Vt(Co,Wa=>{let ds=[];if(Ta==="replace")ds=Go;else if(Ta)ds=Array.from(new Set([].concat((0,Ie.Z)(Wa),(0,Ie.Z)(Go))));else{const sl=zx(Go);ds=Wa.filter(Ol=>!sl.has(Ol))}return $n(Co,ds),ds}),At(Co,null)},zr=(Co,Go)=>{Yn("left",Co,Go)},si=(Co,Go)=>{Yn("right",Co,Go)},yi=Co=>we==null?void 0:we("left",Co.target.value),Di=Co=>we==null?void 0:we("right",Co.target.value),Eo=()=>we==null?void 0:we("left",""),gi=()=>we==null?void 0:we("right",""),ai=(Co,Go,Ta,Wa,ds)=>{Go.has(Ta)&&(Go.delete(Ta),At(Co,null)),Wa&&(Go.add(Ta),At(Co,ds))},mi=(Co,Go,Ta,Wa)=>{(Co==="left"?dn:rn)(Wa,Go,Ta)},Xi=(Co,Go,Ta,Wa)=>{const ds=Co==="left",sl=(0,Ie.Z)(ds?Rt:wt),Ol=new Set(sl),xl=(0,Ie.Z)(ds?ct:mt).filter(Uo=>!(Uo!=null&&Uo.disabled)),Zl=xl.findIndex(Uo=>Uo.key===Go);Wa&&sl.length>0?mi(Co,xl,Ol,Zl):ai(Co,Ol,Go,Ta,Zl);const fa=Array.from(Ol);$n(Co,fa),e.selectedKeys||Vt(Co,fa)},Pi=(Co,Go,Ta)=>{Xi("left",Co,Go,Ta==null?void 0:Ta.shiftKey)},Io=(Co,Go,Ta)=>{Xi("right",Co,Go,Ta==null?void 0:Ta.shiftKey)},dr=Co=>{Vt("right",[]),ye==null||ye(a.filter(Go=>!Co.includes(Go)),"left",(0,Ie.Z)(Co))},er=Co=>typeof S=="function"?S({direction:Co}):S||{},gr=(0,s.useContext)(Tc.aM),{hasFeedback:Zn,status:ni}=gr,Oi=Co=>Object.assign(Object.assign(Object.assign({},Co),{notFoundContent:(Te==null?void 0:Te("Transfer"))||s.createElement(bs.Z,{componentName:"Transfer"})}),I),ro=(0,Ya.F)(ni,H),Ko=!fe&&W,Oa=mt.filter(Co=>wt.includes(Co.key)&&!Co.disabled).length>0,ta=ct.filter(Co=>Rt.includes(Co.key)&&!Co.disabled).length>0,Is=J()(Ke,{[`${Ke}-disabled`]:z,[`${Ke}-customize-list`]:!!fe,[`${Ke}-rtl`]:Fe==="rtl"},(0,Ya.Z)(Ke,ro,Zn),Ae==null?void 0:Ae.className,Q,re,vt,bt),[Fa]=(0,rr.Z)("Transfer",Gc.Z.Transfer),Ua=Oi(Fa),[pa,rs]=yn(Ua),Ls=ie!=null?ie:Ae==null?void 0:Ae.selectionsIcon;return tt(s.createElement("div",{className:Is,style:Object.assign(Object.assign({},Ae==null?void 0:Ae.style),_)},s.createElement(Uw,Object.assign({prefixCls:`${Ke}-list`,titleText:pa,dataSource:ct,filterOption:ne,style:er("left"),checkedKeys:Rt,handleFilter:yi,handleClear:Eo,onItemSelect:Pi,onItemSelectAll:zr,render:ae,showSearch:L,renderList:fe,footer:ue,onScroll:Ir,disabled:z,direction:Fe==="rtl"?"right":"left",showSelectAll:Z,selectAllLabel:f[0],pagination:Ko,selectionsIcon:Ls},Ua)),s.createElement(JT,{className:`${Ke}-operation`,rightActive:ta,rightArrowText:y[0],moveToRight:Pn,leftActive:Oa,leftArrowText:y[1],moveToLeft:qn,style:F,disabled:z,direction:Fe,oneWay:k}),s.createElement(Uw,Object.assign({prefixCls:`${Ke}-list`,titleText:rs,dataSource:mt,filterOption:ne,style:er("right"),checkedKeys:wt,handleFilter:Di,handleClear:gi,onItemSelect:Io,onItemSelectAll:si,onItemRemove:dr,render:ae,showSearch:L,renderList:fe,footer:ue,onScroll:cr,disabled:z,direction:Fe==="rtl"?"left":"right",showSelectAll:Z,selectAllLabel:f[1],showRemove:k,pagination:Ko,selectionsIcon:Ls},Ua))))};Nx.List=Uw,Nx.Search=YT,Nx.Operation=JT;var sB=Nx,lB=function(e){var t=s.useRef({valueLabels:new Map});return s.useMemo(function(){var a=t.current.valueLabels,o=new Map,f=e.map(function(y){var _=y.value,S=y.label,I=S!=null?S:a.get(_);return o.set(_,I),(0,K.Z)((0,K.Z)({},y),{},{label:I})});return t.current.valueLabels=o,[f]},[e])},cB=function(t,a,o,f){return s.useMemo(function(){var y=function(Z){return Z.map(function(k){var W=k.value;return W})},_=y(t),S=y(a),I=_.filter(function(F){return!f[F]}),A=_,z=S;if(o){var L=(0,Wt.S)(_,!0,f);A=L.checkedKeys,z=L.halfCheckedKeys}return[Array.from(new Set([].concat((0,Ie.Z)(I),(0,Ie.Z)(A)))),z]},[t,a,o,f])},uB=cB,dB=function(e,t){return s.useMemo(function(){var a=(0,Lt.I8)(e,{fieldNames:t,initWrapper:function(f){return(0,K.Z)((0,K.Z)({},f),{},{valueEntities:new Map})},processEntity:function(f,y){var _=f.node[t.value];if(0)var S;y.valueEntities.set(_,f)}});return a},[e,t])},fB=function(){return null},Ww=fB,hB=["children","value"];function eM(e){return(0,ac.Z)(e).map(function(t){if(!s.isValidElement(t)||!t.type)return null;var a=t,o=a.key,f=a.props,y=f.children,_=f.value,S=(0,de.Z)(f,hB),I=(0,K.Z)({key:o,value:_},S),A=eM(y);return A.length&&(I.children=A),I}).filter(function(t){return t})}function Gw(e){if(!e)return e;var t=(0,K.Z)({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return(0,Pc.ZP)(!1,"New `rc-tree-select` not support return node instance as argument anymore. Please consider to remove `props` access."),t}}),t}function mB(e,t,a,o,f,y){var _=null,S=null;function I(){function A(z){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"0",F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return z.map(function(Z,k){var W="".concat(L,"-").concat(k),H=Z[y.value],X=a.includes(H),Q=A(Z[y.children]||[],W,X),re=s.createElement(Ww,Z,Q.map(function(ne){return ne.node}));if(t===H&&(_=re),X){var ie={pos:W,node:re,children:Q};return F||S.push(ie),ie}return null}).filter(function(Z){return Z})}S||(S=[],A(o),S.sort(function(z,L){var F=z.node.props.value,Z=L.node.props.value,k=a.indexOf(F),W=a.indexOf(Z);return k-W}))}Object.defineProperty(e,"triggerNode",{get:function(){return(0,Pc.ZP)(!1,"`triggerNode` is deprecated. Please consider decoupling data with node."),I(),_}}),Object.defineProperty(e,"allCheckedNodes",{get:function(){return(0,Pc.ZP)(!1,"`allCheckedNodes` is deprecated. Please consider decoupling data with node."),I(),f?S:S.map(function(z){var L=z.node;return L})}})}var pB=function(t,a,o){var f=o.fieldNames,y=o.treeNodeFilterProp,_=o.filterTreeNode,S=f.children;return s.useMemo(function(){if(!a||_===!1)return t;var I=typeof _=="function"?_:function(z,L){return String(L[y]).toUpperCase().includes(a.toUpperCase())},A=function z(L){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return L.reduce(function(Z,k){var W=k[S],H=F||I(a,Gw(k)),X=z(W||[],H);return(H||X.length)&&Z.push((0,K.Z)((0,K.Z)({},k),{},(0,ge.Z)({isLeaf:void 0},S,X))),Z},[])};return A(t)},[t,a,S,y,_])},gB=pB;function tM(e){var t=s.useRef();t.current=e;var a=s.useCallback(function(){return t.current.apply(t,arguments)},[]);return a}function vB(e,t){var a=t.id,o=t.pId,f=t.rootPId,y=new Map,_=[];return e.forEach(function(S){var I=S[a],A=(0,K.Z)((0,K.Z)({},S),{},{key:S.key||I});y.set(I,A)}),y.forEach(function(S){var I=S[o],A=y.get(I);A?(A.children=A.children||[],A.children.push(S)):(I===f||f===null)&&_.push(S)}),_}function yB(e,t,a){return s.useMemo(function(){if(e){if(a){var o=(0,K.Z)({id:"id",pId:"pId",rootPId:null},(0,dt.Z)(a)==="object"?a:{});return vB(e,o)}return e}return eM(t)},[t,a,e])}var bB=s.createContext(null),nM=bB,_B=s.createContext(null),rM=_B,xB=function(t){return Array.isArray(t)?t:t!==void 0?[t]:[]},CB=function(t){var a=t||{},o=a.label,f=a.value,y=a.children;return{_title:o?[o]:["title","label"],value:f||"value",key:f||"value",children:y||"children"}},Xw=function(t){return!t||t.disabled||t.disableCheckbox||t.checkable===!1},SB=function(t,a){var o=[],f=function y(_){_.forEach(function(S){var I=S[a.children];I&&(o.push(S[a.value]),y(I))})};return f(t),o},iM=function(t){return t==null},wB={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},EB=function(t,a){var o=(0,i.lk)(),f=o.prefixCls,y=o.multiple,_=o.searchValue,S=o.toggleOpen,I=o.open,A=o.notFoundContent,z=s.useContext(rM),L=z.virtual,F=z.listHeight,Z=z.listItemHeight,k=z.listItemScrollOffset,W=z.treeData,H=z.fieldNames,X=z.onSelect,Q=z.dropdownMatchSelectWidth,re=z.treeExpandAction,ie=z.treeTitleRender,ne=z.onPopupScroll,ae=z.leftMaxCount,ue=z.leafCountOnly,fe=z.valueEntities,he=s.useContext(nM),ve=he.checkable,ye=he.checkedKeys,we=he.halfCheckedKeys,Se=he.treeExpandedKeys,ze=he.treeDefaultExpandAll,Te=he.treeDefaultExpandedKeys,Fe=he.onTreeExpand,Ae=he.treeIcon,Ke=he.showTreeIcon,tt=he.switcherIcon,vt=he.treeLine,bt=he.treeNodeFilterProp,lt=he.loadData,ct=he.treeLoadedKeys,mt=he.treeMotion,Rt=he.onTreeLoad,wt=he.keyEntities,Bt=s.useRef(),Ct=(0,On.Z)(function(){return W},[I,W],function(Oi,ro){return ro[0]&&Oi[1]!==ro[1]}),dn=s.useMemo(function(){return ve?{checked:ye,halfChecked:we}:null},[ve,ye,we]);s.useEffect(function(){if(I&&!y&&ye.length){var Oi;(Oi=Bt.current)===null||Oi===void 0||Oi.scrollTo({key:ye[0]})}},[I]);var zn=function(ro){ro.preventDefault()},rn=function(ro,Ko){var Oa=Ko.node;ve&&Xw(Oa)||(X(Oa.key,{selected:!ye.includes(Oa.key)}),y||S(!1))},Cn=s.useState(Te),Vt=(0,Pe.Z)(Cn,2),At=Vt[0],$n=Vt[1],yn=s.useState(null),Ir=(0,Pe.Z)(yn,2),cr=Ir[0],Kn=Ir[1],qn=s.useMemo(function(){return Se?(0,Ie.Z)(Se):_?cr:At},[At,cr,Se,_]),Pn=function(ro){$n(ro),Kn(ro),Fe&&Fe(ro)},Yn=String(_).toLowerCase(),zr=function(ro){return Yn?String(ro[bt]).toLowerCase().includes(Yn):!1};s.useEffect(function(){_&&Kn(SB(W,H))},[_]);var si=s.useState(function(){return new Map}),yi=(0,Pe.Z)(si,2),Di=yi[0],Eo=yi[1];s.useEffect(function(){ae&&Eo(new Map)},[ae]);function gi(Oi){var ro=Oi[H.value];if(!Di.has(ro)){var Ko=fe.get(ro),Oa=(Ko.children||[]).length===0;if(Oa)Di.set(ro,!1);else{var ta=Ko.children.filter(function(Fa){return!Fa.node.disabled&&!Fa.node.disableCheckbox&&!ye.includes(Fa.node[H.value])}),Is=ta.length;Di.set(ro,Is>ae)}}return Di.get(ro)}var ai=(0,Os.zX)(function(Oi){var ro=Oi[H.value];return ye.includes(ro)||ae===null?!1:ae<=0?!0:ue&&ae?gi(Oi):!1}),mi=function Oi(ro){var Ko=Eg(ro),Oa;try{for(Ko.s();!(Oa=Ko.n()).done;){var ta=Oa.value;if(!(ta.disabled||ta.selectable===!1)){if(_){if(zr(ta))return ta}else return ta;if(ta[H.children]){var Is=Oi(ta[H.children]);if(Is)return Is}}}}catch(Fa){Ko.e(Fa)}finally{Ko.f()}return null},Xi=s.useState(null),Pi=(0,Pe.Z)(Xi,2),Io=Pi[0],dr=Pi[1],er=wt[Io];s.useEffect(function(){if(I){var Oi=null,ro=function(){var Oa=mi(Ct);return Oa?Oa[H.value]:null};!y&&ye.length&&!_?Oi=ye[0]:Oi=ro(),dr(Oi)}},[I,_]),s.useImperativeHandle(a,function(){var Oi;return{scrollTo:(Oi=Bt.current)===null||Oi===void 0?void 0:Oi.scrollTo,onKeyDown:function(Ko){var Oa,ta=Ko.which;switch(ta){case _t.Z.UP:case _t.Z.DOWN:case _t.Z.LEFT:case _t.Z.RIGHT:(Oa=Bt.current)===null||Oa===void 0||Oa.onKeyDown(Ko);break;case _t.Z.ENTER:{if(er){var Is=ai(er.node),Fa=(er==null?void 0:er.node)||{},Ua=Fa.selectable,pa=Fa.value,rs=Fa.disabled;Ua!==!1&&!rs&&!Is&&rn(null,{node:{key:Io},selected:!ye.includes(pa)})}break}case _t.Z.ESC:S(!1)}},onKeyUp:function(){}}});var gr=(0,On.Z)(function(){return!_},[_,Se||At],function(Oi,ro){var Ko=(0,Pe.Z)(Oi,1),Oa=Ko[0],ta=(0,Pe.Z)(ro,2),Is=ta[0],Fa=ta[1];return Oa!==Is&&!!(Is||Fa)}),Zn=gr?lt:null;if(Ct.length===0)return s.createElement("div",{role:"listbox",className:"".concat(f,"-empty"),onMouseDown:zn},A);var ni={fieldNames:H};return ct&&(ni.loadedKeys=ct),qn&&(ni.expandedKeys=qn),s.createElement("div",{onMouseDown:zn},er&&I&&s.createElement("span",{style:wB,"aria-live":"assertive"},er.node.value),s.createElement(Ox.y6.Provider,{value:{nodeDisabled:ai}},s.createElement(Ox.ZP,(0,Ue.Z)({ref:Bt,focusable:!1,prefixCls:"".concat(f,"-tree"),treeData:Ct,height:F,itemHeight:Z,itemScrollOffset:k,virtual:L!==!1&&Q!==!1,multiple:y,icon:Ae,showIcon:Ke,switcherIcon:tt,showLine:vt,loadData:Zn,motion:mt,activeKey:Io,checkable:ve,checkStrictly:!0,checkedKeys:dn,selectedKeys:ve?[]:ye,defaultExpandAll:ze,titleRender:ie},ni,{onActiveChange:dr,onSelect:rn,onCheck:rn,onExpand:Pn,onLoad:Rt,filterTreeNode:zr,expandAction:re,onScroll:ne}))))},IB=s.forwardRef(EB),TB=IB,Kw="SHOW_ALL",qw="SHOW_PARENT",Bx="SHOW_CHILD";function oM(e,t,a,o){var f=new Set(e);return t===Bx?e.filter(function(y){var _=a[y];return!_||!_.children||!_.children.some(function(S){var I=S.node;return f.has(I[o.value])})||!_.children.every(function(S){var I=S.node;return Xw(I)||f.has(I[o.value])})}):t===qw?e.filter(function(y){var _=a[y],S=_?_.parent:null;return!S||Xw(S.node)||!f.has(S.key)}):e}function Aj(e){var t=e.searchPlaceholder,a=e.treeCheckStrictly,o=e.treeCheckable,f=e.labelInValue,y=e.value,_=e.multiple,S=e.showCheckedStrategy,I=e.maxCount;warning(!t,"`searchPlaceholder` has been removed."),a&&f===!1&&warning(!1,"`treeCheckStrictly` will force set `labelInValue` to `true`."),(f||a)&&warning(toArray(y).every(function(A){return A&&_typeof(A)==="object"&&"value"in A}),"Invalid prop `value` supplied to `TreeSelect`. You should use { label: string, value: string | number } or [{ label: string, value: string | number }] instead."),a||_||o?warning(!y||Array.isArray(y),"`value` should be an array when `TreeSelect` is checkable or multiple."):warning(!Array.isArray(y),"`value` should not be array when `TreeSelect` is single mode."),I&&(S==="SHOW_ALL"&&!a||S==="SHOW_PARENT")&&warning(!1,"`maxCount` not work with `showCheckedStrategy=SHOW_ALL` (when `treeCheckStrictly=false`) or `showCheckedStrategy=SHOW_PARENT`.")}var Dj=null,MB=["id","prefixCls","value","defaultValue","onChange","onSelect","onDeselect","searchValue","inputValue","onSearch","autoClearSearchValue","filterTreeNode","treeNodeFilterProp","showCheckedStrategy","treeNodeLabelProp","multiple","treeCheckable","treeCheckStrictly","labelInValue","maxCount","fieldNames","treeDataSimpleMode","treeData","children","loadData","treeLoadedKeys","onTreeLoad","treeDefaultExpandAll","treeExpandedKeys","treeDefaultExpandedKeys","onTreeExpand","treeExpandAction","virtual","listHeight","listItemHeight","listItemScrollOffset","onDropdownVisibleChange","dropdownMatchSelectWidth","treeLine","treeIcon","showTreeIcon","switcherIcon","treeMotion","treeTitleRender","onPopupScroll"];function PB(e){return!e||(0,dt.Z)(e)!=="object"}var OB=s.forwardRef(function(e,t){var a=e.id,o=e.prefixCls,f=o===void 0?"rc-tree-select":o,y=e.value,_=e.defaultValue,S=e.onChange,I=e.onSelect,A=e.onDeselect,z=e.searchValue,L=e.inputValue,F=e.onSearch,Z=e.autoClearSearchValue,k=Z===void 0?!0:Z,W=e.filterTreeNode,H=e.treeNodeFilterProp,X=H===void 0?"value":H,Q=e.showCheckedStrategy,re=e.treeNodeLabelProp,ie=e.multiple,ne=e.treeCheckable,ae=e.treeCheckStrictly,ue=e.labelInValue,fe=e.maxCount,he=e.fieldNames,ve=e.treeDataSimpleMode,ye=e.treeData,we=e.children,Se=e.loadData,ze=e.treeLoadedKeys,Te=e.onTreeLoad,Fe=e.treeDefaultExpandAll,Ae=e.treeExpandedKeys,Ke=e.treeDefaultExpandedKeys,tt=e.onTreeExpand,vt=e.treeExpandAction,bt=e.virtual,lt=e.listHeight,ct=lt===void 0?200:lt,mt=e.listItemHeight,Rt=mt===void 0?20:mt,wt=e.listItemScrollOffset,Bt=wt===void 0?0:wt,Ct=e.onDropdownVisibleChange,dn=e.dropdownMatchSelectWidth,zn=dn===void 0?!0:dn,rn=e.treeLine,Cn=e.treeIcon,Vt=e.showTreeIcon,At=e.switcherIcon,$n=e.treeMotion,yn=e.treeTitleRender,Ir=e.onPopupScroll,cr=(0,de.Z)(e,MB),Kn=(0,d.ZP)(a),qn=ne&&!ae,Pn=ne||ae,Yn=ae||ue,zr=Pn||ie,si=(0,zt.Z)(_,{value:y}),yi=(0,Pe.Z)(si,2),Di=yi[0],Eo=yi[1],gi=s.useMemo(function(){return ne?Q||Bx:Kw},[Q,ne]),ai=s.useMemo(function(){return CB(he)},[JSON.stringify(he)]),mi=(0,zt.Z)("",{value:z!==void 0?z:L,postState:function(xa){return xa||""}}),Xi=(0,Pe.Z)(mi,2),Pi=Xi[0],Io=Xi[1],dr=function(xa){Io(xa),F==null||F(xa)},er=yB(ye,we,ve),gr=dB(er,ai),Zn=gr.keyEntities,ni=gr.valueEntities,Oi=s.useCallback(function(La){var xa=[],_s=[];return La.forEach(function(Cs){ni.has(Cs)?_s.push(Cs):xa.push(Cs)}),{missingRawValues:xa,existRawValues:_s}},[ni]),ro=gB(er,Pi,{fieldNames:ai,treeNodeFilterProp:X,filterTreeNode:W}),Ko=s.useCallback(function(La){if(La){if(re)return La[re];for(var xa=ai._title,_s=0;_s<xa.length;_s+=1){var Cs=La[xa[_s]];if(Cs!==void 0)return Cs}}},[ai,re]),Oa=s.useCallback(function(La){var xa=xB(La);return xa.map(function(_s){return PB(_s)?{value:_s}:_s})},[]),ta=s.useCallback(function(La){var xa=Oa(La);return xa.map(function(_s){var Cs=_s.label,qs=_s.value,ya=_s.halfChecked,Lo,Ra=ni.get(qs);if(Ra){var ps;Cs=yn?yn(Ra.node):(ps=Cs)!==null&&ps!==void 0?ps:Ko(Ra.node),Lo=Ra.node.disabled}else if(Cs===void 0){var Zs=Oa(Di).find(function(Ys){return Ys.value===qs});Cs=Zs.label}return{label:Cs,value:qs,halfChecked:ya,disabled:Lo}})},[ni,Ko,Oa,Di]),Is=s.useMemo(function(){return Oa(Di===null?[]:Di)},[Oa,Di]),Fa=s.useMemo(function(){var La=[],xa=[];return Is.forEach(function(_s){_s.halfChecked?xa.push(_s):La.push(_s)}),[La,xa]},[Is]),Ua=(0,Pe.Z)(Fa,2),pa=Ua[0],rs=Ua[1],Ls=s.useMemo(function(){return pa.map(function(La){return La.value})},[pa]),Co=uB(pa,rs,qn,Zn),Go=(0,Pe.Z)(Co,2),Ta=Go[0],Wa=Go[1],ds=s.useMemo(function(){var La=oM(Ta,gi,Zn,ai),xa=La.map(function(ya){var Lo,Ra;return(Lo=(Ra=Zn[ya])===null||Ra===void 0||(Ra=Ra.node)===null||Ra===void 0?void 0:Ra[ai.value])!==null&&Lo!==void 0?Lo:ya}),_s=xa.map(function(ya){var Lo=pa.find(function(ps){return ps.value===ya}),Ra=ue?Lo==null?void 0:Lo.label:yn==null?void 0:yn(Lo);return{value:ya,label:Ra}}),Cs=ta(_s),qs=Cs[0];return!zr&&qs&&iM(qs.value)&&iM(qs.label)?[]:Cs.map(function(ya){var Lo;return(0,K.Z)((0,K.Z)({},ya),{},{label:(Lo=ya.label)!==null&&Lo!==void 0?Lo:ya.value})})},[ai,zr,Ta,pa,ta,gi,Zn]),sl=lB(ds),Ol=(0,Pe.Z)(sl,1),xl=Ol[0],Zl=s.useMemo(function(){return zr&&(gi==="SHOW_CHILD"||ae||!ne)?fe:null},[fe,zr,ae,gi,ne]),fa=tM(function(La,xa,_s){var Cs=oM(La,gi,Zn,ai);if(!(Zl&&Cs.length>Zl)){var qs=ta(La);if(Eo(qs),k&&Io(""),S){var ya=La;qn&&(ya=Cs.map(function(Ts){var Rl=ni.get(Ts);return Rl?Rl.node[ai.value]:Ts}));var Lo=xa||{triggerValue:void 0,selected:void 0},Ra=Lo.triggerValue,ps=Lo.selected,Zs=ya;if(ae){var Ys=rs.filter(function(Ts){return!ya.includes(Ts.value)});Zs=[].concat((0,Ie.Z)(Zs),(0,Ie.Z)(Ys))}var Gl=ta(Zs),Js={preValue:pa,triggerValue:Ra},$a=!0;(ae||_s==="selection"&&!ps)&&($a=!1),mB(Js,Ra,La,er,$a,ai),Pn?Js.checked=ps:Js.selected=ps;var hs=Yn?Gl:Gl.map(function(Ts){return Ts.value});S(zr?hs:hs[0],Yn?null:Gl.map(function(Ts){return Ts.label}),Js)}}}),Uo=s.useCallback(function(La,xa){var _s,Cs=xa.selected,qs=xa.source,ya=Zn[La],Lo=ya==null?void 0:ya.node,Ra=(_s=Lo==null?void 0:Lo[ai.value])!==null&&_s!==void 0?_s:La;if(!zr)fa([Ra],{selected:!0,triggerValue:Ra},"option");else{var ps=Cs?[].concat((0,Ie.Z)(Ls),[Ra]):Ta.filter(function(Rl){return Rl!==Ra});if(qn){var Zs=Oi(ps),Ys=Zs.missingRawValues,Gl=Zs.existRawValues,Js=Gl.map(function(Rl){return ni.get(Rl).key}),$a;if(Cs){var hs=(0,Wt.S)(Js,!0,Zn);$a=hs.checkedKeys}else{var Ts=(0,Wt.S)(Js,{checked:!1,halfCheckedKeys:Wa},Zn);$a=Ts.checkedKeys}ps=[].concat((0,Ie.Z)(Ys),(0,Ie.Z)($a.map(function(Rl){return Zn[Rl].node[ai.value]})))}fa(ps,{selected:Cs,triggerValue:Ra},qs||"option")}Cs||!zr?I==null||I(Ra,Gw(Lo)):A==null||A(Ra,Gw(Lo))},[Oi,ni,Zn,ai,zr,Ls,fa,qn,I,A,Ta,Wa,fe]),Wo=s.useCallback(function(La){if(Ct){var xa={};Object.defineProperty(xa,"documentClickClose",{get:function(){return(0,Pc.ZP)(!1,"Second param of `onDropdownVisibleChange` has been removed."),!1}}),Ct(La,xa)}},[Ct]),Do=tM(function(La,xa){var _s=La.map(function(Cs){return Cs.value});if(xa.type==="clear"){fa(_s,{},"selection");return}xa.values.length&&Uo(xa.values[0].value,{selected:!1,source:"selection"})}),fs=s.useMemo(function(){return{virtual:bt,dropdownMatchSelectWidth:zn,listHeight:ct,listItemHeight:Rt,listItemScrollOffset:Bt,treeData:ro,fieldNames:ai,onSelect:Uo,treeExpandAction:vt,treeTitleRender:yn,onPopupScroll:Ir,leftMaxCount:fe===void 0?null:fe-xl.length,leafCountOnly:gi==="SHOW_CHILD"&&!ae&&!!ne,valueEntities:ni}},[bt,zn,ct,Rt,Bt,ro,ai,Uo,vt,yn,Ir,fe,xl.length,gi,ae,ne,ni]),Ns=s.useMemo(function(){return{checkable:Pn,loadData:Se,treeLoadedKeys:ze,onTreeLoad:Te,checkedKeys:Ta,halfCheckedKeys:Wa,treeDefaultExpandAll:Fe,treeExpandedKeys:Ae,treeDefaultExpandedKeys:Ke,onTreeExpand:tt,treeIcon:Cn,treeMotion:$n,showTreeIcon:Vt,switcherIcon:At,treeLine:rn,treeNodeFilterProp:X,keyEntities:Zn}},[Pn,Se,ze,Te,Ta,Wa,Fe,Ae,Ke,tt,Cn,$n,Vt,At,rn,X,Zn]);return s.createElement(rM.Provider,{value:fs},s.createElement(nM.Provider,{value:Ns},s.createElement(i.Ac,(0,Ue.Z)({ref:t},cr,{id:Kn,prefixCls:f,mode:zr?"multiple":void 0,displayValues:xl,onDisplayValuesChange:Do,searchValue:Pi,onSearch:dr,OptionList:TB,emptyOptions:!er.length,onDropdownVisibleChange:Wo,dropdownMatchSelectWidth:zn}))))}),Rb=OB;Rb.TreeNode=Ww,Rb.SHOW_ALL=Kw,Rb.SHOW_PARENT=qw,Rb.SHOW_CHILD=Bx;var RB=Rb,$B=RB;const AB=e=>{const{componentCls:t,treePrefixCls:a,colorBgElevated:o}=e,f=`.${a}`;return[{[`${t}-dropdown`]:[{padding:`${(0,me.bf)(e.paddingXS)} ${(0,me.bf)(e.calc(e.paddingXS).div(2).equal())}`},uT(a,(0,kr.IX)(e,{colorBgContainer:o})),{[f]:{borderRadius:0,[`${f}-list-holder-inner`]:{alignItems:"stretch",[`${f}-treenode`]:{[`${f}-node-content-wrapper`]:{flex:"auto"}}}}},uu(`${a}-checkbox`,e),{"&-rtl":{direction:"rtl",[`${f}-switcher${f}-switcher_close`]:{[`${f}-switcher-icon svg`]:{transform:"rotate(90deg)"}}}}]}]},zj=null;function DB(e,t,a){return(0,oe.I$)("TreeSelect",o=>{const f=(0,kr.IX)(o,{treePrefixCls:t});return[AB(f)]},dT)(e,a)}var zB=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const LB=(e,t)=>{var a;const{prefixCls:o,size:f,disabled:y,bordered:_=!0,className:S,rootClassName:I,treeCheckable:A,multiple:z,listHeight:L=256,listItemHeight:F,placement:Z,notFoundContent:k,switcherIcon:W,treeLine:H,getPopupContainer:X,popupClassName:Q,dropdownClassName:re,treeIcon:ie=!1,transitionName:ne,choiceTransitionName:ae="",status:ue,treeExpandAction:fe,builtinPlacements:he,dropdownMatchSelectWidth:ve,popupMatchSelectWidth:ye,allowClear:we,variant:Se,dropdownStyle:ze,tagRender:Te,maxCount:Fe,showCheckedStrategy:Ae,treeCheckStrictly:Ke}=e,tt=zB(e,["prefixCls","size","disabled","bordered","className","rootClassName","treeCheckable","multiple","listHeight","listItemHeight","placement","notFoundContent","switcherIcon","treeLine","getPopupContainer","popupClassName","dropdownClassName","treeIcon","transitionName","choiceTransitionName","status","treeExpandAction","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","allowClear","variant","dropdownStyle","tagRender","maxCount","showCheckedStrategy","treeCheckStrictly"]),{getPopupContainer:vt,getPrefixCls:bt,renderEmpty:lt,direction:ct,virtual:mt,popupMatchSelectWidth:Rt,popupOverflow:wt}=s.useContext(_e.E_),[,Bt]=(0,Vr.ZP)(),Ct=F!=null?F:(Bt==null?void 0:Bt.controlHeightSM)+(Bt==null?void 0:Bt.paddingXXS),dn=bt(),zn=bt("select",o),rn=bt("select-tree",o),Cn=bt("tree-select",o),{compactSize:Vt,compactItemClassnames:At}=(0,as.ri)(zn,ct),$n=(0,Ln.Z)(zn),yn=(0,Ln.Z)(Cn),[Ir,cr,Kn]=(0,bl.Z)(zn,$n),[qn]=DB(Cn,rn,yn),[Pn,Yn]=(0,kf.Z)("treeSelect",Se,_),zr=J()(Q||re,`${Cn}-dropdown`,{[`${Cn}-dropdown-rtl`]:ct==="rtl"},I,Kn,$n,yn,cr),si=!!(A||z),yi=s.useMemo(()=>{if(!(Fe&&(Ae==="SHOW_ALL"&&!Ke||Ae==="SHOW_PARENT")))return Fe},[Fe,Ae,Ke]),Di=(0,_l.Z)(e.suffixIcon,e.showArrow),Eo=(a=ye!=null?ye:ve)!==null&&a!==void 0?a:Rt,{status:gi,hasFeedback:ai,isFormItemInput:mi,feedbackIcon:Xi}=s.useContext(Tc.aM),Pi=(0,Ya.F)(gi,ue),{suffixIcon:Io,removeIcon:dr,clearIcon:er}=(0,El.Z)(Object.assign(Object.assign({},tt),{multiple:si,showSuffixIcon:Di,hasFeedback:ai,feedbackIcon:Xi,prefixCls:zn,componentName:"TreeSelect"})),gr=we===!0?{clearIcon:er}:we;let Zn;k!==void 0?Zn=k:Zn=(lt==null?void 0:lt("Select"))||s.createElement(bs.Z,{componentName:"Select"});const ni=(0,Ci.Z)(tt,["suffixIcon","removeIcon","clearIcon","itemIcon","switcherIcon"]),Oi=s.useMemo(()=>Z!==void 0?Z:ct==="rtl"?"bottomRight":"bottomLeft",[Z,ct]),ro=(0,Va.Z)(pa=>{var rs;return(rs=f!=null?f:Vt)!==null&&rs!==void 0?rs:pa}),Ko=s.useContext(cs.Z),Oa=y!=null?y:Ko,ta=J()(!o&&Cn,{[`${zn}-lg`]:ro==="large",[`${zn}-sm`]:ro==="small",[`${zn}-rtl`]:ct==="rtl",[`${zn}-${Pn}`]:Yn,[`${zn}-in-form-item`]:mi},(0,Ya.Z)(zn,Pi,ai),At,S,I,Kn,$n,yn,cr),Is=pa=>s.createElement(hT,{prefixCls:rn,switcherIcon:W,treeNodeProps:pa,showLine:H}),[Fa]=(0,bn.Cn)("SelectLike",ze==null?void 0:ze.zIndex),Ua=s.createElement($B,Object.assign({virtual:mt,disabled:Oa},ni,{dropdownMatchSelectWidth:Eo,builtinPlacements:(0,Gs.Z)(he,wt),ref:t,prefixCls:zn,className:ta,listHeight:L,listItemHeight:Ct,treeCheckable:A&&s.createElement("span",{className:`${zn}-tree-checkbox-inner`}),treeLine:!!H,suffixIcon:Io,multiple:si,placement:Oi,removeIcon:dr,allowClear:gr,switcherIcon:Is,showTreeIcon:ie,notFoundContent:Zn,getPopupContainer:X||vt,treeMotion:null,dropdownClassName:zr,dropdownStyle:Object.assign(Object.assign({},ze),{zIndex:Fa}),choiceTransitionName:(0,ir.m)(dn,"",ae),transitionName:(0,ir.m)(dn,"slide-up",ne),treeExpandAction:fe,tagRender:si?Te:void 0,maxCount:yi,showCheckedStrategy:Ae,treeCheckStrictly:Ke}));return Ir(qn(Ua))},Tg=s.forwardRef(LB),NB=(0,zl.Z)(Tg,"dropdownAlign",e=>(0,Ci.Z)(e,["visible"]));Tg.TreeNode=Ww,Tg.SHOW_ALL=Kw,Tg.SHOW_PARENT=qw,Tg.SHOW_CHILD=Bx,Tg._InternalPanelDoNotUseOrYouWillBeFired=NB;var BB=Tg,FB={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},kB=FB,jB=function(t,a){return s.createElement(En.Z,(0,Ue.Z)({},t,{ref:a,icon:kB}))},ZB=s.forwardRef(jB),VB=ZB,HB={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 170h-60c-4.4 0-8 3.6-8 8v518H310v-73c0-6.7-7.8-10.5-13-6.3l-141.9 112a8 8 0 000 12.6l141.9 112c5.3 4.2 13 .4 13-6.3v-75h498c35.3 0 64-28.7 64-64V178c0-4.4-3.6-8-8-8z"}}]},name:"enter",theme:"outlined"},UB=HB,WB=function(t,a){return s.createElement(En.Z,(0,Ue.Z)({},t,{ref:a,icon:UB}))},GB=s.forwardRef(WB),XB=GB;const KB=(e,t,a,o)=>{const{titleMarginBottom:f,fontWeightStrong:y}=o;return{marginBottom:f,color:a,fontWeight:y,fontSize:e,lineHeight:t}},qB=e=>{const t=[1,2,3,4,5],a={};return t.forEach(o=>{a[`
      h${o}&,
      div&-h${o},
      div&-h${o} > textarea,
      h${o}
    `]=KB(e[`fontSizeHeading${o}`],e[`lineHeightHeading${o}`],e.colorTextHeading,e)}),a},YB=e=>{const{componentCls:t}=e;return{"a&, a":Object.assign(Object.assign({},(0,nn.Nd)(e)),{userSelect:"text",[`&[disabled], &${t}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed","&:active, &:hover":{color:e.colorTextDisabled},"&:active":{pointerEvents:"none"}}})}},JB=e=>({code:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.2em 0.1em",fontSize:"85%",fontFamily:e.fontFamilyCode,background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3},kbd:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.15em 0.1em",fontSize:"90%",fontFamily:e.fontFamilyCode,background:"rgba(150, 150, 150, 0.06)",border:"1px solid rgba(100, 100, 100, 0.2)",borderBottomWidth:2,borderRadius:3},mark:{padding:0,backgroundColor:rp.EV[2]},"u, ins":{textDecoration:"underline",textDecorationSkipInk:"auto"},"s, del":{textDecoration:"line-through"},strong:{fontWeight:600},"ul, ol":{marginInline:0,marginBlock:"0 1em",padding:0,li:{marginInline:"20px 0",marginBlock:0,paddingInline:"4px 0",paddingBlock:0}},ul:{listStyleType:"circle",ul:{listStyleType:"disc"}},ol:{listStyleType:"decimal"},"pre, blockquote":{margin:"1em 0"},pre:{padding:"0.4em 0.6em",whiteSpace:"pre-wrap",wordWrap:"break-word",background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3,fontFamily:e.fontFamilyCode,code:{display:"inline",margin:0,padding:0,fontSize:"inherit",fontFamily:"inherit",background:"transparent",border:0}},blockquote:{paddingInline:"0.6em 0",paddingBlock:0,borderInlineStart:"4px solid rgba(100, 100, 100, 0.2)",opacity:.85}}),QB=e=>{const{componentCls:t,paddingSM:a}=e,o=a;return{"&-edit-content":{position:"relative","div&":{insetInlineStart:e.calc(e.paddingSM).mul(-1).equal(),marginTop:e.calc(o).mul(-1).equal(),marginBottom:`calc(1em - ${(0,me.bf)(o)})`},[`${t}-edit-content-confirm`]:{position:"absolute",insetInlineEnd:e.calc(e.marginXS).add(2).equal(),insetBlockEnd:e.marginXS,color:e.colorTextDescription,fontWeight:"normal",fontSize:e.fontSize,fontStyle:"normal",pointerEvents:"none"},textarea:{margin:"0!important",MozTransition:"none",height:"1em"}}}},eF=e=>({[`${e.componentCls}-copy-success`]:{"\n    &,\n    &:hover,\n    &:focus":{color:e.colorSuccess}},[`${e.componentCls}-copy-icon-only`]:{marginInlineStart:0}}),tF=()=>({"\n  a&-ellipsis,\n  span&-ellipsis\n  ":{display:"inline-block",maxWidth:"100%"},"&-ellipsis-single-line":{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis","a&, span&":{verticalAlign:"bottom"},"> code":{paddingBlock:0,maxWidth:"calc(100% - 1.2em)",display:"inline-block",overflow:"hidden",textOverflow:"ellipsis",verticalAlign:"bottom",boxSizing:"content-box"}},"&-ellipsis-multiple-line":{display:"-webkit-box",overflow:"hidden",WebkitLineClamp:3,WebkitBoxOrient:"vertical"}}),nF=e=>{const{componentCls:t,titleMarginTop:a}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.colorText,wordBreak:"break-word",lineHeight:e.lineHeight,[`&${t}-secondary`]:{color:e.colorTextDescription},[`&${t}-success`]:{color:e.colorSuccess},[`&${t}-warning`]:{color:e.colorWarning},[`&${t}-danger`]:{color:e.colorError,"a&:active, a&:focus":{color:e.colorErrorActive},"a&:hover":{color:e.colorErrorHover}},[`&${t}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed",userSelect:"none"},"\n        div&,\n        p\n      ":{marginBottom:"1em"}},qB(e)),{[`
      & + h1${t},
      & + h2${t},
      & + h3${t},
      & + h4${t},
      & + h5${t}
      `]:{marginTop:a},"\n      div,\n      ul,\n      li,\n      p,\n      h1,\n      h2,\n      h3,\n      h4,\n      h5":{"\n        + h1,\n        + h2,\n        + h3,\n        + h4,\n        + h5\n        ":{marginTop:a}}}),JB(e)),YB(e)),{[`
        ${t}-expand,
        ${t}-collapse,
        ${t}-edit,
        ${t}-copy
      `]:Object.assign(Object.assign({},(0,nn.Nd)(e)),{marginInlineStart:e.marginXXS})}),QB(e)),eF(e)),tF()),{"&-rtl":{direction:"rtl"}})}},rF=()=>({titleMarginTop:"1.2em",titleMarginBottom:"0.5em"});var aM=(0,oe.I$)("Typography",e=>[nF(e)],rF),iF=e=>{const{prefixCls:t,"aria-label":a,className:o,style:f,direction:y,maxLength:_,autoSize:S=!0,value:I,onSave:A,onCancel:z,onEnd:L,component:F,enterIcon:Z=s.createElement(XB,null)}=e,k=s.useRef(null),W=s.useRef(!1),H=s.useRef(null),[X,Q]=s.useState(I);s.useEffect(()=>{Q(I)},[I]),s.useEffect(()=>{var ze;if(!((ze=k.current)===null||ze===void 0)&&ze.resizableTextArea){const{textArea:Te}=k.current.resizableTextArea;Te.focus();const{length:Fe}=Te.value;Te.setSelectionRange(Fe,Fe)}},[]);const re=ze=>{let{target:Te}=ze;Q(Te.value.replace(/[\n\r]/g,""))},ie=()=>{W.current=!0},ne=()=>{W.current=!1},ae=ze=>{let{keyCode:Te}=ze;W.current||(H.current=Te)},ue=()=>{A(X.trim())},fe=ze=>{let{keyCode:Te,ctrlKey:Fe,altKey:Ae,metaKey:Ke,shiftKey:tt}=ze;H.current!==Te||W.current||Fe||Ae||Ke||tt||(Te===_t.Z.ENTER?(ue(),L==null||L()):Te===_t.Z.ESC&&z())},he=()=>{ue()},[ve,ye,we]=aM(t),Se=J()(t,`${t}-edit-content`,{[`${t}-rtl`]:y==="rtl",[`${t}-${F}`]:!!F},o,ye,we);return ve(s.createElement("div",{className:Se,style:f},s.createElement(EE,{ref:k,maxLength:_,value:X,onChange:re,onKeyDown:ae,onKeyUp:fe,onCompositionStart:ie,onCompositionEnd:ne,onBlur:he,"aria-label":a,rows:1,autoSize:S}),Z!==null?(0,Tn.Tm)(Z,{className:`${t}-edit-content-confirm`}):null))},oF=j(874),aF=j.n(oF),sF=function(e,t,a,o){function f(y){return y instanceof a?y:new a(function(_){_(y)})}return new(a||(a=Promise))(function(y,_){function S(z){try{A(o.next(z))}catch(L){_(L)}}function I(z){try{A(o.throw(z))}catch(L){_(L)}}function A(z){z.done?y(z.value):f(z.value).then(S,I)}A((o=o.apply(e,t||[])).next())})},lF=e=>{let{copyConfig:t,children:a}=e;const[o,f]=s.useState(!1),[y,_]=s.useState(!1),S=s.useRef(null),I=()=>{S.current&&clearTimeout(S.current)},A={};t.format&&(A.format=t.format),s.useEffect(()=>I,[]);const z=(0,ur.Z)(L=>sF(void 0,void 0,void 0,function*(){var F;L==null||L.preventDefault(),L==null||L.stopPropagation(),_(!0);try{const Z=typeof t.text=="function"?yield t.text():t.text;aF()(Z||gx(a,!0).join("")||"",A),_(!1),f(!0),I(),S.current=setTimeout(()=>{f(!1)},3e3),(F=t.onCopy)===null||F===void 0||F.call(t,L)}catch(Z){throw _(!1),Z}}));return{copied:o,copyLoading:y,onClick:z}};function Yw(e,t){return s.useMemo(()=>{const a=!!e;return[a,Object.assign(Object.assign({},t),a&&typeof e=="object"?e:null)]},[e])}var cF=e=>{const t=(0,s.useRef)(void 0);return(0,s.useEffect)(()=>{t.current=e}),t.current},uF=(e,t,a)=>(0,s.useMemo)(()=>e===!0?{title:t!=null?t:a}:(0,s.isValidElement)(e)?{title:e}:typeof e=="object"?Object.assign({title:t!=null?t:a},e):{title:e},[e,t,a]),dF=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},sM=s.forwardRef((e,t)=>{const{prefixCls:a,component:o="article",className:f,rootClassName:y,setContentRef:_,children:S,direction:I,style:A}=e,z=dF(e,["prefixCls","component","className","rootClassName","setContentRef","children","direction","style"]),{getPrefixCls:L,direction:F,className:Z,style:k}=(0,_e.dj)("typography"),W=I!=null?I:F,H=_?(0,an.sQ)(t,_):t,X=L("typography",a),[Q,re,ie]=aM(X),ne=J()(X,Z,{[`${X}-rtl`]:W==="rtl"},f,y,re,ie),ae=Object.assign(Object.assign({},k),A);return Q(s.createElement(o,Object.assign({className:ne,style:ae,ref:H},z),S))}),fF={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"},hF=fF,mF=function(t,a){return s.createElement(En.Z,(0,Ue.Z)({},t,{ref:a,icon:hF}))},pF=s.forwardRef(mF),gF=pF;function lM(e){return e===!1?[!1,!1]:Array.isArray(e)?e:[e]}function Jw(e,t,a){return e===!0||e===void 0?t:e||a&&t}function vF(e){const t=document.createElement("em");e.appendChild(t);const a=e.getBoundingClientRect(),o=t.getBoundingClientRect();return e.removeChild(t),a.left>o.left||o.right>a.right||a.top>o.top||o.bottom>a.bottom}const Qw=e=>["string","number"].includes(typeof e);var yF=e=>{let{prefixCls:t,copied:a,locale:o,iconOnly:f,tooltips:y,icon:_,tabIndex:S,onCopy:I,loading:A}=e;const z=lM(y),L=lM(_),{copied:F,copy:Z}=o!=null?o:{},k=a?F:Z,W=Jw(z[a?1:0],k),H=typeof W=="string"?W:k;return s.createElement(su.Z,{title:W},s.createElement("button",{type:"button",className:J()(`${t}-copy`,{[`${t}-copy-success`]:a,[`${t}-copy-icon-only`]:f}),onClick:I,"aria-label":H,tabIndex:S},a?Jw(L[1],s.createElement(lw.Z,null),!0):Jw(L[0],A?s.createElement(Ut.Z,null):s.createElement(gF,null),!0)))};const Fx=s.forwardRef((e,t)=>{let{style:a,children:o}=e;const f=s.useRef(null);return s.useImperativeHandle(t,()=>({isExceed:()=>{const y=f.current;return y.scrollHeight>y.clientHeight},getHeight:()=>f.current.clientHeight})),s.createElement("span",{"aria-hidden":!0,ref:f,style:Object.assign({position:"fixed",display:"block",left:0,top:0,pointerEvents:"none",backgroundColor:"rgba(255, 0, 0, 0.65)"},a)},o)}),bF=e=>e.reduce((t,a)=>t+(Qw(a)?String(a).length:1),0);function cM(e,t){let a=0;const o=[];for(let f=0;f<e.length;f+=1){if(a===t)return o;const y=e[f],S=Qw(y)?String(y).length:1,I=a+S;if(I>t){const A=t-a;return o.push(String(y).slice(0,A)),o}o.push(y),a=I}return e}const e2=0,t2=1,n2=2,r2=3,uM=4,kx={display:"-webkit-box",overflow:"hidden",WebkitBoxOrient:"vertical"};function _F(e){const{enableMeasure:t,width:a,text:o,children:f,rows:y,expanded:_,miscDeps:S,onEllipsis:I}=e,A=s.useMemo(()=>(0,ac.Z)(o),[o]),z=s.useMemo(()=>bF(A),[o]),L=s.useMemo(()=>f(A,!1),[o]),[F,Z]=s.useState(null),k=s.useRef(null),W=s.useRef(null),H=s.useRef(null),X=s.useRef(null),Q=s.useRef(null),[re,ie]=s.useState(!1),[ne,ae]=s.useState(e2),[ue,fe]=s.useState(0),[he,ve]=s.useState(null);(0,yl.Z)(()=>{ae(t&&a&&z?t2:e2)},[a,o,y,t,A]),(0,yl.Z)(()=>{var ze,Te,Fe,Ae;if(ne===t2){ae(n2);const Ke=W.current&&getComputedStyle(W.current).whiteSpace;ve(Ke)}else if(ne===n2){const Ke=!!(!((ze=H.current)===null||ze===void 0)&&ze.isExceed());ae(Ke?r2:uM),Z(Ke?[0,z]:null),ie(Ke);const tt=((Te=H.current)===null||Te===void 0?void 0:Te.getHeight())||0,vt=y===1?0:((Fe=X.current)===null||Fe===void 0?void 0:Fe.getHeight())||0,bt=((Ae=Q.current)===null||Ae===void 0?void 0:Ae.getHeight())||0,lt=Math.max(tt,vt+bt);fe(lt+1),I(Ke)}},[ne]);const ye=F?Math.ceil((F[0]+F[1])/2):0;(0,yl.Z)(()=>{var ze;const[Te,Fe]=F||[0,0];if(Te!==Fe){const Ke=(((ze=k.current)===null||ze===void 0?void 0:ze.getHeight())||0)>ue;let tt=ye;Fe-Te===1&&(tt=Ke?Te:Fe),Z(Ke?[Te,tt]:[tt,Fe])}},[F,ye]);const we=s.useMemo(()=>{if(!t)return f(A,!1);if(ne!==r2||!F||F[0]!==F[1]){const ze=f(A,!1);return[uM,e2].includes(ne)?ze:s.createElement("span",{style:Object.assign(Object.assign({},kx),{WebkitLineClamp:y})},ze)}return f(_?A:cM(A,F[0]),re)},[_,ne,F,A].concat((0,Ie.Z)(S))),Se={width:a,margin:0,padding:0,whiteSpace:he==="nowrap"?"normal":"inherit"};return s.createElement(s.Fragment,null,we,ne===n2&&s.createElement(s.Fragment,null,s.createElement(Fx,{style:Object.assign(Object.assign(Object.assign({},Se),kx),{WebkitLineClamp:y}),ref:H},L),s.createElement(Fx,{style:Object.assign(Object.assign(Object.assign({},Se),kx),{WebkitLineClamp:y-1}),ref:X},L),s.createElement(Fx,{style:Object.assign(Object.assign(Object.assign({},Se),kx),{WebkitLineClamp:1}),ref:Q},f([],!0))),ne===r2&&F&&F[0]!==F[1]&&s.createElement(Fx,{style:Object.assign(Object.assign({},Se),{top:400}),ref:k},f(cM(A,ye),!0)),ne===t2&&s.createElement("span",{style:{whiteSpace:"inherit"},ref:W}))}var xF=e=>{let{enableEllipsis:t,isEllipsis:a,children:o,tooltipProps:f}=e;return!(f!=null&&f.title)||!t?o:s.createElement(su.Z,Object.assign({open:a?void 0:!1},f),o)},CF=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};function SF(e,t){let{mark:a,code:o,underline:f,delete:y,strong:_,keyboard:S,italic:I}=e,A=t;function z(L,F){F&&(A=s.createElement(L,{},A))}return z("strong",_),z("u",f),z("del",y),z("code",o),z("mark",a),z("kbd",S),z("i",I),A}const wF="...";var jx=s.forwardRef((e,t)=>{var a;const{prefixCls:o,className:f,style:y,type:_,disabled:S,children:I,ellipsis:A,editable:z,copyable:L,component:F,title:Z}=e,k=CF(e,["prefixCls","className","style","type","disabled","children","ellipsis","editable","copyable","component","title"]),{getPrefixCls:W,direction:H}=s.useContext(_e.E_),[X]=(0,rr.Z)("Text"),Q=s.useRef(null),re=s.useRef(null),ie=W("typography",o),ne=(0,Ci.Z)(k,["mark","code","delete","underline","strong","keyboard","italic"]),[ae,ue]=Yw(z),[fe,he]=(0,zt.Z)(!1,{value:ue.editing}),{triggerType:ve=["icon"]}=ue,ye=gr=>{var Zn;gr&&((Zn=ue.onStart)===null||Zn===void 0||Zn.call(ue)),he(gr)},we=cF(fe);(0,yl.Z)(()=>{var gr;!fe&&we&&((gr=re.current)===null||gr===void 0||gr.focus())},[fe]);const Se=gr=>{gr==null||gr.preventDefault(),ye(!0)},ze=gr=>{var Zn;(Zn=ue.onChange)===null||Zn===void 0||Zn.call(ue,gr),ye(!1)},Te=()=>{var gr;(gr=ue.onCancel)===null||gr===void 0||gr.call(ue),ye(!1)},[Fe,Ae]=Yw(L),{copied:Ke,copyLoading:tt,onClick:vt}=lF({copyConfig:Ae,children:I}),[bt,lt]=s.useState(!1),[ct,mt]=s.useState(!1),[Rt,wt]=s.useState(!1),[Bt,Ct]=s.useState(!1),[dn,zn]=s.useState(!0),[rn,Cn]=Yw(A,{expandable:!1,symbol:gr=>gr?X==null?void 0:X.collapse:X==null?void 0:X.expand}),[Vt,At]=(0,zt.Z)(Cn.defaultExpanded||!1,{value:Cn.expanded}),$n=rn&&(!Vt||Cn.expandable==="collapsible"),{rows:yn=1}=Cn,Ir=s.useMemo(()=>$n&&(Cn.suffix!==void 0||Cn.onEllipsis||Cn.expandable||ae||Fe),[$n,Cn,ae,Fe]);(0,yl.Z)(()=>{rn&&!Ir&&(lt(xw("webkitLineClamp")),mt(xw("textOverflow")))},[Ir,rn]);const[cr,Kn]=s.useState($n),qn=s.useMemo(()=>Ir?!1:yn===1?ct:bt,[Ir,ct,bt]);(0,yl.Z)(()=>{Kn(qn&&$n)},[qn,$n]);const Pn=$n&&(cr?Bt:Rt),Yn=$n&&yn===1&&cr,zr=$n&&yn>1&&cr,si=(gr,Zn)=>{var ni;At(Zn.expanded),(ni=Cn.onExpand)===null||ni===void 0||ni.call(Cn,gr,Zn)},[yi,Di]=s.useState(0),Eo=gr=>{let{offsetWidth:Zn}=gr;Di(Zn)},gi=gr=>{var Zn;wt(gr),Rt!==gr&&((Zn=Cn.onEllipsis)===null||Zn===void 0||Zn.call(Cn,gr))};s.useEffect(()=>{const gr=Q.current;if(rn&&cr&&gr){const Zn=vF(gr);Bt!==Zn&&Ct(Zn)}},[rn,cr,I,zr,dn,yi]),s.useEffect(()=>{const gr=Q.current;if(typeof IntersectionObserver=="undefined"||!gr||!cr||!$n)return;const Zn=new IntersectionObserver(()=>{zn(!!gr.offsetParent)});return Zn.observe(gr),()=>{Zn.disconnect()}},[cr,$n]);const ai=uF(Cn.tooltip,ue.text,I),mi=s.useMemo(()=>{if(!(!rn||cr))return[ue.text,I,Z,ai.title].find(Qw)},[rn,cr,Z,ai.title,Pn]);if(fe)return s.createElement(iF,{value:(a=ue.text)!==null&&a!==void 0?a:typeof I=="string"?I:"",onSave:ze,onCancel:Te,onEnd:ue.onEnd,prefixCls:ie,className:f,style:y,direction:H,component:F,maxLength:ue.maxLength,autoSize:ue.autoSize,enterIcon:ue.enterIcon});const Xi=()=>{const{expandable:gr,symbol:Zn}=Cn;return gr?s.createElement("button",{type:"button",key:"expand",className:`${ie}-${Vt?"collapse":"expand"}`,onClick:ni=>si(ni,{expanded:!Vt}),"aria-label":Vt?X.collapse:X==null?void 0:X.expand},typeof Zn=="function"?Zn(Vt):Zn):null},Pi=()=>{if(!ae)return;const{icon:gr,tooltip:Zn,tabIndex:ni}=ue,Oi=(0,ac.Z)(Zn)[0]||(X==null?void 0:X.edit),ro=typeof Oi=="string"?Oi:"";return ve.includes("icon")?s.createElement(su.Z,{key:"edit",title:Zn===!1?"":Oi},s.createElement("button",{type:"button",ref:re,className:`${ie}-edit`,onClick:Se,"aria-label":ro,tabIndex:ni},gr||s.createElement(VB,{role:"button"}))):null},Io=()=>Fe?s.createElement(yF,Object.assign({key:"copy"},Ae,{prefixCls:ie,copied:Ke,locale:X,onCopy:vt,loading:tt,iconOnly:I==null})):null,dr=gr=>[gr&&Xi(),Pi(),Io()],er=gr=>[gr&&!Vt&&s.createElement("span",{"aria-hidden":!0,key:"ellipsis"},wF),Cn.suffix,dr(gr)];return s.createElement(u.Z,{onResize:Eo,disabled:!$n},gr=>s.createElement(xF,{tooltipProps:ai,enableEllipsis:$n,isEllipsis:Pn},s.createElement(sM,Object.assign({className:J()({[`${ie}-${_}`]:_,[`${ie}-disabled`]:S,[`${ie}-ellipsis`]:rn,[`${ie}-ellipsis-single-line`]:Yn,[`${ie}-ellipsis-multiple-line`]:zr},f),prefixCls:o,style:Object.assign(Object.assign({},y),{WebkitLineClamp:zr?yn:void 0}),component:F,ref:(0,an.sQ)(gr,Q,t),direction:H,onClick:ve.includes("text")?Se:void 0,"aria-label":mi==null?void 0:mi.toString(),title:Z},ne),s.createElement(_F,{enableMeasure:$n&&!cr,text:I,rows:yn,width:yi,onEllipsis:gi,expanded:Vt,miscDeps:[Ke,Vt,tt,ae,Fe,X]},(Zn,ni)=>SF(e,s.createElement(s.Fragment,null,Zn.length>0&&ni&&!Vt&&mi?s.createElement("span",{key:"show-content","aria-hidden":!0},Zn):Zn,er(ni)))))))}),EF=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},IF=s.forwardRef((e,t)=>{var{ellipsis:a,rel:o}=e,f=EF(e,["ellipsis","rel"]);const y=Object.assign(Object.assign({},f),{rel:o===void 0&&f.target==="_blank"?"noopener noreferrer":o});return delete y.navigate,s.createElement(jx,Object.assign({},y,{ref:t,ellipsis:!!a,component:"a"}))}),TF=s.forwardRef((e,t)=>s.createElement(jx,Object.assign({ref:t},e,{component:"div"}))),MF=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const PF=(e,t)=>{var{ellipsis:a}=e,o=MF(e,["ellipsis"]);const f=s.useMemo(()=>a&&typeof a=="object"?(0,Ci.Z)(a,["expandable","rows"]):a,[a]);return s.createElement(jx,Object.assign({ref:t},o,{ellipsis:f,component:"span"}))};var OF=s.forwardRef(PF),RF=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const $F=[1,2,3,4,5];var AF=s.forwardRef((e,t)=>{const{level:a=1}=e,o=RF(e,["level"]),f=$F.includes(a)?`h${a}`:"h1";return s.createElement(jx,Object.assign({ref:t},o,{component:f}))});const $b=sM;$b.Text=OF,$b.Link=IF,$b.Title=AF,$b.Paragraph=TF;var DF=$b,od=j(63662),i2=function(e,t){if(e&&t){var a=Array.isArray(t)?t:t.split(","),o=e.name||"",f=e.type||"",y=f.replace(/\/.*$/,"");return a.some(function(_){var S=_.trim();if(/^\*(\/\*)?$/.test(_))return!0;if(S.charAt(0)==="."){var I=o.toLowerCase(),A=S.toLowerCase(),z=[A];return(A===".jpg"||A===".jpeg")&&(z=[".jpg",".jpeg"]),z.some(function(L){return I.endsWith(L)})}return/\/\*$/.test(S)?y===S.replace(/\/.*$/,""):f===S?!0:/^\w+$/.test(S)?((0,Pc.ZP)(!1,"Upload takes an invalidate 'accept' type '".concat(S,"'.Skip for check.")),!0):!1})}return!0};function zF(e,t){var a="cannot ".concat(e.method," ").concat(e.action," ").concat(t.status,"'"),o=new Error(a);return o.status=t.status,o.method=e.method,o.url=e.action,o}function dM(e){var t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch(a){return t}}function LF(e){var t=new XMLHttpRequest;e.onProgress&&t.upload&&(t.upload.onprogress=function(y){y.total>0&&(y.percent=y.loaded/y.total*100),e.onProgress(y)});var a=new FormData;e.data&&Object.keys(e.data).forEach(function(f){var y=e.data[f];if(Array.isArray(y)){y.forEach(function(_){a.append("".concat(f,"[]"),_)});return}a.append(f,y)}),e.file instanceof Blob?a.append(e.filename,e.file,e.file.name):a.append(e.filename,e.file),t.onerror=function(y){e.onError(y)},t.onload=function(){return t.status<200||t.status>=300?e.onError(zF(e,t),dM(t)):e.onSuccess(dM(t),t)},t.open(e.method,e.action,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);var o=e.headers||{};return o["X-Requested-With"]!==null&&t.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(o).forEach(function(f){o[f]!==null&&t.setRequestHeader(f,o[f])}),t.send(a),{abort:function(){t.abort()}}}var NF=function(){var e=(0,Ho.Z)((0,Pr.Z)().mark(function t(a,o){var f,y,_,S,I,A,z,L;return(0,Pr.Z)().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:A=function(){return A=(0,Ho.Z)((0,Pr.Z)().mark(function W(H){return(0,Pr.Z)().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Q.abrupt("return",new Promise(function(re){H.file(function(ie){o(ie)?(H.fullPath&&!ie.webkitRelativePath&&(Object.defineProperties(ie,{webkitRelativePath:{writable:!0}}),ie.webkitRelativePath=H.fullPath.replace(/^\//,""),Object.defineProperties(ie,{webkitRelativePath:{writable:!1}})),re(ie)):re(null)})}));case 1:case"end":return Q.stop()}},W)})),A.apply(this,arguments)},I=function(W){return A.apply(this,arguments)},S=function(){return S=(0,Ho.Z)((0,Pr.Z)().mark(function W(H){var X,Q,re,ie,ne;return(0,Pr.Z)().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:X=H.createReader(),Q=[];case 2:return ue.next=5,new Promise(function(fe){X.readEntries(fe,function(){return fe([])})});case 5:if(re=ue.sent,ie=re.length,ie){ue.next=9;break}return ue.abrupt("break",12);case 9:for(ne=0;ne<ie;ne++)Q.push(re[ne]);ue.next=2;break;case 12:return ue.abrupt("return",Q);case 13:case"end":return ue.stop()}},W)})),S.apply(this,arguments)},_=function(W){return S.apply(this,arguments)},f=[],y=[],a.forEach(function(k){return y.push(k.webkitGetAsEntry())}),z=function(){var k=(0,Ho.Z)((0,Pr.Z)().mark(function W(H,X){var Q,re;return(0,Pr.Z)().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:if(H){ne.next=2;break}return ne.abrupt("return");case 2:if(H.path=X||"",!H.isFile){ne.next=10;break}return ne.next=6,I(H);case 6:Q=ne.sent,Q&&f.push(Q),ne.next=15;break;case 10:if(!H.isDirectory){ne.next=15;break}return ne.next=13,_(H);case 13:re=ne.sent,y.push.apply(y,(0,Ie.Z)(re));case 15:case"end":return ne.stop()}},W)}));return function(H,X){return k.apply(this,arguments)}}(),L=0;case 9:if(!(L<y.length)){Z.next=15;break}return Z.next=12,z(y[L]);case 12:L++,Z.next=9;break;case 15:return Z.abrupt("return",f);case 16:case"end":return Z.stop()}},t)}));return function(a,o){return e.apply(this,arguments)}}(),BF=NF,FF=+new Date,kF=0;function o2(){return"rc-upload-".concat(FF,"-").concat(++kF)}var jF=["component","prefixCls","className","classNames","disabled","id","name","style","styles","multiple","accept","capture","children","directory","openFileDialogOnClick","onMouseEnter","onMouseLeave","hasControlInside"],ZF=function(e){(0,ri.Z)(a,e);var t=(0,mc.Z)(a);function a(){var o;(0,Fn.Z)(this,a);for(var f=arguments.length,y=new Array(f),_=0;_<f;_++)y[_]=arguments[_];return o=t.call.apply(t,[this].concat(y)),(0,ge.Z)((0,od.Z)(o),"state",{uid:o2()}),(0,ge.Z)((0,od.Z)(o),"reqs",{}),(0,ge.Z)((0,od.Z)(o),"fileInput",void 0),(0,ge.Z)((0,od.Z)(o),"_isMounted",void 0),(0,ge.Z)((0,od.Z)(o),"onChange",function(S){var I=o.props,A=I.accept,z=I.directory,L=S.target.files,F=(0,Ie.Z)(L).filter(function(Z){return!z||i2(Z,A)});o.uploadFiles(F),o.reset()}),(0,ge.Z)((0,od.Z)(o),"onClick",function(S){var I=o.fileInput;if(I){var A=S.target,z=o.props.onClick;if(A&&A.tagName==="BUTTON"){var L=I.parentNode;L.focus(),A.blur()}I.click(),z&&z(S)}}),(0,ge.Z)((0,od.Z)(o),"onKeyDown",function(S){S.key==="Enter"&&o.onClick(S)}),(0,ge.Z)((0,od.Z)(o),"onFileDrop",function(){var S=(0,Ho.Z)((0,Pr.Z)().mark(function I(A){var z,L,F;return(0,Pr.Z)().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(z=o.props.multiple,A.preventDefault(),A.type!=="dragover"){k.next=4;break}return k.abrupt("return");case 4:if(!o.props.directory){k.next=11;break}return k.next=7,BF(Array.prototype.slice.call(A.dataTransfer.items),function(W){return i2(W,o.props.accept)});case 7:L=k.sent,o.uploadFiles(L),k.next=14;break;case 11:F=(0,Ie.Z)(A.dataTransfer.files).filter(function(W){return i2(W,o.props.accept)}),z===!1&&(F=F.slice(0,1)),o.uploadFiles(F);case 14:case"end":return k.stop()}},I)}));return function(I){return S.apply(this,arguments)}}()),(0,ge.Z)((0,od.Z)(o),"uploadFiles",function(S){var I=(0,Ie.Z)(S),A=I.map(function(z){return z.uid=o2(),o.processFile(z,I)});Promise.all(A).then(function(z){var L=o.props.onBatchStart;L==null||L(z.map(function(F){var Z=F.origin,k=F.parsedFile;return{file:Z,parsedFile:k}})),z.filter(function(F){return F.parsedFile!==null}).forEach(function(F){o.post(F)})})}),(0,ge.Z)((0,od.Z)(o),"processFile",function(){var S=(0,Ho.Z)((0,Pr.Z)().mark(function I(A,z){var L,F,Z,k,W,H,X,Q,re;return(0,Pr.Z)().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:if(L=o.props.beforeUpload,F=A,!L){ne.next=14;break}return ne.prev=3,ne.next=6,L(A,z);case 6:F=ne.sent,ne.next=12;break;case 9:ne.prev=9,ne.t0=ne.catch(3),F=!1;case 12:if(F!==!1){ne.next=14;break}return ne.abrupt("return",{origin:A,parsedFile:null,action:null,data:null});case 14:if(Z=o.props.action,typeof Z!="function"){ne.next=21;break}return ne.next=18,Z(A);case 18:k=ne.sent,ne.next=22;break;case 21:k=Z;case 22:if(W=o.props.data,typeof W!="function"){ne.next=29;break}return ne.next=26,W(A);case 26:H=ne.sent,ne.next=30;break;case 29:H=W;case 30:return X=((0,dt.Z)(F)==="object"||typeof F=="string")&&F?F:A,X instanceof File?Q=X:Q=new File([X],A.name,{type:A.type}),re=Q,re.uid=A.uid,ne.abrupt("return",{origin:A,data:H,parsedFile:re,action:k});case 35:case"end":return ne.stop()}},I,null,[[3,9]])}));return function(I,A){return S.apply(this,arguments)}}()),(0,ge.Z)((0,od.Z)(o),"saveFileInput",function(S){o.fileInput=S}),o}return(0,un.Z)(a,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.abort()}},{key:"post",value:function(f){var y=this,_=f.data,S=f.origin,I=f.action,A=f.parsedFile;if(this._isMounted){var z=this.props,L=z.onStart,F=z.customRequest,Z=z.name,k=z.headers,W=z.withCredentials,H=z.method,X=S.uid,Q=F||LF,re={action:I,filename:Z,data:_,file:A,headers:k,withCredentials:W,method:H||"post",onProgress:function(ne){var ae=y.props.onProgress;ae==null||ae(ne,A)},onSuccess:function(ne,ae){var ue=y.props.onSuccess;ue==null||ue(ne,A,ae),delete y.reqs[X]},onError:function(ne,ae){var ue=y.props.onError;ue==null||ue(ne,ae,A),delete y.reqs[X]}};L(S),this.reqs[X]=Q(re)}}},{key:"reset",value:function(){this.setState({uid:o2()})}},{key:"abort",value:function(f){var y=this.reqs;if(f){var _=f.uid?f.uid:f;y[_]&&y[_].abort&&y[_].abort(),delete y[_]}else Object.keys(y).forEach(function(S){y[S]&&y[S].abort&&y[S].abort(),delete y[S]})}},{key:"render",value:function(){var f=this.props,y=f.component,_=f.prefixCls,S=f.className,I=f.classNames,A=I===void 0?{}:I,z=f.disabled,L=f.id,F=f.name,Z=f.style,k=f.styles,W=k===void 0?{}:k,H=f.multiple,X=f.accept,Q=f.capture,re=f.children,ie=f.directory,ne=f.openFileDialogOnClick,ae=f.onMouseEnter,ue=f.onMouseLeave,fe=f.hasControlInside,he=(0,de.Z)(f,jF),ve=J()((0,ge.Z)((0,ge.Z)((0,ge.Z)({},_,!0),"".concat(_,"-disabled"),z),S,S)),ye=ie?{directory:"directory",webkitdirectory:"webkitdirectory"}:{},we=z?{}:{onClick:ne?this.onClick:function(){},onKeyDown:ne?this.onKeyDown:function(){},onMouseEnter:ae,onMouseLeave:ue,onDrop:this.onFileDrop,onDragOver:this.onFileDrop,tabIndex:fe?void 0:"0"};return s.createElement(y,(0,Ue.Z)({},we,{className:ve,role:fe?void 0:"button",style:Z}),s.createElement("input",(0,Ue.Z)({},(0,pt.Z)(he,{aria:!0,data:!0}),{id:L,name:F,disabled:z,type:"file",ref:this.saveFileInput,onClick:function(ze){return ze.stopPropagation()},key:this.state.uid,style:(0,K.Z)({display:"none"},W.input),className:A.input,accept:X},ye,{multiple:H,onChange:this.onChange},Q!=null?{capture:Q}:{})),re)}}]),a}(s.Component),VF=ZF;function a2(){}var fM=function(e){(0,ri.Z)(a,e);var t=(0,mc.Z)(a);function a(){var o;(0,Fn.Z)(this,a);for(var f=arguments.length,y=new Array(f),_=0;_<f;_++)y[_]=arguments[_];return o=t.call.apply(t,[this].concat(y)),(0,ge.Z)((0,od.Z)(o),"uploader",void 0),(0,ge.Z)((0,od.Z)(o),"saveUploader",function(S){o.uploader=S}),o}return(0,un.Z)(a,[{key:"abort",value:function(f){this.uploader.abort(f)}},{key:"render",value:function(){return s.createElement(VF,(0,Ue.Z)({},this.props,{ref:this.saveUploader}))}}]),a}(s.Component);(0,ge.Z)(fM,"defaultProps",{component:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onStart:a2,onError:a2,onSuccess:a2,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1,openFileDialogOnClick:!0,hasControlInside:!1});var HF=fM,hM=HF,UF=e=>{const{componentCls:t,iconCls:a}=e;return{[`${t}-wrapper`]:{[`${t}-drag`]:{position:"relative",width:"100%",height:"100%",textAlign:"center",background:e.colorFillAlter,border:`${(0,me.bf)(e.lineWidth)} dashed ${e.colorBorder}`,borderRadius:e.borderRadiusLG,cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,[t]:{padding:e.padding},[`${t}-btn`]:{display:"table",width:"100%",height:"100%",outline:"none",borderRadius:e.borderRadiusLG,"&:focus-visible":{outline:`${(0,me.bf)(e.lineWidthFocus)} solid ${e.colorPrimaryBorder}`}},[`${t}-drag-container`]:{display:"table-cell",verticalAlign:"middle"},[`
          &:not(${t}-disabled):hover,
          &-hover:not(${t}-disabled)
        `]:{borderColor:e.colorPrimaryHover},[`p${t}-drag-icon`]:{marginBottom:e.margin,[a]:{color:e.colorPrimary,fontSize:e.uploadThumbnailSize}},[`p${t}-text`]:{margin:`0 0 ${(0,me.bf)(e.marginXXS)}`,color:e.colorTextHeading,fontSize:e.fontSizeLG},[`p${t}-hint`]:{color:e.colorTextDescription,fontSize:e.fontSize},[`&${t}-disabled`]:{[`p${t}-drag-icon ${a},
            p${t}-text,
            p${t}-hint
          `]:{color:e.colorTextDisabled}}}}}},WF=e=>{const{componentCls:t,iconCls:a,fontSize:o,lineHeight:f,calc:y}=e,_=`${t}-list-item`,S=`${_}-actions`,I=`${_}-action`;return{[`${t}-wrapper`]:{[`${t}-list`]:Object.assign(Object.assign({},(0,nn.dF)()),{lineHeight:e.lineHeight,[_]:{position:"relative",height:y(e.lineHeight).mul(o).equal(),marginTop:e.marginXS,fontSize:o,display:"flex",alignItems:"center",transition:`background-color ${e.motionDurationSlow}`,borderRadius:e.borderRadiusSM,"&:hover":{backgroundColor:e.controlItemBgHover},[`${_}-name`]:Object.assign(Object.assign({},nn.vS),{padding:`0 ${(0,me.bf)(e.paddingXS)}`,lineHeight:f,flex:"auto",transition:`all ${e.motionDurationSlow}`}),[S]:{whiteSpace:"nowrap",[I]:{opacity:0},[a]:{color:e.actionsColor,transition:`all ${e.motionDurationSlow}`},[`
              ${I}:focus-visible,
              &.picture ${I}
            `]:{opacity:1}},[`${t}-icon ${a}`]:{color:e.colorTextDescription,fontSize:o},[`${_}-progress`]:{position:"absolute",bottom:e.calc(e.uploadProgressOffset).mul(-1).equal(),width:"100%",paddingInlineStart:y(o).add(e.paddingXS).equal(),fontSize:o,lineHeight:0,pointerEvents:"none","> div":{margin:0}}},[`${_}:hover ${I}`]:{opacity:1},[`${_}-error`]:{color:e.colorError,[`${_}-name, ${t}-icon ${a}`]:{color:e.colorError},[S]:{[`${a}, ${a}:hover`]:{color:e.colorError},[I]:{opacity:1}}},[`${t}-list-item-container`]:{transition:`opacity ${e.motionDurationSlow}, height ${e.motionDurationSlow}`,"&::before":{display:"table",width:0,height:0,content:'""'}}})}}},GF=e=>{const{componentCls:t}=e,a=new me.E4("uploadAnimateInlineIn",{from:{width:0,height:0,padding:0,opacity:0,margin:e.calc(e.marginXS).div(-2).equal()}}),o=new me.E4("uploadAnimateInlineOut",{to:{width:0,height:0,padding:0,opacity:0,margin:e.calc(e.marginXS).div(-2).equal()}}),f=`${t}-animate-inline`;return[{[`${t}-wrapper`]:{[`${f}-appear, ${f}-enter, ${f}-leave`]:{animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseInOutCirc,animationFillMode:"forwards"},[`${f}-appear, ${f}-enter`]:{animationName:a},[`${f}-leave`]:{animationName:o}}},{[`${t}-wrapper`]:lf(e)},a,o]};const XF=e=>{const{componentCls:t,iconCls:a,uploadThumbnailSize:o,uploadProgressOffset:f,calc:y}=e,_=`${t}-list`,S=`${_}-item`;return{[`${t}-wrapper`]:{[`
        ${_}${_}-picture,
        ${_}${_}-picture-card,
        ${_}${_}-picture-circle
      `]:{[S]:{position:"relative",height:y(o).add(y(e.lineWidth).mul(2)).add(y(e.paddingXS).mul(2)).equal(),padding:e.paddingXS,border:`${(0,me.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusLG,"&:hover":{background:"transparent"},[`${S}-thumbnail`]:Object.assign(Object.assign({},nn.vS),{width:o,height:o,lineHeight:(0,me.bf)(y(o).add(e.paddingSM).equal()),textAlign:"center",flex:"none",[a]:{fontSize:e.fontSizeHeading2,color:e.colorPrimary},img:{display:"block",width:"100%",height:"100%",overflow:"hidden"}}),[`${S}-progress`]:{bottom:f,width:`calc(100% - ${(0,me.bf)(y(e.paddingSM).mul(2).equal())})`,marginTop:0,paddingInlineStart:y(o).add(e.paddingXS).equal()}},[`${S}-error`]:{borderColor:e.colorError,[`${S}-thumbnail ${a}`]:{[`svg path[fill='${rp.iN[0]}']`]:{fill:e.colorErrorBg},[`svg path[fill='${rp.iN.primary}']`]:{fill:e.colorError}}},[`${S}-uploading`]:{borderStyle:"dashed",[`${S}-name`]:{marginBottom:f}}},[`${_}${_}-picture-circle ${S}`]:{[`&, &::before, ${S}-thumbnail`]:{borderRadius:"50%"}}}}},KF=e=>{const{componentCls:t,iconCls:a,fontSizeLG:o,colorTextLightSolid:f,calc:y}=e,_=`${t}-list`,S=`${_}-item`,I=e.uploadPicCardSize;return{[`
      ${t}-wrapper${t}-picture-card-wrapper,
      ${t}-wrapper${t}-picture-circle-wrapper
    `]:Object.assign(Object.assign({},(0,nn.dF)()),{display:"block",[`${t}${t}-select`]:{width:I,height:I,textAlign:"center",verticalAlign:"top",backgroundColor:e.colorFillAlter,border:`${(0,me.bf)(e.lineWidth)} dashed ${e.colorBorder}`,borderRadius:e.borderRadiusLG,cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,[`> ${t}`]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center"},[`&:not(${t}-disabled):hover`]:{borderColor:e.colorPrimary}},[`${_}${_}-picture-card, ${_}${_}-picture-circle`]:{display:"flex",flexWrap:"wrap","@supports not (gap: 1px)":{"& > *":{marginBlockEnd:e.marginXS,marginInlineEnd:e.marginXS}},"@supports (gap: 1px)":{gap:e.marginXS},[`${_}-item-container`]:{display:"inline-block",width:I,height:I,verticalAlign:"top"},"&::after":{display:"none"},"&::before":{display:"none"},[S]:{height:"100%",margin:0,"&::before":{position:"absolute",zIndex:1,width:`calc(100% - ${(0,me.bf)(y(e.paddingXS).mul(2).equal())})`,height:`calc(100% - ${(0,me.bf)(y(e.paddingXS).mul(2).equal())})`,backgroundColor:e.colorBgMask,opacity:0,transition:`all ${e.motionDurationSlow}`,content:'" "'}},[`${S}:hover`]:{[`&::before, ${S}-actions`]:{opacity:1}},[`${S}-actions`]:{position:"absolute",insetInlineStart:0,zIndex:10,width:"100%",whiteSpace:"nowrap",textAlign:"center",opacity:0,transition:`all ${e.motionDurationSlow}`,[`
            ${a}-eye,
            ${a}-download,
            ${a}-delete
          `]:{zIndex:10,width:o,margin:`0 ${(0,me.bf)(e.marginXXS)}`,fontSize:o,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,color:f,"&:hover":{color:f},svg:{verticalAlign:"baseline"}}},[`${S}-thumbnail, ${S}-thumbnail img`]:{position:"static",display:"block",width:"100%",height:"100%",objectFit:"contain"},[`${S}-name`]:{display:"none",textAlign:"center"},[`${S}-file + ${S}-name`]:{position:"absolute",bottom:e.margin,display:"block",width:`calc(100% - ${(0,me.bf)(y(e.paddingXS).mul(2).equal())})`},[`${S}-uploading`]:{[`&${S}`]:{backgroundColor:e.colorFillAlter},[`&::before, ${a}-eye, ${a}-download, ${a}-delete`]:{display:"none"}},[`${S}-progress`]:{bottom:e.marginXL,width:`calc(100% - ${(0,me.bf)(y(e.paddingXS).mul(2).equal())})`,paddingInlineStart:0}}}),[`${t}-wrapper${t}-picture-circle-wrapper`]:{[`${t}${t}-select`]:{borderRadius:"50%"}}}};var qF=e=>{const{componentCls:t}=e;return{[`${t}-rtl`]:{direction:"rtl"}}};const YF=e=>{const{componentCls:t,colorTextDisabled:a}=e;return{[`${t}-wrapper`]:Object.assign(Object.assign({},(0,nn.Wf)(e)),{[t]:{outline:0,"input[type='file']":{cursor:"pointer"}},[`${t}-select`]:{display:"inline-block"},[`${t}-hidden`]:{display:"none"},[`${t}-disabled`]:{color:a,cursor:"not-allowed"}})}},JF=e=>({actionsColor:e.colorTextDescription});var QF=(0,oe.I$)("Upload",e=>{const{fontSizeHeading3:t,fontHeight:a,lineWidth:o,controlHeightLG:f,calc:y}=e,_=(0,kr.IX)(e,{uploadThumbnailSize:y(t).mul(2).equal(),uploadProgressOffset:y(y(a).div(2)).add(o).equal(),uploadPicCardSize:y(f).mul(2.55).equal()});return[YF(_),UF(_),XF(_),KF(_),WF(_),GF(_),qF(_),(0,s0.Z)(_)]},JF),e8={icon:function(t,a){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M534 352V136H232v752h560V394H576a42 42 0 01-42-42z",fill:a}},{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z",fill:t}}]}},name:"file",theme:"twotone"},t8=e8,n8=function(t,a){return s.createElement(En.Z,(0,Ue.Z)({},t,{ref:a,icon:t8}))},r8=s.forwardRef(n8),i8=r8,o8={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z"}}]},name:"paper-clip",theme:"outlined"},a8=o8,s8=function(t,a){return s.createElement(En.Z,(0,Ue.Z)({},t,{ref:a,icon:a8}))},l8=s.forwardRef(s8),c8=l8,u8={icon:function(t,a){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2z",fill:t}},{tag:"path",attrs:{d:"M424.6 765.8l-150.1-178L136 752.1V792h752v-30.4L658.1 489z",fill:a}},{tag:"path",attrs:{d:"M136 652.7l132.4-157c3.2-3.8 9-3.8 12.2 0l144 170.7L652 396.8c3.2-3.8 9-3.8 12.2 0L888 662.2V232H136v420.7zM304 280a88 88 0 110 176 88 88 0 010-176z",fill:a}},{tag:"path",attrs:{d:"M276 368a28 28 0 1056 0 28 28 0 10-56 0z",fill:a}},{tag:"path",attrs:{d:"M304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z",fill:t}}]}},name:"picture",theme:"twotone"},d8=u8,f8=function(t,a){return s.createElement(En.Z,(0,Ue.Z)({},t,{ref:a,icon:d8}))},h8=s.forwardRef(f8),m8=h8;function Zx(e){return Object.assign(Object.assign({},e),{lastModified:e.lastModified,lastModifiedDate:e.lastModifiedDate,name:e.name,size:e.size,type:e.type,uid:e.uid,percent:0,originFileObj:e})}function Vx(e,t){const a=(0,Ie.Z)(t),o=a.findIndex(f=>{let{uid:y}=f;return y===e.uid});return o===-1?a.push(e):a[o]=e,a}function s2(e,t){const a=e.uid!==void 0?"uid":"name";return t.filter(o=>o[a]===e[a])[0]}function p8(e,t){const a=e.uid!==void 0?"uid":"name",o=t.filter(f=>f[a]!==e[a]);return o.length===t.length?null:o}const g8=function(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"").split("/"),o=t[t.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(o)||[""])[0]},mM=e=>e.indexOf("image/")===0,v8=e=>{if(e.type&&!e.thumbUrl)return mM(e.type);const t=e.thumbUrl||e.url||"",a=g8(t);return/^data:image\//.test(t)||/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico|heic|heif)$/i.test(a)?!0:!(/^data:/.test(t)||a)},sp=200;function y8(e){return new Promise(t=>{if(!e.type||!mM(e.type)){t("");return}const a=document.createElement("canvas");a.width=sp,a.height=sp,a.style.cssText=`position: fixed; left: 0; top: 0; width: ${sp}px; height: ${sp}px; z-index: 9999; display: none;`,document.body.appendChild(a);const o=a.getContext("2d"),f=new Image;if(f.onload=()=>{const{width:y,height:_}=f;let S=sp,I=sp,A=0,z=0;y>_?(I=_*(sp/y),z=-(I-S)/2):(S=y*(sp/_),A=-(S-I)/2),o.drawImage(f,A,z,S,I);const L=a.toDataURL();document.body.removeChild(a),window.URL.revokeObjectURL(f.src),t(L)},f.crossOrigin="anonymous",e.type.startsWith("image/svg+xml")){const y=new FileReader;y.onload=()=>{y.result&&typeof y.result=="string"&&(f.src=y.result)},y.readAsDataURL(e)}else if(e.type.startsWith("image/gif")){const y=new FileReader;y.onload=()=>{y.result&&t(y.result)},y.readAsDataURL(e)}else f.src=window.URL.createObjectURL(e)})}var b8={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"},_8=b8,x8=function(t,a){return s.createElement(En.Z,(0,Ue.Z)({},t,{ref:a,icon:_8}))},C8=s.forwardRef(x8),S8=C8,w8=s.forwardRef((e,t)=>{let{prefixCls:a,className:o,style:f,locale:y,listType:_,file:S,items:I,progress:A,iconRender:z,actionIconRender:L,itemRender:F,isImgUrl:Z,showPreviewIcon:k,showRemoveIcon:W,showDownloadIcon:H,previewIcon:X,removeIcon:Q,downloadIcon:re,extra:ie,onPreview:ne,onDownload:ae,onClose:ue}=e;var fe,he;const{status:ve}=S,[ye,we]=s.useState(ve);s.useEffect(()=>{ve!=="removed"&&we(ve)},[ve]);const[Se,ze]=s.useState(!1);s.useEffect(()=>{const Vt=setTimeout(()=>{ze(!0)},300);return()=>{clearTimeout(Vt)}},[]);const Te=z(S);let Fe=s.createElement("div",{className:`${a}-icon`},Te);if(_==="picture"||_==="picture-card"||_==="picture-circle")if(ye==="uploading"||!S.thumbUrl&&!S.url){const Vt=J()(`${a}-list-item-thumbnail`,{[`${a}-list-item-file`]:ye!=="uploading"});Fe=s.createElement("div",{className:Vt},Te)}else{const Vt=Z!=null&&Z(S)?s.createElement("img",{src:S.thumbUrl||S.url,alt:S.name,className:`${a}-list-item-image`,crossOrigin:S.crossOrigin}):Te,At=J()(`${a}-list-item-thumbnail`,{[`${a}-list-item-file`]:Z&&!Z(S)});Fe=s.createElement("a",{className:At,onClick:$n=>ne(S,$n),href:S.url||S.thumbUrl,target:"_blank",rel:"noopener noreferrer"},Vt)}const Ae=J()(`${a}-list-item`,`${a}-list-item-${ye}`),Ke=typeof S.linkProps=="string"?JSON.parse(S.linkProps):S.linkProps,tt=(typeof W=="function"?W(S):W)?L((typeof Q=="function"?Q(S):Q)||s.createElement(qT,null),()=>ue(S),a,y.removeFile,!0):null,vt=(typeof H=="function"?H(S):H)&&ye==="done"?L((typeof re=="function"?re(S):re)||s.createElement(S8,null),()=>ae(S),a,y.downloadFile):null,bt=_!=="picture-card"&&_!=="picture-circle"&&s.createElement("span",{key:"download-delete",className:J()(`${a}-list-item-actions`,{picture:_==="picture"})},vt,tt),lt=typeof ie=="function"?ie(S):ie,ct=lt&&s.createElement("span",{className:`${a}-list-item-extra`},lt),mt=J()(`${a}-list-item-name`),Rt=S.url?s.createElement("a",Object.assign({key:"view",target:"_blank",rel:"noopener noreferrer",className:mt,title:S.name},Ke,{href:S.url,onClick:Vt=>ne(S,Vt)}),S.name,ct):s.createElement("span",{key:"view",className:mt,onClick:Vt=>ne(S,Vt),title:S.name},S.name,ct),wt=(typeof k=="function"?k(S):k)&&(S.url||S.thumbUrl)?s.createElement("a",{href:S.url||S.thumbUrl,target:"_blank",rel:"noopener noreferrer",onClick:Vt=>ne(S,Vt),title:y.previewFile},typeof X=="function"?X(S):X||s.createElement(WS,null)):null,Bt=(_==="picture-card"||_==="picture-circle")&&ye!=="uploading"&&s.createElement("span",{className:`${a}-list-item-actions`},wt,ye==="done"&&vt,tt),{getPrefixCls:Ct}=s.useContext(_e.E_),dn=Ct(),zn=s.createElement("div",{className:Ae},Fe,Rt,bt,Bt,Se&&s.createElement(Rn.ZP,{motionName:`${dn}-fade`,visible:ye==="uploading",motionDeadline:2e3},Vt=>{let{className:At}=Vt;const $n="percent"in S?s.createElement(uw,Object.assign({},A,{type:"line",percent:S.percent,"aria-label":S["aria-label"],"aria-labelledby":S["aria-labelledby"]})):null;return s.createElement("div",{className:J()(`${a}-list-item-progress`,At)},$n)})),rn=S.response&&typeof S.response=="string"?S.response:((fe=S.error)===null||fe===void 0?void 0:fe.statusText)||((he=S.error)===null||he===void 0?void 0:he.message)||y.uploadError,Cn=ye==="error"?s.createElement(su.Z,{title:rn,getPopupContainer:Vt=>Vt.parentNode},zn):zn;return s.createElement("div",{className:J()(`${a}-list-item-container`,o),style:f,ref:t},F?F(Cn,S,I,{download:ae.bind(null,S),preview:ne.bind(null,S),remove:ue.bind(null,S)}):Cn)});const E8=(e,t)=>{const{listType:a="text",previewFile:o=y8,onPreview:f,onDownload:y,onRemove:_,locale:S,iconRender:I,isImageUrl:A=v8,prefixCls:z,items:L=[],showPreviewIcon:F=!0,showRemoveIcon:Z=!0,showDownloadIcon:k=!1,removeIcon:W,previewIcon:H,downloadIcon:X,extra:Q,progress:re={size:[-1,2],showInfo:!1},appendAction:ie,appendActionVisible:ne=!0,itemRender:ae,disabled:ue}=e,fe=(0,fw.Z)(),[he,ve]=s.useState(!1),ye=["picture-card","picture-circle"].includes(a);s.useEffect(()=>{a.startsWith("picture")&&(L||[]).forEach(ct=>{!(ct.originFileObj instanceof File||ct.originFileObj instanceof Blob)||ct.thumbUrl!==void 0||(ct.thumbUrl="",o==null||o(ct.originFileObj).then(mt=>{ct.thumbUrl=mt||"",fe()}))})},[a,L,o]),s.useEffect(()=>{ve(!0)},[]);const we=(ct,mt)=>{if(f)return mt==null||mt.preventDefault(),f(ct)},Se=ct=>{typeof y=="function"?y(ct):ct.url&&window.open(ct.url)},ze=ct=>{_==null||_(ct)},Te=ct=>{if(I)return I(ct,a);const mt=ct.status==="uploading";if(a.startsWith("picture")){const Rt=a==="picture"?s.createElement(Ut.Z,null):S.uploading,wt=A!=null&&A(ct)?s.createElement(m8,null):s.createElement(i8,null);return mt?Rt:wt}return mt?s.createElement(Ut.Z,null):s.createElement(c8,null)},Fe=(ct,mt,Rt,wt,Bt)=>{const Ct={type:"text",size:"small",title:wt,onClick:dn=>{var zn,rn;mt(),s.isValidElement(ct)&&((rn=(zn=ct.props).onClick)===null||rn===void 0||rn.call(zn,dn))},className:`${Rt}-list-item-action`};return Bt&&(Ct.disabled=ue),s.isValidElement(ct)?s.createElement(ks,Object.assign({},Ct,{icon:(0,Tn.Tm)(ct,Object.assign(Object.assign({},ct.props),{onClick:()=>{}}))})):s.createElement(ks,Object.assign({},Ct),s.createElement("span",null,ct))};s.useImperativeHandle(t,()=>({handlePreview:we,handleDownload:Se}));const{getPrefixCls:Ae}=s.useContext(_e.E_),Ke=Ae("upload",z),tt=Ae(),vt=J()(`${Ke}-list`,`${Ke}-list-${a}`),bt=s.useMemo(()=>(0,Ci.Z)((0,ir.Z)(tt),["onAppearEnd","onEnterEnd","onLeaveEnd"]),[tt]),lt=Object.assign(Object.assign({},ye?{}:bt),{motionDeadline:2e3,motionName:`${Ke}-${ye?"animate-inline":"animate"}`,keys:(0,Ie.Z)(L.map(ct=>({key:ct.uid,file:ct}))),motionAppear:he});return s.createElement("div",{className:vt},s.createElement(Rn.V4,Object.assign({},lt,{component:!1}),ct=>{let{key:mt,file:Rt,className:wt,style:Bt}=ct;return s.createElement(w8,{key:mt,locale:S,prefixCls:Ke,className:wt,style:Bt,file:Rt,items:L,progress:re,listType:a,isImgUrl:A,showPreviewIcon:F,showRemoveIcon:Z,showDownloadIcon:k,removeIcon:W,previewIcon:H,downloadIcon:X,extra:Q,iconRender:Te,actionIconRender:Fe,itemRender:ae,onPreview:we,onDownload:Se,onClose:ze})}),ie&&s.createElement(Rn.ZP,Object.assign({},lt,{visible:ne,forceRender:!0}),ct=>{let{className:mt,style:Rt}=ct;return(0,Tn.Tm)(ie,wt=>({className:J()(wt.className,mt),style:Object.assign(Object.assign(Object.assign({},Rt),{pointerEvents:mt?"none":void 0}),wt.style)}))}))};var I8=s.forwardRef(E8),T8=function(e,t,a,o){function f(y){return y instanceof a?y:new a(function(_){_(y)})}return new(a||(a=Promise))(function(y,_){function S(z){try{A(o.next(z))}catch(L){_(L)}}function I(z){try{A(o.throw(z))}catch(L){_(L)}}function A(z){z.done?y(z.value):f(z.value).then(S,I)}A((o=o.apply(e,t||[])).next())})};const Ab=`__LIST_IGNORE_${Date.now()}__`,M8=(e,t)=>{const{fileList:a,defaultFileList:o,onRemove:f,showUploadList:y=!0,listType:_="text",onPreview:S,onDownload:I,onChange:A,onDrop:z,previewFile:L,disabled:F,locale:Z,iconRender:k,isImageUrl:W,progress:H,prefixCls:X,className:Q,type:re="select",children:ie,style:ne,itemRender:ae,maxCount:ue,data:fe={},multiple:he=!1,hasControlInside:ve=!0,action:ye="",accept:we="",supportServerRender:Se=!0,rootClassName:ze}=e,Te=s.useContext(cs.Z),Fe=F!=null?F:Te,[Ae,Ke]=(0,zt.Z)(o||[],{value:a,postState:dr=>dr!=null?dr:[]}),[tt,vt]=s.useState("drop"),bt=s.useRef(null),lt=s.useRef(null);s.useMemo(()=>{const dr=Date.now();(a||[]).forEach((er,gr)=>{!er.uid&&!Object.isFrozen(er)&&(er.uid=`__AUTO__${dr}_${gr}__`)})},[a]);const ct=(dr,er,gr)=>{let Zn=(0,Ie.Z)(er),ni=!1;ue===1?Zn=Zn.slice(-1):ue&&(ni=Zn.length>ue,Zn=Zn.slice(0,ue)),(0,Ne.flushSync)(()=>{Ke(Zn)});const Oi={file:dr,fileList:Zn};gr&&(Oi.event=gr),(!ni||dr.status==="removed"||Zn.some(ro=>ro.uid===dr.uid))&&(0,Ne.flushSync)(()=>{A==null||A(Oi)})},mt=(dr,er)=>T8(void 0,void 0,void 0,function*(){const{beforeUpload:gr,transformFile:Zn}=e;let ni=dr;if(gr){const Oi=yield gr(dr,er);if(Oi===!1)return!1;if(delete dr[Ab],Oi===Ab)return Object.defineProperty(dr,Ab,{value:!0,configurable:!0}),!1;typeof Oi=="object"&&Oi&&(ni=Oi)}return Zn&&(ni=yield Zn(ni)),ni}),Rt=dr=>{const er=dr.filter(ni=>!ni.file[Ab]);if(!er.length)return;const gr=er.map(ni=>Zx(ni.file));let Zn=(0,Ie.Z)(Ae);gr.forEach(ni=>{Zn=Vx(ni,Zn)}),gr.forEach((ni,Oi)=>{let ro=ni;if(er[Oi].parsedFile)ni.status="uploading";else{const{originFileObj:Ko}=ni;let Oa;try{Oa=new File([Ko],Ko.name,{type:Ko.type})}catch(ta){Oa=new Blob([Ko],{type:Ko.type}),Oa.name=Ko.name,Oa.lastModifiedDate=new Date,Oa.lastModified=new Date().getTime()}Oa.uid=ni.uid,ro=Oa}ct(ro,Zn)})},wt=(dr,er,gr)=>{try{typeof dr=="string"&&(dr=JSON.parse(dr))}catch(Oi){}if(!s2(er,Ae))return;const Zn=Zx(er);Zn.status="done",Zn.percent=100,Zn.response=dr,Zn.xhr=gr;const ni=Vx(Zn,Ae);ct(Zn,ni)},Bt=(dr,er)=>{if(!s2(er,Ae))return;const gr=Zx(er);gr.status="uploading",gr.percent=dr.percent;const Zn=Vx(gr,Ae);ct(gr,Zn,dr)},Ct=(dr,er,gr)=>{if(!s2(gr,Ae))return;const Zn=Zx(gr);Zn.error=dr,Zn.response=er,Zn.status="error";const ni=Vx(Zn,Ae);ct(Zn,ni)},dn=dr=>{let er;Promise.resolve(typeof f=="function"?f(dr):f).then(gr=>{var Zn;if(gr===!1)return;const ni=p8(dr,Ae);ni&&(er=Object.assign(Object.assign({},dr),{status:"removed"}),Ae==null||Ae.forEach(Oi=>{const ro=er.uid!==void 0?"uid":"name";Oi[ro]===er[ro]&&!Object.isFrozen(Oi)&&(Oi.status="removed")}),(Zn=bt.current)===null||Zn===void 0||Zn.abort(er),ct(er,ni))})},zn=dr=>{vt(dr.type),dr.type==="drop"&&(z==null||z(dr))};s.useImperativeHandle(t,()=>({onBatchStart:Rt,onSuccess:wt,onProgress:Bt,onError:Ct,fileList:Ae,upload:bt.current,nativeElement:lt.current}));const{getPrefixCls:rn,direction:Cn,upload:Vt}=s.useContext(_e.E_),At=rn("upload",X),$n=Object.assign(Object.assign({onBatchStart:Rt,onError:Ct,onProgress:Bt,onSuccess:wt},e),{data:fe,multiple:he,action:ye,accept:we,supportServerRender:Se,prefixCls:At,disabled:Fe,beforeUpload:mt,onChange:void 0,hasControlInside:ve});delete $n.className,delete $n.style,(!ie||Fe)&&delete $n.id;const yn=`${At}-wrapper`,[Ir,cr,Kn]=QF(At,yn),[qn]=(0,rr.Z)("Upload",Gc.Z.Upload),{showRemoveIcon:Pn,showPreviewIcon:Yn,showDownloadIcon:zr,removeIcon:si,previewIcon:yi,downloadIcon:Di,extra:Eo}=typeof y=="boolean"?{}:y,gi=typeof Pn=="undefined"?!Fe:Pn,ai=(dr,er)=>y?s.createElement(I8,{prefixCls:At,listType:_,items:Ae,previewFile:L,onPreview:S,onDownload:I,onRemove:dn,showRemoveIcon:gi,showPreviewIcon:Yn,showDownloadIcon:zr,removeIcon:si,previewIcon:yi,downloadIcon:Di,iconRender:k,extra:Eo,locale:Object.assign(Object.assign({},qn),Z),isImageUrl:W,progress:H,appendAction:dr,appendActionVisible:er,itemRender:ae,disabled:Fe}):dr,mi=J()(yn,Q,ze,cr,Kn,Vt==null?void 0:Vt.className,{[`${At}-rtl`]:Cn==="rtl",[`${At}-picture-card-wrapper`]:_==="picture-card",[`${At}-picture-circle-wrapper`]:_==="picture-circle"}),Xi=Object.assign(Object.assign({},Vt==null?void 0:Vt.style),ne);if(re==="drag"){const dr=J()(cr,At,`${At}-drag`,{[`${At}-drag-uploading`]:Ae.some(er=>er.status==="uploading"),[`${At}-drag-hover`]:tt==="dragover",[`${At}-disabled`]:Fe,[`${At}-rtl`]:Cn==="rtl"});return Ir(s.createElement("span",{className:mi,ref:lt},s.createElement("div",{className:dr,style:Xi,onDrop:zn,onDragOver:zn,onDragLeave:zn},s.createElement(hM,Object.assign({},$n,{ref:bt,className:`${At}-btn`}),s.createElement("div",{className:`${At}-drag-container`},ie))),ai()))}const Pi=J()(At,`${At}-select`,{[`${At}-disabled`]:Fe,[`${At}-hidden`]:!ie}),Io=s.createElement("div",{className:Pi},s.createElement(hM,Object.assign({},$n,{ref:bt})));return Ir(_==="picture-card"||_==="picture-circle"?s.createElement("span",{className:mi,ref:lt},ai(Io,!!ie)):s.createElement("span",{className:mi,ref:lt},Io,ai()))};var pM=s.forwardRef(M8),P8=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},O8=s.forwardRef((e,t)=>{var{style:a,height:o,hasControlInside:f=!1}=e,y=P8(e,["style","height","hasControlInside"]);return s.createElement(pM,Object.assign({ref:t,hasControlInside:f},y,{type:"drag",style:Object.assign(Object.assign({},a),{height:o})}))});const l2=pM;l2.Dragger=O8,l2.LIST_IGNORE=Ab;var R8=l2,$8=j(41424),nZ=function(e){(0,ri.Z)(a,e);var t=(0,mc.Z)(a);function a(){return(0,Fn.Z)(this,a),t.apply(this,arguments)}return(0,un.Z)(a,[{key:"render",value:function(){return this.props.children}}]),a}(s.Component),rZ=null,A8={subtree:!0,childList:!0,attributeFilter:["style","class"]};function D8(e,t){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:A8;s.useEffect(function(){if(!(!(0,dd.Z)()||!e)){var o,f=Array.isArray(e)?e:[e];return"MutationObserver"in window&&(o=new MutationObserver(t),f.forEach(function(y){o.observe(y,a)})),function(){var y,_;(y=o)===null||y===void 0||y.takeRecords(),(_=o)===null||_===void 0||_.disconnect()}}},[a,e])}var iZ=function(t){var a=t.children,o=t.options,f=t.onMutate,y=f===void 0?function(){}:f,_=useEvent(y),S=React.useRef(null),I=React.useRef(null),A=React.isValidElement(a)&&supportRef(a),z=useComposeRef(I,A?a.ref:null),L=React.useState(null),F=_slicedToArray(L,2),Z=F[0],k=F[1];return useMutateObserver(Z,_,o),useLayoutEffect(function(){k(findDOMNode(I.current)||findDOMNode(S.current))}),a?React.createElement(DomWrapper,{ref:S},A?React.cloneElement(a,{ref:z}):a):null},oZ=null,aZ=null;const gM=3;function c2(e,t){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;const o=document.createElement("canvas"),f=o.getContext("2d"),y=e*a,_=t*a;return o.setAttribute("width",`${y}px`),o.setAttribute("height",`${_}px`),f.save(),[f,o,y,_]}function z8(){function e(t,a,o,f,y,_,S,I){const[A,z,L,F]=c2(f,y,o);if(t instanceof HTMLImageElement)A.drawImage(t,0,0,L,F);else{const{color:bt,fontSize:lt,fontStyle:ct,fontWeight:mt,fontFamily:Rt,textAlign:wt}=_,Bt=Number(lt)*o;A.font=`${ct} normal ${mt} ${Bt}px/${y}px ${Rt}`,A.fillStyle=bt,A.textAlign=wt,A.textBaseline="top";const Ct=gx(t);Ct==null||Ct.forEach((dn,zn)=>{A.fillText(dn!=null?dn:"",L/2,zn*(Bt+gM*o))})}const Z=Math.PI/180*Number(a),k=Math.max(f,y),[W,H,X]=c2(k,k,o);W.translate(X/2,X/2),W.rotate(Z),L>0&&F>0&&W.drawImage(z,-L/2,-F/2);function Q(bt,lt){const ct=bt*Math.cos(Z)-lt*Math.sin(Z),mt=bt*Math.sin(Z)+lt*Math.cos(Z);return[ct,mt]}let re=0,ie=0,ne=0,ae=0;const ue=L/2,fe=F/2;[[0-ue,0-fe],[0+ue,0-fe],[0+ue,0+fe],[0-ue,0+fe]].forEach(bt=>{let[lt,ct]=bt;const[mt,Rt]=Q(lt,ct);re=Math.min(re,mt),ie=Math.max(ie,mt),ne=Math.min(ne,Rt),ae=Math.max(ae,Rt)});const ve=re+X/2,ye=ne+X/2,we=ie-re,Se=ae-ne,ze=S*o,Te=I*o,Fe=(we+ze)*2,Ae=Se+Te,[Ke,tt]=c2(Fe,Ae);function vt(){let bt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,lt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;Ke.drawImage(H,ve,ye,we,Se,bt,lt,we,Se)}return vt(),vt(we+ze,-Se/2-Te/2),vt(we+ze,+Se/2+Te/2),[tt.toDataURL(),Fe/o,Ae/o]}return e}function L8(e){const t=s.useRef(!1),a=s.useRef(null),o=(0,ur.Z)(e);return()=>{t.current||(t.current=!0,o(),a.current=(0,He.Z)(()=>{t.current=!1}))}}function N8(){const e=s.useRef([null,null]);return(a,o)=>{const f=a.map(y=>y instanceof HTMLElement||isNaN(y)?"":y);return(0,mr.Z)(e.current[0],f)||(e.current=[f,o()]),e.current[1]}}function B8(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}function F8(e){return Object.keys(e).map(t=>`${B8(t)}: ${e[t]};`).join(" ")}function k8(){return window.devicePixelRatio||1}const j8=(e,t)=>{let a=!1;return e.removedNodes.length&&(a=Array.from(e.removedNodes).some(o=>t(o))),e.type==="attributes"&&t(e.target)&&(a=!0),a},sZ=2,lZ=3,Z8={visibility:"visible !important"};function V8(e){const t=s.useRef(new Map);return[(y,_,S)=>{if(S){if(!t.current.get(S)){const A=document.createElement("div");t.current.set(S,A)}const I=t.current.get(S);I.setAttribute("style",F8(Object.assign(Object.assign(Object.assign({},e),{backgroundImage:`url('${y}')`,backgroundSize:`${Math.floor(_)}px`}),Z8))),I.removeAttribute("class"),I.removeAttribute("hidden"),I.parentElement!==S&&S.append(I)}return t.current.get(S)},y=>{const _=t.current.get(y);_&&y&&y.removeChild(_),t.current.delete(y)},y=>Array.from(t.current.values()).includes(y)]}function vM(e,t){return e.size===t.size?e:t}const yM=100,bM=100,_M={position:"relative",overflow:"hidden"};var H8=e=>{var t,a;const{zIndex:o=9,rotate:f=-22,width:y,height:_,image:S,content:I,font:A={},style:z,className:L,rootClassName:F,gap:Z=[yM,bM],offset:k,children:W,inherit:H=!0}=e,X=Object.assign(Object.assign({},_M),z),[,Q]=(0,Vr.ZP)(),{color:re=Q.colorFill,fontSize:ie=Q.fontSizeLG,fontWeight:ne="normal",fontStyle:ae="normal",fontFamily:ue="sans-serif",textAlign:fe="center"}=A,[he=yM,ve=bM]=Z,ye=he/2,we=ve/2,Se=(t=k==null?void 0:k[0])!==null&&t!==void 0?t:ye,ze=(a=k==null?void 0:k[1])!==null&&a!==void 0?a:we,Te=s.useMemo(()=>{const At={zIndex:o,position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:"none",backgroundRepeat:"repeat"};let $n=Se-ye,yn=ze-we;return $n>0&&(At.left=`${$n}px`,At.width=`calc(100% - ${$n}px)`,$n=0),yn>0&&(At.top=`${yn}px`,At.height=`calc(100% - ${yn}px)`,yn=0),At.backgroundPosition=`${$n}px ${yn}px`,At},[o,Se,ye,ze,we]),[Fe,Ae]=s.useState(),[Ke,tt]=s.useState(new Set),vt=s.useMemo(()=>{const At=Fe?[Fe]:[];return[].concat(At,(0,Ie.Z)(Array.from(Ke)))},[Fe,Ke]),bt=At=>{let $n=120,yn=64;if(!S&&At.measureText){At.font=`${Number(ie)}px ${ue}`;const Ir=gx(I),cr=Ir.map(Kn=>{const qn=At.measureText(Kn);return[qn.width,qn.fontBoundingBoxAscent+qn.fontBoundingBoxDescent]});$n=Math.ceil(Math.max.apply(Math,(0,Ie.Z)(cr.map(Kn=>Kn[0])))),yn=Math.ceil(Math.max.apply(Math,(0,Ie.Z)(cr.map(Kn=>Kn[1]))))*Ir.length+(Ir.length-1)*gM}return[y!=null?y:$n,_!=null?_:yn]},lt=z8(),ct=N8(),[mt,Rt]=s.useState(null),Bt=L8(()=>{const $n=document.createElement("canvas").getContext("2d");if($n){const yn=k8(),[Ir,cr]=bt($n),Kn=qn=>{const Pn=[qn||"",f,yn,Ir,cr,{color:re,fontSize:ie,fontStyle:ae,fontWeight:ne,fontFamily:ue,textAlign:fe},he,ve],Yn=ct(Pn,()=>lt.apply(void 0,Pn)),[zr,si]=Yn;Rt([zr,si])};if(S){const qn=new Image;qn.onload=()=>{Kn(qn)},qn.onerror=()=>{Kn(I)},qn.crossOrigin="anonymous",qn.referrerPolicy="no-referrer",qn.src=S}else Kn(I)}}),[Ct,dn,zn]=V8(Te);(0,s.useEffect)(()=>{mt&&vt.forEach(At=>{Ct(mt[0],mt[1],At)})},[mt,vt]);const rn=(0,ur.Z)(At=>{At.forEach($n=>{if(j8($n,zn))Bt();else if($n.target===Fe&&$n.attributeName==="style"){const yn=Object.keys(_M);for(let Ir=0;Ir<yn.length;Ir+=1){const cr=yn[Ir],Kn=X[cr],qn=Fe.style[cr];Kn&&Kn!==qn&&(Fe.style[cr]=Kn)}}})});D8(vt,rn),(0,s.useEffect)(Bt,[f,o,y,_,S,I,re,ie,ne,ae,ue,fe,he,ve,Se,ze]);const Cn=s.useMemo(()=>({add:At=>{tt($n=>{const yn=new Set($n);return yn.add(At),vM($n,yn)})},remove:At=>{dn(At),tt($n=>{const yn=new Set($n);return yn.delete(At),vM($n,yn)})}}),[]),Vt=H?s.createElement(Cv.Provider,{value:Cn},W):W;return s.createElement("div",{ref:Ae,className:J()(L,F),style:X},Vt)};const U8=(0,s.forwardRef)((e,t)=>{const{prefixCls:a,className:o,children:f,size:y,style:_={}}=e,S=J()(`${a}-panel`,{[`${a}-panel-hidden`]:y===0},o),I=y!==void 0;return s.createElement("div",{ref:t,className:S,style:Object.assign(Object.assign({},_),{flexBasis:I?y:"auto",flexGrow:I?0:1})},f)});var W8=()=>null,G8=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};function X8(e){if(e&&typeof e=="object")return e;const t=!!e;return{start:t,end:t}}function K8(e){return s.useMemo(()=>(0,ac.Z)(e).filter(s.isValidElement).map(a=>{const{props:o}=a,{collapsible:f}=o,y=G8(o,["collapsible"]);return Object.assign(Object.assign({},y),{collapsible:X8(f)})}),[e])}function q8(e,t,a){return s.useMemo(()=>{const o=[];for(let f=0;f<e.length-1;f+=1){const y=e[f],_=e[f+1],S=t[f],I=t[f+1],{resizable:A=!0,min:z,collapsible:L}=y,{resizable:F=!0,min:Z,collapsible:k}=_,W=A&&F&&(S!==0||!z)&&(I!==0||!Z),H=L.end&&S>0||k.start&&I===0&&S>0,X=k.start&&I>0||L.end&&S===0&&I>0;o[f]={resizable:W,startCollapsible:!!(a?X:H),endCollapsible:!!(a?H:X)}}return o},[t,e])}function Hx(e){return Number(e.slice(0,-1))/100}function u2(e){return typeof e=="string"&&e.endsWith("%")}function Y8(e,t){const a=e.map(k=>k.size),o=e.length,f=t||0,y=k=>k*f,[_,S]=s.useState(()=>e.map(k=>k.defaultSize)),I=s.useMemo(()=>{var k;const W=[];for(let H=0;H<o;H+=1)W[H]=(k=a[H])!==null&&k!==void 0?k:_[H];return W},[o,_,a]),A=s.useMemo(()=>{let k=[],W=0;for(let X=0;X<o;X+=1){const Q=I[X];if(u2(Q))k[X]=Hx(Q);else if(Q||Q===0){const re=Number(Q);Number.isNaN(re)||(k[X]=re/f)}else W+=1,k[X]=void 0}const H=k.reduce((X,Q)=>X+(Q||0),0);if(H>1||!W){const X=1/H;k=k.map(Q=>Q===void 0?0:Q*X)}else{const X=(1-H)/W;k=k.map(Q=>Q===void 0?X:Q)}return k},[I,f]),z=s.useMemo(()=>A.map(y),[A,f]),L=s.useMemo(()=>e.map(k=>u2(k.min)?Hx(k.min):(k.min||0)/f),[e,f]),F=s.useMemo(()=>e.map(k=>u2(k.max)?Hx(k.max):(k.max||f)/f),[e,f]);return[s.useMemo(()=>t?z:I,[z,t]),z,A,L,F,S]}function J8(e,t,a,o,f,y){const _=e.map(ie=>[ie.min,ie.max]),S=o||0,I=ie=>ie*S;function A(ie,ne){return typeof ie=="string"?I(Hx(ie)):ie!=null?ie:ne}const[z,L]=s.useState([]),F=s.useRef([]),[Z,k]=s.useState(null),W=()=>a.map(I);return[ie=>{L(W()),k({index:ie,confirmed:!1})},(ie,ne)=>{var ae;let ue=null;if((!Z||!Z.confirmed)&&ne!==0){if(ne>0)ue=ie,k({index:ie,confirmed:!0});else for(let Fe=ie;Fe>=0;Fe-=1)if(z[Fe]>0&&t[Fe].resizable){ue=Fe,k({index:Fe,confirmed:!0});break}}const fe=(ae=ue!=null?ue:Z==null?void 0:Z.index)!==null&&ae!==void 0?ae:ie,he=(0,Ie.Z)(z),ve=fe+1,ye=A(_[fe][0],0),we=A(_[ve][0],0),Se=A(_[fe][1],S),ze=A(_[ve][1],S);let Te=ne;return he[fe]+Te<ye&&(Te=ye-he[fe]),he[ve]-Te<we&&(Te=he[ve]-we),he[fe]+Te>Se&&(Te=Se-he[fe]),he[ve]-Te>ze&&(Te=he[ve]-ze),he[fe]+=Te,he[ve]-=Te,f(he),he},()=>{k(null)},(ie,ne)=>{const ae=W(),ue=y?ne==="start"?"end":"start":ne,fe=ue==="start"?ie:ie+1,he=ue==="start"?ie+1:ie,ve=ae[fe],ye=ae[he];if(ve!==0&&ye!==0)ae[fe]=0,ae[he]+=ve,F.current[ie]=ve;else{const we=ve+ye,Se=A(_[fe][0],0),ze=A(_[fe][1],S),Te=A(_[he][0],0),Fe=A(_[he][1],S),Ae=Math.max(Se,we-Fe),tt=(Math.min(ze,we-Te)-Ae)/2,vt=F.current[ie],bt=we-vt;vt&&vt<=Fe&&vt>=Te&&bt<=ze&&bt>=Se?(ae[he]=vt,ae[fe]=bt):(ae[fe]-=tt,ae[he]+=tt)}return f(ae),ae},Z==null?void 0:Z.index]}var Q8=j(84896);function d2(e){return typeof e=="number"&&!Number.isNaN(e)?Math.round(e):0}var ek=e=>{const{prefixCls:t,vertical:a,index:o,active:f,ariaNow:y,ariaMin:_,ariaMax:S,resizable:I,startCollapsible:A,endCollapsible:z,onOffsetStart:L,onOffsetUpdate:F,onOffsetEnd:Z,onCollapse:k,lazy:W,containerSize:H}=e,X=`${t}-bar`,[Q,re]=(0,s.useState)(null),[ie,ne]=(0,s.useState)(0),ae=a?0:ie,ue=a?ie:0,fe=Fe=>{I&&Fe.currentTarget&&(re([Fe.pageX,Fe.pageY]),L(o))},he=Fe=>{if(I&&Fe.touches.length===1){const Ae=Fe.touches[0];re([Ae.pageX,Ae.pageY]),L(o)}},ve=Fe=>{const Ae=H*y/100,Ke=Ae+Fe,tt=Math.max(0,H*_/100),vt=Math.min(H,H*S/100);return Math.max(tt,Math.min(vt,Ke))-Ae},ye=(0,ur.Z)((Fe,Ae)=>{const Ke=ve(a?Ae:Fe);ne(Ke)}),we=(0,ur.Z)(()=>{F(o,ae,ue),ne(0)});s.useEffect(()=>{if(Q){const Fe=vt=>{const{pageX:bt,pageY:lt}=vt,ct=bt-Q[0],mt=lt-Q[1];W?ye(ct,mt):F(o,ct,mt)},Ae=()=>{W&&we(),re(null),Z()},Ke=vt=>{if(vt.touches.length===1){const bt=vt.touches[0],lt=bt.pageX-Q[0],ct=bt.pageY-Q[1];W?ye(lt,ct):F(o,lt,ct)}},tt=()=>{W&&we(),re(null),Z()};return window.addEventListener("touchmove",Ke),window.addEventListener("touchend",tt),window.addEventListener("mousemove",Fe),window.addEventListener("mouseup",Ae),()=>{window.removeEventListener("mousemove",Fe),window.removeEventListener("mouseup",Ae),window.removeEventListener("touchmove",Ke),window.removeEventListener("touchend",tt)}}},[Q,W,a,o,H,y,_,S]);const Se={[`--${X}-preview-offset`]:`${ie}px`},ze=a?Q8.Z:V,Te=a?b.Z:U.Z;return s.createElement("div",{className:X,role:"separator","aria-valuenow":d2(y),"aria-valuemin":d2(_),"aria-valuemax":d2(S)},W&&s.createElement("div",{className:J()(`${X}-preview`,{[`${X}-preview-active`]:!!ie}),style:Se}),s.createElement("div",{className:J()(`${X}-dragger`,{[`${X}-dragger-disabled`]:!I,[`${X}-dragger-active`]:f}),onMouseDown:fe,onTouchStart:he}),A&&s.createElement("div",{className:J()(`${X}-collapse-bar`,`${X}-collapse-bar-start`),onClick:()=>k(o,"start")},s.createElement(ze,{className:J()(`${X}-collapse-icon`,`${X}-collapse-start`)})),z&&s.createElement("div",{className:J()(`${X}-collapse-bar`,`${X}-collapse-bar-end`),onClick:()=>k(o,"end")},s.createElement(Te,{className:J()(`${X}-collapse-icon`,`${X}-collapse-end`)})))};const tk=e=>{const{componentCls:t}=e;return{[`&-rtl${t}-horizontal`]:{[`> ${t}-bar`]:{[`${t}-bar-collapse-previous`]:{insetInlineEnd:0,insetInlineStart:"unset"},[`${t}-bar-collapse-next`]:{insetInlineEnd:"unset",insetInlineStart:0}}},[`&-rtl${t}-vertical`]:{[`> ${t}-bar`]:{[`${t}-bar-collapse-previous`]:{insetInlineEnd:"50%",insetInlineStart:"unset"},[`${t}-bar-collapse-next`]:{insetInlineEnd:"50%",insetInlineStart:"unset"}}}}},Ux={position:"absolute",top:"50%",left:{_skip_check_:!0,value:"50%"},transform:"translate(-50%, -50%)"},nk=e=>{const{componentCls:t,colorFill:a,splitBarDraggableSize:o,splitBarSize:f,splitTriggerSize:y,controlItemBgHover:_,controlItemBgActive:S,controlItemBgActiveHover:I,prefixCls:A}=e,z=`${t}-bar`,L=`${t}-mask`,F=`${t}-panel`,Z=e.calc(y).div(2).equal(),k=`${A}-bar-preview-offset`,W={position:"absolute",background:e.colorPrimary,opacity:.2,pointerEvents:"none",transition:"none",zIndex:1,display:"none"};return{[t]:Object.assign(Object.assign(Object.assign({},(0,nn.Wf)(e)),{display:"flex",width:"100%",height:"100%",alignItems:"stretch",[`> ${z}`]:{flex:"none",position:"relative",userSelect:"none",[`${z}-dragger`]:Object.assign(Object.assign({},Ux),{zIndex:1,"&::before":Object.assign({content:'""',background:_},Ux),"&::after":Object.assign({content:'""',background:a},Ux),[`&:hover:not(${z}-dragger-active)`]:{"&::before":{background:S}},"&-active":{zIndex:2,"&::before":{background:I}},[`&-disabled${z}-dragger`]:{zIndex:0,"&, &:hover, &-active":{cursor:"default","&::before":{background:_}},"&::after":{display:"none"}}}),[`${z}-collapse-bar`]:Object.assign(Object.assign({},Ux),{zIndex:e.zIndexPopupBase,background:_,fontSize:e.fontSizeSM,borderRadius:e.borderRadiusXS,color:e.colorText,cursor:"pointer",opacity:0,display:"flex",alignItems:"center",justifyContent:"center","&:hover":{background:S},"&:active":{background:I}}),"&:hover, &:active":{[`${z}-collapse-bar`]:{opacity:1}}},[L]:{position:"fixed",zIndex:e.zIndexPopupBase,inset:0,"&-horizontal":{cursor:"col-resize"},"&-vertical":{cursor:"row-resize"}},"&-horizontal":{flexDirection:"row",[`> ${z}`]:{width:0,[`${z}-preview`]:Object.assign(Object.assign({height:"100%",width:f},W),{[`&${z}-preview-active`]:{display:"block",transform:`translateX(var(--${k}))`}}),[`${z}-dragger`]:{cursor:"col-resize",height:"100%",width:y,"&::before":{height:"100%",width:f},"&::after":{height:o,width:f}},[`${z}-collapse-bar`]:{width:e.fontSizeSM,height:e.controlHeightSM,"&-start":{left:{_skip_check_:!0,value:"auto"},right:{_skip_check_:!0,value:Z},transform:"translateY(-50%)"},"&-end":{left:{_skip_check_:!0,value:Z},right:{_skip_check_:!0,value:"auto"},transform:"translateY(-50%)"}}}},"&-vertical":{flexDirection:"column",[`> ${z}`]:{height:0,[`${z}-preview`]:Object.assign(Object.assign({height:f,width:"100%"},W),{[`&${z}-preview-active`]:{display:"block",transform:`translateY(var(--${k}))`}}),[`${z}-dragger`]:{cursor:"row-resize",width:"100%",height:y,"&::before":{width:"100%",height:f},"&::after":{width:o,height:f}},[`${z}-collapse-bar`]:{height:e.fontSizeSM,width:e.controlHeightSM,"&-start":{top:"auto",bottom:Z,transform:"translateX(-50%)"},"&-end":{top:Z,bottom:"auto",transform:"translateX(-50%)"}}}},[F]:{overflow:"auto",padding:"0 1px",scrollbarWidth:"thin",boxSizing:"border-box","&-hidden":{padding:0,overflow:"hidden"},[`&:has(${t}:only-child)`]:{overflow:"hidden"}}}),tk(e))}},rk=e=>{var t;const a=e.splitBarSize||2,o=e.splitTriggerSize||6,f=e.resizeSpinnerSize||20,y=(t=e.splitBarDraggableSize)!==null&&t!==void 0?t:f;return{splitBarSize:a,splitTriggerSize:o,splitBarDraggableSize:y,resizeSpinnerSize:f}};var ik=(0,oe.I$)("Splitter",e=>[nk(e)],rk),ok=e=>{const{prefixCls:t,className:a,style:o,layout:f="horizontal",children:y,rootClassName:_,onResizeStart:S,onResize:I,onResizeEnd:A,lazy:z}=e,{getPrefixCls:L,direction:F,className:Z,style:k}=(0,_e.dj)("splitter"),W=L("splitter",t),H=(0,Ln.Z)(W),[X,Q,re]=ik(W,H),ie=f==="vertical",ne=F==="rtl",ae=!ie&&ne,ue=K8(y),[fe,he]=(0,s.useState)(),ve=rn=>{const{offsetWidth:Cn,offsetHeight:Vt}=rn,At=ie?Vt:Cn;At!==0&&he(At)},[ye,we,Se,ze,Te,Fe]=Y8(ue,fe),Ae=q8(ue,we,ne),[Ke,tt,vt,bt,lt]=J8(ue,Ae,Se,fe,Fe,ne),ct=(0,ur.Z)(rn=>{Ke(rn),S==null||S(we)}),mt=(0,ur.Z)((rn,Cn)=>{const Vt=tt(rn,Cn);I==null||I(Vt)}),Rt=(0,ur.Z)(()=>{vt(),A==null||A(we)}),wt=(0,ur.Z)((rn,Cn)=>{const Vt=bt(rn,Cn);I==null||I(Vt),A==null||A(Vt)}),Bt=J()(W,a,`${W}-${f}`,{[`${W}-rtl`]:ne},_,Z,re,H,Q),Ct=`${W}-mask`,dn=s.useMemo(()=>{const rn=[];let Cn=0;for(let Vt=0;Vt<ue.length;Vt+=1)Cn+=Se[Vt],rn.push(Cn);return rn},[Se]),zn=Object.assign(Object.assign({},k),o);return X(s.createElement(u.Z,{onResize:ve},s.createElement("div",{style:zn,className:Bt},ue.map((rn,Cn)=>{const Vt=s.createElement(U8,Object.assign({},rn,{prefixCls:W,size:ye[Cn]}));let At=null;const $n=Ae[Cn];if($n){const yn=(dn[Cn-1]||0)+ze[Cn],Ir=(dn[Cn+1]||100)-Te[Cn+1],cr=(dn[Cn-1]||0)+Te[Cn],Kn=(dn[Cn+1]||100)-ze[Cn+1];At=s.createElement(ek,{lazy:z,index:Cn,active:lt===Cn,prefixCls:W,vertical:ie,resizable:$n.resizable,ariaNow:dn[Cn]*100,ariaMin:Math.max(yn,Ir)*100,ariaMax:Math.min(cr,Kn)*100,startCollapsible:$n.startCollapsible,endCollapsible:$n.endCollapsible,onOffsetStart:ct,onOffsetUpdate:(qn,Pn,Yn)=>{let zr=ie?Yn:Pn;ae&&(zr=-zr),mt(qn,zr)},onOffsetEnd:Rt,onCollapse:wt,containerSize:fe||0})}return s.createElement(s.Fragment,{key:`split-panel-${Cn}`},Vt,At)}),typeof lt=="number"&&s.createElement("div",{"aria-hidden":!0,className:J()(Ct,`${Ct}-${f}`)}))))};const xM=ok;xM.Panel=W8;var ak=xM},33839:function(Qr,Jt,j){"use strict";j.d(Jt,{Z:function(){return no}});var s=j(75271),ht=j(13143),J=j(84896),u=j(82187),Ie=j.n(u),He=j(23022),je=j(38926),Le=j(5147),_e=j(89692),oe=j(58190),Ye=j(59295),ke=j(45985);function Xe(){return typeof BigInt=="function"}function at(qt){return!qt&&qt!==0&&!Number.isNaN(qt)||!String(qt).trim()}function xt(qt){var xn=qt.trim(),Jn=xn.startsWith("-");Jn&&(xn=xn.slice(1)),xn=xn.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,""),xn.startsWith(".")&&(xn="0".concat(xn));var $r=xn||"0",li=$r.split("."),ii=li[0]||"0",Ki=li[1]||"0";ii==="0"&&Ki==="0"&&(Jn=!1);var eo=Jn?"-":"";return{negative:Jn,negativeStr:eo,trimStr:$r,integerStr:ii,decimalStr:Ki,fullStr:"".concat(eo).concat($r)}}function ot(qt){var xn=String(qt);return!Number.isNaN(Number(xn))&&xn.includes("e")}function St(qt){var xn=String(qt);if(ot(qt)){var Jn=Number(xn.slice(xn.indexOf("e-")+2)),$r=xn.match(/\.(\d+)/);return $r!=null&&$r[1]&&(Jn+=$r[1].length),Jn}return xn.includes(".")&&Ge(xn)?xn.length-xn.indexOf(".")-1:0}function Ot(qt){var xn=String(qt);if(ot(qt)){if(qt>Number.MAX_SAFE_INTEGER)return String(Xe()?BigInt(qt).toString():Number.MAX_SAFE_INTEGER);if(qt<Number.MIN_SAFE_INTEGER)return String(Xe()?BigInt(qt).toString():Number.MIN_SAFE_INTEGER);xn=qt.toFixed(St(xn))}return xt(xn).fullStr}function Ge(qt){return typeof qt=="number"?!Number.isNaN(qt):qt?/^\s*-?\d+(\.\d+)?\s*$/.test(qt)||/^\s*-?\d+\.\s*$/.test(qt)||/^\s*-?\.\d+\s*$/.test(qt):!1}var Qt=function(){function qt(xn){if((0,Ye.Z)(this,qt),(0,je.Z)(this,"origin",""),(0,je.Z)(this,"negative",void 0),(0,je.Z)(this,"integer",void 0),(0,je.Z)(this,"decimal",void 0),(0,je.Z)(this,"decimalLen",void 0),(0,je.Z)(this,"empty",void 0),(0,je.Z)(this,"nan",void 0),at(xn)){this.empty=!0;return}if(this.origin=String(xn),xn==="-"||Number.isNaN(xn)){this.nan=!0;return}var Jn=xn;if(ot(Jn)&&(Jn=Number(Jn)),Jn=typeof Jn=="string"?Jn:Ot(Jn),Ge(Jn)){var $r=xt(Jn);this.negative=$r.negative;var li=$r.trimStr.split(".");this.integer=BigInt(li[0]);var ii=li[1]||"0";this.decimal=BigInt(ii),this.decimalLen=ii.length}else this.nan=!0}return(0,ke.Z)(qt,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(Jn){var $r="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(Jn,"0"));return BigInt($r)}},{key:"negate",value:function(){var Jn=new qt(this.toString());return Jn.negative=!Jn.negative,Jn}},{key:"cal",value:function(Jn,$r,li){var ii=Math.max(this.getDecimalStr().length,Jn.getDecimalStr().length),Ki=this.alignDecimal(ii),eo=Jn.alignDecimal(ii),Ro=$r(Ki,eo).toString(),So=li(ii),io=xt(Ro),Pe=io.negativeStr,de=io.trimStr,K="".concat(Pe).concat(de.padStart(So+1,"0"));return new qt("".concat(K.slice(0,-So),".").concat(K.slice(-So)))}},{key:"add",value:function(Jn){if(this.isInvalidate())return new qt(Jn);var $r=new qt(Jn);return $r.isInvalidate()?this:this.cal($r,function(li,ii){return li+ii},function(li){return li})}},{key:"multi",value:function(Jn){var $r=new qt(Jn);return this.isInvalidate()||$r.isInvalidate()?new qt(NaN):this.cal($r,function(li,ii){return li*ii},function(li){return li*2})}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(Jn){return this.toString()===(Jn==null?void 0:Jn.toString())}},{key:"lessEquals",value:function(Jn){return this.add(Jn.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var Jn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return Jn?this.isInvalidate()?"":xt("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),qt}(),Pt=function(){function qt(xn){if((0,Ye.Z)(this,qt),(0,je.Z)(this,"origin",""),(0,je.Z)(this,"number",void 0),(0,je.Z)(this,"empty",void 0),at(xn)){this.empty=!0;return}this.origin=String(xn),this.number=Number(xn)}return(0,ke.Z)(qt,[{key:"negate",value:function(){return new qt(-this.toNumber())}},{key:"add",value:function(Jn){if(this.isInvalidate())return new qt(Jn);var $r=Number(Jn);if(Number.isNaN($r))return this;var li=this.number+$r;if(li>Number.MAX_SAFE_INTEGER)return new qt(Number.MAX_SAFE_INTEGER);if(li<Number.MIN_SAFE_INTEGER)return new qt(Number.MIN_SAFE_INTEGER);var ii=Math.max(St(this.number),St($r));return new qt(li.toFixed(ii))}},{key:"multi",value:function(Jn){var $r=Number(Jn);if(this.isInvalidate()||Number.isNaN($r))return new qt(NaN);var li=this.number*$r;if(li>Number.MAX_SAFE_INTEGER)return new qt(Number.MAX_SAFE_INTEGER);if(li<Number.MIN_SAFE_INTEGER)return new qt(Number.MIN_SAFE_INTEGER);var ii=Math.max(St(this.number),St($r));return new qt(li.toFixed(ii))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(Jn){return this.toNumber()===(Jn==null?void 0:Jn.toNumber())}},{key:"lessEquals",value:function(Jn){return this.add(Jn.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var Jn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return Jn?this.isInvalidate()?"":Ot(this.number):this.origin}}]),qt}();function Ft(qt){return Xe()?new Qt(qt):new Pt(qt)}function Xt(qt,xn,Jn){var $r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(qt==="")return"";var li=xt(qt),ii=li.negativeStr,Ki=li.integerStr,eo=li.decimalStr,Ro="".concat(xn).concat(eo),So="".concat(ii).concat(Ki);if(Jn>=0){var io=Number(eo[Jn]);if(io>=5&&!$r){var Pe=Ft(qt).add("".concat(ii,"0.").concat("0".repeat(Jn)).concat(10-io));return Xt(Pe.toString(),xn,Jn,$r)}return Jn===0?So:"".concat(So).concat(xn).concat(eo.padEnd(Jn,"0").slice(0,Jn))}return Ro===".0"?So:"".concat(So).concat(Ro)}var Ht=Ft,Ar=j(44885),Cr=j(92076);function Dr(qt,xn){return typeof Proxy!="undefined"&&qt?new Proxy(qt,{get:function($r,li){if(xn[li])return xn[li];var ii=$r[li];return typeof ii=="function"?ii.bind($r):ii}}):qt}var Ue=j(42684),sn=j(4449);function Bn(qt,xn){var Jn=(0,s.useRef)(null);function $r(){try{var ii=qt.selectionStart,Ki=qt.selectionEnd,eo=qt.value,Ro=eo.substring(0,ii),So=eo.substring(Ki);Jn.current={start:ii,end:Ki,value:eo,beforeTxt:Ro,afterTxt:So}}catch(io){}}function li(){if(qt&&Jn.current&&xn)try{var ii=qt.value,Ki=Jn.current,eo=Ki.beforeTxt,Ro=Ki.afterTxt,So=Ki.start,io=ii.length;if(ii.startsWith(eo))io=eo.length;else if(ii.endsWith(Ro))io=ii.length-Jn.current.afterTxt.length;else{var Pe=eo[So-1],de=ii.indexOf(Pe,So-1);de!==-1&&(io=de+1)}qt.setSelectionRange(io,io)}catch(K){(0,sn.ZP)(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(K.message))}}return[$r,li]}var En=j(21611),Be=function(){var xn=(0,s.useState)(!1),Jn=(0,_e.Z)(xn,2),$r=Jn[0],li=Jn[1];return(0,Cr.Z)(function(){li((0,En.Z)())},[]),$r},Gn=Be,In=j(49975),Rn=200,pt=600;function an(qt){var xn=qt.prefixCls,Jn=qt.upNode,$r=qt.downNode,li=qt.upDisabled,ii=qt.downDisabled,Ki=qt.onStep,eo=s.useRef(),Ro=s.useRef([]),So=s.useRef();So.current=Ki;var io=function(){clearTimeout(eo.current)},Pe=function(Tt,Yt){Tt.preventDefault(),io(),So.current(Yt);function hn(){So.current(Yt),eo.current=setTimeout(hn,Rn)}eo.current=setTimeout(hn,pt)};s.useEffect(function(){return function(){io(),Ro.current.forEach(function(_t){return In.Z.cancel(_t)})}},[]);var de=Gn();if(de)return null;var K="".concat(xn,"-handler"),Ne=Ie()(K,"".concat(K,"-up"),(0,je.Z)({},"".concat(K,"-up-disabled"),li)),Je=Ie()(K,"".concat(K,"-down"),(0,je.Z)({},"".concat(K,"-down-disabled"),ii)),ge=function(){return Ro.current.push((0,In.Z)(io))},dt={unselectable:"on",role:"button",onMouseUp:ge,onMouseLeave:ge};return s.createElement("div",{className:"".concat(K,"-wrap")},s.createElement("span",(0,He.Z)({},dt,{onMouseDown:function(Tt){Pe(Tt,!0)},"aria-label":"Increase Value","aria-disabled":li,className:Ne}),Jn||s.createElement("span",{unselectable:"on",className:"".concat(xn,"-handler-up-inner")})),s.createElement("span",(0,He.Z)({},dt,{onMouseDown:function(Tt){Pe(Tt,!1)},"aria-label":"Decrease Value","aria-disabled":ii,className:Je}),$r||s.createElement("span",{unselectable:"on",className:"".concat(xn,"-handler-down-inner")})))}function Tn(qt){var xn=typeof qt=="number"?Ot(qt):xt(qt).fullStr,Jn=xn.includes(".");return Jn?xt(xn.replace(/(\d)\.(\d)/g,"$1$2.")).fullStr:qt+"0"}var me=j(68677),nn=function(){var qt=(0,s.useRef)(0),xn=function(){In.Z.cancel(qt.current)};return(0,s.useEffect)(function(){return xn},[]),function(Jn){xn(),qt.current=(0,In.Z)(function(){Jn()})}},bi=["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","changeOnWheel","controls","classNames","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep","changeOnBlur","domRef"],ui=["disabled","style","prefixCls","value","prefix","suffix","addonBefore","addonAfter","className","classNames"],$e=function(xn,Jn){return xn||Jn.isEmpty()?Jn.toString():Jn.toNumber()},Mn=function(xn){var Jn=Ht(xn);return Jn.isInvalidate()?null:Jn},Kr=s.forwardRef(function(qt,xn){var Jn=qt.prefixCls,$r=qt.className,li=qt.style,ii=qt.min,Ki=qt.max,eo=qt.step,Ro=eo===void 0?1:eo,So=qt.defaultValue,io=qt.value,Pe=qt.disabled,de=qt.readOnly,K=qt.upHandler,Ne=qt.downHandler,Je=qt.keyboard,ge=qt.changeOnWheel,dt=ge===void 0?!1:ge,_t=qt.controls,Tt=_t===void 0?!0:_t,Yt=qt.classNames,hn=qt.stringMode,We=qt.parser,Et=qt.formatter,kt=qt.precision,Kt=qt.decimalSeparator,rt=qt.onChange,Qe=qt.onInput,gn=qt.onPressEnter,mn=qt.onStep,kn=qt.changeOnBlur,br=kn===void 0?!0:kn,ar=qt.domRef,Mr=(0,oe.Z)(qt,bi),qr="".concat(Jn,"-input"),oi=s.useRef(null),Zi=s.useState(!1),ft=(0,_e.Z)(Zi,2),_n=ft[0],Ut=ft[1],bn=s.useRef(!1),sr=s.useRef(!1),Yr=s.useRef(!1),Ti=s.useState(function(){return Ht(io!=null?io:So)}),ho=(0,_e.Z)(Ti,2),zi=ho[0],Ji=ho[1];function uo(be){io===void 0&&Ji(be)}var Ni=s.useCallback(function(be,Ze){if(!Ze)return kt>=0?kt:Math.max(St(be),St(Ro))},[kt,Ro]),Po=s.useCallback(function(be){var Ze=String(be);if(We)return We(Ze);var De=Ze;return Kt&&(De=De.replace(Kt,".")),De.replace(/[^\w.-]+/g,"")},[We,Kt]),Vo=s.useRef(""),$o=s.useCallback(function(be,Ze){if(Et)return Et(be,{userTyping:Ze,input:String(Vo.current)});var De=typeof be=="number"?Ot(be):be;if(!Ze){var $t=Ni(De,Ze);if(Ge(De)&&(Kt||$t>=0)){var tn=Kt||".";De=Xt(De,tn,$t)}}return De},[Et,Ni,Kt]),_o=s.useState(function(){var be=So!=null?So:io;return zi.isInvalidate()&&["string","number"].includes((0,Le.Z)(be))?Number.isNaN(be)?"":be:$o(zi.toString(),!1)}),Oo=(0,_e.Z)(_o,2),zo=Oo[0],qo=Oo[1];Vo.current=zo;function oo(be,Ze){qo($o(be.isInvalidate()?be.toString(!1):be.toString(!Ze),Ze))}var wo=s.useMemo(function(){return Mn(Ki)},[Ki,kt]),go=s.useMemo(function(){return Mn(ii)},[ii,kt]),so=s.useMemo(function(){return!wo||!zi||zi.isInvalidate()?!1:wo.lessEquals(zi)},[wo,zi]),to=s.useMemo(function(){return!go||!zi||zi.isInvalidate()?!1:zi.lessEquals(go)},[go,zi]),ko=Bn(oi.current,_n),Pr=(0,_e.Z)(ko,2),Ho=Pr[0],ha=Pr[1],za=function(Ze){return wo&&!Ze.lessEquals(wo)?wo:go&&!go.lessEquals(Ze)?go:null},Vi=function(Ze){return!za(Ze)},ma=function(Ze,De){var $t=Ze,tn=Vi($t)||$t.isEmpty();if(!$t.isEmpty()&&!De&&($t=za($t)||$t,tn=!0),!de&&!Pe&&tn){var Wn=$t.toString(),pr=Ni(Wn,De);return pr>=0&&($t=Ht(Xt(Wn,".",pr)),Vi($t)||($t=Ht(Xt(Wn,".",pr,!0)))),$t.equals(zi)||(uo($t),rt==null||rt($t.isEmpty()?null:$e(hn,$t)),io===void 0&&oo($t,De)),$t}return zi},qa=nn(),Jr=function be(Ze){if(Ho(),Vo.current=Ze,qo(Ze),!sr.current){var De=Po(Ze),$t=Ht(De);$t.isNaN()||ma($t,!0)}Qe==null||Qe(Ze),qa(function(){var tn=Ze;We||(tn=Ze.replace(//g,".")),tn!==Ze&&be(tn)})},vo=function(){sr.current=!0},Ao=function(){sr.current=!1,Jr(oi.current.value)},Yo=function(Ze){Jr(Ze.target.value)},co=function(Ze){var De;if(!(Ze&&so||!Ze&&to)){bn.current=!1;var $t=Ht(Yr.current?Tn(Ro):Ro);Ze||($t=$t.negate());var tn=(zi||Ht(0)).add($t.toString()),Wn=ma(tn,!1);mn==null||mn($e(hn,Wn),{offset:Yr.current?Tn(Ro):Ro,type:Ze?"up":"down"}),(De=oi.current)===null||De===void 0||De.focus()}},Ai=function(Ze){var De=Ht(Po(zo)),$t;De.isNaN()?$t=ma(zi,Ze):$t=ma(De,Ze),io!==void 0?oo(zi,!1):$t.isNaN()||oo($t,!1)},ga=function(){bn.current=!0},jo=function(Ze){var De=Ze.key,$t=Ze.shiftKey;bn.current=!0,Yr.current=$t,De==="Enter"&&(sr.current||(bn.current=!1),Ai(!1),gn==null||gn(Ze)),Je!==!1&&!sr.current&&["Up","ArrowUp","Down","ArrowDown"].includes(De)&&(co(De==="Up"||De==="ArrowUp"),Ze.preventDefault())},en=function(){bn.current=!1,Yr.current=!1};s.useEffect(function(){if(dt&&_n){var be=function($t){co($t.deltaY<0),$t.preventDefault()},Ze=oi.current;if(Ze)return Ze.addEventListener("wheel",be,{passive:!1}),function(){return Ze.removeEventListener("wheel",be)}}});var Ve=function(){br&&Ai(!1),Ut(!1),bn.current=!1};return(0,Cr.o)(function(){zi.isInvalidate()||oo(zi,!1)},[kt,Et]),(0,Cr.o)(function(){var be=Ht(io);Ji(be);var Ze=Ht(Po(zo));(!be.equals(Ze)||!bn.current||Et)&&oo(be,bn.current)},[io]),(0,Cr.o)(function(){Et&&ha()},[zo]),s.createElement("div",{ref:ar,className:Ie()(Jn,$r,(0,je.Z)((0,je.Z)((0,je.Z)((0,je.Z)((0,je.Z)({},"".concat(Jn,"-focused"),_n),"".concat(Jn,"-disabled"),Pe),"".concat(Jn,"-readonly"),de),"".concat(Jn,"-not-a-number"),zi.isNaN()),"".concat(Jn,"-out-of-range"),!zi.isInvalidate()&&!Vi(zi))),style:li,onFocus:function(){Ut(!0)},onBlur:Ve,onKeyDown:jo,onKeyUp:en,onCompositionStart:vo,onCompositionEnd:Ao,onBeforeInput:ga},Tt&&s.createElement(an,{prefixCls:Jn,upNode:K,downNode:Ne,upDisabled:so,downDisabled:to,onStep:co}),s.createElement("div",{className:"".concat(qr,"-wrap")},s.createElement("input",(0,He.Z)({autoComplete:"off",role:"spinbutton","aria-valuemin":ii,"aria-valuemax":Ki,"aria-valuenow":zi.isInvalidate()?null:zi.toString(),step:Ro},Mr,{ref:(0,Ue.sQ)(oi,xn),className:qr,value:zo,onChange:Yo,disabled:Pe,readOnly:de}))))}),jr=s.forwardRef(function(qt,xn){var Jn=qt.disabled,$r=qt.style,li=qt.prefixCls,ii=li===void 0?"rc-input-number":li,Ki=qt.value,eo=qt.prefix,Ro=qt.suffix,So=qt.addonBefore,io=qt.addonAfter,Pe=qt.className,de=qt.classNames,K=(0,oe.Z)(qt,ui),Ne=s.useRef(null),Je=s.useRef(null),ge=s.useRef(null),dt=function(Tt){ge.current&&(0,me.nH)(ge.current,Tt)};return s.useImperativeHandle(xn,function(){return Dr(ge.current,{focus:dt,nativeElement:Ne.current.nativeElement||Je.current})}),s.createElement(Ar.Q,{className:Pe,triggerFocus:dt,prefixCls:ii,value:Ki,disabled:Jn,style:$r,prefix:eo,suffix:Ro,addonAfter:io,addonBefore:So,classNames:de,components:{affixWrapper:"div",groupWrapper:"div",wrapper:"div",groupAddon:"div"},ref:Ne},s.createElement(Kr,(0,He.Z)({prefixCls:ii,disabled:Jn,ref:ge,domRef:Je,className:de==null?void 0:de.input},K)))}),Sn=jr,Fr=Sn,Ii=j(78018),fr=j(94773),st=j(98446),jt=j(62639),Fn=j(98472),un=j(38437),pn=j(95741),Sr=j(60824),Vn=j(7038),Xr=j(23137),ri=j(55921),Zr=j(43452),ei=j(21571),vr=j(57616),hr=j(34299),ur=j(9288),wr=j(84825),yr=j(83509),Nr=j(84432);const Xn=qt=>{var xn;const Jn=(xn=qt.handleVisible)!==null&&xn!==void 0?xn:"auto",$r=qt.controlHeightSM-qt.lineWidth*2;return Object.assign(Object.assign({},(0,ei.T)(qt)),{controlWidth:90,handleWidth:$r,handleFontSize:qt.fontSize/2,handleVisible:Jn,handleActiveBg:qt.colorFillAlter,handleBg:qt.colorBgContainer,filledHandleBg:new Nr.t(qt.colorFillSecondary).onBackground(qt.colorBgContainer).toHexString(),handleHoverColor:qt.colorPrimary,handleBorderColor:qt.colorBorder,handleOpacity:Jn===!0?1:0,handleVisibleWidth:Jn===!0?$r:0})},lr=(qt,xn)=>{let{componentCls:Jn,borderRadiusSM:$r,borderRadiusLG:li}=qt;const ii=xn==="lg"?li:$r;return{[`&-${xn}`]:{[`${Jn}-handler-wrap`]:{borderStartEndRadius:ii,borderEndEndRadius:ii},[`${Jn}-handler-up`]:{borderStartEndRadius:ii},[`${Jn}-handler-down`]:{borderEndEndRadius:ii}}}},Ur=qt=>{const{componentCls:xn,lineWidth:Jn,lineType:$r,borderRadius:li,inputFontSizeSM:ii,inputFontSizeLG:Ki,controlHeightLG:eo,controlHeightSM:Ro,colorError:So,paddingInlineSM:io,paddingBlockSM:Pe,paddingBlockLG:de,paddingInlineLG:K,colorTextDescription:Ne,motionDurationMid:Je,handleHoverColor:ge,handleOpacity:dt,paddingInline:_t,paddingBlock:Tt,handleBg:Yt,handleActiveBg:hn,colorTextDisabled:We,borderRadiusSM:Et,borderRadiusLG:kt,controlWidth:Kt,handleBorderColor:rt,filledHandleBg:Qe,lineHeightLG:gn,calc:mn}=qt;return[{[xn]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,hr.Wf)(qt)),(0,Zr.ik)(qt)),{display:"inline-block",width:Kt,margin:0,padding:0,borderRadius:li}),(0,vr.qG)(qt,{[`${xn}-handler-wrap`]:{background:Yt,[`${xn}-handler-down`]:{borderBlockStart:`${(0,ri.bf)(Jn)} ${$r} ${rt}`}}})),(0,vr.H8)(qt,{[`${xn}-handler-wrap`]:{background:Qe,[`${xn}-handler-down`]:{borderBlockStart:`${(0,ri.bf)(Jn)} ${$r} ${rt}`}},"&:focus-within":{[`${xn}-handler-wrap`]:{background:Yt}}})),(0,vr.vc)(qt,{[`${xn}-handler-wrap`]:{background:Yt,[`${xn}-handler-down`]:{borderBlockStart:`${(0,ri.bf)(Jn)} ${$r} ${rt}`}}})),(0,vr.Mu)(qt)),{"&-rtl":{direction:"rtl",[`${xn}-input`]:{direction:"rtl"}},"&-lg":{padding:0,fontSize:Ki,lineHeight:gn,borderRadius:kt,[`input${xn}-input`]:{height:mn(eo).sub(mn(Jn).mul(2)).equal(),padding:`${(0,ri.bf)(de)} ${(0,ri.bf)(K)}`}},"&-sm":{padding:0,fontSize:ii,borderRadius:Et,[`input${xn}-input`]:{height:mn(Ro).sub(mn(Jn).mul(2)).equal(),padding:`${(0,ri.bf)(Pe)} ${(0,ri.bf)(io)}`}},"&-out-of-range":{[`${xn}-input-wrap`]:{input:{color:So}}},"&-group":Object.assign(Object.assign(Object.assign({},(0,hr.Wf)(qt)),(0,Zr.s7)(qt)),{"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",textAlign:"start",verticalAlign:"top",[`${xn}-affix-wrapper`]:{width:"100%"},"&-lg":{[`${xn}-group-addon`]:{borderRadius:kt,fontSize:qt.fontSizeLG}},"&-sm":{[`${xn}-group-addon`]:{borderRadius:Et}}},(0,vr.ir)(qt)),(0,vr.S5)(qt)),{[`&:not(${xn}-compact-first-item):not(${xn}-compact-last-item)${xn}-compact-item`]:{[`${xn}, ${xn}-group-addon`]:{borderRadius:0}},[`&:not(${xn}-compact-last-item)${xn}-compact-first-item`]:{[`${xn}, ${xn}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${xn}-compact-first-item)${xn}-compact-last-item`]:{[`${xn}, ${xn}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}}})}),[`&-disabled ${xn}-input`]:{cursor:"not-allowed"},[xn]:{"&-input":Object.assign(Object.assign(Object.assign(Object.assign({},(0,hr.Wf)(qt)),{width:"100%",padding:`${(0,ri.bf)(Tt)} ${(0,ri.bf)(_t)}`,textAlign:"start",backgroundColor:"transparent",border:0,borderRadius:li,outline:0,transition:`all ${Je} linear`,appearance:"textfield",fontSize:"inherit"}),(0,Zr.nz)(qt.colorTextPlaceholder)),{'&[type="number"]::-webkit-inner-spin-button, &[type="number"]::-webkit-outer-spin-button':{margin:0,webkitAppearance:"none",appearance:"none"}})},[`&:hover ${xn}-handler-wrap, &-focused ${xn}-handler-wrap`]:{width:qt.handleWidth,opacity:1}})},{[xn]:Object.assign(Object.assign(Object.assign({[`${xn}-handler-wrap`]:{position:"absolute",insetBlockStart:0,insetInlineEnd:0,width:qt.handleVisibleWidth,opacity:dt,height:"100%",borderStartStartRadius:0,borderStartEndRadius:li,borderEndEndRadius:li,borderEndStartRadius:0,display:"flex",flexDirection:"column",alignItems:"stretch",transition:`all ${Je}`,overflow:"hidden",[`${xn}-handler`]:{display:"flex",alignItems:"center",justifyContent:"center",flex:"auto",height:"40%",[`
              ${xn}-handler-up-inner,
              ${xn}-handler-down-inner
            `]:{marginInlineEnd:0,fontSize:qt.handleFontSize}}},[`${xn}-handler`]:{height:"50%",overflow:"hidden",color:Ne,fontWeight:"bold",lineHeight:0,textAlign:"center",cursor:"pointer",borderInlineStart:`${(0,ri.bf)(Jn)} ${$r} ${rt}`,transition:`all ${Je} linear`,"&:active":{background:hn},"&:hover":{height:"60%",[`
              ${xn}-handler-up-inner,
              ${xn}-handler-down-inner
            `]:{color:ge}},"&-up-inner, &-down-inner":Object.assign(Object.assign({},(0,hr.Ro)()),{color:Ne,transition:`all ${Je} linear`,userSelect:"none"})},[`${xn}-handler-up`]:{borderStartEndRadius:li},[`${xn}-handler-down`]:{borderEndEndRadius:li}},lr(qt,"lg")),lr(qt,"sm")),{"&-disabled, &-readonly":{[`${xn}-handler-wrap`]:{display:"none"},[`${xn}-input`]:{color:"inherit"}},[`
          ${xn}-handler-up-disabled,
          ${xn}-handler-down-disabled
        `]:{cursor:"not-allowed"},[`
          ${xn}-handler-up-disabled:hover &-handler-up-inner,
          ${xn}-handler-down-disabled:hover &-handler-down-inner
        `]:{color:We}})}]},Ln=qt=>{const{componentCls:xn,paddingBlock:Jn,paddingInline:$r,inputAffixPadding:li,controlWidth:ii,borderRadiusLG:Ki,borderRadiusSM:eo,paddingInlineLG:Ro,paddingInlineSM:So,paddingBlockLG:io,paddingBlockSM:Pe,motionDurationMid:de}=qt;return{[`${xn}-affix-wrapper`]:Object.assign(Object.assign({[`input${xn}-input`]:{padding:`${(0,ri.bf)(Jn)} 0`}},(0,Zr.ik)(qt)),{position:"relative",display:"inline-flex",alignItems:"center",width:ii,padding:0,paddingInlineStart:$r,"&-lg":{borderRadius:Ki,paddingInlineStart:Ro,[`input${xn}-input`]:{padding:`${(0,ri.bf)(io)} 0`}},"&-sm":{borderRadius:eo,paddingInlineStart:So,[`input${xn}-input`]:{padding:`${(0,ri.bf)(Pe)} 0`}},[`&:not(${xn}-disabled):hover`]:{zIndex:1},"&-focused, &:focus":{zIndex:1},[`&-disabled > ${xn}-disabled`]:{background:"transparent"},[`> div${xn}`]:{width:"100%",border:"none",outline:"none",[`&${xn}-focused`]:{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[`${xn}-handler-wrap`]:{zIndex:2},[xn]:{position:"static",color:"inherit","&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center",pointerEvents:"none"},"&-prefix":{marginInlineEnd:li},"&-suffix":{insetBlockStart:0,insetInlineEnd:0,height:"100%",marginInlineEnd:$r,marginInlineStart:li,transition:`margin ${de}`}},[`&:hover ${xn}-handler-wrap, &-focused ${xn}-handler-wrap`]:{width:qt.handleWidth,opacity:1},[`&:not(${xn}-affix-wrapper-without-controls):hover ${xn}-suffix`]:{marginInlineEnd:qt.calc(qt.handleWidth).add($r).equal()}})}};var _i=(0,wr.I$)("InputNumber",qt=>{const xn=(0,yr.IX)(qt,(0,ei.e)(qt));return[Ur(xn),Ln(xn),(0,ur.c)(xn)]},Xn,{unitless:{handleOpacity:!0}}),fi=function(qt,xn){var Jn={};for(var $r in qt)Object.prototype.hasOwnProperty.call(qt,$r)&&xn.indexOf($r)<0&&(Jn[$r]=qt[$r]);if(qt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var li=0,$r=Object.getOwnPropertySymbols(qt);li<$r.length;li++)xn.indexOf($r[li])<0&&Object.prototype.propertyIsEnumerable.call(qt,$r[li])&&(Jn[$r[li]]=qt[$r[li]]);return Jn};const Wi=s.forwardRef((qt,xn)=>{const{getPrefixCls:Jn,direction:$r}=s.useContext(st.E_),li=s.useRef(null);s.useImperativeHandle(xn,()=>li.current);const{className:ii,rootClassName:Ki,size:eo,disabled:Ro,prefixCls:So,addonBefore:io,addonAfter:Pe,prefix:de,suffix:K,bordered:Ne,readOnly:Je,status:ge,controls:dt,variant:_t}=qt,Tt=fi(qt,["className","rootClassName","size","disabled","prefixCls","addonBefore","addonAfter","prefix","suffix","bordered","readOnly","status","controls","variant"]),Yt=Jn("input-number",So),hn=(0,un.Z)(Yt),[We,Et,kt]=_i(Yt,hn),{compactSize:Kt,compactItemClassnames:rt}=(0,Xr.ri)(Yt,$r);let Qe=s.createElement(J.Z,{className:`${Yt}-handler-up-inner`}),gn=s.createElement(ht.Z,{className:`${Yt}-handler-down-inner`});const mn=typeof dt=="boolean"?dt:void 0;typeof dt=="object"&&(Qe=typeof dt.upIcon=="undefined"?Qe:s.createElement("span",{className:`${Yt}-handler-up-inner`},dt.upIcon),gn=typeof dt.downIcon=="undefined"?gn:s.createElement("span",{className:`${Yt}-handler-down-inner`},dt.downIcon));const{hasFeedback:kn,status:br,isFormItemInput:ar,feedbackIcon:Mr}=s.useContext(Sr.aM),qr=(0,fr.F)(br,ge),oi=(0,pn.Z)(ho=>{var zi;return(zi=eo!=null?eo:Kt)!==null&&zi!==void 0?zi:ho}),Zi=s.useContext(Fn.Z),ft=Ro!=null?Ro:Zi,[_n,Ut]=(0,Vn.Z)("inputNumber",_t,Ne),bn=kn&&s.createElement(s.Fragment,null,Mr),sr=Ie()({[`${Yt}-lg`]:oi==="large",[`${Yt}-sm`]:oi==="small",[`${Yt}-rtl`]:$r==="rtl",[`${Yt}-in-form-item`]:ar},Et),Yr=`${Yt}-group`,Ti=s.createElement(Fr,Object.assign({ref:li,disabled:ft,className:Ie()(kt,hn,ii,Ki,rt),upHandler:Qe,downHandler:gn,prefixCls:Yt,readOnly:Je,controls:mn,prefix:de,suffix:bn||K,addonBefore:io&&s.createElement(Ii.Z,{form:!0,space:!0},io),addonAfter:Pe&&s.createElement(Ii.Z,{form:!0,space:!0},Pe),classNames:{input:sr,variant:Ie()({[`${Yt}-${_n}`]:Ut},(0,fr.Z)(Yt,qr,kn)),affixWrapper:Ie()({[`${Yt}-affix-wrapper-sm`]:oi==="small",[`${Yt}-affix-wrapper-lg`]:oi==="large",[`${Yt}-affix-wrapper-rtl`]:$r==="rtl",[`${Yt}-affix-wrapper-without-controls`]:dt===!1},Et),wrapper:Ie()({[`${Yr}-rtl`]:$r==="rtl"},Et),groupWrapper:Ie()({[`${Yt}-group-wrapper-sm`]:oi==="small",[`${Yt}-group-wrapper-lg`]:oi==="large",[`${Yt}-group-wrapper-rtl`]:$r==="rtl",[`${Yt}-group-wrapper-${_n}`]:Ut},(0,fr.Z)(`${Yt}-group-wrapper`,qr,kn),Et)}},Tt));return We(Ti)}),po=Wi,kr=qt=>s.createElement(jt.ZP,{theme:{components:{InputNumber:{handleVisible:!0}}}},s.createElement(Wi,Object.assign({},qt)));po._InternalPanelDoNotUseOrYouWillBeFired=kr;var no=po},58793:function(Qr,Jt,j){"use strict";j.d(Jt,{Z:function(){return Pt}});var s=j(75271),ht=j(82187),J=j.n(ht),u=j(44885),Ie=j(42684),He=j(78018),je=j(93473),Le=j(94773),_e=j(98446),oe=j(98472),Ye=j(38437),ke=j(95741),Xe=j(60824),at=j(7038),xt=j(23137),ot=j(81391),St=j(43452);function Ot(Ft){return!!(Ft.prefix||Ft.suffix||Ft.allowClear||Ft.showCount)}var Ge=function(Ft,Xt){var Ht={};for(var Ar in Ft)Object.prototype.hasOwnProperty.call(Ft,Ar)&&Xt.indexOf(Ar)<0&&(Ht[Ar]=Ft[Ar]);if(Ft!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Cr=0,Ar=Object.getOwnPropertySymbols(Ft);Cr<Ar.length;Cr++)Xt.indexOf(Ar[Cr])<0&&Object.prototype.propertyIsEnumerable.call(Ft,Ar[Cr])&&(Ht[Ar[Cr]]=Ft[Ar[Cr]]);return Ht},Pt=(0,s.forwardRef)((Ft,Xt)=>{const{prefixCls:Ht,bordered:Ar=!0,status:Cr,size:Dr,disabled:Ue,onBlur:sn,onFocus:Bn,suffix:En,allowClear:Be,addonAfter:Gn,addonBefore:In,className:Rn,style:pt,styles:an,rootClassName:Tn,onChange:me,classNames:nn,variant:bi}=Ft,ui=Ge(Ft,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","style","styles","rootClassName","onChange","classNames","variant"]),{getPrefixCls:$e,direction:Mn,allowClear:Kr,autoComplete:jr,className:Sn,style:Fr,classNames:Ii,styles:fr}=(0,_e.dj)("input"),st=$e("input",Ht),jt=(0,s.useRef)(null),Fn=(0,Ye.Z)(st),[un,pn,Sr]=(0,St.TI)(st,Tn),[Vn]=(0,St.ZP)(st,Fn),{compactSize:Xr,compactItemClassnames:ri}=(0,xt.ri)(st,Mn),Zr=(0,ke.Z)(no=>{var qt;return(qt=Dr!=null?Dr:Xr)!==null&&qt!==void 0?qt:no}),ei=s.useContext(oe.Z),vr=Ue!=null?Ue:ei,{status:hr,hasFeedback:ur,feedbackIcon:wr}=(0,s.useContext)(Xe.aM),yr=(0,Le.F)(hr,Cr),Nr=Ot(Ft)||!!ur,Xn=(0,s.useRef)(Nr),lr=(0,ot.Z)(jt,!0),Ur=no=>{lr(),sn==null||sn(no)},Ln=no=>{lr(),Bn==null||Bn(no)},_i=no=>{lr(),me==null||me(no)},fi=(ur||En)&&s.createElement(s.Fragment,null,En,ur&&wr),Wi=(0,je.Z)(Be!=null?Be:Kr),[po,kr]=(0,at.Z)("input",bi,Ar);return un(Vn(s.createElement(u.Z,Object.assign({ref:(0,Ie.sQ)(Xt,jt),prefixCls:st,autoComplete:jr},ui,{disabled:vr,onBlur:Ur,onFocus:Ln,style:Object.assign(Object.assign({},Fr),pt),styles:Object.assign(Object.assign({},fr),an),suffix:fi,allowClear:Wi,className:J()(Rn,Tn,Sr,Fn,ri,Sn),onChange:_i,addonBefore:In&&s.createElement(He.Z,{form:!0,space:!0},In),addonAfter:Gn&&s.createElement(He.Z,{form:!0,space:!0},Gn),classNames:Object.assign(Object.assign(Object.assign({},nn),Ii),{input:J()({[`${st}-sm`]:Zr==="small",[`${st}-lg`]:Zr==="large",[`${st}-rtl`]:Mn==="rtl"},nn==null?void 0:nn.input,Ii.input,pn),variant:J()({[`${st}-${po}`]:kr},(0,Le.Z)(st,yr)),affixWrapper:J()({[`${st}-affix-wrapper-sm`]:Zr==="small",[`${st}-affix-wrapper-lg`]:Zr==="large",[`${st}-affix-wrapper-rtl`]:Mn==="rtl"},pn),wrapper:J()({[`${st}-group-rtl`]:Mn==="rtl"},pn),groupWrapper:J()({[`${st}-group-wrapper-sm`]:Zr==="small",[`${st}-group-wrapper-lg`]:Zr==="large",[`${st}-group-wrapper-rtl`]:Mn==="rtl",[`${st}-group-wrapper-${po}`]:kr},(0,Le.Z)(`${st}-group-wrapper`,yr,ur),pn)})}))))})},81391:function(Qr,Jt,j){"use strict";j.d(Jt,{Z:function(){return ht}});var s=j(75271);function ht(J,u){const Ie=(0,s.useRef)([]),He=()=>{Ie.current.push(setTimeout(()=>{var je,Le,_e,oe;!((je=J.current)===null||je===void 0)&&je.input&&((Le=J.current)===null||Le===void 0?void 0:Le.input.getAttribute("type"))==="password"&&(!((_e=J.current)===null||_e===void 0)&&_e.input.hasAttribute("value"))&&((oe=J.current)===null||oe===void 0||oe.input.removeAttribute("value"))}))};return(0,s.useEffect)(()=>(u&&He(),()=>Ie.current.forEach(je=>{je&&clearTimeout(je)})),[]),He}},43452:function(Qr,Jt,j){"use strict";j.d(Jt,{TI:function(){return Qt},ik:function(){return ke},nz:function(){return Le},s7:function(){return Xe},x0:function(){return Ye}});var s=j(55921),ht=j(34299),J=j(9288),u=j(84825),Ie=j(83509),He=j(21571),je=j(57616);const Le=Pt=>({"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:Pt,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),_e=Pt=>({borderColor:Pt.activeBorderColor,boxShadow:Pt.activeShadow,outline:0,backgroundColor:Pt.activeBg}),oe=Pt=>{const{paddingBlockLG:Ft,lineHeightLG:Xt,borderRadiusLG:Ht,paddingInlineLG:Ar}=Pt;return{padding:`${(0,s.bf)(Ft)} ${(0,s.bf)(Ar)}`,fontSize:Pt.inputFontSizeLG,lineHeight:Xt,borderRadius:Ht}},Ye=Pt=>({padding:`${(0,s.bf)(Pt.paddingBlockSM)} ${(0,s.bf)(Pt.paddingInlineSM)}`,fontSize:Pt.inputFontSizeSM,borderRadius:Pt.borderRadiusSM}),ke=Pt=>Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:`${(0,s.bf)(Pt.paddingBlock)} ${(0,s.bf)(Pt.paddingInline)}`,color:Pt.colorText,fontSize:Pt.inputFontSize,lineHeight:Pt.lineHeight,borderRadius:Pt.borderRadius,transition:`all ${Pt.motionDurationMid}`},Le(Pt.colorTextPlaceholder)),{"textarea&":{maxWidth:"100%",height:"auto",minHeight:Pt.controlHeight,lineHeight:Pt.lineHeight,verticalAlign:"bottom",transition:`all ${Pt.motionDurationSlow}, height 0s`,resize:"vertical"},"&-lg":Object.assign({},oe(Pt)),"&-sm":Object.assign({},Ye(Pt)),"&-rtl, &-textarea-rtl":{direction:"rtl"}}),Xe=Pt=>{const{componentCls:Ft,antCls:Xt}=Pt;return{position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0,"&[class*='col-']":{paddingInlineEnd:Pt.paddingXS,"&:last-child":{paddingInlineEnd:0}},[`&-lg ${Ft}, &-lg > ${Ft}-group-addon`]:Object.assign({},oe(Pt)),[`&-sm ${Ft}, &-sm > ${Ft}-group-addon`]:Object.assign({},Ye(Pt)),[`&-lg ${Xt}-select-single ${Xt}-select-selector`]:{height:Pt.controlHeightLG},[`&-sm ${Xt}-select-single ${Xt}-select-selector`]:{height:Pt.controlHeightSM},[`> ${Ft}`]:{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}},[`${Ft}-group`]:{"&-addon, &-wrap":{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}},"&-wrap > *":{display:"block !important"},"&-addon":{position:"relative",padding:`0 ${(0,s.bf)(Pt.paddingInline)}`,color:Pt.colorText,fontWeight:"normal",fontSize:Pt.inputFontSize,textAlign:"center",borderRadius:Pt.borderRadius,transition:`all ${Pt.motionDurationSlow}`,lineHeight:1,[`${Xt}-select`]:{margin:`${(0,s.bf)(Pt.calc(Pt.paddingBlock).add(1).mul(-1).equal())} ${(0,s.bf)(Pt.calc(Pt.paddingInline).mul(-1).equal())}`,[`&${Xt}-select-single:not(${Xt}-select-customize-input):not(${Xt}-pagination-size-changer)`]:{[`${Xt}-select-selector`]:{backgroundColor:"inherit",border:`${(0,s.bf)(Pt.lineWidth)} ${Pt.lineType} transparent`,boxShadow:"none"}}},[`${Xt}-cascader-picker`]:{margin:`-9px ${(0,s.bf)(Pt.calc(Pt.paddingInline).mul(-1).equal())}`,backgroundColor:"transparent",[`${Xt}-cascader-input`]:{textAlign:"start",border:0,boxShadow:"none"}}}},[Ft]:{width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":{zIndex:1,borderInlineEndWidth:1,[`${Ft}-search-with-button &`]:{zIndex:0}}},[`> ${Ft}:first-child, ${Ft}-group-addon:first-child`]:{borderStartEndRadius:0,borderEndEndRadius:0,[`${Xt}-select ${Xt}-select-selector`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${Ft}-affix-wrapper`]:{[`&:not(:first-child) ${Ft}`]:{borderStartStartRadius:0,borderEndStartRadius:0},[`&:not(:last-child) ${Ft}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${Ft}:last-child, ${Ft}-group-addon:last-child`]:{borderStartStartRadius:0,borderEndStartRadius:0,[`${Xt}-select ${Xt}-select-selector`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`${Ft}-affix-wrapper`]:{"&:not(:last-child)":{borderStartEndRadius:0,borderEndEndRadius:0,[`${Ft}-search &`]:{borderStartStartRadius:Pt.borderRadius,borderEndStartRadius:Pt.borderRadius}},[`&:not(:first-child), ${Ft}-search &:not(:first-child)`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&${Ft}-group-compact`]:Object.assign(Object.assign({display:"block"},(0,ht.dF)()),{[`${Ft}-group-addon, ${Ft}-group-wrap, > ${Ft}`]:{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:Pt.lineWidth,"&:hover, &:focus":{zIndex:1}}},"& > *":{display:"inline-flex",float:"none",verticalAlign:"top",borderRadius:0},[`
        & > ${Ft}-affix-wrapper,
        & > ${Ft}-number-affix-wrapper,
        & > ${Xt}-picker-range
      `]:{display:"inline-flex"},"& > *:not(:last-child)":{marginInlineEnd:Pt.calc(Pt.lineWidth).mul(-1).equal(),borderInlineEndWidth:Pt.lineWidth},[Ft]:{float:"none"},[`& > ${Xt}-select > ${Xt}-select-selector,
      & > ${Xt}-select-auto-complete ${Ft},
      & > ${Xt}-cascader-picker ${Ft},
      & > ${Ft}-group-wrapper ${Ft}`]:{borderInlineEndWidth:Pt.lineWidth,borderRadius:0,"&:hover, &:focus":{zIndex:1}},[`& > ${Xt}-select-focused`]:{zIndex:1},[`& > ${Xt}-select > ${Xt}-select-arrow`]:{zIndex:1},[`& > *:first-child,
      & > ${Xt}-select:first-child > ${Xt}-select-selector,
      & > ${Xt}-select-auto-complete:first-child ${Ft},
      & > ${Xt}-cascader-picker:first-child ${Ft}`]:{borderStartStartRadius:Pt.borderRadius,borderEndStartRadius:Pt.borderRadius},[`& > *:last-child,
      & > ${Xt}-select:last-child > ${Xt}-select-selector,
      & > ${Xt}-cascader-picker:last-child ${Ft},
      & > ${Xt}-cascader-picker-focused:last-child ${Ft}`]:{borderInlineEndWidth:Pt.lineWidth,borderStartEndRadius:Pt.borderRadius,borderEndEndRadius:Pt.borderRadius},[`& > ${Xt}-select-auto-complete ${Ft}`]:{verticalAlign:"top"},[`${Ft}-group-wrapper + ${Ft}-group-wrapper`]:{marginInlineStart:Pt.calc(Pt.lineWidth).mul(-1).equal(),[`${Ft}-affix-wrapper`]:{borderRadius:0}},[`${Ft}-group-wrapper:not(:last-child)`]:{[`&${Ft}-search > ${Ft}-group`]:{[`& > ${Ft}-group-addon > ${Ft}-search-button`]:{borderRadius:0},[`& > ${Ft}`]:{borderStartStartRadius:Pt.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:Pt.borderRadius}}}})}},at=Pt=>{const{componentCls:Ft,controlHeightSM:Xt,lineWidth:Ht,calc:Ar}=Pt,Dr=Ar(Xt).sub(Ar(Ht).mul(2)).sub(16).div(2).equal();return{[Ft]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,ht.Wf)(Pt)),ke(Pt)),(0,je.qG)(Pt)),(0,je.H8)(Pt)),(0,je.Mu)(Pt)),(0,je.vc)(Pt)),{'&[type="color"]':{height:Pt.controlHeight,[`&${Ft}-lg`]:{height:Pt.controlHeightLG},[`&${Ft}-sm`]:{height:Xt,paddingTop:Dr,paddingBottom:Dr}},'&[type="search"]::-webkit-search-cancel-button, &[type="search"]::-webkit-search-decoration':{"-webkit-appearance":"none"}})}},xt=Pt=>{const{componentCls:Ft}=Pt;return{[`${Ft}-clear-icon`]:{margin:0,padding:0,lineHeight:0,color:Pt.colorTextQuaternary,fontSize:Pt.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:`color ${Pt.motionDurationSlow}`,border:"none",outline:"none",backgroundColor:"transparent","&:hover":{color:Pt.colorTextTertiary},"&:active":{color:Pt.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:`0 ${(0,s.bf)(Pt.inputAffixPadding)}`}}}},ot=Pt=>{const{componentCls:Ft,inputAffixPadding:Xt,colorTextDescription:Ht,motionDurationSlow:Ar,colorIcon:Cr,colorIconHover:Dr,iconCls:Ue}=Pt,sn=`${Ft}-affix-wrapper`,Bn=`${Ft}-affix-wrapper-disabled`;return{[sn]:Object.assign(Object.assign(Object.assign(Object.assign({},ke(Pt)),{display:"inline-flex",[`&:not(${Ft}-disabled):hover`]:{zIndex:1,[`${Ft}-search-with-button &`]:{zIndex:0}},"&-focused, &:focus":{zIndex:1},[`> input${Ft}`]:{padding:0},[`> input${Ft}, > textarea${Ft}`]:{fontSize:"inherit",border:"none",borderRadius:0,outline:"none",background:"transparent",color:"inherit","&::-ms-reveal":{display:"none"},"&:focus":{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[Ft]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:Pt.paddingXS}},"&-show-count-suffix":{color:Ht},"&-show-count-has-suffix":{marginInlineEnd:Pt.paddingXXS},"&-prefix":{marginInlineEnd:Xt},"&-suffix":{marginInlineStart:Xt}}}),xt(Pt)),{[`${Ue}${Ft}-password-icon`]:{color:Cr,cursor:"pointer",transition:`all ${Ar}`,"&:hover":{color:Dr}}}),[`${Ft}-underlined`]:{borderRadius:0},[Bn]:{[`${Ue}${Ft}-password-icon`]:{color:Cr,cursor:"not-allowed","&:hover":{color:Cr}}}}},St=Pt=>{const{componentCls:Ft,borderRadiusLG:Xt,borderRadiusSM:Ht}=Pt;return{[`${Ft}-group`]:Object.assign(Object.assign(Object.assign({},(0,ht.Wf)(Pt)),Xe(Pt)),{"&-rtl":{direction:"rtl"},"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":{[`${Ft}-group-addon`]:{borderRadius:Xt,fontSize:Pt.inputFontSizeLG}},"&-sm":{[`${Ft}-group-addon`]:{borderRadius:Ht}}},(0,je.ir)(Pt)),(0,je.S5)(Pt)),{[`&:not(${Ft}-compact-first-item):not(${Ft}-compact-last-item)${Ft}-compact-item`]:{[`${Ft}, ${Ft}-group-addon`]:{borderRadius:0}},[`&:not(${Ft}-compact-last-item)${Ft}-compact-first-item`]:{[`${Ft}, ${Ft}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${Ft}-compact-first-item)${Ft}-compact-last-item`]:{[`${Ft}, ${Ft}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&:not(${Ft}-compact-last-item)${Ft}-compact-item`]:{[`${Ft}-affix-wrapper`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${Ft}-compact-first-item)${Ft}-compact-item`]:{[`${Ft}-affix-wrapper`]:{borderStartStartRadius:0,borderEndStartRadius:0}}})})}},Ot=Pt=>{const{componentCls:Ft,antCls:Xt}=Pt,Ht=`${Ft}-search`;return{[Ht]:{[Ft]:{"&:hover, &:focus":{[`+ ${Ft}-group-addon ${Ht}-button:not(${Xt}-btn-primary)`]:{borderInlineStartColor:Pt.colorPrimaryHover}}},[`${Ft}-affix-wrapper`]:{height:Pt.controlHeight,borderRadius:0},[`${Ft}-lg`]:{lineHeight:Pt.calc(Pt.lineHeightLG).sub(2e-4).equal()},[`> ${Ft}-group`]:{[`> ${Ft}-group-addon:last-child`]:{insetInlineStart:-1,padding:0,border:0,[`${Ht}-button`]:{marginInlineEnd:-1,borderStartStartRadius:0,borderEndStartRadius:0,boxShadow:"none"},[`${Ht}-button:not(${Xt}-btn-primary)`]:{color:Pt.colorTextDescription,"&:hover":{color:Pt.colorPrimaryHover},"&:active":{color:Pt.colorPrimaryActive},[`&${Xt}-btn-loading::before`]:{insetInlineStart:0,insetInlineEnd:0,insetBlockStart:0,insetBlockEnd:0}}}},[`${Ht}-button`]:{height:Pt.controlHeight,"&:hover, &:focus":{zIndex:1}},"&-large":{[`${Ft}-affix-wrapper, ${Ht}-button`]:{height:Pt.controlHeightLG}},"&-small":{[`${Ft}-affix-wrapper, ${Ht}-button`]:{height:Pt.controlHeightSM}},"&-rtl":{direction:"rtl"},[`&${Ft}-compact-item`]:{[`&:not(${Ft}-compact-last-item)`]:{[`${Ft}-group-addon`]:{[`${Ft}-search-button`]:{marginInlineEnd:Pt.calc(Pt.lineWidth).mul(-1).equal(),borderRadius:0}}},[`&:not(${Ft}-compact-first-item)`]:{[`${Ft},${Ft}-affix-wrapper`]:{borderRadius:0}},[`> ${Ft}-group-addon ${Ft}-search-button,
        > ${Ft},
        ${Ft}-affix-wrapper`]:{"&:hover, &:focus, &:active":{zIndex:2}},[`> ${Ft}-affix-wrapper-focused`]:{zIndex:2}}}}},Ge=Pt=>{const{componentCls:Ft}=Pt;return{[`${Ft}-out-of-range`]:{[`&, & input, & textarea, ${Ft}-show-count-suffix, ${Ft}-data-count`]:{color:Pt.colorError}}}},Qt=(0,u.I$)(["Input","Shared"],Pt=>{const Ft=(0,Ie.IX)(Pt,(0,He.e)(Pt));return[at(Ft),ot(Ft)]},He.T,{resetFont:!1});Jt.ZP=(0,u.I$)(["Input","Component"],Pt=>{const Ft=(0,Ie.IX)(Pt,(0,He.e)(Pt));return[St(Ft),Ot(Ft),Ge(Ft),(0,J.c)(Ft)]},He.T,{resetFont:!1})},21571:function(Qr,Jt,j){"use strict";j.d(Jt,{T:function(){return J},e:function(){return ht}});var s=j(83509);function ht(u){return(0,s.IX)(u,{inputAffixPadding:u.paddingXXS})}const J=u=>{const{controlHeight:Ie,fontSize:He,lineHeight:je,lineWidth:Le,controlHeightSM:_e,controlHeightLG:oe,fontSizeLG:Ye,lineHeightLG:ke,paddingSM:Xe,controlPaddingHorizontalSM:at,controlPaddingHorizontal:xt,colorFillAlter:ot,colorPrimaryHover:St,colorPrimary:Ot,controlOutlineWidth:Ge,controlOutline:Qt,colorErrorOutline:Pt,colorWarningOutline:Ft,colorBgContainer:Xt,inputFontSize:Ht,inputFontSizeLG:Ar,inputFontSizeSM:Cr}=u,Dr=Ht||He,Ue=Cr||Dr,sn=Ar||Ye,Bn=Math.round((Ie-Dr*je)/2*10)/10-Le,En=Math.round((_e-Ue*je)/2*10)/10-Le,Be=Math.ceil((oe-sn*ke)/2*10)/10-Le;return{paddingBlock:Math.max(Bn,0),paddingBlockSM:Math.max(En,0),paddingBlockLG:Math.max(Be,0),paddingInline:Xe-Le,paddingInlineSM:at-Le,paddingInlineLG:xt-Le,addonBg:ot,activeBorderColor:Ot,hoverBorderColor:St,activeShadow:`0 0 0 ${Ge}px ${Qt}`,errorActiveShadow:`0 0 0 ${Ge}px ${Pt}`,warningActiveShadow:`0 0 0 ${Ge}px ${Ft}`,hoverBg:Xt,activeBg:Xt,inputFontSize:Dr,inputFontSizeLG:sn,inputFontSizeSM:Ue}}},57616:function(Qr,Jt,j){"use strict";j.d(Jt,{$U:function(){return Ie},H8:function(){return Xe},Mu:function(){return oe},S5:function(){return xt},Xy:function(){return u},ir:function(){return _e},qG:function(){return je},vc:function(){return Ot}});var s=j(55921),ht=j(83509);const J=Ge=>({borderColor:Ge.hoverBorderColor,backgroundColor:Ge.hoverBg}),u=Ge=>({color:Ge.colorTextDisabled,backgroundColor:Ge.colorBgContainerDisabled,borderColor:Ge.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"input[disabled], textarea[disabled]":{cursor:"not-allowed"},"&:hover:not([disabled])":Object.assign({},J((0,ht.IX)(Ge,{hoverBorderColor:Ge.colorBorder,hoverBg:Ge.colorBgContainerDisabled})))}),Ie=(Ge,Qt)=>({background:Ge.colorBgContainer,borderWidth:Ge.lineWidth,borderStyle:Ge.lineType,borderColor:Qt.borderColor,"&:hover":{borderColor:Qt.hoverBorderColor,backgroundColor:Ge.hoverBg},"&:focus, &:focus-within":{borderColor:Qt.activeBorderColor,boxShadow:Qt.activeShadow,outline:0,backgroundColor:Ge.activeBg}}),He=(Ge,Qt)=>({[`&${Ge.componentCls}-status-${Qt.status}:not(${Ge.componentCls}-disabled)`]:Object.assign(Object.assign({},Ie(Ge,Qt)),{[`${Ge.componentCls}-prefix, ${Ge.componentCls}-suffix`]:{color:Qt.affixColor}}),[`&${Ge.componentCls}-status-${Qt.status}${Ge.componentCls}-disabled`]:{borderColor:Qt.borderColor}}),je=(Ge,Qt)=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Ie(Ge,{borderColor:Ge.colorBorder,hoverBorderColor:Ge.hoverBorderColor,activeBorderColor:Ge.activeBorderColor,activeShadow:Ge.activeShadow})),{[`&${Ge.componentCls}-disabled, &[disabled]`]:Object.assign({},u(Ge))}),He(Ge,{status:"error",borderColor:Ge.colorError,hoverBorderColor:Ge.colorErrorBorderHover,activeBorderColor:Ge.colorError,activeShadow:Ge.errorActiveShadow,affixColor:Ge.colorError})),He(Ge,{status:"warning",borderColor:Ge.colorWarning,hoverBorderColor:Ge.colorWarningBorderHover,activeBorderColor:Ge.colorWarning,activeShadow:Ge.warningActiveShadow,affixColor:Ge.colorWarning})),Qt)}),Le=(Ge,Qt)=>({[`&${Ge.componentCls}-group-wrapper-status-${Qt.status}`]:{[`${Ge.componentCls}-group-addon`]:{borderColor:Qt.addonBorderColor,color:Qt.addonColor}}}),_e=Ge=>({"&-outlined":Object.assign(Object.assign(Object.assign({[`${Ge.componentCls}-group`]:{"&-addon":{background:Ge.addonBg,border:`${(0,s.bf)(Ge.lineWidth)} ${Ge.lineType} ${Ge.colorBorder}`},"&-addon:first-child":{borderInlineEnd:0},"&-addon:last-child":{borderInlineStart:0}}},Le(Ge,{status:"error",addonBorderColor:Ge.colorError,addonColor:Ge.colorErrorText})),Le(Ge,{status:"warning",addonBorderColor:Ge.colorWarning,addonColor:Ge.colorWarningText})),{[`&${Ge.componentCls}-group-wrapper-disabled`]:{[`${Ge.componentCls}-group-addon`]:Object.assign({},u(Ge))}})}),oe=(Ge,Qt)=>{const{componentCls:Pt}=Ge;return{"&-borderless":Object.assign({background:"transparent",border:"none","&:focus, &:focus-within":{outline:"none"},[`&${Pt}-disabled, &[disabled]`]:{color:Ge.colorTextDisabled,cursor:"not-allowed"},[`&${Pt}-status-error`]:{"&, & input, & textarea":{color:Ge.colorError}},[`&${Pt}-status-warning`]:{"&, & input, & textarea":{color:Ge.colorWarning}}},Qt)}},Ye=(Ge,Qt)=>({background:Qt.bg,borderWidth:Ge.lineWidth,borderStyle:Ge.lineType,borderColor:"transparent","input&, & input, textarea&, & textarea":{color:Qt==null?void 0:Qt.inputColor},"&:hover":{background:Qt.hoverBg},"&:focus, &:focus-within":{outline:0,borderColor:Qt.activeBorderColor,backgroundColor:Ge.activeBg}}),ke=(Ge,Qt)=>({[`&${Ge.componentCls}-status-${Qt.status}:not(${Ge.componentCls}-disabled)`]:Object.assign(Object.assign({},Ye(Ge,Qt)),{[`${Ge.componentCls}-prefix, ${Ge.componentCls}-suffix`]:{color:Qt.affixColor}})}),Xe=(Ge,Qt)=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Ye(Ge,{bg:Ge.colorFillTertiary,hoverBg:Ge.colorFillSecondary,activeBorderColor:Ge.activeBorderColor})),{[`&${Ge.componentCls}-disabled, &[disabled]`]:Object.assign({},u(Ge))}),ke(Ge,{status:"error",bg:Ge.colorErrorBg,hoverBg:Ge.colorErrorBgHover,activeBorderColor:Ge.colorError,inputColor:Ge.colorErrorText,affixColor:Ge.colorError})),ke(Ge,{status:"warning",bg:Ge.colorWarningBg,hoverBg:Ge.colorWarningBgHover,activeBorderColor:Ge.colorWarning,inputColor:Ge.colorWarningText,affixColor:Ge.colorWarning})),Qt)}),at=(Ge,Qt)=>({[`&${Ge.componentCls}-group-wrapper-status-${Qt.status}`]:{[`${Ge.componentCls}-group-addon`]:{background:Qt.addonBg,color:Qt.addonColor}}}),xt=Ge=>({"&-filled":Object.assign(Object.assign(Object.assign({[`${Ge.componentCls}-group`]:{"&-addon":{background:Ge.colorFillTertiary},[`${Ge.componentCls}-filled:not(:focus):not(:focus-within)`]:{"&:not(:first-child)":{borderInlineStart:`${(0,s.bf)(Ge.lineWidth)} ${Ge.lineType} ${Ge.colorSplit}`},"&:not(:last-child)":{borderInlineEnd:`${(0,s.bf)(Ge.lineWidth)} ${Ge.lineType} ${Ge.colorSplit}`}}}},at(Ge,{status:"error",addonBg:Ge.colorErrorBg,addonColor:Ge.colorErrorText})),at(Ge,{status:"warning",addonBg:Ge.colorWarningBg,addonColor:Ge.colorWarningText})),{[`&${Ge.componentCls}-group-wrapper-disabled`]:{[`${Ge.componentCls}-group`]:{"&-addon":{background:Ge.colorFillTertiary,color:Ge.colorTextDisabled},"&-addon:first-child":{borderInlineStart:`${(0,s.bf)(Ge.lineWidth)} ${Ge.lineType} ${Ge.colorBorder}`,borderTop:`${(0,s.bf)(Ge.lineWidth)} ${Ge.lineType} ${Ge.colorBorder}`,borderBottom:`${(0,s.bf)(Ge.lineWidth)} ${Ge.lineType} ${Ge.colorBorder}`},"&-addon:last-child":{borderInlineEnd:`${(0,s.bf)(Ge.lineWidth)} ${Ge.lineType} ${Ge.colorBorder}`,borderTop:`${(0,s.bf)(Ge.lineWidth)} ${Ge.lineType} ${Ge.colorBorder}`,borderBottom:`${(0,s.bf)(Ge.lineWidth)} ${Ge.lineType} ${Ge.colorBorder}`}}}})}),ot=(Ge,Qt)=>({background:Ge.colorBgContainer,borderWidth:`${(0,s.bf)(Ge.lineWidth)} 0`,borderStyle:`${Ge.lineType} none`,borderColor:`transparent transparent ${Qt.borderColor} transparent`,borderRadius:0,"&:hover":{borderColor:`transparent transparent ${Qt.borderColor} transparent`,backgroundColor:Ge.hoverBg},"&:focus, &:focus-within":{borderColor:`transparent transparent ${Qt.borderColor} transparent`,outline:0,backgroundColor:Ge.activeBg}}),St=(Ge,Qt)=>({[`&${Ge.componentCls}-status-${Qt.status}:not(${Ge.componentCls}-disabled)`]:Object.assign(Object.assign({},ot(Ge,Qt)),{[`${Ge.componentCls}-prefix, ${Ge.componentCls}-suffix`]:{color:Qt.affixColor}}),[`&${Ge.componentCls}-status-${Qt.status}${Ge.componentCls}-disabled`]:{borderColor:Qt.borderColor}}),Ot=(Ge,Qt)=>({"&-underlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ot(Ge,{borderColor:Ge.colorBorder,hoverBorderColor:Ge.hoverBorderColor,activeBorderColor:Ge.activeBorderColor,activeShadow:Ge.activeShadow})),{[`&${Ge.componentCls}-disabled, &[disabled]`]:{color:Ge.colorTextDisabled,boxShadow:"none",cursor:"not-allowed","&:hover":{borderColor:Ge.colorBorder}},"input[disabled], textarea[disabled]":{cursor:"not-allowed"}}),St(Ge,{status:"error",borderColor:Ge.colorError,hoverBorderColor:Ge.colorErrorBorderHover,activeBorderColor:Ge.colorError,activeShadow:Ge.errorActiveShadow,affixColor:Ge.colorError})),St(Ge,{status:"warning",borderColor:Ge.colorWarning,hoverBorderColor:Ge.colorWarningBorderHover,activeBorderColor:Ge.colorWarning,activeShadow:Ge.warningActiveShadow,affixColor:Ge.colorWarning})),Qt)})},59379:function(Qr,Jt,j){"use strict";var s=j(75271);const ht=(0,s.createContext)(void 0);Jt.Z=ht},42474:function(Qr,Jt,j){"use strict";var s=j(18507),ht=j(40859),J=j(58492),u=j(85985);const Ie="${label} is not a valid ${type}",He={locale:"en",Pagination:s.Z,DatePicker:J.Z,TimePicker:u.Z,Calendar:ht.Z,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckAll:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",deselectAll:"Deselect all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand",collapse:"Collapse"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:Ie,method:Ie,array:Ie,object:Ie,number:Ie,date:Ie,boolean:Ie,integer:Ie,float:Ie,regexp:Ie,email:Ie,url:Ie,hex:Ie},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty",transparent:"Transparent",singleColor:"Single",gradientColor:"Gradient"}};Jt.Z=He},77648:function(Qr,Jt,j){"use strict";var s=j(75271),ht=j(59379),J=j(42474);const u=(Ie,He)=>{const je=s.useContext(ht.Z),Le=s.useMemo(()=>{var oe;const Ye=He||J.Z[Ie],ke=(oe=je==null?void 0:je[Ie])!==null&&oe!==void 0?oe:{};return Object.assign(Object.assign({},typeof Ye=="function"?Ye():Ye),ke||{})},[Ie,He,je]),_e=s.useMemo(()=>{const oe=je==null?void 0:je.locale;return je!=null&&je.exist&&!oe?J.Z.locale:oe},[je]);return[Le,_e]};Jt.Z=u},3786:function(Qr,Jt,j){"use strict";j.d(Jt,{A:function(){return He},f:function(){return Ie}});var s=j(42474);let ht=Object.assign({},s.Z.Modal),J=[];const u=()=>J.reduce((je,Le)=>Object.assign(Object.assign({},je),Le),s.Z.Modal);function Ie(je){if(je){const Le=Object.assign({},je);return J.push(Le),ht=u(),()=>{J=J.filter(_e=>_e!==Le),ht=u()}}ht=Object.assign({},s.Z.Modal)}function He(){return ht}},97294:function(Qr,Jt,j){"use strict";j.d(Jt,{aV:function(){return _e},t5:function(){return oe}});var s=j(75271),ht=j(82187),J=j.n(ht),u=j(75219),Ie=j(17522),He=j(98446),je=j(51759),Le=function(ke,Xe){var at={};for(var xt in ke)Object.prototype.hasOwnProperty.call(ke,xt)&&Xe.indexOf(xt)<0&&(at[xt]=ke[xt]);if(ke!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ot=0,xt=Object.getOwnPropertySymbols(ke);ot<xt.length;ot++)Xe.indexOf(xt[ot])<0&&Object.prototype.propertyIsEnumerable.call(ke,xt[ot])&&(at[xt[ot]]=ke[xt[ot]]);return at};const _e=ke=>{let{title:Xe,content:at,prefixCls:xt}=ke;return!Xe&&!at?null:s.createElement(s.Fragment,null,Xe&&s.createElement("div",{className:`${xt}-title`},Xe),at&&s.createElement("div",{className:`${xt}-inner-content`},at))},oe=ke=>{const{hashId:Xe,prefixCls:at,className:xt,style:ot,placement:St="top",title:Ot,content:Ge,children:Qt}=ke,Pt=(0,Ie.Z)(Ot),Ft=(0,Ie.Z)(Ge),Xt=J()(Xe,at,`${at}-pure`,`${at}-placement-${St}`,xt);return s.createElement("div",{className:Xt,style:ot},s.createElement("div",{className:`${at}-arrow`}),s.createElement(u.G,Object.assign({},ke,{className:Xe,prefixCls:at}),Qt||s.createElement(_e,{prefixCls:at,title:Pt,content:Ft})))},Ye=ke=>{const{prefixCls:Xe,className:at}=ke,xt=Le(ke,["prefixCls","className"]),{getPrefixCls:ot}=s.useContext(He.E_),St=ot("popover",Xe),[Ot,Ge,Qt]=(0,je.Z)(St);return Ot(s.createElement(oe,Object.assign({},xt,{prefixCls:St,hashId:Ge,className:J()(at,Qt)})))};Jt.ZP=Ye},60916:function(Qr,Jt,j){"use strict";var s=j(75271),ht=j(82187),J=j.n(ht),u=j(93954),Ie=j(14583),He=j(17522),je=j(13635),Le=j(26021),_e=j(9202),oe=j(97294),Ye=j(98446),ke=j(51759),Xe=function(ot,St){var Ot={};for(var Ge in ot)Object.prototype.hasOwnProperty.call(ot,Ge)&&St.indexOf(Ge)<0&&(Ot[Ge]=ot[Ge]);if(ot!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Qt=0,Ge=Object.getOwnPropertySymbols(ot);Qt<Ge.length;Qt++)St.indexOf(Ge[Qt])<0&&Object.prototype.propertyIsEnumerable.call(ot,Ge[Qt])&&(Ot[Ge[Qt]]=ot[Ge[Qt]]);return Ot};const xt=s.forwardRef((ot,St)=>{var Ot,Ge;const{prefixCls:Qt,title:Pt,content:Ft,overlayClassName:Xt,placement:Ht="top",trigger:Ar="hover",children:Cr,mouseEnterDelay:Dr=.1,mouseLeaveDelay:Ue=.1,onOpenChange:sn,overlayStyle:Bn={},styles:En,classNames:Be}=ot,Gn=Xe(ot,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle","styles","classNames"]),{getPrefixCls:In,className:Rn,style:pt,classNames:an,styles:Tn}=(0,Ye.dj)("popover"),me=In("popover",Qt),[nn,bi,ui]=(0,ke.Z)(me),$e=In(),Mn=J()(Xt,bi,ui,Rn,an.root,Be==null?void 0:Be.root),Kr=J()(an.body,Be==null?void 0:Be.body),[jr,Sn]=(0,u.Z)(!1,{value:(Ot=ot.open)!==null&&Ot!==void 0?Ot:ot.visible,defaultValue:(Ge=ot.defaultOpen)!==null&&Ge!==void 0?Ge:ot.defaultVisible}),Fr=(Fn,un)=>{Sn(Fn,!0),sn==null||sn(Fn,un)},Ii=Fn=>{Fn.keyCode===Ie.Z.ESC&&Fr(!1,Fn)},fr=Fn=>{Fr(Fn)},st=(0,He.Z)(Pt),jt=(0,He.Z)(Ft);return nn(s.createElement(_e.Z,Object.assign({placement:Ht,trigger:Ar,mouseEnterDelay:Dr,mouseLeaveDelay:Ue},Gn,{prefixCls:me,classNames:{root:Mn,body:Kr},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign({},Tn.root),pt),Bn),En==null?void 0:En.root),body:Object.assign(Object.assign({},Tn.body),En==null?void 0:En.body)},ref:St,open:jr,onOpenChange:fr,overlay:st||jt?s.createElement(oe.aV,{prefixCls:me,title:st,content:jt}):null,transitionName:(0,je.m)($e,"zoom-big",Gn.transitionName),"data-popover-inject":!0}),(0,Le.Tm)(Cr,{onKeyDown:Fn=>{var un,pn;s.isValidElement(Cr)&&((pn=Cr==null?void 0:(un=Cr.props).onKeyDown)===null||pn===void 0||pn.call(un,Fn)),Ii(Fn)}})))});xt._InternalPanelDoNotUseOrYouWillBeFired=oe.ZP,Jt.Z=xt},51759:function(Qr,Jt,j){"use strict";var s=j(34299),ht=j(3153),J=j(18533),u=j(2276),Ie=j(98990),He=j(84825),je=j(83509);const Le=Ye=>{const{componentCls:ke,popoverColor:Xe,titleMinWidth:at,fontWeightStrong:xt,innerPadding:ot,boxShadowSecondary:St,colorTextHeading:Ot,borderRadiusLG:Ge,zIndexPopup:Qt,titleMarginBottom:Pt,colorBgElevated:Ft,popoverBg:Xt,titleBorderBottom:Ht,innerContentPadding:Ar,titlePadding:Cr}=Ye;return[{[ke]:Object.assign(Object.assign({},(0,s.Wf)(Ye)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:Qt,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"--antd-arrow-background-color":Ft,width:"max-content",maxWidth:"100vw","&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${ke}-content`]:{position:"relative"},[`${ke}-inner`]:{backgroundColor:Xt,backgroundClip:"padding-box",borderRadius:Ge,boxShadow:St,padding:ot},[`${ke}-title`]:{minWidth:at,marginBottom:Pt,color:Ot,fontWeight:xt,borderBottom:Ht,padding:Cr},[`${ke}-inner-content`]:{color:Xe,padding:Ar}})},(0,J.ZP)(Ye,"var(--antd-arrow-background-color)"),{[`${ke}-pure`]:{position:"relative",maxWidth:"none",margin:Ye.sizePopupArrow,display:"inline-block",[`${ke}-content`]:{display:"inline-block"}}}]},_e=Ye=>{const{componentCls:ke}=Ye;return{[ke]:Ie.i.map(Xe=>{const at=Ye[`${Xe}6`];return{[`&${ke}-${Xe}`]:{"--antd-arrow-background-color":at,[`${ke}-inner`]:{backgroundColor:at},[`${ke}-arrow`]:{background:"transparent"}}}})}},oe=Ye=>{const{lineWidth:ke,controlHeight:Xe,fontHeight:at,padding:xt,wireframe:ot,zIndexPopupBase:St,borderRadiusLG:Ot,marginXS:Ge,lineType:Qt,colorSplit:Pt,paddingSM:Ft}=Ye,Xt=Xe-at,Ht=Xt/2,Ar=Xt/2-ke,Cr=xt;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:St+30},(0,u.w)(Ye)),(0,J.wZ)({contentRadius:Ot,limitVerticalRadius:!0})),{innerPadding:ot?0:12,titleMarginBottom:ot?0:Ge,titlePadding:ot?`${Ht}px ${Cr}px ${Ar}px`:0,titleBorderBottom:ot?`${ke}px ${Qt} ${Pt}`:"none",innerContentPadding:ot?`${Ft}px ${Cr}px`:0})};Jt.Z=(0,He.I$)("Popover",Ye=>{const{colorBgElevated:ke,colorText:Xe}=Ye,at=(0,je.IX)(Ye,{popoverBg:ke,popoverColor:Xe});return[Le(at),_e(at),(0,ht._y)(at,"zoom-big")]},oe,{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]})},82162:function(Qr,Jt,j){"use strict";j.d(Jt,{Z:function(){return ui}});var s=j(75271),ht=j(82187),J=j.n(ht),u=j(23022),Ie=j(89692),He=j(58190),je=j(38926),Le=j(54153),_e=j(5147),oe=j(93954),Ye=j(18051),ke=j(42684),Xe=j(62803),at=j(92076),xt=function(Mn,Kr){if(!Mn)return null;var jr={left:Mn.offsetLeft,right:Mn.parentElement.clientWidth-Mn.clientWidth-Mn.offsetLeft,width:Mn.clientWidth,top:Mn.offsetTop,bottom:Mn.parentElement.clientHeight-Mn.clientHeight-Mn.offsetTop,height:Mn.clientHeight};return Kr?{left:0,right:0,width:0,top:jr.top,bottom:jr.bottom,height:jr.height}:{left:jr.left,right:jr.right,width:jr.width,top:0,bottom:0,height:0}},ot=function(Mn){return Mn!==void 0?"".concat(Mn,"px"):void 0};function St($e){var Mn=$e.prefixCls,Kr=$e.containerRef,jr=$e.value,Sn=$e.getValueIndex,Fr=$e.motionName,Ii=$e.onMotionStart,fr=$e.onMotionEnd,st=$e.direction,jt=$e.vertical,Fn=jt===void 0?!1:jt,un=s.useRef(null),pn=s.useState(jr),Sr=(0,Ie.Z)(pn,2),Vn=Sr[0],Xr=Sr[1],ri=function(Wi){var po,kr=Sn(Wi),no=(po=Kr.current)===null||po===void 0?void 0:po.querySelectorAll(".".concat(Mn,"-item"))[kr];return(no==null?void 0:no.offsetParent)&&no},Zr=s.useState(null),ei=(0,Ie.Z)(Zr,2),vr=ei[0],hr=ei[1],ur=s.useState(null),wr=(0,Ie.Z)(ur,2),yr=wr[0],Nr=wr[1];(0,at.Z)(function(){if(Vn!==jr){var fi=ri(Vn),Wi=ri(jr),po=xt(fi,Fn),kr=xt(Wi,Fn);Xr(jr),hr(po),Nr(kr),fi&&Wi?Ii():fr()}},[jr]);var Xn=s.useMemo(function(){if(Fn){var fi;return ot((fi=vr==null?void 0:vr.top)!==null&&fi!==void 0?fi:0)}return ot(st==="rtl"?-(vr==null?void 0:vr.right):vr==null?void 0:vr.left)},[Fn,st,vr]),lr=s.useMemo(function(){if(Fn){var fi;return ot((fi=yr==null?void 0:yr.top)!==null&&fi!==void 0?fi:0)}return ot(st==="rtl"?-(yr==null?void 0:yr.right):yr==null?void 0:yr.left)},[Fn,st,yr]),Ur=function(){return Fn?{transform:"translateY(var(--thumb-start-top))",height:"var(--thumb-start-height)"}:{transform:"translateX(var(--thumb-start-left))",width:"var(--thumb-start-width)"}},Ln=function(){return Fn?{transform:"translateY(var(--thumb-active-top))",height:"var(--thumb-active-height)"}:{transform:"translateX(var(--thumb-active-left))",width:"var(--thumb-active-width)"}},_i=function(){hr(null),Nr(null),fr()};return!vr||!yr?null:s.createElement(Xe.ZP,{visible:!0,motionName:Fr,motionAppear:!0,onAppearStart:Ur,onAppearActive:Ln,onVisibleChanged:_i},function(fi,Wi){var po=fi.className,kr=fi.style,no=(0,Le.Z)((0,Le.Z)({},kr),{},{"--thumb-start-left":Xn,"--thumb-start-width":ot(vr==null?void 0:vr.width),"--thumb-active-left":lr,"--thumb-active-width":ot(yr==null?void 0:yr.width),"--thumb-start-top":Xn,"--thumb-start-height":ot(vr==null?void 0:vr.height),"--thumb-active-top":lr,"--thumb-active-height":ot(yr==null?void 0:yr.height)}),qt={ref:(0,ke.sQ)(un,Wi),style:no,className:J()("".concat(Mn,"-thumb"),po)};return s.createElement("div",qt)})}var Ot=["prefixCls","direction","vertical","options","disabled","defaultValue","value","name","onChange","className","motionName"];function Ge($e){if(typeof $e.title!="undefined")return $e.title;if((0,_e.Z)($e.label)!=="object"){var Mn;return(Mn=$e.label)===null||Mn===void 0?void 0:Mn.toString()}}function Qt($e){return $e.map(function(Mn){if((0,_e.Z)(Mn)==="object"&&Mn!==null){var Kr=Ge(Mn);return(0,Le.Z)((0,Le.Z)({},Mn),{},{title:Kr})}return{label:Mn==null?void 0:Mn.toString(),title:Mn==null?void 0:Mn.toString(),value:Mn}})}var Pt=function(Mn){var Kr=Mn.prefixCls,jr=Mn.className,Sn=Mn.disabled,Fr=Mn.checked,Ii=Mn.label,fr=Mn.title,st=Mn.value,jt=Mn.name,Fn=Mn.onChange,un=Mn.onFocus,pn=Mn.onBlur,Sr=Mn.onKeyDown,Vn=Mn.onKeyUp,Xr=Mn.onMouseDown,ri=function(ei){Sn||Fn(ei,st)};return s.createElement("label",{className:J()(jr,(0,je.Z)({},"".concat(Kr,"-item-disabled"),Sn)),onMouseDown:Xr},s.createElement("input",{name:jt,className:"".concat(Kr,"-item-input"),type:"radio",disabled:Sn,checked:Fr,onChange:ri,onFocus:un,onBlur:pn,onKeyDown:Sr,onKeyUp:Vn}),s.createElement("div",{className:"".concat(Kr,"-item-label"),title:fr,"aria-selected":Fr},Ii))},Ft=s.forwardRef(function($e,Mn){var Kr,jr,Sn=$e.prefixCls,Fr=Sn===void 0?"rc-segmented":Sn,Ii=$e.direction,fr=$e.vertical,st=$e.options,jt=st===void 0?[]:st,Fn=$e.disabled,un=$e.defaultValue,pn=$e.value,Sr=$e.name,Vn=$e.onChange,Xr=$e.className,ri=Xr===void 0?"":Xr,Zr=$e.motionName,ei=Zr===void 0?"thumb-motion":Zr,vr=(0,He.Z)($e,Ot),hr=s.useRef(null),ur=s.useMemo(function(){return(0,ke.sQ)(hr,Mn)},[hr,Mn]),wr=s.useMemo(function(){return Qt(jt)},[jt]),yr=(0,oe.Z)((Kr=wr[0])===null||Kr===void 0?void 0:Kr.value,{value:pn,defaultValue:un}),Nr=(0,Ie.Z)(yr,2),Xn=Nr[0],lr=Nr[1],Ur=s.useState(!1),Ln=(0,Ie.Z)(Ur,2),_i=Ln[0],fi=Ln[1],Wi=function(K,Ne){lr(Ne),Vn==null||Vn(Ne)},po=(0,Ye.Z)(vr,["children"]),kr=s.useState(!1),no=(0,Ie.Z)(kr,2),qt=no[0],xn=no[1],Jn=s.useState(!1),$r=(0,Ie.Z)(Jn,2),li=$r[0],ii=$r[1],Ki=function(){ii(!0)},eo=function(){ii(!1)},Ro=function(){xn(!1)},So=function(K){K.key==="Tab"&&xn(!0)},io=function(K){var Ne=wr.findIndex(function(_t){return _t.value===Xn}),Je=wr.length,ge=(Ne+K+Je)%Je,dt=wr[ge];dt&&(lr(dt.value),Vn==null||Vn(dt.value))},Pe=function(K){switch(K.key){case"ArrowLeft":case"ArrowUp":io(-1);break;case"ArrowRight":case"ArrowDown":io(1);break}};return s.createElement("div",(0,u.Z)({role:"radiogroup","aria-label":"segmented control",tabIndex:Fn?void 0:0},po,{className:J()(Fr,(jr={},(0,je.Z)(jr,"".concat(Fr,"-rtl"),Ii==="rtl"),(0,je.Z)(jr,"".concat(Fr,"-disabled"),Fn),(0,je.Z)(jr,"".concat(Fr,"-vertical"),fr),jr),ri),ref:ur}),s.createElement("div",{className:"".concat(Fr,"-group")},s.createElement(St,{vertical:fr,prefixCls:Fr,value:Xn,containerRef:hr,motionName:"".concat(Fr,"-").concat(ei),direction:Ii,getValueIndex:function(K){return wr.findIndex(function(Ne){return Ne.value===K})},onMotionStart:function(){fi(!0)},onMotionEnd:function(){fi(!1)}}),wr.map(function(de){var K;return s.createElement(Pt,(0,u.Z)({},de,{name:Sr,key:de.value,prefixCls:Fr,className:J()(de.className,"".concat(Fr,"-item"),(K={},(0,je.Z)(K,"".concat(Fr,"-item-selected"),de.value===Xn&&!_i),(0,je.Z)(K,"".concat(Fr,"-item-focused"),li&&qt&&de.value===Xn),K)),checked:de.value===Xn,onChange:Wi,onFocus:Ki,onBlur:eo,onKeyDown:Pe,onKeyUp:So,onMouseDown:Ro,disabled:!!Fn||!!de.disabled}))})))}),Xt=Ft,Ht=Xt,Ar=j(73188),Cr=j(98446),Dr=j(95741),Ue=j(55921),sn=j(34299),Bn=j(84825),En=j(83509);function Be($e,Mn){return{[`${$e}, ${$e}:hover, ${$e}:focus`]:{color:Mn.colorTextDisabled,cursor:"not-allowed"}}}function Gn($e){return{backgroundColor:$e.itemSelectedBg,boxShadow:$e.boxShadowTertiary}}const In=Object.assign({overflow:"hidden"},sn.vS),Rn=$e=>{const{componentCls:Mn}=$e,Kr=$e.calc($e.controlHeight).sub($e.calc($e.trackPadding).mul(2)).equal(),jr=$e.calc($e.controlHeightLG).sub($e.calc($e.trackPadding).mul(2)).equal(),Sn=$e.calc($e.controlHeightSM).sub($e.calc($e.trackPadding).mul(2)).equal();return{[Mn]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,sn.Wf)($e)),{display:"inline-block",padding:$e.trackPadding,color:$e.itemColor,background:$e.trackBg,borderRadius:$e.borderRadius,transition:`all ${$e.motionDurationMid} ${$e.motionEaseInOut}`}),(0,sn.Qy)($e)),{[`${Mn}-group`]:{position:"relative",display:"flex",alignItems:"stretch",justifyItems:"flex-start",flexDirection:"row",width:"100%"},[`&${Mn}-rtl`]:{direction:"rtl"},[`&${Mn}-vertical`]:{[`${Mn}-group`]:{flexDirection:"column"},[`${Mn}-thumb`]:{width:"100%",height:0,padding:`0 ${(0,Ue.bf)($e.paddingXXS)}`}},[`&${Mn}-block`]:{display:"flex"},[`&${Mn}-block ${Mn}-item`]:{flex:1,minWidth:0},[`${Mn}-item`]:{position:"relative",textAlign:"center",cursor:"pointer",transition:`color ${$e.motionDurationMid} ${$e.motionEaseInOut}`,borderRadius:$e.borderRadiusSM,transform:"translateZ(0)","&-selected":Object.assign(Object.assign({},Gn($e)),{color:$e.itemSelectedColor}),"&-focused":Object.assign({},(0,sn.oN)($e)),"&::after":{content:'""',position:"absolute",zIndex:-1,width:"100%",height:"100%",top:0,insetInlineStart:0,borderRadius:"inherit",opacity:0,transition:`opacity ${$e.motionDurationMid}`,pointerEvents:"none"},[`&:hover:not(${Mn}-item-selected):not(${Mn}-item-disabled)`]:{color:$e.itemHoverColor,"&::after":{opacity:1,backgroundColor:$e.itemHoverBg}},[`&:active:not(${Mn}-item-selected):not(${Mn}-item-disabled)`]:{color:$e.itemHoverColor,"&::after":{opacity:1,backgroundColor:$e.itemActiveBg}},"&-label":Object.assign({minHeight:Kr,lineHeight:(0,Ue.bf)(Kr),padding:`0 ${(0,Ue.bf)($e.segmentedPaddingHorizontal)}`},In),"&-icon + *":{marginInlineStart:$e.calc($e.marginSM).div(2).equal()},"&-input":{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:0,height:0,opacity:0,pointerEvents:"none"}},[`${Mn}-thumb`]:Object.assign(Object.assign({},Gn($e)),{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:0,height:"100%",padding:`${(0,Ue.bf)($e.paddingXXS)} 0`,borderRadius:$e.borderRadiusSM,transition:`transform ${$e.motionDurationSlow} ${$e.motionEaseInOut}, height ${$e.motionDurationSlow} ${$e.motionEaseInOut}`,[`& ~ ${Mn}-item:not(${Mn}-item-selected):not(${Mn}-item-disabled)::after`]:{backgroundColor:"transparent"}}),[`&${Mn}-lg`]:{borderRadius:$e.borderRadiusLG,[`${Mn}-item-label`]:{minHeight:jr,lineHeight:(0,Ue.bf)(jr),padding:`0 ${(0,Ue.bf)($e.segmentedPaddingHorizontal)}`,fontSize:$e.fontSizeLG},[`${Mn}-item, ${Mn}-thumb`]:{borderRadius:$e.borderRadius}},[`&${Mn}-sm`]:{borderRadius:$e.borderRadiusSM,[`${Mn}-item-label`]:{minHeight:Sn,lineHeight:(0,Ue.bf)(Sn),padding:`0 ${(0,Ue.bf)($e.segmentedPaddingHorizontalSM)}`},[`${Mn}-item, ${Mn}-thumb`]:{borderRadius:$e.borderRadiusXS}}}),Be(`&-disabled ${Mn}-item`,$e)),Be(`${Mn}-item-disabled`,$e)),{[`${Mn}-thumb-motion-appear-active`]:{transition:`transform ${$e.motionDurationSlow} ${$e.motionEaseInOut}, width ${$e.motionDurationSlow} ${$e.motionEaseInOut}`,willChange:"transform, width"},[`&${Mn}-shape-round`]:{borderRadius:9999,[`${Mn}-item, ${Mn}-thumb`]:{borderRadius:9999}}})}},pt=$e=>{const{colorTextLabel:Mn,colorText:Kr,colorFillSecondary:jr,colorBgElevated:Sn,colorFill:Fr,lineWidthBold:Ii,colorBgLayout:fr}=$e;return{trackPadding:Ii,trackBg:fr,itemColor:Mn,itemHoverColor:Kr,itemHoverBg:jr,itemSelectedBg:Sn,itemActiveBg:Fr,itemSelectedColor:Kr}};var an=(0,Bn.I$)("Segmented",$e=>{const{lineWidth:Mn,calc:Kr}=$e,jr=(0,En.IX)($e,{segmentedPaddingHorizontal:Kr($e.controlPaddingHorizontal).sub(Mn).equal(),segmentedPaddingHorizontalSM:Kr($e.controlPaddingHorizontalSM).sub(Mn).equal()});return[Rn(jr)]},pt),Tn=function($e,Mn){var Kr={};for(var jr in $e)Object.prototype.hasOwnProperty.call($e,jr)&&Mn.indexOf(jr)<0&&(Kr[jr]=$e[jr]);if($e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Sn=0,jr=Object.getOwnPropertySymbols($e);Sn<jr.length;Sn++)Mn.indexOf(jr[Sn])<0&&Object.prototype.propertyIsEnumerable.call($e,jr[Sn])&&(Kr[jr[Sn]]=$e[jr[Sn]]);return Kr};function me($e){return typeof $e=="object"&&!!($e!=null&&$e.icon)}var ui=s.forwardRef(($e,Mn)=>{const Kr=(0,Ar.Z)(),{prefixCls:jr,className:Sn,rootClassName:Fr,block:Ii,options:fr=[],size:st="middle",style:jt,vertical:Fn,shape:un="default",name:pn=Kr}=$e,Sr=Tn($e,["prefixCls","className","rootClassName","block","options","size","style","vertical","shape","name"]),{getPrefixCls:Vn,direction:Xr,className:ri,style:Zr}=(0,Cr.dj)("segmented"),ei=Vn("segmented",jr),[vr,hr,ur]=an(ei),wr=(0,Dr.Z)(st),yr=s.useMemo(()=>fr.map(lr=>{if(me(lr)){const{icon:Ur,label:Ln}=lr,_i=Tn(lr,["icon","label"]);return Object.assign(Object.assign({},_i),{label:s.createElement(s.Fragment,null,s.createElement("span",{className:`${ei}-item-icon`},Ur),Ln&&s.createElement("span",null,Ln))})}return lr}),[fr,ei]),Nr=J()(Sn,Fr,ri,{[`${ei}-block`]:Ii,[`${ei}-sm`]:wr==="small",[`${ei}-lg`]:wr==="large",[`${ei}-vertical`]:Fn,[`${ei}-shape-${un}`]:un==="round"},hr,ur),Xn=Object.assign(Object.assign({},Zr),jt);return vr(s.createElement(Ht,Object.assign({},Sr,{name:pn,className:Nr,style:Xn,options:yr,ref:Mn,prefixCls:ei,direction:Xr,vertical:Fn})))})},30142:function(Qr,Jt,j){"use strict";var s=j(75271),ht=j(82187),J=j.n(ht),u=j(12321),Ie=j(18051),He=j(19952),je=j(13635),Le=j(52445),_e=j(94773),oe=j(98446),Ye=j(22463),ke=j(98472),Xe=j(38437),at=j(95741),xt=j(60824),ot=j(7038),St=j(23137),Ot=j(67699),Ge=j(95799),Qt=j(80043),Pt=j(50360),Ft=j(54299),Xt=function(Ue,sn){var Bn={};for(var En in Ue)Object.prototype.hasOwnProperty.call(Ue,En)&&sn.indexOf(En)<0&&(Bn[En]=Ue[En]);if(Ue!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Be=0,En=Object.getOwnPropertySymbols(Ue);Be<En.length;Be++)sn.indexOf(En[Be])<0&&Object.prototype.propertyIsEnumerable.call(Ue,En[Be])&&(Bn[En[Be]]=Ue[En[Be]]);return Bn};const Ht="SECRET_COMBOBOX_MODE_DO_NOT_USE",Ar=(Ue,sn)=>{var Bn;const{prefixCls:En,bordered:Be,className:Gn,rootClassName:In,getPopupContainer:Rn,popupClassName:pt,dropdownClassName:an,listHeight:Tn=256,placement:me,listItemHeight:nn,size:bi,disabled:ui,notFoundContent:$e,status:Mn,builtinPlacements:Kr,dropdownMatchSelectWidth:jr,popupMatchSelectWidth:Sn,direction:Fr,style:Ii,allowClear:fr,variant:st,dropdownStyle:jt,transitionName:Fn,tagRender:un,maxCount:pn,prefix:Sr}=Ue,Vn=Xt(Ue,["prefixCls","bordered","className","rootClassName","getPopupContainer","popupClassName","dropdownClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","direction","style","allowClear","variant","dropdownStyle","transitionName","tagRender","maxCount","prefix"]),{getPopupContainer:Xr,getPrefixCls:ri,renderEmpty:Zr,direction:ei,virtual:vr,popupMatchSelectWidth:hr,popupOverflow:ur}=s.useContext(oe.E_),wr=(0,oe.dj)("select"),[,yr]=(0,Ot.ZP)(),Nr=nn!=null?nn:yr==null?void 0:yr.controlHeight,Xn=ri("select",En),lr=ri(),Ur=Fr!=null?Fr:ei,{compactSize:Ln,compactItemClassnames:_i}=(0,St.ri)(Xn,Ur),[fi,Wi]=(0,ot.Z)("select",st,Be),po=(0,Xe.Z)(Xn),[kr,no,qt]=(0,Qt.Z)(Xn,po),xn=s.useMemo(()=>{const{mode:kt}=Ue;if(kt!=="combobox")return kt===Ht?"combobox":kt},[Ue.mode]),Jn=xn==="multiple"||xn==="tags",$r=(0,Ft.Z)(Ue.suffixIcon,Ue.showArrow),li=(Bn=Sn!=null?Sn:jr)!==null&&Bn!==void 0?Bn:hr,{status:ii,hasFeedback:Ki,isFormItemInput:eo,feedbackIcon:Ro}=s.useContext(xt.aM),So=(0,_e.F)(ii,Mn);let io;$e!==void 0?io=$e:xn==="combobox"?io=null:io=(Zr==null?void 0:Zr("Select"))||s.createElement(Ye.Z,{componentName:"Select"});const{suffixIcon:Pe,itemIcon:de,removeIcon:K,clearIcon:Ne}=(0,Pt.Z)(Object.assign(Object.assign({},Vn),{multiple:Jn,hasFeedback:Ki,feedbackIcon:Ro,showSuffixIcon:$r,prefixCls:Xn,componentName:"Select"})),Je=fr===!0?{clearIcon:Ne}:fr,ge=(0,Ie.Z)(Vn,["suffixIcon","itemIcon"]),dt=J()(pt||an,{[`${Xn}-dropdown-${Ur}`]:Ur==="rtl"},In,qt,po,no),_t=(0,at.Z)(kt=>{var Kt;return(Kt=bi!=null?bi:Ln)!==null&&Kt!==void 0?Kt:kt}),Tt=s.useContext(ke.Z),Yt=ui!=null?ui:Tt,hn=J()({[`${Xn}-lg`]:_t==="large",[`${Xn}-sm`]:_t==="small",[`${Xn}-rtl`]:Ur==="rtl",[`${Xn}-${fi}`]:Wi,[`${Xn}-in-form-item`]:eo},(0,_e.Z)(Xn,So,Ki),_i,wr.className,Gn,In,qt,po,no),We=s.useMemo(()=>me!==void 0?me:Ur==="rtl"?"bottomRight":"bottomLeft",[me,Ur]),[Et]=(0,He.Cn)("SelectLike",jt==null?void 0:jt.zIndex);return kr(s.createElement(u.ZP,Object.assign({ref:sn,virtual:vr,showSearch:wr.showSearch},ge,{style:Object.assign(Object.assign({},wr.style),Ii),dropdownMatchSelectWidth:li,transitionName:(0,je.m)(lr,"slide-up",Fn),builtinPlacements:(0,Ge.Z)(Kr,ur),listHeight:Tn,listItemHeight:Nr,mode:xn,prefixCls:Xn,placement:We,direction:Ur,prefix:Sr,suffixIcon:Pe,menuItemSelectedIcon:de,removeIcon:K,allowClear:Je,notFoundContent:io,className:hn,getPopupContainer:Rn||Xr,dropdownClassName:dt,disabled:Yt,dropdownStyle:Object.assign(Object.assign({},jt),{zIndex:Et}),maxCount:Jn?pn:void 0,tagRender:Jn?un:void 0})))},Cr=s.forwardRef(Ar),Dr=(0,Le.Z)(Cr,"dropdownAlign");Cr.SECRET_COMBOBOX_MODE_DO_NOT_USE=Ht,Cr.Option=u.Wx,Cr.OptGroup=u.Xo,Cr._InternalPanelDoNotUseOrYouWillBeFired=Dr,Jt.default=Cr},95799:function(Qr,Jt){"use strict";const j=ht=>{const u={overflow:{adjustX:!0,adjustY:!0,shiftY:!0},htmlRegion:ht==="scroll"?"scroll":"visible",dynamicInset:!0};return{bottomLeft:Object.assign(Object.assign({},u),{points:["tl","bl"],offset:[0,4]}),bottomRight:Object.assign(Object.assign({},u),{points:["tr","br"],offset:[0,4]}),topLeft:Object.assign(Object.assign({},u),{points:["bl","tl"],offset:[0,-4]}),topRight:Object.assign(Object.assign({},u),{points:["br","tr"],offset:[0,-4]})}};function s(ht,J){return ht||j(J)}Jt.Z=s},80043:function(Qr,Jt,j){"use strict";j.d(Jt,{Z:function(){return En}});var s=j(34299),ht=j(9288),J=j(84825),u=j(83509),Ie=j(17877),He=j(48221);const je=Be=>{const{optionHeight:Gn,optionFontSize:In,optionLineHeight:Rn,optionPadding:pt}=Be;return{position:"relative",display:"block",minHeight:Gn,padding:pt,color:Be.colorText,fontWeight:"normal",fontSize:In,lineHeight:Rn,boxSizing:"border-box"}};var _e=Be=>{const{antCls:Gn,componentCls:In}=Be,Rn=`${In}-item`,pt=`&${Gn}-slide-up-enter${Gn}-slide-up-enter-active`,an=`&${Gn}-slide-up-appear${Gn}-slide-up-appear-active`,Tn=`&${Gn}-slide-up-leave${Gn}-slide-up-leave-active`,me=`${In}-dropdown-placement-`,nn=`${Rn}-option-selected`;return[{[`${In}-dropdown`]:Object.assign(Object.assign({},(0,s.Wf)(Be)),{position:"absolute",top:-9999,zIndex:Be.zIndexPopup,boxSizing:"border-box",padding:Be.paddingXXS,overflow:"hidden",fontSize:Be.fontSize,fontVariant:"initial",backgroundColor:Be.colorBgElevated,borderRadius:Be.borderRadiusLG,outline:"none",boxShadow:Be.boxShadowSecondary,[`
          ${pt}${me}bottomLeft,
          ${an}${me}bottomLeft
        `]:{animationName:Ie.fJ},[`
          ${pt}${me}topLeft,
          ${an}${me}topLeft,
          ${pt}${me}topRight,
          ${an}${me}topRight
        `]:{animationName:Ie.Qt},[`${Tn}${me}bottomLeft`]:{animationName:Ie.Uw},[`
          ${Tn}${me}topLeft,
          ${Tn}${me}topRight
        `]:{animationName:Ie.ly},"&-hidden":{display:"none"},[Rn]:Object.assign(Object.assign({},je(Be)),{cursor:"pointer",transition:`background ${Be.motionDurationSlow} ease`,borderRadius:Be.borderRadiusSM,"&-group":{color:Be.colorTextDescription,fontSize:Be.fontSizeSM,cursor:"default"},"&-option":{display:"flex","&-content":Object.assign({flex:"auto"},s.vS),"&-state":{flex:"none",display:"flex",alignItems:"center"},[`&-active:not(${Rn}-option-disabled)`]:{backgroundColor:Be.optionActiveBg},[`&-selected:not(${Rn}-option-disabled)`]:{color:Be.optionSelectedColor,fontWeight:Be.optionSelectedFontWeight,backgroundColor:Be.optionSelectedBg,[`${Rn}-option-state`]:{color:Be.colorPrimary}},"&-disabled":{[`&${Rn}-option-selected`]:{backgroundColor:Be.colorBgContainerDisabled},color:Be.colorTextDisabled,cursor:"not-allowed"},"&-grouped":{paddingInlineStart:Be.calc(Be.controlPaddingHorizontal).mul(2).equal()}},"&-empty":Object.assign(Object.assign({},je(Be)),{color:Be.colorTextDisabled})}),[`${nn}:has(+ ${nn})`]:{borderEndStartRadius:0,borderEndEndRadius:0,[`& + ${nn}`]:{borderStartStartRadius:0,borderStartEndRadius:0}},"&-rtl":{direction:"rtl"}})},(0,Ie.oN)(Be,"slide-up"),(0,Ie.oN)(Be,"slide-down"),(0,He.Fm)(Be,"move-up"),(0,He.Fm)(Be,"move-down")]},oe=j(17543),Ye=j(55921);function ke(Be,Gn){const{componentCls:In,inputPaddingHorizontalBase:Rn,borderRadius:pt}=Be,an=Be.calc(Be.controlHeight).sub(Be.calc(Be.lineWidth).mul(2)).equal(),Tn=Gn?`${In}-${Gn}`:"";return{[`${In}-single${Tn}`]:{fontSize:Be.fontSize,height:Be.controlHeight,[`${In}-selector`]:Object.assign(Object.assign({},(0,s.Wf)(Be,!0)),{display:"flex",borderRadius:pt,flex:"1 1 auto",[`${In}-selection-search`]:{position:"absolute",inset:0,width:"100%","&-input":{width:"100%",WebkitAppearance:"textfield"}},[`
          ${In}-selection-item,
          ${In}-selection-placeholder
        `]:{display:"block",padding:0,lineHeight:(0,Ye.bf)(an),transition:`all ${Be.motionDurationSlow}, visibility 0s`,alignSelf:"center"},[`${In}-selection-placeholder`]:{transition:"none",pointerEvents:"none"},[["&:after",`${In}-selection-item:empty:after`,`${In}-selection-placeholder:empty:after`].join(",")]:{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}}),[`
        &${In}-show-arrow ${In}-selection-item,
        &${In}-show-arrow ${In}-selection-search,
        &${In}-show-arrow ${In}-selection-placeholder
      `]:{paddingInlineEnd:Be.showArrowPaddingInlineEnd},[`&${In}-open ${In}-selection-item`]:{color:Be.colorTextPlaceholder},[`&:not(${In}-customize-input)`]:{[`${In}-selector`]:{width:"100%",height:"100%",alignItems:"center",padding:`0 ${(0,Ye.bf)(Rn)}`,[`${In}-selection-search-input`]:{height:an},"&:after":{lineHeight:(0,Ye.bf)(an)}}},[`&${In}-customize-input`]:{[`${In}-selector`]:{"&:after":{display:"none"},[`${In}-selection-search`]:{position:"static",width:"100%"},[`${In}-selection-placeholder`]:{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:`0 ${(0,Ye.bf)(Rn)}`,"&:after":{display:"none"}}}}}}}function Xe(Be){const{componentCls:Gn}=Be,In=Be.calc(Be.controlPaddingHorizontalSM).sub(Be.lineWidth).equal();return[ke(Be),ke((0,u.IX)(Be,{controlHeight:Be.controlHeightSM,borderRadius:Be.borderRadiusSM}),"sm"),{[`${Gn}-single${Gn}-sm`]:{[`&:not(${Gn}-customize-input)`]:{[`${Gn}-selector`]:{padding:`0 ${(0,Ye.bf)(In)}`},[`&${Gn}-show-arrow ${Gn}-selection-search`]:{insetInlineEnd:Be.calc(In).add(Be.calc(Be.fontSize).mul(1.5)).equal()},[`
            &${Gn}-show-arrow ${Gn}-selection-item,
            &${Gn}-show-arrow ${Gn}-selection-placeholder
          `]:{paddingInlineEnd:Be.calc(Be.fontSize).mul(1.5).equal()}}}},ke((0,u.IX)(Be,{controlHeight:Be.singleItemHeightLG,fontSize:Be.fontSizeLG,borderRadius:Be.borderRadiusLG}),"lg")]}const at=Be=>{const{fontSize:Gn,lineHeight:In,lineWidth:Rn,controlHeight:pt,controlHeightSM:an,controlHeightLG:Tn,paddingXXS:me,controlPaddingHorizontal:nn,zIndexPopupBase:bi,colorText:ui,fontWeightStrong:$e,controlItemBgActive:Mn,controlItemBgHover:Kr,colorBgContainer:jr,colorFillSecondary:Sn,colorBgContainerDisabled:Fr,colorTextDisabled:Ii,colorPrimaryHover:fr,colorPrimary:st,controlOutline:jt}=Be,Fn=me*2,un=Rn*2,pn=Math.min(pt-Fn,pt-un),Sr=Math.min(an-Fn,an-un),Vn=Math.min(Tn-Fn,Tn-un);return{INTERNAL_FIXED_ITEM_MARGIN:Math.floor(me/2),zIndexPopup:bi+50,optionSelectedColor:ui,optionSelectedFontWeight:$e,optionSelectedBg:Mn,optionActiveBg:Kr,optionPadding:`${(pt-Gn*In)/2}px ${nn}px`,optionFontSize:Gn,optionLineHeight:In,optionHeight:pt,selectorBg:jr,clearBg:jr,singleItemHeightLG:Tn,multipleItemBg:Sn,multipleItemBorderColor:"transparent",multipleItemHeight:pn,multipleItemHeightSM:Sr,multipleItemHeightLG:Vn,multipleSelectorBgDisabled:Fr,multipleItemColorDisabled:Ii,multipleItemBorderColorDisabled:"transparent",showArrowPaddingInlineEnd:Math.ceil(Be.fontSize*1.25),hoverBorderColor:fr,activeBorderColor:st,activeOutlineColor:jt,selectAffixPadding:me}},xt=(Be,Gn)=>{const{componentCls:In,antCls:Rn,controlOutlineWidth:pt}=Be;return{[`&:not(${In}-customize-input) ${In}-selector`]:{border:`${(0,Ye.bf)(Be.lineWidth)} ${Be.lineType} ${Gn.borderColor}`,background:Be.selectorBg},[`&:not(${In}-disabled):not(${In}-customize-input):not(${Rn}-pagination-size-changer)`]:{[`&:hover ${In}-selector`]:{borderColor:Gn.hoverBorderHover},[`${In}-focused& ${In}-selector`]:{borderColor:Gn.activeBorderColor,boxShadow:`0 0 0 ${(0,Ye.bf)(pt)} ${Gn.activeOutlineColor}`,outline:0},[`${In}-prefix`]:{color:Gn.color}}}},ot=(Be,Gn)=>({[`&${Be.componentCls}-status-${Gn.status}`]:Object.assign({},xt(Be,Gn))}),St=Be=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign({},xt(Be,{borderColor:Be.colorBorder,hoverBorderHover:Be.hoverBorderColor,activeBorderColor:Be.activeBorderColor,activeOutlineColor:Be.activeOutlineColor,color:Be.colorText})),ot(Be,{status:"error",borderColor:Be.colorError,hoverBorderHover:Be.colorErrorHover,activeBorderColor:Be.colorError,activeOutlineColor:Be.colorErrorOutline,color:Be.colorError})),ot(Be,{status:"warning",borderColor:Be.colorWarning,hoverBorderHover:Be.colorWarningHover,activeBorderColor:Be.colorWarning,activeOutlineColor:Be.colorWarningOutline,color:Be.colorWarning})),{[`&${Be.componentCls}-disabled`]:{[`&:not(${Be.componentCls}-customize-input) ${Be.componentCls}-selector`]:{background:Be.colorBgContainerDisabled,color:Be.colorTextDisabled}},[`&${Be.componentCls}-multiple ${Be.componentCls}-selection-item`]:{background:Be.multipleItemBg,border:`${(0,Ye.bf)(Be.lineWidth)} ${Be.lineType} ${Be.multipleItemBorderColor}`}})}),Ot=(Be,Gn)=>{const{componentCls:In,antCls:Rn}=Be;return{[`&:not(${In}-customize-input) ${In}-selector`]:{background:Gn.bg,border:`${(0,Ye.bf)(Be.lineWidth)} ${Be.lineType} transparent`,color:Gn.color},[`&:not(${In}-disabled):not(${In}-customize-input):not(${Rn}-pagination-size-changer)`]:{[`&:hover ${In}-selector`]:{background:Gn.hoverBg},[`${In}-focused& ${In}-selector`]:{background:Be.selectorBg,borderColor:Gn.activeBorderColor,outline:0}}}},Ge=(Be,Gn)=>({[`&${Be.componentCls}-status-${Gn.status}`]:Object.assign({},Ot(Be,Gn))}),Qt=Be=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign({},Ot(Be,{bg:Be.colorFillTertiary,hoverBg:Be.colorFillSecondary,activeBorderColor:Be.activeBorderColor,color:Be.colorText})),Ge(Be,{status:"error",bg:Be.colorErrorBg,hoverBg:Be.colorErrorBgHover,activeBorderColor:Be.colorError,color:Be.colorError})),Ge(Be,{status:"warning",bg:Be.colorWarningBg,hoverBg:Be.colorWarningBgHover,activeBorderColor:Be.colorWarning,color:Be.colorWarning})),{[`&${Be.componentCls}-disabled`]:{[`&:not(${Be.componentCls}-customize-input) ${Be.componentCls}-selector`]:{borderColor:Be.colorBorder,background:Be.colorBgContainerDisabled,color:Be.colorTextDisabled}},[`&${Be.componentCls}-multiple ${Be.componentCls}-selection-item`]:{background:Be.colorBgContainer,border:`${(0,Ye.bf)(Be.lineWidth)} ${Be.lineType} ${Be.colorSplit}`}})}),Pt=Be=>({"&-borderless":{[`${Be.componentCls}-selector`]:{background:"transparent",border:`${(0,Ye.bf)(Be.lineWidth)} ${Be.lineType} transparent`},[`&${Be.componentCls}-disabled`]:{[`&:not(${Be.componentCls}-customize-input) ${Be.componentCls}-selector`]:{color:Be.colorTextDisabled}},[`&${Be.componentCls}-multiple ${Be.componentCls}-selection-item`]:{background:Be.multipleItemBg,border:`${(0,Ye.bf)(Be.lineWidth)} ${Be.lineType} ${Be.multipleItemBorderColor}`},[`&${Be.componentCls}-status-error`]:{[`${Be.componentCls}-prefix, ${Be.componentCls}-selection-item`]:{color:Be.colorError}},[`&${Be.componentCls}-status-warning`]:{[`${Be.componentCls}-prefix, ${Be.componentCls}-selection-item`]:{color:Be.colorWarning}}}}),Ft=(Be,Gn)=>{const{componentCls:In,antCls:Rn}=Be;return{[`&:not(${In}-customize-input) ${In}-selector`]:{borderWidth:`0 0 ${(0,Ye.bf)(Be.lineWidth)} 0`,borderStyle:`none none ${Be.lineType} none`,borderColor:Gn.borderColor,background:Be.selectorBg,borderRadius:0},[`&:not(${In}-disabled):not(${In}-customize-input):not(${Rn}-pagination-size-changer)`]:{[`&:hover ${In}-selector`]:{borderColor:Gn.hoverBorderHover},[`${In}-focused& ${In}-selector`]:{borderColor:Gn.activeBorderColor,outline:0},[`${In}-prefix`]:{color:Gn.color}}}},Xt=(Be,Gn)=>({[`&${Be.componentCls}-status-${Gn.status}`]:Object.assign({},Ft(Be,Gn))}),Ht=Be=>({"&-underlined":Object.assign(Object.assign(Object.assign(Object.assign({},Ft(Be,{borderColor:Be.colorBorder,hoverBorderHover:Be.hoverBorderColor,activeBorderColor:Be.activeBorderColor,activeOutlineColor:Be.activeOutlineColor,color:Be.colorText})),Xt(Be,{status:"error",borderColor:Be.colorError,hoverBorderHover:Be.colorErrorHover,activeBorderColor:Be.colorError,activeOutlineColor:Be.colorErrorOutline,color:Be.colorError})),Xt(Be,{status:"warning",borderColor:Be.colorWarning,hoverBorderHover:Be.colorWarningHover,activeBorderColor:Be.colorWarning,activeOutlineColor:Be.colorWarningOutline,color:Be.colorWarning})),{[`&${Be.componentCls}-disabled`]:{[`&:not(${Be.componentCls}-customize-input) ${Be.componentCls}-selector`]:{color:Be.colorTextDisabled}},[`&${Be.componentCls}-multiple ${Be.componentCls}-selection-item`]:{background:Be.multipleItemBg,border:`${(0,Ye.bf)(Be.lineWidth)} ${Be.lineType} ${Be.multipleItemBorderColor}`}})});var Cr=Be=>({[Be.componentCls]:Object.assign(Object.assign(Object.assign(Object.assign({},St(Be)),Qt(Be)),Pt(Be)),Ht(Be))});const Dr=Be=>{const{componentCls:Gn}=Be;return{position:"relative",transition:`all ${Be.motionDurationMid} ${Be.motionEaseInOut}`,input:{cursor:"pointer"},[`${Gn}-show-search&`]:{cursor:"text",input:{cursor:"auto",color:"inherit",height:"100%"}},[`${Gn}-disabled&`]:{cursor:"not-allowed",input:{cursor:"not-allowed"}}}},Ue=Be=>{const{componentCls:Gn}=Be;return{[`${Gn}-selection-search-input`]:{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none",fontFamily:"inherit","&::-webkit-search-cancel-button":{display:"none","-webkit-appearance":"none"}}}},sn=Be=>{const{antCls:Gn,componentCls:In,inputPaddingHorizontalBase:Rn,iconCls:pt}=Be;return{[In]:Object.assign(Object.assign({},(0,s.Wf)(Be)),{position:"relative",display:"inline-flex",cursor:"pointer",[`&:not(${In}-customize-input) ${In}-selector`]:Object.assign(Object.assign({},Dr(Be)),Ue(Be)),[`${In}-selection-item`]:Object.assign(Object.assign({flex:1,fontWeight:"normal",position:"relative",userSelect:"none"},s.vS),{[`> ${Gn}-typography`]:{display:"inline"}}),[`${In}-selection-placeholder`]:Object.assign(Object.assign({},s.vS),{flex:1,color:Be.colorTextPlaceholder,pointerEvents:"none"}),[`${In}-arrow`]:Object.assign(Object.assign({},(0,s.Ro)()),{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:Rn,height:Be.fontSizeIcon,marginTop:Be.calc(Be.fontSizeIcon).mul(-1).div(2).equal(),color:Be.colorTextQuaternary,fontSize:Be.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center",transition:`opacity ${Be.motionDurationSlow} ease`,[pt]:{verticalAlign:"top",transition:`transform ${Be.motionDurationSlow}`,"> svg":{verticalAlign:"top"},[`&:not(${In}-suffix)`]:{pointerEvents:"auto"}},[`${In}-disabled &`]:{cursor:"not-allowed"},"> *:not(:last-child)":{marginInlineEnd:8}}),[`${In}-selection-wrap`]:{display:"flex",width:"100%",position:"relative",minWidth:0,"&:after":{content:'"\\a0"',width:0,overflow:"hidden"}},[`${In}-prefix`]:{flex:"none",marginInlineEnd:Be.selectAffixPadding},[`${In}-clear`]:{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:Rn,zIndex:1,display:"inline-block",width:Be.fontSizeIcon,height:Be.fontSizeIcon,marginTop:Be.calc(Be.fontSizeIcon).mul(-1).div(2).equal(),color:Be.colorTextQuaternary,fontSize:Be.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",cursor:"pointer",opacity:0,transition:`color ${Be.motionDurationMid} ease, opacity ${Be.motionDurationSlow} ease`,textRendering:"auto","&:before":{display:"block"},"&:hover":{color:Be.colorTextTertiary}},[`&:hover ${In}-clear`]:{opacity:1,background:Be.colorBgBase,borderRadius:"50%"}}),[`${In}-status`]:{"&-error, &-warning, &-success, &-validating":{[`&${In}-has-feedback`]:{[`${In}-clear`]:{insetInlineEnd:Be.calc(Rn).add(Be.fontSize).add(Be.paddingXS).equal()}}}}}},Bn=Be=>{const{componentCls:Gn}=Be;return[{[Gn]:{[`&${Gn}-in-form-item`]:{width:"100%"}}},sn(Be),Xe(Be),(0,oe.ZP)(Be),_e(Be),{[`${Gn}-rtl`]:{direction:"rtl"}},(0,ht.c)(Be,{borderElCls:`${Gn}-selector`,focusElCls:`${Gn}-focused`})]};var En=(0,J.I$)("Select",(Be,Gn)=>{let{rootPrefixCls:In}=Gn;const Rn=(0,u.IX)(Be,{rootPrefixCls:In,inputPaddingHorizontalBase:Be.calc(Be.paddingSM).sub(1).equal(),multipleSelectItemHeight:Be.multipleItemHeight,selectHeight:Be.controlHeight});return[Bn(Rn),Cr(Rn)]},at,{unitless:{optionLineHeight:!0,optionSelectedFontWeight:!0}})},17543:function(Qr,Jt,j){"use strict";j.d(Jt,{_z:function(){return He},gp:function(){return u}});var s=j(55921),ht=j(34299),J=j(83509);const u=oe=>{const{multipleSelectItemHeight:Ye,paddingXXS:ke,lineWidth:Xe,INTERNAL_FIXED_ITEM_MARGIN:at}=oe,xt=oe.max(oe.calc(ke).sub(Xe).equal(),0),ot=oe.max(oe.calc(xt).sub(at).equal(),0);return{basePadding:xt,containerPadding:ot,itemHeight:(0,s.bf)(Ye),itemLineHeight:(0,s.bf)(oe.calc(Ye).sub(oe.calc(oe.lineWidth).mul(2)).equal())}},Ie=oe=>{const{multipleSelectItemHeight:Ye,selectHeight:ke,lineWidth:Xe}=oe;return oe.calc(ke).sub(Ye).div(2).sub(Xe).equal()},He=oe=>{const{componentCls:Ye,iconCls:ke,borderRadiusSM:Xe,motionDurationSlow:at,paddingXS:xt,multipleItemColorDisabled:ot,multipleItemBorderColorDisabled:St,colorIcon:Ot,colorIconHover:Ge,INTERNAL_FIXED_ITEM_MARGIN:Qt}=oe;return{[`${Ye}-selection-overflow`]:{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"100%",display:"inline-flex"},[`${Ye}-selection-item`]:{display:"flex",alignSelf:"center",flex:"none",boxSizing:"border-box",maxWidth:"100%",marginBlock:Qt,borderRadius:Xe,cursor:"default",transition:`font-size ${at}, line-height ${at}, height ${at}`,marginInlineEnd:oe.calc(Qt).mul(2).equal(),paddingInlineStart:xt,paddingInlineEnd:oe.calc(xt).div(2).equal(),[`${Ye}-disabled&`]:{color:ot,borderColor:St,cursor:"not-allowed"},"&-content":{display:"inline-block",marginInlineEnd:oe.calc(xt).div(2).equal(),overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"},"&-remove":Object.assign(Object.assign({},(0,ht.Ro)()),{display:"inline-flex",alignItems:"center",color:Ot,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer",[`> ${ke}`]:{verticalAlign:"-0.2em"},"&:hover":{color:Ge}})}}}},je=(oe,Ye)=>{const{componentCls:ke,INTERNAL_FIXED_ITEM_MARGIN:Xe}=oe,at=`${ke}-selection-overflow`,xt=oe.multipleSelectItemHeight,ot=Ie(oe),St=Ye?`${ke}-${Ye}`:"",Ot=u(oe);return{[`${ke}-multiple${St}`]:Object.assign(Object.assign({},He(oe)),{[`${ke}-selector`]:{display:"flex",alignItems:"center",width:"100%",height:"100%",paddingInline:Ot.basePadding,paddingBlock:Ot.containerPadding,borderRadius:oe.borderRadius,[`${ke}-disabled&`]:{background:oe.multipleSelectorBgDisabled,cursor:"not-allowed"},"&:after":{display:"inline-block",width:0,margin:`${(0,s.bf)(Xe)} 0`,lineHeight:(0,s.bf)(xt),visibility:"hidden",content:'"\\a0"'}},[`${ke}-selection-item`]:{height:Ot.itemHeight,lineHeight:(0,s.bf)(Ot.itemLineHeight)},[`${ke}-selection-wrap`]:{alignSelf:"flex-start","&:after":{lineHeight:(0,s.bf)(xt),marginBlock:Xe}},[`${ke}-prefix`]:{marginInlineStart:oe.calc(oe.inputPaddingHorizontalBase).sub(Ot.basePadding).equal()},[`${at}-item + ${at}-item,
        ${ke}-prefix + ${ke}-selection-wrap
      `]:{[`${ke}-selection-search`]:{marginInlineStart:0},[`${ke}-selection-placeholder`]:{insetInlineStart:0}},[`${at}-item-suffix`]:{minHeight:Ot.itemHeight,marginBlock:Xe},[`${ke}-selection-search`]:{display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:oe.calc(oe.inputPaddingHorizontalBase).sub(ot).equal(),"\n          &-input,\n          &-mirror\n        ":{height:xt,fontFamily:oe.fontFamily,lineHeight:(0,s.bf)(xt),transition:`all ${oe.motionDurationSlow}`},"&-input":{width:"100%",minWidth:4.1},"&-mirror":{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}},[`${ke}-selection-placeholder`]:{position:"absolute",top:"50%",insetInlineStart:oe.calc(oe.inputPaddingHorizontalBase).sub(Ot.basePadding).equal(),insetInlineEnd:oe.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:`all ${oe.motionDurationSlow}`}})}};function Le(oe,Ye){const{componentCls:ke}=oe,Xe=Ye?`${ke}-${Ye}`:"",at={[`${ke}-multiple${Xe}`]:{fontSize:oe.fontSize,[`${ke}-selector`]:{[`${ke}-show-search&`]:{cursor:"text"}},[`
        &${ke}-show-arrow ${ke}-selector,
        &${ke}-allow-clear ${ke}-selector
      `]:{paddingInlineEnd:oe.calc(oe.fontSizeIcon).add(oe.controlPaddingHorizontal).equal()}}};return[je(oe,Ye),at]}const _e=oe=>{const{componentCls:Ye}=oe,ke=(0,J.IX)(oe,{selectHeight:oe.controlHeightSM,multipleSelectItemHeight:oe.multipleItemHeightSM,borderRadius:oe.borderRadiusSM,borderRadiusSM:oe.borderRadiusXS}),Xe=(0,J.IX)(oe,{fontSize:oe.fontSizeLG,selectHeight:oe.controlHeightLG,multipleSelectItemHeight:oe.multipleItemHeightLG,borderRadius:oe.borderRadiusLG,borderRadiusSM:oe.borderRadius});return[Le(oe),Le(ke,"sm"),{[`${Ye}-multiple${Ye}-sm`]:{[`${Ye}-selection-placeholder`]:{insetInline:oe.calc(oe.controlPaddingHorizontalSM).sub(oe.lineWidth).equal()},[`${Ye}-selection-search`]:{marginInlineStart:2}}},Le(Xe,"lg")]};Jt.ZP=_e},50360:function(Qr,Jt,j){"use strict";j.d(Jt,{Z:function(){return Le}});var s=j(75271),ht=j(3642),J=j(75434),u=j(14258),Ie=j(13143),He=j(24573),je=j(17023);function Le(_e){let{suffixIcon:oe,clearIcon:Ye,menuItemSelectedIcon:ke,removeIcon:Xe,loading:at,multiple:xt,hasFeedback:ot,prefixCls:St,showSuffixIcon:Ot,feedbackIcon:Ge,showArrow:Qt,componentName:Pt}=_e;const Ft=Ye!=null?Ye:s.createElement(J.Z,null),Xt=Dr=>oe===null&&!ot&&!Qt?null:s.createElement(s.Fragment,null,Ot!==!1&&Dr,ot&&Ge);let Ht=null;if(oe!==void 0)Ht=Xt(oe);else if(at)Ht=Xt(s.createElement(He.Z,{spin:!0}));else{const Dr=`${St}-suffix`;Ht=Ue=>{let{open:sn,showSearch:Bn}=Ue;return Xt(sn&&Bn?s.createElement(je.Z,{className:Dr}):s.createElement(Ie.Z,{className:Dr}))}}let Ar=null;ke!==void 0?Ar=ke:xt?Ar=s.createElement(ht.Z,null):Ar=null;let Cr=null;return Xe!==void 0?Cr=Xe:Cr=s.createElement(u.Z,null),{clearIcon:Ft,suffixIcon:Ht,itemIcon:Ar,removeIcon:Cr}}},54299:function(Qr,Jt,j){"use strict";j.d(Jt,{Z:function(){return s}});function s(ht,J){return J!==void 0?J:ht!==null}},14391:function(Qr,Jt,j){"use strict";var s=j(75271);const ht=(0,s.createContext)({});Jt.Z=ht},80300:function(Qr,Jt,j){"use strict";j.d(Jt,{Z:function(){return Ue}});var s=j(75271),ht=j(82187),J=j.n(ht),u=j(28661),Ie=j(49975),He=j(98472),je=j(14391),Le=j(42684),_e=j(9202),Ye=s.forwardRef((sn,Bn)=>{const{open:En,draggingDelete:Be}=sn,Gn=(0,s.useRef)(null),In=En&&!Be,Rn=(0,s.useRef)(null);function pt(){Ie.Z.cancel(Rn.current),Rn.current=null}function an(){Rn.current=(0,Ie.Z)(()=>{var Tn;(Tn=Gn.current)===null||Tn===void 0||Tn.forceAlign(),Rn.current=null})}return s.useEffect(()=>(In?an():pt(),pt),[In,sn.title]),s.createElement(_e.Z,Object.assign({ref:(0,Le.sQ)(Gn,Bn)},sn,{open:In}))}),ke=j(55921),Xe=j(84432),at=j(34299),xt=j(84825),ot=j(83509);const St=sn=>{const{componentCls:Bn,antCls:En,controlSize:Be,dotSize:Gn,marginFull:In,marginPart:Rn,colorFillContentHover:pt,handleColorDisabled:an,calc:Tn,handleSize:me,handleSizeHover:nn,handleActiveColor:bi,handleActiveOutlineColor:ui,handleLineWidth:$e,handleLineWidthHover:Mn,motionDurationMid:Kr}=sn;return{[Bn]:Object.assign(Object.assign({},(0,at.Wf)(sn)),{position:"relative",height:Be,margin:`${(0,ke.bf)(Rn)} ${(0,ke.bf)(In)}`,padding:0,cursor:"pointer",touchAction:"none","&-vertical":{margin:`${(0,ke.bf)(In)} ${(0,ke.bf)(Rn)}`},[`${Bn}-rail`]:{position:"absolute",backgroundColor:sn.railBg,borderRadius:sn.borderRadiusXS,transition:`background-color ${Kr}`},[`${Bn}-track,${Bn}-tracks`]:{position:"absolute",transition:`background-color ${Kr}`},[`${Bn}-track`]:{backgroundColor:sn.trackBg,borderRadius:sn.borderRadiusXS},[`${Bn}-track-draggable`]:{boxSizing:"content-box",backgroundClip:"content-box",border:"solid rgba(0,0,0,0)"},"&:hover":{[`${Bn}-rail`]:{backgroundColor:sn.railHoverBg},[`${Bn}-track`]:{backgroundColor:sn.trackHoverBg},[`${Bn}-dot`]:{borderColor:pt},[`${Bn}-handle::after`]:{boxShadow:`0 0 0 ${(0,ke.bf)($e)} ${sn.colorPrimaryBorderHover}`},[`${Bn}-dot-active`]:{borderColor:sn.dotActiveBorderColor}},[`${Bn}-handle`]:{position:"absolute",width:me,height:me,outline:"none",userSelect:"none","&-dragging-delete":{opacity:0},"&::before":{content:'""',position:"absolute",insetInlineStart:Tn($e).mul(-1).equal(),insetBlockStart:Tn($e).mul(-1).equal(),width:Tn(me).add(Tn($e).mul(2)).equal(),height:Tn(me).add(Tn($e).mul(2)).equal(),backgroundColor:"transparent"},"&::after":{content:'""',position:"absolute",insetBlockStart:0,insetInlineStart:0,width:me,height:me,backgroundColor:sn.colorBgElevated,boxShadow:`0 0 0 ${(0,ke.bf)($e)} ${sn.handleColor}`,outline:"0px solid transparent",borderRadius:"50%",cursor:"pointer",transition:`
            inset-inline-start ${Kr},
            inset-block-start ${Kr},
            width ${Kr},
            height ${Kr},
            box-shadow ${Kr},
            outline ${Kr}
          `},"&:hover, &:active, &:focus":{"&::before":{insetInlineStart:Tn(nn).sub(me).div(2).add(Mn).mul(-1).equal(),insetBlockStart:Tn(nn).sub(me).div(2).add(Mn).mul(-1).equal(),width:Tn(nn).add(Tn(Mn).mul(2)).equal(),height:Tn(nn).add(Tn(Mn).mul(2)).equal()},"&::after":{boxShadow:`0 0 0 ${(0,ke.bf)(Mn)} ${bi}`,outline:`6px solid ${ui}`,width:nn,height:nn,insetInlineStart:sn.calc(me).sub(nn).div(2).equal(),insetBlockStart:sn.calc(me).sub(nn).div(2).equal()}}},[`&-lock ${Bn}-handle`]:{"&::before, &::after":{transition:"none"}},[`${Bn}-mark`]:{position:"absolute",fontSize:sn.fontSize},[`${Bn}-mark-text`]:{position:"absolute",display:"inline-block",color:sn.colorTextDescription,textAlign:"center",wordBreak:"keep-all",cursor:"pointer",userSelect:"none","&-active":{color:sn.colorText}},[`${Bn}-step`]:{position:"absolute",background:"transparent",pointerEvents:"none"},[`${Bn}-dot`]:{position:"absolute",width:Gn,height:Gn,backgroundColor:sn.colorBgElevated,border:`${(0,ke.bf)($e)} solid ${sn.dotBorderColor}`,borderRadius:"50%",cursor:"pointer",transition:`border-color ${sn.motionDurationSlow}`,pointerEvents:"auto","&-active":{borderColor:sn.dotActiveBorderColor}},[`&${Bn}-disabled`]:{cursor:"not-allowed",[`${Bn}-rail`]:{backgroundColor:`${sn.railBg} !important`},[`${Bn}-track`]:{backgroundColor:`${sn.trackBgDisabled} !important`},[`
          ${Bn}-dot
        `]:{backgroundColor:sn.colorBgElevated,borderColor:sn.trackBgDisabled,boxShadow:"none",cursor:"not-allowed"},[`${Bn}-handle::after`]:{backgroundColor:sn.colorBgElevated,cursor:"not-allowed",width:me,height:me,boxShadow:`0 0 0 ${(0,ke.bf)($e)} ${an}`,insetInlineStart:0,insetBlockStart:0},[`
          ${Bn}-mark-text,
          ${Bn}-dot
        `]:{cursor:"not-allowed !important"}},[`&-tooltip ${En}-tooltip-inner`]:{minWidth:"unset"}})}},Ot=(sn,Bn)=>{const{componentCls:En,railSize:Be,handleSize:Gn,dotSize:In,marginFull:Rn,calc:pt}=sn,an=Bn?"paddingBlock":"paddingInline",Tn=Bn?"width":"height",me=Bn?"height":"width",nn=Bn?"insetBlockStart":"insetInlineStart",bi=Bn?"top":"insetInlineStart",ui=pt(Be).mul(3).sub(Gn).div(2).equal(),$e=pt(Gn).sub(Be).div(2).equal(),Mn=Bn?{borderWidth:`${(0,ke.bf)($e)} 0`,transform:`translateY(${(0,ke.bf)(pt($e).mul(-1).equal())})`}:{borderWidth:`0 ${(0,ke.bf)($e)}`,transform:`translateX(${(0,ke.bf)(sn.calc($e).mul(-1).equal())})`};return{[an]:Be,[me]:pt(Be).mul(3).equal(),[`${En}-rail`]:{[Tn]:"100%",[me]:Be},[`${En}-track,${En}-tracks`]:{[me]:Be},[`${En}-track-draggable`]:Object.assign({},Mn),[`${En}-handle`]:{[nn]:ui},[`${En}-mark`]:{insetInlineStart:0,top:0,[bi]:pt(Be).mul(3).add(Bn?0:Rn).equal(),[Tn]:"100%"},[`${En}-step`]:{insetInlineStart:0,top:0,[bi]:Be,[Tn]:"100%",[me]:Be},[`${En}-dot`]:{position:"absolute",[nn]:pt(Be).sub(In).div(2).equal()}}},Ge=sn=>{const{componentCls:Bn,marginPartWithMark:En}=sn;return{[`${Bn}-horizontal`]:Object.assign(Object.assign({},Ot(sn,!0)),{[`&${Bn}-with-marks`]:{marginBottom:En}})}},Qt=sn=>{const{componentCls:Bn}=sn;return{[`${Bn}-vertical`]:Object.assign(Object.assign({},Ot(sn,!1)),{height:"100%"})}},Pt=sn=>{const En=sn.controlHeightLG/4,Be=sn.controlHeightSM/2,Gn=sn.lineWidth+1,In=sn.lineWidth+1*1.5,Rn=sn.colorPrimary,pt=new Xe.t(Rn).setA(.2).toRgbString();return{controlSize:En,railSize:4,handleSize:En,handleSizeHover:Be,dotSize:8,handleLineWidth:Gn,handleLineWidthHover:In,railBg:sn.colorFillTertiary,railHoverBg:sn.colorFillSecondary,trackBg:sn.colorPrimaryBorder,trackHoverBg:sn.colorPrimaryBorderHover,handleColor:sn.colorPrimaryBorder,handleActiveColor:Rn,handleActiveOutlineColor:pt,handleColorDisabled:new Xe.t(sn.colorTextDisabled).onBackground(sn.colorBgContainer).toHexString(),dotBorderColor:sn.colorBorderSecondary,dotActiveBorderColor:sn.colorPrimaryBorder,trackBgDisabled:sn.colorBgContainerDisabled}};var Ft=(0,xt.I$)("Slider",sn=>{const Bn=(0,ot.IX)(sn,{marginPart:sn.calc(sn.controlHeight).sub(sn.controlSize).div(2).equal(),marginFull:sn.calc(sn.controlSize).div(2).equal(),marginPartWithMark:sn.calc(sn.controlHeightLG).sub(sn.controlSize).equal()});return[St(Bn),Ge(Bn),Qt(Bn)]},Pt);function Xt(){const[sn,Bn]=s.useState(!1),En=s.useRef(null),Be=()=>{Ie.Z.cancel(En.current)},Gn=In=>{Be(),In?Bn(In):En.current=(0,Ie.Z)(()=>{Bn(In)})};return s.useEffect(()=>Be,[]),[sn,Gn]}var Ht=j(98446),Ar=function(sn,Bn){var En={};for(var Be in sn)Object.prototype.hasOwnProperty.call(sn,Be)&&Bn.indexOf(Be)<0&&(En[Be]=sn[Be]);if(sn!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Gn=0,Be=Object.getOwnPropertySymbols(sn);Gn<Be.length;Gn++)Bn.indexOf(Be[Gn])<0&&Object.prototype.propertyIsEnumerable.call(sn,Be[Gn])&&(En[Be[Gn]]=sn[Be[Gn]]);return En};function Cr(sn,Bn){return sn||sn===null?sn:Bn||Bn===null?Bn:En=>typeof En=="number"?En.toString():""}var Ue=s.forwardRef((sn,Bn)=>{const{prefixCls:En,range:Be,className:Gn,rootClassName:In,style:Rn,disabled:pt,tooltipPrefixCls:an,tipFormatter:Tn,tooltipVisible:me,getTooltipPopupContainer:nn,tooltipPlacement:bi,tooltip:ui={},onChangeComplete:$e,classNames:Mn,styles:Kr}=sn,jr=Ar(sn,["prefixCls","range","className","rootClassName","style","disabled","tooltipPrefixCls","tipFormatter","tooltipVisible","getTooltipPopupContainer","tooltipPlacement","tooltip","onChangeComplete","classNames","styles"]),{vertical:Sn}=sn,{getPrefixCls:Fr,direction:Ii,className:fr,style:st,classNames:jt,styles:Fn,getPopupContainer:un}=(0,Ht.dj)("slider"),pn=s.useContext(He.Z),Sr=pt!=null?pt:pn,{handleRender:Vn,direction:Xr}=s.useContext(je.Z),Zr=(Xr||Ii)==="rtl",[ei,vr]=Xt(),[hr,ur]=Xt(),wr=Object.assign({},ui),{open:yr,placement:Nr,getPopupContainer:Xn,prefixCls:lr,formatter:Ur}=wr,Ln=yr!=null?yr:me,_i=(ei||hr)&&Ln!==!1,fi=Cr(Ur,Tn),[Wi,po]=Xt(),kr=Pe=>{$e==null||$e(Pe),po(!1)},no=(Pe,de)=>Pe||(de?Zr?"left":"right":"top"),qt=Fr("slider",En),[xn,Jn,$r]=Ft(qt),li=J()(Gn,fr,jt.root,Mn==null?void 0:Mn.root,In,{[`${qt}-rtl`]:Zr,[`${qt}-lock`]:Wi},Jn,$r);Zr&&!jr.vertical&&(jr.reverse=!jr.reverse),s.useEffect(()=>{const Pe=()=>{(0,Ie.Z)(()=>{ur(!1)},1)};return document.addEventListener("mouseup",Pe),()=>{document.removeEventListener("mouseup",Pe)}},[]);const ii=Be&&!Ln,Ki=Vn||((Pe,de)=>{const{index:K}=de,Ne=Pe.props;function Je(Tt,Yt,hn){var We,Et,kt,Kt;hn&&((Et=(We=jr)[Tt])===null||Et===void 0||Et.call(We,Yt)),(Kt=(kt=Ne)[Tt])===null||Kt===void 0||Kt.call(kt,Yt)}const ge=Object.assign(Object.assign({},Ne),{onMouseEnter:Tt=>{vr(!0),Je("onMouseEnter",Tt)},onMouseLeave:Tt=>{vr(!1),Je("onMouseLeave",Tt)},onMouseDown:Tt=>{ur(!0),po(!0),Je("onMouseDown",Tt)},onFocus:Tt=>{var Yt;ur(!0),(Yt=jr.onFocus)===null||Yt===void 0||Yt.call(jr,Tt),Je("onFocus",Tt,!0)},onBlur:Tt=>{var Yt;ur(!1),(Yt=jr.onBlur)===null||Yt===void 0||Yt.call(jr,Tt),Je("onBlur",Tt,!0)}}),dt=s.cloneElement(Pe,ge),_t=(!!Ln||_i)&&fi!==null;return ii?dt:s.createElement(Ye,Object.assign({},wr,{prefixCls:Fr("tooltip",lr!=null?lr:an),title:fi?fi(de.value):"",open:_t,placement:no(Nr!=null?Nr:bi,Sn),key:K,classNames:{root:`${qt}-tooltip`},getPopupContainer:Xn||nn||un}),dt)}),eo=ii?(Pe,de)=>{const K=s.cloneElement(Pe,{style:Object.assign(Object.assign({},Pe.props.style),{visibility:"hidden"})});return s.createElement(Ye,Object.assign({},wr,{prefixCls:Fr("tooltip",lr!=null?lr:an),title:fi?fi(de.value):"",open:fi!==null&&_i,placement:no(Nr!=null?Nr:bi,Sn),key:"tooltip",classNames:{root:`${qt}-tooltip`},getPopupContainer:Xn||nn||un,draggingDelete:de.draggingDelete}),K)}:void 0,Ro=Object.assign(Object.assign(Object.assign(Object.assign({},Fn.root),st),Kr==null?void 0:Kr.root),Rn),So=Object.assign(Object.assign({},Fn.tracks),Kr==null?void 0:Kr.tracks),io=J()(jt.tracks,Mn==null?void 0:Mn.tracks);return xn(s.createElement(u.Z,Object.assign({},jr,{classNames:Object.assign({handle:J()(jt.handle,Mn==null?void 0:Mn.handle),rail:J()(jt.rail,Mn==null?void 0:Mn.rail),track:J()(jt.track,Mn==null?void 0:Mn.track)},io?{tracks:io}:{}),styles:Object.assign({handle:Object.assign(Object.assign({},Fn.handle),Kr==null?void 0:Kr.handle),rail:Object.assign(Object.assign({},Fn.rail),Kr==null?void 0:Kr.rail),track:Object.assign(Object.assign({},Fn.track),Kr==null?void 0:Kr.track)},Object.keys(So).length?{tracks:So}:{}),step:jr.step,range:Be,className:li,style:Ro,disabled:Sr,ref:Bn,prefixCls:qt,handleRender:Ki,activeHandleRender:eo,onChangeComplete:kr})))})},23137:function(Qr,Jt,j){"use strict";j.d(Jt,{BR:function(){return Ye},ri:function(){return oe}});var s=j(75271),ht=j(82187),J=j.n(ht),u=j(81626),Ie=j(98446),He=j(95741),je=j(45936),Le=function(at,xt){var ot={};for(var St in at)Object.prototype.hasOwnProperty.call(at,St)&&xt.indexOf(St)<0&&(ot[St]=at[St]);if(at!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ot=0,St=Object.getOwnPropertySymbols(at);Ot<St.length;Ot++)xt.indexOf(St[Ot])<0&&Object.prototype.propertyIsEnumerable.call(at,St[Ot])&&(ot[St[Ot]]=at[St[Ot]]);return ot};const _e=s.createContext(null),oe=(at,xt)=>{const ot=s.useContext(_e),St=s.useMemo(()=>{if(!ot)return"";const{compactDirection:Ot,isFirstItem:Ge,isLastItem:Qt}=ot,Pt=Ot==="vertical"?"-vertical-":"-";return J()(`${at}-compact${Pt}item`,{[`${at}-compact${Pt}first-item`]:Ge,[`${at}-compact${Pt}last-item`]:Qt,[`${at}-compact${Pt}item-rtl`]:xt==="rtl"})},[at,xt,ot]);return{compactSize:ot==null?void 0:ot.compactSize,compactDirection:ot==null?void 0:ot.compactDirection,compactItemClassnames:St}},Ye=at=>{const{children:xt}=at;return s.createElement(_e.Provider,{value:null},xt)},ke=at=>{const{children:xt}=at,ot=Le(at,["children"]);return s.createElement(_e.Provider,{value:s.useMemo(()=>ot,[ot])},xt)},Xe=at=>{const{getPrefixCls:xt,direction:ot}=s.useContext(Ie.E_),{size:St,direction:Ot,block:Ge,prefixCls:Qt,className:Pt,rootClassName:Ft,children:Xt}=at,Ht=Le(at,["size","direction","block","prefixCls","className","rootClassName","children"]),Ar=(0,He.Z)(Gn=>St!=null?St:Gn),Cr=xt("space-compact",Qt),[Dr,Ue]=(0,je.Z)(Cr),sn=J()(Cr,Ue,{[`${Cr}-rtl`]:ot==="rtl",[`${Cr}-block`]:Ge,[`${Cr}-vertical`]:Ot==="vertical"},Pt,Ft),Bn=s.useContext(_e),En=(0,u.Z)(Xt),Be=s.useMemo(()=>En.map((Gn,In)=>{const Rn=(Gn==null?void 0:Gn.key)||`${Cr}-item-${In}`;return s.createElement(ke,{key:Rn,compactSize:Ar,compactDirection:Ot,isFirstItem:In===0&&(!Bn||(Bn==null?void 0:Bn.isFirstItem)),isLastItem:In===En.length-1&&(!Bn||(Bn==null?void 0:Bn.isLastItem))},Gn)}),[St,En,Bn]);return En.length===0?null:Dr(s.createElement("div",Object.assign({className:sn},Ht),Be))};Jt.ZP=Xe},45936:function(Qr,Jt,j){"use strict";j.d(Jt,{Z:function(){return Le}});var s=j(84825),ht=j(83509),u=_e=>{const{componentCls:oe}=_e;return{[oe]:{"&-block":{display:"flex",width:"100%"},"&-vertical":{flexDirection:"column"}}}};const Ie=_e=>{const{componentCls:oe,antCls:Ye}=_e;return{[oe]:{display:"inline-flex","&-rtl":{direction:"rtl"},"&-vertical":{flexDirection:"column"},"&-align":{flexDirection:"column","&-center":{alignItems:"center"},"&-start":{alignItems:"flex-start"},"&-end":{alignItems:"flex-end"},"&-baseline":{alignItems:"baseline"}},[`${oe}-item:empty`]:{display:"none"},[`${oe}-item > ${Ye}-badge-not-a-wrapper:only-child`]:{display:"block"}}}},He=_e=>{const{componentCls:oe}=_e;return{[oe]:{"&-gap-row-small":{rowGap:_e.spaceGapSmallSize},"&-gap-row-middle":{rowGap:_e.spaceGapMiddleSize},"&-gap-row-large":{rowGap:_e.spaceGapLargeSize},"&-gap-col-small":{columnGap:_e.spaceGapSmallSize},"&-gap-col-middle":{columnGap:_e.spaceGapMiddleSize},"&-gap-col-large":{columnGap:_e.spaceGapLargeSize}}}},je=()=>({});var Le=(0,s.I$)("Space",_e=>{const oe=(0,ht.IX)(_e,{spaceGapSmallSize:_e.paddingXS,spaceGapMiddleSize:_e.padding,spaceGapLargeSize:_e.paddingLG});return[Ie(oe),He(oe),u(oe)]},()=>({}),{resetStyle:!1})},9288:function(Qr,Jt,j){"use strict";j.d(Jt,{c:function(){return J}});function s(u,Ie,He){const{focusElCls:je,focus:Le,borderElCls:_e}=He,oe=_e?"> *":"",Ye=["hover",Le?"focus":null,"active"].filter(Boolean).map(ke=>`&:${ke} ${oe}`).join(",");return{[`&-item:not(${Ie}-last-item)`]:{marginInlineEnd:u.calc(u.lineWidth).mul(-1).equal()},"&-item":Object.assign(Object.assign({[Ye]:{zIndex:2}},je?{[`&${je}`]:{zIndex:2}}:{}),{[`&[disabled] ${oe}`]:{zIndex:0}})}}function ht(u,Ie,He){const{borderElCls:je}=He,Le=je?`> ${je}`:"";return{[`&-item:not(${Ie}-first-item):not(${Ie}-last-item) ${Le}`]:{borderRadius:0},[`&-item:not(${Ie}-last-item)${Ie}-first-item`]:{[`& ${Le}, &${u}-sm ${Le}, &${u}-lg ${Le}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${Ie}-first-item)${Ie}-last-item`]:{[`& ${Le}, &${u}-sm ${Le}, &${u}-lg ${Le}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function J(u){let Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{focus:!0};const{componentCls:He}=u,je=`${He}-compact`;return{[je]:Object.assign(Object.assign({},s(u,je,Ie)),ht(He,je,Ie))}}},34299:function(Qr,Jt,j){"use strict";j.d(Jt,{JT:function(){return oe},Lx:function(){return He},Nd:function(){return Ye},Qy:function(){return _e},Ro:function(){return u},Wf:function(){return J},dF:function(){return Ie},du:function(){return je},oN:function(){return Le},vS:function(){return ht}});var s=j(55921);const ht={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},J=function(ke){let Xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{boxSizing:"border-box",margin:0,padding:0,color:ke.colorText,fontSize:ke.fontSize,lineHeight:ke.lineHeight,listStyle:"none",fontFamily:Xe?"inherit":ke.fontFamily}},u=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),Ie=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),He=ke=>({a:{color:ke.colorLink,textDecoration:ke.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${ke.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:ke.colorLinkHover},"&:active":{color:ke.colorLinkActive},"&:active, &:hover":{textDecoration:ke.linkHoverDecoration,outline:0},"&:focus":{textDecoration:ke.linkFocusDecoration,outline:0},"&[disabled]":{color:ke.colorTextDisabled,cursor:"not-allowed"}}}),je=(ke,Xe,at,xt)=>{const ot=`[class^="${Xe}"], [class*=" ${Xe}"]`,St=at?`.${at}`:ot,Ot={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let Ge={};return xt!==!1&&(Ge={fontFamily:ke.fontFamily,fontSize:ke.fontSize}),{[St]:Object.assign(Object.assign(Object.assign({},Ge),Ot),{[ot]:Ot})}},Le=(ke,Xe)=>({outline:`${(0,s.bf)(ke.lineWidthFocus)} solid ${ke.colorPrimaryBorder}`,outlineOffset:Xe!=null?Xe:1,transition:"outline-offset 0s, outline 0s"}),_e=(ke,Xe)=>({"&:focus-visible":Object.assign({},Le(ke,Xe))}),oe=ke=>({[`.${ke}`]:Object.assign(Object.assign({},u()),{[`.${ke} .${ke}-icon`]:{display:"block"}})}),Ye=ke=>Object.assign(Object.assign({color:ke.colorLink,textDecoration:ke.linkDecoration,outline:"none",cursor:"pointer",transition:`all ${ke.motionDurationSlow}`,border:0,padding:0,background:"none",userSelect:"none"},_e(ke)),{"&:focus, &:hover":{color:ke.colorLinkHover},"&:active":{color:ke.colorLinkActive}})},40894:function(Qr,Jt){"use strict";const j=s=>({[s.componentCls]:{[`${s.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${s.motionDurationMid} ${s.motionEaseInOut},
        opacity ${s.motionDurationMid} ${s.motionEaseInOut} !important`}},[`${s.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${s.motionDurationMid} ${s.motionEaseInOut},
        opacity ${s.motionDurationMid} ${s.motionEaseInOut} !important`}}});Jt.Z=j},79318:function(Qr,Jt,j){"use strict";j.d(Jt,{R:function(){return J}});const s=u=>({animationDuration:u,animationFillMode:"both"}),ht=u=>({animationDuration:u,animationFillMode:"both"}),J=function(u,Ie,He,je){const _e=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${_e}${u}-enter,
      ${_e}${u}-appear
    `]:Object.assign(Object.assign({},s(je)),{animationPlayState:"paused"}),[`${_e}${u}-leave`]:Object.assign(Object.assign({},ht(je)),{animationPlayState:"paused"}),[`
      ${_e}${u}-enter${u}-enter-active,
      ${_e}${u}-appear${u}-appear-active
    `]:{animationName:Ie,animationPlayState:"running"},[`${_e}${u}-leave${u}-leave-active`]:{animationName:He,animationPlayState:"running",pointerEvents:"none"}}}},48221:function(Qr,Jt,j){"use strict";j.d(Jt,{Fm:function(){return ke}});var s=j(55921),ht=j(79318);const J=new s.E4("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),u=new s.E4("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),Ie=new s.E4("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),He=new s.E4("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),je=new s.E4("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),Le=new s.E4("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),_e=new s.E4("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),oe=new s.E4("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}}),Ye={"move-up":{inKeyframes:_e,outKeyframes:oe},"move-down":{inKeyframes:J,outKeyframes:u},"move-left":{inKeyframes:Ie,outKeyframes:He},"move-right":{inKeyframes:je,outKeyframes:Le}},ke=(Xe,at)=>{const{antCls:xt}=Xe,ot=`${xt}-${at}`,{inKeyframes:St,outKeyframes:Ot}=Ye[at];return[(0,ht.R)(ot,St,Ot,Xe.motionDurationMid),{[`
        ${ot}-enter,
        ${ot}-appear
      `]:{opacity:0,animationTimingFunction:Xe.motionEaseOutCirc},[`${ot}-leave`]:{animationTimingFunction:Xe.motionEaseInOutCirc}}]}},17877:function(Qr,Jt,j){"use strict";j.d(Jt,{Qt:function(){return Ie},Uw:function(){return u},fJ:function(){return J},ly:function(){return He},oN:function(){return ke}});var s=j(55921),ht=j(79318);const J=new s.E4("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),u=new s.E4("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),Ie=new s.E4("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),He=new s.E4("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),je=new s.E4("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),Le=new s.E4("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),_e=new s.E4("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),oe=new s.E4("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),Ye={"slide-up":{inKeyframes:J,outKeyframes:u},"slide-down":{inKeyframes:Ie,outKeyframes:He},"slide-left":{inKeyframes:je,outKeyframes:Le},"slide-right":{inKeyframes:_e,outKeyframes:oe}},ke=(Xe,at)=>{const{antCls:xt}=Xe,ot=`${xt}-${at}`,{inKeyframes:St,outKeyframes:Ot}=Ye[at];return[(0,ht.R)(ot,St,Ot,Xe.motionDurationMid),{[`
      ${ot}-enter,
      ${ot}-appear
    `]:{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:Xe.motionEaseOutQuint,"&-prepare":{transform:"scale(1)"}},[`${ot}-leave`]:{animationTimingFunction:Xe.motionEaseInQuint}}]}},3153:function(Qr,Jt,j){"use strict";j.d(Jt,{_y:function(){return ot},kr:function(){return J}});var s=j(55921),ht=j(79318);const J=new s.E4("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),u=new s.E4("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),Ie=new s.E4("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),He=new s.E4("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),je=new s.E4("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),Le=new s.E4("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),_e=new s.E4("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),oe=new s.E4("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),Ye=new s.E4("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),ke=new s.E4("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),Xe=new s.E4("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),at=new s.E4("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),xt={zoom:{inKeyframes:J,outKeyframes:u},"zoom-big":{inKeyframes:Ie,outKeyframes:He},"zoom-big-fast":{inKeyframes:Ie,outKeyframes:He},"zoom-left":{inKeyframes:_e,outKeyframes:oe},"zoom-right":{inKeyframes:Ye,outKeyframes:ke},"zoom-up":{inKeyframes:je,outKeyframes:Le},"zoom-down":{inKeyframes:Xe,outKeyframes:at}},ot=(St,Ot)=>{const{antCls:Ge}=St,Qt=`${Ge}-${Ot}`,{inKeyframes:Pt,outKeyframes:Ft}=xt[Ot];return[(0,ht.R)(Qt,Pt,Ft,Ot==="zoom-big-fast"?St.motionDurationFast:St.motionDurationMid),{[`
        ${Qt}-enter,
        ${Qt}-appear
      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:St.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${Qt}-leave`]:{animationTimingFunction:St.motionEaseInOutCirc}}]}},18533:function(Qr,Jt,j){"use strict";j.d(Jt,{ZP:function(){return He},qN:function(){return J},wZ:function(){return u}});var s=j(55921),ht=j(2276);const J=8;function u(je){const{contentRadius:Le,limitVerticalRadius:_e}=je,oe=Le>12?Le+2:12;return{arrowOffsetHorizontal:oe,arrowOffsetVertical:_e?J:oe}}function Ie(je,Le){return je?Le:{}}function He(je,Le,_e){const{componentCls:oe,boxShadowPopoverArrow:Ye,arrowOffsetVertical:ke,arrowOffsetHorizontal:Xe}=je,{arrowDistance:at=0,arrowPlacement:xt={left:!0,right:!0,top:!0,bottom:!0}}=_e||{};return{[oe]:Object.assign(Object.assign(Object.assign(Object.assign({[`${oe}-arrow`]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},(0,ht.W)(je,Le,Ye)),{"&:before":{background:Le}})]},Ie(!!xt.top,{[[`&-placement-top > ${oe}-arrow`,`&-placement-topLeft > ${oe}-arrow`,`&-placement-topRight > ${oe}-arrow`].join(",")]:{bottom:at,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top > ${oe}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},"&-placement-topLeft":{"--arrow-offset-horizontal":Xe,[`> ${oe}-arrow`]:{left:{_skip_check_:!0,value:Xe}}},"&-placement-topRight":{"--arrow-offset-horizontal":`calc(100% - ${(0,s.bf)(Xe)})`,[`> ${oe}-arrow`]:{right:{_skip_check_:!0,value:Xe}}}})),Ie(!!xt.bottom,{[[`&-placement-bottom > ${oe}-arrow`,`&-placement-bottomLeft > ${oe}-arrow`,`&-placement-bottomRight > ${oe}-arrow`].join(",")]:{top:at,transform:"translateY(-100%)"},[`&-placement-bottom > ${oe}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},"&-placement-bottomLeft":{"--arrow-offset-horizontal":Xe,[`> ${oe}-arrow`]:{left:{_skip_check_:!0,value:Xe}}},"&-placement-bottomRight":{"--arrow-offset-horizontal":`calc(100% - ${(0,s.bf)(Xe)})`,[`> ${oe}-arrow`]:{right:{_skip_check_:!0,value:Xe}}}})),Ie(!!xt.left,{[[`&-placement-left > ${oe}-arrow`,`&-placement-leftTop > ${oe}-arrow`,`&-placement-leftBottom > ${oe}-arrow`].join(",")]:{right:{_skip_check_:!0,value:at},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left > ${oe}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop > ${oe}-arrow`]:{top:ke},[`&-placement-leftBottom > ${oe}-arrow`]:{bottom:ke}})),Ie(!!xt.right,{[[`&-placement-right > ${oe}-arrow`,`&-placement-rightTop > ${oe}-arrow`,`&-placement-rightBottom > ${oe}-arrow`].join(",")]:{left:{_skip_check_:!0,value:at},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right > ${oe}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop > ${oe}-arrow`]:{top:ke},[`&-placement-rightBottom > ${oe}-arrow`]:{bottom:ke}}))}}},2276:function(Qr,Jt,j){"use strict";j.d(Jt,{W:function(){return J},w:function(){return ht}});var s=j(55921);function ht(u){const{sizePopupArrow:Ie,borderRadiusXS:He,borderRadiusOuter:je}=u,Le=Ie/2,_e=0,oe=Le,Ye=je*1/Math.sqrt(2),ke=Le-je*(1-1/Math.sqrt(2)),Xe=Le-He*(1/Math.sqrt(2)),at=je*(Math.sqrt(2)-1)+He*(1/Math.sqrt(2)),xt=2*Le-Xe,ot=at,St=2*Le-Ye,Ot=ke,Ge=2*Le-_e,Qt=oe,Pt=Le*Math.sqrt(2)+je*(Math.sqrt(2)-2),Ft=je*(Math.sqrt(2)-1),Xt=`polygon(${Ft}px 100%, 50% ${Ft}px, ${2*Le-Ft}px 100%, ${Ft}px 100%)`,Ht=`path('M ${_e} ${oe} A ${je} ${je} 0 0 0 ${Ye} ${ke} L ${Xe} ${at} A ${He} ${He} 0 0 1 ${xt} ${ot} L ${St} ${Ot} A ${je} ${je} 0 0 0 ${Ge} ${Qt} Z')`;return{arrowShadowWidth:Pt,arrowPath:Ht,arrowPolygon:Xt}}const J=(u,Ie,He)=>{const{sizePopupArrow:je,arrowPolygon:Le,arrowPath:_e,arrowShadowWidth:oe,borderRadiusXS:Ye,calc:ke}=u;return{pointerEvents:"none",width:je,height:je,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:je,height:ke(je).div(2).equal(),background:Ie,clipPath:{_multi_value_:!0,value:[Le,_e]},content:'""'},"&::after":{content:'""',position:"absolute",width:oe,height:oe,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${(0,s.bf)(Ye)} 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:He,zIndex:0,background:"transparent"}}}},20284:function(Qr,Jt,j){"use strict";j.d(Jt,{Mj:function(){return u},u_:function(){return J}});var s=j(75271),ht=j(30767);const J={token:ht.Z,override:{override:ht.Z},hashed:!0},u=s.createContext(J)},98990:function(Qr,Jt,j){"use strict";j.d(Jt,{i:function(){return s}});const s=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"]},28893:function(Qr,Jt,j){"use strict";j.d(Jt,{Z:function(){return xt}});var s=j(68640),ht=j(30767),J=j(40329),Ie=ot=>{let St=ot,Ot=ot,Ge=ot,Qt=ot;return ot<6&&ot>=5?St=ot+1:ot<16&&ot>=6?St=ot+2:ot>=16&&(St=16),ot<7&&ot>=5?Ot=4:ot<8&&ot>=7?Ot=5:ot<14&&ot>=8?Ot=6:ot<16&&ot>=14?Ot=7:ot>=16&&(Ot=8),ot<6&&ot>=2?Ge=1:ot>=6&&(Ge=2),ot>4&&ot<8?Qt=4:ot>=8&&(Qt=6),{borderRadius:ot,borderRadiusXS:Ge,borderRadiusSM:Ot,borderRadiusLG:St,borderRadiusOuter:Qt}};function He(ot){const{motionUnit:St,motionBase:Ot,borderRadius:Ge,lineWidth:Qt}=ot;return Object.assign({motionDurationFast:`${(Ot+St).toFixed(1)}s`,motionDurationMid:`${(Ot+St*2).toFixed(1)}s`,motionDurationSlow:`${(Ot+St*3).toFixed(1)}s`,lineWidthBold:Qt+1},Ie(Ge))}var je=j(10154),Le=j(79319);function _e(ot){const{sizeUnit:St,sizeStep:Ot}=ot;return{sizeXXL:St*(Ot+8),sizeXL:St*(Ot+4),sizeLG:St*(Ot+2),sizeMD:St*(Ot+1),sizeMS:St*Ot,size:St*Ot,sizeSM:St*(Ot-1),sizeXS:St*(Ot-2),sizeXXS:St*(Ot-3)}}var oe=j(84432);const Ye=(ot,St)=>new oe.t(ot).setA(St).toRgbString(),ke=(ot,St)=>new oe.t(ot).darken(St).toHexString(),Xe=ot=>{const St=(0,s.R_)(ot);return{1:St[0],2:St[1],3:St[2],4:St[3],5:St[4],6:St[5],7:St[6],8:St[4],9:St[5],10:St[6]}},at=(ot,St)=>{const Ot=ot||"#fff",Ge=St||"#000";return{colorBgBase:Ot,colorTextBase:Ge,colorText:Ye(Ge,.88),colorTextSecondary:Ye(Ge,.65),colorTextTertiary:Ye(Ge,.45),colorTextQuaternary:Ye(Ge,.25),colorFill:Ye(Ge,.15),colorFillSecondary:Ye(Ge,.06),colorFillTertiary:Ye(Ge,.04),colorFillQuaternary:Ye(Ge,.02),colorBgSolid:Ye(Ge,1),colorBgSolidHover:Ye(Ge,.75),colorBgSolidActive:Ye(Ge,.95),colorBgLayout:ke(Ot,4),colorBgContainer:ke(Ot,0),colorBgElevated:ke(Ot,0),colorBgSpotlight:Ye(Ge,.85),colorBgBlur:"transparent",colorBorder:ke(Ot,15),colorBorderSecondary:ke(Ot,6)}};function xt(ot){s.ez.pink=s.ez.magenta,s.Ti.pink=s.Ti.magenta;const St=Object.keys(ht.M).map(Ot=>{const Ge=ot[Ot]===s.ez[Ot]?s.Ti[Ot]:(0,s.R_)(ot[Ot]);return Array.from({length:10},()=>1).reduce((Qt,Pt,Ft)=>(Qt[`${Ot}-${Ft+1}`]=Ge[Ft],Qt[`${Ot}${Ft+1}`]=Ge[Ft],Qt),{})}).reduce((Ot,Ge)=>(Ot=Object.assign(Object.assign({},Ot),Ge),Ot),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ot),St),(0,J.Z)(ot,{generateColorPalettes:Xe,generateNeutralColorPalettes:at})),(0,Le.Z)(ot.fontSize)),_e(ot)),(0,je.Z)(ot)),He(ot))}},38920:function(Qr,Jt,j){"use strict";var s=j(55921),ht=j(28893);const J=(0,s.jG)(ht.Z);Jt.Z=J},30767:function(Qr,Jt,j){"use strict";j.d(Jt,{M:function(){return s}});const s={blue:"#1677FF",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#EB2F96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},ht=Object.assign(Object.assign({},s),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0});Jt.Z=ht},40329:function(Qr,Jt,j){"use strict";j.d(Jt,{Z:function(){return ht}});var s=j(84432);function ht(J,u){let{generateColorPalettes:Ie,generateNeutralColorPalettes:He}=u;const{colorSuccess:je,colorWarning:Le,colorError:_e,colorInfo:oe,colorPrimary:Ye,colorBgBase:ke,colorTextBase:Xe}=J,at=Ie(Ye),xt=Ie(je),ot=Ie(Le),St=Ie(_e),Ot=Ie(oe),Ge=He(ke,Xe),Qt=J.colorLink||J.colorInfo,Pt=Ie(Qt),Ft=new s.t(St[1]).mix(new s.t(St[3]),50).toHexString();return Object.assign(Object.assign({},Ge),{colorPrimaryBg:at[1],colorPrimaryBgHover:at[2],colorPrimaryBorder:at[3],colorPrimaryBorderHover:at[4],colorPrimaryHover:at[5],colorPrimary:at[6],colorPrimaryActive:at[7],colorPrimaryTextHover:at[8],colorPrimaryText:at[9],colorPrimaryTextActive:at[10],colorSuccessBg:xt[1],colorSuccessBgHover:xt[2],colorSuccessBorder:xt[3],colorSuccessBorderHover:xt[4],colorSuccessHover:xt[4],colorSuccess:xt[6],colorSuccessActive:xt[7],colorSuccessTextHover:xt[8],colorSuccessText:xt[9],colorSuccessTextActive:xt[10],colorErrorBg:St[1],colorErrorBgHover:St[2],colorErrorBgFilledHover:Ft,colorErrorBgActive:St[3],colorErrorBorder:St[3],colorErrorBorderHover:St[4],colorErrorHover:St[5],colorError:St[6],colorErrorActive:St[7],colorErrorTextHover:St[8],colorErrorText:St[9],colorErrorTextActive:St[10],colorWarningBg:ot[1],colorWarningBgHover:ot[2],colorWarningBorder:ot[3],colorWarningBorderHover:ot[4],colorWarningHover:ot[4],colorWarning:ot[6],colorWarningActive:ot[7],colorWarningTextHover:ot[8],colorWarningText:ot[9],colorWarningTextActive:ot[10],colorInfoBg:Ot[1],colorInfoBgHover:Ot[2],colorInfoBorder:Ot[3],colorInfoBorderHover:Ot[4],colorInfoHover:Ot[4],colorInfo:Ot[6],colorInfoActive:Ot[7],colorInfoTextHover:Ot[8],colorInfoText:Ot[9],colorInfoTextActive:Ot[10],colorLinkHover:Pt[4],colorLink:Pt[6],colorLinkActive:Pt[7],colorBgMask:new s.t("#000").setA(.45).toRgbString(),colorWhite:"#fff"})}},10154:function(Qr,Jt){"use strict";const j=s=>{const{controlHeight:ht}=s;return{controlHeightSM:ht*.75,controlHeightXS:ht*.5,controlHeightLG:ht*1.25}};Jt.Z=j},79319:function(Qr,Jt,j){"use strict";var s=j(78611);const ht=J=>{const u=(0,s.Z)(J),Ie=u.map(Xe=>Xe.size),He=u.map(Xe=>Xe.lineHeight),je=Ie[1],Le=Ie[0],_e=Ie[2],oe=He[1],Ye=He[0],ke=He[2];return{fontSizeSM:Le,fontSize:je,fontSizeLG:_e,fontSizeXL:Ie[3],fontSizeHeading1:Ie[6],fontSizeHeading2:Ie[5],fontSizeHeading3:Ie[4],fontSizeHeading4:Ie[3],fontSizeHeading5:Ie[2],lineHeight:oe,lineHeightLG:ke,lineHeightSM:Ye,fontHeight:Math.round(oe*je),fontHeightLG:Math.round(ke*_e),fontHeightSM:Math.round(Ye*Le),lineHeightHeading1:He[6],lineHeightHeading2:He[5],lineHeightHeading3:He[4],lineHeightHeading4:He[3],lineHeightHeading5:He[2]}};Jt.Z=ht},78611:function(Qr,Jt,j){"use strict";j.d(Jt,{D:function(){return s},Z:function(){return ht}});function s(J){return(J+8)/J}function ht(J){const u=Array.from({length:10}).map((Ie,He)=>{const je=He-1,Le=J*Math.pow(Math.E,je/5),_e=He>1?Math.floor(Le):Math.ceil(Le);return Math.floor(_e/2)*2});return u[1]=J,u.map(Ie=>({size:Ie,lineHeight:s(Ie)}))}},67699:function(Qr,Jt,j){"use strict";j.d(Jt,{NJ:function(){return _e},ZP:function(){return Xe}});var s=j(75271),ht=j(55921),J=j(41424),u=j(20284),Ie=j(38920),He=j(30767),je=j(33598),Le=function(at,xt){var ot={};for(var St in at)Object.prototype.hasOwnProperty.call(at,St)&&xt.indexOf(St)<0&&(ot[St]=at[St]);if(at!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ot=0,St=Object.getOwnPropertySymbols(at);Ot<St.length;Ot++)xt.indexOf(St[Ot])<0&&Object.prototype.propertyIsEnumerable.call(at,St[Ot])&&(ot[St[Ot]]=at[St[Ot]]);return ot};const _e={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0,opacityImage:!0},oe={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},Ye={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},ke=(at,xt,ot)=>{const St=ot.getDerivativeToken(at),{override:Ot}=xt,Ge=Le(xt,["override"]);let Qt=Object.assign(Object.assign({},St),{override:Ot});return Qt=(0,je.Z)(Qt),Ge&&Object.entries(Ge).forEach(Pt=>{let[Ft,Xt]=Pt;const{theme:Ht}=Xt,Ar=Le(Xt,["theme"]);let Cr=Ar;Ht&&(Cr=ke(Object.assign(Object.assign({},Qt),Ar),{override:Ar},Ht)),Qt[Ft]=Cr}),Qt};function Xe(){const{token:at,hashed:xt,theme:ot,override:St,cssVar:Ot}=s.useContext(u.Mj),Ge=`${J.Z}-${xt||""}`,Qt=ot||Ie.Z,[Pt,Ft,Xt]=(0,ht.fp)(Qt,[He.Z,at],{salt:Ge,override:St,getComputedToken:ke,formatToken:je.Z,cssVar:Ot&&{prefix:Ot.prefix,key:Ot.key,unitless:_e,ignore:oe,preserve:Ye}});return[Qt,Xt,xt?Ft:"",Pt,Ot]}},33598:function(Qr,Jt,j){"use strict";j.d(Jt,{Z:function(){return Ie}});var s=j(84432),ht=j(30767),J=j(58570),u=function(He,je){var Le={};for(var _e in He)Object.prototype.hasOwnProperty.call(He,_e)&&je.indexOf(_e)<0&&(Le[_e]=He[_e]);if(He!=null&&typeof Object.getOwnPropertySymbols=="function")for(var oe=0,_e=Object.getOwnPropertySymbols(He);oe<_e.length;oe++)je.indexOf(_e[oe])<0&&Object.prototype.propertyIsEnumerable.call(He,_e[oe])&&(Le[_e[oe]]=He[_e[oe]]);return Le};function Ie(He){const{override:je}=He,Le=u(He,["override"]),_e=Object.assign({},je);Object.keys(ht.Z).forEach(Ot=>{delete _e[Ot]});const oe=Object.assign(Object.assign({},Le),_e),Ye=480,ke=576,Xe=768,at=992,xt=1200,ot=1600;if(oe.motion===!1){const Ot="0s";oe.motionDurationFast=Ot,oe.motionDurationMid=Ot,oe.motionDurationSlow=Ot}return Object.assign(Object.assign(Object.assign({},oe),{colorFillContent:oe.colorFillSecondary,colorFillContentHover:oe.colorFill,colorFillAlter:oe.colorFillQuaternary,colorBgContainerDisabled:oe.colorFillTertiary,colorBorderBg:oe.colorBgContainer,colorSplit:(0,J.Z)(oe.colorBorderSecondary,oe.colorBgContainer),colorTextPlaceholder:oe.colorTextQuaternary,colorTextDisabled:oe.colorTextQuaternary,colorTextHeading:oe.colorText,colorTextLabel:oe.colorTextSecondary,colorTextDescription:oe.colorTextTertiary,colorTextLightSolid:oe.colorWhite,colorHighlight:oe.colorError,colorBgTextHover:oe.colorFillSecondary,colorBgTextActive:oe.colorFill,colorIcon:oe.colorTextTertiary,colorIconHover:oe.colorText,colorErrorOutline:(0,J.Z)(oe.colorErrorBg,oe.colorBgContainer),colorWarningOutline:(0,J.Z)(oe.colorWarningBg,oe.colorBgContainer),fontSizeIcon:oe.fontSizeSM,lineWidthFocus:oe.lineWidth*3,lineWidth:oe.lineWidth,controlOutlineWidth:oe.lineWidth*2,controlInteractiveSize:oe.controlHeight/2,controlItemBgHover:oe.colorFillTertiary,controlItemBgActive:oe.colorPrimaryBg,controlItemBgActiveHover:oe.colorPrimaryBgHover,controlItemBgActiveDisabled:oe.colorFill,controlTmpOutline:oe.colorFillQuaternary,controlOutline:(0,J.Z)(oe.colorPrimaryBg,oe.colorBgContainer),lineType:oe.lineType,borderRadius:oe.borderRadius,borderRadiusXS:oe.borderRadiusXS,borderRadiusSM:oe.borderRadiusSM,borderRadiusLG:oe.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:oe.sizeXXS,paddingXS:oe.sizeXS,paddingSM:oe.sizeSM,padding:oe.size,paddingMD:oe.sizeMD,paddingLG:oe.sizeLG,paddingXL:oe.sizeXL,paddingContentHorizontalLG:oe.sizeLG,paddingContentVerticalLG:oe.sizeMS,paddingContentHorizontal:oe.sizeMS,paddingContentVertical:oe.sizeSM,paddingContentHorizontalSM:oe.size,paddingContentVerticalSM:oe.sizeXS,marginXXS:oe.sizeXXS,marginXS:oe.sizeXS,marginSM:oe.sizeSM,margin:oe.size,marginMD:oe.sizeMD,marginLG:oe.sizeLG,marginXL:oe.sizeXL,marginXXL:oe.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:Ye,screenXSMin:Ye,screenXSMax:ke-1,screenSM:ke,screenSMMin:ke,screenSMMax:Xe-1,screenMD:Xe,screenMDMin:Xe,screenMDMax:at-1,screenLG:at,screenLGMin:at,screenLGMax:xt-1,screenXL:xt,screenXLMin:xt,screenXLMax:ot-1,screenXXL:ot,screenXXLMin:ot,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new s.t("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new s.t("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new s.t("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),_e)}},75428:function(Qr,Jt,j){"use strict";j.d(Jt,{Z:function(){return ht}});var s=j(98990);function ht(J,u){return s.i.reduce((Ie,He)=>{const je=J[`${He}1`],Le=J[`${He}3`],_e=J[`${He}6`],oe=J[`${He}7`];return Object.assign(Object.assign({},Ie),u(He,{lightColor:je,lightBorderColor:Le,darkColor:_e,textColor:oe}))},{})}},84825:function(Qr,Jt,j){"use strict";j.d(Jt,{A1:function(){return je},I$:function(){return He},bk:function(){return Le}});var s=j(75271),ht=j(83509),J=j(98446),u=j(34299),Ie=j(67699);const{genStyleHooks:He,genComponentStyleHook:je,genSubStyleComponent:Le}=(0,ht.rb)({usePrefix:()=>{const{getPrefixCls:_e,iconPrefixCls:oe}=(0,s.useContext)(J.E_);return{rootPrefixCls:_e(),iconPrefixCls:oe}},useToken:()=>{const[_e,oe,Ye,ke,Xe]=(0,Ie.ZP)();return{theme:_e,realToken:oe,hashId:Ye,token:ke,cssVar:Xe}},useCSP:()=>{const{csp:_e}=(0,s.useContext)(J.E_);return _e!=null?_e:{}},getResetStyles:(_e,oe)=>{var Ye;const ke=(0,u.Lx)(_e);return[ke,{"&":ke},(0,u.JT)((Ye=oe==null?void 0:oe.prefix.iconPrefixCls)!==null&&Ye!==void 0?Ye:J.oR)]},getCommonStyle:u.du,getCompUnitless:()=>Ie.NJ})},58570:function(Qr,Jt,j){"use strict";var s=j(84432);function ht(u){return u>=0&&u<=255}function J(u,Ie){const{r:He,g:je,b:Le,a:_e}=new s.t(u).toRgb();if(_e<1)return u;const{r:oe,g:Ye,b:ke}=new s.t(Ie).toRgb();for(let Xe=.01;Xe<=1;Xe+=.01){const at=Math.round((He-oe*(1-Xe))/Xe),xt=Math.round((je-Ye*(1-Xe))/Xe),ot=Math.round((Le-ke*(1-Xe))/Xe);if(ht(at)&&ht(xt)&&ht(ot))return new s.t({r:at,g:xt,b:ot,a:Math.round(Xe*100)/100}).toRgbString()}return new s.t({r:He,g:je,b:Le,a:1}).toRgbString()}Jt.Z=J},85985:function(Qr,Jt){"use strict";const j={placeholder:"Select time",rangePlaceholder:["Start time","End time"]};Jt.Z=j},9202:function(Qr,Jt,j){"use strict";j.d(Jt,{Z:function(){return Gn}});var s=j(75271),ht=j(82187),J=j.n(ht),u=j(75219),Ie=j(93954),He=j(78018),je=j(19952),Le=j(13635),_e=j(5416),oe=j(26021),Ye=j(87117),ke=j(61803),Xe=j(67699),at=j(98446),xt=j(55921),ot=j(34299),St=j(3153),Ot=j(18533),Ge=j(2276),Qt=j(75428),Pt=j(83509),Ft=j(84825);const Xt=In=>{const{calc:Rn,componentCls:pt,tooltipMaxWidth:an,tooltipColor:Tn,tooltipBg:me,tooltipBorderRadius:nn,zIndexPopup:bi,controlHeight:ui,boxShadowSecondary:$e,paddingSM:Mn,paddingXS:Kr,arrowOffsetHorizontal:jr,sizePopupArrow:Sn}=In,Fr=Rn(nn).add(Sn).add(jr).equal(),Ii=Rn(nn).mul(2).add(Sn).equal();return[{[pt]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,ot.Wf)(In)),{position:"absolute",zIndex:bi,display:"block",width:"max-content",maxWidth:an,visibility:"visible","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"&-hidden":{display:"none"},"--antd-arrow-background-color":me,[`${pt}-inner`]:{minWidth:Ii,minHeight:ui,padding:`${(0,xt.bf)(In.calc(Mn).div(2).equal())} ${(0,xt.bf)(Kr)}`,color:Tn,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:me,borderRadius:nn,boxShadow:$e,boxSizing:"border-box"},[["&-placement-topLeft","&-placement-topRight","&-placement-bottomLeft","&-placement-bottomRight"].join(",")]:{minWidth:Fr},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${pt}-inner`]:{borderRadius:In.min(nn,Ot.qN)}},[`${pt}-content`]:{position:"relative"}}),(0,Qt.Z)(In,(fr,st)=>{let{darkColor:jt}=st;return{[`&${pt}-${fr}`]:{[`${pt}-inner`]:{backgroundColor:jt},[`${pt}-arrow`]:{"--antd-arrow-background-color":jt}}}})),{"&-rtl":{direction:"rtl"}})},(0,Ot.ZP)(In,"var(--antd-arrow-background-color)"),{[`${pt}-pure`]:{position:"relative",maxWidth:"none",margin:In.sizePopupArrow}}]},Ht=In=>Object.assign(Object.assign({zIndexPopup:In.zIndexPopupBase+70},(0,Ot.wZ)({contentRadius:In.borderRadius,limitVerticalRadius:!0})),(0,Ge.w)((0,Pt.IX)(In,{borderRadiusOuter:Math.min(In.borderRadiusOuter,4)})));var Ar=function(In){let Rn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return(0,Ft.I$)("Tooltip",an=>{const{borderRadius:Tn,colorTextLightSolid:me,colorBgSpotlight:nn}=an,bi=(0,Pt.IX)(an,{tooltipMaxWidth:250,tooltipColor:me,tooltipBorderRadius:Tn,tooltipBg:nn});return[Xt(bi),(0,St._y)(an,"zoom-big-fast")]},Ht,{resetStyle:!1,injectStyle:Rn})(In)},Cr=j(53835);function Dr(In,Rn){const pt=(0,Cr.o2)(Rn),an=J()({[`${In}-${Rn}`]:Rn&&pt}),Tn={},me={};return Rn&&!pt&&(Tn.background=Rn,me["--antd-arrow-background-color"]=Rn),{className:an,overlayStyle:Tn,arrowStyle:me}}var sn=In=>{const{prefixCls:Rn,className:pt,placement:an="top",title:Tn,color:me,overlayInnerStyle:nn}=In,{getPrefixCls:bi}=s.useContext(at.E_),ui=bi("tooltip",Rn),[$e,Mn,Kr]=Ar(ui),jr=Dr(ui,me),Sn=jr.arrowStyle,Fr=Object.assign(Object.assign({},nn),jr.overlayStyle),Ii=J()(Mn,Kr,ui,`${ui}-pure`,`${ui}-placement-${an}`,pt,jr.className);return $e(s.createElement("div",{className:Ii,style:Sn},s.createElement("div",{className:`${ui}-arrow`}),s.createElement(u.G,Object.assign({},In,{className:Mn,prefixCls:ui,overlayInnerStyle:Fr}),Tn)))},Bn=function(In,Rn){var pt={};for(var an in In)Object.prototype.hasOwnProperty.call(In,an)&&Rn.indexOf(an)<0&&(pt[an]=In[an]);if(In!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Tn=0,an=Object.getOwnPropertySymbols(In);Tn<an.length;Tn++)Rn.indexOf(an[Tn])<0&&Object.prototype.propertyIsEnumerable.call(In,an[Tn])&&(pt[an[Tn]]=In[an[Tn]]);return pt};const Be=s.forwardRef((In,Rn)=>{var pt,an;const{prefixCls:Tn,openClassName:me,getTooltipContainer:nn,color:bi,overlayInnerStyle:ui,children:$e,afterOpenChange:Mn,afterVisibleChange:Kr,destroyTooltipOnHide:jr,arrow:Sn=!0,title:Fr,overlay:Ii,builtinPlacements:fr,arrowPointAtCenter:st=!1,autoAdjustOverflow:jt=!0,motion:Fn,getPopupContainer:un,placement:pn="top",mouseEnterDelay:Sr=.1,mouseLeaveDelay:Vn=.1,overlayStyle:Xr,rootClassName:ri,overlayClassName:Zr,styles:ei,classNames:vr}=In,hr=Bn(In,["prefixCls","openClassName","getTooltipContainer","color","overlayInnerStyle","children","afterOpenChange","afterVisibleChange","destroyTooltipOnHide","arrow","title","overlay","builtinPlacements","arrowPointAtCenter","autoAdjustOverflow","motion","getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName","overlayClassName","styles","classNames"]),ur=!!Sn,[,wr]=(0,Xe.ZP)(),{getPopupContainer:yr,getPrefixCls:Nr,direction:Xn,className:lr,style:Ur,classNames:Ln,styles:_i}=(0,at.dj)("tooltip"),fi=(0,Ye.ln)("Tooltip"),Wi=s.useRef(null),po=()=>{var We;(We=Wi.current)===null||We===void 0||We.forceAlign()};s.useImperativeHandle(Rn,()=>{var We,Et;return{forceAlign:po,forcePopupAlign:()=>{fi.deprecated(!1,"forcePopupAlign","forceAlign"),po()},nativeElement:(We=Wi.current)===null||We===void 0?void 0:We.nativeElement,popupElement:(Et=Wi.current)===null||Et===void 0?void 0:Et.popupElement}});const[kr,no]=(0,Ie.Z)(!1,{value:(pt=In.open)!==null&&pt!==void 0?pt:In.visible,defaultValue:(an=In.defaultOpen)!==null&&an!==void 0?an:In.defaultVisible}),qt=!Fr&&!Ii&&Fr!==0,xn=We=>{var Et,kt;no(qt?!1:We),qt||((Et=In.onOpenChange)===null||Et===void 0||Et.call(In,We),(kt=In.onVisibleChange)===null||kt===void 0||kt.call(In,We))},Jn=s.useMemo(()=>{var We,Et;let kt=st;return typeof Sn=="object"&&(kt=(Et=(We=Sn.pointAtCenter)!==null&&We!==void 0?We:Sn.arrowPointAtCenter)!==null&&Et!==void 0?Et:st),fr||(0,_e.Z)({arrowPointAtCenter:kt,autoAdjustOverflow:jt,arrowWidth:ur?wr.sizePopupArrow:0,borderRadius:wr.borderRadius,offset:wr.marginXXS,visibleFirst:!0})},[st,Sn,fr,wr]),$r=s.useMemo(()=>Fr===0?Fr:Ii||Fr||"",[Ii,Fr]),li=s.createElement(He.Z,{space:!0},typeof $r=="function"?$r():$r),ii=Nr("tooltip",Tn),Ki=Nr(),eo=In["data-popover-inject"];let Ro=kr;!("open"in In)&&!("visible"in In)&&qt&&(Ro=!1);const So=s.isValidElement($e)&&!(0,oe.M2)($e)?$e:s.createElement("span",null,$e),io=So.props,Pe=!io.className||typeof io.className=="string"?J()(io.className,me||`${ii}-open`):io.className,[de,K,Ne]=Ar(ii,!eo),Je=Dr(ii,bi),ge=Je.arrowStyle,dt=J()(Zr,{[`${ii}-rtl`]:Xn==="rtl"},Je.className,ri,K,Ne,lr,Ln.root,vr==null?void 0:vr.root),_t=J()(Ln.body,vr==null?void 0:vr.body),[Tt,Yt]=(0,je.Cn)("Tooltip",hr.zIndex),hn=s.createElement(u.Z,Object.assign({},hr,{zIndex:Tt,showArrow:ur,placement:pn,mouseEnterDelay:Sr,mouseLeaveDelay:Vn,prefixCls:ii,classNames:{root:dt,body:_t},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ge),_i.root),Ur),Xr),ei==null?void 0:ei.root),body:Object.assign(Object.assign(Object.assign(Object.assign({},_i.body),ui),ei==null?void 0:ei.body),Je.overlayStyle)},getTooltipContainer:un||nn||yr,ref:Wi,builtinPlacements:Jn,overlay:li,visible:Ro,onVisibleChange:xn,afterVisibleChange:Mn!=null?Mn:Kr,arrowContent:s.createElement("span",{className:`${ii}-arrow-content`}),motion:{motionName:(0,Le.m)(Ki,"zoom-big-fast",In.transitionName),motionDeadline:1e3},destroyTooltipOnHide:!!jr}),Ro?(0,oe.Tm)(So,{className:Pe}):So);return de(s.createElement(ke.Z.Provider,{value:Yt},hn))});Be._InternalPanelDoNotUseOrYouWillBeFired=sn;var Gn=Be},41424:function(Qr,Jt,j){"use strict";j.d(Jt,{Z:function(){return ht}});var s="5.24.2",ht=s},16483:function(Qr){(function(Jt,j){Qr.exports=j()})(this,function(){"use strict";var Jt=1e3,j=6e4,s=36e5,ht="millisecond",J="second",u="minute",Ie="hour",He="day",je="week",Le="month",_e="quarter",oe="year",Ye="date",ke="Invalid Date",Xe=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,at=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,xt={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Dr){var Ue=["th","st","nd","rd"],sn=Dr%100;return"["+Dr+(Ue[(sn-20)%10]||Ue[sn]||Ue[0])+"]"}},ot=function(Dr,Ue,sn){var Bn=String(Dr);return!Bn||Bn.length>=Ue?Dr:""+Array(Ue+1-Bn.length).join(sn)+Dr},St={s:ot,z:function(Dr){var Ue=-Dr.utcOffset(),sn=Math.abs(Ue),Bn=Math.floor(sn/60),En=sn%60;return(Ue<=0?"+":"-")+ot(Bn,2,"0")+":"+ot(En,2,"0")},m:function Dr(Ue,sn){if(Ue.date()<sn.date())return-Dr(sn,Ue);var Bn=12*(sn.year()-Ue.year())+(sn.month()-Ue.month()),En=Ue.clone().add(Bn,Le),Be=sn-En<0,Gn=Ue.clone().add(Bn+(Be?-1:1),Le);return+(-(Bn+(sn-En)/(Be?En-Gn:Gn-En))||0)},a:function(Dr){return Dr<0?Math.ceil(Dr)||0:Math.floor(Dr)},p:function(Dr){return{M:Le,y:oe,w:je,d:He,D:Ye,h:Ie,m:u,s:J,ms:ht,Q:_e}[Dr]||String(Dr||"").toLowerCase().replace(/s$/,"")},u:function(Dr){return Dr===void 0}},Ot="en",Ge={};Ge[Ot]=xt;var Qt="$isDayjsObject",Pt=function(Dr){return Dr instanceof Ar||!(!Dr||!Dr[Qt])},Ft=function Dr(Ue,sn,Bn){var En;if(!Ue)return Ot;if(typeof Ue=="string"){var Be=Ue.toLowerCase();Ge[Be]&&(En=Be),sn&&(Ge[Be]=sn,En=Be);var Gn=Ue.split("-");if(!En&&Gn.length>1)return Dr(Gn[0])}else{var In=Ue.name;Ge[In]=Ue,En=In}return!Bn&&En&&(Ot=En),En||!Bn&&Ot},Xt=function(Dr,Ue){if(Pt(Dr))return Dr.clone();var sn=typeof Ue=="object"?Ue:{};return sn.date=Dr,sn.args=arguments,new Ar(sn)},Ht=St;Ht.l=Ft,Ht.i=Pt,Ht.w=function(Dr,Ue){return Xt(Dr,{locale:Ue.$L,utc:Ue.$u,x:Ue.$x,$offset:Ue.$offset})};var Ar=function(){function Dr(sn){this.$L=Ft(sn.locale,null,!0),this.parse(sn),this.$x=this.$x||sn.x||{},this[Qt]=!0}var Ue=Dr.prototype;return Ue.parse=function(sn){this.$d=function(Bn){var En=Bn.date,Be=Bn.utc;if(En===null)return new Date(NaN);if(Ht.u(En))return new Date;if(En instanceof Date)return new Date(En);if(typeof En=="string"&&!/Z$/i.test(En)){var Gn=En.match(Xe);if(Gn){var In=Gn[2]-1||0,Rn=(Gn[7]||"0").substring(0,3);return Be?new Date(Date.UTC(Gn[1],In,Gn[3]||1,Gn[4]||0,Gn[5]||0,Gn[6]||0,Rn)):new Date(Gn[1],In,Gn[3]||1,Gn[4]||0,Gn[5]||0,Gn[6]||0,Rn)}}return new Date(En)}(sn),this.init()},Ue.init=function(){var sn=this.$d;this.$y=sn.getFullYear(),this.$M=sn.getMonth(),this.$D=sn.getDate(),this.$W=sn.getDay(),this.$H=sn.getHours(),this.$m=sn.getMinutes(),this.$s=sn.getSeconds(),this.$ms=sn.getMilliseconds()},Ue.$utils=function(){return Ht},Ue.isValid=function(){return this.$d.toString()!==ke},Ue.isSame=function(sn,Bn){var En=Xt(sn);return this.startOf(Bn)<=En&&En<=this.endOf(Bn)},Ue.isAfter=function(sn,Bn){return Xt(sn)<this.startOf(Bn)},Ue.isBefore=function(sn,Bn){return this.endOf(Bn)<Xt(sn)},Ue.$g=function(sn,Bn,En){return Ht.u(sn)?this[Bn]:this.set(En,sn)},Ue.unix=function(){return Math.floor(this.valueOf()/1e3)},Ue.valueOf=function(){return this.$d.getTime()},Ue.startOf=function(sn,Bn){var En=this,Be=!!Ht.u(Bn)||Bn,Gn=Ht.p(sn),In=function(ui,$e){var Mn=Ht.w(En.$u?Date.UTC(En.$y,$e,ui):new Date(En.$y,$e,ui),En);return Be?Mn:Mn.endOf(He)},Rn=function(ui,$e){return Ht.w(En.toDate()[ui].apply(En.toDate("s"),(Be?[0,0,0,0]:[23,59,59,999]).slice($e)),En)},pt=this.$W,an=this.$M,Tn=this.$D,me="set"+(this.$u?"UTC":"");switch(Gn){case oe:return Be?In(1,0):In(31,11);case Le:return Be?In(1,an):In(0,an+1);case je:var nn=this.$locale().weekStart||0,bi=(pt<nn?pt+7:pt)-nn;return In(Be?Tn-bi:Tn+(6-bi),an);case He:case Ye:return Rn(me+"Hours",0);case Ie:return Rn(me+"Minutes",1);case u:return Rn(me+"Seconds",2);case J:return Rn(me+"Milliseconds",3);default:return this.clone()}},Ue.endOf=function(sn){return this.startOf(sn,!1)},Ue.$set=function(sn,Bn){var En,Be=Ht.p(sn),Gn="set"+(this.$u?"UTC":""),In=(En={},En[He]=Gn+"Date",En[Ye]=Gn+"Date",En[Le]=Gn+"Month",En[oe]=Gn+"FullYear",En[Ie]=Gn+"Hours",En[u]=Gn+"Minutes",En[J]=Gn+"Seconds",En[ht]=Gn+"Milliseconds",En)[Be],Rn=Be===He?this.$D+(Bn-this.$W):Bn;if(Be===Le||Be===oe){var pt=this.clone().set(Ye,1);pt.$d[In](Rn),pt.init(),this.$d=pt.set(Ye,Math.min(this.$D,pt.daysInMonth())).$d}else In&&this.$d[In](Rn);return this.init(),this},Ue.set=function(sn,Bn){return this.clone().$set(sn,Bn)},Ue.get=function(sn){return this[Ht.p(sn)]()},Ue.add=function(sn,Bn){var En,Be=this;sn=Number(sn);var Gn=Ht.p(Bn),In=function(an){var Tn=Xt(Be);return Ht.w(Tn.date(Tn.date()+Math.round(an*sn)),Be)};if(Gn===Le)return this.set(Le,this.$M+sn);if(Gn===oe)return this.set(oe,this.$y+sn);if(Gn===He)return In(1);if(Gn===je)return In(7);var Rn=(En={},En[u]=j,En[Ie]=s,En[J]=Jt,En)[Gn]||1,pt=this.$d.getTime()+sn*Rn;return Ht.w(pt,this)},Ue.subtract=function(sn,Bn){return this.add(-1*sn,Bn)},Ue.format=function(sn){var Bn=this,En=this.$locale();if(!this.isValid())return En.invalidDate||ke;var Be=sn||"YYYY-MM-DDTHH:mm:ssZ",Gn=Ht.z(this),In=this.$H,Rn=this.$m,pt=this.$M,an=En.weekdays,Tn=En.months,me=En.meridiem,nn=function($e,Mn,Kr,jr){return $e&&($e[Mn]||$e(Bn,Be))||Kr[Mn].slice(0,jr)},bi=function($e){return Ht.s(In%12||12,$e,"0")},ui=me||function($e,Mn,Kr){var jr=$e<12?"AM":"PM";return Kr?jr.toLowerCase():jr};return Be.replace(at,function($e,Mn){return Mn||function(Kr){switch(Kr){case"YY":return String(Bn.$y).slice(-2);case"YYYY":return Ht.s(Bn.$y,4,"0");case"M":return pt+1;case"MM":return Ht.s(pt+1,2,"0");case"MMM":return nn(En.monthsShort,pt,Tn,3);case"MMMM":return nn(Tn,pt);case"D":return Bn.$D;case"DD":return Ht.s(Bn.$D,2,"0");case"d":return String(Bn.$W);case"dd":return nn(En.weekdaysMin,Bn.$W,an,2);case"ddd":return nn(En.weekdaysShort,Bn.$W,an,3);case"dddd":return an[Bn.$W];case"H":return String(In);case"HH":return Ht.s(In,2,"0");case"h":return bi(1);case"hh":return bi(2);case"a":return ui(In,Rn,!0);case"A":return ui(In,Rn,!1);case"m":return String(Rn);case"mm":return Ht.s(Rn,2,"0");case"s":return String(Bn.$s);case"ss":return Ht.s(Bn.$s,2,"0");case"SSS":return Ht.s(Bn.$ms,3,"0");case"Z":return Gn}return null}($e)||Gn.replace(":","")})},Ue.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},Ue.diff=function(sn,Bn,En){var Be,Gn=this,In=Ht.p(Bn),Rn=Xt(sn),pt=(Rn.utcOffset()-this.utcOffset())*j,an=this-Rn,Tn=function(){return Ht.m(Gn,Rn)};switch(In){case oe:Be=Tn()/12;break;case Le:Be=Tn();break;case _e:Be=Tn()/3;break;case je:Be=(an-pt)/6048e5;break;case He:Be=(an-pt)/864e5;break;case Ie:Be=an/s;break;case u:Be=an/j;break;case J:Be=an/Jt;break;default:Be=an}return En?Be:Ht.a(Be)},Ue.daysInMonth=function(){return this.endOf(Le).$D},Ue.$locale=function(){return Ge[this.$L]},Ue.locale=function(sn,Bn){if(!sn)return this.$L;var En=this.clone(),Be=Ft(sn,Bn,!0);return Be&&(En.$L=Be),En},Ue.clone=function(){return Ht.w(this.$d,this)},Ue.toDate=function(){return new Date(this.valueOf())},Ue.toJSON=function(){return this.isValid()?this.toISOString():null},Ue.toISOString=function(){return this.$d.toISOString()},Ue.toString=function(){return this.$d.toUTCString()},Dr}(),Cr=Ar.prototype;return Xt.prototype=Cr,[["$ms",ht],["$s",J],["$m",u],["$H",Ie],["$W",He],["$M",Le],["$y",oe],["$D",Ye]].forEach(function(Dr){Cr[Dr[1]]=function(Ue){return this.$g(Ue,Dr[0],Dr[1])}}),Xt.extend=function(Dr,Ue){return Dr.$i||(Dr(Ue,Ar,Xt),Dr.$i=!0),Xt},Xt.locale=Ft,Xt.isDayjs=Pt,Xt.unix=function(Dr){return Xt(1e3*Dr)},Xt.en=Ge[Ot],Xt.Ls=Ge,Xt.p={},Xt})},79771:function(Qr){(function(Jt,j){Qr.exports=j()})(this,function(){"use strict";return function(Jt,j){var s=j.prototype,ht=s.format;s.format=function(J){var u=this,Ie=this.$locale();if(!this.isValid())return ht.bind(this)(J);var He=this.$utils(),je=(J||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(Le){switch(Le){case"Q":return Math.ceil((u.$M+1)/3);case"Do":return Ie.ordinal(u.$D);case"gggg":return u.weekYear();case"GGGG":return u.isoWeekYear();case"wo":return Ie.ordinal(u.week(),"W");case"w":case"ww":return He.s(u.week(),Le==="w"?1:2,"0");case"W":case"WW":return He.s(u.isoWeek(),Le==="W"?1:2,"0");case"k":case"kk":return He.s(String(u.$H===0?24:u.$H),Le==="k"?1:2,"0");case"X":return Math.floor(u.$d.getTime()/1e3);case"x":return u.$d.getTime();case"z":return"["+u.offsetName()+"]";case"zzz":return"["+u.offsetName("long")+"]";default:return Le}});return ht.bind(this)(je)}}})},30156:function(Qr){(function(Jt,j){Qr.exports=j()})(this,function(){"use strict";var Jt={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},j=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,s=/\d/,ht=/\d\d/,J=/\d\d?/,u=/\d*[^-_:/,()\s\d]+/,Ie={},He=function(Xe){return(Xe=+Xe)+(Xe>68?1900:2e3)},je=function(Xe){return function(at){this[Xe]=+at}},Le=[/[+-]\d\d:?(\d\d)?|Z/,function(Xe){(this.zone||(this.zone={})).offset=function(at){if(!at||at==="Z")return 0;var xt=at.match(/([+-]|\d\d)/g),ot=60*xt[1]+(+xt[2]||0);return ot===0?0:xt[0]==="+"?-ot:ot}(Xe)}],_e=function(Xe){var at=Ie[Xe];return at&&(at.indexOf?at:at.s.concat(at.f))},oe=function(Xe,at){var xt,ot=Ie.meridiem;if(ot){for(var St=1;St<=24;St+=1)if(Xe.indexOf(ot(St,0,at))>-1){xt=St>12;break}}else xt=Xe===(at?"pm":"PM");return xt},Ye={A:[u,function(Xe){this.afternoon=oe(Xe,!1)}],a:[u,function(Xe){this.afternoon=oe(Xe,!0)}],Q:[s,function(Xe){this.month=3*(Xe-1)+1}],S:[s,function(Xe){this.milliseconds=100*+Xe}],SS:[ht,function(Xe){this.milliseconds=10*+Xe}],SSS:[/\d{3}/,function(Xe){this.milliseconds=+Xe}],s:[J,je("seconds")],ss:[J,je("seconds")],m:[J,je("minutes")],mm:[J,je("minutes")],H:[J,je("hours")],h:[J,je("hours")],HH:[J,je("hours")],hh:[J,je("hours")],D:[J,je("day")],DD:[ht,je("day")],Do:[u,function(Xe){var at=Ie.ordinal,xt=Xe.match(/\d+/);if(this.day=xt[0],at)for(var ot=1;ot<=31;ot+=1)at(ot).replace(/\[|\]/g,"")===Xe&&(this.day=ot)}],w:[J,je("week")],ww:[ht,je("week")],M:[J,je("month")],MM:[ht,je("month")],MMM:[u,function(Xe){var at=_e("months"),xt=(_e("monthsShort")||at.map(function(ot){return ot.slice(0,3)})).indexOf(Xe)+1;if(xt<1)throw new Error;this.month=xt%12||xt}],MMMM:[u,function(Xe){var at=_e("months").indexOf(Xe)+1;if(at<1)throw new Error;this.month=at%12||at}],Y:[/[+-]?\d+/,je("year")],YY:[ht,function(Xe){this.year=He(Xe)}],YYYY:[/\d{4}/,je("year")],Z:Le,ZZ:Le};function ke(Xe){var at,xt;at=Xe,xt=Ie&&Ie.formats;for(var ot=(Xe=at.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(Xt,Ht,Ar){var Cr=Ar&&Ar.toUpperCase();return Ht||xt[Ar]||Jt[Ar]||xt[Cr].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(Dr,Ue,sn){return Ue||sn.slice(1)})})).match(j),St=ot.length,Ot=0;Ot<St;Ot+=1){var Ge=ot[Ot],Qt=Ye[Ge],Pt=Qt&&Qt[0],Ft=Qt&&Qt[1];ot[Ot]=Ft?{regex:Pt,parser:Ft}:Ge.replace(/^\[|\]$/g,"")}return function(Xt){for(var Ht={},Ar=0,Cr=0;Ar<St;Ar+=1){var Dr=ot[Ar];if(typeof Dr=="string")Cr+=Dr.length;else{var Ue=Dr.regex,sn=Dr.parser,Bn=Xt.slice(Cr),En=Ue.exec(Bn)[0];sn.call(Ht,En),Xt=Xt.replace(En,"")}}return function(Be){var Gn=Be.afternoon;if(Gn!==void 0){var In=Be.hours;Gn?In<12&&(Be.hours+=12):In===12&&(Be.hours=0),delete Be.afternoon}}(Ht),Ht}}return function(Xe,at,xt){xt.p.customParseFormat=!0,Xe&&Xe.parseTwoDigitYear&&(He=Xe.parseTwoDigitYear);var ot=at.prototype,St=ot.parse;ot.parse=function(Ot){var Ge=Ot.date,Qt=Ot.utc,Pt=Ot.args;this.$u=Qt;var Ft=Pt[1];if(typeof Ft=="string"){var Xt=Pt[2]===!0,Ht=Pt[3]===!0,Ar=Xt||Ht,Cr=Pt[2];Ht&&(Cr=Pt[2]),Ie=this.$locale(),!Xt&&Cr&&(Ie=xt.Ls[Cr]),this.$d=function(Bn,En,Be,Gn){try{if(["x","X"].indexOf(En)>-1)return new Date((En==="X"?1e3:1)*Bn);var In=ke(En)(Bn),Rn=In.year,pt=In.month,an=In.day,Tn=In.hours,me=In.minutes,nn=In.seconds,bi=In.milliseconds,ui=In.zone,$e=In.week,Mn=new Date,Kr=an||(Rn||pt?1:Mn.getDate()),jr=Rn||Mn.getFullYear(),Sn=0;Rn&&!pt||(Sn=pt>0?pt-1:Mn.getMonth());var Fr,Ii=Tn||0,fr=me||0,st=nn||0,jt=bi||0;return ui?new Date(Date.UTC(jr,Sn,Kr,Ii,fr,st,jt+60*ui.offset*1e3)):Be?new Date(Date.UTC(jr,Sn,Kr,Ii,fr,st,jt)):(Fr=new Date(jr,Sn,Kr,Ii,fr,st,jt),$e&&(Fr=Gn(Fr).week($e).toDate()),Fr)}catch(Fn){return new Date("")}}(Ge,Ft,Qt,xt),this.init(),Cr&&Cr!==!0&&(this.$L=this.locale(Cr).$L),Ar&&Ge!=this.format(Ft)&&(this.$d=new Date("")),Ie={}}else if(Ft instanceof Array)for(var Dr=Ft.length,Ue=1;Ue<=Dr;Ue+=1){Pt[1]=Ft[Ue-1];var sn=xt.apply(this,Pt);if(sn.isValid()){this.$d=sn.$d,this.$L=sn.$L,this.init();break}Ue===Dr&&(this.$d=new Date(""))}else St.call(this,Ot)}}})},2845:function(Qr){(function(Jt,j){Qr.exports=j()})(this,function(){"use strict";return function(Jt,j,s){var ht=j.prototype,J=function(Le){return Le&&(Le.indexOf?Le:Le.s)},u=function(Le,_e,oe,Ye,ke){var Xe=Le.name?Le:Le.$locale(),at=J(Xe[_e]),xt=J(Xe[oe]),ot=at||xt.map(function(Ot){return Ot.slice(0,Ye)});if(!ke)return ot;var St=Xe.weekStart;return ot.map(function(Ot,Ge){return ot[(Ge+(St||0))%7]})},Ie=function(){return s.Ls[s.locale()]},He=function(Le,_e){return Le.formats[_e]||function(oe){return oe.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(Ye,ke,Xe){return ke||Xe.slice(1)})}(Le.formats[_e.toUpperCase()])},je=function(){var Le=this;return{months:function(_e){return _e?_e.format("MMMM"):u(Le,"months")},monthsShort:function(_e){return _e?_e.format("MMM"):u(Le,"monthsShort","months",3)},firstDayOfWeek:function(){return Le.$locale().weekStart||0},weekdays:function(_e){return _e?_e.format("dddd"):u(Le,"weekdays")},weekdaysMin:function(_e){return _e?_e.format("dd"):u(Le,"weekdaysMin","weekdays",2)},weekdaysShort:function(_e){return _e?_e.format("ddd"):u(Le,"weekdaysShort","weekdays",3)},longDateFormat:function(_e){return He(Le.$locale(),_e)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};ht.localeData=function(){return je.bind(this)()},s.localeData=function(){var Le=Ie();return{firstDayOfWeek:function(){return Le.weekStart||0},weekdays:function(){return s.weekdays()},weekdaysShort:function(){return s.weekdaysShort()},weekdaysMin:function(){return s.weekdaysMin()},months:function(){return s.months()},monthsShort:function(){return s.monthsShort()},longDateFormat:function(_e){return He(Le,_e)},meridiem:Le.meridiem,ordinal:Le.ordinal}},s.months=function(){return u(Ie(),"months")},s.monthsShort=function(){return u(Ie(),"monthsShort","months",3)},s.weekdays=function(Le){return u(Ie(),"weekdays",null,null,Le)},s.weekdaysShort=function(Le){return u(Ie(),"weekdaysShort","weekdays",3,Le)},s.weekdaysMin=function(Le){return u(Ie(),"weekdaysMin","weekdays",2,Le)}}})},88777:function(Qr){(function(Jt,j){Qr.exports=j()})(this,function(){"use strict";var Jt="week",j="year";return function(s,ht,J){var u=ht.prototype;u.week=function(Ie){if(Ie===void 0&&(Ie=null),Ie!==null)return this.add(7*(Ie-this.week()),"day");var He=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var je=J(this).startOf(j).add(1,j).date(He),Le=J(this).endOf(Jt);if(je.isBefore(Le))return 1}var _e=J(this).startOf(j).date(He).startOf(Jt).subtract(1,"millisecond"),oe=this.diff(_e,Jt,!0);return oe<0?J(this).startOf("week").week():Math.ceil(oe)},u.weeks=function(Ie){return Ie===void 0&&(Ie=null),this.week(Ie)}}})},41466:function(Qr){(function(Jt,j){Qr.exports=j()})(this,function(){"use strict";return function(Jt,j){j.prototype.weekYear=function(){var s=this.month(),ht=this.week(),J=this.year();return ht===1&&s===11?J+1:s===0&&ht>=52?J-1:J}}})},92098:function(Qr){(function(Jt,j){Qr.exports=j()})(this,function(){"use strict";return function(Jt,j){j.prototype.weekday=function(s){var ht=this.$locale().weekStart||0,J=this.$W,u=(J<ht?J+7:J)-ht;return this.$utils().u(s)?u:this.subtract(u,"day").add(s,"day")}}})},55518:function(Qr,Jt,j){var s=j(3806),ht=function(Ie){var He=/[height|width]$/;return He.test(Ie)},J=function(Ie){var He="",je=Object.keys(Ie);return je.forEach(function(Le,_e){var oe=Ie[Le];Le=s(Le),ht(Le)&&typeof oe=="number"&&(oe=oe+"px"),oe===!0?He+=Le:oe===!1?He+="not "+Le:He+="("+Le+": "+oe+")",_e<je.length-1&&(He+=" and ")}),He},u=function(Ie){var He="";return typeof Ie=="string"?Ie:Ie instanceof Array?(Ie.forEach(function(je,Le){He+=J(je),Le<Ie.length-1&&(He+=", ")}),He):J(Ie)};Qr.exports=u},95959:function(Qr){(function(Jt,j){Qr.exports=j()})(this,function(){"use strict";var Jt,j,s;function ht(u,Ie){if(!Jt)Jt=Ie;else if(!j)j=Ie;else{var He="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+Jt+")(sharedChunk); ("+j+")(sharedChunk); self.onerror = null;",je={};Jt(je),s=Ie(je),typeof window!="undefined"&&window&&window.URL&&window.URL.createObjectURL&&(s.workerUrl=window.URL.createObjectURL(new Blob([He],{type:"text/javascript"})))}}ht(["exports"],function(u){function Ie(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var He,je={},Le={};function _e(){if(He)return Le;He=1,Object.defineProperty(Le,"__esModule",{value:!0}),Le.setMatrixArrayType=function(g){Le.ARRAY_TYPE=n=g},Le.toRadian=function(g){return g*d},Le.equals=function(g,h){return Math.abs(g-h)<=c*Math.max(1,Math.abs(g),Math.abs(h))},Le.RANDOM=Le.ARRAY_TYPE=Le.EPSILON=void 0;var c=1e-6;Le.EPSILON=c;var n=typeof Float32Array!="undefined"?Float32Array:Array;Le.ARRAY_TYPE=n;var i=Math.random;Le.RANDOM=i;var d=Math.PI/180;return Math.hypot||(Math.hypot=function(){for(var g=0,h=arguments.length;h--;)g+=arguments[h]*arguments[h];return Math.sqrt(g)}),Le}var oe,Ye={};function ke(){if(oe)return Ye;function c(h){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},c(h)}oe=1,Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.create=function(){var h=new n.ARRAY_TYPE(4);return n.ARRAY_TYPE!=Float32Array&&(h[1]=0,h[2]=0),h[0]=1,h[3]=1,h},Ye.clone=function(h){var v=new n.ARRAY_TYPE(4);return v[0]=h[0],v[1]=h[1],v[2]=h[2],v[3]=h[3],v},Ye.copy=function(h,v){return h[0]=v[0],h[1]=v[1],h[2]=v[2],h[3]=v[3],h},Ye.identity=function(h){return h[0]=1,h[1]=0,h[2]=0,h[3]=1,h},Ye.fromValues=function(h,v,w,M){var D=new n.ARRAY_TYPE(4);return D[0]=h,D[1]=v,D[2]=w,D[3]=M,D},Ye.set=function(h,v,w,M,D){return h[0]=v,h[1]=w,h[2]=M,h[3]=D,h},Ye.transpose=function(h,v){if(h===v){var w=v[1];h[1]=v[2],h[2]=w}else h[0]=v[0],h[1]=v[2],h[2]=v[1],h[3]=v[3];return h},Ye.invert=function(h,v){var w=v[0],M=v[1],D=v[2],x=v[3],P=w*x-D*M;return P?(h[0]=x*(P=1/P),h[1]=-M*P,h[2]=-D*P,h[3]=w*P,h):null},Ye.adjoint=function(h,v){var w=v[0];return h[0]=v[3],h[1]=-v[1],h[2]=-v[2],h[3]=w,h},Ye.determinant=function(h){return h[0]*h[3]-h[2]*h[1]},Ye.multiply=d,Ye.rotate=function(h,v,w){var M=v[0],D=v[1],x=v[2],P=v[3],$=Math.sin(w),T=Math.cos(w);return h[0]=M*T+x*$,h[1]=D*T+P*$,h[2]=M*-$+x*T,h[3]=D*-$+P*T,h},Ye.scale=function(h,v,w){var M=v[1],D=v[2],x=v[3],P=w[0],$=w[1];return h[0]=v[0]*P,h[1]=M*P,h[2]=D*$,h[3]=x*$,h},Ye.fromRotation=function(h,v){var w=Math.sin(v),M=Math.cos(v);return h[0]=M,h[1]=w,h[2]=-w,h[3]=M,h},Ye.fromScaling=function(h,v){return h[0]=v[0],h[1]=0,h[2]=0,h[3]=v[1],h},Ye.str=function(h){return"mat2("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+")"},Ye.frob=function(h){return Math.hypot(h[0],h[1],h[2],h[3])},Ye.LDU=function(h,v,w,M){return h[2]=M[2]/M[0],w[0]=M[0],w[1]=M[1],w[3]=M[3]-h[2]*w[1],[h,v,w]},Ye.add=function(h,v,w){return h[0]=v[0]+w[0],h[1]=v[1]+w[1],h[2]=v[2]+w[2],h[3]=v[3]+w[3],h},Ye.subtract=g,Ye.exactEquals=function(h,v){return h[0]===v[0]&&h[1]===v[1]&&h[2]===v[2]&&h[3]===v[3]},Ye.equals=function(h,v){var w=h[0],M=h[1],D=h[2],x=h[3],P=v[0],$=v[1],T=v[2],O=v[3];return Math.abs(w-P)<=n.EPSILON*Math.max(1,Math.abs(w),Math.abs(P))&&Math.abs(M-$)<=n.EPSILON*Math.max(1,Math.abs(M),Math.abs($))&&Math.abs(D-T)<=n.EPSILON*Math.max(1,Math.abs(D),Math.abs(T))&&Math.abs(x-O)<=n.EPSILON*Math.max(1,Math.abs(x),Math.abs(O))},Ye.multiplyScalar=function(h,v,w){return h[0]=v[0]*w,h[1]=v[1]*w,h[2]=v[2]*w,h[3]=v[3]*w,h},Ye.multiplyScalarAndAdd=function(h,v,w,M){return h[0]=v[0]+w[0]*M,h[1]=v[1]+w[1]*M,h[2]=v[2]+w[2]*M,h[3]=v[3]+w[3]*M,h},Ye.sub=Ye.mul=void 0;var n=function(h,v){if(h&&h.__esModule)return h;if(h===null||c(h)!=="object"&&typeof h!="function")return{default:h};var w=i(void 0);if(w&&w.has(h))return w.get(h);var M={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var x in h)if(x!=="default"&&Object.prototype.hasOwnProperty.call(h,x)){var P=D?Object.getOwnPropertyDescriptor(h,x):null;P&&(P.get||P.set)?Object.defineProperty(M,x,P):M[x]=h[x]}return M.default=h,w&&w.set(h,M),M}(_e());function i(h){if(typeof WeakMap!="function")return null;var v=new WeakMap,w=new WeakMap;return(i=function(M){return M?w:v})(h)}function d(h,v,w){var M=v[0],D=v[1],x=v[2],P=v[3],$=w[0],T=w[1],O=w[2],N=w[3];return h[0]=M*$+x*T,h[1]=D*$+P*T,h[2]=M*O+x*N,h[3]=D*O+P*N,h}function g(h,v,w){return h[0]=v[0]-w[0],h[1]=v[1]-w[1],h[2]=v[2]-w[2],h[3]=v[3]-w[3],h}return Ye.mul=d,Ye.sub=g,Ye}var Xe,at={};function xt(){if(Xe)return at;function c(h){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},c(h)}Xe=1,Object.defineProperty(at,"__esModule",{value:!0}),at.create=function(){var h=new n.ARRAY_TYPE(6);return n.ARRAY_TYPE!=Float32Array&&(h[1]=0,h[2]=0,h[4]=0,h[5]=0),h[0]=1,h[3]=1,h},at.clone=function(h){var v=new n.ARRAY_TYPE(6);return v[0]=h[0],v[1]=h[1],v[2]=h[2],v[3]=h[3],v[4]=h[4],v[5]=h[5],v},at.copy=function(h,v){return h[0]=v[0],h[1]=v[1],h[2]=v[2],h[3]=v[3],h[4]=v[4],h[5]=v[5],h},at.identity=function(h){return h[0]=1,h[1]=0,h[2]=0,h[3]=1,h[4]=0,h[5]=0,h},at.fromValues=function(h,v,w,M,D,x){var P=new n.ARRAY_TYPE(6);return P[0]=h,P[1]=v,P[2]=w,P[3]=M,P[4]=D,P[5]=x,P},at.set=function(h,v,w,M,D,x,P){return h[0]=v,h[1]=w,h[2]=M,h[3]=D,h[4]=x,h[5]=P,h},at.invert=function(h,v){var w=v[0],M=v[1],D=v[2],x=v[3],P=v[4],$=v[5],T=w*x-M*D;return T?(h[0]=x*(T=1/T),h[1]=-M*T,h[2]=-D*T,h[3]=w*T,h[4]=(D*$-x*P)*T,h[5]=(M*P-w*$)*T,h):null},at.determinant=function(h){return h[0]*h[3]-h[1]*h[2]},at.multiply=d,at.rotate=function(h,v,w){var M=v[0],D=v[1],x=v[2],P=v[3],$=v[4],T=v[5],O=Math.sin(w),N=Math.cos(w);return h[0]=M*N+x*O,h[1]=D*N+P*O,h[2]=M*-O+x*N,h[3]=D*-O+P*N,h[4]=$,h[5]=T,h},at.scale=function(h,v,w){var M=v[1],D=v[2],x=v[3],P=v[4],$=v[5],T=w[0],O=w[1];return h[0]=v[0]*T,h[1]=M*T,h[2]=D*O,h[3]=x*O,h[4]=P,h[5]=$,h},at.translate=function(h,v,w){var M=v[0],D=v[1],x=v[2],P=v[3],$=v[4],T=v[5],O=w[0],N=w[1];return h[0]=M,h[1]=D,h[2]=x,h[3]=P,h[4]=M*O+x*N+$,h[5]=D*O+P*N+T,h},at.fromRotation=function(h,v){var w=Math.sin(v),M=Math.cos(v);return h[0]=M,h[1]=w,h[2]=-w,h[3]=M,h[4]=0,h[5]=0,h},at.fromScaling=function(h,v){return h[0]=v[0],h[1]=0,h[2]=0,h[3]=v[1],h[4]=0,h[5]=0,h},at.fromTranslation=function(h,v){return h[0]=1,h[1]=0,h[2]=0,h[3]=1,h[4]=v[0],h[5]=v[1],h},at.str=function(h){return"mat2d("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+", "+h[4]+", "+h[5]+")"},at.frob=function(h){return Math.hypot(h[0],h[1],h[2],h[3],h[4],h[5],1)},at.add=function(h,v,w){return h[0]=v[0]+w[0],h[1]=v[1]+w[1],h[2]=v[2]+w[2],h[3]=v[3]+w[3],h[4]=v[4]+w[4],h[5]=v[5]+w[5],h},at.subtract=g,at.multiplyScalar=function(h,v,w){return h[0]=v[0]*w,h[1]=v[1]*w,h[2]=v[2]*w,h[3]=v[3]*w,h[4]=v[4]*w,h[5]=v[5]*w,h},at.multiplyScalarAndAdd=function(h,v,w,M){return h[0]=v[0]+w[0]*M,h[1]=v[1]+w[1]*M,h[2]=v[2]+w[2]*M,h[3]=v[3]+w[3]*M,h[4]=v[4]+w[4]*M,h[5]=v[5]+w[5]*M,h},at.exactEquals=function(h,v){return h[0]===v[0]&&h[1]===v[1]&&h[2]===v[2]&&h[3]===v[3]&&h[4]===v[4]&&h[5]===v[5]},at.equals=function(h,v){var w=h[0],M=h[1],D=h[2],x=h[3],P=h[4],$=h[5],T=v[0],O=v[1],N=v[2],G=v[3],q=v[4],se=v[5];return Math.abs(w-T)<=n.EPSILON*Math.max(1,Math.abs(w),Math.abs(T))&&Math.abs(M-O)<=n.EPSILON*Math.max(1,Math.abs(M),Math.abs(O))&&Math.abs(D-N)<=n.EPSILON*Math.max(1,Math.abs(D),Math.abs(N))&&Math.abs(x-G)<=n.EPSILON*Math.max(1,Math.abs(x),Math.abs(G))&&Math.abs(P-q)<=n.EPSILON*Math.max(1,Math.abs(P),Math.abs(q))&&Math.abs($-se)<=n.EPSILON*Math.max(1,Math.abs($),Math.abs(se))},at.sub=at.mul=void 0;var n=function(h,v){if(h&&h.__esModule)return h;if(h===null||c(h)!=="object"&&typeof h!="function")return{default:h};var w=i(void 0);if(w&&w.has(h))return w.get(h);var M={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var x in h)if(x!=="default"&&Object.prototype.hasOwnProperty.call(h,x)){var P=D?Object.getOwnPropertyDescriptor(h,x):null;P&&(P.get||P.set)?Object.defineProperty(M,x,P):M[x]=h[x]}return M.default=h,w&&w.set(h,M),M}(_e());function i(h){if(typeof WeakMap!="function")return null;var v=new WeakMap,w=new WeakMap;return(i=function(M){return M?w:v})(h)}function d(h,v,w){var M=v[0],D=v[1],x=v[2],P=v[3],$=v[4],T=v[5],O=w[0],N=w[1],G=w[2],q=w[3],se=w[4],ce=w[5];return h[0]=M*O+x*N,h[1]=D*O+P*N,h[2]=M*G+x*q,h[3]=D*G+P*q,h[4]=M*se+x*ce+$,h[5]=D*se+P*ce+T,h}function g(h,v,w){return h[0]=v[0]-w[0],h[1]=v[1]-w[1],h[2]=v[2]-w[2],h[3]=v[3]-w[3],h[4]=v[4]-w[4],h[5]=v[5]-w[5],h}return at.mul=d,at.sub=g,at}var ot,St={};function Ot(){if(ot)return St;function c(h){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},c(h)}ot=1,Object.defineProperty(St,"__esModule",{value:!0}),St.create=function(){var h=new n.ARRAY_TYPE(9);return n.ARRAY_TYPE!=Float32Array&&(h[1]=0,h[2]=0,h[3]=0,h[5]=0,h[6]=0,h[7]=0),h[0]=1,h[4]=1,h[8]=1,h},St.fromMat4=function(h,v){return h[0]=v[0],h[1]=v[1],h[2]=v[2],h[3]=v[4],h[4]=v[5],h[5]=v[6],h[6]=v[8],h[7]=v[9],h[8]=v[10],h},St.clone=function(h){var v=new n.ARRAY_TYPE(9);return v[0]=h[0],v[1]=h[1],v[2]=h[2],v[3]=h[3],v[4]=h[4],v[5]=h[5],v[6]=h[6],v[7]=h[7],v[8]=h[8],v},St.copy=function(h,v){return h[0]=v[0],h[1]=v[1],h[2]=v[2],h[3]=v[3],h[4]=v[4],h[5]=v[5],h[6]=v[6],h[7]=v[7],h[8]=v[8],h},St.fromValues=function(h,v,w,M,D,x,P,$,T){var O=new n.ARRAY_TYPE(9);return O[0]=h,O[1]=v,O[2]=w,O[3]=M,O[4]=D,O[5]=x,O[6]=P,O[7]=$,O[8]=T,O},St.set=function(h,v,w,M,D,x,P,$,T,O){return h[0]=v,h[1]=w,h[2]=M,h[3]=D,h[4]=x,h[5]=P,h[6]=$,h[7]=T,h[8]=O,h},St.identity=function(h){return h[0]=1,h[1]=0,h[2]=0,h[3]=0,h[4]=1,h[5]=0,h[6]=0,h[7]=0,h[8]=1,h},St.transpose=function(h,v){if(h===v){var w=v[1],M=v[2],D=v[5];h[1]=v[3],h[2]=v[6],h[3]=w,h[5]=v[7],h[6]=M,h[7]=D}else h[0]=v[0],h[1]=v[3],h[2]=v[6],h[3]=v[1],h[4]=v[4],h[5]=v[7],h[6]=v[2],h[7]=v[5],h[8]=v[8];return h},St.invert=function(h,v){var w=v[0],M=v[1],D=v[2],x=v[3],P=v[4],$=v[5],T=v[6],O=v[7],N=v[8],G=N*P-$*O,q=-N*x+$*T,se=O*x-P*T,ce=w*G+M*q+D*se;return ce?(h[0]=G*(ce=1/ce),h[1]=(-N*M+D*O)*ce,h[2]=($*M-D*P)*ce,h[3]=q*ce,h[4]=(N*w-D*T)*ce,h[5]=(-$*w+D*x)*ce,h[6]=se*ce,h[7]=(-O*w+M*T)*ce,h[8]=(P*w-M*x)*ce,h):null},St.adjoint=function(h,v){var w=v[0],M=v[1],D=v[2],x=v[3],P=v[4],$=v[5],T=v[6],O=v[7],N=v[8];return h[0]=P*N-$*O,h[1]=D*O-M*N,h[2]=M*$-D*P,h[3]=$*T-x*N,h[4]=w*N-D*T,h[5]=D*x-w*$,h[6]=x*O-P*T,h[7]=M*T-w*O,h[8]=w*P-M*x,h},St.determinant=function(h){var v=h[3],w=h[4],M=h[5],D=h[6],x=h[7],P=h[8];return h[0]*(P*w-M*x)+h[1]*(-P*v+M*D)+h[2]*(x*v-w*D)},St.multiply=d,St.translate=function(h,v,w){var M=v[0],D=v[1],x=v[2],P=v[3],$=v[4],T=v[5],O=v[6],N=v[7],G=v[8],q=w[0],se=w[1];return h[0]=M,h[1]=D,h[2]=x,h[3]=P,h[4]=$,h[5]=T,h[6]=q*M+se*P+O,h[7]=q*D+se*$+N,h[8]=q*x+se*T+G,h},St.rotate=function(h,v,w){var M=v[0],D=v[1],x=v[2],P=v[3],$=v[4],T=v[5],O=v[6],N=v[7],G=v[8],q=Math.sin(w),se=Math.cos(w);return h[0]=se*M+q*P,h[1]=se*D+q*$,h[2]=se*x+q*T,h[3]=se*P-q*M,h[4]=se*$-q*D,h[5]=se*T-q*x,h[6]=O,h[7]=N,h[8]=G,h},St.scale=function(h,v,w){var M=w[0],D=w[1];return h[0]=M*v[0],h[1]=M*v[1],h[2]=M*v[2],h[3]=D*v[3],h[4]=D*v[4],h[5]=D*v[5],h[6]=v[6],h[7]=v[7],h[8]=v[8],h},St.fromTranslation=function(h,v){return h[0]=1,h[1]=0,h[2]=0,h[3]=0,h[4]=1,h[5]=0,h[6]=v[0],h[7]=v[1],h[8]=1,h},St.fromRotation=function(h,v){var w=Math.sin(v),M=Math.cos(v);return h[0]=M,h[1]=w,h[2]=0,h[3]=-w,h[4]=M,h[5]=0,h[6]=0,h[7]=0,h[8]=1,h},St.fromScaling=function(h,v){return h[0]=v[0],h[1]=0,h[2]=0,h[3]=0,h[4]=v[1],h[5]=0,h[6]=0,h[7]=0,h[8]=1,h},St.fromMat2d=function(h,v){return h[0]=v[0],h[1]=v[1],h[2]=0,h[3]=v[2],h[4]=v[3],h[5]=0,h[6]=v[4],h[7]=v[5],h[8]=1,h},St.fromQuat=function(h,v){var w=v[0],M=v[1],D=v[2],x=v[3],P=w+w,$=M+M,T=D+D,O=w*P,N=M*P,G=M*$,q=D*P,se=D*$,ce=D*T,te=x*P,pe=x*$,Ce=x*T;return h[0]=1-G-ce,h[3]=N-Ce,h[6]=q+pe,h[1]=N+Ce,h[4]=1-O-ce,h[7]=se-te,h[2]=q-pe,h[5]=se+te,h[8]=1-O-G,h},St.normalFromMat4=function(h,v){var w=v[0],M=v[1],D=v[2],x=v[3],P=v[4],$=v[5],T=v[6],O=v[7],N=v[8],G=v[9],q=v[10],se=v[11],ce=v[12],te=v[13],pe=v[14],Ce=v[15],Re=w*$-M*P,it=w*T-D*P,nt=w*O-x*P,et=M*T-D*$,Lt=M*O-x*$,ut=D*O-x*T,Zt=N*te-G*ce,on=N*pe-q*ce,Wt=N*Ce-se*ce,cn=G*pe-q*te,wn=G*Ce-se*te,Nn=q*Ce-se*pe,vn=Re*Nn-it*wn+nt*cn+et*Wt-Lt*on+ut*Zt;return vn?(h[0]=($*Nn-T*wn+O*cn)*(vn=1/vn),h[1]=(T*Wt-P*Nn-O*on)*vn,h[2]=(P*wn-$*Wt+O*Zt)*vn,h[3]=(D*wn-M*Nn-x*cn)*vn,h[4]=(w*Nn-D*Wt+x*on)*vn,h[5]=(M*Wt-w*wn-x*Zt)*vn,h[6]=(te*ut-pe*Lt+Ce*et)*vn,h[7]=(pe*nt-ce*ut-Ce*it)*vn,h[8]=(ce*Lt-te*nt+Ce*Re)*vn,h):null},St.projection=function(h,v,w){return h[0]=2/v,h[1]=0,h[2]=0,h[3]=0,h[4]=-2/w,h[5]=0,h[6]=-1,h[7]=1,h[8]=1,h},St.str=function(h){return"mat3("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+", "+h[4]+", "+h[5]+", "+h[6]+", "+h[7]+", "+h[8]+")"},St.frob=function(h){return Math.hypot(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8])},St.add=function(h,v,w){return h[0]=v[0]+w[0],h[1]=v[1]+w[1],h[2]=v[2]+w[2],h[3]=v[3]+w[3],h[4]=v[4]+w[4],h[5]=v[5]+w[5],h[6]=v[6]+w[6],h[7]=v[7]+w[7],h[8]=v[8]+w[8],h},St.subtract=g,St.multiplyScalar=function(h,v,w){return h[0]=v[0]*w,h[1]=v[1]*w,h[2]=v[2]*w,h[3]=v[3]*w,h[4]=v[4]*w,h[5]=v[5]*w,h[6]=v[6]*w,h[7]=v[7]*w,h[8]=v[8]*w,h},St.multiplyScalarAndAdd=function(h,v,w,M){return h[0]=v[0]+w[0]*M,h[1]=v[1]+w[1]*M,h[2]=v[2]+w[2]*M,h[3]=v[3]+w[3]*M,h[4]=v[4]+w[4]*M,h[5]=v[5]+w[5]*M,h[6]=v[6]+w[6]*M,h[7]=v[7]+w[7]*M,h[8]=v[8]+w[8]*M,h},St.exactEquals=function(h,v){return h[0]===v[0]&&h[1]===v[1]&&h[2]===v[2]&&h[3]===v[3]&&h[4]===v[4]&&h[5]===v[5]&&h[6]===v[6]&&h[7]===v[7]&&h[8]===v[8]},St.equals=function(h,v){var w=h[0],M=h[1],D=h[2],x=h[3],P=h[4],$=h[5],T=h[6],O=h[7],N=h[8],G=v[0],q=v[1],se=v[2],ce=v[3],te=v[4],pe=v[5],Ce=v[6],Re=v[7],it=v[8];return Math.abs(w-G)<=n.EPSILON*Math.max(1,Math.abs(w),Math.abs(G))&&Math.abs(M-q)<=n.EPSILON*Math.max(1,Math.abs(M),Math.abs(q))&&Math.abs(D-se)<=n.EPSILON*Math.max(1,Math.abs(D),Math.abs(se))&&Math.abs(x-ce)<=n.EPSILON*Math.max(1,Math.abs(x),Math.abs(ce))&&Math.abs(P-te)<=n.EPSILON*Math.max(1,Math.abs(P),Math.abs(te))&&Math.abs($-pe)<=n.EPSILON*Math.max(1,Math.abs($),Math.abs(pe))&&Math.abs(T-Ce)<=n.EPSILON*Math.max(1,Math.abs(T),Math.abs(Ce))&&Math.abs(O-Re)<=n.EPSILON*Math.max(1,Math.abs(O),Math.abs(Re))&&Math.abs(N-it)<=n.EPSILON*Math.max(1,Math.abs(N),Math.abs(it))},St.sub=St.mul=void 0;var n=function(h,v){if(h&&h.__esModule)return h;if(h===null||c(h)!=="object"&&typeof h!="function")return{default:h};var w=i(void 0);if(w&&w.has(h))return w.get(h);var M={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var x in h)if(x!=="default"&&Object.prototype.hasOwnProperty.call(h,x)){var P=D?Object.getOwnPropertyDescriptor(h,x):null;P&&(P.get||P.set)?Object.defineProperty(M,x,P):M[x]=h[x]}return M.default=h,w&&w.set(h,M),M}(_e());function i(h){if(typeof WeakMap!="function")return null;var v=new WeakMap,w=new WeakMap;return(i=function(M){return M?w:v})(h)}function d(h,v,w){var M=v[0],D=v[1],x=v[2],P=v[3],$=v[4],T=v[5],O=v[6],N=v[7],G=v[8],q=w[0],se=w[1],ce=w[2],te=w[3],pe=w[4],Ce=w[5],Re=w[6],it=w[7],nt=w[8];return h[0]=q*M+se*P+ce*O,h[1]=q*D+se*$+ce*N,h[2]=q*x+se*T+ce*G,h[3]=te*M+pe*P+Ce*O,h[4]=te*D+pe*$+Ce*N,h[5]=te*x+pe*T+Ce*G,h[6]=Re*M+it*P+nt*O,h[7]=Re*D+it*$+nt*N,h[8]=Re*x+it*T+nt*G,h}function g(h,v,w){return h[0]=v[0]-w[0],h[1]=v[1]-w[1],h[2]=v[2]-w[2],h[3]=v[3]-w[3],h[4]=v[4]-w[4],h[5]=v[5]-w[5],h[6]=v[6]-w[6],h[7]=v[7]-w[7],h[8]=v[8]-w[8],h}return St.mul=d,St.sub=g,St}var Ge,Qt={};function Pt(){if(Ge)return Qt;function c(x){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},c(x)}Ge=1,Object.defineProperty(Qt,"__esModule",{value:!0}),Qt.create=function(){var x=new n.ARRAY_TYPE(16);return n.ARRAY_TYPE!=Float32Array&&(x[1]=0,x[2]=0,x[3]=0,x[4]=0,x[6]=0,x[7]=0,x[8]=0,x[9]=0,x[11]=0,x[12]=0,x[13]=0,x[14]=0),x[0]=1,x[5]=1,x[10]=1,x[15]=1,x},Qt.clone=function(x){var P=new n.ARRAY_TYPE(16);return P[0]=x[0],P[1]=x[1],P[2]=x[2],P[3]=x[3],P[4]=x[4],P[5]=x[5],P[6]=x[6],P[7]=x[7],P[8]=x[8],P[9]=x[9],P[10]=x[10],P[11]=x[11],P[12]=x[12],P[13]=x[13],P[14]=x[14],P[15]=x[15],P},Qt.copy=function(x,P){return x[0]=P[0],x[1]=P[1],x[2]=P[2],x[3]=P[3],x[4]=P[4],x[5]=P[5],x[6]=P[6],x[7]=P[7],x[8]=P[8],x[9]=P[9],x[10]=P[10],x[11]=P[11],x[12]=P[12],x[13]=P[13],x[14]=P[14],x[15]=P[15],x},Qt.fromValues=function(x,P,$,T,O,N,G,q,se,ce,te,pe,Ce,Re,it,nt){var et=new n.ARRAY_TYPE(16);return et[0]=x,et[1]=P,et[2]=$,et[3]=T,et[4]=O,et[5]=N,et[6]=G,et[7]=q,et[8]=se,et[9]=ce,et[10]=te,et[11]=pe,et[12]=Ce,et[13]=Re,et[14]=it,et[15]=nt,et},Qt.set=function(x,P,$,T,O,N,G,q,se,ce,te,pe,Ce,Re,it,nt,et){return x[0]=P,x[1]=$,x[2]=T,x[3]=O,x[4]=N,x[5]=G,x[6]=q,x[7]=se,x[8]=ce,x[9]=te,x[10]=pe,x[11]=Ce,x[12]=Re,x[13]=it,x[14]=nt,x[15]=et,x},Qt.identity=d,Qt.transpose=function(x,P){if(x===P){var $=P[1],T=P[2],O=P[3],N=P[6],G=P[7],q=P[11];x[1]=P[4],x[2]=P[8],x[3]=P[12],x[4]=$,x[6]=P[9],x[7]=P[13],x[8]=T,x[9]=N,x[11]=P[14],x[12]=O,x[13]=G,x[14]=q}else x[0]=P[0],x[1]=P[4],x[2]=P[8],x[3]=P[12],x[4]=P[1],x[5]=P[5],x[6]=P[9],x[7]=P[13],x[8]=P[2],x[9]=P[6],x[10]=P[10],x[11]=P[14],x[12]=P[3],x[13]=P[7],x[14]=P[11],x[15]=P[15];return x},Qt.invert=function(x,P){var $=P[0],T=P[1],O=P[2],N=P[3],G=P[4],q=P[5],se=P[6],ce=P[7],te=P[8],pe=P[9],Ce=P[10],Re=P[11],it=P[12],nt=P[13],et=P[14],Lt=P[15],ut=$*q-T*G,Zt=$*se-O*G,on=$*ce-N*G,Wt=T*se-O*q,cn=T*ce-N*q,wn=O*ce-N*se,Nn=te*nt-pe*it,vn=te*et-Ce*it,xr=te*Lt-Re*it,Hr=pe*et-Ce*nt,_r=pe*Lt-Re*nt,Bi=Ce*Lt-Re*et,Mi=ut*Bi-Zt*_r+on*Hr+Wt*xr-cn*vn+wn*Nn;return Mi?(x[0]=(q*Bi-se*_r+ce*Hr)*(Mi=1/Mi),x[1]=(O*_r-T*Bi-N*Hr)*Mi,x[2]=(nt*wn-et*cn+Lt*Wt)*Mi,x[3]=(Ce*cn-pe*wn-Re*Wt)*Mi,x[4]=(se*xr-G*Bi-ce*vn)*Mi,x[5]=($*Bi-O*xr+N*vn)*Mi,x[6]=(et*on-it*wn-Lt*Zt)*Mi,x[7]=(te*wn-Ce*on+Re*Zt)*Mi,x[8]=(G*_r-q*xr+ce*Nn)*Mi,x[9]=(T*xr-$*_r-N*Nn)*Mi,x[10]=(it*cn-nt*on+Lt*ut)*Mi,x[11]=(pe*on-te*cn-Re*ut)*Mi,x[12]=(q*vn-G*Hr-se*Nn)*Mi,x[13]=($*Hr-T*vn+O*Nn)*Mi,x[14]=(nt*Zt-it*Wt-et*ut)*Mi,x[15]=(te*Wt-pe*Zt+Ce*ut)*Mi,x):null},Qt.adjoint=function(x,P){var $=P[0],T=P[1],O=P[2],N=P[3],G=P[4],q=P[5],se=P[6],ce=P[7],te=P[8],pe=P[9],Ce=P[10],Re=P[11],it=P[12],nt=P[13],et=P[14],Lt=P[15];return x[0]=q*(Ce*Lt-Re*et)-pe*(se*Lt-ce*et)+nt*(se*Re-ce*Ce),x[1]=-(T*(Ce*Lt-Re*et)-pe*(O*Lt-N*et)+nt*(O*Re-N*Ce)),x[2]=T*(se*Lt-ce*et)-q*(O*Lt-N*et)+nt*(O*ce-N*se),x[3]=-(T*(se*Re-ce*Ce)-q*(O*Re-N*Ce)+pe*(O*ce-N*se)),x[4]=-(G*(Ce*Lt-Re*et)-te*(se*Lt-ce*et)+it*(se*Re-ce*Ce)),x[5]=$*(Ce*Lt-Re*et)-te*(O*Lt-N*et)+it*(O*Re-N*Ce),x[6]=-($*(se*Lt-ce*et)-G*(O*Lt-N*et)+it*(O*ce-N*se)),x[7]=$*(se*Re-ce*Ce)-G*(O*Re-N*Ce)+te*(O*ce-N*se),x[8]=G*(pe*Lt-Re*nt)-te*(q*Lt-ce*nt)+it*(q*Re-ce*pe),x[9]=-($*(pe*Lt-Re*nt)-te*(T*Lt-N*nt)+it*(T*Re-N*pe)),x[10]=$*(q*Lt-ce*nt)-G*(T*Lt-N*nt)+it*(T*ce-N*q),x[11]=-($*(q*Re-ce*pe)-G*(T*Re-N*pe)+te*(T*ce-N*q)),x[12]=-(G*(pe*et-Ce*nt)-te*(q*et-se*nt)+it*(q*Ce-se*pe)),x[13]=$*(pe*et-Ce*nt)-te*(T*et-O*nt)+it*(T*Ce-O*pe),x[14]=-($*(q*et-se*nt)-G*(T*et-O*nt)+it*(T*se-O*q)),x[15]=$*(q*Ce-se*pe)-G*(T*Ce-O*pe)+te*(T*se-O*q),x},Qt.determinant=function(x){var P=x[0],$=x[1],T=x[2],O=x[3],N=x[4],G=x[5],q=x[6],se=x[7],ce=x[8],te=x[9],pe=x[10],Ce=x[11],Re=x[12],it=x[13],nt=x[14],et=x[15];return(P*G-$*N)*(pe*et-Ce*nt)-(P*q-T*N)*(te*et-Ce*it)+(P*se-O*N)*(te*nt-pe*it)+($*q-T*G)*(ce*et-Ce*Re)-($*se-O*G)*(ce*nt-pe*Re)+(T*se-O*q)*(ce*it-te*Re)},Qt.multiply=g,Qt.translate=function(x,P,$){var T,O,N,G,q,se,ce,te,pe,Ce,Re,it,nt=$[0],et=$[1],Lt=$[2];return P===x?(x[12]=P[0]*nt+P[4]*et+P[8]*Lt+P[12],x[13]=P[1]*nt+P[5]*et+P[9]*Lt+P[13],x[14]=P[2]*nt+P[6]*et+P[10]*Lt+P[14],x[15]=P[3]*nt+P[7]*et+P[11]*Lt+P[15]):(O=P[1],N=P[2],G=P[3],q=P[4],se=P[5],ce=P[6],te=P[7],pe=P[8],Ce=P[9],Re=P[10],it=P[11],x[0]=T=P[0],x[1]=O,x[2]=N,x[3]=G,x[4]=q,x[5]=se,x[6]=ce,x[7]=te,x[8]=pe,x[9]=Ce,x[10]=Re,x[11]=it,x[12]=T*nt+q*et+pe*Lt+P[12],x[13]=O*nt+se*et+Ce*Lt+P[13],x[14]=N*nt+ce*et+Re*Lt+P[14],x[15]=G*nt+te*et+it*Lt+P[15]),x},Qt.scale=function(x,P,$){var T=$[0],O=$[1],N=$[2];return x[0]=P[0]*T,x[1]=P[1]*T,x[2]=P[2]*T,x[3]=P[3]*T,x[4]=P[4]*O,x[5]=P[5]*O,x[6]=P[6]*O,x[7]=P[7]*O,x[8]=P[8]*N,x[9]=P[9]*N,x[10]=P[10]*N,x[11]=P[11]*N,x[12]=P[12],x[13]=P[13],x[14]=P[14],x[15]=P[15],x},Qt.rotate=function(x,P,$,T){var O,N,G,q,se,ce,te,pe,Ce,Re,it,nt,et,Lt,ut,Zt,on,Wt,cn,wn,Nn,vn,xr,Hr,_r=T[0],Bi=T[1],Mi=T[2],di=Math.hypot(_r,Bi,Mi);return di<n.EPSILON?null:(_r*=di=1/di,Bi*=di,Mi*=di,O=Math.sin($),N=Math.cos($),se=P[1],ce=P[2],te=P[3],Ce=P[5],Re=P[6],it=P[7],et=P[9],Lt=P[10],ut=P[11],Zt=_r*_r*(G=1-N)+N,cn=_r*Bi*G-Mi*O,wn=Bi*Bi*G+N,Nn=Mi*Bi*G+_r*O,vn=_r*Mi*G+Bi*O,xr=Bi*Mi*G-_r*O,Hr=Mi*Mi*G+N,x[0]=(q=P[0])*Zt+(pe=P[4])*(on=Bi*_r*G+Mi*O)+(nt=P[8])*(Wt=Mi*_r*G-Bi*O),x[1]=se*Zt+Ce*on+et*Wt,x[2]=ce*Zt+Re*on+Lt*Wt,x[3]=te*Zt+it*on+ut*Wt,x[4]=q*cn+pe*wn+nt*Nn,x[5]=se*cn+Ce*wn+et*Nn,x[6]=ce*cn+Re*wn+Lt*Nn,x[7]=te*cn+it*wn+ut*Nn,x[8]=q*vn+pe*xr+nt*Hr,x[9]=se*vn+Ce*xr+et*Hr,x[10]=ce*vn+Re*xr+Lt*Hr,x[11]=te*vn+it*xr+ut*Hr,P!==x&&(x[12]=P[12],x[13]=P[13],x[14]=P[14],x[15]=P[15]),x)},Qt.rotateX=function(x,P,$){var T=Math.sin($),O=Math.cos($),N=P[4],G=P[5],q=P[6],se=P[7],ce=P[8],te=P[9],pe=P[10],Ce=P[11];return P!==x&&(x[0]=P[0],x[1]=P[1],x[2]=P[2],x[3]=P[3],x[12]=P[12],x[13]=P[13],x[14]=P[14],x[15]=P[15]),x[4]=N*O+ce*T,x[5]=G*O+te*T,x[6]=q*O+pe*T,x[7]=se*O+Ce*T,x[8]=ce*O-N*T,x[9]=te*O-G*T,x[10]=pe*O-q*T,x[11]=Ce*O-se*T,x},Qt.rotateY=function(x,P,$){var T=Math.sin($),O=Math.cos($),N=P[0],G=P[1],q=P[2],se=P[3],ce=P[8],te=P[9],pe=P[10],Ce=P[11];return P!==x&&(x[4]=P[4],x[5]=P[5],x[6]=P[6],x[7]=P[7],x[12]=P[12],x[13]=P[13],x[14]=P[14],x[15]=P[15]),x[0]=N*O-ce*T,x[1]=G*O-te*T,x[2]=q*O-pe*T,x[3]=se*O-Ce*T,x[8]=N*T+ce*O,x[9]=G*T+te*O,x[10]=q*T+pe*O,x[11]=se*T+Ce*O,x},Qt.rotateZ=function(x,P,$){var T=Math.sin($),O=Math.cos($),N=P[0],G=P[1],q=P[2],se=P[3],ce=P[4],te=P[5],pe=P[6],Ce=P[7];return P!==x&&(x[8]=P[8],x[9]=P[9],x[10]=P[10],x[11]=P[11],x[12]=P[12],x[13]=P[13],x[14]=P[14],x[15]=P[15]),x[0]=N*O+ce*T,x[1]=G*O+te*T,x[2]=q*O+pe*T,x[3]=se*O+Ce*T,x[4]=ce*O-N*T,x[5]=te*O-G*T,x[6]=pe*O-q*T,x[7]=Ce*O-se*T,x},Qt.fromTranslation=function(x,P){return x[0]=1,x[1]=0,x[2]=0,x[3]=0,x[4]=0,x[5]=1,x[6]=0,x[7]=0,x[8]=0,x[9]=0,x[10]=1,x[11]=0,x[12]=P[0],x[13]=P[1],x[14]=P[2],x[15]=1,x},Qt.fromScaling=function(x,P){return x[0]=P[0],x[1]=0,x[2]=0,x[3]=0,x[4]=0,x[5]=P[1],x[6]=0,x[7]=0,x[8]=0,x[9]=0,x[10]=P[2],x[11]=0,x[12]=0,x[13]=0,x[14]=0,x[15]=1,x},Qt.fromRotation=function(x,P,$){var T,O,N,G=$[0],q=$[1],se=$[2],ce=Math.hypot(G,q,se);return ce<n.EPSILON?null:(G*=ce=1/ce,q*=ce,se*=ce,T=Math.sin(P),O=Math.cos(P),x[0]=G*G*(N=1-O)+O,x[1]=q*G*N+se*T,x[2]=se*G*N-q*T,x[3]=0,x[4]=G*q*N-se*T,x[5]=q*q*N+O,x[6]=se*q*N+G*T,x[7]=0,x[8]=G*se*N+q*T,x[9]=q*se*N-G*T,x[10]=se*se*N+O,x[11]=0,x[12]=0,x[13]=0,x[14]=0,x[15]=1,x)},Qt.fromXRotation=function(x,P){var $=Math.sin(P),T=Math.cos(P);return x[0]=1,x[1]=0,x[2]=0,x[3]=0,x[4]=0,x[5]=T,x[6]=$,x[7]=0,x[8]=0,x[9]=-$,x[10]=T,x[11]=0,x[12]=0,x[13]=0,x[14]=0,x[15]=1,x},Qt.fromYRotation=function(x,P){var $=Math.sin(P),T=Math.cos(P);return x[0]=T,x[1]=0,x[2]=-$,x[3]=0,x[4]=0,x[5]=1,x[6]=0,x[7]=0,x[8]=$,x[9]=0,x[10]=T,x[11]=0,x[12]=0,x[13]=0,x[14]=0,x[15]=1,x},Qt.fromZRotation=function(x,P){var $=Math.sin(P),T=Math.cos(P);return x[0]=T,x[1]=$,x[2]=0,x[3]=0,x[4]=-$,x[5]=T,x[6]=0,x[7]=0,x[8]=0,x[9]=0,x[10]=1,x[11]=0,x[12]=0,x[13]=0,x[14]=0,x[15]=1,x},Qt.fromRotationTranslation=h,Qt.fromQuat2=function(x,P){var $=new n.ARRAY_TYPE(3),T=-P[0],O=-P[1],N=-P[2],G=P[3],q=P[4],se=P[5],ce=P[6],te=P[7],pe=T*T+O*O+N*N+G*G;return pe>0?($[0]=2*(q*G+te*T+se*N-ce*O)/pe,$[1]=2*(se*G+te*O+ce*T-q*N)/pe,$[2]=2*(ce*G+te*N+q*O-se*T)/pe):($[0]=2*(q*G+te*T+se*N-ce*O),$[1]=2*(se*G+te*O+ce*T-q*N),$[2]=2*(ce*G+te*N+q*O-se*T)),h(x,P,$),x},Qt.getTranslation=function(x,P){return x[0]=P[12],x[1]=P[13],x[2]=P[14],x},Qt.getScaling=v,Qt.getRotation=function(x,P){var $=new n.ARRAY_TYPE(3);v($,P);var T=1/$[0],O=1/$[1],N=1/$[2],G=P[0]*T,q=P[1]*O,se=P[2]*N,ce=P[4]*T,te=P[5]*O,pe=P[6]*N,Ce=P[8]*T,Re=P[9]*O,it=P[10]*N,nt=G+te+it,et=0;return nt>0?(et=2*Math.sqrt(nt+1),x[3]=.25*et,x[0]=(pe-Re)/et,x[1]=(Ce-se)/et,x[2]=(q-ce)/et):G>te&&G>it?(et=2*Math.sqrt(1+G-te-it),x[3]=(pe-Re)/et,x[0]=.25*et,x[1]=(q+ce)/et,x[2]=(Ce+se)/et):te>it?(et=2*Math.sqrt(1+te-G-it),x[3]=(Ce-se)/et,x[0]=(q+ce)/et,x[1]=.25*et,x[2]=(pe+Re)/et):(et=2*Math.sqrt(1+it-G-te),x[3]=(q-ce)/et,x[0]=(Ce+se)/et,x[1]=(pe+Re)/et,x[2]=.25*et),x},Qt.fromRotationTranslationScale=function(x,P,$,T){var O=P[0],N=P[1],G=P[2],q=P[3],se=O+O,ce=N+N,te=G+G,pe=O*se,Ce=O*ce,Re=O*te,it=N*ce,nt=N*te,et=G*te,Lt=q*se,ut=q*ce,Zt=q*te,on=T[0],Wt=T[1],cn=T[2];return x[0]=(1-(it+et))*on,x[1]=(Ce+Zt)*on,x[2]=(Re-ut)*on,x[3]=0,x[4]=(Ce-Zt)*Wt,x[5]=(1-(pe+et))*Wt,x[6]=(nt+Lt)*Wt,x[7]=0,x[8]=(Re+ut)*cn,x[9]=(nt-Lt)*cn,x[10]=(1-(pe+it))*cn,x[11]=0,x[12]=$[0],x[13]=$[1],x[14]=$[2],x[15]=1,x},Qt.fromRotationTranslationScaleOrigin=function(x,P,$,T,O){var N=P[0],G=P[1],q=P[2],se=P[3],ce=N+N,te=G+G,pe=q+q,Ce=N*ce,Re=N*te,it=N*pe,nt=G*te,et=G*pe,Lt=q*pe,ut=se*ce,Zt=se*te,on=se*pe,Wt=T[0],cn=T[1],wn=T[2],Nn=O[0],vn=O[1],xr=O[2],Hr=(1-(nt+Lt))*Wt,_r=(Re+on)*Wt,Bi=(it-Zt)*Wt,Mi=(Re-on)*cn,di=(1-(Ce+Lt))*cn,Wr=(et+ut)*cn,bo=(it+Zt)*wn,ji=(et-ut)*wn,Qi=(1-(Ce+nt))*wn;return x[0]=Hr,x[1]=_r,x[2]=Bi,x[3]=0,x[4]=Mi,x[5]=di,x[6]=Wr,x[7]=0,x[8]=bo,x[9]=ji,x[10]=Qi,x[11]=0,x[12]=$[0]+Nn-(Hr*Nn+Mi*vn+bo*xr),x[13]=$[1]+vn-(_r*Nn+di*vn+ji*xr),x[14]=$[2]+xr-(Bi*Nn+Wr*vn+Qi*xr),x[15]=1,x},Qt.fromQuat=function(x,P){var $=P[0],T=P[1],O=P[2],N=P[3],G=$+$,q=T+T,se=O+O,ce=$*G,te=T*G,pe=T*q,Ce=O*G,Re=O*q,it=O*se,nt=N*G,et=N*q,Lt=N*se;return x[0]=1-pe-it,x[1]=te+Lt,x[2]=Ce-et,x[3]=0,x[4]=te-Lt,x[5]=1-ce-it,x[6]=Re+nt,x[7]=0,x[8]=Ce+et,x[9]=Re-nt,x[10]=1-ce-pe,x[11]=0,x[12]=0,x[13]=0,x[14]=0,x[15]=1,x},Qt.frustum=function(x,P,$,T,O,N,G){var q=1/($-P),se=1/(O-T),ce=1/(N-G);return x[0]=2*N*q,x[1]=0,x[2]=0,x[3]=0,x[4]=0,x[5]=2*N*se,x[6]=0,x[7]=0,x[8]=($+P)*q,x[9]=(O+T)*se,x[10]=(G+N)*ce,x[11]=-1,x[12]=0,x[13]=0,x[14]=G*N*2*ce,x[15]=0,x},Qt.perspectiveNO=w,Qt.perspectiveZO=function(x,P,$,T,O){var N,G=1/Math.tan(P/2);return x[0]=G/$,x[1]=0,x[2]=0,x[3]=0,x[4]=0,x[5]=G,x[6]=0,x[7]=0,x[8]=0,x[9]=0,x[11]=-1,x[12]=0,x[13]=0,x[15]=0,O!=null&&O!==1/0?(x[10]=O*(N=1/(T-O)),x[14]=O*T*N):(x[10]=-1,x[14]=-T),x},Qt.perspectiveFromFieldOfView=function(x,P,$,T){var O=Math.tan(P.upDegrees*Math.PI/180),N=Math.tan(P.downDegrees*Math.PI/180),G=Math.tan(P.leftDegrees*Math.PI/180),q=Math.tan(P.rightDegrees*Math.PI/180),se=2/(G+q),ce=2/(O+N);return x[0]=se,x[1]=0,x[2]=0,x[3]=0,x[4]=0,x[5]=ce,x[6]=0,x[7]=0,x[8]=-(G-q)*se*.5,x[9]=(O-N)*ce*.5,x[10]=T/($-T),x[11]=-1,x[12]=0,x[13]=0,x[14]=T*$/($-T),x[15]=0,x},Qt.orthoNO=M,Qt.orthoZO=function(x,P,$,T,O,N,G){var q=1/(P-$),se=1/(T-O),ce=1/(N-G);return x[0]=-2*q,x[1]=0,x[2]=0,x[3]=0,x[4]=0,x[5]=-2*se,x[6]=0,x[7]=0,x[8]=0,x[9]=0,x[10]=ce,x[11]=0,x[12]=(P+$)*q,x[13]=(O+T)*se,x[14]=N*ce,x[15]=1,x},Qt.lookAt=function(x,P,$,T){var O,N,G,q,se,ce,te,pe,Ce,Re,it=P[0],nt=P[1],et=P[2],Lt=T[0],ut=T[1],Zt=T[2],on=$[0],Wt=$[1],cn=$[2];return Math.abs(it-on)<n.EPSILON&&Math.abs(nt-Wt)<n.EPSILON&&Math.abs(et-cn)<n.EPSILON?d(x):(te=it-on,pe=nt-Wt,Ce=et-cn,O=ut*(Ce*=Re=1/Math.hypot(te,pe,Ce))-Zt*(pe*=Re),N=Zt*(te*=Re)-Lt*Ce,G=Lt*pe-ut*te,(Re=Math.hypot(O,N,G))?(O*=Re=1/Re,N*=Re,G*=Re):(O=0,N=0,G=0),q=pe*G-Ce*N,se=Ce*O-te*G,ce=te*N-pe*O,(Re=Math.hypot(q,se,ce))?(q*=Re=1/Re,se*=Re,ce*=Re):(q=0,se=0,ce=0),x[0]=O,x[1]=q,x[2]=te,x[3]=0,x[4]=N,x[5]=se,x[6]=pe,x[7]=0,x[8]=G,x[9]=ce,x[10]=Ce,x[11]=0,x[12]=-(O*it+N*nt+G*et),x[13]=-(q*it+se*nt+ce*et),x[14]=-(te*it+pe*nt+Ce*et),x[15]=1,x)},Qt.targetTo=function(x,P,$,T){var O=P[0],N=P[1],G=P[2],q=T[0],se=T[1],ce=T[2],te=O-$[0],pe=N-$[1],Ce=G-$[2],Re=te*te+pe*pe+Ce*Ce;Re>0&&(te*=Re=1/Math.sqrt(Re),pe*=Re,Ce*=Re);var it=se*Ce-ce*pe,nt=ce*te-q*Ce,et=q*pe-se*te;return(Re=it*it+nt*nt+et*et)>0&&(it*=Re=1/Math.sqrt(Re),nt*=Re,et*=Re),x[0]=it,x[1]=nt,x[2]=et,x[3]=0,x[4]=pe*et-Ce*nt,x[5]=Ce*it-te*et,x[6]=te*nt-pe*it,x[7]=0,x[8]=te,x[9]=pe,x[10]=Ce,x[11]=0,x[12]=O,x[13]=N,x[14]=G,x[15]=1,x},Qt.str=function(x){return"mat4("+x[0]+", "+x[1]+", "+x[2]+", "+x[3]+", "+x[4]+", "+x[5]+", "+x[6]+", "+x[7]+", "+x[8]+", "+x[9]+", "+x[10]+", "+x[11]+", "+x[12]+", "+x[13]+", "+x[14]+", "+x[15]+")"},Qt.frob=function(x){return Math.hypot(x[0],x[1],x[2],x[3],x[4],x[5],x[6],x[7],x[8],x[9],x[10],x[11],x[12],x[13],x[14],x[15])},Qt.add=function(x,P,$){return x[0]=P[0]+$[0],x[1]=P[1]+$[1],x[2]=P[2]+$[2],x[3]=P[3]+$[3],x[4]=P[4]+$[4],x[5]=P[5]+$[5],x[6]=P[6]+$[6],x[7]=P[7]+$[7],x[8]=P[8]+$[8],x[9]=P[9]+$[9],x[10]=P[10]+$[10],x[11]=P[11]+$[11],x[12]=P[12]+$[12],x[13]=P[13]+$[13],x[14]=P[14]+$[14],x[15]=P[15]+$[15],x},Qt.subtract=D,Qt.multiplyScalar=function(x,P,$){return x[0]=P[0]*$,x[1]=P[1]*$,x[2]=P[2]*$,x[3]=P[3]*$,x[4]=P[4]*$,x[5]=P[5]*$,x[6]=P[6]*$,x[7]=P[7]*$,x[8]=P[8]*$,x[9]=P[9]*$,x[10]=P[10]*$,x[11]=P[11]*$,x[12]=P[12]*$,x[13]=P[13]*$,x[14]=P[14]*$,x[15]=P[15]*$,x},Qt.multiplyScalarAndAdd=function(x,P,$,T){return x[0]=P[0]+$[0]*T,x[1]=P[1]+$[1]*T,x[2]=P[2]+$[2]*T,x[3]=P[3]+$[3]*T,x[4]=P[4]+$[4]*T,x[5]=P[5]+$[5]*T,x[6]=P[6]+$[6]*T,x[7]=P[7]+$[7]*T,x[8]=P[8]+$[8]*T,x[9]=P[9]+$[9]*T,x[10]=P[10]+$[10]*T,x[11]=P[11]+$[11]*T,x[12]=P[12]+$[12]*T,x[13]=P[13]+$[13]*T,x[14]=P[14]+$[14]*T,x[15]=P[15]+$[15]*T,x},Qt.exactEquals=function(x,P){return x[0]===P[0]&&x[1]===P[1]&&x[2]===P[2]&&x[3]===P[3]&&x[4]===P[4]&&x[5]===P[5]&&x[6]===P[6]&&x[7]===P[7]&&x[8]===P[8]&&x[9]===P[9]&&x[10]===P[10]&&x[11]===P[11]&&x[12]===P[12]&&x[13]===P[13]&&x[14]===P[14]&&x[15]===P[15]},Qt.equals=function(x,P){var $=x[0],T=x[1],O=x[2],N=x[3],G=x[4],q=x[5],se=x[6],ce=x[7],te=x[8],pe=x[9],Ce=x[10],Re=x[11],it=x[12],nt=x[13],et=x[14],Lt=x[15],ut=P[0],Zt=P[1],on=P[2],Wt=P[3],cn=P[4],wn=P[5],Nn=P[6],vn=P[7],xr=P[8],Hr=P[9],_r=P[10],Bi=P[11],Mi=P[12],di=P[13],Wr=P[14],bo=P[15];return Math.abs($-ut)<=n.EPSILON*Math.max(1,Math.abs($),Math.abs(ut))&&Math.abs(T-Zt)<=n.EPSILON*Math.max(1,Math.abs(T),Math.abs(Zt))&&Math.abs(O-on)<=n.EPSILON*Math.max(1,Math.abs(O),Math.abs(on))&&Math.abs(N-Wt)<=n.EPSILON*Math.max(1,Math.abs(N),Math.abs(Wt))&&Math.abs(G-cn)<=n.EPSILON*Math.max(1,Math.abs(G),Math.abs(cn))&&Math.abs(q-wn)<=n.EPSILON*Math.max(1,Math.abs(q),Math.abs(wn))&&Math.abs(se-Nn)<=n.EPSILON*Math.max(1,Math.abs(se),Math.abs(Nn))&&Math.abs(ce-vn)<=n.EPSILON*Math.max(1,Math.abs(ce),Math.abs(vn))&&Math.abs(te-xr)<=n.EPSILON*Math.max(1,Math.abs(te),Math.abs(xr))&&Math.abs(pe-Hr)<=n.EPSILON*Math.max(1,Math.abs(pe),Math.abs(Hr))&&Math.abs(Ce-_r)<=n.EPSILON*Math.max(1,Math.abs(Ce),Math.abs(_r))&&Math.abs(Re-Bi)<=n.EPSILON*Math.max(1,Math.abs(Re),Math.abs(Bi))&&Math.abs(it-Mi)<=n.EPSILON*Math.max(1,Math.abs(it),Math.abs(Mi))&&Math.abs(nt-di)<=n.EPSILON*Math.max(1,Math.abs(nt),Math.abs(di))&&Math.abs(et-Wr)<=n.EPSILON*Math.max(1,Math.abs(et),Math.abs(Wr))&&Math.abs(Lt-bo)<=n.EPSILON*Math.max(1,Math.abs(Lt),Math.abs(bo))},Qt.sub=Qt.mul=Qt.ortho=Qt.perspective=void 0;var n=function(x,P){if(x&&x.__esModule)return x;if(x===null||c(x)!=="object"&&typeof x!="function")return{default:x};var $=i(void 0);if($&&$.has(x))return $.get(x);var T={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var N in x)if(N!=="default"&&Object.prototype.hasOwnProperty.call(x,N)){var G=O?Object.getOwnPropertyDescriptor(x,N):null;G&&(G.get||G.set)?Object.defineProperty(T,N,G):T[N]=x[N]}return T.default=x,$&&$.set(x,T),T}(_e());function i(x){if(typeof WeakMap!="function")return null;var P=new WeakMap,$=new WeakMap;return(i=function(T){return T?$:P})(x)}function d(x){return x[0]=1,x[1]=0,x[2]=0,x[3]=0,x[4]=0,x[5]=1,x[6]=0,x[7]=0,x[8]=0,x[9]=0,x[10]=1,x[11]=0,x[12]=0,x[13]=0,x[14]=0,x[15]=1,x}function g(x,P,$){var T=P[0],O=P[1],N=P[2],G=P[3],q=P[4],se=P[5],ce=P[6],te=P[7],pe=P[8],Ce=P[9],Re=P[10],it=P[11],nt=P[12],et=P[13],Lt=P[14],ut=P[15],Zt=$[0],on=$[1],Wt=$[2],cn=$[3];return x[0]=Zt*T+on*q+Wt*pe+cn*nt,x[1]=Zt*O+on*se+Wt*Ce+cn*et,x[2]=Zt*N+on*ce+Wt*Re+cn*Lt,x[3]=Zt*G+on*te+Wt*it+cn*ut,x[4]=(Zt=$[4])*T+(on=$[5])*q+(Wt=$[6])*pe+(cn=$[7])*nt,x[5]=Zt*O+on*se+Wt*Ce+cn*et,x[6]=Zt*N+on*ce+Wt*Re+cn*Lt,x[7]=Zt*G+on*te+Wt*it+cn*ut,x[8]=(Zt=$[8])*T+(on=$[9])*q+(Wt=$[10])*pe+(cn=$[11])*nt,x[9]=Zt*O+on*se+Wt*Ce+cn*et,x[10]=Zt*N+on*ce+Wt*Re+cn*Lt,x[11]=Zt*G+on*te+Wt*it+cn*ut,x[12]=(Zt=$[12])*T+(on=$[13])*q+(Wt=$[14])*pe+(cn=$[15])*nt,x[13]=Zt*O+on*se+Wt*Ce+cn*et,x[14]=Zt*N+on*ce+Wt*Re+cn*Lt,x[15]=Zt*G+on*te+Wt*it+cn*ut,x}function h(x,P,$){var T=P[0],O=P[1],N=P[2],G=P[3],q=T+T,se=O+O,ce=N+N,te=T*q,pe=T*se,Ce=T*ce,Re=O*se,it=O*ce,nt=N*ce,et=G*q,Lt=G*se,ut=G*ce;return x[0]=1-(Re+nt),x[1]=pe+ut,x[2]=Ce-Lt,x[3]=0,x[4]=pe-ut,x[5]=1-(te+nt),x[6]=it+et,x[7]=0,x[8]=Ce+Lt,x[9]=it-et,x[10]=1-(te+Re),x[11]=0,x[12]=$[0],x[13]=$[1],x[14]=$[2],x[15]=1,x}function v(x,P){var $=P[4],T=P[5],O=P[6],N=P[8],G=P[9],q=P[10];return x[0]=Math.hypot(P[0],P[1],P[2]),x[1]=Math.hypot($,T,O),x[2]=Math.hypot(N,G,q),x}function w(x,P,$,T,O){var N,G=1/Math.tan(P/2);return x[0]=G/$,x[1]=0,x[2]=0,x[3]=0,x[4]=0,x[5]=G,x[6]=0,x[7]=0,x[8]=0,x[9]=0,x[11]=-1,x[12]=0,x[13]=0,x[15]=0,O!=null&&O!==1/0?(x[10]=(O+T)*(N=1/(T-O)),x[14]=2*O*T*N):(x[10]=-1,x[14]=-2*T),x}function M(x,P,$,T,O,N,G){var q=1/(P-$),se=1/(T-O),ce=1/(N-G);return x[0]=-2*q,x[1]=0,x[2]=0,x[3]=0,x[4]=0,x[5]=-2*se,x[6]=0,x[7]=0,x[8]=0,x[9]=0,x[10]=2*ce,x[11]=0,x[12]=(P+$)*q,x[13]=(O+T)*se,x[14]=(G+N)*ce,x[15]=1,x}function D(x,P,$){return x[0]=P[0]-$[0],x[1]=P[1]-$[1],x[2]=P[2]-$[2],x[3]=P[3]-$[3],x[4]=P[4]-$[4],x[5]=P[5]-$[5],x[6]=P[6]-$[6],x[7]=P[7]-$[7],x[8]=P[8]-$[8],x[9]=P[9]-$[9],x[10]=P[10]-$[10],x[11]=P[11]-$[11],x[12]=P[12]-$[12],x[13]=P[13]-$[13],x[14]=P[14]-$[14],x[15]=P[15]-$[15],x}return Qt.perspective=w,Qt.ortho=M,Qt.mul=g,Qt.sub=D,Qt}var Ft,Xt={},Ht={};function Ar(){if(Ft)return Ht;function c(O){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},c(O)}Ft=1,Object.defineProperty(Ht,"__esModule",{value:!0}),Ht.create=d,Ht.clone=function(O){var N=new n.ARRAY_TYPE(3);return N[0]=O[0],N[1]=O[1],N[2]=O[2],N},Ht.length=g,Ht.fromValues=function(O,N,G){var q=new n.ARRAY_TYPE(3);return q[0]=O,q[1]=N,q[2]=G,q},Ht.copy=function(O,N){return O[0]=N[0],O[1]=N[1],O[2]=N[2],O},Ht.set=function(O,N,G,q){return O[0]=N,O[1]=G,O[2]=q,O},Ht.add=function(O,N,G){return O[0]=N[0]+G[0],O[1]=N[1]+G[1],O[2]=N[2]+G[2],O},Ht.subtract=h,Ht.multiply=v,Ht.divide=w,Ht.ceil=function(O,N){return O[0]=Math.ceil(N[0]),O[1]=Math.ceil(N[1]),O[2]=Math.ceil(N[2]),O},Ht.floor=function(O,N){return O[0]=Math.floor(N[0]),O[1]=Math.floor(N[1]),O[2]=Math.floor(N[2]),O},Ht.min=function(O,N,G){return O[0]=Math.min(N[0],G[0]),O[1]=Math.min(N[1],G[1]),O[2]=Math.min(N[2],G[2]),O},Ht.max=function(O,N,G){return O[0]=Math.max(N[0],G[0]),O[1]=Math.max(N[1],G[1]),O[2]=Math.max(N[2],G[2]),O},Ht.round=function(O,N){return O[0]=Math.round(N[0]),O[1]=Math.round(N[1]),O[2]=Math.round(N[2]),O},Ht.scale=function(O,N,G){return O[0]=N[0]*G,O[1]=N[1]*G,O[2]=N[2]*G,O},Ht.scaleAndAdd=function(O,N,G,q){return O[0]=N[0]+G[0]*q,O[1]=N[1]+G[1]*q,O[2]=N[2]+G[2]*q,O},Ht.distance=M,Ht.squaredDistance=D,Ht.squaredLength=x,Ht.negate=function(O,N){return O[0]=-N[0],O[1]=-N[1],O[2]=-N[2],O},Ht.inverse=function(O,N){return O[0]=1/N[0],O[1]=1/N[1],O[2]=1/N[2],O},Ht.normalize=function(O,N){var G=N[0],q=N[1],se=N[2],ce=G*G+q*q+se*se;return ce>0&&(ce=1/Math.sqrt(ce)),O[0]=N[0]*ce,O[1]=N[1]*ce,O[2]=N[2]*ce,O},Ht.dot=P,Ht.cross=function(O,N,G){var q=N[0],se=N[1],ce=N[2],te=G[0],pe=G[1],Ce=G[2];return O[0]=se*Ce-ce*pe,O[1]=ce*te-q*Ce,O[2]=q*pe-se*te,O},Ht.lerp=function(O,N,G,q){var se=N[0],ce=N[1],te=N[2];return O[0]=se+q*(G[0]-se),O[1]=ce+q*(G[1]-ce),O[2]=te+q*(G[2]-te),O},Ht.hermite=function(O,N,G,q,se,ce){var te=ce*ce,pe=te*(2*ce-3)+1,Ce=te*(ce-2)+ce,Re=te*(ce-1),it=te*(3-2*ce);return O[0]=N[0]*pe+G[0]*Ce+q[0]*Re+se[0]*it,O[1]=N[1]*pe+G[1]*Ce+q[1]*Re+se[1]*it,O[2]=N[2]*pe+G[2]*Ce+q[2]*Re+se[2]*it,O},Ht.bezier=function(O,N,G,q,se,ce){var te=1-ce,pe=te*te,Ce=ce*ce,Re=pe*te,it=3*ce*pe,nt=3*Ce*te,et=Ce*ce;return O[0]=N[0]*Re+G[0]*it+q[0]*nt+se[0]*et,O[1]=N[1]*Re+G[1]*it+q[1]*nt+se[1]*et,O[2]=N[2]*Re+G[2]*it+q[2]*nt+se[2]*et,O},Ht.random=function(O,N){N=N||1;var G=2*n.RANDOM()*Math.PI,q=2*n.RANDOM()-1,se=Math.sqrt(1-q*q)*N;return O[0]=Math.cos(G)*se,O[1]=Math.sin(G)*se,O[2]=q*N,O},Ht.transformMat4=function(O,N,G){var q=N[0],se=N[1],ce=N[2],te=G[3]*q+G[7]*se+G[11]*ce+G[15];return O[0]=(G[0]*q+G[4]*se+G[8]*ce+G[12])/(te=te||1),O[1]=(G[1]*q+G[5]*se+G[9]*ce+G[13])/te,O[2]=(G[2]*q+G[6]*se+G[10]*ce+G[14])/te,O},Ht.transformMat3=function(O,N,G){var q=N[0],se=N[1],ce=N[2];return O[0]=q*G[0]+se*G[3]+ce*G[6],O[1]=q*G[1]+se*G[4]+ce*G[7],O[2]=q*G[2]+se*G[5]+ce*G[8],O},Ht.transformQuat=function(O,N,G){var q=G[0],se=G[1],ce=G[2],te=N[0],pe=N[1],Ce=N[2],Re=se*Ce-ce*pe,it=ce*te-q*Ce,nt=q*pe-se*te,et=se*nt-ce*it,Lt=ce*Re-q*nt,ut=q*it-se*Re,Zt=2*G[3];return it*=Zt,nt*=Zt,Lt*=2,ut*=2,O[0]=te+(Re*=Zt)+(et*=2),O[1]=pe+it+Lt,O[2]=Ce+nt+ut,O},Ht.rotateX=function(O,N,G,q){var se=[],ce=[];return se[0]=N[0]-G[0],se[1]=N[1]-G[1],se[2]=N[2]-G[2],ce[0]=se[0],ce[1]=se[1]*Math.cos(q)-se[2]*Math.sin(q),ce[2]=se[1]*Math.sin(q)+se[2]*Math.cos(q),O[0]=ce[0]+G[0],O[1]=ce[1]+G[1],O[2]=ce[2]+G[2],O},Ht.rotateY=function(O,N,G,q){var se=[],ce=[];return se[0]=N[0]-G[0],se[1]=N[1]-G[1],se[2]=N[2]-G[2],ce[0]=se[2]*Math.sin(q)+se[0]*Math.cos(q),ce[1]=se[1],ce[2]=se[2]*Math.cos(q)-se[0]*Math.sin(q),O[0]=ce[0]+G[0],O[1]=ce[1]+G[1],O[2]=ce[2]+G[2],O},Ht.rotateZ=function(O,N,G,q){var se=[],ce=[];return se[0]=N[0]-G[0],se[1]=N[1]-G[1],se[2]=N[2]-G[2],ce[0]=se[0]*Math.cos(q)-se[1]*Math.sin(q),ce[1]=se[0]*Math.sin(q)+se[1]*Math.cos(q),ce[2]=se[2],O[0]=ce[0]+G[0],O[1]=ce[1]+G[1],O[2]=ce[2]+G[2],O},Ht.angle=function(O,N){var G=O[0],q=O[1],se=O[2],ce=N[0],te=N[1],pe=N[2],Ce=Math.sqrt(G*G+q*q+se*se)*Math.sqrt(ce*ce+te*te+pe*pe),Re=Ce&&P(O,N)/Ce;return Math.acos(Math.min(Math.max(Re,-1),1))},Ht.zero=function(O){return O[0]=0,O[1]=0,O[2]=0,O},Ht.str=function(O){return"vec3("+O[0]+", "+O[1]+", "+O[2]+")"},Ht.exactEquals=function(O,N){return O[0]===N[0]&&O[1]===N[1]&&O[2]===N[2]},Ht.equals=function(O,N){var G=O[0],q=O[1],se=O[2],ce=N[0],te=N[1],pe=N[2];return Math.abs(G-ce)<=n.EPSILON*Math.max(1,Math.abs(G),Math.abs(ce))&&Math.abs(q-te)<=n.EPSILON*Math.max(1,Math.abs(q),Math.abs(te))&&Math.abs(se-pe)<=n.EPSILON*Math.max(1,Math.abs(se),Math.abs(pe))},Ht.forEach=Ht.sqrLen=Ht.len=Ht.sqrDist=Ht.dist=Ht.div=Ht.mul=Ht.sub=void 0;var n=function(O,N){if(O&&O.__esModule)return O;if(O===null||c(O)!=="object"&&typeof O!="function")return{default:O};var G=i(void 0);if(G&&G.has(O))return G.get(O);var q={},se=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ce in O)if(ce!=="default"&&Object.prototype.hasOwnProperty.call(O,ce)){var te=se?Object.getOwnPropertyDescriptor(O,ce):null;te&&(te.get||te.set)?Object.defineProperty(q,ce,te):q[ce]=O[ce]}return q.default=O,G&&G.set(O,q),q}(_e());function i(O){if(typeof WeakMap!="function")return null;var N=new WeakMap,G=new WeakMap;return(i=function(q){return q?G:N})(O)}function d(){var O=new n.ARRAY_TYPE(3);return n.ARRAY_TYPE!=Float32Array&&(O[0]=0,O[1]=0,O[2]=0),O}function g(O){return Math.hypot(O[0],O[1],O[2])}function h(O,N,G){return O[0]=N[0]-G[0],O[1]=N[1]-G[1],O[2]=N[2]-G[2],O}function v(O,N,G){return O[0]=N[0]*G[0],O[1]=N[1]*G[1],O[2]=N[2]*G[2],O}function w(O,N,G){return O[0]=N[0]/G[0],O[1]=N[1]/G[1],O[2]=N[2]/G[2],O}function M(O,N){return Math.hypot(N[0]-O[0],N[1]-O[1],N[2]-O[2])}function D(O,N){var G=N[0]-O[0],q=N[1]-O[1],se=N[2]-O[2];return G*G+q*q+se*se}function x(O){var N=O[0],G=O[1],q=O[2];return N*N+G*G+q*q}function P(O,N){return O[0]*N[0]+O[1]*N[1]+O[2]*N[2]}Ht.sub=h,Ht.mul=v,Ht.div=w,Ht.dist=M,Ht.sqrDist=D,Ht.len=g,Ht.sqrLen=x;var $,T=($=d(),function(O,N,G,q,se,ce){var te,pe;for(N||(N=3),G||(G=0),pe=q?Math.min(q*N+G,O.length):O.length,te=G;te<pe;te+=N)$[0]=O[te],$[1]=O[te+1],$[2]=O[te+2],se($,$,ce),O[te]=$[0],O[te+1]=$[1],O[te+2]=$[2];return O});return Ht.forEach=T,Ht}var Cr,Dr,Ue={};function sn(){if(Cr)return Ue;function c(T){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},c(T)}Cr=1,Object.defineProperty(Ue,"__esModule",{value:!0}),Ue.create=d,Ue.clone=function(T){var O=new n.ARRAY_TYPE(4);return O[0]=T[0],O[1]=T[1],O[2]=T[2],O[3]=T[3],O},Ue.fromValues=function(T,O,N,G){var q=new n.ARRAY_TYPE(4);return q[0]=T,q[1]=O,q[2]=N,q[3]=G,q},Ue.copy=function(T,O){return T[0]=O[0],T[1]=O[1],T[2]=O[2],T[3]=O[3],T},Ue.set=function(T,O,N,G,q){return T[0]=O,T[1]=N,T[2]=G,T[3]=q,T},Ue.add=function(T,O,N){return T[0]=O[0]+N[0],T[1]=O[1]+N[1],T[2]=O[2]+N[2],T[3]=O[3]+N[3],T},Ue.subtract=g,Ue.multiply=h,Ue.divide=v,Ue.ceil=function(T,O){return T[0]=Math.ceil(O[0]),T[1]=Math.ceil(O[1]),T[2]=Math.ceil(O[2]),T[3]=Math.ceil(O[3]),T},Ue.floor=function(T,O){return T[0]=Math.floor(O[0]),T[1]=Math.floor(O[1]),T[2]=Math.floor(O[2]),T[3]=Math.floor(O[3]),T},Ue.min=function(T,O,N){return T[0]=Math.min(O[0],N[0]),T[1]=Math.min(O[1],N[1]),T[2]=Math.min(O[2],N[2]),T[3]=Math.min(O[3],N[3]),T},Ue.max=function(T,O,N){return T[0]=Math.max(O[0],N[0]),T[1]=Math.max(O[1],N[1]),T[2]=Math.max(O[2],N[2]),T[3]=Math.max(O[3],N[3]),T},Ue.round=function(T,O){return T[0]=Math.round(O[0]),T[1]=Math.round(O[1]),T[2]=Math.round(O[2]),T[3]=Math.round(O[3]),T},Ue.scale=function(T,O,N){return T[0]=O[0]*N,T[1]=O[1]*N,T[2]=O[2]*N,T[3]=O[3]*N,T},Ue.scaleAndAdd=function(T,O,N,G){return T[0]=O[0]+N[0]*G,T[1]=O[1]+N[1]*G,T[2]=O[2]+N[2]*G,T[3]=O[3]+N[3]*G,T},Ue.distance=w,Ue.squaredDistance=M,Ue.length=D,Ue.squaredLength=x,Ue.negate=function(T,O){return T[0]=-O[0],T[1]=-O[1],T[2]=-O[2],T[3]=-O[3],T},Ue.inverse=function(T,O){return T[0]=1/O[0],T[1]=1/O[1],T[2]=1/O[2],T[3]=1/O[3],T},Ue.normalize=function(T,O){var N=O[0],G=O[1],q=O[2],se=O[3],ce=N*N+G*G+q*q+se*se;return ce>0&&(ce=1/Math.sqrt(ce)),T[0]=N*ce,T[1]=G*ce,T[2]=q*ce,T[3]=se*ce,T},Ue.dot=function(T,O){return T[0]*O[0]+T[1]*O[1]+T[2]*O[2]+T[3]*O[3]},Ue.cross=function(T,O,N,G){var q=N[0]*G[1]-N[1]*G[0],se=N[0]*G[2]-N[2]*G[0],ce=N[0]*G[3]-N[3]*G[0],te=N[1]*G[2]-N[2]*G[1],pe=N[1]*G[3]-N[3]*G[1],Ce=N[2]*G[3]-N[3]*G[2],Re=O[0],it=O[1],nt=O[2],et=O[3];return T[0]=it*Ce-nt*pe+et*te,T[1]=-Re*Ce+nt*ce-et*se,T[2]=Re*pe-it*ce+et*q,T[3]=-Re*te+it*se-nt*q,T},Ue.lerp=function(T,O,N,G){var q=O[0],se=O[1],ce=O[2],te=O[3];return T[0]=q+G*(N[0]-q),T[1]=se+G*(N[1]-se),T[2]=ce+G*(N[2]-ce),T[3]=te+G*(N[3]-te),T},Ue.random=function(T,O){var N,G,q,se,ce,te;O=O||1;do ce=(N=2*n.RANDOM()-1)*N+(G=2*n.RANDOM()-1)*G;while(ce>=1);do te=(q=2*n.RANDOM()-1)*q+(se=2*n.RANDOM()-1)*se;while(te>=1);var pe=Math.sqrt((1-ce)/te);return T[0]=O*N,T[1]=O*G,T[2]=O*q*pe,T[3]=O*se*pe,T},Ue.transformMat4=function(T,O,N){var G=O[0],q=O[1],se=O[2],ce=O[3];return T[0]=N[0]*G+N[4]*q+N[8]*se+N[12]*ce,T[1]=N[1]*G+N[5]*q+N[9]*se+N[13]*ce,T[2]=N[2]*G+N[6]*q+N[10]*se+N[14]*ce,T[3]=N[3]*G+N[7]*q+N[11]*se+N[15]*ce,T},Ue.transformQuat=function(T,O,N){var G=O[0],q=O[1],se=O[2],ce=N[0],te=N[1],pe=N[2],Ce=N[3],Re=Ce*G+te*se-pe*q,it=Ce*q+pe*G-ce*se,nt=Ce*se+ce*q-te*G,et=-ce*G-te*q-pe*se;return T[0]=Re*Ce+et*-ce+it*-pe-nt*-te,T[1]=it*Ce+et*-te+nt*-ce-Re*-pe,T[2]=nt*Ce+et*-pe+Re*-te-it*-ce,T[3]=O[3],T},Ue.zero=function(T){return T[0]=0,T[1]=0,T[2]=0,T[3]=0,T},Ue.str=function(T){return"vec4("+T[0]+", "+T[1]+", "+T[2]+", "+T[3]+")"},Ue.exactEquals=function(T,O){return T[0]===O[0]&&T[1]===O[1]&&T[2]===O[2]&&T[3]===O[3]},Ue.equals=function(T,O){var N=T[0],G=T[1],q=T[2],se=T[3],ce=O[0],te=O[1],pe=O[2],Ce=O[3];return Math.abs(N-ce)<=n.EPSILON*Math.max(1,Math.abs(N),Math.abs(ce))&&Math.abs(G-te)<=n.EPSILON*Math.max(1,Math.abs(G),Math.abs(te))&&Math.abs(q-pe)<=n.EPSILON*Math.max(1,Math.abs(q),Math.abs(pe))&&Math.abs(se-Ce)<=n.EPSILON*Math.max(1,Math.abs(se),Math.abs(Ce))},Ue.forEach=Ue.sqrLen=Ue.len=Ue.sqrDist=Ue.dist=Ue.div=Ue.mul=Ue.sub=void 0;var n=function(T,O){if(T&&T.__esModule)return T;if(T===null||c(T)!=="object"&&typeof T!="function")return{default:T};var N=i(void 0);if(N&&N.has(T))return N.get(T);var G={},q=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var se in T)if(se!=="default"&&Object.prototype.hasOwnProperty.call(T,se)){var ce=q?Object.getOwnPropertyDescriptor(T,se):null;ce&&(ce.get||ce.set)?Object.defineProperty(G,se,ce):G[se]=T[se]}return G.default=T,N&&N.set(T,G),G}(_e());function i(T){if(typeof WeakMap!="function")return null;var O=new WeakMap,N=new WeakMap;return(i=function(G){return G?N:O})(T)}function d(){var T=new n.ARRAY_TYPE(4);return n.ARRAY_TYPE!=Float32Array&&(T[0]=0,T[1]=0,T[2]=0,T[3]=0),T}function g(T,O,N){return T[0]=O[0]-N[0],T[1]=O[1]-N[1],T[2]=O[2]-N[2],T[3]=O[3]-N[3],T}function h(T,O,N){return T[0]=O[0]*N[0],T[1]=O[1]*N[1],T[2]=O[2]*N[2],T[3]=O[3]*N[3],T}function v(T,O,N){return T[0]=O[0]/N[0],T[1]=O[1]/N[1],T[2]=O[2]/N[2],T[3]=O[3]/N[3],T}function w(T,O){return Math.hypot(O[0]-T[0],O[1]-T[1],O[2]-T[2],O[3]-T[3])}function M(T,O){var N=O[0]-T[0],G=O[1]-T[1],q=O[2]-T[2],se=O[3]-T[3];return N*N+G*G+q*q+se*se}function D(T){return Math.hypot(T[0],T[1],T[2],T[3])}function x(T){var O=T[0],N=T[1],G=T[2],q=T[3];return O*O+N*N+G*G+q*q}Ue.sub=g,Ue.mul=h,Ue.div=v,Ue.dist=w,Ue.sqrDist=M,Ue.len=D,Ue.sqrLen=x;var P,$=(P=d(),function(T,O,N,G,q,se){var ce,te;for(O||(O=4),N||(N=0),te=G?Math.min(G*O+N,T.length):T.length,ce=N;ce<te;ce+=O)P[0]=T[ce],P[1]=T[ce+1],P[2]=T[ce+2],P[3]=T[ce+3],q(P,P,se),T[ce]=P[0],T[ce+1]=P[1],T[ce+2]=P[2],T[ce+3]=P[3];return T});return Ue.forEach=$,Ue}function Bn(){if(Dr)return Xt;function c(ut){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Zt){return typeof Zt}:function(Zt){return Zt&&typeof Symbol=="function"&&Zt.constructor===Symbol&&Zt!==Symbol.prototype?"symbol":typeof Zt},c(ut)}Dr=1,Object.defineProperty(Xt,"__esModule",{value:!0}),Xt.create=w,Xt.identity=function(ut){return ut[0]=0,ut[1]=0,ut[2]=0,ut[3]=1,ut},Xt.setAxisAngle=M,Xt.getAxisAngle=function(ut,Zt){var on=2*Math.acos(Zt[3]),Wt=Math.sin(on/2);return Wt>n.EPSILON?(ut[0]=Zt[0]/Wt,ut[1]=Zt[1]/Wt,ut[2]=Zt[2]/Wt):(ut[0]=1,ut[1]=0,ut[2]=0),on},Xt.getAngle=function(ut,Zt){var on=N(ut,Zt);return Math.acos(2*on*on-1)},Xt.multiply=D,Xt.rotateX=function(ut,Zt,on){on*=.5;var Wt=Zt[0],cn=Zt[1],wn=Zt[2],Nn=Zt[3],vn=Math.sin(on),xr=Math.cos(on);return ut[0]=Wt*xr+Nn*vn,ut[1]=cn*xr+wn*vn,ut[2]=wn*xr-cn*vn,ut[3]=Nn*xr-Wt*vn,ut},Xt.rotateY=function(ut,Zt,on){on*=.5;var Wt=Zt[0],cn=Zt[1],wn=Zt[2],Nn=Zt[3],vn=Math.sin(on),xr=Math.cos(on);return ut[0]=Wt*xr-wn*vn,ut[1]=cn*xr+Nn*vn,ut[2]=wn*xr+Wt*vn,ut[3]=Nn*xr-cn*vn,ut},Xt.rotateZ=function(ut,Zt,on){on*=.5;var Wt=Zt[0],cn=Zt[1],wn=Zt[2],Nn=Zt[3],vn=Math.sin(on),xr=Math.cos(on);return ut[0]=Wt*xr+cn*vn,ut[1]=cn*xr-Wt*vn,ut[2]=wn*xr+Nn*vn,ut[3]=Nn*xr-wn*vn,ut},Xt.calculateW=function(ut,Zt){var on=Zt[0],Wt=Zt[1],cn=Zt[2];return ut[0]=on,ut[1]=Wt,ut[2]=cn,ut[3]=Math.sqrt(Math.abs(1-on*on-Wt*Wt-cn*cn)),ut},Xt.exp=x,Xt.ln=P,Xt.pow=function(ut,Zt,on){return P(ut,Zt),O(ut,ut,on),x(ut,ut),ut},Xt.slerp=$,Xt.random=function(ut){var Zt=n.RANDOM(),on=n.RANDOM(),Wt=n.RANDOM(),cn=Math.sqrt(1-Zt),wn=Math.sqrt(Zt);return ut[0]=cn*Math.sin(2*Math.PI*on),ut[1]=cn*Math.cos(2*Math.PI*on),ut[2]=wn*Math.sin(2*Math.PI*Wt),ut[3]=wn*Math.cos(2*Math.PI*Wt),ut},Xt.invert=function(ut,Zt){var on=Zt[0],Wt=Zt[1],cn=Zt[2],wn=Zt[3],Nn=on*on+Wt*Wt+cn*cn+wn*wn,vn=Nn?1/Nn:0;return ut[0]=-on*vn,ut[1]=-Wt*vn,ut[2]=-cn*vn,ut[3]=wn*vn,ut},Xt.conjugate=function(ut,Zt){return ut[0]=-Zt[0],ut[1]=-Zt[1],ut[2]=-Zt[2],ut[3]=Zt[3],ut},Xt.fromMat3=T,Xt.fromEuler=function(ut,Zt,on,Wt){var cn=.5*Math.PI/180;Zt*=cn,on*=cn,Wt*=cn;var wn=Math.sin(Zt),Nn=Math.cos(Zt),vn=Math.sin(on),xr=Math.cos(on),Hr=Math.sin(Wt),_r=Math.cos(Wt);return ut[0]=wn*xr*_r-Nn*vn*Hr,ut[1]=Nn*vn*_r+wn*xr*Hr,ut[2]=Nn*xr*Hr-wn*vn*_r,ut[3]=Nn*xr*_r+wn*vn*Hr,ut},Xt.str=function(ut){return"quat("+ut[0]+", "+ut[1]+", "+ut[2]+", "+ut[3]+")"},Xt.setAxes=Xt.sqlerp=Xt.rotationTo=Xt.equals=Xt.exactEquals=Xt.normalize=Xt.sqrLen=Xt.squaredLength=Xt.len=Xt.length=Xt.lerp=Xt.dot=Xt.scale=Xt.mul=Xt.add=Xt.set=Xt.copy=Xt.fromValues=Xt.clone=void 0;var n=v(_e()),i=v(Ot()),d=v(Ar()),g=v(sn());function h(ut){if(typeof WeakMap!="function")return null;var Zt=new WeakMap,on=new WeakMap;return(h=function(Wt){return Wt?on:Zt})(ut)}function v(ut,Zt){if(ut&&ut.__esModule)return ut;if(ut===null||c(ut)!=="object"&&typeof ut!="function")return{default:ut};var on=h(Zt);if(on&&on.has(ut))return on.get(ut);var Wt={},cn=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var wn in ut)if(wn!=="default"&&Object.prototype.hasOwnProperty.call(ut,wn)){var Nn=cn?Object.getOwnPropertyDescriptor(ut,wn):null;Nn&&(Nn.get||Nn.set)?Object.defineProperty(Wt,wn,Nn):Wt[wn]=ut[wn]}return Wt.default=ut,on&&on.set(ut,Wt),Wt}function w(){var ut=new n.ARRAY_TYPE(4);return n.ARRAY_TYPE!=Float32Array&&(ut[0]=0,ut[1]=0,ut[2]=0),ut[3]=1,ut}function M(ut,Zt,on){on*=.5;var Wt=Math.sin(on);return ut[0]=Wt*Zt[0],ut[1]=Wt*Zt[1],ut[2]=Wt*Zt[2],ut[3]=Math.cos(on),ut}function D(ut,Zt,on){var Wt=Zt[0],cn=Zt[1],wn=Zt[2],Nn=Zt[3],vn=on[0],xr=on[1],Hr=on[2],_r=on[3];return ut[0]=Wt*_r+Nn*vn+cn*Hr-wn*xr,ut[1]=cn*_r+Nn*xr+wn*vn-Wt*Hr,ut[2]=wn*_r+Nn*Hr+Wt*xr-cn*vn,ut[3]=Nn*_r-Wt*vn-cn*xr-wn*Hr,ut}function x(ut,Zt){var on=Zt[0],Wt=Zt[1],cn=Zt[2],wn=Zt[3],Nn=Math.sqrt(on*on+Wt*Wt+cn*cn),vn=Math.exp(wn),xr=Nn>0?vn*Math.sin(Nn)/Nn:0;return ut[0]=on*xr,ut[1]=Wt*xr,ut[2]=cn*xr,ut[3]=vn*Math.cos(Nn),ut}function P(ut,Zt){var on=Zt[0],Wt=Zt[1],cn=Zt[2],wn=Zt[3],Nn=Math.sqrt(on*on+Wt*Wt+cn*cn),vn=Nn>0?Math.atan2(Nn,wn)/Nn:0;return ut[0]=on*vn,ut[1]=Wt*vn,ut[2]=cn*vn,ut[3]=.5*Math.log(on*on+Wt*Wt+cn*cn+wn*wn),ut}function $(ut,Zt,on,Wt){var cn,wn,Nn,vn,xr,Hr=Zt[0],_r=Zt[1],Bi=Zt[2],Mi=Zt[3],di=on[0],Wr=on[1],bo=on[2],ji=on[3];return(wn=Hr*di+_r*Wr+Bi*bo+Mi*ji)<0&&(wn=-wn,di=-di,Wr=-Wr,bo=-bo,ji=-ji),1-wn>n.EPSILON?(cn=Math.acos(wn),Nn=Math.sin(cn),vn=Math.sin((1-Wt)*cn)/Nn,xr=Math.sin(Wt*cn)/Nn):(vn=1-Wt,xr=Wt),ut[0]=vn*Hr+xr*di,ut[1]=vn*_r+xr*Wr,ut[2]=vn*Bi+xr*bo,ut[3]=vn*Mi+xr*ji,ut}function T(ut,Zt){var on,Wt=Zt[0]+Zt[4]+Zt[8];if(Wt>0)on=Math.sqrt(Wt+1),ut[3]=.5*on,ut[0]=(Zt[5]-Zt[7])*(on=.5/on),ut[1]=(Zt[6]-Zt[2])*on,ut[2]=(Zt[1]-Zt[3])*on;else{var cn=0;Zt[4]>Zt[0]&&(cn=1),Zt[8]>Zt[3*cn+cn]&&(cn=2);var wn=(cn+1)%3,Nn=(cn+2)%3;on=Math.sqrt(Zt[3*cn+cn]-Zt[3*wn+wn]-Zt[3*Nn+Nn]+1),ut[cn]=.5*on,ut[3]=(Zt[3*wn+Nn]-Zt[3*Nn+wn])*(on=.5/on),ut[wn]=(Zt[3*wn+cn]+Zt[3*cn+wn])*on,ut[Nn]=(Zt[3*Nn+cn]+Zt[3*cn+Nn])*on}return ut}Xt.clone=g.clone,Xt.fromValues=g.fromValues,Xt.copy=g.copy,Xt.set=g.set,Xt.add=g.add,Xt.mul=D;var O=g.scale;Xt.scale=O;var N=g.dot;Xt.dot=N,Xt.lerp=g.lerp;var G=g.length;Xt.length=G,Xt.len=G;var q=g.squaredLength;Xt.squaredLength=q,Xt.sqrLen=q;var se=g.normalize;Xt.normalize=se,Xt.exactEquals=g.exactEquals,Xt.equals=g.equals;var ce,te,pe,Ce=(ce=d.create(),te=d.fromValues(1,0,0),pe=d.fromValues(0,1,0),function(ut,Zt,on){var Wt=d.dot(Zt,on);return Wt<-.999999?(d.cross(ce,te,Zt),d.len(ce)<1e-6&&d.cross(ce,pe,Zt),d.normalize(ce,ce),M(ut,ce,Math.PI),ut):Wt>.999999?(ut[0]=0,ut[1]=0,ut[2]=0,ut[3]=1,ut):(d.cross(ce,Zt,on),ut[0]=ce[0],ut[1]=ce[1],ut[2]=ce[2],ut[3]=1+Wt,se(ut,ut))});Xt.rotationTo=Ce;var Re,it,nt=(Re=w(),it=w(),function(ut,Zt,on,Wt,cn,wn){return $(Re,Zt,cn,wn),$(it,on,Wt,wn),$(ut,Re,it,2*wn*(1-wn)),ut});Xt.sqlerp=nt;var et,Lt=(et=i.create(),function(ut,Zt,on,Wt){return et[0]=on[0],et[3]=on[1],et[6]=on[2],et[1]=Wt[0],et[4]=Wt[1],et[7]=Wt[2],et[2]=-Zt[0],et[5]=-Zt[1],et[8]=-Zt[2],se(ut,T(ut,et))});return Xt.setAxes=Lt,Xt}var En,Be={};function Gn(){if(En)return Be;function c($){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},c($)}En=1,Object.defineProperty(Be,"__esModule",{value:!0}),Be.create=function(){var $=new n.ARRAY_TYPE(8);return n.ARRAY_TYPE!=Float32Array&&($[0]=0,$[1]=0,$[2]=0,$[4]=0,$[5]=0,$[6]=0,$[7]=0),$[3]=1,$},Be.clone=function($){var T=new n.ARRAY_TYPE(8);return T[0]=$[0],T[1]=$[1],T[2]=$[2],T[3]=$[3],T[4]=$[4],T[5]=$[5],T[6]=$[6],T[7]=$[7],T},Be.fromValues=function($,T,O,N,G,q,se,ce){var te=new n.ARRAY_TYPE(8);return te[0]=$,te[1]=T,te[2]=O,te[3]=N,te[4]=G,te[5]=q,te[6]=se,te[7]=ce,te},Be.fromRotationTranslationValues=function($,T,O,N,G,q,se){var ce=new n.ARRAY_TYPE(8);ce[0]=$,ce[1]=T,ce[2]=O,ce[3]=N;var te=.5*G,pe=.5*q,Ce=.5*se;return ce[4]=te*N+pe*O-Ce*T,ce[5]=pe*N+Ce*$-te*O,ce[6]=Ce*N+te*T-pe*$,ce[7]=-te*$-pe*T-Ce*O,ce},Be.fromRotationTranslation=v,Be.fromTranslation=function($,T){return $[0]=0,$[1]=0,$[2]=0,$[3]=1,$[4]=.5*T[0],$[5]=.5*T[1],$[6]=.5*T[2],$[7]=0,$},Be.fromRotation=function($,T){return $[0]=T[0],$[1]=T[1],$[2]=T[2],$[3]=T[3],$[4]=0,$[5]=0,$[6]=0,$[7]=0,$},Be.fromMat4=function($,T){var O=i.create();d.getRotation(O,T);var N=new n.ARRAY_TYPE(3);return d.getTranslation(N,T),v($,O,N),$},Be.copy=w,Be.identity=function($){return $[0]=0,$[1]=0,$[2]=0,$[3]=1,$[4]=0,$[5]=0,$[6]=0,$[7]=0,$},Be.set=function($,T,O,N,G,q,se,ce,te){return $[0]=T,$[1]=O,$[2]=N,$[3]=G,$[4]=q,$[5]=se,$[6]=ce,$[7]=te,$},Be.getDual=function($,T){return $[0]=T[4],$[1]=T[5],$[2]=T[6],$[3]=T[7],$},Be.setDual=function($,T){return $[4]=T[0],$[5]=T[1],$[6]=T[2],$[7]=T[3],$},Be.getTranslation=function($,T){var O=T[4],N=T[5],G=T[6],q=T[7],se=-T[0],ce=-T[1],te=-T[2],pe=T[3];return $[0]=2*(O*pe+q*se+N*te-G*ce),$[1]=2*(N*pe+q*ce+G*se-O*te),$[2]=2*(G*pe+q*te+O*ce-N*se),$},Be.translate=function($,T,O){var N=T[0],G=T[1],q=T[2],se=T[3],ce=.5*O[0],te=.5*O[1],pe=.5*O[2],Ce=T[4],Re=T[5],it=T[6],nt=T[7];return $[0]=N,$[1]=G,$[2]=q,$[3]=se,$[4]=se*ce+G*pe-q*te+Ce,$[5]=se*te+q*ce-N*pe+Re,$[6]=se*pe+N*te-G*ce+it,$[7]=-N*ce-G*te-q*pe+nt,$},Be.rotateX=function($,T,O){var N=-T[0],G=-T[1],q=-T[2],se=T[3],ce=T[4],te=T[5],pe=T[6],Ce=T[7],Re=ce*se+Ce*N+te*q-pe*G,it=te*se+Ce*G+pe*N-ce*q,nt=pe*se+Ce*q+ce*G-te*N,et=Ce*se-ce*N-te*G-pe*q;return i.rotateX($,T,O),$[4]=Re*(se=$[3])+et*(N=$[0])+it*(q=$[2])-nt*(G=$[1]),$[5]=it*se+et*G+nt*N-Re*q,$[6]=nt*se+et*q+Re*G-it*N,$[7]=et*se-Re*N-it*G-nt*q,$},Be.rotateY=function($,T,O){var N=-T[0],G=-T[1],q=-T[2],se=T[3],ce=T[4],te=T[5],pe=T[6],Ce=T[7],Re=ce*se+Ce*N+te*q-pe*G,it=te*se+Ce*G+pe*N-ce*q,nt=pe*se+Ce*q+ce*G-te*N,et=Ce*se-ce*N-te*G-pe*q;return i.rotateY($,T,O),$[4]=Re*(se=$[3])+et*(N=$[0])+it*(q=$[2])-nt*(G=$[1]),$[5]=it*se+et*G+nt*N-Re*q,$[6]=nt*se+et*q+Re*G-it*N,$[7]=et*se-Re*N-it*G-nt*q,$},Be.rotateZ=function($,T,O){var N=-T[0],G=-T[1],q=-T[2],se=T[3],ce=T[4],te=T[5],pe=T[6],Ce=T[7],Re=ce*se+Ce*N+te*q-pe*G,it=te*se+Ce*G+pe*N-ce*q,nt=pe*se+Ce*q+ce*G-te*N,et=Ce*se-ce*N-te*G-pe*q;return i.rotateZ($,T,O),$[4]=Re*(se=$[3])+et*(N=$[0])+it*(q=$[2])-nt*(G=$[1]),$[5]=it*se+et*G+nt*N-Re*q,$[6]=nt*se+et*q+Re*G-it*N,$[7]=et*se-Re*N-it*G-nt*q,$},Be.rotateByQuatAppend=function($,T,O){var N=O[0],G=O[1],q=O[2],se=O[3],ce=T[0],te=T[1],pe=T[2],Ce=T[3];return $[0]=ce*se+Ce*N+te*q-pe*G,$[1]=te*se+Ce*G+pe*N-ce*q,$[2]=pe*se+Ce*q+ce*G-te*N,$[3]=Ce*se-ce*N-te*G-pe*q,$[4]=(ce=T[4])*se+(Ce=T[7])*N+(te=T[5])*q-(pe=T[6])*G,$[5]=te*se+Ce*G+pe*N-ce*q,$[6]=pe*se+Ce*q+ce*G-te*N,$[7]=Ce*se-ce*N-te*G-pe*q,$},Be.rotateByQuatPrepend=function($,T,O){var N=T[0],G=T[1],q=T[2],se=T[3],ce=O[0],te=O[1],pe=O[2],Ce=O[3];return $[0]=N*Ce+se*ce+G*pe-q*te,$[1]=G*Ce+se*te+q*ce-N*pe,$[2]=q*Ce+se*pe+N*te-G*ce,$[3]=se*Ce-N*ce-G*te-q*pe,$[4]=N*(Ce=O[7])+se*(ce=O[4])+G*(pe=O[6])-q*(te=O[5]),$[5]=G*Ce+se*te+q*ce-N*pe,$[6]=q*Ce+se*pe+N*te-G*ce,$[7]=se*Ce-N*ce-G*te-q*pe,$},Be.rotateAroundAxis=function($,T,O,N){if(Math.abs(N)<n.EPSILON)return w($,T);var G=Math.hypot(O[0],O[1],O[2]);N*=.5;var q=Math.sin(N),se=q*O[0]/G,ce=q*O[1]/G,te=q*O[2]/G,pe=Math.cos(N),Ce=T[0],Re=T[1],it=T[2],nt=T[3];$[0]=Ce*pe+nt*se+Re*te-it*ce,$[1]=Re*pe+nt*ce+it*se-Ce*te,$[2]=it*pe+nt*te+Ce*ce-Re*se,$[3]=nt*pe-Ce*se-Re*ce-it*te;var et=T[4],Lt=T[5],ut=T[6],Zt=T[7];return $[4]=et*pe+Zt*se+Lt*te-ut*ce,$[5]=Lt*pe+Zt*ce+ut*se-et*te,$[6]=ut*pe+Zt*te+et*ce-Lt*se,$[7]=Zt*pe-et*se-Lt*ce-ut*te,$},Be.add=function($,T,O){return $[0]=T[0]+O[0],$[1]=T[1]+O[1],$[2]=T[2]+O[2],$[3]=T[3]+O[3],$[4]=T[4]+O[4],$[5]=T[5]+O[5],$[6]=T[6]+O[6],$[7]=T[7]+O[7],$},Be.multiply=M,Be.scale=function($,T,O){return $[0]=T[0]*O,$[1]=T[1]*O,$[2]=T[2]*O,$[3]=T[3]*O,$[4]=T[4]*O,$[5]=T[5]*O,$[6]=T[6]*O,$[7]=T[7]*O,$},Be.lerp=function($,T,O,N){var G=1-N;return D(T,O)<0&&(N=-N),$[0]=T[0]*G+O[0]*N,$[1]=T[1]*G+O[1]*N,$[2]=T[2]*G+O[2]*N,$[3]=T[3]*G+O[3]*N,$[4]=T[4]*G+O[4]*N,$[5]=T[5]*G+O[5]*N,$[6]=T[6]*G+O[6]*N,$[7]=T[7]*G+O[7]*N,$},Be.invert=function($,T){var O=P(T);return $[0]=-T[0]/O,$[1]=-T[1]/O,$[2]=-T[2]/O,$[3]=T[3]/O,$[4]=-T[4]/O,$[5]=-T[5]/O,$[6]=-T[6]/O,$[7]=T[7]/O,$},Be.conjugate=function($,T){return $[0]=-T[0],$[1]=-T[1],$[2]=-T[2],$[3]=T[3],$[4]=-T[4],$[5]=-T[5],$[6]=-T[6],$[7]=T[7],$},Be.normalize=function($,T){var O=P(T);if(O>0){O=Math.sqrt(O);var N=T[0]/O,G=T[1]/O,q=T[2]/O,se=T[3]/O,ce=T[4],te=T[5],pe=T[6],Ce=T[7],Re=N*ce+G*te+q*pe+se*Ce;$[0]=N,$[1]=G,$[2]=q,$[3]=se,$[4]=(ce-N*Re)/O,$[5]=(te-G*Re)/O,$[6]=(pe-q*Re)/O,$[7]=(Ce-se*Re)/O}return $},Be.str=function($){return"quat2("+$[0]+", "+$[1]+", "+$[2]+", "+$[3]+", "+$[4]+", "+$[5]+", "+$[6]+", "+$[7]+")"},Be.exactEquals=function($,T){return $[0]===T[0]&&$[1]===T[1]&&$[2]===T[2]&&$[3]===T[3]&&$[4]===T[4]&&$[5]===T[5]&&$[6]===T[6]&&$[7]===T[7]},Be.equals=function($,T){var O=$[0],N=$[1],G=$[2],q=$[3],se=$[4],ce=$[5],te=$[6],pe=$[7],Ce=T[0],Re=T[1],it=T[2],nt=T[3],et=T[4],Lt=T[5],ut=T[6],Zt=T[7];return Math.abs(O-Ce)<=n.EPSILON*Math.max(1,Math.abs(O),Math.abs(Ce))&&Math.abs(N-Re)<=n.EPSILON*Math.max(1,Math.abs(N),Math.abs(Re))&&Math.abs(G-it)<=n.EPSILON*Math.max(1,Math.abs(G),Math.abs(it))&&Math.abs(q-nt)<=n.EPSILON*Math.max(1,Math.abs(q),Math.abs(nt))&&Math.abs(se-et)<=n.EPSILON*Math.max(1,Math.abs(se),Math.abs(et))&&Math.abs(ce-Lt)<=n.EPSILON*Math.max(1,Math.abs(ce),Math.abs(Lt))&&Math.abs(te-ut)<=n.EPSILON*Math.max(1,Math.abs(te),Math.abs(ut))&&Math.abs(pe-Zt)<=n.EPSILON*Math.max(1,Math.abs(pe),Math.abs(Zt))},Be.sqrLen=Be.squaredLength=Be.len=Be.length=Be.dot=Be.mul=Be.setReal=Be.getReal=void 0;var n=h(_e()),i=h(Bn()),d=h(Pt());function g($){if(typeof WeakMap!="function")return null;var T=new WeakMap,O=new WeakMap;return(g=function(N){return N?O:T})($)}function h($,T){if($&&$.__esModule)return $;if($===null||c($)!=="object"&&typeof $!="function")return{default:$};var O=g(T);if(O&&O.has($))return O.get($);var N={},G=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var q in $)if(q!=="default"&&Object.prototype.hasOwnProperty.call($,q)){var se=G?Object.getOwnPropertyDescriptor($,q):null;se&&(se.get||se.set)?Object.defineProperty(N,q,se):N[q]=$[q]}return N.default=$,O&&O.set($,N),N}function v($,T,O){var N=.5*O[0],G=.5*O[1],q=.5*O[2],se=T[0],ce=T[1],te=T[2],pe=T[3];return $[0]=se,$[1]=ce,$[2]=te,$[3]=pe,$[4]=N*pe+G*te-q*ce,$[5]=G*pe+q*se-N*te,$[6]=q*pe+N*ce-G*se,$[7]=-N*se-G*ce-q*te,$}function w($,T){return $[0]=T[0],$[1]=T[1],$[2]=T[2],$[3]=T[3],$[4]=T[4],$[5]=T[5],$[6]=T[6],$[7]=T[7],$}function M($,T,O){var N=T[0],G=T[1],q=T[2],se=T[3],ce=O[4],te=O[5],pe=O[6],Ce=O[7],Re=T[4],it=T[5],nt=T[6],et=T[7],Lt=O[0],ut=O[1],Zt=O[2],on=O[3];return $[0]=N*on+se*Lt+G*Zt-q*ut,$[1]=G*on+se*ut+q*Lt-N*Zt,$[2]=q*on+se*Zt+N*ut-G*Lt,$[3]=se*on-N*Lt-G*ut-q*Zt,$[4]=N*Ce+se*ce+G*pe-q*te+Re*on+et*Lt+it*Zt-nt*ut,$[5]=G*Ce+se*te+q*ce-N*pe+it*on+et*ut+nt*Lt-Re*Zt,$[6]=q*Ce+se*pe+N*te-G*ce+nt*on+et*Zt+Re*ut-it*Lt,$[7]=se*Ce-N*ce-G*te-q*pe+et*on-Re*Lt-it*ut-nt*Zt,$}Be.getReal=i.copy,Be.setReal=i.copy,Be.mul=M;var D=i.dot;Be.dot=D;var x=i.length;Be.length=x,Be.len=x;var P=i.squaredLength;return Be.squaredLength=P,Be.sqrLen=P,Be}var In,Rn,pt={};function an(){if(In)return pt;function c(T){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},c(T)}In=1,Object.defineProperty(pt,"__esModule",{value:!0}),pt.create=d,pt.clone=function(T){var O=new n.ARRAY_TYPE(2);return O[0]=T[0],O[1]=T[1],O},pt.fromValues=function(T,O){var N=new n.ARRAY_TYPE(2);return N[0]=T,N[1]=O,N},pt.copy=function(T,O){return T[0]=O[0],T[1]=O[1],T},pt.set=function(T,O,N){return T[0]=O,T[1]=N,T},pt.add=function(T,O,N){return T[0]=O[0]+N[0],T[1]=O[1]+N[1],T},pt.subtract=g,pt.multiply=h,pt.divide=v,pt.ceil=function(T,O){return T[0]=Math.ceil(O[0]),T[1]=Math.ceil(O[1]),T},pt.floor=function(T,O){return T[0]=Math.floor(O[0]),T[1]=Math.floor(O[1]),T},pt.min=function(T,O,N){return T[0]=Math.min(O[0],N[0]),T[1]=Math.min(O[1],N[1]),T},pt.max=function(T,O,N){return T[0]=Math.max(O[0],N[0]),T[1]=Math.max(O[1],N[1]),T},pt.round=function(T,O){return T[0]=Math.round(O[0]),T[1]=Math.round(O[1]),T},pt.scale=function(T,O,N){return T[0]=O[0]*N,T[1]=O[1]*N,T},pt.scaleAndAdd=function(T,O,N,G){return T[0]=O[0]+N[0]*G,T[1]=O[1]+N[1]*G,T},pt.distance=w,pt.squaredDistance=M,pt.length=D,pt.squaredLength=x,pt.negate=function(T,O){return T[0]=-O[0],T[1]=-O[1],T},pt.inverse=function(T,O){return T[0]=1/O[0],T[1]=1/O[1],T},pt.normalize=function(T,O){var N=O[0],G=O[1],q=N*N+G*G;return q>0&&(q=1/Math.sqrt(q)),T[0]=O[0]*q,T[1]=O[1]*q,T},pt.dot=function(T,O){return T[0]*O[0]+T[1]*O[1]},pt.cross=function(T,O,N){var G=O[0]*N[1]-O[1]*N[0];return T[0]=T[1]=0,T[2]=G,T},pt.lerp=function(T,O,N,G){var q=O[0],se=O[1];return T[0]=q+G*(N[0]-q),T[1]=se+G*(N[1]-se),T},pt.random=function(T,O){O=O||1;var N=2*n.RANDOM()*Math.PI;return T[0]=Math.cos(N)*O,T[1]=Math.sin(N)*O,T},pt.transformMat2=function(T,O,N){var G=O[0],q=O[1];return T[0]=N[0]*G+N[2]*q,T[1]=N[1]*G+N[3]*q,T},pt.transformMat2d=function(T,O,N){var G=O[0],q=O[1];return T[0]=N[0]*G+N[2]*q+N[4],T[1]=N[1]*G+N[3]*q+N[5],T},pt.transformMat3=function(T,O,N){var G=O[0],q=O[1];return T[0]=N[0]*G+N[3]*q+N[6],T[1]=N[1]*G+N[4]*q+N[7],T},pt.transformMat4=function(T,O,N){var G=O[0],q=O[1];return T[0]=N[0]*G+N[4]*q+N[12],T[1]=N[1]*G+N[5]*q+N[13],T},pt.rotate=function(T,O,N,G){var q=O[0]-N[0],se=O[1]-N[1],ce=Math.sin(G),te=Math.cos(G);return T[0]=q*te-se*ce+N[0],T[1]=q*ce+se*te+N[1],T},pt.angle=function(T,O){var N=T[0],G=T[1],q=O[0],se=O[1],ce=Math.sqrt(N*N+G*G)*Math.sqrt(q*q+se*se);return Math.acos(Math.min(Math.max(ce&&(N*q+G*se)/ce,-1),1))},pt.zero=function(T){return T[0]=0,T[1]=0,T},pt.str=function(T){return"vec2("+T[0]+", "+T[1]+")"},pt.exactEquals=function(T,O){return T[0]===O[0]&&T[1]===O[1]},pt.equals=function(T,O){var N=T[0],G=T[1],q=O[0],se=O[1];return Math.abs(N-q)<=n.EPSILON*Math.max(1,Math.abs(N),Math.abs(q))&&Math.abs(G-se)<=n.EPSILON*Math.max(1,Math.abs(G),Math.abs(se))},pt.forEach=pt.sqrLen=pt.sqrDist=pt.dist=pt.div=pt.mul=pt.sub=pt.len=void 0;var n=function(T,O){if(T&&T.__esModule)return T;if(T===null||c(T)!=="object"&&typeof T!="function")return{default:T};var N=i(void 0);if(N&&N.has(T))return N.get(T);var G={},q=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var se in T)if(se!=="default"&&Object.prototype.hasOwnProperty.call(T,se)){var ce=q?Object.getOwnPropertyDescriptor(T,se):null;ce&&(ce.get||ce.set)?Object.defineProperty(G,se,ce):G[se]=T[se]}return G.default=T,N&&N.set(T,G),G}(_e());function i(T){if(typeof WeakMap!="function")return null;var O=new WeakMap,N=new WeakMap;return(i=function(G){return G?N:O})(T)}function d(){var T=new n.ARRAY_TYPE(2);return n.ARRAY_TYPE!=Float32Array&&(T[0]=0,T[1]=0),T}function g(T,O,N){return T[0]=O[0]-N[0],T[1]=O[1]-N[1],T}function h(T,O,N){return T[0]=O[0]*N[0],T[1]=O[1]*N[1],T}function v(T,O,N){return T[0]=O[0]/N[0],T[1]=O[1]/N[1],T}function w(T,O){return Math.hypot(O[0]-T[0],O[1]-T[1])}function M(T,O){var N=O[0]-T[0],G=O[1]-T[1];return N*N+G*G}function D(T){return Math.hypot(T[0],T[1])}function x(T){var O=T[0],N=T[1];return O*O+N*N}pt.len=D,pt.sub=g,pt.mul=h,pt.div=v,pt.dist=w,pt.sqrDist=M,pt.sqrLen=x;var P,$=(P=d(),function(T,O,N,G,q,se){var ce,te;for(O||(O=2),N||(N=0),te=G?Math.min(G*O+N,T.length):T.length,ce=N;ce<te;ce+=O)P[0]=T[ce],P[1]=T[ce+1],q(P,P,se),T[ce]=P[0],T[ce+1]=P[1];return T});return pt.forEach=$,pt}function Tn(){if(Rn)return je;function c(T){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},c(T)}Rn=1,Object.defineProperty(je,"__esModule",{value:!0}),je.vec4=je.vec3=je.vec2=je.quat2=je.quat=je.mat4=je.mat3=je.mat2d=je.mat2=je.glMatrix=void 0;var n=$(_e());je.glMatrix=n;var i=$(ke());je.mat2=i;var d=$(xt());je.mat2d=d;var g=$(Ot());je.mat3=g;var h=$(Pt());je.mat4=h;var v=$(Bn());je.quat=v;var w=$(Gn());je.quat2=w;var M=$(an());je.vec2=M;var D=$(Ar());je.vec3=D;var x=$(sn());function P(T){if(typeof WeakMap!="function")return null;var O=new WeakMap,N=new WeakMap;return(P=function(G){return G?N:O})(T)}function $(T,O){if(T&&T.__esModule)return T;if(T===null||c(T)!=="object"&&typeof T!="function")return{default:T};var N=P(O);if(N&&N.has(T))return N.get(T);var G={},q=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var se in T)if(se!=="default"&&Object.prototype.hasOwnProperty.call(T,se)){var ce=q?Object.getOwnPropertyDescriptor(T,se):null;ce&&(ce.get||ce.set)?Object.defineProperty(G,se,ce):G[se]=T[se]}return G.default=T,N&&N.set(T,G),G}return je.vec4=x,je}var me,nn,bi,ui,$e=Tn(),Mn=function(){if(nn)return me;function c(n,i,d,g){this.cx=3*n,this.bx=3*(d-n)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*i,this.by=3*(g-i)-this.cy,this.ay=1-this.cy-this.by,this.p1x=n,this.p1y=i,this.p2x=d,this.p2y=g}return nn=1,me=c,c.prototype={sampleCurveX:function(n){return((this.ax*n+this.bx)*n+this.cx)*n},sampleCurveY:function(n){return((this.ay*n+this.by)*n+this.cy)*n},sampleCurveDerivativeX:function(n){return(3*this.ax*n+2*this.bx)*n+this.cx},solveCurveX:function(n,i){if(i===void 0&&(i=1e-6),n<0)return 0;if(n>1)return 1;for(var d=n,g=0;g<8;g++){var h=this.sampleCurveX(d)-n;if(Math.abs(h)<i)return d;var v=this.sampleCurveDerivativeX(d);if(Math.abs(v)<1e-6)break;d-=h/v}var w=0,M=1;for(d=n,g=0;g<20&&(h=this.sampleCurveX(d),!(Math.abs(h-n)<i));g++)n>h?w=d:M=d,d=.5*(M-w)+w;return d},solve:function(n,i){return this.sampleCurveY(this.solveCurveX(n,i))}},me}(),Kr=Ie(Mn);function jr(){if(ui)return bi;function c(n,i){this.x=n,this.y=i}return ui=1,bi=c,c.prototype={clone:function(){return new c(this.x,this.y)},add:function(n){return this.clone()._add(n)},sub:function(n){return this.clone()._sub(n)},multByPoint:function(n){return this.clone()._multByPoint(n)},divByPoint:function(n){return this.clone()._divByPoint(n)},mult:function(n){return this.clone()._mult(n)},div:function(n){return this.clone()._div(n)},rotate:function(n){return this.clone()._rotate(n)},rotateAround:function(n,i){return this.clone()._rotateAround(n,i)},matMult:function(n){return this.clone()._matMult(n)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(n){return this.x===n.x&&this.y===n.y},dist:function(n){return Math.sqrt(this.distSqr(n))},distSqr:function(n){var i=n.x-this.x,d=n.y-this.y;return i*i+d*d},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(n){return Math.atan2(this.y-n.y,this.x-n.x)},angleWith:function(n){return this.angleWithSep(n.x,n.y)},angleWithSep:function(n,i){return Math.atan2(this.x*i-this.y*n,this.x*n+this.y*i)},_matMult:function(n){var i=n[2]*this.x+n[3]*this.y;return this.x=n[0]*this.x+n[1]*this.y,this.y=i,this},_add:function(n){return this.x+=n.x,this.y+=n.y,this},_sub:function(n){return this.x-=n.x,this.y-=n.y,this},_mult:function(n){return this.x*=n,this.y*=n,this},_div:function(n){return this.x/=n,this.y/=n,this},_multByPoint:function(n){return this.x*=n.x,this.y*=n.y,this},_divByPoint:function(n){return this.x/=n.x,this.y/=n.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var n=this.y;return this.y=this.x,this.x=-n,this},_rotate:function(n){var i=Math.cos(n),d=Math.sin(n),g=d*this.x+i*this.y;return this.x=i*this.x-d*this.y,this.y=g,this},_rotateAround:function(n,i){var d=Math.cos(n),g=Math.sin(n),h=i.y+g*(this.x-i.x)+d*(this.y-i.y);return this.x=i.x+d*(this.x-i.x)-g*(this.y-i.y),this.y=h,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},c.convert=function(n){return n instanceof c?n:Array.isArray(n)?new c(n[0],n[1]):n},bi}var Sn=Ie(jr());function Fr(c,n){if(Array.isArray(c)){if(!Array.isArray(n)||c.length!==n.length)return!1;for(let i=0;i<c.length;i++)if(!Fr(c[i],n[i]))return!1;return!0}if(typeof c=="object"&&c!==null&&n!==null){if(typeof n!="object"||Object.keys(c).length!==Object.keys(n).length)return!1;for(const i in c)if(!Fr(c[i],n[i]))return!1;return!0}return c===n}const Ii=Math.PI/180,fr=180/Math.PI;function st(c){return c*Ii}function jt(c){return c*fr}const Fn=[[0,0],[1,0],[1,1],[0,1]];function un(c){if(c<=0)return 0;if(c>=1)return 1;const n=c*c,i=n*c;return 4*(c<.5?i:3*(c-n)+i-.75)}function pn(c,n,i,d){const g=new Kr(c,n,i,d);return function(h){return g.solve(h)}}const Sr=pn(.25,.1,.25,1);function Vn(c,n,i){return Math.min(i,Math.max(n,c))}function Xr(c,n,i){return(i=Vn((i-c)/(n-c),0,1))*i*(3-2*i)}function ri(c,n,i){const d=i-n,g=((c-n)%d+d)%d+n;return g===n?i:g}function Zr(c,n,i){if(!c.length)return i(null,[]);let d=c.length;const g=new Array(c.length);let h=null;c.forEach((v,w)=>{n(v,(M,D)=>{M&&(h=M),g[w]=D,--d==0&&i(h,g)})})}function ei(c,...n){for(const i of n)for(const d in i)c[d]=i[d];return c}let vr=1;function hr(){return vr++}function ur(c){return c<=1?1:Math.pow(2,Math.ceil(Math.log(c)/Math.LN2))}function wr(c,n){c.forEach(i=>{n[i]&&(n[i]=n[i].bind(n))})}function yr(c,n){return c.indexOf(n,c.length-n.length)!==-1}function Nr(c,n,i){const d={};for(const g in c)d[g]=n.call(this,c[g],g,c);return d}function Xn(c,n,i){const d={};for(const g in c)n.call(this,c[g],g,c)&&(d[g]=c[g]);return d}function lr(c){return Array.isArray(c)?c.map(lr):typeof c=="object"&&c?Nr(c,lr):c}const Ur={};function Ln(c){Ur[c]||(typeof console!="undefined"&&console.warn(c),Ur[c]=!0)}function _i(c,n,i){return(i.y-c.y)*(n.x-c.x)>(n.y-c.y)*(i.x-c.x)}function fi(c){let n=0;for(let i,d,g=0,h=c.length,v=h-1;g<h;v=g++)i=c[g],d=c[v],n+=(d.x-i.x)*(i.y+d.y);return n}function Wi([c,n,i]){const d=st(n+90),g=st(i);return{x:c*Math.cos(d)*Math.sin(g),y:c*Math.sin(d)*Math.sin(g),z:c*Math.cos(g),azimuthal:n,polar:i}}function po(){return typeof WorkerGlobalScope!="undefined"&&typeof self!="undefined"&&self instanceof WorkerGlobalScope}function kr(c){const n={};if(c.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(i,d,g,h)=>{const v=g||h;return n[d]=!v||v.toLowerCase(),""}),n["max-age"]){const i=parseInt(n["max-age"],10);isNaN(i)?delete n["max-age"]:n["max-age"]=i}return n}let no=null;function qt(c,n){return[c[4*n],c[4*n+1],c[4*n+2],c[4*n+3]]}function xn(c,n,i,d){for(;n<i;){const g=n+i>>1;c[g]<d?n=g+1:i=g}return n}function Jn(c,n,i,d){for(;n<i;){const g=n+i>>1;c[g]<=d?n=g+1:i=g}return n}function $r(c){return c>0?1/(1.001-c):1+c}function li(c){return c>0?1-1/(1.001-c):-c}const ii={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i},get API_TILEJSON_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/v[0-9]*\/.*\.json.*$)/i},get API_SPRITE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*\/sprite.*\..*$)/i},get API_FONTS_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/fonts\/v[0-9]*\/)(.*\.pbf.*$)/i},get API_STYLE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*$)/i},get API_CDN_URL_REGEX(){return/^((https?:)?\/\/)?api\.mapbox\.c(n|om)(\/mapbox-gl-js\/)(.*$)/i},get EVENTS_URL(){if(!ii.API_URL)return null;try{const c=new URL(ii.API_URL);return c.hostname==="api.mapbox.cn"?"https://events.mapbox.cn/events/v2":c.hostname==="api.mapbox.com"?"https://events.mapbox.com/events/v2":null}catch(c){return null}},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",RASTERARRAYS_URL_PREFIX:"rasterarrays/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,DEFAULT_STYLE:"mapbox://styles/mapbox/standard",MAX_PARALLEL_IMAGE_REQUESTS:16,DRACO_URL:"https://api.mapbox.com/mapbox-gl-js/draco_decoder_gltf_v1.5.6.wasm",MESHOPT_URL:"https://api.mapbox.com/mapbox-gl-js/meshopt_base_v0.20.wasm",MESHOPT_SIMD_URL:"https://api.mapbox.com/mapbox-gl-js/meshopt_simd_v0.20.wasm",GLYPHS_URL:"mapbox://fonts/mapbox/{fontstack}/{range}.pbf",TILES3D_URL_PREFIX:"3dtiles/v1"};function Ki(c){return ii.API_URL_REGEX.test(c)}function eo(c){return ii.API_SPRITE_REGEX.test(c)}let Ro,So,io,Pe,de,K;function Ne(){return Ro==null&&(Ro=self.OffscreenCanvas&&new OffscreenCanvas(1,1).getContext("2d")&&typeof self.createImageBitmap=="function"),Ro}const Je={now:()=>Pe!==void 0?Pe:performance.now(),setNow(c){Pe=c},restoreNow(){Pe=void 0},frame(c){const n=requestAnimationFrame(c);return{cancel:()=>cancelAnimationFrame(n)}},getImageData(c,n=0){const{width:i,height:d}=c;de||(de=document.createElement("canvas"));const g=de.getContext("2d",{willReadFrequently:!0});if(!g)throw new Error("failed to create canvas 2d context");return(i>de.width||d>de.height)&&(de.width=i,de.height=d),g.clearRect(-n,-n,i+2*n,d+2*n),g.drawImage(c,0,0,i,d),g.getImageData(-n,-n,i+2*n,d+2*n)},resolveURL:c=>(So||(So=document.createElement("a")),So.href=c,So.href),get devicePixelRatio(){return window.devicePixelRatio},get prefersReducedMotion(){return!!window.matchMedia&&(io==null&&(io=window.matchMedia("(prefers-reduced-motion: reduce)")),io.matches)},hasCanvasFingerprintNoise(){if(K!==void 0)return K;if(!Ne())return K=!1,!1;const c=new OffscreenCanvas(85,1),n=c.getContext("2d",{willReadFrequently:!0});let i=0;for(let g=0;g<c.width;++g)n.fillStyle=`rgba(${i++},${i++},${i++}, 255)`,n.fillRect(g,0,1,1);const d=n.getImageData(0,0,c.width,c.height);i=0;for(let g=0;g<d.data.length;++g)if(g%4!=3&&i++!==d.data[g])return K=!0,!0;return K=!1,!1}};function ge(c,n){const i=c.indexOf("?");if(i<0)return`${c}?${new URLSearchParams(n).toString()}`;const d=new URLSearchParams(c.slice(i));for(const g in n)d.set(g,n[g]);return`${c.slice(0,i)}?${d.toString()}`}function dt(c,n={persistentParams:[]}){const i=c.indexOf("?");if(i<0)return c;const d=new URLSearchParams,g=new URLSearchParams(c.slice(i));for(const v of n.persistentParams){const w=g.get(v);w&&d.set(v,w)}const h=d.toString();return`${c.slice(0,i)}${h.length>0?`?${h}`:""}`}const _t="mapbox-tiles";let Tt=500,Yt=50;const hn=["language","worldview","jobid"];let We,Et;function kt(){try{return caches}catch(c){}}function Kt(){const c=kt();c&&We==null&&(We=c.open(_t))}let rt=1/0;const Qe={supported:!1,testSupport:function(c){!kn&&mn&&(br?Mr(c):gn=c)}};let gn,mn,kn=!1,br=!1;const ar=typeof self!="undefined"?self:{};function Mr(c){const n=c.createTexture();c.bindTexture(c.TEXTURE_2D,n);try{if(c.texImage2D(c.TEXTURE_2D,0,c.RGBA,c.RGBA,c.UNSIGNED_BYTE,mn),c.isContextLost())return;Qe.supported=!0}catch(i){}c.deleteTexture(n),kn=!0}ar.document&&(mn=ar.document.createElement("img"),mn.onload=function(){gn&&Mr(gn),gn=null,br=!0},mn.onerror=function(){kn=!0,gn=null},mn.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const qr={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Iconset:"Iconset",Image:"Image",Model:"Model"};typeof Object.freeze=="function"&&Object.freeze(qr);class oi extends Error{constructor(n,i,d){i===401&&Ki(d)&&(n+=": you may have provided an invalid Mapbox access token. See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes"),super(n),this.status=i,this.url=d}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const Zi=po()?()=>self.worker&&self.worker.referrer:()=>(location.protocol==="blob:"?parent:self).location.href,ft=function(c,n){if(!(/^file:/.test(i=c.url)||/^file:/.test(Zi())&&!/^\w+:/.test(i))){if(self.fetch&&self.Request&&self.AbortController&&Request.prototype.hasOwnProperty("signal"))return function(d,g){const h=new AbortController,v=new Request(d.url,{method:d.method||"GET",body:d.body,credentials:d.credentials,headers:d.headers,referrer:Zi(),referrerPolicy:d.referrerPolicy,signal:h.signal});let w=!1,M=!1;const D=(x=v.url).indexOf("sku=")>0&&Ki(x);var x;d.type==="json"&&v.headers.set("Accept","application/json");const P=(T,O,N)=>{if(M)return;if(T&&T.message!=="SecurityError"&&Ln(T.toString()),O&&N)return $(O);const G=Date.now();fetch(v).then(q=>{if(q.ok){const se=D?q.clone():null;return $(q,se,G)}return g(new oi(q.statusText,q.status,d.url))}).catch(q=>{q.name!=="AbortError"&&g(new Error(`${q.message} ${d.url}`))})},$=(T,O,N)=>{(d.type==="arrayBuffer"?T.arrayBuffer():d.type==="json"?T.json():T.text()).then(G=>{M||(O&&N&&function(q,se,ce){if(Kt(),We==null)return;const te=kr(se.headers.get("Cache-Control")||"");if(te["no-store"])return;const pe={status:se.status,statusText:se.statusText,headers:new Headers};se.headers.forEach((it,nt)=>pe.headers.set(nt,it)),te["max-age"]&&pe.headers.set("Expires",new Date(ce+1e3*te["max-age"]).toUTCString());const Ce=pe.headers.get("Expires");if(!Ce||new Date(Ce).getTime()-ce<42e4)return;let Re=dt(q.url,{persistentParams:hn});if(se.status===206){const it=q.headers.get("Range");if(!it)return;pe.status=200,Re=ge(Re,{range:it})}(function(it,nt){if(Et===void 0)try{new Response(new ReadableStream),Et=!0}catch(et){Et=!1}Et?nt(it.body):it.blob().then(nt)})(se,it=>{const nt=new Response((et=se.status)!==200&&et!==404&&[101,103,204,205,304].includes(et)?null:it,pe);var et;Kt(),We!=null&&We.then(Lt=>Lt.put(Re,nt)).catch(Lt=>Ln(Lt.message))})}(v,O,N),w=!0,g(null,G,T.headers.get("Cache-Control"),T.headers.get("Expires")))}).catch(G=>{M||g(new Error(G.message))})};return D?function(T,O){if(Kt(),We==null)return O(null);We.then(N=>{let G=dt(T.url,{persistentParams:hn});const q=T.headers.get("Range");q&&(G=ge(G,{range:q})),N.match(G).then(se=>{const ce=function(te){if(!te)return!1;const pe=new Date(te.headers.get("Expires")||0),Ce=kr(te.headers.get("Cache-Control")||"");return pe>Date.now()&&!Ce["no-cache"]}(se);N.delete(G),ce&&N.put(G,se.clone()),O(null,se,ce)}).catch(O)}).catch(O)}(v,P):P(null,null),{cancel:()=>{M=!0,w||h.abort()}}}(c,n);if(po()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",c,n,void 0,!0)}var i;return function(d,g){const h=new XMLHttpRequest;h.open(d.method||"GET",d.url,!0),d.type==="arrayBuffer"&&(h.responseType="arraybuffer");for(const v in d.headers)h.setRequestHeader(v,d.headers[v]);return d.type==="json"&&(h.responseType="text",h.setRequestHeader("Accept","application/json")),h.withCredentials=d.credentials==="include",h.onerror=()=>{g(new Error(h.statusText))},h.onload=()=>{if((h.status>=200&&h.status<300||h.status===0)&&h.response!==null){let v=h.response;if(d.type==="json")try{v=JSON.parse(h.response)}catch(w){return g(w)}g(null,v,h.getResponseHeader("Cache-Control"),h.getResponseHeader("Expires"))}else g(new oi(h.statusText,h.status,d.url))},h.send(d.body),{cancel:()=>h.abort()}}(c,n)},_n=function(c,n){return ft(ei(c,{type:"arrayBuffer"}),n)};function Ut(c){const n=document.createElement("a");return n.href=c,n.protocol===location.protocol&&n.host===location.host}const bn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let sr,Yr;sr=[],Yr=0;const Ti=function(c,n){if(Qe.supported&&(c.headers||(c.headers={}),c.headers.accept="image/webp,*/*"),Yr>=ii.MAX_PARALLEL_IMAGE_REQUESTS){const h={requestParameters:c,callback:n,cancelled:!1,cancel(){this.cancelled=!0}};return sr.push(h),h}Yr++;let i=!1;const d=()=>{if(!i)for(i=!0,Yr--;sr.length&&Yr<ii.MAX_PARALLEL_IMAGE_REQUESTS;){const h=sr.shift(),{requestParameters:v,callback:w,cancelled:M}=h;M||(h.cancel=Ti(v,w).cancel)}},g=_n(c,(h,v,w,M)=>{d(),h?n(h):v&&(self.createImageBitmap?function(D,x){const P=new Blob([new Uint8Array(D)],{type:"image/png"});createImageBitmap(P).then($=>{x(null,$)}).catch($=>{x(new Error(`Could not load image because of ${$.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(v,(D,x)=>n(D,x,w,M)):function(D,x){const P=new Image;P.onload=()=>{x(null,P),URL.revokeObjectURL(P.src),P.onload=null,requestAnimationFrame(()=>{P.src=bn})},P.onerror=()=>x(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const $=new Blob([new Uint8Array(D)],{type:"image/png"});P.src=D.byteLength?URL.createObjectURL($):bn}(v,(D,x)=>n(D,x,w,M)))});return{cancel:()=>{g.cancel(),d()}}};var ho,zi,Ji,uo={exports:{}},Ni={exports:{}},Po={exports:{}},Vo=function(){if(Ji)return uo.exports;Ji=1;var c=(ho||(ho=1,Ni.exports=function(i,d){var g,h,v,w,M,D,x,P;for(h=i.length-(g=3&i.length),v=d,M=3432918353,D=461845907,P=0;P<h;)x=255&i.charCodeAt(P)|(255&i.charCodeAt(++P))<<8|(255&i.charCodeAt(++P))<<16|(255&i.charCodeAt(++P))<<24,++P,v=27492+(65535&(w=5*(65535&(v=(v^=x=(65535&(x=(x=(65535&x)*M+(((x>>>16)*M&65535)<<16)&4294967295)<<15|x>>>17))*D+(((x>>>16)*D&65535)<<16)&4294967295)<<13|v>>>19))+((5*(v>>>16)&65535)<<16)&4294967295))+((58964+(w>>>16)&65535)<<16);switch(x=0,g){case 3:x^=(255&i.charCodeAt(P+2))<<16;case 2:x^=(255&i.charCodeAt(P+1))<<8;case 1:v^=x=(65535&(x=(x=(65535&(x^=255&i.charCodeAt(P)))*M+(((x>>>16)*M&65535)<<16)&4294967295)<<15|x>>>17))*D+(((x>>>16)*D&65535)<<16)&4294967295}return v^=i.length,v=2246822507*(65535&(v^=v>>>16))+((2246822507*(v>>>16)&65535)<<16)&4294967295,v=3266489909*(65535&(v^=v>>>13))+((3266489909*(v>>>16)&65535)<<16)&4294967295,(v^=v>>>16)>>>0}),Ni.exports),n=(zi||(zi=1,Po.exports=function(i,d){for(var g,h=i.length,v=d^h,w=0;h>=4;)g=1540483477*(65535&(g=255&i.charCodeAt(w)|(255&i.charCodeAt(++w))<<8|(255&i.charCodeAt(++w))<<16|(255&i.charCodeAt(++w))<<24))+((1540483477*(g>>>16)&65535)<<16),v=1540483477*(65535&v)+((1540483477*(v>>>16)&65535)<<16)^(g=1540483477*(65535&(g^=g>>>24))+((1540483477*(g>>>16)&65535)<<16)),h-=4,++w;switch(h){case 3:v^=(255&i.charCodeAt(w+2))<<16;case 2:v^=(255&i.charCodeAt(w+1))<<8;case 1:v=1540483477*(65535&(v^=255&i.charCodeAt(w)))+((1540483477*(v>>>16)&65535)<<16)}return v=1540483477*(65535&(v^=v>>>13))+((1540483477*(v>>>16)&65535)<<16),(v^=v>>>15)>>>0}),Po.exports);return uo.exports=c,uo.exports.murmur3=c,uo.exports.murmur2=n,uo.exports}(),$o=Ie(Vo);class _o{constructor(n,...i){ei(this,i[0]||{}),this.type=n}}class Oo extends _o{constructor(n,i={}){super("error",ei({error:n},i))}}function zo(c,n,i){i[c]&&i[c].indexOf(n)!==-1||(i[c]=i[c]||[],i[c].push(n))}function qo(c,n,i){if(i&&i[c]){const d=i[c].indexOf(n);d!==-1&&i[c].splice(d,1)}}class oo{on(n,i){return this._listeners=this._listeners||{},zo(n,i,this._listeners),this}off(n,i){return qo(n,i,this._listeners),qo(n,i,this._oneTimeListeners),this}once(n,i){return i?(this._oneTimeListeners=this._oneTimeListeners||{},zo(n,i,this._oneTimeListeners),this):new Promise(d=>this.once(n,d))}fire(n,i){const d=typeof n=="string"?new _o(n,i):n,g=d.type;if(this.listens(g)){d.target=this;const h=this._listeners&&this._listeners[g]?this._listeners[g].slice():[];for(const M of h)M.call(this,d);const v=this._oneTimeListeners&&this._oneTimeListeners[g]?this._oneTimeListeners[g].slice():[];for(const M of v)qo(g,M,this._oneTimeListeners),M.call(this,d);const w=this._eventedParent;w&&(ei(d,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),w.fire(d))}else d instanceof Oo&&console.error(d.error);return this}listens(n){return!!(this._listeners&&this._listeners[n]&&this._listeners[n].length>0||this._oneTimeListeners&&this._oneTimeListeners[n]&&this._oneTimeListeners[n].length>0||this._eventedParent&&this._eventedParent.listens(n))}setEventedParent(n,i){return this._eventedParent=n,this._eventedParentData=i,this}}var wo,go={},so=function(){if(wo)return go;wo=1;var c={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function n(h){return(h=Math.round(h))<0?0:h>255?255:h}function i(h){return n(h[h.length-1]==="%"?parseFloat(h)/100*255:parseInt(h))}function d(h){return(v=h[h.length-1]==="%"?parseFloat(h)/100:parseFloat(h))<0?0:v>1?1:v;var v}function g(h,v,w){return w<0?w+=1:w>1&&(w-=1),6*w<1?h+(v-h)*w*6:2*w<1?v:3*w<2?h+(v-h)*(2/3-w)*6:h}try{go.parseCSSColor=function(h){var v,w=h.replace(/ /g,"").toLowerCase();if(w in c)return c[w].slice();if(w[0]==="#")return w.length===4?(v=parseInt(w.substr(1),16))>=0&&v<=4095?[(3840&v)>>4|(3840&v)>>8,240&v|(240&v)>>4,15&v|(15&v)<<4,1]:null:w.length===7&&(v=parseInt(w.substr(1),16))>=0&&v<=16777215?[(16711680&v)>>16,(65280&v)>>8,255&v,1]:null;var M=w.indexOf("("),D=w.indexOf(")");if(M!==-1&&D+1===w.length){var x=w.substr(0,M),P=w.substr(M+1,D-(M+1)).split(","),$=1;switch(x){case"rgba":if(P.length!==4)return null;$=d(P.pop());case"rgb":return P.length!==3?null:[i(P[0]),i(P[1]),i(P[2]),$];case"hsla":if(P.length!==4)return null;$=d(P.pop());case"hsl":if(P.length!==3)return null;var T=(parseFloat(P[0])%360+360)%360/360,O=d(P[1]),N=d(P[2]),G=N<=.5?N*(O+1):N+O-N*O,q=2*N-G;return[n(255*g(q,G,T+1/3)),n(255*g(q,G,T)),n(255*g(q,G,T-1/3)),$];default:return null}}return null}}catch(h){}return go}();class to{constructor(n,i,d,g=1){this.r=n,this.g=i,this.b=d,this.a=g}static parse(n){if(!n)return;if(n instanceof to)return n;if(typeof n!="string")return;const i=so.parseCSSColor(n);return i?new to(i[0]/255*i[3],i[1]/255*i[3],i[2]/255*i[3],i[3]):void 0}toStringPremultipliedAlpha(){const[n,i,d,g]=this.a===0?[0,0,0,0]:[255*this.r/this.a,255*this.g/this.a,255*this.b/this.a,this.a];return`rgba(${Math.round(n)},${Math.round(i)},${Math.round(d)},${g})`}toString(){const[n,i,d,g]=[this.r,this.g,this.b,this.a];return`rgba(${Math.round(255*n)},${Math.round(255*i)},${Math.round(255*d)},${g})`}toRenderColor(n){const{r:i,g:d,b:g,a:h}=this;return new ko(n,i,d,g,h)}clone(){return new to(this.r,this.g,this.b,this.a)}}class ko{constructor(n,i,d,g,h){if(n){const v=n.image.height,w=v*v;i=h===0?0:i/h*(v-1),d=h===0?0:d/h*(v-1),g=h===0?0:g/h*(v-1);const M=Math.floor(i),D=Math.floor(d),x=Math.floor(g),P=Math.ceil(i),$=Math.ceil(d),T=Math.ceil(g),O=i-M,N=d-D,G=g-x,q=n.image.data,se=4*(M+D*w+x*v),ce=4*(M+D*w+T*v),te=4*(M+$*w+x*v),pe=4*(M+$*w+T*v),Ce=4*(P+D*w+x*v),Re=4*(P+D*w+T*v),it=4*(P+$*w+x*v),nt=4*(P+$*w+T*v);if(se<0||nt>=q.length)throw new Error("out of range");this.r=Pr(Pr(Pr(q[se],q[ce],G),Pr(q[te],q[pe],G),N),Pr(Pr(q[Ce],q[Re],G),Pr(q[it],q[nt],G),N),O)/255*h,this.g=Pr(Pr(Pr(q[se+1],q[ce+1],G),Pr(q[te+1],q[pe+1],G),N),Pr(Pr(q[Ce+1],q[Re+1],G),Pr(q[it+1],q[nt+1],G),N),O)/255*h,this.b=Pr(Pr(Pr(q[se+2],q[ce+2],G),Pr(q[te+2],q[pe+2],G),N),Pr(Pr(q[Ce+2],q[Re+2],G),Pr(q[it+2],q[nt+2],G),N),O)/255*h,this.a=h}else this.r=i,this.g=d,this.b=g,this.a=h}toArray(){const{r:n,g:i,b:d,a:g}=this;return g===0?[0,0,0,0]:[255*n/g,255*i/g,255*d/g,g]}toHslaArray(){if(this.a===0)return[0,0,0,0];const{r:n,g:i,b:d,a:g}=this,h=Math.min(Math.max(n/g,0),1),v=Math.min(Math.max(i/g,0),1),w=Math.min(Math.max(d/g,0),1),M=Math.min(h,v,w),D=Math.max(h,v,w),x=(M+D)/2;if(M===D)return[0,0,100*x,g];const P=D-M,$=x>.5?P/(2-D-M):P/(D+M);let T=0;return D===h?T=(v-w)/P+(v<w?6:0):D===v?T=(w-h)/P+2:D===w&&(T=(h-v)/P+4),T*=60,[Math.min(Math.max(T,0),360),Math.min(Math.max(100*$,0),100),Math.min(Math.max(100*x,0),100),g]}toArray01(){const{r:n,g:i,b:d,a:g}=this;return g===0?[0,0,0,0]:[n/g,i/g,d/g,g]}toArray01Scaled(n){const{r:i,g:d,b:g,a:h}=this;return h===0?[0,0,0]:[i/h*n,d/h*n,g/h*n]}toArray01PremultipliedAlpha(){const{r:n,g:i,b:d,a:g}=this;return[n,i,d,g]}toArray01Linear(){const{r:n,g:i,b:d,a:g}=this;return g===0?[0,0,0,0]:[Math.pow(n/g,2.2),Math.pow(i/g,2.2),Math.pow(d/g,2.2),g]}}function Pr(c,n,i){return c*(1-i)+n*i}function Ho(c,n,i){return c.map((d,g)=>Pr(d,n[g],i))}to.black=new to(0,0,0,1),to.white=new to(1,1,1,1),to.transparent=new to(0,0,0,0),to.red=new to(1,0,0,1),to.blue=new to(0,0,1,1);var ha=Object.freeze({__proto__:null,array:Ho,color:function(c,n,i){return new to(Pr(c.r,n.r,i),Pr(c.g,n.g,i),Pr(c.b,n.b,i),Pr(c.a,n.a,i))},number:Pr});function za(c,...n){for(const i of n)for(const d in i)c[d]=i[d];return c}class Vi extends Error{constructor(n,i){super(i),this.message=i,this.key=n}}class ma{constructor(n,i=[]){this.parent=n,this.bindings={};for(const[d,g]of i)this.bindings[d]=g}concat(n){return new ma(this,n)}get(n){if(this.bindings[n])return this.bindings[n];if(this.parent)return this.parent.get(n);throw new Error(`${n} not found in scope.`)}has(n){return!!this.bindings[n]||!!this.parent&&this.parent.has(n)}}const qa={kind:"null"},Jr={kind:"number"},vo={kind:"string"},Ao={kind:"boolean"},Yo={kind:"color"},co={kind:"object"},Ai={kind:"value"},ga={kind:"collator"},jo={kind:"formatted"},en={kind:"resolvedImage"};function Ve(c,n){return{kind:"array",itemType:c,N:n}}function be(c){if(c.kind==="array"){const n=be(c.itemType);return typeof c.N=="number"?`array<${n}, ${c.N}>`:c.itemType.kind==="value"?"array":`array<${n}>`}return c.kind}const Ze=[qa,Jr,vo,Ao,Yo,jo,co,Ve(Ai),en];function De(c,n){if(n.kind==="error")return null;if(c.kind==="array"){if(n.kind==="array"&&(n.N===0&&n.itemType.kind==="value"||!De(c.itemType,n.itemType))&&(typeof c.N!="number"||c.N===n.N))return null}else{if(c.kind===n.kind)return null;if(c.kind==="value"){for(const i of Ze)if(!De(i,n))return null}}return`Expected ${be(c)} but found ${be(n)} instead.`}function $t(c,n){return n.some(i=>i.kind===c.kind)}function tn(c,n){return n.some(i=>i==="null"?c===null:i==="array"?Array.isArray(c):i==="object"?c&&!Array.isArray(c)&&typeof c=="object":i===typeof c)}class Wn{constructor(n,i,d){this.sensitivity=n?i?"variant":"case":i?"accent":"base",this.locale=d,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(n,i){return this.collator.compare(n,i)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class pr{constructor(n,i,d,g,h){this.text=n.normalize?n.normalize():n,this.image=i,this.scale=d,this.fontStack=g,this.textColor=h}}class ir{constructor(n){this.sections=n}static fromString(n){return new ir([new pr(n,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(n=>n.text.length!==0||n.image&&n.image.namePrimary)}static factory(n){return n instanceof ir?n:ir.fromString(n)}toString(){return this.sections.length===0?"":this.sections.map(n=>n.text).join("")}serialize(){const n=["format"];for(const i of this.sections){if(i.image){n.push(["image",i.image.namePrimary]);continue}n.push(i.text);const d={};i.fontStack&&(d["text-font"]=["literal",i.fontStack.split(",")]),i.scale&&(d["font-scale"]=i.scale),i.textColor&&(d["text-color"]=["rgba"].concat(i.textColor.toRenderColor(null).toArray())),n.push(d)}return n}}class rr{constructor(n,i){if(this.id=n,this.options=i||{params:{}},this.options.transform){const{a:d,b:g,c:h,d:v,e:w,f:M}=this.options.transform;this.options.transform=new DOMMatrix([d,g,h,v,w,M])}else this.options.transform=new DOMMatrix([1,0,0,1,0,0])}static deserializeId(n){return JSON.parse(n).id}static deserializeFromString(n){const i=JSON.parse(n),{a:d,b:g,c:h,d:v,e:w,f:M}=i.options.transform;return new DOMMatrix([d,g,h,v,w,M]),new rr(i.id,i.options)}scaleSelf(n){return this.options.transform=this.options.transform.scale(n),this}serialize(){const n={id:this.id};this.options&&(n.options=this.options);const{a:i,b:d,c:g,d:h,e:v,f:w}=this.options.transform;return n.options.transform={a:i,b:d,c:g,d:h,e:v,f:w},JSON.stringify(n)}}class Vr{constructor(n){this.namePrimary=n.namePrimary,n.nameSecondary&&(this.nameSecondary=n.nameSecondary),n.optionsPrimary&&(this.optionsPrimary=n.optionsPrimary),n.optionsSecondary&&(this.optionsSecondary=n.optionsSecondary),this.available=n.available}toString(){return this.namePrimary&&this.nameSecondary?`[${this.namePrimary},${this.nameSecondary}]`:this.namePrimary}getPrimary(){return new rr(this.namePrimary,{params:this.optionsPrimary&&this.optionsPrimary.params||{}})}getSerializedPrimary(){return this.getPrimary().serialize()}getSecondary(){return this.nameSecondary?new rr(this.nameSecondary,{params:this.optionsSecondary&&this.optionsSecondary.params||{}}):null}static from(n){return typeof n=="string"?Vr.build(n):n}static build(n,i,d,g){return n?new Vr({namePrimary:n,nameSecondary:i,optionsPrimary:d,optionsSecondary:g,available:!1}):null}}function Si(c,n,i,d){return typeof c=="number"&&c>=0&&c<=255&&typeof n=="number"&&n>=0&&n<=255&&typeof i=="number"&&i>=0&&i<=255?d===void 0||typeof d=="number"&&d>=0&&d<=1?null:`Invalid rgba value [${[c,n,i,d].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof d=="number"?[c,n,i,d]:[c,n,i]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Ci(c){if(c===null||typeof c=="string"||typeof c=="boolean"||typeof c=="number"||c instanceof to||c instanceof Wn||c instanceof ir||c instanceof Vr)return!0;if(Array.isArray(c)){for(const n of c)if(!Ci(n))return!1;return!0}if(typeof c=="object"){for(const n in c)if(!Ci(c[n]))return!1;return!0}return!1}function pi(c){if(c===null)return qa;if(typeof c=="string")return vo;if(typeof c=="boolean")return Ao;if(typeof c=="number")return Jr;if(c instanceof to)return Yo;if(c instanceof Wn)return ga;if(c instanceof ir)return jo;if(c instanceof Vr)return en;if(Array.isArray(c)){const n=c.length;let i;for(const d of c){const g=pi(d);if(i){if(i===g)continue;i=Ai;break}i=g}return Ve(i||Ai,n)}return co}function wi(c){const n=typeof c;return c===null?"":n==="string"||n==="number"||n==="boolean"?String(c):c instanceof to?c.toStringPremultipliedAlpha():c instanceof ir||c instanceof Vr?c.toString():JSON.stringify(c)}class ti{constructor(n,i){this.type=n,this.value=i}static parse(n,i){if(n.length!==2)return i.error(`'literal' expression requires exactly one argument, but found ${n.length-1} instead.`);if(!Ci(n[1]))return i.error("invalid value");const d=n[1];let g=pi(d);const h=i.expectedType;return g.kind!=="array"||g.N!==0||!h||h.kind!=="array"||typeof h.N=="number"&&h.N!==0||(g=h),new ti(g,d)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof to?["rgba"].concat(this.value.toRenderColor(null).toArray()):this.value instanceof ir?this.value.serialize():this.value}}class Ri{constructor(n){this.name="ExpressionEvaluationError",this.message=n}toJSON(){return this.message}}const $i={string:vo,number:Jr,boolean:Ao,object:co};class yo{constructor(n,i){this.type=n,this.args=i}static parse(n,i){if(n.length<2)return i.error("Expected at least one argument.");let d,g=1;const h=n[0];if(h==="array"){let w,M;if(n.length>2){const D=n[1];if(typeof D!="string"||!(D in $i)||D==="object")return i.error('The item type argument of "array" must be one of string, number, boolean',1);w=$i[D],g++}else w=Ai;if(n.length>3){if(n[2]!==null&&(typeof n[2]!="number"||n[2]<0||n[2]!==Math.floor(n[2])))return i.error('The length argument to "array" must be a positive integer literal',2);M=n[2],g++}d=Ve(w,M)}else d=$i[h];const v=[];for(;g<n.length;g++){const w=i.parse(n[g],g,Ai);if(!w)return null;v.push(w)}return new yo(d,v)}evaluate(n){for(let i=0;i<this.args.length;i++){const d=this.args[i].evaluate(n);if(!De(this.type,pi(d)))return d;if(i===this.args.length-1)throw new Ri(`The expression ${JSON.stringify(this.args[i].serialize())} evaluated to ${be(pi(d))} but was expected to be of type ${be(this.type)}.`)}return null}eachChild(n){this.args.forEach(n)}outputDefined(){return this.args.every(n=>n.outputDefined())}serialize(){const n=this.type,i=[n.kind];if(n.kind==="array"){const d=n.itemType;if(d.kind==="string"||d.kind==="number"||d.kind==="boolean"){i.push(d.kind);const g=n.N;(typeof g=="number"||this.args.length>1)&&i.push(g)}}return i.concat(this.args.map(d=>d.serialize()))}}class Qo{constructor(n){this.type=jo,this.sections=n}static parse(n,i){if(n.length<2)return i.error("Expected at least one argument.");const d=n[1];if(!Array.isArray(d)&&typeof d=="object")return i.error("First argument must be an image or text section.");const g=[];let h=!1;for(let v=1;v<=n.length-1;++v){const w=n[v];if(h&&typeof w=="object"&&!Array.isArray(w)){h=!1;let M=null;if(w["font-scale"]&&(M=i.parseObjectValue(w["font-scale"],v,"font-scale",Jr),!M))return null;let D=null;if(w["text-font"]&&(D=i.parseObjectValue(w["text-font"],v,"text-font",Ve(vo)),!D))return null;let x=null;if(w["text-color"]&&(x=i.parseObjectValue(w["text-color"],v,"text-color",Yo),!x))return null;const P=g[g.length-1];P.scale=M,P.font=D,P.textColor=x}else{const M=i.parse(n[v],v,Ai);if(!M)return null;const D=M.type.kind;if(D!=="string"&&D!=="value"&&D!=="null"&&D!=="resolvedImage")return i.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");h=!0,g.push({content:M,scale:null,font:null,textColor:null})}}return new Qo(g)}evaluate(n){return new ir(this.sections.map(i=>{const d=i.content.evaluate(n);return pi(d)===en?new pr("",d,null,null,null):new pr(wi(d),null,i.scale?i.scale.evaluate(n):null,i.font?i.font.evaluate(n).join(","):null,i.textColor?i.textColor.evaluate(n):null)}))}eachChild(n){for(const i of this.sections)n(i.content),i.scale&&n(i.scale),i.font&&n(i.font),i.textColor&&n(i.textColor)}outputDefined(){return!1}serialize(){const n=["format"];for(const i of this.sections){n.push(i.content.serialize());const d={};i.scale&&(d["font-scale"]=i.scale.serialize()),i.font&&(d["text-font"]=i.font.serialize()),i.textColor&&(d["text-color"]=i.textColor.serialize()),n.push(d)}return n}}class aa{constructor(n,i,d,g){this._imageWarnHistory={},this.type=en,this.inputPrimary=n,this.inputSecondary=i,this.inputPrimaryParams=d,this.inputSecondaryParams=g}static parse(n,i){if(n.length<2)return i.error("Expected two or more arguments.");let d=1;const g=[];function h(){if(d<n.length){const w=i.parse(n[d],d++,vo);return w?(g.push({image:w,options:void 0}),!0):(i.error(g.length?"Secondary image variant is not a string.":"No image name provided."),!1)}return!0}function v(){if(d<n.length){if((w=n[d])===null||typeof w!="object"||Array.isArray(w))return!0;const M=n[d].params,D=i.concat(d);if(!M)return d++,!0;if(typeof M!="object"||M.constructor!==Object)return D.error('Image options "params" should be an object'),!1;const x={},P=D.concat(void 0,"params");for(const $ in M){if(!$)return P.error("Image parameter name should be non-empty"),!1;const T=P.concat(void 0,$).parse(M[$],void 0,Yo,void 0,{typeAnnotation:"coerce"});if(!T)return!1;x[$]=T}return g[g.length-1].options=x,d++,!0}var w;return!0}for(let w=0;w<2;w++)if(!h()||!v())return;return new aa(g[0].image,g[1]?g[1].image:void 0,g[0].options,g[1]?g[1].options:void 0)}evaluateParams(n,i){const d={};if(i){for(const g in i)if(i[g])try{const h=i[g].evaluate(n),v=`Ignoring image parameter "${g}" with semi-transparent color ${h.toString()}`;if(h.a!==1){this._imageWarnHistory[v]||(console.warn(v),this._imageWarnHistory[v]=!0);continue}d[g]=h}catch(h){continue}if(Object.keys(d).length!==0)return{params:d}}}evaluate(n){const i=Vr.build(this.inputPrimary.evaluate(n),this.inputSecondary?this.inputSecondary.evaluate(n):void 0,this.inputPrimaryParams?this.evaluateParams(n,this.inputPrimaryParams):void 0,this.inputSecondaryParams?this.evaluateParams(n,this.inputSecondaryParams):void 0);return i&&n.availableImages&&(i.available=n.availableImages.indexOf(i.namePrimary)>-1,i.nameSecondary&&i.available&&n.availableImages&&(i.available=n.availableImages.indexOf(i.nameSecondary)>-1)),i}eachChild(n){if(n(this.inputPrimary),this.inputPrimaryParams)for(const i in this.inputPrimaryParams)this.inputPrimaryParams[i]&&n(this.inputPrimaryParams[i]);if(this.inputSecondary&&(n(this.inputSecondary),this.inputSecondaryParams))for(const i in this.inputSecondaryParams)this.inputSecondaryParams[i]&&n(this.inputSecondaryParams[i])}outputDefined(){return!1}serializeParams(n){const i={};if(n){for(const d in n)n[d]&&(i[d]=n[d].serialize());return{params:i}}}serialize(){const n=["image",this.inputPrimary.serialize()];return this.inputPrimaryParams&&n.push(this.serializeParams(this.inputPrimaryParams)),this.inputSecondary&&(n.push(this.inputSecondary.serialize()),this.inputSecondaryParams&&n.push(this.serializeParams(this.inputSecondaryParams))),n}}function Ea(c){return c instanceof Number?"number":c instanceof String?"string":c instanceof Boolean?"boolean":Array.isArray(c)?"array":c===null?"null":typeof c}const Ma={"to-boolean":Ao,"to-color":Yo,"to-number":Jr,"to-string":vo};class wa{constructor(n,i){this.type=n,this.args=i}static parse(n,i){if(n.length<2)return i.error("Expected at least one argument.");const d=n[0],g=[];let h=qa;if(d==="to-array"){if(!Array.isArray(n[1]))return null;const v=n[1].length;if(i.expectedType){if(i.expectedType.kind!=="array")return i.error(`Expected ${i.expectedType.kind} but found array.`);h=Ve(i.expectedType.itemType,v)}else{if(!(v>0&&Ci(n[1][0])))return null;h=Ve(pi(n[1][0]),v)}for(let w=0;w<v;w++){const M=n[1][w];let D;if(Ea(M)==="array")D=i.parse(M,void 0,h.itemType);else{const x=Ea(M);if(x!==h.itemType.kind)return i.error(`Expected ${h.itemType.kind} but found ${x}.`);D=i.registry.literal.parse(["literal",M===void 0?null:M],i)}if(!D)return null;g.push(D)}}else{if((d==="to-boolean"||d==="to-string")&&n.length!==2)return i.error("Expected one argument.");h=Ma[d];for(let v=1;v<n.length;v++){const w=i.parse(n[v],v,Ai);if(!w)return null;g.push(w)}}return new wa(h,g)}evaluate(n){if(this.type.kind==="boolean")return!!this.args[0].evaluate(n);if(this.type.kind==="color"){let i,d;for(const g of this.args){if(i=g.evaluate(n),d=null,i instanceof to)return i;if(typeof i=="string"){const h=n.parseColor(i);if(h)return h}else if(Array.isArray(i)&&(d=i.length<3||i.length>4?`Invalid rbga value ${JSON.stringify(i)}: expected an array containing either three or four numeric values.`:Si(i[0],i[1],i[2],i[3]),!d))return new to(i[0]/255,i[1]/255,i[2]/255,i[3])}throw new Ri(d||`Could not parse color from value '${typeof i=="string"?i:String(JSON.stringify(i))}'`)}if(this.type.kind==="number"){let i=null;for(const d of this.args){if(i=d.evaluate(n),i===null)return 0;const g=Number(i);if(!isNaN(g))return g}throw new Ri(`Could not convert ${JSON.stringify(i)} to number.`)}return this.type.kind==="formatted"?ir.fromString(wi(this.args[0].evaluate(n))):this.type.kind==="resolvedImage"?Vr.build(wi(this.args[0].evaluate(n))):this.type.kind==="array"?this.args.map(i=>i.evaluate(n)):wi(this.args[0].evaluate(n))}eachChild(n){this.args.forEach(n)}outputDefined(){return this.args.every(n=>n.outputDefined())}serialize(){if(this.type.kind==="formatted")return new Qo([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new aa(this.args[0]).serialize();const n=this.type.kind==="array"?[]:[`to-${this.type.kind}`];return this.eachChild(i=>{n.push(i.serialize())}),n}}const Ca=["Unknown","Point","LineString","Polygon"];class Za{constructor(n,i){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null,this.scope=n,this.options=i}id(){return this.feature&&this.feature.id!==void 0?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Ca[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}measureLight(n){return this.globals.brightness||0}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const n=this.featureDistanceData.center,i=this.featureDistanceData.scale,{x:d,y:g}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(d*i-n[0])+this.featureDistanceData.bearing[1]*(g*i-n[1])}return 0}parseColor(n){let i=this._parseColorCache[n];return i||(i=this._parseColorCache[n]=to.parse(n)),i}getConfig(n){return this.options?this.options.get(n):null}}class ca{constructor(n,i,d,g,h){this.name=n,this.type=i,this._evaluate=d,this.args=g,this._overloadIndex=h}evaluate(n){if(!this._evaluate){const i=ca.definitions[this.name];this._evaluate=Array.isArray(i)?i[2]:i.overloads[this._overloadIndex][1]}return this._evaluate(n,this.args)}eachChild(n){this.args.forEach(n)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(n=>n.serialize()))}static parse(n,i){const d=n[0],g=ca.definitions[d];if(!g)return i.error(`Unknown expression "${d}". If you wanted a literal array, use ["literal", [...]].`,0);const h=Array.isArray(g)?g[0]:g.type,v=Array.isArray(g)?[[g[1],g[2]]]:g.overloads,w=[];let M=null,D=-1;for(const[x,P]of v){if(Array.isArray(x)&&x.length!==n.length-1)continue;w.push(x),D++,M=new jl(i.registry,i.path,null,i.scope,void 0,i._scope,i.options);const $=[];let T=!1;for(let O=1;O<n.length;O++){const N=n[O],G=Array.isArray(x)?x[O-1]:x.type,q=M.parse(N,1+$.length,G);if(!q){T=!0;break}$.push(q)}if(!T)if(Array.isArray(x)&&x.length!==$.length)M.error(`Expected ${x.length} arguments, but found ${$.length} instead.`);else{for(let O=0;O<$.length;O++){const N=Array.isArray(x)?x[O]:x.type,G=$[O];M.concat(O+1).checkSubtype(N,G.type)}if(M.errors.length===0)return new ca(d,h,P,$,D)}}if(w.length===1)i.errors.push(...M.errors);else{const x=(w.length?w:v.map(([$])=>$)).map(cs).join(" | "),P=[];for(let $=1;$<n.length;$++){const T=i.parse(n[$],1+P.length);if(!T)return null;P.push(be(T.type))}i.error(`Expected arguments of type ${x}, but found (${P.join(", ")}) instead.`)}return null}static register(n,i){ca.definitions=i;for(const d in i)n[d]=ca}}function cs(c){return Array.isArray(c)?`(${c.map(be).join(", ")})`:`(${be(c.type)}...)`}class Va{constructor(n,i,d){this.type=ga,this.locale=d,this.caseSensitive=n,this.diacriticSensitive=i}static parse(n,i){if(n.length!==2)return i.error("Expected one argument.");const d=n[1];if(typeof d!="object"||Array.isArray(d))return i.error("Collator options argument must be an object.");const g=d["case-sensitive"]===void 0?i.parse(!1,1,Ao):i.parseObjectValue(d["case-sensitive"],1,"case-sensitive",Ao);if(!g)return null;const h=d["diacritic-sensitive"]===void 0?i.parse(!1,1,Ao):i.parseObjectValue(d["diacritic-sensitive"],1,"diacritic-sensitive",Ao);if(!h)return null;let v=null;return d.locale&&(v=i.parseObjectValue(d.locale,1,"locale",vo),!v)?null:new Va(g,h,v)}evaluate(n){return new Wn(this.caseSensitive.evaluate(n),this.diacriticSensitive.evaluate(n),this.locale?this.locale.evaluate(n):null)}eachChild(n){n(this.caseSensitive),n(this.diacriticSensitive),this.locale&&n(this.locale)}outputDefined(){return!1}serialize(){const n={};return n["case-sensitive"]=this.caseSensitive.serialize(),n["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(n.locale=this.locale.serialize()),["collator",n]}}function as(c,n,i=0,d=c.length-1,g=cl){for(;d>i;){if(d-i>600){const M=d-i+1,D=n-i+1,x=Math.log(M),P=.5*Math.exp(2*x/3),$=.5*Math.sqrt(x*P*(M-P)/M)*(D-M/2<0?-1:1);as(c,n,Math.max(i,Math.floor(n-D*P/M+$)),Math.min(d,Math.floor(n+(M-D)*P/M+$)),g)}const h=c[n];let v=i,w=d;for(nl(c,i,n),g(c[d],h)>0&&nl(c,i,d);v<w;){for(nl(c,v,w),v++,w--;g(c[v],h)<0;)v++;for(;g(c[w],h)>0;)w--}g(c[i],h)===0?nl(c,i,w):(w++,nl(c,w,d)),w<=n&&(i=w+1),n<=w&&(d=w-1)}}function nl(c,n,i){const d=c[n];c[n]=c[i],c[i]=d}function cl(c,n){return c<n?-1:c>n?1:0}function Nl(c){let n=0;for(let i,d,g=0,h=c.length,v=h-1;g<h;v=g++)i=c[g],d=c[v],n+=(d.x-i.x)*(i.y+d.y);return n}function Hs(c,n){c[0]=Math.min(c[0],n[0]),c[1]=Math.min(c[1],n[1]),c[2]=Math.max(c[2],n[0]),c[3]=Math.max(c[3],n[1])}function Bl(c,n){return!(c[0]<=n[0]||c[2]>=n[2]||c[1]<=n[1]||c[3]>=n[3])}function wc(c,n,i){const d=c[0]-n[0],g=c[1]-n[1],h=c[0]-i[0],v=c[1]-i[1];return d*v-h*g==0&&d*h<=0&&g*v<=0}function ua(c,n,i=!1){let d=!1;for(let w=0,M=n.length;w<M;w++){const D=n[w];for(let x=0,P=D.length,$=P-1;x<P;$=x++){const T=D[$],O=D[x];if(wc(c,T,O))return i;(h=T)[1]>(g=c)[1]!=(v=O)[1]>g[1]&&g[0]<(v[0]-h[0])*(g[1]-h[1])/(v[1]-h[1])+h[0]&&(d=!d)}}var g,h,v;return d}function Ha(c,n,i,d){const g=d[0]-i[0],h=d[1]-i[1],v=(c[0]-i[0])*h-g*(c[1]-i[1]),w=(n[0]-i[0])*h-g*(n[1]-i[1]);return v>0&&w<0||v<0&&w>0}function da(c,n,i,d){return(g=[d[0]-i[0],d[1]-i[1]])[0]*(h=[n[0]-c[0],n[1]-c[1]])[1]-g[1]*h[0]!=0&&!(!Ha(c,n,i,d)||!Ha(i,d,c,n));var g,h}const Jo=8192;function ys(c,n){const i=(180+c[0])/360,d=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+c[1]*Math.PI/360)))/360,g=Math.pow(2,n.z);return[Math.round(i*g*Jo),Math.round(d*g*Jo)]}function Fs(c,n){for(let i=0;i<n.length;i++)if(ua(c,n[i]))return!0;return!1}function rc(c,n,i){for(const d of i)for(let g=0,h=d.length,v=h-1;g<h;v=g++)if(da(c,n,d[v],d[g]))return!0;return!1}function gc(c,n){for(let i=0;i<c.length;++i)if(!ua(c[i],n))return!1;for(let i=0;i<c.length-1;++i)if(rc(c[i],c[i+1],n))return!1;return!0}function Zc(c,n){for(let i=0;i<n.length;i++)if(gc(c,n[i]))return!0;return!1}function Ml(c,n,i){const d=[];for(let g=0;g<c.length;g++){const h=[];for(let v=0;v<c[g].length;v++){const w=ys(c[g][v],i);Hs(n,w),h.push(w)}d.push(h)}return d}function Xl(c,n,i){const d=[];for(let g=0;g<c.length;g++){const h=Ml(c[g],n,i);d.push(h)}return d}function sa(c,n,i,d){if(c[0]<i[0]||c[0]>i[2]){const g=.5*d;let h=c[0]-i[0]>g?-d:i[0]-c[0]>g?d:0;h===0&&(h=c[0]-i[2]>g?-d:i[2]-c[0]>g?d:0),c[0]+=h}Hs(n,c)}function To(c,n,i,d){const g=Math.pow(2,d.z)*Jo,h=[d.x*Jo,d.y*Jo],v=[];if(!c)return v;for(const w of c)for(const M of w){const D=[M.x+h[0],M.y+h[1]];sa(D,n,i,g),v.push(D)}return v}function ru(c,n,i,d){const g=Math.pow(2,d.z)*Jo,h=[d.x*Jo,d.y*Jo],v=[];if(!c)return v;for(const M of c){const D=[];for(const x of M){const P=[x.x+h[0],x.y+h[1]];Hs(n,P),D.push(P)}v.push(D)}if(n[2]-n[0]<=g/2){(w=n)[0]=w[1]=1/0,w[2]=w[3]=-1/0;for(const M of v)for(const D of M)sa(D,n,i,g)}var w;return v}class Zo{constructor(n,i){this.type=Ao,this.geojson=n,this.geometries=i}static parse(n,i){if(n.length!==2)return i.error(`'within' expression requires exactly one argument, but found ${n.length-1} instead.`);if(Ci(n[1])){const d=n[1];if(d.type==="FeatureCollection")for(let g=0;g<d.features.length;++g){const h=d.features[g].geometry.type;if(h==="Polygon"||h==="MultiPolygon")return new Zo(d,d.features[g].geometry)}else if(d.type==="Feature"){const g=d.geometry.type;if(g==="Polygon"||g==="MultiPolygon")return new Zo(d,d.geometry)}else if(d.type==="Polygon"||d.type==="MultiPolygon")return new Zo(d,d)}return i.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(n){if(n.geometry()!=null&&n.canonicalID()!=null){if(n.geometryType()==="Point")return function(i,d){const g=[1/0,1/0,-1/0,-1/0],h=[1/0,1/0,-1/0,-1/0],v=i.canonicalID();if(!v)return!1;if(d.type==="Polygon"){const w=Ml(d.coordinates,h,v),M=To(i.geometry(),g,h,v);if(!Bl(g,h))return!1;for(const D of M)if(!ua(D,w))return!1}if(d.type==="MultiPolygon"){const w=Xl(d.coordinates,h,v),M=To(i.geometry(),g,h,v);if(!Bl(g,h))return!1;for(const D of M)if(!Fs(D,w))return!1}return!0}(n,this.geometries);if(n.geometryType()==="LineString")return function(i,d){const g=[1/0,1/0,-1/0,-1/0],h=[1/0,1/0,-1/0,-1/0],v=i.canonicalID();if(!v)return!1;if(d.type==="Polygon"){const w=Ml(d.coordinates,h,v),M=ru(i.geometry(),g,h,v);if(!Bl(g,h))return!1;for(const D of M)if(!gc(D,w))return!1}if(d.type==="MultiPolygon"){const w=Xl(d.coordinates,h,v),M=ru(i.geometry(),g,h,v);if(!Bl(g,h))return!1;for(const D of M)if(!Zc(D,w))return!1}return!0}(n,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}const Fl={kilometers:1,miles:1e3/1609.344,nauticalmiles:1e3/1852,meters:1e3,metres:1e3,yards:1e3/.9144,feet:1e3/.3048,inches:1e3/.0254},fu=1/298.257223563,ea=fu*(2-fu),cc=Math.PI/180;class vc{static fromTile(n,i,d){const g=Math.PI*(1-2*(n+.5)/Math.pow(2,i)),h=Math.atan(.5*(Math.exp(g)-Math.exp(-g)))/cc;return new vc(h,d)}static get units(){return Fl}constructor(n,i){if(n===void 0)throw new Error("No latitude given.");if(i&&!Fl[i])throw new Error(`Unknown unit ${i}. Use one of: ${Object.keys(Fl).join(", ")}`);const d=6378.137*cc*(i?Fl[i]:1),g=Math.cos(n*cc),h=1/(1-ea*(1-g*g)),v=Math.sqrt(h);this.kx=d*v*g,this.ky=d*v*h*(1-ea)}distance(n,i){const d=Kl(n[0]-i[0])*this.kx,g=(n[1]-i[1])*this.ky;return Math.sqrt(d*d+g*g)}bearing(n,i){const d=Kl(i[0]-n[0])*this.kx;return Math.atan2(d,(i[1]-n[1])*this.ky)/cc}destination(n,i,d){const g=d*cc;return this.offset(n,Math.sin(g)*i,Math.cos(g)*i)}offset(n,i,d){return[n[0]+i/this.kx,n[1]+d/this.ky]}lineDistance(n){let i=0;for(let d=0;d<n.length-1;d++)i+=this.distance(n[d],n[d+1]);return i}area(n){let i=0;for(let d=0;d<n.length;d++){const g=n[d];for(let h=0,v=g.length,w=v-1;h<v;w=h++)i+=Kl(g[h][0]-g[w][0])*(g[h][1]+g[w][1])*(d?-1:1)}return Math.abs(i)/2*this.kx*this.ky}along(n,i){let d=0;if(i<=0)return n[0];for(let g=0;g<n.length-1;g++){const h=n[g],v=n[g+1],w=this.distance(h,v);if(d+=w,d>i)return ju(h,v,(i-(d-w))/w)}return n[n.length-1]}pointToSegmentDistance(n,i,d){let[g,h]=i,v=Kl(d[0]-g)*this.kx,w=(d[1]-h)*this.ky;if(v!==0||w!==0){const M=(Kl(n[0]-g)*this.kx*v+(n[1]-h)*this.ky*w)/(v*v+w*w);M>1?(g=d[0],h=d[1]):M>0&&(g+=v/this.kx*M,h+=w/this.ky*M)}return v=Kl(n[0]-g)*this.kx,w=(n[1]-h)*this.ky,Math.sqrt(v*v+w*w)}pointOnLine(n,i){let d=1/0,g=n[0][0],h=n[0][1],v=0,w=0;for(let M=0;M<n.length-1;M++){let D=n[M][0],x=n[M][1],P=Kl(n[M+1][0]-D)*this.kx,$=(n[M+1][1]-x)*this.ky,T=0;P===0&&$===0||(T=(Kl(i[0]-D)*this.kx*P+(i[1]-x)*this.ky*$)/(P*P+$*$),T>1?(D=n[M+1][0],x=n[M+1][1]):T>0&&(D+=P/this.kx*T,x+=$/this.ky*T)),P=Kl(i[0]-D)*this.kx,$=(i[1]-x)*this.ky;const O=P*P+$*$;O<d&&(d=O,g=D,h=x,v=M,w=T)}return{point:[g,h],index:v,t:Math.max(0,Math.min(1,w))}}lineSlice(n,i,d){let g=this.pointOnLine(d,n),h=this.pointOnLine(d,i);if(g.index>h.index||g.index===h.index&&g.t>h.t){const D=g;g=h,h=D}const v=[g.point],w=g.index+1,M=h.index;!iu(d[w],v[0])&&w<=M&&v.push(d[w]);for(let D=w+1;D<=M;D++)v.push(d[D]);return iu(d[M],h.point)||v.push(h.point),v}lineSliceAlong(n,i,d){let g=0;const h=[];for(let v=0;v<d.length-1;v++){const w=d[v],M=d[v+1],D=this.distance(w,M);if(g+=D,g>n&&h.length===0&&h.push(ju(w,M,(n-(g-D))/D)),g>=i)return h.push(ju(w,M,(i-(g-D))/D)),h;g>n&&h.push(M)}return h}bufferPoint(n,i){const d=i/this.ky,g=i/this.kx;return[n[0]-g,n[1]-d,n[0]+g,n[1]+d]}bufferBBox(n,i){const d=i/this.ky,g=i/this.kx;return[n[0]-g,n[1]-d,n[2]+g,n[3]+d]}insideBBox(n,i){return Kl(n[0]-i[0])>=0&&Kl(n[0]-i[2])<=0&&n[1]>=i[1]&&n[1]<=i[3]}}function iu(c,n){return c[0]===n[0]&&c[1]===n[1]}function ju(c,n,i){const d=Kl(n[0]-c[0]);return[c[0]+d*i,c[1]+(n[1]-c[1])*i]}function Kl(c){for(;c<-180;)c+=360;for(;c>180;)c-=360;return c}class ll{constructor(n=[],i=(d,g)=>d<g?-1:d>g?1:0){if(this.data=n,this.length=this.data.length,this.compare=i,this.length>0)for(let d=(this.length>>1)-1;d>=0;d--)this._down(d)}push(n){this.data.push(n),this._up(this.length++)}pop(){if(this.length===0)return;const n=this.data[0],i=this.data.pop();return--this.length>0&&(this.data[0]=i,this._down(0)),n}peek(){return this.data[0]}_up(n){const{data:i,compare:d}=this,g=i[n];for(;n>0;){const h=n-1>>1,v=i[h];if(d(g,v)>=0)break;i[n]=v,n=h}i[n]=g}_down(n){const{data:i,compare:d}=this,g=this.length>>1,h=i[n];for(;n<g;){let v=1+(n<<1);const w=v+1;if(w<this.length&&d(i[w],i[v])<0&&(v=w),d(i[v],h)>=0)break;i[n]=i[v],n=v}i[n]=h}}var Ei=8192;function Eu(c,n){return n.dist-c.dist}const Iu=100,hu=50;function Gt(c){const n=[1/0,1/0,-1/0,-1/0];if(n.length!==c.length)return!1;for(let i=0;i<n.length;i++)if(n[i]!==c[i])return!1;return!0}function An(c){return c[1]-c[0]+1}function jn(c,n){const i=c[1]>=c[0]&&c[1]<n;return i||console.warn("Distance Expression: Index is out of range"),i}function tr(c,n){if(c[0]>c[1])return[null,null];const i=An(c);if(n){if(i===2)return[c,null];const d=Math.floor(i/2);return[[c[0],c[0]+d],[c[0]+d,c[1]]]}{if(i===1)return[c,null];const d=Math.floor(i/2)-1;return[[c[0],c[0]+d],[c[0]+d+1,c[1]]]}}function Lr(c,n){const i=[1/0,1/0,-1/0,-1/0];if(!jn(n,c.length))return i;for(let d=n[0];d<=n[1];++d)Hs(i,c[d]);return i}function Fi(c){const n=[1/0,1/0,-1/0,-1/0];for(let i=0;i<c.length;++i)for(let d=0;d<c[i].length;++d)Hs(n,c[i][d]);return n}function ao(c,n,i){if(Gt(c)||Gt(n))return NaN;let d=0,g=0;return c[2]<n[0]&&(d=n[0]-c[2]),c[0]>n[2]&&(d=c[0]-n[2]),c[1]>n[3]&&(g=c[1]-n[3]),c[3]<n[1]&&(g=n[1]-c[3]),i.distance([0,0],[d,g])}function Li(c){return 360*c-180}function mo(c){return 360/Math.PI*Math.atan(Math.exp((180-360*c)*Math.PI/180))-90}function Hi(c,n){const i=Math.pow(2,n.z),d=(c.y/Ei+n.y)/i;return[Li((c.x/Ei+n.x)/i),mo(d)]}function ki(c,n){const i=[];for(let d=0;d<c.length;++d)i.push(Hi(c[d],n));return i}function Fo(c,n,i){const d=i.pointOnLine(n,c).point;return i.distance(c,d)}function fo(c,n,i,d,g){const h=i.slice(d[0],d[1]+1);let v=1/0;for(let w=n[0];w<=n[1];++w)if((v=Math.min(v,Fo(c[w],h,g)))===0)return 0;return v}function Xo(c,n,i,d,g){const h=Math.min(g.pointToSegmentDistance(c,i,d),g.pointToSegmentDistance(n,i,d)),v=Math.min(g.pointToSegmentDistance(i,c,n),g.pointToSegmentDistance(d,c,n));return Math.min(h,v)}function Ga(c,n,i,d,g){if(!jn(n,c.length)||!jn(d,i.length))return NaN;let h=1/0;for(let v=n[0];v<n[1];++v)for(let w=d[0];w<d[1];++w){if(da(c[v],c[v+1],i[w],i[w+1]))return 0;h=Math.min(h,Xo(c[v],c[v+1],i[w],i[w+1],g))}return h}function la(c,n,i,d,g){if(!jn(n,c.length)||!jn(d,i.length))return NaN;let h=1/0;for(let v=n[0];v<=n[1];++v)for(let w=d[0];w<=d[1];++w)if((h=Math.min(h,g.distance(c[v],i[w])))===0)return h;return h}function Pa(c,n,i){if(ua(c,n,!0))return 0;let d=1/0;for(const g of n){const h=g.length;if(h<2)return console.warn("Distance Expression: Invalid polygon!"),NaN;if(g[0]!==g[h-1]&&(d=Math.min(d,i.pointToSegmentDistance(c,g[h-1],g[0])))===0||(d=Math.min(d,Fo(c,g,i)))===0)return d}return d}function es(c,n,i,d){if(!jn(n,c.length))return NaN;for(let h=n[0];h<=n[1];++h)if(ua(c[h],i,!0))return 0;let g=1/0;for(let h=n[0];h<n[1];++h)for(const v of i)for(let w=0,M=v.length,D=M-1;w<M;D=w++){if(da(c[h],c[h+1],v[D],v[w]))return 0;g=Math.min(g,Xo(c[h],c[h+1],v[D],v[w],d))}return g}function Ia(c,n){for(const i of c)for(let d=0;d<=i.length-1;++d)if(ua(i[d],n,!0))return!0;return!1}function Ja(c,n,i,d=1/0){const g=Fi(c),h=Fi(n);if(d!==1/0&&ao(g,h,i)>=d)return d;if(Bl(g,h)){if(Ia(c,n))return 0}else if(Ia(n,c))return 0;let v=d;for(const w of c)for(let M=0,D=w.length,x=D-1;M<D;x=M++)for(const P of n)for(let $=0,T=P.length,O=T-1;$<T;O=$++){if(da(w[x],w[M],P[O],P[$]))return 0;v=Math.min(v,Xo(w[x],w[M],P[O],P[$],i))}return v}function ja(c,n,i,d,g,h,v){if(h===null||v===null)return;const w=ao(Lr(d,h),Lr(g,v),i);w<n&&c.push({dist:w,range1:h,range2:v})}function ls(c,n,i,d,g=1/0){let h=Math.min(d.distance(c[0],i[0][0]),g);if(h===0)return h;const v=new ll([{dist:0,range1:[0,c.length-1],range2:[0,0]}],Eu),w=n?hu:Iu,M=Fi(i);for(;v.length;){const D=v.pop();if(D.dist>=h)continue;const x=D.range1;if(An(x)<=w){if(!jn(x,c.length))return NaN;if(n){const P=es(c,x,i,d);if((h=Math.min(h,P))===0)return h}else for(let P=x[0];P<=x[1];++P){const $=Pa(c[P],i,d);if((h=Math.min(h,$))===0)return h}}else{const P=tr(x,n);if(P[0]!==null){const $=ao(Lr(c,P[0]),M,d);$<h&&v.push({dist:$,range1:P[0],range2:[0,0]})}if(P[1]!==null){const $=ao(Lr(c,P[1]),M,d);$<h&&v.push({dist:$,range1:P[1],range2:[0,0]})}}}return h}function ss(c,n,i,d,g,h=1/0){let v=Math.min(h,g.distance(c[0],i[0]));if(v===0)return v;const w=new ll([{dist:0,range1:[0,c.length-1],range2:[0,i.length-1]}],Eu),M=n?hu:Iu,D=d?hu:Iu;for(;w.length;){const x=w.pop();if(x.dist>=v)continue;const P=x.range1,$=x.range2;if(An(P)<=M&&An($)<=D){if(!jn(P,c.length)||!jn($,i.length))return NaN;if(n&&d?v=Math.min(v,Ga(c,P,i,$,g)):n||d?n&&!d?v=Math.min(v,fo(i,$,c,P,g)):!n&&d&&(v=Math.min(v,fo(c,P,i,$,g))):v=Math.min(v,la(c,P,i,$,g)),v===0)return v}else{const T=tr(P,n),O=tr($,d);ja(w,v,g,c,i,T[0],O[0]),ja(w,v,g,c,i,T[0],O[1]),ja(w,v,g,c,i,T[1],O[0]),ja(w,v,g,c,i,T[1],O[1])}}return v}function Xa(c,n,i,d,g=1/0){let h=g;const v=Lr(c,[0,c.length-1]);for(const w of i)if(!(h!==1/0&&ao(v,Lr(w,[0,w.length-1]),d)>=h)&&(h=Math.min(h,ss(c,n,w,!0,d,h)),h===0))return h;return h}function Ds(c,n,i,d,g=1/0){let h=g;const v=Lr(c,[0,c.length-1]);for(const w of i){if(h!==1/0&&ao(v,Fi(w),d)>=h)continue;const M=ls(c,n,w,d,h);if(isNaN(M))return M;if((h=Math.min(h,M))===0)return h}return h}function ql(c){return c==="Point"||c==="MultiPoint"||c==="LineString"||c==="MultiLineString"||c==="Polygon"||c==="MultiPolygon"}class ul{constructor(n,i){this.type=Jr,this.geojson=n,this.geometries=i}static parse(n,i){if(n.length!==2)return i.error(`'distance' expression requires either one argument, but found ' ${n.length-1} instead.`);if(Ci(n[1])){const d=n[1];if(d.type==="FeatureCollection"){for(let g=0;g<d.features.length;++g)if(ql(d.features[g].geometry.type))return new ul(d,d.features[g].geometry)}else if(d.type==="Feature"){if(ql(d.geometry.type))return new ul(d,d.geometry)}else if(ql(d.type))return new ul(d,d)}return i.error("'distance' expression needs to be an array with format ['Distance', GeoJSONObj].")}evaluate(n){const i=n.geometry(),d=n.canonicalID();if(i!=null&&d!=null){if(n.geometryType()==="Point")return function(g,h,v){const w=[];for(const D of g)for(const x of D)w.push(Hi(x,h));const M=new vc(w[0][1],"meters");return v.type==="Point"||v.type==="MultiPoint"||v.type==="LineString"?ss(w,!1,v.type==="Point"?[v.coordinates]:v.coordinates,v.type==="LineString",M):v.type==="MultiLineString"?Xa(w,!1,v.coordinates,M):v.type==="Polygon"||v.type==="MultiPolygon"?Ds(w,!1,v.type==="Polygon"?[v.coordinates]:v.coordinates,M):null}(i,d,this.geometries);if(n.geometryType()==="LineString")return function(g,h,v){const w=[];for(const D of g){const x=[];for(const P of D)x.push(Hi(P,h));w.push(x)}const M=new vc(w[0][0][1],"meters");if(v.type==="Point"||v.type==="MultiPoint"||v.type==="LineString")return Xa(v.type==="Point"?[v.coordinates]:v.coordinates,v.type==="LineString",w,M);if(v.type==="MultiLineString"){let D=1/0;for(let x=0;x<v.coordinates.length;x++){const P=Xa(v.coordinates[x],!0,w,M,D);if(isNaN(P))return P;if((D=Math.min(D,P))===0)return D}return D}if(v.type==="Polygon"||v.type==="MultiPolygon"){let D=1/0;for(let x=0;x<w.length;x++){const P=Ds(w[x],!0,v.type==="Polygon"?[v.coordinates]:v.coordinates,M,D);if(isNaN(P))return P;if((D=Math.min(D,P))===0)return D}return D}return null}(i,d,this.geometries);if(n.geometryType()==="Polygon")return function(g,h,v){const w=[];for(const D of function(x,P){const $=x.length;if($<=1)return[x];const T=[];let O,N;for(let G=0;G<$;G++){const q=Nl(x[G]);q!==0&&(x[G].area=Math.abs(q),N===void 0&&(N=q<0),N===q<0?(O&&T.push(O),O=[x[G]]):O.push(x[G]))}return O&&T.push(O),T}(g)){const x=[];for(let P=0;P<D.length;++P)x.push(ki(D[P],h));w.push(x)}const M=new vc(w[0][0][0][1],"meters");if(v.type==="Point"||v.type==="MultiPoint"||v.type==="LineString")return Ds(v.type==="Point"?[v.coordinates]:v.coordinates,v.type==="LineString",w,M);if(v.type==="MultiLineString"){let D=1/0;for(let x=0;x<v.coordinates.length;x++){const P=Ds(v.coordinates[x],!0,w,M,D);if(isNaN(P))return P;if((D=Math.min(D,P))===0)return D}return D}return v.type==="Polygon"||v.type==="MultiPolygon"?function(D,x,P){let $=1/0;for(const T of D)for(const O of x){const N=Ja(T,O,P,$);if(isNaN(N))return N;if(($=Math.min($,N))===0)return $}return $}(v.type==="Polygon"?[v.coordinates]:v.coordinates,w,M):null}(i,d,this.geometries);console.warn("Distance Expression: currently only evaluates valid Point/LineString/Polygon geometries.")}else console.warn("Distance Expression: requirs valid feature and canonical information.");return null}eachChild(){}outputDefined(){return!0}serialize(){return["distance",this.geojson]}}function mu(c,n){switch(c){case"string":return wi(n);case"number":return+n;case"boolean":return!!n;case"color":return to.parse(n);case"formatted":return ir.fromString(wi(n));case"resolvedImage":return Vr.build(wi(n))}return n}function Zu(c,n,i,d){return d!==void 0&&(c=d*Math.round(c/d)),n!==void 0&&c<n&&(c=n),i!==void 0&&c>i&&(c=i),c}class Vl{constructor(n,i,d){this.type=n,this.key=i,this.scope=d}static parse(n,i){let d=i.expectedType;if(d==null&&(d=Ai),n.length<2||n.length>3)return i.error("Invalid number of arguments for 'config' expression.");const g=i.parse(n[1],1);if(!(g instanceof ti))return i.error("Key name of 'config' expression must be a string literal.");if(n.length>=3){const h=i.parse(n[2],2);return h instanceof ti?new Vl(d,wi(g.value),wi(h.value)):i.error("Scope of 'config' expression must be a string literal.")}return new Vl(d,wi(g.value))}evaluate(n){const i=[this.key,this.scope,n.scope].filter(Boolean).join(""),d=n.getConfig(i);if(!d)return null;const{type:g,value:h,values:v,minValue:w,maxValue:M,stepValue:D}=d,x=d.default.evaluate(n);let P=x;if(h){const $=n.scope;n.scope=($||"").split("").slice(1).join(""),P=h.evaluate(n),n.scope=$}return g&&(P=mu(g,P)),P===void 0||w===void 0&&M===void 0&&D===void 0||(typeof P=="number"?P=Zu(P,w,M,D):Array.isArray(P)&&(P=P.map($=>typeof $=="number"?Zu($,w,M,D):$))),h!==void 0&&P!==void 0&&v&&!v.includes(P)&&(P=x,g&&(P=mu(g,P))),(g&&g!==this.type||P!==void 0&&pi(P)!==this.type)&&(P=mu(this.type.kind,P)),P}eachChild(){}outputDefined(){return!1}serialize(){const n=["config",this.key];return this.scope&&n.concat(this.key),n}}function $l(c){if(c instanceof ca&&(c.name==="get"&&c.args.length===1||c.name==="feature-state"||c.name==="has"&&c.args.length===1||c.name==="properties"||c.name==="geometry-type"||c.name==="id"||/^filter-/.test(c.name))||c instanceof Zo||c instanceof ul)return!1;let n=!0;return c.eachChild(i=>{n&&!$l(i)&&(n=!1)}),n}function kl(c){if(c instanceof ca&&c.name==="feature-state")return!1;let n=!0;return c.eachChild(i=>{n&&!kl(i)&&(n=!1)}),n}function yc(c){if(c instanceof Vl)return new Set([c.key]);let n=new Set;return c.eachChild(i=>{n=new Set([...n,...yc(i)])}),n}function bc(c,n){if(c instanceof ca&&n.indexOf(c.name)>=0)return!1;let i=!0;return c.eachChild(d=>{i&&!bc(d,n)&&(i=!1)}),i}class uc{constructor(n,i){this.type=i.type,this.name=n,this.boundExpression=i}static parse(n,i){if(n.length!==2||typeof n[1]!="string")return i.error("'var' expression requires exactly one string literal argument.");const d=n[1];return i.scope.has(d)?new uc(d,i.scope.get(d)):i.error(`Unknown variable "${d}". Make sure "${d}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(n){return this.boundExpression.evaluate(n)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}class Yl{constructor(n,i=[],d,g=new ma,h=[],v,w){this.registry=n,this.path=i,this.key=i.map(M=>typeof M=="string"?`['${M}']`:`[${M}]`).join(""),this.scope=g,this.errors=h,this.expectedType=d,this._scope=v,this.options=w}parse(n,i,d,g,h={}){return i||d?this.concat(i,null,d,g)._parse(n,h):this._parse(n,h)}parseObjectValue(n,i,d,g,h,v={}){return this.concat(i,d,g,h)._parse(n,v)}_parse(n,i){function d(g,h,v){return v==="assert"?new yo(h,[g]):v==="coerce"?new wa(h,[g]):g}if(n!==null&&typeof n!="string"&&typeof n!="boolean"&&typeof n!="number"||(n=["literal",n]),Array.isArray(n)){if(n.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const g=typeof n[0]=="string"?this.registry[n[0]]:void 0;if(g){let h=g.parse(n,this);if(!h)return null;if(this.expectedType){const v=this.expectedType,w=h.type;if(v.kind!=="string"&&v.kind!=="number"&&v.kind!=="boolean"&&v.kind!=="object"&&v.kind!=="array"||w.kind!=="value")if(v.kind!=="color"&&v.kind!=="formatted"&&v.kind!=="resolvedImage"||w.kind!=="value"&&w.kind!=="string"){if(this.checkSubtype(v,w))return null}else h=d(h,v,i.typeAnnotation||"coerce");else h=d(h,v,i.typeAnnotation||"assert")}if(!(h instanceof ti)&&h.type.kind!=="resolvedImage"&&Vc(h)){const v=new Za(this._scope,this.options);try{h=new ti(h.type,h.evaluate(v))}catch(w){return this.error(w.message),null}}return h}return wa.parse(["to-array",n],this)}return this.error(n===void 0?"'undefined' value invalid. Use null instead.":typeof n=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof n} instead.`)}concat(n,i,d,g){let h=typeof n=="number"?this.path.concat(n):this.path;h=typeof i=="string"?h.concat(i):h;const v=g?this.scope.concat(g):this.scope;return new Yl(this.registry,h,d||null,v,this.errors,this._scope,this.options)}error(n,...i){const d=`${this.key}${i.map(g=>`[${g}]`).join("")}`;this.errors.push(new Vi(d,n))}checkSubtype(n,i){const d=De(n,i);return d&&this.error(d),d}}var jl=Yl;function Vc(c){if(c instanceof uc)return Vc(c.boundExpression);if(c instanceof ca&&c.name==="error"||c instanceof Va||c instanceof Zo||c instanceof ul||c instanceof Vl)return!1;const n=c instanceof wa||c instanceof yo;let i=!0;return c.eachChild(d=>{i=n?i&&Vc(d):i&&d instanceof ti}),!!i&&$l(c)&&bc(c,["zoom","heatmap-density","line-progress","raster-value","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center","measure-light","raster-particle-speed"])}function ks(c,n){const i=c.length-1;let d,g,h=0,v=i,w=0;for(;h<=v;)if(w=Math.floor((h+v)/2),d=c[w],g=c[w+1],d<=n){if(w===i||n<g)return w;h=w+1}else{if(!(d>n))throw new Ri("Input is not a number.");v=w-1}return 0}class dc{constructor(n,i,d){this.type=n,this.input=i,this.labels=[],this.outputs=[];for(const[g,h]of d)this.labels.push(g),this.outputs.push(h)}static parse(n,i){if(n.length-1<4)return i.error(`Expected at least 4 arguments, but found only ${n.length-1}.`);if((n.length-1)%2!=0)return i.error("Expected an even number of arguments.");const d=i.parse(n[1],1,Jr);if(!d)return null;const g=[];let h=null;i.expectedType&&i.expectedType.kind!=="value"&&(h=i.expectedType);for(let v=1;v<n.length;v+=2){const w=v===1?-1/0:n[v],M=n[v+1],D=v,x=v+1;if(typeof w!="number")return i.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',D);if(g.length&&g[g.length-1][0]>=w)return i.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',D);const P=i.parse(M,x,h);if(!P)return null;h=h||P.type,g.push([w,P])}return new dc(h,d,g)}evaluate(n){const i=this.labels,d=this.outputs;if(i.length===1)return d[0].evaluate(n);const g=this.input.evaluate(n);if(g<=i[0])return d[0].evaluate(n);const h=i.length;return g>=i[h-1]?d[h-1].evaluate(n):d[ks(i,g)].evaluate(n)}eachChild(n){n(this.input);for(const i of this.outputs)n(i)}outputDefined(){return this.outputs.every(n=>n.outputDefined())}serialize(){const n=["step",this.input.serialize()];for(let i=0;i<this.labels.length;i++)i>0&&n.push(this.labels[i]),n.push(this.outputs[i].serialize());return n}}const Jl=.95047,Qa=1.08883,ad=4/29,Vu=6/29,dp=3*Vu*Vu,Yf=Vu*Vu*Vu,Rg=Math.PI/180,Vs=180/Math.PI;function pu(c){return c>Yf?Math.pow(c,1/3):c/dp+ad}function tf(c){return c>Vu?c*c*c:dp*(c-ad)}function sd(c){return 255*(c<=.0031308?12.92*c:1.055*Math.pow(c,1/2.4)-.055)}function Od(c){return(c/=255)<=.04045?c/12.92:Math.pow((c+.055)/1.055,2.4)}function Rd(c){const n=Od(c.r),i=Od(c.g),d=Od(c.b),g=pu((.4124564*n+.3575761*i+.1804375*d)/Jl),h=pu((.2126729*n+.7151522*i+.072175*d)/1);return{l:116*h-16,a:500*(g-h),b:200*(h-pu((.0193339*n+.119192*i+.9503041*d)/Qa)),alpha:c.a}}function Jf(c){let n=(c.l+16)/116,i=isNaN(c.a)?n:n+c.a/500,d=isNaN(c.b)?n:n-c.b/200;return n=1*tf(n),i=Jl*tf(i),d=Qa*tf(d),new to(sd(3.2404542*i-1.5371385*n-.4985314*d),sd(-.969266*i+1.8760108*n+.041556*d),sd(.0556434*i-.2040259*n+1.0572252*d),c.alpha)}function Qf(c,n,i){const d=n-c;return c+i*(d>180||d<-180?d-360*Math.round(d/360):d)}const ld={forward:Rd,reverse:Jf,interpolate:function(c,n,i){return{l:Pr(c.l,n.l,i),a:Pr(c.a,n.a,i),b:Pr(c.b,n.b,i),alpha:Pr(c.alpha,n.alpha,i)}}},$d={forward:function(c){const{l:n,a:i,b:d}=Rd(c),g=Math.atan2(d,i)*Vs;return{h:g<0?g+360:g,c:Math.sqrt(i*i+d*d),l:n,alpha:c.a}},reverse:function(c){const n=c.h*Rg,i=c.c;return Jf({l:c.l,a:Math.cos(n)*i,b:Math.sin(n)*i,alpha:c.alpha})},interpolate:function(c,n,i){return{h:Qf(c.h,n.h,i),c:Pr(c.c,n.c,i),l:Pr(c.l,n.l,i),alpha:Pr(c.alpha,n.alpha,i)}}};var eh=Object.freeze({__proto__:null,hcl:$d,lab:ld});class _c{constructor(n,i,d,g,h,v){this.type=n,this.operator=i,this.interpolation=d,this.input=g,this.dynamicStops=h,this.labels=[],this.outputs=[];for(const[w,M]of v)this.labels.push(w),this.outputs.push(M)}static interpolationFactor(n,i,d,g){let h=0;if(n.name==="exponential")h=Ad(i,n.base,d,g);else if(n.name==="linear")h=Ad(i,1,d,g);else if(n.name==="cubic-bezier"){const v=n.controlPoints;h=new Kr(v[0],v[1],v[2],v[3]).solve(Ad(i,1,d,g))}return h}static parse(n,i){let[d,g,h,...v]=n;if(!Array.isArray(g)||g.length===0)return i.error("Expected an interpolation type expression.",1);if(g[0]==="linear")g={name:"linear"};else if(g[0]==="exponential"){const D=g[1];if(typeof D!="number")return i.error("Exponential interpolation requires a numeric base.",1,1);g={name:"exponential",base:D}}else{if(g[0]!=="cubic-bezier")return i.error(`Unknown interpolation type ${String(g[0])}`,1,0);{const D=g.slice(1);if(D.length!==4||D.some(x=>typeof x!="number"||x<0||x>1))return i.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);g={name:"cubic-bezier",controlPoints:D}}}if(n.length-1<3)return i.error(`Expected at least 3 arguments, but found only ${n.length-1}.`);if(n.length-1>3&&(n.length-1)%2!=0)return i.error("Expected an even number of arguments.");if(h=i.parse(h,2,Jr),!h)return null;const w=[];let M=null;if(d==="interpolate-hcl"||d==="interpolate-lab"?M=Yo:i.expectedType&&i.expectedType.kind!=="value"&&(M=i.expectedType),n.length-1==3){const D=i.parse(v[0],3,Ai);return D?new _c(M,d,g,h,D,w):null}for(let D=0;D<v.length;D+=2){const x=v[D],P=v[D+1],$=D+3,T=D+4;if(typeof x!="number")return i.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',$);if(w.length&&w[w.length-1][0]>=x)return i.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',$);const O=i.parse(P,T,M);if(!O)return null;M=M||O.type,w.push([x,O])}return M.kind==="number"||M.kind==="color"||M.kind==="array"&&M.itemType.kind==="number"&&typeof M.N=="number"?new _c(M,d,g,h,null,w):i.error(`Type ${be(M)} is not interpolatable.`)}evaluate(n){let i=this.labels,d=this.outputs;if(this.dynamicStops){const x=this.dynamicStops.evaluate(n);if(x.length%2!=0)throw new Ri("Expected an even number of arguments.");i=[],d=[];for(let P=0;P<x.length;P+=2){const $=x[P],T=new ti(Jr,x[P+1]);if(typeof $!="number")throw new Ri('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.');if(i.length&&i[i.length-1]>=$)throw new Ri('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.');i.push($),d.push(T)}if(i.length===0)throw new Ri("Expected at least one input/output pair.")}if(i.length===1)return d[0].evaluate(n);const g=this.input.evaluate(n);if(g<=i[0])return d[0].evaluate(n);const h=i.length;if(g>=i[h-1])return d[h-1].evaluate(n);const v=ks(i,g),w=_c.interpolationFactor(this.interpolation,g,i[v],i[v+1]),M=d[v].evaluate(n),D=d[v+1].evaluate(n);return this.operator==="interpolate"?ha[this.type.kind.toLowerCase()](M,D,w):this.operator==="interpolate-hcl"?$d.reverse($d.interpolate($d.forward(M),$d.forward(D),w)):ld.reverse(ld.interpolate(ld.forward(M),ld.forward(D),w))}eachChild(n){n(this.input);for(const i of this.outputs)n(i)}outputDefined(){return this.outputs.every(n=>n.outputDefined())}serialize(){let n;n=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const i=[this.operator,n,this.input.serialize()];if(this.dynamicStops)i.push(this.dynamicStops.serialize());else for(let d=0;d<this.labels.length;d++)i.push(this.labels[d],this.outputs[d].serialize());return i}}function Ad(c,n,i,d){const g=d-i,h=c-i;return g===0?0:n===1?h/g:(Math.pow(n,h)-1)/(Math.pow(n,g)-1)}class cd{constructor(n,i){this.type=n,this.args=i}static parse(n,i){if(n.length<2)return i.error("Expectected at least one argument.");let d=null;const g=i.expectedType;g&&g.kind!=="value"&&(d=g);const h=[];for(const w of n.slice(1)){const M=i.parse(w,1+h.length,d,void 0,{typeAnnotation:"omit"});if(!M)return null;d=d||M.type,h.push(M)}const v=g&&h.some(w=>De(g,w.type));return new cd(v?Ai:d,h)}evaluate(n){let i,d=null,g=0;for(const h of this.args){if(g++,d=h.evaluate(n),d&&d instanceof Vr&&!d.available&&(i||(i=d),d=null,g===this.args.length))return i;if(d!==null)break}return d}eachChild(n){this.args.forEach(n)}outputDefined(){return this.args.every(n=>n.outputDefined())}serialize(){const n=["coalesce"];return this.eachChild(i=>{n.push(i.serialize())}),n}}class nf{constructor(n,i){this.type=i.type,this.bindings=[].concat(n),this.result=i}evaluate(n){return this.result.evaluate(n)}eachChild(n){for(const i of this.bindings)n(i[1]);n(this.result)}static parse(n,i){if(n.length<4)return i.error(`Expected at least 3 arguments, but found ${n.length-1} instead.`);const d=[];for(let h=1;h<n.length-1;h+=2){const v=n[h];if(typeof v!="string")return i.error(`Expected string, but found ${typeof v} instead.`,h);if(/[^a-zA-Z0-9_]/.test(v))return i.error("Variable names must contain only alphanumeric characters or '_'.",h);const w=i.parse(n[h+1],h+1);if(!w)return null;d.push([v,w])}const g=i.parse(n[n.length-1],n.length-1,i.expectedType,d);return g?new nf(d,g):null}outputDefined(){return this.result.outputDefined()}serialize(){const n=["let"];for(const[i,d]of this.bindings)n.push(i,d.serialize());return n.push(this.result.serialize()),n}}class th{constructor(n,i,d){this.type=n,this.index=i,this.input=d}static parse(n,i){if(n.length!==3)return i.error(`Expected 2 arguments, but found ${n.length-1} instead.`);const d=i.parse(n[1],1,Jr),g=i.parse(n[2],2,Ve(i.expectedType||Ai));return d&&g?new th(g.type.itemType,d,g):null}evaluate(n){const i=this.index.evaluate(n),d=this.input.evaluate(n);if(i<0)throw new Ri(`Array index out of bounds: ${i} < 0.`);if(i>d.length-1)throw new Ri(`Array index out of bounds: ${i} > ${d.length-1}.`);if(i===Math.floor(i))return d[i];const g=Math.floor(i),h=Math.ceil(i),v=d[g],w=d[h];if(typeof v!="number"||typeof w!="number")throw new Ri(`Cannot interpolate between non-number values at index ${i}.`);const M=i-g;return v*(1-M)+w*M}eachChild(n){n(this.index),n(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}class nh{constructor(n,i){this.type=Ao,this.needle=n,this.haystack=i}static parse(n,i){if(n.length!==3)return i.error(`Expected 2 arguments, but found ${n.length-1} instead.`);const d=i.parse(n[1],1,Ai),g=i.parse(n[2],2,Ai);return d&&g?$t(d.type,[Ao,vo,Jr,qa,Ai])?new nh(d,g):i.error(`Expected first argument to be of type boolean, string, number or null, but found ${be(d.type)} instead`):null}evaluate(n){const i=this.needle.evaluate(n),d=this.haystack.evaluate(n);if(d==null)return!1;if(!tn(i,["boolean","string","number","null"]))throw new Ri(`Expected first argument to be of type boolean, string, number or null, but found ${be(pi(i))} instead.`);if(!tn(d,["string","array"]))throw new Ri(`Expected second argument to be of type array or string, but found ${be(pi(d))} instead.`);return d.indexOf(i)>=0}eachChild(n){n(this.needle),n(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}class Pc{constructor(n,i,d){this.type=Jr,this.needle=n,this.haystack=i,this.fromIndex=d}static parse(n,i){if(n.length<=2||n.length>=5)return i.error(`Expected 3 or 4 arguments, but found ${n.length-1} instead.`);const d=i.parse(n[1],1,Ai),g=i.parse(n[2],2,Ai);if(!d||!g)return null;if(!$t(d.type,[Ao,vo,Jr,qa,Ai]))return i.error(`Expected first argument to be of type boolean, string, number or null, but found ${be(d.type)} instead`);if(n.length===4){const h=i.parse(n[3],3,Jr);return h?new Pc(d,g,h):null}return new Pc(d,g)}evaluate(n){const i=this.needle.evaluate(n),d=this.haystack.evaluate(n);if(!tn(i,["boolean","string","number","null"]))throw new Ri(`Expected first argument to be of type boolean, string, number or null, but found ${be(pi(i))} instead.`);if(!tn(d,["string","array"]))throw new Ri(`Expected second argument to be of type array or string, but found ${be(pi(d))} instead.`);if(this.fromIndex){const g=this.fromIndex.evaluate(n);return d.indexOf(i,g)}return d.indexOf(i)}eachChild(n){n(this.needle),n(this.haystack),this.fromIndex&&n(this.fromIndex)}outputDefined(){return!1}serialize(){if(this.fromIndex!=null&&this.fromIndex!==void 0){const n=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),n]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}class rh{constructor(n,i,d,g,h,v){this.inputType=n,this.type=i,this.input=d,this.cases=g,this.outputs=h,this.otherwise=v}static parse(n,i){if(n.length<5)return i.error(`Expected at least 4 arguments, but found only ${n.length-1}.`);if(n.length%2!=1)return i.error("Expected an even number of arguments.");let d,g;i.expectedType&&i.expectedType.kind!=="value"&&(g=i.expectedType);const h={},v=[];for(let D=2;D<n.length-1;D+=2){let x=n[D];const P=n[D+1];Array.isArray(x)||(x=[x]);const $=i.concat(D);if(x.length===0)return $.error("Expected at least one branch label.");for(const O of x){if(typeof O!="number"&&typeof O!="string")return $.error("Branch labels must be numbers or strings.");if(typeof O=="number"&&Math.abs(O)>Number.MAX_SAFE_INTEGER)return $.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof O=="number"&&Math.floor(O)!==O)return $.error("Numeric branch labels must be integer values.");if(d){if($.checkSubtype(d,pi(O)))return null}else d=pi(O);if(h[String(O)]!==void 0)return $.error("Branch labels must be unique.");h[String(O)]=v.length}const T=i.parse(P,D,g);if(!T)return null;g=g||T.type,v.push(T)}const w=i.parse(n[1],1,Ai);if(!w)return null;const M=i.parse(n[n.length-1],n.length-1,g);return M?w.type.kind!=="value"&&i.concat(1).checkSubtype(d,w.type)?null:new rh(d,g,w,h,v,M):null}evaluate(n){const i=this.input.evaluate(n);return(pi(i)===this.inputType&&this.outputs[this.cases[i]]||this.otherwise).evaluate(n)}eachChild(n){n(this.input),this.outputs.forEach(n),n(this.otherwise)}outputDefined(){return this.outputs.every(n=>n.outputDefined())&&this.otherwise.outputDefined()}serialize(){const n=["match",this.input.serialize()],i=Object.keys(this.cases).sort(),d=[],g={};for(const v of i){const w=g[this.cases[v]];w===void 0?(g[this.cases[v]]=d.length,d.push([this.cases[v],[v]])):d[w][1].push(v)}const h=v=>this.inputType.kind==="number"?Number(v):v;for(const[v,w]of d)n.push(w.length===1?h(w[0]):w.map(h)),n.push(this.outputs[v].serialize());return n.push(this.otherwise.serialize()),n}}class gu{constructor(n,i,d){this.type=n,this.branches=i,this.otherwise=d}static parse(n,i){if(n.length<4)return i.error(`Expected at least 3 arguments, but found only ${n.length-1}.`);if(n.length%2!=0)return i.error("Expected an odd number of arguments.");let d;i.expectedType&&i.expectedType.kind!=="value"&&(d=i.expectedType);const g=[];for(let v=1;v<n.length-1;v+=2){const w=i.parse(n[v],v,Ao);if(!w)return null;const M=i.parse(n[v+1],v+1,d);if(!M)return null;g.push([w,M]),d=d||M.type}const h=i.parse(n[n.length-1],n.length-1,d);return h?new gu(d,g,h):null}evaluate(n){for(const[i,d]of this.branches)if(i.evaluate(n))return d.evaluate(n);return this.otherwise.evaluate(n)}eachChild(n){for(const[i,d]of this.branches)n(i),n(d);n(this.otherwise)}outputDefined(){return this.branches.every(([n,i])=>i.outputDefined())&&this.otherwise.outputDefined()}serialize(){const n=["case"];return this.eachChild(i=>{n.push(i.serialize())}),n}}class ud{constructor(n,i,d,g){this.type=n,this.input=i,this.beginIndex=d,this.endIndex=g}static parse(n,i){if(n.length<=2||n.length>=5)return i.error(`Expected 3 or 4 arguments, but found ${n.length-1} instead.`);const d=i.parse(n[1],1,Ai),g=i.parse(n[2],2,Jr);if(!d||!g)return null;if(!$t(d.type,[Ve(Ai),vo,Ai]))return i.error(`Expected first argument to be of type array or string, but found ${be(d.type)} instead`);if(n.length===4){const h=i.parse(n[3],3,Jr);return h?new ud(d.type,d,g,h):null}return new ud(d.type,d,g)}evaluate(n){const i=this.input.evaluate(n),d=this.beginIndex.evaluate(n);if(!tn(i,["string","array"]))throw new Ri(`Expected first argument to be of type array or string, but found ${be(pi(i))} instead.`);if(this.endIndex){const g=this.endIndex.evaluate(n);return i.slice(d,g)}return i.slice(d)}eachChild(n){n(this.input),n(this.beginIndex),this.endIndex&&n(this.endIndex)}outputDefined(){return!1}serialize(){if(this.endIndex!=null&&this.endIndex!==void 0){const n=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),n]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}function om(c,n){return c==="=="||c==="!="?n.kind==="boolean"||n.kind==="string"||n.kind==="number"||n.kind==="null"||n.kind==="value":n.kind==="string"||n.kind==="number"||n.kind==="value"}function rf(c,n,i,d){return d.compare(n,i)===0}function Hc(c,n,i){const d=c!=="=="&&c!=="!=";return class SM{constructor(h,v,w){this.type=Ao,this.lhs=h,this.rhs=v,this.collator=w,this.hasUntypedArgument=h.type.kind==="value"||v.type.kind==="value"}static parse(h,v){if(h.length!==3&&h.length!==4)return v.error("Expected two or three arguments.");const w=h[0];let M=v.parse(h[1],1,Ai);if(!M)return null;if(!om(w,M.type))return v.concat(1).error(`"${w}" comparisons are not supported for type '${be(M.type)}'.`);let D=v.parse(h[2],2,Ai);if(!D)return null;if(!om(w,D.type))return v.concat(2).error(`"${w}" comparisons are not supported for type '${be(D.type)}'.`);if(M.type.kind!==D.type.kind&&M.type.kind!=="value"&&D.type.kind!=="value")return v.error(`Cannot compare types '${be(M.type)}' and '${be(D.type)}'.`);d&&(M.type.kind==="value"&&D.type.kind!=="value"?M=new yo(D.type,[M]):M.type.kind!=="value"&&D.type.kind==="value"&&(D=new yo(M.type,[D])));let x=null;if(h.length===4){if(M.type.kind!=="string"&&D.type.kind!=="string"&&M.type.kind!=="value"&&D.type.kind!=="value")return v.error("Cannot use collator to compare non-string types.");if(x=v.parse(h[3],3,ga),!x)return null}return new SM(M,D,x)}evaluate(h){const v=this.lhs.evaluate(h),w=this.rhs.evaluate(h);if(d&&this.hasUntypedArgument){const M=pi(v),D=pi(w);if(M.kind!==D.kind||M.kind!=="string"&&M.kind!=="number")throw new Ri(`Expected arguments for "${c}" to be (string, string) or (number, number), but found (${M.kind}, ${D.kind}) instead.`)}if(this.collator&&!d&&this.hasUntypedArgument){const M=pi(v),D=pi(w);if(M.kind!=="string"||D.kind!=="string")return n(h,v,w)}return this.collator?i(h,v,w,this.collator.evaluate(h)):n(h,v,w)}eachChild(h){h(this.lhs),h(this.rhs),this.collator&&h(this.collator)}outputDefined(){return!0}serialize(){const h=[c];return this.eachChild(v=>{h.push(v.serialize())}),h}}}const vu=Hc("==",function(c,n,i){return n===i},rf),am=Hc("!=",function(c,n,i){return n!==i},function(c,n,i,d){return!rf(0,n,i,d)}),ih=Hc("<",function(c,n,i){return n<i},function(c,n,i,d){return d.compare(n,i)<0}),fp=Hc(">",function(c,n,i){return n>i},function(c,n,i,d){return d.compare(n,i)>0}),of=Hc("<=",function(c,n,i){return n<=i},function(c,n,i,d){return d.compare(n,i)<=0}),dd=Hc(">=",function(c,n,i){return n>=i},function(c,n,i,d){return d.compare(n,i)>=0});class oh{constructor(n,i,d,g,h,v){this.type=vo,this.number=n,this.locale=i,this.currency=d,this.unit=g,this.minFractionDigits=h,this.maxFractionDigits=v}static parse(n,i){if(n.length!==3)return i.error("Expected two arguments.");const d=i.parse(n[1],1,Jr);if(!d)return null;const g=n[2];if(typeof g!="object"||Array.isArray(g))return i.error("NumberFormat options argument must be an object.");let h=null;if(g.locale&&(h=i.parseObjectValue(g.locale,2,"locale",vo),!h))return null;let v=null;if(g.currency&&(v=i.parseObjectValue(g.currency,2,"currency",vo),!v))return null;let w=null;if(g.unit&&(w=i.parseObjectValue(g.unit,2,"unit",vo),!w))return null;let M=null;if(g["min-fraction-digits"]&&(M=i.parseObjectValue(g["min-fraction-digits"],2,"min-fraction-digits",Jr),!M))return null;let D=null;return g["max-fraction-digits"]&&(D=i.parseObjectValue(g["max-fraction-digits"],2,"max-fraction-digits",Jr),!D)?null:new oh(d,h,v,w,M,D)}evaluate(n){return new Intl.NumberFormat(this.locale?this.locale.evaluate(n):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(n):void 0,unit:this.unit?this.unit.evaluate(n):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(n):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(n):void 0}).format(this.number.evaluate(n))}eachChild(n){n(this.number),this.locale&&n(this.locale),this.currency&&n(this.currency),this.unit&&n(this.unit),this.minFractionDigits&&n(this.minFractionDigits),this.maxFractionDigits&&n(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const n={};return this.locale&&(n.locale=this.locale.serialize()),this.currency&&(n.currency=this.currency.serialize()),this.unit&&(n.unit=this.unit.serialize()),this.minFractionDigits&&(n["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(n["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),n]}}class fd{constructor(n){this.type=Jr,this.input=n}static parse(n,i){if(n.length!==2)return i.error(`Expected 1 argument, but found ${n.length-1} instead.`);const d=i.parse(n[1],1);return d?d.type.kind!=="array"&&d.type.kind!=="string"&&d.type.kind!=="value"?i.error(`Expected argument of type string or array, but found ${be(d.type)} instead.`):new fd(d):null}evaluate(n){const i=this.input.evaluate(n);if(typeof i=="string"||Array.isArray(i))return i.length;throw new Ri(`Expected value to be of type string or array, but found ${be(pi(i))} instead.`)}eachChild(n){n(this.input)}outputDefined(){return!1}serialize(){const n=["length"];return this.eachChild(i=>{n.push(i.serialize())}),n}}function ah(c){return function(){c=1831565813+(c|=0)|0;let n=Math.imul(c^c>>>15,1|c);return n=n+Math.imul(n^n>>>7,61|n)^n,((n^n>>>14)>>>0)/4294967296}}const ln={"==":vu,"!=":am,">":fp,"<":ih,">=":dd,"<=":of,array:yo,at:th,boolean:yo,case:gu,coalesce:cd,collator:Va,format:Qo,image:aa,in:nh,"index-of":Pc,interpolate:_c,"interpolate-hcl":_c,"interpolate-lab":_c,length:fd,let:nf,literal:ti,match:rh,number:yo,"number-format":oh,object:yo,slice:ud,step:dc,string:yo,"to-boolean":wa,"to-color":wa,"to-number":wa,"to-string":wa,var:uc,within:Zo,distance:ul,config:Vl};function Tr(c,[n,i,d,g]){n=n.evaluate(c),i=i.evaluate(c),d=d.evaluate(c);const h=g?g.evaluate(c):1,v=Si(n,i,d,h);if(v)throw new Ri(v);return new to(n/255*h,i/255*h,d/255*h,h)}function Ui(c,[n,i,d,g]){n=n.evaluate(c),i=i.evaluate(c),d=d.evaluate(c);const h=g?g.evaluate(c):1,v=function(D,x,P,$){return typeof D=="number"&&D>=0&&D<=360?typeof x=="number"&&x>=0&&x<=100&&typeof P=="number"&&P>=0&&P<=100?$===void 0||typeof $=="number"&&$>=0&&$<=1?null:`Invalid hsla value [${[D,x,P,$].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid hsla value [${(typeof $=="number"?[D,x,P,$]:[D,x,P]).join(", ")}]: 's', and 'l' must be between 0 and 100.`:`Invalid hsla value [${(typeof $=="number"?[D,x,P,$]:[D,x,P]).join(", ")}]: 'h' must be between 0 and 360.`}(n,i,d,h);if(v)throw new Ri(v);const w=`hsla(${n}, ${i}%, ${d}%, ${h})`,M=to.parse(w);if(!M)throw new Ri(`Failed to parse HSLA color: ${w}`);return M}function na(c,n){return c in n}function rl(c,n){const i=n[c];return i===void 0?null:i}function is(c){return{type:c}}function pl(c){return{result:"success",value:c}}function Xs(c){return{result:"error",value:c}}function Al(c,n){return!!c&&!!c.parameters&&c.parameters.indexOf(n)>-1}function il(c){return c["property-type"]==="data-driven"}function Oc(c){return Al(c.expression,"measure-light")}function ic(c){return Al(c.expression,"zoom")}function Dl(c){return!!c.expression&&c.expression.interpolated}function Uc(c){return typeof c=="object"&&c!==null&&!Array.isArray(c)}function zc(c){return c}function Ql(c,n){const i=n.type==="color",d=c.stops&&typeof c.stops[0][0]=="object",g=d||!(d||c.property!==void 0),h=c.type||(Dl(n)?"exponential":"interval");if(i&&((c=za({},c)).stops&&(c.stops=c.stops.map(D=>[D[0],to.parse(D[1])])),c.default=to.parse(c.default?c.default:n.default)),c.colorSpace&&c.colorSpace!=="rgb"&&!eh[c.colorSpace])throw new Error(`Unknown color space: ${c.colorSpace}`);let v,w,M;if(h==="exponential")v=sh;else if(h==="interval")v=hd;else if(h==="categorical"){v=Hu,w=Object.create(null);for(const D of c.stops)w[D[0]]=D[1];M=typeof c.stops[0][0]}else{if(h!=="identity")throw new Error(`Unknown function type "${h}"`);v=Dd}if(d){const D={},x=[];for(let T=0;T<c.stops.length;T++){const O=c.stops[T],N=O[0].zoom;D[N]===void 0&&(D[N]={zoom:N,type:c.type,property:c.property,default:c.default,stops:[]},x.push(N)),D[N].stops.push([O[0].value,O[1]])}const P=[];for(const T of x)P.push([D[T].zoom,Ql(D[T],n)]);const $={name:"linear"};return{kind:"composite",interpolationType:$,interpolationFactor:_c.interpolationFactor.bind(void 0,$),zoomStops:P.map(T=>T[0]),evaluate:({zoom:T},O)=>sh({stops:P,base:c.base},n,T).evaluate(T,O)}}if(g){const D=h==="exponential"?{name:"exponential",base:c.base!==void 0?c.base:1}:null;return{kind:"camera",interpolationType:D,interpolationFactor:_c.interpolationFactor.bind(void 0,D),zoomStops:c.stops.map(x=>x[0]),evaluate:({zoom:x})=>v(c,n,x,w,M)}}return{kind:"source",evaluate(D,x){const P=x&&x.properties?x.properties[c.property]:void 0;return P===void 0?Lc(c.default,n.default):v(c,n,P,w,M)}}}function Lc(c,n,i){return c!==void 0?c:n!==void 0?n:i!==void 0?i:void 0}function Hu(c,n,i,d,g){return Lc(typeof i===g?d[i]:void 0,c.default,n.default)}function hd(c,n,i){if(Ea(i)!=="number")return Lc(c.default,n.default);const d=c.stops.length;if(d===1||i<=c.stops[0][0])return c.stops[0][1];if(i>=c.stops[d-1][0])return c.stops[d-1][1];const g=ks(c.stops.map(h=>h[0]),i);return c.stops[g][1]}function sh(c,n,i){const d=c.base!==void 0?c.base:1;if(Ea(i)!=="number")return Lc(c.default,n.default);const g=c.stops.length;if(g===1||i<=c.stops[0][0])return c.stops[0][1];if(i>=c.stops[g-1][0])return c.stops[g-1][1];const h=ks(c.stops.map(x=>x[0]),i),v=function(x,P,$,T){const O=T-$,N=x-$;return O===0?0:P===1?N/O:(Math.pow(P,N)-1)/(Math.pow(P,O)-1)}(i,d,c.stops[h][0],c.stops[h+1][0]),w=c.stops[h][1],M=c.stops[h+1][1];let D=ha[n.type]||zc;if(c.colorSpace&&c.colorSpace!=="rgb"){const x=eh[c.colorSpace];D=(P,$)=>x.reverse(x.interpolate(x.forward(P),x.forward($),v))}return typeof w.evaluate=="function"?{evaluate(...x){const P=w.evaluate.apply(void 0,x),$=M.evaluate.apply(void 0,x);if(P!==void 0&&$!==void 0)return D(P,$,v)}}:D(w,M,v)}function Dd(c,n,i){return n.type==="color"?i=to.parse(i):n.type==="formatted"?i=ir.fromString(i.toString()):n.type==="resolvedImage"?i=Vr.build(i.toString()):Ea(i)===n.type||n.type==="enum"&&n.values[i]||(i=void 0),Lc(i,c.default,n.default)}ca.register(ln,{error:[{kind:"error"},[vo],(c,[n])=>{throw new Ri(n.evaluate(c))}],typeof:[vo,[Ai],(c,[n])=>be(pi(n.evaluate(c)))],"to-rgba":[Ve(Jr,4),[Yo],(c,[n])=>n.evaluate(c).toRenderColor(null).toArray()],"to-hsla":[Ve(Jr,4),[Yo],(c,[n])=>n.evaluate(c).toRenderColor(null).toHslaArray()],rgb:[Yo,[Jr,Jr,Jr],Tr],rgba:[Yo,[Jr,Jr,Jr,Jr],Tr],hsl:[Yo,[Jr,Jr,Jr],Ui],hsla:[Yo,[Jr,Jr,Jr,Jr],Ui],has:{type:Ao,overloads:[[[vo],(c,[n])=>na(n.evaluate(c),c.properties())],[[vo,co],(c,[n,i])=>na(n.evaluate(c),i.evaluate(c))]]},get:{type:Ai,overloads:[[[vo],(c,[n])=>rl(n.evaluate(c),c.properties())],[[vo,co],(c,[n,i])=>rl(n.evaluate(c),i.evaluate(c))]]},"feature-state":[Ai,[vo],(c,[n])=>rl(n.evaluate(c),c.featureState||{})],properties:[co,[],c=>c.properties()],"geometry-type":[vo,[],c=>c.geometryType()],id:[Ai,[],c=>c.id()],zoom:[Jr,[],c=>c.globals.zoom],pitch:[Jr,[],c=>c.globals.pitch||0],"distance-from-center":[Jr,[],c=>c.distanceFromCenter()],"measure-light":[Jr,[vo],(c,[n])=>c.measureLight(n.evaluate(c))],"heatmap-density":[Jr,[],c=>c.globals.heatmapDensity||0],"line-progress":[Jr,[],c=>c.globals.lineProgress||0],"raster-value":[Jr,[],c=>c.globals.rasterValue||0],"raster-particle-speed":[Jr,[],c=>c.globals.rasterParticleSpeed||0],"sky-radial-progress":[Jr,[],c=>c.globals.skyRadialProgress||0],accumulated:[Ai,[],c=>c.globals.accumulated===void 0?null:c.globals.accumulated],"+":[Jr,is(Jr),(c,n)=>{let i=0;for(const d of n)i+=d.evaluate(c);return i}],"*":[Jr,is(Jr),(c,n)=>{let i=1;for(const d of n)i*=d.evaluate(c);return i}],"-":{type:Jr,overloads:[[[Jr,Jr],(c,[n,i])=>n.evaluate(c)-i.evaluate(c)],[[Jr],(c,[n])=>-n.evaluate(c)]]},"/":[Jr,[Jr,Jr],(c,[n,i])=>n.evaluate(c)/i.evaluate(c)],"%":[Jr,[Jr,Jr],(c,[n,i])=>n.evaluate(c)%i.evaluate(c)],ln2:[Jr,[],()=>Math.LN2],pi:[Jr,[],()=>Math.PI],e:[Jr,[],()=>Math.E],"^":[Jr,[Jr,Jr],(c,[n,i])=>Math.pow(n.evaluate(c),i.evaluate(c))],sqrt:[Jr,[Jr],(c,[n])=>Math.sqrt(n.evaluate(c))],log10:[Jr,[Jr],(c,[n])=>Math.log(n.evaluate(c))/Math.LN10],ln:[Jr,[Jr],(c,[n])=>Math.log(n.evaluate(c))],log2:[Jr,[Jr],(c,[n])=>Math.log(n.evaluate(c))/Math.LN2],sin:[Jr,[Jr],(c,[n])=>Math.sin(n.evaluate(c))],cos:[Jr,[Jr],(c,[n])=>Math.cos(n.evaluate(c))],tan:[Jr,[Jr],(c,[n])=>Math.tan(n.evaluate(c))],asin:[Jr,[Jr],(c,[n])=>Math.asin(n.evaluate(c))],acos:[Jr,[Jr],(c,[n])=>Math.acos(n.evaluate(c))],atan:[Jr,[Jr],(c,[n])=>Math.atan(n.evaluate(c))],min:[Jr,is(Jr),(c,n)=>Math.min(...n.map(i=>i.evaluate(c)))],max:[Jr,is(Jr),(c,n)=>Math.max(...n.map(i=>i.evaluate(c)))],abs:[Jr,[Jr],(c,[n])=>Math.abs(n.evaluate(c))],round:[Jr,[Jr],(c,[n])=>{const i=n.evaluate(c);return i<0?-Math.round(-i):Math.round(i)}],floor:[Jr,[Jr],(c,[n])=>Math.floor(n.evaluate(c))],ceil:[Jr,[Jr],(c,[n])=>Math.ceil(n.evaluate(c))],"filter-==":[Ao,[vo,Ai],(c,[n,i])=>c.properties()[n.value]===i.value],"filter-id-==":[Ao,[Ai],(c,[n])=>c.id()===n.value],"filter-type-==":[Ao,[vo],(c,[n])=>c.geometryType()===n.value],"filter-<":[Ao,[vo,Ai],(c,[n,i])=>{const d=c.properties()[n.value],g=i.value;return typeof d==typeof g&&d<g}],"filter-id-<":[Ao,[Ai],(c,[n])=>{const i=c.id(),d=n.value;return typeof i==typeof d&&i<d}],"filter->":[Ao,[vo,Ai],(c,[n,i])=>{const d=c.properties()[n.value],g=i.value;return typeof d==typeof g&&d>g}],"filter-id->":[Ao,[Ai],(c,[n])=>{const i=c.id(),d=n.value;return typeof i==typeof d&&i>d}],"filter-<=":[Ao,[vo,Ai],(c,[n,i])=>{const d=c.properties()[n.value],g=i.value;return typeof d==typeof g&&d<=g}],"filter-id-<=":[Ao,[Ai],(c,[n])=>{const i=c.id(),d=n.value;return typeof i==typeof d&&i<=d}],"filter->=":[Ao,[vo,Ai],(c,[n,i])=>{const d=c.properties()[n.value],g=i.value;return typeof d==typeof g&&d>=g}],"filter-id->=":[Ao,[Ai],(c,[n])=>{const i=c.id(),d=n.value;return typeof i==typeof d&&i>=d}],"filter-has":[Ao,[Ai],(c,[n])=>n.value in c.properties()],"filter-has-id":[Ao,[],c=>c.id()!==null&&c.id()!==void 0],"filter-type-in":[Ao,[Ve(vo)],(c,[n])=>n.value.indexOf(c.geometryType())>=0],"filter-id-in":[Ao,[Ve(Ai)],(c,[n])=>n.value.indexOf(c.id())>=0],"filter-in-small":[Ao,[vo,Ve(Ai)],(c,[n,i])=>i.value.indexOf(c.properties()[n.value])>=0],"filter-in-large":[Ao,[vo,Ve(Ai)],(c,[n,i])=>function(d,g,h,v){for(;h<=v;){const w=h+v>>1;if(g[w]===d)return!0;g[w]>d?v=w-1:h=w+1}return!1}(c.properties()[n.value],i.value,0,i.value.length-1)],all:{type:Ao,overloads:[[[Ao,Ao],(c,[n,i])=>n.evaluate(c)&&i.evaluate(c)],[is(Ao),(c,n)=>{for(const i of n)if(!i.evaluate(c))return!1;return!0}]]},any:{type:Ao,overloads:[[[Ao,Ao],(c,[n,i])=>n.evaluate(c)||i.evaluate(c)],[is(Ao),(c,n)=>{for(const i of n)if(i.evaluate(c))return!0;return!1}]]},"!":[Ao,[Ao],(c,[n])=>!n.evaluate(c)],"is-supported-script":[Ao,[vo],(c,[n])=>{const i=c.globals&&c.globals.isSupportedScript;return!i||i(n.evaluate(c))}],upcase:[vo,[vo],(c,[n])=>n.evaluate(c).toUpperCase()],downcase:[vo,[vo],(c,[n])=>n.evaluate(c).toLowerCase()],concat:[vo,is(Ai),(c,n)=>n.map(i=>wi(i.evaluate(c))).join("")],"resolved-locale":[vo,[ga],(c,[n])=>n.evaluate(c).resolvedLocale()],random:[Jr,[Jr,Jr,Ai],(c,n)=>{const[i,d,g]=n.map(v=>v.evaluate(c));if(i>d||i===d)return i;let h;if(typeof g=="string")h=function(v){let w=0;if(v.length===0)return w;for(let M=0;M<v.length;M++)w=(w<<5)-w+v.charCodeAt(M),w|=0;return w}(g);else{if(typeof g!="number")throw new Ri(`Invalid seed input: ${g}`);h=g}return i+ah(h)()*(d-i)}]});class md{constructor(n,i,d,g){this.expression=n,this._warningHistory={},this._evaluator=new Za(d,g),this._defaultValue=i?function(h){return h.type==="color"&&(Uc(h.default)||Array.isArray(h.default))?new to(0,0,0,0):h.type==="color"?to.parse(h.default)||null:h.default===void 0?null:h.default}(i):null,this._enumValues=i&&i.type==="enum"?i.values:null,this.configDependencies=yc(n)}evaluateWithoutErrorHandling(n,i,d,g,h,v,w,M){return this._evaluator.globals=n,this._evaluator.feature=i,this._evaluator.featureState=d,this._evaluator.canonical=g||null,this._evaluator.availableImages=h||null,this._evaluator.formattedSection=v,this._evaluator.featureTileCoord=w||null,this._evaluator.featureDistanceData=M||null,this.expression.evaluate(this._evaluator)}evaluate(n,i,d,g,h,v,w,M){this._evaluator.globals=n,this._evaluator.feature=i||null,this._evaluator.featureState=d||null,this._evaluator.canonical=g||null,this._evaluator.availableImages=h||null,this._evaluator.formattedSection=v||null,this._evaluator.featureTileCoord=w||null,this._evaluator.featureDistanceData=M||null;try{const D=this.expression.evaluate(this._evaluator);if(D==null||typeof D=="number"&&D!=D)return this._defaultValue;if(this._enumValues&&!(D in this._enumValues))throw new Ri(`Expected value to be one of ${Object.keys(this._enumValues).map(x=>JSON.stringify(x)).join(", ")}, but found ${JSON.stringify(D)} instead.`);return D}catch(D){return this._warningHistory[D.message]||(this._warningHistory[D.message]=!0,typeof console!="undefined"&&console.warn(`Failed to evaluate expression "${JSON.stringify(this.expression.serialize())}". ${D.message}`)),this._defaultValue}}}function af(c){return Array.isArray(c)&&c.length>0&&typeof c[0]=="string"&&c[0]in ln}function lh(c,n,i,d){const g=new jl(ln,[],n?function(v){const w={color:Yo,string:vo,number:Jr,enum:vo,boolean:Ao,formatted:jo,resolvedImage:en};return v.type==="array"?Ve(w[v.value]||Ai,v.length):w[v.type]}(n):void 0,void 0,void 0,i,d),h=g.parse(c,void 0,void 0,void 0,n&&n.type==="string"?{typeAnnotation:"coerce"}:void 0);return h?pl(new md(h,n,i,d)):Xs(g.errors)}class sm{constructor(n,i,d,g){this.kind=n,this._styleExpression=i,this.isLightConstant=d,this.isLineProgressConstant=g,this.isStateDependent=n!=="constant"&&!kl(i.expression),this.configDependencies=yc(i.expression)}evaluateWithoutErrorHandling(n,i,d,g,h,v){return this._styleExpression.evaluateWithoutErrorHandling(n,i,d,g,h,v)}evaluate(n,i,d,g,h,v){return this._styleExpression.evaluate(n,i,d,g,h,v)}}class lm{constructor(n,i,d,g,h,v){this.kind=n,this.zoomStops=d,this._styleExpression=i,this.isStateDependent=n!=="camera"&&!kl(i.expression),this.isLightConstant=h,this.isLineProgressConstant=v,this.configDependencies=yc(i.expression),this.interpolationType=g}evaluateWithoutErrorHandling(n,i,d,g,h,v){return this._styleExpression.evaluateWithoutErrorHandling(n,i,d,g,h,v)}evaluate(n,i,d,g,h,v){return this._styleExpression.evaluate(n,i,d,g,h,v)}interpolationFactor(n,i,d){return this.interpolationType?_c.interpolationFactor(this.interpolationType,n,i,d):0}}function $g(c,n,i,d){if((c=lh(c,n,i,d)).result==="error")return c;const g=c.value.expression,h=$l(g);if(!h&&!il(n))return Xs([new Vi("","data expressions not supported")]);const v=bc(g,["zoom","pitch","distance-from-center"]);if(!v&&!ic(n))return Xs([new Vi("","zoom expressions not supported")]);const w=bc(g,["measure-light"]);if(!w&&!Oc(n))return Xs([new Vi("","measure-light expression not supported")]);const M=bc(g,["line-progress"]);if(!M&&!function(P){return Al(P.expression,"line-progress")}(n))return Xs([new Vi("","line-progress expression not supported")]);const D=n.expression&&n.expression.relaxZoomRestriction,x=cm(g);return x||v||D?x instanceof Vi?Xs([x]):x instanceof _c&&!Dl(n)?Xs([new Vi("",'"interpolate" expressions cannot be used with this property')]):pl(x?new lm(h&&M?"camera":"composite",c.value,x.labels,x instanceof _c?x.interpolation:void 0,w,M):new sm(h&&M?"constant":"source",c.value,w,M)):Xs([new Vi("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression, or in the properties of atmosphere.')])}class ch{constructor(n,i){this._parameters=n,this._specification=i,za(this,Ql(this._parameters,this._specification))}static deserialize(n){return new ch(n._parameters,n._specification)}static serialize(n){return{_parameters:n._parameters,_specification:n._specification}}}function cm(c){let n=null;if(c instanceof nf)n=cm(c.result);else if(c instanceof cd){for(const i of c.args)if(n=cm(i),n)break}else(c instanceof dc||c instanceof _c)&&c.input instanceof ca&&c.input.name==="zoom"&&(n=c);return n instanceof Vi||c.eachChild(i=>{const d=cm(i);d instanceof Vi?n=d:n&&d&&n!==d&&(n=new Vi("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),n}var hp,_v,xv=function(){if(_v)return hp;_v=1,hp=n;var c=3;function n(i,d,g){var h=this.cells=[];if(i instanceof ArrayBuffer){this.arrayBuffer=i;var v=new Int32Array(this.arrayBuffer);i=v[0],this.d=(d=v[1])+2*(g=v[2]);for(var w=0;w<this.d*this.d;w++){var M=v[c+w],D=v[c+w+1];h.push(M===D?null:v.subarray(M,D))}var x=v[c+h.length+1];this.keys=v.subarray(v[c+h.length],x),this.bboxes=v.subarray(x),this.insert=this._insertReadonly}else{this.d=d+2*g;for(var P=0;P<this.d*this.d;P++)h.push([]);this.keys=[],this.bboxes=[]}this.n=d,this.extent=i,this.padding=g,this.scale=d/i,this.uid=0;var $=g/d*i;this.min=-$,this.max=i+$}return n.prototype.insert=function(i,d,g,h,v){this._forEachCell(d,g,h,v,this._insertCell,this.uid++),this.keys.push(i),this.bboxes.push(d),this.bboxes.push(g),this.bboxes.push(h),this.bboxes.push(v)},n.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},n.prototype._insertCell=function(i,d,g,h,v,w){this.cells[v].push(w)},n.prototype.query=function(i,d,g,h,v){var w=this.min,M=this.max;if(i<=w&&d<=w&&M<=g&&M<=h&&!v)return Array.prototype.slice.call(this.keys);var D=[];return this._forEachCell(i,d,g,h,this._queryCell,D,{},v),D},n.prototype._queryCell=function(i,d,g,h,v,w,M,D){var x=this.cells[v];if(x!==null)for(var P=this.keys,$=this.bboxes,T=0;T<x.length;T++){var O=x[T];if(M[O]===void 0){var N=4*O;(D?D($[N+0],$[N+1],$[N+2],$[N+3]):i<=$[N+2]&&d<=$[N+3]&&g>=$[N+0]&&h>=$[N+1])?(M[O]=!0,w.push(P[O])):M[O]=!1}}},n.prototype._forEachCell=function(i,d,g,h,v,w,M,D){for(var x=this._convertToCellCoord(i),P=this._convertToCellCoord(d),$=this._convertToCellCoord(g),T=this._convertToCellCoord(h),O=x;O<=$;O++)for(var N=P;N<=T;N++){var G=this.d*N+O;if((!D||D(this._convertFromCellCoord(O),this._convertFromCellCoord(N),this._convertFromCellCoord(O+1),this._convertFromCellCoord(N+1)))&&v.call(this,i,d,g,h,G,w,M,D))return}},n.prototype._convertFromCellCoord=function(i){return(i-this.padding)/this.scale},n.prototype._convertToCellCoord=function(i){return Math.max(0,Math.min(this.d-1,Math.floor(i*this.scale)+this.padding))},n.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var i=this.cells,d=c+this.cells.length+1+1,g=0,h=0;h<this.cells.length;h++)g+=this.cells[h].length;var v=new Int32Array(d+g+this.keys.length+this.bboxes.length);v[0]=this.extent,v[1]=this.n,v[2]=this.padding;for(var w=d,M=0;M<i.length;M++){var D=i[M];v[c+M]=w,v.set(D,w),w+=D.length}return v[c+i.length]=w,v.set(this.keys,w),v[c+i.length+1]=w+=this.keys.length,v.set(this.bboxes,w),w+=this.bboxes.length,v.buffer},hp}(),Uu=Ie(xv);const um={};function lo(c,n,i={}){Object.defineProperty(c,"_classRegistryKey",{value:n,writable:!1}),um[n]={klass:c,omit:i.omit||[]}}lo(Object,"Object"),Uu.serialize=function(c,n){const i=c.toArrayBuffer();return n&&n.add(i),{buffer:i}},Uu.deserialize=function(c){return new Uu(c.buffer)},Object.defineProperty(Uu,"name",{value:"Grid"}),lo(Uu,"Grid"),typeof DOMMatrix!="undefined"&&lo(DOMMatrix,"DOMMatrix"),lo(to,"Color"),lo(Error,"Error"),lo(ir,"Formatted"),lo(pr,"FormattedSection"),lo(oi,"AJAXError"),lo(Vr,"ResolvedImage"),lo(ch,"StylePropertyFunction"),lo(md,"StyleExpression",{omit:["_evaluator"]}),lo(rr,"ImageIdWithOptions"),lo(lm,"ZoomDependentExpression"),lo(sm,"ZoomConstantExpression"),lo(ca,"CompoundExpression",{omit:["_evaluate"]});for(const c in ln)um[ln[c]._classRegistryKey]||lo(ln[c],`Expression${c}`);function mp(c){return c&&typeof ArrayBuffer!="undefined"&&(c instanceof ArrayBuffer||c.constructor&&c.constructor.name==="ArrayBuffer")}function pd(c){return self.ImageBitmap&&c instanceof ImageBitmap}function gd(c,n){if(c==null||typeof c=="boolean"||typeof c=="number"||typeof c=="string"||c instanceof Boolean||c instanceof Number||c instanceof String||c instanceof Date||c instanceof RegExp)return c;if(mp(c)||pd(c))return n&&n.add(c),c;if(ArrayBuffer.isView(c))return n&&n.add(c.buffer),c;if(c instanceof ImageData)return n&&n.add(c.data.buffer),c;if(Array.isArray(c)){const i=[];for(const d of c)i.push(gd(d,n));return i}if(c instanceof Map){const i={$name:"Map"};for(const[d,g]of c.entries())i[d]=gd(g);return i}if(c instanceof Set){const i={$name:"Set"};let d=0;for(const g of c.values())i[++d]=gd(g);return i}if(typeof c=="object"){const i=c.constructor,d=i._classRegistryKey;if(!d)throw new Error(`Can't serialize object of unregistered class "${d}".`);const g=i.serialize?i.serialize(c,n):{};if(!i.serialize){for(const h in c)c.hasOwnProperty(h)&&(um[d].omit.indexOf(h)>=0||(g[h]=gd(c[h],n)));c instanceof Error&&(g.message=c.message)}if(g.$name)throw new Error("$name property is reserved for worker serialization logic.");return d!=="Object"&&(g.$name=d),g}throw new Error("can't serialize object of type "+typeof c)}function yu(c){if(c==null||typeof c=="boolean"||typeof c=="number"||typeof c=="string"||c instanceof Boolean||c instanceof Number||c instanceof String||c instanceof Date||c instanceof RegExp||mp(c)||pd(c)||ArrayBuffer.isView(c)||c instanceof ImageData)return c;if(Array.isArray(c))return c.map(yu);if(typeof c=="object"){const n=c.$name||"Object";if(n==="Map"){const g=new Map;for(const h of Object.keys(c))h!=="$name"&&g.set(h,yu(c[h]));return g}if(n==="Set"){const g=new Set;for(const h of Object.keys(c))h!=="$name"&&g.add(yu(c[h]));return g}const{klass:i}=um[n];if(!i)throw new Error(`Can't deserialize unregistered class "${n}".`);if(i.deserialize)return i.deserialize(c);const d=Object.create(i.prototype);for(const g of Object.keys(c))g!=="$name"&&(d[g]=yu(c[g]));return d}throw new Error("can't deserialize object of type "+typeof c)}const Mo={"Latin-1 Supplement":c=>c>=128&&c<=255,Arabic:c=>c>=1536&&c<=1791,"Arabic Supplement":c=>c>=1872&&c<=1919,"Arabic Extended-A":c=>c>=2208&&c<=2303,"Hangul Jamo":c=>c>=4352&&c<=4607,"Unified Canadian Aboriginal Syllabics":c=>c>=5120&&c<=5759,Khmer:c=>c>=6016&&c<=6143,"Unified Canadian Aboriginal Syllabics Extended":c=>c>=6320&&c<=6399,"General Punctuation":c=>c>=8192&&c<=8303,"Letterlike Symbols":c=>c>=8448&&c<=8527,"Number Forms":c=>c>=8528&&c<=8591,"Miscellaneous Technical":c=>c>=8960&&c<=9215,"Control Pictures":c=>c>=9216&&c<=9279,"Optical Character Recognition":c=>c>=9280&&c<=9311,"Enclosed Alphanumerics":c=>c>=9312&&c<=9471,"Geometric Shapes":c=>c>=9632&&c<=9727,"Miscellaneous Symbols":c=>c>=9728&&c<=9983,"Miscellaneous Symbols and Arrows":c=>c>=11008&&c<=11263,"CJK Radicals Supplement":c=>c>=11904&&c<=12031,"Kangxi Radicals":c=>c>=12032&&c<=12255,"Ideographic Description Characters":c=>c>=12272&&c<=12287,"CJK Symbols and Punctuation":c=>c>=12288&&c<=12351,Hiragana:c=>c>=12352&&c<=12447,Katakana:c=>c>=12448&&c<=12543,Bopomofo:c=>c>=12544&&c<=12591,"Hangul Compatibility Jamo":c=>c>=12592&&c<=12687,Kanbun:c=>c>=12688&&c<=12703,"Bopomofo Extended":c=>c>=12704&&c<=12735,"CJK Strokes":c=>c>=12736&&c<=12783,"Katakana Phonetic Extensions":c=>c>=12784&&c<=12799,"Enclosed CJK Letters and Months":c=>c>=12800&&c<=13055,"CJK Compatibility":c=>c>=13056&&c<=13311,"CJK Unified Ideographs Extension A":c=>c>=13312&&c<=19903,"Yijing Hexagram Symbols":c=>c>=19904&&c<=19967,"CJK Unified Ideographs":c=>c>=19968&&c<=40959,"Yi Syllables":c=>c>=40960&&c<=42127,"Yi Radicals":c=>c>=42128&&c<=42191,"Hangul Jamo Extended-A":c=>c>=43360&&c<=43391,"Hangul Syllables":c=>c>=44032&&c<=55215,"Hangul Jamo Extended-B":c=>c>=55216&&c<=55295,"Private Use Area":c=>c>=57344&&c<=63743,"CJK Compatibility Ideographs":c=>c>=63744&&c<=64255,"Arabic Presentation Forms-A":c=>c>=64336&&c<=65023,"Vertical Forms":c=>c>=65040&&c<=65055,"CJK Compatibility Forms":c=>c>=65072&&c<=65103,"Small Form Variants":c=>c>=65104&&c<=65135,"Arabic Presentation Forms-B":c=>c>=65136&&c<=65279,"Halfwidth and Fullwidth Forms":c=>c>=65280&&c<=65519,Osage:c=>c>=66736&&c<=66815,"CJK Unified Ideographs Extension B":c=>c>=131072&&c<=173791};function dm(c){for(const n of c)if(pp(n.charCodeAt(0)))return!0;return!1}function Ag(c){for(const n of c)if(!Cv(n.charCodeAt(0)))return!1;return!0}function Cv(c){return!(Mo.Arabic(c)||Mo["Arabic Supplement"](c)||Mo["Arabic Extended-A"](c)||Mo["Arabic Presentation Forms-A"](c)||Mo["Arabic Presentation Forms-B"](c))}function pp(c){return!(c!==746&&c!==747&&(c<4352||!(Mo["Bopomofo Extended"](c)||Mo.Bopomofo(c)||Mo["CJK Compatibility Forms"](c)&&!(c>=65097&&c<=65103)||Mo["CJK Compatibility Ideographs"](c)||Mo["CJK Compatibility"](c)||Mo["CJK Radicals Supplement"](c)||Mo["CJK Strokes"](c)||!(!Mo["CJK Symbols and Punctuation"](c)||c>=12296&&c<=12305||c>=12308&&c<=12319||c===12336)||Mo["CJK Unified Ideographs Extension A"](c)||Mo["CJK Unified Ideographs"](c)||Mo["Enclosed CJK Letters and Months"](c)||Mo["Hangul Compatibility Jamo"](c)||Mo["Hangul Jamo Extended-A"](c)||Mo["Hangul Jamo Extended-B"](c)||Mo["Hangul Jamo"](c)||Mo["Hangul Syllables"](c)||Mo.Hiragana(c)||Mo["Ideographic Description Characters"](c)||Mo.Kanbun(c)||Mo["Kangxi Radicals"](c)||Mo["Katakana Phonetic Extensions"](c)||Mo.Katakana(c)&&c!==12540||!(!Mo["Halfwidth and Fullwidth Forms"](c)||c===65288||c===65289||c===65293||c>=65306&&c<=65310||c===65339||c===65341||c===65343||c>=65371&&c<=65503||c===65507||c>=65512&&c<=65519)||!(!Mo["Small Form Variants"](c)||c>=65112&&c<=65118||c>=65123&&c<=65126)||Mo["Unified Canadian Aboriginal Syllabics"](c)||Mo["Unified Canadian Aboriginal Syllabics Extended"](c)||Mo["Vertical Forms"](c)||Mo["Yijing Hexagram Symbols"](c)||Mo["Yi Syllables"](c)||Mo["Yi Radicals"](c))))}function fm(c){return!(pp(c)||function(n){return!!(Mo["Latin-1 Supplement"](n)&&(n===167||n===169||n===174||n===177||n===188||n===189||n===190||n===215||n===247)||Mo["General Punctuation"](n)&&(n===8214||n===8224||n===8225||n===8240||n===8241||n===8251||n===8252||n===8258||n===8263||n===8264||n===8265||n===8273)||Mo["Letterlike Symbols"](n)||Mo["Number Forms"](n)||Mo["Miscellaneous Technical"](n)&&(n>=8960&&n<=8967||n>=8972&&n<=8991||n>=8996&&n<=9e3||n===9003||n>=9085&&n<=9114||n>=9150&&n<=9165||n===9167||n>=9169&&n<=9179||n>=9186&&n<=9215)||Mo["Control Pictures"](n)&&n!==9251||Mo["Optical Character Recognition"](n)||Mo["Enclosed Alphanumerics"](n)||Mo["Geometric Shapes"](n)||Mo["Miscellaneous Symbols"](n)&&!(n>=9754&&n<=9759)||Mo["Miscellaneous Symbols and Arrows"](n)&&(n>=11026&&n<=11055||n>=11088&&n<=11097||n>=11192&&n<=11243)||Mo["CJK Symbols and Punctuation"](n)||Mo.Katakana(n)||Mo["Private Use Area"](n)||Mo["CJK Compatibility Forms"](n)||Mo["Small Form Variants"](n)||Mo["Halfwidth and Fullwidth Forms"](n)||n===8734||n===8756||n===8757||n>=9984&&n<=10087||n>=10102&&n<=10131||n===65532||n===65533)}(c))}function Dg(c){return c>=1424&&c<=2303||Mo["Arabic Presentation Forms-A"](c)||Mo["Arabic Presentation Forms-B"](c)}function gp(c,n){return!(!n&&Dg(c)||c>=2304&&c<=3583||c>=3840&&c<=4255||Mo.Khmer(c))}function hm(c){for(const n of c)if(Dg(n.charCodeAt(0)))return!0;return!1}const sf="deferred",uh="loading",vp="loaded";let Nc=null,Bc="unavailable",vd=null;const lf=function(c){c&&typeof c=="string"&&c.indexOf("NetworkError")>-1&&(Bc="error"),Nc&&Nc(c)};function cf(){zd.fire(new _o("pluginStateChange",{pluginStatus:Bc,pluginURL:vd}))}const zd=new oo,dh=function(){return Bc},fh=function(){if(Bc!==sf||!vd)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Bc=uh,cf(),vd&&_n({url:vd},c=>{c?lf(c):(Bc=vp,cf())})},Wc={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>Bc===vp||Wc.applyArabicShaping!=null,isLoading:()=>Bc===uh,setState(c){Bc=c.pluginStatus,vd=c.pluginURL},isParsed:()=>Wc.applyArabicShaping!=null&&Wc.processBidirectionalText!=null&&Wc.processStyledBidirectionalText!=null,getPluginURL:()=>vd};class Ws{constructor(n,i){this.zoom=n,i?(this.now=i.now,this.fadeDuration=i.fadeDuration,this.transition=i.transition,this.pitch=i.pitch,this.brightness=i.brightness):(this.now=0,this.fadeDuration=0,this.transition={},this.pitch=0,this.brightness=0)}isSupportedScript(n){return function(i,d){for(const g of i)if(!gp(g.charCodeAt(0),d))return!1;return!0}(n,Wc.isLoaded())}}class hh{constructor(n,i,d,g){this.property=n,this.value=i,this.expression=function(h,v,w,M){if(Uc(h))return new ch(h,v);if(af(h)||Array.isArray(h)&&h.length>0){const D=$g(h,v,w,M);if(D.result==="error")throw new Error(D.value.map(x=>`${x.key}: ${x.message}`).join(", "));return D.value}{let D=h;return typeof h=="string"&&v.type==="color"&&(D=to.parse(h)),{kind:"constant",configDependencies:new Set,evaluate:()=>D}}}(i===void 0?n.specification.default:i,n.specification,d,g)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(n,i,d){return this.property.possiblyEvaluate(this,n,i,d)}}class uf{constructor(n,i,d){this.property=n,this.value=new hh(n,void 0,i,d)}transitioned(n,i){return new yp(this.property,this.value,i,ei({},n.transition,this.transition),n.now)}untransitioned(){return new yp(this.property,this.value,null,{},0)}}class mh{constructor(n,i,d){this._properties=n,this._values=Object.create(n.defaultTransitionablePropertyValues),this._scope=i,this._options=d,this.configDependencies=new Set}getValue(n){return lr(this._values[n].value.value)}setValue(n,i){this._values.hasOwnProperty(n)||(this._values[n]=new uf(this._values[n].property,this._scope,this._options)),this._values[n].value=new hh(this._values[n].property,i===null?void 0:lr(i),this._scope,this._options),this._values[n].value.expression.configDependencies&&(this.configDependencies=new Set([...this.configDependencies,...this._values[n].value.expression.configDependencies]))}setTransitionOrValue(n,i){i&&(this._options=i);const d=this._properties.properties;if(n)for(const g in n){const h=n[g];if(yr(g,"-transition")){const v=g.slice(0,-11);d[v]&&this.setTransition(v,h)}else d.hasOwnProperty(g)&&this.setValue(g,h)}}getTransition(n){return lr(this._values[n].transition)}setTransition(n,i){this._values.hasOwnProperty(n)||(this._values[n]=new uf(this._values[n].property)),this._values[n].transition=lr(i)||void 0}serialize(){const n={};for(const i of Object.keys(this._values)){const d=this.getValue(i);d!==void 0&&(n[i]=d);const g=this.getTransition(i);g!==void 0&&(n[`${i}-transition`]=g)}return n}transitioned(n,i){const d=new Ld(this._properties);for(const g of Object.keys(this._values))d._values[g]=this._values[g].transitioned(n,i._values[g]);return d}untransitioned(){const n=new Ld(this._properties);for(const i of Object.keys(this._values))n._values[i]=this._values[i].untransitioned();return n}}class yp{constructor(n,i,d,g,h){const v=g.delay||0,w=g.duration||0;h=h||0,this.property=n,this.value=i,this.begin=h+v,this.end=this.begin+w,n.specification.transition&&(g.delay||g.duration)&&(this.prior=d)}possiblyEvaluate(n,i,d){const g=n.now||0,h=this.value.possiblyEvaluate(n,i,d),v=this.prior;if(v){if(g>this.end)return this.prior=null,h;if(this.value.isDataDriven())return this.prior=null,h;if(g<this.begin)return v.possiblyEvaluate(n,i,d);{const w=(g-this.begin)/(this.end-this.begin);return this.property.interpolate(v.possiblyEvaluate(n,i,d),h,un(w))}}return h}}class Ld{constructor(n){this._properties=n,this._values=Object.create(n.defaultTransitioningPropertyValues)}possiblyEvaluate(n,i,d){const g=new Nd(this._properties);for(const h of Object.keys(this._values))g._values[h]=this._values[h].possiblyEvaluate(n,i,d);return g}hasTransition(){for(const n of Object.keys(this._values))if(this._values[n].prior)return!0;return!1}}class df{constructor(n,i,d){this._properties=n,this._values=Object.create(n.defaultPropertyValues),this._scope=i,this._options=d,this.configDependencies=new Set}getValue(n){return lr(this._values[n].value)}setValue(n,i){this._values[n]=new hh(this._values[n].property,i===null?void 0:lr(i),this._scope,this._options),this._values[n].expression.configDependencies&&(this.configDependencies=new Set([...this.configDependencies,...this._values[n].expression.configDependencies]))}serialize(){const n={};for(const i of Object.keys(this._values)){const d=this.getValue(i);d!==void 0&&(n[i]=d)}return n}possiblyEvaluate(n,i,d){const g=new Nd(this._properties);for(const h of Object.keys(this._values))g._values[h]=this._values[h].possiblyEvaluate(n,i,d);return g}}class ph{constructor(n,i,d){this.property=n,this.value=i,this.parameters=d}isConstant(){return this.value.kind==="constant"}constantOr(n){return this.value.kind==="constant"?this.value.value:n}evaluate(n,i,d,g){return this.property.evaluate(this.value,this.parameters,n,i,d,g)}}class Nd{constructor(n){this._properties=n,this._values=Object.create(n.defaultPossiblyEvaluatedValues)}get(n){return this._values[n]}}class hi{constructor(n){this.specification=n}possiblyEvaluate(n,i){return n.expression.evaluate(i)}interpolate(n,i,d){const g=ha[this.specification.type];return g?g(n,i,d):n}}class qi{constructor(n,i){this.specification=n,this.overrides=i}possiblyEvaluate(n,i,d,g){return new ph(this,n.expression.kind==="constant"||n.expression.kind==="camera"?{kind:"constant",value:n.expression.evaluate(i,null,{},d,g)}:n.expression,i)}interpolate(n,i,d){if(n.value.kind!=="constant"||i.value.kind!=="constant")return n;if(n.value.value===void 0||i.value.value===void 0)return new ph(this,{kind:"constant",value:void 0},n.parameters);const g=ha[this.specification.type];return g?new ph(this,{kind:"constant",value:g(n.value.value,i.value.value,d)},n.parameters):n}evaluate(n,i,d,g,h,v){return n.kind==="constant"?n.value:n.evaluate(i,d,g,h,v)}}class ff{constructor(n){this.specification=n}possiblyEvaluate(n,i,d,g){return!!n.expression.evaluate(i,null,{},d,g)}interpolate(){return!1}}class el{constructor(n){this.properties=n,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];const i=new Ws(0,{});for(const d in n){const g=n[d];g.specification.overridable&&this.overridableProperties.push(d);const h=this.defaultPropertyValues[d]=new hh(g,void 0),v=this.defaultTransitionablePropertyValues[d]=new uf(g);this.defaultTransitioningPropertyValues[d]=v.untransitioned(),this.defaultPossiblyEvaluatedValues[d]=h.possiblyEvaluate(i)}}}lo(qi,"DataDrivenProperty"),lo(hi,"DataConstantProperty"),lo(ff,"ColorRampProperty");var Un=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"fragment":{"type":"boolean"},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360},"pitch":{"type":"number","default":0},"light":{"type":"light"},"lights":{"required":false,"type":"array","value":"light-3d"},"terrain":{"type":"terrain","optional":true},"fog":{"type":"fog"},"snow":{"type":"snow","experimental":true},"rain":{"type":"rain","experimental":true},"camera":{"type":"camera"},"color-theme":{"type":"colorTheme"},"indoor":{"type":"indoor","experimental":true},"imports":{"type":"array","value":"import"},"schema":{"type":"schema"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string","default":"mapbox://fonts/mapbox/{fontstack}/{range}.pbf"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"},"models":{"type":"models"},"featuresets":{"experimental":true,"type":"featuresets"}},"featuresets":{"experimental":true,"*":{"type":"featureset"}},"featureset":{"experimental":true,"metadata":{"experimental":true,"type":"*"},"selectors":{"experimental":true,"type":"array","value":"selector"}},"selector":{"experimental":true,"layer":{"experimental":true,"type":"string","required":true},"properties":{"experimental":true,"type":"selectorProperty","required":false},"featureNamespace":{"experimental":true,"type":"string","required":false},"_uniqueFeatureID":{"experimental":true,"type":"boolean","private":true,"required":false}},"selectorProperty":{"experimental":true,"*":{"experimental":true,"type":"*"}},"model":{"type":"string","required":true},"import":{"id":{"type":"string","required":true},"url":{"type":"string","required":true},"config":{"type":"config"},"data":{"type":"$root"},"color-theme":{"type":"colorTheme","optional":true}},"config":{"*":{"type":"*"}},"schema":{"*":{"type":"option"}},"option":{"default":{"type":"*","property-type":"data-constant","expression":{},"required":true},"type":{"type":"enum","values":{"string":1,"number":1,"boolean":1,"color":1}},"array":{"type":"boolean"},"minValue":{"type":"number"},"maxValue":{"type":"number"},"stepValue":{"type":"number"},"values":{"type":"array","value":"*"},"metadata":{"type":"*"}},"models":{"*":{"type":"model"}},"light-3d":{"id":{"type":"string","required":true},"properties":{"type":"properties"},"type":{"type":"enum","values":{"ambient":{},"directional":{},"flat":{}}}},"properties":["properties_light_directional","properties_light_ambient","properties_light_flat"],"properties_light_directional":{"direction":{"type":"array","default":[210,30],"minimum":[0,0],"maximum":[360,90],"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"cast-shadows":{"type":"boolean","default":false,"property-type":"data-constant"},"shadow-quality":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1,"expression":{"parameters":["zoom"]},"experimental":true},"shadow-intensity":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"properties_light_ambient":{"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"properties_light_flat":{"anchor":{"type":"enum","default":"viewport","values":{"map":1,"viewport":1},"property-type":"data-constant","expression":{"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_raster_array","source_geojson","source_video","source_image","source_model"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":1}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":1,"tms":1},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":1}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512},"scheme":{"type":"enum","values":{"xyz":1,"tms":1},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":1}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":1,"mapbox":1},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_array":{"experimental":true,"type":{"required":true,"type":"enum","values":{"raster-array":1}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512},"attribution":{"type":"string"},"rasterLayers":{"type":"*"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":1}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"minzoom":{"type":"number","default":0},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"},"dynamic":{"type":"boolean","default":false}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":1}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":1}},"url":{"required":false,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_model":{"type":{"required":true,"type":"enum","values":{"model":1,"batched-model":1}},"maxzoom":{"type":"number","default":18},"minzoom":{"type":"number","default":0},"tiles":{"type":"array","value":"string"}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"raster-particle":{"experimental":true},"hillshade":{},"model":{"experimental":true},"background":{},"sky":{},"slot":{},"clip":{}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"slot":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_clip","layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_raster-particle","layout_hillshade","layout_background","layout_sky","layout_model"],"layout_background":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_model":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"},"model-id":{"type":"string","default":"","property-type":"data-driven","expression":{"parameters":["zoom","feature"]}}},"layout_clip":{"clip-layer-types":{"type":"array","value":"enum","values":{"model":1,"symbol":1},"default":[],"expression":{},"property-type":"data-constant"},"clip-layer-scope":{"type":"array","value":"string","default":[],"expression":{},"property-type":"data-constant"}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"},"fill-elevation-reference":{"type":"enum","values":{"none":1,"hd-road-base":1,"hd-road-markup":1},"default":"none","experimental":true,"private":true,"expression":{},"property-type":"data-constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"circle-elevation-reference":{"type":"enum","values":{"none":1,"hd-road-markup":1},"default":"none","experimental":true,"expression":{},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"},"fill-extrusion-edge-radius":{"type":"number","experimental":true,"default":0,"minimum":0,"maximum":1,"expression":{},"property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":1,"round":1,"square":1},"default":"butt","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":1,"round":1,"miter":1,"none":1},"default":"miter","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-z-offset":{"type":"number","experimental":true,"default":0,"expression":{"parameters":["zoom","feature","line-progress"]},"property-type":"data-driven"},"line-elevation-reference":{"type":"enum","values":{"none":1,"sea":1,"ground":1,"hd-road-markup":1},"default":"none","experimental":true,"expression":{},"property-type":"data-constant"},"line-cross-slope":{"type":"number","experimental":true,"expression":{},"property-type":"constant"},"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"},"line-width-unit":{"type":"enum","values":{"pixels":1,"meters":1},"default":"pixels","experimental":true,"private":true,"expression":{"parameters":["zoom"]},"property-type":"data-constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":1,"line":1,"line-center":1},"default":"point","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":1,"viewport-y":1,"source":1},"default":"auto","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"symbol-z-elevate":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"symbol-elevation-reference":{"type":"enum","values":{"sea":1,"ground":1,"hd-road-markup":1},"default":"ground","experimental":true,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":1,"viewport":1,"auto":1},"default":"auto","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-size-scale-range":{"type":"array","value":"number","length":2,"default":[0.8,2],"minimum":0.1,"maximum":10,"experimental":true,"private":true,"expression":{},"property-type":"data-constant"},"icon-text-fit":{"type":"enum","values":{"none":1,"width":1,"height":1,"both":1},"default":"none","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":1,"left":1,"right":1,"top":1,"bottom":1,"top-left":1,"top-right":1,"bottom-left":1,"bottom-right":1},"default":"center","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":1,"viewport":1,"auto":1},"default":"auto","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":1,"viewport":1,"auto":1},"default":"auto","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":1,"viewport":1,"auto":1},"default":"auto","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size-scale-range":{"type":"array","value":"number","length":2,"default":[0.8,2],"minimum":0.1,"maximum":10,"experimental":true,"private":true,"expression":{},"property-type":"data-constant"},"text-max-width":{"type":"number","default":10,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":1,"left":1,"center":1,"right":1},"default":"center","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","default":0,"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":1,"left":1,"right":1,"top":1,"bottom":1,"top-left":1,"top-right":1,"bottom-left":1,"bottom-right":1},"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":1,"left":1,"right":1,"top":1,"bottom":1,"top-left":1,"top-right":1,"bottom-left":1,"bottom-right":1},"default":"center","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":1,"vertical":1},"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":1,"uppercase":1,"lowercase":1},"default":"none","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","length":2,"default":[0,0],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_raster-particle":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_hillshade":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_raster":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_raster-particle":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_clip":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_model":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":1,"!=":1,">":1,">=":1,"<":1,"<=":1,"in":1,"!in":1,"all":1,"any":1,"none":1,"has":1,"!has":1}},"geometry_type":{"type":"enum","values":{"Point":1,"LineString":1,"Polygon":1}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":1,"exponential":1,"interval":1,"categorical":1},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":1,"lab":1,"hcl":1},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"high-color":{"type":"color","property-type":"data-constant","default":"#245cdf","expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"space-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,0.2,7,0.1],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"star-intensity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],5,0.35,6,0],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"vertical-range":{"type":"array","default":[0,0],"minimum":0,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true}}},"snow":{"density":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],11,0,13,0.85],"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"opacity":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"vignette":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],11,0,13,0.3],"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"vignette-color":{"type":"color","property-type":"data-constant","default":"#ffffff","experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"center-thinning":{"type":"number","property-type":"data-constant","default":0.4,"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"direction":{"type":"array","default":[0,50],"minimum":0,"maximum":360,"length":2,"value":"number","property-type":"data-constant","transition":true,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true}},"flake-size":{"type":"number","property-type":"data-constant","default":0.71,"minimum":0,"maximum":5,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true}},"rain":{"density":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],11,0,13,0.5],"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["measure-light","brightness"],0,"#03113d",0.3,"#a8adbc"],"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"opacity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["measure-light","brightness"],0,0.88,1,0.7],"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"vignette":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],11,0,13,1],"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"vignette-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["measure-light","brightness"],0,"#001736",0.3,"#464646"],"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"center-thinning":{"type":"number","property-type":"data-constant","default":0.57,"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"direction":{"type":"array","default":[0,80],"minimum":0,"maximum":360,"length":2,"value":"number","property-type":"data-constant","transition":true,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true}},"droplet-size":{"type":"array","default":[2.6,18.2],"minimum":0,"maximum":50,"length":2,"value":"number","property-type":"data-constant","transition":true,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true}},"distortion-strength":{"type":"number","property-type":"data-constant","default":0.7,"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true}},"camera":{"camera-projection":{"type":"enum","values":{"perspective":1,"orthographic":1},"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"default":"perspective","property-type":"data-constant"}},"colorTheme":{"data":{"type":"string","property-type":"data-constant","expression":{}}},"indoor":{"floorplanFeaturesetId":{"type":"string","experimental":true,"property-type":"data-constant","expression":{}},"buildingFeaturesetId":{"type":"string","experimental":true,"property-type":"data-constant","expression":{}}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":1,"viewport":1},"property-type":"data-constant","expression":{"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":1,"equalEarth":1,"equirectangular":1,"lambertConformalConic":1,"mercator":1,"naturalEarth":1,"winkelTripel":1,"globe":1},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-180,-90],"maximum":[180,90]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-90,-90],"maximum":[90,90]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_raster-particle","paint_hillshade","paint_background","paint_sky","paint_model"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"fill-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"fill-z-offset":{"type":"number","default":0,"minimum":0,"transition":true,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-height-alignment":{"type":"enum","experimental":true,"values":{"terrain":1,"flat":1},"default":"flat","property-type":"data-constant"},"fill-extrusion-base-alignment":{"type":"enum","experimental":true,"values":{"terrain":1,"flat":1},"default":"terrain","property-type":"data-constant"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant","type":"number","default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant","type":"number","default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-wall-radius":{"property-type":"data-constant","type":"number","experimental":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-ground-radius":{"property-type":"data-constant","type":"number","experimental":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-ground-attenuation":{"property-type":"data-constant","type":"number","experimental":true,"default":0.69,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"fill-extrusion-flood-light-color":{"property-type":"data-constant","type":"color","experimental":true,"default":"#ffffff","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]}},"fill-extrusion-flood-light-intensity":{"property-type":"data-constant","type":"number","experimental":true,"default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]}},"fill-extrusion-flood-light-wall-radius":{"property-type":"data-driven","type":"number","experimental":true,"default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["feature","feature-state"]}},"fill-extrusion-flood-light-ground-radius":{"property-type":"data-driven","type":"number","experimental":true,"default":0,"transition":true,"expression":{"interpolated":true,"parameters":["feature","feature-state"]}},"fill-extrusion-flood-light-ground-attenuation":{"property-type":"data-constant","type":"number","experimental":true,"default":0.69,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"fill-extrusion-vertical-scale":{"property-type":"data-constant","type":"number","experimental":true,"default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"fill-extrusion-rounded-roof":{"property-type":"data-constant","type":"boolean","default":true,"experimental":true,"expression":{"parameters":["zoom"]}},"fill-extrusion-cutoff-fade-range":{"type":"number","default":0,"minimum":0,"maximum":1,"expression":{},"property-type":"data-constant"},"fill-extrusion-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light","feature-state"]},"property-type":"data-driven"},"fill-extrusion-line-width":{"type":"number","default":0,"minimum":0,"transition":true,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"fill-extrusion-cast-shadows":{"type":"boolean","default":true,"property-type":"data-constant"}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light","line-progress"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{"type":"resolvedImage","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{"type":"color","expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{"type":"array","value":"number","length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"property-type":"constant"},"line-trim-fade-range":{"type":"array","value":"number","experimental":true,"length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"line-trim-color":{"type":"color","experimental":true,"default":"transparent","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"line-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"line-border-width":{"type":"number","private":true,"default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-border-color":{"type":"color","private":true,"default":"rgba(0, 0, 0, 0)","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-occlusion-opacity":{"type":"number","default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"property-type":"data-constant"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":1,"viewport":1},"default":"viewport","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-occlusion-opacity":{"type":"number","minimum":0,"maximum":1,"default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-emissive-strength":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light","feature-state"]},"property-type":"data-driven"},"text-emissive-strength":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light","feature-state"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-image-cross-fade":{"type":"number","property-type":"data-driven","default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"transition":true},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-occlusion-opacity":{"type":"number","minimum":0,"maximum":1,"default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-color-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"expression":{},"property-type":"data-constant"},"icon-color-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"expression":{},"property-type":"data-constant"},"icon-color-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"expression":{},"property-type":"data-constant"},"icon-color-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"expression":{},"property-type":"data-constant"},"symbol-z-offset":{"type":"number","default":0,"minimum":0,"transition":true,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-color":{"type":"color","expression":{"interpolated":true,"parameters":["raster-value"]},"property-type":"color-ramp"},"raster-color-mix":{"type":"array","default":[0.2126,0.7152,0.0722,0],"length":4,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"raster-color-range":{"type":"array","length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":1,"nearest":1},"default":"linear","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"raster-array-band":{"type":"string","required":false,"experimental":true,"property-type":"data-constant"},"raster-elevation":{"type":"number","default":0,"minimum":0,"transition":true,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster-particle":{"raster-particle-array-band":{"type":"string","required":false,"property-type":"data-constant"},"raster-particle-count":{"type":"number","default":512,"minimum":1,"property-type":"data-constant"},"raster-particle-color":{"type":"color","expression":{"interpolated":true,"parameters":["raster-particle-speed"]},"property-type":"color-ramp"},"raster-particle-max-speed":{"type":"number","default":1,"minimum":1,"property-type":"data-constant"},"raster-particle-speed-factor":{"type":"number","default":0.2,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-particle-fade-opacity-factor":{"type":"number","default":0.98,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-particle-reset-rate-factor":{"type":"number","default":0.8,"minimum":0,"maximum":1,"property-type":"data-constant"},"raster-particle-elevation":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"viewport","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"hillshade-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"}},"paint_background":{"background-pitch-alignment":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":[]},"experimental":true,"property-type":"data-constant"},"background-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":1,"atmosphere":1},"default":"atmosphere","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"minimum":[0,0],"maximum":[360,180],"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","default":10,"minimum":0,"maximum":100,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","value":"number","default":[0,0],"length":2,"minimum":[0,0],"maximum":[360,180],"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","default":90,"minimum":0,"maximum":180,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_model":{"model-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["feature","feature-state","zoom"]},"property-type":"data-driven"},"model-rotation":{"type":"array","value":"number","length":3,"default":[0,0,0],"period":360,"property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state","zoom"]},"transition":true},"model-scale":{"type":"array","value":"number","length":3,"default":[1,1,1],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state","zoom"]},"transition":true},"model-translation":{"type":"array","value":"number","length":3,"default":[0,0,0],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state","zoom"]},"transition":true},"model-color":{"type":"color","default":"#ffffff","property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state","measure-light","zoom"]},"transition":true},"model-color-mix-intensity":{"type":"number","property-type":"data-driven","default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["feature","feature-state","measure-light"]},"transition":true},"model-type":{"type":"enum","values":{"common-3d":1,"location-indicator":1},"default":"common-3d","property-type":"data-constant"},"model-cast-shadows":{"type":"boolean","default":true,"property-type":"data-constant"},"model-receive-shadows":{"type":"boolean","default":true,"property-type":"data-constant"},"model-ambient-occlusion-intensity":{"type":"number","default":1,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant","transition":true},"model-emissive-strength":{"type":"number","property-type":"data-driven","default":0,"minimum":0,"maximum":5,"expression":{"interpolated":true,"parameters":["feature","feature-state","measure-light"]},"transition":true},"model-roughness":{"type":"number","default":1,"minimum":0,"maximum":1,"property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state"]},"transition":true},"model-height-based-emissive-strength-multiplier":{"type":"array","default":[1,1,1,1,0],"length":5,"value":"number","property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state","measure-light"]},"transition":true},"model-cutoff-fade-range":{"type":"number","default":0,"minimum":0,"maximum":1,"expression":{},"property-type":"data-constant"},"model-front-cutoff":{"type":"array","private":true,"value":"number","property-type":"data-constant","expression":{"interpolated":true,"parameters":["zoom"]},"length":3,"default":[0,0,1],"minimum":[0,0,0],"maximum":[1,1,1]}},"transition":{"duration":{"type":"number","default":300,"minimum":0},"delay":{"type":"number","default":0,"minimum":0}},"property-type":{"data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"*"}}}');function Sv(c){return c instanceof Number||c instanceof String||c instanceof Boolean?c.valueOf():c}function gh(c){if(Array.isArray(c))return c.map(gh);if(c instanceof Object&&!(c instanceof Number||c instanceof String||c instanceof Boolean)){const n={};for(const i in c)n[i]=gh(c[i]);return n}return Sv(c)}function zg(c){if(c===!0||c===!1)return!0;if(!Array.isArray(c)||c.length===0)return!1;switch(c[0]){case"has":return c.length>=2&&c[1]!=="$id"&&c[1]!=="$type";case"in":return c.length>=3&&(typeof c[1]!="string"||Array.isArray(c[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return c.length!==3||Array.isArray(c[1])||Array.isArray(c[2]);case"any":case"all":for(const n of c.slice(1))if(!zg(n)&&typeof n!="boolean")return!1;return!0;default:return!0}}function yd(c,n="",i=null,d="fill"){if(c==null)return{filter:()=>!0,needGeometry:!1,needFeature:!1};zg(c)||(c=yh(c));const g=c;let h=!0;try{h=function(x){if(!hf(x))return x;let P=gh(x);return _p(P),P=bp(P),P}(g)}catch(x){console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.
This is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md
and paste the contents of this message in the report.
Thank you!
Filter Expression:
${JSON.stringify(g,null,2)}
        `)}let v=null,w=null;if(d!=="background"&&d!=="sky"&&d!=="slot"){w=Un[`filter_${d}`];const x=lh(h,w,n,i);if(x.result==="error")throw new Error(x.value.map(P=>`${P.key}: ${P.message}`).join(", "));v=(P,$,T)=>x.value.evaluate(P,$,{},T)}let M=null,D=null;if(h!==g){const x=lh(g,w,n,i);if(x.result==="error")throw new Error(x.value.map(P=>`${P.key}: ${P.message}`).join(", "));M=(P,$,T,O,N)=>x.value.evaluate(P,$,{},T,void 0,void 0,O,N),D=!$l(x.value.expression)}return{filter:v,dynamicFilter:M||void 0,needGeometry:xp(h),needFeature:!!D}}function bp(c){if(!Array.isArray(c))return c;const n=function(i){if(vh.has(i[0])){for(let d=1;d<i.length;d++)if(hf(i[d]))return!0}return i}(c);return n===!0?n:n.map(i=>bp(i))}function _p(c){let n=!1;const i=[];if(c[0]==="case"){for(let d=1;d<c.length-1;d+=2)n=n||hf(c[d]),i.push(c[d+1]);i.push(c[c.length-1])}else if(c[0]==="match"){n=n||hf(c[1]);for(let d=2;d<c.length-1;d+=2)i.push(c[d+1]);i.push(c[c.length-1])}else if(c[0]==="step"){n=n||hf(c[1]);for(let d=1;d<c.length-1;d+=2)i.push(c[d+1])}n&&(c.length=0,c.push("any",...i));for(let d=1;d<c.length;d++)_p(c[d])}function hf(c){if(!Array.isArray(c))return!1;if((n=c[0])==="pitch"||n==="distance-from-center")return!0;var n;for(let i=1;i<c.length;i++)if(hf(c[i]))return!0;return!1}const vh=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function Lg(c,n){return c<n?-1:c>n?1:0}function xp(c){if(!Array.isArray(c))return!1;if(c[0]==="within"||c[0]==="distance")return!0;for(let n=1;n<c.length;n++)if(xp(c[n]))return!0;return!1}function yh(c){if(!c)return!0;const n=c[0];return c.length<=1?n!=="any":n==="=="?Wu(c[1],c[2],"=="):n==="!="?Gc(Wu(c[1],c[2],"==")):n==="<"||n===">"||n==="<="||n===">="?Wu(c[1],c[2],n):n==="any"?(i=c.slice(1),["any"].concat(i.map(yh))):n==="all"?["all"].concat(c.slice(1).map(yh)):n==="none"?["all"].concat(c.slice(1).map(yh).map(Gc)):n==="in"?mm(c[1],c.slice(2)):n==="!in"?Gc(mm(c[1],c.slice(2))):n==="has"?Cp(c[1]):n!=="!has"||Gc(Cp(c[1]));var i}function Wu(c,n,i){switch(c){case"$type":return[`filter-type-${i}`,n];case"$id":return[`filter-id-${i}`,n];default:return[`filter-${i}`,c,n]}}function mm(c,n){if(n.length===0)return!1;switch(c){case"$type":return["filter-type-in",["literal",n]];case"$id":return["filter-id-in",["literal",n]];default:return n.length>200&&!n.some(i=>typeof i!=typeof n[0])?["filter-in-large",c,["literal",n.sort(Lg)]]:["filter-in-small",c,["literal",n]]}}function Cp(c){switch(c){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",c]}}function Gc(c){return["!",c]}const pm="";function Tu(c,n){return n?`${c}${pm}${n}`:c}const Gu="-transition",Sp=new Set(["fill","line","background","hillshade","raster"]);class ec extends oo{constructor(n,i,d,g,h){if(super(),this.id=n.id,this.fqid=Tu(this.id,d),this.type=n.type,this.scope=d,this.lut=g,this.options=h,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,this.configDependencies=new Set,n.type!=="custom"){if(this.metadata=n.metadata,this.minzoom=n.minzoom,this.maxzoom=n.maxzoom,n.type&&n.type!=="background"&&n.type!=="sky"&&n.type!=="slot"){this.source=n.source,this.sourceLayer=n["source-layer"],this.filter=n.filter;const v=lh(this.filter,Un[`filter_${n.type}`]);v.result!=="error"&&(this.configDependencies=new Set([...this.configDependencies,...v.value.configDependencies]))}if(n.slot&&(this.slot=n.slot),i.layout&&(this._unevaluatedLayout=new df(i.layout,this.scope,h),this.configDependencies=new Set([...this.configDependencies,...this._unevaluatedLayout.configDependencies])),i.paint){this._transitionablePaint=new mh(i.paint,this.scope,h);for(const v in n.paint)this.setPaintProperty(v,n.paint[v]);for(const v in n.layout)this.setLayoutProperty(v,n.layout[v]);this.configDependencies=new Set([...this.configDependencies,...this._transitionablePaint.configDependencies]),this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Nd(i.paint)}}}onAdd(n){}onRemove(n){}isDraped(n){return!this.is3D()&&Sp.has(this.type)}getLayoutProperty(n){return n==="visibility"?this.visibility:this._unevaluatedLayout.getValue(n)}setLayoutProperty(n,i){if(this.type==="custom"&&n==="visibility")return void(this.visibility=i);const d=this._unevaluatedLayout;d._properties.properties[n]&&(d.setValue(n,i),this.configDependencies=new Set([...this.configDependencies,...d.configDependencies]),n==="visibility"&&this.possiblyEvaluateVisibility())}possiblyEvaluateVisibility(){this._unevaluatedLayout._values.visibility&&(this.visibility=this._unevaluatedLayout._values.visibility.possiblyEvaluate({zoom:0}))}getPaintProperty(n){return yr(n,Gu)?this._transitionablePaint.getTransition(n.slice(0,-11)):this._transitionablePaint.getValue(n)}setPaintProperty(n,i){const d=this._transitionablePaint,g=d._properties.properties;if(yr(n,Gu)){const P=n.slice(0,-11);return g[P]&&d.setTransition(P,i||void 0),!1}if(!g[n])return!1;const h=d._values[n],v=h.value.isDataDriven(),w=h.value;d.setValue(n,i),this.configDependencies=new Set([...this.configDependencies,...d.configDependencies]),this._handleSpecialPaintPropertyUpdate(n);const M=d._values[n].value,D=M.isDataDriven(),x=yr(n,"pattern")||n==="line-dasharray";return D||v||x||this._handleOverridablePaintPropertyUpdate(n,w,M)}_handleSpecialPaintPropertyUpdate(n){}getProgramIds(){return null}getDefaultProgramParams(n,i,d){return null}_handleOverridablePaintPropertyUpdate(n,i,d){return!1}isHidden(n){return!!(this.minzoom&&n<this.minzoom)||!!(this.maxzoom&&n>=this.maxzoom)||this.visibility==="none"}updateTransitions(n){this._transitioningPaint=this._transitionablePaint.transitioned(n,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(n,i){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(n,void 0,i)),this.paint=this._transitioningPaint.possiblyEvaluate(n,void 0,i)}serialize(){return Xn({id:this.id,type:this.type,slot:this.slot,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()},(n,i)=>!(n===void 0||i==="layout"&&!Object.keys(n).length||i==="paint"&&!Object.keys(n).length))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}hasShadowPass(){return!1}canCastShadows(){return!1}hasLightBeamPass(){return!1}cutoffRange(){return 0}tileCoverLift(){return 0}resize(){}isStateDependent(){for(const n in this.paint._values){const i=this.paint.get(n);if(i instanceof ph&&il(i.property.specification)&&(i.value.kind==="source"||i.value.kind==="composite")&&i.value.isStateDependent)return!0}return!1}compileFilter(n){this._filterCompiled||(this._featureFilter=yd(this.filter,this.scope,n),this._filterCompiled=!0)}invalidateCompiledFilter(){this._filterCompiled=!1}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}getLayerRenderingStats(){return this._stats}resetLayerRenderingStats(n){this._stats&&(n.renderPass==="shadow"?this._stats.numRenderedVerticesInShadowPass=0:this._stats.numRenderedVerticesInTransparentPass=0)}queryRadius(n){}queryIntersectsFeature(n,i,d,g,h,v,w,M,D){}}const wv={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class mf{constructor(n,i){this._structArray=n,this._pos1=i*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Ks{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(n,i){return n._trim(),i&&(n.isTransferred=!0,i.add(n.arrayBuffer)),{length:n.length,arrayBuffer:n.arrayBuffer}}static deserialize(n){const i=Object.create(this.prototype);return i.arrayBuffer=n.arrayBuffer,i.length=n.length,i.capacity=n.arrayBuffer.byteLength/i.bytesPerElement,i._refreshViews(),i}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(n){this.reserve(n),this.length=n}reserve(n){if(n>this.capacity){this.capacity=Math.max(n,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const i=this.uint8;this._refreshViews(),i&&this.uint8.set(i)}}_refreshViews(){throw new Error("StructArray#_refreshViews() must be implemented by each concrete StructArray layout")}emplace(...n){throw new Error("StructArray#emplace() must be implemented by each concrete StructArray layout")}emplaceBack(...n){throw new Error("StructArray#emplaceBack() must be implemented by each concrete StructArray layout")}destroy(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null}}function Ss(c,n=1){let i=0,d=0;return{members:c.map(g=>{const h=wv[g.type].BYTES_PER_ELEMENT,v=i=Ng(i,Math.max(n,h)),w=g.components||1;return d=Math.max(d,h),i+=h*w,{name:g.name,type:g.type,components:w,offset:v}}),size:Ng(i,Math.max(d,n)),alignment:n}}function Ng(c,n){return Math.ceil(c/n)*n}class Xu extends Ks{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,i){const d=this.length;return this.resize(d+1),this.emplace(d,n,i)}emplace(n,i,d){const g=2*n;return this.int16[g+0]=i,this.int16[g+1]=d,n}}Xu.prototype.bytesPerElement=4,lo(Xu,"StructArrayLayout2i4");class pf extends Ks{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,i,d){const g=this.length;return this.resize(g+1),this.emplace(g,n,i,d)}emplace(n,i,d,g){const h=3*n;return this.int16[h+0]=i,this.int16[h+1]=d,this.int16[h+2]=g,n}}pf.prototype.bytesPerElement=6,lo(pf,"StructArrayLayout3i6");class Ku extends Ks{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,i,d,g){const h=this.length;return this.resize(h+1),this.emplace(h,n,i,d,g)}emplace(n,i,d,g,h){const v=4*n;return this.int16[v+0]=i,this.int16[v+1]=d,this.int16[v+2]=g,this.int16[v+3]=h,n}}Ku.prototype.bytesPerElement=8,lo(Ku,"StructArrayLayout4i8");class gm extends Ks{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h){const v=this.length;return this.resize(v+1),this.emplace(v,n,i,d,g,h)}emplace(n,i,d,g,h,v){const w=5*n;return this.int16[w+0]=i,this.int16[w+1]=d,this.int16[w+2]=g,this.int16[w+3]=h,this.int16[w+4]=v,n}}gm.prototype.bytesPerElement=10,lo(gm,"StructArrayLayout5i10");class vm extends Ks{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h,v,w){const M=this.length;return this.resize(M+1),this.emplace(M,n,i,d,g,h,v,w)}emplace(n,i,d,g,h,v,w,M){const D=6*n,x=12*n,P=3*n;return this.int16[D+0]=i,this.int16[D+1]=d,this.uint8[x+4]=g,this.uint8[x+5]=h,this.uint8[x+6]=v,this.uint8[x+7]=w,this.float32[P+2]=M,n}}vm.prototype.bytesPerElement=12,lo(vm,"StructArrayLayout2i4ub1f12");class Mu extends Ks{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,i,d){const g=this.length;return this.resize(g+1),this.emplace(g,n,i,d)}emplace(n,i,d,g){const h=3*n;return this.float32[h+0]=i,this.float32[h+1]=d,this.float32[h+2]=g,n}}Mu.prototype.bytesPerElement=12,lo(Mu,"StructArrayLayout3f12");class fc extends Ks{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h){const v=this.length;return this.resize(v+1),this.emplace(v,n,i,d,g,h)}emplace(n,i,d,g,h,v){const w=6*n,M=3*n;return this.uint16[w+0]=i,this.uint16[w+1]=d,this.uint16[w+2]=g,this.uint16[w+3]=h,this.float32[M+2]=v,n}}fc.prototype.bytesPerElement=12,lo(fc,"StructArrayLayout4ui1f12");class ym extends Ks{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,i,d,g){const h=this.length;return this.resize(h+1),this.emplace(h,n,i,d,g)}emplace(n,i,d,g,h){const v=4*n;return this.uint16[v+0]=i,this.uint16[v+1]=d,this.uint16[v+2]=g,this.uint16[v+3]=h,n}}ym.prototype.bytesPerElement=8,lo(ym,"StructArrayLayout4ui8");class gf extends Ks{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h,v){const w=this.length;return this.resize(w+1),this.emplace(w,n,i,d,g,h,v)}emplace(n,i,d,g,h,v,w){const M=6*n;return this.int16[M+0]=i,this.int16[M+1]=d,this.int16[M+2]=g,this.int16[M+3]=h,this.int16[M+4]=v,this.int16[M+5]=w,n}}gf.prototype.bytesPerElement=12,lo(gf,"StructArrayLayout6i12");class bm extends Ks{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h,v,w,M,D,x,P,$){const T=this.length;return this.resize(T+1),this.emplace(T,n,i,d,g,h,v,w,M,D,x,P,$)}emplace(n,i,d,g,h,v,w,M,D,x,P,$,T){const O=12*n;return this.int16[O+0]=i,this.int16[O+1]=d,this.int16[O+2]=g,this.int16[O+3]=h,this.uint16[O+4]=v,this.uint16[O+5]=w,this.uint16[O+6]=M,this.uint16[O+7]=D,this.int16[O+8]=x,this.int16[O+9]=P,this.int16[O+10]=$,this.int16[O+11]=T,n}}bm.prototype.bytesPerElement=24,lo(bm,"StructArrayLayout4i4ui4i24");class _m extends Ks{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h,v){const w=this.length;return this.resize(w+1),this.emplace(w,n,i,d,g,h,v)}emplace(n,i,d,g,h,v,w){const M=10*n,D=5*n;return this.int16[M+0]=i,this.int16[M+1]=d,this.int16[M+2]=g,this.float32[D+2]=h,this.float32[D+3]=v,this.float32[D+4]=w,n}}_m.prototype.bytesPerElement=20,lo(_m,"StructArrayLayout3i3f20");class Bd extends Ks{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,i,d,g){const h=this.length;return this.resize(h+1),this.emplace(h,n,i,d,g)}emplace(n,i,d,g,h){const v=4*n;return this.float32[v+0]=i,this.float32[v+1]=d,this.float32[v+2]=g,this.float32[v+3]=h,n}}Bd.prototype.bytesPerElement=16,lo(Bd,"StructArrayLayout4f16");class wp extends Ks{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(n){const i=this.length;return this.resize(i+1),this.emplace(i,n)}emplace(n,i){return this.uint32[1*n+0]=i,n}}wp.prototype.bytesPerElement=4,lo(wp,"StructArrayLayout1ul4");class Fd extends Ks{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,i){const d=this.length;return this.resize(d+1),this.emplace(d,n,i)}emplace(n,i,d){const g=2*n;return this.uint16[g+0]=i,this.uint16[g+1]=d,n}}Fd.prototype.bytesPerElement=4,lo(Fd,"StructArrayLayout2ui4");class bh extends Ks{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h,v,w,M,D,x,P,$,T){const O=this.length;return this.resize(O+1),this.emplace(O,n,i,d,g,h,v,w,M,D,x,P,$,T)}emplace(n,i,d,g,h,v,w,M,D,x,P,$,T,O){const N=20*n,G=10*n;return this.int16[N+0]=i,this.int16[N+1]=d,this.int16[N+2]=g,this.int16[N+3]=h,this.int16[N+4]=v,this.float32[G+3]=w,this.float32[G+4]=M,this.float32[G+5]=D,this.float32[G+6]=x,this.int16[N+14]=P,this.uint32[G+8]=$,this.uint16[N+18]=T,this.uint16[N+19]=O,n}}bh.prototype.bytesPerElement=40,lo(bh,"StructArrayLayout5i4f1i1ul2ui40");class xm extends Ks{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h,v,w){const M=this.length;return this.resize(M+1),this.emplace(M,n,i,d,g,h,v,w)}emplace(n,i,d,g,h,v,w,M){const D=8*n;return this.int16[D+0]=i,this.int16[D+1]=d,this.int16[D+2]=g,this.int16[D+4]=h,this.int16[D+5]=v,this.int16[D+6]=w,this.int16[D+7]=M,n}}xm.prototype.bytesPerElement=16,lo(xm,"StructArrayLayout3i2i2i16");class Cm extends Ks{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h){const v=this.length;return this.resize(v+1),this.emplace(v,n,i,d,g,h)}emplace(n,i,d,g,h,v){const w=4*n,M=8*n;return this.float32[w+0]=i,this.float32[w+1]=d,this.float32[w+2]=g,this.int16[M+6]=h,this.int16[M+7]=v,n}}Cm.prototype.bytesPerElement=16,lo(Cm,"StructArrayLayout2f1f2i16");class Bg extends Ks{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h,v){const w=this.length;return this.resize(w+1),this.emplace(w,n,i,d,g,h,v)}emplace(n,i,d,g,h,v,w){const M=20*n,D=5*n;return this.uint8[M+0]=i,this.uint8[M+1]=d,this.float32[D+1]=g,this.float32[D+2]=h,this.float32[D+3]=v,this.float32[D+4]=w,n}}Bg.prototype.bytesPerElement=20,lo(Bg,"StructArrayLayout2ub4f20");class oc extends Ks{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,i,d){const g=this.length;return this.resize(g+1),this.emplace(g,n,i,d)}emplace(n,i,d,g){const h=3*n;return this.uint16[h+0]=i,this.uint16[h+1]=d,this.uint16[h+2]=g,n}}oc.prototype.bytesPerElement=6,lo(oc,"StructArrayLayout3ui6");class Ep extends Ks{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h,v,w,M,D,x,P,$,T,O,N,G,q,se,ce,te,pe){const Ce=this.length;return this.resize(Ce+1),this.emplace(Ce,n,i,d,g,h,v,w,M,D,x,P,$,T,O,N,G,q,se,ce,te,pe)}emplace(n,i,d,g,h,v,w,M,D,x,P,$,T,O,N,G,q,se,ce,te,pe,Ce){const Re=30*n,it=15*n,nt=60*n;return this.int16[Re+0]=i,this.int16[Re+1]=d,this.int16[Re+2]=g,this.float32[it+2]=h,this.float32[it+3]=v,this.uint16[Re+8]=w,this.uint16[Re+9]=M,this.uint32[it+5]=D,this.uint32[it+6]=x,this.uint32[it+7]=P,this.uint16[Re+16]=$,this.uint16[Re+17]=T,this.uint16[Re+18]=O,this.float32[it+10]=N,this.float32[it+11]=G,this.uint8[nt+48]=q,this.uint8[nt+49]=se,this.uint8[nt+50]=ce,this.uint32[it+13]=te,this.int16[Re+28]=pe,this.uint8[nt+58]=Ce,n}}Ep.prototype.bytesPerElement=60,lo(Ep,"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60");class Ip extends Ks{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h,v,w,M,D,x,P,$,T,O,N,G,q,se,ce,te,pe,Ce,Re,it,nt,et,Lt,ut,Zt,on,Wt,cn){const wn=this.length;return this.resize(wn+1),this.emplace(wn,n,i,d,g,h,v,w,M,D,x,P,$,T,O,N,G,q,se,ce,te,pe,Ce,Re,it,nt,et,Lt,ut,Zt,on,Wt,cn)}emplace(n,i,d,g,h,v,w,M,D,x,P,$,T,O,N,G,q,se,ce,te,pe,Ce,Re,it,nt,et,Lt,ut,Zt,on,Wt,cn,wn){const Nn=20*n,vn=40*n,xr=80*n;return this.float32[Nn+0]=i,this.float32[Nn+1]=d,this.int16[vn+4]=g,this.int16[vn+5]=h,this.int16[vn+6]=v,this.int16[vn+7]=w,this.int16[vn+8]=M,this.int16[vn+9]=D,this.int16[vn+10]=x,this.int16[vn+11]=P,this.int16[vn+12]=$,this.uint16[vn+13]=T,this.uint16[vn+14]=O,this.uint16[vn+15]=N,this.uint16[vn+16]=G,this.uint16[vn+17]=q,this.uint16[vn+18]=se,this.uint16[vn+19]=ce,this.uint16[vn+20]=te,this.uint16[vn+21]=pe,this.uint16[vn+22]=Ce,this.uint16[vn+23]=Re,this.uint16[vn+24]=it,this.uint16[vn+25]=nt,this.uint16[vn+26]=et,this.uint16[vn+27]=Lt,this.uint32[Nn+14]=ut,this.float32[Nn+15]=Zt,this.float32[Nn+16]=on,this.float32[Nn+17]=Wt,this.float32[Nn+18]=cn,this.uint8[xr+76]=wn,n}}Ip.prototype.bytesPerElement=80,lo(Ip,"StructArrayLayout2f9i15ui1ul4f1ub80");class _h extends Ks{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n){const i=this.length;return this.resize(i+1),this.emplace(i,n)}emplace(n,i){return this.float32[1*n+0]=i,n}}_h.prototype.bytesPerElement=4,lo(_h,"StructArrayLayout1f4");class bd extends Ks{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h){const v=this.length;return this.resize(v+1),this.emplace(v,n,i,d,g,h)}emplace(n,i,d,g,h,v){const w=5*n;return this.float32[w+0]=i,this.float32[w+1]=d,this.float32[w+2]=g,this.float32[w+3]=h,this.float32[w+4]=v,n}}bd.prototype.bytesPerElement=20,lo(bd,"StructArrayLayout5f20");class xh extends Ks{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h,v,w){const M=this.length;return this.resize(M+1),this.emplace(M,n,i,d,g,h,v,w)}emplace(n,i,d,g,h,v,w,M){const D=7*n;return this.float32[D+0]=i,this.float32[D+1]=d,this.float32[D+2]=g,this.float32[D+3]=h,this.float32[D+4]=v,this.float32[D+5]=w,this.float32[D+6]=M,n}}xh.prototype.bytesPerElement=28,lo(xh,"StructArrayLayout7f28");class Pu extends Ks{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h,v,w,M,D,x,P){const $=this.length;return this.resize($+1),this.emplace($,n,i,d,g,h,v,w,M,D,x,P)}emplace(n,i,d,g,h,v,w,M,D,x,P,$){const T=11*n;return this.float32[T+0]=i,this.float32[T+1]=d,this.float32[T+2]=g,this.float32[T+3]=h,this.float32[T+4]=v,this.float32[T+5]=w,this.float32[T+6]=M,this.float32[T+7]=D,this.float32[T+8]=x,this.float32[T+9]=P,this.float32[T+10]=$,n}}Pu.prototype.bytesPerElement=44,lo(Pu,"StructArrayLayout11f44");class Sm extends Ks{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h,v,w,M,D){const x=this.length;return this.resize(x+1),this.emplace(x,n,i,d,g,h,v,w,M,D)}emplace(n,i,d,g,h,v,w,M,D,x){const P=9*n;return this.float32[P+0]=i,this.float32[P+1]=d,this.float32[P+2]=g,this.float32[P+3]=h,this.float32[P+4]=v,this.float32[P+5]=w,this.float32[P+6]=M,this.float32[P+7]=D,this.float32[P+8]=x,n}}Sm.prototype.bytesPerElement=36,lo(Sm,"StructArrayLayout9f36");class vf extends Ks{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,i){const d=this.length;return this.resize(d+1),this.emplace(d,n,i)}emplace(n,i,d){const g=2*n;return this.float32[g+0]=i,this.float32[g+1]=d,n}}vf.prototype.bytesPerElement=8,lo(vf,"StructArrayLayout2f8");class Tp extends Ks{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,i,d,g){const h=this.length;return this.resize(h+1),this.emplace(h,n,i,d,g)}emplace(n,i,d,g,h){const v=6*n;return this.uint32[3*n+0]=i,this.uint16[v+2]=d,this.uint16[v+3]=g,this.uint16[v+4]=h,n}}Tp.prototype.bytesPerElement=12,lo(Tp,"StructArrayLayout1ul3ui12");class Mp extends Ks{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n){const i=this.length;return this.resize(i+1),this.emplace(i,n)}emplace(n,i){return this.uint16[1*n+0]=i,n}}Mp.prototype.bytesPerElement=2,lo(Mp,"StructArrayLayout1ui2");class yf extends Ks{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h,v,w,M,D,x,P,$,T,O,N,G){const q=this.length;return this.resize(q+1),this.emplace(q,n,i,d,g,h,v,w,M,D,x,P,$,T,O,N,G)}emplace(n,i,d,g,h,v,w,M,D,x,P,$,T,O,N,G,q){const se=16*n;return this.float32[se+0]=i,this.float32[se+1]=d,this.float32[se+2]=g,this.float32[se+3]=h,this.float32[se+4]=v,this.float32[se+5]=w,this.float32[se+6]=M,this.float32[se+7]=D,this.float32[se+8]=x,this.float32[se+9]=P,this.float32[se+10]=$,this.float32[se+11]=T,this.float32[se+12]=O,this.float32[se+13]=N,this.float32[se+14]=G,this.float32[se+15]=q,n}}yf.prototype.bytesPerElement=64,lo(yf,"StructArrayLayout16f64");class bf extends Ks{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h,v,w){const M=this.length;return this.resize(M+1),this.emplace(M,n,i,d,g,h,v,w)}emplace(n,i,d,g,h,v,w,M){const D=10*n,x=5*n;return this.uint16[D+0]=i,this.uint16[D+1]=d,this.uint16[D+2]=g,this.uint16[D+3]=h,this.float32[x+2]=v,this.float32[x+3]=w,this.float32[x+4]=M,n}}bf.prototype.bytesPerElement=20,lo(bf,"StructArrayLayout4ui3f20");class _f extends Ks{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n){const i=this.length;return this.resize(i+1),this.emplace(i,n)}emplace(n,i){return this.int16[1*n+0]=i,n}}_f.prototype.bytesPerElement=2,lo(_f,"StructArrayLayout1i2");class Pp extends Ks{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer)}emplaceBack(n){const i=this.length;return this.resize(i+1),this.emplace(i,n)}emplace(n,i){return this.uint8[1*n+0]=i,n}}Pp.prototype.bytesPerElement=1,lo(Pp,"StructArrayLayout1ub1");class Op extends mf{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}Op.prototype.size=40;class Rp extends bh{get(n){return new Op(this,n)}}lo(Rp,"CollisionBoxArray");class Ch extends mf{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(n){this._structArray.uint8[this._pos1+49]=n}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(n){this._structArray.uint8[this._pos1+50]=n}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(n){this._structArray.uint32[this._pos4+13]=n}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(n){this._structArray.uint8[this._pos1+58]=n}}Ch.prototype.size=60;class Fg extends Ep{get(n){return new Ch(this,n)}}lo(Fg,"PlacedSymbolArray");class Ev extends mf{get tileAnchorX(){return this._structArray.float32[this._pos4+0]}get tileAnchorY(){return this._structArray.float32[this._pos4+1]}get projectedAnchorX(){return this._structArray.int16[this._pos2+4]}get projectedAnchorY(){return this._structArray.int16[this._pos2+5]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+6]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+7]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+11]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get key(){return this._structArray.uint16[this._pos2+13]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+14]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+15]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+17]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+19]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+21]}get featureIndex(){return this._structArray.uint16[this._pos2+22]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+23]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numIconVertices(){return this._structArray.uint16[this._pos2+25]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+26]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+27]}get crossTileID(){return this._structArray.uint32[this._pos4+14]}set crossTileID(n){this._structArray.uint32[this._pos4+14]=n}get textOffset0(){return this._structArray.float32[this._pos4+15]}get textOffset1(){return this._structArray.float32[this._pos4+16]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+17]}get zOffset(){return this._structArray.float32[this._pos4+18]}set zOffset(n){this._structArray.float32[this._pos4+18]=n}get hasIconTextFit(){return this._structArray.uint8[this._pos1+76]}}Ev.prototype.size=80;class kg extends Ip{get(n){return new Ev(this,n)}}lo(kg,"SymbolInstanceArray");class Iv extends _h{getoffsetX(n){return this.float32[1*n+0]}}lo(Iv,"GlyphOffsetArray");class jg extends Xu{getx(n){return this.int16[2*n+0]}gety(n){return this.int16[2*n+1]}}lo(jg,"SymbolLineVertexArray");class xf extends mf{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}xf.prototype.size=12;class Sh extends Tp{get(n){return new xf(this,n)}}lo(Sh,"FeatureIndexArray");class zl extends Fd{geta_centroid_pos0(n){return this.uint16[2*n+0]}geta_centroid_pos1(n){return this.uint16[2*n+1]}}lo(zl,"FillExtrusionCentroidArray");class ou extends mf{get a_join_normal_inside0(){return this._structArray.int16[this._pos2+0]}get a_join_normal_inside1(){return this._structArray.int16[this._pos2+1]}get a_join_normal_inside2(){return this._structArray.int16[this._pos2+2]}}ou.prototype.size=6;class ac extends pf{get(n){return new ou(this,n)}}lo(ac,"FillExtrusionWallArray");const Zg=Ss([{name:"a_pos",components:2,type:"Int16"}],4),Vg=Ss([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]);class gl{constructor(n=[]){this.segments=n}_prepareSegment(n,i,d,g){let h=this.segments[this.segments.length-1];return n>gl.MAX_VERTEX_ARRAY_LENGTH&&Ln(`Max vertices per segment is ${gl.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${n}`),(!h||h.vertexLength+n>gl.MAX_VERTEX_ARRAY_LENGTH||h.sortKey!==g)&&(h={vertexOffset:i,primitiveOffset:d,vertexLength:0,primitiveLength:0},g!==void 0&&(h.sortKey=g),this.segments.push(h)),h}prepareSegment(n,i,d,g){return this._prepareSegment(n,i.length,d.length,g)}get(){return this.segments}destroy(){for(const n of this.segments)for(const i in n.vaos)n.vaos[i].destroy()}static simpleSegment(n,i,d,g){return new gl([{vertexOffset:n,primitiveOffset:i,vertexLength:d,primitiveLength:g,vaos:{},sortKey:0}])}}function $p(c,n){return 256*(c=Vn(Math.floor(c),0,255))+Vn(Math.floor(n),0,255)}gl.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,lo(gl,"SegmentVector");const Hg=Ss([{name:"a_pattern",components:4,type:"Uint16"},{name:"a_pixel_ratio",components:1,type:"Float32"}]),Ap=Ss([{name:"a_dash",components:4,type:"Uint16"}]);class wh{constructor(){this.ids=[],this.uniqueIds=[],this.positions=[],this.indexed=!1}add(n,i,d,g){this.ids.push(wm(n)),this.positions.push(i,d,g)}eachPosition(n,i){const d=wm(n);let g=0,h=this.ids.length-1;for(;g<h;){const v=g+h>>1;this.ids[v]>=d?h=v:g=v+1}for(;this.ids[g]===d;)i(this.positions[3*g],this.positions[3*g+1],this.positions[3*g+2]),g++}static serialize(n,i){const d=new Float64Array(n.ids),g=new Uint32Array(n.positions);return Eh(d,g,0,d.length-1),i&&(i.add(d.buffer),i.add(g.buffer)),{ids:d,positions:g}}static deserialize(n){const i=new wh;let d;i.ids=n.ids,i.positions=n.positions;for(const g of i.ids)g!==d&&i.uniqueIds.push(g),d=g;return i.indexed=!0,i}}function wm(c){const n=+c;return!isNaN(n)&&Number.MIN_SAFE_INTEGER<=n&&n<=Number.MAX_SAFE_INTEGER?n:$o(String(c))}function Eh(c,n,i,d){for(;i<d;){const g=c[i+d>>1];let h=i-1,v=d+1;for(;;){do h++;while(c[h]<g);do v--;while(c[v]>g);if(h>=v)break;_d(c,h,v),_d(n,3*h,3*v),_d(n,3*h+1,3*v+1),_d(n,3*h+2,3*v+2)}v-i<d-v?(Eh(c,n,i,v),i=v+1):(Eh(c,n,v+1,d),d=v)}}function _d(c,n,i){const d=c[n];c[n]=c[i],c[i]=d}lo(wh,"FeaturePositionMap");class Ec{constructor(n){this.gl=n.gl,this.initialized=!1}fetchUniformLocation(n,i){return this.location||this.initialized||(this.location=this.gl.getUniformLocation(n,i),this.initialized=!0),!!this.location}set(n,i,d){throw new Error("Uniform#set() must be implemented by each concrete Uniform")}}class Em extends Ec{constructor(n){super(n),this.current=0}set(n,i,d){this.fetchUniformLocation(n,i)&&this.current!==d&&(this.current=d,this.gl.uniform1i(this.location,d))}}class dl extends Ec{constructor(n){super(n),this.current=0}set(n,i,d){this.fetchUniformLocation(n,i)&&this.current!==d&&(this.current=d,this.gl.uniform1f(this.location,d))}}class au extends Ec{constructor(n){super(n),this.current=[0,0]}set(n,i,d){this.fetchUniformLocation(n,i)&&(d[0]===this.current[0]&&d[1]===this.current[1]||(this.current=d,this.gl.uniform2f(this.location,d[0],d[1])))}}class Cf extends Ec{constructor(n){super(n),this.current=[0,0,0]}set(n,i,d){this.fetchUniformLocation(n,i)&&(d[0]===this.current[0]&&d[1]===this.current[1]&&d[2]===this.current[2]||(this.current=d,this.gl.uniform3f(this.location,d[0],d[1],d[2])))}}class Ih extends Ec{constructor(n){super(n),this.current=[0,0,0,0]}set(n,i,d){this.fetchUniformLocation(n,i)&&(d[0]===this.current[0]&&d[1]===this.current[1]&&d[2]===this.current[2]&&d[3]===this.current[3]||(this.current=d,this.gl.uniform4f(this.location,d[0],d[1],d[2],d[3])))}}class Dp extends Ec{constructor(n){super(n),this.current=to.transparent.toRenderColor(null)}set(n,i,d){this.fetchUniformLocation(n,i)&&(d.r===this.current.r&&d.g===this.current.g&&d.b===this.current.b&&d.a===this.current.a||(this.current=d,this.gl.uniform4f(this.location,d.r,d.g,d.b,d.a)))}}const Ug=new Float32Array(16);class Th extends Ec{constructor(n){super(n),this.current=Ug}set(n,i,d){if(this.fetchUniformLocation(n,i)){if(d[12]!==this.current[12]||d[0]!==this.current[0])return this.current=d,void this.gl.uniformMatrix4fv(this.location,!1,d);for(let g=1;g<16;g++)if(d[g]!==this.current[g]){this.current=d,this.gl.uniformMatrix4fv(this.location,!1,d);break}}}}const Wg=new Float32Array(9),Gg=new Float32Array(4);class Mh extends Ec{constructor(n){super(n),this.current=Gg}set(n,i,d){if(this.fetchUniformLocation(n,i)){for(let g=0;g<4;g++)if(d[g]!==this.current[g]){this.current=d,this.gl.uniformMatrix2fv(this.location,!1,d);break}}}}function Im(c){return[$p(255*c.r,255*c.g),$p(255*c.b,255*c.a)]}class Sf{constructor(n,i,d,g){this.value=n,this.uniformNames=i.map(h=>`u_${h}`),this.type=d,this.context=g}setUniform(n,i,d,g,h){const v=g.constantOr(this.value);i.set(n,h,v instanceof to?v.toRenderColor(this.ignoreLut?null:this.context.lut):v)}getBinding(n,i){return this.type==="color"?new Dp(n):new dl(n)}}class kd{constructor(n,i){this.uniformNames=i.map(d=>`u_${d}`),this.pattern=null,this.pixelRatio=1}setConstantPatternPositions(n){this.pixelRatio=n.pixelRatio||1,this.pattern=n.tl.concat(n.br)}setUniform(n,i,d,g,h){const v=h==="u_pattern"||h==="u_dash"?this.pattern:h==="u_pixel_ratio"?this.pixelRatio:null;v&&i.set(n,h,v)}getBinding(n,i){return i==="u_pattern"||i==="u_dash"?new Ih(n):new dl(n)}}class Ou{constructor(n,i,d,g){this.expression=n,this.type=d,this.maxValue=0,this.paintVertexAttributes=i.map(h=>({name:`a_${h}`,type:"Float32",components:d==="color"?2:1,offset:0})),this.paintVertexArray=new g}populatePaintArray(n,i,d,g,h,v,w){const M=this.paintVertexArray.length,D=this.expression.kind==="composite"||this.expression.kind==="source"?this.expression.evaluate(new Ws(0,{brightness:v}),i,{},h,g,w):this.expression.kind==="constant"&&this.expression.value;!this.lutExpression||this.lutExpression.kind!=="composite"&&this.lutExpression.kind!=="source"||(this.ignoreLut=this.lutExpression.evaluate(new Ws(0,{brightness:v}),i,{},h,g,w)==="none"),this.paintVertexArray.resize(n),this._setPaintValue(M,n,D,this.context)}updatePaintArray(n,i,d,g,h,v,w){const M=this.expression.kind==="composite"||this.expression.kind==="source"?this.expression.evaluate({zoom:0,brightness:w},d,g,void 0,h):this.expression.kind==="constant"&&this.expression.value;!this.lutExpression||this.lutExpression.kind!=="composite"&&this.lutExpression.kind!=="source"||(this.ignoreLut=this.lutExpression.evaluate({zoom:0,brightness:w},d,g,void 0,h)==="none"),this._setPaintValue(n,i,M,this.context)}_setPaintValue(n,i,d,g){if(this.type==="color"){const h=Im(d.toRenderColor(this.ignoreLut?null:g.lut));for(let v=n;v<i;v++)this.paintVertexArray.emplace(v,h[0],h[1])}else{for(let h=n;h<i;h++)this.paintVertexArray.emplace(h,d);this.maxValue=Math.max(this.maxValue,Math.abs(d))}}upload(n){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=n.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.lutExpression&&this.lutExpression.kind!=="constant"&&(this.lutExpression.isStateDependent||!this.lutExpression.isLightConstant)||this.expression.kind!=="constant"&&(this.expression.isStateDependent||!this.expression.isLightConstant)))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class bu{constructor(n,i,d,g,h,v){this.expression=n,this.uniformNames=i.map(w=>`u_${w}_t`),this.type=d,this.useIntegerZoom=g,this.context=h,this.maxValue=0,this.paintVertexAttributes=i.map(w=>({name:`a_${w}`,type:"Float32",components:d==="color"?4:2,offset:0})),this.paintVertexArray=new v}populatePaintArray(n,i,d,g,h,v,w){const M=this.expression.evaluate(new Ws(this.context.zoom,{brightness:v}),i,{},h,g,w),D=this.expression.evaluate(new Ws(this.context.zoom+1,{brightness:v}),i,{},h,g,w);!this.lutExpression||this.lutExpression.kind!=="composite"&&this.lutExpression.kind!=="source"||(this.ignoreLut=this.lutExpression.evaluate(new Ws(this.context.zoom,{brightness:v}),i,{},h,g,w)==="none");const x=this.paintVertexArray.length;this.paintVertexArray.resize(n),this._setPaintValue(x,n,M,D,this.context)}updatePaintArray(n,i,d,g,h,v,w){const M=this.expression.evaluate({zoom:this.context.zoom,brightness:w},d,g,void 0,h),D=this.expression.evaluate({zoom:this.context.zoom+1,brightness:w},d,g,void 0,h);!this.lutExpression||this.lutExpression.kind!=="composite"&&this.lutExpression.kind!=="source"||(this.ignoreLut=this.lutExpression.evaluate({zoom:this.context.zoom,brightness:w},d,g,void 0,h)==="none"),this._setPaintValue(n,i,M,D,this.context)}_setPaintValue(n,i,d,g,h){if(this.type==="color"){const v=Im(d.toRenderColor(this.ignoreLut?null:h.lut)),w=Im(d.toRenderColor(this.ignoreLut?null:h.lut));for(let M=n;M<i;M++)this.paintVertexArray.emplace(M,v[0],v[1],w[0],w[1])}else{for(let v=n;v<i;v++)this.paintVertexArray.emplace(v,d,g);this.maxValue=Math.max(this.maxValue,Math.abs(d),Math.abs(g))}}upload(n){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=n.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent||!this.expression.isLightConstant))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(n,i,d,g,h){const v=this.useIntegerZoom?Math.floor(d.zoom):d.zoom,w=Vn(this.expression.interpolationFactor(v,this.context.zoom,this.context.zoom+1),0,1);i.set(n,h,w)}getBinding(n,i){return new dl(n)}}class xd{constructor(n,i,d,g,h){this.expression=n,this.layerId=h,this.paintVertexAttributes=(d==="array"?Ap:Hg).members;for(let v=0;v<i.length;++v);this.paintVertexArray=new g}populatePaintArray(n,i,d,g){const h=this.paintVertexArray.length;this.paintVertexArray.resize(n),this._setPaintValues(h,n,i.patterns&&i.patterns[this.layerId],d)}updatePaintArray(n,i,d,g,h,v,w){this._setPaintValues(n,i,d.patterns&&d.patterns[this.layerId],v)}_setPaintValues(n,i,d,g){if(!g||!d)return;const h=g[d];if(!h)return;const{tl:v,br:w,pixelRatio:M}=h;for(let D=n;D<i;D++)this.paintVertexArray.emplace(D,v[0],v[1],w[0],w[1],M)}upload(n){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer=n.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent||!this.expression.isLightConstant))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class jd{constructor(n,i,d=()=>!0){this.binders={},this._buffers=[],this.context=i;const g=[];for(const h in n.paint._values){const v=n.paint.get(h),w=n.paint.get(`${h}-use-theme`);if(h.endsWith("-use-theme")||!d(h)||!(v instanceof ph&&il(v.property.specification)))continue;const M=Xg(h,n.type),D=v.value,x=v.property.specification.type,P=!!v.property.useIntegerZoom,$=h==="line-dasharray"||h.endsWith("pattern"),T=h==="line-dasharray"&&n.layout.get("line-cap").value.kind!=="constant"||w&&w.value.kind!=="constant";if(D.kind!=="constant"||T)if(D.kind==="source"||T||$){const O=Kg(h,x,"source");this.binders[h]=$?new xd(D,M,x,O,n.id):new Ou(D,M,x,O),g.push(`/a_${h}`)}else{const O=Kg(h,x,"composite");this.binders[h]=new bu(D,M,x,P,i,O),g.push(`/z_${h}`)}else this.binders[h]=$?new kd(D.value,M):new Sf(D.value,M,x,i),g.push(`/u_${h}`);w&&(this.binders[h].ignoreLut=w.constantOr("default")==="none",this.binders[h].lutExpression=w.value,this.binders[h].checkUseTheme=!0)}this.cacheKey=g.sort().join("")}getMaxValue(n){const i=this.binders[n];return i instanceof Ou||i instanceof bu?i.maxValue:0}populatePaintArrays(n,i,d,g,h,v,w){for(const M in this.binders){const D=this.binders[M];D.context=this.context,D instanceof Ou||D instanceof bu||D instanceof xd?D.populatePaintArray(n,i,d,g,h,v,w):D.lutExpression&&D instanceof Sf&&D.lutExpression&&(D.lutExpression.kind==="composite"||D.lutExpression.kind==="source")&&(D.ignoreLut=D.lutExpression.evaluate(new Ws(0,{brightness:v}),i,{},h,g,w)==="none")}}setConstantPatternPositions(n){for(const i in this.binders){const d=this.binders[i];d instanceof kd&&d.setConstantPatternPositions(n)}}updatePaintArrays(n,i,d,g,h,v,w,M,D){let x=!1;const P=Object.keys(n),$=P.length!==0&&!M,T=$?P:i.uniqueIds;this.context.lut=h.lut;for(const O in this.binders){const N=this.binders[O];if(N.context=this.context,(N instanceof Ou||N instanceof bu||N instanceof xd)&&N.expression&&N.expression.kind&&N.expression.kind!=="constant"&&(N.expression.isStateDependent===!0||N.expression.isLightConstant===!1)){const G=h.paint.get(O);N.expression=G.value;for(const q of T){const se=n[q.toString()];i.eachPosition(q,(ce,te,pe)=>{const Ce=g.feature(ce);N.updatePaintArray(te,pe,Ce,se,v,w,D)})}if(!$)for(const q of d.uniqueIds){const se=n[q.toString()];d.eachPosition(q,(ce,te,pe)=>{const Ce=g.feature(ce);N.updatePaintArray(te,pe,Ce,se,v,w,D)})}x=!0}}return x}defines(){const n=[];for(const i in this.binders){const d=this.binders[i];(d instanceof Sf||d instanceof kd)&&n.push(...d.uniformNames.map(g=>`#define HAS_UNIFORM_${g}`))}return n}getBinderAttributes(){const n=[];for(const i in this.binders){const d=this.binders[i];if(d instanceof Ou||d instanceof bu||d instanceof xd)for(let g=0;g<d.paintVertexAttributes.length;g++)n.push(d.paintVertexAttributes[g].name)}return n}getBinderUniforms(){const n=[];for(const i in this.binders){const d=this.binders[i];if(d instanceof Sf||d instanceof kd||d instanceof bu)for(const g of d.uniformNames)n.push(g)}return n}getPaintVertexBuffers(){return this._buffers}getUniforms(n){const i=[];for(const d in this.binders){const g=this.binders[d];if(g instanceof Sf||g instanceof kd||g instanceof bu)for(const h of g.uniformNames)i.push({name:h,property:d,binding:g.getBinding(n,h)})}return i}setUniforms(n,i,d,g,h){for(const{name:v,property:w,binding:M}of d){if(this.binders[w].checkUseTheme&&this.binders[w]instanceof Sf){const D=g.get(`${w}-use-theme`);D.isConstant()&&(this.binders[w].ignoreLut=D.constantOr("default")==="none")}this.binders[w].setUniform(n,M,h,g.get(w),v)}}updatePaintBuffers(){this._buffers=[];for(const n in this.binders){const i=this.binders[n];(i instanceof Ou||i instanceof bu||i instanceof xd)&&i.paintVertexBuffer&&this._buffers.push(i.paintVertexBuffer)}}upload(n){for(const i in this.binders){const d=this.binders[i];(d instanceof Ou||d instanceof bu||d instanceof xd)&&d.upload(n)}this.updatePaintBuffers()}destroy(){for(const n in this.binders){const i=this.binders[n];(i instanceof Ou||i instanceof bu||i instanceof xd)&&i.destroy()}}}class Cd{constructor(n,i,d=()=>!0){this.programConfigurations={};for(const g of n)this.programConfigurations[g.id]=new jd(g,i,d);this.needsUpload=!1,this._featureMap=new wh,this._featureMapWithoutIds=new wh,this._bufferOffset=0,this._idlessCounter=0}populatePaintArrays(n,i,d,g,h,v,w,M){for(const D in this.programConfigurations)this.programConfigurations[D].populatePaintArrays(n,i,g,h,v,w,M);i.id!==void 0?this._featureMap.add(i.id,d,this._bufferOffset,n):(this._featureMapWithoutIds.add(this._idlessCounter,d,this._bufferOffset,n),this._idlessCounter+=1),this._bufferOffset=n,this.needsUpload=!0}updatePaintArrays(n,i,d,g,h,v,w){for(const M of d)this.needsUpload=this.programConfigurations[M.id].updatePaintArrays(n,this._featureMap,this._featureMapWithoutIds,i,M,g,h,v,w||0)||this.needsUpload}get(n){return this.programConfigurations[n]}upload(n){if(this.needsUpload){for(const i in this.programConfigurations)this.programConfigurations[i].upload(n);this.needsUpload=!1}}destroy(){for(const n in this.programConfigurations)this.programConfigurations[n].destroy()}}const Tv={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-occlusion-opacity":["occlusion_opacity"],"icon-occlusion-opacity":["occlusion_opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-emissive-strength":["emissive_strength"],"icon-emissive-strength":["emissive_strength"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"symbol-z-offset":["z_offset"],"line-gap-width":["gapwidth"],"line-pattern":["pattern","pixel_ratio"],"fill-pattern":["pattern","pixel_ratio"],"fill-extrusion-pattern":["pattern","pixel_ratio"],"line-dasharray":["dash"]};function Xg(c,n){return Tv[c]||[c.replace(`${n}-`,"").replace(/-/g,"_")]}const Mv={"line-pattern":{source:fc,composite:fc},"fill-pattern":{source:fc,composite:fc},"fill-extrusion-pattern":{source:fc,composite:fc},"line-dasharray":{source:ym,composite:ym}},Tm={color:{source:vf,composite:Bd},number:{source:_h,composite:vf}};function Kg(c,n,i){const d=Mv[c];return d&&d[i]||Tm[n][i]}lo(Sf,"ConstantBinder"),lo(kd,"PatternConstantBinder"),lo(Ou,"SourceExpressionBinder"),lo(xd,"PatternCompositeBinder"),lo(bu,"CompositeExpressionBinder"),lo(jd,"ProgramConfiguration",{omit:["_buffers"]}),lo(Cd,"ProgramConfigurationSet");const Ic=Ei/Math.PI/2,Ph=5,qg=6,Oh=16383,Sd=64,Mm=[Sd,32,16],Xc=-Ic,Kc=Ic;function wf(c,n,i,d=Ic){return i=st(i),[c*Math.sin(i)*d,-n*d,c*Math.cos(i)*d]}function Zd(c,n,i){return wf(Math.cos(st(c)),Math.sin(st(c)),n,i)}const Vd=63710088e-1,zp=2*Math.PI*Vd;class gs{constructor(n,i){if(isNaN(n)||isNaN(i))throw new Error(`Invalid LngLat object: (${n}, ${i})`);if(this.lng=+n,this.lat=+i,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new gs(ri(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(n){const i=Math.PI/180,d=this.lat*i,g=n.lat*i,h=Math.sin(d)*Math.sin(g)+Math.cos(d)*Math.cos(g)*Math.cos((n.lng-this.lng)*i);return Vd*Math.acos(Math.min(h,1))}toBounds(n=0){const i=360*n/40075017,d=i/Math.cos(Math.PI/180*this.lat);return new qu({lng:this.lng-d,lat:this.lat-i},{lng:this.lng+d,lat:this.lat+i})}toEcef(n){return Zd(this.lat,this.lng,Ic+n*Ic/Vd)}static convert(n){if(n instanceof gs)return n;if(Array.isArray(n)&&(n.length===2||n.length===3))return new gs(Number(n[0]),Number(n[1]));if(!Array.isArray(n)&&typeof n=="object"&&n!==null)return new gs(Number("lng"in n?n.lng:n.lon),Number(n.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}class qu{constructor(n,i){if(n)if(i)this.setSouthWest(n).setNorthEast(i);else if(n.length===4){const d=n;this.setSouthWest([d[0],d[1]]).setNorthEast([d[2],d[3]])}else{const d=n;this.setSouthWest(d[0]).setNorthEast(d[1])}}setNorthEast(n){return this._ne=n instanceof gs?new gs(n.lng,n.lat):gs.convert(n),this}setSouthWest(n){return this._sw=n instanceof gs?new gs(n.lng,n.lat):gs.convert(n),this}extend(n){const i=this._sw,d=this._ne;let g,h;if(n instanceof gs)g=n,h=n;else{if(!(n instanceof qu))return Array.isArray(n)?n.length===4||n.every(Array.isArray)?this.extend(qu.convert(n)):this.extend(gs.convert(n)):typeof n=="object"&&n!==null&&n.hasOwnProperty("lat")&&(n.hasOwnProperty("lon")||n.hasOwnProperty("lng"))?this.extend(gs.convert(n)):this;if(g=n._sw,h=n._ne,!g||!h)return this}return i||d?(i.lng=Math.min(g.lng,i.lng),i.lat=Math.min(g.lat,i.lat),d.lng=Math.max(h.lng,d.lng),d.lat=Math.max(h.lat,d.lat)):(this._sw=new gs(g.lng,g.lat),this._ne=new gs(h.lng,h.lat)),this}getCenter(){return new gs((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new gs(this.getWest(),this.getNorth())}getSouthEast(){return new gs(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(n){const{lng:i,lat:d}=gs.convert(n);let g=this._sw.lng<=i&&i<=this._ne.lng;return this._sw.lng>this._ne.lng&&(g=this._sw.lng>=i&&i>=this._ne.lng),this._sw.lat<=d&&d<=this._ne.lat&&g}static convert(n){if(n)return n instanceof qu?n:new qu(n)}}const Pv=0,Ov=25.5;function Pm(c){return zp*Math.cos(c*Math.PI/180)}function Yu(c){return(180+c)/360}function _u(c){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+c*Math.PI/360)))/360}function xc(c,n){return c/Pm(n)}function Fc(c){return 360*c-180}function hc(c){return 360/Math.PI*Math.atan(Math.exp((180-360*c)*Math.PI/180))-90}function Yg(c,n){return c*Pm(hc(n))}const vl=85.051129;function Jg(c){return Math.cos(st(Vn(c,-vl,vl)))}function Ef(c,n){const i=Vn(n,Pv,Ov),d=Math.pow(2,i);return Jg(c)*zp/(512*d)}function m(c){return 1/Math.cos(c*Math.PI/180)}function r(c,n=0){const i=Math.exp(Math.PI*(1-(c.y+n/Ei)/(1<<c.z)*2));return 80150034*i/(i*i+1)/Ei/(1<<c.z)}class l{constructor(n,i,d=0){this.x=+n,this.y=+i,this.z=+d}static fromLngLat(n,i=0){const d=gs.convert(n);return new l(Yu(d.lng),_u(d.lat),xc(i,d.lat))}toLngLat(){return new gs(Fc(this.x),hc(this.y))}toAltitude(){return Yg(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/zp*m(hc(this.y))}}function p(c,n,i,d,g,h,v,w,M){const D=(n+d)/2,x=(i+g)/2,P=new Sn(D,x);w(P),function($,T,O,N,G,q){const se=O-G,ce=N-q;return Math.abs((N-T)*se-(O-$)*ce)/Math.hypot(se,ce)}(P.x,P.y,h.x,h.y,v.x,v.y)>=M?(p(c,n,i,D,x,h,P,w,M),p(c,D,x,d,g,P,v,w,M)):c.push(v)}function b(c,n,i){let d=c[0],g=d.x,h=d.y;n(d);const v=[d];for(let w=1;w<c.length;w++){const M=c[w],{x:D,y:x}=M;n(M),p(v,g,h,D,x,d,M,n,i),g=D,h=x,d=M}return v}function C(c,n,i,d){if(d(n,i)){const g=n.add(i)._mult(.5);C(c,n,g,d),C(c,g,i,d)}else c.push(i)}function E(c,n){let i=c[0];const d=[i];for(let g=1;g<c.length;g++){const h=c[g];C(d,i,h,n),i=h}return d}const R=Math.pow(2,14)-1,B=-R-1;function V(c,n){const i=Math.round(c.x*n),d=Math.round(c.y*n);return c.x=Vn(i,B,R),c.y=Vn(d,B,R),(i<c.x||i>c.x+1||d<c.y||d>c.y+1)&&Ln("Geometry exceeds allowed extent, reduce your vector tile buffer size"),c}function U(c,n,i){const d=c.loadGeometry(),g=c.extent,h=Ei/g;if(n&&i&&i.projection.isReprojectedInTileSpace){const v=1<<n.z,{scale:w,x:M,y:D,projection:x}=i,P=$=>{const T=Fc((n.x+$.x/g)/v),O=hc((n.y+$.y/g)/v),N=x.project(T,O);$.x=(N.x*w-M)*g,$.y=(N.y*w-D)*g};for(let $=0;$<d.length;$++)if(c.type!==1)d[$]=b(d[$],P,1);else{const T=[];for(const O of d[$])O.x<0||O.x>=g||O.y<0||O.y>=g||(P(O),T.push(O));d[$]=T}}for(const v of d)for(const w of v)V(w,h);return d}function Y(c,n){return{type:c.type,id:c.id,properties:c.properties,geometry:n?U(c):[]}}function ee(c,n,i,d,g){c.emplaceBack(2*n+(d+1)/2,2*i+(g+1)/2)}function le(c,n,i){c.emplaceBack(n.x,n.y,n.z,i[0]*16384,i[1]*16384,i[2]*16384)}class Ee{constructor(n){this.zoom=n.zoom,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(i=>i.fqid),this.index=n.index,this.hasPattern=!1,this.projection=n.projection,this.layoutVertexArray=new Xu,this.indexArray=new oc,this.segments=new gl,this.programConfigurations=new Cd(n.layers,{zoom:n.zoom,lut:n.lut}),this.stateDependentLayerIds=this.layers.filter(i=>i.isStateDependent()).map(i=>i.id)}updateFootprints(n,i){}populate(n,i,d,g){const h=this.layers[0],v=[];let w=null;h.type==="circle"&&(w=h.layout.get("circle-sort-key"));for(const{feature:D,id:x,index:P,sourceLayerIndex:$}of n){const T=this.layers[0]._featureFilter.needGeometry,O=Y(D,T);if(!this.layers[0]._featureFilter.filter(new Ws(this.zoom),O,d))continue;const N=w?w.evaluate(O,{},d):void 0,G={id:x,properties:D.properties,type:D.type,sourceLayerIndex:$,index:P,geometry:T?O.geometry:U(D,d,g),patterns:{},sortKey:N};v.push(G)}w&&v.sort((D,x)=>D.sortKey-x.sortKey);let M=null;g.projection.name==="globe"&&(this.globeExtVertexArray=new gf,M=g.projection);for(const D of v){const{geometry:x,index:P,sourceLayerIndex:$}=D,T=n[P].feature;this.addFeature(D,x,P,i.availableImages,d,M,i.brightness),i.featureIndex.insert(T,x,P,$,this.index)}}update(n,i,d,g,h,v,w){this.programConfigurations.updatePaintArrays(n,i,h,d,g,v,w)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(n){this.uploaded||(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,Zg.members),this.indexBuffer=n.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=n.createVertexBuffer(this.globeExtVertexArray,Vg.members))),this.programConfigurations.upload(n),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}addFeature(n,i,d,g,h,v,w){for(const M of i)for(const D of M){const x=D.x,P=D.y;if(x<0||x>=Ei||P<0||P>=Ei)continue;if(v){const O=v.projectTilePoint(x,P,h),N=v.upVector(h,x,P),G=this.globeExtVertexArray;le(G,O,N),le(G,O,N),le(G,O,N),le(G,O,N)}const $=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,n.sortKey),T=$.vertexLength;ee(this.layoutVertexArray,x,P,-1,-1),ee(this.layoutVertexArray,x,P,1,-1),ee(this.layoutVertexArray,x,P,1,1),ee(this.layoutVertexArray,x,P,-1,1),this.indexArray.emplaceBack(T,T+1,T+2),this.indexArray.emplaceBack(T,T+2,T+3),$.vertexLength+=4,$.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,d,{},g,h,w)}}function xe(c,n){for(let i=0;i<c.length;i++)if(It(n,c[i]))return!0;for(let i=0;i<n.length;i++)if(It(c,n[i]))return!0;return!!yt(c,n)}function Oe(c,n,i){return!!It(c,n)||!!Nt(n,c,i)}function Me(c,n){if(c.length===1)return Dt(n,c[0]);for(let i=0;i<n.length;i++){const d=n[i];for(let g=0;g<d.length;g++)if(It(c,d[g]))return!0}for(let i=0;i<c.length;i++)if(Dt(n,c[i]))return!0;for(let i=0;i<n.length;i++)if(yt(c,n[i]))return!0;return!1}function qe(c,n,i){if(c.length>1){if(yt(c,n))return!0;for(let d=0;d<n.length;d++)if(Nt(n[d],c,i))return!0}for(let d=0;d<c.length;d++)if(Nt(c[d],n,i))return!0;return!1}function yt(c,n){if(c.length===0||n.length===0)return!1;for(let i=0;i<c.length-1;i++){const d=c[i],g=c[i+1];for(let h=0;h<n.length-1;h++)if(gt(d,g,n[h],n[h+1]))return!0}return!1}function gt(c,n,i,d){return _i(c,i,d)!==_i(n,i,d)&&_i(c,n,i)!==_i(c,n,d)}function Nt(c,n,i){const d=i*i;if(n.length===1)return c.distSqr(n[0])<d;for(let g=1;g<n.length;g++)if(Mt(c,n[g-1],n[g])<d)return!0;return!1}function Mt(c,n,i){const d=n.distSqr(i);if(d===0)return c.distSqr(n);const g=((c.x-n.x)*(i.x-n.x)+(c.y-n.y)*(i.y-n.y))/d;return c.distSqr(g<0?n:g>1?i:i.sub(n)._mult(g)._add(n))}function Dt(c,n){let i,d,g,h=!1;for(let v=0;v<c.length;v++){i=c[v];for(let w=0,M=i.length-1;w<i.length;M=w++)d=i[w],g=i[M],d.y>n.y!=g.y>n.y&&n.x<(g.x-d.x)*(n.y-d.y)/(g.y-d.y)+d.x&&(h=!h)}return h}function It(c,n){let i=!1;for(let d=0,g=c.length-1;d<c.length;g=d++){const h=c[d],v=c[g];h.y>n.y!=v.y>n.y&&n.x<(v.x-h.x)*(n.y-h.y)/(v.y-h.y)+h.x&&(i=!i)}return i}function zt(c,n,i,d,g){for(const v of c)if(n<=v.x&&i<=v.y&&d>=v.x&&g>=v.y)return!0;const h=[new Sn(n,i),new Sn(n,g),new Sn(d,g),new Sn(d,i)];if(c.length>2){for(const v of h)if(It(c,v))return!0}for(let v=0;v<c.length-1;v++)if(fn(c[v],c[v+1],h))return!0;return!1}function fn(c,n,i){const d=i[0],g=i[2];if(c.x<d.x&&n.x<d.x||c.x>g.x&&n.x>g.x||c.y<d.y&&n.y<d.y||c.y>g.y&&n.y>g.y)return!1;const h=_i(c,n,i[0]);return h!==_i(c,n,i[1])||h!==_i(c,n,i[2])||h!==_i(c,n,i[3])}function nr(c,n,i,d,g,h){let v=n.y-c.y,w=c.x-n.x;if(h=h||0){const M=v*v+w*w;if(M===0)return!0;const D=Math.sqrt(M);v/=D,w/=D}return!((i.x-c.x)*v+(i.y-c.y)*w-h<0||(d.x-c.x)*v+(d.y-c.y)*w-h<0||(g.x-c.x)*v+(g.y-c.y)*w-h<0)}function Hn(c,n,i,d,g,h,v){return!(nr(c,n,d,g,h,v)||nr(n,i,d,g,h,v)||nr(i,c,d,g,h,v)||nr(d,g,c,n,i,v)||nr(g,h,c,n,i,v)||nr(h,d,c,n,i,v))}function Er(c,n,i){const d=n.paint.get(c).value;return d.kind==="constant"?d.value:i.programConfigurations.get(n.id).getMaxValue(c)}function mr(c){return Math.sqrt(c[0]*c[0]+c[1]*c[1])}function Dn(c,n,i,d,g){if(!n[0]&&!n[1])return c;const h=Sn.convert(n)._mult(g);i==="viewport"&&h._rotate(-d);const v=[];for(let w=0;w<c.length;w++)v.push(c[w].sub(h));return v}function or(c,n,i,d){const g=Sn.convert(c)._mult(d);return n==="viewport"&&g._rotate(-i),g}let Gr,On;lo(Ee,"CircleBucket",{omit:["layers"]});var Rr,Qn={exports:{}},xi=(Rr||(Rr=1,function(c,n){(function(i){function d(h,v,w){var M=g(256*h,256*(v=Math.pow(2,w)-v-1),w),D=g(256*(h+1),256*(v+1),w);return M[0]+","+M[1]+","+D[0]+","+D[1]}function g(h,v,w){var M=2*Math.PI*6378137/256/Math.pow(2,w);return[h*M-2*Math.PI*6378137/2,v*M-2*Math.PI*6378137/2]}i.getURL=function(h,v,w,M,D,x){return x=x||{},h+"?"+["bbox="+d(w,M,D),"format="+(x.format||"image/png"),"service="+(x.service||"WMS"),"version="+(x.version||"1.1.1"),"request="+(x.request||"GetMap"),"srs="+(x.srs||"EPSG:3857"),"width="+(x.width||256),"height="+(x.height||256),"layers="+v].join("&")},i.getTileBBox=d,i.getMercCoords=g,Object.defineProperty(i,"__esModule",{value:!0})})(n)}(0,Qn.exports)),Qn.exports);class Br{constructor(n,i,d){this.z=n,this.x=i,this.y=d,this.key=vi(0,n,n,i,d)}equals(n){return this.z===n.z&&this.x===n.x&&this.y===n.y}url(n,i){const d=xi.getTileBBox(this.x,this.y,this.z),g=function(h,v,w){let M,D="";for(let x=h;x>0;x--)M=1<<x-1,D+=(v&M?1:0)+(w&M?2:0);return D}(this.z,this.x,this.y);return n[(this.x+this.y)%n.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(i==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",g).replace("{bbox-epsg-3857}",d)}toString(){return`${this.z}/${this.x}/${this.y}`}}class Or{constructor(n,i){this.wrap=n,this.canonical=i,this.key=vi(n,i.z,i.z,i.x,i.y)}}class ci{constructor(n,i,d,g,h){this.overscaledZ=n,this.wrap=i,this.canonical=new Br(d,+g,+h),this.key=i===0&&n===d?this.canonical.key:vi(i,n,d,g,h)}equals(n){return this.overscaledZ===n.overscaledZ&&this.wrap===n.wrap&&this.canonical.equals(n.canonical)}scaledTo(n){const i=this.canonical.z-n;return n>this.canonical.z?new ci(n,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new ci(n,this.wrap,n,this.canonical.x>>i,this.canonical.y>>i)}calculateScaledKey(n,i=!0){if(this.overscaledZ===n&&i)return this.key;if(n>this.canonical.z)return vi(this.wrap*+i,n,this.canonical.z,this.canonical.x,this.canonical.y);{const d=this.canonical.z-n;return vi(this.wrap*+i,n,n,this.canonical.x>>d,this.canonical.y>>d)}}isChildOf(n){if(n.wrap!==this.wrap)return!1;const i=this.canonical.z-n.canonical.z;return n.overscaledZ===0||n.overscaledZ<this.overscaledZ&&n.canonical.z<this.canonical.z&&n.canonical.x===this.canonical.x>>i&&n.canonical.y===this.canonical.y>>i}children(n){if(this.overscaledZ>=n)return[new ci(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const i=this.canonical.z+1,d=2*this.canonical.x,g=2*this.canonical.y;return[new ci(i,this.wrap,i,d,g),new ci(i,this.wrap,i,d+1,g),new ci(i,this.wrap,i,d,g+1),new ci(i,this.wrap,i,d+1,g+1)]}isLessThan(n){return this.wrap<n.wrap||!(this.wrap>n.wrap)&&(this.overscaledZ<n.overscaledZ||!(this.overscaledZ>n.overscaledZ)&&(this.canonical.x<n.canonical.x||!(this.canonical.x>n.canonical.x)&&this.canonical.y<n.canonical.y))}wrapped(){return new ci(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(n){return new ci(this.overscaledZ,n,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new Or(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function vi(c,n,i,d,g){const h=1<<Math.min(i,22);let v=h*(g%h)+d%h;return c&&i<22&&(v+=h*h*((c<0?-2*c-1:2*c)%(1<<2*(22-i)))),16*(32*v+i)+(n-i)}const Gi=[c=>{let n=c.canonical.x-1,i=c.wrap;return n<0&&(n=(1<<c.canonical.z)-1,i--),new ci(c.overscaledZ,i,c.canonical.z,n,c.canonical.y)},c=>{let n=c.canonical.x+1,i=c.wrap;return n===1<<c.canonical.z&&(n=0,i++),new ci(c.overscaledZ,i,c.canonical.z,n,c.canonical.y)},c=>new ci(c.overscaledZ,c.wrap,c.canonical.z,c.canonical.x,(c.canonical.y===0?1<<c.canonical.z:c.canonical.y)-1),c=>new ci(c.overscaledZ,c.wrap,c.canonical.z,c.canonical.x,c.canonical.y===(1<<c.canonical.z)-1?0:c.canonical.y+1)];lo(Br,"CanonicalTileID"),lo(ci,"OverscaledTileID",{omit:["projMatrix","expandedProjMatrix"]});const Yi=Ss([{type:"Float32",name:"a_globe_pos",components:3},{type:"Float32",name:"a_uv",components:2}]),{members:ra}=Yi,Bo=Ss([{name:"a_pos_3",components:3,type:"Int16"}]);var No=Ss([{name:"a_pos",type:"Int16",components:2}]);class va{constructor(n,i){this.pos=n,this.dir=i}intersectsPlane(n,i,d){const g=$e.vec3.dot(i,this.dir);if(Math.abs(g)<1e-6)return!1;const h=((n[0]-this.pos[0])*i[0]+(n[1]-this.pos[1])*i[1]+(n[2]-this.pos[2])*i[2])/g;return d[0]=this.pos[0]+this.dir[0]*h,d[1]=this.pos[1]+this.dir[1]*h,d[2]=this.pos[2]+this.dir[2]*h,!0}closestPointOnSphere(n,i,d){if($e.vec3.equals(this.pos,n)||i===0)return d[0]=d[1]=d[2]=0,!1;const[g,h,v]=this.dir,w=this.pos[0]-n[0],M=this.pos[1]-n[1],D=this.pos[2]-n[2],x=g*g+h*h+v*v,P=2*(w*g+M*h+D*v),$=P*P-4*x*(w*w+M*M+D*D-i*i);if($<0){const T=Math.max(-P/2,0),O=w+g*T,N=M+h*T,G=D+v*T,q=Math.hypot(O,N,G);return d[0]=O*i/q,d[1]=N*i/q,d[2]=G*i/q,!1}{const T=(-P-Math.sqrt($))/(2*x);if(T<0){const O=Math.hypot(w,M,D);return d[0]=w*i/O,d[1]=M*i/O,d[2]=D*i/O,!1}return d[0]=w+g*T,d[1]=M+h*T,d[2]=D+v*T,!0}}}class os{constructor(n,i,d,g,h){this.TL=n,this.TR=i,this.BR=d,this.BL=g,this.horizon=h}static fromInvProjectionMatrix(n,i,d){const g=[-1,1,1],h=[1,1,1],v=[1,-1,1],w=[-1,-1,1],M=$e.vec3.transformMat4(g,g,n),D=$e.vec3.transformMat4(h,h,n),x=$e.vec3.transformMat4(v,v,n),P=$e.vec3.transformMat4(w,w,n);return new os(M,D,x,P,i/d)}}function Es(c,n,i){let d=1/0,g=-1/0;const h=[];for(const v of c){$e.vec3.sub(h,v,n);const w=$e.vec3.dot(h,i);d=Math.min(d,w),g=Math.max(g,w)}return[d,g]}function tl(c,n){let i=!0;for(let d=0;d<c.planes.length;d++){const g=c.planes[d];let h=0;for(let v=0;v<n.length;v++)h+=$e.vec3.dot(g,n[v])+g[3]>=0;if(h===0)return 0;h!==n.length&&(i=!1)}return i?2:1}function js(c,n){for(const i of c.projections){const d=Es(n,c.points[0],i.axis);if(i.projection[1]<d[0]||i.projection[0]>d[1])return 0}return 1}function ba(c,n){let i=0;const d=[0,0,0,0];for(let g=0;g<c.length;g++)d[0]=c[g][0],d[1]=c[g][1],d[2]=c[g][2],d[3]=1,$e.vec4.dot(d,n)>=0&&i++;return i}class ms{constructor(n,i){this.points=n||new Array(8).fill([0,0,0]),this.planes=i||new Array(6).fill([0,0,0,0]),this.bounds=xo.fromPoints(this.points),this.projections=[],this.frustumEdges=[$e.vec3.sub([],this.points[2],this.points[3]),$e.vec3.sub([],this.points[0],this.points[3]),$e.vec3.sub([],this.points[4],this.points[0]),$e.vec3.sub([],this.points[5],this.points[1]),$e.vec3.sub([],this.points[6],this.points[2]),$e.vec3.sub([],this.points[7],this.points[3])];for(const d of this.frustumEdges){const g=[0,-d[2],d[1]],h=[d[2],0,-d[0]];this.projections.push({axis:g,projection:Es(this.points,this.points[0],g)}),this.projections.push({axis:h,projection:Es(this.points,this.points[0],h)})}}static fromInvProjectionMatrix(n,i,d,g){const h=Math.pow(2,d),v=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(D=>{const x=$e.vec4.transformMat4([],D,n),P=1/x[3]/i*h;return $e.vec4.mul(x,x,[P,P,g?1/x[3]:P,P])}),w=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(D=>{const x=$e.vec3.sub([],v[D[0]],v[D[1]]),P=$e.vec3.sub([],v[D[2]],v[D[1]]),$=$e.vec3.normalize([],$e.vec3.cross([],x,P)),T=-$e.vec3.dot($,v[D[1]]);return $.concat(T)}),M=[];for(let D=0;D<v.length;D++)M.push([v[D][0],v[D][1],v[D][2]]);return new ms(M,w)}intersectsPrecise(n,i,d){for(let g=0;g<i.length;g++)if(!ba(n,i[g]))return 0;for(let g=0;g<this.planes.length;g++)if(!ba(n,this.planes[g]))return 0;for(const g of d)for(const h of this.frustumEdges){const v=$e.vec3.cross([],g,h),w=$e.vec3.length(v);if(w===0)continue;$e.vec3.scale(v,v,1/w);const M=Es(this.points,this.points[0],v),D=Es(n,this.points[0],v);if(M[0]>D[1]||D[0]>M[1])return 0}return 1}containsPoint(n){for(const i of this.planes){const d=i[3];if($e.vec3.dot([i[0],i[1],i[2]],n)+d<0)return!1}return!0}}class xo{static fromPoints(n){const i=[1/0,1/0,1/0],d=[-1/0,-1/0,-1/0];for(const g of n)$e.vec3.min(i,i,g),$e.vec3.max(d,d,g);return new xo(i,d)}static fromTileIdAndHeight(n,i,d){const g=1<<n.canonical.z,h=n.canonical.x,v=n.canonical.y;return new xo([h/g,v/g,i],[(h+1)/g,(v+1)/g,d])}static applyTransform(n,i){const d=n.getCorners();for(let g=0;g<d.length;++g)$e.vec3.transformMat4(d[g],d[g],i);return xo.fromPoints(d)}static applyTransformFast(n,i){const d=[i[12],i[13],i[14]],g=[...d];for(let h=0;h<3;h++)for(let v=0;v<3;v++){const w=i[4*v+h],M=w*n.min[v],D=w*n.max[v];d[h]+=Math.min(M,D),g[h]+=Math.max(M,D)}return new xo(d,g)}static projectAabbCorners(n,i){const d=n.getCorners();for(let g=0;g<d.length;++g)$e.vec3.transformMat4(d[g],d[g],i);return d}constructor(n,i){this.min=n,this.max=i,this.center=$e.vec3.scale([],$e.vec3.add([],this.min,this.max),.5)}quadrant(n){const i=[n%2==0,n<2],d=$e.vec3.clone(this.min),g=$e.vec3.clone(this.max);for(let h=0;h<i.length;h++)d[h]=i[h]?this.min[h]:this.center[h],g[h]=i[h]?this.center[h]:this.max[h];return g[2]=this.max[2],new xo(d,g)}distanceX(n){return Math.max(Math.min(this.max[0],n[0]),this.min[0])-n[0]}distanceY(n){return Math.max(Math.min(this.max[1],n[1]),this.min[1])-n[1]}distanceZ(n){return Math.max(Math.min(this.max[2],n[2]),this.min[2])-n[2]}getCorners(){const n=this.min,i=this.max;return[[n[0],n[1],n[2]],[i[0],n[1],n[2]],[i[0],i[1],n[2]],[n[0],i[1],n[2]],[n[0],n[1],i[2]],[i[0],n[1],i[2]],[i[0],i[1],i[2]],[n[0],i[1],i[2]]]}intersects(n){return this.intersectsAabb(n.bounds)?tl(n,this.getCorners()):0}intersectsFlat(n){return this.intersectsAabb(n.bounds)?tl(n,[[this.min[0],this.min[1],0],[this.max[0],this.min[1],0],[this.max[0],this.max[1],0],[this.min[0],this.max[1],0]]):0}intersectsPrecise(n,i){return i||this.intersects(n)?js(n,this.getCorners()):0}intersectsPreciseFlat(n,i){return i||this.intersectsFlat(n)?js(n,[[this.min[0],this.min[1],0],[this.max[0],this.min[1],0],[this.max[0],this.max[1],0],[this.min[0],this.max[1],0]]):0}intersectsAabb(n){for(let i=0;i<3;++i)if(this.min[i]>n.max[i]||n.min[i]>this.max[i])return!1;return!0}intersectsAabbXY(n){return!(this.min[0]>n.max[0]||n.min[0]>this.max[0]||this.min[1]>n.max[1]||n.min[1]>this.max[1])}encapsulate(n){for(let i=0;i<3;i++)this.min[i]=Math.min(this.min[i],n.min[i]),this.max[i]=Math.max(this.max[i],n.max[i])}encapsulatePoint(n){for(let i=0;i<3;i++)this.min[i]=Math.min(this.min[i],n[i]),this.max[i]=Math.max(this.max[i],n[i])}closestPoint(n){return[Math.max(Math.min(this.max[0],n[0]),this.min[0]),Math.max(Math.min(this.max[1],n[1]),this.min[1]),Math.max(Math.min(this.max[2],n[2]),this.min[2])]}}function Ka(c){return c*Ic/Vd}lo(xo,"Aabb");const xs=[new xo([Xc,Xc,Xc],[Kc,Kc,Kc]),new xo([Xc,Xc,Xc],[0,0,Kc]),new xo([0,Xc,Xc],[Kc,0,Kc]),new xo([Xc,0,Xc],[0,Kc,Kc]),new xo([0,0,Xc],[Kc,Kc,Kc])];function ws(c,n,i,d=!0){const g=$e.vec3.scale([],c._camera.position,c.worldSize),h=[n,i,1,1];$e.vec4.transformMat4(h,h,c.pixelMatrixInverse),$e.vec4.scale(h,h,1/h[3]);const v=$e.vec3.sub([],h,g),w=$e.vec3.normalize([],v),M=c.globeMatrix,D=[M[12],M[13],M[14]],x=$e.vec3.sub([],D,g),P=$e.vec3.length(x),$=$e.vec3.normalize([],x),T=c.worldSize/(2*Math.PI),O=$e.vec3.dot($,w),N=Math.asin(T/P);if(N<Math.acos(O)){if(!d)return null;const Lt=[],ut=[];$e.vec3.scale(Lt,w,P/O),$e.vec3.normalize(ut,$e.vec3.sub(ut,Lt,x)),$e.vec3.normalize(w,$e.vec3.add(w,x,$e.vec3.scale(w,ut,Math.tan(N)*P)))}const G=[];new va(g,w).closestPointOnSphere(D,T,G);const q=$e.vec3.normalize([],qt(M,0)),se=$e.vec3.normalize([],qt(M,1)),ce=$e.vec3.normalize([],qt(M,2)),te=$e.vec3.dot(q,G),pe=$e.vec3.dot(se,G),Ce=$e.vec3.dot(ce,G),Re=jt(Math.asin(-pe/T));let it=jt(Math.atan2(te,Ce));it=c.center.lng+function(Lt,ut){const Zt=(ut-Lt+180)%360-180;return Zt<-180?Zt+360:Zt}(c.center.lng,it);const nt=Yu(it),et=Vn(_u(Re),0,1);return new l(nt,et)}class ol{constructor(n,i,d){this.a=$e.vec3.sub([],n,d),this.b=$e.vec3.sub([],i,d),this.center=d;const g=$e.vec3.normalize([],this.a),h=$e.vec3.normalize([],this.b);this.angle=Math.acos($e.vec3.dot(g,h))}}function Hl(c,n){if(c.angle===0)return null;let i;return i=c.a[n]===0?1/c.angle*.5*Math.PI:1/c.angle*Math.atan(c.b[n]/c.a[n]/Math.sin(c.angle)-1/Math.tan(c.angle)),i<0||i>1?null:function(d,g,h,v){const w=Math.sin(h);return d*(Math.sin((1-v)*h)/w)+g*(Math.sin(v*h)/w)}(c.a[n],c.b[n],c.angle,Vn(i,0,1))+c.center[n]}function Cl(c){if(c.z<=1)return xs[c.z+2*c.y+c.x];const n=zs(al(c));return xo.fromPoints(n)}function Pl(c,n,i){return $e.vec3.scale(c,c,1-i),$e.vec3.scaleAndAdd(c,c,n,i)}function Rc(c,n,i){for(const d of c)$e.vec3.transformMat4(d,d,n),$e.vec3.scale(d,d,i)}function Cc(c,n,i,d){const g=n/c.worldSize,h=c.globeMatrix;if(i.z<=1){const nt=Cl(i).getCorners();return Rc(nt,h,g),xo.fromPoints(nt)}const v=al(i,d),w=zs(v,Ic+Ka(c._tileCoverLift));Rc(w,h,g);const M=Number.MAX_VALUE,D=[-M,-M,-M],x=[M,M,M];if(v.contains(c.center)){for(const Lt of w)$e.vec3.min(x,x,Lt),$e.vec3.max(D,D,Lt);D[2]=0;const nt=c.point,et=[nt.x*g,nt.y*g,0];return $e.vec3.min(x,x,et),$e.vec3.max(D,D,et),new xo(x,D)}if(c._tileCoverLift>0){for(const nt of w)$e.vec3.min(x,x,nt),$e.vec3.max(D,D,nt);return new xo(x,D)}const P=[h[12]*g,h[13]*g,h[14]*g],$=v.getCenter(),T=Vn(c.center.lat,-vl,vl),O=Vn($.lat,-vl,vl),N=Yu(c.center.lng),G=_u(T);let q=N-Yu($.lng);const se=G-_u(O);q>.5?q-=1:q<-.5&&(q+=1);let ce=0;if(Math.abs(q)>Math.abs(se))ce=q>=0?1:3;else{ce=se>=0?0:2;const nt=[h[4]*g,h[5]*g,h[6]*g],et=-Math.sin(st(se>=0?v.getSouth():v.getNorth()))*Ic;$e.vec3.scaleAndAdd(P,P,nt,et)}const te=w[ce],pe=w[(ce+1)%4],Ce=new ol(te,pe,P),Re=[Hl(Ce,0)||te[0],Hl(Ce,1)||te[1],Hl(Ce,2)||te[2]],it=mc(c.zoom);if(it>0){const nt=function({x:Lt,y:ut,z:Zt},on,Wt,cn,wn){const Nn=1/(1<<Zt);let vn=Lt*Nn,xr=vn+Nn,Hr=ut*Nn,_r=Hr+Nn,Bi=0;const Mi=(vn+xr)/2-cn;return Mi>.5?Bi=-1:Mi<-.5&&(Bi=1),vn=((vn+Bi)*on-(cn*=on))*Wt+cn,xr=((xr+Bi)*on-cn)*Wt+cn,Hr=(Hr*on-(wn*=on))*Wt+wn,_r=(_r*on-wn)*Wt+wn,[[vn,_r,0],[xr,_r,0],[xr,Hr,0],[vn,Hr,0]]}(i,n,c._pixelsPerMercatorPixel,N,G);for(let Lt=0;Lt<w.length;Lt++)Pl(w[Lt],nt[Lt],it);const et=$e.vec3.add([],nt[ce],nt[(ce+1)%4]);$e.vec3.scale(et,et,.5),Pl(Re,et,it)}for(const nt of w)$e.vec3.min(x,x,nt),$e.vec3.max(D,D,nt);return x[2]=Math.min(te[2],pe[2]),$e.vec3.min(x,x,Re),$e.vec3.max(D,D,Re),new xo(x,D)}function al({x:c,y:n,z:i},d=!1){const g=1/(1<<i),h=new gs(Fc(c*g),n===(1<<i)-1&&d?-90:hc((n+1)*g)),v=new gs(Fc((c+1)*g),n===0&&d?90:hc(n*g));return new qu(h,v)}function zs(c,n=Ic){const i=st(c.getNorth()),d=st(c.getSouth()),g=Math.cos(i),h=Math.cos(d),v=Math.sin(i),w=Math.sin(d),M=c.getWest(),D=c.getEast();return[wf(h,w,M,n),wf(h,w,D,n),wf(g,v,D,n),wf(g,v,M,n)]}function $s(c,n,i,d){const g=1<<i.z,h=(c/Ei+i.x)/g;return Zd(hc((n/Ei+i.y)/g),Fc(h),d)}function us({min:c,max:n}){return Oh/Math.max(n[0]-c[0],n[1]-c[1],n[2]-c[2])}const fl=new Float64Array(16);function Ul(c){const n=us(c),i=$e.mat4.fromScaling(fl,[n,n,n]);return $e.mat4.translate(i,i,$e.vec3.negate([],c.min))}function Ps(c){const n=$e.mat4.fromTranslation(fl,c.min),i=1/us(c);return $e.mat4.scale(n,n,[i,i,i])}function Sc(c){const n=Ei/(2*Math.PI);return c/(2*Math.PI)/n}function qc(c,n){return Ei/(512*Math.pow(2,c))*us(Cl(n))}function kc(c,n,i,d,g){const h=Sc(i),v=[c,n,-i/(2*Math.PI)],w=$e.mat4.identity(new Float64Array(16));return $e.mat4.translate(w,w,v),$e.mat4.scale(w,w,[h,h,h]),$e.mat4.rotateX(w,w,st(-g)),$e.mat4.rotateY(w,w,st(-d)),w}function mc(c){return Xr(Ph,qg,c)}function xu(c,n){const i=Zd(n.lat,n.lng),d=function(h){const v=Zd(h._center.lat,h._center.lng),w=$e.vec3.fromValues(0,1,0);let M=$e.vec3.cross([],w,v);const D=$e.mat4.fromRotation([],-h.angle,v);M=$e.vec3.transformMat4(M,M,D),$e.mat4.fromRotation(D,-h._pitch,M);const x=$e.vec3.normalize([],v);return $e.vec3.scale(x,x,Ka(h.cameraToCenterDistance/h.pixelsPerMeter)),$e.vec3.transformMat4(x,x,D),$e.vec3.add([],v,x)}(c),g=$e.vec3.subtract([],d,i);return $e.vec3.angle(g,i)}function Yc(c,n){return xu(c,n)>Math.PI/2*1.01}const jc=st(85),Hd=Math.cos(jc),Jc=Math.sin(jc),Ud=$e.mat4.create(),If=c=>{const n=[];return c.paint.get("circle-pitch-alignment")==="map"&&n.push("PITCH_WITH_MAP"),c.paint.get("circle-pitch-scale")==="map"&&n.push("SCALE_WITH_MAP"),n};function Om(c,n,i,d,g,h,v,w,M){if(h&&c.queryGeometry.isAboveHorizon)return!1;h&&(M*=c.pixelToTileUnitsFactor);const D=c.tileID.canonical,x=i.projection.upVectorScale(D,i.center.lat,i.worldSize).metersToTile;for(const P of n)for(const $ of P){const T=$.add(w),O=g&&i.elevation?i.elevation.exaggeration()*g.getElevationAt(T.x,T.y,!0):0,N=i.projection.projectTilePoint(T.x,T.y,D);if(O>0){const ce=i.projection.upVector(D,T.x,T.y);N.x+=ce[0]*x*O,N.y+=ce[1]*x*O,N.z+=ce[2]*x*O}const G=h?T:Lp(N.x,N.y,N.z,d),q=h?c.tilespaceRays.map(ce=>Rh(ce,O)):c.queryGeometry.screenGeometry,se=$e.vec4.transformMat4([],[N.x,N.y,N.z,1],d);if(!v&&h?M*=se[3]/i.cameraToCenterDistance:v&&!h&&(M*=i.cameraToCenterDistance/se[3]),h){const ce=hc(($.y/Ei+D.y)/(1<<D.z));M/=i.projection.pixelsPerMeter(ce,1)/xc(1,ce)}if(Oe(q,G,M))return!0}return!1}function Lp(c,n,i,d){const g=$e.vec4.transformMat4([],[c,n,i,1],d);return new Sn(g[0]/g[3],g[1]/g[3])}const Lb=$e.vec3.fromValues(0,0,0),Wx=$e.vec3.fromValues(0,0,1);function Rh(c,n){const i=$e.vec3.create();return Lb[2]=n,c.intersectsPlane(Lb,Wx,i),new Sn(i[0],i[1])}class Nb extends Ee{}let Bb,Rv,$v,Qg;function $c(c,{width:n,height:i},d,g){if(g){if(g instanceof Uint8ClampedArray)g=new Uint8Array(g.buffer);else if(g.length!==n*i*d)throw new RangeError("mismatched image size")}else g=new Uint8Array(n*i*d);return c.width=n,c.height=i,c.data=g,c}function Fb(c,n,i){const{width:d,height:g}=n;d===c.width&&g===c.height||(Av(c,n,{x:0,y:0},{x:0,y:0},{width:Math.min(c.width,d),height:Math.min(c.height,g)},i,null),c.width=d,c.height=g,c.data=n.data)}function Av(c,n,i,d,g,h,v,w){if(g.width===0||g.height===0)return n;if(g.width>c.width||g.height>c.height||i.x>c.width-g.width||i.y>c.height-g.height)throw new RangeError("out of range source coordinates for image copy");if(g.width>n.width||g.height>n.height||d.x>n.width-g.width||d.y>n.height-g.height)throw new RangeError("out of range destination coordinates for image copy");const M=c.data,D=n.data,x=h===4&&w;for(let P=0;P<g.height;P++){const $=((i.y+P)*c.width+i.x)*h,T=((d.y+P)*n.width+d.x)*h;if(x)for(let O=0;O<g.width;O++){const N=$+O*h+3,G=T+O*h;D[G+0]=255,D[G+1]=255,D[G+2]=255,D[G+3]=M[N]}else if(v)for(let O=0;O<g.width;O++){const N=$+O*h,G=T+O*h,q=M[N+3],se=new to(M[N+0]/255*q,M[N+1]/255*q,M[N+2]/255*q,q).toRenderColor(v).toArray();D[G+0]=se[0],D[G+1]=se[1],D[G+2]=se[2],D[G+3]=se[3]}else for(let O=0;O<g.width*h;O++)D[T+O]=M[$+O]}return n}lo(Nb,"HeatmapBucket",{omit:["layers"]});class $h{constructor(n,i){$c(this,n,1,i)}resize(n){Fb(this,new $h(n),1)}clone(){return new $h({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(n,i,d,g,h){Av(n,i,d,g,h,1,null)}}class sc{constructor(n,i){$c(this,n,4,i)}resize(n){Fb(this,new sc(n),4)}replace(n,i){i?this.data.set(n):this.data=n instanceof Uint8ClampedArray?new Uint8Array(n.buffer):n}clone(){return new sc({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(n,i,d,g,h,v,w){Av(n,i,d,g,h,4,v,w)}}class kb{constructor(n,i){this.width=n.width,this.height=n.height,this.data=i instanceof Uint8Array?new Float32Array(i.buffer):i}}function Np(c){const n={},i=c.resolution||256,d=c.clips?c.clips.length:1,g=c.image||new sc({width:i,height:d}),h=(v,w,M)=>{n[c.evaluationKey]=M;const D=c.expression.evaluate(n);D&&(g.data[v+w+0]=Math.floor(255*D.r/D.a),g.data[v+w+1]=Math.floor(255*D.g/D.a),g.data[v+w+2]=Math.floor(255*D.b/D.a),g.data[v+w+3]=Math.floor(255*D.a))};if(c.clips)for(let v=0,w=0;v<d;++v,w+=4*i)for(let M=0,D=0;M<i;M++,D+=4){const x=M/(i-1),{start:P,end:$}=c.clips[v];h(w,D,P*(1-x)+$*x)}else for(let v=0,w=0;v<i;v++,w+=4)h(0,w,v/(i-1));return g}lo($h,"AlphaImage"),lo(sc,"RGBAImage");const Gx=Ss([{name:"a_pos",components:2,type:"Int16"}],4),{members:Xx}=Gx;function Bp(c,n,i=2){const d=n&&n.length,g=d?n[0]*i:c.length;let h=jb(c,0,g,i,!0);const v=[];if(!h||h.next===h.prev)return v;let w,M,D;if(d&&(h=function(x,P,$,T){const O=[];for(let N=0,G=P.length;N<G;N++){const q=jb(x,P[N]*T,N<G-1?P[N+1]*T:x.length,T,!1);q===q.next&&(q.steiner=!0),O.push(Qx(q))}O.sort(zv);for(let N=0;N<O.length;N++)$=Jx(O[N],$);return $}(c,n,h,i)),c.length>80*i){w=1/0,M=1/0;let x=-1/0,P=-1/0;for(let $=i;$<g;$+=i){const T=c[$],O=c[$+1];T<w&&(w=T),O<M&&(M=O),T>x&&(x=T),O>P&&(P=O)}D=Math.max(x-w,P-M),D=D!==0?32767/D:0}return Tf(h,v,i,w,M,D,0),v}function jb(c,n,i,d,g){let h;if(g===function(v,w,M,D){let x=0;for(let P=w,$=M-D;P<M;P+=D)x+=(v[$]-v[P])*(v[P+1]+v[$+1]),$=P;return x}(c,n,i,d)>0)for(let v=n;v<i;v+=d)h=Vb(v/d|0,c[v],c[v+1],h);else for(let v=i-d;v>=n;v-=d)h=Vb(v/d|0,c[v],c[v+1],h);return h&&Mf(h,h.next)&&(Rm(h),h=h.next),h}function Ah(c,n){if(!c)return c;n||(n=c);let i,d=c;do if(i=!1,d.steiner||!Mf(d,d.next)&&Wl(d.prev,d,d.next)!==0)d=d.next;else{if(Rm(d),d=n=d.prev,d===d.next)break;i=!0}while(i||d!==n);return n}function Tf(c,n,i,d,g,h,v){if(!c)return;!v&&h&&function(M,D,x,P){let $=M;do $.z===0&&($.z=e0($.x,$.y,D,x,P)),$.prevZ=$.prev,$.nextZ=$.next,$=$.next;while($!==M);$.prevZ.nextZ=null,$.prevZ=null,function(T){let O,N=1;do{let G,q=T;T=null;let se=null;for(O=0;q;){O++;let ce=q,te=0;for(let Ce=0;Ce<N&&(te++,ce=ce.nextZ,ce);Ce++);let pe=N;for(;te>0||pe>0&&ce;)te!==0&&(pe===0||!ce||q.z<=ce.z)?(G=q,q=q.nextZ,te--):(G=ce,ce=ce.nextZ,pe--),se?se.nextZ=G:T=G,G.prevZ=se,se=G;q=ce}se.nextZ=null,N*=2}while(O>1)}($)}(c,d,g,h);let w=c;for(;c.prev!==c.next;){const M=c.prev,D=c.next;if(h?Kx(c,d,g,h):Dv(c))n.push(M.i,c.i,D.i),Rm(c),c=D.next,w=D.next;else if((c=D)===w){v?v===1?Tf(c=qx(Ah(c),n),n,i,d,g,h,2):v===2&&Yx(c,n,i,d,g,h):Tf(Ah(c),n,i,d,g,h,1);break}}}function Dv(c){const n=c.prev,i=c,d=c.next;if(Wl(n,i,d)>=0)return!1;const g=n.x,h=i.x,v=d.x,w=n.y,M=i.y,D=d.y,x=g<h?g<v?g:v:h<v?h:v,P=w<M?w<D?w:D:M<D?M:D,$=g>h?g>v?g:v:h>v?h:v,T=w>M?w>D?w:D:M>D?M:D;let O=d.next;for(;O!==n;){if(O.x>=x&&O.x<=$&&O.y>=P&&O.y<=T&&Ru(g,w,h,M,v,D,O.x,O.y)&&Wl(O.prev,O,O.next)>=0)return!1;O=O.next}return!0}function Kx(c,n,i,d){const g=c.prev,h=c,v=c.next;if(Wl(g,h,v)>=0)return!1;const w=g.x,M=h.x,D=v.x,x=g.y,P=h.y,$=v.y,T=w<M?w<D?w:D:M<D?M:D,O=x<P?x<$?x:$:P<$?P:$,N=w>M?w>D?w:D:M>D?M:D,G=x>P?x>$?x:$:P>$?P:$,q=e0(T,O,n,i,d),se=e0(N,G,n,i,d);let ce=c.prevZ,te=c.nextZ;for(;ce&&ce.z>=q&&te&&te.z<=se;){if(ce.x>=T&&ce.x<=N&&ce.y>=O&&ce.y<=G&&ce!==g&&ce!==v&&Ru(w,x,M,P,D,$,ce.x,ce.y)&&Wl(ce.prev,ce,ce.next)>=0||(ce=ce.prevZ,te.x>=T&&te.x<=N&&te.y>=O&&te.y<=G&&te!==g&&te!==v&&Ru(w,x,M,P,D,$,te.x,te.y)&&Wl(te.prev,te,te.next)>=0))return!1;te=te.nextZ}for(;ce&&ce.z>=q;){if(ce.x>=T&&ce.x<=N&&ce.y>=O&&ce.y<=G&&ce!==g&&ce!==v&&Ru(w,x,M,P,D,$,ce.x,ce.y)&&Wl(ce.prev,ce,ce.next)>=0)return!1;ce=ce.prevZ}for(;te&&te.z<=se;){if(te.x>=T&&te.x<=N&&te.y>=O&&te.y<=G&&te!==g&&te!==v&&Ru(w,x,M,P,D,$,te.x,te.y)&&Wl(te.prev,te,te.next)>=0)return!1;te=te.nextZ}return!0}function qx(c,n){let i=c;do{const d=i.prev,g=i.next.next;!Mf(d,g)&&t0(d,i,i.next,g)&&Fp(d,g)&&Fp(g,d)&&(n.push(d.i,i.i,g.i),Rm(i),Rm(i.next),i=c=g),i=i.next}while(i!==c);return Ah(i)}function Yx(c,n,i,d,g,h){let v=c;do{let w=v.next.next;for(;w!==v.prev;){if(v.i!==w.i&&eC(v,w)){let M=Zb(v,w);return v=Ah(v,v.next),M=Ah(M,M.next),Tf(v,n,i,d,g,h,0),void Tf(M,n,i,d,g,h,0)}w=w.next}v=v.next}while(v!==c)}function zv(c,n){return c.x-n.x}function Jx(c,n){const i=function(g,h){let v=h;const w=g.x,M=g.y;let D,x=-1/0;do{if(M<=v.y&&M>=v.next.y&&v.next.y!==v.y){const N=v.x+(M-v.y)*(v.next.x-v.x)/(v.next.y-v.y);if(N<=w&&N>x&&(x=N,D=v.x<v.next.x?v:v.next,N===w))return D}v=v.next}while(v!==h);if(!D)return null;const P=D,$=D.x,T=D.y;let O=1/0;v=D;do{if(w>=v.x&&v.x>=$&&w!==v.x&&Ru(M<T?w:x,M,$,T,M<T?x:w,M,v.x,v.y)){const N=Math.abs(M-v.y)/(w-v.x);Fp(v,g)&&(N<O||N===O&&(v.x>D.x||v.x===D.x&&Lv(D,v)))&&(D=v,O=N)}v=v.next}while(v!==P);return D}(c,n);if(!i)return n;const d=Zb(i,c);return Ah(d,d.next),Ah(i,i.next)}function Lv(c,n){return Wl(c.prev,c,n.prev)<0&&Wl(n.next,c,c.next)<0}function e0(c,n,i,d,g){return(c=1431655765&((c=858993459&((c=252645135&((c=16711935&((c=(c-i)*g|0)|c<<8))|c<<4))|c<<2))|c<<1))|(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=(n-d)*g|0)|n<<8))|n<<4))|n<<2))|n<<1))<<1}function Qx(c){let n=c,i=c;do(n.x<i.x||n.x===i.x&&n.y<i.y)&&(i=n),n=n.next;while(n!==c);return i}function Ru(c,n,i,d,g,h,v,w){return(g-v)*(n-w)>=(c-v)*(h-w)&&(c-v)*(d-w)>=(i-v)*(n-w)&&(i-v)*(h-w)>=(g-v)*(d-w)}function eC(c,n){return c.next.i!==n.i&&c.prev.i!==n.i&&!function(i,d){let g=i;do{if(g.i!==i.i&&g.next.i!==i.i&&g.i!==d.i&&g.next.i!==d.i&&t0(g,g.next,i,d))return!0;g=g.next}while(g!==i);return!1}(c,n)&&(Fp(c,n)&&Fp(n,c)&&function(i,d){let g=i,h=!1;const v=(i.x+d.x)/2,w=(i.y+d.y)/2;do g.y>w!=g.next.y>w&&g.next.y!==g.y&&v<(g.next.x-g.x)*(w-g.y)/(g.next.y-g.y)+g.x&&(h=!h),g=g.next;while(g!==i);return h}(c,n)&&(Wl(c.prev,c,n.prev)||Wl(c,n.prev,n))||Mf(c,n)&&Wl(c.prev,c,c.next)>0&&Wl(n.prev,n,n.next)>0)}function Wl(c,n,i){return(n.y-c.y)*(i.x-n.x)-(n.x-c.x)*(i.y-n.y)}function Mf(c,n){return c.x===n.x&&c.y===n.y}function t0(c,n,i,d){const g=r0(Wl(c,n,i)),h=r0(Wl(c,n,d)),v=r0(Wl(i,d,c)),w=r0(Wl(i,d,n));return g!==h&&v!==w||!(g!==0||!n0(c,i,n))||!(h!==0||!n0(c,d,n))||!(v!==0||!n0(i,c,d))||!(w!==0||!n0(i,n,d))}function n0(c,n,i){return n.x<=Math.max(c.x,i.x)&&n.x>=Math.min(c.x,i.x)&&n.y<=Math.max(c.y,i.y)&&n.y>=Math.min(c.y,i.y)}function r0(c){return c>0?1:c<0?-1:0}function Fp(c,n){return Wl(c.prev,c,c.next)<0?Wl(c,n,c.next)>=0&&Wl(c,c.prev,n)>=0:Wl(c,n,c.prev)<0||Wl(c,c.next,n)<0}function Zb(c,n){const i=Nv(c.i,c.x,c.y),d=Nv(n.i,n.x,n.y),g=c.next,h=n.prev;return c.next=n,n.prev=c,i.next=g,g.prev=i,d.next=i,i.prev=d,h.next=d,d.prev=h,d}function Vb(c,n,i,d){const g=Nv(c,n,i);return d?(g.next=d.next,g.prev=d,d.next.prev=g,d.next=g):(g.prev=g,g.next=g),g}function Rm(c){c.next.prev=c.prev,c.prev.next=c.next,c.prevZ&&(c.prevZ.nextZ=c.nextZ),c.nextZ&&(c.nextZ.prevZ=c.prevZ)}function Nv(c,n,i){return{i:c,x:n,y:i,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function kp(c,n){const i=c.length;if(i<=1)return[c];const d=[];let g,h;for(let v=0;v<i;v++){const w=fi(c[v]);w!==0&&(c[v].area=Math.abs(w),h===void 0&&(h=w<0),h===w<0?(g&&d.push(g),g=[c[v]]):g.push(c[v]))}if(g&&d.push(g),n>1)for(let v=0;v<d.length;v++)d[v].length<=n||(as(d[v],n,1,d[v].length-1,Hb),d[v]=d[v].slice(0,n));return d}function Hb(c,n){return n.area-c.area}function Bv(c,n,i=1){if(!c)return null;const d=typeof c=="string"?c:c.getPrimary().id;n[d]||(n[d]=[]);const g=Vr.from(d).getPrimary().scaleSelf(i);return n[d].push(g),g.serialize()}function Fv(c,n,i,d){const g=d.patternDependencies;let h=!1;for(const v of n){const w=v.paint.get(`${c}-pattern`);w.isConstant()||(h=!0),Bv(w.constantOr(null),g,i)&&(h=!0)}return h}function kv(c,n,i,d,g,h){const v=h.patternDependencies;for(const w of n){const M=w.paint.get(`${c}-pattern`).value;if(M.kind!=="constant"){let D=M.evaluate({zoom:d},i,{},h.availableImages);D=D&&D.name?D.name:D;const x=Bv(D,v,g);x&&(i.patterns[w.id]=x)}}return i}class jv{constructor(n){this.zoom=n.zoom,this.pixelRatio=n.pixelRatio,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(i=>i.fqid),this.index=n.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Xu,this.indexArray=new oc,this.indexArray2=new Fd,this.programConfigurations=new Cd(n.layers,{zoom:n.zoom,lut:n.lut}),this.segments=new gl,this.segments2=new gl,this.stateDependentLayerIds=this.layers.filter(i=>i.isStateDependent()).map(i=>i.id),this.projection=n.projection}updateFootprints(n,i){}populate(n,i,d,g){this.hasPattern=Fv("fill",this.layers,this.pixelRatio,i);const h=this.layers[0].layout.get("fill-sort-key"),v=[];for(const{feature:w,id:M,index:D,sourceLayerIndex:x}of n){const P=this.layers[0]._featureFilter.needGeometry,$=Y(w,P);if(!this.layers[0]._featureFilter.filter(new Ws(this.zoom),$,d))continue;const T=h?h.evaluate($,{},d,i.availableImages):void 0,O={id:M,properties:w.properties,type:w.type,sourceLayerIndex:x,index:D,geometry:P?$.geometry:U(w,d,g),patterns:{},sortKey:T};v.push(O)}h&&v.sort((w,M)=>w.sortKey-M.sortKey);for(const w of v){const{geometry:M,index:D,sourceLayerIndex:x}=w;if(this.hasPattern){const P=kv("fill",this.layers,w,this.zoom,this.pixelRatio,i);this.patternFeatures.push(P)}else this.addFeature(w,M,D,d,{},i.availableImages,i.brightness,i.elevationFeatures);i.featureIndex.insert(n[D].feature,M,D,x,this.index)}}update(n,i,d,g,h,v,w){this.programConfigurations.updatePaintArrays(n,i,h,d,g,v,w)}addFeatures(n,i,d,g,h,v){for(const w of this.patternFeatures)this.addFeature(w,w.geometry,w.index,i,d,g,v,n.elevationFeatures)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(n){this.uploaded||(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,Xx),this.indexBuffer=n.createIndexBuffer(this.indexArray),this.indexBuffer2=n.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(n),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(n,i,d,g,h,v=[],w,M){for(const D of kp(i,500)){let x=0;for(const G of D)x+=G.length;const P=this.segments.prepareSegment(x,this.layoutVertexArray,this.indexArray),$=P.vertexLength,T=[],O=[];for(const G of D){if(G.length===0)continue;G!==D[0]&&O.push(T.length/2);const q=this.segments2.prepareSegment(G.length,this.layoutVertexArray,this.indexArray2),se=q.vertexLength;this.layoutVertexArray.emplaceBack(G[0].x,G[0].y),this.indexArray2.emplaceBack(se+G.length-1,se),T.push(G[0].x),T.push(G[0].y);for(let ce=1;ce<G.length;ce++)this.layoutVertexArray.emplaceBack(G[ce].x,G[ce].y),this.indexArray2.emplaceBack(se+ce-1,se+ce),T.push(G[ce].x),T.push(G[ce].y);q.vertexLength+=G.length,q.primitiveLength+=G.length}const N=Bp(T,O);for(let G=0;G<N.length;G+=3)this.indexArray.emplaceBack($+N[G],$+N[G+1],$+N[G+2]);P.vertexLength+=x,P.primitiveLength+=N.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,d,h,v,g,w)}}let Zv,Ub,jp,Wb;lo(jv,"FillBucket",{omit:["layers","patternFeatures"]});class Gb{constructor(n,i,d,g){if(this.triangleCount=i.length/3,this.min=new Sn(0,0),this.max=new Sn(0,0),this.xScale=0,this.yScale=0,this.cellsX=0,this.cellsY=0,this.cells=[],this.payload=[],this.triangleCount===0||n.length===0)return;const[h,v]=[n[0].clone(),n[0].clone()];for(let P=1;P<n.length;++P){const $=n[P];h.x=Math.min(h.x,$.x),h.y=Math.min(h.y,$.y),v.x=Math.max(v.x,$.x),v.y=Math.max(v.y,$.y)}if(g){const P=Math.ceil(Math.max(v.x-h.x,v.y-h.y)/g);d=Math.max(d,P)}if(d===0)return;this.min=h,this.max=v;const w=this.max.sub(this.min);w.x=Math.max(w.x,1),w.y=Math.max(w.y,1);const M=Math.max(w.x,w.y)/d;this.cellsX=Math.max(1,Math.ceil(w.x/M)),this.cellsY=Math.max(1,Math.ceil(w.y/M)),this.xScale=1/M,this.yScale=1/M;const D=[];for(let P=0;P<this.triangleCount;P++){const $=n[i[3*P+0]].sub(this.min),T=n[i[3*P+1]].sub(this.min),O=n[i[3*P+2]].sub(this.min),N=Ju(Math.floor(Math.min($.x,T.x,O.x)),this.xScale,this.cellsX),G=Ju(Math.floor(Math.max($.x,T.x,O.x)),this.xScale,this.cellsX),q=Ju(Math.floor(Math.min($.y,T.y,O.y)),this.yScale,this.cellsY),se=Ju(Math.floor(Math.max($.y,T.y,O.y)),this.yScale,this.cellsY),ce=new Sn(0,0),te=new Sn(0,0),pe=new Sn(0,0),Ce=new Sn(0,0);for(let Re=q;Re<=se;++Re){ce.y=te.y=Re*M,pe.y=Ce.y=(Re+1)*M;for(let it=N;it<=G;++it)ce.x=pe.x=it*M,te.x=Ce.x=(it+1)*M,(Hn($,T,O,ce,te,Ce)||Hn($,T,O,ce,Ce,pe))&&D.push({cellIdx:Re*this.cellsX+it,triIdx:P})}}if(D.length===0)return;D.sort((P,$)=>P.cellIdx-$.cellIdx||P.triIdx-$.triIdx);let x=0;for(;x<D.length;){const P=D[x].cellIdx,$={start:this.payload.length,len:0};for(;x<D.length&&D[x].cellIdx===P;)++$.len,this.payload.push(D[x++].triIdx);this.cells[P]=$}}_lazyInitLookup(){this.lookup||(this.lookup=new Uint8Array(Math.ceil(this.triangleCount/8))),this.lookup.fill(0)}queryPoint(n,i){if(this.triangleCount===0||this.cells.length===0||n.x>this.max.x||this.min.x>n.x||n.y>this.max.y||this.min.y>n.y)return;const d=Ju(n.x-this.min.x,this.xScale,this.cellsX),g=Ju(n.y-this.min.y,this.yScale,this.cellsY),h=this.cells[g*this.cellsX+d];if(h){this._lazyInitLookup();for(let v=0;v<h.len;v++){const w=this.payload[h.start+v],M=Math.floor(w/8),D=1<<w%8;if(!(this.lookup[M]&D)&&(this.lookup[M]|=D,i.push(w),i.length===this.triangleCount))return}}}query(n,i,d){if(this.triangleCount===0||this.cells.length===0||n.x>this.max.x||this.min.x>i.x||n.y>this.max.y||this.min.y>i.y)return;this._lazyInitLookup();const g=Ju(n.x-this.min.x,this.xScale,this.cellsX),h=Ju(i.x-this.min.x,this.xScale,this.cellsX),v=Ju(n.y-this.min.y,this.yScale,this.cellsY),w=Ju(i.y-this.min.y,this.yScale,this.cellsY);for(let M=v;M<=w;M++)for(let D=g;D<=h;D++){const x=this.cells[M*this.cellsX+D];if(x)for(let P=0;P<x.len;P++){const $=this.payload[x.start+P],T=Math.floor($/8),O=1<<$%8;if(!(this.lookup[T]&O)&&(this.lookup[T]|=O,d.push($),d.length===this.triangleCount))return}}}}function Ju(c,n,i){return Math.max(0,Math.min(i-1,Math.floor(c*n)))}lo(Gb,"TriangleGridIndex");class Xb{constructor(n){this.zoom=n.zoom,this.layers=n.layers,this.layerIds=this.layers.map(i=>i.fqid),this.index=n.index,this.hasPattern=!1,this.stateDependentLayerIds=this.layers.filter(i=>i.isStateDependent()).map(i=>i.id),this.footprints=[]}updateFootprints(n,i){for(const d of this.footprints)i.push({footprint:d,id:n})}populate(n,i,d,g){const h=[];for(const{feature:v,id:w,index:M,sourceLayerIndex:D}of n){const x=this.layers[0]._featureFilter.needGeometry,P=Y(v,x);if(!this.layers[0]._featureFilter.filter(new Ws(this.zoom),P,d))continue;const $={id:w,properties:v.properties,type:v.type,sourceLayerIndex:D,index:M,geometry:x?P.geometry:U(v,d,g),patterns:{}};h.push($)}for(const v of h){const{geometry:w,index:M,sourceLayerIndex:D}=v;this.addFeature(v,w,M,d,{},i.availableImages,i.brightness),i.featureIndex.insert(n[M].feature,w,M,D,this.index)}}isEmpty(){return this.footprints.length===0}uploadPending(){return!1}upload(n){}update(n,i,d,g,h,v,w){}destroy(){}addFeature(n,i,d,g,h,v=[],w){for(const M of kp(i,2)){const D=[],x=[],P=[],$=new Sn(1/0,1/0),T=new Sn(-1/0,-1/0);for(const G of M)if(G.length!==0){G!==M[0]&&P.push(x.length/2);for(let q=0;q<G.length;q++)x.push(G[q].x),x.push(G[q].y),D.push(G[q]),$.x=Math.min($.x,G[q].x),$.y=Math.min($.y,G[q].y),T.x=Math.max(T.x,G[q].x),T.y=Math.max(T.y,G[q].y)}const O=Bp(x,P),N=new Gb(D,O,8,256);this.footprints.push({vertices:D,indices:O,grid:N,min:$,max:T})}}}lo(Xb,"ClipBucket",{omit:["layers"]});const tC=Ss([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),nC=Ss([{name:"a_pos_end",components:4,type:"Int16"},{name:"a_angular_offset_factor",components:1,type:"Int16"}]),rC=Ss([{name:"a_centroid_pos",components:2,type:"Uint16"}]),Vv=Ss([{name:"a_join_normal_inside",components:3,type:"Int16"}]),m2=Ss([{name:"a_hidden_by_landmark",components:1,type:"Uint8"}]),i0=Ss([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),{members:iC}=tC;var Kb,Hv,su,oC,o0,qb,a0,Zp={};function Uv(){if(Hv)return Kb;Hv=1;var c=jr();function n(g,h,v,w,M){this.properties={},this.extent=v,this.type=0,this._pbf=g,this._geometry=-1,this._keys=w,this._values=M,g.readFields(i,this,h)}function i(g,h,v){g==1?h.id=v.readVarint():g==2?function(w,M){for(var D=w.readVarint()+w.pos;w.pos<D;){var x=M._keys[w.readVarint()],P=M._values[w.readVarint()];M.properties[x]=P}}(v,h):g==3?h.type=v.readVarint():g==4&&(h._geometry=v.pos)}function d(g){for(var h,v,w=0,M=0,D=g.length,x=D-1;M<D;x=M++)w+=((v=g[x]).x-(h=g[M]).x)*(h.y+v.y);return w}return Kb=n,n.types=["Unknown","Point","LineString","Polygon"],n.prototype.loadGeometry=function(){var g=this._pbf;g.pos=this._geometry;for(var h,v=g.readVarint()+g.pos,w=1,M=0,D=0,x=0,P=[];g.pos<v;){if(M<=0){var $=g.readVarint();w=7&$,M=$>>3}if(M--,w===1||w===2)D+=g.readSVarint(),x+=g.readSVarint(),w===1&&(h&&P.push(h),h=[]),h.push(new c(D,x));else{if(w!==7)throw new Error("unknown command "+w);h&&h.push(h[0].clone())}}return h&&P.push(h),P},n.prototype.bbox=function(){var g=this._pbf;g.pos=this._geometry;for(var h=g.readVarint()+g.pos,v=1,w=0,M=0,D=0,x=1/0,P=-1/0,$=1/0,T=-1/0;g.pos<h;){if(w<=0){var O=g.readVarint();v=7&O,w=O>>3}if(w--,v===1||v===2)(M+=g.readSVarint())<x&&(x=M),M>P&&(P=M),(D+=g.readSVarint())<$&&($=D),D>T&&(T=D);else if(v!==7)throw new Error("unknown command "+v)}return[x,$,P,T]},n.prototype.toGeoJSON=function(g,h,v){var w,M,D=this.extent*Math.pow(2,v),x=this.extent*g,P=this.extent*h,$=this.loadGeometry(),T=n.types[this.type];function O(q){for(var se=0;se<q.length;se++){var ce=q[se];q[se]=[360*(ce.x+x)/D-180,360/Math.PI*Math.atan(Math.exp((180-360*(ce.y+P)/D)*Math.PI/180))-90]}}switch(this.type){case 1:var N=[];for(w=0;w<$.length;w++)N[w]=$[w][0];O($=N);break;case 2:for(w=0;w<$.length;w++)O($[w]);break;case 3:for($=function(q){var se=q.length;if(se<=1)return[q];for(var ce,te,pe=[],Ce=0;Ce<se;Ce++){var Re=d(q[Ce]);Re!==0&&(te===void 0&&(te=Re<0),te===Re<0?(ce&&pe.push(ce),ce=[q[Ce]]):ce.push(q[Ce]))}return ce&&pe.push(ce),pe}($),w=0;w<$.length;w++)for(M=0;M<$[w].length;M++)O($[w][M])}$.length===1?$=$[0]:T="Multi"+T;var G={type:"Feature",geometry:{type:T,coordinates:$},properties:this.properties};return"id"in this&&(G.id=this.id),G},Kb}function Sl(){if(oC)return su;oC=1;var c=Uv();function n(d,g){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=d,this._keys=[],this._values=[],this._features=[],d.readFields(i,this,g),this.length=this._features.length}function i(d,g,h){d===15?g.version=h.readVarint():d===1?g.name=h.readString():d===5?g.extent=h.readVarint():d===2?g._features.push(h.pos):d===3?g._keys.push(h.readString()):d===4&&g._values.push(function(v){for(var w=null,M=v.readVarint()+v.pos;v.pos<M;){var D=v.readVarint()>>3;w=D===1?v.readString():D===2?v.readFloat():D===3?v.readDouble():D===4?v.readVarint64():D===5?v.readVarint():D===6?v.readSVarint():D===7?v.readBoolean():null}return w}(h))}return su=n,n.prototype.feature=function(d){if(d<0||d>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[d];var g=this._pbf.readVarint()+this._pbf.pos;return new c(this._pbf,g,this.extent,this._keys,this._values)},su}function s0(){return a0||(a0=1,Zp.VectorTile=function(){if(qb)return o0;qb=1;var c=Sl();function n(i,d,g){if(i===3){var h=new c(g,g.readVarint()+g.pos);h.length&&(d[h.name]=h)}}return o0=function(i,d){this.layers=i.readFields(n,{},d)},o0}(),Zp.VectorTileFeature=Uv(),Zp.VectorTileLayer=Sl()),Zp}var lc=s0();class $m extends Sn{constructor(n,i,d){super(n,i),this.z=d}}class Yb extends $m{constructor(n,i,d,g){super(n,i,d),this.w=g}}function Wv(c,n,i,d){const g=[],h=d===0?(v,w,M,D,x,P)=>{v.push(new Sn(P,M+(P-w)/(D-w)*(x-M)))}:(v,w,M,D,x,P)=>{v.push(new Sn(w+(P-M)/(x-M)*(D-w),P))};for(const v of c){const w=[];for(const M of v){if(M.length<=2)continue;const D=[];for(let $=0;$<M.length-1;$++){const T=M[$].x,O=M[$].y,N=M[$+1].x,G=M[$+1].y,q=d===0?T:O,se=d===0?N:G;q<n?se>n&&h(D,T,O,N,G,n):q>i?se<i&&h(D,T,O,N,G,i):D.push(M[$]),se<n&&q>=n&&h(D,T,O,N,G,n),se>i&&q<=i&&h(D,T,O,N,G,i)}let x=M[M.length-1];const P=d===0?x.x:x.y;P>=n&&P<=i&&D.push(x),D.length&&(x=D[D.length-1],D[0].x===x.x&&D[0].y===x.y||D.push(D[0]),w.push(D))}w.length&&g.push(w)}return g}function Jb(c,n,i,d){const g=i==="x"?"y":"x",h=(d-c[i])/(n[i]-c[i]);c[g]=c[g]+(n[g]-c[g])*h,c[i]=d,c.hasOwnProperty("z")&&(c.z=Pr(c.z,n.z,h)),c.hasOwnProperty("w")&&(c.w=Pr(c.w,n.w,h))}function Gv(c,n,i,d){const g=i,h=d;for(const v of["x","y"]){let w=c,M=n;w[v]>=M[v]&&(w=n,M=c),w[v]<g&&M[v]>g&&Jb(w,M,v,g),w[v]<h&&M[v]>h&&Jb(M,w,v,h)}}const Xv=Number.MAX_SAFE_INTEGER;function Kv(c,n,i,d){return c.order<n||c.order===Xv||!(c.clipMask&i)||function(g,h){return h.length!==0&&h.find(v=>v===g)===void 0}(d,c.clipScope)}function Vp(c,n){return c.x-n.x||c.y-n.y}function aC(c,n){return Vp(c.min,n.min)===0&&Vp(c.max,n.max)===0}function qv(c,n){return!(c.min.x>n.max.x||c.max.x<n.min.x||c.min.y>n.max.y||c.max.y<n.min.y)}function l0(c,n){if(c.length!==n.length)return!1;for(let i=0;i<c.length;i++)if(c[i].sourceId!==n[i].sourceId||!aC(c[i],n[i])||c[i].order!==n[i].order||c[i].clipMask!==n[i].clipMask||!Fr(c[i].clipScope,n[i].clipScope))return!1;return!0}function Yv(c,n,i){const d=1/Ei,g=1/(1<<i.canonical.z),h=(n.x*d+i.canonical.x)*g+i.wrap,v=(n.y*d+i.canonical.y)*g;return{min:new Sn((c.x*d+i.canonical.x)*g+i.wrap,(c.y*d+i.canonical.y)*g),max:new Sn(h,v)}}function sC(c,n,i){const d=1<<i.canonical.z,g=((n.x-i.wrap)*d-i.canonical.x)*Ei,h=(n.y*d-i.canonical.y)*Ei;return{min:new Sn(((c.x-i.wrap)*d-i.canonical.x)*Ei,(c.y*d-i.canonical.y)*Ei),max:new Sn(g,h)}}function Qb(c,n,i,d,g,h,v){const w=c.indices,M=c.vertices,D=[];for(let x=d;x<d+g;x+=3){const P=n[i[x+0]+h],$=n[i[x+1]+h],T=n[i[x+2]+h],O=Math.min(P.x,$.x,T.x),N=Math.max(P.x,$.x,T.x),G=Math.min(P.y,$.y,T.y),q=Math.max(P.y,$.y,T.y);D.length=0,c.grid.query(new Sn(O,G),new Sn(N,q),D);for(let se=0;se<D.length;se++){const ce=D[se];if(Hn(M[w[3*ce+0]],M[w[3*ce+1]],M[w[3*ce+2]],P,$,T,v))return!0}}return!1}function e_(c,n,i,d){if(!c||!i)return!1;let g=c.vertices;if(!n.canonical.equals(d.canonical)||n.wrap!==d.wrap){if(i.vertices.length<c.vertices.length)return e_(i,d,c,n);const h=n.canonical,v=d.canonical,w=Math.pow(2,v.z-h.z);g=c.vertices.map(M=>new Sn((M.x+h.x*Ei)*w-v.x*Ei,(M.y+h.y*Ei)*w-v.y*Ei))}return Qb(i,g,c.indices,0,c.indices.length,0,0)}function lC(c,n,i,d){const g=Math.pow(2,d.z-i.z);return new Sn((c+i.x*Ei)*g-d.x*Ei,(n+i.y*Ei)*g-d.y*Ei)}function Jv(c,n){const i=[];n.grid.queryPoint(c,i);const d=n.indices,g=n.vertices;for(let h=0;h<i.length;h++){const v=i[h];if(It([g[d[3*v+0]],g[d[3*v+1]],g[d[3*v+2]]],c))return!0}return!1}const Qv=[new Sn(0,0),new Sn(Ei,0),new Sn(Ei,Ei),new Sn(0,Ei)];function c0(c,n){const i=[];let d=[];if(!n||c.length<2)return[c];if(c.length===2)return fn(c[0],c[1],Qv)?[c]:[];for(let g=0;g<c.length+2;g++){const h=c[g%c.length],v=c[(g+1)%c.length],w=fn(g===0?c[c.length-1]:c[(g-1)%c.length],h,Qv),M=fn(h,v,Qv),D=w||M;D&&d.push(h),D&&M||d.length>0&&(d.length>1&&i.push(d),d=[])}return d.length>1&&i.push(d),i}const ey=lc.VectorTileFeature.types,p2=["fill-extrusion-base","fill-extrusion-height","fill-extrusion-color","fill-extrusion-pattern","fill-extrusion-flood-light-wall-radius","fill-extrusion-line-width","fill-extrusion-emissive-strength"],cC=["fill-extrusion-flood-light-ground-radius"],Hp=Math.pow(2,13),ty=Math.pow(2,15)-1,Up=new Sn(0,1),$u=2147483648;function Pf(c,n,i,d,g,h,v,w){c.emplaceBack((n<<1)+v,(i<<1)+h,(Math.floor(d*Hp)<<1)+g,Math.round(w))}function u0(c,n,i){c.emplaceBack(n.x*Ei,n.y*Ei,i?1:0)}function d0(c,n,i,d,g,h){c.emplaceBack(n.x,n.y,(i.x<<1)+d,(i.y<<1)+g,h)}function Wp(c,n,i){c.emplaceBack(n.x,n.y,n.z,i[0]*16384,i[1]*16384,i[2]*16384)}class t_{constructor(){this.vertexOffset=0,this.vertexCount=0,this.indexOffset=0,this.indexCount=0}}class n_{constructor(){this.centroidXY=new Sn(0,0),this.vertexArrayOffset=0,this.vertexCount=0,this.groundVertexArrayOffset=0,this.groundVertexCount=0,this.flags=0,this.footprintSegIdx=-1,this.footprintSegLen=0,this.polygonSegIdx=-1,this.polygonSegLen=0,this.min=new Sn(Number.MAX_VALUE,Number.MAX_VALUE),this.max=new Sn(-Number.MAX_VALUE,-Number.MAX_VALUE),this.height=0}span(){return new Sn(this.max.x-this.min.x,this.max.y-this.min.y)}}class uC{constructor(){this.acc=new Sn(0,0),this.accCount=0,this.centroidDataIndex=0}startRing(n,i){n.min.x===Number.MAX_VALUE&&(n.min.x=n.max.x=i.x,n.min.y=n.max.y=i.y)}appendEdge(n,i,d){this.accCount++,this.acc._add(i);let g=!!this.borders;i.x<n.min.x?(n.min.x=i.x,g=!0):i.x>n.max.x&&(n.max.x=i.x,g=!0),i.y<n.min.y?(n.min.y=i.y,g=!0):i.y>n.max.y&&(n.max.y=i.y,g=!0),((i.x===0||i.x===Ei)&&i.x===d.x)!=((i.y===0||i.y===Ei)&&i.y===d.y)&&this.processBorderOverlap(i,d),g&&this.checkBorderIntersection(i,d)}checkBorderIntersection(n,i){i.x<0!=n.x<0&&this.addBorderIntersection(0,Pr(i.y,n.y,(0-i.x)/(n.x-i.x))),i.x>Ei!=n.x>Ei&&this.addBorderIntersection(1,Pr(i.y,n.y,(Ei-i.x)/(n.x-i.x))),i.y<0!=n.y<0&&this.addBorderIntersection(2,Pr(i.x,n.x,(0-i.y)/(n.y-i.y))),i.y>Ei!=n.y>Ei&&this.addBorderIntersection(3,Pr(i.x,n.x,(Ei-i.y)/(n.y-i.y)))}addBorderIntersection(n,i){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const d=this.borders[n];i<d[0]&&(d[0]=i),i>d[1]&&(d[1]=i)}processBorderOverlap(n,i){if(n.x===i.x){if(n.y===i.y)return;const d=n.x===0?0:1;this.addBorderIntersection(d,i.y),this.addBorderIntersection(d,n.y)}else{const d=n.y===0?2:3;this.addBorderIntersection(d,i.x),this.addBorderIntersection(d,n.x)}}centroid(){return this.accCount===0?new Sn(0,0):new Sn(Math.floor(Math.max(0,this.acc.x)/this.accCount),Math.floor(Math.max(0,this.acc.y)/this.accCount))}intersectsCount(){return this.borders?this.borders.reduce((n,i)=>n+ +(i[0]!==Number.MAX_VALUE),0):0}}function f0(c,n){const i=c.add(n)._unit(),d=Vn(c.x*i.x+c.y*i.y,-1,1);var g,h,v;return v=Math.acos(d),Math.min(4,Math.max(-4,Math.tan(v)))/4*ty*((g=c).x*(h=n).y-g.y*h.x<0?-1:1)}const dC=[c=>c.x<0,c=>c.x>Ei,c=>c.y<0,c=>c.y>Ei];function fC(c,n,i,d){const g=[4];if(d===0)return g;i._mult(d);const h=c.sub(i),v=n.sub(i),w=[c,n,h,v];for(let M=0;M<4;M++)for(const D of w)if(dC[M](D)){g.push(M);break}return g}class h0{constructor(n){this.vertexArray=new gm,this.indexArray=new oc,this.programConfigurations=new Cd(n.layers,{zoom:n.zoom,lut:n.lut},i=>cC.includes(i)),this._segments=new gl,this.hiddenByLandmarkVertexArray=new Pp,this._segmentToGroundQuads={},this._segmentToGroundQuads[0]=[],this._segmentToRegionTriCounts={},this._segmentToRegionTriCounts[0]=[0,0,0,0,0],this.regionSegments={},this.regionSegments[4]=new gl}getDefaultSegment(){return this.regionSegments[4]}hasData(){return this.vertexArray.length!==0}addData(n,i,d,g=!1){const h=n.length;if(h>2){let v=Math.max(0,this._segments.get().length-1);const w=this._segments._prepareSegment(4*h,this.vertexArray.length,2*this._segmentToGroundQuads[v].length);let M;v!==this._segments.get().length-1&&(v++,this._segmentToGroundQuads[v]=[],this._segmentToRegionTriCounts[v]=[0,0,0,0,0]);{const D=n[0],x=n[1];M=f0(D.sub(n[h-1])._perp()._unit(),x.sub(D)._perp()._unit())}for(let D=0;D<h;D++){const x=D===h-1?0:D+1,P=n[D],$=n[x],T=n[x===h-1?0:x+1],O=$.sub(P)._perp()._unit(),N=f0(O,T.sub($)._perp()._unit()),G=M,q=N;if(p0(P,$,i)||g&&i_(P,i)&&i_($,i)){M=N;continue}const se=w.vertexLength;d0(this.vertexArray,P,$,1,1,G),d0(this.vertexArray,P,$,1,0,G),d0(this.vertexArray,P,$,0,1,q),d0(this.vertexArray,P,$,0,0,q),w.vertexLength+=4;const ce=fC(P,$,O,d);for(const te of ce)this._segmentToGroundQuads[v].push({id:se,region:te}),this._segmentToRegionTriCounts[v][te]+=2,w.primitiveLength+=2;M=N}}}prepareBorderSegments(){if(!this.hasData())return;const n=this._segments.get(),i=n.length;for(let d=0;d<i;d++)this._segmentToGroundQuads[d].sort((g,h)=>g.region-h.region);for(let d=0;d<i;d++){const g=this._segmentToGroundQuads[d],h=n[d],v=this._segmentToRegionTriCounts[d];v.reduce((M,D)=>M+D,0);let w=0;for(let M=0;M<=4;M++){const D=v[M];if(D!==0){let x=this.regionSegments[M];x||(x=this.regionSegments[M]=new gl);const P={vertexOffset:h.vertexOffset,primitiveOffset:h.primitiveOffset+w,vertexLength:h.vertexLength,primitiveLength:D};x.get().push(P)}w+=D}for(let M=0;M<g.length;M++){const D=g[M].id;this.indexArray.emplaceBack(D,D+1,D+3),this.indexArray.emplaceBack(D,D+3,D+2)}}this._segmentToGroundQuads=null,this._segmentToRegionTriCounts=null,this._segments.destroy(),this._segments=null}addPaintPropertiesData(n,i,d,g,h,v){this.hasData()&&this.programConfigurations.populatePaintArrays(this.vertexArray.length,n,i,d,g,h,v)}upload(n){this.hasData()&&(this.vertexBuffer=n.createVertexBuffer(this.vertexArray,nC.members),this.indexBuffer=n.createIndexBuffer(this.indexArray))}uploadPaintProperties(n){this.hasData()&&this.programConfigurations.upload(n)}update(n,i,d,g,h,v,w){this.hasData()&&this.programConfigurations.updatePaintArrays(n,i,d,g,h,v,w)}updateHiddenByLandmark(n){if(!this.hasData())return;const i=n.groundVertexCount+n.groundVertexArrayOffset;if(n.groundVertexCount===0)return;const d=n.flags&$u?1:0;for(let g=n.groundVertexArrayOffset;g<i;++g)this.hiddenByLandmarkVertexArray.emplace(g,d);this._needsHiddenByLandmarkUpdate=!0}uploadHiddenByLandmark(n){this.hasData()&&this._needsHiddenByLandmarkUpdate&&(!this.hiddenByLandmarkVertexBuffer&&this.hiddenByLandmarkVertexArray.length>0?this.hiddenByLandmarkVertexBuffer=n.createVertexBuffer(this.hiddenByLandmarkVertexArray,m2.members,!0):this.hiddenByLandmarkVertexBuffer&&this.hiddenByLandmarkVertexBuffer.updateData(this.hiddenByLandmarkVertexArray),this._needsHiddenByLandmarkUpdate=!1)}destroy(){if(this.vertexBuffer){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.hiddenByLandmarkVertexBuffer&&this.hiddenByLandmarkVertexBuffer.destroy(),this._segments&&this._segments.destroy(),this.programConfigurations.destroy();for(let n=0;n<=4;n++){const i=this.regionSegments[n];i&&i.destroy()}}}}class Gp{constructor(n){this.zoom=n.zoom,this.canonical=n.canonical,this.overscaling=n.overscaling,this.layers=n.layers,this.pixelRatio=n.pixelRatio,this.layerIds=this.layers.map(i=>i.fqid),this.index=n.index,this.hasPattern=!1,this.edgeRadius=0,this.projection=n.projection,this.activeReplacements=[],this.replacementUpdateTime=0,this.centroidData=[],this.footprintIndices=new oc,this.footprintVertices=new Xu,this.footprintSegments=[],this.layoutVertexArray=new Ku,this.centroidVertexArray=new zl,this.wallVertexArray=new ac,this.indexArray=new oc,this.programConfigurations=new Cd(n.layers,{zoom:n.zoom,lut:n.lut},i=>p2.includes(i)),this.segments=new gl,this.stateDependentLayerIds=this.layers.filter(i=>i.isStateDependent()).map(i=>i.id),this.groundEffect=new h0(n),this.maxHeight=0,this.partLookup={},this.triangleSubSegments=[],this.polygonSegments=[]}updateFootprints(n,i){}populate(n,i,d,g){this.features=[],this.hasPattern=Fv("fill-extrusion",this.layers,this.pixelRatio,i),this.featuresOnBorder=[],this.borderFeatureIndices=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.selfDEMTileTimestamp=Number.MAX_VALUE,this.borderDEMTileTimestamp=[Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE],this.tileToMeter=r(d),this.edgeRadius=this.layers[0].layout.get("fill-extrusion-edge-radius")/this.tileToMeter,this.wallMode=this.layers[0].paint.get("fill-extrusion-line-width").constantOr(1)!==0;for(const{feature:h,id:v,index:w,sourceLayerIndex:M}of n){const D=this.layers[0]._featureFilter.needGeometry,x=Y(h,D);if(!this.layers[0]._featureFilter.filter(new Ws(this.zoom),x,d))continue;const P={id:v,sourceLayerIndex:M,index:w,geometry:D?x.geometry:U(h,d,g),properties:h.properties,type:h.type,patterns:{}},$=this.layoutVertexArray.length,T=ey[P.type]==="Polygon";if(this.hasPattern)this.features.push(kv("fill-extrusion",this.layers,P,this.zoom,this.pixelRatio,i));else if(this.wallMode)for(const O of P.geometry)for(const N of c0(O,T))this.addFeature(P,[N],w,d,{},i.availableImages,g,i.brightness);else this.addFeature(P,P.geometry,w,d,{},i.availableImages,g,i.brightness);i.featureIndex.insert(h,P.geometry,w,M,this.index,$)}this.sortBorders(),this.projection.name==="mercator"&&this.splitToSubtiles(),this.groundEffect.prepareBorderSegments(),this.polygonSegments.length=0}addFeatures(n,i,d,g,h,v){for(const w of this.features){const M=ey[w.type]==="Polygon",{geometry:D}=w;if(this.wallMode)for(const x of D)for(const P of c0(x,M))this.addFeature(w,[P],w.index,i,d,g,h,v);else this.addFeature(w,D,w.index,i,d,g,h,v)}this.sortBorders(),this.projection.name==="mercator"&&this.splitToSubtiles()}update(n,i,d,g,h,v,w){this.programConfigurations.updatePaintArrays(n,i,h,d,g,v,w),this.groundEffect.update(n,i,h,d,g,v,w)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload||this.groundEffect.programConfigurations.needsUpload}upload(n){this.uploaded||(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,iC),this.indexBuffer=n.createIndexBuffer(this.indexArray),this.wallVertexBuffer=n.createVertexBuffer(this.wallVertexArray,Vv.members),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=n.createVertexBuffer(this.layoutVertexExtArray,i0.members,!0)),this.groundEffect.upload(n)),this.groundEffect.uploadPaintProperties(n),this.programConfigurations.upload(n),this.uploaded=!0}uploadCentroid(n){this.groundEffect.uploadHiddenByLandmark(n),this.needsCentroidUpdate&&(!this.centroidVertexBuffer&&this.centroidVertexArray.length>0?this.centroidVertexBuffer=n.createVertexBuffer(this.centroidVertexArray,rC.members,!0):this.centroidVertexBuffer&&this.centroidVertexBuffer.updateData(this.centroidVertexArray),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.groundEffect.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(n,i,d,g,h,v,w,M){const D=this.layers[0].paint.get("fill-extrusion-flood-light-ground-radius").evaluate(n,{})/this.tileToMeter,x=[new Sn(0,0),new Sn(Ei,Ei)],P=w.projection,$=P.name==="globe",T=this.wallMode||ey[n.type]==="Polygon",O=new uC;O.centroidDataIndex=this.centroidData.length;const N=new n_,G=this.layers[0].paint.get("fill-extrusion-base").evaluate(n,{},g)<=0,q=this.layers[0].paint.get("fill-extrusion-height").evaluate(n,{},g);let se;if(N.height=q,N.vertexArrayOffset=this.layoutVertexArray.length,N.groundVertexArrayOffset=this.groundEffect.vertexArray.length,$&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new gf),this.wallMode){if($)return void Ln("Non zero fill-extrusion-line-width is not yet supported on globe.");if(i.length!==1)return;se=function(et){const Lt=et[0].x===et[et.length-1].x&&et[0].y===et[et.length-1].y;(function(di){let Wr=0;const bo=di.length;for(let ji=0;ji<bo;ji++)Wr+=(di[(ji+1)%bo].x-di[ji].x)*(di[(ji+1)%bo].y+di[ji].y);return Wr>=0})(et)||(et=et.reverse());const Zt={geometry:[],joinNormals:[],indices:[]},on=[],Wt=[],cn=[];let wn=et.length;for(;wn>=2&&et[wn-1].equals(et[wn-2]);)wn--;if(wn<(Lt?3:2))return Zt;let Nn,vn,xr,Hr,_r,Bi=0;for(;Bi<wn-1&&et[Bi].equals(et[Bi+1]);)Bi++;Lt&&(Nn=et[wn-2],_r=et[Bi].sub(Nn)._unit()._perp());for(let di=Bi;di<wn;di++){if(xr=di===wn-1?Lt?et[Bi+1]:void 0:et[di+1],xr&&et[di].equals(xr))continue;_r&&(Hr=_r),Nn&&(vn=Nn),Nn=et[di],_r=xr?xr.sub(Nn)._unit()._perp():Hr,Hr=Hr||_r;let Wr=Hr.add(_r);Wr.x===0&&Wr.y===0||Wr._unit();const bo=Wr.x*_r.x+Wr.y*_r.y,ji=bo!==0?1/bo:1/0,Qi=Hr.x*_r.y-Hr.y*_r.x>0;let ia="miter";const Aa=2;ia==="miter"&&ji>Aa&&(ia="bevel"),ia==="bevel"&&(ji>100&&(ia="flipbevel"),ji<Aa&&(ia="miter"));const Na=(Ba,ts,ns,As)=>{const Rs=new Sn(Ba.x,Ba.y),_a=new Sn(Ba.x,Ba.y);Rs.x+=ts.x*As,Rs.y+=ts.y*As,_a.x-=ts.x*Math.max(ns,1),_a.y-=ts.y*Math.max(ns,1),cn.push(ts),on.push(Rs),Wt.push(_a)};if(ia==="miter")Wr._mult(ji),Na(Nn,Wr,0,0);else if(ia==="flipbevel")Wr=_r.mult(-1),Na(Nn,Wr,0,0),Na(Nn,Wr.mult(-1),0,0);else{const Ba=-Math.sqrt(ji*ji-1),ts=Qi?Ba:0,ns=Qi?0:Ba;vn&&Na(Nn,Hr,ts,ns),xr&&Na(Nn,_r,ts,ns)}}Zt.geometry=[...on,...Wt.reverse(),on[0]],Zt.joinNormals=[...cn,...cn.reverse(),cn[cn.length-1]];const Mi=Zt.geometry.length-1;for(let di=0;di<Mi/2;di++)if(di+1<Mi/2){let Wr=di,bo=di+1,ji=Mi-1-di,Qi=Mi-2-di;Wr=Wr===0?Mi-1:Wr-1,bo=bo===0?Mi-1:bo-1,ji=ji===0?Mi-1:ji-1,Qi=Qi===0?Mi-1:Qi-1,Zt.indices.push(ji),Zt.indices.push(bo),Zt.indices.push(Wr),Zt.indices.push(ji),Zt.indices.push(Qi),Zt.indices.push(bo)}return Zt}(i[0]),i=[se.geometry]}const ce=(et,Lt)=>et<(Lt.length-1)/2||et===Lt.length-1,te=this.wallMode?[i]:kp(i,500);for(let et=te.length-1;et>=0;et--){const Lt=te[et];(Lt.length===0||(pe=Lt[0]).every(ut=>ut.x<=0)||pe.every(ut=>ut.x>=Ei)||pe.every(ut=>ut.y<=0)||pe.every(ut=>ut.y>=Ei))&&te.splice(et,1)}var pe;let Ce;if($)Ce=o_(te,x,g);else{Ce=[];for(const et of te)Ce.push({polygon:et,bounds:x})}const Re=T?this.edgeRadius:0,it=Re>0&&this.zoom<17,nt=(et,Lt)=>{if(et.length===0)return!1;const ut=et[et.length-1];return Lt.x===ut.x&&Lt.y===ut.y};for(const{polygon:et,bounds:Lt}of Ce){let ut=0,Zt=0;for(const wn of et)T&&!wn[0].equals(wn[wn.length-1])&&wn.push(wn[0]),Zt+=T?wn.length-1:wn.length;const on=this.segments.prepareSegment((T?5:4)*Zt,this.layoutVertexArray,this.indexArray);N.footprintSegIdx<0&&(N.footprintSegIdx=this.footprintSegments.length),N.polygonSegIdx<0&&(N.polygonSegIdx=this.polygonSegments.length);const Wt={triangleArrayOffset:this.indexArray.length,triangleCount:0,triangleSegIdx:this.segments.segments.length-1},cn=new t_;if(cn.vertexOffset=this.footprintVertices.length,cn.indexOffset=3*this.footprintIndices.length,cn.ringIndices=[],T){const wn=[],Nn=[];ut=on.vertexLength;for(let xr=0;xr<et.length;xr++){const Hr=et[xr];Hr.length&&xr!==0&&Nn.push(wn.length/2);const _r=[];let Bi,Mi;Bi=Hr[1].sub(Hr[0])._perp()._unit(),cn.ringIndices.push(Hr.length-1);for(let di=1;di<Hr.length;di++){const Wr=Hr[di],bo=Hr[di===Hr.length-1?1:di+1],ji=Wr.clone();if(Re){Mi=bo.sub(Wr)._perp()._unit();const Qi=Bi.add(Mi)._unit(),ia=Re*Math.min(4,1/(Bi.x*Qi.x+Bi.y*Qi.y));ji.x+=ia*Qi.x,ji.y+=ia*Qi.y,ji.x=Math.round(ji.x),ji.y=Math.round(ji.y),Bi=Mi}if(!G||Re!==0&&!it||nt(_r,ji)||_r.push(ji),Pf(this.layoutVertexArray,ji.x,ji.y,0,0,1,1,0),this.wallMode){const Qi=ce(di,Hr);u0(this.wallVertexArray,se.joinNormals[di],!Qi)}on.vertexLength++,this.footprintVertices.emplaceBack(Wr.x,Wr.y),wn.push(Wr.x,Wr.y),$&&Wp(this.layoutVertexExtArray,P.projectTilePoint(ji.x,ji.y,g),P.upVector(g,ji.x,ji.y))}G&&(Re===0||it)&&(_r.length!==0&&nt(_r,_r[0])&&_r.pop(),this.groundEffect.addData(_r,Lt,D))}const vn=this.wallMode?se.indices:Bp(wn,Nn);for(let xr=0;xr<vn.length;xr+=3)this.footprintIndices.emplaceBack(cn.vertexOffset+vn[xr+0],cn.vertexOffset+vn[xr+1],cn.vertexOffset+vn[xr+2]),this.indexArray.emplaceBack(ut+vn[xr],ut+vn[xr+2],ut+vn[xr+1]),on.primitiveLength++;cn.indexCount+=vn.length,cn.vertexCount+=this.footprintVertices.length-cn.vertexOffset}for(let wn=0;wn<et.length;wn++){const Nn=et[wn];O.startRing(N,Nn[0]);let vn=Nn.length>4&&g0(Nn[Nn.length-2],Nn[0],Nn[1]),xr=Re?hC(Nn[Nn.length-2],Nn[0],Nn[1],Re):0;const Hr=[];let _r,Bi,Mi;Bi=Nn[1].sub(Nn[0])._perp()._unit();let di=!0;for(let Wr=1,bo=0;Wr<Nn.length;Wr++){let ji=Nn[Wr-1],Qi=Nn[Wr];const ia=Nn[Wr===Nn.length-1?1:Wr+1];if(O.appendEdge(N,Qi,ji),p0(Qi,ji,Lt)){Re&&(Bi=ia.sub(Qi)._perp()._unit(),di=!di);continue}const Aa=Qi.sub(ji)._perp(),Na=Aa.x/(Math.abs(Aa.x)+Math.abs(Aa.y)),Ba=Aa.y>0?1:0,ts=ji.dist(Qi);if(bo+ts>32768&&(bo=0),Re){Mi=ia.sub(Qi)._perp()._unit();let _a=r_(ji,Qi,ia,m0(Bi,Mi),Re);isNaN(_a)&&(_a=0);const Ya=Qi.sub(ji)._unit();ji=ji.add(Ya.mult(xr))._round(),Qi=Qi.add(Ya.mult(-_a))._round(),xr=_a,Bi=Mi,G&&this.zoom>=17&&(nt(Hr,ji)||Hr.push(ji),nt(Hr,Qi)||Hr.push(Qi))}const ns=on.vertexLength,As=Nn.length>4&&g0(ji,Qi,ia);let Rs=ny(bo,vn,di);if(Pf(this.layoutVertexArray,ji.x,ji.y,Na,Ba,0,0,Rs),Pf(this.layoutVertexArray,ji.x,ji.y,Na,Ba,0,1,Rs),this.wallMode){const _a=ce(Wr-1,Nn),Ya=se.joinNormals[Wr-1];u0(this.wallVertexArray,Ya,_a),u0(this.wallVertexArray,Ya,_a)}if(bo+=ts,Rs=ny(bo,As,!di),vn=As,Pf(this.layoutVertexArray,Qi.x,Qi.y,Na,Ba,0,0,Rs),Pf(this.layoutVertexArray,Qi.x,Qi.y,Na,Ba,0,1,Rs),this.wallMode){const _a=ce(Wr,Nn),Ya=se.joinNormals[Wr];u0(this.wallVertexArray,Ya,_a),u0(this.wallVertexArray,Ya,_a)}if(on.vertexLength+=4,this.indexArray.emplaceBack(ns+0,ns+1,ns+2),this.indexArray.emplaceBack(ns+1,ns+3,ns+2),on.primitiveLength+=2,Re){const _a=ut+(Wr===1?Nn.length-2:Wr-2),Ya=Wr===1?ut:_a+1;if(this.indexArray.emplaceBack(ns+1,_a,ns+3),this.indexArray.emplaceBack(_a,Ya,ns+3),on.primitiveLength+=2,_r===void 0&&(_r=ns),!p0(ia,Nn[Wr],Lt)){const bs=Wr===Nn.length-1?_r:on.vertexLength;this.indexArray.emplaceBack(ns+2,ns+3,bs),this.indexArray.emplaceBack(ns+3,bs+1,bs),this.indexArray.emplaceBack(ns+3,Ya,bs+1),on.primitiveLength+=3}di=!di}if($){const _a=this.layoutVertexExtArray,Ya=P.projectTilePoint(ji.x,ji.y,g),bs=P.projectTilePoint(Qi.x,Qi.y,g),Gs=P.upVector(g,ji.x,ji.y),bl=P.upVector(g,Qi.x,Qi.y);Wp(_a,Ya,Gs),Wp(_a,Ya,Gs),Wp(_a,bs,bl),Wp(_a,bs,bl)}}T&&(ut+=Nn.length-1),G&&Re&&this.zoom>=17&&(Hr.length!==0&&nt(Hr,Hr[0])&&Hr.pop(),this.groundEffect.addData(Hr,Lt,D,Re>0))}this.footprintSegments.push(cn),Wt.triangleCount=this.indexArray.length-Wt.triangleArrayOffset,this.polygonSegments.push(Wt),++N.footprintSegLen,++N.polygonSegLen}if(N.vertexCount=this.layoutVertexArray.length-N.vertexArrayOffset,N.groundVertexCount=this.groundEffect.vertexArray.length-N.groundVertexArrayOffset,N.vertexCount!==0){if(N.centroidXY=O.borders?Up:this.encodeCentroid(O,N),this.centroidData.push(N),O.borders){this.featuresOnBorder.push(O);const et=this.featuresOnBorder.length-1;for(let Lt=0;Lt<O.borders.length;Lt++)O.borders[Lt][0]!==Number.MAX_VALUE&&this.borderFeatureIndices[Lt].push(et)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,d,h,v,g,M),this.groundEffect.addPaintPropertiesData(n,d,h,v,g,M),this.maxHeight=Math.max(this.maxHeight,q)}}sortBorders(){for(let n=0;n<this.borderFeatureIndices.length;n++)this.borderFeatureIndices[n].sort((i,d)=>this.featuresOnBorder[i].borders[n][0]-this.featuresOnBorder[d].borders[n][0])}splitToSubtiles(){const n=[];for(let w=0;w<this.centroidData.length;w++){const M=this.centroidData[w],D=+(M.min.y+M.max.y>Ei),x=2*D+(+(M.min.x+M.max.x>Ei)^D);for(let P=0;P<M.polygonSegLen;P++){const $=M.polygonSegIdx+P;n.push({centroidIdx:w,subtile:x,polygonSegmentIdx:$,triangleSegmentIdx:this.polygonSegments[$].triangleSegIdx})}}const i=new oc;n.sort((w,M)=>w.triangleSegmentIdx===M.triangleSegmentIdx?w.subtile-M.subtile:w.triangleSegmentIdx-M.triangleSegmentIdx);let d=0,g=0,h=0;for(const w of n){if(w.triangleSegmentIdx!==d)break;h++}const v=n.length;for(;g!==n.length;){d=n[g].triangleSegmentIdx;let w=0,M=g,D=g;for(let x=M;x<h&&n[x].subtile===w;x++)D++;for(;M!==h;){const x=n[M];w=x.subtile;const P=this.centroidData[x.centroidIdx].min.clone(),$=this.centroidData[x.centroidIdx].max.clone(),T={vertexOffset:this.segments.segments[d].vertexOffset,primitiveOffset:i.length,vertexLength:this.segments.segments[d].vertexLength,primitiveLength:0,sortKey:void 0,vaos:{}};for(let O=M;O<D;O++){const N=n[O],G=this.polygonSegments[N.polygonSegmentIdx],q=this.centroidData[N.centroidIdx].min,se=this.centroidData[N.centroidIdx].max,ce=this.indexArray.uint16;for(let te=G.triangleArrayOffset;te<G.triangleArrayOffset+G.triangleCount;te++)i.emplaceBack(ce[3*te],ce[3*te+1],ce[3*te+2]);T.primitiveLength+=G.triangleCount,P.x=Math.min(P.x,q.x),P.y=Math.min(P.y,q.y),$.x=Math.max($.x,se.x),$.y=Math.max($.y,se.y)}T.primitiveLength>0&&this.triangleSubSegments.push({segment:T,min:P,max:$}),M=D;for(let O=M;O<h&&n[O].subtile===n[M].subtile;O++)D++}g=h;for(let x=g;x<v&&n[x].triangleSegmentIdx===n[g].triangleSegmentIdx;x++)h++}i._trim(),this.indexArray=i}getVisibleSegments(n,i,d){const g=new gl;if(this.wallMode){for(const N of this.triangleSubSegments)g.segments.push(N.segment);return g}let h=0,v=0;const w=1<<n.canonical.z;if(i){const N=i.getMinMaxForTile(n);N&&(h=N.min,v=N.max)}v+=this.maxHeight;const M=n.toUnwrapped();let D;const x=[M.canonical.x/w+M.wrap,M.canonical.y/w],P=[(M.canonical.x+1)/w+M.wrap,(M.canonical.y+1)/w],$=(N,G,q)=>[N[0]*(1-q[0])+G[0]*q[0],N[1]*(1-q[1])+G[1]*q[1]],T=[],O=[];for(const N of this.triangleSubSegments){T[0]=N.min.x/Ei,T[1]=N.min.y/Ei,O[0]=N.max.x/Ei,O[1]=N.max.y/Ei;const G=$(x,P,T),q=$(x,P,O);if(new xo([G[0],G[1],h],[q[0],q[1],v]).intersectsPrecise(d)===0){D&&(g.segments.push(D),D=void 0);continue}const se=N.segment;D&&D.vertexOffset!==se.vertexOffset&&(g.segments.push(D),D=void 0),D?(D.vertexLength+=se.vertexLength,D.primitiveLength+=se.primitiveLength):D={vertexOffset:se.vertexOffset,primitiveLength:se.primitiveLength,vertexLength:se.vertexLength,primitiveOffset:se.primitiveOffset,sortKey:void 0,vaos:{}}}return D&&g.segments.push(D),g}encodeCentroid(n,i){const d=n.centroid(),g=i.span(),h=Math.min(7,Math.round(g.x*this.tileToMeter/10)),v=Math.min(7,Math.round(g.y*this.tileToMeter/10));return new Sn(Vn(d.x,1,Ei-1)<<3|h,Vn(d.y,1,Ei-1)<<3|v)}encodeBorderCentroid(n){if(!n.borders)return new Sn(0,0);const i=n.borders,d=Number.MAX_VALUE;if(i[0][0]!==d||i[1][0]!==d){const g=i[0][0]!==d?0:1;return new Sn(6|(i[0][0]!==d?0:65528),(i[g][0]+i[g][1])/2<<3|6)}{const g=i[2][0]!==d?2:3;return new Sn((i[g][0]+i[g][1])/2<<3|6,6|(i[2][0]!==d?0:65528))}}showCentroid(n){const i=this.centroidData[n.centroidDataIndex];i.flags&=$u,i.centroidXY.x=0,i.centroidXY.y=0,this.writeCentroidToBuffer(i)}writeCentroidToBuffer(n){this.groundEffect.updateHiddenByLandmark(n);const i=n.vertexArrayOffset,d=n.vertexCount+n.vertexArrayOffset,g=n.flags&$u?Up:n.centroidXY,h=this.centroidVertexArray.geta_centroid_pos0(i);if(this.centroidVertexArray.geta_centroid_pos1(i)!==g.y||h!==g.x){for(let v=i;v<d;++v)this.centroidVertexArray.emplace(v,g.x,g.y);this.needsCentroidUpdate=!0}}createCentroidsBuffer(){this.centroidVertexArray.resize(this.layoutVertexArray.length),this.groundEffect.hiddenByLandmarkVertexArray.resize(this.groundEffect.vertexArray.length);for(const n of this.centroidData)this.writeCentroidToBuffer(n)}updateReplacement(n,i,d){if(i.updateTime===this.replacementUpdateTime)return;this.replacementUpdateTime=i.updateTime;const g=i.getReplacementRegionsForTile(n.toUnwrapped());if(l0(this.activeReplacements,g))return;if(this.activeReplacements=g,this.centroidVertexArray.length===0)this.createCentroidsBuffer();else for(const v of this.centroidData)v.flags&=2147483647;const h=[];for(const v of this.activeReplacements){if(v.order<d)continue;const w=Math.max(1,Math.pow(2,v.footprintTileId.canonical.z-n.canonical.z));for(const M of this.centroidData)if(!(M.flags&$u||v.min.x>M.max.x||M.min.x>v.max.x||v.min.y>M.max.y||M.min.y>v.max.y))for(let D=0;D<M.footprintSegLen;D++){const x=this.footprintSegments[M.footprintSegIdx+D];if(h.length=0,mC(this.footprintVertices,x.vertexOffset,x.vertexCount,v.footprintTileId.canonical,n.canonical,h),Qb(v.footprint,h,this.footprintIndices.uint16,x.indexOffset,x.indexCount,-x.vertexOffset,-w)){M.flags|=$u;break}}}for(const v of this.centroidData)this.writeCentroidToBuffer(v);this.borderDoneWithNeighborZ=[-1,-1,-1,-1]}footprintContainsPoint(n,i,d){let g=!1;for(let h=0;h<d.footprintSegLen;h++){const v=this.footprintSegments[d.footprintSegIdx+h];let w=0;for(const M of v.ringIndices){for(let D=w,x=M+w-1;D<M+w;x=D++){const P=this.footprintVertices.int16[2*(D+v.vertexOffset)+0],$=this.footprintVertices.int16[2*(D+v.vertexOffset)+1],T=this.footprintVertices.int16[2*(x+v.vertexOffset)+1];$>i!=T>i&&n<(this.footprintVertices.int16[2*(x+v.vertexOffset)+0]-P)*(i-$)/(T-$)+P&&(g=!g)}w=M}}return g}getHeightAtTileCoord(n,i){let d=Number.NEGATIVE_INFINITY,g=!0;const h=4*(n+Ei)*Ei+(i+Ei);if(this.partLookup.hasOwnProperty(h)){const v=this.partLookup[h];return v?{height:v.height,hidden:!!(v.flags&$u)}:void 0}for(const v of this.centroidData)n>v.max.x||v.min.x>n||i>v.max.y||v.min.y>i||this.footprintContainsPoint(n,i,v)&&v&&v.height>d&&(d=v.height,this.partLookup[h]=v,g=!!(v.flags&$u));if(d!==Number.NEGATIVE_INFINITY)return{height:d,hidden:g};this.partLookup[h]=void 0}}function m0(c,n){const i=c.add(n)._unit();return c.x*i.x+c.y*i.y}function hC(c,n,i,d){const g=n.sub(c)._perp()._unit(),h=i.sub(n)._perp()._unit();return r_(c,n,i,m0(g,h),d)}function r_(c,n,i,d,g){const h=Math.sqrt(1-d*d);return Math.min(c.dist(n)/3,n.dist(i)/3,g*h/d)}function p0(c,n,i){return c.x<i[0].x&&n.x<i[0].x||c.x>i[1].x&&n.x>i[1].x||c.y<i[0].y&&n.y<i[0].y||c.y>i[1].y&&n.y>i[1].y}function i_(c,n){return c.x<n[0].x||c.x>n[1].x||c.y<n[0].y||c.y>n[1].y}function g0(c,n,i){if(c.x<0||c.x>=Ei||n.x<0||n.x>=Ei||i.x<0||i.x>=Ei)return!1;const d=i.sub(n),g=d.perp(),h=c.sub(n);return(d.x*h.x+d.y*h.y)/Math.sqrt((d.x*d.x+d.y*d.y)*(h.x*h.x+h.y*h.y))>-.866&&g.x*h.x+g.y*h.y<0}function ny(c,n,i){const d=n?2|c:-3&c;return i?1|d:-2&d}function ry(){const c=Math.PI/32,n=Math.tan(c),i=Vd;return i*Math.sqrt(1+2*n*n)-i}function o_(c,n,i){const d=1<<i.z,g=Fc(i.x/d),h=Fc((i.x+1)/d),v=hc(i.y/d),w=hc((i.y+1)/d);return function(M,D,x,P,$=0,T){const O=[];if(!M.length||!x||!P)return O;const N=(Ce,Re)=>{for(const it of Ce)O.push({polygon:it,bounds:Re})},G=Math.ceil(Math.log2(x)),q=Math.ceil(Math.log2(P)),se=G-q,ce=[];for(let Ce=0;Ce<Math.abs(se);Ce++)ce.push(se>0?0:1);for(let Ce=0;Ce<Math.min(G,q);Ce++)ce.push(0),ce.push(1);let te=M;if(te=Wv(te,D[0].y-$,D[1].y+$,1),te=Wv(te,D[0].x-$,D[1].x+$,0),!te.length)return O;const pe=[];for(ce.length?pe.push({polygons:te,bounds:D,depth:0}):N(te,D);pe.length;){const Ce=pe.pop(),Re=Ce.depth,it=ce[Re],nt=Ce.bounds[0],et=Ce.bounds[1],Lt=it===0?nt.x:nt.y,ut=it===0?et.x:et.y,Zt=T?T(it,Lt,ut):.5*(Lt+ut),on=Wv(Ce.polygons,Lt-$,Zt+$,it),Wt=Wv(Ce.polygons,Zt-$,ut+$,it);if(on.length){const cn=[nt,new Sn(it===0?Zt:et.x,it===1?Zt:et.y)];ce.length>Re+1?pe.push({polygons:on,bounds:cn,depth:Re+1}):N(on,cn)}if(Wt.length){const cn=[new Sn(it===0?Zt:nt.x,it===1?Zt:nt.y),et];ce.length>Re+1?pe.push({polygons:Wt,bounds:cn,depth:Re+1}):N(Wt,cn)}}return O}(c,n,Math.ceil((h-g)/11.25),Math.ceil((v-w)/11.25),1,(M,D,x)=>{if(M===0)return .5*(D+x);{const P=hc((i.y+D/Ei)/d);return(_u(.5*(hc((i.y+x/Ei)/d)+P))*d-i.y)*Ei}})}function mC(c,n,i,d,g,h){const v=Math.pow(2,d.z-g.z);for(let w=0;w<i;w++){let M=c.int16[2*(w+n)+0],D=c.int16[2*(w+n)+1];M=(M+g.x*Ei)*v-d.x*Ei,D=(D+g.y*Ei)*v-d.y*Ei,h.push(new Sn(M,D))}}let a_,s_;function Am(c,n){return c.x*n.x+c.y*n.y}function l_(c,n){if(c.length===1){let i=0;const d=n[i++];let g;for(;!g||d.equals(g);)if(g=n[i++],!g)return 1/0;for(;i<n.length;i++){const h=n[i],v=c[0],w=g.sub(d),M=h.sub(d),D=v.sub(d),x=Am(w,w),P=Am(w,M),$=Am(M,M),T=Am(D,w),O=Am(D,M),N=x*$-P*P,G=($*T-P*O)/N,q=(x*O-P*T)/N,se=d.z*(1-G-q)+g.z*G+h.z*q;if(isFinite(se))return se}return 1/0}{let i=1/0;for(const d of n)i=Math.min(i,d.z);return i}}function c_(c,n,i,d,g,h,v,w){const M=v*g.getElevationAt(c,n,!0,!0),D=h[0]!==0,x=D?h[1]===0?v*(h[0]/7-450):v*function(P,$,T){const O=Math.floor($[0]/8),N=Math.floor($[1]/8),G=10*($[0]-8*O),q=10*($[1]-8*N),se=P.getElevationAt(O,N,!0,!0),ce=P.getMeterToDEM(T),te=Math.floor(.5*(G*ce-1)),pe=Math.floor(.5*(q*ce-1)),Ce=P.tileCoordToPixel(O,N),Re=2*te+1,it=2*pe+1,nt=function(Wt,cn,wn,Nn,vn){return[Wt.getElevationAtPixel(cn,wn,!0),Wt.getElevationAtPixel(cn+vn,wn,!0),Wt.getElevationAtPixel(cn,wn+vn,!0),Wt.getElevationAtPixel(cn+Nn,wn+vn,!0)]}(P,Ce.x-te,Ce.y-pe,Re,it),et=Math.abs(nt[0]-nt[1]),Lt=Math.abs(nt[2]-nt[3]),ut=Math.abs(nt[0]-nt[2])+Math.abs(nt[1]-nt[3]),Zt=Math.min(.25,.5*ce*(et+Lt)/Re),on=Math.min(.25,.5*ce*ut/it);return se+Math.max(Zt*G,on*q)}(g,h,w):M;return{base:M+(i===0?-1:i),top:D?Math.max(x+d,M+i+2):M+d}}lo(Gp,"FillExtrusionBucket",{omit:["layers","features"]}),lo(n_,"PartData"),lo(t_,"FootprintSegment"),lo(uC,"BorderCentroidData"),lo(h0,"GroundEffect");const pC=Ss([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),gC=Ss([{name:"a_z_offset_width",components:3,type:"Float32"}],4),{members:iy}=pC,vC=Ss([{name:"a_packed",components:3,type:"Float32"}]),{members:yC}=vC,bC=Ss([{name:"a_pattern_data",components:3,type:"Float32"}]),{members:lu}=bC;class u_{constructor(n,i){this.width=n,this.height=i,this.nextRow=0,this.image=new $h({width:n,height:i}),this.positions={},this.uploaded=!1}getDash(n,i){const d=this.getKey(n,i);return this.positions[d]}trim(){const n=this.width,i=this.height=ur(this.nextRow);this.image.resize({width:n,height:i})}getKey(n,i){return n.join(",")+i}getDashRanges(n,i,d){const g=[];let h=n.length%2==1?-n[n.length-1]*d:0,v=n[0]*d,w=!0;g.push({left:h,right:v,isDash:w,zeroLength:n[0]===0});let M=n[0];for(let D=1;D<n.length;D++){w=!w;const x=n[D];h=M*d,M+=x,v=M*d,g.push({left:h,right:v,isDash:w,zeroLength:x===0})}return g}addRoundDash(n,i,d){const g=i/2;for(let h=-d;h<=d;h++){const v=this.width*(this.nextRow+d+h);let w=0,M=n[w];for(let D=0;D<this.width;D++){D/M.right>1&&(M=n[++w]);const x=Math.abs(D-M.left),P=Math.abs(D-M.right),$=Math.min(x,P);let T;const O=h/d*(g+1);if(M.isDash){const N=g-Math.abs(O);T=Math.sqrt($*$+N*N)}else T=g-Math.sqrt($*$+O*O);this.image.data[v+D]=Math.max(0,Math.min(255,T+128))}}}addRegularDash(n,i){for(let M=n.length-1;M>=0;--M){const D=n[M],x=n[M+1];D.zeroLength?n.splice(M,1):x&&x.isDash===D.isDash&&(x.left=D.left,n.splice(M,1))}const d=n[0],g=n[n.length-1];d.isDash===g.isDash&&(d.left=g.left-this.width,g.right=d.right+this.width);const h=this.width*this.nextRow;let v=0,w=n[v];for(let M=0;M<this.width;M++){M/w.right>1&&(w=n[++v]);const D=Math.abs(M-w.left),x=Math.abs(M-w.right),P=Math.min(D,x);this.image.data[h+M]=Math.max(0,Math.min(255,(w.isDash?P:-P)+i+128))}}addDash(n,i){const d=this.getKey(n,i);if(this.positions[d])return this.positions[d];const g=i==="round",h=g?7:0,v=2*h+1;if(this.nextRow+v>this.height)return Ln("LineAtlas out of space"),null;n.length===0&&n.push(1);let w=0;for(let x=0;x<n.length;x++)n[x]<0&&(Ln("Negative value is found in line dasharray, replacing values with 0"),n[x]=0),w+=n[x];if(w!==0){const x=this.width/w,P=this.getDashRanges(n,this.width,x);g?this.addRoundDash(P,x,h):this.addRegularDash(P,i==="square"?.5*x:0)}const M=this.nextRow+h;this.nextRow+=v;const D={tl:[M,h],br:[w,0]};return this.positions[d]=D,D}}lo(u_,"LineAtlas");const _C=lc.VectorTileFeature.types,xC=Math.cos(Math.PI/180*37.5),CC=Math.cos(Math.PI/180*5);class oy{constructor(n){this.evaluationGlobals={zoom:0,lineProgress:void 0},this.zoom=n.zoom,this.evaluationGlobals.zoom=this.zoom,this.overscaling=n.overscaling,this.pixelRatio=n.pixelRatio,this.layers=n.layers,this.layerIds=this.layers.map(i=>i.fqid),this.index=n.index,this.projection=n.projection,this.hasPattern=!1,this.hasZOffset=!1,this.hasCrossSlope=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(i=>{this.gradients[i.id]={}}),this.layoutVertexArray=new vm,this.layoutVertexArray2=new Mu,this.patternVertexArray=new Mu,this.indexArray=new oc,this.programConfigurations=new Cd(n.layers,{zoom:n.zoom,lut:n.lut}),this.segments=new gl,this.maxLineLength=0,this.zOffsetVertexArray=new Mu,this.stateDependentLayerIds=this.layers.filter(i=>i.isStateDependent()).map(i=>i.id),this.tessellationStep=n.tessellationStep?n.tessellationStep:Ei/64}updateFootprints(n,i){}populate(n,i,d,g){this.hasPattern=Fv("line",this.layers,this.pixelRatio,i);const h=this.layers[0].layout.get("line-sort-key");this.tileToMeter=r(d);const v=this.layers[0].layout.get("line-z-offset"),w=v.isConstant()&&!v.constantOr(0),M=this.layers[0].layout.get("line-elevation-reference");this.hasZOffset=M==="sea"||M==="ground"||!w&&M==="none",this.hasZOffset&&M==="none"&&Ln(`line-elevation-reference: ground is used for the layer ${this.layerIds[0]} because non-zero line-z-offset value was found.`);const D=this.layers[0].layout.get("line-cross-slope");this.hasCrossSlope=this.hasZOffset&&D!==void 0;const x=[];for(const{feature:O,id:N,index:G,sourceLayerIndex:q}of n){const se=this.layers[0]._featureFilter.needGeometry,ce=Y(O,se);if(!this.layers[0]._featureFilter.filter(new Ws(this.zoom),ce,d))continue;const te=h?h.evaluate(ce,{},d):void 0,pe={id:N,properties:O.properties,type:O.type,sourceLayerIndex:q,index:G,geometry:se?ce.geometry:U(O,d,g),patterns:{},sortKey:te};x.push(pe)}h&&x.sort((O,N)=>O.sortKey-N.sortKey);const{lineAtlas:P,featureIndex:$}=i,T=this.addConstantDashes(P);for(const O of x){const{geometry:N,index:G,sourceLayerIndex:q}=O;if(T&&this.addFeatureDashes(O,P),this.hasPattern){const se=kv("line",this.layers,O,this.zoom,this.pixelRatio,i);this.patternFeatures.push(se)}else this.addFeature(O,N,G,d,P.positions,i.availableImages,i.brightness);$.insert(n[G].feature,N,G,q,this.index)}}addConstantDashes(n){let i=!1;for(const d of this.layers){const g=d.paint.get("line-dasharray").value,h=d.layout.get("line-cap").value;if(g.kind!=="constant"||h.kind!=="constant")i=!0;else{const v=h.value,w=g.value;if(!w)continue;n.addDash(w,v)}}return i}addFeatureDashes(n,i){const d=this.zoom;for(const g of this.layers){const h=g.paint.get("line-dasharray").value,v=g.layout.get("line-cap").value;if(h.kind==="constant"&&v.kind==="constant")continue;let w,M;if(h.kind==="constant"){if(w=h.value,!w)continue}else w=h.evaluate({zoom:d},n);M=v.kind==="constant"?v.value:v.evaluate({zoom:d},n),i.addDash(w,M),n.patterns[g.id]=i.getKey(w,M)}}update(n,i,d,g,h,v,w){this.programConfigurations.updatePaintArrays(n,i,h,d,g,v,w)}addFeatures(n,i,d,g,h,v){for(const w of this.patternFeatures)this.addFeature(w,w.geometry,w.index,i,d,g,v)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(n){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=n.createVertexBuffer(this.layoutVertexArray2,yC)),this.patternVertexArray.length!==0&&(this.patternVertexBuffer=n.createVertexBuffer(this.patternVertexArray,lu)),!this.zOffsetVertexBuffer&&this.zOffsetVertexArray.length>0&&(this.zOffsetVertexBuffer=n.createVertexBuffer(this.zOffsetVertexArray,gC.members,!0)),this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,iy),this.indexBuffer=n.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(n),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.zOffsetVertexBuffer&&this.zOffsetVertexBuffer.destroy(),this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(n){if(n.properties&&n.properties.hasOwnProperty("mapbox_clip_start")&&n.properties.hasOwnProperty("mapbox_clip_end"))return{start:+n.properties.mapbox_clip_start,end:+n.properties.mapbox_clip_end}}addFeature(n,i,d,g,h,v,w){const M=this.layers[0].layout,D=M.get("line-join").evaluate(n,{}),x=M.get("line-cap").evaluate(n,{}),P=M.get("line-miter-limit"),$=M.get("line-round-limit");this.lineClips=this.lineFeatureClips(n),this.lineFeature=n,this.zOffsetValue=M.get("line-z-offset").value;const T=this.layers[0].paint.get("line-width").value;T.kind!=="constant"&&T.isLineProgressConstant===!1&&(this.variableWidthValue=T);for(const O of i)this.addLine(O,n,g,D,x,P,$);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,d,h,v,g,w)}addLine(n,i,d,g,h,v,w){this.distance=0,this.prevDistance=0,this.scaledDistance=0,this.totalDistance=0,this.totalFeatureLength=0,this.lineSoFar=0,this.currentVertex=void 0;const M=g==="none";if(this.patternJoinNone=this.hasPattern&&M,this.segmentStart=0,this.segmentStartf32=0,this.segmentPoints=[],this.lineClips){this.lineClipsArray.push(this.lineClips);for(let ce=0;ce<n.length-1;ce++)this.totalDistance+=n[ce].dist(n[ce+1]);this.totalFeatureLength=this.totalDistance/(this.lineClips.end-this.lineClips.start),this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const D=_C[i.type]==="Polygon";let x=n.length;for(;x>=2&&n[x-1].equals(n[x-2]);)x--;let P=0;for(;P<x-1&&n[P].equals(n[P+1]);)P++;if(x<(D?3:2))return;g==="bevel"&&(v=1.05);const $=this.segments.prepareSegment(10*x,this.layoutVertexArray,this.indexArray);let T,O,N,G,q,se;this.e1=this.e2=-1,D&&(T=n[x-2],q=n[P].sub(T)._unit()._perp());for(let ce=P;ce<x;ce++){if(N=ce===x-1?D?n[P+1]:void 0:n[ce+1],N&&n[ce].equals(N))continue;q&&(G=q),T&&(O=T),T=n[ce],se=this.evaluateLineProgressFeatures(O?O.dist(T):0),q=N?N.sub(T)._unit()._perp():G,G=G||q;const te=O&&N;let pe=te?g:D||M?"butt":h;const Ce=G.x*q.x+G.y*q.y;if(M){const on=function(Wt){if(Wt.patternJoinNone){const cn=Wt.segmentPoints.length/2,wn=Wt.lineSoFar-Wt.segmentStart;for(let Nn=0;Nn<cn;++Nn){const vn=Wt.segmentPoints[2*Nn+1],xr=Math.round(Wt.segmentPoints[2*Nn])+.5+.25*vn;Wt.patternVertexArray.emplaceBack(xr,wn,Wt.segmentStart),Wt.patternVertexArray.emplaceBack(xr,wn,Wt.segmentStart)}Wt.segmentPoints.length=0}Wt.e1=Wt.e2=-1};if(te&&Ce<CC){this.updateDistance(O,T),this.addCurrentVertex(T,G,1,1,$,se),on(this),this.addCurrentVertex(T,q,-1,-1,$,se);continue}if(O){if(!N){this.updateDistance(O,T),this.addCurrentVertex(T,G,1,1,$,se),on(this);continue}pe="miter"}}let Re=G.add(q);Re.x===0&&Re.y===0||Re._unit();const it=Re.x*q.x+Re.y*q.y,nt=it!==0?1/it:1/0,et=2*Math.sqrt(2-2*it),Lt=it<xC&&O&&N,ut=G.x*q.y-G.y*q.x>0,Zt=this.overscaling<=16?15*Ei/(512*this.overscaling):0;if(te&&pe==="round"){if(nt<w)pe="miter";else if(nt<=2){const on=ay(T,-10,Ei+10);pe=this.hasZOffset&&(on||this.hasCrossSlope)?"miter":"fakeround"}}if(pe==="miter"&&nt>v&&(pe="bevel"),pe==="bevel"&&(nt>2&&(pe="flipbevel"),nt<v&&(pe="miter")),O&&!(pe==="miter"&&Lt)&&this.updateDistance(O,T),pe==="miter")if(Lt){const on=T.dist(O);if(on>2*Zt){const cn=T.sub(T.sub(O)._mult(Zt/on)._round());this.updateDistance(O,cn),this.addCurrentVertex(cn,G,0,0,$,se),O=cn}this.updateDistance(O,T),Re._mult(nt),this.addCurrentVertex(T,Re,0,0,$,se);const Wt=T.dist(N);if(Wt>2*Zt){const cn=T.add(N.sub(T)._mult(Zt/Wt)._round());this.updateDistance(T,cn),this.addCurrentVertex(cn,q,0,0,$,se),T=cn}}else Re._mult(nt),this.addCurrentVertex(T,Re,0,0,$,se);else if(pe==="flipbevel"){if(nt>100)Re=q.mult(-1);else{const on=nt*G.add(q).mag()/G.sub(q).mag();Re._perp()._mult(on*(ut?-1:1))}this.addCurrentVertex(T,Re,0,0,$,se),this.addCurrentVertex(T,Re.mult(-1),0,0,$,se)}else if(pe==="bevel"||pe==="fakeround"){se!=null&&O&&this.addCurrentVertex(T,G,-1,-1,$,se);const on=T.dist(O)<=2*Zt&&pe!=="bevel",Wt=Re.mult(ut?1:-1);Wt._mult(nt);const cn=q.mult(ut?-1:1),wn=G.mult(ut?-1:1),Nn=this.evaluateLineProgressFeatures(this.distance);if(se==null&&(this.addHalfVertex(T,Wt.x,Wt.y,!1,!ut,0,$,Nn),on||this.addHalfVertex(T,Wt.x+2*wn.x,Wt.y+2*wn.y,!1,ut,0,$,Nn)),pe==="fakeround"){const vn=Math.round(180*et/Math.PI/20);this.addHalfVertex(T,wn.x,wn.y,!1,ut,0,$,Nn);for(let xr=0;xr<vn;xr++){let Hr=xr/vn;if(Hr!==.5){const Bi=Hr-.5;Hr+=Hr*Bi*(Hr-1)*((1.0904+Ce*(Ce*(3.55645-1.43519*Ce)-3.2452))*Bi*Bi+(.848013+Ce*(.215638*Ce-1.06021)))}const _r=cn.sub(wn)._mult(Hr)._add(wn)._unit();this.addHalfVertex(T,_r.x,_r.y,!1,ut,0,$,Nn)}this.addHalfVertex(T,cn.x,cn.y,!1,ut,0,$,Nn)}on||se!=null||this.addHalfVertex(T,Wt.x+2*cn.x,Wt.y+2*cn.y,!1,ut,0,$,Nn),se!=null&&N&&this.addCurrentVertex(T,q,1,1,$,se)}else pe==="butt"?this.addCurrentVertex(T,Re,0,0,$,se):pe==="square"?(O||this.addCurrentVertex(T,Re,-1,-1,$,se),this.addCurrentVertex(T,Re,0,0,$,se),O&&this.addCurrentVertex(T,Re,1,1,$,se)):pe==="round"&&(O&&(this.addCurrentVertex(T,G,0,0,$,se),this.addCurrentVertex(T,G,1,1,$,se,!0)),N&&(this.addCurrentVertex(T,q,-1,-1,$,se,!0),this.addCurrentVertex(T,q,0,0,$,se)))}}addVerticesTo(n,i,d,g,h,v,w,M,D,x){const P=(i.w-n.w)/this.tessellationStep|0;let $=0;const T=this.scaledDistance;if(P>1){this.lineSoFar=n.w;const N=(i.x-n.x)/P,G=(i.y-n.y)/P,q=(i.z-n.z)/P,se=(i.w-n.w)/P;for(let ce=1;ce<P;++ce){n.x+=N,n.y+=G,n.z+=q,this.lineSoFar+=se,$+=se;const te=this.evaluateLineProgressFeatures(this.prevDistance+$);this.scaledDistance=(this.prevDistance+$)/this.totalDistance,this.addHalfVertex(n,d,g,x,!1,w,D,te),this.addHalfVertex(n,h,v,x,!0,-M,D,te)}}this.lineSoFar=i.w,this.scaledDistance=T;const O=this.evaluateLineProgressFeatures(this.distance);this.addHalfVertex(i,d,g,x,!1,w,D,O),this.addHalfVertex(i,h,v,x,!0,-M,D,O)}evaluateLineProgressFeatures(n){if(!this.variableWidthValue&&!this.hasZOffset)return null;this.evaluationGlobals.lineProgress=0,this.lineClips?this.evaluationGlobals.lineProgress=Math.min(1,(this.totalFeatureLength*this.lineClips.start+n)/this.totalFeatureLength):Ln(`line-progress evaluation for ${this.layerIds[0]} requires enabling 'lineMetrics' for the source.`);let i=0;return this.variableWidthValue&&this.variableWidthValue.kind!=="constant"&&(i=this.variableWidthValue.evaluate(this.evaluationGlobals,this.lineFeature)||0),this.hasZOffset?this.zOffsetValue.kind==="constant"?{zOffset:this.zOffsetValue.value,variableWidth:i}:{zOffset:this.zOffsetValue.evaluate(this.evaluationGlobals,this.lineFeature)||0,variableWidth:i}:{zOffset:0,variableWidth:i}}addCurrentVertex(n,i,d,g,h,v,w=!1){const M=i.x+i.y*d,D=i.y-i.x*d,x=i.y*g-i.x,P=-i.y-i.x*g;if(v!=null){const $=this.hasZOffset,T=-10,O=Ei+10,N=v.zOffset,G=new Yb(n.x,n.y,N,this.lineSoFar),q=!!$&&ay(n,T,O),se=this.lineSoFar,ce=this.distance;if(this.currentVertex)if(q){const te=this.currentVertexIsOutside,pe=this.currentVertex,Ce=new Yb(n.x,n.y,N,this.lineSoFar);if(Gv(pe,Ce,T,O),!ay(Ce,T,O)){if(te){this.e1=this.e2=-1,this.distance-=pe.dist(G),this.lineSoFar=pe.w;const Re=this.evaluateLineProgressFeatures(pe.w-this.totalFeatureLength*(this.lineClips?this.lineClips.start:0));this.addHalfVertex(pe,M,D,w,!1,d,h,Re),this.addHalfVertex(pe,x,P,w,!0,-g,h,Re),this.prevDistance=this.distance}this.distance=this.prevDistance+pe.dist(Ce),this.scaledDistance=this.distance/this.totalDistance,this.addVerticesTo(pe,Ce,M,D,x,P,d,g,h,w),this.distance=ce,this.scaledDistance=this.distance/this.totalDistance}}else{const te=this.currentVertex;if(this.currentVertexIsOutside){Gv(te,G,T,O),this.e1=this.e2=-1,this.distance-=te.dist(G),this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=te.w;const pe=this.evaluateLineProgressFeatures(te.w-this.totalFeatureLength*(this.lineClips?this.lineClips.start:0));this.addHalfVertex(te,M,D,w,!1,d,h,pe),this.addHalfVertex(te,x,P,w,!0,-g,h,pe),this.prevDistance=this.distance,this.distance=ce,this.scaledDistance=this.distance/this.totalDistance}this.addVerticesTo(te,G,M,D,x,P,d,g,h,w)}else q||(this.addHalfVertex(n,M,D,w,!1,d,h,v),this.addHalfVertex(n,x,P,w,!0,-g,h,v));this.currentVertex=G,this.currentVertexIsOutside=q,this.lineSoFar=se}else this.addHalfVertex(n,M,D,w,!1,d,h,v),this.addHalfVertex(n,x,P,w,!0,-g,h,v)}addHalfVertex({x:n,y:i},d,g,h,v,w,M,D){if(this.patternJoinNone&&(this.segmentPoints.length===0&&(this.segmentStart=this.lineSoFar,this.segmentStartf32=Math.fround(this.lineSoFar)),v||this.segmentPoints.push(this.lineSoFar-this.segmentStart,w)),this.layoutVertexArray.emplaceBack((n<<1)+(h?1:0),(i<<1)+(v?1:0),Math.round(63*d)+128,Math.round(63*g)+128,1+(w===0?0:w<0?-1:1),0,this.lineSoFar-this.segmentStartf32),this.lineClips){const P=Pr(this.lineClips.start,this.lineClips.end,this.scaledDistance);this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,P)}const x=M.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,x),M.primitiveLength++),v?this.e2=x:this.e1=x,D!=null&&this.zOffsetVertexArray.emplaceBack(D.zOffset,D.variableWidth,D.variableWidth)}updateScaledDistance(){this.lineClips?(this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=this.totalFeatureLength*this.lineClips.start+this.distance):this.lineSoFar=this.distance}updateDistance(n,i){this.prevDistance=this.distance,this.distance+=n.dist(i),this.updateScaledDistance()}}function ay(c,n,i){return c.x<n||c.x>i||c.y<n||c.y>i}let d_,f_;function h_(c,n,i){return n*(Ei/(c.tileSize*Math.pow(2,i-c.tileID.overscaledZ)))}lo(oy,"LineBucket",{omit:["layers","patternFeatures","currentVertex","currentVertexIsOutside"]});const m_=(c,n,i)=>(1-i)*c+i*n;function p_(c,n){return 1/h_(c,1,n.tileZoom)}function g_(c,n,i,d){return c.translatePosMatrix(d||n.tileID.projMatrix,n,i.paint.get("line-translate"),i.paint.get("line-translate-anchor"))}const v_=c=>{const n=[];Of(c)&&n.push("RENDER_LINE_DASH"),c.paint.get("line-gradient")&&n.push("RENDER_LINE_GRADIENT");const i=c.paint.get("line-trim-offset");i[0]===0&&i[1]===0||n.push("RENDER_LINE_TRIM_OFFSET"),c.paint.get("line-border-width").constantOr(1)!==0&&n.push("RENDER_LINE_BORDER");const d=c.layout.get("line-join").constantOr("miter")==="none",g=!!c.paint.get("line-pattern").constantOr(1);return d&&g&&n.push("LINE_JOIN_NONE"),n};function Of(c){const n=c.paint.get("line-dasharray").value;return n.value||n.kind!=="constant"}let v0;const y_=()=>v0||(v0={layout:d_||(d_=new el({"line-cap":new qi(Un.layout_line["line-cap"]),"line-join":new qi(Un.layout_line["line-join"]),"line-miter-limit":new hi(Un.layout_line["line-miter-limit"]),"line-round-limit":new hi(Un.layout_line["line-round-limit"]),"line-sort-key":new qi(Un.layout_line["line-sort-key"]),"line-z-offset":new qi(Un.layout_line["line-z-offset"]),"line-elevation-reference":new hi(Un.layout_line["line-elevation-reference"]),"line-cross-slope":new hi(Un.layout_line["line-cross-slope"]),visibility:new hi(Un.layout_line.visibility),"line-width-unit":new hi(Un.layout_line["line-width-unit"])})),paint:f_||(f_=new el({"line-opacity":new qi(Un.paint_line["line-opacity"]),"line-color":new qi(Un.paint_line["line-color"]),"line-translate":new hi(Un.paint_line["line-translate"]),"line-translate-anchor":new hi(Un.paint_line["line-translate-anchor"]),"line-width":new qi(Un.paint_line["line-width"]),"line-gap-width":new qi(Un.paint_line["line-gap-width"]),"line-offset":new qi(Un.paint_line["line-offset"]),"line-blur":new qi(Un.paint_line["line-blur"]),"line-dasharray":new qi(Un.paint_line["line-dasharray"]),"line-pattern":new qi(Un.paint_line["line-pattern"]),"line-gradient":new ff(Un.paint_line["line-gradient"]),"line-trim-offset":new hi(Un.paint_line["line-trim-offset"]),"line-trim-fade-range":new hi(Un.paint_line["line-trim-fade-range"]),"line-trim-color":new hi(Un.paint_line["line-trim-color"]),"line-emissive-strength":new hi(Un.paint_line["line-emissive-strength"]),"line-border-width":new qi(Un.paint_line["line-border-width"]),"line-border-color":new qi(Un.paint_line["line-border-color"]),"line-occlusion-opacity":new hi(Un.paint_line["line-occlusion-opacity"]),"line-color-use-theme":new qi({type:"string",default:"default","property-type":"data-driven"}),"line-gradient-use-theme":new qi({type:"string",default:"default","property-type":"data-driven"}),"line-trim-color-use-theme":new qi({type:"string",default:"default","property-type":"data-driven"}),"line-border-color-use-theme":new qi({type:"string",default:"default","property-type":"data-driven"})}))},v0);class b_ extends qi{possiblyEvaluate(n,i){return i=new Ws(Math.floor(i.zoom),{now:i.now,fadeDuration:i.fadeDuration,transition:i.transition}),super.possiblyEvaluate(n,i)}evaluate(n,i,d,g){return i=ei({},i,{zoom:Math.floor(i.zoom)}),super.evaluate(n,i,d,g)}}let Os;function yl(c,n){return n>0?n+2*c:c}const SC=Ss([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),wC=Ss([{name:"a_globe_anchor",components:3,type:"Int16"},{name:"a_globe_normal",components:3,type:"Float32"}],4),Qu=Ss([{name:"a_projected_pos",components:4,type:"Float32"}],4);Ss([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const EC=Ss([{name:"a_auto_z_offset",components:1,type:"Float32"}],4),IC=Ss([{name:"a_texb",components:2,type:"Uint16"}]),__=Ss([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"},{name:"a_elevation_from_sea",components:2,type:"Float32"}]),sy=Ss([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"},{name:"a_auto_z_offset",components:1,type:"Float32"}]);Ss([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const Rf=Ss([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),Xp=Ss([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);Ss([{name:"triangle",components:3,type:"Uint16"}]),Ss([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),Ss([{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Float32",name:"zOffset"},{type:"Uint8",name:"hasIconTextFit"}]),Ss([{type:"Float32",name:"offsetX"}]),Ss([{type:"Int16",name:"x"},{type:"Int16",name:"y"}]);var tc=24;const Au=128;function y0(c,n,i,d,g){if(c.kind==="camera")return c.maxSize;if(c.kind==="composite"){const h=n.possiblyEvaluate(new Ws(c.maxZoom),i).evaluate(g,{},i),v=n.possiblyEvaluate(new Ws(c.minZoom),i).evaluate(g,{},i);return Math.max(h,v)}return n.possiblyEvaluate(new Ws(d)).evaluate(g,{},i)}function b0(c,n){const{expression:i}=n;if(i.kind==="constant")return{kind:"constant",layoutSize:i.evaluate(new Ws(c+1))};if(i.kind==="source")return{kind:"source"};{const{zoomStops:d,interpolationType:g}=i;let h=0;for(;h<d.length&&d[h]<=c;)h++;h=Math.max(0,h-1);let v=h;for(;v<d.length&&d[v]<c+1;)v++;v=Math.min(d.length-1,v);const w=d[h],M=d[v];return i.kind==="composite"?{kind:"composite",minZoom:w,maxZoom:M,interpolationType:g}:{kind:"camera",minZoom:w,maxZoom:M,minSize:i.evaluate(new Ws(w)),maxSize:i.evaluate(new Ws(M)),interpolationType:g}}}function Dm(c,{uSize:n,uSizeT:i},{lowerSize:d,upperSize:g}){return c.kind==="source"?d/Au:c.kind==="composite"?Pr(d/Au,g/Au,i):n}function Dh(c,n,i=1){let d=0,g=0;if(c.kind==="constant")g=c.layoutSize*i;else if(c.kind!=="source"){const{interpolationType:h,minZoom:v,maxZoom:w}=c,M=h?Vn(_c.interpolationFactor(h,n,v,w),0,1):0;c.kind==="camera"?g=Pr(c.minSize,c.maxSize,M)*i:d=M*i}return{uSizeT:d,uSize:g}}var x_=Object.freeze({__proto__:null,SIZE_PACK_FACTOR:Au,evaluateSizeForFeature:Dm,evaluateSizeForZoom:Dh,getRasterizedIconSize:y0,getSizeData:b0});function TC(c,n,i){return c.sections.forEach(d=>{d.text=function(g,h,v){const w=h.layout.get("text-transform").evaluate(v,{});return w==="uppercase"?g=g.toLocaleUpperCase():w==="lowercase"&&(g=g.toLocaleLowerCase()),Wc.applyArabicShaping&&(g=Wc.applyArabicShaping(g)),g}(d.text,n,i)}),c}const zm={"!":"\uFE15","#":"\uFF03",$:"\uFF04","%":"\uFF05","&":"\uFF06","(":"\uFE35",")":"\uFE36","*":"\uFF0A","+":"\uFF0B",",":"\uFE10","-":"\uFE32",".":"\u30FB","/":"\uFF0F",":":"\uFE13",";":"\uFE14","<":"\uFE3F","=":"\uFF1D",">":"\uFE40","?":"\uFE16","@":"\uFF20","[":"\uFE47","\\":"\uFF3C","]":"\uFE48","^":"\uFF3E",_:"\uFE33","`":"\uFF40","{":"\uFE37","|":"\u2015","}":"\uFE38","~":"\uFF5E","\xA2":"\uFFE0","\xA3":"\uFFE1","\xA5":"\uFFE5","\xA6":"\uFFE4","\xAC":"\uFFE2","\xAF":"\uFFE3","\u2013":"\uFE32","\u2014":"\uFE31","\u2018":"\uFE43","\u2019":"\uFE44","\u201C":"\uFE41","\u201D":"\uFE42","\u2026":"\uFE19","\u2027":"\u30FB","\u20A9":"\uFFE6","\u3001":"\uFE11","\u3002":"\uFE12","\u3008":"\uFE3F","\u3009":"\uFE40","\u300A":"\uFE3D","\u300B":"\uFE3E","\u300C":"\uFE41","\u300D":"\uFE42","\u300E":"\uFE43","\u300F":"\uFE44","\u3010":"\uFE3B","\u3011":"\uFE3C","\u3014":"\uFE39","\u3015":"\uFE3A","\u3016":"\uFE17","\u3017":"\uFE18","\uFF01":"\uFE15","\uFF08":"\uFE35","\uFF09":"\uFE36","\uFF0C":"\uFE10","\uFF0D":"\uFE32","\uFF0E":"\u30FB","\uFF1A":"\uFE13","\uFF1B":"\uFE14","\uFF1C":"\uFE3F","\uFF1E":"\uFE40","\uFF1F":"\uFE16","\uFF3B":"\uFE47","\uFF3D":"\uFE48","\uFF3F":"\uFE33","\uFF5B":"\uFE37","\uFF5C":"\u2015","\uFF5D":"\uFE38","\uFF5F":"\uFE35","\uFF60":"\uFE36","\uFF61":"\uFE12","\uFF62":"\uFE41","\uFF63":"\uFE42","\u2190":"\u2191","\u2192":"\u2193"};function Kp(c){return c==="\uFE36"||c==="\uFE48"||c==="\uFE38"||c==="\uFE44"||c==="\uFE42"||c==="\uFE3E"||c==="\uFE3C"||c==="\uFE3A"||c==="\uFE18"||c==="\uFE40"||c==="\uFE10"||c==="\uFE13"||c==="\uFE14"||c==="\uFF40"||c==="\uFFE3"||c==="\uFE11"||c==="\uFE12"}function MC(c){return c==="\uFE35"||c==="\uFE47"||c==="\uFE37"||c==="\uFE43"||c==="\uFE41"||c==="\uFE3D"||c==="\uFE3B"||c==="\uFE39"||c==="\uFE17"||c==="\uFE3F"}var C_,ly,cy,_0={};function S_(){return C_||(C_=1,_0.read=function(c,n,i,d,g){var h,v,w=8*g-d-1,M=(1<<w)-1,D=M>>1,x=-7,P=i?g-1:0,$=i?-1:1,T=c[n+P];for(P+=$,h=T&(1<<-x)-1,T>>=-x,x+=w;x>0;h=256*h+c[n+P],P+=$,x-=8);for(v=h&(1<<-x)-1,h>>=-x,x+=d;x>0;v=256*v+c[n+P],P+=$,x-=8);if(h===0)h=1-D;else{if(h===M)return v?NaN:1/0*(T?-1:1);v+=Math.pow(2,d),h-=D}return(T?-1:1)*v*Math.pow(2,h-d)},_0.write=function(c,n,i,d,g,h){var v,w,M,D=8*h-g-1,x=(1<<D)-1,P=x>>1,$=g===23?Math.pow(2,-24)-Math.pow(2,-77):0,T=d?0:h-1,O=d?1:-1,N=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(w=isNaN(n)?1:0,v=x):(v=Math.floor(Math.log(n)/Math.LN2),n*(M=Math.pow(2,-v))<1&&(v--,M*=2),(n+=v+P>=1?$/M:$*Math.pow(2,1-P))*M>=2&&(v++,M/=2),v+P>=x?(w=0,v=x):v+P>=1?(w=(n*M-1)*Math.pow(2,g),v+=P):(w=n*Math.pow(2,P-1)*Math.pow(2,g),v=0));g>=8;c[i+T]=255&w,T+=O,w/=256,g-=8);for(v=v<<g|w,D+=g;D>0;c[i+T]=255&v,T+=O,v/=256,D-=8);c[i+T-O]|=128*N}),_0}function uy(){if(cy)return ly;cy=1,ly=n;var c=S_();function n(te){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(te)?te:new Uint8Array(te||0),this.pos=0,this.type=0,this.length=this.buf.length}n.Varint=0,n.Fixed64=1,n.Bytes=2,n.Fixed32=5;var i=4294967296,d=1/i,g=typeof TextDecoder=="undefined"?null:new TextDecoder("utf8");function h(te){return te.type===n.Bytes?te.readVarint()+te.pos:te.pos+1}function v(te,pe,Ce){return Ce?4294967296*pe+(te>>>0):4294967296*(pe>>>0)+(te>>>0)}function w(te,pe,Ce){var Re=pe<=16383?1:pe<=2097151?2:pe<=268435455?3:Math.floor(Math.log(pe)/(7*Math.LN2));Ce.realloc(Re);for(var it=Ce.pos-1;it>=te;it--)Ce.buf[it+Re]=Ce.buf[it]}function M(te,pe){for(var Ce=0;Ce<te.length;Ce++)pe.writeVarint(te[Ce])}function D(te,pe){for(var Ce=0;Ce<te.length;Ce++)pe.writeSVarint(te[Ce])}function x(te,pe){for(var Ce=0;Ce<te.length;Ce++)pe.writeFloat(te[Ce])}function P(te,pe){for(var Ce=0;Ce<te.length;Ce++)pe.writeDouble(te[Ce])}function $(te,pe){for(var Ce=0;Ce<te.length;Ce++)pe.writeBoolean(te[Ce])}function T(te,pe){for(var Ce=0;Ce<te.length;Ce++)pe.writeFixed32(te[Ce])}function O(te,pe){for(var Ce=0;Ce<te.length;Ce++)pe.writeSFixed32(te[Ce])}function N(te,pe){for(var Ce=0;Ce<te.length;Ce++)pe.writeFixed64(te[Ce])}function G(te,pe){for(var Ce=0;Ce<te.length;Ce++)pe.writeSFixed64(te[Ce])}function q(te,pe){return(te[pe]|te[pe+1]<<8|te[pe+2]<<16)+16777216*te[pe+3]}function se(te,pe,Ce){te[Ce]=pe,te[Ce+1]=pe>>>8,te[Ce+2]=pe>>>16,te[Ce+3]=pe>>>24}function ce(te,pe){return(te[pe]|te[pe+1]<<8|te[pe+2]<<16)+(te[pe+3]<<24)}return n.prototype={destroy:function(){this.buf=null},readFields:function(te,pe,Ce){for(Ce=Ce||this.length;this.pos<Ce;){var Re=this.readVarint(),it=Re>>3,nt=this.pos;this.type=7&Re,te(it,pe,this),this.pos===nt&&this.skip(Re)}return pe},readMessage:function(te,pe){return this.readFields(te,pe,this.readVarint()+this.pos)},readFixed32:function(){var te=q(this.buf,this.pos);return this.pos+=4,te},readSFixed32:function(){var te=ce(this.buf,this.pos);return this.pos+=4,te},readFixed64:function(){var te=q(this.buf,this.pos)+q(this.buf,this.pos+4)*i;return this.pos+=8,te},readSFixed64:function(){var te=q(this.buf,this.pos)+ce(this.buf,this.pos+4)*i;return this.pos+=8,te},readFloat:function(){var te=c.read(this.buf,this.pos,!0,23,4);return this.pos+=4,te},readDouble:function(){var te=c.read(this.buf,this.pos,!0,52,8);return this.pos+=8,te},readVarint:function(te){var pe,Ce,Re=this.buf;return pe=127&(Ce=Re[this.pos++]),Ce<128?pe:(pe|=(127&(Ce=Re[this.pos++]))<<7,Ce<128?pe:(pe|=(127&(Ce=Re[this.pos++]))<<14,Ce<128?pe:(pe|=(127&(Ce=Re[this.pos++]))<<21,Ce<128?pe:function(it,nt,et){var Lt,ut,Zt=et.buf;if(Lt=(112&(ut=Zt[et.pos++]))>>4,ut<128||(Lt|=(127&(ut=Zt[et.pos++]))<<3,ut<128)||(Lt|=(127&(ut=Zt[et.pos++]))<<10,ut<128)||(Lt|=(127&(ut=Zt[et.pos++]))<<17,ut<128)||(Lt|=(127&(ut=Zt[et.pos++]))<<24,ut<128)||(Lt|=(1&(ut=Zt[et.pos++]))<<31,ut<128))return v(it,Lt,nt);throw new Error("Expected varint not more than 10 bytes")}(pe|=(15&(Ce=Re[this.pos]))<<28,te,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var te=this.readVarint();return te%2==1?(te+1)/-2:te/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var te=this.readVarint()+this.pos,pe=this.pos;return this.pos=te,te-pe>=12&&g?function(Ce,Re,it){return g.decode(Ce.subarray(Re,it))}(this.buf,pe,te):function(Ce,Re,it){for(var nt="",et=Re;et<it;){var Lt,ut,Zt,on=Ce[et],Wt=null,cn=on>239?4:on>223?3:on>191?2:1;if(et+cn>it)break;cn===1?on<128&&(Wt=on):cn===2?(192&(Lt=Ce[et+1]))==128&&(Wt=(31&on)<<6|63&Lt)<=127&&(Wt=null):cn===3?(ut=Ce[et+2],(192&(Lt=Ce[et+1]))==128&&(192&ut)==128&&((Wt=(15&on)<<12|(63&Lt)<<6|63&ut)<=2047||Wt>=55296&&Wt<=57343)&&(Wt=null)):cn===4&&(ut=Ce[et+2],Zt=Ce[et+3],(192&(Lt=Ce[et+1]))==128&&(192&ut)==128&&(192&Zt)==128&&((Wt=(15&on)<<18|(63&Lt)<<12|(63&ut)<<6|63&Zt)<=65535||Wt>=1114112)&&(Wt=null)),Wt===null?(Wt=65533,cn=1):Wt>65535&&(Wt-=65536,nt+=String.fromCharCode(Wt>>>10&1023|55296),Wt=56320|1023&Wt),nt+=String.fromCharCode(Wt),et+=cn}return nt}(this.buf,pe,te)},readBytes:function(){var te=this.readVarint()+this.pos,pe=this.buf.subarray(this.pos,te);return this.pos=te,pe},readPackedVarint:function(te,pe){if(this.type!==n.Bytes)return te.push(this.readVarint(pe));var Ce=h(this);for(te=te||[];this.pos<Ce;)te.push(this.readVarint(pe));return te},readPackedSVarint:function(te){if(this.type!==n.Bytes)return te.push(this.readSVarint());var pe=h(this);for(te=te||[];this.pos<pe;)te.push(this.readSVarint());return te},readPackedBoolean:function(te){if(this.type!==n.Bytes)return te.push(this.readBoolean());var pe=h(this);for(te=te||[];this.pos<pe;)te.push(this.readBoolean());return te},readPackedFloat:function(te){if(this.type!==n.Bytes)return te.push(this.readFloat());var pe=h(this);for(te=te||[];this.pos<pe;)te.push(this.readFloat());return te},readPackedDouble:function(te){if(this.type!==n.Bytes)return te.push(this.readDouble());var pe=h(this);for(te=te||[];this.pos<pe;)te.push(this.readDouble());return te},readPackedFixed32:function(te){if(this.type!==n.Bytes)return te.push(this.readFixed32());var pe=h(this);for(te=te||[];this.pos<pe;)te.push(this.readFixed32());return te},readPackedSFixed32:function(te){if(this.type!==n.Bytes)return te.push(this.readSFixed32());var pe=h(this);for(te=te||[];this.pos<pe;)te.push(this.readSFixed32());return te},readPackedFixed64:function(te){if(this.type!==n.Bytes)return te.push(this.readFixed64());var pe=h(this);for(te=te||[];this.pos<pe;)te.push(this.readFixed64());return te},readPackedSFixed64:function(te){if(this.type!==n.Bytes)return te.push(this.readSFixed64());var pe=h(this);for(te=te||[];this.pos<pe;)te.push(this.readSFixed64());return te},skip:function(te){var pe=7&te;if(pe===n.Varint)for(;this.buf[this.pos++]>127;);else if(pe===n.Bytes)this.pos=this.readVarint()+this.pos;else if(pe===n.Fixed32)this.pos+=4;else{if(pe!==n.Fixed64)throw new Error("Unimplemented type: "+pe);this.pos+=8}},writeTag:function(te,pe){this.writeVarint(te<<3|pe)},realloc:function(te){for(var pe=this.length||16;pe<this.pos+te;)pe*=2;if(pe!==this.length){var Ce=new Uint8Array(pe);Ce.set(this.buf),this.buf=Ce,this.length=pe}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(te){this.realloc(4),se(this.buf,te,this.pos),this.pos+=4},writeSFixed32:function(te){this.realloc(4),se(this.buf,te,this.pos),this.pos+=4},writeFixed64:function(te){this.realloc(8),se(this.buf,-1&te,this.pos),se(this.buf,Math.floor(te*d),this.pos+4),this.pos+=8},writeSFixed64:function(te){this.realloc(8),se(this.buf,-1&te,this.pos),se(this.buf,Math.floor(te*d),this.pos+4),this.pos+=8},writeVarint:function(te){(te=+te||0)>268435455||te<0?function(pe,Ce){var Re,it;if(pe>=0?(Re=pe%4294967296|0,it=pe/4294967296|0):(it=~(-pe/4294967296),4294967295^(Re=~(-pe%4294967296))?Re=Re+1|0:(Re=0,it=it+1|0)),pe>=18446744073709552e3||pe<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");Ce.realloc(10),function(nt,et,Lt){Lt.buf[Lt.pos++]=127&nt|128,nt>>>=7,Lt.buf[Lt.pos++]=127&nt|128,nt>>>=7,Lt.buf[Lt.pos++]=127&nt|128,nt>>>=7,Lt.buf[Lt.pos++]=127&nt|128,Lt.buf[Lt.pos]=127&(nt>>>=7)}(Re,0,Ce),function(nt,et){var Lt=(7&nt)<<4;et.buf[et.pos++]|=Lt|((nt>>>=3)?128:0),nt&&(et.buf[et.pos++]=127&nt|((nt>>>=7)?128:0),nt&&(et.buf[et.pos++]=127&nt|((nt>>>=7)?128:0),nt&&(et.buf[et.pos++]=127&nt|((nt>>>=7)?128:0),nt&&(et.buf[et.pos++]=127&nt|((nt>>>=7)?128:0),nt&&(et.buf[et.pos++]=127&nt)))))}(it,Ce)}(te,this):(this.realloc(4),this.buf[this.pos++]=127&te|(te>127?128:0),te<=127||(this.buf[this.pos++]=127&(te>>>=7)|(te>127?128:0),te<=127||(this.buf[this.pos++]=127&(te>>>=7)|(te>127?128:0),te<=127||(this.buf[this.pos++]=te>>>7&127))))},writeSVarint:function(te){this.writeVarint(te<0?2*-te-1:2*te)},writeBoolean:function(te){this.writeVarint(!!te)},writeString:function(te){te=String(te),this.realloc(4*te.length),this.pos++;var pe=this.pos;this.pos=function(Re,it,nt){for(var et,Lt,ut=0;ut<it.length;ut++){if((et=it.charCodeAt(ut))>55295&&et<57344){if(!Lt){et>56319||ut+1===it.length?(Re[nt++]=239,Re[nt++]=191,Re[nt++]=189):Lt=et;continue}if(et<56320){Re[nt++]=239,Re[nt++]=191,Re[nt++]=189,Lt=et;continue}et=Lt-55296<<10|et-56320|65536,Lt=null}else Lt&&(Re[nt++]=239,Re[nt++]=191,Re[nt++]=189,Lt=null);et<128?Re[nt++]=et:(et<2048?Re[nt++]=et>>6|192:(et<65536?Re[nt++]=et>>12|224:(Re[nt++]=et>>18|240,Re[nt++]=et>>12&63|128),Re[nt++]=et>>6&63|128),Re[nt++]=63&et|128)}return nt}(this.buf,te,this.pos);var Ce=this.pos-pe;Ce>=128&&w(pe,Ce,this),this.pos=pe-1,this.writeVarint(Ce),this.pos+=Ce},writeFloat:function(te){this.realloc(4),c.write(this.buf,te,this.pos,!0,23,4),this.pos+=4},writeDouble:function(te){this.realloc(8),c.write(this.buf,te,this.pos,!0,52,8),this.pos+=8},writeBytes:function(te){var pe=te.length;this.writeVarint(pe),this.realloc(pe);for(var Ce=0;Ce<pe;Ce++)this.buf[this.pos++]=te[Ce]},writeRawMessage:function(te,pe){this.pos++;var Ce=this.pos;te(pe,this);var Re=this.pos-Ce;Re>=128&&w(Ce,Re,this),this.pos=Ce-1,this.writeVarint(Re),this.pos+=Re},writeMessage:function(te,pe,Ce){this.writeTag(te,n.Bytes),this.writeRawMessage(pe,Ce)},writePackedVarint:function(te,pe){pe.length&&this.writeMessage(te,M,pe)},writePackedSVarint:function(te,pe){pe.length&&this.writeMessage(te,D,pe)},writePackedBoolean:function(te,pe){pe.length&&this.writeMessage(te,$,pe)},writePackedFloat:function(te,pe){pe.length&&this.writeMessage(te,x,pe)},writePackedDouble:function(te,pe){pe.length&&this.writeMessage(te,P,pe)},writePackedFixed32:function(te,pe){pe.length&&this.writeMessage(te,T,pe)},writePackedSFixed32:function(te,pe){pe.length&&this.writeMessage(te,O,pe)},writePackedFixed64:function(te,pe){pe.length&&this.writeMessage(te,N,pe)},writePackedSFixed64:function(te,pe){pe.length&&this.writeMessage(te,G,pe)},writeBytesField:function(te,pe){this.writeTag(te,n.Bytes),this.writeBytes(pe)},writeFixed32Field:function(te,pe){this.writeTag(te,n.Fixed32),this.writeFixed32(pe)},writeSFixed32Field:function(te,pe){this.writeTag(te,n.Fixed32),this.writeSFixed32(pe)},writeFixed64Field:function(te,pe){this.writeTag(te,n.Fixed64),this.writeFixed64(pe)},writeSFixed64Field:function(te,pe){this.writeTag(te,n.Fixed64),this.writeSFixed64(pe)},writeVarintField:function(te,pe){this.writeTag(te,n.Varint),this.writeVarint(pe)},writeSVarintField:function(te,pe){this.writeTag(te,n.Varint),this.writeSVarint(pe)},writeStringField:function(te,pe){this.writeTag(te,n.Bytes),this.writeString(pe)},writeFloatField:function(te,pe){this.writeTag(te,n.Fixed32),this.writeFloat(pe)},writeDoubleField:function(te,pe){this.writeTag(te,n.Fixed64),this.writeDouble(pe)},writeBooleanField:function(te,pe){this.writeVarintField(te,!!pe)}},ly}var x0=Ie(uy());const qp=3;function $f(c,n,i){n.glyphs=[],c===1&&i.readMessage(dy,n)}function dy(c,n,i){if(c===3){const{id:d,bitmap:g,width:h,height:v,left:w,top:M,advance:D}=i.readMessage(zh,{});n.glyphs.push({id:d,bitmap:new $h({width:h+2*qp,height:v+2*qp},g),metrics:{width:h,height:v,left:w,top:M,advance:D}})}else c===4?n.ascender=i.readSVarint():c===5&&(n.descender=i.readSVarint())}function zh(c,n,i){c===1?n.id=i.readVarint():c===2?n.bitmap=i.readBytes():c===3?n.width=i.readVarint():c===4?n.height=i.readVarint():c===5?n.left=i.readSVarint():c===6?n.top=i.readSVarint():c===7&&(n.advance=i.readVarint())}const fy=qp,Cu={horizontal:1,vertical:2,horizontalOnly:3};class Lh{constructor(){this.scale=1,this.fontStack="",this.image=null}static forText(n,i){const d=new Lh;return d.scale=n||1,d.fontStack=i,d}static forImage(n){const i=new Lh;return i.image=n,i}}class Af{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(n,i){const d=new Af;for(let g=0;g<n.sections.length;g++){const h=n.sections[g];h.image?d.addImageSection(h):d.addTextSection(h,i)}return d}length(){return this.text.length}getSection(n){return this.sections[this.sectionIndex[n]]}getSections(){return this.sections}getSectionIndex(n){return this.sectionIndex[n]}getCodePoint(n){return this.text.codePointAt(n)}verticalizePunctuation(n){this.text=function(i,d){let g="";for(let h=0;h<i.length;h++){const v=i.charCodeAt(h+1)||null,w=i.charCodeAt(h-1)||null;g+=!d&&(v&&fm(v)&&!zm[i[h+1]]||w&&fm(w)&&!zm[i[h-1]])||!zm[i[h]]?i[h]:zm[i[h]]}return g}(this.text,n)}trim(){let n=0;for(let d=0;d<this.text.length&&Yp[this.text.charCodeAt(d)];d++)n++;let i=this.text.length;for(let d=this.text.length-1;d>=0&&d>=n&&Yp[this.text.charCodeAt(d)];d--)i--;this.text=this.text.substring(n,i),this.sectionIndex=this.sectionIndex.slice(n,i)}substring(n,i){const d=new Af;return d.text=this.text.substring(n,i),d.sectionIndex=this.sectionIndex.slice(n,i),d.sections=this.sections,d}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((n,i)=>Math.max(n,this.sections[i].scale),0)}addTextSection(n,i){this.text+=n.text,this.sections.push(Lh.forText(n.scale,n.fontStack||i));const d=this.sections.length-1;for(let g=0;g<n.text.length;++g)this.sectionIndex.push(d)}addImageSection(n){const i=n.image&&n.image.namePrimary?n.image.getPrimary():null;if(!i)return void Ln("Can't add FormattedSection with an empty image.");const d=this.getNextImageSectionCharCode();d?(this.text+=String.fromCodePoint(d),this.sections.push(Lh.forImage(i)),this.sectionIndex.push(this.sections.length-1)):Ln("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function C0(c,n,i,d,g,h,v,w,M,D,x,P,$,T,O){const N=Af.fromFeature(c,g);P===Cu.vertical&&N.verticalizePunctuation($);let G=[];const q=function(Ce,Re,it,nt,et,Lt){if(!Ce)return[];const ut=[],Zt=function(wn,Nn,vn,xr,Hr,_r){let Bi=0;for(let Mi=0;Mi<wn.length();Mi++){const di=wn.getSection(Mi);Bi+=Ac(wn.getCodePoint(Mi),di,xr,Hr,Nn,_r)}return Bi/Math.max(1,Math.ceil(Bi/vn))}(Ce,Re,it,nt,et,Lt),on=Ce.text.indexOf("\u200B")>=0;let Wt=0;for(let wn=0;wn<Ce.length();wn++){const Nn=Ce.getSection(wn),vn=Ce.getCodePoint(wn);if(Yp[vn]||(Wt+=Ac(vn,Nn,nt,et,Re,Lt)),wn<Ce.length()-1){const xr=!((cn=vn)<11904||!(Mo["Bopomofo Extended"](cn)||Mo.Bopomofo(cn)||Mo["CJK Compatibility Forms"](cn)||Mo["CJK Compatibility Ideographs"](cn)||Mo["CJK Compatibility"](cn)||Mo["CJK Radicals Supplement"](cn)||Mo["CJK Strokes"](cn)||Mo["CJK Symbols and Punctuation"](cn)||Mo["CJK Unified Ideographs Extension A"](cn)||Mo["CJK Unified Ideographs"](cn)||Mo["Enclosed CJK Letters and Months"](cn)||Mo["Halfwidth and Fullwidth Forms"](cn)||Mo.Hiragana(cn)||Mo["Ideographic Description Characters"](cn)||Mo["Kangxi Radicals"](cn)||Mo["Katakana Phonetic Extensions"](cn)||Mo.Katakana(cn)||Mo["Vertical Forms"](cn)||Mo["Yi Radicals"](cn)||Mo["Yi Syllables"](cn)));(Jp[vn]||xr||Nn.image)&&ut.push(w_(wn+1,Wt,Zt,ut,S0(vn,Ce.getCodePoint(wn+1),xr&&on),!1))}}var cn;return pc(w_(Ce.length(),Wt,Zt,ut,0,!0))}(N,D,h,n,d,T),{processBidirectionalText:se,processStyledBidirectionalText:ce}=Wc;if(se&&N.sections.length===1){const Ce=se(N.toString(),q);for(const Re of Ce){const it=new Af;it.text=Re,it.sections=N.sections;for(let nt=0;nt<Re.length;nt++)it.sectionIndex.push(0);G.push(it)}}else if(ce){const Ce=ce(N.text,N.sectionIndex,q);for(const Re of Ce){const it=new Af;it.text=Re[0],it.sectionIndex=Re[1],it.sections=N.sections,G.push(it)}}else G=function(Ce,Re){const it=[],nt=Ce.text;let et=0;for(const Lt of Re)it.push(Ce.substring(et,Lt)),et=Lt;return et<nt.length&&it.push(Ce.substring(et,nt.length)),it}(N,q);const te=[],pe={positionedLines:te,text:N.toString(),top:x[1],bottom:x[1],left:x[0],right:x[0],writingMode:P,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(Ce,Re,it,nt,et,Lt,ut,Zt,on,Wt,cn,wn){let Nn=0,vn=0,xr=0;const Hr=Zt==="right"?1:Zt==="left"?0:.5;let _r=!1;for(const ji of et){const Qi=ji.getSections();for(const ia of Qi){if(ia.image)continue;const Aa=Re[ia.fontStack];if(Aa&&(_r=Aa.ascender!==void 0&&Aa.descender!==void 0,!_r))break}if(!_r)break}let Bi=0;for(const ji of et){ji.trim();const Qi=ji.getMaxScale(),ia=(Qi-1)*tc,Aa={positionedGlyphs:[],lineOffset:0};Ce.positionedLines[Bi]=Aa;const Na=Aa.positionedGlyphs;let Ba=0;if(!ji.length()){vn+=Lt,++Bi;continue}let ts=0,ns=0;for(let Rs=0;Rs<ji.length();Rs++){const _a=ji.getSection(Rs),Ya=ji.getSectionIndex(Rs),bs=ji.getCodePoint(Rs);let Gs=_a.scale,bl=null,El=null,_l=null,hl=tc,Il=0;const Ll=!(on===Cu.horizontal||!cn&&!pp(bs)||cn&&(Yp[bs]||(Mi=bs,Mo.Arabic(Mi)||Mo["Arabic Supplement"](Mi)||Mo["Arabic Extended-A"](Mi)||Mo["Arabic Presentation Forms-A"](Mi)||Mo["Arabic Presentation Forms-B"](Mi))));if(_a.image){const Mc=nt[_a.image.serialize()];if(!Mc)continue;_l=_a.image.id,Ce.iconsInText=Ce.iconsInText||!0,El=Mc.paddedRect;const Us=Mc.displaySize;Gs=Gs*tc/wn,bl={width:Us[0],height:Us[1],left:0,top:-fy,advance:Ll?Us[1]:Us[0],localGlyph:!1},Il=_r?-bl.height*Gs:Qi*tc-17-Us[1]*Gs,hl=bl.advance;const eu=(Ll?Us[0]:Us[1])*Gs-tc*Qi;eu>0&&eu>Ba&&(Ba=eu)}else{const Mc=it[_a.fontStack];if(!Mc)continue;Mc[bs]&&(El=Mc[bs]);const Us=Re[_a.fontStack];if(!Us)continue;const eu=Us.glyphs[bs];if(!eu)continue;if(bl=eu.metrics,hl=bs!==8203?tc:0,_r){const uu=Us.ascender!==void 0?Math.abs(Us.ascender):0,Su=Us.descender!==void 0?Math.abs(Us.descender):0,nd=(uu+Su)*Gs;ts<nd&&(ts=nd,ns=(uu-Su)/2*Gs),Il=-uu*Gs}else Il=(Qi-Gs)*tc-17}Ll?(Ce.verticalizable=!0,Na.push({glyph:bs,imageName:_l,x:Nn,y:vn+Il,vertical:Ll,scale:Gs,localGlyph:bl.localGlyph,fontStack:_a.fontStack,sectionIndex:Ya,metrics:bl,rect:El}),Nn+=hl*Gs+Wt):(Na.push({glyph:bs,imageName:_l,x:Nn,y:vn+Il,vertical:Ll,scale:Gs,localGlyph:bl.localGlyph,fontStack:_a.fontStack,sectionIndex:Ya,metrics:bl,rect:El}),Nn+=bl.advance*Gs+Wt)}Na.length!==0&&(xr=Math.max(Nn-Wt,xr),_r?E_(Na,Hr,Ba,ns,Lt*Qi/2):E_(Na,Hr,Ba,0,Lt/2)),Nn=0;const As=Lt*Qi+Ba;Aa.lineOffset=Math.max(Ba,ia),vn+=As,++Bi}var Mi;const di=vn,{horizontalAlign:Wr,verticalAlign:bo}=Lm(ut);(function(ji,Qi,ia,Aa,Na,Ba){const ts=(Qi-ia)*Na,ns=-Ba*Aa;for(const As of ji)for(const Rs of As.positionedGlyphs)Rs.x+=ts,Rs.y+=ns})(Ce.positionedLines,Hr,Wr,bo,xr,di),Ce.top+=-bo*di,Ce.bottom=Ce.top+di,Ce.left+=-Wr*xr,Ce.right=Ce.left+xr,Ce.hasBaseline=_r}(pe,n,i,d,G,v,w,M,P,D,$,O),!function(Ce){for(const Re of Ce)if(Re.positionedGlyphs.length!==0)return!1;return!0}(te)&&pe}const Yp={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Jp={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function Ac(c,n,i,d,g,h){if(n.image){const v=d[n.image.serialize()];return v?v.displaySize[0]*n.scale*tc/h+g:0}{const v=i[n.fontStack],w=v&&v.glyphs[c];return w?w.metrics.advance*n.scale+g:0}}function Qp(c,n,i,d){const g=Math.pow(c-n,2);return d?c<n?g/2:2*g:g+Math.abs(i)*i}function S0(c,n,i){let d=0;return c===10&&(d-=1e4),i&&(d+=150),c!==40&&c!==65288||(d+=50),n!==41&&n!==65289||(d+=50),d}function w_(c,n,i,d,g,h){let v=null,w=Qp(n,i,g,h);for(const M of d){const D=Qp(n-M.x,i,g,h)+M.badness;D<=w&&(v=M,w=D)}return{index:c,x:n,priorBreak:v,badness:w}}function pc(c){return c?pc(c.priorBreak).concat(c.index):[]}function Lm(c){let n=.5,i=.5;switch(c){case"right":case"top-right":case"bottom-right":n=1;break;case"left":case"top-left":case"bottom-left":n=0}switch(c){case"bottom":case"bottom-right":case"bottom-left":i=1;break;case"top":case"top-right":case"top-left":i=0}return{horizontalAlign:n,verticalAlign:i}}function E_(c,n,i,d,g){if(!(n||i||d||g))return;const h=c.length-1,v=c[h],w=(v.x+v.metrics.advance*v.scale)*n;for(let M=0;M<=h;M++)c[M].x-=w,c[M].y+=i+d+g}function PC(c,n,i,d){const{horizontalAlign:g,verticalAlign:h}=Lm(d),v=i[0]-c.displaySize[0]*g,w=i[1]-c.displaySize[1]*h;return{imagePrimary:c,imageSecondary:n,top:w,bottom:w+c.displaySize[1],left:v,right:v+c.displaySize[0]}}function I_(c,n,i,d,g,h){const v=c.imagePrimary;let w;if(v.content){const G=v.content,q=v.pixelRatio||1;w=[G[0]/q,G[1]/q,v.displaySize[0]-G[2]/q,v.displaySize[1]-G[3]/q]}const M=n.left*h,D=n.right*h;let x,P,$,T;i==="width"||i==="both"?(T=g[0]+M-d[3],P=g[0]+D+d[1]):(T=g[0]+(M+D-v.displaySize[0])/2,P=T+v.displaySize[0]);const O=n.top*h,N=n.bottom*h;return i==="height"||i==="both"?(x=g[1]+O-d[0],$=g[1]+N+d[2]):(x=g[1]+(O+N-v.displaySize[1])/2,$=x+v.displaySize[1]),{imagePrimary:v,imageSecondary:void 0,top:x,right:P,bottom:$,left:T,collisionPadding:w}}class Wd extends Sn{constructor(n,i,d,g,h){super(n,i),this.angle=g,this.z=d,h!==void 0&&(this.segment=h)}clone(){return new Wd(this.x,this.y,this.z,this.angle,this.segment)}}function eg(c,n,i,d,g){if(n.segment===void 0)return!0;let h=n,v=n.segment+1,w=0;for(;w>-i/2;){if(v--,v<0)return!1;w-=c[v].dist(h),h=c[v]}w+=c[v].dist(c[v+1]),v++;const M=[];let D=0;for(;w<i/2;){const x=c[v],P=c[v+1];if(!P)return!1;let $=c[v-1].angleTo(x)-x.angleTo(P);for($=Math.abs(($+3*Math.PI)%(2*Math.PI)-Math.PI),M.push({distance:w,angleDelta:$}),D+=$;w-M[0].distance>d;)D-=M.shift().angleDelta;if(D>g)return!1;v++,w+=x.dist(P)}return!0}function hy(c){let n=0;for(let i=0;i<c.length-1;i++)n+=c[i].dist(c[i+1]);return n}function T_(c,n,i){return c?.6*n*i:0}function my(c,n){return Math.max(c?c.right-c.left:0,n?n.right-n.left:0)}function M_(c,n,i,d,g,h){const v=T_(i,g,h),w=my(i,d)*h;let M=0;const D=hy(c)/2;for(let x=0;x<c.length-1;x++){const P=c[x],$=c[x+1],T=P.dist($);if(M+T>D){const O=(D-M)/T,N=Pr(P.x,$.x,O),G=Pr(P.y,$.y,O),q=new Wd(N,G,0,$.angleTo(P),x);return!v||eg(c,q,w,v,n)?q:void 0}M+=T}}function P_(c,n,i,d,g,h,v,w,M){const D=T_(d,h,v),x=my(d,g),P=x*v,$=c[0].x===0||c[0].x===M||c[0].y===0||c[0].y===M;return n-P<n/4&&(n=P+n/4),w0(c,$?n/2*w%n:(x/2+2*h)*v*w%n,n,D,i,P,$,!1,M)}function w0(c,n,i,d,g,h,v,w,M){const D=h/2,x=hy(c);let P=0,$=n-i,T=[];for(let O=0;O<c.length-1;O++){const N=c[O],G=c[O+1],q=N.dist(G),se=G.angleTo(N);for(;$+i<P+q;){$+=i;const ce=($-P)/q,te=Pr(N.x,G.x,ce),pe=Pr(N.y,G.y,ce);if(te>=0&&te<M&&pe>=0&&pe<M&&$-D>=0&&$+D<=x){const Ce=new Wd(te,pe,0,se,O);d&&!eg(c,Ce,h,d,g)||T.push(Ce)}}P+=q}return w||T.length||v||(T=w0(c,P/2,i,d,g,h,v,!0,M)),T}function py(c,n,i,d,g){const h=[];for(let v=0;v<c.length;v++){const w=c[v];let M;for(let D=0;D<w.length-1;D++){let x=w[D],P=w[D+1];x.x<n&&P.x<n||(x.x<n?x=new Sn(n,x.y+(n-x.x)/(P.x-x.x)*(P.y-x.y))._round():P.x<n&&(P=new Sn(n,x.y+(n-x.x)/(P.x-x.x)*(P.y-x.y))._round()),x.y<i&&P.y<i||(x.y<i?x=new Sn(x.x+(i-x.y)/(P.y-x.y)*(P.x-x.x),i)._round():P.y<i&&(P=new Sn(x.x+(i-x.y)/(P.y-x.y)*(P.x-x.x),i)._round()),x.x>=d&&P.x>=d||(x.x>=d?x=new Sn(d,x.y+(d-x.x)/(P.x-x.x)*(P.y-x.y))._round():P.x>=d&&(P=new Sn(d,x.y+(d-x.x)/(P.x-x.x)*(P.y-x.y))._round()),x.y>=g&&P.y>=g||(x.y>=g?x=new Sn(x.x+(g-x.y)/(P.y-x.y)*(P.x-x.x),g)._round():P.y>=g&&(P=new Sn(x.x+(g-x.y)/(P.y-x.y)*(P.x-x.x),g)._round()),M&&x.equals(M[M.length-1])||(M=[x],h.push(M)),M.push(P)))))}}return h}function O_(c){let n=0,i=0;for(const v of c)n+=v.w*v.h,i=Math.max(i,v.w);c.sort((v,w)=>w.h-v.h);const d=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(n/.95)),i),h:1/0}];let g=0,h=0;for(const v of c)for(let w=d.length-1;w>=0;w--){const M=d[w];if(!(v.w>M.w||v.h>M.h)){if(v.x=M.x,v.y=M.y,h=Math.max(h,v.y+v.h),g=Math.max(g,v.x+v.w),v.w===M.w&&v.h===M.h){const D=d.pop();w<d.length&&(d[w]=D)}else v.h===M.h?(M.x+=v.w,M.w-=v.w):v.w===M.w?(M.y+=v.h,M.h-=v.h):(d.push({x:M.x+v.w,y:M.y,w:M.w-v.w,h:v.h}),M.y+=v.h,M.h-=v.h);break}}return{w:g,h,fill:n/(g*h)||0}}lo(Wd,"Anchor");const Gd=1;class Nh{static getImagePositionScale(n,i,d){return i&&n&&n.options&&n.options.transform?{x:n.options.transform.a,y:n.options.transform.d}:{x:d,y:d}}constructor(n,{pixelRatio:i,version:d,stretchX:g,stretchY:h,content:v,sdf:w,usvg:M},D,x){this.paddedRect=n,this.pixelRatio=i,this.stretchX=g,this.stretchY=h,this.content=v,this.version=d,this.padding=D,this.sdf=w,this.scale=Nh.getImagePositionScale(x,M,i)}get tl(){return[this.paddedRect.x+this.padding,this.paddedRect.y+this.padding]}get br(){return[this.paddedRect.x+this.paddedRect.w-this.padding,this.paddedRect.y+this.paddedRect.h-this.padding]}get displaySize(){return[(this.paddedRect.w-2*this.padding)/this.scale.x,(this.paddedRect.h-2*this.padding)/this.scale.y]}}class gy{constructor(n,i,d){const g={},h={};this.haveRenderCallbacks=[];const v=[];this.addImages(n,g,Gd,v),this.addImages(i,h,2,v);const{w,h:M}=O_(v),D=new sc({width:w||1,height:M||1});for(const x in n){const P=n[x],$=g[x].paddedRect;sc.copy(P.data,D,{x:0,y:0},{x:$.x+Gd,y:$.y+Gd},P.data,d,P.sdf)}for(const x in i){const P=i[x],$=h[x].paddedRect;let T=h[x].padding;const O=$.x+T,N=$.y+T,G=P.data.width,q=P.data.height;T=T>1?T-1:T,sc.copy(P.data,D,{x:0,y:0},{x:O,y:N},P.data,d),sc.copy(P.data,D,{x:0,y:q-T},{x:O,y:N-T},{width:G,height:T},d),sc.copy(P.data,D,{x:0,y:0},{x:O,y:N+q},{width:G,height:T},d),sc.copy(P.data,D,{x:G-T,y:0},{x:O-T,y:N},{width:T,height:q},d),sc.copy(P.data,D,{x:0,y:0},{x:O+G,y:N},{width:T,height:q},d),sc.copy(P.data,D,{x:G-T,y:q-T},{x:O-T,y:N-T},{width:T,height:T},d),sc.copy(P.data,D,{x:0,y:q-T},{x:O+G,y:N-T},{width:T,height:T},d),sc.copy(P.data,D,{x:0,y:0},{x:O+G,y:N+q},{width:T,height:T},d),sc.copy(P.data,D,{x:G-T,y:0},{x:O-T,y:N+q},{width:T,height:T},d)}this.lut=d,this.image=D,this.iconPositions=g,this.patternPositions=h}addImages(n,i,d,g){for(const h in n){const v=n[h],w={x:0,y:0,w:v.data.width+2*d,h:v.data.height+2*d};g.push(w);const M=rr.deserializeFromString(h);i[h]=new Nh(w,v,d,M),v.hasRenderCallback&&this.haveRenderCallbacks.push(M.id)}}patchUpdatedImages(n,i,d){this.haveRenderCallbacks=this.haveRenderCallbacks.filter(g=>n.hasImage(g,d)),n.dispatchRenderCallbacks(this.haveRenderCallbacks,d);for(const g in n.getUpdatedImages(d)){for(const h of Object.keys(this.iconPositions))rr.deserializeId(h)===g&&this.patchUpdatedImage(this.iconPositions[h],n.getImage(g,d),i);for(const h of Object.keys(this.patternPositions))rr.deserializeId(h)===g&&this.patchUpdatedImage(this.patternPositions[h],n.getImage(g,d),i)}}patchUpdatedImage(n,i,d){if(!n||!i||n.version===i.version)return;n.version=i.version;const[g,h]=n.tl,v=n.sdf;if(this.lut||v){const w={width:i.data.width,height:i.data.height},M=new sc(w);sc.copy(i.data,M,{x:0,y:0},{x:0,y:0},w,this.lut,v),d.update(M,{position:{x:g,y:h}})}else d.update(i.data,{position:{x:g,y:h}})}}lo(Nh,"ImagePosition"),lo(gy,"ImageAtlas");const Nm=1e20;function R_(c,n,i,d,g,h,v,w,M){for(let D=n;D<n+d;D++)vy(c,i*h+D,h,g,v,w,M);for(let D=i;D<i+g;D++)vy(c,D*h+n,1,d,v,w,M)}function vy(c,n,i,d,g,h,v){h[0]=0,v[0]=-Nm,v[1]=Nm,g[0]=c[n];for(let w=1,M=0,D=0;w<d;w++){g[w]=c[n+w*i];const x=w*w;do{const P=h[M];D=(g[w]-g[P]+x-P*P)/(w-P)/2}while(D<=v[M]&&--M>-1);M++,h[M]=w,v[M]=D,v[M+1]=Nm}for(let w=0,M=0;w<d;w++){for(;v[M+1]<w;)M++;const D=h[M],x=w-D;c[n+w*i]=g[D]+x*x}}const Du=2,yy={none:0,ideographs:1,all:2};class Bh{constructor(n,i,d){this.requestManager=n,this.localGlyphMode=i,this.localFontFamily=d,this.urls={},this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(n,i){this.urls[i]=n}getGlyphs(n,i,d){const g=[],h=this.urls[i]||ii.GLYPHS_URL;for(const v in n)for(const w of n[v])g.push({stack:v,id:w});Zr(g,({stack:v,id:w},M)=>{let D=this.entries[v];D||(D=this.entries[v]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let x=D.glyphs[w];if(x!==void 0)return void M(null,{stack:v,id:w,glyph:x});if(x=this._tinySDF(D,v,w),x)return D.glyphs[w]=x,void M(null,{stack:v,id:w,glyph:x});const P=Math.floor(w/256);if(256*P>65535)return Ln("glyphs > 65535 not supported"),void M(null,{stack:v,id:w,glyph:x});if(D.ranges[P])return void M(null,{stack:v,id:w,glyph:x});let $=D.requests[P];$||($=D.requests[P]=[],Bh.loadGlyphRange(v,P,h,this.requestManager,(T,O)=>{if(O){D.ascender=O.ascender,D.descender=O.descender;for(const N in O.glyphs)this._doesCharSupportLocalGlyph(+N)||(D.glyphs[+N]=O.glyphs[+N]);D.ranges[P]=!0}for(const N of $)N(T,O);delete D.requests[P]})),$.push((T,O)=>{T?M(T):O&&M(null,{stack:v,id:w,glyph:O.glyphs[w]||null})})},(v,w)=>{if(v)d(v);else if(w){const M={};for(const{stack:D,id:x,glyph:P}of w)M[D]===void 0&&(M[D]={}),M[D].glyphs===void 0&&(M[D].glyphs={}),M[D].glyphs[x]=P&&{id:P.id,bitmap:P.bitmap.clone(),metrics:P.metrics},M[D].ascender=this.entries[D].ascender,M[D].descender=this.entries[D].descender;d(null,M)}})}_doesCharSupportLocalGlyph(n){return this.localGlyphMode!==yy.none&&(this.localGlyphMode===yy.all?!!this.localFontFamily:!!this.localFontFamily&&(Mo["CJK Unified Ideographs"](n)||Mo["Hangul Syllables"](n)||Mo.Hiragana(n)||Mo.Katakana(n)||Mo["CJK Symbols and Punctuation"](n)||Mo["CJK Unified Ideographs Extension A"](n)||Mo["CJK Unified Ideographs Extension B"](n)||Mo.Osage(n)))}_tinySDF(n,i,d){const g=this.localFontFamily;if(!g||!this._doesCharSupportLocalGlyph(d))return;let h=n.tinySDF;if(!h){let N="400";/bold/i.test(i)?N="900":/medium/i.test(i)?N="500":/light/i.test(i)&&(N="200"),h=n.tinySDF=new Bh.TinySDF({fontFamily:g,fontWeight:N,fontSize:24*Du,buffer:3*Du,radius:8*Du}),h.fontWeight=N}if(this.localGlyphs[h.fontWeight][d])return this.localGlyphs[h.fontWeight][d];const v=String.fromCodePoint(d),{data:w,width:M,height:D,glyphWidth:x,glyphHeight:P,glyphLeft:$,glyphTop:T,glyphAdvance:O}=h.draw(v);return this.localGlyphs[h.fontWeight][d]={id:d,bitmap:new $h({width:M,height:D},w),metrics:{width:x/Du,height:P/Du,left:$/Du,top:T/Du-27,advance:O/Du,localGlyph:!0}}}}Bh.loadGlyphRange=function(c,n,i,d,g){const h=256*n,v=h+255,w=d.transformRequest(d.normalizeGlyphsURL(i).replace("{fontstack}",c).replace("{range}",`${h}-${v}`),qr.Glyphs);_n(w,(M,D)=>{if(M)g(M);else if(D){const x={},P=function($){return new x0($).readFields($f,{})}(D);for(const $ of P.glyphs)x[$.id]=$;g(null,{glyphs:x,ascender:P.ascender,descender:P.descender})}})},Bh.TinySDF=class{constructor({fontSize:c=24,buffer:n=3,radius:i=8,cutoff:d=.25,fontFamily:g="sans-serif",fontWeight:h="normal",fontStyle:v="normal"}={}){this.buffer=n,this.cutoff=d,this.radius=i;const w=this.size=c+4*n,M=this._createCanvas(w),D=this.ctx=M.getContext("2d",{willReadFrequently:!0});D.font=`${v} ${h} ${c}px ${g}`,D.textBaseline="alphabetic",D.textAlign="left",D.fillStyle="black",this.gridOuter=new Float64Array(w*w),this.gridInner=new Float64Array(w*w),this.f=new Float64Array(w),this.z=new Float64Array(w+1),this.v=new Uint16Array(w)}_createCanvas(c){const n=document.createElement("canvas");return n.width=n.height=c,n}draw(c){const{width:n,actualBoundingBoxAscent:i,actualBoundingBoxDescent:d,actualBoundingBoxLeft:g,actualBoundingBoxRight:h}=this.ctx.measureText(c),v=Math.ceil(i),w=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(h-g))),M=Math.min(this.size-this.buffer,v+Math.ceil(d)),D=w+2*this.buffer,x=M+2*this.buffer,P=Math.max(D*x,0),$=new Uint8ClampedArray(P),T={data:$,width:D,height:x,glyphWidth:w,glyphHeight:M,glyphTop:v,glyphLeft:0,glyphAdvance:n};if(w===0||M===0)return T;const{ctx:O,buffer:N,gridInner:G,gridOuter:q}=this;O.clearRect(N,N,w,M),O.fillText(c,N,N+v);const se=O.getImageData(N,N,w,M);q.fill(Nm,0,P),G.fill(0,0,P);for(let ce=0;ce<M;ce++)for(let te=0;te<w;te++){const pe=se.data[4*(ce*w+te)+3]/255;if(pe===0)continue;const Ce=(ce+N)*D+te+N;if(pe===1)q[Ce]=0,G[Ce]=Nm;else{const Re=.5-pe;q[Ce]=Re>0?Re*Re:0,G[Ce]=Re<0?Re*Re:0}}R_(q,0,0,D,x,D,this.f,this.v,this.z),R_(G,N,N,w,M,D,this.f,this.v,this.z);for(let ce=0;ce<P;ce++){const te=Math.sqrt(q[ce])-Math.sqrt(G[ce]);$[ce]=Math.round(255-255*(te/this.radius+this.cutoff))}return T}};const Xd=Gd;function by(c,n){return c+n[1]-n[0]}function $_(c,n,i,d,g=1){const h=[],v=c.imagePrimary,w=v.pixelRatio,M=v.paddedRect.w-2*Xd,D=v.paddedRect.h-2*Xd,x=(c.right-c.left)*g,P=(c.bottom-c.top)*g,$=v.stretchX||[[0,M]],T=v.stretchY||[[0,D]],O=$.reduce(by,0),N=T.reduce(by,0),G=M-O,q=D-N;let se=0,ce=O,te=0,pe=N,Ce=0,Re=G,it=0,nt=q;if(v.content&&d){const Lt=v.content;se=Fh($,0,Lt[0]),te=Fh(T,0,Lt[1]),ce=Fh($,Lt[0],Lt[2]),pe=Fh(T,Lt[1],Lt[3]),Ce=Lt[0]-se,it=Lt[1]-te,Re=Lt[2]-Lt[0]-ce,nt=Lt[3]-Lt[1]-pe}const et=(Lt,ut,Zt,on)=>{const Wt=Bm(Lt.stretch-se,ce,x,c.left*g),cn=E0(Lt.fixed-Ce,Re,Lt.stretch,O),wn=Bm(ut.stretch-te,pe,P,c.top*g),Nn=E0(ut.fixed-it,nt,ut.stretch,N),vn=Bm(Zt.stretch-se,ce,x,c.left*g),xr=E0(Zt.fixed-Ce,Re,Zt.stretch,O),Hr=Bm(on.stretch-te,pe,P,c.top*g),_r=E0(on.fixed-it,nt,on.stretch,N),Bi=new Sn(Wt,wn),Mi=new Sn(vn,wn),di=new Sn(vn,Hr),Wr=new Sn(Wt,Hr),bo=new Sn(cn/w,Nn/w),ji=new Sn(xr/w,_r/w),Qi=n*Math.PI/180;if(Qi){const ns=Math.sin(Qi),As=Math.cos(Qi),Rs=[As,-ns,ns,As];Bi._matMult(Rs),Mi._matMult(Rs),Wr._matMult(Rs),di._matMult(Rs)}const ia=Lt.stretch+Lt.fixed,Aa=Zt.stretch+Zt.fixed,Na=ut.stretch+ut.fixed,Ba=on.stretch+on.fixed,ts=c.imageSecondary;return{tl:Bi,tr:Mi,bl:Wr,br:di,texPrimary:{x:v.paddedRect.x+Xd+ia,y:v.paddedRect.y+Xd+Na,w:Aa-ia,h:Ba-Na},texSecondary:ts?{x:ts.paddedRect.x+Xd+ia,y:ts.paddedRect.y+Xd+Na,w:Aa-ia,h:Ba-Na}:void 0,writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:bo,pixelOffsetBR:ji,minFontScaleX:Re/w/x,minFontScaleY:nt/w/P,isSDF:i}};if(d&&(v.stretchX||v.stretchY)){const Lt=tg($,G,O),ut=tg(T,q,N);for(let Zt=0;Zt<Lt.length-1;Zt++){const on=Lt[Zt],Wt=Lt[Zt+1];for(let cn=0;cn<ut.length-1;cn++)h.push(et(on,ut[cn],Wt,ut[cn+1]))}}else h.push(et({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:M+1},{fixed:0,stretch:D+1}));return h}function Fh(c,n,i){let d=0;for(const g of c)d+=Math.max(n,Math.min(i,g[1]))-Math.max(n,Math.min(i,g[0]));return d}function tg(c,n,i){const d=[{fixed:-Xd,stretch:0}];for(const[g,h]of c){const v=d[d.length-1];d.push({fixed:g-v.stretch,stretch:v.stretch}),d.push({fixed:g-v.stretch,stretch:v.stretch+(h-g)})}return d.push({fixed:n+Xd,stretch:i}),d}function Bm(c,n,i,d){return c/n*i+d}function E0(c,n,i,d){return c-n*i/d}function A_(c,n,i,d){const g=n+c.positionedLines[d].lineOffset;return d===0?i+g/2:i+(g+(n+c.positionedLines[d-1].lineOffset))/2}function kh(c,n=1,i=!1){let d=1/0,g=1/0,h=-1/0,v=-1/0;const w=c[0];for(let T=0;T<w.length;T++){const O=w[T];(!T||O.x<d)&&(d=O.x),(!T||O.y<g)&&(g=O.y),(!T||O.x>h)&&(h=O.x),(!T||O.y>v)&&(v=O.y)}const M=Math.min(h-d,v-g);let D=M/2;const x=new ll([],I0);if(M===0)return new Sn(d,g);for(let T=d;T<h;T+=M)for(let O=g;O<v;O+=M)x.push(new ed(T+D,O+D,D,c));let P=function(T){let O=0,N=0,G=0;const q=T[0];for(let se=0,ce=q.length,te=ce-1;se<ce;te=se++){const pe=q[se],Ce=q[te],Re=pe.x*Ce.y-Ce.x*pe.y;N+=(pe.x+Ce.x)*Re,G+=(pe.y+Ce.y)*Re,O+=3*Re}return new ed(N/O,G/O,0,T)}(c),$=x.length;for(;x.length;){const T=x.pop();(T.d>P.d||!P.d)&&(P=T,i&&console.log("found best %d after %d probes",Math.round(1e4*T.d)/1e4,$)),T.max-P.d<=n||(D=T.h/2,x.push(new ed(T.p.x-D,T.p.y-D,D,c)),x.push(new ed(T.p.x+D,T.p.y-D,D,c)),x.push(new ed(T.p.x-D,T.p.y+D,D,c)),x.push(new ed(T.p.x+D,T.p.y+D,D,c)),$+=4)}return i&&(console.log(`num probes: ${$}`),console.log(`best distance: ${P.d}`)),P.p}function I0(c,n){return n.max-c.max}class ed{constructor(n,i,d,g){this.p=new Sn(n,i),this.h=d,this.d=function(h,v){let w=!1,M=1/0;for(let D=0;D<v.length;D++){const x=v[D];for(let P=0,$=x.length,T=$-1;P<$;T=P++){const O=x[P],N=x[T];O.y>h.y!=N.y>h.y&&h.x<(N.x-O.x)*(h.y-O.y)/(N.y-O.y)+O.x&&(w=!w),M=Math.min(M,Mt(h,O,N))}}return(w?1:-1)*Math.sqrt(M)}(this.p,g),this.max=this.d+this.h*Math.SQRT2}}const wd=Number.POSITIVE_INFINITY,ng=Math.sqrt(2);function rg(c,[n,i]){let d=0,g=0;if(i===wd){n<0&&(n=0);const h=n/ng;switch(c){case"top-right":case"top-left":g=h-7;break;case"bottom-right":case"bottom-left":g=7-h;break;case"bottom":g=7-n;break;case"top":g=n-7}switch(c){case"top-right":case"bottom-right":d=-h;break;case"top-left":case"bottom-left":d=h;break;case"left":d=n;break;case"right":d=-n}}else{switch(n=Math.abs(n),i=Math.abs(i),c){case"top-right":case"top-left":case"top":g=i-7;break;case"bottom-right":case"bottom-left":case"bottom":g=7-i}switch(c){case"top-right":case"bottom-right":case"right":d=-n;break;case"top-left":case"bottom-left":case"left":d=n}}return[d,g]}function _y(c){switch(c){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function Fm(c,n,i,d,g,h,v,w,M,D,x,P,$,T,O){let N=h.textMaxSize.evaluate(n,{},P);N===void 0?N=v*h.textScaleFactor:N*=h.textScaleFactor;const G=c.layers[0].layout,q=G.get("icon-offset").evaluate(n,{},P),se=z_(i.horizontal)||i.vertical,ce=$.name==="globe",te=tc,pe=v*h.textScaleFactor/te,Ce=c.tilePixelRatio*N/te,Re=(Wt=c.overscaling,c.zoom>18&&Wt>2&&(Wt>>=1),Math.max(Ei/(512*Wt),1)*G.get("symbol-spacing")),it=G.get("text-padding")*c.tilePixelRatio,nt=G.get("icon-padding")*c.tilePixelRatio,et=st(G.get("text-max-angle")),Lt=G.get("text-rotation-alignment")==="map"&&G.get("symbol-placement")!=="point",ut=G.get("icon-rotation-alignment")==="map"&&G.get("symbol-placement")!=="point",Zt=G.get("symbol-placement"),on=Re/2;var Wt;const cn=G.get("icon-text-fit").evaluate(n,{},P),wn=G.get("icon-text-fit-padding").evaluate(n,{},P),Nn=cn!=="none";let vn;c.hasAnyIconTextFit===!1&&Nn&&(c.hasAnyIconTextFit=!0),d&&Nn&&(c.allowVerticalPlacement&&i.vertical&&(vn=I_(d,i.vertical,cn,wn,q,pe)),se&&(d=I_(d,se,cn,wn,q,pe)));const xr=(Hr,_r,Bi)=>{if(_r.x<0||_r.x>=Ei||_r.y<0||_r.y>=Ei)return;let Mi=null;if(ce){const{x:di,y:Wr,z:bo}=$.projectTilePoint(_r.x,_r.y,Bi);Mi={anchor:new Wd(di,Wr,bo,0,void 0),up:$.upVector(Bi,_r.x,_r.y)}}(function(di,Wr,bo,ji,Qi,ia,Aa,Na,Ba,ts,ns,As,Rs,_a,Ya,bs,Gs,bl,El,_l,hl,Il,Ll,Mc,Us,eu,uu){const Su=di.addToLineVertexArray(Wr,ji);let nd,Uf,Wf,Gf,ep,ex,tx,nx=0,rx=0,ix=0,ox=0,hb=-1,mb=-1;const Id={};let Kh=$o("");const qh=bo?bo.anchor:Wr,pb=Ba.layout.get("icon-text-fit").evaluate(hl,{},Us)!=="none";let ax=0,iv=0;if(Ba._unevaluatedLayout.getValue("text-radial-offset")===void 0?[ax,iv]=Ba.layout.get("text-offset").evaluate(hl,{},Us).map(du=>du*tc):(ax=Ba.layout.get("text-radial-offset").evaluate(hl,{},Us)*tc,iv=wd),di.allowVerticalPlacement&&Qi.vertical){const du=Qi.vertical;if(Ya)ex=jh(du),Na&&(tx=jh(Na));else{const tu=Ba.layout.get("text-rotate").evaluate(hl,{},Us)+90;Wf=T0(ts,qh,Wr,ns,As,Rs,du,_a,tu,bs),Na&&(Gf=T0(ts,qh,Wr,ns,As,Rs,Na,bl,tu))}}if(ia){const du=di.iconSizeData,tu=Ba.layout.get("icon-rotate").evaluate(hl,{},Us),ov=$_(ia,tu,Ll,pb,Il.iconScaleFactor),vb=Na?$_(Na,tu,Ll,pb,Il.iconScaleFactor):void 0;Uf=T0(ts,qh,Wr,ns,As,Rs,ia,bl,tu,null),nx=4*ov.length;let qd=null;du.kind==="source"?(qd=[Au*Ba.layout.get("icon-size").evaluate(hl,{},Us)*Il.iconScaleFactor],qd[0]>zf&&Ln(`${di.layerIds[0]}: Value for "icon-size" is >= ${Df}. Reduce your "icon-size".`)):du.kind==="composite"&&(qd=[Au*Il.compositeIconSizes[0].evaluate(hl,{},Us)*Il.iconScaleFactor,Au*Il.compositeIconSizes[1].evaluate(hl,{},Us)*Il.iconScaleFactor],(qd[0]>zf||qd[1]>zf)&&Ln(`${di.layerIds[0]}: Value for "icon-size" is >= ${Df}. Reduce your "icon-size".`)),di.addSymbols(di.icon,ov,qd,_l,El,hl,!1,bo,Wr,Su.lineStartIndex,Su.lineLength,-1,Mc,Us,eu,uu),hb=di.icon.placedSymbolArray.length-1,vb&&(rx=4*vb.length,di.addSymbols(di.icon,vb,qd,_l,El,hl,Cu.vertical,bo,Wr,Su.lineStartIndex,Su.lineLength,-1,Mc,Us,eu,uu),mb=di.icon.placedSymbolArray.length-1)}for(const du in Qi.horizontal){const tu=Qi.horizontal[du];nd||(Kh=$o(tu.text),Ya?ep=jh(tu):nd=T0(ts,qh,Wr,ns,As,Rs,tu,_a,Ba.layout.get("text-rotate").evaluate(hl,{},Us),bs));const ov=tu.positionedLines.length===1;if(ix+=D_(di,bo,Wr,tu,Aa,Ba,Ya,hl,bs,Su,Qi.vertical?Cu.horizontal:Cu.horizontalOnly,ov?Object.keys(Qi.horizontal):[du],Id,hb,Il,Mc,Us,eu),ov)break}Qi.vertical&&(ox+=D_(di,bo,Wr,Qi.vertical,Aa,Ba,Ya,hl,bs,Su,Cu.vertical,["vertical"],Id,mb,Il,Mc,Us,eu));let Xf=-1;const gb=(du,tu)=>du?Math.max(du,tu):tu;Xf=gb(ep,Xf),Xf=gb(ex,Xf),Xf=gb(tx,Xf);const v2=Xf>-1?1:0;di.glyphOffsetArray.length>=65535&&Ln("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),hl.sortKey!==void 0&&di.addToSortKeyRanges(di.symbolInstances.length,hl.sortKey),di.symbolInstances.emplaceBack(Wr.x,Wr.y,qh.x,qh.y,qh.z,Id.right>=0?Id.right:-1,Id.center>=0?Id.center:-1,Id.left>=0?Id.left:-1,Id.vertical>=0?Id.vertical:-1,hb,mb,Kh,nd!==void 0?nd:di.collisionBoxArray.length,nd!==void 0?nd+1:di.collisionBoxArray.length,Wf!==void 0?Wf:di.collisionBoxArray.length,Wf!==void 0?Wf+1:di.collisionBoxArray.length,Uf!==void 0?Uf:di.collisionBoxArray.length,Uf!==void 0?Uf+1:di.collisionBoxArray.length,Gf||di.collisionBoxArray.length,Gf?Gf+1:di.collisionBoxArray.length,ns,ix,ox,nx,rx,v2,0,ax,iv,Xf,0,pb?1:0)})(c,_r,Mi,Hr,i,d,g,vn,c.layers[0],c.collisionBoxArray,n.index,n.sourceLayerIndex,c.index,it,Lt,M,0,nt,ut,q,n,h,D,x,P,T,O)};if(Zt==="line")for(const Hr of py(n.geometry,0,0,Ei,Ei)){const _r=P_(Hr,Re,et,i.vertical||se,d,te,Ce,c.overscaling,Ei);for(const Bi of _r)se&&Lf(c,se.text,on,Bi)||xr(Hr,Bi,P)}else if(Zt==="line-center"){for(const Hr of n.geometry)if(Hr.length>1){const _r=M_(Hr,et,i.vertical||se,d,te,Ce);_r&&xr(Hr,_r,P)}}else if(n.type==="Polygon")for(const Hr of kp(n.geometry,0)){const _r=kh(Hr,16);xr(Hr[0],new Wd(_r.x,_r.y,0,0,void 0),P)}else if(n.type==="LineString")for(const Hr of n.geometry)xr(Hr,new Wd(Hr[0].x,Hr[0].y,0,0,void 0),P);else if(n.type==="Point")for(const Hr of n.geometry)for(const _r of Hr)xr([_r],new Wd(_r.x,_r.y,0,0,void 0),P)}const Df=255,zf=Df*Au;function D_(c,n,i,d,g,h,v,w,M,D,x,P,$,T,O,N,G,q){const se=function(pe,Ce,Re,it,nt,et,Lt,ut){const Zt=[];if(Ce.positionedLines.length===0)return Zt;const on=it.layout.get("text-rotate").evaluate(et,{})*Math.PI/180,Wt=function(xr){const Hr=xr[0],_r=xr[1],Bi=Hr*_r;return Bi>0?[Hr,-_r]:Bi<0?[-Hr,_r]:Hr===0?[_r,Hr]:[_r,-Hr]}(Re);let cn=Math.abs(Ce.top-Ce.bottom);for(const xr of Ce.positionedLines)cn-=xr.lineOffset;const wn=Ce.positionedLines.length,Nn=cn/wn;let vn=Ce.top-Re[1];for(let xr=0;xr<wn;++xr){const Hr=Ce.positionedLines[xr];vn=A_(Ce,Nn,vn,xr);for(const _r of Hr.positionedGlyphs){if(!_r.rect)continue;const Bi=_r.rect||{};let Mi=fy+1,di=!0,Wr=1,bo=0;if(_r.imageName){const _l=Lt[Vr.build(_r.imageName).getSerializedPrimary()];if(!_l)continue;if(_l.sdf){Ln("SDF images are not supported in formatted text and will be ignored.");continue}di=!1,Wr=_l.pixelRatio,Mi=Gd/Wr}const ji=(nt||ut)&&_r.vertical,Qi=_r.metrics.advance*_r.scale/2,ia=_r.metrics,Aa=_r.rect;if(Aa===null)continue;ut&&Ce.verticalizable&&(bo=_r.imageName?Qi-_r.metrics.width*_r.scale/2:0);const Na=nt?[_r.x+Qi,_r.y]:[0,0];let Ba=[0,0],ts=[0,0],ns=!1;nt||(ji?(ts=[_r.x+Qi+Wt[0],_r.y+Wt[1]-bo],ns=!0):Ba=[_r.x+Qi+Re[0],_r.y+Re[1]-bo]);const As=Aa.w*_r.scale/(Wr*(_r.localGlyph?Du:1)),Rs=Aa.h*_r.scale/(Wr*(_r.localGlyph?Du:1));let _a,Ya,bs,Gs;if(ji){const _l=_r.y-vn,hl=new Sn(-Qi,Qi-_l),Il=-Math.PI/2,Ll=new Sn(...ts);_a=new Sn(-Qi+Ba[0],Ba[1]),_a._rotateAround(Il,hl)._add(Ll),_a.x+=-_l+Qi,_a.y-=(ia.left-Mi)*_r.scale;const Mc=_r.imageName?ia.advance*_r.scale:tc*_r.scale,Us=String.fromCodePoint(_r.glyph);Kp(Us)?_a.x+=(1-Mi)*_r.scale:MC(Us)?_a.x+=Mc-ia.height*_r.scale+(-Mi-1)*_r.scale:_a.x+=_r.imageName||ia.width+2*Mi===Aa.w&&ia.height+2*Mi===Aa.h?(Mc-Rs)/2:(Mc-(ia.height+2*Mi)*_r.scale)/2,Ya=new Sn(_a.x,_a.y-As),bs=new Sn(_a.x+Rs,_a.y),Gs=new Sn(_a.x+Rs,_a.y-As)}else{const _l=(ia.left-Mi)*_r.scale-Qi+Ba[0],hl=(-ia.top-Mi)*_r.scale+Ba[1],Il=_l+As,Ll=hl+Rs;_a=new Sn(_l,hl),Ya=new Sn(Il,hl),bs=new Sn(_l,Ll),Gs=new Sn(Il,Ll)}if(on){let _l;_l=nt?new Sn(0,0):ns?new Sn(Wt[0],Wt[1]):new Sn(Re[0],Re[1]),_a._rotateAround(on,_l),Ya._rotateAround(on,_l),bs._rotateAround(on,_l),Gs._rotateAround(on,_l)}const bl=new Sn(0,0),El=new Sn(0,0);Zt.push({tl:_a,tr:Ya,bl:bs,br:Gs,texPrimary:Bi,texSecondary:void 0,writingMode:Ce.writingMode,glyphOffset:Na,sectionIndex:_r.sectionIndex,isSDF:di,pixelOffsetTL:bl,pixelOffsetBR:El,minFontScaleX:0,minFontScaleY:0})}}return Zt}(0,d,M,h,v,w,g,c.allowVerticalPlacement),ce=c.textSizeData;let te=null;ce.kind==="source"?(te=[Au*h.layout.get("text-size").evaluate(w,{},G)*O.textScaleFactor],te[0]>zf&&Ln(`${c.layerIds[0]}: Value for "text-size" is >= ${Df}. Reduce your "text-size".`)):ce.kind==="composite"&&(te=[Au*O.compositeTextSizes[0].evaluate(w,{},G)*O.textScaleFactor,Au*O.compositeTextSizes[1].evaluate(w,{},G)*O.textScaleFactor],(te[0]>zf||te[1]>zf)&&Ln(`${c.layerIds[0]}: Value for "text-size" is >= ${Df}. Reduce your "text-size".`)),c.addSymbols(c.text,se,te,M,v,w,x,n,i,D.lineStartIndex,D.lineLength,T,N,G,q,!1);for(const pe of P)$[pe]=c.text.placedSymbolArray.length-1;return 4*se.length}function z_(c){for(const n in c)return c[n];return null}function T0(c,n,i,d,g,h,v,w,M,D){let x=v.top,P=v.bottom,$=v.left,T=v.right;const O=v.collisionPadding;if(O&&($-=O[0],x-=O[1],T+=O[2],P+=O[3]),M){const N=new Sn($,x),G=new Sn(T,x),q=new Sn($,P),se=new Sn(T,P),ce=st(M);let te=new Sn(0,0);D&&(te=new Sn(D[0],D[1])),N._rotateAround(ce,te),G._rotateAround(ce,te),q._rotateAround(ce,te),se._rotateAround(ce,te),$=Math.min(N.x,G.x,q.x,se.x),T=Math.max(N.x,G.x,q.x,se.x),x=Math.min(N.y,G.y,q.y,se.y),P=Math.max(N.y,G.y,q.y,se.y)}return c.emplaceBack(n.x,n.y,n.z,i.x,i.y,$,x,T,P,w,d,g,h),c.length-1}function jh(c){c.collisionPadding&&(c.top-=c.collisionPadding[1],c.bottom+=c.collisionPadding[3]);const n=c.bottom-c.top;return n>0?Math.max(10,n):null}function Lf(c,n,i,d){const g=c.compareText;if(n in g){const h=g[n];for(let v=h.length-1;v>=0;v--)if(d.dist(h[v])<i)return!0}else g[n]=[];return g[n].push(d),!1}function L_(c,n){const i=c.fovAboveCenter,d=c.elevation?c.elevation.getMinElevationBelowMSL()*n:0,g=(c._camera.position[2]*c.worldSize-d)/Math.cos(c._pitch),h=Math.sin(i)*g/Math.sin(Math.max(Math.PI/2-c._pitch-i,.01));let v=Math.sin(c._pitch)*h+g;const w=g*(1/c._horizonShift);if(!c.elevation||c.elevation.exaggeration()===0){let M=Math.max(c.zoom-17,0);c.isOrthographic&&(M/=10),v*=1+M}return Math.min(1.01*v,w)}function km(c,n){if(!n.isReprojectedInTileSpace)return{scale:1<<c.z,x:c.x,y:c.y,x2:c.x+1,y2:c.y+1,projection:n};const i=Math.pow(2,-c.z),d=c.x*i,g=(c.x+1)*i,h=c.y*i,v=(c.y+1)*i,w=Fc(d),M=Fc(g),D=hc(h),x=hc(v),P=n.project(w,D),$=n.project(M,D),T=n.project(M,x),O=n.project(w,x);let N=Math.min(P.x,$.x,T.x,O.x),G=Math.min(P.y,$.y,T.y,O.y),q=Math.max(P.x,$.x,T.x,O.x),se=Math.max(P.y,$.y,T.y,O.y);const ce=i/16;function te(Ce,Re,it,nt,et,Lt){const ut=(it+et)/2,Zt=(nt+Lt)/2,on=n.project(Fc(ut),hc(Zt)),Wt=Math.max(0,N-on.x,G-on.y,on.x-q,on.y-se);N=Math.min(N,on.x),q=Math.max(q,on.x),G=Math.min(G,on.y),se=Math.max(se,on.y),Wt>ce&&(te(Ce,on,it,nt,ut,Zt),te(on,Re,ut,Zt,et,Lt))}te(P,$,d,h,g,h),te($,T,g,h,g,v),te(T,O,g,v,d,v),te(O,P,d,v,d,h),N-=ce,G-=ce,q+=ce,se+=ce;const pe=1/Math.max(q-N,se-G);return{scale:pe,x:N*pe,y:G*pe,x2:q*pe,y2:se*pe,projection:n}}function N_(c,{x:n,y:i},d=0){return new Sn(((n-d)*c.scale-c.x)*Ei,(i*c.scale-c.y)*Ei)}const OC=$e.mat4.identity(new Float32Array(16));class Nf{constructor(n){this.spec=n,this.name=n.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit="meters",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=["custom"],this.center=[0,0],this.range=[3.5,7]}project(n,i){return{x:0,y:0,z:0}}unproject(n,i){return new gs(0,0)}projectTilePoint(n,i,d){return{x:n,y:i,z:0}}locationPoint(n,i,d=!0){return n._coordinatePoint(n.locationCoordinate(i),d)}pixelsPerMeter(n,i){return xc(1,n)*i}pixelSpaceConversion(n,i,d){return 1}farthestPixelDistance(n){return L_(n,n.pixelsPerMeter)}pointCoordinate(n,i,d,g){const h=n.horizonLineFromTop(!1),v=new Sn(i,Math.max(h,d));return n.rayIntersectionCoordinate(n.pointRayIntersection(v,g))}pointCoordinate3D(n,i,d){const g=new Sn(i,d);if(n.elevation)return n.elevation.pointCoordinate(g);{const h=this.pointCoordinate(n,g.x,g.y,0);return[h.x,h.y,h.z]}}isPointAboveHorizon(n,i){if(n.elevation&&n.elevation.visibleDemTiles.length)return!this.pointCoordinate3D(n,i.x,i.y);const d=n.horizonLineFromTop();return i.y<d}createInversionMatrix(n,i){return OC}createTileMatrix(n,i,d){let g,h,v;const w=d.canonical,M=$e.mat4.identity(new Float64Array(16));if(this.isReprojectedInTileSpace){const D=km(w,this);g=1,h=D.x+d.wrap*D.scale,v=D.y,$e.mat4.scale(M,M,[g/D.scale,g/D.scale,n.pixelsPerMeter/i])}else g=i/n.zoomScale(w.z),h=(w.x+Math.pow(2,w.z)*d.wrap)*g,v=w.y*g;return $e.mat4.translate(M,M,[h,v,0]),$e.mat4.scale(M,M,[g/Ei,g/Ei,1]),M}upVector(n,i,d){return[0,0,1]}upVectorScale(n,i,d){return{metersToTile:1}}}class RC extends Nf{constructor(n){super(n),this.range=[4,7],this.center=n.center||[-96,37.5];const[i,d]=this.parallels=n.parallels||[29.5,45.5],g=Math.sin(st(i));this.n=(g+Math.sin(st(d)))/2,this.c=1+g*(2*this.n-g),this.r0=Math.sqrt(this.c)/this.n}project(n,i){const{n:d,c:g,r0:h}=this,v=st(n-this.center[0]),w=st(i),M=Math.sqrt(g-2*d*Math.sin(w))/d;return{x:M*Math.sin(v*d),y:M*Math.cos(v*d)-h,z:0}}unproject(n,i){const{n:d,c:g,r0:h}=this,v=h+i;let w=Math.atan2(n,Math.abs(v))*Math.sign(v);v*d<0&&(w-=Math.PI*Math.sign(n)*Math.sign(v));const M=st(this.center[0])*d;w=ri(w,-Math.PI-M,Math.PI-M);const D=Vn(jt(w/d)+this.center[0],-180,180),x=Math.asin(Vn((g-(n*n+v*v)*d*d)/(2*d),-1,1)),P=Vn(jt(x),-vl,vl);return new gs(D,P)}}const ig=1.340264,og=-.081106,ag=893e-6,sg=.003796,M0=Math.sqrt(3)/2;class P0 extends Nf{project(n,i){i=i/180*Math.PI,n=n/180*Math.PI;const d=Math.asin(M0*Math.sin(i)),g=d*d,h=g*g*g;return{x:.5*(n*Math.cos(d)/(M0*(ig+3*og*g+h*(7*ag+9*sg*g)))/Math.PI+.5),y:1-.5*(d*(ig+og*g+h*(ag+sg*g))/Math.PI+1),z:0}}unproject(n,i){n=(2*n-.5)*Math.PI;let d=i=(2*(1-i)-1)*Math.PI,g=d*d,h=g*g*g;for(let x,P,$,T=0;T<12&&(P=d*(ig+og*g+h*(ag+sg*g))-i,$=ig+3*og*g+h*(7*ag+9*sg*g),x=P/$,d=Vn(d-x,-Math.PI/3,Math.PI/3),g=d*d,h=g*g*g,!(Math.abs(x)<1e-12));++T);const v=M0*n*(ig+3*og*g+h*(7*ag+9*sg*g))/Math.cos(d),w=Math.asin(Math.sin(d)/M0),M=Vn(180*v/Math.PI,-180,180),D=Vn(180*w/Math.PI,-vl,vl);return new gs(M,D)}}class $C extends Nf{constructor(n){super(n),this.wrap=!0,this.supportsWorldCopies=!0}project(n,i){return{x:.5+n/360,y:.5-i/360,z:0}}unproject(n,i){const d=360*(n-.5),g=Vn(360*(.5-i),-vl,vl);return new gs(d,g)}}const Zh=Math.PI/2;function O0(c){return Math.tan((Zh+c)/2)}class B_ extends Nf{constructor(n){super(n),this.center=n.center||[0,30];const[i,d]=this.parallels=n.parallels||[30,30];let g=st(i),h=st(d);this.southernCenter=g+h<0,this.southernCenter&&(g=-g,h=-h);const v=Math.cos(g),w=O0(g);this.n=g===h?Math.sin(g):Math.log(v/Math.cos(h))/Math.log(O0(h)/w),this.f=v*Math.pow(O0(g),this.n)/this.n}project(n,i){i=st(i),this.southernCenter&&(i=-i),n=st(n-this.center[0]);const d=1e-6,{n:g,f:h}=this;h>0?i<-Zh+d&&(i=-Zh+d):i>Zh-d&&(i=Zh-d);const v=h/Math.pow(O0(i),g);let w=v*Math.sin(g*n),M=h-v*Math.cos(g*n);return w=.5*(w/Math.PI+.5),M=.5*(M/Math.PI+.5),{x:w,y:this.southernCenter?M:1-M,z:0}}unproject(n,i){n=(2*n-.5)*Math.PI,this.southernCenter&&(i=1-i),i=(2*(1-i)-.5)*Math.PI;const{n:d,f:g}=this,h=g-i,v=Math.sign(h),w=Math.sign(d)*Math.sqrt(n*n+h*h);let M=Math.atan2(n,Math.abs(h))*v;h*d<0&&(M-=Math.PI*Math.sign(n)*v);const D=Vn(jt(M/d)+this.center[0],-180,180),x=Vn(jt(2*Math.atan(Math.pow(g/w,1/d))-Zh),-vl,vl);return new gs(D,this.southernCenter?-x:x)}}class xy extends Nf{constructor(n){super(n),this.wrap=!0,this.supportsWorldCopies=!0,this.supportsTerrain=!0,this.supportsFog=!0,this.supportsFreeCamera=!0,this.isReprojectedInTileSpace=!1,this.unsupportedLayers=[],this.range=null}project(n,i){return{x:Yu(n),y:_u(i),z:0}}unproject(n,i){const d=Fc(n),g=hc(i);return new gs(d,g)}}const F_=st(vl);class k_ extends Nf{project(n,i){const d=(i=st(i))*i,g=d*d;return{x:.5*((n=st(n))*(.8707-.131979*d+g*(g*(.003971*d-.001529*g)-.013791))/Math.PI+.5),y:1-.5*(i*(1.007226+d*(.015085+g*(.028874*d-.044475-.005916*g)))/Math.PI+1),z:0}}unproject(n,i){n=(2*n-.5)*Math.PI;let d=i=(2*(1-i)-1)*Math.PI,g=25,h=0,v=d*d;do{v=d*d;const D=v*v;h=(d*(1.007226+v*(.015085+D*(.028874*v-.044475-.005916*D)))-i)/(1.007226+v*(.045255+D*(.259866*v-.311325-.005916*11*D))),d=Vn(d-h,-F_,F_)}while(Math.abs(h)>1e-6&&--g>0);v=d*d;const w=Vn(jt(n/(.8707+v*(v*(v*v*v*(.003971-.001529*v)-.013791)-.131979))),-180,180),M=jt(d);return new gs(w,M)}}const j_=st(vl);class AC extends Nf{project(n,i){i=st(i),n=st(n);const d=Math.cos(i),g=2/Math.PI,h=Math.acos(d*Math.cos(n/2)),v=Math.sin(h)/h,w=.5*(n*g+2*d*Math.sin(n/2)/v)||0,M=.5*(i+Math.sin(i)/v)||0;return{x:.5*(w/Math.PI+.5),y:1-.5*(M/Math.PI+1),z:0}}unproject(n,i){let d=n=(2*n-.5)*Math.PI,g=i=(2*(1-i)-1)*Math.PI,h=25;const v=1e-6;let w=0,M=0;do{const D=Math.cos(g),x=Math.sin(g),P=2*x*D,$=x*x,T=D*D,O=Math.cos(d/2),N=Math.sin(d/2),G=2*O*N,q=N*N,se=1-T*O*O,ce=se?1/se:0,te=se?Math.acos(D*O)*Math.sqrt(1/se):0,pe=.5*(2*te*D*N+2*d/Math.PI)-n,Ce=.5*(te*x+g)-i,Re=.5*ce*(T*q+te*D*O*$)+1/Math.PI,it=ce*(G*P/4-te*x*N),nt=.125*ce*(P*N-te*x*T*G),et=.5*ce*($*O+te*q*D)+.5,Lt=it*nt-et*Re;w=(Ce*it-pe*et)/Lt,M=(pe*nt-Ce*Re)/Lt,d=Vn(d-w,-Math.PI,Math.PI),g=Vn(g-M,-j_,j_)}while((Math.abs(w)>v||Math.abs(M)>v)&&--h>0);return new gs(jt(d),jt(g))}}class lg extends Nf{constructor(n){super(n),this.center=n.center||[0,0],this.parallels=n.parallels||[0,0],this.cosPhi=Math.max(.01,Math.cos(st(this.parallels[0]))),this.scale=1/(2*Math.max(Math.PI*this.cosPhi,1/this.cosPhi)),this.wrap=!0,this.supportsWorldCopies=!0}project(n,i){const{scale:d,cosPhi:g}=this;return{x:st(n)*g*d+.5,y:-Math.sin(st(i))/g*d+.5,z:0}}unproject(n,i){const{scale:d,cosPhi:g}=this,h=-(i-.5)/d,v=Vn(jt((n-.5)/d)/g,-180,180),w=Math.asin(Vn(h*g,-1,1)),M=Vn(jt(w),-vl,vl);return new gs(v,M)}}class Cy extends xy{constructor(n){super(n),this.requiresDraping=!0,this.supportsWorldCopies=!1,this.supportsFog=!0,this.zAxisUnit="pixels",this.unsupportedLayers=["debug"],this.range=[3,5]}projectTilePoint(n,i,d){const g=$s(n,i,d),h=Ul(Cl(d));return $e.vec3.transformMat4(g,g,h),{x:g[0],y:g[1],z:g[2]}}locationPoint(n,i){const d=Zd(i.lat,i.lng),g=$e.vec3.normalize([],d),h=n.elevation?n.elevation.getAtPointOrZero(n.locationCoordinate(i),n._centerAltitude):n._centerAltitude,v=xc(1,0)*Ei*h;$e.vec3.scaleAndAdd(d,d,g,v);const w=$e.mat4.identity(new Float64Array(16));return $e.mat4.multiply(w,n.pixelMatrix,n.globeMatrix),$e.vec3.transformMat4(d,d,w),new Sn(d[0],d[1])}pixelsPerMeter(n,i){return xc(1,0)*i}pixelSpaceConversion(n,i,d){const g=xc(1,n)*i,h=Pr(xc(1,45)*i,g,d);return this.pixelsPerMeter(n,i)/h}createTileMatrix(n,i,d){const g=Ps(Cl(d.canonical));return $e.mat4.multiply(new Float64Array(16),n.globeMatrix,g)}createInversionMatrix(n,i){const{center:d}=n,g=Ul(Cl(i));return $e.mat4.rotateY(g,g,st(d.lng)),$e.mat4.rotateX(g,g,st(d.lat)),$e.mat4.scale(g,g,[n._pixelsPerMercatorPixel,n._pixelsPerMercatorPixel,1]),Float32Array.from(g)}pointCoordinate(n,i,d,g){return ws(n,i,d,!0)||new l(0,0)}pointCoordinate3D(n,i,d){const g=this.pointCoordinate(n,i,d,0);return[g.x,g.y,g.z]}isPointAboveHorizon(n,i){return!ws(n,i.x,i.y,!1)}farthestPixelDistance(n){const i=function(g,h){const v=g.cameraToCenterDistance,w=g._centerAltitude*h,M=g._camera,D=g._camera.forward(),x=$e.vec3.add([],$e.vec3.scale([],D,-v),[0,0,w]),P=g.worldSize/(2*Math.PI),$=[0,0,-P],T=g.width/g.height,O=Math.tan(g.fovAboveCenter),N=$e.vec3.scale([],M.up(),O),G=$e.vec3.scale([],M.right(),O*T),q=$e.vec3.normalize([],$e.vec3.add([],$e.vec3.add([],D,N),G)),se=[];let ce;if(new va(x,q).closestPointOnSphere($,P,se)){const te=$e.vec3.add([],se,$),pe=$e.vec3.sub([],te,x);ce=Math.cos(g.fovAboveCenter)*$e.vec3.length(pe)}else{const te=$e.vec3.sub([],x,$),pe=$e.vec3.sub([],$,x);$e.vec3.normalize(pe,pe);const Ce=$e.vec3.length(te)-P;ce=Math.sqrt(Ce*(Ce+2*P));const Re=Math.acos(ce/(P+Ce))-Math.acos($e.vec3.dot(D,pe));ce*=Math.cos(Re)}return 1.01*ce}(n,this.pixelsPerMeter(n.center.lat,n.worldSize)),d=mc(n.zoom);if(d>0){const g=L_(n,xc(1,n.center.lat)*n.worldSize),h=n.worldSize/(2*Math.PI),v=Math.max(n.width,n.height)/n.worldSize*Math.PI;return Pr(i,g+h*(1-Math.cos(v)),Math.pow(d,10))}return i}upVector(n,i,d){return $s(i,d,n,1)}upVectorScale(n){return{metersToTile:Ka(us(Cl(n)))}}}function R0(c){const n=c.parallels,i=!!n&&Math.abs(n[0]+n[1])<.01;switch(c.name){case"mercator":return new xy(c);case"equirectangular":return new $C(c);case"naturalEarth":return new k_(c);case"equalEarth":return new P0(c);case"winkelTripel":return new AC(c);case"albers":return i?new lg(c):new RC(c);case"lambertConformalConic":return i?new lg(c):new B_(c);case"globe":return new Cy(c)}throw new Error(`Invalid projection name: ${c.name}`)}const Z_=lc.VectorTileFeature.types,DC=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function $0(c,n,i,d,g,h,v,w,M,D,x,P,$){const T=w?Math.min(zf,Math.round(w[0])):0,O=w?Math.min(zf,Math.round(w[1])):0;c.emplaceBack(n,i,Math.round(32*d),Math.round(32*g),h,v,(T<<1)+(M?1:0),O,16*D,16*x,256*P,256*$)}function A0(c,n,i){c.emplaceBack(n,i)}function D0(c,n,i,d,g,h,v){c.emplaceBack(n,i,d,g,h,v)}function jm(c,n,i,d,g){c.emplaceBack(n,i,d,g),c.emplaceBack(n,i,d,g),c.emplaceBack(n,i,d,g),c.emplaceBack(n,i,d,g)}function zC(c){for(const n of c.sections)if(hm(n.text))return!0;return!1}class Sy{constructor(n){this.layoutVertexArray=new bm,this.indexArray=new oc,this.programConfigurations=n,this.segments=new gl,this.dynamicLayoutVertexArray=new Bd,this.opacityVertexArray=new wp,this.placedSymbolArray=new Fg,this.iconTransitioningVertexArray=new Fd,this.globeExtVertexArray=new _m,this.zOffsetVertexArray=new _h}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0&&this.iconTransitioningVertexArray.length===0}upload(n,i,d,g,h){this.isEmpty()||(d&&(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,SC.members),this.indexBuffer=n.createIndexBuffer(this.indexArray,i),this.dynamicLayoutVertexBuffer=n.createVertexBuffer(this.dynamicLayoutVertexArray,Qu.members,!0),this.opacityVertexBuffer=n.createVertexBuffer(this.opacityVertexArray,DC,!0),this.iconTransitioningVertexArray.length>0&&(this.iconTransitioningVertexBuffer=n.createVertexBuffer(this.iconTransitioningVertexArray,IC.members,!0)),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=n.createVertexBuffer(this.globeExtVertexArray,wC.members,!0)),!this.zOffsetVertexBuffer&&(this.zOffsetVertexArray.length>0||h)&&(this.zOffsetVertexBuffer=n.createVertexBuffer(this.zOffsetVertexArray,EC.members,!0)),this.opacityVertexBuffer.itemSize=1),(d||g)&&this.programConfigurations.upload(n))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.iconTransitioningVertexBuffer&&this.iconTransitioningVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy(),this.zOffsetVertexBuffer&&this.zOffsetVertexBuffer.destroy())}}lo(Sy,"SymbolBuffers");class wy{constructor(n,i,d){this.layoutVertexArray=new n,this.layoutAttributes=i,this.indexArray=new d,this.segments=new gl,this.collisionVertexArray=new Bg,this.collisionVertexArrayExt=new Bd}upload(n){this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=n.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=n.createVertexBuffer(this.collisionVertexArray,__.members,!0),this.collisionVertexBufferExt=n.createVertexBuffer(this.collisionVertexArrayExt,sy.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}lo(wy,"CollisionBuffers");class z0{constructor(n){this.collisionBoxArray=n.collisionBoxArray,this.zoom=n.zoom,this.lut=n.lut,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(v=>v.fqid),this.index=n.index,this.pixelRatio=n.pixelRatio,this.sourceLayerIndex=n.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.hasAnyIconTextFit=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=$e.mat4.identity([]),this.placementViewportMatrix=$e.mat4.identity([]);const i=this.layers[0]._unevaluatedLayout._values;this.textSizeData=b0(this.zoom,i["text-size"]),this.iconSizeData=b0(this.zoom,i["icon-size"]);const d=this.layers[0].layout,g=d.get("symbol-sort-key"),h=d.get("symbol-z-order");this.canOverlap=d.get("text-allow-overlap")||d.get("icon-allow-overlap")||d.get("text-ignore-placement")||d.get("icon-ignore-placement"),this.sortFeaturesByKey=h!=="viewport-y"&&g.constantOr(1)!==void 0,this.sortFeaturesByY=(h==="viewport-y"||h==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=d.get("text-writing-mode").map(v=>Cu[v]),this.stateDependentLayerIds=this.layers.filter(v=>v.isStateDependent()).map(v=>v.id),this.sourceID=n.sourceID,this.projection=n.projection,this.hasAnyZOffset=!1,this.zOffsetSortDirty=!1,this.zOffsetBuffersNeedUpload=d.get("symbol-z-elevate"),this.activeReplacements=[],this.replacementUpdateTime=0}createArrays(){this.text=new Sy(new Cd(this.layers,{zoom:this.zoom,lut:this.lut},n=>n.startsWith("text")||n.startsWith("symbol"))),this.icon=new Sy(new Cd(this.layers,{zoom:this.zoom,lut:this.lut},n=>n.startsWith("icon")||n.startsWith("symbol"))),this.glyphOffsetArray=new Iv,this.lineVertexArray=new jg,this.symbolInstances=new kg}calculateGlyphDependencies(n,i,d,g,h){for(const v of n){const w=v.codePointAt(0);if(w===void 0)break;if(i[w]=!0,g&&h&&w<=65535){const M=zm[v];M&&(i[M.charCodeAt(0)]=!0)}}}updateFootprints(n,i){}updateReplacement(n,i){if(i.updateTime===this.replacementUpdateTime)return!1;this.replacementUpdateTime=i.updateTime;const d=i.getReplacementRegionsForTile(n.toUnwrapped(),!0);return!l0(this.activeReplacements,d)&&(this.activeReplacements=d,!0)}populate(n,i,d,g){const h=this.layers[0],v=h.layout,w=this.projection.name==="globe",M=v.get("text-font"),D=v.get("text-field"),x=v.get("icon-image"),[P,$]=v.get("icon-size-scale-range"),T=Vn(i.scaleFactor||1,P,$),O=(D.value.kind!=="constant"||D.value.value instanceof ir&&!D.value.value.isEmpty()||D.value.value.toString().length>0)&&(M.value.kind!=="constant"||M.value.value.length>0),N=x.value.kind!=="constant"||!!x.value.value||Object.keys(x.parameters).length>0,G=v.get("symbol-sort-key");if(this.features=[],!O&&!N)return;const q=i.iconDependencies,se=i.glyphDependencies,ce=i.availableImages,te=new Ws(this.zoom);for(const{feature:pe,id:Ce,index:Re,sourceLayerIndex:it}of n){const nt=h._featureFilter.needGeometry,et=Y(pe,nt);if(!h._featureFilter.filter(te,et,d))continue;if(nt||(et.geometry=U(pe,d,g)),w&&pe.type!==1&&d.z<=5){const Wt=et.geometry,cn=.98078528056,wn=(Nn,vn)=>{const xr=$s(Nn.x,Nn.y,d,1),Hr=$s(vn.x,vn.y,d,1);return $e.vec3.dot(xr,Hr)<cn};for(let Nn=0;Nn<Wt.length;Nn++)Wt[Nn]=E(Wt[Nn],wn)}let Lt,ut;if(O){const Wt=h.getValueAndResolveTokens("text-field",et,d,ce),cn=ir.factory(Wt);zC(cn)&&(this.hasRTLText=!0),(!this.hasRTLText||dh()==="unavailable"||this.hasRTLText&&Wc.isParsed())&&(Lt=TC(cn,h,et))}if(N){const Wt=h.getValueAndResolveTokens("icon-image",et,d,ce);ut=Wt instanceof Vr?Wt:Vr.build(Wt)}if(!Lt&&!ut)continue;const Zt=this.sortFeaturesByKey?G.evaluate(et,{},d):void 0,on={id:Ce,text:Lt,icon:ut,index:Re,sourceLayerIndex:it,geometry:et.geometry,properties:pe.properties,type:Z_[pe.type],sortKey:Zt};if(this.features.push(on),ut){const Wt=y0(this.iconSizeData,this.layers[0]._unevaluatedLayout._values["icon-size"],d,this.zoom,on)*T*this.pixelRatio,cn=ut.getPrimary().scaleSelf(Wt);if(q[cn.id]=q[cn.id]||[],q[cn.id].push(cn),ut.nameSecondary){const wn=ut.getSecondary().scaleSelf(Wt);q[wn.id]=q[wn.id]||[],q[wn.id].push(wn)}}if(Lt){const Wt=M.evaluate(et,{},d).join(","),cn=v.get("text-rotation-alignment")==="map"&&v.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Cu.vertical)>=0;for(const wn of Lt.sections)if(wn.image){const Nn=wn.image.getPrimary().scaleSelf(this.pixelRatio);q[Nn.id]=q[Nn.id]||[],q[Nn.id].push(Nn)}else{const Nn=dm(Lt.toString()),vn=wn.fontStack||Wt,xr=se[vn]=se[vn]||{};this.calculateGlyphDependencies(wn.text,xr,cn,this.allowVerticalPlacement,Nn)}}}v.get("symbol-placement")==="line"&&(this.features=function(pe){const Ce={},Re={},it=[];let nt=0;function et(on){it.push(pe[on]),nt++}function Lt(on,Wt,cn){const wn=Re[on];return delete Re[on],Re[Wt]=wn,it[wn].geometry[0].pop(),it[wn].geometry[0]=it[wn].geometry[0].concat(cn[0]),wn}function ut(on,Wt,cn){const wn=Ce[Wt];return delete Ce[Wt],Ce[on]=wn,it[wn].geometry[0].shift(),it[wn].geometry[0]=cn[0].concat(it[wn].geometry[0]),wn}function Zt(on,Wt,cn){const wn=cn?Wt[0][Wt[0].length-1]:Wt[0][0];return`${on}:${wn.x}:${wn.y}`}for(let on=0;on<pe.length;on++){const Wt=pe[on],cn=Wt.geometry,wn=Wt.text?Wt.text.toString():null;if(!wn){et(on);continue}const Nn=Zt(wn,cn),vn=Zt(wn,cn,!0);if(Nn in Re&&vn in Ce&&Re[Nn]!==Ce[vn]){const xr=ut(Nn,vn,cn),Hr=Lt(Nn,vn,it[xr].geometry);delete Ce[Nn],delete Re[vn],Re[Zt(wn,it[Hr].geometry,!0)]=Hr,it[xr].geometry=null}else Nn in Re?Lt(Nn,vn,cn):vn in Ce?ut(Nn,vn,cn):(et(on),Ce[Nn]=nt-1,Re[vn]=nt-1)}return it.filter(on=>on.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((pe,Ce)=>pe.sortKey-Ce.sortKey)}update(n,i,d,g,h,v,w){this.text.programConfigurations.updatePaintArrays(n,i,h,d,g,v,w),this.icon.programConfigurations.updatePaintArrays(n,i,h,d,g,v,w)}updateZOffset(){const n=(h,v,w)=>{d+=v,d>h.length&&h.resize(d);for(let M=-v;M<0;M++)h.emplace(M+d,w)},i=(h,v,w)=>{g+=v,g>h.length&&h.resize(g);for(let M=-v;M<0;M++)h.emplace(M+g,w)};if(!this.zOffsetBuffersNeedUpload)return;this.zOffsetBuffersNeedUpload=!1;let d=0,g=0;for(let h=0;h<this.symbolInstances.length;h++){const v=this.symbolInstances.get(h),{numHorizontalGlyphVertices:w,numVerticalGlyphVertices:M,numIconVertices:D}=v,x=v.zOffset,P=D>0;if((w>0||M>0)&&(n(this.text.zOffsetVertexArray,w,x),n(this.text.zOffsetVertexArray,M,x)),P){const{placedIconSymbolIndex:$,verticalPlacedIconSymbolIndex:T}=v;$>=0&&i(this.icon.zOffsetVertexArray,D,x),T>=0&&i(this.icon.zOffsetVertexArray,v.numVerticalIconVertices,x)}}this.text.zOffsetVertexBuffer&&this.text.zOffsetVertexBuffer.updateData(this.text.zOffsetVertexArray),this.icon.zOffsetVertexBuffer&&this.icon.zOffsetVertexBuffer.updateData(this.icon.zOffsetVertexArray)}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(n){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(n),this.iconCollisionBox.upload(n)),this.text.upload(n,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload,this.zOffsetBuffersNeedUpload),this.icon.upload(n,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload,this.zOffsetBuffersNeedUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}getProjection(){return this.projectionInstance||(this.projectionInstance=R0(this.projection)),this.projectionInstance}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(n,i){const d=this.lineVertexArray.length;if(n.segment!==void 0)for(const{x:g,y:h}of i)this.lineVertexArray.emplaceBack(g,h);return{lineStartIndex:d,lineLength:this.lineVertexArray.length-d}}addSymbols(n,i,d,g,h,v,w,M,D,x,P,$,T,O,N,G){const q=n.indexArray,se=n.layoutVertexArray,ce=n.globeExtVertexArray,te=n.segments.prepareSegment(4*i.length,se,q,this.canOverlap?v.sortKey:void 0),pe=this.glyphOffsetArray.length,Ce=te.vertexLength,Re=this.allowVerticalPlacement&&w===Cu.vertical?Math.PI/2:0,it=v.text&&v.text.sections;for(let et=0;et<i.length;et++){const{tl:Lt,tr:ut,bl:Zt,br:on,texPrimary:Wt,texSecondary:cn,pixelOffsetTL:wn,pixelOffsetBR:Nn,minFontScaleX:vn,minFontScaleY:xr,glyphOffset:Hr,isSDF:_r,sectionIndex:Bi}=i[et],Mi=te.vertexLength,di=Hr[1];if($0(se,D.x,D.y,Lt.x,di+Lt.y,Wt.x,Wt.y,d,_r,wn.x,wn.y,vn,xr),$0(se,D.x,D.y,ut.x,di+ut.y,Wt.x+Wt.w,Wt.y,d,_r,Nn.x,wn.y,vn,xr),$0(se,D.x,D.y,Zt.x,di+Zt.y,Wt.x,Wt.y+Wt.h,d,_r,wn.x,Nn.y,vn,xr),$0(se,D.x,D.y,on.x,di+on.y,Wt.x+Wt.w,Wt.y+Wt.h,d,_r,Nn.x,Nn.y,vn,xr),M){const{x:Wr,y:bo,z:ji}=M.anchor,[Qi,ia,Aa]=M.up;D0(ce,Wr,bo,ji,Qi,ia,Aa),D0(ce,Wr,bo,ji,Qi,ia,Aa),D0(ce,Wr,bo,ji,Qi,ia,Aa),D0(ce,Wr,bo,ji,Qi,ia,Aa),jm(n.dynamicLayoutVertexArray,Wr,bo,ji,Re)}else jm(n.dynamicLayoutVertexArray,D.x,D.y,D.z,Re);if(G){const Wr=cn||Wt;A0(n.iconTransitioningVertexArray,Wr.x,Wr.y),A0(n.iconTransitioningVertexArray,Wr.x+Wr.w,Wr.y),A0(n.iconTransitioningVertexArray,Wr.x,Wr.y+Wr.h),A0(n.iconTransitioningVertexArray,Wr.x+Wr.w,Wr.y+Wr.h)}q.emplaceBack(Mi,Mi+1,Mi+2),q.emplaceBack(Mi+1,Mi+2,Mi+3),te.vertexLength+=4,te.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Hr[0]),et!==i.length-1&&Bi===i[et+1].sectionIndex||n.programConfigurations.populatePaintArrays(se.length,v,v.index,{},T,O,N,it&&it[Bi])}const nt=M?M.anchor:D;n.placedSymbolArray.emplaceBack(nt.x,nt.y,nt.z,D.x,D.y,pe,this.glyphOffsetArray.length-pe,Ce,x,P,D.segment,d?d[0]:0,d?d[1]:0,g[0],g[1],w,0,!1,0,$,0)}_commitLayoutVertex(n,i,d,g,h,v,w){n.emplaceBack(i,d,g,h,v,Math.round(w.x),Math.round(w.y))}_addCollisionDebugVertices(n,i,d,g,h,v,w){const M=d.segments.prepareSegment(4,d.layoutVertexArray,d.indexArray),D=M.vertexLength,x=w.tileAnchorX,P=w.tileAnchorY;for(let T=0;T<4;T++)d.collisionVertexArray.emplaceBack(0,0,0,0,0,0);this._commitDebugCollisionVertexUpdate(d.collisionVertexArrayExt,i,n.padding,w.zOffset),this._commitLayoutVertex(d.layoutVertexArray,g,h,v,x,P,new Sn(n.x1,n.y1)),this._commitLayoutVertex(d.layoutVertexArray,g,h,v,x,P,new Sn(n.x2,n.y1)),this._commitLayoutVertex(d.layoutVertexArray,g,h,v,x,P,new Sn(n.x2,n.y2)),this._commitLayoutVertex(d.layoutVertexArray,g,h,v,x,P,new Sn(n.x1,n.y2)),M.vertexLength+=4;const $=d.indexArray;$.emplaceBack(D,D+1),$.emplaceBack(D+1,D+2),$.emplaceBack(D+2,D+3),$.emplaceBack(D+3,D),M.primitiveLength+=4}_addTextDebugCollisionBoxes(n,i,d,g,h,v){for(let w=g;w<h;w++){const M=d.get(w),D=this.getSymbolInstanceTextSize(n,v,i,w);this._addCollisionDebugVertices(M,D,this.textCollisionBox,M.projectedAnchorX,M.projectedAnchorY,M.projectedAnchorZ,v)}}_addIconDebugCollisionBoxes(n,i,d,g,h,v){for(let w=g;w<h;w++){const M=d.get(w),D=this.getSymbolInstanceIconSize(n,i,v.placedIconSymbolIndex);this._addCollisionDebugVertices(M,D,this.iconCollisionBox,M.projectedAnchorX,M.projectedAnchorY,M.projectedAnchorZ,v)}}generateCollisionDebugBuffers(n,i,d){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new wy(xm,Rf.members,Fd),this.iconCollisionBox=new wy(xm,Rf.members,Fd);const g=Dh(this.iconSizeData,n),h=Dh(this.textSizeData,n,d);for(let v=0;v<this.symbolInstances.length;v++){const w=this.symbolInstances.get(v);this._addTextDebugCollisionBoxes(h,n,i,w.textBoxStartIndex,w.textBoxEndIndex,w),this._addTextDebugCollisionBoxes(h,n,i,w.verticalTextBoxStartIndex,w.verticalTextBoxEndIndex,w),this._addIconDebugCollisionBoxes(g,n,i,w.iconBoxStartIndex,w.iconBoxEndIndex,w),this._addIconDebugCollisionBoxes(g,n,i,w.verticalIconBoxStartIndex,w.verticalIconBoxEndIndex,w)}}getSymbolInstanceTextSize(n,i,d,g){const h=this.text.placedSymbolArray.get(i.rightJustifiedTextSymbolIndex>=0?i.rightJustifiedTextSymbolIndex:i.centerJustifiedTextSymbolIndex>=0?i.centerJustifiedTextSymbolIndex:i.leftJustifiedTextSymbolIndex>=0?i.leftJustifiedTextSymbolIndex:i.verticalPlacedTextSymbolIndex>=0?i.verticalPlacedTextSymbolIndex:g),v=Dm(this.textSizeData,n,h)/tc;return this.tilePixelRatio*v}getSymbolInstanceIconSize(n,i,d){const g=this.icon.placedSymbolArray.get(d),h=Dm(this.iconSizeData,n,g);return this.tilePixelRatio*h}_commitDebugCollisionVertexUpdate(n,i,d,g){n.emplaceBack(i,-d,-d,g),n.emplaceBack(i,d,-d,g),n.emplaceBack(i,d,d,g),n.emplaceBack(i,-d,d,g)}_updateTextDebugCollisionBoxes(n,i,d,g,h,v,w){for(let M=g;M<h;M++){const D=d.get(M),x=this.getSymbolInstanceTextSize(n,v,i,M);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,x,D.padding,v.zOffset)}}_updateIconDebugCollisionBoxes(n,i,d,g,h,v,w){for(let M=g;M<h;M++){const D=d.get(M),x=this.getSymbolInstanceIconSize(n,i,v.placedIconSymbolIndex);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,x,D.padding,v.zOffset)}}updateCollisionDebugBuffers(n,i,d,g){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const h=Dh(this.iconSizeData,n,g),v=Dh(this.textSizeData,n,d);for(let w=0;w<this.symbolInstances.length;w++){const M=this.symbolInstances.get(w);this._updateTextDebugCollisionBoxes(v,n,i,M.textBoxStartIndex,M.textBoxEndIndex,M,d),this._updateTextDebugCollisionBoxes(v,n,i,M.verticalTextBoxStartIndex,M.verticalTextBoxEndIndex,M,d),this._updateIconDebugCollisionBoxes(h,n,i,M.iconBoxStartIndex,M.iconBoxEndIndex,M,g),this._updateIconDebugCollisionBoxes(h,n,i,M.verticalIconBoxStartIndex,M.verticalIconBoxEndIndex,M,g)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(n,i,d,g,h,v,w,M,D){const x={};if(i<d){const{x1:P,y1:$,x2:T,y2:O,padding:N,projectedAnchorX:G,projectedAnchorY:q,projectedAnchorZ:se,tileAnchorX:ce,tileAnchorY:te,featureIndex:pe}=n.get(i);x.textBox={x1:P,y1:$,x2:T,y2:O,padding:N,projectedAnchorX:G,projectedAnchorY:q,projectedAnchorZ:se,tileAnchorX:ce,tileAnchorY:te},x.textFeatureIndex=pe}if(g<h){const{x1:P,y1:$,x2:T,y2:O,padding:N,projectedAnchorX:G,projectedAnchorY:q,projectedAnchorZ:se,tileAnchorX:ce,tileAnchorY:te,featureIndex:pe}=n.get(g);x.verticalTextBox={x1:P,y1:$,x2:T,y2:O,padding:N,projectedAnchorX:G,projectedAnchorY:q,projectedAnchorZ:se,tileAnchorX:ce,tileAnchorY:te},x.verticalTextFeatureIndex=pe}if(v<w){const{x1:P,y1:$,x2:T,y2:O,padding:N,projectedAnchorX:G,projectedAnchorY:q,projectedAnchorZ:se,tileAnchorX:ce,tileAnchorY:te,featureIndex:pe}=n.get(v);x.iconBox={x1:P,y1:$,x2:T,y2:O,padding:N,projectedAnchorX:G,projectedAnchorY:q,projectedAnchorZ:se,tileAnchorX:ce,tileAnchorY:te},x.iconFeatureIndex=pe}if(M<D){const{x1:P,y1:$,x2:T,y2:O,padding:N,projectedAnchorX:G,projectedAnchorY:q,projectedAnchorZ:se,tileAnchorX:ce,tileAnchorY:te,featureIndex:pe}=n.get(M);x.verticalIconBox={x1:P,y1:$,x2:T,y2:O,padding:N,projectedAnchorX:G,projectedAnchorY:q,projectedAnchorZ:se,tileAnchorX:ce,tileAnchorY:te},x.verticalIconFeatureIndex=pe}return x}deserializeCollisionBoxes(n){this.collisionArrays=[];for(let i=0;i<this.symbolInstances.length;i++){const d=this.symbolInstances.get(i);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(n,d.textBoxStartIndex,d.textBoxEndIndex,d.verticalTextBoxStartIndex,d.verticalTextBoxEndIndex,d.iconBoxStartIndex,d.iconBoxEndIndex,d.verticalIconBoxStartIndex,d.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}hasIconTextFit(){return this.hasAnyIconTextFit}addIndicesForPlacedSymbol(n,i){const d=n.placedSymbolArray.get(i),g=d.vertexStartIndex+4*d.numGlyphs;for(let h=d.vertexStartIndex;h<g;h+=4)n.indexArray.emplaceBack(h,h+1,h+2),n.indexArray.emplaceBack(h+1,h+2,h+3)}getSortedSymbolIndexes(n){if(this.sortedAngle===n&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const i=Math.sin(n),d=Math.cos(n),g=[],h=[],v=[];for(let w=0;w<this.symbolInstances.length;++w){v.push(w);const M=this.symbolInstances.get(w);g.push(0|Math.round(i*M.tileAnchorX+d*M.tileAnchorY)),h.push(M.featureIndex)}return v.sort((w,M)=>g[w]-g[M]||h[M]-h[w]),v}getSortedIndexesByZOffset(){if(!this.zOffsetSortDirty)return this.symbolInstanceIndexesSortedZOffset;if(!this.symbolInstanceIndexesSortedZOffset){this.symbolInstanceIndexesSortedZOffset=[];for(let n=0;n<this.symbolInstances.length;++n)this.symbolInstanceIndexesSortedZOffset.push(n)}return this.zOffsetSortDirty=!1,this.symbolInstanceIndexesSortedZOffset.sort((n,i)=>this.symbolInstances.get(i).zOffset-this.symbolInstances.get(n).zOffset)}addToSortKeyRanges(n,i){const d=this.sortKeyRanges[this.sortKeyRanges.length-1];d&&d.sortKey===i?d.symbolInstanceEnd=n+1:this.sortKeyRanges.push({sortKey:i,symbolInstanceStart:n,symbolInstanceEnd:n+1})}sortFeatures(n){if(this.sortFeaturesByY&&this.sortedAngle!==n&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(n),this.sortedAngle=n,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const i of this.symbolInstanceIndexes){const d=this.symbolInstances.get(i);this.featureSortOrder.push(d.featureIndex);const{rightJustifiedTextSymbolIndex:g,centerJustifiedTextSymbolIndex:h,leftJustifiedTextSymbolIndex:v,verticalPlacedTextSymbolIndex:w,placedIconSymbolIndex:M,verticalPlacedIconSymbolIndex:D}=d;g>=0&&this.addIndicesForPlacedSymbol(this.text,g),h>=0&&h!==g&&this.addIndicesForPlacedSymbol(this.text,h),v>=0&&v!==h&&v!==g&&this.addIndicesForPlacedSymbol(this.text,v),w>=0&&this.addIndicesForPlacedSymbol(this.text,w),M>=0&&this.addIndicesForPlacedSymbol(this.icon,M),D>=0&&this.addIndicesForPlacedSymbol(this.icon,D)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let V_,Ey,Zm;lo(z0,"SymbolBucket",{omit:["layers","collisionBoxArray","features","compareText"]}),z0.addDynamicAttributes=jm;class H_{constructor(n){this.type=n.property.overrides?n.property.overrides.runtimeType:qa,this.defaultValue=n}evaluate(n){if(n.formattedSection){const i=this.defaultValue.property.overrides;if(i&&i.hasOverride(n.formattedSection))return i.getOverride(n.formattedSection)}return n.feature&&n.featureState?this.defaultValue.evaluate(n.feature,n.featureState):this.defaultValue.property.specification.default}eachChild(n){this.defaultValue.isConstant()||n(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}lo(H_,"FormatSectionOverride",{omit:["defaultValue"]});const Iy=()=>Zm||(Zm={layout:V_||(V_=new el({"symbol-placement":new hi(Un.layout_symbol["symbol-placement"]),"symbol-spacing":new hi(Un.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new hi(Un.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new qi(Un.layout_symbol["symbol-sort-key"]),"symbol-z-order":new hi(Un.layout_symbol["symbol-z-order"]),"symbol-z-elevate":new hi(Un.layout_symbol["symbol-z-elevate"]),"symbol-elevation-reference":new hi(Un.layout_symbol["symbol-elevation-reference"]),"icon-allow-overlap":new hi(Un.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new hi(Un.layout_symbol["icon-ignore-placement"]),"icon-optional":new hi(Un.layout_symbol["icon-optional"]),"icon-rotation-alignment":new hi(Un.layout_symbol["icon-rotation-alignment"]),"icon-size":new qi(Un.layout_symbol["icon-size"]),"icon-size-scale-range":new hi(Un.layout_symbol["icon-size-scale-range"]),"icon-text-fit":new qi(Un.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new qi(Un.layout_symbol["icon-text-fit-padding"]),"icon-image":new qi(Un.layout_symbol["icon-image"]),"icon-rotate":new qi(Un.layout_symbol["icon-rotate"]),"icon-padding":new hi(Un.layout_symbol["icon-padding"]),"icon-keep-upright":new hi(Un.layout_symbol["icon-keep-upright"]),"icon-offset":new qi(Un.layout_symbol["icon-offset"]),"icon-anchor":new qi(Un.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new hi(Un.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new hi(Un.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new hi(Un.layout_symbol["text-rotation-alignment"]),"text-field":new qi(Un.layout_symbol["text-field"]),"text-font":new qi(Un.layout_symbol["text-font"]),"text-size":new qi(Un.layout_symbol["text-size"]),"text-size-scale-range":new hi(Un.layout_symbol["text-size-scale-range"]),"text-max-width":new qi(Un.layout_symbol["text-max-width"]),"text-line-height":new qi(Un.layout_symbol["text-line-height"]),"text-letter-spacing":new qi(Un.layout_symbol["text-letter-spacing"]),"text-justify":new qi(Un.layout_symbol["text-justify"]),"text-radial-offset":new qi(Un.layout_symbol["text-radial-offset"]),"text-variable-anchor":new hi(Un.layout_symbol["text-variable-anchor"]),"text-anchor":new qi(Un.layout_symbol["text-anchor"]),"text-max-angle":new hi(Un.layout_symbol["text-max-angle"]),"text-writing-mode":new hi(Un.layout_symbol["text-writing-mode"]),"text-rotate":new qi(Un.layout_symbol["text-rotate"]),"text-padding":new hi(Un.layout_symbol["text-padding"]),"text-keep-upright":new hi(Un.layout_symbol["text-keep-upright"]),"text-transform":new qi(Un.layout_symbol["text-transform"]),"text-offset":new qi(Un.layout_symbol["text-offset"]),"text-allow-overlap":new hi(Un.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new hi(Un.layout_symbol["text-ignore-placement"]),"text-optional":new hi(Un.layout_symbol["text-optional"]),visibility:new hi(Un.layout_symbol.visibility)})),paint:Ey||(Ey=new el({"icon-opacity":new qi(Un.paint_symbol["icon-opacity"]),"icon-occlusion-opacity":new qi(Un.paint_symbol["icon-occlusion-opacity"]),"icon-emissive-strength":new qi(Un.paint_symbol["icon-emissive-strength"]),"text-emissive-strength":new qi(Un.paint_symbol["text-emissive-strength"]),"icon-color":new qi(Un.paint_symbol["icon-color"]),"icon-halo-color":new qi(Un.paint_symbol["icon-halo-color"]),"icon-halo-width":new qi(Un.paint_symbol["icon-halo-width"]),"icon-halo-blur":new qi(Un.paint_symbol["icon-halo-blur"]),"icon-translate":new hi(Un.paint_symbol["icon-translate"]),"icon-translate-anchor":new hi(Un.paint_symbol["icon-translate-anchor"]),"icon-image-cross-fade":new qi(Un.paint_symbol["icon-image-cross-fade"]),"text-opacity":new qi(Un.paint_symbol["text-opacity"]),"text-occlusion-opacity":new qi(Un.paint_symbol["text-occlusion-opacity"]),"text-color":new qi(Un.paint_symbol["text-color"],{runtimeType:Yo,getOverride:c=>c.textColor,hasOverride:c=>!!c.textColor}),"text-halo-color":new qi(Un.paint_symbol["text-halo-color"]),"text-halo-width":new qi(Un.paint_symbol["text-halo-width"]),"text-halo-blur":new qi(Un.paint_symbol["text-halo-blur"]),"text-translate":new hi(Un.paint_symbol["text-translate"]),"text-translate-anchor":new hi(Un.paint_symbol["text-translate-anchor"]),"icon-color-saturation":new hi(Un.paint_symbol["icon-color-saturation"]),"icon-color-contrast":new hi(Un.paint_symbol["icon-color-contrast"]),"icon-color-brightness-min":new hi(Un.paint_symbol["icon-color-brightness-min"]),"icon-color-brightness-max":new hi(Un.paint_symbol["icon-color-brightness-max"]),"symbol-z-offset":new qi(Un.paint_symbol["symbol-z-offset"]),"icon-color-use-theme":new qi({type:"string",default:"default","property-type":"data-driven"}),"icon-halo-color-use-theme":new qi({type:"string",default:"default","property-type":"data-driven"}),"text-color-use-theme":new qi({type:"string",default:"default","property-type":"data-driven"}),"text-halo-color-use-theme":new qi({type:"string",default:"default","property-type":"data-driven"})}))},Zm);class L0 extends ec{constructor(n,i,d,g){super(n,Iy(),i,d,g),this._colorAdjustmentMatrix=$e.mat4.identity([]),this.hasInitialOcclusionOpacityProperties=n.paint!==void 0&&("icon-occlusion-opacity"in n.paint||"text-occlusion-opacity"in n.paint)}recalculate(n,i){super.recalculate(n,i),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const d=this.layout.get("text-writing-mode");if(d){const g=[];for(const h of d)g.indexOf(h)<0&&g.push(h);this.layout._values["text-writing-mode"]=g}else this.layout._values["text-writing-mode"]=this.layout.get("symbol-placement")==="point"?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getColorAdjustmentMatrix(n,i,d,g){return this._saturation===n&&this._contrast===i&&this._brightnessMin===d&&this._brightnessMax===g||(this._colorAdjustmentMatrix=function(h,v,w,M){h=li(h),v=$r(v);const D=$e.mat4.create(),x=h/3,P=1-2*x,$=[P,x,x,0,x,P,x,0,x,x,P,0,0,0,0,1],T=.5-.5*v,O=M-w;return $e.mat4.multiply(D,[O,0,0,0,0,O,0,0,0,0,O,0,w,w,w,1],[v,0,0,0,0,v,0,0,0,0,v,0,T,T,T,1]),$e.mat4.multiply(D,D,$),D}(n,i,d,g),this._saturation=n,this._contrast=i,this._brightnessMin=d,this._brightnessMax=g),this._colorAdjustmentMatrix}getValueAndResolveTokens(n,i,d,g){const h=this.layout.get(n).evaluate(i,{},d,g),v=this._unevaluatedLayout._values[n];return v.isDataDriven()||af(v.value)||!h?h:function(w,M){return M.replace(/{([^{}]+)}/g,(D,x)=>x in w?String(w[x]):"")}(i.properties,h)}createBucket(n){return new z0(n)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const n of Iy().paint.overridableProperties){if(!L0.hasPaintOverride(this.layout,n))continue;const i=this.paint.get(n),d=new H_(i),g=new md(d,i.property.specification,this.scope,this.options);let h=null;h=i.value.kind==="constant"||i.value.kind==="source"?new sm("source",g):new lm("composite",g,i.value.zoomStops,i.value._interpolationType),this.paint._values[n]=new ph(i.property,h,i.parameters)}}_handleOverridablePaintPropertyUpdate(n,i,d){return!(!this.layout||i.isDataDriven()||d.isDataDriven())&&L0.hasPaintOverride(this.layout,n)}static hasPaintOverride(n,i){const d=n.get("text-field"),g=Iy().paint.properties[i];let h=!1;const v=w=>{for(const M of w)if(g.overrides&&g.overrides.hasOverride(M))return void(h=!0)};if(d.value.kind==="constant"&&d.value.value instanceof ir)v(d.value.value.sections);else if(d.value.kind==="source"){const w=D=>{h||(D instanceof ti&&pi(D.value)===jo?v(D.value.sections):D instanceof Qo?v(D.sections):D.eachChild(w))},M=d.value;M._styleExpression&&w(M._styleExpression.expression)}return h}getProgramIds(){return["symbol"]}getDefaultProgramParams(n,i,d){return{config:new jd(this,{zoom:i,lut:d}),overrideFog:!1}}}let U_,W_,G_,X_;var Ty=Ss([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);function My(c){switch(c){case WebGL2RenderingContext.RGBA8:return WebGL2RenderingContext.RGBA;case WebGL2RenderingContext.DEPTH_COMPONENT16:return WebGL2RenderingContext.DEPTH_COMPONENT;case WebGL2RenderingContext.DEPTH24_STENCIL8:return WebGL2RenderingContext.DEPTH_STENCIL;case WebGL2RenderingContext.R8:case WebGL2RenderingContext.R32F:return WebGL2RenderingContext.RED}}function Py(c){switch(c){case WebGL2RenderingContext.RGBA8:return WebGL2RenderingContext.UNSIGNED_BYTE;case WebGL2RenderingContext.DEPTH_COMPONENT16:return WebGL2RenderingContext.UNSIGNED_SHORT;case WebGL2RenderingContext.DEPTH24_STENCIL8:return WebGL2RenderingContext.UNSIGNED_INT_24_8;case WebGL2RenderingContext.R8:return WebGL2RenderingContext.UNSIGNED_BYTE;case WebGL2RenderingContext.R32F:return WebGL2RenderingContext.FLOAT}}class Oy{constructor(n,i,d,g){this.context=n,this.format=d,this.useMipmap=g&&g.useMipmap,this.texture=n.gl.createTexture(),this.update(i,{premultiply:g&&g.premultiply})}update(n,i){const d=n&&n instanceof HTMLVideoElement&&n.width===0?n.videoWidth:n.width,g=n&&n instanceof HTMLVideoElement&&n.height===0?n.videoHeight:n.height,{context:h}=this,{gl:v}=h,{x:w,y:M}=i&&i.position?i.position:{x:0,y:0},D=w+d,x=M+g;!this.size||this.size[0]===D&&this.size[1]===x||(v.bindTexture(v.TEXTURE_2D,null),v.deleteTexture(this.texture),this.texture=v.createTexture(),this.size=null),v.bindTexture(v.TEXTURE_2D,this.texture),h.pixelStoreUnpackFlipY.set(!1),h.pixelStoreUnpack.set(1),h.pixelStoreUnpackPremultiplyAlpha.set(this.format===v.RGBA8&&(!i||i.premultiply!==!1));const P=n instanceof HTMLImageElement||n instanceof HTMLCanvasElement||n instanceof HTMLVideoElement||n instanceof ImageData||ImageBitmap&&n instanceof ImageBitmap;if(!this.size&&D>0&&x>0){const $=this.useMipmap?Math.floor(Math.log2(Math.max(D,x)))+1:1;v.texStorage2D(v.TEXTURE_2D,$,this.format,D,x),this.size=[D,x]}if(this.size)if(P)v.texSubImage2D(v.TEXTURE_2D,0,w,M,My(this.format),Py(this.format),n);else{const $=n.data;$&&v.texSubImage2D(v.TEXTURE_2D,0,w,M,d,g,My(this.format),Py(this.format),$)}this.useMipmap&&v.generateMipmap(v.TEXTURE_2D)}bind(n,i,d=!1){const{context:g}=this,{gl:h}=g;h.bindTexture(h.TEXTURE_2D,this.texture),n!==this.minFilter&&(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,n),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,this.useMipmap&&!d?n===h.NEAREST?h.NEAREST_MIPMAP_NEAREST:h.LINEAR_MIPMAP_LINEAR:n),this.minFilter=n),i!==this.wrapS&&(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,i),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,i),this.wrapS=i)}bindExtraParam(n,i,d,g){const{context:h}=this,{gl:v}=h;v.bindTexture(v.TEXTURE_2D,this.texture),i!==this.magFilter&&(v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MAG_FILTER,i),this.magFilter=i),n!==this.minFilter&&(v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MIN_FILTER,this.useMipmap?n===v.NEAREST?v.NEAREST_MIPMAP_NEAREST:v.LINEAR_MIPMAP_LINEAR:n),this.minFilter=n),d!==this.wrapS&&(v.texParameteri(v.TEXTURE_2D,v.TEXTURE_WRAP_S,d),this.wrapS=d),g!==this.wrapT&&(v.texParameteri(v.TEXTURE_2D,v.TEXTURE_WRAP_T,g),this.wrapT=g)}destroy(){const{gl:n}=this.context;n.deleteTexture(this.texture),this.texture=null}}class N0{constructor(n,i){this.context=n,this.texture=i}bind(n,i){const{context:d}=this,{gl:g}=d;g.bindTexture(g.TEXTURE_2D,this.texture),n!==this.minFilter&&(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,n),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,n),this.minFilter=n),i!==this.wrapS&&(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,i),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,i),this.wrapS=i)}}function Tc(c,n,i,d,g,h,v,w){const M=[c,n,1,i,d,1,g,h,1],D=[v,w,1],x=$e.mat3.adjoint([],M),[P,$,T]=$e.vec3.transformMat3(D,D,x);return $e.mat3.multiply(M,M,[P,0,0,0,$,0,0,0,T])}function Ry(c,n,i,d,g,h,v,w){const M=function(D,x,P,$,T,O,N,G){const q=Tc(0,0,1,0,1,1,0,1),se=Tc(D,x,P,$,T,O,N,G),ce=$e.mat3.adjoint([],q);return $e.mat3.multiply(se,se,ce)}(c,n,i,d,g,h,v,w);return[M[2]/M[8]/Ei,M[5]/M[8]/Ei]}function B0(c){return[c[0],Math.min(Math.max(c[1],-vl),vl)]}class K_ extends oo{constructor(n,i,d,g){super(),this.id=n,this.dispatcher=d,this.coordinates=i.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.onNorthPole=!1,this.onSouthPole=!1,this.setEventedParent(g),this.options=i,this._dirty=!1}load(n,i){if(this._loaded=i||!1,this.fire(new _o("dataloading",{dataType:"source"})),this.url=this.options.url,!this.url)return n&&(this.coordinates=n),this._loaded=!0,void this._finishLoading();this._imageRequest=Ti(this.map._requestManager.transformRequest(this.url,qr.Image),(d,g)=>{this._imageRequest=null,this._loaded=!0,d?this.fire(new Oo(d)):g&&(this.image=g instanceof HTMLImageElement?Je.getImageData(g):g,this._dirty=!0,this.width=this.image.width,this.height=this.image.height,n&&(this.coordinates=n),this._finishLoading())})}loaded(){return this._loaded}updateImage(n){return n.url?(this._imageRequest&&n.url!==this.options.url&&(this._imageRequest.cancel(),this._imageRequest=null),this.options.url=n.url,this.load(n.coordinates,this._loaded),this):this}setTexture(n){if(!(n.handle instanceof WebGLTexture))throw new Error("The provided handle is not a WebGLTexture instance");return this.texture=new N0(this.map.painter.context,n.handle),this.width=n.dimensions[0],this.height=n.dimensions[1],this._dirty=!1,this._loaded=!0,this._finishLoading(),this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new _o("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(n){this.map=n,this.load()}onRemove(n){this._imageRequest&&(this._imageRequest.cancel(),this._imageRequest=null),!this.texture||this.texture instanceof N0||this.texture.destroy(),this.boundsBuffer&&(this.boundsBuffer.destroy(),this.elevatedGlobeVertexBuffer&&this.elevatedGlobeVertexBuffer.destroy(),this.elevatedGlobeIndexBuffer&&this.elevatedGlobeIndexBuffer.destroy())}setCoordinates(n){if(this.coordinates=n,this._boundsArray=void 0,this._unsupportedCoords=!1,!n.length)return this;this.onNorthPole=!1,this.onSouthPole=!1;let i=n[0][1],d=n[0][1];for(const h of n)h[1]>d&&(d=h[1]),h[1]<i&&(i=h[1]);const g=(d+i)/2;if(g>vl?this.onNorthPole=!0:g<-vl&&(this.onSouthPole=!0),!this.onNorthPole&&!this.onSouthPole){const h=n.map(l.fromLngLat);this.tileID=function(v){let w=1/0,M=1/0,D=-1/0,x=-1/0;for(const N of v)w=Math.min(w,N.x),M=Math.min(M,N.y),D=Math.max(D,N.x),x=Math.max(x,N.y);const P=Math.max(D-w,x-M),$=Math.max(0,Math.floor(-Math.log(P)/Math.LN2)),T=Math.pow(2,$);let O=Math.floor((w+D)/2*T);return O>1&&(O-=1),new Br($,O,Math.floor((M+x)/2*T))}(h),this.minzoom=this.maxzoom=this.tileID.z}return this.fire(new _o("data",{dataType:"source",sourceDataType:"content"})),this}_clear(){this._boundsArray=void 0,this._unsupportedCoords=!1}_prepareData(n){for(const q in this.tiles){const se=this.tiles[q];se.state!=="loaded"&&(se.state="loaded",se.texture=this.texture)}if(this._boundsArray||this.onNorthPole||this.onSouthPole||this._unsupportedCoords)return;const i=km(new Br(0,0,0),this.map.transform.projection),d=[i.projection.project(this.coordinates[0][0],this.coordinates[0][1]),i.projection.project(this.coordinates[1][0],this.coordinates[1][1]),i.projection.project(this.coordinates[2][0],this.coordinates[2][1]),i.projection.project(this.coordinates[3][0],this.coordinates[3][1])];if(!function(q){const se=q[1].x-q[0].x,ce=q[1].y-q[0].y,te=q[2].x-q[1].x,pe=q[2].y-q[1].y,Ce=q[3].x-q[2].x,Re=q[3].y-q[2].y,it=q[0].x-q[3].x,nt=q[0].y-q[3].y,et=se*pe-te*ce,Lt=te*Re-Ce*pe,ut=Ce*nt-it*Re,Zt=it*ce-se*nt;return et>0&&Lt>0&&ut>0&&Zt>0||et<0&&Lt<0&&ut<0&&Zt<0}(d))return console.warn("Image source coordinates are defining non-convex area in the Mercator projection"),void(this._unsupportedCoords=!0);const g=km(this.tileID,this.map.transform.projection),[h,v,w,M]=this.coordinates.map(q=>{const se=g.projection.project(q[0],q[1]);return N_(g,se)._round()});this.perspectiveTransform=Ry(h.x,h.y,v.x,v.y,w.x,w.y,M.x,M.y);const D=this._boundsArray=new Ku;D.emplaceBack(h.x,h.y,0,0),D.emplaceBack(v.x,v.y,Ei,0),D.emplaceBack(M.x,M.y,0,Ei),D.emplaceBack(w.x,w.y,Ei,Ei),this.boundsBuffer&&(this.boundsBuffer.destroy(),this.elevatedGlobeVertexBuffer&&this.elevatedGlobeVertexBuffer.destroy(),this.elevatedGlobeIndexBuffer&&this.elevatedGlobeIndexBuffer.destroy()),this.boundsBuffer=n.createVertexBuffer(D,Ty.members),this.boundsSegments=gl.simpleSegment(0,0,4,2);const x=[],P=[B0(($=this.coordinates)[0]),B0($[1]),B0($[2]),B0($[3])];var $;const[T,O,N,G]=function(q){let se=q[0][0],ce=se,te=q[0][1],pe=te;for(let Ce=1;Ce<q.length;Ce++)q[Ce][0]<se?se=q[Ce][0]:q[Ce][0]>ce&&(ce=q[Ce][0]),q[Ce][1]<te?te=q[Ce][1]:q[Ce][1]>pe&&(pe=q[Ce][1]);return[se,te,ce-se,pe-te]}(P);{const q=new Ku,[se,ce,te,pe]=function(wn){let Nn=wn[0].x,vn=Nn,xr=wn[0].y,Hr=xr;for(let _r=1;_r<wn.length;_r++)wn[_r].x<Nn?Nn=wn[_r].x:wn[_r].x>vn&&(vn=wn[_r].x),wn[_r].y<xr?xr=wn[_r].y:wn[_r].y>Hr&&(Hr=wn[_r].y);return[Nn,xr,vn-Nn,Hr-xr]}(d),Ce=wn=>[(wn.x-se)/te,(wn.y-ce)/pe],[Re,it,nt,et]=d.map(Ce),Lt=function(wn,Nn,vn,xr,Hr,_r,Bi,Mi){const di=Tc(0,0,1,0,1,1,0,1),Wr=Tc(wn,Nn,vn,xr,Hr,_r,Bi,Mi),bo=$e.mat3.adjoint([],Wr);return $e.mat3.multiply(di,di,bo)}(Re[0],Re[1],it[0],it[1],nt[0],nt[1],et[0],et[1]);this.elevatedGlobePerspectiveTransform=Ry(Re[0],Re[1],it[0],it[1],nt[0],nt[1],et[0],et[1]);const ut=(wn,Nn)=>{x.push(wn.lng);const vn=Math.round((wn.lng-T)/N*Ei),xr=Math.round((wn.lat-O)/G*Ei),Hr=Ce(Nn),_r=$e.vec3.transformMat3([],[Hr[0],Hr[1],1],Lt),Bi=Math.round(_r[0]/_r[2]*Ei),Mi=Math.round(_r[1]/_r[2]*Ei);q.emplaceBack(vn,xr,Bi,Mi)},Zt=d[3].x-d[0].x,on=d[3].y-d[0].y,Wt=d[2].x-d[1].x,cn=d[2].y-d[1].y;for(let wn=0;wn<65;wn++){const Nn=wn/64,vn=[d[0].x+Nn*Zt,d[0].y+Nn*on],xr=[d[1].x+Nn*Wt,d[1].y+Nn*cn],Hr=xr[0]-vn[0],_r=xr[1]-vn[1];for(let Bi=0;Bi<65;Bi++){const Mi=Bi/64,di={x:vn[0]+Hr*Mi,y:vn[1]+_r*Mi,z:0};ut(i.projection.unproject(di.x,di.y),di)}}this.elevatedGlobeVertexBuffer=n.createVertexBuffer(q,Ty.members)}{this.maxLongitudeTriangleSize=0;let q=[],se=new oc;const ce=(te,pe,Ce)=>{se.emplaceBack(te,pe,Ce);const Re=x[te],it=x[pe],nt=x[Ce],et=Math.min(Math.min(Re,it),nt),Lt=Math.max(Math.max(Re,it),nt)-et;Lt>this.maxLongitudeTriangleSize&&(this.maxLongitudeTriangleSize=Lt),q.push(et+Lt/2)};for(let te=0;te<64;te++)for(let pe=0;pe<64;pe++){const Ce=65*te+pe,Re=Ce+1,it=Ce+65,nt=it+1;ce(Ce,it,Re),ce(Re,it,nt)}[q,se]=function(te,pe){const Ce=Array.from({length:te.length},(nt,et)=>et);Ce.sort((nt,et)=>te[nt]-te[et]);const Re=[],it=new oc;for(let nt=0;nt<Ce.length;nt++){const et=Ce[nt];Re.push(te[et]);const Lt=3*et,ut=Lt+1;it.emplaceBack(pe.uint16[Lt],pe.uint16[ut],pe.uint16[ut+1])}return[Re,it]}(q,se),this.elevatedGlobeTrianglesCenterLongitudes=q,this.elevatedGlobeIndexBuffer=n.createIndexBuffer(se)}this.elevatedGlobeSegments=gl.simpleSegment(0,0,4225,8192),this.elevatedGlobeGridMatrix=new Float32Array([0,N/Ei,0,G/Ei,0,0,O,T,0])}prepare(){const n=Object.keys(this.tiles).length!==0;if(this.tileID&&!n)return;const i=this.map.painter.context,d=i.gl;!this._dirty||this.texture instanceof N0||(this.texture?this.texture.update(this.image):(this.texture=new Oy(i,this.image,d.RGBA8),this.texture.bind(d.LINEAR,d.CLAMP_TO_EDGE)),this._dirty=!1),n&&this._prepareData(i)}loadTile(n,i){this.tileID&&this.tileID.equals(n.tileID.canonical)?(this.tiles[String(n.tileID.wrap)]=n,n.buckets={},i(null)):(n.state="errored",i(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}getSegmentsForLongitude(n){const i=this.elevatedGlobeSegments;if(!this.elevatedGlobeTrianglesCenterLongitudes||!i)return null;const d=this.elevatedGlobeTrianglesCenterLongitudes;let g=(h=n+180)+360*Math.round((d[0]-h)/360);var h;const v=new gl,w=(P,$)=>{v.segments.push({vertexOffset:0,primitiveOffset:P,vertexLength:i.segments[0].vertexLength,primitiveLength:$,sortKey:void 0,vaos:{}})},M=.51*this.maxLongitudeTriangleSize;if(Math.abs(d[0]-g)<=M){const P=Jn(d,0,d.length,g+M);return P===d.length||w(P,xn(d,P+1,d.length,g+360-M)-P),v}g<d[0]&&(g+=360);const D=xn(d,0,d.length,g-M);if(D===d.length)return w(0,d.length),v;w(0,D-0);const x=Jn(d,D+1,d.length,g+M);return x!==d.length&&w(x,d.length-x),v}}const q_=(Math.pow(256,2)-1)/16907520;class Y_ extends ec{constructor(n,i,d,g){super(n,{layout:G_||(G_=new el({visibility:new hi(Un.layout_raster.visibility)})),paint:X_||(X_=new el({"raster-opacity":new hi(Un.paint_raster["raster-opacity"]),"raster-color":new ff(Un.paint_raster["raster-color"]),"raster-color-mix":new hi(Un.paint_raster["raster-color-mix"]),"raster-color-range":new hi(Un.paint_raster["raster-color-range"]),"raster-hue-rotate":new hi(Un.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new hi(Un.paint_raster["raster-brightness-min"]),"raster-brightness-max":new hi(Un.paint_raster["raster-brightness-max"]),"raster-saturation":new hi(Un.paint_raster["raster-saturation"]),"raster-contrast":new hi(Un.paint_raster["raster-contrast"]),"raster-resampling":new hi(Un.paint_raster["raster-resampling"]),"raster-fade-duration":new hi(Un.paint_raster["raster-fade-duration"]),"raster-emissive-strength":new hi(Un.paint_raster["raster-emissive-strength"]),"raster-array-band":new hi(Un.paint_raster["raster-array-band"]),"raster-elevation":new hi(Un.paint_raster["raster-elevation"]),"raster-color-use-theme":new qi({type:"string",default:"default","property-type":"data-driven"})}))},i,d,g),this.updateColorRamp(),this._curRampRange=[NaN,NaN]}getProgramIds(){return["raster"]}hasColorMap(){return!!this._transitionablePaint._values["raster-color"].value.value}tileCoverLift(){return this.paint.get("raster-elevation")}isDraped(n){return!(n&&n._source instanceof K_&&(n._source.onNorthPole||n._source.onSouthPole))&&this.paint.get("raster-elevation")===0}_handleSpecialPaintPropertyUpdate(n){n!=="raster-color"&&n!=="raster-color-range"||(this._curRampRange=[NaN,NaN],this.updateColorRamp())}updateColorRamp(n){if(!this.hasColorMap()||!this._curRampRange)return;const i=this._transitionablePaint._values["raster-color"].value.expression,[d,g]=n||this._transitionablePaint._values["raster-color-range"].value.expression.evaluate({zoom:0})||[NaN,NaN];isNaN(d)&&isNaN(g)||d===this._curRampRange[0]&&g===this._curRampRange[1]||(this.colorRamp=Np({expression:i,evaluationKey:"rasterValue",image:this.colorRamp,clips:[{start:d,end:g}],resolution:256}),this.colorRampTexture=null,this._curRampRange=[d,g])}}let J_,Q_,$y,Ay,e1;class t1 extends ec{constructor(n,i,d,g){super(n,{layout:J_||(J_=new el({visibility:new hi(Un["layout_raster-particle"].visibility)})),paint:Q_||(Q_=new el({"raster-particle-array-band":new hi(Un["paint_raster-particle"]["raster-particle-array-band"]),"raster-particle-count":new hi(Un["paint_raster-particle"]["raster-particle-count"]),"raster-particle-color":new ff(Un["paint_raster-particle"]["raster-particle-color"]),"raster-particle-max-speed":new hi(Un["paint_raster-particle"]["raster-particle-max-speed"]),"raster-particle-speed-factor":new hi(Un["paint_raster-particle"]["raster-particle-speed-factor"]),"raster-particle-fade-opacity-factor":new hi(Un["paint_raster-particle"]["raster-particle-fade-opacity-factor"]),"raster-particle-reset-rate-factor":new hi(Un["paint_raster-particle"]["raster-particle-reset-rate-factor"]),"raster-particle-elevation":new hi(Un["paint_raster-particle"]["raster-particle-elevation"]),"raster-particle-color-use-theme":new qi({type:"string",default:"default","property-type":"data-driven"})}))},i,d,g),this._updateColorRamp(),this.lastInvalidatedAt=Je.now()}onRemove(n){this.colorRampTexture&&this.colorRampTexture.destroy(),this.tileFramebuffer&&this.tileFramebuffer.destroy(),this.particleFramebuffer&&this.particleFramebuffer.destroy()}hasColorMap(){return!!this._transitionablePaint._values["raster-particle-color"].value.value}getProgramIds(){return["rasterParticle"]}hasOffscreenPass(){return this.visibility!=="none"}isDraped(n){return!1}_handleSpecialPaintPropertyUpdate(n){n!=="raster-particle-color"&&n!=="raster-particle-max-speed"||(this._updateColorRamp(),this._invalidateAnimationState()),n==="raster-particle-count"&&this._invalidateAnimationState()}_updateColorRamp(){if(!this.hasColorMap())return;const n=this._transitionablePaint._values["raster-particle-color"].value.expression,i=this._transitionablePaint._values["raster-particle-max-speed"].value.expression.evaluate({zoom:0});this.colorRamp=Np({expression:n,evaluationKey:"rasterParticleSpeed",image:this.colorRamp,clips:[{start:0,end:i}],resolution:256}),this.colorRampTexture=null}_invalidateAnimationState(){this.lastInvalidatedAt=Je.now()}tileCoverLift(){return this.paint.get("raster-particle-elevation")}}class LC extends ec{constructor(n,i){super(n,{},i,null),this.implementation=n,n.slot&&(this.slot=n.slot)}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}isDraped(n){return this.implementation.renderToTile!==void 0}shouldRedrape(){return!!this.implementation.shouldRerenderTiles&&this.implementation.shouldRerenderTiles()}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){}onAdd(n){this.implementation.onAdd&&this.implementation.onAdd(n,n.painter.context.gl)}onRemove(n){this.implementation.onRemove&&this.implementation.onRemove(n,n.painter.context.gl)}}function Dy(c,n,i){const d=[0,0,1],g=$e.quat.identity([]);return $e.quat.rotateY(g,g,i?-st(c)+Math.PI:st(c)),$e.quat.rotateX(g,g,-st(n)),$e.vec3.transformQuat(d,d,g),$e.vec3.normalize(d,d)}function zy(c,n){const i=F0(c.projection,c.zoom,c.width,c.height),d=function(h,v,w,M,D){const x=new gs(w.lng-180*Vh,w.lat),P=new gs(w.lng+180*Vh,w.lat),$=h.project(x.lng,x.lat),T=h.project(P.lng,P.lat),O=-Math.atan2(T.y-$.y,T.x-$.x),N=l.fromLngLat(w);N.y=Vn(N.y,-1+Vh,1-Vh);const G=N.toLngLat(),q=h.project(G.lng,G.lat),se=l.fromLngLat(G);se.x+=Vh;const ce=se.toLngLat(),te=h.project(ce.lng,ce.lat),pe=r1(te.x-q.x,te.y-q.y,O),Ce=l.fromLngLat(G);Ce.y+=Vh;const Re=Ce.toLngLat(),it=h.project(Re.lng,Re.lat),nt=r1(it.x-q.x,it.y-q.y,O),et=Math.abs(pe.x)/Math.abs(nt.y),Lt=$e.mat4.identity([]);$e.mat4.rotateZ(Lt,Lt,-O*(1-(D?0:M)));const ut=$e.mat4.identity([]);return $e.mat4.scale(ut,ut,[1,1-(1-et)*M,1]),ut[4]=-nt.x/nt.y*M,$e.mat4.rotateZ(ut,ut,O),$e.mat4.multiply(ut,Lt,ut),ut}(c.projection,0,c.center,i,n),g=n1(c);return $e.mat4.scale(d,d,[g,g,1]),d}function n1(c){const n=c.projection,i=F0(c.projection,c.zoom,c.width,c.height),d=Vm(n,c.center),g=Vm(n,gs.convert(n.center));return Math.pow(2,d*i+(1-i)*g)}function F0(c,n,i,d,g=1/0){const h=c.range;if(!h)return 0;const v=Math.min(g,Math.max(i,d)),w=Math.log(v/1024)/Math.LN2;return Xr(h[0]+w,h[1]+w,n)}const Vh=1/4e4;function Vm(c,n){const i=Vn(n.lat,-vl,vl),d=new gs(n.lng-180*Vh,i),g=new gs(n.lng+180*Vh,i),h=c.project(d.lng,i),v=c.project(g.lng,i),w=l.fromLngLat(d),M=l.fromLngLat(g),D=v.x-h.x,x=v.y-h.y,P=M.x-w.x,$=M.y-w.y,T=Math.sqrt((P*P+$*$)/(D*D+x*x));return Math.log(T)/Math.LN2}function r1(c,n,i){const d=Math.cos(i),g=Math.sin(i);return{x:c*d-n*g,y:c*g+n*d}}function Ly(c,n,i){$e.mat4.identity(c),$e.mat4.rotateZ(c,c,st(n[2])),$e.mat4.rotateX(c,c,st(n[0])),$e.mat4.rotateY(c,c,st(n[1])),$e.mat4.scale(c,c,i),$e.mat4.multiply(c,c,[1,0,0,0,0,0,1,0,0,1,0,0,0,0,0,1])}function k0(c,n,i,d,g,h,v,w){const M=[i[0]-n[0],i[1]-n[1],0],D=[d[0]-n[0],d[1]-n[1],0];if($e.vec3.length(M)<1e-12||$e.vec3.length(D)<1e-12)return $e.quat.identity(c);const x=$e.vec3.cross([],M,D);$e.vec3.normalize(x,x),$e.vec3.subtract(D,d,n),M[2]=(h-g)*w,D[2]=(v-g)*w;const P=M;return $e.vec3.cross(P,M,D),$e.vec3.normalize(P,P),$e.quat.rotationTo(c,x,P)}function Ny(c,n,i=!1){const d=mc(n.zoom),g=function(h,v,w){const M=v.worldSize,D=[h[12],h[13],h[14]],x=hc(D[1]/M),P=Fc(D[0]/M),$=$e.mat4.identity([]),T=xc(1,x)*M,O=xc(1,0)*M*Ef(x,v.zoom),N=1/Sc(M);let G=O*N;if(w){const te=F0(v.projection,v.zoom,v.width,v.height,1024);G=N*v.projection.pixelSpaceConversion(v.center.lat,M,te)}const q=Zd(x,P);$e.vec3.add(q,q,$e.vec3.scale([],$e.vec3.normalize([],q),T*G*D[2]));const se=function(te){const pe=[te[0],te[1],te[2]];let Ce=[0,1,0];const Re=$e.vec3.cross([],Ce,pe);return $e.vec3.cross(Ce,pe,Re),$e.vec3.squaredLength(Ce)===0&&(Ce=[0,1,0],$e.vec3.cross(Re,pe,Ce)),$e.vec3.normalize(Re,Re),$e.vec3.normalize(Ce,Ce),$e.vec3.normalize(pe,pe),[Re[0],Re[1],Re[2],0,Ce[0],Ce[1],Ce[2],0,pe[0],pe[1],pe[2],0,te[0],te[1],te[2],1]}(q);$e.mat4.scale($,$,[G,G,G*T]),$e.mat4.translate($,$,[-D[0],-D[1],-D[2]]);const ce=$e.mat4.multiply([],v.globeMatrix,se);return $e.mat4.multiply(ce,ce,$),$e.mat4.multiply(ce,ce,h),ce}(c,n,i);if(d>0){const h=function(v,w){const M=w.worldSize,D=xc(1,0)*M*Ef(w.center.lat,w.zoom)/Sc(M),x=xc(1,w.center.lat)*M,P=$e.mat4.identity([]);return $e.mat4.rotateY(P,P,st(w.center.lng)),$e.mat4.rotateX(P,P,st(w.center.lat)),$e.mat4.translate(P,P,[0,0,Ic]),$e.mat4.scale(P,P,[D,D,D*x]),$e.mat4.translate(P,P,[w.point.x-.5*M,w.point.y-.5*M,0]),$e.mat4.multiply(P,P,v),$e.mat4.multiply(P,w.globeMatrix,P)}(c,n);return function(v,w,M){const D=(O,N,G)=>{const q=$e.vec3.length(O),se=$e.vec3.length(N),ce=Pl(O,N,G);return $e.vec3.scale(ce,ce,1/$e.vec3.length(ce)*Pr(q,se,G))},x=D([v[0],v[1],v[2]],[w[0],w[1],w[2]],M),P=D([v[4],v[5],v[6]],[w[4],w[5],w[6]],M),$=D([v[8],v[9],v[10]],[w[8],w[9],w[10]],M),T=Pl([v[12],v[13],v[14]],[w[12],w[13],w[14]],M);return[x[0],x[1],x[2],0,P[0],P[1],P[2],0,$[0],$[1],$[2],0,T[0],T[1],T[2],1]}(g,h,d)}return g}function j0(c,n,i,d){const g=xo.projectAabbCorners(d,i);let h=Number.MAX_VALUE,v=-1;for(let D=0;D<g.length;++D){const x=g[D];x[0]=(.5*x[0]+.5)*n.width,x[1]=(.5-.5*x[1])*n.height,x[2]<h&&(v=D,h=x[2])}const w=D=>new Sn(g[D][0],g[D][1]);let M;switch(v){case 0:case 6:M=[w(1),w(5),w(4),w(7),w(3),w(2),w(1)];break;case 1:case 7:M=[w(0),w(4),w(5),w(6),w(2),w(3),w(0)];break;case 3:case 5:M=[w(1),w(0),w(4),w(7),w(6),w(2),w(1)];break;default:M=[w(1),w(5),w(6),w(7),w(3),w(0),w(1)]}if(xe(c,M))return h}const NC=Ss([{name:"a_pos_3f",components:3,type:"Float32"}]),BC=Ss([{name:"a_color_3f",components:3,type:"Float32"}]),FC=Ss([{name:"a_color_4f",components:4,type:"Float32"}]),kC=Ss([{name:"a_uv_2f",components:2,type:"Float32"}]),jC=Ss([{name:"a_normal_3f",components:3,type:"Float32"}]),ZC=Ss([{name:"a_normal_matrix0",components:4,type:"Float32"},{name:"a_normal_matrix1",components:4,type:"Float32"},{name:"a_normal_matrix2",components:4,type:"Float32"},{name:"a_normal_matrix3",components:4,type:"Float32"}]),VC=Ss([{name:"a_pbr",components:4,type:"Uint16"},{name:"a_heightBasedEmissiveStrength",components:3,type:"Float32"}]),i1={None:0,Model:1,Symbol:2,FillExtrusion:4,All:7};class Z0{constructor(n,i,d,g){this.message=(n?`${n}: `:"")+d,g&&(this.identifier=g),i!=null&&i.__line__&&(this.line=i.__line__)}}function By(c,n){const i=c.indexOf("://")===-1;try{return new URL(c,i&&n?"http://example.com":void 0),!0}catch(d){return!1}}class HC{constructor(n,i){this.feature=n,this.instancedDataOffset=i,this.instancedDataCount=0,this.rotation=[0,0,0],this.scale=[1,1,1],this.translation=[0,0,0]}}class o1{constructor(){this.instancedDataArray=new yf,this.instancesEvaluatedElevation=[],this.features=[],this.idToFeaturesIndex={}}}class zu{constructor(n){this.zoom=n.zoom,this.canonical=n.canonical,this.layers=n.layers,this.layerIds=this.layers.map(i=>i.fqid),this.projection=n.projection,this.index=n.index,this.hasZoomDependentProperties=this.layers[0].isZoomDependent(),this.stateDependentLayerIds=this.layers.filter(i=>i.isStateDependent()).map(i=>i.id),this.hasPattern=!1,this.instancesPerModel={},this.validForExaggeration=0,this.maxVerticalOffset=0,this.maxScale=0,this.maxHeight=0,this.lookupDim=this.zoom>this.canonical.z?256:this.zoom>15?75:100,this.instanceCount=0,this.terrainElevationMin=0,this.terrainElevationMax=0,this.validForDEMTile={id:null,timestamp:0},this.modelUris=[],this.modelsRequested=!1,this.activeReplacements=[],this.replacementUpdateTime=0}updateFootprints(n,i){}populate(n,i,d,g){this.tileToMeter=r(d);const h=this.layers[0]._featureFilter.needGeometry;this.lookup=new Uint8Array(this.lookupDim*this.lookupDim);for(const{feature:v,id:w,index:M,sourceLayerIndex:D}of n){const x=w!=null?w:v.properties&&v.properties.hasOwnProperty("id")?v.properties.id:void 0,P=Y(v,h);if(!this.layers[0]._featureFilter.filter(new Ws(this.zoom),P,d))continue;const $={id:x,sourceLayerIndex:D,index:M,geometry:h?P.geometry:U(v,d,g),properties:v.properties,type:v.type,patterns:{}},T=this.addFeature($,$.geometry,P);T&&i.featureIndex.insert(v,$.geometry,M,D,this.index,this.instancesPerModel[T].instancedDataArray.length,Ei/32)}this.lookup=null}update(n,i,d,g){for(const h in this.instancesPerModel){const v=this.instancesPerModel[h];for(const w in n)v.idToFeaturesIndex.hasOwnProperty(w)&&(this.evaluate(v.features[v.idToFeaturesIndex[w]],n[w],v,!0),this.uploaded=!1)}this.maxHeight=0}updateZoomBasedPaintProperties(){if(!this.hasZoomDependentProperties)return!1;let n=!1;for(const i in this.instancesPerModel){const d=this.instancesPerModel[i];for(const g of d.features){const h=this.layers[0],v=g.feature,w=this.canonical,M=h.paint.get("model-rotation").evaluate(v,{},w),D=h.paint.get("model-scale").evaluate(v,{},w),x=h.paint.get("model-translation").evaluate(v,{},w);$e.vec3.exactEquals(g.rotation,M)&&$e.vec3.exactEquals(g.scale,D)&&$e.vec3.exactEquals(g.translation,x)||(this.evaluate(g,g.featureStates,d,!0),n=!0)}}return n}updateReplacement(n,i,d,g){if(i.updateTime===this.replacementUpdateTime)return!1;this.replacementUpdateTime=i.updateTime;const h=i.getReplacementRegionsForTile(n.toUnwrapped(),!0);if(l0(this.activeReplacements,h))return!1;this.activeReplacements=h;let v=!1;for(const w in this.instancesPerModel){const M=this.instancesPerModel[w],D=M.instancedDataArray;for(const x of M.features){const P=x.instancedDataOffset,$=x.instancedDataCount;for(let T=0;T<$;T++){const O=16*(T+P);let N=D.float32[O+0];const G=N>Ei;N=G?N-Ei:N;const q=Math.floor(N),se=D.float32[O+1];let ce=!1;for(const te of this.activeReplacements)if(!Kv(te,d,i1.Model,g)&&!(te.min.x>q||q>te.max.x||te.min.y>se||se>te.max.y)&&(ce=Jv(lC(q,se,n.canonical,te.footprintTileId.canonical),te.footprint),ce))break;D.float32[O]=ce?N+Ei:N,v=v||ce!==G}}}return v}isEmpty(){for(const n in this.instancesPerModel)if(this.instancesPerModel[n].instancedDataArray.length!==0)return!1;return!0}uploadPending(){return!this.uploaded}upload(n){if(!this.uploaded)for(const i in this.instancesPerModel){const d=this.instancesPerModel[i];d.instancedDataArray.length<0||d.instancedDataArray.length===0||(d.instancedDataBuffer?d.instancedDataBuffer.updateData(d.instancedDataArray):d.instancedDataBuffer=n.createVertexBuffer(d.instancedDataArray,ZC.members,!0,void 0,this.instanceCount))}this.uploaded=!0}destroy(){for(const i in this.instancesPerModel){const d=this.instancesPerModel[i];d.instancedDataArray.length!==0&&d.instancedDataBuffer&&d.instancedDataBuffer.destroy()}const n=this.layers[0].modelManager;if(n&&this.modelUris)for(const i of this.modelUris)n.removeModel(i,"")}addFeature(n,i,d){const g=this.layers[0],h=g.layout.get("model-id").evaluate(d,{},this.canonical);if(!h)return Ln(`modelId is not evaluated for layer ${g.id} and it is not going to get rendered.`),h;By(h,!1)&&(this.modelUris.includes(h)||this.modelUris.push(h)),this.instancesPerModel[h]||(this.instancesPerModel[h]=new o1);const v=this.instancesPerModel[h],w=v.instancedDataArray,M=new HC(d,w.length);for(const D of i)for(const x of D){if(x.x<0||x.x>=Ei||x.y<0||x.y>=Ei)continue;const P=(this.lookupDim-1)/Ei,$=this.lookupDim*(x.y*P|0)+x.x*P|0;if(this.lookup){if(this.lookup[$]!==0)continue;this.lookup[$]=1}this.instanceCount++;const T=w.length;w.resize(T+1),v.instancesEvaluatedElevation.push(0),w.float32[16*T]=x.x,w.float32[16*T+1]=x.y}return M.instancedDataCount=v.instancedDataArray.length-M.instancedDataOffset,M.instancedDataCount>0&&(n.id&&(v.idToFeaturesIndex[n.id]=v.features.length),v.features.push(M),this.evaluate(M,{},v,!1)),h}getModelUris(){return this.modelUris}evaluate(n,i,d,g){const h=this.layers[0],v=n.feature,w=this.canonical,M=n.rotation=h.paint.get("model-rotation").evaluate(v,i,w),D=n.scale=h.paint.get("model-scale").evaluate(v,i,w),x=n.translation=h.paint.get("model-translation").evaluate(v,i,w),P=h.paint.get("model-color").evaluate(v,i,w);P.a=h.paint.get("model-color-mix-intensity").evaluate(v,i,w);const $=[];this.maxVerticalOffset<x[2]&&(this.maxVerticalOffset=x[2]),this.maxScale=Math.max(Math.max(this.maxScale,D[0]),Math.max(D[1],D[2])),Ly($,M,D);const T=Math.round(100*P.a)+P.b/1.05;for(let O=0;O<n.instancedDataCount;++O){const N=n.instancedDataOffset+O,G=16*N,q=d.instancedDataArray.float32;let se=0;g&&(se=q[G+6]-d.instancesEvaluatedElevation[N]);const ce=0|q[G+1];q[G]=(0|q[G])+P.r/1.05,q[G+1]=ce+P.g/1.05,q[G+2]=T,q[G+3]=1/(w.z>10?this.tileToMeter:r(w,ce)),q[G+4]=x[0],q[G+5]=x[1],q[G+6]=x[2]+se,q[G+7]=$[0],q[G+8]=$[1],q[G+9]=$[2],q[G+10]=$[4],q[G+11]=$[5],q[G+12]=$[6],q[G+13]=$[8],q[G+14]=$[9],q[G+15]=$[10],d.instancesEvaluatedElevation[N]=x[2]}}}let Fy,ky;lo(zu,"ModelBucket",{omit:["layers"]}),lo(o1,"PerModelAttributes"),lo(HC,"ModelFeature");const Hh=64,Hm={CoordinateSpaceTile:1,CoordinateSpaceYUp:2,HasMapboxMeshFeatures:4,HasMeshoptCompression:8};function a1(c,n,i,d,g,h,v,w,M,D=!1){const x=i.zoom,P=i.project(d),$=Ef(d.lat,x),T=1/$;$e.mat4.identity(c),$e.mat4.translate(c,c,[P.x+v[0]*T,P.y+v[1]*T,v[2]]);let O=1,N=1;const G=i.worldSize;if(D){if(i.projection.name==="mercator"){let te=0;i.elevation&&(te=i.elevation.getAtPointOrZero(new l(P.x/G,P.y/G),0));const pe=$e.vec4.transformMat4([],[P.x,P.y,te,1],i.projMatrix)[3]/i.cameraToCenterDistance;O=pe,N=pe*Ef(i.center.lat,x)}else if(i.projection.name==="globe"){const te=Ny(c,i),pe=$e.mat4.multiply([],i.projMatrix,te),Ce=[0,0,0,1];$e.vec4.transformMat4(Ce,Ce,pe);const Re=Ce[3]/i.cameraToCenterDistance,it=mc(x),nt=i.projection.pixelsPerMeter(d.lat,G)*Ef(d.lat,x),et=i.projection.pixelsPerMeter(i.center.lat,G)*Ef(i.center.lat,x);O=Re/Pr(nt,Jg(i.center.lat),it),N=Re*$/nt,O*=et,N*=et}}else O=T;$e.mat4.scale(c,c,[O,O,N]);const q=[...c],se=n.orientation,ce=[];if(Ly(ce,[se[0]+g[0],se[1]+g[1],se[2]+g[2]],h),$e.mat4.multiply(c,q,ce),w&&i.elevation){let te=0;const pe=[];if(M&&i.elevation){te=function(it,nt,et,Lt,ut){const Zt=nt.elevation;if(!Zt)return 0;const on=xo.projectAabbCorners(et,Lt),Wt=xc(1,ut.lat)*nt.worldSize,cn=function(bo,ji){const Qi=[0,0,1],ia=[{corners:[0,1,3,2],dotProductWithUp:0},{corners:[1,5,2,6],dotProductWithUp:0},{corners:[0,4,1,5],dotProductWithUp:0},{corners:[2,6,3,7],dotProductWithUp:0},{corners:[4,7,5,6],dotProductWithUp:0},{corners:[0,3,4,7],dotProductWithUp:0}];for(const Aa of ia){const Na=bo[Aa.corners[0]],Ba=bo[Aa.corners[1]],ts=bo[Aa.corners[2]],ns=[Ba[0]-Na[0],Ba[1]-Na[1],ji*(Ba[2]-Na[2])],As=$e.vec3.cross(ns,ns,[ts[0]-Na[0],ts[1]-Na[1],ji*(ts[2]-Na[2])]);$e.vec3.normalize(As,As),Aa.dotProductWithUp=$e.vec3.dot(As,Qi)}return ia.sort((Aa,Na)=>Aa.dotProductWithUp-Na.dotProductWithUp),ia[0].corners}(on,Wt),wn=on[cn[0]],Nn=on[cn[1]],vn=on[cn[2]],xr=on[cn[3]],Hr=Zt.getAtPointOrZero(new l(wn[0]/nt.worldSize,wn[1]/nt.worldSize),0),_r=Zt.getAtPointOrZero(new l(Nn[0]/nt.worldSize,Nn[1]/nt.worldSize),0),Bi=Zt.getAtPointOrZero(new l(vn[0]/nt.worldSize,vn[1]/nt.worldSize),0),Mi=Zt.getAtPointOrZero(new l(xr[0]/nt.worldSize,xr[1]/nt.worldSize),0),di=(Hr+Mi)/2,Wr=(_r+Bi)/2;return di>Wr?_r<Bi?k0(it,Nn,xr,wn,_r,Mi,Hr,Wt):k0(it,vn,wn,xr,Bi,Hr,Mi,Wt):Hr<Mi?k0(it,wn,Nn,vn,Hr,_r,Bi,Wt):k0(it,xr,vn,Nn,Mi,Bi,_r,Wt),Math.max(di,Wr)}(pe,i,n.aabb,c,d);const Ce=$e.mat4.fromQuat([],pe),Re=$e.mat4.multiply([],Ce,ce);$e.mat4.multiply(c,q,Re)}else te=i.elevation.getAtPointOrZero(new l(P.x/G,P.y/G),0);te!==0&&(c[14]+=te)}}function cg(c,n,i=!1){c.uploaded||(c.gfxTexture=new Oy(n,c.image,i?n.gl.R8:n.gl.RGBA8,{useMipmap:c.sampler.minFilter>=n.gl.NEAREST_MIPMAP_NEAREST}),c.uploaded=!0,c.image=null)}function s1(c,n,i){c.indexBuffer=n.createIndexBuffer(c.indexArray,!1,!0),c.vertexBuffer=n.createVertexBuffer(c.vertexArray,NC.members,!1,!0),c.normalArray&&(c.normalBuffer=n.createVertexBuffer(c.normalArray,jC.members,!1,!0)),c.texcoordArray&&(c.texcoordBuffer=n.createVertexBuffer(c.texcoordArray,kC.members,!1,!0)),c.colorArray&&(c.colorBuffer=n.createVertexBuffer(c.colorArray,(c.colorArray.bytesPerElement===12?BC:FC).members,!1,!0)),c.featureArray&&(c.pbrBuffer=n.createVertexBuffer(c.featureArray,VC.members,!0)),c.segments=gl.simpleSegment(0,0,c.vertexArray.length,c.indexArray.length);const d=c.material;d.pbrMetallicRoughness.baseColorTexture&&cg(d.pbrMetallicRoughness.baseColorTexture,n),d.pbrMetallicRoughness.metallicRoughnessTexture&&cg(d.pbrMetallicRoughness.metallicRoughnessTexture,n),d.normalTexture&&cg(d.normalTexture,n),d.occlusionTexture&&cg(d.occlusionTexture,n,i),d.emissionTexture&&cg(d.emissionTexture,n)}function ug(c,n,i){if(c.meshes)for(const d of c.meshes)s1(d,n,i);if(c.children)for(const d of c.children)ug(d,n,i)}function dg(c){if(c.meshes)for(const n of c.meshes)n.indexArray.destroy(),n.vertexArray.destroy(),n.colorArray&&n.colorArray.destroy(),n.normalArray&&n.normalArray.destroy(),n.texcoordArray&&n.texcoordArray.destroy(),n.featureArray&&n.featureArray.destroy();if(c.children)for(const n of c.children)dg(n)}function l1(c){if(c.meshes)for(const i of c.meshes)i.vertexBuffer&&(i.vertexBuffer.destroy(),i.indexBuffer.destroy(),i.normalBuffer&&i.normalBuffer.destroy(),i.texcoordBuffer&&i.texcoordBuffer.destroy(),i.colorBuffer&&i.colorBuffer.destroy(),i.pbrBuffer&&i.pbrBuffer.destroy(),i.segments.destroy(),i.material&&((n=i.material).pbrMetallicRoughness.baseColorTexture&&n.pbrMetallicRoughness.baseColorTexture.gfxTexture&&n.pbrMetallicRoughness.baseColorTexture.gfxTexture.destroy(),n.pbrMetallicRoughness.metallicRoughnessTexture&&n.pbrMetallicRoughness.metallicRoughnessTexture.gfxTexture&&n.pbrMetallicRoughness.metallicRoughnessTexture.gfxTexture.destroy(),n.normalTexture&&n.normalTexture.gfxTexture&&n.normalTexture.gfxTexture.destroy(),n.emissionTexture&&n.emissionTexture.gfxTexture&&n.emissionTexture.gfxTexture.destroy(),n.occlusionTexture&&n.occlusionTexture.gfxTexture&&n.occlusionTexture.gfxTexture.destroy()));var n;if(c.children)for(const i of c.children)l1(i)}class Uh{constructor(n,i,d){this._demTile=n,this._dem=this._demTile.dem,this._scale=i,this._offset=d}static create(n,i,d){const g=d||n.findDEMTileFor(i);if(!g||!g.dem)return;const h=g.dem,v=g.tileID,w=1<<i.canonical.z-v.canonical.z;return new Uh(g,h.dim/Ei/w,[(i.canonical.x/w-v.canonical.x)*h.dim,(i.canonical.y/w-v.canonical.y)*h.dim])}tileCoordToPixel(n,i){const d=i*this._scale+this._offset[1],g=Math.floor(n*this._scale+this._offset[0]),h=Math.floor(d);return new Sn(g,h)}getElevationAt(n,i,d,g){const h=n*this._scale+this._offset[0],v=i*this._scale+this._offset[1],w=Math.floor(h),M=Math.floor(v),D=this._dem;return g=!!g,d?Pr(Pr(D.get(w,M,g),D.get(w,M+1,g),v-M),Pr(D.get(w+1,M,g),D.get(w+1,M+1,g),v-M),h-w):D.get(w,M,g)}getElevationAtPixel(n,i,d){return this._dem.get(n,i,!!d)}getMeterToDEM(n){return(1<<this._demTile.tileID.canonical.z)*xc(1,n)*this._dem.stride}}const V0=new Float32Array(262144),Wh=new Uint8Array(262144);function c1(c){let n=0;if(c.meshes)for(const i of c.meshes)n=Math.max(n,i.aabb.max[2]);if(c.children)for(const i of c.children)n=Math.max(n,c1(i));return n}function u1(c,n,i){if(c.meshes)for(const d of c.meshes){if(d.aabb.min[0]===1/0)continue;const g=xo.applyTransform(d.aabb,c.matrix);i.insert(n,g.min[0],g.min[1],g.max[0],g.max[1])}if(c.children)for(const d of c.children)u1(d,n,i)}const d1=["","wall","door","roof","window","lamp","logo"];class f1{constructor(n){this.node=n,this.evaluatedRMEA=[[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[.4,1,0,1],[1,0,0,1],[1,0,0,1]],this.hiddenByReplacement=!1,this.evaluatedScale=[1,1,1],this.evaluatedColor=[],this.emissionHeightBasedParams=[],this.cameraCollisionOpacity=1,this.feature={type:"Point",id:n.id,geometry:[],properties:{height:c1(n)}},this.aabb=this._getLocalBounds(),this.state=null}_getLocalBounds(){if(!this.node.meshes)return new xo([1/0,1/0,1/0],[-1/0,-1/0,-1/0]);if(!this.aabb){let n=0;const i=new xo([1/0,1/0,1/0],[-1/0,-1/0,-1/0]);for(const d of this.node.meshes)this.node.lightMeshIndex!==n&&(d.transformedAabb=xo.applyTransformFast(d.aabb,this.node.matrix),i.encapsulate(d.transformedAabb)),n++;this.aabb=i}return this.aabb}}class H0{constructor(n,i,d,g,h,v,w){this.id=d,this.layers=n,this.layerIds=this.layers.map(M=>M.fqid),this.stateDependentLayerIds=this.layers.filter(M=>M.isStateDependent()).map(M=>M.id),this.modelTraits|=Hm.CoordinateSpaceTile,this.uploaded=!1,this.hasPattern=!1,g&&(this.modelTraits|=Hm.HasMapboxMeshFeatures),h&&(this.modelTraits|=Hm.HasMeshoptCompression),this.zoom=-1,this.terrainExaggeration=1,this.projection={name:"mercator"},this.replacementUpdateTime=0,this.elevationReadFromZ=255,this.brightness=v,this.dirty=!0,this.needsUpload=!1,this.nodesInfo=[];for(const M of i)this.nodesInfo.push(new f1(M)),u1(M,w.featureIndexArray.length,w.grid),w.featureIndexArray.emplaceBack(this.nodesInfo.length-1,0,w.bucketLayerIDs.length-1,0);this.states={}}updateFootprints(n,i){for(const d of this.getNodesInfo()){const g=d.node;g.footprint&&i.push({footprint:g.footprint,id:n})}}update(n){const i=Object.keys(n).length!==0;if(i&&!this.stateDependentLayers.length)return;const d=i?this.stateDependentLayers:this.layers;if(!Fr(n,this.states))for(const g of d)this.evaluate(g,n);this.states=structuredClone(n)}populate(){console.log("populate 3D model bucket")}uploadPending(){return!this.uploaded||this.needsUpload}upload(n){if(!this.needsUpload)return;const i=this.getNodesInfo();for(const d of i){const g=d.node;this.uploaded?this.updatePbrBuffer(g):ug(g,n,!0)}for(const d of i)dg(d.node);this.uploaded=!0,this.needsUpload=!1}updatePbrBuffer(n){let i=!1;if(!n.meshes)return i;for(const d of n.meshes)d.pbrBuffer&&(d.pbrBuffer.updateData(d.featureArray),i=!0);return i}needsReEvaluation(n,i,d){const g=n.transform.projectionOptions,h=n.style.getBrightness(),v=this.brightness!==h;if(!this.uploaded||this.dirty||g.name!==this.projection.name||fg(d.paint.get("model-color").value,v)||fg(d.paint.get("model-color-mix-intensity").value,v)||fg(d.paint.get("model-roughness").value,v)||fg(d.paint.get("model-emissive-strength").value,v)||fg(d.paint.get("model-height-based-emissive-strength-multiplier").value,v)){this.projection=g,this.brightness=h;const w=this.getNodesInfo();for(const M of w)M.state=null;return!0}return!1}evaluateScale(n,i){if(n.transform.zoom===this.zoom)return;this.zoom=n.transform.zoom;const d=this.getNodesInfo(),g=this.id.canonical;for(const h of d){const v=h.feature;h.evaluatedScale=i.paint.get("model-scale").evaluate(v,{},g)}}evaluate(n,i){const d=this.getNodesInfo();for(const g of d){if(!g.node.meshes)continue;const h=g.feature,v=i&&i[h.id];if(Fr(v,g.state))continue;g.state=structuredClone(v);const w=g.node.meshes&&g.node.meshes[0].featureData,M=g.evaluatedColor[2],D=g.evaluatedRMEA[2],x=this.id.canonical;if(g.hasTranslucentParts=!1,w){for(let P=0;P<d1.length;P++){const $=d1[P];$.length&&(h.properties.part=$);const T=n.paint.get("model-color").evaluate(h,v,x).toRenderColor(null),O=n.paint.get("model-color-mix-intensity").evaluate(h,v,x);g.evaluatedColor[P]=[T.r,T.g,T.b,O],g.evaluatedRMEA[P][0]=n.paint.get("model-roughness").evaluate(h,v,x),g.evaluatedRMEA[P][2]=n.paint.get("model-emissive-strength").evaluate(h,v,x),g.evaluatedRMEA[P][3]=T.a,g.emissionHeightBasedParams[P]=n.paint.get("model-height-based-emissive-strength-multiplier").evaluate(h,v,x),!g.hasTranslucentParts&&T.a<1&&(g.hasTranslucentParts=!0)}delete h.properties.part,UC(g,M!==g.evaluatedColor[2]||D!==g.evaluatedRMEA[2],this.modelTraits)}else g.evaluatedRMEA[0][2]=n.paint.get("model-emissive-strength").evaluate(h,v,x);g.evaluatedScale=n.paint.get("model-scale").evaluate(h,v,x),this.updatePbrBuffer(g.node)||(this.needsUpload=!0)}this.dirty=!1}elevationUpdate(n,i,d,g){const h=n.findDEMTileFor(d);if(h&&(h.tileID.canonical!==this.terrainTile||i!==this.terrainExaggeration)){if(h.dem&&h.tileID.overscaledZ!==this.elevationReadFromZ){this.elevationReadFromZ=h.tileID.overscaledZ;const v=Uh.create(n,d,h);if(!v)return;this.modelTraits&Hm.HasMapboxMeshFeatures&&this.updateDEM(n,v,d,g);for(const w of this.getNodesInfo()){const M=w.node;if(!M.footprint||!M.footprint.vertices||!M.footprint.vertices.length)continue;const D=M.footprint.vertices;let x=v.getElevationAt(D[0].x,D[0].y,!0,!0);for(let P=1;P<D.length;P++)x=Math.min(x,v.getElevationAt(D[P].x,D[P].y,!0,!0));M.elevation=x}}this.terrainTile=h.tileID.canonical,this.terrainExaggeration=i}}updateDEM(n,i,d,g){let h=i._dem._modifiedForSources[g];if(h===void 0&&(i._dem._modifiedForSources[g]=[],h=i._dem._modifiedForSources[g]),h.includes(d.canonical))return;const v=i._dem.dim;h.push(d.canonical);let w=!1;for(const M of this.getNodesInfo()){const D=M.node;if(!D.footprint||!D.footprint.grid)continue;const x=D.footprint.grid,P=i.tileCoordToPixel(x.min.x,x.min.y),$=i.tileCoordToPixel(x.max.x,x.max.y),T=Math.min(Math.min(v-$.y,P.x),Math.min(P.y,v-$.x));if(T<0)continue;const O=Vn(T,2,5);let N=Math.max(0,P.x-O),G=Math.max(0,P.y-O),q=Math.min($.x+O,v-1),se=Math.min($.y+O,v-1);for(let Ce=G;Ce<=se;++Ce)for(let Re=N;Re<=q;++Re)Wh[Ce*v+Re]=255;let ce=0,te=0;for(let Ce=0;Ce<x.cellsY;++Ce)for(let Re=0;Re<x.cellsX;++Re){if(!x.cells[Ce*x.cellsX+Re])continue;const it=i.tileCoordToPixel(x.min.x+Re/x.xScale,x.min.y+Ce/x.yScale),nt=i.tileCoordToPixel(x.min.x+(Re+1)/x.xScale,x.min.y+(Ce+1)/x.yScale);for(let et=it.y;et<=Math.min(nt.y+1,v-1);++et)for(let Lt=it.x;Lt<=Math.min(nt.x+1,v-1);++Lt)Wh[et*v+Lt]===255&&(Wh[et*v+Lt]=0,ce+=i.getElevationAtPixel(Lt,et),te++)}const pe=ce/te;N=Math.max(1,P.x-O),G=Math.max(1,P.y-O),q=Math.min($.x+O,v-2),se=Math.min($.y+O,v-2),w=!0;for(let Ce=G;Ce<=se;++Ce)for(let Re=N;Re<=q;++Re)Wh[Ce*v+Re]===0&&(V0[Ce*v+Re]=i._dem.set(Re,Ce,pe));for(let Ce=1;Ce<O;++Ce){N=Math.max(1,P.x-Ce),G=Math.max(1,P.y-Ce),q=Math.min($.x+Ce,v-2),se=Math.min($.y+Ce,v-2);for(let Re=G;Re<=se;++Re)for(let it=N;it<=q;++it){const nt=Re*v+it;if(Wh[nt]===255){let et=0,Lt=0,ut=-1,Zt=-1;for(let on=-1;on<=1;++on)for(let Wt=-1;Wt<=1;++Wt){const cn=(Re+on)*v+it+Wt;if(Wh[cn]>=Ce)continue;const wn=V0[cn],Nn=Math.abs(wn);Nn>Lt&&(et=wn,Lt=Nn,ut=Wt,Zt=on)}if(Lt>.1){const on=1-(Ce+.5*Math.abs(ut*Zt))/O;let Wt=i._dem.get(it,Re)+et*on;const cn=i._dem.get(it+ut,Re+Zt),wn=i._dem.get(it-ut,Re-Zt,!0);(Wt-cn)*(Wt-wn)>0&&(Wt=(cn+wn)/2),V0[nt]=i._dem.set(it,Re,Wt),Wh[nt]=Ce}}}}}w&&(i._demTile.needsDEMTextureUpload=!0,i._dem._timestamp=Je.now())}getNodesInfo(){return this.nodesInfo}destroy(){const n=this.getNodesInfo();for(const i of n)dg(i.node),l1(i.node)}isEmpty(){return!this.nodesInfo.length}updateReplacement(n,i){if(i.updateTime===this.replacementUpdateTime)return;this.replacementUpdateTime=i.updateTime;const d=i.getReplacementRegionsForTile(n.toUnwrapped()),g=this.getNodesInfo();for(let h=0;h<this.nodesInfo.length;h++){const v=g[h].node;g[h].hiddenByReplacement=!!v.footprint&&!d.find(w=>w.footprint===v.footprint)}}getHeightAtTileCoord(n,i){const d=this.getNodesInfo(),g=[],h=[0,0,0],v=$e.mat4.identity([]);for(let w=0;w<this.nodesInfo.length;w++){const M=d[w],D=M.node.meshes[0],x=D.transformedAabb;if(n<x.min[0]||i<x.min[1]||n>x.max[0]||i>x.max[1])continue;if(M.node.hidden===!0)return{height:1/0,maxHeight:M.feature.properties.height,hidden:!1,verticalScale:M.evaluatedScale[2]};$e.mat4.invert(v,M.node.matrix),h[0]=n,h[1]=i,$e.vec3.transformMat4(h,h,v);const P=(h[0]-D.aabb.min[0])/(D.aabb.max[0]-D.aabb.min[0])*Hh|0,$=Math.min(63,(h[1]-D.aabb.min[1])/(D.aabb.max[1]-D.aabb.min[1])*Hh|0)*Hh+Math.min(63,P),T=D.heightmap[$];if(!(T<0&&M.node.footprint))return M.hiddenByReplacement?void 0:{height:T,maxHeight:M.feature.properties.height,hidden:!1,verticalScale:M.evaluatedScale[2]};if(M.node.footprint.grid.query(new Sn(n,i),new Sn(n,i),g),g.length>0)return{height:void 0,maxHeight:M.feature.properties.height,hidden:M.hiddenByReplacement,verticalScale:M.evaluatedScale[2]}}}}function fg(c,n){return!c.isLightConstant&&n}function U0(c,n,i,d,g,h,v,w){let M=(61440&n|(61440&n)>>4)>>8,D=(3840&n|(3840&n)>>4)>>4,x=240&n|(240&n)>>4;i[3]>0&&(M=Pr(M,255*i[0],i[3]),D=Pr(D,255*i[1],i[3]),x=Pr(x,255*i[2],i[3]));const P=M<<8|D,$=x<<8|Math.floor(255*d[3]),T=function(Ce){const Re=Vn(Ce,0,2);return Math.min(Math.round(.5*Re*255),255)}(d[2])<<8|15*d[0]<<4|15*d[1],O=Vn(g[0],0,1),N=Vn(g[1],0,1),G=Vn(g[2],0,1),q=Vn(g[3],0,1);let se,ce,te,pe;if(O!==N&&v!==h&&N!==O){const Ce=v-h;ce=1/(Ce*(N-O)),te=-(h+Ce*O)/(Ce*(N-O));const Re=Vn(g[4],-1,1);pe=Math.pow(10,Re),se=255*G<<8|255*q}else se=65535,ce=0,te=1,pe=1;if(c.emplaceBack(P,$,T,se,ce,te,pe),w){const Ce=w.length;w.clear();for(let Re=0;Re<Ce;Re++)w.emplaceBack(P,$,T,se,ce,te,pe)}}function UC(c,n,i){const d=c.node;let g=0;const h=i&Hm.HasMeshoptCompression;for(const v of d.meshes){if(d.lights&&d.lightMeshIndex===g||!v.featureData)continue;v.featureArray=new bf,v.featureArray.reserve(v.featureData.length);let w=n;for(const M of v.featureData){const D=h?65535&M:M>>16&65535,x=h?M>>16&65535:65535&M,P=(15&x)<8?15&x:0,$=c.evaluatedRMEA[P],T=c.evaluatedColor[P],O=c.emissionHeightBasedParams[P];let N;if(w&&P===2&&d.lights&&(N=new bf,N.resize(10*d.lights.length)),U0(v.featureArray,D,T,$,O,v.aabb.min[2],v.aabb.max[2],N),N&&w){w=!1;const G=d.meshes[d.lightMeshIndex];G.featureArray=N,G.featureArray._trim()}}v.featureArray._trim(),g++}}function h1(c,n,i,d){const g=1<<c.z;n.lat=hc((d/Ei+c.y)/g),n.lng=Fc((i/Ei+c.x)/g)}lo(H0,"Tiled3dModelBucket",{omit:["layers"]}),lo(f1,"Tiled3dModelFeature");const m1={circle:class extends ec{constructor(c,n,i,d){super(c,{layout:Gr||(Gr=new el({"circle-sort-key":new qi(Un.layout_circle["circle-sort-key"]),"circle-elevation-reference":new hi(Un.layout_circle["circle-elevation-reference"]),visibility:new hi(Un.layout_circle.visibility)})),paint:On||(On=new el({"circle-radius":new qi(Un.paint_circle["circle-radius"]),"circle-color":new qi(Un.paint_circle["circle-color"]),"circle-blur":new qi(Un.paint_circle["circle-blur"]),"circle-opacity":new qi(Un.paint_circle["circle-opacity"]),"circle-translate":new hi(Un.paint_circle["circle-translate"]),"circle-translate-anchor":new hi(Un.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new hi(Un.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new hi(Un.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new qi(Un.paint_circle["circle-stroke-width"]),"circle-stroke-color":new qi(Un.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new qi(Un.paint_circle["circle-stroke-opacity"]),"circle-emissive-strength":new hi(Un.paint_circle["circle-emissive-strength"]),"circle-color-use-theme":new qi({type:"string",default:"default","property-type":"data-driven"}),"circle-stroke-color-use-theme":new qi({type:"string",default:"default","property-type":"data-driven"})}))},n,i,d)}createBucket(c){return new Ee(c)}queryRadius(c){const n=c;return Er("circle-radius",this,n)+Er("circle-stroke-width",this,n)+mr(this.paint.get("circle-translate"))}queryIntersectsFeature(c,n,i,d,g,h,v,w){const M=or(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),h.angle,c.pixelToTileUnitsFactor),D=this.paint.get("circle-radius").evaluate(n,i)+this.paint.get("circle-stroke-width").evaluate(n,i);return Om(c,d,h,v,w,this.paint.get("circle-pitch-alignment")==="map",this.paint.get("circle-pitch-scale")==="map",M,D)}getProgramIds(){return["circle"]}getDefaultProgramParams(c,n,i){const d=If(this);return{config:new jd(this,{zoom:n,lut:i}),defines:d,overrideFog:!1}}},heatmap:class extends ec{createBucket(c){return new Nb(c)}constructor(c,n,i,d){super(c,{layout:Bb||(Bb=new el({visibility:new hi(Un.layout_heatmap.visibility)})),paint:Rv||(Rv=new el({"heatmap-radius":new qi(Un.paint_heatmap["heatmap-radius"]),"heatmap-weight":new qi(Un.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new hi(Un.paint_heatmap["heatmap-intensity"]),"heatmap-color":new ff(Un.paint_heatmap["heatmap-color"]),"heatmap-opacity":new hi(Un.paint_heatmap["heatmap-opacity"]),"heatmap-color-use-theme":new qi({type:"string",default:"default","property-type":"data-driven"})}))},n,i,d),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(c){c==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=Np({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(c){return Er("heatmap-radius",this,c)}queryIntersectsFeature(c,n,i,d,g,h,v,w){const M=this.paint.get("heatmap-radius").evaluate(n,i);return Om(c,d,h,v,w,!0,!0,new Sn(0,0),M)}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}getProgramIds(){return["heatmap","heatmapTexture"]}getDefaultProgramParams(c,n,i){return c==="heatmap"?{config:new jd(this,{zoom:n,lut:i}),overrideFog:!1}:{}}},hillshade:class extends ec{constructor(c,n,i,d){super(c,{layout:$v||($v=new el({visibility:new hi(Un.layout_hillshade.visibility)})),paint:Qg||(Qg=new el({"hillshade-illumination-direction":new hi(Un.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new hi(Un.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new hi(Un.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new hi(Un.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new hi(Un.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new hi(Un.paint_hillshade["hillshade-accent-color"]),"hillshade-emissive-strength":new hi(Un.paint_hillshade["hillshade-emissive-strength"]),"hillshade-shadow-color-use-theme":new qi({type:"string",default:"default","property-type":"data-driven"}),"hillshade-highlight-color-use-theme":new qi({type:"string",default:"default","property-type":"data-driven"}),"hillshade-accent-color-use-theme":new qi({type:"string",default:"default","property-type":"data-driven"})}))},n,i,d)}shouldRedrape(){return this.hasOffscreenPass()&&this.paint.get("hillshade-illumination-anchor")==="viewport"}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}getProgramIds(){return["hillshade","hillshadePrepare"]}getDefaultProgramParams(c,n,i){return{overrideFog:!1}}},fill:class extends ec{constructor(c,n,i,d){super(c,{layout:Zv||(Zv=new el({"fill-sort-key":new qi(Un.layout_fill["fill-sort-key"]),visibility:new hi(Un.layout_fill.visibility),"fill-elevation-reference":new hi(Un.layout_fill["fill-elevation-reference"])})),paint:Ub||(Ub=new el({"fill-antialias":new hi(Un.paint_fill["fill-antialias"]),"fill-opacity":new qi(Un.paint_fill["fill-opacity"]),"fill-color":new qi(Un.paint_fill["fill-color"]),"fill-outline-color":new qi(Un.paint_fill["fill-outline-color"]),"fill-translate":new hi(Un.paint_fill["fill-translate"]),"fill-translate-anchor":new hi(Un.paint_fill["fill-translate-anchor"]),"fill-pattern":new qi(Un.paint_fill["fill-pattern"]),"fill-emissive-strength":new hi(Un.paint_fill["fill-emissive-strength"]),"fill-z-offset":new qi(Un.paint_fill["fill-z-offset"]),"fill-color-use-theme":new qi({type:"string",default:"default","property-type":"data-driven"}),"fill-outline-color-use-theme":new qi({type:"string",default:"default","property-type":"data-driven"})}))},n,i,d)}getProgramIds(){const c=this.paint.get("fill-pattern"),n=c&&c.constantOr(1),i=[n?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&i.push(n&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),i}getDefaultProgramParams(c,n,i){return{config:new jd(this,{zoom:n,lut:i}),overrideFog:!1}}recalculate(c,n){super.recalculate(c,n);const i=this.paint._values["fill-outline-color"];i.value.kind==="constant"&&i.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(c){return new jv(c)}queryRadius(){return mr(this.paint.get("fill-translate"))}queryIntersectsFeature(c,n,i,d,g,h){return!c.queryGeometry.isAboveHorizon&&Me(Dn(c.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),h.angle,c.pixelToTileUnitsFactor),d)}isTileClipped(){return!0}is3D(){return this.paint.get("fill-z-offset").constantOr(1)!==0}},"fill-extrusion":class extends ec{constructor(c,n,i,d){super(c,{layout:a_||(a_=new el({visibility:new hi(Un["layout_fill-extrusion"].visibility),"fill-extrusion-edge-radius":new hi(Un["layout_fill-extrusion"]["fill-extrusion-edge-radius"])})),paint:s_||(s_=new el({"fill-extrusion-opacity":new hi(Un["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new qi(Un["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new hi(Un["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new hi(Un["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new qi(Un["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new qi(Un["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new qi(Un["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-height-alignment":new hi(Un["paint_fill-extrusion"]["fill-extrusion-height-alignment"]),"fill-extrusion-base-alignment":new hi(Un["paint_fill-extrusion"]["fill-extrusion-base-alignment"]),"fill-extrusion-vertical-gradient":new hi(Un["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"]),"fill-extrusion-ambient-occlusion-intensity":new hi(Un["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-intensity"]),"fill-extrusion-ambient-occlusion-radius":new hi(Un["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-radius"]),"fill-extrusion-ambient-occlusion-wall-radius":new hi(Un["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-wall-radius"]),"fill-extrusion-ambient-occlusion-ground-radius":new hi(Un["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-ground-radius"]),"fill-extrusion-ambient-occlusion-ground-attenuation":new hi(Un["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-ground-attenuation"]),"fill-extrusion-flood-light-color":new hi(Un["paint_fill-extrusion"]["fill-extrusion-flood-light-color"]),"fill-extrusion-flood-light-intensity":new hi(Un["paint_fill-extrusion"]["fill-extrusion-flood-light-intensity"]),"fill-extrusion-flood-light-wall-radius":new qi(Un["paint_fill-extrusion"]["fill-extrusion-flood-light-wall-radius"]),"fill-extrusion-flood-light-ground-radius":new qi(Un["paint_fill-extrusion"]["fill-extrusion-flood-light-ground-radius"]),"fill-extrusion-flood-light-ground-attenuation":new hi(Un["paint_fill-extrusion"]["fill-extrusion-flood-light-ground-attenuation"]),"fill-extrusion-vertical-scale":new hi(Un["paint_fill-extrusion"]["fill-extrusion-vertical-scale"]),"fill-extrusion-rounded-roof":new hi(Un["paint_fill-extrusion"]["fill-extrusion-rounded-roof"]),"fill-extrusion-cutoff-fade-range":new hi(Un["paint_fill-extrusion"]["fill-extrusion-cutoff-fade-range"]),"fill-extrusion-emissive-strength":new qi(Un["paint_fill-extrusion"]["fill-extrusion-emissive-strength"]),"fill-extrusion-line-width":new qi(Un["paint_fill-extrusion"]["fill-extrusion-line-width"]),"fill-extrusion-cast-shadows":new hi(Un["paint_fill-extrusion"]["fill-extrusion-cast-shadows"]),"fill-extrusion-color-use-theme":new qi({type:"string",default:"default","property-type":"data-driven"}),"fill-extrusion-flood-light-color-use-theme":new qi({type:"string",default:"default","property-type":"data-driven"})}))},n,i,d),this._stats={numRenderedVerticesInShadowPass:0,numRenderedVerticesInTransparentPass:0}}createBucket(c){return new Gp(c)}queryRadius(){return mr(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}hasShadowPass(){return this.paint.get("fill-extrusion-cast-shadows")}cutoffRange(){return this.paint.get("fill-extrusion-cutoff-fade-range")}canCastShadows(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}queryIntersectsFeature(c,n,i,d,g,h,v,w,M){const D=or(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),h.angle,c.pixelToTileUnitsFactor),x=this.paint.get("fill-extrusion-height").evaluate(n,i),P=this.paint.get("fill-extrusion-base").evaluate(n,i),$=[0,0],T=w&&h.elevation,O=h.elevation?h.elevation.exaggeration():1,N=c.tile.getBucket(this);if(T&&N instanceof Gp){const te=N.centroidVertexArray,pe=M+1;pe<te.length&&($[0]=te.geta_centroid_pos0(pe),$[1]=te.geta_centroid_pos1(pe))}if($[0]===0&&$[1]===1)return!1;h.projection.name==="globe"&&(d=o_([d],[new Sn(0,0),new Sn(Ei,Ei)],c.tileID.canonical).map(te=>te.polygon).flat());const G=T?w:null,[q,se]=function(te,pe,Ce,Re,it,nt,et,Lt,ut,Zt,on){return te.projection.name==="globe"?function(Wt,cn,wn,Nn,vn,xr,Hr,_r,Bi,Mi,di){const Wr=[],bo=[],ji=Wt.projection.upVectorScale(di,Wt.center.lat,Wt.worldSize).metersToTile,Qi=[0,0,0,1],ia=[0,0,0,1],Aa=(Ba,ts,ns,As)=>{Ba[0]=ts,Ba[1]=ns,Ba[2]=As,Ba[3]=1},Na=ry();wn>0&&(wn+=Na),Nn+=Na;for(const Ba of cn){const ts=[],ns=[];for(const As of Ba){const Rs=As.x+vn.x,_a=As.y+vn.y,Ya=Wt.projection.projectTilePoint(Rs,_a,di),bs=Wt.projection.upVector(di,As.x,As.y);let Gs=wn,bl=Nn;if(Hr){const El=c_(Rs,_a,wn,Nn,Hr,_r,Bi,Mi);Gs+=El.base,bl+=El.top}wn!==0?Aa(Qi,Ya.x+bs[0]*ji*Gs,Ya.y+bs[1]*ji*Gs,Ya.z+bs[2]*ji*Gs):Aa(Qi,Ya.x,Ya.y,Ya.z),Aa(ia,Ya.x+bs[0]*ji*bl,Ya.y+bs[1]*ji*bl,Ya.z+bs[2]*ji*bl),$e.vec3.transformMat4(Qi,Qi,xr),$e.vec3.transformMat4(ia,ia,xr),ts.push(new $m(Qi[0],Qi[1],Qi[2])),ns.push(new $m(ia[0],ia[1],ia[2]))}Wr.push(ts),bo.push(ns)}return[Wr,bo]}(te,pe,Ce,Re,it,nt,et,Lt,ut,Zt,on):et?function(Wt,cn,wn,Nn,vn,xr,Hr,_r,Bi){const Mi=[],di=[],Wr=[0,0,0,1];for(const bo of Wt){const ji=[],Qi=[];for(const ia of bo){const Aa=ia.x+Nn.x,Na=ia.y+Nn.y,Ba=c_(Aa,Na,cn,wn,xr,Hr,_r,Bi);Wr[0]=Aa,Wr[1]=Na,Wr[2]=Ba.base,Wr[3]=1,$e.vec4.transformMat4(Wr,Wr,vn),Wr[3]=Math.max(Wr[3],1e-5);const ts=new $m(Wr[0]/Wr[3],Wr[1]/Wr[3],Wr[2]/Wr[3]);Wr[0]=Aa,Wr[1]=Na,Wr[2]=Ba.top,Wr[3]=1,$e.vec4.transformMat4(Wr,Wr,vn),Wr[3]=Math.max(Wr[3],1e-5);const ns=new $m(Wr[0]/Wr[3],Wr[1]/Wr[3],Wr[2]/Wr[3]);ji.push(ts),Qi.push(ns)}Mi.push(ji),di.push(Qi)}return[Mi,di]}(pe,Ce,Re,it,nt,et,Lt,ut,Zt):function(Wt,cn,wn,Nn,vn){const xr=[],Hr=[],_r=vn[8]*cn,Bi=vn[9]*cn,Mi=vn[10]*cn,di=vn[11]*cn,Wr=vn[8]*wn,bo=vn[9]*wn,ji=vn[10]*wn,Qi=vn[11]*wn;for(const ia of Wt){const Aa=[],Na=[];for(const Ba of ia){const ts=Ba.x+Nn.x,ns=Ba.y+Nn.y,As=vn[0]*ts+vn[4]*ns+vn[12],Rs=vn[1]*ts+vn[5]*ns+vn[13],_a=vn[2]*ts+vn[6]*ns+vn[14],Ya=vn[3]*ts+vn[7]*ns+vn[15],bs=As+_r,Gs=Rs+Bi,bl=_a+Mi,El=Math.max(Ya+di,1e-5),_l=As+Wr,hl=Rs+bo,Il=_a+ji,Ll=Math.max(Ya+Qi,1e-5);Aa.push(new $m(bs/El,Gs/El,bl/El)),Na.push(new $m(_l/Ll,hl/Ll,Il/Ll))}xr.push(Aa),Hr.push(Na)}return[xr,Hr]}(pe,Ce,Re,it,nt)}(h,d,P,x,D,v,G,$,O,h.center.lat,c.tileID.canonical),ce=c.queryGeometry;return function(te,pe,Ce){let Re=1/0;Me(Ce,pe)&&(Re=l_(Ce,pe[0]));for(let it=0;it<pe.length;it++){const nt=pe[it],et=te[it];for(let Lt=0;Lt<nt.length-1;Lt++){const ut=nt[Lt],Zt=[ut,nt[Lt+1],et[Lt+1],et[Lt],ut];xe(Ce,Zt)&&(Re=Math.min(Re,l_(Ce,Zt)))}}return Re!==1/0&&Re}(q,se,ce.isPointQuery()?ce.screenBounds:ce.screenGeometry)}},line:class extends ec{constructor(c,n,i,d){const g=y_();super(c,g,n,i,d),g.layout&&(this.layout=new Nd(g.layout)),this.gradientVersion=0,this.hasElevatedBuckets=!1,this.hasNonElevatedBuckets=!1}_handleSpecialPaintPropertyUpdate(c){if(c==="line-gradient"){const n=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=n._styleExpression&&n._styleExpression.expression instanceof dc,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}widthExpression(){return this._transitionablePaint._values["line-width"].value.expression}recalculate(c,n){super.recalculate(c,n),this.paint._values["line-floorwidth"]=(()=>{if(Os)return Os;const i=y_();return Os=new b_(i.paint.properties["line-width"].specification),Os.useIntegerZoom=!0,Os})().possiblyEvaluate(this._transitioningPaint._values["line-width"].value,c)}createBucket(c){return new oy(c)}getProgramIds(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}getDefaultProgramParams(c,n,i){const d=v_(this);return{config:new jd(this,{zoom:n,lut:i}),defines:d,overrideFog:!1}}queryRadius(c){const n=c,i=yl(Er("line-width",this,n),Er("line-gap-width",this,n)),d=Er("line-offset",this,n);return i/2+Math.abs(d)+mr(this.paint.get("line-translate"))}queryIntersectsFeature(c,n,i,d,g,h){if(c.queryGeometry.isAboveHorizon)return!1;const v=Dn(c.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),h.angle,c.pixelToTileUnitsFactor),w=c.pixelToTileUnitsFactor/2*yl(this.paint.get("line-width").evaluate(n,i),this.paint.get("line-gap-width").evaluate(n,i)),M=this.paint.get("line-offset").evaluate(n,i);return M&&(d=function(D,x){const P=[],$=new Sn(0,0);for(let T=0;T<D.length;T++){const O=D[T],N=[];for(let G=0;G<O.length;G++){const q=O[G],se=O[G+1],ce=G===0?$:q.sub(O[G-1])._unit()._perp(),te=G===O.length-1?$:se.sub(q)._unit()._perp(),pe=ce._add(te)._unit();pe._mult(1/(pe.x*te.x+pe.y*te.y)),N.push(pe._mult(x)._add(q))}P.push(N)}return P}(d,M*c.pixelToTileUnitsFactor)),function(D,x,P){for(let $=0;$<x.length;$++){const T=x[$];if(D.length>=3){for(let O=0;O<T.length;O++)if(It(D,T[O]))return!0}if(qe(D,T,P))return!0}return!1}(v,d,w)}isTileClipped(){return!0}isDraped(c){return!this.hasElevatedBuckets}},symbol:L0,background:class extends ec{constructor(c,n,i,d){super(c,{layout:U_||(U_=new el({visibility:new hi(Un.layout_background.visibility)})),paint:W_||(W_=new el({"background-pitch-alignment":new hi(Un.paint_background["background-pitch-alignment"]),"background-color":new hi(Un.paint_background["background-color"]),"background-pattern":new hi(Un.paint_background["background-pattern"]),"background-opacity":new hi(Un.paint_background["background-opacity"]),"background-emissive-strength":new hi(Un.paint_background["background-emissive-strength"]),"background-color-use-theme":new qi({type:"string",default:"default","property-type":"data-driven"})}))},n,i,d)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}getDefaultProgramParams(c,n,i){return{overrideFog:!1}}is3D(){return this.paint.get("background-pitch-alignment")==="viewport"}},raster:Y_,"raster-particle":t1,sky:class extends ec{constructor(c,n,i,d){super(c,{layout:$y||($y=new el({visibility:new hi(Un.layout_sky.visibility)})),paint:Ay||(Ay=new el({"sky-type":new hi(Un.paint_sky["sky-type"]),"sky-atmosphere-sun":new hi(Un.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new hi(Un.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new hi(Un.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new hi(Un.paint_sky["sky-gradient-radius"]),"sky-gradient":new ff(Un.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new hi(Un.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new hi(Un.paint_sky["sky-atmosphere-color"]),"sky-opacity":new hi(Un.paint_sky["sky-opacity"]),"sky-gradient-use-theme":new qi({type:"string",default:"default","property-type":"data-driven"}),"sky-atmosphere-halo-color-use-theme":new qi({type:"string",default:"default","property-type":"data-driven"}),"sky-atmosphere-color-use-theme":new qi({type:"string",default:"default","property-type":"data-driven"})}))},n,i,d),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(c){c==="sky-gradient"?this._updateColorRamp():c!=="sky-atmosphere-sun"&&c!=="sky-atmosphere-halo-color"&&c!=="sky-atmosphere-color"&&c!=="sky-atmosphere-sun-intensity"||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=Np({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(c){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const n=c.style.light.properties.get("position");return this._lightPosition.azimuthal!==n.azimuthal||this._lightPosition.polar!==n.polar}return!1}getCenter(c,n){if(this.paint.get("sky-type")==="atmosphere"){const d=this.paint.get("sky-atmosphere-sun"),g=!d,h=c.style.light,v=h.properties.get("position");return g&&h.properties.get("anchor")==="viewport"&&Ln("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),g?Dy(v.azimuthal,90-v.polar,n):Dy(d[0],90-d[1],n)}const i=this.paint.get("sky-gradient-center");return Dy(i[0],90-i[1],n)}isSky(){return!0}markSkyboxValid(c){this._skyboxInvalidated=!1,this._lightPosition=c.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const c=this.paint.get("sky-type");return c==="atmosphere"?["skyboxCapture","skybox"]:c==="gradient"?["skyboxGradient"]:null}},slot:class extends ec{constructor(c,n,i,d){super(c,{paint:e1||(e1=new el({}))},n,null)}},model:class extends ec{constructor(c,n,i,d){super(c,{layout:Fy||(Fy=new el({visibility:new hi(Un.layout_model.visibility),"model-id":new qi(Un.layout_model["model-id"])})),paint:ky||(ky=new el({"model-opacity":new qi(Un.paint_model["model-opacity"]),"model-rotation":new qi(Un.paint_model["model-rotation"]),"model-scale":new qi(Un.paint_model["model-scale"]),"model-translation":new qi(Un.paint_model["model-translation"]),"model-color":new qi(Un.paint_model["model-color"]),"model-color-mix-intensity":new qi(Un.paint_model["model-color-mix-intensity"]),"model-type":new hi(Un.paint_model["model-type"]),"model-cast-shadows":new hi(Un.paint_model["model-cast-shadows"]),"model-receive-shadows":new hi(Un.paint_model["model-receive-shadows"]),"model-ambient-occlusion-intensity":new hi(Un.paint_model["model-ambient-occlusion-intensity"]),"model-emissive-strength":new qi(Un.paint_model["model-emissive-strength"]),"model-roughness":new qi(Un.paint_model["model-roughness"]),"model-height-based-emissive-strength-multiplier":new qi(Un.paint_model["model-height-based-emissive-strength-multiplier"]),"model-cutoff-fade-range":new hi(Un.paint_model["model-cutoff-fade-range"]),"model-front-cutoff":new hi(Un.paint_model["model-front-cutoff"]),"model-color-use-theme":new qi({type:"string",default:"default","property-type":"data-driven"})}))},n,i,d),this._stats={numRenderedVerticesInShadowPass:0,numRenderedVerticesInTransparentPass:0}}createBucket(c){return new zu(c)}getProgramIds(){return["model"]}is3D(){return!0}hasShadowPass(){return!0}canCastShadows(){return!0}hasLightBeamPass(){return!0}cutoffRange(){return this.paint.get("model-cutoff-fade-range")}queryRadius(c){return c instanceof H0?Ei-1:0}queryIntersectsFeature(c,n,i,d,g,h){if(!this.modelManager)return!1;const v=this.modelManager,w=c.tile.getBucket(this);if(!(w&&w instanceof zu))return!1;for(const M in w.instancesPerModel){const D=w.instancesPerModel[M],x=n.id!==void 0?n.id:n.properties&&n.properties.hasOwnProperty("id")?n.properties.id:void 0;if(D.idToFeaturesIndex.hasOwnProperty(x)){const P=D.features[D.idToFeaturesIndex[x]],$=v.getModel(M,this.scope);if(!$)return!1;let T=$e.mat4.create();const O=new gs(0,0),N=w.canonical;let G=Number.MAX_VALUE;for(let q=0;q<P.instancedDataCount;++q){const se=16*(P.instancedDataOffset+q),ce=D.instancedDataArray.float32,te=[ce[se+4],ce[se+5],ce[se+6]];h1(N,O,ce[se],0|ce[se+1]),a1(T,$,h,O,P.rotation,P.scale,te,!1,!1,!1),h.projection.name==="globe"&&(T=Ny(T,h));const pe=$e.mat4.multiply([],h.projMatrix,T),Ce=c.queryGeometry,Re=j0(Ce.isPointQuery()?Ce.screenBounds:Ce.screenGeometry,h,pe,$.aabb);Re!=null&&(G=Math.min(Re,G))}return G!==Number.MAX_VALUE&&G}}return!1}_handleOverridablePaintPropertyUpdate(c,n,i){return!(!this.layout||n.isDataDriven()||i.isDataDriven()||c!=="model-color"&&c!=="model-color-mix-intensity"&&c!=="model-rotation"&&c!=="model-scale"&&c!=="model-translation"&&c!=="model-emissive-strength")}_isPropertyZoomDependent(c){const n=this._transitionablePaint._values[c];return n!=null&&n.value!=null&&n.value.expression!=null&&n.value.expression instanceof lm}isZoomDependent(){return this._isPropertyZoomDependent("model-scale")||this._isPropertyZoomDependent("model-rotation")||this._isPropertyZoomDependent("model-translation")}},clip:class extends ec{constructor(c,n,i,d){super(c,{layout:jp||(jp=new el({"clip-layer-types":new hi(Un.layout_clip["clip-layer-types"]),"clip-layer-scope":new hi(Un.layout_clip["clip-layer-scope"])})),paint:Wb||(Wb=new el({}))},n,i,d)}recalculate(c,n){super.recalculate(c,n)}createBucket(c){return new Xb(c)}isTileClipped(){return!0}is3D(){return!0}}};class WC{constructor(n){this._callback=n,this._triggered=!1,typeof MessageChannel!="undefined"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){this._channel=void 0,this._callback=()=>{}}}class p1{constructor(){this.tasks={},this.taskQueue=[],wr(["process"],this),this.invoker=new WC(this.process),this.nextId=0}add(n,i){const d=this.nextId++,g=function({type:h,isSymbolTile:v,zoom:w}){return w=w||0,h==="message"?0:h!=="maybePrepare"||v?h!=="parseTile"||v?h==="parseTile"&&v?300-w:h==="maybePrepare"&&v?400-w:500:200-w:100-w}(i);if(g===0){try{n()}finally{}return null}return this.tasks[d]={fn:n,metadata:i,priority:g,id:d},this.taskQueue.push(d),this.invoker.trigger(),{cancel:()=>{delete this.tasks[d]}}}process(){try{if(this.taskQueue=this.taskQueue.filter(d=>!!this.tasks[d]),!this.taskQueue.length)return;const n=this.pick();if(n===null)return;const i=this.tasks[n];if(delete this.tasks[n],this.taskQueue.length&&this.invoker.trigger(),!i)return;i.fn()}finally{}}pick(){let n=null,i=1/0;for(let g=0;g<this.taskQueue.length;g++){const h=this.tasks[this.taskQueue[g]];h.priority<i&&(i=h.priority,n=g)}if(n===null)return null;const d=this.taskQueue[n];return this.taskQueue.splice(n,1),d}remove(){this.invoker.remove()}}class g1{constructor(n,i,d){this.target=n,this.parent=i,this.mapId=d,this.callbacks={},this.cancelCallbacks={},wr(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.scheduler=new p1}send(n,i,d,g,h=!1,v){const w=Math.round(1e18*Math.random()).toString(36).substring(0,10);d&&(d.metadata=v,this.callbacks[w]=d);const M=new Set;return this.target.postMessage({id:w,type:n,hasCallback:!!d,targetMapId:g,mustQueue:h,sourceMapId:this.mapId,data:gd(i,M)},M),{cancel:()=>{d&&delete this.callbacks[w],this.target.postMessage({id:w,type:"<cancel>",targetMapId:g,sourceMapId:this.mapId})}}}receive(n){const i=n.data,d=i.id;if(d&&(!i.targetMapId||this.mapId===i.targetMapId))if(i.type==="<cancel>"){const g=this.cancelCallbacks[d];delete this.cancelCallbacks[d],g&&g.cancel()}else if(i.mustQueue||po()){const g=this.callbacks[d],h=this.scheduler.add(()=>this.processTask(d,i),g&&g.metadata||{type:"message"});h&&(this.cancelCallbacks[d]=h)}else this.processTask(d,i)}processTask(n,i){if(delete this.cancelCallbacks[n],i.type==="<response>"){const d=this.callbacks[n];delete this.callbacks[n],d&&(i.error?d(yu(i.error)):d(null,yu(i.data)))}else{const d=new Set,g=i.hasCallback?(v,w)=>{this.target.postMessage({id:n,type:"<response>",sourceMapId:this.mapId,error:v?gd(v):null,data:gd(w,d)},d)}:()=>{},h=yu(i.data);if(this.parent[i.type])this.parent[i.type](i.sourceMapId,h,g);else if(this.parent.getWorkerSource){const v=i.type.split(".");this.parent.getWorkerSource(i.sourceMapId,v[0],h.source,h.scope)[v[1]](h,g)}else g(new Error(`Could not find function ${i.type}`))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}}var Um={workerUrl:"",workerClass:null,workerParams:void 0};const Wm="mapboxgl_preloaded_worker_pool";class Bf{constructor(){this.active={}}acquire(n,i=Bf.workerCount){if(!this.workers)for(this.workers=[];this.workers.length<i;)this.workers.push(Um.workerClass!=null?new Um.workerClass:new self.Worker(Um.workerUrl,Um.workerParams));return this.active[n]=!0,this.workers.slice()}release(n){delete this.active[n],this.workers&&this.numActive()===0&&(this.workers.forEach(i=>{i.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Wm]}numActive(){return Object.keys(this.active).length}}Bf.workerCount=2;class Gm{constructor(n,i,d="Worker",g=Bf.workerCount){this.workerPool=n,this.actors=[],this.currentActor=0,this.id=hr();const h=this.workerPool.acquire(this.id,g);for(let v=0;v<h.length;v++){const w=new Gm.Actor(h[v],i,this.id);w.name=`${d} ${v}`,this.actors.push(w)}this.ready=!1,this.broadcast("checkIfReady",null,()=>{this.ready=!0})}broadcast(n,i,d){Zr(this.actors,(g,h)=>{g.send(n,i,h)},d=d||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(n=>{n.remove()}),this.actors=[],this.workerPool.release(this.id)}}let Xm,jy;function hg(){return Xm||(Xm=new Bf),Xm}Gm.Actor=g1;const Zy=new to(0,0,0);var W0=(c=>(c[c.PATH_RULE_UNSPECIFIED=0]="PATH_RULE_UNSPECIFIED",c[c.PATH_RULE_NON_ZERO=1]="PATH_RULE_NON_ZERO",c[c.PATH_RULE_EVEN_ODD=2]="PATH_RULE_EVEN_ODD",c))(W0||{}),G0=(c=>(c[c.LINE_CAP_UNSPECIFIED=0]="LINE_CAP_UNSPECIFIED",c[c.LINE_CAP_BUTT=1]="LINE_CAP_BUTT",c[c.LINE_CAP_ROUND=2]="LINE_CAP_ROUND",c[c.LINE_CAP_SQUARE=3]="LINE_CAP_SQUARE",c))(G0||{}),Km=(c=>(c[c.LINE_JOIN_UNSPECIFIED=0]="LINE_JOIN_UNSPECIFIED",c[c.LINE_JOIN_MITER=1]="LINE_JOIN_MITER",c[c.LINE_JOIN_MITER_CLIP=2]="LINE_JOIN_MITER_CLIP",c[c.LINE_JOIN_ROUND=3]="LINE_JOIN_ROUND",c[c.LINE_JOIN_BEVEL=4]="LINE_JOIN_BEVEL",c))(Km||{}),X0=(c=>(c[c.PAINT_ORDER_UNSPECIFIED=0]="PAINT_ORDER_UNSPECIFIED",c[c.PAINT_ORDER_FILL_AND_STROKE=1]="PAINT_ORDER_FILL_AND_STROKE",c[c.PAINT_ORDER_STROKE_AND_FILL=2]="PAINT_ORDER_STROKE_AND_FILL",c))(X0||{}),qm=(c=>(c[c.PATH_COMMAND_UNSPECIFIED=0]="PATH_COMMAND_UNSPECIFIED",c[c.PATH_COMMAND_MOVE=1]="PATH_COMMAND_MOVE",c[c.PATH_COMMAND_LINE=2]="PATH_COMMAND_LINE",c[c.PATH_COMMAND_QUAD=3]="PATH_COMMAND_QUAD",c[c.PATH_COMMAND_CUBIC=4]="PATH_COMMAND_CUBIC",c[c.PATH_COMMAND_CLOSE=5]="PATH_COMMAND_CLOSE",c))(qm||{}),Vy=(c=>(c[c.MASK_TYPE_UNSPECIFIED=0]="MASK_TYPE_UNSPECIFIED",c[c.MASK_TYPE_LUMINANCE=1]="MASK_TYPE_LUMINANCE",c[c.MASK_TYPE_ALPHA=2]="MASK_TYPE_ALPHA",c))(Vy||{});function GC(c,n,i){c===1&&n.icons.push(function(d,g){return function(h){if(h.usvg_tree.height||(h.usvg_tree.height=h.usvg_tree.width),!h.metadata)return h;const{metadata:v}=h;if(v.content_area){const{content_area:w}=v;w.top==null&&(w.top=w.left),w.width==null&&(w.width=h.usvg_tree.width),w.height==null&&(w.height=w.width)}return v.stretch_x&&v.stretch_x.length&&Hy(v,"x"),v.stretch_y&&v.stretch_y.length&&Hy(v,"y"),h}(d.readFields(XC,{name:void 0},g))}(i,i.readVarint()+i.pos))}function Hy(c,n){const i=[],d=c[`stretch_${n}`];let g=null;for(let h=0;h<d.length;h++)g===null?g=i.length===0?d[0]:i[i.length-1][1]+d[h]:(i.push([g,g+d[h]]),g=null);c[`stretch_${n}_areas`]=i}function XC(c,n,i){c===1?n.name=i.readString():c===2?n.metadata=function(d,g){return d.readFields(KC,{stretch_x:null,stretch_y:null,stretch_x_areas:null,stretch_y_areas:null,variables:[]},g)}(i,i.readVarint()+i.pos):c===3&&(n.usvg_tree=function(d,g){return d.readFields(JC,{width:20,children:[],linear_gradients:[],radial_gradients:[],clip_paths:[],masks:[]},g)}(i,i.readVarint()+i.pos),n.data="usvg_tree")}function KC(c,n,i){c===1?n.stretch_x=i.readPackedVarint():c===2?n.stretch_y=i.readPackedVarint():c===3?n.content_area=function(d,g){return d.readFields(qC,{left:0},g)}(i,i.readVarint()+i.pos):c===4&&n.variables.push(function(d,g){return d.readFields(YC,{name:void 0},g)}(i,i.readVarint()+i.pos))}function qC(c,n,i){c===1?n.left=i.readVarint():c===2?n.width=i.readVarint():c===3?n.top=i.readVarint():c===4&&(n.height=i.readVarint())}function YC(c,n,i){c===1?n.name=i.readString():c===2&&(n.rgb_color=q0(i.readVarint()),n.value="rgb_color")}function JC(c,n,i){c===1?n.width=n.height=i.readVarint():c===2?n.height=i.readVarint():c===3?n.children.push(Kd(i,i.readVarint()+i.pos)):c===4?n.linear_gradients.push(function(d,g){return d.readFields(rS,{spread_method:1,stops:[],x1:0,y1:0,x2:1,y2:0},g)}(i,i.readVarint()+i.pos)):c===5?n.radial_gradients.push(function(d,g){return d.readFields(oS,{spread_method:1,stops:[],cx:.5,cy:.5,r:.5,fx:.5,fy:.5,fr:0},g)}(i,i.readVarint()+i.pos)):c===7?n.clip_paths.push(function(d,g){return d.readFields(aS,{children:[]},g)}(i,i.readVarint()+i.pos)):c===8&&n.masks.push(function(d,g){const h=d.readFields(sS,{left:0,width:20,mask_type:1,children:[]},g);return h.height==null&&(h.height=h.width),h.top==null&&(h.top=h.left),h}(i,i.readVarint()+i.pos))}function Kd(c,n){return c.readFields(K0,{},n)}function K0(c,n,i){c===1?(n.group=function(d,g){return d.readFields(QC,{opacity:255,children:[]},g)}(i,i.readVarint()+i.pos),n.node="group"):c===2&&(n.path=function(d,g){return d.readFields(v1,{paint_order:1,commands:[],step:1,diffs:[],rule:1},g)}(i,i.readVarint()+i.pos),n.node="path")}function QC(c,n,i){c===1?n.transform=mg(i,i.readVarint()+i.pos):c===2?n.opacity=i.readVarint():c===5?n.clip_path_idx=i.readVarint():c===6?n.mask_idx=i.readVarint():c===7&&n.children.push(Kd(i,i.readVarint()+i.pos))}function mg(c,n){return c.readFields(eS,{sx:1,ky:0,kx:0,sy:1,tx:0,ty:0},n)}function eS(c,n,i){c===1?n.sx=i.readFloat():c===2?n.ky=i.readFloat():c===3?n.kx=i.readFloat():c===4?n.sy=i.readFloat():c===5?n.tx=i.readFloat():c===6&&(n.ty=i.readFloat())}function v1(c,n,i){c===1?n.fill=function(d,g){return d.readFields(tS,{rgb_color:Zy,paint:"rgb_color",opacity:255},g)}(i,i.readVarint()+i.pos):c===2?n.stroke=function(d,g){return d.readFields(nS,{rgb_color:Zy,paint:"rgb_color",dasharray:[],dashoffset:0,miterlimit:4,opacity:255,width:1,linecap:1,linejoin:1},g)}(i,i.readVarint()+i.pos):c===3?n.paint_order=i.readVarint():c===5?i.readPackedVarint(n.commands):c===6?n.step=i.readFloat():c===7?i.readPackedSVarint(n.diffs):c===8&&(n.rule=i.readVarint())}function tS(c,n,i){c===1?(n.rgb_color=q0(i.readVarint()),n.paint="rgb_color"):c===2?(n.linear_gradient_idx=i.readVarint(),n.paint="linear_gradient_idx"):c===3?(n.radial_gradient_idx=i.readVarint(),n.paint="radial_gradient_idx"):c===5&&(n.opacity=i.readVarint())}function q0(c){return new to((c>>16&255)/255,(c>>8&255)/255,(255&c)/255,1)}function nS(c,n,i){c===1?(n.rgb_color=q0(i.readVarint()),n.paint="rgb_color"):c===2?(n.linear_gradient_idx=i.readVarint(),n.paint="linear_gradient_idx"):c===3?(n.radial_gradient_idx=i.readVarint(),n.paint="radial_gradient_idx"):c===5?i.readPackedFloat(n.dasharray):c===6?n.dashoffset=i.readFloat():c===7?n.miterlimit=i.readFloat():c===8?n.opacity=i.readVarint():c===9?n.width=i.readFloat():c===10?n.linecap=i.readVarint():c===11&&(n.linejoin=i.readVarint())}function rS(c,n,i){c===1?n.transform=mg(i,i.readVarint()+i.pos):c===2?n.spread_method=i.readVarint():c===3?n.stops.push(y1(i,i.readVarint()+i.pos)):c===4?n.x1=i.readFloat():c===5?n.y1=i.readFloat():c===6?n.x2=i.readFloat():c===7&&(n.y2=i.readFloat())}function y1(c,n){return c.readFields(iS,{offset:0,opacity:255,rgb_color:Zy},n)}function iS(c,n,i){c===1?n.offset=i.readFloat():c===2?n.opacity=i.readVarint():c===3&&(n.rgb_color=q0(i.readVarint()))}function oS(c,n,i){c===1?n.transform=mg(i,i.readVarint()+i.pos):c===2?n.spread_method=i.readVarint():c===3?n.stops.push(y1(i,i.readVarint()+i.pos)):c===4?n.cx=i.readFloat():c===5?n.cy=i.readFloat():c===6?n.r=i.readFloat():c===7?n.fx=i.readFloat():c===8?n.fy=i.readFloat():c===9&&(n.fr=i.readFloat())}function aS(c,n,i){c===1?n.transform=mg(i,i.readVarint()+i.pos):c===2?n.clip_path_idx=i.readVarint():c===3&&n.children.push(Kd(i,i.readVarint()+i.pos))}function sS(c,n,i){c===1?n.left=n.top=i.readFloat():c===2?n.width=n.height=i.readFloat():c===3?n.top=i.readFloat():c===4?n.height=i.readFloat():c===5?n.mask_type=i.readVarint():c===6?n.mask_idx=i.readVarint():c===7&&n.children.push(Kd(i,i.readVarint()+i.pos))}class b1{static calculate(n,i){const d=new Map,g=new Map;if(Object.keys(n).length===0)return d;i.forEach(h=>{g.set(h.name,h.rgb_color||new to(0,0,0))});for(const[h,v]of Object.entries(n))g.has(h)?d.set(g.get(h).toStringPremultipliedAlpha(),v):console.warn(`Ignoring unknown image variable "${h}"`);return d}}function Ym(c,n=255,i){const d=n/255,g=c.toStringPremultipliedAlpha(),h=i.has(g)?i.get(g).clone():c.clone();return h.a=d,h.toString()}function pg(c,n){if(!Ne()){const i=document.createElement("canvas");return i.width=c,i.height=n,i}return new OffscreenCanvas(c,n)}function lS(c,n){const i=b1.calculate(n.params,c.metadata?c.metadata.variables:[]),d=c.usvg_tree,g=d.width,h=d.height,v=n.transform?n.transform:new DOMMatrix,w=Math.max(1,Math.round(g*v.a)),M=Math.max(1,Math.round(h*v.d)),D=new DOMMatrix([w/g,0,0,M/h,0,0]),x=pg(w,M).getContext("2d");return Uy(x,D,d,d,i),x.getImageData(0,0,w,M)}function Uy(c,n,i,d,g){for(const h of d.children)_1(c,n,i,h,g)}function _1(c,n,i,d,g){d.group?(c.save(),function(h,v,w,M,D){const x=M.mask_idx!=null?w.masks[M.mask_idx]:null,P=M.clip_path_idx!=null?w.clip_paths[M.clip_path_idx]:null;if(M.transform&&(v=Y0(M.transform).preMultiplySelf(v)),!function(O,N,G){return O.opacity!==255||N||G}(M,P!=null,x!=null))return void Uy(h,v,w,M,D);const $=pg(h.canvas.width,h.canvas.height),T=$.getContext("2d");Uy(T,v,w,M,D),P&&I1(T,v,w,P),x&&T1(T,v,w,x,D),h.globalAlpha=M.opacity/255,h.drawImage($,0,0)}(c,n,i,d.group,g),c.restore()):d.path&&(c.save(),function(h,v,w,M,D){const x=M1(M);h.setTransform(v),M.paint_order===X0.PAINT_ORDER_FILL_AND_STROKE?(x1(h,w,M,x,D),S1(h,w,M,x,D)):(S1(h,w,M,x,D),x1(h,w,M,x,D))}(c,n,i,d.path,g),c.restore())}function x1(c,n,i,d,g){const h=i.fill;if(!h)return;const v=h.opacity/255;switch(h.paint){case"rgb_color":c.fillStyle=Ym(h.rgb_color,h.opacity,g);break;case"linear_gradient_idx":c.fillStyle=cS(c,n.linear_gradients[h.linear_gradient_idx],v,g);break;case"radial_gradient_idx":c.fillStyle=w1(c,n.radial_gradients[h.radial_gradient_idx],v,g)}c.fill(d,C1(i))}function C1(c){return c.rule===W0.PATH_RULE_NON_ZERO?"nonzero":c.rule===W0.PATH_RULE_EVEN_ODD?"evenodd":void 0}function S1(c,n,i,d,g){const h=i.stroke;if(!h)return;c.lineWidth=h.width,c.miterLimit=h.miterlimit,c.setLineDash(h.dasharray),c.lineDashOffset=h.dashoffset;const v=h.opacity/255;switch(h.paint){case"rgb_color":c.strokeStyle=Ym(h.rgb_color,h.opacity,g);break;case"linear_gradient_idx":c.strokeStyle=cS(c,n.linear_gradients[h.linear_gradient_idx],v,g);break;case"radial_gradient_idx":c.strokeStyle=w1(c,n.radial_gradients[h.radial_gradient_idx],v,g)}switch(h.linejoin){case Km.LINE_JOIN_MITER_CLIP:case Km.LINE_JOIN_MITER:c.lineJoin="miter";break;case Km.LINE_JOIN_ROUND:c.lineJoin="round";break;case Km.LINE_JOIN_BEVEL:c.lineJoin="bevel"}switch(h.linecap){case G0.LINE_CAP_BUTT:c.lineCap="butt";break;case G0.LINE_CAP_ROUND:c.lineCap="round";break;case G0.LINE_CAP_SQUARE:c.lineCap="square"}c.stroke(d)}function cS(c,n,i,d){if(n.stops.length===1){const $=n.stops[0];return Ym($.rgb_color,$.opacity*i,d)}const g=Y0(n.transform),{x1:h,y1:v,x2:w,y2:M}=n,D=g.transformPoint(new DOMPoint(h,v)),x=g.transformPoint(new DOMPoint(w,M)),P=c.createLinearGradient(D.x,D.y,x.x,x.y);for(const $ of n.stops)P.addColorStop($.offset,Ym($.rgb_color,$.opacity*i,d));return P}function w1(c,n,i,d){if(n.stops.length===1){const $=n.stops[0];return Ym($.rgb_color,$.opacity*i,d)}const g=Y0(n.transform),{fx:h,fy:v,cx:w,cy:M}=n,D=g.transformPoint(new DOMPoint(h,v)),x=g.transformPoint(new DOMPoint(w,M)),P=c.createRadialGradient(D.x,D.y,0,x.x,x.y,n.r*((g.a+g.d)/2));for(const $ of n.stops)P.addColorStop($.offset,Ym($.rgb_color,$.opacity*i,d));return P}function E1(c,n,i,d){const g=d.transform?Y0(d.transform).preMultiplySelf(n):n,h=pg(c.canvas.width,c.canvas.height),v=h.getContext("2d");for(const M of d.children)if(M.group)E1(v,g,i,M.group);else if(M.path){const D=M.path,x=new Path2D;x.addPath(M1(D),g),v.fill(x,C1(D))}const w=d.clip_path_idx!=null?i.clip_paths[d.clip_path_idx]:null;w&&I1(v,g,i,w),c.globalCompositeOperation="source-over",c.drawImage(h,0,0)}function I1(c,n,i,d){const g=pg(c.canvas.width,c.canvas.height);E1(g.getContext("2d"),n,i,d),c.globalCompositeOperation="destination-in",c.drawImage(g,0,0)}function T1(c,n,i,d,g){if(d.children.length===0)return;const h=d.mask_idx!=null?i.masks[d.mask_idx]:null;h&&T1(c,n,i,h,g);const v=c.canvas.width,w=c.canvas.height,M=pg(v,w),D=M.getContext("2d"),x=d.width,P=d.height,$=d.left,T=d.top,O=new Path2D,N=new Path2D;N.rect($,T,x,P),O.addPath(N,n),D.clip(O);for(const se of d.children)_1(D,n,i,se,g);const G=D.getImageData(0,0,v,w),q=G.data;if(d.mask_type===Vy.MASK_TYPE_LUMINANCE)for(let se=0;se<q.length;se+=4)q[se+3]=q[se+3]/255*(.2126*q[se]+.7152*q[se+1]+.0722*q[se+2]);D.putImageData(G,0,0),c.globalCompositeOperation="destination-in",c.drawImage(M,0,0)}function Y0(c){return c?new DOMMatrix([c.sx,c.ky,c.kx,c.sy,c.tx,c.ty]):new DOMMatrix}function M1(c){const n=new Path2D,i=c.step;let d=c.diffs[0]*i,g=c.diffs[1]*i;n.moveTo(d,g);for(let h=0,v=2;h<c.commands.length;h++)switch(c.commands[h]){case qm.PATH_COMMAND_MOVE:d+=c.diffs[v++]*i,g+=c.diffs[v++]*i,n.moveTo(d,g);break;case qm.PATH_COMMAND_LINE:d+=c.diffs[v++]*i,g+=c.diffs[v++]*i,n.lineTo(d,g);break;case qm.PATH_COMMAND_QUAD:{const w=d+c.diffs[v++]*i,M=g+c.diffs[v++]*i;d=w+c.diffs[v++]*i,g=M+c.diffs[v++]*i,n.quadraticCurveTo(w,M,d,g);break}case qm.PATH_COMMAND_CUBIC:{const w=d+c.diffs[v++]*i,M=g+c.diffs[v++]*i,D=w+c.diffs[v++]*i,x=M+c.diffs[v++]*i;d=D+c.diffs[v++]*i,g=x+c.diffs[v++]*i,n.bezierCurveTo(w,M,D,x,d,g);break}case qm.PATH_COMMAND_CLOSE:n.closePath()}return n}class Wy{constructor(n){this.capacity=n,this.cache=new Map}get(n){if(!this.cache.has(n))return;const i=this.cache.get(n);return this.cache.delete(n),this.cache.set(n,i),i}put(n,i){this.cache.has(n)?this.cache.delete(n):this.cache.size===this.capacity&&this.cache.delete(this.cache.keys().next().value),this.cache.set(n,i)}delete(n){this.cache.delete(n)}}class Gy{constructor(){this.cacheMap=new Map,this.cacheDependenciesMap=new Map}static _getImage(n){return new sc(n,n.data)}getFromCache(n,i,d){return this.cacheMap.has(d)||this.cacheMap.set(d,new Wy(150)),this.cacheMap.get(d).get(Tu(n.serialize(),i))}setInCache(n,i,d,g){this.cacheDependenciesMap.has(g)||this.cacheDependenciesMap.set(g,new Map),this.cacheMap.has(g)||this.cacheMap.set(g,new Wy(150));const h=this.cacheDependenciesMap.get(g);h.get(Tu(n.id,d))||h.set(Tu(n.id,d),new Set);const v=this.cacheMap.get(g),w=n.serialize();h.get(Tu(n.id,d)).add(w),v.put(Tu(n.serialize(),d),i)}removeImagesFromCacheByIds(n,i,d=""){if(!this.cacheMap.has(d)||!this.cacheDependenciesMap.has(d))return;const g=this.cacheMap.get(d),h=this.cacheDependenciesMap.get(d);for(const v of n)if(h.has(Tu(v,i))){for(const w of h.get(Tu(v,i)))g.delete(w);h.delete(Tu(v,i))}}rasterize(n,i,d,g,h=lS){const v=this.getFromCache(n,d,g);if(v)return v.clone();const w=h(i.icon,n.options),M=Gy._getImage(w);return this.setInCache(n,M,d,g),M.clone()}}class P1{constructor(n){this.size=n,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(n,i){const d=this.toIdx(n,i);return{min:this.minimums[d],max:this.maximums[d]}}isLeaf(n,i){return this.leaves[this.toIdx(n,i)]}toIdx(n,i){return i*this.size+n}}function O1(c,n,i,d){let g=0,h=Number.MAX_VALUE;for(let v=0;v<3;v++)if(Math.abs(d[v])<1e-15){if(i[v]<c[v]||i[v]>n[v])return null}else{const w=1/d[v];let M=(c[v]-i[v])*w,D=(n[v]-i[v])*w;if(M>D){const x=M;M=D,D=x}if(M>g&&(g=M),D<h&&(h=D),g>h)return null}return g}function uS(c,n,i,d,g,h,v,w,M,D,x){const P=d-c,$=g-n,T=h-i,O=v-c,N=w-n,G=M-i,q=x[1]*G-x[2]*N,se=x[2]*O-x[0]*G,ce=x[0]*N-x[1]*O,te=P*q+$*se+T*ce;if(Math.abs(te)<1e-15)return null;const pe=1/te,Ce=D[0]-c,Re=D[1]-n,it=D[2]-i,nt=(Ce*q+Re*se+it*ce)*pe;if(nt<0||nt>1)return null;const et=Re*T-it*$,Lt=it*P-Ce*T,ut=Ce*$-Re*P,Zt=(x[0]*et+x[1]*Lt+x[2]*ut)*pe;return Zt<0||nt+Zt>1?null:(O*et+N*Lt+G*ut)*pe}function R1(c,n,i){return(c-n)/(i-n)}function $1(c,n,i,d,g,h,v,w,M){const D=1<<i,x=h-d,P=v-g,$=(c+1)/D*x+d,T=(n+0)/D*P+g,O=(n+1)/D*P+g;w[0]=(c+0)/D*x+d,w[1]=T,M[0]=$,M[1]=O}class Xy{constructor(n){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=n,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const i=function(h){const v=Math.ceil(Math.log2(h.dim/8)),w=[];let M=Math.ceil(Math.pow(2,v));const D=1/M,x=(T,O,N,G,q)=>{const se=G?1:0,ce=(T+1)*N-se,te=O*N,pe=(O+1)*N-se;q[0]=T*N,q[1]=te,q[2]=ce,q[3]=pe};let P=new P1(M);const $=[];for(let T=0;T<M*M;T++){x(T%M,Math.floor(T/M),D,!1,$);const O=Ff($[0],$[1],h),N=Ff($[2],$[1],h),G=Ff($[2],$[3],h),q=Ff($[0],$[3],h);P.minimums.push(Math.min(O,N,G,q)),P.maximums.push(Math.max(O,N,G,q)),P.leaves.push(1)}for(w.push(P),M/=2;M>=1;M/=2){const T=w[w.length-1];P=new P1(M);for(let O=0;O<M*M;O++){x(O%M,Math.floor(O/M),2,!0,$);const N=T.getElevation($[0],$[1]),G=T.getElevation($[2],$[1]),q=T.getElevation($[2],$[3]),se=T.getElevation($[0],$[3]),ce=T.isLeaf($[0],$[1]),te=T.isLeaf($[2],$[1]),pe=T.isLeaf($[2],$[3]),Ce=T.isLeaf($[0],$[3]),Re=Math.min(N.min,G.min,q.min,se.min),it=Math.max(N.max,G.max,q.max,se.max),nt=ce&&te&&pe&&Ce;P.maximums.push(it),P.minimums.push(Re),P.leaves.push(it-Re<=5&&nt?1:0)}w.push(P)}return w}(this.dem),d=i.length-1,g=i[d];this._addNode(g.minimums[0],g.maximums[0],g.leaves[0]),this._construct(i,0,0,d,0)}raycastRoot(n,i,d,g,h,v,w=1){return O1([n,i,-100],[d,g,this.maximums[0]*w],h,v)}raycast(n,i,d,g,h,v,w=1){if(!this.nodeCount)return null;const M=this.raycastRoot(n,i,d,g,h,v,w);if(M==null)return null;const D=[],x=[],P=[],$=[],T=[{idx:0,t:M,nodex:0,nodey:0,depth:0}];for(;T.length>0;){const{idx:O,t:N,nodex:G,nodey:q,depth:se}=T.pop();if(this.leaves[O]){$1(G,q,se,n,i,d,g,P,$);const te=1<<se,pe=(G+0)/te,Ce=(G+1)/te,Re=(q+0)/te,it=(q+1)/te,nt=Ff(pe,Re,this.dem)*w,et=Ff(Ce,Re,this.dem)*w,Lt=Ff(Ce,it,this.dem)*w,ut=Ff(pe,it,this.dem)*w,Zt=uS(P[0],P[1],nt,$[0],P[1],et,$[0],$[1],Lt,h,v),on=uS($[0],$[1],Lt,P[0],$[1],ut,P[0],P[1],nt,h,v),Wt=Math.min(Zt!==null?Zt:Number.MAX_VALUE,on!==null?on:Number.MAX_VALUE);if(Wt!==Number.MAX_VALUE)return Wt;{const cn=$e.vec3.scaleAndAdd([],h,v,N);if(Ky(nt,et,ut,Lt,R1(cn[0],P[0],$[0]),R1(cn[1],P[1],$[1]))>=cn[2])return N}continue}let ce=0;for(let te=0;te<this._siblingOffset.length;te++){$1((G<<1)+this._siblingOffset[te][0],(q<<1)+this._siblingOffset[te][1],se+1,n,i,d,g,P,$),P[2]=-100,$[2]=this.maximums[this.childOffsets[O]+te]*w;const pe=O1(P,$,h,v);if(pe!=null){const Ce=pe;D[te]=Ce;let Re=!1;for(let it=0;it<ce&&!Re;it++)Ce>=D[x[it]]&&(x.splice(it,0,te),Re=!0);Re||(x[ce]=te),ce++}}for(let te=0;te<ce;te++){const pe=x[te];T.push({idx:this.childOffsets[O]+pe,t:D[pe],nodex:(G<<1)+this._siblingOffset[pe][0],nodey:(q<<1)+this._siblingOffset[pe][1],depth:se+1})}}return null}_addNode(n,i,d){return this.minimums.push(n),this.maximums.push(i),this.leaves.push(d),this.childOffsets.push(0),this.nodeCount++}_construct(n,i,d,g,h){if(n[g].isLeaf(i,d)===1)return;this.childOffsets[h]||(this.childOffsets[h]=this.nodeCount);const v=g-1,w=n[v];let M=0,D=0;for(let x=0;x<this._siblingOffset.length;x++){const P=2*i+this._siblingOffset[x][0],$=2*d+this._siblingOffset[x][1],T=w.getElevation(P,$),O=w.isLeaf(P,$),N=this._addNode(T.min,T.max,O);O&&(M|=1<<x),D||(D=N)}for(let x=0;x<this._siblingOffset.length;x++)M&1<<x||this._construct(n,2*i+this._siblingOffset[x][0],2*d+this._siblingOffset[x][1],v,D+x)}}function Ky(c,n,i,d,g,h){return Pr(Pr(c,i,h),Pr(n,d,h),g)}function Ff(c,n,i){const d=i.dim,g=Vn(c*d-.5,0,d-1),h=Vn(n*d-.5,0,d-1),v=Math.floor(g),w=Math.floor(h),M=Math.min(v+1,d-1),D=Math.min(w+1,d-1);return Ky(i.get(v,w),i.get(M,w),i.get(v,D),i.get(M,D),g-v,h-w)}const g2={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};function A1(c,n,i){return(256*c*256+256*n+i)/10-1e4}function dS(c,n,i){return 256*c+n+i/256-32768}class J0{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(n,i,d,g=!1){if(this.uid=n,i.height!==i.width)throw new RangeError("DEM tiles must be square");if(d&&d!=="mapbox"&&d!=="terrarium")return void Ln(`"${d}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=i.height;const h=this.dim=i.height-2,v=new Uint32Array(i.data.buffer);if(this.pixels=new Uint8Array(i.data.buffer),this.floatView=new Float32Array(i.data.buffer),this.borderReady=g,this._modifiedForSources={},!g){for(let M=0;M<h;M++)v[this._idx(-1,M)]=v[this._idx(0,M)],v[this._idx(h,M)]=v[this._idx(h-1,M)],v[this._idx(M,-1)]=v[this._idx(M,0)],v[this._idx(M,h)]=v[this._idx(M,h-1)];v[this._idx(-1,-1)]=v[this._idx(0,0)],v[this._idx(h,-1)]=v[this._idx(h-1,0)],v[this._idx(-1,h)]=v[this._idx(0,h-1)],v[this._idx(h,h)]=v[this._idx(h-1,h-1)]}const w=d==="terrarium"?dS:A1;for(let M=0;M<v.length;++M){const D=4*M;this.floatView[M]=w(this.pixels[D],this.pixels[D+1],this.pixels[D+2])}this._timestamp=Je.now()}_buildQuadTree(){this._tree=new Xy(this)}get(n,i,d=!1){d&&(n=Vn(n,-1,this.dim),i=Vn(i,-1,this.dim));const g=this._idx(n,i);return this.floatView[g]}set(n,i,d){const g=this._idx(n,i),h=this.floatView[g];return this.floatView[g]=d,d-h}static getUnpackVector(n){return g2[n]}_idx(n,i){if(n<-1||n>=this.dim+1||i<-1||i>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(i+1)*this.stride+(n+1)}static pack(n,i){const d=[0,0,0,0],g=J0.getUnpackVector(i);let h=Math.floor((n+g[3])/g[2]);return d[2]=h%256,h=Math.floor(h/256),d[1]=h%256,h=Math.floor(h/256),d[0]=h,d}getPixels(){return new kb({width:this.stride,height:this.stride},this.pixels)}backfillBorder(n,i,d){if(this.dim!==n.dim)throw new Error("dem dimension mismatch");let g=i*this.dim,h=i*this.dim+this.dim,v=d*this.dim,w=d*this.dim+this.dim;switch(i){case-1:g=h-1;break;case 1:h=g+1}switch(d){case-1:v=w-1;break;case 1:w=v+1}const M=-i*this.dim,D=-d*this.dim;for(let x=v;x<w;x++)for(let P=g;P<h;P++){const $=4*this._idx(P,x),T=4*this._idx(P+M,x+D);this.pixels[$+0]=n.pixels[T+0],this.pixels[$+1]=n.pixels[T+1],this.pixels[$+2]=n.pixels[T+2],this.pixels[$+3]=n.pixels[T+3]}}onDeserialize(){this._tree&&(this._tree.dem=this)}}function fS(c,n,i){c===1?n.headerLength=i.readFixed32():c===2?n.x=i.readVarint():c===3?n.y=i.readVarint():c===4?n.z=i.readVarint():c===5&&n.layers.push(function(d,g){return d.readFields(vS,{version:0,name:"",units:"",tileSize:0,buffer:0,pixelFormat:0,dataIndex:[]},g)}(i,i.readVarint()+i.pos))}function hS(c,n,i){c===1?(n.delta_filter=function(d,g){return d.readFields(mS,{blockSize:0},g)}(i,i.readVarint()+i.pos),n.filter="delta_filter"):c===2?(i.readVarint(),n.filter="zigzag_filter"):c===3?(i.readVarint(),n.filter="bitshuffle_filter"):c===4&&(i.readVarint(),n.filter="byteshuffle_filter")}function mS(c,n,i){c===1&&(n.blockSize=i.readVarint())}function pS(c,n,i){c===1?(i.readVarint(),n.codec="gzip_data"):c===2?(i.readVarint(),n.codec="jpeg_image"):c===3?(i.readVarint(),n.codec="webp_image"):c===4&&(i.readVarint(),n.codec="png_image")}function gS(c,n,i){let d=0,g=0;c===1?n.firstByte=i.readFixed64():c===2?n.lastByte=i.readFixed64():c===3?n.filters.push(function(h,v){return h.readFields(hS,{},v)}(i,i.readVarint()+i.pos)):c===4?n.codec=function(h,v){return h.readFields(pS,{},v)}(i,i.readVarint()+i.pos):c===5?g=i.readFloat():c===6?d=i.readFloat():c===7?n.bands.push(i.readString()):c===8?n.offset=i.readDouble():c===9&&(n.scale=i.readDouble()),n.offset===0&&(n.offset=g),n.scale===0&&(n.scale=d)}function vS(c,n,i){c===1?n.version=i.readVarint():c===2?n.name=i.readString():c===3?n.units=i.readString():c===4?n.tileSize=i.readVarint():c===5?n.buffer=i.readVarint():c===6?n.pixelFormat=i.readVarint():c===7&&n.dataIndex.push(function(d,g){return d.readFields(gS,{firstByte:0,lastByte:0,filters:[],codec:null,offset:0,scale:0,bands:[]},g)}(i,i.readVarint()+i.pos))}function yS(c,n,i){if(c===2)(function(d,g,h){d.readFields(bS,h,g)})(i,i.readVarint()+i.pos,n);else if(c===3)throw new Error("Not implemented")}function bS(c,n,i){if(c===1){let d=0;const g=i.readVarint()+i.pos;for(;i.pos<g;)n[d++]=i.readVarint()}}function kf(c,n){if(n.length!==4)throw new Error(`Expected data of dimension 4 but got ${n.length}.`);let i=n[3];for(let d=2;d>=1;d--){const g=d===1?1:0,h=d===2?1:0;for(let v=0;v<n[0];v++){const w=n[1]*v;for(let M=g;M<n[1];M++){const D=n[2]*(M+w);for(let x=h;x<n[2];x++){const P=n[3]*(x+D);for(let $=0;$<n[3];$++){const T=P+$;c[T]+=c[T-i]}}}}i*=n[d]}return c}function D1(c){for(let n=0,i=c.length;n<i;n++)c[n]=c[n]>>>1^-(1&c[n]);return c}function _S(c,n){switch(n){case"uint32":return c;case"uint16":for(let i=0;i<c.length;i+=2){const d=c[i],g=c[i+1];c[i]=(240&d)>>4|(61440&d)>>8|(240&g)<<4|61440&g,c[i+1]=15&d|(3840&d)>>4|(15&g)<<8|(3840&g)<<4}return c;case"uint8":for(let i=0;i<c.length;i+=4){const d=c[i],g=c[i+1],h=c[i+2],v=c[i+3];c[i+0]=(192&d)>>6|(192&g)>>4|(192&h)>>2|192&v,c[i+1]=(48&d)>>4|(48&g)>>2|48&h|(48&v)<<2,c[i+2]=(12&d)>>2|12&g|(12&h)<<2|(12&v)<<4,c[i+3]=3&d|(3&g)<<2|(3&h)<<4|(3&v)<<6}return c;default:throw new Error(`Invalid pixel format, "${n}"`)}}lo(J0,"DEMData"),lo(Xy,"DemMinMaxQuadTree",{omit:["dem"]});var Lu=Uint8Array,gg=Uint16Array,xS=Int32Array,CS=new Lu([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),z1=new Lu([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),qy=new Lu([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),L1=function(c,n){for(var i=new gg(31),d=0;d<31;++d)i[d]=n+=1<<c[d-1];var g=new xS(i[30]);for(d=1;d<30;++d)for(var h=i[d];h<i[d+1];++h)g[h]=h-i[d]<<5|d;return{b:i,r:g}},N1=L1(CS,2),B1=N1.b,SS=N1.r;B1[28]=258,SS[258]=28;for(var F1=L1(z1,0).b,k1=new gg(32768),wl=0;wl<32768;++wl){var jf=(43690&wl)>>1|(21845&wl)<<1;k1[wl]=((65280&(jf=(61680&(jf=(52428&jf)>>2|(13107&jf)<<2))>>4|(3855&jf)<<4))>>8|(255&jf)<<8)>>1}var Ed=function(c,n,i){for(var d=c.length,g=0,h=new gg(n);g<d;++g)c[g]&&++h[c[g]-1];var v,w=new gg(n);for(g=1;g<n;++g)w[g]=w[g-1]+h[g-1]<<1;v=new gg(1<<n);var M=15-n;for(g=0;g<d;++g)if(c[g])for(var D=g<<4|c[g],x=n-c[g],P=w[c[g]-1]++<<x,$=P|(1<<x)-1;P<=$;++P)v[k1[P]>>M]=D;return v},Zf=new Lu(288);for(wl=0;wl<144;++wl)Zf[wl]=8;for(wl=144;wl<256;++wl)Zf[wl]=9;for(wl=256;wl<280;++wl)Zf[wl]=7;for(wl=280;wl<288;++wl)Zf[wl]=8;var wS=new Lu(32);for(wl=0;wl<32;++wl)wS[wl]=5;var Yy=Ed(Zf,9),Jy=Ed(wS,5),Qy=function(c){for(var n=c[0],i=1;i<c.length;++i)c[i]>n&&(n=c[i]);return n},td=function(c,n,i){var d=n/8|0;return(c[d]|c[d+1]<<8)>>(7&n)&i},vg=function(c,n){var i=n/8|0;return(c[i]|c[i+1]<<8|c[i+2]<<16)>>(7&n)},eb=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Nu=function(c,n,i){var d=new Error(n||eb[c]);if(d.code=c,Error.captureStackTrace&&Error.captureStackTrace(d,Nu),!i)throw d;return d},Q0=new Lu(0),tb=typeof TextDecoder!="undefined"&&new TextDecoder;try{tb.decode(Q0,{stream:!0})}catch(c){}const ES={gzip_data:"gzip"};class Bu extends Error{constructor(n){super(n),this.name="MRTError"}}const IS={0:"uint32",1:"uint32",2:"uint16",3:"uint8"},j1={uint32:1,uint16:2,uint8:4},TS={uint32:Uint32Array,uint16:Uint16Array,uint8:Uint8Array};let nb;class rb{constructor(n=5){this.x=NaN,this.y=NaN,this.z=NaN,this.layers={},this._cacheSize=n}getLayer(n){const i=this.layers[n];if(!i)throw new Bu(`Layer '${n}' not found`);return i}getHeaderLength(n){const i=new Uint8Array(n),d=new DataView(n);if(i[0]!==13)throw new Bu("File is not a valid MRT.");return d.getUint32(1,!0)}parseHeader(n){const i=new Uint8Array(n),d=this.getHeaderLength(n);if(i.length<d)throw new Bu(`Expected header with length >= ${d} but got buffer of length ${i.length}`);const g=function(h,v){return h.readFields(fS,{headerLength:0,x:0,y:0,z:0,layers:[]},void 0)}(new nb(i.subarray(0,d)));if(!isNaN(this.x)&&(this.x!==g.x||this.y!==g.y||this.z!==g.z))throw new Bu(`Invalid attempt to parse header ${g.z}/${g.x}/${g.y} for tile ${this.z}/${this.x}/${this.y}`);this.x=g.x,this.y=g.y,this.z=g.z;for(const h of g.layers)this.layers[h.name]=new MS(h,{cacheSize:this._cacheSize});return this}createDecodingTask(n){const i=[],d=this.getLayer(n.layerName);for(let g of n.blockIndices){const h=d.dataIndex[g],v=h.firstByte-n.firstByte,w=h.lastByte-n.firstByte;if(d._blocksInProgress.has(g))continue;const M={layerName:d.name,firstByte:v,lastByte:w,pixelFormat:d.pixelFormat,blockIndex:g,blockShape:[h.bands.length].concat(d.bandShape),buffer:d.buffer,codec:h.codec.codec,filters:h.filters.map(D=>D.filter)};d._blocksInProgress.add(g),i.push(M)}return new ib(i,()=>{i.forEach(g=>d._blocksInProgress.delete(g.blockIndex))},(g,h)=>{if(i.forEach(v=>d._blocksInProgress.delete(v.blockIndex)),g)throw g;h.forEach(v=>{this.getLayer(v.layerName).processDecodedData(v)})})}}class MS{constructor({version:n,name:i,units:d,tileSize:g,pixelFormat:h,buffer:v,dataIndex:w},M){if(this.version=n,this.version!==1)throw new Bu(`Cannot parse raster layer encoded with MRT version ${n}`);this.name=i,this.units=d,this.tileSize=g,this.buffer=v,this.pixelFormat=IS[h],this.dataIndex=w,this.bandShape=[g+2*v,g+2*v,j1[this.pixelFormat]],this._decodedBlocks=new Wy(M?M.cacheSize:5),this._blocksInProgress=new Set}get dimension(){return j1[this.pixelFormat]}get cacheSize(){return this._decodedBlocks.capacity}getBandList(){return this.dataIndex.map(({bands:n})=>n).flat()}processDecodedData(n){const i=n.blockIndex.toString();this._decodedBlocks.get(i)||this._decodedBlocks.put(i,n.data)}getBlockForBand(n){let i=0;switch(typeof n){case"string":for(const[d,g]of this.dataIndex.entries()){for(const[h,v]of g.bands.entries())if(v===n)return{bandIndex:i+h,blockIndex:d,blockBandIndex:h};i+=g.bands.length}break;case"number":for(const[d,g]of this.dataIndex.entries()){if(n>=i&&n<i+g.bands.length)return{bandIndex:n,blockIndex:d,blockBandIndex:n-i};i+=g.bands.length}break;default:throw new Bu(`Invalid band \`${JSON.stringify(n)}\`. Expected string or integer.`)}throw new Bu(`Band not found: ${JSON.stringify(n)}`)}getDataRange(n){let i=1/0,d=-1/0;const g=[],h=new Set;for(const v of n){const{blockIndex:w}=this.getBlockForBand(v);if(w<0)throw new Bu(`Invalid band: ${JSON.stringify(v)}`);const M=this.dataIndex[w];g.includes(w)||g.push(w),h.add(w),i=Math.min(i,M.firstByte),d=Math.max(d,M.lastByte)}if(h.size>this.cacheSize)throw new Bu(`Number of blocks to decode (${h.size}) exceeds cache size (${this.cacheSize}).`);return{layerName:this.name,firstByte:i,lastByte:d,blockIndices:g}}hasBand(n){const{blockIndex:i}=this.getBlockForBand(n);return i>=0}hasDataForBand(n){const{blockIndex:i}=this.getBlockForBand(n);return i>=0&&!!this._decodedBlocks.get(i.toString())}getBandView(n){const{blockIndex:i,blockBandIndex:d}=this.getBlockForBand(n),g=this._decodedBlocks.get(i.toString());if(!g)throw new Bu(`Data for band ${JSON.stringify(n)} of layer "${this.name}" not decoded.`);const h=this.dataIndex[i],v=this.bandShape.reduce((D,x)=>D*x,1),w=d*v,M=g.subarray(w,w+v);return{data:M,bytes:new Uint8Array(M.buffer).subarray(M.byteOffset,M.byteOffset+M.byteLength),tileSize:this.tileSize,buffer:this.buffer,pixelFormat:this.pixelFormat,dimension:this.dimension,offset:h.offset,scale:h.scale}}}rb.setPbf=function(c){nb=c};class ib{constructor(n,i,d){this.tasks=n,this._onCancel=i,this._onComplete=d,this._finalized=!1}cancel(){this._finalized||(this._onCancel(),this._finalized=!0)}complete(n,i){this._finalized||(this._onComplete(n,i),this._finalized=!0)}}rb.performDecoding=function(c,n){const i=new Uint8Array(c);return Promise.all(n.tasks.map(d=>{const{layerName:g,firstByte:h,lastByte:v,pixelFormat:w,blockShape:M,blockIndex:D,filters:x,codec:P}=d,$=i.subarray(h,v+1),T=new Uint32Array(M[0]*M[1]*M[2]);let O;if(P!=="gzip_data")throw new Bu(`Unhandled codec: ${P}`);return O=function(N,G){if(!globalThis.DecompressionStream&&G==="gzip_data")return Promise.resolve(((te=function(Re){Re[0]==31&&Re[1]==139&&Re[2]==8||Nu(6,"invalid gzip data");var it=Re[3],nt=10;4&it&&(nt+=2+(Re[10]|Re[11]<<8));for(var et=(it>>3&1)+(it>>4&1);et>0;et-=!Re[nt++]);return nt+(2&it)}(ce=N))+8>ce.length&&Nu(6,"invalid gzip data"),function(Re,it,nt,et){var Lt=Re.length;if(!Lt||it.f&&!it.l)return nt||new Lu(0);var ut=!nt,Zt=ut||it.i!=2,on=it.i;ut&&(nt=new Lu(3*Lt));var Wt,cn,wn=function(Wf){var Gf=nt.length;if(Wf>Gf){var ep=new Lu(Math.max(2*Gf,Wf));ep.set(nt),nt=ep}},Nn=it.f||0,vn=it.p||0,xr=it.b||0,Hr=it.l,_r=it.d,Bi=it.m,Mi=it.n,di=8*Lt;do{if(!Hr){Nn=td(Re,vn,1);var Wr=td(Re,vn+1,3);if(vn+=3,!Wr){var bo=Re[(_a=4+((vn+7)/8|0))-4]|Re[_a-3]<<8,ji=_a+bo;if(ji>Lt){on&&Nu(0);break}Zt&&wn(xr+bo),nt.set(Re.subarray(_a,ji),xr),it.b=xr+=bo,it.p=vn=8*ji,it.f=Nn;continue}if(Wr==1)Hr=Yy,_r=Jy,Bi=9,Mi=5;else if(Wr==2){var Qi=td(Re,vn,31)+257,ia=td(Re,vn+10,15)+4,Aa=Qi+td(Re,vn+5,31)+1;vn+=14;for(var Na=new Lu(Aa),Ba=new Lu(19),ts=0;ts<ia;++ts)Ba[qy[ts]]=td(Re,vn+3*ts,7);vn+=3*ia;var ns=Qy(Ba),As=(1<<ns)-1,Rs=Ed(Ba,ns);for(ts=0;ts<Aa;){var _a,Ya=Rs[td(Re,vn,As)];if(vn+=15&Ya,(_a=Ya>>4)<16)Na[ts++]=_a;else{var bs=0,Gs=0;for(_a==16?(Gs=3+td(Re,vn,3),vn+=2,bs=Na[ts-1]):_a==17?(Gs=3+td(Re,vn,7),vn+=3):_a==18&&(Gs=11+td(Re,vn,127),vn+=7);Gs--;)Na[ts++]=bs}}var bl=Na.subarray(0,Qi),El=Na.subarray(Qi);Bi=Qy(bl),Mi=Qy(El),Hr=Ed(bl,Bi),_r=Ed(El,Mi)}else Nu(1);if(vn>di){on&&Nu(0);break}}Zt&&wn(xr+131072);for(var _l=(1<<Bi)-1,hl=(1<<Mi)-1,Il=vn;;Il=vn){var Ll=(bs=Hr[vg(Re,vn)&_l])>>4;if((vn+=15&bs)>di){on&&Nu(0);break}if(bs||Nu(2),Ll<256)nt[xr++]=Ll;else{if(Ll==256){Il=vn,Hr=null;break}var Mc=Ll-254;Ll>264&&(Mc=td(Re,vn,(1<<(uu=CS[ts=Ll-257]))-1)+B1[ts],vn+=uu);var Us=_r[vg(Re,vn)&hl],eu=Us>>4;if(Us||Nu(3),vn+=15&Us,El=F1[eu],eu>3){var uu=z1[eu];El+=vg(Re,vn)&(1<<uu)-1,vn+=uu}if(vn>di){on&&Nu(0);break}Zt&&wn(xr+131072);var Su=xr+Mc;if(xr<El){var nd=0-El,Uf=Math.min(El,Su);for(nd+xr<0&&Nu(3);xr<Uf;++xr)nt[xr]=(void 0)[nd+xr]}for(;xr<Su;++xr)nt[xr]=nt[xr-El]}}it.l=Hr,it.p=Il,it.b=xr,it.f=Nn,Hr&&(Nn=1,it.m=Bi,it.d=_r,it.n=Mi)}while(!Nn);return xr!=nt.length&&ut?(Wt=nt,((cn=xr)==null||cn>Wt.length)&&(cn=Wt.length),new Lu(Wt.subarray(0,cn))):nt.subarray(0,xr)}(ce.subarray(te,-8),{i:2},new Lu(((q=ce)[(se=q.length)-4]|q[se-3]<<8|q[se-2]<<16|q[se-1]<<24)>>>0))));var q,se,ce,te;const pe=ES[G];if(!pe)throw new Error(`Unhandled codec: ${G}`);const Ce=new globalThis.DecompressionStream(pe);return new Response(new Blob([N]).stream().pipeThrough(Ce)).arrayBuffer().then(Re=>new Uint8Array(Re))}($,P).then(N=>(function(G,q){G.readFields(yS,q)}(new nb(N),T),new TS[w](T.buffer))),O.then(N=>{for(let G=x.length-1;G>=0;G--)switch(x[G]){case"delta_filter":kf(N,M);break;case"zigzag_filter":D1(N);break;case"bitshuffle_filter":_S(N,w);break;default:throw new Bu(`Unhandled filter "${x[G]}"`)}return{layerName:g,blockIndex:D,data:N}}).catch(N=>{throw N})}))},lo(ib,"MRTDecodingBatch",{omit:["_onCancel","_onComplete"]});let Jm,yg,Qc,Gh,Xh,cu=null;function bg(){return po()&&self.worker&&self.worker.dracoUrl?self.worker.dracoUrl:yg||ii.DRACO_URL}function Z1(){if(po()&&self.worker&&self.worker.meshoptUrl)return self.worker.meshoptUrl;if(Gh)return Gh;const c=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]);if(typeof WebAssembly!="object")throw new Error("WebAssembly not supported, cannot instantiate meshoptimizer");return Gh=WebAssembly.validate(c)?ii.MESHOPT_SIMD_URL:ii.MESHOPT_URL,Gh}const ev={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},PS={5120:"DT_INT8",5121:"DT_UINT8",5122:"DT_INT16",5123:"DT_UINT16",5125:"DT_UINT32",5126:"DT_FLOAT32"},_g={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16};function ob(c,n,i){const d=i.json.bufferViews.length,g=i.buffers.length;n.bufferView=d,i.json.bufferViews[d]={buffer:g,byteLength:c.byteLength},i.buffers[g]=c}const ab="KHR_draco_mesh_compression";function OS(c,n){const i=c.extensions&&c.extensions[ab];if(!i)return;const d=new Qc.Decoder,g=U1(n,i.bufferView),h=new Qc.Mesh;if(!d.DecodeArrayToMesh(g,g.byteLength,h))throw new Error("Failed to decode Draco mesh");const v=n.json.accessors[c.indices],w=ev[v.componentType],M=v.count*w.BYTES_PER_ELEMENT,D=Qc._malloc(M);w===Uint16Array?d.GetTrianglesUInt16Array(h,M,D):d.GetTrianglesUInt32Array(h,M,D),ob(Qc.memory.buffer.slice(D,D+M),v,n),Qc._free(D);for(const x of Object.keys(i.attributes)){const P=d.GetAttributeByUniqueId(h,i.attributes[x]),$=n.json.accessors[c.attributes[x]],T=PS[$.componentType],O=$.count*_g[$.type]*ev[$.componentType].BYTES_PER_ELEMENT,N=Qc._malloc(O);d.GetAttributeDataArrayForAllPoints(h,P,Qc[T],O,N),ob(Qc.memory.buffer.slice(N,N+O),$,n),Qc._free(N)}d.destroy(),h.destroy(),delete c.extensions[ab]}const tv="EXT_meshopt_compression";function sb(c,n){if(!c.extensions||!c.extensions[tv])return;const i=c.extensions[tv],d=new Uint8Array(n.buffers[i.buffer],i.byteOffset||0,i.byteLength||0),g=new Uint8Array(i.count*i.byteStride);Xh.decodeGltfBuffer(g,i.count,i.byteStride,d,i.mode,i.filter),c.buffer=n.buffers.length,c.byteOffset=0,n.buffers[c.buffer]=g.buffer,delete c.extensions[tv]}const V1=1179937895,nv=new TextDecoder("utf8");function H1(c,n){return new URL(c,n).href}function RS(c,n,i,d){return fetch(H1(c.uri,d)).then(g=>g.arrayBuffer()).then(g=>{n.buffers[i]=g})}function U1(c,n){const i=c.json.bufferViews[n];return new Uint8Array(c.buffers[i.buffer],i.byteOffset||0,i.byteLength)}function $S(c,n,i,d){if(c.uri){const g=H1(c.uri,d);return fetch(g).then(h=>h.blob()).then(h=>createImageBitmap(h)).then(h=>{n.images[i]=h})}if(c.bufferView!==void 0){const g=U1(n,c.bufferView),h=new Blob([g],{type:c.mimeType});return createImageBitmap(h).then(v=>{n.images[i]=v})}}function W1(c,n=0,i){const d={json:null,images:[],buffers:[]};if(new Uint32Array(c,n,1)[0]===V1){const x=new Uint32Array(c,n);let P=2;const $=(x[P++]>>2)-3,T=x[P++]>>2;if(P++,d.json=JSON.parse(nv.decode(x.subarray(P,P+T))),P+=T,P<$){const O=x[P++];P++;const N=n+(P<<2);d.buffers[0]=c.slice(N,N+O)}}else d.json=JSON.parse(nv.decode(new Uint8Array(c,n)));const{buffers:g,images:h,meshes:v,extensionsUsed:w,bufferViews:M}=d.json;let D=Promise.resolve();if(g){const x=[];for(let P=0;P<g.length;P++){const $=g[P];$.uri?x.push(RS($,d,P,i)):d.buffers[P]||(d.buffers[P]=null)}D=Promise.all(x)}return D.then(()=>{const x=[],P=w&&w.includes(ab),$=w&&w.includes(tv);if(P&&x.push(function(){if(!Qc)return Jm!=null?Jm:(Jm=function(T){let O,N=null;function G(){O=new Uint8Array(N.buffer)}function q(){throw new Error("Unexpected Draco error.")}const se={a:{a:q,d:function(ce,te,pe){return O.copyWithin(ce,te,te+pe)},c:function(ce){const te=O.length,pe=Math.max(ce>>>0,Math.ceil(1.2*te)),Ce=Math.ceil((pe-te)/65536);try{return N.grow(Ce),G(),!0}catch(Re){return!1}},b:q}};return(WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(T,se):T.then(ce=>ce.arrayBuffer()).then(ce=>WebAssembly.instantiate(ce,se))).then(ce=>{const{Rb:te,Qb:pe,P:Ce,T:Re,X:it,Ja:nt,La:et,Qa:Lt,Va:ut,Wa:Zt,eb:on,jb:Wt,f:cn,e:wn,yb:Nn,zb:vn,Ab:xr,Bb:Hr,Db:_r,Gb:Bi}=ce.instance.exports;N=wn;const Mi=(()=>{let di=0,Wr=0,bo=0,ji=0;return Qi=>{bo&&(te(ji),te(di),Wr+=bo,bo=di=0),di||(Wr+=128,di=pe(Wr));const ia=Qi.length+7&-8;let Aa=di;ia>=Wr&&(bo=ia,Aa=ji=pe(ia));for(let Na=0;Na<Qi.length;Na++)O[Aa+Na]=Qi[Na];return Aa}})();return G(),cn(),{memory:wn,_free:te,_malloc:pe,Mesh:class{constructor(){this.ptr=Ce()}destroy(){Re(this.ptr)}},Decoder:class{constructor(){this.ptr=nt()}destroy(){Wt(this.ptr)}DecodeArrayToMesh(di,Wr,bo){const ji=Mi(di),Qi=et(this.ptr,ji,Wr,bo.ptr);return!!it(Qi)}GetAttributeByUniqueId(di,Wr){return{ptr:Lt(this.ptr,di.ptr,Wr)}}GetTrianglesUInt16Array(di,Wr,bo){ut(this.ptr,di.ptr,Wr,bo)}GetTrianglesUInt32Array(di,Wr,bo){Zt(this.ptr,di.ptr,Wr,bo)}GetAttributeDataArrayForAllPoints(di,Wr,bo,ji,Qi){on(this.ptr,di.ptr,Wr.ptr,bo,ji,Qi)}},DT_INT8:Nn(),DT_UINT8:vn(),DT_INT16:xr(),DT_UINT16:Hr(),DT_UINT32:_r(),DT_FLOAT32:Bi()}})}(fetch(bg())),Jm.then(T=>{Qc=T,Jm=void 0}))}()),$&&x.push(function(){if(Xh)return;const T=function(O){let N;const G=WebAssembly.instantiateStreaming(O,{}).then(ce=>{N=ce.instance,N.exports.__wasm_call_ctors()}),q={NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},se={ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return{ready:G,supported:!0,decodeGltfBuffer(ce,te,pe,Ce,Re,it){(function(nt,et,Lt,ut,Zt,on,Wt){const cn=nt.exports.sbrk,wn=ut+3&-4,Nn=cn(wn*Zt),vn=cn(on.length),xr=new Uint8Array(nt.exports.memory.buffer);xr.set(on,vn);const Hr=et(Nn,ut,Zt,vn,on.length);if(Hr===0&&Wt&&Wt(Nn,wn,Zt),Lt.set(xr.subarray(Nn,Nn+ut*Zt)),cn(Nn-cn(0)),Hr!==0)throw new Error(`Malformed buffer data: ${Hr}`)})(N,N.exports[se[Re]],ce,te,pe,Ce,N.exports[q[it]])}}}(fetch(Z1()));return T.ready.then(()=>{Xh=T})}()),h)for(let T=0;T<h.length;T++)x.push($S(h[T],d,T,i));return(x.length?Promise.all(x):Promise.resolve()).then(()=>{if(P&&v)for(const{primitives:T}of v)for(const O of T)OS(O,d);if($&&v&&M)for(const T of M)sb(T,d);return d})})}function Vf(c,n){const i=c.json.bufferViews[n.bufferView],d=ev[n.componentType];return new d(c.buffers[i.buffer],(n.byteOffset||0)+(i.byteOffset||0),n.count*(i.byteStride&&i.byteStride!==_g[n.type]*d.BYTES_PER_ELEMENT?i.byteStride/d.BYTES_PER_ELEMENT:_g[n.type]))}function lb(c,n,i,d){const g=ev[n.componentType],h=function(x){switch(x){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:return 1}}(g),v=c.json.bufferViews[n.bufferView],w=v.byteStride?v.byteStride/g.BYTES_PER_ELEMENT:_g[n.type],M=i.float32,D=M.length/i.capacity;for(let x=0,P=0;x<n.count*w;x+=w,P+=D)for(let $=0;$<D;$++)M[P+$]=d[x+$]*h;i._trim()}function AS(c,n,i){const d=c.indices,g=c.attributes,h={};h.indexArray=new oc;const v=n.json.accessors[d],w=v.count/3;h.indexArray.reserve(w);const M=Vf(n,v);for(let $=0;$<w;$++)h.indexArray.emplaceBack(M[3*$],M[3*$+1],M[3*$+2]);h.indexArray._trim(),h.vertexArray=new Mu;const D=n.json.accessors[g.POSITION];h.vertexArray.reserve(D.count);const x=Vf(n,D);for(let $=0;$<D.count;$++)h.vertexArray.emplaceBack(x[3*$],x[3*$+1],x[3*$+2]);if(h.vertexArray._trim(),h.aabb=new xo(D.min,D.max),h.centroid=function($,T){const O=[0,0,0],N=$.length;if(N>0){for(let G=0;G<N;G++){const q=3*$[G];O[0]+=T[q],O[1]+=T[q+1],O[2]+=T[q+2]}O[0]/=N,O[1]/=N,O[2]/=N}return O}(M,x),g.COLOR_0!==void 0){const $=n.json.accessors[g.COLOR_0],T=_g[$.type],O=Vf(n,$);h.colorArray=T===3?new Mu:new Bd,h.colorArray.resize($.count),lb(n,$,h.colorArray,O)}if(g.NORMAL!==void 0){h.normalArray=new Mu;const $=n.json.accessors[g.NORMAL];h.normalArray.resize($.count);const T=Vf(n,$);lb(n,$,h.normalArray,T)}if(g.TEXCOORD_0!==void 0&&i.length>0){h.texcoordArray=new vf;const $=n.json.accessors[g.TEXCOORD_0];h.texcoordArray.resize($.count);const T=Vf(n,$);lb(n,$,h.texcoordArray,T)}if(g._FEATURE_ID_RGBA4444!==void 0){const $=n.json.accessors[g._FEATURE_ID_RGBA4444];n.json.extensionsUsed&&n.json.extensionsUsed.includes("EXT_meshopt_compression")&&(h.featureData=Vf(n,$))}g._FEATURE_RGBA4444!==void 0&&(h.featureData=new Uint32Array(Vf(n,n.json.accessors[g._FEATURE_RGBA4444]).buffer));const P=c.material;return h.material=function($,T){const{emissiveFactor:O=[0,0,0],alphaMode:N="OPAQUE",alphaCutoff:G=.5,normalTexture:q,occlusionTexture:se,emissiveTexture:ce,doubleSided:te}=$,{baseColorFactor:pe=[1,1,1,1],metallicFactor:Ce=1,roughnessFactor:Re=1,baseColorTexture:it,metallicRoughnessTexture:nt}=$.pbrMetallicRoughness||{},et=se?T[se.index]:void 0;if(se&&se.extensions&&se.extensions.KHR_texture_transform&&et){const Lt=se.extensions.KHR_texture_transform;et.offsetScale=[Lt.offset[0],Lt.offset[1],Lt.scale[0],Lt.scale[1]]}return{pbrMetallicRoughness:{baseColorFactor:new to(...pe),metallicFactor:Ce,roughnessFactor:Re,baseColorTexture:it?T[it.index]:void 0,metallicRoughnessTexture:nt?T[nt.index]:void 0},doubleSided:te,emissiveFactor:O,alphaMode:N,alphaCutoff:G,normalTexture:q?T[q.index]:void 0,occlusionTexture:et,emissionTexture:ce?T[ce.index]:void 0,defined:$.defined===void 0}}(P!==void 0?n.json.materials[P]:{defined:!1},i),h}function G1(c,n,i){const{matrix:d,rotation:g,translation:h,scale:v,mesh:w,extras:M,children:D}=c,x={};if(x.matrix=d||$e.mat4.fromRotationTranslationScale([],g||[0,0,0,1],h||[0,0,0],v||[1,1,1]),w!==void 0){x.meshes=i[w];const P=x.anchor=[0,0];for(const $ of x.meshes){const{min:T,max:O}=$.aabb;P[0]+=T[0]+O[0],P[1]+=T[1]+O[1]}P[0]=Math.floor(P[0]/x.meshes.length/2),P[1]=Math.floor(P[1]/x.meshes.length/2)}if(M&&(M.id&&(x.id=M.id),M.lights&&(x.lights=function(P){if(!P.length)return[];const $=function(q){const se=atob(q),ce=new Uint8Array(se.length);for(let te=0;te<se.length;te++)ce[te]=se.codePointAt(te);return ce}(P),T=[],O=$.length/24,N=new Uint16Array($.buffer),G=new Float32Array($.buffer);for(let q=0;q<O;q++){const se=N[2*q*6]/30,ce=N[2*q*6+1]/30,te=N[2*q*6+10]/100,pe=G[6*q+1],Ce=G[6*q+2],Re=G[6*q+3],it=G[6*q+4],nt=Re-pe,et=it-Ce,Lt=Math.hypot(nt,et);T.push({pos:[pe+.5*nt,Ce+.5*et,ce],normal:[et/Lt,-nt/Lt,0],width:Lt,height:se,depth:te,points:[pe,Ce,Re,it]})}return T}(M.lights))),D){const P=[];for(const $ of D)P.push(G1(n.json.nodes[$],n,i));x.children=P}return x}function DS(c){if(c.vertices.length===0||c.indices.length===0)return null;const n=new Gb(c.vertices,c.indices,8,256),[i,d]=[n.min.clone(),n.max.clone()];return{vertices:c.vertices,indices:c.indices,grid:n,min:i,max:d}}function zS(c){if(!c.extras||!c.extras.ground)return null;const n=c.extras.ground;if(!n||!Array.isArray(n)||n.length===0)return null;const i=n[0];if(!i||!Array.isArray(i)||i.length===0)return null;const d=[];for(const v of i){if(!Array.isArray(v)||v.length!==2)continue;const w=v[0],M=v[1];typeof w=="number"&&typeof M=="number"&&d.push(new Sn(w,M))}if(d.length<3)return null;d.length>1&&d[d.length-1].equals(d[0])&&d.pop();let g=0;for(let v=0;v<d.length;v++){const w=d[v],M=d[(v+1)%d.length],D=d[(v+2)%d.length];g+=(w.x-M.x)*(D.y-M.y)-(D.x-M.x)*(w.y-M.y)}g>0&&d.reverse();const h=Bp(d.flatMap(v=>[v.x,v.y]),[]);return h.length===0?null:{vertices:d,indices:h}}function LS(c,n){const i=[],d=[];let g=0;const h=[];for(const v of c){g=i.length;const w=v.vertexArray.float32,M=v.indexArray.uint16;for(let D=0;D<v.vertexArray.length;D++)h[0]=w[3*D+0],h[1]=w[3*D+1],h[2]=w[3*D+2],$e.vec3.transformMat4(h,h,n),i.push(new Sn(h[0],h[1]));for(let D=0;D<3*v.indexArray.length;D++)d.push(M[D]+g)}if(d.length%3!=0)return null;for(let v=0;v<d.length;v+=3){const w=i[d[v+0]],M=i[d[v+1]],D=i[d[v+2]];(w.x-M.x)*(D.y-M.y)-(D.x-M.x)*(w.y-M.y)>0&&([d[v+1],d[v+2]]=[d[v+2],d[v+1]])}return{vertices:i,indices:d}}function X1(c){const n=function(M,D){const x=[],P=WebGL2RenderingContext;if(M.json.textures)for(const $ of M.json.textures){const T={magFilter:P.LINEAR,minFilter:P.NEAREST,wrapS:P.REPEAT,wrapT:P.REPEAT};$.sampler!==void 0&&Object.assign(T,M.json.samplers[$.sampler]),x.push({image:D[$.source],sampler:T,uploaded:!1})}return x}(c,c.images),i=function(M,D){const x=[];for(const P of M.json.meshes){const $=[];for(const T of P.primitives)$.push(AS(T,M,D));x.push($)}return x}(c,n),{scenes:d,scene:g,nodes:h}=c.json,v=d?d[g||0].nodes:h,w=[];for(const M of v)w.push(G1(h[M],c,i));return function(M,D,x){const P={},$=new Set;for(let T=0;T<M.length;T++){const O=x[D[T]];if(!O.extras)continue;const N=O.extras["mapbox:footprint:version"],G=O.extras["mapbox:footprint:id"];(N||G)&&$.add(T),N==="1.0.0"&&G&&(P[G]=T)}for(let T=0;T<M.length;T++){if($.has(T))continue;const O=M[T],N=x[D[T]];if(!N.extras)continue;let G=null;O.id in P&&(G=LS(M[P[O.id]].meshes,O.matrix)),G||(G=zS(N)),G&&(O.footprint=DS(G))}if($.size>0){const T=Array.from($.values()).sort((O,N)=>O-N);for(let O=T.length-1;O>=0;O--)M.splice(T[O],1)}}(w,v,c.json.nodes),w}function cb(c){c.heightmap=new Float32Array(4096),c.heightmap.fill(-1);const n=c.vertexArray.float32,i=c.aabb.min[0]-1,d=c.aabb.min[1]-1,g=Hh/(c.aabb.max[0]-i+2),h=Hh/(c.aabb.max[1]-d+2);for(let v=0;v<n.length;v+=3){const w=n[v+2],M=(n[v+0]-i)*g|0,D=(n[v+1]-d)*h|0;w>c.heightmap[D*Hh+M]&&(c.heightmap[D*Hh+M]=w)}}function NS(c,n){const i={};i.indexArray=new oc,i.indexArray.reserve(4*c.length),i.vertexArray=new Mu,i.vertexArray.reserve(10*c.length),i.colorArray=new Bd,i.vertexArray.reserve(10*c.length);let d=0;for(const v of c){const w=Math.min(10,Math.max(4,1.3*v.height))*n,M=[-v.normal[1],v.normal[0],0],D=Math.min(.29,.1*v.width/v.depth),x=v.width-2*v.depth*n*(D+.01),P=$e.vec3.scaleAndAdd([],v.pos,M,x/2),$=$e.vec3.scaleAndAdd([],v.pos,M,-x/2),T=[P[0],P[1],P[2]+v.height],O=[$[0],$[1],$[2]+v.height],N=$e.vec3.scaleAndAdd([],v.normal,M,D);$e.vec3.scale(N,N,w);const G=$e.vec3.scaleAndAdd([],v.normal,M,-D);$e.vec3.scale(G,G,w),$e.vec3.add(N,P,N),$e.vec3.add(G,$,G),P[2]+=.1,$[2]+=.1,i.vertexArray.emplaceBack(N[0],N[1],N[2]),i.vertexArray.emplaceBack(G[0],G[1],G[2]),i.vertexArray.emplaceBack(P[0],P[1],P[2]),i.vertexArray.emplaceBack($[0],$[1],$[2]),i.vertexArray.emplaceBack(T[0],T[1],T[2]),i.vertexArray.emplaceBack(O[0],O[1],O[2]),i.vertexArray.emplaceBack(P[0],P[1],P[2]),i.vertexArray.emplaceBack($[0],$[1],$[2]),i.vertexArray.emplaceBack(N[0],N[1],N[2]),i.vertexArray.emplaceBack(G[0],G[1],G[2]);const q=x/w/2;i.colorArray.emplaceBack(-q-D,-1,q,.8),i.colorArray.emplaceBack(q+D,-1,q,.8),i.colorArray.emplaceBack(-q,0,q,1.3),i.colorArray.emplaceBack(q,0,q,1.3),i.colorArray.emplaceBack(q+D,-.8,q,.7),i.colorArray.emplaceBack(q+D,-.8,q,.7),i.colorArray.emplaceBack(0,0,q,1.3),i.colorArray.emplaceBack(0,0,q,1.3),i.colorArray.emplaceBack(q+D,-1.2,q,.8),i.colorArray.emplaceBack(q+D,-1.2,q,.8),i.indexArray.emplaceBack(6+d,4+d,8+d),i.indexArray.emplaceBack(7+d,9+d,5+d),i.indexArray.emplaceBack(0+d,1+d,2+d),i.indexArray.emplaceBack(1+d,3+d,2+d),d+=10}const g={defined:!0,emissiveFactor:[0,0,0]},h={};return h.baseColorFactor=to.white,g.pbrMetallicRoughness=h,i.material=g,i.aabb=new xo([1/0,1/0,1/0],[-1/0,-1/0,-1/0]),i}class K1{constructor(n){this._stringToNumber={},this._numberToString=[];for(let i=0;i<n.length;i++){const d=n[i];this._stringToNumber[d]=i,this._numberToString[i]=d}}encode(n){return this._stringToNumber[n]}decode(n){return this._numberToString[n]}}const BS=["id","tile","layer","source","sourceLayer","state"];class Hf{constructor(n,i,d,g,h){this.type="Feature",this._vectorTileFeature=n,this._z=i,this._x=d,this._y=g,this.properties=n.properties,this.id=h}clone(){const n=new Hf(this._vectorTileFeature,this._z,this._x,this._y,this.id);return this.state&&(n.state=Object.assign({},this.state)),this.layer&&(n.layer=Object.assign({},this.layer)),this.source&&(n.source=this.source),this.sourceLayer&&(n.sourceLayer=this.sourceLayer),n}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry}set geometry(n){this._geometry=n}toJSON(){const n={type:"Feature",state:void 0,geometry:this.geometry,properties:this.properties};for(const i of BS)this[i]!==void 0&&(n[i]=this[i]);return n}}class q1{constructor(n,i){this.tileID=n,this.x=n.canonical.x,this.y=n.canonical.y,this.z=n.canonical.z,this.grid=new Uu(Ei,16,0),this.featureIndexArray=new Sh,this.promoteId=i,this.is3DTile=!1,this.serializedLayersCache=new Map}insert(n,i,d,g,h,v=0,w=0){const M=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(d,g,h,v);const D=this.grid;for(let x=0;x<i.length;x++){const P=i[x],$=[1/0,1/0,-1/0,-1/0];for(let T=0;T<P.length;T++){const O=P[T];$[0]=Math.min($[0],O.x),$[1]=Math.min($[1],O.y),$[2]=Math.max($[2],O.x),$[3]=Math.max($[3],O.y)}w!==0&&($[0]-=w,$[1]-=w,$[2]+=w,$[3]+=w),$[0]<Ei&&$[1]<Ei&&$[2]>=0&&$[3]>=0&&D.insert(M,$[0],$[1],$[2],$[3])}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new lc.VectorTile(new x0(this.rawTileData)).layers,this.sourceLayerCoder=new K1(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={};for(const n in this.vtLayers)this.vtFeatures[n]=[]}return this.vtLayers}query(n,i){const{tilespaceGeometry:d,transform:g,tileTransform:h,pixelPosMatrix:v,availableImages:w}=i;this.loadVTLayers(),this.serializedLayersCache.clear();const M=d.bufferedTilespaceBounds,D=this.grid.query(M.min.x,M.min.y,M.max.x,M.max.y,(T,O,N,G)=>zt(d.bufferedTilespaceGeometry,T,O,N,G));D.sort(FS);let x=null;g.elevation&&D.length>0&&(x=Uh.create(g.elevation,this.tileID));const P={};let $;for(let T=0;T<D.length;T++){const O=D[T];if(O===$)continue;$=O;const N=this.featureIndexArray.get(O);let G=null;this.is3DTile?this.loadMatchingModelFeature(P,N,n,d,g):this.loadMatchingFeature(P,N,n,w,(q,se,ce,te=0)=>(G||(G=U(q,this.tileID.canonical,h)),se.queryIntersectsFeature(d,q,ce,G,this.z,g,v,x,te)))}return P}loadMatchingFeature(n,i,d,g,h){const{featureIndex:v,bucketIndex:w,sourceLayerIndex:M,layoutVertexArrayOffset:D}=i,x=this.bucketLayerIDs[w],P=d.layers,$=Object.keys(P);if($.length&&!function(q,se){for(let ce=0;ce<q.length;ce++)if(se.indexOf(q[ce])>=0)return!0;return!1}($,x))return;const T=d.sourceCache,O=this.sourceLayerCoder.decode(M),N=this.vtLayers[O].feature(v),G=this.getId(N,O);for(let q=0;q<x.length;q++){const se=x[q];if(!P[se])continue;const{styleLayer:ce,targets:te}=P[se];let pe={};G!==void 0&&(pe=T.getFeatureState(ce.sourceLayer,G));const Ce=!h||h(N,ce,pe,D);if(!Ce)continue;const Re=new Hf(N,this.z,this.x,this.y,G);Re.tile=this.tileID.canonical,Re.state=pe;let it=this.serializedLayersCache.get(se);it||(it=ce.serialize(),it.id=se,this.serializedLayersCache.set(se,it)),Re.source=it.source,Re.sourceLayer=it["source-layer"],Re.layer=ei({},it),Re.layer.paint=Y1(it.paint,ce.paint,N,pe,g),Re.layer.layout=Y1(it.layout,ce.layout,N,pe,g);let nt=!1;for(const et of te){this.updateFeatureProperties(Re,et);const{filter:Lt}=et;if(Lt){if(N.properties=Re.properties,Lt.needGeometry){const ut=Y(N,!0);if(!Lt.filter(new Ws(this.tileID.overscaledZ),ut,this.tileID.canonical))continue}else if(!Lt.filter(new Ws(this.tileID.overscaledZ),N))continue}nt=!0,et.targetId&&this.addFeatureVariant(Re,et)}nt&&this.appendToResult(n,se,v,Re,Ce)}}loadMatchingModelFeature(n,i,d,g,h){const v=this.bucketLayerIDs[0][0],w=d.layers;if(!w[v])return;const{styleLayer:M,targets:D}=w[v];if(M.type!=="model")return;const x=g.tile,P=i.featureIndex,$=x.getBucket(M);if(!($&&$ instanceof H0))return;const T=function(it,nt,et,Lt){const ut=it.getNodesInfo()[nt];if(ut.hiddenByReplacement||!ut.node.meshes)return;let Zt=Number.MAX_VALUE;const on=ut.node,Wt=et.tile,cn=Lt.calculatePosMatrix(Wt.tileID.toUnwrapped(),Lt.worldSize),wn=ut.evaluatedScale;let Nn=0;Lt.elevation&&on.elevation&&(Nn=on.elevation*Lt.elevation.exaggeration()),$e.mat4.translate(cn,cn,[(on.anchor?on.anchor[0]:0)*(wn[0]-1),(on.anchor?on.anchor[1]:0)*(wn[1]-1),Nn]),$e.mat4.scale(cn,cn,wn);const vn=et.queryGeometry,xr=vn.isPointQuery()?vn.screenBounds:vn.screenGeometry,Hr=function(Bi){const Mi=$e.mat4.multiply([],cn,Bi.matrix);$e.mat4.multiply(Mi,Lt.expandedFarZProjMatrix,Mi);for(let di=0;di<Bi.meshes.length;++di){const Wr=Bi.meshes[di];if(di===Bi.lightMeshIndex)continue;const bo=j0(xr,Lt,Mi,Wr.aabb);bo!=null&&(Zt=Math.min(bo,Zt))}if(Bi.children)for(const di of Bi.children)Hr(di)};if(Hr(on),Zt===Number.MAX_VALUE)return;const _r=new gs(0,0);return h1(Wt.tileID.canonical,_r,ut.node.anchor[0],ut.node.anchor[1]),{intersectionZ:Zt,position:_r,feature:ut.feature}}($,P,g,h);if(!T)return;const{z:O,x:N,y:G}=x.tileID.canonical,{feature:q,intersectionZ:se,position:ce}=T;let te={};q.id!==void 0&&(te=d.sourceCache.getFeatureState(M.sourceLayer,q.id));const pe=new Hf({},O,N,G,q.id);pe.tile=this.tileID.canonical,pe.state=te,pe.properties=q.properties,pe.geometry={type:"Point",coordinates:[ce.lng,ce.lat]};let Ce=this.serializedLayersCache.get(v);Ce||(Ce=M.serialize(),Ce.id=v,this.serializedLayersCache.set(v,Ce)),pe.source=Ce.source,pe.sourceLayer=Ce["source-layer"],pe.layer=ei({},Ce);let Re=!1;for(const it of D){this.updateFeatureProperties(pe,it);const{filter:nt}=it;if(nt){if(q.properties=pe.properties,nt.needGeometry){if(!nt.filter(new Ws(this.tileID.overscaledZ),q,this.tileID.canonical))continue}else if(!nt.filter(new Ws(this.tileID.overscaledZ),q))continue}Re=!0,it.targetId&&this.addFeatureVariant(pe,it)}Re&&this.appendToResult(n,v,P,pe,se)}updateFeatureProperties(n,i,d){if(i.properties){const g={};for(const h in i.properties){const v=i.properties[h].evaluate({zoom:this.z},n._vectorTileFeature,n.state,n.tile,d);v!=null&&(g[h]=v)}n.properties=g}}addFeatureVariant(n,i,d){const g={target:i.target,namespace:i.namespace,uniqueFeatureID:i.uniqueFeatureID};i.properties&&(g.properties=n.properties),n.variants=n.variants||{},n.variants[i.targetId]=n.variants[i.targetId]||[],n.variants[i.targetId].push(g)}appendToResult(n,i,d,g,h){let v=n[i];v===void 0&&(v=n[i]=[]),v.push({featureIndex:d,feature:g,intersectionZ:h})}lookupSymbolFeatures(n,i,d,g,h){const v={};this.loadVTLayers();for(const w of n)this.loadMatchingFeature(v,{bucketIndex:i,sourceLayerIndex:d,featureIndex:w,layoutVertexArrayOffset:0},g,h);return v}loadFeature(n){const{featureIndex:i,sourceLayerIndex:d}=n;this.loadVTLayers();const g=this.sourceLayerCoder.decode(d),h=this.vtFeatures[g];if(h[i])return h[i];const v=this.vtLayers[g].feature(i);return h[i]=v,v}hasLayer(n){for(const i of this.bucketLayerIDs)for(const d of i)if(n===d)return!0;return!1}getId(n,i){let d=n.id;if(this.promoteId){const g=Array.isArray(this.promoteId)||typeof this.promoteId!="object"?this.promoteId:this.promoteId[i];if(g!=null)if(Array.isArray(g)){if(!this.promoteIdExpression){const h=lh(g);if(h.result!=="success"){const v=h.value.map(w=>`${w.key}: ${w.message}`).join(", ");return void Ln(`Failed to create expression for promoteId: ${v}`)}this.promoteIdExpression=h.value}this.promoteIdExpression._evaluator||(this.promoteIdExpression._evaluator=new Za),d=this.promoteIdExpression.evaluate({zoom:0},n)}else d=n.properties[g];typeof d=="boolean"&&(d=Number(d))}return d}}function Y1(c,n,i,d,g){return Nr(c,(h,v)=>{const w=n instanceof Nd?n.get(v):null;return w&&w.evaluate?w.evaluate(i,d,g):w})}function FS(c,n){return n-c}lo(q1,"FeatureIndex",{omit:["rawTileData","sourceLayerCoder"]});const J1=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class ub{static from(n){if(!(n instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[i,d]=new Uint8Array(n,0,2);if(i!==219)throw new Error("Data does not appear to be in a KDBush format.");const g=d>>4;if(g!==1)throw new Error(`Got v${g} data when expected v1.`);const h=J1[15&d];if(!h)throw new Error("Unrecognized array type.");const[v]=new Uint16Array(n,2,1),[w]=new Uint32Array(n,4,1);return new ub(w,v,h,n)}constructor(n,i=64,d=Float64Array,g){if(isNaN(n)||n<0)throw new Error(`Unpexpected numItems value: ${n}.`);this.numItems=+n,this.nodeSize=Math.min(Math.max(+i,2),65535),this.ArrayType=d,this.IndexArrayType=n<65536?Uint16Array:Uint32Array;const h=J1.indexOf(this.ArrayType),v=2*n*this.ArrayType.BYTES_PER_ELEMENT,w=n*this.IndexArrayType.BYTES_PER_ELEMENT,M=(8-w%8)%8;if(h<0)throw new Error(`Unexpected typed array class: ${d}.`);g&&g instanceof ArrayBuffer?(this.data=g,this.ids=new this.IndexArrayType(this.data,8,n),this.coords=new this.ArrayType(this.data,8+w+M,2*n),this._pos=2*n,this._finished=!0):(this.data=new ArrayBuffer(8+v+w+M),this.ids=new this.IndexArrayType(this.data,8,n),this.coords=new this.ArrayType(this.data,8+w+M,2*n),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+h]),new Uint16Array(this.data,2,1)[0]=i,new Uint32Array(this.data,4,1)[0]=n)}add(n,i){const d=this._pos>>1;return this.ids[d]=d,this.coords[this._pos++]=n,this.coords[this._pos++]=i,d}finish(){const n=this._pos>>1;if(n!==this.numItems)throw new Error(`Added ${n} items when expected ${this.numItems}.`);return db(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(n,i,d,g){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:h,coords:v,nodeSize:w}=this,M=[0,h.length-1,0],D=[];for(;M.length;){const x=M.pop()||0,P=M.pop()||0,$=M.pop()||0;if(P-$<=w){for(let G=$;G<=P;G++){const q=v[2*G],se=v[2*G+1];q>=n&&q<=d&&se>=i&&se<=g&&D.push(h[G])}continue}const T=$+P>>1,O=v[2*T],N=v[2*T+1];O>=n&&O<=d&&N>=i&&N<=g&&D.push(h[T]),(x===0?n<=O:i<=N)&&(M.push($),M.push(T-1),M.push(1-x)),(x===0?d>=O:g>=N)&&(M.push(T+1),M.push(P),M.push(1-x))}return D}within(n,i,d){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:g,coords:h,nodeSize:v}=this,w=[0,g.length-1,0],M=[],D=d*d;for(;w.length;){const x=w.pop()||0,P=w.pop()||0,$=w.pop()||0;if(P-$<=v){for(let G=$;G<=P;G++)fb(h[2*G],h[2*G+1],n,i)<=D&&M.push(g[G]);continue}const T=$+P>>1,O=h[2*T],N=h[2*T+1];fb(O,N,n,i)<=D&&M.push(g[T]),(x===0?n-d<=O:i-d<=N)&&(w.push($),w.push(T-1),w.push(1-x)),(x===0?n+d>=O:i+d>=N)&&(w.push(T+1),w.push(P),w.push(1-x))}return M}}function db(c,n,i,d,g,h){if(g-d<=i)return;const v=d+g>>1;Q1(c,n,v,d,g,h),db(c,n,i,d,v-1,1-h),db(c,n,i,v+1,g,1-h)}function Q1(c,n,i,d,g,h){for(;g>d;){if(g-d>600){const D=g-d+1,x=i-d+1,P=Math.log(D),$=.5*Math.exp(2*P/3),T=.5*Math.sqrt(P*$*(D-$)/D)*(x-D/2<0?-1:1);Q1(c,n,i,Math.max(d,Math.floor(i-x*$/D+T)),Math.min(g,Math.floor(i+(D-x)*$/D+T)),h)}const v=n[2*i+h];let w=d,M=g;for(Qm(c,n,d,i),n[2*g+h]>v&&Qm(c,n,d,g);w<M;){for(Qm(c,n,w,M),w++,M--;n[2*w+h]<v;)w++;for(;n[2*M+h]>v;)M--}n[2*d+h]===v?Qm(c,n,d,M):(M++,Qm(c,n,M,g)),M<=i&&(d=M+1),i<=M&&(g=M-1)}}function Qm(c,n,i,d){rv(c,i,d),rv(n,2*i,2*d),rv(n,2*i+1,2*d+1)}function rv(c,n,i){const d=c[n];c[n]=c[i],c[i]=d}function fb(c,n,i,d){const g=c-i,h=n-d;return g*g+h*h}u.$=zg,u.A=Vr,u.B=2,u.C=Nh,u.D=Gm,u.E=oo,u.F=O_,u.G=class extends Z0{},u.H=Ea,u.I=Gy,u.J=za,u.K=Sv,u.L=Dl,u.M=il,u.N=ic,u.O=af,u.P=Sn,u.Q=gh,u.R=qr,u.S=$g,u.T=Oy,u.U=lh,u.V=Z0,u.W=kl,u.X=bc,u.Y=$l,u.Z=ca,u._=so,u.a=function(c){return ii.API_CDN_URL_REGEX.test(c)},u.a$=Hf,u.a0=Uc,u.a1=Oc,u.a2=function(c){const n=c.value;let i=[];if(!n)return i;const d=Ea(n);return d!=="string"?(i=i.concat([new Z0(c.key,n,`string expected, "${d}" found`)]),i):(By(n,!0)||(i=i.concat([new Z0(c.key,n,`invalid url "${n}"`)])),i)},u.a3=Un,u.a4=mh,u.a5=el,u.a6=hi,u.a7=class{constructor(c){this.specification=c}possiblyEvaluate(c,n){return Wi(c.expression.evaluate(n))}interpolate(c,n,i){return{x:Pr(c.x,n.x,i),y:Pr(c.y,n.y,i),z:Pr(c.z,n.z,i),azimuthal:Pr(c.azimuthal,n.azimuthal,i),polar:Pr(c.polar,n.polar,i)}}},u.a8=Ws,u.a9=lm,u.aA=_u,u.aB=class{constructor(c){this.entries={},this.scheduler=c}request(c,n,i,d){const g=this.entries[c]=this.entries[c]||{callbacks:[]};if(g.result){const[h,v]=g.result;return this.scheduler?this.scheduler.add(()=>{d(h,v)},n):d(h,v),()=>{}}return g.callbacks.push(d),g.cancel||(g.cancel=i((h,v)=>{g.result=[h,v];for(const w of g.callbacks)this.scheduler?this.scheduler.add(()=>{w(h,v)},n):w(h,v);setTimeout(()=>delete this.entries[c],3e3)})),()=>{g.result||(g.callbacks=g.callbacks.filter(h=>h!==d),g.callbacks.length||(g.cancel(),delete this.entries[c]))}}},u.aC=Tu,u.aD=function(c,n,i){const d=JSON.stringify(c.request);return c.data&&(this.deduped.entries[d]={result:[null,c.data]}),this.deduped.request(d,{type:"parseTile",isSymbolTile:c.isSymbolTile,zoom:c.tileZoom},g=>{const h=_n(c.request,(v,w,M,D)=>{v?g(v):w&&g(null,{vectorTile:i?void 0:new lc.VectorTile(new x0(w)),rawData:w,cacheControl:M,expires:D})});return()=>{h.cancel(),g()}},n)},u.aE=function(c){rt++,rt>Yt&&(c.getActor().send("enforceCacheSizeLimit",Tt),rt=0)},u.aF=function(c){return c<=1?1:Math.pow(2,Math.floor(Math.log(c)/Math.LN2))},u.aG=ci,u.aH=Y_,u.aI=t1,u.aJ=K_,u.aK=function(c,n){const i=document.createElement("video");i.muted=!0,i.onloadstart=function(){n(null,i)};for(let d=0;d<c.length;d++){const g=document.createElement("source");Ut(c[d])||(i.crossOrigin="Anonymous"),g.src=c[d],i.appendChild(g)}return{cancel:()=>{}}},u.aL=N0,u.aM=function(c){return fetch(c).then(n=>n.arrayBuffer()).then(n=>W1(n,0,c))},u.aN=X1,u.aO=class{constructor(c,n,i,d){this.id=c,this.position=n!=null?new gs(n[0],n[1]):new gs(0,0),this.orientation=i!=null?i:[0,0,0],this.nodes=d,this.uploaded=!1,this.aabb=new xo([1/0,1/0,1/0],[-1/0,-1/0,-1/0]),this.matrix=[]}_applyTransformations(c,n){if($e.mat4.multiply(c.matrix,n,c.matrix),c.meshes)for(const i of c.meshes){const d=xo.applyTransformFast(i.aabb,c.matrix);this.aabb.encapsulate(d)}if(c.children)for(const i of c.children)this._applyTransformations(i,c.matrix)}computeBoundsAndApplyParent(){const c=$e.mat4.identity([]);for(const n of this.nodes)this._applyTransformations(n,c)}computeModelMatrix(c,n,i,d,g,h,v=!1){a1(this.matrix,this,c.transform,this.position,n,i,d,g,h,v)}upload(c){if(!this.uploaded){for(const n of this.nodes)ug(n,c);for(const n of this.nodes)dg(n);this.uploaded=!0}}destroy(){for(const c of this.nodes)l1(c)}},u.aP=wr,u.aQ=km,u.aR=Fc,u.aS=hc,u.aT=Ku,u.aU=oc,u.aV=hr,u.aW=Rp,u.aX=z0,u.aY=function(){Wc.isLoading()||Wc.isLoaded()||dh()!=="deferred"||fh()},u.aZ=yd,u.a_=Y,u.aa=l,u.ab=$e,u.ac=Xr,u.ad=Nd,u.ae=mc,u.af=Pr,u.ag=Ei,u.ah=Ho,u.ai=st,u.aj=to,u.ak=class{constructor(c){this.specification=c}possiblyEvaluate(c,n){return function([i,d]){const g=Wi([1,i,d]);return{x:g.x,y:g.y,z:g.z}}(c.expression.evaluate(n))}interpolate(c,n,i){return{x:Pr(c.x,n.x,i),y:Pr(c.y,n.y,i),z:Pr(c.z,n.z,i)}}},u.al=function(c,n,i=0,d=!0){const g=new Sn(i,i),h=c.sub(g),v=n.add(g),w=[h,new Sn(v.x,h.y),v,new Sn(h.x,v.y)];return d&&w.push(h.clone()),w},u.am=function(c,n){const i=[];for(let d=0;d<c.length;d++){const g=ri(d-1,-1,c.length-1),h=ri(d+1,-1,c.length-1),v=c[d],w=c[h],M=c[g].sub(v).unit(),D=w.sub(v).unit(),x=D.angleWithSep(M.x,M.y),P=M.add(D).unit().mult(-1*n/Math.sin(x/2));i.push(v.add(P))}return i},u.an=N_,u.ao=zt,u.ap=function(c,n,i=0){return $e.vec3.fromValues(((n.x-i)*c.scale-c.x)*Ei,(n.y*c.scale-c.y)*Ei,Yg(n.z,n.y))},u.aq=va,u.ar=h_,u.as=function(c){let n=1/0,i=1/0,d=-1/0,g=-1/0;for(const h of c)n=Math.min(n,h.x),i=Math.min(i,h.y),d=Math.max(d,h.x),g=Math.max(g,h.y);return{min:new Sn(n,i),max:new Sn(d,g)}},u.at=Yu,u.au=It,u.av=b,u.aw=Vn,u.ax=Ic,u.ay=function(c,n){const i={};for(let d=0;d<n.length;d++){const g=n[d];g in c&&(i[g]=c[g])}return i},u.az=qu,u.b=function(c){return ii.API_FONTS_REGEX.test(c)},u.b$=F0,u.b0=kr,u.b1=oy,u.b2=jv,u.b3=U,u.b4=Xu,u.b5=Mp,u.b6=No,u.b7=gl,u.b8=Bp,u.b9=Ty,u.bA=Jv,u.bB=_y,u.bC=rg,u.bD=Lm,u.bE=ub,u.bF=ri,u.bG=qt,u.bH=xc,u.bI=function(c,n,i){c[4*n+0]=i[0],c[4*n+1]=i[1],c[4*n+2]=i[2],c[4*n+3]=i[3]},u.bJ=Th,u.bK=au,u.bL=Cf,u.bM=dl,u.bN=Em,u.bO=gs,u.bP=R0,u.bQ=Or,u.bR=ms,u.bS=n1,u.bT=Br,u.bU=Cc,u.bV=function(c,n,i,d,g,h,v,w,M){if(M.name==="globe")return Cc(c,n,new Br(i,d,g),!1);const D=km({z:i,x:d,y:g},M);return new xo([(h+D.x/D.scale)*n,n*(D.y/D.scale),v],[(h+D.x2/D.scale)*n,n*(D.y2/D.scale),w])},u.bW=function(c,n,i){let d=0;for(let g=0;g<2;++g)c[g]>0&&(d+=(c[g]-0)*(c[g]-0)),n[g]<0&&(d+=(0-n[g])*(0-n[g]));return d},u.bX=vl,u.bY=qg,u.bZ=function(c){const n=$e.mat4.identity(new Float64Array(16));$e.mat4.multiply(n,c.pixelMatrix,c.globeMatrix);const i=[0,Xc,0],d=[0,Kc,0];return $e.vec3.transformMat4(i,i,n),$e.vec3.transformMat4(d,d,n),[i[0]>0&&i[0]<=c.width&&i[1]>0&&i[1]<=c.height&&!Yc(c,new gs(c.center.lat,90)),d[0]>0&&d[0]<=c.width&&d[1]>0&&d[1]<=c.height&&!Yc(c,new gs(c.center.lat,-90))]},u.b_=function(c,n){const{scale:i}=c.tileTransform,d=i*Ei/(c.tileSize*Math.pow(2,n.zoom-c.tileID.overscaledZ+c.tileID.canonical.z));return $e.mat2.scale(new Float32Array(4),n.inverseAdjustmentMatrix,[d,d])},u.ba=function(c,n){const i=mc(n.zoom);if(i===0)return Cl(c);const d=al(c),g=zs(d),h=Yu(d.getWest())*n.worldSize,v=Yu(d.getEast())*n.worldSize,w=_u(d.getNorth())*n.worldSize,M=_u(d.getSouth())*n.worldSize,D=[h,w,0],x=[v,w,0],P=[h,M,0],$=[v,M,0],T=$e.mat4.invert([],n.globeMatrix);return $e.vec3.transformMat4(D,D,T),$e.vec3.transformMat4(x,x,T),$e.vec3.transformMat4(P,P,T),$e.vec3.transformMat4($,$,T),g[0]=Pl(g[0],P,i),g[1]=Pl(g[1],$,i),g[2]=Pl(g[2],x,i),g[3]=Pl(g[3],D,i),xo.fromPoints(g)},u.bb=Ul,u.bc=$s,u.bd=Pl,u.be=pf,u.bf=Bo,u.bg=rb,u.bh=x0,u.bi=_n,u.bj=function(c){const n=[];for(const i in c)n.push(c[i]);return n},u.bk=function(c,n){const i=[];for(const d in c)d in n||i.push(d);return i},u.bl=Zr,u.bm=["type","source","source-layer","minzoom","maxzoom","filter","layout"],u.bn=Fr,u.bo=function(c,n){const{x:i,y:d}=c.point,g=kc(i,d,c.worldSize/c._pixelsPerMercatorPixel,0,0);return $e.mat4.multiply(g,g,Ps(Cl(n)))},u.bp=Dh,u.bq=Cu,u.br=Dm,u.bs=function(c,n,i,d,g){const h=5*n+2;c.float32[h+0]=i,c.float32[h+1]=d,c.float32[h+2]=g},u.bt=jm,u.bu=py,u.bv=xe,u.bw=tc,u.bx=Kv,u.by=i1,u.bz=lC,u.c=eo,u.c$=(c,n,i,d,g,h,v,w)=>{const M=c.transform,D=M.pitch<15?m_(.07,.7,Vn((14-M.zoom)/5,0,1)):.07,x=i.paint.get("line-trim-color-use-theme").constantOr("default")==="none";return{u_matrix:g_(c,n,i,d),u_texsize:n.imageAtlasTexture?n.imageAtlasTexture.size:[0,0],u_pixels_to_tile_units:M.calculatePixelsToTileUnitsMatrix(n),u_device_pixel_ratio:g,u_width_scale:h,u_floor_width_scale:v,u_image:0,u_tile_units_to_pixels:p_(n,M),u_units_to_pixels:[1/M.pixelsToGLUnits[0],1/M.pixelsToGLUnits[1]],u_alpha_discard_threshold:0,u_trim_offset:w,u_trim_fade_range:i.paint.get("line-trim-fade-range"),u_trim_color:i.paint.get("line-trim-color").toRenderColor(x?null:i.lut).toArray01(),u_emissive_strength:i.paint.get("line-emissive-strength"),u_zbias_factor:D,u_tile_to_meter:r(n.tileID.canonical,0)}},u.c0=zy,u.c1=function(c){const n=zy(c,!0);return $e.mat2.invert([],[n[0],n[1],n[4],n[5]])},u.c2=os,u.c3=function(c){const{x:n,y:i}=c.point,{lng:d,lat:g}=c._center;return kc(n,i,c.worldSize,d,g)},u.c4=jt,u.c5=vi,u.c6=Ph,u.c7=function(c){const n=Math.round((c+45+360)%360/90)%4;return Fn[n]},u.c8=45,u.c9=Pm,u.cA=class extends Ec{constructor(c){super(c),this.current=Wg}set(c,n,i){if(this.fetchUniformLocation(c,n)){for(let d=0;d<9;d++)if(i[d]!==this.current[d]){this.current=i,this.gl.uniformMatrix3fv(this.location,!1,i);break}}}},u.cB=un,u.cC=function(c,n,i){const d=mc(i.zoom),g=c.style.map._antialias,h=c.terrain&&c.terrain.exaggeration()>0;return d===0&&!g&&!h},u.cD=function(c){const n=c.pixelsPerMeter,i=n/xc(1,c.center.lat),d=$e.mat4.identity(new Float64Array(16));return $e.mat4.translate(d,d,[c.point.x,c.point.y,0]),$e.mat4.scale(d,d,[i,i,n]),Float32Array.from(d)},u.cE=al,u.cF=function(c){const n=vl-5;c=Vn(c,-n,n)/n*90;const i=Math.pow(Math.abs(Math.sin(st(c))),3);return Math.round(i*(Mm.length-1))},u.cG=function(c,n,i,d){const g=n.getNorth(),h=n.getSouth(),v=n.getWest(),w=n.getEast(),M=1<<c.z,D=w-v,x=g-h,P=D/Sd,$=-x/Mm[i],T=[0,P,0,$,0,0,g,v,0];if(c.z>0){const O=180/d;$e.mat3.multiply(T,T,[O/D+1,0,0,0,O/x+1,0,-.5*O/P,.5*O/$,1])}return T[2]=M,T[5]=c.x,T[8]=c.y,T},u.cH=Cl,u.cI=function(c,n,i){const d=$e.mat4.identity(new Float64Array(16)),g=(n/(1<<c)-.5)*Math.PI*2;return $e.mat4.rotateY(d,i.globeMatrix,g),Float32Array.from(d)},u.cJ=class{isDataAvailableAtPoint(c){const n=this._source();if(this.isUsingMockSource()||!n||c.y<0||c.y>1)return!1;const i=n.getSource().maxzoom,d=1<<i,g=Math.floor(c.x),h=Math.floor((c.x-g)*d),v=Math.floor(c.y*d),w=this.findDEMTileFor(new ci(i,g,i,h,v));return!(!w||!w.dem)}getAtPointOrZero(c,n=0){return this.getAtPoint(c,n)||0}getAtPoint(c,n,i=!0){if(this.isUsingMockSource())return null;n==null&&(n=null);const d=this._source();if(!d||c.y<0||c.y>1)return n;const g=d.getSource().maxzoom,h=1<<g,v=Math.floor(c.x),w=c.x-v,M=new ci(g,v,g,Math.floor(w*h),Math.floor(c.y*h)),D=this.findDEMTileFor(M);if(!D||!D.dem)return n;const x=D.dem,P=1<<D.tileID.canonical.z,$=(w*P-D.tileID.canonical.x)*x.dim,T=(c.y*P-D.tileID.canonical.y)*x.dim,O=Math.floor($),N=Math.floor(T);return(i?this.exaggeration():1)*Pr(Pr(x.get(O,N),x.get(O,N+1),T-N),Pr(x.get(O+1,N),x.get(O+1,N+1),T-N),$-O)}getAtTileOffset(c,n,i){const d=1<<c.canonical.z;return this.getAtPointOrZero(new l(c.wrap+(c.canonical.x+n/Ei)/d,(c.canonical.y+i/Ei)/d))}getAtTileOffsetFunc(c,n,i,d){return g=>{const h=this.getAtTileOffset(c,g.x,g.y),v=d.upVector(c.canonical,g.x,g.y),w=d.upVectorScale(c.canonical,n,i).metersToTile;return $e.vec3.scale(v,v,h*w),v}}getForTilePoints(c,n,i,d){if(this.isUsingMockSource())return!1;const g=Uh.create(this,c,d);return!!g&&(n.forEach(h=>{h[2]=this.exaggeration()*g.getElevationAt(h[0],h[1],i)}),!0)}getMinMaxForTile(c){if(this.isUsingMockSource())return null;const n=this.findDEMTileFor(c);if(!n||!n.dem)return null;const i=n.dem.tree,d=n.tileID,g=1<<c.canonical.z-d.canonical.z;let h=c.canonical.x/g-d.canonical.x,v=c.canonical.y/g-d.canonical.y,w=0;for(let M=0;M<c.canonical.z-d.canonical.z&&!i.leaves[w];M++){h*=2,v*=2;const D=2*Math.floor(v)+Math.floor(h);w=i.childOffsets[w]+D,h%=1,v%=1}return{min:this.exaggeration()*i.minimums[w],max:this.exaggeration()*i.maximums[w]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(c,n,i){throw new Error("Pure virtual method called.")}pointCoordinate(c){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}isUsingMockSource(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(c){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}getMinMaxForVisibleTiles(){const c=this.visibleDemTiles;if(c.length===0)return null;let n=!1,i=Number.MAX_VALUE,d=Number.MIN_VALUE;for(const g of c){const h=this.getMinMaxForTile(g.tileID);h&&(i=Math.min(i,h.min),d=Math.max(d,h.max),n=!0)}return n?{min:i,max:d}:null}},u.cK=kb,u.cL=Ka,u.cM=function(c,n){return[Math.pow(c[0],2.2)*n,Math.pow(c[1],2.2)*n,Math.pow(c[2],2.2)*n]},u.cN=qc,u.cO=li,u.cP=$r,u.cQ=256,u.cR=function(c,n){const i=[0,0,0],d=Ul(Cl(n.canonical));return $e.vec3.transformMat4(i,i,d),$e.vec3.transformMat4(i,i,c),i},u.cS=c=>({u_camera_to_center_distance:new dl(c),u_extrude_scale:new Mh(c),u_device_pixel_ratio:new dl(c),u_matrix:new Th(c),u_inv_rot_matrix:new Th(c),u_merc_center:new au(c),u_tile_id:new Cf(c),u_zoom_transition:new dl(c),u_up_dir:new Cf(c),u_emissive_strength:new dl(c)}),u.cT=c=>({u_matrix:new Th(c),u_pixels_to_tile_units:new Mh(c),u_device_pixel_ratio:new dl(c),u_width_scale:new dl(c),u_floor_width_scale:new dl(c),u_units_to_pixels:new au(c),u_dash_image:new Em(c),u_gradient_image:new Em(c),u_image_height:new dl(c),u_texsize:new au(c),u_tile_units_to_pixels:new dl(c),u_alpha_discard_threshold:new dl(c),u_trim_offset:new au(c),u_trim_fade_range:new au(c),u_trim_color:new Ih(c),u_emissive_strength:new dl(c),u_zbias_factor:new dl(c),u_tile_to_meter:new dl(c)}),u.cU=c=>({u_matrix:new Th(c),u_texsize:new au(c),u_pixels_to_tile_units:new Mh(c),u_device_pixel_ratio:new dl(c),u_width_scale:new dl(c),u_floor_width_scale:new dl(c),u_image:new Em(c),u_units_to_pixels:new au(c),u_tile_units_to_pixels:new dl(c),u_alpha_discard_threshold:new dl(c),u_trim_offset:new au(c),u_trim_fade_range:new au(c),u_trim_color:new Ih(c),u_emissive_strength:new dl(c),u_zbias_factor:new dl(c),u_tile_to_meter:new dl(c)}),u.cV=Cm,u.cW=Xp,u.cX=x_,u.cY=If,u.cZ=(c,n,i,d,g,h)=>{const v=c.transform,w=v.projection.name==="globe";let M;if(h.paint.get("circle-pitch-alignment")==="map")if(w){const x=qc(v.zoom,n.canonical)*v._pixelsPerMercatorPixel;M=Float32Array.from([x,0,0,x])}else M=v.calculatePixelsToTileUnitsMatrix(i);else M=new Float32Array([v.pixelsToGLUnits[0],0,0,v.pixelsToGLUnits[1]]);const D={u_camera_to_center_distance:c.transform.getCameraToCenterDistance(v.projection),u_matrix:c.translatePosMatrix(n.projMatrix,i,h.paint.get("circle-translate"),h.paint.get("circle-translate-anchor")),u_device_pixel_ratio:Je.devicePixelRatio,u_extrude_scale:M,u_inv_rot_matrix:Ud,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0],u_emissive_strength:h.paint.get("circle-emissive-strength")};if(w){D.u_inv_rot_matrix=d,D.u_merc_center=g,D.u_tile_id=[n.canonical.x,n.canonical.y,1<<n.canonical.z],D.u_zoom_transition=mc(v.zoom);const x=g[0]*Ei,P=g[1]*Ei;D.u_up_dir=v.projection.upVector(new Br(0,0,0),x,P)}return D},u.c_=v_,u.ca=Ih,u.cb=function(c,n,i){const d=Math.sqrt(c*c+n*n+i*i),g=d>0?Math.acos(i/d)*fr:0;let h=c!==0||n!==0?Math.atan2(-n,-c)*fr+90:0;return h<0&&(h+=360),[d,h,g]},u.cc=r,u.cd=xo,u.ce=Wi,u.cf=function(c){return[Math.pow(c[0],1/2.2),Math.pow(c[1],1/2.2),Math.pow(c[2],1/2.2)]},u.cg=function(c,n){return c.readFields(GC,{icons:[]},n)},u.ch=function(c){return c({pluginStatus:Bc,pluginURL:vd}),zd.on("pluginStateChange",c),c},u.ci=hg,u.cj=Bh,u.ck=yy,u.cl=Zi,u.cm=lf,u.cn=dt,u.co=$o,u.cp=lr,u.cq=function(c){const n=c.indexOf(pm);return n>=0?c.slice(0,n):c},u.cr=function(c){return c.indexOf(pm)>=0},u.cs=function(c){const n=c.indexOf(pm);return n>=0?c.slice(n+1):""},u.ct=function(c){const n=[],i=c.id;return i===void 0&&n.push({message:`layers.${i}: missing required property "id"`}),c.render===void 0&&n.push({message:`layers.${i}: missing required method "render"`}),c.renderingMode&&c.renderingMode!=="2d"&&c.renderingMode!=="3d"&&n.push({message:`layers.${i}: property "renderingMode" must be either "2d" or "3d"`}),n},u.cu=function(c,n,i,d){return c.type==="custom"?new LC(c,n):new m1[c.type](c,n,i,d)},u.cv=Xn,u.cw=class extends Hf{constructor(c,n){super(c._vectorTileFeature,c._z,c._x,c._y,c.id),c.state&&(this.state=Object.assign({},c.state)),this.target=n.target,this.namespace=n.namespace,n.properties&&(this.properties=n.properties),this.target&&("featuresetId"in this.target&&!this.target.importId||"layerId"in this.target)&&(this.source=c.source,this.sourceLayer=c.sourceLayer,this.layer=c.layer)}toJSON(){const c=super.toJSON();return c.target=this.target,c.namespace=this.namespace,c}},u.cx=zd,u.cy=ft,u.cz=Dp,u.d=function(c){return ii.API_TILEJSON_REGEX.test(c)},u.d$=q1,u.d0=(c,n,i,d,g,h,v,w,M)=>{const D=c.transform,x=D.calculatePixelsToTileUnitsMatrix(n),P=i.paint.get("line-trim-color-use-theme").constantOr("default")==="none",$=D.pitch<15?m_(.07,.7,Vn((14-D.zoom)/5,0,1)):.07;return{u_matrix:g_(c,n,i,d),u_pixels_to_tile_units:x,u_device_pixel_ratio:h,u_width_scale:v,u_floor_width_scale:w,u_units_to_pixels:[1/D.pixelsToGLUnits[0],1/D.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:g,u_texsize:Of(i)&&n.lineAtlasTexture?n.lineAtlasTexture.size:[0,0],u_tile_units_to_pixels:p_(n,c.transform),u_alpha_discard_threshold:0,u_trim_offset:M,u_trim_fade_range:i.paint.get("line-trim-fade-range"),u_trim_color:i.paint.get("line-trim-color").toRenderColor(P?null:i.lut).toArray01(),u_emissive_strength:i.paint.get("line-emissive-strength"),u_zbias_factor:$,u_tile_to_meter:r(n.tileID.canonical,0)}},u.d1=ur,u.d2=Np,u.d3=ry,u.d4=Gi,u.d5=Gp,u.d6=$u,u.d7=450,u.d8=7,u.d9=q_,u.dA=Sr,u.dB=m,u.dC=Zd,u.dD=function([c,n,i]){const d=Math.hypot(c,n,i),g=Math.atan2(c,i),h=.5*Math.PI-Math.acos(-n/d);return new gs(jt(g),jt(h))},u.dE=Vm,u.dF=function(c){const n=c.navigator?c.navigator.userAgent:null;return!!function(i){if(no==null){const d=i.navigator?i.navigator.userAgent:null;no=!!i.safari||!(!d||!(/\b(iPad|iPhone|iPod)\b/.test(d)||d.match("Safari")&&!d.match("Chrome")))}return no}(c)&&n&&(n.match("Version/15.4")||n.match("Version/15.5")||n.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},u.dG=function(c,n){Tt=c,Yt=n},u.dH=Yc,u.dI=xu,u.dJ=function(c){const n=[0,0,0],i=$e.mat4.identity(new Float64Array(16));return $e.mat4.multiply(i,c.pixelMatrix,c.globeMatrix),$e.vec3.transformMat4(n,n,i),new Sn(n[0],n[1])},u.dK=function(c,n,i=!1){if(Bc===sf||Bc===uh||Bc===vp)throw new Error("setRTLTextPlugin cannot be called multiple times.");vd=Je.resolveURL(c),Bc=sf,Nc=n,cf(),i||fh()},u.dL=dh,u.dM=function(){hg().acquire(Wm)},u.dN=function(){const c=Xm;c&&(c.isPreloaded()&&c.numActive()===1?(c.release(Wm),Xm=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},u.dO=Bf,u.dP=function(c){const n=kt();if(!n)return;const i=n.delete(_t);c&&i.catch(c).then(()=>c())},u.dQ=Um,u.dR=bg,u.dS=function(c){yg=Je.resolveURL(c),cu||(cu=new Gm(hg(),new oo)),cu.broadcast("setDracoUrl",yg)},u.dT=Z1,u.dU=function(c){Gh=Je.resolveURL(c),cu||(cu=new Gm(hg(),new oo)),cu.broadcast("setMeshoptUrl",Gh)},u.dV=lo,u.dW=$h,u.dX=Du,u.dY=lc,u.dZ=class{constructor(c,n){this.pos=c,this.dir=n}intersectsPlane(c,n,i){const d=$e.vec2.dot(n,this.dir);if(Math.abs(d)<1e-6)return!1;const g=((c[0]-this.pos[0])*n[0]+(c[1]-this.pos[1])*n[1])/d;return i[0]=this.pos[0]+this.dir[0]*g,i[1]=this.pos[1]+this.dir[1]*g,!0}},u.d_=K1,u.da=Ss,u.db=_f,u.dc=256,u.dd=Ps,u.de=Mu,u.df=bd,u.dg=xh,u.dh=function(c,n,i,d,g){return Vn((c-n)/(i-n)*(g-d)+d,d,g)},u.di=ah,u.dj=Ef,u.dk=class{constructor(c,n,i,d){this.context=c,this.format=d,this.size=i,this.texture=c.gl.createTexture();const[g,h,v]=this.size,{gl:w}=c;w.bindTexture(w.TEXTURE_3D,this.texture),c.pixelStoreUnpackFlipY.set(!1),c.pixelStoreUnpack.set(1),c.pixelStoreUnpackPremultiplyAlpha.set(!1),w.texImage3D(w.TEXTURE_3D,0,this.format,g,h,v,0,My(this.format),Py(this.format),n.data)}bind(c,n){const{context:i}=this,{gl:d}=i;d.bindTexture(d.TEXTURE_3D,this.texture),c!==this.minFilter&&(d.texParameteri(d.TEXTURE_3D,d.TEXTURE_MAG_FILTER,c),d.texParameteri(d.TEXTURE_3D,d.TEXTURE_MIN_FILTER,c),this.minFilter=c),n!==this.wrapS&&(d.texParameteri(d.TEXTURE_3D,d.TEXTURE_WRAP_S,n),d.texParameteri(d.TEXTURE_3D,d.TEXTURE_WRAP_T,n),this.wrapS=n)}destroy(){const{gl:c}=this.context;c.deleteTexture(this.texture),this.texture=null}},u.dl=Ny,u.dm=[1,1,1],u.dn=Uh,u.dp=Hm,u.dq=Fd,u.dr=vf,u.ds=Vd,u.dt=Sm,u.du=Pu,u.dv=class{constructor(){this._updateTime=0,this._sourceIds=[],this._activeRegions=[],this._prevRegions=[],this._globalClipBounds={min:new Sn(1/0,1/0),max:new Sn(-1/0,-1/0)}}clear(){this._activeRegions.length>0&&++this._updateTime,this._activeRegions=[],this._prevRegions=[]}get updateTime(){return this._updateTime}getReplacementRegionsForTile(c,n=!1){const i=Yv(new Sn(0,0),new Sn(Ei,Ei),c),d=[];if(n&&!qv(i,this._globalClipBounds))return d;for(const g of this._activeRegions){if(g.hiddenByOverlap||!qv(i,g))continue;const h=sC(g.min,g.max,c);d.push({min:h.min,max:h.max,sourceId:this._sourceIds[g.priority],footprint:g.footprint,footprintTileId:g.tileId,order:g.order,clipMask:g.clipMask,clipScope:g.clipScope})}return d}setSources(c){this._setSources(c.map(n=>({getSourceId:()=>n.cache.id,getFootprints:()=>{const i=[];for(const d of n.cache.getVisibleCoordinates()){const g=n.cache.getTile(d).buckets[n.layer];g&&g.updateFootprints(d.toUnwrapped(),i)}return i},getOrder:()=>n.order,getClipMask:()=>n.clipMask,getClipScope:()=>n.clipScope})))}_addSource(c){const n=c.getFootprints();if(n.length===0)return;const i=c.getOrder(),d=c.getClipMask(),g=c.getClipScope();for(const h of n){if(!h.footprint)continue;const v=Yv(h.footprint.min,h.footprint.max,h.id);this._activeRegions.push({min:v.min,max:v.max,hiddenByOverlap:!1,priority:this._sourceIds.length,tileId:h.id,footprint:h.footprint,order:i,clipMask:d,clipScope:g})}this._sourceIds.push(c.getSourceId())}_computeReplacement(){this._activeRegions.sort((n,i)=>n.priority-i.priority||Vp(n.min,i.min)||Vp(n.max,i.max)||n.order-i.order||n.clipMask-i.clipMask||function(d,g){const h=(v,w)=>v+w;return d.length-g.length||d.reduce(h,"").localeCompare(g.reduce(h,""))}(n.clipScope,i.clipScope));let c=this._activeRegions.length!==this._prevRegions.length;if(!c){let n=0;for(;!c&&n!==this._activeRegions.length;){const i=this._activeRegions[n],d=this._prevRegions[n];c=i.priority!==d.priority||!aC(i,d)||i.order!==d.order||i.clipMask!==d.clipMask||!Fr(i.clipScope,d.clipScope),++n}}if(c){++this._updateTime;for(const i of this._activeRegions)i.order!==Xv&&(this._globalClipBounds.min.x=Math.min(this._globalClipBounds.min.x,i.min.x),this._globalClipBounds.min.y=Math.min(this._globalClipBounds.min.y,i.min.y),this._globalClipBounds.max.x=Math.max(this._globalClipBounds.max.x,i.max.x),this._globalClipBounds.max.y=Math.max(this._globalClipBounds.max.y,i.max.y));const n=i=>{const d=this._activeRegions;if(i>=d.length)return i;const g=d[i].priority;for(;i<d.length&&d[i].priority===g;)++i;return i};if(this._sourceIds.length>1){let i=0,d=n(i);for(;i!==d;){let g=i;const h=i;for(;g!==d;){const v=this._activeRegions[g];v.hiddenByOverlap=!1;for(let w=0;w<h;w++){const M=this._activeRegions[w];if(!M.hiddenByOverlap&&v.order===Xv&&qv(v,M)&&(v.hiddenByOverlap=e_(v.footprint,v.tileId,M.footprint,M.tileId),v.hiddenByOverlap))break}++g}i=d,d=n(i)}}}}_setSources(c){[this._prevRegions,this._activeRegions]=[this._activeRegions,[]],this._sourceIds=[];for(let n=c.length-1;n>=0;n--)this._addSource(c[n]);this._computeReplacement()}},u.dw=class{constructor(c){this._createGrid(c),this._createPoles(c)}destroy(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();for(const c of this._poleSegments)c.destroy();for(const c of this._gridSegments)c.withSkirts.destroy(),c.withoutSkirts.destroy()}_fillGridMeshWithLods(c,n){const i=new Xu,d=new oc,g=[],h=c+1+2,v=n[0]+1,w=n[0]+1+(1+n.length),M=(D,x,P)=>{let $=D===h-1?D-2:D===0?D:D-1;return $+=P?24575:0,[$,x]};for(let D=0;D<h;++D)i.emplaceBack(...M(D,0,!0));for(let D=0;D<v;++D)for(let x=0;x<h;++x)i.emplaceBack(...M(x,D,(x===0||x===h-1)&&!0));for(let D=0;D<n.length;++D){const x=n[D];for(let P=0;P<h;++P)i.emplaceBack(...M(P,x,!0))}for(let D=0;D<n.length;++D){const x=d.length,P=n[D]+1+2,$=new oc;for(let N=0;N<P-1;N++){const G=N===P-2,q=G?h*(w-n.length+D-N):h;for(let se=0;se<h-1;se++){const ce=N*h+se;N===0||G||se===0||se===h-2?($.emplaceBack(ce+1,ce,ce+q),$.emplaceBack(ce+q,ce+q+1,ce+1)):(d.emplaceBack(ce+1,ce,ce+q),d.emplaceBack(ce+q,ce+q+1,ce+1))}}const T=gl.simpleSegment(0,x,i.length,d.length-x);for(let N=0;N<$.uint16.length;N+=3)d.emplaceBack($.uint16[N],$.uint16[N+1],$.uint16[N+2]);const O=gl.simpleSegment(0,x,i.length,d.length-x);g.push({withoutSkirts:T,withSkirts:O})}return{vertices:i,indices:d,segments:g}}_createGrid(c){const n=this._fillGridMeshWithLods(Sd,Mm);this._gridSegments=n.segments,this._gridBuffer=c.createVertexBuffer(n.vertices,No.members),this._gridIndexBuffer=c.createIndexBuffer(n.indices,!0)}_createPoles(c){const n=new oc;for(let v=0;v<=Sd;v++)n.emplaceBack(0,v+1,v+2);this._poleIndexBuffer=c.createIndexBuffer(n,!0);const i=new bd,d=new bd,g=new bd,h=new bd;this._poleSegments=[];for(let v=0,w=0;v<Ph;v++){const M=360/(1<<v);i.emplaceBack(0,-Ic,0,.5,0),d.emplaceBack(0,-Ic,0,.5,1),g.emplaceBack(0,-Ic,0,.5,.5),h.emplaceBack(0,-Ic,0,.5,.5);for(let D=0;D<=Sd;D++){let x=D/Sd,P=0;const $=Pr(0,M,x),[T,O,N]=wf(Hd,Jc,$,Ic);i.emplaceBack(T,O,N,x,P),d.emplaceBack(T,O,N,x,1-P);const G=st($);x=.5+.5*Math.sin(G),P=.5+.5*Math.cos(G),g.emplaceBack(T,O,N,x,P),h.emplaceBack(T,O,N,x,1-P)}this._poleSegments.push(gl.simpleSegment(w,0,66,64)),w+=66}this._poleNorthVertexBuffer=c.createVertexBuffer(i,ra,!1),this._poleSouthVertexBuffer=c.createVertexBuffer(d,ra,!1),this._texturedPoleNorthVertexBuffer=c.createVertexBuffer(g,ra,!1),this._texturedPoleSouthVertexBuffer=c.createVertexBuffer(h,ra,!1)}getGridBuffers(c,n){return[this._gridBuffer,this._gridIndexBuffer,n?this._gridSegments[c].withSkirts:this._gridSegments[c].withoutSkirts]}getPoleBuffers(c,n){return[n?this._texturedPoleNorthVertexBuffer:this._poleNorthVertexBuffer,n?this._texturedPoleSouthVertexBuffer:this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[c]]}},u.dx=Xv,u.dy=pn,u.dz=function(){return!!document.fullscreenElement||!!document.webkitFullscreenElement},u.e=ii,u.e0=u_,u.e1=Nr,u.e2=rr,u.e3=gy,u.e4=function(c,n,i,d,g,h,v,w,M,D,x=1,P,$){c.createArrays(),c.tilePixelRatio=Ei/(512*c.overscaling),c.compareText={},c.iconsNeedLinear=!1;const T=c.layers[0].layout,O=c.layers[0]._unevaluatedLayout._values,N={};N.scaleFactor=x,N.textSizeScaleRange=T.get("text-size-scale-range"),N.iconSizeScaleRange=T.get("icon-size-scale-range");const[G,q]=N.textSizeScaleRange,[se,ce]=N.iconSizeScaleRange;if(N.textScaleFactor=Vn(N.scaleFactor,G,q),N.iconScaleFactor=Vn(N.scaleFactor,se,ce),c.textSizeData.kind==="composite"){const{minZoom:Re,maxZoom:it}=c.textSizeData;N.compositeTextSizes=[O["text-size"].possiblyEvaluate(new Ws(Re),w),O["text-size"].possiblyEvaluate(new Ws(it),w)]}if(c.iconSizeData.kind==="composite"){const{minZoom:Re,maxZoom:it}=c.iconSizeData;N.compositeIconSizes=[O["icon-size"].possiblyEvaluate(new Ws(Re),w),O["icon-size"].possiblyEvaluate(new Ws(it),w)]}N.layoutTextSize=O["text-size"].possiblyEvaluate(new Ws(M+1),w),N.layoutIconSize=O["icon-size"].possiblyEvaluate(new Ws(M+1),w),N.textMaxSize=O["text-size"].possiblyEvaluate(new Ws(18),w);const te=T.get("text-rotation-alignment")==="map"&&T.get("symbol-placement")!=="point",pe=T.get("text-size");let Ce=!1;for(const Re of c.features)if(Re.icon&&Re.icon.nameSecondary){Ce=!0;break}for(const Re of c.features){const it=T.get("text-font").evaluate(Re,{},w).join(","),nt=pe.evaluate(Re,{},w)*N.textScaleFactor,et=N.layoutTextSize.evaluate(Re,{},w)*N.textScaleFactor,Lt=(N.layoutIconSize.evaluate(Re,{},w),{horizontal:{},vertical:void 0}),ut=Re.text;let Zt,on=[0,0];if(ut){const wn=ut.toString(),Nn=T.get("text-letter-spacing").evaluate(Re,{},w)*tc,vn=T.get("text-line-height").evaluate(Re,{},w)*tc,xr=Ag(wn)?Nn:0,Hr=T.get("text-anchor").evaluate(Re,{},w),_r=T.get("text-variable-anchor");if(!_r){const bo=T.get("text-radial-offset").evaluate(Re,{},w);on=bo?rg(Hr,[bo*tc,wd]):T.get("text-offset").evaluate(Re,{},w).map(ji=>ji*tc)}let Bi=te?"center":T.get("text-justify").evaluate(Re,{},w);const Mi=T.get("symbol-placement")==="point",di=Mi?T.get("text-max-width").evaluate(Re,{},w)*tc:1/0,Wr=bo=>{c.allowVerticalPlacement&&dm(wn)&&(Lt.vertical=C0(ut,n,i,g,it,di,vn,Hr,bo,xr,on,Cu.vertical,!0,et,nt))};if(!te&&_r){const bo=Bi==="auto"?_r.map(Qi=>_y(Qi)):[Bi];let ji=!1;for(let Qi=0;Qi<bo.length;Qi++){const ia=bo[Qi];if(!Lt.horizontal[ia])if(ji)Lt.horizontal[ia]=Lt.horizontal[0];else{const Aa=C0(ut,n,i,g,it,di,vn,"center",ia,xr,on,Cu.horizontal,!1,et,nt);Aa&&(Lt.horizontal[ia]=Aa,ji=Aa.positionedLines.length===1)}}Wr("left")}else{if(Bi==="auto"&&(Bi=_y(Hr)),Mi||T.get("text-writing-mode").indexOf("horizontal")>=0||!dm(wn)){const bo=C0(ut,n,i,g,it,di,vn,Hr,Bi,xr,on,Cu.horizontal,!1,et,nt);bo&&(Lt.horizontal[Bi]=bo)}Wr(Mi?"left":Bi)}}let Wt=!1;if(Re.icon&&Re.icon.namePrimary){const wn=y0(c.iconSizeData,O["icon-size"],w,c.zoom,Re)*N.iconScaleFactor*P,Nn=Re.icon.getPrimary().scaleSelf(wn).serialize(),vn=d[Nn];vn&&(Zt=PC(g[Nn],Re.icon.nameSecondary?g[Re.icon.getSecondary().scaleSelf(wn).serialize()]:void 0,T.get("icon-offset").evaluate(Re,{},w),T.get("icon-anchor").evaluate(Re,{},w)),Wt=vn.sdf,c.sdfIcons===void 0?c.sdfIcons=vn.sdf:c.sdfIcons!==vn.sdf&&Ln("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(vn.pixelRatio!==c.pixelRatio||T.get("icon-rotate").constantOr(1)!==0)&&(c.iconsNeedLinear=!0))}const cn=z_(Lt.horizontal)||Lt.vertical;c.iconsInText||(c.iconsInText=!!cn&&cn.iconsInText),(cn||Zt)&&Fm(c,Re,Lt,Zt,d,N,et,0,on,Wt,v,w,D,$,Ce)}h&&c.generateCollisionDebugBuffers(M,c.collisionBoxArray,N.textScaleFactor)},u.e5=J0,u.e6=jr,u.e7=s0,u.e8=uy,u.e9=Ie,u.ea=function(c){let n=0;if(new Uint32Array(c,0,1)[0]!==V1){const i=new Uint32Array(c,0,7),[,,d,g,h,v]=i;n=i.byteLength+g+h+v+h,(d!==c.byteLength||n>=c.byteLength)&&Ln("Invalid b3dm header information.")}return W1(c,n)},u.eb=function(c,n){const i=X1(c);for(const d of i){for(const g of d.meshes)cb(g);d.lights&&(d.lightMeshIndex=d.meshes.length,d.meshes.push(NS(d.lights,n)))}return i},u.ec=H0,u.ed=g1,u.ee=Wc,u.ef=function(c){Kt(),We!=null&&We.then(n=>{n.keys().then(i=>{for(let d=0;d<i.length-c;d++)n.delete(i[d])})})},u.f=function(c){return c.indexOf("mapbox:")===0},u.g=function(c,n){return ft(ei(c,{method:"GET"}),n)},u.h=Ki,u.i=function(c){return ii.API_STYLE_REGEX.test(c)&&!eo(c)},u.j=function(c){return decodeURIComponent(atob(c).split("").map(n=>"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)).join(""))},u.k=function(c){return btoa(encodeURIComponent(c).replace(/%([0-9A-F]{2})/g,(n,i)=>String.fromCharCode(+("0x"+i))))},u.l=ei,u.m=Qe,u.n=function(c,n){return ft(ei(c,{type:"json"}),n)},u.o=Ti,u.p=function(c,n){return ft(ei(c,{method:"POST"}),n)},u.q=Je,u.r=sc,u.s=function(c){try{const n=self[c];return n.setItem("_mapbox_test_",1),n.removeItem("_mapbox_test_"),!0}catch(n){return!1}},u.t=Ne,u.u=function(){return function c(n){return n?(n^Math.random()*(16>>n/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,c)}()},u.v=function(c){return!!c&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(c)},u.w=Ln,u.x=function(){return jy||(jy=new Bf),jy},u.y=Oo,u.z=_o}),ht(["./shared"],function(u){function Ie(Pe){const de=Pe?Pe.url.toString():void 0;return de?performance.getEntriesByName(de):[]}function He(Pe){if(typeof Pe=="number"||typeof Pe=="boolean"||typeof Pe=="string"||Pe==null)return JSON.stringify(Pe);if(Array.isArray(Pe)){let K="[";for(const Ne of Pe)K+=`${He(Ne)},`;return`${K}]`}let de="{";for(const K of Object.keys(Pe).sort())de+=`${K}:${He(Pe[K])},`;return`${de}}`}function je(Pe){let de="";for(const K of u.bm)(Pe.type!=="model"||K!=="minzoom"&&K!=="maxzoom")&&(de+=`/${He(Pe[K])}`);return de}class Le{constructor(de){this.keyCache={},this._layers={},this._layerConfigs={},de&&this.replace(de)}replace(de,K){this._layerConfigs={},this._layers={},this.update(de,[],K)}update(de,K,Ne){this._options=Ne;for(const ge of de)this._layerConfigs[ge.id]=ge,(this._layers[ge.id]=u.cu(ge,this.scope,null,this._options)).compileFilter(Ne),this.keyCache[ge.id]&&delete this.keyCache[ge.id];for(const ge of K)delete this.keyCache[ge],delete this._layerConfigs[ge],delete this._layers[ge];this.familiesBySource={};const Je=function(ge,dt){const _t={};for(let Yt=0;Yt<ge.length;Yt++){const hn=ge[Yt];let We=dt&&dt[hn.id];!We&&(We=je(hn),hn.type==="line"&&hn.paint)&&function kt(Kt){return typeof Kt=="string"&&Kt==="line-progress"||(Array.isArray(Kt)?Kt.some(kt):!(!Kt||typeof Kt!="object")&&Object.values(Kt).some(kt))}(hn.paint["line-width"])&&(We+=`/${He(hn.paint["line-width"])}`),dt&&(dt[hn.id]=We);let Et=_t[We];Et||(Et=_t[We]=[]),Et.push(hn)}const Tt=[];for(const Yt in _t)Tt.push(_t[Yt]);return Tt}(u.bj(this._layerConfigs),this.keyCache);for(const ge of Je){const dt=ge.map(Et=>this._layers[Et.id]),_t=dt[0];if(_t.visibility==="none")continue;const Tt=_t.source||"";let Yt=this.familiesBySource[Tt];Yt||(Yt=this.familiesBySource[Tt]={});const hn=_t.sourceLayer||"_geojsonTileLayer";let We=Yt[hn];We||(We=Yt[hn]=[]),We.push(dt)}}}const _e=1*u.dX;class oe{constructor(de){const K={},Ne=[];for(const _t in de){const Tt=de[_t],Yt=K[_t]={};for(const hn in Tt.glyphs){const We=Tt.glyphs[+hn];if(!We||We.bitmap.width===0||We.bitmap.height===0)continue;const Et=We.metrics.localGlyph?_e:1,kt={x:0,y:0,w:We.bitmap.width+2*Et,h:We.bitmap.height+2*Et};Ne.push(kt),Yt[hn]=kt}}const{w:Je,h:ge}=u.F(Ne),dt=new u.dW({width:Je||1,height:ge||1});for(const _t in de){const Tt=de[_t];for(const Yt in Tt.glyphs){const hn=Tt.glyphs[+Yt];if(!hn||hn.bitmap.width===0||hn.bitmap.height===0)continue;const We=K[_t][Yt],Et=hn.metrics.localGlyph?_e:1;u.dW.copy(hn.bitmap,dt,{x:0,y:0},{x:We.x+Et,y:We.y+Et},hn.bitmap)}}this.image=dt,this.positions=K}}u.dV(oe,"GlyphAtlas");const Ye="3d_elevation_id",ke="hd_road_elevation";class Xe{constructor(){this._valid=!1}reset(de){return this.feature=de,this._valid=!0,this._geometry=de.loadGeometry(),this._geometry.length!==0&&this._geometry[0].length!==0||(this._valid=!1),this}geometry(de,K){return this._valid&&de(K(this._geometry)),this}require(de,K,Ne){return this.get(de,!0,K,Ne)}optional(de,K,Ne){return this.get(de,!1,K,Ne)}success(){return this._valid}get(de,K,Ne,Je){const ge=this.feature.properties.hasOwnProperty(de)?+this.feature.properties[de]:void 0;return this._valid&&ge!==void 0?Ne(Je?Je(ge):ge):K&&(this._valid=!1),this}}class at{constructor(de,K){this.featureFunc=de,this.vertexFunc=K}parseFeature(de,K,Ne){return this.featureFunc(de,K,Ne)}parseVertex(de,K,Ne){return this.vertexFunc(de,K,Ne)}}const xt=new at((Pe,de,K)=>Pe.reset(de).require(Ye,Ne=>{K.id=Ne}).optional("fixed_height_relative",Ne=>{K.constantHeight=Ne},St.decodeRelativeHeight).geometry(Ne=>{K.bounds=Ne},St.computeBounds).success(),(Pe,de,K)=>Pe.reset(de).require(Ye,Ne=>{K.id=Ne}).require("elevation_idx",Ne=>{K.idx=Ne}).require("extent",Ne=>{K.extent=Ne}).require("height_relative",Ne=>{K.height=Ne},St.decodeRelativeHeight).geometry(Ne=>{K.position=Ne},St.getPoint).success()),ot=new at((Pe,de,K)=>Pe.reset(de).require(Ye,Ne=>{K.id=Ne}).optional("fixed_height",Ne=>{K.constantHeight=Ne},St.decodeMetricHeight).geometry(Ne=>{K.bounds=Ne},St.computeBounds).success(),(Pe,de,K)=>Pe.reset(de).require(Ye,Ne=>{K.id=Ne}).require("elevation_idx",Ne=>{K.idx=Ne}).require("extent",Ne=>{K.extent=Ne}).require("height",Ne=>{K.height=Ne},St.decodeMetricHeight).geometry(Ne=>{K.position=Ne},St.getPoint).success());class St{static computeBounds(de){const K=new u.P(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),Ne=new u.P(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY);for(const Je of de[0])K.x>Je.x&&(K.x=Je.x),K.y>Je.y&&(K.y=Je.y),Ne.x<Je.x&&(Ne.x=Je.x),Ne.y<Je.y&&(Ne.y=Je.y);return{min:K,max:Ne}}static getPoint(de){return u.ab.vec2.fromValues(de[0][0].x,de[0][0].y)}static decodeRelativeHeight(de){return 1e-4*de*5}static decodeMetricHeight(de){return 1e-4*de}static parse(de){const K=[],Ne=[],Je=de.length,ge=new Xe;for(let _t=0;_t<Je;_t++){const Tt=de.feature(_t),Yt=Tt.properties.hasOwnProperty("version")?String(Tt.properties.version):void 0,hn=(dt=Yt)?dt==="1.0.1"?ot:void 0:xt;if(hn===void 0){u.w(`Unknown elevation feature version number ${Yt||"(unknown)"}`);continue}const We=Tt.properties.hasOwnProperty("type")?Tt.properties.type:void 0;if(We){if(u.dY.VectorTileFeature.types[Tt.type]==="Point"&&We==="curve_point"){const Et={};hn.parseVertex(ge,Tt,Et)&&K.push(Et)}else if(u.dY.VectorTileFeature.types[Tt.type]==="Polygon"&&We==="curve_meta"){const Et={};hn.parseFeature(ge,Tt,Et)&&Ne.push(Et)}}}var dt;return{vertices:K,features:Ne}}}class Ot{constructor(de,K,Ne,Je,ge,dt){if(this.vertices=new Array,this.vertexProps=new Array,this.edges=new Array,this.edgeProps=new Array,this.id=de,this.heightRange={min:Ne,max:Ne},this.safeArea=K,this.constantHeight=Ne,this.constantHeight==null&&(this.constantHeight!=null||Je.length!==0)){this.vertices=Je,this.edges=ge,this.edges=this.edges.filter(_t=>_t.a<this.vertices.length&&_t.b<this.vertices.length&&!u.ab.vec2.exactEquals(this.vertices[_t.a].position,this.vertices[_t.b].position)),this.heightRange={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};for(const _t of this.vertices)this.vertexProps.push({dir:u.ab.vec2.fromValues(0,0)}),this.heightRange.min=Math.min(this.heightRange.min,_t.height),this.heightRange.max=Math.max(this.heightRange.max,_t.height);for(const _t of this.edges){const Tt=this.vertices[_t.a].position,Yt=this.vertices[_t.b].position,hn=u.ab.vec2.subtract(u.ab.vec2.create(),Yt,Tt),We=u.ab.vec2.length(hn),Et=u.ab.vec2.scale(u.ab.vec2.create(),hn,1/We);this.edgeProps.push({vec:hn,dir:Et,len:We});const kt=this.vertexProps[_t.a].dir,Kt=this.vertexProps[_t.b].dir;u.ab.vec2.add(kt,kt,Et),u.ab.vec2.add(Kt,Kt,Et)}for(const _t of this.vertexProps)_t.dir[0]===0&&_t.dir[1]===0||u.ab.vec2.normalize(_t.dir,_t.dir);this.tessellate(dt)}}pointElevation(de){if(this.constantHeight!=null)return this.constantHeight;const K=this.getClosestEdge(de);if(K==null)return 0;const[Ne,Je]=K;return(1-(ge=Je))*this.vertices[this.edges[Ne].a].height+ge*this.vertices[this.edges[Ne].b].height;var ge}getClosestEdge(de){if(this.edges.length===0)return;let K=0,Ne=Number.POSITIVE_INFINITY,Je=0;const ge=u.ab.vec2.fromValues(de.x,de.y);for(let dt=0;dt<this.edges.length;dt++){const _t=this.edges[dt],Tt=this.edgeProps[dt].dir,Yt=new u.dZ(ge,this.edgeProps[dt].dir),hn=this.vertices[_t.a].position,We=this.vertices[_t.b].position,Et=u.ab.vec2.create(),kt=u.ab.vec2.create(),Kt=Yt.intersectsPlane(hn,this.vertexProps[_t.a].dir,Et),rt=Yt.intersectsPlane(We,this.vertexProps[_t.b].dir,kt);if(!Kt||!rt)continue;const Qe=u.ab.vec2.subtract(u.ab.vec2.create(),kt,Et),gn=u.ab.vec2.subtract(u.ab.vec2.create(),ge,Et),mn=u.ab.vec2.dot(Qe,Qe),kn=mn>0?u.ab.vec2.dot(gn,Qe)/mn:0,br=u.aw(kn,0,1),ar=Math.abs((kn-br)*this.edgeProps[dt].len),Mr=u.ab.vec2.subtract(u.ab.vec2.create(),ge,hn),qr=ar+Math.abs(u.ab.vec2.dot(Mr,u.ab.vec2.fromValues(Tt[1],-Tt[0])));qr<Ne&&(K=dt,Ne=qr,Je=br)}return[K,Je]}tessellate(de){for(let K=this.edges.length-1;K>=0;--K){const Ne=this.edges[K].a,Je=this.edges[K].b,{position:ge,height:dt,extent:_t}=this.vertices[Ne],{position:Tt,height:Yt,extent:hn}=this.vertices[Je],We=this.vertexProps[Ne].dir,Et=this.vertexProps[Je].dir,kt=u.ab.vec3.fromValues(ge[0]/de,ge[1]/de,dt),Kt=u.ab.vec3.fromValues(Tt[0]/de,Tt[1]/de,Yt),rt=u.ab.vec3.fromValues(We[1],-We[0],0);u.ab.vec3.scale(rt,rt,_t);const Qe=u.ab.vec3.fromValues(Et[1],-Et[0],0);if(u.ab.vec3.scale(Qe,Qe,hn),this.distSqLines(u.ab.vec3.fromValues(kt[0]+.5*rt[0],kt[1]+.5*rt[1],kt[2]+.5*rt[2]),u.ab.vec3.fromValues(Kt[0]-.5*Qe[0],Kt[1]-.5*Qe[1],Kt[2]-.5*Qe[2]),u.ab.vec3.fromValues(kt[0]-.5*rt[0],kt[1]-.5*rt[1],kt[2]-.5*rt[2]),u.ab.vec3.fromValues(Kt[0]+.5*Qe[0],Kt[1]+.5*Qe[1],Kt[2]+.5*Qe[2]))<=.05*.05)continue;const gn=this.vertices.length,mn=u.ab.vec2.add(u.ab.vec2.create(),ge,Tt);this.vertices.push({position:u.ab.vec2.scale(mn,mn,.5),height:.5*(dt+Yt),extent:.5*(_t+hn)});const kn=u.ab.vec2.add(u.ab.vec2.create(),We,Et);this.vertexProps.push({dir:u.ab.vec2.normalize(kn,kn)}),this.edges.splice(K,1),this.edgeProps.splice(K,1),this.edges.push({a:Ne,b:gn}),this.edges.push({a:gn,b:Je});const br=u.ab.vec2.subtract(u.ab.vec2.create(),this.vertices[gn].position,ge),ar=u.ab.vec2.length(br),Mr={vec:br,dir:u.ab.vec2.scale(u.ab.vec2.create(),br,1/ar),len:ar};this.edgeProps.push(Mr),this.edgeProps.push(Mr)}}distSqLines(de,K,Ne,Je){const ge=u.ab.vec3.subtract(u.ab.vec3.create(),K,de),dt=u.ab.vec3.subtract(u.ab.vec3.create(),Je,Ne),_t=u.ab.vec3.subtract(u.ab.vec3.create(),de,Ne),Tt=u.ab.vec3.dot(ge,ge),Yt=u.ab.vec3.dot(ge,dt),hn=u.ab.vec3.dot(ge,_t),We=u.ab.vec3.dot(dt,dt),Et=u.ab.vec3.dot(dt,_t),kt=Tt*We-Yt*Yt;if(kt===0){const mn=u.ab.vec3.dot(_t,dt)/u.ab.vec3.dot(dt,dt),kn=u.ab.vec3.lerp(u.ab.vec3.create(),Ne,Je,mn);return u.ab.vec3.squaredDistance(kn,de)}const Kt=(Yt*Et-hn*We)/kt,rt=(Tt*Et-Yt*hn)/kt,Qe=u.ab.vec3.lerp(u.ab.vec3.create(),de,K,Kt),gn=u.ab.vec3.lerp(u.ab.vec3.create(),Ne,Je,rt);return u.ab.vec3.squaredDistance(Qe,gn)}}class Ge{static parseFrom(de,K){const Ne=St.parse(de);if(!Ne)return[];let{vertices:Je,features:ge}=Ne;const dt=1/u.cc(K);ge.sort((hn,We)=>hn.id-We.id),Je.sort((hn,We)=>hn.id-We.id||hn.idx-We.idx),Je=Je.filter((hn,We,Et)=>We===Et.findIndex(kt=>kt.id===hn.id&&kt.idx===hn.idx));const _t=new Array;let Tt=0;const Yt=Je.length;for(const hn of ge){if(hn.constantHeight){_t.push(new Ot(hn.id,hn.bounds,hn.constantHeight));continue}for(;Tt!==Yt&&Je[Tt].id<hn.id;)Tt++;if(Tt===Yt||Je[Tt].id!==hn.id)continue;const We=new Array,Et=new Array,kt=Tt;for(;Tt!==Yt&&Je[Tt].id===hn.id;){const Kt=Je[Tt];if(We.push({position:Kt.position,height:Kt.height,extent:Kt.extent}),Tt!==kt&&Je[Tt-1].idx===Kt.idx-1){const rt=Tt-kt;Et.push({a:rt-1,b:rt})}Tt++}_t.push(new Ot(hn.id,hn.bounds,void 0,We,Et,dt))}return _t}}u.dV(Ot,"ElevationFeature");class Qt{constructor(de){this.tileID=new u.aG(de.tileID.overscaledZ,de.tileID.wrap,de.tileID.canonical.z,de.tileID.canonical.x,de.tileID.canonical.y),this.tileZoom=de.tileZoom,this.uid=de.uid,this.zoom=de.zoom,this.lut=de.lut,this.canonical=de.tileID.canonical,this.pixelRatio=de.pixelRatio,this.tileSize=de.tileSize,this.source=de.source,this.scope=de.scope,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=de.showCollisionBoxes,this.collectResourceTiming=!!de.request&&de.request.collectResourceTiming,this.promoteId=de.promoteId,this.isSymbolTile=de.isSymbolTile,this.tileTransform=u.aQ(de.tileID.canonical,de.projection),this.projection=de.projection,this.worldview=de.worldview,this.localizableLayerIds=de.localizableLayerIds,this.brightness=de.brightness,this.extraShadowCaster=!!de.extraShadowCaster,this.tessellationStep=de.tessellationStep,this.scaleFactor=de.scaleFactor}parse(de,K,Ne,Je,ge){this.status="parsing",this.data=de,this.collisionBoxArray=new u.aW;const dt=new u.d_(Object.keys(de.layers).sort()),_t=new u.d$(this.tileID,this.promoteId);_t.bucketLayerIDs=[];const Tt={},Yt=new u.e0(256,256),hn={featureIndex:_t,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:Yt,availableImages:Ne,brightness:this.brightness,scaleFactor:this.scaleFactor,elevationFeatures:void 0},We=K.familiesBySource[this.source];for(const mn in We){const kn=de.layers[mn];if(!kn)continue;let br=!1,ar=!1,Mr=!1;for(const ft of We[mn])ft[0].type==="symbol"?br=!0:ar=!0,ft[0].is3D()&&ft[0].type!=="model"&&(Mr=!0);if(this.extraShadowCaster&&!Mr||this.isSymbolTile===!0&&!br||this.isSymbolTile===!1&&!ar)continue;kn.version===1&&u.w(`Vector tile source "${this.source}" layer "${mn}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const qr=dt.encode(mn),oi=[];let Zi=!1;for(let ft=0,_n=0;ft<kn.length;ft++){const Ut=kn.feature(ft),bn=_t.getId(Ut,mn);if(this.localizableLayerIds&&this.localizableLayerIds.has(mn)){const sr=Ut.properties?Ut.properties.worldview:null;if(this.worldview&&typeof sr=="string")if(sr==="all")Ut.properties.$localized=!0;else{if(!sr.split(",").includes(this.worldview))continue;Ut.properties.$localized=!0,Ut.properties.worldview=this.worldview}}!Zi&&Ut.properties&&Ut.properties.hasOwnProperty(Ye)&&(Zi=!0),oi.push({feature:Ut,id:bn,index:_n,sourceLayerIndex:qr}),_n++}Zi&&de.layers.hasOwnProperty(ke)&&(hn.elevationFeatures=Ge.parseFrom(de.layers[ke],this.canonical));for(const ft of We[mn]){const _n=ft[0];(!this.extraShadowCaster||_n.is3D()&&_n.type!=="model")&&(this.isSymbolTile!==void 0&&_n.type==="symbol"!==this.isSymbolTile||_n.minzoom&&this.zoom<Math.floor(_n.minzoom)||_n.maxzoom&&this.zoom>=_n.maxzoom||_n.visibility!=="none"&&(Pt(ft,this.zoom,hn.brightness,Ne),(Tt[_n.id]=_n.createBucket({index:_t.bucketLayerIDs.length,layers:ft,zoom:this.zoom,lut:this.lut,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:qr,sourceID:this.source,projection:this.projection.spec,tessellationStep:this.tessellationStep})).populate(oi,hn,this.tileID.canonical,this.tileTransform),_t.bucketLayerIDs.push(ft.map(Ut=>u.aC(Ut.id,Ut.scope)))))}}let Et,kt,Kt,rt;Yt.trim();const Qe={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},gn=()=>{if(Et)return this.status="done",ge(Et);if(this.extraShadowCaster)this.status="done",ge(null,{buckets:u.bj(Tt).filter(mn=>!mn.isEmpty()),featureIndex:_t,collisionBoxArray:null,glyphAtlasImage:null,lineAtlas:null,imageAtlas:null,brightness:hn.brightness,glyphMap:null,iconMap:null,glyphPositions:null});else if(kt&&Kt&&rt){const mn=new oe(kt),kn=new u.e3(Kt,rt,this.lut);for(const br in Tt){const ar=Tt[br];ar instanceof u.aX?(Pt(ar.layers,this.zoom,hn.brightness,Ne),u.e4(ar,kt,mn.positions,Kt,kn.iconPositions,this.showCollisionBoxes,Ne,this.tileID.canonical,this.tileZoom,this.projection,this.scaleFactor,this.pixelRatio,this.brightness)):ar.hasPattern&&(ar instanceof u.b1||ar instanceof u.b2||ar instanceof u.d5)&&(Pt(ar.layers,this.zoom,hn.brightness,Ne),ar.addFeatures(hn,this.tileID.canonical,kn.patternPositions,Ne,this.tileTransform,this.brightness))}this.status="done",ge(null,{buckets:u.bj(Tt).filter(br=>!br.isEmpty()),featureIndex:_t,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:mn.image,lineAtlas:Yt,imageAtlas:kn,brightness:hn.brightness})}};if(!this.extraShadowCaster){const mn=u.e1(hn.glyphDependencies,ar=>Object.keys(ar).map(Number));Object.keys(mn).length?Je.send("getGlyphs",{uid:this.uid,stacks:mn,scope:this.scope},(ar,Mr)=>{Et||(Et=ar,kt=Mr,gn())},void 0,!1,Qe):kt={};const kn=Object.keys(hn.iconDependencies);kn.length?Je.send("getImages",{icons:kn,source:this.source,scope:this.scope,tileID:this.tileID,type:"icons"},(ar,Mr)=>{if(Et)return;Et=ar;const qr={};Object.values(Mr).some(oi=>oi.usvg)?this.rasterize(Je,qr,Mr,hn.iconDependencies,()=>{Kt=qr,gn()}):(this.fillImageMap(qr,hn.iconDependencies,Mr),Kt=qr,gn())},void 0,!1,Qe):Kt={};const br=Object.keys(hn.patternDependencies);br.length?Je.send("getImages",{icons:br,source:this.source,scope:this.scope,tileID:this.tileID,type:"patterns"},(ar,Mr)=>{if(!Et){Et=ar;const qr={};Object.values(Mr).some(oi=>oi.usvg)?this.rasterize(Je,qr,Mr,hn.patternDependencies,()=>{rt=qr,gn()}):(this.fillImageMap(qr,hn.patternDependencies,Mr),rt=qr,gn())}},void 0,!1,Qe):rt={}}gn()}fillImageMap(de,K,Ne){for(const Je in Ne){const ge=K[Je]||[];for(const dt of ge)Ne[dt.id].usvg||(de[dt.serialize()]=Ne[dt.id])}}getImageTaskQueue(de,K,Ne){const Je={};for(const ge in K){const dt=Ne[ge]||[];for(const _t of dt){const Tt=_t.serialize();K[_t.id].usvg?Je[Tt]||(Je[Tt]=_t):de[Tt]=K[_t.id]}}return Je}rasterize(de,K,Ne,Je,ge){const dt=this.getImageTaskQueue(K,Ne,Je);this.rasterizeTask=de.send("rasterizeImages",{scope:this.scope,imageTasks:dt},(_t,Tt)=>{if(!_t)for(const Yt in Tt){const{id:hn}=u.e2.deserializeFromString(Yt);K[Yt]=Object.assign({},Ne[hn],{data:Tt[Yt]})}ge()})}cancelRasterize(){this.rasterizeTask&&this.rasterizeTask.cancel()}}function Pt(Pe,de,K,Ne){const Je=new u.a8(de,{brightness:K});for(const ge of Pe)ge.recalculate(Je,Ne)}class Ft extends u.E{constructor(de,K,Ne,Je,ge,dt){super(),this.actor=de,this.layerIndex=K,this.availableImages=Ne,this.loadVectorData=ge||u.aD,this.loading={},this.loaded={},this.deduped=new u.aB(de.scheduler),this.isSpriteLoaded=Je,this.scheduler=de.scheduler,this.brightness=dt}loadTile(de,K){const Ne=de.uid,Je=de&&de.request,ge=Je&&Je.collectResourceTiming,dt=this.loading[Ne]=new Qt(de);dt.abort=this.loadVectorData(de,(_t,Tt)=>{const Yt=!this.loading[Ne];if(delete this.loading[Ne],dt.cancelRasterize(),Yt||_t||!Tt)return dt.status="done",Yt||(this.loaded[Ne]=dt),K(_t);const hn=Tt.rawData,We={};Tt.expires&&(We.expires=Tt.expires),Tt.cacheControl&&(We.cacheControl=Tt.cacheControl),dt.vectorTile=Tt.vectorTile||new u.dY.VectorTile(new u.bh(hn));const Et=()=>{dt.parse(dt.vectorTile,this.layerIndex,this.availableImages,this.actor,(kt,Kt)=>{if(kt||!Kt)return K(kt);const rt={};if(ge){const Qe=Ie(Je);Qe.length>0&&(rt.resourceTiming=JSON.parse(JSON.stringify(Qe)))}K(null,u.l({rawTileData:hn.slice(0)},Kt,We,rt))})};this.isSpriteLoaded?Et():this.once("isSpriteLoaded",()=>{this.scheduler?this.scheduler.add(Et,{type:"parseTile",isSymbolTile:de.isSymbolTile,zoom:de.tileZoom}):Et()}),this.loaded=this.loaded||{},this.loaded[Ne]=dt})}reloadTile(de,K){const Ne=this.loaded,Je=de.uid;if(Ne&&Ne[Je]){const ge=Ne[Je];ge.scaleFactor=de.scaleFactor,ge.showCollisionBoxes=de.showCollisionBoxes,ge.projection=de.projection,ge.brightness=de.brightness,ge.tileTransform=u.aQ(de.tileID.canonical,de.projection),ge.extraShadowCaster=de.extraShadowCaster,ge.lut=de.lut;const dt=(_t,Tt)=>{const Yt=ge.reloadCallback;Yt&&(delete ge.reloadCallback,ge.parse(ge.vectorTile,this.layerIndex,this.availableImages,this.actor,Yt)),K(_t,Tt)};ge.status==="parsing"?ge.reloadCallback=dt:ge.status==="done"&&(ge.vectorTile?ge.parse(ge.vectorTile,this.layerIndex,this.availableImages,this.actor,dt):dt())}else K(null,void 0)}abortTile(de,K){const Ne=de.uid,Je=this.loading[Ne];Je&&(Je.abort&&Je.abort(),delete this.loading[Ne]),K()}removeTile(de,K){const Ne=this.loaded,Je=de.uid;Ne&&Ne[Je]&&delete Ne[Je],K()}}class Xt{loadTile(de,K){const{uid:Ne,encoding:Je,rawImageData:ge,padding:dt}=de,_t=ImageBitmap&&ge instanceof ImageBitmap?this.getImageData(ge,dt):ge;K(null,new u.e5(Ne,_t,Je,dt<1))}getImageData(de,K){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(de.width,de.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d",{willReadFrequently:!0})),this.offscreenCanvas.width=de.width,this.offscreenCanvas.height=de.height,this.offscreenCanvasContext.drawImage(de,0,0,de.width,de.height);const Ne=this.offscreenCanvasContext.getImageData(-K,-K,de.width+2*K,de.height+2*K);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),Ne}}u.bg.setPbf(u.bh);class Ht{decodeRasterArray({task:de,buffer:K},Ne){u.bg.performDecoding(K,de).then(Je=>{Ne(null,Je)},Je=>{Ne(Je)})}}const Ar=u.dY.VectorTileFeature.prototype.toGeoJSON;class Cr{constructor(de){this._feature=de,this.extent=u.ag,this.type=de.type,this.properties=de.tags,"id"in de&&!isNaN(de.id)&&(this.id=parseInt(de.id,10))}loadGeometry(){if(this._feature.type===1){const de=[];for(const K of this._feature.geometry)de.push([new u.P(K[0],K[1])]);return de}{const de=[];for(const K of this._feature.geometry){const Ne=[];for(const Je of K)Ne.push(new u.P(Je[0],Je[1]));de.push(Ne)}return de}}toGeoJSON(de,K,Ne){return Ar.call(this,de,K,Ne)}}class Dr{constructor(de){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=u.ag,this.length=de.length,this._features=de}feature(de){return new Cr(this._features[de])}}const Ue=64/4096,sn=128;class Bn{constructor(){this.features=new Map}clear(){this.features.clear()}load(de=[],K){for(const Ne of de){const Je=Ne.id;if(Je==null)continue;let ge=this.features.get(Je);ge&&this.updateCache(ge,K),Ne.geometry?(ge=Be(Ne),this.updateCache(ge,K),this.features.set(Je,ge)):this.features.delete(Je),this.updateCache(ge,K)}}updateCache(de,K){for(const{canonical:Ne,uid:Je}of Object.values(K)){const{z:ge,x:dt,y:_t}=Ne;En(de,Math.pow(2,ge),dt,_t)&&delete K[Je]}}getTile(de,K,Ne){const Je=Math.pow(2,de),ge=[];for(const dt of this.features.values())En(dt,Je,K,Ne)&&ge.push(pt(dt,Je,K,Ne));return{features:ge}}getFeatures(){return[...this.features.values()]}}function En({minX:Pe,minY:de,maxX:K,maxY:Ne},Je,ge,dt){return Pe<(ge+1+Ue)/Je&&de<(dt+1+Ue)/Je&&K>(ge-Ue)/Je&&Ne>(dt-Ue)/Je}function Be(Pe){const{id:de,geometry:K,properties:Ne}=Pe;if(!K)return;if(K.type==="GeometryCollection")throw new Error("GeometryCollection not supported in dynamic mode.");const{type:Je,coordinates:ge}=K,dt={id:de,type:1,geometry:[],tags:Ne,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0},_t=dt.geometry;if(Je==="Point")Gn(ge,_t,dt);else if(Je==="MultiPoint")for(const Tt of ge)Gn(Tt,_t,dt);else if(Je==="LineString")dt.type=2,In(ge,_t,dt);else if(Je==="MultiLineString")dt.type=2,Rn(ge,_t,dt);else if(Je==="Polygon")dt.type=3,Rn(ge,_t,dt,!0);else{if(Je!=="MultiPolygon")throw new Error("Input data is not a valid GeoJSON object.");dt.type=3;for(const Tt of ge)Rn(Tt,_t,dt,!0)}return dt}function Gn([Pe,de],K,Ne){const Je=u.at(Pe);let ge=u.aA(de);ge=ge<0?0:ge>1?1:ge,K.push(Je,ge),Ne.minX=Math.min(Ne.minX,Je),Ne.minY=Math.min(Ne.minY,ge),Ne.maxX=Math.max(Ne.maxX,Je),Ne.maxY=Math.max(Ne.maxY,ge)}function In(Pe,de,K,Ne=!1,Je=!1){const ge=[];for(const dt of Pe)Gn(dt,ge,K);de.push(ge),Ne&&function(dt,_t){let Tt=0;for(let Yt=0,hn=dt.length,We=hn-2;Yt<hn;We=Yt,Yt+=2)Tt+=(dt[Yt]-dt[We])*(dt[Yt+1]+dt[We+1]);if(Tt>0===_t)for(let Yt=0,hn=dt.length;Yt<hn/2;Yt+=2){const We=dt[Yt],Et=dt[Yt+1];dt[Yt]=dt[hn-2-Yt],dt[Yt+1]=dt[hn-1-Yt],dt[hn-2-Yt]=We,dt[hn-1-Yt]=Et}}(ge,Je)}function Rn(Pe,de,K,Ne=!1){for(let Je=0;Je<Pe.length;Je++)In(Pe[Je],de,K,Ne,Je===0)}function pt(Pe,de,K,Ne){const{id:Je,type:ge,geometry:dt,tags:_t}=Pe,Tt=[];if(ge===1)(function(Yt,hn,We,Et,kt){for(let Kt=0;Kt<Yt.length;Kt+=2){const rt=Math.round(u.ag*(Yt[Kt+0]*hn-We)),Qe=Math.round(u.ag*(Yt[Kt+1]*hn-Et));kt.push([rt,Qe])}})(dt,de,K,Ne,Tt);else for(const Yt of dt)an(Yt,de,K,Ne,Tt);return{id:Je,type:ge,geometry:Tt,tags:_t}}function an(Pe,de,K,Ne,Je){const ge=-sn,dt=u.ag+sn;let _t;for(let Tt=0;Tt<Pe.length-2;Tt+=2){let Yt=Math.round(u.ag*(Pe[Tt+0]*de-K)),hn=Math.round(u.ag*(Pe[Tt+1]*de-Ne)),We=Math.round(u.ag*(Pe[Tt+2]*de-K)),Et=Math.round(u.ag*(Pe[Tt+3]*de-Ne));const kt=We-Yt,Kt=Et-hn;Yt<ge&&We<ge||(Yt<ge?(hn+=Math.round(Kt*((ge-Yt)/kt)),Yt=ge):We<ge&&(Et=hn+Math.round(Kt*((ge-Yt)/kt)),We=ge),hn<ge&&Et<ge||(hn<ge?(Yt+=Math.round(kt*((ge-hn)/Kt)),hn=ge):Et<ge&&(We=Yt+Math.round(kt*((ge-hn)/Kt)),Et=ge),Yt>=dt&&We>=dt||(Yt>=dt?(hn+=Math.round(Kt*((dt-Yt)/kt)),Yt=dt):We>=dt&&(Et=hn+Math.round(Kt*((dt-Yt)/kt)),We=dt),hn>=dt&&Et>=dt||(hn>=dt?(Yt+=Math.round(kt*((dt-hn)/Kt)),hn=dt):Et>=dt&&(We=Yt+Math.round(kt*((dt-hn)/Kt)),Et=dt),_t&&Yt===_t[_t.length-1][0]&&hn===_t[_t.length-1][1]||(_t=[[Yt,hn]],Je.push(_t)),_t.push([We,Et])))))}}var Tn,me,nn,bi={exports:{}},ui=function(){if(nn)return bi.exports;nn=1;var Pe=u.e8(),de=function(){if(me)return Tn;me=1;var hn=u.e6(),We=u.e7().VectorTileFeature;function Et(Kt,rt){this.options=rt||{},this.features=Kt,this.length=Kt.length}function kt(Kt,rt){this.id=typeof Kt.id=="number"?Kt.id:void 0,this.type=Kt.type,this.rawGeometry=Kt.type===1?[Kt.geometry]:Kt.geometry,this.properties=Kt.tags,this.extent=rt||4096}return Tn=Et,Et.prototype.feature=function(Kt){return new kt(this.features[Kt],this.options.extent)},kt.prototype.loadGeometry=function(){var Kt=this.rawGeometry;this.geometry=[];for(var rt=0;rt<Kt.length;rt++){for(var Qe=Kt[rt],gn=[],mn=0;mn<Qe.length;mn++)gn.push(new hn(Qe[mn][0],Qe[mn][1]));this.geometry.push(gn)}return this.geometry},kt.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var Kt=this.geometry,rt=1/0,Qe=-1/0,gn=1/0,mn=-1/0,kn=0;kn<Kt.length;kn++)for(var br=Kt[kn],ar=0;ar<br.length;ar++){var Mr=br[ar];rt=Math.min(rt,Mr.x),Qe=Math.max(Qe,Mr.x),gn=Math.min(gn,Mr.y),mn=Math.max(mn,Mr.y)}return[rt,gn,Qe,mn]},kt.prototype.toGeoJSON=We.prototype.toGeoJSON,Tn}();function K(hn){var We=new Pe;return function(Et,kt){for(var Kt in Et.layers)kt.writeMessage(3,Ne,Et.layers[Kt])}(hn,We),We.finish()}function Ne(hn,We){var Et;We.writeVarintField(15,hn.version||1),We.writeStringField(1,hn.name||""),We.writeVarintField(5,hn.extent||4096);var kt={keys:[],values:[],keycache:{},valuecache:{}};for(Et=0;Et<hn.length;Et++)kt.feature=hn.feature(Et),We.writeMessage(2,Je,kt);var Kt=kt.keys;for(Et=0;Et<Kt.length;Et++)We.writeStringField(3,Kt[Et]);var rt=kt.values;for(Et=0;Et<rt.length;Et++)We.writeMessage(4,Yt,rt[Et])}function Je(hn,We){var Et=hn.feature;Et.id!==void 0&&We.writeVarintField(1,Et.id),We.writeMessage(2,ge,hn),We.writeVarintField(3,Et.type),We.writeMessage(4,Tt,Et)}function ge(hn,We){var Et=hn.feature,kt=hn.keys,Kt=hn.values,rt=hn.keycache,Qe=hn.valuecache;for(var gn in Et.properties){var mn=Et.properties[gn],kn=rt[gn];if(mn!==null){kn===void 0&&(kt.push(gn),rt[gn]=kn=kt.length-1),We.writeVarint(kn);var br=typeof mn;br!=="string"&&br!=="boolean"&&br!=="number"&&(mn=JSON.stringify(mn));var ar=br+":"+mn,Mr=Qe[ar];Mr===void 0&&(Kt.push(mn),Qe[ar]=Mr=Kt.length-1),We.writeVarint(Mr)}}}function dt(hn,We){return(We<<3)+(7&hn)}function _t(hn){return hn<<1^hn>>31}function Tt(hn,We){for(var Et=hn.loadGeometry(),kt=hn.type,Kt=0,rt=0,Qe=Et.length,gn=0;gn<Qe;gn++){var mn=Et[gn],kn=1;kt===1&&(kn=mn.length),We.writeVarint(dt(1,kn));for(var br=kt===3?mn.length-1:mn.length,ar=0;ar<br;ar++){ar===1&&kt!==1&&We.writeVarint(dt(2,br-1));var Mr=mn[ar].x-Kt,qr=mn[ar].y-rt;We.writeVarint(_t(Mr)),We.writeVarint(_t(qr)),Kt+=Mr,rt+=qr}kt===3&&We.writeVarint(dt(7,1))}}function Yt(hn,We){var Et=typeof hn;Et==="string"?We.writeStringField(1,hn):Et==="boolean"?We.writeBooleanField(7,hn):Et==="number"&&(hn%1!=0?We.writeDoubleField(3,hn):hn<0?We.writeSVarintField(6,hn):We.writeVarintField(5,hn))}return bi.exports=K,bi.exports.fromVectorTileJs=K,bi.exports.fromGeojsonVt=function(hn,We){We=We||{};var Et={};for(var kt in hn)Et[kt]=new de(hn[kt].features,We),Et[kt].name=kt,Et[kt].version=We.version,Et[kt].extent=We.extent;return K({layers:Et})},bi.exports.GeoJSONWrapper=de,bi.exports}(),$e=u.e9(ui);const Mn={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:Pe=>Pe},Kr=Math.fround||(jr=new Float32Array(1),Pe=>(jr[0]=+Pe,jr[0]));var jr;const Sn=3,Fr=5,Ii=6;class fr{constructor(de){this.options=Object.assign(Object.create(Mn),de),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(de){const{log:K,minZoom:Ne,maxZoom:Je}=this.options;K&&console.time("total time");const ge=`prepare ${de.length} points`;K&&console.time(ge),this.points=de;const dt=[];for(let Tt=0;Tt<de.length;Tt++){const Yt=de[Tt];if(!Yt.geometry)continue;const[hn,We]=Yt.geometry.coordinates,Et=Kr(Fn(hn)),kt=Kr(un(We));dt.push(Et,kt,1/0,Tt,-1,1),this.options.reduce&&dt.push(0)}let _t=this.trees[Je+1]=this._createTree(dt);K&&console.timeEnd(ge);for(let Tt=Je;Tt>=Ne;Tt--){const Yt=+Date.now();_t=this.trees[Tt]=this._createTree(this._cluster(_t,Tt)),K&&console.log("z%d: %d clusters in %dms",Tt,_t.numItems,+Date.now()-Yt)}return K&&console.timeEnd("total time"),this}getClusters(de,K){let Ne=((de[0]+180)%360+360)%360-180;const Je=Math.max(-90,Math.min(90,de[1]));let ge=de[2]===180?180:((de[2]+180)%360+360)%360-180;const dt=Math.max(-90,Math.min(90,de[3]));if(de[2]-de[0]>=360)Ne=-180,ge=180;else if(Ne>ge){const We=this.getClusters([Ne,Je,180,dt],K),Et=this.getClusters([-180,Je,ge,dt],K);return We.concat(Et)}const _t=this.trees[this._limitZoom(K)],Tt=_t.range(Fn(Ne),un(dt),Fn(ge),un(Je)),Yt=_t.data,hn=[];for(const We of Tt){const Et=this.stride*We;hn.push(Yt[Et+Fr]>1?st(Yt,Et,this.clusterProps):this.points[Yt[Et+Sn]])}return hn}getChildren(de){const K=this._getOriginId(de),Ne=this._getOriginZoom(de),Je="No cluster with the specified id.",ge=this.trees[Ne];if(!ge)throw new Error(Je);const dt=ge.data;if(K*this.stride>=dt.length)throw new Error(Je);const _t=this.options.radius/(this.options.extent*Math.pow(2,Ne-1)),Tt=ge.within(dt[K*this.stride],dt[K*this.stride+1],_t),Yt=[];for(const hn of Tt){const We=hn*this.stride;dt[We+4]===de&&Yt.push(dt[We+Fr]>1?st(dt,We,this.clusterProps):this.points[dt[We+Sn]])}if(Yt.length===0)throw new Error(Je);return Yt}getLeaves(de,K,Ne){const Je=[];return this._appendLeaves(Je,de,K=K||10,Ne=Ne||0,0),Je}getTile(de,K,Ne){const Je=this.trees[this._limitZoom(de)],ge=Math.pow(2,de),{extent:dt,radius:_t}=this.options,Tt=_t/dt,Yt=(Ne-Tt)/ge,hn=(Ne+1+Tt)/ge,We={features:[]};return this._addTileFeatures(Je.range((K-Tt)/ge,Yt,(K+1+Tt)/ge,hn),Je.data,K,Ne,ge,We),K===0&&this._addTileFeatures(Je.range(1-Tt/ge,Yt,1,hn),Je.data,ge,Ne,ge,We),K===ge-1&&this._addTileFeatures(Je.range(0,Yt,Tt/ge,hn),Je.data,-1,Ne,ge,We),We.features.length?We:null}getClusterExpansionZoom(de){let K=this._getOriginZoom(de)-1;for(;K<=this.options.maxZoom;){const Ne=this.getChildren(de);if(K++,Ne.length!==1)break;de=Ne[0].properties.cluster_id}return K}_appendLeaves(de,K,Ne,Je,ge){const dt=this.getChildren(K);for(const _t of dt){const Tt=_t.properties;if(Tt&&Tt.cluster?ge+Tt.point_count<=Je?ge+=Tt.point_count:ge=this._appendLeaves(de,Tt.cluster_id,Ne,Je,ge):ge<Je?ge++:de.push(_t),de.length===Ne)break}return ge}_createTree(de){const K=new u.bE(de.length/this.stride|0,this.options.nodeSize,Float32Array);for(let Ne=0;Ne<de.length;Ne+=this.stride)K.add(de[Ne],de[Ne+1]);return K.finish(),K.data=de,K}_addTileFeatures(de,K,Ne,Je,ge,dt){for(const _t of de){const Tt=_t*this.stride,Yt=K[Tt+Fr]>1;let hn,We,Et;if(Yt)hn=jt(K,Tt,this.clusterProps),We=K[Tt],Et=K[Tt+1];else{const rt=this.points[K[Tt+Sn]];hn=rt.properties;const[Qe,gn]=rt.geometry.coordinates;We=Fn(Qe),Et=un(gn)}const kt={type:1,geometry:[[Math.round(this.options.extent*(We*ge-Ne)),Math.round(this.options.extent*(Et*ge-Je))]],tags:hn};let Kt;Kt=Yt||this.options.generateId?K[Tt+Sn]:this.points[K[Tt+Sn]].id,Kt!==void 0&&(kt.id=Kt),dt.features.push(kt)}}_limitZoom(de){return Math.max(this.options.minZoom,Math.min(Math.floor(+de),this.options.maxZoom+1))}_cluster(de,K){const{radius:Ne,extent:Je,reduce:ge,minPoints:dt}=this.options,_t=Ne/(Je*Math.pow(2,K)),Tt=de.data,Yt=[],hn=this.stride;for(let We=0;We<Tt.length;We+=hn){if(Tt[We+2]<=K)continue;Tt[We+2]=K;const Et=Tt[We],kt=Tt[We+1],Kt=de.within(Tt[We],Tt[We+1],_t),rt=Tt[We+Fr];let Qe=rt;for(const gn of Kt){const mn=gn*hn;Tt[mn+2]>K&&(Qe+=Tt[mn+Fr])}if(Qe>rt&&Qe>=dt){let gn,mn=Et*rt,kn=kt*rt,br=-1;const ar=(We/hn<<5)+(K+1)+this.points.length;for(const Mr of Kt){const qr=Mr*hn;if(Tt[qr+2]<=K)continue;Tt[qr+2]=K;const oi=Tt[qr+Fr];mn+=Tt[qr]*oi,kn+=Tt[qr+1]*oi,Tt[qr+4]=ar,ge&&(gn||(gn=this._map(Tt,We,!0),br=this.clusterProps.length,this.clusterProps.push(gn)),ge(gn,this._map(Tt,qr)))}Tt[We+4]=ar,Yt.push(mn/Qe,kn/Qe,1/0,ar,-1,Qe),ge&&Yt.push(br)}else{for(let gn=0;gn<hn;gn++)Yt.push(Tt[We+gn]);if(Qe>1)for(const gn of Kt){const mn=gn*hn;if(!(Tt[mn+2]<=K)){Tt[mn+2]=K;for(let kn=0;kn<hn;kn++)Yt.push(Tt[mn+kn])}}}}return Yt}_getOriginId(de){return de-this.points.length>>5}_getOriginZoom(de){return(de-this.points.length)%32}_map(de,K,Ne){if(de[K+Fr]>1){const dt=this.clusterProps[de[K+Ii]];return Ne?Object.assign({},dt):dt}const Je=this.points[de[K+Sn]].properties,ge=this.options.map(Je);return Ne&&ge===Je?Object.assign({},ge):ge}}function st(Pe,de,K){return{type:"Feature",id:Pe[de+Sn],properties:jt(Pe,de,K),geometry:{type:"Point",coordinates:[(Ne=Pe[de],360*(Ne-.5)),pn(Pe[de+1])]}};var Ne}function jt(Pe,de,K){const Ne=Pe[de+Fr],Je=Ne>=1e4?`${Math.round(Ne/1e3)}k`:Ne>=1e3?Math.round(Ne/100)/10+"k":Ne,ge=Pe[de+Ii],dt=ge===-1?{}:Object.assign({},K[ge]);return Object.assign(dt,{cluster:!0,cluster_id:Pe[de+Sn],point_count:Ne,point_count_abbreviated:Je})}function Fn(Pe){return Pe/360+.5}function un(Pe){const de=Math.sin(Pe*Math.PI/180),K=.5-.25*Math.log((1+de)/(1-de))/Math.PI;return K<0?0:K>1?1:K}function pn(Pe){const de=(180-360*Pe)*Math.PI/180;return 360*Math.atan(Math.exp(de))/Math.PI-90}function Sr(Pe,de,K,Ne){let Je=Ne;const ge=de+(K-de>>1);let dt,_t=K-de;const Tt=Pe[de],Yt=Pe[de+1],hn=Pe[K],We=Pe[K+1];for(let Et=de+3;Et<K;Et+=3){const kt=Vn(Pe[Et],Pe[Et+1],Tt,Yt,hn,We);if(kt>Je)dt=Et,Je=kt;else if(kt===Je){const Kt=Math.abs(Et-ge);Kt<_t&&(dt=Et,_t=Kt)}}Je>Ne&&(dt-de>3&&Sr(Pe,de,dt,Ne),Pe[dt+2]=Je,K-dt>3&&Sr(Pe,dt,K,Ne))}function Vn(Pe,de,K,Ne,Je,ge){let dt=Je-K,_t=ge-Ne;if(dt!==0||_t!==0){const Tt=((Pe-K)*dt+(de-Ne)*_t)/(dt*dt+_t*_t);Tt>1?(K=Je,Ne=ge):Tt>0&&(K+=dt*Tt,Ne+=_t*Tt)}return dt=Pe-K,_t=de-Ne,dt*dt+_t*_t}function Xr(Pe,de,K,Ne){const Je={id:Pe!=null?Pe:null,type:de,geometry:K,tags:Ne,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};if(de==="Point"||de==="MultiPoint"||de==="LineString")ri(Je,K);else if(de==="Polygon")ri(Je,K[0]);else if(de==="MultiLineString")for(const ge of K)ri(Je,ge);else if(de==="MultiPolygon")for(const ge of K)ri(Je,ge[0]);return Je}function ri(Pe,de){for(let K=0;K<de.length;K+=3)Pe.minX=Math.min(Pe.minX,de[K]),Pe.minY=Math.min(Pe.minY,de[K+1]),Pe.maxX=Math.max(Pe.maxX,de[K]),Pe.maxY=Math.max(Pe.maxY,de[K+1])}function Zr(Pe,de,K,Ne){if(!de.geometry)return;const Je=de.geometry.coordinates;if(Je&&Je.length===0)return;const ge=de.geometry.type,dt=Math.pow(K.tolerance/((1<<K.maxZoom)*K.extent),2);let _t=[],Tt=de.id;if(K.promoteId?Tt=de.properties[K.promoteId]:K.generateId&&(Tt=Ne||0),ge==="Point")ei(Je,_t);else if(ge==="MultiPoint")for(const Yt of Je)ei(Yt,_t);else if(ge==="LineString")vr(Je,_t,dt,!1);else if(ge==="MultiLineString"){if(K.lineMetrics){for(const Yt of Je)_t=[],vr(Yt,_t,dt,!1),Pe.push(Xr(Tt,"LineString",_t,de.properties));return}hr(Je,_t,dt,!1)}else if(ge==="Polygon")hr(Je,_t,dt,!0);else{if(ge!=="MultiPolygon"){if(ge==="GeometryCollection"){for(const Yt of de.geometry.geometries)Zr(Pe,{id:Tt,geometry:Yt,properties:de.properties},K,Ne);return}throw new Error("Input data is not a valid GeoJSON object.")}for(const Yt of Je){const hn=[];hr(Yt,hn,dt,!0),_t.push(hn)}}Pe.push(Xr(Tt,ge,_t,de.properties))}function ei(Pe,de){de.push(ur(Pe[0]),wr(Pe[1]),0)}function vr(Pe,de,K,Ne){let Je,ge,dt=0;for(let Tt=0;Tt<Pe.length;Tt++){const Yt=ur(Pe[Tt][0]),hn=wr(Pe[Tt][1]);de.push(Yt,hn,0),Tt>0&&(dt+=Ne?(Je*hn-Yt*ge)/2:Math.sqrt(Math.pow(Yt-Je,2)+Math.pow(hn-ge,2))),Je=Yt,ge=hn}const _t=de.length-3;de[2]=1,Sr(de,0,_t,K),de[_t+2]=1,de.size=Math.abs(dt),de.start=0,de.end=de.size}function hr(Pe,de,K,Ne){for(let Je=0;Je<Pe.length;Je++){const ge=[];vr(Pe[Je],ge,K,Ne),de.push(ge)}}function ur(Pe){return Pe/360+.5}function wr(Pe){const de=Math.sin(Pe*Math.PI/180),K=.5-.25*Math.log((1+de)/(1-de))/Math.PI;return K<0?0:K>1?1:K}function yr(Pe,de,K,Ne,Je,ge,dt,_t){if(Ne/=de,ge>=(K/=de)&&dt<Ne)return Pe;if(dt<K||ge>=Ne)return null;const Tt=[];for(const Yt of Pe){const hn=Yt.geometry;let We=Yt.type;const Et=Je===0?Yt.minX:Yt.minY,kt=Je===0?Yt.maxX:Yt.maxY;if(Et>=K&&kt<Ne){Tt.push(Yt);continue}if(kt<K||Et>=Ne)continue;let Kt=[];if(We==="Point"||We==="MultiPoint")Nr(hn,Kt,K,Ne,Je);else if(We==="LineString")Xn(hn,Kt,K,Ne,Je,!1,_t.lineMetrics);else if(We==="MultiLineString")Ur(hn,Kt,K,Ne,Je,!1);else if(We==="Polygon")Ur(hn,Kt,K,Ne,Je,!0);else if(We==="MultiPolygon")for(const rt of hn){const Qe=[];Ur(rt,Qe,K,Ne,Je,!0),Qe.length&&Kt.push(Qe)}if(Kt.length){if(_t.lineMetrics&&We==="LineString"){for(const rt of Kt)Tt.push(Xr(Yt.id,We,rt,Yt.tags));continue}We!=="LineString"&&We!=="MultiLineString"||(Kt.length===1?(We="LineString",Kt=Kt[0]):We="MultiLineString"),We!=="Point"&&We!=="MultiPoint"||(We=Kt.length===3?"Point":"MultiPoint"),Tt.push(Xr(Yt.id,We,Kt,Yt.tags))}}return Tt.length?Tt:null}function Nr(Pe,de,K,Ne,Je){for(let ge=0;ge<Pe.length;ge+=3){const dt=Pe[ge+Je];dt>=K&&dt<=Ne&&Ln(de,Pe[ge],Pe[ge+1],Pe[ge+2])}}function Xn(Pe,de,K,Ne,Je,ge,dt){let _t=lr(Pe);const Tt=Je===0?_i:fi;let Yt,hn,We=Pe.start;for(let Qe=0;Qe<Pe.length-3;Qe+=3){const gn=Pe[Qe],mn=Pe[Qe+1],kn=Pe[Qe+2],br=Pe[Qe+3],ar=Pe[Qe+4],Mr=Je===0?gn:mn,qr=Je===0?br:ar;let oi=!1;dt&&(Yt=Math.sqrt(Math.pow(gn-br,2)+Math.pow(mn-ar,2))),Mr<K?qr>K&&(hn=Tt(_t,gn,mn,br,ar,K),dt&&(_t.start=We+Yt*hn)):Mr>Ne?qr<Ne&&(hn=Tt(_t,gn,mn,br,ar,Ne),dt&&(_t.start=We+Yt*hn)):Ln(_t,gn,mn,kn),qr<K&&Mr>=K&&(hn=Tt(_t,gn,mn,br,ar,K),oi=!0),qr>Ne&&Mr<=Ne&&(hn=Tt(_t,gn,mn,br,ar,Ne),oi=!0),!ge&&oi&&(dt&&(_t.end=We+Yt*hn),de.push(_t),_t=lr(Pe)),dt&&(We+=Yt)}let Et=Pe.length-3;const kt=Pe[Et],Kt=Pe[Et+1],rt=Je===0?kt:Kt;rt>=K&&rt<=Ne&&Ln(_t,kt,Kt,Pe[Et+2]),Et=_t.length-3,ge&&Et>=3&&(_t[Et]!==_t[0]||_t[Et+1]!==_t[1])&&Ln(_t,_t[0],_t[1],_t[2]),_t.length&&de.push(_t)}function lr(Pe){const de=[];return de.size=Pe.size,de.start=Pe.start,de.end=Pe.end,de}function Ur(Pe,de,K,Ne,Je,ge){for(const dt of Pe)Xn(dt,de,K,Ne,Je,ge,!1)}function Ln(Pe,de,K,Ne){Pe.push(de,K,Ne)}function _i(Pe,de,K,Ne,Je,ge){const dt=(ge-de)/(Ne-de);return Ln(Pe,ge,K+(Je-K)*dt,1),dt}function fi(Pe,de,K,Ne,Je,ge){const dt=(ge-K)/(Je-K);return Ln(Pe,de+(Ne-de)*dt,ge,1),dt}function Wi(Pe,de){const K=[];for(let Ne=0;Ne<Pe.length;Ne++){const Je=Pe[Ne],ge=Je.type;let dt;if(ge==="Point"||ge==="MultiPoint"||ge==="LineString")dt=po(Je.geometry,de);else if(ge==="MultiLineString"||ge==="Polygon"){dt=[];for(const _t of Je.geometry)dt.push(po(_t,de))}else if(ge==="MultiPolygon"){dt=[];for(const _t of Je.geometry){const Tt=[];for(const Yt of _t)Tt.push(po(Yt,de));dt.push(Tt)}}K.push(Xr(Je.id,ge,dt,Je.tags))}return K}function po(Pe,de){const K=[];K.size=Pe.size,Pe.start!==void 0&&(K.start=Pe.start,K.end=Pe.end);for(let Ne=0;Ne<Pe.length;Ne+=3)K.push(Pe[Ne]+de,Pe[Ne+1],Pe[Ne+2]);return K}function kr(Pe,de){if(Pe.transformed)return Pe;const K=1<<Pe.z,Ne=Pe.x,Je=Pe.y;for(const ge of Pe.features){const dt=ge.geometry,_t=ge.type;if(ge.geometry=[],_t===1)for(let Tt=0;Tt<dt.length;Tt+=2)ge.geometry.push(no(dt[Tt],dt[Tt+1],de,K,Ne,Je));else for(let Tt=0;Tt<dt.length;Tt++){const Yt=[];for(let hn=0;hn<dt[Tt].length;hn+=2)Yt.push(no(dt[Tt][hn],dt[Tt][hn+1],de,K,Ne,Je));ge.geometry.push(Yt)}}return Pe.transformed=!0,Pe}function no(Pe,de,K,Ne,Je,ge){return[Math.round(K*(Pe*Ne-Je)),Math.round(K*(de*Ne-ge))]}function qt(Pe,de,K,Ne,Je){const ge=de===Je.maxZoom?0:Je.tolerance/((1<<de)*Je.extent),dt={features:[],numPoints:0,numSimplified:0,numFeatures:Pe.length,source:null,x:K,y:Ne,z:de,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0};for(const _t of Pe)xn(dt,_t,ge,Je);return dt}function xn(Pe,de,K,Ne){const Je=de.geometry,ge=de.type,dt=[];if(Pe.minX=Math.min(Pe.minX,de.minX),Pe.minY=Math.min(Pe.minY,de.minY),Pe.maxX=Math.max(Pe.maxX,de.maxX),Pe.maxY=Math.max(Pe.maxY,de.maxY),ge==="Point"||ge==="MultiPoint")for(let _t=0;_t<Je.length;_t+=3)dt.push(Je[_t],Je[_t+1]),Pe.numPoints++,Pe.numSimplified++;else if(ge==="LineString")Jn(dt,Je,Pe,K,!1,!1);else if(ge==="MultiLineString"||ge==="Polygon")for(let _t=0;_t<Je.length;_t++)Jn(dt,Je[_t],Pe,K,ge==="Polygon",_t===0);else if(ge==="MultiPolygon")for(let _t=0;_t<Je.length;_t++){const Tt=Je[_t];for(let Yt=0;Yt<Tt.length;Yt++)Jn(dt,Tt[Yt],Pe,K,!0,Yt===0)}if(dt.length){let _t=de.tags||null;if(ge==="LineString"&&Ne.lineMetrics){_t={};for(const Yt in de.tags)_t[Yt]=de.tags[Yt];_t.mapbox_clip_start=Je.start/Je.size,_t.mapbox_clip_end=Je.end/Je.size}const Tt={geometry:dt,type:ge==="Polygon"||ge==="MultiPolygon"?3:ge==="LineString"||ge==="MultiLineString"?2:1,tags:_t};de.id!==null&&(Tt.id=de.id),Pe.features.push(Tt)}}function Jn(Pe,de,K,Ne,Je,ge){const dt=Ne*Ne;if(Ne>0&&de.size<(Je?dt:Ne))return void(K.numPoints+=de.length/3);const _t=[];for(let Tt=0;Tt<de.length;Tt+=3)(Ne===0||de[Tt+2]>dt)&&(K.numSimplified++,_t.push(de[Tt],de[Tt+1])),K.numPoints++;Je&&function(Tt,Yt){let hn=0;for(let We=0,Et=Tt.length,kt=Et-2;We<Et;kt=We,We+=2)hn+=(Tt[We]-Tt[kt])*(Tt[We+1]+Tt[kt+1]);if(hn>0===Yt)for(let We=0,Et=Tt.length;We<Et/2;We+=2){const kt=Tt[We],Kt=Tt[We+1];Tt[We]=Tt[Et-2-We],Tt[We+1]=Tt[Et-1-We],Tt[Et-2-We]=kt,Tt[Et-1-We]=Kt}}(_t,ge),Pe.push(_t)}const $r={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0};class li{constructor(de,K){const Ne=(K=this.options=function(ge,dt){for(const _t in dt)ge[_t]=dt[_t];return ge}(Object.create($r),K)).debug;if(Ne&&console.time("preprocess data"),K.maxZoom<0||K.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(K.promoteId&&K.generateId)throw new Error("promoteId and generateId cannot be used together.");let Je=function(ge,dt){const _t=[];if(ge.type==="FeatureCollection")for(let Tt=0;Tt<ge.features.length;Tt++)Zr(_t,ge.features[Tt],dt,Tt);else Zr(_t,ge.type==="Feature"?ge:{geometry:ge},dt);return _t}(de,K);this.tiles={},this.tileCoords=[],Ne&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",K.indexMaxZoom,K.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Je=function(ge,dt){const _t=dt.buffer/dt.extent;let Tt=ge;const Yt=yr(ge,1,-1-_t,_t,0,-1,2,dt),hn=yr(ge,1,1-_t,2+_t,0,-1,2,dt);return(Yt||hn)&&(Tt=yr(ge,1,-_t,1+_t,0,-1,2,dt)||[],Yt&&(Tt=Wi(Yt,1).concat(Tt)),hn&&(Tt=Tt.concat(Wi(hn,-1)))),Tt}(Je,K),Je.length&&this.splitTile(Je,0,0,0),Ne&&(Je.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}splitTile(de,K,Ne,Je,ge,dt,_t){const Tt=[de,K,Ne,Je],Yt=this.options,hn=Yt.debug;for(;Tt.length;){Je=Tt.pop(),Ne=Tt.pop(),K=Tt.pop(),de=Tt.pop();const We=1<<K,Et=ii(K,Ne,Je);let kt=this.tiles[Et];if(!kt&&(hn>1&&console.time("creation"),kt=this.tiles[Et]=qt(de,K,Ne,Je,Yt),this.tileCoords.push({z:K,x:Ne,y:Je}),hn)){hn>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",K,Ne,Je,kt.numFeatures,kt.numPoints,kt.numSimplified),console.timeEnd("creation"));const oi=`z${K}`;this.stats[oi]=(this.stats[oi]||0)+1,this.total++}if(kt.source=de,ge==null){if(K===Yt.indexMaxZoom||kt.numPoints<=Yt.indexMaxPoints)continue}else{if(K===Yt.maxZoom||K===ge)continue;if(ge!=null){const oi=ge-K;if(Ne!==dt>>oi||Je!==_t>>oi)continue}}if(kt.source=null,de.length===0)continue;hn>1&&console.time("clipping");const Kt=.5*Yt.buffer/Yt.extent,rt=.5-Kt,Qe=.5+Kt,gn=1+Kt;let mn=null,kn=null,br=null,ar=null,Mr=yr(de,We,Ne-Kt,Ne+Qe,0,kt.minX,kt.maxX,Yt),qr=yr(de,We,Ne+rt,Ne+gn,0,kt.minX,kt.maxX,Yt);de=null,Mr&&(mn=yr(Mr,We,Je-Kt,Je+Qe,1,kt.minY,kt.maxY,Yt),kn=yr(Mr,We,Je+rt,Je+gn,1,kt.minY,kt.maxY,Yt),Mr=null),qr&&(br=yr(qr,We,Je-Kt,Je+Qe,1,kt.minY,kt.maxY,Yt),ar=yr(qr,We,Je+rt,Je+gn,1,kt.minY,kt.maxY,Yt),qr=null),hn>1&&console.timeEnd("clipping"),Tt.push(mn||[],K+1,2*Ne,2*Je),Tt.push(kn||[],K+1,2*Ne,2*Je+1),Tt.push(br||[],K+1,2*Ne+1,2*Je),Tt.push(ar||[],K+1,2*Ne+1,2*Je+1)}}getTile(de,K,Ne){de=+de,K=+K,Ne=+Ne;const Je=this.options,{extent:ge,debug:dt}=Je;if(de<0||de>24)return null;const _t=1<<de,Tt=ii(de,K=K+_t&_t-1,Ne);if(this.tiles[Tt])return kr(this.tiles[Tt],ge);dt>1&&console.log("drilling down to z%d-%d-%d",de,K,Ne);let Yt,hn=de,We=K,Et=Ne;for(;!Yt&&hn>0;)hn--,We>>=1,Et>>=1,Yt=this.tiles[ii(hn,We,Et)];return Yt&&Yt.source?(dt>1&&(console.log("found parent tile z%d-%d-%d",hn,We,Et),console.time("drilling down")),this.splitTile(Yt.source,hn,We,Et,de,K,Ne),dt>1&&console.timeEnd("drilling down"),this.tiles[Tt]?kr(this.tiles[Tt],ge):null):null}}function ii(Pe,de,K){return 32*((1<<Pe)*K+de)+Pe}function Ki(Pe,de){const K=Pe.tileID.canonical;if(!this._geoJSONIndex)return void de(null,null);const Ne=this._geoJSONIndex.getTile(K.z,K.x,K.y);if(!Ne)return void de(null,null);const Je=new Dr(Ne.features);let ge=$e(Je);ge.byteOffset===0&&ge.byteLength===ge.buffer.byteLength||(ge=new Uint8Array(ge)),de(null,{vectorTile:Je,rawData:ge.buffer})}class eo extends Ft{constructor(de,K,Ne,Je,ge,dt){super(de,K,Ne,Je,Ki,dt),ge&&(this.loadGeoJSON=ge),this._dynamicIndex=new Bn}loadData(de,K){const Ne=de&&de.request,Je=Ne&&Ne.collectResourceTiming;this.loadGeoJSON(de,(ge,dt)=>{if(ge||!dt)return K(ge);if(typeof dt!="object")return K(new Error(`Input data given to '${de.source}' is not a valid GeoJSON object.`));{try{if(de.filter){const Tt=u.U(de.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(Tt.result==="error")throw new Error(Tt.value.map(Yt=>`${Yt.key}: ${Yt.message}`).join(", "));dt.features=dt.features.filter(Yt=>Tt.value.evaluate({zoom:0},Yt))}de.dynamic?(dt.type==="Feature"&&(dt={type:"FeatureCollection",features:[dt]}),de.append||(this._dynamicIndex.clear(),this.loaded={}),this._dynamicIndex.load(dt.features,this.loaded),de.cluster&&(dt.features=this._dynamicIndex.getFeatures())):this.loaded={},this._geoJSONIndex=de.cluster?new fr(function({superclusterOptions:Tt,clusterProperties:Yt}){if(!Yt||!Tt)return Tt;const hn={},We={},Et={accumulated:null,zoom:0},kt={properties:null},Kt=Object.keys(Yt);for(const rt of Kt){const[Qe,gn]=Yt[rt],mn=u.U(gn),kn=u.U(typeof Qe=="string"?[Qe,["accumulated"],["get",rt]]:Qe);hn[rt]=mn.value,We[rt]=kn.value}return Tt.map=rt=>{kt.properties=rt;const Qe={};for(const gn of Kt)Qe[gn]=hn[gn].evaluate(Et,kt);return Qe},Tt.reduce=(rt,Qe)=>{kt.properties=Qe;for(const gn of Kt)Et.accumulated=rt[gn],rt[gn]=We[gn].evaluate(Et,kt)},Tt}(de)).load(dt.features):de.dynamic?this._dynamicIndex:function(Tt,Yt){return new li(Tt,Yt)}(dt,de.geojsonVtOptions)}catch(Tt){return K(Tt)}const _t={};if(Je){const Tt=Ie(Ne);Tt&&(_t.resourceTiming={},_t.resourceTiming[de.source]=JSON.parse(JSON.stringify(Tt)))}K(null,_t)}})}reloadTile(de,K){const Ne=this.loaded;return Ne&&Ne[de.uid]?de.partial?K(null,void 0):super.reloadTile(de,K):this.loadTile(de,K)}loadGeoJSON(de,K){if(de.request)u.n(de.request,K);else{if(typeof de.data!="string")return K(new Error(`Input data given to '${de.source}' is not a valid GeoJSON object.`));try{return K(null,JSON.parse(de.data))}catch(Ne){return K(new Error(`Input data given to '${de.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(de,K){try{K(null,this._geoJSONIndex.getClusterExpansionZoom(de.clusterId))}catch(Ne){K(Ne)}}getClusterChildren(de,K){try{K(null,this._geoJSONIndex.getChildren(de.clusterId))}catch(Ne){K(Ne)}}getClusterLeaves(de,K){try{K(null,this._geoJSONIndex.getLeaves(de.clusterId,de.limit,de.offset))}catch(Ne){K(Ne)}}}class Ro{constructor(de,K){this.tileID=new u.aG(de.tileID.overscaledZ,de.tileID.wrap,de.tileID.canonical.z,de.tileID.canonical.x,de.tileID.canonical.y),this.tileZoom=de.tileZoom,this.uid=de.uid,this.zoom=de.zoom,this.canonical=de.tileID.canonical,this.pixelRatio=de.pixelRatio,this.tileSize=de.tileSize,this.source=de.source,this.overscaling=this.tileID.overscaleFactor(),this.projection=de.projection,this.brightness=K}parse(de,K,Ne,Je){this.status="parsing";const ge=new u.aG(Ne.tileID.overscaledZ,Ne.tileID.wrap,Ne.tileID.canonical.z,Ne.tileID.canonical.x,Ne.tileID.canonical.y),dt=[],_t=K.familiesBySource[Ne.source],Tt=new u.d$(ge,Ne.promoteId);return Tt.bucketLayerIDs=[],Tt.is3DTile=!0,u.ea(de).then(Yt=>{if(!Yt)return Je(new Error("Could not parse tile"));const hn=u.eb(Yt,1/u.cc(Ne.tileID.canonical)),We=Yt.json.extensionsUsed&&Yt.json.extensionsUsed.includes("MAPBOX_mesh_features")||Yt.json.asset.extras&&Yt.json.asset.extras.MAPBOX_mesh_features,Et=Yt.json.extensionsUsed&&Yt.json.extensionsUsed.includes("EXT_meshopt_compression"),kt=new u.a8(this.zoom,{brightness:this.brightness});for(const Kt in _t)for(const rt of _t[Kt]){const Qe=rt[0];Tt.bucketLayerIDs.push(rt.map(mn=>u.aC(mn.id,mn.scope))),Qe.recalculate(kt,[]);const gn=new u.ec(rt,hn,ge,We,Et,this.brightness,Tt);We||(gn.needsUpload=!0),dt.push(gn),gn.evaluate(Qe)}this.status="done",Je(null,{buckets:dt,featureIndex:Tt,collisionBoxArray:null,glyphAtlasImage:null,lineAtlas:null,imageAtlas:null,brightness:null})}).catch(Yt=>Je(new Error(Yt.message)))}}class So{constructor(de,K,Ne,Je,ge,dt){this.actor=de,this.layerIndex=K,this.availableImages=Ne,this.brightness=dt,this.loading={},this.loaded={}}loadTile(de,K){const Ne=de.uid,Je=this.loading[Ne]=new Ro(de,this.brightness);u.bi(de.request,(ge,dt)=>{const _t=!this.loading[Ne];return delete this.loading[Ne],_t||ge?(Je.status="done",_t||(this.loaded[Ne]=Je),K(ge)):dt&&dt.byteLength!==0?void Je.parse(dt,this.layerIndex,de,(Tt,Yt)=>{Je.status="done",this.loaded=this.loaded||{},this.loaded[Ne]=Je,Tt||!Yt?K(Tt):K(null,Yt)}):(Je.status="done",this.loaded[Ne]=Je,K())})}reloadTile(de,K){const Ne=this.loaded,Je=de.uid;if(Ne&&Ne[Je]){const ge=Ne[Je];ge.projection=de.projection,ge.brightness=de.brightness;const dt=(_t,Tt)=>{ge.reloadCallback&&(delete ge.reloadCallback,this.loadTile(de,K)),K(_t,Tt)};ge.status==="parsing"?ge.reloadCallback=dt:ge.status==="done"&&this.loadTile(de,K)}}abortTile(de,K){const Ne=de.uid;this.loading[Ne]&&delete this.loading[Ne],K()}removeTile(de,K){const Ne=this.loaded,Je=de.uid;Ne&&Ne[Je]&&delete Ne[Je],K()}}class io{constructor(de){this.self=de,this.actor=new u.ed(de,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.imageRasterizer=new u.I,this.projections={},this.defaultProjection=u.bP({name:"mercator"}),this.workerSourceTypes={vector:Ft,geojson:eo,"batched-model":So},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(K,Ne)=>{if(this.workerSourceTypes[K])throw new Error(`Worker source with name "${K}" already registered.`);this.workerSourceTypes[K]=Ne},this.self.registerRTLTextPlugin=K=>{if(u.ee.isParsed())throw new Error("RTL text plugin already registered.");u.ee.applyArabicShaping=K.applyArabicShaping,u.ee.processBidirectionalText=K.processBidirectionalText,u.ee.processStyledBidirectionalText=K.processStyledBidirectionalText}}clearCaches(de,K,Ne){delete this.layerIndexes[de],delete this.availableImages[de],delete this.workerSources[de],delete this.demWorkerSources[de],delete this.rasterArrayWorkerSource,Ne()}checkIfReady(de,K,Ne){Ne()}setReferrer(de,K){this.referrer=K}spriteLoaded(de,{scope:K,isLoaded:Ne}){if(this.isSpriteLoaded[de]||(this.isSpriteLoaded[de]={}),this.isSpriteLoaded[de][K]=Ne,this.workerSources[de]&&this.workerSources[de][K])for(const Je in this.workerSources[de][K]){const ge=this.workerSources[de][K][Je];for(const dt in ge){const _t=ge[dt];_t instanceof Ft&&(_t.isSpriteLoaded=Ne,_t.fire(new u.z("isSpriteLoaded")))}}}setImages(de,{scope:K,images:Ne},Je){if(this.availableImages[de]||(this.availableImages[de]={}),this.availableImages[de][K]=Ne,this.workerSources[de]&&this.workerSources[de][K]){for(const ge in this.workerSources[de][K]){const dt=this.workerSources[de][K][ge];for(const _t in dt)dt[_t].availableImages=Ne}Je()}else Je()}setProjection(de,K){this.projections[de]=u.bP(K)}setBrightness(de,K,Ne){this.brightness=K,Ne()}setLayers(de,K,Ne){this.getLayerIndex(de,K.scope).replace(K.layers,K.options),Ne()}updateLayers(de,K,Ne){this.getLayerIndex(de,K.scope).update(K.layers,K.removedIds,K.options),Ne()}loadTile(de,K,Ne){K.projection=this.projections[de]||this.defaultProjection,this.getWorkerSource(de,K.type,K.source,K.scope).loadTile(K,Ne)}loadDEMTile(de,K,Ne){this.getDEMWorkerSource(de,K.source,K.scope).loadTile(K,Ne)}decodeRasterArray(de,K,Ne){this.getRasterArrayWorkerSource().decodeRasterArray(K,Ne)}reloadTile(de,K,Ne){K.projection=this.projections[de]||this.defaultProjection,this.getWorkerSource(de,K.type,K.source,K.scope).reloadTile(K,Ne)}abortTile(de,K,Ne){this.getWorkerSource(de,K.type,K.source,K.scope).abortTile(K,Ne)}removeTile(de,K,Ne){this.getWorkerSource(de,K.type,K.source,K.scope).removeTile(K,Ne)}removeSource(de,K,Ne){if(!(this.workerSources[de]&&this.workerSources[de][K.scope]&&this.workerSources[de][K.scope][K.type]&&this.workerSources[de][K.scope][K.type][K.source]))return;const Je=this.workerSources[de][K.scope][K.type][K.source];delete this.workerSources[de][K.scope][K.type][K.source],Je.removeSource!==void 0?Je.removeSource(K,Ne):Ne()}loadWorkerSource(de,K,Ne){try{this.self.importScripts(K.url),Ne()}catch(Je){Ne(Je.toString())}}syncRTLPluginState(de,K,Ne){try{u.ee.setState(K);const Je=u.ee.getPluginURL();if(u.ee.isLoaded()&&!u.ee.isParsed()&&Je!=null){this.self.importScripts(Je);const ge=u.ee.isParsed();Ne(ge?void 0:new Error(`RTL Text Plugin failed to import scripts from ${Je}`),ge)}}catch(Je){Ne(Je.toString())}}setDracoUrl(de,K){this.dracoUrl=K}getAvailableImages(de,K){this.availableImages[de]||(this.availableImages[de]={});let Ne=this.availableImages[de][K];return Ne||(Ne=[]),Ne}getLayerIndex(de,K){this.layerIndexes[de]||(this.layerIndexes[de]={});let Ne=this.layerIndexes[de][K];return Ne||(Ne=this.layerIndexes[de][K]=new Le,Ne.scope=K),Ne}getWorkerSource(de,K,Ne,Je){return this.workerSources[de]||(this.workerSources[de]={}),this.workerSources[de][Je]||(this.workerSources[de][Je]={}),this.workerSources[de][Je][K]||(this.workerSources[de][Je][K]={}),this.isSpriteLoaded[de]||(this.isSpriteLoaded[de]={}),this.workerSources[de][Je][K][Ne]||(this.workerSources[de][Je][K][Ne]=new this.workerSourceTypes[K]({send:(ge,dt,_t,Tt,Yt,hn)=>{this.actor.send(ge,dt,_t,de,Yt,hn)},scheduler:this.actor.scheduler},this.getLayerIndex(de,Je),this.getAvailableImages(de,Je),this.isSpriteLoaded[de][Je],void 0,this.brightness)),this.workerSources[de][Je][K][Ne]}rasterizeImages(de,K,Ne){const{imageTasks:Je,scope:ge}=K,dt={};for(const _t in Je){const{image:Tt,imageIdWithOptions:Yt}=Je[_t];dt[_t]=this.imageRasterizer.rasterize(Yt,Tt,ge,de)}Ne(void 0,dt)}removeRasterizedImages(de,K,Ne){const{imageIds:Je,scope:ge}=K;this.imageRasterizer.removeImagesFromCacheByIds(Je,ge,de),Ne()}getDEMWorkerSource(de,K,Ne){return this.demWorkerSources[de]||(this.demWorkerSources[de]={}),this.demWorkerSources[de][Ne]||(this.demWorkerSources[de][Ne]={}),this.demWorkerSources[de][Ne][K]||(this.demWorkerSources[de][Ne][K]=new Xt),this.demWorkerSources[de][Ne][K]}getRasterArrayWorkerSource(){return this.rasterArrayWorkerSource||(this.rasterArrayWorkerSource=new Ht),this.rasterArrayWorkerSource}enforceCacheSizeLimit(de,K){u.ef(K)}getWorkerPerformanceMetrics(de,K,Ne){Ne(void 0,void 0)}}return typeof WorkerGlobalScope!="undefined"&&typeof self!="undefined"&&self instanceof WorkerGlobalScope&&(self.worker=new io(self)),io}),ht(["./shared"],function(u){var Ie="3.10.0";const He={create:"create",load:"load",fullLoad:"fullLoad"},je={mark(m){performance.mark(m)},measure(m,r,l){performance.measure(m,r,l)}};function Le(m){const r=m.name.split("?")[0];return u.a(r)&&r.includes("mapbox-gl.js")?"javascript":u.a(r)&&r.includes("mapbox-gl.css")?"css":u.b(r)?"fontRange":u.c(r)?"sprite":u.i(r)?"style":u.d(r)?"tilejson":"other"}var _e,oe={},Ye=function(){if(_e)return oe;function m(p){return!r(p)}function r(p){return typeof window=="undefined"||typeof document=="undefined"?"not a browser":function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var C,E,R=new Blob([""],{type:"text/javascript"}),B=URL.createObjectURL(R);try{E=new Worker(B),C=!0}catch(V){C=!1}return E&&E.terminate(),URL.revokeObjectURL(B),C}()?function(){var C=document.createElement("canvas");C.width=C.height=1;var E=C.getContext("2d");if(!E)return!1;var R=E.getImageData(0,0,1,1);return R&&R.width===C.width}()?(l[b=p&&p.failIfMajorPerformanceCaveat]===void 0&&(l[b]=function(C){var E,R=function(B){var V=document.createElement("canvas"),U=Object.create(m.webGLContextAttributes);return U.failIfMajorPerformanceCaveat=B,V.getContext("webgl2",U)}(C);if(!R)return!1;try{E=R.createShader(R.VERTEX_SHADER)}catch(B){return!1}return!(!E||R.isContextLost())&&(R.shaderSource(E,"void main() {}"),R.compileShader(E),R.getShaderParameter(E,R.COMPILE_STATUS)===!0)}(b)),l[b]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL2 support"):"insufficient Canvas/getImageData support":"insufficient worker support";var b}_e=1,oe.supported=m,oe.notSupportedReason=r;var l={};return m.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0},oe}();function ke(m,r,l){const p=document.createElement(m);return r!=null&&(p.className=r),l&&l.appendChild(p),p}function Xe(m,r,l){const p=document.createElementNS("http://www.w3.org/2000/svg",m);for(const b of Object.keys(r))p.setAttributeNS(null,b,String(r[b]));return l&&l.appendChild(p),p}const at=typeof document!="undefined"?document.documentElement&&document.documentElement.style:null,xt=at&&at.userSelect!==void 0?"userSelect":"WebkitUserSelect";let ot;function St(){at&&xt&&(ot=at[xt],at[xt]="none")}function Ot(){at&&xt&&(at[xt]=ot)}function Ge(m){m.preventDefault(),m.stopPropagation(),window.removeEventListener("click",Ge,!0)}function Qt(){window.addEventListener("click",Ge,!0),window.setTimeout(()=>{window.removeEventListener("click",Ge,!0)},0)}function Pt(m,r){const l=m.getBoundingClientRect();return Ht(m,l,r)}function Ft(m,r){const l=m.getBoundingClientRect(),p=[];for(let b=0;b<r.length;b++)p.push(Ht(m,l,r[b]));return p}function Xt(m){return/firefox/i.test(navigator.userAgent)&&/macintosh/i.test(navigator.userAgent)&&m.button===2&&m.ctrlKey?0:m.button}function Ht(m,r,l){const p=m.offsetWidth===r.width?1:m.offsetWidth/r.width;return new u.P((l.clientX-r.left)*p,(l.clientY-r.top)*p)}const Ar="01",Cr="NO_ACCESS_TOKEN";class Dr{constructor(r,l,p){this._transformRequestFn=r,this._customAccessToken=l,this._silenceAuthErrors=!!p,this._createSkuToken()}_createSkuToken(){const r=function(){let l="";for(let p=0;p<10;p++)l+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",Ar,l].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=r.token,this._skuTokenExpiresAt=r.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(r,l){return this._transformRequestFn&&this._transformRequestFn(r,l)||{url:r}}normalizeStyleURL(r,l){if(!u.f(r))return r;const p=sn(r);return p.params.push(`sdk=js-${Ie}`),p.path=`/styles/v1${p.path}`,this._makeAPIURL(p,this._customAccessToken||l)}normalizeGlyphsURL(r,l){if(!u.f(r))return r;const p=sn(r);return p.path=`/fonts/v1${p.path}`,this._makeAPIURL(p,this._customAccessToken||l)}normalizeModelURL(r,l){if(!u.f(r))return r;const p=sn(r);return p.path=`/models/v1${p.path}`,this._makeAPIURL(p,this._customAccessToken||l)}normalizeSourceURL(r,l,p,b){if(!u.f(r))return r;const C=sn(r);return C.path=`/v4/${C.authority}.json`,C.params.push("secure"),p&&C.params.push(`language=${p}`),b&&C.params.push(`worldview=${b}`),this._makeAPIURL(C,this._customAccessToken||l)}normalizeIconsetURL(r,l){const p=sn(r);return u.f(r)?(p.path=`/styles/v1${p.path}/iconset.pbf`,this._makeAPIURL(p,this._customAccessToken||l)):Bn(p)}normalizeSpriteURL(r,l,p,b){const C=sn(r);return u.f(r)?(C.path=`/styles/v1${C.path}/sprite${l}${p}`,this._makeAPIURL(C,this._customAccessToken||b)):(C.path+=`${l}${p}`,Bn(C))}normalizeTileURL(r,l,p){if(this._isSkuTokenExpired()&&this._createSkuToken(),r&&!u.f(r))return r;const b=sn(r);b.path=b.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${l||p&&b.authority!=="raster"&&p===512?"@2x":""}${u.m.supported?".webp":"$1"}`),b.authority==="raster"?b.path=`/${u.e.RASTER_URL_PREFIX}${b.path}`:b.authority==="rasterarrays"?b.path=`/${u.e.RASTERARRAYS_URL_PREFIX}${b.path}`:b.authority==="3dtiles"?b.path=`/${u.e.TILES3D_URL_PREFIX}${b.path}`:(b.path=b.path.replace(/^.+\/v4\//,"/"),b.path=`/${u.e.TILE_URL_VERSION}${b.path}`);const C=this._customAccessToken||function(E){for(const R of E){const B=R.match(/^access_token=(.*)$/);if(B)return B[1]}return null}(b.params)||u.e.ACCESS_TOKEN;return u.e.REQUIRE_ACCESS_TOKEN&&C&&this._skuToken&&b.params.push(`sku=${this._skuToken}`),this._makeAPIURL(b,C)}canonicalizeTileURL(r,l){const p=sn(r);if(!p.path.match(/^(\/v4\/|\/(raster|rasterarrays)\/v1\/)/)||!p.path.match(/\.[\w]+$/))return r;let b="mapbox://";p.path.match(/^\/raster\/v1\//)?b+=`raster/${p.path.replace(`/${u.e.RASTER_URL_PREFIX}/`,"")}`:p.path.match(/^\/rasterarrays\/v1\//)?b+=`rasterarrays/${p.path.replace(`/${u.e.RASTERARRAYS_URL_PREFIX}/`,"")}`:b+=`tiles/${p.path.replace(`/${u.e.TILE_URL_VERSION}/`,"")}`;let C=p.params;return l&&(C=C.filter(E=>!E.match(/^access_token=/))),C.length&&(b+=`?${C.join("&")}`),b}canonicalizeTileset(r,l){const p=!!l&&u.f(l),b=[];for(const C of r.tiles||[])u.h(C)?b.push(this.canonicalizeTileURL(C,p)):b.push(C);return b}_makeAPIURL(r,l){const p="See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes",b=sn(u.e.API_URL);if(r.protocol=b.protocol,r.authority=b.authority,r.protocol==="http"){const C=r.params.indexOf("secure");C>=0&&r.params.splice(C,1)}if(b.path!=="/"&&(r.path=`${b.path}${r.path}`),!u.e.REQUIRE_ACCESS_TOKEN)return Bn(r);if(l=l||u.e.ACCESS_TOKEN,!this._silenceAuthErrors){if(!l)throw new Error(`An API access token is required to use Mapbox GL. ${p}`);if(l[0]==="s")throw new Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ${p}`)}return r.params=r.params.filter(C=>C.indexOf("access_token")===-1),r.params.push(`access_token=${l||""}`),Bn(r)}}const Ue=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function sn(m){const r=m.match(Ue);if(!r)throw new Error("Unable to parse URL object");return{protocol:r[1],authority:r[2],path:r[3]||"/",params:r[4]?r[4].split("&"):[]}}function Bn(m){const r=m.params.length?`?${m.params.join("&")}`:"";return`${m.protocol}://${m.authority}${m.path}${r}`}const En="mapbox.eventData";function Be(m){if(!m)return null;const r=m.split(".");if(!r||r.length!==3)return null;try{return JSON.parse(u.j(r[1]))}catch(l){return null}}class Gn{constructor(r){this.type=r,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(r){const l=Be(u.e.ACCESS_TOKEN);let p="";return p=l&&l.u?u.k(l.u):u.e.ACCESS_TOKEN||"",r?`${En}.${r}:${p}`:`${En}:${p}`}fetchEventData(){const r=u.s("localStorage"),l=this.getStorageKey(),p=this.getStorageKey("uuid");if(r)try{const b=localStorage.getItem(l);b&&(this.eventData=JSON.parse(b));const C=localStorage.getItem(p);C&&(this.anonId=C)}catch(b){u.w("Unable to read from LocalStorage")}}saveEventData(){const r=u.s("localStorage"),l=this.getStorageKey(),p=this.getStorageKey("uuid"),b=this.anonId;if(r&&b)try{localStorage.setItem(p,b),Object.keys(this.eventData).length>=1&&localStorage.setItem(l,JSON.stringify(this.eventData))}catch(C){u.w("Unable to write to LocalStorage")}}processRequests(r){}postEvent(r,l,p,b){if(!u.e.EVENTS_URL)return;const C=sn(u.e.EVENTS_URL);C.params.push(`access_token=${b||u.e.ACCESS_TOKEN||""}`);const E={event:this.type,created:new Date(r).toISOString()},R=l?u.l(E,l):E,B={url:Bn(C),headers:{"Content-Type":"text/plain"},body:JSON.stringify([R])};this.pendingRequest=u.p(B,V=>{this.pendingRequest=null,p(V),this.saveEventData(),this.processRequests(b)})}queueRequest(r,l){this.queue.push(r),this.processRequests(l)}}const In=new class extends Gn{constructor(m){super("appUserTurnstile"),this._customAccessToken=m}postTurnstileEvent(m,r){u.e.EVENTS_URL&&u.e.ACCESS_TOKEN&&Array.isArray(m)&&m.some(l=>u.f(l)||u.h(l))&&this.queueRequest(Date.now(),r)}processRequests(m){if(this.pendingRequest||this.queue.length===0)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const r=Be(u.e.ACCESS_TOKEN),l=r?r.u:u.e.ACCESS_TOKEN;let p=l!==this.eventData.tokenU;u.v(this.anonId)||(this.anonId=u.u(),p=!0);const b=this.queue.shift();if(this.eventData.lastSuccess){const C=new Date(this.eventData.lastSuccess),E=new Date(b),R=(b-this.eventData.lastSuccess)/864e5;p=p||R>=1||R<-1||C.getDate()!==E.getDate()}else p=!0;p?this.postEvent(b,{sdkIdentifier:"mapbox-gl-js",sdkVersion:Ie,skuId:Ar,"enabled.telemetry":!1,userId:this.anonId},C=>{C||(this.eventData.lastSuccess=b,this.eventData.tokenU=l)},m):this.processRequests()}},Rn=In.postTurnstileEvent.bind(In),pt=new class extends Gn{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(m,r,l,p){this.skuToken=r,this.errorCb=p,u.e.EVENTS_URL&&(l||u.e.ACCESS_TOKEN?this.queueRequest({id:m,timestamp:Date.now()},l):this.errorCb(new Error(Cr)))}processRequests(m){if(this.pendingRequest||this.queue.length===0)return;const{id:r,timestamp:l}=this.queue.shift();r&&this.success[r]||(this.anonId||this.fetchEventData(),u.v(this.anonId)||(this.anonId=u.u()),this.postEvent(l,{sdkIdentifier:"mapbox-gl-js",sdkVersion:Ie,skuId:Ar,skuToken:this.skuToken,userId:this.anonId},p=>{p?this.errorCb(p):r&&(this.success[r]=!0)},m))}remove(){this.errorCb=null}},an=pt.postMapLoadEvent.bind(pt),Tn=new class extends Gn{constructor(){super("style.load"),this.eventIdPerMapInstanceMap=new Map,this.mapInstanceIdMap=new WeakMap}getMapInstanceId(m){let r=this.mapInstanceIdMap.get(m);return r||(r=u.u(),this.mapInstanceIdMap.set(m,r)),r}getEventId(m){const r=this.eventIdPerMapInstanceMap.get(m)||0;return this.eventIdPerMapInstanceMap.set(m,r+1),r}postStyleLoadEvent(m,r){const{map:l,style:p,importedStyles:b}=r;if(!u.e.EVENTS_URL||!m&&!u.e.ACCESS_TOKEN)return;const C=this.getMapInstanceId(l),E={mapInstanceId:C,eventId:this.getEventId(C),style:p};b.length&&(E.importedStyles=b),this.queueRequest({timestamp:Date.now(),payload:E},m)}processRequests(m){if(this.pendingRequest||this.queue.length===0)return;const{timestamp:r,payload:l}=this.queue.shift();this.postEvent(r,l,()=>{},m)}},me=Tn.postStyleLoadEvent.bind(Tn),nn=new class extends Gn{constructor(){super("gljs.performance")}postPerformanceEvent(m,r){u.e.EVENTS_URL&&(m||u.e.ACCESS_TOKEN)&&this.queueRequest({timestamp:Date.now(),performanceData:r},m)}processRequests(m){if(this.pendingRequest||this.queue.length===0)return;const{timestamp:r,performanceData:l}=this.queue.shift(),p=function(b){const C=performance.getEntriesByType("resource"),E=performance.getEntriesByType("mark"),R=function(le){const Ee={};if(le){for(const xe in le)if(xe!=="other")for(const Oe of le[xe]){const Me=`${xe}ResolveRangeMin`,qe=`${xe}ResolveRangeMax`,yt=`${xe}RequestCount`,gt=`${xe}RequestCachedCount`;Ee[Me]=Math.min(Ee[Me]||1/0,Oe.startTime),Ee[qe]=Math.max(Ee[qe]||-1/0,Oe.responseEnd);const Nt=Mt=>{Ee[Mt]===void 0&&(Ee[Mt]=0),++Ee[Mt]};Oe.transferSize!==void 0&&Oe.transferSize===0&&Nt(gt),Nt(yt)}}return Ee}(function(le,Ee){const xe={};if(le)for(const Oe of le){const Me=Ee(Oe);xe[Me]===void 0&&(xe[Me]=[]),xe[Me].push(Oe)}return xe}(C,Le)),B=window.devicePixelRatio,V=navigator.connection||navigator.mozConnection||navigator.webkitConnection,U=V?V.effectiveType:void 0,Y={counters:[],metadata:[],attributes:[]},ee=(le,Ee,xe)=>{xe!=null&&le.push({name:Ee,value:xe.toString()})};for(const le in R)ee(Y.counters,le,R[le]);if(b.interactionRange[0]!==1/0&&b.interactionRange[1]!==-1/0&&(ee(Y.counters,"interactionRangeMin",b.interactionRange[0]),ee(Y.counters,"interactionRangeMax",b.interactionRange[1])),E)for(const le of Object.keys(He)){const Ee=He[le],xe=E.find(Oe=>Oe.name===Ee);xe&&ee(Y.counters,Ee,xe.startTime)}return ee(Y.counters,"visibilityHidden",b.visibilityHidden),ee(Y.attributes,"style",function(le){if(le)for(const Ee of le){const xe=Ee.name.split("?")[0];if(u.i(xe)){const Oe=xe.split("/").slice(-2);if(Oe.length===2)return`mapbox://styles/${Oe[0]}/${Oe[1]}`}}}(C)),ee(Y.attributes,"terrainEnabled",b.terrainEnabled?"true":"false"),ee(Y.attributes,"fogEnabled",b.fogEnabled?"true":"false"),ee(Y.attributes,"projection",b.projection),ee(Y.attributes,"zoom",b.zoom),ee(Y.metadata,"devicePixelRatio",B),ee(Y.metadata,"connectionEffectiveType",U),ee(Y.metadata,"navigatorUserAgent",navigator.userAgent),ee(Y.metadata,"screenWidth",window.screen.width),ee(Y.metadata,"screenHeight",window.screen.height),ee(Y.metadata,"windowWidth",window.innerWidth),ee(Y.metadata,"windowHeight",window.innerHeight),ee(Y.metadata,"mapWidth",b.width/B),ee(Y.metadata,"mapHeight",b.height/B),ee(Y.metadata,"webglRenderer",b.renderer),ee(Y.metadata,"webglVendor",b.vendor),ee(Y.metadata,"sdkVersion",Ie),ee(Y.metadata,"sdkIdentifier","mapbox-gl-js"),Y}(l);for(const b of p.metadata);for(const b of p.counters);for(const b of p.attributes);this.postEvent(r,p,()=>{},m)}},bi=nn.postPerformanceEvent.bind(nn),ui=new class extends Gn{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(m,r,l,p){if(!u.e.API_URL||!u.e.SESSION_PATH)return;const b=sn(u.e.API_URL+u.e.SESSION_PATH);b.params.push(`sku=${r||""}`),b.params.push(`access_token=${p||u.e.ACCESS_TOKEN||""}`);const C={url:Bn(b),headers:{"Content-Type":"text/plain"}};this.pendingRequest=u.g(C,E=>{this.pendingRequest=null,l(E),this.saveEventData(),this.processRequests(p)})}getSessionAPI(m,r,l,p){this.skuToken=r,this.errorCb=p,u.e.SESSION_PATH&&u.e.API_URL&&(l||u.e.ACCESS_TOKEN?this.queueRequest({id:m,timestamp:Date.now()},l):this.errorCb(new Error(Cr)))}processRequests(m){if(this.pendingRequest||this.queue.length===0)return;const{id:r,timestamp:l}=this.queue.shift();r&&this.success[r]||this.getSession(l,this.skuToken,p=>{p?this.errorCb(p):r&&(this.success[r]=!0)},m)}remove(){this.errorCb=null}},$e=ui.getSessionAPI.bind(ui),Mn=new Set;function Kr(m,r){r?Mn.add(m):Mn.delete(m)}class jr{constructor(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSourceCaches={},this._updatedPaintProps=new Set,this._updatedImages=new Set}isDirty(){return this._changed}setDirty(){this._changed=!0}getUpdatedSourceCaches(){return this._updatedSourceCaches}updateSourceCache(r,l){this._updatedSourceCaches[r]=l,this.setDirty()}discardSourceCacheUpdate(r){delete this._updatedSourceCaches[r]}updateLayer(r){const l=r.scope;this._updatedLayers[l]=this._updatedLayers[l]||new Set,this._updatedLayers[l].add(r.id),this.setDirty()}removeLayer(r){const l=r.scope;this._removedLayers[l]=this._removedLayers[l]||{},this._updatedLayers[l]=this._updatedLayers[l]||new Set,this._removedLayers[l][r.id]=r,this._updatedLayers[l].delete(r.id),this._updatedPaintProps.delete(r.fqid),this.setDirty()}getRemovedLayer(r){return this._removedLayers[r.scope]?this._removedLayers[r.scope][r.id]:null}discardLayerRemoval(r){this._removedLayers[r.scope]&&delete this._removedLayers[r.scope][r.id]}getLayerUpdatesByScope(){const r={};for(const l in this._updatedLayers)r[l]=r[l]||{},r[l].updatedIds=Array.from(this._updatedLayers[l].values());for(const l in this._removedLayers)r[l]=r[l]||{},r[l].removedIds=Object.keys(this._removedLayers[l]);return r}getUpdatedPaintProperties(){return this._updatedPaintProps}updatePaintProperties(r){this._updatedPaintProps.add(r.fqid),this.setDirty()}getUpdatedImages(){return Array.from(this._updatedImages.values())}updateImage(r){this._updatedImages.add(r),this.setDirty()}resetUpdatedImages(){this._updatedImages.clear()}reset(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSourceCaches={},this._updatedPaintProps.clear(),this._updatedImages.clear()}}function Sn(m){const{userImage:r}=m;return!!(r&&r.render&&r.render())&&(m.data.replace(new Uint8Array(r.data.buffer)),!0)}class Fr extends u.E{constructor(r){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded={},this.requestors=[],this.patterns={},this.atlasImage={},this.atlasTexture={},this.dirty=!0,this.spriteFormat=r,r!=="raster"&&u.t()&&(this.imageRasterizerDispatcher=new u.D(u.x(),this,"Image Rasterizer Worker",1))}get imageRasterizer(){return this._imageRasterizer||(this._imageRasterizer=new u.I),this._imageRasterizer}createScope(r){this.images[r]={},this.loaded[r]=!1,this.updatedImages[r]={},this.patterns[r]={},this.callbackDispatchedThisFrame[r]={},this.atlasImage[r]=new u.r({width:1,height:1})}isLoaded(){for(const r in this.loaded)if(!this.loaded[r])return!1;return!0}setLoaded(r,l){if(this.loaded[l]!==r&&(this.loaded[l]=r,r)){for(const{ids:p,callback:b}of this.requestors)this._notify(p,l,b);this.requestors=[]}}hasImage(r,l){return!!this.getImage(r,l)}getImage(r,l){return this.images[l][r]}addImage(r,l,p){this._validate(r,p)&&(this.images[l][r]=p)}_validate(r,l){let p=!0;return this._validateStretch(l.stretchX,l.data&&l.data.width)||(this.fire(new u.y(new Error(`Image "${r}" has invalid "stretchX" value`))),p=!1),this._validateStretch(l.stretchY,l.data&&l.data.height)||(this.fire(new u.y(new Error(`Image "${r}" has invalid "stretchY" value`))),p=!1),this._validateContent(l.content,l)||(this.fire(new u.y(new Error(`Image "${r}" has invalid "content" value`))),p=!1),p}_validateStretch(r,l){if(!r)return!0;let p=0;for(const b of r){if(b[0]<p||b[1]<b[0]||l<b[1])return!1;p=b[1]}return!0}_validateContent(r,l){return r?r.length!==4||!l.usvg&&(r[0]<0||l.data.width<r[0]||r[1]<0||l.data.height<r[1]||r[2]<0||l.data.width<r[2]||r[3]<0||l.data.height<r[3])?!1:!(r[2]<r[0]||r[3]<r[1]):!0}updateImage(r,l,p){p.version=this.images[l][r].version+1,this.images[l][r]=p,this.updatedImages[l][r]=!0,this.removeFromImageRasterizerCache(r,l)}removeFromImageRasterizerCache(r,l){this.spriteFormat!=="raster"&&(u.t()?this.imageRasterizerDispatcher.getActor().send("removeRasterizedImages",{imageIds:[r],scope:l}):this.imageRasterizer.removeImagesFromCacheByIds([r],l))}removeImage(r,l){const p=this.images[l][r];delete this.images[l][r],delete this.patterns[l][r],this.removeFromImageRasterizerCache(r,l),p.userImage&&p.userImage.onRemove&&p.userImage.onRemove()}listImages(r){return Object.keys(this.images[r])}getImages(r,l,p){let b=!0;const C=!!this.loaded[l];if(!C)for(const E of r)this.images[l][E]||(b=!1);C||b?this._notify(r,l,p):this.requestors.push({ids:r,scope:l,callback:p})}rasterizeImages({scope:r,imageTasks:l},p){const b={};for(const C in l){const E=l[C],R=this.getImage(E.id,r);R&&(b[C]={image:R,imageIdWithOptions:E})}u.t()?this.imageRasterizerDispatcher.getActor().send("rasterizeImages",{imageTasks:b,scope:r},p):this.rasterizeImagesInMainThread({imageTasks:b,scope:r},p)}rasterizeImagesInMainThread(r,l){const{imageTasks:p,scope:b}=r,C={};for(const E in p){const{image:R,imageIdWithOptions:B}=p[E];C[E]=this.imageRasterizer.rasterize(B,R,b,"")}l(void 0,C)}getUpdatedImages(r){return this.updatedImages[r]}_notify(r,l,p){const b={};for(const C of r){this.images[l][C]||this.fire(new u.z("styleimagemissing",{id:C}));const E=this.images[l][C];E?b[C]={data:E.usvg?null:E.data.clone(),pixelRatio:E.pixelRatio,sdf:E.sdf,usvg:E.usvg,version:E.version,stretchX:E.stretchX,stretchY:E.stretchY,content:E.content,hasRenderCallback:!!(E.userImage&&E.userImage.render)}:u.w(`Image "${C}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}p(null,b)}getPixelSize(r){const{width:l,height:p}=this.atlasImage[r];return{width:l,height:p}}getPattern(r,l,p){const b=this.patterns[l][r],C=this.getImage(r,l);if(!C)return null;if(b&&b.position.version===C.version)return b.position;if(b)b.position.version=C.version;else{C.usvg&&!C.data&&(C.data=this.imageRasterizer.rasterize(u.A.from(r).getPrimary(),C,l,""));const E={w:C.data.width+2*u.B,h:C.data.height+2*u.B,x:0,y:0},R=new u.C(E,C,u.B);this.patterns[l][r]={bin:E,position:R}}return this._updatePatternAtlas(l,p),this.patterns[l][r].position}bind(r,l){const p=r.gl;let b=this.atlasTexture[l];b?this.dirty&&(b.update(this.atlasImage[l]),this.dirty=!1):(b=new u.T(r,this.atlasImage[l],p.RGBA8),this.atlasTexture[l]=b),b.bind(p.LINEAR,p.CLAMP_TO_EDGE)}_updatePatternAtlas(r,l){const p=[];for(const R in this.patterns[r])p.push(this.patterns[r][R].bin);const{w:b,h:C}=u.F(p),E=this.atlasImage[r];E.resize({width:b||1,height:C||1});for(const R in this.patterns[r]){const{bin:B,position:V}=this.patterns[r][R];let U=V.padding;const Y=B.x+U,ee=B.y+U,le=this.images[r][R].data,Ee=le.width,xe=le.height;U=U>1?U-1:U,u.r.copy(le,E,{x:0,y:0},{x:Y,y:ee},{width:Ee,height:xe},l),u.r.copy(le,E,{x:0,y:xe-U},{x:Y,y:ee-U},{width:Ee,height:U},l),u.r.copy(le,E,{x:0,y:0},{x:Y,y:ee+xe},{width:Ee,height:U},l),u.r.copy(le,E,{x:Ee-U,y:0},{x:Y-U,y:ee},{width:U,height:xe},l),u.r.copy(le,E,{x:0,y:0},{x:Y+Ee,y:ee},{width:U,height:xe},l),u.r.copy(le,E,{x:Ee-U,y:xe-U},{x:Y-U,y:ee-U},{width:U,height:U},l),u.r.copy(le,E,{x:0,y:xe-U},{x:Y+Ee,y:ee-U},{width:U,height:U},l),u.r.copy(le,E,{x:0,y:0},{x:Y+Ee,y:ee+xe},{width:U,height:U},l),u.r.copy(le,E,{x:Ee-U,y:0},{x:Y-U,y:ee+xe},{width:U,height:U},l)}this.dirty=!0}beginFrame(){for(const r in this.images)this.callbackDispatchedThisFrame[r]={}}dispatchRenderCallbacks(r,l){for(const p of r){if(this.callbackDispatchedThisFrame[l][p])continue;this.callbackDispatchedThisFrame[l][p]=!0;const b=this.images[l][p];Sn(b)&&this.updateImage(p,l,b)}}}function Ii(m){const r=m.key,l=m.value,p=m.valueSpec||{},b=m.objectElementValidators||{},C=m.style,E=m.styleSpec;let R=[];const B=u.H(l);if(B!=="object")return[new u.V(r,l,`object expected, ${B} found`)];for(const V in l){const U=V.split(".")[0];let Y;b[U]?Y=b[U]:p[U]?Y=Ln:b["*"]?Y=b["*"]:p["*"]&&(Y=Ln),Y?R=R.concat(Y({key:(r&&`${r}.`)+V,value:l[V],valueSpec:p[U]||p["*"],style:C,styleSpec:E,object:l,objectKey:V},l)):R.push(new u.G(r,l[V],`unknown property "${V}"`))}for(const V in p)b[V]||p[V].required&&p[V].default===void 0&&l[V]===void 0&&R.push(new u.V(r,l,`missing required property "${V}"`));return R}function fr(m){const r=m.value,l=m.valueSpec,p=m.style,b=m.styleSpec,C=m.key,E=m.arrayElementValidator||Ln;if(u.H(r)!=="array")return[new u.V(C,r,`array expected, ${u.H(r)} found`)];if(l.length&&r.length!==l.length)return[new u.V(C,r,`array length ${l.length} expected, length ${r.length} found`)];if(l["min-length"]&&r.length<l["min-length"])return[new u.V(C,r,`array length at least ${l["min-length"]} expected, length ${r.length} found`)];let R={type:l.value,values:l.values,minimum:l.minimum,maximum:l.maximum,function:void 0};b.$version<7&&(R.function=l.function),u.H(l.value)==="object"&&(R=l.value);let B=[];for(let V=0;V<r.length;V++)B=B.concat(E({array:r,arrayIndex:V,value:r[V],valueSpec:R,style:p,styleSpec:b,key:`${C}[${V}]`},!0));return B}function st(m){const r=m.key,l=m.value,p=m.valueSpec;let b=u.H(l);if(b==="number"&&l!=l&&(b="NaN"),b!=="number")return[new u.V(r,l,`number expected, ${b} found`)];if("minimum"in p){let C=p.minimum;if(u.H(p.minimum)==="array"&&(C=p.minimum[m.arrayIndex]),l<C)return[new u.V(r,l,`${l} is less than the minimum value ${C}`)]}if("maximum"in p){let C=p.maximum;if(u.H(p.maximum)==="array"&&(C=p.maximum[m.arrayIndex]),l>C)return[new u.V(r,l,`${l} is greater than the maximum value ${C}`)]}return[]}function jt(m){const r=m.valueSpec,l=u.K(m.value.type);let p,b,C,E={};const R=l!=="categorical"&&m.value.property===void 0,B=!R,V=u.H(m.value.stops)==="array"&&u.H(m.value.stops[0])==="array"&&u.H(m.value.stops[0][0])==="object",U=Ii({key:m.key,value:m.value,valueSpec:m.styleSpec.function,style:m.style,styleSpec:m.styleSpec,objectElementValidators:{stops:function(le){if(l==="identity")return[new u.V(le.key,le.value,'identity function may not have a "stops" property')];let Ee=[];const xe=le.value;return Ee=Ee.concat(fr({key:le.key,value:xe,valueSpec:le.valueSpec,style:le.style,styleSpec:le.styleSpec,arrayElementValidator:Y})),u.H(xe)==="array"&&xe.length===0&&Ee.push(new u.V(le.key,xe,"array must have at least one stop")),Ee},default:function(le){return Ln({key:le.key,value:le.value,valueSpec:r,style:le.style,styleSpec:le.styleSpec})}}});return l==="identity"&&R&&U.push(new u.V(m.key,m.value,'missing required property "property"')),l==="identity"||m.value.stops||U.push(new u.V(m.key,m.value,'missing required property "stops"')),l==="exponential"&&m.valueSpec.expression&&!u.L(m.valueSpec)&&U.push(new u.V(m.key,m.value,"exponential functions not supported")),m.styleSpec.$version>=8&&(B&&!u.M(m.valueSpec)?U.push(new u.V(m.key,m.value,"property functions not supported")):R&&!u.N(m.valueSpec)&&U.push(new u.V(m.key,m.value,"zoom functions not supported"))),l!=="categorical"&&!V||m.value.property!==void 0||U.push(new u.V(m.key,m.value,'"property" property is required')),U;function Y(le){let Ee=[];const xe=le.value,Oe=le.key;if(u.H(xe)!=="array")return[new u.V(Oe,xe,`array expected, ${u.H(xe)} found`)];if(xe.length!==2)return[new u.V(Oe,xe,`array length 2 expected, length ${xe.length} found`)];if(V){if(u.H(xe[0])!=="object")return[new u.V(Oe,xe,`object expected, ${u.H(xe[0])} found`)];if(xe[0].zoom===void 0)return[new u.V(Oe,xe,"object stop key must have zoom")];if(xe[0].value===void 0)return[new u.V(Oe,xe,"object stop key must have value")];const Me=u.K(xe[0].zoom);if(typeof Me!="number")return[new u.V(Oe,xe[0].zoom,"stop zoom values must be numbers")];if(C&&C>Me)return[new u.V(Oe,xe[0].zoom,"stop zoom values must appear in ascending order")];Me!==C&&(C=Me,b=void 0,E={}),Ee=Ee.concat(Ii({key:`${Oe}[0]`,value:xe[0],valueSpec:{zoom:{}},style:le.style,styleSpec:le.styleSpec,objectElementValidators:{zoom:st,value:ee}}))}else Ee=Ee.concat(ee({key:`${Oe}[0]`,value:xe[0],valueSpec:{},style:le.style,styleSpec:le.styleSpec},xe));return u.O(u.Q(xe[1]))?Ee.concat([new u.V(`${Oe}[1]`,xe[1],"expressions are not allowed in function stops.")]):Ee.concat(Ln({key:`${Oe}[1]`,value:xe[1],valueSpec:r,style:le.style,styleSpec:le.styleSpec}))}function ee(le,Ee){const xe=u.H(le.value),Oe=u.K(le.value),Me=le.value!==null?le.value:Ee;if(p){if(xe!==p)return[new u.V(le.key,Me,`${xe} stop domain type must match previous stop domain type ${p}`)]}else p=xe;if(xe!=="number"&&xe!=="string"&&xe!=="boolean"&&typeof Oe!="number"&&typeof Oe!="string"&&typeof Oe!="boolean")return[new u.V(le.key,Me,"stop domain value must be a number, string, or boolean")];if(xe!=="number"&&l!=="categorical"){let qe=`number expected, ${xe} found`;return u.M(r)&&l===void 0&&(qe+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new u.V(le.key,Me,qe)]}return l!=="categorical"||xe!=="number"||typeof Oe=="number"&&isFinite(Oe)&&Math.floor(Oe)===Oe?l!=="categorical"&&xe==="number"&&typeof Oe=="number"&&typeof b=="number"&&b!==void 0&&Oe<b?[new u.V(le.key,Me,"stop domain values must appear in ascending order")]:(b=Oe,l==="categorical"&&Oe in E?[new u.V(le.key,Me,"stop domain values must be unique")]:(E[Oe]=!0,[])):[new u.V(le.key,Me,`integer expected, found ${String(Oe)}`)]}}function Fn(m){const r=(m.expressionContext==="property"?u.S:u.U)(u.Q(m.value),m.valueSpec);if(r.result==="error")return r.value.map(p=>new u.V(`${m.key}${p.key}`,m.value,p.message));const l=r.value.expression||r.value._styleExpression.expression;if(m.expressionContext==="property"&&m.propertyKey==="text-font"&&!l.outputDefined())return[new u.V(m.key,m.value,`Invalid data expression for "${m.propertyKey}". Output values must be contained as literals within the expression.`)];if(m.expressionContext==="property"&&m.propertyType==="layout"&&!u.W(l))return[new u.V(m.key,m.value,'"feature-state" data expressions are not supported with layout properties.')];if(m.expressionContext==="filter")return un(l,m);if(m.expressionContext&&m.expressionContext.indexOf("cluster")===0){if(!u.X(l,["zoom","feature-state"]))return[new u.V(m.key,m.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(m.expressionContext==="cluster-initial"&&!u.Y(l))return[new u.V(m.key,m.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function un(m,r){const l=new Set(["zoom","feature-state","pitch","distance-from-center"]);if(r.valueSpec&&r.valueSpec.expression)for(const b of r.valueSpec.expression.parameters)l.delete(b);if(l.size===0)return[];const p=[];return m instanceof u.Z&&l.has(m.name)?[new u.V(r.key,r.value,`["${m.name}"] expression is not supported in a filter for a ${r.object.type} layer with id: ${r.object.id}`)]:(m.eachChild(b=>{p.push(...un(b,r))}),p)}function pn(m){const r=m.key,l=m.value,p=m.valueSpec,b=[];return Array.isArray(p.values)?p.values.indexOf(u.K(l))===-1&&b.push(new u.V(r,l,`expected one of [${p.values.join(", ")}], ${JSON.stringify(l)} found`)):Object.keys(p.values).indexOf(u.K(l))===-1&&b.push(new u.V(r,l,`expected one of [${Object.keys(p.values).join(", ")}], ${JSON.stringify(l)} found`)),b}function Sr(m){return u.$(u.Q(m.value))?Fn(u.J({},m,{expressionContext:"filter",valueSpec:m.styleSpec[`filter_${m.layerType||"fill"}`]})):Vn(m)}function Vn(m){const r=m.value,l=m.key;if(u.H(r)!=="array")return[new u.V(l,r,`array expected, ${u.H(r)} found`)];const p=m.styleSpec;let b,C=[];if(r.length<1)return[new u.V(l,r,"filter array must have at least 1 element")];switch(C=C.concat(pn({key:`${l}[0]`,value:r[0],valueSpec:p.filter_operator,style:m.style,styleSpec:m.styleSpec})),u.K(r[0])){case"<":case"<=":case">":case">=":r.length>=2&&u.K(r[1])==="$type"&&C.push(new u.V(l,r,`"$type" cannot be use with operator "${r[0]}"`));case"==":case"!=":r.length!==3&&C.push(new u.V(l,r,`filter array for operator "${r[0]}" must have 3 elements`));case"in":case"!in":r.length>=2&&(b=u.H(r[1]),b!=="string"&&C.push(new u.V(`${l}[1]`,r[1],`string expected, ${b} found`)));for(let E=2;E<r.length;E++)b=u.H(r[E]),u.K(r[1])==="$type"?C=C.concat(pn({key:`${l}[${E}]`,value:r[E],valueSpec:p.geometry_type,style:m.style,styleSpec:m.styleSpec})):b!=="string"&&b!=="number"&&b!=="boolean"&&C.push(new u.V(`${l}[${E}]`,r[E],`string, number, or boolean expected, ${b} found`));break;case"any":case"all":case"none":for(let E=1;E<r.length;E++)C=C.concat(Vn({key:`${l}[${E}]`,value:r[E],style:m.style,styleSpec:m.styleSpec}));break;case"has":case"!has":b=u.H(r[1]),r.length!==2?C.push(new u.V(l,r,`filter array for "${r[0]}" operator must have 2 elements`)):b!=="string"&&C.push(new u.V(`${l}[1]`,r[1],`string expected, ${b} found`))}return C}function Xr(m,r){const l=m.key,p=m.style,b=m.layer,C=m.styleSpec,E=m.value,R=m.objectKey,B=C[`${r}_${m.layerType}`];if(!B)return[];const V=R.match(/^(.*)-use-theme$/);if(r==="paint"&&V&&B[V[1]])return u.O(E)?[].concat(Ln({key:m.key,value:E,valueSpec:{type:"string",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},style:p,styleSpec:C,expressionContext:"property",propertyType:r,propertyKey:R})):Ln({key:l,value:E,valueSpec:{type:"string"},style:p,styleSpec:C});const U=R.match(/^(.*)-transition$/);if(r==="paint"&&U&&B[U[1]]&&B[U[1]].transition)return Ln({key:l,value:E,valueSpec:C.transition,style:p,styleSpec:C});const Y=m.valueSpec||B[R];if(!Y)return[new u.G(l,E,`unknown property "${R}"`)];let ee;if(u.H(E)==="string"&&u.M(Y)&&!Y.tokens&&(ee=/^{([^}]+)}$/.exec(E))){const Ee=`\`{ "type": "identity", "property": ${ee?JSON.stringify(ee[1]):'"_"'} }\``;return[new u.V(l,E,`"${R}" does not support interpolation syntax
Use an identity property function instead: ${Ee}.`)]}const le=[];if(m.layerType==="symbol")R!=="text-field"||!p||p.glyphs||p.imports||le.push(new u.V(l,E,'use of "text-field" requires a style "glyphs" property')),R==="text-font"&&u.a0(u.Q(E))&&u.K(E.type)==="identity"&&le.push(new u.V(l,E,'"text-font" does not support identity functions'));else if(m.layerType==="model"&&r==="paint"&&b&&b.layout&&b.layout.hasOwnProperty("model-id")&&u.M(Y)&&(u.a1(Y)||u.N(Y))){const Ee=u.S(u.Q(E),Y),xe=Ee.value.expression||Ee.value._styleExpression.expression;xe&&!u.X(xe,["measure-light"])&&(R==="model-emissive-strength"&&u.Y(xe)&&u.W(xe)||le.push(new u.V(l,E,`${R} does not support measure-light expressions when the model layer source is vector tile or GeoJSON.`)))}return le.concat(Ln({key:m.key,value:E,valueSpec:Y,style:p,styleSpec:C,expressionContext:"property",propertyType:r,propertyKey:R}))}function ri(m){return Xr(m,"paint")}function Zr(m){return Xr(m,"layout")}function ei(m){let r=[];const l=m.value,p=m.key,b=m.style,C=m.styleSpec;l.type||l.ref||r.push(new u.V(p,l,'either "type" or "ref" is required'));let E=u.K(l.type);const R=u.K(l.ref);if(l.id){const B=u.K(l.id);for(let V=0;V<m.arrayIndex;V++){const U=b.layers[V];u.K(U.id)===B&&r.push(new u.V(p,l.id,`duplicate layer id "${l.id}", previously used at line ${U.id.__line__}`))}}if("ref"in l){let B;["type","source","source-layer","filter","layout"].forEach(V=>{V in l&&r.push(new u.V(p,l[V],`"${V}" is prohibited for ref layers`))}),b.layers.forEach(V=>{u.K(V.id)===R&&(B=V)}),B?B.ref?r.push(new u.V(p,l.ref,"ref cannot reference another ref layer")):E=u.K(B.type):typeof R=="string"&&r.push(new u.V(p,l.ref,`ref layer "${R}" not found`))}else if(E!=="background"&&E!=="sky"&&E!=="slot")if(l.source){const B=b.sources&&b.sources[l.source],V=B&&u.K(B.type);B?V==="vector"&&E==="raster"?r.push(new u.V(p,l.source,`layer "${l.id}" requires a raster source`)):V==="raster"&&E!=="raster"?r.push(new u.V(p,l.source,`layer "${l.id}" requires a vector source`)):V!=="vector"||l["source-layer"]?V==="raster-dem"&&E!=="hillshade"?r.push(new u.V(p,l.source,"raster-dem source can only be used with layer type 'hillshade'.")):V!=="raster-array"||["raster","raster-particle"].includes(E)?E!=="line"||!l.paint||!l.paint["line-gradient"]&&!l.paint["line-trim-offset"]||V==="geojson"&&B.lineMetrics?E==="raster-particle"&&V!=="raster-array"&&r.push(new u.V(p,l.source,`layer "${l.id}" requires a 'raster-array' source.`)):r.push(new u.V(p,l,`layer "${l.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):r.push(new u.V(p,l.source,"raster-array source can only be used with layer type 'raster'.")):r.push(new u.V(p,l,`layer "${l.id}" must specify a "source-layer"`)):r.push(new u.V(p,l.source,`source "${l.source}" not found`))}else r.push(new u.V(p,l,'missing required property "source"'));return r=r.concat(Ii({key:p,value:l,valueSpec:C.layer,style:m.style,styleSpec:m.styleSpec,objectElementValidators:{"*":()=>[],type:()=>Ln({key:`${p}.type`,value:l.type,valueSpec:C.layer.type,style:m.style,styleSpec:m.styleSpec,object:l,objectKey:"type"}),filter:B=>Sr(u.J({layerType:E},B)),layout:B=>Ii({layer:l,key:B.key,value:B.value,valueSpec:{},style:B.style,styleSpec:B.styleSpec,objectElementValidators:{"*":V=>Zr(u.J({layerType:E},V))}}),paint:B=>Ii({layer:l,key:B.key,value:B.value,valueSpec:{},style:B.style,styleSpec:B.styleSpec,objectElementValidators:{"*":V=>ri(u.J({layerType:E,layer:l},V))}})}})),r}function vr(m){const r=m.value,l=m.key,p=u.H(r);return p!=="string"?[new u.V(l,r,`string expected, ${p} found`)]:[]}const hr={promoteId:function m({key:r,value:l}){if(u.H(l)==="string")return vr({key:r,value:l});if(Array.isArray(l)){const p=[],b=u.Q(l),C=u.U(b);return C.result==="error"&&C.value.forEach(E=>{p.push(new u.V(`${r}${E.key}`,null,`${E.message}`))}),u.X(C.value.expression,["zoom","heatmap-density","line-progress","raster-value","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center","measure-light","raster-particle-speed"])||p.push(new u.V(`${r}`,null,"promoteId expression should be only feature dependent")),p}{const p=[];for(const b in l)p.push(...m({key:`${r}.${b}`,value:l[b]}));return p}}};function ur(m){const r=m.value,l=m.key,p=m.styleSpec,b=m.style;if(!r.type)return[new u.V(l,r,'"type" is required')];const C=u.K(r.type);let E=[];switch(["vector","raster","raster-dem","raster-array"].includes(C)&&(r.url||r.tiles||E.push(new u.G(l,r,'Either "url" or "tiles" is required.'))),C){case"vector":case"raster":case"raster-dem":case"raster-array":return E=E.concat(Ii({key:l,value:r,valueSpec:p[`source_${C.replace("-","_")}`],style:m.style,styleSpec:p,objectElementValidators:hr})),E;case"geojson":if(E=Ii({key:l,value:r,valueSpec:p.source_geojson,style:b,styleSpec:p,objectElementValidators:hr}),r.cluster)for(const R in r.clusterProperties){const[B,V]=r.clusterProperties[R],U=typeof B=="string"?[B,["accumulated"],["get",R]]:B;E.push(...Fn({key:`${l}.${R}.map`,value:V,expressionContext:"cluster-map"})),E.push(...Fn({key:`${l}.${R}.reduce`,value:U,expressionContext:"cluster-reduce"}))}return E;case"video":return Ii({key:l,value:r,valueSpec:p.source_video,style:b,styleSpec:p});case"image":return Ii({key:l,value:r,valueSpec:p.source_image,style:b,styleSpec:p});case"canvas":return[new u.V(l,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return pn({key:`${l}.type`,value:r.type,valueSpec:{values:wr(p)},style:b,styleSpec:p})}}function wr(m){return m.source.reduce((r,l)=>{const p=m[l];return p.type.type==="enum"&&(r=r.concat(Object.keys(p.type.values))),r},[])}function yr(m){const r=m.value,l=m.styleSpec,p=l.light,b=m.style;let C=[];const E=u.H(r);if(r===void 0)return C;if(E!=="object")return C=C.concat([new u.V("light",r,`object expected, ${E} found`)]),C;for(const R in r){const B=R.match(/^(.*)-transition$/),V=R.match(/^(.*)-use-theme$/);C=C.concat(V&&p[V[1]]?Ln({key:R,value:r[R],valueSpec:{type:"string"},style:b,styleSpec:l}):B&&p[B[1]]&&p[B[1]].transition?Ln({key:R,value:r[R],valueSpec:l.transition,style:b,styleSpec:l}):p[R]?Ln({key:R,value:r[R],valueSpec:p[R],style:b,styleSpec:l}):[new u.V(R,r[R],`unknown property "${R}"`)])}return C}function Nr(m){const r=m.value;let l=[];if(!r)return l;const p=u.H(r);if(p!=="object")return l=l.concat([new u.V("light-3d",r,`object expected, ${p} found`)]),l;const b=m.styleSpec,C=b["light-3d"],E=m.key,R=m.style,B=m.style.lights;for(const Y of["type","id"])if(!(Y in r))return l=l.concat([new u.V("light-3d",r,`missing property ${Y} on light`)]),l;if(r.type&&B)for(let Y=0;Y<m.arrayIndex;Y++){const ee=u.K(r.type),le=B[Y];u.K(le.type)===ee&&l.push(new u.V(E,r.id,`duplicate light type "${r.type}", previously defined at line ${le.id.__line__}`))}const V=`properties_light_${r.type}`;if(!(V in b))return l=l.concat([new u.V("light-3d",r,`Invalid light type ${r.type}`)]),l;const U=b[V];for(const Y in r)if(Y==="properties"){const ee=r[Y],le=u.H(ee);if(le!=="object")return l=l.concat([new u.V("properties",ee,`object expected, ${le} found`)]),l;for(const Ee in ee)l=l.concat(U[Ee]?Ln({key:Ee,value:ee[Ee],valueSpec:U[Ee],style:R,styleSpec:b}):[new u.G(m.key,ee[Ee],`unknown property "${Ee}"`)])}else{const ee=Y.match(/^(.*)-transition$/),le=Y.match(/^(.*)-use-theme$/);l=l.concat(le&&C[le[1]]?Ln({key:Y,value:r[Y],valueSpec:{type:"string"},style:R,styleSpec:b}):ee&&C[ee[1]]&&C[ee[1]].transition?Ln({key:Y,value:r[Y],valueSpec:b.transition,style:R,styleSpec:b}):C[Y]?Ln({key:Y,value:r[Y],valueSpec:C[Y],style:R,styleSpec:b}):[new u.G(Y,r[Y],`unknown property "${Y}"`)])}return l}function Xn(m){const r=m.value,l=m.key,p=m.style,b=m.styleSpec,C=b.terrain;let E=[];const R=u.H(r);if(r===void 0||R==="null")return E;if(R!=="object")return E=E.concat([new u.V("terrain",r,`object expected, ${R} found`)]),E;for(const B in r){const V=B.match(/^(.*)-transition$/),U=B.match(/^(.*)-use-theme$/);E=E.concat(U&&C[U[1]]?Ln({key:B,value:r[B],valueSpec:{type:"string"},style:p,styleSpec:b}):V&&C[V[1]]&&C[V[1]].transition?Ln({key:B,value:r[B],valueSpec:b.transition,style:p,styleSpec:b}):C[B]?Ln({key:B,value:r[B],valueSpec:C[B],style:p,styleSpec:b}):[new u.G(B,r[B],`unknown property "${B}"`)])}if(r.source){const B=p.sources&&p.sources[r.source],V=B&&u.K(B.type);B?V!=="raster-dem"&&E.push(new u.V(l,r.source,`terrain cannot be used with a source of type ${String(V)}, it only be used with a "raster-dem" source type`)):E.push(new u.V(l,r.source,`source "${r.source}" not found`))}else E.push(new u.V(l,r,'terrain is missing required property "source"'));return E}function lr(m){const r=m.value,l=m.style,p=m.styleSpec,b=p.fog;let C=[];const E=u.H(r);if(r===void 0)return C;if(E!=="object")return C=C.concat([new u.V("fog",r,`object expected, ${E} found`)]),C;for(const R in r){const B=R.match(/^(.*)-transition$/),V=R.match(/^(.*)-use-theme$/);C=C.concat(V&&b[V[1]]?Ln({key:R,value:r[R],valueSpec:{type:"string"},style:l,styleSpec:p}):B&&b[B[1]]&&b[B[1]].transition?Ln({key:R,value:r[R],valueSpec:p.transition,style:l,styleSpec:p}):b[R]?Ln({key:R,value:r[R],valueSpec:b[R],style:l,styleSpec:p}):[new u.G(R,r[R],`unknown property "${R}"`)])}return C}const Ur={"*":()=>[],array:fr,boolean:function(m){const r=m.value,l=m.key,p=u.H(r);return p!=="boolean"?[new u.V(l,r,`boolean expected, ${p} found`)]:[]},number:st,color:function(m){const r=m.key,l=m.value,p=u.H(l);return p!=="string"?[new u.V(r,l,`color expected, ${p} found`)]:u._.parseCSSColor(l)===null?[new u.V(r,l,`color expected, "${l}" found`)]:[]},enum:pn,filter:Sr,function:jt,layer:ei,object:Ii,source:ur,model:u.a2,light:yr,"light-3d":Nr,terrain:Xn,fog:lr,string:vr,formatted:function(m){return vr(m).length===0?[]:Fn(m)},resolvedImage:function(m){return vr(m).length===0?[]:Fn(m)},projection:function(m){const r=m.value,l=m.styleSpec,p=l.projection,b=m.style;let C=[];const E=u.H(r);if(E==="object")for(const R in r)C=C.concat(Ln({key:R,value:r[R],valueSpec:p[R],style:b,styleSpec:l}));else E!=="string"&&(C=C.concat([new u.V("projection",r,`object or string expected, ${E} found`)]));return C},import:function(m){const{value:r,styleSpec:l}=m,E=r,{data:p}=E,b=h2(E,["data"]);Object.defineProperty(b,"__line__",{value:r.__line__,enumerable:!1});let C=Ii(u.J({},m,{value:b,valueSpec:l.import}));return u.K(b.id)===""&&C.push(new u.V(`${m.key}.id`,b,"import id can't be an empty string")),p&&(C=C.concat(fi(p,l,{key:`${m.key}.data`}))),C}};function Ln(m,r=!1){const l=m.value,p=m.valueSpec,b=m.styleSpec;if(p.expression&&u.a0(u.K(l)))return jt(m);if(p.expression&&u.O(u.Q(l)))return Fn(m);if(p.type&&Ur[p.type]){const C=Ur[p.type](m);return r===!0&&C.length>0&&u.H(m.value)==="array"?Fn(m):C}return Ii(u.J({},m,{valueSpec:p.type?b[p.type]:p}))}function _i(m){const r=m.value,l=m.key,p=vr(m);return p.length||(r.indexOf("{fontstack}")===-1&&p.push(new u.V(l,r,'"glyphs" url must include a "{fontstack}" token')),r.indexOf("{range}")===-1&&p.push(new u.V(l,r,'"glyphs" url must include a "{range}" token'))),p}function fi(m,r=u.a3,l={}){return Ln({key:l.key||"",value:m,valueSpec:r.$root,styleSpec:r,style:m,objectElementValidators:{glyphs:_i,"*":()=>[]}})}function Wi(m,r=u.a3){return So(fi(m,r))}const po=m=>So(ur(m)),kr=m=>So(yr(m)),no=m=>So(Nr(m)),qt=m=>So(Xn(m)),xn=m=>So(lr(m)),Jn=m=>So(function(r){const l=r.value,p=r.style,b=r.styleSpec,C=b.snow;let E=[];const R=u.H(l);if(l===void 0)return E;if(R!=="object")return E=E.concat([new u.V("snow",l,`object expected, ${R} found`)]),E;for(const B in l){const V=B.match(/^(.*)-transition$/);E=E.concat(V&&C[V[1]]&&C[V[1]].transition?Ln({key:B,value:l[B],valueSpec:b.transition,style:p,styleSpec:b}):C[B]?Ln({key:B,value:l[B],valueSpec:C[B],style:p,styleSpec:b}):[new u.G(B,l[B],`unknown property "${B}"`)])}return E}(m)),$r=m=>So(function(r){const l=r.value,p=r.style,b=r.styleSpec,C=b.rain;let E=[];const R=u.H(l);if(l===void 0)return E;if(R!=="object")return E=E.concat([new u.V("rain",l,`object expected, ${R} found`)]),E;for(const B in l){const V=B.match(/^(.*)-transition$/);E=E.concat(V&&C[V[1]]&&C[V[1]].transition?Ln({key:B,value:l[B],valueSpec:b.transition,style:p,styleSpec:b}):C[B]?Ln({key:B,value:l[B],valueSpec:C[B],style:p,styleSpec:b}):[new u.G(B,l[B],`unknown property "${B}"`)])}return E}(m)),li=m=>So(ei(m)),ii=m=>So(Sr(m)),Ki=m=>So(ri(m)),eo=m=>So(Zr(m)),Ro=m=>So(u.a2(m));function So(m){return m.slice().sort((r,l)=>r.line&&l.line?r.line-l.line:0)}function io(m,r){let l=!1;if(r&&r.length)for(const p of r)p instanceof u.G?u.w(p.message):(m.fire(new u.y(new Error(p.message))),l=!0);return l}let Pe;class de extends u.E{constructor(r,l="flat"){super(),this._transitionable=new u.a4(Pe||(Pe=new u.a5({anchor:new u.a6(u.a3.light.anchor),position:new u.a7(u.a3.light.position),color:new u.a6(u.a3.light.color),intensity:new u.a6(u.a3.light.intensity)}))),this.setLight(r,l),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(r,l,p={}){this._validate(kr,r,p)||(this._transitionable.setTransitionOrValue(r),this.id=l)}updateTransitions(r){this._transitioning=this._transitionable.transitioned(r,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(r){this.properties=this._transitioning.possiblyEvaluate(r)}_validate(r,l,p){return(!p||p.validate!==!1)&&io(this,r.call(Wi,u.l({value:l,style:{glyphs:!0,sprite:!0},styleSpec:u.a3})))}}let K=class extends u.E{constructor(m,r,l,p){super(),this.scope=l,this._transitionable=new u.a4(new u.a5({source:new u.a6(u.a3.terrain.source),exaggeration:new u.a6(u.a3.terrain.exaggeration)}),l,p),this._transitionable.setTransitionOrValue(m,p),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=r}get(){return this._transitionable.serialize()}set(m,r){this._transitionable.setTransitionOrValue(m,r)}updateTransitions(m){this._transitioning=this._transitionable.transitioned(m,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(m){this.properties=this._transitioning.possiblyEvaluate(m)}getExaggeration(m){return this._transitioning.possiblyEvaluate(new u.a8(m)).get("exaggeration")}getAttenuationRange(){if(!this.isZoomDependent())return null;const m=this._transitionable._values.exaggeration;if(!m)return null;const r=m.value.expression;if(!r)return null;let l=-1,p=-1,b=1;for(const C of r.zoomStops)b=r.evaluate(new u.a8(C)),b>.01?(l=C,p=-1):p=C;return b<.01&&l>0&&p>l?[l,p]:null}isZoomDependent(){const m=this._transitionable._values.exaggeration;return m!=null&&m.value!=null&&m.value.expression!=null&&m.value.expression instanceof u.a9}};const Ne=45,Je=65,ge=.05;function dt(m,r,l,p){const b=u.ac(Ne,Je,l),[C,E]=_t(m,p);let R=1-Math.min(1,Math.exp((r-C)/(E-C)*-6));return R*=R*R,R=Math.min(1,1.00747*R),R*b*m.alpha}function _t(m,r){const l=.5/Math.tan(.5*r);return[m.range[0]+l,m.range[1]+l]}function Tt(m,r,l,p,b){const C=u.ab.vec3.transformMat4([],[r,l,p],b.mercatorFogMatrix);return dt(m,u.ab.vec3.length(C),b.pitch,b._fov)}function Yt(m,r,l,p,b,C,E){const R=[[l,p,0],[b,p,0],[b,C,0],[l,C,0]];let B=Number.MAX_VALUE,V=-Number.MAX_VALUE;for(const U of R){const Y=u.ab.vec3.transformMat4([],U,r),ee=u.ab.vec3.length(Y);B=Math.min(B,ee),V=Math.max(V,ee)}return[dt(m,B,E.pitch,E._fov),dt(m,V,E.pitch,E._fov)]}class hn extends u.E{constructor(r,l,p,b){super();const C=new u.a5({range:new u.a6(u.a3.fog.range),color:new u.a6(u.a3.fog.color),"color-use-theme":new u.a6({type:"string","property-type":"data-constant",default:"default"}),"high-color":new u.a6(u.a3.fog["high-color"]),"high-color-use-theme":new u.a6({type:"string","property-type":"data-constant",default:"default"}),"space-color":new u.a6(u.a3.fog["space-color"]),"space-color-use-theme":new u.a6({type:"string","property-type":"data-constant",default:"default"}),"horizon-blend":new u.a6(u.a3.fog["horizon-blend"]),"star-intensity":new u.a6(u.a3.fog["star-intensity"]),"vertical-range":new u.a6(u.a3.fog["vertical-range"])});this._transitionable=new u.a4(C,p,new Map(b)),this.set(r,b),this._transitioning=this._transitionable.untransitioned(),this._transform=l,this.properties=new u.ad(C),this.scope=p}get state(){const r=this._transform,l=r.projection.name==="globe",p=u.ae(r.zoom),b=this.properties.get("range"),C=[.5,3];return{range:l?[u.af(C[0],b[0],p),u.af(C[1],b[1],p)]:b,horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(r,l,p={}){if(this._validate(xn,r,p))return;const b=u.l({},r);for(const C of Object.keys(u.a3.fog))b[C]===void 0&&(b[C]=u.a3.fog[C].default);this._options=b,this._transitionable.setTransitionOrValue(this._options,l)}getOpacity(r){if(!this._transform.projection.supportsFog)return 0;const l=this.properties&&this.properties.get("color")||1;return(this._transform.projection.name==="globe"?1:u.ac(Ne,Je,r))*l.a}getOpacityAtLatLng(r,l){return this._transform.projection.supportsFog?function(p,b,C){const E=u.aa.fromLngLat(b),R=C.elevation?C.elevation.getAtPointOrZero(E):0;return Tt(p,E.x,E.y,R,C)}(this.state,r,l):0}getOpacityForTile(r){if(!this._transform.projection.supportsFog)return[1,1];const l=this._transform.calculateFogTileMatrix(r.toUnwrapped());return Yt(this.state,l,0,0,u.ag,u.ag,this._transform)}getOpacityForBounds(r,l,p,b,C){return this._transform.projection.supportsFog?Yt(this.state,r,l,p,b,C,this._transform):[1,1]}getFovAdjustedRange(r){return this._transform.projection.supportsFog?_t(this.state,r):[0,1]}isVisibleOnFrustum(r){if(!this._transform.projection.supportsFog)return!1;const l=[4,5,6,7];for(const p of l){const b=r.points[p];let C;if(b[2]>=0)C=b;else{const E=r.points[p-4];C=u.ah(E,b,E[2]/(E[2]-b[2]))}if(Tt(this.state,C[0],C[1],0,this._transform)>=ge)return!0}return!1}updateConfig(r){this._transitionable.setTransitionOrValue(this._options,new Map(r))}updateTransitions(r){this._transitioning=this._transitionable.transitioned(r,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(r){this.properties=this._transitioning.possiblyEvaluate(r)}_validate(r,l,p){return(!p||p.validate!==!1)&&io(this,r.call(Wi,u.l({value:l,style:{glyphs:!0,sprite:!0},styleSpec:u.a3})))}}let We,Et,kt,Kt,rt=class extends u.E{constructor(m,r,l,p){super();const b=We||(We=new u.a5({density:new u.a6(u.a3.snow.density),intensity:new u.a6(u.a3.snow.intensity),color:new u.a6(u.a3.snow.color),opacity:new u.a6(u.a3.snow.opacity),vignette:new u.a6(u.a3.snow.vignette),"vignette-color":new u.a6(u.a3.snow["vignette-color"]),"center-thinning":new u.a6(u.a3.snow["center-thinning"]),direction:new u.a6(u.a3.snow.direction),"flake-size":new u.a6(u.a3.snow["flake-size"])}));this._transitionable=new u.a4(b,l,new Map(p)),this.set(m,p),this._transitioning=this._transitionable.untransitioned(),this.properties=new u.ad(b),this.scope=l}get state(){const m=this.properties.get("opacity"),r=this.properties.get("color"),l=this.properties.get("direction"),p=u.ai(l[0]),b=-Math.max(u.ai(l[1]),.01),C=[Math.cos(p)*Math.cos(b),Math.sin(p)*Math.cos(b),Math.sin(b)],E=this.properties.get("vignette"),R=this.properties.get("vignette-color");return R.a=E,{density:this.properties.get("density"),intensity:this.properties.get("intensity"),color:new u.aj(r.r,r.g,r.b,r.a*m),direction:C,centerThinning:this.properties.get("center-thinning"),flakeSize:this.properties.get("flake-size"),vignetteColor:R}}get(){return this._transitionable.serialize()}set(m,r,l={}){if(this._validate(Jn,m,l))return;const p=u.l({},m);for(const b of Object.keys(u.a3.snow))p[b]===void 0&&(p[b]=u.a3.snow[b].default);this._options=p,this._transitionable.setTransitionOrValue(this._options,r)}updateConfig(m){this._transitionable.setTransitionOrValue(this._options,new Map(m))}updateTransitions(m){this._transitioning=this._transitionable.transitioned(m,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(m){this.properties=this._transitioning.possiblyEvaluate(m)}_validate(m,r,l){return(!l||l.validate!==!1)&&io(this,m.call(Wi,u.l({value:r,style:{glyphs:!0,sprite:!0},styleSpec:u.a3})))}},Qe=class extends u.E{constructor(m,r,l,p){super();const b=Et||(Et=new u.a5({density:new u.a6(u.a3.rain.density),intensity:new u.a6(u.a3.rain.intensity),color:new u.a6(u.a3.rain.color),opacity:new u.a6(u.a3.rain.opacity),vignette:new u.a6(u.a3.rain.vignette),"vignette-color":new u.a6(u.a3.rain["vignette-color"]),"center-thinning":new u.a6(u.a3.rain["center-thinning"]),direction:new u.a6(u.a3.rain.direction),"droplet-size":new u.a6(u.a3.rain["droplet-size"]),"distortion-strength":new u.a6(u.a3.rain["distortion-strength"])}));this._transitionable=new u.a4(b,l,new Map(p)),this.set(m,p),this._transitioning=this._transitionable.untransitioned(),this.properties=new u.ad(b),this.scope=l}get state(){const m=this.properties.get("opacity"),r=this.properties.get("color"),l=this.properties.get("direction"),p=u.ai(l[0]),b=-Math.max(u.ai(l[1]),.01),C=[Math.cos(p)*Math.cos(b),Math.sin(p)*Math.cos(b),Math.sin(b)],E=this.properties.get("vignette-color");return E.a=this.properties.get("vignette"),{density:this.properties.get("density"),intensity:this.properties.get("intensity"),color:new u.aj(r.r,r.g,r.b,r.a*m),direction:C,centerThinning:this.properties.get("center-thinning"),dropletSize:this.properties.get("droplet-size"),distortionStrength:this.properties.get("distortion-strength"),vignetteColor:E}}get(){return this._transitionable.serialize()}set(m,r,l={}){if(this._validate($r,m,l))return;const p=u.l({},m);for(const b of Object.keys(u.a3.rain))p[b]===void 0&&(p[b]=u.a3.rain[b].default);this._options=p,this._transitionable.setTransitionOrValue(this._options,r)}updateConfig(m){this._transitionable.setTransitionOrValue(this._options,new Map(m))}updateTransitions(m){this._transitioning=this._transitionable.transitioned(m,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(m){this.properties=this._transitioning.possiblyEvaluate(m)}_validate(m,r,l){return(!l||l.validate!==!1)&&io(this,m.call(Wi,u.l({value:r,style:{glyphs:!0,sprite:!0},styleSpec:u.a3})))}};class gn extends u.E{constructor(r,l,p,b){super(),this.scope=p,this._options=r,this.properties=new u.ad(l),this._transitionable=new u.a4(l,p,new Map(b)),this._transitionable.setTransitionOrValue(r.properties),this._transitioning=this._transitionable.untransitioned()}updateConfig(r){this._transitionable.setTransitionOrValue(this._options.properties,new Map(r))}updateTransitions(r){this._transitioning=this._transitionable.transitioned(r,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(r){this.properties=this._transitioning.possiblyEvaluate(r)}get(){return this._options.properties=this._transitionable.serialize(),this._options}set(r,l){this._options=r,this._transitionable.setTransitionOrValue(r.properties,l)}shadowsEnabled(){return!!this.properties&&this.properties.get("cast-shadows")===!0}}class mn{constructor(r,l,p,b){this.screenBounds=r,this.cameraPoint=l,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=p,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,b)}static createFromScreenPoints(r,l){let p,b;if(r instanceof u.P||typeof r[0]=="number"){const C=u.P.convert(r);p=[C],b=l.isPointAboveHorizon(C)}else{const C=u.P.convert(r[0]),E=u.P.convert(r[1]);p=[C,E],b=u.al(C,E).every(R=>l.isPointAboveHorizon(R))}return new mn(p,l.getCameraPoint(),b,l)}isPointQuery(){return this.screenBounds.length===1}bufferedScreenGeometry(r){return u.al(this.screenBounds[0],this.screenBounds.length===1?this.screenBounds[0]:this.screenBounds[1],r)}bufferedCameraGeometry(r){const l=this.screenBounds[0],p=this.screenBounds.length===1?this.screenBounds[0].add(new u.P(1,1)):this.screenBounds[1],b=u.al(l,p,0,!1);return this.cameraPoint.y>p.y&&(this.cameraPoint.x>l.x&&this.cameraPoint.x<p.x?b.splice(3,0,this.cameraPoint):this.cameraPoint.x>=p.x?b[2]=this.cameraPoint:this.cameraPoint.x<=l.x&&(b[3]=this.cameraPoint)),u.am(b,r)}bufferedCameraGeometryGlobe(r){const l=this.screenBounds[0],p=this.screenBounds.length===1?this.screenBounds[0].add(new u.P(1,1)):this.screenBounds[1],b=u.al(l,p,r),C=this.cameraPoint.clone();switch(3*((C.y>l.y)+(C.y>p.y))+((C.x>l.x)+(C.x>p.x))){case 0:b[0]=C,b[4]=C.clone();break;case 1:b.splice(1,0,C);break;case 2:b[1]=C;break;case 3:b.splice(4,0,C);break;case 5:b.splice(2,0,C);break;case 6:b[3]=C;break;case 7:b.splice(3,0,C);break;case 8:b[2]=C}return b}containsTile(r,l,p,b=0){const C=r.queryPadding/l._pixelsPerMercatorPixel+1,E=p?this._bufferedCameraMercator(C,l):this._bufferedScreenMercator(C,l);let R=r.tileID.wrap+(E.unwrapped?b:0);const B=E.polygon.map(Oe=>u.an(r.tileTransform,Oe,R));if(!u.ao(B,0,0,u.ag,u.ag))return;R=r.tileID.wrap+(this.screenGeometryMercator.unwrapped?b:0);const V=this.screenGeometryMercator.polygon.map(Oe=>u.ap(r.tileTransform,Oe,R)),U=V.map(Oe=>new u.P(Oe[0],Oe[1])),Y=l.getFreeCameraOptions().position||new u.aa(0,0,0),ee=u.ap(r.tileTransform,Y,R),le=V.map(Oe=>{const Me=u.ab.vec3.sub(Oe,Oe,ee);return u.ab.vec3.normalize(Me,Me),new u.aq(ee,Me)}),Ee=u.ar(r,1,l.zoom)*l._pixelsPerMercatorPixel;return{queryGeometry:this,tilespaceGeometry:U,tilespaceRays:le,bufferedTilespaceGeometry:B,bufferedTilespaceBounds:(xe=u.as(B),xe.min.x=u.aw(xe.min.x,0,u.ag),xe.min.y=u.aw(xe.min.y,0,u.ag),xe.max.x=u.aw(xe.max.x,0,u.ag),xe.max.y=u.aw(xe.max.y,0,u.ag),xe),tile:r,tileID:r.tileID,pixelToTileUnitsFactor:Ee};var xe}_bufferedScreenMercator(r,l){const p=ar(r);if(this._screenRaycastCache[p])return this._screenRaycastCache[p];{let b;return b=l.projection.name==="globe"?this._projectAndResample(this.bufferedScreenGeometry(r),l):{polygon:this.bufferedScreenGeometry(r).map(C=>l.pointCoordinate3D(C)),unwrapped:!0},this._screenRaycastCache[p]=b,b}}_bufferedCameraMercator(r,l){const p=ar(r);if(this._cameraRaycastCache[p])return this._cameraRaycastCache[p];{let b;return b=l.projection.name==="globe"?this._projectAndResample(this.bufferedCameraGeometryGlobe(r),l):{polygon:this.bufferedCameraGeometry(r).map(C=>l.pointCoordinate3D(C)),unwrapped:!0},this._cameraRaycastCache[p]=b,b}}_projectAndResample(r,l){const p=function(C,E){const R=u.ab.mat4.multiply([],E.pixelMatrix,E.globeMatrix),B=[0,-u.ax,0,1],V=[0,u.ax,0,1],U=[0,0,0,1];u.ab.vec4.transformMat4(B,B,R),u.ab.vec4.transformMat4(V,V,R),u.ab.vec4.transformMat4(U,U,R);const Y=new u.P(B[0]/B[3],B[1]/B[3]),ee=new u.P(V[0]/V[3],V[1]/V[3]),le=u.au(C,Y)&&B[3]<U[3],Ee=u.au(C,ee)&&V[3]<U[3];if(!le&&!Ee)return null;const xe=function(Dt,It,zt){for(let fn=1;fn<Dt.length;fn++){const nr=br(It.pointCoordinate3D(Dt[fn-1]).x),Hn=br(It.pointCoordinate3D(Dt[fn]).x);if(zt<0){if(nr<Hn)return{idx:fn,t:-nr/(Hn-1-nr)}}else if(Hn<nr)return{idx:fn,t:(1-nr)/(Hn+1-nr)}}return null}(C,E,le?-1:1);if(!xe)return null;const{idx:Oe,t:Me}=xe;let qe=Oe>1?kn(C.slice(0,Oe),E):[],yt=Oe<C.length?kn(C.slice(Oe),E):[];qe=qe.map(Dt=>new u.P(br(Dt.x),Dt.y)),yt=yt.map(Dt=>new u.P(br(Dt.x),Dt.y));const gt=[...qe];gt.length===0&&gt.push(yt[yt.length-1]);const Nt=u.af(gt[gt.length-1].y,(yt.length===0?qe[0]:yt[0]).y,Me);let Mt;return Mt=le?[new u.P(0,Nt),new u.P(0,0),new u.P(1,0),new u.P(1,Nt)]:[new u.P(1,Nt),new u.P(1,1),new u.P(0,1),new u.P(0,Nt)],gt.push(...Mt),yt.length===0?gt.push(qe[0]):gt.push(...yt),{polygon:gt.map(Dt=>new u.aa(Dt.x,Dt.y)),unwrapped:!1}}(r,l);if(p)return p;const b=function(C,E){let R=!1,B=-1/0,V=0;for(let Y=0;Y<C.length-1;Y++)C[Y].x>B&&(B=C[Y].x,V=Y);for(let Y=0;Y<C.length-1;Y++){const ee=(V+Y)%(C.length-1),le=C[ee],Ee=C[ee+1];Math.abs(le.x-Ee.x)>.5&&(le.x<Ee.x?(le.x+=1,ee===0&&(C[C.length-1].x+=1)):(Ee.x+=1,ee+1===C.length-1&&(C[0].x+=1)),R=!0)}const U=u.at(E.center.lng);return R&&U<Math.abs(U-1)&&C.forEach(Y=>{Y.x-=1}),{polygon:C,unwrapped:R}}(kn(r,l).map(C=>new u.P(br(C.x),C.y)),l);return{polygon:b.polygon.map(C=>new u.aa(C.x,C.y)),unwrapped:b.unwrapped}}}function kn(m,r){return u.av(m,l=>{const p=r.pointCoordinate3D(l);l.x=p.x,l.y=p.y},1/256)}function br(m){return m<0?1+m%1:m%1}function ar(m){return 100*m|0}function Mr(m,r,l,p,b){const C=function(R,B){if(R)return b(R);if(B){if(m.url&&B.tiles&&m.tiles&&delete m.tiles,B.variants){if(!Array.isArray(B.variants))return b(new Error("variants must be an array"));for(const U of B.variants){if(U==null||typeof U!="object"||U.constructor!==Object)return b(new Error("variant must be an object"));if(!Array.isArray(U.capabilities))return b(new Error("capabilities must be an array"));if(U.capabilities.length===1&&U.capabilities[0]==="meshopt"){B=u.l(B,U);break}}}const V=u.ay(u.l({},B,m),["tilejson","tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding","vector_layers","raster_layers","worldview_options","worldview_default","worldview"]);V.tiles=r.canonicalizeTileset(V,m.url),b(null,V)}},E=function(R,B,V){if(!R)return null;if(!B&&!V)return R;V=V||R.worldview_default;const U=Object.values(R.language||{});if(U.length===0)return null;const Y=Object.values(R.worldview||{});if(Y.length===0)return null;const ee=U.every(Ee=>Ee===B),le=Y.every(Ee=>Ee===V);return ee&&le?R:B in(R.language_options||{})||V in(R.worldview_options||{})?null:R.language_options&&R.worldview_options?R:null}(m.data,l,p);return E?u.q.frame(()=>C(null,E)):m.url?u.n(r.transformRequest(r.normalizeSourceURL(m.url,null,l,p),u.R.Source),C):u.q.frame(()=>{const V=m,{data:R}=V,B=h2(V,["data"]);C(null,B)})}class qr{constructor(r,l,p){this.bounds=u.az.convert(this.validateBounds(r)),this.minzoom=l||0,this.maxzoom=p||24}validateBounds(r){return Array.isArray(r)&&r.length===4?[Math.max(-180,r[0]),Math.max(-90,r[1]),Math.min(180,r[2]),Math.min(90,r[3])]:[-180,-90,180,90]}contains(r){const l=Math.pow(2,r.z),p=Math.floor(u.at(this.bounds.getWest())*l),b=Math.floor(u.aA(this.bounds.getNorth())*l),C=Math.ceil(u.at(this.bounds.getEast())*l),E=Math.ceil(u.aA(this.bounds.getSouth())*l);return r.x>=p&&r.x<C&&r.y>=b&&r.y<E}}class oi extends u.E{constructor(r,l,p,b){if(super(),this.id=r,this.dispatcher=p,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,u.l(this,u.ay(l,["url","scheme","tileSize","promoteId"])),this._options=u.l({type:"vector"},l),this._collectResourceTiming=!!l.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(b),this._tileWorkers={},this._deduped=new u.aB}load(r){this._loaded=!1,this.fire(new u.z("dataloading",{dataType:"source"}));const l=Array.isArray(this.map._language)?this.map._language.join():this.map._language,p=this.map.getWorldview();this._tileJSONRequest=Mr(this._options,this.map._requestManager,l,p,(b,C)=>{if(this._tileJSONRequest=null,this._loaded=!0,b)l&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${l}`),p&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${p}`),this.fire(new u.y(b));else if(C){if(u.l(this,C),this.hasWorldviews=!!C.worldview_options,C.worldview_default&&(this.worldviewDefault=C.worldview_default),C.vector_layers){this.vectorLayers=C.vector_layers,this.vectorLayerIds=[],this.localizableLayerIds=new Set;for(const E of C.vector_layers)this.vectorLayerIds.push(E.id),C.worldview&&C.worldview[E.source]&&this.localizableLayerIds.add(E.id)}C.bounds&&(this.tileBounds=new qr(C.bounds,this.minzoom,this.maxzoom)),Rn(C.tiles,this.map._requestManager._customAccessToken),this.fire(new u.z("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new u.z("data",{dataType:"source",sourceDataType:"content"}))}r&&r(b)})}loaded(){return this._loaded}hasTile(r){return!this.tileBounds||this.tileBounds.contains(r.canonical)}onAdd(r){this.map=r,this.load()}reload(){this.cancelTileJSONRequest();const r=u.aC(this.id,this.scope);this.load(()=>this.map.style.clearSource(r))}setTiles(r){return this._options.tiles=r,this.reload(),this}setUrl(r){return this.url=r,this._options.url=r,this.reload(),this}onRemove(r){this.cancelTileJSONRequest()}serialize(){return u.l({},this._options)}loadTile(r,l){const p=r.tileID.canonical.url(this.tiles,this.scheme),b=this.map._requestManager.normalizeTileURL(p),C=this.map._requestManager.transformRequest(b,u.R.Tile),E=this.map.style?this.map.style.getLut(this.scope):null,R=E?{image:E.image.clone()}:null,B={request:C,data:void 0,uid:r.uid,tileID:r.tileID,tileZoom:r.tileZoom,zoom:r.tileID.overscaledZ,maxZoom:this.maxzoom,lut:R,tileSize:this.tileSize*r.tileID.overscaleFactor(),type:this.type,source:this.id,scope:this.scope,pixelRatio:u.q.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:r.isSymbolTile,brightness:this.map.style&&this.map.style.getBrightness()||0,extraShadowCaster:r.isExtraShadowCaster,tessellationStep:this.map._tessellationStep,scaleFactor:this.map.getScaleFactor()};if(this.hasWorldviews&&u.f(p)&&(B.worldview=this.map.getWorldview()||this.worldviewDefault,B.localizableLayerIds=this.localizableLayerIds),B.request.collectResourceTiming=this._collectResourceTiming,r.actor&&r.state!=="expired")r.state==="loading"?r.reloadCallback=l:r.request=r.actor.send("reloadTile",B,V.bind(this));else if(r.actor=this._tileWorkers[b]=this._tileWorkers[b]||this.dispatcher.getActor(),this.dispatcher.ready)r.request=r.actor.send("loadTile",B,V.bind(this),void 0,!0);else{const U=u.aD.call({deduped:this._deduped},B,(Y,ee)=>{Y||!ee?V.call(this,Y):(B.data={cacheControl:ee.cacheControl,expires:ee.expires,rawData:ee.rawData.slice(0)},r.actor&&r.actor.send("loadTile",B,V.bind(this),void 0,!0))},!0);r.request={cancel:U}}function V(U,Y){return delete r.request,r.aborted?l(null):U&&U.status!==404?l(U):(Y&&Y.resourceTiming&&(r.resourceTiming=Y.resourceTiming),this.map._refreshExpiredTiles&&Y&&r.setExpiryData(Y),r.loadVectorData(Y,this.map.painter),u.aE(this.dispatcher),l(null),void(r.reloadCallback&&(this.loadTile(r,r.reloadCallback),r.reloadCallback=null)))}}abortTile(r){r.request&&(r.request.cancel(),delete r.request),r.actor&&r.actor.send("abortTile",{uid:r.uid,type:this.type,source:this.id,scope:this.scope})}unloadTile(r,l){r.actor&&r.actor.send("removeTile",{uid:r.uid,type:this.type,source:this.id,scope:this.scope}),r.destroy()}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}class Zi extends u.E{constructor(r,l,p,b){super(),this.id=r,this.dispatcher=p,this.setEventedParent(b),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=u.l({type:"raster"},l),u.l(this,u.ay(l,["url","scheme","tileSize"]))}load(r){this._loaded=!1,this.fire(new u.z("dataloading",{dataType:"source"})),this._tileJSONRequest=Mr(this._options,this.map._requestManager,null,null,(l,p)=>{this._tileJSONRequest=null,this._loaded=!0,l?this.fire(new u.y(l)):p&&(u.l(this,p),p.raster_layers&&(this.rasterLayers=p.raster_layers,this.rasterLayerIds=this.rasterLayers.map(b=>b.id)),p.bounds&&(this.tileBounds=new qr(p.bounds,this.minzoom,this.maxzoom)),Rn(p.tiles),this.fire(new u.z("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new u.z("data",{dataType:"source",sourceDataType:"content"}))),r&&r(l)})}loaded(){return this._loaded}onAdd(r){this.map=r,this.load()}reload(){this.cancelTileJSONRequest();const r=u.aC(this.id,this.scope);this.load(()=>this.map.style.clearSource(r))}setTiles(r){return this._options.tiles=r,this.reload(),this}setUrl(r){return this.url=r,this._options.url=r,this.reload(),this}onRemove(r){this.cancelTileJSONRequest()}serialize(){return u.l({},this._options)}hasTile(r){return!this.tileBounds||this.tileBounds.contains(r.canonical)}loadTile(r,l){const p=u.q.devicePixelRatio>=2,b=this.map._requestManager.normalizeTileURL(r.tileID.canonical.url(this.tiles,this.scheme),p,this.tileSize);r.request=u.o(this.map._requestManager.transformRequest(b,u.R.Tile),(C,E,R,B)=>(delete r.request,r.aborted?(r.state="unloaded",l(null)):C?(r.state="errored",l(C)):E?(this.map._refreshExpiredTiles&&r.setExpiryData({cacheControl:R,expires:B}),r.setTexture(E,this.map.painter),r.state="loaded",u.aE(this.dispatcher),void l(null)):l(null)))}abortTile(r,l){r.request&&(r.request.cancel(),delete r.request),l&&l()}unloadTile(r,l){r.texture&&r.texture instanceof u.T?(r.destroy(!0),r.texture&&r.texture instanceof u.T&&this.map.painter.saveTileTexture(r.texture)):r.destroy(),l&&l()}hasTransition(){return!1}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}class ft extends Zi{constructor(r,l,p,b){super(r,l,p,b),this.type="raster-array",this.maxzoom=22,this._options=u.l({type:"raster-array"},l)}triggerRepaint(r){const l=this.map.painter._terrain,p=this.map.style.getSourceCache(this.id);l&&l.enabled&&p&&l._clearRenderCacheForTile(p.id,r.tileID),this.map.triggerRepaint()}loadTile(r,l){const p=this.map._requestManager.normalizeTileURL(r.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize),b=this.map._requestManager.transformRequest(p,u.R.Tile);r.requestParams=b,r.actor||(r.actor=this.dispatcher.getActor()),r.request=r.fetchHeader(void 0,(C,E,R,B)=>{if(delete r.request,r.aborted)return r.state="unloaded",l(null);if(C)return C.code===20?void 0:(r.state="errored",l(C));this.map._refreshExpiredTiles&&r.setExpiryData({cacheControl:R,expires:B}),r.state="empty",l(null)})}unloadTile(r,l){const p=r.texture;p&&p instanceof u.T?(r.destroy(!0),this.map.painter.saveTileTexture(p)):(r.destroy(),r.flushQueues(),r._isHeaderLoaded=!1,delete r._mrt,delete r.textureDescriptor),r.fbo&&(r.fbo.destroy(),delete r.fbo),delete r.request,delete r.requestParams,delete r.neighboringTiles,r.state="unloaded"}prepareTile(r,l,p){r._isHeaderLoaded&&(r.state!=="empty"&&(r.state="reloading"),r.fetchBand(l,p,(b,C)=>{if(b)return r.state="errored",this.fire(new u.y(b)),void this.triggerRepaint(r);C&&(r.setTexture(C,this.map.painter),r.state="loaded",this.triggerRepaint(r))}))}getInitialBand(r){if(!this.rasterLayers)return 0;const l=this.rasterLayers.find(({id:C})=>C===r),p=l&&l.fields,b=p&&p.bands&&p.bands;return b?b[0]:0}getTextureDescriptor(r,l,p){if(!r)return;const b=l.sourceLayer||this.rasterLayerIds&&this.rasterLayerIds[0];if(!b)return;let C=null;l instanceof u.aH?C=l.paint.get("raster-array-band"):l instanceof u.aI&&(C=l.paint.get("raster-particle-array-band"));const E=C||this.getInitialBand(b);if(E!=null)if(r.textureDescriptor){if(!r.updateNeeded(b,E)||p)return Object.assign({},r.textureDescriptor,{texture:r.texture})}else this.prepareTile(r,b,E)}}const _n={vector:oi,raster:Zi,"raster-dem":class extends Zi{constructor(m,r,l,p){super(m,r,l,p),this.type="raster-dem",this.maxzoom=22,this._options=u.l({type:"raster-dem"},r),this.encoding=r.encoding||"mapbox"}loadTile(m,r){const l=this.map._requestManager.normalizeTileURL(m.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function p(b,C){b&&(m.state="errored",r(b)),C&&(m.dem=C,m.dem.onDeserialize(),m.needsHillshadePrepare=!0,m.needsDEMTextureUpload=!0,m.state="loaded",r(null))}m.request=u.o(this.map._requestManager.transformRequest(l,u.R.Tile),function(b,C,E,R){if(delete m.request,m.aborted)m.state="unloaded",r(null);else if(b)m.state="errored",r(b);else if(C){this.map._refreshExpiredTiles&&m.setExpiryData({cacheControl:E,expires:R});const B=ImageBitmap&&C instanceof ImageBitmap&&u.t(),V=1-(C.width-u.aF(C.width))/2;V<1||m.neighboringTiles||(m.neighboringTiles=this._getNeighboringTiles(m.tileID));const U=B?C:u.q.getImageData(C,V),Y={uid:m.uid,coord:m.tileID,source:this.id,scope:this.scope,rawImageData:U,encoding:this.encoding,padding:V};m.actor&&m.state!=="expired"||(m.actor=this.dispatcher.getActor(),m.actor.send("loadDEMTile",Y,p.bind(this),void 0,!0))}}.bind(this))}_getNeighboringTiles(m){const r=m.canonical,l=Math.pow(2,r.z),p=(r.x-1+l)%l,b=r.x===0?m.wrap-1:m.wrap,C=(r.x+1+l)%l,E=r.x+1===l?m.wrap+1:m.wrap,R={};return R[new u.aG(m.overscaledZ,b,r.z,p,r.y).key]={backfilled:!1},R[new u.aG(m.overscaledZ,E,r.z,C,r.y).key]={backfilled:!1},r.y>0&&(R[new u.aG(m.overscaledZ,b,r.z,p,r.y-1).key]={backfilled:!1},R[new u.aG(m.overscaledZ,m.wrap,r.z,r.x,r.y-1).key]={backfilled:!1},R[new u.aG(m.overscaledZ,E,r.z,C,r.y-1).key]={backfilled:!1}),r.y+1<l&&(R[new u.aG(m.overscaledZ,b,r.z,p,r.y+1).key]={backfilled:!1},R[new u.aG(m.overscaledZ,m.wrap,r.z,r.x,r.y+1).key]={backfilled:!1},R[new u.aG(m.overscaledZ,E,r.z,C,r.y+1).key]={backfilled:!1}),R}},"raster-array":ft,geojson:class extends u.E{constructor(m,r,l,p){super(),this.id=m,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=l.getActor(),this.setEventedParent(p),this._data=r.data,this._options=u.l({},r),this._collectResourceTiming=r.collectResourceTiming,r.maxzoom!==void 0&&(this.maxzoom=r.maxzoom),r.minzoom!==void 0&&(this.minzoom=r.minzoom),r.type&&(this.type=r.type),r.attribution&&(this.attribution=r.attribution),this.promoteId=r.promoteId;const b=u.ag/this.tileSize;this.workerOptions=u.l({source:this.id,scope:this.scope,cluster:r.cluster||!1,geojsonVtOptions:{buffer:(r.buffer!==void 0?r.buffer:128)*b,tolerance:(r.tolerance!==void 0?r.tolerance:.375)*b,extent:u.ag,maxZoom:this.maxzoom,lineMetrics:r.lineMetrics||!1,generateId:r.generateId||!1},superclusterOptions:{maxZoom:r.clusterMaxZoom!==void 0?r.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,r.clusterMinPoints||2),extent:u.ag,radius:(r.clusterRadius!==void 0?r.clusterRadius:50)*b,log:!1,generateId:r.generateId||!1},clusterProperties:r.clusterProperties,filter:r.filter,dynamic:r.dynamic},r.workerOptions)}onAdd(m){this.map=m,this.setData(this._data)}setData(m){return this._data=m,this._updateWorkerData(),this}updateData(m){if(!this._options.dynamic)return this.fire(new u.y(new Error("Can't call updateData on a GeoJSON source with dynamic set to false.")));if(typeof m!="string"&&(m.type==="Feature"&&(m={type:"FeatureCollection",features:[m]}),m.type!=="FeatureCollection"))return this.fire(new u.y(new Error("Data to update should be a feature or a feature collection.")));if(this._coalesce&&typeof m!="string"&&typeof this._data!="string"&&this._data.type==="FeatureCollection"){const r=new Map;for(const l of this._data.features)r.set(l.id,l);for(const l of m.features)r.set(l.id,l);this._data.features=[...r.values()]}else this._data=m;return this._updateWorkerData(!0),this}getClusterExpansionZoom(m,r){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:m,source:this.id,scope:this.scope},r),this}getClusterChildren(m,r){return this.actor.send("geojson.getClusterChildren",{clusterId:m,source:this.id,scope:this.scope},r),this}getClusterLeaves(m,r,l,p){return this.actor.send("geojson.getClusterLeaves",{source:this.id,scope:this.scope,clusterId:m,limit:r,offset:l},p),this}_updateWorkerData(m=!1){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new u.z("dataloading",{dataType:"source"})),this._loaded=!1;const r=u.l({append:m},this.workerOptions);r.scope=this.scope;const l=this._data;typeof l=="string"?(r.request=this.map._requestManager.transformRequest(u.q.resolveURL(l),u.R.Source),r.request.collectResourceTiming=this._collectResourceTiming):r.data=JSON.stringify(l),this._pendingLoad=this.actor.send(`${this.type}.loadData`,r,(p,b)=>{if(this._loaded=!0,this._pendingLoad=null,p)this.fire(new u.y(p));else{const C={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&b&&b.resourceTiming&&b.resourceTiming[this.id]&&(C.resourceTiming=b.resourceTiming[this.id]),m&&(this._partialReload=!0),this.fire(new u.z("data",C)),this._partialReload=!1,this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(m),this._coalesce=!1)})}loaded(){return this._loaded}reload(){const m=u.aC(this.id,this.scope);this.map.style.clearSource(m),this._updateWorkerData()}loadTile(m,r){const l=m.actor?"reloadTile":"loadTile";m.actor=this.actor;const p=this.map.style?this.map.style.getLut(this.scope):null,b=p?{image:p.image.clone()}:null,C=this._partialReload,E={type:this.type,uid:m.uid,tileID:m.tileID,tileZoom:m.tileZoom,zoom:m.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,lut:b,scope:this.scope,pixelRatio:u.q.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,brightness:this.map.style&&this.map.style.getBrightness()||0,scaleFactor:this.map.getScaleFactor(),partial:C};m.request=this.actor.send(l,E,(R,B)=>C&&!B?(m.state="loaded",r(null)):(delete m.request,m.destroy(),m.aborted?r(null):R?r(R):(m.loadVectorData(B,this.map.painter,l==="reloadTile"),r(null))),void 0,l==="loadTile")}abortTile(m){m.request&&(m.request.cancel(),delete m.request),m.aborted=!0}unloadTile(m,r){this.actor.send("removeTile",{uid:m.uid,type:this.type,source:this.id,scope:this.scope}),m.destroy()}onRemove(m){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return u.l({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends u.aJ{constructor(m,r,l,p){super(m,r,l,p),this.roundZoom=!0,this.type="video",this.options=r}load(){this._loaded=!1;const m=this.options;this.urls=[];for(const r of m.urls)this.urls.push(this.map._requestManager.transformRequest(r,u.R.Source).url);u.aK(this.urls,(r,l)=>{this._loaded=!0,r?this.fire(new u.y(r)):l&&(this.video=l,this.video.loop=!0,this.video.setAttribute("playsinline",""),this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(m){if(this.video){const r=this.video.seekable;m<r.start(0)||m>r.end(0)?this.fire(new u.y(new u.V(`sources.${this.id}`,null,`Playback for this video can be set only between the ${r.start(0)} and ${r.end(0)}-second mark.`))):this.video.currentTime=m}}getVideo(){return this.video}onAdd(m){this.map||(this.map=m,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const m=this.map.painter.context,r=m.gl;this.texture?this.video.paused||(this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE),r.texSubImage2D(r.TEXTURE_2D,0,0,0,r.RGBA,r.UNSIGNED_BYTE,this.video)):(this.texture=new u.T(m,this.video,r.RGBA8),this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(m)}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:u.aJ,model:class extends u.E{constructor(m,r,l,p){super(),this.id=m,this.type="model",this.models=[],this._loaded=!1,this._options=r}load(){const m=[];for(const r in this._options.models){const l=this._options.models[r],p=u.aM(this.map._requestManager.transformRequest(l.uri,u.R.Model).url).then(b=>{if(!b)return;const C=u.aN(b),E=new u.aO(r,l.position,l.orientation,C);E.computeBoundsAndApplyParent(),this.models.push(E)}).catch(b=>{this.fire(new u.y(new Error(`Could not load model ${r} from ${l.uri}: ${b.message}`)))});m.push(p)}return Promise.allSettled(m).then(()=>{this._loaded=!0,this.fire(new u.z("data",{dataType:"source",sourceDataType:"metadata"}))}).catch(r=>{this.fire(new u.y(new Error(`Could not load models: ${r.message}`)))})}onAdd(m){this.map=m,this.load()}hasTransition(){return!1}loaded(){return this._loaded}getModels(){return this.models}loadTile(m,r){}serialize(){return{type:"model"}}},"batched-model":class extends u.E{constructor(m,r,l,p){super(),this.type="batched-model",this.id=m,this.tileSize=512,this._options=r,this.tiles=this._options.tiles,this.maxzoom=r.maxzoom||19,this.minzoom=r.minzoom||0,this.roundZoom=!0,this.usedInConflation=!0,this.dispatcher=l,this.reparseOverscaled=!1,this.scheme="xyz",this._loaded=!1,this.setEventedParent(p)}onAdd(m){this.map=m,this.load()}reload(){this.cancelTileJSONRequest();const m=u.aC(this.id,this.scope);this.load(()=>this.map.style.clearSource(m))}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}load(m){this._loaded=!1,this.fire(new u.z("dataloading",{dataType:"source"}));const r=Array.isArray(this.map._language)?this.map._language.join():this.map._language,l=this.map.getWorldview();this._tileJSONRequest=Mr(this._options,this.map._requestManager,r,l,(p,b)=>{this._tileJSONRequest=null,this._loaded=!0,p?(r&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${r}`),l&&l.length!==2&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${l}`),this.fire(new u.y(p))):b&&(u.l(this,b),b.bounds&&(this.tileBounds=new qr(b.bounds,this.minzoom,this.maxzoom)),Rn(b.tiles,this.map._requestManager._customAccessToken),this.fire(new u.z("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new u.z("data",{dataType:"source",sourceDataType:"content"}))),m&&m(p)})}hasTransition(){return!1}hasTile(m){return!this.tileBounds||this.tileBounds.contains(m.canonical)}loaded(){return this._loaded}loadTile(m,r){const l=this.map._requestManager.normalizeTileURL(m.tileID.canonical.url(this.tiles,this.scheme)),p={request:this.map._requestManager.transformRequest(l,u.R.Tile),data:void 0,uid:m.uid,tileID:m.tileID,tileZoom:m.tileZoom,zoom:m.tileID.overscaledZ,tileSize:this.tileSize*m.tileID.overscaleFactor(),type:this.type,source:this.id,scope:this.scope,showCollisionBoxes:this.map.showCollisionBoxes,isSymbolTile:m.isSymbolTile,brightness:this.map.style&&this.map.style.getBrightness()||0,lut:null,maxZoom:null,promoteId:null,pixelRatio:null,scaleFactor:null};if(m.actor&&m.state!=="expired")if(m.state==="loading")m.reloadCallback=r;else{if(m.buckets){const C=Object.values(m.buckets);for(const E of C)E.dirty=!0;return void(m.state="loaded")}m.request=m.actor.send("reloadTile",p,b.bind(this))}else m.actor=this.dispatcher.getActor(),m.request=m.actor.send("loadTile",p,b.bind(this),void 0,!0);function b(C,E){return m.aborted?r(null):C&&C.status!==404?r(C):(this.map._refreshExpiredTiles&&E&&m.setExpiryData(E),m.loadModelData(E,this.map.painter),m.state="loaded",void r(null))}}serialize(){return u.l({},this._options)}},canvas:class extends u.aJ{constructor(m,r,l,p){super(m,r,l,p),r.coordinates?Array.isArray(r.coordinates)&&r.coordinates.length===4&&!r.coordinates.some(b=>!Array.isArray(b)||b.length!==2||b.some(C=>typeof C!="number"))||this.fire(new u.y(new u.V(`sources.${m}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new u.y(new u.V(`sources.${m}`,null,'missing required property "coordinates"'))),r.animate&&typeof r.animate!="boolean"&&this.fire(new u.y(new u.V(`sources.${m}`,null,'optional "animate" property must be a boolean value'))),r.canvas?typeof r.canvas=="string"||r.canvas instanceof HTMLCanvasElement||this.fire(new u.y(new u.V(`sources.${m}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new u.y(new u.V(`sources.${m}`,null,'missing required property "canvas"'))),this.options=r,this.animate=r.animate===void 0||r.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new u.y(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(m){this.map=m,this.load(),this.canvas&&this.animate&&this.play()}onRemove(m){this.pause()}prepare(){let m=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,m=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,m=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const r=this.map.painter.context;this.texture?!m&&!this._playing||this.texture instanceof u.aL||this.texture.update(this.canvas,{premultiply:!0}):this.texture=new u.T(r,this.canvas,r.gl.RGBA8,{premultiply:!0}),this._prepareData(r)}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const m of[this.canvas.width,this.canvas.height])if(isNaN(m)||m<=0)return!0;return!1}},custom:class extends u.E{constructor(m,r,l,p){super(),this.id=m,this.type="custom",this._dataType="raster",this._dispatcher=l,this._implementation=r,this.setEventedParent(p),this.scheme="xyz",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new u.y(new Error(`Missing implementation for ${this.id} custom source`))),this._implementation.loadTile||this.fire(new u.y(new Error(`Missing loadTile implementation for ${this.id} custom source`))),this._implementation.bounds&&(this.tileBounds=new qr(this._implementation.bounds,this.minzoom,this.maxzoom)),r.update=this._update.bind(this),r.clearTiles=this._clearTiles.bind(this),r.coveringTiles=this._coveringTiles.bind(this),u.l(this,u.ay(r,["dataType","scheme","minzoom","maxzoom","tileSize","attribution","minTileCacheSize","maxTileCacheSize"]))}serialize(){return u.ay(this,["type","scheme","minzoom","maxzoom","tileSize","attribution"])}load(){this._loaded=!0,this.fire(new u.z("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new u.z("data",{dataType:"source",sourceDataType:"content"}))}loaded(){return this._loaded}onAdd(m){this.map=m,this._loaded=!1,this.fire(new u.z("dataloading",{dataType:"source"})),this._implementation.onAdd&&this._implementation.onAdd(m),this.load()}onRemove(m){this._implementation.onRemove&&this._implementation.onRemove(m)}hasTile(m){if(this._implementation.hasTile){const{x:r,y:l,z:p}=m.canonical;return this._implementation.hasTile({x:r,y:l,z:p})}return!this.tileBounds||this.tileBounds.contains(m.canonical)}loadTile(m,r){const{x:l,y:p,z:b}=m.tileID.canonical,C=new AbortController;m.request=Promise.resolve(this._implementation.loadTile({x:l,y:p,z:b},{signal:C.signal})).then(function(E){return delete m.request,m.aborted?(m.state="unloaded",r(null)):E===void 0?(m.state="errored",r(null)):E===null?(this.loadTileData(m,{width:this.tileSize,height:this.tileSize,data:null}),m.state="loaded",r(null)):function(R){return R instanceof ImageData||R instanceof HTMLCanvasElement||R instanceof ImageBitmap||R instanceof HTMLImageElement}(E)?(this.loadTileData(m,E),m.state="loaded",void r(null)):(m.state="errored",r(new Error(`Can't infer data type for ${this.id}, only raster data supported at the moment`)))}.bind(this)).catch(E=>{E.code!==20&&(m.state="errored",r(E))}),m.request.cancel=()=>C.abort()}loadTileData(m,r){m.setTexture(r,this.map.painter)}unloadTile(m,r){if(m.texture&&m.texture instanceof u.T?(m.destroy(!0),m.texture&&m.texture instanceof u.T&&this.map.painter.saveTileTexture(m.texture)):m.destroy(),this._implementation.unloadTile){const{x:l,y:p,z:b}=m.tileID.canonical;this._implementation.unloadTile({x:l,y:p,z:b})}r&&r()}abortTile(m,r){m.request&&m.request.cancel&&(m.request.cancel(),delete m.request),r&&r()}hasTransition(){return!1}_coveringTiles(){return this.map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map(m=>({x:m.canonical.x,y:m.canonical.y,z:m.canonical.z}))}_clearTiles(){const m=u.aC(this.id,this.scope);this.map.style.clearSource(m)}_update(){this.fire(new u.z("data",{dataType:"source",sourceDataType:"content"}))}}},Ut=function(m,r,l,p){const b=new _n[r.type](m,r,l,p);if(b.id!==m)throw new Error(`Expected Source id to be ${m} instead of ${b.id}`);return u.aP(["load","abort","unload","serialize","prepare"],b),b};function bn(m,r,l=""){return`${l}:${r.id||""}:${r.layer.id}:${function(p){if("layerId"in p)return`layer:${p.layerId}`;{const{featuresetId:b,importId:C}=p;return`featureset:${b}${C?`:import:${C}`:""}`}}(m.target)}`}function sr(m,r,l,p=""){if(m.uniqueFeatureID){const b=bn(m,r,p);if(l.has(b))return!0;l.add(b)}return!1}function Yr(m,r,l,p,b=!1){const C=r.sourceCache.transform,E=r.sourceCache.tilesIn(m,r.has3DLayers,b);E.sort(zi);const R=[];for(const B of E){const V=B.tile.queryRenderedFeatures(r,B,l,p,C,b);Object.keys(V).length&&R.push({wrappedTileID:B.tile.tileID.wrapped().key,queryResults:V})}return R.length===0?{}:function(B){const V={},U={};for(const Y of B){const ee=Y.queryResults,le=Y.wrappedTileID,Ee=U[le]=U[le]||{};for(const xe in ee){const Oe=ee[xe],Me=Ee[xe]=Ee[xe]||{},qe=V[xe]=V[xe]||[];for(const yt of Oe)Me[yt.featureIndex]||(Me[yt.featureIndex]=!0,qe.push(yt))}}return V}(R)}function Ti(m,r,l,p,b){const C={},E=p.queryRenderedSymbols(m),R=[];for(const B of Object.keys(E).map(Number))R.push(b[B]);R.sort(zi);for(const B of R){const V=B.featureIndex.lookupSymbolFeatures(E[B.bucketInstanceId],B.bucketIndex,B.sourceLayerIndex,r,l);for(const U in V){const Y=C[U]=C[U]||[],ee=V[U];ee.sort((le,Ee)=>{const xe=B.featureSortOrder;if(xe){const Oe=xe.indexOf(le.featureIndex);return xe.indexOf(Ee.featureIndex)-Oe}return Ee.featureIndex-le.featureIndex});for(const le of ee)Y.push(le)}}return C}function ho(m,r){const l=m.getRenderableIds().map(C=>m.getTileByID(C)),p=[],b={};for(let C=0;C<l.length;C++){const E=l[C],R=E.tileID.canonical.key;b[R]||(b[R]=!0,E.querySourceFeatures(p,r))}return p}function zi(m,r){const l=m.tileID,p=r.tileID;return l.overscaledZ-p.overscaledZ||l.canonical.y-p.canonical.y||l.wrap-p.wrap||l.canonical.x-p.canonical.x}function Ji(m,r){const l={};if(!r)return l;for(const p of m){const b=p.layerIds.map(C=>r.getLayer(C)).filter(Boolean);if(b.length!==0){p.layers=b,p.stateDependentLayerIds&&(p.stateDependentLayers=p.stateDependentLayerIds.map(C=>b.filter(E=>E.id===C)[0]));for(const C of b)l[C.fqid]=p}}return l}const uo=32,Ni=33,Po=new Uint16Array(8184);for(let m=0;m<2046;m++){let r=m+2,l=0,p=0,b=0,C=0,E=0,R=0;for(1&r?b=C=E=uo:l=p=R=uo;(r>>=1)>1;){const V=l+b>>1,U=p+C>>1;1&r?(b=l,C=p,l=E,p=R):(l=b,p=C,b=E,C=R),E=V,R=U}const B=4*m;Po[B+0]=l,Po[B+1]=p,Po[B+2]=b,Po[B+3]=C}const Vo=new Uint16Array(2178),$o=new Uint8Array(1089),_o=new Uint16Array(1089);function Oo(m){return m===0?-.03125:m===32?.03125:0}const zo={type:2,extent:u.ag,loadGeometry:()=>[[new u.P(0,0),new u.P(u.ag+1,0),new u.P(u.ag+1,u.ag+1),new u.P(0,u.ag+1),new u.P(0,0)]]};class qo{constructor(r,l,p,b,C){this.tileID=r,this.uid=u.aV(),this.uses=0,this.tileSize=l,this.tileZoom=p,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=C,b&&b.style&&(this._lastUpdatedBrightness=b.style.getBrightness()),this.expiredRequestCount=0,this.state="loading",b&&b.transform&&(this.projection=b.transform.projection)}registerFadeDuration(r){const l=r+this.timeAdded;l<u.q.now()||this.fadeEndTime&&l<this.fadeEndTime||(this.fadeEndTime=l)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}get tileTransform(){return this._tileTransform||(this._tileTransform=u.aQ(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(r,l,p){if(this.unloadVectorData(),this.state="loaded",r){r.featureIndex&&(this.latestFeatureIndex=r.featureIndex,r.rawTileData?(this.latestRawTileData=r.rawTileData,this.latestFeatureIndex.rawTileData=r.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=r.collisionBoxArray,this.buckets=Ji(r.buckets,l.style),this.hasSymbolBuckets=!1;for(const b in this.buckets){const C=this.buckets[b];if(C instanceof u.aX){if(this.hasSymbolBuckets=!0,!p)break;C.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const b in this.buckets){const C=this.buckets[b];if(C instanceof u.aX&&C.hasRTLText){this.hasRTLText=!0,u.aY();break}}this.queryPadding=0;for(const b in this.buckets){const C=this.buckets[b],E=l.style.getOwnLayer(b);if(!E)continue;const R=E.queryRadius(C);this.queryPadding=Math.max(this.queryPadding,R)}r.imageAtlas&&(this.imageAtlas=r.imageAtlas),r.glyphAtlasImage&&(this.glyphAtlasImage=r.glyphAtlasImage),r.lineAtlas&&(this.lineAtlas=r.lineAtlas),this._lastUpdatedBrightness=r.brightness}else this.collisionBoxArray=new u.aW}unloadVectorData(){if(this.hasData()){for(const r in this.buckets)this.buckets[r].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}loadModelData(r,l,p){r&&(r.resourceTiming&&(this.resourceTiming=r.resourceTiming),this.buckets=Object.assign({},this.buckets,Ji(r.buckets,l.style)),r.featureIndex&&(this.latestFeatureIndex=r.featureIndex))}getBucket(r){return this.buckets[r.fqid]}upload(r){for(const b in this.buckets){const C=this.buckets[b];C.uploadPending()&&C.upload(r)}const l=r.gl,p=this.imageAtlas;if(p&&!p.uploaded){const b=!!Object.keys(p.patternPositions).length;this.imageAtlasTexture=new u.T(r,p.image,l.RGBA8,{useMipmap:b}),this.imageAtlas.uploaded=!0}this.glyphAtlasImage&&(this.glyphAtlasTexture=new u.T(r,this.glyphAtlasImage,l.R8),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new u.T(r,this.lineAtlas.image,l.R8),this.lineAtlas.uploaded=!0)}prepare(r,l,p){if(this.imageAtlas&&this.imageAtlasTexture&&this.imageAtlas.patchUpdatedImages(r,this.imageAtlasTexture,p),!l||!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData)return;const b=l.style.getBrightness();(this._lastUpdatedBrightness||b)&&(this._lastUpdatedBrightness&&b&&Math.abs(this._lastUpdatedBrightness-b)<.001||(this.updateBuckets(l,this._lastUpdatedBrightness!==b),this._lastUpdatedBrightness=b))}queryRenderedFeatures(r,l,p,b,C,E){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData&&!this.latestFeatureIndex.is3DTile)return{};const R=function(B,V){const U=u.ab.mat4.fromScaling([],[.5*B.width,.5*-B.height,1]);return u.ab.mat4.translate(U,U,[1,-1,0]),u.ab.mat4.multiply(U,U,B.calculateProjMatrix(V.toUnwrapped())),Float32Array.from(U)}(C,this.tileID);return this.latestFeatureIndex.query(r,{tilespaceGeometry:l,pixelPosMatrix:R,transform:b,availableImages:p,tileTransform:this.tileTransform})}querySourceFeatures(r,l){const p=this.latestFeatureIndex;if(!p||!p.rawTileData)return;const b=p.loadVTLayers(),C=l?l.sourceLayer:"",E=b._geojsonTileLayer||b[C];if(!E)return;const R=u.aZ(l&&l.filter),{z:B,x:V,y:U}=this.tileID.canonical,Y={z:B,x:V,y:U};for(let ee=0;ee<E.length;ee++){const le=E.feature(ee);if(R.needGeometry){const Oe=u.a_(le,!0);if(!R.filter(new u.a8(this.tileID.overscaledZ),Oe,this.tileID.canonical))continue}else if(!R.filter(new u.a8(this.tileID.overscaledZ),le))continue;const Ee=p.getId(le,C),xe=new u.a$(le,B,V,U,Ee);xe.tile=Y,r.push(xe)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return!!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(r){const l=this.expirationTime;if(r.cacheControl){const p=u.b0(r.cacheControl);p["max-age"]&&(this.expirationTime=Date.now()+1e3*p["max-age"])}else r.expires&&(this.expirationTime=new Date(r.expires).getTime());if(this.expirationTime){const p=Date.now();let b=!1;if(this.expirationTime>p)b=!1;else if(l)if(this.expirationTime<l)b=!0;else{const C=this.expirationTime-l;C?this.expirationTime=p+Math.max(C,3e4):b=!0}else b=!0;b?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}refreshFeatureState(r){this.latestFeatureIndex&&(this.latestFeatureIndex.rawTileData||this.latestFeatureIndex.is3DTile)&&r&&this.updateBuckets(r)}updateBuckets(r,l){if(!this.latestFeatureIndex||!r.style)return;const p=this.latestFeatureIndex.loadVTLayers(),b=r.style.listImages(),C=r.style.getBrightness();for(const E in this.buckets){if(!r.style.hasLayer(E))continue;const R=this.buckets[E],B=R.layers[0],V=B.sourceLayer||"_geojsonTileLayer",U=p[V],Y=r.style.getLayerSourceCache(B);let ee={};Y&&(ee=Y._state.getState(V,void 0));const le=this.imageAtlas&&this.imageAtlas.patternPositions||{},Ee=Object.keys(ee).length>0&&!l;Ee&&!R.stateDependentLayers.length&&!l||R.update(ee,U,b,le,Ee?R.stateDependentLayers:R.layers,l,C),(R instanceof u.b1||R instanceof u.b2)&&r._terrain&&r._terrain.enabled&&Y&&R.programConfigurations.needsUpload&&r._terrain._clearRenderCacheForTile(Y.id,this.tileID);const xe=r&&r.style&&r.style.getOwnLayer(E);xe&&(this.queryPadding=Math.max(this.queryPadding,xe.queryRadius(R)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<u.q.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(r){this.symbolFadeHoldUntil=u.q.now()+r}setTexture(r,l){const p=l.context,b=p.gl;this.texture=this.texture||l.getTileTexture(r.width),this.texture&&this.texture instanceof u.T?this.texture.update(r):(this.texture=new u.T(p,r,b.RGBA8,{useMipmap:!0}),this.texture.bind(b.LINEAR,b.CLAMP_TO_EDGE))}setDependencies(r,l){const p={};for(const b of l)p[b]=!0;this.dependencies[r]=p}hasDependency(r,l){for(const p of r){const b=this.dependencies[p];if(b){for(const C of l)if(b[C])return!0}}return!1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(r,l){if(!l||l.name==="mercator"||this._tileDebugBuffer)return;const p=u.b3(zo,this.tileID.canonical,this.tileTransform)[0],b=new u.b4,C=new u.b5;for(let E=0;E<p.length;E++){const{x:R,y:B}=p[E];b.emplaceBack(R,B),C.emplaceBack(E)}C.emplaceBack(0),this._tileDebugIndexBuffer=r.createIndexBuffer(C),this._tileDebugBuffer=r.createVertexBuffer(b,u.b6.members),this._tileDebugSegments=u.b7.simpleSegment(0,0,b.length,C.length)}_makeTileBoundsBuffers(r,l){if(this._tileBoundsBuffer||!l||l.name==="mercator")return;const p=u.b3(zo,this.tileID.canonical,this.tileTransform)[0];let b,C;if(this.isRaster){const E=function(R,B){const V=u.aQ(R,B),U=Math.pow(2,R.z);for(let Oe=0;Oe<Ni;Oe++)for(let Me=0;Me<Ni;Me++){const qe=u.aR((R.x+(Me+Oo(Me))/uo)/U),yt=u.aS((R.y+(Oe+Oo(Oe))/uo)/U),gt=B.project(qe,yt),Nt=Oe*Ni+Me;Vo[2*Nt+0]=Math.round((gt.x*V.scale-V.x)*u.ag),Vo[2*Nt+1]=Math.round((gt.y*V.scale-V.y)*u.ag)}$o.fill(0),_o.fill(0);for(let Oe=2045;Oe>=0;Oe--){const Me=4*Oe,qe=Po[Me+0],yt=Po[Me+1],gt=Po[Me+2],Nt=Po[Me+3],Mt=qe+gt>>1,Dt=yt+Nt>>1,It=Mt+Dt-yt,zt=Dt+qe-Mt,fn=yt*Ni+qe,nr=Nt*Ni+gt,Hn=Dt*Ni+Mt,Er=Math.hypot((Vo[2*fn+0]+Vo[2*nr+0])/2-Vo[2*Hn+0],(Vo[2*fn+1]+Vo[2*nr+1])/2-Vo[2*Hn+1])>=16;$o[Hn]=$o[Hn]||(Er?1:0),Oe<1022&&($o[Hn]=$o[Hn]||$o[(yt+zt>>1)*Ni+(qe+It>>1)]||$o[(Nt+zt>>1)*Ni+(gt+It>>1)])}const Y=new u.aT,ee=new u.aU;let le=0;function Ee(Oe,Me){const qe=Me*Ni+Oe;return _o[qe]===0&&(Y.emplaceBack(Vo[2*qe+0],Vo[2*qe+1],Oe*u.ag/uo,Me*u.ag/uo),_o[qe]=++le),_o[qe]-1}function xe(Oe,Me,qe,yt,gt,Nt){const Mt=Oe+qe>>1,Dt=Me+yt>>1;if(Math.abs(Oe-gt)+Math.abs(Me-Nt)>1&&$o[Dt*Ni+Mt])xe(gt,Nt,Oe,Me,Mt,Dt),xe(qe,yt,gt,Nt,Mt,Dt);else{const It=Ee(Oe,Me),zt=Ee(qe,yt),fn=Ee(gt,Nt);ee.emplaceBack(It,zt,fn)}}return xe(0,0,uo,uo,uo,0),xe(uo,uo,0,0,0,uo),{vertices:Y,indices:ee}}(this.tileID.canonical,l);b=E.vertices,C=E.indices}else{b=new u.aT,C=new u.aU;for(const{x:R,y:B}of p)b.emplaceBack(R,B,0,0);const E=u.b8(b.int16,void 0,4);for(let R=0;R<E.length;R+=3)C.emplaceBack(E[R],E[R+1],E[R+2])}this._tileBoundsBuffer=r.createVertexBuffer(b,u.b9.members),this._tileBoundsIndexBuffer=r.createIndexBuffer(C),this._tileBoundsSegments=u.b7.simpleSegment(0,0,b.length,C.length)}_makeGlobeTileDebugBuffers(r,l){const p=l.projection;if(!p||p.name!=="globe"||l.freezeTileCoverage)return;const b=this.tileID.canonical,C=u.ba(b,l),E=u.bb(C),R=u.ae(l.zoom);let B;R>0&&(B=u.ab.mat4.invert(new Float64Array(16),l.globeMatrix)),this._makeGlobeTileDebugBorderBuffer(r,b,l,E,B,R),this._makeGlobeTileDebugTextBuffer(r,b,l,E,B,R)}_globePoint(r,l,p,b,C,E,R){let B=u.bc(r,l,p);if(E){const V=1<<p.z,U=u.at(b.center.lng),Y=u.aA(b.center.lat),ee=(p.x+.5)/V-U;let le=0;ee>.5?le=-1:ee<-.5&&(le=1);let Ee=(r/u.ag+p.x)/V+le,xe=(l/u.ag+p.y)/V;Ee=(Ee-U)*b._pixelsPerMercatorPixel+U,xe=(xe-Y)*b._pixelsPerMercatorPixel+Y;const Oe=[Ee*b.worldSize,xe*b.worldSize,0];u.ab.vec3.transformMat4(Oe,Oe,E),B=u.bd(B,Oe,R)}return u.ab.vec3.transformMat4(B,B,C)}_makeGlobeTileDebugBorderBuffer(r,l,p,b,C,E){const R=new u.b4,B=new u.b5,V=new u.be,U=(ee,le,Ee,xe,Oe)=>{const Me=(Ee-ee)/(Oe-1),qe=(xe-le)/(Oe-1),yt=R.length;for(let gt=0;gt<Oe;gt++){const Nt=ee+gt*Me,Mt=le+gt*qe;R.emplaceBack(Nt,Mt);const Dt=this._globePoint(Nt,Mt,l,p,b,C,E);V.emplaceBack(Dt[0],Dt[1],Dt[2]),B.emplaceBack(yt+gt)}},Y=u.ag;U(0,0,Y,0,16),U(Y,0,Y,Y,16),U(Y,Y,0,Y,16),U(0,Y,0,0,16),this._tileDebugIndexBuffer=r.createIndexBuffer(B),this._tileDebugBuffer=r.createVertexBuffer(R,u.b6.members),this._globeTileDebugBorderBuffer=r.createVertexBuffer(V,u.bf.members),this._tileDebugSegments=u.b7.simpleSegment(0,0,R.length,B.length)}_makeGlobeTileDebugTextBuffer(r,l,p,b,C,E){const R=u.ag/4,B=new u.b4,V=new u.aU,U=new u.be,Y=25;V.reserve(32),B.reserve(Y),U.reserve(Y);const ee=(le,Ee)=>Y*le+Ee;for(let le=0;le<Y;le++){const Ee=le*R;for(let xe=0;xe<Y;xe++){const Oe=xe*R;B.emplaceBack(Oe,Ee);const Me=this._globePoint(Oe,Ee,l,p,b,C,E);U.emplaceBack(Me[0],Me[1],Me[2])}}for(let le=0;le<4;le++)for(let Ee=0;Ee<4;Ee++){const xe=ee(le,Ee),Oe=ee(le,Ee+1),Me=ee(le+1,Ee),qe=ee(le+1,Ee+1);V.emplaceBack(xe,Oe,Me),V.emplaceBack(Me,Oe,qe)}this._tileDebugTextIndexBuffer=r.createIndexBuffer(V),this._tileDebugTextBuffer=r.createVertexBuffer(B,u.b6.members),this._globeTileDebugTextBuffer=r.createVertexBuffer(U,u.bf.members),this._tileDebugTextSegments=u.b7.simpleSegment(0,0,Y,32)}destroy(r=!1){for(const l in this.buckets)this.buckets[l].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&(this.imageAtlasTexture.destroy(),delete this.imageAtlasTexture),this.glyphAtlasTexture&&(this.glyphAtlasTexture.destroy(),delete this.glyphAtlasTexture),this.lineAtlasTexture&&(this.lineAtlasTexture.destroy(),delete this.lineAtlasTexture),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),!r&&this.texture&&this.texture instanceof u.T&&(this.texture.destroy(),delete this.texture),this.hillshadeFBO&&(this.hillshadeFBO.destroy(),delete this.hillshadeFBO),this.dem&&delete this.dem,this.neighboringTiles&&delete this.neighboringTiles,this.demTexture&&(this.demTexture.destroy(),delete this.demTexture),this.rasterParticleState&&(this.rasterParticleState.destroy(),delete this.rasterParticleState),this.latestFeatureIndex=null,this.state="unloaded"}}u.bg.setPbf(u.bh);class oo extends qo{constructor(r,l,p,b,C){super(r,l,p,b,C),this._workQueue=[],this._fetchQueue=[],this._isHeaderLoaded=!1}setTexture(r,l){const p=l.context,b=p.gl;this.texture=this.texture||l.getTileTexture(r.width),this.texture&&this.texture instanceof u.T?this.texture.update(r,{premultiply:!1}):this.texture=new u.T(p,r,b.RGBA8,{premultiply:!1})}flushQueues(){for(;this._workQueue.length;)this._workQueue.pop()();for(;this._fetchQueue.length;)this._fetchQueue.pop()()}fetchHeader(r=16384,l){const p=this._mrt=new u.bg(30),b=Object.assign({},this.requestParams,{headers:{Range:"bytes=0-"+(r-1)}});return this.entireBuffer=null,this.request=u.bi(b,(C,E,R,B)=>{if(C)l(C);else try{const V=p.getHeaderLength(E);if(V>r)return void(this.request=this.fetchHeader(V,l));p.parseHeader(E),this._isHeaderLoaded=!0;let U=0;for(const Y of Object.values(p.layers))U=Math.max(U,Y.dataIndex[Y.dataIndex.length-1].last_byte);E.byteLength>=U&&(this.entireBuffer=E),l(null,this.entireBuffer||E,R,B)}catch(V){l(V)}}),this.request}fetchBand(r,l,p){const b=this._mrt;if(!this._isHeaderLoaded||!b)return void p(new Error("Tile header is not ready"));const C=this.actor;if(!C)return void p(new Error("Can't fetch tile band without an actor"));let E;const R=(Y,ee)=>{E.complete(Y,ee),Y?p(Y):(this.updateTextureDescriptor(r,l),p(null,this.textureDescriptor&&this.textureDescriptor.img))},B=(Y,ee)=>{if(Y)return p(Y);const le=C.send("decodeRasterArray",{buffer:ee,task:E},R,void 0,!0);this._workQueue.push(()=>{le&&le.cancel(),E.cancel()})},V=b.getLayer(r);if(!V)return void p(new Error(`Unknown sourceLayer "${r}"`));if(V.hasDataForBand(l))return this.updateTextureDescriptor(r,l),void p(null,this.textureDescriptor?this.textureDescriptor.img:null);const U=V.getDataRange([l]);if(E=b.createDecodingTask(U),!E||E.tasks.length)if(this.flushQueues(),this.entireBuffer)B(null,this.entireBuffer.slice(U.firstByte,U.lastByte+1));else{const Y=Object.assign({},this.requestParams,{headers:{Range:`bytes=${U.firstByte}-${U.lastByte}`}}),ee=u.bi(Y,B);this._fetchQueue.push(()=>{ee.cancel(),E.cancel()})}else p(null)}updateNeeded(r,l){return(!this.textureDescriptor||this.textureDescriptor.band!==l||this.textureDescriptor.layer!==r)&&this.state!=="errored"}updateTextureDescriptor(r,l){if(!this._mrt)return;const p=this._mrt.getLayer(r);if(!p||!p.hasBand(l)||!p.hasDataForBand(l))return;const{bytes:b,tileSize:C,buffer:E,offset:R,scale:B}=p.getBandView(l),V=C+2*E,U={data:b,width:V,height:V},Y=this.texture;Y&&Y instanceof u.T&&Y.update(U,{premultiply:!1}),this.textureDescriptor={layer:r,band:l,img:U,buffer:E,offset:R,tileSize:C,format:p.pixelFormat,mix:[B,256*B,65536*B,16777216*B]}}}class wo{constructor(r,l){this.max=r,this.onRemove=l,this.reset()}reset(){for(const r in this.data)for(const l of this.data[r])l.timeout&&clearTimeout(l.timeout),this.onRemove(l.value);return this.data={},this.order=[],this}add(r,l,p){const b=r.wrapped().key;this.data[b]===void 0&&(this.data[b]=[]);const C={value:l,timeout:void 0};if(p!==void 0&&(C.timeout=setTimeout(()=>{this.remove(r,C)},p)),this.data[b].push(C),this.order.push(b),this.order.length>this.max){const E=this._getAndRemoveByKey(this.order[0]);E&&this.onRemove(E)}return this}has(r){return r.wrapped().key in this.data}getAndRemove(r){return this.has(r)?this._getAndRemoveByKey(r.wrapped().key):null}_getAndRemoveByKey(r){const l=this.data[r].shift();return l.timeout&&clearTimeout(l.timeout),this.data[r].length===0&&delete this.data[r],this.order.splice(this.order.indexOf(r),1),l.value}getByKey(r){const l=this.data[r];return l?l[0].value:null}get(r){return this.has(r)?this.data[r.wrapped().key][0].value:null}remove(r,l){if(!this.has(r))return this;const p=r.wrapped().key,b=l===void 0?0:this.data[p].indexOf(l),C=this.data[p][b];return this.data[p].splice(b,1),C.timeout&&clearTimeout(C.timeout),this.data[p].length===0&&delete this.data[p],this.onRemove(C.value),this.order.splice(this.order.indexOf(p),1),this}setMaxSize(r){for(this.max=r;this.order.length>this.max;){const l=this._getAndRemoveByKey(this.order[0]);l&&this.onRemove(l)}return this}filter(r){const l=[];for(const p in this.data)for(const b of this.data[p])r(b.value)||l.push(b);for(const p of l)this.remove(p.value.tileID,p)}}class go{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(r,l,p){const b=String(l);if(this.stateChanges[r]=this.stateChanges[r]||{},this.stateChanges[r][b]=this.stateChanges[r][b]||{},u.l(this.stateChanges[r][b],p),this.deletedStates[r]===null){this.deletedStates[r]={};for(const C in this.state[r])C!==b&&(this.deletedStates[r][C]=null)}else if(this.deletedStates[r]&&this.deletedStates[r][b]===null){this.deletedStates[r][b]={};for(const C in this.state[r][b])p[C]||(this.deletedStates[r][b][C]=null)}else for(const C in p)this.deletedStates[r]&&this.deletedStates[r][b]&&this.deletedStates[r][b][C]===null&&delete this.deletedStates[r][b][C]}removeFeatureState(r,l,p){if(this.deletedStates[r]===null)return;const b=String(l);if(this.deletedStates[r]=this.deletedStates[r]||{},p&&l!==void 0)this.deletedStates[r][b]!==null&&(this.deletedStates[r][b]=this.deletedStates[r][b]||{},this.deletedStates[r][b][p]=null);else if(l!==void 0)if(this.stateChanges[r]&&this.stateChanges[r][b])for(p in this.deletedStates[r][b]={},this.stateChanges[r][b])this.deletedStates[r][b][p]=null;else this.deletedStates[r][b]=null;else this.deletedStates[r]=null}getState(r,l){const p=this.state[r]||{},b=this.stateChanges[r]||{},C=this.deletedStates[r];if(C===null)return{};if(l!==void 0){const R=String(l),B=u.l({},p[R],b[R]);if(C){const V=C[l];if(V===null)return{};for(const U in V)delete B[U]}return B}const E=u.l({},p,b);if(C)for(const R in C)delete E[R];return E}initializeTileState(r,l){r.refreshFeatureState(l)}coalesceChanges(r,l){const p={};for(const b in this.stateChanges){this.state[b]=this.state[b]||{};const C={};for(const E in this.stateChanges[b])this.state[b][E]||(this.state[b][E]={}),u.l(this.state[b][E],this.stateChanges[b][E]),C[E]=this.state[b][E];p[b]=C}for(const b in this.deletedStates){this.state[b]=this.state[b]||{};const C={};if(this.deletedStates[b]===null)for(const E in this.state[b])C[E]={},this.state[b][E]={};else for(const E in this.deletedStates[b]){if(this.deletedStates[b][E]===null)this.state[b][E]={};else if(this.state[b][E])for(const R of Object.keys(this.deletedStates[b][E]))delete this.state[b][E][R];C[E]=this.state[b][E]}p[b]=p[b]||{},u.l(p[b],C)}if(this.stateChanges={},this.deletedStates={},Object.keys(p).length!==0)for(const b in r)r[b].refreshFeatureState(l)}}class so extends u.E{constructor(r,l,p){super(),this.id=r,this._onlySymbols=p,l.on("data",b=>{b.dataType==="source"&&b.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&b.dataType==="source"&&b.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform))}),l.on("error",()=>{this._sourceErrored=!0}),this._source=l,this._tiles={},this._cache=new wo(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._minTileCacheSize=l.minTileCacheSize,this._maxTileCacheSize=l.maxTileCacheSize,this._loadedParentTiles={},this.castsShadows=!1,this.tileCoverLift=0,this._coveredTiles={},this._shadowCasterTiles={},this._state=new go,this._isRaster=this._source.type==="raster"||this._source.type==="raster-dem"||this._source.type==="raster-array"||this._source.type==="custom"&&this._source._dataType==="raster"}onAdd(r){this.map=r,this._minTileCacheSize=this._minTileCacheSize===void 0&&r?r._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=this._maxTileCacheSize===void 0&&r?r._maxTileCacheSize:this._maxTileCacheSize}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const r in this._tiles){const l=this._tiles[r];if(l.state!=="loaded"&&l.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const r=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,r&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(r,l){return r.isSymbolTile=this._onlySymbols,r.isExtraShadowCaster=this._shadowCasterTiles[r.tileID.key],this._source.loadTile(r,l)}_unloadTile(r){if(this._source.unloadTile)return this._source.unloadTile(r)}_abortTile(r){if(this._source.abortTile)return this._source.abortTile(r)}serialize(){return this._source.serialize()}prepare(r){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const l in this._tiles){const p=this._tiles[l];p.upload(r),p.prepare(this.map.style.imageManager,this.map?this.map.painter:null,this._source.scope)}}getIds(){return u.bj(this._tiles).map(r=>r.tileID).sort(to).map(r=>r.key)}getRenderableIds(r,l){const p=[];for(const b in this._tiles)this._isIdRenderable(+b,r,l)&&p.push(this._tiles[b]);return r?p.sort((b,C)=>{const E=b.tileID,R=C.tileID,B=new u.P(E.canonical.x,E.canonical.y)._rotate(this.transform.angle),V=new u.P(R.canonical.x,R.canonical.y)._rotate(this.transform.angle);return E.overscaledZ-R.overscaledZ||V.y-B.y||V.x-B.x}).map(b=>b.tileID.key):p.map(b=>b.tileID).sort(to).map(b=>b.key)}hasRenderableParent(r){const l=this.findLoadedParent(r,0);return!!l&&this._isIdRenderable(l.tileID.key)}_isIdRenderable(r,l,p){return this._tiles[r]&&this._tiles[r].hasData()&&!this._coveredTiles[r]&&(l||!this._tiles[r].holdingForFade())&&(p||!this._shadowCasterTiles[r])}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const r in this._tiles)this._tiles[r].state!=="errored"&&this._reloadTile(+r,"reloading")}}_reloadTile(r,l){const p=this._tiles[r];p&&(p.state!=="loading"&&(p.state=l),this._loadTile(p,this._tileLoaded.bind(this,p,r,l)))}_tileLoaded(r,l,p,b){if(b)if(r.state="errored",b.status!==404)this._source.fire(new u.y(b,{tile:r}));else{if(this._source.fire(new u.z("data",{dataType:"source",sourceDataType:"error",sourceId:this._source.id,tile:r})),!(r.tileID.key in this._loadedParentTiles))return;if(this._source.type==="raster-dem"&&this.usedForTerrain&&this.map.painter.terrain){const C=this.map.painter.terrain;this.update(this.transform,C.getScaledDemTileSize(),!0),C.resetTileLookupCache(this.id)}else this.update(this.transform)}else r.timeAdded=u.q.now(),p==="expired"&&(r.refreshedUponExpiration=!0),this._setTileReloadTimer(l,r),this._source.type==="raster-dem"&&r.dem&&this._backfillDEM(r),this._state.initializeTileState(r,this.map?this.map.painter:null),this._source.fire(new u.z("data",{dataType:"source",tile:r,coord:r.tileID,sourceCacheId:this.id}))}_backfillDEM(r){const l=this.getRenderableIds();for(let b=0;b<l.length;b++){const C=l[b];if(r.neighboringTiles&&r.neighboringTiles[C]){const E=this.getTileByID(C);p(r,E),p(E,r)}}function p(b,C){if(!b.dem||b.dem.borderReady)return;b.needsHillshadePrepare=!0,b.needsDEMTextureUpload=!0;let E=C.tileID.canonical.x-b.tileID.canonical.x;const R=C.tileID.canonical.y-b.tileID.canonical.y,B=Math.pow(2,b.tileID.canonical.z),V=C.tileID.key;E===0&&R===0||Math.abs(R)>1||(Math.abs(E)>1&&(Math.abs(E+B)===1?E+=B:Math.abs(E-B)===1&&(E-=B)),C.dem&&b.dem&&(b.dem.backfillBorder(C.dem,E,R),b.neighboringTiles&&b.neighboringTiles[V]&&(b.neighboringTiles[V].backfilled=!0)))}}getTile(r){return this.getTileByID(r.key)}getTileByID(r){return this._tiles[r]}_retainLoadedChildren(r,l,p,b){for(const C in this._tiles){let E=this._tiles[C];if(b[C]||!E.hasData()||E.tileID.overscaledZ<=l||E.tileID.overscaledZ>p)continue;let R=E.tileID;for(;E&&E.tileID.overscaledZ>l+1;){const V=E.tileID.scaledTo(E.tileID.overscaledZ-1);E=this._tiles[V.key],E&&E.hasData()&&(R=V)}let B=R;for(;B.overscaledZ>l;)if(B=B.scaledTo(B.overscaledZ-1),r[B.key]){b[R.key]=R;break}}}findLoadedParent(r,l){if(r.key in this._loadedParentTiles){const p=this._loadedParentTiles[r.key];return p&&p.tileID.overscaledZ>=l?p:null}for(let p=r.overscaledZ-1;p>=l;p--){const b=r.scaledTo(p),C=this._getLoadedTile(b);if(C)return C}}_getLoadedTile(r){const l=this._tiles[r.key];return l&&l.hasData()?l:this._cache.getByKey(this._source.reparseOverscaled?r.wrapped().key:r.canonical.key)}updateCacheSize(r,l){l=l||this._source.tileSize;const p=Math.ceil(r.width/l)+1,b=Math.ceil(r.height/l)+1,C=Math.floor(p*b*5),E=typeof this._minTileCacheSize=="number"?Math.max(this._minTileCacheSize,C):C,R=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,E):E;this._cache.setMaxSize(R)}handleWrapJump(r){const l=Math.round((r-(this._prevLng===void 0?r:this._prevLng))/360);if(this._prevLng=r,l){const p={};for(const b in this._tiles){const C=this._tiles[b];C.tileID=C.tileID.unwrapTo(C.tileID.wrap+l),p[C.tileID.key]=C}this._tiles=p;for(const b in this._timers)clearTimeout(this._timers[b]),delete this._timers[b];for(const b in this._tiles)this._setTileReloadTimer(+b,this._tiles[b])}}update(r,l,p,b){if(this.transform=r,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage||this.usedForTerrain&&!p)return;this.updateCacheSize(r,l),this.transform.projection.name!=="globe"&&this.handleWrapJump(this.transform.center.lng),this._shadowCasterTiles={},this._coveredTiles={};const C=this._source.type==="batched-model";let E,R=this._source.maxzoom;const B=this.map&&this.map.painter?this.map.painter._terrain:null;if(B&&B.sourceCache===this&&B.attenuationRange()){const Y=B.attenuationRange()[0],ee=Math.floor(Y)-Math.log2(B.getDemUpscale());R>ee&&(R=ee)}if(this.used||this.usedForTerrain){if(this._source.tileID)E=r.getVisibleUnwrappedCoordinates(this._source.tileID).map(Y=>new u.aG(Y.canonical.z,Y.wrap,Y.canonical.z,Y.canonical.x,Y.canonical.y));else if(this.tileCoverLift!==0){const Y=r.clone();Y.tileCoverLift=this.tileCoverLift,E=Y.coveringTiles({tileSize:l||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:R,roundZoom:this._source.roundZoom&&!p,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain,calculateQuadrantVisibility:C}),this._source.minzoom<=1&&r.projection.name==="globe"&&(E.push(new u.aG(1,0,1,0,0)),E.push(new u.aG(1,0,1,1,0)),E.push(new u.aG(1,0,1,0,1)),E.push(new u.aG(1,0,1,1,1)))}else if(E=r.coveringTiles({tileSize:l||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:R,roundZoom:this._source.roundZoom&&!p,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain,calculateQuadrantVisibility:C}),this._source.hasTile){const Y=this._source.hasTile.bind(this._source);E=E.filter(ee=>Y(ee))}}else E=[];if(E.length>0&&this.castsShadows&&b&&this.transform.projection.name!=="globe"&&!this.usedForTerrain&&!ko(this._source.type)){const Y=r.coveringZoomLevel({tileSize:l||this._source.tileSize,roundZoom:this._source.roundZoom&&!p}),ee=Math.min(Y,this._source.maxzoom);if(C){const le=r.extendTileCover(E,ee);for(const Ee of le)E.push(Ee)}else{const le=r.extendTileCover(E,ee,b);for(const Ee of le)this._shadowCasterTiles[Ee.key]=!0,E.push(Ee)}}const V=this._updateRetainedTiles(E);if(ko(this._source.type)&&E.length!==0){const Y={},ee={},le=Object.keys(V);for(const xe of le){const Oe=V[xe],Me=this._tiles[xe];if(!Me||Me.fadeEndTime&&Me.fadeEndTime<=u.q.now())continue;const qe=this.findLoadedParent(Oe,Math.max(Oe.overscaledZ-so.maxOverzooming,this._source.minzoom));qe&&(this._addTile(qe.tileID),Y[qe.tileID.key]=qe.tileID),ee[xe]=Oe}const Ee=E[E.length-1].overscaledZ;for(const xe in this._tiles){const Oe=this._tiles[xe];if(V[xe]||!Oe.hasData())continue;let Me=Oe.tileID;for(;Me.overscaledZ>Ee;){Me=Me.scaledTo(Me.overscaledZ-1);const qe=this._tiles[Me.key];if(qe&&qe.hasData()&&ee[Me.key]){V[xe]=Oe.tileID;break}}}for(const xe in Y)V[xe]||(this._coveredTiles[xe]=!0,V[xe]=Y[xe])}for(const Y in V)this._tiles[Y].clearFadeHold();const U=u.bk(this._tiles,V);for(const Y of U){const ee=this._tiles[Y];ee.hasSymbolBuckets&&!ee.holdingForFade()?ee.setHoldDuration(this.map._fadeDuration):ee.hasSymbolBuckets&&!ee.symbolFadeFinished()||this._removeTile(+Y)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const r in this._tiles)this._tiles[r].holdingForFade()&&this._removeTile(+r)}_updateRetainedTiles(r){const l={};if(r.length===0)return l;const p={},b=r.reduce((V,U)=>Math.min(V,U.overscaledZ),1/0),C=r[0].overscaledZ,E=Math.max(C-so.maxOverzooming,this._source.minzoom),R=Math.max(C+so.maxUnderzooming,this._source.minzoom),B={};for(const V of r){const U=this._addTile(V);l[V.key]=V,U.hasData()||b<this._source.maxzoom&&(B[V.key]=V)}this._retainLoadedChildren(B,b,R,l);for(const V of r){let U=this._tiles[V.key];if(U.hasData())continue;if(V.canonical.z>=this._source.maxzoom){const ee=V.children(this._source.maxzoom)[0],le=this.getTile(ee);if(le&&le.hasData()){l[ee.key]=ee;continue}}else{const ee=V.children(this._source.maxzoom);if(l[ee[0].key]&&l[ee[1].key]&&l[ee[2].key]&&l[ee[3].key])continue}let Y=U.wasRequested();for(let ee=V.overscaledZ-1;ee>=E;--ee){const le=V.scaledTo(ee);if(p[le.key]||(p[le.key]=!0,U=this.getTile(le),!U&&Y&&(U=this._addTile(le)),U&&(l[le.key]=le,Y=U.wasRequested(),U.hasData())))break}}return l}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const r in this._tiles){const l=[];let p,b=this._tiles[r].tileID;for(;b.overscaledZ>0;){if(b.key in this._loadedParentTiles){p=this._loadedParentTiles[b.key];break}l.push(b.key);const C=b.scaledTo(b.overscaledZ-1);if(p=this._getLoadedTile(C),p)break;b=C}for(const C of l)this._loadedParentTiles[C]=p}}_addTile(r){let l=this._tiles[r.key];if(l)return l.isExtraShadowCaster!==!0||this._shadowCasterTiles[r.key]||this._reloadTile(r.key,"reloading"),l;l=this._cache.getAndRemove(r),l&&(this._setTileReloadTimer(r.key,l),l.tileID=r,this._state.initializeTileState(l,this.map?this.map.painter:null),this._cacheTimers[r.key]&&(clearTimeout(this._cacheTimers[r.key]),delete this._cacheTimers[r.key],this._setTileReloadTimer(r.key,l)));const p=!!l;if(!p){const b=this.map?this.map.painter:null,C=this._source.tileSize*r.overscaleFactor();l=this._source.type==="raster-array"?new oo(r,C,this.transform.tileZoom,b,this._isRaster):new qo(r,C,this.transform.tileZoom,b,this._isRaster),this._loadTile(l,this._tileLoaded.bind(this,l,r.key,l.state))}return l?(l.uses++,this._tiles[r.key]=l,p||this._source.fire(new u.z("dataloading",{tile:l,coord:l.tileID,dataType:"source"})),l):null}_setTileReloadTimer(r,l){r in this._timers&&(clearTimeout(this._timers[r]),delete this._timers[r]);const p=l.getExpiryTimeout();p&&(this._timers[r]=setTimeout(()=>{this._reloadTile(r,"expired"),delete this._timers[r]},p))}_removeTile(r){const l=this._tiles[r];l&&(l.uses--,delete this._tiles[r],this._timers[r]&&(clearTimeout(this._timers[r]),delete this._timers[r]),l.uses>0||(l.hasData()&&l.state!=="reloading"||l.state==="empty"?this._cache.add(l.tileID,l,l.getExpiryTimeout()):(l.aborted=!0,this._abortTile(l),this._unloadTile(l))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const r in this._tiles)this._removeTile(+r);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id)}tilesIn(r,l,p){const b=[],C=this.transform;if(!C)return b;const E=C.projection.name==="globe",R=u.at(C.center.lng);for(const B in this._tiles){const V=this._tiles[B];if(p&&V.clearQueryDebugViz(),V.holdingForFade())continue;let U;if(E){const Y=V.tileID.canonical;if(Y.z===0){const ee=[Math.abs(u.aw(R,...Pr(Y,-1))-R),Math.abs(u.aw(R,...Pr(Y,1))-R)];U=[0,2*ee.indexOf(Math.min(...ee))-1]}else{const ee=[Math.abs(u.aw(R,...Pr(Y,-1))-R),Math.abs(u.aw(R,...Pr(Y,0))-R),Math.abs(u.aw(R,...Pr(Y,1))-R)];U=[ee.indexOf(Math.min(...ee))-1]}}else U=[0];for(const Y of U){const ee=r.containsTile(V,C,l,Y);ee&&b.push(ee)}}return b}getShadowCasterCoordinates(){return this._getRenderableCoordinates(!1,!0)}getVisibleCoordinates(r){return this._getRenderableCoordinates(r)}_getRenderableCoordinates(r,l){const p=this.getRenderableIds(r,l).map(C=>this._tiles[C].tileID),b=this.transform.projection.name==="globe";for(const C of p)C.projMatrix=this.transform.calculateProjMatrix(C.toUnwrapped()),C.expandedProjMatrix=b?this.transform.calculateProjMatrix(C.toUnwrapped(),!1,!0):C.projMatrix;return p}sortCoordinatesByDistance(r){const l=r.slice(),p=this.transform._camera.position,b=this.transform._camera.forward(),C={};for(const E of l){const R=1/(1<<E.canonical.z);C[E.key]=((E.canonical.x+.5)*R+E.wrap-p[0])*b[0]+((E.canonical.y+.5)*R-p[1])*b[1]-p[2]*b[2]}return l.sort((E,R)=>C[E.key]-C[R.key]),l}hasTransition(){if(this._source.hasTransition())return!0;if(ko(this._source.type))for(const r in this._tiles){const l=this._tiles[r];if(l.fadeEndTime!==void 0&&l.fadeEndTime>=u.q.now())return!0}return!1}setFeatureState(r,l,p){this._state.updateState(r=r||"_geojsonTileLayer",l,p)}removeFeatureState(r,l,p){this._state.removeFeatureState(r=r||"_geojsonTileLayer",l,p)}getFeatureState(r,l){return this._state.getState(r=r||"_geojsonTileLayer",l)}setDependencies(r,l,p){const b=this._tiles[r];b&&b.setDependencies(l,p)}reloadTilesForDependencies(r,l){for(const p in this._tiles)this._tiles[p].hasDependency(r,l)&&this._reloadTile(+p,"reloading");this._cache.filter(p=>!p.hasDependency(r,l))}_preloadTiles(r,l){if(!this._sourceLoaded){const B=()=>{this._sourceLoaded&&(this._source.off("data",B),this._preloadTiles(r,l))};return void this._source.on("data",B)}const p=new Map,b=Array.isArray(r)?r:[r],C=this.map.painter.terrain,E=this.usedForTerrain&&C?C.getScaledDemTileSize():this._source.tileSize;for(const B of b){const V=B.coveringTiles({tileSize:E,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain});for(const U of V)p.set(U.key,U);this.usedForTerrain&&B.updateElevation(!1)}const R=Array.from(p.values());u.bl(R,(B,V)=>{const U=new qo(B,this._source.tileSize*B.overscaleFactor(),this.transform.tileZoom,this.map.painter,this._isRaster);this._loadTile(U,Y=>{this._source.type==="raster-dem"&&U.dem&&this._backfillDEM(U),V(Y,U)})},l)}}function to(m,r){const l=Math.abs(2*m.wrap)-+(m.wrap<0),p=Math.abs(2*r.wrap)-+(r.wrap<0);return m.overscaledZ-r.overscaledZ||p-l||r.canonical.y-m.canonical.y||r.canonical.x-m.canonical.x}function ko(m){return m==="raster"||m==="image"||m==="video"||m==="custom"}function Pr(m,r){const l=1<<m.z;return[m.x/l+r,(m.x+1)/l+r]}so.maxOverzooming=10,so.maxUnderzooming=3;class Ho{constructor(r){this.style=r,this.layersGotHidden=!1,this.layers=[]}processLayersChanged(){this.layers=[];const r=!1,l=!1;for(const p in this.style._mergedLayers){const b=this.style._mergedLayers[p];if(b.type==="fill-extrusion")this.layers.push({layer:b,visible:r,visibilityChanged:l});else if(b.type==="model"){const C=this.style.getLayerSource(b);C&&C.type==="batched-model"&&this.layers.push({layer:b,visible:r,visibilityChanged:l})}}}onNewFrame(r){this.layersGotHidden=!1;for(const l of this.layers){const p=l.layer;let b=!1;p.type==="fill-extrusion"?b=!p.isHidden(r)&&p.paint.get("fill-extrusion-opacity")>0:p.type==="model"&&(b=!p.isHidden(r)&&p.paint.get("model-opacity").constantOr(1)>0),this.layersGotHidden=this.layersGotHidden||!b&&l.visible,l.visible=b}}updateZOffset(r,l){this.currentBuildingBuckets=[];for(const b of this.layers){const C=b.layer,E=this.style.getLayerSourceCache(C);let R=1;C.type==="fill-extrusion"&&(R=b.visible?C.paint.get("fill-extrusion-vertical-scale"):0);let B=E?E.getTile(l):null;if(!B&&E&&l.canonical.z>E.getSource().minzoom){let V=l.scaledTo(Math.min(E.getSource().maxzoom,l.overscaledZ-1));for(;V.overscaledZ>=E.getSource().minzoom&&(B=E.getTile(V),!B&&V.overscaledZ!==0);)V=V.scaledTo(V.overscaledZ-1)}this.currentBuildingBuckets.push({bucket:B?B.getBucket(C):null,tileID:B?B.tileID:l,verticalScale:R})}r.hasAnyZOffset=!1;let p=!1;for(let b=0;b<r.symbolInstances.length;b++){const C=r.symbolInstances.get(b),E=C.zOffset,R=this._getHeightAtTileOffset(l,C.tileAnchorX,C.tileAnchorY);C.zOffset=R!==Number.NEGATIVE_INFINITY?R:E,p||E===C.zOffset||(p=!0),r.hasAnyZOffset||C.zOffset===0||(r.hasAnyZOffset=!0)}p&&(r.zOffsetBuffersNeedUpload=!0,r.zOffsetSortDirty=!0)}_mapCoordToOverlappingTile(r,l,p,b){let C=l,E=p;if(r.canonical.z!==b.canonical.z){const R=b.canonical,B=1/(1<<r.canonical.z-R.z);C=(l+r.canonical.x*u.ag)*B-R.x*u.ag|0,E=(p+r.canonical.y*u.ag)*B-R.y*u.ag|0}return{tileX:C,tileY:E}}_getHeightAtTileOffset(r,l,p){let b,C;for(let E=0;E<this.layers.length;++E){if(this.layers[E].layer.type!=="fill-extrusion")continue;const{bucket:R,tileID:B,verticalScale:V}=this.currentBuildingBuckets[E];if(!R)continue;const{tileX:U,tileY:Y}=this._mapCoordToOverlappingTile(r,l,p,B),ee=R.getHeightAtTileCoord(U,Y);ee&&ee.height!==void 0&&(ee.hidden?b=ee.height:C=Math.max(ee.height*V,C||0))}if(C!==void 0)return C;for(let E=0;E<this.layers.length;++E){const R=this.layers[E];if(R.layer.type!=="model"||!R.visible)continue;const{bucket:B,tileID:V}=this.currentBuildingBuckets[E];if(!B)continue;const{tileX:U,tileY:Y}=this._mapCoordToOverlappingTile(r,l,p,V),ee=B.getHeightAtTileCoord(U,Y);if(ee&&!ee.hidden)return ee.height===void 0&&b!==void 0?Math.min(ee.maxHeight,b)*ee.verticalScale:ee.height?ee.height*ee.verticalScale:Number.NEGATIVE_INFINITY}return this.layersGotHidden?0:Number.NEGATIVE_INFINITY}}function ha(m,r){const l={};for(const p in m)p!=="ref"&&(l[p]=m[p]);return u.bm.forEach(p=>{p in r&&(l[p]=r[p])}),l}function za(m){m=m.slice();const r=Object.create(null);for(let l=0;l<m.length;l++)r[m[l].id]=m[l];for(let l=0;l<m.length;l++)"ref"in m[l]&&(m[l]=ha(m[l],r[m[l].ref]));return m}const Vi={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setSlot:"setSlot",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setSnow:"setSnow",setRain:"setRain",setCamera:"setCamera",setLights:"setLights",setProjection:"setProjection",addImport:"addImport",removeImport:"removeImport",updateImport:"updateImport"};function ma(m,r,l){l.push({command:Vi.addSource,args:[m,r[m]]})}function qa(m,r,l){r.push({command:Vi.removeSource,args:[m]}),l[m]=!0}function Jr(m,r,l,p){qa(m,l,p),ma(m,r,l)}function vo(m,r,l){let p;for(p in m[l])if(m[l].hasOwnProperty(p)&&p!=="data"&&!u.bn(m[l][p],r[l][p]))return!1;for(p in r[l])if(r[l].hasOwnProperty(p)&&p!=="data"&&!u.bn(m[l][p],r[l][p]))return!1;return!0}function Ao(m,r,l,p,b,C){let E;for(E in r=r||{},m=m||{})m.hasOwnProperty(E)&&(u.bn(m[E],r[E])||l.push({command:C,args:[p,E,r[E],b]}));for(E in r)r.hasOwnProperty(E)&&!m.hasOwnProperty(E)&&(u.bn(m[E],r[E])||l.push({command:C,args:[p,E,r[E],b]}))}function Yo(m){return m.id}function co(m,r){return m[r.id]=r,m}class Ai{constructor(r,l){this.reset(r,l)}reset(r,l){this.points=r||[],this._distances=[0];for(let p=1;p<this.points.length;p++)this._distances[p]=this._distances[p-1]+this.points[p].dist(this.points[p-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(l||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(r){if(this.points.length===1)return this.points[0];r=u.aw(r,0,1);let l=1,p=this._distances[l];const b=r*this.paddedLength+this.padding;for(;p<b&&l<this._distances.length;)p=this._distances[++l];const C=l-1,E=this._distances[C],R=p-E,B=R>0?(b-E)/R:0;return this.points[C].mult(1-B).add(this.points[l].mult(B))}}class ga{constructor(r,l,p){const b=this.boxCells=[],C=this.circleCells=[];this.xCellCount=Math.ceil(r/p),this.yCellCount=Math.ceil(l/p);for(let E=0;E<this.xCellCount*this.yCellCount;E++)b.push([]),C.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=r,this.height=l,this.xScale=this.xCellCount/r,this.yScale=this.yCellCount/l,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(r,l,p,b,C){this._forEachCell(l,p,b,C,this._insertBoxCell,this.boxUid++),this.boxKeys.push(r),this.bboxes.push(l),this.bboxes.push(p),this.bboxes.push(b),this.bboxes.push(C)}insertCircle(r,l,p,b){this._forEachCell(l-b,p-b,l+b,p+b,this._insertCircleCell,this.circleUid++),this.circleKeys.push(r),this.circles.push(l),this.circles.push(p),this.circles.push(b)}_insertBoxCell(r,l,p,b,C,E){this.boxCells[C].push(E)}_insertCircleCell(r,l,p,b,C,E){this.circleCells[C].push(E)}_query(r,l,p,b,C,E){if(p<0||r>this.width||b<0||l>this.height)return!C&&[];const R=[];if(r<=0&&l<=0&&this.width<=p&&this.height<=b){if(C)return!0;for(let B=0;B<this.boxKeys.length;B++)R.push({key:this.boxKeys[B],x1:this.bboxes[4*B],y1:this.bboxes[4*B+1],x2:this.bboxes[4*B+2],y2:this.bboxes[4*B+3]});for(let B=0;B<this.circleKeys.length;B++){const V=this.circles[3*B],U=this.circles[3*B+1],Y=this.circles[3*B+2];R.push({key:this.circleKeys[B],x1:V-Y,y1:U-Y,x2:V+Y,y2:U+Y})}return E?R.filter(E):R}return this._forEachCell(r,l,p,b,this._queryCell,R,{hitTest:C,seenUids:{box:{},circle:{}}},E),C?R.length>0:R}_queryCircle(r,l,p,b,C){const E=r-p,R=r+p,B=l-p,V=l+p;if(R<0||E>this.width||V<0||B>this.height)return!b&&[];const U=[];return this._forEachCell(E,B,R,V,this._queryCellCircle,U,{hitTest:b,circle:{x:r,y:l,radius:p},seenUids:{box:{},circle:{}}},C),b?U.length>0:U}query(r,l,p,b,C){return this._query(r,l,p,b,!1,C)}hitTest(r,l,p,b,C){return this._query(r,l,p,b,!0,C)}hitTestCircle(r,l,p,b){return this._queryCircle(r,l,p,!0,b)}_queryCell(r,l,p,b,C,E,R,B){const V=R.seenUids,U=this.boxCells[C];if(U!==null){const ee=this.bboxes;for(const le of U)if(!V.box[le]){V.box[le]=!0;const Ee=4*le;if(r<=ee[Ee+2]&&l<=ee[Ee+3]&&p>=ee[Ee+0]&&b>=ee[Ee+1]&&(!B||B(this.boxKeys[le]))){if(R.hitTest)return E.push(!0),!0;E.push({key:this.boxKeys[le],x1:ee[Ee],y1:ee[Ee+1],x2:ee[Ee+2],y2:ee[Ee+3]})}}}const Y=this.circleCells[C];if(Y!==null){const ee=this.circles;for(const le of Y)if(!V.circle[le]){V.circle[le]=!0;const Ee=3*le;if(this._circleAndRectCollide(ee[Ee],ee[Ee+1],ee[Ee+2],r,l,p,b)&&(!B||B(this.circleKeys[le]))){if(R.hitTest)return E.push(!0),!0;{const xe=ee[Ee],Oe=ee[Ee+1],Me=ee[Ee+2];E.push({key:this.circleKeys[le],x1:xe-Me,y1:Oe-Me,x2:xe+Me,y2:Oe+Me})}}}}}_queryCellCircle(r,l,p,b,C,E,R,B){const V=R.circle,U=R.seenUids,Y=this.boxCells[C];if(Y!==null){const le=this.bboxes;for(const Ee of Y)if(!U.box[Ee]){U.box[Ee]=!0;const xe=4*Ee;if(this._circleAndRectCollide(V.x,V.y,V.radius,le[xe+0],le[xe+1],le[xe+2],le[xe+3])&&(!B||B(this.boxKeys[Ee])))return E.push(!0),!0}}const ee=this.circleCells[C];if(ee!==null){const le=this.circles;for(const Ee of ee)if(!U.circle[Ee]){U.circle[Ee]=!0;const xe=3*Ee;if(this._circlesCollide(le[xe],le[xe+1],le[xe+2],V.x,V.y,V.radius)&&(!B||B(this.circleKeys[Ee])))return E.push(!0),!0}}}_forEachCell(r,l,p,b,C,E,R,B){const V=this._convertToXCellCoord(r),U=this._convertToYCellCoord(l),Y=this._convertToXCellCoord(p),ee=this._convertToYCellCoord(b);for(let le=V;le<=Y;le++)for(let Ee=U;Ee<=ee;Ee++)if(C.call(this,r,l,p,b,this.xCellCount*Ee+le,E,R,B))return}_convertToXCellCoord(r){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(r*this.xScale)))}_convertToYCellCoord(r){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(r*this.yScale)))}_circlesCollide(r,l,p,b,C,E){const R=b-r,B=C-l,V=p+E;return V*V>R*R+B*B}_circleAndRectCollide(r,l,p,b,C,E,R){const B=(E-b)/2,V=Math.abs(r-(b+B));if(V>B+p)return!1;const U=(R-C)/2,Y=Math.abs(l-(C+U));if(Y>U+p)return!1;if(V<=B||Y<=U)return!0;const ee=V-B,le=Y-U;return ee*ee+le*le<=p*p}}const jo={unknown:0,flipRequired:1,flipNotRequired:2},en=Math.tan(85*Math.PI/180);function Ve(m,r,l,p,b,C,E){const R=u.ab.mat4.create();if(l)if(C.name==="globe"){const B=u.bo(b,r);u.ab.mat4.multiply(R,R,B)}else{const B=u.ab.mat2.invert([],E);R[0]=B[0],R[1]=B[1],R[4]=B[2],R[5]=B[3],p||u.ab.mat4.rotateZ(R,R,b.angle)}else u.ab.mat4.multiply(R,b.labelPlaneMatrix,m);return R}function be(m,r,l,p,b,C,E){const R=Ve(m,r,l,p,b,C,E);return C.name==="globe"&&l||(R[2]=R[6]=R[10]=R[14]=0),R}function Ze(m,r,l,p,b,C,E){if(l){if(C.name==="globe"){const R=Ve(m,r,l,p,b,C,E);return u.ab.mat4.invert(R,R),u.ab.mat4.multiply(R,m,R),R}{const R=u.ab.mat4.clone(m),B=u.ab.mat4.identity([]);return B[0]=E[0],B[1]=E[1],B[4]=E[2],B[5]=E[3],u.ab.mat4.multiply(R,R,B),p||u.ab.mat4.rotateZ(R,R,-b.angle),R}}return b.glCoordMatrix}function De(m,r,l,p){const b=[m,r,l,1];l?u.ab.vec4.transformMat4(b,b,p):wi(b,b,p);const C=b[3];return b[0]/=C,b[1]/=C,b[2]/=C,b}function $t(m,r){return Math.min(.5+m/r*.5,1.5)}function tn(m,r){const l=m[0]/m[3],p=m[1]/m[3];return l>=-r[0]&&l<=r[0]&&p>=-r[1]&&p<=r[1]}function Wn(m,r,l,p,b,C,E,R,B,V){const U=l.transform,Y=p?m.textSizeData:m.iconSizeData,ee=u.bp(Y,l.transform.zoom),le=U.projection.name==="globe",Ee=[256/l.width*2+1,256/l.height*2+1],xe=p?m.text.dynamicLayoutVertexArray:m.icon.dynamicLayoutVertexArray;xe.clear();let Oe=null;le&&(Oe=p?m.text.globeExtVertexArray:m.icon.globeExtVertexArray);const Me=m.lineVertexArray,qe=p?m.text.placedSymbolArray:m.icon.placedSymbolArray,yt=l.transform.width/l.transform.height;let gt,Nt=!1;for(let Mt=0;Mt<qe.length;Mt++){const Dt=qe.get(Mt),{numGlyphs:It,writingMode:zt}=Dt;if(zt!==u.bq.vertical||Nt||gt===u.bq.horizontal||(Nt=!0),gt=zt,(Dt.hidden||zt===u.bq.vertical)&&!Nt){pi(It,xe);continue}Nt=!1;const fn=new u.P(Dt.tileAnchorX,Dt.tileAnchorY);let{x:nr,y:Hn,z:Er}=U.projection.projectTilePoint(fn.x,fn.y,V.canonical);if(B){const[Or,ci,vi]=B(fn);nr+=Or,Hn+=ci,Er+=vi}const mr=[nr,Hn,Er,1];if(u.ab.vec4.transformMat4(mr,mr,r),!tn(mr,Ee)){pi(It,xe);continue}const Dn=mr[3],or=$t(l.transform.getCameraToCenterDistance(U.projection),Dn),Gr=u.br(Y,ee,Dt),On=E?Gr/or:Gr*or,Rr=De(nr,Hn,Er,b);if(Rr[3]<=0){pi(It,xe);continue}let Qn={};const xi=E?null:B,Br=rr(Dt,On,!1,R,r,b,C,m.glyphOffsetArray,Me,xe,Oe,Rr,fn,Qn,yt,xi,U.projection,V,E);Nt=Br.useVertical,xi&&Br.needsFlipping&&(Qn={}),(Br.notEnoughRoom||Nt||Br.needsFlipping&&rr(Dt,On,!0,R,r,b,C,m.glyphOffsetArray,Me,xe,Oe,Rr,fn,Qn,yt,xi,U.projection,V,E).notEnoughRoom)&&pi(It,xe)}p?(m.text.dynamicLayoutVertexBuffer.updateData(xe),Oe&&m.text.globeExtVertexBuffer&&m.text.globeExtVertexBuffer.updateData(Oe)):(m.icon.dynamicLayoutVertexBuffer.updateData(xe),Oe&&m.icon.globeExtVertexBuffer&&m.icon.globeExtVertexBuffer.updateData(Oe))}function pr(m,r,l,p,b,C,E,R,B,V,U,Y,ee,le,Ee,xe){const{lineStartIndex:Oe,glyphStartIndex:Me,segment:qe}=R,yt=Me+R.numGlyphs,gt=Oe+R.lineLength,Nt=r.getoffsetX(Me),Mt=r.getoffsetX(yt-1),Dt=Ci(m*Nt,l,p,b,C,E,qe,Oe,gt,B,V,U,Y,ee,!0,le,Ee,xe);if(!Dt)return null;const It=Ci(m*Mt,l,p,b,C,E,qe,Oe,gt,B,V,U,Y,ee,!0,le,Ee,xe);return It?{first:Dt,last:It}:null}function ir(m,r,l,p){return m===u.bq.horizontal&&Math.abs(p)>Math.abs(l)?{useVertical:!0}:m===u.bq.vertical?p>0?{needsFlipping:!0}:null:r!==jo.unknown&&function(b,C){return b===0||Math.abs(C/b)>en}(l,p)?r===jo.flipRequired?{needsFlipping:!0}:null:l<0?{needsFlipping:!0}:null}function rr(m,r,l,p,b,C,E,R,B,V,U,Y,ee,le,Ee,xe,Oe,Me,qe){const yt=r/24,gt=m.lineOffsetX*yt,Nt=m.lineOffsetY*yt,{lineStartIndex:Mt,glyphStartIndex:Dt,numGlyphs:It,segment:zt,writingMode:fn,flipState:nr}=m,Hn=Mt+m.lineLength,Er=mr=>{if(U){const[On,Rr,Qn]=mr.up,xi=V.length;u.bs(U,xi+0,On,Rr,Qn),u.bs(U,xi+1,On,Rr,Qn),u.bs(U,xi+2,On,Rr,Qn),u.bs(U,xi+3,On,Rr,Qn)}const[Dn,or,Gr]=mr.point;u.bt(V,Dn,or,Gr,mr.angle)};if(It>1){const mr=pr(yt,R,gt,Nt,l,Y,ee,m,B,C,le,xe,!1,Oe,Me,qe);if(!mr)return{notEnoughRoom:!0};if(p&&!l){let[Dn,or,Gr]=mr.first.point,[On,Rr,Qn]=mr.last.point;[Dn,or]=De(Dn,or,Gr,E),[On,Rr]=De(On,Rr,Qn,E);const xi=ir(fn,nr,(On-Dn)*Ee,Rr-or);if(m.flipState=xi&&xi.needsFlipping?jo.flipRequired:jo.flipNotRequired,xi)return xi}Er(mr.first);for(let Dn=Dt+1;Dn<Dt+It-1;Dn++){const or=Ci(yt*R.getoffsetX(Dn),gt,Nt,l,Y,ee,zt,Mt,Hn,B,C,le,xe,!1,!1,Oe,Me,qe);if(!or)return V.length-=4*(Dn-Dt),{notEnoughRoom:!0};Er(or)}Er(mr.last)}else{if(p&&!l){const Dn=De(ee.x,ee.y,0,b),or=Mt+zt+1,Gr=new u.P(B.getx(or),B.gety(or)),On=De(Gr.x,Gr.y,0,b),Rr=On[3]>0?On:Si(ee,Gr,Dn,1,b,void 0,Oe,Me.canonical),Qn=ir(fn,nr,(Rr[0]-Dn[0])*Ee,Rr[1]-Dn[1]);if(m.flipState=Qn&&Qn.needsFlipping?jo.flipRequired:jo.flipNotRequired,Qn)return Qn}const mr=Ci(yt*R.getoffsetX(Dt),gt,Nt,l,Y,ee,zt,Mt,Hn,B,C,le,xe,!1,!1,Oe,Me,qe);if(!mr)return{notEnoughRoom:!0};Er(mr)}return{}}function Vr(m,r,l,p,b){const{x:C,y:E,z:R}=p.projectTilePoint(m.x,m.y,r);if(!b)return De(C,E,R,l);const[B,V,U]=b(m);return De(C+B,E+V,R+U,l)}function Si(m,r,l,p,b,C,E,R){const B=Vr(m.sub(r)._unit()._add(m),R,b,E,C);return u.ab.vec3.sub(B,l,B),u.ab.vec3.normalize(B,B),u.ab.vec3.scaleAndAdd(B,l,B,p)}function Ci(m,r,l,p,b,C,E,R,B,V,U,Y,ee,le,Ee,xe,Oe,Me){const qe=p?m-r:m+r;let yt=qe>0?1:-1,gt=0;p&&(yt*=-1,gt=Math.PI),yt<0&&(gt+=Math.PI);let Nt=R+E+(yt>0?0:1)|0,Mt=b,Dt=b,It=0,zt=0;const fn=Math.abs(qe),nr=[],Hn=[];let Er=C,mr=Er;const Dn=()=>Si(mr,Er,Dt,fn-It+1,U,ee,xe,Oe.canonical);for(;It+zt<=fn;){if(Nt+=yt,Nt<R||Nt>=B)return null;if(Dt=Mt,mr=Er,nr.push(Dt),le&&Hn.push(mr),Er=new u.P(V.getx(Nt),V.gety(Nt)),Mt=Y[Nt],!Mt){const ci=Vr(Er,Oe.canonical,U,xe,ee);Mt=ci[3]>0?Y[Nt]=ci:Dn()}It+=zt,zt=u.ab.vec3.distance(Dt,Mt)}Ee&&ee&&(Y[Nt]&&(Mt=Dn(),zt=u.ab.vec3.distance(Dt,Mt)),Y[Nt]=Mt);const or=(fn-It)/zt,Gr=Er.sub(mr)._mult(or)._add(mr),On=u.ab.vec3.sub([],Mt,Dt),Rr=u.ab.vec3.scaleAndAdd([],Dt,On,or);let Qn=[0,0,1],xi=On[0],Br=On[1];if(Me&&(Qn=xe.upVector(Oe.canonical,Gr.x,Gr.y),Qn[0]!==0||Qn[1]!==0||Qn[2]!==1)){const ci=[Qn[2],0,-Qn[0]],vi=u.ab.vec3.cross([],Qn,ci);u.ab.vec3.normalize(ci,ci),u.ab.vec3.normalize(vi,vi),xi=u.ab.vec3.dot(On,ci),Br=u.ab.vec3.dot(On,vi)}if(l){const ci=u.ab.vec3.cross([],Qn,On);u.ab.vec3.normalize(ci,ci),u.ab.vec3.scaleAndAdd(Rr,Rr,ci,l*yt)}const Or=gt+Math.atan2(Br,xi);return nr.push(Rr),le&&Hn.push(Gr),{point:Rr,angle:Or,path:nr,tilePath:Hn,up:Qn}}function pi(m,r){const l=r.length,p=l+4*m;r.resize(p),r.float32.fill(-1/0,4*l,4*p)}function wi(m,r,l){const p=r[0],b=r[1];return m[0]=l[0]*p+l[4]*b+l[12],m[1]=l[1]*p+l[5]*b+l[13],m[3]=l[3]*p+l[7]*b+l[15],m}const ti=100;class Ri{constructor(r,l,p=new ga(r.width+200,r.height+200,25),b=new ga(r.width+200,r.height+200,25)){this.transform=r,this.grid=p,this.ignoredGrid=b,this.pitchfactor=Math.cos(r._pitch)*r.cameraToCenterDistance,this.screenRightBoundary=r.width+ti,this.screenBottomBoundary=r.height+ti,this.gridRightBoundary=r.width+200,this.gridBottomBoundary=r.height+200,this.fogState=l}placeCollisionBox(r,l,p,b,C,E,R,B){let V=p.projectedAnchorX,U=p.projectedAnchorY,Y=p.projectedAnchorZ;const ee=p.elevation,le=p.tileID,Ee=r.getProjection();if(ee&&le){const[Mt,Dt,It]=Ee.upVector(le.canonical,p.tileAnchorX,p.tileAnchorY),zt=Ee.upVectorScale(le.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;V+=Mt*ee*zt,U+=Dt*ee*zt,Y+=It*ee*zt}const xe=this.projectAndGetPerspectiveRatio(R,V,U,Y,p.tileID,Ee.name==="globe"||!!ee||this.transform.pitch>0,Ee),Oe=E*xe.perspectiveRatio,Me=(p.x1*l+b.x-p.padding)*Oe+xe.point.x,qe=(p.y1*l+b.y-p.padding)*Oe+xe.point.y,yt=(p.x2*l+b.x+p.padding)*Oe+xe.point.x,gt=(p.y2*l+b.y+p.padding)*Oe+xe.point.y,Nt=xe.perspectiveRatio<=.55||xe.occluded;return!this.isInsideGrid(Me,qe,yt,gt)||!C&&this.grid.hitTest(Me,qe,yt,gt,B)||Nt?{box:[],offscreen:!1,occluded:xe.occluded}:{box:[Me,qe,yt,gt],offscreen:this.isOffscreen(Me,qe,yt,gt),occluded:!1}}placeCollisionCircles(r,l,p,b,C,E,R,B,V,U,Y,ee,le,Ee,xe){const Oe=[],Me=this.transform.elevation,qe=r.getProjection(),yt=Me?Me.getAtTileOffsetFunc(xe,this.transform.center.lat,this.transform.worldSize,qe):null,gt=new u.P(p.tileAnchorX,p.tileAnchorY);let{x:Nt,y:Mt,z:Dt}=qe.projectTilePoint(gt.x,gt.y,xe.canonical);if(yt){const[Gr,On,Rr]=yt(gt);Nt+=Gr,Mt+=On,Dt+=Rr}const It=qe.name==="globe",zt=this.projectAndGetPerspectiveRatio(R,Nt,Mt,Dt,xe,It||!!Me||this.transform.pitch>0,qe),{perspectiveRatio:fn}=zt,nr=(Y?E/fn:E*fn)/u.bw,Hn=De(Nt,Mt,Dt,B),Er=zt.signedDistanceFromCamera>0?pr(nr,C,p.lineOffsetX*nr,p.lineOffsetY*nr,!1,Hn,gt,p,b,B,{},Me&&!Y?yt:null,Y&&!!Me,qe,xe,Y):null;let mr=!1,Dn=!1,or=!0;if(Er&&!zt.occluded){const Gr=.5*le*fn+Ee,On=new u.P(-100,-100),Rr=new u.P(this.screenRightBoundary,this.screenBottomBoundary),Qn=new Ai,{first:xi,last:Br}=Er,Or=xi.path.length;let ci=[];for(let Yi=Or-1;Yi>=1;Yi--)ci.push(xi.path[Yi]);for(let Yi=1;Yi<Br.path.length;Yi++)ci.push(Br.path[Yi]);const vi=2.5*Gr;V&&(ci=ci.map(([Yi,ra,Bo],No)=>(yt&&!It&&(Bo=yt(No<Or-1?xi.tilePath[Or-1-No]:Br.tilePath[No-Or+2])[2]),De(Yi,ra,Bo,V))),ci.some(Yi=>Yi[3]<=0)&&(ci=[]));let Gi=[];if(ci.length>0){let Yi=1/0,ra=-1/0,Bo=1/0,No=-1/0;for(const va of ci)Yi=Math.min(Yi,va[0]),Bo=Math.min(Bo,va[1]),ra=Math.max(ra,va[0]),No=Math.max(No,va[1]);ra>=On.x&&Yi<=Rr.x&&No>=On.y&&Bo<=Rr.y&&(Gi=[ci.map(va=>new u.P(va[0],va[1]))],(Yi<On.x||ra>Rr.x||Bo<On.y||No>Rr.y)&&(Gi=u.bu(Gi,On.x,On.y,Rr.x,Rr.y)))}for(const Yi of Gi){Qn.reset(Yi,.25*Gr);let ra=0;ra=Qn.length<=.5*Gr?1:Math.ceil(Qn.paddedLength/vi)+1;for(let Bo=0;Bo<ra;Bo++){const No=Bo/Math.max(ra-1,1),va=Qn.lerp(No),os=va.x+ti,Es=va.y+ti;Oe.push(os,Es,Gr,0);const tl=os-Gr,js=Es-Gr,ba=os+Gr,ms=Es+Gr;if(or=or&&this.isOffscreen(tl,js,ba,ms),Dn=Dn||this.isInsideGrid(tl,js,ba,ms),!l&&this.grid.hitTestCircle(os,Es,Gr,ee)&&(mr=!0,!U))return{circles:[],offscreen:!1,collisionDetected:mr,occluded:!1}}}}return{circles:!U&&mr||!Dn?[]:Oe,offscreen:or,collisionDetected:mr,occluded:zt.occluded}}queryRenderedSymbols(r){if(r.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const l=[];let p=1/0,b=1/0,C=-1/0,E=-1/0;for(const U of r){const Y=new u.P(U.x+ti,U.y+ti);p=Math.min(p,Y.x),b=Math.min(b,Y.y),C=Math.max(C,Y.x),E=Math.max(E,Y.y),l.push(Y)}const R=this.grid.query(p,b,C,E).concat(this.ignoredGrid.query(p,b,C,E)),B={},V={};for(const U of R){const Y=U.key;if(B[Y.bucketInstanceId]===void 0&&(B[Y.bucketInstanceId]={}),B[Y.bucketInstanceId][Y.featureIndex])continue;const ee=[new u.P(U.x1,U.y1),new u.P(U.x2,U.y1),new u.P(U.x2,U.y2),new u.P(U.x1,U.y2)];u.bv(l,ee)&&(B[Y.bucketInstanceId][Y.featureIndex]=!0,V[Y.bucketInstanceId]===void 0&&(V[Y.bucketInstanceId]=[]),V[Y.bucketInstanceId].push(Y.featureIndex))}return V}insertCollisionBox(r,l,p,b,C){(l?this.ignoredGrid:this.grid).insert({bucketInstanceId:p,featureIndex:b,collisionGroupID:C},r[0],r[1],r[2],r[3])}insertCollisionCircles(r,l,p,b,C){const E=l?this.ignoredGrid:this.grid,R={bucketInstanceId:p,featureIndex:b,collisionGroupID:C};for(let B=0;B<r.length;B+=4)E.insertCircle(R,r[B],r[B+1],r[B+2])}projectAndGetPerspectiveRatio(r,l,p,b,C,E,R){const B=[l,p,b,1];let V=!1;b||this.transform.pitch>0?(u.ab.vec4.transformMat4(B,B,r),this.fogState&&C&&R.name!=="globe"&&(V=function(ee,le,Ee,xe,Oe,Me){const qe=Me.calculateFogTileMatrix(Oe),yt=[le,Ee,xe];return u.ab.vec3.transformMat4(yt,yt,qe),dt(ee,u.ab.vec3.length(yt),Me.pitch,Me._fov)}(this.fogState,l,p,b,C.toUnwrapped(),this.transform)>.9)):wi(B,B,r);const U=B[3];return{point:new u.P((B[0]/U+1)/2*this.transform.width+ti,(-B[1]/U+1)/2*this.transform.height+ti),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(R)/U*.5,1.5),signedDistanceFromCamera:U,occluded:E&&B[2]>U||V}}isOffscreen(r,l,p,b){return p<ti||r>=this.screenRightBoundary||b<ti||l>this.screenBottomBoundary}isInsideGrid(r,l,p,b){return p>=0&&r<this.gridRightBoundary&&b>=0&&l<this.gridBottomBoundary}getViewportMatrix(){const r=u.ab.mat4.identity([]);return u.ab.mat4.translate(r,r,[-100,-100,0]),r}}function $i(m,r,l){const p=r.createTileMatrix(m,m.worldSize,l.toUnwrapped());return u.ab.mat4.multiply(new Float32Array(16),m.projMatrix,p)}function yo(m,r,l){if(r.projection.name===l.projection.name)return m.projMatrix;const p=l.clone();return p.setProjection(r.projection),$i(p,r.getProjection(),m)}function Qo(m,r,l){return r.name===l.projection.name?m.projMatrix:$i(l,r,m)}class aa{constructor(r,l,p,b){this.opacity=r?Math.max(0,Math.min(1,r.opacity+(r.placed?l:-l))):b&&p?1:0,this.placed=p}isHidden(){return this.opacity===0&&!this.placed}}class Ea{constructor(r,l,p,b,C,E=!1){this.text=new aa(r?r.text:null,l,p,C),this.icon=new aa(r?r.icon:null,l,b,C),this.clipped=E}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Ma{constructor(r,l,p,b=!1){this.text=r,this.icon=l,this.skipFade=p,this.clipped=b}}class wa{constructor(){this.invProjMatrix=u.ab.mat4.create(),this.viewportMatrix=u.ab.mat4.create(),this.circles=[]}}class Ca{constructor(r,l,p,b,C){this.bucketInstanceId=r,this.featureIndex=l,this.sourceLayerIndex=p,this.bucketIndex=b,this.tileID=C}}class Za{constructor(r){this.crossSourceCollisions=r,this.maxGroupID=0,this.collisionGroups={}}get(r){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[r]){const l=++this.maxGroupID;this.collisionGroups[r]={ID:l,predicate:p=>p.collisionGroupID===l}}return this.collisionGroups[r]}}function ca(m,r,l,p,b){const{horizontalAlign:C,verticalAlign:E}=u.bD(m),R=-(C-.5)*r,B=-(E-.5)*l,V=u.bC(m,p);return new u.P(R+V[0]*b,B+V[1]*b)}function cs(m,r,l,p,b){const C=new u.P(m,r);return l&&C._rotate(p?b:-b),C}class Va{constructor(r,l,p,b,C,E){this.transform=r.clone(),this.projection=r.projection.name,this.collisionIndex=new Ri(this.transform,C),this.buildingIndex=E,this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=l,this.retainedQueryData={},this.collisionGroups=new Za(p),this.collisionCircleArrays={},this.prevPlacement=b,b&&(b.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(r,l,p,b,C=1){const E=p.getBucket(l),R=p.latestFeatureIndex;if(!E||!R||l.fqid!==E.layerIds[0])return;const B=E.layers[0].layout,V=E.layers[0].paint,U=p.collisionBoxArray,Y=Math.pow(2,this.transform.zoom-p.tileID.overscaledZ),ee=p.tileSize/u.ag,le=p.tileID.toUnwrapped();this.transform.setProjection(E.projection);const Ee=(xe=p.tileID,Oe=E.getProjection(),Me=this.transform,Oe.name===this.projection?Me.calculateProjMatrix(xe.toUnwrapped()):$i(Me,Oe,xe));var xe,Oe,Me;const qe=B.get("text-pitch-alignment")==="map",yt=B.get("text-rotation-alignment")==="map";l.compileFilter(l.options);const gt=l.dynamicFilter(),Nt=l.dynamicFilterNeedsFeature(),Mt=this.transform.calculatePixelsToTileUnitsMatrix(p),Dt=be(Ee,p.tileID.canonical,qe,yt,this.transform,E.getProjection(),Mt);let It=null;if(qe){const Gr=Ze(Ee,p.tileID.canonical,qe,yt,this.transform,E.getProjection(),Mt);It=u.ab.mat4.multiply([],this.transform.labelPlaneMatrix,Gr)}let zt=null;gt&&p.latestFeatureIndex&&(zt={unwrappedTileID:le,dynamicFilter:gt,dynamicFilterNeedsFeature:Nt}),this.retainedQueryData[E.bucketInstanceId]=new Ca(E.bucketInstanceId,R,E.sourceLayerIndex,E.index,p.tileID);const[fn,nr]=E.layers[0].layout.get("text-size-scale-range"),Hn=u.aw(C,fn,nr),[Er,mr]=B.get("icon-size-scale-range"),Dn=u.aw(C,Er,mr),or={bucket:E,layout:B,paint:V,posMatrix:Ee,textLabelPlaneMatrix:Dt,labelToScreenMatrix:It,clippingData:zt,scale:Y,textPixelRatio:ee,holdingForFade:p.holdingForFade(),collisionBoxArray:U,partiallyEvaluatedTextSize:u.bp(E.textSizeData,this.transform.zoom,Hn),partiallyEvaluatedIconSize:u.bp(E.iconSizeData,this.transform.zoom,Dn),collisionGroup:this.collisionGroups.get(E.sourceID),latestFeatureIndex:p.latestFeatureIndex};if(b)for(const Gr of E.sortKeyRanges){const{sortKey:On,symbolInstanceStart:Rr,symbolInstanceEnd:Qn}=Gr;r.push({sortKey:On,symbolInstanceStart:Rr,symbolInstanceEnd:Qn,parameters:or})}else r.push({symbolInstanceStart:0,symbolInstanceEnd:E.symbolInstances.length,parameters:or})}attemptAnchorPlacement(r,l,p,b,C,E,R,B,V,U,Y,ee,le,Ee,xe,Oe,Me,qe){const{textOffset0:yt,textOffset1:gt,crossTileID:Nt}=ee,Mt=[yt,gt],Dt=ca(r,p,b,Mt,C),It=this.collisionIndex.placeCollisionBox(Ee,C,l,cs(Dt.x,Dt.y,E,R,this.transform.angle),Y,B,V,U.predicate);if(Oe){const zt=Ee.getSymbolInstanceIconSize(qe,this.transform.zoom,ee.placedIconSymbolIndex);if(this.collisionIndex.placeCollisionBox(Ee,zt,Oe,cs(Dt.x,Dt.y,E,R,this.transform.angle),Y,B,V,U.predicate).box.length===0)return}if(It.box.length>0){let zt;return this.prevPlacement&&this.prevPlacement.variableOffsets[Nt]&&this.prevPlacement.placements[Nt]&&this.prevPlacement.placements[Nt].text&&(zt=this.prevPlacement.variableOffsets[Nt].anchor),this.variableOffsets[Nt]={textOffset:Mt,width:p,height:b,anchor:r,textScale:C,prevAnchor:zt},this.markUsedJustification(Ee,r,ee,xe),Ee.allowVerticalPlacement&&(this.markUsedOrientation(Ee,xe,ee),this.placedOrientations[Nt]=xe),{shift:Dt,placedGlyphBoxes:It}}}placeLayerBucketPart(r,l,p,b,C=1){const{bucket:E,layout:R,paint:B,posMatrix:V,textLabelPlaneMatrix:U,labelToScreenMatrix:Y,clippingData:ee,textPixelRatio:le,holdingForFade:Ee,collisionBoxArray:xe,partiallyEvaluatedTextSize:Oe,partiallyEvaluatedIconSize:Me,collisionGroup:qe,latestFeatureIndex:yt}=r.parameters,gt=R.get("text-optional"),Nt=R.get("icon-optional"),Mt=R.get("text-allow-overlap"),Dt=R.get("icon-allow-overlap"),It=R.get("text-rotation-alignment")==="map",zt=R.get("text-pitch-alignment")==="map",fn=R.get("symbol-z-elevate"),nr=B.get("symbol-z-offset"),Hn=R.get("symbol-elevation-reference")==="sea",[Er,mr]=R.get("text-size-scale-range"),[Dn,or]=R.get("icon-size-scale-range"),Gr=u.aw(C,Er,mr),On=u.aw(C,Dn,or);this.transform.setProjection(E.projection);let Rr=Mt&&(Dt||!E.hasIconData()||Nt),Qn=Dt&&(Mt||!E.hasTextData()||gt);const xi=!nr.isConstant();!E.collisionArrays&&xe&&E.deserializeCollisionBoxes(xe),p&&b&&E.updateCollisionDebugBuffers(this.transform.zoom,xe,Gr,On);const Br=(Or,ci,vi)=>{const{crossTileID:Gi,numVerticalGlyphVertices:Yi}=Or;let ra=null;if(ee&&ee.dynamicFilterNeedsFeature||xi){const zs=this.retainedQueryData[E.bucketInstanceId];ra=yt.loadFeature({featureIndex:Or.featureIndex,bucketIndex:zs.bucketIndex,sourceLayerIndex:zs.sourceLayerIndex,layoutVertexArrayOffset:0})}if(ee&&!(0,ee.dynamicFilter)({zoom:this.transform.zoom,pitch:this.transform.pitch},ra,this.retainedQueryData[E.bucketInstanceId].tileID.canonical,new u.P(Or.tileAnchorX,Or.tileAnchorY),this.transform.calculateDistanceTileData(ee.unwrappedTileID)))return this.placements[Gi]=new Ma(!1,!1,!1,!0),void l.add(Gi);const Bo=nr.evaluate(ra,{});if(l.has(Gi))return;if(Ee)return void(this.placements[Gi]=new Ma(!1,!1,!1));let No=!1,va=!1,os=!0,Es=!1,tl=!1,js=null,ba={box:null,offscreen:null,occluded:null},ms={box:null,offscreen:null,occluded:null},xo=null,Ka=null,xs=null,ws=0,ol=0,Hl=0;vi.textFeatureIndex?ws=vi.textFeatureIndex:Or.useRuntimeCollisionCircles&&(ws=Or.featureIndex),vi.verticalTextFeatureIndex&&(ol=vi.verticalTextFeatureIndex);const Cl=zs=>{zs.tileID=this.retainedQueryData[E.bucketInstanceId].tileID;const $s=this.transform.elevation;zs.elevation=Hn?Bo:Bo+($s?$s.getAtTileOffset(zs.tileID,zs.tileAnchorX,zs.tileAnchorY):0),zs.elevation+=Or.zOffset},Pl=vi.textBox;if(Pl){Cl(Pl);const zs=us=>{let fl=u.bq.horizontal;if(E.allowVerticalPlacement&&!us&&this.prevPlacement){const Ul=this.prevPlacement.placedOrientations[Gi];Ul&&(this.placedOrientations[Gi]=Ul,fl=Ul,this.markUsedOrientation(E,fl,Or))}return fl},$s=(us,fl)=>{if(E.allowVerticalPlacement&&Yi>0&&vi.verticalTextBox){for(const Ul of E.writingModes)if(Ul===u.bq.vertical?(ba=fl(),ms=ba):ba=us(),ba&&ba.box&&ba.box.length)break}else ba=us()};if(R.get("text-variable-anchor")){let us=R.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[Gi]){const Ps=this.prevPlacement.variableOffsets[Gi];us.indexOf(Ps.anchor)>0&&(us=us.filter(Sc=>Sc!==Ps.anchor),us.unshift(Ps.anchor))}const fl=(Ps,Sc,qc)=>{const kc=E.getSymbolInstanceTextSize(Oe,Or,this.transform.zoom,ci),mc=(Ps.x2-Ps.x1)*kc+2*Ps.padding,xu=(Ps.y2-Ps.y1)*kc+2*Ps.padding,Yc=Or.hasIconTextFit&&!Dt?Sc:null;Yc&&Cl(Yc);let jc={box:[],offscreen:!1,occluded:!1};const Hd=Mt?2*us.length:us.length;for(let Jc=0;Jc<Hd;++Jc){const Ud=this.attemptAnchorPlacement(us[Jc%us.length],Ps,mc,xu,kc,It,zt,le,V,qe,Jc>=us.length,Or,ci,E,qc,Yc,Oe,Me);if(Ud&&(jc=Ud.placedGlyphBoxes,jc&&jc.box&&jc.box.length)){No=!0,js=Ud.shift;break}}return jc};$s(()=>fl(Pl,vi.iconBox,u.bq.horizontal),()=>{const Ps=vi.verticalTextBox;return Ps&&Cl(Ps),E.allowVerticalPlacement&&!(ba&&ba.box&&ba.box.length)&&Yi>0&&Ps?fl(Ps,vi.verticalIconBox,u.bq.vertical):{box:null,offscreen:null,occluded:null}}),ba&&(No=ba.box,os=ba.offscreen,Es=ba.occluded);const Ul=zs(!(!ba||!ba.box));if(!No&&this.prevPlacement){const Ps=this.prevPlacement.variableOffsets[Gi];Ps&&(this.variableOffsets[Gi]=Ps,this.markUsedJustification(E,Ps.anchor,Or,Ul))}}else{const us=(fl,Ul)=>{const Ps=E.getSymbolInstanceTextSize(Oe,Or,this.transform.zoom,ci,C),Sc=this.collisionIndex.placeCollisionBox(E,Ps,fl,new u.P(0,0),Mt,le,V,qe.predicate);return Sc&&Sc.box&&Sc.box.length&&(this.markUsedOrientation(E,Ul,Or),this.placedOrientations[Gi]=Ul),Sc};$s(()=>us(Pl,u.bq.horizontal),()=>{const fl=vi.verticalTextBox;return E.allowVerticalPlacement&&Yi>0&&fl?(Cl(fl),us(fl,u.bq.vertical)):{box:null,offscreen:null,occluded:null}}),zs(!!(ba&&ba.box&&ba.box.length))}}if(xo=ba,No=xo&&xo.box&&xo.box.length>0,os=xo&&xo.offscreen,Es=xo&&xo.occluded,Or.useRuntimeCollisionCircles){const zs=E.text.placedSymbolArray.get(Or.centerJustifiedTextSymbolIndex>=0?Or.centerJustifiedTextSymbolIndex:Or.verticalPlacedTextSymbolIndex),$s=u.br(E.textSizeData,Oe,zs),us=R.get("text-padding");Ka=this.collisionIndex.placeCollisionCircles(E,Mt,zs,E.lineVertexArray,E.glyphOffsetArray,$s,V,U,Y,p,zt,qe.predicate,Or.collisionCircleDiameter*$s/u.bw,us,this.retainedQueryData[E.bucketInstanceId].tileID),No=Mt||Ka.circles.length>0&&!Ka.collisionDetected,os=os&&Ka.offscreen,Es=Ka.occluded}if(vi.iconFeatureIndex&&(Hl=vi.iconFeatureIndex),vi.iconBox){const zs=$s=>{Cl($s);const us=Or.hasIconTextFit&&js?cs(js.x,js.y,It,zt,this.transform.angle):new u.P(0,0),fl=E.getSymbolInstanceIconSize(Me,this.transform.zoom,Or.placedIconSymbolIndex);return this.collisionIndex.placeCollisionBox(E,fl,$s,us,Dt,le,V,qe.predicate)};ms&&ms.box&&ms.box.length&&vi.verticalIconBox?(xs=zs(vi.verticalIconBox),va=xs.box.length>0):(xs=zs(vi.iconBox),va=xs.box.length>0),os=os&&xs.offscreen,tl=xs.occluded}const Rc=gt||Or.numHorizontalGlyphVertices===0&&Yi===0,Cc=Nt||Or.numIconVertices===0;if(Rc||Cc?Cc?Rc||(va=va&&No):No=va&&No:va=No=va&&No,No&&xo&&xo.box&&this.collisionIndex.insertCollisionBox(xo.box,R.get("text-ignore-placement"),E.bucketInstanceId,ms&&ms.box&&ol?ol:ws,qe.ID),va&&xs&&this.collisionIndex.insertCollisionBox(xs.box,R.get("icon-ignore-placement"),E.bucketInstanceId,Hl,qe.ID),Ka&&(No&&this.collisionIndex.insertCollisionCircles(Ka.circles,R.get("text-ignore-placement"),E.bucketInstanceId,ws,qe.ID),p)){const zs=E.bucketInstanceId;let $s=this.collisionCircleArrays[zs];$s===void 0&&($s=this.collisionCircleArrays[zs]=new wa);for(let us=0;us<Ka.circles.length;us+=4)$s.circles.push(Ka.circles[us+0]),$s.circles.push(Ka.circles[us+1]),$s.circles.push(Ka.circles[us+2]),$s.circles.push(Ka.collisionDetected?1:0)}const al=E.projection.name!=="globe";Rr=Rr&&(al||!Es),Qn=Qn&&(al||!tl),this.placements[Gi]=new Ma(No||Rr,va||Qn,os||E.justReloaded),l.add(Gi)};if(fn&&this.buildingIndex&&(this.buildingIndex.updateZOffset(E,this.retainedQueryData[E.bucketInstanceId].tileID),E.updateZOffset()),E.sortFeaturesByY){const Or=E.getSortedSymbolIndexes(this.transform.angle);for(let ci=Or.length-1;ci>=0;--ci){const vi=Or[ci];Br(E.symbolInstances.get(vi),vi,E.collisionArrays[vi])}E.hasAnyZOffset&&u.w(`${E.layerIds[0]} layer symbol-z-elevate: symbols are not sorted by elevation if symbol-z-order is evaluated to viewport-y`)}else if(E.hasAnyZOffset){const Or=E.getSortedIndexesByZOffset();for(let ci=0;ci<Or.length;++ci){const vi=Or[ci];Br(E.symbolInstances.get(vi),vi,E.collisionArrays[vi])}}else for(let Or=r.symbolInstanceStart;Or<r.symbolInstanceEnd;Or++)Br(E.symbolInstances.get(Or),Or,E.collisionArrays[Or]);if(p&&E.bucketInstanceId in this.collisionCircleArrays){const Or=this.collisionCircleArrays[E.bucketInstanceId];u.ab.mat4.invert(Or.invProjMatrix,V),Or.viewportMatrix=this.collisionIndex.getViewportMatrix()}E.justReloaded=!1}markUsedJustification(r,l,p,b){const{leftJustifiedTextSymbolIndex:C,centerJustifiedTextSymbolIndex:E,rightJustifiedTextSymbolIndex:R,verticalPlacedTextSymbolIndex:B,crossTileID:V}=p,U=u.bB(l),Y=b===u.bq.vertical?B:U==="left"?C:U==="center"?E:U==="right"?R:-1;C>=0&&(r.text.placedSymbolArray.get(C).crossTileID=Y>=0&&C!==Y?0:V),E>=0&&(r.text.placedSymbolArray.get(E).crossTileID=Y>=0&&E!==Y?0:V),R>=0&&(r.text.placedSymbolArray.get(R).crossTileID=Y>=0&&R!==Y?0:V),B>=0&&(r.text.placedSymbolArray.get(B).crossTileID=Y>=0&&B!==Y?0:V)}markUsedOrientation(r,l,p){const b=l===u.bq.horizontal||l===u.bq.horizontalOnly?l:0,C=l===u.bq.vertical?l:0,{leftJustifiedTextSymbolIndex:E,centerJustifiedTextSymbolIndex:R,rightJustifiedTextSymbolIndex:B,verticalPlacedTextSymbolIndex:V}=p,U=r.text.placedSymbolArray;E>=0&&(U.get(E).placedOrientation=b),R>=0&&(U.get(R).placedOrientation=b),B>=0&&(U.get(B).placedOrientation=b),V>=0&&(U.get(V).placedOrientation=C)}commit(r){this.commitTime=r,this.zoomAtLastRecencyCheck=this.transform.zoom;const l=this.prevPlacement;let p=!1;this.prevZoomAdjustment=l?l.zoomAdjustment(this.transform.zoom):0;const b=l?l.symbolFadeChange(r):1,C=l?l.opacities:{},E=l?l.variableOffsets:{},R=l?l.placedOrientations:{};for(const B in this.placements){const V=this.placements[B],U=C[B];U?(this.opacities[B]=new Ea(U,b,V.text,V.icon,null,V.clipped),p=p||V.text!==U.text.placed||V.icon!==U.icon.placed):(this.opacities[B]=new Ea(null,b,V.text,V.icon,V.skipFade,V.clipped),p=p||V.text||V.icon)}for(const B in C){const V=C[B];if(!this.opacities[B]){const U=new Ea(V,b,!1,!1);U.isHidden()||(this.opacities[B]=U,p=p||V.text.placed||V.icon.placed)}}for(const B in E)this.variableOffsets[B]||!this.opacities[B]||this.opacities[B].isHidden()||(this.variableOffsets[B]=E[B]);for(const B in R)this.placedOrientations[B]||!this.opacities[B]||this.opacities[B].isHidden()||(this.placedOrientations[B]=R[B]);p?this.lastPlacementChangeTime=r:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=l?l.lastPlacementChangeTime:r)}updateLayerOpacities(r,l,p,b){const C=new Set;for(const E of l){const R=E.getBucket(r);R&&E.latestFeatureIndex&&r.fqid===R.layerIds[0]&&(this.updateBucketOpacities(R,C,E,E.collisionBoxArray,p,b,E.tileID,r.scope),R.layers[0].layout.get("symbol-z-elevate")&&this.buildingIndex&&(this.buildingIndex.updateZOffset(R,E.tileID),R.updateZOffset()))}}updateBucketOpacities(r,l,p,b,C,E,R,B){r.hasTextData()&&r.text.opacityVertexArray.clear(),r.hasIconData()&&r.icon.opacityVertexArray.clear(),r.hasIconCollisionBoxData()&&r.iconCollisionBox.collisionVertexArray.clear(),r.hasTextCollisionBoxData()&&r.textCollisionBox.collisionVertexArray.clear();const V=r.layers[0].layout,U=r.layers[0].paint,Y=!!r.layers[0].dynamicFilter(),ee=new Ea(null,0,!1,!1,!0),le=V.get("text-allow-overlap"),Ee=V.get("icon-allow-overlap"),xe=V.get("text-variable-anchor"),Oe=V.get("text-rotation-alignment")==="map",Me=V.get("text-pitch-alignment")==="map",qe=U.get("symbol-z-offset"),yt=V.get("symbol-elevation-reference")==="sea",gt=!qe.isConstant(),Nt=new Ea(null,0,le&&(Ee||!r.hasIconData()||V.get("icon-optional")),Ee&&(le||!r.hasTextData()||V.get("text-optional")),!0);!r.collisionArrays&&b&&(r.hasIconCollisionBoxData()||r.hasTextCollisionBoxData())&&r.deserializeCollisionBoxes(b);const Mt=(It,zt,fn)=>{for(let nr=0;nr<zt/4;nr++)It.opacityVertexArray.emplaceBack(fn)};let Dt=0;E&&r.updateReplacement(R,E);for(let It=0;It<r.symbolInstances.length;It++){const zt=r.symbolInstances.get(It),{numHorizontalGlyphVertices:fn,numVerticalGlyphVertices:nr,crossTileID:Hn,numIconVertices:Er,tileAnchorX:mr,tileAnchorY:Dn}=zt;let or=null;const Gr=this.retainedQueryData[r.bucketInstanceId];gt&&zt&&Gr&&(or=p.latestFeatureIndex.loadFeature({featureIndex:zt.featureIndex,bucketIndex:Gr.bucketIndex,sourceLayerIndex:Gr.sourceLayerIndex,layoutVertexArrayOffset:0}));const On=qe.evaluate(or,{}),Rr=l.has(Hn);let Qn=this.opacities[Hn];Rr?Qn=ee:Qn||(Qn=Nt,this.opacities[Hn]=Qn),l.add(Hn);const xi=fn>0||nr>0,Br=Er>0,Or=this.placedOrientations[Hn],ci=Or===u.bq.vertical,vi=Or===u.bq.horizontal||Or===u.bq.horizontalOnly;!xi&&!Br||Qn.isHidden()||Dt++;let Gi=!1;if((xi||Br)&&E)for(const Yi of r.activeReplacements){if(u.bx(Yi,C,u.by.Symbol,B)||Yi.min.x>mr||mr>Yi.max.x||Yi.min.y>Dn||Dn>Yi.max.y)continue;const ra=u.bz(mr,Dn,R.canonical,Yi.footprintTileId.canonical);if(Gi=u.bA(ra,Yi.footprint),Gi)break}if(xi){const Yi=Gi?da:Ha(Qn.text);Mt(r.text,fn,ci?da:Yi),Mt(r.text,nr,vi?da:Yi);const ra=Qn.text.isHidden(),{leftJustifiedTextSymbolIndex:Bo,centerJustifiedTextSymbolIndex:No,rightJustifiedTextSymbolIndex:va,verticalPlacedTextSymbolIndex:os}=zt,Es=r.text.placedSymbolArray,tl=ra||ci?1:0;Bo>=0&&(Es.get(Bo).hidden=tl),No>=0&&(Es.get(No).hidden=tl),va>=0&&(Es.get(va).hidden=tl),os>=0&&(Es.get(os).hidden=ra||vi?1:0);const js=this.variableOffsets[Hn];js&&this.markUsedJustification(r,js.anchor,zt,Or);const ba=this.placedOrientations[Hn];ba&&(this.markUsedJustification(r,"left",zt,ba),this.markUsedOrientation(r,ba,zt))}if(Br){const Yi=Gi?da:Ha(Qn.icon),{placedIconSymbolIndex:ra,verticalPlacedIconSymbolIndex:Bo}=zt,No=r.icon.placedSymbolArray,va=Qn.icon.isHidden()?1:0;ra>=0&&(Mt(r.icon,Er,ci?da:Yi),No.get(ra).hidden=va),Bo>=0&&(Mt(r.icon,zt.numVerticalIconVertices,vi?da:Yi),No.get(Bo).hidden=va)}if(r.hasIconCollisionBoxData()||r.hasTextCollisionBoxData()){const Yi=r.collisionArrays[It];if(Yi){let ra=new u.P(0,0),Bo=!0;if(Yi.textBox||Yi.verticalTextBox){if(xe){const va=this.variableOffsets[Hn];va?(ra=ca(va.anchor,va.width,va.height,va.textOffset,va.textScale),Oe&&ra._rotate(Me?this.transform.angle:-this.transform.angle)):Bo=!1}Y&&(Bo=!Qn.clipped),Yi.textBox&&as(r.textCollisionBox.collisionVertexArray,Qn.text.placed,!Bo||ci,On,yt,ra.x,ra.y),Yi.verticalTextBox&&as(r.textCollisionBox.collisionVertexArray,Qn.text.placed,!Bo||vi,On,yt,ra.x,ra.y)}const No=Bo&&!!(!vi&&Yi.verticalIconBox);Yi.iconBox&&as(r.iconCollisionBox.collisionVertexArray,Qn.icon.placed,No,On,yt,zt.hasIconTextFit?ra.x:0,zt.hasIconTextFit?ra.y:0),Yi.verticalIconBox&&as(r.iconCollisionBox.collisionVertexArray,Qn.icon.placed,!No,On,yt,zt.hasIconTextFit?ra.x:0,zt.hasIconTextFit?ra.y:0)}}}if(r.fullyClipped=Dt===0,r.sortFeatures(this.transform.angle),this.retainedQueryData[r.bucketInstanceId]&&(this.retainedQueryData[r.bucketInstanceId].featureSortOrder=r.featureSortOrder),r.hasTextData()&&r.text.opacityVertexBuffer&&r.text.opacityVertexBuffer.updateData(r.text.opacityVertexArray),r.hasIconData()&&r.icon.opacityVertexBuffer&&r.icon.opacityVertexBuffer.updateData(r.icon.opacityVertexArray),r.hasIconCollisionBoxData()&&r.iconCollisionBox.collisionVertexBuffer&&r.iconCollisionBox.collisionVertexBuffer.updateData(r.iconCollisionBox.collisionVertexArray),r.hasTextCollisionBoxData()&&r.textCollisionBox.collisionVertexBuffer&&r.textCollisionBox.collisionVertexBuffer.updateData(r.textCollisionBox.collisionVertexArray),r.bucketInstanceId in this.collisionCircleArrays){const It=this.collisionCircleArrays[r.bucketInstanceId];r.placementInvProjMatrix=It.invProjMatrix,r.placementViewportMatrix=It.viewportMatrix,r.collisionCircleArray=It.circles,delete this.collisionCircleArrays[r.bucketInstanceId]}}symbolFadeChange(r){return this.fadeDuration===0?1:(r-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(r){return Math.max(0,(this.transform.zoom-r)/1.5)}hasTransitions(r){return this.stale||r-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(r,l){const p=this.zoomAtLastRecencyCheck===l?1-this.zoomAdjustment(l):1;return this.zoomAtLastRecencyCheck=l,this.commitTime+this.fadeDuration*p>r}setStale(){this.stale=!0}}function as(m,r,l,p,b,C,E){m.emplaceBack(r?1:0,l?1:0,C||0,E||0,p,b?1:0),m.emplaceBack(r?1:0,l?1:0,C||0,E||0,p,b?1:0),m.emplaceBack(r?1:0,l?1:0,C||0,E||0,p,b?1:0),m.emplaceBack(r?1:0,l?1:0,C||0,E||0,p,b?1:0)}const nl=Math.pow(2,25),cl=Math.pow(2,24),Nl=Math.pow(2,17),Hs=Math.pow(2,16),Bl=Math.pow(2,9),wc=Math.pow(2,8),ua=Math.pow(2,1);function Ha(m){if(m.opacity===0&&!m.placed)return 0;if(m.opacity===1&&m.placed)return 4294967295;const r=m.placed?1:0,l=Math.floor(127*m.opacity);return l*nl+r*cl+l*Nl+r*Hs+l*Bl+r*wc+l*ua+r}const da=0;class Jo{constructor(r){this._sortAcrossTiles=r.layout.get("symbol-z-order")!=="viewport-y"&&r.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs=new Set,this._bucketParts=[]}continuePlacement(r,l,p,b,C,E){const R=this._bucketParts;for(;this._currentTileIndex<r.length;)if(l.getBucketParts(R,b,r[this._currentTileIndex],this._sortAcrossTiles,E),this._currentTileIndex++,C())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,R.sort((B,V)=>B.sortKey-V.sortKey));this._currentPartIndex<R.length;){const B=R[this._currentPartIndex];if(l.placeLayerBucketPart(B,this._seenCrossTileIDs,p,B.symbolInstanceStart===0,E),this._currentPartIndex++,C())return!0}return!1}}class ys{constructor(r,l,p,b,C,E,R,B,V){this.placement=new Va(r,C,E,R,B,V),this._currentPlacementIndex=l.length-1,this._forceFullPlacement=p,this._showCollisionBoxes=b,this._done=!1}isDone(){return this._done}continuePlacement(r,l,p,b,C){const E=u.q.now(),R=()=>{const B=u.q.now()-E;return!this._forceFullPlacement&&B>2};for(;this._currentPlacementIndex>=0;){const B=l[r[this._currentPlacementIndex]],V=this.placement.collisionIndex.transform.zoom;if(B.type==="symbol"&&(!B.minzoom||B.minzoom<=V)&&(!B.maxzoom||B.maxzoom>V)){const U=B,Y=U.layout.get("symbol-z-elevate"),ee=U.layout.get("symbol-sort-key").constantOr(1)!==void 0,le=U.layout.get("symbol-z-order"),Ee=le==="viewport-y"||le==="auto"&&!(le!=="viewport-y"&&ee),xe=U.layout.get("text-allow-overlap")||U.layout.get("icon-allow-overlap")||U.layout.get("text-ignore-placement")||U.layout.get("icon-ignore-placement"),Oe=Ee&&xe,Me=this._inProgressLayer=this._inProgressLayer||new Jo(U),qe=u.aC(B.source,B.scope);if(Me.continuePlacement(Y||Oe?b[qe]:p[qe],this.placement,this._showCollisionBoxes,B,R,C))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(r){return this.placement.commit(r),this.placement}}const Fs=512/u.ag/2;class rc{constructor(r,l,p){this.tileID=r,this.bucketInstanceId=p,this.index=new u.bE(l.length,16,Int32Array),this.keys=[],this.crossTileIDs=[];const b=r.canonical.x*u.ag,C=r.canonical.y*u.ag;for(let E=0;E<l.length;E++){const{key:R,crossTileID:B,tileAnchorX:V,tileAnchorY:U}=l.get(E),Y=Math.floor((b+V)*Fs),ee=Math.floor((C+U)*Fs);this.index.add(Y,ee),this.keys.push(R),this.crossTileIDs.push(B)}this.index.finish()}findMatches(r,l,p){const b=this.tileID.canonical.z<l.canonical.z?1:Math.pow(2,this.tileID.canonical.z-l.canonical.z),C=Fs/Math.pow(2,l.canonical.z-this.tileID.canonical.z),E=l.canonical.x*u.ag,R=l.canonical.y*u.ag;for(let B=0;B<r.length;B++){const V=r.get(B);if(V.crossTileID)continue;const{key:U,tileAnchorX:Y,tileAnchorY:ee}=V,le=Math.floor((E+Y)*C),Ee=Math.floor((R+ee)*C),xe=this.index.range(le-b,Ee-b,le+b,Ee+b);for(const Oe of xe){const Me=this.crossTileIDs[Oe];if(this.keys[Oe]===U&&!p.has(Me)){p.add(Me),V.crossTileID=Me;break}}}}}class gc{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Zc{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(r){const l=Math.round((r-this.lng)/360);if(l!==0)for(const p in this.indexes){const b=this.indexes[p],C={};for(const E in b){const R=b[E];R.tileID=R.tileID.unwrapTo(R.tileID.wrap+l),C[R.tileID.key]=R}this.indexes[p]=C}this.lng=r}addBucket(r,l,p){if(this.indexes[r.overscaledZ]&&this.indexes[r.overscaledZ][r.key]){if(this.indexes[r.overscaledZ][r.key].bucketInstanceId===l.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(r.overscaledZ,this.indexes[r.overscaledZ][r.key])}for(let C=0;C<l.symbolInstances.length;C++)l.symbolInstances.get(C).crossTileID=0;this.usedCrossTileIDs[r.overscaledZ]||(this.usedCrossTileIDs[r.overscaledZ]=new Set);const b=this.usedCrossTileIDs[r.overscaledZ];for(const C in this.indexes){const E=this.indexes[C];if(Number(C)>r.overscaledZ)for(const R in E){const B=E[R];B.tileID.isChildOf(r)&&B.findMatches(l.symbolInstances,r,b)}else{const R=E[r.scaledTo(Number(C)).key];R&&R.findMatches(l.symbolInstances,r,b)}}for(let C=0;C<l.symbolInstances.length;C++){const E=l.symbolInstances.get(C);E.crossTileID||(E.crossTileID=p.generate(),b.add(E.crossTileID))}return this.indexes[r.overscaledZ]===void 0&&(this.indexes[r.overscaledZ]={}),this.indexes[r.overscaledZ][r.key]=new rc(r,l.symbolInstances,l.bucketInstanceId),!0}removeBucketCrossTileIDs(r,l){for(const p of l.crossTileIDs)this.usedCrossTileIDs[r].delete(p)}removeStaleBuckets(r){let l=!1;for(const p in this.indexes){const b=this.indexes[p];for(const C in b)r[b[C].bucketInstanceId]||(this.removeBucketCrossTileIDs(p,b[C]),delete b[C],l=!0)}return l}}class Ml{constructor(){this.layerIndexes={},this.crossTileIDs=new gc,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(r,l,p,b){let C=this.layerIndexes[r.fqid];C===void 0&&(C=this.layerIndexes[r.fqid]=new Zc);let E=!1;const R={};b.name!=="globe"&&C.handleWrapJump(p);for(const B of l){const V=B.getBucket(r);V&&r.fqid===V.layerIds[0]&&(V.bucketInstanceId||(V.bucketInstanceId=++this.maxBucketInstanceId),C.addBucket(B.tileID,V,this.crossTileIDs)&&(E=!0),R[V.bucketInstanceId]=!0)}return C.removeStaleBuckets(R)&&(E=!0),E}pruneUnusedLayers(r){const l={};r.forEach(p=>{l[p]=!0});for(const p in this.layerIndexes)l[p]||delete this.layerIndexes[p]}}const Xl=771;class sa{constructor(r,l,p,b){this.blendFunction=r,this.blendColor=l,this.mask=p,this.blendEquation=b}}sa.Replace=[1,0,1,0],sa.disabled=new sa(sa.Replace,u.aj.transparent,[!1,!1,!1,!1]),sa.unblended=new sa(sa.Replace,u.aj.transparent,[!0,!0,!0,!0]),sa.alphaBlended=new sa([1,Xl,1,Xl],u.aj.transparent,[!0,!0,!0,!0]),sa.alphaBlendedNonPremultiplied=new sa([770,Xl,770,Xl],u.aj.transparent,[!0,!0,!0,!0]),sa.multiply=new sa([774,0,774,0],u.aj.transparent,[!0,!0,!0,!0]);class To{constructor(r,l,p){this.func=r,this.mask=l,this.range=p}}To.ReadOnly=!1,To.ReadWrite=!0,To.disabled=new To(519,To.ReadOnly,[0,1]);const ru=7680;class Zo{constructor(r,l,p,b,C,E){this.test=r,this.ref=l,this.mask=p,this.fail=b,this.depthFail=C,this.pass=E}}Zo.disabled=new Zo({func:519,mask:0},0,0,ru,ru,ru);const Fl=1029,fu=2305;class ea{constructor(r,l,p){this.enable=r,this.mode=l,this.frontFace=p}}function cc(m,r){const l=u.bG(m,3);u.ab.mat4.fromQuat(m,r),u.bI(m,3,l)}function vc(m,r){const l=u.ab.quat.identity([]);return u.ab.quat.rotateZ(l,l,-r),u.ab.quat.rotateX(l,l,-m),l}function iu(m,r){const l=[m[0],m[1],0],p=[r[0],r[1],0];if(u.ab.vec3.length(l)>=1e-15){const E=u.ab.vec3.normalize([],l);u.ab.vec3.scale(p,E,u.ab.vec3.dot(p,E)),r[0]=p[0],r[1]=p[1]}const b=u.ab.vec3.cross([],r,m);if(u.ab.vec3.len(b)<1e-15)return null;const C=Math.atan2(-b[1],b[0]);return vc(Math.atan2(Math.sqrt(m[0]*m[0]+m[1]*m[1]),-m[2]),C)}ea.disabled=new ea(!1,Fl,fu),ea.backCCW=new ea(!0,Fl,fu),ea.backCW=new ea(!0,Fl,2304),ea.frontCW=new ea(!0,1028,2304),ea.frontCCW=new ea(!0,1028,fu);class ju{constructor(r,l){this.position=r,this.orientation=l}get position(){return this._position}set position(r){if(r){const l=r instanceof u.aa?r:new u.aa(r[0],r[1],r[2]);this._renderWorldCopies&&(l.x=u.bF(l.x,0,1)),this._position=l}else this._position=null}lookAtPoint(r,l){if(this.orientation=null,!this.position)return;const p=this.position,b=this._elevation?this._elevation.getAtPointOrZero(u.aa.fromLngLat(r)):0,C=u.aa.fromLngLat(r,b),E=[C.x-p.x,C.y-p.y,C.z-p.z];l||(l=[0,0,1]),l[2]=Math.abs(l[2]),this.orientation=iu(E,l)}setPitchBearing(r,l){this.orientation=vc(u.ai(r),u.ai(-l))}}class Kl{constructor(r,l){this._transform=u.ab.mat4.identity([]),this.orientation=l,this.position=r}get mercatorPosition(){const r=this.position;return new u.aa(r[0],r[1],r[2])}get position(){const r=u.bG(this._transform,3);return[r[0],r[1],r[2]]}set position(r){var l;r&&u.bI(this._transform,3,[(l=r)[0],l[1],l[2],1])}get orientation(){return this._orientation}set orientation(r){this._orientation=r||u.ab.quat.identity([]),r&&cc(this._transform,this._orientation)}getPitchBearing(){const r=this.forward(),l=this.right();return{bearing:Math.atan2(-l[1],l[0]),pitch:Math.atan2(Math.sqrt(r[0]*r[0]+r[1]*r[1]),-r[2])}}setPitchBearing(r,l){this._orientation=vc(r,l),cc(this._transform,this._orientation)}forward(){const r=u.bG(this._transform,2);return[-r[0],-r[1],-r[2]]}up(){const r=u.bG(this._transform,1);return[-r[0],-r[1],-r[2]]}right(){const r=u.bG(this._transform,0);return[r[0],r[1],r[2]]}getCameraToWorld(r,l){const p=new Float64Array(16);return u.ab.mat4.invert(p,this.getWorldToCamera(r,l)),p}getCameraToWorldMercator(){return this._transform}getWorldToCameraPosition(r,l,p){const b=this.position;u.ab.vec3.scale(b,b,-r);const C=new Float64Array(16);return u.ab.mat4.fromScaling(C,[p,p,p]),u.ab.mat4.translate(C,C,b),C[10]*=l,C}getWorldToCamera(r,l){const p=new Float64Array(16),b=new Float64Array(4),C=this.position;return u.ab.quat.conjugate(b,this._orientation),u.ab.vec3.scale(C,C,-r),u.ab.mat4.fromQuat(p,b),u.ab.mat4.translate(p,p,C),p[1]*=-1,p[5]*=-1,p[9]*=-1,p[13]*=-1,p[8]*=l,p[9]*=l,p[10]*=l,p[11]*=l,p}getCameraToClipPerspective(r,l,p,b){const C=new Float64Array(16);return u.ab.mat4.perspective(C,r,l,p,b),C}getCameraToClipOrthographic(r,l,p,b,C,E){const R=new Float64Array(16);return u.ab.mat4.ortho(R,r,l,p,b,C,E),R}getDistanceToElevation(r,l=!1){const p=r===0?0:u.bH(r,l?u.aS(this.position[1]):this.position[1]),b=this.forward();return(p-this.position[2])/b[2]}clone(){return new Kl([...this.position],[...this.orientation])}}const ll={BaseColor:5,MetallicRoughness:6,Normal:7,Occlusion:8,Emission:9,LUT:10,ShadowMap0:11};class Ei{constructor(r=0,l=0,p=0,b=0){if(isNaN(r)||r<0||isNaN(l)||l<0||isNaN(p)||p<0||isNaN(b)||b<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=r,this.bottom=l,this.left=p,this.right=b}interpolate(r,l,p){return l.top!=null&&r.top!=null&&(this.top=u.af(r.top,l.top,p)),l.bottom!=null&&r.bottom!=null&&(this.bottom=u.af(r.bottom,l.bottom,p)),l.left!=null&&r.left!=null&&(this.left=u.af(r.left,l.left,p)),l.right!=null&&r.right!=null&&(this.right=u.af(r.right,l.right,p)),this}getCenter(r,l){const p=u.aw((this.left+r-this.right)/2,0,r),b=u.aw((this.top+l-this.bottom)/2,0,l);return new u.P(p,b)}equals(r){return this.top===r.top&&this.bottom===r.bottom&&this.left===r.left&&this.right===r.right}clone(){return new Ei(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}const Eu=(m,r,l)=>(1-l)*m+l*r,Iu=m=>m*m*m*m*m;class hu{constructor(r,l,p,b,C,E,R){this.tileSize=512,this._renderWorldCopies=C===void 0||C,this._minZoom=r||0,this._maxZoom=l||22,this._minPitch=p!=null?p:0,this._maxPitch=b!=null?b:60,this.setProjection(E),this.setMaxBounds(R),this.width=0,this.height=0,this._center=new u.bO(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new Ei,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._expandedProjMatrixCache={},this._distanceTileDataCache={},this._camera=new Kl,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._tileCoverLift=0,this.freezeTileCoverage=!1,this._horizonShift=.1,this._orthographicProjectionAtLowPitch=!1}clone(){const r=new hu(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return r._elevation=this._elevation,r._centerAltitude=this._centerAltitude,r._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,r.tileSize=this.tileSize,r.mercatorFromTransition=this.mercatorFromTransition,r.width=this.width,r.height=this.height,r.cameraElevationReference=this.cameraElevationReference,r._center=this._center,r._setZoom(this.zoom),r._seaLevelZoom=this._seaLevelZoom,r.angle=this.angle,r._fov=this._fov,r._pitch=this._pitch,r._nearZ=this._nearZ,r._farZ=this._farZ,r._averageElevation=this._averageElevation,r._orthographicProjectionAtLowPitch=this._orthographicProjectionAtLowPitch,r._unmodified=this._unmodified,r._edgeInsets=this._edgeInsets.clone(),r._camera=this._camera.clone(),r._calcMatrices(),r.freezeTileCoverage=this.freezeTileCoverage,r.frustumCorners=this.frustumCorners,r}get isOrthographic(){return this.projection.name!=="globe"&&this._orthographicProjectionAtLowPitch&&this.pitch<15}get elevation(){return this._elevation}set elevation(r){this._elevation!==r&&(this._elevation=r,this._updateCameraOnTerrain(),this._calcMatrices())}get depthOcclusionForSymbolsAndCircles(){return this.projection.name!=="globe"&&!this.isOrthographic}updateElevation(r,l=!1){const p=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(this._seaLevelZoom==null||p)&&this._updateCameraOnTerrain(),(r||p)&&this._constrainCamera(l),this._calcMatrices()}getProjection(){return u.ay(this.projection,["name","center","parallels"])}setProjection(r){this.projectionOptions=r||{name:"mercator"};const l=this.projection?this.getProjection():void 0;this.projection=u.bP(this.projectionOptions);const p=this.getProjection(),b=!u.bn(l,p);return b&&this._calcMatrices(),this.mercatorFromTransition=!1,b}setOrthographicProjectionAtLowPitch(r){return this._orthographicProjectionAtLowPitch!==r&&(this._orthographicProjectionAtLowPitch=r,this._calcMatrices(),!0)}setMercatorFromTransition(){const r=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:"mercator"},this.projection=u.bP({name:"mercator"});const l=r!==this.projection.name;return l&&this._calcMatrices(),l}get minZoom(){return this._minZoom}set minZoom(r){this._minZoom!==r&&(this._minZoom=r,this.zoom=Math.max(this.zoom,r))}get maxZoom(){return this._maxZoom}set maxZoom(r){this._maxZoom!==r&&(this._maxZoom=r,this.zoom=Math.min(this.zoom,r))}get minPitch(){return this._minPitch}set minPitch(r){this._minPitch!==r&&(this._minPitch=r,this.pitch=Math.max(this.pitch,r))}get maxPitch(){return this._maxPitch}set maxPitch(r){this._maxPitch!==r&&(this._maxPitch=r,this.pitch=Math.min(this.pitch,r))}get renderWorldCopies(){return this._renderWorldCopies&&this.projection.supportsWorldCopies===!0}set renderWorldCopies(r){r===void 0?r=!0:r===null&&(r=!1),this._renderWorldCopies=r}get worldSize(){return this.tileSize*this.scale}get cameraWorldSizeForFog(){const r=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(r))}get cameraWorldSize(){const r=Math.max(this._camera.getDistanceToElevation(this._averageElevation,!0),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(r))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return u.bH(1,this.center.lat)*this.cameraWorldSizeForFog}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new u.P(this.width,this.height)}get bearing(){return u.bF(this.rotation,-180,180)}set bearing(r){this.rotation=r}get rotation(){return-this.angle/Math.PI*180}set rotation(r){const l=-r*Math.PI/180;this.angle!==l&&(this._unmodified=!1,this.angle=l,this._calcMatrices(),this.rotationMatrix=u.ab.mat2.create(),u.ab.mat2.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(r){const l=u.aw(r,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==l&&(this._unmodified=!1,this._pitch=l,this._calcMatrices())}get aspect(){return this.width/this.height}get fov(){return this._fov/Math.PI*180}get fovX(){return this._fov}get fovY(){const r=1/Math.tan(.5*this.fovX);return 2*Math.atan(1/this.aspect/r)}set fov(r){r=Math.max(.01,Math.min(60,r)),this._fov!==r&&(this._unmodified=!1,this._fov=u.ai(r),this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(r){this._averageElevation=r,this._calcFogMatrices(),this._distanceTileDataCache={}}get zoom(){return this._zoom}set zoom(r){const l=Math.min(Math.max(r,this.minZoom),this.maxZoom);this._zoom!==l&&(this._unmodified=!1,this._setZoom(l),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices())}_setZoom(r){this._zoom=r,this.scale=this.zoomScale(r),this.tileZoom=Math.floor(r),this.zoomFraction=r-this.tileZoom}get tileCoverLift(){return this._tileCoverLift}set tileCoverLift(r){this._tileCoverLift!==r&&(this._tileCoverLift=r)}_updateCameraOnTerrain(){const r=this.elevation?this.elevation.getAtPoint(this.locationCoordinate(this.center),Number.NEGATIVE_INFINITY):Number.NEGATIVE_INFINITY,l=this.elevation&&r===Number.NEGATIVE_INFINITY&&this.elevation.visibleDemTiles.length>0&&this.elevation.exaggeration()>0&&this._centerAltitudeValidForExaggeration;if(!this._elevation||r===Number.NEGATIVE_INFINITY&&(!l||!this._centerAltitude))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);const p=this._elevation;l||this._centerAltitude&&this._centerAltitudeValidForExaggeration&&p.exaggeration()&&this._centerAltitudeValidForExaggeration!==p.exaggeration()?(this._centerAltitude=this._centerAltitude/this._centerAltitudeValidForExaggeration*p.exaggeration(),this._centerAltitudeValidForExaggeration=p.exaggeration()):(this._centerAltitude=r||0,this._centerAltitudeValidForExaggeration=p.exaggeration()),this._updateSeaLevelZoom()}_updateSeaLevelZoom(){this._centerAltitudeValidForExaggeration!==void 0&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize))}sampleAverageElevation(){if(!this._elevation)return 0;const r=this._elevation,l=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],p=this.horizonLineFromTop();let b=0,C=0;for(let E=0;E<l.length;E++){const R=new u.P(l[E][0]*this.width,p+l[E][1]*(this.height-p)),B=r.pointCoordinate(R);if(!B)continue;const V=1/Math.hypot(B[0]-this._camera.position[0],B[1]-this._camera.position[1]);b+=B[3]*V,C+=V}return C===0?NaN:b/C}get center(){return this._center}set center(r){r.lat===this._center.lat&&r.lng===this._center.lng||(this._unmodified=!1,this._center=r,this._terrainEnabled()&&(this.cameraElevationReference==="ground"?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(this._seaLevelZoom==null||!this._elevation)return;const r=this._seaLevelZoom,l=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),p=this.pixelsPerMeter/this.worldSize*l,b=this._mercatorZfromZoom(r),C=this._mercatorZfromZoom(this._maxZoom),E=Math.max(b-p,C);this._setZoom(this._zoomFromMercatorZ(E))}get padding(){return this._edgeInsets.toJSON()}set padding(r){this._edgeInsets.equals(r)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,r,1),this._calcMatrices())}computeZoomRelativeTo(r){const l=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,r.toAltitude()));let p;p=r.z<this._camera.position[2]?[l.x,l.y,l.z]:[r.x,r.y,r.z];const b=u.ab.vec3.length(u.ab.vec3.sub([],this._camera.position,p));return u.aw(this._zoomFromMercatorZ(b),this._minZoom,this._maxZoom)}setFreeCameraOptions(r){if(!this.height||!r.position&&!r.orientation)return;this._updateCameraState();let l=!1;if(r.orientation&&!u.ab.quat.exactEquals(r.orientation,this._camera.orientation)&&(l=this._setCameraOrientation(r.orientation)),r.position){const p=[r.position.x,r.position.y,r.position.z];u.ab.vec3.exactEquals(p,this._camera.position)||(this._setCameraPosition(p),l=!0)}l&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const r=this._camera.position,l=new ju;return l.position=new u.aa(r[0],r[1],r[2]),l.orientation=this._camera.orientation,l._elevation=this.elevation,l._renderWorldCopies=this.renderWorldCopies,l}_setCameraOrientation(r){if(!u.ab.quat.length(r))return!1;u.ab.quat.normalize(r,r);const l=u.ab.vec3.transformQuat([],[0,0,-1],r),p=u.ab.vec3.transformQuat([],[0,-1,0],r);if(p[2]<0)return!1;const b=iu(l,p);return!!b&&(this._camera.orientation=b,!0)}_setCameraPosition(r){const l=this.zoomScale(this.minZoom)*this.tileSize,p=this.zoomScale(this.maxZoom)*this.tileSize,b=this.cameraToCenterDistance;r[2]=u.aw(r[2],b/p,b/l),this._camera.position=r}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(r){return this._edgeInsets.equals(r)}interpolatePadding(r,l,p){this._unmodified=!1,this._edgeInsets.interpolate(r,l,p),this._constrain(),this._calcMatrices()}coveringZoomLevel(r){const l=(r.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/r.tileSize));return Math.max(0,l)}getVisibleUnwrappedCoordinates(r){const l=[new u.bQ(0,r)];if(this.renderWorldCopies){const p=this.pointCoordinate(new u.P(0,0)),b=this.pointCoordinate(new u.P(this.width,0)),C=this.pointCoordinate(new u.P(this.width,this.height)),E=this.pointCoordinate(new u.P(0,this.height)),R=Math.floor(Math.min(p.x,b.x,C.x,E.x)),B=Math.floor(Math.max(p.x,b.x,C.x,E.x)),V=1;for(let U=R-V;U<=B+V;U++)U!==0&&l.push(new u.bQ(U,r))}return l}isLODDisabled(r){return(!r||this.pitch<=60)&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace}extendTileCover(r,l,p){let b=[];const C=p!==void 0,E=!C;if(E&&this.zoom<l||C&&p[0]===0&&p[1]===0)return b;const R=new Set,B=(U,Y,ee,le,Ee)=>{const xe=u.c5(Y,U,ee,le,Ee);R.has(xe)||(b.push(new u.aG(U,Y,ee,le,Ee)),R.add(xe))};for(let U=0;U<r.length;U++){const Y=r[U];if(E&&Y.canonical.z!==l)continue;const ee=Y.canonical,le=Y.overscaledZ,Ee=Y.wrap,xe=1<<ee.z,Oe=ee.x+1<xe,Me=ee.x>0,qe=ee.y+1<xe,yt=ee.y>0,gt=Y.wrap-(Me?0:1),Nt=Y.wrap+(Oe?0:1),Mt=Me?ee.x-1:xe-1,Dt=Oe?ee.x+1:0;if(C)p[0]<0?(B(le,Nt,ee.z,Dt,ee.y),p[1]<0&&qe&&(B(le,Ee,ee.z,ee.x,ee.y+1),B(le,Nt,ee.z,Dt,ee.y+1)),p[1]>0&&yt&&(B(le,Ee,ee.z,ee.x,ee.y-1),B(le,Nt,ee.z,Dt,ee.y-1))):p[0]>0?(B(le,gt,ee.z,Mt,ee.y),p[1]<0&&qe&&(B(le,Ee,ee.z,ee.x,ee.y+1),B(le,gt,ee.z,Mt,ee.y+1)),p[1]>0&&yt&&(B(le,Ee,ee.z,ee.x,ee.y-1),B(le,gt,ee.z,Mt,ee.y-1))):p[1]<0&&qe?B(le,Ee,ee.z,ee.x,ee.y+1):yt&&B(le,Ee,ee.z,ee.x,ee.y-1);else{const It=Y.visibleQuadrants;1&It&&(B(le,gt,ee.z,Mt,ee.y),yt&&(B(le,Ee,ee.z,ee.x,ee.y-1),B(le,gt,ee.z,Mt,ee.y-1))),2&It&&(B(le,Nt,ee.z,Dt,ee.y),yt&&(B(le,Ee,ee.z,ee.x,ee.y-1),B(le,Nt,ee.z,Dt,ee.y-1))),4&It&&(B(le,gt,ee.z,Mt,ee.y),qe&&(B(le,Ee,ee.z,ee.x,ee.y+1),B(le,gt,ee.z,Mt,ee.y+1))),8&It&&(B(le,Nt,ee.z,Dt,ee.y),qe&&(B(le,Ee,ee.z,ee.x,ee.y+1),B(le,Nt,ee.z,Dt,ee.y+1)))}}const V=[];for(const U of b)b.some(Y=>U.isChildOf(Y))||V.push(U);if(b=V.filter(U=>!r.some(Y=>!!(U.overscaledZ<l&&Y.isChildOf(U))||U.equals(Y)||U.isChildOf(Y))),E){const U=1<<l,Y=this.projection.name==="globe"?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),ee=[U*Y.x,U*Y.y],le=4,Ee=le*le;b=b.filter(xe=>{const Oe=xe.canonical.x+.5-ee[0],Me=xe.canonical.y+.5-ee[1];return Oe*Oe+Me*Me<Ee})}return b}coveringTiles(r){let l=this.coveringZoomLevel(r);const p=l,b=this.elevation&&this.elevation.exaggeration(),C=b&&!r.isTerrainDEM,E=this.projection.name==="mercator";if(r.minzoom!==void 0&&l<r.minzoom)return[];r.maxzoom!==void 0&&l>r.maxzoom&&(l=r.maxzoom);const R=this.locationCoordinate(this.center),B=this.center.lat,V=1<<l,U=[V*R.x,V*R.y,0],Y=this.projection.name==="globe",ee=!Y,le=u.bR.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,l,ee),Ee=Y?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),xe=V*u.bH(1,this.center.lat),Oe=this._camera.position[2]/u.bH(1,this.center.lat),Me=[V*Ee.x,V*Ee.y,Oe*(ee?1:xe)],qe=Y||b,yt=this.cameraToCenterDistance/r.tileSize*(r.roundZoom?1:.502),gt=this.isLODDisabled(!0)?l:0;let Nt;if(this._elevation&&r.isTerrainDEM)Nt=1e4*this._elevation.exaggeration();else if(this._elevation){const On=this._elevation.getMinMaxForVisibleTiles();Nt=On?On.max:this._centerAltitude}else Nt=this._centerAltitude;const Mt=r.isTerrainDEM?-Nt:this._elevation?this._elevation.getMinElevationBelowMSL():0,Dt=this.projection.isReprojectedInTileSpace?u.bS(this):1,It=On=>{const Qn=new u.aa(On.x+25e-6,On.y,On.z),xi=new u.aa(On.x,On.y+25e-6,On.z),Br=On.toLngLat(),Or=Qn.toLngLat(),ci=xi.toLngLat(),vi=this.locationCoordinate(Br),Gi=this.locationCoordinate(Or),Yi=this.locationCoordinate(ci),ra=Math.hypot(Gi.x-vi.x,Gi.y-vi.y),Bo=Math.hypot(Yi.x-vi.x,Yi.y-vi.y);return Math.sqrt(ra*Bo)*Dt/25e-6},zt=On=>{const Rr=Nt,Qn=Mt;return{aabb:u.bV(this,V,0,0,0,On,Qn,Rr,this.projection),zoom:0,x:0,y:0,minZ:Qn,maxZ:Rr,wrap:On,fullyVisible:!1}},fn=[];let nr=[];const Hn=l,Er=r.reparseOverscaled?p:l,mr=(Oe-this._centerAltitude)*xe,Dn=On=>{if(!this._elevation||!On.tileID||!E)return;const Rr=this._elevation.getMinMaxForTile(On.tileID),Qn=On.aabb;Rr?(Qn.min[2]=Rr.min,Qn.max[2]=Rr.max,Qn.center[2]=(Qn.min[2]+Qn.max[2])/2):(On.shouldSplit=Gr(On),On.shouldSplit||(Qn.min[2]=Qn.max[2]=Qn.center[2]=this._centerAltitude))},or=(On,Rr)=>{if(.707*Rr<On)return 1;const Qn=Rr/On;return Qn/(1.4144271570014144+(Math.pow(1.1,Qn-1.4144271570014144+1)-1)/(1.1-1)-1)},Gr=On=>{if(On.zoom<gt)return!0;if(On.zoom===Hn)return!1;if(On.shouldSplit!=null)return On.shouldSplit;const Rr=On.aabb.distanceX(Me),Qn=On.aabb.distanceY(Me);let xi=mr,Br=1;if(Y){xi=On.aabb.distanceZ(Me);const Bo=Math.pow(2,On.zoom),No=u.aS((On.y+1)/Bo),va=u.aS(On.y/Bo),os=Math.min(Math.max(B,No),va),Es=u.c9(os)/u.c9(B);if(Br=os===B?1/Math.max(1,this._mercatorScaleRatio-.3):Math.min(1,Es/this._mercatorScaleRatio),this.zoom<=u.c6&&On.zoom===Hn-1&&Es>=.9)return!0}else if(C&&(xi=On.aabb.distanceZ(Me)*xe),this.projection.isReprojectedInTileSpace&&p<=5){const Bo=Math.pow(2,On.zoom),No=It(new u.aa((On.x+.5)/Bo,(On.y+.5)/Bo));Br=No>.85?1:No}if(!E){const Bo=Math.sqrt(Rr*Rr+Qn*Qn+xi*xi);let No=(1<<Hn-On.zoom)*yt*Br;return No*=or(Math.max(xi,mr),Bo),Bo<No}let Or=Number.MAX_VALUE,ci=0;const vi=On.aabb.getCorners(),Gi=[];for(const Bo of vi){u.ab.vec3.sub(Gi,Bo,Me),Y||(C?Gi[2]*=xe:Gi[2]=mr);const No=u.ab.vec3.dot(Gi,this._camera.forward());No<Or&&(Or=No,ci=Math.abs(Gi[2]))}let Yi=(1<<Hn-On.zoom)*yt*Br;if(Yi*=or(Math.max(ci,mr),Or),Or<Yi)return!0;const ra=On.aabb.closestPoint(U);return ra[0]===U[0]&&ra[1]===U[1]};if(this.renderWorldCopies)for(let On=1;On<=3;On++)fn.push(zt(-On)),fn.push(zt(On));for(fn.push(zt(0));fn.length>0;){const On=fn.pop(),Rr=On.x,Qn=On.y;let xi=On.fullyVisible;const Br=()=>this.projection.name==="globe"&&(On.y===0||On.y===(1<<On.zoom)-1);if(!xi){let Or=qe?On.aabb.intersects(le):On.aabb.intersectsFlat(le);if(Or===0&&Br()){const ci=new u.bT(On.zoom,Rr,Qn);Or=u.bU(this,V,ci,!0).intersects(le)}if(Or===0)continue;xi=Or===2}if(On.zoom!==Hn&&Gr(On))for(let Or=0;Or<4;Or++){const ci=(Rr<<1)+Or%2,vi=(Qn<<1)+(Or>>1),Gi={aabb:E?On.aabb.quadrant(Or):u.bV(this,V,On.zoom+1,ci,vi,On.wrap,On.minZ,On.maxZ,this.projection),zoom:On.zoom+1,x:ci,y:vi,wrap:On.wrap,fullyVisible:xi,tileID:void 0,shouldSplit:void 0,minZ:On.minZ,maxZ:On.maxZ};C&&!Y&&(Gi.tileID=new u.aG(On.zoom+1===Hn?Er:On.zoom+1,On.wrap,On.zoom+1,ci,vi),Dn(Gi)),fn.push(Gi)}else{const Or=On.zoom===Hn?Er:On.zoom;if(r.minzoom&&r.minzoom>Or)continue;let ci=0;if(!xi){let ra=qe?On.aabb.intersectsPrecise(le):On.aabb.intersectsPreciseFlat(le);if(ra===0&&Br()){const Bo=new u.bT(On.zoom,Rr,Qn);ra=u.bU(this,V,Bo,!0).intersectsPrecise(le)}if(ra===0)continue;if(r.calculateQuadrantVisibility)if(le.containsPoint(On.aabb.center))ci=15;else for(let Bo=0;Bo<4;Bo++)On.aabb.quadrant(Bo).intersects(le)!==0&&(ci|=1<<Bo)}const vi=U[0]-(.5+Rr+(On.wrap<<On.zoom))*(1<<l-On.zoom),Gi=U[1]-.5-Qn,Yi=On.tileID?On.tileID:new u.aG(Or,On.wrap,On.zoom,Rr,Qn);r.calculateQuadrantVisibility&&(Yi.visibleQuadrants=ci),nr.push({tileID:Yi,distanceSq:vi*vi+Gi*Gi})}}if(this.fogCullDistSq){const On=this.fogCullDistSq,Rr=this.horizonLineFromTop();nr=nr.filter(Qn=>{const xi=[0,0,0,1],Br=[u.ag,u.ag,0,1],Or=this.calculateFogTileMatrix(Qn.tileID.toUnwrapped());u.ab.vec4.transformMat4(xi,xi,Or),u.ab.vec4.transformMat4(Br,Br,Or);const ci=u.ab.vec4.min([],xi,Br),vi=u.ab.vec4.max([],xi,Br),Gi=u.bW(ci,vi);if(Gi===0)return!0;let Yi=!1;const ra=this._elevation;if(ra&&Gi>On&&Rr!==0){const Bo=this.calculateProjMatrix(Qn.tileID.toUnwrapped());let No;r.isTerrainDEM||(No=ra.getMinMaxForTile(Qn.tileID)),No||(No={min:Mt,max:Nt});const va=u.c7(this.rotation),os=[va[0]*u.ag,va[1]*u.ag,No.max];u.ab.vec3.transformMat4(os,os,Bo),Yi=(1-os[1])*this.height*.5<Rr}return Gi<On||Yi})}return nr.sort((On,Rr)=>On.distanceSq-Rr.distanceSq).map(On=>On.tileID)}resize(r,l){this.width=r,this.height=l,this.pixelsToGLUnits=[2/r,-2/l],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(r){return Math.pow(2,r)}scaleZoom(r){return Math.log(r)/Math.LN2}project(r){const l=u.aw(r.lat,-u.bX,u.bX),p=this.projection.project(r.lng,l);return new u.P(p.x*this.worldSize,p.y*this.worldSize)}unproject(r){return this.projection.unproject(r.x/this.worldSize,r.y/this.worldSize)}get point(){return this.project(this.center)}get pointMerc(){return this.point._div(this.worldSize)}get pixelsPerMeterRatio(){return this.pixelsPerMeter/u.bH(1,this.center.lat)/this.worldSize}setLocationAtPoint(r,l){let p,b;const C=this.centerPoint;if(this.projection.name==="globe"){const R=this.worldSize;p=(l.x-C.x)/R,b=(l.y-C.y)/R}else{const R=this.pointCoordinate(l),B=this.pointCoordinate(C);p=R.x-B.x,b=R.y-B.y}const E=this.locationCoordinate(r);this.setLocation(new u.aa(E.x-p,E.y-b))}setLocation(r){this.center=this.coordinateLocation(r),this.projection.wrap&&(this.center=this.center.wrap())}locationPoint(r){return this.projection.locationPoint(this,r)}locationPoint3D(r){return this.projection.locationPoint(this,r,!0)}pointLocation(r){return this.coordinateLocation(this.pointCoordinate(r))}pointLocation3D(r){return this.coordinateLocation(this.pointCoordinate3D(r))}locationCoordinate(r,l){const p=l?u.bH(l,r.lat):void 0,b=this.projection.project(r.lng,r.lat);return new u.aa(b.x,b.y,p)}coordinateLocation(r){return this.projection.unproject(r.x,r.y)}pointRayIntersection(r,l){const p=l!=null?l:this._centerAltitude,b=[r.x,r.y,0,1],C=[r.x,r.y,1,1];u.ab.vec4.transformMat4(b,b,this.pixelMatrixInverse),u.ab.vec4.transformMat4(C,C,this.pixelMatrixInverse);const E=C[3];u.ab.vec4.scale(b,b,1/b[3]),u.ab.vec4.scale(C,C,1/E);const R=b[2],B=C[2];return{p0:b,p1:C,t:R===B?0:(p-R)/(B-R)}}screenPointToMercatorRay(r){const l=[r.x,r.y,0,1],p=[r.x,r.y,1,1];return u.ab.vec4.transformMat4(l,l,this.pixelMatrixInverse),u.ab.vec4.transformMat4(p,p,this.pixelMatrixInverse),u.ab.vec4.scale(l,l,1/l[3]),u.ab.vec4.scale(p,p,1/p[3]),l[2]=u.bH(l[2],this._center.lat)*this.worldSize,p[2]=u.bH(p[2],this._center.lat)*this.worldSize,u.ab.vec4.scale(l,l,1/this.worldSize),u.ab.vec4.scale(p,p,1/this.worldSize),new u.aq([l[0],l[1],l[2]],u.ab.vec3.normalize([],u.ab.vec3.sub([],p,l)))}rayIntersectionCoordinate(r){const{p0:l,p1:p,t:b}=r,C=u.bH(l[2],this._center.lat),E=u.bH(p[2],this._center.lat);return new u.aa(u.af(l[0],p[0],b)/this.worldSize,u.af(l[1],p[1],b)/this.worldSize,u.af(C,E,b))}pointCoordinate(r,l=this._centerAltitude){return this.projection.pointCoordinate(this,r.x,r.y,l)}pointCoordinate3D(r){if(!this.elevation)return this.pointCoordinate(r);let l=this.projection.pointCoordinate3D(this,r.x,r.y);if(l)return new u.aa(l[0],l[1],l[2]);let p=0,b=this.horizonLineFromTop();if(r.y>b)return this.pointCoordinate(r);const C=.02*b,E=r.clone();for(let R=0;R<10&&b-p>C;R++){E.y=u.af(p,b,.66);const B=this.projection.pointCoordinate3D(this,E.x,E.y);B?(b=E.y,l=B):p=E.y}return l?new u.aa(l[0],l[1],l[2]):this.pointCoordinate(r)}isPointAboveHorizon(r){return this.projection.isPointAboveHorizon(this,r)}isPointOnSurface(r){if(r.y<0||r.y>this.height||r.x<0||r.x>this.width)return!1;if(this.elevation||this.zoom>=u.bY)return!this.isPointAboveHorizon(r);const l=this.pointCoordinate(r);return l.y>=0&&l.y<=1}_coordinatePoint(r,l){const p=l&&this.elevation?this.elevation.getAtPointOrZero(r,this._centerAltitude):this._centerAltitude,b=[r.x*this.worldSize,r.y*this.worldSize,p+r.toAltitude(),1];return u.ab.vec4.transformMat4(b,b,this.pixelMatrix),b[3]>0?new u.P(b[0]/b[3],b[1]/b[3]):new u.P(Number.MAX_VALUE,Number.MAX_VALUE)}_getBoundsNonRectangular(){const{top:r,left:l}=this._edgeInsets,p=this.height-this._edgeInsets.bottom,b=this.width-this._edgeInsets.right,C=this.pointLocation3D(new u.P(l,r)),E=this.pointLocation3D(new u.P(b,r)),R=this.pointLocation3D(new u.P(b,p)),B=this.pointLocation3D(new u.P(l,p));let V=Math.min(C.lng,E.lng,R.lng,B.lng),U=Math.max(C.lng,E.lng,R.lng,B.lng),Y=Math.min(C.lat,E.lat,R.lat,B.lat),ee=Math.max(C.lat,E.lat,R.lat,B.lat);const le=Math.pow(2,-this.zoom)/16*270,Ee=this.projection.name==="globe"?1:4,xe=(Oe,Me,qe,yt,gt)=>{const Nt=(Oe+qe)/2,Mt=(Me+yt)/2,Dt=new u.P(Nt,Mt),{lng:It,lat:zt}=this.pointLocation3D(Dt),fn=Math.max(0,V-It,Y-zt,It-U,zt-ee);V=Math.min(V,It),U=Math.max(U,It),Y=Math.min(Y,zt),ee=Math.max(ee,zt),(gt<Ee||fn>le)&&(xe(Oe,Me,Nt,Mt,gt+1),xe(Nt,Mt,qe,yt,gt+1))};if(xe(l,r,b,r,1),xe(b,r,b,p,1),xe(b,p,l,p,1),xe(l,p,l,r,1),this.projection.name==="globe"){const[Oe,Me]=u.bZ(this);Oe?(ee=90,U=180,V=-180):Me&&(Y=-90,U=180,V=-180)}return new u.az(new u.bO(V,Y),new u.bO(U,ee))}_getBoundsRectangular(r,l){const{top:p,left:b}=this._edgeInsets,C=this.height-this._edgeInsets.bottom,E=this.width-this._edgeInsets.right,R=new u.P(b,p),B=new u.P(E,p),V=new u.P(E,C),U=new u.P(b,C);let Y=this.pointCoordinate(R,r),ee=this.pointCoordinate(B,r);const le=this.pointCoordinate(V,l),Ee=this.pointCoordinate(U,l),xe=(Oe,Me)=>(Me.y-Oe.y)/(Me.x-Oe.x);return Y.y>1&&ee.y>=0?Y=new u.aa((1-Ee.y)/xe(Ee,Y)+Ee.x,1):Y.y<0&&ee.y<=1&&(Y=new u.aa(-Ee.y/xe(Ee,Y)+Ee.x,0)),ee.y>1&&Y.y>=0?ee=new u.aa((1-le.y)/xe(le,ee)+le.x,1):ee.y<0&&Y.y<=1&&(ee=new u.aa(-le.y/xe(le,ee)+le.x,0)),new u.az().extend(this.coordinateLocation(Y)).extend(this.coordinateLocation(ee)).extend(this.coordinateLocation(Ee)).extend(this.coordinateLocation(le))}_getBoundsRectangularTerrain(){const r=this.elevation;if(!r.visibleDemTiles.length||r.isUsingMockSource())return this._getBoundsRectangular(0,0);const l=r.visibleDemTiles.reduce((p,b)=>{if(b.dem){const C=b.dem.tree;p.min=Math.min(p.min,C.minimums[0]),p.max=Math.max(p.max,C.maximums[0])}return p},{min:Number.MAX_VALUE,max:0});return this._getBoundsRectangular(l.min*r.exaggeration(),l.max*r.exaggeration())}getBounds(){return this.projection.name==="mercator"||this.projection.name==="equirectangular"?this._terrainEnabled()?this._getBoundsRectangularTerrain():this._getBoundsRectangular(0,0):this._getBoundsNonRectangular()}horizonLineFromTop(r=!0){const l=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))-this.centerOffset.y,p=this.height/2-l*(1-this._horizonShift);return r?Math.max(0,p):p}getMaxBounds(){return this.maxBounds}setMaxBounds(r){this.maxBounds=r,this.minLat=-u.bX,this.maxLat=u.bX,this.minLng=-180,this.maxLng=180,r&&(this.minLat=r.getSouth(),this.maxLat=r.getNorth(),this.minLng=r.getWest(),this.maxLng=r.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=u.at(this.minLng)*this.tileSize,this.worldMaxX=u.at(this.maxLng)*this.tileSize,this.worldMinY=u.aA(this.maxLat)*this.tileSize,this.worldMaxY=u.aA(this.minLat)*this.tileSize,this._constrain()}calculatePosMatrix(r,l){return this.projection.createTileMatrix(this,l,r)}calculateDistanceTileData(r){const l=r.key,p=this._distanceTileDataCache;if(p[l])return p[l];const b=r.canonical,C=1/this.height,E=this.cameraWorldSize,R=E/this.zoomScale(b.z),B=(b.x+Math.pow(2,b.z)*r.wrap)*R,V=b.y*R,U=this.point;U.x*=E/this.worldSize,U.y*=E/this.worldSize;const Y=this.angle,ee=Math.sin(-Y),le=-Math.cos(-Y);return p[l]={bearing:[ee,le],center:[(U.x-B)*C,(U.y-V)*C],scale:R/u.ag*C},p[l]}calculateFogTileMatrix(r){const l=r.key,p=this._fogTileMatrixCache;if(p[l])return p[l];const b=this.projection.createTileMatrix(this,this.cameraWorldSizeForFog,r);return u.ab.mat4.multiply(b,this.worldToFogMatrix,b),p[l]=new Float32Array(b),p[l]}calculateProjMatrix(r,l=!1,p=!1){const b=r.key;let C;if(C=p?this._expandedProjMatrixCache:l?this._alignedProjMatrixCache:this._projMatrixCache,C[b])return C[b];const E=this.calculatePosMatrix(r,this.worldSize);let R;return R=this.projection.isReprojectedInTileSpace?this.mercatorMatrix:p?this.expandedFarZProjMatrix:l?this.alignedProjMatrix:this.projMatrix,u.ab.mat4.multiply(E,R,E),C[b]=new Float32Array(E),C[b]}calculatePixelsToTileUnitsMatrix(r){const l=r.tileID.key,p=this._pixelsToTileUnitsCache;if(p[l])return p[l];const b=u.b_(r,this);return p[l]=b,p[l]}customLayerMatrix(){return this.mercatorMatrix.slice()}globeToMercatorMatrix(){if(this.projection.name==="globe"){const r=1/this.worldSize,l=u.ab.mat4.fromScaling([],[r,r,r]);return u.ab.mat4.multiply(l,l,this.globeMatrix),l}}recenterOnTerrain(){if(!this._elevation||this.projection.name==="globe")return;const r=this._elevation;this._updateCameraState();const l=u.bH(1,this._center.lat)*this.worldSize,p=this._computeCameraPosition(l),b=this._camera.forward(),C=u.bH(1,this._center.lat);p[2]/=C,b[2]/=C,u.ab.vec3.normalize(b,b);const E=r.raycast(p,b,r.exaggeration());if(E){const R=u.ab.vec3.scaleAndAdd([],p,b,E),B=new u.aa(R[0],R[1],u.bH(R[2],u.aS(R[1]))),V=(B.z+u.ab.vec3.length([B.x-p[0],B.y-p[1],B.z-p[2]*C]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ(V),this._centerAltitude=B.toAltitude(),this._center=this.coordinateLocation(B),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCamera(r=!1){if(!this._elevation)return;const l=this._elevation,p=u.bH(1,this._center.lat)*this.worldSize,b=this._computeCameraPosition(p),C=l.getAtPointOrZero(new u.aa(...b)),E=this.pixelsPerMeter/this.worldSize*C,R=this._minimumHeightOverTerrain(),B=b[2]-E;if(B<=R)if(B<0||r){const V=this.locationCoordinate(this._center,this._centerAltitude),U=[b[0],b[1],V.z-b[2]],Y=u.ab.vec3.length(U);U[2]-=(R-B)/this._pixelsPerMercatorPixel;const ee=u.ab.vec3.length(U);if(ee===0)return;u.ab.vec3.scale(U,U,Y/ee*this._pixelsPerMercatorPixel),this._camera.position=[b[0],b[1],V.z*this._pixelsPerMercatorPixel-U[2]],this._updateStateFromCamera()}else this._isCameraConstrained=!0}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const r=this.projection.name==="globe"||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||r){const ee=this.center;return ee.lat=u.aw(ee.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!r)&&(ee.lng=u.aw(ee.lng,this.minLng,this.maxLng)),this.center=ee,void(this._constraining=!1)}const l=this._unmodified,{x:p,y:b}=this.point;let C=0,E=p,R=b;const B=this.width/2,V=this.height/2,U=this.worldMinY*this.scale,Y=this.worldMaxY*this.scale;if(b-V<U&&(R=U+V),b+V>Y&&(R=Y-V),Y-U<this.height&&(C=Math.max(C,this.height/(Y-U)),R=(Y+U)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const ee=this.worldMinX*this.scale,le=this.worldMaxX*this.scale,Ee=this.worldSize/2-(ee+le)/2;E=(p+Ee+this.worldSize)%this.worldSize-Ee,E-B<ee&&(E=ee+B),E+B>le&&(E=le-B),le-ee<this.width&&(C=Math.max(C,this.width/(le-ee)),E=(le+ee)/2)}E===p&&R===b||(this.center=this.unproject(new u.P(E,R))),C&&(this.zoom+=this.scaleZoom(C)),this._constrainCamera(),this._unmodified=l,this._constraining=!1}_minZoomForBounds(){let r=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(r=Math.max(r,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),r}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const r=this.centerOffset,l=this.projection.name==="globe",p=this.pixelsPerMeter;this.projection.name==="globe"&&(this._mercatorScaleRatio=u.bH(1,this.center.lat)/u.bH(1,u.c8));const b=u.b$(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,b),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const C=this.projection.zAxisUnit==="meters"?p:1,E=this._camera.getWorldToCamera(this.worldSize,C);let R;const B=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);if(B[8]=2*-r.x/this.width,B[9]=2*r.y/this.height,this.isOrthographic){let zt=.5*this.height/Math.tan(this._fov/2)*1*Math.tan(.5*this._fov),fn=zt*this.aspect,nr=-fn,Hn=-zt;fn-=r.x,nr-=r.x,zt+=r.y,Hn+=r.y,R=this._camera.getCameraToClipOrthographic(nr,fn,Hn,zt,this._nearZ,this._farZ),((Er,mr,Dn,or)=>{for(let Gr=0;Gr<16;Gr++)Er[Gr]=Eu(mr[Gr],Dn[Gr],or)})(R,R,B,Iu(this.pitch>=15?1:this.pitch/15))}else R=B;const V=u.ab.mat4.mul([],B,E);let U=u.ab.mat4.mul([],R,E);if(this.projection.isReprojectedInTileSpace){const zt=this.locationCoordinate(this.center),fn=u.ab.mat4.identity([]);u.ab.mat4.translate(fn,fn,[zt.x*this.worldSize,zt.y*this.worldSize,0]),u.ab.mat4.multiply(fn,fn,u.c0(this)),u.ab.mat4.translate(fn,fn,[-zt.x*this.worldSize,-zt.y*this.worldSize,0]),u.ab.mat4.multiply(U,U,fn),u.ab.mat4.multiply(V,V,fn),this.inverseAdjustmentMatrix=u.c1(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];if(this.mercatorMatrix=u.ab.mat4.scale([],U,[this.worldSize,this.worldSize,this.worldSize/C,1]),this.projMatrix=U,this.invProjMatrix=u.ab.mat4.invert(new Float64Array(16),this.projMatrix),l){const zt=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,1/0);zt[8]=2*-r.x/this.width,zt[9]=2*r.y/this.height,this.expandedFarZProjMatrix=u.ab.mat4.mul([],zt,E)}else this.expandedFarZProjMatrix=this.projMatrix;const Y=u.ab.mat4.invert([],R);this.frustumCorners=u.c2.fromInvProjectionMatrix(Y,this.horizonLineFromTop(),this.height),this.cameraFrustum=u.bR.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,0,!l);const ee=new Float32Array(16);u.ab.mat4.identity(ee),u.ab.mat4.scale(ee,ee,[1,-1,1]),u.ab.mat4.rotateX(ee,ee,this._pitch),u.ab.mat4.rotateZ(ee,ee,this.angle);const le=u.ab.mat4.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ);this.starsProjMatrix=u.ab.mat4.clone(le);const Ee=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;le[8]=2*-r.x/this.width,le[9]=2*(r.y+Ee)/this.height,this.skyboxMatrix=u.ab.mat4.multiply(ee,le,ee);const xe=this.point,Oe=xe.x,Me=xe.y,qe=this.width%2/2,yt=this.height%2/2,gt=Math.cos(this.angle),Nt=Math.sin(this.angle),Mt=Oe-Math.round(Oe)+gt*qe+Nt*yt,Dt=Me-Math.round(Me)+gt*yt+Nt*qe,It=new Float64Array(U);if(u.ab.mat4.translate(It,It,[Mt>.5?Mt-1:Mt,Dt>.5?Dt-1:Dt,0]),this.alignedProjMatrix=It,U=u.ab.mat4.create(),u.ab.mat4.scale(U,U,[this.width/2,-this.height/2,1]),u.ab.mat4.translate(U,U,[1,-1,0]),this.labelPlaneMatrix=U,U=u.ab.mat4.create(),u.ab.mat4.scale(U,U,[1,-1,1]),u.ab.mat4.translate(U,U,[-1,-1,0]),u.ab.mat4.scale(U,U,[2/this.width,2/this.height,1]),this.glCoordMatrix=U,this.pixelMatrix=u.ab.mat4.multiply(new Float64Array(16),this.labelPlaneMatrix,V),this._calcFogMatrices(),this._distanceTileDataCache={},U=u.ab.mat4.invert(new Float64Array(16),this.pixelMatrix),!U)throw new Error("failed to invert matrix");if(this.pixelMatrixInverse=U,this.projection.name==="globe"||this.mercatorFromTransition){this.globeMatrix=u.c3(this);const zt=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=u.ab.vec3.transformMat4(zt,zt,E),this.globeRadius=this.worldSize/2/Math.PI-1}else this.globeMatrix=U;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={},this._expandedProjMatrixCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const r=this.cameraWorldSizeForFog,l=this.cameraPixelsPerMeter,p=this._camera.position,b=1/this.height/this._pixelsPerMercatorPixel,C=[r,r,l];u.ab.vec3.scale(C,C,b),u.ab.vec3.scale(p,p,-1),u.ab.vec3.multiply(p,p,C);const E=u.ab.mat4.create();u.ab.mat4.translate(E,E,p),u.ab.mat4.scale(E,E,C),this.mercatorFogMatrix=E,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(r,l,b)}_computeCameraPosition(r){const l=(r=r||this.pixelsPerMeter)/this.pixelsPerMeter,p=this._camera.forward(),b=this.point,C=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*l-r/this.worldSize*this._centerAltitude;return[b.x/this.worldSize-p[0]*C,b.y/this.worldSize-p[1]*C,r/this.worldSize*this._centerAltitude-p[2]*C]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}_translateCameraConstrained(r){const l=this._maxCameraBoundsDistance()*Math.cos(this._pitch),p=this._camera.position[2],b=r[2];let C=1;this.projection.wrap&&(this.center=this.center.wrap()),b>0&&(C=Math.min((l-p)/b,1)),this._camera.position=u.ab.vec3.scaleAndAdd([],this._camera.position,r,C),this._updateStateFromCamera()}_updateStateFromCamera(){const r=this._camera.position,l=this._camera.forward(),{pitch:p,bearing:b}=this._camera.getPitchBearing(),C=u.bH(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,E=this._mercatorZfromZoom(this._maxZoom)*Math.cos(u.ai(this._maxPitch)),R=Math.max((r[2]-C)/Math.cos(p),E),B=this._zoomFromMercatorZ(R);u.ab.vec3.scaleAndAdd(r,r,l,R),this._pitch=u.aw(p,u.ai(this.minPitch),u.ai(this.maxPitch)),this.angle=u.bF(b,-Math.PI,Math.PI),this._setZoom(u.aw(B,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new u.aa(r[0],r[1],r[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(r){return Math.pow(2,r)*this.tileSize}_mercatorZfromZoom(r){return this.cameraToCenterDistance/this._worldSizeFromZoom(r)}_minimumHeightOverTerrain(){const r=Math.min(this._seaLevelZoom!=null?this._seaLevelZoom:this._zoom,this._maxZoom)+4;return this._mercatorZfromZoom(r)}_zoomFromMercatorZ(r){return this.scaleZoom(this.cameraToCenterDistance/(r*this.tileSize))}zoomFromMercatorZAdjusted(r){let l=0,p=u.bY,b=0,C=1/0;for(;p-l>1e-6&&p>l;){const E=l+.5*(p-l),R=this.tileSize*Math.pow(2,E),B=this.getCameraToCenterDistance(this.projection,E,R),V=this.scaleZoom(B/(r*this.tileSize)),U=Math.abs(E-V);U<C&&(C=U,b=E),E<V?l=E:p=E}return b}_terrainEnabled(){return!(!this._elevation||!this.projection.supportsTerrain&&(u.w("Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain."),1))}anyCornerOffEdge(r,l){const p=Math.min(r.x,l.x),b=Math.max(r.x,l.x),C=Math.min(r.y,l.y),E=Math.max(r.y,l.y);if(C<this.horizonLineFromTop(!1))return!0;if(this.projection.name!=="mercator")return!1;const R=[new u.P(p,C),new u.P(b,E),new u.P(p,E),new u.P(b,C)],B=this.renderWorldCopies?-3:0,V=this.renderWorldCopies?4:1;for(const U of R){const Y=this.pointRayIntersection(U);if(Y.t<0)return!0;const ee=this.rayIntersectionCoordinate(Y);if(ee.x<B||ee.y<0||ee.x>V||ee.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+u.c4(this.fovAboveCenter)>88||this.anyCornerOffEdge(new u.P(0,0),new u.P(this.width,this.height))}zoomDeltaToMovement(r,l){const p=u.ab.vec3.length(u.ab.vec3.sub([],this._camera.position,r)),b=this._zoomFromMercatorZ(p)+l;return p-this._mercatorZfromZoom(b)}getCameraPoint(){if(this.projection.name==="globe"){const r=function([l,p,b],C){const E=[l,p,b,1];u.ab.vec4.transformMat4(E,E,C);const R=E[3]=Math.max(E[3],1e-6);return E[0]/=R,E[1]/=R,E[2]/=R,E}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new u.P(r[0],r[1])}{const r=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new u.P(0,r))}}getCameraToCenterDistance(r,l=this.zoom,p=this.worldSize){const b=u.b$(r,l,this.width,this.height,1024),C=r.pixelSpaceConversion(this.center.lat,p,b);let E=.5/Math.tan(.5*this._fov)*this.height*C;return this.isOrthographic&&(E=Eu(1,E,Iu(this.pitch>=15?1:this.pitch/15))),E}getWorldToCameraMatrix(){const r=this._camera.getWorldToCamera(this.worldSize,this.projection.zAxisUnit==="meters"?this.pixelsPerMeter:1);return this.projection.name==="globe"&&u.ab.mat4.multiply(r,r,this.globeMatrix),r}getFrustum(r){return u.bR.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,r,this.projection.zAxisUnit==="meters")}}const Gt=(m,r)=>{if(r>0&&m.terrain&&u.w("Cutoff is currently disabled on terrain"),r<=0||m.terrain)return{shouldRenderCutoff:!1,uniformValues:{u_cutoff_params:[0,0,0,1]}};const l=m.transform,p=Math.max(Math.abs(l._zoom-(m.minCutoffZoom-1)),1),b=l.isLODDisabled(!1)?u.ac(60,45,l.pitch):u.ac(30,15,l.pitch),C=l._farZ-l._nearZ,E=r*l.height,R=((1-(B=b))*l.cameraToCenterDistance+B*(l._farZ+E))*p;var B;return{shouldRenderCutoff:b<1,uniformValues:{u_cutoff_params:[l._nearZ,l._farZ,(R-l._nearZ)/C,(R-E-l._nearZ)/C]}}},An={cascadeCount:2,normalOffset:3,shadowMapResolution:2048};class jn{constructor(r,l){this.aabb=r,this.lastCascade=l}}class tr{add(r,l){const p=this.receivers[r.key];p!==void 0?(p.aabb.min[0]=Math.min(p.aabb.min[0],l.min[0]),p.aabb.min[1]=Math.min(p.aabb.min[1],l.min[1]),p.aabb.min[2]=Math.min(p.aabb.min[2],l.min[2]),p.aabb.max[0]=Math.max(p.aabb.max[0],l.max[0]),p.aabb.max[1]=Math.max(p.aabb.max[1],l.max[1]),p.aabb.max[2]=Math.max(p.aabb.max[2],l.max[2])):this.receivers[r.key]=new jn(l,null)}clear(){this.receivers={}}get(r){return this.receivers[r.key]}computeRequiredCascades(r,l,p){const b=u.cd.fromPoints(r.points);let C=0;for(const E in this.receivers){const R=this.receivers[E];if(!R||!b.intersectsAabb(R.aabb))continue;R.aabb.min=b.closestPoint(R.aabb.min),R.aabb.max=b.closestPoint(R.aabb.max);const B=R.aabb.getCorners();for(let V=0;V<p.length;V++){let U=!0;for(const Y of B){const ee=[Y[0]*l,Y[1]*l,Y[2]];if(u.ab.vec3.transformMat4(ee,ee,p[V].matrix),ee[0]<-1||ee[0]>1||ee[1]<-1||ee[1]>1){U=!1;break}}if(R.lastCascade=V,C=Math.max(C,V),U)break}}return C+1}}class Lr{constructor(r){this.painter=r,this._enabled=!1,this._shadowLayerCount=0,this._numCascadesToRender=0,this._cascades=[],this._groundShadowTiles=[],this._receivers=new tr,this._depthMode=new To(r.context.gl.LEQUAL,To.ReadWrite,[0,1]),this._uniformValues={u_light_matrix_0:new Float32Array(16),u_light_matrix_1:new Float32Array(16),u_shadow_intensity:0,u_fade_range:[0,0],u_shadow_normal_offset:[1,1,1],u_shadow_texel_size:1,u_shadow_map_resolution:1,u_shadow_direction:[0,0,1],u_shadow_bias:[36e-5,.0012,.012],u_shadowmap_0:0,u_shadowmap_1:0},this._forceDisable=!1,this.useNormalOffset=!1,r.tp.registerParameter(this,["Shadows"],"_forceDisable",{label:"forceDisable"},()=>{this.painter.style.map.triggerRepaint()}),r.tp.registerParameter(An,["Shadows"],"cascadeCount",{min:1,max:2,step:1}),r.tp.registerParameter(An,["Shadows"],"normalOffset",{min:0,max:10,step:.05}),r.tp.registerParameter(An,["Shadows"],"shadowMapResolution",{min:32,max:2048,step:32}),r.tp.registerBinding(this,["Shadows"],"_numCascadesToRender",{readonly:!0,label:"numCascadesToRender"})}destroy(){for(const r of this._cascades)r.texture.destroy(),r.framebuffer.destroy();this._cascades=[]}updateShadowParameters(r,l){const p=this.painter;if(this._enabled=!1,this._shadowLayerCount=0,this._receivers.clear(),!l||!l.properties)return;const b=l.properties.get("shadow-intensity");if(!l.shadowsEnabled()||b<=0||(this._shadowLayerCount=p.style.order.reduce((Ee,xe)=>{const Oe=p.style._mergedLayers[xe];return Ee+(Oe.hasShadowPass()&&!Oe.isHidden(r.zoom)?1:0)},0),this._enabled=this._shadowLayerCount>0,!this.enabled))return;const C=p.context,E=An.shadowMapResolution,R=An.shadowMapResolution;if(this._cascades.length===0||An.shadowMapResolution!==this._cascades[0].texture.size[0]){this._cascades=[];for(let Ee=0;Ee<An.cascadeCount;++Ee){const xe=p._shadowMapDebug,Oe=C.gl,Me=C.createFramebuffer(E,R,xe,"texture"),qe=new u.T(C,{width:E,height:R,data:null},Oe.DEPTH_COMPONENT16);if(Me.depthAttachment.set(qe.texture),xe){const yt=new u.T(C,{width:E,height:R,data:null},Oe.RGBA8);Me.colorAttachment.set(yt.texture)}this._cascades.push({framebuffer:Me,texture:qe,matrix:[],far:0,boundingSphereRadius:0,frustum:new u.bR,scale:0})}}this.shadowDirection=ao(l);let B=0;if(r.elevation){const Ee=r.elevation,xe=[1e4,-1e4];Ee.visibleDemTiles.filter(Oe=>Oe.dem).forEach(Oe=>{const Me=Oe.dem.tree;xe[0]=Math.min(xe[0],Me.minimums[0]),xe[1]=Math.max(xe[1],Me.maximums[0])}),xe[0]!==1e4&&(B=(xe[1]-xe[0])*Ee.exaggeration())}const V=1.5*r.cameraToCenterDistance,U=3*V,Y=new Float64Array(16);for(let Ee=0;Ee<this._cascades.length;++Ee){const xe=this._cascades[Ee];let Oe=r.height/50,Me=1;An.cascadeCount===1?Me=U:Ee===0?Me=V:(Oe=V,Me=U);const[qe,yt]=mo(r,this.shadowDirection,Oe,Me,An.shadowMapResolution,B);xe.scale=r.scale,xe.matrix=qe,xe.boundingSphereRadius=yt,u.ab.mat4.invert(Y,xe.matrix),xe.frustum=u.bR.fromInvProjectionMatrix(Y,1,0,!0),xe.far=Me}const ee=this._cascades.length-1;this._uniformValues.u_fade_range=[.75*this._cascades[ee].far,this._cascades[ee].far],this._uniformValues.u_shadow_intensity=b,this._uniformValues.u_shadow_direction=[this.shadowDirection[0],this.shadowDirection[1],this.shadowDirection[2]],this._uniformValues.u_shadow_texel_size=1/An.shadowMapResolution,this._uniformValues.u_shadow_map_resolution=An.shadowMapResolution,this._uniformValues.u_shadowmap_0=ll.ShadowMap0,this._uniformValues.u_shadowmap_1=ll.ShadowMap0+1,this._groundShadowTiles=p.transform.coveringTiles({tileSize:512,renderWorldCopies:!0});const le=p.transform.elevation;for(const Ee of this._groundShadowTiles){let xe={min:0,max:0};if(le){const Oe=le.getMinMaxForTile(Ee);Oe&&(xe=Oe)}this.addShadowReceiver(Ee.toUnwrapped(),xe.min,xe.max)}}get enabled(){return this._enabled&&!this._forceDisable}set enabled(r){this._enabled=r}drawShadowPass(r,l){if(!this.enabled)return;const p=this.painter,b=p.context;this._numCascadesToRender=this._receivers.computeRequiredCascades(p.transform.getFrustum(0),p.transform.worldSize,this._cascades),b.viewport.set([0,0,An.shadowMapResolution,An.shadowMapResolution]);for(let C=0;C<this._numCascadesToRender;++C){p.currentShadowCascade=C,b.bindFramebuffer.set(this._cascades[C].framebuffer.framebuffer),b.clear({color:u.aj.white,depth:1});for(const E of r.order){const R=r._mergedLayers[E];if(!R.hasShadowPass()||R.isHidden(p.transform.zoom))continue;const B=r.getLayerSourceCache(R),V=B?l[B.id]:void 0;(R.type==="model"||V&&V.length)&&p.renderLayer(p,B,R,V)}}p.currentShadowCascade=0}drawGroundShadows(){if(!this.enabled)return;const r=this.painter,l=r.style,p=r.context,b=l.directionalLight,C=l.ambientLight;if(!b||!C)return;const E=[],R=Gt(r,r.longestCutoffRange);R.shouldRenderCutoff&&E.push("RENDER_CUTOFF"),E.push("RENDER_SHADOWS","DEPTH_TEXTURE"),this.useNormalOffset&&E.push("NORMAL_OFFSET");const B=Li(l,b,C),V=new To(p.gl.LEQUAL,To.ReadOnly,r.depthRangeFor3D);for(const U of this._groundShadowTiles){const Y=U.toUnwrapped(),ee=r.isTileAffectedByFog(U),le=r.getOrCreateProgram("groundShadow",{defines:E,overrideFog:ee});this.setupShadows(Y,le),r.uploadCommonUniforms(p,le,Y,null,R);const Ee={u_matrix:r.transform.calculateProjMatrix(Y),u_ground_shadow_factor:B};le.draw(r,p.gl.TRIANGLES,V,Zo.disabled,sa.multiply,ea.disabled,Ee,"ground_shadow",r.tileExtentBuffer,r.quadTriangleIndexBuffer,r.tileExtentSegments,{},r.transform.zoom,null,null)}}getShadowPassColorMode(){return this.painter._shadowMapDebug?sa.unblended:sa.disabled}getShadowPassDepthMode(){return this._depthMode}getShadowCastingLayerCount(){return this._shadowLayerCount}calculateShadowPassMatrixFromTile(r){const l=this.painter.transform,p=l.calculatePosMatrix(r,l.worldSize);return u.ab.mat4.multiply(p,this._cascades[this.painter.currentShadowCascade].matrix,p),Float32Array.from(p)}calculateShadowPassMatrixFromMatrix(r){return u.ab.mat4.multiply(r,this._cascades[this.painter.currentShadowCascade].matrix,r),Float32Array.from(r)}setupShadows(r,l,p,b=0){if(!this.enabled)return;const C=this.painter.transform,E=this.painter.context,R=E.gl,B=this._uniformValues,V=new Float64Array(16),U=C.calculatePosMatrix(r,C.worldSize);for(let Y=0;Y<this._cascades.length;Y++)u.ab.mat4.multiply(V,this._cascades[Y].matrix,U),B[Y===0?"u_light_matrix_0":"u_light_matrix_1"]=Float32Array.from(V),E.activeTexture.set(R.TEXTURE0+ll.ShadowMap0+Y),this._cascades[Y].texture.bind(R.NEAREST,R.CLAMP_TO_EDGE);if(this.useNormalOffset=!!p,this.useNormalOffset){const Y=u.cc(r.canonical),ee=2/C.tileSize*u.ag/An.shadowMapResolution,le=ee*this._cascades[0].boundingSphereRadius,Ee=ee*this._cascades[this._cascades.length-1].boundingSphereRadius,xe=(p==="vector-tile"?1:3)/Math.pow(2,b-r.canonical.z-(1-C.zoom+Math.floor(C.zoom)));B.u_shadow_normal_offset=[Y,le*xe,Ee*xe],B.u_shadow_bias=[6e-5,.0012,.012]}else B.u_shadow_bias=[36e-5,.0012,.012];l.setShadowUniformValues(E,B)}setupShadowsFromMatrix(r,l,p=!1){if(!this.enabled)return;const b=this.painter.context,C=b.gl,E=this._uniformValues,R=new Float64Array(16);for(let B=0;B<An.cascadeCount;B++)u.ab.mat4.multiply(R,this._cascades[B].matrix,r),E[B===0?"u_light_matrix_0":"u_light_matrix_1"]=Float32Array.from(R),b.activeTexture.set(C.TEXTURE0+ll.ShadowMap0+B),this._cascades[B].texture.bind(C.NEAREST,C.CLAMP_TO_EDGE);if(this.useNormalOffset=p,p){const B=An.normalOffset;E.u_shadow_normal_offset=[1,B,B],E.u_shadow_bias=[6e-5,.0012,.012]}else E.u_shadow_bias=[36e-5,.0012,.012];l.setShadowUniformValues(b,E)}getShadowUniformValues(){return this._uniformValues}getCurrentCascadeFrustum(){return this._cascades[this.painter.currentShadowCascade].frustum}computeSimplifiedTileShadowVolume(r,l,p,b){if(b[2]>=0)return{};const C=function(B,V,U){const Y=U/(1<<B.canonical.z);return new u.cd([B.canonical.x*Y+B.wrap*U,B.canonical.y*Y+B.wrap*U,0],[(B.canonical.x+1)*Y+B.wrap*U,(B.canonical.y+1)*Y+B.wrap*U,V])}(r,l,p).getCorners(),E=l/-b[2];b[0]<0?(u.ab.vec3.add(C[0],C[0],[b[0]*E,0,0]),u.ab.vec3.add(C[3],C[3],[b[0]*E,0,0])):b[0]>0&&(u.ab.vec3.add(C[1],C[1],[b[0]*E,0,0]),u.ab.vec3.add(C[2],C[2],[b[0]*E,0,0])),b[1]<0?(u.ab.vec3.add(C[0],C[0],[0,b[1]*E,0]),u.ab.vec3.add(C[1],C[1],[0,b[1]*E,0])):b[1]>0&&(u.ab.vec3.add(C[2],C[2],[0,b[1]*E,0]),u.ab.vec3.add(C[3],C[3],[0,b[1]*E,0]));const R={};return R.vertices=C,R.planes=[Fi(C[1],C[0],C[4]),Fi(C[2],C[1],C[5]),Fi(C[3],C[2],C[6]),Fi(C[0],C[3],C[7])],R}addShadowReceiver(r,l,p){this._receivers.add(r,u.cd.fromTileIdAndHeight(r,l,p))}getMaxCascadeForTile(r){const l=this._receivers.get(r);return l&&l.lastCascade?l.lastCascade:0}}function Fi(m,r,l){const p=u.ab.vec3.sub([],l,r),b=u.ab.vec3.sub([],m,r),C=u.ab.vec3.cross([],p,b),E=u.ab.vec3.length(C);return E===0?[0,0,1,0]:(u.ab.vec3.scale(C,C,1/E),[C[0],C[1],C[2],-u.ab.vec3.dot(C,r)])}function ao(m){const r=m.properties.get("direction"),l=u.cb(r.x,r.y,r.z);l[2]=u.aw(l[2],0,75);const p=u.ce([l[0],l[1],l[2]]);return u.ab.vec3.fromValues(p.x,p.y,p.z)}function Li(m,r,l){const p=r.properties.get("color-use-theme")==="none",b=r.properties.get("color"),C=r.properties.get("intensity"),E=r.properties.get("direction"),R=[E.x,E.y,E.z],B=l.properties.get("color-use-theme")==="none",V=l.properties.get("color"),U=l.properties.get("intensity"),Y=Math.max(u.ab.vec3.dot([0,0,1],R),0),ee=[0,0,0];u.ab.vec3.scale(ee,V.toRenderColor(B?null:m.getLut(r.scope)).toArray01Linear().slice(0,3),U);const le=[0,0,0];return u.ab.vec3.scale(le,b.toRenderColor(p?null:m.getLut(l.scope)).toArray01Linear().slice(0,3),Y*C),u.cf([ee[0]>0?ee[0]/(ee[0]+le[0]):0,ee[1]>0?ee[1]/(ee[1]+le[1]):0,ee[2]>0?ee[2]/(ee[2]+le[2]):0])}function mo(m,r,l,p,b,C){const E=m.zoom,R=m.scale,B=m.worldSize,V=1/B,U=m.aspect,Y=Math.sqrt(1+U*U)*Math.tan(.5*m.fovX),ee=Y*Y,le=p-l,Ee=p+l;let xe,Oe;ee>le/Ee?(xe=p,Oe=p*Y):(xe=.5*Ee*(1+ee),Oe=.5*Math.sqrt(le*le+2*(p*p+l*l)*ee+Ee*Ee*ee*ee));const Me=m.projection.pixelsPerMeter(m.center.lat,B),qe=m._camera.getCameraToWorldMercator(),yt=[0,0,-xe*V];u.ab.vec3.transformMat4(yt,yt,qe);let gt=Oe*V;const Nt=m._edgeInsets;if(!(Nt.left===0&&Nt.top===0&&Nt.right===0&&Nt.bottom===0||Nt.left===Nt.right&&Nt.top===Nt.bottom)){const xi=m._camera.getWorldToCamera(m.worldSize,m.projection.zAxisUnit==="meters"?Me:1),Br=m._camera.getCameraToClipPerspective(m._fov,m.width/m.height,l,p);Br[8]=2*-m.centerOffset.x/m.width,Br[9]=2*m.centerOffset.y/m.height;const Or=new Float64Array(16);u.ab.mat4.mul(Or,Br,xi);const ci=new Float64Array(16);u.ab.mat4.invert(ci,Or);const vi=u.bR.fromInvProjectionMatrix(ci,B,E,!0);for(const Gi of vi.points){const Yi=((Mt=Gi)[0]/=R,Mt[1]/=R,Mt[2]=u.bH(Mt[2],m._center.lat),Mt);gt=Math.max(gt,u.ab.vec3.len(u.ab.vec3.subtract([],yt,Yi)))}}var Mt;gt*=b/(b-1);const Dt=Math.acos(r[2]),It=Math.atan2(-r[0],-r[1]),zt=new Kl;zt.position=yt,zt.setPitchBearing(Dt,It);const fn=zt.getWorldToCamera(B,Me),nr=gt*B,Hn=Math.min(m._mercatorZfromZoom(17)*B*-2,-2*nr),Er=zt.getCameraToClipOrthographic(-nr,nr,-nr,nr,Hn,(nr+C*Me)/r[2]),mr=new Float64Array(16);u.ab.mat4.multiply(mr,Er,fn);const Dn=u.ab.vec3.fromValues(Math.floor(1e6*yt[0])/1e6*B,Math.floor(1e6*yt[1])/1e6*B,0),or=.5*b,Gr=[0,0,0];u.ab.vec3.transformMat4(Gr,Dn,mr),u.ab.vec3.scale(Gr,Gr,or);const On=[Math.floor(Gr[0]),Math.floor(Gr[1]),Math.floor(Gr[2])],Rr=[0,0,0];u.ab.vec3.sub(Rr,Gr,On),u.ab.vec3.scale(Rr,Rr,-1/or);const Qn=new Float64Array(16);return u.ab.mat4.identity(Qn),u.ab.mat4.translate(Qn,Qn,Rr),u.ab.mat4.multiply(mr,Qn,mr),[mr,nr]}class Hi extends u.E{constructor(r){super(),this.requestManager=r,this.models={"":{}},this.modelUris={"":{}},this.numModelsLoading={}}loadModel(r,l){return u.aM(this.requestManager.transformRequest(l,u.R.Model).url).then(p=>{if(!p)return;const b=u.aN(p),C=new u.aO(r,void 0,void 0,b);return C.computeBoundsAndApplyParent(),C}).catch(p=>{if(p&&p.status===404)return null;this.fire(new u.y(new Error(`Could not load model ${r} from ${l}: ${p.message}`)))})}load(r,l,p={keepNumReferences:!1}){this.models[l]||(this.models[l]={});const b=Object.keys(r);this.numModelsLoading[l]=(this.numModelsLoading[l]||0)+b.length;const C=[];for(const E of b)C.push(this.loadModel(E,r[E]));Promise.allSettled(C).then(E=>{for(let R=0;R<E.length;R++){const{status:B,value:V}=E[R];if(B==="fulfilled"&&V){const U=this.models[l][b[R]];this.models[l][b[R]]={model:V,numReferences:p.keepNumReferences&&U?U.numReferences:1}}}this.numModelsLoading[l]-=b.length,this.fire(new u.z("data",{dataType:"style"}))}).catch(E=>{this.fire(new u.y(new Error(`Could not load models: ${E.message}`)))})}isLoaded(){for(const r in this.numModelsLoading)if(this.numModelsLoading[r]>0)return!1;return!0}hasModel(r,l){return!!this.getModel(r,l)}getModel(r,l){return this.models[l]||(this.models[l]={}),this.models[l][r]?this.models[l][r].model:void 0}addModel(r,l,p){this.models[p]||(this.models[p]={}),this.modelUris[p]||(this.modelUris[p]={}),this.hasModel(r,p)&&this.models[p][r].numReferences++,this.modelUris[p][r]=this.requestManager.normalizeModelURL(l),this.load({[r]:this.modelUris[p][r]},p)}addModels(r,l){this.models[l]||(this.models[l]={}),this.modelUris[l]||(this.modelUris[l]={});const p=this.modelUris[l];for(const b in r)this.models[l][b]={},p[b]=this.requestManager.normalizeModelURL(r[b]);this.load(p,l,{keepNumReferences:!0})}reloadModels(r){this.load(this.modelUris[r],r)}addModelsFromBucket(r,l){this.models[l]||(this.models[l]={}),this.modelUris[l]||(this.modelUris[l]={});const p={};for(const b of r)this.hasModel(b,l)?this.models[l][b].numReferences++:(this.modelUris[l][b]=this.requestManager.normalizeModelURL(b),p[b]=this.modelUris[l][b]);this.load(p,l)}removeModel(r,l){if(this.models[l]&&this.models[l][r]&&(this.models[l][r].numReferences--,this.models[l][r].numReferences===0)){const p=this.models[l][r].model;delete this.models[l][r],delete this.modelUris[l][r],p.destroy()}}listModels(r){return this.models[r]||(this.models[r]={}),Object.keys(this.models[r])}upload(r,l){this.models[l]||(this.models[l]={});for(const p in this.models[l])this.models[l][p].model&&this.models[l][p].model.upload(r.context)}}const ki=new u.a5({data:new u.a6(u.a3.colorTheme.data)}),Fo={"mbx-indoor-active-floorplans":{default:["literal",[]]},"mbx-indoor-underground":{default:["literal",!1]},"mbx-indoor-loaded-levels":{default:["literal",[]]},"mbx-indoor-level-height":{default:["literal",{}]},"mbx-indoor-level-base":{default:["literal",{}]},"mbx-indoor-level-selected":{default:["literal",{}]},"mbx-indoor-level-overlapped":{default:["literal",{}]}};function fo(m){return m=m||{},Object.assign(m,Fo)}class Xo extends u.E{constructor(r){super(),this.mergeFloors=!0,this._scope=void 0,this._queryFeatureSetId=void 0,this._buildingEntryFeatureSetId=void 0,this._selectedFloorplan=void 0,this._indoorData=void 0,this._selectedLevel=void 0,this._floorplanStates={},u.aP(["_onLoad","_onMove","_checkFloorplanVisible"],this),this._map=r,this._checkFloorplanVisible(!0),this._map.on("load",this._onLoad),this._map.on("move",this._onMove)}destroy(){this._map.indoor.off("load",this._onLoad),this._map.indoor.off("move",this._onMove),this._map=void 0}_onLoad(){this._map.style.forEachFragmentStyle(r=>{r.stylesheet.indoor&&(this._queryFeatureSetId?this.fire(new u.y(new Error("Multiple indoor map styles detected, simultaneous usage is not allowed currently."))):(this._queryFeatureSetId=r.stylesheet.indoor.floorplanFeaturesetId,this._buildingEntryFeatureSetId=r.stylesheet.indoor.buildingFeaturesetId,this._scope=r.scope))}),this._queryFeatureSetId&&this._buildingEntryFeatureSetId&&this._map.addInteraction("mbx-indoor-buildingclick",{type:"click",target:{featuresetId:this._buildingEntryFeatureSetId,importId:this._scope},handler:r=>(r.feature&&r.feature.properties.floorplan&&this.selectFloorplan(r.feature.properties.floorplan),!0)}),this._checkFloorplanVisible(!0)}_onMove(){this._checkFloorplanVisible(!1)}_checkFloorplanVisible(r){if(!this._queryFeatureSetId||!this._map.isStyleLoaded()||this._map.transform.zoom<13)return;this._indoorData&&!function(E,R){const[B,V]=E,{center:U,radius:Y}=R,[ee,le]=U,Ee=Math.abs(B-ee);return Math.sqrt(zb(Ee>180?360-Ee:Ee,2)+zb(V-le,2))<=Y}([this._map.getCenter().lng,this._map.getCenter().lat],this._indoorData.circumCircle)&&(this._indoorData=void 0,this._selectedFloorplan=void 0,this._map.setConfigProperty(this._scope,"mbx-indoor-underground",!1),this._map.setConfigProperty(this._scope,"mbx-indoor-active-floorplans",["literal",[]]),this.fire(new u.z("floorplangone")));const l={target:{featuresetId:this._queryFeatureSetId,importId:this._scope}},p=new u.P(this._map.transform.width/2,this._map.transform.height/2),b=[new u.P(0,0),new u.P(this._map.transform.width,this._map.transform.height)],C=this._map.queryRenderedFeatures(r?b:p,l);C.length>0&&(this._selectedFloorplan&&C[0].properties.id===this._selectedFloorplan.properties.id||(this._selectedFloorplan=C[0],this._floorplanSelected(!1)))}_floorplanSelected(r){this._indoorData=JSON.parse(this._selectedFloorplan.properties["indoor-data"]),this._indoorData.id=this._selectedFloorplan.properties.id,this._indoorData.circumCircle=function(C){const[[E,R],[B,V]]=C,U=(B-E+360)%360,Y=U>180?360-U:U;return{center:[(E+Y/2+360)%360,(R+V)/2],radius:Math.sqrt(zb(Y,2)+zb(V-R,2))/2}}(this._indoorData.extent),this._floorplanStates[this._indoorData.id]||(this._floorplanStates[this._indoorData.id]={});const l=this._floorplanStates[this._indoorData.id].selectedBuilding,p=this._floorplanStates[this._indoorData.id].selectedLevel;let b;if(this._map.setConfigProperty(this._scope,"mbx-indoor-active-floorplans",this._indoorData.floorplanIDs),this._selectedLevel)for(const C of this._indoorData.levels)C.id===this._selectedLevel.id&&(b=C.id);if(this.fire(new u.z("floorplanselected",{buildings:this._indoorData.buildings,levels:this._indoorData.levels,selectedLevelId:b})),l){const C=this._indoorData.buildings.find(E=>E.id===l);this._buildingSelected(C,!1)}else this._indoorData.buildings.length>0&&this._buildingSelected(this._indoorData.buildings[0],!1);if(p){const C=this._indoorData.levels.find(E=>E.id===p);this._updateLevels(C,r)}else r&&this._indoorData["default-levels"].length>0&&this.selectLevel(this._indoorData["default-levels"][0])}_buildingSelected(r,l){l&&r&&r.extent&&this._map.fitBounds(r.extent,{pitch:this._map.getPitch(),bearing:this._map.getBearing()}),this._floorplanStates[this._indoorData.id].selectedBuilding=r?r.id:void 0;const p=this._indoorData.levels.filter(b=>r.levels.includes(b.id));this.fire(new u.z("buildingselected",{buildingId:r.id,levels:p}))}_levelSelected(r){if(r==="overview")this._updateLevels(void 0,!0);else{const l=this._indoorData.levels.find(p=>p.id===r);this._updateLevels(l,!0)}this.fire(new u.z("levelselected",{levelId:r==="overview"?void 0:r}))}_updateLevels(r,l){if(!r)return this._map.setConfigProperty(this._scope,"mbx-indoor-loaded-levels",["literal",[]]),this._map.setConfigProperty(this._scope,"mbx-indoor-underground",!1),this._floorplanStates[this._indoorData.id].selectedLevel=void 0,void(l&&this._indoorData.extent&&this._map.fitBounds(this._indoorData.extent,{pitch:this._map.getPitch(),bearing:this._map.getBearing()}));function p(V){const U=V.indexOf("/floor/");if(U===-1)return V;const Y=U+7,ee=V.indexOf("/",Y);return ee===-1?V.slice(Y):V.slice(Y,ee)}this._selectedLevel=r,this._floorplanStates[this._indoorData.id].selectedLevel=r?r.id:void 0;const b=[],C={},E={},R={},B={};for(const V of this._indoorData.levels)if(b.push(V.id),C[V.id]=V.height,E[V.id]=V.base,r){if(this.mergeFloors){const U=p(r.id),Y=p(V.id);R[V.id]=Y===U?"true":"false"}else R[V.id]=V.id===r.id?"true":"false";B[V.id]=V.base<r.base?"true":"false"}else B[V.id]=!0;if(this._map.setConfigProperty(this._scope,"mbx-indoor-loaded-levels",["literal",b]),this._map.setConfigProperty(this._scope,"mbx-indoor-level-height",["literal",C]),this._map.setConfigProperty(this._scope,"mbx-indoor-level-base",["literal",E]),this._map.setConfigProperty(this._scope,"mbx-indoor-level-selected",["literal",R]),this._map.setConfigProperty(this._scope,"mbx-indoor-level-overlapped",["literal",B]),r&&(this._map.setConfigProperty(this._scope,"mbx-indoor-underground",!!r.isUnderground),l&&r.extent)){const V=this._map.cameraForBounds(r.extent,{pitch:this._map.getPitch(),bearing:this._map.getBearing()}),U=this._map.getZoom(),Y=V.zoom?Math.abs(U-V.zoom):0;this._map.fitBounds(r.extent,Y>=1?{pitch:this._map.getPitch(),bearing:this._map.getBearing()}:{pitch:this._map.getPitch(),bearing:this._map.getBearing(),zoom:U})}}selectFloorplan(r){const l={target:{featuresetId:this._queryFeatureSetId,importId:this._scope}},p=[new u.P(0,0),new u.P(this._map.transform.width,this._map.transform.height)],b=this._map.queryRenderedFeatures(p,l);if(b.length>0){for(const C of b)if(JSON.parse(C.properties["indoor-data"]).floorplanIDs.includes(r)){this._selectedFloorplan=C,this._floorplanSelected(!0);break}}}selectBuilding(r){const l=this._indoorData.buildings.find(p=>p.id===r);this._buildingSelected(l,!0)}selectLevel(r){this._levelSelected(r)}}function Ga(m){if(!m.metadata||!m.metadata.content_area)return;const r=u.q.devicePixelRatio,{left:l,top:p,width:b,height:C}=m.metadata.content_area,E=l*r,R=p*r;return[E,R,E+b*r,R+C*r]}function la(m){if(m)return m.map(([r,l])=>[r*u.q.devicePixelRatio,l*u.q.devicePixelRatio])}const Pa=(m,r)=>io(m,r&&r.filter(l=>l.identifier!=="source.canvas")),es=u.ay(Vi,["addLayer","removeLayer","setLights","setPaintProperty","setLayoutProperty","setSlot","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setSnow","setRain","setProjection","setCamera","addImport","removeImport","updateImport"]),Ia=u.ay(Vi,["setCenter","setZoom","setBearing","setPitch"]),Ja=new Set(["background","sky","slot","custom"]),ja={version:8,layers:[],sources:{}},ls={duration:300,delay:0};class ss extends u.E{constructor(r,l={}){super(),this.map=r,this.scope=l.scope||"",this.globalId=null,this.fragments=[],this.importDepth=l.importDepth||0,this.importsCache=l.importsCache||new Map,this.resolvedImports=l.resolvedImports||new Set,this.transition=u.l({},ls),this._buildingIndex=new Ho(this),this.crossTileSymbolIndex=new Ml,this._mergedOrder=[],this._drapedFirstOrder=[],this._mergedLayers={},this._mergedSourceCaches={},this._mergedOtherSourceCaches={},this._mergedSymbolSourceCaches={},this._clipLayerPresent=!1,this._has3DLayers=!1,this._hasCircleLayers=!1,this._hasSymbolLayers=!1,this._changes=l.styleChanges||new jr,this.dispatcher=l.dispatcher?l.dispatcher:new u.D(u.ci(),this),l.imageManager?this.imageManager=l.imageManager:(this.imageManager=new Fr(this.map._spriteFormat),this.imageManager.setEventedParent(this)),this.imageManager.createScope(this.scope),this.glyphManager=l.glyphManager?l.glyphManager:new u.cj(r._requestManager,l.localFontFamily?u.ck.all:l.localIdeographFontFamily?u.ck.ideographs:u.ck.none,l.localFontFamily||l.localIdeographFontFamily),l.modelManager?this.modelManager=l.modelManager:(this.modelManager=new Hi(r._requestManager),this.modelManager.setEventedParent(this)),this._layers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this._loaded=!1,this._precompileDone=!1,this._shouldPrecompile=!1,this._availableImages=[],this._order=[],this._markersNeedUpdate=!1,this.options=l.configOptions?l.configOptions:new Map,this._configDependentLayers=l.configDependentLayers?l.configDependentLayers:new Set,this._config=l.config,this._styleColorTheme={lut:null,lutLoading:!1,lutLoadingCorrelationID:0,colorTheme:null,colorThemeOverride:l.colorThemeOverride},this._styleColorThemeForScope={},this._initialConfig=l.initialConfig,this.dispatcher.broadcast("setReferrer",u.cl());const p=this;this._rtlTextPluginCallback=ss.registerForPluginStateChange(b=>{p.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:b.pluginStatus,pluginURL:b.pluginURL},(C,E)=>{if(u.cm(C),E&&E.every(R=>R))for(const R in p._sourceCaches){const B=p._sourceCaches[R],V=B.getSource().type;V!=="vector"&&V!=="geojson"||B.reload()}})}),this.on("data",b=>{if(b.dataType!=="source"||b.sourceDataType!=="metadata")return;const C=this.getOwnSource(b.sourceId);if(C&&C.vectorLayerIds)for(const E in this._layers){const R=this._layers[E];R.source===C.id&&this._validateLayer(R)}})}load(r){return r?(typeof r=="string"?this.loadURL(r):this.loadJSON(r),this):this}_getGlobalId(r){if(!r)return null;if(typeof r=="string"){if(u.f(r))return r;const l=u.cn(r);if(!l.startsWith("http"))try{return new URL(l,location.href).toString()}catch(p){return l}return l}return`json://${u.co(JSON.stringify(r))}`}_diffStyle(r,l,p){this.globalId=this._getGlobalId(r);const b=(C,E)=>{try{E(null,this.setState(C,p))}catch(R){E(R,!1)}};if(typeof r=="string"){const C=this.map._requestManager.normalizeStyleURL(r),E=this.map._requestManager.transformRequest(C,u.R.Style);u.n(E,(R,B)=>{R?this.fire(new u.y(R)):B&&b(B,l)})}else typeof r=="object"&&b(r,l)}loadURL(r,l={}){this.fire(new u.z("dataloading",{dataType:"style"}));const p=typeof l.validate=="boolean"?l.validate:!u.f(r);this.globalId=this._getGlobalId(r),r=this.map._requestManager.normalizeStyleURL(r,l.accessToken),this.resolvedImports.add(r);const b=this.importsCache.get(r);if(b)return this._load(b,p);const C=this.map._requestManager.transformRequest(r,u.R.Style);this._request=u.n(C,(E,R)=>{if(this._request=null,E)this.fire(new u.y(E));else if(R)return this.importsCache.set(r,R),this._load(R,p)})}loadJSON(r,l={}){this.fire(new u.z("dataloading",{dataType:"style"})),this.globalId=this._getGlobalId(r),this._request=u.q.frame(()=>{this._request=null,this._load(r,l.validate!==!1)})}loadEmpty(){this.fire(new u.z("dataloading",{dataType:"style"})),this._load(ja,!1)}_loadImports(r,l,p){if(this.importDepth>=4)return u.w("Style doesn't support nesting deeper than 5"),Promise.resolve();const b=[];for(const C of r){const E=this._createFragmentStyle(C),R=new Promise(U=>{E.once("style.import.load",U),E.once("error",U)}).then(()=>this.mergeAll());if(b.push(R),this.resolvedImports.has(C.url)){E.loadEmpty();continue}const B=C.data||this.importsCache.get(C.url);B?(E.loadJSON(B,{validate:l}),this._isInternalStyle(B)&&(E.globalId=null)):C.url?E.loadURL(C.url,{validate:l}):E.loadEmpty();const V={style:E,id:C.id,config:C.config};if(p){const U=this.fragments.findIndex(({id:Y})=>Y===p);this.fragments=this.fragments.slice(0,U).concat(V).concat(this.fragments.slice(U))}else this.fragments.push(V)}return Promise.allSettled(b)}getImportGlobalIds(r=this,l=new Set){for(const p of r.fragments)p.style.globalId&&l.add(p.style.globalId),this.getImportGlobalIds(p.style,l);return[...l.values()]}_createFragmentStyle(r){const l=this.scope?u.aC(r.id,this.scope):r.id;let p;const b=this._initialConfig&&this._initialConfig[l];(r.config||b)&&(p=u.l({},r.config,b));const C=new ss(this.map,{scope:l,styleChanges:this._changes,importDepth:this.importDepth+1,importsCache:this.importsCache,resolvedImports:new Set(this.resolvedImports),dispatcher:this.dispatcher,imageManager:this.imageManager,glyphManager:this.glyphManager,modelManager:this.modelManager,config:p,configOptions:this.options,colorThemeOverride:r["color-theme"],configDependentLayers:this._configDependentLayers});return C.setEventedParent(this.map,{style:C}),C}_reloadImports(){this.mergeAll(),this._updateMapProjection(),this.updateConfigDependencies(),this.map._triggerCameraUpdate(this.camera),this.dispatcher.broadcast("setLayers",{layers:this._serializeLayers(this._order),scope:this.scope,options:this.options}),this._shouldPrecompile=this.map._precompilePrograms&&this.isRootStyle()}_isInternalStyle(r){return this.isRootStyle()&&(r.fragment||!!r.schema&&r.fragment!==!1)}_load(r,l){const p=r.indoor?fo(r.schema):r.schema;if(this._isInternalStyle(r)){const E=u.l({},ja,{imports:[{id:"basemap",data:r,url:""}]});return void this._load(E,l)}if(this.updateConfig(this._config,p),l&&Pa(this,Wi(r)))return;this._loaded=!0,this.stylesheet=u.cp(r);const b=()=>{for(const V in r.sources)this.addSource(V,r.sources[V],{validate:!1,isInitialLoad:!0});r.sprite?this._loadIconset(r.sprite):(this.imageManager.setLoaded(!0,this.scope),this.dispatcher.broadcast("spriteLoaded",{scope:this.scope,isLoaded:!0})),this.glyphManager.setURL(r.glyphs,this.scope);const E=za(this.stylesheet.layers);if(this._order=E.map(V=>V.id),this.stylesheet.light&&u.w("The `light` root property is deprecated, prefer using `lights` with `flat` light type instead."),this.stylesheet.lights)if(this.stylesheet.lights.length===1&&this.stylesheet.lights[0].type==="flat"){const V=this.stylesheet.lights[0];this.light=new de(V.properties,V.id)}else this.setLights(this.stylesheet.lights);this.light||(this.light=new de(this.stylesheet.light)),this._layers={};for(const V of E){const U=u.cu(V,this.scope,this._styleColorTheme.lut,this.options);U.configDependencies.size!==0&&this._configDependentLayers.add(U.fqid),U.setEventedParent(this,{layer:{id:U.id}}),this._layers[U.id]=U;const Y=this.getOwnLayerSourceCache(U),ee=!!this.directionalLight&&this.directionalLight.shadowsEnabled();Y&&U.canCastShadows()&&ee&&(Y.castsShadows=!0)}this.stylesheet.featuresets&&this.setFeaturesetSelectors(this.stylesheet.featuresets),this.stylesheet.models&&this.modelManager.addModels(this.stylesheet.models,this.scope);const R=this.stylesheet.terrain;R&&(this.checkCanvasFingerprintNoise(),this.disableElevatedTerrain||this.terrainSetForDrapingOnly()||this._createTerrain(R,1)),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this.stylesheet.snow&&this._createSnow(this.stylesheet.snow),this.stylesheet.rain&&this._createRain(this.stylesheet.rain),this.stylesheet.transition&&this.setTransition(this.stylesheet.transition),this.fire(new u.z("data",{dataType:"style"}));const B=this.isRootStyle();r.imports?this._loadImports(r.imports,l).then(()=>{this._reloadImports(),this.fire(new u.z(B?"style.load":"style.import.load"))}):(this._reloadImports(),this.fire(new u.z(B?"style.load":"style.import.load")))};this._styleColorTheme.colorTheme=this.stylesheet["color-theme"];const C=this._styleColorTheme.colorThemeOverride?this._styleColorTheme.colorThemeOverride:this._styleColorTheme.colorTheme;if(C){const E=this._evaluateColorThemeData(C);this._loadColorTheme(E).then(()=>{b()}).catch(R=>{u.w(`Couldn't load color theme from the stylesheet: ${R}`),b()})}else this._styleColorTheme.lut=null,b()}isRootStyle(){return this.importDepth===0}mergeAll(){let r,l,p,b,C,E,R,B,V,U;const Y={};this.terrain&&this.terrain.scope!==this.scope&&delete this.terrain,this.forEachFragmentStyle(ee=>{if(ee.stylesheet){if(ee.light!=null&&(r=ee.light),ee.stylesheet.lights)for(const le of ee.stylesheet.lights)le.type==="ambient"&&ee.ambientLight!=null&&(l=ee.ambientLight),le.type==="directional"&&ee.directionalLight!=null&&(p=ee.directionalLight);b=this._prioritizeTerrain(b,ee.terrain,ee.stylesheet.terrain),ee.stylesheet.fog&&ee.fog!=null&&(C=ee.fog),ee.stylesheet.snow&&ee.snow!=null&&(E=ee.snow),ee.stylesheet.rain&&ee.rain!=null&&(R=ee.rain),ee.stylesheet.camera!=null&&(U=ee.stylesheet.camera),ee.stylesheet.projection!=null&&(B=ee.stylesheet.projection),ee.stylesheet.transition!=null&&(V=ee.stylesheet.transition),Y[ee.scope]=ee._styleColorTheme}}),this.light=r,this.ambientLight=l,this.directionalLight=p,this.fog=C,this.snow=E,this.rain=R,this._styleColorThemeForScope=Y,b===null?delete this.terrain:this.terrain=b,this.camera=U||{"camera-projection":"perspective"},this.projection=B||{name:"mercator"},this.transition=u.l({},ls,V),this.mergeSources(),this.mergeLayers()}forEachFragmentStyle(r){const l=p=>{for(const b of p.fragments)l(b.style);r(p)};l(this)}_prioritizeTerrain(r,l,p){const b=r&&r.drapeRenderMode===0;return p===null?l&&l.drapeRenderMode===0?l:b?r:null:l!=null&&(!r||b||l&&l.drapeRenderMode===1)?l:r}mergeTerrain(){let r;this.terrain&&this.terrain.scope!==this.scope&&delete this.terrain,this.forEachFragmentStyle(l=>{r=this._prioritizeTerrain(r,l.terrain,l.stylesheet.terrain)}),r===null?delete this.terrain:this.terrain=r}mergeProjection(){let r;this.forEachFragmentStyle(l=>{l.stylesheet.projection!=null&&(r=l.stylesheet.projection)}),this.projection=r||{name:"mercator"}}mergeSources(){const r={},l={},p={};this.forEachFragmentStyle(b=>{for(const C in b._sourceCaches){const E=u.aC(C,b.scope);r[E]=b._sourceCaches[C]}for(const C in b._otherSourceCaches){const E=u.aC(C,b.scope);l[E]=b._otherSourceCaches[C]}for(const C in b._symbolSourceCaches){const E=u.aC(C,b.scope);p[E]=b._symbolSourceCaches[C]}}),this._mergedSourceCaches=r,this._mergedOtherSourceCaches=l,this._mergedSymbolSourceCaches=p}mergeLayers(){const r={},l=[],p={};this._mergedSlots=[],this._has3DLayers=!1,this._hasCircleLayers=!1,this._hasSymbolLayers=!1,this.forEachFragmentStyle(C=>{for(const E of C._order){const R=C._layers[E];if(R.type==="slot"){const B=u.cq(E);if(r[B])continue;r[B]=[]}R.slot&&r[R.slot]?r[R.slot].push(R):l.push(R)}}),this._mergedOrder=[];const b=(C=[])=>{for(const E of C)if(E.type==="slot"){const R=u.cq(E.id);r[R]&&b(r[R]),this._mergedSlots.push(R)}else{const R=u.aC(E.id,E.scope);this._mergedOrder.push(R),p[R]=E,E.is3D()&&(this._has3DLayers=!0),E.type==="circle"&&(this._hasCircleLayers=!0),E.type==="symbol"&&(this._hasSymbolLayers=!0),E.type==="clip"&&(this._clipLayerPresent=!0)}};b(l),this._mergedOrder.sort((C,E)=>{const R=p[C],B=p[E];return R.hasInitialOcclusionOpacityProperties?B.is3D()?1:0:R.is3D()&&B.hasInitialOcclusionOpacityProperties?-1:0}),this._mergedLayers=p,this.updateDrapeFirstLayers(),this._buildingIndex.processLayersChanged()}terrainSetForDrapingOnly(){return!!this.terrain&&this.terrain.drapeRenderMode===0}getCamera(){return this.stylesheet.camera}setCamera(r){return this.stylesheet.camera=u.l({},this.stylesheet.camera,r),this.camera=this.stylesheet.camera,this}_evaluateColorThemeData(r){return r.data?function(l,p,b){const C=u.l({},p);for(const R of Object.keys(u.a3.colorTheme))C[R]===void 0&&(C[R]=u.a3.colorTheme[R].default);const E=new u.a4(ki,l,new Map(b));return E.setTransitionOrValue(C,b),E.untransitioned().possiblyEvaluate(new u.a8(0))}(this.scope,r,this.options).get("data"):null}_loadColorTheme(r){this._styleColorTheme.lutLoading=!0,this._styleColorTheme.lutLoadingCorrelationID+=1;const l=this._styleColorTheme.lutLoadingCorrelationID;return new Promise((p,b)=>{const C="data:image/png;base64,";if(!r||r.length===0)return this._styleColorTheme.lut=null,this._styleColorTheme.lutLoading=!1,void p();let E=r;E.startsWith(C)||(E=C+E);const R="mapbox-reserved-lut",B=new Image;B.src=E,B.onerror=()=>{this._styleColorTheme.lutLoading=!1,b(new Error("Failed to load image data"))},B.onload=()=>{if(this._styleColorTheme.lutLoadingCorrelationID!==l)return void p();this._styleColorTheme.lutLoading=!1;const{width:V,height:U,data:Y}=u.q.getImageData(B);if(U>32)return void b(new Error("The height of the image must be less than or equal to 32 pixels."));if(V!==U*U)return void b(new Error("The width of the image must be equal to the height squared."));this.getImage(R)&&this.removeImage(R),this.addImage(R,{data:new u.r({width:V,height:U},Y),pixelRatio:1,sdf:!1,usvg:!1,version:0});const ee=this.imageManager.getImage(R,this.scope);ee?(this._styleColorTheme.lut={image:ee.data,data:r},p()):b(new Error("Missing LUT image."))}})}getLut(r){const l=this._styleColorThemeForScope[r];return l?l.lut:null}setProjection(r){r?this.stylesheet.projection=r:delete this.stylesheet.projection,this.mergeProjection(),this._updateMapProjection()}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?(this.getTerrain()||this.stylesheet.terrain)&&!this.disableElevatedTerrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null,0))}_updateMapProjection(){this.isRootStyle()&&(this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.projection))}_loadSprite(r){this._spriteRequest=function(l,p,b){let C,E,R;const B=u.q.devicePixelRatio>1?"@2x":"";let V=u.n(p.transformRequest(p.normalizeSpriteURL(l,B,".json"),u.R.SpriteJSON),(ee,le)=>{V=null,R||(R=ee,C=le,Y())}),U=u.o(p.transformRequest(p.normalizeSpriteURL(l,B,".png"),u.R.SpriteImage),(ee,le)=>{U=null,R||(R=ee,E=le,Y())});function Y(){if(R)b(R);else if(C&&E){const ee=u.q.getImageData(E),le={};for(const Ee in C){const{width:xe,height:Oe,x:Me,y:qe,sdf:yt,pixelRatio:gt,stretchX:Nt,stretchY:Mt,content:Dt}=C[Ee],It=new u.r({width:xe,height:Oe});u.r.copy(ee,It,{x:Me,y:qe},{x:0,y:0},{width:xe,height:Oe},null),le[Ee]={data:It,pixelRatio:gt,sdf:yt,stretchX:Nt,stretchY:Mt,content:Dt,usvg:!1}}b(null,le)}}return{cancel(){V&&(V.cancel(),V=null),U&&(U.cancel(),U=null)}}}(r,this.map._requestManager,(l,p)=>{if(this._spriteRequest=null,l)this.fire(new u.y(l));else if(p)for(const b in p)this.imageManager.addImage(b,this.scope,p[b]);this.imageManager.setLoaded(!0,this.scope),this._availableImages=this.imageManager.listImages(this.scope),this.dispatcher.broadcast("setImages",{scope:this.scope,images:this._availableImages}),this.dispatcher.broadcast("spriteLoaded",{scope:this.scope,isLoaded:!0}),this.fire(new u.z("data",{dataType:"style"}))})}_loadIconset(r){if(!u.f(r)&&this.map._spriteFormat!=="icon_set"||this.map._spriteFormat==="raster")return void this._loadSprite(r);const l=this.map._spriteFormat==="auto";var p,b;this._spriteRequest=(b=(C,E)=>{if(this._spriteRequest=null,C)l?this._loadSprite(r):this.fire(new u.y(C));else if(E)for(const R in E)this.imageManager.addImage(R,this.scope,E[R]);this.imageManager.setLoaded(!0,this.scope),this._availableImages=this.imageManager.listImages(this.scope),this.dispatcher.broadcast("setImages",{scope:this.scope,images:this._availableImages}),this.dispatcher.broadcast("spriteLoaded",{scope:this.scope,isLoaded:!0}),this.fire(new u.z("data",{dataType:"style"}))},u.bi((p=this.map._requestManager).transformRequest(p.normalizeIconsetURL(r),u.R.Iconset),(C,E)=>{if(C)return void b(C);const R={},B=u.cg(new u.bh(E));for(const V of B.icons){const U={version:1,pixelRatio:u.q.devicePixelRatio,content:Ga(V),stretchX:V.metadata?la(V.metadata.stretch_x_areas):void 0,stretchY:V.metadata?la(V.metadata.stretch_y_areas):void 0,sdf:!1,usvg:!0,icon:V};R[V.name]=U}b(null,R)}))}_validateLayer(r){const l=this.getOwnSource(r.source);if(!l)return;const p=r.sourceLayer;p&&(l.type==="geojson"||l.vectorLayerIds&&l.vectorLayerIds.indexOf(p)===-1)&&this.fire(new u.y(new Error(`Source layer "${p}" does not exist on source "${l.id}" as specified by style layer "${r.id}"`)))}loaded(){if(!this._loaded||Object.keys(this._changes.getUpdatedSourceCaches()).length)return!1;for(const r in this._sourceCaches)if(!this._sourceCaches[r].loaded())return!1;if(!this.imageManager.isLoaded()||!this.modelManager.isLoaded()||this._styleColorTheme.lutLoading)return!1;for(const{style:r}of this.fragments)if(!r.loaded())return!1;return!0}_serializeImports(){if(this.stylesheet.imports)return this.stylesheet.imports.map((r,l)=>{const p=this.fragments[l];return p&&p.style&&(r.data=p.style.serialize()),r})}_serializeSources(){const r={};for(const l in this._sourceCaches){const p=this._sourceCaches[l].getSource();r[p.id]||(r[p.id]=p.serialize())}return r}_serializeLayers(r){const l=[];for(const p of r){const b=this._layers[p];b&&b.type!=="custom"&&l.push(b.serialize())}return l}hasLightTransitions(){return!(!this.light||!this.light.hasTransition())||!(!this.ambientLight||!this.ambientLight.hasTransition())||!(!this.directionalLight||!this.directionalLight.hasTransition())}hasFogTransition(){return!!this.fog&&this.fog.hasTransition()}hasSnowTransition(){return!!this.snow&&this.snow.hasTransition()}hasRainTransition(){return!!this.rain&&this.rain.hasTransition()}hasTransitions(){if(this.hasLightTransitions()||this.hasFogTransition()||this.hasSnowTransition()||this.hasRainTransition())return!0;for(const r in this._sourceCaches)if(this._sourceCaches[r].hasTransition())return!0;for(const r in this._layers)if(this._layers[r].hasTransition())return!0;return!1}get order(){return this.terrain?this._drapedFirstOrder:this._mergedOrder}_getOrder(r){return r?this.order:this._mergedOrder}isLayerDraped(r){return!!this.terrain&&r.isDraped(this.getLayerSourceCache(r))}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}_checkLayer(r){const l=this.getOwnLayer(r);if(l)return l;this.fire(new u.y(new Error(`The layer '${r}' does not exist in the map's style.`)))}_checkSource(r){const l=this.getOwnSource(r);if(l)return l;this.fire(new u.y(new Error(`The source '${r}' does not exist in the map's style.`)))}precompilePrograms(r,l){const p=this.map.painter;if(p)for(let b=r.minzoom||0;b<(r.maxzoom||25.5);b++){const C=r.getProgramIds();if(C)for(const E of C){const R=r.getDefaultProgramParams(E,l.zoom,this._styleColorTheme.lut);R&&(p.style=this,this.fog&&(p._fogVisible=!0,R.overrideFog=!0,p.getOrCreateProgram(E,R)),p._fogVisible=!1,R.overrideFog=!1,p.getOrCreateProgram(E,R),(this.stylesheet.terrain||this.stylesheet.projection&&this.stylesheet.projection.name==="globe")&&(R.overrideRtt=!0,p.getOrCreateProgram(E,R)))}}}update(r){if(!this._loaded)return;this.ambientLight&&this.ambientLight.recalculate(r),this.directionalLight&&this.directionalLight.recalculate(r);const l=this.calculateLightsBrightness();r.brightness=l||0,l!==this._brightness&&(this._brightness=l,this.dispatcher.broadcast("setBrightness",l));const p=this._changes.isDirty();let b=!1;if(this._changes.isDirty()){const E=this._changes.getLayerUpdatesByScope();for(const R in E){const{updatedIds:B,removedIds:V}=E[R];(B||V)&&(this._updateWorkerLayers(R,B,V),b=!0)}this.updateSourceCaches(),this._updateTilesForChangedImages(),this.updateLayers(r),this.light&&this.light.updateTransitions(r),this.ambientLight&&this.ambientLight.updateTransitions(r),this.directionalLight&&this.directionalLight.updateTransitions(r),this.fog&&this.fog.updateTransitions(r),this.snow&&this.snow.updateTransitions(r),this.rain&&this.rain.updateTransitions(r),this._changes.reset()}const C={};for(const E in this._mergedSourceCaches){const R=this._mergedSourceCaches[E];C[E]=R.used,R.used=!1,R.tileCoverLift=0}for(const E of this._mergedOrder){const R=this._mergedLayers[E];if(R.recalculate(r,this._availableImages),!R.isHidden(r.zoom)){const B=this.getLayerSourceCache(R);B&&(B.used=!0,B.tileCoverLift=Math.max(B.tileCoverLift,R.tileCoverLift()))}!this._precompileDone&&this._shouldPrecompile&&("requestIdleCallback"in window?requestIdleCallback(()=>{this.precompilePrograms(R,r)}):this.precompilePrograms(R,r))}this._shouldPrecompile&&(this._precompileDone=!0),this.terrain&&b&&this.mergeLayers();for(const E in C){const R=this._mergedSourceCaches[E];C[E]!==R.used&&R.getSource().fire(new u.z("data",{sourceDataType:"visibility",dataType:"source",sourceId:R.getSource().id}))}this.light&&this.light.recalculate(r),this.terrain&&this.terrain.recalculate(r),this.fog&&this.fog.recalculate(r),this.snow&&this.snow.recalculate(r),this.rain&&this.rain.recalculate(r),this.z=r.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),p&&this.fire(new u.z("data",{dataType:"style"}))}_updateTilesForChangedImages(){const r=this._changes.getUpdatedImages();if(r.length){for(const l in this._sourceCaches)this._sourceCaches[l].reloadTilesForDependencies(["icons","patterns"],r);this._changes.resetUpdatedImages()}}_updateWorkerLayers(r,l,p){const b=this.getFragmentStyle(r);b&&this.dispatcher.broadcast("updateLayers",{layers:l?b._serializeLayers(l):[],scope:r,removedIds:p||[],options:b.options})}setState(r,l){if(this._checkLoaded(),Pa(this,Wi(r)))return!1;(r=u.cp(r)).layers=za(r.layers);const p=function(E,R){if(!E)return[{command:Vi.setStyle,args:[R]}];let B=[];try{if(!u.bn(E.version,R.version))return[{command:Vi.setStyle,args:[R]}];if(u.bn(E.center,R.center)||B.push({command:Vi.setCenter,args:[R.center]}),u.bn(E.zoom,R.zoom)||B.push({command:Vi.setZoom,args:[R.zoom]}),u.bn(E.bearing,R.bearing)||B.push({command:Vi.setBearing,args:[R.bearing]}),u.bn(E.pitch,R.pitch)||B.push({command:Vi.setPitch,args:[R.pitch]}),u.bn(E.sprite,R.sprite)||B.push({command:Vi.setSprite,args:[R.sprite]}),u.bn(E.glyphs,R.glyphs)||B.push({command:Vi.setGlyphs,args:[R.glyphs]}),u.bn(E.imports,R.imports)||function(le=[],Ee=[],xe){Ee=Ee||[];const Oe=(le=le||[]).map(Yo),Me=Ee.map(Yo),qe=le.reduce(co,{}),yt=Ee.reduce(co,{}),gt=Oe.slice();let Nt,Mt,Dt,It;for(Nt=0,Mt=0;Nt<Oe.length;Nt++)Dt=Oe[Nt],yt.hasOwnProperty(Dt)?Mt++:(xe.push({command:Vi.removeImport,args:[Dt]}),gt.splice(gt.indexOf(Dt,Mt),1));for(Nt=0,Mt=0;Nt<Me.length;Nt++)Dt=Me[Me.length-1-Nt],gt[gt.length-1-Nt]!==Dt&&(qe.hasOwnProperty(Dt)?(xe.push({command:Vi.removeImport,args:[Dt]}),gt.splice(gt.lastIndexOf(Dt,gt.length-Mt),1)):Mt++,It=gt[gt.length-Nt],xe.push({command:Vi.addImport,args:[yt[Dt],It]}),gt.splice(gt.length-Nt,0,Dt));for(const zt of Ee){const fn=qe[zt.id];fn&&!u.bn(fn,zt)&&xe.push({command:Vi.updateImport,args:[zt.id,zt]})}}(E.imports,R.imports,B),u.bn(E.transition,R.transition)||B.push({command:Vi.setTransition,args:[R.transition]}),u.bn(E.light,R.light)||B.push({command:Vi.setLight,args:[R.light]}),u.bn(E.fog,R.fog)||B.push({command:Vi.setFog,args:[R.fog]}),u.bn(E.snow,R.snow)||B.push({command:Vi.setSnow,args:[R.snow]}),u.bn(E.rain,R.rain)||B.push({command:Vi.setRain,args:[R.rain]}),u.bn(E.projection,R.projection)||B.push({command:Vi.setProjection,args:[R.projection]}),u.bn(E.lights,R.lights)||B.push({command:Vi.setLights,args:[R.lights]}),u.bn(E.camera,R.camera)||B.push({command:Vi.setCamera,args:[R.camera]}),!u.bn(E["color-theme"],R["color-theme"]))return[{command:Vi.setStyle,args:[R]}];const V={},U=[];(function(le,Ee,xe,Oe){let Me;for(Me in Ee=Ee||{},le=le||{})le.hasOwnProperty(Me)&&(Ee.hasOwnProperty(Me)||qa(Me,xe,Oe));for(Me in Ee){if(!Ee.hasOwnProperty(Me))continue;const qe=Ee[Me];le.hasOwnProperty(Me)?u.bn(le[Me],qe)||(le[Me].type==="geojson"&&qe.type==="geojson"&&vo(le,Ee,Me)?xe.push({command:Vi.setGeoJSONSourceData,args:[Me,qe.data]}):Jr(Me,Ee,xe,Oe)):ma(Me,Ee,xe)}})(E.sources,R.sources,U,V);const Y=[];E.layers&&E.layers.forEach(le=>{le.source&&V[le.source]?B.push({command:Vi.removeLayer,args:[le.id]}):Y.push(le)});let ee=E.terrain;ee&&V[ee.source]&&(B.push({command:Vi.setTerrain,args:[void 0]}),ee=void 0),B=B.concat(U),u.bn(ee,R.terrain)||B.push({command:Vi.setTerrain,args:[R.terrain]}),function(le,Ee,xe){Ee=Ee||[];const Oe=(le=le||[]).map(Yo),Me=Ee.map(Yo),qe=le.reduce(co,{}),yt=Ee.reduce(co,{}),gt=Oe.slice(),Nt=Object.create(null);let Mt,Dt,It,zt,fn,nr,Hn;for(Mt=0,Dt=0;Mt<Oe.length;Mt++)It=Oe[Mt],yt.hasOwnProperty(It)?Dt++:(xe.push({command:Vi.removeLayer,args:[It]}),gt.splice(gt.indexOf(It,Dt),1));for(Mt=0,Dt=0;Mt<Me.length;Mt++)It=Me[Me.length-1-Mt],gt[gt.length-1-Mt]!==It&&(qe.hasOwnProperty(It)?(xe.push({command:Vi.removeLayer,args:[It]}),gt.splice(gt.lastIndexOf(It,gt.length-Dt),1)):Dt++,nr=gt[gt.length-Mt],xe.push({command:Vi.addLayer,args:[yt[It],nr]}),gt.splice(gt.length-Mt,0,It),Nt[It]=!0);for(Mt=0;Mt<Me.length;Mt++)if(It=Me[Mt],zt=qe[It],fn=yt[It],!Nt[It]&&!u.bn(zt,fn))if(u.bn(zt.source,fn.source)&&u.bn(zt["source-layer"],fn["source-layer"])&&u.bn(zt.type,fn.type)){for(Hn in Ao(zt.layout,fn.layout,xe,It,null,Vi.setLayoutProperty),Ao(zt.paint,fn.paint,xe,It,null,Vi.setPaintProperty),u.bn(zt.slot,fn.slot)||xe.push({command:Vi.setSlot,args:[It,fn.slot]}),u.bn(zt.filter,fn.filter)||xe.push({command:Vi.setFilter,args:[It,fn.filter]}),u.bn(zt.minzoom,fn.minzoom)&&u.bn(zt.maxzoom,fn.maxzoom)||xe.push({command:Vi.setLayerZoomRange,args:[It,fn.minzoom,fn.maxzoom]}),zt)zt.hasOwnProperty(Hn)&&Hn!=="layout"&&Hn!=="paint"&&Hn!=="filter"&&Hn!=="metadata"&&Hn!=="minzoom"&&Hn!=="maxzoom"&&Hn!=="slot"&&(Hn.indexOf("paint.")===0?Ao(zt[Hn],fn[Hn],xe,It,Hn.slice(6),Vi.setPaintProperty):u.bn(zt[Hn],fn[Hn])||xe.push({command:Vi.setLayerProperty,args:[It,Hn,fn[Hn]]}));for(Hn in fn)fn.hasOwnProperty(Hn)&&!zt.hasOwnProperty(Hn)&&Hn!=="layout"&&Hn!=="paint"&&Hn!=="filter"&&Hn!=="metadata"&&Hn!=="minzoom"&&Hn!=="maxzoom"&&Hn!=="slot"&&(Hn.indexOf("paint.")===0?Ao(zt[Hn],fn[Hn],xe,It,Hn.slice(6),Vi.setPaintProperty):u.bn(zt[Hn],fn[Hn])||xe.push({command:Vi.setLayerProperty,args:[It,Hn,fn[Hn]]}))}else xe.push({command:Vi.removeLayer,args:[It]}),nr=gt[gt.lastIndexOf(It)+1],xe.push({command:Vi.addLayer,args:[fn,nr]})}(Y,R.layers,B)}catch(V){console.warn("Unable to compute style diff:",V),B=[{command:Vi.setStyle,args:[R]}]}return B}(this.serialize(),r).filter(E=>!(E.command in Ia));if(p.length===0)return!1;const b=p.filter(E=>!(E.command in es));if(b.length>0)throw new Error(`Unimplemented: ${b.map(E=>E.command).join(", ")}.`);const C=[];return p.forEach(E=>{C.push(this[E.command].apply(this,E.args))}),l&&Promise.all(C).then(l),this.stylesheet=r,this.mergeAll(),this.dispatcher.broadcast("setLayers",{layers:this._serializeLayers(this._order),scope:this.scope,options:this.options}),!0}addImage(r,l){return this.getImage(r)?this.fire(new u.y(new Error("An image with this name already exists."))):(this.imageManager.addImage(r,this.scope,l),this._afterImageUpdated(r),this)}updateImage(r,l,p=!1){this.imageManager.updateImage(r,this.scope,l),p&&this._afterImageUpdated(r)}getImage(r){return this.imageManager.getImage(r,this.scope)}removeImage(r){return this.getImage(r)?(this.imageManager.removeImage(r,this.scope),this._afterImageUpdated(r),this):this.fire(new u.y(new Error("No image with this name exists.")))}_afterImageUpdated(r){this._availableImages=this.imageManager.listImages(this.scope),this._changes.updateImage(r),this.dispatcher.broadcast("setImages",{scope:this.scope,images:this._availableImages}),this.fire(new u.z("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this._availableImages.slice()}addModel(r,l,p={}){return this._checkLoaded(),this._validate(Ro,`models.${r}`,l,null,p)||(this.modelManager.addModel(r,l,this.scope),this._changes.setDirty()),this}hasModel(r){return this.modelManager.hasModel(r,this.scope)}removeModel(r){return this.hasModel(r)?(this.modelManager.removeModel(r,this.scope),this):this.fire(new u.y(new Error("No model with this ID exists.")))}listModels(){return this._checkLoaded(),this.modelManager.listModels(this.scope)}addSource(r,l,p={}){if(this._checkLoaded(),this.getOwnSource(r)!==void 0)throw new Error(`There is already a source with ID "${r}".`);if(!l.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(l).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(l.type)>=0&&this._validate(po,`sources.${r}`,l,null,p))return;this.map&&this.map._collectResourceTiming&&(l.collectResourceTiming=!0);const b=Ut(r,l,this.dispatcher,this);b.scope=this.scope,b.setEventedParent(this,()=>({isSourceLoaded:this._isSourceCacheLoaded(b.id),source:b.serialize(),sourceId:b.id}));const C=E=>{const R=(E?"symbol:":"other:")+b.id,B=u.aC(R,this.scope),V=this._sourceCaches[R]=new so(B,b,E);(E?this._symbolSourceCaches:this._otherSourceCaches)[b.id]=V,V.onAdd(this.map)};C(!1),l.type!=="vector"&&l.type!=="geojson"||C(!0),b.onAdd&&b.onAdd(this.map),p.isInitialLoad||(this.mergeSources(),this._changes.setDirty())}removeSource(r){this._checkLoaded();const l=this.getOwnSource(r);if(!l)throw new Error("There is no source with this ID");for(const b in this._layers)if(this._layers[b].source===r)return this.fire(new u.y(new Error(`Source "${r}" cannot be removed while layer "${b}" is using it.`)));if(this.terrain&&this.terrain.scope===this.scope&&this.terrain.get().source===r)return this.fire(new u.y(new Error(`Source "${r}" cannot be removed while terrain is using it.`)));const p=this.getOwnSourceCaches(r);for(const b of p){const C=u.cq(b.id);delete this._sourceCaches[C],this._changes.discardSourceCacheUpdate(b.id),b.fire(new u.z("data",{sourceDataType:"metadata",dataType:"source",sourceId:b.getSource().id})),b.setEventedParent(null),b.clearTiles()}return delete this._otherSourceCaches[r],delete this._symbolSourceCaches[r],this.mergeSources(),l.setEventedParent(null),l.onRemove&&l.onRemove(this.map),this._changes.setDirty(),this}setGeoJSONSourceData(r,l){this._checkLoaded(),this.getOwnSource(r).setData(l),this._changes.setDirty()}getOwnSource(r){const l=this.getOwnSourceCache(r);return l&&l.getSource()}getOwnSources(){const r=[];for(const l in this._otherSourceCaches){const p=this.getOwnSourceCache(l);p&&r.push(p.getSource())}return r}areTilesLoaded(){const r=this._mergedSourceCaches;for(const l in r){const p=r[l]._tiles;for(const b in p){const C=p[b];if(C.state!=="loaded"&&C.state!=="errored")return!1}}return!0}setLights(r){if(this._checkLoaded(),!r)return delete this.ambientLight,void delete this.directionalLight;const l=this._getTransitionParameters();for(const b of r){if(this._validate(no,"lights",b))return;switch(b.type){case"ambient":if(this.ambientLight){const C=this.ambientLight;C.set(b),C.updateTransitions(l)}else this.ambientLight=new gn(b,kt||(kt=new u.a5({color:new u.a6(u.a3.properties_light_ambient.color),"color-use-theme":new u.a6({type:"string",default:"default","property-type":"data-constant"}),intensity:new u.a6(u.a3.properties_light_ambient.intensity)})),this.scope,this.options);break;case"directional":if(this.directionalLight){const C=this.directionalLight;C.set(b),C.updateTransitions(l)}else this.directionalLight=new gn(b,Kt||(Kt=new u.a5({direction:new u.ak(u.a3.properties_light_directional.direction),color:new u.a6(u.a3.properties_light_directional.color),"color-use-theme":new u.a6({type:"string",default:"default","property-type":"data-constant"}),intensity:new u.a6(u.a3.properties_light_directional.intensity),"cast-shadows":new u.a6(u.a3.properties_light_directional["cast-shadows"]),"shadow-quality":new u.a6(u.a3.properties_light_directional["shadow-quality"]),"shadow-intensity":new u.a6(u.a3.properties_light_directional["shadow-intensity"])})),this.scope,this.options)}}const p=new u.a8(this.z||0,l);this.ambientLight&&this.ambientLight.recalculate(p),this.directionalLight&&this.directionalLight.recalculate(p),this._brightness=this.calculateLightsBrightness(),this.dispatcher.broadcast("setBrightness",this._brightness)}calculateLightsBrightness(){const r=this.directionalLight,l=this.ambientLight;if(!r||!l)return;const p=ee=>.2126*(ee[0]<=.03928?ee[0]/12.92:Math.pow((ee[0]+.055)/1.055,2.4))+.7152*(ee[1]<=.03928?ee[1]/12.92:Math.pow((ee[1]+.055)/1.055,2.4))+.0722*(ee[2]<=.03928?ee[2]/12.92:Math.pow((ee[2]+.055)/1.055,2.4)),b=r.properties.get("color").toRenderColor(null).toArray01(),C=r.properties.get("intensity"),E=r.properties.get("direction"),R=1-u.cb(E.x,E.y,E.z)[2]/90,B=p(b)*C*R,V=l.properties.get("color").toRenderColor(null).toArray01(),U=l.properties.get("intensity"),Y=p(V)*U;return Number(((B+Y)/2).toFixed(6))}getBrightness(){return this._brightness}getLights(){if(!this.enable3dLights())return null;const r=[];return this.directionalLight&&r.push(this.directionalLight.get()),this.ambientLight&&r.push(this.ambientLight.get()),r}enable3dLights(){return!!this.ambientLight&&!!this.directionalLight}getFragmentStyle(r){if(!r)return this;if(u.cr(r)){const l=u.cs(r),p=this.fragments.find(({id:C})=>C===l);if(!p)throw new Error(`Style import '${r}' not found`);const b=u.cq(r);return p.style.getFragmentStyle(b)}{const l=this.fragments.find(({id:p})=>p===r);return l?l.style:void 0}}setFeaturesetSelectors(r){if(!r)return;const l={},p=(b,C="")=>`${b}::${C}`;this._featuresetSelectors={};for(const b in r){const C=this._featuresetSelectors[b]=[];for(const E of r[b].selectors){if(E.featureNamespace){const B=this.getOwnLayer(E.layer);if(!B){u.w(`Layer is undefined for selector: ${E.layer}`);continue}const V=p(B.source,B.sourceLayer);if(V in l&&l[V]!==E.featureNamespace){u.w(`"featureNamespace ${E.featureNamespace} of featureset ${b}'s selector is not associated to the same source, skip this selector`);continue}l[V]=E.featureNamespace}let R;if(E.properties)for(const B in E.properties){const V=u.U(E.properties[B]);V.result==="success"&&(R=R||{},R[B]=V.value)}C.push({layerId:E.layer,namespace:E.featureNamespace,properties:R,uniqueFeatureID:E._uniqueFeatureID})}}}getFeaturesetDescriptors(r){const l=this.getFragmentStyle(r);if(!l||!l.stylesheet.featuresets)return[];const p=[];for(const b in l.stylesheet.featuresets)p.push({featuresetId:b,importId:l.scope?l.scope:void 0});return p}getFeaturesetLayers(r,l){const p=this.getFragmentStyle(l),b=p.stylesheet.featuresets;if(!b||!b[r])return this.fire(new u.y(new Error(`The featureset '${r}' does not exist in the map's style and cannot be queried.`))),[];const C=[];for(const E of b[r].selectors){const R=p.getOwnLayer(E.layer);R&&C.push(R)}return C}getConfigProperty(r,l){const p=this.getFragmentStyle(r);if(!p)return null;const b=u.aC(l,p.scope),C=p.options.get(b),E=C?C.value||C.default:null;return E?E.serialize():null}setConfigProperty(r,l,p){const b=this.getFragmentStyle(r);if(!b)return;const C=b.stylesheet.indoor?fo(b.stylesheet.schema):b.stylesheet.schema;if(!C||!C[l])return;const E=u.U(p);if(E.result!=="success")return void Pa(this,E.value);const R=E.value.expression,B=u.aC(l,b.scope),V=b.options.get(B);if(!V)return;let U;const{minValue:Y,maxValue:ee,stepValue:le,type:Ee,values:xe}=C[l],Oe=u.U(C[l].default);Oe.result==="success"&&(U=Oe.value.expression),U?(this.options.set(B,Object.assign({},V,{value:R,default:U,minValue:Y,maxValue:ee,stepValue:le,type:Ee,values:xe})),this.updateConfigDependencies(l)):this.fire(new u.y(new Error(`No schema defined for the config option "${l}" in the "${r}" fragment.`)))}getConfig(r){const l=this.getFragmentStyle(r);if(!l)return null;const p=l.stylesheet.schema;if(!p)return null;const b={};for(const C in p){const E=u.aC(C,l.scope),R=l.options.get(E),B=R?R.value||R.default:null;b[C]=B?B.serialize():null}return b}setConfig(r,l){const p=this.getFragmentStyle(r);p&&(p.updateConfig(l,p.stylesheet.schema),this.updateConfigDependencies())}getSchema(r){const l=this.getFragmentStyle(r);return l?l.stylesheet.schema:null}setSchema(r,l){const p=this.getFragmentStyle(r);p&&(p.stylesheet.schema=l,p.updateConfig(p._config,l),this.updateConfigDependencies())}updateConfig(r,l){if(this._config=r,r||l)if(l)for(const p in l){let b,C;const E=u.U(l[p].default);if(E.result==="success"&&(b=E.value.expression),r&&r[p]!==void 0){const ee=u.U(r[p]);ee.result==="success"&&(C=ee.value.expression)}const{minValue:R,maxValue:B,stepValue:V,type:U,values:Y}=l[p];if(b){const ee=u.aC(p,this.scope);this.options.set(ee,{default:b,value:C,minValue:R,maxValue:B,stepValue:V,type:U,values:Y})}else this.fire(new u.y(new Error(`No schema defined for config option "${p}".`)))}else this.fire(new u.y(new Error("Attempting to set config for a style without schema.")))}updateConfigDependencies(r){for(const l of this._configDependentLayers){const p=this.getLayer(l);if(p){if(r&&!p.configDependencies.has(r))continue;p.possiblyEvaluateVisibility(),this._updateLayer(p)}}this.ambientLight&&this.ambientLight.updateConfig(this.options),this.directionalLight&&this.directionalLight.updateConfig(this.options),this.fog&&this.fog.updateConfig(this.options),this.snow&&this.snow.updateConfig(this.options),this.rain&&this.rain.updateConfig(this.options),this.forEachFragmentStyle(l=>{const p=l._styleColorTheme.colorThemeOverride?l._styleColorTheme.colorThemeOverride:l._styleColorTheme.colorTheme;if(p){const b=l._evaluateColorThemeData(p);(!l._styleColorTheme.lut&&b!==""||l._styleColorTheme.lut&&b!==l._styleColorTheme.lut.data)&&l.setColorTheme(p)}}),this._changes.setDirty()}addLayer(r,l,p={}){this._checkLoaded();const b=r.id;if(this._layers[b])return void this.fire(new u.y(new Error(`Layer with id "${b}" already exists on this map`)));let C;if(r.type==="custom"){if(Pa(this,u.ct(r)))return;C=u.cu(r,this.scope,this._styleColorTheme.lut,this.options)}else{if(typeof r.source=="object"&&(this.addSource(b,r.source),r=u.cp(r),r=u.l(r,{source:b})),this._validate(li,`layers.${b}`,r,{arrayIndex:-1},p))return;C=u.cu(r,this.scope,this._styleColorTheme.lut,this.options),this._validateLayer(C),C.setEventedParent(this,{layer:{id:b}})}C.configDependencies.size!==0&&this._configDependentLayers.add(C.fqid);let E=this._order.length;if(l){const U=this._order.indexOf(l);if(U===-1)return void this.fire(new u.y(new Error(`Layer with id "${l}" does not exist on this map.`)));C.slot===this._layers[l].slot?E=U:u.w(`Layer with id "${l}" has a different slot. Layers can only be rearranged within the same slot.`)}this._order.splice(E,0,b),this._layerOrderChanged=!0,this._layers[b]=C;const R=this.getOwnLayerSourceCache(C),B=!!this.directionalLight&&this.directionalLight.shadowsEnabled();R&&C.canCastShadows()&&B&&(R.castsShadows=!0);const V=this._changes.getRemovedLayer(C);if(V&&C.source&&R&&C.type!=="custom"){this._changes.discardLayerRemoval(C);const U=u.aC(C.source,C.scope);V.type!==C.type?this._changes.updateSourceCache(U,"clear"):(this._changes.updateSourceCache(U,"reload"),R.pause())}this._updateLayer(C),C.onAdd&&C.onAdd(this.map),C.scope=this.scope,this.mergeLayers()}moveLayer(r,l){this._checkLoaded();const p=this._checkLayer(r);if(!p||r===l)return;const b=this._order.indexOf(r);this._order.splice(b,1);let C=this._order.length;if(l){const E=this._order.indexOf(l);if(E===-1)return void this.fire(new u.y(new Error(`Layer with id "${l}" does not exist on this map.`)));p.slot===this._layers[l].slot?C=E:u.w(`Layer with id "${l}" has a different slot. Layers can only be rearranged within the same slot.`)}this._order.splice(C,0,r),this._changes.setDirty(),this._layerOrderChanged=!0,this.mergeLayers()}removeLayer(r){this._checkLoaded();const l=this._checkLayer(r);if(!l)return;l.setEventedParent(null);const p=this._order.indexOf(r);this._order.splice(p,1),delete this._layers[r],this._changes.setDirty(),this._layerOrderChanged=!0,this._configDependentLayers.delete(l.fqid),this._changes.removeLayer(l);const b=this.getOwnLayerSourceCache(l);if(b&&b.castsShadows){let C=!1;for(const E in this._layers)if(this._layers[E].source===l.source&&this._layers[E].canCastShadows()){C=!0;break}b.castsShadows=C}l.onRemove&&l.onRemove(this.map),this.mergeLayers()}getOwnLayer(r){return this._layers[r]}hasLayer(r){return r in this._mergedLayers}hasLayerType(r){for(const l in this._layers)if(this._layers[l].type===r)return!0;return!1}setLayerZoomRange(r,l,p){this._checkLoaded();const b=this._checkLayer(r);b&&(b.minzoom===l&&b.maxzoom===p||(l!=null&&(b.minzoom=l),p!=null&&(b.maxzoom=p),this._updateLayer(b)))}getSlots(){return this._checkLoaded(),this._mergedSlots}setSlot(r,l){this._checkLoaded();const p=this._checkLayer(r);p&&p.slot!==l&&(p.slot=l,this._updateLayer(p))}setFilter(r,l,p={}){this._checkLoaded();const b=this._checkLayer(r);if(b&&!u.bn(b.filter,l))return l==null?(b.filter=void 0,void this._updateLayer(b)):void(this._validate(ii,`layers.${b.id}.filter`,l,{layerType:b.type},p)||(b.filter=u.cp(l),this._updateLayer(b)))}getFilter(r){const l=this._checkLayer(r);if(l)return u.cp(l.filter)}setLayoutProperty(r,l,p,b={}){this._checkLoaded();const C=this._checkLayer(r);if(C&&!u.bn(C.getLayoutProperty(l),p)){if(p!=null&&(!b||b.validate!==!1)&&Pa(C,eo.call(Wi,{key:`layers.${r}.layout.${l}`,layerType:C.type,objectKey:l,value:p,styleSpec:u.a3,style:{glyphs:!0,sprite:!0}})))return;C.setLayoutProperty(l,p),C.configDependencies.size!==0&&this._configDependentLayers.add(C.fqid),this._updateLayer(C)}}getLayoutProperty(r,l){const p=this._checkLayer(r);if(p)return p.getLayoutProperty(l)}setPaintProperty(r,l,p,b={}){this._checkLoaded();const C=this._checkLayer(r);if(!C||u.bn(C.getPaintProperty(l),p)||p!=null&&(!b||b.validate!==!1)&&Pa(C,Ki.call(Wi,{key:`layers.${r}.paint.${l}`,layerType:C.type,objectKey:l,value:p,styleSpec:u.a3})))return;const E=C.setPaintProperty(l,p);C.configDependencies.size!==0&&this._configDependentLayers.add(C.fqid),E&&this._updateLayer(C),this._changes.updatePaintProperties(C)}getPaintProperty(r,l){const p=this._checkLayer(r);if(p)return p.getPaintProperty(l)}setFeatureState(r,l){if(this._checkLoaded(),"target"in r){if("featuresetId"in r.target){const{featuresetId:B,importId:V}=r.target,U=this.getFragmentStyle(V),Y=U.getFeaturesetLayers(B);for(const{source:ee,sourceLayer:le}of Y)U.setFeatureState({id:r.id,source:ee,sourceLayer:le},l)}else if("layerId"in r.target){const{layerId:B}=r.target,V=this.getLayer(B);this.setFeatureState({id:r.id,source:V.source,sourceLayer:V.sourceLayer},l)}return}const p=r.source,b=r.sourceLayer,C=this._checkSource(p);if(!C)return;const E=C.type;if(E==="geojson"&&b)return void this.fire(new u.y(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if(E==="vector"&&!b)return void this.fire(new u.y(new Error("The sourceLayer parameter must be provided for vector source types.")));r.id===void 0&&this.fire(new u.y(new Error("The feature id parameter must be provided.")));const R=this.getOwnSourceCaches(p);for(const B of R)B.setFeatureState(b,r.id,l)}removeFeatureState(r,l){if(this._checkLoaded(),"target"in r){if("featuresetId"in r.target){const{featuresetId:B,importId:V}=r.target,U=this.getFragmentStyle(V),Y=U.getFeaturesetLayers(B);for(const{source:ee,sourceLayer:le}of Y)U.removeFeatureState({id:r.id,source:ee,sourceLayer:le},l)}else if("layerId"in r.target){const{layerId:B}=r.target,V=this.getLayer(B);this.removeFeatureState({id:r.id,source:V.source,sourceLayer:V.sourceLayer},l)}return}const p=r.source,b=this._checkSource(p);if(!b)return;const C=b.type,E=C==="vector"?r.sourceLayer:void 0;if(C==="vector"&&!E)return void this.fire(new u.y(new Error("The sourceLayer parameter must be provided for vector source types.")));if(l&&typeof r.id!="string"&&typeof r.id!="number")return void this.fire(new u.y(new Error("A feature id is required to remove its specific state property.")));const R=this.getOwnSourceCaches(p);for(const B of R)B.removeFeatureState(E,r.id,l)}getFeatureState(r){if(this._checkLoaded(),"target"in r){let C;if("featuresetId"in r.target){const{featuresetId:E,importId:R}=r.target,B=this.getFragmentStyle(R),V=B.getFeaturesetLayers(E);for(const{source:U,sourceLayer:Y}of V){const ee=B.getFeatureState({id:r.id,source:U,sourceLayer:Y});if(ee&&!C)C=ee;else if(!u.bn(C,ee))return void this.fire(new u.y(new Error("The same feature id exists in multiple sources in the featureset, but their feature states are not consistent through the sources.")))}}else if("layerId"in r.target){const{layerId:E}=r.target,R=this.getLayer(E);C=this.getFeatureState({id:r.id,source:R.source,sourceLayer:R.sourceLayer})}return C}const l=r.source,p=r.sourceLayer,b=this._checkSource(l);if(b){if(b.type!=="vector"||p)return r.id===void 0&&this.fire(new u.y(new Error("The feature id parameter must be provided."))),this.getOwnSourceCaches(l)[0].getFeatureState(p,r.id);this.fire(new u.y(new Error("The sourceLayer parameter must be provided for vector source types.")))}}setTransition(r){return this.stylesheet.transition=u.l({},this.stylesheet.transition,r),this.transition=this.stylesheet.transition,this}getTransition(){return u.l({},this.stylesheet.transition)}serialize(){this._checkLoaded();const r=this.getTerrain(),l=r&&this.terrain&&this.terrain.scope===this.scope?r:this.stylesheet.terrain;return u.cv({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,fragment:this.stylesheet.fragment,imports:this._serializeImports(),schema:this.stylesheet.schema,camera:this.stylesheet.camera,light:this.stylesheet.light,lights:this.stylesheet.lights,terrain:l,fog:this.stylesheet.fog,snow:this.stylesheet.snow,rain:this.stylesheet.rain,center:this.stylesheet.center,"color-theme":this.stylesheet["color-theme"],zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:this._serializeSources(),layers:this._serializeLayers(this._order)},p=>p!==void 0)}_updateFilteredLayers(r){for(const l of Object.values(this._mergedLayers))r(l)&&this._updateLayer(l)}_updateLayer(r){this._changes.updateLayer(r);const l=this.getLayerSourceCache(r),p=u.aC(r.source,r.scope),b=this._changes.getUpdatedSourceCaches();r.source&&!b[p]&&l&&l.getSource().type!=="raster"&&(this._changes.updateSourceCache(p,"reload"),l.pause()),r.invalidateCompiledFilter()}_flattenAndSortRenderedFeatures(r){const l=R=>this._mergedLayers[R].is3D(),p=this.order,b={},C=[];for(let R=p.length-1;R>=0;R--){const B=p[R];if(l(B)){b[B]=R;for(const V of r){const U=V[B];if(U)for(const Y of U)C.push(Y)}}}C.sort((R,B)=>B.intersectionZ-R.intersectionZ);const E=[];for(let R=p.length-1;R>=0;R--){const B=p[R];if(l(B))for(let V=C.length-1;V>=0;V--){const U=C[V].feature;if(U.layer&&b[U.layer.id]<R)break;E.push(U),C.pop()}else for(const V of r){const U=V[B];if(U)for(const Y of U)E.push(Y.feature)}}return E}queryRenderedFeatures(r,l,p){let b;l&&!Array.isArray(l)&&l.filter&&(this._validate(ii,"queryRenderedFeatures.filter",l.filter,null,l),b=u.aZ(l.filter));const C={},E=U=>{if(Ja.has(U.type))return;const Y=this.getOwnLayerSourceCache(U),ee=C[Y.id]=C[Y.id]||{sourceCache:Y,layers:{},has3DLayers:!1};U.is3D()&&(ee.has3DLayers=!0),ee.layers[U.fqid]=ee.layers[U.fqid]||{styleLayer:U,targets:[]},ee.layers[U.fqid].targets.push({filter:b})};if(l&&l.layers){if(!Array.isArray(l.layers))return this.fire(new u.y(new Error("parameters.layers must be an Array."))),[];for(const U of l.layers){const Y=this._layers[U];if(!Y)return this.fire(new u.y(new Error(`The layer '${U}' does not exist in the map's style and cannot be queried for features.`))),[];E(Y)}}else for(const U in this._layers)E(this._layers[U]);const R=this._queryRenderedFeatures(r,C,p),B=this._flattenAndSortRenderedFeatures(R),V=[];for(const U of B)u.cs(U.layer.id)===this.scope&&V.push(U);return V}queryRenderedFeatureset(r,l,p){let b;l&&!Array.isArray(l)&&l.filter&&(this._validate(ii,"queryRenderedFeatures.filter",l.filter,null,l),b=u.aZ(l.filter));const C="mock",E=[];if(l&&l.target)E.push(Object.assign({},l,{targetId:C,filter:b}));else{const U=this.getFeaturesetDescriptors();for(const Y of U)E.push({targetId:C,filter:b,target:Y});for(const{style:Y}of this.fragments){const ee=Y.getFeaturesetDescriptors();for(const le of ee)E.push({targetId:C,filter:b,target:le})}}const R=this.queryRenderedTargets(r,E,p),B=[],V=new Set;for(const U of R)for(const Y of U.variants[C])sr(Y,U,V)||B.push(new u.cw(U,Y));return B}queryRenderedTargets(r,l,p){const b={},C=(R,B,V,U)=>{const Y=b[B.id]=b[B.id]||{sourceCache:B,layers:{},has3DLayers:!1};if(Y.layers[R.fqid]=Y.layers[R.fqid]||{styleLayer:R,targets:[]},R.is3D()&&(Y.has3DLayers=!0),!U)return V.uniqueFeatureID=!1,void Y.layers[R.fqid].targets.push(V);Y.layers[R.fqid].targets.push(Object.assign({},V,{namespace:U.namespace,properties:U.properties,uniqueFeatureID:U.uniqueFeatureID}))};for(const R of l)if("featuresetId"in R.target){const{featuresetId:B,importId:V}=R.target,U=this.getFragmentStyle(V);if(!U||!U._featuresetSelectors)continue;const Y=U._featuresetSelectors[B];if(!Y){this.fire(new u.y(new Error(`The featureset '${B}' does not exist in the map's style and cannot be queried for features.`)));continue}for(const ee of Y){const le=U.getOwnLayer(ee.layerId);le&&!Ja.has(le.type)&&C(le,U.getOwnLayerSourceCache(le),R,ee)}}else if("layerId"in R.target){const{layerId:B}=R.target,V=this.getLayer(B);if(!V||Ja.has(V.type))continue;C(V,this.getLayerSourceCache(V),R)}const E=this._queryRenderedFeatures(r,b,p);return this._flattenAndSortRenderedFeatures(E)}_queryRenderedFeatures(r,l,p){const b=[],C=!!this.map._showQueryGeometry,E=mn.createFromScreenPoints(r,p);for(const R in l){const B=Yr(E,l[R],this._availableImages,p,C);Object.keys(B).length&&b.push(B)}if(this.placement)for(const R in l){if(!l[R].sourceCache._onlySymbols)continue;const B=Ti(E.screenGeometry,l[R],this._availableImages,this.placement.collisionIndex,this.placement.retainedQueryData);Object.keys(B).length&&b.push(B)}return b}querySourceFeatures(r,l){const p=l&&l.filter;p&&this._validate(ii,"querySourceFeatures.filter",p,null,l);let b=[];const C=this.getOwnSourceCaches(r);for(const E of C)b=b.concat(ho(E,l));return b}addSourceType(r,l,p){return ss.getSourceType(r)?p(new Error(`A source type called "${r}" already exists.`)):(ss.setSourceType(r,l),l.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:r,url:l.workerSourceURL},p):p(null,null))}getFlatLight(){return this.light.getLight()}setFlatLight(r,l,p={}){this._checkLoaded();const b=this.light.getLight();let C=!1;for(const R in r)if(!u.bn(r[R],b[R])){C=!0;break}if(!C)return;const E=this._getTransitionParameters();this.light.setLight(r,l,p),this.light.updateTransitions(E)}getTerrain(){return this.terrain&&this.terrain.drapeRenderMode===1?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:"",exaggeration:0},0)}checkCanvasFingerprintNoise(){this.disableElevatedTerrain===void 0&&(this.disableElevatedTerrain=u.q.hasCanvasFingerprintNoise(),this.disableElevatedTerrain&&u.w("Terrain and hillshade are disabled because of Canvas2D limitations when fingerprinting protection is enabled (e.g. in private browsing mode)."))}setTerrain(r,l=1){if(this._checkLoaded(),!r)return this.terrainSetForDrapingOnly()||(delete this.terrain,this.map.transform.projection.requiresDraping&&this.setTerrainForDraping()),l===0&&delete this.terrain,r===null?this.stylesheet.terrain=null:delete this.stylesheet.terrain,this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);this.checkCanvasFingerprintNoise();let p=r;const b=r.source==null;if(l===1){if(this.disableElevatedTerrain)return;if(typeof p.source=="object"){const R="terrain-dem-src";this.addSource(R,p.source),p=u.cp(p),p=u.l(p,{source:R})}const C=u.l({},p),E={};if(this.terrain&&b){C.source=this.terrain.get().source;const R=this.terrain?this.getFragmentStyle(this.terrain.scope):null;R&&(E.style=R.serialize())}if(this._validate(qt,"terrain",C,E))return}if(!this.terrain||this.terrain.scope!==this.scope&&!b||this.terrain&&l!==this.terrain.drapeRenderMode){if(!p)return;this._createTerrain(p,l),this.fire(new u.z("data",{dataType:"style"}))}else{const C=this.terrain,E=C.get();for(const R of Object.keys(u.a3.terrain))!p.hasOwnProperty(R)&&u.a3.terrain[R].default&&(p[R]=u.a3.terrain[R].default);for(const R in r)if(!u.bn(r[R],E[R])){C.set(r,this.options),this.stylesheet.terrain=r;const B=this._getTransitionParameters({duration:0});C.updateTransitions(B),this.fire(new u.z("data",{dataType:"style"}));break}}this.mergeTerrain(),this.updateDrapeFirstLayers(),this._markersNeedUpdate=!0}_createFog(r){const l=this.fog=new hn(r,this.map.transform,this.scope,this.options);this.stylesheet.fog=l.get();const p=this._getTransitionParameters({duration:0});l.updateTransitions(p)}_createSnow(r){const l=this.snow=new rt(r,this.map.transform,this.scope,this.options);this.stylesheet.snow=l.get();const p=this._getTransitionParameters({duration:0});l.updateTransitions(p)}_createRain(r){const l=this.rain=new Qe(r,this.map.transform,this.scope,this.options);this.stylesheet.rain=l.get();const p=this._getTransitionParameters({duration:0});l.updateTransitions(p)}_updateMarkersOpacity(){this.map._markers.length!==0&&this.map._requestDomTask(()=>{for(const r of this.map._markers)r._evaluateOpacity()})}getFog(){return this.fog?this.fog.get():null}setFog(r){if(this._checkLoaded(),!r)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const l=this.fog;if(!u.bn(l.get(),r)){l.set(r,this.options),this.stylesheet.fog=l.get();const p=this._getTransitionParameters({duration:0});l.updateTransitions(p)}}else this._createFog(r);this._markersNeedUpdate=!0}getSnow(){return this.snow?this.snow.get():null}setSnow(r){if(this._checkLoaded(),!r)return delete this.snow,void delete this.stylesheet.snow;if(this.snow){const l=this.snow;if(!u.bn(l.get(),r)){l.set(r,this.options),this.stylesheet.snow=l.get();const p=this._getTransitionParameters({duration:0});l.updateTransitions(p)}}else this._createSnow(r);this._markersNeedUpdate=!0}getRain(){return this.rain?this.rain.get():null}setRain(r){if(this._checkLoaded(),!r)return delete this.rain,void delete this.stylesheet.rain;if(this.rain){const l=this.rain;if(!u.bn(l.get(),r)){l.set(r,this.options),this.stylesheet.rain=l.get();const p=this._getTransitionParameters({duration:0});l.updateTransitions(p)}}else this._createRain(r);this._markersNeedUpdate=!0}_reloadColorTheme(){const r=()=>{for(const b in this._layers)this._layers[b].lut=this._styleColorTheme.lut;for(const b in this._sourceCaches)this._sourceCaches[b].clearTiles()},l=this._styleColorTheme.colorThemeOverride?this._styleColorTheme.colorThemeOverride:this._styleColorTheme.colorTheme;if(!l)return this._styleColorTheme.lut=null,void r();const p=this._evaluateColorThemeData(l);this._loadColorTheme(p).then(()=>{this.fire(new u.z("colorthemeset")),r()}).catch(b=>{u.w(`Couldn't set color theme: ${b}`)})}setColorTheme(r){this._checkLoaded(),this._styleColorTheme.colorThemeOverride&&u.w("Note: setColorTheme is called on a style with a color-theme override, the passed color-theme won't be visible."),this._styleColorTheme.colorTheme=r,this._reloadColorTheme()}setImportColorTheme(r,l){const p=this.getFragmentStyle(r);p&&(p._styleColorTheme.colorThemeOverride=l,p._reloadColorTheme())}_getTransitionParameters(r){return{now:u.q.now(),transition:u.l(this.transition,r)}}updateDrapeFirstLayers(){if(!this.terrain)return;const r=[],l=[];for(const p of this._mergedOrder)this.isLayerDraped(this._mergedLayers[p])?r.push(p):l.push(p);this._drapedFirstOrder=[],this._drapedFirstOrder.push(...r),this._drapedFirstOrder.push(...l)}_createTerrain(r,l){const p=this.terrain=new K(r,l,this.scope,this.options);l===1&&(this.stylesheet.terrain=r),this.mergeTerrain(),this.updateDrapeFirstLayers(),this._force3DLayerUpdate();const b=this._getTransitionParameters({duration:0});p.updateTransitions(b)}_force3DLayerUpdate(){for(const r in this._layers){const l=this._layers[r];l.type==="fill-extrusion"&&this._updateLayer(l)}}_forceSymbolLayerUpdate(){for(const r in this._layers){const l=this._layers[r];l.type==="symbol"&&this._updateLayer(l)}}_validate(r,l,p,b,C={}){if(C&&C.validate===!1)return!1;const E=u.l({},this.serialize());return Pa(this,r.call(Wi,u.l({key:l,style:E,value:p,styleSpec:u.a3},b)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),u.cx.off("pluginStateChange",this._rtlTextPluginCallback);for(const r in this._mergedLayers)this._mergedLayers[r].setEventedParent(null);for(const r in this._mergedSourceCaches)this._mergedSourceCaches[r].clearTiles(),this._mergedSourceCaches[r].setEventedParent(null);this.setEventedParent(null),delete this.fog,delete this.snow,delete this.rain,delete this.terrain,delete this.ambientLight,delete this.directionalLight,this.isRootStyle()&&(this.imageManager.setEventedParent(null),this.modelManager.setEventedParent(null),this.dispatcher.remove())}clearSource(r){const l=this.getSourceCaches(r);for(const p of l)p.clearTiles()}clearSources(){for(const r in this._mergedSourceCaches)this._mergedSourceCaches[r].clearTiles()}reloadSource(r){const l=this.getSourceCaches(r);for(const p of l)p.resume(),p.reload()}reloadSources(){for(const r of this.getSources())r.reload&&r.reload()}reloadModels(){this.modelManager.reloadModels(""),this.forEachFragmentStyle(r=>{r.modelManager.reloadModels(r.scope)})}updateSources(r){let l;this.directionalLight&&(l=ao(this.directionalLight));for(const p in this._mergedSourceCaches)this._mergedSourceCaches[p].update(r,void 0,void 0,l)}_generateCollisionBoxes(){for(const r in this._sourceCaches){const l=this._sourceCaches[r];l.resume(),l.reload()}}_updatePlacement(r,l,p,b,C,E,R=!1){let B=!1,V=!1;const U={},Y={};for(const ee of this._mergedOrder){const le=this._mergedLayers[ee];if(le.type!=="symbol")continue;const Ee=u.aC(le.source,le.scope);let xe=U[Ee];if(!xe){const Me=this.getLayerSourceCache(le);if(!Me)continue;const qe=Me.getRenderableIds(!0).map(yt=>Me.getTileByID(yt));Y[Ee]=qe.slice(),xe=U[Ee]=qe.sort((yt,gt)=>gt.tileID.overscaledZ-yt.tileID.overscaledZ||(yt.tileID.isLessThan(gt.tileID)?-1:1))}const Oe=this.crossTileSymbolIndex.addLayer(le,xe,l.center.lng,l.projection);B=B||Oe}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._mergedOrder),R=R||this._layerOrderChanged||b===0,this._layerOrderChanged&&this.fire(new u.z("neworder")),(R||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(u.q.now(),l.zoom))&&(this.pauseablePlacement=new ys(l,this._mergedOrder,R,p,b,C,this.placement,this.fog&&l.projection.supportsFog?this.fog.state:null,this._buildingIndex),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._mergedOrder,this._mergedLayers,U,Y,this.map.painter.scaleFactor),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(u.q.now()),V=!0),B&&this.pauseablePlacement.placement.setStale()),V||B){this._buildingIndex.onNewFrame(l.zoom);for(let ee=0;ee<this._mergedOrder.length;ee++){const le=this._mergedLayers[this._mergedOrder[ee]];if(le.type!=="symbol")continue;const Ee=this.isLayerClipped(le);this.placement.updateLayerOpacities(le,U[u.aC(le.source,le.scope)],ee,Ee?E:null)}}return{needsRerender:!this.pauseablePlacement.isDone()||this.placement.hasTransitions(u.q.now())}}_releaseSymbolFadeTiles(){for(const r in this._sourceCaches)this._sourceCaches[r].releaseSymbolFadeTiles()}addImport(r,l){this._checkLoaded();const p=this.stylesheet.imports=this.stylesheet.imports||[];if(p.findIndex(({id:C})=>C===r.id)!==-1)return void this.fire(new u.y(new Error(`Import with id '${r.id}' already exists in the map's style.`)));if(!l)return p.push(r),this._loadImports([r],!0);const b=p.findIndex(({id:C})=>C===l);return b===-1&&this.fire(new u.y(new Error(`Import with id "${l}" does not exist on this map.`))),this.stylesheet.imports=p.slice(0,b).concat(r).concat(p.slice(b)),this._loadImports([r],!0,l)}updateImport(r,l){this._checkLoaded();const p=this.stylesheet.imports||[],b=this.getImportIndex(r);return b===-1?this:typeof l=="string"?(this.setImportUrl(r,l),this):(l.url&&l.url!==p[b].url&&this.setImportUrl(r,l.url),u.bn(l.config,p[b].config)||this.setImportConfig(r,l.config,l.data.schema),u.bn(l.data,p[b].data)||this.setImportData(r,l.data),this)}moveImport(r,l){this._checkLoaded();let p=this.stylesheet.imports||[];const b=this.getImportIndex(r);if(b===-1)return this;const C=this.getImportIndex(l);if(C===-1)return this;const E=p[b],R=this.fragments[b];return p=p.filter(({id:B})=>B!==r),this.fragments=this.fragments.filter(({id:B})=>B!==r),this.stylesheet.imports=p.slice(0,C).concat(E).concat(p.slice(C)),this.fragments=this.fragments.slice(0,C).concat(R).concat(this.fragments.slice(C)),this.mergeLayers(),this}setImportUrl(r,l){this._checkLoaded();const p=this.stylesheet.imports||[],b=this.getImportIndex(r);if(b===-1)return this;p[b].url=l;const C=this.fragments[b];return C.style=this._createFragmentStyle(p[b]),C.style.on("style.import.load",()=>this.mergeAll()),C.style.loadURL(l),this}setImportData(r,l){this._checkLoaded();const p=this.getImportIndex(r),b=this.stylesheet.imports||[];return p===-1?this:l?(this.fragments[p].style.setState(l),this._reloadImports(),this):(delete b[p].data,this.setImportUrl(r,b[p].url))}setImportConfig(r,l,p){this._checkLoaded();const b=this.getImportIndex(r),C=this.stylesheet.imports||[];if(b===-1)return this;l?C[b].config=l:delete C[b].config;const E=this.fragments[b];p&&E.style.stylesheet&&(E.style.stylesheet.schema=p);const R=E.style.stylesheet&&E.style.stylesheet.schema;return E.config=l,E.style.updateConfig(l,R),this.updateConfigDependencies(),this}removeImport(r){this._checkLoaded();const l=this.stylesheet.imports||[],p=this.getImportIndex(r);p!==-1&&(l.splice(p,1),this.fragments[p].style._remove(),this.fragments.splice(p,1),this._reloadImports())}getImportIndex(r){const l=(this.stylesheet.imports||[]).findIndex(p=>p.id===r);return l===-1&&this.fire(new u.y(new Error(`Import '${r}' does not exist in the map's style and cannot be updated.`))),l}getLayer(r){return this._mergedLayers[r]}getSources(){const r=[];for(const l in this._mergedOtherSourceCaches){const p=this._mergedOtherSourceCaches[l];p&&r.push(p.getSource())}return r}getSource(r,l){const p=this.getSourceCache(r,l);return p&&p.getSource()}getLayerSource(r){const l=this.getLayerSourceCache(r);return l&&l.getSource()}getSourceCache(r,l){const p=u.aC(r,l);return this._mergedOtherSourceCaches[p]}getLayerSourceCache(r){const l=u.aC(r.source,r.scope);return r.type==="symbol"?this._mergedSymbolSourceCaches[l]:this._mergedOtherSourceCaches[l]}getSourceCaches(r){if(r==null)return Object.values(this._mergedSourceCaches);const l=[];return this._mergedOtherSourceCaches[r]&&l.push(this._mergedOtherSourceCaches[r]),this._mergedSymbolSourceCaches[r]&&l.push(this._mergedSymbolSourceCaches[r]),l}updateSourceCaches(){const r=this._changes.getUpdatedSourceCaches();for(const l in r){const p=r[l];p==="reload"?this.reloadSource(l):p==="clear"&&this.clearSource(l)}}updateLayers(r){const l=this._changes.getUpdatedPaintProperties();for(const p of l){const b=this.getLayer(p);b&&b.updateTransitions(r)}}getImages(r,l,p){this.imageManager.getImages(l.icons,l.scope,p),this._updateTilesForChangedImages();const b=C=>{C&&C.setDependencies(l.tileID.key,l.type,l.icons)};b(this._otherSourceCaches[l.source]),b(this._symbolSourceCaches[l.source])}rasterizeImages(r,l,p){this.imageManager.rasterizeImages(l,p)}getGlyphs(r,l,p){this.glyphManager.getGlyphs(l.stacks,l.scope,p)}getResource(r,l,p){return u.cy(l,p)}getOwnSourceCache(r){return this._otherSourceCaches[r]}getOwnLayerSourceCache(r){return r.type==="symbol"?this._symbolSourceCaches[r.source]:this._otherSourceCaches[r.source]}getOwnSourceCaches(r){const l=[];return this._otherSourceCaches[r]&&l.push(this._otherSourceCaches[r]),this._symbolSourceCaches[r]&&l.push(this._symbolSourceCaches[r]),l}_isSourceCacheLoaded(r){const l=this.getOwnSourceCaches(r);return l.length===0?(this.fire(new u.y(new Error(`There is no source with ID '${r}'`))),!1):l.every(p=>p.loaded())}has3DLayers(){return this._has3DLayers}hasSymbolLayers(){return this._hasSymbolLayers}hasCircleLayers(){return this._hasCircleLayers}isLayerClipped(r,l){if(!this._clipLayerPresent&&r.type!=="fill-extrusion")return!1;const p=r.type==="fill-extrusion"&&r.sourceLayer==="building";if(r.is3D()){if(p||l&&l.type==="batched-model"||r.type==="model")return!0}else if(r.type==="symbol")return!0;return!1}_clearWorkerCaches(){this.dispatcher.broadcast("clearCaches")}destroy(){this._clearWorkerCaches(),this.fragments.forEach(r=>{r.style._remove()}),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}ss.getSourceType=function(m){return _n[m]},ss.setSourceType=function(m,r){_n[m]=r},ss.registerForPluginStateChange=u.ch;var Xa=`
#define EPSILON 0.0000001
#define PI 3.141592653589793
#ifdef RENDER_CUTOFF
float cutoff_opacity(vec4 cutoff_params,float depth) {float near=cutoff_params.x;float far=cutoff_params.y;float cutoffStart=cutoff_params.z;float cutoffEnd=cutoff_params.w;float linearDepth=(depth-near)/(far-near);return clamp((linearDepth-cutoffStart)/(cutoffEnd-cutoffStart),0.0,1.0);}
#endif`,Ds=`
out vec4 glFragColor;highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}
#ifdef INDICATOR_CUTOUT
uniform vec3 u_indicator_cutout_centers;uniform vec4 u_indicator_cutout_params;
#endif
vec4 applyCutout(vec4 color,float height) {
#ifdef INDICATOR_CUTOUT
float verticalFadeRange=u_indicator_cutout_centers.z*0.25;float holeMinOpacity=mix(1.0,u_indicator_cutout_params.x,smoothstep(u_indicator_cutout_centers.z,u_indicator_cutout_centers.z+verticalFadeRange,height));float holeRadius=max(u_indicator_cutout_params.y,0.0);float holeAspectRatio=u_indicator_cutout_params.z;float fadeStart=u_indicator_cutout_params.w;float distA=distance(vec2(gl_FragCoord.x,gl_FragCoord.y*holeAspectRatio),vec2(u_indicator_cutout_centers[0],u_indicator_cutout_centers[1]*holeAspectRatio));return color*min(smoothstep(fadeStart,holeRadius,distA)+holeMinOpacity,1.0);
#else
return color;
#endif
}
#ifdef DEBUG_WIREFRAME
#define HANDLE_WIREFRAME_DEBUG \\
glFragColor=vec4(0.7,0.0,0.0,0.7); \\
gl_FragDepth=gl_FragCoord.z-0.0001;
#else
#define HANDLE_WIREFRAME_DEBUG
#endif
#ifdef RENDER_CUTOFF
uniform highp vec4 u_cutoff_params;in float v_cutoff_opacity;
#endif
vec4 textureLodCustom(sampler2D image,highp vec2 pos,highp vec2 lod_coord) {highp vec2 size=vec2(textureSize(image,0));highp vec2 dx=dFdx(lod_coord.xy*size);highp vec2 dy=dFdy(lod_coord.xy*size);highp float delta_max_sqr=max(dot(dx,dx),dot(dy,dy));highp float lod=0.5*log2(delta_max_sqr);return textureLod(image,pos,lod);}vec4 applyLUT(highp sampler3D lut,vec4 col) {vec3 size=vec3(textureSize(lut,0));vec3 uvw=(col.rbg*float(size-1.0)+0.5)/size;return vec4(texture(lut,uvw).rgb,col.a);}vec3 applyLUT(highp sampler3D lut,vec3 col) {return applyLUT(lut,vec4(col,1.0)).rgb;}`,ql=`
#define EXTENT 8192.0
#define RAD_TO_DEG 180.0/PI
#define DEG_TO_RAD PI/180.0
#define GLOBE_RADIUS EXTENT/PI/2.0
float wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}
#ifdef PROJECTION_GLOBE_VIEW
vec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {
#ifndef PROJECTED_POS_ON_VIEWPORT
float tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;
#else
return vec3(0.0);
#endif
}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(
unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const vec2 units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (units_to_pixels*pos+offset)/pattern_size;}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {return get_pattern_pos(pixel_coord_upper,pixel_coord_lower,pattern_size,vec2(tile_units_to_pixels),pos);}float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(PI/4.0+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}
#ifdef RENDER_CUTOFF
uniform vec4 u_cutoff_params;out float v_cutoff_opacity;
#endif
const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);const float skirtOffset=24575.0;vec3 decomposeToPosAndSkirt(vec2 posWithComposedSkirt)
{float skirt=float(posWithComposedSkirt.x >=skirtOffset);vec2 pos=posWithComposedSkirt-vec2(skirt*skirtOffset,0.0);return vec3(pos,skirt);}`,ul="in highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;out highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}",mu=`
#define ELEVATION_SCALE 7.0
#define ELEVATION_OFFSET 450.0
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(
mix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}
#else
vec3 elevationVector(vec2 pos) { return vec3(0,0,1); }
#endif
#ifdef TERRAIN
uniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float currentElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture(u_dem,pos).r;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=texture(u_dem,pos).r;float tr=texture(u_dem,pos+vec2(dd,0)).r;float bl=texture(u_dem,pos+vec2(0,dd)).r;float br=texture(u_dem,pos+vec2(dd,dd)).r;return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}float prevElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture(u_dem_prev,pos).r;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=texture(u_dem_prev,pos).r;float tr=texture(u_dem_prev,pos+vec2(dd,0)).r;float bl=texture(u_dem_prev,pos+vec2(0,dd)).r;float br=texture(u_dem_prev,pos+vec2(dd,dd)).r;return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}
#ifdef TERRAIN_VERTEX_MORPHING
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}
#else
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
return currentElevation(apos);}
#endif
vec4 fourSample(vec2 pos,vec2 off) {float tl=texture(u_dem,pos).r;float tr=texture(u_dem,pos+vec2(off.x,0.0)).r;float bl=texture(u_dem,pos+vec2(0.0,off.y)).r;float br=texture(u_dem,pos+off).r;return vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}
#else
float elevation(vec2 pos) { return 0.0; }
#endif
#ifdef DEPTH_OCCLUSION
uniform highp sampler2D u_depth;uniform highp vec2 u_depth_size_inv;uniform highp vec2 u_depth_range_unpack;uniform highp float u_occluder_half_size;uniform highp float u_occlusion_depth_offset;
#ifdef DEPTH_D24
float unpack_depth(float depth) {return depth*u_depth_range_unpack.x+u_depth_range_unpack.y;}vec4 unpack_depth4(vec4 depth) {return depth*u_depth_range_unpack.x+vec4(u_depth_range_unpack.y);}
#else
highp float unpack_depth_rgba(vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}
#endif
bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;
#ifdef DEPTH_D24
float depth=unpack_depth(texture(u_depth,(coord.xy+1.0)*0.5).r);
#else
float depth=unpack_depth_rgba(texture(u_depth,(coord.xy+1.0)*0.5));
#endif
return coord.z+u_occlusion_depth_offset > depth;}highp vec4 getCornerDepths(vec2 coord) {highp vec3 df=vec3(u_occluder_half_size*u_depth_size_inv,0.0);highp vec2 uv=0.5*coord.xy+0.5;
#ifdef DEPTH_D24
highp vec4 depth=vec4(
texture(u_depth,uv-df.xz).r,texture(u_depth,uv+df.xz).r,texture(u_depth,uv-df.zy).r,texture(u_depth,uv+df.zy).r
);depth=unpack_depth4(depth);
#else
highp vec4 depth=vec4(
unpack_depth_rgba(texture(u_depth,uv-df.xz)),unpack_depth_rgba(texture(u_depth,uv+df.xz)),unpack_depth_rgba(texture(u_depth,uv-df.zy)),unpack_depth_rgba(texture(u_depth,uv+df.zy))
);
#endif
return depth;}highp float occlusionFadeMultiSample(vec4 frag) {highp vec3 coord=frag.xyz/frag.w;highp vec2 uv=0.5*coord.xy+0.5;int NX=3;int NY=4;highp vec2 df=u_occluder_half_size*u_depth_size_inv;highp vec2 oneStep=2.0*u_occluder_half_size*u_depth_size_inv/vec2(NX-1,NY-1);highp float res=0.0;for (int y=0; y < NY;++y) {for (int x=0; x < NX;++x) {
#ifdef DEPTH_D24
highp float depth=unpack_depth(texture(u_depth,uv-df+vec2(float(x)*oneStep.x,float(y)*oneStep.y)).r);
#else
highp float depth=unpack_depth_rgba(texture(u_depth,uv-df+vec2(float(x)*oneStep.x,float(y)*oneStep.y)));
#endif
res+=1.0-clamp(300.0*(coord.z+u_occlusion_depth_offset-depth),0.0,1.0);}}res=clamp(2.0*res/float(NX*NY)-0.5,0.0,1.0);return res;}highp float occlusionFade(vec4 frag) {highp vec3 coord=frag.xyz/frag.w;highp vec4 depth=getCornerDepths(coord.xy);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z+u_occlusion_depth_offset)-depth),0.0,1.0));}
#else
bool isOccluded(vec4 frag) { return false; }highp float occlusionFade(vec4 frag) { return 1.0; }highp float occlusionFadeMultiSample(vec4 frag) { return 1.0; }
#endif//DEPTH_OCCLUSION`,Zu=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;out vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}
#endif`,Vl=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump vec2 u_fog_vertical_limit;uniform mediump float u_fog_temporal_offset;in vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos,float opacity_limit) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,min(opacity,opacity_limit));}vec3 fog_apply(vec3 color,vec3 pos) {return fog_apply(color,pos,1.0);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec4 fog_apply_premultiplied(vec4 color,vec3 pos,float heightMeters) {float verticalProgress=(u_fog_vertical_limit.x > 0.0 || u_fog_vertical_limit.y > 0.0) ? smoothstep(u_fog_vertical_limit.x,u_fog_vertical_limit.y,heightMeters) : 0.0;float opacityLimit=1.0-smoothstep(0.9,1.0,fog_opacity(pos));return mix(fog_apply_premultiplied(color,pos),color,min(verticalProgress,opacityLimit));}vec3 fog_dither(vec3 color) {return color;}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}
#endif`,$l=`#ifdef RASTER_ARRAY
uniform highp sampler2D u_image0;uniform sampler2D u_image1;const vec4 NODATA=vec4(1);ivec4 _raTexLinearCoord(highp vec2 texCoord,highp vec2 texResolution,out highp vec2 fxy) {texCoord=texCoord*texResolution-0.5;fxy=fract(texCoord);texCoord-=fxy;return ivec4(texCoord.xxyy+vec2(1.5,0.5).xyxy);}vec2 _raTexLinearMix(highp vec2 fxy,highp vec4 colorMix,highp float colorOffset,highp vec4 t00,highp vec4 t10,highp vec4 t01,highp vec4 t11) {vec2 c00=t00==NODATA ? vec2(0) : vec2(colorOffset+dot(t00,colorMix),1);vec2 c10=t10==NODATA ? vec2(0) : vec2(colorOffset+dot(t10,colorMix),1);vec2 c01=t01==NODATA ? vec2(0) : vec2(colorOffset+dot(t01,colorMix),1);vec2 c11=t11==NODATA ? vec2(0) : vec2(colorOffset+dot(t11,colorMix),1);return mix(mix(c01,c11,fxy.x),mix(c00,c10,fxy.x),fxy.y);}vec2 raTexture2D_image0_linear(highp vec2 texCoord,highp vec2 texResolution,highp vec4 colorMix,highp float colorOffset) {vec2 fxy;ivec4 c=_raTexLinearCoord(texCoord,texResolution,fxy);return _raTexLinearMix(fxy,colorMix,colorOffset,texelFetch(u_image0,c.yz,0),texelFetch(u_image0,c.xz,0),texelFetch(u_image0,c.yw,0),texelFetch(u_image0,c.xw,0)
);}vec2 raTexture2D_image1_linear(highp vec2 texCoord,highp vec2 texResolution,highp vec4 colorMix,highp float colorOffset) {vec2 fxy;ivec4 c=_raTexLinearCoord(texCoord,texResolution,fxy);return _raTexLinearMix(fxy,colorMix,colorOffset,texelFetch(u_image1,c.yz,0),texelFetch(u_image1,c.xz,0),texelFetch(u_image1,c.yw,0),texelFetch(u_image1,c.xw,0)
);}vec2 raTexture2D_image0_nearest(highp vec2 texCoord,highp vec2 texResolution,highp vec4 colorMix,highp float colorOffset) {vec4 t=texelFetch(u_image0,ivec2(texCoord*texResolution),0);return t==NODATA ? vec2(0) : vec2(colorOffset+dot(t,colorMix),1);}vec2 raTexture2D_image1_nearest(highp vec2 texCoord,highp vec2 texResolution,highp vec4 colorMix,highp float colorOffset) {vec4 t=texelFetch(u_image1,ivec2(texCoord*texResolution),0);return t==NODATA ? vec2(0) : vec2(colorOffset+dot(t,colorMix),1);}
#endif`,kl=`#ifdef RASTER_ARRAY
uniform sampler2D u_velocity;uniform mediump vec2 u_velocity_res;uniform mediump float u_max_speed;const vec4 NO_DATA=vec4(1);const vec2 INVALID_VELOCITY=vec2(-1);uniform highp vec2 u_uv_offset;uniform highp float u_data_offset;uniform highp vec2 u_data_scale;ivec4 rasterArrayLinearCoord(highp vec2 texCoord,highp vec2 texResolution,out highp vec2 fxy) {texCoord=texCoord*texResolution-0.5;fxy=fract(texCoord);texCoord-=fxy;return ivec4(texCoord.xxyy+vec2(1.5,0.5).xyxy);}highp vec2 lookup_velocity(highp vec2 uv) {uv=u_uv_offset.x+u_uv_offset.y*uv;highp vec2 fxy;ivec4 c=rasterArrayLinearCoord(uv,u_velocity_res,fxy);highp vec4 tl=texelFetch(u_velocity,c.yz,0);highp vec4 tr=texelFetch(u_velocity,c.xz,0);highp vec4 bl=texelFetch(u_velocity,c.yw,0);highp vec4 br=texelFetch(u_velocity,c.xw,0);if (tl==NO_DATA) {return INVALID_VELOCITY;}if (tr==NO_DATA) {return INVALID_VELOCITY;}if (bl==NO_DATA) {return INVALID_VELOCITY;}if (br==NO_DATA) {return INVALID_VELOCITY;}highp vec4 t=mix(mix(bl,br,fxy.x),mix(tl,tr,fxy.x),fxy.y);highp vec2 velocity=u_data_offset+vec2(dot(t.rg,u_data_scale),dot(t.ba,u_data_scale));velocity.y=-velocity.y;velocity/=max(u_max_speed,length(velocity));return velocity;}
#endif
uniform highp float u_particle_pos_scale;uniform highp vec2 u_particle_pos_offset;highp vec4 pack_pos_to_rgba(highp vec2 p) {highp vec2 v=(p+u_particle_pos_offset)/u_particle_pos_scale;highp vec4 r=vec4(v.x,fract(v.x*255.0),v.y,fract(v.y*255.0));return vec4(r.x-r.y/255.0,r.y,r.z-r.w/255.0,r.w);}highp vec2 unpack_pos_from_rgba(highp vec4 v) {v=floor(v*255.0+0.5)/255.0;highp vec2 p=vec2(v.x+(v.y/255.0),v.z+(v.w/255.0));return u_particle_pos_scale*p-u_particle_pos_offset;}`,yc=`#ifdef RENDER_SHADOWS
uniform mediump vec3 u_shadow_direction;uniform highp vec3 u_shadow_normal_offset;vec3 shadow_normal_offset(vec3 normal) {float tileInMeters=u_shadow_normal_offset[0];vec3 n=vec3(-normal.xy,tileInMeters*normal.z);float dotScale=min(1.0-dot(normal,u_shadow_direction),1.0)*0.5+0.5;return n*dotScale;}vec3 shadow_normal_offset_model(vec3 normal) {vec3 transformed_normal=vec3(-normal.xy,normal.z);float NDotL=dot(normalize(transformed_normal),u_shadow_direction);float dotScale=min(1.0-NDotL,1.0)*0.5+0.5;return normal*dotScale;}float shadow_normal_offset_multiplier0() {return u_shadow_normal_offset[1];}float shadow_normal_offset_multiplier1() {return u_shadow_normal_offset[2];}
#endif//RENDER_SHADOWS`,bc=`#ifdef RENDER_SHADOWS
#ifdef DEPTH_TEXTURE
uniform highp sampler2D u_shadowmap_0;uniform highp sampler2D u_shadowmap_1;
#else
uniform sampler2D u_shadowmap_0;uniform sampler2D u_shadowmap_1;
#endif
uniform float u_shadow_intensity;uniform float u_shadow_map_resolution;uniform float u_shadow_texel_size;uniform highp vec3 u_shadow_normal_offset;uniform vec2 u_fade_range;uniform mediump vec3 u_shadow_direction;uniform highp vec3 u_shadow_bias;highp float shadow_sample_1(highp vec2 uv,highp float compare) {highp float shadow_depth;
#ifdef DEPTH_TEXTURE
shadow_depth=texture(u_shadowmap_1,uv).r;
#else
shadow_depth=unpack_depth(texture(u_shadowmap_1,uv))*0.5+0.5;
#endif
return step(shadow_depth,compare);}highp float shadow_sample_0(highp vec2 uv,highp float compare) {highp float shadow_depth;
#ifdef DEPTH_TEXTURE
shadow_depth=texture(u_shadowmap_0,uv).r;
#else
shadow_depth=unpack_depth(texture(u_shadowmap_0,uv))*0.5+0.5;
#endif
return step(shadow_depth,compare);}float shadow_occlusion_1(highp vec4 pos,highp float bias) {highp vec2 uv=pos.xy;return shadow_sample_1(uv,pos.z-bias);}float shadow_occlusion_0(highp vec4 pos,highp float bias) {highp float compare0=pos.z-bias;
#ifdef TEXTURE_GATHER
highp vec2 uv=pos.xy;highp vec4 samples=textureGather(u_shadowmap_0,uv,0);lowp vec4 stepSamples=step(samples,vec4(compare0));
#else
highp vec2 uv00=pos.xy-vec2(0.5*u_shadow_texel_size);highp vec2 uv10=uv00+vec2(u_shadow_texel_size,0.0);highp vec2 uv01=uv00+vec2(0.0,u_shadow_texel_size);highp vec2 uv11=uv01+vec2(u_shadow_texel_size,0.0);lowp vec4 stepSamples=vec4(
shadow_sample_0(uv01,compare0),shadow_sample_0(uv11,compare0),shadow_sample_0(uv10,compare0),shadow_sample_0(uv00,compare0)
);
#endif
vec2 f=fract(pos.xy*u_shadow_map_resolution-vec2(0.5));lowp vec2 lerpx=mix(stepSamples.wx,stepSamples.zy,f.xx);return mix(lerpx.x,lerpx.y,f.y);}float shadow_occlusion(highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth,highp float bias) {
#ifdef SHADOWS_SINGLE_CASCADE
light_view_pos0.xyz/=light_view_pos0.w;vec2 abs_bounds=abs(light_view_pos0.xy);if (abs_bounds.x >=1.0 || abs_bounds.y >=1.0) {return 0.0;}light_view_pos0.xyz=light_view_pos0.xyz*0.5+0.5;return shadow_occlusion_0(light_view_pos0,bias);
#else
light_view_pos0.xyz/=light_view_pos0.w;light_view_pos1.xyz/=light_view_pos1.w;vec4 uv=vec4(light_view_pos0.xy,light_view_pos1.xy);vec4 abs_bounds=abs(uv);if (abs_bounds.x < 1.0 && abs_bounds.y < 1.0) {light_view_pos0.xyz=light_view_pos0.xyz*0.5+0.5;return shadow_occlusion_0(light_view_pos0,bias);}if (abs_bounds.z >=1.0 || abs_bounds.w >=1.0) {return 0.0;}light_view_pos1.xyz=light_view_pos1.xyz*0.5+0.5;float occlusion1=shadow_occlusion_1(light_view_pos1,bias);return mix(occlusion1,0.0,smoothstep(u_fade_range.x,u_fade_range.y,view_depth));
#endif
}highp float calculate_shadow_bias(float NDotL) {
#ifdef NORMAL_OFFSET
return 0.5*u_shadow_bias.x;
#else
return 0.5*(u_shadow_bias.x+clamp(u_shadow_bias.y*tan(acos(NDotL)),0.0,u_shadow_bias.z));
#endif
}float shadowed_light_factor_normal(vec3 N,highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {float NDotL=dot(N,u_shadow_direction);float bias=calculate_shadow_bias(NDotL);float occlusion=shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);return mix(0.0,(1.0-(u_shadow_intensity*occlusion))*NDotL,step(0.0,NDotL));}float shadowed_light_factor_normal_opacity(vec3 N,highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth,float shadow_opacity) {float NDotL=dot(N,u_shadow_direction);float bias=calculate_shadow_bias(NDotL);float occlusion=shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias)*shadow_opacity;return mix(0.0,(1.0-(u_shadow_intensity*occlusion))*NDotL,step(0.0,NDotL));}float shadowed_light_factor_normal_unbiased(vec3 N,highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {float NDotL=dot(N,u_shadow_direction);float bias=0.0;float occlusion=shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);return mix(0.0,(1.0-(u_shadow_intensity*occlusion))*NDotL,step(0.0,NDotL));}highp vec2 compute_receiver_plane_depth_bias(highp vec3 pos_dx,highp vec3 pos_dy)
{highp vec2 biasUV=vec2(
pos_dy.y*pos_dx.z-pos_dx.y*pos_dy.z,pos_dx.x*pos_dy.z-pos_dy.x*pos_dx.z);biasUV*=1.0/((pos_dx.x*pos_dy.y)-(pos_dx.y*pos_dy.x));return biasUV;}float shadowed_light_factor_plane_bias(highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {highp vec3 light_view_pos0_xyz=light_view_pos0.xyz/light_view_pos0.w*0.5+0.5;highp vec3 light_view_pos0_ddx=dFdx(light_view_pos0_xyz);highp vec3 light_view_pos0_ddy=dFdy(light_view_pos0_xyz);highp vec2 plane_depth_bias=compute_receiver_plane_depth_bias(light_view_pos0_ddx,light_view_pos0_ddy);highp float bias=dot(vec2(u_shadow_texel_size,u_shadow_texel_size),plane_depth_bias)+0.0001;float occlusion=shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);return 1.0-(u_shadow_intensity*occlusion);}float shadowed_light_factor(highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {float bias=0.0;float occlusion=shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);return 1.0-(u_shadow_intensity*occlusion);}float shadow_occlusion(float ndotl,highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {float bias=calculate_shadow_bias(ndotl);return shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);}
#endif`;const uc=[];Jl(Xa,uc),Jl(ql,uc),Jl(Ds,uc);const Yl={"_prelude_fog.vertex.glsl":Zu,"_prelude_terrain.vertex.glsl":mu,"_prelude_shadow.vertex.glsl":yc,"_prelude_fog.fragment.glsl":Vl,"_prelude_shadow.fragment.glsl":bc,"_prelude_lighting.glsl":`
#ifdef LIGHTING_3D_MODE
uniform mediump vec3 u_lighting_ambient_color;uniform mediump vec3 u_lighting_directional_dir;uniform mediump vec3 u_lighting_directional_color;uniform mediump vec3 u_ground_radiance;float calculate_ambient_directional_factor(vec3 normal) {float NdotL=dot(normal,u_lighting_directional_dir);const float factor_reduction_max=0.3;float dir_luminance=dot(u_lighting_directional_color,vec3(0.2126,0.7152,0.0722));float directional_factor_min=1.0-factor_reduction_max*min(dir_luminance,1.0);float ambient_directional_factor=mix(directional_factor_min,1.0,min((NdotL+1.0),1.0));const float vertical_factor_min=0.92;float vertical_factor=mix(vertical_factor_min,1.0,normal.z*0.5+0.5);return vertical_factor*ambient_directional_factor;}vec3 linearProduct(vec3 srgbIn,vec3 k) {return srgbIn*pow(k,vec3(1./2.2));}vec3 apply_lighting(vec3 color,vec3 normal,float dir_factor) {float ambient_directional_factor=calculate_ambient_directional_factor(normal);vec3 ambient_contrib=ambient_directional_factor*u_lighting_ambient_color;vec3 directional_contrib=u_lighting_directional_color*dir_factor;return linearProduct(color,ambient_contrib+directional_contrib);}vec4 apply_lighting(vec4 color,vec3 normal,float dir_factor) {return vec4(apply_lighting(color.rgb,normal,dir_factor),color.a);}vec3 apply_lighting(vec3 color,vec3 normal) {float dir_factor=max(dot(normal,u_lighting_directional_dir),0.0);return apply_lighting(color.rgb,normal,dir_factor);}vec4 apply_lighting(vec4 color,vec3 normal) {float dir_factor=max(dot(normal,u_lighting_directional_dir),0.0);return vec4(apply_lighting(color.rgb,normal,dir_factor),color.a);}vec3 apply_lighting_ground(vec3 color) {return color*u_ground_radiance;}vec4 apply_lighting_ground(vec4 color) {return vec4(apply_lighting_ground(color.rgb),color.a);}float calculate_NdotL(vec3 normal) {const float ext=0.70710678118;return (clamp(dot(normal,u_lighting_directional_dir),-ext,1.0)+ext)/(1.0+ext);}vec4 apply_lighting_with_emission_ground(vec4 color,float emissive_strength) {return mix(apply_lighting_ground(color),color,emissive_strength);}vec3 compute_flood_lighting(vec3 flood_light_color,float fully_occluded_factor,float occlusion,vec3 ground_shadow_factor) {vec3 fully_occluded_color=flood_light_color*mix(ground_shadow_factor,vec3(1.0),fully_occluded_factor);float occlusion_ramp=smoothstep(0.0,0.2,1.0-occlusion);return mix(fully_occluded_color,flood_light_color,occlusion_ramp);}vec3 compute_emissive_draped(vec3 unlit_color,float fully_occluded_factor,float occlusion,vec3 ground_shadow_factor) {vec3 fully_occluded_color=unlit_color*mix(ground_shadow_factor,vec3(1.0),fully_occluded_factor);return mix(fully_occluded_color,unlit_color,1.0-occlusion);}
#endif//LIGHTING_3D_MODE`,"_prelude_raster_array.glsl":$l,"_prelude_raster_particle.glsl":kl},jl={};Qa("",mu),Qa(Vl,Zu),Qa(bc,yc),Qa($l,""),Qa(kl,"");const Vc=Qa(Ds,ql),ks=Xa;var dc={background:Qa(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform vec4 u_color;uniform float u_opacity;
#ifdef LIGHTING_3D_MODE
in vec4 v_color;
#endif
void main() {vec4 out_color;
#ifdef LIGHTING_3D_MODE
out_color=v_color;
#else
out_color=u_color;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_lighting.glsl"
in vec2 a_pos;uniform mat4 u_matrix;
#ifdef LIGHTING_3D_MODE
uniform mediump vec4 u_color;out vec4 v_color;uniform float u_emissive_strength;
#endif
void main() {gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting_with_emission_ground(u_color,u_emissive_strength);
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),backgroundPattern:Qa(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform vec2 u_pattern_tl;uniform vec2 u_pattern_br;uniform vec2 u_texsize;uniform float u_opacity;uniform float u_emissive_strength;uniform sampler2D u_image;in highp vec2 v_pos;void main() {highp vec2 imagecoord=mod(v_pos,1.0);highp vec2 pos=mix(u_pattern_tl/u_texsize,u_pattern_br/u_texsize,imagecoord);vec4 out_color=textureLodCustom(u_image,pos,v_pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform vec2 u_pattern_size;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec2 u_pattern_units_to_pixels;in vec2 a_pos;out highp vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_pattern_size,u_pattern_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),circle:Qa(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
in vec3 v_data;in float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
uniform float u_emissive_strength;void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float blur_positive=blur < 0.0 ? 0.0 : 1.0;lowp float antialiasblur=v_data.z;float extrude_length=length(extrude)+antialiasblur*(1.0-blur_positive);float antialiased_blur=-max(abs(blur),antialiasblur);float antialiase_blur_opacity=smoothstep(0.0,antialiasblur,extrude_length-1.0);float opacity_t=blur_positive==1.0 ? 
smoothstep(0.0,-antialiased_blur,1.0-extrude_length) : 
smoothstep(antialiased_blur,0.0,extrude_length-1.0)-antialiase_blur_opacity;float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(
antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)
);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#endif
#ifdef FOG
out_color=fog_apply_premultiplied(out_color,v_fog_pos);
#endif
glFragColor=out_color*(v_visibility*opacity_t);
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
#define NUM_VISIBILITY_RINGS 2
#define INV_SQRT2 0.70710678
#define ELEVATION_BIAS 0.0001
#define NUM_SAMPLES_PER_RING 16
uniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;in vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_pos_3;in vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
#ifdef ELEVATED_ROADS
in float a_circle_z_offset;
#endif
out vec3 v_data;out float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
vec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {
#if defined(TERRAIN)
return elevation(pos)+ELEVATION_BIAS;
#else
return 0.0;
#endif
}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);
#ifdef PITCH_WITH_MAP
#ifdef PROJECTION_GLOBE_VIEW
return u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );
#else
return u_matrix*( world_center+vec4(sample_offset,0,0) );
#endif
#else
return projected_center+vec4(sample_offset,0,0);
#endif
}float get_sample_step() {
#ifdef PITCH_WITH_MAP
return 2.0*PI/float(NUM_SAMPLES_PER_RING);
#else
return PI/float(NUM_SAMPLES_PER_RING);
#endif
}void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);vec4 world_center;mat3 surface_vectors;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);world_center=vec4(pos,1);
#else 
surface_vectors=mat3(1.0);float height=circle_elevation(circle_center);world_center=vec4(circle_center,height,1);
#endif
#ifdef ELEVATED_ROADS
world_center.z+=a_circle_z_offset+ELEVATION_BIAS;
#endif
vec4 projected_center=u_matrix*world_center;float view_scale=0.0;
#ifdef PITCH_WITH_MAP
#ifdef SCALE_WITH_MAP
view_scale=1.0;
#else
view_scale=projected_center.w/u_camera_to_center_distance;
#endif
#else
#ifdef SCALE_WITH_MAP
view_scale=u_camera_to_center_distance;
#else
view_scale=projected_center.w;
#endif
#endif
gl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;
#ifdef TERRAIN
float step=get_sample_step();vec4 occlusion_world_center;vec4 occlusion_projected_center;
#ifdef PITCH_WITH_MAP
float cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);occlusion_world_center=vec4(circle_center,cantilevered_height,1);occlusion_projected_center=u_matrix*occlusion_world_center;
#else
occlusion_world_center=world_center;occlusion_projected_center=projected_center;
#endif
for(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);
#else
visibility=1.0;
#endif
#ifdef PROJECTION_GLOBE_VIEW
visibility=1.0;
#endif
v_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);
#ifdef FOG
v_fog_pos=fog_position(world_center.xyz);
#endif
}`),clippingMask:Qa("void main() {glFragColor=vec4(1.0);}","in vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:Qa(`#include "_prelude_fog.fragment.glsl"
uniform highp float u_intensity;in vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);glFragColor=vec4(val,1.0,1.0,1.0);
#ifdef FOG
if (u_is_globe==0) {glFragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}
#endif
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_terrain.vertex.glsl"
#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;in vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_pos_3;in vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
out vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);vec3 pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#else
pos=vec3(tilePos+extrude,elevation(tilePos));
#endif
gl_Position=u_matrix*vec4(pos,1);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),heatmapTexture:Qa(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;in vec2 v_pos;void main() {float t=texture(u_image,v_pos).r;vec4 color=texture(u_color_ramp,vec2(t,0.5));glFragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(0.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,"in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:Qa("in float v_placed;in float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);glFragColor =mix(red,blue,step(0.5,v_placed))*0.5;glFragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}",`#include "_prelude_terrain.vertex.glsl"
in vec3 a_pos;in vec2 a_anchor_pos;in vec2 a_extrude;in vec2 a_placed;in vec2 a_shift;in vec2 a_elevation_from_sea;in float a_size_scale;in vec2 a_padding;in float a_auto_z_offset;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;out float v_placed;out float v_notUsed;void main() {float feature_elevation=a_elevation_from_sea.x+a_auto_z_offset;float terrain_elevation=(a_elevation_from_sea.y==1.0 ? 0.0 : elevation(a_anchor_pos));vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*(feature_elevation+terrain_elevation),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}`),collisionCircle:Qa("in float v_radius;in vec2 v_extrude;in float v_perspective_ratio;in float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);glFragColor=color*alpha*opacity_t;}",`in vec2 a_pos_2f;in float a_radius;in vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;out float v_radius;out vec2 v_extrude;out float v_perspective_ratio;out float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(
mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}`),debug:Qa("uniform highp vec4 u_color;uniform sampler2D u_overlay;in vec2 v_uv;void main() {vec4 overlay_color=texture(u_overlay,v_uv);glFragColor=mix(u_color,overlay_color,overlay_color.a);}",`#include "_prelude_terrain.vertex.glsl"
in vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_pos_3;
#endif
out vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;
#ifdef PROJECTION_GLOBE_VIEW
gl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);
#else
gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);
#endif
}`),fill:Qa(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
#include "_prelude_shadow.fragment.glsl"
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
uniform float u_emissive_strength;
#ifdef RENDER_SHADOWS
uniform vec3 u_ground_shadow_factor;in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;in highp float v_depth;
#endif
#ifdef INDICATOR_CUTOUT
in highp float v_z_offset;
#endif
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
vec4 out_color=color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#ifdef RENDER_SHADOWS
float light=shadowed_light_factor(v_pos_light_view_0,v_pos_light_view_1,v_depth);out_color.rgb*=mix(u_ground_shadow_factor,vec3(1.0),light);
#endif
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
out_color*=opacity;
#ifdef INDICATOR_CUTOUT
if (v_z_offset >=0.0) {out_color=applyCutout(out_color,v_z_offset);}
#endif
glFragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
in vec2 a_pos;
#ifdef ELEVATED_ROADS
in float a_road_z_offset;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;out highp float v_depth;
#endif
#ifdef INDICATOR_CUTOUT
out highp float v_z_offset;
#endif
uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp float z_offset
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp float z_offset
#ifdef ELEVATED_ROADS
z_offset+=a_road_z_offset;
#endif
float hidden=float(opacity==0.0);gl_Position=mix(u_matrix*vec4(a_pos,z_offset,1),AWAY,hidden);
#ifdef RENDER_SHADOWS
vec3 shd_pos0=vec3(a_pos,z_offset);vec3 shd_pos1=vec3(a_pos,z_offset);
#ifdef NORMAL_OFFSET
vec3 offset=shadow_normal_offset(vec3(0.0,0.0,1.0));shd_pos0+=offset*shadow_normal_offset_multiplier0();shd_pos1+=offset*shadow_normal_offset_multiplier1();
#endif
v_pos_light_view_0=u_light_matrix_0*vec4(shd_pos0,1);v_pos_light_view_1=u_light_matrix_1*vec4(shd_pos1,1);v_depth=gl_Position.w;
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
#ifdef INDICATOR_CUTOUT
v_z_offset=z_offset;
#endif
}`),fillOutline:Qa(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
#include "_prelude_shadow.fragment.glsl"
in highp vec2 v_pos;uniform float u_emissive_strength;
#ifdef RENDER_SHADOWS
uniform vec3 u_ground_shadow_factor;in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;in highp float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#ifdef RENDER_SHADOWS
float light=shadowed_light_factor(v_pos_light_view_0,v_pos_light_view_1,v_depth);out_color.rgb*=mix(u_ground_shadow_factor,vec3(1.0),light);
#endif
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
in vec2 a_pos;
#ifdef ELEVATED_ROADS
in float a_road_z_offset;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;out highp float v_depth;
#endif
uniform mat4 u_matrix;uniform vec2 u_world;out highp vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp float z_offset
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp float z_offset
#ifdef ELEVATED_ROADS
z_offset+=a_road_z_offset;
#endif
float hidden=float(opacity==0.0);gl_Position=mix(u_matrix*vec4(a_pos,z_offset,1),AWAY,hidden);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef RENDER_SHADOWS
vec3 shd_pos0=vec3(a_pos,z_offset);vec3 shd_pos1=vec3(a_pos,z_offset);
#ifdef NORMAL_OFFSET
vec3 offset=shadow_normal_offset(vec3(0.0,0.0,1.0));shd_pos0+=offset*shadow_normal_offset_multiplier0();shd_pos1+=offset*shadow_normal_offset_multiplier1();
#endif
v_pos_light_view_0=u_light_matrix_0*vec4(shd_pos0,1);v_pos_light_view_1=u_light_matrix_1*vec4(shd_pos1,1);v_depth=gl_Position.w;
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutlinePattern:Qa(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
#include "_prelude_shadow.fragment.glsl"
uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_emissive_strength;
#ifdef RENDER_SHADOWS
uniform vec3 u_ground_shadow_factor;in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;in highp float v_depth;
#endif
in highp vec2 v_pos;in highp vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;highp vec2 imagecoord=mod(v_pos,1.0);highp vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);highp vec2 lod_pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,v_pos);float dist=length(v_pos_world-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=textureLodCustom(u_image,pos,lod_pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#ifdef RENDER_SHADOWS
float light=shadowed_light_factor(v_pos_light_view_0,v_pos_light_view_1,v_depth);out_color.rgb*=mix(u_ground_shadow_factor,vec3(1.0),light);
#endif
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;in vec2 a_pos;
#ifdef ELEVATED_ROADS
in float a_road_z_offset;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;out highp float v_depth;
#endif
out highp vec2 v_pos;out highp vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
#pragma mapbox: define highp float z_offset
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
#pragma mapbox: initialize highp float z_offset
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;
#ifdef ELEVATED_ROADS
z_offset+=a_road_z_offset;
#endif
float hidden=float(opacity==0.0);gl_Position=mix(u_matrix*vec4(a_pos,z_offset,1),AWAY,hidden);vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);v_pos_world=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef RENDER_SHADOWS
vec3 shd_pos0=vec3(a_pos,z_offset);vec3 shd_pos1=vec3(a_pos,z_offset);
#ifdef NORMAL_OFFSET
vec3 offset=shadow_normal_offset(vec3(0.0,0.0,1.0));shd_pos0+=offset*shadow_normal_offset_multiplier0();shd_pos1+=offset*shadow_normal_offset_multiplier1();
#endif
v_pos_light_view_0=u_light_matrix_0*vec4(shd_pos0,1);v_pos_light_view_1=u_light_matrix_1*vec4(shd_pos1,1);v_depth=gl_Position.w;
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillPattern:Qa(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
#include "_prelude_shadow.fragment.glsl"
uniform vec2 u_texsize;uniform sampler2D u_image;in highp vec2 v_pos;uniform float u_emissive_strength;
#ifdef RENDER_SHADOWS
uniform vec3 u_ground_shadow_factor;in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;in highp float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;highp vec2 imagecoord=mod(v_pos,1.0);highp vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);highp vec2 lod_pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,v_pos);vec4 out_color=textureLodCustom(u_image,pos,lod_pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#ifdef RENDER_SHADOWS
float light=shadowed_light_factor(v_pos_light_view_0,v_pos_light_view_1,v_depth);out_color.rgb*=mix(u_ground_shadow_factor,vec3(1.0),light);
#endif
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;in vec2 a_pos;
#ifdef ELEVATED_ROADS
in float a_road_z_offset;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;out highp float v_depth;
#endif
out highp vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
#pragma mapbox: define highp float z_offset
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
#pragma mapbox: initialize highp float z_offset
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;
#ifdef ELEVATED_ROADS
z_offset+=a_road_z_offset;
#endif
float hidden=float(opacity==0.0);gl_Position=mix(u_matrix*vec4(a_pos,z_offset,1),AWAY,hidden);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);
#ifdef RENDER_SHADOWS
vec3 shd_pos0=vec3(a_pos,z_offset);vec3 shd_pos1=vec3(a_pos,z_offset);
#ifdef NORMAL_OFFSET
vec3 offset=shadow_normal_offset(vec3(0.0,0.0,1.0));shd_pos0+=offset*shadow_normal_offset_multiplier0();shd_pos1+=offset*shadow_normal_offset_multiplier1();
#endif
v_pos_light_view_0=u_light_matrix_0*vec4(shd_pos0,1);v_pos_light_view_1=u_light_matrix_1*vec4(shd_pos1,1);v_depth=gl_Position.w;
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillExtrusion:Qa(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_shadow.fragment.glsl"
#include "_prelude_lighting.glsl"
in vec4 v_color;in vec4 v_flat;
#ifdef RENDER_SHADOWS
in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;
#endif
uniform lowp float u_opacity;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;in vec2 v_ao;
#endif
#if defined(ZERO_ROOF_RADIUS) && !defined(LIGHTING_3D_MODE)
in vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS) || defined(LIGHTING_3D_MODE)
in highp vec3 v_normal;
#endif
uniform vec3 u_flood_light_color;uniform highp float u_vertical_scale;uniform float u_flood_light_intensity;uniform vec3 u_ground_shadow_factor;
#if defined(LIGHTING_3D_MODE) && defined(FLOOD_LIGHT)
in float v_flood_radius;in float v_has_floodlight;
#endif
in float v_height;
#pragma mapbox: define highp float emissive_strength
void main() {
#pragma mapbox: initialize highp float emissive_strength
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS) || defined(LIGHTING_3D_MODE)
vec3 normal=normalize(v_normal);
#endif
float z;vec4 color=v_color;
#ifdef ZERO_ROOF_RADIUS
z=float(normal.z > 0.00001);
#ifdef LIGHTING_3D_MODE
normal=mix(normal,vec3(0.0,0.0,1.0),z);
#else
color=mix(v_color,v_roof_color,z);
#endif
#endif
float h=max(0.0,v_height);float ao_shade=1.0;
#ifdef FAUX_AO
float intensity=u_ao[0];float h_floors=h/(u_ao[1]*u_vertical_scale);float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);ao_shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;
#ifdef ZERO_ROOF_RADIUS
concave*=(1.0-z);
#endif
float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);ao_shade*=mix(1.0,x_shade*x_shade*x_shade,concave);
#ifdef LIGHTING_3D_MODE
#ifdef FLOOD_LIGHT
color.rgb*=mix(ao_shade,1.0,v_has_floodlight);
#else
color.rgb*=ao_shade;
#endif
#else
color.rgb*=ao_shade;
#endif
#endif
#ifdef LIGHTING_3D_MODE
float flood_radiance=0.0;
#ifdef FLOOD_LIGHT
flood_radiance=(1.0-min(h/v_flood_radius,1.0))*u_flood_light_intensity*v_has_floodlight;
#endif
#ifdef RENDER_SHADOWS
#ifdef FLOOD_LIGHT
float ndotl_unclamped=dot(normal,u_shadow_direction);float ndotl=max(0.0,ndotl_unclamped);float occlusion=ndotl_unclamped < 0.0 ? 1.0 : shadow_occlusion(ndotl,v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w);vec3 litColor=apply_lighting(color.rgb,normal,(1.0-u_shadow_intensity*occlusion)*ndotl);vec3 floodLitColor=compute_flood_lighting(u_flood_light_color*u_opacity,1.0-u_shadow_intensity,occlusion,u_ground_shadow_factor);color.rgb=mix(litColor,floodLitColor,flood_radiance);
#else
float shadowed_lighting_factor;
#ifdef RENDER_CUTOFF
shadowed_lighting_factor=shadowed_light_factor_normal_opacity(normal,v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w,v_cutoff_opacity);if (v_cutoff_opacity==0.0) {discard;}
#else
shadowed_lighting_factor=shadowed_light_factor_normal(normal,v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w);
#endif
color.rgb=apply_lighting(color.rgb,normal,shadowed_lighting_factor);
#endif
#else
color.rgb=apply_lighting(color.rgb,normal);
#ifdef FLOOD_LIGHT
color.rgb=mix(color.rgb,u_flood_light_color*u_opacity,flood_radiance);
#endif
#endif
color.rgb=mix(color.rgb,v_flat.rgb,emissive_strength);color*=u_opacity;
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos,h));
#endif
#ifdef INDICATOR_CUTOUT
color=applyCutout(color,h);
#endif
glFragColor=color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
#include "_prelude_lighting.glsl"
uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;uniform float u_width_scale;in vec4 a_pos_normal_ed;in vec2 a_centroid_pos;
#ifdef RENDER_WALL_MODE
in vec3 a_join_normal_inside;
#endif
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_pos_3;in vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
#ifdef TERRAIN
uniform int u_height_type;uniform int u_base_type;
#endif
uniform highp float u_vertical_scale;out vec4 v_color;out vec4 v_flat;
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;
#endif
#if defined(ZERO_ROOF_RADIUS) && !defined(LIGHTING_3D_MODE)
out vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS) || defined(LIGHTING_3D_MODE)
out highp vec3 v_normal;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;out vec2 v_ao;
#endif
#if defined(LIGHTING_3D_MODE) && defined(FLOOD_LIGHT)
out float v_flood_radius;out float v_has_floodlight;
#endif
out float v_height;vec3 linearTosRGB(vec3 color) {return pow(color,vec3(1./2.2));}vec3 sRGBToLinear(vec3 srgbIn) {return pow(srgbIn,vec3(2.2));}
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
#pragma mapbox: define highp float flood_light_wall_radius
#pragma mapbox: define highp float line_width
#pragma mapbox: define highp float emissive_strength
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize highp float flood_light_wall_radius
#pragma mapbox: initialize highp float line_width
#pragma mapbox: initialize highp float emissive_strength
base*=u_vertical_scale;height*=u_vertical_scale;vec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS) || defined(LIGHTING_3D_MODE)
v_normal=normal;
#endif
base=max(0.0,base);float attr_height=height;height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=0.0;float c_ele=0.0;vec3 pos;
#ifdef TERRAIN
bool is_flat_height=centroid_pos.x !=0.0 && u_height_type==1;bool is_flat_base=centroid_pos.x !=0.0 && u_base_type==1;ele=elevation(pos_nx.xy);c_ele=is_flat_height || is_flat_base ? (centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos)) : ele;float h_height=is_flat_height ? max(c_ele+height,ele+base+2.0) : ele+height;float h_base=is_flat_base ? max(c_ele+base,ele+base) : ele+(base==0.0 ?-5.0 : base);h=t > 0.0 ? max(h_base,h_height) : h_base;pos=vec3(pos_nx.xy,h);
#else
h=t > 0.0 ? height : base;pos=vec3(pos_nx.xy,h);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float cutoff=1.0;vec3 scaled_pos=pos;
#ifdef RENDER_CUTOFF
vec3 centroid_random=vec3(centroid_pos.xy,centroid_pos.x+centroid_pos.y+1.0);vec3 ground_pos=centroid_pos.x==0.0 ? pos.xyz : (centroid_random/8.0);vec4 ground=u_matrix*vec4(ground_pos.xy,ele,1.0);cutoff=cutoff_opacity(u_cutoff_params,ground.z);if (centroid_pos.y !=0.0 && centroid_pos.x !=0.0) {vec3 g=floor(ground_pos);vec3 mod_=centroid_random-g*8.0;float seed=min(1.0,0.1*(min(3.5,max(mod_.x+mod_.y,0.2*attr_height))*0.35+mod_.z));if (cutoff < 0.8-seed) {cutoff=0.0;}}float cutoff_scale=cutoff;v_cutoff_opacity=cutoff;scaled_pos.z=mix(c_ele,h,cutoff_scale);
#endif
float hidden=float((centroid_pos.x==0.0 && centroid_pos.y==1.0) || (cutoff==0.0 && centroid_pos.x !=0.0) || (color.a==0.0));
#ifdef RENDER_WALL_MODE
vec2 wall_offset=u_width_scale*line_width*(a_join_normal_inside.xy/EXTENT);scaled_pos.xy+=(1.0-a_join_normal_inside.z)*wall_offset*0.5;scaled_pos.xy-=a_join_normal_inside.z*wall_offset*0.5;
#endif
gl_Position=mix(u_matrix*vec4(scaled_pos,1),AWAY,hidden);h=h-ele;v_height=h;
#ifdef RENDER_SHADOWS
vec3 shd_pos0=pos;vec3 shd_pos1=pos;
#ifdef NORMAL_OFFSET
vec3 offset=shadow_normal_offset(normal);shd_pos0+=offset*shadow_normal_offset_multiplier0();shd_pos1+=offset*shadow_normal_offset_multiplier1();
#endif
v_pos_light_view_0=u_light_matrix_0*vec4(shd_pos0,1);v_pos_light_view_1=u_light_matrix_1*vec4(shd_pos1,1);
#endif
float NdotL=0.0;float colorvalue=0.0;
#ifndef LIGHTING_3D_MODE
colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),NdotL);if (normal.y !=0.0) {float r=0.84;r=mix(0.7,0.98,1.0-u_lightintensity);NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}
#endif
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec2(mix(concave,-concave,start),y_ground);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
#ifdef FLOOD_LIGHT
float is_wall=1.0-float(t > 0.0 && top_up_ny.y > 0.0);v_has_floodlight=float(flood_light_wall_radius > 0.0 && is_wall > 0.0);v_flood_radius=flood_light_wall_radius*u_vertical_scale;
#endif
v_color=vec4(color.rgb,1.0);float ndotl=calculate_NdotL(normal);v_flat.rgb=sRGBToLinear(color.rgb);v_flat.rgb=v_flat.rgb*(ndotl+(1.0-min(ndotl*57.29,1.0))*emissive_strength);v_flat=vec4(linearTosRGB(v_flat.rgb),1.0);
#else
v_color=vec4(0.0,0.0,0.0,1.0);v_color.rgb+=clamp(color.rgb*NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_color*=u_opacity;
#endif
#if defined(ZERO_ROOF_RADIUS) && !defined(LIGHTING_3D_MODE)
float roofNdotL=clamp(u_lightpos.z,0.0,1.0);roofNdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),roofNdotL);v_roof_color=vec4(0.0,0.0,0.0,1.0);v_roof_color.rgb+=clamp(color.rgb*roofNdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_roof_color*=u_opacity;
#endif
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),fillExtrusionDepth:Qa(`in highp float v_depth;void main() {
#ifndef DEPTH_TEXTURE
glFragColor=pack_depth(v_depth);
#endif
}`,`#include "_prelude_terrain.vertex.glsl"
uniform mat4 u_matrix;uniform float u_edge_radius;uniform float u_width_scale;uniform float u_vertical_scale;
#ifdef TERRAIN
uniform int u_height_type;uniform int u_base_type;
#endif
in vec4 a_pos_normal_ed;in vec2 a_centroid_pos;
#ifdef RENDER_WALL_MODE
in vec3 a_join_normal_inside;
#endif
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp float line_width
#pragma mapbox: define highp vec4 color
out highp float v_depth;void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp float line_width
#pragma mapbox: initialize highp vec4 color
base*=u_vertical_scale;height*=u_vertical_scale;vec3 pos_nx=floor(a_pos_normal_ed.xyz*0.5);mediump vec3 top_up_ny=a_pos_normal_ed.xyz-2.0*pos_nx;base=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
vec3 pos;
#ifdef TERRAIN
bool is_flat_height=centroid_pos.x !=0.0 && u_height_type==1;bool is_flat_base=centroid_pos.x !=0.0 && u_base_type==1;float ele=elevation(pos_nx.xy);float c_ele=is_flat_height || is_flat_base ? (centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos)) : ele;float h_height=is_flat_height ? max(c_ele+height,ele+base+2.0) : ele+height;float h_base=is_flat_base ? max(c_ele+base,ele+base) : ele+(base==0.0 ?-5.0 : base);float h=t > 0.0 ? max(h_base,h_height) : h_base;pos=vec3(pos_nx.xy,h);
#else
pos=vec3(pos_nx.xy,t > 0.0 ? height : base);
#endif
#ifdef RENDER_WALL_MODE
vec2 wall_offset=u_width_scale*line_width*(a_join_normal_inside.xy/EXTENT);pos.xy+=(1.0-a_join_normal_inside.z)*wall_offset*0.5;pos.xy-=a_join_normal_inside.z*wall_offset*0.5;
#endif
float hidden=float((centroid_pos.x==0.0 && centroid_pos.y==1.0) || (color.a==0.0));gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);v_depth=gl_Position.z/gl_Position.w;}`),fillExtrusionPattern:Qa(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform vec2 u_texsize;uniform sampler2D u_image;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;in vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
in vec3 v_normal;
#endif
in highp vec2 v_pos;in vec4 v_lighting;uniform lowp float u_opacity;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define mediump vec4 pattern
#pragma mapbox: define highp float pixel_ratio
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize highp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;highp vec2 imagecoord=mod(v_pos,1.0);highp vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);highp vec2 lod_pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,v_pos);vec4 out_color=textureLodCustom(u_image,pos,lod_pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color,normalize(v_normal))*u_opacity;
#else
out_color=out_color*v_lighting;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
#ifdef INDICATOR_CUTOUT
out_color=applyCutout(out_color,height);
#endif
glFragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
#include "_prelude_lighting.glsl"
uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform float u_tile_units_to_pixels;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_width_scale;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;in vec4 a_pos_normal_ed;in vec2 a_centroid_pos;
#ifdef RENDER_WALL_MODE
in vec3 a_join_normal_inside;
#endif
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_pos_3;in vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
#ifdef TERRAIN
uniform int u_height_type;uniform int u_base_type;
#endif
out highp vec2 v_pos;out vec4 v_lighting;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;out vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
out vec3 v_normal;
#endif
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump vec4 pattern
#pragma mapbox: define highp float pixel_ratio
#pragma mapbox: define highp float line_width
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize highp float pixel_ratio
#pragma mapbox: initialize highp float line_width
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=z;vec3 p;float c_ele;
#ifdef TERRAIN
bool is_flat_height=centroid_pos.x !=0.0 && u_height_type==1;bool is_flat_base=centroid_pos.x !=0.0 && u_base_type==1;ele=elevation(pos_nx.xy);c_ele=is_flat_height || is_flat_base ? (centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos)) : ele;float h_height=is_flat_height ? max(c_ele+height,ele+base+2.0) : ele+height;float h_base=is_flat_base ? max(c_ele+base,ele+base) : ele+(base==0.0 ?-5.0 : base);h=t > 0.0 ? max(h_base,h_height) : h_base;p=vec3(pos_nx.xy,h);
#else
p=vec3(pos_nx.xy,z);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
#ifdef RENDER_WALL_MODE
vec2 wall_offset=u_width_scale*line_width*(a_join_normal_inside.xy/EXTENT);p.xy+=(1.0-a_join_normal_inside.z)*wall_offset*0.5;p.xy-=a_join_normal_inside.z*wall_offset*0.5;
#endif
float hidden=float((centroid_pos.x==0.0 && centroid_pos.y==1.0) || (color.a==0.0));gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0
? pos_nx.xy
: vec2(edgedistance,z*u_height_factor);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float NdotL=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_normal=normal;
#else
v_lighting.rgb+=clamp(NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;
#endif 
#ifdef FOG
v_fog_pos=fog_position(p);
#endif
}`),groundShadow:Qa(`#include "_prelude_shadow.fragment.glsl"
precision highp float;uniform vec3 u_ground_shadow_factor;in vec4 v_pos_light_view_0;in vec4 v_pos_light_view_1;
#ifdef FOG
in float v_fog_opacity;
#endif
void main() {float light=shadowed_light_factor_plane_bias(v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w);vec3 shadow=mix(u_ground_shadow_factor,vec3(1.0),light);
#ifdef RENDER_CUTOFF
shadow=mix(vec3(1.0),shadow,cutoff_opacity(u_cutoff_params,1.0/gl_FragCoord.w));
#endif
#ifdef FOG
shadow=mix(shadow,vec3(1.0),v_fog_opacity);
#endif
#ifdef INDICATOR_CUTOUT
shadow=mix(shadow,vec3(1.0),1.0-applyCutout(vec4(1.0),0.0).r);
#endif
glFragColor=vec4(shadow,1.0);}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;in vec2 a_pos;out vec4 v_pos_light_view_0;out vec4 v_pos_light_view_1;
#ifdef FOG
out float v_fog_opacity;
#endif
void main() {gl_Position=u_matrix*vec4(a_pos,0.0,1.0);v_pos_light_view_0=u_light_matrix_0*vec4(a_pos,0.0,1.0);v_pos_light_view_1=u_light_matrix_1*vec4(a_pos,0.0,1.0);
#ifdef FOG
v_fog_pos=fog_position(a_pos);v_fog_opacity=fog(v_fog_pos);
#endif
}`),fillExtrusionGroundEffect:Qa(`uniform highp float u_ao_pass;uniform highp float u_opacity;uniform highp float u_flood_light_intensity;uniform highp vec3 u_flood_light_color;uniform highp float u_attenuation;uniform sampler2D u_fb;uniform float u_fb_size;
#ifdef SDF_SUBPASS
in highp vec2 v_pos;in highp vec4 v_line_segment;in highp float v_flood_light_radius_tile;in highp vec2 v_ao;float line_df(highp vec2 a,highp vec2 b,highp vec2 p) {highp vec2 ba=b-a;highp vec2 pa=p-a;highp float r=clamp(dot(pa,ba)/dot(ba,ba),0.0,1.0);return length(pa-r*ba);}
#ifdef FOG
in highp float v_fog;
#endif
#endif
void main() {
#ifdef CLEAR_SUBPASS
vec4 color=vec4(1.0);
#ifdef CLEAR_FROM_TEXTURE
color=texture(u_fb,gl_FragCoord.xy/vec2(u_fb_size));
#endif
glFragColor=color;
#else
#ifdef SDF_SUBPASS
highp float d=line_df(v_line_segment.xy,v_line_segment.zw,v_pos);highp float effect_radius=mix(v_flood_light_radius_tile,v_ao.y,u_ao_pass);d/=effect_radius;d=min(d,1.0);d=1.0-pow(1.0-d,u_attenuation);highp float effect_intensity=mix(u_flood_light_intensity,v_ao.x,u_ao_pass);highp float fog=1.0;
#ifdef FOG
fog=v_fog;
#endif
#ifdef RENDER_CUTOFF
fog*=v_cutoff_opacity;
#endif
glFragColor=vec4(vec3(0.0),mix(1.0,d,effect_intensity*u_opacity*fog));
#else
vec4 color=mix(vec4(u_flood_light_color,1.0),vec4(vec3(0.0),1.0),u_ao_pass);
#ifdef OVERDRAW_INSPECTOR
color=vec4(1.0);
#endif
glFragColor=color;
#endif
HANDLE_WIREFRAME_DEBUG;
#endif
}`,`#include "_prelude_fog.vertex.glsl"
in highp vec4 a_pos_end;in highp float a_angular_offset_factor;in highp float a_hidden_by_landmark;
#ifdef SDF_SUBPASS
out highp vec2 v_pos;out highp vec4 v_line_segment;out highp float v_flood_light_radius_tile;out highp vec2 v_ao;
#ifdef FOG
out highp float v_fog;
#endif
#endif
uniform highp float u_flood_light_intensity;uniform highp mat4 u_matrix;uniform highp float u_ao_pass;uniform highp float u_meter_to_tile;uniform highp float u_edge_radius;uniform highp float u_dynamic_offset;uniform highp vec2 u_ao;
#pragma mapbox: define highp float flood_light_ground_radius
const float TANGENT_CUTOFF=4.0;const float NORM=32767.0;void main() {
#pragma mapbox: initialize highp float flood_light_ground_radius
vec2 p=a_pos_end.xy;vec2 q=floor(a_pos_end.zw*0.5);vec2 start_bottom=a_pos_end.zw-q*2.0;float fl_ground_radius=flood_light_ground_radius;fl_ground_radius=abs(flood_light_ground_radius);float direction=flood_light_ground_radius < 0.0 ?-1.0 : 1.0;float flood_radius_tile=fl_ground_radius*u_meter_to_tile;vec2 v=normalize(q-p);float ao_radius=u_ao.y/3.5;float effect_radius=mix(flood_radius_tile,ao_radius,u_ao_pass)+u_edge_radius;float angular_offset_factor=a_angular_offset_factor/NORM*TANGENT_CUTOFF;float angular_offset=direction*angular_offset_factor*effect_radius;float top=1.0-start_bottom.y;float side=(0.5-start_bottom.x)*2.0;vec2 extrusion_parallel=v*side*mix(u_dynamic_offset,angular_offset,top);vec2 perp=vec2(v.y,-v.x);vec2 extrusion_perp=direction*perp*effect_radius*top;vec3 pos=vec3(mix(q,p,start_bottom.x),0.0);pos.xy+=extrusion_parallel+extrusion_perp;
#ifdef SDF_SUBPASS
v_pos=pos.xy;v_line_segment=vec4(p,q)+perp.xyxy*u_edge_radius;v_flood_light_radius_tile=flood_radius_tile;v_ao=vec2(u_ao.x,ao_radius);
#ifdef FOG
v_fog_pos=fog_position(pos);v_fog=1.0-fog(v_fog_pos);
#endif
#endif
float hidden_by_landmark=0.0;
#ifdef HAS_CENTROID
hidden_by_landmark=a_hidden_by_landmark;
#endif
float isFloodlit=float(fl_ground_radius > 0.0 && u_flood_light_intensity > 0.0);float hidden=mix(1.0-isFloodlit,isFloodlit,u_ao_pass);hidden+=hidden_by_landmark;gl_Position=mix(u_matrix*vec4(pos,1.0),AWAY,float(hidden > 0.0));
#ifdef RENDER_CUTOFF
v_cutoff_opacity=cutoff_opacity(u_cutoff_params,gl_Position.z);
#endif
}`),hillshadePrepare:Qa(`precision highp float;uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;float getElevation(vec2 coord) {return texture(u_image,coord).r/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos+vec2(epsilon.x,0));float f=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float g=getElevation(v_pos+vec2(0,epsilon.y));float h=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(
(c+e+e+h)-(a+d+d+f),(f+g+g+h)-(a+b+b+c)
)/pow(2.0,exaggeration+(19.2562-u_zoom));glFragColor=clamp(vec4(
deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Qa(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;uniform float u_emissive_strength;void main() {vec4 pixel=texture(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);glFragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef LIGHTING_3D_MODE
glFragColor=apply_lighting_with_emission_ground(glFragColor,u_emissive_strength);
#endif
#ifdef FOG
glFragColor=fog_dither(fog_apply_premultiplied(glFragColor,v_fog_pos));
#endif
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),line:Qa(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
#include "_prelude_shadow.fragment.glsl"
uniform lowp float u_device_pixel_ratio;uniform highp float u_width_scale;uniform highp float u_floor_width_scale;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;uniform highp vec2 u_trim_fade_range;uniform lowp vec4 u_trim_color;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;in highp vec3 v_uv;
#ifdef ELEVATED_ROADS
in highp float v_road_z_offset;
#endif
#ifdef RENDER_LINE_DASH
uniform sampler2D u_dash_image;in vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform sampler2D u_gradient_image;
#endif
#ifdef INDICATOR_CUTOUT
in highp float v_z_offset;
#endif
#ifdef RENDER_SHADOWS
uniform vec3 u_ground_shadow_factor;in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;in highp float v_depth;
#endif
float luminance(vec3 c) {return (c.r+c.r+c.b+c.g+c.g+c.g)*0.1667;}uniform float u_emissive_strength;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float border_width
#pragma mapbox: define lowp vec4 border_color
float linearstep(float edge0,float edge1,float x) {return  clamp((x-edge0)/(edge1-edge0),0.0,1.0);}void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float border_width
#pragma mapbox: initialize lowp vec4 border_color
float dist=length(v_normal)*v_width2.s;float blur2=(u_width_scale*blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);
#ifdef RENDER_LINE_DASH
float sdfdist=texture(u_dash_image,v_tex).r;float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/dash.z;float scaled_floorwidth=(floorwidth*u_floor_width_scale);alpha*=linearstep(0.5-sdfgamma/scaled_floorwidth,0.5+sdfgamma/scaled_floorwidth,sdfdist);
#endif
highp vec4 out_color;
#ifdef RENDER_LINE_GRADIENT
out_color=texture(u_gradient_image,v_uv.xy);
#else
out_color=color;
#endif
float trim_alpha=1.0;
#ifdef RENDER_LINE_TRIM_OFFSET
highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=v_uv[2];if (trim_end > trim_start) {highp float start_transition=max(0.0,min(1.0,(line_progress-trim_start)/max(u_trim_fade_range[0],1.0e-9)));highp float end_transition=max(0.0,min(1.0,(trim_end-line_progress)/max(u_trim_fade_range[1],1.0e-9)));highp float transition_factor=min(start_transition,end_transition);out_color=mix(out_color,u_trim_color,transition_factor);trim_alpha=1.0-transition_factor;}
#endif
if (u_alpha_discard_threshold !=0.0) {if (alpha < u_alpha_discard_threshold) {discard;}}
#ifdef RENDER_LINE_BORDER
float edgeBlur=((border_width*u_width_scale)+1.0/u_device_pixel_ratio);float alpha2=clamp(min(dist-(v_width2.t-edgeBlur),v_width2.s-dist)/edgeBlur,0.0,1.0);if (alpha2 < 1.) {float smoothAlpha=smoothstep(0.6,1.0,alpha2);if (border_color.a==0.0) {float Y=(out_color.a > 0.01) ? luminance(out_color.rgb/out_color.a) : 1.;float adjustment=(Y > 0.) ? 0.5/Y : 0.45;if (out_color.a > 0.25 && Y < 0.25) {vec3 borderColor=(Y > 0.) ? out_color.rgb : vec3(1,1,1)*out_color.a;out_color.rgb=out_color.rgb+borderColor*(adjustment*(1.0-smoothAlpha));} else {out_color.rgb*=(0.6 +0.4*smoothAlpha);}} else {out_color=mix(border_color*trim_alpha,out_color,smoothAlpha);}}
#endif
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#ifdef RENDER_SHADOWS
float light=shadowed_light_factor(v_pos_light_view_0,v_pos_light_view_1,v_depth);
#ifdef ELEVATED_ROADS
out_color.rgb*=mix(v_road_z_offset > 0.0 ? u_ground_shadow_factor : vec3(1.0),vec3(1.0),light);
#else
out_color.rgb*=mix(u_ground_shadow_factor,vec3(1.0),light);
#endif
#endif
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
out_color*=(alpha*opacity);
#ifdef INDICATOR_CUTOUT
out_color=applyCutout(out_color,v_z_offset);
#endif
glFragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
#define EXTRUDE_SCALE 0.015873016
in vec2 a_pos_normal;in vec4 a_data;
#if defined(ELEVATED) || defined(ELEVATED_ROADS) || defined(VARIABLE_LINE_WIDTH)
in vec3 a_z_offset_width;
#endif
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
in highp vec3 a_packed;
#endif
#ifdef RENDER_LINE_DASH
in float a_linesofar;
#endif
uniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;uniform float u_width_scale;uniform highp float u_floor_width_scale;
#ifdef ELEVATED
uniform lowp float u_zbias_factor;uniform lowp float u_tile_to_meter;float sample_elevation(vec2 apos) {
#ifdef ELEVATION_REFERENCE_SEA
return 0.0;
#else
return elevation(apos);
#endif
}
#endif
out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp vec3 v_uv;
#ifdef ELEVATED_ROADS
out highp float v_road_z_offset;
#endif
#ifdef RENDER_LINE_DASH
uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;out vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform float u_image_height;
#endif
#ifdef INDICATOR_CUTOUT
out highp float v_z_offset;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;out highp float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float border_width
#pragma mapbox: define lowp vec4 border_color
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float border_width
#pragma mapbox: initialize lowp vec4 border_color
float a_z_offset;
#if defined(ELEVATED) || defined(ELEVATED_ROADS)
a_z_offset=a_z_offset_width.x;
#endif
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth;
#ifdef VARIABLE_LINE_WIDTH
float left=a_pos_normal.y-2.0*floor(a_pos_normal.y*0.5);halfwidth=(u_width_scale*(left==1.0 ? a_z_offset_width.y : a_z_offset_width.z))/2.0;
#else
halfwidth=(u_width_scale*width)/2.0;
#endif
offset=-1.0*offset*u_width_scale;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);float hidden=float(opacity==0.0);vec2 extrude=dist*u_pixels_to_tile_units;vec4 projected_extrude=u_matrix*vec4(extrude,0.0,0.0);vec2 projected_extrude_xy=projected_extrude.xy;
#ifdef ELEVATED_ROADS
v_road_z_offset=a_z_offset;gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,a_z_offset,1.0)+projected_extrude;
#else
#ifdef ELEVATED
vec2 offsetTile=offset2*u_pixels_to_tile_units;vec2 offset_pos=pos+offsetTile;float ele=0.0;
#ifdef CROSS_SLOPE_VERTICAL
float top=a_pos_normal.y-2.0*floor(a_pos_normal.y*0.5);float line_height=2.0*u_tile_to_meter*outset*top*u_pixels_to_tile_units[1][1]+a_z_offset;ele=sample_elevation(offset_pos)+line_height;projected_extrude=vec4(0);
#else
#ifdef CROSS_SLOPE_HORIZONTAL
float ele0=sample_elevation(offset_pos);float ele1=max(sample_elevation(offset_pos+extrude),sample_elevation(offset_pos+extrude/2.0));float ele2=max(sample_elevation(offset_pos-extrude),sample_elevation(offset_pos-extrude/2.0));float ele_max=max(ele0,max(ele1,ele2));ele=ele_max+a_z_offset;
#else
float ele0=sample_elevation(offset_pos);float ele1=max(sample_elevation(offset_pos+extrude),sample_elevation(offset_pos+extrude/2.0));float ele2=max(sample_elevation(offset_pos-extrude),sample_elevation(offset_pos-extrude/2.0));float ele_max=max(ele0,0.5*(ele1+ele2));ele=ele_max-ele0+ele1+a_z_offset;
#endif
#endif
gl_Position=u_matrix*vec4(offset_pos,ele,1.0)+projected_extrude;float z=clamp(gl_Position.z/gl_Position.w,0.5,1.0);float zbias=max(0.00005,(pow(z,0.8)-z)*u_zbias_factor*u_exaggeration);gl_Position.z-=(gl_Position.w*zbias);gl_Position=mix(gl_Position,AWAY,hidden);
#else
gl_Position=mix(u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude,AWAY,hidden);
#endif
#endif
#ifdef ELEVATED_ROADS
#ifdef RENDER_SHADOWS
vec3 shd_pos=vec3(pos+(offset2+dist)*u_pixels_to_tile_units,a_z_offset);vec3 shd_pos0=shd_pos;vec3 shd_pos1=shd_pos;
#ifdef NORMAL_OFFSET
vec3 shd_pos_offset=shadow_normal_offset(vec3(0.0,0.0,1.0));shd_pos0+=shd_pos_offset*shadow_normal_offset_multiplier0();shd_pos1+=shd_pos_offset*shadow_normal_offset_multiplier1();
#endif
v_pos_light_view_0=u_light_matrix_0*vec4(shd_pos0,1);v_pos_light_view_1=u_light_matrix_1*vec4(shd_pos1,1);v_depth=gl_Position.w;
#endif
#endif
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude_xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=mix(extrude_length_without_perspective/extrude_length_with_perspective,1.0,step(0.01,blur));
#else
v_gamma_scale=1.0;
#endif
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
highp float a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float line_progress=a_packed[2];
#ifdef RENDER_LINE_GRADIENT
highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec3(a_uv_x,a_split_index*texel_height-half_texel_height,line_progress);
#else
v_uv=vec3(a_uv_x,0.0,line_progress);
#endif
#endif
#ifdef RENDER_LINE_DASH
float scale=dash.z==0.0 ? 0.0 : u_tile_units_to_pixels/dash.z;float height=dash.y;v_tex=vec2(a_linesofar*scale/(floorwidth*u_floor_width_scale),(-normal.y*height+dash.x+0.5)/u_texsize.y);
#endif
v_width2=vec2(outset,inset);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
#ifdef INDICATOR_CUTOUT
v_z_offset=a_z_offset;
#endif
}`),linePattern:Qa(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
#include "_prelude_shadow.fragment.glsl"
uniform highp float u_device_pixel_ratio;uniform highp float u_width_scale;uniform highp float u_alpha_discard_threshold;uniform highp vec2 u_texsize;uniform highp float u_tile_units_to_pixels;uniform highp vec2 u_trim_offset;uniform highp vec2 u_trim_fade_range;uniform lowp vec4 u_trim_color;uniform sampler2D u_image;in vec2 v_normal;in vec2 v_width2;in highp float v_linesofar;in float v_gamma_scale;in float v_width;
#ifdef RENDER_LINE_TRIM_OFFSET
in highp vec3 v_uv;
#endif
#ifdef ELEVATED_ROADS
in highp float v_road_z_offset;
#endif
#ifdef LINE_JOIN_NONE
in vec2 v_pattern_data;
#endif
#ifdef INDICATOR_CUTOUT
in highp float v_z_offset;
#endif
#ifdef RENDER_SHADOWS
uniform vec3 u_ground_shadow_factor;in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;in highp float v_depth;
#endif
uniform float u_emissive_strength;
#pragma mapbox: define mediump vec4 pattern
#pragma mapbox: define mediump float pixel_ratio
#pragma mapbox: define mediump float blur
#pragma mapbox: define mediump float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize mediump float pixel_ratio
#pragma mapbox: initialize mediump float blur
#pragma mapbox: initialize mediump float opacity
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;highp float pattern_size=display_size.x/u_tile_units_to_pixels;float aspect=display_size.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(u_width_scale*blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);highp float pattern_x=v_linesofar/pattern_size*aspect;highp float x=mod(pattern_x,1.0);highp float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;highp vec2 pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(x,y));highp vec2 lod_pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(pattern_x,y));vec4 color=textureLodCustom(u_image,pos,lod_pos);
#ifdef RENDER_LINE_TRIM_OFFSET
highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=v_uv[2];if (trim_end > trim_start) {highp float start_transition=max(0.0,min(1.0,(line_progress-trim_start)/max(u_trim_fade_range[0],1.0e-9)));highp float end_transition=max(0.0,min(1.0,(trim_end-line_progress)/max(u_trim_fade_range[1],1.0e-9)));highp float transition_factor=min(start_transition,end_transition);color=mix(color,color.a*u_trim_color,transition_factor);}
#endif
#ifdef LINE_JOIN_NONE
highp float pattern_len=pattern_size/aspect;highp float segment_phase=pattern_len-mod(v_linesofar-v_pattern_data.x+pattern_len,pattern_len);highp float visible_start=segment_phase-step(pattern_len*0.5,segment_phase)*pattern_len;highp float visible_end=floor((v_pattern_data.y-segment_phase)/pattern_len)*pattern_len+segment_phase;visible_end+=step(pattern_len*0.5,v_pattern_data.y-visible_end)*pattern_len;if (v_pattern_data.x < visible_start || v_pattern_data.x >=visible_end) {color=vec4(0.0);}
#endif
#ifdef LIGHTING_3D_MODE
color=apply_lighting_with_emission_ground(color,u_emissive_strength);
#ifdef RENDER_SHADOWS
float light=shadowed_light_factor(v_pos_light_view_0,v_pos_light_view_1,v_depth);
#ifdef ELEVATED_ROADS
color.rgb*=mix(v_road_z_offset > 0.0 ? u_ground_shadow_factor : vec3(1.0),vec3(1.0),light);
#else
color.rgb*=mix(u_ground_shadow_factor,vec3(1.0),light);
#endif
#endif
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
color*=(alpha*opacity);if (u_alpha_discard_threshold !=0.0) {if (color.a < u_alpha_discard_threshold) {discard;}}
#ifdef INDICATOR_CUTOUT
color=applyCutout(color,v_z_offset);
#endif
glFragColor=color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;
#if defined(ELEVATED) || defined(ELEVATED_ROADS)
in vec3 a_z_offset_width;
#endif
#ifdef RENDER_LINE_TRIM_OFFSET
in highp vec3 a_packed;
#endif
in highp float a_linesofar;
#ifdef LINE_JOIN_NONE
in highp vec3 a_pattern_data;out vec2 v_pattern_data;
#endif
#ifdef INDICATOR_CUTOUT
out highp float v_z_offset;
#endif
uniform mat4 u_matrix;uniform float u_tile_units_to_pixels;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform float u_device_pixel_ratio;uniform float u_width_scale;uniform float u_floor_width_scale;
#ifdef ELEVATED
uniform lowp float u_zbias_factor;uniform lowp float u_tile_to_meter;float sample_elevation(vec2 apos) {
#ifdef ELEVATION_REFERENCE_SEA
return 0.0;
#else
return elevation(apos);
#endif
}
#endif
out vec2 v_normal;out vec2 v_width2;out highp float v_linesofar;out float v_gamma_scale;out float v_width;
#ifdef RENDER_LINE_TRIM_OFFSET
out highp vec3 v_uv;
#endif
#ifdef ELEVATED_ROADS
out highp float v_road_z_offset;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;out highp float v_depth;
#endif
#pragma mapbox: define mediump float blur
#pragma mapbox: define mediump float opacity
#pragma mapbox: define mediump float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define mediump float floorwidth
#pragma mapbox: define mediump vec4 pattern
#pragma mapbox: define mediump float pixel_ratio
void main() {
#pragma mapbox: initialize mediump float blur
#pragma mapbox: initialize mediump float opacity
#pragma mapbox: initialize mediump float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize mediump float floorwidth
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize mediump float pixel_ratio
float a_z_offset;
#if defined(ELEVATED) || defined(ELEVATED_ROADS)
a_z_offset=a_z_offset_width.x;
#endif
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=(u_width_scale*width)/2.0;offset=-1.0*offset*u_width_scale;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);vec2 dist=outset*a_extrude*scale;float u=0.5*a_direction;float t=1.0-abs(u);vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float hidden=float(opacity==0.0);vec2 extrude=dist*u_pixels_to_tile_units;vec4 projected_extrude=u_matrix*vec4(extrude,0.0,0.0);vec2 projected_extrude_xy=projected_extrude.xy;
#ifdef ELEVATED_ROADS
v_road_z_offset=a_z_offset;gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,a_z_offset,1.0)+projected_extrude;
#else
#ifdef ELEVATED
vec2 offsetTile=offset2*u_pixels_to_tile_units;vec2 offset_pos=pos+offsetTile;float ele=0.0;
#ifdef CROSS_SLOPE_VERTICAL
float top=a_pos_normal.y-2.0*floor(a_pos_normal.y*0.5);float line_height=2.0*u_tile_to_meter*outset*top*u_pixels_to_tile_units[1][1]+a_z_offset;ele=sample_elevation(offset_pos)+line_height;projected_extrude=vec4(0);
#else
#ifdef CROSS_SLOPE_HORIZONTAL
float ele0=sample_elevation(offset_pos);float ele1=max(sample_elevation(offset_pos+extrude),sample_elevation(offset_pos+extrude/2.0));float ele2=max(sample_elevation(offset_pos-extrude),sample_elevation(offset_pos-extrude/2.0));float ele_max=max(ele0,max(ele1,ele2));ele=ele_max+a_z_offset;
#else
float ele0=sample_elevation(offset_pos);float ele1=max(sample_elevation(offset_pos+extrude),sample_elevation(offset_pos+extrude/2.0));float ele2=max(sample_elevation(offset_pos-extrude),sample_elevation(offset_pos-extrude/2.0));float ele_max=max(ele0,0.5*(ele1+ele2));ele=ele_max-ele0+ele1+a_z_offset;
#endif
#endif
gl_Position=u_matrix*vec4(offset_pos,ele,1.0)+projected_extrude;float z=clamp(gl_Position.z/gl_Position.w,0.5,1.0);float zbias=max(0.00005,(pow(z,0.8)-z)*u_zbias_factor*u_exaggeration);gl_Position.z-=(gl_Position.w*zbias);gl_Position=mix(gl_Position,AWAY,hidden);
#else
gl_Position=mix(u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude,AWAY,hidden);
#endif
#endif
#ifdef ELEVATED_ROADS
#ifdef RENDER_SHADOWS
vec3 shd_pos=vec3(pos+(offset2+dist)*u_pixels_to_tile_units,a_z_offset);vec3 shd_pos0=shd_pos;vec3 shd_pos1=shd_pos;
#ifdef NORMAL_OFFSET
vec3 shd_pos_offset=shadow_normal_offset(vec3(0.0,0.0,1.0));shd_pos0+=shd_pos_offset*shadow_normal_offset_multiplier0();shd_pos1+=shd_pos_offset*shadow_normal_offset_multiplier1();
#endif
v_pos_light_view_0=u_light_matrix_0*vec4(shd_pos0,1);v_pos_light_view_1=u_light_matrix_1*vec4(shd_pos1,1);v_depth=gl_Position.w;
#endif
#endif
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude_xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=mix(extrude_length_without_perspective/extrude_length_with_perspective,1.0,step(0.01,blur));
#else
v_gamma_scale=1.0;
#endif
#ifdef RENDER_LINE_TRIM_OFFSET
highp float a_uv_x=a_packed[0];highp float line_progress=a_packed[2];v_uv=vec3(a_uv_x,0.0,line_progress);
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=(floorwidth*u_floor_width_scale);
#ifdef LINE_JOIN_NONE
v_width=(floorwidth*u_floor_width_scale)+ANTIALIASING;mediump float pixels_to_tile_units=1.0/u_tile_units_to_pixels;mediump float pixel_ratio_inverse=1.0/pixel_ratio;mediump float aspect=v_width/((pattern.w-pattern.y)*pixel_ratio_inverse);highp float subt_multiple=(pattern.z-pattern.x)*pixel_ratio_inverse*pixels_to_tile_units*aspect*32.0;highp float subt=floor(a_pattern_data.z/subt_multiple)*subt_multiple;float offset_sign=(fract(a_pattern_data.x)-0.5)*4.0;float line_progress_offset=offset_sign*v_width*0.5*pixels_to_tile_units;v_linesofar=(a_pattern_data.z-subt)+a_linesofar+line_progress_offset;v_pattern_data=vec2(a_pattern_data.x+line_progress_offset,a_pattern_data.y);
#endif
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
#ifdef INDICATOR_CUTOUT
v_z_offset=a_z_offset;
#endif
}`),raster:Qa(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
#include "_prelude_raster_array.glsl"
uniform float u_fade_t;uniform float u_opacity;uniform highp float u_raster_elevation;uniform highp float u_zoom_transition;in vec2 v_pos0;in vec2 v_pos1;in float v_depth;
#ifdef PROJECTION_GLOBE_VIEW
in float v_split_fade;
#endif
uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;uniform float u_emissive_strength;
#ifndef RASTER_ARRAY
uniform highp sampler2D u_image0;uniform sampler2D u_image1;
#endif
#ifdef RASTER_COLOR
uniform sampler2D u_color_ramp;uniform highp vec4 u_colorization_mix;uniform highp float u_colorization_offset;uniform vec2 u_texture_res;
#endif
void main() {vec4 color0,color1,color;vec2 value;
#ifdef RASTER_COLOR
#ifdef RASTER_ARRAY
#ifdef RASTER_ARRAY_LINEAR
value=mix(
raTexture2D_image0_linear(v_pos0,u_texture_res,u_colorization_mix,u_colorization_offset),raTexture2D_image1_linear(v_pos1,u_texture_res,u_colorization_mix,u_colorization_offset),u_fade_t
);
#else
value=mix(
raTexture2D_image0_nearest(v_pos0,u_texture_res,u_colorization_mix,u_colorization_offset),raTexture2D_image1_nearest(v_pos1,u_texture_res,u_colorization_mix,u_colorization_offset),u_fade_t
);
#endif
if (value.y > 0.0) value.x/=value.y;
#else
color=mix(texture(u_image0,v_pos0),texture(u_image1,v_pos1),u_fade_t);value=vec2(u_colorization_offset+dot(color.rgb,u_colorization_mix.rgb),color.a);
#endif
color=texture(u_color_ramp,vec2(value.x,0.5));if (color.a > 0.0) color.rgb/=color.a;color.a*=value.y;
#else
color0=texture(u_image0,v_pos0);color1=texture(u_image1,v_pos1);if (color0.a > 0.0) color0.rgb/=color0.a;if (color1.a > 0.0) color1.rgb/=color1.a;color=mix(color0,color1,u_fade_t);
#endif
color.a*=u_opacity;
#ifdef GLOBE_POLES
color.a*=1.0-smoothstep(0.0,0.05,u_zoom_transition);
#endif
vec3 rgb=color.rgb;rgb=vec3(
dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(vec4(out_color,1.0),u_emissive_strength).rgb;
#endif
#ifdef FOG
highp float fog_limit_high_meters=1000000.0;highp float fog_limit_low_meters=600000.0;float fog_limit=1.0-smoothstep(fog_limit_low_meters,fog_limit_high_meters,u_raster_elevation);out_color=fog_dither(fog_apply(out_color,v_fog_pos,fog_limit));
#endif
glFragColor=vec4(out_color*color.a,color.a);
#ifdef PROJECTION_GLOBE_VIEW
glFragColor*=mix(1.0,1.0-smoothstep(0.0,0.05,u_zoom_transition),smoothstep(0.8,0.9,v_split_fade));
#endif
#ifdef RENDER_CUTOFF
glFragColor=glFragColor*cutoff_opacity(u_cutoff_params,v_depth);
#endif
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform mat3 u_grid_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;uniform vec2 u_texture_offset;uniform float u_raster_elevation;uniform float u_zoom_transition;uniform vec2 u_merc_center;
#define GLOBE_UPSCALE GLOBE_RADIUS/6371008.8
#ifdef GLOBE_POLES
in vec3 a_globe_pos;in vec2 a_uv;
#else
in vec2 a_pos;in vec2 a_texture_pos;
#endif
out vec2 v_pos0;out vec2 v_pos1;out float v_depth;
#ifdef PROJECTION_GLOBE_VIEW
out float v_split_fade;
#endif
void main() {vec2 uv;
#ifdef GLOBE_POLES
vec3 globe_pos=a_globe_pos;globe_pos+=normalize(globe_pos)*u_raster_elevation*GLOBE_UPSCALE;gl_Position=u_matrix*u_globe_matrix*vec4(globe_pos   ,1.0);uv=a_uv;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(a_globe_pos,1.0)).xyz);
#endif
#else
float w=1.0+dot(a_texture_pos,u_perspective_transform);uv=a_texture_pos/8192.0;
#ifdef PROJECTION_GLOBE_VIEW
vec3 decomposed_pos_and_skirt=decomposeToPosAndSkirt(a_pos);vec3 latLng=u_grid_matrix*vec3(decomposed_pos_and_skirt.xy,1.0);vec3 globe_pos=latLngToECEF(latLng.xy);globe_pos+=normalize(globe_pos)*u_raster_elevation*GLOBE_UPSCALE;vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);float mercatorY=mercatorYfromLat(latLng[0]);float mercatorX=mercatorXfromLng(latLng[1]);    
v_split_fade=0.0;if (u_zoom_transition > 0.0) {vec2 merc_pos=vec2(mercatorX,mercatorY);merc_world_pos=vec4(merc_pos,u_raster_elevation,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;float opposite_merc_center=mod(u_merc_center.x+0.5,1.0);float dist_from_poles=(abs(mercatorY-0.5)*2.0);float range=0.1;v_split_fade=abs(opposite_merc_center-mercatorX);v_split_fade=clamp(1.0-v_split_fade,0.0,1.0);v_split_fade=max(smoothstep(1.0-range,1.0,dist_from_poles),max(smoothstep(1.0-range,1.0,v_split_fade),smoothstep(1.0-range,1.0,1.0-v_split_fade)));}float tiles=u_grid_matrix[0][2];if (tiles > 0.0) {float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];float uvY=mercatorY*tiles-idy;float uvX=mercatorX*tiles-idx;uv=vec2(uvX,uvY);}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition)*w,w);gl_Position=u_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
#else
gl_Position=u_matrix*vec4(a_pos*w,u_raster_elevation*w,w);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
#endif
#endif
v_pos0=uv;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;v_pos0=u_texture_offset.x+u_texture_offset.y*v_pos0;v_pos1=u_texture_offset.x+u_texture_offset.y*v_pos1;
#ifdef RENDER_CUTOFF
v_depth=gl_Position.z;
#endif
}`),rasterParticle:Qa(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform float u_fade_t;uniform float u_opacity;uniform highp float u_raster_elevation;in vec2 v_pos0;in vec2 v_pos1;uniform sampler2D u_image0;uniform sampler2D u_image1;void main() {vec4 color0,color1,color;color0=texture(u_image0,v_pos0);color1=texture(u_image1,v_pos1);if (color0.a > 0.0) color0.rgb/=color0.a;if (color1.a > 0.0) color1.rgb/=color1.a;color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 out_color=color.rgb;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(vec4(out_color,1.0),0.0).rgb;
#endif
#ifdef FOG
highp float fog_limit_high_meters=1000000.0;highp float fog_limit_low_meters=600000.0;float fog_limit=1.0-smoothstep(fog_limit_low_meters,fog_limit_high_meters,u_raster_elevation);out_color=fog_dither(fog_apply(out_color,v_fog_pos,fog_limit));
#endif
glFragColor=vec4(out_color*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform mat3 u_grid_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_raster_elevation;uniform float u_zoom_transition;uniform vec2 u_merc_center;
#define GLOBE_UPSCALE GLOBE_RADIUS/6371008.8
in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos0;out vec2 v_pos1;void main() {float w=1.0;vec2 uv;
#ifdef PROJECTION_GLOBE_VIEW
vec3 decomposed_pos_and_skirt=decomposeToPosAndSkirt(a_pos);vec3 latLng=u_grid_matrix*vec3(decomposed_pos_and_skirt.xy,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float mercatorX=mercatorXfromLng(latLng[1]);float tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];float uvX=mercatorX*tiles-idx;float uvY=mercatorY*tiles-idy;uv=vec2(uvX,uvY);vec3 globe_pos=latLngToECEF(latLng.xy);globe_pos+=normalize(globe_pos)*u_raster_elevation*GLOBE_UPSCALE;vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {vec2 merc_pos=vec2(mercatorX,mercatorY);merc_world_pos=vec4(merc_pos,u_raster_elevation,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition)*w,w);gl_Position=u_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
#else
uv=a_texture_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*w,u_raster_elevation*w,w);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
#endif
v_pos0=uv;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}`),rasterParticleDraw:Qa("uniform sampler2D u_color_ramp;in float v_particle_speed;void main() {glFragColor=texture(u_color_ramp,vec2(v_particle_speed,0.5));}",`#include "_prelude_raster_particle.glsl"
in float a_index;uniform sampler2D u_particle_texture;uniform float u_particle_texture_side_len;uniform vec2 u_tile_offset;out float v_particle_speed;void main() {ivec2 pixel_coord=ivec2(
mod(a_index,u_particle_texture_side_len),a_index/u_particle_texture_side_len);vec4 pixel=texelFetch(u_particle_texture,pixel_coord,0);vec2 pos=unpack_pos_from_rgba(pixel)+u_tile_offset;vec2 tex_coord=fract(pos);vec2 velocity=lookup_velocity(tex_coord);if (velocity==INVALID_VELOCITY) {gl_Position=AWAY;v_particle_speed=0.0;} else {gl_Position=vec4(2.0*pos-1.0,0,1);v_particle_speed=length(velocity);}gl_PointSize=1.0;}`),rasterParticleTexture:Qa("uniform sampler2D u_texture;uniform float u_opacity;in vec2 v_tex_pos;void main() {vec4 color=texture(u_texture,v_tex_pos);glFragColor=vec4(floor(255.0*color*u_opacity)/255.0);}","in vec2 a_pos;out vec2 v_tex_pos;void main() {vec2 uv=0.5*a_pos+vec2(0.5);v_tex_pos=uv;gl_Position=vec4(a_pos,0.0,1.0);}"),rasterParticleUpdate:Qa(`#include "_prelude_raster_particle.glsl"
uniform sampler2D u_particle_texture;uniform mediump float u_particle_texture_side_len;uniform mediump float u_speed_factor;uniform highp float u_reset_rate;uniform highp float u_rand_seed;in highp vec2 v_tex_coord;vec2 linearstep(vec2 edge0,vec2 edge1,vec2 x) {return  clamp((x-edge0)/(edge1-edge0),vec2(0),vec2(1));}const highp vec3 rand_constants=vec3(12.9898,78.233,4375.85453);highp float rand(const highp vec2 co) {highp float t=dot(rand_constants.xy,co);return fract(sin(t)*(rand_constants.z+t));}void main() {ivec2 pixel_coord=ivec2(v_tex_coord*u_particle_texture_side_len);highp vec4 pixel=texelFetch(u_particle_texture,pixel_coord,0);highp vec2 pos=unpack_pos_from_rgba(pixel);highp vec2 velocity=lookup_velocity(clamp(pos,0.0,1.0));highp vec2 dp=velocity==INVALID_VELOCITY ? vec2(0) : velocity*u_speed_factor;pos=pos+dp;highp vec2 seed=(pos+v_tex_coord)*u_rand_seed;highp vec2 random_pos=vec2(rand(seed+1.3),rand(seed+2.1));highp vec2 persist_rate=pow(
linearstep(vec2(-u_particle_pos_offset),vec2(0),pos)*linearstep(vec2(1.0+u_particle_pos_offset),vec2(1),pos),vec2(4)
);highp vec2 per_frame_persist=pow(persist_rate,abs(dp)/u_particle_pos_offset);highp float drop_rate=1.0-per_frame_persist.x*per_frame_persist.y;drop_rate=any(greaterThanEqual(abs(pos-0.5),vec2(0.5+u_particle_pos_offset))) ? 1.0 : drop_rate;highp float drop=step(1.0-drop_rate-u_reset_rate,rand(seed));highp vec2 next_pos=mix(pos,random_pos,drop);glFragColor=pack_pos_to_rgba(next_pos);}`,"in vec2 a_pos;out vec2 v_tex_coord;void main() {v_tex_coord=0.5*(a_pos+vec2(1.0));gl_Position=vec4(a_pos,0.0,1.0);}"),symbol:Qa(`#include "_prelude_lighting.glsl"
#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;uniform bool u_is_halo;uniform lowp float u_scale_factor;
#ifdef ICON_TRANSITION
uniform float u_icon_transition;
#endif
#ifdef COLOR_ADJUSTMENT
uniform mat4 u_color_adj_mat;
#endif
#ifdef INDICATOR_CUTOUT
in highp float v_z_offset;
#endif
in vec2 v_tex_a;
#ifdef ICON_TRANSITION
in vec2 v_tex_b;
#endif
in float v_draw_halo;in vec3 v_gamma_scale_size_fade_opacity;
#ifdef RENDER_TEXT_AND_SYMBOL
in float is_sdf;in vec2 v_tex_a_icon;
#endif
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
#pragma mapbox: define lowp float emissive_strength
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
#pragma mapbox: initialize lowp float emissive_strength
vec4 out_color;float fade_opacity=v_gamma_scale_size_fade_opacity[2];
#ifdef RENDER_TEXT_AND_SYMBOL
if (is_sdf==ICON) {vec2 tex_icon=v_tex_a_icon;lowp float alpha=opacity*fade_opacity;glFragColor=texture(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
return;}
#endif
#ifdef RENDER_SDF
float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_gamma_scale_size_fade_opacity.x;float size=v_gamma_scale_size_fade_opacity.y;float fontScale=u_is_text ? size/24.0 : size;out_color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;bool draw_halo=v_draw_halo > 0.0;if (draw_halo) {out_color=halo_color;gamma=(halo_blur*u_scale_factor*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width*u_scale_factor/fontScale)/SDF_PX;}lowp float dist=texture(u_texture,v_tex_a).r;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);out_color*=alpha;
#else
#ifdef ICON_TRANSITION
vec4 a=texture(u_texture,v_tex_a)*(1.0-u_icon_transition);vec4 b=texture(u_texture,v_tex_b)*u_icon_transition;out_color=(a+b);
#else
out_color=texture(u_texture,v_tex_a);
#endif
#ifdef COLOR_ADJUSTMENT
out_color=u_color_adj_mat*out_color;
#endif
#endif
out_color*=opacity*fade_opacity;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,emissive_strength);
#endif
#ifdef INDICATOR_CUTOUT
out_color=applyCutout(out_color,v_z_offset);
#endif
glFragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_terrain.vertex.glsl"
in vec4 a_pos_offset;in vec4 a_tex_size;in vec4 a_pixeloffset;in vec4 a_projected_pos;in float a_fade_opacity;
#ifdef Z_OFFSET
in float a_auto_z_offset;
#endif
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_globe_anchor;in vec3 a_globe_normal;
#endif
#ifdef ICON_TRANSITION
in vec2 a_texb;
#endif
#ifdef OCCLUSION_QUERIES
in float a_occlusion_query_opacity;
#endif
#ifdef INDICATOR_CUTOUT
out highp float v_z_offset;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_elevation_from_sea;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;uniform bool u_is_halo;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
out vec2 v_tex_a;
#ifdef ICON_TRANSITION
out vec2 v_tex_b;
#endif
out float v_draw_halo;out vec3 v_gamma_scale_size_fade_opacity;
#ifdef RENDER_TEXT_AND_SYMBOL
out float is_sdf;out vec2 v_tex_a_icon;
#endif
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
#pragma mapbox: define lowp float emissive_strength
#pragma mapbox: define lowp float occlusion_opacity
#pragma mapbox: define lowp float z_offset
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
#pragma mapbox: initialize lowp float emissive_strength
#pragma mapbox: initialize lowp float occlusion_opacity
#pragma mapbox: initialize lowp float z_offset
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;float e=u_elevation_from_sea ? z_offset : z_offset+elevation(tile_anchor);
#ifdef Z_OFFSET
e+=a_auto_z_offset;
#endif
vec3 h=elevationVector(tile_anchor)*e;float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;vec3 world_pos_globe;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos_globe=a_globe_anchor+h;world_pos=mix_globe_mercator(world_pos_globe,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetprojected_point;vec2 a;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);vec4 projected_point_globe=u_matrix*vec4(world_pos_globe,1);a=projected_point_globe.xy/projected_point_globe.w;
#else
offsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);a=projected_point.xy/projected_point.w;
#endif
vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
#ifdef PROJECTED_POS_ON_VIEWPORT
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xyz+h,1.0);
#else
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz,mercator_pos,u_zoom_transition)+h;projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);    
#endif
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
#ifdef Z_OFFSET
z+=u_pitch_with_map ? a_auto_z_offset+(u_elevation_from_sea ? z_offset : z_offset) : 0.0;
#else
z+=u_pitch_with_map ? (u_elevation_from_sea ? z_offset : z_offset) : 0.0;
#endif
float occlusion_fade=globe_occlusion_fade;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float out_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));
#ifdef DEPTH_OCCLUSION
float depth_occlusion=occlusionFadeMultiSample(projected_point);float depth_occlusion_multplier=mix(occlusion_opacity,1.0,depth_occlusion);out_fade_opacity*=depth_occlusion_multplier;
#endif
#ifdef OCCLUSION_QUERIES
float occludedFadeMultiplier=mix(occlusion_opacity,1.0,a_occlusion_query_opacity);out_fade_opacity*=occludedFadeMultiplier;
#endif
float alpha=opacity*out_fade_opacity;float hidden=float(alpha==0.0 || projected_point.w <=0.0 || occlusion_fade==0.0);
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,hidden);
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,hidden);
#endif
float gamma_scale=gl_Position.w;v_draw_halo=(u_is_halo && float(gl_InstanceID)==0.0) ? 1.0 : 0.0;v_gamma_scale_size_fade_opacity=vec3(gamma_scale,size,out_fade_opacity);v_tex_a=a_tex/u_texsize;
#ifdef RENDER_TEXT_AND_SYMBOL
is_sdf=a_size[0]-2.0*a_size_min;v_tex_a_icon=a_tex/u_texsize_icon;
#endif
#ifdef ICON_TRANSITION
v_tex_b=a_texb/u_texsize;
#endif
#ifdef INDICATOR_CUTOUT
v_z_offset=e;
#endif
}`),terrainRaster:Qa(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_shadow.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform sampler2D u_image0;in vec2 v_pos0;
#ifdef FOG
in float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
in vec4 v_pos_light_view_0;in vec4 v_pos_light_view_1;
#endif
uniform vec3 u_ground_shadow_factor;void main() {vec4 image_color=texture(u_image0,v_pos0);vec4 color;
#ifdef LIGHTING_3D_MODE
const vec3 normal=vec3(0.0,0.0,1.0);
#ifdef RENDER_SHADOWS
float cutoffOpacity=1.0;
#ifdef RENDER_CUTOFF
cutoffOpacity=cutoff_opacity(u_cutoff_params,1.0/gl_FragCoord.w);
#endif
#ifdef LIGHTING_3D_ALPHA_EMISSIVENESS
vec3 unlit_base=image_color.rgb*(1.0-image_color.a);vec3 emissive_base=image_color.rgb*image_color.a;float ndotl=u_shadow_direction.z;float occlusion=ndotl < 0.0 ? 1.0 : shadow_occlusion(v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w,0.0);ndotl=max(0.0,ndotl);vec3 lit=apply_lighting(unlit_base,normal,mix(1.0,(1.0-(u_shadow_intensity*occlusion))*ndotl,cutoffOpacity));vec3 emissive=compute_emissive_draped(emissive_base,1.0-u_shadow_intensity,occlusion,u_ground_shadow_factor);color.rgb=lit+emissive;color.a=1.0;
#else
float lighting_factor=shadowed_light_factor_normal_unbiased(normal,v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w);color=apply_lighting(image_color,normal,mix(1.0,lighting_factor,cutoffOpacity));
#endif
#else
float lighting_factor=u_lighting_directional_dir.z;color=apply_lighting(image_color,normal,lighting_factor);
#ifdef LIGHTING_3D_ALPHA_EMISSIVENESS
color.rgb=mix(color.rgb,image_color.rgb,image_color.a);color.a=1.0;
#endif
#endif
#else
color=image_color;
#endif
#ifdef FOG
#ifdef ZERO_EXAGGERATION
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#else
color=fog_dither(fog_apply_from_vert(color,v_fog_opacity));
#endif
#endif
glFragColor=color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
uniform mat4 u_matrix;uniform float u_skirt_height;in vec2 a_pos;out vec2 v_pos0;
#ifdef FOG
out float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out vec4 v_pos_light_view_0;out vec4 v_pos_light_view_1;out float v_depth;
#endif
void main() {vec3 decomposedPosAndSkirt=decomposeToPosAndSkirt(a_pos);float skirt=decomposedPosAndSkirt.z;vec2 decodedPos=decomposedPosAndSkirt.xy;float elevation=elevation(decodedPos)-skirt*u_skirt_height;v_pos0=decodedPos/8192.0;gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);
#ifdef FOG
#ifdef ZERO_EXAGGERATION
v_fog_pos=fog_position(decodedPos);
#else
v_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));
#endif
#endif
#ifdef RENDER_SHADOWS
vec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);
#endif
}`),terrainDepth:Qa("precision highp float;in float v_depth;void main() {glFragColor=pack_depth(v_depth);}",`#include "_prelude_terrain.vertex.glsl"
uniform mat4 u_matrix;in vec2 a_pos;out float v_depth;void main() {float elevation=elevation(a_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}`),skybox:Qa(`#include "_prelude_fog.fragment.glsl"
in lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(
cos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=texture(u_cubemap,uv).rgb;
#ifdef FOG
sky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);
#endif
sky_color+=0.1*sun_disk(v_uv,u_sun_direction);glFragColor=vec4(sky_color*u_opacity,u_opacity);
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
}`,ul),skyboxGradient:Qa(`#include "_prelude_fog.fragment.glsl"
in highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture(u_color_ramp,vec2(progress,0.5));
#ifdef FOG
color.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;
#endif
color*=u_opacity;glFragColor=color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
}`,ul),skyboxCapture:Qa(`
in highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;precision highp float;
#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)
#define BETA_M                  vec3(21e-6,21e-6,21e-6)
#define MIE_G                   0.76
#define DENSITY_HEIGHT_SCALE_R  8000.0
#define DENSITY_HEIGHT_SCALE_M  1200.0
#define PLANET_RADIUS           6360e3
#define ATMOSPHERE_RADIUS       6420e3
#define SAMPLE_STEPS            10
#define DENSITY_STEPS           4
float ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;glFragColor=vec4(color,1.0);}`,"in highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;out highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:Qa(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform sampler2D u_image0;uniform float u_far_z_cutoff;in vec2 v_pos0;
#ifndef FOG
uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;
#endif
void main() {vec4 color;
#ifdef CUSTOM_ANTIALIASING
highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;highp float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);highp float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture(u_image0,v_pos0);
#ifdef LIGHTING_3D_MODE
#ifdef LIGHTING_3D_ALPHA_EMISSIVENESS
raster=apply_lighting_with_emission_ground(raster,raster.a);color=vec4(clamp(raster.rgb,vec3(0),vec3(1))*antialias,antialias);
#else
raster=apply_lighting_ground(raster);color=vec4(raster.rgb*antialias,raster.a*antialias);
#endif
#else
color=vec4(raster.rgb*antialias,raster.a*antialias);
#endif
#else
color=texture(u_image0,v_pos0);
#ifdef LIGHTING_3D_MODE
#ifdef LIGHTING_3D_ALPHA_EMISSIVENESS
color=apply_lighting_with_emission_ground(color,color.a);color.a=1.0;
#else
color=apply_lighting_ground(color);
#endif
#endif
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
color*=1.0-step(u_far_z_cutoff,1.0/gl_FragCoord.w);glFragColor=color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
uniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;uniform float u_skirt_height;
#ifdef GLOBE_POLES
in vec3 a_globe_pos;in vec2 a_uv;
#else
in vec2 a_pos;
#endif
out vec2 v_pos0;void main() {
#ifdef GLOBE_POLES
vec3 globe_pos=a_globe_pos;vec2 uv=a_uv;
#else
float tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];vec3 decomposed_pos_and_skirt=decomposeToPosAndSkirt(a_pos);vec3 latLng=u_grid_matrix*vec3(decomposed_pos_and_skirt.xy,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=mercatorX*tiles-idx;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);
#endif
v_pos0=uv;vec2 tile_pos=uv*EXTENT;vec3 globe_derived_up_vector=normalize(globe_pos)*u_tile_up_scale;
#ifdef GLOBE_POLES
vec3 up_vector=globe_derived_up_vector;
#else
vec3 up_vector=elevationVector(tile_pos);
#endif
float height=elevation(tile_pos);globe_pos+=up_vector*height;
#ifndef GLOBE_POLES
globe_pos-=globe_derived_up_vector*u_skirt_height*decomposed_pos_and_skirt.z;
#endif
#ifdef GLOBE_POLES
vec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);
#else
vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height-u_skirt_height*decomposed_pos_and_skirt.z,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);
#endif
gl_Position=u_proj_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
}`),globeAtmosphere:Qa(`#include "_prelude_fog.fragment.glsl"
uniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec4 u_color;uniform vec4 u_high_color;uniform vec4 u_space_color;uniform float u_horizon_angle;in highp vec3 v_ray_dir;in highp vec3 v_horizon_dir;void main() {highp vec3 dir=normalize(v_ray_dir);float globe_pos_dot_dir;
#ifdef PROJECTION_GLOBE_VIEW
globe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {
#ifdef ALPHA_PASS
glFragColor=vec4(0,0,0,0);return;
#else
#ifdef NATIVE
glFragColor=vec4(1,1,1,1);
#else
glFragColor=vec4(0,0,0,1);
#endif
return;
#endif
}
#endif
highp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?
0.0 : max(acos(clamp(dot(dir,horizon_dir),-1.0,1.0)),0.0);float horizon_angle;
#ifdef PROJECTION_GLOBE_VIEW
highp vec3 closest_point=globe_pos_dot_dir*dir;highp float closest_point_to_center=length(closest_point-u_globe_pos);highp float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));horizon_angle=globe_pos_dot_dir < 0.0 ?
PI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);
#else
horizon_angle=horizon_angle_mercator;
#endif
horizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;
#ifdef ALPHA_PASS
float a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);glFragColor=vec4(1.0,1.0,1.0,a);
#else
vec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c=c2;glFragColor=vec4(c*t,t);
#endif
}`,`in vec3 a_pos;in vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;out highp vec3 v_ray_dir;out highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(
mix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}`),model:Qa(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_shadow.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform float u_opacity;uniform vec3 u_lightcolor;uniform vec3 u_lightpos;uniform float u_lightintensity;uniform vec4 u_baseColorFactor;uniform vec4 u_emissiveFactor;uniform float u_metallicFactor;uniform float u_roughnessFactor;uniform float u_emissive_strength;in highp vec4 v_position_height;in lowp vec4 v_color_mix;
#ifdef RENDER_SHADOWS
in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;in float v_depth_shadows;
#endif
#ifdef OCCLUSION_TEXTURE_TRANSFORM
uniform vec4 u_occlusionTextureTransform;
#endif
#pragma mapbox: define-attribute highp vec3 normal_3f
#pragma mapbox: define-attribute highp vec3 color_3f
#pragma mapbox: define-attribute highp vec4 color_4f
#pragma mapbox: define-attribute highp vec2 uv_2f
#pragma mapbox: initialize-attribute highp vec3 normal_3f
#pragma mapbox: initialize-attribute highp vec3 color_3f
#pragma mapbox: initialize-attribute highp vec4 color_4f
#pragma mapbox: initialize-attribute highp vec2 uv_2f
#ifdef HAS_ATTRIBUTE_a_pbr
in lowp vec4 v_roughness_metallic_emissive_alpha;in mediump vec4 v_height_based_emission_params;
#endif
#ifdef HAS_TEXTURE_u_baseColorTexture
uniform sampler2D u_baseColorTexture;uniform bool u_baseTextureIsAlpha;uniform bool u_alphaMask;uniform float u_alphaCutoff;
#endif
#ifdef HAS_TEXTURE_u_metallicRoughnessTexture
uniform sampler2D u_metallicRoughnessTexture;
#endif
#ifdef HAS_TEXTURE_u_occlusionTexture
uniform sampler2D u_occlusionTexture;uniform float u_aoIntensity;
#endif
#ifdef HAS_TEXTURE_u_normalTexture
uniform sampler2D u_normalTexture;
#endif
#ifdef HAS_TEXTURE_u_emissionTexture
uniform sampler2D u_emissionTexture;
#endif
#ifdef APPLY_LUT_ON_GPU
uniform highp sampler3D u_lutTexture;
#endif
#ifdef TERRAIN_FRAGMENT_OCCLUSION
in highp float v_depth;uniform highp sampler2D u_depthTexture;uniform highp vec2 u_inv_depth_size;uniform highp vec2 u_depth_range_unpack;
#ifdef DEPTH_D24
highp float unpack_depth(highp float depth) {return  depth*u_depth_range_unpack.x+u_depth_range_unpack.y;}
#else
highp float unpack_depth_rgba(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}
#endif
bool isOccluded() {highp vec2 coord=gl_FragCoord.xy*u_inv_depth_size;
#ifdef DEPTH_D24
highp float depth=unpack_depth(texture(u_depthTexture,coord).r);
#else
highp float depth=unpack_depth_rgba(texture(u_depthTexture,coord));
#endif
return v_depth > depth+0.0005;}
#endif
#define saturate(_x) clamp(_x,0.,1.)
vec3 linearTosRGB(vec3 color) {return pow(color,vec3(1./2.2));}vec3 sRGBToLinear(vec3 srgbIn) {return pow(srgbIn,vec3(2.2));}float calculate_NdotL(vec3 normal,vec3 lightDir) {const float ext=0.70710678118;return (clamp(dot(normal,lightDir),-ext,1.0)+ext)/(1.0+ext);}vec3 getDiffuseShadedColor(vec3 albedo,vec3 normal,vec3 lightDir,vec3 lightColor)
{
#ifdef LIGHTING_3D_MODE
vec3 transformed_normal=vec3(-normal.xy,normal.z);float lighting_factor;
#ifdef RENDER_SHADOWS
lighting_factor=shadowed_light_factor_normal(transformed_normal,v_pos_light_view_0,v_pos_light_view_1,v_depth_shadows);
#else
lighting_factor=saturate(dot(transformed_normal,u_lighting_directional_dir));
#endif
return apply_lighting(albedo,transformed_normal,lighting_factor);
#else
vec3 n=normal;float colorvalue=((albedo.x*0.2126)+(albedo.y*0.7152))+(albedo.z*0.0722);vec3 c=vec3(0.03,0.03,0.03);float directional=clamp(dot(n,vec3(lightDir)),0.0,1.0);directional=mix(1.0-u_lightintensity,max((1.0-colorvalue)+u_lightintensity,1.0),directional);vec3 c3=c+clamp((albedo*directional)*lightColor,mix(vec3(0.0),vec3(0.3),vec3(1.0)-lightColor),vec3(1.0));return c3;
#endif
}vec4 getBaseColor() {vec4 albedo=u_baseColorFactor;
#ifdef HAS_ATTRIBUTE_a_color_3f
albedo*=vec4(color_3f,1.0);
#endif
#ifdef HAS_ATTRIBUTE_a_pbr
#else
#ifdef HAS_ATTRIBUTE_a_color_4f
albedo*=color_4f;
#endif
#endif
#if defined (HAS_TEXTURE_u_baseColorTexture) && defined (HAS_ATTRIBUTE_a_uv_2f)
vec4 texColor=texture(u_baseColorTexture,uv_2f);if(u_alphaMask) {if (texColor.w < u_alphaCutoff) {discard;}}
#ifdef UNPREMULT_TEXTURE_IN_SHADER
if(texColor.w > 0.0) {texColor.rgb/=texColor.w;}texColor.w=1.0;
#endif
if(u_baseTextureIsAlpha) {if (texColor.r < 0.5) {discard;}} else {texColor.rgb=sRGBToLinear(texColor.rgb);albedo*=texColor;}
#endif
vec4 color=vec4(mix(albedo.rgb,v_color_mix.rgb,v_color_mix.a),albedo.a);
#ifdef APPLY_LUT_ON_GPU
color=applyLUT(u_lutTexture,color);
#endif
return color;}highp mat3 cotangentFrame(highp vec3 N,highp vec3 p,highp vec2 uv ) {
#ifdef HAS_TEXTURE_u_normalTexture
highp vec3 dp1=vec3(dFdx(p.x),dFdx(p.y),dFdx(p.z));highp vec3 dp2=vec3(dFdy(p.x),dFdy(p.y),dFdy(p.z));highp vec2 duv1=vec2(dFdx(uv.x),dFdx(uv.y));highp vec2 duv2=vec2(dFdy(uv.x),dFdy(uv.y));highp vec3 dp2perp=cross( dp2,N );highp vec3 dp1perp=cross( N,dp1 );highp vec3 T=dp2perp*duv1.x+dp1perp*duv2.x;highp vec3 B=dp2perp*duv1.y+dp1perp*duv2.y;highp float lengthT=dot(T,T);highp float lengthB=dot(B,B);highp float maxLength=max(lengthT,lengthB);highp float invmax=inversesqrt( maxLength );highp mat3 res=mat3( T*invmax,B*invmax,N );return res;
#else
return mat3(1.0);
#endif
}highp vec3 getNormal(){highp vec3 n;
#ifdef HAS_ATTRIBUTE_a_normal_3f
n=normalize(normal_3f);
#else
highp vec3 fdx=vec3(dFdx(v_position_height.x),dFdx(v_position_height.y),dFdx(v_position_height.z));highp vec3 fdy=vec3(dFdy(v_position_height.x),dFdy(v_position_height.y),dFdy(v_position_height.z));n=normalize(cross(fdx,fdy))*-1.0;
#endif
#if defined(HAS_TEXTURE_u_normalTexture) && defined(HAS_ATTRIBUTE_a_uv_2f)
vec3 nMap=texture( u_normalTexture,uv_2f).xyz;nMap=normalize(2.0*nMap-vec3(1.0));highp vec3 v=normalize(-v_position_height.xyz);highp mat3 TBN=cotangentFrame(n,v,uv_2f);n=normalize(TBN*nMap);
#endif
return n;}struct Material {float perceptualRoughness;float alphaRoughness;float metallic;vec3 f90;vec4 baseColor;vec3 diffuseColor;vec3 specularColor;highp vec3 normal;};Material getPBRMaterial() {Material mat;mat.baseColor=getBaseColor();mat.perceptualRoughness=u_roughnessFactor;mat.metallic=u_metallicFactor;
#ifdef HAS_ATTRIBUTE_a_pbr
mat.perceptualRoughness=v_roughness_metallic_emissive_alpha.x;mat.metallic=v_roughness_metallic_emissive_alpha.y;mat.baseColor.w*=v_roughness_metallic_emissive_alpha.w;
#endif
#if defined(HAS_TEXTURE_u_metallicRoughnessTexture) && defined(HAS_ATTRIBUTE_a_uv_2f) 
vec4 mrSample=texture(u_metallicRoughnessTexture,uv_2f);mat.perceptualRoughness*=mrSample.g;mat.metallic*=mrSample.b;
#endif
const float c_minRoughness=0.04;mat.perceptualRoughness=clamp(mat.perceptualRoughness,c_minRoughness,1.0);mat.metallic=saturate(mat.metallic);mat.alphaRoughness=mat.perceptualRoughness*mat.perceptualRoughness;const vec3 f0=vec3(0.04);mat.diffuseColor=mat.baseColor.rgb*(vec3(1.0)-f0);mat.diffuseColor*=1.0-mat.metallic;mat.specularColor=mix(f0,mat.baseColor.rgb,mat.metallic);highp float reflectance=max(max(mat.specularColor.r,mat.specularColor.g),mat.specularColor.b);highp float reflectance90=saturate(reflectance*25.0);mat.f90=vec3(reflectance90);mat.normal=getNormal();return mat;}float V_GGX(float NdotL,float NdotV,float roughness)
{float a2=roughness*roughness;float GGXV=NdotL*sqrt(NdotV*NdotV*(1.0-a2)+a2);float GGXL=NdotV*sqrt(NdotL*NdotL*(1.0-a2)+a2);return 0.5/(GGXV+GGXL);}float V_GGXFast(float NdotL,float NdotV,float roughness) {float a=roughness;float GGXV=NdotL*(NdotV*(1.0-a)+a);float GGXL=NdotV*(NdotL*(1.0-a)+a);return 0.5/(GGXV+GGXL);}vec3 F_Schlick(vec3 specularColor,vec3 f90,float VdotH)
{return specularColor+(f90-specularColor)*pow(clamp(1.0-VdotH,0.0,1.0),5.0);}vec3 F_SchlickFast(vec3 specularColor,float VdotH)
{float x=1.0-VdotH;float x4=x*x*x*x;return specularColor+(1.0-specularColor)*x4*x;}float D_GGX(highp float NdotH,float alphaRoughness)
{highp float a4=alphaRoughness*alphaRoughness;highp float f=(NdotH*a4-NdotH)*NdotH+1.0;return a4/(PI*f*f);}vec3 diffuseBurley(Material mat,float LdotH,float NdotL,float NdotV)
{float f90=2.0*LdotH*LdotH*mat.alphaRoughness-0.5;return (mat.diffuseColor/PI)*(1.0+f90*pow((1.0-NdotL),5.0))*(1.0+f90*pow((1.0-NdotV),5.0));}vec3 diffuseLambertian(Material mat)
{
#ifdef LIGHTING_3D_MODE
return mat.diffuseColor;
#else
return mat.diffuseColor/PI;
#endif
}vec3 EnvBRDFApprox(vec3 specularColor,float roughness,highp float NdotV)
{vec4 c0=vec4(-1,-0.0275,-0.572,0.022);vec4 c1=vec4(1,0.0425,1.04,-0.04);highp vec4 r=roughness*c0+c1;highp float a004=min(r.x*r.x,exp2(-9.28*NdotV))*r.x+r.y;vec2 AB=vec2(-1.04,1.04)*a004+r.zw;return specularColor*AB.x+AB.y;}vec3 computeIndirectLightContribution(Material mat,float NdotV,vec3 normal)
{vec3 env_light=vec3(0.65,0.65,0.65);
#ifdef LIGHTING_3D_MODE
float ambient_factor=calculate_ambient_directional_factor(normal);env_light=u_lighting_ambient_color*ambient_factor;
#endif
vec3 envBRDF=EnvBRDFApprox(mat.specularColor,mat.perceptualRoughness,NdotV);vec3 indirectSpecular= envBRDF*env_light;vec3 indirectDiffuse=mat.diffuseColor*env_light;return indirectSpecular+indirectDiffuse;}vec3 computeLightContribution(Material mat,vec3 lightPosition,vec3 lightColor)
{highp vec3 n=mat.normal;highp vec3 v=normalize(-v_position_height.xyz);highp vec3 l=normalize(lightPosition);highp vec3 h=normalize(v+l);float NdotV=clamp(abs(dot(n,v)),0.001,1.0);float NdotL=saturate(dot(n,l));highp float NdotH=saturate(dot(n,h));float VdotH=saturate(dot(v,h));vec3 f=F_SchlickFast(mat.specularColor,VdotH);float g=V_GGXFast(NdotL,NdotV,mat.alphaRoughness);float d=D_GGX(NdotH,mat.alphaRoughness);vec3 diffuseTerm=(1.0-f)*diffuseLambertian(mat);vec3 specularTerm=f*g*d;vec3 transformed_normal=vec3(-n.xy,n.z);float lighting_factor;
#ifdef RENDER_SHADOWS
lighting_factor=shadowed_light_factor_normal(transformed_normal,v_pos_light_view_0,v_pos_light_view_1,v_depth_shadows);
#else
lighting_factor=NdotL;
#endif
vec3 directLightColor=(specularTerm+diffuseTerm)*lighting_factor*lightColor;vec3 indirectLightColor=computeIndirectLightContribution(mat,NdotV,transformed_normal);vec3 color=(saturate(directLightColor)+indirectLightColor);float intensityFactor=1.0;
#if !defined(LIGHTING_3D_MODE)
const vec3 luminosityFactor=vec3(0.2126,0.7152,0.0722);float luminance=dot(diffuseTerm,luminosityFactor);intensityFactor=mix((1.0-u_lightintensity),max((1.0-luminance+u_lightintensity),1.0),NdotL);
#endif
color*=intensityFactor;return color;}void main() {
#ifdef TERRAIN_FRAGMENT_OCCLUSION
if (isOccluded()) {discard;}
#endif
vec3 lightDir=u_lightpos;vec3 lightColor=u_lightcolor;
#ifdef LIGHTING_3D_MODE
lightDir=u_lighting_directional_dir;lightDir.xy=-lightDir.xy;lightColor=u_lighting_directional_color;
#endif
vec4 finalColor;
#ifdef DIFFUSE_SHADED
vec3 N=getNormal();vec3 baseColor=getBaseColor().rgb;vec3 diffuse=getDiffuseShadedColor(baseColor,N,lightDir,lightColor);
#ifdef HAS_TEXTURE_u_occlusionTexture
float ao=(texture(u_occlusionTexture,uv_2f).r-1.0)*u_aoIntensity+1.0;diffuse*=ao;
#endif
finalColor=vec4(mix(diffuse,baseColor,u_emissive_strength),1.0)*u_opacity;
#else
Material mat=getPBRMaterial();vec3 color=computeLightContribution(mat,lightDir,lightColor);float ao=1.0;
#if defined (HAS_TEXTURE_u_occlusionTexture) && defined(HAS_ATTRIBUTE_a_uv_2f)
#ifdef OCCLUSION_TEXTURE_TRANSFORM
vec2 uv=uv_2f.xy*u_occlusionTextureTransform.zw+u_occlusionTextureTransform.xy;
#else
vec2 uv=uv_2f;
#endif
ao=(texture(u_occlusionTexture,uv).x-1.0)*u_aoIntensity+1.0;color*=ao;
#endif
vec4 emissive=u_emissiveFactor;
#if defined(HAS_TEXTURE_u_emissionTexture) && defined(HAS_ATTRIBUTE_a_uv_2f)
emissive.rgb*=sRGBToLinear(texture(u_emissionTexture,uv_2f).rgb);
#endif
#ifdef APPLY_LUT_ON_GPU
float emissiveFactorLength=max(length(u_emissiveFactor.rgb),0.001);emissive.rgb=sRGBToLinear(applyLUT(u_lutTexture,linearTosRGB(emissive.rgb/emissiveFactorLength).rbg))*emissiveFactorLength;
#endif
color+=emissive.rgb;float opacity=mat.baseColor.w*u_opacity;
#ifdef HAS_ATTRIBUTE_a_pbr
float resEmission=v_roughness_metallic_emissive_alpha.z;resEmission*=v_height_based_emission_params.z+v_height_based_emission_params.w*pow(clamp(v_height_based_emission_params.x,0.0,1.0),v_height_based_emission_params.y);vec3 color_mix=v_color_mix.rgb;
#ifdef APPLY_LUT_ON_GPU
color_mix=applyLUT(u_lutTexture,color_mix);
#endif
color=mix(color,color_mix,min(1.0,resEmission));
#ifdef HAS_ATTRIBUTE_a_color_4f
float distance=length(vec2(1.3*max(0.0,abs(color_4f.x)-color_4f.z),color_4f.y));distance+= mix(0.5,0.0,clamp(resEmission-1.0,0.0,1.0));opacity*=v_roughness_metallic_emissive_alpha.w*saturate(1.0-distance*distance);
#endif
#endif
vec3 unlitColor=mat.baseColor.rgb*ao+emissive.rgb;color=mix(color,unlitColor,u_emissive_strength);color=linearTosRGB(color);color*=opacity;finalColor=vec4(color,opacity);
#endif
#ifdef FOG
finalColor=fog_dither(fog_apply_premultiplied(finalColor,v_fog_pos,v_position_height.w));
#endif
#ifdef RENDER_CUTOFF
finalColor*=v_cutoff_opacity;
#endif
#ifdef INDICATOR_CUTOUT
finalColor=applyCutout(finalColor,v_position_height.w);
#endif
glFragColor=finalColor;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
in vec3 a_pos_3f;
#pragma mapbox: define-attribute highp vec3 normal_3f
#pragma mapbox: define-attribute highp vec2 uv_2f
#pragma mapbox: define-attribute highp vec3 color_3f
#pragma mapbox: define-attribute highp vec4 color_4f
#pragma mapbox: define-attribute-vertex-shader-only highp vec4 pbr
#pragma mapbox: define-attribute-vertex-shader-only highp vec3 heightBasedEmissiveStrength
uniform mat4 u_matrix;uniform mat4 u_node_matrix;uniform mat4 u_lighting_matrix;uniform vec3 u_camera_pos;uniform vec4 u_color_mix;
#ifdef INSTANCED_ARRAYS
in vec4 a_normal_matrix0;in vec4 a_normal_matrix1;in vec4 a_normal_matrix2;in vec4 a_normal_matrix3;
#else
uniform highp mat4 u_normal_matrix;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;out float v_depth_shadows;
#endif
out vec4 v_position_height;out lowp vec4 v_color_mix;
#ifdef TERRAIN_FRAGMENT_OCCLUSION
out highp float v_depth;
#endif
#ifdef HAS_ATTRIBUTE_a_pbr
out lowp vec4 v_roughness_metallic_emissive_alpha;out mediump vec4 v_height_based_emission_params;
#endif
vec3 sRGBToLinear(vec3 srgbIn) {return pow(srgbIn,vec3(2.2));}void main() {
#pragma mapbox: initialize-attribute highp vec3 normal_3f
#pragma mapbox: initialize-attribute highp vec2 uv_2f
#pragma mapbox: initialize-attribute highp vec3 color_3f
#pragma mapbox: initialize-attribute highp vec4 color_4f
#pragma mapbox: initialize-attribute-custom highp vec4 pbr
#pragma mapbox: initialize-attribute-custom highp vec3 heightBasedEmissiveStrength
highp mat4 normal_matrix;
#ifdef INSTANCED_ARRAYS
normal_matrix=mat4(a_normal_matrix0,a_normal_matrix1,a_normal_matrix2,a_normal_matrix3);
#else
normal_matrix=u_normal_matrix;
#endif
vec3 local_pos;mat3 rs;
#ifdef MODEL_POSITION_ON_GPU
vec3 pos_color=normal_matrix[0].xyz;vec4 translate=normal_matrix[1];vec3 pos_a=floor(pos_color);vec3 rgb=1.05*(pos_color-pos_a);float hidden=float(pos_a.x > EXTENT);float color_mix=pos_a.z/100.0;v_color_mix=vec4(sRGBToLinear(rgb),color_mix);float meter_to_tile=normal_matrix[0].w;vec4 pos=vec4(pos_a.xy,translate.z,1.0);rs[0].x=normal_matrix[1].w;rs[0].yz=normal_matrix[2].xy;rs[1].xy=normal_matrix[2].zw;rs[1].z=normal_matrix[3].x;rs[2].xyz=normal_matrix[3].yzw;vec4 pos_node=u_lighting_matrix*vec4(a_pos_3f,1.0);vec3 rotated_pos_node=rs*pos_node.xyz;vec3 pos_model_tile=(rotated_pos_node+vec3(translate.xy,0.0))*vec3(meter_to_tile,meter_to_tile,1.0);pos.xyz+=pos_model_tile;local_pos=pos.xyz;gl_Position=mix(u_matrix*pos,AWAY,hidden);pos.z*=meter_to_tile;v_position_height.xyz=pos.xyz-u_camera_pos;
#else
local_pos=a_pos_3f;gl_Position=u_matrix*vec4(a_pos_3f,1);v_position_height.xyz=vec3(u_lighting_matrix*vec4(a_pos_3f,1));v_color_mix=vec4(sRGBToLinear(u_color_mix.rgb),u_color_mix.a);
#endif
v_position_height.w=a_pos_3f.z;
#ifdef HAS_ATTRIBUTE_a_pbr
vec4 albedo_c=decode_color(pbr.xy);vec2 e_r_m=unpack_float(pbr.z);vec2 r_m= unpack_float(e_r_m.y*16.0);r_m.r=r_m.r*16.0;v_color_mix=vec4(albedo_c.rgb,1.0);v_roughness_metallic_emissive_alpha=vec4(vec3(r_m,e_r_m.x)/255.0,albedo_c.a);v_roughness_metallic_emissive_alpha.z*=2.0;float heightBasedRelativeIntepolation=a_pos_3f.z*heightBasedEmissiveStrength.x+heightBasedEmissiveStrength.y;v_height_based_emission_params.x=heightBasedRelativeIntepolation;v_height_based_emission_params.y=heightBasedEmissiveStrength.z;vec2 emissionMultiplierValues=unpack_float(pbr.w)/256.0;v_height_based_emission_params.z=emissionMultiplierValues.x;v_height_based_emission_params.w=emissionMultiplierValues.y-emissionMultiplierValues.x;
#endif
#ifdef FOG
v_fog_pos=fog_position(local_pos);
#endif
#ifdef RENDER_CUTOFF
v_cutoff_opacity=cutoff_opacity(u_cutoff_params,gl_Position.z);
#endif
#ifdef TERRAIN_FRAGMENT_OCCLUSION
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef HAS_ATTRIBUTE_a_normal_3f
#ifdef MODEL_POSITION_ON_GPU
float x_squared_scale=dot(rs[0],rs[0]);float y_squared_scale=dot(rs[1],rs[1]);float z_squared_scale=dot(rs[2],rs[2]);vec3 squared_scale=vec3(x_squared_scale,y_squared_scale,z_squared_scale);normal_3f=rs*((u_lighting_matrix*vec4(normal_3f,0.0)).xyz/squared_scale);normal_3f=normalize(normal_3f);
#else
normal_3f=vec3(normal_matrix*vec4(normal_3f,0));
#endif
#endif
#ifdef HAS_ATTRIBUTE_a_pbr
#ifdef HAS_ATTRIBUTE_a_color_4f
v_roughness_metallic_emissive_alpha.w=clamp(color_4f.a*v_roughness_metallic_emissive_alpha.w*(v_roughness_metallic_emissive_alpha.z-1.0),0.0,1.0);
#endif
#endif
#ifdef RENDER_SHADOWS
vec4 shadow_pos=u_node_matrix*vec4(local_pos,1.0);
#ifdef NORMAL_OFFSET
#ifdef HAS_ATTRIBUTE_a_normal_3f
#ifdef MODEL_POSITION_ON_GPU
vec3 offset=shadow_normal_offset(vec3(-normal_3f.xy,normal_3f.z));shadow_pos.xyz+=offset*shadow_normal_offset_multiplier0();
#else
vec3 offset=shadow_normal_offset_model(normal_3f);shadow_pos.xyz+=offset*shadow_normal_offset_multiplier0();
#endif
#endif
#endif
v_pos_light_view_0=u_light_matrix_0*shadow_pos;v_pos_light_view_1=u_light_matrix_1*shadow_pos;v_depth_shadows=gl_Position.w;
#endif
}`),modelDepth:Qa(`in highp float v_depth;void main() {
#ifndef DEPTH_TEXTURE
glFragColor=pack_depth(v_depth);
#endif
}`,`in vec3 a_pos_3f;uniform mat4 u_matrix;out highp float v_depth;
#ifdef MODEL_POSITION_ON_GPU
#ifdef INSTANCED_ARRAYS
in vec4 a_normal_matrix0;in vec4 a_normal_matrix1;in vec4 a_normal_matrix2;in vec4 a_normal_matrix3;
#else
uniform highp mat4 u_instance;
#endif
uniform highp mat4 u_node_matrix;
#endif
void main() {
#ifdef MODEL_POSITION_ON_GPU
highp mat4 instance;
#ifdef INSTANCED_ARRAYS
instance=mat4(a_normal_matrix0,a_normal_matrix1,a_normal_matrix2,a_normal_matrix3);
#else
instance=u_instance;
#endif
vec3 pos_color=instance[0].xyz;vec4 translate=instance[1];vec3 pos_a=floor(pos_color);float hidden=float(pos_a.x > EXTENT);float meter_to_tile=instance[0].w;vec4 pos=vec4(pos_a.xy,translate.z,1.0);mat3 rs;rs[0].x=instance[1].w;rs[0].yz=instance[2].xy;rs[1].xy=instance[2].zw;rs[1].z=instance[3].x;rs[2].xyz=instance[3].yzw;vec4 pos_node=u_node_matrix*vec4(a_pos_3f,1.0);vec3 rotated_pos_node=rs*pos_node.xyz;vec3 pos_model_tile=(rotated_pos_node+vec3(translate.xy,0.0))*vec3(meter_to_tile,meter_to_tile,1.0);pos.xyz+=pos_model_tile;gl_Position=mix(u_matrix*pos,AWAY,hidden);
#else
gl_Position=u_matrix*vec4(a_pos_3f,1);
#endif
v_depth=gl_Position.z/gl_Position.w;}`),stars:Qa(`in highp vec2 v_uv;in mediump float v_intensity;float shapeCircle(in vec2 uv)
{float beginFade=0.6;float lengthFromCenter=length(v_uv);return 1.0-clamp((lengthFromCenter-beginFade)/(1.0-beginFade),0.0,1.0);}void main() {float alpha=shapeCircle(v_uv);vec3 color=vec3(1.0,1.0,1.0);alpha*=v_intensity;glFragColor=vec4(color*alpha,alpha);HANDLE_WIREFRAME_DEBUG;}`,`
in vec3 a_pos_3f;in vec2 a_uv;in float a_size_scale;in float a_fade_opacity;uniform mat4 u_matrix;uniform vec3 u_up;uniform vec3 u_right;uniform float u_intensity_multiplier;out highp vec2 v_uv;out mediump float v_intensity;void main() {v_uv=a_uv;v_intensity=a_fade_opacity*u_intensity_multiplier;vec3 pos=a_pos_3f;pos+=a_uv.x*u_right*a_size_scale;pos+=a_uv.y*u_up*a_size_scale;gl_Position=u_matrix*vec4(pos,1.0);}`),snowParticle:Qa("in highp vec2 uv;in highp float alphaMultiplier;uniform vec4 u_particleColor;uniform vec2 u_simpleShapeParameters;void main() {float t=clamp((length(uv)-u_simpleShapeParameters.x)/(1.0-u_simpleShapeParameters.x),0.0,1.0);float alpha=1.0-pow(t,pow(10.0,u_simpleShapeParameters.y));alpha*=alphaMultiplier;alpha*=u_particleColor.a;vec3 color=u_particleColor.rgb*alpha;glFragColor=vec4(color,alpha) ;HANDLE_WIREFRAME_DEBUG;}",`
in highp vec3 a_pos_3f;in highp vec2 a_uv;in highp vec4 a_snowParticleData;in highp vec4 a_snowParticleDataHorizontalOscillation;uniform mat4 u_modelview;uniform mat4 u_projection;uniform vec3 u_cam_pos;uniform vec2 u_screenSize;uniform float u_time;uniform float u_boxSize;uniform float u_velocityConeAperture; 
uniform float u_velocity;uniform vec3 u_direction;uniform float u_horizontalOscillationRadius; 
uniform float u_horizontalOscillationRate; 
uniform float u_billboardSize;uniform vec2 u_thinningCenterPos;uniform vec3 u_thinningShape;uniform float u_thinningAffectedRatio;uniform float u_thinningParticleOffset;out highp vec2 uv;out highp float alphaMultiplier;void main() {vec3 pos=a_pos_3f;float halfBoxSize=0.5*u_boxSize;pos.xyz*=halfBoxSize;pos+=u_cam_pos;float velocityConeApertureRad=radians(u_velocityConeAperture*0.5);float coneAnglePichRad=velocityConeApertureRad*a_snowParticleData.z;float coneAngleHeadingRad=a_snowParticleData.w*radians(360.0);vec3 localZ=normalize(u_direction);vec3 localX=normalize(cross(localZ,vec3(1,0,0)));vec3 localY=normalize(cross(localZ,localX));vec3 direction;direction.x=cos(coneAngleHeadingRad)*sin(coneAnglePichRad);direction.y=sin(coneAngleHeadingRad)*sin(coneAnglePichRad);direction.z=cos(coneAnglePichRad);direction=normalize(direction);vec3 simPosLocal=vec3(0,0,0);float velocityScale=(1.0+3.0*a_snowParticleData.y)*u_velocity;simPosLocal+=direction*velocityScale*u_time;float horizontalOscillationRadius=u_horizontalOscillationRadius*a_snowParticleDataHorizontalOscillation.x;float horizontalOscillationAngle=u_horizontalOscillationRate*u_time*(-1.0+2.0*a_snowParticleDataHorizontalOscillation.y);simPosLocal.xy+=horizontalOscillationRadius*vec2(cos(horizontalOscillationAngle),sin(horizontalOscillationAngle));vec3 simPos=localX*simPosLocal.x+
localY*simPosLocal.y+localZ*simPosLocal.z;pos+=simPos;pos=fract((pos+vec3(halfBoxSize))/vec3(u_boxSize))*u_boxSize-vec3(halfBoxSize);float clipZ=-u_cam_pos.z+pos.z;vec4 posView=u_modelview*vec4(pos,1.0);float size=u_billboardSize;alphaMultiplier=1.0;vec4 posScreen=u_projection*posView;posScreen/=posScreen.w;posScreen.xy=vec2(0.5)+posScreen.xy*0.5;posScreen.xy*=u_screenSize;vec2 thinningCenterPos=u_thinningCenterPos.xy;thinningCenterPos.y=u_screenSize.y-thinningCenterPos.y;float screenDist=length((thinningCenterPos-posScreen.xy)/(0.5*u_screenSize));screenDist+=a_snowParticleData.x*u_thinningParticleOffset;float scaleFactorMode=0.0;float thinningShapeDist=u_thinningShape.x+u_thinningShape.y;if (screenDist < thinningShapeDist) {float thinningFadeRatio=clamp((screenDist-u_thinningShape.x)/u_thinningShape.y,0.0,1.0);thinningFadeRatio=pow(thinningFadeRatio,u_thinningShape.z);if (a_snowParticleData.x < u_thinningAffectedRatio) {scaleFactorMode=1.0-thinningFadeRatio;alphaMultiplier=thinningFadeRatio;}}vec4 posScreen1=u_projection*vec4(posView.x-size,posView.yzw);posScreen1/=posScreen1.w;vec4 posScreen2=u_projection*vec4(posView.x+size,posView.yzw);posScreen2/=posScreen2.w;posScreen1.xy=vec2(0.5)+posScreen1.xy*0.5;posScreen1.xy*=u_screenSize;posScreen2.xy=vec2(0.5)+posScreen2.xy*0.5;posScreen2.xy*=u_screenSize;float screenLength=length(posScreen1.xy-posScreen2.xy);float screenEpsilon=3.0;float scaleFactor=1.0;if (screenLength < screenEpsilon) {scaleFactor=screenEpsilon/max(screenLength,0.01);scaleFactor=mix(scaleFactor,1.0,scaleFactorMode);}float screenEpsilon2=15.0;if (screenLength > screenEpsilon2) {scaleFactor=screenEpsilon2/max(screenLength,0.01);}size*=scaleFactor;vec2 right=size*vec2(1,0);vec2 up=size*vec2(0,1);posView.xy+=right*a_uv.x;posView.xy+=up*a_uv.y;uv=a_uv;gl_Position=u_projection*posView;}`),rainParticle:Qa("in highp vec2 uv;in highp float particleRandomValue;uniform sampler2D u_texScreen;uniform float u_distortionStrength;uniform vec4 u_color;uniform vec2 u_thinningCenterPos;uniform vec3 u_thinningShape;uniform float u_thinningAffectedRatio;uniform float u_thinningParticleOffset;uniform float u_shapeDirectionalPower;uniform float u_mode;void main() {vec2 st=uv*0.5+vec2(0.5);vec2 uvm=uv;uvm.y=-1.0+2.0*pow(st.y,u_shapeDirectionalPower);float shape=clamp(1.0-length(uvm),0.0,1.0);float alpha=abs(shape)*u_color.a;vec2 screenSize=vec2(textureSize(u_texScreen,0));vec2 thinningCenterPos=u_thinningCenterPos.xy;thinningCenterPos.y=screenSize.y-thinningCenterPos.y;float screenDist=length((thinningCenterPos-gl_FragCoord.xy)/(0.5*screenSize));screenDist+=(0.5+0.5*particleRandomValue)*u_thinningParticleOffset;float thinningShapeDist=u_thinningShape.x+u_thinningShape.y;float thinningAlpha=1.0;if (screenDist < thinningShapeDist) {float thinningFadeRatio=clamp((screenDist-u_thinningShape.x)/u_thinningShape.y,0.0,1.0);thinningFadeRatio=pow(thinningFadeRatio,u_thinningShape.z);thinningAlpha*=thinningFadeRatio;}vec2 offsetXY=normalize(uvm)*abs(shape);vec2 stScreen=(gl_FragCoord.xy+offsetXY*u_distortionStrength*thinningAlpha)/screenSize;vec3 colorScreen=texture(u_texScreen,stScreen).rgb;alpha*=thinningAlpha;glFragColor=mix(vec4(colorScreen,1.0),vec4(u_color.rgb*alpha,alpha),u_mode);HANDLE_WIREFRAME_DEBUG;}",`
in highp vec3 a_pos_3f;in highp vec2 a_uv;in highp vec4 a_rainParticleData;uniform mat4 u_modelview;uniform mat4 u_projection;uniform vec3 u_cam_pos;uniform float u_time;uniform float u_boxSize;uniform float u_velocityConeAperture; 
uniform float u_velocity; 
uniform vec2 u_rainDropletSize;uniform vec3 u_rainDirection;out highp vec2 uv;out highp float particleRandomValue;void main() {vec3 pos=a_pos_3f;float halfBoxSize=0.5*u_boxSize;pos*=halfBoxSize; 
pos+=u_cam_pos;float velocityConeApertureRad=radians(u_velocityConeAperture*0.5);float coneAnglePichRad=velocityConeApertureRad*a_rainParticleData.z;float coneAngleHeadingRad=a_rainParticleData.w*radians(360.0);vec3 localZ=normalize(u_rainDirection);vec3 localX=normalize(cross(localZ,vec3(1,0,0)));vec3 localY=normalize(cross(localZ,localX));vec3 directionLocal;directionLocal.x=cos(coneAngleHeadingRad)*sin(coneAnglePichRad);directionLocal.y=sin(coneAngleHeadingRad)*sin(coneAnglePichRad);directionLocal.z=cos(coneAnglePichRad);directionLocal=normalize(directionLocal);vec3 directionWorld=localX*directionLocal.x+localY*directionLocal.y+localZ*directionLocal.z;float velocityScale=(1.0+3.0*a_rainParticleData.y)*u_velocity;vec3 simPosLocal=vec3(0,0,0);simPosLocal+=directionLocal*velocityScale*u_time;vec3 simPos=localX*simPosLocal.x+
localY*simPosLocal.y+localZ*simPosLocal.z;pos+=simPos;pos=fract((pos+vec3(halfBoxSize))/vec3(u_boxSize))*u_boxSize-vec3(halfBoxSize);vec4 posView=u_modelview*vec4(pos,1.0);vec3 directionView=normalize((u_modelview*vec4(directionWorld,0.0)).xyz);vec3 side=cross(directionView,normalize(posView.xyz));posView.xyz+=side*a_uv.x*u_rainDropletSize.x;posView.xyz+=directionView*a_uv.y*u_rainDropletSize.y;uv=a_uv;particleRandomValue=a_rainParticleData.x;gl_Position=u_projection*posView;}`),vignette:Qa("uniform vec3 u_vignetteShape;uniform vec4 u_vignetteColor;in vec2 st;void main() {float screenDist=length(st);float alpha=clamp((screenDist-u_vignetteShape.x)/u_vignetteShape.y,0.0,1.0);alpha=pow(alpha,u_vignetteShape.z)*u_vignetteColor.a;vec3 color=u_vignetteColor.rgb;glFragColor=vec4(color*alpha,alpha) ;}","in vec2 a_pos_2f;out vec2 st;void main() {st=a_pos_2f;gl_Position=vec4(a_pos_2f,0,1);}"),occlusion:Qa("uniform vec4 u_color;void main() {glFragColor=u_color;}",`#include "_prelude_terrain.vertex.glsl"
in highp vec2 a_offset_xy;uniform highp vec3 u_anchorPos;uniform mat4 u_matrix;uniform vec2 u_screenSizePx;uniform vec2 u_occluderSizePx;void main() {vec3 world_pos=u_anchorPos;
#ifdef TERRAIN
float e=elevation(world_pos.xy);world_pos.z+=e;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1.0);projected_point.xy+=projected_point.w*a_offset_xy*0.5*u_occluderSizePx/u_screenSizePx;gl_Position=projected_point;}`)};function Jl(m,r){const l=m.replace(/\s*\/\/[^\n]*\n/g,`
`).split(`
`);for(let p of l)if(p=p.trim(),p[0]==="#"&&p.includes("if")&&!p.includes("endif")){p=p.replace("#","").replace(/ifdef|ifndef|elif|if/g,"").replace(/!|defined|\(|\)|\|\||&&/g,"").replace(/\s+/g," ").trim();const b=p.split(" ");for(const C of b)r.includes(C)||r.push(C)}}function Qa(m,r){const l=/#include\s+"([^"]+)"/g,p=/#pragma mapbox: ([\w\-]+) ([\w]+) ([\w]+) ([\w]+)/g;let b=r.match(/(attribute(\S*)|(^\s*|;)in) (highp |mediump |lowp )?([\w]+) ([\w]+)/gm);b&&(b=b.map(V=>{const U=V.split(" ");return U[U.length-1]}),b=[...new Set(b)]);const C={},E=[],R=[];if(m=m.replace(l,(V,U)=>(R.push(U),"")),(r=r.replace(l,(V,U)=>(E.push(U),""))).includes("flat out"))return void console.error('The usage of "flat" qualifier is disallowed, see: https://bugs.webkit.org/show_bug.cgi?id=268071');let B=[...uc];Jl(m,B),Jl(r,B);for(const V of[...E,...R])Yl[V]||console.error(`Undefined include: ${V}`),jl[V]||(jl[V]=[],Jl(Yl[V],jl[V])),B=[...B,...jl[V]];return{fragmentSource:m=m.replace(p,(V,U,Y,ee,le)=>(C[le]=!0,U==="define"?`
#ifndef HAS_UNIFORM_u_${le}
in ${Y} ${ee} ${le};
#else
uniform ${Y} ${ee} u_${le};
#endif
`:U==="initialize"?`
#ifdef HAS_UNIFORM_u_${le}
    ${Y} ${ee} ${le} = u_${le};
#endif
`:U==="define-attribute"?`
#ifdef HAS_ATTRIBUTE_a_${le}
    in ${Y} ${ee} ${le};
#endif
`:U==="initialize-attribute"?"":void 0)),vertexSource:r=r.replace(p,(V,U,Y,ee,le)=>{const Ee=ee==="float"?"vec2":ee,xe=le.match(/color/)?"color":Ee;return U==="define-attribute-vertex-shader-only"?`
#ifdef HAS_ATTRIBUTE_a_${le}
in ${Y} ${ee} a_${le};
#endif
`:C[le]?U==="define"?`
#ifndef HAS_UNIFORM_u_${le}
uniform lowp float u_${le}_t;
in ${Y} ${Ee} a_${le};
out ${Y} ${ee} ${le};
#else
uniform ${Y} ${ee} u_${le};
#endif
`:U==="initialize"?xe==="vec4"?`
#ifndef HAS_UNIFORM_u_${le}
    ${le} = a_${le};
#else
    ${Y} ${ee} ${le} = u_${le};
#endif
`:`
#ifndef HAS_UNIFORM_u_${le}
    ${le} = unpack_mix_${xe}(a_${le}, u_${le}_t);
#else
    ${Y} ${ee} ${le} = u_${le};
#endif
`:U==="define-attribute"?`
#ifdef HAS_ATTRIBUTE_a_${le}
    in ${Y} ${ee} a_${le};
    out ${Y} ${ee} ${le};
#endif
`:U==="initialize-attribute"?`
#ifdef HAS_ATTRIBUTE_a_${le}
    ${le} = a_${le};
#endif
`:void 0:U==="define"?`
#ifndef HAS_UNIFORM_u_${le}
uniform lowp float u_${le}_t;
in ${Y} ${Ee} a_${le};
#else
uniform ${Y} ${ee} u_${le};
#endif
`:U==="define-instanced"?xe==="mat4"?`
#ifdef INSTANCED_ARRAYS
in vec4 a_${le}0;
in vec4 a_${le}1;
in vec4 a_${le}2;
in vec4 a_${le}3;
#else
uniform ${Y} ${ee} u_${le};
#endif
`:`
#ifdef INSTANCED_ARRAYS
in ${Y} ${Ee} a_${le};
#else
uniform ${Y} ${ee} u_${le};
#endif
`:U==="initialize-attribute-custom"?`
#ifdef HAS_ATTRIBUTE_a_${le}
    ${Y} ${ee} ${le} = a_${le};
#endif
`:xe==="vec4"?`
#ifndef HAS_UNIFORM_u_${le}
    ${Y} ${ee} ${le} = a_${le};
#else
    ${Y} ${ee} ${le} = u_${le};
#endif
`:`
#ifndef HAS_UNIFORM_u_${le}
    ${Y} ${ee} ${le} = unpack_mix_${xe}(a_${le}, u_${le}_t);
#else
    ${Y} ${ee} ${le} = u_${le};
#endif
`}),staticAttributes:b,usedDefines:B,vertexIncludes:E,fragmentIncludes:R}}class ad{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null}bind(r,l,p,b,C,E,R,B){this.context=r;let V=this.boundPaintVertexBuffers.length!==b.length;for(let Y=0;!V&&Y<b.length;Y++)this.boundPaintVertexBuffers[Y]!==b[Y]&&(V=!0);let U=this.boundDynamicVertexBuffers.length!==R.length;for(let Y=0;!U&&Y<R.length;Y++)this.boundDynamicVertexBuffers[Y]!==R[Y]&&(U=!0);if(!this.vao||this.boundProgram!==l||this.boundLayoutVertexBuffer!==p||V||U||this.boundIndexBuffer!==C||this.boundVertexOffset!==E)this.freshBind(l,p,b,C,E,R,B);else{r.bindVertexArrayOES.set(this.vao);for(const Y of R)Y&&(Y.bind(),B&&Y.instanceCount&&Y.setVertexAttribDivisor(r.gl,l,B));C&&C.dynamicDraw&&C.bind()}}freshBind(r,l,p,b,C,E,R){const B=r.numAttributes,V=this.context,U=V.gl;this.vao&&this.destroy(),this.vao=V.gl.createVertexArray(),V.bindVertexArrayOES.set(this.vao),this.boundProgram=r,this.boundLayoutVertexBuffer=l,this.boundPaintVertexBuffers=p,this.boundIndexBuffer=b,this.boundVertexOffset=C,this.boundDynamicVertexBuffers=E,l.enableAttributes(U,r),l.bind(),l.setVertexAttribPointers(U,r,C);for(const Y of p)Y.enableAttributes(U,r),Y.bind(),Y.setVertexAttribPointers(U,r,C);for(const Y of E)Y&&(Y.enableAttributes(U,r),Y.bind(),Y.setVertexAttribPointers(U,r,C),R&&Y.instanceCount&&Y.setVertexAttribDivisor(U,r,R));b&&b.bind(),V.currentNumAttributes=B}destroy(){this.vao&&(this.context.gl.deleteVertexArray(this.vao),this.vao=null)}}function Vu(m,r){const l=Math.pow(2,r.canonical.z),p=r.canonical.y;return[new u.aa(0,p/l).toLngLat().lat,new u.aa(0,(p+1)/l).toLngLat().lat]}function dp(m,r,l,p,b,C,E){const R=m.context,B=R.gl,V=l.hillshadeFBO;if(!V)return;m.prepareDrawTile();const U=m.isTileAffectedByFog(r),Y=m.getOrCreateProgram("hillshade",{overrideFog:U});R.activeTexture.set(B.TEXTURE0),B.bindTexture(B.TEXTURE_2D,V.colorAttachment.get());const ee=((Oe,Me,qe,yt)=>{const gt=qe.paint.get("hillshade-shadow-color"),Nt=qe.paint.get("hillshade-shadow-color-use-theme").constantOr("default")==="none",Mt=qe.paint.get("hillshade-highlight-color"),Dt=qe.paint.get("hillshade-highlight-color-use-theme").constantOr("default")==="none",It=qe.paint.get("hillshade-accent-color"),zt=qe.paint.get("hillshade-accent-color-use-theme").constantOr("default")==="none",fn=qe.paint.get("hillshade-emissive-strength");let nr=u.ai(qe.paint.get("hillshade-illumination-direction"));if(qe.paint.get("hillshade-illumination-anchor")==="viewport")nr-=Oe.transform.angle;else if(Oe.style&&Oe.style.enable3dLights()&&Oe.style.directionalLight){const Er=Oe.style.directionalLight.properties.get("direction"),mr=u.cb(Er.x,Er.y,Er.z);nr=u.ai(mr[1])}const Hn=!Oe.options.moving;return{u_matrix:yt||Oe.transform.calculateProjMatrix(Me.tileID.toUnwrapped(),Hn),u_image:0,u_latrange:Vu(0,Me.tileID),u_light:[qe.paint.get("hillshade-exaggeration"),nr],u_shadow:gt.toRenderColor(Nt?null:qe.lut),u_highlight:Mt.toRenderColor(Dt?null:qe.lut),u_emissive_strength:fn,u_accent:It.toRenderColor(zt?null:qe.lut)}})(m,l,p,m.terrain?r.projMatrix:null);m.uploadCommonUniforms(R,Y,r.toUnwrapped());const{tileBoundsBuffer:le,tileBoundsIndexBuffer:Ee,tileBoundsSegments:xe}=m.getTileBoundsBuffers(l);Y.draw(m,B.TRIANGLES,b,C,E,ea.disabled,ee,p.id,le,Ee,xe)}function Yf(m,r,l){if(!r.needsDEMTextureUpload)return;const p=m.context,b=p.gl;p.pixelStoreUnpackPremultiplyAlpha.set(!1),r.demTexture=r.demTexture||m.getTileTexture(l.stride);const C=l.getPixels();r.demTexture?r.demTexture.update(C,{premultiply:!1}):r.demTexture=new u.T(p,C,b.R32F,{premultiply:!1}),r.needsDEMTextureUpload=!1}function Rg(m,r,l){const p=m.context,b=p.gl;if(!r.dem)return;const C=r.dem;if(p.activeTexture.set(b.TEXTURE1),Yf(m,r,C),!r.demTexture)return;r.demTexture.bind(b.NEAREST,b.CLAMP_TO_EDGE);const E=C.dim;p.activeTexture.set(b.TEXTURE0);let R=r.hillshadeFBO;if(!R){const ee=new u.T(p,{width:E,height:E,data:null},b.RGBA8);ee.bind(b.LINEAR,b.CLAMP_TO_EDGE),R=r.hillshadeFBO=p.createFramebuffer(E,E,!0,"renderbuffer"),R.colorAttachment.set(ee.texture)}p.bindFramebuffer.set(R.framebuffer),p.viewport.set([0,0,E,E]);const{tileBoundsBuffer:B,tileBoundsIndexBuffer:V,tileBoundsSegments:U}=m.getMercatorTileBoundsBuffers(),Y=[];m.linearFloatFilteringSupported()&&Y.push("TERRAIN_DEM_FLOAT_FORMAT"),m.getOrCreateProgram("hillshadePrepare",{defines:Y}).draw(m,b.TRIANGLES,To.disabled,Zo.disabled,sa.unblended,ea.disabled,((ee,le)=>{const Ee=le.stride,xe=u.ab.mat4.create();return u.ab.mat4.ortho(xe,0,u.ag,-u.ag,0,0,1),u.ab.mat4.translate(xe,xe,[0,-u.ag,0]),{u_matrix:xe,u_image:1,u_dimension:[Ee,Ee],u_zoom:ee.overscaledZ}})(r.tileID,C),l.id,B,V,U),r.needsHillshadePrepare=!1}class Vs{constructor(r){this.gl=r.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(r){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class pu extends Vs{getDefault(){return u.aj.transparent}set(r){const l=this.current;(r.r!==l.r||r.g!==l.g||r.b!==l.b||r.a!==l.a||this.dirty)&&(this.gl.clearColor(r.r,r.g,r.b,r.a),this.current=r,this.dirty=!1)}}class tf extends Vs{getDefault(){return 1}set(r){(r!==this.current||this.dirty)&&(this.gl.clearDepth(r),this.current=r,this.dirty=!1)}}class sd extends Vs{getDefault(){return 0}set(r){(r!==this.current||this.dirty)&&(this.gl.clearStencil(r),this.current=r,this.dirty=!1)}}class Od extends Vs{getDefault(){return[!0,!0,!0,!0]}set(r){const l=this.current;(r[0]!==l[0]||r[1]!==l[1]||r[2]!==l[2]||r[3]!==l[3]||this.dirty)&&(this.gl.colorMask(r[0],r[1],r[2],r[3]),this.current=r,this.dirty=!1)}}class Rd extends Vs{getDefault(){return!0}set(r){(r!==this.current||this.dirty)&&(this.gl.depthMask(r),this.current=r,this.dirty=!1)}}class Jf extends Vs{getDefault(){return 255}set(r){(r!==this.current||this.dirty)&&(this.gl.stencilMask(r),this.current=r,this.dirty=!1)}}class Qf extends Vs{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(r){const l=this.current;(r.func!==l.func||r.ref!==l.ref||r.mask!==l.mask||this.dirty)&&(this.gl.stencilFunc(r.func,r.ref,r.mask),this.current=r,this.dirty=!1)}}class ld extends Vs{getDefault(){const r=this.gl;return[r.KEEP,r.KEEP,r.KEEP]}set(r){const l=this.current;(r[0]!==l[0]||r[1]!==l[1]||r[2]!==l[2]||this.dirty)&&(this.gl.stencilOp(r[0],r[1],r[2]),this.current=r,this.dirty=!1)}}class $d extends Vs{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;r?l.enable(l.STENCIL_TEST):l.disable(l.STENCIL_TEST),this.current=r,this.dirty=!1}}class eh extends Vs{getDefault(){return[0,1]}set(r){const l=this.current;(r[0]!==l[0]||r[1]!==l[1]||this.dirty)&&(this.gl.depthRange(r[0],r[1]),this.current=r,this.dirty=!1)}}class _c extends Vs{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;r?l.enable(l.DEPTH_TEST):l.disable(l.DEPTH_TEST),this.current=r,this.dirty=!1}}class Ad extends Vs{getDefault(){return this.gl.LESS}set(r){(r!==this.current||this.dirty)&&(this.gl.depthFunc(r),this.current=r,this.dirty=!1)}}class cd extends Vs{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;r?l.enable(l.BLEND):l.disable(l.BLEND),this.current=r,this.dirty=!1}}class nf extends Vs{getDefault(){const r=this.gl;return[r.ONE,r.ZERO,r.ONE,r.ZERO]}set(r){const l=this.current;(r[0]!==l[0]||r[1]!==l[1]||r[2]!==l[2]||r[3]!==l[3]||this.dirty)&&(this.gl.blendFuncSeparate(r[0],r[1],r[2],r[3]),this.current=r,this.dirty=!1)}}class th extends Vs{getDefault(){return u.aj.transparent}set(r){const l=this.current;(r.r!==l.r||r.g!==l.g||r.b!==l.b||r.a!==l.a||this.dirty)&&(this.gl.blendColor(r.r,r.g,r.b,r.a),this.current=r,this.dirty=!1)}}class nh extends Vs{getDefault(){return this.gl.FUNC_ADD}set(r){(r!==this.current||this.dirty)&&(this.gl.blendEquationSeparate(r,r),this.current=r,this.dirty=!1)}}class Pc extends Vs{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;r?l.enable(l.CULL_FACE):l.disable(l.CULL_FACE),this.current=r,this.dirty=!1}}class rh extends Vs{getDefault(){return this.gl.BACK}set(r){(r!==this.current||this.dirty)&&(this.gl.cullFace(r),this.current=r,this.dirty=!1)}}class gu extends Vs{getDefault(){return this.gl.CCW}set(r){(r!==this.current||this.dirty)&&(this.gl.frontFace(r),this.current=r,this.dirty=!1)}}let ud=class extends Vs{getDefault(){return null}set(m){(m!==this.current||this.dirty)&&(this.gl.useProgram(m),this.current=m,this.dirty=!1)}};class om extends Vs{getDefault(){return this.gl.TEXTURE0}set(r){(r!==this.current||this.dirty)&&(this.gl.activeTexture(r),this.current=r,this.dirty=!1)}}class rf extends Vs{getDefault(){const r=this.gl;return[0,0,r.drawingBufferWidth,r.drawingBufferHeight]}set(r){const l=this.current;(r[0]!==l[0]||r[1]!==l[1]||r[2]!==l[2]||r[3]!==l[3]||this.dirty)&&(this.gl.viewport(r[0],r[1],r[2],r[3]),this.current=r,this.dirty=!1)}}class Hc extends Vs{getDefault(){return null}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;l.bindFramebuffer(l.FRAMEBUFFER,r),this.current=r,this.dirty=!1}}class vu extends Vs{getDefault(){return null}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;l.bindRenderbuffer(l.RENDERBUFFER,r),this.current=r,this.dirty=!1}}class am extends Vs{getDefault(){return null}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;l.bindTexture(l.TEXTURE_2D,r),this.current=r,this.dirty=!1}}class ih extends Vs{getDefault(){return null}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;l.bindBuffer(l.ARRAY_BUFFER,r),this.current=r,this.dirty=!1}}class fp extends Vs{getDefault(){return null}set(r){const l=this.gl;l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,r),this.current=r,this.dirty=!1}}class of extends Vs{getDefault(){return null}set(r){this.gl&&(r!==this.current||this.dirty)&&(this.gl.bindVertexArray(r),this.current=r,this.dirty=!1)}}class dd extends Vs{getDefault(){return 4}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;l.pixelStorei(l.UNPACK_ALIGNMENT,r),this.current=r,this.dirty=!1}}class oh extends Vs{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;l.pixelStorei(l.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r),this.current=r,this.dirty=!1}}class fd extends Vs{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;l.pixelStorei(l.UNPACK_FLIP_Y_WEBGL,r),this.current=r,this.dirty=!1}}class ah extends Vs{constructor(r,l){super(r),this.context=r,this.parent=l}getDefault(){return null}}class ln extends ah{setDirty(){this.dirty=!0}set(r){if(r===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const l=this.gl;l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,r,0),this.current=r,this.dirty=!1}}class Tr extends ah{attachment(){return this.gl.DEPTH_ATTACHMENT}set(r){if(r===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const l=this.gl;l.framebufferRenderbuffer(l.FRAMEBUFFER,this.attachment(),l.RENDERBUFFER,r),this.current=r,this.dirty=!1}}class Ui extends ah{attachment(){return this.gl.DEPTH_ATTACHMENT}set(r){if(r===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const l=this.gl;l.framebufferTexture2D(l.FRAMEBUFFER,this.attachment(),l.TEXTURE_2D,r,0),this.current=r,this.dirty=!1}}class na extends Tr{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}const rl=(m,r,l)=>({u_matrix:m,u_image0:0,u_skirt_height:r,u_ground_shadow_factor:l}),is=(m,r,l,p,b,C,E,R,B,V,U,Y,ee,le,Ee,xe)=>({u_proj_matrix:Float32Array.from(m),u_globe_matrix:r,u_normalize_matrix:Float32Array.from(p),u_merc_matrix:l,u_zoom_transition:b,u_merc_center:C,u_image0:0,u_frustum_tl:E,u_frustum_tr:R,u_frustum_br:B,u_frustum_bl:V,u_globe_pos:U,u_globe_radius:Y,u_viewport:ee,u_grid_matrix:xe?Float32Array.from(xe):new Float32Array(9),u_skirt_height:le,u_far_z_cutoff:Ee});function pl(m,r){return m!=null&&r!=null&&!(!m.hasData()||!r.hasData())&&m.demTexture!=null&&r.demTexture!=null&&m.tileID.key!==r.tileID.key}const Xs=new class{constructor(){this.operations={}}newMorphing(m,r,l,p,b){if(m in this.operations){const C=this.operations[m];C.to.tileID.key!==l.tileID.key&&(C.queued=l)}else this.operations[m]={startTime:p,phase:0,duration:b,from:r,to:l,queued:null}}getMorphValuesForProxy(m){if(!(m in this.operations))return null;const r=this.operations[m];return{from:r.from,to:r.to,phase:r.phase}}update(m){for(const r in this.operations){const l=this.operations[r];for(l.phase=(m-l.startTime)/l.duration;l.phase>=1||!this._validOp(l);)if(!this._nextOp(l,m)){delete this.operations[r];break}}}_nextOp(m,r){return!!m.queued&&(m.from=m.to,m.to=m.queued,m.queued=null,m.phase=0,m.startTime=r,!0)}_validOp(m){return m.from.hasData()&&m.to.hasData()}},Al={0:null,1:"TERRAIN_VERTEX_MORPHING"};function il(m,r,l){if(r===0)return 0;const p=r<1&&l===514?.25/r:1;return 6*Math.pow(1.5,22-m)*Math.max(r,1)*p}function Oc(m,r){const l=1<<m.z;return!r&&(m.x===0||m.x===l-1)||m.y===0||m.y===l-1}const ic=m=>({u_matrix:m});function Dl(m,r,l,p,b){if(b>0){const C=u.q.now(),E=(C-m.timeAdded)/b,R=r?(C-r.timeAdded)/b:-1,B=l.getSource(),V=p.coveringZoomLevel({tileSize:B.tileSize,roundZoom:B.roundZoom}),U=!r||Math.abs(r.tileID.overscaledZ-V)>Math.abs(m.tileID.overscaledZ-V),Y=U&&m.refreshedUponExpiration?1:u.aw(U?E:1-R,0,1);return m.refreshedUponExpiration&&E>=1&&(m.refreshedUponExpiration=!1),r?{opacity:1,mix:1-Y}:{opacity:Y,mix:0}}return{opacity:1,mix:0}}class Uc extends so{constructor(r){const l={type:"raster-dem",maxzoom:r.transform.maxZoom},p=new u.D(u.ci(),null),b=Ut("mock-dem",l,p,r.style);super("mock-dem",b,!1),b.setEventedParent(this),this._sourceLoaded=!0}_loadTile(r,l){r.state="loaded",l(null)}}class zc extends so{constructor(r){const l=Ut("proxy",{type:"geojson",maxzoom:r.transform.maxZoom},new u.D(u.ci(),null),r.style);super("proxy",l,!1),l.setEventedParent(this),this.map=this.getSource().map=r,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(r,l,p){if(r.freezeTileCoverage)return;this.transform=r;const b=r.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((C,E)=>{if(C[E.key]="",!this._tiles[E.key]){const R=new qo(E,this._source.tileSize*E.overscaleFactor(),r.tileZoom);R.state="loaded",this._tiles[E.key]=R}return C},{});for(const C in this._tiles)C in b||(this.freeFBO(C),this._tiles[C].unloadVectorData(),delete this._tiles[C])}freeFBO(r){const l=this.proxyCachedFBO[r];if(l!==void 0){const p=Object.values(l);this.renderCachePool.push(...p),delete this.proxyCachedFBO[r]}}deallocRenderCache(){this.renderCache.forEach(r=>r.fb.destroy()),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class Ql extends u.aG{constructor(r,l,p){super(r.overscaledZ,r.wrap,r.canonical.z,r.canonical.x,r.canonical.y),this.proxyTileKey=l,this.projMatrix=p}}class Lc extends u.cJ{constructor(r,l){super(),this._debugParams={sortTilesHiZFirst:!0,disableRenderCache:!1},r.tp.registerParameter(this._debugParams,["Terrain"],"sortTilesHiZFirst",{},()=>{this._style.map.triggerRepaint()}),r.tp.registerParameter(this._debugParams,["Terrain"],"disableRenderCache",{},()=>{this._style.map.triggerRepaint()}),r.tp.registerButton(["Terrain"],"Invalidate Render Cache",()=>{this.invalidateRenderCache=!0,this._style.map.triggerRepaint()}),this.painter=r,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[p,b,C]=function(B){const V=new u.b4,U=new u.aU,Y=131;V.reserve(17161),U.reserve(33800);const ee=u.ag/128,le=u.ag+ee/2,Ee=le+ee;for(let Oe=-ee;Oe<Ee;Oe+=ee)for(let Me=-ee;Me<Ee;Me+=ee){const qe=Me<0||Me>le||Oe<0||Oe>le?24575:0,yt=u.aw(Math.round(Me),0,u.ag),gt=u.aw(Math.round(Oe),0,u.ag);V.emplaceBack(yt+qe,gt)}const xe=(Oe,Me)=>{const qe=Me*Y+Oe;U.emplaceBack(qe+1,qe,qe+Y),U.emplaceBack(qe+Y,qe+Y+1,qe+1)};for(let Oe=1;Oe<129;Oe++)for(let Me=1;Me<129;Me++)xe(Me,Oe);return[0,129].forEach(Oe=>{for(let Me=0;Me<130;Me++)xe(Me,Oe),xe(Oe,Me)}),[V,U,32768]}(),E=r.context;this.gridBuffer=E.createVertexBuffer(p,u.b6.members),this.gridIndexBuffer=E.createIndexBuffer(b),this.gridSegments=u.b7.simpleSegment(0,0,p.length,b.length),this.gridNoSkirtSegments=u.b7.simpleSegment(0,0,p.length,C),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new zc(l.map),this.orthoMatrix=u.ab.mat4.create(),u.ab.mat4.ortho(this.orthoMatrix,this.painter.transform.projection.name==="globe"?.015:0,u.ag,0,u.ag,0,1);const R=E.gl;this._overlapStencilMode=new Zo({func:R.GEQUAL,mask:255},0,255,R.KEEP,R.KEEP,R.REPLACE),this._previousZoom=r.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=l,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new Uc(l.map),this._pendingGroundEffectLayers=[]}set style(r){r.on("data",this._onStyleDataEvent.bind(this)),this._style=r,this._style.map.on("moveend",()=>{this._clearLineLayersFromRenderCache()})}update(r,l,p){if(r&&r.terrain){this._style!==r&&(this.style=r,this._evaluationZoom=void 0);const b=r.terrain.properties,C=r.terrain.drapeRenderMode===0,E=r.terrain.isZoomDependent();this._previousUpdateTimestamp=this.enabled?this._updateTimestamp:void 0,this._updateTimestamp=u.q.now();const R=r.terrain&&r.terrain.scope,B=b.get("source"),V=C?this._mockSourceCache:r.getSourceCache(B,R);if(!V)return void u.w(`Couldn't find terrain source "${B}".`);if(this.sourceCache=V,this._attenuationRange=r.terrain.getAttenuationRange(),this._exaggeration=E?this.calculateExaggeration(l):b.get("exaggeration"),!l.projection.requiresDraping&&E&&this._exaggeration===0)return void this._disable();this.enabled=!0;const U=()=>{this.sourceCache.used&&u.w(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.
This leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const Y=this.getScaledDemTileSize();this.sourceCache.update(l,Y,!0),this.resetTileLookupCache(this.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,U(),this._initializing=!0),U(),l.updateElevation(!0,p),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(l),this._emptyDEMTextureDirty=!0,this._previousZoom=l.zoom}else this._disable()}calculateExaggeration(r){if(this._attenuationRange&&r.zoom>=Math.ceil(this._attenuationRange[1]))return this._style.terrain.getExaggeration(r.zoom);const l=this._previousCameraAltitude,p=r.getFreeCameraOptions().position.z/r.pixelsPerMeter*r.worldSize;this._previousCameraAltitude=p;const b=l!=null?p-l:Number.MAX_VALUE;if(Math.abs(b)<2)return this._exaggeration;const C=r.zoom,E=this._style.terrain;if(!this._previousUpdateTimestamp)return E.getExaggeration(C);let R=C-this._previousZoom;const B=this._previousUpdateTimestamp;let V=C;this._evaluationZoom!=null&&(V=this._evaluationZoom,Math.abs(C-V)>.5&&(R=.5*(C-V+R)),R*b<0&&(V+=R)),this._evaluationZoom=V;const U=E.getExaggeration(V),Y=U===E.getExaggeration(Math.max(0,V-.1));if(Y&&Math.abs(U-this._exaggeration)<.01)return U;let ee=Math.min(.1,.00375*(this._updateTimestamp-B));return(Y||U<.1||Math.abs(R)<1e-4)&&(ee=Math.min(.2,4*ee)),u.af(this._exaggeration,U,ee)}resetTileLookupCache(r){this._findCoveringTileCache[r]={}}attenuationRange(){return this._attenuationRange}getDemUpscale(){return this.proxySourceCache.getSource().tileSize/128}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_onStyleDataEvent(r){r.coord&&r.dataType==="source"?this._clearRenderCacheForTile(r.sourceCacheId,r.coord):r.dataType==="style"&&(this.invalidateRenderCache=!0,this._evaluationZoom=void 0,this._previousUpdateTimestamp=void 0,this._previousCameraAltitude=void 0)}_disable(){if(this.enabled&&(this.enabled=!1,this._emptyDEMTextureDirty=!0,this._sharedDepthStencil=void 0,this._evaluationZoom=void 0,this._previousUpdateTimestamp=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const r in this._style._mergedSourceCaches)this._style._mergedSourceCaches[r].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this.pool.forEach(r=>r.fb.destroy()),this.pool=[],this.framebufferCopyTexture&&this.framebufferCopyTexture.destroy()}_source(){return this.enabled?this.sourceCache:null}isUsingMockSource(){return this.sourceCache===this._mockSourceCache}exaggeration(){return this.enabled?this._exaggeration:0}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const r=2*this.proxySourceCache.getSource().tileSize;return[r,r]}set useVertexMorphing(r){this._useVertexMorphing=r}updateTileBinding(r){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const l=this.proxySourceCache,p=this.painter.transform;this._initializing&&(this._initializing=p._centerAltitude===0&&this.getAtPointOrZero(u.aa.fromLngLat(p.center),-1)===-1,this._emptyDEMTextureDirty=!this._initializing);const b=this.proxyCoords=l.getIds().map(B=>{const V=l.getTileByID(B).tileID;return V.projMatrix=p.calculateProjMatrix(V.toUnwrapped()),V});(function(B,V){const U=V.transform.pointCoordinate(V.transform.getCameraPoint()),Y=new u.P(U.x,U.y);B.sort((ee,le)=>{if(le.overscaledZ-ee.overscaledZ)return le.overscaledZ-ee.overscaledZ;const Ee=new u.P(ee.canonical.x+(1<<ee.canonical.z)*ee.wrap,ee.canonical.y),xe=new u.P(le.canonical.x+(1<<le.canonical.z)*le.wrap,le.canonical.y),Oe=Y.mult(1<<ee.canonical.z);return Oe.x-=.5,Oe.y-=.5,Oe.distSqr(Ee)-Oe.distSqr(xe)})})(b,this.painter);const C=this.proxyToSource||{};this.proxyToSource={},b.forEach(B=>{this.proxyToSource[B.key]={}}),this.terrainTileForTile={};const E=this._style._mergedSourceCaches;for(const B in E){const V=E[B];if(!V.used||(V!==this.sourceCache&&this.resetTileLookupCache(V.id),this._setupProxiedCoordsForOrtho(V,r[B],C),V.usedForTerrain))continue;const U=r[B];V.getSource().reparseOverscaled&&this._assignTerrainTiles(U)}this.proxiedCoords[l.id]=b.map(B=>new Ql(B,B.key,this.orthoMatrix)),this._assignTerrainTiles(b),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(C),this.renderingToTexture=!1;const R={};this._visibleDemTiles=[];for(const B of this.proxyCoords){const V=this.terrainTileForTile[B.key];if(!V)continue;const U=V.tileID.key;U in R||(this._visibleDemTiles.push(V),R[U]=U)}}_assignTerrainTiles(r){this._initializing||r.forEach(l=>{if(this.terrainTileForTile[l.key])return;const p=this._findTileCoveringTileID(l,this.sourceCache);p&&(this.terrainTileForTile[l.key]=p)})}_prepareDEMTextures(){const r=this.painter.context,l=r.gl;for(const p in this.terrainTileForTile){const b=this.terrainTileForTile[p],C=b.dem;!C||b.demTexture&&!b.needsDEMTextureUpload||(r.activeTexture.set(l.TEXTURE1),Yf(this.painter,b,C))}}_prepareDemTileUniforms(r,l,p,b){if(!l||l.demTexture==null)return!1;const C=r.tileID.canonical,E=Math.pow(2,l.tileID.canonical.z-C.z),R=b||"";return p[`u_dem_tl${R}`]=[C.x*E%1,C.y*E%1],p[`u_dem_scale${R}`]=E,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}_getLoadedAreaMinimum(){if(!this.enabled)return 0;let r=0;const l=this._visibleDemTiles.reduce((p,b)=>{if(!b.dem)return p;const C=b.dem.tree.minimums[0];return C>0&&r++,p+C},0);return r?l/r:0}_updateEmptyDEMTexture(){const r=this.painter.context,l=r.gl;r.activeTexture.set(l.TEXTURE2);const p=this._getLoadedAreaMinimum(),b=new u.cK({width:1,height:1},new Float32Array([p]));this._emptyDEMTextureDirty=!1;let C=this._emptyDEMTexture;return C?C.update(b,{premultiply:!1}):C=this._emptyDEMTexture=new u.T(r,b,l.R32F,{premultiply:!1}),C}setupElevationDraw(r,l,p){const b=this.painter.context,C=b.gl,E={u_dem:2,u_dem_prev:4,u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_depth_range_unpack:[0,1],u_occluder_half_size:16,u_occlusion_depth_offset:-1e-4,u_exaggeration:0};E.u_exaggeration=this.exaggeration();let R=null,B=null,V=1;if(p&&p.morphing&&this._useVertexMorphing){const le=p.morphing.srcDemTile,Ee=p.morphing.dstDemTile;V=p.morphing.phase,le&&Ee&&(this._prepareDemTileUniforms(r,le,E,"_prev")&&(B=le),this._prepareDemTileUniforms(r,Ee,E)&&(R=Ee))}const U=le=>le&&le.demTexture&&this.painter.linearFloatFilteringSupported()?C.LINEAR:C.NEAREST;let Y=null;var ee;if(this.enabled?B&&R?(Y=R.demTexture,b.activeTexture.set(C.TEXTURE4),B.demTexture.bind(U(B),C.CLAMP_TO_EDGE),E.u_dem_lerp=V):(R=this.terrainTileForTile[r.tileID.key],Y=this._prepareDemTileUniforms(r,R,E)?R.demTexture:this.emptyDEMTexture):Y=this.emptyDEMTexture,b.activeTexture.set(C.TEXTURE2),Y&&(E.u_dem_size=(ee=Y).size[0]===1?1:ee.size[0]-2,Y.bind(U(R),C.CLAMP_TO_EDGE)),this.painter.setupDepthForOcclusion(p&&p.useDepthForOcclusion,l,E),p&&p.useMeterToDem&&R){const le=(1<<R.tileID.canonical.z)*u.bH(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;E.u_meter_to_dem=le}if(p&&p.labelPlaneMatrixInv&&(E.u_label_plane_matrix_inv=p.labelPlaneMatrixInv),l.setTerrainUniformValues(b,E),this.painter.transform.projection.name==="globe"){const le=this.globeUniformValues(this.painter.transform,r.tileID.canonical,p&&p.useDenormalizedUpVectorScale);l.setGlobeUniformValues(b,le)}}globeUniformValues(r,l,p){const b=r.projection;return{u_tile_tl_up:b.upVector(l,0,0),u_tile_tr_up:b.upVector(l,u.ag,0),u_tile_br_up:b.upVector(l,u.ag,u.ag),u_tile_bl_up:b.upVector(l,0,u.ag),u_tile_up_scale:p?u.cL(1):b.upVectorScale(l,r.center.lat,r.worldSize).metersToTile}}renderToBackBuffer(r){const l=this.painter,p=this.painter.context;r.length!==0&&(p.bindFramebuffer.set(null),p.viewport.set([0,0,l.width,l.height]),l.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(b,C,E,R,B){if(b.transform.projection.name==="globe")(function(V,U,Y,ee,le){const Ee=V.context,xe=Ee.gl;let Oe,Me;const qe=V.transform,yt=u.cC(V,Ee,qe),gt=(Er,mr)=>{if(Me===mr)return;const Dn=[Al[mr],"PROJECTION_GLOBE_VIEW"];yt&&Dn.push("CUSTOM_ANTIALIASING");const or=V.isTileAffectedByFog(Er);Oe=V.getOrCreateProgram("globeRaster",{defines:Dn,overrideFog:or}),Me=mr},Nt=V.colorModeForRenderPass(),Mt=new To(xe.LEQUAL,To.ReadWrite,V.depthRangeFor3D);Xs.update(le);const Dt=u.cD(qe),It=[u.at(qe.center.lng),u.aA(qe.center.lat)],zt=V.globeSharedBuffers,fn=[qe.width*u.q.devicePixelRatio,qe.height*u.q.devicePixelRatio],nr=Float32Array.from(qe.globeMatrix),Hn={useDenormalizedUpVectorScale:!0};{const Er=V.transform,mr=il(Er.zoom,U.exaggeration(),U.sourceCache._source.tileSize);Me=-1;const Dn=xe.TRIANGLES;for(const or of ee){const Gr=Y.getTile(or),On=Zo.disabled,Rr=U.prevTerrainTileForTile[or.key],Qn=U.terrainTileForTile[or.key];pl(Rr,Qn)&&Xs.newMorphing(or.key,Rr,Qn,le,250),Ee.activeTexture.set(xe.TEXTURE0),Gr.texture&&Gr.texture.bind(xe.LINEAR,xe.CLAMP_TO_EDGE);const xi=Xs.getMorphValuesForProxy(or.key),Br=xi?1:0;xi&&u.J(Hn,{morphing:{srcDemTile:xi.from,dstDemTile:xi.to,phase:u.cB(xi.phase)}});const Or=u.cE(or.canonical),ci=u.cF(Or.getCenter().lat),vi=u.cG(or.canonical,Or,ci,Er.worldSize/Er._pixelsPerMercatorPixel),Gi=u.bb(u.cH(or.canonical)),Yi=is(Er.expandedFarZProjMatrix,nr,Dt,Gi,u.ae(Er.zoom),It,Er.frustumCorners.TL,Er.frustumCorners.TR,Er.frustumCorners.BR,Er.frustumCorners.BL,Er.globeCenterInViewSpace,Er.globeRadius,fn,mr,Er._farZ,vi);if(gt(or,Br),Oe&&(U.setupElevationDraw(Gr,Oe,Hn),V.uploadCommonUniforms(Ee,Oe,or.toUnwrapped()),zt)){const[ra,Bo,No]=zt.getGridBuffers(ci,mr!==0);Oe.draw(V,Dn,Mt,On,Nt,ea.backCCW,Yi,"globe_raster",ra,Bo,No)}}}if(zt&&(V.renderDefaultNorthPole||V.renderDefaultSouthPole)){const Er=["GLOBE_POLES","PROJECTION_GLOBE_VIEW"];yt&&Er.push("CUSTOM_ANTIALIASING"),Oe=V.getOrCreateProgram("globeRaster",{defines:Er});for(const mr of ee){const{x:Dn,y:or,z:Gr}=mr.canonical,On=or===0,Rr=or===(1<<Gr)-1,[Qn,xi,Br,Or]=zt.getPoleBuffers(Gr,!1);if(Or&&(On||Rr)){const ci=Y.getTile(mr);Ee.activeTexture.set(xe.TEXTURE0),ci.texture&&ci.texture.bind(xe.LINEAR,xe.CLAMP_TO_EDGE);let vi=u.cI(Gr,Dn,qe);const Gi=u.bb(u.cH(mr.canonical)),Yi=(ra,Bo)=>ra.draw(V,xe.TRIANGLES,Mt,Zo.disabled,Nt,ea.disabled,is(qe.expandedFarZProjMatrix,vi,vi,Gi,0,It,qe.frustumCorners.TL,qe.frustumCorners.TR,qe.frustumCorners.BR,qe.frustumCorners.BL,qe.globeCenterInViewSpace,qe.globeRadius,fn,0,qe._farZ),"globe_pole_raster",Bo,Br,Or);U.setupElevationDraw(ci,Oe,Hn),V.uploadCommonUniforms(Ee,Oe,mr.toUnwrapped()),On&&V.renderDefaultNorthPole&&Yi(Oe,Qn),Rr&&V.renderDefaultSouthPole&&(vi=u.ab.mat4.scale(u.ab.mat4.create(),vi,[1,-1,1]),Yi(Oe,xi))}}}})(b,C,E,R,B);else{const V=b.context,U=V.gl;let Y,ee;const le=b.shadowRenderer,Ee=Gt(b,b.longestCutoffRange),xe=Nt=>{if(ee===Nt)return;const Mt=[];Mt.push(Al[Nt]),Ee.shouldRenderCutoff&&Mt.push("RENDER_CUTOFF"),le&&(Mt.push("RENDER_SHADOWS","DEPTH_TEXTURE"),le.useNormalOffset&&Mt.push("NORMAL_OFFSET")),Y=b.getOrCreateProgram("terrainRaster",{defines:Mt}),ee=Nt},Oe=b.colorModeForRenderPass(),Me=new To(U.LEQUAL,To.ReadWrite,b.depthRangeFor3D);Xs.update(B);const qe=b.transform,yt=il(qe.zoom,C.exaggeration(),C.sourceCache._source.tileSize);let gt=[0,0,0];if(le){const Nt=b.style.directionalLight,Mt=b.style.ambientLight;Nt&&Mt&&(gt=Li(b.style,Nt,Mt))}{ee=-1;const Nt=U.TRIANGLES,[Mt,Dt]=[C.gridIndexBuffer,C.gridSegments];for(const It of R){const zt=E.getTile(It),fn=Zo.disabled,nr=C.prevTerrainTileForTile[It.key],Hn=C.terrainTileForTile[It.key];pl(nr,Hn)&&Xs.newMorphing(It.key,nr,Hn,B,250),V.activeTexture.set(U.TEXTURE0),zt.texture&&zt.texture.bind(U.LINEAR,U.CLAMP_TO_EDGE);const Er=Xs.getMorphValuesForProxy(It.key),mr=Er?1:0;let Dn;Er&&(Dn={morphing:{srcDemTile:Er.from,dstDemTile:Er.to,phase:u.cB(Er.phase)}});const or=rl(It.projMatrix,Oc(It.canonical,qe.renderWorldCopies)?yt/10:yt,gt);if(xe(mr),!Y)continue;C.setupElevationDraw(zt,Y,Dn);const Gr=It.toUnwrapped();le&&le.setupShadows(Gr,Y),b.uploadCommonUniforms(V,Y,Gr,null,Ee),Y.draw(b,Nt,Me,fn,Oe,ea.backCCW,or,"terrain_raster",C.gridBuffer,Mt,Dt)}}}}(l,this,this.proxySourceCache,r,this._updateTimestamp),this.renderingToTexture=!0,l.gpuTimingDeferredRenderEnd(),r.splice(0,r.length))}renderBatch(r){if(this._drapedRenderBatches.length===0)return r+1;this.renderingToTexture=!0;const l=this.painter,p=this.painter.context,b=this.proxySourceCache,C=this.proxiedCoords[b.id],E=this._drapedRenderBatches.shift(),R=l.style.order,B=[];let V=0;for(const U of C){const Y=b.getTileByID(U.proxyTileKey),ee=b.proxyCachedFBO[U.key]?b.proxyCachedFBO[U.key][r]:void 0,le=ee!==void 0?b.renderCache[ee]:this.pool[V++],Ee=ee!==void 0;if(Y.texture=le.tex,Ee&&!le.dirty){B.push(Y.tileID);continue}let xe;p.bindFramebuffer.set(le.fb.framebuffer),this.renderedToTile=!1,le.dirty&&(p.clear({color:u.aj.transparent,stencil:0}),le.dirty=!1);for(let Oe=E.start;Oe<=E.end;++Oe){const Me=l.style._mergedLayers[R[Oe]];if(Me.isHidden(l.transform.zoom))continue;const qe=l.style.getLayerSourceCache(Me),yt=qe?this.proxyToSource[U.key][qe.id]:[U];if(!yt)continue;const gt=yt;p.viewport.set([0,0,le.fb.width,le.fb.height]),xe!==(qe?qe.id:null)&&(this._setupStencil(le,yt,Me,qe),xe=qe?qe.id:null),l.renderLayer(l,qe,Me,gt)}if(this._drapedRenderBatches.length===0)for(const Oe of this._pendingGroundEffectLayers){const Me=l.style._mergedLayers[R[Oe]];if(Me.isHidden(l.transform.zoom))continue;const qe=l.style.getLayerSourceCache(Me),yt=qe?this.proxyToSource[U.key][qe.id]:[U];if(!yt)continue;const gt=yt;p.viewport.set([0,0,le.fb.width,le.fb.height]),xe!==(qe?qe.id:null)&&(this._setupStencil(le,yt,Me,qe),xe=qe?qe.id:null),l.renderLayer(l,qe,Me,gt)}this.renderedToTile?(le.dirty=!0,B.push(Y.tileID)):Ee||--V,V===5&&(V=0,this.renderToBackBuffer(B))}return this.renderToBackBuffer(B),this.renderingToTexture=!1,p.bindFramebuffer.set(null),p.viewport.set([0,0,l.width,l.height]),E.end+1}postRender(){}isLayerOrderingCorrect(r){const l=r.order.length;let p=-1,b=l;for(let C=0;C<l;++C)this._style.isLayerDraped(r._mergedLayers[r.order[C]])?p=Math.max(p,C):b=Math.min(b,C);return b>p}getMinElevationBelowMSL(){let r=0;return this._visibleDemTiles.filter(l=>l.dem).forEach(l=>{r=Math.min(r,l.dem.tree.minimums[0])}),r===0?r:(r-30)*this._exaggeration}raycast(r,l,p){if(!this._visibleDemTiles)return null;const b=this._visibleDemTiles.filter(C=>C.dem).map(C=>{const E=C.tileID,R=1<<E.overscaledZ,{x:B,y:V}=E.canonical,U=B/R,Y=(B+1)/R,ee=V/R,le=(V+1)/R;return{minx:U,miny:ee,maxx:Y,maxy:le,t:C.dem.tree.raycastRoot(U,ee,Y,le,r,l,p),tile:C}});b.sort((C,E)=>(C.t!==null?C.t:Number.MAX_VALUE)-(E.t!==null?E.t:Number.MAX_VALUE));for(const C of b){if(C.t==null)return null;const E=C.tile.dem.tree.raycast(C.minx,C.miny,C.maxx,C.maxy,r,l,p);if(E!=null)return E}return null}_createFBO(){const r=this.painter.context,l=r.gl,p=this.drapeBufferSize;r.activeTexture.set(l.TEXTURE0);const b=new u.T(r,{width:p[0],height:p[1],data:null},l.RGBA8);b.bind(l.LINEAR,l.CLAMP_TO_EDGE);const C=r.createFramebuffer(p[0],p[1],!0,null);return C.colorAttachment.set(b.texture),C.depthAttachment=new na(r,C.framebuffer),this._sharedDepthStencil===void 0?(this._sharedDepthStencil=r.createRenderbuffer(r.gl.DEPTH_STENCIL,p[0],p[1]),this._stencilRef=0,C.depthAttachment.set(this._sharedDepthStencil),r.clear({stencil:0})):C.depthAttachment.set(this._sharedDepthStencil),r.extTextureFilterAnisotropic&&l.texParameterf(l.TEXTURE_2D,r.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,r.extTextureFilterAnisotropicMax),{fb:C,tex:b,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._debugParams.disableRenderCache||this._style.hasLightTransitions())return!0;for(const r in this._style._mergedSourceCaches)if(this._style._mergedSourceCaches[r].hasTransition())return!0;return this._style.order.some(r=>{const l=this._style._mergedLayers[r],p=l.isHidden(this.painter.transform.zoom);return l.type==="hillshade"||l.type==="custom"?!p&&l.shouldRedrape():!p&&l.hasTransition()})}_clearLineLayersFromRenderCache(){let r=!1;for(const p of this._style.getSources())if(p instanceof oi){r=!0;break}if(!r)return;const l={};for(let p=0;p<this._style.order.length;++p){const b=this._style._mergedLayers[this._style.order[p]],C=this._style.getLayerSourceCache(b);if(C&&!l[C.id]&&!b.isHidden(this.painter.transform.zoom)&&b.type==="line"&&b.widthExpression()instanceof u.a9){l[C.id]=!0;for(const E of this.proxyCoords){const R=this.proxyToSource[E.key][C.id];if(R)for(const B of R)this._clearRenderCacheForTile(C.id,B)}}}}_clearRasterLayersFromRenderCache(){let r=!1;for(const p in this._style._mergedSourceCaches)if(this._style._mergedSourceCaches[p]._source instanceof Zi){r=!0;break}if(!r)return;const l={};for(let p=0;p<this._style.order.length;++p){const b=this._style._mergedLayers[this._style.order[p]],C=this._style.getLayerSourceCache(b);if(!C||l[C.id]||b.isHidden(this.painter.transform.zoom)||b.type!=="raster")continue;const E=b.paint.get("raster-fade-duration");for(const R of this.proxyCoords){const B=this.proxyToSource[R.key][C.id];if(B)for(const V of B){const U=Dl(C.getTile(V),C.findLoadedParent(V,0),C,this.painter.transform,E);(U.opacity!==1||U.mix!==0)&&this._clearRenderCacheForTile(C.id,V)}}}}_setupDrapedRenderBatches(){this._style.updateDrapeFirstLayers();const r=this._style.order,l=r.length;if(l===0)return;const p=[];this._pendingGroundEffectLayers=[];let b,C=0,E=this._style._mergedLayers[r[C]];for(;!this._style.isLayerDraped(E)&&E.isHidden(this.painter.transform.zoom)&&++C<l;)E=this._style._mergedLayers[r[C]];for(;C<l;++C){const R=this._style._mergedLayers[r[C]];R.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(R)?b===void 0&&(b=C):(R.type==="fill-extrusion"&&this._pendingGroundEffectLayers.push(C),b!==void 0&&(p.push({start:b,end:C-1}),b=void 0)))}if(b!==void 0&&p.push({start:b,end:C-1}),p.length!==0){const R=p[p.length-1];this._pendingGroundEffectLayers.every(B=>B>R.end)||u.w("fill-extrusion with flood lighting and/or ground ambient occlusion should be moved to be on top of all draped layers.")}this._drapedRenderBatches=p}_setupRenderCache(r){const l=this.proxySourceCache;if(this._shouldDisableRenderCache()||this.invalidateRenderCache){if(this.invalidateRenderCache=!1,l.renderCache.length>l.renderCachePool.length){const E=Object.values(l.proxyCachedFBO);l.proxyCachedFBO={};for(let R=0;R<E.length;++R){const B=Object.values(E[R]);l.renderCachePool.push(...B)}}return}this._clearRasterLayersFromRenderCache();const p=this.proxyCoords,b=this._tilesDirty;for(let E=p.length-1;E>=0;E--){const R=p[E];if(l.getTileByID(R.key),l.proxyCachedFBO[R.key]!==void 0){const B=r[R.key],V=this.proxyToSource[R.key];let U=0;for(const Y in V){const ee=V[Y],le=B[Y];if(!le||le.length!==ee.length||ee.some((Ee,xe)=>Ee!==le[xe]||b[Y]&&b[Y].hasOwnProperty(Ee.key))){U=-1;break}++U}for(const Y in l.proxyCachedFBO[R.key])l.renderCache[l.proxyCachedFBO[R.key][Y]].dirty=U<0||U!==Object.values(B).length}}const C=[...this._drapedRenderBatches];C.sort((E,R)=>R.end-R.start-(E.end-E.start));for(const E of C)for(const R of p){if(l.proxyCachedFBO[R.key])continue;let B=l.renderCachePool.pop();B===void 0&&l.renderCache.length<50&&(B=l.renderCache.length,l.renderCache.push(this._createFBO())),B!==void 0&&(l.proxyCachedFBO[R.key]={},l.proxyCachedFBO[R.key][E.start]=B,l.renderCache[B].dirty=!0)}this._tilesDirty={}}_setupStencil(r,l,p,b){if(!b||!this._sourceTilesOverlap[b.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const C=this.painter.context,E=C.gl;if(l.length<=1)return void(this._overlapStencilType=!1);let R;if(p.isTileClipped())R=l.length,this._overlapStencilMode.test={func:E.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(l[0].overscaledZ>l[l.length-1].overscaledZ))return void(this._overlapStencilType=!1);R=1,this._overlapStencilMode.test={func:E.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+R>255&&(C.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=R,this._overlapStencilMode.ref=this._stencilRef,p.isTileClipped()&&this._renderTileClippingMasks(l,this._overlapStencilMode.ref)}clipOrMaskOverlapStencilType(){return this._overlapStencilType==="Clip"||this._overlapStencilType==="Mask"}stencilModeForRTTOverlap(r){return this.renderingToTexture&&this._overlapStencilType?(this._overlapStencilType==="Clip"&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[r.key]),this._overlapStencilMode):Zo.disabled}_renderTileClippingMasks(r,l){const p=this.painter,b=this.painter.context,C=b.gl;p._tileClippingMaskIDs={},b.setColorMode(sa.disabled),b.setDepthMode(To.disabled);const E=p.getOrCreateProgram("clippingMask");for(const R of r){const B=p._tileClippingMaskIDs[R.key]=--l;E.draw(p,C.TRIANGLES,To.disabled,new Zo({func:C.ALWAYS,mask:0},B,255,C.KEEP,C.KEEP,C.REPLACE),sa.disabled,ea.disabled,ic(R.projMatrix),"$clipping",p.tileExtentBuffer,p.quadTriangleIndexBuffer,p.tileExtentSegments)}}pointCoordinate(r){const l=this.painter.transform;if(r.x<0||r.x>l.width||r.y<0||r.y>l.height)return null;const p=[r.x,r.y,1,1];u.ab.vec4.transformMat4(p,p,l.pixelMatrixInverse),u.ab.vec4.scale(p,p,1/p[3]),p[0]/=l.worldSize,p[1]/=l.worldSize;const b=l._camera.position,C=u.bH(1,l.center.lat),E=[b[0],b[1],b[2]/C,0],R=u.ab.vec3.subtract([],p.slice(0,3),E);u.ab.vec3.normalize(R,R);const B=this.raycast(E,R,this._exaggeration);return B!==null&&B?(u.ab.vec3.scaleAndAdd(E,E,R,B),E[3]=E[2],E[2]*=C,E):null}_setupProxiedCoordsForOrtho(r,l,p){if(r.getSource()instanceof u.aJ)return this._setupProxiedCoordsForImageSource(r,l,p);this._findCoveringTileCache[r.id]=this._findCoveringTileCache[r.id]||{};const b=this.proxiedCoords[r.id]=[],C=this.proxyCoords;for(let B=0;B<C.length;B++){const V=C[B],U=this._findTileCoveringTileID(V,r);if(U){const Y=this._createProxiedId(V,U,p[V.key]&&p[V.key][r.id]);b.push(Y),this.proxyToSource[V.key][r.id]=[Y]}}let E=!1;const R=new Set;for(let B=0;B<l.length;B++){const V=r.getTile(l[B]);if(!V||!V.hasData())continue;const U=this._findTileCoveringTileID(V.tileID,this.proxySourceCache);if(U&&U.tileID.canonical.z!==V.tileID.canonical.z){const Y=this.proxyToSource[U.tileID.key][r.id],ee=this._createProxiedId(U.tileID,V,p[U.tileID.key]&&p[U.tileID.key][r.id]);Y?Y.splice(Y.length-1,0,ee):this.proxyToSource[U.tileID.key][r.id]=[ee];const le=this.proxyToSource[U.tileID.key][r.id];R.has(le)||R.add(le),b.push(ee),E=!0}}if(this._sourceTilesOverlap[r.id]=E,E&&this._debugParams.sortTilesHiZFirst)for(const B of R)B.sort((V,U)=>U.overscaledZ-V.overscaledZ)}_setupProxiedCoordsForImageSource(r,l,p){if(!r.getSource().loaded())return;const b=this.proxiedCoords[r.id]=[],C=this.proxyCoords,E=r.getSource(),R=E.tileID;if(!R)return;const B=new u.P(R.x,R.y)._div(1<<R.z),V=E.coordinates.map(u.aa.fromLngLat).reduce((Y,ee)=>(Y.min.x=Math.min(Y.min.x,ee.x-B.x),Y.min.y=Math.min(Y.min.y,ee.y-B.y),Y.max.x=Math.max(Y.max.x,ee.x-B.x),Y.max.y=Math.max(Y.max.y,ee.y-B.y),Y),{min:new u.P(Number.MAX_VALUE,Number.MAX_VALUE),max:new u.P(-Number.MAX_VALUE,-Number.MAX_VALUE)}),U=(Y,ee)=>{const le=Y.wrap+Y.canonical.x/(1<<Y.canonical.z),Ee=Y.canonical.y/(1<<Y.canonical.z),xe=u.ag/(1<<Y.canonical.z),Oe=ee.wrap+ee.canonical.x/(1<<ee.canonical.z),Me=ee.canonical.y/(1<<ee.canonical.z);return le+xe<Oe+V.min.x||le>Oe+V.max.x||Ee+xe<Me+V.min.y||Ee>Me+V.max.y};for(let Y=0;Y<C.length;Y++){const ee=C[Y];for(let le=0;le<l.length;le++){const Ee=r.getTile(l[le]);if(!Ee||!Ee.hasData()||U(ee,Ee.tileID))continue;const xe=this._createProxiedId(ee,Ee,p[ee.key]&&p[ee.key][r.id]),Oe=this.proxyToSource[ee.key][r.id];Oe?Oe.push(xe):this.proxyToSource[ee.key][r.id]=[xe],b.push(xe)}}}_createProxiedId(r,l,p){let b=this.orthoMatrix;if(p){const C=p.find(E=>E.key===l.tileID.key);if(C)return C}if(l.tileID.key!==r.key){const C=r.canonical.z-l.tileID.canonical.z;let E,R,B;b=u.ab.mat4.create();const V=l.tileID.wrap-r.wrap<<r.overscaledZ;C>0?(E=u.ag>>C,R=E*((l.tileID.canonical.x<<C)-r.canonical.x+V),B=E*((l.tileID.canonical.y<<C)-r.canonical.y)):(E=u.ag<<-C,R=u.ag*(l.tileID.canonical.x-(r.canonical.x+V<<-C)),B=u.ag*(l.tileID.canonical.y-(r.canonical.y<<-C))),u.ab.mat4.ortho(b,0,E,0,E,0,1),u.ab.mat4.translate(b,b,[R,B,0])}return new Ql(l.tileID,r.key,b)}_findTileCoveringTileID(r,l){let p=l.getTile(r);if(p&&p.hasData())return p;const b=this._findCoveringTileCache[l.id],C=b[r.key];if(p=C?l.getTileByID(C):null,p&&p.hasData()||C===null)return p;let E=p?p.tileID:r,R=E.overscaledZ;const B=l.getSource().minzoom,V=[];if(!C){const Y=l.getSource().maxzoom;if(r.canonical.z>=Y){const ee=r.canonical.z-Y;l.getSource().reparseOverscaled?(R=Math.max(r.canonical.z+2,l.transform.tileZoom),E=new u.aG(R,r.wrap,Y,r.canonical.x>>ee,r.canonical.y>>ee)):ee!==0&&(R=Y,E=new u.aG(R,r.wrap,Y,r.canonical.x>>ee,r.canonical.y>>ee))}E.key!==r.key&&(V.push(E.key),p=l.getTile(E))}const U=Y=>{V.forEach(ee=>{b[ee]=Y}),V.length=0};for(R-=1;R>=B&&(!p||!p.hasData());R--){p&&U(p.tileID.key);const Y=E.calculateScaledKey(R);if(p=l.getTileByID(Y),p&&p.hasData())break;const ee=b[Y];if(ee===null)break;ee===void 0?V.push(Y):p=l.getTileByID(ee)}return U(p?p.tileID.key:null),p&&p.hasData()?p:null}findDEMTileFor(r){return this.enabled?this._findTileCoveringTileID(r,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0}_clearRenderCacheForTile(r,l){let p=this._tilesDirty[r];p||(p=this._tilesDirty[r]={}),p[l.key]=!0}}function Hu(m,r,l){const p=function(R,B,V){const U=u.ab.vec3.dot(B,R),Y=u.ab.vec3.dot(V,[.2126,.7152,.0722]),ee=(Ee,xe,Oe)=>(1-Oe)*Ee+Oe*xe,le=ee(1-.3*Math.min(Y,1),1,Math.min(U+1,1));return ee(.92,1,Math.asin(u.aw(B[2],-1,1))/Math.PI+.5)*le}(m,[0,0,1],r),b=[0,0,0];u.ab.vec3.scale(b,l.slice(0,3),p);const C=[0,0,0];u.ab.vec3.scale(C,r.slice(0,3),m[2]);const E=[0,0,0];return u.ab.vec3.add(E,b,C),u.cf(E)}const hd=["fill","fillOutline","fillPattern","line","linePattern","background","backgroundPattern","hillshade","raster"],sh=["stars","rainParticle","snowParticle","fillExtrusion","fillExtrusionGroundEffect","model","symbol"];class Dd{static cacheKey(r,l,p,b){let C=`${l}${b?b.cacheKey:""}`;for(const E of p)r.usedDefines.includes(E)&&(C+=`/${E}`);return C}constructor(r,l,p,b,C,E){const R=r.gl;this.program=R.createProgram(),this.configuration=b,this.name=l,this.fixedDefines=[...E];const B=b?b.getBinderAttributes():[],V=(p.staticAttributes||[]).concat(B);let U=b?b.defines():[];U=U.concat(E.map(Oe=>`#define ${Oe}`));const Y=`#version 300 es
`;let ee=Y+U.concat("precision mediump float;",ks,Vc.fragmentSource).join(`
`);for(const Oe of p.fragmentIncludes)ee+=`
${Yl[Oe]}`;ee+=`
${p.fragmentSource}`;let le=Y+U.concat("precision highp float;",ks,Vc.vertexSource).join(`
`);for(const Oe of p.vertexIncludes)le+=`
${Yl[Oe]}`;this.forceManualRenderingForInstanceIDShaders=r.forceManualRenderingForInstanceIDShaders&&p.vertexSource.indexOf("gl_InstanceID")!==-1,this.forceManualRenderingForInstanceIDShaders&&(le+=`
uniform int u_instanceID;
`),le+=`
${p.vertexSource}`,this.forceManualRenderingForInstanceIDShaders&&(le=le.replaceAll("gl_InstanceID","u_instanceID"));const Ee=R.createShader(R.FRAGMENT_SHADER);if(R.isContextLost())return void(this.failedToCreate=!0);R.shaderSource(Ee,ee),R.compileShader(Ee),R.attachShader(this.program,Ee);const xe=R.createShader(R.VERTEX_SHADER);if(R.isContextLost())this.failedToCreate=!0;else{R.shaderSource(xe,le),R.compileShader(xe),R.attachShader(this.program,xe),this.attributes={},this.numAttributes=V.length;for(let Oe=0;Oe<this.numAttributes;Oe++)if(V[Oe]){const Me=V[Oe].startsWith("a_")?V[Oe]:`a_${V[Oe]}`;R.bindAttribLocation(this.program,Oe,Me),this.attributes[Me]=Oe}R.linkProgram(this.program),R.deleteShader(xe),R.deleteShader(Ee),this.fixedUniforms=C(r),this.binderUniforms=b?b.getUniforms(r):[],this.forceManualRenderingForInstanceIDShaders&&(this.instancingUniforms=(Oe=>({u_instanceID:new u.bN(Oe)}))(r)),(E.includes("TERRAIN")||l.indexOf("symbol")!==-1||l.indexOf("circle")!==-1)&&(this.terrainUniforms=(Oe=>({u_dem:new u.bN(Oe),u_dem_prev:new u.bN(Oe),u_dem_tl:new u.bK(Oe),u_dem_scale:new u.bM(Oe),u_dem_tl_prev:new u.bK(Oe),u_dem_scale_prev:new u.bM(Oe),u_dem_size:new u.bM(Oe),u_dem_lerp:new u.bM(Oe),u_exaggeration:new u.bM(Oe),u_depth:new u.bN(Oe),u_depth_size_inv:new u.bK(Oe),u_depth_range_unpack:new u.bK(Oe),u_occluder_half_size:new u.bM(Oe),u_occlusion_depth_offset:new u.bM(Oe),u_meter_to_dem:new u.bM(Oe),u_label_plane_matrix_inv:new u.bJ(Oe)}))(r)),E.includes("GLOBE")&&(this.globeUniforms=(Oe=>({u_tile_tl_up:new u.bL(Oe),u_tile_tr_up:new u.bL(Oe),u_tile_br_up:new u.bL(Oe),u_tile_bl_up:new u.bL(Oe),u_tile_up_scale:new u.bM(Oe)}))(r)),E.includes("FOG")&&(this.fogUniforms=(Oe=>({u_fog_matrix:new u.bJ(Oe),u_fog_range:new u.bK(Oe),u_fog_color:new u.ca(Oe),u_fog_horizon_blend:new u.bM(Oe),u_fog_vertical_limit:new u.bK(Oe),u_fog_temporal_offset:new u.bM(Oe),u_frustum_tl:new u.bL(Oe),u_frustum_tr:new u.bL(Oe),u_frustum_br:new u.bL(Oe),u_frustum_bl:new u.bL(Oe),u_globe_pos:new u.bL(Oe),u_globe_radius:new u.bM(Oe),u_globe_transition:new u.bM(Oe),u_is_globe:new u.bN(Oe),u_viewport:new u.bK(Oe)}))(r)),E.includes("RENDER_CUTOFF")&&(this.cutoffUniforms=(Oe=>({u_cutoff_params:new u.ca(Oe)}))(r)),E.includes("LIGHTING_3D_MODE")&&(this.lightsUniforms=(Oe=>({u_lighting_ambient_color:new u.bL(Oe),u_lighting_directional_dir:new u.bL(Oe),u_lighting_directional_color:new u.bL(Oe),u_ground_radiance:new u.bL(Oe)}))(r)),E.includes("RENDER_SHADOWS")&&(this.shadowUniforms=(Oe=>({u_light_matrix_0:new u.bJ(Oe),u_light_matrix_1:new u.bJ(Oe),u_fade_range:new u.bK(Oe),u_shadow_normal_offset:new u.bL(Oe),u_shadow_intensity:new u.bM(Oe),u_shadow_texel_size:new u.bM(Oe),u_shadow_map_resolution:new u.bM(Oe),u_shadow_direction:new u.bL(Oe),u_shadow_bias:new u.bL(Oe),u_shadowmap_0:new u.bN(Oe),u_shadowmap_1:new u.bN(Oe)}))(r))}}setTerrainUniformValues(r,l){if(!this.terrainUniforms)return;const p=this.terrainUniforms;if(!this.failedToCreate){r.program.set(this.program);for(const b in l)p[b]&&p[b].set(this.program,b,l[b])}}setGlobeUniformValues(r,l){if(!this.globeUniforms)return;const p=this.globeUniforms;if(!this.failedToCreate){r.program.set(this.program);for(const b in l)p[b]&&p[b].set(this.program,b,l[b])}}setFogUniformValues(r,l){if(!this.fogUniforms)return;const p=this.fogUniforms;if(!this.failedToCreate){r.program.set(this.program);for(const b in l)p[b].set(this.program,b,l[b])}}setCutoffUniformValues(r,l){if(!this.cutoffUniforms)return;const p=this.cutoffUniforms;if(!this.failedToCreate){r.program.set(this.program);for(const b in l)p[b].set(this.program,b,l[b])}}setLightsUniformValues(r,l){if(!this.lightsUniforms)return;const p=this.lightsUniforms;if(!this.failedToCreate){r.program.set(this.program);for(const b in l)p[b].set(this.program,b,l[b])}}setShadowUniformValues(r,l){if(this.failedToCreate||!this.shadowUniforms)return;const p=this.shadowUniforms;r.program.set(this.program);for(const b in l)p[b].set(this.program,b,l[b])}_drawDebugWireframe(r,l,p,b,C,E,R,B,V,U){const Y=r.options.wireframe;if(Y.terrain===!1&&Y.layers2D===!1&&Y.layers3D===!1)return;const ee=r.context;if(!(!(!Y.terrain||this.name!=="terrainRaster"&&this.name!=="globeRaster")||!(!Y.layers2D||r._terrain&&r._terrain.renderingToTexture||!hd.includes(this.name))||!(!Y.layers3D||!sh.includes(this.name))))return;const le=ee.gl,Ee=r.wireframeDebugCache.getLinesFromTrianglesBuffer(r.frameCounter,C,ee);if(!Ee)return;const xe=[...this.fixedDefines];xe.push("DEBUG_WIREFRAME");const Oe=r.getOrCreateProgram(this.name,{config:this.configuration,defines:xe});ee.program.set(Oe.program);const Me=(gt,Nt,Mt)=>{if(Nt[gt]&&Mt[gt])for(const Dt in Nt[gt])Mt[gt][Dt]&&Mt[gt][Dt].set(Mt.program,Dt,Nt[gt][Dt].current)};V&&V.setUniforms(Oe.program,ee,Oe.binderUniforms,R,{zoom:B}),Me("fixedUniforms",this,Oe),Me("terrainUniforms",this,Oe),Me("globeUniforms",this,Oe),Me("fogUniforms",this,Oe),Me("lightsUniforms",this,Oe),Me("shadowUniforms",this,Oe),Ee.bind(),ee.setColorMode(new sa([le.ONE,le.ONE_MINUS_SRC_ALPHA,le.ZERO,le.ONE],u.aj.transparent,[!0,!0,!0,!1])),ee.setDepthMode(new To(l.func===le.LESS?le.LEQUAL:l.func,To.ReadOnly,l.range)),ee.setStencilMode(Zo.disabled);const qe=3*E.primitiveLength*2,yt=3*E.primitiveOffset*2*2;if(this.forceManualRenderingForInstanceIDShaders){const gt=U||1;for(let Nt=0;Nt<gt;++Nt)Oe.instancingUniforms.u_instanceID.set(this.program,"u_instanceID",Nt),le.drawElements(le.LINES,qe,le.UNSIGNED_SHORT,yt)}else U&&U>1?le.drawElementsInstanced(le.LINES,qe,le.UNSIGNED_SHORT,yt,U):le.drawElements(le.LINES,qe,le.UNSIGNED_SHORT,yt);C.bind(),ee.program.set(this.program),ee.setDepthMode(l),ee.setStencilMode(p),ee.setColorMode(b)}checkUniforms(r,l,p){if(this.fixedDefines.includes(l)){for(const b of Object.keys(p))if(!p[b].initialized)throw new Error(`Program '${this.name}', from draw '${r}': uniform ${b} not set but required by ${l} being defined`)}}draw(r,l,p,b,C,E,R,B,V,U,Y,ee,le,Ee,xe,Oe){const Me=r.context,qe=Me.gl;if(this.failedToCreate)return;Me.program.set(this.program),Me.setDepthMode(p),Me.setStencilMode(b),Me.setColorMode(C),Me.setCullFace(E);for(const Nt of Object.keys(this.fixedUniforms))this.fixedUniforms[Nt].set(this.program,Nt,R[Nt]);Ee&&Ee.setUniforms(this.program,Me,this.binderUniforms,ee,{zoom:le});const yt={[qe.POINTS]:1,[qe.LINES]:2,[qe.TRIANGLES]:3,[qe.LINE_STRIP]:1}[l];this.checkUniforms(B,"RENDER_SHADOWS",this.shadowUniforms);const gt=Oe&&Oe>0?1:void 0;for(const Nt of Y.get()){const Mt=Nt.vaos||(Nt.vaos={});if((Mt[B]||(Mt[B]=new ad)).bind(Me,this,V,Ee?Ee.getPaintVertexBuffers():[],U,Nt.vertexOffset,xe||[],gt),this.forceManualRenderingForInstanceIDShaders){const Dt=Oe||1;for(let It=0;It<Dt;++It)this.instancingUniforms.u_instanceID.set(this.program,"u_instanceID",It),U?qe.drawElements(l,Nt.primitiveLength*yt,qe.UNSIGNED_SHORT,Nt.primitiveOffset*yt*2):qe.drawArrays(l,Nt.vertexOffset,Nt.vertexLength)}else Oe&&Oe>1?qe.drawElementsInstanced(l,Nt.primitiveLength*yt,qe.UNSIGNED_SHORT,Nt.primitiveOffset*yt*2,Oe):U?qe.drawElements(l,Nt.primitiveLength*yt,qe.UNSIGNED_SHORT,Nt.primitiveOffset*yt*2):qe.drawArrays(l,Nt.vertexOffset,Nt.vertexLength);l===qe.TRIANGLES&&U&&this._drawDebugWireframe(r,p,b,C,U,Nt,ee,le,Ee,Oe)}}}function md(m,r){const l=Math.pow(2,r.tileID.overscaledZ),p=r.tileSize*Math.pow(2,m.transform.tileZoom)/l,b=p*(r.tileID.canonical.x+r.tileID.wrap*l),C=p*r.tileID.canonical.y;return{u_image:0,u_texsize:r.imageAtlasTexture?r.imageAtlasTexture.size:[0,0],u_tile_units_to_pixels:1/u.ar(r,1,m.transform.tileZoom),u_pixel_coord_upper:[b>>16,C>>16],u_pixel_coord_lower:[65535&b,65535&C]}}const af={terrain:0,flat:1},lh=u.ab.mat4.create(),sm=(m,r,l,p,b,C,E,R,B,V,U,Y,ee,le,Ee,xe,Oe,Me)=>{const qe=r.style.light,yt=qe.properties.get("position"),gt=[yt.x,yt.y,yt.z],Nt=u.ab.mat3.create();qe.properties.get("anchor")==="viewport"&&(u.ab.mat3.fromRotation(Nt,-r.transform.angle),u.ab.vec3.transformMat3(gt,gt,Nt));const Mt=qe.properties.get("color"),Dt=r.transform,It={u_matrix:m,u_lightpos:gt,u_lightintensity:qe.properties.get("intensity"),u_lightcolor:[Mt.r,Mt.g,Mt.b],u_vertical_gradient:+l,u_opacity:p,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:lh,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_height_type:af[V],u_base_type:af[U],u_ao:b,u_edge_radius:C,u_width_scale:E,u_flood_light_color:Ee,u_vertical_scale:xe,u_flood_light_intensity:Oe,u_ground_shadow_factor:Me};return Dt.projection.name==="globe"&&(It.u_tile_id=[R.canonical.x,R.canonical.y,1<<R.canonical.z],It.u_zoom_transition=Y,It.u_inv_rot_matrix=le,It.u_merc_center=ee,It.u_up_dir=Dt.projection.upVector(new u.bT(0,0,0),ee[0]*u.ag,ee[1]*u.ag),It.u_height_lift=B),It},lm=(m,r,l,p,b,C)=>({u_matrix:m,u_edge_radius:r,u_width_scale:l,u_vertical_scale:p,u_height_type:af[b],u_base_type:af[C]}),$g=(m,r,l,p,b,C,E,R,B,V,U,Y,ee,le,Ee,xe,Oe)=>{const Me=sm(m,r,l,p,b,C,E,R,V,U,Y,ee,le,Ee,xe,Oe,1,[0,0,0]),qe={u_height_factor:-Math.pow(2,R.overscaledZ)/B.tileSize/8};return u.l(Me,md(r,B),qe)},ch=(m,r)=>({u_matrix:m,u_emissive_strength:r}),cm=(m,r,l,p)=>u.l(ch(m,r),md(l,p)),hp=(m,r,l)=>({u_matrix:m,u_world:l,u_emissive_strength:r}),_v=(m,r,l,p,b)=>u.l(cm(m,r,l,p),{u_world:b}),xv=(m,r,l,p)=>{const b=u.ag/l.tileSize;return{u_matrix:m,u_camera_to_center_distance:r.getCameraToCenterDistance(p),u_extrude_scale:[r.pixelsToGLUnits[0]/b,r.pixelsToGLUnits[1]/b]}},Uu=(m,r,l=1)=>({u_matrix:m,u_color:r.toRenderColor(null),u_overlay:0,u_overlay_scale:l}),um=u.ab.mat4.create(),lo=(m,r,l,p,b,C,E)=>{const R=m.transform,B=R.projection.name==="globe",V=B?u.cN(R.zoom,r.canonical)*R._pixelsPerMercatorPixel:u.ar(l,1,C),U={u_matrix:r.projMatrix,u_extrude_scale:V,u_intensity:E,u_inv_rot_matrix:um,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(B){U.u_inv_rot_matrix=p,U.u_merc_center=b,U.u_tile_id=[r.canonical.x,r.canonical.y,1<<r.canonical.z],U.u_zoom_transition=u.ae(R.zoom);const Y=b[0]*u.ag,ee=b[1]*u.ag;U.u_up_dir=R.projection.upVector(new u.bT(0,0,0),Y,ee)}return U};function mp(m,[r,l,p,b],[C,E]){if(C===E)return[0,0,0,0];const R=255*(m-1)/(m*(E-C));return[r*R,l*R,p*R,b*R]}function pd(m,r,[l,p]){return l===p?0:.5/m+(r-l)*(m-1)/(m*(p-l))}const gd=(m,r,l,p,b,C,E,R,B,V,U,Y,ee,le,Ee,xe,Oe,Me,qe,yt,gt)=>({u_matrix:m,u_normalize_matrix:r,u_globe_matrix:l,u_merc_matrix:p,u_grid_matrix:b,u_tl_parent:C,u_scale_parent:V,u_fade_t:U.mix,u_opacity:U.opacity*Y.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:Y.paint.get("raster-brightness-min"),u_brightness_high:Y.paint.get("raster-brightness-max"),u_saturation_factor:u.cO(Y.paint.get("raster-saturation")),u_contrast_factor:u.cP(Y.paint.get("raster-contrast")),u_spin_weights:yu(Y.paint.get("raster-hue-rotate")),u_perspective_transform:ee,u_raster_elevation:le,u_zoom_transition:E,u_merc_center:R,u_cutoff_params:B,u_colorization_mix:mp(u.cQ,xe,Me),u_colorization_offset:pd(u.cQ,Oe,Me),u_color_ramp:Ee,u_texture_offset:[yt/(qe+2*yt),qe/(qe+2*yt)],u_texture_res:[qe+2*yt,qe+2*yt],u_emissive_strength:gt});function yu(m){m*=Math.PI/180;const r=Math.sin(m),l=Math.cos(m);return[(2*l+1)/3,(-Math.sqrt(3)*r-l+1)/3,(Math.sqrt(3)*r-l+1)/3]}const Mo=.05,dm=(m,r,l,p,b,C,E,R,B,V,U,Y)=>({u_matrix:m,u_normalize_matrix:r,u_globe_matrix:l,u_merc_matrix:p,u_grid_matrix:b,u_tl_parent:C,u_scale_parent:V,u_fade_t:U.mix,u_opacity:U.opacity,u_image0:0,u_image1:1,u_raster_elevation:Y,u_zoom_transition:E,u_merc_center:R,u_cutoff_params:B}),Ag=(m,r,l,p,b,C,E,R,B,V)=>({u_particle_texture:m,u_particle_texture_side_len:r,u_tile_offset:l,u_velocity:p,u_color_ramp:C,u_velocity_res:b,u_max_speed:E,u_uv_offset:R,u_data_scale:[255*B[0],255*B[1]],u_data_offset:V,u_particle_pos_scale:1.1,u_particle_pos_offset:[Mo,Mo]}),Cv=(m,r,l,p,b,C,E,R,B,V)=>({u_particle_texture:m,u_particle_texture_side_len:r,u_velocity:l,u_velocity_res:p,u_max_speed:b,u_speed_factor:C,u_reset_rate:E,u_rand_seed:Math.random(),u_uv_offset:R,u_data_scale:[255*B[0],255*B[1]],u_data_offset:V,u_particle_pos_scale:1.1,u_particle_pos_offset:[Mo,Mo]}),pp=u.ab.mat4.create(),fm=(m,r,l,p,b,C,E,R,B,V,U,Y,ee,le,Ee,xe,Oe,Me,qe,yt,gt,Nt)=>{const Mt=b.transform,Dt={u_is_size_zoom_constant:+(m==="constant"||m==="source"),u_is_size_feature_constant:+(m==="constant"||m==="camera"),u_size_t:r?r.uSizeT:0,u_size:r?r.uSize:0,u_camera_to_center_distance:Mt.getCameraToCenterDistance(qe),u_rotate_symbol:+l,u_aspect_ratio:Mt.width/Mt.height,u_fade_change:b.options.fadeDuration?b.symbolFadeChange:1,u_matrix:C,u_label_plane_matrix:E,u_coord_matrix:R,u_is_text:+V,u_elevation_from_sea:B?1:0,u_pitch_with_map:+p,u_texsize:U,u_texsize_icon:Y,u_texture:0,u_texture_icon:1,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:pp,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:pp,u_up_vector:[0,-1,0],u_color_adj_mat:yt,u_icon_transition:gt||0,u_gamma_scale:p?b.transform.getCameraToCenterDistance(qe)*Math.cos(b.terrain?0:b.transform._pitch):1,u_device_pixel_ratio:u.q.devicePixelRatio,u_is_halo:+ee,u_scale_factor:Nt||1};return qe.name==="globe"&&(Dt.u_tile_id=[le.canonical.x,le.canonical.y,1<<le.canonical.z],Dt.u_zoom_transition=Ee,Dt.u_inv_rot_matrix=Oe,Dt.u_merc_center=xe,Dt.u_camera_forward=Mt._camera.forward(),Dt.u_ecef_origin=u.cR(Mt.globeMatrix,le.toUnwrapped()),Dt.u_tile_matrix=Float32Array.from(Mt.globeMatrix),Dt.u_up_vector=Me),Dt},Dg=(m,r,l,p)=>({u_matrix:m,u_emissive_strength:r,u_opacity:l,u_color:p}),gp=(m,r,l,p,b,C,E,R,B)=>u.l(function(V,U,Y,ee,le,Ee){const{width:xe,height:Oe}=ee.imageManager.getPixelSize(U),Me=Math.pow(2,Ee.tileID.overscaledZ),qe=Ee.tileSize*Math.pow(2,ee.transform.tileZoom)/Me,yt=qe*(Ee.tileID.canonical.x+Ee.tileID.wrap*Me),gt=qe*Ee.tileID.canonical.y;return{u_image:0,u_pattern_tl:Y.tl,u_pattern_br:Y.br,u_texsize:[xe,Oe],u_pattern_size:Y.displaySize,u_pattern_units_to_pixels:le?[ee.transform.width,-1*ee.transform.height]:[1/u.ar(Ee,1,ee.transform.tileZoom),1/u.ar(Ee,1,ee.transform.tileZoom)],u_pixel_coord_upper:[yt>>16,gt>>16],u_pixel_coord_lower:[65535&yt,65535&gt]}}(0,C,E,p,R,B),{u_matrix:m,u_emissive_strength:r,u_opacity:l}),hm=new Float32Array(u.ab.mat4.identity([])),sf=(m,r,l,p,b,C,E,R,B,V,U,Y,ee,le=[0,0,0],Ee)=>{const xe=b.style.light,Oe=xe.properties.get("position"),Me=[-Oe.x,-Oe.y,Oe.z],qe=u.ab.mat3.create();xe.properties.get("anchor")==="viewport"&&(u.ab.mat3.fromRotation(qe,-b.transform.angle),u.ab.vec3.transformMat3(Me,Me,qe));const yt=U.alphaMode==="MASK",gt=xe.properties.get("color").toRenderColor(null),Nt=ee.paint.get("model-ambient-occlusion-intensity"),Mt=ee.paint.get("model-color").constantOr(u.aj.white).toRenderColor(null),Dt=ee.paint.get("model-color-mix-intensity").constantOr(0);return{u_matrix:m,u_lighting_matrix:r,u_normal_matrix:l,u_node_matrix:p||hm,u_lightpos:Me,u_lightintensity:xe.properties.get("intensity"),u_lightcolor:[gt.r,gt.g,gt.b],u_camera_pos:le,u_opacity:C,u_baseTextureIsAlpha:0,u_alphaMask:+yt,u_alphaCutoff:U.alphaCutoff,u_baseColorFactor:[E.r,E.g,E.b,E.a],u_emissiveFactor:[R[0],R[1],R[2],1],u_metallicFactor:B,u_roughnessFactor:V,u_baseColorTexture:ll.BaseColor,u_metallicRoughnessTexture:ll.MetallicRoughness,u_normalTexture:ll.Normal,u_occlusionTexture:ll.Occlusion,u_emissionTexture:ll.Emission,u_lutTexture:ll.LUT,u_color_mix:[Mt.r,Mt.g,Mt.b,Dt],u_aoIntensity:Nt,u_emissive_strength:Y,u_occlusionTextureTransform:Ee||[0,0,0,0]}},uh=(m,r=hm,l=hm)=>({u_matrix:m,u_instance:r,u_node_matrix:l}),vp={fillExtrusion:m=>({u_matrix:new u.bJ(m),u_lightpos:new u.bL(m),u_lightintensity:new u.bM(m),u_lightcolor:new u.bL(m),u_vertical_gradient:new u.bM(m),u_opacity:new u.bM(m),u_edge_radius:new u.bM(m),u_width_scale:new u.bM(m),u_ao:new u.bK(m),u_height_type:new u.bN(m),u_base_type:new u.bN(m),u_tile_id:new u.bL(m),u_zoom_transition:new u.bM(m),u_inv_rot_matrix:new u.bJ(m),u_merc_center:new u.bK(m),u_up_dir:new u.bL(m),u_height_lift:new u.bM(m),u_flood_light_color:new u.bL(m),u_vertical_scale:new u.bM(m),u_flood_light_intensity:new u.bM(m),u_ground_shadow_factor:new u.bL(m)}),fillExtrusionDepth:m=>({u_matrix:new u.bJ(m),u_edge_radius:new u.bM(m),u_width_scale:new u.bM(m),u_vertical_scale:new u.bM(m),u_height_type:new u.bN(m),u_base_type:new u.bN(m)}),fillExtrusionPattern:m=>({u_matrix:new u.bJ(m),u_lightpos:new u.bL(m),u_lightintensity:new u.bM(m),u_lightcolor:new u.bL(m),u_vertical_gradient:new u.bM(m),u_height_factor:new u.bM(m),u_edge_radius:new u.bM(m),u_width_scale:new u.bM(m),u_ao:new u.bK(m),u_height_type:new u.bN(m),u_base_type:new u.bN(m),u_tile_id:new u.bL(m),u_zoom_transition:new u.bM(m),u_inv_rot_matrix:new u.bJ(m),u_merc_center:new u.bK(m),u_up_dir:new u.bL(m),u_height_lift:new u.bM(m),u_image:new u.bN(m),u_texsize:new u.bK(m),u_pixel_coord_upper:new u.bK(m),u_pixel_coord_lower:new u.bK(m),u_tile_units_to_pixels:new u.bM(m),u_opacity:new u.bM(m)}),fillExtrusionGroundEffect:m=>({u_matrix:new u.bJ(m),u_opacity:new u.bM(m),u_ao_pass:new u.bM(m),u_meter_to_tile:new u.bM(m),u_ao:new u.bK(m),u_flood_light_intensity:new u.bM(m),u_flood_light_color:new u.bL(m),u_attenuation:new u.bM(m),u_edge_radius:new u.bM(m),u_fb:new u.bN(m),u_fb_size:new u.bM(m),u_dynamic_offset:new u.bM(m)}),fill:m=>({u_matrix:new u.bJ(m),u_emissive_strength:new u.bM(m)}),fillPattern:m=>({u_matrix:new u.bJ(m),u_emissive_strength:new u.bM(m),u_image:new u.bN(m),u_texsize:new u.bK(m),u_pixel_coord_upper:new u.bK(m),u_pixel_coord_lower:new u.bK(m),u_tile_units_to_pixels:new u.bM(m)}),fillOutline:m=>({u_matrix:new u.bJ(m),u_emissive_strength:new u.bM(m),u_world:new u.bK(m)}),fillOutlinePattern:m=>({u_matrix:new u.bJ(m),u_emissive_strength:new u.bM(m),u_world:new u.bK(m),u_image:new u.bN(m),u_texsize:new u.bK(m),u_pixel_coord_upper:new u.bK(m),u_pixel_coord_lower:new u.bK(m),u_tile_units_to_pixels:new u.bM(m)}),circle:u.cS,collisionBox:m=>({u_matrix:new u.bJ(m),u_camera_to_center_distance:new u.bM(m),u_extrude_scale:new u.bK(m)}),collisionCircle:m=>({u_matrix:new u.bJ(m),u_inv_matrix:new u.bJ(m),u_camera_to_center_distance:new u.bM(m),u_viewport_size:new u.bK(m)}),debug:m=>({u_color:new u.cz(m),u_matrix:new u.bJ(m),u_overlay:new u.bN(m),u_overlay_scale:new u.bM(m)}),clippingMask:m=>({u_matrix:new u.bJ(m)}),heatmap:m=>({u_extrude_scale:new u.bM(m),u_intensity:new u.bM(m),u_matrix:new u.bJ(m),u_inv_rot_matrix:new u.bJ(m),u_merc_center:new u.bK(m),u_tile_id:new u.bL(m),u_zoom_transition:new u.bM(m),u_up_dir:new u.bL(m)}),heatmapTexture:m=>({u_image:new u.bN(m),u_color_ramp:new u.bN(m),u_opacity:new u.bM(m)}),hillshade:m=>({u_matrix:new u.bJ(m),u_image:new u.bN(m),u_latrange:new u.bK(m),u_light:new u.bK(m),u_shadow:new u.cz(m),u_highlight:new u.cz(m),u_emissive_strength:new u.bM(m),u_accent:new u.cz(m)}),hillshadePrepare:m=>({u_matrix:new u.bJ(m),u_image:new u.bN(m),u_dimension:new u.bK(m),u_zoom:new u.bM(m)}),line:u.cT,linePattern:u.cU,raster:m=>({u_matrix:new u.bJ(m),u_normalize_matrix:new u.bJ(m),u_globe_matrix:new u.bJ(m),u_merc_matrix:new u.bJ(m),u_grid_matrix:new u.cA(m),u_tl_parent:new u.bK(m),u_scale_parent:new u.bM(m),u_fade_t:new u.bM(m),u_opacity:new u.bM(m),u_image0:new u.bN(m),u_image1:new u.bN(m),u_brightness_low:new u.bM(m),u_brightness_high:new u.bM(m),u_saturation_factor:new u.bM(m),u_contrast_factor:new u.bM(m),u_spin_weights:new u.bL(m),u_perspective_transform:new u.bK(m),u_raster_elevation:new u.bM(m),u_zoom_transition:new u.bM(m),u_merc_center:new u.bK(m),u_cutoff_params:new u.ca(m),u_colorization_mix:new u.ca(m),u_colorization_offset:new u.bM(m),u_color_ramp:new u.bN(m),u_texture_offset:new u.bK(m),u_texture_res:new u.bK(m),u_emissive_strength:new u.bM(m)}),rasterParticle:m=>({u_matrix:new u.bJ(m),u_normalize_matrix:new u.bJ(m),u_globe_matrix:new u.bJ(m),u_merc_matrix:new u.bJ(m),u_grid_matrix:new u.cA(m),u_tl_parent:new u.bK(m),u_scale_parent:new u.bM(m),u_fade_t:new u.bM(m),u_opacity:new u.bM(m),u_image0:new u.bN(m),u_image1:new u.bN(m),u_raster_elevation:new u.bM(m),u_zoom_transition:new u.bM(m),u_merc_center:new u.bK(m),u_cutoff_params:new u.ca(m)}),rasterParticleTexture:m=>({u_texture:new u.bN(m),u_opacity:new u.bM(m)}),rasterParticleDraw:m=>({u_particle_texture:new u.bN(m),u_particle_texture_side_len:new u.bM(m),u_tile_offset:new u.bK(m),u_velocity:new u.bN(m),u_color_ramp:new u.bN(m),u_velocity_res:new u.bK(m),u_max_speed:new u.bM(m),u_uv_offset:new u.bK(m),u_data_scale:new u.bK(m),u_data_offset:new u.bM(m),u_particle_pos_scale:new u.bM(m),u_particle_pos_offset:new u.bK(m)}),rasterParticleUpdate:m=>({u_particle_texture:new u.bN(m),u_particle_texture_side_len:new u.bM(m),u_velocity:new u.bN(m),u_velocity_res:new u.bK(m),u_max_speed:new u.bM(m),u_speed_factor:new u.bM(m),u_reset_rate:new u.bM(m),u_rand_seed:new u.bM(m),u_uv_offset:new u.bK(m),u_data_scale:new u.bK(m),u_data_offset:new u.bM(m),u_particle_pos_scale:new u.bM(m),u_particle_pos_offset:new u.bK(m)}),symbol:m=>({u_is_size_zoom_constant:new u.bN(m),u_is_size_feature_constant:new u.bN(m),u_size_t:new u.bM(m),u_size:new u.bM(m),u_camera_to_center_distance:new u.bM(m),u_rotate_symbol:new u.bN(m),u_aspect_ratio:new u.bM(m),u_fade_change:new u.bM(m),u_matrix:new u.bJ(m),u_label_plane_matrix:new u.bJ(m),u_coord_matrix:new u.bJ(m),u_is_text:new u.bN(m),u_elevation_from_sea:new u.bN(m),u_pitch_with_map:new u.bN(m),u_texsize:new u.bK(m),u_texsize_icon:new u.bK(m),u_texture:new u.bN(m),u_texture_icon:new u.bN(m),u_gamma_scale:new u.bM(m),u_device_pixel_ratio:new u.bM(m),u_tile_id:new u.bL(m),u_zoom_transition:new u.bM(m),u_inv_rot_matrix:new u.bJ(m),u_merc_center:new u.bK(m),u_camera_forward:new u.bL(m),u_tile_matrix:new u.bJ(m),u_up_vector:new u.bL(m),u_ecef_origin:new u.bL(m),u_is_halo:new u.bN(m),u_icon_transition:new u.bM(m),u_color_adj_mat:new u.bJ(m),u_scale_factor:new u.bM(m)}),background:m=>({u_matrix:new u.bJ(m),u_emissive_strength:new u.bM(m),u_opacity:new u.bM(m),u_color:new u.cz(m)}),backgroundPattern:m=>({u_matrix:new u.bJ(m),u_emissive_strength:new u.bM(m),u_opacity:new u.bM(m),u_image:new u.bN(m),u_pattern_tl:new u.bK(m),u_pattern_br:new u.bK(m),u_texsize:new u.bK(m),u_pattern_size:new u.bK(m),u_pixel_coord_upper:new u.bK(m),u_pixel_coord_lower:new u.bK(m),u_pattern_units_to_pixels:new u.bK(m)}),terrainRaster:m=>({u_matrix:new u.bJ(m),u_image0:new u.bN(m),u_skirt_height:new u.bM(m),u_ground_shadow_factor:new u.bL(m)}),skybox:m=>({u_matrix:new u.bJ(m),u_sun_direction:new u.bL(m),u_cubemap:new u.bN(m),u_opacity:new u.bM(m),u_temporal_offset:new u.bM(m)}),skyboxGradient:m=>({u_matrix:new u.bJ(m),u_color_ramp:new u.bN(m),u_center_direction:new u.bL(m),u_radius:new u.bM(m),u_opacity:new u.bM(m),u_temporal_offset:new u.bM(m)}),skyboxCapture:m=>({u_matrix_3f:new u.cA(m),u_sun_direction:new u.bL(m),u_sun_intensity:new u.bM(m),u_color_tint_r:new u.ca(m),u_color_tint_m:new u.ca(m),u_luminance:new u.bM(m)}),globeRaster:m=>({u_proj_matrix:new u.bJ(m),u_globe_matrix:new u.bJ(m),u_normalize_matrix:new u.bJ(m),u_merc_matrix:new u.bJ(m),u_zoom_transition:new u.bM(m),u_merc_center:new u.bK(m),u_image0:new u.bN(m),u_grid_matrix:new u.cA(m),u_skirt_height:new u.bM(m),u_far_z_cutoff:new u.bM(m),u_frustum_tl:new u.bL(m),u_frustum_tr:new u.bL(m),u_frustum_br:new u.bL(m),u_frustum_bl:new u.bL(m),u_globe_pos:new u.bL(m),u_globe_radius:new u.bM(m),u_viewport:new u.bK(m)}),globeAtmosphere:m=>({u_frustum_tl:new u.bL(m),u_frustum_tr:new u.bL(m),u_frustum_br:new u.bL(m),u_frustum_bl:new u.bL(m),u_horizon:new u.bM(m),u_transition:new u.bM(m),u_fadeout_range:new u.bM(m),u_color:new u.ca(m),u_high_color:new u.ca(m),u_space_color:new u.ca(m),u_temporal_offset:new u.bM(m),u_horizon_angle:new u.bM(m)}),model:m=>({u_matrix:new u.bJ(m),u_lighting_matrix:new u.bJ(m),u_normal_matrix:new u.bJ(m),u_node_matrix:new u.bJ(m),u_lightpos:new u.bL(m),u_lightintensity:new u.bM(m),u_lightcolor:new u.bL(m),u_camera_pos:new u.bL(m),u_opacity:new u.bM(m),u_baseColorFactor:new u.ca(m),u_emissiveFactor:new u.ca(m),u_metallicFactor:new u.bM(m),u_roughnessFactor:new u.bM(m),u_baseTextureIsAlpha:new u.bN(m),u_alphaMask:new u.bN(m),u_alphaCutoff:new u.bM(m),u_baseColorTexture:new u.bN(m),u_metallicRoughnessTexture:new u.bN(m),u_normalTexture:new u.bN(m),u_occlusionTexture:new u.bN(m),u_emissionTexture:new u.bN(m),u_lutTexture:new u.bN(m),u_color_mix:new u.ca(m),u_aoIntensity:new u.bM(m),u_emissive_strength:new u.bM(m),u_occlusionTextureTransform:new u.ca(m)}),modelDepth:m=>({u_matrix:new u.bJ(m),u_instance:new u.bJ(m),u_node_matrix:new u.bJ(m)}),groundShadow:m=>({u_matrix:new u.bJ(m),u_ground_shadow_factor:new u.bL(m)}),stars:m=>({u_matrix:new u.bJ(m),u_up:new u.bL(m),u_right:new u.bL(m),u_intensity_multiplier:new u.bM(m)}),snowParticle:m=>({u_modelview:new u.bJ(m),u_projection:new u.bJ(m),u_time:new u.bM(m),u_cam_pos:new u.bL(m),u_velocityConeAperture:new u.bM(m),u_velocity:new u.bM(m),u_horizontalOscillationRadius:new u.bM(m),u_horizontalOscillationRate:new u.bM(m),u_boxSize:new u.bM(m),u_billboardSize:new u.bM(m),u_simpleShapeParameters:new u.bK(m),u_screenSize:new u.bK(m),u_thinningCenterPos:new u.bK(m),u_thinningShape:new u.bL(m),u_thinningAffectedRatio:new u.bM(m),u_thinningParticleOffset:new u.bM(m),u_particleColor:new u.ca(m),u_direction:new u.bL(m)}),rainParticle:m=>({u_modelview:new u.bJ(m),u_projection:new u.bJ(m),u_time:new u.bM(m),u_cam_pos:new u.bL(m),u_texScreen:new u.bN(m),u_velocityConeAperture:new u.bM(m),u_velocity:new u.bM(m),u_boxSize:new u.bM(m),u_rainDropletSize:new u.bK(m),u_distortionStrength:new u.bM(m),u_rainDirection:new u.bL(m),u_color:new u.ca(m),u_screenSize:new u.bK(m),u_thinningCenterPos:new u.bK(m),u_thinningShape:new u.bL(m),u_thinningAffectedRatio:new u.bM(m),u_thinningParticleOffset:new u.bM(m),u_shapeDirectionalPower:new u.bM(m),u_shapeNormalPower:new u.bM(m),u_mode:new u.bM(m)}),vignette:m=>({u_vignetteShape:new u.bL(m),u_vignetteColor:new u.ca(m)}),occlusion:m=>({u_matrix:new u.bJ(m),u_anchorPos:new u.bL(m),u_screenSizePx:new u.bK(m),u_occluderSizePx:new u.bK(m),u_color:new u.ca(m)})};class Nc{constructor(r,l,p,b){this.id=Nc.uniqueIdxCounter,Nc.uniqueIdxCounter++,this.context=r;const C=r.gl;this.buffer=C.createBuffer(),this.dynamicDraw=!!p,this.context.unbindVAO(),r.bindElementBuffer.set(this.buffer),C.bufferData(C.ELEMENT_ARRAY_BUFFER,l.arrayBuffer,this.dynamicDraw?C.DYNAMIC_DRAW:C.STATIC_DRAW),this.dynamicDraw||b||l.destroy()}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(r){this.id=Nc.uniqueIdxCounter,Nc.uniqueIdxCounter++;const l=this.context.gl;this.context.unbindVAO(),this.bind(),l.bufferSubData(l.ELEMENT_ARRAY_BUFFER,0,r.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}Nc.uniqueIdxCounter=0;const Bc={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class vd{constructor(r,l,p,b,C,E){this.length=l.length,this.attributes=p,this.itemSize=l.bytesPerElement,this.dynamicDraw=b,this.instanceCount=E,this.context=r;const R=r.gl;this.buffer=R.createBuffer(),r.bindVertexBuffer.set(this.buffer),R.bufferData(R.ARRAY_BUFFER,l.arrayBuffer,this.dynamicDraw?R.DYNAMIC_DRAW:R.STATIC_DRAW),this.dynamicDraw||C||l.destroy()}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(r){const l=this.context.gl;this.bind(),l.bufferSubData(l.ARRAY_BUFFER,0,r.arrayBuffer)}enableAttributes(r,l){for(let p=0;p<this.attributes.length;p++){const b=l.attributes[this.attributes[p].name];b!==void 0&&r.enableVertexAttribArray(b)}}setVertexAttribPointers(r,l,p){for(let b=0;b<this.attributes.length;b++){const C=this.attributes[b],E=l.attributes[C.name];E!==void 0&&r.vertexAttribPointer(E,C.components,r[Bc[C.type]],!1,this.itemSize,C.offset+this.itemSize*(p||0))}}setVertexAttribDivisor(r,l,p){for(let b=0;b<this.attributes.length;b++){const C=l.attributes[this.attributes[b].name];C!==void 0&&this.instanceCount&&this.instanceCount>0&&r.vertexAttribDivisor(C,p)}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class lf{constructor(r,l,p,b,C){this.context=r,this.width=l,this.height=p;const E=this.framebuffer=r.gl.createFramebuffer();b&&(this.colorAttachment=new ln(r,E)),C&&(this.depthAttachmentType=C,this.depthAttachment=C==="renderbuffer"?new Tr(r,E):new Ui(r,E))}destroy(){const r=this.context.gl;if(this.colorAttachment){const l=this.colorAttachment.get();l&&r.deleteTexture(l)}if(this.depthAttachment&&this.depthAttachmentType)if(this.depthAttachmentType==="renderbuffer"){const l=this.depthAttachment.get();l&&r.deleteRenderbuffer(l)}else{const l=this.depthAttachment.get();l&&r.deleteTexture(l)}r.deleteFramebuffer(this.framebuffer)}}class cf{constructor(r,l){this.gl=r,this.clearColor=new pu(this),this.clearDepth=new tf(this),this.clearStencil=new sd(this),this.colorMask=new Od(this),this.depthMask=new Rd(this),this.stencilMask=new Jf(this),this.stencilFunc=new Qf(this),this.stencilOp=new ld(this),this.stencilTest=new $d(this),this.depthRange=new eh(this),this.depthTest=new _c(this),this.depthFunc=new Ad(this),this.blend=new cd(this),this.blendFunc=new nf(this),this.blendColor=new th(this),this.blendEquation=new nh(this),this.cullFace=new Pc(this),this.cullFaceSide=new rh(this),this.frontFace=new gu(this),this.program=new ud(this),this.activeTexture=new om(this),this.viewport=new rf(this),this.bindFramebuffer=new Hc(this),this.bindRenderbuffer=new vu(this),this.bindTexture=new am(this),this.bindVertexBuffer=new ih(this),this.bindElementBuffer=new fp(this),this.bindVertexArrayOES=new of(this),this.pixelStoreUnpack=new dd(this),this.pixelStoreUnpackPremultiplyAlpha=new oh(this),this.pixelStoreUnpackFlipY=new fd(this),this.options=l?Object.assign({},l):{},this.options.extTextureFilterAnisotropicForceOff||(this.extTextureFilterAnisotropic=r.getExtension("EXT_texture_filter_anisotropic")||r.getExtension("MOZ_EXT_texture_filter_anisotropic")||r.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=r.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT))),this.extDebugRendererInfo=r.getExtension("WEBGL_debug_renderer_info"),this.extDebugRendererInfo&&(this.renderer=r.getParameter(this.extDebugRendererInfo.UNMASKED_RENDERER_WEBGL),this.vendor=r.getParameter(this.extDebugRendererInfo.UNMASKED_VENDOR_WEBGL)),this.forceManualRenderingForInstanceIDShaders=l&&!!l.forceManualRenderingForInstanceIDShaders||this.renderer&&this.renderer.indexOf("PowerVR")!==-1,this.options.extTextureFloatLinearForceOff||(this.extTextureFloatLinear=r.getExtension("OES_texture_float_linear")),this.extRenderToTextureHalfFloat=r.getExtension("EXT_color_buffer_half_float"),this.extTimerQuery=r.getExtension("EXT_disjoint_timer_query_webgl2"),this.maxTextureSize=r.getParameter(r.MAX_TEXTURE_SIZE),this.maxPointSize=r.getParameter(r.ALIASED_POINT_SIZE_RANGE)[1]}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArrayOES.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(r,l,p){return new Nc(this,r,l,p)}createVertexBuffer(r,l,p,b,C){return new vd(this,r,l,p,b,C)}createRenderbuffer(r,l,p){const b=this.gl,C=b.createRenderbuffer();return this.bindRenderbuffer.set(C),b.renderbufferStorage(b.RENDERBUFFER,r,l,p),this.bindRenderbuffer.set(null),C}createFramebuffer(r,l,p,b){return new lf(this,r,l,p,b)}clear({color:r,depth:l,stencil:p,colorMask:b}){const C=this.gl;let E=0;r&&(E|=C.COLOR_BUFFER_BIT,this.clearColor.set(r),this.colorMask.set(b||[!0,!0,!0,!0])),l!==void 0&&(E|=C.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(l),this.depthMask.set(!0)),p!==void 0&&(E|=C.STENCIL_BUFFER_BIT,this.clearStencil.set(p),this.stencilMask.set(255)),C.clear(E)}setCullFace(r){r.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(r.mode),this.frontFace.set(r.frontFace))}setDepthMode(r){r.func!==this.gl.ALWAYS||r.mask?(this.depthTest.set(!0),this.depthFunc.set(r.func),this.depthMask.set(r.mask),this.depthRange.set(r.range)):this.depthTest.set(!1)}setStencilMode(r){r.test.func!==this.gl.ALWAYS||r.mask?(this.stencilTest.set(!0),this.stencilMask.set(r.mask),this.stencilOp.set([r.fail,r.depthFail,r.pass]),this.stencilFunc.set({func:r.test.func,ref:r.ref,mask:r.test.mask})):this.stencilTest.set(!1)}setColorMode(r){u.bn(r.blendFunction,sa.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(r.blendFunction),this.blendColor.set(r.blendColor),r.blendEquation?this.blendEquation.set(r.blendEquation):this.blendEquation.setDefault()),this.colorMask.set(r.mask)}unbindVAO(){this.bindVertexArrayOES.set(null)}}let zd;function dh(m,r,l,p,b,C,E){const R=m.context,B=R.gl,V=m.transform,U=m.getOrCreateProgram("collisionBox"),Y=[];let ee=0,le=0;for(let gt=0;gt<p.length;gt++){const Nt=p[gt],Mt=r.getTile(Nt),Dt=Mt.getBucket(l);if(!Dt)continue;const It=yo(Nt,Dt,V);let zt=It;b[0]===0&&b[1]===0||(zt=m.translatePosMatrix(It,Mt,b,C));const fn=E?Dt.textCollisionBox:Dt.iconCollisionBox,nr=Dt.collisionCircleArray;if(nr.length>0){const Hn=u.ab.mat4.create(),Er=zt;u.ab.mat4.mul(Hn,Dt.placementInvProjMatrix,V.glCoordMatrix),u.ab.mat4.mul(Hn,Hn,Dt.placementViewportMatrix),Y.push({circleArray:nr,circleOffset:le,transform:Er,invTransform:Hn,projection:Dt.getProjection()}),ee+=nr.length/4,le=ee}fn&&(m.terrain&&m.terrain.setupElevationDraw(Mt,U),U.draw(m,B.LINES,To.disabled,Zo.disabled,m.colorModeForRenderPass(),ea.disabled,xv(zt,V,Mt,Dt.getProjection()),l.id,fn.layoutVertexBuffer,fn.indexBuffer,fn.segments,null,V.zoom,null,[fn.collisionVertexBuffer,fn.collisionVertexBufferExt]))}if(!E||!Y.length)return;const Ee=m.getOrCreateProgram("collisionCircle"),xe=new u.cV;xe.resize(4*ee),xe._trim();let Oe=0;for(const gt of Y)for(let Nt=0;Nt<gt.circleArray.length/4;Nt++){const Mt=4*Nt,Dt=gt.circleArray[Mt+0],It=gt.circleArray[Mt+1],zt=gt.circleArray[Mt+2],fn=gt.circleArray[Mt+3];xe.emplace(Oe++,Dt,It,zt,fn,0),xe.emplace(Oe++,Dt,It,zt,fn,1),xe.emplace(Oe++,Dt,It,zt,fn,2),xe.emplace(Oe++,Dt,It,zt,fn,3)}(!zd||zd.length<2*ee)&&(zd=function(gt){const Nt=2*gt,Mt=new u.aU;Mt.resize(Nt),Mt._trim();for(let Dt=0;Dt<Nt;Dt++){const It=6*Dt;Mt.uint16[It+0]=4*Dt+0,Mt.uint16[It+1]=4*Dt+1,Mt.uint16[It+2]=4*Dt+2,Mt.uint16[It+3]=4*Dt+2,Mt.uint16[It+4]=4*Dt+3,Mt.uint16[It+5]=4*Dt+0}return Mt}(ee));const Me=R.createIndexBuffer(zd,!0),qe=R.createVertexBuffer(xe,u.cW.members,!0);for(const gt of Y){const Nt={u_matrix:gt.transform,u_inv_matrix:gt.invTransform,u_camera_to_center_distance:(yt=V).getCameraToCenterDistance(gt.projection),u_viewport_size:[yt.width,yt.height]};Ee.draw(m,B.TRIANGLES,To.disabled,Zo.disabled,m.colorModeForRenderPass(),ea.disabled,Nt,l.id,qe,Me,u.b7.simpleSegment(0,2*gt.circleOffset,gt.circleArray.length,gt.circleArray.length/2),null,V.zoom)}var yt;qe.destroy(),Me.destroy()}const fh=u.ab.mat4.create();function Wc(m){const r=m._camera.getWorldToCamera(m.worldSize,1),l=u.ab.mat4.multiply([],r,m.globeMatrix);u.ab.mat4.invert(l,l);const p=[0,0,0],b=[0,1,0,0];return u.ab.vec4.transformMat4(b,b,l),p[0]=b[0],p[1]=b[1],p[2]=b[2],u.ab.vec3.normalize(p,p),p}function Ws({width:m,height:r,anchor:l,textOffset:p,textScale:b},C){const{horizontalAlign:E,verticalAlign:R}=u.bD(l),B=-(E-.5)*m,V=-(R-.5)*r,U=u.bC(l,p);return new u.P((B/b+U[0])*C,(V/b+U[1])*C)}function hh(m,r,l,p,b,C,E,R,B,V,U){const Y=m.text.placedSymbolArray,ee=m.text.dynamicLayoutVertexArray,le=m.icon.dynamicLayoutVertexArray,Ee={},xe=m.getProjection(),Oe=Qo(R,xe,C),Me=C.elevation,qe=xe.upVectorScale(R.canonical,C.center.lat,C.worldSize).metersToTile;ee.clear();for(let yt=0;yt<Y.length;yt++){const gt=Y.get(yt),{tileAnchorX:Nt,tileAnchorY:Mt,numGlyphs:Dt}=gt,It=gt.hidden||!gt.crossTileID||m.allowVerticalPlacement&&!gt.placedOrientation?null:p[gt.crossTileID];if(It){let zt=0,fn=0,nr=0;if(Me){const Qn=Me?Me.getAtTileOffset(R,Nt,Mt):0,[xi,Br,Or]=xe.upVector(R.canonical,Nt,Mt);zt=Qn*xi*qe,fn=Qn*Br*qe,nr=Qn*Or*qe}let[Hn,Er,mr,Dn]=De(gt.projectedAnchorX+zt,gt.projectedAnchorY+fn,gt.projectedAnchorZ+nr,l?Oe:E);const or=$t(C.getCameraToCenterDistance(xe),Dn);let Gr=b.evaluateSizeForFeature(m.textSizeData,V,gt)*or/u.bw;l&&(Gr*=m.tilePixelRatio/B);const On=Ws(It,Gr);l?({x:Hn,y:Er,z:mr}=xe.projectTilePoint(Nt+On.x,Mt+On.y,R.canonical),[Hn,Er,mr]=De(Hn+zt,Er+fn,mr+nr,E)):(r&&On._rotate(-C.angle),Hn+=On.x,Er+=On.y,mr=0);const Rr=m.allowVerticalPlacement&&gt.placedOrientation===u.bq.vertical?Math.PI/2:0;for(let Qn=0;Qn<Dt;Qn++)u.bt(ee,Hn,Er,mr,Rr);U&&gt.associatedIconIndex>=0&&(Ee[gt.associatedIconIndex]={x:Hn,y:Er,z:mr,angle:Rr})}else pi(Dt,ee)}if(U){le.clear();const yt=m.icon.placedSymbolArray;for(let gt=0;gt<yt.length;gt++){const Nt=yt.get(gt),{numGlyphs:Mt}=Nt,Dt=Ee[gt];if(Nt.hidden||!Dt)pi(Mt,le);else{const{x:It,y:zt,z:fn,angle:nr}=Dt;for(let Hn=0;Hn<Mt;Hn++)u.bt(le,It,zt,fn,nr)}}m.icon.dynamicLayoutVertexBuffer.updateData(le)}m.text.dynamicLayoutVertexBuffer.updateData(ee)}function uf(m,r,l,p,b,C,E={}){const R=l.paint.get("icon-translate"),B=l.paint.get("text-translate"),V=l.paint.get("icon-translate-anchor"),U=l.paint.get("text-translate-anchor"),Y=l.layout.get("icon-rotation-alignment"),ee=l.layout.get("text-rotation-alignment"),le=l.layout.get("icon-pitch-alignment"),Ee=l.layout.get("text-pitch-alignment"),xe=l.layout.get("icon-keep-upright"),Oe=l.layout.get("text-keep-upright"),Me=l.paint.get("icon-color-saturation"),qe=l.paint.get("icon-color-contrast"),yt=l.paint.get("icon-color-brightness-min"),gt=l.paint.get("icon-color-brightness-max"),Nt=l.layout.get("symbol-elevation-reference")==="sea",Mt=m.context,Dt=Mt.gl,It=m.transform,zt=Y==="map",fn=ee==="map",nr=le==="map",Hn=Ee==="map",Er=l.layout.get("symbol-sort-key").constantOr(1)!==void 0;let mr=!1;const Dn=m.depthModeForSublayer(0,To.ReadOnly),or=[u.at(It.center.lng),u.aA(It.center.lat)],Gr=l.layout.get("text-variable-anchor"),On=It.projection.name==="globe",Rr=[],Qn=[0,-1,0];for(const xi of p){const Br=r.getTile(xi),Or=Br.getBucket(l);if(!Or||Or.projection.name==="mercator"&&On||Or.fullyClipped)continue;const ci=Or.projection.name==="globe",vi=ci?u.ae(It.zoom):0,Gi=Qo(xi,Or.getProjection(),It),Yi=It.calculatePixelsToTileUnitsMatrix(Br),ra=Gr&&Or.hasTextData(),Bo=Or.hasIconTextFit()&&ra&&Or.hasIconData(),No=Or.getProjection().createInversionMatrix(It,xi.canonical),va=xs=>{It.depthOcclusionForSymbolsAndCircles&&(l.hasInitialOcclusionOpacityProperties||m.terrain)&&(xs.push("DEPTH_D24"),xs.push("DEPTH_OCCLUSION"))},os=()=>{const xs=zt&&l.layout.get("symbol-placement")!=="point",ws=[];va(ws);const ol=xs||Bo,Hl=l.paint.get("icon-image-cross-fade").constantOr(0);m.terrainRenderModeElevated()&&nr&&ws.push("PITCH_WITH_MAP_TERRAIN"),ci&&(ws.push("PROJECTION_GLOBE_VIEW"),ol&&ws.push("PROJECTED_POS_ON_VIEWPORT")),Hl>0&&ws.push("ICON_TRANSITION"),Or.icon.zOffsetVertexBuffer&&ws.push("Z_OFFSET"),Me===0&&qe===0&&yt===0&&gt===1||ws.push("COLOR_ADJUSTMENT"),Or.sdfIcons&&ws.push("RENDER_SDF");const Cl=Or.icon.programConfigurations.get(l.id),Pl=m.getOrCreateProgram("symbol",{config:Cl,defines:ws}),Rc=Br.imageAtlasTexture?Br.imageAtlasTexture.size:[0,0],Cc=Or.iconSizeData,al=u.bp(Cc,It.zoom),zs=nr||It.pitch!==0,$s=Ve(Gi,Br.tileID.canonical,nr,zt,It,Or.getProjection(),Yi),us=Ze(Gi,Br.tileID.canonical,nr,zt,It,Or.getProjection(),Yi),fl=m.translatePosMatrix(us,Br,R,V,!0),Ul=m.translatePosMatrix(Gi,Br,R,V),Ps=ol?fh:$s,Sc=zt&&!nr&&!xs;let qc=Qn;!On&&!It.mercatorFromTransition||zt||(qc=Wc(It));const kc=ci?qc:Qn,mc=l.getColorAdjustmentMatrix(Me,qe,yt,gt),xu=fm(Cc.kind,al,Sc,nr,m,Ul,Ps,fl,Nt,!1,Rc,[0,0],!0,xi,vi,or,No,kc,Or.getProjection(),mc,Hl),Yc=Br.imageAtlasTexture?Br.imageAtlasTexture:null,jc=l.layout.get("icon-size").constantOr(0)!==1||Or.iconsNeedLinear,Hd=Or.sdfIcons||m.options.rotating||m.options.zooming||jc||zs?Dt.LINEAR:Dt.NEAREST,Jc=Or.sdfIcons&&l.paint.get("icon-halo-width").constantOr(1)!==0,Ud=m.terrain&&nr&&xs?u.ab.mat4.invert(u.ab.mat4.create(),$s):fh;if(xs&&Or.icon){const If=It.elevation,Om=If?If.getAtTileOffsetFunc(xi,It.center.lat,It.worldSize,Or.getProjection()):null,Lp=be(Gi,Br.tileID.canonical,nr,zt,It,Or.getProjection(),Yi);Wn(Or,Gi,m,!1,Lp,us,nr,xe,Om,xi)}return{program:Pl,buffers:Or.icon,uniformValues:xu,atlasTexture:Yc,atlasTextureIcon:null,atlasInterpolation:Hd,atlasInterpolationIcon:null,isSDF:Or.sdfIcons,hasHalo:Jc,tile:Br,labelPlaneMatrixInv:Ud}},Es=()=>{const xs=fn&&l.layout.get("symbol-placement")!=="point",ws=[],ol=xs||Gr||Bo;m.terrainRenderModeElevated()&&Hn&&ws.push("PITCH_WITH_MAP_TERRAIN"),ci&&(ws.push("PROJECTION_GLOBE_VIEW"),ol&&ws.push("PROJECTED_POS_ON_VIEWPORT")),Or.text.zOffsetVertexBuffer&&ws.push("Z_OFFSET"),Or.iconsInText&&ws.push("RENDER_TEXT_AND_SYMBOL"),ws.push("RENDER_SDF"),va(ws);const Hl=Or.text.programConfigurations.get(l.id),Cl=m.getOrCreateProgram("symbol",{config:Hl,defines:ws});let Pl,Rc=[0,0],Cc=null;const al=Or.textSizeData;Or.iconsInText&&(Rc=Br.imageAtlasTexture?Br.imageAtlasTexture.size:[0,0],Cc=Br.imageAtlasTexture?Br.imageAtlasTexture:null,Pl=Hn||It.pitch!==0||m.options.rotating||m.options.zooming||al.kind==="composite"||al.kind==="camera"?Dt.LINEAR:Dt.NEAREST);const zs=Br.glyphAtlasTexture?Br.glyphAtlasTexture.size:[0,0],$s=l.layout.get("text-size-scale-range"),us=u.aw(m.scaleFactor,$s[0],$s[1]),fl=u.bp(al,It.zoom,us),Ul=Ve(Gi,Br.tileID.canonical,Hn,fn,It,Or.getProjection(),Yi),Ps=Ze(Gi,Br.tileID.canonical,Hn,fn,It,Or.getProjection(),Yi),Sc=m.translatePosMatrix(Ps,Br,B,U,!0),qc=m.translatePosMatrix(Gi,Br,B,U),kc=ol?fh:Ul,mc=fn&&!Hn&&!xs;let xu=Qn;!On&&!It.mercatorFromTransition||fn||(xu=Wc(It));const Yc=fm(al.kind,fl,mc,Hn,m,qc,kc,Sc,Nt,!0,zs,Rc,!0,xi,vi,or,No,ci?xu:Qn,Or.getProjection(),null,null,us),jc=Br.glyphAtlasTexture?Br.glyphAtlasTexture:null,Hd=Dt.LINEAR,Jc=l.paint.get("text-halo-width").constantOr(1)!==0,Ud=m.terrain&&Hn&&xs?u.ab.mat4.invert(u.ab.mat4.create(),Ul):fh;if(xs&&Or.text){const If=It.elevation,Om=If?If.getAtTileOffsetFunc(xi,It.center.lat,It.worldSize,Or.getProjection()):null,Lp=be(Gi,Br.tileID.canonical,Hn,fn,It,Or.getProjection(),Yi);Wn(Or,Gi,m,!0,Lp,Ps,Hn,Oe,Om,xi)}return{program:Cl,buffers:Or.text,uniformValues:Yc,atlasTexture:jc,atlasTextureIcon:Cc,atlasInterpolation:Hd,atlasInterpolationIcon:Pl,isSDF:!0,hasHalo:Jc,tile:Br,labelPlaneMatrixInv:Ud}},tl=Or.icon.segments.get().length,js=Or.text.segments.get().length,ba=tl&&!E.onlyText?os():null,ms=js&&!E.onlyIcons?Es():null,xo=l.paint.get("icon-opacity").constantOr(1),Ka=l.paint.get("text-opacity").constantOr(1);if(Er&&Or.canOverlap){mr=!0;const xs=xo&&!E.onlyText?Or.icon.segments.get():[],ws=Ka&&!E.onlyIcons?Or.text.segments.get():[];for(const ol of xs)Rr.push({segments:new u.b7([ol]),sortKey:ol.sortKey,state:ba});for(const ol of ws)Rr.push({segments:new u.b7([ol]),sortKey:ol.sortKey,state:ms})}else E.onlyText||Rr.push({segments:xo?Or.icon.segments:new u.b7([]),sortKey:0,state:ba}),E.onlyIcons||Rr.push({segments:Ka?Or.text.segments:new u.b7([]),sortKey:0,state:ms})}mr&&Rr.sort((xi,Br)=>xi.sortKey-Br.sortKey);for(const xi of Rr){const Br=xi.state;if(Br)if(m.terrain?m.terrain.setupElevationDraw(Br.tile,Br.program,{useDepthForOcclusion:It.depthOcclusionForSymbolsAndCircles,labelPlaneMatrixInv:Br.labelPlaneMatrixInv}):m.setupDepthForOcclusion(It.depthOcclusionForSymbolsAndCircles,Br.program),Mt.activeTexture.set(Dt.TEXTURE0),Br.atlasTexture&&Br.atlasTexture.bind(Br.atlasInterpolation,Dt.CLAMP_TO_EDGE,!0),Br.atlasTextureIcon&&(Mt.activeTexture.set(Dt.TEXTURE1),Br.atlasTextureIcon&&Br.atlasTextureIcon.bind(Br.atlasInterpolationIcon,Dt.CLAMP_TO_EDGE,!0)),m.uploadCommonLightUniforms(m.context,Br.program),Br.hasHalo){const Or=Br.uniformValues;Or.u_is_halo=1,mh(Br.buffers,xi.segments,l,m,Br.program,Dn,b,C,Or,2),Or.u_is_halo=0}else{if(Br.isSDF){const Or=Br.uniformValues;Br.hasHalo&&(Or.u_is_halo=1,mh(Br.buffers,xi.segments,l,m,Br.program,Dn,b,C,Or,1)),Or.u_is_halo=0}mh(Br.buffers,xi.segments,l,m,Br.program,Dn,b,C,Br.uniformValues,1)}}}function mh(m,r,l,p,b,C,E,R,B,V){const U=[m.dynamicLayoutVertexBuffer,m.opacityVertexBuffer,m.iconTransitioningVertexBuffer,m.globeExtVertexBuffer,m.zOffsetVertexBuffer];b.draw(p,p.context.gl.TRIANGLES,C,E,R,ea.disabled,B,l.id,m.layoutVertexBuffer,m.indexBuffer,r,l.paint,p.transform.zoom,m.programConfigurations.get(l.id),U,V)}function yp(m,r,l,p,b,C,E){const R=m.context.gl,B=l.paint.get("fill-pattern"),V=l.is3D(),U=V?m.stencilModeFor3D():Zo.disabled,Y=B&&B.constantOr(1);let ee,le,Ee,xe,Oe;E?(le=Y&&!l.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",ee=R.LINES):(le=Y?"fillPattern":"fill",ee=R.TRIANGLES);for(const Me of p){const qe=r.getTile(Me);if(Y&&!qe.patternsLoaded())continue;const yt=qe.getBucket(l);if(!yt)continue;m.prepareDrawTile();const gt=yt.programConfigurations.get(l.id),Nt=m.isTileAffectedByFog(Me),Mt=m.getOrCreateProgram(le,{config:gt,overrideFog:Nt});Y&&(m.context.activeTexture.set(R.TEXTURE0),qe.imageAtlasTexture&&qe.imageAtlasTexture.bind(R.LINEAR,R.CLAMP_TO_EDGE),gt.updatePaintBuffers());const Dt=B.constantOr(null);if(Dt&&qe.imageAtlas){const fn=qe.imageAtlas,nr=u.A.from(Dt).getPrimary().scaleSelf(u.q.devicePixelRatio).serialize(),Hn=fn.patternPositions[nr];Hn&&gt.setConstantPatternPositions(Hn)}const It=m.translatePosMatrix(Me.projMatrix,qe,l.paint.get("fill-translate"),l.paint.get("fill-translate-anchor")),zt=l.paint.get("fill-emissive-strength");if(E){xe=yt.indexBuffer2,Oe=yt.segments2;const fn=m.terrain&&m.terrain.renderingToTexture?m.terrain.drapeBufferSize:[R.drawingBufferWidth,R.drawingBufferHeight];Ee=le==="fillOutlinePattern"&&Y?_v(It,zt,m,qe,fn):hp(It,zt,fn)}else xe=yt.indexBuffer,Oe=yt.segments,Ee=Y?cm(It,zt,m,qe):ch(It,zt);m.uploadCommonUniforms(m.context,Mt,Me.toUnwrapped()),Mt.draw(m,ee,b,V?U:m.stencilModeForClipping(Me),C,ea.disabled,Ee,l.id,yt.layoutVertexBuffer,xe,Oe,l.paint,m.transform.zoom,gt,void 0)}}function Ld(m,r,l,p,b,C,E,R){l.resetLayerRenderingStats(m);const B=m.context,V=B.gl,U=m.transform,Y=l.paint.get("fill-extrusion-pattern"),ee=Y.constantOr(1),le=l.paint.get("fill-extrusion-opacity"),Ee=m.style.enable3dLights(),xe=l.paint.get(Ee&&!ee?"fill-extrusion-ambient-occlusion-wall-radius":"fill-extrusion-ambient-occlusion-radius"),Oe=[l.paint.get("fill-extrusion-ambient-occlusion-intensity"),xe],Me=l.layout.get("fill-extrusion-edge-radius"),qe=Me>0&&!l.paint.get("fill-extrusion-rounded-roof"),yt=qe?0:Me,gt=U.projection.name==="globe"?u.d3():0,Nt=U.projection.name==="globe",Mt=Nt?u.ae(U.zoom):0,Dt=[u.at(U.center.lng),u.aA(U.center.lat)],It=l.paint.get("fill-extrusion-flood-light-color-use-theme").constantOr("default")==="none",zt=l.paint.get("fill-extrusion-flood-light-color").toRenderColor(It?null:l.lut).toArray01().slice(0,3),fn=l.paint.get("fill-extrusion-flood-light-intensity"),nr=l.paint.get("fill-extrusion-vertical-scale"),Hn=l.paint.get("fill-extrusion-line-width").constantOr(1)!==0,Er=l.paint.get("fill-extrusion-height-alignment"),mr=l.paint.get("fill-extrusion-base-alignment"),Dn=Gt(m,l.paint.get("fill-extrusion-cutoff-fade-range")),or=[];let Gr;Nt&&or.push("PROJECTION_GLOBE_VIEW"),Oe[0]>0&&or.push("FAUX_AO"),qe&&or.push("ZERO_ROOF_RADIUS"),R&&or.push("HAS_CENTROID"),fn>0&&or.push("FLOOD_LIGHT"),Dn.shouldRenderCutoff&&or.push("RENDER_CUTOFF"),Hn&&or.push("RENDER_WALL_MODE");const On=m.renderPass==="shadow",Rr=m.shadowRenderer,Qn=On&&!!Rr;m.shadowRenderer&&(m.shadowRenderer.useNormalOffset=!0);let xi=[0,0,0];if(Rr){const ci=m.style.directionalLight,vi=m.style.ambientLight;ci&&vi&&(xi=Li(m.style,ci,vi)),On||(or.push("RENDER_SHADOWS","DEPTH_TEXTURE"),Rr.useNormalOffset&&or.push("NORMAL_OFFSET")),Gr=or.concat(["SHADOWS_SINGLE_CASCADE"])}const Br=Qn?"fillExtrusionDepth":ee?"fillExtrusionPattern":"fillExtrusion",Or=l.getLayerRenderingStats();for(const ci of p){const vi=r.getTile(ci),Gi=vi.getBucket(l);if(!Gi||Gi.projection.name!==U.projection.name)continue;let Yi=!1;Rr&&(Yi=Rr.getMaxCascadeForTile(ci.toUnwrapped())===0);const ra=m.isTileAffectedByFog(ci),Bo=Gi.programConfigurations.get(l.id),No=m.getOrCreateProgram(Br,{config:Bo,defines:Yi?Gr:or,overrideFog:ra});if(m.terrain&&m.terrain.setupElevationDraw(vi,No,{useMeterToDem:!0}),!Gi.centroidVertexBuffer){const ms=No.attributes.a_centroid_pos;ms!==void 0&&V.vertexAttrib2f(ms,0,0)}!On&&Rr&&Rr.setupShadows(vi.tileID.toUnwrapped(),No,"vector-tile",vi.tileID.overscaledZ),ee&&(m.context.activeTexture.set(V.TEXTURE0),vi.imageAtlasTexture&&vi.imageAtlasTexture.bind(V.LINEAR,V.CLAMP_TO_EDGE),Bo.updatePaintBuffers());const va=Y.constantOr(null);if(va&&vi.imageAtlas){const ms=vi.imageAtlas,xo=u.A.from(va).getPrimary().scaleSelf(u.q.devicePixelRatio),Ka=ms.patternPositions[xo.serialize()];Ka&&Bo.setConstantPatternPositions(Ka)}const os=l.paint.get("fill-extrusion-vertical-gradient"),Es=1/Gi.tileToMeter;let tl;if(On&&Rr){if(ff(vi.tileID,Gi,m))continue;const ms=Rr.calculateShadowPassMatrixFromTile(vi.tileID.toUnwrapped());tl=lm(ms,yt,Es,nr,Er,mr)}else{const ms=m.translatePosMatrix(ci.expandedProjMatrix,vi,l.paint.get("fill-extrusion-translate"),l.paint.get("fill-extrusion-translate-anchor")),xo=U.projection.createInversionMatrix(U,ci.canonical);tl=ee?$g(ms,m,os,le,Oe,yt,Es,ci,vi,gt,Er,mr,Mt,Dt,xo,zt,nr):sm(ms,m,os,le,Oe,yt,Es,ci,gt,Er,mr,Mt,Dt,xo,zt,nr,fn,xi)}m.uploadCommonUniforms(B,No,ci.toUnwrapped(),null,Dn);let js=Gi.segments;if(U.projection.name==="mercator"&&!On&&(js=Gi.getVisibleSegments(vi.tileID,m.terrain,m.transform.getFrustum(0)),!js.get().length))continue;if(Or)if(On)for(const ms of js.get())Or.numRenderedVerticesInShadowPass+=ms.primitiveLength;else for(const ms of js.get())Or.numRenderedVerticesInTransparentPass+=ms.primitiveLength;const ba=[];(m.terrain||R)&&ba.push(Gi.centroidVertexBuffer),Nt&&ba.push(Gi.layoutVertexExtBuffer),Hn&&ba.push(Gi.wallVertexBuffer),No.draw(m,B.gl.TRIANGLES,b,C,E,ea.backCCW,tl,l.id,Gi.layoutVertexBuffer,Gi.indexBuffer,js,l.paint,m.transform.zoom,Bo,ba)}m.shadowRenderer&&(m.shadowRenderer.useNormalOffset=!1)}function df(m,r,l,p,b,C,E,R,B,V,U,Y,ee,le,Ee,xe,Oe,Me,qe){const yt=m.context,gt=yt.gl,Nt=m.transform,Mt=m.transform.zoom,Dt=[],It=Gt(m,l.paint.get("fill-extrusion-cutoff-fade-range"));V==="clear"?(Dt.push("CLEAR_SUBPASS"),qe&&(Dt.push("CLEAR_FROM_TEXTURE"),yt.activeTexture.set(gt.TEXTURE0),qe.bind(gt.LINEAR,gt.CLAMP_TO_EDGE))):V==="sdf"&&Dt.push("SDF_SUBPASS"),Oe&&Dt.push("HAS_CENTROID"),It.shouldRenderCutoff&&Dt.push("RENDER_CUTOFF");const zt=l.layout.get("fill-extrusion-edge-radius"),fn=(nr,Hn,Er,mr,Dn)=>{const or=Hn.programConfigurations.get(l.id),Gr=m.isTileAffectedByFog(nr),On=m.getOrCreateProgram("fillExtrusionGroundEffect",{config:or,defines:Dt,overrideFog:Gr}),Rr=((xi,Br,Or,ci,vi,Gi,Yi,ra,Bo,No,va)=>({u_matrix:Br,u_opacity:Or,u_ao_pass:ci?1:0,u_meter_to_tile:vi,u_ao:Gi,u_flood_light_intensity:Yi,u_flood_light_color:ra,u_attenuation:Bo,u_edge_radius:No,u_fb:0,u_fb_size:va,u_dynamic_offset:1}))(0,mr,U,B,Dn,[Y,ee*Dn],le,Ee,xe,Mt>=17?0:zt*Dn,qe?qe.size[0]:0),Qn=[];Oe&&Qn.push(Hn.hiddenByLandmarkVertexBuffer),m.uploadCommonUniforms(yt,On,nr.toUnwrapped(),null,It),On.draw(m,yt.gl.TRIANGLES,b,C,E,R,Rr,l.id,Hn.vertexBuffer,Hn.indexBuffer,Er,l.paint,Mt,or,Qn)};for(const nr of p){const Hn=r.getTile(nr),Er=Hn.getBucket(l);if(!Er||Er.projection.name!==Nt.projection.name||!Er.groundEffect||Er.groundEffect&&!Er.groundEffect.hasData())continue;const mr=Er.groundEffect,Dn=1/Er.tileToMeter;{const or=m.translatePosMatrix(nr.projMatrix,Hn,l.paint.get("fill-extrusion-translate"),l.paint.get("fill-extrusion-translate-anchor")),Gr=mr.getDefaultSegment();fn(nr,mr,Gr,or,Dn)}if(Me)for(let or=0;or<4;or++){const Gr=u.d4[or](nr),On=r.getTile(Gr);if(!On)continue;const Rr=On.getBucket(l);if(!Rr||Rr.projection.name!==Nt.projection.name||!Rr.groundEffect||Rr.groundEffect&&!Rr.groundEffect.hasData())continue;const Qn=Rr.groundEffect;let xi,Br;or===0?(xi=[-u.ag,0,0],Br=1):or===1?(xi=[u.ag,0,0],Br=0):or===2?(xi=[0,-u.ag,0],Br=3):(xi=[0,u.ag,0],Br=2);const Or=Qn.regionSegments[Br];if(!Or)continue;const ci=new Float32Array(16);u.ab.mat4.translate(ci,nr.projMatrix,xi),fn(nr,Qn,Or,m.translatePosMatrix(ci,Hn,l.paint.get("fill-extrusion-translate"),l.paint.get("fill-extrusion-translate-anchor")),Dn)}}}function ph(m,r,l,p,b,C,E){p.centroidVertexArray.length===0&&p.createCentroidsBuffer();const R=C?C.findDEMTileFor(l):null;if(!(R&&R.dem||E))return;C&&R&&R.dem&&p.selfDEMTileTimestamp!==R.dem._timestamp&&(p.borderDoneWithNeighborZ=[-1,-1,-1,-1],p.selfDEMTileTimestamp=R.dem._timestamp);const B=Me=>new u.P(Math.ceil((Me+u.d7)*u.d8),0),V=Me=>{const qe=r.getSource().minzoom,yt=Nt=>{const Mt=r.getTileByID(Nt);if(Mt&&Mt.hasData())return Mt.getBucket(b)},gt=[0,-1,1];for(const Nt of gt){if(Me.overscaledZ+Nt<qe)continue;const Mt=yt(Me.calculateScaledKey(Me.overscaledZ+Nt));if(Mt)return Mt}},U=[0,0,0],Y=(Me,qe)=>(U[0]=Math.min(Me.min.y,qe.min.y),U[1]=Math.max(Me.max.y,qe.max.y),U[2]=u.ag-qe.min.x>Me.max.x?qe.min.x-u.ag:Me.max.x,U),ee=(Me,qe)=>(U[0]=Math.min(Me.min.x,qe.min.x),U[1]=Math.max(Me.max.x,qe.max.x),U[2]=u.ag-qe.min.y>Me.max.y?qe.min.y-u.ag:Me.max.y,U),le=[(Me,qe)=>Y(Me,qe),(Me,qe)=>Y(qe,Me),(Me,qe)=>ee(Me,qe),(Me,qe)=>ee(qe,Me)],Ee=(Me,qe,yt,gt,Nt,Mt,Dt)=>{if(!C)return 0;const It=[[Mt?yt:Me,Mt?Me:yt,0],[Mt?yt:qe,Mt?qe:yt,0]],zt=Dt<0?u.ag+Dt:Dt,fn=[Mt?zt:(Me+qe)/2,Mt?(Me+qe)/2:zt,0];return yt===0&&Dt<0||yt!==0&&Dt>0?C.getForTilePoints(Nt,[fn],!0,gt):It.push(fn),C.getForTilePoints(l,It,!0,R),Math.max(It[0][2],It[1][2],fn[2])/C.exaggeration()};for(let Me=0;Me<4;Me++){const qe=p.borderFeatureIndices[Me];if(qe.length===0)continue;const yt=u.d4[Me](l),gt=V(yt);if(!(gt&&gt instanceof u.d5))continue;const Nt=C?C.findDEMTileFor(yt):null;if(!(Nt&&Nt.dem||E)||(C&&Nt&&Nt.dem&&p.borderDEMTileTimestamp[Me]!==Nt.dem._timestamp&&(p.borderDoneWithNeighborZ[Me]=-1,p.borderDEMTileTimestamp[Me]=Nt.dem._timestamp),p.borderDoneWithNeighborZ[Me]===gt.canonical.z))continue;gt.centroidVertexArray.length===0&&gt.createCentroidsBuffer();const Mt=(Me<2?1:5)-Me,Dt=gt.borderDoneWithNeighborZ[Mt]!==p.canonical.z,It=gt.borderFeatureIndices[Mt];let zt=0;if(p.canonical.z!==gt.canonical.z){for(const fn of qe)p.showCentroid(p.featuresOnBorder[fn]);if(Dt)for(const fn of It)gt.showCentroid(gt.featuresOnBorder[fn]);p.borderDoneWithNeighborZ[Me]=gt.canonical.z,gt.borderDoneWithNeighborZ[Mt]=p.canonical.z}for(const fn of qe){const nr=p.featuresOnBorder[fn],Hn=p.centroidData[nr.centroidDataIndex],Er=nr.borders[Me];let mr;for(;zt<It.length;){mr=gt.featuresOnBorder[It[zt]];const Dn=mr.borders[Mt];if(Dn[1]>Er[0]+3||Dn[0]>Er[0]-3)break;gt.showCentroid(mr),zt++}if(mr&&zt<It.length){const Dn=zt;let or=0;for(;!(mr.borders[Mt][0]>Er[1]-3)&&(or++,++zt!==It.length);)mr=gt.featuresOnBorder[It[zt]];mr=gt.featuresOnBorder[It[Dn]];let Gr=!1;if(or>=1){const Qn=mr.borders[Mt];Math.abs(Er[0]-Qn[0])<3&&Math.abs(Er[1]-Qn[1])<3&&(or=1,Gr=!0,zt=Dn+1)}else if(or===0){p.showCentroid(nr);continue}const On=gt.centroidData[mr.centroidDataIndex];E&&Gr&&(((xe=Hn).flags|(Oe=On).flags)&u.d6?(xe.flags|=u.d6,Oe.flags|=u.d6):(xe.flags&=~u.d6,Oe.flags&=~u.d6));const Rr=nr.intersectsCount()>1||mr.intersectsCount()>1;if(or>1)zt=Dn,Hn.centroidXY=On.centroidXY=new u.P(0,0);else if(Nt&&Nt.dem&&!Rr){const Qn=le[Me](Hn,On),xi=Me%2?u.ag-1:0,Br=Ee(Qn[0],Math.min(u.ag-1,Qn[1]),xi,Nt,yt,Me<2,Qn[2]);Hn.centroidXY=On.centroidXY=B(Br)}else Rr?Hn.centroidXY=On.centroidXY=new u.P(0,0):(Hn.centroidXY=p.encodeBorderCentroid(nr),On.centroidXY=gt.encodeBorderCentroid(mr));p.writeCentroidToBuffer(Hn),gt.writeCentroidToBuffer(On)}else p.showCentroid(nr)}p.borderDoneWithNeighborZ[Me]=gt.canonical.z,gt.borderDoneWithNeighborZ[Mt]=p.canonical.z}var xe,Oe;(p.needsCentroidUpdate||!p.centroidVertexBuffer&&p.centroidVertexArray.length!==0)&&p.uploadCentroid(m)}const Nd=[1,0,0],hi=[0,1,0],qi=[0,0,1];function ff(m,r,l){const p=l.transform,b=l.shadowRenderer;if(!b)return!0;const C=m.toUnwrapped(),E=p.tileSize*b._cascades[l.currentShadowCascade].scale;let R=r.maxHeight;if(p.elevation){const xe=p.elevation.getMinMaxForTile(m);xe&&(R+=xe.max)}const B=[...b.shadowDirection];B[2]=-B[2];const V=b.computeSimplifiedTileShadowVolume(C,R,E,B);if(!V)return!1;const U=[Nd,hi,qi,B,[B[0],0,B[2]],[0,B[1],B[2]]],Y=p.projection.name==="globe",ee=p.scaleZoom(E),le=u.bR.fromInvProjectionMatrix(p.invProjMatrix,p.worldSize,ee,!Y),Ee=b.getCurrentCascadeFrustum();return le.intersectsPrecise(V.vertices,V.planes,U)===0||Ee.intersectsPrecise(V.vertices,V.planes,U)===0}function el(m){return[m[0]*u.d9,m[1]*u.d9,m[2]*u.d9,0]}function Un(m,r,l,p,b,C,E,R,B){const V=p.getSource(),U=l.globeSharedBuffers;if(!U)return;let Y,ee,le;if(r&&(Y=p.getTile(r)),V instanceof u.aJ?(ee=V.texture,le=u.cI(0,0,l.transform)):Y&&r&&(ee=Y.texture,le=u.cI(r.canonical.z,r.canonical.x,l.transform)),!ee||!le)return;m||(le=u.ab.mat4.scale(u.ab.mat4.create(),le,[1,-1,1]));const Ee=l.context,xe=Ee.gl,Oe=b.paint.get("raster-resampling")==="nearest"?xe.NEAREST:xe.LINEAR,Me=l.colorModeForDrapableLayerRenderPass(C),qe=E.defines;qe.push("GLOBE_POLES");const yt=new To(xe.LEQUAL,To.ReadWrite,l.depthRangeFor3D),gt=Float32Array.from(l.transform.expandedFarZProjMatrix),Nt=Float32Array.from(u.bb(u.cH(new u.bT(0,0,0))));l.terrain&&l.terrain.prepareDrawTile(),Ee.activeTexture.set(xe.TEXTURE0),ee.bind(Oe,xe.CLAMP_TO_EDGE),Ee.activeTexture.set(xe.TEXTURE1),ee.bind(Oe,xe.CLAMP_TO_EDGE),ee.useMipmap&&Ee.extTextureFilterAnisotropic&&l.transform.pitch>20&&xe.texParameterf(xe.TEXTURE_2D,Ee.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,Ee.extTextureFilterAnisotropicMax);const[Mt,Dt,It,zt]=r?U.getPoleBuffers(r.canonical.z,!1):U.getPoleBuffers(0,!0),fn=b.paint.get("raster-elevation");let nr;m?(nr=Mt,l.renderDefaultNorthPole=fn!==0):(nr=Dt,l.renderDefaultSouthPole=fn!==0);const Hn=el(E.mix),Er=((Dn,or,Gr,On,Rr,Qn,xi,Br,Or,ci,vi,Gi,Yi)=>gd(Dn,or,Gr,new Float32Array(16),new Float32Array(9),[0,0],On,[0,0],[0,0,0,0],1,{opacity:1,mix:0},Qn,[0,0],Br,2,ci,vi,Gi,1,0,Yi))(gt,Nt,le,u.ae(l.transform.zoom),0,b,0,fn,0,Hn,E.offset,E.range,C),mr=l.getOrCreateProgram("raster",{defines:qe});l.uploadCommonUniforms(Ee,mr,null),mr.draw(l,xe.TRIANGLES,yt,B,Me,R,Er,b.id,nr,It,zt)}function Sv(m){const r=m._nearZ,l=m.projection.farthestPixelDistance(m),p=l-r,b=.2*m.height,C=r+b;return[r,l,(C-b-r)/p,(C-r)/p]}function gh(m,r,l,p){if(m)return r instanceof ft&&m instanceof oo?r.getTextureDescriptor(m,l,!0):{texture:m.texture,mix:el(p.mix),offset:p.offset,buffer:0,tileSize:1}}var zg=u.da([{name:"a_index",type:"Int16",components:1}]);class yd{constructor(r,l,p,b){const C={width:p[0],height:p[1],data:null},E=r.gl;this.targetColorTexture=new u.T(r,C,E.RGBA8,{useMipmap:!1}),this.backgroundColorTexture=new u.T(r,C,E.RGBA8,{useMipmap:!1}),this.context=r,this.updateParticleTexture(l,b),this.lastInvalidatedAt=0}updateParticleTexture(r,l){if(this.particleTextureDimension===l.width)return;(this.particleTexture0||this.particleTexture1||this.particleIndexBuffer||this.particleSegment)&&(this.particleTexture0.destroy(),this.particleTexture1.destroy(),this.particleIndexBuffer.destroy(),this.particleSegment.destroy());const p=this.context.gl,b=l.width*l.height;this.particleTexture0=new u.T(this.context,l,p.RGBA8,{premultiply:!1,useMipmap:!1}),this.particleTexture1=new u.T(this.context,l,p.RGBA8,{premultiply:!1,useMipmap:!1});const C=new u.db;C.reserve(b);for(let E=0;E<b;E++)C.emplaceBack(E);this.particleIndexBuffer=this.context.createVertexBuffer(C,zg.members,!0),this.particleSegment=u.b7.simpleSegment(0,0,this.particleIndexBuffer.length,0),this.particleTextureDimension=l.width}update(r){return!(this.lastInvalidatedAt<r&&(this.lastInvalidatedAt=u.q.now(),1))}destroy(){this.targetColorTexture.destroy(),this.backgroundColorTexture.destroy(),this.particleIndexBuffer.destroy(),this.particleTexture0.destroy(),this.particleTexture1.destroy(),this.particleSegment.destroy()}}function bp(m,r,l){if(!m)return null;const p=r.getTextureDescriptor(m,l,!0);if(!p)return null;let{texture:b,mix:C,offset:E,tileSize:R,buffer:B,format:V}=p;if(!b||!V)return null;let U=!1;return V==="uint32"&&(U=!0,C[3]=0,C=mp(u.dc,C,[0,l.paint.get("raster-particle-max-speed")]),E=pd(u.dc,E,[0,l.paint.get("raster-particle-max-speed")])),{texture:b,textureOffset:[B/(R+2*B),R/(R+2*B)],tileSize:R,scalarData:U,scale:C,offset:E,defines:["RASTER_ARRAY",{uint8:"DATA_FORMAT_UINT8",uint16:"DATA_FORMAT_UINT16",uint32:"DATA_FORMAT_UINT32"}[V]]}}function _p(m){const r=m._nearZ,l=m.projection.farthestPixelDistance(m),p=l-r,b=.2*m.height,C=r+b;return[r,l,(C-b-r)/p,(C-r)/p]}const hf=new u.aj(1,0,0,1),vh=new u.aj(0,1,0,1),Lg=new u.aj(0,0,1,1),xp=new u.aj(1,0,1,1),yh=new u.aj(0,1,1,1);function Wu(m,r,l,p,b,C,E){const R=m.context,B=m.transform,V=R.gl,U=B.projection.name==="globe",Y=U?["PROJECTION_GLOBE_VIEW"]:[];let ee=u.ab.mat4.clone(l.projMatrix);if(U&&u.ae(B.zoom)>0){const Hn=u.ba(l.canonical,B),Er=u.dd(Hn);ee=u.ab.mat4.multiply(new Float32Array(16),B.globeMatrix,Er),u.ab.mat4.multiply(ee,B.projMatrix,ee)}const le=u.ab.mat4.create();le[12]+=2*b/(u.q.devicePixelRatio*B.width),le[13]+=2*C/(u.q.devicePixelRatio*B.height),u.ab.mat4.multiply(ee,le,ee);const Ee=m.getOrCreateProgram("debug",{defines:Y}),xe=r.getTileByID(l.key);m.terrain&&m.terrain.setupElevationDraw(xe,Ee);const Oe=To.disabled,Me=Zo.disabled,qe=m.colorModeForRenderPass(),yt="$debug";R.activeTexture.set(V.TEXTURE0),m.emptyTexture.bind(V.LINEAR,V.CLAMP_TO_EDGE),U?xe._makeGlobeTileDebugBuffers(m.context,B):xe._makeDebugTileBoundsBuffers(m.context,B.projection);const gt=xe._tileDebugBuffer||m.debugBuffer,Nt=xe._tileDebugIndexBuffer||m.debugIndexBuffer,Mt=xe._tileDebugSegments||m.debugSegments;if(Ee.draw(m,V.LINE_STRIP,Oe,Me,qe,ea.disabled,Uu(ee,p),yt,gt,Nt,Mt,null,null,null,[xe._globeTileDebugBorderBuffer]),E){const Hn=xe.latestRawTileData,Er=Math.floor((Hn&&Hn.byteLength||0)/1024);let mr=l.canonical.toString();l.overscaledZ!==l.canonical.z&&(mr+=` => ${l.overscaledZ}`),mr+=` ${xe.state}`,mr+=` ${Er}kb`,function(Dn,or){Dn.initDebugOverlayCanvas();const Gr=Dn.debugOverlayCanvas,On=Dn.context.gl,Rr=Dn.debugOverlayCanvas.getContext("2d");Rr.clearRect(0,0,Gr.width,Gr.height),Rr.shadowColor="white",Rr.shadowBlur=2,Rr.lineWidth=1.5,Rr.strokeStyle="white",Rr.textBaseline="top",Rr.font="bold 36px Open Sans, sans-serif",Rr.fillText(or,5,5),Rr.strokeText(or,5,5),Dn.debugOverlayTexture.update(Gr),Dn.debugOverlayTexture.bind(On.LINEAR,On.CLAMP_TO_EDGE)}(m,mr)}const Dt=r.getTile(l).tileSize,It=512/Math.min(Dt,512)*(l.overscaledZ/B.zoom)*.5,zt=xe._tileDebugTextBuffer||m.debugBuffer,fn=xe._tileDebugTextIndexBuffer||m.quadTriangleIndexBuffer,nr=xe._tileDebugTextSegments||m.debugSegments;Ee.draw(m,V.TRIANGLES,Oe,Me,sa.alphaBlended,ea.disabled,Uu(ee,u.aj.transparent,It),yt,zt,fn,nr,null,null,null,[xe._globeTileDebugTextBuffer])}function mm(m,r,l,p){Gc(m,0,r+l/2,m.transform.width,l,p)}function Cp(m,r,l,p){Gc(m,r-l/2,0,l,m.transform.height,p)}function Gc(m,r,l,p,b,C){const E=m.context,R=E.gl;R.enable(R.SCISSOR_TEST),R.scissor(r*u.q.devicePixelRatio,l*u.q.devicePixelRatio,p*u.q.devicePixelRatio,b*u.q.devicePixelRatio),E.clear({color:C}),R.disable(R.SCISSOR_TEST)}const pm=u.da([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:Tu}=pm;function Gu(m,r,l,p){m.emplaceBack(r,l,p)}class Sp{constructor(r){this.vertexArray=new u.de,this.indices=new u.aU,Gu(this.vertexArray,-1,-1,1),Gu(this.vertexArray,1,-1,1),Gu(this.vertexArray,-1,1,1),Gu(this.vertexArray,1,1,1),Gu(this.vertexArray,-1,-1,-1),Gu(this.vertexArray,1,-1,-1),Gu(this.vertexArray,-1,1,-1),Gu(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=r.createVertexBuffer(this.vertexArray,Tu),this.indexBuffer=r.createIndexBuffer(this.indices),this.segment=u.b7.simpleSegment(0,0,36,12)}}function ec(m,r,l,p,b,C){const E=m.context.gl,R=r.paint.get("sky-atmosphere-color"),B=r.paint.get("sky-atmosphere-halo-color"),V=r.paint.get("sky-atmosphere-sun-intensity"),U=((Y,ee,le,Ee,xe)=>({u_matrix_3f:Y,u_sun_direction:ee,u_sun_intensity:le,u_color_tint_r:[Ee.r,Ee.g,Ee.b,Ee.a],u_color_tint_m:[xe.r,xe.g,xe.b,xe.a],u_luminance:5e-5}))(u.ab.mat3.fromMat4(u.ab.mat3.create(),p),b,V,R,B);E.framebufferTexture2D(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.TEXTURE_CUBE_MAP_POSITIVE_X+C,r.skyboxTexture,0),l.draw(m,E.TRIANGLES,To.disabled,Zo.disabled,sa.unblended,ea.frontCW,U,"skyboxCapture",r.skyboxGeometry.vertexBuffer,r.skyboxGeometry.indexBuffer,r.skyboxGeometry.segment)}const wv=u.da([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]);class mf{constructor(r){const l=new u.df;l.emplaceBack(-1,1,1,0,0),l.emplaceBack(1,1,1,1,0),l.emplaceBack(1,-1,1,1,1),l.emplaceBack(-1,-1,1,0,1);const p=new u.aU;p.emplaceBack(0,1,2),p.emplaceBack(2,3,0),this.vertexBuffer=r.createVertexBuffer(l,wv.members),this.indexBuffer=r.createIndexBuffer(p),this.segments=u.b7.simpleSegment(0,0,4,2)}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy()}}const Ks=u.da([{type:"Float32",name:"a_pos_3f",components:3},{type:"Float32",name:"a_uv",components:2},{type:"Float32",name:"a_size_scale",components:1},{type:"Float32",name:"a_fade_opacity",components:1}]);class Ss{constructor(){this.starsCount=16e3,this.sizeMultiplier=.15,this.sizeRange=100,this.intensityRange=200}}class Ng{constructor(r){this.colorModeAlphaBlendedWriteRGB=new sa([1,Xl,1,Xl],u.aj.transparent,[!0,!0,!0,!1]),this.colorModeWriteAlpha=new sa([1,0,1,0],u.aj.transparent,[!1,!1,!1,!0]),this.params=new Ss,this.updateNeeded=!0,r.tp.registerParameter(this.params,["Stars"],"starsCount",{min:100,max:16e3,step:1},()=>{this.updateNeeded=!0}),r.tp.registerParameter(this.params,["Stars"],"sizeMultiplier",{min:.01,max:2,step:.01}),r.tp.registerParameter(this.params,["Stars"],"sizeRange",{min:0,max:200,step:1},()=>{this.updateNeeded=!0}),r.tp.registerParameter(this.params,["Stars"],"intensityRange",{min:0,max:200,step:1},()=>{this.updateNeeded=!0})}update(r){const l=r.context;if(!this.atmosphereBuffer||this.updateNeeded){this.updateNeeded=!1,this.atmosphereBuffer=new mf(l);const p=this.params.sizeRange,b=this.params.intensityRange,C=function(U){const Y=u.di(30),ee=[];for(let le=0;le<U;++le){const Ee=2*Math.PI*Y(),xe=Math.acos(1-2*Y())-.5*Math.PI;ee.push(u.ab.vec3.fromValues(Math.cos(xe)*Math.cos(Ee),Math.cos(xe)*Math.sin(Ee),Math.sin(xe)))}return ee}(this.params.starsCount),E=u.di(300),R=new u.dg,B=new u.aU;let V=0;for(let U=0;U<C.length;++U){const Y=u.ab.vec3.scale([],C[U],200),ee=Math.max(0,1+.01*p*(1*E()-.5)),le=Math.max(0,1+.01*b*(1*E()-.5));R.emplaceBack(Y[0],Y[1],Y[2],-1,-1,ee,le),R.emplaceBack(Y[0],Y[1],Y[2],1,-1,ee,le),R.emplaceBack(Y[0],Y[1],Y[2],1,1,ee,le),R.emplaceBack(Y[0],Y[1],Y[2],-1,1,ee,le),B.emplaceBack(V+0,V+1,V+2),B.emplaceBack(V+0,V+2,V+3),V+=4}this.starsVx=l.createVertexBuffer(R,Ks.members),this.starsIdx=l.createIndexBuffer(B),this.starsSegments=u.b7.simpleSegment(0,0,R.length,B.length)}}destroy(){this.atmosphereBuffer&&this.atmosphereBuffer.destroy(),this.starsVx&&this.starsVx.destroy(),this.starsIdx&&this.starsIdx.destroy()}drawAtmosphereGlow(r,l){const p=r.context,b=p.gl,C=r.transform,E=new To(b.LEQUAL,To.ReadOnly,[0,1]),R=u.ae(C.zoom),B=r.style.getLut(l.scope),V=l.properties.get("color-use-theme")==="none",U=l.properties.get("color").toRenderColor(V?null:B).toArray01(),Y=l.properties.get("high-color-use-theme")==="none",ee=l.properties.get("high-color").toRenderColor(Y?null:B).toArray01(),le=l.properties.get("space-color-use-theme")==="none",Ee=l.properties.get("space-color").toRenderColor(le?null:B).toArray01PremultipliedAlpha(),xe=5e-4,Oe=u.dh(l.properties.get("horizon-blend"),0,1,xe,.25),Me=u.cC(r,p,C)&&Oe===xe?C.worldSize/(2*Math.PI*1.025)-1:C.globeRadius,qe=r.frameCounter/1e3%1,yt=u.ab.vec3.length(C.globeCenterInViewSpace),gt=Math.sqrt(Math.pow(yt,2)-Math.pow(Me,2)),Nt=Math.acos(gt/yt),Mt=Dt=>{const It=C.projection.name==="globe"?["PROJECTION_GLOBE_VIEW","FOG"]:["FOG"];Dt&&It.push("ALPHA_PASS");const zt=r.getOrCreateProgram("globeAtmosphere",{defines:It}),fn=((Hn,Er,mr,Dn,or,Gr,On,Rr,Qn,xi,Br,Or)=>({u_frustum_tl:Hn,u_frustum_tr:Er,u_frustum_br:mr,u_frustum_bl:Dn,u_horizon:or,u_transition:Gr,u_fadeout_range:On,u_color:Rr,u_high_color:Qn,u_space_color:xi,u_temporal_offset:Br,u_horizon_angle:Or}))(C.frustumCorners.TL,C.frustumCorners.TR,C.frustumCorners.BR,C.frustumCorners.BL,C.frustumCorners.horizon,R,Oe,U,ee,Ee,qe,Nt);r.uploadCommonUniforms(p,zt);const nr=this.atmosphereBuffer;nr&&zt.draw(r,b.TRIANGLES,E,Zo.disabled,Dt?this.colorModeWriteAlpha:this.colorModeAlphaBlendedWriteRGB,ea.backCW,fn,Dt?"atmosphere_glow_alpha":"atmosphere_glow",nr.vertexBuffer,nr.indexBuffer,nr.segments)};Mt(!1),Mt(!0)}drawStars(r,l){const p=u.aw(l.properties.get("star-intensity"),0,1);if(p===0)return;const b=r.context,C=b.gl,E=r.transform,R=r.getOrCreateProgram("stars"),B=u.ab.quat.identity([]);u.ab.quat.rotateX(B,B,-E._pitch),u.ab.quat.rotateZ(B,B,-E.angle),u.ab.quat.rotateX(B,B,u.ai(E._center.lat)),u.ab.quat.rotateY(B,B,-u.ai(E._center.lng));const V=u.ab.mat4.fromQuat(new Float32Array(16),B),U=u.ab.mat4.multiply([],E.starsProjMatrix,V),Y=u.ab.mat3.fromMat4([],V),ee=u.ab.mat3.invert([],Y),le=[0,1,0];u.ab.vec3.transformMat3(le,le,ee),u.ab.vec3.scale(le,le,this.params.sizeMultiplier);const Ee=[1,0,0];u.ab.vec3.transformMat3(Ee,Ee,ee),u.ab.vec3.scale(Ee,Ee,this.params.sizeMultiplier);const xe=(Oe=le,Me=Ee,qe=p,{u_matrix:Float32Array.from(U),u_up:Oe,u_right:Me,u_intensity_multiplier:qe});var Oe,Me,qe;r.uploadCommonUniforms(b,R),this.starsVx&&this.starsIdx&&R.draw(r,C.TRIANGLES,To.disabled,Zo.disabled,this.colorModeAlphaBlendedWriteRGB,ea.disabled,xe,"atmosphere_stars",this.starsVx,this.starsIdx,this.starsSegments)}}function Xu(m,r){const l=[...m],p=r.cameraWorldSizeForFog/r.worldSize,b=u.ab.mat4.identity([]);return u.ab.mat4.scale(b,b,[p,p,1]),u.ab.mat4.multiply(l,b,l),u.ab.mat4.multiply(l,r.worldToFogMatrix,l),l}function pf(m,r,l,p,b){const C=l.material,E=p.context,{baseColorTexture:R,metallicRoughnessTexture:B}=C.pbrMetallicRoughness,{normalTexture:V,occlusionTexture:U,emissionTexture:Y}=C;function ee(Ee,xe,Oe){if(Ee&&(m.push(xe),E.activeTexture.set(E.gl.TEXTURE0+Oe),Ee.gfxTexture)){const{minFilter:Me,magFilter:qe,wrapS:yt,wrapT:gt}=Ee.sampler;Ee.gfxTexture.bindExtraParam(Me,qe,yt,gt)}}ee(R,"HAS_TEXTURE_u_baseColorTexture",ll.BaseColor),ee(B,"HAS_TEXTURE_u_metallicRoughnessTexture",ll.MetallicRoughness),ee(V,"HAS_TEXTURE_u_normalTexture",ll.Normal),ee(U,"HAS_TEXTURE_u_occlusionTexture",ll.Occlusion),ee(Y,"HAS_TEXTURE_u_emissionTexture",ll.Emission),b&&(b.texture||(b.texture=new u.dk(p.context,b.image,[b.image.height,b.image.height,b.image.height],E.gl.RGBA8)),E.activeTexture.set(E.gl.TEXTURE0+ll.LUT),b.texture&&b.texture.bind(E.gl.LINEAR,E.gl.CLAMP_TO_EDGE),m.push("APPLY_LUT_ON_GPU")),l.texcoordBuffer&&(m.push("HAS_ATTRIBUTE_a_uv_2f"),r.push(l.texcoordBuffer)),l.colorBuffer&&(m.push(l.colorBuffer.itemSize===12?"HAS_ATTRIBUTE_a_color_3f":"HAS_ATTRIBUTE_a_color_4f"),r.push(l.colorBuffer)),l.normalBuffer&&(m.push("HAS_ATTRIBUTE_a_normal_3f"),r.push(l.normalBuffer)),l.pbrBuffer&&(m.push("HAS_ATTRIBUTE_a_pbr"),m.push("HAS_ATTRIBUTE_a_heightBasedEmissiveStrength"),r.push(l.pbrBuffer)),C.alphaMode!=="OPAQUE"&&C.alphaMode!=="MASK"||m.push("UNPREMULT_TEXTURE_IN_SHADER"),C.defined||m.push("DIFFUSE_SHADED");const le=p.shadowRenderer;le&&(m.push("RENDER_SHADOWS","DEPTH_TEXTURE"),le.useNormalOffset&&m.push("NORMAL_OFFSET"))}function Ku(m,r,l,p,b,C){const E=l.paint.get("model-opacity").constantOr(1),R=r.context,B=new To(r.context.gl.LEQUAL,To.ReadWrite,r.depthRangeFor3D),V=r.transform,U=m.mesh,Y=U.material,ee=Y.pbrMetallicRoughness,le=r.style.fog;let Ee;Ee=r.transform.projection.zAxisUnit==="pixels"?[...m.nodeModelMatrix]:u.ab.mat4.multiply([],p.zScaleMatrix,m.nodeModelMatrix),u.ab.mat4.multiply(Ee,p.negCameraPosMatrix,Ee);const xe=u.ab.mat4.invert([],Ee);u.ab.mat4.transpose(xe,xe);const Oe=l.paint.get("model-color-use-theme").constantOr("default")==="none",Me=l.paint.get("model-emissive-strength").constantOr(0),qe=sf(new Float32Array(m.worldViewProjection),new Float32Array(Ee),new Float32Array(xe),null,r,E,ee.baseColorFactor.toRenderColor(null),Y.emissiveFactor,ee.metallicFactor,ee.roughnessFactor,Y,Me,l),yt={defines:[]},gt=[],Nt=r.shadowRenderer;Nt&&(Nt.useNormalOffset=!1),pf(yt.defines,gt,U,r,Oe?null:l.lut);let Mt=null;if(le){const zt=Xu(m.nodeModelMatrix,r.transform);if(Mt=new Float32Array(zt),V.projection.name!=="globe"){const fn=U.aabb.min,nr=U.aabb.max,[Hn,Er]=le.getOpacityForBounds(zt,fn[0],fn[1],nr[0],nr[1]);yt.overrideFog=Hn>=ge||Er>=ge}}const Dt=Gt(r,l.paint.get("model-cutoff-fade-range"));Dt.shouldRenderCutoff&&yt.defines.push("RENDER_CUTOFF");const It=r.getOrCreateProgram("model",yt);r.uploadCommonUniforms(R,It,null,Mt,Dt),r.renderPass!=="shadow"&&Nt&&Nt.setupShadowsFromMatrix(m.nodeModelMatrix,It),It.draw(r,R.gl.TRIANGLES,B,b,C,U.material.doubleSided?ea.disabled:ea.backCCW,qe,l.id,U.vertexBuffer,U.indexBuffer,U.segments,l.paint,r.transform.zoom,void 0,gt)}function gm(m,r,l,p,b,C,E){let R;R=m.projection.name==="globe"?u.dl(l,m):[...l],u.ab.mat4.multiply(R,R,r.matrix);const B=u.ab.mat4.multiply([],p,R);if(r.meshes)for(const V of r.meshes){if(V.material.alphaMode!=="BLEND"){E.push({mesh:V,depth:0,modelIndex:b,worldViewProjection:B,nodeModelMatrix:R});continue}const U=u.ab.vec3.transformMat4([],V.centroid,B);!m.isOrthographic&&U[2]<=0||C.push({mesh:V,depth:U[2],modelIndex:b,worldViewProjection:B,nodeModelMatrix:R})}if(r.children)for(const V of r.children)gm(m,V,l,p,b,C,E)}function vm(m,r,l,p){const b=l.shadowRenderer;if(!b)return;const C=b.getShadowPassDepthMode(),E=b.getShadowPassColorMode(),R=b.calculateShadowPassMatrixFromMatrix(r),B=uh(R);l.getOrCreateProgram("modelDepth",{defines:l._shadowMapDebug?[]:["DEPTH_TEXTURE"]}).draw(l,l.context.gl.TRIANGLES,C,Zo.disabled,E,ea.backCCW,B,p.id,m.vertexBuffer,m.indexBuffer,m.segments,p.paint,l.transform.zoom,void 0,void 0)}function Mu(m,r,l){const p=r.updateZoomBasedPaintProperties(),b=function(C,E,R){let B,V,U,Y=C.terrain?C.terrain.exaggeration():0;if(C.terrain&&Y>0){const ee=C.terrain,le=ee.findDEMTileFor(R);le&&le.dem?B=u.dn.create(ee,R,le):Y=0}if(Y===0&&(E.terrainElevationMin=0,E.terrainElevationMax=0),Y===E.validForExaggeration&&(Y===0||B&&B._demTile&&B._demTile.tileID===E.validForDEMTile.id&&B._dem._timestamp===E.validForDEMTile.timestamp))return!1;for(const ee in E.instancesPerModel){const le=E.instancesPerModel[ee];for(let Ee=0;Ee<le.instancedDataArray.length;++Ee){const xe=(B?Y*B.getElevationAt(0|le.instancedDataArray.float32[16*Ee],0|le.instancedDataArray.float32[16*Ee+1],!0,!0):0)+le.instancesEvaluatedElevation[Ee];le.instancedDataArray.float32[16*Ee+6]=xe,V=V?Math.min(E.terrainElevationMin,xe):xe,U=U?Math.max(E.terrainElevationMax,xe):xe}}return E.terrainElevationMin=V||0,E.terrainElevationMax=U||0,E.validForExaggeration=Y,E.validForDEMTile=B&&B._demTile?{id:B._demTile.tileID,timestamp:B._dem._timestamp}:{id:void 0,timestamp:0},!0}(m,r,l);(p||b)&&(r.uploaded=!1,r.upload(m.context))}const fc={shadowUniformsInitialized:!1,useSingleShadowCascade:!1,tileMatrix:new Float64Array(16),shadowTileMatrix:new Float32Array(16),aabb:new u.cd([0,0,0],[u.ag,u.ag,0])};function ym(m,r){const l=1<<m.canonical.z,p=r.getFreeCameraOptions().position,b=r.elevation,C=m.canonical.x/l,E=(m.canonical.x+1)/l,R=m.canonical.y/l,B=(m.canonical.y+1)/l;let V=r._centerAltitude;if(b){const le=b.getMinMaxForTile(m);le&&le.max>V&&(V=le.max)}const U=u.aw(p.x,C,E)-p.x,Y=u.aw(p.y,R,B)-p.y,ee=u.bH(V,r.center.lat)-p.z;return r._zoomFromMercatorZ(Math.sqrt(U*U+Y*Y+ee*ee))}function gf(m,r,l,p,b,C,E){const R=m.context,B=m.renderPass==="shadow",V=m.shadowRenderer,U=B&&V?V.getShadowPassDepthMode():new To(R.gl.LEQUAL,To.ReadWrite,m.depthRangeFor3D),Y=m.isTileAffectedByFog(C);if(l.meshes)for(const ee of l.meshes){const le=["MODEL_POSITION_ON_GPU"],Ee=[];let xe,Oe,Me;p.instancedDataArray.length>20&&le.push("INSTANCED_ARRAYS");const qe=Gt(m,r.paint.get("model-cutoff-fade-range"));if(qe.shouldRenderCutoff&&le.push("RENDER_CUTOFF"),B&&V)xe=m.getOrCreateProgram("modelDepth",{defines:le}),Oe=uh(E.shadowTileMatrix,E.shadowTileMatrix,Float32Array.from(l.matrix)),Me=V.getShadowPassColorMode();else{pf(le,Ee,ee,m,r.paint.get("model-color-use-theme").constantOr("default")==="none"?null:r.lut),xe=m.getOrCreateProgram("model",{defines:le,overrideFog:Y});const gt=ee.material,Nt=gt.pbrMetallicRoughness,Mt=r.paint.get("model-opacity").constantOr(1),Dt=r.paint.get("model-emissive-strength").constantOr(0);Oe=sf(C.expandedProjMatrix,Float32Array.from(l.matrix),new Float32Array(16),null,m,Mt,Nt.baseColorFactor.toRenderColor(null),gt.emissiveFactor,Nt.metallicFactor,Nt.roughnessFactor,gt,Dt,r,b),V&&(E.shadowUniformsInitialized?xe.setShadowUniformValues(R,V.getShadowUniformValues()):(V.setupShadows(C.toUnwrapped(),xe,"model-tile",C.overscaledZ),E.shadowUniformsInitialized=!0)),Me=qe.shouldRenderCutoff||Mt<1||gt.alphaMode!=="OPAQUE"?sa.alphaBlended:sa.unblended}m.uploadCommonUniforms(R,xe,C.toUnwrapped(),null,qe);const yt=ee.material.doubleSided?ea.disabled:ea.backCCW;if(p.instancedDataArray.length>20)Ee.push(p.instancedDataBuffer),xe.draw(m,R.gl.TRIANGLES,U,Zo.disabled,Me,yt,Oe,r.id,ee.vertexBuffer,ee.indexBuffer,ee.segments,r.paint,m.transform.zoom,void 0,Ee,p.instancedDataArray.length);else{const gt=B?"u_instance":"u_normal_matrix";for(let Nt=0;Nt<p.instancedDataArray.length;++Nt)Oe[gt]=new Float32Array(p.instancedDataArray.arrayBuffer,64*Nt,16),xe.draw(m,R.gl.TRIANGLES,U,Zo.disabled,Me,yt,Oe,r.id,ee.vertexBuffer,ee.indexBuffer,ee.segments,r.paint,m.transform.zoom,void 0,Ee)}}if(l.children)for(const ee of l.children)gf(m,r,ee,p,b,C,E)}const bm=[1,-1,1];function _m(m,r,l,p){if(!l.modelManager)return!0;const b=l.modelManager;if(!l.shadowRenderer)return!0;const C=l.shadowRenderer,E=r.aabb;let R=!0,B=m.maxHeight;if(B===0){let U=0;for(const Y in m.instancesPerModel){const ee=b.getModel(Y,p);ee?U=Math.max(U,Math.max(Math.max(ee.aabb.max[0],ee.aabb.max[1]),ee.aabb.max[2])):R=!1}B=m.maxScale*U*1.41+m.maxVerticalOffset,R&&(m.maxHeight=B)}E.max[2]=B,E.min[2]+=m.terrainElevationMin,E.max[2]+=m.terrainElevationMax,u.ab.vec3.transformMat4(E.min,E.min,r.tileMatrix),u.ab.vec3.transformMat4(E.max,E.max,r.tileMatrix);const V=E.intersects(C.getCurrentCascadeFrustum());return l.currentShadowCascade===0&&(m.isInsideFirstShadowMapFrustum=V===2),V===0}function Bd(m,r){const l=m.uniformValues.u_cutoff_params[0],p=m.uniformValues.u_cutoff_params[1],b=m.uniformValues.u_cutoff_params[2],C=m.uniformValues.u_cutoff_params[3];return p===l||C===b?1:u.aw(((r-l)/(p-l)-b)/(C-b),0,1)}function wp(m,r,l,p){if(r.pitch<20)return 1;const b=r.getWorldToCameraMatrix();u.ab.mat4.multiply(b,b,m);const C=u.ab.vec4.fromValues(l.min[0],l.min[1],l.min[2],1);let E=u.ab.vec4.transformMat4(u.ab.vec4.create(),C,b),R=E,B=E;C[1]=l.max[1],E=u.ab.vec4.transformMat4(u.ab.vec4.create(),C,b),R=E[1]<R[1]?E:R,B=E[1]>B[1]?E:B,C[0]=l.max[0],E=u.ab.vec4.transformMat4(u.ab.vec4.create(),C,b),R=E[1]<R[1]?E:R,B=E[1]>B[1]?E:B,C[1]=l.min[1],E=u.ab.vec4.transformMat4(u.ab.vec4.create(),C,b),R=E[1]<R[1]?E:R,B=E[1]>B[1]?E:B;const V=u.aw(p[0],0,1),U=100*r.pixelsPerMeter*u.aw(p[1],0,1),Y=u.aw(p[2],0,1),ee=u.ab.vec4.lerp(u.ab.vec4.create(),R,B,V),le=Math.tan(.5*r.fovX),Ee=-ee[2]*le;if(U===0)return ee[1]<-Math.abs(Ee)?Y:1;const xe=(-Math.abs(Ee)-ee[1])/U,Oe=(qe,yt,gt)=>(1-gt)*qe+gt*yt,Me=u.aw(Oe(1,Y,xe),Y,1);return Oe(1,Me,u.aw((r.pitch-20)/20,0,1))}class Fd{}class bh{constructor(){this._storage=new Map}getLinesFromTrianglesBuffer(r,l,p){{const Y=this._storage.get(l.id);if(Y)return Y.lastUsedFrameIdx=r,Y.buf}const b=p.gl,C=b.getBufferParameter(b.ELEMENT_ARRAY_BUFFER,b.BUFFER_SIZE),E=new ArrayBuffer(C),R=new Int16Array(E);b.getBufferSubData(b.ELEMENT_ARRAY_BUFFER,0,new Int16Array(E));const B=new u.dq;for(let Y=0;Y<C/2;Y+=3){const ee=R[Y],le=R[Y+1],Ee=R[Y+2];B.emplaceBack(ee,le),B.emplaceBack(le,Ee),B.emplaceBack(Ee,ee)}const V=p.bindVertexArrayOES.current,U=new Fd;return U.buf=new Nc(p,B),U.lastUsedFrameIdx=r,this._storage.set(l.id,U),p.bindVertexArrayOES.set(V),U.buf}update(r){for(const[l,p]of this._storage)r-p.lastUsedFrameIdx>30&&(p.buf.destroy(),this._storage.delete(l))}destroy(){for(const[r,l]of this._storage)l.buf.destroy(),this._storage.delete(r)}}class xm{constructor(r){this.occluderSize=30,this.depthOffset=-1e-4,r.registerParameter(this,["Occlusion"],"occluderSize",{min:1,max:100,step:1}),r.registerParameter(this,["Occlusion"],"depthOffset",{min:-.05,max:0,step:1e-5})}}const Cm=u.da([{type:"Float32",name:"a_pos_3f",components:3},{type:"Float32",name:"a_uv",components:2},{type:"Float32",name:"a_rainParticleData",components:4}]);class Bg{registerParameter(){}registerButton(){}registerBinding(){}refreshUI(){}}class oc{constructor(r,l){this.revealStart=11,this.revealRange=2,r.registerParameter(this,[...l,"Reveal"],"revealStart",{min:0,max:17,step:.05}),r.registerParameter(this,[...l,"Reveal"],"revealRange",{min:.1,max:5.1,step:.05})}}const Ep=u.da([{type:"Float32",name:"a_pos_2f",components:2}]);class Ip{destroy(){this.vignetteVx&&this.vignetteVx.destroy(),this.vignetteIdx&&this.vignetteIdx.destroy()}draw(r,l){const p=r.getOrCreateProgram("vignette");if(!this.vignetteVx||!this.vignetteIdx){const E=new u.dr,R=new u.aU;E.emplaceBack(-1,-1),E.emplaceBack(1,-1),E.emplaceBack(1,1),E.emplaceBack(-1,1),R.emplaceBack(0,1,2),R.emplaceBack(0,2,3),this.vignetteVx=r.context.createVertexBuffer(E,Ep.members),this.vignetteIdx=r.context.createIndexBuffer(R)}const b=u.b7.simpleSegment(0,0,4,6);if(this.vignetteVx&&this.vignetteIdx){r.uploadCommonUniforms(r.context,p);const E={u_vignetteShape:(C={vignetteShape:[l.start,l.range,Math.pow(10,l.fadePower)],vignetteColor:[l.color.r,l.color.g,l.color.b,l.color.a*l.strength]}).vignetteShape,u_vignetteColor:C.vignetteColor};p.draw(r,r.context.gl.TRIANGLES,To.disabled,Zo.disabled,sa.alphaBlended,ea.disabled,E,"vignette",this.vignetteVx,this.vignetteIdx,b,{})}var C}}class _h{constructor(){this._accumulatedOffsetX=0,this._accumulatedOffsetY=0,this._accumulatedElevation=0}update(r,l){const p=r.getFreeCameraOptions().position,b=p.toAltitude(),C=p.toLngLat(),E=u.ai(C.lng),R=u.ai(C.lat),B=r.pixelsPerMeter/l,V=E*u.ds,U=u.ds*Math.log(Math.tan(Math.PI/4+R/2));if(this._offsetXPrev===void 0)this._offsetXPrev=0,this._offsetYPrev=0,this._elevationPrev=0,this._accumulatedOffsetX=0,this._accumulatedOffsetY=0,this._accumulatedElevation=0;else{const Y=-this._offsetYPrev+U,ee=-this._elevationPrev+b;this._accumulatedOffsetX+=(-this._offsetXPrev+V)*B,this._accumulatedOffsetY+=Y*B,this._accumulatedElevation+=ee*B,this._offsetXPrev=V,this._offsetYPrev=U,this._elevationPrev=b}}getPosition(){return[this._accumulatedOffsetX,this._accumulatedOffsetY,this._accumulatedElevation]}}function bd(m,r){return[-(m[0]-Math.floor(m[0]/r)*r),-(m[1]-Math.floor(m[1]/r)*r),-(m[2]-Math.floor(m[2]/r)*r)]}function xh(m){const r=u.di(1323123451230),l=[];for(let p=0;p<m;++p){const b=2*r()-1,C=2*r()-1,E=2*r()-1;l.push(u.ab.vec3.fromValues(b,C,E))}return l}function Pu(m,r,l,p,b){const C=u.aw((b-l)/(p-l),0,1);return(1-C)*m+C*r}class Sm{constructor(r){this._movement=new _h,this._accumulatedTimeFromStart=0,this._prevTime=Date.now()/1e3,this._vignette=new Ip,this._ppmScaleFactor=r}destroy(){this.particlesVx&&this.particlesVx.destroy(),this.particlesIdx&&this.particlesIdx.destroy(),this._vignette&&this._vignette.destroy()}updateOnRender(r,l){const p=r.transform;this._movement.update(p,this._ppmScaleFactor);const b=p.starsProjMatrix,C=u.ab.quat.identity([]);u.ab.quat.rotateX(C,C,u.ai(90)-p._pitch),u.ab.quat.rotateZ(C,C,-p.angle);const E=u.ab.mat4.fromQuat(new Float32Array(16),C),R=u.ab.mat4.fromValues(1,0,0,0,0,0,1,0,0,-1,0,0,0,0,0,1),B=u.ab.mat4.transpose([],R),V=u.ab.mat4.multiply([],B,E),U=Date.now()/1e3;return this._accumulatedTimeFromStart+=(U-this._prevTime)*l,this._prevTime=U,{projectionMatrix:b,modelviewMatrix:V}}}class vf extends Sm{constructor(r){super(4.25),this._params={overrideStyleParameters:!1,intensity:.5,timeFactor:1,velocityConeAperture:0,velocity:300,boxSize:2500,dropletSizeX:1,dropletSizeYScale:10,distortionStrength:70,screenThinning:{intensity:.57,start:.46,range:1.17,fadePower:.17,affectedRatio:1,particleOffset:-.2},color:{r:.66,g:.68,b:.74,a:.7},direction:{x:-50,y:-35},shapeDirPower:2,shapeNormalPower:1},this._revealParams=new oc(r.tp,["Precipitation","Rain"]),this._vignetteParams={strength:1,start:.7,range:1,fadePower:.4,color:{r:.27,g:.27,b:.27,a:1}},this.particlesCount=16e3}update(r){const l=r.context;if(!this.particlesVx){const p=xh(this.particlesCount),b=new u.dt,C=new u.aU;let E=0;const R=u.di(1323123451230);for(let B=0;B<p.length;++B){const V=p[B],U=[2*R()-1,R(),R(),R()];b.emplaceBack(V[0],V[1],V[2],-1,-1,...U),b.emplaceBack(V[0],V[1],V[2],1,-1,...U),b.emplaceBack(V[0],V[1],V[2],1,1,...U),b.emplaceBack(V[0],V[1],V[2],-1,1,...U),C.emplaceBack(E+0,E+1,E+2),C.emplaceBack(E+0,E+2,E+3),E+=4}this.particlesVx=l.createVertexBuffer(b,Cm.members),this.particlesIdx=l.createIndexBuffer(C)}}draw(r){if(!this._params.overrideStyleParameters&&!r.style.rain)return;const l=this._params.overrideStyleParameters?this._revealParams:{revealStart:0,revealRange:.01},p=r.transform.zoom;if(l.revealStart>p)return;const b=Pu(0,1,l.revealStart,l.revealStart+l.revealRange,p);if(!this.particlesVx||!this.particlesIdx)return;const C=structuredClone(this._params);let E=[-C.direction.x,C.direction.y,-100];u.ab.vec3.normalize(E,E);const R=structuredClone(this._vignetteParams);R.strength*=b,C.overrideStyleParameters||(C.intensity=r.style.rain.state.density,C.timeFactor=r.style.rain.state.intensity,C.color=structuredClone(r.style.rain.state.color),E=structuredClone(r.style.rain.state.direction),C.screenThinning.intensity=r.style.rain.state.centerThinning,C.dropletSizeX=r.style.rain.state.dropletSize[0],C.dropletSizeYScale=r.style.rain.state.dropletSize[1]/r.style.rain.state.dropletSize[0],C.distortionStrength=100*r.style.rain.state.distortionStrength,R.strength=1,R.color=structuredClone(r.style.rain.state.vignetteColor));const B=this.updateOnRender(r,C.timeFactor),V=r.context,U=V.gl,Y=r.transform;this.screenTexture&&this.screenTexture.size[0]===r.width&&this.screenTexture.size[1]===r.height||(this.screenTexture=new u.T(V,{width:r.width,height:r.height,data:null},U.RGBA8)),C.distortionStrength>0&&(V.activeTexture.set(U.TEXTURE0),this.screenTexture.bind(U.LINEAR,U.CLAMP_TO_EDGE),U.copyTexSubImage2D(U.TEXTURE_2D,0,0,0,0,0,r.width,r.height));const ee=r.getOrCreateProgram("rainParticle");r.uploadCommonUniforms(V,ee),V.activeTexture.set(U.TEXTURE0),this.screenTexture.bind(U.LINEAR,U.CLAMP_TO_EDGE);const le=[C.color.r,C.color.g,C.color.b,C.color.a],Ee=(xe,Oe)=>{const Me=bd(this._movement.getPosition(),xe),qe=C.dropletSizeX,yt=C.dropletSizeX*C.dropletSizeYScale,gt=r.width/2,Nt=r.height/2,Mt=Pu(0,C.screenThinning.start,0,1,C.screenThinning.intensity),Dt=Pu(.001,C.screenThinning.range,0,1,C.screenThinning.intensity),It=Pu(0,C.screenThinning.particleOffset,0,1,C.screenThinning.intensity),zt=(fn={modelview:B.modelviewMatrix,projection:B.projectionMatrix,time:this._accumulatedTimeFromStart,camPos:Me,velocityConeAperture:C.velocityConeAperture,velocity:C.velocity,boxSize:xe,rainDropletSize:[qe,yt],distortionStrength:C.distortionStrength,rainDirection:E,color:le,screenSize:[Y.width,Y.height],thinningCenterPos:[gt,Nt],thinningShape:[Mt,Dt,Math.pow(10,C.screenThinning.fadePower)],thinningAffectedRatio:C.screenThinning.affectedRatio,thinningParticleOffset:It,shapeDirectionalPower:C.shapeDirPower,shapeNormalPower:C.shapeNormalPower,mode:Oe?0:1},{u_modelview:Float32Array.from(fn.modelview),u_projection:Float32Array.from(fn.projection),u_time:fn.time,u_cam_pos:fn.camPos,u_texScreen:0,u_velocityConeAperture:fn.velocityConeAperture,u_velocity:fn.velocity,u_boxSize:fn.boxSize,u_rainDropletSize:fn.rainDropletSize,u_distortionStrength:fn.distortionStrength,u_rainDirection:fn.rainDirection,u_color:fn.color,u_screenSize:fn.screenSize,u_thinningCenterPos:fn.thinningCenterPos,u_thinningShape:fn.thinningShape,u_thinningAffectedRatio:fn.thinningAffectedRatio,u_thinningParticleOffset:fn.thinningParticleOffset,u_shapeDirectionalPower:fn.shapeDirectionalPower,u_shapeNormalPower:fn.shapeNormalPower,u_mode:fn.mode});var fn;const nr=Math.round(C.intensity*this.particlesCount),Hn=u.b7.simpleSegment(0,0,4*nr,2*nr);ee.draw(r,U.TRIANGLES,To.disabled,Zo.disabled,sa.alphaBlended,ea.disabled,zt,"rain_particles",this.particlesVx,this.particlesIdx,Hn,{})};C.distortionStrength>0&&Ee(C.boxSize,!0),Ee(C.boxSize,!1),this._vignette.draw(r,R)}}const Tp=u.da([{type:"Float32",name:"a_pos_3f",components:3},{type:"Float32",name:"a_uv",components:2},{type:"Float32",name:"a_snowParticleData",components:4},{type:"Float32",name:"a_snowParticleDataHorizontalOscillation",components:2}]);class Mp extends Sm{constructor(r){super(2.25),this._params={overrideStyleParameters:!1,intensity:.85,timeFactor:.75,velocityConeAperture:70,velocity:40,horizontalOscillationRadius:4,horizontalOscillationRate:1.5,boxSize:2e3,billboardSize:2,shapeFadeStart:.27,shapeFadePower:.21,screenThinning:{intensity:.4,start:.15,range:1.4,fadePower:.24,affectedRatio:1,particleOffset:-.2},color:{r:1,g:1,b:1,a:1},direction:{x:-50,y:-35}},this._revealParams=new oc(r.tp,["Precipitation","Snow"]),this._vignetteParams={strength:.3,start:.78,range:.46,fadePower:.2,color:{r:1,g:1,b:1,a:1}},this.particlesCount=16e3}update(r){const l=r.context;if(!this.particlesVx){const p=xh(this.particlesCount),b=new u.du,C=new u.aU;let E=0;const R=u.di(1323123451230);for(let B=0;B<p.length;++B){const V=p[B],U=R(),Y=R(),ee=R(),le=[B/p.length,U,Y,ee],Ee=[R(),R()];b.emplaceBack(V[0],V[1],V[2],-1,-1,...le,...Ee),b.emplaceBack(V[0],V[1],V[2],1,-1,...le,...Ee),b.emplaceBack(V[0],V[1],V[2],1,1,...le,...Ee),b.emplaceBack(V[0],V[1],V[2],-1,1,...le,...Ee),C.emplaceBack(E+0,E+1,E+2),C.emplaceBack(E+0,E+2,E+3),E+=4}this.particlesVx=l.createVertexBuffer(b,Tp.members),this.particlesIdx=l.createIndexBuffer(C)}}draw(r){if(!this._params.overrideStyleParameters&&!r.style.snow)return;const l=structuredClone(this._params);let p=[-l.direction.x,l.direction.y,-100];u.ab.vec3.normalize(p,p);const b=structuredClone(this._vignetteParams),C=l.overrideStyleParameters?this._revealParams:{revealStart:0,revealRange:.01},E=r.transform.zoom;if(C.revealStart>E)return;const R=Pu(0,1,C.revealStart,C.revealStart+C.revealRange,E);b.strength*=R,l.overrideStyleParameters||(l.intensity=r.style.snow.state.density,l.timeFactor=r.style.snow.state.intensity,l.color=structuredClone(r.style.snow.state.color),p=structuredClone(r.style.snow.state.direction),l.screenThinning.intensity=r.style.snow.state.centerThinning,l.billboardSize=2.79*r.style.snow.state.flakeSize,b.strength=1,b.color=structuredClone(r.style.snow.state.vignetteColor));const B=this.updateOnRender(r,l.timeFactor);if(!this.particlesVx||!this.particlesIdx)return;const V=r.context,U=V.gl,Y=r.transform,ee=r.getOrCreateProgram("snowParticle");r.uploadCommonUniforms(V,ee),((le,Ee,xe)=>{const Oe=bd(this._movement.getPosition(),le),Me=Y.width/2,qe=Y.height/2,yt=Pu(0,xe.screenThinning.start,0,1,xe.screenThinning.intensity),gt=Pu(.001,xe.screenThinning.range,0,1,xe.screenThinning.intensity),Nt=Pu(0,xe.screenThinning.particleOffset,0,1,xe.screenThinning.intensity),Mt=(Dt={modelview:B.modelviewMatrix,projection:B.projectionMatrix,time:this._accumulatedTimeFromStart,camPos:Oe,velocityConeAperture:xe.velocityConeAperture,velocity:xe.velocity,horizontalOscillationRadius:xe.horizontalOscillationRadius,horizontalOscillationRate:xe.horizontalOscillationRate,boxSize:le,billboardSize:1*xe.billboardSize,simpleShapeParameters:[xe.shapeFadeStart,xe.shapeFadePower],screenSize:[Y.width,Y.height],thinningCenterPos:[Me,qe],thinningShape:[yt,gt,Math.pow(10,xe.screenThinning.fadePower)],thinningAffectedRatio:xe.screenThinning.affectedRatio,thinningParticleOffset:Nt,color:[xe.color.r,xe.color.g,xe.color.b,xe.color.a],direction:p},{u_modelview:Float32Array.from(Dt.modelview),u_projection:Float32Array.from(Dt.projection),u_time:Dt.time,u_cam_pos:Dt.camPos,u_velocityConeAperture:Dt.velocityConeAperture,u_velocity:Dt.velocity,u_horizontalOscillationRadius:Dt.horizontalOscillationRadius,u_horizontalOscillationRate:Dt.horizontalOscillationRate,u_boxSize:Dt.boxSize,u_billboardSize:Dt.billboardSize,u_simpleShapeParameters:Dt.simpleShapeParameters,u_screenSize:Dt.screenSize,u_thinningCenterPos:Dt.thinningCenterPos,u_thinningShape:Dt.thinningShape,u_thinningAffectedRatio:Dt.thinningAffectedRatio,u_thinningParticleOffset:Dt.thinningParticleOffset,u_particleColor:Dt.color,u_direction:Dt.direction});var Dt;const It=Math.round(xe.intensity*this.particlesCount),zt=u.b7.simpleSegment(0,0,4*It,2*It);this.particlesVx&&this.particlesIdx&&ee.draw(r,U.TRIANGLES,To.disabled,Zo.disabled,sa.alphaBlended,ea.disabled,Mt,"snow_particles",this.particlesVx,this.particlesIdx,zt,{})})(l.boxSize,0,l),this._vignette.draw(r,b)}}const yf={symbol:function(m,r,l,p,b){if(m.renderPass!=="translucent")return;const C=Zo.disabled,E=m.colorModeForRenderPass(),R=l.layout.get("text-variable-anchor"),B=l.layout.get("text-size-scale-range"),V=u.aw(m.scaleFactor,B[0],B[1]);R&&function(ee,le,Ee,xe,Oe,Me,qe,yt){const gt=le.transform,Nt=Oe==="map",Mt=Me==="map";for(const Dt of ee){const It=xe.getTile(Dt),zt=It.getBucket(Ee);if(!zt||!zt.text||!zt.text.segments.get().length)continue;const fn=u.bp(zt.textSizeData,gt.zoom,yt),nr=Qo(Dt,zt.getProjection(),gt),Hn=gt.calculatePixelsToTileUnitsMatrix(It),Er=Ve(nr,It.tileID.canonical,Mt,Nt,gt,zt.getProjection(),Hn),mr=zt.hasIconTextFit()&&zt.hasIconData();if(fn){const Dn=Math.pow(2,gt.zoom-It.tileID.overscaledZ);hh(zt,Nt,Mt,qe,u.cX,gt,Er,Dt,Dn,fn,mr)}}}(p,m,l,r,l.layout.get("text-rotation-alignment"),l.layout.get("text-pitch-alignment"),b,V);const U=l.paint.get("icon-opacity").constantOr(1)!==0,Y=l.paint.get("text-opacity").constantOr(1)!==0;l.layout.get("symbol-sort-key").constantOr(1)!==void 0&&(U||Y)?uf(m,r,l,p,C,E):(U&&uf(m,r,l,p,C,E,{onlyIcons:!0}),Y&&uf(m,r,l,p,C,E,{onlyText:!0})),r.map.showCollisionBoxes&&(dh(m,r,l,p,l.paint.get("text-translate"),l.paint.get("text-translate-anchor"),!0),dh(m,r,l,p,l.paint.get("icon-translate"),l.paint.get("icon-translate-anchor"),!1))},circle:function(m,r,l,p){if(m.renderPass!=="translucent")return;const b=l.paint.get("circle-opacity"),C=l.paint.get("circle-stroke-width"),E=l.paint.get("circle-stroke-opacity"),R=l.layout.get("circle-sort-key").constantOr(1)!==void 0,B=l.paint.get("circle-emissive-strength");if(b.constantOr(1)===0&&(C.constantOr(1)===0||E.constantOr(1)===0))return;const V=m.context,U=V.gl,Y=m.transform,ee=m.depthModeForSublayer(0,To.ReadOnly),le=Zo.disabled,Ee=m.colorModeForDrapableLayerRenderPass(B),xe=Y.projection.name==="globe",Oe=[u.at(Y.center.lng),u.aA(Y.center.lat)],Me=[];for(let yt=0;yt<p.length;yt++){const gt=p[yt],Nt=r.getTile(gt),Mt=Nt.getBucket(l);if(!Mt||Mt.projection.name!==Y.projection.name)continue;const Dt=Mt.programConfigurations.get(l.id),It=u.cY(l),zt=m.isTileAffectedByFog(gt);xe&&It.push("PROJECTION_GLOBE_VIEW"),It.push("DEPTH_D24"),m.terrain&&Y.depthOcclusionForSymbolsAndCircles&&It.push("DEPTH_OCCLUSION");const fn=m.getOrCreateProgram("circle",{config:Dt,defines:It,overrideFog:zt}),nr=Mt.layoutVertexBuffer,Hn=Mt.globeExtVertexBuffer,Er=Mt.indexBuffer,mr=Y.projection.createInversionMatrix(Y,gt.canonical),Dn={programConfiguration:Dt,program:fn,layoutVertexBuffer:nr,globeExtVertexBuffer:Hn,indexBuffer:Er,uniformValues:u.cZ(m,gt,Nt,mr,Oe,l),tile:Nt};if(R){const or=Mt.segments.get();for(const Gr of or)Me.push({segments:new u.b7([Gr]),sortKey:Gr.sortKey,state:Dn})}else Me.push({segments:Mt.segments,sortKey:0,state:Dn})}R&&Me.sort((yt,gt)=>yt.sortKey-gt.sortKey);const qe={useDepthForOcclusion:Y.depthOcclusionForSymbolsAndCircles};for(const yt of Me){const{programConfiguration:gt,program:Nt,layoutVertexBuffer:Mt,globeExtVertexBuffer:Dt,indexBuffer:It,uniformValues:zt,tile:fn}=yt.state,nr=yt.segments;m.terrain&&m.terrain.setupElevationDraw(fn,Nt,qe),m.uploadCommonUniforms(V,Nt,fn.tileID.toUnwrapped()),Nt.draw(m,U.TRIANGLES,ee,le,Ee,ea.disabled,zt,l.id,Mt,It,nr,l.paint,Y.zoom,gt,[Dt])}},heatmap:function(m,r,l,p){if(l.paint.get("heatmap-opacity")!==0)if(m.renderPass==="offscreen"){const b=m.context,C=b.gl,E=Zo.disabled,R=new sa([C.ONE,C.ONE,C.ONE,C.ONE],u.aj.transparent,[!0,!0,!0,!0]);(function(le,Ee,xe,Oe){const Me=le.gl,qe=Ee.width*Oe,yt=Ee.height*Oe;le.activeTexture.set(Me.TEXTURE1),le.viewport.set([0,0,qe,yt]);let gt=xe.heatmapFbo;if(!gt||gt&&(gt.width!==qe||gt.height!==yt)){gt&&gt.destroy();const Nt=Me.createTexture();Me.bindTexture(Me.TEXTURE_2D,Nt),Me.texParameteri(Me.TEXTURE_2D,Me.TEXTURE_WRAP_S,Me.CLAMP_TO_EDGE),Me.texParameteri(Me.TEXTURE_2D,Me.TEXTURE_WRAP_T,Me.CLAMP_TO_EDGE),Me.texParameteri(Me.TEXTURE_2D,Me.TEXTURE_MIN_FILTER,Me.LINEAR),Me.texParameteri(Me.TEXTURE_2D,Me.TEXTURE_MAG_FILTER,Me.LINEAR),gt=xe.heatmapFbo=le.createFramebuffer(qe,yt,!0,null),function(Mt,Dt,It,zt,fn,nr){const Hn=Mt.gl;Hn.texImage2D(Hn.TEXTURE_2D,0,Mt.extRenderToTextureHalfFloat?Hn.RGBA16F:Hn.RGBA,fn,nr,0,Hn.RGBA,Mt.extRenderToTextureHalfFloat?Hn.HALF_FLOAT:Hn.UNSIGNED_BYTE,null),zt.colorAttachment.set(It)}(le,0,Nt,gt,qe,yt)}else Me.bindTexture(Me.TEXTURE_2D,gt.colorAttachment.get()),le.bindFramebuffer.set(gt.framebuffer)})(b,m,l,m.transform.projection.name==="globe"?.5:.25),b.clear({color:u.aj.transparent});const B=m.transform,V=B.projection.name==="globe",U=V?["PROJECTION_GLOBE_VIEW"]:[],Y=V?ea.frontCCW:ea.disabled,ee=[u.at(B.center.lng),u.aA(B.center.lat)];for(let le=0;le<p.length;le++){const Ee=p[le];if(r.hasRenderableParent(Ee))continue;const xe=r.getTile(Ee),Oe=xe.getBucket(l);if(!Oe||Oe.projection.name!==B.projection.name)continue;const Me=m.isTileAffectedByFog(Ee),qe=Oe.programConfigurations.get(l.id),yt=m.getOrCreateProgram("heatmap",{config:qe,defines:U,overrideFog:Me}),{zoom:gt}=m.transform;m.terrain&&m.terrain.setupElevationDraw(xe,yt),m.uploadCommonUniforms(b,yt,Ee.toUnwrapped());const Nt=B.projection.createInversionMatrix(B,Ee.canonical);yt.draw(m,C.TRIANGLES,To.disabled,E,R,Y,lo(m,Ee,xe,Nt,ee,gt,l.paint.get("heatmap-intensity")),l.id,Oe.layoutVertexBuffer,Oe.indexBuffer,Oe.segments,l.paint,m.transform.zoom,qe,V?[Oe.globeExtVertexBuffer]:null)}b.viewport.set([0,0,m.width,m.height])}else m.renderPass==="translucent"&&(m.context.setColorMode(m.colorModeForRenderPass()),function(b,C){const E=b.context,R=E.gl,B=C.heatmapFbo;if(!B)return;E.activeTexture.set(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,B.colorAttachment.get()),E.activeTexture.set(R.TEXTURE1);let V=C.colorRampTexture;V||(V=C.colorRampTexture=new u.T(E,C.colorRamp,R.RGBA8)),V.bind(R.LINEAR,R.CLAMP_TO_EDGE),b.getOrCreateProgram("heatmapTexture").draw(b,R.TRIANGLES,To.disabled,Zo.disabled,b.colorModeForRenderPass(),ea.disabled,((U,Y,ee,le)=>({u_image:0,u_color_ramp:1,u_opacity:Y.paint.get("heatmap-opacity")}))(0,C),C.id,b.viewportBuffer,b.quadTriangleIndexBuffer,b.viewportSegments,C.paint,b.transform.zoom)}(m,l))},line:function(m,r,l,p){if(m.renderPass!=="translucent")return;const b=l.paint.get("line-opacity"),C=l.paint.get("line-width");if(b.constantOr(1)===0||C.constantOr(1)===0)return;const E=l.paint.get("line-emissive-strength"),R=l.paint.get("line-occlusion-opacity"),B=l.layout.get("line-elevation-reference"),V=l.layout.get("line-width-unit")==="meters",U=B==="sea",Y=m.context,ee=Y.gl;if(l.hasElevatedBuckets&&m.transform.projection.name==="globe")return;const le=l.layout.get("line-cross-slope"),Ee=le!==void 0,xe=le<1,Oe=m.colorModeForDrapableLayerRenderPass(E),Me=m.terrain&&m.terrain.renderingToTexture,qe=Me?1:u.q.devicePixelRatio,yt=l.paint.get("line-dasharray"),gt=yt.constantOr(1),Nt=l.layout.get("line-cap"),Mt=yt.constantOr(null),Dt=Nt.constantOr(null),It=l.paint.get("line-pattern"),zt=It.constantOr(1),fn=It.constantOr(null),nr=l.paint.get("line-opacity").constantOr(1);let Hn=!zt&&nr!==1||m.depthOcclusion&&R>0&&R<1;const Er=l.paint.get("line-gradient"),mr=zt?"linePattern":"line",Dn=u.c_(l);let or;if(Me&&m.terrain&&m.terrain.clipOrMaskOverlapStencilType()&&(Hn=!1),R!==0&&m.depthOcclusion){const On=l.paint._values["line-opacity"];On&&On.value&&On.value.kind==="constant"?or=On.value:u.w(`Occlusion opacity for layer ${l.id} is supported only when line-opacity isn't data-driven.`)}C.value.kind!=="constant"&&C.value.isLineProgressConstant===!1&&Dn.push("VARIABLE_LINE_WIDTH");const Gr=(On,Rr,Qn,xi,Br)=>{for(const Or of On){const ci=r.getTile(Or);if(zt&&!ci.patternsLoaded())continue;const vi=ci.getBucket(l);if(!vi||vi.hasZOffset&&!Br||!vi.hasZOffset&&Br)continue;m.prepareDrawTile();const Gi=vi.programConfigurations.get(l.id),Yi=m.isTileAffectedByFog(Or),ra=m.getOrCreateProgram(mr,{config:Gi,defines:Rr,overrideFog:Yi,overrideRtt:!Br&&void 0});if(fn&&ci.imageAtlas){const ba=u.A.from(fn).getPrimary().scaleSelf(qe).serialize(),ms=ci.imageAtlas.patternPositions[ba];ms&&Gi.setConstantPatternPositions(ms)}if(!zt&&Mt&&Dt&&ci.lineAtlas){const ba=ci.lineAtlas.getDash(Mt,Dt);ba&&Gi.setConstantPatternPositions(ba)}let[Bo,No]=l.paint.get("line-trim-offset");(Dt==="round"||Dt==="square")&&Bo!==No&&(Bo===0&&(Bo-=1),No===1&&(No+=1));const va=Me?Or.projMatrix:null,os=V?1/vi.tileToMeter/u.ar(ci,1,m.transform.zoom):1,Es=V?1/vi.tileToMeter/u.ar(ci,1,Math.floor(m.transform.zoom)):1,tl=zt?u.c$(m,ci,l,va,qe,os,Es,[Bo,No]):u.d0(m,ci,l,va,vi.lineClipsArray.length,qe,os,Es,[Bo,No]);if(Er){const ba=vi.gradients[l.id];let ms=ba.texture;if(l.gradientVersion!==ba.version){let xo=256;if(l.stepInterpolant){const Ka=r.getSource().maxzoom,xs=Or.canonical.z===Ka?Math.ceil(1<<m.transform.maxZoom-Or.canonical.z):1;xo=u.aw(u.d1(vi.maxLineLength/u.ag*1024*xs),256,Y.maxTextureSize)}ba.gradient=u.d2({expression:l.gradientExpression(),evaluationKey:"lineProgress",resolution:xo,image:ba.gradient||void 0,clips:vi.lineClipsArray}),ba.texture?ba.texture.update(ba.gradient):ba.texture=new u.T(Y,ba.gradient,ee.RGBA8),ba.version=l.gradientVersion,ms=ba.texture}Y.activeTexture.set(ee.TEXTURE1),ms.bind(l.stepInterpolant?ee.NEAREST:ee.LINEAR,ee.CLAMP_TO_EDGE)}gt&&(Y.activeTexture.set(ee.TEXTURE0),ci.lineAtlasTexture&&ci.lineAtlasTexture.bind(ee.LINEAR,ee.REPEAT),Gi.updatePaintBuffers()),zt&&(Y.activeTexture.set(ee.TEXTURE0),ci.imageAtlasTexture&&ci.imageAtlasTexture.bind(ee.LINEAR,ee.CLAMP_TO_EDGE),Gi.updatePaintBuffers()),Br&&!U&&m.terrain.setupElevationDraw(ci,ra),m.uploadCommonUniforms(Y,ra,Or.toUnwrapped());const js=ba=>{or!=null&&(or.value=nr*R),ra.draw(m,ee.TRIANGLES,Qn,ba,Oe,ea.disabled,tl,l.id,vi.layoutVertexBuffer,vi.indexBuffer,vi.segments,l.paint,m.transform.zoom,Gi,[vi.layoutVertexBuffer2,vi.patternVertexBuffer,vi.zOffsetVertexBuffer]),or!=null&&(or.value=nr)};if(Hn&&!Br){const ba=m.stencilModeForClipping(Or).ref;ba===0&&Me&&Y.clear({stencil:0});const ms={func:ee.EQUAL,mask:255};tl.u_alpha_discard_threshold=.8,js(new Zo(ms,ba,255,ee.KEEP,ee.KEEP,ee.INVERT)),tl.u_alpha_discard_threshold=0,js(new Zo(ms,ba,255,ee.KEEP,ee.KEEP,ee.KEEP))}else Hn&&Br&&(tl.u_alpha_discard_threshold=.001),js(Br?xi:m.stencilModeForClipping(Or))}};if(l.hasNonElevatedBuckets){const On=!Me&&m.terrain;R!==0&&On?u.w(`Occlusion opacity for layer ${l.id} is supported on terrain only if the layer has line-z-offset enabled.`):On?u.w(`Cannot render non-elevated lines in immediate mode when terrain is enabled. Layer: ${l.id}.`):Gr(p,Dn,m.depthModeForSublayer(0,To.ReadOnly),Zo.disabled,!1)}if(l.hasElevatedBuckets){Dn.push("ELEVATED"),Ee&&Dn.push(xe?"CROSS_SLOPE_HORIZONTAL":"CROSS_SLOPE_VERTICAL"),U&&Dn.push("ELEVATION_REFERENCE_SEA");const On=Hn?m.stencilModeFor3D():Zo.disabled,Rr=new To(m.depthOcclusion?ee.GREATER:ee.LEQUAL,To.ReadOnly,m.depthRangeFor3D);m.forceTerrainMode=!0,Gr(p,Dn,Rr,On,!0),m.forceTerrainMode=!1}Hn&&(m.resetStencilClippingMasks(),Me&&Y.clear({stencil:0})),R===0||m.depthOcclusion||Me||m.layersWithOcclusionOpacity.push(m.currentLayer)},fill:function(m,r,l,p){const b=l.paint.get("fill-color"),C=l.paint.get("fill-opacity"),E=l.is3D(),R=new To(m.context.gl.LEQUAL,To.ReadWrite,m.depthRangeFor3D);if(C.constantOr(1)===0)return;const B=l.paint.get("fill-emissive-strength"),V=m.colorModeForDrapableLayerRenderPass(B),U=l.paint.get("fill-pattern"),Y=m.opaquePassEnabledForLayer()&&!U.constantOr(1)&&b.constantOr(u.aj.transparent).a===1&&C.constantOr(0)===1?"opaque":"translucent";if(m.renderPass===Y){const ee=E?R:m.depthModeForSublayer(1,m.renderPass==="opaque"?To.ReadWrite:To.ReadOnly);yp(m,r,l,p,ee,V,!1)}if(!E&&m.renderPass==="translucent"&&l.paint.get("fill-antialias")){const ee=E?R:m.depthModeForSublayer(l.getPaintProperty("fill-outline-color")?2:0,To.ReadOnly);yp(m,r,l,p,ee,V,!0)}},"fill-extrusion":function(m,r,l,p){const b=l.paint.get("fill-extrusion-opacity"),C=m.context,E=C.gl,R=m.terrain,B=R&&R.renderingToTexture;if(b===0)return;const V=m.conflationActive&&m.style.isLayerClipped(l,r.getSource()),U=m.style.order.indexOf(l.fqid);if(V&&function(Y,ee,le,Ee,xe){for(const Oe of Ee){const Me=ee.getTile(Oe).getBucket(le);Me&&(Me.updateReplacement(Oe,Y.replacementSource,xe),Me.uploadCentroid(Y.context))}}(m,r,l,p,U),R||V)for(const Y of p){const ee=r.getTile(Y).getBucket(l);ee&&ph(m.context,r,Y,ee,l,R,V)}if(m.renderPass==="shadow"&&m.shadowRenderer){const Y=m.shadowRenderer;if(R&&b<.65&&l._transitionablePaint._values["fill-extrusion-opacity"].value.expression instanceof u.a9)return;const ee=Y.getShadowPassDepthMode(),le=Y.getShadowPassColorMode();Ld(m,r,l,p,ee,Zo.disabled,le,V)}else if(m.renderPass==="translucent"){const Y=!l.paint.get("fill-extrusion-pattern").constantOr(1),ee=l.paint.get("fill-extrusion-color").constantOr(u.aj.white);if(!B&&ee.a!==0){const le=new To(m.context.gl.LEQUAL,To.ReadWrite,m.depthRangeFor3D);b===1&&Y?Ld(m,r,l,p,le,Zo.disabled,sa.unblended,V):(Ld(m,r,l,p,le,Zo.disabled,sa.disabled,V),Ld(m,r,l,p,le,m.stencilModeFor3D(),m.colorModeForRenderPass(),V),m.resetStencilClippingMasks())}if(m.style.enable3dLights()&&Y&&(!R&&m.transform.projection.name!=="globe"||B)){const le=l.paint.get("fill-extrusion-opacity"),Ee=l.paint.get("fill-extrusion-ambient-occlusion-intensity"),xe=l.paint.get("fill-extrusion-ambient-occlusion-ground-radius"),Oe=l.paint.get("fill-extrusion-flood-light-intensity"),Me=l.paint.get("fill-extrusion-flood-light-color-use-theme").constantOr("default")==="none",qe=l.paint.get("fill-extrusion-flood-light-color").toRenderColor(Me?null:l.lut).toArray01().slice(0,3),yt=Ee>0&&xe>0,gt=Oe>0,Nt=(Dt,It,zt)=>(1-zt)*Dt+zt*It,Mt=Dt=>{const It=m.depthModeForSublayer(1,To.ReadOnly,E.LEQUAL,!0),zt=l.paint.get(Dt?"fill-extrusion-ambient-occlusion-ground-attenuation":"fill-extrusion-flood-light-ground-attenuation"),fn=Nt(.1,3,zt),nr=m._showOverdrawInspector;if(!nr){const Hn=new Zo({func:E.ALWAYS,mask:255},255,255,E.KEEP,E.KEEP,E.REPLACE),Er=new sa([E.ONE,E.ONE,E.ONE,E.ONE],u.aj.transparent,[!1,!1,!1,!0],E.MIN);df(m,r,l,p,It,Hn,Er,ea.disabled,Dt,"sdf",le,Ee,xe,Oe,qe,fn,V,!1)}{const Hn=nr?Zo.disabled:new Zo({func:E.EQUAL,mask:255},255,255,E.KEEP,E.DECR,E.DECR),Er=nr?m.colorModeForRenderPass():new sa([E.ONE_MINUS_DST_ALPHA,E.DST_ALPHA,E.ONE,E.ONE],u.aj.transparent,[!0,!0,!0,!0]);df(m,r,l,p,It,Hn,Er,ea.disabled,Dt,"color",le,Ee,xe,Oe,qe,fn,V,!1)}};if(B){const Dt=(It,zt,fn)=>{const nr=m.depthModeForSublayer(1,To.ReadOnly,E.LEQUAL,!1),Hn=l.paint.get(It?"fill-extrusion-ambient-occlusion-ground-attenuation":"fill-extrusion-flood-light-ground-attenuation"),Er=Nt(.1,3,Hn);{const mr=new sa([E.ONE,E.ONE,E.ONE,E.ONE],u.aj.transparent,[!1,!1,!1,!0]);df(m,r,l,p,nr,Zo.disabled,mr,ea.disabled,It,"clear",le,Ee,xe,Oe,qe,Er,V,zt)}{const mr=new Zo({func:E.ALWAYS,mask:255},255,255,E.KEEP,E.KEEP,E.REPLACE),Dn=new sa([E.ONE,E.ONE,E.ONE,E.ONE],u.aj.transparent,[!1,!1,!1,!0],E.MIN);df(m,r,l,p,nr,mr,Dn,ea.disabled,It,"sdf",le,Ee,xe,Oe,qe,Er,V,zt)}{const mr=It?E.ZERO:E.ONE_MINUS_DST_ALPHA,Dn=new Zo({func:E.EQUAL,mask:255},255,255,E.KEEP,E.DECR,E.DECR),or=new sa([mr,E.DST_ALPHA,E.ONE_MINUS_DST_ALPHA,E.ZERO],u.aj.transparent,[!0,!0,!0,!0]);df(m,r,l,p,nr,Dn,or,ea.disabled,It,"color",le,Ee,xe,Oe,qe,Er,V,zt)}{const mr=new sa([E.ONE,E.ONE,E.ONE,It?E.ZERO:E.ONE],u.aj.transparent,[!1,!1,!1,!0],It?E.FUNC_ADD:E.MAX);df(m,r,l,p,nr,Zo.disabled,mr,ea.disabled,It,"clear",le,Ee,xe,Oe,qe,Er,V,zt,fn)}};if(yt||gt){let It;if(m.prepareDrawTile(),R){const zt=R.drapeBufferSize[0],fn=R.drapeBufferSize[1];It=R.framebufferCopyTexture,It&&(!It||It.size[0]===zt&&It.size[1]===fn)||(It&&It.destroy(),It=R.framebufferCopyTexture=new u.T(C,new u.r({width:zt,height:fn}),E.RGBA8)),It.bind(E.LINEAR,E.CLAMP_TO_EDGE),E.copyTexSubImage2D(E.TEXTURE_2D,0,0,0,0,0,zt,fn)}yt&&Dt(!0,!1,It),gt&&Dt(!1,!0,It)}}else yt&&Mt(!0),gt&&Mt(!1),(yt||gt)&&m.resetStencilClippingMasks()}}},hillshade:function(m,r,l,p){if(m.renderPass!=="offscreen"&&m.renderPass!=="translucent"||m.style.disableElevatedTerrain)return;const b=m.context,C=m.terrain&&m.terrain.renderingToTexture,[E,R]=m.renderPass!=="translucent"||C?[{},p]:m.stencilConfigForOverlap(p);for(const B of R){const V=r.getTile(B);if(V.needsHillshadePrepare&&m.renderPass==="offscreen")Rg(m,V,l);else if(m.renderPass==="translucent"){const U=m.depthModeForSublayer(0,To.ReadOnly),Y=l.paint.get("hillshade-emissive-strength"),ee=m.colorModeForDrapableLayerRenderPass(Y),le=C&&m.terrain?m.terrain.stencilModeForRTTOverlap(B):E[B.overscaledZ];dp(m,B,V,l,U,le,ee)}}b.viewport.set([0,0,m.width,m.height]),m.resetStencilClippingMasks()},raster:function(m,r,l,p,b,C){if(m.renderPass!=="translucent"||l.paint.get("raster-opacity")===0)return;const E=m.transform.projection.name==="globe",R=l.paint.get("raster-elevation")!==0,B=R&&E;if(m.renderElevatedRasterBackface&&!B)return;const V=m.context,U=V.gl,Y=r.getSource(),ee=function(Mt,Dt,It,zt){const fn=Dt.paint.get("raster-color"),nr=Mt.type==="raster-array",Hn=[],Er=Dt.paint.get("raster-resampling"),mr=Dt.paint.get("raster-color-mix");let Dn=Dt.paint.get("raster-color-range");const or=[mr[0],mr[1],mr[2],0],Gr=mr[3];let On=Er==="nearest"?zt.NEAREST:zt.LINEAR;if(nr&&(Hn.push("RASTER_ARRAY"),fn||Hn.push("RASTER_COLOR"),Er==="linear"&&Hn.push("RASTER_ARRAY_LINEAR"),On=zt.NEAREST,!Dn&&Mt.rasterLayers)){const Rr=Mt.rasterLayers.find(({id:Qn})=>Qn===Dt.sourceLayer);Rr&&Rr.fields&&Rr.fields.range&&(Dn=Rr.fields.range)}if(Dn=Dn||[0,1],fn){Hn.push("RASTER_COLOR"),It.activeTexture.set(zt.TEXTURE2),Dt.updateColorRamp(Dn);let Rr=Dt.colorRampTexture;Rr||(Rr=Dt.colorRampTexture=new u.T(It,Dt.colorRamp,zt.RGBA8)),Rr.bind(zt.LINEAR,zt.CLAMP_TO_EDGE)}return{mix:or,range:Dn,offset:Gr,defines:Hn,resampling:On}}(Y,l,V,U);if(Y instanceof u.aJ&&!p.length&&!E)return;const le=l.paint.get("raster-emissive-strength"),Ee=m.colorModeForDrapableLayerRenderPass(le),xe=m.terrain&&m.terrain.renderingToTexture,Oe=!m.options.moving,Me=l.paint.get("raster-resampling")==="nearest"?U.NEAREST:U.LINEAR;if(Y instanceof u.aJ&&!p.length&&(Y.onNorthPole||Y.onSouthPole)){const Mt=R?m.stencilModeFor3D():Zo.disabled;return void Un(!!Y.onNorthPole,null,m,r,l,le,ee,ea.disabled,Mt)}if(!p.length)return;const[qe,yt]=Y instanceof u.aJ||xe?[{},p]:m.stencilConfigForOverlap(p),gt=yt[yt.length-1].overscaledZ;B&&ee.defines.push("PROJECTION_GLOBE_VIEW"),R&&ee.defines.push("RENDER_CUTOFF");const Nt=(Mt,Dt,It)=>{for(const zt of Mt){const fn=zt.toUnwrapped(),nr=r.getTile(zt);if(xe&&(!nr||!nr.hasData()))continue;V.activeTexture.set(U.TEXTURE0);const Hn=gh(nr,Y,l,ee);if(!Hn||!Hn.texture)continue;const{texture:Er,mix:mr,offset:Dn,tileSize:or,buffer:Gr}=Hn;let On,Rr;xe?(On=To.disabled,Rr=zt.projMatrix):R?(On=new To(U.LEQUAL,To.ReadWrite,m.depthRangeFor3D),Rr=E?Float32Array.from(m.transform.expandedFarZProjMatrix):m.transform.calculateProjMatrix(fn,Oe)):(On=m.depthModeForSublayer(zt.overscaledZ-gt,l.paint.get("raster-opacity")===1?To.ReadWrite:To.ReadOnly,U.LESS),Rr=m.transform.calculateProjMatrix(fn,Oe));const Qn=m.terrain&&xe?m.terrain.stencilModeForRTTOverlap(zt):qe[zt.overscaledZ],xi=C?0:l.paint.get("raster-fade-duration");nr.registerFadeDuration(xi);const Br=r.findLoadedParent(zt,0),Or=Dl(nr,Br,r,m.transform,xi);let ci,vi;m.terrain&&m.terrain.prepareDrawTile(),V.activeTexture.set(U.TEXTURE0),Er.bind(Me,U.CLAMP_TO_EDGE),V.activeTexture.set(U.TEXTURE1),Br?(Br.texture&&Br.texture.bind(Me,U.CLAMP_TO_EDGE),ci=Math.pow(2,Br.tileID.overscaledZ-nr.tileID.overscaledZ),vi=[nr.tileID.canonical.x*ci%1,nr.tileID.canonical.y*ci%1]):Er.bind(Me,U.CLAMP_TO_EDGE),Er.useMipmap&&V.extTextureFilterAnisotropic&&m.transform.pitch>20&&U.texParameterf(U.TEXTURE_2D,V.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,V.extTextureFilterAnisotropicMax);const Gi=m.transform;let Yi;const ra=R?Sv(Gi):[0,0,0,0];let Bo,No,va,os,Es,tl=0;if(B&&Y instanceof u.aJ&&Y.coordinates.length>3)Bo=Float32Array.from(u.bb(u.cH(new u.bT(0,0,0)))),No=Float32Array.from(Gi.globeMatrix),va=Float32Array.from(u.cD(Gi)),os=[u.at(Gi.center.lng),u.aA(Gi.center.lat)],Yi=Y.elevatedGlobePerspectiveTransform,Es=Y.elevatedGlobeGridMatrix||new Float32Array(9);else if(B){const xo=u.cE(zt.canonical);tl=u.cF(xo.getCenter().lat),Bo=Float32Array.from(u.bb(u.cH(zt.canonical))),No=Float32Array.from(Gi.globeMatrix),va=Float32Array.from(u.cD(Gi)),os=[u.at(Gi.center.lng),u.aA(Gi.center.lat)],Yi=[0,0],Es=Float32Array.from(u.cG(zt.canonical,xo,tl,Gi.worldSize/Gi._pixelsPerMercatorPixel))}else Yi=Y instanceof u.aJ?Y.perspectiveTransform:[0,0],Bo=new Float32Array(16),No=new Float32Array(9),va=new Float32Array(16),os=[0,0],Es=new Float32Array(9);const js=gd(Rr,Bo,No,va,Es,vi||[0,0],u.ae(m.transform.zoom),os,ra,ci||1,Or,l,Yi,R?l.paint.get("raster-elevation"):0,2,mr,Dn,ee.range,or,Gr,le),ba=m.isTileAffectedByFog(zt),ms=m.getOrCreateProgram("raster",{defines:ee.defines,overrideFog:ba});if(m.uploadCommonUniforms(V,ms,fn),Y instanceof u.aJ){const xo=Y.elevatedGlobeVertexBuffer,Ka=Y.elevatedGlobeIndexBuffer;if(xe||!E)Y.boundsBuffer&&Y.boundsSegments&&ms.draw(m,U.TRIANGLES,On,Zo.disabled,Ee,ea.disabled,js,l.id,Y.boundsBuffer,m.quadTriangleIndexBuffer,Y.boundsSegments);else if(xo&&Ka){const xs=Gi.zoom<=u.c6?Y.elevatedGlobeSegments:Y.getSegmentsForLongitude(Gi.center.lng);xs&&ms.draw(m,U.TRIANGLES,On,Zo.disabled,Ee,Dt,js,l.id,xo,Ka,xs)}}else if(B){On=new To(U.LEQUAL,To.ReadOnly,m.depthRangeFor3D);const xo=m.globeSharedBuffers;if(xo){const[Ka,xs,ws]=xo.getGridBuffers(tl,!1);ms.draw(m,U.TRIANGLES,On,It||Qn,m.colorModeForRenderPass(),Dt,js,l.id,Ka,xs,ws)}}else{const{tileBoundsBuffer:xo,tileBoundsIndexBuffer:Ka,tileBoundsSegments:xs}=m.getTileBoundsBuffers(nr);ms.draw(m,U.TRIANGLES,On,Qn,Ee,ea.disabled,js,l.id,xo,Ka,xs)}}if(!(Y instanceof u.aJ)&&B)for(const zt of Mt){const fn=zt.canonical.y===(1<<zt.canonical.z)-1;zt.canonical.y===0&&Un(!0,zt,m,r,l,le,ee,Dt,It||Zo.disabled),fn&&Un(!1,zt,m,r,l,le,ee,Dt===ea.frontCW?ea.backCW:ea.frontCW,It||Zo.disabled)}};B?Nt(yt,m.renderElevatedRasterBackface?ea.backCW:ea.frontCW,m.stencilModeFor3D()):Nt(yt,ea.disabled,void 0),m.resetStencilClippingMasks()},"raster-particle":function(m,r,l,p,b,C){m.renderPass==="offscreen"&&function(E,R,B,V){if(!V.length)return;const U=E.context,Y=U.gl,ee=R.getSource();if(!(ee instanceof ft))return;const le=Math.ceil(Math.sqrt(B.paint.get("raster-particle-count")));let Ee=B.particlePositionRGBAImage;if(!Ee||Ee.width!==le){const yt=function(gt){const Nt=gt*gt,Mt=new Uint8Array(4*Nt),Dt=function(zt){return zt|=0,zt=Math.imul(2747636419^zt,2654435769),zt=Math.imul(zt^zt>>>16,2654435769),((zt=Math.imul(zt^zt>>>16,2654435769))>>>0)/4294967296},It=1/1.1;for(let zt=0;zt<Nt;zt++){const fn=It*(Dt(2*zt+0)+Mo),nr=It*(Dt(2*zt+1)+Mo),Hn=255*fn%1,Er=255*nr%1,mr=Hn,Dn=nr-Er/255,or=Er;Mt[4*zt+0]=255*(fn-Hn/255),Mt[4*zt+1]=255*mr,Mt[4*zt+2]=255*Dn,Mt[4*zt+3]=255*or}return Mt}(le);Ee=B.particlePositionRGBAImage=new u.r({width:le,height:le},yt)}let xe=B.particleFramebuffer;xe?xe.width!==le&&(xe.destroy(),xe=B.particleFramebuffer=U.createFramebuffer(le,le,!0,null)):xe=B.particleFramebuffer=U.createFramebuffer(le,le,!0,null);const Oe=[];for(const yt of V){const gt=R.getTile(yt);if(!(gt instanceof oo))continue;const Nt=bp(gt,ee,B);if(!Nt)continue;const Mt=[gt.tileSize,gt.tileSize];let Dt=B.tileFramebuffer;Dt||(Dt=B.tileFramebuffer=U.createFramebuffer(Mt[0],Mt[1],!0,null));let It=gt.rasterParticleState;It||(It=gt.rasterParticleState=new yd(U,yt,Mt,Ee));const zt=It.update(B.lastInvalidatedAt);It.particleTextureDimension!==le&&It.updateParticleTexture(yt,Ee);const fn=It.targetColorTexture;It.targetColorTexture=It.backgroundColorTexture,It.backgroundColorTexture=fn;const nr=It.particleTexture0;It.particleTexture0=It.particleTexture1,It.particleTexture1=nr,Oe.push([yt,Nt,It,zt])}if(Oe.length===0)return;const Me=u.q.now(),qe=B.previousDrawTimestamp?.001*(Me-B.previousDrawTimestamp):.0167;if(B.previousDrawTimestamp=Me,B.hasColorMap()){U.activeTexture.set(Y.TEXTURE0+2);let yt=B.colorRampTexture;yt||(yt=B.colorRampTexture=new u.T(U,B.colorRamp,Y.RGBA8)),yt.bind(Y.LINEAR,Y.CLAMP_TO_EDGE)}U.bindFramebuffer.set(B.tileFramebuffer.framebuffer),function(yt,gt,Nt){const Mt=yt.context,Dt=Mt.gl,It=gt.tileFramebuffer;Mt.activeTexture.set(Dt.TEXTURE0);const zt={u_texture:0,u_opacity:1.05*(nr=gt.paint.get("raster-particle-fade-opacity-factor"))/(nr+.05)},fn=yt.getOrCreateProgram("rasterParticleTexture",{defines:[],overrideFog:!1});var nr;for(const Hn of Nt){const[,,Er,mr]=Hn;It.colorAttachment.set(Er.targetColorTexture.texture),Mt.viewport.set([0,0,It.width,It.height]),Mt.clear({color:u.aj.transparent}),mr&&(Er.backgroundColorTexture.bind(Dt.NEAREST,Dt.CLAMP_TO_EDGE),fn.draw(yt,Dt.TRIANGLES,To.disabled,Zo.disabled,sa.alphaBlended,ea.disabled,zt,gt.id,yt.viewportBuffer,yt.quadTriangleIndexBuffer,yt.viewportSegments))}}(E,B,Oe),function(yt,gt,Nt,Mt){const Dt=yt.context,It=Dt.gl,zt=Nt.tileFramebuffer,fn=yt.transform.projection.name==="globe",nr=Nt.paint.get("raster-particle-max-speed");for(const Hn of Mt){const[Er,mr,Dn]=Hn;Dt.activeTexture.set(It.TEXTURE0+0),mr.texture.bind(It.LINEAR,It.CLAMP_TO_EDGE),zt.colorAttachment.set(Dn.targetColorTexture.texture);const or=yt.getOrCreateProgram("rasterParticleDraw",{defines:mr.defines,overrideFog:!1});Dt.activeTexture.set(It.TEXTURE0+1);const Gr=mr.scalarData?[]:[0,1,2,3].map(Qn=>u.d4[Qn](Er));Gr.push(Er);const On=Er.canonical.x,Rr=Er.canonical.y;for(const Qn of Gr){const xi=gt.getTile(fn?Qn.wrapped():Qn);if(!xi)continue;const Br=xi.rasterParticleState;if(!Br)continue;const Or=Qn.canonical.x+(1<<Qn.canonical.z)*(Qn.wrap-Er.wrap),ci=Qn.canonical.y;Br.particleTexture0.bind(It.NEAREST,It.CLAMP_TO_EDGE);const vi=Ag(1,Br.particleTexture0.size[0],[Or-On,ci-Rr],0,mr.texture.size,2,nr,mr.textureOffset,mr.scale,mr.offset);or.draw(yt,It.POINTS,To.disabled,Zo.disabled,sa.alphaBlended,ea.disabled,vi,Nt.id,Br.particleIndexBuffer,void 0,Br.particleSegment)}}}(E,R,B,Oe),U.bindFramebuffer.set(B.particleFramebuffer.framebuffer),function(yt,gt,Nt,Mt){const Dt=yt.context,It=Dt.gl,zt=gt.paint.get("raster-particle-max-speed"),fn=Mt*gt.paint.get("raster-particle-speed-factor")*.15,nr=function(Er){return Math.pow(Er,6)}(.01+1*gt.paint.get("raster-particle-reset-rate-factor")),Hn=gt.particleFramebuffer;Dt.viewport.set([0,0,Hn.width,Hn.height]);for(const Er of Nt){const[,mr,Dn]=Er;Dt.activeTexture.set(It.TEXTURE0+0),mr.texture.bind(It.LINEAR,It.CLAMP_TO_EDGE),Dt.activeTexture.set(It.TEXTURE0+1);const or=Dn.particleTexture0;or.bind(It.NEAREST,It.CLAMP_TO_EDGE);const Gr=Cv(1,or.size[0],0,mr.texture.size,zt,fn,nr,mr.textureOffset,mr.scale,mr.offset);Hn.colorAttachment.set(Dn.particleTexture1.texture),Dt.clear({color:u.aj.transparent}),yt.getOrCreateProgram("rasterParticleUpdate",{defines:mr.defines}).draw(yt,It.TRIANGLES,To.disabled,Zo.disabled,sa.unblended,ea.disabled,Gr,gt.id,yt.viewportBuffer,yt.quadTriangleIndexBuffer,yt.viewportSegments)}}(E,B,Oe,qe)}(m,r,l,p),m.renderPass==="translucent"&&(function(E,R,B,V,U){const Y=E.context,ee=Y.gl,le=R.getSource().tileSize,Ee=5*(1-u.ac(u.bY,u.bY+1,E.transform.zoom))*le+B.paint.get("raster-particle-elevation"),xe=!E.options.moving,Oe=E.transform.projection.name==="globe";if(!V.length)return;const[Me,qe]=E.stencilConfigForOverlap(V),yt=[];Oe&&yt.push("PROJECTION_GLOBE_VIEW");const gt=E.stencilModeFor3D();for(const Nt of qe){const Mt=Nt.toUnwrapped(),Dt=R.getTile(Nt);if(!Dt.rasterParticleState)continue;const It=Dt.rasterParticleState,zt=100;Dt.registerFadeDuration(zt);const fn=R.findLoadedParent(Nt,0),nr=Dl(Dt,fn,R,E.transform,zt);let Hn,Er;E.terrain&&E.terrain.prepareDrawTile(),Y.activeTexture.set(ee.TEXTURE0),It.targetColorTexture.bind(ee.LINEAR,ee.CLAMP_TO_EDGE),Y.activeTexture.set(ee.TEXTURE1),fn&&fn.rasterParticleState?(fn.rasterParticleState.targetColorTexture.bind(ee.LINEAR,ee.CLAMP_TO_EDGE),Hn=Math.pow(2,fn.tileID.overscaledZ-Dt.tileID.overscaledZ),Er=[Dt.tileID.canonical.x*Hn%1,Dt.tileID.canonical.y*Hn%1]):It.targetColorTexture.bind(ee.LINEAR,ee.CLAMP_TO_EDGE);const mr=Oe?Float32Array.from(E.transform.expandedFarZProjMatrix):E.transform.calculateProjMatrix(Mt,xe),Dn=E.transform,or=_p(Dn),Gr=u.cE(Nt.canonical),On=u.cF(Gr.getCenter().lat);let Rr,Qn,xi,Br,Or;Oe?(Rr=Float32Array.from(u.bb(u.cH(Nt.canonical))),Qn=Float32Array.from(Dn.globeMatrix),xi=Float32Array.from(u.cD(Dn)),Br=[u.at(Dn.center.lng),u.aA(Dn.center.lat)],Or=Float32Array.from(u.cG(Nt.canonical,Gr,On,Dn.worldSize/Dn._pixelsPerMercatorPixel))):(Rr=new Float32Array(16),Qn=new Float32Array(9),xi=new Float32Array(16),Br=[0,0],Or=new Float32Array(9));const ci=dm(mr,Rr,Qn,xi,Or,Er||[0,0],u.ae(E.transform.zoom),Br,or,Hn||1,nr,Ee),vi=E.isTileAffectedByFog(Nt),Gi=E.getOrCreateProgram("rasterParticle",{defines:yt,overrideFog:vi});if(E.uploadCommonUniforms(Y,Gi,Mt),Oe){const Yi=new To(ee.LEQUAL,To.ReadOnly,E.depthRangeFor3D),ra=0,Bo=E.globeSharedBuffers;if(Bo){const[No,va,os]=Bo.getGridBuffers(On,ra!==0);Gi.draw(E,ee.TRIANGLES,Yi,gt,sa.alphaBlended,E.renderElevatedRasterBackface?ea.frontCCW:ea.backCCW,ci,B.id,No,va,os)}}else{const Yi=E.depthModeForSublayer(0,To.ReadOnly),ra=Me[Nt.overscaledZ],{tileBoundsBuffer:Bo,tileBoundsIndexBuffer:No,tileBoundsSegments:va}=E.getTileBoundsBuffers(Dt);Gi.draw(E,ee.TRIANGLES,Yi,ra,sa.alphaBlended,ea.disabled,ci,B.id,Bo,No,va)}}E.resetStencilClippingMasks()}(m,r,l,p),m.style.map.triggerRepaint())},background:function(m,r,l,p){const b=l.paint.get("background-color"),C=l.paint.get("background-color-use-theme").constantOr("default")==="none",E=l.paint.get("background-opacity"),R=l.paint.get("background-emissive-strength"),B=l.paint.get("background-pitch-alignment")==="viewport";if(E===0)return;const V=m.context,U=V.gl,Y=m.transform,ee=Y.tileSize,le=l.paint.get("background-pattern");let Ee;if(le!==void 0&&(le===null||(Ee=m.imageManager.getPattern(le.toString(),l.scope,m.style.getLut(l.scope)),!Ee)))return;const xe=!le&&b.a===1&&E===1&&m.opaquePassEnabledForLayer()?"opaque":"translucent";if(m.renderPass!==xe)return;const Oe=Zo.disabled,Me=m.depthModeForSublayer(0,xe==="opaque"?To.ReadWrite:To.ReadOnly),qe=m.colorModeForDrapableLayerRenderPass(R),yt=le?"backgroundPattern":"background";let gt,Nt=p;if(Nt||(gt=m.getBackgroundTiles(),Nt=Object.values(gt).map(Mt=>Mt.tileID)),le&&(V.activeTexture.set(U.TEXTURE0),m.imageManager.bind(m.context,l.scope)),B){const Mt=m.getOrCreateProgram(yt,{overrideFog:!1,overrideRtt:!0}),Dt=new Float32Array(u.ab.mat4.identity([])),It=new u.aG(0,0,0,0,0),zt=le?gp(Dt,R,E,m,0,l.scope,Ee,B,{tileID:It,tileSize:ee}):Dg(Dt,R,E,b.toRenderColor(C?null:l.lut));Mt.draw(m,U.TRIANGLES,Me,Oe,qe,ea.disabled,zt,l.id,m.viewportBuffer,m.quadTriangleIndexBuffer,m.viewportSegments)}else for(const Mt of Nt){const Dt=m.isTileAffectedByFog(Mt),It=m.getOrCreateProgram(yt,{overrideFog:Dt}),zt=Mt.toUnwrapped(),fn=p?Mt.projMatrix:m.transform.calculateProjMatrix(zt);m.prepareDrawTile();const nr=r?r.getTile(Mt):gt?gt[Mt.key]:new qo(Mt,ee,Y.zoom,m),Hn=le?gp(fn,R,E,m,0,l.scope,Ee,B,{tileID:Mt,tileSize:ee}):Dg(fn,R,E,b.toRenderColor(C?null:l.lut));m.uploadCommonUniforms(V,It,zt);const{tileBoundsBuffer:Er,tileBoundsIndexBuffer:mr,tileBoundsSegments:Dn}=m.getTileBoundsBuffers(nr);It.draw(m,U.TRIANGLES,Me,Oe,qe,ea.disabled,Hn,l.id,Er,mr,Dn)}},sky:function(m,r,l){const p=m._atmosphere?u.ae(m.transform.zoom):1,b=l.paint.get("sky-opacity")*p;if(b===0)return;const C=m.context,E=l.paint.get("sky-type"),R=new To(C.gl.LEQUAL,To.ReadOnly,[0,1]),B=m.frameCounter/1e3%1;E==="atmosphere"?m.renderPass==="offscreen"?l.needsSkyboxCapture(m)&&(function(V,U,Y,ee){const le=V.context,Ee=le.gl;let xe=U.skyboxFbo;if(!xe){xe=U.skyboxFbo=le.createFramebuffer(32,32,!0,null),U.skyboxGeometry=new Sp(le),U.skyboxTexture=le.gl.createTexture(),Ee.bindTexture(Ee.TEXTURE_CUBE_MAP,U.skyboxTexture),Ee.texParameteri(Ee.TEXTURE_CUBE_MAP,Ee.TEXTURE_WRAP_S,Ee.CLAMP_TO_EDGE),Ee.texParameteri(Ee.TEXTURE_CUBE_MAP,Ee.TEXTURE_WRAP_T,Ee.CLAMP_TO_EDGE),Ee.texParameteri(Ee.TEXTURE_CUBE_MAP,Ee.TEXTURE_MIN_FILTER,Ee.LINEAR),Ee.texParameteri(Ee.TEXTURE_CUBE_MAP,Ee.TEXTURE_MAG_FILTER,Ee.LINEAR);for(let yt=0;yt<6;++yt)Ee.texImage2D(Ee.TEXTURE_CUBE_MAP_POSITIVE_X+yt,0,Ee.RGBA,32,32,0,Ee.RGBA,Ee.UNSIGNED_BYTE,null)}le.bindFramebuffer.set(xe.framebuffer),le.viewport.set([0,0,32,32]);const Oe=U.getCenter(V,!0),Me=V.getOrCreateProgram("skyboxCapture"),qe=new Float64Array(16);u.ab.mat4.identity(qe),u.ab.mat4.rotateY(qe,qe,.5*-Math.PI),ec(V,U,Me,qe,Oe,0),u.ab.mat4.identity(qe),u.ab.mat4.rotateY(qe,qe,.5*Math.PI),ec(V,U,Me,qe,Oe,1),u.ab.mat4.identity(qe),u.ab.mat4.rotateX(qe,qe,.5*-Math.PI),ec(V,U,Me,qe,Oe,2),u.ab.mat4.identity(qe),u.ab.mat4.rotateX(qe,qe,.5*Math.PI),ec(V,U,Me,qe,Oe,3),u.ab.mat4.identity(qe),ec(V,U,Me,qe,Oe,4),u.ab.mat4.identity(qe),u.ab.mat4.rotateY(qe,qe,Math.PI),ec(V,U,Me,qe,Oe,5),le.viewport.set([0,0,V.width,V.height])}(m,l),l.markSkyboxValid(m)):m.renderPass==="sky"&&function(V,U,Y,ee,le){const Ee=V.context,xe=Ee.gl,Oe=V.transform,Me=V.getOrCreateProgram("skybox");Ee.activeTexture.set(xe.TEXTURE0),xe.bindTexture(xe.TEXTURE_CUBE_MAP,U.skyboxTexture);const qe=((yt,gt,Nt,Mt,Dt)=>({u_matrix:yt,u_sun_direction:gt,u_cubemap:0,u_opacity:Mt,u_temporal_offset:Dt}))(Oe.skyboxMatrix,U.getCenter(V,!1),0,ee,le);V.uploadCommonUniforms(Ee,Me),Me.draw(V,xe.TRIANGLES,Y,Zo.disabled,V.colorModeForRenderPass(),ea.backCW,qe,"skybox",U.skyboxGeometry.vertexBuffer,U.skyboxGeometry.indexBuffer,U.skyboxGeometry.segment)}(m,l,R,b,B):E==="gradient"&&m.renderPass==="sky"&&function(V,U,Y,ee,le){const Ee=V.context,xe=Ee.gl,Oe=V.transform,Me=V.getOrCreateProgram("skyboxGradient");U.skyboxGeometry||(U.skyboxGeometry=new Sp(Ee)),Ee.activeTexture.set(xe.TEXTURE0);let qe=U.colorRampTexture;qe||(qe=U.colorRampTexture=new u.T(Ee,U.colorRamp,xe.RGBA8)),qe.bind(xe.LINEAR,xe.CLAMP_TO_EDGE);const yt=((gt,Nt,Mt,Dt,It)=>({u_matrix:gt,u_color_ramp:0,u_center_direction:Nt,u_radius:u.ai(Mt),u_opacity:Dt,u_temporal_offset:It}))(Oe.skyboxMatrix,U.getCenter(V,!1),U.paint.get("sky-gradient-radius"),ee,le);V.uploadCommonUniforms(Ee,Me),Me.draw(V,xe.TRIANGLES,Y,Zo.disabled,V.colorModeForRenderPass(),ea.backCW,yt,"skyboxGradient",U.skyboxGeometry.vertexBuffer,U.skyboxGeometry.indexBuffer,U.skyboxGeometry.segment)}(m,l,R,b,B)},debug:function(m,r,l,p,b,C){for(let E=0;E<l.length;E++)if(b){const V=new u.aj(p.r*.8,p.g*.8,p.b*.8,1);Wu(m,r,l[E],p,-1,-1,C),Wu(m,r,l[E],p,-1,1,C),Wu(m,r,l[E],p,1,1,C),Wu(m,r,l[E],p,1,-1,C),Wu(m,r,l[E],V,0,0,C)}else Wu(m,r,l[E],p,0,0,C)},custom:function(m,r,l,p){const b=m.context,C=l.implementation;if(!m.transform.projection.unsupportedLayers||!m.transform.projection.unsupportedLayers.includes("custom")||m.terrain&&(m.terrain.renderingToTexture||m.renderPass==="offscreen")&&l.isDraped(r)){if(m.renderPass==="offscreen"){const E=C.prerender;if(E){if(m.setCustomLayerDefaults(),b.setColorMode(m.colorModeForRenderPass()),m.transform.projection.name==="globe"){const R=m.transform.pointMerc;E.call(C,b.gl,m.transform.customLayerMatrix(),m.transform.getProjection(),m.transform.globeToMercatorMatrix(),u.ae(m.transform.zoom),[R.x,R.y],m.transform.pixelsPerMeterRatio)}else E.call(C,b.gl,m.transform.customLayerMatrix());b.setDirty(),m.setBaseState()}}else if(m.renderPass==="translucent"){if(m.terrain&&m.terrain.renderingToTexture){const R=C.renderToTile;if(R){const B=p[0].canonical,V=new u.aa(B.x+p[0].wrap*(1<<B.z),B.y,B.z);b.setDepthMode(To.disabled),b.setStencilMode(Zo.disabled),b.setColorMode(m.colorModeForRenderPass()),m.setCustomLayerDefaults(),R.call(C,b.gl,V),b.setDirty(),m.setBaseState()}return}m.setCustomLayerDefaults(),b.setColorMode(m.colorModeForRenderPass()),b.setStencilMode(Zo.disabled);const E=C.renderingMode==="3d"?new To(m.context.gl.LEQUAL,To.ReadWrite,m.depthRangeFor3D):m.depthModeForSublayer(0,To.ReadOnly);if(b.setDepthMode(E),m.transform.projection.name==="globe"){const R=m.transform.pointMerc;C.render(b.gl,m.transform.customLayerMatrix(),m.transform.getProjection(),m.transform.globeToMercatorMatrix(),u.ae(m.transform.zoom),[R.x,R.y],m.transform.pixelsPerMeterRatio)}else C.render(b.gl,m.transform.customLayerMatrix());b.setDirty(),m.setBaseState(),b.bindFramebuffer.set(null)}}else u.w("Custom layers are not yet supported with this projection. Use mercator or globe to enable usage of custom layers.")},model:function(m,r,l,p){if(m.renderPass==="opaque")return;const b=l.paint.get("model-opacity").constantOr(1);if(b===0)return;const C=l.paint.get("model-cast-shadows");if(m.renderPass==="shadow"&&(!C||m.terrain&&b<.65&&l._transitionablePaint._values["model-opacity"].value.expression instanceof u.a9))return;const E=m.shadowRenderer,R=l.paint.get("model-receive-shadows");E&&(E.useNormalOffset=!0,R||(E.enabled=!1));const B=()=>{E&&(E.useNormalOffset=!0,R||(E.enabled=!0))},V=r.getSource();if(m.renderPass==="light-beam"&&V.type!=="batched-model")return;if(V.type==="vector"||V.type==="geojson")return function(Me,qe,yt,gt,Nt){const Mt=Me.transform;if(Mt.projection.name!=="mercator")return void u.w(`Drawing 3D models for ${Mt.projection.name} projection is not yet implemented`);const Dt=Mt.getFreeCameraOptions().position;if(!Me.modelManager)return;const It=Me.modelManager;yt.modelManager=It;const zt=Me.shadowRenderer;if(!yt._unevaluatedLayout._values.hasOwnProperty("model-id"))return;const fn=yt._unevaluatedLayout._values["model-id"],nr=Object.assign({},yt.layout.get("model-id").parameters),Hn=Me.style.order.indexOf(yt.fqid);for(const Er of gt){const mr=qe.getTile(Er).getBucket(yt);if(!mr||mr.projection.name!==Mt.projection.name)continue;const Dn=mr.getModelUris();Dn&&!mr.modelsRequested&&(It.addModelsFromBucket(Dn,Nt),mr.modelsRequested=!0);const or=ym(Er,Mt);nr.zoom=or;const Gr=fn.possiblyEvaluate(nr);if(Mu(Me,mr,Er),fc.shadowUniformsInitialized=!1,fc.useSingleShadowCascade=!!zt&&zt.getMaxCascadeForTile(Er.toUnwrapped())===0,Me.renderPass==="shadow"&&zt){if(Me.currentShadowCascade===1&&mr.isInsideFirstShadowMapFrustum)continue;const Qn=Mt.calculatePosMatrix(Er.toUnwrapped(),Mt.worldSize);if(fc.tileMatrix.set(Qn),fc.shadowTileMatrix=Float32Array.from(zt.calculateShadowPassMatrixFromMatrix(Qn)),fc.aabb.min.fill(0),fc.aabb.max[0]=fc.aabb.max[1]=u.ag,fc.aabb.max[2]=0,_m(mr,fc,Me,yt.scope))continue}const On=1<<Er.canonical.z,Rr=[((Dt.x-Er.wrap)*On-Er.canonical.x)*u.ag,(Dt.y*On-Er.canonical.y)*u.ag,Dt.z*On*u.ag];Me.conflationActive&&Object.keys(mr.instancesPerModel).length>0&&Me.style.isLayerClipped(yt,qe.getSource())&&mr.updateReplacement(Er,Me.replacementSource,Hn,Nt)&&(mr.uploaded=!1,mr.upload(Me.context));for(let Qn in mr.instancesPerModel){const xi=mr.instancesPerModel[Qn];xi.features.length>0&&(Qn=Gr.evaluate(xi.features[0].feature,{}));const Br=It.getModel(Qn,Nt);if(Br&&Br.uploaded)for(const Or of Br.nodes)gf(Me,yt,Or,xi,Rr,Er,fc)}}}(m,r,l,p,V.type==="vector"?l.scope:""),void B();if(!V.loaded())return;if(V.type==="batched-model")return function(Me,qe,yt,gt){yt.resetLayerRenderingStats(Me);const Nt=Me.context,Mt=Me.transform,Dt=Me.style.fog,It=Me.shadowRenderer;if(Mt.projection.name!=="mercator")return void u.w(`Drawing 3D landmark models for ${Mt.projection.name} projection is not yet implemented`);const zt=Me.transform.getFreeCameraOptions().position,fn=u.ab.vec3.scale([],[zt.x,zt.y,zt.z],Me.transform.worldSize),nr=u.ab.vec3.negate([],fn),Hn=u.ab.mat4.identity([]),Er=u.dj(Mt.center.lat,Mt.zoom),mr=u.ab.mat4.fromScaling([],[1,1,1/Er]);u.ab.mat4.translate(Hn,Hn,nr);const Dn=yt.paint.get("model-opacity").constantOr(1),or=new To(Nt.gl.LEQUAL,To.ReadWrite,Me.depthRangeFor3D),Gr=new To(Nt.gl.LEQUAL,To.ReadOnly,Me.depthRangeFor3D),On=new u.cd([1/0,1/0,1/0],[-1/0,-1/0,-1/0]),Rr=Me.renderPass==="shadow",Qn=Rr&&It?It.getCurrentCascadeFrustum():Mt.getFrustum(Mt.scaleZoom(Mt.worldSize)),xi=yt.paint.get("model-front-cutoff"),Br=xi[2]<1,Or=Gt(Me,yt.paint.get("model-cutoff-fade-range")),ci=yt.getLayerRenderingStats();(function(vi,Gi,Yi,ra){const Bo=vi.terrain?vi.terrain.exaggeration():0,No=vi.transform.zoom;for(const va of ra){const os=Gi.getTile(va).getBucket(Yi);os&&(vi.conflationActive&&os.updateReplacement(va,vi.replacementSource),os.evaluateScale(vi,Yi),vi.terrain&&Bo>0&&os.elevationUpdate(vi.terrain,Bo,va,Yi.source),os.needsReEvaluation(vi,No,Yi)&&os.evaluate(Yi))}})(Me,qe,yt,gt),function(){let vi,Gi,Yi;Br?(vi=gt.length-1,Gi=-1,Yi=-1):(vi=0,Gi=gt.length,Yi=1);const ra=new Float64Array(16),Bo=u.ab.vec3.create(),No=new u.P(0,0);for(let va=vi;va!==Gi;va+=Yi){const os=gt[va],Es=qe.getTile(os).getBucket(yt);if(!Es||!Es.uploaded)continue;let tl=!1;It&&(tl=It.getMaxCascadeForTile(os.toUnwrapped())===0);const js=Mt.calculatePosMatrix(os.toUnwrapped(),Mt.worldSize),ba=Es.modelTraits;!Rr&&Br&&(u.ab.mat4.invert(ra,js),u.ab.vec3.transformMat4(Bo,fn,ra),No.x=Bo[0],No.y=Bo[1]);const ms=[];for(const xo of Es.getNodesInfo()){if(xo.hiddenByReplacement||!xo.node.meshes)continue;const Ka=xo.node;let xs=0;Me.terrain&&Ka.elevation&&(xs=Ka.elevation*Me.terrain.exaggeration());const ws=(()=>{const us=xo.aabb;return On.min=[...us.min],On.max=[...us.max],On.min[2]+=xs,On.max[2]+=xs,u.ab.vec3.transformMat4(On.min,On.min,js),u.ab.vec3.transformMat4(On.max,On.max,js),On})(),ol=xo.evaluatedScale;if(ol[0]<=1&&ol[1]<=1&&ol[2]<=1&&ws.intersects(Qn)===0)continue;if(!Rr&&Br){const us=.16666666666666666;xo.cameraCollisionOpacity=fn[0]>ws.min[0]&&fn[0]<ws.max[0]&&fn[1]>ws.min[1]&&fn[1]<ws.max[1]&&fn[2]*Er<ws.max[2]&&Ka.footprint&&u.bA(No,Ka.footprint)?Math.max(xo.cameraCollisionOpacity-us,0):Math.min(1,xo.cameraCollisionOpacity+us)}const Hl=[...js],Cl=Ka.anchor?Ka.anchor[0]:0,Pl=Ka.anchor?Ka.anchor[1]:0;u.ab.mat4.translate(Hl,Hl,[Cl*(ol[0]-1),Pl*(ol[1]-1),xs]),u.ab.vec3.exactEquals(ol,u.dm)||u.ab.mat4.scale(Hl,Hl,ol);const Rc=u.ab.mat4.multiply([],Hl,Ka.matrix),Cc=u.ab.mat4.multiply([],Mt.expandedFarZProjMatrix,Rc),al=u.ab.mat4.multiply([],Mt.expandedFarZProjMatrix,Hl),zs=u.ab.vec4.transformMat4([],[Cl,Pl,xs,1],Cc)[2];Ka.hidden=!1;let $s=Dn;Rr||(Br&&($s*=xo.cameraCollisionOpacity,$s*=wp(Hl,Mt,xo.aabb,xi)),$s*=Bd(Or,zs)),$s!==0?ms.push({nodeInfo:xo,depth:zs,opacity:$s,wvpForNode:Cc,wvpForTile:al,nodeModelMatrix:Rc,tileModelMatrix:Hl}):Ka.hidden=!0}Rr||ms.sort((xo,Ka)=>!Br||xo.opacity===1&&Ka.opacity===1?xo.depth<Ka.depth?-1:1:xo.opacity===1?-1:Ka.opacity===1?1:xo.depth>Ka.depth?-1:1);for(const xo of ms){const Ka=xo.nodeInfo,xs=Ka.node;let ws=u.ab.mat4.multiply([],mr,xo.tileModelMatrix);u.ab.mat4.multiply(ws,Hn,ws);const ol=u.ab.mat4.invert([],ws);u.ab.mat4.transpose(ol,ol),u.ab.mat4.scale(ol,ol,bm),ws=u.ab.mat4.multiply(ws,ws,xs.matrix);const Hl=Me.renderPass==="light-beam",Cl=yt.paint.get("model-color-use-theme").constantOr("default")==="none",Pl=ba&u.dp.HasMapboxMeshFeatures,Rc=Pl?0:Ka.evaluatedRMEA[0][2];for(let Cc=0;Cc<xs.meshes.length;++Cc){const al=xs.meshes[Cc],zs=Cc===xs.lightMeshIndex;let $s=xo.wvpForNode;if(zs){if(!Hl&&!Me.terrain&&Me.shadowRenderer){Me.currentLayer<Me.firstLightBeamLayer&&(Me.firstLightBeamLayer=Me.currentLayer);continue}$s=xo.wvpForTile}else if(Hl)continue;const us={defines:[]},fl=[];if(!Rr&&It&&(It.useNormalOffset=!!al.normalBuffer),pf(us.defines,fl,al,Me,Cl?null:yt.lut),Pl||us.defines.push("DIFFUSE_SHADED"),tl&&us.defines.push("SHADOWS_SINGLE_CASCADE"),ci&&(Rr?ci.numRenderedVerticesInShadowPass+=al.vertexArray.length:ci.numRenderedVerticesInTransparentPass+=al.vertexArray.length),Rr){vm(al,xo.nodeModelMatrix,Me,yt);continue}let Ul=null;if(Dt){const xu=Xu(xo.nodeModelMatrix,Me.transform);if(Ul=new Float32Array(xu),Mt.projection.name!=="globe"){const Yc=al.aabb.min,jc=al.aabb.max,[Hd,Jc]=Dt.getOpacityForBounds(xu,Yc[0],Yc[1],jc[0],jc[1]);us.overrideFog=Hd>=ge||Jc>=ge}}const Ps=al.material;let Sc;Ps.occlusionTexture&&Ps.occlusionTexture.offsetScale&&(Sc=Ps.occlusionTexture.offsetScale,us.defines.push("OCCLUSION_TEXTURE_TRANSFORM"));const qc=Me.getOrCreateProgram("model",us);!Rr&&It&&It.setupShadowsFromMatrix(xo.tileModelMatrix,qc,It.useNormalOffset),Me.uploadCommonUniforms(Nt,qc,null,Ul);const kc=Ps.pbrMetallicRoughness;kc.metallicFactor=.9,kc.roughnessFactor=.5;const mc=sf(new Float32Array($s),new Float32Array(ws),new Float32Array(ol),new Float32Array(xs.matrix),Me,xo.opacity,kc.baseColorFactor.toRenderColor(null),Ps.emissiveFactor,kc.metallicFactor,kc.roughnessFactor,Ps,Rc,yt,[0,0,0],Sc);!zs&&(Ka.hasTranslucentParts||xo.opacity<1)&&qc.draw(Me,Nt.gl.TRIANGLES,or,Zo.disabled,sa.disabled,ea.backCCW,mc,yt.id,al.vertexBuffer,al.indexBuffer,al.segments,yt.paint,Me.transform.zoom,void 0,fl),qc.draw(Me,Nt.gl.TRIANGLES,zs?Gr:or,Zo.disabled,zs||xo.opacity<1||Ka.hasTranslucentParts?sa.alphaBlended:sa.unblended,ea.backCCW,mc,yt.id,al.vertexBuffer,al.indexBuffer,al.segments,yt.paint,Me.transform.zoom,void 0,fl)}}}}()}(m,r,l,p),void B();if(V.type!=="model")return;const U=V.getModels(),Y=[],ee=m.transform.getFreeCameraOptions().position,le=u.ab.vec3.scale([],[ee.x,ee.y,ee.z],m.transform.worldSize);u.ab.vec3.negate(le,le);const Ee=[],xe=[];let Oe=0;for(const Me of U){const qe=l.paint.get("model-rotation").constantOr(null),yt=l.paint.get("model-scale").constantOr(null),gt=l.paint.get("model-translation").constantOr(null);Me.computeModelMatrix(m,qe,yt,gt,!0,!0,!1);const Nt=u.ab.mat4.identity([]),Mt=u.dj(Me.position.lat,m.transform.zoom),Dt=u.ab.mat4.fromScaling([],[1,1,1/Mt]);u.ab.mat4.translate(Nt,Nt,le),Y.push({zScaleMatrix:Dt,negCameraPosMatrix:Nt});for(const It of Me.nodes)gm(m.transform,It,Me.matrix,m.transform.expandedFarZProjMatrix,Oe,Ee,xe);Oe++}if(Ee.sort((Me,qe)=>qe.depth-Me.depth),m.renderPass!=="shadow"){if(b===1)for(const Me of xe)Ku(Me,m,l,Y[Me.modelIndex],Zo.disabled,m.colorModeForRenderPass());else{for(const Me of xe)Ku(Me,m,l,Y[Me.modelIndex],Zo.disabled,sa.disabled);for(const Me of xe)Ku(Me,m,l,Y[Me.modelIndex],m.stencilModeFor3D(),m.colorModeForRenderPass());m.resetStencilClippingMasks()}for(const Me of Ee)Ku(Me,m,l,Y[Me.modelIndex],Zo.disabled,m.colorModeForRenderPass());B()}else{for(const Me of xe)vm(Me.mesh,Me.nodeModelMatrix,m,l);for(const Me of Ee)vm(Me.mesh,Me.nodeModelMatrix,m,l);B()}}},bf={line:function(m,r,l){if(m.hasElevatedBuckets=!1,m.hasNonElevatedBuckets=!1,m._unevaluatedLayout.getValue("line-elevation-reference")!==void 0||m._unevaluatedLayout.getValue("line-z-offset")!==void 0){if(r){const p=r.getVisibleCoordinates();for(const b of p){const C=r.getTile(b).getBucket(m);if(C&&(C.hasZOffset?m.hasElevatedBuckets=!0:m.hasNonElevatedBuckets=!0,m.hasElevatedBuckets&&m.hasNonElevatedBuckets))break}}}else m.hasNonElevatedBuckets=!0},model:function(m,r,l){const p=r.getSource();if(!p.loaded())return;if(p.type==="vector"||p.type==="geojson")return void(l.modelManager&&l.modelManager.upload(l,p.type==="vector"?m.scope:""));if(p.type==="batched-model"||p.type!=="model")return;const b=p.getModels();for(const C of b)C.upload(l.context)},raster:function(m,r,l){const p=r.getSource();if(!(p instanceof ft&&p.loaded()))return;const b=m.sourceLayer||p.rasterLayerIds&&p.rasterLayerIds[0];if(!b)return;const C=m.paint.get("raster-array-band")||p.getInitialBand(b);if(C==null)return;const E=r.getIds().map(R=>r.getTileByID(R));for(const R of E)R.updateNeeded(b,C)&&p.prepareTile(R,b,C)},"raster-particle":function(m,r,l){const p=r.getSource();if(!(p instanceof ft&&p.loaded()))return;const b=m.sourceLayer||p.rasterLayerIds&&p.rasterLayerIds[0];if(!b)return;const C=m.paint.get("raster-particle-array-band")||p.getInitialBand(b);if(C==null)return;const E=r.getIds().map(R=>r.getTileByID(R));for(const R of E)R.updateNeeded(b,C)&&p.prepareTile(R,b,C)}};class _f{constructor(r,l,p,b,C){this.context=new cf(r,l),this.transform=p,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.tp=C,this._timeStamp=u.q.now(),this._averageFPS=0,this._fpsHistory=[],this._dt=0,this._debugParams={forceEnablePrecipitation:!1,showTerrainProxyTiles:!1,fpsWindow:30,continousRedraw:!1,enabledLayers:{}};const E=["fill","line","symbol","circle","heatmap","fill-extrusion","raster","raster-particle","hillshade","model","background","sky"];for(const B of E)this._debugParams.enabledLayers[B]=!0;C.registerParameter(this._debugParams,["Terrain"],"showTerrainProxyTiles",{},()=>{this.style.map.triggerRepaint()}),C.registerParameter(this._debugParams,["Precipitation"],"forceEnablePrecipitation"),C.registerParameter(this._debugParams,["FPS"],"fpsWindow",{min:1,max:100,step:1}),C.registerBinding(this._debugParams,["FPS"],"continousRedraw",{readonly:!0,label:"continuous redraw"}),C.registerBinding(this,["FPS"],"_averageFPS",{readonly:!0,label:"value"}),C.registerBinding(this,["FPS"],"_averageFPS",{readonly:!0,label:"graph",view:"graph",min:0,max:200});for(const B of E)C.registerParameter(this._debugParams.enabledLayers,["Debug","Layers"],B);this.occlusionParams=new xm(C),this.setup(),this.numSublayers=so.maxUnderzooming+so.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={},this.conflationActive=!1,this.replacementSource=new u.dv,this.longestCutoffRange=0,this.minCutoffZoom=0,this._fogVisible=!1,this._cachedTileFogOpacities={},this._shadowRenderer=new Lr(this),this._wireframeDebugCache=new bh,this.renderDefaultNorthPole=!0,this.renderDefaultSouthPole=!0,this.layersWithOcclusionOpacity=[];const R=new u.r({width:1,height:1},Uint8Array.of(0,0,0,0));this.emptyDepthTexture=new u.T(this.context,R,r.RGBA8),this._clippingActiveLastFrame=!1,this.scaleFactor=b}updateTerrain(r,l){const p=!!r&&!!r.terrain&&this.transform.projection.supportsTerrain;if(!(p||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new Lc(this,r));const b=this._terrain;this.transform.elevation=p?b:null,b.update(r,this.transform,l),this.transform.elevation&&!b.enabled&&(this.transform.elevation=null)}_updateFog(r){const l=r.fog;if(!l||this.transform.projection.name==="globe"||l.getOpacity(this.transform.pitch)<1||l.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[p,b]=l.getFovAdjustedRange(this.transform._fov);if(p>b)return void(this.transform.fogCullDistSq=null);const C=p+.78*(b-p);this.transform.fogCullDistSq=C*C}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled||this._forceTerrainMode?this._terrain:null}get forceTerrainMode(){return this._forceTerrainMode}set forceTerrainMode(r){r&&!this._terrain&&(this._terrain=new Lc(this,this.style)),this._forceTerrainMode=r}get shadowRenderer(){return this._shadowRenderer&&this._shadowRenderer.enabled?this._shadowRenderer:null}get wireframeDebugCache(){return this._wireframeDebugCache}resize(r,l){if(this.width=r*u.q.devicePixelRatio,this.height=l*u.q.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const p of this.style.order)this.style._mergedLayers[p].resize()}setup(){const r=this.context,l=new u.b4;l.emplaceBack(0,0),l.emplaceBack(u.ag,0),l.emplaceBack(0,u.ag),l.emplaceBack(u.ag,u.ag),this.tileExtentBuffer=r.createVertexBuffer(l,u.b6.members),this.tileExtentSegments=u.b7.simpleSegment(0,0,4,2);const p=new u.b4;p.emplaceBack(0,0),p.emplaceBack(u.ag,0),p.emplaceBack(0,u.ag),p.emplaceBack(u.ag,u.ag),this.debugBuffer=r.createVertexBuffer(p,u.b6.members),this.debugSegments=u.b7.simpleSegment(0,0,4,5);const b=new u.b4;b.emplaceBack(-1,-1),b.emplaceBack(1,-1),b.emplaceBack(-1,1),b.emplaceBack(1,1),this.viewportBuffer=r.createVertexBuffer(b,u.b6.members),this.viewportSegments=u.b7.simpleSegment(0,0,4,2);const C=new u.aT;C.emplaceBack(0,0,0,0),C.emplaceBack(u.ag,0,u.ag,0),C.emplaceBack(0,u.ag,0,u.ag),C.emplaceBack(u.ag,u.ag,u.ag,u.ag),this.mercatorBoundsBuffer=r.createVertexBuffer(C,u.b9.members),this.mercatorBoundsSegments=u.b7.simpleSegment(0,0,4,2);const E=new u.aU;E.emplaceBack(0,1,2),E.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=r.createIndexBuffer(E);const R=new u.b5;for(const V of[0,1,3,2,0])R.emplaceBack(V);this.debugIndexBuffer=r.createIndexBuffer(R),this.emptyTexture=new u.T(r,new u.r({width:1,height:1},Uint8Array.of(0,0,0,0)),r.gl.RGBA8),this.identityMat=u.ab.mat4.create();const B=this.context.gl;this.stencilClearMode=new Zo({func:B.ALWAYS,mask:0},0,255,B.ZERO,B.ZERO,B.ZERO),this.loadTimeStamps.push(performance.now())}getMercatorTileBoundsBuffers(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(r){return r._makeTileBoundsBuffers(this.context,this.transform.projection),r._tileBoundsBuffer?{tileBoundsBuffer:r._tileBoundsBuffer,tileBoundsIndexBuffer:r._tileBoundsIndexBuffer,tileBoundsSegments:r._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const r=this.context.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.getOrCreateProgram("clippingMask").draw(this,r.TRIANGLES,To.disabled,this.stencilClearMode,sa.disabled,ea.disabled,ic(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={})}_renderTileClippingMasks(r,l,p){if(!l||this.currentStencilSource===l.id||!r.isTileClipped()||!p||p.length===0)return;if(this._tileClippingMaskIDs&&!this.terrain){let R=!1;for(const B of p)if(this._tileClippingMaskIDs[B.key]===void 0){R=!0;break}if(!R)return}this.currentStencilSource=l.id;const b=this.context,C=b.gl;this.nextStencilID+p.length>256&&this.clearStencil(),b.setColorMode(sa.disabled),b.setDepthMode(To.disabled);const E=this.getOrCreateProgram("clippingMask");this._tileClippingMaskIDs={};for(const R of p){const B=l.getTile(R),V=this._tileClippingMaskIDs[R.key]=this.nextStencilID++,{tileBoundsBuffer:U,tileBoundsIndexBuffer:Y,tileBoundsSegments:ee}=this.getTileBoundsBuffers(B);E.draw(this,C.TRIANGLES,To.disabled,new Zo({func:C.ALWAYS,mask:0},V,255,C.KEEP,C.KEEP,C.REPLACE),sa.disabled,ea.disabled,ic(R.projMatrix),"$clipping",U,Y,ee)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const r=this.nextStencilID++,l=this.context.gl;return new Zo({func:l.NOTEQUAL,mask:255},r,255,l.KEEP,l.KEEP,l.REPLACE)}stencilModeForClipping(r){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(r);const l=this.context.gl;return new Zo({func:l.EQUAL,mask:255},this._tileClippingMaskIDs[r.key],0,l.KEEP,l.KEEP,l.REPLACE)}stencilConfigForOverlap(r){const l=this.context.gl,p=r.sort((E,R)=>R.overscaledZ-E.overscaledZ),b=p[p.length-1].overscaledZ,C=p[0].overscaledZ-b+1;if(C>1){this.currentStencilSource=void 0,this.nextStencilID+C>256&&this.clearStencil();const E={};for(let R=0;R<C;R++)E[R+b]=new Zo({func:l.GEQUAL,mask:255},R+this.nextStencilID,255,l.KEEP,l.KEEP,l.REPLACE);return this.nextStencilID+=C,[E,p]}return[{[b]:Zo.disabled},p]}colorModeForRenderPass(){const r=this.context.gl;return this._showOverdrawInspector?new sa([r.CONSTANT_COLOR,r.ONE,r.CONSTANT_COLOR,r.ONE],new u.aj(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?sa.unblended:sa.alphaBlended}colorModeForDrapableLayerRenderPass(r){const l=this.context.gl;return this.style&&this.style.enable3dLights()&&this.terrain&&this.terrain.renderingToTexture&&this.renderPass==="translucent"?new sa([l.ONE,l.ONE_MINUS_SRC_ALPHA,l.CONSTANT_ALPHA,l.ONE_MINUS_SRC_ALPHA],new u.aj(0,0,0,r===void 0?0:r),[!0,!0,!0,!0]):this.colorModeForRenderPass()}depthModeForSublayer(r,l,p,b=!1){if(this.depthOcclusion)return new To(this.context.gl.GREATER,To.ReadOnly,this.depthRangeFor3D);if(!this.opaquePassEnabledForLayer()&&!b)return To.disabled;const C=1-((1+this.currentLayer)*this.numSublayers+r)*this.depthEpsilon;return new To(p||this.context.gl.LEQUAL,l,[C,C])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}blitDepth(){const r=this.context.gl,l=Math.ceil(this.width),p=Math.ceil(this.height),b=this.context.bindFramebuffer.get(),C=r.getParameter(r.TEXTURE_BINDING_2D);this.depthFBO&&this.depthFBO.width===l&&this.depthFBO.height===p||(this.depthFBO&&(this.depthFBO.destroy(),this.depthFBO=void 0,this.depthTexture=void 0),l!==0&&p!==0&&(this.depthFBO=new lf(this.context,l,p,!1,"texture"),this.depthTexture=new u.T(this.context,{width:l,height:p,data:null},r.DEPTH24_STENCIL8),this.depthFBO.depthAttachment.set(this.depthTexture.texture))),this.context.bindFramebuffer.set(b),r.bindTexture(r.TEXTURE_2D,C),this.depthFBO&&(r.bindFramebuffer(r.READ_FRAMEBUFFER,null),r.bindFramebuffer(r.DRAW_FRAMEBUFFER,this.depthFBO.framebuffer),r.blitFramebuffer(0,0,l,p,0,0,l,p,r.DEPTH_BUFFER_BIT,r.NEAREST),r.bindFramebuffer(r.FRAMEBUFFER,this.context.bindFramebuffer.current))}updateAverageFPS(){this._fpsHistory.push(this._dt===0?0:1e3/this._dt),this._fpsHistory.length>this._debugParams.fpsWindow&&this._fpsHistory.splice(0,this._fpsHistory.length-this._debugParams.fpsWindow),this._averageFPS=Math.round(this._fpsHistory.reduce((r,l)=>r+l/this._fpsHistory.length,0))}render(r,l){const p=u.q.now();this._dt=p-this._timeStamp,this._timeStamp=p,this._wireframeDebugCache.update(this.frameCounter),this._debugParams.continousRedraw=r.map.repaint,this.style=r,this.options=l;const b=this.style._mergedLayers,C=!(!this.terrain||!this.terrain.enabled),E=()=>this.style._getOrder(C).filter(Dn=>{const or=b[Dn];return!(or.type in this._debugParams.enabledLayers)||this._debugParams.enabledLayers[or.type]});let R=E(),B=!1,V=!1;for(const Dn of R){const or=b[Dn];or.type==="circle"&&(B=!0),or.type==="symbol"&&(or.hasInitialOcclusionOpacityProperties?V=!0:B=!0)}let U=R.map(Dn=>b[Dn]);const Y=this.style._mergedSourceCaches;this.imageManager=r.imageManager,this.modelManager=r.modelManager,this.symbolFadeChange=r.placement.symbolFadeChange(u.q.now()),this.imageManager.beginFrame();let ee=0,le=!1;for(const Dn in Y){const or=Y[Dn];or.used&&(or.prepare(this.context),or.getSource().usedInConflation&&++ee)}let Ee=!1;for(const Dn of U)Dn.isHidden(this.transform.zoom)||(Dn.type==="clip"&&(Ee=!0),this.prepareLayer(Dn));const xe={},Oe={},Me={},qe={},yt={};for(const Dn in Y){const or=Y[Dn];xe[Dn]=or.getVisibleCoordinates(),Oe[Dn]=xe[Dn].slice().reverse(),Me[Dn]=or.getVisibleCoordinates(!0).reverse(),qe[Dn]=or.getShadowCasterCoordinates(),yt[Dn]=or.sortCoordinatesByDistance(xe[Dn])}const gt=Dn=>{const or=this.style.getLayerSourceCache(Dn);return or&&or.used?or.getSource():null};if(ee||Ee||this._clippingActiveLastFrame){const Dn=[],or=[];let Gr=0;for(const On of U)this.isSourceForClippingOrConflation(On,gt(On))&&(Dn.push(On),or.push(Gr)),Gr++;if(Dn&&(Ee||Dn.length>1)||this._clippingActiveLastFrame){Ee=!1;const On=[];for(let Rr=0;Rr<Dn.length;Rr++){const Qn=Dn[Rr],xi=or[Rr],Br=this.style.getLayerSourceCache(Qn);if(!Br||!Br.used||!Br.getSource().usedInConflation&&Qn.type!=="clip")continue;let Or=u.dx,ci=u.by.None;const vi=[];let Gi=!0;if(Qn.type==="clip"){Or=xi;for(const Yi of Qn.layout.get("clip-layer-types"))ci|=Yi==="model"?u.by.Model:Yi==="symbol"?u.by.Symbol:u.by.FillExtrusion;for(const Yi of Qn.layout.get("clip-layer-scope"))vi.push(Yi);Qn.isHidden(this.transform.zoom)?Gi=!1:Ee=!0}Gi&&On.push({layer:Qn.fqid,cache:Br,order:Or,clipMask:ci,clipScope:vi})}this.replacementSource.setSources(On),le=!0}}this._clippingActiveLastFrame=Ee,le||this.replacementSource.clear(),this.conflationActive=le,this.minCutoffZoom=0,this.longestCutoffRange=0,this.opaquePassCutoff=1/0,this._lastOcclusionLayer=-1,this.layersWithOcclusionOpacity=[];for(let Dn=0;Dn<U.length;Dn++){const or=U[Dn],Gr=or.cutoffRange();if(this.longestCutoffRange=Math.max(Gr,this.longestCutoffRange),Gr>0){const On=gt(or);On&&(this.minCutoffZoom=Math.max(On.minzoom,this.minCutoffZoom)),or.minzoom&&(this.minCutoffZoom=Math.max(or.minzoom,this.minCutoffZoom))}or.is3D()&&(this.opaquePassCutoff===1/0&&(this.opaquePassCutoff=Dn),this._lastOcclusionLayer=Dn)}const Nt=this.style&&this.style.fog;Nt?(this._fogVisible=Nt.getOpacity(this.transform.pitch)!==0,this._fogVisible&&this.transform.projection.name!=="globe"&&(this._fogVisible=Nt.isVisibleOnFrustum(this.transform.cameraFrustum))):this._fogVisible=!1,this._cachedTileFogOpacities={},this.terrain&&(this.terrain.updateTileBinding(Me),this.opaquePassCutoff=0,R=E(),U=R.map(Dn=>b[Dn]));const Mt=this._shadowRenderer;if(Mt){Mt.updateShadowParameters(this.transform,this.style.directionalLight);for(const Dn in Y)for(const or of xe[Dn]){let Gr={min:0,max:0};this.terrain&&(Gr=this.terrain.getMinMaxForTile(or)||Gr),Mt.addShadowReceiver(or.toUnwrapped(),Gr.min,Gr.max)}}this.transform.projection.name!=="globe"||this.globeSharedBuffers||(this.globeSharedBuffers=new u.dw(this.context)),this.style.fog&&this.transform.projection.supportsFog?(this._atmosphere||(this._atmosphere=new Ng(this)),this._atmosphere.update(this)):this._atmosphere&&(this._atmosphere.destroy(),this._atmosphere=void 0);const Dt=this._debugParams.forceEnablePrecipitation||!(!this.style||!this.style.snow),It=this._debugParams.forceEnablePrecipitation||!(!this.style||!this.style.rain);if(Dt&&!this._snow&&(this._snow=new Mp(this)),!Dt&&this._snow&&(this._snow.destroy(),delete this._snow),It&&!this._rain&&(this._rain=new vf(this)),!It&&this._rain&&(this._rain.destroy(),delete this._rain),this._snow&&this._snow.update(this),this._rain&&this._rain.update(this),!Mn.has(this.context.gl))return;this.renderPass="offscreen";for(const Dn of U){const or=r.getLayerSourceCache(Dn);if(!Dn.hasOffscreenPass()||Dn.isHidden(this.transform.zoom))continue;const Gr=or?Oe[or.id]:void 0;(Dn.type==="custom"||Dn.type==="raster"||Dn.type==="raster-particle"||Dn.isSky()||Gr&&Gr.length)&&this.renderLayer(this,or,Dn,Gr)}this.depthRangeFor3D=[0,1-(U.length+2)*this.numSublayers*this.depthEpsilon],this._shadowRenderer&&(this.renderPass="shadow",this._shadowRenderer.drawShadowPass(this.style,qe)),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]);const zt=this.transform.projection.name==="globe"||this.transform.isHorizonVisible(),fn=(()=>{if(l.showOverdrawInspector)return u.aj.black;const Dn=this.style.fog;if(Dn&&this.transform.projection.supportsFog){const or=this.style.getLut(Dn.scope);if(!zt){const Gr=Dn.properties.get("color-use-theme")==="none",On=Dn.properties.get("color").toRenderColor(Gr?null:or).toArray01();return new u.aj(...On)}if(zt){const Gr=Dn.properties.get("space-color-use-theme")==="none",On=Dn.properties.get("space-color").toRenderColor(Gr?null:or).toArray01();return new u.aj(...On)}}return u.aj.transparent})();if(this.context.clear({color:fn,depth:1}),this.clearStencil(),this._showOverdrawInspector=l.showOverdrawInspector,this.renderPass="opaque",this.style.fog&&this.transform.projection.supportsFog&&this._atmosphere&&!this._showOverdrawInspector&&zt&&this._atmosphere.drawStars(this,this.style.fog),!this.terrain)for(this.currentLayer=R.length-1;this.currentLayer>=0;this.currentLayer--){const Dn=U[this.currentLayer],or=r.getLayerSourceCache(Dn);if(Dn.isSky())continue;const Gr=or?(Dn.is3D()?yt:Oe)[or.id]:void 0;this._renderTileClippingMasks(Dn,or,Gr),this.renderLayer(this,or,Dn,Gr)}if(this.style.fog&&this.transform.projection.supportsFog&&this._atmosphere&&!this._showOverdrawInspector&&zt&&this._atmosphere.drawAtmosphereGlow(this,this.style.fog),this.renderPass="sky",(!this._atmosphere||u.ae(this.transform.zoom)>0)&&(this.transform.projection.name==="globe"||this.transform.isHorizonVisible()))for(this.currentLayer=0;this.currentLayer<R.length;this.currentLayer++){const Dn=U[this.currentLayer],or=r.getLayerSourceCache(Dn);Dn.isSky()&&this.renderLayer(this,or,Dn,or?Oe[or.id]:void 0)}function nr(Dn,or){let Gr;return or&&(Gr=(Dn.type==="symbol"?Me:Dn.is3D()?yt:Oe)[or.id]),Gr}if(this.renderPass="translucent",this.transform.projection.name==="globe"){for(this.renderElevatedRasterBackface=!0,this.currentLayer=0;this.currentLayer<R.length;){const Dn=U[this.currentLayer];if(Dn.type==="raster"||Dn.type==="raster-particle"){const or=r.getLayerSourceCache(Dn);this.renderLayer(this,or,Dn,nr(Dn,or))}++this.currentLayer}this.renderElevatedRasterBackface=!1}this.currentLayer=0,this.firstLightBeamLayer=Number.MAX_SAFE_INTEGER;let Hn=0;Mt&&(Hn=Mt.getShadowCastingLayerCount());let Er=!1,mr=-1;for(let Dn=0;Dn<R.length;++Dn){const or=U[Dn];or.isHidden(this.transform.zoom)||or.is3D()&&(mr=Dn)}for(V&&mr===-1&&(B=!0);this.currentLayer<R.length;){const Dn=U[this.currentLayer],or=r.getLayerSourceCache(Dn);if(Dn.isSky())++this.currentLayer;else if(this.terrain&&this.style.isLayerDraped(Dn)){if(Dn.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer),this._lastOcclusionLayer=Math.max(this.currentLayer,this._lastOcclusionLayer)}else{if(B&&!Er&&this.terrain&&!this.transform.isOrthographic&&(Er=!0,this.blitDepth()),V&&mr!==-1&&this.currentLayer===mr+1&&!this.transform.isOrthographic&&this.blitDepth(),Dn.is3D()||this.terrain||this._renderTileClippingMasks(Dn,or,or?xe[or.id]:void 0),this.renderLayer(this,or,Dn,nr(Dn,or)),!this.terrain&&Mt&&Hn>0&&Dn.hasShadowPass()&&--Hn==0&&(Mt.drawGroundShadows(),this.firstLightBeamLayer<=this.currentLayer)){const Gr=this.currentLayer;for(this.renderPass="light-beam",this.currentLayer=this.firstLightBeamLayer;this.currentLayer<=Gr;this.currentLayer++){const On=U[this.currentLayer];if(!On.hasLightBeamPass())continue;const Rr=r.getLayerSourceCache(On);this.renderLayer(this,Rr,On,Rr?Oe[Rr.id]:void 0)}this.currentLayer=Gr,this.renderPass="translucent"}if(this.currentLayer>=this._lastOcclusionLayer&&this.layersWithOcclusionOpacity.length>0){const Gr=this.currentLayer;this.depthOcclusion=!0;for(const On of this.layersWithOcclusionOpacity){this.currentLayer=On;const Rr=U[this.currentLayer],Qn=r.getLayerSourceCache(Rr),xi=Qn?Oe[Qn.id]:void 0;Rr.is3D()||this.terrain||this._renderTileClippingMasks(Rr,Qn,Qn?xe[Qn.id]:void 0),this.renderLayer(this,Qn,Rr,xi)}this.depthOcclusion=!1,this.currentLayer=Gr,this.renderPass="translucent",this.layersWithOcclusionOpacity=[]}++this.currentLayer}}if(this.terrain&&this.terrain.postRender(),this._snow&&this._snow.draw(this),this._rain&&this._rain.draw(this),this.options.showTileBoundaries||this.options.showQueryGeometry||this.options.showTileAABBs){let Dn=null;U.forEach(or=>{const Gr=r.getLayerSourceCache(or);Gr&&!or.isHidden(this.transform.zoom)&&Gr.getVisibleCoordinates().length&&(!Dn||Dn.getSource().maxzoom<Gr.getSource().maxzoom)&&(Dn=Gr)}),Dn&&this.options.showTileBoundaries&&yf.debug(this,Dn,Dn.getVisibleCoordinates(),u.aj.red,!1,this.options.showParseStatus)}this.terrain&&this._debugParams.showTerrainProxyTiles&&yf.debug(this,this.terrain.proxySourceCache,this.terrain.proxyCoords,new u.aj(1,.8,.1,1),!0,this.options.showParseStatus),this.options.showPadding&&function(Dn){const or=Dn.transform.padding;mm(Dn,Dn.transform.height-(or.top||0),3,hf),mm(Dn,or.bottom||0,3,vh),Cp(Dn,or.left||0,3,Lg),Cp(Dn,Dn.transform.width-(or.right||0),3,xp);const Gr=Dn.transform.centerPoint;(function(On,Rr,Qn,xi){Gc(On,Rr-1,Qn-10,2,20,xi),Gc(On,Rr-10,Qn-1,20,2,xi)})(Dn,Gr.x,Dn.transform.height-Gr.y,yh)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(performance.now()),this.saveCanvasCopy()),le||(this.conflationActive=!1)}prepareLayer(r){this.gpuTimingStart(r);const{unsupportedLayers:l}=this.transform.projection,p=!l||!l.includes(r.type);if(bf[r.type]&&(p||this.terrain&&r.type==="custom")){const b=this.style.getLayerSourceCache(r);bf[r.type](r,b,this)}this.gpuTimingEnd()}renderLayer(r,l,p,b){p.isHidden(this.transform.zoom)||(p.type==="background"||p.type==="sky"||p.type==="custom"||p.type==="model"||p.type==="raster"||p.type==="raster-particle"||b&&b.length)&&(this.id=p.id,this.gpuTimingStart(p),r.transform.projection.unsupportedLayers&&r.transform.projection.unsupportedLayers.includes(p.type)&&(!r.terrain||p.type!=="custom")||p.type==="clip"||yf[p.type](r,l,p,b,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(r){if(!this.options.gpuTiming)return;const l=this.context.extTimerQuery,p=this.context.gl;let b=this.gpuTimers[r.id];b||(b=this.gpuTimers[r.id]={calls:0,cpuTime:0,query:p.createQuery()}),b.calls++,p.beginQuery(l.TIME_ELAPSED_EXT,b.query)}gpuTimingDeferredRenderStart(){if(this.options.gpuTimingDeferredRender){const r=this.context.extTimerQuery,l=this.context.gl,p=l.createQuery();this.deferredRenderGpuTimeQueries.push(p),l.beginQuery(r.TIME_ELAPSED_EXT,p)}}gpuTimingDeferredRenderEnd(){this.options.gpuTimingDeferredRender&&this.context.gl.endQuery(this.context.extTimerQuery.TIME_ELAPSED_EXT)}gpuTimingEnd(){this.options.gpuTiming&&this.context.gl.endQuery(this.context.extTimerQuery.TIME_ELAPSED_EXT)}collectGpuTimers(){const r=this.gpuTimers;return this.gpuTimers={},r}collectDeferredRenderGpuQueries(){const r=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],r}queryGpuTimers(r){const l={};for(const p in r){const b=r[p],C=this.context.extTimerQuery,E=C.getQueryParameter(b.query,this.context.gl.QUERY_RESULT)/1e6;C.deleteQueryEXT(b.query),l[p]=E}return l}queryGpuTimeDeferredRender(r){if(!this.options.gpuTimingDeferredRender)return 0;const l=this.context.gl;let p=0;for(const b of r)p+=l.getQueryParameter(b,l.QUERY_RESULT)/1e6,l.deleteQuery(b);return p}translatePosMatrix(r,l,p,b,C){if(!p[0]&&!p[1])return r;const E=C?b==="map"?this.transform.angle:0:b==="viewport"?-this.transform.angle:0;if(E){const V=Math.sin(E),U=Math.cos(E);p=[p[0]*U-p[1]*V,p[0]*V+p[1]*U]}const R=[C?p[0]:u.ar(l,p[0],this.transform.zoom),C?p[1]:u.ar(l,p[1],this.transform.zoom),0],B=new Float32Array(16);return u.ab.mat4.translate(B,r,R),B}saveTileTexture(r){const l=r.size[0],p=this._tileTextures[l];p?p.push(r):this._tileTextures[l]=[r]}getTileTexture(r){const l=this._tileTextures[r];return l&&l.length>0?l.pop():null}terrainRenderModeElevated(){return this.style&&!!this.style.getTerrain()&&!!this.terrain&&!this.terrain.renderingToTexture||this.forceTerrainMode}linearFloatFilteringSupported(){return this.context.extTextureFloatLinear!=null}currentGlobalDefines(r,l,p){const b=p===void 0?this.terrain&&this.terrain.renderingToTexture:p,C=[];return this.style&&this.style.enable3dLights()&&(r==="globeRaster"||r==="terrainRaster"?(C.push("LIGHTING_3D_MODE"),C.push("LIGHTING_3D_ALPHA_EMISSIVENESS")):b||C.push("LIGHTING_3D_MODE")),this.renderPass==="shadow"&&(this._shadowMapDebug||C.push("DEPTH_TEXTURE")),this.terrainRenderModeElevated()&&(C.push("TERRAIN"),this.linearFloatFilteringSupported()&&C.push("TERRAIN_DEM_FLOAT_FORMAT")),this.transform.projection.name==="globe"&&C.push("GLOBE"),!this._fogVisible||b||l!==void 0&&!l||C.push("FOG","FOG_DITHERING"),b&&C.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&C.push("OVERDRAW_INSPECTOR"),C}getOrCreateProgram(r,l){this.cache=this.cache||{};const p=l&&l.defines||[],b=l&&l.config,C=this.currentGlobalDefines(r,l&&l.overrideFog,l&&l.overrideRtt).concat(p),E=Dd.cacheKey(dc[r],r,C,b);return this.cache[E]||(this.cache[E]=new Dd(this.context,r,dc[r],b,vp[r],C)),this.cache[E]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const r=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(r.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new u.T(this.context,this.debugOverlayCanvas,this.context.gl.RGBA8))}destroy(){this._terrain&&this._terrain.destroy(),this._atmosphere&&(this._atmosphere.destroy(),this._atmosphere=void 0),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this._wireframeDebugCache.destroy(),this.depthFBO&&(this.depthFBO.destroy(),this.depthFBO=void 0,this.depthTexture=void 0),this.emptyDepthTexture&&this.emptyDepthTexture.destroy()}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile()}uploadCommonLightUniforms(r,l){if(this.style.enable3dLights()){const p=this.style.directionalLight,b=this.style.ambientLight;if(p&&b){const C=((E,R,B)=>{const V=E.properties.get("direction"),U=E.properties.get("color-use-theme")==="none",Y=E.properties.get("color").toRenderColor(U?null:B.getLut(E.scope)).toArray01(),ee=E.properties.get("intensity"),le=R.properties.get("color-use-theme")==="none",Ee=R.properties.get("color").toRenderColor(le?null:B.getLut(R.scope)).toArray01(),xe=R.properties.get("intensity"),Oe=[V.x,V.y,V.z],Me=u.cM(Ee,xe),qe=u.cM(Y,ee);return{u_lighting_ambient_color:Me,u_lighting_directional_dir:Oe,u_lighting_directional_color:qe,u_ground_radiance:Hu(Oe,qe,Me)}})(p,b,this.style);l.setLightsUniformValues(r,C)}}}uploadCommonUniforms(r,l,p,b,C){if(this.uploadCommonLightUniforms(r,l),this.terrain&&this.terrain.renderingToTexture)return;const E=this.style.fog;if(E){const R=E.getOpacity(this.transform.pitch),B=((V,U,Y,ee,le,Ee,xe,Oe,Me,qe,yt,gt)=>{const Nt=V.transform,Mt=U.properties.get("color-use-theme")==="none",Dt=U.properties.get("color").toRenderColor(Mt?null:V.style.getLut(U.scope)).toArray01();Dt[3]=ee;const It=V.frameCounter/1e3%1,[zt,fn]=U.properties.get("vertical-range");return{u_fog_matrix:Y?Nt.calculateFogTileMatrix(Y):gt||V.identityMat,u_fog_range:U.getFovAdjustedRange(Nt._fov),u_fog_color:Dt,u_fog_horizon_blend:U.properties.get("horizon-blend"),u_fog_vertical_limit:[Math.min(zt,fn),fn],u_fog_temporal_offset:It,u_frustum_tl:le,u_frustum_tr:Ee,u_frustum_br:xe,u_frustum_bl:Oe,u_globe_pos:Me,u_globe_radius:qe,u_viewport:yt,u_globe_transition:u.ae(Nt.zoom),u_is_globe:+(Nt.projection.name==="globe")}})(this,E,p,R,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*u.q.devicePixelRatio,this.transform.height*u.q.devicePixelRatio],b);l.setFogUniformValues(r,B)}C&&l.setCutoffUniformValues(r,C.uniformValues)}setTileLoadedFlag(r){this.tileLoaded=r}saveCanvasCopy(){const r=this.canvasCopy();r&&(this.frameCopies.push(r),this.tileLoaded=!1)}canvasCopy(){const r=this.context.gl,l=r.createTexture();return r.bindTexture(r.TEXTURE_2D,l),r.copyTexImage2D(r.TEXTURE_2D,0,r.RGBA,0,0,r.drawingBufferWidth,r.drawingBufferHeight,0),l}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const r=this.style&&this.style.fog;return!!r&&r.getOpacity(this.transform.pitch)!==0}getBackgroundTiles(){const r=this._backgroundTiles,l=this._backgroundTiles={},p=this.transform.coveringTiles({tileSize:512});for(const b of p)l[b.key]=r[b.key]||new qo(b,512,this.transform.tileZoom,this);return l}clearBackgroundTiles(){this._backgroundTiles={}}isSourceForClippingOrConflation(r,l){return!(!r.is3D()||r.type!=="clip"&&(r.minzoom&&r.minzoom>this.transform.zoom||(this.style._clipLayerPresent||r.sourceLayer!=="building")&&(!l||l.type!=="batched-model")))}isTileAffectedByFog(r){if(!this.style||!this.style.fog)return!1;if(this.transform.projection.name==="globe")return!0;let l=this._cachedTileFogOpacities[r.key];return l||(this._cachedTileFogOpacities[r.key]=l=this.style.fog.getOpacityForTile(r)),l[0]>=ge||l[1]>=ge}setupDepthForOcclusion(r,l,p){const b=this.context,C=b.gl,E=!!p;var R;p||(p={u_dem:2,u_dem_prev:4,u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_depth_range_unpack:[0,1],u_occluder_half_size:16,u_occlusion_depth_offset:-1e-4,u_exaggeration:0}),b.activeTexture.set(C.TEXTURE3),r&&this.depthFBO&&this.depthTexture?(this.depthTexture.bind(C.NEAREST,C.CLAMP_TO_EDGE),p.u_depth_size_inv=[1/this.depthFBO.width,1/this.depthFBO.height],p.u_depth_range_unpack=[2/((R=this.depthRangeFor3D)[1]-R[0]),-1-2*R[0]/(R[1]-R[0])],p.u_occluder_half_size=.5*this.occlusionParams.occluderSize,p.u_occlusion_depth_offset=this.occlusionParams.depthOffset):this.emptyDepthTexture.bind(C.NEAREST,C.CLAMP_TO_EDGE),b.activeTexture.set(C.TEXTURE0),E||l.setTerrainUniformValues(b,p)}}function Pp(m,r){let l=!1,p=null;const b=()=>{p=null,l&&(m(),p=setTimeout(b,r),l=!1)};return()=>(l=!0,p||b(),p)}class Op{constructor(r){this._hashName=r&&encodeURIComponent(r),u.aP(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Pp(this._updateHashUnthrottled.bind(this),300)}addTo(r){return this._map=r,window.addEventListener("hashchange",this._onHashChange,!1),r.on("moveend",this._updateHash),this}remove(){return this._map?(this._map.off("moveend",this._updateHash),window.removeEventListener("hashchange",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(){const r=this._map;if(!r)return"";const l=Rp(r);if(this._hashName){const p=this._hashName;let b=!1;const C=location.hash.slice(1).split("&").map(E=>{const R=E.split("=")[0];return R===p?(b=!0,`${R}=${l}`):E}).filter(E=>E);return b||C.push(`${p}=${l}`),`#${C.join("&")}`}return`#${l}`}_getCurrentHash(){const r=location.hash.replace("#","");if(this._hashName){let l;return r.split("&").map(p=>p.split("=")).forEach(p=>{p[0]===this._hashName&&(l=p)}),(l&&l[1]||"").split("/")}return r.split("/")}_onHashChange(){const r=this._map;if(!r)return!1;const l=this._getCurrentHash();if(l.length>=3&&!l.some(p=>isNaN(p))){const p=r.dragRotate.isEnabled()&&r.touchZoomRotate.isEnabled()?+(l[3]||0):r.getBearing();return r.jumpTo({center:[+l[2],+l[1]],zoom:+l[0],bearing:p,pitch:+(l[4]||0)}),!0}return!1}_updateHashUnthrottled(){history.replaceState(history.state,"",location.href.replace(/(#.+)?$/,this.getHashString()))}}function Rp(m,r){const l=m.getCenter(),p=Math.round(100*m.getZoom())/100,b=Math.ceil((p*Math.LN2+Math.log(512/360/.5))/Math.LN10),C=Math.pow(10,b),E=Math.round(l.lng*C)/C,R=Math.round(l.lat*C)/C,B=m.getBearing(),V=m.getPitch();let U=r?`/${E}/${R}/${p}`:`${p}/${R}/${E}`;return(B||V)&&(U+="/"+Math.round(10*B)/10),V&&(U+=`/${Math.round(V)}`),U}const Ch={linearity:.3,easing:u.dy(0,0,.3,1)},Fg=u.l({deceleration:2500,maxSpeed:1400},Ch),Ev=u.l({deceleration:20,maxSpeed:1400},Ch),kg=u.l({deceleration:1e3,maxSpeed:360},Ch),Iv=u.l({deceleration:1e3,maxSpeed:90},Ch);class jg{constructor(r){this._map=r,this.clear()}clear(){this._inertiaBuffer=[]}record(r){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:u.q.now(),settings:r})}_drainInertiaBuffer(){const r=this._inertiaBuffer,l=u.q.now();for(;r.length>0&&l-r[0].time>160;)r.shift()}_onMoveEnd(r){if(this._map._prefersReducedMotion()||(this._drainInertiaBuffer(),this._inertiaBuffer.length<2))return;const l={zoom:0,bearing:0,pitch:0,pan:new u.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:C}of this._inertiaBuffer)l.zoom+=C.zoomDelta||0,l.bearing+=C.bearingDelta||0,l.pitch+=C.pitchDelta||0,C.panDelta&&l.pan._add(C.panDelta),C.around&&(l.around=C.around),C.pinchAround&&(l.pinchAround=C.pinchAround);const p=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,b={};if(l.pan.mag()){const C=Sh(l.pan.mag(),p,u.l({},Fg,r||{}));b.offset=l.pan.mult(C.amount/l.pan.mag()),b.center=this._map.transform.center,xf(b,C)}if(l.zoom){const C=Sh(l.zoom,p,Ev);b.zoom=this._map.transform.zoom+C.amount,xf(b,C)}if(l.bearing){const C=Sh(l.bearing,p,kg);b.bearing=this._map.transform.bearing+u.aw(C.amount,-179,179),xf(b,C)}if(l.pitch){const C=Sh(l.pitch,p,Iv);b.pitch=this._map.transform.pitch+C.amount,xf(b,C)}if(b.zoom||b.bearing){const C=l.pinchAround===void 0?l.around:l.pinchAround;b.around=C?this._map.unproject(C):this._map.getCenter()}return this.clear(),b.noMoveStart=!0,b}}function xf(m,r){(!m.duration||m.duration<r.duration)&&(m.duration=r.duration,m.easing=r.easing)}function Sh(m,r,l){const{maxSpeed:p,linearity:b,deceleration:C}=l,E=u.aw(m*b/(r/1e3),-p,p),R=Math.abs(E)/(C*b);return{easing:l.easing,duration:1e3*R,amount:E*(R/2)}}class zl extends u.z{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(r,l,p,b={}){const C=Pt(l.getCanvasContainer(),p),E=l.unproject(C);super(r,u.l({point:C,lngLat:E,originalEvent:p},b)),this._defaultPrevented=!1,this.target=l}}class ou extends u.z{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(r,l,p){const b=r==="touchend"?p.changedTouches:p.touches,C=Ft(l.getCanvasContainer(),b),E=C.map(B=>l.unproject(B)),R=C.reduce((B,V,U,Y)=>B.add(V.div(Y.length)),new u.P(0,0));super(r,{points:C,point:R,lngLats:E,lngLat:l.unproject(R),originalEvent:p}),this._defaultPrevented=!1}}class ac extends u.z{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(r,l){super("wheel",{originalEvent:l}),this._defaultPrevented=!1}}class Zg{constructor(r,l){this._map=r,this._clickTolerance=l.clickTolerance}reset(){this._mousedownPos=void 0}wheel(r){return this._firePreventable(new ac(this._map,r))}mousedown(r,l){return this._mousedownPos=l,this._firePreventable(new zl(r.type,this._map,r))}mouseup(r){this._map.fire(new zl(r.type,this._map,r))}preclick(r){const l=u.l({},r);l.type="preclick",this._map.fire(new zl(l.type,this._map,l))}click(r,l){this._mousedownPos&&this._mousedownPos.dist(l)>=this._clickTolerance||(this.preclick(r),this._map.fire(new zl(r.type,this._map,r)))}dblclick(r){return this._firePreventable(new zl(r.type,this._map,r))}mouseover(r){this._map.fire(new zl(r.type,this._map,r))}mouseout(r){this._map.fire(new zl(r.type,this._map,r))}touchstart(r){return this._firePreventable(new ou(r.type,this._map,r))}touchmove(r){this._map.fire(new ou(r.type,this._map,r))}touchend(r){this._map.fire(new ou(r.type,this._map,r))}touchcancel(r){this._map.fire(new ou(r.type,this._map,r))}_firePreventable(r){if(this._map.fire(r),r.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Vg{constructor(r){this._map=r}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0}mousemove(r){this._map.fire(new zl(r.type,this._map,r))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new zl("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(r){this._delayContextMenu?this._contextMenuEvent=r:this._map.fire(new zl(r.type,this._map,r)),this._map.listens("contextmenu")&&r.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class gl{constructor(r,l){this._map=r,this._el=r.getCanvasContainer(),this._container=r.getContainer(),this._clickTolerance=l.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(r,l){this.isEnabled()&&r.shiftKey&&r.button===0&&(St(),this._startPos=this._lastPos=l,this._active=!0)}mousemoveWindow(r,l){if(!this._active)return;const p=l,b=this._startPos,C=this._lastPos;if(!b||!C||C.equals(p)||!this._box&&p.dist(b)<this._clickTolerance)return;this._lastPos=p,this._box||(this._box=ke("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",r));const E=Math.min(b.x,p.x),R=Math.max(b.x,p.x),B=Math.min(b.y,p.y),V=Math.max(b.y,p.y);this._map._requestDomTask(()=>{this._box&&(this._box.style.transform=`translate(${E}px,${B}px)`,this._box.style.width=R-E+"px",this._box.style.height=V-B+"px")})}mouseupWindow(r,l){if(!this._active)return;const p=this._startPos,b=l;if(p&&r.button===0){if(this.reset(),Qt(),p.x!==b.x||p.y!==b.y)return this._map.fire(new u.z("boxzoomend",{originalEvent:r})),{cameraAnimation:C=>C.fitScreenCoordinates(p,b,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",r)}}keydown(r){this._active&&r.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",r))}blur(){this.reset()}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),Ot(),delete this._startPos,delete this._lastPos}_fireEvent(r,l){return this._map.fire(new u.z(r,{originalEvent:l}))}}function $p(m,r){const l={};for(let p=0;p<m.length;p++)l[m[p].identifier]=r[p];return l}class Hg{constructor(r){this.reset(),this.numTouches=r.numTouches}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1}touchstart(r,l,p){(this.centroid||p.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===0&&(this.startTime=r.timeStamp),p.length===this.numTouches&&(this.centroid=function(b){const C=new u.P(0,0);for(const E of b)C._add(E);return C.div(b.length)}(l),this.touches=$p(p,l)))}touchmove(r,l,p){if(this.aborted||!this.centroid)return;const b=$p(p,l);for(const C in this.touches){const E=b[C];(!E||E.dist(this.touches[C])>30)&&(this.aborted=!0)}}touchend(r,l,p){if((!this.centroid||r.timeStamp-this.startTime>500)&&(this.aborted=!0),p.length===0){const b=!this.aborted&&this.centroid;if(this.reset(),b)return b}}}class Ap{constructor(r){this.singleTap=new Hg(r),this.numTaps=r.numTaps,this.reset()}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset()}touchstart(r,l,p){this.singleTap.touchstart(r,l,p)}touchmove(r,l,p){this.singleTap.touchmove(r,l,p)}touchend(r,l,p){const b=this.singleTap.touchend(r,l,p);if(b){const C=r.timeStamp-this.lastTime<500,E=!this.lastTap||this.lastTap.dist(b)<30;if(C&&E||this.reset(),this.count++,this.lastTime=r.timeStamp,this.lastTap=b,this.count===this.numTaps)return this.reset(),b}}}class wh{constructor(){this._zoomIn=new Ap({numTouches:1,numTaps:2}),this._zoomOut=new Ap({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(r,l,p){this._zoomIn.touchstart(r,l,p),this._zoomOut.touchstart(r,l,p)}touchmove(r,l,p){this._zoomIn.touchmove(r,l,p),this._zoomOut.touchmove(r,l,p)}touchend(r,l,p){const b=this._zoomIn.touchend(r,l,p),C=this._zoomOut.touchend(r,l,p);return b?(this._active=!0,r.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:E=>E.easeTo({duration:300,zoom:E.getZoom()+1,around:E.unproject(b)},{originalEvent:r})}):C?(this._active=!0,r.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:E=>E.easeTo({duration:300,zoom:E.getZoom()-1,around:E.unproject(C)},{originalEvent:r})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const wm={0:1,2:2};class Eh{constructor(r){this.reset(),this._clickTolerance=r.clickTolerance||1}blur(){this.reset()}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0}_correctButton(r,l){return!1}_move(r,l){return{}}mousedown(r,l){if(this._lastPoint)return;const p=Xt(r);this._correctButton(r,p)&&(this._lastPoint=l,this._eventButton=p)}mousemoveWindow(r,l){const p=this._lastPoint;if(p){if(r.preventDefault(),this._eventButton!=null&&function(b,C){const E=wm[C];return b.buttons===void 0||(b.buttons&E)!==E}(r,this._eventButton))this.reset();else if(this._moved||!(l.dist(p)<this._clickTolerance))return this._moved=!0,this._lastPoint=l,this._move(p,l)}}mouseupWindow(r){this._lastPoint&&Xt(r)===this._eventButton&&(this._moved&&Qt(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class _d extends Eh{mousedown(r,l){super.mousedown(r,l),this._lastPoint&&(this._active=!0)}_correctButton(r,l){return l===0&&!r.ctrlKey}_move(r,l){return{around:l,panDelta:l.sub(r)}}}class Ec extends Eh{_correctButton(r,l){return l===0&&r.ctrlKey||l===2}_move(r,l){const p=.8*(l.x-r.x);if(p)return this._active=!0,{bearingDelta:p}}contextmenu(r){r.preventDefault()}}class Em extends Eh{_correctButton(r,l){return l===0&&r.ctrlKey||l===2}_move(r,l){const p=-.5*(l.y-r.y);if(p)return this._active=!0,{pitchDelta:p}}contextmenu(r){r.preventDefault()}}class dl{constructor(r,l){this._map=r,this._el=r.getCanvasContainer(),this._minTouches=1,this._clickTolerance=l.clickTolerance||1,this.reset(),u.aP(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}reset(){this._active=!1,this._touches={},this._sum=new u.P(0,0)}touchstart(r,l,p){return this._calculateTransform(r,l,p)}touchmove(r,l,p){if(this._active&&!(p.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(p.length===1&&!u.dz())return void this._showTouchPanBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return r.cancelable&&r.preventDefault(),this._calculateTransform(r,l,p)}}touchend(r,l,p){this._calculateTransform(r,l,p),this._active&&p.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(r,l,p){p.length>0&&(this._active=!0);const b=$p(p,l),C=new u.P(0,0),E=new u.P(0,0);let R=0;for(const V in b){const U=b[V],Y=this._touches[V];Y&&(C._add(U),E._add(U.sub(Y)),R++,b[V]=U)}if(this._touches=b,R<this._minTouches||!E.mag())return;const B=E.div(R);return this._sum._add(B),this._sum.mag()<this._clickTolerance?void 0:{around:C.div(R),panDelta:B}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=ke("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showTouchPanBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=window.setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show"),this._alertContainer.removeAttribute("role")},500)}}class au{constructor(){this.reset()}reset(){this._active=!1,this._firstTwoTouches=void 0}_start(r){}_move(r,l,p){return{}}touchstart(r,l,p){this._firstTwoTouches||p.length<2||(this._firstTwoTouches=[p[0].identifier,p[1].identifier],this._start([l[0],l[1]]))}touchmove(r,l,p){const b=this._firstTwoTouches;if(!b)return;r.preventDefault();const[C,E]=b,R=Cf(p,l,C),B=Cf(p,l,E);if(!R||!B)return;const V=this._aroundCenter?null:R.add(B).div(2);return this._move([R,B],V,r)}touchend(r,l,p){if(!this._firstTwoTouches)return;const[b,C]=this._firstTwoTouches,E=Cf(p,l,b),R=Cf(p,l,C);E&&R||(this._active&&Qt(),this.reset())}touchcancel(){this.reset()}enable(r){this._enabled=!0,this._aroundCenter=!!r&&r.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Cf(m,r,l){for(let p=0;p<m.length;p++)if(m[p].identifier===l)return r[p]}function Ih(m,r){return Math.log(m/r)/Math.LN2}class Dp extends au{reset(){super.reset(),this._distance=0,this._startDistance=0}_start(r){this._startDistance=this._distance=r[0].dist(r[1])}_move(r,l){const p=this._distance;if(this._distance=r[0].dist(r[1]),this._active||!(Math.abs(Ih(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Ih(this._distance,p),pinchAround:l}}}function Ug(m,r){return 180*m.angleWith(r)/Math.PI}class Th extends au{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0}_start(r){this._startVector=this._vector=r[0].sub(r[1]),this._minDiameter=r[0].dist(r[1])}_move(r,l){const p=this._vector;if(this._vector=r[0].sub(r[1]),p&&(this._active||!this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:Ug(this._vector,p),pinchAround:l}}_isBelowThreshold(r){this._minDiameter=Math.min(this._minDiameter,r.mag());const l=25/(Math.PI*this._minDiameter)*360,p=this._startVector;if(!p)return!1;const b=Ug(r,p);return Math.abs(b)<l}}function Wg(m){return Math.abs(m.y)>Math.abs(m.x)}class Gg extends au{constructor(r){super(),this._map=r}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0}_start(r){this._lastPoints=r,Wg(r[0].sub(r[1]))&&(this._valid=!1)}_move(r,l,p){const b=this._lastPoints;if(!b)return;const C=r[0].sub(b[0]),E=r[1].sub(b[1]);return this._map._cooperativeGestures&&!u.dz()&&p.touches.length<3||(this._valid=this.gestureBeginsVertically(C,E,p.timeStamp),!this._valid)?void 0:(this._lastPoints=r,this._active=!0,{pitchDelta:(C.y+E.y)/2*-.5})}gestureBeginsVertically(r,l,p){if(this._valid!==void 0)return this._valid;const b=r.mag()>=2,C=l.mag()>=2;if(!b&&!C)return;if(!b||!C)return this._firstMove==null&&(this._firstMove=p),p-this._firstMove<100&&void 0;const E=r.y>0==l.y>0;return Wg(r)&&Wg(l)&&E}}const Mh={panStep:100,bearingStep:15,pitchStep:10};class Im{constructor(){const r=Mh;this._panStep=r.panStep,this._bearingStep=r.bearingStep,this._pitchStep=r.pitchStep,this._rotationDisabled=!1}blur(){this.reset()}reset(){this._active=!1}keydown(r){if(r.altKey||r.ctrlKey||r.metaKey)return;let l=0,p=0,b=0,C=0,E=0;switch(r.keyCode){case 61:case 107:case 171:case 187:l=1;break;case 189:case 109:case 173:l=-1;break;case 37:r.shiftKey?p=-1:(r.preventDefault(),C=-1);break;case 39:r.shiftKey?p=1:(r.preventDefault(),C=1);break;case 38:r.shiftKey?b=1:(r.preventDefault(),E=-1);break;case 40:r.shiftKey?b=-1:(r.preventDefault(),E=1);break;default:return}return this._rotationDisabled&&(p=0,b=0),{cameraAnimation:R=>{const B=R.getZoom();R.easeTo({duration:300,easeId:"keyboardHandler",easing:Sf,zoom:l?Math.round(B)+l*(r.shiftKey?2:1):B,bearing:R.getBearing()+p*this._bearingStep,pitch:R.getPitch()+b*this._pitchStep,offset:[-C*this._panStep,-E*this._panStep],center:R.getCenter()},{originalEvent:r})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Sf(m){return m*(2-m)}const kd=4.000244140625,Ou=1/450;class bu{constructor(r,l){this._map=r,this._el=r.getCanvasContainer(),this._handler=l,this._delta=0,this._lastDelta=0,this._defaultZoomRate=.01,this._wheelZoomRate=Ou,u.aP(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert"],this)}setZoomRate(r){this._defaultZoomRate=r}setWheelZoomRate(r){this._wheelZoomRate=r}isEnabled(){return!!this._enabled}isActive(){return this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(r){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!r&&r.around==="center",this._map._cooperativeGestures&&this._addScrollZoomBlocker())}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}wheel(r){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(r.ctrlKey||r.metaKey||this.isZooming()||u.dz()))return void this._showBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}let l=r.deltaMode===WheelEvent.DOM_DELTA_LINE?40*r.deltaY:r.deltaY;const p=u.q.now(),b=p-(this._lastWheelEventTime||0);this._lastWheelEventTime=p,l!==0&&l%kd==0?this._type="wheel":l!==0&&Math.abs(l)<4?this._type="trackpad":b>400?(this._type=null,this._lastValue=l,this._timeout=window.setTimeout(this._onTimeout,40,r)):this._type||(this._type=Math.abs(b*l)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,l+=this._lastValue)),r.shiftKey&&l&&(l/=4),this._type&&(this._lastWheelEvent=r,this._delta-=l,this._active||this._start(r)),r.preventDefault()}_onTimeout(r){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(r)}_start(r){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const l=Pt(this._el,r);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:l,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const r=this._map.transform;this._type==="wheel"&&r.projection.wrap&&(r._center.lng>=180||r._center.lng<=-180)&&(this._prevEase=null,this._easing=null,this._lastWheelEvent=null,this._lastWheelEventTime=0);const l=()=>r._terrainEnabled()&&this._aroundCoord?r.computeZoomRelativeTo(this._aroundCoord):r.zoom;if(this._delta!==0){const V=this._type==="wheel"&&Math.abs(this._delta)>kd?this._wheelZoomRate:this._defaultZoomRate;let U=2/(1+Math.exp(-Math.abs(this._delta*V)));this._delta<0&&U!==0&&(U=1/U);const Y=l(),ee=Math.pow(2,Y),le=typeof this._targetZoom=="number"?r.zoomScale(this._targetZoom):ee;this._targetZoom=Math.min(r.maxZoom,Math.max(r.minZoom,r.scaleZoom(le*U))),this._type==="wheel"&&(this._startZoom=Y,this._easing=this._smoothOutEasing(200)),this._lastDelta=this._delta,this._delta=0}const p=typeof this._targetZoom=="number"?this._targetZoom:l(),b=this._startZoom,C=this._easing;let E,R=!1;if(this._type==="wheel"&&b&&C){const V=Math.min((u.q.now()-this._lastWheelEventTime)/200,1),U=C(V);E=u.af(b,p,U),V<1?this._frameId||(this._frameId=!0):R=!0}else E=p,R=!0;this._active=!0,R&&(this._active=!1,this._finishTimeout=window.setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200));let B=E-l();return B*this._lastDelta<0&&(B=0),{noInertia:!0,needsRenderFrame:!R,zoomDelta:B,around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(r){let l=u.dA;if(this._prevEase){const p=this._prevEase,b=(u.q.now()-p.start)/p.duration,C=p.easing(b+.01)-p.easing(b),E=.27/Math.sqrt(C*C+1e-4)*.01,R=Math.sqrt(.0729-E*E);l=u.dy(E,R,.25,1)}return this._prevEase={start:u.q.now(),duration:r,easing:l},l}blur(){this.reset()}reset(){this._active=!1}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=ke("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=window.setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.removeAttribute("role")},200)}}class xd{constructor(r,l){this._clickZoom=r,this._tapZoom=l}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class jd{constructor(){this.reset()}reset(){this._active=!1}blur(){this.reset()}dblclick(r,l){return r.preventDefault(),{cameraAnimation:p=>{p.easeTo({duration:300,zoom:p.getZoom()+(r.shiftKey?-1:1),around:p.unproject(l)},{originalEvent:r})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Cd{constructor(){this._tap=new Ap({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset()}touchstart(r,l,p){this._swipePoint||(this._tapTime&&r.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?p.length>0&&(this._swipePoint=l[0],this._swipeTouch=p[0].identifier):this._tap.touchstart(r,l,p))}touchmove(r,l,p){if(this._tapTime){if(this._swipePoint){if(p[0].identifier!==this._swipeTouch)return;const b=l[0],C=b.y-this._swipePoint.y;return this._swipePoint=b,r.preventDefault(),this._active=!0,{zoomDelta:C/128}}}else this._tap.touchmove(r,l,p)}touchend(r,l,p){this._tapTime?this._swipePoint&&p.length===0&&this.reset():this._tap.touchend(r,l,p)&&(this._tapTime=r.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Tv{constructor(r,l,p){this._el=r,this._mousePan=l,this._touchPan=p}enable(r){this._inertiaOptions=r||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Xg{constructor(r,l,p){this._pitchWithRotate=r.pitchWithRotate,this._mouseRotate=l,this._mousePitch=p}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class Mv{constructor(r,l,p,b){this._el=r,this._touchZoom=l,this._touchRotate=p,this._tapDragZoom=b,this._rotationDisabled=!1,this._enabled=!0}enable(r){this._touchZoom.enable(r),this._rotationDisabled||this._touchRotate.enable(r),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const Tm=m=>m.zoom||m.drag||m.pitch||m.rotate;class Kg extends u.z{}class Ic{constructor(){this.constants=[1,1,.01],this.radius=0}setup(r,l){const p=u.ab.vec3.sub([],l,r);this.radius=u.ab.vec3.length(p[2]<0?u.ab.vec3.div([],p,this.constants):[p[0],p[1],0])}projectRay(r){u.ab.vec3.div(r,r,this.constants),u.ab.vec3.normalize(r,r),u.ab.vec3.mul(r,r,this.constants);const l=u.ab.vec3.scale([],r,this.radius);if(l[2]>0){const p=u.ab.vec3.scale([],[0,0,1],u.ab.vec3.dot(l,[0,0,1])),b=u.ab.vec3.scale([],u.ab.vec3.normalize([],[l[0],l[1],0]),this.radius),C=u.ab.vec3.add([],l,u.ab.vec3.scale([],u.ab.vec3.sub([],u.ab.vec3.add([],b,p),l),2));l[0]=C[0],l[1]=C[1]}return l}}function Ph(m){return m.panDelta&&m.panDelta.mag()||m.zoomDelta||m.bearingDelta||m.pitchDelta}class qg{constructor(r,l){this._map=r,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new jg(r),this._bearingSnap=l.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new Ic,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(l),u.aP(["handleEvent","handleWindowEvent"],this);const p=this._el;this._listeners=[[p,"touchstart",{passive:!0}],[p,"touchmove",{passive:!1}],[p,"touchend",void 0],[p,"touchcancel",void 0],[p,"mousedown",void 0],[p,"mousemove",void 0],[p,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[p,"mouseover",void 0],[p,"mouseout",void 0],[p,"dblclick",void 0],[p,"click",void 0],[p,"keydown",{capture:!1}],[p,"keyup",void 0],[p,"wheel",{passive:!1}],[p,"contextmenu",void 0],[window,"blur",void 0]];for(const[b,C,E]of this._listeners){const R=b===document?this.handleWindowEvent:this.handleEvent;b.addEventListener(C,R,E)}}destroy(){for(const[r,l,p]of this._listeners){const b=r===document?this.handleWindowEvent:this.handleEvent;r.removeEventListener(l,b,p)}}_addDefaultHandlers(r){const l=this._map,p=l.getCanvasContainer();this._add("mapEvent",new Zg(l,r));const b=l.boxZoom=new gl(l,r);this._add("boxZoom",b);const C=new wh,E=new jd;l.doubleClickZoom=new xd(E,C),this._add("tapZoom",C),this._add("clickZoom",E);const R=new Cd;this._add("tapDragZoom",R);const B=l.touchPitch=new Gg(l);this._add("touchPitch",B);const V=new Ec(r),U=new Em(r);l.dragRotate=new Xg(r,V,U),this._add("mouseRotate",V,["mousePitch"]),this._add("mousePitch",U,["mouseRotate"]);const Y=new _d(r),ee=new dl(l,r);l.dragPan=new Tv(p,Y,ee),this._add("mousePan",Y),this._add("touchPan",ee,["touchZoom","touchRotate"]);const le=new Th,Ee=new Dp;l.touchZoomRotate=new Mv(p,Ee,le,R),this._add("touchRotate",le,["touchPan","touchZoom"]),this._add("touchZoom",Ee,["touchPan","touchRotate"]),this._add("blockableMapEvent",new Vg(l));const xe=l.scrollZoom=new bu(l,this);this._add("scrollZoom",xe,["mousePan"]);const Oe=l.keyboard=new Im;this._add("keyboard",Oe);for(const Me of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])r.interactive&&r[Me]&&l[Me].enable(r[Me])}_add(r,l,p){this._handlers.push({handlerName:r,handler:l,allowed:p}),this._handlersById[r]=l}stop(r){if(!this._updatingCamera){for(const{handler:l}of this._handlers)l.reset();this._inertia.clear(),this._fireEvents({},{},r),this._changes=[],this._originalZoom=void 0}}isActive(){for(const{handler:r}of this._handlers)if(r.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Tm(this._eventsInProgress)||this.isZooming()}_isDragging(){return!!this._eventsInProgress.drag}_blockedByActive(r,l,p){for(const b in r)if(b!==p&&(!l||l.indexOf(b)<0))return!0;return!1}handleWindowEvent(r){this.handleEvent(r,`${r.type}Window`)}_getMapTouches(r){const l=[];for(const p of r)this._el.contains(p.target)&&l.push(p);return l}handleEvent(r,l){this._updatingCamera=!0;const p=r.type==="renderFrame",b=p?void 0:r,C={needsRenderFrame:!1},E={},R={},B=r.touches?this._getMapTouches(r.touches):void 0,V=B?Ft(this._el,B):p?void 0:Pt(this._el,r);for(const{handlerName:ee,handler:le,allowed:Ee}of this._handlers){if(!le.isEnabled())continue;let xe;this._blockedByActive(R,Ee,ee)?le.reset():le[l||r.type]&&(xe=le[l||r.type](r,V,B),this.mergeHandlerResult(C,E,xe,ee,b),xe&&xe.needsRenderFrame&&this._triggerRenderFrame()),(xe||le.isActive())&&(R[ee]=le)}const U={};for(const ee in this._previousActiveHandlers)R[ee]||(U[ee]=b);this._previousActiveHandlers=R,(Object.keys(U).length||Ph(C))&&(this._changes.push([C,E,U]),this._triggerRenderFrame()),(Object.keys(R).length||Ph(C))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:Y}=C;Y&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],Y(this._map))}mergeHandlerResult(r,l,p,b,C){if(!p)return;u.l(r,p);const E={handlerName:b,originalEvent:p.originalEvent||C};p.zoomDelta!==void 0&&(l.zoom=E),p.panDelta!==void 0&&(l.drag=E),p.pitchDelta!==void 0&&(l.pitch=E),p.bearingDelta!==void 0&&(l.rotate=E)}_applyChanges(){const r={},l={},p={};for(const[b,C,E]of this._changes)b.panDelta&&(r.panDelta=(r.panDelta||new u.P(0,0))._add(b.panDelta)),b.zoomDelta&&(r.zoomDelta=(r.zoomDelta||0)+b.zoomDelta),b.bearingDelta&&(r.bearingDelta=(r.bearingDelta||0)+b.bearingDelta),b.pitchDelta&&(r.pitchDelta=(r.pitchDelta||0)+b.pitchDelta),b.around!==void 0&&(r.around=b.around),b.aroundCoord!==void 0&&(r.aroundCoord=b.aroundCoord),b.pinchAround!==void 0&&(r.pinchAround=b.pinchAround),b.noInertia&&(r.noInertia=b.noInertia),u.l(l,C),u.l(p,E);this._updateMapTransform(r,l,p),this._changes=[]}_updateMapTransform(r,l,p){const b=this._map,C=b.transform,E=qe=>[qe.x,qe.y,qe.z];if((qe=>{const yt=this._eventsInProgress.drag;return yt&&!this._handlersById[yt.handlerName].isActive()})()&&!Ph(r)){const qe=C.zoom;C.cameraElevationReference="sea",this._originalZoom!=null&&C._orthographicProjectionAtLowPitch&&C.projection.name!=="globe"&&C.pitch===0?(C.cameraElevationReference="ground",C.zoom=this._originalZoom):(C.recenterOnTerrain(),C.cameraElevationReference="ground"),qe!==C.zoom&&this._map._update(!0)}if(C._isCameraConstrained&&b._stop(!0),!Ph(r))return void this._fireEvents(l,p,!0);let{panDelta:R,zoomDelta:B,bearingDelta:V,pitchDelta:U,around:Y,aroundCoord:ee,pinchAround:le}=r;C._isCameraConstrained&&(B>0&&(B=0),C._isCameraConstrained=!1),le!==void 0&&(Y=le),(B||(qe=>l[qe]&&!this._eventsInProgress[qe])("drag"))&&Y&&(this._dragOrigin=E(C.pointCoordinate3D(Y)),this._originalZoom=C.zoom,this._trackingEllipsoid.setup(C._camera.position,this._dragOrigin)),C.cameraElevationReference="sea",b._stop(!0),Y=Y||b.transform.centerPoint,V&&(C.bearing+=V),U&&(C.pitch+=U),C._updateCameraState();const Ee=[0,0,0];if(R)if(C.projection.name==="mercator"){const qe=this._trackingEllipsoid.projectRay(C.screenPointToMercatorRay(Y).dir),yt=this._trackingEllipsoid.projectRay(C.screenPointToMercatorRay(Y.sub(R)).dir);Ee[0]=yt[0]-qe[0],Ee[1]=yt[1]-qe[1]}else{const qe=C.pointCoordinate(Y);if(C.projection.name==="globe"){R=R.rotate(-C.angle);const yt=C._pixelsPerMercatorPixel/C.worldSize;Ee[0]=-R.x*u.dB(u.aS(qe.y))*yt,Ee[1]=-R.y*u.dB(C.center.lat)*yt}else{const yt=C.pointCoordinate(Y.sub(R));qe&&yt&&(Ee[0]=yt.x-qe.x,Ee[1]=yt.y-qe.y)}}const xe=C.zoom,Oe=[0,0,0];if(B){const qe=E(ee||C.pointCoordinate3D(Y)),yt={dir:u.ab.vec3.normalize([],u.ab.vec3.sub([],qe,C._camera.position))};if(yt.dir[2]<0){const gt=C.zoomDeltaToMovement(qe,B);u.ab.vec3.scale(Oe,yt.dir,gt)}}const Me=u.ab.vec3.add(Ee,Ee,Oe);C._translateCameraConstrained(Me),B&&Math.abs(C.zoom-xe)>1e-4&&C.recenterOnTerrain(),C.cameraElevationReference="ground",this._map._update(),r.noInertia||this._inertia.record(r),this._fireEvents(l,p,!0)}_fireEvents(r,l,p){const b=Tm(this._eventsInProgress),C=Tm(r),E={};for(const U in r){const{originalEvent:Y}=r[U];this._eventsInProgress[U]||(E[`${U}start`]=Y),this._eventsInProgress[U]=r[U]}!b&&C&&this._fireEvent("movestart",C.originalEvent);for(const U in E)this._fireEvent(U,E[U]);C&&this._fireEvent("move",C.originalEvent);for(const U in r){const{originalEvent:Y}=r[U];this._fireEvent(U,Y)}const R={};let B;for(const U in this._eventsInProgress){const{handlerName:Y,originalEvent:ee}=this._eventsInProgress[U];this._handlersById[Y].isActive()||(delete this._eventsInProgress[U],B=l[Y]||ee,R[`${U}end`]=B)}for(const U in R)this._fireEvent(U,R[U]);const V=Tm(this._eventsInProgress);if(p&&(b||C)&&!V){this._updatingCamera=!0;const U=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Y=ee=>ee!==0&&-this._bearingSnap<ee&&ee<this._bearingSnap;U?(Y(U.bearing||this._map.getBearing())&&(U.bearing=0),this._map.easeTo(U,{originalEvent:B})):(this._map.fire(new u.z("moveend",{originalEvent:B})),Y(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(r,l){this._map.fire(new u.z(r,l?{originalEvent:l}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(r=>{this._frameId=void 0,this.handleEvent(new Kg("renderFrame",{timeStamp:r})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}const Oh="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.";class Sd extends u.E{constructor(r,l){super(),this._moving=!1,this._zooming=!1,this.transform=r,this._bearingSnap=l.bearingSnap,this._respectPrefersReducedMotion=l.respectPrefersReducedMotion!==!1,u.aP(["_renderFrameCallback"],this)}getCenter(){return new u.bO(this.transform.center.lng,this.transform.center.lat)}setCenter(r,l){return this.jumpTo({center:r},l)}panBy(r,l,p){return r=u.P.convert(r).mult(-1),this.panTo(this.transform.center,u.l({offset:r},l),p)}panTo(r,l,p){return this.easeTo(u.l({center:r},l),p)}getZoom(){return this.transform.zoom}setZoom(r,l){return this.jumpTo({zoom:r},l),this}zoomTo(r,l,p){return this.easeTo(u.l({zoom:r},l),p)}zoomIn(r,l){return this.zoomTo(this.getZoom()+1,r,l),this}zoomOut(r,l){return this.zoomTo(this.getZoom()-1,r,l),this}getBearing(){return this.transform.bearing}setBearing(r,l){return this.jumpTo({bearing:r},l),this}getPadding(){return this.transform.padding}setPadding(r,l){return this.jumpTo({padding:r},l),this}rotateTo(r,l,p){return this.easeTo(u.l({bearing:r},l),p)}resetNorth(r,l){return this.rotateTo(0,u.l({duration:1e3},r),l),this}resetNorthPitch(r,l){return this.easeTo(u.l({bearing:0,pitch:0,duration:1e3},r),l),this}snapToNorth(r,l){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(r,l):this}getPitch(){return this.transform.pitch}setPitch(r,l){return this.jumpTo({pitch:r},l),this}cameraForBounds(r,l){r=u.az.convert(r);const p=l&&l.bearing||0,b=l&&l.pitch||0,C=r.getNorthWest(),E=r.getSouthEast();return this._cameraForBounds(this.transform,C,E,p,b,l)}_extendPadding(r){const l={top:0,right:0,bottom:0,left:0};return r==null?u.l({},l,this.transform.padding):typeof r=="number"?{top:r,bottom:r,right:r,left:r}:u.l({},l,r)}_extendCameraOptions(r){return(r=u.l({offset:[0,0],maxZoom:this.transform.maxZoom},r)).padding=this._extendPadding(r.padding),r}_minimumAABBFrustumDistance(r,l){const p=l.max[0]-l.min[0],b=l.max[1]-l.min[1];return p/b>r.aspect?p/(2*Math.tan(.5*r.fovX)*r.aspect):b/(2*Math.tan(.5*r.fovY)*r.aspect)}_cameraForBoundsOnGlobe(r,l,p,b,C,E){const R=r.clone(),B=this._extendCameraOptions(E);R.bearing=b,R.pitch=C;const V=u.bO.convert(l),U=u.bO.convert(p),Y=.5*(V.lat+U.lat),ee=.5*(V.lng+U.lng),le=u.dC(Y,ee),Ee=u.ab.vec3.normalize([],le),xe=u.ab.vec3.normalize([],u.ab.vec3.cross([],Ee,[0,1,0])),Oe=u.ab.vec3.cross([],xe,Ee),Me=[xe[0],xe[1],xe[2],0,Oe[0],Oe[1],Oe[2],0,Ee[0],Ee[1],Ee[2],0,0,0,0,1],qe=[le,u.dC(V.lat,V.lng),u.dC(U.lat,V.lng),u.dC(U.lat,U.lng),u.dC(V.lat,U.lng),u.dC(Y,V.lng),u.dC(Y,U.lng),u.dC(V.lat,ee),u.dC(U.lat,ee)];let yt=u.cd.fromPoints(qe.map(Qn=>[u.ab.vec3.dot(xe,Qn),u.ab.vec3.dot(Oe,Qn),u.ab.vec3.dot(Ee,Qn)]));const gt=u.ab.vec3.transformMat4([],yt.center,Me);u.ab.vec3.squaredLength(gt)===0&&u.ab.vec3.set(gt,0,0,1),u.ab.vec3.normalize(gt,gt),u.ab.vec3.scale(gt,gt,u.ax),R.center=u.dD(gt);const Nt=R.getWorldToCameraMatrix(),Mt=u.ab.mat4.invert(new Float64Array(16),Nt);yt=u.cd.applyTransform(yt,u.ab.mat4.multiply([],Nt,Me));const Dt=this._extendAABB(yt,R,B,b);if(!Dt)return void u.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.");yt=Dt,u.ab.vec3.transformMat4(gt,gt,Nt);const It=.5*(yt.max[2]-yt.min[2]),zt=this._minimumAABBFrustumDistance(R,yt),fn=u.ab.vec3.scale([],[0,0,1],It),nr=u.ab.vec3.add(fn,gt,fn),Hn=zt+(R.pitch===0?0:u.ab.vec3.distance(gt,nr)),Er=R.globeCenterInViewSpace,mr=u.ab.vec3.sub([],gt,[Er[0],Er[1],Er[2]]);u.ab.vec3.normalize(mr,mr),u.ab.vec3.scale(mr,mr,Hn);const Dn=u.ab.vec3.add([],gt,mr);u.ab.vec3.transformMat4(Dn,Dn,Mt);const or=u.ds/u.ax,Gr=u.ab.vec3.length(Dn),On=u.bH(Math.max(Gr*or-u.ds,Number.EPSILON),0),Rr=Math.min(R.zoomFromMercatorZAdjusted(On),B.maxZoom);return Rr>.5*(u.c6+u.bY)?(R.setProjection({name:"mercator"}),R.zoom=Rr,this._cameraForBounds(R,l,p,b,C,E)):{center:R.center,zoom:Rr,bearing:b,pitch:C}}_extendAABB(r,l,p,b){const C=.5*((p.padding.left||0)+(p.padding.right||0)),E=.5*((p.padding.top||0)+(p.padding.bottom||0)),R=E,B=C,V=C,U=E,Y=l.width-(B+V),ee=l.height-(R+U),le=u.ab.vec3.sub([],r.max,r.min),Ee=Math.min(Y/le[0],ee/le[1]),xe=Math.min(l.scaleZoom(l.scale*Ee),p.maxZoom);if(isNaN(xe))return null;const Oe=l.scale/l.zoomScale(xe),Me=new u.cd([r.min[0]-B*Oe,r.min[1]-U*Oe,r.min[2]],[r.max[0]+V*Oe,r.max[1]+R*Oe,r.max[2]]),qe=(typeof p.offset.x=="number"&&typeof p.offset.y=="number"?new u.P(p.offset.x,p.offset.y):u.P.convert(p.offset)).rotate(-u.ai(b));return Me.center[0]-=qe.x*Oe,Me.center[1]+=qe.y*Oe,Me}queryTerrainElevation(r,l){const p=this.transform.elevation;return p?(l=u.l({},{exaggerated:!0},l),p.getAtPoint(u.aa.fromLngLat(r),null,l.exaggerated)):null}_cameraForBounds(r,l,p,b,C,E){if(r.projection.name==="globe")return this._cameraForBoundsOnGlobe(r,l,p,b,C,E);const R=r.clone(),B=this._extendCameraOptions(E);R.bearing=b,R.pitch=C;const V=u.bO.convert(l),U=u.bO.convert(p),Y=new u.bO(V.lng,U.lat),ee=new u.bO(U.lng,V.lat),le=R.project(V),Ee=R.project(U),xe=this.queryTerrainElevation(V),Oe=this.queryTerrainElevation(U),Me=this.queryTerrainElevation(Y),qe=this.queryTerrainElevation(ee),yt=[[le.x,le.y,Math.min(xe||0,Oe||0,Me||0,qe||0)],[Ee.x,Ee.y,Math.max(xe||0,Oe||0,Me||0,qe||0)]];let gt=u.cd.fromPoints(yt);const Nt=R.getWorldToCameraMatrix(),Mt=u.ab.mat4.invert(new Float64Array(16),Nt);gt=u.cd.applyTransform(gt,Nt);const Dt=this._extendAABB(gt,R,B,b);if(!Dt)return void u.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.");gt=Dt;const It=.5*u.ab.vec3.sub([],gt.max,gt.min)[2],zt=this._minimumAABBFrustumDistance(R,gt),fn=[0,0,1,0];u.ab.vec4.transformMat4(fn,fn,Nt),u.ab.vec4.normalize(fn,fn);const nr=u.ab.vec3.scale([],fn,zt+It),Hn=u.ab.vec3.add([],gt.center,nr);u.ab.vec3.transformMat4(gt.center,gt.center,Mt),u.ab.vec3.transformMat4(Hn,Hn,Mt);const Er=R.unproject(new u.P(gt.center[0],gt.center[1])),mr=u.dE(R.projection,Er),Dn=Math.pow(2,mr),or=Math.min(R._zoomFromMercatorZ(Hn[2]*R.pixelsPerMeter*Dn/R.worldSize),B.maxZoom);return R.mercatorFromTransition&&or<.5*(u.c6+u.bY)?(R.setProjection({name:"globe"}),R.zoom=or,this._cameraForBounds(R,l,p,b,C,E)):{center:Er,zoom:or,bearing:b,pitch:C}}fitBounds(r,l,p){const b=this.cameraForBounds(r,l);return this._fitInternal(b,l,p)}fitScreenCoordinates(r,l,p,b,C){const E=u.P.convert(r),R=u.P.convert(l),B=new u.P(Math.min(E.x,R.x),Math.min(E.y,R.y)),V=new u.P(Math.max(E.x,R.x),Math.max(E.y,R.y));if(this.transform.projection.name==="mercator"&&this.transform.anyCornerOffEdge(E,R))return this;const U=this.transform.pointLocation3D(B),Y=this.transform.pointLocation3D(V),ee=this.transform.pointLocation3D(new u.P(B.x,V.y)),le=this.transform.pointLocation3D(new u.P(V.x,B.y)),Ee=[Math.min(U.lng,Y.lng,ee.lng,le.lng),Math.min(U.lat,Y.lat,ee.lat,le.lat)],xe=[Math.max(U.lng,Y.lng,ee.lng,le.lng),Math.max(U.lat,Y.lat,ee.lat,le.lat)],Oe=b&&b.pitch?b.pitch:this.getPitch(),Me=this._cameraForBounds(this.transform,Ee,xe,p,Oe,b);return this._fitInternal(Me,b,C)}_fitInternal(r,l,p){return r?(l=u.l(r,l)).linear?this.easeTo(l,p):this.flyTo(l,p):this}jumpTo(r,l){this.stop();const p=r.preloadOnly?this.transform.clone():this.transform;let b=!1,C=!1,E=!1;"zoom"in r&&p.zoom!==+r.zoom&&(b=!0,p.zoom=+r.zoom),r.center!==void 0&&(p.center=u.bO.convert(r.center)),"bearing"in r&&p.bearing!==+r.bearing&&(C=!0,p.bearing=+r.bearing),"pitch"in r&&p.pitch!==+r.pitch&&(E=!0,p.pitch=+r.pitch);const R=typeof r.padding=="number"?this._extendPadding(r.padding):r.padding;if(r.padding!=null&&!p.isPaddingEqual(R))if(r.retainPadding===!1){const B=p.clone();B.padding=R,p.setLocationAtPoint(p.center,B.centerPoint)}else p.padding=R;return r.preloadOnly?(this._preloadTiles(p),this):(this.fire(new u.z("movestart",l)).fire(new u.z("move",l)),b&&this.fire(new u.z("zoomstart",l)).fire(new u.z("zoom",l)).fire(new u.z("zoomend",l)),C&&this.fire(new u.z("rotatestart",l)).fire(new u.z("rotate",l)).fire(new u.z("rotateend",l)),E&&this.fire(new u.z("pitchstart",l)).fire(new u.z("pitch",l)).fire(new u.z("pitchend",l)),this.fire(new u.z("moveend",l)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||u.w(Oh),this.transform.getFreeCameraOptions()}setFreeCameraOptions(r,l){const p=this.transform;if(!p.projection.supportsFreeCamera)return u.w(Oh),this;this.stop();const b=p.zoom,C=p.pitch,E=p.bearing;p.setFreeCameraOptions(r);const R=b!==p.zoom,B=C!==p.pitch,V=E!==p.bearing;return this.fire(new u.z("movestart",l)).fire(new u.z("move",l)),R&&this.fire(new u.z("zoomstart",l)).fire(new u.z("zoom",l)).fire(new u.z("zoomend",l)),V&&this.fire(new u.z("rotatestart",l)).fire(new u.z("rotate",l)).fire(new u.z("rotateend",l)),B&&this.fire(new u.z("pitchstart",l)).fire(new u.z("pitch",l)).fire(new u.z("pitchend",l)),this.fire(new u.z("moveend",l)),this}easeTo(r,l){this._stop(!1,r.easeId),((r=u.l({offset:[0,0],duration:500,easing:u.dA},r)).animate===!1||this._prefersReducedMotion(r))&&(r.duration=0);const p=this.transform,b=this.getZoom(),C=this.getBearing(),E=this.getPitch(),R=this.getPadding(),B="zoom"in r?+r.zoom:b,V="bearing"in r?this._normalizeBearing(r.bearing,C):C,U="pitch"in r?+r.pitch:E,Y=this._extendPadding(r.padding),ee=u.P.convert(r.offset);let le,Ee,xe;if(p.projection.name==="globe"){const fn=u.aa.fromLngLat(p.center),nr=ee.rotate(-p.angle);fn.x+=nr.x/p.worldSize,fn.y+=nr.y/p.worldSize;const Hn=fn.toLngLat(),Er=u.bO.convert(r.center||Hn);this._normalizeCenter(Er),le=p.centerPoint.add(nr),Ee=new u.P(fn.x,fn.y).mult(p.worldSize),xe=new u.P(u.at(Er.lng),u.aA(Er.lat)).mult(p.worldSize).sub(Ee)}else{le=p.centerPoint.add(ee);const fn=p.pointLocation(le),nr=u.bO.convert(r.center||fn);this._normalizeCenter(nr),Ee=p.project(fn),xe=p.project(nr).sub(Ee)}const Oe=p.zoomScale(B-b);let Me,qe;r.around&&(Me=u.bO.convert(r.around),qe=p.locationPoint(Me));const yt=this._zooming||B!==b,gt=this._rotating||C!==V,Nt=this._pitching||U!==E,Mt=!p.isPaddingEqual(Y),Dt=r.retainPadding===!1?p.clone():p,It=fn=>nr=>{if(yt&&(fn.zoom=u.af(b,B,nr)),gt&&(fn.bearing=u.af(C,V,nr)),Nt&&(fn.pitch=u.af(E,U,nr)),Mt&&(Dt.interpolatePadding(R,Y,nr),le=Dt.centerPoint.add(ee)),Me)fn.setLocationAtPoint(Me,qe);else{const Hn=fn.zoomScale(fn.zoom-b),Er=B>b?Math.min(2,Oe):Math.max(.5,Oe),mr=Math.pow(Er,1-nr),Dn=fn.unproject(Ee.add(xe.mult(nr*mr)).mult(Hn));fn.setLocationAtPoint(fn.renderWorldCopies?Dn.wrap():Dn,le)}return r.preloadOnly||this._fireMoveEvents(l),fn};if(r.preloadOnly){const fn=this._emulate(It,r.duration,p);return this._preloadTiles(fn),this}const zt={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=yt,this._rotating=gt,this._pitching=Nt,this._padding=Mt,this._easeId=r.easeId,this._prepareEase(l,r.noMoveStart,zt),this._ease(It(p),fn=>{p.cameraElevationReference==="sea"&&p.recenterOnTerrain(),this._afterEase(l,fn)},r),this}_prepareEase(r,l,p={}){this._moving=!0,this.transform.cameraElevationReference="sea",this.transform._orthographicProjectionAtLowPitch&&this.transform.pitch===0&&this.transform.projection.name!=="globe"&&(this.transform.cameraElevationReference="ground"),l||p.moving||this.fire(new u.z("movestart",r)),this._zooming&&!p.zooming&&this.fire(new u.z("zoomstart",r)),this._rotating&&!p.rotating&&this.fire(new u.z("rotatestart",r)),this._pitching&&!p.pitching&&this.fire(new u.z("pitchstart",r))}_fireMoveEvents(r){this.fire(new u.z("move",r)),this._zooming&&this.fire(new u.z("zoom",r)),this._rotating&&this.fire(new u.z("rotate",r)),this._pitching&&this.fire(new u.z("pitch",r))}_afterEase(r,l){if(this._easeId&&l&&this._easeId===l)return;this._easeId=void 0,this.transform.cameraElevationReference="ground";const p=this._zooming,b=this._rotating,C=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,p&&this.fire(new u.z("zoomend",r)),b&&this.fire(new u.z("rotateend",r)),C&&this.fire(new u.z("pitchend",r)),this.fire(new u.z("moveend",r))}flyTo(r,l){if(this._prefersReducedMotion(r)){const Qn=u.ay(r,["center","zoom","bearing","pitch","around","padding","retainPadding"]);return this.jumpTo(Qn,l)}this.stop(),r=u.l({offset:[0,0],speed:1.2,curve:1.42,easing:u.dA},r);const p=this.transform,b=this.getZoom(),C=this.getBearing(),E=this.getPitch(),R=this.getPadding(),B="zoom"in r?u.aw(+r.zoom,p.minZoom,p.maxZoom):b,V="bearing"in r?this._normalizeBearing(r.bearing,C):C,U="pitch"in r?+r.pitch:E,Y=this._extendPadding(r.padding),ee=p.zoomScale(B-b),le=u.P.convert(r.offset);let Ee=p.centerPoint.add(le);const xe=p.pointLocation(Ee),Oe=u.bO.convert(r.center||xe);this._normalizeCenter(Oe);const Me=p.project(xe),qe=p.project(Oe).sub(Me);let yt=r.curve;const gt=Math.max(p.width,p.height),Nt=gt/ee,Mt=qe.mag();if("minZoom"in r){const Qn=u.aw(Math.min(r.minZoom,b,B),p.minZoom,p.maxZoom),xi=gt/p.zoomScale(Qn-b);yt=Math.sqrt(xi/Mt*2)}const Dt=yt*yt;function It(Qn){const xi=(Nt*Nt-gt*gt+(Qn?-1:1)*Dt*Dt*Mt*Mt)/(2*(Qn?Nt:gt)*Dt*Mt);return Math.log(Math.sqrt(xi*xi+1)-xi)}function zt(Qn){return(Math.exp(Qn)-Math.exp(-Qn))/2}function fn(Qn){return(Math.exp(Qn)+Math.exp(-Qn))/2}const nr=It(0);let Hn=function(Qn){return fn(nr)/fn(nr+yt*Qn)},Er=function(Qn){return gt*((fn(nr)*(zt(xi=nr+yt*Qn)/fn(xi))-zt(nr))/Dt)/Mt;var xi},mr=(It(1)-nr)/yt;if(Math.abs(Mt)<1e-6||!isFinite(mr)){if(Math.abs(gt-Nt)<1e-6)return this.easeTo(r,l);const Qn=Nt<gt?-1:1;mr=Math.abs(Math.log(Nt/gt))/yt,Er=function(){return 0},Hn=function(xi){return Math.exp(Qn*yt*xi)}}r.duration="duration"in r?+r.duration:1e3*mr/("screenSpeed"in r?+r.screenSpeed/yt:+r.speed),r.maxDuration&&r.duration>r.maxDuration&&(r.duration=0);const Dn=C!==V,or=U!==E,Gr=!p.isPaddingEqual(Y),On=r.retainPadding===!1?p.clone():p,Rr=Qn=>xi=>{const Br=xi*mr,Or=1/Hn(Br);Qn.zoom=xi===1?B:b+Qn.scaleZoom(Or),Dn&&(Qn.bearing=u.af(C,V,xi)),or&&(Qn.pitch=u.af(E,U,xi)),Gr&&(On.interpolatePadding(R,Y,xi),Ee=On.centerPoint.add(le));const ci=xi===1?Oe:Qn.unproject(Me.add(qe.mult(Er(Br))).mult(Or));return Qn.setLocationAtPoint(Qn.renderWorldCopies?ci.wrap():ci,Ee),Qn._updateCameraOnTerrain(),r.preloadOnly||this._fireMoveEvents(l),Qn};if(r.preloadOnly){const Qn=this._emulate(Rr,r.duration,p);return this._preloadTiles(Qn),this}return this._zooming=!0,this._rotating=Dn,this._pitching=or,this._padding=Gr,this._prepareEase(l,!1),this._ease(Rr(p),()=>this._afterEase(l),r),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_requestRenderFrame(r){}_cancelRenderFrame(r){}_stop(r,l){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){const p=this._onEaseEnd;this._onEaseEnd=void 0,p.call(this,l)}if(!r){const p=this.handlers;p&&p.stop(!1)}return this}_ease(r,l,p){p.animate===!1||p.duration===0?(r(1),l()):(this._easeStart=u.q.now(),this._easeOptions=p,this._onEaseFrame=r,this._onEaseEnd=l,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const r=Math.min((u.q.now()-this._easeStart)/this._easeOptions.duration,1),l=this._onEaseFrame;l&&l(this._easeOptions.easing(r)),r<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(r,l){r=u.bF(r,-180,180);const p=Math.abs(r-l);return Math.abs(r-360-l)<p&&(r-=360),Math.abs(r+360-l)<p&&(r+=360),r}_normalizeCenter(r){const l=this.transform;if(l.maxBounds||l.projection.name!=="globe"&&!l.renderWorldCopies)return;const p=r.lng-l.center.lng;r.lng+=p>180?-360:p<-180?360:0}_prefersReducedMotion(r){return this._respectPrefersReducedMotion&&u.q.prefersReducedMotion&&!(r&&r.essential)}_emulate(r,l,p){const b=Math.ceil(15*l/1e3),C=[],E=r(p.clone());for(let R=0;R<=b;R++){const B=E(R/b);C.push(B.clone())}return C}_preloadTiles(r,l){}}class Mm{constructor(r={}){this.options=r,u.aP(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(r){const l=this.options&&this.options.compact,p=r._getUIString("AttributionControl.ToggleAttribution");this._map=r,this._container=ke("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=ke("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._compactButton.setAttribute("aria-label",p);const b=ke("span","mapboxgl-ctrl-icon",this._compactButton);return b.setAttribute("aria-hidden","true"),b.setAttribute("title",p),this._innerContainer=ke("div","mapboxgl-ctrl-attrib-inner",this._container),l&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),l===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}_updateEditLink(){let r=this._editLink;r||(r=this._editLink=this._container.querySelector(".mapbox-improve-map"));const l=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||u.e.ACCESS_TOKEN}];if(r){const p=l.reduce((b,C,E)=>(C.value&&(b+=`${C.key}=${C.value}${E<l.length-1?"&":""}`),b),"?");r.href=`${u.e.FEEDBACK_URL}/${p}#${Rp(this._map,!0)}`,r.rel="noopener nofollow"}}_updateData(r){!r||r.sourceDataType!=="metadata"&&r.sourceDataType!=="visibility"&&r.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let r=[];if(this._map.style.stylesheet){const b=this._map.style.stylesheet;this.styleOwner=b.owner,this.styleId=b.id}const l=this._map.style._mergedSourceCaches;for(const b in l){const C=l[b];if(C.used){const E=C.getSource();E.attribution&&r.indexOf(E.attribution)<0&&r.push(E.attribution)}}r.sort((b,C)=>b.length-C.length),r=r.filter((b,C)=>{for(let E=C+1;E<r.length;E++)if(r[E].indexOf(b)>=0)return!1;return!0}),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?r=[...this.options.customAttribution,...r]:r.unshift(this.options.customAttribution));const p=r.join(" | ");p!==this._attribHTML&&(this._attribHTML=p,r.length?(this._innerContainer.innerHTML=p,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class Xc{constructor(){u.aP(["_updateLogo","_updateCompact"],this)}onAdd(r){this._map=r,this._container=ke("div","mapboxgl-ctrl");const l=ke("a","mapboxgl-ctrl-logo");return l.target="_blank",l.rel="noopener nofollow",l.href="https://www.mapbox.com/",l.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),l.setAttribute("rel","noopener nofollow"),this._container.appendChild(l),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(r){r&&r.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const r=this._map.style._sourceCaches;if(Object.entries(r).length===0)return!0;for(const l in r){const p=r[l].getSource();if(p.hasOwnProperty("mapbox_logo")&&!p.mapbox_logo)return!1}return!0}_updateCompact(){const r=this._container.children;if(r.length){const l=r[0];this._map.getCanvasContainer().offsetWidth<250?l.classList.add("mapboxgl-compact"):l.classList.remove("mapboxgl-compact")}}}class Kc{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(r){const l=++this._id;return this._queue.push({callback:r,id:l,cancelled:!1}),l}remove(r){const l=this._currentlyRunning,p=l?this._queue.concat(l):this._queue;for(const b of p)if(b.id===r)return void(b.cancelled=!0)}run(r=0){const l=this._currentlyRunning=this._queue;this._queue=[];for(const p of l)if(!p.cancelled&&(p.callback(r),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}class wf{constructor(r){this.jumpTo(r)}getValue(r){if(r<=this._startTime)return this._start;if(r>=this._endTime)return this._end;const l=u.cB((r-this._startTime)/(this._endTime-this._startTime));return this._start*(1-l)+this._end*l}isEasing(r){return r>=this._startTime&&r<=this._endTime}jumpTo(r){this._startTime=-1/0,this._endTime=-1/0,this._start=r,this._end=r}easeTo(r,l,p){this._start=this.getValue(l),this._end=r,this._startTime=l,this._endTime=l+p}}const Zd={"AttributionControl.ToggleAttribution":"Toggle attribution","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox homepage","Map.Title":"Map","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use \u2318 + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"};class Vd extends u.z{constructor(r,l,p,b){const{point:C,lngLat:E,originalEvent:R,target:B}=r;super(r.type,{point:C,lngLat:E,originalEvent:R,target:B}),this.preventDefault=()=>{r.preventDefault()},this.id=l,this.interaction=p,this.feature=b}}class zp{constructor(r){this.map=r,this.interactionsByType=new Map,this.delegatedInteractions=new Map,this.typeById=new Map,this.filters=new Map,this.handleType=this.handleType.bind(this),this.handleMove=this.handleMove.bind(this),this.handleOut=this.handleOut.bind(this),this.hoveredFeatures=new Map,this.prevHoveredFeatures=new Map}add(r,l){if(this.typeById.has(r))throw new Error(`Interaction id "${r}" already exists.`);const p=l.filter;let b=l.type;p&&this.filters.set(r,u.aZ(p)),b==="mouseover"&&(b="mouseenter"),b==="mouseout"&&(b="mouseleave");const C=this.interactionsByType.get(b)||new Map;b==="mouseenter"||b==="mouseleave"?(this.delegatedInteractions.size===0&&(this.map.on("mousemove",this.handleMove),this.map.on("mouseout",this.handleOut)),this.delegatedInteractions.set(r,l)):C.size===0&&this.map.on(b,this.handleType),C.size===0&&this.interactionsByType.set(b,C),C.set(r,l),this.typeById.set(r,b)}get(r){const l=this.typeById.get(r);if(!l)return;const p=this.interactionsByType.get(l);return p?p.get(r):void 0}remove(r){const l=this.typeById.get(r);if(!l)return;this.typeById.delete(r),this.filters.delete(r);const p=this.interactionsByType.get(l);p&&(p.delete(r),l==="mouseenter"||l==="mouseleave"?(this.delegatedInteractions.delete(r),this.delegatedInteractions.size===0&&(this.map.off("mousemove",this.handleMove),this.map.off("mouseout",this.handleOut))):p.size===0&&this.map.off(l,this.handleType))}queryTargets(r,l){const p=[];for(const[b,C]of l)C.target&&p.push({targetId:b,target:C.target,filter:this.filters.get(b)});return this.map.style.queryRenderedTargets(r,p,this.map.transform)}handleMove(r){this.prevHoveredFeatures=this.hoveredFeatures,this.hoveredFeatures=new Map;const l=this.queryTargets(r.point,Array.from(this.delegatedInteractions).reverse());l.length&&(r.type="mouseenter",this.handleType(r,l));const p=new Map;for(const[b,{feature:C}]of this.prevHoveredFeatures)this.hoveredFeatures.has(b)||p.set(C.id,C);p.size&&(r.type="mouseleave",this.handleType(r,Array.from(p.values())))}handleOut(r){const l=Array.from(this.hoveredFeatures.values()).map(({feature:p})=>p);l.length&&(r.type="mouseleave",this.handleType(r,l)),this.hoveredFeatures.clear()}handleType(r,l){const p=Array.from(this.interactionsByType.get(r.type)).reverse(),b=!!l;l=l||this.queryTargets(r.point,p);const C=r.type==="mouseenter";let E=!1;const R=new Set;for(const B of l){for(const[V,U]of p){if(!U.target)continue;const Y=B.variants?B.variants[V]:null;if(Y){for(const ee of Y){if(sr(ee,B,R,V))continue;const le=new u.cw(B,ee),Ee=bn(ee,B,V);b&&(le.state=this.map.getFeatureState(le));const xe=C?this.prevHoveredFeatures.get(Ee):null,Oe=new Vd(r,V,U,le),Me=xe?xe.stop:U.handler(Oe);if(C&&this.hoveredFeatures.set(Ee,{feature:B,stop:Me}),Me!==!1){E=!0;break}}if(E)break}}if(E)break}if(!E)for(const[B,V]of p){const{handler:U,target:Y}=V;if(!Y&&U(new Vd(r,B,V,null))!==!1)break}}}function gs(m,r){if(Array.isArray(m)&&Array.isArray(r)){const l=new Set(m),p=new Set(r);return l.size===p.size&&m.every(b=>p.has(b))}return u.bn(m,r)}const qu={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,performanceMetricsCollection:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,antialias:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,respectPrefersReducedMotion:!0,crossSourceCollisions:!0,collectResourceTiming:!1,testMode:!1,precompilePrograms:!0,scaleFactor:1,spriteFormat:"auto"},Pv={showCompass:!0,showZoom:!0,visualizePitch:!1};class Ov{constructor(r,l,p=!1){this._clickTolerance=10,this.element=l,this.mouseRotate=new Ec({clickTolerance:r.dragRotate._mouseRotate._clickTolerance}),this.map=r,p&&(this.mousePitch=new Em({clickTolerance:r.dragRotate._mousePitch._clickTolerance})),u.aP(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),l.addEventListener("mousedown",this.mousedown),l.addEventListener("touchstart",this.touchstart,{passive:!1}),l.addEventListener("touchmove",this.touchmove),l.addEventListener("touchend",this.touchend),l.addEventListener("touchcancel",this.reset)}down(r,l){this.mouseRotate.mousedown(r,l),this.mousePitch&&this.mousePitch.mousedown(r,l),St()}move(r,l){const p=this.map,b=this.mouseRotate.mousemoveWindow(r,l),C=b&&b.bearingDelta;if(C&&p.setBearing(p.getBearing()+C),this.mousePitch){const E=this.mousePitch.mousemoveWindow(r,l),R=E&&E.pitchDelta;R&&p.setPitch(p.getPitch()+R)}}off(){const r=this.element;r.removeEventListener("mousedown",this.mousedown),r.removeEventListener("touchstart",this.touchstart,{passive:!1}),r.removeEventListener("touchmove",this.touchmove),r.removeEventListener("touchend",this.touchend),r.removeEventListener("touchcancel",this.reset),this.offTemp()}offTemp(){Ot(),window.removeEventListener("mousemove",this.mousemove),window.removeEventListener("mouseup",this.mouseup)}mousedown(r){this.down(u.l({},r,{ctrlKey:!0,preventDefault:()=>r.preventDefault()}),Pt(this.element,r)),window.addEventListener("mousemove",this.mousemove),window.addEventListener("mouseup",this.mouseup)}mousemove(r){this.move(r,Pt(this.element,r))}mouseup(r){this.mouseRotate.mouseupWindow(r),this.mousePitch&&this.mousePitch.mouseupWindow(r),this.offTemp()}touchstart(r){r.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=Ft(this.element,r.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>r.preventDefault()},this._startPos))}touchmove(r){r.targetTouches.length!==1?this.reset():(this._lastPos=Ft(this.element,r.targetTouches)[0],this.move({preventDefault:()=>r.preventDefault()},this._lastPos))}touchend(r){r.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}function Pm(m,r,l){if(m=new u.bO(m.lng,m.lat),r){const p=new u.bO(m.lng-360,m.lat),b=new u.bO(m.lng+360,m.lat),C=360*Math.ceil(Math.abs(m.lng-l.center.lng)/360),E=l.locationPoint(m).distSqr(r),R=r.x<0||r.y<0||r.x>l.width||r.y>l.height;l.locationPoint(p).distSqr(r)<E&&(R||Math.abs(p.lng-l.center.lng)<C)?m=p:l.locationPoint(b).distSqr(r)<E&&(R||Math.abs(b.lng-l.center.lng)<C)&&(m=b)}for(;Math.abs(m.lng-l.center.lng)>180;){const p=l.locationPoint(m);if(p.x>=0&&p.y>=0&&p.x<=l.width&&p.y<=l.height)break;m.lng>l.center.lng?m.lng-=360:m.lng+=360}return m}const Yu={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};class _u extends u.E{constructor(r,l){if(super(),(r instanceof HTMLElement||l)&&(r=u.l({element:r},l)),u.aP(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=r&&r.anchor||"center",this._color=r&&r.color||"#3FB1CE",this._scale=r&&r.scale||1,this._draggable=r&&r.draggable||!1,this._clickTolerance=r&&r.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=r&&r.rotation||0,this._rotationAlignment=r&&r.rotationAlignment||"auto",this._pitchAlignment=r&&r.pitchAlignment&&r.pitchAlignment||"auto",this._updateMoving=()=>this._update(!0),this._occludedOpacity=r&&r.occludedOpacity||.2,r&&r.element)this._element=r.element,this._offset=u.P.convert(r&&r.offset||[0,0]);else{this._defaultMarker=!0,this._element=ke("div");const C=41,E=27,R=Xe("svg",{display:"block",height:C*this._scale+"px",width:E*this._scale+"px",viewBox:`0 0 ${E} ${C}`},this._element),B=Xe("radialGradient",{id:"shadowGradient"},Xe("defs",{},R));Xe("stop",{offset:"10%","stop-opacity":.4},B),Xe("stop",{offset:"100%","stop-opacity":.05},B),Xe("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},R),Xe("path",{fill:this._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},R),Xe("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},R),Xe("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},R),this._offset=u.P.convert(r&&r.offset||[0,-14])}this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label","Map marker"),this._element.hasAttribute("role")||this._element.setAttribute("role","img"),this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",C=>{C.preventDefault()}),this._element.addEventListener("mousedown",C=>{C.preventDefault()});const p=this._element.classList;for(const C in Yu)p.remove(`mapboxgl-marker-anchor-${C}`);p.add(`mapboxgl-marker-anchor-${this._anchor}`);const b=r&&r.className?r.className.trim().split(/\s+/):[];p.add(...b),this._popup=null}addTo(r){return r===this._map||(this.remove(),this._map=r,r.getCanvasContainer().appendChild(this._element),r.on("move",this._updateMoving),r.on("moveend",this._update),r.on("remove",this._clearFadeTimer),r._addMarker(this),this.setDraggable(this._draggable),this._update(),r.on("click",this._onMapClick)),this}remove(){const r=this._map;return r&&(r.off("click",this._onMapClick),r.off("move",this._updateMoving),r.off("moveend",this._update),r.off("mousedown",this._addDragHandler),r.off("touchstart",this._addDragHandler),r.off("mouseup",this._onUp),r.off("touchend",this._onUp),r.off("mousemove",this._onMove),r.off("touchmove",this._onMove),r.off("remove",this._clearFadeTimer),r._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(r){return this._lngLat=u.bO.convert(r),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(r){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),r){if(!("offset"in r.options)){const b=Math.sqrt(Math.pow(13.5,2)/2);r.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[b,-1*(38.1-13.5+b)],"bottom-right":[-b,-1*(38.1-13.5+b)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=r,r._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}_onKeyPress(r){const l=r.code,p=r.charCode||r.keyCode;l!=="Space"&&l!=="Enter"&&p!==32&&p!==13||this.togglePopup()}_onMapClick(r){const l=r.originalEvent.target,p=this._element;this._popup&&(l===p||p.contains(l))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const r=this._popup;return r?(r.isOpen()?(r.remove(),this._element.setAttribute("aria-expanded","false")):this._map&&(r.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}_behindTerrain(){const r=this._map,l=this._pos;if(!r||!l)return!1;const p=r.unproject(l),b=r.getFreeCameraOptions();if(!b.position)return!1;const C=b.position.toLngLat();return C.distanceTo(p)<.9*C.distanceTo(this._lngLat)}_evaluateOpacity(){const r=this._map;if(!r)return;const l=this._pos;if(!l||l.x<0||l.x>r.transform.width||l.y<0||l.y>r.transform.height)return void this._clearFadeTimer();const p=r.unproject(l);let b;r._showingGlobe()&&u.dH(r.transform,this._lngLat)?b=0:(b=1-r._queryFogOpacity(p),r.transform._terrainEnabled()&&r.getTerrain()&&this._behindTerrain()&&(b*=this._occludedOpacity)),this._element.style.opacity=`${b}`,this._element.style.pointerEvents=b>0?"auto":"none",this._popup&&this._popup._setOpacity(b),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_updateDOM(){const r=this._pos;if(!r||!this._map)return;const l=this._offset.mult(this._scale);this._element.style.transform=`
            translate(${r.x}px,${r.y}px)
            ${Yu[this._anchor]}
            ${this._calculateXYTransform()} ${this._calculateZTransform()}
            translate(${l.x}px,${l.y}px)
        `}_calculateXYTransform(){const r=this._pos,l=this._map,p=this.getPitchAlignment();if(!l||!r||p!=="map")return"";if(!l._showingGlobe()){const B=l.getPitch();return B?`rotateX(${B}deg)`:""}const b=u.c4(u.dI(l.transform,this._lngLat)),C=r.sub(u.dJ(l.transform)),E=Math.abs(C.x)+Math.abs(C.y);if(E===0)return"";const R=b/E;return`rotateX(${-C.y*R}deg) rotateY(${C.x*R}deg)`}_calculateZTransform(){const r=this._pos,l=this._map;if(!l||!r)return"";let p=0;const b=this.getRotationAlignment();if(b==="map")if(l._showingGlobe()){const C=l.project(new u.bO(this._lngLat.lng,this._lngLat.lat+.001)),E=l.project(new u.bO(this._lngLat.lng,this._lngLat.lat-.001)).sub(C);p=u.c4(Math.atan2(E.y,E.x))-90}else p=-l.getBearing();else if(b==="horizon"){const C=u.ac(4,6,l.getZoom()),E=u.dJ(l.transform);E.y+=C*l.transform.height;const R=r.sub(E),B=u.c4(Math.atan2(R.y,R.x));p=(B>90?B-270:B+90)*(1-C)}return p+=this._rotation,p?`rotateZ(${p}deg)`:""}_update(r){cancelAnimationFrame(this._updateFrameId);const l=this._map;l&&(l.transform.renderWorldCopies&&(this._lngLat=Pm(this._lngLat,this._pos,l.transform)),this._pos=l.project(this._lngLat),r===!0?this._updateFrameId=requestAnimationFrame(()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM())}):this._pos=this._pos.round(),l._requestDomTask(()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),(l._showingGlobe()||l.getTerrain()||l.getFog())&&!this._fadeTimer&&(this._fadeTimer=window.setTimeout(this._evaluateOpacity.bind(this),60)))}))}getOffset(){return this._offset}setOffset(r){return this._offset=u.P.convert(r),this._update(),this}addClassName(r){return this._element.classList.add(r),this}removeClassName(r){return this._element.classList.remove(r),this}toggleClassName(r){return this._element.classList.toggle(r)}_onMove(r){const l=this._map;if(!l)return;const p=this._pointerdownPos,b=this._positionDelta;if(p&&b){if(!this._isDragging){const C=this._clickTolerance||l._clickTolerance;if(r.point.dist(p)<C)return;this._isDragging=!0}this._pos=r.point.sub(b),this._lngLat=l.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new u.z("dragstart"))),this.fire(new u.z("drag"))}}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;const r=this._map;r&&(r.off("mousemove",this._onMove),r.off("touchmove",this._onMove)),this._state==="active"&&this.fire(new u.z("dragend")),this._state="inactive"}_addDragHandler(r){const l=this._map,p=this._pos;l&&p&&this._element.contains(r.originalEvent.target)&&(r.preventDefault(),this._positionDelta=r.point.sub(p),this._pointerdownPos=r.point,this._state="pending",l.on("mousemove",this._onMove),l.on("touchmove",this._onMove),l.once("mouseup",this._onUp),l.once("touchend",this._onUp))}setDraggable(r){this._draggable=!!r;const l=this._map;return l&&(r?(l.on("mousedown",this._addDragHandler),l.on("touchstart",this._addDragHandler)):(l.off("mousedown",this._addDragHandler),l.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(r){return this._rotation=r||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(r){return this._rotationAlignment=r||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment==="auto"||this._rotationAlignment==="horizon"&&this._map&&!this._map._showingGlobe()?"viewport":this._rotationAlignment}setPitchAlignment(r){return this._pitchAlignment=r||"auto",this._update(),this}getPitchAlignment(){return this._pitchAlignment==="auto"?this.getRotationAlignment():this._pitchAlignment}setOccludedOpacity(r){return this._occludedOpacity=r||.2,this._update(),this}getOccludedOpacity(){return this._occludedOpacity}}const xc={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},Fc={maxWidth:100,unit:"metric"},hc={kilometer:"km",meter:"m",mile:"mi",foot:"ft","nautical-mile":"nm"},Yg={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},vl=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Jg(m=new u.P(0,0),r="bottom"){if(typeof m=="number"){const l=Math.round(Math.sqrt(.5*Math.pow(m,2)));switch(r){case"top":return new u.P(0,m);case"top-left":return new u.P(l,l);case"top-right":return new u.P(-l,l);case"bottom":return new u.P(0,-m);case"bottom-left":return new u.P(l,-l);case"bottom-right":return new u.P(-l,-l);case"left":return new u.P(m,0);case"right":return new u.P(-m,0)}return new u.P(0,0)}return m instanceof u.P||Array.isArray(m)?u.P.convert(m):u.P.convert(m[r]||[0,0])}return{version:Ie,supported:Ye.supported,setRTLTextPlugin:u.dK,getRTLTextPluginStatus:u.dL,Map:class extends Sd{constructor(m){je.mark(He.create);const r=m;if((m=u.l({},qu,m)).minZoom!=null&&m.maxZoom!=null&&m.minZoom>m.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(m.minPitch!=null&&m.maxPitch!=null&&m.minPitch>m.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(m.minPitch!=null&&m.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(m.maxPitch!=null&&m.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(m.antialias&&u.dF(window)&&(m.antialias=!1,u.w("Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609")),super(new hu(m.minZoom,m.maxZoom,m.minPitch,m.maxPitch,m.renderWorldCopies),m),this._repaint=!!m.repaint,this._interactive=m.interactive,this._minTileCacheSize=m.minTileCacheSize,this._maxTileCacheSize=m.maxTileCacheSize,this._failIfMajorPerformanceCaveat=m.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=m.preserveDrawingBuffer,this._antialias=m.antialias,this._trackResize=m.trackResize,this._bearingSnap=m.bearingSnap,this._refreshExpiredTiles=m.refreshExpiredTiles,this._fadeDuration=m.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=m.crossSourceCollisions,this._collectResourceTiming=m.collectResourceTiming,this._language=this._parseLanguage(m.language),this._worldview=m.worldview,this._renderTaskQueue=new Kc,this._domRenderTaskQueue=new Kc,this._controls=[],this._markers=[],this._popups=[],this._mapId=u.aV(),this._locale=u.l({},Zd,m.locale),this._clickTolerance=m.clickTolerance,this._cooperativeGestures=m.cooperativeGestures,this._performanceMetricsCollection=m.performanceMetricsCollection,this._tessellationStep=m.tessellationStep,this._containerWidth=0,this._containerHeight=0,this._showParseStatus=!0,this._precompilePrograms=m.precompilePrograms,this._scaleFactorChanged=!1,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new wf(0),this._interactionRange=[1/0,-1/0],this._visibilityHidden=0,this._useExplicitProjection=!1,this._frameId=0,this._scaleFactor=m.scaleFactor,this._requestManager=new Dr(m.transformRequest,m.accessToken,m.testMode),this._silenceAuthErrors=!!m.testMode,this._contextCreateOptions=m.contextCreateOptions?Object.assign({},m.contextCreateOptions):{},typeof m.container=="string"){const l=document.getElementById(m.container);if(!l)throw new Error(`Container '${m.container.toString()}' not found.`);this._container=l}else{if(!(m.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=m.container}if(this._container.childNodes.length>0&&u.w("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),m.maxBounds&&this.setMaxBounds(m.maxBounds),this._spriteFormat=m.spriteFormat,u.aP(["_onWindowOnline","_onWindowResize","_onVisibilityChange","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._tp||(this._tp=new Bg),this._tp.registerParameter(this,["Debug"],"showOverdrawInspector"),this._tp.registerParameter(this,["Debug"],"showTileBoundaries"),this._tp.registerParameter(this,["Debug"],"showParseStatus"),this._tp.registerParameter(this,["Debug"],"repaint"),this._tp.registerParameter(this,["Debug"],"showTileAABBs"),this._tp.registerParameter(this,["Debug"],"showPadding"),this._tp.registerParameter(this,["Debug"],"showCollisionBoxes",{noSave:!0}),this._tp.registerParameter(this.transform,["Debug"],"freezeTileCoverage",{noSave:!0},()=>{this._update()}),this._tp.registerParameter(this,["Debug","Wireframe"],"showTerrainWireframe"),this._tp.registerParameter(this,["Debug","Wireframe"],"showLayers2DWireframe"),this._tp.registerParameter(this,["Debug","Wireframe"],"showLayers3DWireframe"),this._tp.registerParameter(this,["Scaling"],"_scaleFactor",{min:.1,max:10,step:.1},()=>{this.setScaleFactor(this._scaleFactor)}),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");if(this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this._fullscreenchangeEvent="onfullscreenchange"in document?"fullscreenchange":"webkitfullscreenchange",window.addEventListener("online",this._onWindowOnline,!1),window.addEventListener("resize",this._onWindowResize,!1),window.addEventListener("orientationchange",this._onWindowResize,!1),window.addEventListener(this._fullscreenchangeEvent,this._onWindowResize,!1),window.addEventListener("visibilitychange",this._onVisibilityChange,!1),this.handlers=new qg(this,m),this._localFontFamily=m.localFontFamily,this._localIdeographFontFamily=m.localIdeographFontFamily,(m.style||!m.testMode)&&this.setStyle(m.style||u.e.DEFAULT_STYLE,{config:m.config,localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),m.projection&&this.setProjection(m.projection),this.indoor=new Xo(this),m.hash&&(this._hash=new Op(typeof m.hash=="string"&&m.hash||void 0).addTo(this)),!this._hash||!this._hash._onHashChange()){r.center==null&&r.zoom==null||(this.transform._unmodified=!1),this.jumpTo({center:m.center,zoom:m.zoom,bearing:m.bearing,pitch:m.pitch});const l=m.bounds;l&&(this.resize(),this.fitBounds(l,u.l({},m.fitBoundsOptions,{duration:0})))}this.resize(),m.attributionControl&&this.addControl(new Mm({customAttribution:m.customAttribution})),this._logoControl=new Xc,this.addControl(this._logoControl,m.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet),this._postStyleLoadEvent()}),this.on("data",l=>{this._update(l.dataType==="style"),this.fire(new u.z(`${l.dataType}data`,l))}),this.on("dataloading",l=>{this.fire(new u.z(`${l.dataType}dataloading`,l))}),this._interactions=new zp(this)}_getMapId(){return this._mapId}addControl(m,r){if(r===void 0&&(r=m.getDefaultPosition?m.getDefaultPosition():"top-right"),!m||!m.onAdd)return this.fire(new u.y(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const l=m.onAdd(this);this._controls.push(m);const p=this._controlPositions[r];return r.indexOf("bottom")!==-1?p.insertBefore(l,p.firstChild):p.appendChild(l),this}removeControl(m){if(!m||!m.onRemove)return this.fire(new u.y(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const r=this._controls.indexOf(m);return r>-1&&this._controls.splice(r,1),m.onRemove(this),this}hasControl(m){return this._controls.indexOf(m)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(m){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const r=!this._moving;return r&&this.fire(new u.z("movestart",m)).fire(new u.z("move",m)),this.fire(new u.z("resize",m)),r&&this.fire(new u.z("moveend",m)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(m){return this.transform.setMaxBounds(u.az.convert(m)),this._update()}setMinZoom(m){if((m=m!=null?m:-2)>=-2&&m<=this.transform.maxZoom)return this.transform.minZoom=m,this._update(),this.getZoom()<m?this.setZoom(m):this.fire(new u.z("zoomstart")).fire(new u.z("zoom")).fire(new u.z("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(m){if((m=m!=null?m:22)>=this.transform.minZoom)return this.transform.maxZoom=m,this._update(),this.getZoom()>m?this.setZoom(m):this.fire(new u.z("zoomstart")).fire(new u.z("zoom")).fire(new u.z("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(m){if((m=m!=null?m:0)<0)throw new Error("minPitch must be greater than or equal to 0");if(m>=0&&m<=this.transform.maxPitch)return this.transform.minPitch=m,this._update(),this.getPitch()<m?this.setPitch(m):this.fire(new u.z("pitchstart")).fire(new u.z("pitch")).fire(new u.z("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(m){if((m=m!=null?m:85)>85)throw new Error("maxPitch must be less than or equal to 85");if(m>=this.transform.minPitch)return this.transform.maxPitch=m,this._update(),this.getPitch()>m?this.setPitch(m):this.fire(new u.z("pitchstart")).fire(new u.z("pitch")).fire(new u.z("pitchend")),this;throw new Error("maxPitch must be greater than or equal to minPitch")}getMaxPitch(){return this.transform.maxPitch}getScaleFactor(){return this._scaleFactor}setScaleFactor(m){return this._scaleFactor=m,this.painter.scaleFactor=m,this._tp.refreshUI(),this._scaleFactorChanged=!0,this.style._updateFilteredLayers(r=>r.type==="symbol"),this._update(!0),this}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(m){return this.transform.renderWorldCopies=m,this.transform.renderWorldCopies||this._forceMarkerAndPopupUpdate(!0),this._update()}getLanguage(){return this._language}_parseLanguage(m){return m==="auto"?navigator.language:Array.isArray(m)?m.length===0?void 0:m.map(r=>r==="auto"?navigator.language:r):m}setLanguage(m){const r=this._parseLanguage(m);if(!this.style||r===this._language)return this;this._language=r,this.style.reloadSources();for(const l of this._controls)l._setLanguage&&l._setLanguage(this._language);return this}getWorldview(){return this._worldview}setWorldview(m){return this.style&&m!==this._worldview?(this._worldview=m,this.style.reloadSources(),this):this}getProjection(){return this.transform.mercatorFromTransition?{name:"globe",center:[0,0]}:this.transform.getProjection()}_showingGlobe(){return this.transform.projection.name==="globe"}setProjection(m){return this._lazyInitEmptyStyle(),m?typeof m=="string"&&(m={name:m}):m=null,this._useExplicitProjection=!!m,this._prioritizeAndUpdateProjection(m,this.style.projection)}_updateProjectionTransition(){if(this.getProjection().name!=="globe")return;const m=this.transform,r=m.projection.name;let l;r==="globe"&&m.zoom>=u.bY?(m.setMercatorFromTransition(),l=!0):r==="mercator"&&m.zoom<u.bY&&(m.setProjection({name:"globe"}),l=!0),l&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate())}_prioritizeAndUpdateProjection(m,r){return this._updateProjection(m||r||{name:"mercator"})}_updateProjection(m){let r;return r=m.name==="globe"&&this.transform.zoom>=u.bY?this.transform.setMercatorFromTransition():this.transform.setProjection(m),this.style.applyProjectionUpdate(),r&&(this.painter.clearBackgroundTiles(),this.style.clearSources(),this._update(!0),this._forceMarkerAndPopupUpdate(!0)),this}project(m){return this.transform.locationPoint3D(u.bO.convert(m))}unproject(m){return this.transform.pointLocation3D(u.P.convert(m))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_isDragging(){return this.handlers&&this.handlers._isDragging()||!1}_createDelegatedListener(m,r,l){const p=b=>{let C=[];if(Array.isArray(r)){const E=r.filter(R=>this.getLayer(R));C=E.length?this.queryRenderedFeatures(b,{layers:E}):[]}else C=this.queryRenderedFeatures(b,{target:r});return C};if(m==="mouseenter"||m==="mouseover"){let b=!1;return{listener:l,targets:r,delegates:{mousemove:E=>{const R=p(E.point);R.length?b||(b=!0,l.call(this,new zl(m,this,E.originalEvent,{features:R}))):b=!1},mouseout:()=>{b=!1}}}}if(m==="mouseleave"||m==="mouseout"){let b=!1;return{listener:l,targets:r,delegates:{mousemove:R=>{p(R.point).length?b=!0:b&&(b=!1,l.call(this,new zl(m,this,R.originalEvent)))},mouseout:R=>{b&&(b=!1,l.call(this,new zl(m,this,R.originalEvent)))}}}}{const b=C=>{const E=p(C.point);E.length&&(C.features=E,l.call(this,C),delete C.features)};return{listener:l,targets:r,delegates:{[m]:b}}}}on(m,r,l){if(typeof r=="function"||l===void 0)return super.on(m,r);if(typeof r=="string"&&(r=[r]),!this._areTargetsValid(r))return this;const p=this._createDelegatedListener(m,r,l);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[m]=this._delegatedListeners[m]||[],this._delegatedListeners[m].push(p);for(const b in p.delegates)this.on(b,p.delegates[b]);return this}once(m,r,l){if(typeof r=="function"||l===void 0)return super.once(m,r);if(typeof r=="string"&&(r=[r]),!this._areTargetsValid(r))return this;const p=this._createDelegatedListener(m,r,l);for(const b in p.delegates)this.once(b,p.delegates[b]);return this}off(m,r,l){if(typeof r=="function"||l===void 0)return super.off(m,r);if(typeof r=="string"&&(r=[r]),!this._areTargetsValid(r))return this;const p=this._delegatedListeners?this._delegatedListeners[m]:void 0;return p&&(b=>{for(let C=0;C<b.length;C++){const E=b[C];if(E.listener===l&&gs(E.targets,r)){for(const R in E.delegates)this.off(R,E.delegates[R]);return b.splice(C,1),this}}})(p),this}queryRenderedFeatures(m,r){if(!this.style)return[];if(m===void 0||m instanceof u.P||Array.isArray(m)||r!==void 0||(r=m,m=void 0),m=m||[[0,0],[this.transform.width,this.transform.height]],!r){const C=this.style.queryRenderedFeatures(m,void 0,this.transform),E=this.style.queryRenderedFeatureset(m,void 0,this.transform);return C.concat(E)}let l=!0;if(r.target&&(l=this._isTargetValid(r.target),l&&!r.layers))return this.style.queryRenderedFeatureset(m,r,this.transform);let p=!0;if(r.layers&&Array.isArray(r.layers)){for(const C of r.layers)if(!this._isValidId(C)){p=!1;break}if(p&&!r.target)return this.style.queryRenderedFeatures(m,r,this.transform)}let b=[];return p&&(b=b.concat(this.style.queryRenderedFeatures(m,r,this.transform))),l&&(b=b.concat(this.style.queryRenderedFeatureset(m,r,this.transform))),b}querySourceFeatures(m,r){return!m||typeof m=="string"&&!this._isValidId(m)?[]:this.style.querySourceFeatures(m,r)}isPointOnSurface(m){const{name:r}=this.transform.projection;return r!=="globe"&&r!=="mercator"&&u.w(`${r} projection does not support isPointOnSurface, this API may behave unexpectedly.`),this.transform.isPointOnSurface(u.P.convert(m))}addInteraction(m,r){return this._interactions.add(m,r),this}removeInteraction(m){return this._interactions.remove(m),this}setStyle(m,r){return r=u.l({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},r),this.style&&m&&r.diff!==!1&&r.localFontFamily===this._localFontFamily&&r.localIdeographFontFamily===this._localIdeographFontFamily&&!r.config?(this.style._diffStyle(m,(l,p)=>{l?(u.w(`Unable to perform style diff: ${String(l.message||l.error||l)}. Rebuilding the style from scratch.`),this._updateStyle(m,r)):p&&this._update(!0)},()=>{this._postStyleLoadEvent()}),this):(this._localIdeographFontFamily=r.localIdeographFontFamily,this._localFontFamily=r.localFontFamily,this._updateStyle(m,r))}_getUIString(m){const r=this._locale[m];if(r==null)throw new Error(`Missing UI string '${m}'`);return r}_updateStyle(m,r){if(this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),m){const l=u.l({},r);r&&r.config&&(l.initialConfig=r.config,delete l.config),this.style=new ss(this,l).load(m),this.style.setEventedParent(this,{style:this.style})}return this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new ss(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(u.w("There is no style added to the map."),!1)}_isValidId(m){return m==null?(this.fire(new u.y(new Error("IDs can't be empty."))),!1):!u.cr(m)||(this.fire(new u.y(new Error(`IDs can't contain special symbols: "${m}".`))),!1)}_isTargetValid(m){return"featuresetId"in m?this._isValidId("importId"in m?m.importId:m.featuresetId):"layerId"in m&&this._isValidId(m.layerId)}_areTargetsValid(m){if(Array.isArray(m)){for(const r of m)if(!this._isValidId(r))return!1;return!0}return this._isTargetValid(m)}addSource(m,r){return this._isValidId(m)?(this._lazyInitEmptyStyle(),this.style.addSource(m,r),this._update(!0)):this}isSourceLoaded(m){return!!this._isValidId(m)&&!!this.style&&this.style._isSourceCacheLoaded(m)}areTilesLoaded(){return this.style.areTilesLoaded()}addSourceType(m,r,l){this._lazyInitEmptyStyle(),this.style.addSourceType(m,r,l)}removeSource(m){return this._isValidId(m)?(this.style.removeSource(m),this._updateTerrain(),this._update(!0)):this}getSource(m){return this._isValidId(m)?this.style.getOwnSource(m):null}addImage(m,r,{pixelRatio:l=1,sdf:p=!1,stretchX:b,stretchY:C,content:E}={}){if(this._lazyInitEmptyStyle(),r instanceof HTMLImageElement||ImageBitmap&&r instanceof ImageBitmap){const{width:R,height:B,data:V}=u.q.getImageData(r);this.style.addImage(m,{data:new u.r({width:R,height:B},V),pixelRatio:l,stretchX:b,stretchY:C,content:E,sdf:p,version:0,usvg:!1})}else if(r.width===void 0||r.height===void 0)this.fire(new u.y(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{const{width:R,height:B}=r,V=r;this.style.addImage(m,{data:new u.r({width:R,height:B},new Uint8Array(V.data)),pixelRatio:l,stretchX:b,stretchY:C,content:E,sdf:p,usvg:!1,version:0,userImage:V}),V.onAdd&&V.onAdd(this,m)}}updateImage(m,r){this._lazyInitEmptyStyle();const l=this.style.getImage(m);if(!l)return void this.fire(new u.y(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const p=r instanceof HTMLImageElement||ImageBitmap&&r instanceof ImageBitmap?u.q.getImageData(r):r,{width:b,height:C,data:E}=p;if(b===void 0||C===void 0)return void this.fire(new u.y(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(b!==(l.usvg?l.icon.usvg_tree.width:l.data.width)||C!==(l.usvg?l.icon.usvg_tree.height:l.data.height))return void this.fire(new u.y(new Error(`The width and height of the updated image (${b}, ${C})
                must be that same as the previous version of the image
                (${l.data.width}, ${l.data.height})`)));const R=!(r instanceof HTMLImageElement||ImageBitmap&&r instanceof ImageBitmap);let B=!1;l.usvg?(l.data=new u.r({width:b,height:C},new Uint8Array(E)),l.usvg=!1,l.icon=void 0,B=!0):l.data.replace(E,R),this.style.updateImage(m,l,B)}hasImage(m){return m?!!this.style&&!!this.style.getImage(m):(this.fire(new u.y(new Error("Missing required image id"))),!1)}removeImage(m){this.style.removeImage(m)}loadImage(m,r){u.o(this._requestManager.transformRequest(m,u.R.Image),(l,p)=>{r(l,p instanceof HTMLImageElement?u.q.getImageData(p):p)})}listImages(){return this.style.listImages()}addModel(m,r){this._lazyInitEmptyStyle(),this.style.addModel(m,r)}hasModel(m){return m?this.style.hasModel(m):(this.fire(new u.y(new Error("Missing required model id"))),!1)}removeModel(m){this.style.removeModel(m)}listModels(){return this.style.listModels()}addLayer(m,r){return this._isValidId(m.id)?(this._lazyInitEmptyStyle(),this.style.addLayer(m,r),this._update(!0)):this}getSlot(m){const r=this.getLayer(m);return r&&r.slot||null}setSlot(m,r){return this.style.setSlot(m,r),this.style.mergeLayers(),this._update(!0)}addImport(m,r){return this.style.addImport(m,r),this}updateImport(m,r){return typeof r!="string"&&r.id!==m?(this.removeImport(m),this.addImport(r)):(this.style.updateImport(m,r),this._update(!0))}removeImport(m){return this.style.removeImport(m),this}moveImport(m,r){return this.style.moveImport(m,r),this._update(!0)}moveLayer(m,r){return this._isValidId(m)?(this.style.moveLayer(m,r),this._update(!0)):this}removeLayer(m){return this._isValidId(m)?(this.style.removeLayer(m),this._update(!0)):this}getLayer(m){if(!this._isValidId(m))return null;const r=this.style.getOwnLayer(m);return r?r.type==="custom"?r.implementation:r.serialize():void 0}getSlots(){return this.style.getSlots()}setLayerZoomRange(m,r,l){return this._isValidId(m)?(this.style.setLayerZoomRange(m,r,l),this._update(!0)):this}setFilter(m,r,l={}){return this._isValidId(m)?(this.style.setFilter(m,r,l),this._update(!0)):this}getFilter(m){return this._isValidId(m)?this.style.getFilter(m):null}setPaintProperty(m,r,l,p={}){return this._isValidId(m)?(this.style.setPaintProperty(m,r,l,p),this._update(!0)):this}getPaintProperty(m,r){return this._isValidId(m)?this.style.getPaintProperty(m,r):null}setLayoutProperty(m,r,l,p={}){return this._isValidId(m)?(this.style.setLayoutProperty(m,r,l,p),this._update(!0)):this}getLayoutProperty(m,r){return this._isValidId(m)?this.style.getLayoutProperty(m,r):null}getSchema(m){return this.style.getSchema(m)}setSchema(m,r){return this.style.setSchema(m,r),this._update(!0)}getConfig(m){return this.style.getConfig(m)}setConfig(m,r){return this.style.setConfig(m,r),this._update(!0)}getConfigProperty(m,r){return this.style.getConfigProperty(m,r)}setConfigProperty(m,r,l){return this.style.setConfigProperty(m,r,l),this._update(!0)}getFeaturesetDescriptors(m){return this.style.getFeaturesetDescriptors(m)}setLights(m){if(this._lazyInitEmptyStyle(),m&&m.length===1&&m[0].type==="flat"){const r=m[0];r.properties?this.style.setFlatLight(r.properties,r.id,{}):this.style.setFlatLight({},"flat")}else this.style.setLights(m),this.painter.terrain&&(this.painter.terrain.invalidateRenderCache=!0);return this._update(!0)}getLights(){const m=this.style.getLights()||[];return m.length===0&&m.push({id:this.style.light.id,type:"flat",properties:this.style.getFlatLight()}),m}setLight(m,r={}){return console.log("The `map.setLight` function is deprecated, prefer using `map.setLights` with `flat` light type instead."),this.setLights([{id:"flat",type:"flat",properties:m}])}getLight(){return console.log("The `map.getLight` function is deprecated, prefer using `map.getLights` instead."),this.style.getFlatLight()}setTerrain(m){return this._lazyInitEmptyStyle(),!m&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(m),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(m){return this._lazyInitEmptyStyle(),this.style.setFog(m),this._update(!0)}getFog(){return this.style?this.style.getFog():null}setSnow(m){return this._lazyInitEmptyStyle(),this.style.setSnow(m),this._update(!0)}getSnow(){return this.style?this.style.getSnow():null}setRain(m){return this._lazyInitEmptyStyle(),this.style.setRain(m),this._update(!0)}getRain(){return this.style?this.style.getRain():null}setColorTheme(m){return this._lazyInitEmptyStyle(),this.style.setColorTheme(m),this._update(!0)}setImportColorTheme(m,r){return this._lazyInitEmptyStyle(),this.style.setImportColorTheme(m,r),this._update(!0)}setCamera(m){return this.style.setCamera(m),this._triggerCameraUpdate(m)}_triggerCameraUpdate(m){return this._update(this.transform.setOrthographicProjectionAtLowPitch(m["camera-projection"]==="orthographic"))}getCamera(){return this.style.camera}_queryFogOpacity(m){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(u.bO.convert(m),this.transform):0}setFeatureState(m,r){return m.source&&!this._isValidId(m.source)?this:(this.style.setFeatureState(m,r),this._update())}removeFeatureState(m,r){return m.source&&!this._isValidId(m.source)?this:(this.style.removeFeatureState(m,r),this._update())}getFeatureState(m){return m.source&&!this._isValidId(m.source)?null:this.style.getFeatureState(m)}_updateContainerDimensions(){if(!this._container)return;const m=this._container.getBoundingClientRect().width||400,r=this._container.getBoundingClientRect().height||300;let l,p,b,C=this._container;for(;C&&(!p||!b);){const E=window.getComputedStyle(C).transform;E&&E!=="none"&&(l=E.match(/matrix.*\((.+)\)/)[1].split(", "),l[0]&&l[0]!=="0"&&l[0]!=="1"&&(p=l[0]),l[3]&&l[3]!=="0"&&l[3]!=="1"&&(b=l[3])),C=C.parentElement}this._containerWidth=p?Math.abs(m/p):m,this._containerHeight=b?Math.abs(r/b):r}_detectMissingCSS(){window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&u.w("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const m=this._container;m.classList.add("mapboxgl-map"),(this._missingCSSCanary=ke("div","mapboxgl-canary",m)).style.visibility="hidden",this._detectMissingCSS();const r=this._canvasContainer=ke("div","mapboxgl-canvas-container",m);this._canvas=ke("canvas","mapboxgl-canvas",r),this._interactive&&(r.classList.add("mapboxgl-interactive"),this._canvas.setAttribute("tabindex","0")),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const l=this._controlContainer=ke("div","mapboxgl-control-container",m),p=this._controlPositions={};["top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"].forEach(b=>{p[b]=ke("div",`mapboxgl-ctrl-${b}`,l)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(m,r){const l=u.q.devicePixelRatio||1;this._canvas.width=l*Math.ceil(m),this._canvas.height=l*Math.ceil(r),this._canvas.style.width=`${m}px`,this._canvas.style.height=`${r}px`}_addMarker(m){this._markers.push(m)}_removeMarker(m){const r=this._markers.indexOf(m);r!==-1&&this._markers.splice(r,1)}_addPopup(m){this._popups.push(m)}_removePopup(m){const r=this._popups.indexOf(m);r!==-1&&this._popups.splice(r,1)}_setupPainter(){const m=u.l({},Ye.supported.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),r=this._canvas.getContext("webgl2",m);r?(Kr(r,!0),this.painter=new _f(r,this._contextCreateOptions,this.transform,this._scaleFactor,this._tp),this.on("data",l=>{l.dataType==="source"&&this.painter.setTileLoadedFlag(!0)}),u.m.testSupport(r)):this.fire(new u.y(new Error("Failed to initialize WebGL")))}_contextLost(m){m.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new u.z("webglcontextlost",{originalEvent:m}))}_contextRestored(m){this._setupPainter(),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight)),this._updateTerrain(),this.style.reloadModels(),this.style.clearSources(),this._update(),this.fire(new u.z("webglcontextrestored",{originalEvent:m}))}_onMapScroll(m){if(m.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}idle(){return!this.isMoving()&&this.loaded()}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}frameReady(){return this.loaded()&&!this._placementDirty}_update(m){return this.style?(this._styleDirty=this._styleDirty||m,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(m){return this._update(),this._renderTaskQueue.add(m)}_cancelRenderFrame(m){this._renderTaskQueue.remove(m)}_requestDomTask(m){!this.loaded()||this.loaded()&&!this.isMoving()?m():this._domRenderTaskQueue.add(m)}_render(m){let r;this.fire(new u.z("renderstart")),++this._frameId;const l=this.painter.context.extTimerQuery,p=u.q.now(),b=this.painter.context.gl;if(this.listens("gpu-timing-frame")&&(r=b.createQuery(),b.beginQuery(l.TIME_ELAPSED_EXT,r)),this.painter.context.setDirty(),this.painter.setBaseState(),(this.isMoving()||this.isRotating()||this.isZooming())&&(this._interactionRange[0]=Math.min(this._interactionRange[0],performance.now()),this._interactionRange[1]=Math.max(this._interactionRange[1],performance.now())),this._renderTaskQueue.run(m),this._domRenderTaskQueue.run(m),this._removed)return;this._updateProjectionTransition();const C=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const V=this.transform.zoom,U=this.transform.pitch,Y=u.q.now(),ee=new u.a8(V,{now:Y,fadeDuration:C,pitch:U,transition:this.style.transition});this.style.update(ee)}this.style&&this.style.hasFogTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let E=!1;this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),E=this._updateAverageElevation(p),this.style.updateSources(this.transform),this._forceMarkerAndPopupUpdate()):E=this._updateAverageElevation(p);const R=this.style&&this.style._updatePlacement(this.painter,this.painter.transform,this.showCollisionBoxes,C,this._crossSourceCollisions,this.painter.replacementSource,this._scaleFactorChanged);if(this._scaleFactorChanged&&(this._scaleFactorChanged=!1),R&&(this._placementDirty=R.needsRerender),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showParseStatus:this.showParseStatus,wireframe:{terrain:this.showTerrainWireframe,layers2D:this.showLayers2DWireframe,layers3D:this.showLayers3DWireframe},showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,showTileAABBs:this.showTileAABBs,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:C,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),gpuTimingDeferredRender:!!this.listens("gpu-timing-deferred-render"),speedIndexTiming:this.speedIndexTiming}),this.fire(new u.z("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,je.mark(He.load),this.fire(new u.z("load"))),this.style&&this.style.hasTransitions()&&(this._styleDirty=!0),this.style&&(this.style.snow||this.style.rain)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),r){const V=u.q.now()-p;b.endQuery(l.TIME_ELAPSED_EXT),setTimeout(()=>{const U=b.getQueryParameter(r,b.QUERY_RESULT)/1e6;b.deleteQuery(r),this.fire(new u.z("gpu-timing-frame",{cpuTime:V,gpuTime:U}))},50)}if(this.listens("gpu-timing-layer")){const V=this.painter.collectGpuTimers();setTimeout(()=>{const U=this.painter.queryGpuTimers(V);this.fire(new u.z("gpu-timing-layer",{layerTimes:U}))},50)}if(this.listens("gpu-timing-deferred-render")){const V=this.painter.collectDeferredRenderGpuQueries();setTimeout(()=>{const U=this.painter.queryGpuTimeDeferredRender(V);this.fire(new u.z("gpu-timing-deferred-render",{gpuTime:U}))},50)}const B=this._sourcesDirty||this._styleDirty||this._placementDirty||E;if(B||this._repaint)this.triggerRepaint();else{const V=this.idle();if(V&&(E=this._updateAverageElevation(p,!0)),E)this.triggerRepaint();else if(this._triggerFrame(!1),V&&(this.fire(new u.z("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const U=this._calculateSpeedIndex();this.fire(new u.z("speedindexcompleted",{speedIndex:U})),this.speedIndexTiming=!1}}!this._loaded||this._fullyLoaded||B||(this._fullyLoaded=!0,je.mark(He.fullLoad),this._performanceMetricsCollection&&bi(this._requestManager._customAccessToken,{width:this.painter.width,height:this.painter.height,interactionRange:this._interactionRange,visibilityHidden:this._visibilityHidden,terrainEnabled:!!this.painter.style.getTerrain(),fogEnabled:!!this.painter.style.getFog(),projection:this.getProjection().name,zoom:this.transform.zoom,renderer:this.painter.context.renderer,vendor:this.painter.context.vendor}),this._authenticate())}_forceMarkerAndPopupUpdate(m){for(const r of this._markers)m&&!this.getRenderWorldCopies()&&(r._lngLat=r._lngLat.wrap()),r._update();for(const r of this._popups)!m||this.getRenderWorldCopies()||r._trackPointer||(r._lngLat=r._lngLat.wrap()),r._update()}_updateAverageElevation(m,r=!1){const l=b=>(this.transform.averageElevation=b,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return this.transform.averageElevation!==0&&l(0);const p=this.transform.elevation&&this.transform.elevation.exaggeration()!==this._averageElevationExaggeration;if(p||(r||m-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(m)){const b=this.transform.averageElevation;let C=this.transform.sampleAverageElevation();this.transform.elevation!=null&&(this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(C)?C=0:this._averageElevationLastSampledAt=m;const E=Math.abs(b-C);if(E>1){if(this._isInitialLoad||p)return this._averageElevation.jumpTo(C),l(C);this._averageElevation.easeTo(C,m,300)}else if(E>1e-4)return this._averageElevation.jumpTo(C),l(C)}return!!this._averageElevation.isEasing(m)&&l(this._averageElevation.getValue(m))}_authenticate(){$e(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,m=>{if(m&&(m.message===Cr||m.status===401)){const r=this.painter.context.gl;Kr(r,!1),this._logoControl instanceof Xc&&this._logoControl._updateLogo(),r&&r.clear(r.DEPTH_BUFFER_BIT|r.COLOR_BUFFER_BIT|r.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new u.y(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}}),an(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,()=>{})}_postStyleLoadEvent(){this.style.globalId&&me(this._requestManager._customAccessToken,{map:this,skuToken:this._requestManager._skuToken,style:this.style.globalId,importedStyles:this.style.getImportGlobalIds()})}_updateTerrain(){const m=this._isDragging();this.painter.updateTerrain(this.style,m)}_calculateSpeedIndex(){const m=this.painter.canvasCopy(),r=this.painter.getCanvasCopiesAndTimestamps();r.timeStamps.push(performance.now());const l=this.painter.context.gl,p=l.createFramebuffer();function b(C){l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,C,0);const E=new Uint8Array(l.drawingBufferWidth*l.drawingBufferHeight*4);return l.readPixels(0,0,l.drawingBufferWidth,l.drawingBufferHeight,l.RGBA,l.UNSIGNED_BYTE,E),E}return l.bindFramebuffer(l.FRAMEBUFFER,p),this._canvasPixelComparison(b(m),r.canvasCopies.map(b),r.timeStamps)}_canvasPixelComparison(m,r,l){let p=l[1]-l[0];const b=m.length/4;for(let C=0;C<r.length;C++){const E=r[C];let R=0;for(let B=0;B<E.length;B+=4)E[B]===m[B]&&E[B+1]===m[B+1]&&E[B+2]===m[B+2]&&E[B+3]===m[B+3]&&(R+=1);p+=(l[C+2]-l[C+1])*(1-R/b)}return p}remove(){this._hash&&this._hash.remove();for(const r of this._controls)r.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.indoor.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),window.removeEventListener("resize",this._onWindowResize,!1),window.removeEventListener("orientationchange",this._onWindowResize,!1),window.removeEventListener(this._fullscreenchangeEvent,this._onWindowResize,!1),window.removeEventListener("online",this._onWindowOnline,!1),window.removeEventListener("visibilitychange",this._onVisibilityChange,!1);const m=this.painter.context.gl.getExtension("WEBGL_lose_context");m&&m.loseContext(),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvasContainer.remove(),this._controlContainer.remove(),this._missingCSSCanary.remove(),this._canvas=void 0,this._canvasContainer=void 0,this._controlContainer=void 0,this._missingCSSCanary=void 0,this._container.classList.remove("mapboxgl-map"),this._container.removeEventListener("scroll",this._onMapScroll,!1),Mn.delete(this.painter.context.gl),ui.remove(),pt.remove(),this._removed=!0,this.fire(new u.z("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(m){this._renderNextFrame=this._renderNextFrame||m,this.style&&!this._frame&&(this._frame=u.q.frame(r=>{const l=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,l&&this._render(r)}))}_preloadTiles(m){const r=this.style?this.style.getSourceCaches():[];return u.bl(r,(l,p)=>l._preloadTiles(m,p),()=>{this.triggerRepaint()}),this}_onWindowOnline(){this._update()}_onWindowResize(m){this._trackResize&&this.resize({originalEvent:m})._update()}_onVisibilityChange(){document.visibilityState==="hidden"&&this._visibilityHidden++}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(m){this._showTileBoundaries!==m&&(this._showTileBoundaries=m,this._tp.refreshUI(),this._update())}get showParseStatus(){return!!this._showParseStatus}set showParseStatus(m){this._showParseStatus!==m&&(this._showParseStatus=m,this._tp.refreshUI(),this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(m){this._showTerrainWireframe!==m&&(this._showTerrainWireframe=m,this._tp.refreshUI(),this._update())}get showLayers2DWireframe(){return!!this._showLayers2DWireframe}set showLayers2DWireframe(m){this._showLayers2DWireframe!==m&&(this._showLayers2DWireframe=m,this._tp.refreshUI(),this._update())}get showLayers3DWireframe(){return!!this._showLayers3DWireframe}set showLayers3DWireframe(m){this._showLayers3DWireframe!==m&&(this._showLayers3DWireframe=m,this._tp.refreshUI(),this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(m){this._speedIndexTiming!==m&&(this._speedIndexTiming=m,this._update())}get showPadding(){return!!this._showPadding}set showPadding(m){this._showPadding!==m&&(this._showPadding=m,this._tp.refreshUI(),this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(m){this._showCollisionBoxes!==m&&(this._showCollisionBoxes=m,this._tp.refreshUI(),m?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(m){this._showOverdrawInspector!==m&&(this._showOverdrawInspector=m,this._tp.refreshUI(),this._update())}get repaint(){return!!this._repaint}set repaint(m){this._repaint!==m&&(this._repaint=m,this._tp.refreshUI(),this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(m){this._vertices=m,this._update()}get showTileAABBs(){return!!this._showTileAABBs}set showTileAABBs(m){this._showTileAABBs!==m&&(this._showTileAABBs=m,this._tp.refreshUI(),m&&this._update())}_setCacheLimits(m,r){u.dG(m,r)}get version(){return Ie}},NavigationControl:class{constructor(m={}){this.options=u.l({},Pv,m),this._container=ke("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",r=>r.preventDefault()),this.options.showZoom&&(u.aP(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",r=>{this._map&&this._map.zoomIn({},{originalEvent:r})}),ke("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",r=>{this._map&&this._map.zoomOut({},{originalEvent:r})}),ke("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(u.aP(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",r=>{const l=this._map;l&&(this.options.visualizePitch?l.resetNorthPitch({},{originalEvent:r}):l.resetNorth({},{originalEvent:r}))}),this._compassIcon=ke("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const m=this._map;if(!m)return;const r=m.getZoom(),l=r===m.getMaxZoom(),p=r===m.getMinZoom();this._zoomInButton.disabled=l,this._zoomOutButton.disabled=p,this._zoomInButton.setAttribute("aria-disabled",l.toString()),this._zoomOutButton.setAttribute("aria-disabled",p.toString())}_rotateCompassArrow(){const m=this._map;if(!m)return;const r=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(m.transform.pitch*(Math.PI/180)),.5)}) rotateX(${m.transform.pitch}deg) rotateZ(${m.transform.angle*(180/Math.PI)}deg)`:`rotate(${m.transform.angle*(180/Math.PI)}deg)`;m._requestDomTask(()=>{this._compassIcon&&(this._compassIcon.style.transform=r)})}onAdd(m){return this._map=m,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),m.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&m.on("pitch",this._rotateCompassArrow),m.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Ov(m,this._compass,this.options.visualizePitch)),this._container}onRemove(){const m=this._map;m&&(this._container.remove(),this.options.showZoom&&m.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&m.off("pitch",this._rotateCompassArrow),m.off("rotate",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0)}_createButton(m,r){const l=ke("button",m,this._container);return l.type="button",l.addEventListener("click",r),l}_setButtonTitle(m,r){if(!this._map)return;const l=this._map._getUIString(`NavigationControl.${r}`);m.setAttribute("aria-label",l),m.firstElementChild&&m.firstElementChild.setAttribute("title",l)}},GeolocateControl:class extends u.E{constructor(m={}){super();const r=navigator.geolocation;this.options=u.l({geolocation:r},xc,m),u.aP(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation","_onDeviceOrientation"],this),this._updateMarkerRotationThrottled=Pp(this._updateMarkerRotation,20),this._numberOfWatches=0}onAdd(m){return this._map=m,this._container=ke("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkGeolocationSupport(this._setupUI),this._container}onRemove(){this._geolocationWatchID!==void 0&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1}_checkGeolocationSupport(m){const r=(l=!!this.options.geolocation)=>{this._supportsGeolocation=l,m(l)};this._supportsGeolocation!==void 0?m(this._supportsGeolocation):navigator.permissions!==void 0?navigator.permissions.query({name:"geolocation"}).then(l=>r(l.state!=="denied")).catch(()=>r()):r()}_isOutOfMapMaxBounds(m){const r=this._map.getMaxBounds(),l=m.coords;return!!r&&(l.longitude<r.getWest()||l.longitude>r.getEast()||l.latitude<r.getSouth()||l.latitude>r.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(m){if(this._map){if(this._isOutOfMapMaxBounds(m))return this._setErrorState(),this.fire(new u.z("outofmaxbounds",m)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=m,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(m),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(m),this.options.showUserLocation&&this._userLocationDotMarker.removeClassName("mapboxgl-user-location-dot-stale"),this.fire(new u.z("geolocate",m)),this._finish()}}_updateCamera(m){const r=new u.bO(m.coords.longitude,m.coords.latitude),l=m.coords.accuracy,p=this._map.getBearing(),b=u.l({bearing:p},this.options.fitBoundsOptions);this._map.fitBounds(r.toBounds(l),b,{geolocateSource:!0})}_updateMarker(m){if(m){const r=new u.bO(m.coords.longitude,m.coords.latitude);this._accuracyCircleMarker.setLngLat(r).addTo(this._map),this._userLocationDotMarker.setLngLat(r).addTo(this._map),this._accuracy=m.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const m=this._map.transform,r=u.bH(1,m._center.lat)*m.worldSize,l=Math.ceil(2*this._accuracy*r);this._circleElement.style.width=`${l}px`,this._circleElement.style.height=`${l}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&typeof this._heading=="number"?(this._userLocationDotMarker.setRotation(this._heading),this._userLocationDotMarker.addClassName("mapboxgl-user-location-show-heading")):(this._userLocationDotMarker.removeClassName("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(m){if(this._map){if(this.options.trackUserLocation)if(m.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const r=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",r),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",r),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(m.code===3&&this._noTimeout)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._userLocationDotMarker.addClassName("mapboxgl-user-location-dot-stale"),this.fire(new u.z("error",m)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(m){if(this._map!==void 0){if(this._container.addEventListener("contextmenu",r=>r.preventDefault()),this._geolocateButton=ke("button","mapboxgl-ctrl-geolocate",this._container),ke("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",m===!1){u.w("Geolocation support is not available so the GeolocateControl will be disabled.");const r=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",r),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",r)}else{const r=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",r),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",r)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=ke("div","mapboxgl-user-location"),this._dotElement.appendChild(ke("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(ke("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new _u({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=ke("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new _u({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",r=>{r.geolocateSource||this._watchState!=="ACTIVE_LOCK"||r.originalEvent&&r.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new u.z("trackuserlocationend")))})}}_onDeviceOrientation(m){this._userLocationDotMarker&&(m.webkitCompassHeading?this._heading=m.webkitCompassHeading:m.absolute===!0&&(this._heading=-1*m.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return u.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new u.z("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._numberOfWatches--,this._noTimeout=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new u.z("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new u.z("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let m;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._numberOfWatches++,this._numberOfWatches>1?(m={maximumAge:6e5,timeout:0},this._noTimeout=!0):(m=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,m),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=window.setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const m=()=>{"ondeviceorientationabsolute"in window?window.addEventListener("deviceorientationabsolute",this._onDeviceOrientation):window.addEventListener("deviceorientation",this._onDeviceOrientation)};typeof DeviceMotionEvent!="undefined"&&typeof DeviceMotionEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(r=>{r==="granted"&&m()}).catch(console.error):m()}_clearWatch(){this.options.geolocation.clearWatch(this._geolocationWatchID),window.removeEventListener("deviceorientation",this._onDeviceOrientation),window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:Mm,ScaleControl:class{constructor(m={}){this.options=u.l({},Fc,m),this._isNumberFormatSupported=function(){try{return new Intl.NumberFormat("en",{style:"unit",unitDisplay:"short",unit:"meter"}),!0}catch(r){return!1}}(),u.aP(["_update","_setScale","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_update(){const m=this.options.maxWidth||100,r=this._map,l=r._containerHeight/2,p=r._containerWidth/2-m/2,b=r.unproject([p,l]),C=r.unproject([p+m,l]),E=b.distanceTo(C);if(this.options.unit==="imperial"){const R=3.2808*E;R>5280?this._setScale(m,R/5280,"mile"):this._setScale(m,R,"foot")}else this.options.unit==="nautical"?this._setScale(m,E/1852,"nautical-mile"):E>=1e3?this._setScale(m,E/1e3,"kilometer"):this._setScale(m,E,"meter")}_setScale(m,r,l){this._map._requestDomTask(()=>{const p=function(C){const E=Math.pow(10,`${Math.floor(C)}`.length-1);let R=C/E;return R=R>=10?10:R>=5?5:R>=3?3:R>=2?2:R>=1?1:function(B){const V=Math.pow(10,Math.ceil(-Math.log(B)/Math.LN10));return Math.round(B*V)/V}(R),E*R}(r),b=p/r;this._container.innerHTML=this._isNumberFormatSupported&&l!=="nautical-mile"?new Intl.NumberFormat(this._language,{style:"unit",unitDisplay:"short",unit:l}).format(p):`${p}&nbsp;${hc[l]}`,this._container.style.width=m*b+"px"})}onAdd(m){return this._map=m,this._language=m.getLanguage(),this._container=ke("div","mapboxgl-ctrl mapboxgl-ctrl-scale",m.getContainer()),this._container.dir="auto",this._map.on("move",this._update),this._update(),this._container}onRemove(){this._container.remove(),this._map.off("move",this._update),this._map=void 0}_setLanguage(m){this._language=m,this._update()}setUnit(m){this.options.unit=m,this._update()}},FullscreenControl:class{constructor(m={}){this._fullscreen=!1,m&&m.container&&(m.container instanceof HTMLElement?this._container=m.container:u.w("Full screen control 'container' must be a DOM element.")),u.aP(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(m){return this._map=m,this._container||(this._container=this._map.getContainer()),this._controlContainer=ke("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",u.w("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!document.fullscreenEnabled&&!document.webkitFullscreenEnabled)}_setupUI(){const m=this._fullscreenButton=ke("button","mapboxgl-ctrl-fullscreen",this._controlContainer);ke("span","mapboxgl-ctrl-icon",m).setAttribute("aria-hidden","true"),m.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const m=this._getTitle();this._fullscreenButton.setAttribute("aria-label",m),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",m)}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(document.fullscreenElement||document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends u.E{constructor(m){super(),this.options=u.l(Object.create(Yg),m),u.aP(["_update","_onClose","remove","_onMouseEvent"],this),this._classList=new Set(m&&m.className?m.className.trim().split(/\s+/):[])}addTo(m){return this._map&&this.remove(),this._map=m,this.options.closeOnClick&&m.on("preclick",this._onClose),this.options.closeOnMove&&m.on("move",this._onClose),m.on("remove",this.remove),this._update(),m._addPopup(this),this._focusFirstElement(),this._trackPointer?(m.on("mousemove",this._onMouseEvent),m.on("mouseup",this._onMouseEvent),m._canvasContainer.classList.add("mapboxgl-track-pointer")):m.on("move",this._update),this.fire(new u.z("open")),this}isOpen(){return!!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);const m=this._map;return m&&(m.off("move",this._update),m.off("move",this._onClose),m.off("preclick",this._onClose),m.off("click",this._onClose),m.off("remove",this.remove),m.off("mousemove",this._onMouseEvent),m.off("mouseup",this._onMouseEvent),m.off("drag",this._onMouseEvent),m._canvasContainer&&m._canvasContainer.classList.remove("mapboxgl-track-pointer"),m._removePopup(this),this._map=void 0),this.fire(new u.z("close")),this}getLngLat(){return this._lngLat}setLngLat(m){this._lngLat=u.bO.convert(m),this._pos=null,this._trackPointer=!1,this._update();const r=this._map;return r&&(r.on("move",this._update),r.off("mousemove",this._onMouseEvent),r._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();const m=this._map;return m&&(m.off("move",this._update),m.on("mousemove",this._onMouseEvent),m.on("drag",this._onMouseEvent),m._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(m){return this.setDOMContent(document.createTextNode(m))}setHTML(m){const r=document.createDocumentFragment(),l=document.createElement("body");let p;for(l.innerHTML=m;p=l.firstChild,p;)r.appendChild(p);return this.setDOMContent(r)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(m){return this.options.maxWidth=m,this._update(),this}setDOMContent(m){let r=this._content;if(r)for(;r.hasChildNodes();)r.firstChild&&r.removeChild(r.firstChild);else r=this._content=ke("div","mapboxgl-popup-content",this._container||void 0);if(r.appendChild(m),this.options.closeButton){const l=this._closeButton=ke("button","mapboxgl-popup-close-button",r);l.type="button",l.setAttribute("aria-label","Close popup"),l.innerHTML='<span aria-hidden="true">&#215;</span>',l.addEventListener("click",this._onClose)}return this._update(),this._focusFirstElement(),this}addClassName(m){return this._classList.add(m),this._updateClassList(),this}removeClassName(m){return this._classList.delete(m),this._updateClassList(),this}setOffset(m){return this.options.offset=m,this._update(),this}toggleClassName(m){let r;return this._classList.delete(m)?r=!1:(this._classList.add(m),r=!0),this._updateClassList(),r}_onMouseEvent(m){this._update(m.point)}_getAnchor(m){if(this.options.anchor)return this.options.anchor;const r=this._map,l=this._container,p=this._pos;if(!r||!l||!p)return"bottom";const b=l.offsetWidth,C=l.offsetHeight,E=p.x<b/2,R=p.x>r.transform.width-b/2;if(p.y+m<C)return E?"top-left":R?"top-right":"top";if(p.y>r.transform.height-C){if(E)return"bottom-left";if(R)return"bottom-right"}return E?"left":R?"right":"bottom"}_updateClassList(){const m=this._container;if(!m)return;const r=[...this._classList];r.push("mapboxgl-popup"),this._anchor&&r.push(`mapboxgl-popup-anchor-${this._anchor}`),this._trackPointer&&r.push("mapboxgl-popup-track-pointer"),m.className=r.join(" ")}_update(m){const r=this._map,l=this._content;if(!r||!this._lngLat&&!this._trackPointer||!l)return;let p=this._container;if(p||(p=this._container=ke("div","mapboxgl-popup",r.getContainer()),this._tip=ke("div","mapboxgl-popup-tip",p),p.appendChild(l)),this.options.maxWidth&&p.style.maxWidth!==this.options.maxWidth&&(p.style.maxWidth=this.options.maxWidth),r.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Pm(this._lngLat,this._pos,r.transform)),!this._trackPointer||m){const b=this._pos=this._trackPointer&&m instanceof u.P?m:r.project(this._lngLat),C=Jg(this.options.offset),E=this._anchor=this._getAnchor(C.y),R=Jg(this.options.offset,E),B=b.add(R).round();r._requestDomTask(()=>{this._container&&E&&(this._container.style.transform=`${Yu[E]} translate(${B.x}px,${B.y}px)`)})}if(!this._marker&&r._showingGlobe()){const b=u.dH(r.transform,this._lngLat)?0:1;this._setOpacity(b)}this._updateClassList()}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const m=this._container.querySelector(vl);m&&m.focus()}_onClose(){this.remove()}_setOpacity(m){this._container&&(this._container.style.opacity=`${m}`),this._content&&(this._content.style.pointerEvents=m?"auto":"none")}},Marker:_u,Style:ss,LngLat:u.bO,LngLatBounds:u.az,Point:u.P,MercatorCoordinate:u.aa,FreeCameraOptions:ju,Evented:u.E,config:u.e,prewarm:u.dM,clearPrewarmedResources:u.dN,get accessToken(){return u.e.ACCESS_TOKEN},set accessToken(m){u.e.ACCESS_TOKEN=m},get baseApiUrl(){return u.e.API_URL},set baseApiUrl(m){u.e.API_URL=m},get workerCount(){return u.dO.workerCount},set workerCount(m){u.dO.workerCount=m},get maxParallelImageRequests(){return u.e.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(m){u.e.MAX_PARALLEL_IMAGE_REQUESTS=m},clearStorage(m){u.dP(m)},get workerUrl(){return u.dQ.workerUrl},set workerUrl(m){u.dQ.workerUrl=m},get workerClass(){return u.dQ.workerClass},set workerClass(m){u.dQ.workerClass=m},get workerParams(){return u.dQ.workerParams},set workerParams(m){u.dQ.workerParams=m},get dracoUrl(){return u.dR()},set dracoUrl(m){u.dS(m)},get meshoptUrl(){return u.dT()},set meshoptUrl(m){u.dU(m)},setNow:u.q.setNow,restoreNow:u.q.restoreNow}});var J=s;return J})},14224:function(Qr){var Jt=Qr.exports={},j,s;function ht(){throw new Error("setTimeout has not been defined")}function J(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?j=setTimeout:j=ht}catch(at){j=ht}try{typeof clearTimeout=="function"?s=clearTimeout:s=J}catch(at){s=J}})();function u(at){if(j===setTimeout)return setTimeout(at,0);if((j===ht||!j)&&setTimeout)return j=setTimeout,setTimeout(at,0);try{return j(at,0)}catch(xt){try{return j.call(null,at,0)}catch(ot){return j.call(this,at,0)}}}function Ie(at){if(s===clearTimeout)return clearTimeout(at);if((s===J||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(at);try{return s(at)}catch(xt){try{return s.call(null,at)}catch(ot){return s.call(this,at)}}}var He=[],je=!1,Le,_e=-1;function oe(){!je||!Le||(je=!1,Le.length?He=Le.concat(He):_e=-1,He.length&&Ye())}function Ye(){if(!je){var at=u(oe);je=!0;for(var xt=He.length;xt;){for(Le=He,He=[];++_e<xt;)Le&&Le[_e].run();_e=-1,xt=He.length}Le=null,je=!1,Ie(at)}}Jt.nextTick=function(at){var xt=new Array(arguments.length-1);if(arguments.length>1)for(var ot=1;ot<arguments.length;ot++)xt[ot-1]=arguments[ot];He.push(new ke(at,xt)),He.length===1&&!je&&u(Ye)};function ke(at,xt){this.fun=at,this.array=xt}ke.prototype.run=function(){this.fun.apply(null,this.array)},Jt.title="browser",Jt.browser=!0,Jt.env={},Jt.argv=[],Jt.version="",Jt.versions={};function Xe(){}Jt.on=Xe,Jt.addListener=Xe,Jt.once=Xe,Jt.off=Xe,Jt.removeListener=Xe,Jt.removeAllListeners=Xe,Jt.emit=Xe,Jt.prependListener=Xe,Jt.prependOnceListener=Xe,Jt.listeners=function(at){return[]},Jt.binding=function(at){throw new Error("process.binding is not supported")},Jt.cwd=function(){return"/"},Jt.chdir=function(at){throw new Error("process.chdir is not supported")},Jt.umask=function(){return 0}},93930:function(Qr,Jt,j){"use strict";j.d(Jt,{gN:function(){return $o},zb:function(){return Qt},RV:function(){return za},aV:function(){return Oo},ZM:function(){return Ft},ZP:function(){return jo},cI:function(){return Ho},qo:function(){return co}});var s=j(75271),ht=j(23022),J=j(58190),u=j(57250),Ie=j(90594),He=j(54153),je=j(46865),Le=j(59295),_e=j(45985),oe=j(63662),Ye=j(76525),ke=j(56216),Xe=j(38926),at=j(81626),xt=j(47996),ot=j(4449),St="RC_FORM_INTERNAL_HOOKS",Ot=function(){(0,ot.ZP)(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},Ge=s.createContext({getFieldValue:Ot,getFieldsValue:Ot,getFieldError:Ot,getFieldWarning:Ot,getFieldsError:Ot,isFieldsTouched:Ot,isFieldTouched:Ot,isFieldValidating:Ot,isFieldsValidating:Ot,resetFields:Ot,setFields:Ot,setFieldValue:Ot,setFieldsValue:Ot,validateFields:Ot,submit:Ot,getInternalHooks:function(){return Ot(),{dispatch:Ot,initEntityValue:Ot,registerField:Ot,useSubscribe:Ot,setInitialValues:Ot,destroyForm:Ot,setCallbacks:Ot,registerWatch:Ot,getFields:Ot,setValidateMessages:Ot,setPreserve:Ot,getInitialValue:Ot}}}),Qt=Ge,Pt=s.createContext(null),Ft=Pt;function Xt(en){return en==null?[]:Array.isArray(en)?en:[en]}function Ht(en){return en&&!!en._init}var Ar=j(5147);function Cr(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var Ve=JSON.parse(JSON.stringify(this));return Ve.clone=this.clone,Ve}}}var Dr=Cr(),Ue=j(51123),sn=j(84255);function Bn(en){try{return Function.toString.call(en).indexOf("[native code]")!==-1}catch(Ve){return typeof en=="function"}}var En=j(57649);function Be(en,Ve,be){if((0,En.Z)())return Reflect.construct.apply(null,arguments);var Ze=[null];Ze.push.apply(Ze,Ve);var De=new(en.bind.apply(en,Ze));return be&&(0,sn.Z)(De,be.prototype),De}function Gn(en){var Ve=typeof Map=="function"?new Map:void 0;return Gn=function(Ze){if(Ze===null||!Bn(Ze))return Ze;if(typeof Ze!="function")throw new TypeError("Super expression must either be null or a function");if(Ve!==void 0){if(Ve.has(Ze))return Ve.get(Ze);Ve.set(Ze,De)}function De(){return Be(Ze,arguments,(0,Ue.Z)(this).constructor)}return De.prototype=Object.create(Ze.prototype,{constructor:{value:De,enumerable:!1,writable:!0,configurable:!0}}),(0,sn.Z)(De,Ze)},Gn(en)}var In=j(14224),Rn=/%[sdj%]/g,pt=function(){};function an(en){if(!en||!en.length)return null;var Ve={};return en.forEach(function(be){var Ze=be.field;Ve[Ze]=Ve[Ze]||[],Ve[Ze].push(be)}),Ve}function Tn(en){for(var Ve=arguments.length,be=new Array(Ve>1?Ve-1:0),Ze=1;Ze<Ve;Ze++)be[Ze-1]=arguments[Ze];var De=0,$t=be.length;if(typeof en=="function")return en.apply(null,be);if(typeof en=="string"){var tn=en.replace(Rn,function(Wn){if(Wn==="%%")return"%";if(De>=$t)return Wn;switch(Wn){case"%s":return String(be[De++]);case"%d":return Number(be[De++]);case"%j":try{return JSON.stringify(be[De++])}catch(pr){return"[Circular]"}break;default:return Wn}});return tn}return en}function me(en){return en==="string"||en==="url"||en==="hex"||en==="email"||en==="date"||en==="pattern"}function nn(en,Ve){return!!(en==null||Ve==="array"&&Array.isArray(en)&&!en.length||me(Ve)&&typeof en=="string"&&!en)}function bi(en){return Object.keys(en).length===0}function ui(en,Ve,be){var Ze=[],De=0,$t=en.length;function tn(Wn){Ze.push.apply(Ze,(0,je.Z)(Wn||[])),De++,De===$t&&be(Ze)}en.forEach(function(Wn){Ve(Wn,tn)})}function $e(en,Ve,be){var Ze=0,De=en.length;function $t(tn){if(tn&&tn.length){be(tn);return}var Wn=Ze;Ze=Ze+1,Wn<De?Ve(en[Wn],$t):be([])}$t([])}function Mn(en){var Ve=[];return Object.keys(en).forEach(function(be){Ve.push.apply(Ve,(0,je.Z)(en[be]||[]))}),Ve}var Kr=function(en){(0,Ye.Z)(be,en);var Ve=(0,ke.Z)(be);function be(Ze,De){var $t;return(0,Le.Z)(this,be),$t=Ve.call(this,"Async Validation Error"),(0,Xe.Z)((0,oe.Z)($t),"errors",void 0),(0,Xe.Z)((0,oe.Z)($t),"fields",void 0),$t.errors=Ze,$t.fields=De,$t}return(0,_e.Z)(be)}(Gn(Error));function jr(en,Ve,be,Ze,De){if(Ve.first){var $t=new Promise(function(Si,Ci){var pi=function(Ri){return Ze(Ri),Ri.length?Ci(new Kr(Ri,an(Ri))):Si(De)},wi=Mn(en);$e(wi,be,pi)});return $t.catch(function(Si){return Si}),$t}var tn=Ve.firstFields===!0?Object.keys(en):Ve.firstFields||[],Wn=Object.keys(en),pr=Wn.length,ir=0,rr=[],Vr=new Promise(function(Si,Ci){var pi=function(ti){if(rr.push.apply(rr,ti),ir++,ir===pr)return Ze(rr),rr.length?Ci(new Kr(rr,an(rr))):Si(De)};Wn.length||(Ze(rr),Si(De)),Wn.forEach(function(wi){var ti=en[wi];tn.indexOf(wi)!==-1?$e(ti,be,pi):ui(ti,be,pi)})});return Vr.catch(function(Si){return Si}),Vr}function Sn(en){return!!(en&&en.message!==void 0)}function Fr(en,Ve){for(var be=en,Ze=0;Ze<Ve.length;Ze++){if(be==null)return be;be=be[Ve[Ze]]}return be}function Ii(en,Ve){return function(be){var Ze;return en.fullFields?Ze=Fr(Ve,en.fullFields):Ze=Ve[be.field||en.fullField],Sn(be)?(be.field=be.field||en.fullField,be.fieldValue=Ze,be):{message:typeof be=="function"?be():be,fieldValue:Ze,field:be.field||en.fullField}}}function fr(en,Ve){if(Ve){for(var be in Ve)if(Ve.hasOwnProperty(be)){var Ze=Ve[be];(0,Ar.Z)(Ze)==="object"&&(0,Ar.Z)(en[be])==="object"?en[be]=(0,He.Z)((0,He.Z)({},en[be]),Ze):en[be]=Ze}}return en}var st="enum",jt=function(Ve,be,Ze,De,$t){Ve[st]=Array.isArray(Ve[st])?Ve[st]:[],Ve[st].indexOf(be)===-1&&De.push(Tn($t.messages[st],Ve.fullField,Ve[st].join(", ")))},Fn=jt,un=function(Ve,be,Ze,De,$t){if(Ve.pattern){if(Ve.pattern instanceof RegExp)Ve.pattern.lastIndex=0,Ve.pattern.test(be)||De.push(Tn($t.messages.pattern.mismatch,Ve.fullField,be,Ve.pattern));else if(typeof Ve.pattern=="string"){var tn=new RegExp(Ve.pattern);tn.test(be)||De.push(Tn($t.messages.pattern.mismatch,Ve.fullField,be,Ve.pattern))}}},pn=un,Sr=function(Ve,be,Ze,De,$t){var tn=typeof Ve.len=="number",Wn=typeof Ve.min=="number",pr=typeof Ve.max=="number",ir=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,rr=be,Vr=null,Si=typeof be=="number",Ci=typeof be=="string",pi=Array.isArray(be);if(Si?Vr="number":Ci?Vr="string":pi&&(Vr="array"),!Vr)return!1;pi&&(rr=be.length),Ci&&(rr=be.replace(ir,"_").length),tn?rr!==Ve.len&&De.push(Tn($t.messages[Vr].len,Ve.fullField,Ve.len)):Wn&&!pr&&rr<Ve.min?De.push(Tn($t.messages[Vr].min,Ve.fullField,Ve.min)):pr&&!Wn&&rr>Ve.max?De.push(Tn($t.messages[Vr].max,Ve.fullField,Ve.max)):Wn&&pr&&(rr<Ve.min||rr>Ve.max)&&De.push(Tn($t.messages[Vr].range,Ve.fullField,Ve.min,Ve.max))},Vn=Sr,Xr=function(Ve,be,Ze,De,$t,tn){Ve.required&&(!Ze.hasOwnProperty(Ve.field)||nn(be,tn||Ve.type))&&De.push(Tn($t.messages.required,Ve.fullField))},ri=Xr,Zr,ei=function(){if(Zr)return Zr;var en="[a-fA-F\\d:]",Ve=function(Ea){return Ea&&Ea.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(en,")|(?<=").concat(en,")(?=\\s|$))"):""},be="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",Ze="[a-fA-F\\d]{1,4}",De=["(?:".concat(Ze,":){7}(?:").concat(Ze,"|:)"),"(?:".concat(Ze,":){6}(?:").concat(be,"|:").concat(Ze,"|:)"),"(?:".concat(Ze,":){5}(?::").concat(be,"|(?::").concat(Ze,"){1,2}|:)"),"(?:".concat(Ze,":){4}(?:(?::").concat(Ze,"){0,1}:").concat(be,"|(?::").concat(Ze,"){1,3}|:)"),"(?:".concat(Ze,":){3}(?:(?::").concat(Ze,"){0,2}:").concat(be,"|(?::").concat(Ze,"){1,4}|:)"),"(?:".concat(Ze,":){2}(?:(?::").concat(Ze,"){0,3}:").concat(be,"|(?::").concat(Ze,"){1,5}|:)"),"(?:".concat(Ze,":){1}(?:(?::").concat(Ze,"){0,4}:").concat(be,"|(?::").concat(Ze,"){1,6}|:)"),"(?::(?:(?::".concat(Ze,"){0,5}:").concat(be,"|(?::").concat(Ze,"){1,7}|:))")],$t="(?:%[0-9a-zA-Z]{1,})?",tn="(?:".concat(De.join("|"),")").concat($t),Wn=new RegExp("(?:^".concat(be,"$)|(?:^").concat(tn,"$)")),pr=new RegExp("^".concat(be,"$")),ir=new RegExp("^".concat(tn,"$")),rr=function(Ea){return Ea&&Ea.exact?Wn:new RegExp("(?:".concat(Ve(Ea)).concat(be).concat(Ve(Ea),")|(?:").concat(Ve(Ea)).concat(tn).concat(Ve(Ea),")"),"g")};rr.v4=function(aa){return aa&&aa.exact?pr:new RegExp("".concat(Ve(aa)).concat(be).concat(Ve(aa)),"g")},rr.v6=function(aa){return aa&&aa.exact?ir:new RegExp("".concat(Ve(aa)).concat(tn).concat(Ve(aa)),"g")};var Vr="(?:(?:[a-z]+:)?//)",Si="(?:\\S+(?::\\S*)?@)?",Ci=rr.v4().source,pi=rr.v6().source,wi="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",ti="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",Ri="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",$i="(?::\\d{2,5})?",yo='(?:[/?#][^\\s"]*)?',Qo="(?:".concat(Vr,"|www\\.)").concat(Si,"(?:localhost|").concat(Ci,"|").concat(pi,"|").concat(wi).concat(ti).concat(Ri,")").concat($i).concat(yo);return Zr=new RegExp("(?:^".concat(Qo,"$)"),"i"),Zr},vr={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},hr={integer:function(Ve){return hr.number(Ve)&&parseInt(Ve,10)===Ve},float:function(Ve){return hr.number(Ve)&&!hr.integer(Ve)},array:function(Ve){return Array.isArray(Ve)},regexp:function(Ve){if(Ve instanceof RegExp)return!0;try{return!!new RegExp(Ve)}catch(be){return!1}},date:function(Ve){return typeof Ve.getTime=="function"&&typeof Ve.getMonth=="function"&&typeof Ve.getYear=="function"&&!isNaN(Ve.getTime())},number:function(Ve){return isNaN(Ve)?!1:typeof Ve=="number"},object:function(Ve){return(0,Ar.Z)(Ve)==="object"&&!hr.array(Ve)},method:function(Ve){return typeof Ve=="function"},email:function(Ve){return typeof Ve=="string"&&Ve.length<=320&&!!Ve.match(vr.email)},url:function(Ve){return typeof Ve=="string"&&Ve.length<=2048&&!!Ve.match(ei())},hex:function(Ve){return typeof Ve=="string"&&!!Ve.match(vr.hex)}},ur=function(Ve,be,Ze,De,$t){if(Ve.required&&be===void 0){ri(Ve,be,Ze,De,$t);return}var tn=["integer","float","array","regexp","object","method","email","number","date","url","hex"],Wn=Ve.type;tn.indexOf(Wn)>-1?hr[Wn](be)||De.push(Tn($t.messages.types[Wn],Ve.fullField,Ve.type)):Wn&&(0,Ar.Z)(be)!==Ve.type&&De.push(Tn($t.messages.types[Wn],Ve.fullField,Ve.type))},wr=ur,yr=function(Ve,be,Ze,De,$t){(/^\s+$/.test(be)||be==="")&&De.push(Tn($t.messages.whitespace,Ve.fullField))},Nr=yr,Xn={required:ri,whitespace:Nr,type:wr,range:Vn,enum:Fn,pattern:pn},lr=function(Ve,be,Ze,De,$t){var tn=[],Wn=Ve.required||!Ve.required&&De.hasOwnProperty(Ve.field);if(Wn){if(nn(be)&&!Ve.required)return Ze();Xn.required(Ve,be,De,tn,$t)}Ze(tn)},Ur=lr,Ln=function(Ve,be,Ze,De,$t){var tn=[],Wn=Ve.required||!Ve.required&&De.hasOwnProperty(Ve.field);if(Wn){if(be==null&&!Ve.required)return Ze();Xn.required(Ve,be,De,tn,$t,"array"),be!=null&&(Xn.type(Ve,be,De,tn,$t),Xn.range(Ve,be,De,tn,$t))}Ze(tn)},_i=Ln,fi=function(Ve,be,Ze,De,$t){var tn=[],Wn=Ve.required||!Ve.required&&De.hasOwnProperty(Ve.field);if(Wn){if(nn(be)&&!Ve.required)return Ze();Xn.required(Ve,be,De,tn,$t),be!==void 0&&Xn.type(Ve,be,De,tn,$t)}Ze(tn)},Wi=fi,po=function(Ve,be,Ze,De,$t){var tn=[],Wn=Ve.required||!Ve.required&&De.hasOwnProperty(Ve.field);if(Wn){if(nn(be,"date")&&!Ve.required)return Ze();if(Xn.required(Ve,be,De,tn,$t),!nn(be,"date")){var pr;be instanceof Date?pr=be:pr=new Date(be),Xn.type(Ve,pr,De,tn,$t),pr&&Xn.range(Ve,pr.getTime(),De,tn,$t)}}Ze(tn)},kr=po,no="enum",qt=function(Ve,be,Ze,De,$t){var tn=[],Wn=Ve.required||!Ve.required&&De.hasOwnProperty(Ve.field);if(Wn){if(nn(be)&&!Ve.required)return Ze();Xn.required(Ve,be,De,tn,$t),be!==void 0&&Xn[no](Ve,be,De,tn,$t)}Ze(tn)},xn=qt,Jn=function(Ve,be,Ze,De,$t){var tn=[],Wn=Ve.required||!Ve.required&&De.hasOwnProperty(Ve.field);if(Wn){if(nn(be)&&!Ve.required)return Ze();Xn.required(Ve,be,De,tn,$t),be!==void 0&&(Xn.type(Ve,be,De,tn,$t),Xn.range(Ve,be,De,tn,$t))}Ze(tn)},$r=Jn,li=function(Ve,be,Ze,De,$t){var tn=[],Wn=Ve.required||!Ve.required&&De.hasOwnProperty(Ve.field);if(Wn){if(nn(be)&&!Ve.required)return Ze();Xn.required(Ve,be,De,tn,$t),be!==void 0&&(Xn.type(Ve,be,De,tn,$t),Xn.range(Ve,be,De,tn,$t))}Ze(tn)},ii=li,Ki=function(Ve,be,Ze,De,$t){var tn=[],Wn=Ve.required||!Ve.required&&De.hasOwnProperty(Ve.field);if(Wn){if(nn(be)&&!Ve.required)return Ze();Xn.required(Ve,be,De,tn,$t),be!==void 0&&Xn.type(Ve,be,De,tn,$t)}Ze(tn)},eo=Ki,Ro=function(Ve,be,Ze,De,$t){var tn=[],Wn=Ve.required||!Ve.required&&De.hasOwnProperty(Ve.field);if(Wn){if(be===""&&(be=void 0),nn(be)&&!Ve.required)return Ze();Xn.required(Ve,be,De,tn,$t),be!==void 0&&(Xn.type(Ve,be,De,tn,$t),Xn.range(Ve,be,De,tn,$t))}Ze(tn)},So=Ro,io=function(Ve,be,Ze,De,$t){var tn=[],Wn=Ve.required||!Ve.required&&De.hasOwnProperty(Ve.field);if(Wn){if(nn(be)&&!Ve.required)return Ze();Xn.required(Ve,be,De,tn,$t),be!==void 0&&Xn.type(Ve,be,De,tn,$t)}Ze(tn)},Pe=io,de=function(Ve,be,Ze,De,$t){var tn=[],Wn=Ve.required||!Ve.required&&De.hasOwnProperty(Ve.field);if(Wn){if(nn(be,"string")&&!Ve.required)return Ze();Xn.required(Ve,be,De,tn,$t),nn(be,"string")||Xn.pattern(Ve,be,De,tn,$t)}Ze(tn)},K=de,Ne=function(Ve,be,Ze,De,$t){var tn=[],Wn=Ve.required||!Ve.required&&De.hasOwnProperty(Ve.field);if(Wn){if(nn(be)&&!Ve.required)return Ze();Xn.required(Ve,be,De,tn,$t),nn(be)||Xn.type(Ve,be,De,tn,$t)}Ze(tn)},Je=Ne,ge=function(Ve,be,Ze,De,$t){var tn=[],Wn=Array.isArray(be)?"array":(0,Ar.Z)(be);Xn.required(Ve,be,De,tn,$t,Wn),Ze(tn)},dt=ge,_t=function(Ve,be,Ze,De,$t){var tn=[],Wn=Ve.required||!Ve.required&&De.hasOwnProperty(Ve.field);if(Wn){if(nn(be,"string")&&!Ve.required)return Ze();Xn.required(Ve,be,De,tn,$t,"string"),nn(be,"string")||(Xn.type(Ve,be,De,tn,$t),Xn.range(Ve,be,De,tn,$t),Xn.pattern(Ve,be,De,tn,$t),Ve.whitespace===!0&&Xn.whitespace(Ve,be,De,tn,$t))}Ze(tn)},Tt=_t,Yt=function(Ve,be,Ze,De,$t){var tn=Ve.type,Wn=[],pr=Ve.required||!Ve.required&&De.hasOwnProperty(Ve.field);if(pr){if(nn(be,tn)&&!Ve.required)return Ze();Xn.required(Ve,be,De,Wn,$t,tn),nn(be,tn)||Xn.type(Ve,be,De,Wn,$t)}Ze(Wn)},hn=Yt,We={string:Tt,method:eo,number:So,boolean:Wi,regexp:Je,integer:ii,float:$r,array:_i,object:Pe,enum:xn,pattern:K,date:kr,url:hn,hex:hn,email:hn,required:dt,any:Ur},Et=function(){function en(Ve){(0,Le.Z)(this,en),(0,Xe.Z)(this,"rules",null),(0,Xe.Z)(this,"_messages",Dr),this.define(Ve)}return(0,_e.Z)(en,[{key:"define",value:function(be){var Ze=this;if(!be)throw new Error("Cannot configure a schema with no rules");if((0,Ar.Z)(be)!=="object"||Array.isArray(be))throw new Error("Rules must be an object");this.rules={},Object.keys(be).forEach(function(De){var $t=be[De];Ze.rules[De]=Array.isArray($t)?$t:[$t]})}},{key:"messages",value:function(be){return be&&(this._messages=fr(Cr(),be)),this._messages}},{key:"validate",value:function(be){var Ze=this,De=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},tn=be,Wn=De,pr=$t;if(typeof Wn=="function"&&(pr=Wn,Wn={}),!this.rules||Object.keys(this.rules).length===0)return pr&&pr(null,tn),Promise.resolve(tn);function ir(pi){var wi=[],ti={};function Ri(yo){if(Array.isArray(yo)){var Qo;wi=(Qo=wi).concat.apply(Qo,(0,je.Z)(yo))}else wi.push(yo)}for(var $i=0;$i<pi.length;$i++)Ri(pi[$i]);wi.length?(ti=an(wi),pr(wi,ti)):pr(null,tn)}if(Wn.messages){var rr=this.messages();rr===Dr&&(rr=Cr()),fr(rr,Wn.messages),Wn.messages=rr}else Wn.messages=this.messages();var Vr={},Si=Wn.keys||Object.keys(this.rules);Si.forEach(function(pi){var wi=Ze.rules[pi],ti=tn[pi];wi.forEach(function(Ri){var $i=Ri;typeof $i.transform=="function"&&(tn===be&&(tn=(0,He.Z)({},tn)),ti=tn[pi]=$i.transform(ti),ti!=null&&($i.type=$i.type||(Array.isArray(ti)?"array":(0,Ar.Z)(ti)))),typeof $i=="function"?$i={validator:$i}:$i=(0,He.Z)({},$i),$i.validator=Ze.getValidationMethod($i),$i.validator&&($i.field=pi,$i.fullField=$i.fullField||pi,$i.type=Ze.getType($i),Vr[pi]=Vr[pi]||[],Vr[pi].push({rule:$i,value:ti,source:tn,field:pi}))})});var Ci={};return jr(Vr,Wn,function(pi,wi){var ti=pi.rule,Ri=(ti.type==="object"||ti.type==="array")&&((0,Ar.Z)(ti.fields)==="object"||(0,Ar.Z)(ti.defaultField)==="object");Ri=Ri&&(ti.required||!ti.required&&pi.value),ti.field=pi.field;function $i(Ma,wa){return(0,He.Z)((0,He.Z)({},wa),{},{fullField:"".concat(ti.fullField,".").concat(Ma),fullFields:ti.fullFields?[].concat((0,je.Z)(ti.fullFields),[Ma]):[Ma]})}function yo(){var Ma=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],wa=Array.isArray(Ma)?Ma:[Ma];!Wn.suppressWarning&&wa.length&&en.warning("async-validator:",wa),wa.length&&ti.message!==void 0&&(wa=[].concat(ti.message));var Ca=wa.map(Ii(ti,tn));if(Wn.first&&Ca.length)return Ci[ti.field]=1,wi(Ca);if(!Ri)wi(Ca);else{if(ti.required&&!pi.value)return ti.message!==void 0?Ca=[].concat(ti.message).map(Ii(ti,tn)):Wn.error&&(Ca=[Wn.error(ti,Tn(Wn.messages.required,ti.field))]),wi(Ca);var Za={};ti.defaultField&&Object.keys(pi.value).map(function(Va){Za[Va]=ti.defaultField}),Za=(0,He.Z)((0,He.Z)({},Za),pi.rule.fields);var ca={};Object.keys(Za).forEach(function(Va){var as=Za[Va],nl=Array.isArray(as)?as:[as];ca[Va]=nl.map($i.bind(null,Va))});var cs=new en(ca);cs.messages(Wn.messages),pi.rule.options&&(pi.rule.options.messages=Wn.messages,pi.rule.options.error=Wn.error),cs.validate(pi.value,pi.rule.options||Wn,function(Va){var as=[];Ca&&Ca.length&&as.push.apply(as,(0,je.Z)(Ca)),Va&&Va.length&&as.push.apply(as,(0,je.Z)(Va)),wi(as.length?as:null)})}}var Qo;if(ti.asyncValidator)Qo=ti.asyncValidator(ti,pi.value,yo,pi.source,Wn);else if(ti.validator){try{Qo=ti.validator(ti,pi.value,yo,pi.source,Wn)}catch(Ma){var aa,Ea;(aa=(Ea=console).error)===null||aa===void 0||aa.call(Ea,Ma),Wn.suppressValidatorError||setTimeout(function(){throw Ma},0),yo(Ma.message)}Qo===!0?yo():Qo===!1?yo(typeof ti.message=="function"?ti.message(ti.fullField||ti.field):ti.message||"".concat(ti.fullField||ti.field," fails")):Qo instanceof Array?yo(Qo):Qo instanceof Error&&yo(Qo.message)}Qo&&Qo.then&&Qo.then(function(){return yo()},function(Ma){return yo(Ma)})},function(pi){ir(pi)},tn)}},{key:"getType",value:function(be){if(be.type===void 0&&be.pattern instanceof RegExp&&(be.type="pattern"),typeof be.validator!="function"&&be.type&&!We.hasOwnProperty(be.type))throw new Error(Tn("Unknown rule type %s",be.type));return be.type||"string"}},{key:"getValidationMethod",value:function(be){if(typeof be.validator=="function")return be.validator;var Ze=Object.keys(be),De=Ze.indexOf("message");return De!==-1&&Ze.splice(De,1),Ze.length===1&&Ze[0]==="required"?We.required:We[this.getType(be)]||void 0}}]),en}();(0,Xe.Z)(Et,"register",function(Ve,be){if(typeof be!="function")throw new Error("Cannot register a validator by type, validator is not a function");We[Ve]=be}),(0,Xe.Z)(Et,"warning",pt),(0,Xe.Z)(Et,"messages",Dr),(0,Xe.Z)(Et,"validators",We);var kt=Et,Kt="'${name}' is not a valid ${type}",rt={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:Kt,method:Kt,array:Kt,object:Kt,number:Kt,date:Kt,boolean:Kt,integer:Kt,float:Kt,regexp:Kt,email:Kt,url:Kt,hex:Kt},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},Qe=j(27636),gn=kt;function mn(en,Ve){return en.replace(/\\?\$\{\w+\}/g,function(be){if(be.startsWith("\\"))return be.slice(1);var Ze=be.slice(2,-1);return Ve[Ze]})}var kn="CODE_LOGIC_ERROR";function br(en,Ve,be,Ze,De){return ar.apply(this,arguments)}function ar(){return ar=(0,Ie.Z)((0,u.Z)().mark(function en(Ve,be,Ze,De,$t){var tn,Wn,pr,ir,rr,Vr,Si,Ci,pi;return(0,u.Z)().wrap(function(ti){for(;;)switch(ti.prev=ti.next){case 0:return tn=(0,He.Z)({},Ze),delete tn.ruleIndex,gn.warning=function(){},tn.validator&&(Wn=tn.validator,tn.validator=function(){try{return Wn.apply(void 0,arguments)}catch(Ri){return console.error(Ri),Promise.reject(kn)}}),pr=null,tn&&tn.type==="array"&&tn.defaultField&&(pr=tn.defaultField,delete tn.defaultField),ir=new gn((0,Xe.Z)({},Ve,[tn])),rr=(0,Qe.T)(rt,De.validateMessages),ir.messages(rr),Vr=[],ti.prev=10,ti.next=13,Promise.resolve(ir.validate((0,Xe.Z)({},Ve,be),(0,He.Z)({},De)));case 13:ti.next=18;break;case 15:ti.prev=15,ti.t0=ti.catch(10),ti.t0.errors&&(Vr=ti.t0.errors.map(function(Ri,$i){var yo=Ri.message,Qo=yo===kn?rr.default:yo;return s.isValidElement(Qo)?s.cloneElement(Qo,{key:"error_".concat($i)}):Qo}));case 18:if(!(!Vr.length&&pr)){ti.next=23;break}return ti.next=21,Promise.all(be.map(function(Ri,$i){return br("".concat(Ve,".").concat($i),Ri,pr,De,$t)}));case 21:return Si=ti.sent,ti.abrupt("return",Si.reduce(function(Ri,$i){return[].concat((0,je.Z)(Ri),(0,je.Z)($i))},[]));case 23:return Ci=(0,He.Z)((0,He.Z)({},Ze),{},{name:Ve,enum:(Ze.enum||[]).join(", ")},$t),pi=Vr.map(function(Ri){return typeof Ri=="string"?mn(Ri,Ci):Ri}),ti.abrupt("return",pi);case 26:case"end":return ti.stop()}},en,null,[[10,15]])})),ar.apply(this,arguments)}function Mr(en,Ve,be,Ze,De,$t){var tn=en.join("."),Wn=be.map(function(rr,Vr){var Si=rr.validator,Ci=(0,He.Z)((0,He.Z)({},rr),{},{ruleIndex:Vr});return Si&&(Ci.validator=function(pi,wi,ti){var Ri=!1,$i=function(){for(var aa=arguments.length,Ea=new Array(aa),Ma=0;Ma<aa;Ma++)Ea[Ma]=arguments[Ma];Promise.resolve().then(function(){(0,ot.ZP)(!Ri,"Your validator function has already return a promise. `callback` will be ignored."),Ri||ti.apply(void 0,Ea)})},yo=Si(pi,wi,$i);Ri=yo&&typeof yo.then=="function"&&typeof yo.catch=="function",(0,ot.ZP)(Ri,"`callback` is deprecated. Please return a promise instead."),Ri&&yo.then(function(){ti()}).catch(function(Qo){ti(Qo||" ")})}),Ci}).sort(function(rr,Vr){var Si=rr.warningOnly,Ci=rr.ruleIndex,pi=Vr.warningOnly,wi=Vr.ruleIndex;return!!Si==!!pi?Ci-wi:Si?1:-1}),pr;if(De===!0)pr=new Promise(function(){var rr=(0,Ie.Z)((0,u.Z)().mark(function Vr(Si,Ci){var pi,wi,ti;return(0,u.Z)().wrap(function($i){for(;;)switch($i.prev=$i.next){case 0:pi=0;case 1:if(!(pi<Wn.length)){$i.next=12;break}return wi=Wn[pi],$i.next=5,br(tn,Ve,wi,Ze,$t);case 5:if(ti=$i.sent,!ti.length){$i.next=9;break}return Ci([{errors:ti,rule:wi}]),$i.abrupt("return");case 9:pi+=1,$i.next=1;break;case 12:Si([]);case 13:case"end":return $i.stop()}},Vr)}));return function(Vr,Si){return rr.apply(this,arguments)}}());else{var ir=Wn.map(function(rr){return br(tn,Ve,rr,Ze,$t).then(function(Vr){return{errors:Vr,rule:rr}})});pr=(De?Zi(ir):qr(ir)).then(function(rr){return Promise.reject(rr)})}return pr.catch(function(rr){return rr}),pr}function qr(en){return oi.apply(this,arguments)}function oi(){return oi=(0,Ie.Z)((0,u.Z)().mark(function en(Ve){return(0,u.Z)().wrap(function(Ze){for(;;)switch(Ze.prev=Ze.next){case 0:return Ze.abrupt("return",Promise.all(Ve).then(function(De){var $t,tn=($t=[]).concat.apply($t,(0,je.Z)(De));return tn}));case 1:case"end":return Ze.stop()}},en)})),oi.apply(this,arguments)}function Zi(en){return ft.apply(this,arguments)}function ft(){return ft=(0,Ie.Z)((0,u.Z)().mark(function en(Ve){var be;return(0,u.Z)().wrap(function(De){for(;;)switch(De.prev=De.next){case 0:return be=0,De.abrupt("return",new Promise(function($t){Ve.forEach(function(tn){tn.then(function(Wn){Wn.errors.length&&$t([Wn]),be+=1,be===Ve.length&&$t([])})})}));case 2:case"end":return De.stop()}},en)})),ft.apply(this,arguments)}var _n=j(36040);function Ut(en){return Xt(en)}function bn(en,Ve){var be={};return Ve.forEach(function(Ze){var De=(0,_n.Z)(en,Ze);be=(0,Qe.Z)(be,Ze,De)}),be}function sr(en,Ve){var be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return en&&en.some(function(Ze){return Yr(Ve,Ze,be)})}function Yr(en,Ve){var be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!en||!Ve||!be&&en.length!==Ve.length?!1:Ve.every(function(Ze,De){return en[De]===Ze})}function Ti(en,Ve){if(en===Ve)return!0;if(!en&&Ve||en&&!Ve||!en||!Ve||(0,Ar.Z)(en)!=="object"||(0,Ar.Z)(Ve)!=="object")return!1;var be=Object.keys(en),Ze=Object.keys(Ve),De=new Set([].concat(be,Ze));return(0,je.Z)(De).every(function($t){var tn=en[$t],Wn=Ve[$t];return typeof tn=="function"&&typeof Wn=="function"?!0:tn===Wn})}function ho(en){var Ve=arguments.length<=1?void 0:arguments[1];return Ve&&Ve.target&&(0,Ar.Z)(Ve.target)==="object"&&en in Ve.target?Ve.target[en]:Ve}function zi(en,Ve,be){var Ze=en.length;if(Ve<0||Ve>=Ze||be<0||be>=Ze)return en;var De=en[Ve],$t=Ve-be;return $t>0?[].concat((0,je.Z)(en.slice(0,be)),[De],(0,je.Z)(en.slice(be,Ve)),(0,je.Z)(en.slice(Ve+1,Ze))):$t<0?[].concat((0,je.Z)(en.slice(0,Ve)),(0,je.Z)(en.slice(Ve+1,be+1)),[De],(0,je.Z)(en.slice(be+1,Ze))):en}var Ji=["name"],uo=[];function Ni(en,Ve,be,Ze,De,$t){return typeof en=="function"?en(Ve,be,"source"in $t?{source:$t.source}:{}):Ze!==De}var Po=function(en){(0,Ye.Z)(be,en);var Ve=(0,ke.Z)(be);function be(Ze){var De;if((0,Le.Z)(this,be),De=Ve.call(this,Ze),(0,Xe.Z)((0,oe.Z)(De),"state",{resetCount:0}),(0,Xe.Z)((0,oe.Z)(De),"cancelRegisterFunc",null),(0,Xe.Z)((0,oe.Z)(De),"mounted",!1),(0,Xe.Z)((0,oe.Z)(De),"touched",!1),(0,Xe.Z)((0,oe.Z)(De),"dirty",!1),(0,Xe.Z)((0,oe.Z)(De),"validatePromise",void 0),(0,Xe.Z)((0,oe.Z)(De),"prevValidating",void 0),(0,Xe.Z)((0,oe.Z)(De),"errors",uo),(0,Xe.Z)((0,oe.Z)(De),"warnings",uo),(0,Xe.Z)((0,oe.Z)(De),"cancelRegister",function(){var pr=De.props,ir=pr.preserve,rr=pr.isListField,Vr=pr.name;De.cancelRegisterFunc&&De.cancelRegisterFunc(rr,ir,Ut(Vr)),De.cancelRegisterFunc=null}),(0,Xe.Z)((0,oe.Z)(De),"getNamePath",function(){var pr=De.props,ir=pr.name,rr=pr.fieldContext,Vr=rr.prefixName,Si=Vr===void 0?[]:Vr;return ir!==void 0?[].concat((0,je.Z)(Si),(0,je.Z)(ir)):[]}),(0,Xe.Z)((0,oe.Z)(De),"getRules",function(){var pr=De.props,ir=pr.rules,rr=ir===void 0?[]:ir,Vr=pr.fieldContext;return rr.map(function(Si){return typeof Si=="function"?Si(Vr):Si})}),(0,Xe.Z)((0,oe.Z)(De),"refresh",function(){De.mounted&&De.setState(function(pr){var ir=pr.resetCount;return{resetCount:ir+1}})}),(0,Xe.Z)((0,oe.Z)(De),"metaCache",null),(0,Xe.Z)((0,oe.Z)(De),"triggerMetaEvent",function(pr){var ir=De.props.onMetaChange;if(ir){var rr=(0,He.Z)((0,He.Z)({},De.getMeta()),{},{destroy:pr});(0,xt.Z)(De.metaCache,rr)||ir(rr),De.metaCache=rr}else De.metaCache=null}),(0,Xe.Z)((0,oe.Z)(De),"onStoreChange",function(pr,ir,rr){var Vr=De.props,Si=Vr.shouldUpdate,Ci=Vr.dependencies,pi=Ci===void 0?[]:Ci,wi=Vr.onReset,ti=rr.store,Ri=De.getNamePath(),$i=De.getValue(pr),yo=De.getValue(ti),Qo=ir&&sr(ir,Ri);switch(rr.type==="valueUpdate"&&rr.source==="external"&&!(0,xt.Z)($i,yo)&&(De.touched=!0,De.dirty=!0,De.validatePromise=null,De.errors=uo,De.warnings=uo,De.triggerMetaEvent()),rr.type){case"reset":if(!ir||Qo){De.touched=!1,De.dirty=!1,De.validatePromise=void 0,De.errors=uo,De.warnings=uo,De.triggerMetaEvent(),wi==null||wi(),De.refresh();return}break;case"remove":{if(Si&&Ni(Si,pr,ti,$i,yo,rr)){De.reRender();return}break}case"setField":{var aa=rr.data;if(Qo){"touched"in aa&&(De.touched=aa.touched),"validating"in aa&&!("originRCField"in aa)&&(De.validatePromise=aa.validating?Promise.resolve([]):null),"errors"in aa&&(De.errors=aa.errors||uo),"warnings"in aa&&(De.warnings=aa.warnings||uo),De.dirty=!0,De.triggerMetaEvent(),De.reRender();return}else if("value"in aa&&sr(ir,Ri,!0)){De.reRender();return}if(Si&&!Ri.length&&Ni(Si,pr,ti,$i,yo,rr)){De.reRender();return}break}case"dependenciesUpdate":{var Ea=pi.map(Ut);if(Ea.some(function(Ma){return sr(rr.relatedFields,Ma)})){De.reRender();return}break}default:if(Qo||(!pi.length||Ri.length||Si)&&Ni(Si,pr,ti,$i,yo,rr)){De.reRender();return}break}Si===!0&&De.reRender()}),(0,Xe.Z)((0,oe.Z)(De),"validateRules",function(pr){var ir=De.getNamePath(),rr=De.getValue(),Vr=pr||{},Si=Vr.triggerName,Ci=Vr.validateOnly,pi=Ci===void 0?!1:Ci,wi=Promise.resolve().then((0,Ie.Z)((0,u.Z)().mark(function ti(){var Ri,$i,yo,Qo,aa,Ea,Ma;return(0,u.Z)().wrap(function(Ca){for(;;)switch(Ca.prev=Ca.next){case 0:if(De.mounted){Ca.next=2;break}return Ca.abrupt("return",[]);case 2:if(Ri=De.props,$i=Ri.validateFirst,yo=$i===void 0?!1:$i,Qo=Ri.messageVariables,aa=Ri.validateDebounce,Ea=De.getRules(),Si&&(Ea=Ea.filter(function(Za){return Za}).filter(function(Za){var ca=Za.validateTrigger;if(!ca)return!0;var cs=Xt(ca);return cs.includes(Si)})),!(aa&&Si)){Ca.next=10;break}return Ca.next=8,new Promise(function(Za){setTimeout(Za,aa)});case 8:if(De.validatePromise===wi){Ca.next=10;break}return Ca.abrupt("return",[]);case 10:return Ma=Mr(ir,rr,Ea,pr,yo,Qo),Ma.catch(function(Za){return Za}).then(function(){var Za=arguments.length>0&&arguments[0]!==void 0?arguments[0]:uo;if(De.validatePromise===wi){var ca;De.validatePromise=null;var cs=[],Va=[];(ca=Za.forEach)===null||ca===void 0||ca.call(Za,function(as){var nl=as.rule.warningOnly,cl=as.errors,Nl=cl===void 0?uo:cl;nl?Va.push.apply(Va,(0,je.Z)(Nl)):cs.push.apply(cs,(0,je.Z)(Nl))}),De.errors=cs,De.warnings=Va,De.triggerMetaEvent(),De.reRender()}}),Ca.abrupt("return",Ma);case 13:case"end":return Ca.stop()}},ti)})));return pi||(De.validatePromise=wi,De.dirty=!0,De.errors=uo,De.warnings=uo,De.triggerMetaEvent(),De.reRender()),wi}),(0,Xe.Z)((0,oe.Z)(De),"isFieldValidating",function(){return!!De.validatePromise}),(0,Xe.Z)((0,oe.Z)(De),"isFieldTouched",function(){return De.touched}),(0,Xe.Z)((0,oe.Z)(De),"isFieldDirty",function(){if(De.dirty||De.props.initialValue!==void 0)return!0;var pr=De.props.fieldContext,ir=pr.getInternalHooks(St),rr=ir.getInitialValue;return rr(De.getNamePath())!==void 0}),(0,Xe.Z)((0,oe.Z)(De),"getErrors",function(){return De.errors}),(0,Xe.Z)((0,oe.Z)(De),"getWarnings",function(){return De.warnings}),(0,Xe.Z)((0,oe.Z)(De),"isListField",function(){return De.props.isListField}),(0,Xe.Z)((0,oe.Z)(De),"isList",function(){return De.props.isList}),(0,Xe.Z)((0,oe.Z)(De),"isPreserve",function(){return De.props.preserve}),(0,Xe.Z)((0,oe.Z)(De),"getMeta",function(){De.prevValidating=De.isFieldValidating();var pr={touched:De.isFieldTouched(),validating:De.prevValidating,errors:De.errors,warnings:De.warnings,name:De.getNamePath(),validated:De.validatePromise===null};return pr}),(0,Xe.Z)((0,oe.Z)(De),"getOnlyChild",function(pr){if(typeof pr=="function"){var ir=De.getMeta();return(0,He.Z)((0,He.Z)({},De.getOnlyChild(pr(De.getControlled(),ir,De.props.fieldContext))),{},{isFunction:!0})}var rr=(0,at.Z)(pr);return rr.length!==1||!s.isValidElement(rr[0])?{child:rr,isFunction:!1}:{child:rr[0],isFunction:!1}}),(0,Xe.Z)((0,oe.Z)(De),"getValue",function(pr){var ir=De.props.fieldContext.getFieldsValue,rr=De.getNamePath();return(0,_n.Z)(pr||ir(!0),rr)}),(0,Xe.Z)((0,oe.Z)(De),"getControlled",function(){var pr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ir=De.props,rr=ir.name,Vr=ir.trigger,Si=ir.validateTrigger,Ci=ir.getValueFromEvent,pi=ir.normalize,wi=ir.valuePropName,ti=ir.getValueProps,Ri=ir.fieldContext,$i=Si!==void 0?Si:Ri.validateTrigger,yo=De.getNamePath(),Qo=Ri.getInternalHooks,aa=Ri.getFieldsValue,Ea=Qo(St),Ma=Ea.dispatch,wa=De.getValue(),Ca=ti||function(as){return(0,Xe.Z)({},wi,as)},Za=pr[Vr],ca=rr!==void 0?Ca(wa):{},cs=(0,He.Z)((0,He.Z)({},pr),ca);cs[Vr]=function(){De.touched=!0,De.dirty=!0,De.triggerMetaEvent();for(var as,nl=arguments.length,cl=new Array(nl),Nl=0;Nl<nl;Nl++)cl[Nl]=arguments[Nl];Ci?as=Ci.apply(void 0,cl):as=ho.apply(void 0,[wi].concat(cl)),pi&&(as=pi(as,wa,aa(!0))),as!==wa&&Ma({type:"updateValue",namePath:yo,value:as}),Za&&Za.apply(void 0,cl)};var Va=Xt($i||[]);return Va.forEach(function(as){var nl=cs[as];cs[as]=function(){nl&&nl.apply(void 0,arguments);var cl=De.props.rules;cl&&cl.length&&Ma({type:"validateField",namePath:yo,triggerName:as})}}),cs}),Ze.fieldContext){var $t=Ze.fieldContext.getInternalHooks,tn=$t(St),Wn=tn.initEntityValue;Wn((0,oe.Z)(De))}return De}return(0,_e.Z)(be,[{key:"componentDidMount",value:function(){var De=this.props,$t=De.shouldUpdate,tn=De.fieldContext;if(this.mounted=!0,tn){var Wn=tn.getInternalHooks,pr=Wn(St),ir=pr.registerField;this.cancelRegisterFunc=ir(this)}$t===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var De=this.state.resetCount,$t=this.props.children,tn=this.getOnlyChild($t),Wn=tn.child,pr=tn.isFunction,ir;return pr?ir=Wn:s.isValidElement(Wn)?ir=s.cloneElement(Wn,this.getControlled(Wn.props)):((0,ot.ZP)(!Wn,"`children` of Field is not validate ReactElement."),ir=Wn),s.createElement(s.Fragment,{key:De},ir)}}]),be}(s.Component);(0,Xe.Z)(Po,"contextType",Qt),(0,Xe.Z)(Po,"defaultProps",{trigger:"onChange",valuePropName:"value"});function Vo(en){var Ve,be=en.name,Ze=(0,J.Z)(en,Ji),De=s.useContext(Qt),$t=s.useContext(Ft),tn=be!==void 0?Ut(be):void 0,Wn=(Ve=Ze.isListField)!==null&&Ve!==void 0?Ve:!!$t,pr="keep";return Wn||(pr="_".concat((tn||[]).join("_"))),s.createElement(Po,(0,ht.Z)({key:pr,name:tn,isListField:Wn},Ze,{fieldContext:De}))}var $o=Vo;function _o(en){var Ve=en.name,be=en.initialValue,Ze=en.children,De=en.rules,$t=en.validateTrigger,tn=en.isListField,Wn=s.useContext(Qt),pr=s.useContext(Ft),ir=s.useRef({keys:[],id:0}),rr=ir.current,Vr=s.useMemo(function(){var wi=Ut(Wn.prefixName)||[];return[].concat((0,je.Z)(wi),(0,je.Z)(Ut(Ve)))},[Wn.prefixName,Ve]),Si=s.useMemo(function(){return(0,He.Z)((0,He.Z)({},Wn),{},{prefixName:Vr})},[Wn,Vr]),Ci=s.useMemo(function(){return{getKey:function(ti){var Ri=Vr.length,$i=ti[Ri];return[rr.keys[$i],ti.slice(Ri+1)]}}},[Vr]);if(typeof Ze!="function")return(0,ot.ZP)(!1,"Form.List only accepts function as children."),null;var pi=function(ti,Ri,$i){var yo=$i.source;return yo==="internal"?!1:ti!==Ri};return s.createElement(Ft.Provider,{value:Ci},s.createElement(Qt.Provider,{value:Si},s.createElement($o,{name:[],shouldUpdate:pi,rules:De,validateTrigger:$t,initialValue:be,isList:!0,isListField:tn!=null?tn:!!pr},function(wi,ti){var Ri=wi.value,$i=Ri===void 0?[]:Ri,yo=wi.onChange,Qo=Wn.getFieldValue,aa=function(){var Ca=Qo(Vr||[]);return Ca||[]},Ea={add:function(Ca,Za){var ca=aa();Za>=0&&Za<=ca.length?(rr.keys=[].concat((0,je.Z)(rr.keys.slice(0,Za)),[rr.id],(0,je.Z)(rr.keys.slice(Za))),yo([].concat((0,je.Z)(ca.slice(0,Za)),[Ca],(0,je.Z)(ca.slice(Za))))):(rr.keys=[].concat((0,je.Z)(rr.keys),[rr.id]),yo([].concat((0,je.Z)(ca),[Ca]))),rr.id+=1},remove:function(Ca){var Za=aa(),ca=new Set(Array.isArray(Ca)?Ca:[Ca]);ca.size<=0||(rr.keys=rr.keys.filter(function(cs,Va){return!ca.has(Va)}),yo(Za.filter(function(cs,Va){return!ca.has(Va)})))},move:function(Ca,Za){if(Ca!==Za){var ca=aa();Ca<0||Ca>=ca.length||Za<0||Za>=ca.length||(rr.keys=zi(rr.keys,Ca,Za),yo(zi(ca,Ca,Za)))}}},Ma=$i||[];return Array.isArray(Ma)||(Ma=[]),Ze(Ma.map(function(wa,Ca){var Za=rr.keys[Ca];return Za===void 0&&(rr.keys[Ca]=rr.id,Za=rr.keys[Ca],rr.id+=1),{name:Ca,key:Za,isListField:!0}}),Ea,ti)})))}var Oo=_o,zo=j(89692);function qo(en){var Ve=!1,be=en.length,Ze=[];return en.length?new Promise(function(De,$t){en.forEach(function(tn,Wn){tn.catch(function(pr){return Ve=!0,pr}).then(function(pr){be-=1,Ze[Wn]=pr,!(be>0)&&(Ve&&$t(Ze),De(Ze))})})}):Promise.resolve([])}var oo="__@field_split__";function wo(en){return en.map(function(Ve){return"".concat((0,Ar.Z)(Ve),":").concat(Ve)}).join(oo)}var go=function(){function en(){(0,Le.Z)(this,en),(0,Xe.Z)(this,"kvs",new Map)}return(0,_e.Z)(en,[{key:"set",value:function(be,Ze){this.kvs.set(wo(be),Ze)}},{key:"get",value:function(be){return this.kvs.get(wo(be))}},{key:"update",value:function(be,Ze){var De=this.get(be),$t=Ze(De);$t?this.set(be,$t):this.delete(be)}},{key:"delete",value:function(be){this.kvs.delete(wo(be))}},{key:"map",value:function(be){return(0,je.Z)(this.kvs.entries()).map(function(Ze){var De=(0,zo.Z)(Ze,2),$t=De[0],tn=De[1],Wn=$t.split(oo);return be({key:Wn.map(function(pr){var ir=pr.match(/^([^:]*):(.*)$/),rr=(0,zo.Z)(ir,3),Vr=rr[1],Si=rr[2];return Vr==="number"?Number(Si):Si}),value:tn})})}},{key:"toJSON",value:function(){var be={};return this.map(function(Ze){var De=Ze.key,$t=Ze.value;return be[De.join(".")]=$t,null}),be}}]),en}(),so=go,to=["name"],ko=(0,_e.Z)(function en(Ve){var be=this;(0,Le.Z)(this,en),(0,Xe.Z)(this,"formHooked",!1),(0,Xe.Z)(this,"forceRootUpdate",void 0),(0,Xe.Z)(this,"subscribable",!0),(0,Xe.Z)(this,"store",{}),(0,Xe.Z)(this,"fieldEntities",[]),(0,Xe.Z)(this,"initialValues",{}),(0,Xe.Z)(this,"callbacks",{}),(0,Xe.Z)(this,"validateMessages",null),(0,Xe.Z)(this,"preserve",null),(0,Xe.Z)(this,"lastValidatePromise",null),(0,Xe.Z)(this,"getForm",function(){return{getFieldValue:be.getFieldValue,getFieldsValue:be.getFieldsValue,getFieldError:be.getFieldError,getFieldWarning:be.getFieldWarning,getFieldsError:be.getFieldsError,isFieldsTouched:be.isFieldsTouched,isFieldTouched:be.isFieldTouched,isFieldValidating:be.isFieldValidating,isFieldsValidating:be.isFieldsValidating,resetFields:be.resetFields,setFields:be.setFields,setFieldValue:be.setFieldValue,setFieldsValue:be.setFieldsValue,validateFields:be.validateFields,submit:be.submit,_init:!0,getInternalHooks:be.getInternalHooks}}),(0,Xe.Z)(this,"getInternalHooks",function(Ze){return Ze===St?(be.formHooked=!0,{dispatch:be.dispatch,initEntityValue:be.initEntityValue,registerField:be.registerField,useSubscribe:be.useSubscribe,setInitialValues:be.setInitialValues,destroyForm:be.destroyForm,setCallbacks:be.setCallbacks,setValidateMessages:be.setValidateMessages,getFields:be.getFields,setPreserve:be.setPreserve,getInitialValue:be.getInitialValue,registerWatch:be.registerWatch}):((0,ot.ZP)(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)}),(0,Xe.Z)(this,"useSubscribe",function(Ze){be.subscribable=Ze}),(0,Xe.Z)(this,"prevWithoutPreserves",null),(0,Xe.Z)(this,"setInitialValues",function(Ze,De){if(be.initialValues=Ze||{},De){var $t,tn=(0,Qe.T)(Ze,be.store);($t=be.prevWithoutPreserves)===null||$t===void 0||$t.map(function(Wn){var pr=Wn.key;tn=(0,Qe.Z)(tn,pr,(0,_n.Z)(Ze,pr))}),be.prevWithoutPreserves=null,be.updateStore(tn)}}),(0,Xe.Z)(this,"destroyForm",function(Ze){if(Ze)be.updateStore({});else{var De=new so;be.getFieldEntities(!0).forEach(function($t){be.isMergedPreserve($t.isPreserve())||De.set($t.getNamePath(),!0)}),be.prevWithoutPreserves=De}}),(0,Xe.Z)(this,"getInitialValue",function(Ze){var De=(0,_n.Z)(be.initialValues,Ze);return Ze.length?(0,Qe.T)(De):De}),(0,Xe.Z)(this,"setCallbacks",function(Ze){be.callbacks=Ze}),(0,Xe.Z)(this,"setValidateMessages",function(Ze){be.validateMessages=Ze}),(0,Xe.Z)(this,"setPreserve",function(Ze){be.preserve=Ze}),(0,Xe.Z)(this,"watchList",[]),(0,Xe.Z)(this,"registerWatch",function(Ze){return be.watchList.push(Ze),function(){be.watchList=be.watchList.filter(function(De){return De!==Ze})}}),(0,Xe.Z)(this,"notifyWatch",function(){var Ze=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(be.watchList.length){var De=be.getFieldsValue(),$t=be.getFieldsValue(!0);be.watchList.forEach(function(tn){tn(De,$t,Ze)})}}),(0,Xe.Z)(this,"timeoutId",null),(0,Xe.Z)(this,"warningUnhooked",function(){}),(0,Xe.Z)(this,"updateStore",function(Ze){be.store=Ze}),(0,Xe.Z)(this,"getFieldEntities",function(){var Ze=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return Ze?be.fieldEntities.filter(function(De){return De.getNamePath().length}):be.fieldEntities}),(0,Xe.Z)(this,"getFieldsMap",function(){var Ze=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,De=new so;return be.getFieldEntities(Ze).forEach(function($t){var tn=$t.getNamePath();De.set(tn,$t)}),De}),(0,Xe.Z)(this,"getFieldEntitiesForNamePathList",function(Ze){if(!Ze)return be.getFieldEntities(!0);var De=be.getFieldsMap(!0);return Ze.map(function($t){var tn=Ut($t);return De.get(tn)||{INVALIDATE_NAME_PATH:Ut($t)}})}),(0,Xe.Z)(this,"getFieldsValue",function(Ze,De){be.warningUnhooked();var $t,tn,Wn;if(Ze===!0||Array.isArray(Ze)?($t=Ze,tn=De):Ze&&(0,Ar.Z)(Ze)==="object"&&(Wn=Ze.strict,tn=Ze.filter),$t===!0&&!tn)return be.store;var pr=be.getFieldEntitiesForNamePathList(Array.isArray($t)?$t:null),ir=[];return pr.forEach(function(rr){var Vr,Si,Ci="INVALIDATE_NAME_PATH"in rr?rr.INVALIDATE_NAME_PATH:rr.getNamePath();if(Wn){var pi,wi;if((pi=(wi=rr).isList)!==null&&pi!==void 0&&pi.call(wi))return}else if(!$t&&(Vr=(Si=rr).isListField)!==null&&Vr!==void 0&&Vr.call(Si))return;if(!tn)ir.push(Ci);else{var ti="getMeta"in rr?rr.getMeta():null;tn(ti)&&ir.push(Ci)}}),bn(be.store,ir.map(Ut))}),(0,Xe.Z)(this,"getFieldValue",function(Ze){be.warningUnhooked();var De=Ut(Ze);return(0,_n.Z)(be.store,De)}),(0,Xe.Z)(this,"getFieldsError",function(Ze){be.warningUnhooked();var De=be.getFieldEntitiesForNamePathList(Ze);return De.map(function($t,tn){return $t&&!("INVALIDATE_NAME_PATH"in $t)?{name:$t.getNamePath(),errors:$t.getErrors(),warnings:$t.getWarnings()}:{name:Ut(Ze[tn]),errors:[],warnings:[]}})}),(0,Xe.Z)(this,"getFieldError",function(Ze){be.warningUnhooked();var De=Ut(Ze),$t=be.getFieldsError([De])[0];return $t.errors}),(0,Xe.Z)(this,"getFieldWarning",function(Ze){be.warningUnhooked();var De=Ut(Ze),$t=be.getFieldsError([De])[0];return $t.warnings}),(0,Xe.Z)(this,"isFieldsTouched",function(){be.warningUnhooked();for(var Ze=arguments.length,De=new Array(Ze),$t=0;$t<Ze;$t++)De[$t]=arguments[$t];var tn=De[0],Wn=De[1],pr,ir=!1;De.length===0?pr=null:De.length===1?Array.isArray(tn)?(pr=tn.map(Ut),ir=!1):(pr=null,ir=tn):(pr=tn.map(Ut),ir=Wn);var rr=be.getFieldEntities(!0),Vr=function(ti){return ti.isFieldTouched()};if(!pr)return ir?rr.every(function(wi){return Vr(wi)||wi.isList()}):rr.some(Vr);var Si=new so;pr.forEach(function(wi){Si.set(wi,[])}),rr.forEach(function(wi){var ti=wi.getNamePath();pr.forEach(function(Ri){Ri.every(function($i,yo){return ti[yo]===$i})&&Si.update(Ri,function($i){return[].concat((0,je.Z)($i),[wi])})})});var Ci=function(ti){return ti.some(Vr)},pi=Si.map(function(wi){var ti=wi.value;return ti});return ir?pi.every(Ci):pi.some(Ci)}),(0,Xe.Z)(this,"isFieldTouched",function(Ze){return be.warningUnhooked(),be.isFieldsTouched([Ze])}),(0,Xe.Z)(this,"isFieldsValidating",function(Ze){be.warningUnhooked();var De=be.getFieldEntities();if(!Ze)return De.some(function(tn){return tn.isFieldValidating()});var $t=Ze.map(Ut);return De.some(function(tn){var Wn=tn.getNamePath();return sr($t,Wn)&&tn.isFieldValidating()})}),(0,Xe.Z)(this,"isFieldValidating",function(Ze){return be.warningUnhooked(),be.isFieldsValidating([Ze])}),(0,Xe.Z)(this,"resetWithFieldInitialValue",function(){var Ze=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},De=new so,$t=be.getFieldEntities(!0);$t.forEach(function(pr){var ir=pr.props.initialValue,rr=pr.getNamePath();if(ir!==void 0){var Vr=De.get(rr)||new Set;Vr.add({entity:pr,value:ir}),De.set(rr,Vr)}});var tn=function(ir){ir.forEach(function(rr){var Vr=rr.props.initialValue;if(Vr!==void 0){var Si=rr.getNamePath(),Ci=be.getInitialValue(Si);if(Ci!==void 0)(0,ot.ZP)(!1,"Form already set 'initialValues' with path '".concat(Si.join("."),"'. Field can not overwrite it."));else{var pi=De.get(Si);if(pi&&pi.size>1)(0,ot.ZP)(!1,"Multiple Field with path '".concat(Si.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(pi){var wi=be.getFieldValue(Si),ti=rr.isListField();!ti&&(!Ze.skipExist||wi===void 0)&&be.updateStore((0,Qe.Z)(be.store,Si,(0,je.Z)(pi)[0].value))}}}})},Wn;Ze.entities?Wn=Ze.entities:Ze.namePathList?(Wn=[],Ze.namePathList.forEach(function(pr){var ir=De.get(pr);if(ir){var rr;(rr=Wn).push.apply(rr,(0,je.Z)((0,je.Z)(ir).map(function(Vr){return Vr.entity})))}})):Wn=$t,tn(Wn)}),(0,Xe.Z)(this,"resetFields",function(Ze){be.warningUnhooked();var De=be.store;if(!Ze){be.updateStore((0,Qe.T)(be.initialValues)),be.resetWithFieldInitialValue(),be.notifyObservers(De,null,{type:"reset"}),be.notifyWatch();return}var $t=Ze.map(Ut);$t.forEach(function(tn){var Wn=be.getInitialValue(tn);be.updateStore((0,Qe.Z)(be.store,tn,Wn))}),be.resetWithFieldInitialValue({namePathList:$t}),be.notifyObservers(De,$t,{type:"reset"}),be.notifyWatch($t)}),(0,Xe.Z)(this,"setFields",function(Ze){be.warningUnhooked();var De=be.store,$t=[];Ze.forEach(function(tn){var Wn=tn.name,pr=(0,J.Z)(tn,to),ir=Ut(Wn);$t.push(ir),"value"in pr&&be.updateStore((0,Qe.Z)(be.store,ir,pr.value)),be.notifyObservers(De,[ir],{type:"setField",data:tn})}),be.notifyWatch($t)}),(0,Xe.Z)(this,"getFields",function(){var Ze=be.getFieldEntities(!0),De=Ze.map(function($t){var tn=$t.getNamePath(),Wn=$t.getMeta(),pr=(0,He.Z)((0,He.Z)({},Wn),{},{name:tn,value:be.getFieldValue(tn)});return Object.defineProperty(pr,"originRCField",{value:!0}),pr});return De}),(0,Xe.Z)(this,"initEntityValue",function(Ze){var De=Ze.props.initialValue;if(De!==void 0){var $t=Ze.getNamePath(),tn=(0,_n.Z)(be.store,$t);tn===void 0&&be.updateStore((0,Qe.Z)(be.store,$t,De))}}),(0,Xe.Z)(this,"isMergedPreserve",function(Ze){var De=Ze!==void 0?Ze:be.preserve;return De!=null?De:!0}),(0,Xe.Z)(this,"registerField",function(Ze){be.fieldEntities.push(Ze);var De=Ze.getNamePath();if(be.notifyWatch([De]),Ze.props.initialValue!==void 0){var $t=be.store;be.resetWithFieldInitialValue({entities:[Ze],skipExist:!0}),be.notifyObservers($t,[Ze.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(tn,Wn){var pr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(be.fieldEntities=be.fieldEntities.filter(function(Vr){return Vr!==Ze}),!be.isMergedPreserve(Wn)&&(!tn||pr.length>1)){var ir=tn?void 0:be.getInitialValue(De);if(De.length&&be.getFieldValue(De)!==ir&&be.fieldEntities.every(function(Vr){return!Yr(Vr.getNamePath(),De)})){var rr=be.store;be.updateStore((0,Qe.Z)(rr,De,ir,!0)),be.notifyObservers(rr,[De],{type:"remove"}),be.triggerDependenciesUpdate(rr,De)}}be.notifyWatch([De])}}),(0,Xe.Z)(this,"dispatch",function(Ze){switch(Ze.type){case"updateValue":{var De=Ze.namePath,$t=Ze.value;be.updateValue(De,$t);break}case"validateField":{var tn=Ze.namePath,Wn=Ze.triggerName;be.validateFields([tn],{triggerName:Wn});break}default:}}),(0,Xe.Z)(this,"notifyObservers",function(Ze,De,$t){if(be.subscribable){var tn=(0,He.Z)((0,He.Z)({},$t),{},{store:be.getFieldsValue(!0)});be.getFieldEntities().forEach(function(Wn){var pr=Wn.onStoreChange;pr(Ze,De,tn)})}else be.forceRootUpdate()}),(0,Xe.Z)(this,"triggerDependenciesUpdate",function(Ze,De){var $t=be.getDependencyChildrenFields(De);return $t.length&&be.validateFields($t),be.notifyObservers(Ze,$t,{type:"dependenciesUpdate",relatedFields:[De].concat((0,je.Z)($t))}),$t}),(0,Xe.Z)(this,"updateValue",function(Ze,De){var $t=Ut(Ze),tn=be.store;be.updateStore((0,Qe.Z)(be.store,$t,De)),be.notifyObservers(tn,[$t],{type:"valueUpdate",source:"internal"}),be.notifyWatch([$t]);var Wn=be.triggerDependenciesUpdate(tn,$t),pr=be.callbacks.onValuesChange;if(pr){var ir=bn(be.store,[$t]);pr(ir,be.getFieldsValue())}be.triggerOnFieldsChange([$t].concat((0,je.Z)(Wn)))}),(0,Xe.Z)(this,"setFieldsValue",function(Ze){be.warningUnhooked();var De=be.store;if(Ze){var $t=(0,Qe.T)(be.store,Ze);be.updateStore($t)}be.notifyObservers(De,null,{type:"valueUpdate",source:"external"}),be.notifyWatch()}),(0,Xe.Z)(this,"setFieldValue",function(Ze,De){be.setFields([{name:Ze,value:De,errors:[],warnings:[]}])}),(0,Xe.Z)(this,"getDependencyChildrenFields",function(Ze){var De=new Set,$t=[],tn=new so;be.getFieldEntities().forEach(function(pr){var ir=pr.props.dependencies;(ir||[]).forEach(function(rr){var Vr=Ut(rr);tn.update(Vr,function(){var Si=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return Si.add(pr),Si})})});var Wn=function pr(ir){var rr=tn.get(ir)||new Set;rr.forEach(function(Vr){if(!De.has(Vr)){De.add(Vr);var Si=Vr.getNamePath();Vr.isFieldDirty()&&Si.length&&($t.push(Si),pr(Si))}})};return Wn(Ze),$t}),(0,Xe.Z)(this,"triggerOnFieldsChange",function(Ze,De){var $t=be.callbacks.onFieldsChange;if($t){var tn=be.getFields();if(De){var Wn=new so;De.forEach(function(ir){var rr=ir.name,Vr=ir.errors;Wn.set(rr,Vr)}),tn.forEach(function(ir){ir.errors=Wn.get(ir.name)||ir.errors})}var pr=tn.filter(function(ir){var rr=ir.name;return sr(Ze,rr)});pr.length&&$t(pr,tn)}}),(0,Xe.Z)(this,"validateFields",function(Ze,De){be.warningUnhooked();var $t,tn;Array.isArray(Ze)||typeof Ze=="string"||typeof De=="string"?($t=Ze,tn=De):tn=Ze;var Wn=!!$t,pr=Wn?$t.map(Ut):[],ir=[],rr=String(Date.now()),Vr=new Set,Si=tn||{},Ci=Si.recursive,pi=Si.dirty;be.getFieldEntities(!0).forEach(function($i){if(Wn||pr.push($i.getNamePath()),!(!$i.props.rules||!$i.props.rules.length)&&!(pi&&!$i.isFieldDirty())){var yo=$i.getNamePath();if(Vr.add(yo.join(rr)),!Wn||sr(pr,yo,Ci)){var Qo=$i.validateRules((0,He.Z)({validateMessages:(0,He.Z)((0,He.Z)({},rt),be.validateMessages)},tn));ir.push(Qo.then(function(){return{name:yo,errors:[],warnings:[]}}).catch(function(aa){var Ea,Ma=[],wa=[];return(Ea=aa.forEach)===null||Ea===void 0||Ea.call(aa,function(Ca){var Za=Ca.rule.warningOnly,ca=Ca.errors;Za?wa.push.apply(wa,(0,je.Z)(ca)):Ma.push.apply(Ma,(0,je.Z)(ca))}),Ma.length?Promise.reject({name:yo,errors:Ma,warnings:wa}):{name:yo,errors:Ma,warnings:wa}}))}}});var wi=qo(ir);be.lastValidatePromise=wi,wi.catch(function($i){return $i}).then(function($i){var yo=$i.map(function(Qo){var aa=Qo.name;return aa});be.notifyObservers(be.store,yo,{type:"validateFinish"}),be.triggerOnFieldsChange(yo,$i)});var ti=wi.then(function(){return be.lastValidatePromise===wi?Promise.resolve(be.getFieldsValue(pr)):Promise.reject([])}).catch(function($i){var yo=$i.filter(function(Qo){return Qo&&Qo.errors.length});return Promise.reject({values:be.getFieldsValue(pr),errorFields:yo,outOfDate:be.lastValidatePromise!==wi})});ti.catch(function($i){return $i});var Ri=pr.filter(function($i){return Vr.has($i.join(rr))});return be.triggerOnFieldsChange(Ri),ti}),(0,Xe.Z)(this,"submit",function(){be.warningUnhooked(),be.validateFields().then(function(Ze){var De=be.callbacks.onFinish;if(De)try{De(Ze)}catch($t){console.error($t)}}).catch(function(Ze){var De=be.callbacks.onFinishFailed;De&&De(Ze)})}),this.forceRootUpdate=Ve});function Pr(en){var Ve=s.useRef(),be=s.useState({}),Ze=(0,zo.Z)(be,2),De=Ze[1];if(!Ve.current)if(en)Ve.current=en;else{var $t=function(){De({})},tn=new ko($t);Ve.current=tn.getForm()}return[Ve.current]}var Ho=Pr,ha=s.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),za=function(Ve){var be=Ve.validateMessages,Ze=Ve.onFormChange,De=Ve.onFormFinish,$t=Ve.children,tn=s.useContext(ha),Wn=s.useRef({});return s.createElement(ha.Provider,{value:(0,He.Z)((0,He.Z)({},tn),{},{validateMessages:(0,He.Z)((0,He.Z)({},tn.validateMessages),be),triggerFormChange:function(ir,rr){Ze&&Ze(ir,{changedFields:rr,forms:Wn.current}),tn.triggerFormChange(ir,rr)},triggerFormFinish:function(ir,rr){De&&De(ir,{values:rr,forms:Wn.current}),tn.triggerFormFinish(ir,rr)},registerForm:function(ir,rr){ir&&(Wn.current=(0,He.Z)((0,He.Z)({},Wn.current),{},(0,Xe.Z)({},ir,rr))),tn.registerForm(ir,rr)},unregisterForm:function(ir){var rr=(0,He.Z)({},Wn.current);delete rr[ir],Wn.current=rr,tn.unregisterForm(ir)}})},$t)},Vi=ha,ma=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed","clearOnDestroy"],qa=function(Ve,be){var Ze=Ve.name,De=Ve.initialValues,$t=Ve.fields,tn=Ve.form,Wn=Ve.preserve,pr=Ve.children,ir=Ve.component,rr=ir===void 0?"form":ir,Vr=Ve.validateMessages,Si=Ve.validateTrigger,Ci=Si===void 0?"onChange":Si,pi=Ve.onValuesChange,wi=Ve.onFieldsChange,ti=Ve.onFinish,Ri=Ve.onFinishFailed,$i=Ve.clearOnDestroy,yo=(0,J.Z)(Ve,ma),Qo=s.useRef(null),aa=s.useContext(Vi),Ea=Ho(tn),Ma=(0,zo.Z)(Ea,1),wa=Ma[0],Ca=wa.getInternalHooks(St),Za=Ca.useSubscribe,ca=Ca.setInitialValues,cs=Ca.setCallbacks,Va=Ca.setValidateMessages,as=Ca.setPreserve,nl=Ca.destroyForm;s.useImperativeHandle(be,function(){return(0,He.Z)((0,He.Z)({},wa),{},{nativeElement:Qo.current})}),s.useEffect(function(){return aa.registerForm(Ze,wa),function(){aa.unregisterForm(Ze)}},[aa,wa,Ze]),Va((0,He.Z)((0,He.Z)({},aa.validateMessages),Vr)),cs({onValuesChange:pi,onFieldsChange:function(Jo){if(aa.triggerFormChange(Ze,Jo),wi){for(var ys=arguments.length,Fs=new Array(ys>1?ys-1:0),rc=1;rc<ys;rc++)Fs[rc-1]=arguments[rc];wi.apply(void 0,[Jo].concat(Fs))}},onFinish:function(Jo){aa.triggerFormFinish(Ze,Jo),ti&&ti(Jo)},onFinishFailed:Ri}),as(Wn);var cl=s.useRef(null);ca(De,!cl.current),cl.current||(cl.current=!0),s.useEffect(function(){return function(){return nl($i)}},[]);var Nl,Hs=typeof pr=="function";if(Hs){var Bl=wa.getFieldsValue(!0);Nl=pr(Bl,wa)}else Nl=pr;Za(!Hs);var wc=s.useRef();s.useEffect(function(){Ti(wc.current||[],$t||[])||wa.setFields($t||[]),wc.current=$t},[$t,wa]);var ua=s.useMemo(function(){return(0,He.Z)((0,He.Z)({},wa),{},{validateTrigger:Ci})},[wa,Ci]),Ha=s.createElement(Ft.Provider,{value:null},s.createElement(Qt.Provider,{value:ua},Nl));return rr===!1?Ha:s.createElement(rr,(0,ht.Z)({},yo,{ref:Qo,onSubmit:function(Jo){Jo.preventDefault(),Jo.stopPropagation(),wa.submit()},onReset:function(Jo){var ys;Jo.preventDefault(),wa.resetFields(),(ys=yo.onReset)===null||ys===void 0||ys.call(yo,Jo)}}),Ha)},Jr=qa;function vo(en){try{return JSON.stringify(en)}catch(Ve){return Math.random()}}var Ao=function(){};function Yo(){for(var en=arguments.length,Ve=new Array(en),be=0;be<en;be++)Ve[be]=arguments[be];var Ze=Ve[0],De=Ve[1],$t=De===void 0?{}:De,tn=Ht($t)?{form:$t}:$t,Wn=tn.form,pr=(0,s.useState)(),ir=(0,zo.Z)(pr,2),rr=ir[0],Vr=ir[1],Si=(0,s.useMemo)(function(){return vo(rr)},[rr]),Ci=(0,s.useRef)(Si);Ci.current=Si;var pi=(0,s.useContext)(Qt),wi=Wn||pi,ti=wi&&wi._init,Ri=Ut(Ze),$i=(0,s.useRef)(Ri);return $i.current=Ri,Ao(Ri),(0,s.useEffect)(function(){if(ti){var yo=wi.getFieldsValue,Qo=wi.getInternalHooks,aa=Qo(St),Ea=aa.registerWatch,Ma=function(ca,cs){var Va=tn.preserve?cs:ca;return typeof Ze=="function"?Ze(Va):(0,_n.Z)(Va,$i.current)},wa=Ea(function(Za,ca){var cs=Ma(Za,ca),Va=vo(cs);Ci.current!==Va&&(Ci.current=Va,Vr(cs))}),Ca=Ma(yo(),yo(!0));return rr!==Ca&&Vr(Ca),wa}},[ti]),rr}var co=Yo,Ai=s.forwardRef(Jr),ga=Ai;ga.FormProvider=za,ga.Field=$o,ga.List=Oo,ga.useForm=Ho,ga.useWatch=co;var jo=ga},88555:function(Qr,Jt,j){"use strict";j.d(Jt,{Z:function(){return je}});var s=j(58190),ht=j(54153),J=j(5147),u=j(75271),Ie=["show"];function He(Le,_e){if(!_e.max)return!0;var oe=_e.strategy(Le);return oe<=_e.max}function je(Le,_e){return u.useMemo(function(){var oe={};_e&&(oe.show=(0,J.Z)(_e)==="object"&&_e.formatter?_e.formatter:!!_e),oe=(0,ht.Z)((0,ht.Z)({},oe),Le);var Ye=oe,ke=Ye.show,Xe=(0,s.Z)(Ye,Ie);return(0,ht.Z)((0,ht.Z)({},Xe),{},{show:!!ke,showFormatter:typeof ke=="function"?ke:void 0,strategy:Xe.strategy||function(at){return at.length}})},[Le,_e])}},44885:function(Qr,Jt,j){"use strict";j.d(Jt,{Q:function(){return oe},Z:function(){return Qt}});var s=j(54153),ht=j(23022),J=j(38926),u=j(5147),Ie=j(82187),He=j.n(Ie),je=j(75271),Le=j(68677),_e=je.forwardRef(function(Pt,Ft){var Xt,Ht,Ar,Cr=Pt.inputElement,Dr=Pt.children,Ue=Pt.prefixCls,sn=Pt.prefix,Bn=Pt.suffix,En=Pt.addonBefore,Be=Pt.addonAfter,Gn=Pt.className,In=Pt.style,Rn=Pt.disabled,pt=Pt.readOnly,an=Pt.focused,Tn=Pt.triggerFocus,me=Pt.allowClear,nn=Pt.value,bi=Pt.handleReset,ui=Pt.hidden,$e=Pt.classes,Mn=Pt.classNames,Kr=Pt.dataAttrs,jr=Pt.styles,Sn=Pt.components,Fr=Pt.onClear,Ii=Dr!=null?Dr:Cr,fr=(Sn==null?void 0:Sn.affixWrapper)||"span",st=(Sn==null?void 0:Sn.groupWrapper)||"span",jt=(Sn==null?void 0:Sn.wrapper)||"span",Fn=(Sn==null?void 0:Sn.groupAddon)||"span",un=(0,je.useRef)(null),pn=function(_i){var fi;(fi=un.current)!==null&&fi!==void 0&&fi.contains(_i.target)&&(Tn==null||Tn())},Sr=(0,Le.X3)(Pt),Vn=(0,je.cloneElement)(Ii,{value:nn,className:He()((Xt=Ii.props)===null||Xt===void 0?void 0:Xt.className,!Sr&&(Mn==null?void 0:Mn.variant))||null}),Xr=(0,je.useRef)(null);if(je.useImperativeHandle(Ft,function(){return{nativeElement:Xr.current||un.current}}),Sr){var ri=null;if(me){var Zr=!Rn&&!pt&&nn,ei="".concat(Ue,"-clear-icon"),vr=(0,u.Z)(me)==="object"&&me!==null&&me!==void 0&&me.clearIcon?me.clearIcon:"\u2716";ri=je.createElement("button",{type:"button",tabIndex:-1,onClick:function(_i){bi==null||bi(_i),Fr==null||Fr()},onMouseDown:function(_i){return _i.preventDefault()},className:He()(ei,(0,J.Z)((0,J.Z)({},"".concat(ei,"-hidden"),!Zr),"".concat(ei,"-has-suffix"),!!Bn))},vr)}var hr="".concat(Ue,"-affix-wrapper"),ur=He()(hr,(0,J.Z)((0,J.Z)((0,J.Z)((0,J.Z)((0,J.Z)({},"".concat(Ue,"-disabled"),Rn),"".concat(hr,"-disabled"),Rn),"".concat(hr,"-focused"),an),"".concat(hr,"-readonly"),pt),"".concat(hr,"-input-with-clear-btn"),Bn&&me&&nn),$e==null?void 0:$e.affixWrapper,Mn==null?void 0:Mn.affixWrapper,Mn==null?void 0:Mn.variant),wr=(Bn||me)&&je.createElement("span",{className:He()("".concat(Ue,"-suffix"),Mn==null?void 0:Mn.suffix),style:jr==null?void 0:jr.suffix},ri,Bn);Vn=je.createElement(fr,(0,ht.Z)({className:ur,style:jr==null?void 0:jr.affixWrapper,onClick:pn},Kr==null?void 0:Kr.affixWrapper,{ref:un}),sn&&je.createElement("span",{className:He()("".concat(Ue,"-prefix"),Mn==null?void 0:Mn.prefix),style:jr==null?void 0:jr.prefix},sn),Vn,wr)}if((0,Le.He)(Pt)){var yr="".concat(Ue,"-group"),Nr="".concat(yr,"-addon"),Xn="".concat(yr,"-wrapper"),lr=He()("".concat(Ue,"-wrapper"),yr,$e==null?void 0:$e.wrapper,Mn==null?void 0:Mn.wrapper),Ur=He()(Xn,(0,J.Z)({},"".concat(Xn,"-disabled"),Rn),$e==null?void 0:$e.group,Mn==null?void 0:Mn.groupWrapper);Vn=je.createElement(st,{className:Ur,ref:Xr},je.createElement(jt,{className:lr},En&&je.createElement(Fn,{className:Nr},En),Vn,Be&&je.createElement(Fn,{className:Nr},Be)))}return je.cloneElement(Vn,{className:He()((Ht=Vn.props)===null||Ht===void 0?void 0:Ht.className,Gn)||null,style:(0,s.Z)((0,s.Z)({},(Ar=Vn.props)===null||Ar===void 0?void 0:Ar.style),In),hidden:ui})}),oe=_e,Ye=j(46865),ke=j(89692),Xe=j(58190),at=j(93954),xt=j(18051),ot=j(88555),St=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","onKeyUp","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","count","type","classes","classNames","styles","onCompositionStart","onCompositionEnd"],Ot=(0,je.forwardRef)(function(Pt,Ft){var Xt=Pt.autoComplete,Ht=Pt.onChange,Ar=Pt.onFocus,Cr=Pt.onBlur,Dr=Pt.onPressEnter,Ue=Pt.onKeyDown,sn=Pt.onKeyUp,Bn=Pt.prefixCls,En=Bn===void 0?"rc-input":Bn,Be=Pt.disabled,Gn=Pt.htmlSize,In=Pt.className,Rn=Pt.maxLength,pt=Pt.suffix,an=Pt.showCount,Tn=Pt.count,me=Pt.type,nn=me===void 0?"text":me,bi=Pt.classes,ui=Pt.classNames,$e=Pt.styles,Mn=Pt.onCompositionStart,Kr=Pt.onCompositionEnd,jr=(0,Xe.Z)(Pt,St),Sn=(0,je.useState)(!1),Fr=(0,ke.Z)(Sn,2),Ii=Fr[0],fr=Fr[1],st=(0,je.useRef)(!1),jt=(0,je.useRef)(!1),Fn=(0,je.useRef)(null),un=(0,je.useRef)(null),pn=function($r){Fn.current&&(0,Le.nH)(Fn.current,$r)},Sr=(0,at.Z)(Pt.defaultValue,{value:Pt.value}),Vn=(0,ke.Z)(Sr,2),Xr=Vn[0],ri=Vn[1],Zr=Xr==null?"":String(Xr),ei=(0,je.useState)(null),vr=(0,ke.Z)(ei,2),hr=vr[0],ur=vr[1],wr=(0,ot.Z)(Tn,an),yr=wr.max||Rn,Nr=wr.strategy(Zr),Xn=!!yr&&Nr>yr;(0,je.useImperativeHandle)(Ft,function(){var Jn;return{focus:pn,blur:function(){var li;(li=Fn.current)===null||li===void 0||li.blur()},setSelectionRange:function(li,ii,Ki){var eo;(eo=Fn.current)===null||eo===void 0||eo.setSelectionRange(li,ii,Ki)},select:function(){var li;(li=Fn.current)===null||li===void 0||li.select()},input:Fn.current,nativeElement:((Jn=un.current)===null||Jn===void 0?void 0:Jn.nativeElement)||Fn.current}}),(0,je.useEffect)(function(){jt.current&&(jt.current=!1),fr(function(Jn){return Jn&&Be?!1:Jn})},[Be]);var lr=function($r,li,ii){var Ki=li;if(!st.current&&wr.exceedFormatter&&wr.max&&wr.strategy(li)>wr.max){if(Ki=wr.exceedFormatter(li,{max:wr.max}),li!==Ki){var eo,Ro;ur([((eo=Fn.current)===null||eo===void 0?void 0:eo.selectionStart)||0,((Ro=Fn.current)===null||Ro===void 0?void 0:Ro.selectionEnd)||0])}}else if(ii.source==="compositionEnd")return;ri(Ki),Fn.current&&(0,Le.rJ)(Fn.current,$r,Ht,Ki)};(0,je.useEffect)(function(){if(hr){var Jn;(Jn=Fn.current)===null||Jn===void 0||Jn.setSelectionRange.apply(Jn,(0,Ye.Z)(hr))}},[hr]);var Ur=function($r){lr($r,$r.target.value,{source:"change"})},Ln=function($r){st.current=!1,lr($r,$r.currentTarget.value,{source:"compositionEnd"}),Kr==null||Kr($r)},_i=function($r){Dr&&$r.key==="Enter"&&!jt.current&&(jt.current=!0,Dr($r)),Ue==null||Ue($r)},fi=function($r){$r.key==="Enter"&&(jt.current=!1),sn==null||sn($r)},Wi=function($r){fr(!0),Ar==null||Ar($r)},po=function($r){jt.current&&(jt.current=!1),fr(!1),Cr==null||Cr($r)},kr=function($r){ri(""),pn(),Fn.current&&(0,Le.rJ)(Fn.current,$r,Ht)},no=Xn&&"".concat(En,"-out-of-range"),qt=function(){var $r=(0,xt.Z)(Pt,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","count","classes","htmlSize","styles","classNames","onClear"]);return je.createElement("input",(0,ht.Z)({autoComplete:Xt},$r,{onChange:Ur,onFocus:Wi,onBlur:po,onKeyDown:_i,onKeyUp:fi,className:He()(En,(0,J.Z)({},"".concat(En,"-disabled"),Be),ui==null?void 0:ui.input),style:$e==null?void 0:$e.input,ref:Fn,size:Gn,type:nn,onCompositionStart:function(ii){st.current=!0,Mn==null||Mn(ii)},onCompositionEnd:Ln}))},xn=function(){var $r=Number(yr)>0;if(pt||wr.show){var li=wr.showFormatter?wr.showFormatter({value:Zr,count:Nr,maxLength:yr}):"".concat(Nr).concat($r?" / ".concat(yr):"");return je.createElement(je.Fragment,null,wr.show&&je.createElement("span",{className:He()("".concat(En,"-show-count-suffix"),(0,J.Z)({},"".concat(En,"-show-count-has-suffix"),!!pt),ui==null?void 0:ui.count),style:(0,s.Z)({},$e==null?void 0:$e.count)},li),pt)}return null};return je.createElement(oe,(0,ht.Z)({},jr,{prefixCls:En,className:He()(In,no),handleReset:kr,value:Zr,focused:Ii,triggerFocus:pn,suffix:xn(),disabled:Be,classes:bi,classNames:ui,styles:$e}),qt())}),Ge=Ot,Qt=Ge},68677:function(Qr,Jt,j){"use strict";j.d(Jt,{He:function(){return s},X3:function(){return ht},nH:function(){return Ie},rJ:function(){return u}});function s(He){return!!(He.addonBefore||He.addonAfter)}function ht(He){return!!(He.prefix||He.suffix||He.allowClear)}function J(He,je,Le){var _e=je.cloneNode(!0),oe=Object.create(He,{target:{value:_e},currentTarget:{value:_e}});return _e.value=Le,typeof je.selectionStart=="number"&&typeof je.selectionEnd=="number"&&(_e.selectionStart=je.selectionStart,_e.selectionEnd=je.selectionEnd),_e.setSelectionRange=function(){je.setSelectionRange.apply(je,arguments)},oe}function u(He,je,Le,_e){if(Le){var oe=je;if(je.type==="click"){oe=J(je,He,""),Le(oe);return}if(He.type!=="file"&&_e!==void 0){oe=J(je,He,_e),Le(oe);return}Le(oe)}}function Ie(He,je){if(He){He.focus(je);var Le=je||{},_e=Le.cursor;if(_e){var oe=He.value.length;switch(_e){case"start":He.setSelectionRange(0,0);break;case"end":He.setSelectionRange(oe,oe);break;default:He.setSelectionRange(0,oe)}}}}},18507:function(Qr,Jt){"use strict";var j={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"};Jt.Z=j},21125:function(Qr,Jt,j){"use strict";j.d(Jt,{ZP:function(){return je}});var s=j(89692),ht=j(75271),J=j(18415),u=0,Ie=(0,J.Z)();function He(){var Le;return Ie?(Le=u,u+=1):Le="TEST_OR_SSR",Le}function je(Le){var _e=ht.useState(),oe=(0,s.Z)(_e,2),Ye=oe[0],ke=oe[1];return ht.useEffect(function(){ke("rc_select_".concat(He()))},[]),Le||Ye}},12321:function(Qr,Jt,j){"use strict";j.d(Jt,{Ac:function(){return Xn},Xo:function(){return Ur},Wx:function(){return _i},ZP:function(){return Kt},lk:function(){return Qt}});var s=j(23022),ht=j(46865),J=j(38926),u=j(54153),Ie=j(89692),He=j(58190),je=j(5147),Le=j(93954),_e=j(4449),oe=j(75271),Ye=j(82187),ke=j.n(Ye),Xe=j(92076),at=j(21611),xt=j(42684),ot=function(Qe){var gn=Qe.className,mn=Qe.customizeIcon,kn=Qe.customizeIconProps,br=Qe.children,ar=Qe.onMouseDown,Mr=Qe.onClick,qr=typeof mn=="function"?mn(kn):mn;return oe.createElement("span",{className:gn,onMouseDown:function(Zi){Zi.preventDefault(),ar==null||ar(Zi)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:Mr,"aria-hidden":!0},qr!==void 0?qr:oe.createElement("span",{className:ke()(gn.split(/\s+/).map(function(oi){return"".concat(oi,"-icon")}))},br))},St=ot,Ot=function(Qe,gn,mn,kn,br){var ar=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,Mr=arguments.length>6?arguments[6]:void 0,qr=arguments.length>7?arguments[7]:void 0,oi=oe.useMemo(function(){if((0,je.Z)(kn)==="object")return kn.clearIcon;if(br)return br},[kn,br]),Zi=oe.useMemo(function(){return!!(!ar&&kn&&(mn.length||Mr)&&!(qr==="combobox"&&Mr===""))},[kn,ar,mn.length,Mr,qr]);return{allowClear:Zi,clearIcon:oe.createElement(St,{className:"".concat(Qe,"-clear"),onMouseDown:gn,customizeIcon:oi},"\xD7")}},Ge=oe.createContext(null);function Qt(){return oe.useContext(Ge)}function Pt(){var rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,Qe=oe.useState(!1),gn=(0,Ie.Z)(Qe,2),mn=gn[0],kn=gn[1],br=oe.useRef(null),ar=function(){window.clearTimeout(br.current)};oe.useEffect(function(){return ar},[]);var Mr=function(oi,Zi){ar(),br.current=window.setTimeout(function(){kn(oi),Zi&&Zi()},rt)};return[mn,Mr,ar]}function Ft(){var rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,Qe=oe.useRef(null),gn=oe.useRef(null);oe.useEffect(function(){return function(){window.clearTimeout(gn.current)}},[]);function mn(kn){(kn||Qe.current===null)&&(Qe.current=kn),window.clearTimeout(gn.current),gn.current=window.setTimeout(function(){Qe.current=null},rt)}return[function(){return Qe.current},mn]}function Xt(rt,Qe,gn,mn){var kn=oe.useRef(null);kn.current={open:Qe,triggerOpen:gn,customizedTrigger:mn},oe.useEffect(function(){function br(ar){var Mr;if(!((Mr=kn.current)!==null&&Mr!==void 0&&Mr.customizedTrigger)){var qr=ar.target;qr.shadowRoot&&ar.composed&&(qr=ar.composedPath()[0]||qr),kn.current.open&&rt().filter(function(oi){return oi}).every(function(oi){return!oi.contains(qr)&&oi!==qr})&&kn.current.triggerOpen(!1)}}return window.addEventListener("mousedown",br),function(){return window.removeEventListener("mousedown",br)}},[])}var Ht=j(14583);function Ar(rt){return rt&&![Ht.Z.ESC,Ht.Z.SHIFT,Ht.Z.BACKSPACE,Ht.Z.TAB,Ht.Z.WIN_KEY,Ht.Z.ALT,Ht.Z.META,Ht.Z.WIN_KEY_RIGHT,Ht.Z.CTRL,Ht.Z.SEMICOLON,Ht.Z.EQUALS,Ht.Z.CAPS_LOCK,Ht.Z.CONTEXT_MENU,Ht.Z.F1,Ht.Z.F2,Ht.Z.F3,Ht.Z.F4,Ht.Z.F5,Ht.Z.F6,Ht.Z.F7,Ht.Z.F8,Ht.Z.F9,Ht.Z.F10,Ht.Z.F11,Ht.Z.F12].includes(rt)}var Cr=j(71305),Dr=j(50009),Ue=function(Qe,gn){var mn,kn=Qe.prefixCls,br=Qe.id,ar=Qe.inputElement,Mr=Qe.disabled,qr=Qe.tabIndex,oi=Qe.autoFocus,Zi=Qe.autoComplete,ft=Qe.editable,_n=Qe.activeDescendantId,Ut=Qe.value,bn=Qe.maxLength,sr=Qe.onKeyDown,Yr=Qe.onMouseDown,Ti=Qe.onChange,ho=Qe.onPaste,zi=Qe.onCompositionStart,Ji=Qe.onCompositionEnd,uo=Qe.onBlur,Ni=Qe.open,Po=Qe.attrs,Vo=ar||oe.createElement("input",null),$o=Vo,_o=$o.ref,Oo=$o.props,zo=Oo.onKeyDown,qo=Oo.onChange,oo=Oo.onMouseDown,wo=Oo.onCompositionStart,go=Oo.onCompositionEnd,so=Oo.onBlur,to=Oo.style;return(0,_e.Kp)(!("maxLength"in Vo.props),"Passing 'maxLength' to input element directly may not work because input in BaseSelect is controlled."),Vo=oe.cloneElement(Vo,(0,u.Z)((0,u.Z)((0,u.Z)({type:"search"},Oo),{},{id:br,ref:(0,xt.sQ)(gn,_o),disabled:Mr,tabIndex:qr,autoComplete:Zi||"off",autoFocus:oi,className:ke()("".concat(kn,"-selection-search-input"),(mn=Vo)===null||mn===void 0||(mn=mn.props)===null||mn===void 0?void 0:mn.className),role:"combobox","aria-expanded":Ni||!1,"aria-haspopup":"listbox","aria-owns":"".concat(br,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(br,"_list"),"aria-activedescendant":Ni?_n:void 0},Po),{},{value:ft?Ut:"",maxLength:bn,readOnly:!ft,unselectable:ft?null:"on",style:(0,u.Z)((0,u.Z)({},to),{},{opacity:ft?null:0}),onKeyDown:function(Pr){sr(Pr),zo&&zo(Pr)},onMouseDown:function(Pr){Yr(Pr),oo&&oo(Pr)},onChange:function(Pr){Ti(Pr),qo&&qo(Pr)},onCompositionStart:function(Pr){zi(Pr),wo&&wo(Pr)},onCompositionEnd:function(Pr){Ji(Pr),go&&go(Pr)},onPaste:ho,onBlur:function(Pr){uo(Pr),so&&so(Pr)}})),Vo},sn=oe.forwardRef(Ue),Bn=sn;function En(rt){return Array.isArray(rt)?rt:rt!==void 0?[rt]:[]}var Be=typeof window!="undefined"&&window.document&&window.document.documentElement,Gn=Be;function In(rt){return rt!=null}function Rn(rt){return!rt&&rt!==0}function pt(rt){return["string","number"].includes((0,je.Z)(rt))}function an(rt){var Qe=void 0;return rt&&(pt(rt.title)?Qe=rt.title.toString():pt(rt.label)&&(Qe=rt.label.toString())),Qe}function Tn(rt,Qe){Gn?oe.useLayoutEffect(rt,Qe):oe.useEffect(rt,Qe)}function me(rt){var Qe;return(Qe=rt.key)!==null&&Qe!==void 0?Qe:rt.value}var nn=function(Qe){Qe.preventDefault(),Qe.stopPropagation()},bi=function(Qe){var gn=Qe.id,mn=Qe.prefixCls,kn=Qe.values,br=Qe.open,ar=Qe.searchValue,Mr=Qe.autoClearSearchValue,qr=Qe.inputRef,oi=Qe.placeholder,Zi=Qe.disabled,ft=Qe.mode,_n=Qe.showSearch,Ut=Qe.autoFocus,bn=Qe.autoComplete,sr=Qe.activeDescendantId,Yr=Qe.tabIndex,Ti=Qe.removeIcon,ho=Qe.maxTagCount,zi=Qe.maxTagTextLength,Ji=Qe.maxTagPlaceholder,uo=Ji===void 0?function(jo){return"+ ".concat(jo.length," ...")}:Ji,Ni=Qe.tagRender,Po=Qe.onToggleOpen,Vo=Qe.onRemove,$o=Qe.onInputChange,_o=Qe.onInputPaste,Oo=Qe.onInputKeyDown,zo=Qe.onInputMouseDown,qo=Qe.onInputCompositionStart,oo=Qe.onInputCompositionEnd,wo=Qe.onInputBlur,go=oe.useRef(null),so=(0,oe.useState)(0),to=(0,Ie.Z)(so,2),ko=to[0],Pr=to[1],Ho=(0,oe.useState)(!1),ha=(0,Ie.Z)(Ho,2),za=ha[0],Vi=ha[1],ma="".concat(mn,"-selection"),qa=br||ft==="multiple"&&Mr===!1||ft==="tags"?ar:"",Jr=ft==="tags"||ft==="multiple"&&Mr===!1||_n&&(br||za);Tn(function(){Pr(go.current.scrollWidth)},[qa]);var vo=function(en,Ve,be,Ze,De){return oe.createElement("span",{title:an(en),className:ke()("".concat(ma,"-item"),(0,J.Z)({},"".concat(ma,"-item-disabled"),be))},oe.createElement("span",{className:"".concat(ma,"-item-content")},Ve),Ze&&oe.createElement(St,{className:"".concat(ma,"-item-remove"),onMouseDown:nn,onClick:De,customizeIcon:Ti},"\xD7"))},Ao=function(en,Ve,be,Ze,De,$t){var tn=function(pr){nn(pr),Po(!br)};return oe.createElement("span",{onMouseDown:tn},Ni({label:Ve,value:en,disabled:be,closable:Ze,onClose:De,isMaxTag:!!$t}))},Yo=function(en){var Ve=en.disabled,be=en.label,Ze=en.value,De=!Zi&&!Ve,$t=be;if(typeof zi=="number"&&(typeof be=="string"||typeof be=="number")){var tn=String($t);tn.length>zi&&($t="".concat(tn.slice(0,zi),"..."))}var Wn=function(ir){ir&&ir.stopPropagation(),Vo(en)};return typeof Ni=="function"?Ao(Ze,$t,Ve,De,Wn):vo(en,$t,Ve,De,Wn)},co=function(en){if(!kn.length)return null;var Ve=typeof uo=="function"?uo(en):uo;return typeof Ni=="function"?Ao(void 0,Ve,!1,!1,void 0,!0):vo({title:Ve},Ve,!1)},Ai=oe.createElement("div",{className:"".concat(ma,"-search"),style:{width:ko},onFocus:function(){Vi(!0)},onBlur:function(){Vi(!1)}},oe.createElement(Bn,{ref:qr,open:br,prefixCls:mn,id:gn,inputElement:null,disabled:Zi,autoFocus:Ut,autoComplete:bn,editable:Jr,activeDescendantId:sr,value:qa,onKeyDown:Oo,onMouseDown:zo,onChange:$o,onPaste:_o,onCompositionStart:qo,onCompositionEnd:oo,onBlur:wo,tabIndex:Yr,attrs:(0,Cr.Z)(Qe,!0)}),oe.createElement("span",{ref:go,className:"".concat(ma,"-search-mirror"),"aria-hidden":!0},qa,"\xA0")),ga=oe.createElement(Dr.Z,{prefixCls:"".concat(ma,"-overflow"),data:kn,renderItem:Yo,renderRest:co,suffix:Ai,itemKey:me,maxCount:ho});return oe.createElement("span",{className:"".concat(ma,"-wrap")},ga,!kn.length&&!qa&&oe.createElement("span",{className:"".concat(ma,"-placeholder")},oi))},ui=bi,$e=function(Qe){var gn=Qe.inputElement,mn=Qe.prefixCls,kn=Qe.id,br=Qe.inputRef,ar=Qe.disabled,Mr=Qe.autoFocus,qr=Qe.autoComplete,oi=Qe.activeDescendantId,Zi=Qe.mode,ft=Qe.open,_n=Qe.values,Ut=Qe.placeholder,bn=Qe.tabIndex,sr=Qe.showSearch,Yr=Qe.searchValue,Ti=Qe.activeValue,ho=Qe.maxLength,zi=Qe.onInputKeyDown,Ji=Qe.onInputMouseDown,uo=Qe.onInputChange,Ni=Qe.onInputPaste,Po=Qe.onInputCompositionStart,Vo=Qe.onInputCompositionEnd,$o=Qe.onInputBlur,_o=Qe.title,Oo=oe.useState(!1),zo=(0,Ie.Z)(Oo,2),qo=zo[0],oo=zo[1],wo=Zi==="combobox",go=wo||sr,so=_n[0],to=Yr||"";wo&&Ti&&!qo&&(to=Ti),oe.useEffect(function(){wo&&oo(!1)},[wo,Ti]);var ko=Zi!=="combobox"&&!ft&&!sr?!1:!!to,Pr=_o===void 0?an(so):_o,Ho=oe.useMemo(function(){return so?null:oe.createElement("span",{className:"".concat(mn,"-selection-placeholder"),style:ko?{visibility:"hidden"}:void 0},Ut)},[so,ko,Ut,mn]);return oe.createElement("span",{className:"".concat(mn,"-selection-wrap")},oe.createElement("span",{className:"".concat(mn,"-selection-search")},oe.createElement(Bn,{ref:br,prefixCls:mn,id:kn,open:ft,inputElement:gn,disabled:ar,autoFocus:Mr,autoComplete:qr,editable:go,activeDescendantId:oi,value:to,onKeyDown:zi,onMouseDown:Ji,onChange:function(za){oo(!0),uo(za)},onPaste:Ni,onCompositionStart:Po,onCompositionEnd:Vo,onBlur:$o,tabIndex:bn,attrs:(0,Cr.Z)(Qe,!0),maxLength:wo?ho:void 0})),!wo&&so?oe.createElement("span",{className:"".concat(mn,"-selection-item"),title:Pr,style:ko?{visibility:"hidden"}:void 0},so.label):null,Ho)},Mn=$e,Kr=function(Qe,gn){var mn=(0,oe.useRef)(null),kn=(0,oe.useRef)(!1),br=Qe.prefixCls,ar=Qe.open,Mr=Qe.mode,qr=Qe.showSearch,oi=Qe.tokenWithEnter,Zi=Qe.disabled,ft=Qe.prefix,_n=Qe.autoClearSearchValue,Ut=Qe.onSearch,bn=Qe.onSearchSubmit,sr=Qe.onToggleOpen,Yr=Qe.onInputKeyDown,Ti=Qe.onInputBlur,ho=Qe.domRef;oe.useImperativeHandle(gn,function(){return{focus:function(Pr){mn.current.focus(Pr)},blur:function(){mn.current.blur()}}});var zi=Ft(0),Ji=(0,Ie.Z)(zi,2),uo=Ji[0],Ni=Ji[1],Po=function(Pr){var Ho=Pr.which,ha=mn.current instanceof HTMLTextAreaElement;!ha&&ar&&(Ho===Ht.Z.UP||Ho===Ht.Z.DOWN)&&Pr.preventDefault(),Yr&&Yr(Pr),Ho===Ht.Z.ENTER&&Mr==="tags"&&!kn.current&&!ar&&(bn==null||bn(Pr.target.value)),!(ha&&!ar&&~[Ht.Z.UP,Ht.Z.DOWN,Ht.Z.LEFT,Ht.Z.RIGHT].indexOf(Ho))&&Ar(Ho)&&sr(!0)},Vo=function(){Ni(!0)},$o=(0,oe.useRef)(null),_o=function(Pr){Ut(Pr,!0,kn.current)!==!1&&sr(!0)},Oo=function(){kn.current=!0},zo=function(Pr){kn.current=!1,Mr!=="combobox"&&_o(Pr.target.value)},qo=function(Pr){var Ho=Pr.target.value;if(oi&&$o.current&&/[\r\n]/.test($o.current)){var ha=$o.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");Ho=Ho.replace(ha,$o.current)}$o.current=null,_o(Ho)},oo=function(Pr){var Ho=Pr.clipboardData,ha=Ho==null?void 0:Ho.getData("text");$o.current=ha||""},wo=function(Pr){var Ho=Pr.target;if(Ho!==mn.current){var ha=document.body.style.msTouchAction!==void 0;ha?setTimeout(function(){mn.current.focus()}):mn.current.focus()}},go=function(Pr){var Ho=uo();Pr.target!==mn.current&&!Ho&&!(Mr==="combobox"&&Zi)&&Pr.preventDefault(),(Mr!=="combobox"&&(!qr||!Ho)||!ar)&&(ar&&_n!==!1&&Ut("",!0,!1),sr())},so={inputRef:mn,onInputKeyDown:Po,onInputMouseDown:Vo,onInputChange:qo,onInputPaste:oo,onInputCompositionStart:Oo,onInputCompositionEnd:zo,onInputBlur:Ti},to=Mr==="multiple"||Mr==="tags"?oe.createElement(ui,(0,s.Z)({},Qe,so)):oe.createElement(Mn,(0,s.Z)({},Qe,so));return oe.createElement("div",{ref:ho,className:"".concat(br,"-selector"),onClick:wo,onMouseDown:go},ft&&oe.createElement("div",{className:"".concat(br,"-prefix")},ft),to)},jr=oe.forwardRef(Kr),Sn=jr,Fr=j(83190),Ii=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],fr=function(Qe){var gn=Qe===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:gn,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:gn,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:gn,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:gn,adjustY:1},htmlRegion:"scroll"}}},st=function(Qe,gn){var mn=Qe.prefixCls,kn=Qe.disabled,br=Qe.visible,ar=Qe.children,Mr=Qe.popupElement,qr=Qe.animation,oi=Qe.transitionName,Zi=Qe.dropdownStyle,ft=Qe.dropdownClassName,_n=Qe.direction,Ut=_n===void 0?"ltr":_n,bn=Qe.placement,sr=Qe.builtinPlacements,Yr=Qe.dropdownMatchSelectWidth,Ti=Qe.dropdownRender,ho=Qe.dropdownAlign,zi=Qe.getPopupContainer,Ji=Qe.empty,uo=Qe.getTriggerDOMNode,Ni=Qe.onPopupVisibleChange,Po=Qe.onPopupMouseEnter,Vo=(0,He.Z)(Qe,Ii),$o="".concat(mn,"-dropdown"),_o=Mr;Ti&&(_o=Ti(Mr));var Oo=oe.useMemo(function(){return sr||fr(Yr)},[sr,Yr]),zo=qr?"".concat($o,"-").concat(qr):oi,qo=typeof Yr=="number",oo=oe.useMemo(function(){return qo?null:Yr===!1?"minWidth":"width"},[Yr,qo]),wo=Zi;qo&&(wo=(0,u.Z)((0,u.Z)({},wo),{},{width:Yr}));var go=oe.useRef(null);return oe.useImperativeHandle(gn,function(){return{getPopupElement:function(){var to;return(to=go.current)===null||to===void 0?void 0:to.popupElement}}}),oe.createElement(Fr.Z,(0,s.Z)({},Vo,{showAction:Ni?["click"]:[],hideAction:Ni?["click"]:[],popupPlacement:bn||(Ut==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:Oo,prefixCls:$o,popupTransitionName:zo,popup:oe.createElement("div",{onMouseEnter:Po},_o),ref:go,stretch:oo,popupAlign:ho,popupVisible:br,getPopupContainer:zi,popupClassName:ke()(ft,(0,J.Z)({},"".concat($o,"-empty"),Ji)),popupStyle:wo,getTriggerDOMNode:uo,onPopupVisibleChange:Ni}),ar)},jt=oe.forwardRef(st),Fn=jt,un=j(70615);function pn(rt,Qe){var gn=rt.key,mn;return"value"in rt&&(mn=rt.value),gn!=null?gn:mn!==void 0?mn:"rc-index-key-".concat(Qe)}function Sr(rt){return typeof rt!="undefined"&&!Number.isNaN(rt)}function Vn(rt,Qe){var gn=rt||{},mn=gn.label,kn=gn.value,br=gn.options,ar=gn.groupLabel,Mr=mn||(Qe?"children":"label");return{label:Mr,value:kn||"value",options:br||"options",groupLabel:ar||Mr}}function Xr(rt){var Qe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},gn=Qe.fieldNames,mn=Qe.childrenAsData,kn=[],br=Vn(gn,!1),ar=br.label,Mr=br.value,qr=br.options,oi=br.groupLabel;function Zi(ft,_n){Array.isArray(ft)&&ft.forEach(function(Ut){if(_n||!(qr in Ut)){var bn=Ut[Mr];kn.push({key:pn(Ut,kn.length),groupOption:_n,data:Ut,label:Ut[ar],value:bn})}else{var sr=Ut[oi];sr===void 0&&mn&&(sr=Ut.label),kn.push({key:pn(Ut,kn.length),group:!0,data:Ut,label:sr}),Zi(Ut[qr],!0)}})}return Zi(rt,!1),kn}function ri(rt){var Qe=(0,u.Z)({},rt);return"props"in Qe||Object.defineProperty(Qe,"props",{get:function(){return(0,_e.ZP)(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),Qe}}),Qe}var Zr=function(Qe,gn,mn){if(!gn||!gn.length)return null;var kn=!1,br=function Mr(qr,oi){var Zi=(0,un.Z)(oi),ft=Zi[0],_n=Zi.slice(1);if(!ft)return[qr];var Ut=qr.split(ft);return kn=kn||Ut.length>1,Ut.reduce(function(bn,sr){return[].concat((0,ht.Z)(bn),(0,ht.Z)(Mr(sr,_n)))},[]).filter(Boolean)},ar=br(Qe,gn);return kn?typeof mn!="undefined"?ar.slice(0,mn):ar:null},ei=oe.createContext(null),vr=ei;function hr(rt){var Qe=rt.visible,gn=rt.values;if(!Qe)return null;var mn=50;return oe.createElement("span",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"".concat(gn.slice(0,mn).map(function(kn){var br=kn.label,ar=kn.value;return["number","string"].includes((0,je.Z)(br))?br:ar}).join(", ")),gn.length>mn?", ...":null)}var ur=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","prefix","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],wr=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"],yr=function(Qe){return Qe==="tags"||Qe==="multiple"},Nr=oe.forwardRef(function(rt,Qe){var gn,mn=rt.id,kn=rt.prefixCls,br=rt.className,ar=rt.showSearch,Mr=rt.tagRender,qr=rt.direction,oi=rt.omitDomProps,Zi=rt.displayValues,ft=rt.onDisplayValuesChange,_n=rt.emptyOptions,Ut=rt.notFoundContent,bn=Ut===void 0?"Not Found":Ut,sr=rt.onClear,Yr=rt.mode,Ti=rt.disabled,ho=rt.loading,zi=rt.getInputElement,Ji=rt.getRawInputElement,uo=rt.open,Ni=rt.defaultOpen,Po=rt.onDropdownVisibleChange,Vo=rt.activeValue,$o=rt.onActiveValueChange,_o=rt.activeDescendantId,Oo=rt.searchValue,zo=rt.autoClearSearchValue,qo=rt.onSearch,oo=rt.onSearchSplit,wo=rt.tokenSeparators,go=rt.allowClear,so=rt.prefix,to=rt.suffixIcon,ko=rt.clearIcon,Pr=rt.OptionList,Ho=rt.animation,ha=rt.transitionName,za=rt.dropdownStyle,Vi=rt.dropdownClassName,ma=rt.dropdownMatchSelectWidth,qa=rt.dropdownRender,Jr=rt.dropdownAlign,vo=rt.placement,Ao=rt.builtinPlacements,Yo=rt.getPopupContainer,co=rt.showAction,Ai=co===void 0?[]:co,ga=rt.onFocus,jo=rt.onBlur,en=rt.onKeyUp,Ve=rt.onKeyDown,be=rt.onMouseDown,Ze=(0,He.Z)(rt,ur),De=yr(Yr),$t=(ar!==void 0?ar:De)||Yr==="combobox",tn=(0,u.Z)({},Ze);wr.forEach(function(Hi){delete tn[Hi]}),oi==null||oi.forEach(function(Hi){delete tn[Hi]});var Wn=oe.useState(!1),pr=(0,Ie.Z)(Wn,2),ir=pr[0],rr=pr[1];oe.useEffect(function(){rr((0,at.Z)())},[]);var Vr=oe.useRef(null),Si=oe.useRef(null),Ci=oe.useRef(null),pi=oe.useRef(null),wi=oe.useRef(null),ti=oe.useRef(!1),Ri=Pt(),$i=(0,Ie.Z)(Ri,3),yo=$i[0],Qo=$i[1],aa=$i[2];oe.useImperativeHandle(Qe,function(){var Hi,ki;return{focus:(Hi=pi.current)===null||Hi===void 0?void 0:Hi.focus,blur:(ki=pi.current)===null||ki===void 0?void 0:ki.blur,scrollTo:function(fo){var Xo;return(Xo=wi.current)===null||Xo===void 0?void 0:Xo.scrollTo(fo)},nativeElement:Vr.current||Si.current}});var Ea=oe.useMemo(function(){var Hi;if(Yr!=="combobox")return Oo;var ki=(Hi=Zi[0])===null||Hi===void 0?void 0:Hi.value;return typeof ki=="string"||typeof ki=="number"?String(ki):""},[Oo,Yr,Zi]),Ma=Yr==="combobox"&&typeof zi=="function"&&zi()||null,wa=typeof Ji=="function"&&Ji(),Ca=(0,xt.x1)(Si,wa==null||(gn=wa.props)===null||gn===void 0?void 0:gn.ref),Za=oe.useState(!1),ca=(0,Ie.Z)(Za,2),cs=ca[0],Va=ca[1];(0,Xe.Z)(function(){Va(!0)},[]);var as=(0,Le.Z)(!1,{defaultValue:Ni,value:uo}),nl=(0,Ie.Z)(as,2),cl=nl[0],Nl=nl[1],Hs=cs?cl:!1,Bl=!bn&&_n;(Ti||Bl&&Hs&&Yr==="combobox")&&(Hs=!1);var wc=Bl?!1:Hs,ua=oe.useCallback(function(Hi){var ki=Hi!==void 0?Hi:!Hs;Ti||(Nl(ki),Hs!==ki&&(Po==null||Po(ki)))},[Ti,Hs,Nl,Po]),Ha=oe.useMemo(function(){return(wo||[]).some(function(Hi){return[`
`,`\r
`].includes(Hi)})},[wo]),da=oe.useContext(vr)||{},Jo=da.maxCount,ys=da.rawValues,Fs=function(ki,Fo,fo){if(!(De&&Sr(Jo)&&(ys==null?void 0:ys.size)>=Jo)){var Xo=!0,Ga=ki;$o==null||$o(null);var la=Zr(ki,wo,Sr(Jo)?Jo-ys.size:void 0),Pa=fo?null:la;return Yr!=="combobox"&&Pa&&(Ga="",oo==null||oo(Pa),ua(!1),Xo=!1),qo&&Ea!==Ga&&qo(Ga,{source:Fo?"typing":"effect"}),Xo}},rc=function(ki){!ki||!ki.trim()||qo(ki,{source:"submit"})};oe.useEffect(function(){!Hs&&!De&&Yr!=="combobox"&&Fs("",!1,!1)},[Hs]),oe.useEffect(function(){cl&&Ti&&Nl(!1),Ti&&!ti.current&&Qo(!1)},[Ti]);var gc=Ft(),Zc=(0,Ie.Z)(gc,2),Ml=Zc[0],Xl=Zc[1],sa=oe.useRef(!1),To=function(ki){var Fo=Ml(),fo=ki.key,Xo=fo==="Enter";if(Xo&&(Yr!=="combobox"&&ki.preventDefault(),Hs||ua(!0)),Xl(!!Ea),fo==="Backspace"&&!Fo&&De&&!Ea&&Zi.length){for(var Ga=(0,ht.Z)(Zi),la=null,Pa=Ga.length-1;Pa>=0;Pa-=1){var es=Ga[Pa];if(!es.disabled){Ga.splice(Pa,1),la=es;break}}la&&ft(Ga,{type:"remove",values:[la]})}for(var Ia=arguments.length,Ja=new Array(Ia>1?Ia-1:0),ja=1;ja<Ia;ja++)Ja[ja-1]=arguments[ja];if(Hs&&(!Xo||!sa.current)){var ls;Xo&&(sa.current=!0),(ls=wi.current)===null||ls===void 0||ls.onKeyDown.apply(ls,[ki].concat(Ja))}Ve==null||Ve.apply(void 0,[ki].concat(Ja))},ru=function(ki){for(var Fo=arguments.length,fo=new Array(Fo>1?Fo-1:0),Xo=1;Xo<Fo;Xo++)fo[Xo-1]=arguments[Xo];if(Hs){var Ga;(Ga=wi.current)===null||Ga===void 0||Ga.onKeyUp.apply(Ga,[ki].concat(fo))}ki.key==="Enter"&&(sa.current=!1),en==null||en.apply(void 0,[ki].concat(fo))},Zo=function(ki){var Fo=Zi.filter(function(fo){return fo!==ki});ft(Fo,{type:"remove",values:[ki]})},Fl=function(){sa.current=!1},fu=oe.useRef(!1),ea=function(){Qo(!0),Ti||(ga&&!fu.current&&ga.apply(void 0,arguments),Ai.includes("focus")&&ua(!0)),fu.current=!0},cc=function(){ti.current=!0,Qo(!1,function(){fu.current=!1,ti.current=!1,ua(!1)}),!Ti&&(Ea&&(Yr==="tags"?qo(Ea,{source:"submit"}):Yr==="multiple"&&qo("",{source:"blur"})),jo&&jo.apply(void 0,arguments))},vc=[];oe.useEffect(function(){return function(){vc.forEach(function(Hi){return clearTimeout(Hi)}),vc.splice(0,vc.length)}},[]);var iu=function(ki){var Fo,fo=ki.target,Xo=(Fo=Ci.current)===null||Fo===void 0?void 0:Fo.getPopupElement();if(Xo&&Xo.contains(fo)){var Ga=setTimeout(function(){var Ia=vc.indexOf(Ga);if(Ia!==-1&&vc.splice(Ia,1),aa(),!ir&&!Xo.contains(document.activeElement)){var Ja;(Ja=pi.current)===null||Ja===void 0||Ja.focus()}});vc.push(Ga)}for(var la=arguments.length,Pa=new Array(la>1?la-1:0),es=1;es<la;es++)Pa[es-1]=arguments[es];be==null||be.apply(void 0,[ki].concat(Pa))},ju=oe.useState({}),Kl=(0,Ie.Z)(ju,2),ll=Kl[1];function Ei(){ll({})}var Eu;wa&&(Eu=function(ki){ua(ki)}),Xt(function(){var Hi;return[Vr.current,(Hi=Ci.current)===null||Hi===void 0?void 0:Hi.getPopupElement()]},wc,ua,!!wa);var Iu=oe.useMemo(function(){return(0,u.Z)((0,u.Z)({},rt),{},{notFoundContent:bn,open:Hs,triggerOpen:wc,id:mn,showSearch:$t,multiple:De,toggleOpen:ua})},[rt,bn,wc,Hs,mn,$t,De,ua]),hu=!!to||ho,Gt;hu&&(Gt=oe.createElement(St,{className:ke()("".concat(kn,"-arrow"),(0,J.Z)({},"".concat(kn,"-arrow-loading"),ho)),customizeIcon:to,customizeIconProps:{loading:ho,searchValue:Ea,open:Hs,focused:yo,showSearch:$t}}));var An=function(){var ki;sr==null||sr(),(ki=pi.current)===null||ki===void 0||ki.focus(),ft([],{type:"clear",values:Zi}),Fs("",!1,!1)},jn=Ot(kn,An,Zi,go,ko,Ti,Ea,Yr),tr=jn.allowClear,Lr=jn.clearIcon,Fi=oe.createElement(Pr,{ref:wi}),ao=ke()(kn,br,(0,J.Z)((0,J.Z)((0,J.Z)((0,J.Z)((0,J.Z)((0,J.Z)((0,J.Z)((0,J.Z)((0,J.Z)((0,J.Z)({},"".concat(kn,"-focused"),yo),"".concat(kn,"-multiple"),De),"".concat(kn,"-single"),!De),"".concat(kn,"-allow-clear"),go),"".concat(kn,"-show-arrow"),hu),"".concat(kn,"-disabled"),Ti),"".concat(kn,"-loading"),ho),"".concat(kn,"-open"),Hs),"".concat(kn,"-customize-input"),Ma),"".concat(kn,"-show-search"),$t)),Li=oe.createElement(Fn,{ref:Ci,disabled:Ti,prefixCls:kn,visible:wc,popupElement:Fi,animation:Ho,transitionName:ha,dropdownStyle:za,dropdownClassName:Vi,direction:qr,dropdownMatchSelectWidth:ma,dropdownRender:qa,dropdownAlign:Jr,placement:vo,builtinPlacements:Ao,getPopupContainer:Yo,empty:_n,getTriggerDOMNode:function(ki){return Si.current||ki},onPopupVisibleChange:Eu,onPopupMouseEnter:Ei},wa?oe.cloneElement(wa,{ref:Ca}):oe.createElement(Sn,(0,s.Z)({},rt,{domRef:Si,prefixCls:kn,inputElement:Ma,ref:pi,id:mn,prefix:so,showSearch:$t,autoClearSearchValue:zo,mode:Yr,activeDescendantId:_o,tagRender:Mr,values:Zi,open:Hs,onToggleOpen:ua,activeValue:Vo,searchValue:Ea,onSearch:Fs,onSearchSubmit:rc,onRemove:Zo,tokenWithEnter:Ha,onInputBlur:Fl}))),mo;return wa?mo=Li:mo=oe.createElement("div",(0,s.Z)({className:ao},tn,{ref:Vr,onMouseDown:iu,onKeyDown:To,onKeyUp:ru,onFocus:ea,onBlur:cc}),oe.createElement(hr,{visible:yo&&!Hs,values:Zi}),Li,Gt,tr&&Lr),oe.createElement(Ge.Provider,{value:Iu},mo)}),Xn=Nr,lr=function(){return null};lr.isSelectOptGroup=!0;var Ur=lr,Ln=function(){return null};Ln.isSelectOption=!0;var _i=Ln,fi=j(54596),Wi=j(18051),po=j(98131);function kr(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}var no=["disabled","title","children","style","className"];function qt(rt){return typeof rt=="string"||typeof rt=="number"}var xn=function(Qe,gn){var mn=Qt(),kn=mn.prefixCls,br=mn.id,ar=mn.open,Mr=mn.multiple,qr=mn.mode,oi=mn.searchValue,Zi=mn.toggleOpen,ft=mn.notFoundContent,_n=mn.onPopupScroll,Ut=oe.useContext(vr),bn=Ut.maxCount,sr=Ut.flattenOptions,Yr=Ut.onActiveValue,Ti=Ut.defaultActiveFirstOption,ho=Ut.onSelect,zi=Ut.menuItemSelectedIcon,Ji=Ut.rawValues,uo=Ut.fieldNames,Ni=Ut.virtual,Po=Ut.direction,Vo=Ut.listHeight,$o=Ut.listItemHeight,_o=Ut.optionRender,Oo="".concat(kn,"-item"),zo=(0,fi.Z)(function(){return sr},[ar,sr],function(co,Ai){return Ai[0]&&co[1]!==Ai[1]}),qo=oe.useRef(null),oo=oe.useMemo(function(){return Mr&&Sr(bn)&&(Ji==null?void 0:Ji.size)>=bn},[Mr,bn,Ji==null?void 0:Ji.size]),wo=function(Ai){Ai.preventDefault()},go=function(Ai){var ga;(ga=qo.current)===null||ga===void 0||ga.scrollTo(typeof Ai=="number"?{index:Ai}:Ai)},so=oe.useCallback(function(co){return qr==="combobox"?!1:Ji.has(co)},[qr,(0,ht.Z)(Ji).toString(),Ji.size]),to=function(Ai){for(var ga=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,jo=zo.length,en=0;en<jo;en+=1){var Ve=(Ai+en*ga+jo)%jo,be=zo[Ve]||{},Ze=be.group,De=be.data;if(!Ze&&!(De!=null&&De.disabled)&&(so(De.value)||!oo))return Ve}return-1},ko=oe.useState(function(){return to(0)}),Pr=(0,Ie.Z)(ko,2),Ho=Pr[0],ha=Pr[1],za=function(Ai){var ga=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;ha(Ai);var jo={source:ga?"keyboard":"mouse"},en=zo[Ai];if(!en){Yr(null,-1,jo);return}Yr(en.value,Ai,jo)};(0,oe.useEffect)(function(){za(Ti!==!1?to(0):-1)},[zo.length,oi]);var Vi=oe.useCallback(function(co){return qr==="combobox"?String(co).toLowerCase()===oi.toLowerCase():Ji.has(co)},[qr,oi,(0,ht.Z)(Ji).toString(),Ji.size]);(0,oe.useEffect)(function(){var co=setTimeout(function(){if(!Mr&&ar&&Ji.size===1){var ga=Array.from(Ji)[0],jo=zo.findIndex(function(en){var Ve=en.data;return Ve.value===ga});jo!==-1&&(za(jo),go(jo))}});if(ar){var Ai;(Ai=qo.current)===null||Ai===void 0||Ai.scrollTo(void 0)}return function(){return clearTimeout(co)}},[ar,oi]);var ma=function(Ai){Ai!==void 0&&ho(Ai,{selected:!Ji.has(Ai)}),Mr||Zi(!1)};if(oe.useImperativeHandle(gn,function(){return{onKeyDown:function(Ai){var ga=Ai.which,jo=Ai.ctrlKey;switch(ga){case Ht.Z.N:case Ht.Z.P:case Ht.Z.UP:case Ht.Z.DOWN:{var en=0;if(ga===Ht.Z.UP?en=-1:ga===Ht.Z.DOWN?en=1:kr()&&jo&&(ga===Ht.Z.N?en=1:ga===Ht.Z.P&&(en=-1)),en!==0){var Ve=to(Ho+en,en);go(Ve),za(Ve,!0)}break}case Ht.Z.TAB:case Ht.Z.ENTER:{var be,Ze=zo[Ho];Ze&&!(Ze!=null&&(be=Ze.data)!==null&&be!==void 0&&be.disabled)&&!oo?ma(Ze.value):ma(void 0),ar&&Ai.preventDefault();break}case Ht.Z.ESC:Zi(!1),ar&&Ai.stopPropagation()}},onKeyUp:function(){},scrollTo:function(Ai){go(Ai)}}}),zo.length===0)return oe.createElement("div",{role:"listbox",id:"".concat(br,"_list"),className:"".concat(Oo,"-empty"),onMouseDown:wo},ft);var qa=Object.keys(uo).map(function(co){return uo[co]}),Jr=function(Ai){return Ai.label};function vo(co,Ai){var ga=co.group;return{role:ga?"presentation":"option",id:"".concat(br,"_list_").concat(Ai)}}var Ao=function(Ai){var ga=zo[Ai];if(!ga)return null;var jo=ga.data||{},en=jo.value,Ve=ga.group,be=(0,Cr.Z)(jo,!0),Ze=Jr(ga);return ga?oe.createElement("div",(0,s.Z)({"aria-label":typeof Ze=="string"&&!Ve?Ze:null},be,{key:Ai},vo(ga,Ai),{"aria-selected":Vi(en)}),en):null},Yo={role:"listbox",id:"".concat(br,"_list")};return oe.createElement(oe.Fragment,null,Ni&&oe.createElement("div",(0,s.Z)({},Yo,{style:{height:0,width:0,overflow:"hidden"}}),Ao(Ho-1),Ao(Ho),Ao(Ho+1)),oe.createElement(po.Z,{itemKey:"key",ref:qo,data:zo,height:Vo,itemHeight:$o,fullHeight:!1,onMouseDown:wo,onScroll:_n,virtual:Ni,direction:Po,innerProps:Ni?null:Yo},function(co,Ai){var ga=co.group,jo=co.groupOption,en=co.data,Ve=co.label,be=co.value,Ze=en.key;if(ga){var De,$t=(De=en.title)!==null&&De!==void 0?De:qt(Ve)?Ve.toString():void 0;return oe.createElement("div",{className:ke()(Oo,"".concat(Oo,"-group"),en.className),title:$t},Ve!==void 0?Ve:Ze)}var tn=en.disabled,Wn=en.title,pr=en.children,ir=en.style,rr=en.className,Vr=(0,He.Z)(en,no),Si=(0,Wi.Z)(Vr,qa),Ci=so(be),pi=tn||!Ci&&oo,wi="".concat(Oo,"-option"),ti=ke()(Oo,wi,rr,(0,J.Z)((0,J.Z)((0,J.Z)((0,J.Z)({},"".concat(wi,"-grouped"),jo),"".concat(wi,"-active"),Ho===Ai&&!pi),"".concat(wi,"-disabled"),pi),"".concat(wi,"-selected"),Ci)),Ri=Jr(co),$i=!zi||typeof zi=="function"||Ci,yo=typeof Ri=="number"?Ri:Ri||be,Qo=qt(yo)?yo.toString():void 0;return Wn!==void 0&&(Qo=Wn),oe.createElement("div",(0,s.Z)({},(0,Cr.Z)(Si),Ni?{}:vo(co,Ai),{"aria-selected":Vi(be),className:ti,title:Qo,onMouseMove:function(){Ho===Ai||pi||za(Ai)},onClick:function(){pi||ma(be)},style:ir}),oe.createElement("div",{className:"".concat(wi,"-content")},typeof _o=="function"?_o(co,{index:Ai}):yo),oe.isValidElement(zi)||Ci,$i&&oe.createElement(St,{className:"".concat(Oo,"-option-state"),customizeIcon:zi,customizeIconProps:{value:be,disabled:pi,isSelected:Ci}},Ci?"\u2713":null))}))},Jn=oe.forwardRef(xn),$r=Jn,li=function(rt,Qe){var gn=oe.useRef({values:new Map,options:new Map}),mn=oe.useMemo(function(){var br=gn.current,ar=br.values,Mr=br.options,qr=rt.map(function(ft){if(ft.label===void 0){var _n;return(0,u.Z)((0,u.Z)({},ft),{},{label:(_n=ar.get(ft.value))===null||_n===void 0?void 0:_n.label})}return ft}),oi=new Map,Zi=new Map;return qr.forEach(function(ft){oi.set(ft.value,ft),Zi.set(ft.value,Qe.get(ft.value)||Mr.get(ft.value))}),gn.current.values=oi,gn.current.options=Zi,qr},[rt,Qe]),kn=oe.useCallback(function(br){return Qe.get(br)||gn.current.options.get(br)},[Qe]);return[mn,kn]};function ii(rt,Qe){return En(rt).join("").toUpperCase().includes(Qe)}var Ki=function(rt,Qe,gn,mn,kn){return oe.useMemo(function(){if(!gn||mn===!1)return rt;var br=Qe.options,ar=Qe.label,Mr=Qe.value,qr=[],oi=typeof mn=="function",Zi=gn.toUpperCase(),ft=oi?mn:function(Ut,bn){return kn?ii(bn[kn],Zi):bn[br]?ii(bn[ar!=="children"?ar:"label"],Zi):ii(bn[Mr],Zi)},_n=oi?function(Ut){return ri(Ut)}:function(Ut){return Ut};return rt.forEach(function(Ut){if(Ut[br]){var bn=ft(gn,_n(Ut));if(bn)qr.push(Ut);else{var sr=Ut[br].filter(function(Yr){return ft(gn,_n(Yr))});sr.length&&qr.push((0,u.Z)((0,u.Z)({},Ut),{},(0,J.Z)({},br,sr)))}return}ft(gn,_n(Ut))&&qr.push(Ut)}),qr},[rt,mn,kn,gn,Qe])},eo=j(21125),Ro=j(81626),So=["children","value"],io=["children"];function Pe(rt){var Qe=rt,gn=Qe.key,mn=Qe.props,kn=mn.children,br=mn.value,ar=(0,He.Z)(mn,So);return(0,u.Z)({key:gn,value:br!==void 0?br:gn,children:kn},ar)}function de(rt){var Qe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return(0,Ro.Z)(rt).map(function(gn,mn){if(!oe.isValidElement(gn)||!gn.type)return null;var kn=gn,br=kn.type.isSelectOptGroup,ar=kn.key,Mr=kn.props,qr=Mr.children,oi=(0,He.Z)(Mr,io);return Qe||!br?Pe(gn):(0,u.Z)((0,u.Z)({key:"__RC_SELECT_GRP__".concat(ar===null?mn:ar,"__"),label:ar},oi),{},{options:de(qr)})}).filter(function(gn){return gn})}var K=function(Qe,gn,mn,kn,br){return oe.useMemo(function(){var ar=Qe,Mr=!Qe;Mr&&(ar=de(gn));var qr=new Map,oi=new Map,Zi=function(Ut,bn,sr){sr&&typeof sr=="string"&&Ut.set(bn[sr],bn)},ft=function _n(Ut){for(var bn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,sr=0;sr<Ut.length;sr+=1){var Yr=Ut[sr];!Yr[mn.options]||bn?(qr.set(Yr[mn.value],Yr),Zi(oi,Yr,mn.label),Zi(oi,Yr,kn),Zi(oi,Yr,br)):_n(Yr[mn.options],!0)}};return ft(ar),{options:ar,valueOptions:qr,labelOptions:oi}},[Qe,gn,mn,kn,br])},Ne=K;function Je(rt){var Qe=oe.useRef();Qe.current=rt;var gn=oe.useCallback(function(){return Qe.current.apply(Qe,arguments)},[]);return gn}function ge(rt){var Qe=rt.mode,gn=rt.options,mn=rt.children,kn=rt.backfill,br=rt.allowClear,ar=rt.placeholder,Mr=rt.getInputElement,qr=rt.showSearch,oi=rt.onSearch,Zi=rt.defaultOpen,ft=rt.autoFocus,_n=rt.labelInValue,Ut=rt.value,bn=rt.inputValue,sr=rt.optionLabelProp,Yr=isMultiple(Qe),Ti=qr!==void 0?qr:Yr||Qe==="combobox",ho=gn||convertChildrenToData(mn);if(warning(Qe!=="tags"||ho.every(function(Ni){return!Ni.disabled}),"Please avoid setting option to disabled in tags mode since user can always type text as tag."),Qe==="tags"||Qe==="combobox"){var zi=ho.some(function(Ni){return Ni.options?Ni.options.some(function(Po){return typeof("value"in Po?Po.value:Po.key)=="number"}):typeof("value"in Ni?Ni.value:Ni.key)=="number"});warning(!zi,"`value` of Option should not use number type when `mode` is `tags` or `combobox`.")}if(warning(Qe!=="combobox"||!sr,"`combobox` mode not support `optionLabelProp`. Please set `value` on Option directly."),warning(Qe==="combobox"||!kn,"`backfill` only works with `combobox` mode."),warning(Qe==="combobox"||!Mr,"`getInputElement` only work with `combobox` mode."),noteOnce(Qe!=="combobox"||!Mr||!br||!ar,"Customize `getInputElement` should customize clear and placeholder logic instead of configuring `allowClear` and `placeholder`."),oi&&!Ti&&Qe!=="combobox"&&Qe!=="tags"&&warning(!1,"`onSearch` should work with `showSearch` instead of use alone."),noteOnce(!Zi||ft,"`defaultOpen` makes Select open without focus which means it will not close by click outside. You can set `autoFocus` if needed."),Ut!=null){var Ji=toArray(Ut);warning(!_n||Ji.every(function(Ni){return _typeof(Ni)==="object"&&("key"in Ni||"value"in Ni)}),"`value` should in shape of `{ value: string | number, label?: ReactNode }` when you set `labelInValue` to `true`"),warning(!Yr||Array.isArray(Ut),"`value` should be array when `mode` is `multiple` or `tags`")}if(mn){var uo=null;toNodeArray(mn).some(function(Ni){if(!React.isValidElement(Ni)||!Ni.type)return!1;var Po=Ni,Vo=Po.type;if(Vo.isSelectOption)return!1;if(Vo.isSelectOptGroup){var $o=toNodeArray(Ni.props.children).every(function(_o){return!React.isValidElement(_o)||!Ni.type||_o.type.isSelectOption?!0:(uo=_o.type,!1)});return!$o}return uo=Vo,!0}),uo&&warning(!1,"`children` should be `Select.Option` or `Select.OptGroup` instead of `".concat(uo.displayName||uo.name||uo,"`.")),warning(bn===void 0,"`inputValue` is deprecated, please use `searchValue` instead.")}}function dt(rt,Qe){if(rt){var gn=function mn(kn){for(var br=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ar=0;ar<kn.length;ar++){var Mr=kn[ar];if(Mr[Qe==null?void 0:Qe.value]===null)return warning(!1,"`value` in Select options should not be `null`."),!0;if(!br&&Array.isArray(Mr[Qe==null?void 0:Qe.options])&&mn(Mr[Qe==null?void 0:Qe.options],!0))break}};gn(rt)}}var _t=null,Tt=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","optionRender","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","labelRender","value","defaultValue","labelInValue","onChange","maxCount"],Yt=["inputValue"];function hn(rt){return!rt||(0,je.Z)(rt)!=="object"}var We=oe.forwardRef(function(rt,Qe){var gn=rt.id,mn=rt.mode,kn=rt.prefixCls,br=kn===void 0?"rc-select":kn,ar=rt.backfill,Mr=rt.fieldNames,qr=rt.inputValue,oi=rt.searchValue,Zi=rt.onSearch,ft=rt.autoClearSearchValue,_n=ft===void 0?!0:ft,Ut=rt.onSelect,bn=rt.onDeselect,sr=rt.dropdownMatchSelectWidth,Yr=sr===void 0?!0:sr,Ti=rt.filterOption,ho=rt.filterSort,zi=rt.optionFilterProp,Ji=rt.optionLabelProp,uo=rt.options,Ni=rt.optionRender,Po=rt.children,Vo=rt.defaultActiveFirstOption,$o=rt.menuItemSelectedIcon,_o=rt.virtual,Oo=rt.direction,zo=rt.listHeight,qo=zo===void 0?200:zo,oo=rt.listItemHeight,wo=oo===void 0?20:oo,go=rt.labelRender,so=rt.value,to=rt.defaultValue,ko=rt.labelInValue,Pr=rt.onChange,Ho=rt.maxCount,ha=(0,He.Z)(rt,Tt),za=(0,eo.ZP)(gn),Vi=yr(mn),ma=!!(!uo&&Po),qa=oe.useMemo(function(){return Ti===void 0&&mn==="combobox"?!1:Ti},[Ti,mn]),Jr=oe.useMemo(function(){return Vn(Mr,ma)},[JSON.stringify(Mr),ma]),vo=(0,Le.Z)("",{value:oi!==void 0?oi:qr,postState:function(Ha){return Ha||""}}),Ao=(0,Ie.Z)(vo,2),Yo=Ao[0],co=Ao[1],Ai=Ne(uo,Po,Jr,zi,Ji),ga=Ai.valueOptions,jo=Ai.labelOptions,en=Ai.options,Ve=oe.useCallback(function(ua){var Ha=En(ua);return Ha.map(function(da){var Jo,ys,Fs,rc,gc;if(hn(da))Jo=da;else{var Zc;Fs=da.key,ys=da.label,Jo=(Zc=da.value)!==null&&Zc!==void 0?Zc:Fs}var Ml=ga.get(Jo);if(Ml){var Xl;if(ys===void 0&&(ys=Ml==null?void 0:Ml[Ji||Jr.label]),Fs===void 0&&(Fs=(Xl=Ml==null?void 0:Ml.key)!==null&&Xl!==void 0?Xl:Jo),rc=Ml==null?void 0:Ml.disabled,gc=Ml==null?void 0:Ml.title,0)var sa}return{label:ys,value:Jo,key:Fs,disabled:rc,title:gc}})},[Jr,Ji,ga]),be=(0,Le.Z)(to,{value:so}),Ze=(0,Ie.Z)(be,2),De=Ze[0],$t=Ze[1],tn=oe.useMemo(function(){var ua,Ha=Vi&&De===null?[]:De,da=Ve(Ha);return mn==="combobox"&&Rn((ua=da[0])===null||ua===void 0?void 0:ua.value)?[]:da},[De,Ve,mn,Vi]),Wn=li(tn,ga),pr=(0,Ie.Z)(Wn,2),ir=pr[0],rr=pr[1],Vr=oe.useMemo(function(){if(!mn&&ir.length===1){var ua=ir[0];if(ua.value===null&&(ua.label===null||ua.label===void 0))return[]}return ir.map(function(Ha){var da;return(0,u.Z)((0,u.Z)({},Ha),{},{label:(da=typeof go=="function"?go(Ha):Ha.label)!==null&&da!==void 0?da:Ha.value})})},[mn,ir,go]),Si=oe.useMemo(function(){return new Set(ir.map(function(ua){return ua.value}))},[ir]);oe.useEffect(function(){if(mn==="combobox"){var ua,Ha=(ua=ir[0])===null||ua===void 0?void 0:ua.value;co(In(Ha)?String(Ha):"")}},[ir]);var Ci=Je(function(ua,Ha){var da=Ha!=null?Ha:ua;return(0,J.Z)((0,J.Z)({},Jr.value,ua),Jr.label,da)}),pi=oe.useMemo(function(){if(mn!=="tags")return en;var ua=(0,ht.Z)(en),Ha=function(Jo){return ga.has(Jo)};return(0,ht.Z)(ir).sort(function(da,Jo){return da.value<Jo.value?-1:1}).forEach(function(da){var Jo=da.value;Ha(Jo)||ua.push(Ci(Jo,da.label))}),ua},[Ci,en,ga,ir,mn]),wi=Ki(pi,Jr,Yo,qa,zi),ti=oe.useMemo(function(){return mn!=="tags"||!Yo||wi.some(function(ua){return ua[zi||"value"]===Yo})||wi.some(function(ua){return ua[Jr.value]===Yo})?wi:[Ci(Yo)].concat((0,ht.Z)(wi))},[Ci,zi,mn,wi,Yo,Jr]),Ri=function ua(Ha){var da=(0,ht.Z)(Ha).sort(function(Jo,ys){return ho(Jo,ys,{searchValue:Yo})});return da.map(function(Jo){return Array.isArray(Jo.options)?(0,u.Z)((0,u.Z)({},Jo),{},{options:Jo.options.length>0?ua(Jo.options):Jo.options}):Jo})},$i=oe.useMemo(function(){return ho?Ri(ti):ti},[ti,ho,Yo]),yo=oe.useMemo(function(){return Xr($i,{fieldNames:Jr,childrenAsData:ma})},[$i,Jr,ma]),Qo=function(Ha){var da=Ve(Ha);if($t(da),Pr&&(da.length!==ir.length||da.some(function(Fs,rc){var gc;return((gc=ir[rc])===null||gc===void 0?void 0:gc.value)!==(Fs==null?void 0:Fs.value)}))){var Jo=ko?da:da.map(function(Fs){return Fs.value}),ys=da.map(function(Fs){return ri(rr(Fs.value))});Pr(Vi?Jo:Jo[0],Vi?ys:ys[0])}},aa=oe.useState(null),Ea=(0,Ie.Z)(aa,2),Ma=Ea[0],wa=Ea[1],Ca=oe.useState(0),Za=(0,Ie.Z)(Ca,2),ca=Za[0],cs=Za[1],Va=Vo!==void 0?Vo:mn!=="combobox",as=oe.useCallback(function(ua,Ha){var da=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Jo=da.source,ys=Jo===void 0?"keyboard":Jo;cs(Ha),ar&&mn==="combobox"&&ua!==null&&ys==="keyboard"&&wa(String(ua))},[ar,mn]),nl=function(Ha,da,Jo){var ys=function(){var Zo,Fl=rr(Ha);return[ko?{label:Fl==null?void 0:Fl[Jr.label],value:Ha,key:(Zo=Fl==null?void 0:Fl.key)!==null&&Zo!==void 0?Zo:Ha}:Ha,ri(Fl)]};if(da&&Ut){var Fs=ys(),rc=(0,Ie.Z)(Fs,2),gc=rc[0],Zc=rc[1];Ut(gc,Zc)}else if(!da&&bn&&Jo!=="clear"){var Ml=ys(),Xl=(0,Ie.Z)(Ml,2),sa=Xl[0],To=Xl[1];bn(sa,To)}},cl=Je(function(ua,Ha){var da,Jo=Vi?Ha.selected:!0;Jo?da=Vi?[].concat((0,ht.Z)(ir),[ua]):[ua]:da=ir.filter(function(ys){return ys.value!==ua}),Qo(da),nl(ua,Jo),mn==="combobox"?wa(""):(!yr||_n)&&(co(""),wa(""))}),Nl=function(Ha,da){Qo(Ha);var Jo=da.type,ys=da.values;(Jo==="remove"||Jo==="clear")&&ys.forEach(function(Fs){nl(Fs.value,!1,Jo)})},Hs=function(Ha,da){if(co(Ha),wa(null),da.source==="submit"){var Jo=(Ha||"").trim();if(Jo){var ys=Array.from(new Set([].concat((0,ht.Z)(Si),[Jo])));Qo(ys),nl(Jo,!0),co("")}return}da.source!=="blur"&&(mn==="combobox"&&Qo(Ha),Zi==null||Zi(Ha))},Bl=function(Ha){var da=Ha;mn!=="tags"&&(da=Ha.map(function(ys){var Fs=jo.get(ys);return Fs==null?void 0:Fs.value}).filter(function(ys){return ys!==void 0}));var Jo=Array.from(new Set([].concat((0,ht.Z)(Si),(0,ht.Z)(da))));Qo(Jo),Jo.forEach(function(ys){nl(ys,!0)})},wc=oe.useMemo(function(){var ua=_o!==!1&&Yr!==!1;return(0,u.Z)((0,u.Z)({},Ai),{},{flattenOptions:yo,onActiveValue:as,defaultActiveFirstOption:Va,onSelect:cl,menuItemSelectedIcon:$o,rawValues:Si,fieldNames:Jr,virtual:ua,direction:Oo,listHeight:qo,listItemHeight:wo,childrenAsData:ma,maxCount:Ho,optionRender:Ni})},[Ho,Ai,yo,as,Va,cl,$o,Si,Jr,_o,Yr,Oo,qo,wo,ma,Ni]);return oe.createElement(vr.Provider,{value:wc},oe.createElement(Xn,(0,s.Z)({},ha,{id:za,prefixCls:br,ref:Qe,omitDomProps:Yt,mode:mn,displayValues:Vr,onDisplayValuesChange:Nl,direction:Oo,searchValue:Yo,onSearch:Hs,autoClearSearchValue:_n,onSearchSplit:Bl,dropdownMatchSelectWidth:Yr,OptionList:$r,emptyOptions:!yo.length,activeValue:Ma,activeDescendantId:"".concat(za,"_list_").concat(ca)})))}),Et=We;Et.Option=_i,Et.OptGroup=Ur;var kt=Et,Kt=kt},28661:function(Qr,Jt,j){"use strict";j.d(Jt,{y:function(){return Ft},Z:function(){return fr}});var s=j(54153),ht=j(38926),J=j(46865),u=j(5147),Ie=j(89692),He=j(82187),je=j.n(He),Le=j(59373),_e=j(93954),oe=j(47996),Ye=j(4449),ke=j(75271),Xe=j(23022),at=j(58190),xt=j(30967);function ot(st,jt,Fn){return(st-jt)/(Fn-jt)}function St(st,jt,Fn,un){var pn=ot(jt,Fn,un),Sr={};switch(st){case"rtl":Sr.right="".concat(pn*100,"%"),Sr.transform="translateX(50%)";break;case"btt":Sr.bottom="".concat(pn*100,"%"),Sr.transform="translateY(50%)";break;case"ttb":Sr.top="".concat(pn*100,"%"),Sr.transform="translateY(-50%)";break;default:Sr.left="".concat(pn*100,"%"),Sr.transform="translateX(-50%)";break}return Sr}function Ot(st,jt){return Array.isArray(st)?st[jt]:st}var Ge=j(14583),Qt=ke.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}}),Pt=Qt,Ft=ke.createContext({}),Xt=["prefixCls","value","valueIndex","onStartMove","onDelete","style","render","dragging","draggingDelete","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"],Ht=ke.forwardRef(function(st,jt){var Fn=st.prefixCls,un=st.value,pn=st.valueIndex,Sr=st.onStartMove,Vn=st.onDelete,Xr=st.style,ri=st.render,Zr=st.dragging,ei=st.draggingDelete,vr=st.onOffsetChange,hr=st.onChangeComplete,ur=st.onFocus,wr=st.onMouseEnter,yr=(0,at.Z)(st,Xt),Nr=ke.useContext(Pt),Xn=Nr.min,lr=Nr.max,Ur=Nr.direction,Ln=Nr.disabled,_i=Nr.keyboard,fi=Nr.range,Wi=Nr.tabIndex,po=Nr.ariaLabelForHandle,kr=Nr.ariaLabelledByForHandle,no=Nr.ariaRequired,qt=Nr.ariaValueTextFormatterForHandle,xn=Nr.styles,Jn=Nr.classNames,$r="".concat(Fn,"-handle"),li=function(Ne){Ln||Sr(Ne,pn)},ii=function(Ne){ur==null||ur(Ne,pn)},Ki=function(Ne){wr(Ne,pn)},eo=function(Ne){if(!Ln&&_i){var Je=null;switch(Ne.which||Ne.keyCode){case Ge.Z.LEFT:Je=Ur==="ltr"||Ur==="btt"?-1:1;break;case Ge.Z.RIGHT:Je=Ur==="ltr"||Ur==="btt"?1:-1;break;case Ge.Z.UP:Je=Ur!=="ttb"?1:-1;break;case Ge.Z.DOWN:Je=Ur!=="ttb"?-1:1;break;case Ge.Z.HOME:Je="min";break;case Ge.Z.END:Je="max";break;case Ge.Z.PAGE_UP:Je=2;break;case Ge.Z.PAGE_DOWN:Je=-2;break;case Ge.Z.BACKSPACE:case Ge.Z.DELETE:Vn(pn);break}Je!==null&&(Ne.preventDefault(),vr(Je,pn))}},Ro=function(Ne){switch(Ne.which||Ne.keyCode){case Ge.Z.LEFT:case Ge.Z.RIGHT:case Ge.Z.UP:case Ge.Z.DOWN:case Ge.Z.HOME:case Ge.Z.END:case Ge.Z.PAGE_UP:case Ge.Z.PAGE_DOWN:hr==null||hr();break}},So=St(Ur,un,Xn,lr),io={};if(pn!==null){var Pe;io={tabIndex:Ln?null:Ot(Wi,pn),role:"slider","aria-valuemin":Xn,"aria-valuemax":lr,"aria-valuenow":un,"aria-disabled":Ln,"aria-label":Ot(po,pn),"aria-labelledby":Ot(kr,pn),"aria-required":Ot(no,pn),"aria-valuetext":(Pe=Ot(qt,pn))===null||Pe===void 0?void 0:Pe(un),"aria-orientation":Ur==="ltr"||Ur==="rtl"?"horizontal":"vertical",onMouseDown:li,onTouchStart:li,onFocus:ii,onMouseEnter:Ki,onKeyDown:eo,onKeyUp:Ro}}var de=ke.createElement("div",(0,Xe.Z)({ref:jt,className:je()($r,(0,ht.Z)((0,ht.Z)((0,ht.Z)({},"".concat($r,"-").concat(pn+1),pn!==null&&fi),"".concat($r,"-dragging"),Zr),"".concat($r,"-dragging-delete"),ei),Jn.handle),style:(0,s.Z)((0,s.Z)((0,s.Z)({},So),Xr),xn.handle)},io,yr));return ri&&(de=ri(de,{index:pn,prefixCls:Fn,value:un,dragging:Zr,draggingDelete:ei})),de}),Ar=Ht,Cr=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","draggingDelete","onFocus"],Dr=ke.forwardRef(function(st,jt){var Fn=st.prefixCls,un=st.style,pn=st.onStartMove,Sr=st.onOffsetChange,Vn=st.values,Xr=st.handleRender,ri=st.activeHandleRender,Zr=st.draggingIndex,ei=st.draggingDelete,vr=st.onFocus,hr=(0,at.Z)(st,Cr),ur=ke.useRef({}),wr=ke.useState(!1),yr=(0,Ie.Z)(wr,2),Nr=yr[0],Xn=yr[1],lr=ke.useState(-1),Ur=(0,Ie.Z)(lr,2),Ln=Ur[0],_i=Ur[1],fi=function(qt){_i(qt),Xn(!0)},Wi=function(qt,xn){fi(xn),vr==null||vr(qt)},po=function(qt,xn){fi(xn)};ke.useImperativeHandle(jt,function(){return{focus:function(qt){var xn;(xn=ur.current[qt])===null||xn===void 0||xn.focus()},hideHelp:function(){(0,xt.flushSync)(function(){Xn(!1)})}}});var kr=(0,s.Z)({prefixCls:Fn,onStartMove:pn,onOffsetChange:Sr,render:Xr,onFocus:Wi,onMouseEnter:po},hr);return ke.createElement(ke.Fragment,null,Vn.map(function(no,qt){var xn=Zr===qt;return ke.createElement(Ar,(0,Xe.Z)({ref:function($r){$r?ur.current[qt]=$r:delete ur.current[qt]},dragging:xn,draggingDelete:xn&&ei,style:Ot(un,qt),key:qt,value:no,valueIndex:qt},kr))}),ri&&Nr&&ke.createElement(Ar,(0,Xe.Z)({key:"a11y"},kr,{value:Vn[Ln],valueIndex:null,dragging:Zr!==-1,draggingDelete:ei,render:ri,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}),Ue=Dr,sn=function(jt){var Fn=jt.prefixCls,un=jt.style,pn=jt.children,Sr=jt.value,Vn=jt.onClick,Xr=ke.useContext(Pt),ri=Xr.min,Zr=Xr.max,ei=Xr.direction,vr=Xr.includedStart,hr=Xr.includedEnd,ur=Xr.included,wr="".concat(Fn,"-text"),yr=St(ei,Sr,ri,Zr);return ke.createElement("span",{className:je()(wr,(0,ht.Z)({},"".concat(wr,"-active"),ur&&vr<=Sr&&Sr<=hr)),style:(0,s.Z)((0,s.Z)({},yr),un),onMouseDown:function(Xn){Xn.stopPropagation()},onClick:function(){Vn(Sr)}},pn)},Bn=sn,En=function(jt){var Fn=jt.prefixCls,un=jt.marks,pn=jt.onClick,Sr="".concat(Fn,"-mark");return un.length?ke.createElement("div",{className:Sr},un.map(function(Vn){var Xr=Vn.value,ri=Vn.style,Zr=Vn.label;return ke.createElement(Bn,{key:Xr,prefixCls:Sr,style:ri,value:Xr,onClick:pn},Zr)})):null},Be=En,Gn=function(jt){var Fn=jt.prefixCls,un=jt.value,pn=jt.style,Sr=jt.activeStyle,Vn=ke.useContext(Pt),Xr=Vn.min,ri=Vn.max,Zr=Vn.direction,ei=Vn.included,vr=Vn.includedStart,hr=Vn.includedEnd,ur="".concat(Fn,"-dot"),wr=ei&&vr<=un&&un<=hr,yr=(0,s.Z)((0,s.Z)({},St(Zr,un,Xr,ri)),typeof pn=="function"?pn(un):pn);return wr&&(yr=(0,s.Z)((0,s.Z)({},yr),typeof Sr=="function"?Sr(un):Sr)),ke.createElement("span",{className:je()(ur,(0,ht.Z)({},"".concat(ur,"-active"),wr)),style:yr})},In=Gn,Rn=function(jt){var Fn=jt.prefixCls,un=jt.marks,pn=jt.dots,Sr=jt.style,Vn=jt.activeStyle,Xr=ke.useContext(Pt),ri=Xr.min,Zr=Xr.max,ei=Xr.step,vr=ke.useMemo(function(){var hr=new Set;if(un.forEach(function(wr){hr.add(wr.value)}),pn&&ei!==null)for(var ur=ri;ur<=Zr;)hr.add(ur),ur+=ei;return Array.from(hr)},[ri,Zr,ei,pn,un]);return ke.createElement("div",{className:"".concat(Fn,"-step")},vr.map(function(hr){return ke.createElement(In,{prefixCls:Fn,key:hr,value:hr,style:Sr,activeStyle:Vn})}))},pt=Rn,an=function(jt){var Fn=jt.prefixCls,un=jt.style,pn=jt.start,Sr=jt.end,Vn=jt.index,Xr=jt.onStartMove,ri=jt.replaceCls,Zr=ke.useContext(Pt),ei=Zr.direction,vr=Zr.min,hr=Zr.max,ur=Zr.disabled,wr=Zr.range,yr=Zr.classNames,Nr="".concat(Fn,"-track"),Xn=ot(pn,vr,hr),lr=ot(Sr,vr,hr),Ur=function(Wi){!ur&&Xr&&Xr(Wi,-1)},Ln={};switch(ei){case"rtl":Ln.right="".concat(Xn*100,"%"),Ln.width="".concat(lr*100-Xn*100,"%");break;case"btt":Ln.bottom="".concat(Xn*100,"%"),Ln.height="".concat(lr*100-Xn*100,"%");break;case"ttb":Ln.top="".concat(Xn*100,"%"),Ln.height="".concat(lr*100-Xn*100,"%");break;default:Ln.left="".concat(Xn*100,"%"),Ln.width="".concat(lr*100-Xn*100,"%")}var _i=ri||je()(Nr,(0,ht.Z)((0,ht.Z)({},"".concat(Nr,"-").concat(Vn+1),Vn!==null&&wr),"".concat(Fn,"-track-draggable"),Xr),yr.track);return ke.createElement("div",{className:_i,style:(0,s.Z)((0,s.Z)({},Ln),un),onMouseDown:Ur,onTouchStart:Ur})},Tn=an,me=function(jt){var Fn=jt.prefixCls,un=jt.style,pn=jt.values,Sr=jt.startPoint,Vn=jt.onStartMove,Xr=ke.useContext(Pt),ri=Xr.included,Zr=Xr.range,ei=Xr.min,vr=Xr.styles,hr=Xr.classNames,ur=ke.useMemo(function(){if(!Zr){if(pn.length===0)return[];var yr=Sr!=null?Sr:ei,Nr=pn[0];return[{start:Math.min(yr,Nr),end:Math.max(yr,Nr)}]}for(var Xn=[],lr=0;lr<pn.length-1;lr+=1)Xn.push({start:pn[lr],end:pn[lr+1]});return Xn},[pn,Zr,Sr,ei]);if(!ri)return null;var wr=ur!=null&&ur.length&&(hr.tracks||vr.tracks)?ke.createElement(Tn,{index:null,prefixCls:Fn,start:ur[0].start,end:ur[ur.length-1].end,replaceCls:je()(hr.tracks,"".concat(Fn,"-tracks")),style:vr.tracks}):null;return ke.createElement(ke.Fragment,null,wr,ur.map(function(yr,Nr){var Xn=yr.start,lr=yr.end;return ke.createElement(Tn,{index:Nr,prefixCls:Fn,style:(0,s.Z)((0,s.Z)({},Ot(un,Nr)),vr.track),start:Xn,end:lr,key:Nr,onStartMove:Vn})}))},nn=me,bi=j(92076),ui=130;function $e(st){var jt="targetTouches"in st?st.targetTouches[0]:st;return{pageX:jt.pageX,pageY:jt.pageY}}function Mn(st,jt,Fn,un,pn,Sr,Vn,Xr,ri,Zr,ei){var vr=ke.useState(null),hr=(0,Ie.Z)(vr,2),ur=hr[0],wr=hr[1],yr=ke.useState(-1),Nr=(0,Ie.Z)(yr,2),Xn=Nr[0],lr=Nr[1],Ur=ke.useState(!1),Ln=(0,Ie.Z)(Ur,2),_i=Ln[0],fi=Ln[1],Wi=ke.useState(Fn),po=(0,Ie.Z)(Wi,2),kr=po[0],no=po[1],qt=ke.useState(Fn),xn=(0,Ie.Z)(qt,2),Jn=xn[0],$r=xn[1],li=ke.useRef(null),ii=ke.useRef(null),Ki=ke.useRef(null),eo=ke.useContext(Ft),Ro=eo.onDragStart,So=eo.onDragChange;(0,bi.Z)(function(){Xn===-1&&no(Fn)},[Fn,Xn]),ke.useEffect(function(){return function(){document.removeEventListener("mousemove",li.current),document.removeEventListener("mouseup",ii.current),Ki.current&&(Ki.current.removeEventListener("touchmove",li.current),Ki.current.removeEventListener("touchend",ii.current))}},[]);var io=function(Je,ge,dt){ge!==void 0&&wr(ge),no(Je);var _t=Je;dt&&(_t=Je.filter(function(Tt,Yt){return Yt!==Xn})),Vn(_t),So&&So({rawValues:Je,deleteIndex:dt?Xn:-1,draggingIndex:Xn,draggingValue:ge})},Pe=(0,Le.Z)(function(Ne,Je,ge){if(Ne===-1){var dt=Jn[0],_t=Jn[Jn.length-1],Tt=un-dt,Yt=pn-_t,hn=Je*(pn-un);hn=Math.max(hn,Tt),hn=Math.min(hn,Yt);var We=Sr(dt+hn);hn=We-dt;var Et=Jn.map(function(Qe){return Qe+hn});io(Et)}else{var kt=(pn-un)*Je,Kt=(0,J.Z)(kr);Kt[Ne]=Jn[Ne];var rt=ri(Kt,kt,Ne,"dist");io(rt.values,rt.value,ge)}}),de=function(Je,ge,dt){Je.stopPropagation();var _t=dt||Fn,Tt=_t[ge];lr(ge),wr(Tt),$r(_t),no(_t),fi(!1);var Yt=$e(Je),hn=Yt.pageX,We=Yt.pageY,Et=!1;Ro&&Ro({rawValues:_t,draggingIndex:ge,draggingValue:Tt});var kt=function(Qe){Qe.preventDefault();var gn=$e(Qe),mn=gn.pageX,kn=gn.pageY,br=mn-hn,ar=kn-We,Mr=st.current.getBoundingClientRect(),qr=Mr.width,oi=Mr.height,Zi,ft;switch(jt){case"btt":Zi=-ar/oi,ft=br;break;case"ttb":Zi=ar/oi,ft=br;break;case"rtl":Zi=-br/qr,ft=ar;break;default:Zi=br/qr,ft=ar}Et=Zr?Math.abs(ft)>ui&&ei<kr.length:!1,fi(Et),Pe(ge,Zi,Et)},Kt=function rt(Qe){Qe.preventDefault(),document.removeEventListener("mouseup",rt),document.removeEventListener("mousemove",kt),Ki.current&&(Ki.current.removeEventListener("touchmove",li.current),Ki.current.removeEventListener("touchend",ii.current)),li.current=null,ii.current=null,Ki.current=null,Xr(Et),lr(-1),fi(!1)};document.addEventListener("mouseup",Kt),document.addEventListener("mousemove",kt),Je.currentTarget.addEventListener("touchend",Kt),Je.currentTarget.addEventListener("touchmove",kt),li.current=kt,ii.current=Kt,Ki.current=Je.currentTarget},K=ke.useMemo(function(){var Ne=(0,J.Z)(Fn).sort(function(Tt,Yt){return Tt-Yt}),Je=(0,J.Z)(kr).sort(function(Tt,Yt){return Tt-Yt}),ge={};Je.forEach(function(Tt){ge[Tt]=(ge[Tt]||0)+1}),Ne.forEach(function(Tt){ge[Tt]=(ge[Tt]||0)-1});var dt=Zr?1:0,_t=Object.values(ge).reduce(function(Tt,Yt){return Tt+Math.abs(Yt)},0);return _t<=dt?kr:Fn},[Fn,kr,Zr]);return[Xn,ur,_i,K,de]}var Kr=Mn;function jr(st,jt,Fn,un,pn,Sr){var Vn=ke.useCallback(function(ur){return Math.max(st,Math.min(jt,ur))},[st,jt]),Xr=ke.useCallback(function(ur){if(Fn!==null){var wr=st+Math.round((Vn(ur)-st)/Fn)*Fn,yr=function(Ur){return(String(Ur).split(".")[1]||"").length},Nr=Math.max(yr(Fn),yr(jt),yr(st)),Xn=Number(wr.toFixed(Nr));return st<=Xn&&Xn<=jt?Xn:null}return null},[Fn,st,jt,Vn]),ri=ke.useCallback(function(ur){var wr=Vn(ur),yr=un.map(function(lr){return lr.value});Fn!==null&&yr.push(Xr(ur)),yr.push(st,jt);var Nr=yr[0],Xn=jt-st;return yr.forEach(function(lr){var Ur=Math.abs(wr-lr);Ur<=Xn&&(Nr=lr,Xn=Ur)}),Nr},[st,jt,un,Fn,Vn,Xr]),Zr=function ur(wr,yr,Nr){var Xn=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof yr=="number"){var lr,Ur=wr[Nr],Ln=Ur+yr,_i=[];un.forEach(function(no){_i.push(no.value)}),_i.push(st,jt),_i.push(Xr(Ur));var fi=yr>0?1:-1;Xn==="unit"?_i.push(Xr(Ur+fi*Fn)):_i.push(Xr(Ln)),_i=_i.filter(function(no){return no!==null}).filter(function(no){return yr<0?no<=Ur:no>=Ur}),Xn==="unit"&&(_i=_i.filter(function(no){return no!==Ur}));var Wi=Xn==="unit"?Ur:Ln;lr=_i[0];var po=Math.abs(lr-Wi);if(_i.forEach(function(no){var qt=Math.abs(no-Wi);qt<po&&(lr=no,po=qt)}),lr===void 0)return yr<0?st:jt;if(Xn==="dist")return lr;if(Math.abs(yr)>1){var kr=(0,J.Z)(wr);return kr[Nr]=lr,ur(kr,yr-fi,Nr,Xn)}return lr}else{if(yr==="min")return st;if(yr==="max")return jt}},ei=function(wr,yr,Nr){var Xn=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",lr=wr[Nr],Ur=Zr(wr,yr,Nr,Xn);return{value:Ur,changed:Ur!==lr}},vr=function(wr){return Sr===null&&wr===0||typeof Sr=="number"&&wr<Sr},hr=function(wr,yr,Nr){var Xn=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",lr=wr.map(ri),Ur=lr[Nr],Ln=Zr(lr,yr,Nr,Xn);if(lr[Nr]=Ln,pn===!1){var _i=Sr||0;Nr>0&&lr[Nr-1]!==Ur&&(lr[Nr]=Math.max(lr[Nr],lr[Nr-1]+_i)),Nr<lr.length-1&&lr[Nr+1]!==Ur&&(lr[Nr]=Math.min(lr[Nr],lr[Nr+1]-_i))}else if(typeof Sr=="number"||Sr===null){for(var fi=Nr+1;fi<lr.length;fi+=1)for(var Wi=!0;vr(lr[fi]-lr[fi-1])&&Wi;){var po=ei(lr,1,fi);lr[fi]=po.value,Wi=po.changed}for(var kr=Nr;kr>0;kr-=1)for(var no=!0;vr(lr[kr]-lr[kr-1])&&no;){var qt=ei(lr,-1,kr-1);lr[kr-1]=qt.value,no=qt.changed}for(var xn=lr.length-1;xn>0;xn-=1)for(var Jn=!0;vr(lr[xn]-lr[xn-1])&&Jn;){var $r=ei(lr,-1,xn-1);lr[xn-1]=$r.value,Jn=$r.changed}for(var li=0;li<lr.length-1;li+=1)for(var ii=!0;vr(lr[li+1]-lr[li])&&ii;){var Ki=ei(lr,1,li+1);lr[li+1]=Ki.value,ii=Ki.changed}}return{value:lr[Nr],values:lr}};return[ri,hr]}function Sn(st){return(0,ke.useMemo)(function(){if(st===!0||!st)return[!!st,!1,!1,0];var jt=st.editable,Fn=st.draggableTrack,un=st.minCount,pn=st.maxCount;return[!0,jt,!jt&&Fn,un||0,pn]},[st])}var Fr=ke.forwardRef(function(st,jt){var Fn=st.prefixCls,un=Fn===void 0?"rc-slider":Fn,pn=st.className,Sr=st.style,Vn=st.classNames,Xr=st.styles,ri=st.id,Zr=st.disabled,ei=Zr===void 0?!1:Zr,vr=st.keyboard,hr=vr===void 0?!0:vr,ur=st.autoFocus,wr=st.onFocus,yr=st.onBlur,Nr=st.min,Xn=Nr===void 0?0:Nr,lr=st.max,Ur=lr===void 0?100:lr,Ln=st.step,_i=Ln===void 0?1:Ln,fi=st.value,Wi=st.defaultValue,po=st.range,kr=st.count,no=st.onChange,qt=st.onBeforeChange,xn=st.onAfterChange,Jn=st.onChangeComplete,$r=st.allowCross,li=$r===void 0?!0:$r,ii=st.pushable,Ki=ii===void 0?!1:ii,eo=st.reverse,Ro=st.vertical,So=st.included,io=So===void 0?!0:So,Pe=st.startPoint,de=st.trackStyle,K=st.handleStyle,Ne=st.railStyle,Je=st.dotStyle,ge=st.activeDotStyle,dt=st.marks,_t=st.dots,Tt=st.handleRender,Yt=st.activeHandleRender,hn=st.track,We=st.tabIndex,Et=We===void 0?0:We,kt=st.ariaLabelForHandle,Kt=st.ariaLabelledByForHandle,rt=st.ariaRequired,Qe=st.ariaValueTextFormatterForHandle,gn=ke.useRef(null),mn=ke.useRef(null),kn=ke.useMemo(function(){return Ro?eo?"ttb":"btt":eo?"rtl":"ltr"},[eo,Ro]),br=Sn(po),ar=(0,Ie.Z)(br,5),Mr=ar[0],qr=ar[1],oi=ar[2],Zi=ar[3],ft=ar[4],_n=ke.useMemo(function(){return isFinite(Xn)?Xn:0},[Xn]),Ut=ke.useMemo(function(){return isFinite(Ur)?Ur:100},[Ur]),bn=ke.useMemo(function(){return _i!==null&&_i<=0?1:_i},[_i]),sr=ke.useMemo(function(){return typeof Ki=="boolean"?Ki?bn:!1:Ki>=0?Ki:!1},[Ki,bn]),Yr=ke.useMemo(function(){return Object.keys(dt||{}).map(function(be){var Ze=dt[be],De={value:Number(be)};return Ze&&(0,u.Z)(Ze)==="object"&&!ke.isValidElement(Ze)&&("label"in Ze||"style"in Ze)?(De.style=Ze.style,De.label=Ze.label):De.label=Ze,De}).filter(function(be){var Ze=be.label;return Ze||typeof Ze=="number"}).sort(function(be,Ze){return be.value-Ze.value})},[dt]),Ti=jr(_n,Ut,bn,Yr,li,sr),ho=(0,Ie.Z)(Ti,2),zi=ho[0],Ji=ho[1],uo=(0,_e.Z)(Wi,{value:fi}),Ni=(0,Ie.Z)(uo,2),Po=Ni[0],Vo=Ni[1],$o=ke.useMemo(function(){var be=Po==null?[]:Array.isArray(Po)?Po:[Po],Ze=(0,Ie.Z)(be,1),De=Ze[0],$t=De===void 0?_n:De,tn=Po===null?[]:[$t];if(Mr){if(tn=(0,J.Z)(be),kr||Po===void 0){var Wn=kr>=0?kr+1:2;for(tn=tn.slice(0,Wn);tn.length<Wn;){var pr;tn.push((pr=tn[tn.length-1])!==null&&pr!==void 0?pr:_n)}}tn.sort(function(ir,rr){return ir-rr})}return tn.forEach(function(ir,rr){tn[rr]=zi(ir)}),tn},[Po,Mr,_n,kr,zi]),_o=function(Ze){return Mr?Ze:Ze[0]},Oo=(0,Le.Z)(function(be){var Ze=(0,J.Z)(be).sort(function(De,$t){return De-$t});no&&!(0,oe.Z)(Ze,$o,!0)&&no(_o(Ze)),Vo(Ze)}),zo=(0,Le.Z)(function(be){be&&gn.current.hideHelp();var Ze=_o($o);xn==null||xn(Ze),(0,Ye.ZP)(!xn,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),Jn==null||Jn(Ze)}),qo=function(Ze){if(!(ei||!qr||$o.length<=Zi)){var De=(0,J.Z)($o);De.splice(Ze,1),qt==null||qt(_o(De)),Oo(De);var $t=Math.max(0,Ze-1);gn.current.hideHelp(),gn.current.focus($t)}},oo=Kr(mn,kn,$o,_n,Ut,zi,Oo,zo,Ji,qr,Zi),wo=(0,Ie.Z)(oo,5),go=wo[0],so=wo[1],to=wo[2],ko=wo[3],Pr=wo[4],Ho=function(Ze,De){if(!ei){var $t=(0,J.Z)($o),tn=0,Wn=0,pr=Ut-_n;$o.forEach(function(Ci,pi){var wi=Math.abs(Ze-Ci);wi<=pr&&(pr=wi,tn=pi),Ci<Ze&&(Wn=pi)});var ir=tn;qr&&pr!==0&&(!ft||$o.length<ft)?($t.splice(Wn+1,0,Ze),ir=Wn+1):$t[tn]=Ze,Mr&&!$o.length&&kr===void 0&&$t.push(Ze);var rr=_o($t);if(qt==null||qt(rr),Oo($t),De){var Vr,Si;(Vr=document.activeElement)===null||Vr===void 0||(Si=Vr.blur)===null||Si===void 0||Si.call(Vr),gn.current.focus(ir),Pr(De,ir,$t)}else xn==null||xn(rr),(0,Ye.ZP)(!xn,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),Jn==null||Jn(rr)}},ha=function(Ze){Ze.preventDefault();var De=mn.current.getBoundingClientRect(),$t=De.width,tn=De.height,Wn=De.left,pr=De.top,ir=De.bottom,rr=De.right,Vr=Ze.clientX,Si=Ze.clientY,Ci;switch(kn){case"btt":Ci=(ir-Si)/tn;break;case"ttb":Ci=(Si-pr)/tn;break;case"rtl":Ci=(rr-Vr)/$t;break;default:Ci=(Vr-Wn)/$t}var pi=_n+Ci*(Ut-_n);Ho(zi(pi),Ze)},za=ke.useState(null),Vi=(0,Ie.Z)(za,2),ma=Vi[0],qa=Vi[1],Jr=function(Ze,De){if(!ei){var $t=Ji($o,Ze,De);qt==null||qt(_o($o)),Oo($t.values),qa($t.value)}};ke.useEffect(function(){if(ma!==null){var be=$o.indexOf(ma);be>=0&&gn.current.focus(be)}qa(null)},[ma]);var vo=ke.useMemo(function(){return oi&&bn===null?!1:oi},[oi,bn]),Ao=(0,Le.Z)(function(be,Ze){Pr(be,Ze),qt==null||qt(_o($o))}),Yo=go!==-1;ke.useEffect(function(){if(!Yo){var be=$o.lastIndexOf(so);gn.current.focus(be)}},[Yo]);var co=ke.useMemo(function(){return(0,J.Z)(ko).sort(function(be,Ze){return be-Ze})},[ko]),Ai=ke.useMemo(function(){return Mr?[co[0],co[co.length-1]]:[_n,co[0]]},[co,Mr,_n]),ga=(0,Ie.Z)(Ai,2),jo=ga[0],en=ga[1];ke.useImperativeHandle(jt,function(){return{focus:function(){gn.current.focus(0)},blur:function(){var Ze,De=document,$t=De.activeElement;(Ze=mn.current)!==null&&Ze!==void 0&&Ze.contains($t)&&($t==null||$t.blur())}}}),ke.useEffect(function(){ur&&gn.current.focus(0)},[]);var Ve=ke.useMemo(function(){return{min:_n,max:Ut,direction:kn,disabled:ei,keyboard:hr,step:bn,included:io,includedStart:jo,includedEnd:en,range:Mr,tabIndex:Et,ariaLabelForHandle:kt,ariaLabelledByForHandle:Kt,ariaRequired:rt,ariaValueTextFormatterForHandle:Qe,styles:Xr||{},classNames:Vn||{}}},[_n,Ut,kn,ei,hr,bn,io,jo,en,Mr,Et,kt,Kt,rt,Qe,Xr,Vn]);return ke.createElement(Pt.Provider,{value:Ve},ke.createElement("div",{ref:mn,className:je()(un,pn,(0,ht.Z)((0,ht.Z)((0,ht.Z)((0,ht.Z)({},"".concat(un,"-disabled"),ei),"".concat(un,"-vertical"),Ro),"".concat(un,"-horizontal"),!Ro),"".concat(un,"-with-marks"),Yr.length)),style:Sr,onMouseDown:ha,id:ri},ke.createElement("div",{className:je()("".concat(un,"-rail"),Vn==null?void 0:Vn.rail),style:(0,s.Z)((0,s.Z)({},Ne),Xr==null?void 0:Xr.rail)}),hn!==!1&&ke.createElement(nn,{prefixCls:un,style:de,values:$o,startPoint:Pe,onStartMove:vo?Ao:void 0}),ke.createElement(pt,{prefixCls:un,marks:Yr,dots:_t,style:Je,activeStyle:ge}),ke.createElement(Ue,{ref:gn,prefixCls:un,style:K,values:ko,draggingIndex:go,draggingDelete:to,onStartMove:Ao,onOffsetChange:Jr,onFocus:wr,onBlur:yr,handleRender:Tt,activeHandleRender:Yt,onChangeComplete:zo,onDelete:qr?qo:void 0}),ke.createElement(Be,{prefixCls:un,marks:Yr,onClick:Ho})))}),Ii=Fr,fr=Ii},3806:function(Qr){var Jt=function(j){return j.replace(/[A-Z]/g,function(s){return"-"+s.toLowerCase()}).toLowerCase()};Qr.exports=Jt},67825:function(Qr,Jt,j){var s=j(64382);function ht(J,u){if(J==null)return{};var Ie=s(J,u),He,je;if(Object.getOwnPropertySymbols){var Le=Object.getOwnPropertySymbols(J);for(je=0;je<Le.length;je++)He=Le[je],!(u.indexOf(He)>=0)&&Object.prototype.propertyIsEnumerable.call(J,He)&&(Ie[He]=J[He])}return Ie}Qr.exports=ht,Qr.exports.__esModule=!0,Qr.exports.default=Qr.exports},64382:function(Qr){function Jt(j,s){if(j==null)return{};var ht={},J=Object.keys(j),u,Ie;for(Ie=0;Ie<J.length;Ie++)u=J[Ie],!(s.indexOf(u)>=0)&&(ht[u]=j[u]);return ht}Qr.exports=Jt,Qr.exports.__esModule=!0,Qr.exports.default=Qr.exports},90594:function(Qr,Jt,j){"use strict";j.d(Jt,{Z:function(){return ht}});function s(J,u,Ie,He,je,Le,_e){try{var oe=J[Le](_e),Ye=oe.value}catch(ke){return void Ie(ke)}oe.done?u(Ye):Promise.resolve(Ye).then(He,je)}function ht(J){return function(){var u=this,Ie=arguments;return new Promise(function(He,je){var Le=J.apply(u,Ie);function _e(Ye){s(Le,He,je,_e,oe,"next",Ye)}function oe(Ye){s(Le,He,je,_e,oe,"throw",Ye)}_e(void 0)})}}},57250:function(Qr,Jt,j){"use strict";j.d(Jt,{Z:function(){return ht}});var s=j(5147);function ht(){"use strict";ht=function(){return u};var J,u={},Ie=Object.prototype,He=Ie.hasOwnProperty,je=Object.defineProperty||function(Rn,pt,an){Rn[pt]=an.value},Le=typeof Symbol=="function"?Symbol:{},_e=Le.iterator||"@@iterator",oe=Le.asyncIterator||"@@asyncIterator",Ye=Le.toStringTag||"@@toStringTag";function ke(Rn,pt,an){return Object.defineProperty(Rn,pt,{value:an,enumerable:!0,configurable:!0,writable:!0}),Rn[pt]}try{ke({},"")}catch(Rn){ke=function(an,Tn,me){return an[Tn]=me}}function Xe(Rn,pt,an,Tn){var me=pt&&pt.prototype instanceof Qt?pt:Qt,nn=Object.create(me.prototype),bi=new Gn(Tn||[]);return je(nn,"_invoke",{value:sn(Rn,an,bi)}),nn}function at(Rn,pt,an){try{return{type:"normal",arg:Rn.call(pt,an)}}catch(Tn){return{type:"throw",arg:Tn}}}u.wrap=Xe;var xt="suspendedStart",ot="suspendedYield",St="executing",Ot="completed",Ge={};function Qt(){}function Pt(){}function Ft(){}var Xt={};ke(Xt,_e,function(){return this});var Ht=Object.getPrototypeOf,Ar=Ht&&Ht(Ht(In([])));Ar&&Ar!==Ie&&He.call(Ar,_e)&&(Xt=Ar);var Cr=Ft.prototype=Qt.prototype=Object.create(Xt);function Dr(Rn){["next","throw","return"].forEach(function(pt){ke(Rn,pt,function(an){return this._invoke(pt,an)})})}function Ue(Rn,pt){function an(me,nn,bi,ui){var $e=at(Rn[me],Rn,nn);if($e.type!=="throw"){var Mn=$e.arg,Kr=Mn.value;return Kr&&(0,s.Z)(Kr)=="object"&&He.call(Kr,"__await")?pt.resolve(Kr.__await).then(function(jr){an("next",jr,bi,ui)},function(jr){an("throw",jr,bi,ui)}):pt.resolve(Kr).then(function(jr){Mn.value=jr,bi(Mn)},function(jr){return an("throw",jr,bi,ui)})}ui($e.arg)}var Tn;je(this,"_invoke",{value:function(nn,bi){function ui(){return new pt(function($e,Mn){an(nn,bi,$e,Mn)})}return Tn=Tn?Tn.then(ui,ui):ui()}})}function sn(Rn,pt,an){var Tn=xt;return function(me,nn){if(Tn===St)throw Error("Generator is already running");if(Tn===Ot){if(me==="throw")throw nn;return{value:J,done:!0}}for(an.method=me,an.arg=nn;;){var bi=an.delegate;if(bi){var ui=Bn(bi,an);if(ui){if(ui===Ge)continue;return ui}}if(an.method==="next")an.sent=an._sent=an.arg;else if(an.method==="throw"){if(Tn===xt)throw Tn=Ot,an.arg;an.dispatchException(an.arg)}else an.method==="return"&&an.abrupt("return",an.arg);Tn=St;var $e=at(Rn,pt,an);if($e.type==="normal"){if(Tn=an.done?Ot:ot,$e.arg===Ge)continue;return{value:$e.arg,done:an.done}}$e.type==="throw"&&(Tn=Ot,an.method="throw",an.arg=$e.arg)}}}function Bn(Rn,pt){var an=pt.method,Tn=Rn.iterator[an];if(Tn===J)return pt.delegate=null,an==="throw"&&Rn.iterator.return&&(pt.method="return",pt.arg=J,Bn(Rn,pt),pt.method==="throw")||an!=="return"&&(pt.method="throw",pt.arg=new TypeError("The iterator does not provide a '"+an+"' method")),Ge;var me=at(Tn,Rn.iterator,pt.arg);if(me.type==="throw")return pt.method="throw",pt.arg=me.arg,pt.delegate=null,Ge;var nn=me.arg;return nn?nn.done?(pt[Rn.resultName]=nn.value,pt.next=Rn.nextLoc,pt.method!=="return"&&(pt.method="next",pt.arg=J),pt.delegate=null,Ge):nn:(pt.method="throw",pt.arg=new TypeError("iterator result is not an object"),pt.delegate=null,Ge)}function En(Rn){var pt={tryLoc:Rn[0]};1 in Rn&&(pt.catchLoc=Rn[1]),2 in Rn&&(pt.finallyLoc=Rn[2],pt.afterLoc=Rn[3]),this.tryEntries.push(pt)}function Be(Rn){var pt=Rn.completion||{};pt.type="normal",delete pt.arg,Rn.completion=pt}function Gn(Rn){this.tryEntries=[{tryLoc:"root"}],Rn.forEach(En,this),this.reset(!0)}function In(Rn){if(Rn||Rn===""){var pt=Rn[_e];if(pt)return pt.call(Rn);if(typeof Rn.next=="function")return Rn;if(!isNaN(Rn.length)){var an=-1,Tn=function me(){for(;++an<Rn.length;)if(He.call(Rn,an))return me.value=Rn[an],me.done=!1,me;return me.value=J,me.done=!0,me};return Tn.next=Tn}}throw new TypeError((0,s.Z)(Rn)+" is not iterable")}return Pt.prototype=Ft,je(Cr,"constructor",{value:Ft,configurable:!0}),je(Ft,"constructor",{value:Pt,configurable:!0}),Pt.displayName=ke(Ft,Ye,"GeneratorFunction"),u.isGeneratorFunction=function(Rn){var pt=typeof Rn=="function"&&Rn.constructor;return!!pt&&(pt===Pt||(pt.displayName||pt.name)==="GeneratorFunction")},u.mark=function(Rn){return Object.setPrototypeOf?Object.setPrototypeOf(Rn,Ft):(Rn.__proto__=Ft,ke(Rn,Ye,"GeneratorFunction")),Rn.prototype=Object.create(Cr),Rn},u.awrap=function(Rn){return{__await:Rn}},Dr(Ue.prototype),ke(Ue.prototype,oe,function(){return this}),u.AsyncIterator=Ue,u.async=function(Rn,pt,an,Tn,me){me===void 0&&(me=Promise);var nn=new Ue(Xe(Rn,pt,an,Tn),me);return u.isGeneratorFunction(pt)?nn:nn.next().then(function(bi){return bi.done?bi.value:nn.next()})},Dr(Cr),ke(Cr,Ye,"Generator"),ke(Cr,_e,function(){return this}),ke(Cr,"toString",function(){return"[object Generator]"}),u.keys=function(Rn){var pt=Object(Rn),an=[];for(var Tn in pt)an.push(Tn);return an.reverse(),function me(){for(;an.length;){var nn=an.pop();if(nn in pt)return me.value=nn,me.done=!1,me}return me.done=!0,me}},u.values=In,Gn.prototype={constructor:Gn,reset:function(pt){if(this.prev=0,this.next=0,this.sent=this._sent=J,this.done=!1,this.delegate=null,this.method="next",this.arg=J,this.tryEntries.forEach(Be),!pt)for(var an in this)an.charAt(0)==="t"&&He.call(this,an)&&!isNaN(+an.slice(1))&&(this[an]=J)},stop:function(){this.done=!0;var pt=this.tryEntries[0].completion;if(pt.type==="throw")throw pt.arg;return this.rval},dispatchException:function(pt){if(this.done)throw pt;var an=this;function Tn(Mn,Kr){return bi.type="throw",bi.arg=pt,an.next=Mn,Kr&&(an.method="next",an.arg=J),!!Kr}for(var me=this.tryEntries.length-1;me>=0;--me){var nn=this.tryEntries[me],bi=nn.completion;if(nn.tryLoc==="root")return Tn("end");if(nn.tryLoc<=this.prev){var ui=He.call(nn,"catchLoc"),$e=He.call(nn,"finallyLoc");if(ui&&$e){if(this.prev<nn.catchLoc)return Tn(nn.catchLoc,!0);if(this.prev<nn.finallyLoc)return Tn(nn.finallyLoc)}else if(ui){if(this.prev<nn.catchLoc)return Tn(nn.catchLoc,!0)}else{if(!$e)throw Error("try statement without catch or finally");if(this.prev<nn.finallyLoc)return Tn(nn.finallyLoc)}}}},abrupt:function(pt,an){for(var Tn=this.tryEntries.length-1;Tn>=0;--Tn){var me=this.tryEntries[Tn];if(me.tryLoc<=this.prev&&He.call(me,"finallyLoc")&&this.prev<me.finallyLoc){var nn=me;break}}nn&&(pt==="break"||pt==="continue")&&nn.tryLoc<=an&&an<=nn.finallyLoc&&(nn=null);var bi=nn?nn.completion:{};return bi.type=pt,bi.arg=an,nn?(this.method="next",this.next=nn.finallyLoc,Ge):this.complete(bi)},complete:function(pt,an){if(pt.type==="throw")throw pt.arg;return pt.type==="break"||pt.type==="continue"?this.next=pt.arg:pt.type==="return"?(this.rval=this.arg=pt.arg,this.method="return",this.next="end"):pt.type==="normal"&&an&&(this.next=an),Ge},finish:function(pt){for(var an=this.tryEntries.length-1;an>=0;--an){var Tn=this.tryEntries[an];if(Tn.finallyLoc===pt)return this.complete(Tn.completion,Tn.afterLoc),Be(Tn),Ge}},catch:function(pt){for(var an=this.tryEntries.length-1;an>=0;--an){var Tn=this.tryEntries[an];if(Tn.tryLoc===pt){var me=Tn.completion;if(me.type==="throw"){var nn=me.arg;Be(Tn)}return nn}}throw Error("illegal catch attempt")},delegateYield:function(pt,an,Tn){return this.delegate={iterator:In(pt),resultName:an,nextLoc:Tn},this.method==="next"&&(this.arg=J),Ge}},u}},69370:function(Qr,Jt,j){"use strict";j.d(Jt,{Z:function(){return ah}});function s(){this.__data__=[],this.size=0}var ht=s;function J(ln,Tr){return ln===Tr||ln!==ln&&Tr!==Tr}var u=J;function Ie(ln,Tr){for(var Ui=ln.length;Ui--;)if(u(ln[Ui][0],Tr))return Ui;return-1}var He=Ie,je=Array.prototype,Le=je.splice;function _e(ln){var Tr=this.__data__,Ui=He(Tr,ln);if(Ui<0)return!1;var na=Tr.length-1;return Ui==na?Tr.pop():Le.call(Tr,Ui,1),--this.size,!0}var oe=_e;function Ye(ln){var Tr=this.__data__,Ui=He(Tr,ln);return Ui<0?void 0:Tr[Ui][1]}var ke=Ye;function Xe(ln){return He(this.__data__,ln)>-1}var at=Xe;function xt(ln,Tr){var Ui=this.__data__,na=He(Ui,ln);return na<0?(++this.size,Ui.push([ln,Tr])):Ui[na][1]=Tr,this}var ot=xt;function St(ln){var Tr=-1,Ui=ln==null?0:ln.length;for(this.clear();++Tr<Ui;){var na=ln[Tr];this.set(na[0],na[1])}}St.prototype.clear=ht,St.prototype.delete=oe,St.prototype.get=ke,St.prototype.has=at,St.prototype.set=ot;var Ot=St;function Ge(){this.__data__=new Ot,this.size=0}var Qt=Ge;function Pt(ln){var Tr=this.__data__,Ui=Tr.delete(ln);return this.size=Tr.size,Ui}var Ft=Pt;function Xt(ln){return this.__data__.get(ln)}var Ht=Xt;function Ar(ln){return this.__data__.has(ln)}var Cr=Ar,Dr=typeof global=="object"&&global&&global.Object===Object&&global,Ue=Dr,sn=typeof self=="object"&&self&&self.Object===Object&&self,Bn=Ue||sn||Function("return this")(),En=Bn,Be=En.Symbol,Gn=Be,In=Object.prototype,Rn=In.hasOwnProperty,pt=In.toString,an=Gn?Gn.toStringTag:void 0;function Tn(ln){var Tr=Rn.call(ln,an),Ui=ln[an];try{ln[an]=void 0;var na=!0}catch(is){}var rl=pt.call(ln);return na&&(Tr?ln[an]=Ui:delete ln[an]),rl}var me=Tn,nn=Object.prototype,bi=nn.toString;function ui(ln){return bi.call(ln)}var $e=ui,Mn="[object Null]",Kr="[object Undefined]",jr=Gn?Gn.toStringTag:void 0;function Sn(ln){return ln==null?ln===void 0?Kr:Mn:jr&&jr in Object(ln)?me(ln):$e(ln)}var Fr=Sn;function Ii(ln){var Tr=typeof ln;return ln!=null&&(Tr=="object"||Tr=="function")}var fr=Ii,st="[object AsyncFunction]",jt="[object Function]",Fn="[object GeneratorFunction]",un="[object Proxy]";function pn(ln){if(!fr(ln))return!1;var Tr=Fr(ln);return Tr==jt||Tr==Fn||Tr==st||Tr==un}var Sr=pn,Vn=En["__core-js_shared__"],Xr=Vn,ri=function(){var ln=/[^.]+$/.exec(Xr&&Xr.keys&&Xr.keys.IE_PROTO||"");return ln?"Symbol(src)_1."+ln:""}();function Zr(ln){return!!ri&&ri in ln}var ei=Zr,vr=Function.prototype,hr=vr.toString;function ur(ln){if(ln!=null){try{return hr.call(ln)}catch(Tr){}try{return ln+""}catch(Tr){}}return""}var wr=ur,yr=/[\\^$.*+?()[\]{}|]/g,Nr=/^\[object .+?Constructor\]$/,Xn=Function.prototype,lr=Object.prototype,Ur=Xn.toString,Ln=lr.hasOwnProperty,_i=RegExp("^"+Ur.call(Ln).replace(yr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function fi(ln){if(!fr(ln)||ei(ln))return!1;var Tr=Sr(ln)?_i:Nr;return Tr.test(wr(ln))}var Wi=fi;function po(ln,Tr){return ln==null?void 0:ln[Tr]}var kr=po;function no(ln,Tr){var Ui=kr(ln,Tr);return Wi(Ui)?Ui:void 0}var qt=no,xn=qt(En,"Map"),Jn=xn,$r=qt(Object,"create"),li=$r;function ii(){this.__data__=li?li(null):{},this.size=0}var Ki=ii;function eo(ln){var Tr=this.has(ln)&&delete this.__data__[ln];return this.size-=Tr?1:0,Tr}var Ro=eo,So="__lodash_hash_undefined__",io=Object.prototype,Pe=io.hasOwnProperty;function de(ln){var Tr=this.__data__;if(li){var Ui=Tr[ln];return Ui===So?void 0:Ui}return Pe.call(Tr,ln)?Tr[ln]:void 0}var K=de,Ne=Object.prototype,Je=Ne.hasOwnProperty;function ge(ln){var Tr=this.__data__;return li?Tr[ln]!==void 0:Je.call(Tr,ln)}var dt=ge,_t="__lodash_hash_undefined__";function Tt(ln,Tr){var Ui=this.__data__;return this.size+=this.has(ln)?0:1,Ui[ln]=li&&Tr===void 0?_t:Tr,this}var Yt=Tt;function hn(ln){var Tr=-1,Ui=ln==null?0:ln.length;for(this.clear();++Tr<Ui;){var na=ln[Tr];this.set(na[0],na[1])}}hn.prototype.clear=Ki,hn.prototype.delete=Ro,hn.prototype.get=K,hn.prototype.has=dt,hn.prototype.set=Yt;var We=hn;function Et(){this.size=0,this.__data__={hash:new We,map:new(Jn||Ot),string:new We}}var kt=Et;function Kt(ln){var Tr=typeof ln;return Tr=="string"||Tr=="number"||Tr=="symbol"||Tr=="boolean"?ln!=="__proto__":ln===null}var rt=Kt;function Qe(ln,Tr){var Ui=ln.__data__;return rt(Tr)?Ui[typeof Tr=="string"?"string":"hash"]:Ui.map}var gn=Qe;function mn(ln){var Tr=gn(this,ln).delete(ln);return this.size-=Tr?1:0,Tr}var kn=mn;function br(ln){return gn(this,ln).get(ln)}var ar=br;function Mr(ln){return gn(this,ln).has(ln)}var qr=Mr;function oi(ln,Tr){var Ui=gn(this,ln),na=Ui.size;return Ui.set(ln,Tr),this.size+=Ui.size==na?0:1,this}var Zi=oi;function ft(ln){var Tr=-1,Ui=ln==null?0:ln.length;for(this.clear();++Tr<Ui;){var na=ln[Tr];this.set(na[0],na[1])}}ft.prototype.clear=kt,ft.prototype.delete=kn,ft.prototype.get=ar,ft.prototype.has=qr,ft.prototype.set=Zi;var _n=ft,Ut=200;function bn(ln,Tr){var Ui=this.__data__;if(Ui instanceof Ot){var na=Ui.__data__;if(!Jn||na.length<Ut-1)return na.push([ln,Tr]),this.size=++Ui.size,this;Ui=this.__data__=new _n(na)}return Ui.set(ln,Tr),this.size=Ui.size,this}var sr=bn;function Yr(ln){var Tr=this.__data__=new Ot(ln);this.size=Tr.size}Yr.prototype.clear=Qt,Yr.prototype.delete=Ft,Yr.prototype.get=Ht,Yr.prototype.has=Cr,Yr.prototype.set=sr;var Ti=Yr,ho="__lodash_hash_undefined__";function zi(ln){return this.__data__.set(ln,ho),this}var Ji=zi;function uo(ln){return this.__data__.has(ln)}var Ni=uo;function Po(ln){var Tr=-1,Ui=ln==null?0:ln.length;for(this.__data__=new _n;++Tr<Ui;)this.add(ln[Tr])}Po.prototype.add=Po.prototype.push=Ji,Po.prototype.has=Ni;var Vo=Po;function $o(ln,Tr){for(var Ui=-1,na=ln==null?0:ln.length;++Ui<na;)if(Tr(ln[Ui],Ui,ln))return!0;return!1}var _o=$o;function Oo(ln,Tr){return ln.has(Tr)}var zo=Oo,qo=1,oo=2;function wo(ln,Tr,Ui,na,rl,is){var pl=Ui&qo,Xs=ln.length,Al=Tr.length;if(Xs!=Al&&!(pl&&Al>Xs))return!1;var il=is.get(ln),Oc=is.get(Tr);if(il&&Oc)return il==Tr&&Oc==ln;var ic=-1,Dl=!0,Uc=Ui&oo?new Vo:void 0;for(is.set(ln,Tr),is.set(Tr,ln);++ic<Xs;){var zc=ln[ic],Ql=Tr[ic];if(na)var Lc=pl?na(Ql,zc,ic,Tr,ln,is):na(zc,Ql,ic,ln,Tr,is);if(Lc!==void 0){if(Lc)continue;Dl=!1;break}if(Uc){if(!_o(Tr,function(Hu,hd){if(!zo(Uc,hd)&&(zc===Hu||rl(zc,Hu,Ui,na,is)))return Uc.push(hd)})){Dl=!1;break}}else if(!(zc===Ql||rl(zc,Ql,Ui,na,is))){Dl=!1;break}}return is.delete(ln),is.delete(Tr),Dl}var go=wo,so=En.Uint8Array,to=so;function ko(ln){var Tr=-1,Ui=Array(ln.size);return ln.forEach(function(na,rl){Ui[++Tr]=[rl,na]}),Ui}var Pr=ko;function Ho(ln){var Tr=-1,Ui=Array(ln.size);return ln.forEach(function(na){Ui[++Tr]=na}),Ui}var ha=Ho,za=1,Vi=2,ma="[object Boolean]",qa="[object Date]",Jr="[object Error]",vo="[object Map]",Ao="[object Number]",Yo="[object RegExp]",co="[object Set]",Ai="[object String]",ga="[object Symbol]",jo="[object ArrayBuffer]",en="[object DataView]",Ve=Gn?Gn.prototype:void 0,be=Ve?Ve.valueOf:void 0;function Ze(ln,Tr,Ui,na,rl,is,pl){switch(Ui){case en:if(ln.byteLength!=Tr.byteLength||ln.byteOffset!=Tr.byteOffset)return!1;ln=ln.buffer,Tr=Tr.buffer;case jo:return!(ln.byteLength!=Tr.byteLength||!is(new to(ln),new to(Tr)));case ma:case qa:case Ao:return u(+ln,+Tr);case Jr:return ln.name==Tr.name&&ln.message==Tr.message;case Yo:case Ai:return ln==Tr+"";case vo:var Xs=Pr;case co:var Al=na&za;if(Xs||(Xs=ha),ln.size!=Tr.size&&!Al)return!1;var il=pl.get(ln);if(il)return il==Tr;na|=Vi,pl.set(ln,Tr);var Oc=go(Xs(ln),Xs(Tr),na,rl,is,pl);return pl.delete(ln),Oc;case ga:if(be)return be.call(ln)==be.call(Tr)}return!1}var De=Ze;function $t(ln,Tr){for(var Ui=-1,na=Tr.length,rl=ln.length;++Ui<na;)ln[rl+Ui]=Tr[Ui];return ln}var tn=$t,Wn=Array.isArray,pr=Wn;function ir(ln,Tr,Ui){var na=Tr(ln);return pr(ln)?na:tn(na,Ui(ln))}var rr=ir;function Vr(ln,Tr){for(var Ui=-1,na=ln==null?0:ln.length,rl=0,is=[];++Ui<na;){var pl=ln[Ui];Tr(pl,Ui,ln)&&(is[rl++]=pl)}return is}var Si=Vr;function Ci(){return[]}var pi=Ci,wi=Object.prototype,ti=wi.propertyIsEnumerable,Ri=Object.getOwnPropertySymbols,$i=Ri?function(ln){return ln==null?[]:(ln=Object(ln),Si(Ri(ln),function(Tr){return ti.call(ln,Tr)}))}:pi,yo=$i;function Qo(ln,Tr){for(var Ui=-1,na=Array(ln);++Ui<ln;)na[Ui]=Tr(Ui);return na}var aa=Qo;function Ea(ln){return ln!=null&&typeof ln=="object"}var Ma=Ea,wa="[object Arguments]";function Ca(ln){return Ma(ln)&&Fr(ln)==wa}var Za=Ca,ca=Object.prototype,cs=ca.hasOwnProperty,Va=ca.propertyIsEnumerable,as=Za(function(){return arguments}())?Za:function(ln){return Ma(ln)&&cs.call(ln,"callee")&&!Va.call(ln,"callee")},nl=as;function cl(){return!1}var Nl=cl,Hs=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Bl=Hs&&typeof module=="object"&&module&&!module.nodeType&&module,wc=Bl&&Bl.exports===Hs,ua=wc?En.Buffer:void 0,Ha=ua?ua.isBuffer:void 0,da=Ha||Nl,Jo=da,ys=9007199254740991,Fs=/^(?:0|[1-9]\d*)$/;function rc(ln,Tr){var Ui=typeof ln;return Tr=Tr==null?ys:Tr,!!Tr&&(Ui=="number"||Ui!="symbol"&&Fs.test(ln))&&ln>-1&&ln%1==0&&ln<Tr}var gc=rc,Zc=9007199254740991;function Ml(ln){return typeof ln=="number"&&ln>-1&&ln%1==0&&ln<=Zc}var Xl=Ml,sa="[object Arguments]",To="[object Array]",ru="[object Boolean]",Zo="[object Date]",Fl="[object Error]",fu="[object Function]",ea="[object Map]",cc="[object Number]",vc="[object Object]",iu="[object RegExp]",ju="[object Set]",Kl="[object String]",ll="[object WeakMap]",Ei="[object ArrayBuffer]",Eu="[object DataView]",Iu="[object Float32Array]",hu="[object Float64Array]",Gt="[object Int8Array]",An="[object Int16Array]",jn="[object Int32Array]",tr="[object Uint8Array]",Lr="[object Uint8ClampedArray]",Fi="[object Uint16Array]",ao="[object Uint32Array]",Li={};Li[Iu]=Li[hu]=Li[Gt]=Li[An]=Li[jn]=Li[tr]=Li[Lr]=Li[Fi]=Li[ao]=!0,Li[sa]=Li[To]=Li[Ei]=Li[ru]=Li[Eu]=Li[Zo]=Li[Fl]=Li[fu]=Li[ea]=Li[cc]=Li[vc]=Li[iu]=Li[ju]=Li[Kl]=Li[ll]=!1;function mo(ln){return Ma(ln)&&Xl(ln.length)&&!!Li[Fr(ln)]}var Hi=mo;function ki(ln){return function(Tr){return ln(Tr)}}var Fo=ki,fo=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Xo=fo&&typeof module=="object"&&module&&!module.nodeType&&module,Ga=Xo&&Xo.exports===fo,la=Ga&&Ue.process,Pa=function(){try{var ln=Xo&&Xo.require&&Xo.require("util").types;return ln||la&&la.binding&&la.binding("util")}catch(Tr){}}(),es=Pa,Ia=es&&es.isTypedArray,Ja=Ia?Fo(Ia):Hi,ja=Ja,ls=Object.prototype,ss=ls.hasOwnProperty;function Xa(ln,Tr){var Ui=pr(ln),na=!Ui&&nl(ln),rl=!Ui&&!na&&Jo(ln),is=!Ui&&!na&&!rl&&ja(ln),pl=Ui||na||rl||is,Xs=pl?aa(ln.length,String):[],Al=Xs.length;for(var il in ln)(Tr||ss.call(ln,il))&&!(pl&&(il=="length"||rl&&(il=="offset"||il=="parent")||is&&(il=="buffer"||il=="byteLength"||il=="byteOffset")||gc(il,Al)))&&Xs.push(il);return Xs}var Ds=Xa,ql=Object.prototype;function ul(ln){var Tr=ln&&ln.constructor,Ui=typeof Tr=="function"&&Tr.prototype||ql;return ln===Ui}var mu=ul;function Zu(ln,Tr){return function(Ui){return ln(Tr(Ui))}}var Vl=Zu,$l=Vl(Object.keys,Object),kl=$l,yc=Object.prototype,bc=yc.hasOwnProperty;function uc(ln){if(!mu(ln))return kl(ln);var Tr=[];for(var Ui in Object(ln))bc.call(ln,Ui)&&Ui!="constructor"&&Tr.push(Ui);return Tr}var Yl=uc;function jl(ln){return ln!=null&&Xl(ln.length)&&!Sr(ln)}var Vc=jl;function ks(ln){return Vc(ln)?Ds(ln):Yl(ln)}var dc=ks;function Jl(ln){return rr(ln,dc,yo)}var Qa=Jl,ad=1,Vu=Object.prototype,dp=Vu.hasOwnProperty;function Yf(ln,Tr,Ui,na,rl,is){var pl=Ui&ad,Xs=Qa(ln),Al=Xs.length,il=Qa(Tr),Oc=il.length;if(Al!=Oc&&!pl)return!1;for(var ic=Al;ic--;){var Dl=Xs[ic];if(!(pl?Dl in Tr:dp.call(Tr,Dl)))return!1}var Uc=is.get(ln),zc=is.get(Tr);if(Uc&&zc)return Uc==Tr&&zc==ln;var Ql=!0;is.set(ln,Tr),is.set(Tr,ln);for(var Lc=pl;++ic<Al;){Dl=Xs[ic];var Hu=ln[Dl],hd=Tr[Dl];if(na)var sh=pl?na(hd,Hu,Dl,Tr,ln,is):na(Hu,hd,Dl,ln,Tr,is);if(!(sh===void 0?Hu===hd||rl(Hu,hd,Ui,na,is):sh)){Ql=!1;break}Lc||(Lc=Dl=="constructor")}if(Ql&&!Lc){var Dd=ln.constructor,md=Tr.constructor;Dd!=md&&"constructor"in ln&&"constructor"in Tr&&!(typeof Dd=="function"&&Dd instanceof Dd&&typeof md=="function"&&md instanceof md)&&(Ql=!1)}return is.delete(ln),is.delete(Tr),Ql}var Rg=Yf,Vs=qt(En,"DataView"),pu=Vs,tf=qt(En,"Promise"),sd=tf,Od=qt(En,"Set"),Rd=Od,Jf=qt(En,"WeakMap"),Qf=Jf,ld="[object Map]",$d="[object Object]",eh="[object Promise]",_c="[object Set]",Ad="[object WeakMap]",cd="[object DataView]",nf=wr(pu),th=wr(Jn),nh=wr(sd),Pc=wr(Rd),rh=wr(Qf),gu=Fr;(pu&&gu(new pu(new ArrayBuffer(1)))!=cd||Jn&&gu(new Jn)!=ld||sd&&gu(sd.resolve())!=eh||Rd&&gu(new Rd)!=_c||Qf&&gu(new Qf)!=Ad)&&(gu=function(ln){var Tr=Fr(ln),Ui=Tr==$d?ln.constructor:void 0,na=Ui?wr(Ui):"";if(na)switch(na){case nf:return cd;case th:return ld;case nh:return eh;case Pc:return _c;case rh:return Ad}return Tr});var ud=gu,om=1,rf="[object Arguments]",Hc="[object Array]",vu="[object Object]",am=Object.prototype,ih=am.hasOwnProperty;function fp(ln,Tr,Ui,na,rl,is){var pl=pr(ln),Xs=pr(Tr),Al=pl?Hc:ud(ln),il=Xs?Hc:ud(Tr);Al=Al==rf?vu:Al,il=il==rf?vu:il;var Oc=Al==vu,ic=il==vu,Dl=Al==il;if(Dl&&Jo(ln)){if(!Jo(Tr))return!1;pl=!0,Oc=!1}if(Dl&&!Oc)return is||(is=new Ti),pl||ja(ln)?go(ln,Tr,Ui,na,rl,is):De(ln,Tr,Al,Ui,na,rl,is);if(!(Ui&om)){var Uc=Oc&&ih.call(ln,"__wrapped__"),zc=ic&&ih.call(Tr,"__wrapped__");if(Uc||zc){var Ql=Uc?ln.value():ln,Lc=zc?Tr.value():Tr;return is||(is=new Ti),rl(Ql,Lc,Ui,na,is)}}return Dl?(is||(is=new Ti),Rg(ln,Tr,Ui,na,rl,is)):!1}var of=fp;function dd(ln,Tr,Ui,na,rl){return ln===Tr?!0:ln==null||Tr==null||!Ma(ln)&&!Ma(Tr)?ln!==ln&&Tr!==Tr:of(ln,Tr,Ui,na,dd,rl)}var oh=dd;function fd(ln,Tr){return oh(ln,Tr)}var ah=fd},56680:function(Qr,Jt,j){"use strict";j.d(Jt,{Z:function(){return Le}});const s=_e=>typeof _e=="object"&&_e!=null&&_e.nodeType===1,ht=(_e,oe)=>(!oe||_e!=="hidden")&&_e!=="visible"&&_e!=="clip",J=(_e,oe)=>{if(_e.clientHeight<_e.scrollHeight||_e.clientWidth<_e.scrollWidth){const Ye=getComputedStyle(_e,null);return ht(Ye.overflowY,oe)||ht(Ye.overflowX,oe)||(ke=>{const Xe=(at=>{if(!at.ownerDocument||!at.ownerDocument.defaultView)return null;try{return at.ownerDocument.defaultView.frameElement}catch(xt){return null}})(ke);return!!Xe&&(Xe.clientHeight<ke.scrollHeight||Xe.clientWidth<ke.scrollWidth)})(_e)}return!1},u=(_e,oe,Ye,ke,Xe,at,xt,ot)=>at<_e&&xt>oe||at>_e&&xt<oe?0:at<=_e&&ot<=Ye||xt>=oe&&ot>=Ye?at-_e-ke:xt>oe&&ot<Ye||at<_e&&ot>Ye?xt-oe+Xe:0,Ie=_e=>{const oe=_e.parentElement;return oe==null?_e.getRootNode().host||null:oe},He=(_e,oe)=>{var Ye,ke,Xe,at;if(typeof document=="undefined")return[];const{scrollMode:xt,block:ot,inline:St,boundary:Ot,skipOverflowHiddenElements:Ge}=oe,Qt=typeof Ot=="function"?Ot:bi=>bi!==Ot;if(!s(_e))throw new TypeError("Invalid target");const Pt=document.scrollingElement||document.documentElement,Ft=[];let Xt=_e;for(;s(Xt)&&Qt(Xt);){if(Xt=Ie(Xt),Xt===Pt){Ft.push(Xt);break}Xt!=null&&Xt===document.body&&J(Xt)&&!J(document.documentElement)||Xt!=null&&J(Xt,Ge)&&Ft.push(Xt)}const Ht=(ke=(Ye=window.visualViewport)==null?void 0:Ye.width)!=null?ke:innerWidth,Ar=(at=(Xe=window.visualViewport)==null?void 0:Xe.height)!=null?at:innerHeight,{scrollX:Cr,scrollY:Dr}=window,{height:Ue,width:sn,top:Bn,right:En,bottom:Be,left:Gn}=_e.getBoundingClientRect(),{top:In,right:Rn,bottom:pt,left:an}=(bi=>{const ui=window.getComputedStyle(bi);return{top:parseFloat(ui.scrollMarginTop)||0,right:parseFloat(ui.scrollMarginRight)||0,bottom:parseFloat(ui.scrollMarginBottom)||0,left:parseFloat(ui.scrollMarginLeft)||0}})(_e);let Tn=ot==="start"||ot==="nearest"?Bn-In:ot==="end"?Be+pt:Bn+Ue/2-In+pt,me=St==="center"?Gn+sn/2-an+Rn:St==="end"?En+Rn:Gn-an;const nn=[];for(let bi=0;bi<Ft.length;bi++){const ui=Ft[bi],{height:$e,width:Mn,top:Kr,right:jr,bottom:Sn,left:Fr}=ui.getBoundingClientRect();if(xt==="if-needed"&&Bn>=0&&Gn>=0&&Be<=Ar&&En<=Ht&&(ui===Pt&&!J(ui)||Bn>=Kr&&Be<=Sn&&Gn>=Fr&&En<=jr))return nn;const Ii=getComputedStyle(ui),fr=parseInt(Ii.borderLeftWidth,10),st=parseInt(Ii.borderTopWidth,10),jt=parseInt(Ii.borderRightWidth,10),Fn=parseInt(Ii.borderBottomWidth,10);let un=0,pn=0;const Sr="offsetWidth"in ui?ui.offsetWidth-ui.clientWidth-fr-jt:0,Vn="offsetHeight"in ui?ui.offsetHeight-ui.clientHeight-st-Fn:0,Xr="offsetWidth"in ui?ui.offsetWidth===0?0:Mn/ui.offsetWidth:0,ri="offsetHeight"in ui?ui.offsetHeight===0?0:$e/ui.offsetHeight:0;if(Pt===ui)un=ot==="start"?Tn:ot==="end"?Tn-Ar:ot==="nearest"?u(Dr,Dr+Ar,Ar,st,Fn,Dr+Tn,Dr+Tn+Ue,Ue):Tn-Ar/2,pn=St==="start"?me:St==="center"?me-Ht/2:St==="end"?me-Ht:u(Cr,Cr+Ht,Ht,fr,jt,Cr+me,Cr+me+sn,sn),un=Math.max(0,un+Dr),pn=Math.max(0,pn+Cr);else{un=ot==="start"?Tn-Kr-st:ot==="end"?Tn-Sn+Fn+Vn:ot==="nearest"?u(Kr,Sn,$e,st,Fn+Vn,Tn,Tn+Ue,Ue):Tn-(Kr+$e/2)+Vn/2,pn=St==="start"?me-Fr-fr:St==="center"?me-(Fr+Mn/2)+Sr/2:St==="end"?me-jr+jt+Sr:u(Fr,jr,Mn,fr,jt+Sr,me,me+sn,sn);const{scrollLeft:Zr,scrollTop:ei}=ui;un=ri===0?0:Math.max(0,Math.min(ei+un/ri,ui.scrollHeight-$e/ri+Vn)),pn=Xr===0?0:Math.max(0,Math.min(Zr+pn/Xr,ui.scrollWidth-Mn/Xr+Sr)),Tn+=ei-un,me+=Zr-pn}nn.push({el:ui,top:un,left:pn})}return nn},je=_e=>_e===!1?{block:"end",inline:"nearest"}:(oe=>oe===Object(oe)&&Object.keys(oe).length!==0)(_e)?_e:{block:"start",inline:"nearest"};function Le(_e,oe){if(!_e.isConnected||!(Xe=>{let at=Xe;for(;at&&at.parentNode;){if(at.parentNode===document)return!0;at=at.parentNode instanceof ShadowRoot?at.parentNode.host:at.parentNode}return!1})(_e))return;const Ye=(Xe=>{const at=window.getComputedStyle(Xe);return{top:parseFloat(at.scrollMarginTop)||0,right:parseFloat(at.scrollMarginRight)||0,bottom:parseFloat(at.scrollMarginBottom)||0,left:parseFloat(at.scrollMarginLeft)||0}})(_e);if((Xe=>typeof Xe=="object"&&typeof Xe.behavior=="function")(oe))return oe.behavior(He(_e,oe));const ke=typeof oe=="boolean"||oe==null?void 0:oe.behavior;for(const{el:Xe,top:at,left:xt}of He(_e,je(oe))){const ot=at-Ye.top+Ye.bottom,St=xt-Ye.left+Ye.right;Xe.scroll({top:ot,left:St,behavior:ke})}}}}]);
}());