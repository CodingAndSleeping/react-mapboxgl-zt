!(function(){var DO=Object.getOwnPropertySymbols;var EH=Object.prototype.hasOwnProperty,IH=Object.prototype.propertyIsEnumerable;var fb=Math.pow;var J2=(Kr,bn)=>{var he={};for(var s in Kr)EH.call(Kr,s)&&bn.indexOf(s)<0&&(he[s]=Kr[s]);if(Kr!=null&&DO)for(var s of DO(Kr))bn.indexOf(s)<0&&IH.call(Kr,s)&&(he[s]=Kr[s]);return he};(self.webpackChunkreact_mapboxgl_zt=self.webpackChunkreact_mapboxgl_zt||[]).push([[792],{68640:function(Kr,bn,he){"use strict";he.d(bn,{iN:function(){return En},R_:function(){return mt},EV:function(){return Qt},Ti:function(){return Fn},ez:function(){return Et}});var s=he(84432),jt=2,oe=.16,d=.05,Be=.05,lt=.15,ot=5,qe=4,De=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function Ae(mn,Ui,ki){var Sn;return Math.round(mn.h)>=60&&Math.round(mn.h)<=240?Sn=ki?Math.round(mn.h)-jt*Ui:Math.round(mn.h)+jt*Ui:Sn=ki?Math.round(mn.h)+jt*Ui:Math.round(mn.h)-jt*Ui,Sn<0?Sn+=360:Sn>=360&&(Sn-=360),Sn}function zt(mn,Ui,ki){if(mn.h===0&&mn.s===0)return mn.s;var Sn;return ki?Sn=mn.s-oe*Ui:Ui===qe?Sn=mn.s+oe:Sn=mn.s+d*Ui,Sn>1&&(Sn=1),ki&&Ui===ot&&Sn>.1&&(Sn=.1),Sn<.06&&(Sn=.06),Math.round(Sn*100)/100}function qt(mn,Ui,ki){var Sn;return ki?Sn=mn.v+Be*Ui:Sn=mn.v-lt*Ui,Sn=Math.max(0,Math.min(1,Sn)),Math.round(Sn*100)/100}function mt(mn){for(var Ui=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ki=[],Sn=new s.t(mn),ei=Sn.toHsv(),Pi=ot;Pi>0;Pi-=1){var Xr=new s.t({h:Ae(ei,Pi,!0),s:zt(ei,Pi,!0),v:qt(ei,Pi,!0)});ki.push(Xr)}ki.push(Sn);for(var or=1;or<=qe;or+=1){var dr=new s.t({h:Ae(ei,or),s:zt(ei,or),v:qt(ei,or)});ki.push(dr)}return Ui.theme==="dark"?De.map(function($i){var Zo=$i.index,ha=$i.amount;return new s.t(Ui.backgroundColor||"#141414").mix(ki[Zo],ha).toHexString()}):ki.map(function($i){return $i.toHexString()})}var Et={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},an=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];an.primary=an[5];var Ht=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];Ht.primary=Ht[5];var Zt=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];Zt.primary=Zt[5];var Qt=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];Qt.primary=Qt[5];var vt=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];vt.primary=vt[5];var sn=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];sn.primary=sn[5];var Xt=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];Xt.primary=Xt[5];var _n=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];_n.primary=_n[5];var En=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];En.primary=En[5];var Nn=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];Nn.primary=Nn[5];var fi=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];fi.primary=fi[5];var Pt=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];Pt.primary=Pt[5];var Hr=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];Hr.primary=Hr[5];var Rn=null,Fn={red:an,volcano:Ht,orange:Zt,gold:Qt,yellow:vt,lime:sn,green:Xt,cyan:_n,blue:En,geekblue:Nn,purple:fi,magenta:Pt,grey:Hr},Br=["#2a1215","#431418","#58181c","#791a1f","#a61d24","#d32029","#e84749","#f37370","#f89f9a","#fac8c3"];Br.primary=Br[5];var Tr=["#2b1611","#441d12","#592716","#7c3118","#aa3e19","#d84a1b","#e87040","#f3956a","#f8b692","#fad4bc"];Tr.primary=Tr[5];var nr=["#2b1d11","#442a11","#593815","#7c4a15","#aa6215","#d87a16","#e89a3c","#f3b765","#f8cf8d","#fae3b7"];nr.primary=nr[5];var Qr=["#2b2111","#443111","#594214","#7c5914","#aa7714","#d89614","#e8b339","#f3cc62","#f8df8b","#faedb5"];Qr.primary=Qr[5];var Mr=["#2b2611","#443b11","#595014","#7c6e14","#aa9514","#d8bd14","#e8d639","#f3ea62","#f8f48b","#fafab5"];Mr.primary=Mr[5];var Jn=["#1f2611","#2e3c10","#3e4f13","#536d13","#6f9412","#8bbb11","#a9d134","#c9e75d","#e4f88b","#f0fab5"];Jn.primary=Jn[5];var Rt=["#162312","#1d3712","#274916","#306317","#3c8618","#49aa19","#6abe39","#8fd460","#b2e58b","#d5f2bb"];Rt.primary=Rt[5];var Tn=["#112123","#113536","#144848","#146262","#138585","#13a8a8","#33bcb7","#58d1c9","#84e2d8","#b2f1e8"];Tn.primary=Tn[5];var Gn=["#111a2c","#112545","#15325b","#15417e","#1554ad","#1668dc","#3c89e8","#65a9f3","#8dc5f8","#b7dcfa"];Gn.primary=Gn[5];var mr=["#131629","#161d40","#1c2755","#203175","#263ea0","#2b4acb","#5273e0","#7f9ef3","#a8c1f8","#d2e0fa"];mr.primary=mr[5];var ir=["#1a1325","#24163a","#301c4d","#3e2069","#51258f","#642ab5","#854eca","#ab7ae0","#cda8f0","#ebd7fa"];ir.primary=ir[5];var zr=["#291321","#40162f","#551c3b","#75204f","#a02669","#cb2b83","#e0529c","#f37fb7","#f8a8cc","#fad2e3"];zr.primary=zr[5];var wr=["#151515","#1f1f1f","#2d2d2d","#393939","#494949","#5a5a5a","#6a6a6a","#7b7b7b","#888888","#969696"];wr.primary=wr[5];var J={red:Br,volcano:Tr,orange:nr,gold:Qr,yellow:Mr,lime:Jn,green:Rt,cyan:Tn,blue:Gn,geekblue:mr,purple:ir,magenta:zr,grey:wr}},83509:function(Kr,bn,he){"use strict";he.d(bn,{rb:function(){return Sn},IX:function(){return Fn}});var s=he(5147),jt=he(89692),oe=he(38926),d=he(54153),Be=he(75271),lt=he(55921),ot=he(59295),qe=he(45985),De=he(63662),Ae=he(76525),zt=he(56216),qt=(0,qe.Z)(function ei(){(0,ot.Z)(this,ei)}),mt=qt,Et="CALC_UNIT",an=new RegExp(Et,"g");function Ht(ei){return typeof ei=="number"?"".concat(ei).concat(Et):ei}var Zt=function(ei){(0,Ae.Z)(Xr,ei);var Pi=(0,zt.Z)(Xr);function Xr(or,dr){var $i;(0,ot.Z)(this,Xr),$i=Pi.call(this),(0,oe.Z)((0,De.Z)($i),"result",""),(0,oe.Z)((0,De.Z)($i),"unitlessCssVar",void 0),(0,oe.Z)((0,De.Z)($i),"lowPriority",void 0);var Zo=(0,s.Z)(or);return $i.unitlessCssVar=dr,or instanceof Xr?$i.result="(".concat(or.result,")"):Zo==="number"?$i.result=Ht(or):Zo==="string"&&($i.result=or),$i}return(0,qe.Z)(Xr,[{key:"add",value:function(dr){return dr instanceof Xr?this.result="".concat(this.result," + ").concat(dr.getResult()):(typeof dr=="number"||typeof dr=="string")&&(this.result="".concat(this.result," + ").concat(Ht(dr))),this.lowPriority=!0,this}},{key:"sub",value:function(dr){return dr instanceof Xr?this.result="".concat(this.result," - ").concat(dr.getResult()):(typeof dr=="number"||typeof dr=="string")&&(this.result="".concat(this.result," - ").concat(Ht(dr))),this.lowPriority=!0,this}},{key:"mul",value:function(dr){return this.lowPriority&&(this.result="(".concat(this.result,")")),dr instanceof Xr?this.result="".concat(this.result," * ").concat(dr.getResult(!0)):(typeof dr=="number"||typeof dr=="string")&&(this.result="".concat(this.result," * ").concat(dr)),this.lowPriority=!1,this}},{key:"div",value:function(dr){return this.lowPriority&&(this.result="(".concat(this.result,")")),dr instanceof Xr?this.result="".concat(this.result," / ").concat(dr.getResult(!0)):(typeof dr=="number"||typeof dr=="string")&&(this.result="".concat(this.result," / ").concat(dr)),this.lowPriority=!1,this}},{key:"getResult",value:function(dr){return this.lowPriority||dr?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(dr){var $i=this,Zo=dr||{},ha=Zo.unit,Da=!0;return typeof ha=="boolean"?Da=ha:Array.from(this.unitlessCssVar).some(function(ri){return $i.result.includes(ri)})&&(Da=!1),this.result=this.result.replace(an,Da?"px":""),typeof this.lowPriority!="undefined"?"calc(".concat(this.result,")"):this.result}}]),Xr}(mt),Qt=function(ei){(0,Ae.Z)(Xr,ei);var Pi=(0,zt.Z)(Xr);function Xr(or){var dr;return(0,ot.Z)(this,Xr),dr=Pi.call(this),(0,oe.Z)((0,De.Z)(dr),"result",0),or instanceof Xr?dr.result=or.result:typeof or=="number"&&(dr.result=or),dr}return(0,qe.Z)(Xr,[{key:"add",value:function(dr){return dr instanceof Xr?this.result+=dr.result:typeof dr=="number"&&(this.result+=dr),this}},{key:"sub",value:function(dr){return dr instanceof Xr?this.result-=dr.result:typeof dr=="number"&&(this.result-=dr),this}},{key:"mul",value:function(dr){return dr instanceof Xr?this.result*=dr.result:typeof dr=="number"&&(this.result*=dr),this}},{key:"div",value:function(dr){return dr instanceof Xr?this.result/=dr.result:typeof dr=="number"&&(this.result/=dr),this}},{key:"equal",value:function(){return this.result}}]),Xr}(mt),vt=Qt,sn=function(Pi,Xr){var or=Pi==="css"?Zt:vt;return function(dr){return new or(dr,Xr)}},Xt=sn,_n=function(Pi,Xr){return"".concat([Xr,Pi.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-"))},En=_n,Nn=he(22217);function fi(ei,Pi,Xr,or){var dr=(0,d.Z)({},Pi[ei]);if(or!=null&&or.deprecatedTokens){var $i=or.deprecatedTokens;$i.forEach(function(ha){var Da=(0,jt.Z)(ha,2),ri=Da[0],Ko=Da[1];if(dr!=null&&dr[ri]||dr!=null&&dr[Ko]){var Eo;(Eo=dr[Ko])!==null&&Eo!==void 0||(dr[Ko]=dr==null?void 0:dr[ri])}})}var Zo=(0,d.Z)((0,d.Z)({},Xr),dr);return Object.keys(Zo).forEach(function(ha){Zo[ha]===Pi[ha]&&delete Zo[ha]}),Zo}var Pt=fi,Hr=typeof CSSINJS_STATISTIC!="undefined",Rn=!0;function Fn(){for(var ei=arguments.length,Pi=new Array(ei),Xr=0;Xr<ei;Xr++)Pi[Xr]=arguments[Xr];if(!Hr)return Object.assign.apply(Object,[{}].concat(Pi));Rn=!1;var or={};return Pi.forEach(function(dr){if((0,s.Z)(dr)==="object"){var $i=Object.keys(dr);$i.forEach(function(Zo){Object.defineProperty(or,Zo,{configurable:!0,enumerable:!0,get:function(){return dr[Zo]}})})}}),Rn=!0,or}var Br={},Tr={};function nr(){}var Qr=function(Pi){var Xr,or=Pi,dr=nr;return Hr&&typeof Proxy!="undefined"&&(Xr=new Set,or=new Proxy(Pi,{get:function(Zo,ha){if(Rn){var Da;(Da=Xr)===null||Da===void 0||Da.add(ha)}return Zo[ha]}}),dr=function(Zo,ha){var Da;Br[Zo]={global:Array.from(Xr),component:(0,d.Z)((0,d.Z)({},(Da=Br[Zo])===null||Da===void 0?void 0:Da.component),ha)}}),{token:or,keys:Xr,flush:dr}},Mr=Qr;function Jn(ei,Pi,Xr){if(typeof Xr=="function"){var or;return Xr(Fn(Pi,(or=Pi[ei])!==null&&or!==void 0?or:{}))}return Xr!=null?Xr:{}}var Rt=Jn;function Tn(ei){return ei==="js"?{max:Math.max,min:Math.min}:{max:function(){for(var Xr=arguments.length,or=new Array(Xr),dr=0;dr<Xr;dr++)or[dr]=arguments[dr];return"max(".concat(or.map(function($i){return(0,lt.bf)($i)}).join(","),")")},min:function(){for(var Xr=arguments.length,or=new Array(Xr),dr=0;dr<Xr;dr++)or[dr]=arguments[dr];return"min(".concat(or.map(function($i){return(0,lt.bf)($i)}).join(","),")")}}}var Gn=Tn,mr=1e3*60*10,ir=function(){function ei(){(0,ot.Z)(this,ei),(0,oe.Z)(this,"map",new Map),(0,oe.Z)(this,"objectIDMap",new WeakMap),(0,oe.Z)(this,"nextID",0),(0,oe.Z)(this,"lastAccessBeat",new Map),(0,oe.Z)(this,"accessBeat",0)}return(0,qe.Z)(ei,[{key:"set",value:function(Xr,or){this.clear();var dr=this.getCompositeKey(Xr);this.map.set(dr,or),this.lastAccessBeat.set(dr,Date.now())}},{key:"get",value:function(Xr){var or=this.getCompositeKey(Xr),dr=this.map.get(or);return this.lastAccessBeat.set(or,Date.now()),this.accessBeat+=1,dr}},{key:"getCompositeKey",value:function(Xr){var or=this,dr=Xr.map(function($i){return $i&&(0,s.Z)($i)==="object"?"obj_".concat(or.getObjectID($i)):"".concat((0,s.Z)($i),"_").concat($i)});return dr.join("|")}},{key:"getObjectID",value:function(Xr){if(this.objectIDMap.has(Xr))return this.objectIDMap.get(Xr);var or=this.nextID;return this.objectIDMap.set(Xr,or),this.nextID+=1,or}},{key:"clear",value:function(){var Xr=this;if(this.accessBeat>1e4){var or=Date.now();this.lastAccessBeat.forEach(function(dr,$i){or-dr>mr&&(Xr.map.delete($i),Xr.lastAccessBeat.delete($i))}),this.accessBeat=0}}}]),ei}(),zr=new ir;function wr(ei,Pi){return Be.useMemo(function(){var Xr=zr.get(Pi);if(Xr)return Xr;var or=ei();return zr.set(Pi,or),or},Pi)}var J=wr,mn=function(){return{}},Ui=mn;function ki(ei){var Pi=ei.useCSP,Xr=Pi===void 0?Ui:Pi,or=ei.useToken,dr=ei.usePrefix,$i=ei.getResetStyles,Zo=ei.getCommonStyle,ha=ei.getCompUnitless;function Da(No,ya,Oi,Gr){var so=Array.isArray(No)?No[0]:No;function Li(ia){return"".concat(String(so)).concat(ia.slice(0,1).toUpperCase()).concat(ia.slice(1))}var co=(Gr==null?void 0:Gr.unitless)||{},ws=typeof ha=="function"?ha(No):{},Or=(0,d.Z)((0,d.Z)({},ws),{},(0,oe.Z)({},Li("zIndexPopup"),!0));Object.keys(co).forEach(function(ia){Or[Li(ia)]=co[ia]});var bo=(0,d.Z)((0,d.Z)({},Gr),{},{unitless:Or,prefixToken:Li}),Ua=Ko(No,ya,Oi,bo),jr=ri(so,Oi,bo);return function(ia){var ss=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ia,Ra=Ua(ia,ss),po=(0,jt.Z)(Ra,2),ds=po[1],il=jr(ss),Cn=(0,jt.Z)(il,2),Dn=Cn[0],vn=Cn[1];return[Dn,ds,vn]}}function ri(No,ya,Oi){var Gr=Oi.unitless,so=Oi.injectStyle,Li=so===void 0?!0:so,co=Oi.prefixToken,ws=Oi.ignore,Or=function(jr){var ia=jr.rootCls,ss=jr.cssVar,Ra=ss===void 0?{}:ss,po=or(),ds=po.realToken;return(0,lt.CI)({path:[No],prefix:Ra.prefix,key:Ra.key,unitless:Gr,ignore:ws,token:ds,scope:ia},function(){var il=Rt(No,ds,ya),Cn=Pt(No,ds,il,{deprecatedTokens:Oi==null?void 0:Oi.deprecatedTokens});return Object.keys(il).forEach(function(Dn){Cn[co(Dn)]=Cn[Dn],delete Cn[Dn]}),Cn}),null},bo=function(jr){var ia=or(),ss=ia.cssVar;return[function(Ra){return Li&&ss?Be.createElement(Be.Fragment,null,Be.createElement(Or,{rootCls:jr,cssVar:ss,component:No}),Ra):Ra},ss==null?void 0:ss.key]};return bo}function Ko(No,ya,Oi){var Gr=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},so=Array.isArray(No)?No:[No,No],Li=(0,jt.Z)(so,1),co=Li[0],ws=so.join("-"),Or=ei.layer||{name:"antd"};return function(bo){var Ua=arguments.length>1&&arguments[1]!==void 0?arguments[1]:bo,jr=or(),ia=jr.theme,ss=jr.realToken,Ra=jr.hashId,po=jr.token,ds=jr.cssVar,il=dr(),Cn=il.rootPrefixCls,Dn=il.iconPrefixCls,vn=Xr(),$r=ds?"css":"js",hi=J(function(){var Po=new Set;return ds&&Object.keys(Gr.unitless||{}).forEach(function(Jt){Po.add((0,lt.ks)(Jt,ds.prefix)),Po.add((0,lt.ks)(Jt,En(co,ds.prefix)))}),Xt($r,Po)},[$r,co,ds==null?void 0:ds.prefix]),vi=Gn($r),oa=vi.max,aa=vi.min,Ca={theme:ia,token:po,hashId:Ra,nonce:function(){return vn.nonce},clientOnly:Gr.clientOnly,layer:Or,order:Gr.order||-999};typeof $i=="function"&&(0,lt.xy)((0,d.Z)((0,d.Z)({},Ca),{},{clientOnly:!1,path:["Shared",Cn]}),function(){return $i(po,{prefix:{rootPrefixCls:Cn,iconPrefixCls:Dn},csp:vn})});var Bo=(0,lt.xy)((0,d.Z)((0,d.Z)({},Ca),{},{path:[ws,bo,Dn]}),function(){if(Gr.injectStyle===!1)return[];var Po=Mr(po),Jt=Po.token,xe=Po.flush,Me=Rt(co,ss,Oi),Fe=".".concat(bo),ve=Pt(co,ss,Me,{deprecatedTokens:Gr.deprecatedTokens});ds&&Me&&(0,s.Z)(Me)==="object"&&Object.keys(Me).forEach(function(It){Me[It]="var(".concat((0,lt.ks)(It,En(co,ds.prefix)),")")});var Ve=Fn(Jt,{componentCls:Fe,prefixCls:bo,iconCls:".".concat(Dn),antCls:".".concat(Cn),calc:hi,max:oa,min:aa},ds?Me:ve),fe=ya(Ve,{hashId:Ra,prefixCls:bo,rootPrefixCls:Cn,iconPrefixCls:Dn});xe(co,ve);var Nt=typeof Zo=="function"?Zo(Ve,bo,Ua,Gr.resetFont):null;return[Gr.resetStyle===!1?null:Nt,fe]});return[Bo,Ra]}}function Eo(No,ya,Oi){var Gr=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},so=Ko(No,ya,Oi,(0,d.Z)({resetStyle:!1,order:-998},Gr)),Li=function(ws){var Or=ws.prefixCls,bo=ws.rootCls,Ua=bo===void 0?Or:bo;return so(Or,Ua),null};return Li}return{genStyleHooks:Da,genSubStyleComponent:Eo,genComponentStyleHook:Ko}}var Sn=ki},55921:function(Kr,bn,he){"use strict";he.d(bn,{E4:function(){return _u},uP:function(){return Pt},jG:function(){return zr},t2:function(){return Jt},ks:function(){return No},bf:function(){return Ko},CI:function(){return su},fp:function(){return Me},xy:function(){return Yc}});var s=he(38926),jt=he(89692),oe=he(46865),d=he(54153);function Be(Mt){for(var tn=0,hn,wn=0,rr=Mt.length;rr>=4;++wn,rr-=4)hn=Mt.charCodeAt(wn)&255|(Mt.charCodeAt(++wn)&255)<<8|(Mt.charCodeAt(++wn)&255)<<16|(Mt.charCodeAt(++wn)&255)<<24,hn=(hn&65535)*1540483477+((hn>>>16)*59797<<16),hn^=hn>>>24,tn=(hn&65535)*1540483477+((hn>>>16)*59797<<16)^(tn&65535)*1540483477+((tn>>>16)*59797<<16);switch(rr){case 3:tn^=(Mt.charCodeAt(wn+2)&255)<<16;case 2:tn^=(Mt.charCodeAt(wn+1)&255)<<8;case 1:tn^=Mt.charCodeAt(wn)&255,tn=(tn&65535)*1540483477+((tn>>>16)*59797<<16)}return tn^=tn>>>13,tn=(tn&65535)*1540483477+((tn>>>16)*59797<<16),((tn^tn>>>15)>>>0).toString(36)}var lt=Be,ot=he(18263),qe=he(75271),De=he.t(qe,2),Ae=he(54596),zt=he(47996),qt=he(59295),mt=he(45985),Et="%";function an(Mt){return Mt.join(Et)}var Ht=function(){function Mt(tn){(0,qt.Z)(this,Mt),(0,s.Z)(this,"instanceId",void 0),(0,s.Z)(this,"cache",new Map),this.instanceId=tn}return(0,mt.Z)(Mt,[{key:"get",value:function(hn){return this.opGet(an(hn))}},{key:"opGet",value:function(hn){return this.cache.get(hn)||null}},{key:"update",value:function(hn,wn){return this.opUpdate(an(hn),wn)}},{key:"opUpdate",value:function(hn,wn){var rr=this.cache.get(hn),qr=wn(rr);qr===null?this.cache.delete(hn):this.cache.set(hn,qr)}}]),Mt}(),Zt=Ht,Qt=null,vt="data-token-hash",sn="data-css-hash",Xt="data-cache-path",_n="__cssinjs_instance__";function En(){var Mt=Math.random().toString(12).slice(2);if(typeof document!="undefined"&&document.head&&document.body){var tn=document.body.querySelectorAll("style[".concat(sn,"]"))||[],hn=document.head.firstChild;Array.from(tn).forEach(function(rr){rr[_n]=rr[_n]||Mt,rr[_n]===Mt&&document.head.insertBefore(rr,hn)});var wn={};Array.from(document.querySelectorAll("style[".concat(sn,"]"))).forEach(function(rr){var qr=rr.getAttribute(sn);if(wn[qr]){if(rr[_n]===Mt){var _i;(_i=rr.parentNode)===null||_i===void 0||_i.removeChild(rr)}}else wn[qr]=!0})}return new Zt(Mt)}var Nn=qe.createContext({hashPriority:"low",cache:En(),defaultCache:!0}),fi=function(tn){var hn=tn.children,wn=_objectWithoutProperties(tn,Qt),rr=React.useContext(Nn),qr=useMemo(function(){var _i=_objectSpread({},rr);Object.keys(wn).forEach(function(Ri){var ro=wn[Ri];wn[Ri]!==void 0&&(_i[Ri]=ro)});var ni=wn.cache;return _i.cache=_i.cache||En(),_i.defaultCache=!ni&&rr.defaultCache,_i},[rr,wn],function(_i,ni){return!isEqual(_i[0],ni[0],!0)||!isEqual(_i[1],ni[1],!0)});return React.createElement(Nn.Provider,{value:qr},hn)},Pt=Nn,Hr=he(5147),Rn=he(18415),Fn="CALC_UNIT",Br=new RegExp(Fn,"g");function Tr(Mt){return typeof Mt=="number"?"".concat(Mt).concat(Fn):Mt}var nr=null,Qr=function(tn,hn){var wn=tn==="css"?CSSCalculator:NumCalculator;return function(rr){return new wn(rr,hn)}},Mr=null;function Jn(Mt,tn){if(Mt.length!==tn.length)return!1;for(var hn=0;hn<Mt.length;hn++)if(Mt[hn]!==tn[hn])return!1;return!0}var Rt=function(){function Mt(){(0,qt.Z)(this,Mt),(0,s.Z)(this,"cache",void 0),(0,s.Z)(this,"keys",void 0),(0,s.Z)(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return(0,mt.Z)(Mt,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(hn){var wn,rr,qr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,_i={map:this.cache};return hn.forEach(function(ni){if(!_i)_i=void 0;else{var Ri;_i=(Ri=_i)===null||Ri===void 0||(Ri=Ri.map)===null||Ri===void 0?void 0:Ri.get(ni)}}),(wn=_i)!==null&&wn!==void 0&&wn.value&&qr&&(_i.value[1]=this.cacheCallTimes++),(rr=_i)===null||rr===void 0?void 0:rr.value}},{key:"get",value:function(hn){var wn;return(wn=this.internalGet(hn,!0))===null||wn===void 0?void 0:wn[0]}},{key:"has",value:function(hn){return!!this.internalGet(hn)}},{key:"set",value:function(hn,wn){var rr=this;if(!this.has(hn)){if(this.size()+1>Mt.MAX_CACHE_SIZE+Mt.MAX_CACHE_OFFSET){var qr=this.keys.reduce(function(ro,yo){var ko=(0,jt.Z)(ro,2),io=ko[1];return rr.internalGet(yo)[1]<io?[yo,rr.internalGet(yo)[1]]:ro},[this.keys[0],this.cacheCallTimes]),_i=(0,jt.Z)(qr,1),ni=_i[0];this.delete(ni)}this.keys.push(hn)}var Ri=this.cache;hn.forEach(function(ro,yo){if(yo===hn.length-1)Ri.set(ro,{value:[wn,rr.cacheCallTimes++]});else{var ko=Ri.get(ro);ko?ko.map||(ko.map=new Map):Ri.set(ro,{map:new Map}),Ri=Ri.get(ro).map}})}},{key:"deleteByPath",value:function(hn,wn){var rr=hn.get(wn[0]);if(wn.length===1){var qr;return rr.map?hn.set(wn[0],{map:rr.map}):hn.delete(wn[0]),(qr=rr.value)===null||qr===void 0?void 0:qr[0]}var _i=this.deleteByPath(rr.map,wn.slice(1));return(!rr.map||rr.map.size===0)&&!rr.value&&hn.delete(wn[0]),_i}},{key:"delete",value:function(hn){if(this.has(hn))return this.keys=this.keys.filter(function(wn){return!Jn(wn,hn)}),this.deleteByPath(this.cache,hn)}}]),Mt}();(0,s.Z)(Rt,"MAX_CACHE_SIZE",20),(0,s.Z)(Rt,"MAX_CACHE_OFFSET",5);var Tn=he(4449),Gn=0,mr=function(){function Mt(tn){(0,qt.Z)(this,Mt),(0,s.Z)(this,"derivatives",void 0),(0,s.Z)(this,"id",void 0),this.derivatives=Array.isArray(tn)?tn:[tn],this.id=Gn,tn.length===0&&(0,Tn.Kp)(tn.length>0,"[Ant Design CSS-in-JS] Theme should have at least one derivative function."),Gn+=1}return(0,mt.Z)(Mt,[{key:"getDerivativeToken",value:function(hn){return this.derivatives.reduce(function(wn,rr){return rr(hn,wn)},void 0)}}]),Mt}(),ir=new Rt;function zr(Mt){var tn=Array.isArray(Mt)?Mt:[Mt];return ir.has(tn)||ir.set(tn,new mr(tn)),ir.get(tn)}var wr=new WeakMap,J={};function mn(Mt,tn){for(var hn=wr,wn=0;wn<tn.length;wn+=1){var rr=tn[wn];hn.has(rr)||hn.set(rr,new WeakMap),hn=hn.get(rr)}return hn.has(J)||hn.set(J,Mt()),hn.get(J)}var Ui=new WeakMap;function ki(Mt){var tn=Ui.get(Mt)||"";return tn||(Object.keys(Mt).forEach(function(hn){var wn=Mt[hn];tn+=hn,wn instanceof mr?tn+=wn.id:wn&&(0,Hr.Z)(wn)==="object"?tn+=ki(wn):tn+=wn}),tn=lt(tn),Ui.set(Mt,tn)),tn}function Sn(Mt,tn){return lt("".concat(tn,"_").concat(ki(Mt)))}var ei="random-".concat(Date.now(),"-").concat(Math.random()).replace(/\./g,""),Pi="_bAmBoO_";function Xr(Mt,tn,hn){if((0,Rn.Z)()){var wn,rr;(0,ot.hq)(Mt,ei);var qr=document.createElement("div");qr.style.position="fixed",qr.style.left="0",qr.style.top="0",tn==null||tn(qr),document.body.appendChild(qr);var _i=hn?hn(qr):(wn=getComputedStyle(qr).content)===null||wn===void 0?void 0:wn.includes(Pi);return(rr=qr.parentNode)===null||rr===void 0||rr.removeChild(qr),(0,ot.jL)(ei),_i}return!1}var or=null;function dr(){return or===void 0&&(or=Xr("@layer ".concat(ei," { .").concat(ei,' { content: "').concat(Pi,'"!important; } }'),function(Mt){Mt.className=ei})),or}var $i=void 0;function Zo(){return $i===void 0&&($i=Xr(":where(.".concat(ei,') { content: "').concat(Pi,'"!important; }'),function(Mt){Mt.className=ei})),$i}var ha=void 0;function Da(){return ha===void 0&&(ha=Xr(".".concat(ei," { inset-block: 93px !important; }"),function(Mt){Mt.className=ei},function(Mt){return getComputedStyle(Mt).bottom==="93px"})),ha}var ri=(0,Rn.Z)();function Ko(Mt){return typeof Mt=="number"?"".concat(Mt,"px"):Mt}function Eo(Mt,tn,hn){var wn,rr=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},qr=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(qr)return Mt;var _i=(0,d.Z)((0,d.Z)({},rr),{},(wn={},(0,s.Z)(wn,vt,tn),(0,s.Z)(wn,sn,hn),wn)),ni=Object.keys(_i).map(function(Ri){var ro=_i[Ri];return ro?"".concat(Ri,'="').concat(ro,'"'):null}).filter(function(Ri){return Ri}).join(" ");return"<style ".concat(ni,">").concat(Mt,"</style>")}var No=function(tn){var hn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return"--".concat(hn?"".concat(hn,"-"):"").concat(tn).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},ya=function(tn,hn,wn){return Object.keys(tn).length?".".concat(hn).concat(wn!=null&&wn.scope?".".concat(wn.scope):"","{").concat(Object.entries(tn).map(function(rr){var qr=(0,jt.Z)(rr,2),_i=qr[0],ni=qr[1];return"".concat(_i,":").concat(ni,";")}).join(""),"}"):""},Oi=function(tn,hn,wn){var rr={},qr={};return Object.entries(tn).forEach(function(_i){var ni,Ri,ro=(0,jt.Z)(_i,2),yo=ro[0],ko=ro[1];if(wn!=null&&(ni=wn.preserve)!==null&&ni!==void 0&&ni[yo])qr[yo]=ko;else if((typeof ko=="string"||typeof ko=="number")&&!(wn!=null&&(Ri=wn.ignore)!==null&&Ri!==void 0&&Ri[yo])){var io,sa=No(yo,wn==null?void 0:wn.prefix);rr[sa]=typeof ko=="number"&&!(wn!=null&&(io=wn.unitless)!==null&&io!==void 0&&io[yo])?"".concat(ko,"px"):String(ko),qr[yo]="var(".concat(sa,")")}}),[qr,ya(rr,hn,{scope:wn==null?void 0:wn.scope})]},Gr=he(92076),so=(0,d.Z)({},De),Li=so.useInsertionEffect,co=function(tn,hn,wn){qe.useMemo(tn,wn),(0,Gr.Z)(function(){return hn(!0)},wn)},ws=Li?function(Mt,tn,hn){return Li(function(){return Mt(),tn()},hn)}:co,Or=ws,bo=(0,d.Z)({},De),Ua=bo.useInsertionEffect,jr=function(tn){var hn=[],wn=!1;function rr(qr){wn||hn.push(qr)}return qe.useEffect(function(){return wn=!1,function(){wn=!0,hn.length&&hn.forEach(function(qr){return qr()})}},tn),rr},ia=function(){return function(tn){tn()}},ss=typeof Ua!="undefined"?jr:ia,Ra=ss;function po(){return!1}var ds=!1;function il(){return ds}var Cn=po;if(0)var Dn,vn;function $r(Mt,tn,hn,wn,rr){var qr=qe.useContext(Pt),_i=qr.cache,ni=[Mt].concat((0,oe.Z)(tn)),Ri=an(ni),ro=Ra([Ri]),yo=Cn(),ko=function(ta){_i.opUpdate(Ri,function(Aa){var ls=Aa||[void 0,void 0],ba=(0,jt.Z)(ls,2),is=ba[0],La=is===void 0?0:is,cs=ba[1],Va=cs,Ia=Va||hn(),zs=[La,Ia];return ta?ta(zs):zs})};qe.useMemo(function(){ko()},[Ri]);var io=_i.opGet(Ri),sa=io[1];return Or(function(){rr==null||rr(sa)},function(Qi){return ko(function(ta){var Aa=(0,jt.Z)(ta,2),ls=Aa[0],ba=Aa[1];return Qi&&ls===0&&(rr==null||rr(sa)),[ls+1,ba]}),function(){_i.opUpdate(Ri,function(ta){var Aa=ta||[],ls=(0,jt.Z)(Aa,2),ba=ls[0],is=ba===void 0?0:ba,La=ls[1],cs=is-1;return cs===0?(ro(function(){(Qi||!_i.opGet(Ri))&&(wn==null||wn(La,!1))}),null):[is-1,La]})}},[Ri]),sa}var hi={},vi="css",oa=new Map;function aa(Mt){oa.set(Mt,(oa.get(Mt)||0)+1)}function Ca(Mt,tn){if(typeof document!="undefined"){var hn=document.querySelectorAll("style[".concat(vt,'="').concat(Mt,'"]'));hn.forEach(function(wn){if(wn[_n]===tn){var rr;(rr=wn.parentNode)===null||rr===void 0||rr.removeChild(wn)}})}}var Bo=0;function Po(Mt,tn){oa.set(Mt,(oa.get(Mt)||0)-1);var hn=Array.from(oa.keys()),wn=hn.filter(function(rr){var qr=oa.get(rr)||0;return qr<=0});hn.length-wn.length>Bo&&wn.forEach(function(rr){Ca(rr,tn),oa.delete(rr)})}var Jt=function(tn,hn,wn,rr){var qr=wn.getDerivativeToken(tn),_i=(0,d.Z)((0,d.Z)({},qr),hn);return rr&&(_i=rr(_i)),_i},xe="token";function Me(Mt,tn){var hn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},wn=(0,qe.useContext)(Pt),rr=wn.cache.instanceId,qr=wn.container,_i=hn.salt,ni=_i===void 0?"":_i,Ri=hn.override,ro=Ri===void 0?hi:Ri,yo=hn.formatToken,ko=hn.getComputedToken,io=hn.cssVar,sa=mn(function(){return Object.assign.apply(Object,[{}].concat((0,oe.Z)(tn)))},tn),Qi=ki(sa),ta=ki(ro),Aa=io?ki(io):"",ls=$r(xe,[ni,Mt.id,Qi,ta,Aa],function(){var ba,is=ko?ko(sa,ro,Mt):Jt(sa,ro,Mt,yo),La=(0,d.Z)({},is),cs="";if(io){var Va=Oi(is,io.key,{prefix:io.prefix,ignore:io.ignore,unitless:io.unitless,preserve:io.preserve}),Ia=(0,jt.Z)(Va,2);is=Ia[0],cs=Ia[1]}var zs=Sn(is,ni);is._tokenKey=zs,La._tokenKey=Sn(La,ni);var Wl=(ba=io==null?void 0:io.key)!==null&&ba!==void 0?ba:zs;is._themeKey=Wl,aa(Wl);var _l="".concat(vi,"-").concat(lt(zs));return is._hashId=_l,[is,_l,La,cs,(io==null?void 0:io.key)||""]},function(ba){Po(ba[0]._themeKey,rr)},function(ba){var is=(0,jt.Z)(ba,4),La=is[0],cs=is[3];if(io&&cs){var Va=(0,ot.hq)(cs,lt("css-variables-".concat(La._themeKey)),{mark:sn,prepend:"queue",attachTo:qr,priority:-999});Va[_n]=rr,Va.setAttribute(vt,La._themeKey)}});return ls}var Fe=function(tn,hn,wn){var rr=(0,jt.Z)(tn,5),qr=rr[2],_i=rr[3],ni=rr[4],Ri=wn||{},ro=Ri.plain;if(!_i)return null;var yo=qr._tokenKey,ko=-999,io={"data-rc-order":"prependQueue","data-rc-priority":"".concat(ko)},sa=Eo(_i,ni,yo,io,ro);return[ko,yo,sa]},ve=he(23022),Ve={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},fe=Ve,Nt="-ms-",It="-moz-",Ee="-webkit-",Tt="comm",nt="rule",Pn="decl",ur="@page",lr="@media",pi="@import",ai="@charset",Ei="@viewport",wi="@supports",Oo="@document",Xo="@namespace",So="@keyframes",pa="@font-face",ma="@counter-style",Ea="@font-feature-values",Sl="@layer",Lt="@scope",Ln=Math.abs,Bn=String.fromCharCode,tr=Object.assign;function Lr(Mt,tn){return ga(Mt,0)^45?(((tn<<2^ga(Mt,0))<<2^ga(Mt,1))<<2^ga(Mt,2))<<2^ga(Mt,3):0}function to(Mt){return Mt.trim()}function mo(Mt,tn){return(Mt=tn.exec(Mt))?Mt[0]:Mt}function Io(Mt,tn,hn){return Mt.replace(tn,hn)}function uo(Mt,tn,hn){return Mt.indexOf(tn,hn)}function ga(Mt,tn){return Mt.charCodeAt(tn)|0}function $o(Mt,tn,hn){return Mt.slice(tn,hn)}function Vo(Mt){return Mt.length}function qa(Mt){return Mt.length}function gs(Mt,tn){return tn.push(Mt),Mt}function Os(Mt,tn){return Mt.map(tn).join("")}function ys(Mt,tn){return Mt.filter(function(hn){return!mo(hn,tn)})}function _s(Mt,tn){for(var hn="",wn=0;wn<Mt.length;wn++)hn+=tn(Mt[wn],wn,Mt,tn)||"";return hn}function ns(Mt,tn,hn,wn){switch(Mt.type){case Sl:if(Mt.children.length)break;case pi:case Xo:case Pn:return Mt.return=Mt.return||Mt.value;case Tt:return"";case So:return Mt.return=Mt.value+"{"+_s(Mt.children,wn)+"}";case nt:if(!Vo(Mt.value=Mt.props.join(",")))return""}return Vo(hn=_s(Mt.children,wn))?Mt.return=Mt.value+"{"+hn+"}":""}var $s=1,xo=1,Wa=0,Fo=0,go=0,no="";function Is(Mt,tn,hn,wn,rr,qr,_i,ni){return{value:Mt,root:tn,parent:hn,type:wn,props:rr,children:qr,line:$s,column:xo,length:_i,return:"",siblings:ni}}function si(Mt,tn){return assign(Is("",null,null,"",null,null,0,Mt.siblings),Mt,{length:-Mt.length},tn)}function ks(Mt){for(;Mt.root;)Mt=si(Mt.root,{children:[Mt]});append(Mt,Mt.siblings)}function qs(){return go}function ms(){return go=Fo>0?ga(no,--Fo):0,xo--,go===10&&(xo=1,$s--),go}function di(){return go=Fo<Wa?ga(no,Fo++):0,xo++,go===10&&(xo=1,$s++),go}function Ya(){return ga(no,Fo)}function Ss(){return Fo}function Nr(Mt,tn){return $o(no,Mt,tn)}function qi(Mt){switch(Mt){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function To(Mt){return $s=xo=1,Wa=Vo(no=Mt),Fo=0,[]}function wa(Mt){return no="",Mt}function Za(Mt){return to(Nr(Fo-1,Ke(Mt===91?Mt+2:Mt===40?Mt+1:Mt)))}function Ho(Mt){return wa(rs(To(Mt)))}function ul(Mt){for(;(go=Ya())&&go<33;)di();return qi(Mt)>2||qi(go)>3?"":" "}function rs(Mt){for(;di();)switch(qi(go)){case 0:append(rt(Fo-1),Mt);break;case 2:append(Za(go),Mt);break;default:append(from(go),Mt)}return Mt}function ln(Mt,tn){for(;--tn&&di()&&!(go<48||go>102||go>57&&go<65||go>70&&go<97););return Nr(Mt,Ss()+(tn<6&&Ya()==32&&di()==32))}function Ke(Mt){for(;di();)switch(go){case Mt:return Fo;case 34:case 39:Mt!==34&&Mt!==39&&Ke(go);break;case 40:Mt===41&&Ke(Mt);break;case 92:di();break}return Fo}function Pe(Mt,tn){for(;di()&&Mt+go!==57;)if(Mt+go===84&&Ya()===47)break;return"/*"+Nr(tn,Fo-1)+"*"+Bn(Mt===47?Mt:di())}function rt(Mt){for(;!qi(Ya());)di();return Nr(Mt,Fo)}function Ne(Mt){return wa(Ot("",null,null,null,[""],Mt=To(Mt),0,[0],Mt))}function Ot(Mt,tn,hn,wn,rr,qr,_i,ni,Ri){for(var ro=0,yo=0,ko=_i,io=0,sa=0,Qi=0,ta=1,Aa=1,ls=1,ba=0,is="",La=rr,cs=qr,Va=wn,Ia=is;Aa;)switch(Qi=ba,ba=di()){case 40:if(Qi!=108&&ga(Ia,ko-1)==58){uo(Ia+=Io(Za(ba),"&","&\f"),"&\f",Ln(ro?ni[ro-1]:0))!=-1&&(ls=-1);break}case 34:case 39:case 91:Ia+=Za(ba);break;case 9:case 10:case 13:case 32:Ia+=ul(Qi);break;case 92:Ia+=ln(Ss()-1,7);continue;case 47:switch(Ya()){case 42:case 47:gs(On(Pe(di(),Ss()),tn,hn,Ri),Ri),(qi(Qi||1)==5||qi(Ya()||1)==5)&&Vo(Ia)&&$o(Ia,-1,void 0)!==" "&&(Ia+=" ");break;default:Ia+="/"}break;case 123*ta:ni[ro++]=Vo(Ia)*ls;case 125*ta:case 59:case 0:switch(ba){case 0:case 125:Aa=0;case 59+yo:ls==-1&&(Ia=Io(Ia,/\f/g,"")),sa>0&&(Vo(Ia)-ko||ta===0&&Qi===47)&&gs(sa>32?Yn(Ia+";",wn,hn,ko-1,Ri):Yn(Io(Ia," ","")+";",wn,hn,ko-2,Ri),Ri);break;case 59:Ia+=";";default:if(gs(Va=Kt(Ia,tn,hn,ro,yo,rr,ni,is,La=[],cs=[],ko,qr),qr),ba===123)if(yo===0)Ot(Ia,tn,Va,Va,La,qr,ko,ni,cs);else{switch(io){case 99:if(ga(Ia,3)===110)break;case 108:if(ga(Ia,2)===97)break;default:yo=0;case 100:case 109:case 115:}yo?Ot(Mt,Va,Va,wn&&gs(Kt(Mt,Va,Va,0,0,rr,ni,is,rr,La=[],ko,cs),cs),rr,cs,ko,ni,wn?La:cs):Ot(Ia,Va,Va,Va,[""],cs,0,ni,cs)}}ro=yo=sa=0,ta=ls=1,is=Ia="",ko=_i;break;case 58:ko=1+Vo(Ia),sa=Qi;default:if(ta<1){if(ba==123)--ta;else if(ba==125&&ta++==0&&ms()==125)continue}switch(Ia+=Bn(ba),ba*ta){case 38:ls=yo>0?1:(Ia+="\f",-1);break;case 44:ni[ro++]=(Vo(Ia)-1)*ls,ls=1;break;case 64:Ya()===45&&(Ia+=Za(di())),io=Ya(),yo=ko=Vo(is=Ia+=rt(Ss())),ba++;break;case 45:Qi===45&&Vo(Ia)==2&&(ta=0)}}return qr}function Kt(Mt,tn,hn,wn,rr,qr,_i,ni,Ri,ro,yo,ko){for(var io=rr-1,sa=rr===0?qr:[""],Qi=qa(sa),ta=0,Aa=0,ls=0;ta<wn;++ta)for(var ba=0,is=$o(Mt,io+1,io=Ln(Aa=_i[ta])),La=Mt;ba<Qi;++ba)(La=to(Aa>0?sa[ba]+" "+is:Io(is,/&\f/g,sa[ba])))&&(Ri[ls++]=La);return Is(Mt,tn,hn,rr===0?nt:ni,Ri,ro,yo,ko)}function On(Mt,tn,hn,wn){return Is(Mt,tn,hn,Tt,Bn(qs()),$o(Mt,2,-2),0,wn)}function Yn(Mt,tn,hn,wn,rr){return Is(Mt,tn,hn,Pn,$o(Mt,0,wn),$o(Mt,wn+1,-1),wn,rr)}function gr(Mt,tn){var hn=tn.path,wn=tn.parentSelectors;devWarning(!1,"[Ant Design CSS-in-JS] ".concat(hn?"Error in ".concat(hn,": "):"").concat(Mt).concat(wn.length?" Selector: ".concat(wn.join(" | ")):""))}var qn=function(tn,hn,wn){if(tn==="content"){var rr=/(attr|counters?|url|(((repeating-)?(linear|radial))|conic)-gradient)\(|(no-)?(open|close)-quote/,qr=["normal","none","initial","inherit","unset"];(typeof hn!="string"||qr.indexOf(hn)===-1&&!rr.test(hn)&&(hn.charAt(0)!==hn.charAt(hn.length-1)||hn.charAt(0)!=='"'&&hn.charAt(0)!=="'"))&&lintWarning("You seem to be using a value for 'content' without quotes, try replacing it with `content: '\"".concat(hn,"\"'`."),wn)}},Ar=null,li=function(tn,hn,wn){tn==="animation"&&wn.hashId&&hn!=="none"&&lintWarning("You seem to be using hashed animation '".concat(hn,"', in which case 'animationName' with Keyframe as value is recommended."),wn)},Bi=null;function Pr(Mt){var tn,hn=((tn=Mt.match(/:not\(([^)]*)\)/))===null||tn===void 0?void 0:tn[1])||"",wn=hn.split(/(\[[^[]*])|(?=[.#])/).filter(function(rr){return rr});return wn.length>1}function Ur(Mt){return Mt.parentSelectors.reduce(function(tn,hn){return tn?hn.includes("&")?hn.replace(/&/g,tn):"".concat(tn," ").concat(hn):hn},"")}var Cr=function(tn,hn,wn){var rr=Ur(wn),qr=rr.match(/:not\([^)]*\)/g)||[];qr.length>0&&qr.some(Pr)&&lintWarning("Concat ':not' selector not support in legacy browsers.",wn)},Er=null,yi=function(tn,hn,wn){switch(tn){case"marginLeft":case"marginRight":case"paddingLeft":case"paddingRight":case"left":case"right":case"borderLeft":case"borderLeftWidth":case"borderLeftStyle":case"borderLeftColor":case"borderRight":case"borderRightWidth":case"borderRightStyle":case"borderRightColor":case"borderTopLeftRadius":case"borderTopRightRadius":case"borderBottomLeftRadius":case"borderBottomRightRadius":lintWarning("You seem to be using non-logical property '".concat(tn,"' which is not compatible with RTL mode. Please use logical properties and values instead. For more information: https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Logical_Properties."),wn);return;case"margin":case"padding":case"borderWidth":case"borderStyle":if(typeof hn=="string"){var rr=hn.split(" ").map(function(ni){return ni.trim()});rr.length===4&&rr[1]!==rr[3]&&lintWarning("You seem to be using '".concat(tn,"' property with different left ").concat(tn," and right ").concat(tn,", which is not compatible with RTL mode. Please use logical properties and values instead. For more information: https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Logical_Properties."),wn)}return;case"clear":case"textAlign":(hn==="left"||hn==="right")&&lintWarning("You seem to be using non-logical value '".concat(hn,"' of ").concat(tn,", which is not compatible with RTL mode. Please use logical properties and values instead. For more information: https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Logical_Properties."),wn);return;case"borderRadius":if(typeof hn=="string"){var qr=hn.split("/").map(function(ni){return ni.trim()}),_i=qr.reduce(function(ni,Ri){if(ni)return ni;var ro=Ri.split(" ").map(function(yo){return yo.trim()});return ro.length>=2&&ro[0]!==ro[1]||ro.length===3&&ro[1]!==ro[2]||ro.length===4&&ro[2]!==ro[3]?!0:ni},!1);_i&&lintWarning("You seem to be using non-logical value '".concat(hn,"' of ").concat(tn,", which is not compatible with RTL mode. Please use logical properties and values instead. For more information: https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Logical_Properties."),wn)}return;default:}},Ji=null,Qo=function(tn,hn,wn){(typeof hn=="string"&&/NaN/g.test(hn)||Number.isNaN(hn))&&lintWarning("Unexpected 'NaN' in property '".concat(tn,": ").concat(hn,"'."),wn)},Ro=null,Ta=function(tn,hn,wn){wn.parentSelectors.some(function(rr){var qr=rr.split(",");return qr.some(function(_i){return _i.split("&").length>2})})&&lintWarning("Should not use more than one `&` in a selector.",wn)},_a=null,Oa="data-ant-cssinjs-cache-path",Yo="_FILE_STYLE__";function za(Mt){return Object.keys(Mt).map(function(tn){var hn=Mt[tn];return"".concat(tn,":").concat(hn)}).join(";")}var ea,tl=!0;function js(Mt){var tn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;ea=Mt,tl=tn}function As(){if(!ea&&(ea={},(0,Rn.Z)())){var Mt=document.createElement("div");Mt.className=Oa,Mt.style.position="fixed",Mt.style.visibility="hidden",Mt.style.top="-9999px",document.body.appendChild(Mt);var tn=getComputedStyle(Mt).content||"";tn=tn.replace(/^"/,"").replace(/"$/,""),tn.split(";").forEach(function(rr){var qr=rr.split(":"),_i=(0,jt.Z)(qr,2),ni=_i[0],Ri=_i[1];ea[ni]=Ri});var hn=document.querySelector("style[".concat(Oa,"]"));if(hn){var wn;tl=!1,(wn=hn.parentNode)===null||wn===void 0||wn.removeChild(hn)}document.body.removeChild(Mt)}}function vl(Mt){return As(),!!ea[Mt]}function Ds(Mt){var tn=ea[Mt],hn=null;if(tn&&(0,Rn.Z)())if(tl)hn=Yo;else{var wn=document.querySelector("style[".concat(sn,'="').concat(ea[Mt],'"]'));wn?hn=wn.innerHTML:delete ea[Mt]}return[hn,tn]}var Ts="_skip_check_",yl="_multi_value_";function Sc(Mt){var tn=_s(Ne(Mt),ns);return tn.replace(/\{%%%\:[^;];}/g,";")}function Fu(Mt){return(0,Hr.Z)(Mt)==="object"&&Mt&&(Ts in Mt||yl in Mt)}function Nc(Mt,tn,hn){if(!tn)return Mt;var wn=".".concat(tn),rr=hn==="low"?":where(".concat(wn,")"):wn,qr=Mt.split(",").map(function(_i){var ni,Ri=_i.trim().split(/\s+/),ro=Ri[0]||"",yo=((ni=ro.match(/^\w+/))===null||ni===void 0?void 0:ni[0])||"";return ro="".concat(yo).concat(rr).concat(ro.slice(yo.length)),[ro].concat((0,oe.Z)(Ri.slice(1))).join(" ")});return qr.join(",")}var yu=function Mt(tn){var hn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},wn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},rr=wn.root,qr=wn.injectHash,_i=wn.parentSelectors,ni=hn.hashId,Ri=hn.layer,ro=hn.path,yo=hn.hashPriority,ko=hn.transformers,io=ko===void 0?[]:ko,sa=hn.linters,Qi=sa===void 0?[]:sa,ta="",Aa={};function ls(La){var cs=La.getName(ni);if(!Aa[cs]){var Va=Mt(La.style,hn,{root:!1,parentSelectors:_i}),Ia=(0,jt.Z)(Va,1),zs=Ia[0];Aa[cs]="@keyframes ".concat(La.getName(ni)).concat(zs)}}function ba(La){var cs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return La.forEach(function(Va){Array.isArray(Va)?ba(Va,cs):Va&&cs.push(Va)}),cs}var is=ba(Array.isArray(tn)?tn:[tn]);return is.forEach(function(La){var cs=typeof La=="string"&&!rr?{}:La;if(typeof cs=="string")ta+="".concat(cs,`
`);else if(cs._keyframe)ls(cs);else{var Va=io.reduce(function(Ia,zs){var Wl;return(zs==null||(Wl=zs.visit)===null||Wl===void 0?void 0:Wl.call(zs,Ia))||Ia},cs);Object.keys(Va).forEach(function(Ia){var zs=Va[Ia];if((0,Hr.Z)(zs)==="object"&&zs&&(Ia!=="animationName"||!zs._keyframe)&&!Fu(zs)){var Wl=!1,_l=Ia.trim(),lu=!1;(rr||qr)&&ni?_l.startsWith("@")?Wl=!0:_l==="&"?_l=Nc("",ni,yo):_l=Nc(Ia,ni,yo):rr&&!ni&&(_l==="&"||_l==="")&&(_l="",lu=!0);var Vu=Mt(zs,hn,{root:lu,injectHash:Wl,parentSelectors:[].concat((0,oe.Z)(_i),[_l])}),kl=(0,jt.Z)(Vu,2),Ml=kl[0],Al=kl[1];Aa=(0,d.Z)((0,d.Z)({},Aa),Al),ta+="".concat(_l).concat(Ml)}else{let Dl=function(jl,Qs){var Jo=jl.replace(/[A-Z]/g,function(Cc){return"-".concat(Cc.toLowerCase())}),ec=Qs;!fe[jl]&&typeof ec=="number"&&ec!==0&&(ec="".concat(ec,"px")),jl==="animationName"&&Qs!==null&&Qs!==void 0&&Qs._keyframe&&(ls(Qs),ec=Qs.getName(ni)),ta+="".concat(Jo,":").concat(ec,";")};var dc,fc=(dc=zs==null?void 0:zs.value)!==null&&dc!==void 0?dc:zs;(0,Hr.Z)(zs)==="object"&&zs!==null&&zs!==void 0&&zs[yl]&&Array.isArray(fc)?fc.forEach(function(jl){Dl(Ia,jl)}):Dl(Ia,fc)}})}}),rr?Ri&&(ta&&(ta="@layer ".concat(Ri.name," {").concat(ta,"}")),Ri.dependencies&&(Aa["@layer ".concat(Ri.name)]=Ri.dependencies.map(function(La){return"@layer ".concat(La,", ").concat(Ri.name,";")}).join(`
`))):ta="{".concat(ta,"}"),[ta,Aa]};function Fl(Mt,tn){return lt("".concat(Mt.join("%")).concat(tn))}function dl(){return null}var xc="style";function Yc(Mt,tn){var hn=Mt.token,wn=Mt.path,rr=Mt.hashId,qr=Mt.layer,_i=Mt.nonce,ni=Mt.clientOnly,Ri=Mt.order,ro=Ri===void 0?0:Ri,yo=qe.useContext(Pt),ko=yo.autoClear,io=yo.mock,sa=yo.defaultCache,Qi=yo.hashPriority,ta=yo.container,Aa=yo.ssrInline,ls=yo.transformers,ba=yo.linters,is=yo.cache,La=yo.layer,cs=hn._tokenKey,Va=[cs];La&&Va.push("layer"),Va.push.apply(Va,(0,oe.Z)(wn));var Ia=ri,zs=$r(xc,Va,function(){var kl=Va.join("|");if(vl(kl)){var Ml=Ds(kl),Al=(0,jt.Z)(Ml,2),dc=Al[0],fc=Al[1];if(dc)return[dc,cs,fc,{},ni,ro]}var Dl=tn(),jl=yu(Dl,{hashId:rr,hashPriority:Qi,layer:La?qr:void 0,path:wn.join("-"),transformers:ls,linters:ba}),Qs=(0,jt.Z)(jl,2),Jo=Qs[0],ec=Qs[1],Cc=Sc(Jo),Zl=Fl(Va,Cc);return[Cc,cs,Zl,ec,ni,ro]},function(kl,Ml){var Al=(0,jt.Z)(kl,3),dc=Al[2];(Ml||ko)&&ri&&(0,ot.jL)(dc,{mark:sn})},function(kl){var Ml=(0,jt.Z)(kl,4),Al=Ml[0],dc=Ml[1],fc=Ml[2],Dl=Ml[3];if(Ia&&Al!==Yo){var jl={mark:sn,prepend:La?!1:"queue",attachTo:ta,priority:ro},Qs=typeof _i=="function"?_i():_i;Qs&&(jl.csp={nonce:Qs});var Jo=[],ec=[];Object.keys(Dl).forEach(function(Zl){Zl.startsWith("@layer")?Jo.push(Zl):ec.push(Zl)}),Jo.forEach(function(Zl){(0,ot.hq)(Sc(Dl[Zl]),"_layer-".concat(Zl),(0,d.Z)((0,d.Z)({},jl),{},{prepend:!0}))});var Cc=(0,ot.hq)(Al,fc,jl);Cc[_n]=is.instanceId,Cc.setAttribute(vt,cs),ec.forEach(function(Zl){(0,ot.hq)(Sc(Dl[Zl]),"_effect-".concat(Zl),jl)})}}),Wl=(0,jt.Z)(zs,3),_l=Wl[0],lu=Wl[1],Vu=Wl[2];return function(kl){var Ml;if(!Aa||Ia||!sa)Ml=qe.createElement(dl,null);else{var Al;Ml=qe.createElement("style",(0,ve.Z)({},(Al={},(0,s.Z)(Al,vt,lu),(0,s.Z)(Al,sn,Vu),Al),{dangerouslySetInnerHTML:{__html:_l}}))}return qe.createElement(qe.Fragment,null,Ml,kl)}}var au=function(tn,hn,wn){var rr=(0,jt.Z)(tn,6),qr=rr[0],_i=rr[1],ni=rr[2],Ri=rr[3],ro=rr[4],yo=rr[5],ko=wn||{},io=ko.plain;if(ro)return null;var sa=qr,Qi={"data-rc-order":"prependQueue","data-rc-priority":"".concat(yo)};return sa=Eo(qr,_i,ni,Qi,io),Ri&&Object.keys(Ri).forEach(function(ta){if(!hn[ta]){hn[ta]=!0;var Aa=Sc(Ri[ta]),ls=Eo(Aa,_i,"_effect-".concat(ta),Qi,io);ta.startsWith("@layer")?sa=ls+sa:sa+=ls}}),[yo,ni,sa]},ku="cssVar",Mh=function(tn,hn){var wn=tn.key,rr=tn.prefix,qr=tn.unitless,_i=tn.ignore,ni=tn.token,Ri=tn.scope,ro=Ri===void 0?"":Ri,yo=(0,qe.useContext)(Pt),ko=yo.cache.instanceId,io=yo.container,sa=ni._tokenKey,Qi=[].concat((0,oe.Z)(tn.path),[wn,ro,sa]),ta=$r(ku,Qi,function(){var Aa=hn(),ls=Oi(Aa,wn,{prefix:rr,unitless:qr,ignore:_i,scope:ro}),ba=(0,jt.Z)(ls,2),is=ba[0],La=ba[1],cs=Fl(Qi,La);return[is,La,cs,wn]},function(Aa){var ls=(0,jt.Z)(Aa,3),ba=ls[2];ri&&(0,ot.jL)(ba,{mark:sn})},function(Aa){var ls=(0,jt.Z)(Aa,3),ba=ls[1],is=ls[2];if(ba){var La=(0,ot.hq)(ba,is,{mark:sn,prepend:"queue",attachTo:io,priority:-999});La[_n]=ko,La.setAttribute(vt,wn)}});return ta},Zd=function(tn,hn,wn){var rr=(0,jt.Z)(tn,4),qr=rr[1],_i=rr[2],ni=rr[3],Ri=wn||{},ro=Ri.plain;if(!qr)return null;var yo=-999,ko={"data-rc-order":"prependQueue","data-rc-priority":"".concat(yo)},io=Eo(qr,ni,_i,ko,ro);return[yo,_i,io]},su=Mh,qo,ji=(qo={},(0,s.Z)(qo,xc,au),(0,s.Z)(qo,xe,Fe),(0,s.Z)(qo,ku,Zd),qo);function Vd(Mt){return Mt!==null}function vo(Mt,tn){var hn=typeof tn=="boolean"?{plain:tn}:tn||{},wn=hn.plain,rr=wn===void 0?!1:wn,qr=hn.types,_i=qr===void 0?["style","token","cssVar"]:qr,ni=new RegExp("^(".concat((typeof _i=="string"?[_i]:_i).join("|"),")%")),Ri=Array.from(Mt.cache.keys()).filter(function(io){return ni.test(io)}),ro={},yo={},ko="";return Ri.map(function(io){var sa=io.replace(ni,"").replace(/%/g,"|"),Qi=io.split("%"),ta=_slicedToArray(Qi,1),Aa=ta[0],ls=ji[Aa],ba=ls(Mt.cache.get(io)[1],ro,{plain:rr});if(!ba)return null;var is=_slicedToArray(ba,3),La=is[0],cs=is[1],Va=is[2];return io.startsWith("style")&&(yo[sa]=cs),[La,Va]}).filter(Vd).sort(function(io,sa){var Qi=_slicedToArray(io,1),ta=Qi[0],Aa=_slicedToArray(sa,1),ls=Aa[0];return ta-ls}).forEach(function(io){var sa=_slicedToArray(io,2),Qi=sa[1];ko+=Qi}),ko+=toStyleStr(".".concat(ATTR_CACHE_MAP,'{content:"').concat(serializeCacheMap(yo),'";}'),void 0,void 0,_defineProperty({},ATTR_CACHE_MAP,ATTR_CACHE_MAP),rr),ko}var ju=function(){function Mt(tn,hn){(0,qt.Z)(this,Mt),(0,s.Z)(this,"name",void 0),(0,s.Z)(this,"style",void 0),(0,s.Z)(this,"_keyframe",!0),this.name=tn,this.style=hn}return(0,mt.Z)(Mt,[{key:"getName",value:function(){var hn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return hn?"".concat(hn,"-").concat(this.name):this.name}}]),Mt}(),_u=ju;function fo(Mt){if(typeof Mt=="number")return[[Mt],!1];var tn=String(Mt).trim(),hn=tn.match(/(.*)(!important)/),wn=(hn?hn[1]:tn).trim().split(/\s+/),rr=[],qr=0;return[wn.reduce(function(_i,ni){if(ni.includes("(")||ni.includes(")")){var Ri=ni.split("(").length-1,ro=ni.split(")").length-1;qr+=Ri-ro}return qr>=0&&rr.push(ni),qr===0&&(_i.push(rr.join(" ")),rr=[]),_i},[]),!!hn]}function uc(Mt){return Mt.notSplit=!0,Mt}var Bc={inset:["top","right","bottom","left"],insetBlock:["top","bottom"],insetBlockStart:["top"],insetBlockEnd:["bottom"],insetInline:["left","right"],insetInlineStart:["left"],insetInlineEnd:["right"],marginBlock:["marginTop","marginBottom"],marginBlockStart:["marginTop"],marginBlockEnd:["marginBottom"],marginInline:["marginLeft","marginRight"],marginInlineStart:["marginLeft"],marginInlineEnd:["marginRight"],paddingBlock:["paddingTop","paddingBottom"],paddingBlockStart:["paddingTop"],paddingBlockEnd:["paddingBottom"],paddingInline:["paddingLeft","paddingRight"],paddingInlineStart:["paddingLeft"],paddingInlineEnd:["paddingRight"],borderBlock:uc(["borderTop","borderBottom"]),borderBlockStart:uc(["borderTop"]),borderBlockEnd:uc(["borderBottom"]),borderInline:uc(["borderLeft","borderRight"]),borderInlineStart:uc(["borderLeft"]),borderInlineEnd:uc(["borderRight"]),borderBlockWidth:["borderTopWidth","borderBottomWidth"],borderBlockStartWidth:["borderTopWidth"],borderBlockEndWidth:["borderBottomWidth"],borderInlineWidth:["borderLeftWidth","borderRightWidth"],borderInlineStartWidth:["borderLeftWidth"],borderInlineEndWidth:["borderRightWidth"],borderBlockStyle:["borderTopStyle","borderBottomStyle"],borderBlockStartStyle:["borderTopStyle"],borderBlockEndStyle:["borderBottomStyle"],borderInlineStyle:["borderLeftStyle","borderRightStyle"],borderInlineStartStyle:["borderLeftStyle"],borderInlineEndStyle:["borderRightStyle"],borderBlockColor:["borderTopColor","borderBottomColor"],borderBlockStartColor:["borderTopColor"],borderBlockEndColor:["borderBottomColor"],borderInlineColor:["borderLeftColor","borderRightColor"],borderInlineStartColor:["borderLeftColor"],borderInlineEndColor:["borderRightColor"],borderStartStartRadius:["borderTopLeftRadius"],borderStartEndRadius:["borderTopRightRadius"],borderEndStartRadius:["borderBottomLeftRadius"],borderEndEndRadius:["borderBottomRightRadius"]};function Zu(Mt,tn){var hn=Mt;return tn&&(hn="".concat(hn," !important")),{_skip_check_:!0,value:hn}}var Hd={visit:function(tn){var hn={};return Object.keys(tn).forEach(function(wn){var rr=tn[wn],qr=Bc[wn];if(qr&&(typeof rr=="number"||typeof rr=="string")){var _i=fo(rr),ni=(0,jt.Z)(_i,2),Ri=ni[0],ro=ni[1];qr.length&&qr.notSplit?qr.forEach(function(yo){hn[yo]=Zu(rr,ro)}):qr.length===1?hn[qr[0]]=Zu(Ri[0],ro):qr.length===2?qr.forEach(function(yo,ko){var io;hn[yo]=Zu((io=Ri[ko])!==null&&io!==void 0?io:Ri[0],ro)}):qr.length===4?qr.forEach(function(yo,ko){var io,sa;hn[yo]=Zu((io=(sa=Ri[ko])!==null&&sa!==void 0?sa:Ri[ko-2])!==null&&io!==void 0?io:Ri[0],ro)}):hn[wn]=rr}else hn[wn]=rr}),hn}},Ql=null,Tl=/url\([^)]+\)|var\([^)]+\)|(\d*\.?\d+)px/g;function Fr(Mt,tn){var hn=Math.pow(10,tn+1),wn=Math.floor(Mt*hn);return Math.round(wn/10)*10/hn}var bu=function(){var tn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},hn=tn.rootValue,wn=hn===void 0?16:hn,rr=tn.precision,qr=rr===void 0?5:rr,_i=tn.mediaQuery,ni=_i===void 0?!1:_i,Ri=function(ko,io){if(!io)return ko;var sa=parseFloat(io);if(sa<=1)return ko;var Qi=Fr(sa/wn,qr);return"".concat(Qi,"rem")},ro=function(ko){var io=_objectSpread({},ko);return Object.entries(ko).forEach(function(sa){var Qi=_slicedToArray(sa,2),ta=Qi[0],Aa=Qi[1];if(typeof Aa=="string"&&Aa.includes("px")){var ls=Aa.replace(Tl,Ri);io[ta]=ls}!unitless[ta]&&typeof Aa=="number"&&Aa!==0&&(io[ta]="".concat(Aa,"px").replace(Tl,Ri));var ba=ta.trim();if(ba.startsWith("@")&&ba.includes("px")&&ni){var is=ta.replace(Tl,Ri);io[is]=io[ta],delete io[ta]}}),io};return{visit:ro}},Es=null,fd={supportModernCSS:function(){return Zo()&&Da()}}},84432:function(Kr,bn,he){"use strict";he.d(bn,{t:function(){return lt}});var s=he(38926);const jt=Math.round;function oe(ot,qe){const De=ot.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],Ae=De.map(zt=>parseFloat(zt));for(let zt=0;zt<3;zt+=1)Ae[zt]=qe(Ae[zt]||0,De[zt]||"",zt);return De[3]?Ae[3]=De[3].includes("%")?Ae[3]/100:Ae[3]:Ae[3]=1,Ae}const d=(ot,qe,De)=>De===0?ot:ot/100;function Be(ot,qe){const De=qe||255;return ot>De?De:ot<0?0:ot}class lt{constructor(qe){(0,s.Z)(this,"isValid",!0),(0,s.Z)(this,"r",0),(0,s.Z)(this,"g",0),(0,s.Z)(this,"b",0),(0,s.Z)(this,"a",1),(0,s.Z)(this,"_h",void 0),(0,s.Z)(this,"_s",void 0),(0,s.Z)(this,"_l",void 0),(0,s.Z)(this,"_v",void 0),(0,s.Z)(this,"_max",void 0),(0,s.Z)(this,"_min",void 0),(0,s.Z)(this,"_brightness",void 0);function De(Ae){return Ae[0]in qe&&Ae[1]in qe&&Ae[2]in qe}if(qe)if(typeof qe=="string"){let zt=function(qt){return Ae.startsWith(qt)};const Ae=qe.trim();/^#?[A-F\d]{3,8}$/i.test(Ae)?this.fromHexString(Ae):zt("rgb")?this.fromRgbString(Ae):zt("hsl")?this.fromHslString(Ae):(zt("hsv")||zt("hsb"))&&this.fromHsvString(Ae)}else if(qe instanceof lt)this.r=qe.r,this.g=qe.g,this.b=qe.b,this.a=qe.a,this._h=qe._h,this._s=qe._s,this._l=qe._l,this._v=qe._v;else if(De("rgb"))this.r=Be(qe.r),this.g=Be(qe.g),this.b=Be(qe.b),this.a=typeof qe.a=="number"?Be(qe.a,1):1;else if(De("hsl"))this.fromHsl(qe);else if(De("hsv"))this.fromHsv(qe);else throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(qe))}setR(qe){return this._sc("r",qe)}setG(qe){return this._sc("g",qe)}setB(qe){return this._sc("b",qe)}setA(qe){return this._sc("a",qe,1)}setHue(qe){const De=this.toHsv();return De.h=qe,this._c(De)}getLuminance(){function qe(qt){const mt=qt/255;return mt<=.03928?mt/12.92:Math.pow((mt+.055)/1.055,2.4)}const De=qe(this.r),Ae=qe(this.g),zt=qe(this.b);return .2126*De+.7152*Ae+.0722*zt}getHue(){if(typeof this._h=="undefined"){const qe=this.getMax()-this.getMin();qe===0?this._h=0:this._h=jt(60*(this.r===this.getMax()?(this.g-this.b)/qe+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/qe+2:(this.r-this.g)/qe+4))}return this._h}getSaturation(){if(typeof this._s=="undefined"){const qe=this.getMax()-this.getMin();qe===0?this._s=0:this._s=qe/this.getMax()}return this._s}getLightness(){return typeof this._l=="undefined"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v=="undefined"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness=="undefined"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(qe=10){const De=this.getHue(),Ae=this.getSaturation();let zt=this.getLightness()-qe/100;return zt<0&&(zt=0),this._c({h:De,s:Ae,l:zt,a:this.a})}lighten(qe=10){const De=this.getHue(),Ae=this.getSaturation();let zt=this.getLightness()+qe/100;return zt>1&&(zt=1),this._c({h:De,s:Ae,l:zt,a:this.a})}mix(qe,De=50){const Ae=this._c(qe),zt=De/100,qt=Et=>(Ae[Et]-this[Et])*zt+this[Et],mt={r:jt(qt("r")),g:jt(qt("g")),b:jt(qt("b")),a:jt(qt("a")*100)/100};return this._c(mt)}tint(qe=10){return this.mix({r:255,g:255,b:255,a:1},qe)}shade(qe=10){return this.mix({r:0,g:0,b:0,a:1},qe)}onBackground(qe){const De=this._c(qe),Ae=this.a+De.a*(1-this.a),zt=qt=>jt((this[qt]*this.a+De[qt]*De.a*(1-this.a))/Ae);return this._c({r:zt("r"),g:zt("g"),b:zt("b"),a:Ae})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(qe){return this.r===qe.r&&this.g===qe.g&&this.b===qe.b&&this.a===qe.a}clone(){return this._c(this)}toHexString(){let qe="#";const De=(this.r||0).toString(16);qe+=De.length===2?De:"0"+De;const Ae=(this.g||0).toString(16);qe+=Ae.length===2?Ae:"0"+Ae;const zt=(this.b||0).toString(16);if(qe+=zt.length===2?zt:"0"+zt,typeof this.a=="number"&&this.a>=0&&this.a<1){const qt=jt(this.a*255).toString(16);qe+=qt.length===2?qt:"0"+qt}return qe}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const qe=this.getHue(),De=jt(this.getSaturation()*100),Ae=jt(this.getLightness()*100);return this.a!==1?`hsla(${qe},${De}%,${Ae}%,${this.a})`:`hsl(${qe},${De}%,${Ae}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(qe,De,Ae){const zt=this.clone();return zt[qe]=Be(De,Ae),zt}_c(qe){return new this.constructor(qe)}getMax(){return typeof this._max=="undefined"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min=="undefined"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(qe){const De=qe.replace("#","");function Ae(zt,qt){return parseInt(De[zt]+De[qt||zt],16)}De.length<6?(this.r=Ae(0),this.g=Ae(1),this.b=Ae(2),this.a=De[3]?Ae(3)/255:1):(this.r=Ae(0,1),this.g=Ae(2,3),this.b=Ae(4,5),this.a=De[6]?Ae(6,7)/255:1)}fromHsl({h:qe,s:De,l:Ae,a:zt}){if(this._h=qe%360,this._s=De,this._l=Ae,this.a=typeof zt=="number"?zt:1,De<=0){const vt=jt(Ae*255);this.r=vt,this.g=vt,this.b=vt}let qt=0,mt=0,Et=0;const an=qe/60,Ht=(1-Math.abs(2*Ae-1))*De,Zt=Ht*(1-Math.abs(an%2-1));an>=0&&an<1?(qt=Ht,mt=Zt):an>=1&&an<2?(qt=Zt,mt=Ht):an>=2&&an<3?(mt=Ht,Et=Zt):an>=3&&an<4?(mt=Zt,Et=Ht):an>=4&&an<5?(qt=Zt,Et=Ht):an>=5&&an<6&&(qt=Ht,Et=Zt);const Qt=Ae-Ht/2;this.r=jt((qt+Qt)*255),this.g=jt((mt+Qt)*255),this.b=jt((Et+Qt)*255)}fromHsv({h:qe,s:De,v:Ae,a:zt}){this._h=qe%360,this._s=De,this._v=Ae,this.a=typeof zt=="number"?zt:1;const qt=jt(Ae*255);if(this.r=qt,this.g=qt,this.b=qt,De<=0)return;const mt=qe/60,Et=Math.floor(mt),an=mt-Et,Ht=jt(Ae*(1-De)*255),Zt=jt(Ae*(1-De*an)*255),Qt=jt(Ae*(1-De*(1-an))*255);switch(Et){case 0:this.g=Qt,this.b=Ht;break;case 1:this.r=Zt,this.b=Ht;break;case 2:this.r=Ht,this.b=Qt;break;case 3:this.r=Ht,this.g=Zt;break;case 4:this.r=Qt,this.g=Ht;break;case 5:default:this.g=Ht,this.b=Zt;break}}fromHsvString(qe){const De=oe(qe,d);this.fromHsv({h:De[0],s:De[1],v:De[2],a:De[3]})}fromHslString(qe){const De=oe(qe,d);this.fromHsl({h:De[0],s:De[1],l:De[2],a:De[3]})}fromRgbString(qe){const De=oe(qe,(Ae,zt)=>zt.includes("%")?jt(Ae/100*255):Ae);this.r=De[0],this.g=De[1],this.b=De[2],this.a=De[3]}}},23738:function(Kr,bn,he){"use strict";he.d(bn,{Z:function(){return Jn}});var s=he(23022),jt=he(89692),oe=he(38926),d=he(58190),Be=he(75271),lt=he(82187),ot=he.n(lt),qe=he(68640),De=he(53552),Ae=he(54153),zt=he(5147),qt=he(18263),mt=he(16167),Et=he(4449);function an(Rt){return Rt.replace(/-(.)/g,function(Tn,Gn){return Gn.toUpperCase()})}function Ht(Rt,Tn){(0,Et.ZP)(Rt,"[@ant-design/icons] ".concat(Tn))}function Zt(Rt){return(0,zt.Z)(Rt)==="object"&&typeof Rt.name=="string"&&typeof Rt.theme=="string"&&((0,zt.Z)(Rt.icon)==="object"||typeof Rt.icon=="function")}function Qt(){var Rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(Rt).reduce(function(Tn,Gn){var mr=Rt[Gn];switch(Gn){case"class":Tn.className=mr,delete Tn.class;break;default:delete Tn[Gn],Tn[an(Gn)]=mr}return Tn},{})}function vt(Rt,Tn,Gn){return Gn?Be.createElement(Rt.tag,(0,Ae.Z)((0,Ae.Z)({key:Tn},Qt(Rt.attrs)),Gn),(Rt.children||[]).map(function(mr,ir){return vt(mr,"".concat(Tn,"-").concat(Rt.tag,"-").concat(ir))})):Be.createElement(Rt.tag,(0,Ae.Z)({key:Tn},Qt(Rt.attrs)),(Rt.children||[]).map(function(mr,ir){return vt(mr,"".concat(Tn,"-").concat(Rt.tag,"-").concat(ir))}))}function sn(Rt){return(0,qe.R_)(Rt)[0]}function Xt(Rt){return Rt?Array.isArray(Rt)?Rt:[Rt]:[]}var _n={width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",focusable:"false"},En=`
.anticon {
  display: inline-flex;
  align-items: center;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,Nn=function(Tn){var Gn=(0,Be.useContext)(De.Z),mr=Gn.csp,ir=Gn.prefixCls,zr=Gn.layer,wr=En;ir&&(wr=wr.replace(/anticon/g,ir)),zr&&(wr="@layer ".concat(zr,` {
`).concat(wr,`
}`)),(0,Be.useEffect)(function(){var J=Tn.current,mn=(0,mt.A)(J);(0,qt.hq)(wr,"@ant-design-icons",{prepend:!zr,csp:mr,attachTo:mn})},[])},fi=["icon","className","onClick","style","primaryColor","secondaryColor"],Pt={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function Hr(Rt){var Tn=Rt.primaryColor,Gn=Rt.secondaryColor;Pt.primaryColor=Tn,Pt.secondaryColor=Gn||sn(Tn),Pt.calculated=!!Gn}function Rn(){return(0,Ae.Z)({},Pt)}var Fn=function(Tn){var Gn=Tn.icon,mr=Tn.className,ir=Tn.onClick,zr=Tn.style,wr=Tn.primaryColor,J=Tn.secondaryColor,mn=(0,d.Z)(Tn,fi),Ui=Be.useRef(),ki=Pt;if(wr&&(ki={primaryColor:wr,secondaryColor:J||sn(wr)}),Nn(Ui),Ht(Zt(Gn),"icon should be icon definiton, but got ".concat(Gn)),!Zt(Gn))return null;var Sn=Gn;return Sn&&typeof Sn.icon=="function"&&(Sn=(0,Ae.Z)((0,Ae.Z)({},Sn),{},{icon:Sn.icon(ki.primaryColor,ki.secondaryColor)})),vt(Sn.icon,"svg-".concat(Sn.name),(0,Ae.Z)((0,Ae.Z)({className:mr,onClick:ir,style:zr,"data-icon":Sn.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},mn),{},{ref:Ui}))};Fn.displayName="IconReact",Fn.getTwoToneColors=Rn,Fn.setTwoToneColors=Hr;var Br=Fn;function Tr(Rt){var Tn=Xt(Rt),Gn=(0,jt.Z)(Tn,2),mr=Gn[0],ir=Gn[1];return Br.setTwoToneColors({primaryColor:mr,secondaryColor:ir})}function nr(){var Rt=Br.getTwoToneColors();return Rt.calculated?[Rt.primaryColor,Rt.secondaryColor]:Rt.primaryColor}var Qr=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];Tr(qe.iN.primary);var Mr=Be.forwardRef(function(Rt,Tn){var Gn=Rt.className,mr=Rt.icon,ir=Rt.spin,zr=Rt.rotate,wr=Rt.tabIndex,J=Rt.onClick,mn=Rt.twoToneColor,Ui=(0,d.Z)(Rt,Qr),ki=Be.useContext(De.Z),Sn=ki.prefixCls,ei=Sn===void 0?"anticon":Sn,Pi=ki.rootClassName,Xr=ot()(Pi,ei,(0,oe.Z)((0,oe.Z)({},"".concat(ei,"-").concat(mr.name),!!mr.name),"".concat(ei,"-spin"),!!ir||mr.name==="loading"),Gn),or=wr;or===void 0&&J&&(or=-1);var dr=zr?{msTransform:"rotate(".concat(zr,"deg)"),transform:"rotate(".concat(zr,"deg)")}:void 0,$i=Xt(mn),Zo=(0,jt.Z)($i,2),ha=Zo[0],Da=Zo[1];return Be.createElement("span",(0,s.Z)({role:"img","aria-label":mr.name},Ui,{ref:Tn,tabIndex:or,onClick:J,className:Xr}),Be.createElement(Br,{icon:mr,primaryColor:ha,secondaryColor:Da,style:dr}))});Mr.displayName="AntdIcon",Mr.getTwoToneColor=nr,Mr.setTwoToneColor=Tr;var Jn=Mr},53552:function(Kr,bn,he){"use strict";var s=he(75271),jt=(0,s.createContext)({});bn.Z=jt},4692:function(Kr,bn,he){"use strict";he.d(bn,{Z:function(){return qe}});var s=he(23022),jt=he(75271),oe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},d=oe,Be=he(23738),lt=function(Ae,zt){return jt.createElement(Be.Z,(0,s.Z)({},Ae,{ref:zt,icon:d}))},ot=jt.forwardRef(lt),qe=ot},75434:function(Kr,bn,he){"use strict";he.d(bn,{Z:function(){return qe}});var s=he(23022),jt=he(75271),oe={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"},d=oe,Be=he(23738),lt=function(Ae,zt){return jt.createElement(Be.Z,(0,s.Z)({},Ae,{ref:zt,icon:d}))},ot=jt.forwardRef(lt),qe=ot},13143:function(Kr,bn,he){"use strict";he.d(bn,{Z:function(){return qe}});var s=he(23022),jt=he(75271),oe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},d=oe,Be=he(23738),lt=function(Ae,zt){return jt.createElement(Be.Z,(0,s.Z)({},Ae,{ref:zt,icon:d}))},ot=jt.forwardRef(lt),qe=ot},64267:function(Kr,bn,he){"use strict";he.d(bn,{Z:function(){return qe}});var s=he(23022),jt=he(75271),oe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},d=oe,Be=he(23738),lt=function(Ae,zt){return jt.createElement(Be.Z,(0,s.Z)({},Ae,{ref:zt,icon:d}))},ot=jt.forwardRef(lt),qe=ot},24573:function(Kr,bn,he){"use strict";he.d(bn,{Z:function(){return qe}});var s=he(23022),jt=he(75271),oe={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},d=oe,Be=he(23738),lt=function(Ae,zt){return jt.createElement(Be.Z,(0,s.Z)({},Ae,{ref:zt,icon:d}))},ot=jt.forwardRef(lt),qe=ot},84896:function(Kr,bn,he){"use strict";he.d(bn,{Z:function(){return qe}});var s=he(23022),jt=he(75271),oe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"},d=oe,Be=he(23738),lt=function(Ae,zt){return jt.createElement(Be.Z,(0,s.Z)({},Ae,{ref:zt,icon:d}))},ot=jt.forwardRef(lt),qe=ot},54797:function(){"use strict"},78018:function(Kr,bn,he){"use strict";var s=he(75271),jt=he(60824),oe=he(23137);const d=Be=>{const{space:lt,form:ot,children:qe}=Be;if(qe==null)return null;let De=qe;return ot&&(De=s.createElement(jt.Ux,{override:!0,status:!0},De)),lt&&(De=s.createElement(oe.BR,null,De)),De};bn.Z=d},53835:function(Kr,bn,he){"use strict";he.d(bn,{o2:function(){return Be},yT:function(){return lt}});var s=he(46865),jt=he(98990);const oe=jt.i.map(ot=>`${ot}-inverse`),d=["success","processing","error","default","warning"];function Be(ot){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)?[].concat((0,s.Z)(oe),(0,s.Z)(jt.i)).includes(ot):jt.i.includes(ot)}function lt(ot){return d.includes(ot)}},85990:function(Kr,bn,he){"use strict";he.d(bn,{Z:function(){return jt}});var s=he(75271);function jt(){const[,oe]=s.useReducer(d=>d+1,0);return oe}},19952:function(Kr,bn,he){"use strict";he.d(bn,{Cn:function(){return zt},u6:function(){return lt}});var s=he(75271),jt=he(67699),oe=he(61803);const d=100,lt=d*10,ot=lt+d,qe={Modal:d,Drawer:d,Popover:d,Popconfirm:d,Tooltip:d,Tour:d,FloatButton:d},De={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};function Ae(qt){return qt in qe}const zt=(qt,mt)=>{const[,Et]=(0,jt.ZP)(),an=s.useContext(oe.Z),Ht=Ae(qt);let Zt;if(mt!==void 0)Zt=[mt,mt];else{let Qt=an!=null?an:0;Ht?Qt+=(an?0:Et.zIndexPopupBase)+qe[qt]:Qt+=De[qt],Zt=[an===void 0?mt:Qt,Qt]}return Zt}},13635:function(Kr,bn,he){"use strict";he.d(bn,{m:function(){return qe}});var s=he(98446);const jt=()=>({height:0,opacity:0}),oe=De=>{const{scrollHeight:Ae}=De;return{height:Ae,opacity:1}},d=De=>({height:De?De.offsetHeight:0}),Be=(De,Ae)=>(Ae==null?void 0:Ae.deadline)===!0||Ae.propertyName==="height",lt=function(){return{motionName:`${arguments.length>0&&arguments[0]!==void 0?arguments[0]:s.Rf}-motion-collapse`,onAppearStart:jt,onEnterStart:jt,onAppearActive:oe,onEnterActive:oe,onLeaveStart:d,onLeaveActive:jt,onAppearEnd:Be,onEnterEnd:Be,onLeaveEnd:Be,motionDeadline:500}},ot=null,qe=(De,Ae,zt)=>zt!==void 0?zt:`${De}-${Ae}`;bn.Z=lt},5416:function(Kr,bn,he){"use strict";he.d(bn,{Z:function(){return lt}});var s=he(18533);function jt(ot,qe,De,Ae){if(Ae===!1)return{adjustX:!1,adjustY:!1};const zt=Ae&&typeof Ae=="object"?Ae:{},qt={};switch(ot){case"top":case"bottom":qt.shiftX=qe.arrowOffsetHorizontal*2+De,qt.shiftY=!0,qt.adjustY=!0;break;case"left":case"right":qt.shiftY=qe.arrowOffsetVertical*2+De,qt.shiftX=!0,qt.adjustX=!0;break}const mt=Object.assign(Object.assign({},qt),zt);return mt.shiftX||(mt.adjustX=!0),mt.shiftY||(mt.adjustY=!0),mt}const oe={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},d={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},Be=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function lt(ot){const{arrowWidth:qe,autoAdjustOverflow:De,arrowPointAtCenter:Ae,offset:zt,borderRadius:qt,visibleFirst:mt}=ot,Et=qe/2,an={};return Object.keys(oe).forEach(Ht=>{const Zt=Ae&&d[Ht]||oe[Ht],Qt=Object.assign(Object.assign({},Zt),{offset:[0,0],dynamicInset:!0});switch(an[Ht]=Qt,Be.has(Ht)&&(Qt.autoArrow=!1),Ht){case"top":case"topLeft":case"topRight":Qt.offset[1]=-Et-zt;break;case"bottom":case"bottomLeft":case"bottomRight":Qt.offset[1]=Et+zt;break;case"left":case"leftTop":case"leftBottom":Qt.offset[0]=-Et-zt;break;case"right":case"rightTop":case"rightBottom":Qt.offset[0]=Et+zt;break}const vt=(0,s.wZ)({contentRadius:qt,limitVerticalRadius:!0});if(Ae)switch(Ht){case"topLeft":case"bottomLeft":Qt.offset[0]=-vt.arrowOffsetHorizontal-Et;break;case"topRight":case"bottomRight":Qt.offset[0]=vt.arrowOffsetHorizontal+Et;break;case"leftTop":case"rightTop":Qt.offset[1]=-vt.arrowOffsetHorizontal*2+Et;break;case"leftBottom":case"rightBottom":Qt.offset[1]=vt.arrowOffsetHorizontal*2-Et;break}Qt.overflow=jt(Ht,vt,qe,De),mt&&(Qt.htmlRegion="visibleFirst")}),an}},26021:function(Kr,bn,he){"use strict";he.d(bn,{M2:function(){return jt},Tm:function(){return d},wm:function(){return oe}});var s=he(75271);function jt(Be){return Be&&s.isValidElement(Be)&&Be.type===s.Fragment}const oe=(Be,lt,ot)=>s.isValidElement(Be)?s.cloneElement(Be,typeof ot=="function"?ot(Be.props||{}):ot):lt;function d(Be,lt){return oe(Be,Be,lt)}},96777:function(Kr,bn,he){"use strict";he.d(bn,{ZP:function(){return lt},c4:function(){return oe},m9:function(){return ot}});var s=he(75271),jt=he(67699);const oe=["xxl","xl","lg","md","sm","xs"],d=qe=>({xs:`(max-width: ${qe.screenXSMax}px)`,sm:`(min-width: ${qe.screenSM}px)`,md:`(min-width: ${qe.screenMD}px)`,lg:`(min-width: ${qe.screenLG}px)`,xl:`(min-width: ${qe.screenXL}px)`,xxl:`(min-width: ${qe.screenXXL}px)`}),Be=qe=>{const De=qe,Ae=[].concat(oe).reverse();return Ae.forEach((zt,qt)=>{const mt=zt.toUpperCase(),Et=`screen${mt}Min`,an=`screen${mt}`;if(!(De[Et]<=De[an]))throw new Error(`${Et}<=${an} fails : !(${De[Et]}<=${De[an]})`);if(qt<Ae.length-1){const Ht=`screen${mt}Max`;if(!(De[an]<=De[Ht]))throw new Error(`${an}<=${Ht} fails : !(${De[an]}<=${De[Ht]})`);const Qt=`screen${Ae[qt+1].toUpperCase()}Min`;if(!(De[Ht]<=De[Qt]))throw new Error(`${Ht}<=${Qt} fails : !(${De[Ht]}<=${De[Qt]})`)}}),qe};function lt(){const[,qe]=(0,jt.ZP)(),De=d(Be(qe));return s.useMemo(()=>{const Ae=new Map;let zt=-1,qt={};return{matchHandlers:{},dispatch(mt){return qt=mt,Ae.forEach(Et=>Et(qt)),Ae.size>=1},subscribe(mt){return Ae.size||this.register(),zt+=1,Ae.set(zt,mt),mt(qt),zt},unsubscribe(mt){Ae.delete(mt),Ae.size||this.unregister()},unregister(){Object.keys(De).forEach(mt=>{const Et=De[mt],an=this.matchHandlers[Et];an==null||an.mql.removeListener(an==null?void 0:an.listener)}),Ae.clear()},register(){Object.keys(De).forEach(mt=>{const Et=De[mt],an=Zt=>{let{matches:Qt}=Zt;this.dispatch(Object.assign(Object.assign({},qt),{[mt]:Qt}))},Ht=window.matchMedia(Et);Ht.addListener(an),this.matchHandlers[Et]={mql:Ht,listener:an},an(Ht)})},responsiveMap:De}},[qe])}const ot=(qe,De)=>{if(De&&typeof De=="object")for(let Ae=0;Ae<oe.length;Ae++){const zt=oe[Ae];if(qe[zt]&&De[zt]!==void 0)return De[zt]}}},94773:function(Kr,bn,he){"use strict";he.d(bn,{F:function(){return Be},Z:function(){return d}});var s=he(82187),jt=he.n(s);const oe=null;function d(lt,ot,qe){return jt()({[`${lt}-status-success`]:ot==="success",[`${lt}-status-warning`]:ot==="warning",[`${lt}-status-error`]:ot==="error",[`${lt}-status-validating`]:ot==="validating",[`${lt}-has-feedback`]:qe})}const Be=(lt,ot)=>ot||lt},87117:function(Kr,bn,he){"use strict";he.d(bn,{G8:function(){return ot},ln:function(){return qe}});var s=he(75271),jt=he(4449);function oe(){}let d=null;function Be(){d=null,rcResetWarned()}let lt=null;const ot=s.createContext({}),qe=()=>{const Ae=()=>{};return Ae.deprecated=oe,Ae};var De=null},61803:function(Kr,bn,he){"use strict";var s=he(75271);const jt=s.createContext(void 0);bn.Z=jt},40859:function(Kr,bn,he){"use strict";var s=he(58492);bn.Z=s.Z},98472:function(Kr,bn,he){"use strict";he.d(bn,{n:function(){return oe}});var s=he(75271);const jt=s.createContext(!1),oe=d=>{let{children:Be,disabled:lt}=d;const ot=s.useContext(jt);return s.createElement(jt.Provider,{value:lt!=null?lt:ot},Be)};bn.Z=jt},10497:function(Kr,bn,he){"use strict";he.d(bn,{q:function(){return oe}});var s=he(75271);const jt=s.createContext(void 0),oe=d=>{let{children:Be,size:lt}=d;const ot=s.useContext(jt);return s.createElement(jt.Provider,{value:lt||ot},Be)};bn.Z=jt},98446:function(Kr,bn,he){"use strict";he.d(bn,{E_:function(){return lt},Rf:function(){return jt},dj:function(){return De},oR:function(){return oe},tr:function(){return d}});var s=he(75271);const jt="ant",oe="anticon",d=["outlined","borderless","filled","underlined"],Be=(Ae,zt)=>zt||(Ae?`${jt}-${Ae}`:jt),lt=s.createContext({getPrefixCls:Be,iconPrefixCls:oe}),{Consumer:ot}=lt,qe={};function De(Ae){const zt=s.useContext(lt),{getPrefixCls:qt,direction:mt,getPopupContainer:Et}=zt,an=zt[Ae];return Object.assign(Object.assign({classNames:qe,styles:qe},an),{getPrefixCls:qt,direction:mt,getPopupContainer:Et})}},38437:function(Kr,bn,he){"use strict";var s=he(67699);const jt=oe=>{const[,,,,d]=(0,s.ZP)();return d?`${oe}-css-var`:""};bn.Z=jt},95741:function(Kr,bn,he){"use strict";var s=he(75271),jt=he(10497);const oe=d=>{const Be=s.useContext(jt.Z);return s.useMemo(()=>d?typeof d=="string"?d!=null?d:Be:d instanceof Function?d(Be):Be:Be,[d,Be])};bn.Z=oe},62639:function(Kr,bn,he){"use strict";he.d(bn,{ZP:function(){return ya},w6:function(){return Ko}});var s=he(75271),jt=he.t(s,2),oe=he(55921),d=he(53552),Be=he(54596),lt=he(27636),ot=he(87117),qe=he(63613),De=he(3786),Ae=he(59379);const zt="internalMark";var mt=Oi=>{const{locale:Gr={},children:so,_ANT_MARK__:Li}=Oi;s.useEffect(()=>(0,De.f)(Gr==null?void 0:Gr.Modal),[Gr]);const co=s.useMemo(()=>Object.assign(Object.assign({},Gr),{exist:!0}),[Gr]);return s.createElement(Ae.Z.Provider,{value:co},so)},Et=he(42474),an=he(38920),Ht=he(20284),Zt=he(30767),Qt=he(98446),vt=he(68640),sn=he(84432),Xt=he(18415),_n=he(18263);const En=`-ant-${Date.now()}-${Math.random()}`;function Nn(Oi,Gr){const so={},Li=(Or,bo)=>{let Ua=Or.clone();return Ua=(bo==null?void 0:bo(Ua))||Ua,Ua.toRgbString()},co=(Or,bo)=>{const Ua=new sn.t(Or),jr=(0,vt.R_)(Ua.toRgbString());so[`${bo}-color`]=Li(Ua),so[`${bo}-color-disabled`]=jr[1],so[`${bo}-color-hover`]=jr[4],so[`${bo}-color-active`]=jr[6],so[`${bo}-color-outline`]=Ua.clone().setA(.2).toRgbString(),so[`${bo}-color-deprecated-bg`]=jr[0],so[`${bo}-color-deprecated-border`]=jr[2]};if(Gr.primaryColor){co(Gr.primaryColor,"primary");const Or=new sn.t(Gr.primaryColor),bo=(0,vt.R_)(Or.toRgbString());bo.forEach((jr,ia)=>{so[`primary-${ia+1}`]=jr}),so["primary-color-deprecated-l-35"]=Li(Or,jr=>jr.lighten(35)),so["primary-color-deprecated-l-20"]=Li(Or,jr=>jr.lighten(20)),so["primary-color-deprecated-t-20"]=Li(Or,jr=>jr.tint(20)),so["primary-color-deprecated-t-50"]=Li(Or,jr=>jr.tint(50)),so["primary-color-deprecated-f-12"]=Li(Or,jr=>jr.setA(jr.a*.12));const Ua=new sn.t(bo[0]);so["primary-color-active-deprecated-f-30"]=Li(Ua,jr=>jr.setA(jr.a*.3)),so["primary-color-active-deprecated-d-02"]=Li(Ua,jr=>jr.darken(2))}return Gr.successColor&&co(Gr.successColor,"success"),Gr.warningColor&&co(Gr.warningColor,"warning"),Gr.errorColor&&co(Gr.errorColor,"error"),Gr.infoColor&&co(Gr.infoColor,"info"),`
  :root {
    ${Object.keys(so).map(Or=>`--${Oi}-${Or}: ${so[Or]};`).join(`
`)}
  }
  `.trim()}function fi(Oi,Gr){const so=Nn(Oi,Gr);(0,Xt.Z)()&&(0,_n.hq)(so,`${En}-dynamic-theme`)}var Pt=he(98472),Hr=he(10497);function Rn(){const Oi=(0,s.useContext)(Pt.Z),Gr=(0,s.useContext)(Hr.Z);return{componentDisabled:Oi,componentSize:Gr}}var Fn=Rn,Br=he(47996);const Tr=Object.assign({},jt),{useId:nr}=Tr;var Jn=typeof nr=="undefined"?()=>"":nr;function Rt(Oi,Gr,so){var Li,co;const ws=(0,ot.ln)("ConfigProvider"),Or=Oi||{},bo=Or.inherit===!1||!Gr?Object.assign(Object.assign({},Ht.u_),{hashed:(Li=Gr==null?void 0:Gr.hashed)!==null&&Li!==void 0?Li:Ht.u_.hashed,cssVar:Gr==null?void 0:Gr.cssVar}):Gr,Ua=Jn();return(0,Be.Z)(()=>{var jr,ia;if(!Oi)return Gr;const ss=Object.assign({},bo.components);Object.keys(Oi.components||{}).forEach(ds=>{ss[ds]=Object.assign(Object.assign({},ss[ds]),Oi.components[ds])});const Ra=`css-var-${Ua.replace(/:/g,"")}`,po=((jr=Or.cssVar)!==null&&jr!==void 0?jr:bo.cssVar)&&Object.assign(Object.assign(Object.assign({prefix:so==null?void 0:so.prefixCls},typeof bo.cssVar=="object"?bo.cssVar:{}),typeof Or.cssVar=="object"?Or.cssVar:{}),{key:typeof Or.cssVar=="object"&&((ia=Or.cssVar)===null||ia===void 0?void 0:ia.key)||Ra});return Object.assign(Object.assign(Object.assign({},bo),Or),{token:Object.assign(Object.assign({},bo.token),Or.token),components:ss,cssVar:po})},[Or,bo],(jr,ia)=>jr.some((ss,Ra)=>{const po=ia[Ra];return!(0,Br.Z)(ss,po,!0)}))}var Tn=he(62803),Gn=he(67699);function mr(Oi){const{children:Gr}=Oi,[,so]=(0,Gn.ZP)(),{motion:Li}=so,co=s.useRef(!1);return co.current=co.current||Li===!1,co.current?s.createElement(Tn.zt,{motion:Li},Gr):Gr}const ir=null;var zr=()=>null,wr=he(34299),mn=(Oi,Gr)=>{const[so,Li]=(0,Gn.ZP)();return(0,oe.xy)({theme:so,token:Li,hashId:"",path:["ant-design-icons",Oi],nonce:()=>Gr==null?void 0:Gr.nonce,layer:{name:"antd"}},()=>[(0,wr.JT)(Oi)])},Ui=function(Oi,Gr){var so={};for(var Li in Oi)Object.prototype.hasOwnProperty.call(Oi,Li)&&Gr.indexOf(Li)<0&&(so[Li]=Oi[Li]);if(Oi!=null&&typeof Object.getOwnPropertySymbols=="function")for(var co=0,Li=Object.getOwnPropertySymbols(Oi);co<Li.length;co++)Gr.indexOf(Li[co])<0&&Object.prototype.propertyIsEnumerable.call(Oi,Li[co])&&(so[Li[co]]=Oi[Li[co]]);return so};let ki=!1;const Sn=null,ei=null,Pi=["getTargetContainer","getPopupContainer","renderEmpty","input","pagination","form","select","button"];let Xr,or,dr,$i;function Zo(){return Xr||Qt.Rf}function ha(){return or||Qt.oR}function Da(Oi){return Object.keys(Oi).some(Gr=>Gr.endsWith("Color"))}const ri=Oi=>{const{prefixCls:Gr,iconPrefixCls:so,theme:Li,holderRender:co}=Oi;Gr!==void 0&&(Xr=Gr),so!==void 0&&(or=so),"holderRender"in Oi&&($i=co),Li&&(Da(Li)?fi(Zo(),Li):dr=Li)},Ko=()=>({getPrefixCls:(Oi,Gr)=>Gr||(Oi?`${Zo()}-${Oi}`:Zo()),getIconPrefixCls:ha,getRootPrefixCls:()=>Xr||Zo(),getTheme:()=>dr,holderRender:$i}),Eo=Oi=>{const{children:Gr,csp:so,autoInsertSpaceInButton:Li,alert:co,anchor:ws,form:Or,locale:bo,componentSize:Ua,direction:jr,space:ia,splitter:ss,virtual:Ra,dropdownMatchSelectWidth:po,popupMatchSelectWidth:ds,popupOverflow:il,legacyLocale:Cn,parentContext:Dn,iconPrefixCls:vn,theme:$r,componentDisabled:hi,segmented:vi,statistic:oa,spin:aa,calendar:Ca,carousel:Bo,cascader:Po,collapse:Jt,typography:xe,checkbox:Me,descriptions:Fe,divider:ve,drawer:Ve,skeleton:fe,steps:Nt,image:It,layout:Ee,list:Tt,mentions:nt,modal:Pn,progress:ur,result:lr,slider:pi,breadcrumb:ai,menu:Ei,pagination:wi,input:Oo,textArea:Xo,empty:So,badge:pa,radio:ma,rate:Ea,switch:Sl,transfer:Lt,avatar:Ln,message:Bn,tag:tr,table:Lr,card:to,tabs:mo,timeline:Io,timePicker:uo,upload:ga,notification:$o,tree:Vo,colorPicker:qa,datePicker:gs,rangePicker:Os,flex:ys,wave:_s,dropdown:ns,warning:$s,tour:xo,tooltip:Wa,popover:Fo,popconfirm:go,floatButtonGroup:no,variant:Is,inputNumber:si,treeSelect:ks}=Oi,qs=s.useCallback((rs,ln)=>{const{prefixCls:Ke}=Oi;if(ln)return ln;const Pe=Ke||Dn.getPrefixCls("");return rs?`${Pe}-${rs}`:Pe},[Dn.getPrefixCls,Oi.prefixCls]),ms=vn||Dn.iconPrefixCls||Qt.oR,di=so||Dn.csp;mn(ms,di);const Ya=Rt($r,Dn.theme,{prefixCls:qs("")}),Ss={csp:di,autoInsertSpaceInButton:Li,alert:co,anchor:ws,locale:bo||Cn,direction:jr,space:ia,splitter:ss,virtual:Ra,popupMatchSelectWidth:ds!=null?ds:po,popupOverflow:il,getPrefixCls:qs,iconPrefixCls:ms,theme:Ya,segmented:vi,statistic:oa,spin:aa,calendar:Ca,carousel:Bo,cascader:Po,collapse:Jt,typography:xe,checkbox:Me,descriptions:Fe,divider:ve,drawer:Ve,skeleton:fe,steps:Nt,image:It,input:Oo,textArea:Xo,layout:Ee,list:Tt,mentions:nt,modal:Pn,progress:ur,result:lr,slider:pi,breadcrumb:ai,menu:Ei,pagination:wi,empty:So,badge:pa,radio:ma,rate:Ea,switch:Sl,transfer:Lt,avatar:Ln,message:Bn,tag:tr,table:Lr,card:to,tabs:mo,timeline:Io,timePicker:uo,upload:ga,notification:$o,tree:Vo,colorPicker:qa,datePicker:gs,rangePicker:Os,flex:ys,wave:_s,dropdown:ns,warning:$s,tour:xo,tooltip:Wa,popover:Fo,popconfirm:go,floatButtonGroup:no,variant:Is,inputNumber:si,treeSelect:ks},Nr=Object.assign({},Dn);Object.keys(Ss).forEach(rs=>{Ss[rs]!==void 0&&(Nr[rs]=Ss[rs])}),Pi.forEach(rs=>{const ln=Oi[rs];ln&&(Nr[rs]=ln)}),typeof Li!="undefined"&&(Nr.button=Object.assign({autoInsertSpace:Li},Nr.button));const qi=(0,Be.Z)(()=>Nr,Nr,(rs,ln)=>{const Ke=Object.keys(rs),Pe=Object.keys(ln);return Ke.length!==Pe.length||Ke.some(rt=>rs[rt]!==ln[rt])}),{layer:To}=s.useContext(oe.uP),wa=s.useMemo(()=>({prefixCls:ms,csp:di,layer:To?"antd":void 0}),[ms,di,To]);let Za=s.createElement(s.Fragment,null,s.createElement(zr,{dropdownMatchSelectWidth:po}),Gr);const Ho=s.useMemo(()=>{var rs,ln,Ke,Pe;return(0,lt.T)(((rs=Et.Z.Form)===null||rs===void 0?void 0:rs.defaultValidateMessages)||{},((Ke=(ln=qi.locale)===null||ln===void 0?void 0:ln.Form)===null||Ke===void 0?void 0:Ke.defaultValidateMessages)||{},((Pe=qi.form)===null||Pe===void 0?void 0:Pe.validateMessages)||{},(Or==null?void 0:Or.validateMessages)||{})},[qi,Or==null?void 0:Or.validateMessages]);Object.keys(Ho).length>0&&(Za=s.createElement(qe.Z.Provider,{value:Ho},Za)),bo&&(Za=s.createElement(mt,{locale:bo,_ANT_MARK__:zt},Za)),(ms||di)&&(Za=s.createElement(d.Z.Provider,{value:wa},Za)),Ua&&(Za=s.createElement(Hr.q,{size:Ua},Za)),Za=s.createElement(mr,null,Za);const ul=s.useMemo(()=>{const rs=Ya||{},{algorithm:ln,token:Ke,components:Pe,cssVar:rt}=rs,Ne=Ui(rs,["algorithm","token","components","cssVar"]),Ot=ln&&(!Array.isArray(ln)||ln.length>0)?(0,oe.jG)(ln):an.Z,Kt={};Object.entries(Pe||{}).forEach(Yn=>{let[gr,qn]=Yn;const Ar=Object.assign({},qn);"algorithm"in Ar&&(Ar.algorithm===!0?Ar.theme=Ot:(Array.isArray(Ar.algorithm)||typeof Ar.algorithm=="function")&&(Ar.theme=(0,oe.jG)(Ar.algorithm)),delete Ar.algorithm),Kt[gr]=Ar});const On=Object.assign(Object.assign({},Zt.Z),Ke);return Object.assign(Object.assign({},Ne),{theme:Ot,token:On,components:Kt,override:Object.assign({override:On},Kt),cssVar:rt})},[Ya]);return $r&&(Za=s.createElement(Ht.Mj.Provider,{value:ul},Za)),qi.warning&&(Za=s.createElement(ot.G8.Provider,{value:qi.warning},Za)),hi!==void 0&&(Za=s.createElement(Pt.n,{disabled:hi},Za)),s.createElement(Qt.E_.Provider,{value:qi},Za)},No=Oi=>{const Gr=s.useContext(Qt.E_),so=s.useContext(Ae.Z);return s.createElement(Eo,Object.assign({parentContext:Gr,legacyLocale:so},Oi))};No.ConfigContext=Qt.E_,No.SizeContext=Hr.Z,No.config=ri,No.useConfig=Fn,Object.defineProperty(No,"SizeContext",{get:()=>Hr.Z});var ya=No},58492:function(Kr,bn,he){"use strict";he.d(bn,{Z:function(){return ot}});var s=he(54153),jt={yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0},oe=(0,s.Z)((0,s.Z)({},jt),{},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",week:"Week",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",dateFormat:"M/D/YYYY",dateTimeFormat:"M/D/YYYY HH:mm:ss",previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"}),d=oe,Be=he(85985),ot={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},d),timePickerLocale:Object.assign({},Be.Z)}},60824:function(Kr,bn,he){"use strict";he.d(bn,{RV:function(){return lt},Rk:function(){return ot},Ux:function(){return De},aM:function(){return qe},pg:function(){return Ae},q3:function(){return d},qI:function(){return Be}});var s=he(75271),jt=he(93930),oe=he(18051);const d=s.createContext({labelAlign:"right",vertical:!1,itemRef:()=>{}}),Be=s.createContext(null),lt=zt=>{const qt=(0,oe.Z)(zt,["prefixCls"]);return s.createElement(jt.RV,Object.assign({},qt))},ot=s.createContext({prefixCls:""}),qe=s.createContext({}),De=zt=>{let{children:qt,status:mt,override:Et}=zt;const an=s.useContext(qe),Ht=s.useMemo(()=>{const Zt=Object.assign({},an);return Et&&delete Zt.isFormItemInput,mt&&(delete Zt.status,delete Zt.hasFeedback,delete Zt.feedbackIcon),Zt},[mt,Et,an]);return s.createElement(qe.Provider,{value:Ht},qt)},Ae=s.createContext(void 0)},7038:function(Kr,bn,he){"use strict";var s=he(75271),jt=he(60824),oe=he(98446);const d=function(Be,lt){let ot=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;var qe,De;const{variant:Ae,[Be]:zt}=s.useContext(oe.E_),qt=s.useContext(jt.pg),mt=zt==null?void 0:zt.variant;let Et;typeof lt!="undefined"?Et=lt:ot===!1?Et="borderless":Et=(De=(qe=qt!=null?qt:mt)!==null&&qe!==void 0?qe:Ae)!==null&&De!==void 0?De:"outlined";const an=oe.tr.includes(Et);return[Et,an]};bn.Z=d},54735:function(Kr,bn,he){"use strict";he.d(bn,{Z:function(){return Sl}});var s=he(60824),jt=he(46865),oe=he(75271),d=he(82187),Be=he.n(d),lt=he(62803),ot=he(13635),qe=he(38437);function De(Lt){const[Ln,Bn]=oe.useState(Lt);return oe.useEffect(()=>{const tr=setTimeout(()=>{Bn(Lt)},Lt.length?0:10);return()=>{clearTimeout(tr)}},[Lt]),Ln}var Ae=he(55921),zt=he(34299),qt=he(3153),mt=he(40894),Et=he(83509),an=he(84825),Zt=Lt=>{const{componentCls:Ln}=Lt,Bn=`${Ln}-show-help`,tr=`${Ln}-show-help-item`;return{[Bn]:{transition:`opacity ${Lt.motionDurationFast} ${Lt.motionEaseInOut}`,"&-appear, &-enter":{opacity:0,"&-active":{opacity:1}},"&-leave":{opacity:1,"&-active":{opacity:0}},[tr]:{overflow:"hidden",transition:`height ${Lt.motionDurationFast} ${Lt.motionEaseInOut},
                     opacity ${Lt.motionDurationFast} ${Lt.motionEaseInOut},
                     transform ${Lt.motionDurationFast} ${Lt.motionEaseInOut} !important`,[`&${tr}-appear, &${tr}-enter`]:{transform:"translateY(-5px)",opacity:0,"&-active":{transform:"translateY(0)",opacity:1}},[`&${tr}-leave-active`]:{transform:"translateY(-5px)"}}}}};const Qt=Lt=>({legend:{display:"block",width:"100%",marginBottom:Lt.marginLG,padding:0,color:Lt.colorTextDescription,fontSize:Lt.fontSizeLG,lineHeight:"inherit",border:0,borderBottom:`${(0,Ae.bf)(Lt.lineWidth)} ${Lt.lineType} ${Lt.colorBorder}`},'input[type="search"]':{boxSizing:"border-box"},'input[type="radio"], input[type="checkbox"]':{lineHeight:"normal"},'input[type="file"]':{display:"block"},'input[type="range"]':{display:"block",width:"100%"},"select[multiple], select[size]":{height:"auto"},"input[type='file']:focus,\n  input[type='radio']:focus,\n  input[type='checkbox']:focus":{outline:0,boxShadow:`0 0 0 ${(0,Ae.bf)(Lt.controlOutlineWidth)} ${Lt.controlOutline}`},output:{display:"block",paddingTop:15,color:Lt.colorText,fontSize:Lt.fontSize,lineHeight:Lt.lineHeight}}),vt=(Lt,Ln)=>{const{formItemCls:Bn}=Lt;return{[Bn]:{[`${Bn}-label > label`]:{height:Ln},[`${Bn}-control-input`]:{minHeight:Ln}}}},sn=Lt=>{const{componentCls:Ln}=Lt;return{[Lt.componentCls]:Object.assign(Object.assign(Object.assign({},(0,zt.Wf)(Lt)),Qt(Lt)),{[`${Ln}-text`]:{display:"inline-block",paddingInlineEnd:Lt.paddingSM},"&-small":Object.assign({},vt(Lt,Lt.controlHeightSM)),"&-large":Object.assign({},vt(Lt,Lt.controlHeightLG))})}},Xt=Lt=>{const{formItemCls:Ln,iconCls:Bn,componentCls:tr,rootPrefixCls:Lr,antCls:to,labelRequiredMarkColor:mo,labelColor:Io,labelFontSize:uo,labelHeight:ga,labelColonMarginInlineStart:$o,labelColonMarginInlineEnd:Vo,itemMarginBottom:qa}=Lt;return{[Ln]:Object.assign(Object.assign({},(0,zt.Wf)(Lt)),{marginBottom:qa,verticalAlign:"top","&-with-help":{transition:"none"},[`&-hidden,
        &-hidden${to}-row`]:{display:"none"},"&-has-warning":{[`${Ln}-split`]:{color:Lt.colorError}},"&-has-error":{[`${Ln}-split`]:{color:Lt.colorWarning}},[`${Ln}-label`]:{flexGrow:0,overflow:"hidden",whiteSpace:"nowrap",textAlign:"end",verticalAlign:"middle","&-left":{textAlign:"start"},"&-wrap":{overflow:"unset",lineHeight:Lt.lineHeight,whiteSpace:"unset"},"> label":{position:"relative",display:"inline-flex",alignItems:"center",maxWidth:"100%",height:ga,color:Io,fontSize:uo,[`> ${Bn}`]:{fontSize:Lt.fontSize,verticalAlign:"top"},[`&${Ln}-required:not(${Ln}-required-mark-optional)::before`]:{display:"inline-block",marginInlineEnd:Lt.marginXXS,color:mo,fontSize:Lt.fontSize,fontFamily:"SimSun, sans-serif",lineHeight:1,content:'"*"',[`${tr}-hide-required-mark &`]:{display:"none"}},[`${Ln}-optional`]:{display:"inline-block",marginInlineStart:Lt.marginXXS,color:Lt.colorTextDescription,[`${tr}-hide-required-mark &`]:{display:"none"}},[`${Ln}-tooltip`]:{color:Lt.colorTextDescription,cursor:"help",writingMode:"horizontal-tb",marginInlineStart:Lt.marginXXS},"&::after":{content:'":"',position:"relative",marginBlock:0,marginInlineStart:$o,marginInlineEnd:Vo},[`&${Ln}-no-colon::after`]:{content:'"\\a0"'}}},[`${Ln}-control`]:{"--ant-display":"flex",flexDirection:"column",flexGrow:1,[`&:first-child:not([class^="'${Lr}-col-'"]):not([class*="' ${Lr}-col-'"])`]:{width:"100%"},"&-input":{position:"relative",display:"flex",alignItems:"center",minHeight:Lt.controlHeight,"&-content":{flex:"auto",maxWidth:"100%"}}},[Ln]:{"&-additional":{display:"flex",flexDirection:"column"},"&-explain, &-extra":{clear:"both",color:Lt.colorTextDescription,fontSize:Lt.fontSize,lineHeight:Lt.lineHeight},"&-explain-connected":{width:"100%"},"&-extra":{minHeight:Lt.controlHeightSM,transition:`color ${Lt.motionDurationMid} ${Lt.motionEaseOut}`},"&-explain":{"&-error":{color:Lt.colorError},"&-warning":{color:Lt.colorWarning}}},[`&-with-help ${Ln}-explain`]:{height:"auto",opacity:1},[`${Ln}-feedback-icon`]:{fontSize:Lt.fontSize,textAlign:"center",visibility:"visible",animationName:qt.kr,animationDuration:Lt.motionDurationMid,animationTimingFunction:Lt.motionEaseOutBack,pointerEvents:"none","&-success":{color:Lt.colorSuccess},"&-error":{color:Lt.colorError},"&-warning":{color:Lt.colorWarning},"&-validating":{color:Lt.colorPrimary}}})}},_n=(Lt,Ln)=>{const{formItemCls:Bn}=Lt;return{[`${Ln}-horizontal`]:{[`${Bn}-label`]:{flexGrow:0},[`${Bn}-control`]:{flex:"1 1 0",minWidth:0},[`${Bn}-label[class$='-24'], ${Bn}-label[class*='-24 ']`]:{[`& + ${Bn}-control`]:{minWidth:"unset"}}}}},En=Lt=>{const{componentCls:Ln,formItemCls:Bn,inlineItemMarginBottom:tr}=Lt;return{[`${Ln}-inline`]:{display:"flex",flexWrap:"wrap",[Bn]:{flex:"none",marginInlineEnd:Lt.margin,marginBottom:tr,"&-row":{flexWrap:"nowrap"},[`> ${Bn}-label,
        > ${Bn}-control`]:{display:"inline-block",verticalAlign:"top"},[`> ${Bn}-label`]:{flex:"none"},[`${Ln}-text`]:{display:"inline-block"},[`${Bn}-has-feedback`]:{display:"inline-block"}}}}},Nn=Lt=>({padding:Lt.verticalLabelPadding,margin:Lt.verticalLabelMargin,whiteSpace:"initial",textAlign:"start","> label":{margin:0,"&::after":{visibility:"hidden"}}}),fi=Lt=>{const{componentCls:Ln,formItemCls:Bn,rootPrefixCls:tr}=Lt;return{[`${Bn} ${Bn}-label`]:Nn(Lt),[`${Ln}:not(${Ln}-inline)`]:{[Bn]:{flexWrap:"wrap",[`${Bn}-label, ${Bn}-control`]:{[`&:not([class*=" ${tr}-col-xs"])`]:{flex:"0 0 100%",maxWidth:"100%"}}}}}},Pt=Lt=>{const{componentCls:Ln,formItemCls:Bn,antCls:tr}=Lt;return{[`${Ln}-vertical`]:{[`${Bn}:not(${Bn}-horizontal)`]:{[`${Bn}-row`]:{flexDirection:"column"},[`${Bn}-label > label`]:{height:"auto"},[`${Bn}-control`]:{width:"100%"},[`${Bn}-label,
        ${tr}-col-24${Bn}-label,
        ${tr}-col-xl-24${Bn}-label`]:Nn(Lt)}},[`@media (max-width: ${(0,Ae.bf)(Lt.screenXSMax)})`]:[fi(Lt),{[Ln]:{[`${Bn}:not(${Bn}-horizontal)`]:{[`${tr}-col-xs-24${Bn}-label`]:Nn(Lt)}}}],[`@media (max-width: ${(0,Ae.bf)(Lt.screenSMMax)})`]:{[Ln]:{[`${Bn}:not(${Bn}-horizontal)`]:{[`${tr}-col-sm-24${Bn}-label`]:Nn(Lt)}}},[`@media (max-width: ${(0,Ae.bf)(Lt.screenMDMax)})`]:{[Ln]:{[`${Bn}:not(${Bn}-horizontal)`]:{[`${tr}-col-md-24${Bn}-label`]:Nn(Lt)}}},[`@media (max-width: ${(0,Ae.bf)(Lt.screenLGMax)})`]:{[Ln]:{[`${Bn}:not(${Bn}-horizontal)`]:{[`${tr}-col-lg-24${Bn}-label`]:Nn(Lt)}}}}},Hr=Lt=>{const{formItemCls:Ln,antCls:Bn}=Lt;return{[`${Ln}-vertical`]:{[`${Ln}-row`]:{flexDirection:"column"},[`${Ln}-label > label`]:{height:"auto"},[`${Ln}-control`]:{width:"100%"}},[`${Ln}-vertical ${Ln}-label,
      ${Bn}-col-24${Ln}-label,
      ${Bn}-col-xl-24${Ln}-label`]:Nn(Lt),[`@media (max-width: ${(0,Ae.bf)(Lt.screenXSMax)})`]:[fi(Lt),{[Ln]:{[`${Bn}-col-xs-24${Ln}-label`]:Nn(Lt)}}],[`@media (max-width: ${(0,Ae.bf)(Lt.screenSMMax)})`]:{[Ln]:{[`${Bn}-col-sm-24${Ln}-label`]:Nn(Lt)}},[`@media (max-width: ${(0,Ae.bf)(Lt.screenMDMax)})`]:{[Ln]:{[`${Bn}-col-md-24${Ln}-label`]:Nn(Lt)}},[`@media (max-width: ${(0,Ae.bf)(Lt.screenLGMax)})`]:{[Ln]:{[`${Bn}-col-lg-24${Ln}-label`]:Nn(Lt)}}}},Rn=Lt=>({labelRequiredMarkColor:Lt.colorError,labelColor:Lt.colorTextHeading,labelFontSize:Lt.fontSize,labelHeight:Lt.controlHeight,labelColonMarginInlineStart:Lt.marginXXS/2,labelColonMarginInlineEnd:Lt.marginXS,itemMarginBottom:Lt.marginLG,verticalLabelPadding:`0 0 ${Lt.paddingXS}px`,verticalLabelMargin:0,inlineItemMarginBottom:0}),Fn=(Lt,Ln)=>(0,Et.IX)(Lt,{formItemCls:`${Lt.componentCls}-item`,rootPrefixCls:Ln});var Br=(0,an.I$)("Form",(Lt,Ln)=>{let{rootPrefixCls:Bn}=Ln;const tr=Fn(Lt,Bn);return[sn(tr),Xt(tr),Zt(tr),_n(tr,tr.componentCls),_n(tr,tr.formItemCls),En(tr),Pt(tr),Hr(tr),(0,mt.Z)(tr),qt.kr]},Rn,{order:-1e3});const Tr=[];function nr(Lt,Ln,Bn){let tr=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return{key:typeof Lt=="string"?Lt:`${Ln}-${tr}`,error:Lt,errorStatus:Bn}}var Mr=Lt=>{let{help:Ln,helpStatus:Bn,errors:tr=Tr,warnings:Lr=Tr,className:to,fieldId:mo,onVisibleChanged:Io}=Lt;const{prefixCls:uo}=oe.useContext(s.Rk),ga=`${uo}-item-explain`,$o=(0,qe.Z)(uo),[Vo,qa,gs]=Br(uo,$o),Os=oe.useMemo(()=>(0,ot.Z)(uo),[uo]),ys=De(tr),_s=De(Lr),ns=oe.useMemo(()=>Ln!=null?[nr(Ln,"help",Bn)]:[].concat((0,jt.Z)(ys.map((Wa,Fo)=>nr(Wa,"error","error",Fo))),(0,jt.Z)(_s.map((Wa,Fo)=>nr(Wa,"warning","warning",Fo)))),[Ln,Bn,ys,_s]),$s=oe.useMemo(()=>{const Wa={};return ns.forEach(Fo=>{let{key:go}=Fo;Wa[go]=(Wa[go]||0)+1}),ns.map((Fo,go)=>Object.assign(Object.assign({},Fo),{key:Wa[Fo.key]>1?`${Fo.key}-fallback-${go}`:Fo.key}))},[ns]),xo={};return mo&&(xo.id=`${mo}_help`),Vo(oe.createElement(lt.ZP,{motionDeadline:Os.motionDeadline,motionName:`${uo}-show-help`,visible:!!$s.length,onVisibleChanged:Io},Wa=>{const{className:Fo,style:go}=Wa;return oe.createElement("div",Object.assign({},xo,{className:Be()(ga,Fo,gs,$o,to,qa),style:go}),oe.createElement(lt.V4,Object.assign({keys:$s},(0,ot.Z)(uo),{motionName:`${uo}-show-help-item`,component:!1}),no=>{const{key:Is,error:si,errorStatus:ks,className:qs,style:ms}=no;return oe.createElement("div",{key:Is,className:Be()(qs,{[`${ga}-${ks}`]:ks}),style:ms},si)}))}))},Jn=he(93930),Rt=he(98446),Tn=he(98472),Gn=he(95741),mr=he(10497),ir=he(4525),zr=he(56680);const wr=["parentNode"],J="form_item";function mn(Lt){return Lt===void 0||Lt===!1?[]:Array.isArray(Lt)?Lt:[Lt]}function Ui(Lt,Ln){if(!Lt.length)return;const Bn=Lt.join("_");return Ln?`${Ln}_${Bn}`:wr.includes(Bn)?`${J}_${Bn}`:Bn}function ki(Lt,Ln,Bn,tr,Lr,to){let mo=tr;return to!==void 0?mo=to:Bn.validating?mo="validating":Lt.length?mo="error":Ln.length?mo="warning":(Bn.touched||Lr&&Bn.validated)&&(mo="success"),mo}var Sn=function(Lt,Ln){var Bn={};for(var tr in Lt)Object.prototype.hasOwnProperty.call(Lt,tr)&&Ln.indexOf(tr)<0&&(Bn[tr]=Lt[tr]);if(Lt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Lr=0,tr=Object.getOwnPropertySymbols(Lt);Lr<tr.length;Lr++)Ln.indexOf(tr[Lr])<0&&Object.prototype.propertyIsEnumerable.call(Lt,tr[Lr])&&(Bn[tr[Lr]]=Lt[tr[Lr]]);return Bn};function ei(Lt){return mn(Lt).join("_")}function Pi(Lt,Ln){const Bn=Ln.getFieldInstance(Lt),tr=(0,ir.bn)(Bn);if(tr)return tr;const Lr=Ui(mn(Lt),Ln.__INTERNAL__.name);if(Lr)return document.getElementById(Lr)}function Xr(Lt){const[Ln]=(0,Jn.cI)(),Bn=oe.useRef({}),tr=oe.useMemo(()=>Lt!=null?Lt:Object.assign(Object.assign({},Ln),{__INTERNAL__:{itemRef:Lr=>to=>{const mo=ei(Lr);to?Bn.current[mo]=to:delete Bn.current[mo]}},scrollToField:function(Lr){let to=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{focus:mo}=to,Io=Sn(to,["focus"]),uo=Pi(Lr,tr);uo&&((0,zr.Z)(uo,Object.assign({scrollMode:"if-needed",block:"nearest"},Io)),mo&&tr.focusField(Lr))},focusField:Lr=>{var to,mo;const Io=tr.getFieldInstance(Lr);typeof(Io==null?void 0:Io.focus)=="function"?Io.focus():(mo=(to=Pi(Lr,tr))===null||to===void 0?void 0:to.focus)===null||mo===void 0||mo.call(to)},getFieldInstance:Lr=>{const to=ei(Lr);return Bn.current[to]}}),[Lt,Ln]);return[tr]}var or=he(63613),dr=function(Lt,Ln){var Bn={};for(var tr in Lt)Object.prototype.hasOwnProperty.call(Lt,tr)&&Ln.indexOf(tr)<0&&(Bn[tr]=Lt[tr]);if(Lt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Lr=0,tr=Object.getOwnPropertySymbols(Lt);Lr<tr.length;Lr++)Ln.indexOf(tr[Lr])<0&&Object.prototype.propertyIsEnumerable.call(Lt,tr[Lr])&&(Bn[tr[Lr]]=Lt[tr[Lr]]);return Bn};const $i=(Lt,Ln)=>{const Bn=oe.useContext(Tn.Z),{getPrefixCls:tr,direction:Lr,requiredMark:to,colon:mo,scrollToFirstError:Io,className:uo,style:ga}=(0,Rt.dj)("form"),{prefixCls:$o,className:Vo,rootClassName:qa,size:gs,disabled:Os=Bn,form:ys,colon:_s,labelAlign:ns,labelWrap:$s,labelCol:xo,wrapperCol:Wa,hideRequiredMark:Fo,layout:go="horizontal",scrollToFirstError:no,requiredMark:Is,onFinishFailed:si,name:ks,style:qs,feedbackIcons:ms,variant:di}=Lt,Ya=dr(Lt,["prefixCls","className","rootClassName","size","disabled","form","colon","labelAlign","labelWrap","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name","style","feedbackIcons","variant"]),Ss=(0,Gn.Z)(gs),Nr=oe.useContext(or.Z),qi=oe.useMemo(()=>Is!==void 0?Is:Fo?!1:to!==void 0?to:!0,[Fo,Is,to]),To=_s!=null?_s:mo,wa=tr("form",$o),Za=(0,qe.Z)(wa),[Ho,ul,rs]=Br(wa,Za),ln=Be()(wa,`${wa}-${go}`,{[`${wa}-hide-required-mark`]:qi===!1,[`${wa}-rtl`]:Lr==="rtl",[`${wa}-${Ss}`]:Ss},rs,Za,ul,uo,Vo,qa),[Ke]=Xr(ys),{__INTERNAL__:Pe}=Ke;Pe.name=ks;const rt=oe.useMemo(()=>({name:ks,labelAlign:ns,labelCol:xo,labelWrap:$s,wrapperCol:Wa,vertical:go==="vertical",colon:To,requiredMark:qi,itemRef:Pe.itemRef,form:Ke,feedbackIcons:ms}),[ks,ns,xo,Wa,go,To,qi,Ke,ms]),Ne=oe.useRef(null);oe.useImperativeHandle(Ln,()=>{var On;return Object.assign(Object.assign({},Ke),{nativeElement:(On=Ne.current)===null||On===void 0?void 0:On.nativeElement})});const Ot=(On,Yn)=>{if(On){let gr={block:"nearest"};typeof On=="object"&&(gr=Object.assign(Object.assign({},gr),On)),Ke.scrollToField(Yn,gr)}},Kt=On=>{if(si==null||si(On),On.errorFields.length){const Yn=On.errorFields[0].name;if(no!==void 0){Ot(no,Yn);return}Io!==void 0&&Ot(Io,Yn)}};return Ho(oe.createElement(s.pg.Provider,{value:di},oe.createElement(Tn.n,{disabled:Os},oe.createElement(mr.Z.Provider,{value:Ss},oe.createElement(s.RV,{validateMessages:Nr},oe.createElement(s.q3.Provider,{value:rt},oe.createElement(Jn.ZP,Object.assign({id:ks},Ya,{name:ks,onFinishFailed:Kt,form:Ke,ref:Ne,style:Object.assign(Object.assign({},ga),qs),className:ln}))))))))};var ha=oe.forwardRef($i),Da=he(60784),ri=he(42684),Ko=he(26021),Eo=he(87117),No=he(81626);function ya(Lt){if(typeof Lt=="function")return Lt;const Ln=(0,No.Z)(Lt);return Ln.length<=1?Ln[0]:Ln}const Oi=()=>{const{status:Lt,errors:Ln=[],warnings:Bn=[]}=oe.useContext(s.aM);return{status:Lt,errors:Ln,warnings:Bn}};Oi.Context=s.aM;var Gr=Oi,so=he(49975);function Li(Lt){const[Ln,Bn]=oe.useState(Lt),tr=oe.useRef(null),Lr=oe.useRef([]),to=oe.useRef(!1);oe.useEffect(()=>(to.current=!1,()=>{to.current=!0,so.Z.cancel(tr.current),tr.current=null}),[]);function mo(Io){to.current||(tr.current===null&&(Lr.current=[],tr.current=(0,so.Z)(()=>{tr.current=null,Bn(uo=>{let ga=uo;return Lr.current.forEach($o=>{ga=$o(ga)}),ga})})),Lr.current.push(Io))}return[Ln,mo]}function co(){const{itemRef:Lt}=oe.useContext(s.q3),Ln=oe.useRef({});function Bn(tr,Lr){const to=Lr&&typeof Lr=="object"&&(0,ri.C4)(Lr),mo=tr.join("_");return(Ln.current.name!==mo||Ln.current.originRef!==to)&&(Ln.current.name=mo,Ln.current.originRef=to,Ln.current.ref=(0,ri.sQ)(Lt(tr),to)),Ln.current.ref}return Bn}var ws=he(60900),Or=he(92076),bo=he(18051),Ua=he(78769),jr=he(22217),ia=he(11365);const ss=Lt=>{const{formItemCls:Ln}=Lt;return{"@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none)":{[`${Ln}-control`]:{display:"flex"}}}};var Ra=(0,an.bk)(["Form","item-item"],(Lt,Ln)=>{let{rootPrefixCls:Bn}=Ln;const tr=Fn(Lt,Bn);return[ss(tr)]}),po=function(Lt,Ln){var Bn={};for(var tr in Lt)Object.prototype.hasOwnProperty.call(Lt,tr)&&Ln.indexOf(tr)<0&&(Bn[tr]=Lt[tr]);if(Lt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Lr=0,tr=Object.getOwnPropertySymbols(Lt);Lr<tr.length;Lr++)Ln.indexOf(tr[Lr])<0&&Object.prototype.propertyIsEnumerable.call(Lt,tr[Lr])&&(Bn[tr[Lr]]=Lt[tr[Lr]]);return Bn};const ds=24;var Cn=Lt=>{const{prefixCls:Ln,status:Bn,labelCol:tr,wrapperCol:Lr,children:to,errors:mo,warnings:Io,_internalItemRender:uo,extra:ga,help:$o,fieldId:Vo,marginBottom:qa,onErrorVisibleChanged:gs,label:Os}=Lt,ys=`${Ln}-item`,_s=oe.useContext(s.q3),ns=oe.useMemo(()=>{let Ya=Object.assign({},Lr||_s.wrapperCol||{});return Os===null&&!tr&&!Lr&&_s.labelCol&&[void 0,"xs","sm","md","lg","xl","xxl"].forEach(Nr=>{const qi=Nr?[Nr]:[],To=(0,jr.U2)(_s.labelCol,qi),wa=typeof To=="object"?To:{},Za=(0,jr.U2)(Ya,qi),Ho=typeof Za=="object"?Za:{};"span"in wa&&!("offset"in Ho)&&wa.span<ds&&(Ya=(0,jr.t8)(Ya,[].concat(qi,["offset"]),wa.span))}),Ya},[Lr,_s]),$s=Be()(`${ys}-control`,ns.className),xo=oe.useMemo(()=>{const{labelCol:Ya,wrapperCol:Ss}=_s;return po(_s,["labelCol","wrapperCol"])},[_s]),Wa=oe.useRef(null),[Fo,go]=oe.useState(0);(0,Or.Z)(()=>{ga&&Wa.current?go(Wa.current.clientHeight):go(0)},[ga]);const no=oe.createElement("div",{className:`${ys}-control-input`},oe.createElement("div",{className:`${ys}-control-input-content`},to)),Is=oe.useMemo(()=>({prefixCls:Ln,status:Bn}),[Ln,Bn]),si=qa!==null||mo.length||Io.length?oe.createElement(s.Rk.Provider,{value:Is},oe.createElement(Mr,{fieldId:Vo,errors:mo,warnings:Io,help:$o,helpStatus:Bn,className:`${ys}-explain-connected`,onVisibleChanged:gs})):null,ks={};Vo&&(ks.id=`${Vo}_extra`);const qs=ga?oe.createElement("div",Object.assign({},ks,{className:`${ys}-extra`,ref:Wa}),ga):null,ms=si||qs?oe.createElement("div",{className:`${ys}-additional`,style:qa?{minHeight:qa+Fo}:{}},si,qs):null,di=uo&&uo.mark==="pro_table_render"&&uo.render?uo.render(Lt,{input:no,errorList:si,extra:qs}):oe.createElement(oe.Fragment,null,no,ms);return oe.createElement(s.q3.Provider,{value:xo},oe.createElement(ia.Z,Object.assign({},ns,{className:$s}),di),oe.createElement(Ra,{prefixCls:Ln}))},Dn=he(23022),vn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"},$r=vn,hi=he(23738),vi=function(Ln,Bn){return oe.createElement(hi.Z,(0,Dn.Z)({},Ln,{ref:Bn,icon:$r}))},oa=oe.forwardRef(vi),aa=oa,Ca=he(77648),Bo=he(42474),Po=he(9202),Jt=function(Lt,Ln){var Bn={};for(var tr in Lt)Object.prototype.hasOwnProperty.call(Lt,tr)&&Ln.indexOf(tr)<0&&(Bn[tr]=Lt[tr]);if(Lt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Lr=0,tr=Object.getOwnPropertySymbols(Lt);Lr<tr.length;Lr++)Ln.indexOf(tr[Lr])<0&&Object.prototype.propertyIsEnumerable.call(Lt,tr[Lr])&&(Bn[tr[Lr]]=Lt[tr[Lr]]);return Bn};function xe(Lt){return Lt?typeof Lt=="object"&&!oe.isValidElement(Lt)?Lt:{title:Lt}:null}var Fe=Lt=>{let{prefixCls:Ln,label:Bn,htmlFor:tr,labelCol:Lr,labelAlign:to,colon:mo,required:Io,requiredMark:uo,tooltip:ga,vertical:$o}=Lt;var Vo;const[qa]=(0,Ca.Z)("Form"),{labelAlign:gs,labelCol:Os,labelWrap:ys,colon:_s}=oe.useContext(s.q3);if(!Bn)return null;const ns=Lr||Os||{},$s=to||gs,xo=`${Ln}-item-label`,Wa=Be()(xo,$s==="left"&&`${xo}-left`,ns.className,{[`${xo}-wrap`]:!!ys});let Fo=Bn;const go=mo===!0||_s!==!1&&mo!==!1;go&&!$o&&typeof Bn=="string"&&Bn.trim()&&(Fo=Bn.replace(/[:|：]\s*$/,""));const Is=xe(ga);if(Is){const{icon:ms=oe.createElement(aa,null)}=Is,di=Jt(Is,["icon"]),Ya=oe.createElement(Po.Z,Object.assign({},di),oe.cloneElement(ms,{className:`${Ln}-item-tooltip`,title:"",onClick:Ss=>{Ss.preventDefault()},tabIndex:null}));Fo=oe.createElement(oe.Fragment,null,Fo,Ya)}const si=uo==="optional",ks=typeof uo=="function";ks?Fo=uo(Fo,{required:!!Io}):si&&!Io&&(Fo=oe.createElement(oe.Fragment,null,Fo,oe.createElement("span",{className:`${Ln}-item-optional`,title:""},(qa==null?void 0:qa.optional)||((Vo=Bo.Z.Form)===null||Vo===void 0?void 0:Vo.optional))));const qs=Be()({[`${Ln}-item-required`]:Io,[`${Ln}-item-required-mark-optional`]:si||ks,[`${Ln}-item-no-colon`]:!go});return oe.createElement(ia.Z,Object.assign({},ns,{className:Wa}),oe.createElement("label",{htmlFor:tr,className:qs,title:typeof Bn=="string"?Bn:""},Fo))},ve=he(4692),Ve=he(75434),fe=he(64267),Nt=he(24573);const It={success:ve.Z,warning:fe.Z,error:Ve.Z,validating:Nt.Z};function Ee(Lt){let{children:Ln,errors:Bn,warnings:tr,hasFeedback:Lr,validateStatus:to,prefixCls:mo,meta:Io,noStyle:uo}=Lt;const ga=`${mo}-item`,{feedbackIcons:$o}=oe.useContext(s.q3),Vo=ki(Bn,tr,Io,null,!!Lr,to),{isFormItemInput:qa,status:gs,hasFeedback:Os,feedbackIcon:ys}=oe.useContext(s.aM),_s=oe.useMemo(()=>{var ns;let $s;if(Lr){const Wa=Lr!==!0&&Lr.icons||$o,Fo=Vo&&((ns=Wa==null?void 0:Wa({status:Vo,errors:Bn,warnings:tr}))===null||ns===void 0?void 0:ns[Vo]),go=Vo&&It[Vo];$s=Fo!==!1&&go?oe.createElement("span",{className:Be()(`${ga}-feedback-icon`,`${ga}-feedback-icon-${Vo}`)},Fo||oe.createElement(go,null)):null}const xo={status:Vo||"",errors:Bn,warnings:tr,hasFeedback:!!Lr,feedbackIcon:$s,isFormItemInput:!0};return uo&&(xo.status=(Vo!=null?Vo:gs)||"",xo.isFormItemInput=qa,xo.hasFeedback=!!(Lr!=null?Lr:Os),xo.feedbackIcon=Lr!==void 0?xo.feedbackIcon:ys),xo},[Vo,Lr,uo,qa,gs]);return oe.createElement(s.aM.Provider,{value:_s},Ln)}var Tt=function(Lt,Ln){var Bn={};for(var tr in Lt)Object.prototype.hasOwnProperty.call(Lt,tr)&&Ln.indexOf(tr)<0&&(Bn[tr]=Lt[tr]);if(Lt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Lr=0,tr=Object.getOwnPropertySymbols(Lt);Lr<tr.length;Lr++)Ln.indexOf(tr[Lr])<0&&Object.prototype.propertyIsEnumerable.call(Lt,tr[Lr])&&(Bn[tr[Lr]]=Lt[tr[Lr]]);return Bn};function nt(Lt){const{prefixCls:Ln,className:Bn,rootClassName:tr,style:Lr,help:to,errors:mo,warnings:Io,validateStatus:uo,meta:ga,hasFeedback:$o,hidden:Vo,children:qa,fieldId:gs,required:Os,isRequired:ys,onSubItemMetaChange:_s,layout:ns}=Lt,$s=Tt(Lt,["prefixCls","className","rootClassName","style","help","errors","warnings","validateStatus","meta","hasFeedback","hidden","children","fieldId","required","isRequired","onSubItemMetaChange","layout"]),xo=`${Ln}-item`,{requiredMark:Wa,vertical:Fo}=oe.useContext(s.q3),go=Fo||ns==="vertical",no=oe.useRef(null),Is=De(mo),si=De(Io),ks=to!=null,qs=!!(ks||mo.length||Io.length),ms=!!no.current&&(0,ws.Z)(no.current),[di,Ya]=oe.useState(null);(0,Or.Z)(()=>{if(qs&&no.current){const wa=getComputedStyle(no.current);Ya(parseInt(wa.marginBottom,10))}},[qs,ms]);const Ss=wa=>{wa||Ya(null)},qi=function(){let wa=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const Za=wa?Is:ga.errors,Ho=wa?si:ga.warnings;return ki(Za,Ho,ga,"",!!$o,uo)}(),To=Be()(xo,Bn,tr,{[`${xo}-with-help`]:ks||Is.length||si.length,[`${xo}-has-feedback`]:qi&&$o,[`${xo}-has-success`]:qi==="success",[`${xo}-has-warning`]:qi==="warning",[`${xo}-has-error`]:qi==="error",[`${xo}-is-validating`]:qi==="validating",[`${xo}-hidden`]:Vo,[`${xo}-${ns}`]:ns});return oe.createElement("div",{className:To,style:Lr,ref:no},oe.createElement(Ua.Z,Object.assign({className:`${xo}-row`},(0,bo.Z)($s,["_internalItemRender","colon","dependencies","extra","fieldKey","getValueFromEvent","getValueProps","htmlFor","id","initialValue","isListField","label","labelAlign","labelCol","labelWrap","messageVariables","name","normalize","noStyle","preserve","requiredMark","rules","shouldUpdate","trigger","tooltip","validateFirst","validateTrigger","valuePropName","wrapperCol","validateDebounce"])),oe.createElement(Fe,Object.assign({htmlFor:gs},Lt,{requiredMark:Wa,required:Os!=null?Os:ys,prefixCls:Ln,vertical:go})),oe.createElement(Cn,Object.assign({},Lt,ga,{errors:Is,warnings:si,prefixCls:Ln,status:qi,help:to,marginBottom:di,onErrorVisibleChanged:Ss}),oe.createElement(s.qI.Provider,{value:_s},oe.createElement(Ee,{prefixCls:Ln,meta:ga,errors:ga.errors,warnings:ga.warnings,hasFeedback:$o,validateStatus:qi},qa)))),!!di&&oe.createElement("div",{className:`${xo}-margin-offset`,style:{marginBottom:-di}}))}const Pn="__SPLIT__",ur=null;function lr(Lt,Ln){const Bn=Object.keys(Lt),tr=Object.keys(Ln);return Bn.length===tr.length&&Bn.every(Lr=>{const to=Lt[Lr],mo=Ln[Lr];return to===mo||typeof to=="function"||typeof mo=="function"})}const pi=oe.memo(Lt=>{let{children:Ln}=Lt;return Ln},(Lt,Ln)=>lr(Lt.control,Ln.control)&&Lt.update===Ln.update&&Lt.childProps.length===Ln.childProps.length&&Lt.childProps.every((Bn,tr)=>Bn===Ln.childProps[tr]));function ai(){return{errors:[],warnings:[],touched:!1,validating:!1,name:[],validated:!1}}function Ei(Lt){const{name:Ln,noStyle:Bn,className:tr,dependencies:Lr,prefixCls:to,shouldUpdate:mo,rules:Io,children:uo,required:ga,label:$o,messageVariables:Vo,trigger:qa="onChange",validateTrigger:gs,hidden:Os,help:ys,layout:_s}=Lt,{getPrefixCls:ns}=oe.useContext(Rt.E_),{name:$s}=oe.useContext(s.q3),xo=ya(uo),Wa=typeof xo=="function",Fo=oe.useContext(s.qI),{validateTrigger:go}=oe.useContext(Jn.zb),no=gs!==void 0?gs:go,Is=Ln!=null,si=ns("form",to),ks=(0,qe.Z)(si),[qs,ms,di]=Br(si,ks),Ya=(0,Eo.ln)("Form.Item"),Ss=oe.useContext(Jn.ZM),Nr=oe.useRef(null),[qi,To]=Li({}),[wa,Za]=(0,Da.Z)(()=>ai()),Ho=Ne=>{const Ot=Ss==null?void 0:Ss.getKey(Ne.name);if(Za(Ne.destroy?ai():Ne,!0),Bn&&ys!==!1&&Fo){let Kt=Ne.name;if(Ne.destroy)Kt=Nr.current||Kt;else if(Ot!==void 0){const[On,Yn]=Ot;Kt=[On].concat((0,jt.Z)(Yn)),Nr.current=Kt}Fo(Ne,Kt)}},ul=(Ne,Ot)=>{To(Kt=>{const On=Object.assign({},Kt),gr=[].concat((0,jt.Z)(Ne.name.slice(0,-1)),(0,jt.Z)(Ot)).join(Pn);return Ne.destroy?delete On[gr]:On[gr]=Ne,On})},[rs,ln]=oe.useMemo(()=>{const Ne=(0,jt.Z)(wa.errors),Ot=(0,jt.Z)(wa.warnings);return Object.values(qi).forEach(Kt=>{Ne.push.apply(Ne,(0,jt.Z)(Kt.errors||[])),Ot.push.apply(Ot,(0,jt.Z)(Kt.warnings||[]))}),[Ne,Ot]},[qi,wa.errors,wa.warnings]),Ke=co();function Pe(Ne,Ot,Kt){return Bn&&!Os?oe.createElement(Ee,{prefixCls:si,hasFeedback:Lt.hasFeedback,validateStatus:Lt.validateStatus,meta:wa,errors:rs,warnings:ln,noStyle:!0},Ne):oe.createElement(nt,Object.assign({key:"row"},Lt,{className:Be()(tr,di,ks,ms),prefixCls:si,fieldId:Ot,isRequired:Kt,errors:rs,warnings:ln,meta:wa,onSubItemMetaChange:ul,layout:_s}),Ne)}if(!Is&&!Wa&&!Lr)return qs(Pe(xo));let rt={};return typeof $o=="string"?rt.label=$o:Ln&&(rt.label=String(Ln)),Vo&&(rt=Object.assign(Object.assign({},rt),Vo)),qs(oe.createElement(Jn.gN,Object.assign({},Lt,{messageVariables:rt,trigger:qa,validateTrigger:no,onMetaChange:Ho}),(Ne,Ot,Kt)=>{const On=mn(Ln).length&&Ot?Ot.name:[],Yn=Ui(On,$s),gr=ga!==void 0?ga:!!(Io!=null&&Io.some(li=>{if(li&&typeof li=="object"&&li.required&&!li.warningOnly)return!0;if(typeof li=="function"){const Bi=li(Kt);return(Bi==null?void 0:Bi.required)&&!(Bi!=null&&Bi.warningOnly)}return!1})),qn=Object.assign({},Ne);let Ar=null;if(Array.isArray(xo)&&Is)Ar=xo;else if(!(Wa&&(!(mo||Lr)||Is))){if(!(Lr&&!Wa&&!Is))if(oe.isValidElement(xo)){const li=Object.assign(Object.assign({},xo.props),qn);if(li.id||(li.id=Yn),ys||rs.length>0||ln.length>0||Lt.extra){const Ur=[];(ys||rs.length>0)&&Ur.push(`${Yn}_help`),Lt.extra&&Ur.push(`${Yn}_extra`),li["aria-describedby"]=Ur.join(" ")}rs.length>0&&(li["aria-invalid"]="true"),gr&&(li["aria-required"]="true"),(0,ri.Yr)(xo)&&(li.ref=Ke(On,xo)),new Set([].concat((0,jt.Z)(mn(qa)),(0,jt.Z)(mn(no)))).forEach(Ur=>{li[Ur]=function(){for(var Cr,Er,yi,Ji,Qo,Ro=arguments.length,Ta=new Array(Ro),_a=0;_a<Ro;_a++)Ta[_a]=arguments[_a];(yi=qn[Ur])===null||yi===void 0||(Cr=yi).call.apply(Cr,[qn].concat(Ta)),(Qo=(Ji=xo.props)[Ur])===null||Qo===void 0||(Er=Qo).call.apply(Er,[Ji].concat(Ta))}});const Pr=[li["aria-required"],li["aria-invalid"],li["aria-describedby"]];Ar=oe.createElement(pi,{control:qn,update:xo,childProps:Pr},(0,Ko.Tm)(xo,li))}else Wa&&(mo||Lr)&&!Is?Ar=xo(Kt):Ar=xo}return Pe(Ar,Yn,gr)}))}const wi=Ei;wi.useStatus=Gr;var Oo=wi,Xo=function(Lt,Ln){var Bn={};for(var tr in Lt)Object.prototype.hasOwnProperty.call(Lt,tr)&&Ln.indexOf(tr)<0&&(Bn[tr]=Lt[tr]);if(Lt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Lr=0,tr=Object.getOwnPropertySymbols(Lt);Lr<tr.length;Lr++)Ln.indexOf(tr[Lr])<0&&Object.prototype.propertyIsEnumerable.call(Lt,tr[Lr])&&(Bn[tr[Lr]]=Lt[tr[Lr]]);return Bn},pa=Lt=>{var{prefixCls:Ln,children:Bn}=Lt,tr=Xo(Lt,["prefixCls","children"]);const{getPrefixCls:Lr}=oe.useContext(Rt.E_),to=Lr("form",Ln),mo=oe.useMemo(()=>({prefixCls:to,status:"error"}),[to]);return oe.createElement(Jn.aV,Object.assign({},tr),(Io,uo,ga)=>oe.createElement(s.Rk.Provider,{value:mo},Bn(Io.map($o=>Object.assign(Object.assign({},$o),{fieldKey:$o.key})),uo,{errors:ga.errors,warnings:ga.warnings})))};function ma(){const{form:Lt}=oe.useContext(s.q3);return Lt}const Ea=ha;Ea.Item=Oo,Ea.List=pa,Ea.ErrorList=Mr,Ea.useForm=Xr,Ea.useFormInstance=ma,Ea.useWatch=Jn.qo,Ea.Provider=s.RV,Ea.create=()=>{};var Sl=Ea},63613:function(Kr,bn,he){"use strict";var s=he(75271);bn.Z=(0,s.createContext)(void 0)},60017:function(Kr,bn,he){"use strict";var s=he(75271);const jt=(0,s.createContext)({});bn.Z=jt},11365:function(Kr,bn,he){"use strict";var s=he(75271),jt=he(82187),oe=he.n(jt),d=he(98446),Be=he(60017),lt=he(40672),ot=function(zt,qt){var mt={};for(var Et in zt)Object.prototype.hasOwnProperty.call(zt,Et)&&qt.indexOf(Et)<0&&(mt[Et]=zt[Et]);if(zt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var an=0,Et=Object.getOwnPropertySymbols(zt);an<Et.length;an++)qt.indexOf(Et[an])<0&&Object.prototype.propertyIsEnumerable.call(zt,Et[an])&&(mt[Et[an]]=zt[Et[an]]);return mt};function qe(zt){return typeof zt=="number"?`${zt} ${zt} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(zt)?`0 0 ${zt}`:zt}const De=["xs","sm","md","lg","xl","xxl"],Ae=s.forwardRef((zt,qt)=>{const{getPrefixCls:mt,direction:Et}=s.useContext(d.E_),{gutter:an,wrap:Ht}=s.useContext(Be.Z),{prefixCls:Zt,span:Qt,order:vt,offset:sn,push:Xt,pull:_n,className:En,children:Nn,flex:fi,style:Pt}=zt,Hr=ot(zt,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),Rn=mt("col",Zt),[Fn,Br,Tr]=(0,lt.cG)(Rn),nr={};let Qr={};De.forEach(Rt=>{let Tn={};const Gn=zt[Rt];typeof Gn=="number"?Tn.span=Gn:typeof Gn=="object"&&(Tn=Gn||{}),delete Hr[Rt],Qr=Object.assign(Object.assign({},Qr),{[`${Rn}-${Rt}-${Tn.span}`]:Tn.span!==void 0,[`${Rn}-${Rt}-order-${Tn.order}`]:Tn.order||Tn.order===0,[`${Rn}-${Rt}-offset-${Tn.offset}`]:Tn.offset||Tn.offset===0,[`${Rn}-${Rt}-push-${Tn.push}`]:Tn.push||Tn.push===0,[`${Rn}-${Rt}-pull-${Tn.pull}`]:Tn.pull||Tn.pull===0,[`${Rn}-rtl`]:Et==="rtl"}),Tn.flex&&(Qr[`${Rn}-${Rt}-flex`]=!0,nr[`--${Rn}-${Rt}-flex`]=qe(Tn.flex))});const Mr=oe()(Rn,{[`${Rn}-${Qt}`]:Qt!==void 0,[`${Rn}-order-${vt}`]:vt,[`${Rn}-offset-${sn}`]:sn,[`${Rn}-push-${Xt}`]:Xt,[`${Rn}-pull-${_n}`]:_n},En,Qr,Br,Tr),Jn={};if(an&&an[0]>0){const Rt=an[0]/2;Jn.paddingLeft=Rt,Jn.paddingRight=Rt}return fi&&(Jn.flex=qe(fi),Ht===!1&&!Jn.minWidth&&(Jn.minWidth=0)),Fn(s.createElement("div",Object.assign({},Hr,{style:Object.assign(Object.assign(Object.assign({},Jn),Pt),nr),className:Mr,ref:qt}),Nn))});bn.Z=Ae},19240:function(Kr,bn,he){"use strict";var s=he(75271),jt=he(92076),oe=he(85990),d=he(96777);function Be(){let lt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const qe=(0,s.useRef)(ot),De=(0,oe.Z)(),Ae=(0,d.ZP)();return(0,jt.Z)(()=>{const zt=Ae.subscribe(qt=>{qe.current=qt,lt&&De()});return()=>Ae.unsubscribe(zt)},[]),qe.current}bn.Z=Be},78769:function(Kr,bn,he){"use strict";he.d(bn,{Z:function(){return an}});var s=he(75271),jt=he(82187),oe=he.n(jt),d=he(96777),Be=he(98446),lt=he(19240);function ot(Ht,Zt){const Qt=[void 0,void 0],vt=Array.isArray(Ht)?Ht:[Ht,void 0],sn=Zt||{xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0};return vt.forEach((Xt,_n)=>{if(typeof Xt=="object"&&Xt!==null)for(let En=0;En<d.c4.length;En++){const Nn=d.c4[En];if(sn[Nn]&&Xt[Nn]!==void 0){Qt[_n]=Xt[Nn];break}}else Qt[_n]=Xt}),Qt}var qe=he(60017),De=he(40672),Ae=function(Ht,Zt){var Qt={};for(var vt in Ht)Object.prototype.hasOwnProperty.call(Ht,vt)&&Zt.indexOf(vt)<0&&(Qt[vt]=Ht[vt]);if(Ht!=null&&typeof Object.getOwnPropertySymbols=="function")for(var sn=0,vt=Object.getOwnPropertySymbols(Ht);sn<vt.length;sn++)Zt.indexOf(vt[sn])<0&&Object.prototype.propertyIsEnumerable.call(Ht,vt[sn])&&(Qt[vt[sn]]=Ht[vt[sn]]);return Qt};const zt=null,qt=null;function mt(Ht,Zt){const[Qt,vt]=s.useState(typeof Ht=="string"?Ht:""),sn=()=>{if(typeof Ht=="string"&&vt(Ht),typeof Ht=="object")for(let Xt=0;Xt<d.c4.length;Xt++){const _n=d.c4[Xt];if(!Zt||!Zt[_n])continue;const En=Ht[_n];if(En!==void 0){vt(En);return}}};return s.useEffect(()=>{sn()},[JSON.stringify(Ht),Zt]),Qt}var an=s.forwardRef((Ht,Zt)=>{const{prefixCls:Qt,justify:vt,align:sn,className:Xt,style:_n,children:En,gutter:Nn=0,wrap:fi}=Ht,Pt=Ae(Ht,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:Hr,direction:Rn}=s.useContext(Be.E_),Fn=(0,lt.Z)(!0,null),Br=mt(sn,Fn),Tr=mt(vt,Fn),nr=Hr("row",Qt),[Qr,Mr,Jn]=(0,De.VM)(nr),Rt=ot(Nn,Fn),Tn=oe()(nr,{[`${nr}-no-wrap`]:fi===!1,[`${nr}-${Tr}`]:Tr,[`${nr}-${Br}`]:Br,[`${nr}-rtl`]:Rn==="rtl"},Xt,Mr,Jn),Gn={},mr=Rt[0]!=null&&Rt[0]>0?Rt[0]/-2:void 0;mr&&(Gn.marginLeft=mr,Gn.marginRight=mr);const[ir,zr]=Rt;Gn.rowGap=zr;const wr=s.useMemo(()=>({gutter:[ir,zr],wrap:fi}),[ir,zr,fi]);return Qr(s.createElement(qe.Z.Provider,{value:wr},s.createElement("div",Object.assign({},Pt,{className:Tn,style:Object.assign(Object.assign({},Gn),_n),ref:Zt}),En)))})},40672:function(Kr,bn,he){"use strict";he.d(bn,{VM:function(){return zt},cG:function(){return mt},hd:function(){return qt}});var s=he(55921),jt=he(84825),oe=he(83509);const d=Et=>{const{componentCls:an}=Et;return{[an]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},Be=Et=>{const{componentCls:an}=Et;return{[an]:{position:"relative",maxWidth:"100%",minHeight:1}}},lt=(Et,an)=>{const{prefixCls:Ht,componentCls:Zt,gridColumns:Qt}=Et,vt={};for(let sn=Qt;sn>=0;sn--)sn===0?(vt[`${Zt}${an}-${sn}`]={display:"none"},vt[`${Zt}-push-${sn}`]={insetInlineStart:"auto"},vt[`${Zt}-pull-${sn}`]={insetInlineEnd:"auto"},vt[`${Zt}${an}-push-${sn}`]={insetInlineStart:"auto"},vt[`${Zt}${an}-pull-${sn}`]={insetInlineEnd:"auto"},vt[`${Zt}${an}-offset-${sn}`]={marginInlineStart:0},vt[`${Zt}${an}-order-${sn}`]={order:0}):(vt[`${Zt}${an}-${sn}`]=[{"--ant-display":"block",display:"block"},{display:"var(--ant-display)",flex:`0 0 ${sn/Qt*100}%`,maxWidth:`${sn/Qt*100}%`}],vt[`${Zt}${an}-push-${sn}`]={insetInlineStart:`${sn/Qt*100}%`},vt[`${Zt}${an}-pull-${sn}`]={insetInlineEnd:`${sn/Qt*100}%`},vt[`${Zt}${an}-offset-${sn}`]={marginInlineStart:`${sn/Qt*100}%`},vt[`${Zt}${an}-order-${sn}`]={order:sn});return vt[`${Zt}${an}-flex`]={flex:`var(--${Ht}${an}-flex)`},vt},ot=(Et,an)=>lt(Et,an),qe=(Et,an,Ht)=>({[`@media (min-width: ${(0,s.bf)(an)})`]:Object.assign({},ot(Et,Ht))}),De=()=>({}),Ae=()=>({}),zt=(0,jt.I$)("Grid",d,De),qt=Et=>({xs:Et.screenXSMin,sm:Et.screenSMMin,md:Et.screenMDMin,lg:Et.screenLGMin,xl:Et.screenXLMin,xxl:Et.screenXXLMin}),mt=(0,jt.I$)("Grid",Et=>{const an=(0,oe.IX)(Et,{gridColumns:24}),Ht=qt(an);return delete Ht.xs,[Be(an),ot(an,""),ot(an,"-xs"),Object.keys(Ht).map(Zt=>qe(an,Ht[Zt],`-${Zt}`)).reduce((Zt,Qt)=>Object.assign(Object.assign({},Zt),Qt),{})]},Ae)},12706:function(Kr,bn,he){"use strict";he.r(bn),he.d(bn,{Affix:function(){return En},Alert:function(){return ws},Anchor:function(){return Me},App:function(){return bt},AutoComplete:function(){return Ub},Avatar:function(){return rw},BackTop:function(){return aw},Badge:function(){return Hy},Breadcrumb:function(){return nx},Button:function(){return Xl},Calendar:function(){return mu},Card:function(){return H3},Carousel:function(){return z$},Cascader:function(){return _R},Checkbox:function(){return Qg},Col:function(){return SR},Collapse:function(){return qd},ColorPicker:function(){return J4},ConfigProvider:function(){return ms.ZP},DatePicker:function(){return UI},Descriptions:function(){return GA},Divider:function(){return sI},Drawer:function(){return dD},Dropdown:function(){return Ux},Empty:function(){return Md},Flex:function(){return $D},FloatButton:function(){return GD},Form:function(){return XD.Z},Grid:function(){return KD},Image:function(){return i5},Input:function(){return B5},InputNumber:function(){return _I.Z},Layout:function(){return W5},List:function(){return HL},Mentions:function(){return vN},Menu:function(){return ph},Modal:function(){return MN},Pagination:function(){return Yx},Popconfirm:function(){return kN},Popover:function(){return W0},Progress:function(){return qS},QRCode:function(){return N6},Radio:function(){return KS},Rate:function(){return oB},Result:function(){return SB},Row:function(){return EB},Segmented:function(){return fI},Select:function(){return $d},Skeleton:function(){return xd},Slider:function(){return MI},Space:function(){return sT},Spin:function(){return Vv},Splitter:function(){return SH},Statistic:function(){return FB},Steps:function(){return fF},Switch:function(){return wF},Table:function(){return Gj},Tabs:function(){return EE},Tag:function(){return n7},TimePicker:function(){return b7},Timeline:function(){return O7},Tooltip:function(){return Uc.Z},Tour:function(){return J7},Transfer:function(){return EZ},Tree:function(){return $P},TreeSelect:function(){return n9},Typography:function(){return J9},Upload:function(){return qV},Watermark:function(){return lH},message:function(){return EN},notification:function(){return DN},theme:function(){return m7},unstableSetRender:function(){return Ar},version:function(){return KV.Z}});var s=he(75271),jt=he(82187),oe=he.n(jt),d=he(40493),Be=he(46865),lt=he(49975);function ot(e){let t;const o=u=>()=>{t=null,e.apply(void 0,(0,Be.Z)(u))},i=function(){if(t==null){for(var u=arguments.length,g=new Array(u),_=0;_<u;_++)g[_]=arguments[_];t=(0,lt.Z)(o(g))}};return i.cancel=()=>{lt.Z.cancel(t),t=null},i}var qe=ot,De=he(98446),Ae=he(84825);const zt=e=>{const{componentCls:t}=e;return{[t]:{position:"fixed",zIndex:e.zIndexPopup}}},qt=e=>({zIndexPopup:e.zIndexBase+10});var mt=(0,Ae.I$)("Affix",zt,qt);function Et(e){return e!==window?e.getBoundingClientRect():{top:0,bottom:window.innerHeight}}function an(e,t,o){if(o!==void 0&&Math.round(t.top)>Math.round(e.top)-o)return o+t.top}function Ht(e,t,o){if(o!==void 0&&Math.round(t.bottom)<Math.round(e.bottom)+o){const i=window.innerHeight-t.bottom;return o+i}}var Zt=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};const Qt=["resize","scroll","touchstart","touchmove","touchend","pageshow","load"];function vt(){return typeof window!="undefined"?window:null}const sn=0,Xt=1;var En=s.forwardRef((e,t)=>{var o;const{style:i,offsetTop:u,offsetBottom:g,prefixCls:_,className:x,rootClassName:S,children:T,target:M,onChange:R,onTestUpdatePosition:N}=e,F=Zt(e,["style","offsetTop","offsetBottom","prefixCls","className","rootClassName","children","target","onChange","onTestUpdatePosition"]),{getPrefixCls:B,getTargetContainer:V}=s.useContext(De.E_),j=B("affix",_),[H,U]=s.useState(!1),[K,Y]=s.useState(),[q,Q]=s.useState(),re=s.useRef(sn),ae=s.useRef(null),se=s.useRef(null),de=s.useRef(null),pe=s.useRef(null),ge=s.useRef(null),me=(o=M!=null?M:V)!==null&&o!==void 0?o:vt,be=g===void 0&&u===void 0?0:u,_e=()=>{if(re.current!==Xt||!pe.current||!de.current||!me)return;const We=me();if(We){const it={status:sn},Je=Et(de.current);if(Je.top===0&&Je.left===0&&Je.width===0&&Je.height===0)return;const wt=Et(We),Dt=an(Je,wt,be),ct=Ht(Je,wt,g);Dt!==void 0?(it.affixStyle={position:"fixed",top:Dt,width:Je.width,height:Je.height},it.placeholderStyle={width:Je.width,height:Je.height}):ct!==void 0&&(it.affixStyle={position:"fixed",bottom:ct,width:Je.width,height:Je.height},it.placeholderStyle={width:Je.width,height:Je.height}),it.lastAffix=!!it.affixStyle,H!==it.lastAffix&&(R==null||R(it.lastAffix)),re.current=it.status,Y(it.affixStyle),Q(it.placeholderStyle),U(it.lastAffix)}},Ie=()=>{re.current=Xt,_e()},Ce=qe(()=>{Ie()}),Le=qe(()=>{if(me&&K){const We=me();if(We&&de.current){const it=Et(We),Je=Et(de.current),wt=an(Je,it,be),Dt=Ht(Je,it,g);if(wt!==void 0&&K.top===wt||Dt!==void 0&&K.bottom===Dt)return}}Ie()}),ze=()=>{const We=me==null?void 0:me();We&&(Qt.forEach(it=>{var Je;se.current&&((Je=ae.current)===null||Je===void 0||Je.removeEventListener(it,se.current)),We==null||We.addEventListener(it,Le)}),ae.current=We,se.current=Le)},ke=()=>{ge.current&&(clearTimeout(ge.current),ge.current=null);const We=me==null?void 0:me();Qt.forEach(it=>{var Je;We==null||We.removeEventListener(it,Le),se.current&&((Je=ae.current)===null||Je===void 0||Je.removeEventListener(it,se.current))}),Ce.cancel(),Le.cancel()};s.useImperativeHandle(t,()=>({updatePosition:Ce})),s.useEffect(()=>(ge.current=setTimeout(ze),()=>ke()),[]),s.useEffect(()=>{ze()},[M,K]),s.useEffect(()=>{Ce()},[M,u,g]);const[Ze,je,Ue]=mt(j),He=oe()(S,je,j,Ue),Qe=oe()({[He]:K});return Ze(s.createElement(d.Z,{onResize:Ce},s.createElement("div",Object.assign({style:i,className:x,ref:de},F),K&&s.createElement("div",{style:q,"aria-hidden":"true"}),s.createElement("div",{className:Qe,ref:pe,style:K},s.createElement(d.Z,{onResize:Ce},T)))))}),Nn=he(4692),fi=he(75434),Pt=he(23022),Hr={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"},Rn=Hr,Fn=he(23738),Br=function(t,o){return s.createElement(Fn.Z,(0,Pt.Z)({},t,{ref:o,icon:Rn}))},Tr=s.forwardRef(Br),nr=Tr,Qr=he(64267),Mr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},Jn=Mr,Rt=function(t,o){return s.createElement(Fn.Z,(0,Pt.Z)({},t,{ref:o,icon:Jn}))},Tn=s.forwardRef(Rt),Gn=Tn,mr=he(62803),ir=he(71305),zr=he(42684),wr=he(26021),J=he(55921),mn=he(34299);const Ui=(e,t,o,i,u)=>({background:e,border:`${(0,J.bf)(i.lineWidth)} ${i.lineType} ${t}`,[`${u}-icon`]:{color:o}}),ki=e=>{const{componentCls:t,motionDurationSlow:o,marginXS:i,marginSM:u,fontSize:g,fontSizeLG:_,lineHeight:x,borderRadiusLG:S,motionEaseInOutCirc:T,withDescriptionIconSize:M,colorText:R,colorTextHeading:N,withDescriptionPadding:F,defaultPadding:B}=e;return{[t]:Object.assign(Object.assign({},(0,mn.Wf)(e)),{position:"relative",display:"flex",alignItems:"center",padding:B,wordWrap:"break-word",borderRadius:S,[`&${t}-rtl`]:{direction:"rtl"},[`${t}-content`]:{flex:1,minWidth:0},[`${t}-icon`]:{marginInlineEnd:i,lineHeight:0},"&-description":{display:"none",fontSize:g,lineHeight:x},"&-message":{color:N},[`&${t}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${o} ${T}, opacity ${o} ${T},
        padding-top ${o} ${T}, padding-bottom ${o} ${T},
        margin-bottom ${o} ${T}`},[`&${t}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${t}-with-description`]:{alignItems:"flex-start",padding:F,[`${t}-icon`]:{marginInlineEnd:u,fontSize:M,lineHeight:0},[`${t}-message`]:{display:"block",marginBottom:i,color:N,fontSize:_},[`${t}-description`]:{display:"block",color:R}},[`${t}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},Sn=e=>{const{componentCls:t,colorSuccess:o,colorSuccessBorder:i,colorSuccessBg:u,colorWarning:g,colorWarningBorder:_,colorWarningBg:x,colorError:S,colorErrorBorder:T,colorErrorBg:M,colorInfo:R,colorInfoBorder:N,colorInfoBg:F}=e;return{[t]:{"&-success":Ui(u,i,o,e,t),"&-info":Ui(F,N,R,e,t),"&-warning":Ui(x,_,g,e,t),"&-error":Object.assign(Object.assign({},Ui(M,T,S,e,t)),{[`${t}-description > pre`]:{margin:0,padding:0}})}}},ei=e=>{const{componentCls:t,iconCls:o,motionDurationMid:i,marginXS:u,fontSizeIcon:g,colorIcon:_,colorIconHover:x}=e;return{[t]:{"&-action":{marginInlineStart:u},[`${t}-close-icon`]:{marginInlineStart:u,padding:0,overflow:"hidden",fontSize:g,lineHeight:(0,J.bf)(g),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${o}-close`]:{color:_,transition:`color ${i}`,"&:hover":{color:x}}},"&-close-text":{color:_,transition:`color ${i}`,"&:hover":{color:x}}}}},Pi=e=>({withDescriptionIconSize:e.fontSizeHeading3,defaultPadding:`${e.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${e.paddingMD}px ${e.paddingContentHorizontalLG}px`});var Xr=(0,Ae.I$)("Alert",e=>[ki(e),Sn(e),ei(e)],Pi),or=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};const dr={success:Nn.Z,info:Gn,error:fi.Z,warning:Qr.Z},$i=e=>{const{icon:t,prefixCls:o,type:i}=e,u=dr[i]||null;return t?(0,wr.wm)(t,s.createElement("span",{className:`${o}-icon`},t),()=>({className:oe()(`${o}-icon`,t.props.className)})):s.createElement(u,{className:`${o}-icon`})},Zo=e=>{const{isClosable:t,prefixCls:o,closeIcon:i,handleClose:u,ariaProps:g}=e,_=i===!0||i===void 0?s.createElement(nr,null):i;return t?s.createElement("button",Object.assign({type:"button",onClick:u,className:`${o}-close-icon`,tabIndex:0},g),_):null};var Da=s.forwardRef((e,t)=>{const{description:o,prefixCls:i,message:u,banner:g,className:_,rootClassName:x,style:S,onMouseEnter:T,onMouseLeave:M,onClick:R,afterClose:N,showIcon:F,closable:B,closeText:V,closeIcon:j,action:H,id:U}=e,K=or(e,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action","id"]),[Y,q]=s.useState(!1),Q=s.useRef(null);s.useImperativeHandle(t,()=>({nativeElement:Q.current}));const{getPrefixCls:re,direction:ae,closable:se,closeIcon:de,className:pe,style:ge}=(0,De.dj)("alert"),me=re("alert",i),[be,_e,Ie]=Xr(me),Ce=Qe=>{var We;q(!0),(We=e.onClose)===null||We===void 0||We.call(e,Qe)},Le=s.useMemo(()=>e.type!==void 0?e.type:g?"warning":"info",[e.type,g]),ze=s.useMemo(()=>typeof B=="object"&&B.closeIcon||V?!0:typeof B=="boolean"?B:j!==!1&&j!==null&&j!==void 0?!0:!!se,[V,j,B,se]),ke=g&&F===void 0?!0:F,Ze=oe()(me,`${me}-${Le}`,{[`${me}-with-description`]:!!o,[`${me}-no-icon`]:!ke,[`${me}-banner`]:!!g,[`${me}-rtl`]:ae==="rtl"},pe,_,x,Ie,_e),je=(0,ir.Z)(K,{aria:!0,data:!0}),Ue=s.useMemo(()=>typeof B=="object"&&B.closeIcon?B.closeIcon:V||(j!==void 0?j:typeof se=="object"&&se.closeIcon?se.closeIcon:de),[j,B,V,de]),He=s.useMemo(()=>{const Qe=B!=null?B:se;if(typeof Qe=="object"){const{closeIcon:We}=Qe;return or(Qe,["closeIcon"])}return{}},[B,se]);return be(s.createElement(mr.ZP,{visible:!Y,motionName:`${me}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:Qe=>({maxHeight:Qe.offsetHeight}),onLeaveEnd:N},(Qe,We)=>{let{className:it,style:Je}=Qe;return s.createElement("div",Object.assign({id:U,ref:(0,zr.sQ)(Q,We),"data-show":!Y,className:oe()(Ze,it),style:Object.assign(Object.assign(Object.assign({},ge),S),Je),onMouseEnter:T,onMouseLeave:M,onClick:R,role:"alert"},je),ke?s.createElement($i,{description:o,icon:e.icon,prefixCls:me,type:Le}):null,s.createElement("div",{className:`${me}-content`},u?s.createElement("div",{className:`${me}-message`},u):null,o?s.createElement("div",{className:`${me}-description`},o):null),H?s.createElement("div",{className:`${me}-action`},H):null,s.createElement(Zo,{isClosable:ze,prefixCls:me,closeIcon:Ue,handleClose:Ce,ariaProps:He}))}))}),ri=he(59295),Ko=he(45985),Eo=he(51123),No=he(57649),ya=he(78512);function Oi(e,t,o){return t=(0,Eo.Z)(t),(0,ya.Z)(e,(0,No.Z)()?Reflect.construct(t,o||[],(0,Eo.Z)(e).constructor):t.apply(e,o))}var Gr=he(76525),Li=function(e){function t(){var o;return(0,ri.Z)(this,t),o=Oi(this,t,arguments),o.state={error:void 0,info:{componentStack:""}},o}return(0,Gr.Z)(t,e),(0,Ko.Z)(t,[{key:"componentDidCatch",value:function(i,u){this.setState({error:i,info:u})}},{key:"render",value:function(){const{message:i,description:u,id:g,children:_}=this.props,{error:x,info:S}=this.state,T=(S==null?void 0:S.componentStack)||null,M=typeof i=="undefined"?(x||"").toString():i,R=typeof u=="undefined"?T:u;return x?s.createElement(Da,{id:g,type:"error",message:M,description:s.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},R)}):_}}])}(s.Component);const co=Da;co.ErrorBoundary=Li;var ws=co,Or=he(59373),bo=he(56680);function Ua(e){return e!=null&&e===e.window}var ia=e=>{var t,o;if(typeof window=="undefined")return 0;let i=0;return Ua(e)?i=e.pageYOffset:e instanceof Document?i=e.documentElement.scrollTop:(e instanceof HTMLElement||e)&&(i=e.scrollTop),e&&!Ua(e)&&typeof i!="number"&&(i=(o=((t=e.ownerDocument)!==null&&t!==void 0?t:e).documentElement)===null||o===void 0?void 0:o.scrollTop),i};function ss(e,t,o,i){const u=o-t;return e/=i/2,e<1?u/2*e*e*e+t:u/2*((e-=2)*e*e+2)+t}function Ra(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{getContainer:o=()=>window,callback:i,duration:u=450}=t,g=o(),_=ia(g),x=Date.now(),S=()=>{const M=Date.now()-x,R=ss(M>u?u:M,_,e,u);Ua(g)?g.scrollTo(window.pageXOffset,R):g instanceof Document||g.constructor.name==="HTMLDocument"?g.documentElement.scrollTop=R:g.scrollTop=R,M<u?(0,lt.Z)(S):typeof i=="function"&&i()};(0,lt.Z)(S)}var po=he(38437),il=s.createContext(void 0),Dn=e=>{const{href:t,title:o,prefixCls:i,children:u,className:g,target:_,replace:x}=e,S=s.useContext(il),{registerLink:T,unregisterLink:M,scrollTo:R,onClick:N,activeLink:F,direction:B}=S||{};s.useEffect(()=>(T==null||T(t),()=>{M==null||M(t)}),[t]);const V=q=>{N==null||N(q,{title:o,href:t}),R==null||R(t),x&&(q.preventDefault(),window.location.replace(t))},{getPrefixCls:j}=s.useContext(De.E_),H=j("anchor",i),U=F===t,K=oe()(`${H}-link`,g,{[`${H}-link-active`]:U}),Y=oe()(`${H}-link-title`,{[`${H}-link-title-active`]:U});return s.createElement("div",{className:K},s.createElement("a",{className:Y,href:t,title:typeof o=="string"?o:"",target:_,onClick:V},o),B!=="horizontal"?u:null)},vn=he(83509);const $r=e=>{const{componentCls:t,holderOffsetBlock:o,motionDurationSlow:i,lineWidthBold:u,colorPrimary:g,lineType:_,colorSplit:x,calc:S}=e;return{[`${t}-wrapper`]:{marginBlockStart:S(o).mul(-1).equal(),paddingBlockStart:o,[t]:Object.assign(Object.assign({},(0,mn.Wf)(e)),{position:"relative",paddingInlineStart:u,[`${t}-link`]:{paddingBlock:e.linkPaddingBlock,paddingInline:`${(0,J.bf)(e.linkPaddingInlineStart)} 0`,"&-title":Object.assign(Object.assign({},mn.vS),{position:"relative",display:"block",marginBlockEnd:e.anchorTitleBlock,color:e.colorText,transition:`all ${e.motionDurationSlow}`,"&:only-child":{marginBlockEnd:0}}),[`&-active > ${t}-link-title`]:{color:e.colorPrimary},[`${t}-link`]:{paddingBlock:e.anchorPaddingBlockSecondary}}}),[`&:not(${t}-wrapper-horizontal)`]:{[t]:{"&::before":{position:"absolute",insetInlineStart:0,top:0,height:"100%",borderInlineStart:`${(0,J.bf)(u)} ${_} ${x}`,content:'" "'},[`${t}-ink`]:{position:"absolute",insetInlineStart:0,display:"none",transform:"translateY(-50%)",transition:`top ${i} ease-in-out`,width:u,backgroundColor:g,[`&${t}-ink-visible`]:{display:"inline-block"}}}},[`${t}-fixed ${t}-ink ${t}-ink`]:{display:"none"}}}},hi=e=>{const{componentCls:t,motionDurationSlow:o,lineWidthBold:i,colorPrimary:u}=e;return{[`${t}-wrapper-horizontal`]:{position:"relative","&::before":{position:"absolute",left:{_skip_check_:!0,value:0},right:{_skip_check_:!0,value:0},bottom:0,borderBottom:`${(0,J.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,content:'" "'},[t]:{overflowX:"scroll",position:"relative",display:"flex",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"},[`${t}-link:first-of-type`]:{paddingInline:0},[`${t}-ink`]:{position:"absolute",bottom:0,transition:`left ${o} ease-in-out, width ${o} ease-in-out`,height:i,backgroundColor:u}}}}},vi=e=>({linkPaddingBlock:e.paddingXXS,linkPaddingInlineStart:e.padding});var oa=(0,Ae.I$)("Anchor",e=>{const{fontSize:t,fontSizeLG:o,paddingXXS:i,calc:u}=e,g=(0,vn.IX)(e,{holderOffsetBlock:i,anchorPaddingBlockSecondary:u(i).div(2).equal(),anchorTitleBlock:u(t).div(14).mul(3).equal(),anchorBallSize:u(o).div(2).equal()});return[$r(g),hi(g)]},vi);function aa(){return window}function Ca(e,t){if(!e.getClientRects().length)return 0;const o=e.getBoundingClientRect();return o.width||o.height?t===window?o.top-e.ownerDocument.documentElement.clientTop:o.top-t.getBoundingClientRect().top:o.top}const Bo=/#([\S ]+)$/;var Jt=e=>{var t;const{rootClassName:o,prefixCls:i,className:u,style:g,offsetTop:_,affix:x=!0,showInkInFixed:S=!1,children:T,items:M,direction:R="vertical",bounds:N,targetOffset:F,onClick:B,onChange:V,getContainer:j,getCurrentAnchor:H,replace:U}=e,[K,Y]=s.useState([]),[q,Q]=s.useState(null),re=s.useRef(q),ae=s.useRef(null),se=s.useRef(null),de=s.useRef(!1),{direction:pe,getPrefixCls:ge,className:me,style:be}=(0,De.dj)("anchor"),{getTargetContainer:_e}=s.useContext(De.E_),Ie=ge("anchor",i),Ce=(0,po.Z)(Ie),[Le,ze,ke]=oa(Ie,Ce),Ze=(t=j!=null?j:_e)!==null&&t!==void 0?t:aa,je=JSON.stringify(K),Ue=(0,Or.Z)(on=>{K.includes(on)||Y(Ut=>[].concat((0,Be.Z)(Ut),[on]))}),He=(0,Or.Z)(on=>{K.includes(on)&&Y(Ut=>Ut.filter(en=>en!==on))}),Qe=()=>{var on;const Ut=(on=ae.current)===null||on===void 0?void 0:on.querySelector(`.${Ie}-link-title-active`);if(Ut&&se.current){const{style:en}=se.current,kt=R==="horizontal";en.top=kt?"":`${Ut.offsetTop+Ut.clientHeight/2}px`,en.height=kt?"":`${Ut.clientHeight}px`,en.left=kt?`${Ut.offsetLeft}px`:"",en.width=kt?`${Ut.clientWidth}px`:"",kt&&(0,bo.Z)(Ut,{scrollMode:"if-needed",block:"nearest"})}},We=function(on){let Ut=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,en=arguments.length>2&&arguments[2]!==void 0?arguments[2]:5;const kt=[],cn=Ze();return on.forEach(zn=>{const An=Bo.exec(zn==null?void 0:zn.toString());if(!An)return;const sr=document.getElementById(An[1]);if(sr){const yr=Ca(sr,cn);yr<=Ut+en&&kt.push({link:zn,top:yr})}}),kt.length?kt.reduce((An,sr)=>sr.top>An.top?sr:An).link:""},it=(0,Or.Z)(on=>{if(re.current===on)return;const Ut=typeof H=="function"?H(on):on;Q(Ut),re.current=Ut,V==null||V(on)}),Je=s.useCallback(()=>{if(de.current)return;const on=We(K,F!==void 0?F:_||0,N);it(on)},[je,F,_]),wt=s.useCallback(on=>{it(on);const Ut=Bo.exec(on);if(!Ut)return;const en=document.getElementById(Ut[1]);if(!en)return;const kt=Ze(),cn=ia(kt),zn=Ca(en,kt);let An=cn+zn;An-=F!==void 0?F:_||0,de.current=!0,Ra(An,{getContainer:Ze,callback(){de.current=!1}})},[F,_]),Dt=oe()(ze,ke,Ce,o,`${Ie}-wrapper`,{[`${Ie}-wrapper-horizontal`]:R==="horizontal",[`${Ie}-rtl`]:pe==="rtl"},u,me),ct=oe()(Ie,{[`${Ie}-fixed`]:!x&&!S}),ht=oe()(`${Ie}-ink`,{[`${Ie}-ink-visible`]:q}),ut=Object.assign(Object.assign({maxHeight:_?`calc(100vh - ${_}px)`:"100vh"},be),g),tt=on=>Array.isArray(on)?on.map(Ut=>s.createElement(Dn,Object.assign({replace:U},Ut,{key:Ut.key}),R==="vertical"&&tt(Ut.children))):null,xt=s.createElement("div",{ref:ae,className:Dt,style:ut},s.createElement("div",{className:ct},s.createElement("span",{className:ht,ref:se}),"items"in e?tt(M):T));s.useEffect(()=>{const on=Ze();return Je(),on==null||on.addEventListener("scroll",Je),()=>{on==null||on.removeEventListener("scroll",Je)}},[je]),s.useEffect(()=>{typeof H=="function"&&it(H(re.current||""))},[H]),s.useEffect(()=>{Qe()},[R,H,je,q]);const _t=s.useMemo(()=>({registerLink:Ue,unregisterLink:He,scrollTo:wt,activeLink:q,onClick:B,direction:R}),[q,B,wt,R]),dn=x&&typeof x=="object"?x:void 0;return Le(s.createElement(il.Provider,{value:_t},x?s.createElement(En,Object.assign({offsetTop:_,target:Ze},dn),xt):xt))};const xe=Jt;xe.Link=Dn;var Me=xe,Fe=he(87117),ve=he(89692),Ve=he(58190),fe=he(54153),Nt=he(30967),It=he.t(Nt,2),Ee=he(38926),Tt=he(5147),nt=he(14583),Pn=s.forwardRef(function(e,t){var o=e.prefixCls,i=e.style,u=e.className,g=e.duration,_=g===void 0?4.5:g,x=e.showProgress,S=e.pauseOnHover,T=S===void 0?!0:S,M=e.eventKey,R=e.content,N=e.closable,F=e.closeIcon,B=F===void 0?"x":F,V=e.props,j=e.onClick,H=e.onNoticeClose,U=e.times,K=e.hovering,Y=s.useState(!1),q=(0,ve.Z)(Y,2),Q=q[0],re=q[1],ae=s.useState(0),se=(0,ve.Z)(ae,2),de=se[0],pe=se[1],ge=s.useState(0),me=(0,ve.Z)(ge,2),be=me[0],_e=me[1],Ie=K||Q,Ce=_>0&&x,Le=function(){H(M)},ze=function(Qe){(Qe.key==="Enter"||Qe.code==="Enter"||Qe.keyCode===nt.Z.ENTER)&&Le()};s.useEffect(function(){if(!Ie&&_>0){var He=Date.now()-be,Qe=setTimeout(function(){Le()},_*1e3-be);return function(){T&&clearTimeout(Qe),_e(Date.now()-He)}}},[_,Ie,U]),s.useEffect(function(){if(!Ie&&Ce&&(T||be===0)){var He=performance.now(),Qe,We=function it(){cancelAnimationFrame(Qe),Qe=requestAnimationFrame(function(Je){var wt=Je+be-He,Dt=Math.min(wt/(_*1e3),1);pe(Dt*100),Dt<1&&it()})};return We(),function(){T&&cancelAnimationFrame(Qe)}}},[_,be,Ie,Ce,U]);var ke=s.useMemo(function(){return(0,Tt.Z)(N)==="object"&&N!==null?N:N?{closeIcon:B}:{}},[N,B]),Ze=(0,ir.Z)(ke,!0),je=100-(!de||de<0?0:de>100?100:de),Ue="".concat(o,"-notice");return s.createElement("div",(0,Pt.Z)({},V,{ref:t,className:oe()(Ue,u,(0,Ee.Z)({},"".concat(Ue,"-closable"),N)),style:i,onMouseEnter:function(Qe){var We;re(!0),V==null||(We=V.onMouseEnter)===null||We===void 0||We.call(V,Qe)},onMouseLeave:function(Qe){var We;re(!1),V==null||(We=V.onMouseLeave)===null||We===void 0||We.call(V,Qe)},onClick:j}),s.createElement("div",{className:"".concat(Ue,"-content")},R),N&&s.createElement("a",(0,Pt.Z)({tabIndex:0,className:"".concat(Ue,"-close"),onKeyDown:ze,"aria-label":"Close"},Ze,{onClick:function(Qe){Qe.preventDefault(),Qe.stopPropagation(),Le()}}),ke.closeIcon),Ce&&s.createElement("progress",{className:"".concat(Ue,"-progress"),max:"100",value:je},je+"%"))}),ur=Pn,lr=s.createContext({}),pi=function(t){var o=t.children,i=t.classNames;return s.createElement(lr.Provider,{value:{classNames:i}},o)},ai=pi,Ei=8,wi=3,Oo=16,Xo=function(t){var o={offset:Ei,threshold:wi,gap:Oo};if(t&&(0,Tt.Z)(t)==="object"){var i,u,g;o.offset=(i=t.offset)!==null&&i!==void 0?i:Ei,o.threshold=(u=t.threshold)!==null&&u!==void 0?u:wi,o.gap=(g=t.gap)!==null&&g!==void 0?g:Oo}return[!!t,o]},So=Xo,pa=["className","style","classNames","styles"],ma=function(t){var o=t.configList,i=t.placement,u=t.prefixCls,g=t.className,_=t.style,x=t.motion,S=t.onAllNoticeRemoved,T=t.onNoticeClose,M=t.stack,R=(0,s.useContext)(lr),N=R.classNames,F=(0,s.useRef)({}),B=(0,s.useState)(null),V=(0,ve.Z)(B,2),j=V[0],H=V[1],U=(0,s.useState)([]),K=(0,ve.Z)(U,2),Y=K[0],q=K[1],Q=o.map(function(Ie){return{config:Ie,key:String(Ie.key)}}),re=So(M),ae=(0,ve.Z)(re,2),se=ae[0],de=ae[1],pe=de.offset,ge=de.threshold,me=de.gap,be=se&&(Y.length>0||Q.length<=ge),_e=typeof x=="function"?x(i):x;return(0,s.useEffect)(function(){se&&Y.length>1&&q(function(Ie){return Ie.filter(function(Ce){return Q.some(function(Le){var ze=Le.key;return Ce===ze})})})},[Y,Q,se]),(0,s.useEffect)(function(){var Ie;if(se&&F.current[(Ie=Q[Q.length-1])===null||Ie===void 0?void 0:Ie.key]){var Ce;H(F.current[(Ce=Q[Q.length-1])===null||Ce===void 0?void 0:Ce.key])}},[Q,se]),s.createElement(mr.V4,(0,Pt.Z)({key:i,className:oe()(u,"".concat(u,"-").concat(i),N==null?void 0:N.list,g,(0,Ee.Z)((0,Ee.Z)({},"".concat(u,"-stack"),!!se),"".concat(u,"-stack-expanded"),be)),style:_,keys:Q,motionAppear:!0},_e,{onAllRemoved:function(){S(i)}}),function(Ie,Ce){var Le=Ie.config,ze=Ie.className,ke=Ie.style,Ze=Ie.index,je=Le,Ue=je.key,He=je.times,Qe=String(Ue),We=Le,it=We.className,Je=We.style,wt=We.classNames,Dt=We.styles,ct=(0,Ve.Z)(We,pa),ht=Q.findIndex(function(An){return An.key===Qe}),ut={};if(se){var tt=Q.length-1-(ht>-1?ht:Ze-1),xt=i==="top"||i==="bottom"?"-50%":"0";if(tt>0){var _t,dn,on;ut.height=be?(_t=F.current[Qe])===null||_t===void 0?void 0:_t.offsetHeight:j==null?void 0:j.offsetHeight;for(var Ut=0,en=0;en<tt;en++){var kt;Ut+=((kt=F.current[Q[Q.length-1-en].key])===null||kt===void 0?void 0:kt.offsetHeight)+me}var cn=(be?Ut:tt*pe)*(i.startsWith("top")?1:-1),zn=!be&&j!==null&&j!==void 0&&j.offsetWidth&&(dn=F.current[Qe])!==null&&dn!==void 0&&dn.offsetWidth?((j==null?void 0:j.offsetWidth)-pe*2*(tt<3?tt:3))/((on=F.current[Qe])===null||on===void 0?void 0:on.offsetWidth):1;ut.transform="translate3d(".concat(xt,", ").concat(cn,"px, 0) scaleX(").concat(zn,")")}else ut.transform="translate3d(".concat(xt,", 0, 0)")}return s.createElement("div",{ref:Ce,className:oe()("".concat(u,"-notice-wrapper"),ze,wt==null?void 0:wt.wrapper),style:(0,fe.Z)((0,fe.Z)((0,fe.Z)({},ke),ut),Dt==null?void 0:Dt.wrapper),onMouseEnter:function(){return q(function(sr){return sr.includes(Qe)?sr:[].concat((0,Be.Z)(sr),[Qe])})},onMouseLeave:function(){return q(function(sr){return sr.filter(function(yr){return yr!==Qe})})}},s.createElement(ur,(0,Pt.Z)({},ct,{ref:function(sr){ht>-1?F.current[Qe]=sr:delete F.current[Qe]},prefixCls:u,classNames:wt,styles:Dt,className:oe()(it,N==null?void 0:N.notice),style:Je,times:He,key:Ue,eventKey:Ue,onNoticeClose:T,hovering:se&&Y.length>0})))})},Ea=ma,Sl=s.forwardRef(function(e,t){var o=e.prefixCls,i=o===void 0?"rc-notification":o,u=e.container,g=e.motion,_=e.maxCount,x=e.className,S=e.style,T=e.onAllRemoved,M=e.stack,R=e.renderNotifications,N=s.useState([]),F=(0,ve.Z)(N,2),B=F[0],V=F[1],j=function(se){var de,pe=B.find(function(ge){return ge.key===se});pe==null||(de=pe.onClose)===null||de===void 0||de.call(pe),V(function(ge){return ge.filter(function(me){return me.key!==se})})};s.useImperativeHandle(t,function(){return{open:function(se){V(function(de){var pe=(0,Be.Z)(de),ge=pe.findIndex(function(_e){return _e.key===se.key}),me=(0,fe.Z)({},se);if(ge>=0){var be;me.times=(((be=de[ge])===null||be===void 0?void 0:be.times)||0)+1,pe[ge]=me}else me.times=0,pe.push(me);return _>0&&pe.length>_&&(pe=pe.slice(-_)),pe})},close:function(se){j(se)},destroy:function(){V([])}}});var H=s.useState({}),U=(0,ve.Z)(H,2),K=U[0],Y=U[1];s.useEffect(function(){var ae={};B.forEach(function(se){var de=se.placement,pe=de===void 0?"topRight":de;pe&&(ae[pe]=ae[pe]||[],ae[pe].push(se))}),Object.keys(K).forEach(function(se){ae[se]=ae[se]||[]}),Y(ae)},[B]);var q=function(se){Y(function(de){var pe=(0,fe.Z)({},de),ge=pe[se]||[];return ge.length||delete pe[se],pe})},Q=s.useRef(!1);if(s.useEffect(function(){Object.keys(K).length>0?Q.current=!0:Q.current&&(T==null||T(),Q.current=!1)},[K]),!u)return null;var re=Object.keys(K);return(0,Nt.createPortal)(s.createElement(s.Fragment,null,re.map(function(ae){var se=K[ae],de=s.createElement(Ea,{key:ae,configList:se,placement:ae,prefixCls:i,className:x==null?void 0:x(ae),style:S==null?void 0:S(ae),motion:g,onNoticeClose:j,onAllNoticeRemoved:q,stack:M});return R?R(de,{prefixCls:i,key:ae}):de})),u)}),Lt=Sl,Ln=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications"],Bn=function(){return document.body},tr=0;function Lr(){for(var e={},t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return o.forEach(function(u){u&&Object.keys(u).forEach(function(g){var _=u[g];_!==void 0&&(e[g]=_)})}),e}function to(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.getContainer,o=t===void 0?Bn:t,i=e.motion,u=e.prefixCls,g=e.maxCount,_=e.className,x=e.style,S=e.onAllRemoved,T=e.stack,M=e.renderNotifications,R=(0,Ve.Z)(e,Ln),N=s.useState(),F=(0,ve.Z)(N,2),B=F[0],V=F[1],j=s.useRef(),H=s.createElement(Lt,{container:B,ref:j,prefixCls:u,motion:i,maxCount:g,className:_,style:x,onAllRemoved:S,stack:T,renderNotifications:M}),U=s.useState([]),K=(0,ve.Z)(U,2),Y=K[0],q=K[1],Q=s.useMemo(function(){return{open:function(ae){var se=Lr(R,ae);(se.key===null||se.key===void 0)&&(se.key="rc-notification-".concat(tr),tr+=1),q(function(de){return[].concat((0,Be.Z)(de),[{type:"open",config:se}])})},close:function(ae){q(function(se){return[].concat((0,Be.Z)(se),[{type:"close",key:ae}])})},destroy:function(){q(function(ae){return[].concat((0,Be.Z)(ae),[{type:"destroy"}])})}}},[]);return s.useEffect(function(){V(o())}),s.useEffect(function(){if(j.current&&Y.length){Y.forEach(function(se){switch(se.type){case"open":j.current.open(se.config);break;case"close":j.current.close(se.key);break;case"destroy":j.current.destroy();break}});var re,ae;q(function(se){return(re!==se||!ae)&&(re=se,ae=se.filter(function(de){return!Y.includes(de)})),ae})}},[Y]),[Q,H]}var mo=he(24573),Io=he(19952);const uo=e=>{const{componentCls:t,iconCls:o,boxShadow:i,colorText:u,colorSuccess:g,colorError:_,colorWarning:x,colorInfo:S,fontSizeLG:T,motionEaseInOutCirc:M,motionDurationSlow:R,marginXS:N,paddingXS:F,borderRadiusLG:B,zIndexPopup:V,contentPadding:j,contentBg:H}=e,U=`${t}-notice`,K=new J.E4("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:F,transform:"translateY(0)",opacity:1}}),Y=new J.E4("MessageMoveOut",{"0%":{maxHeight:e.height,padding:F,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}}),q={padding:F,textAlign:"center",[`${t}-custom-content`]:{display:"flex",alignItems:"center"},[`${t}-custom-content > ${o}`]:{marginInlineEnd:N,fontSize:T},[`${U}-content`]:{display:"inline-block",padding:j,background:H,borderRadius:B,boxShadow:i,pointerEvents:"all"},[`${t}-success > ${o}`]:{color:g},[`${t}-error > ${o}`]:{color:_},[`${t}-warning > ${o}`]:{color:x},[`${t}-info > ${o},
      ${t}-loading > ${o}`]:{color:S}};return[{[t]:Object.assign(Object.assign({},(0,mn.Wf)(e)),{color:u,position:"fixed",top:N,width:"100%",pointerEvents:"none",zIndex:V,[`${t}-move-up`]:{animationFillMode:"forwards"},[`
        ${t}-move-up-appear,
        ${t}-move-up-enter
      `]:{animationName:K,animationDuration:R,animationPlayState:"paused",animationTimingFunction:M},[`
        ${t}-move-up-appear${t}-move-up-appear-active,
        ${t}-move-up-enter${t}-move-up-enter-active
      `]:{animationPlayState:"running"},[`${t}-move-up-leave`]:{animationName:Y,animationDuration:R,animationPlayState:"paused",animationTimingFunction:M},[`${t}-move-up-leave${t}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[t]:{[`${U}-wrapper`]:Object.assign({},q)}},{[`${t}-notice-pure-panel`]:Object.assign(Object.assign({},q),{padding:0,textAlign:"start"})}]},ga=e=>({zIndexPopup:e.zIndexPopupBase+Io.u6+10,contentBg:e.colorBgElevated,contentPadding:`${(e.controlHeightLG-e.fontSize*e.lineHeight)/2}px ${e.paddingSM}px`});var $o=(0,Ae.I$)("Message",e=>{const t=(0,vn.IX)(e,{height:150});return[uo(t)]},ga),Vo=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};const qa={info:s.createElement(Gn,null),success:s.createElement(Nn.Z,null),error:s.createElement(fi.Z,null),warning:s.createElement(Qr.Z,null),loading:s.createElement(mo.Z,null)},gs=e=>{let{prefixCls:t,type:o,icon:i,children:u}=e;return s.createElement("div",{className:oe()(`${t}-custom-content`,`${t}-${o}`)},i||qa[o],s.createElement("span",null,u))};var ys=e=>{const{prefixCls:t,className:o,type:i,icon:u,content:g}=e,_=Vo(e,["prefixCls","className","type","icon","content"]),{getPrefixCls:x}=s.useContext(De.E_),S=t||x("message"),T=(0,po.Z)(S),[M,R,N]=$o(S,T);return M(s.createElement(ur,Object.assign({},_,{prefixCls:S,className:oe()(o,R,`${S}-notice-pure-panel`,N,T),eventKey:"pure",duration:null,content:s.createElement(gs,{prefixCls:S,type:i,icon:u},g)})))};function _s(e,t){return{motionName:t!=null?t:`${e}-move-up`}}function ns(e){let t;const o=new Promise(u=>{t=e(()=>{u(!0)})}),i=()=>{t==null||t()};return i.then=(u,g)=>o.then(u,g),i.promise=o,i}var $s=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};const xo=8,Wa=3,Fo=e=>{let{children:t,prefixCls:o}=e;const i=(0,po.Z)(o),[u,g,_]=$o(o,i);return u(s.createElement(ai,{classNames:{list:oe()(g,_,i)}},t))},go=(e,t)=>{let{prefixCls:o,key:i}=t;return s.createElement(Fo,{prefixCls:o,key:i},e)},no=s.forwardRef((e,t)=>{const{top:o,prefixCls:i,getContainer:u,maxCount:g,duration:_=Wa,rtl:x,transitionName:S,onAllRemoved:T}=e,{getPrefixCls:M,getPopupContainer:R,message:N,direction:F}=s.useContext(De.E_),B=i||M("message"),V=()=>({left:"50%",transform:"translateX(-50%)",top:o!=null?o:xo}),j=()=>oe()({[`${B}-rtl`]:x!=null?x:F==="rtl"}),H=()=>_s(B,S),U=s.createElement("span",{className:`${B}-close-x`},s.createElement(nr,{className:`${B}-close-icon`})),[K,Y]=to({prefixCls:B,style:V,className:j,motion:H,closable:!1,closeIcon:U,duration:_,getContainer:()=>(u==null?void 0:u())||(R==null?void 0:R())||document.body,maxCount:g,onAllRemoved:T,renderNotifications:go});return s.useImperativeHandle(t,()=>Object.assign(Object.assign({},K),{prefixCls:B,message:N})),Y});let Is=0;function si(e){const t=s.useRef(null),o=(0,Fe.ln)("Message");return[s.useMemo(()=>{const u=T=>{var M;(M=t.current)===null||M===void 0||M.close(T)},g=T=>{if(!t.current){const re=()=>{};return re.then=()=>{},re}const{open:M,prefixCls:R,message:N}=t.current,F=`${R}-notice`,{content:B,icon:V,type:j,key:H,className:U,style:K,onClose:Y}=T,q=$s(T,["content","icon","type","key","className","style","onClose"]);let Q=H;return Q==null&&(Is+=1,Q=`antd-message-${Is}`),ns(re=>(M(Object.assign(Object.assign({},q),{key:Q,content:s.createElement(gs,{prefixCls:R,type:j,icon:V},B),placement:"top",className:oe()(j&&`${F}-${j}`,U,N==null?void 0:N.className),style:Object.assign(Object.assign({},N==null?void 0:N.style),K),onClose:()=>{Y==null||Y(),re()}})),()=>{u(Q)}))},x={open:g,destroy:T=>{var M;T!==void 0?u(T):(M=t.current)===null||M===void 0||M.destroy()}};return["info","success","warning","error","loading"].forEach(T=>{const M=(R,N,F)=>{let B;R&&typeof R=="object"&&"content"in R?B=R:B={content:R};let V,j;typeof N=="function"?j=N:(V=N,j=F);const H=Object.assign(Object.assign({onClose:j,duration:V},B),{type:T});return g(H)};x[T]=M}),x},[]),s.createElement(no,Object.assign({key:"message-holder"},e,{ref:t}))]}function ks(e){return si(e)}function qs(){const[e,t]=s.useState([]),o=s.useCallback(i=>(t(u=>[].concat((0,Be.Z)(u),[i])),()=>{t(u=>u.filter(g=>g!==i))}),[]);return[e,o]}var ms=he(62639),di=he(57250),Ya=he(90594),Ss=(0,fe.Z)({},It),Nr=Ss.version,qi=Ss.render,To=Ss.unmountComponentAtNode,wa;try{var Za=Number((Nr||"").split(".")[0]);Za>=18&&(wa=Ss.createRoot)}catch(e){}function Ho(e){var t=Ss.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;t&&(0,Tt.Z)(t)==="object"&&(t.usingClientEntryPoint=e)}var ul="__rc_react_root__";function rs(e,t){Ho(!0);var o=t[ul]||wa(t);Ho(!1),o.render(e),t[ul]=o}function ln(e,t){qi==null||qi(e,t)}function Ke(e,t){}function Pe(e,t){if(wa){rs(e,t);return}ln(e,t)}function rt(e){return Ne.apply(this,arguments)}function Ne(){return Ne=(0,Ya.Z)((0,di.Z)().mark(function e(t){return(0,di.Z)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Promise.resolve().then(function(){var u;(u=t[ul])===null||u===void 0||u.unmount(),delete t[ul]}));case 1:case"end":return i.stop()}},e)})),Ne.apply(this,arguments)}function Ot(e){To(e)}function Kt(e){}function On(e){return Yn.apply(this,arguments)}function Yn(){return Yn=(0,Ya.Z)((0,di.Z)().mark(function e(t){return(0,di.Z)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(wa===void 0){i.next=2;break}return i.abrupt("return",rt(t));case 2:Ot(t);case 3:case"end":return i.stop()}},e)})),Yn.apply(this,arguments)}let qn=(e,t)=>(Pe(e,t),()=>On(t));function Ar(e){qn=e}function li(){return qn}var Bi=he(13635),Pr=he(77648),Ur=he(67699),Cr=he(60784),Er=he(18051),yi=he(60900);const Ji=e=>{const{componentCls:t,colorPrimary:o}=e;return{[t]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${o})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${e.motionEaseOutCirc}`,`opacity 2s ${e.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow ${e.motionDurationSlow} ${e.motionEaseInOut}`,`opacity ${e.motionDurationSlow} ${e.motionEaseInOut}`].join(",")}}}}};var Qo=(0,Ae.A1)("Wave",e=>[Ji(e)]);const Ro=`${De.Rf}-wave-target`;function Ta(e){return e&&e!=="#fff"&&e!=="#ffffff"&&e!=="rgb(255, 255, 255)"&&e!=="rgba(255, 255, 255, 1)"&&!/rgba\((?:\d*, ){3}0\)/.test(e)&&e!=="transparent"}function _a(e){const{borderTopColor:t,borderColor:o,backgroundColor:i}=getComputedStyle(e);return Ta(t)?t:Ta(o)?o:Ta(i)?i:null}function Oa(e){return Number.isNaN(e)?0:e}const Yo=e=>{const{className:t,target:o,component:i,registerUnmount:u}=e,g=s.useRef(null),_=s.useRef(null);s.useEffect(()=>{_.current=u()},[]);const[x,S]=s.useState(null),[T,M]=s.useState([]),[R,N]=s.useState(0),[F,B]=s.useState(0),[V,j]=s.useState(0),[H,U]=s.useState(0),[K,Y]=s.useState(!1),q={left:R,top:F,width:V,height:H,borderRadius:T.map(ae=>`${ae}px`).join(" ")};x&&(q["--wave-color"]=x);function Q(){const ae=getComputedStyle(o);S(_a(o));const se=ae.position==="static",{borderLeftWidth:de,borderTopWidth:pe}=ae;N(se?o.offsetLeft:Oa(-parseFloat(de))),B(se?o.offsetTop:Oa(-parseFloat(pe))),j(o.offsetWidth),U(o.offsetHeight);const{borderTopLeftRadius:ge,borderTopRightRadius:me,borderBottomLeftRadius:be,borderBottomRightRadius:_e}=ae;M([ge,me,_e,be].map(Ie=>Oa(parseFloat(Ie))))}if(s.useEffect(()=>{if(o){const ae=(0,lt.Z)(()=>{Q(),Y(!0)});let se;return typeof ResizeObserver!="undefined"&&(se=new ResizeObserver(Q),se.observe(o)),()=>{lt.Z.cancel(ae),se==null||se.disconnect()}}},[]),!K)return null;const re=(i==="Checkbox"||i==="Radio")&&(o==null?void 0:o.classList.contains(Ro));return s.createElement(mr.ZP,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(ae,se)=>{var de,pe;if(se.deadline||se.propertyName==="opacity"){const ge=(de=g.current)===null||de===void 0?void 0:de.parentElement;(pe=_.current)===null||pe===void 0||pe.call(_).then(()=>{ge==null||ge.remove()})}return!1}},(ae,se)=>{let{className:de}=ae;return s.createElement("div",{ref:(0,zr.sQ)(g,se),className:oe()(t,de,{"wave-quick":re}),style:q})})};var ea=(e,t)=>{var o;const{component:i}=t;if(i==="Checkbox"&&!(!((o=e.querySelector("input"))===null||o===void 0)&&o.checked))return;const u=document.createElement("div");u.style.position="absolute",u.style.left="0px",u.style.top="0px",e==null||e.insertBefore(u,e==null?void 0:e.firstChild);const g=li();let _=null;function x(){return _}_=g(s.createElement(Yo,Object.assign({},t,{target:e,registerUnmount:x})),u)},js=(e,t,o)=>{const{wave:i}=s.useContext(De.E_),[,u,g]=(0,Ur.ZP)(),_=(0,Or.Z)(T=>{const M=e.current;if(i!=null&&i.disabled||!M)return;const R=M.querySelector(`.${Ro}`)||M,{showEffect:N}=i||{};(N||ea)(R,{className:t,token:u,component:o,event:T,hashId:g})}),x=s.useRef(null);return T=>{lt.Z.cancel(x.current),x.current=(0,lt.Z)(()=>{_(T)})}},vl=e=>{const{children:t,disabled:o,component:i}=e,{getPrefixCls:u}=(0,s.useContext)(De.E_),g=(0,s.useRef)(null),_=u("wave"),[,x]=Qo(_),S=js(g,oe()(_,x),i);if(s.useEffect(()=>{const M=g.current;if(!M||M.nodeType!==1||o)return;const R=N=>{!(0,yi.Z)(N.target)||!M.getAttribute||M.getAttribute("disabled")||M.disabled||M.className.includes("disabled")||M.className.includes("-leave")||S(N)};return M.addEventListener("click",R,!0),()=>{M.removeEventListener("click",R,!0)}},[o]),!s.isValidElement(t))return t!=null?t:null;const T=(0,zr.Yr)(t)?(0,zr.sQ)((0,zr.C4)(t),g):g;return(0,wr.Tm)(t,{ref:T})},Ds=he(98472),Ts=he(95741),yl=he(23137),Sc=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};const Fu=s.createContext(void 0);var yu=e=>{const{getPrefixCls:t,direction:o}=s.useContext(De.E_),{prefixCls:i,size:u,className:g}=e,_=Sc(e,["prefixCls","size","className"]),x=t("btn-group",i),[,,S]=(0,Ur.ZP)(),T=s.useMemo(()=>{switch(u){case"large":return"lg";case"small":return"sm";default:return""}},[u]),M=oe()(x,{[`${x}-${T}`]:T,[`${x}-rtl`]:o==="rtl"},g,S);return s.createElement(Fu.Provider,{value:u},s.createElement("div",Object.assign({},_,{className:M})))},Fl=he(98990);const dl=/^[\u4E00-\u9FA5]{2}$/,xc=dl.test.bind(dl);function Yc(e){return e==="danger"?{danger:!0}:{type:e}}function au(e){return typeof e=="string"}function ku(e){return e==="text"||e==="link"}function Mh(e,t){if(e==null)return;const o=t?" ":"";return typeof e!="string"&&typeof e!="number"&&au(e.type)&&xc(e.props.children)?(0,wr.Tm)(e,{children:e.props.children.split("").join(o)}):au(e)?xc(e)?s.createElement("span",null,e.split("").join(o)):s.createElement("span",null,e):(0,wr.M2)(e)?s.createElement("span",null,e):e}function Zd(e,t){let o=!1;const i=[];return s.Children.forEach(e,u=>{const g=typeof u,_=g==="string"||g==="number";if(o&&_){const x=i.length-1,S=i[x];i[x]=`${S}${u}`}else i.push(u);o=_}),s.Children.map(i,u=>Mh(u,t))}const su=null,qo=null,ji=null,Vd=null,vo=["default","primary","danger"].concat((0,Be.Z)(Fl.i));var _u=(0,s.forwardRef)((e,t)=>{const{className:o,style:i,children:u,prefixCls:g}=e,_=oe()(`${g}-icon`,o);return s.createElement("span",{ref:t,className:_,style:i},u)});const fo=(0,s.forwardRef)((e,t)=>{const{prefixCls:o,className:i,style:u,iconClassName:g}=e,_=oe()(`${o}-loading-icon`,i);return s.createElement(_u,{prefixCls:o,className:_,style:u,ref:t},s.createElement(mo.Z,{className:g}))}),uc=()=>({width:0,opacity:0,transform:"scale(0)"}),Bc=e=>({width:e.scrollWidth,opacity:1,transform:"scale(1)"});var Hd=e=>{const{prefixCls:t,loading:o,existIcon:i,className:u,style:g,mount:_}=e,x=!!o;return i?s.createElement(fo,{prefixCls:t,className:u,style:g}):s.createElement(mr.ZP,{visible:x,motionName:`${t}-loading-icon-motion`,motionAppear:!_,motionEnter:!_,motionLeave:!_,removeOnLeave:!0,onAppearStart:uc,onAppearActive:Bc,onEnterStart:uc,onEnterActive:Bc,onLeaveStart:Bc,onLeaveActive:uc},(S,T)=>{let{className:M,style:R}=S;const N=Object.assign(Object.assign({},g),R);return s.createElement(fo,{prefixCls:t,className:oe()(u,M),style:N,ref:T})})};const Ql=(e,t)=>({[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineEndColor:t}}},"&:not(:first-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineStartColor:t}}}}});var Fr=e=>{const{componentCls:t,fontSize:o,lineWidth:i,groupBorderColor:u,colorErrorHover:g}=e;return{[`${t}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${t}`]:{"&:not(:last-child)":{[`&, & > ${t}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:e.calc(i).mul(-1).equal(),[`&, & > ${t}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[t]:{position:"relative",zIndex:1,"&:hover, &:focus, &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${t}-icon-only`]:{fontSize:o}},Ql(`${t}-primary`,u),Ql(`${t}-danger`,g)]}},bu=he(56216),Es=he(84432),fd=["b"],Mt=["v"],tn=function(t){return Math.round(Number(t||0))},hn=function(t){if(t instanceof Es.t)return t;if(t&&(0,Tt.Z)(t)==="object"&&"h"in t&&"b"in t){var o=t,i=o.b,u=(0,Ve.Z)(o,fd);return(0,fe.Z)((0,fe.Z)({},u),{},{v:i})}return typeof t=="string"&&/hsb/.test(t)?t.replace(/hsb/,"hsv"):t},wn=function(e){(0,Gr.Z)(o,e);var t=(0,bu.Z)(o);function o(i){return(0,ri.Z)(this,o),t.call(this,hn(i))}return(0,Ko.Z)(o,[{key:"toHsbString",value:function(){var u=this.toHsb(),g=tn(u.s*100),_=tn(u.b*100),x=tn(u.h),S=u.a,T="hsb(".concat(x,", ").concat(g,"%, ").concat(_,"%)"),M="hsba(".concat(x,", ").concat(g,"%, ").concat(_,"%, ").concat(S.toFixed(S===0?0:2),")");return S===1?T:M}},{key:"toHsb",value:function(){var u=this.toHsv(),g=u.v,_=(0,Ve.Z)(u,Mt);return(0,fe.Z)((0,fe.Z)({},_),{},{b:g,a:this.a})}}]),o}(Es.t),rr="rc-color-picker",qr=function(t){return t instanceof wn?t:new wn(t)},_i=qr("#1677ff"),ni=function(t){var o=t.offset,i=t.targetRef,u=t.containerRef,g=t.color,_=t.type,x=u.current.getBoundingClientRect(),S=x.width,T=x.height,M=i.current.getBoundingClientRect(),R=M.width,N=M.height,F=R/2,B=N/2,V=(o.x+F)/S,j=1-(o.y+B)/T,H=g.toHsb(),U=V,K=(o.x+F)/S*360;if(_)switch(_){case"hue":return qr((0,fe.Z)((0,fe.Z)({},H),{},{h:K<=0?0:K}));case"alpha":return qr((0,fe.Z)((0,fe.Z)({},H),{},{a:U<=0?0:U}))}return qr({h:H.h,s:V<=0?0:V,b:j>=1?1:j,a:H.a})},Ri=function(t,o){var i=t.toHsb();switch(o){case"hue":return{x:i.h/360*100,y:50};case"alpha":return{x:t.a*100,y:50};default:return{x:i.s*100,y:(1-i.b)*100}}},ro=function(t){var o=t.color,i=t.prefixCls,u=t.className,g=t.style,_=t.onClick,x="".concat(i,"-color-block");return s.createElement("div",{className:oe()(x,u),style:g,onClick:_},s.createElement("div",{className:"".concat(x,"-inner"),style:{background:o}}))},yo=ro;function ko(e){var t="touches"in e?e.touches[0]:e,o=document.documentElement.scrollLeft||document.body.scrollLeft||window.pageXOffset,i=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset;return{pageX:t.pageX-o,pageY:t.pageY-i}}function io(e){var t=e.targetRef,o=e.containerRef,i=e.direction,u=e.onDragChange,g=e.onDragChangeComplete,_=e.calculate,x=e.color,S=e.disabledDrag,T=(0,s.useState)({x:0,y:0}),M=(0,ve.Z)(T,2),R=M[0],N=M[1],F=(0,s.useRef)(null),B=(0,s.useRef)(null);(0,s.useEffect)(function(){N(_())},[x]),(0,s.useEffect)(function(){return function(){document.removeEventListener("mousemove",F.current),document.removeEventListener("mouseup",B.current),document.removeEventListener("touchmove",F.current),document.removeEventListener("touchend",B.current),F.current=null,B.current=null}},[]);var V=function(Y){var q=ko(Y),Q=q.pageX,re=q.pageY,ae=o.current.getBoundingClientRect(),se=ae.x,de=ae.y,pe=ae.width,ge=ae.height,me=t.current.getBoundingClientRect(),be=me.width,_e=me.height,Ie=be/2,Ce=_e/2,Le=Math.max(0,Math.min(Q-se,pe))-Ie,ze=Math.max(0,Math.min(re-de,ge))-Ce,ke={x:Le,y:i==="x"?R.y:ze};if(be===0&&_e===0||be!==_e)return!1;u==null||u(ke)},j=function(Y){Y.preventDefault(),V(Y)},H=function(Y){Y.preventDefault(),document.removeEventListener("mousemove",F.current),document.removeEventListener("mouseup",B.current),document.removeEventListener("touchmove",F.current),document.removeEventListener("touchend",B.current),F.current=null,B.current=null,g==null||g()},U=function(Y){document.removeEventListener("mousemove",F.current),document.removeEventListener("mouseup",B.current),!S&&(V(Y),document.addEventListener("mousemove",j),document.addEventListener("mouseup",H),document.addEventListener("touchmove",j),document.addEventListener("touchend",H),F.current=j,B.current=H)};return[R,U]}var sa=io,Qi=he(22217),ta=function(t){var o=t.size,i=o===void 0?"default":o,u=t.color,g=t.prefixCls;return s.createElement("div",{className:oe()("".concat(g,"-handler"),(0,Ee.Z)({},"".concat(g,"-handler-sm"),i==="small")),style:{backgroundColor:u}})},Aa=ta,ls=function(t){var o=t.children,i=t.style,u=t.prefixCls;return s.createElement("div",{className:"".concat(u,"-palette"),style:(0,fe.Z)({position:"relative"},i)},o)},ba=ls,is=(0,s.forwardRef)(function(e,t){var o=e.children,i=e.x,u=e.y;return s.createElement("div",{ref:t,style:{position:"absolute",left:"".concat(i,"%"),top:"".concat(u,"%"),zIndex:1,transform:"translate(-50%, -50%)"}},o)}),La=is,cs=function(t){var o=t.color,i=t.onChange,u=t.prefixCls,g=t.onChangeComplete,_=t.disabled,x=(0,s.useRef)(),S=(0,s.useRef)(),T=(0,s.useRef)(o),M=(0,Qi.zX)(function(V){var j=ni({offset:V,targetRef:S,containerRef:x,color:o});T.current=j,i(j)}),R=sa({color:o,containerRef:x,targetRef:S,calculate:function(){return Ri(o)},onDragChange:M,onDragChangeComplete:function(){return g==null?void 0:g(T.current)},disabledDrag:_}),N=(0,ve.Z)(R,2),F=N[0],B=N[1];return s.createElement("div",{ref:x,className:"".concat(u,"-select"),onMouseDown:B,onTouchStart:B},s.createElement(ba,{prefixCls:u},s.createElement(La,{x:F.x,y:F.y,ref:S},s.createElement(Aa,{color:o.toRgbString(),prefixCls:u})),s.createElement("div",{className:"".concat(u,"-saturation"),style:{backgroundColor:"hsl(".concat(o.toHsb().h,",100%, 50%)"),backgroundImage:"linear-gradient(0deg, #000, transparent),linear-gradient(90deg, #fff, hsla(0, 0%, 100%, 0))"}})))},Va=cs,Ia=function(t,o){var i=(0,Qi.C8)(t,{value:o}),u=(0,ve.Z)(i,2),g=u[0],_=u[1],x=(0,s.useMemo)(function(){return qr(g)},[g]);return[x,_]},zs=Ia,Wl=function(t){var o=t.colors,i=t.children,u=t.direction,g=u===void 0?"to right":u,_=t.type,x=t.prefixCls,S=(0,s.useMemo)(function(){return o.map(function(T,M){var R=qr(T);return _==="alpha"&&M===o.length-1&&(R=new wn(R.setA(1))),R.toRgbString()}).join(",")},[o,_]);return s.createElement("div",{className:"".concat(x,"-gradient"),style:{position:"absolute",inset:0,background:"linear-gradient(".concat(g,", ").concat(S,")")}},i)},_l=Wl,lu=function(t){var o=t.prefixCls,i=t.colors,u=t.disabled,g=t.onChange,_=t.onChangeComplete,x=t.color,S=t.type,T=(0,s.useRef)(),M=(0,s.useRef)(),R=(0,s.useRef)(x),N=function(q){return S==="hue"?q.getHue():q.a*100},F=(0,Qi.zX)(function(Y){var q=ni({offset:Y,targetRef:M,containerRef:T,color:x,type:S});R.current=q,g(N(q))}),B=sa({color:x,targetRef:M,containerRef:T,calculate:function(){return Ri(x,S)},onDragChange:F,onDragChangeComplete:function(){_(N(R.current))},direction:"x",disabledDrag:u}),V=(0,ve.Z)(B,2),j=V[0],H=V[1],U=s.useMemo(function(){if(S==="hue"){var Y=x.toHsb();Y.s=1,Y.b=1,Y.a=1;var q=new wn(Y);return q}return x},[x,S]),K=s.useMemo(function(){return i.map(function(Y){return"".concat(Y.color," ").concat(Y.percent,"%")})},[i]);return s.createElement("div",{ref:T,className:oe()("".concat(o,"-slider"),"".concat(o,"-slider-").concat(S)),onMouseDown:H,onTouchStart:H},s.createElement(ba,{prefixCls:o},s.createElement(La,{x:j.x,y:j.y,ref:M},s.createElement(Aa,{size:"small",color:U.toHexString(),prefixCls:o})),s.createElement(_l,{colors:K,type:S,prefixCls:o})))},Vu=lu;function kl(e){return s.useMemo(function(){var t=e||{},o=t.slider;return[o||Vu]},[e])}var Ml=[{color:"rgb(255, 0, 0)",percent:0},{color:"rgb(255, 255, 0)",percent:17},{color:"rgb(0, 255, 0)",percent:33},{color:"rgb(0, 255, 255)",percent:50},{color:"rgb(0, 0, 255)",percent:67},{color:"rgb(255, 0, 255)",percent:83},{color:"rgb(255, 0, 0)",percent:100}],Al=(0,s.forwardRef)(function(e,t){var o=e.value,i=e.defaultValue,u=e.prefixCls,g=u===void 0?rr:u,_=e.onChange,x=e.onChangeComplete,S=e.className,T=e.style,M=e.panelRender,R=e.disabledAlpha,N=R===void 0?!1:R,F=e.disabled,B=F===void 0?!1:F,V=e.components,j=kl(V),H=(0,ve.Z)(j,1),U=H[0],K=zs(i||_i,o),Y=(0,ve.Z)(K,2),q=Y[0],Q=Y[1],re=(0,s.useMemo)(function(){return q.setA(1).toRgbString()},[q]),ae=function(ze,ke){o||Q(ze),_==null||_(ze,ke)},se=function(ze){return new wn(q.setHue(ze))},de=function(ze){return new wn(q.setA(ze/100))},pe=function(ze){ae(se(ze),{type:"hue",value:ze})},ge=function(ze){ae(de(ze),{type:"alpha",value:ze})},me=function(ze){x&&x(se(ze))},be=function(ze){x&&x(de(ze))},_e=oe()("".concat(g,"-panel"),S,(0,Ee.Z)({},"".concat(g,"-panel-disabled"),B)),Ie={prefixCls:g,disabled:B,color:q},Ce=s.createElement(s.Fragment,null,s.createElement(Va,(0,Pt.Z)({onChange:ae},Ie,{onChangeComplete:x})),s.createElement("div",{className:"".concat(g,"-slider-container")},s.createElement("div",{className:oe()("".concat(g,"-slider-group"),(0,Ee.Z)({},"".concat(g,"-slider-group-disabled-alpha"),N))},s.createElement(U,(0,Pt.Z)({},Ie,{type:"hue",colors:Ml,min:0,max:359,value:q.getHue(),onChange:pe,onChangeComplete:me})),!N&&s.createElement(U,(0,Pt.Z)({},Ie,{type:"alpha",colors:[{percent:0,color:"rgba(255, 0, 4, 0)"},{percent:100,color:re}],min:0,max:100,value:q.a*100,onChange:ge,onChangeComplete:be}))),s.createElement(yo,{color:q.toRgbString(),prefixCls:g})));return s.createElement("div",{className:_e,style:T,ref:t},typeof M=="function"?M(Ce):Ce)}),dc=Al,fc=dc;const Dl=(e,t)=>(e==null?void 0:e.replace(/[^\w/]/g,"").slice(0,t?8:6))||"",jl=(e,t)=>e?Dl(e,t):"";let Qs=function(){function e(t){(0,ri.Z)(this,e);var o;if(this.cleared=!1,t instanceof e){this.metaColor=t.metaColor.clone(),this.colors=(o=t.colors)===null||o===void 0?void 0:o.map(u=>({color:new e(u.color),percent:u.percent})),this.cleared=t.cleared;return}const i=Array.isArray(t);i&&t.length?(this.colors=t.map(u=>{let{color:g,percent:_}=u;return{color:new e(g),percent:_}}),this.metaColor=new wn(this.colors[0].color.metaColor)):this.metaColor=new wn(i?"":t),(!t||i&&!this.colors)&&(this.metaColor=this.metaColor.setA(0),this.cleared=!0)}return(0,Ko.Z)(e,[{key:"toHsb",value:function(){return this.metaColor.toHsb()}},{key:"toHsbString",value:function(){return this.metaColor.toHsbString()}},{key:"toHex",value:function(){return jl(this.toHexString(),this.metaColor.a<1)}},{key:"toHexString",value:function(){return this.metaColor.toHexString()}},{key:"toRgb",value:function(){return this.metaColor.toRgb()}},{key:"toRgbString",value:function(){return this.metaColor.toRgbString()}},{key:"isGradient",value:function(){return!!this.colors&&!this.cleared}},{key:"getColors",value:function(){return this.colors||[{color:this,percent:0}]}},{key:"toCssString",value:function(){const{colors:o}=this;return o?`linear-gradient(90deg, ${o.map(u=>`${u.color.toRgbString()} ${u.percent}%`).join(", ")})`:this.metaColor.toRgbString()}},{key:"equals",value:function(o){return!o||this.isGradient()!==o.isGradient()?!1:this.isGradient()?this.colors.length===o.colors.length&&this.colors.every((i,u)=>{const g=o.colors[u];return i.percent===g.percent&&i.color.equals(g.color)}):this.toHexString()===o.toHexString()}}])}();var Jo=he(93954),ec={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"},Cc=ec,Zl=function(t,o){return s.createElement(Fn.Z,(0,Pt.Z)({},t,{ref:o,icon:Cc}))},Na=s.forwardRef(Zl),Pc=Na,zl=he(4449),El=he(81626),Ph=s.forwardRef(function(e,t){var o=e.prefixCls,i=e.forceRender,u=e.className,g=e.style,_=e.children,x=e.isActive,S=e.role,T=e.classNames,M=e.styles,R=s.useState(x||i),N=(0,ve.Z)(R,2),F=N[0],B=N[1];return s.useEffect(function(){(i||x)&&B(!0)},[i,x]),F?s.createElement("div",{ref:t,className:oe()("".concat(o,"-content"),(0,Ee.Z)((0,Ee.Z)({},"".concat(o,"-content-active"),x),"".concat(o,"-content-inactive"),!x),u),style:g,role:S},s.createElement("div",{className:oe()("".concat(o,"-content-box"),T==null?void 0:T.body),style:M==null?void 0:M.body},_)):null});Ph.displayName="PanelContent";var Om=Ph,Gs=["showArrow","headerClass","isActive","onItemClick","forceRender","className","classNames","styles","prefixCls","collapsible","accordion","panelKey","extra","header","expandIcon","openMotion","destroyInactivePanel","children"],Ud=s.forwardRef(function(e,t){var o=e.showArrow,i=o===void 0?!0:o,u=e.headerClass,g=e.isActive,_=e.onItemClick,x=e.forceRender,S=e.className,T=e.classNames,M=T===void 0?{}:T,R=e.styles,N=R===void 0?{}:R,F=e.prefixCls,B=e.collapsible,V=e.accordion,j=e.panelKey,H=e.extra,U=e.header,K=e.expandIcon,Y=e.openMotion,q=e.destroyInactivePanel,Q=e.children,re=(0,Ve.Z)(e,Gs),ae=B==="disabled",se=H!=null&&typeof H!="boolean",de=(0,Ee.Z)((0,Ee.Z)((0,Ee.Z)({onClick:function(){_==null||_(j)},onKeyDown:function(Ce){(Ce.key==="Enter"||Ce.keyCode===nt.Z.ENTER||Ce.which===nt.Z.ENTER)&&(_==null||_(j))},role:V?"tab":"button"},"aria-expanded",g),"aria-disabled",ae),"tabIndex",ae?-1:0),pe=typeof K=="function"?K(e):s.createElement("i",{className:"arrow"}),ge=pe&&s.createElement("div",(0,Pt.Z)({className:"".concat(F,"-expand-icon")},["header","icon"].includes(B)?de:{}),pe),me=oe()("".concat(F,"-item"),(0,Ee.Z)((0,Ee.Z)({},"".concat(F,"-item-active"),g),"".concat(F,"-item-disabled"),ae),S),be=oe()(u,"".concat(F,"-header"),(0,Ee.Z)({},"".concat(F,"-collapsible-").concat(B),!!B),M.header),_e=(0,fe.Z)({className:be,style:N.header},["header","icon"].includes(B)?{}:de);return s.createElement("div",(0,Pt.Z)({},re,{ref:t,className:me}),s.createElement("div",_e,i&&ge,s.createElement("span",(0,Pt.Z)({className:"".concat(F,"-header-text")},B==="header"?de:{}),U),se&&s.createElement("div",{className:"".concat(F,"-extra")},H)),s.createElement(mr.ZP,(0,Pt.Z)({visible:g,leavedClassName:"".concat(F,"-content-hidden")},Y,{forceRender:x,removeOnLeave:q}),function(Ie,Ce){var Le=Ie.className,ze=Ie.style;return s.createElement(Om,{ref:Ce,prefixCls:F,className:Le,classNames:M,style:ze,styles:N,isActive:g,forceRender:x,role:V?"tabpanel":void 0},Q)}))}),Pf=Ud,Wd=["children","label","key","collapsible","onItemClick","destroyInactivePanel"],Oh=function(t,o){var i=o.prefixCls,u=o.accordion,g=o.collapsible,_=o.destroyInactivePanel,x=o.onItemClick,S=o.activeKey,T=o.openMotion,M=o.expandIcon;return t.map(function(R,N){var F=R.children,B=R.label,V=R.key,j=R.collapsible,H=R.onItemClick,U=R.destroyInactivePanel,K=(0,Ve.Z)(R,Wd),Y=String(V!=null?V:N),q=j!=null?j:g,Q=U!=null?U:_,re=function(de){q!=="disabled"&&(x(de),H==null||H(de))},ae=!1;return u?ae=S[0]===Y:ae=S.indexOf(Y)>-1,s.createElement(Pf,(0,Pt.Z)({},K,{prefixCls:i,key:Y,panelKey:Y,isActive:ae,accordion:u,openMotion:T,expandIcon:M,header:B,collapsible:q,onItemClick:re,destroyInactivePanel:Q}),F)})},Of=function(t,o,i){if(!t)return null;var u=i.prefixCls,g=i.accordion,_=i.collapsible,x=i.destroyInactivePanel,S=i.onItemClick,T=i.activeKey,M=i.openMotion,R=i.expandIcon,N=t.key||String(o),F=t.props,B=F.header,V=F.headerClass,j=F.destroyInactivePanel,H=F.collapsible,U=F.onItemClick,K=!1;g?K=T[0]===N:K=T.indexOf(N)>-1;var Y=H!=null?H:_,q=function(ae){Y!=="disabled"&&(S(ae),U==null||U(ae))},Q={key:N,panelKey:N,header:B,headerClass:V,isActive:K,prefixCls:u,destroyInactivePanel:j!=null?j:x,openMotion:M,accordion:g,children:t.props.children,onItemClick:q,expandIcon:R,collapsible:Y};return typeof t.type=="string"?t:(Object.keys(Q).forEach(function(re){typeof Q[re]=="undefined"&&delete Q[re]}),s.cloneElement(t,Q))};function Ip(e,t,o){return Array.isArray(e)?Oh(e,o):(0,El.Z)(t).map(function(i,u){return Of(i,u,o)})}var $h=Ip;function hd(e){var t=e;if(!Array.isArray(t)){var o=(0,Tt.Z)(t);t=o==="number"||o==="string"?[t]:[]}return t.map(function(i){return String(i)})}var Gd=s.forwardRef(function(e,t){var o=e.prefixCls,i=o===void 0?"rc-collapse":o,u=e.destroyInactivePanel,g=u===void 0?!1:u,_=e.style,x=e.accordion,S=e.className,T=e.children,M=e.collapsible,R=e.openMotion,N=e.expandIcon,F=e.activeKey,B=e.defaultActiveKey,V=e.onChange,j=e.items,H=oe()(i,S),U=(0,Jo.Z)([],{value:F,onChange:function(se){return V==null?void 0:V(se)},defaultValue:B,postState:hd}),K=(0,ve.Z)(U,2),Y=K[0],q=K[1],Q=function(se){return q(function(){if(x)return Y[0]===se?[]:[se];var de=Y.indexOf(se),pe=de>-1;return pe?Y.filter(function(ge){return ge!==se}):[].concat((0,Be.Z)(Y),[se])})};(0,zl.ZP)(!T,"[rc-collapse] `children` will be removed in next major version. Please use `items` instead.");var re=$h(j,T,{prefixCls:i,accordion:x,openMotion:R,expandIcon:N,collapsible:M,destroyInactivePanel:g,onItemClick:Q,activeKey:Y});return s.createElement("div",(0,Pt.Z)({ref:t,className:H,style:_,role:x?"tablist":void 0},(0,ir.Z)(e,{aria:!0,data:!0})),re)}),$f=Object.assign(Gd,{Panel:Pf}),rc=$f,Rh=$f.Panel,Af=s.forwardRef((e,t)=>{const{getPrefixCls:o}=s.useContext(De.E_),{prefixCls:i,className:u,showArrow:g=!0}=e,_=o("collapse",i),x=oe()({[`${_}-no-arrow`]:!g},u);return s.createElement(rc.Panel,Object.assign({ref:t},e,{prefixCls:_,className:x}))}),pd=he(40894);const Ah=e=>{const{componentCls:t,contentBg:o,padding:i,headerBg:u,headerPadding:g,collapseHeaderPaddingSM:_,collapseHeaderPaddingLG:x,collapsePanelBorderRadius:S,lineWidth:T,lineType:M,colorBorder:R,colorText:N,colorTextHeading:F,colorTextDisabled:B,fontSizeLG:V,lineHeight:j,lineHeightLG:H,marginSM:U,paddingSM:K,paddingLG:Y,paddingXS:q,motionDurationSlow:Q,fontSizeIcon:re,contentPadding:ae,fontHeight:se,fontHeightLG:de}=e,pe=`${(0,J.bf)(T)} ${M} ${R}`;return{[t]:Object.assign(Object.assign({},(0,mn.Wf)(e)),{backgroundColor:u,border:pe,borderRadius:S,"&-rtl":{direction:"rtl"},[`& > ${t}-item`]:{borderBottom:pe,"&:first-child":{[`
            &,
            & > ${t}-header`]:{borderRadius:`${(0,J.bf)(S)} ${(0,J.bf)(S)} 0 0`}},"&:last-child":{[`
            &,
            & > ${t}-header`]:{borderRadius:`0 0 ${(0,J.bf)(S)} ${(0,J.bf)(S)}`}},[`> ${t}-header`]:Object.assign(Object.assign({position:"relative",display:"flex",flexWrap:"nowrap",alignItems:"flex-start",padding:g,color:F,lineHeight:j,cursor:"pointer",transition:`all ${Q}, visibility 0s`},(0,mn.Qy)(e)),{[`> ${t}-header-text`]:{flex:"auto"},[`${t}-expand-icon`]:{height:se,display:"flex",alignItems:"center",paddingInlineEnd:U},[`${t}-arrow`]:Object.assign(Object.assign({},(0,mn.Ro)()),{fontSize:re,transition:`transform ${Q}`,svg:{transition:`transform ${Q}`}}),[`${t}-header-text`]:{marginInlineEnd:"auto"}}),[`${t}-collapsible-header`]:{cursor:"default",[`${t}-header-text`]:{flex:"none",cursor:"pointer"}},[`${t}-collapsible-icon`]:{cursor:"unset",[`${t}-expand-icon`]:{cursor:"pointer"}}},[`${t}-content`]:{color:N,backgroundColor:o,borderTop:pe,[`& > ${t}-content-box`]:{padding:ae},"&-hidden":{display:"none"}},"&-small":{[`> ${t}-item`]:{[`> ${t}-header`]:{padding:_,paddingInlineStart:q,[`> ${t}-expand-icon`]:{marginInlineStart:e.calc(K).sub(q).equal()}},[`> ${t}-content > ${t}-content-box`]:{padding:K}}},"&-large":{[`> ${t}-item`]:{fontSize:V,lineHeight:H,[`> ${t}-header`]:{padding:x,paddingInlineStart:i,[`> ${t}-expand-icon`]:{height:de,marginInlineStart:e.calc(Y).sub(i).equal()}},[`> ${t}-content > ${t}-content-box`]:{padding:Y}}},[`${t}-item:last-child`]:{borderBottom:0,[`> ${t}-content`]:{borderRadius:`0 0 ${(0,J.bf)(S)} ${(0,J.bf)(S)}`}},[`& ${t}-item-disabled > ${t}-header`]:{"\n          &,\n          & > .arrow\n        ":{color:B,cursor:"not-allowed"}},[`&${t}-icon-position-end`]:{[`& > ${t}-item`]:{[`> ${t}-header`]:{[`${t}-expand-icon`]:{order:1,paddingInlineEnd:0,paddingInlineStart:U}}}}})}},Df=e=>{const{componentCls:t}=e,o=`> ${t}-item > ${t}-header ${t}-arrow`;return{[`${t}-rtl`]:{[o]:{transform:"rotate(180deg)"}}}},Dh=e=>{const{componentCls:t,headerBg:o,paddingXXS:i,colorBorder:u}=e;return{[`${t}-borderless`]:{backgroundColor:o,border:0,[`> ${t}-item`]:{borderBottom:`1px solid ${u}`},[`
        > ${t}-item:last-child,
        > ${t}-item:last-child ${t}-header
      `]:{borderRadius:0},[`> ${t}-item:last-child`]:{borderBottom:0},[`> ${t}-item > ${t}-content`]:{backgroundColor:"transparent",borderTop:0},[`> ${t}-item > ${t}-content > ${t}-content-box`]:{paddingTop:i}}}},cu=e=>{const{componentCls:t,paddingSM:o}=e;return{[`${t}-ghost`]:{backgroundColor:"transparent",border:0,[`> ${t}-item`]:{borderBottom:0,[`> ${t}-content`]:{backgroundColor:"transparent",border:0,[`> ${t}-content-box`]:{paddingBlock:o}}}}}},Xd=e=>({headerPadding:`${e.paddingSM}px ${e.padding}px`,headerBg:e.colorFillAlter,contentPadding:`${e.padding}px 16px`,contentBg:e.colorBgContainer});var Tp=(0,Ae.I$)("Collapse",e=>{const t=(0,vn.IX)(e,{collapseHeaderPaddingSM:`${(0,J.bf)(e.paddingXS)} ${(0,J.bf)(e.paddingSM)}`,collapseHeaderPaddingLG:`${(0,J.bf)(e.padding)} ${(0,J.bf)(e.paddingLG)}`,collapsePanelBorderRadius:e.borderRadiusLG});return[Ah(t),Dh(t),cu(t),Df(t),(0,pd.Z)(t)]},Xd),Hu=Object.assign(s.forwardRef((e,t)=>{const{getPrefixCls:o,direction:i,expandIcon:u,className:g,style:_}=(0,De.dj)("collapse"),{prefixCls:x,className:S,rootClassName:T,style:M,bordered:R=!0,ghost:N,size:F,expandIconPosition:B="start",children:V,expandIcon:j}=e,H=(0,Ts.Z)(me=>{var be;return(be=F!=null?F:me)!==null&&be!==void 0?be:"middle"}),U=o("collapse",x),K=o(),[Y,q,Q]=Tp(U),re=s.useMemo(()=>B==="left"?"start":B==="right"?"end":B,[B]),ae=j!=null?j:u,se=s.useCallback(function(){let me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const be=typeof ae=="function"?ae(me):s.createElement(Pc,{rotate:me.isActive?i==="rtl"?-90:90:void 0,"aria-label":me.isActive?"expanded":"collapsed"});return(0,wr.Tm)(be,()=>{var _e;return{className:oe()((_e=be==null?void 0:be.props)===null||_e===void 0?void 0:_e.className,`${U}-arrow`)}})},[ae,U]),de=oe()(`${U}-icon-position-${re}`,{[`${U}-borderless`]:!R,[`${U}-rtl`]:i==="rtl",[`${U}-ghost`]:!!N,[`${U}-${H}`]:H!=="middle"},g,S,T,q,Q),pe=Object.assign(Object.assign({},(0,Bi.Z)(K)),{motionAppear:!1,leavedClassName:`${U}-content-hidden`}),ge=s.useMemo(()=>V?(0,El.Z)(V).map((me,be)=>{var _e,Ie;const Ce=me.props;if(Ce!=null&&Ce.disabled){const Le=(_e=me.key)!==null&&_e!==void 0?_e:String(be),ze=Object.assign(Object.assign({},(0,Er.Z)(me.props,["disabled"])),{key:Le,collapsible:(Ie=Ce.collapsible)!==null&&Ie!==void 0?Ie:"disabled"});return(0,wr.Tm)(me,ze)}return me}):null,[V]);return Y(s.createElement(rc,Object.assign({ref:t,openMotion:pe},(0,Er.Z)(e,["rootClassName"]),{expandIcon:se,prefixCls:U,className:de,style:Object.assign(Object.assign({},_),M)}),ge))}),{Panel:Af}),qd=Hu;const ic=e=>e instanceof Qs?e:new Qs(e),Kd=e=>Math.round(Number(e||0)),zh=e=>Kd(e.toHsb().a*100),zf=(e,t)=>{const o=e.toRgb();if(!o.r&&!o.g&&!o.b){const i=e.toHsb();return i.a=t||1,ic(i)}return o.a=t||1,ic(o)},Lh=(e,t)=>{const o=[{percent:0,color:e[0].color}].concat((0,Be.Z)(e),[{percent:100,color:e[e.length-1].color}]);for(let i=0;i<o.length-1;i+=1){const u=o[i].percent,g=o[i+1].percent,_=o[i].color,x=o[i+1].color;if(u<=t&&t<=g){const S=g-u;if(S===0)return _;const T=(t-u)/S*100,M=new wn(_),R=new wn(x);return M.mix(R,T).toRgbString()}}return""},Yd=e=>e.map(t=>(t.colors=t.colors.map(ic),t)),Lf=(e,t)=>{const{r:o,g:i,b:u,a:g}=e.toRgb(),_=new wn(e.toRgbString()).onBackground(t).toHsv();return g<=.5?_.v>.5:o*.299+i*.587+u*.114>192},Jd=(e,t)=>{var o;return`panel-${(o=e.key)!==null&&o!==void 0?o:t}`};var Vn=e=>{let{prefixCls:t,presets:o,value:i,onChange:u}=e;const[g]=(0,Pr.Z)("ColorPicker"),[,_]=(0,Ur.ZP)(),[x]=(0,Jo.Z)(Yd(o),{value:Yd(o),postState:Yd}),S=`${t}-presets`,T=(0,s.useMemo)(()=>x.reduce((N,F,B)=>{const{defaultOpen:V=!0}=F;return V&&N.push(Jd(F,B)),N},[]),[x]),M=N=>{u==null||u(N)},R=x.map((N,F)=>{var B;return{key:Jd(N,F),label:s.createElement("div",{className:`${S}-label`},N==null?void 0:N.label),children:s.createElement("div",{className:`${S}-items`},Array.isArray(N==null?void 0:N.colors)&&((B=N.colors)===null||B===void 0?void 0:B.length)>0?N.colors.map((V,j)=>s.createElement(yo,{key:`preset-${j}-${V.toHexString()}`,color:ic(V).toRgbString(),prefixCls:t,className:oe()(`${S}-color`,{[`${S}-color-checked`]:V.toHexString()===(i==null?void 0:i.toHexString()),[`${S}-color-bright`]:Lf(V,_.colorBgElevated)}),onClick:()=>M(V)})):s.createElement("span",{className:`${S}-empty`},g.presetEmpty))}});return s.createElement("div",{className:S},s.createElement(qd,{defaultActiveKey:T,ghost:!0,items:R}))},ii=he(78611),Mo=he(58570);const nl=e=>{const{paddingInline:t,onlyIconSize:o}=e;return(0,vn.IX)(e,{buttonPaddingHorizontal:t,buttonPaddingVertical:0,buttonIconOnlyFontSize:o})},Ha=e=>{var t,o,i,u,g,_;const x=(t=e.contentFontSize)!==null&&t!==void 0?t:e.fontSize,S=(o=e.contentFontSizeSM)!==null&&o!==void 0?o:e.fontSize,T=(i=e.contentFontSizeLG)!==null&&i!==void 0?i:e.fontSizeLG,M=(u=e.contentLineHeight)!==null&&u!==void 0?u:(0,ii.D)(x),R=(g=e.contentLineHeightSM)!==null&&g!==void 0?g:(0,ii.D)(S),N=(_=e.contentLineHeightLG)!==null&&_!==void 0?_:(0,ii.D)(T),F=Lf(new Qs(e.colorBgSolid),"#fff")?"#000":"#fff",B=Fl.i.reduce((V,j)=>Object.assign(Object.assign({},V),{[`${j}ShadowColor`]:`0 ${(0,J.bf)(e.controlOutlineWidth)} 0 ${(0,Mo.Z)(e[`${j}1`],e.colorBgContainer)}`}),{});return Object.assign(Object.assign({},B),{fontWeight:400,defaultShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlTmpOutline}`,primaryShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlOutline}`,dangerShadow:`0 ${e.controlOutlineWidth}px 0 ${e.colorErrorOutline}`,primaryColor:e.colorTextLightSolid,dangerColor:e.colorTextLightSolid,borderColorDisabled:e.colorBorder,defaultGhostColor:e.colorBgContainer,ghostBg:"transparent",defaultGhostBorderColor:e.colorBgContainer,paddingInline:e.paddingContentHorizontal-e.lineWidth,paddingInlineLG:e.paddingContentHorizontal-e.lineWidth,paddingInlineSM:8-e.lineWidth,onlyIconSize:"inherit",onlyIconSizeSM:"inherit",onlyIconSizeLG:"inherit",groupBorderColor:e.colorPrimaryHover,linkHoverBg:"transparent",textTextColor:e.colorText,textTextHoverColor:e.colorText,textTextActiveColor:e.colorText,textHoverBg:e.colorFillTertiary,defaultColor:e.colorText,defaultBg:e.colorBgContainer,defaultBorderColor:e.colorBorder,defaultBorderColorDisabled:e.colorBorder,defaultHoverBg:e.colorBgContainer,defaultHoverColor:e.colorPrimaryHover,defaultHoverBorderColor:e.colorPrimaryHover,defaultActiveBg:e.colorBgContainer,defaultActiveColor:e.colorPrimaryActive,defaultActiveBorderColor:e.colorPrimaryActive,solidTextColor:F,contentFontSize:x,contentFontSizeSM:S,contentFontSizeLG:T,contentLineHeight:M,contentLineHeightSM:R,contentLineHeightLG:N,paddingBlock:Math.max((e.controlHeight-x*M)/2-e.lineWidth,0),paddingBlockSM:Math.max((e.controlHeightSM-S*R)/2-e.lineWidth,0),paddingBlockLG:Math.max((e.controlHeightLG-T*N)/2-e.lineWidth,0)})},ml=e=>{const{componentCls:t,iconCls:o,fontWeight:i,opacityLoading:u,motionDurationSlow:g,motionEaseInOut:_,marginXS:x,calc:S}=e;return{[t]:{outline:"none",position:"relative",display:"inline-flex",gap:e.marginXS,alignItems:"center",justifyContent:"center",fontWeight:i,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",background:"transparent",border:`${(0,J.bf)(e.lineWidth)} ${e.lineType} transparent`,cursor:"pointer",transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",color:e.colorText,"&:disabled > *":{pointerEvents:"none"},[`${t}-icon > svg`]:(0,mn.Ro)(),"> a":{color:"currentColor"},"&:not(:disabled)":(0,mn.Qy)(e),[`&${t}-two-chinese-chars::first-letter`]:{letterSpacing:"0.34em"},[`&${t}-two-chinese-chars > *:not(${o})`]:{marginInlineEnd:"-0.34em",letterSpacing:"0.34em"},[`&${t}-icon-only`]:{paddingInline:0,[`&${t}-compact-item`]:{flex:"none"},[`&${t}-round`]:{width:"auto"}},[`&${t}-loading`]:{opacity:u,cursor:"default"},[`${t}-loading-icon`]:{transition:["width","opacity","margin"].map(T=>`${T} ${g} ${_}`).join(",")},[`&:not(${t}-icon-end)`]:{[`${t}-loading-icon-motion`]:{"&-appear-start, &-enter-start":{marginInlineEnd:S(x).mul(-1).equal()},"&-appear-active, &-enter-active":{marginInlineEnd:0},"&-leave-start":{marginInlineEnd:0},"&-leave-active":{marginInlineEnd:S(x).mul(-1).equal()}}},"&-icon-end":{flexDirection:"row-reverse",[`${t}-loading-icon-motion`]:{"&-appear-start, &-enter-start":{marginInlineStart:S(x).mul(-1).equal()},"&-appear-active, &-enter-active":{marginInlineStart:0},"&-leave-start":{marginInlineStart:0},"&-leave-active":{marginInlineStart:S(x).mul(-1).equal()}}}}}},Ks=(e,t,o)=>({[`&:not(:disabled):not(${e}-disabled)`]:{"&:hover":t,"&:active":o}}),Ll=e=>({minWidth:e.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),ol=e=>({borderRadius:e.controlHeight,paddingInlineStart:e.calc(e.controlHeight).div(2).equal(),paddingInlineEnd:e.calc(e.controlHeight).div(2).equal()}),Fc=e=>({cursor:"not-allowed",borderColor:e.borderColorDisabled,color:e.colorTextDisabled,background:e.colorBgContainerDisabled,boxShadow:"none"}),Gl=(e,t,o,i,u,g,_,x)=>({[`&${e}-background-ghost`]:Object.assign(Object.assign({color:o||void 0,background:t,borderColor:i||void 0,boxShadow:"none"},Ks(e,Object.assign({background:t},_),Object.assign({background:t},x))),{"&:disabled":{cursor:"not-allowed",color:u||void 0,borderColor:g||void 0}})}),Pl=e=>({[`&:disabled, &${e.componentCls}-disabled`]:Object.assign({},Fc(e))}),kc=e=>({[`&:disabled, &${e.componentCls}-disabled`]:{cursor:"not-allowed",color:e.colorTextDisabled}}),hc=(e,t,o,i)=>{const g=i&&["link","text"].includes(i)?kc:Pl;return Object.assign(Object.assign({},g(e)),Ks(e.componentCls,t,o))},oc=(e,t,o,i,u)=>({[`&${e.componentCls}-variant-solid`]:Object.assign({color:t,background:o},hc(e,i,u))}),ac=(e,t,o,i,u)=>({[`&${e.componentCls}-variant-outlined, &${e.componentCls}-variant-dashed`]:Object.assign({borderColor:t,background:o},hc(e,i,u))}),Jc=e=>({[`&${e.componentCls}-variant-dashed`]:{borderStyle:"dashed"}}),Qc=(e,t,o,i)=>({[`&${e.componentCls}-variant-filled`]:Object.assign({boxShadow:"none",background:t},hc(e,o,i))}),Oc=(e,t,o,i,u)=>({[`&${e.componentCls}-variant-${o}`]:Object.assign({color:t,boxShadow:"none"},hc(e,i,u,o))}),Qd=e=>{const{componentCls:t}=e;return Fl.i.reduce((o,i)=>{const u=e[`${i}6`],g=e[`${i}1`],_=e[`${i}5`],x=e[`${i}2`],S=e[`${i}3`],T=e[`${i}7`];return Object.assign(Object.assign({},o),{[`&${t}-color-${i}`]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:u,boxShadow:e[`${i}ShadowColor`]},oc(e,e.colorTextLightSolid,u,{background:_},{background:T})),ac(e,u,e.colorBgContainer,{color:_,borderColor:_,background:e.colorBgContainer},{color:T,borderColor:T,background:e.colorBgContainer})),Jc(e)),Qc(e,g,{background:x},{background:S})),Oc(e,u,"link",{color:_},{color:T})),Oc(e,u,"text",{color:_,background:g},{color:T,background:S}))})},{})},Uu=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.defaultColor,boxShadow:e.defaultShadow},oc(e,e.solidTextColor,e.colorBgSolid,{color:e.solidTextColor,background:e.colorBgSolidHover},{color:e.solidTextColor,background:e.colorBgSolidActive})),Jc(e)),Qc(e,e.colorFillTertiary,{background:e.colorFillSecondary},{background:e.colorFill})),Gl(e.componentCls,e.ghostBg,e.defaultGhostColor,e.defaultGhostBorderColor,e.colorTextDisabled,e.colorBorder)),Oc(e,e.textTextColor,"link",{color:e.colorLinkHover,background:e.linkHoverBg},{color:e.colorLinkActive})),Nf=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.colorPrimary,boxShadow:e.primaryShadow},ac(e,e.colorPrimary,e.colorBgContainer,{color:e.colorPrimaryTextHover,borderColor:e.colorPrimaryHover,background:e.colorBgContainer},{color:e.colorPrimaryTextActive,borderColor:e.colorPrimaryActive,background:e.colorBgContainer})),Jc(e)),Qc(e,e.colorPrimaryBg,{background:e.colorPrimaryBgHover},{background:e.colorPrimaryBorder})),Oc(e,e.colorPrimaryText,"text",{color:e.colorPrimaryTextHover,background:e.colorPrimaryBg},{color:e.colorPrimaryTextActive,background:e.colorPrimaryBorder})),Oc(e,e.colorPrimaryText,"link",{color:e.colorPrimaryTextHover,background:e.linkHoverBg},{color:e.colorPrimaryTextActive})),Gl(e.componentCls,e.ghostBg,e.colorPrimary,e.colorPrimary,e.colorTextDisabled,e.colorBorder,{color:e.colorPrimaryHover,borderColor:e.colorPrimaryHover},{color:e.colorPrimaryActive,borderColor:e.colorPrimaryActive})),Bf=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.colorError,boxShadow:e.dangerShadow},oc(e,e.dangerColor,e.colorError,{background:e.colorErrorHover},{background:e.colorErrorActive})),ac(e,e.colorError,e.colorBgContainer,{color:e.colorErrorHover,borderColor:e.colorErrorBorderHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),Jc(e)),Qc(e,e.colorErrorBg,{background:e.colorErrorBgFilledHover},{background:e.colorErrorBgActive})),Oc(e,e.colorError,"text",{color:e.colorErrorHover,background:e.colorErrorBg},{color:e.colorErrorHover,background:e.colorErrorBgActive})),Oc(e,e.colorError,"link",{color:e.colorErrorHover},{color:e.colorErrorActive})),Gl(e.componentCls,e.ghostBg,e.colorError,e.colorError,e.colorTextDisabled,e.colorBorder,{color:e.colorErrorHover,borderColor:e.colorErrorHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),Pp=e=>Object.assign(Object.assign({},Oc(e,e.colorLink,"link",{color:e.colorLinkHover},{color:e.colorLinkActive})),Gl(e.componentCls,e.ghostBg,e.colorInfo,e.colorInfo,e.colorTextDisabled,e.colorBorder,{color:e.colorInfoHover,borderColor:e.colorInfoHover},{color:e.colorInfoActive,borderColor:e.colorInfoActive})),Nh=e=>{const{componentCls:t}=e;return Object.assign({[`${t}-color-default`]:Uu(e),[`${t}-color-primary`]:Nf(e),[`${t}-color-dangerous`]:Bf(e),[`${t}-color-link`]:Pp(e)},Qd(e))},d0=e=>Object.assign(Object.assign(Object.assign(Object.assign({},ac(e,e.defaultBorderColor,e.defaultBg,{color:e.defaultHoverColor,borderColor:e.defaultHoverBorderColor,background:e.defaultHoverBg},{color:e.defaultActiveColor,borderColor:e.defaultActiveBorderColor,background:e.defaultActiveBg})),Oc(e,e.textTextColor,"text",{color:e.textTextHoverColor,background:e.textHoverBg},{color:e.textTextActiveColor,background:e.colorBgTextActive})),oc(e,e.primaryColor,e.colorPrimary,{background:e.colorPrimaryHover,color:e.primaryColor},{background:e.colorPrimaryActive,color:e.primaryColor})),Oc(e,e.colorLink,"link",{color:e.colorLinkHover,background:e.linkHoverBg},{color:e.colorLinkActive})),ef=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const{componentCls:o,controlHeight:i,fontSize:u,borderRadius:g,buttonPaddingHorizontal:_,iconCls:x,buttonPaddingVertical:S,buttonIconOnlyFontSize:T}=e;return[{[t]:{fontSize:u,height:i,padding:`${(0,J.bf)(S)} ${(0,J.bf)(_)}`,borderRadius:g,[`&${o}-icon-only`]:{width:i,[x]:{fontSize:T}}}},{[`${o}${o}-circle${t}`]:Ll(e)},{[`${o}${o}-round${t}`]:ol(e)}]},Bh=e=>{const t=(0,vn.IX)(e,{fontSize:e.contentFontSize});return ef(t,e.componentCls)},$m=e=>{const t=(0,vn.IX)(e,{controlHeight:e.controlHeightSM,fontSize:e.contentFontSizeSM,padding:e.paddingXS,buttonPaddingHorizontal:e.paddingInlineSM,buttonPaddingVertical:0,borderRadius:e.borderRadiusSM,buttonIconOnlyFontSize:e.onlyIconSizeSM});return ef(t,`${e.componentCls}-sm`)},f0=e=>{const t=(0,vn.IX)(e,{controlHeight:e.controlHeightLG,fontSize:e.contentFontSizeLG,buttonPaddingHorizontal:e.paddingInlineLG,buttonPaddingVertical:0,borderRadius:e.borderRadiusLG,buttonIconOnlyFontSize:e.onlyIconSizeLG});return ef(t,`${e.componentCls}-lg`)},Yv=e=>{const{componentCls:t}=e;return{[t]:{[`&${t}-block`]:{width:"100%"}}}};var tf=(0,Ae.I$)("Button",e=>{const t=nl(e);return[ml(t),Bh(t),$m(t),f0(t),Yv(t),Nh(t),d0(t),Fr(t)]},Ha,{unitless:{fontWeight:!0,contentLineHeight:!0,contentLineHeightSM:!0,contentLineHeightLG:!0}}),md=he(9288);function bi(e,t){return{[`&-item:not(${t}-last-item)`]:{marginBottom:e.calc(e.lineWidth).mul(-1).equal()},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function Rm(e,t){return{[`&-item:not(${t}-first-item):not(${t}-last-item)`]:{borderRadius:0},[`&-item${t}-first-item:not(${t}-last-item)`]:{[`&, &${e}-sm, &${e}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${t}-last-item:not(${t}-first-item)`]:{[`&, &${e}-sm, &${e}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}}function Am(e){const t=`${e.componentCls}-compact-vertical`;return{[t]:Object.assign(Object.assign({},bi(e,t)),Rm(e.componentCls,t))}}const gd=e=>{const{componentCls:t,colorPrimaryHover:o,lineWidth:i,calc:u}=e,g=u(i).mul(-1).equal(),_=x=>{const S=`${t}-compact${x?"-vertical":""}-item${t}-primary:not([disabled])`;return{[`${S} + ${S}::before`]:{position:"absolute",top:x?g:0,insetInlineStart:x?0:g,backgroundColor:o,content:'""',width:x?"100%":i,height:x?i:"100%"}}};return Object.assign(Object.assign({},_()),_(!0))};var nf=(0,Ae.bk)(["Button","compact"],e=>{const t=nl(e);return[(0,md.c)(t),Am(t),gd(t)]},Ha),Ai=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};function Dm(e){if(typeof e=="object"&&e){let t=e==null?void 0:e.delay;return t=!Number.isNaN(t)&&typeof t=="number"?t:0,{loading:t<=0,delay:t}}return{loading:!!e,delay:0}}const Jv={default:["default","outlined"],primary:["primary","solid"],dashed:["default","dashed"],link:["link","link"],text:["default","text"]},Ff=s.forwardRef((e,t)=>{var o,i;const{loading:u=!1,prefixCls:g,color:_,variant:x,type:S,danger:T=!1,shape:M="default",size:R,styles:N,disabled:F,className:B,rootClassName:V,children:j,icon:H,iconPosition:U="start",ghost:K=!1,block:Y=!1,htmlType:q="button",classNames:Q,style:re={},autoInsertSpace:ae,autoFocus:se}=e,de=Ai(e,["loading","prefixCls","color","variant","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","iconPosition","ghost","block","htmlType","classNames","style","autoInsertSpace","autoFocus"]),pe=S||"default",[ge,me]=(0,s.useMemo)(()=>{if(_&&x)return[_,x];const fn=Jv[pe]||[];return T?["danger",fn[1]]:fn},[S,_,x,T]),_e=ge==="danger"?"dangerous":ge,{getPrefixCls:Ie,direction:Ce,autoInsertSpace:Le,className:ze,style:ke,classNames:Ze,styles:je}=(0,De.dj)("button"),Ue=(o=ae!=null?ae:Le)!==null&&o!==void 0?o:!0,He=Ie("btn",g),[Qe,We,it]=tf(He),Je=(0,s.useContext)(Ds.Z),wt=F!=null?F:Je,Dt=(0,s.useContext)(Fu),ct=(0,s.useMemo)(()=>Dm(u),[u]),[ht,ut]=(0,s.useState)(ct.loading),[tt,xt]=(0,s.useState)(!1),_t=(0,s.useRef)(null),dn=(0,zr.x1)(t,_t),on=s.Children.count(j)===1&&!H&&!ku(me),Ut=(0,s.useRef)(!0);s.useEffect(()=>(Ut.current=!1,()=>{Ut.current=!0}),[]),(0,s.useEffect)(()=>{let fn=null;ct.delay>0?fn=setTimeout(()=>{fn=null,ut(!0)},ct.delay):ut(ct.loading);function yn(){fn&&(clearTimeout(fn),fn=null)}return yn},[ct]),(0,s.useEffect)(()=>{if(!_t.current||!Ue)return;const fn=_t.current.textContent||"";on&&xc(fn)?tt||xt(!0):tt&&xt(!1)}),(0,s.useEffect)(()=>{se&&_t.current&&_t.current.focus()},[]);const en=s.useCallback(fn=>{var yn;if(ht||wt){fn.preventDefault();return}(yn=e.onClick)===null||yn===void 0||yn.call(e,("href"in e,fn))},[e.onClick,ht,wt]),{compactSize:kt,compactItemClassnames:cn}=(0,yl.ri)(He,Ce),zn={large:"lg",small:"sm",middle:void 0},An=(0,Ts.Z)(fn=>{var yn,Gt;return(Gt=(yn=R!=null?R:kt)!==null&&yn!==void 0?yn:Dt)!==null&&Gt!==void 0?Gt:fn}),sr=An&&(i=zn[An])!==null&&i!==void 0?i:"",yr=ht?"loading":H,Vr=(0,Er.Z)(de,["navigate"]),Qn=oe()(He,We,it,{[`${He}-${M}`]:M!=="default"&&M,[`${He}-${pe}`]:pe,[`${He}-dangerous`]:T,[`${He}-color-${_e}`]:_e,[`${He}-variant-${me}`]:me,[`${He}-${sr}`]:sr,[`${He}-icon-only`]:!j&&j!==0&&!!yr,[`${He}-background-ghost`]:K&&!ku(me),[`${He}-loading`]:ht,[`${He}-two-chinese-chars`]:tt&&Ue&&!ht,[`${He}-block`]:Y,[`${He}-rtl`]:Ce==="rtl",[`${He}-icon-end`]:U==="end"},cn,B,V,ze),Un=Object.assign(Object.assign({},ke),re),er=oe()(Q==null?void 0:Q.icon,Ze.icon),Ir=Object.assign(Object.assign({},(N==null?void 0:N.icon)||{}),je.icon||{}),pr=H&&!ht?s.createElement(_u,{prefixCls:He,className:er,style:Ir},H):u&&typeof u=="object"&&u.icon?s.createElement(_u,{prefixCls:He,className:er,style:Ir},u.icon):s.createElement(Hd,{existIcon:!!H,prefixCls:He,loading:ht,mount:Ut.current}),Zr=j||j===0?Zd(j,on&&Ue):null;if(Vr.href!==void 0)return Qe(s.createElement("a",Object.assign({},Vr,{className:oe()(Qn,{[`${He}-disabled`]:wt}),href:wt?void 0:Vr.href,style:Un,onClick:en,ref:dn,tabIndex:wt?-1:0}),pr,Zr));let xn=s.createElement("button",Object.assign({},de,{type:q,className:Qn,style:Un,onClick:en,disabled:wt,ref:dn}),pr,Zr,cn&&s.createElement(nf,{prefixCls:He}));return ku(me)||(xn=s.createElement(vl,{component:"Button",disabled:ht},xn)),Qe(xn)});Ff.Group=yu,Ff.__ANT_BUTTON=!0;var zm=Ff,Xl=zm;function Op(e){return!!(e!=null&&e.then)}var rf=e=>{const{type:t,children:o,prefixCls:i,buttonProps:u,close:g,autoFocus:_,emitEvent:x,isSilent:S,quitOnNullishReturnValue:T,actionFn:M}=e,R=s.useRef(!1),N=s.useRef(null),[F,B]=(0,Cr.Z)(!1),V=function(){g==null||g.apply(void 0,arguments)};s.useEffect(()=>{let U=null;return _&&(U=setTimeout(()=>{var K;(K=N.current)===null||K===void 0||K.focus({preventScroll:!0})})),()=>{U&&clearTimeout(U)}},[]);const j=U=>{Op(U)&&(B(!0),U.then(function(){B(!1,!0),V.apply(void 0,arguments),R.current=!1},K=>{if(B(!1,!0),R.current=!1,!(S!=null&&S()))return Promise.reject(K)}))},H=U=>{if(R.current)return;if(R.current=!0,!M){V();return}let K;if(x){if(K=M(U),T&&!Op(K)){R.current=!1,V(U);return}}else if(M.length)K=M(g),R.current=!1;else if(K=M(),!Op(K)){V();return}j(K)};return s.createElement(Xl,Object.assign({},Yc(t),{onClick:H,loading:F,prefixCls:i},u,{ref:N}),o)};const vd=s.createContext({}),{Provider:$p}=vd;var Ec=()=>{const{autoFocusButton:e,cancelButtonProps:t,cancelTextLocale:o,isSilent:i,mergedOkCancel:u,rootPrefixCls:g,close:_,onCancel:x,onConfirm:S}=(0,s.useContext)(vd);return u?s.createElement(rf,{isSilent:i,actionFn:x,close:function(){_==null||_.apply(void 0,arguments),S==null||S(!1)},autoFocus:e==="cancel",buttonProps:t,prefixCls:`${g}-btn`},o):null},Rp=()=>{const{autoFocusButton:e,close:t,isSilent:o,okButtonProps:i,rootPrefixCls:u,okTextLocale:g,okType:_,onConfirm:x,onOk:S}=(0,s.useContext)(vd);return s.createElement(rf,{isSilent:o,type:_||"primary",actionFn:S,close:function(){t==null||t.apply(void 0,arguments),x==null||x(!0)},autoFocus:e==="ok",buttonProps:i,prefixCls:`${u}-btn`},g)},af=he(54869),sf=s.createContext({}),Fh=he(89648),yd=he(73188);function $c(e,t,o){var i=t;return!i&&o&&(i="".concat(e,"-").concat(o)),i}function Xs(e,t){var o=e["page".concat(t?"Y":"X","Offset")],i="scroll".concat(t?"Top":"Left");if(typeof o!="number"){var u=e.document;o=u.documentElement[i],typeof o!="number"&&(o=u.body[i])}return o}function Ap(e){var t=e.getBoundingClientRect(),o={left:t.left,top:t.top},i=e.ownerDocument,u=i.defaultView||i.parentWindow;return o.left+=Xs(u),o.top+=Xs(u,!0),o}var kh=s.memo(function(e){var t=e.children;return t},function(e,t){var o=t.shouldUpdate;return!o}),Dp={width:0,height:0,overflow:"hidden",outline:"none"},Lm={outline:"none"},jh=s.forwardRef(function(e,t){var o=e.prefixCls,i=e.className,u=e.style,g=e.title,_=e.ariaId,x=e.footer,S=e.closable,T=e.closeIcon,M=e.onClose,R=e.children,N=e.bodyStyle,F=e.bodyProps,B=e.modalRender,V=e.onMouseDown,j=e.onMouseUp,H=e.holderRef,U=e.visible,K=e.forceRender,Y=e.width,q=e.height,Q=e.classNames,re=e.styles,ae=s.useContext(sf),se=ae.panel,de=(0,zr.x1)(H,se),pe=(0,s.useRef)(),ge=(0,s.useRef)();s.useImperativeHandle(t,function(){return{focus:function(){var je;(je=pe.current)===null||je===void 0||je.focus({preventScroll:!0})},changeActive:function(je){var Ue=document,He=Ue.activeElement;je&&He===ge.current?pe.current.focus({preventScroll:!0}):!je&&He===pe.current&&ge.current.focus({preventScroll:!0})}}});var me={};Y!==void 0&&(me.width=Y),q!==void 0&&(me.height=q);var be=x?s.createElement("div",{className:oe()("".concat(o,"-footer"),Q==null?void 0:Q.footer),style:(0,fe.Z)({},re==null?void 0:re.footer)},x):null,_e=g?s.createElement("div",{className:oe()("".concat(o,"-header"),Q==null?void 0:Q.header),style:(0,fe.Z)({},re==null?void 0:re.header)},s.createElement("div",{className:"".concat(o,"-title"),id:_},g)):null,Ie=(0,s.useMemo)(function(){return(0,Tt.Z)(S)==="object"&&S!==null?S:S?{closeIcon:T!=null?T:s.createElement("span",{className:"".concat(o,"-close-x")})}:{}},[S,T,o]),Ce=(0,ir.Z)(Ie,!0),Le=(0,Tt.Z)(S)==="object"&&S.disabled,ze=S?s.createElement("button",(0,Pt.Z)({type:"button",onClick:M,"aria-label":"Close"},Ce,{className:"".concat(o,"-close"),disabled:Le}),Ie.closeIcon):null,ke=s.createElement("div",{className:oe()("".concat(o,"-content"),Q==null?void 0:Q.content),style:re==null?void 0:re.content},ze,_e,s.createElement("div",(0,Pt.Z)({className:oe()("".concat(o,"-body"),Q==null?void 0:Q.body),style:(0,fe.Z)((0,fe.Z)({},N),re==null?void 0:re.body)},F),R),be);return s.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":g?_:null,"aria-modal":"true",ref:de,style:(0,fe.Z)((0,fe.Z)({},u),me),className:oe()(o,i),onMouseDown:V,onMouseUp:j},s.createElement("div",{ref:pe,tabIndex:0,style:Lm},s.createElement(kh,{shouldUpdate:U||K},B?B(ke):ke)),s.createElement("div",{tabIndex:0,ref:ge,style:Dp}))}),lf=jh,cf=s.forwardRef(function(e,t){var o=e.prefixCls,i=e.title,u=e.style,g=e.className,_=e.visible,x=e.forceRender,S=e.destroyOnClose,T=e.motionName,M=e.ariaId,R=e.onVisibleChanged,N=e.mousePosition,F=(0,s.useRef)(),B=s.useState(),V=(0,ve.Z)(B,2),j=V[0],H=V[1],U={};j&&(U.transformOrigin=j);function K(){var Y=Ap(F.current);H(N&&(N.x||N.y)?"".concat(N.x-Y.left,"px ").concat(N.y-Y.top,"px"):"")}return s.createElement(mr.ZP,{visible:_,onVisibleChanged:R,onAppearPrepare:K,onEnterPrepare:K,forceRender:x,motionName:T,removeOnLeave:S,ref:F},function(Y,q){var Q=Y.className,re=Y.style;return s.createElement(lf,(0,Pt.Z)({},e,{ref:t,title:i,ariaId:M,prefixCls:o,holderRef:q,style:(0,fe.Z)((0,fe.Z)((0,fe.Z)({},re),u),U),className:oe()(g,Q)}))})});cf.displayName="Content";var kf=cf,Sr=function(t){var o=t.prefixCls,i=t.style,u=t.visible,g=t.maskProps,_=t.motionName,x=t.className;return s.createElement(mr.ZP,{key:"mask",visible:u,motionName:_,leavedClassName:"".concat(o,"-mask-hidden")},function(S,T){var M=S.className,R=S.style;return s.createElement("div",(0,Pt.Z)({ref:T,style:(0,fe.Z)((0,fe.Z)({},R),i),className:oe()("".concat(o,"-mask"),M,x)},g))})},ci=Sr,jf=function(t){var o=t.prefixCls,i=o===void 0?"rc-dialog":o,u=t.zIndex,g=t.visible,_=g===void 0?!1:g,x=t.keyboard,S=x===void 0?!0:x,T=t.focusTriggerAfterClose,M=T===void 0?!0:T,R=t.wrapStyle,N=t.wrapClassName,F=t.wrapProps,B=t.onClose,V=t.afterOpenChange,j=t.afterClose,H=t.transitionName,U=t.animation,K=t.closable,Y=K===void 0?!0:K,q=t.mask,Q=q===void 0?!0:q,re=t.maskTransitionName,ae=t.maskAnimation,se=t.maskClosable,de=se===void 0?!0:se,pe=t.maskStyle,ge=t.maskProps,me=t.rootClassName,be=t.classNames,_e=t.styles,Ie=(0,s.useRef)(),Ce=(0,s.useRef)(),Le=(0,s.useRef)(),ze=s.useState(_),ke=(0,ve.Z)(ze,2),Ze=ke[0],je=ke[1],Ue=(0,yd.Z)();function He(){(0,Fh.Z)(Ce.current,document.activeElement)||(Ie.current=document.activeElement)}function Qe(){if(!(0,Fh.Z)(Ce.current,document.activeElement)){var xt;(xt=Le.current)===null||xt===void 0||xt.focus()}}function We(xt){if(xt)Qe();else{if(je(!1),Q&&Ie.current&&M){try{Ie.current.focus({preventScroll:!0})}catch(_t){}Ie.current=null}Ze&&(j==null||j())}V==null||V(xt)}function it(xt){B==null||B(xt)}var Je=(0,s.useRef)(!1),wt=(0,s.useRef)(),Dt=function(){clearTimeout(wt.current),Je.current=!0},ct=function(){wt.current=setTimeout(function(){Je.current=!1})},ht=null;de&&(ht=function(_t){Je.current?Je.current=!1:Ce.current===_t.target&&it(_t)});function ut(xt){if(S&&xt.keyCode===nt.Z.ESC){xt.stopPropagation(),it(xt);return}_&&xt.keyCode===nt.Z.TAB&&Le.current.changeActive(!xt.shiftKey)}(0,s.useEffect)(function(){_&&(je(!0),He())},[_]),(0,s.useEffect)(function(){return function(){clearTimeout(wt.current)}},[]);var tt=(0,fe.Z)((0,fe.Z)((0,fe.Z)({zIndex:u},R),_e==null?void 0:_e.wrapper),{},{display:Ze?null:"none"});return s.createElement("div",(0,Pt.Z)({className:oe()("".concat(i,"-root"),me)},(0,ir.Z)(t,{data:!0})),s.createElement(ci,{prefixCls:i,visible:Q&&_,motionName:$c(i,re,ae),style:(0,fe.Z)((0,fe.Z)({zIndex:u},pe),_e==null?void 0:_e.mask),maskProps:ge,className:be==null?void 0:be.mask}),s.createElement("div",(0,Pt.Z)({tabIndex:-1,onKeyDown:ut,className:oe()("".concat(i,"-wrap"),N,be==null?void 0:be.wrapper),ref:Ce,onClick:ht,style:tt},F),s.createElement(kf,(0,Pt.Z)({},t,{onMouseDown:Dt,onMouseUp:ct,ref:Le,closable:Y,ariaId:Ue,prefixCls:i,visible:_&&Ze,onClose:it,onVisibleChanged:We,motionName:$c(i,H,U)}))))},al=jf,gn=function(t){var o=t.visible,i=t.getContainer,u=t.forceRender,g=t.destroyOnClose,_=g===void 0?!1:g,x=t.afterClose,S=t.panelRef,T=s.useState(o),M=(0,ve.Z)(T,2),R=M[0],N=M[1],F=s.useMemo(function(){return{panel:S}},[S]);return s.useEffect(function(){o&&N(!0)},[o]),!u&&_&&!R?null:s.createElement(sf.Provider,{value:F},s.createElement(af.Z,{open:o||u||R,autoDestroy:!1,getContainer:i,autoLock:o||R},s.createElement(al,(0,Pt.Z)({},t,{destroyOnClose:_,afterClose:function(){x==null||x(),N(!1)}}))))};gn.displayName="Dialog";var p0=gn,Zh=p0,xu=he(78018);function uf(e){if(e)return{closable:e.closable,closeIcon:e.closeIcon}}function Nm(e){const{closable:t,closeIcon:o}=e||{};return s.useMemo(()=>{if(!t&&(t===!1||o===!1||o===null))return!1;if(t===void 0&&o===void 0)return null;let i={closeIcon:typeof o!="boolean"&&o!==null?o:void 0};return t&&typeof t=="object"&&(i=Object.assign(Object.assign({},i),t)),i},[t,o])}function Bm(){const e={};for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return o.forEach(u=>{u&&Object.keys(u).forEach(g=>{u[g]!==void 0&&(e[g]=u[g])})}),e}const Zf={};function zp(e,t){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Zf;const i=Nm(e),u=Nm(t),g=typeof i!="boolean"?!!(i!=null&&i.disabled):!1,_=s.useMemo(()=>Object.assign({closeIcon:s.createElement(nr,null)},o),[o]),x=s.useMemo(()=>i===!1?!1:i?Bm(_,u,i):u===!1?!1:u?Bm(_,u):_.closable?_:!1,[i,u,_]);return s.useMemo(()=>{if(x===!1)return[!1,null,g];const{closeIconRender:S}=_,{closeIcon:T}=x;let M=T;if(M!=null){S&&(M=S(T));const R=(0,ir.Z)(x,!0);Object.keys(R).length&&(M=s.isValidElement(M)?s.cloneElement(M,R):s.createElement("span",Object.assign({},R),M))}return[!0,M,g]},[x,_])}var Vf=he(18415);const m0=()=>(0,Vf.Z)()&&window.document.documentElement;var df=he(61803),Hf=e=>{const{prefixCls:t,className:o,style:i,size:u,shape:g}=e,_=oe()({[`${t}-lg`]:u==="large",[`${t}-sm`]:u==="small"}),x=oe()({[`${t}-circle`]:g==="circle",[`${t}-square`]:g==="square",[`${t}-round`]:g==="round"}),S=s.useMemo(()=>typeof u=="number"?{width:u,height:u,lineHeight:`${u}px`}:{},[u]);return s.createElement("span",{className:oe()(t,_,x,o),style:Object.assign(Object.assign({},S),i)})};const Fm=new J.E4("ant-skeleton-loading",{"0%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0 50%"}}),Cu=e=>({height:e,lineHeight:(0,J.bf)(e)}),Gu=e=>Object.assign({width:e},Cu(e)),wu=e=>({background:e.skeletonLoadingBackground,backgroundSize:"400% 100%",animationName:Fm,animationDuration:e.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite"}),uu=(e,t)=>Object.assign({width:t(e).mul(5).equal(),minWidth:t(e).mul(5).equal()},Cu(e)),g0=e=>{const{skeletonAvatarCls:t,gradientFromColor:o,controlHeight:i,controlHeightLG:u,controlHeightSM:g}=e;return{[t]:Object.assign({display:"inline-block",verticalAlign:"top",background:o},Gu(i)),[`${t}${t}-circle`]:{borderRadius:"50%"},[`${t}${t}-lg`]:Object.assign({},Gu(u)),[`${t}${t}-sm`]:Object.assign({},Gu(g))}},ql=e=>{const{controlHeight:t,borderRadiusSM:o,skeletonInputCls:i,controlHeightLG:u,controlHeightSM:g,gradientFromColor:_,calc:x}=e;return{[i]:Object.assign({display:"inline-block",verticalAlign:"top",background:_,borderRadius:o},uu(t,x)),[`${i}-lg`]:Object.assign({},uu(u,x)),[`${i}-sm`]:Object.assign({},uu(g,x))}},v0=e=>Object.assign({width:e},Cu(e)),Vh=e=>{const{skeletonImageCls:t,imageSizeBase:o,gradientFromColor:i,borderRadiusSM:u,calc:g}=e;return{[t]:Object.assign(Object.assign({display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"middle",background:i,borderRadius:u},v0(g(o).mul(2).equal())),{[`${t}-path`]:{fill:"#bfbfbf"},[`${t}-svg`]:Object.assign(Object.assign({},v0(o)),{maxWidth:g(o).mul(4).equal(),maxHeight:g(o).mul(4).equal()}),[`${t}-svg${t}-svg-circle`]:{borderRadius:"50%"}}),[`${t}${t}-circle`]:{borderRadius:"50%"}}},Zs=(e,t,o)=>{const{skeletonButtonCls:i}=e;return{[`${o}${i}-circle`]:{width:t,minWidth:t,borderRadius:"50%"},[`${o}${i}-round`]:{borderRadius:t}}},us=(e,t)=>Object.assign({width:t(e).mul(2).equal(),minWidth:t(e).mul(2).equal()},Cu(e)),y0=e=>{const{borderRadiusSM:t,skeletonButtonCls:o,controlHeight:i,controlHeightLG:u,controlHeightSM:g,gradientFromColor:_,calc:x}=e;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[o]:Object.assign({display:"inline-block",verticalAlign:"top",background:_,borderRadius:t,width:x(i).mul(2).equal(),minWidth:x(i).mul(2).equal()},us(i,x))},Zs(e,i,o)),{[`${o}-lg`]:Object.assign({},us(u,x))}),Zs(e,u,`${o}-lg`)),{[`${o}-sm`]:Object.assign({},us(g,x))}),Zs(e,g,`${o}-sm`))},Xu=e=>{const{componentCls:t,skeletonAvatarCls:o,skeletonTitleCls:i,skeletonParagraphCls:u,skeletonButtonCls:g,skeletonInputCls:_,skeletonImageCls:x,controlHeight:S,controlHeightLG:T,controlHeightSM:M,gradientFromColor:R,padding:N,marginSM:F,borderRadius:B,titleHeight:V,blockRadius:j,paragraphLiHeight:H,controlHeightXS:U,paragraphMarginTop:K}=e;return{[t]:{display:"table",width:"100%",[`${t}-header`]:{display:"table-cell",paddingInlineEnd:N,verticalAlign:"top",[o]:Object.assign({display:"inline-block",verticalAlign:"top",background:R},Gu(S)),[`${o}-circle`]:{borderRadius:"50%"},[`${o}-lg`]:Object.assign({},Gu(T)),[`${o}-sm`]:Object.assign({},Gu(M))},[`${t}-content`]:{display:"table-cell",width:"100%",verticalAlign:"top",[i]:{width:"100%",height:V,background:R,borderRadius:j,[`+ ${u}`]:{marginBlockStart:M}},[u]:{padding:0,"> li":{width:"100%",height:H,listStyle:"none",background:R,borderRadius:j,"+ li":{marginBlockStart:U}}},[`${u}> li:last-child:not(:first-child):not(:nth-child(2))`]:{width:"61%"}},[`&-round ${t}-content`]:{[`${i}, ${u} > li`]:{borderRadius:B}}},[`${t}-with-avatar ${t}-content`]:{[i]:{marginBlockStart:F,[`+ ${u}`]:{marginBlockStart:K}}},[`${t}${t}-element`]:Object.assign(Object.assign(Object.assign(Object.assign({display:"inline-block",width:"auto"},y0(e)),g0(e)),ql(e)),Vh(e)),[`${t}${t}-block`]:{width:"100%",[g]:{width:"100%"},[_]:{width:"100%"}},[`${t}${t}-active`]:{[`
        ${i},
        ${u} > li,
        ${o},
        ${g},
        ${_},
        ${x}
      `]:Object.assign({},wu(e))}}},Uf=e=>{const{colorFillContent:t,colorFill:o}=e,i=t,u=o;return{color:i,colorGradientEnd:u,gradientFromColor:i,gradientToColor:u,titleHeight:e.controlHeight/2,blockRadius:e.borderRadiusSM,paragraphMarginTop:e.marginLG+e.marginXXS,paragraphLiHeight:e.controlHeight/2}};var Rc=(0,Ae.I$)("Skeleton",e=>{const{componentCls:t,calc:o}=e,i=(0,vn.IX)(e,{skeletonAvatarCls:`${t}-avatar`,skeletonTitleCls:`${t}-title`,skeletonParagraphCls:`${t}-paragraph`,skeletonButtonCls:`${t}-button`,skeletonInputCls:`${t}-input`,skeletonImageCls:`${t}-image`,imageSizeBase:o(e.controlHeight).mul(1.5).equal(),borderRadius:100,skeletonLoadingBackground:`linear-gradient(90deg, ${e.gradientFromColor} 25%, ${e.gradientToColor} 37%, ${e.gradientFromColor} 63%)`,skeletonLoadingMotionDuration:"1.4s"});return[Xu(i)]},Uf,{deprecatedTokens:[["color","gradientFromColor"],["colorGradientEnd","gradientToColor"]]}),Hh=e=>{const{prefixCls:t,className:o,rootClassName:i,active:u,shape:g="circle",size:_="default"}=e,{getPrefixCls:x}=s.useContext(De.E_),S=x("skeleton",t),[T,M,R]=Rc(S),N=(0,Er.Z)(e,["prefixCls","className"]),F=oe()(S,`${S}-element`,{[`${S}-active`]:u},o,i,M,R);return T(s.createElement("div",{className:F},s.createElement(Hf,Object.assign({prefixCls:`${S}-avatar`,shape:g,size:_},N))))},pc=e=>{const{prefixCls:t,className:o,rootClassName:i,active:u,block:g=!1,size:_="default"}=e,{getPrefixCls:x}=s.useContext(De.E_),S=x("skeleton",t),[T,M,R]=Rc(S),N=(0,Er.Z)(e,["prefixCls"]),F=oe()(S,`${S}-element`,{[`${S}-active`]:u,[`${S}-block`]:g},o,i,M,R);return T(s.createElement("div",{className:F},s.createElement(Hf,Object.assign({prefixCls:`${S}-button`,size:_},N))))};const Lp="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z";var jm=e=>{const{prefixCls:t,className:o,rootClassName:i,style:u,active:g}=e,{getPrefixCls:_}=s.useContext(De.E_),x=_("skeleton",t),[S,T,M]=Rc(x),R=oe()(x,`${x}-element`,{[`${x}-active`]:g},o,i,T,M);return S(s.createElement("div",{className:R},s.createElement("div",{className:oe()(`${x}-image`,o),style:u},s.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:`${x}-image-svg`},s.createElement("title",null,"Image placeholder"),s.createElement("path",{d:Lp,className:`${x}-image-path`})))))},hf=e=>{const{prefixCls:t,className:o,rootClassName:i,active:u,block:g,size:_="default"}=e,{getPrefixCls:x}=s.useContext(De.E_),S=x("skeleton",t),[T,M,R]=Rc(S),N=(0,Er.Z)(e,["prefixCls"]),F=oe()(S,`${S}-element`,{[`${S}-active`]:u,[`${S}-block`]:g},o,i,M,R);return T(s.createElement("div",{className:F},s.createElement(Hf,Object.assign({prefixCls:`${S}-input`,size:_},N))))},_d=e=>{const{prefixCls:t,className:o,rootClassName:i,style:u,active:g,children:_}=e,{getPrefixCls:x}=s.useContext(De.E_),S=x("skeleton",t),[T,M,R]=Rc(S),N=oe()(S,`${S}-element`,{[`${S}-active`]:g},M,o,i,R);return T(s.createElement("div",{className:N},s.createElement("div",{className:oe()(`${S}-image`,o),style:u},_)))};const Zm=(e,t)=>{const{width:o,rows:i=2}=t;if(Array.isArray(o))return o[e];if(i-1===e)return o};var Hm=e=>{const{prefixCls:t,className:o,style:i,rows:u=0}=e,g=Array.from({length:u}).map((_,x)=>s.createElement("li",{key:x,style:{width:Zm(x,e)}}));return s.createElement("ul",{className:oe()(t,o),style:i},g)},tc=e=>{let{prefixCls:t,className:o,width:i,style:u}=e;return s.createElement("h3",{className:oe()(t,o),style:Object.assign({width:i},u)})};function Uh(e){return e&&typeof e=="object"?e:{}}function Um(e,t){return e&&!t?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function Wh(e,t){return!e&&t?{width:"38%"}:e&&t?{width:"50%"}:{}}function bd(e,t){const o={};return(!e||!t)&&(o.width="61%"),!e&&t?o.rows=3:o.rows=2,o}const Ku=e=>{const{prefixCls:t,loading:o,className:i,rootClassName:u,style:g,children:_,avatar:x=!1,title:S=!0,paragraph:T=!0,active:M,round:R}=e,{getPrefixCls:N,direction:F,className:B,style:V}=(0,De.dj)("skeleton"),j=N("skeleton",t),[H,U,K]=Rc(j);if(o||!("loading"in e)){const Y=!!x,q=!!S,Q=!!T;let re;if(Y){const de=Object.assign(Object.assign({prefixCls:`${j}-avatar`},Um(q,Q)),Uh(x));re=s.createElement("div",{className:`${j}-header`},s.createElement(Hf,Object.assign({},de)))}let ae;if(q||Q){let de;if(q){const ge=Object.assign(Object.assign({prefixCls:`${j}-title`},Wh(Y,Q)),Uh(S));de=s.createElement(tc,Object.assign({},ge))}let pe;if(Q){const ge=Object.assign(Object.assign({prefixCls:`${j}-paragraph`},bd(Y,q)),Uh(T));pe=s.createElement(Hm,Object.assign({},ge))}ae=s.createElement("div",{className:`${j}-content`},de,pe)}const se=oe()(j,{[`${j}-with-avatar`]:Y,[`${j}-active`]:M,[`${j}-rtl`]:F==="rtl",[`${j}-round`]:R},B,i,u,U,K);return H(s.createElement("div",{className:se,style:Object.assign(Object.assign({},V),g)},re,ae))}return _!=null?_:null};Ku.Button=pc,Ku.Avatar=Hh,Ku.Input=hf,Ku.Image=jm,Ku.Node=_d;var Su=Ku,xd=Su;function pf(){}const Bp=s.createContext({add:pf,remove:pf});function Fp(e){const t=s.useContext(Bp),o=s.useRef(null);return(0,Or.Z)(u=>{if(u){const g=e?u.querySelector(e):u;t.add(g),o.current=g}else t.remove(o.current)})}var Gh=Bp,jp=()=>{const{cancelButtonProps:e,cancelTextLocale:t,onCancel:o}=(0,s.useContext)(vd);return s.createElement(Xl,Object.assign({onClick:o},e),t)},Gm=()=>{const{confirmLoading:e,okButtonProps:t,okType:o,okTextLocale:i,onOk:u}=(0,s.useContext)(vd);return s.createElement(Xl,Object.assign({},Yc(o),{loading:e,onClick:u},t),i)},Zp=he(3786);function Wf(e,t){return s.createElement("span",{className:`${e}-close-x`},t||s.createElement(nr,{className:`${e}-close-icon`}))}const Xm=e=>{const{okText:t,okType:o="primary",cancelText:i,confirmLoading:u,onOk:g,onCancel:_,okButtonProps:x,cancelButtonProps:S,footer:T}=e,[M]=(0,Pr.Z)("Modal",(0,Zp.A)()),R=t||(M==null?void 0:M.okText),N=i||(M==null?void 0:M.cancelText),F={confirmLoading:u,okButtonProps:x,cancelButtonProps:S,okTextLocale:R,cancelTextLocale:N,okType:o,onOk:g,onCancel:_},B=s.useMemo(()=>F,(0,Be.Z)(Object.values(F)));let V;return typeof T=="function"||typeof T=="undefined"?(V=s.createElement(s.Fragment,null,s.createElement(jp,null),s.createElement(Gm,null)),typeof T=="function"&&(V=T(V,{OkBtn:Gm,CancelBtn:jp})),V=s.createElement($p,{value:B},V)):V=T,s.createElement(Ds.n,{disabled:!1},V)};var C0=he(40672),Cd=he(79318);const w0=new J.E4("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),S0=new J.E4("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),wd=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{antCls:o}=e,i=`${o}-fade`,u=t?"&":"";return[(0,Cd.R)(i,w0,S0,e.motionDurationMid,t),{[`
        ${u}${i}-enter,
        ${u}${i}-appear
      `]:{opacity:0,animationTimingFunction:"linear"},[`${u}${i}-leave`]:{animationTimingFunction:"linear"}}]};var Yu=he(3153);function Ic(e){return{position:e,inset:0}}const Gf=e=>{const{componentCls:t,antCls:o}=e;return[{[`${t}-root`]:{[`${t}${o}-zoom-enter, ${t}${o}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:e.motionDurationSlow,userSelect:"none"},[`${t}${o}-zoom-leave ${t}-content`]:{pointerEvents:"none"},[`${t}-mask`]:Object.assign(Object.assign({},Ic("fixed")),{zIndex:e.zIndexPopupBase,height:"100%",backgroundColor:e.colorBgMask,pointerEvents:"none",[`${t}-hidden`]:{display:"none"}}),[`${t}-wrap`]:Object.assign(Object.assign({},Ic("fixed")),{zIndex:e.zIndexPopupBase,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"})}},{[`${t}-root`]:wd(e)}]},E0=e=>{const{componentCls:t}=e;return[{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl"},[`${t}-centered`]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[t]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},[`@media (max-width: ${e.screenSMMax}px)`]:{[t]:{maxWidth:"calc(100vw - 16px)",margin:`${(0,J.bf)(e.marginXS)} auto`},[`${t}-centered`]:{[t]:{flex:1}}}}},{[t]:Object.assign(Object.assign({},(0,mn.Wf)(e)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:`calc(100vw - ${(0,J.bf)(e.calc(e.margin).mul(2).equal())})`,margin:"0 auto",paddingBottom:e.paddingLG,[`${t}-title`]:{margin:0,color:e.titleColor,fontWeight:e.fontWeightStrong,fontSize:e.titleFontSize,lineHeight:e.titleLineHeight,wordWrap:"break-word"},[`${t}-content`]:{position:"relative",backgroundColor:e.contentBg,backgroundClip:"padding-box",border:0,borderRadius:e.borderRadiusLG,boxShadow:e.boxShadow,pointerEvents:"auto",padding:e.contentPadding},[`${t}-close`]:Object.assign({position:"absolute",top:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),insetInlineEnd:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),zIndex:e.calc(e.zIndexPopupBase).add(10).equal(),padding:0,color:e.modalCloseIconColor,fontWeight:e.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:e.borderRadiusSM,width:e.modalCloseBtnSize,height:e.modalCloseBtnSize,border:0,outline:0,cursor:"pointer",transition:`color ${e.motionDurationMid}, background-color ${e.motionDurationMid}`,"&-x":{display:"flex",fontSize:e.fontSizeLG,fontStyle:"normal",lineHeight:(0,J.bf)(e.modalCloseBtnSize),justifyContent:"center",textTransform:"none",textRendering:"auto"},"&:disabled":{pointerEvents:"none"},"&:hover":{color:e.modalCloseIconHoverColor,backgroundColor:e.colorBgTextHover,textDecoration:"none"},"&:active":{backgroundColor:e.colorBgTextActive}},(0,mn.Qy)(e)),[`${t}-header`]:{color:e.colorText,background:e.headerBg,borderRadius:`${(0,J.bf)(e.borderRadiusLG)} ${(0,J.bf)(e.borderRadiusLG)} 0 0`,marginBottom:e.headerMarginBottom,padding:e.headerPadding,borderBottom:e.headerBorderBottom},[`${t}-body`]:{fontSize:e.fontSize,lineHeight:e.lineHeight,wordWrap:"break-word",padding:e.bodyPadding,[`${t}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:`${(0,J.bf)(e.margin)} auto`}},[`${t}-footer`]:{textAlign:"end",background:e.footerBg,marginTop:e.footerMarginTop,padding:e.footerPadding,borderTop:e.footerBorderTop,borderRadius:e.footerBorderRadius,[`> ${e.antCls}-btn + ${e.antCls}-btn`]:{marginInlineStart:e.marginXS}},[`${t}-open`]:{overflow:"hidden"}})},{[`${t}-pure-panel`]:{top:"auto",padding:0,display:"flex",flexDirection:"column",[`${t}-content,
          ${t}-body,
          ${t}-confirm-body-wrapper`]:{display:"flex",flexDirection:"column",flex:"auto"},[`${t}-confirm-body`]:{marginBottom:"auto"}}}]},Qv=e=>{const{componentCls:t}=e;return{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl",[`${t}-confirm-body`]:{direction:"rtl"}}}}},ey=e=>{const{componentCls:t}=e,o=(0,C0.hd)(e);delete o.xs;const i=Object.keys(o).map(u=>({[`@media (min-width: ${(0,J.bf)(o[u])})`]:{width:`var(--${t.replace(".","")}-${u}-width)`}}));return{[`${t}-root`]:{[t]:[{width:`var(--${t.replace(".","")}-xs-width)`}].concat((0,Be.Z)(i))}}},fl=e=>{const t=e.padding,o=e.fontSizeHeading5,i=e.lineHeightHeading5;return(0,vn.IX)(e,{modalHeaderHeight:e.calc(e.calc(i).mul(o).equal()).add(e.calc(t).mul(2).equal()).equal(),modalFooterBorderColorSplit:e.colorSplit,modalFooterBorderStyle:e.lineType,modalFooterBorderWidth:e.lineWidth,modalCloseIconColor:e.colorIcon,modalCloseIconHoverColor:e.colorIconHover,modalCloseBtnSize:e.controlHeight,modalConfirmIconSize:e.fontHeight,modalTitleHeight:e.calc(e.titleFontSize).mul(e.titleLineHeight).equal()})},Xh=e=>({footerBg:"transparent",headerBg:e.colorBgElevated,titleLineHeight:e.lineHeightHeading5,titleFontSize:e.fontSizeHeading5,contentBg:e.colorBgElevated,titleColor:e.colorTextHeading,contentPadding:e.wireframe?0:`${(0,J.bf)(e.paddingMD)} ${(0,J.bf)(e.paddingContentHorizontalLG)}`,headerPadding:e.wireframe?`${(0,J.bf)(e.padding)} ${(0,J.bf)(e.paddingLG)}`:0,headerBorderBottom:e.wireframe?`${(0,J.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",headerMarginBottom:e.wireframe?0:e.marginXS,bodyPadding:e.wireframe?e.paddingLG:0,footerPadding:e.wireframe?`${(0,J.bf)(e.paddingXS)} ${(0,J.bf)(e.padding)}`:0,footerBorderTop:e.wireframe?`${(0,J.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",footerBorderRadius:e.wireframe?`0 0 ${(0,J.bf)(e.borderRadiusLG)} ${(0,J.bf)(e.borderRadiusLG)}`:0,footerMarginTop:e.wireframe?0:e.marginSM,confirmBodyPadding:e.wireframe?`${(0,J.bf)(e.padding*2)} ${(0,J.bf)(e.padding*2)} ${(0,J.bf)(e.paddingLG)}`:0,confirmIconMarginInlineEnd:e.wireframe?e.margin:e.marginSM,confirmBtnsMarginTop:e.wireframe?e.marginLG:e.marginSM});var I0=(0,Ae.I$)("Modal",e=>{const t=fl(e);return[E0(t),Qv(t),Gf(t),(0,Yu._y)(t,"zoom"),ey(t)]},Xh,{unitless:{titleLineHeight:!0}}),qm=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};let mf;const T0=e=>{mf={x:e.pageX,y:e.pageY},setTimeout(()=>{mf=null},100)};m0()&&document.documentElement.addEventListener("click",T0,!0);var qh=e=>{var t;const{getPopupContainer:o,getPrefixCls:i,direction:u,modal:g}=s.useContext(De.E_),_=We=>{const{onCancel:it}=e;it==null||it(We)},x=We=>{const{onOk:it}=e;it==null||it(We)},{prefixCls:S,className:T,rootClassName:M,open:R,wrapClassName:N,centered:F,getContainer:B,focusTriggerAfterClose:V=!0,style:j,visible:H,width:U=520,footer:K,classNames:Y,styles:q,children:Q,loading:re}=e,ae=qm(e,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","focusTriggerAfterClose","style","visible","width","footer","classNames","styles","children","loading"]),se=i("modal",S),de=i(),pe=(0,po.Z)(se),[ge,me,be]=I0(se,pe),_e=oe()(N,{[`${se}-centered`]:F!=null?F:g==null?void 0:g.centered,[`${se}-wrap-rtl`]:u==="rtl"}),Ie=K!==null&&!re?s.createElement(Xm,Object.assign({},e,{onOk:x,onCancel:_})):null,[Ce,Le,ze]=zp(uf(e),uf(g),{closable:!0,closeIcon:s.createElement(nr,{className:`${se}-close-icon`}),closeIconRender:We=>Wf(se,We)}),ke=Fp(`.${se}-content`),[Ze,je]=(0,Io.Cn)("Modal",ae.zIndex),[Ue,He]=s.useMemo(()=>U&&typeof U=="object"?[void 0,U]:[U,void 0],[U]),Qe=s.useMemo(()=>{const We={};return He&&Object.keys(He).forEach(it=>{const Je=He[it];Je!==void 0&&(We[`--${se}-${it}-width`]=typeof Je=="number"?`${Je}px`:Je)}),We},[He]);return ge(s.createElement(xu.Z,{form:!0,space:!0},s.createElement(df.Z.Provider,{value:je},s.createElement(Zh,Object.assign({width:Ue},ae,{zIndex:Ze,getContainer:B===void 0?o:B,prefixCls:se,rootClassName:oe()(me,M,be,pe),footer:Ie,visible:R!=null?R:H,mousePosition:(t=ae.mousePosition)!==null&&t!==void 0?t:mf,onClose:_,closable:Ce&&{disabled:ze,closeIcon:Le},closeIcon:Le,focusTriggerAfterClose:V,transitionName:(0,Bi.m)(de,"zoom",e.transitionName),maskTransitionName:(0,Bi.m)(de,"fade",e.maskTransitionName),className:oe()(me,T,g==null?void 0:g.className),style:Object.assign(Object.assign(Object.assign({},g==null?void 0:g.style),j),Qe),classNames:Object.assign(Object.assign(Object.assign({},g==null?void 0:g.classNames),Y),{wrapper:oe()(_e,Y==null?void 0:Y.wrapper)}),styles:Object.assign(Object.assign({},g==null?void 0:g.styles),q),panelRef:ke}),re?s.createElement(xd,{active:!0,title:!1,paragraph:{rows:4},className:`${se}-body-skeleton`}):Q))))};const Eu=e=>{const{componentCls:t,titleFontSize:o,titleLineHeight:i,modalConfirmIconSize:u,fontSize:g,lineHeight:_,modalTitleHeight:x,fontHeight:S,confirmBodyPadding:T}=e,M=`${t}-confirm`;return{[M]:{"&-rtl":{direction:"rtl"},[`${e.antCls}-modal-header`]:{display:"none"},[`${M}-body-wrapper`]:Object.assign({},(0,mn.dF)()),[`&${t} ${t}-body`]:{padding:T},[`${M}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${e.iconCls}`]:{flex:"none",fontSize:u,marginInlineEnd:e.confirmIconMarginInlineEnd,marginTop:e.calc(e.calc(S).sub(u).equal()).div(2).equal()},[`&-has-title > ${e.iconCls}`]:{marginTop:e.calc(e.calc(x).sub(u).equal()).div(2).equal()}},[`${M}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:e.marginXS,maxWidth:`calc(100% - ${(0,J.bf)(e.marginSM)})`},[`${e.iconCls} + ${M}-paragraph`]:{maxWidth:`calc(100% - ${(0,J.bf)(e.calc(e.modalConfirmIconSize).add(e.marginSM).equal())})`},[`${M}-title`]:{color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:o,lineHeight:i},[`${M}-content`]:{color:e.colorText,fontSize:g,lineHeight:_},[`${M}-btns`]:{textAlign:"end",marginTop:e.confirmBtnsMarginTop,[`${e.antCls}-btn + ${e.antCls}-btn`]:{marginBottom:0,marginInlineStart:e.marginXS}}},[`${M}-error ${M}-body > ${e.iconCls}`]:{color:e.colorError},[`${M}-warning ${M}-body > ${e.iconCls},
        ${M}-confirm ${M}-body > ${e.iconCls}`]:{color:e.colorWarning},[`${M}-info ${M}-body > ${e.iconCls}`]:{color:e.colorInfo},[`${M}-success ${M}-body > ${e.iconCls}`]:{color:e.colorSuccess}}};var Kh=(0,Ae.bk)(["Modal","confirm"],e=>{const t=fl(e);return[Eu(t)]},Xh,{order:-1e3}),bl=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};function jc(e){const{prefixCls:t,icon:o,okText:i,cancelText:u,confirmPrefixCls:g,type:_,okCancel:x,footer:S,locale:T}=e,M=bl(e,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let R=o;if(!o&&o!==null)switch(_){case"info":R=s.createElement(Gn,null);break;case"success":R=s.createElement(Nn.Z,null);break;case"error":R=s.createElement(fi.Z,null);break;default:R=s.createElement(Qr.Z,null)}const N=x!=null?x:_==="confirm",F=e.autoFocusButton===null?!1:e.autoFocusButton||"ok",[B]=(0,Pr.Z)("Modal"),V=T||B,j=i||(N?V==null?void 0:V.okText:V==null?void 0:V.justOkText),H=u||(V==null?void 0:V.cancelText),U=Object.assign({autoFocusButton:F,cancelTextLocale:H,okTextLocale:j,mergedOkCancel:N},M),K=s.useMemo(()=>U,(0,Be.Z)(Object.values(U))),Y=s.createElement(s.Fragment,null,s.createElement(Ec,null),s.createElement(Rp,null)),q=e.title!==void 0&&e.title!==null,Q=`${g}-body`;return s.createElement("div",{className:`${g}-body-wrapper`},s.createElement("div",{className:oe()(Q,{[`${Q}-has-title`]:q})},R,s.createElement("div",{className:`${g}-paragraph`},q&&s.createElement("span",{className:`${g}-title`},e.title),s.createElement("div",{className:`${g}-content`},e.content))),S===void 0||typeof S=="function"?s.createElement($p,{value:K},s.createElement("div",{className:`${g}-btns`},typeof S=="function"?S(Y,{OkBtn:Rp,CancelBtn:Ec}):Y)):S,s.createElement(Kh,{prefixCls:t}))}const Xf=e=>{const{close:t,zIndex:o,maskStyle:i,direction:u,prefixCls:g,wrapClassName:_,rootPrefixCls:x,bodyStyle:S,closable:T=!1,onConfirm:M,styles:R}=e,N=`${g}-confirm`,F=e.width||416,B=e.style||{},V=e.mask===void 0?!0:e.mask,j=e.maskClosable===void 0?!1:e.maskClosable,H=oe()(N,`${N}-${e.type}`,{[`${N}-rtl`]:u==="rtl"},e.className),[,U]=(0,Ur.ZP)(),K=s.useMemo(()=>o!==void 0?o:U.zIndexPopupBase+Io.u6,[o,U]);return s.createElement(qh,Object.assign({},e,{className:H,wrapClassName:oe()({[`${N}-centered`]:!!e.centered},_),onCancel:()=>{t==null||t({triggerCancel:!0}),M==null||M(!1)},title:"",footer:null,transitionName:(0,Bi.m)(x||"","zoom",e.transitionName),maskTransitionName:(0,Bi.m)(x||"","fade",e.maskTransitionName),mask:V,maskClosable:j,style:B,styles:Object.assign({body:S,mask:i},R),width:F,zIndex:K,closable:T}),s.createElement(jc,Object.assign({},e,{confirmPrefixCls:N})))};var Km=e=>{const{rootPrefixCls:t,iconPrefixCls:o,direction:i,theme:u}=e;return s.createElement(ms.ZP,{prefixCls:t,iconPrefixCls:o,direction:i,theme:u},s.createElement(Xf,Object.assign({},e)))},du=[];let Up="";function M0(){return Up}const Ym=e=>{var t,o;const{prefixCls:i,getContainer:u,direction:g}=e,_=(0,Zp.A)(),x=(0,s.useContext)(De.E_),S=M0()||x.getPrefixCls(),T=i||`${S}-modal`;let M=u;return M===!1&&(M=void 0),s.createElement(Km,Object.assign({},e,{rootPrefixCls:S,prefixCls:T,iconPrefixCls:x.iconPrefixCls,theme:x.theme,direction:g!=null?g:x.direction,locale:(o=(t=x.locale)===null||t===void 0?void 0:t.Modal)!==null&&o!==void 0?o:_,getContainer:M}))};function gf(e){const t=(0,ms.w6)(),o=document.createDocumentFragment();let i=Object.assign(Object.assign({},e),{close:S,open:!0}),u,g;function _(){for(var M,R=arguments.length,N=new Array(R),F=0;F<R;F++)N[F]=arguments[F];if(N.some(j=>j==null?void 0:j.triggerCancel)){var V;(M=e.onCancel)===null||M===void 0||(V=M).call.apply(V,[e,()=>{}].concat((0,Be.Z)(N.slice(1))))}for(let j=0;j<du.length;j++)if(du[j]===S){du.splice(j,1);break}g()}function x(M){clearTimeout(u),u=setTimeout(()=>{const R=t.getPrefixCls(void 0,M0()),N=t.getIconPrefixCls(),F=t.getTheme(),B=s.createElement(Ym,Object.assign({},M));g=li()(s.createElement(ms.ZP,{prefixCls:R,iconPrefixCls:N,theme:F},t.holderRender?t.holderRender(B):B),o)})}function S(){for(var M=arguments.length,R=new Array(M),N=0;N<M;N++)R[N]=arguments[N];i=Object.assign(Object.assign({},i),{open:!1,afterClose:()=>{typeof e.afterClose=="function"&&e.afterClose(),_.apply(this,R)}}),i.visible&&delete i.visible,x(i)}function T(M){typeof M=="function"?i=M(i):i=Object.assign(Object.assign({},i),M),x(i)}return x(i),du.push(S),{destroy:S,update:T}}function Sd(e){return Object.assign(Object.assign({},e),{type:"warning"})}function Ed(e){return Object.assign(Object.assign({},e),{type:"info"})}function Iu(e){return Object.assign(Object.assign({},e),{type:"success"})}function eu(e){return Object.assign(Object.assign({},e),{type:"error"})}function Ju(e){return Object.assign(Object.assign({},e),{type:"confirm"})}function vf(e){let{rootPrefixCls:t}=e;Up=t}var Ac=he(42474),ny=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};const ry=(e,t)=>{var o,{afterClose:i,config:u}=e,g=ny(e,["afterClose","config"]);const[_,x]=s.useState(!0),[S,T]=s.useState(u),{direction:M,getPrefixCls:R}=s.useContext(De.E_),N=R("modal"),F=R(),B=()=>{var U;i(),(U=S.afterClose)===null||U===void 0||U.call(S)},V=function(){var U;x(!1);for(var K=arguments.length,Y=new Array(K),q=0;q<K;q++)Y[q]=arguments[q];if(Y.some(ae=>ae==null?void 0:ae.triggerCancel)){var re;(U=S.onCancel)===null||U===void 0||(re=U).call.apply(re,[S,()=>{}].concat((0,Be.Z)(Y.slice(1))))}};s.useImperativeHandle(t,()=>({destroy:V,update:U=>{T(K=>Object.assign(Object.assign({},K),U))}}));const j=(o=S.okCancel)!==null&&o!==void 0?o:S.type==="confirm",[H]=(0,Pr.Z)("Modal",Ac.Z.Modal);return s.createElement(Km,Object.assign({prefixCls:N,rootPrefixCls:F},S,{close:V,open:_,afterClose:B,okText:S.okText||(j?H==null?void 0:H.okText:H==null?void 0:H.justOkText),direction:S.direction||M,cancelText:S.cancelText||(H==null?void 0:H.cancelText)},g))};var iy=s.forwardRef(ry);let Yh=0;const P0=s.memo(s.forwardRef((e,t)=>{const[o,i]=qs();return s.useImperativeHandle(t,()=>({patchElement:i}),[]),s.createElement(s.Fragment,null,o)}));function wc(){const e=s.useRef(null),[t,o]=s.useState([]);s.useEffect(()=>{t.length&&((0,Be.Z)(t).forEach(_=>{_()}),o([]))},[t]);const i=s.useCallback(g=>function(x){var S;Yh+=1;const T=s.createRef();let M;const R=new Promise(j=>{M=j});let N=!1,F;const B=s.createElement(iy,{key:`modal-${Yh}`,config:g(x),ref:T,afterClose:()=>{F==null||F()},isSilent:()=>N,onConfirm:j=>{M(j)}});return F=(S=e.current)===null||S===void 0?void 0:S.patchElement(B),F&&du.push(F),{destroy:()=>{function j(){var H;(H=T.current)===null||H===void 0||H.destroy()}T.current?j():o(H=>[].concat((0,Be.Z)(H),[j]))},update:j=>{function H(){var U;(U=T.current)===null||U===void 0||U.update(j)}T.current?H():o(U=>[].concat((0,Be.Z)(U),[H]))},then:j=>(N=!0,R.then(j))}},[]);return[s.useMemo(()=>({info:i(Ed),success:i(Iu),error:i(eu),warning:i(Sd),confirm:i(Ju)}),[]),s.createElement(P0,{key:"modal-holder",ref:e})]}var yf=wc,O0=e=>{const{componentCls:t,notificationMarginEdge:o,animationMaxHeight:i}=e,u=`${t}-notice`,g=new J.E4("antNotificationFadeIn",{"0%":{transform:"translate3d(100%, 0, 0)",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",opacity:1}}),_=new J.E4("antNotificationTopFadeIn",{"0%":{top:-i,opacity:0},"100%":{top:0,opacity:1}}),x=new J.E4("antNotificationBottomFadeIn",{"0%":{bottom:e.calc(i).mul(-1).equal(),opacity:0},"100%":{bottom:0,opacity:1}}),S=new J.E4("antNotificationLeftFadeIn",{"0%":{transform:"translate3d(-100%, 0, 0)",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",opacity:1}});return{[t]:{[`&${t}-top, &${t}-bottom`]:{marginInline:0,[u]:{marginInline:"auto auto"}},[`&${t}-top`]:{[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:_}},[`&${t}-bottom`]:{[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:x}},[`&${t}-topRight, &${t}-bottomRight`]:{[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:g}},[`&${t}-topLeft, &${t}-bottomLeft`]:{marginRight:{value:0,_skip_check_:!0},marginLeft:{value:o,_skip_check_:!0},[u]:{marginInlineEnd:"auto",marginInlineStart:0},[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:S}}}}};const qf=["top","topLeft","topRight","bottom","bottomLeft","bottomRight"],Wp={topLeft:"left",topRight:"right",bottomLeft:"left",bottomRight:"right",top:"left",bottom:"left"},Zc=(e,t)=>{const{componentCls:o}=e;return{[`${o}-${t}`]:{[`&${o}-stack > ${o}-notice-wrapper`]:{[t.startsWith("top")?"top":"bottom"]:0,[Wp[t]]:{value:0,_skip_check_:!0}}}}},Vc=e=>{const t={};for(let o=1;o<e.notificationStackLayer;o++)t[`&:nth-last-child(${o+1})`]={overflow:"hidden",[`& > ${e.componentCls}-notice`]:{opacity:0,transition:`opacity ${e.motionDurationMid}`}};return Object.assign({[`&:not(:nth-last-child(-n+${e.notificationStackLayer}))`]:{opacity:0,overflow:"hidden",color:"transparent",pointerEvents:"none"}},t)},Kf=e=>{const t={};for(let o=1;o<e.notificationStackLayer;o++)t[`&:nth-last-child(${o+1})`]={background:e.colorBgBlur,backdropFilter:"blur(10px)","-webkit-backdrop-filter":"blur(10px)"};return Object.assign({},t)};var _f=e=>{const{componentCls:t}=e;return Object.assign({[`${t}-stack`]:{[`& > ${t}-notice-wrapper`]:Object.assign({transition:`transform ${e.motionDurationSlow}, backdrop-filter 0s`,willChange:"transform, opacity",position:"absolute"},Vc(e))},[`${t}-stack:not(${t}-stack-expanded)`]:{[`& > ${t}-notice-wrapper`]:Object.assign({},Kf(e))},[`${t}-stack${t}-stack-expanded`]:{[`& > ${t}-notice-wrapper`]:{"&:not(:nth-last-child(-n + 1))":{opacity:1,overflow:"unset",color:"inherit",pointerEvents:"auto",[`& > ${e.componentCls}-notice`]:{opacity:1}},"&:after":{content:'""',position:"absolute",height:e.margin,width:"100%",insetInline:0,bottom:e.calc(e.margin).mul(-1).equal(),background:"transparent",pointerEvents:"auto"}}}},qf.map(o=>Zc(e,o)).reduce((o,i)=>Object.assign(Object.assign({},o),i),{}))};const Gp=e=>{const{iconCls:t,componentCls:o,boxShadow:i,fontSizeLG:u,notificationMarginBottom:g,borderRadiusLG:_,colorSuccess:x,colorInfo:S,colorWarning:T,colorError:M,colorTextHeading:R,notificationBg:N,notificationPadding:F,notificationMarginEdge:B,notificationProgressBg:V,notificationProgressHeight:j,fontSize:H,lineHeight:U,width:K,notificationIconSize:Y,colorText:q}=e,Q=`${o}-notice`;return{position:"relative",marginBottom:g,marginInlineStart:"auto",background:N,borderRadius:_,boxShadow:i,[Q]:{padding:F,width:K,maxWidth:`calc(100vw - ${(0,J.bf)(e.calc(B).mul(2).equal())})`,overflow:"hidden",lineHeight:U,wordWrap:"break-word"},[`${Q}-message`]:{marginBottom:e.marginXS,color:R,fontSize:u,lineHeight:e.lineHeightLG},[`${Q}-description`]:{fontSize:H,color:q},[`${Q}-closable ${Q}-message`]:{paddingInlineEnd:e.paddingLG},[`${Q}-with-icon ${Q}-message`]:{marginBottom:e.marginXS,marginInlineStart:e.calc(e.marginSM).add(Y).equal(),fontSize:u},[`${Q}-with-icon ${Q}-description`]:{marginInlineStart:e.calc(e.marginSM).add(Y).equal(),fontSize:H},[`${Q}-icon`]:{position:"absolute",fontSize:Y,lineHeight:1,[`&-success${t}`]:{color:x},[`&-info${t}`]:{color:S},[`&-warning${t}`]:{color:T},[`&-error${t}`]:{color:M}},[`${Q}-close`]:Object.assign({position:"absolute",top:e.notificationPaddingVertical,insetInlineEnd:e.notificationPaddingHorizontal,color:e.colorIcon,outline:"none",width:e.notificationCloseButtonSize,height:e.notificationCloseButtonSize,borderRadius:e.borderRadiusSM,transition:`background-color ${e.motionDurationMid}, color ${e.motionDurationMid}`,display:"flex",alignItems:"center",justifyContent:"center","&:hover":{color:e.colorIconHover,backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive}},(0,mn.Qy)(e)),[`${Q}-progress`]:{position:"absolute",display:"block",appearance:"none",WebkitAppearance:"none",inlineSize:`calc(100% - ${(0,J.bf)(_)} * 2)`,left:{_skip_check_:!0,value:_},right:{_skip_check_:!0,value:_},bottom:0,blockSize:j,border:0,"&, &::-webkit-progress-bar":{borderRadius:_,backgroundColor:"rgba(0, 0, 0, 0.04)"},"&::-moz-progress-bar":{background:V},"&::-webkit-progress-value":{borderRadius:_,background:V}},[`${Q}-actions`]:{float:"right",marginTop:e.marginSM}}},os=e=>{const{componentCls:t,notificationMarginBottom:o,notificationMarginEdge:i,motionDurationMid:u,motionEaseInOut:g}=e,_=`${t}-notice`,x=new J.E4("antNotificationFadeOut",{"0%":{maxHeight:e.animationMaxHeight,marginBottom:o},"100%":{maxHeight:0,marginBottom:0,paddingTop:0,paddingBottom:0,opacity:0}});return[{[t]:Object.assign(Object.assign({},(0,mn.Wf)(e)),{position:"fixed",zIndex:e.zIndexPopup,marginRight:{value:i,_skip_check_:!0},[`${t}-hook-holder`]:{position:"relative"},[`${t}-fade-appear-prepare`]:{opacity:"0 !important"},[`${t}-fade-enter, ${t}-fade-appear`]:{animationDuration:e.motionDurationMid,animationTimingFunction:g,animationFillMode:"both",opacity:0,animationPlayState:"paused"},[`${t}-fade-leave`]:{animationTimingFunction:g,animationFillMode:"both",animationDuration:u,animationPlayState:"paused"},[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationPlayState:"running"},[`${t}-fade-leave${t}-fade-leave-active`]:{animationName:x,animationPlayState:"running"},"&-rtl":{direction:"rtl",[`${_}-actions`]:{float:"left"}}})},{[t]:{[`${_}-wrapper`]:Object.assign({},Gp(e))}}]},Qu=e=>({zIndexPopup:e.zIndexPopupBase+Io.u6+50,width:384}),$0=e=>{const t=e.paddingMD,o=e.paddingLG;return(0,vn.IX)(e,{notificationBg:e.colorBgElevated,notificationPaddingVertical:t,notificationPaddingHorizontal:o,notificationIconSize:e.calc(e.fontSizeLG).mul(e.lineHeightLG).equal(),notificationCloseButtonSize:e.calc(e.controlHeightLG).mul(.55).equal(),notificationMarginBottom:e.margin,notificationPadding:`${(0,J.bf)(e.paddingMD)} ${(0,J.bf)(e.paddingContentHorizontalLG)}`,notificationMarginEdge:e.marginLG,animationMaxHeight:150,notificationStackLayer:3,notificationProgressHeight:2,notificationProgressBg:`linear-gradient(90deg, ${e.colorPrimaryBorderHover}, ${e.colorPrimary})`})};var R0=(0,Ae.I$)("Notification",e=>{const t=$0(e);return[os(t),O0(t),_f(t)]},Qu),Xp=(0,Ae.bk)(["Notification","PurePanel"],e=>{const t=`${e.componentCls}-notice`,o=$0(e);return{[`${t}-pure-panel`]:Object.assign(Object.assign({},Gp(o)),{width:o.width,maxWidth:`calc(100vw - ${(0,J.bf)(e.calc(o.notificationMarginEdge).mul(2).equal())})`,margin:0})}},Qu),Tu=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};const Mu={info:s.createElement(Gn,null),success:s.createElement(Nn.Z,null),error:s.createElement(fi.Z,null),warning:s.createElement(Qr.Z,null),loading:s.createElement(mo.Z,null)};function sc(e,t){return t===null||t===!1?null:t||s.createElement(nr,{className:`${e}-close-icon`})}const Dc={success:Nn.Z,info:Gn,error:fi.Z,warning:Qr.Z},Kl=e=>{const{prefixCls:t,icon:o,type:i,message:u,description:g,actions:_,role:x="alert"}=e;let S=null;return o?S=s.createElement("span",{className:`${t}-icon`},o):i&&(S=s.createElement(Dc[i]||null,{className:oe()(`${t}-icon`,`${t}-icon-${i}`)})),s.createElement("div",{className:oe()({[`${t}-with-icon`]:S}),role:x},S,s.createElement("div",{className:`${t}-message`},u),s.createElement("div",{className:`${t}-description`},g),_&&s.createElement("div",{className:`${t}-actions`},_))};var gl=e=>{const{prefixCls:t,className:o,icon:i,type:u,message:g,description:_,btn:x,actions:S,closable:T=!0,closeIcon:M,className:R}=e,N=Tu(e,["prefixCls","className","icon","type","message","description","btn","actions","closable","closeIcon","className"]),{getPrefixCls:F}=s.useContext(De.E_),B=S!=null?S:x,V=t||F("notification"),j=`${V}-notice`,H=(0,po.Z)(V),[U,K,Y]=R0(V,H);return U(s.createElement("div",{className:oe()(`${j}-pure-panel`,K,o,Y,H)},s.createElement(Xp,{prefixCls:V}),s.createElement(ur,Object.assign({},N,{prefixCls:V,eventKey:"pure",duration:null,closable:T,className:oe()({notificationClassName:R}),closeIcon:sc(V,M),content:s.createElement(Kl,{prefixCls:j,icon:i,type:u,message:g,description:_,actions:B})}))))};function Jm(e,t,o){let i;switch(e){case"top":i={left:"50%",transform:"translateX(-50%)",right:"auto",top:t,bottom:"auto"};break;case"topLeft":i={left:0,top:t,bottom:"auto"};break;case"topRight":i={right:0,top:t,bottom:"auto"};break;case"bottom":i={left:"50%",transform:"translateX(-50%)",right:"auto",top:"auto",bottom:o};break;case"bottomLeft":i={left:0,top:"auto",bottom:o};break;default:i={right:0,top:"auto",bottom:o};break}return i}function Jf(e){return{motionName:`${e}-fade`}}function p(e,t,o){return typeof e!="undefined"?e:typeof(t==null?void 0:t.closeIcon)!="undefined"?t.closeIcon:o==null?void 0:o.closeIcon}var r=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};const l=24,m=4.5,b="topRight",w=e=>{let{children:t,prefixCls:o}=e;const i=(0,po.Z)(o),[u,g,_]=R0(o,i);return u(s.createElement(ai,{classNames:{list:oe()(g,_,i)}},t))},I=(e,t)=>{let{prefixCls:o,key:i}=t;return s.createElement(w,{prefixCls:o,key:i},e)},D=s.forwardRef((e,t)=>{const{top:o,bottom:i,prefixCls:u,getContainer:g,maxCount:_,rtl:x,onAllRemoved:S,stack:T,duration:M,pauseOnHover:R=!0,showProgress:N}=e,{getPrefixCls:F,getPopupContainer:B,notification:V,direction:j}=(0,s.useContext)(De.E_),[,H]=(0,Ur.ZP)(),U=u||F("notification"),K=ae=>Jm(ae,o!=null?o:l,i!=null?i:l),Y=()=>oe()({[`${U}-rtl`]:x!=null?x:j==="rtl"}),q=()=>Jf(U),[Q,re]=to({prefixCls:U,style:K,className:Y,motion:q,closable:!0,closeIcon:sc(U),duration:M!=null?M:m,getContainer:()=>(g==null?void 0:g())||(B==null?void 0:B())||document.body,maxCount:_,pauseOnHover:R,showProgress:N,onAllRemoved:S,renderNotifications:I,stack:T===!1?!1:{threshold:typeof T=="object"?T==null?void 0:T.threshold:void 0,offset:8,gap:H.margin}});return s.useImperativeHandle(t,()=>Object.assign(Object.assign({},Q),{prefixCls:U,notification:V})),re});function Z(e){const t=s.useRef(null),o=(0,Fe.ln)("Notification");return[s.useMemo(()=>{const u=S=>{var T;if(!t.current)return;const{open:M,prefixCls:R,notification:N}=t.current,F=`${R}-notice`,{message:B,description:V,icon:j,type:H,btn:U,actions:K,className:Y,style:q,role:Q="alert",closeIcon:re,closable:ae}=S,se=r(S,["message","description","icon","type","btn","actions","className","style","role","closeIcon","closable"]),de=K!=null?K:U,pe=sc(F,p(re,e,N));return M(Object.assign(Object.assign({placement:(T=e==null?void 0:e.placement)!==null&&T!==void 0?T:b},se),{content:s.createElement(Kl,{prefixCls:F,icon:j,type:H,message:B,description:V,actions:de,role:Q}),className:oe()(H&&`${F}-${H}`,Y,N==null?void 0:N.className),style:Object.assign(Object.assign({},N==null?void 0:N.style),q),closeIcon:pe,closable:ae!=null?ae:!!pe}))},_={open:u,destroy:S=>{var T,M;S!==void 0?(T=t.current)===null||T===void 0||T.close(S):(M=t.current)===null||M===void 0||M.destroy()}};return["success","info","warning","error"].forEach(S=>{_[S]=T=>u(Object.assign(Object.assign({},T),{type:S}))}),_},[]),s.createElement(D,Object.assign({key:"notification-holder"},e,{ref:t}))]}function W(e){return Z(e)}const G=s.createContext({});var ne=s.createContext({message:{},notification:{},modal:{}});const ce=e=>{const{componentCls:t,colorText:o,fontSize:i,lineHeight:u,fontFamily:g}=e;return{[t]:{color:o,fontSize:i,lineHeight:u,fontFamily:g,[`&${t}-rtl`]:{direction:"rtl"}}}},Te=()=>({});var we=(0,Ae.I$)("App",ce,Te),Oe=e=>{const{prefixCls:t,children:o,className:i,rootClassName:u,message:g,notification:_,style:x,component:S="div"}=e,{direction:T,getPrefixCls:M}=(0,s.useContext)(De.E_),R=M("app",t),[N,F,B]=we(R),V=oe()(F,R,i,u,B,{[`${R}-rtl`]:T==="rtl"}),j=(0,s.useContext)(G),H=s.useMemo(()=>({message:Object.assign(Object.assign({},j.message),g),notification:Object.assign(Object.assign({},j.notification),_)}),[g,_,j.message,j.notification]),[U,K]=ks(H.message),[Y,q]=W(H.notification),[Q,re]=yf(),ae=s.useMemo(()=>({message:U,notification:Y,modal:Q}),[U,Y,Q]);(0,Fe.ln)("App")(!(B&&S===!1),"usage","When using cssVar, ensure `component` is assigned a valid React component string.");const se=S===!1?s.Fragment:S,de={className:V,style:x};return N(s.createElement(ne.Provider,{value:ae},s.createElement(G.Provider,{value:H},s.createElement(se,Object.assign({},S===!1?void 0:de),re,K,q,o))))},dt=()=>s.useContext(ne);const st=Oe;st.useApp=dt;var bt=st;function pt(e){return t=>s.createElement(ms.ZP,{theme:{token:{motion:!1,zIndexPopupBase:0}}},s.createElement(e,Object.assign({},t)))}var ft=(e,t,o,i,u)=>pt(_=>{const{prefixCls:x,style:S}=_,T=s.useRef(null),[M,R]=s.useState(0),[N,F]=s.useState(0),[B,V]=(0,Jo.Z)(!1,{value:_.open}),{getPrefixCls:j}=s.useContext(De.E_),H=j(i||"select",x);s.useEffect(()=>{if(V(!0),typeof ResizeObserver!="undefined"){const Y=new ResizeObserver(Q=>{const re=Q[0].target;R(re.offsetHeight+8),F(re.offsetWidth)}),q=setInterval(()=>{var Q;const re=u?`.${u(H)}`:`.${H}-dropdown`,ae=(Q=T.current)===null||Q===void 0?void 0:Q.querySelector(re);ae&&(clearInterval(q),Y.observe(ae))},10);return()=>{clearInterval(q),Y.disconnect()}}},[]);let U=Object.assign(Object.assign({},_),{style:Object.assign(Object.assign({},S),{margin:0}),open:B,visible:B,getPopupContainer:()=>T.current});o&&(U=o(U)),t&&Object.assign(U,{[t]:{overflow:{adjustX:!1,adjustY:!1}}});const K={paddingBottom:M,position:"relative",minWidth:N};return s.createElement("div",{ref:T,style:K},s.createElement(e,Object.assign({},U)))}),yt=he(92076),Bt=he(21611),In=function(t){var o=t.className,i=t.customizeIcon,u=t.customizeIconProps,g=t.children,_=t.onMouseDown,x=t.onClick,S=typeof i=="function"?i(u):i;return s.createElement("span",{className:o,onMouseDown:function(M){M.preventDefault(),_==null||_(M)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:x,"aria-hidden":!0},S!==void 0?S:s.createElement("span",{className:oe()(o.split(/\s+/).map(function(T){return"".concat(T,"-icon")}))},g))},pn=In,Hn=function(t,o,i,u,g){var _=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,x=arguments.length>6?arguments[6]:void 0,S=arguments.length>7?arguments[7]:void 0,T=s.useMemo(function(){if((0,Tt.Z)(u)==="object")return u.clearIcon;if(g)return g},[u,g]),M=s.useMemo(function(){return!!(!_&&u&&(i.length||x)&&!(S==="combobox"&&x===""))},[u,_,i.length,x,S]);return{allowClear:M,clearIcon:s.createElement(pn,{className:"".concat(t,"-clear"),onMouseDown:o,customizeIcon:T},"\xD7")}},Zn=s.createContext(null);function rn(){return s.useContext(Zn)}function $n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,t=s.useState(!1),o=(0,ve.Z)(t,2),i=o[0],u=o[1],g=s.useRef(null),_=function(){window.clearTimeout(g.current)};s.useEffect(function(){return _},[]);var x=function(T,M){_(),g.current=window.setTimeout(function(){u(T),M&&M()},e)};return[i,x,_]}function hr(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,t=s.useRef(null),o=s.useRef(null);s.useEffect(function(){return function(){window.clearTimeout(o.current)}},[]);function i(u){(u||t.current===null)&&(t.current=u),window.clearTimeout(o.current),o.current=window.setTimeout(function(){t.current=null},e)}return[function(){return t.current},i]}function nn(e,t,o,i){var u=s.useRef(null);u.current={open:t,triggerOpen:o,customizedTrigger:i},s.useEffect(function(){function g(_){var x;if(!((x=u.current)!==null&&x!==void 0&&x.customizedTrigger)){var S=_.target;S.shadowRoot&&_.composed&&(S=_.composedPath()[0]||S),u.current.open&&e().filter(function(T){return T}).every(function(T){return!T.contains(S)&&T!==S})&&u.current.triggerOpen(!1)}}return window.addEventListener("mousedown",g),function(){return window.removeEventListener("mousedown",g)}},[])}function Xn(e){return e&&![nt.Z.ESC,nt.Z.SHIFT,nt.Z.BACKSPACE,nt.Z.TAB,nt.Z.WIN_KEY,nt.Z.ALT,nt.Z.META,nt.Z.WIN_KEY_RIGHT,nt.Z.CTRL,nt.Z.SEMICOLON,nt.Z.EQUALS,nt.Z.CAPS_LOCK,nt.Z.CONTEXT_MENU,nt.Z.F1,nt.Z.F2,nt.Z.F3,nt.Z.F4,nt.Z.F5,nt.Z.F6,nt.Z.F7,nt.Z.F8,nt.Z.F9,nt.Z.F10,nt.Z.F11,nt.Z.F12].includes(e)}var Mn=he(50009),Dr=function(t,o){var i,u=t.prefixCls,g=t.id,_=t.inputElement,x=t.disabled,S=t.tabIndex,T=t.autoFocus,M=t.autoComplete,R=t.editable,N=t.activeDescendantId,F=t.value,B=t.maxLength,V=t.onKeyDown,j=t.onMouseDown,H=t.onChange,U=t.onPaste,K=t.onCompositionStart,Y=t.onCompositionEnd,q=t.onBlur,Q=t.open,re=t.attrs,ae=_||s.createElement("input",null),se=ae,de=se.ref,pe=se.props,ge=pe.onKeyDown,me=pe.onChange,be=pe.onMouseDown,_e=pe.onCompositionStart,Ie=pe.onCompositionEnd,Ce=pe.onBlur,Le=pe.style;return(0,zl.Kp)(!("maxLength"in ae.props),"Passing 'maxLength' to input element directly may not work because input in BaseSelect is controlled."),ae=s.cloneElement(ae,(0,fe.Z)((0,fe.Z)((0,fe.Z)({type:"search"},pe),{},{id:g,ref:(0,zr.sQ)(o,de),disabled:x,tabIndex:S,autoComplete:M||"off",autoFocus:T,className:oe()("".concat(u,"-selection-search-input"),(i=ae)===null||i===void 0||(i=i.props)===null||i===void 0?void 0:i.className),role:"combobox","aria-expanded":Q||!1,"aria-haspopup":"listbox","aria-owns":"".concat(g,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(g,"_list"),"aria-activedescendant":Q?N:void 0},re),{},{value:R?F:"",maxLength:B,readOnly:!R,unselectable:R?null:"on",style:(0,fe.Z)((0,fe.Z)({},Le),{},{opacity:R?null:0}),onKeyDown:function(ke){V(ke),ge&&ge(ke)},onMouseDown:function(ke){j(ke),be&&be(ke)},onChange:function(ke){H(ke),me&&me(ke)},onCompositionStart:function(ke){K(ke),_e&&_e(ke)},onCompositionEnd:function(ke){Y(ke),Ie&&Ie(ke)},onPaste:U,onBlur:function(ke){q(ke),Ce&&Ce(ke)}})),ae},ar=s.forwardRef(Dr),Wn=ar;function _r(e){return Array.isArray(e)?e:e!==void 0?[e]:[]}var Rr=typeof window!="undefined"&&window.document&&window.document.documentElement,oi=Rr;function mi(e){return e!=null}function Co(e){return!e&&e!==0}function Vi(e){return["string","number"].includes((0,Tt.Z)(e))}function Wi(e){var t=void 0;return e&&(Vi(e.title)?t=e.title.toString():Vi(e.label)&&(t=e.label.toString())),t}function Ao(e,t){oi?s.useLayoutEffect(e,t):s.useEffect(e,t)}function Ga(e){var t;return(t=e.key)!==null&&t!==void 0?t:e.value}var bs=function(t){t.preventDefault(),t.stopPropagation()},ll=function(t){var o=t.id,i=t.prefixCls,u=t.values,g=t.open,_=t.searchValue,x=t.autoClearSearchValue,S=t.inputRef,T=t.placeholder,M=t.disabled,R=t.mode,N=t.showSearch,F=t.autoFocus,B=t.autoComplete,V=t.activeDescendantId,j=t.tabIndex,H=t.removeIcon,U=t.maxTagCount,K=t.maxTagTextLength,Y=t.maxTagPlaceholder,q=Y===void 0?function(tt){return"+ ".concat(tt.length," ...")}:Y,Q=t.tagRender,re=t.onToggleOpen,ae=t.onRemove,se=t.onInputChange,de=t.onInputPaste,pe=t.onInputKeyDown,ge=t.onInputMouseDown,me=t.onInputCompositionStart,be=t.onInputCompositionEnd,_e=t.onInputBlur,Ie=s.useRef(null),Ce=(0,s.useState)(0),Le=(0,ve.Z)(Ce,2),ze=Le[0],ke=Le[1],Ze=(0,s.useState)(!1),je=(0,ve.Z)(Ze,2),Ue=je[0],He=je[1],Qe="".concat(i,"-selection"),We=g||R==="multiple"&&x===!1||R==="tags"?_:"",it=R==="tags"||R==="multiple"&&x===!1||N&&(g||Ue);Ao(function(){ke(Ie.current.scrollWidth)},[We]);var Je=function(xt,_t,dn,on,Ut){return s.createElement("span",{title:Wi(xt),className:oe()("".concat(Qe,"-item"),(0,Ee.Z)({},"".concat(Qe,"-item-disabled"),dn))},s.createElement("span",{className:"".concat(Qe,"-item-content")},_t),on&&s.createElement(pn,{className:"".concat(Qe,"-item-remove"),onMouseDown:bs,onClick:Ut,customizeIcon:H},"\xD7"))},wt=function(xt,_t,dn,on,Ut,en){var kt=function(zn){bs(zn),re(!g)};return s.createElement("span",{onMouseDown:kt},Q({label:_t,value:xt,disabled:dn,closable:on,onClose:Ut,isMaxTag:!!en}))},Dt=function(xt){var _t=xt.disabled,dn=xt.label,on=xt.value,Ut=!M&&!_t,en=dn;if(typeof K=="number"&&(typeof dn=="string"||typeof dn=="number")){var kt=String(en);kt.length>K&&(en="".concat(kt.slice(0,K),"..."))}var cn=function(An){An&&An.stopPropagation(),ae(xt)};return typeof Q=="function"?wt(on,en,_t,Ut,cn):Je(xt,en,_t,Ut,cn)},ct=function(xt){if(!u.length)return null;var _t=typeof q=="function"?q(xt):q;return typeof Q=="function"?wt(void 0,_t,!1,!1,void 0,!0):Je({title:_t},_t,!1)},ht=s.createElement("div",{className:"".concat(Qe,"-search"),style:{width:ze},onFocus:function(){He(!0)},onBlur:function(){He(!1)}},s.createElement(Wn,{ref:S,open:g,prefixCls:i,id:o,inputElement:null,disabled:M,autoFocus:F,autoComplete:B,editable:it,activeDescendantId:V,value:We,onKeyDown:pe,onMouseDown:ge,onChange:se,onPaste:de,onCompositionStart:me,onCompositionEnd:be,onBlur:_e,tabIndex:j,attrs:(0,ir.Z)(t,!0)}),s.createElement("span",{ref:Ie,className:"".concat(Qe,"-search-mirror"),"aria-hidden":!0},We,"\xA0")),ut=s.createElement(Mn.Z,{prefixCls:"".concat(Qe,"-overflow"),data:u,renderItem:Dt,renderRest:ct,suffix:ht,itemKey:Ga,maxCount:U});return s.createElement("span",{className:"".concat(Qe,"-wrap")},ut,!u.length&&!We&&s.createElement("span",{className:"".concat(Qe,"-placeholder")},T))},Ys=ll,Go=function(t){var o=t.inputElement,i=t.prefixCls,u=t.id,g=t.inputRef,_=t.disabled,x=t.autoFocus,S=t.autoComplete,T=t.activeDescendantId,M=t.mode,R=t.open,N=t.values,F=t.placeholder,B=t.tabIndex,V=t.showSearch,j=t.searchValue,H=t.activeValue,U=t.maxLength,K=t.onInputKeyDown,Y=t.onInputMouseDown,q=t.onInputChange,Q=t.onInputPaste,re=t.onInputCompositionStart,ae=t.onInputCompositionEnd,se=t.onInputBlur,de=t.title,pe=s.useState(!1),ge=(0,ve.Z)(pe,2),me=ge[0],be=ge[1],_e=M==="combobox",Ie=_e||V,Ce=N[0],Le=j||"";_e&&H&&!me&&(Le=H),s.useEffect(function(){_e&&be(!1)},[_e,H]);var ze=M!=="combobox"&&!R&&!V?!1:!!Le,ke=de===void 0?Wi(Ce):de,Ze=s.useMemo(function(){return Ce?null:s.createElement("span",{className:"".concat(i,"-selection-placeholder"),style:ze?{visibility:"hidden"}:void 0},F)},[Ce,ze,F,i]);return s.createElement("span",{className:"".concat(i,"-selection-wrap")},s.createElement("span",{className:"".concat(i,"-selection-search")},s.createElement(Wn,{ref:g,prefixCls:i,id:u,open:R,inputElement:o,disabled:_,autoFocus:x,autoComplete:S,editable:Ie,activeDescendantId:T,value:Le,onKeyDown:K,onMouseDown:Y,onChange:function(Ue){be(!0),q(Ue)},onPaste:Q,onCompositionStart:re,onCompositionEnd:ae,onBlur:se,tabIndex:B,attrs:(0,ir.Z)(t,!0),maxLength:_e?U:void 0})),!_e&&Ce?s.createElement("span",{className:"".concat(i,"-selection-item"),title:ke,style:ze?{visibility:"hidden"}:void 0},Ce.label):null,Ze)},Ja=Go,Ni=function(t,o){var i=(0,s.useRef)(null),u=(0,s.useRef)(!1),g=t.prefixCls,_=t.open,x=t.mode,S=t.showSearch,T=t.tokenWithEnter,M=t.disabled,R=t.prefix,N=t.autoClearSearchValue,F=t.onSearch,B=t.onSearchSubmit,V=t.onToggleOpen,j=t.onInputKeyDown,H=t.onInputBlur,U=t.domRef;s.useImperativeHandle(o,function(){return{focus:function(ke){i.current.focus(ke)},blur:function(){i.current.blur()}}});var K=hr(0),Y=(0,ve.Z)(K,2),q=Y[0],Q=Y[1],re=function(ke){var Ze=ke.which,je=i.current instanceof HTMLTextAreaElement;!je&&_&&(Ze===nt.Z.UP||Ze===nt.Z.DOWN)&&ke.preventDefault(),j&&j(ke),Ze===nt.Z.ENTER&&x==="tags"&&!u.current&&!_&&(B==null||B(ke.target.value)),!(je&&!_&&~[nt.Z.UP,nt.Z.DOWN,nt.Z.LEFT,nt.Z.RIGHT].indexOf(Ze))&&Xn(Ze)&&V(!0)},ae=function(){Q(!0)},se=(0,s.useRef)(null),de=function(ke){F(ke,!0,u.current)!==!1&&V(!0)},pe=function(){u.current=!0},ge=function(ke){u.current=!1,x!=="combobox"&&de(ke.target.value)},me=function(ke){var Ze=ke.target.value;if(T&&se.current&&/[\r\n]/.test(se.current)){var je=se.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");Ze=Ze.replace(je,se.current)}se.current=null,de(Ze)},be=function(ke){var Ze=ke.clipboardData,je=Ze==null?void 0:Ze.getData("text");se.current=je||""},_e=function(ke){var Ze=ke.target;if(Ze!==i.current){var je=document.body.style.msTouchAction!==void 0;je?setTimeout(function(){i.current.focus()}):i.current.focus()}},Ie=function(ke){var Ze=q();ke.target!==i.current&&!Ze&&!(x==="combobox"&&M)&&ke.preventDefault(),(x!=="combobox"&&(!S||!Ze)||!_)&&(_&&N!==!1&&F("",!0,!1),V())},Ce={inputRef:i,onInputKeyDown:re,onInputMouseDown:ae,onInputChange:me,onInputPaste:be,onInputCompositionStart:pe,onInputCompositionEnd:ge,onInputBlur:H},Le=x==="multiple"||x==="tags"?s.createElement(Ys,(0,Pt.Z)({},t,Ce)):s.createElement(Ja,(0,Pt.Z)({},t,Ce));return s.createElement("div",{ref:U,className:"".concat(g,"-selector"),onClick:_e,onMouseDown:Ie},R&&s.createElement("div",{className:"".concat(g,"-prefix")},R),Le)},Ba=s.forwardRef(Ni),fs=Ba,Ka=he(83190),sl=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],Vl=function(t){var o=t===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:o,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:o,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:o,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:o,adjustY:1},htmlRegion:"scroll"}}},Ol=function(t,o){var i=t.prefixCls,u=t.disabled,g=t.visible,_=t.children,x=t.popupElement,S=t.animation,T=t.transitionName,M=t.dropdownStyle,R=t.dropdownClassName,N=t.direction,F=N===void 0?"ltr":N,B=t.placement,V=t.builtinPlacements,j=t.dropdownMatchSelectWidth,H=t.dropdownRender,U=t.dropdownAlign,K=t.getPopupContainer,Y=t.empty,q=t.getTriggerDOMNode,Q=t.onPopupVisibleChange,re=t.onPopupMouseEnter,ae=(0,Ve.Z)(t,sl),se="".concat(i,"-dropdown"),de=x;H&&(de=H(x));var pe=s.useMemo(function(){return V||Vl(j)},[V,j]),ge=S?"".concat(se,"-").concat(S):T,me=typeof j=="number",be=s.useMemo(function(){return me?null:j===!1?"minWidth":"width"},[j,me]),_e=M;me&&(_e=(0,fe.Z)((0,fe.Z)({},_e),{},{width:j}));var Ie=s.useRef(null);return s.useImperativeHandle(o,function(){return{getPopupElement:function(){var Le;return(Le=Ie.current)===null||Le===void 0?void 0:Le.popupElement}}}),s.createElement(Ka.Z,(0,Pt.Z)({},ae,{showAction:Q?["click"]:[],hideAction:Q?["click"]:[],popupPlacement:B||(F==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:pe,prefixCls:se,popupTransitionName:ge,popup:s.createElement("div",{onMouseEnter:re},de),ref:Ie,stretch:be,popupAlign:U,popupVisible:g,getPopupContainer:K,popupClassName:oe()(R,(0,Ee.Z)({},"".concat(se,"-empty"),Y)),popupStyle:_e,getTriggerDOMNode:q,onPopupVisibleChange:Q}),_)},$l=s.forwardRef(Ol),Hc=$l,mc=he(70615);function rl(e,t){var o=e.key,i;return"value"in e&&(i=e.value),o!=null?o:i!==void 0?i:"rc-index-key-".concat(t)}function Ls(e){return typeof e!="undefined"&&!Number.isNaN(e)}function Rs(e,t){var o=e||{},i=o.label,u=o.value,g=o.options,_=o.groupLabel,x=i||(t?"children":"label");return{label:x,value:u||"value",options:g||"options",groupLabel:_||x}}function Xa(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=t.fieldNames,i=t.childrenAsData,u=[],g=Rs(o,!1),_=g.label,x=g.value,S=g.options,T=g.groupLabel;function M(R,N){Array.isArray(R)&&R.forEach(function(F){if(N||!(S in F)){var B=F[x];u.push({key:rl(F,u.length),groupOption:N,data:F,label:F[_],value:B})}else{var V=F[T];V===void 0&&i&&(V=F.label),u.push({key:rl(F,u.length),group:!0,data:F,label:V}),M(F[S],!0)}})}return M(e,!1),u}function hl(e){var t=(0,fe.Z)({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return(0,zl.ZP)(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),t}}),t}var Hl=function(t,o,i){if(!o||!o.length)return null;var u=!1,g=function x(S,T){var M=(0,mc.Z)(T),R=M[0],N=M.slice(1);if(!R)return[S];var F=S.split(R);return u=u||F.length>1,F.reduce(function(B,V){return[].concat((0,Be.Z)(B),(0,Be.Z)(x(V,N)))},[]).filter(Boolean)},_=g(t,o);return u?typeof i!="undefined"?_.slice(0,i):_:null},Bs=s.createContext(null),nc=Bs;function tu(e){var t=e.visible,o=e.values;if(!t)return null;var i=50;return s.createElement("span",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"".concat(o.slice(0,i).map(function(u){var g=u.label,_=u.value;return["number","string"].includes((0,Tt.Z)(g))?g:_}).join(", ")),o.length>i?", ...":null)}var zc=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","prefix","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],Tc=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"],nu=function(t){return t==="tags"||t==="multiple"},ru=s.forwardRef(function(e,t){var o,i=e.id,u=e.prefixCls,g=e.className,_=e.showSearch,x=e.tagRender,S=e.direction,T=e.omitDomProps,M=e.displayValues,R=e.onDisplayValuesChange,N=e.emptyOptions,F=e.notFoundContent,B=F===void 0?"Not Found":F,V=e.onClear,j=e.mode,H=e.disabled,U=e.loading,K=e.getInputElement,Y=e.getRawInputElement,q=e.open,Q=e.defaultOpen,re=e.onDropdownVisibleChange,ae=e.activeValue,se=e.onActiveValueChange,de=e.activeDescendantId,pe=e.searchValue,ge=e.autoClearSearchValue,me=e.onSearch,be=e.onSearchSplit,_e=e.tokenSeparators,Ie=e.allowClear,Ce=e.prefix,Le=e.suffixIcon,ze=e.clearIcon,ke=e.OptionList,Ze=e.animation,je=e.transitionName,Ue=e.dropdownStyle,He=e.dropdownClassName,Qe=e.dropdownMatchSelectWidth,We=e.dropdownRender,it=e.dropdownAlign,Je=e.placement,wt=e.builtinPlacements,Dt=e.getPopupContainer,ct=e.showAction,ht=ct===void 0?[]:ct,ut=e.onFocus,tt=e.onBlur,xt=e.onKeyUp,_t=e.onKeyDown,dn=e.onMouseDown,on=(0,Ve.Z)(e,zc),Ut=nu(j),en=(_!==void 0?_:Ut)||j==="combobox",kt=(0,fe.Z)({},on);Tc.forEach(function(Ps){delete kt[Ps]}),T==null||T.forEach(function(Ps){delete kt[Ps]});var cn=s.useState(!1),zn=(0,ve.Z)(cn,2),An=zn[0],sr=zn[1];s.useEffect(function(){sr((0,Bt.Z)())},[]);var yr=s.useRef(null),Vr=s.useRef(null),Qn=s.useRef(null),Un=s.useRef(null),er=s.useRef(null),Ir=s.useRef(!1),pr=$n(),Zr=(0,ve.Z)(pr,3),xn=Zr[0],fn=Zr[1],yn=Zr[2];s.useImperativeHandle(t,function(){var Ps,Lo;return{focus:(Ps=Un.current)===null||Ps===void 0?void 0:Ps.focus,blur:(Lo=Un.current)===null||Lo===void 0?void 0:Lo.blur,scrollTo:function(Ki){var eo;return(eo=er.current)===null||eo===void 0?void 0:eo.scrollTo(Ki)},nativeElement:yr.current||Vr.current}});var Gt=s.useMemo(function(){var Ps;if(j!=="combobox")return pe;var Lo=(Ps=M[0])===null||Ps===void 0?void 0:Ps.value;return typeof Lo=="string"||typeof Lo=="number"?String(Lo):""},[pe,j,M]),Kn=j==="combobox"&&typeof K=="function"&&K()||null,vr=typeof Y=="function"&&Y(),Jr=(0,zr.x1)(Vr,vr==null||(o=vr.props)===null||o===void 0?void 0:o.ref),Hi=s.useState(!1),Gi=(0,ve.Z)(Hi,2),Zi=Gi[0],Fa=Gi[1];(0,yt.Z)(function(){Fa(!0)},[]);var Do=(0,Jo.Z)(!1,{defaultValue:Q,value:q}),zo=(0,ve.Z)(Do,2),oo=zo[0],Uo=zo[1],ua=Zi?oo:!1,xi=!B&&N;(H||xi&&ua&&j==="combobox")&&(ua=!1);var Fi=xi?!1:ua,Wr=s.useCallback(function(Ps){var Lo=Ps!==void 0?Ps:!ua;H||(Uo(Lo),ua!==Lo&&(re==null||re(Lo)))},[H,ua,Uo,re]),gi=s.useMemo(function(){return(_e||[]).some(function(Ps){return[`
`,`\r
`].includes(Ps)})},[_e]),Ci=s.useContext(nc)||{},Yi=Ci.maxCount,xa=Ci.rawValues,Pa=function(Lo,as,Ki){if(!(Ut&&Ls(Yi)&&(xa==null?void 0:xa.size)>=Yi)){var eo=!0,ps=Lo;se==null||se(null);var wl=Hl(Lo,_e,Ls(Yi)?Yi-xa.size:void 0),cc=Ki?null:wl;return j!=="combobox"&&cc&&(ps="",be==null||be(cc),Wr(!1),eo=!1),me&&Gt!==ps&&me(ps,{source:as?"typing":"effect"}),eo}},Fs=function(Lo){!Lo||!Lo.trim()||me(Lo,{source:"submit"})};s.useEffect(function(){!ua&&!Ut&&j!=="combobox"&&Pa("",!1,!1)},[ua]),s.useEffect(function(){oo&&H&&Uo(!1),H&&!Ir.current&&fn(!1)},[H]);var Xi=hr(),Di=(0,ve.Z)(Xi,2),Si=Di[0],Ii=Di[1],da=s.useRef(!1),Qa=function(Lo){var as=Si(),Ki=Lo.key,eo=Ki==="Enter";if(eo&&(j!=="combobox"&&Lo.preventDefault(),ua||Wr(!0)),Ii(!!Gt),Ki==="Backspace"&&!as&&Ut&&!Gt&&M.length){for(var ps=(0,Be.Z)(M),wl=null,cc=ps.length-1;cc>=0;cc-=1){var vu=ps[cc];if(!vu.disabled){ps.splice(cc,1),wl=vu;break}}wl&&R(ps,{type:"remove",values:[wl]})}for(var Nu=arguments.length,Bu=new Array(Nu>1?Nu-1:0),es=1;es<Nu;es++)Bu[es-1]=arguments[es];if(ua&&(!eo||!da.current)){var ao;eo&&(da.current=!0),(ao=er.current)===null||ao===void 0||ao.onKeyDown.apply(ao,[Lo].concat(Bu))}_t==null||_t.apply(void 0,[Lo].concat(Bu))},Wo=function(Lo){for(var as=arguments.length,Ki=new Array(as>1?as-1:0),eo=1;eo<as;eo++)Ki[eo-1]=arguments[eo];if(ua){var ps;(ps=er.current)===null||ps===void 0||ps.onKeyUp.apply(ps,[Lo].concat(Ki))}Lo.key==="Enter"&&(da.current=!1),xt==null||xt.apply(void 0,[Lo].concat(Ki))},lo=function(Lo){var as=M.filter(function(Ki){return Ki!==Lo});R(as,{type:"remove",values:[Lo]})},va=function(){da.current=!1},ka=s.useRef(!1),Us=function(){fn(!0),H||(ut&&!ka.current&&ut.apply(void 0,arguments),ht.includes("focus")&&Wr(!0)),ka.current=!0},Ti=function(){Ir.current=!0,fn(!1,function(){ka.current=!1,Ir.current=!1,Wr(!1)}),!H&&(Gt&&(j==="tags"?me(Gt,{source:"submit"}):j==="multiple"&&me("",{source:"blur"})),tt&&tt.apply(void 0,arguments))},xr=[];s.useEffect(function(){return function(){xr.forEach(function(Ps){return clearTimeout(Ps)}),xr.splice(0,xr.length)}},[]);var zi=function(Lo){var as,Ki=Lo.target,eo=(as=Qn.current)===null||as===void 0?void 0:as.getPopupElement();if(eo&&eo.contains(Ki)){var ps=setTimeout(function(){var Nu=xr.indexOf(ps);if(Nu!==-1&&xr.splice(Nu,1),yn(),!An&&!eo.contains(document.activeElement)){var Bu;(Bu=Un.current)===null||Bu===void 0||Bu.focus()}});xr.push(ps)}for(var wl=arguments.length,cc=new Array(wl>1?wl-1:0),vu=1;vu<wl;vu++)cc[vu-1]=arguments[vu];dn==null||dn.apply(void 0,[Lo].concat(cc))},_o=s.useState({}),Sa=(0,ve.Z)(_o,2),vs=Sa[1];function Js(){vs({})}var hs;vr&&(hs=function(Lo){Wr(Lo)}),nn(function(){var Ps;return[yr.current,(Ps=Qn.current)===null||Ps===void 0?void 0:Ps.getPopupElement()]},Fi,Wr,!!vr);var ho=s.useMemo(function(){return(0,fe.Z)((0,fe.Z)({},e),{},{notFoundContent:B,open:ua,triggerOpen:Fi,id:i,showSearch:en,multiple:Ut,toggleOpen:Wr})},[e,B,Fi,ua,i,en,Ut,Wr]),fa=!!Le||U,ja;fa&&(ja=s.createElement(pn,{className:oe()("".concat(u,"-arrow"),(0,Ee.Z)({},"".concat(u,"-arrow-loading"),U)),customizeIcon:Le,customizeIconProps:{loading:U,searchValue:Gt,open:ua,focused:xn,showSearch:en}}));var Ws=function(){var Lo;V==null||V(),(Lo=Un.current)===null||Lo===void 0||Lo.focus(),R([],{type:"clear",values:M}),Pa("",!1,!1)},lc=Hn(u,Ws,M,Ie,ze,H,Gt,j),Lu=lc.allowClear,Ih=lc.clearIcon,Th=s.createElement(ke,{ref:er}),kd=oe()(u,g,(0,Ee.Z)((0,Ee.Z)((0,Ee.Z)((0,Ee.Z)((0,Ee.Z)((0,Ee.Z)((0,Ee.Z)((0,Ee.Z)((0,Ee.Z)((0,Ee.Z)({},"".concat(u,"-focused"),xn),"".concat(u,"-multiple"),Ut),"".concat(u,"-single"),!Ut),"".concat(u,"-allow-clear"),Ie),"".concat(u,"-show-arrow"),fa),"".concat(u,"-disabled"),H),"".concat(u,"-loading"),U),"".concat(u,"-open"),ua),"".concat(u,"-customize-input"),Kn),"".concat(u,"-show-search"),en)),jd=s.createElement(Hc,{ref:Qn,disabled:H,prefixCls:u,visible:Fi,popupElement:Th,animation:Ze,transitionName:je,dropdownStyle:Ue,dropdownClassName:He,direction:S,dropdownMatchSelectWidth:Qe,dropdownRender:We,dropdownAlign:it,placement:Je,builtinPlacements:wt,getPopupContainer:Dt,empty:N,getTriggerDOMNode:function(Lo){return Vr.current||Lo},onPopupVisibleChange:hs,onPopupMouseEnter:Js},vr?s.cloneElement(vr,{ref:Jr}):s.createElement(fs,(0,Pt.Z)({},e,{domRef:Vr,prefixCls:u,inputElement:Kn,ref:Un,id:i,prefix:Ce,showSearch:en,autoClearSearchValue:ge,mode:j,activeDescendantId:de,tagRender:x,values:M,open:ua,onToggleOpen:Wr,activeValue:ae,searchValue:Gt,onSearch:Pa,onSearchSubmit:Fs,onRemove:lo,tokenWithEnter:gi,onInputBlur:va}))),dd;return vr?dd=jd:dd=s.createElement("div",(0,Pt.Z)({className:kd},kt,{ref:yr,onMouseDown:zi,onKeyDown:Qa,onKeyUp:Wo,onFocus:Us,onBlur:Ti}),s.createElement(tu,{visible:xn&&!ua,values:M}),jd,ja,Lu&&Ih),s.createElement(Zn.Provider,{value:ho},dd)}),Mc=ru,Id=function(){return null};Id.isSelectOptGroup=!0;var fu=Id,Td=function(){return null};Td.isSelectOption=!0;var bf=Td,ed=he(54596),qp=he(98131);function pb(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}var PC=["disabled","title","children","style","className"];function mb(e){return typeof e=="string"||typeof e=="number"}var gb=function(t,o){var i=rn(),u=i.prefixCls,g=i.id,_=i.open,x=i.multiple,S=i.mode,T=i.searchValue,M=i.toggleOpen,R=i.notFoundContent,N=i.onPopupScroll,F=s.useContext(nc),B=F.maxCount,V=F.flattenOptions,j=F.onActiveValue,H=F.defaultActiveFirstOption,U=F.onSelect,K=F.menuItemSelectedIcon,Y=F.rawValues,q=F.fieldNames,Q=F.virtual,re=F.direction,ae=F.listHeight,se=F.listItemHeight,de=F.optionRender,pe="".concat(u,"-item"),ge=(0,ed.Z)(function(){return V},[_,V],function(ct,ht){return ht[0]&&ct[1]!==ht[1]}),me=s.useRef(null),be=s.useMemo(function(){return x&&Ls(B)&&(Y==null?void 0:Y.size)>=B},[x,B,Y==null?void 0:Y.size]),_e=function(ht){ht.preventDefault()},Ie=function(ht){var ut;(ut=me.current)===null||ut===void 0||ut.scrollTo(typeof ht=="number"?{index:ht}:ht)},Ce=s.useCallback(function(ct){return S==="combobox"?!1:Y.has(ct)},[S,(0,Be.Z)(Y).toString(),Y.size]),Le=function(ht){for(var ut=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,tt=ge.length,xt=0;xt<tt;xt+=1){var _t=(ht+xt*ut+tt)%tt,dn=ge[_t]||{},on=dn.group,Ut=dn.data;if(!on&&!(Ut!=null&&Ut.disabled)&&(Ce(Ut.value)||!be))return _t}return-1},ze=s.useState(function(){return Le(0)}),ke=(0,ve.Z)(ze,2),Ze=ke[0],je=ke[1],Ue=function(ht){var ut=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;je(ht);var tt={source:ut?"keyboard":"mouse"},xt=ge[ht];if(!xt){j(null,-1,tt);return}j(xt.value,ht,tt)};(0,s.useEffect)(function(){Ue(H!==!1?Le(0):-1)},[ge.length,T]);var He=s.useCallback(function(ct){return S==="combobox"?String(ct).toLowerCase()===T.toLowerCase():Y.has(ct)},[S,T,(0,Be.Z)(Y).toString(),Y.size]);(0,s.useEffect)(function(){var ct=setTimeout(function(){if(!x&&_&&Y.size===1){var ut=Array.from(Y)[0],tt=ge.findIndex(function(xt){var _t=xt.data;return _t.value===ut});tt!==-1&&(Ue(tt),Ie(tt))}});if(_){var ht;(ht=me.current)===null||ht===void 0||ht.scrollTo(void 0)}return function(){return clearTimeout(ct)}},[_,T]);var Qe=function(ht){ht!==void 0&&U(ht,{selected:!Y.has(ht)}),x||M(!1)};if(s.useImperativeHandle(o,function(){return{onKeyDown:function(ht){var ut=ht.which,tt=ht.ctrlKey;switch(ut){case nt.Z.N:case nt.Z.P:case nt.Z.UP:case nt.Z.DOWN:{var xt=0;if(ut===nt.Z.UP?xt=-1:ut===nt.Z.DOWN?xt=1:pb()&&tt&&(ut===nt.Z.N?xt=1:ut===nt.Z.P&&(xt=-1)),xt!==0){var _t=Le(Ze+xt,xt);Ie(_t),Ue(_t,!0)}break}case nt.Z.TAB:case nt.Z.ENTER:{var dn,on=ge[Ze];on&&!(on!=null&&(dn=on.data)!==null&&dn!==void 0&&dn.disabled)&&!be?Qe(on.value):Qe(void 0),_&&ht.preventDefault();break}case nt.Z.ESC:M(!1),_&&ht.stopPropagation()}},onKeyUp:function(){},scrollTo:function(ht){Ie(ht)}}}),ge.length===0)return s.createElement("div",{role:"listbox",id:"".concat(g,"_list"),className:"".concat(pe,"-empty"),onMouseDown:_e},R);var We=Object.keys(q).map(function(ct){return q[ct]}),it=function(ht){return ht.label};function Je(ct,ht){var ut=ct.group;return{role:ut?"presentation":"option",id:"".concat(g,"_list_").concat(ht)}}var wt=function(ht){var ut=ge[ht];if(!ut)return null;var tt=ut.data||{},xt=tt.value,_t=ut.group,dn=(0,ir.Z)(tt,!0),on=it(ut);return ut?s.createElement("div",(0,Pt.Z)({"aria-label":typeof on=="string"&&!_t?on:null},dn,{key:ht},Je(ut,ht),{"aria-selected":He(xt)}),xt):null},Dt={role:"listbox",id:"".concat(g,"_list")};return s.createElement(s.Fragment,null,Q&&s.createElement("div",(0,Pt.Z)({},Dt,{style:{height:0,width:0,overflow:"hidden"}}),wt(Ze-1),wt(Ze),wt(Ze+1)),s.createElement(qp.Z,{itemKey:"key",ref:me,data:ge,height:ae,itemHeight:se,fullHeight:!1,onMouseDown:_e,onScroll:N,virtual:Q,direction:re,innerProps:Q?null:Dt},function(ct,ht){var ut=ct.group,tt=ct.groupOption,xt=ct.data,_t=ct.label,dn=ct.value,on=xt.key;if(ut){var Ut,en=(Ut=xt.title)!==null&&Ut!==void 0?Ut:mb(_t)?_t.toString():void 0;return s.createElement("div",{className:oe()(pe,"".concat(pe,"-group"),xt.className),title:en},_t!==void 0?_t:on)}var kt=xt.disabled,cn=xt.title,zn=xt.children,An=xt.style,sr=xt.className,yr=(0,Ve.Z)(xt,PC),Vr=(0,Er.Z)(yr,We),Qn=Ce(dn),Un=kt||!Qn&&be,er="".concat(pe,"-option"),Ir=oe()(pe,er,sr,(0,Ee.Z)((0,Ee.Z)((0,Ee.Z)((0,Ee.Z)({},"".concat(er,"-grouped"),tt),"".concat(er,"-active"),Ze===ht&&!Un),"".concat(er,"-disabled"),Un),"".concat(er,"-selected"),Qn)),pr=it(ct),Zr=!K||typeof K=="function"||Qn,xn=typeof pr=="number"?pr:pr||dn,fn=mb(xn)?xn.toString():void 0;return cn!==void 0&&(fn=cn),s.createElement("div",(0,Pt.Z)({},(0,ir.Z)(Vr),Q?{}:Je(ct,ht),{"aria-selected":He(dn),className:Ir,title:fn,onMouseMove:function(){Ze===ht||Un||Ue(ht)},onClick:function(){Un||Qe(dn)},style:An}),s.createElement("div",{className:"".concat(er,"-content")},typeof de=="function"?de(ct,{index:ht}):xn),s.isValidElement(K)||Qn,Zr&&s.createElement(pn,{className:"".concat(pe,"-option-state"),customizeIcon:K,customizeIconProps:{value:dn,disabled:Un,isSelected:Qn}},Qn?"\u2713":null))}))},vb=s.forwardRef(gb),yb=vb,_b=function(e,t){var o=s.useRef({values:new Map,options:new Map}),i=s.useMemo(function(){var g=o.current,_=g.values,x=g.options,S=e.map(function(R){if(R.label===void 0){var N;return(0,fe.Z)((0,fe.Z)({},R),{},{label:(N=_.get(R.value))===null||N===void 0?void 0:N.label})}return R}),T=new Map,M=new Map;return S.forEach(function(R){T.set(R.value,R),M.set(R.value,t.get(R.value)||x.get(R.value))}),o.current.values=T,o.current.options=M,S},[e,t]),u=s.useCallback(function(g){return t.get(g)||o.current.options.get(g)},[t]);return[i,u]};function A0(e,t){return _r(e).join("").toUpperCase().includes(t)}var bb=function(e,t,o,i,u){return s.useMemo(function(){if(!o||i===!1)return e;var g=t.options,_=t.label,x=t.value,S=[],T=typeof i=="function",M=o.toUpperCase(),R=T?i:function(F,B){return u?A0(B[u],M):B[g]?A0(B[_!=="children"?_:"label"],M):A0(B[x],M)},N=T?function(F){return hl(F)}:function(F){return F};return e.forEach(function(F){if(F[g]){var B=R(o,N(F));if(B)S.push(F);else{var V=F[g].filter(function(j){return R(o,N(j))});V.length&&S.push((0,fe.Z)((0,fe.Z)({},F),{},(0,Ee.Z)({},g,V)))}return}R(o,N(F))&&S.push(F)}),S},[e,i,u,o,t])},sy=0,ly=(0,Vf.Z)();function Qf(){var e;return ly?(e=sy,sy+=1):e="TEST_OR_SSR",e}function Yl(e){var t=s.useState(),o=(0,ve.Z)(t,2),i=o[0],u=o[1];return s.useEffect(function(){u("rc_select_".concat(Qf()))},[]),e||i}var xb=["children","value"],Qm=["children"];function OC(e){var t=e,o=t.key,i=t.props,u=i.children,g=i.value,_=(0,Ve.Z)(i,xb);return(0,fe.Z)({key:o,value:g!==void 0?g:o,children:u},_)}function Cb(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return(0,El.Z)(e).map(function(o,i){if(!s.isValidElement(o)||!o.type)return null;var u=o,g=u.type.isSelectOptGroup,_=u.key,x=u.props,S=x.children,T=(0,Ve.Z)(x,Qm);return t||!g?OC(o):(0,fe.Z)((0,fe.Z)({key:"__RC_SELECT_GRP__".concat(_===null?i:_,"__"),label:_},T),{},{options:Cb(S)})}).filter(function(o){return o})}var eg=function(t,o,i,u,g){return s.useMemo(function(){var _=t,x=!t;x&&(_=Cb(o));var S=new Map,T=new Map,M=function(F,B,V){V&&typeof V=="string"&&F.set(B[V],B)},R=function N(F){for(var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,V=0;V<F.length;V+=1){var j=F[V];!j[i.options]||B?(S.set(j[i.value],j),M(T,j,i.label),M(T,j,u),M(T,j,g)):N(j[i.options],!0)}};return R(_),{options:_,valueOptions:S,labelOptions:T}},[t,o,i,u,g])},wb=eg;function eh(e){var t=s.useRef();t.current=e;var o=s.useCallback(function(){return t.current.apply(t,arguments)},[]);return o}function D0(e){var t=e.mode,o=e.options,i=e.children,u=e.backfill,g=e.allowClear,_=e.placeholder,x=e.getInputElement,S=e.showSearch,T=e.onSearch,M=e.defaultOpen,R=e.autoFocus,N=e.labelInValue,F=e.value,B=e.inputValue,V=e.optionLabelProp,j=isMultiple(t),H=S!==void 0?S:j||t==="combobox",U=o||convertChildrenToData(i);if(warning(t!=="tags"||U.every(function(Q){return!Q.disabled}),"Please avoid setting option to disabled in tags mode since user can always type text as tag."),t==="tags"||t==="combobox"){var K=U.some(function(Q){return Q.options?Q.options.some(function(re){return typeof("value"in re?re.value:re.key)=="number"}):typeof("value"in Q?Q.value:Q.key)=="number"});warning(!K,"`value` of Option should not use number type when `mode` is `tags` or `combobox`.")}if(warning(t!=="combobox"||!V,"`combobox` mode not support `optionLabelProp`. Please set `value` on Option directly."),warning(t==="combobox"||!u,"`backfill` only works with `combobox` mode."),warning(t==="combobox"||!x,"`getInputElement` only work with `combobox` mode."),noteOnce(t!=="combobox"||!x||!g||!_,"Customize `getInputElement` should customize clear and placeholder logic instead of configuring `allowClear` and `placeholder`."),T&&!H&&t!=="combobox"&&t!=="tags"&&warning(!1,"`onSearch` should work with `showSearch` instead of use alone."),noteOnce(!M||R,"`defaultOpen` makes Select open without focus which means it will not close by click outside. You can set `autoFocus` if needed."),F!=null){var Y=toArray(F);warning(!N||Y.every(function(Q){return _typeof(Q)==="object"&&("key"in Q||"value"in Q)}),"`value` should in shape of `{ value: string | number, label?: ReactNode }` when you set `labelInValue` to `true`"),warning(!j||Array.isArray(F),"`value` should be array when `mode` is `multiple` or `tags`")}if(i){var q=null;toNodeArray(i).some(function(Q){if(!React.isValidElement(Q)||!Q.type)return!1;var re=Q,ae=re.type;if(ae.isSelectOption)return!1;if(ae.isSelectOptGroup){var se=toNodeArray(Q.props.children).every(function(de){return!React.isValidElement(de)||!Q.type||de.type.isSelectOption?!0:(q=de.type,!1)});return!se}return q=ae,!0}),q&&warning(!1,"`children` should be `Select.Option` or `Select.OptGroup` instead of `".concat(q.displayName||q.name||q,"`.")),warning(B===void 0,"`inputValue` is deprecated, please use `searchValue` instead.")}}function Q2(e,t){if(e){var o=function i(u){for(var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,_=0;_<u.length;_++){var x=u[_];if(x[t==null?void 0:t.value]===null)return warning(!1,"`value` in Select options should not be `null`."),!0;if(!g&&Array.isArray(x[t==null?void 0:t.options])&&i(x[t==null?void 0:t.options],!0))break}};o(e)}}var eE=null,$C=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","optionRender","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","labelRender","value","defaultValue","labelInValue","onChange","maxCount"],RC=["inputValue"];function AC(e){return!e||(0,Tt.Z)(e)!=="object"}var DC=s.forwardRef(function(e,t){var o=e.id,i=e.mode,u=e.prefixCls,g=u===void 0?"rc-select":u,_=e.backfill,x=e.fieldNames,S=e.inputValue,T=e.searchValue,M=e.onSearch,R=e.autoClearSearchValue,N=R===void 0?!0:R,F=e.onSelect,B=e.onDeselect,V=e.dropdownMatchSelectWidth,j=V===void 0?!0:V,H=e.filterOption,U=e.filterSort,K=e.optionFilterProp,Y=e.optionLabelProp,q=e.options,Q=e.optionRender,re=e.children,ae=e.defaultActiveFirstOption,se=e.menuItemSelectedIcon,de=e.virtual,pe=e.direction,ge=e.listHeight,me=ge===void 0?200:ge,be=e.listItemHeight,_e=be===void 0?20:be,Ie=e.labelRender,Ce=e.value,Le=e.defaultValue,ze=e.labelInValue,ke=e.onChange,Ze=e.maxCount,je=(0,Ve.Z)(e,$C),Ue=Yl(o),He=nu(i),Qe=!!(!q&&re),We=s.useMemo(function(){return H===void 0&&i==="combobox"?!1:H},[H,i]),it=s.useMemo(function(){return Rs(x,Qe)},[JSON.stringify(x),Qe]),Je=(0,Jo.Z)("",{value:T!==void 0?T:S,postState:function(gi){return gi||""}}),wt=(0,ve.Z)(Je,2),Dt=wt[0],ct=wt[1],ht=wb(q,re,it,K,Y),ut=ht.valueOptions,tt=ht.labelOptions,xt=ht.options,_t=s.useCallback(function(Wr){var gi=_r(Wr);return gi.map(function(Ci){var Yi,xa,Pa,Fs,Xi;if(AC(Ci))Yi=Ci;else{var Di;Pa=Ci.key,xa=Ci.label,Yi=(Di=Ci.value)!==null&&Di!==void 0?Di:Pa}var Si=ut.get(Yi);if(Si){var Ii;if(xa===void 0&&(xa=Si==null?void 0:Si[Y||it.label]),Pa===void 0&&(Pa=(Ii=Si==null?void 0:Si.key)!==null&&Ii!==void 0?Ii:Yi),Fs=Si==null?void 0:Si.disabled,Xi=Si==null?void 0:Si.title,0)var da}return{label:xa,value:Yi,key:Pa,disabled:Fs,title:Xi}})},[it,Y,ut]),dn=(0,Jo.Z)(Le,{value:Ce}),on=(0,ve.Z)(dn,2),Ut=on[0],en=on[1],kt=s.useMemo(function(){var Wr,gi=He&&Ut===null?[]:Ut,Ci=_t(gi);return i==="combobox"&&Co((Wr=Ci[0])===null||Wr===void 0?void 0:Wr.value)?[]:Ci},[Ut,_t,i,He]),cn=_b(kt,ut),zn=(0,ve.Z)(cn,2),An=zn[0],sr=zn[1],yr=s.useMemo(function(){if(!i&&An.length===1){var Wr=An[0];if(Wr.value===null&&(Wr.label===null||Wr.label===void 0))return[]}return An.map(function(gi){var Ci;return(0,fe.Z)((0,fe.Z)({},gi),{},{label:(Ci=typeof Ie=="function"?Ie(gi):gi.label)!==null&&Ci!==void 0?Ci:gi.value})})},[i,An,Ie]),Vr=s.useMemo(function(){return new Set(An.map(function(Wr){return Wr.value}))},[An]);s.useEffect(function(){if(i==="combobox"){var Wr,gi=(Wr=An[0])===null||Wr===void 0?void 0:Wr.value;ct(mi(gi)?String(gi):"")}},[An]);var Qn=eh(function(Wr,gi){var Ci=gi!=null?gi:Wr;return(0,Ee.Z)((0,Ee.Z)({},it.value,Wr),it.label,Ci)}),Un=s.useMemo(function(){if(i!=="tags")return xt;var Wr=(0,Be.Z)(xt),gi=function(Yi){return ut.has(Yi)};return(0,Be.Z)(An).sort(function(Ci,Yi){return Ci.value<Yi.value?-1:1}).forEach(function(Ci){var Yi=Ci.value;gi(Yi)||Wr.push(Qn(Yi,Ci.label))}),Wr},[Qn,xt,ut,An,i]),er=bb(Un,it,Dt,We,K),Ir=s.useMemo(function(){return i!=="tags"||!Dt||er.some(function(Wr){return Wr[K||"value"]===Dt})||er.some(function(Wr){return Wr[it.value]===Dt})?er:[Qn(Dt)].concat((0,Be.Z)(er))},[Qn,K,i,er,Dt,it]),pr=function Wr(gi){var Ci=(0,Be.Z)(gi).sort(function(Yi,xa){return U(Yi,xa,{searchValue:Dt})});return Ci.map(function(Yi){return Array.isArray(Yi.options)?(0,fe.Z)((0,fe.Z)({},Yi),{},{options:Yi.options.length>0?Wr(Yi.options):Yi.options}):Yi})},Zr=s.useMemo(function(){return U?pr(Ir):Ir},[Ir,U,Dt]),xn=s.useMemo(function(){return Xa(Zr,{fieldNames:it,childrenAsData:Qe})},[Zr,it,Qe]),fn=function(gi){var Ci=_t(gi);if(en(Ci),ke&&(Ci.length!==An.length||Ci.some(function(Pa,Fs){var Xi;return((Xi=An[Fs])===null||Xi===void 0?void 0:Xi.value)!==(Pa==null?void 0:Pa.value)}))){var Yi=ze?Ci:Ci.map(function(Pa){return Pa.value}),xa=Ci.map(function(Pa){return hl(sr(Pa.value))});ke(He?Yi:Yi[0],He?xa:xa[0])}},yn=s.useState(null),Gt=(0,ve.Z)(yn,2),Kn=Gt[0],vr=Gt[1],Jr=s.useState(0),Hi=(0,ve.Z)(Jr,2),Gi=Hi[0],Zi=Hi[1],Fa=ae!==void 0?ae:i!=="combobox",Do=s.useCallback(function(Wr,gi){var Ci=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Yi=Ci.source,xa=Yi===void 0?"keyboard":Yi;Zi(gi),_&&i==="combobox"&&Wr!==null&&xa==="keyboard"&&vr(String(Wr))},[_,i]),zo=function(gi,Ci,Yi){var xa=function(){var lo,va=sr(gi);return[ze?{label:va==null?void 0:va[it.label],value:gi,key:(lo=va==null?void 0:va.key)!==null&&lo!==void 0?lo:gi}:gi,hl(va)]};if(Ci&&F){var Pa=xa(),Fs=(0,ve.Z)(Pa,2),Xi=Fs[0],Di=Fs[1];F(Xi,Di)}else if(!Ci&&B&&Yi!=="clear"){var Si=xa(),Ii=(0,ve.Z)(Si,2),da=Ii[0],Qa=Ii[1];B(da,Qa)}},oo=eh(function(Wr,gi){var Ci,Yi=He?gi.selected:!0;Yi?Ci=He?[].concat((0,Be.Z)(An),[Wr]):[Wr]:Ci=An.filter(function(xa){return xa.value!==Wr}),fn(Ci),zo(Wr,Yi),i==="combobox"?vr(""):(!nu||N)&&(ct(""),vr(""))}),Uo=function(gi,Ci){fn(gi);var Yi=Ci.type,xa=Ci.values;(Yi==="remove"||Yi==="clear")&&xa.forEach(function(Pa){zo(Pa.value,!1,Yi)})},ua=function(gi,Ci){if(ct(gi),vr(null),Ci.source==="submit"){var Yi=(gi||"").trim();if(Yi){var xa=Array.from(new Set([].concat((0,Be.Z)(Vr),[Yi])));fn(xa),zo(Yi,!0),ct("")}return}Ci.source!=="blur"&&(i==="combobox"&&fn(gi),M==null||M(gi))},xi=function(gi){var Ci=gi;i!=="tags"&&(Ci=gi.map(function(xa){var Pa=tt.get(xa);return Pa==null?void 0:Pa.value}).filter(function(xa){return xa!==void 0}));var Yi=Array.from(new Set([].concat((0,Be.Z)(Vr),(0,Be.Z)(Ci))));fn(Yi),Yi.forEach(function(xa){zo(xa,!0)})},Fi=s.useMemo(function(){var Wr=de!==!1&&j!==!1;return(0,fe.Z)((0,fe.Z)({},ht),{},{flattenOptions:xn,onActiveValue:Do,defaultActiveFirstOption:Fa,onSelect:oo,menuItemSelectedIcon:se,rawValues:Vr,fieldNames:it,virtual:Wr,direction:pe,listHeight:me,listItemHeight:_e,childrenAsData:Qe,maxCount:Ze,optionRender:Q})},[Ze,ht,xn,Do,Fa,oo,se,Vr,it,de,j,pe,me,_e,Qe,Q]);return s.createElement(nc.Provider,{value:Fi},s.createElement(Mc,(0,Pt.Z)({},je,{id:Ue,prefixCls:g,ref:t,omitDomProps:RC,mode:i,displayValues:yr,onDisplayValuesChange:Uo,direction:pe,searchValue:Dt,onSearch:ua,autoClearSearchValue:N,onSearchSplit:xi,dropdownMatchSelectWidth:j,OptionList:yb,emptyOptions:!xn.length,activeValue:Kn,activeDescendantId:"".concat(Ue,"_list_").concat(Gi)})))}),cy=DC;cy.Option=bf,cy.OptGroup=fu;var uy=cy,zC=uy,Il=he(94773),Ul=()=>{const[,e]=(0,Ur.ZP)(),[t]=(0,Pr.Z)("Empty"),i=new Es.t(e.colorBgBase).toHsl().l<.5?{opacity:.65}:{};return s.createElement("svg",{style:i,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},s.createElement("title",null,(t==null?void 0:t.description)||"Empty"),s.createElement("g",{fill:"none",fillRule:"evenodd"},s.createElement("g",{transform:"translate(24 31.67)"},s.createElement("ellipse",{fillOpacity:".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),s.createElement("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"}),s.createElement("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"}),s.createElement("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"}),s.createElement("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"})),s.createElement("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"}),s.createElement("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},s.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),s.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},Sb=()=>{const[,e]=(0,Ur.ZP)(),[t]=(0,Pr.Z)("Empty"),{colorFill:o,colorFillTertiary:i,colorFillQuaternary:u,colorBgContainer:g}=e,{borderColor:_,shadowColor:x,contentColor:S}=(0,s.useMemo)(()=>({borderColor:new Es.t(o).onBackground(g).toHexString(),shadowColor:new Es.t(i).onBackground(g).toHexString(),contentColor:new Es.t(u).onBackground(g).toHexString()}),[o,i,u,g]);return s.createElement("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},s.createElement("title",null,(t==null?void 0:t.description)||"Empty"),s.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},s.createElement("ellipse",{fill:x,cx:"32",cy:"33",rx:"32",ry:"7"}),s.createElement("g",{fillRule:"nonzero",stroke:_},s.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),s.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:S}))))};const z0=e=>{const{componentCls:t,margin:o,marginXS:i,marginXL:u,fontSize:g,lineHeight:_}=e;return{[t]:{marginInline:i,fontSize:g,lineHeight:_,textAlign:"center",[`${t}-image`]:{height:e.emptyImgHeight,marginBottom:i,opacity:e.opacityImage,img:{height:"100%"},svg:{maxWidth:"100%",height:"100%",margin:"auto"}},[`${t}-description`]:{color:e.colorTextDescription},[`${t}-footer`]:{marginTop:o},"&-normal":{marginBlock:u,color:e.colorTextDescription,[`${t}-description`]:{color:e.colorTextDescription},[`${t}-image`]:{height:e.emptyImgHeightMD}},"&-small":{marginBlock:i,color:e.colorTextDescription,[`${t}-image`]:{height:e.emptyImgHeightSM}}}}};var L0=(0,Ae.I$)("Empty",e=>{const{componentCls:t,controlHeightLG:o,calc:i}=e,u=(0,vn.IX)(e,{emptyImgCls:`${t}-img`,emptyImgHeight:i(o).mul(2.5).equal(),emptyImgHeightMD:o,emptyImgHeightSM:i(o).mul(.875).equal()});return[z0(u)]}),tg=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};const fy=s.createElement(Ul,null),hy=s.createElement(Sb,null),Jh=e=>{const{className:t,rootClassName:o,prefixCls:i,image:u=fy,description:g,children:_,imageStyle:x,style:S,classNames:T,styles:M}=e,R=tg(e,["className","rootClassName","prefixCls","image","description","children","imageStyle","style","classNames","styles"]),{getPrefixCls:N,direction:F,className:B,style:V,classNames:j,styles:H}=(0,De.dj)("empty"),U=N("empty",i),[K,Y,q]=L0(U),[Q]=(0,Pr.Z)("Empty"),re=typeof g!="undefined"?g:Q==null?void 0:Q.description,ae=typeof re=="string"?re:"empty";let se=null;return typeof u=="string"?se=s.createElement("img",{alt:ae,src:u}):se=u,K(s.createElement("div",Object.assign({className:oe()(Y,q,U,B,{[`${U}-normal`]:u===hy,[`${U}-rtl`]:F==="rtl"},t,o,j.root,T==null?void 0:T.root),style:Object.assign(Object.assign(Object.assign(Object.assign({},H.root),V),M==null?void 0:M.root),S)},R),s.createElement("div",{className:oe()(`${U}-image`,j.image,T==null?void 0:T.image),style:Object.assign(Object.assign(Object.assign({},x),H.image),M==null?void 0:M.image)},se),re&&s.createElement("div",{className:oe()(`${U}-description`,j.description,T==null?void 0:T.description),style:Object.assign(Object.assign({},H.description),M==null?void 0:M.description)},re),_&&s.createElement("div",{className:oe()(`${U}-footer`,j.footer,T==null?void 0:T.footer),style:Object.assign(Object.assign({},H.footer),M==null?void 0:M.footer)},_)))};Jh.PRESENTED_IMAGE_DEFAULT=fy,Jh.PRESENTED_IMAGE_SIMPLE=hy;var Md=Jh,th=e=>{const{componentName:t}=e,{getPrefixCls:o}=(0,s.useContext)(De.E_),i=o("empty");switch(t){case"Table":case"List":return s.createElement(Md,{image:Md.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return s.createElement(Md,{image:Md.PRESENTED_IMAGE_SIMPLE,className:`${i}-small`});case"Table.filter":return null;default:return s.createElement(Md,null)}},gc=he(60824),Pu=he(7038);const my=e=>{const o={overflow:{adjustX:!0,adjustY:!0,shiftY:!0},htmlRegion:e==="scroll"?"scroll":"visible",dynamicInset:!0};return{bottomLeft:Object.assign(Object.assign({},o),{points:["tl","bl"],offset:[0,4]}),bottomRight:Object.assign(Object.assign({},o),{points:["tr","br"],offset:[0,4]}),topLeft:Object.assign(Object.assign({},o),{points:["bl","tl"],offset:[0,-4]}),topRight:Object.assign(Object.assign({},o),{points:["br","tr"],offset:[0,-4]})}};function gy(e,t){return e||my(t)}var N0=gy;const ng=new J.E4("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),rg=new J.E4("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),ig=new J.E4("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),Kp=new J.E4("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),Pd=new J.E4("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),Eb=new J.E4("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),LC=new J.E4("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),NC=new J.E4("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),BC={"slide-up":{inKeyframes:ng,outKeyframes:rg},"slide-down":{inKeyframes:ig,outKeyframes:Kp},"slide-left":{inKeyframes:Pd,outKeyframes:Eb},"slide-right":{inKeyframes:LC,outKeyframes:NC}},Od=(e,t)=>{const{antCls:o}=e,i=`${o}-${t}`,{inKeyframes:u,outKeyframes:g}=BC[t];return[(0,Cd.R)(i,u,g,e.motionDurationMid),{[`
      ${i}-enter,
      ${i}-appear
    `]:{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:e.motionEaseOutQuint,"&-prepare":{transform:"scale(1)"}},[`${i}-leave`]:{animationTimingFunction:e.motionEaseInQuint}}]},FC=new J.E4("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),kC=new J.E4("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),jC=new J.E4("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),vy=new J.E4("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),Ib=new J.E4("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),yy=new J.E4("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),Tb=new J.E4("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),_y=new J.E4("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}}),Mb={"move-up":{inKeyframes:Tb,outKeyframes:_y},"move-down":{inKeyframes:FC,outKeyframes:kC},"move-left":{inKeyframes:jC,outKeyframes:vy},"move-right":{inKeyframes:Ib,outKeyframes:yy}},Qh=(e,t)=>{const{antCls:o}=e,i=`${o}-${t}`,{inKeyframes:u,outKeyframes:g}=Mb[t];return[(0,Cd.R)(i,u,g,e.motionDurationMid),{[`
        ${i}-enter,
        ${i}-appear
      `]:{opacity:0,animationTimingFunction:e.motionEaseOutCirc},[`${i}-leave`]:{animationTimingFunction:e.motionEaseInOutCirc}}]},og=e=>{const{optionHeight:t,optionFontSize:o,optionLineHeight:i,optionPadding:u}=e;return{position:"relative",display:"block",minHeight:t,padding:u,color:e.colorText,fontWeight:"normal",fontSize:o,lineHeight:i,boxSizing:"border-box"}};var Pb=e=>{const{antCls:t,componentCls:o}=e,i=`${o}-item`,u=`&${t}-slide-up-enter${t}-slide-up-enter-active`,g=`&${t}-slide-up-appear${t}-slide-up-appear-active`,_=`&${t}-slide-up-leave${t}-slide-up-leave-active`,x=`${o}-dropdown-placement-`,S=`${i}-option-selected`;return[{[`${o}-dropdown`]:Object.assign(Object.assign({},(0,mn.Wf)(e)),{position:"absolute",top:-9999,zIndex:e.zIndexPopup,boxSizing:"border-box",padding:e.paddingXXS,overflow:"hidden",fontSize:e.fontSize,fontVariant:"initial",backgroundColor:e.colorBgElevated,borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary,[`
          ${u}${x}bottomLeft,
          ${g}${x}bottomLeft
        `]:{animationName:ng},[`
          ${u}${x}topLeft,
          ${g}${x}topLeft,
          ${u}${x}topRight,
          ${g}${x}topRight
        `]:{animationName:ig},[`${_}${x}bottomLeft`]:{animationName:rg},[`
          ${_}${x}topLeft,
          ${_}${x}topRight
        `]:{animationName:Kp},"&-hidden":{display:"none"},[i]:Object.assign(Object.assign({},og(e)),{cursor:"pointer",transition:`background ${e.motionDurationSlow} ease`,borderRadius:e.borderRadiusSM,"&-group":{color:e.colorTextDescription,fontSize:e.fontSizeSM,cursor:"default"},"&-option":{display:"flex","&-content":Object.assign({flex:"auto"},mn.vS),"&-state":{flex:"none",display:"flex",alignItems:"center"},[`&-active:not(${i}-option-disabled)`]:{backgroundColor:e.optionActiveBg},[`&-selected:not(${i}-option-disabled)`]:{color:e.optionSelectedColor,fontWeight:e.optionSelectedFontWeight,backgroundColor:e.optionSelectedBg,[`${i}-option-state`]:{color:e.colorPrimary}},"&-disabled":{[`&${i}-option-selected`]:{backgroundColor:e.colorBgContainerDisabled},color:e.colorTextDisabled,cursor:"not-allowed"},"&-grouped":{paddingInlineStart:e.calc(e.controlPaddingHorizontal).mul(2).equal()}},"&-empty":Object.assign(Object.assign({},og(e)),{color:e.colorTextDisabled})}),[`${S}:has(+ ${S})`]:{borderEndStartRadius:0,borderEndEndRadius:0,[`& + ${S}`]:{borderStartStartRadius:0,borderStartEndRadius:0}},"&-rtl":{direction:"rtl"}})},Od(e,"slide-up"),Od(e,"slide-down"),Qh(e,"move-up"),Qh(e,"move-down")]};const by=e=>{const{multipleSelectItemHeight:t,paddingXXS:o,lineWidth:i,INTERNAL_FIXED_ITEM_MARGIN:u}=e,g=e.max(e.calc(o).sub(i).equal(),0),_=e.max(e.calc(g).sub(u).equal(),0);return{basePadding:g,containerPadding:_,itemHeight:(0,J.bf)(t),itemLineHeight:(0,J.bf)(e.calc(t).sub(e.calc(e.lineWidth).mul(2)).equal())}},Yp=e=>{const{multipleSelectItemHeight:t,selectHeight:o,lineWidth:i}=e;return e.calc(o).sub(t).div(2).sub(i).equal()},nh=e=>{const{componentCls:t,iconCls:o,borderRadiusSM:i,motionDurationSlow:u,paddingXS:g,multipleItemColorDisabled:_,multipleItemBorderColorDisabled:x,colorIcon:S,colorIconHover:T,INTERNAL_FIXED_ITEM_MARGIN:M}=e;return{[`${t}-selection-overflow`]:{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"100%",display:"inline-flex"},[`${t}-selection-item`]:{display:"flex",alignSelf:"center",flex:"none",boxSizing:"border-box",maxWidth:"100%",marginBlock:M,borderRadius:i,cursor:"default",transition:`font-size ${u}, line-height ${u}, height ${u}`,marginInlineEnd:e.calc(M).mul(2).equal(),paddingInlineStart:g,paddingInlineEnd:e.calc(g).div(2).equal(),[`${t}-disabled&`]:{color:_,borderColor:x,cursor:"not-allowed"},"&-content":{display:"inline-block",marginInlineEnd:e.calc(g).div(2).equal(),overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"},"&-remove":Object.assign(Object.assign({},(0,mn.Ro)()),{display:"inline-flex",alignItems:"center",color:S,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer",[`> ${o}`]:{verticalAlign:"-0.2em"},"&:hover":{color:T}})}}}},Ob=(e,t)=>{const{componentCls:o,INTERNAL_FIXED_ITEM_MARGIN:i}=e,u=`${o}-selection-overflow`,g=e.multipleSelectItemHeight,_=Yp(e),x=t?`${o}-${t}`:"",S=by(e);return{[`${o}-multiple${x}`]:Object.assign(Object.assign({},nh(e)),{[`${o}-selector`]:{display:"flex",alignItems:"center",width:"100%",height:"100%",paddingInline:S.basePadding,paddingBlock:S.containerPadding,borderRadius:e.borderRadius,[`${o}-disabled&`]:{background:e.multipleSelectorBgDisabled,cursor:"not-allowed"},"&:after":{display:"inline-block",width:0,margin:`${(0,J.bf)(i)} 0`,lineHeight:(0,J.bf)(g),visibility:"hidden",content:'"\\a0"'}},[`${o}-selection-item`]:{height:S.itemHeight,lineHeight:(0,J.bf)(S.itemLineHeight)},[`${o}-selection-wrap`]:{alignSelf:"flex-start","&:after":{lineHeight:(0,J.bf)(g),marginBlock:i}},[`${o}-prefix`]:{marginInlineStart:e.calc(e.inputPaddingHorizontalBase).sub(S.basePadding).equal()},[`${u}-item + ${u}-item,
        ${o}-prefix + ${o}-selection-wrap
      `]:{[`${o}-selection-search`]:{marginInlineStart:0},[`${o}-selection-placeholder`]:{insetInlineStart:0}},[`${u}-item-suffix`]:{minHeight:S.itemHeight,marginBlock:i},[`${o}-selection-search`]:{display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:e.calc(e.inputPaddingHorizontalBase).sub(_).equal(),"\n          &-input,\n          &-mirror\n        ":{height:g,fontFamily:e.fontFamily,lineHeight:(0,J.bf)(g),transition:`all ${e.motionDurationSlow}`},"&-input":{width:"100%",minWidth:4.1},"&-mirror":{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}},[`${o}-selection-placeholder`]:{position:"absolute",top:"50%",insetInlineStart:e.calc(e.inputPaddingHorizontalBase).sub(S.basePadding).equal(),insetInlineEnd:e.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:`all ${e.motionDurationSlow}`}})}};function Jp(e,t){const{componentCls:o}=e,i=t?`${o}-${t}`:"",u={[`${o}-multiple${i}`]:{fontSize:e.fontSize,[`${o}-selector`]:{[`${o}-show-search&`]:{cursor:"text"}},[`
        &${o}-show-arrow ${o}-selector,
        &${o}-allow-clear ${o}-selector
      `]:{paddingInlineEnd:e.calc(e.fontSizeIcon).add(e.controlPaddingHorizontal).equal()}}};return[Ob(e,t),u]}var $b=e=>{const{componentCls:t}=e,o=(0,vn.IX)(e,{selectHeight:e.controlHeightSM,multipleSelectItemHeight:e.multipleItemHeightSM,borderRadius:e.borderRadiusSM,borderRadiusSM:e.borderRadiusXS}),i=(0,vn.IX)(e,{fontSize:e.fontSizeLG,selectHeight:e.controlHeightLG,multipleSelectItemHeight:e.multipleItemHeightLG,borderRadius:e.borderRadiusLG,borderRadiusSM:e.borderRadius});return[Jp(e),Jp(o,"sm"),{[`${t}-multiple${t}-sm`]:{[`${t}-selection-placeholder`]:{insetInline:e.calc(e.controlPaddingHorizontalSM).sub(e.lineWidth).equal()},[`${t}-selection-search`]:{marginInlineStart:2}}},Jp(i,"lg")]};function Qp(e,t){const{componentCls:o,inputPaddingHorizontalBase:i,borderRadius:u}=e,g=e.calc(e.controlHeight).sub(e.calc(e.lineWidth).mul(2)).equal(),_=t?`${o}-${t}`:"";return{[`${o}-single${_}`]:{fontSize:e.fontSize,height:e.controlHeight,[`${o}-selector`]:Object.assign(Object.assign({},(0,mn.Wf)(e,!0)),{display:"flex",borderRadius:u,flex:"1 1 auto",[`${o}-selection-search`]:{position:"absolute",inset:0,width:"100%","&-input":{width:"100%",WebkitAppearance:"textfield"}},[`
          ${o}-selection-item,
          ${o}-selection-placeholder
        `]:{display:"block",padding:0,lineHeight:(0,J.bf)(g),transition:`all ${e.motionDurationSlow}, visibility 0s`,alignSelf:"center"},[`${o}-selection-placeholder`]:{transition:"none",pointerEvents:"none"},[["&:after",`${o}-selection-item:empty:after`,`${o}-selection-placeholder:empty:after`].join(",")]:{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}}),[`
        &${o}-show-arrow ${o}-selection-item,
        &${o}-show-arrow ${o}-selection-search,
        &${o}-show-arrow ${o}-selection-placeholder
      `]:{paddingInlineEnd:e.showArrowPaddingInlineEnd},[`&${o}-open ${o}-selection-item`]:{color:e.colorTextPlaceholder},[`&:not(${o}-customize-input)`]:{[`${o}-selector`]:{width:"100%",height:"100%",alignItems:"center",padding:`0 ${(0,J.bf)(i)}`,[`${o}-selection-search-input`]:{height:g},"&:after":{lineHeight:(0,J.bf)(g)}}},[`&${o}-customize-input`]:{[`${o}-selector`]:{"&:after":{display:"none"},[`${o}-selection-search`]:{position:"static",width:"100%"},[`${o}-selection-placeholder`]:{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:`0 ${(0,J.bf)(i)}`,"&:after":{display:"none"}}}}}}}function Rb(e){const{componentCls:t}=e,o=e.calc(e.controlPaddingHorizontalSM).sub(e.lineWidth).equal();return[Qp(e),Qp((0,vn.IX)(e,{controlHeight:e.controlHeightSM,borderRadius:e.borderRadiusSM}),"sm"),{[`${t}-single${t}-sm`]:{[`&:not(${t}-customize-input)`]:{[`${t}-selector`]:{padding:`0 ${(0,J.bf)(o)}`},[`&${t}-show-arrow ${t}-selection-search`]:{insetInlineEnd:e.calc(o).add(e.calc(e.fontSize).mul(1.5)).equal()},[`
            &${t}-show-arrow ${t}-selection-item,
            &${t}-show-arrow ${t}-selection-placeholder
          `]:{paddingInlineEnd:e.calc(e.fontSize).mul(1.5).equal()}}}},Qp((0,vn.IX)(e,{controlHeight:e.singleItemHeightLG,fontSize:e.fontSizeLG,borderRadius:e.borderRadiusLG}),"lg")]}const B0=e=>{const{fontSize:t,lineHeight:o,lineWidth:i,controlHeight:u,controlHeightSM:g,controlHeightLG:_,paddingXXS:x,controlPaddingHorizontal:S,zIndexPopupBase:T,colorText:M,fontWeightStrong:R,controlItemBgActive:N,controlItemBgHover:F,colorBgContainer:B,colorFillSecondary:V,colorBgContainerDisabled:j,colorTextDisabled:H,colorPrimaryHover:U,colorPrimary:K,controlOutline:Y}=e,q=x*2,Q=i*2,re=Math.min(u-q,u-Q),ae=Math.min(g-q,g-Q),se=Math.min(_-q,_-Q);return{INTERNAL_FIXED_ITEM_MARGIN:Math.floor(x/2),zIndexPopup:T+50,optionSelectedColor:M,optionSelectedFontWeight:R,optionSelectedBg:N,optionActiveBg:F,optionPadding:`${(u-t*o)/2}px ${S}px`,optionFontSize:t,optionLineHeight:o,optionHeight:u,selectorBg:B,clearBg:B,singleItemHeightLG:_,multipleItemBg:V,multipleItemBorderColor:"transparent",multipleItemHeight:re,multipleItemHeightSM:ae,multipleItemHeightLG:se,multipleSelectorBgDisabled:j,multipleItemColorDisabled:H,multipleItemBorderColorDisabled:"transparent",showArrowPaddingInlineEnd:Math.ceil(e.fontSize*1.25),hoverBorderColor:U,activeBorderColor:K,activeOutlineColor:Y,selectAffixPadding:x}},xy=(e,t)=>{const{componentCls:o,antCls:i,controlOutlineWidth:u}=e;return{[`&:not(${o}-customize-input) ${o}-selector`]:{border:`${(0,J.bf)(e.lineWidth)} ${e.lineType} ${t.borderColor}`,background:e.selectorBg},[`&:not(${o}-disabled):not(${o}-customize-input):not(${i}-pagination-size-changer)`]:{[`&:hover ${o}-selector`]:{borderColor:t.hoverBorderHover},[`${o}-focused& ${o}-selector`]:{borderColor:t.activeBorderColor,boxShadow:`0 0 0 ${(0,J.bf)(u)} ${t.activeOutlineColor}`,outline:0},[`${o}-prefix`]:{color:t.color}}}},F0=(e,t)=>({[`&${e.componentCls}-status-${t.status}`]:Object.assign({},xy(e,t))}),Cy=e=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign({},xy(e,{borderColor:e.colorBorder,hoverBorderHover:e.hoverBorderColor,activeBorderColor:e.activeBorderColor,activeOutlineColor:e.activeOutlineColor,color:e.colorText})),F0(e,{status:"error",borderColor:e.colorError,hoverBorderHover:e.colorErrorHover,activeBorderColor:e.colorError,activeOutlineColor:e.colorErrorOutline,color:e.colorError})),F0(e,{status:"warning",borderColor:e.colorWarning,hoverBorderHover:e.colorWarningHover,activeBorderColor:e.colorWarning,activeOutlineColor:e.colorWarningOutline,color:e.colorWarning})),{[`&${e.componentCls}-disabled`]:{[`&:not(${e.componentCls}-customize-input) ${e.componentCls}-selector`]:{background:e.colorBgContainerDisabled,color:e.colorTextDisabled}},[`&${e.componentCls}-multiple ${e.componentCls}-selection-item`]:{background:e.multipleItemBg,border:`${(0,J.bf)(e.lineWidth)} ${e.lineType} ${e.multipleItemBorderColor}`}})}),wy=(e,t)=>{const{componentCls:o,antCls:i}=e;return{[`&:not(${o}-customize-input) ${o}-selector`]:{background:t.bg,border:`${(0,J.bf)(e.lineWidth)} ${e.lineType} transparent`,color:t.color},[`&:not(${o}-disabled):not(${o}-customize-input):not(${i}-pagination-size-changer)`]:{[`&:hover ${o}-selector`]:{background:t.hoverBg},[`${o}-focused& ${o}-selector`]:{background:e.selectorBg,borderColor:t.activeBorderColor,outline:0}}}},Ab=(e,t)=>({[`&${e.componentCls}-status-${t.status}`]:Object.assign({},wy(e,t))}),Db=e=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign({},wy(e,{bg:e.colorFillTertiary,hoverBg:e.colorFillSecondary,activeBorderColor:e.activeBorderColor,color:e.colorText})),Ab(e,{status:"error",bg:e.colorErrorBg,hoverBg:e.colorErrorBgHover,activeBorderColor:e.colorError,color:e.colorError})),Ab(e,{status:"warning",bg:e.colorWarningBg,hoverBg:e.colorWarningBgHover,activeBorderColor:e.colorWarning,color:e.colorWarning})),{[`&${e.componentCls}-disabled`]:{[`&:not(${e.componentCls}-customize-input) ${e.componentCls}-selector`]:{borderColor:e.colorBorder,background:e.colorBgContainerDisabled,color:e.colorTextDisabled}},[`&${e.componentCls}-multiple ${e.componentCls}-selection-item`]:{background:e.colorBgContainer,border:`${(0,J.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`}})}),zb=e=>({"&-borderless":{[`${e.componentCls}-selector`]:{background:"transparent",border:`${(0,J.bf)(e.lineWidth)} ${e.lineType} transparent`},[`&${e.componentCls}-disabled`]:{[`&:not(${e.componentCls}-customize-input) ${e.componentCls}-selector`]:{color:e.colorTextDisabled}},[`&${e.componentCls}-multiple ${e.componentCls}-selection-item`]:{background:e.multipleItemBg,border:`${(0,J.bf)(e.lineWidth)} ${e.lineType} ${e.multipleItemBorderColor}`},[`&${e.componentCls}-status-error`]:{[`${e.componentCls}-prefix, ${e.componentCls}-selection-item`]:{color:e.colorError}},[`&${e.componentCls}-status-warning`]:{[`${e.componentCls}-prefix, ${e.componentCls}-selection-item`]:{color:e.colorWarning}}}}),Sy=(e,t)=>{const{componentCls:o,antCls:i}=e;return{[`&:not(${o}-customize-input) ${o}-selector`]:{borderWidth:`0 0 ${(0,J.bf)(e.lineWidth)} 0`,borderStyle:`none none ${e.lineType} none`,borderColor:t.borderColor,background:e.selectorBg,borderRadius:0},[`&:not(${o}-disabled):not(${o}-customize-input):not(${i}-pagination-size-changer)`]:{[`&:hover ${o}-selector`]:{borderColor:t.hoverBorderHover},[`${o}-focused& ${o}-selector`]:{borderColor:t.activeBorderColor,outline:0},[`${o}-prefix`]:{color:t.color}}}},Ey=(e,t)=>({[`&${e.componentCls}-status-${t.status}`]:Object.assign({},Sy(e,t))}),Iy=e=>({"&-underlined":Object.assign(Object.assign(Object.assign(Object.assign({},Sy(e,{borderColor:e.colorBorder,hoverBorderHover:e.hoverBorderColor,activeBorderColor:e.activeBorderColor,activeOutlineColor:e.activeOutlineColor,color:e.colorText})),Ey(e,{status:"error",borderColor:e.colorError,hoverBorderHover:e.colorErrorHover,activeBorderColor:e.colorError,activeOutlineColor:e.colorErrorOutline,color:e.colorError})),Ey(e,{status:"warning",borderColor:e.colorWarning,hoverBorderHover:e.colorWarningHover,activeBorderColor:e.colorWarning,activeOutlineColor:e.colorWarningOutline,color:e.colorWarning})),{[`&${e.componentCls}-disabled`]:{[`&:not(${e.componentCls}-customize-input) ${e.componentCls}-selector`]:{color:e.colorTextDisabled}},[`&${e.componentCls}-multiple ${e.componentCls}-selection-item`]:{background:e.multipleItemBg,border:`${(0,J.bf)(e.lineWidth)} ${e.lineType} ${e.multipleItemBorderColor}`}})});var Ty=e=>({[e.componentCls]:Object.assign(Object.assign(Object.assign(Object.assign({},Cy(e)),Db(e)),zb(e)),Iy(e))});const UC=e=>{const{componentCls:t}=e;return{position:"relative",transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`,input:{cursor:"pointer"},[`${t}-show-search&`]:{cursor:"text",input:{cursor:"auto",color:"inherit",height:"100%"}},[`${t}-disabled&`]:{cursor:"not-allowed",input:{cursor:"not-allowed"}}}},WC=e=>{const{componentCls:t}=e;return{[`${t}-selection-search-input`]:{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none",fontFamily:"inherit","&::-webkit-search-cancel-button":{display:"none","-webkit-appearance":"none"}}}},GC=e=>{const{antCls:t,componentCls:o,inputPaddingHorizontalBase:i,iconCls:u}=e;return{[o]:Object.assign(Object.assign({},(0,mn.Wf)(e)),{position:"relative",display:"inline-flex",cursor:"pointer",[`&:not(${o}-customize-input) ${o}-selector`]:Object.assign(Object.assign({},UC(e)),WC(e)),[`${o}-selection-item`]:Object.assign(Object.assign({flex:1,fontWeight:"normal",position:"relative",userSelect:"none"},mn.vS),{[`> ${t}-typography`]:{display:"inline"}}),[`${o}-selection-placeholder`]:Object.assign(Object.assign({},mn.vS),{flex:1,color:e.colorTextPlaceholder,pointerEvents:"none"}),[`${o}-arrow`]:Object.assign(Object.assign({},(0,mn.Ro)()),{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:i,height:e.fontSizeIcon,marginTop:e.calc(e.fontSizeIcon).mul(-1).div(2).equal(),color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center",transition:`opacity ${e.motionDurationSlow} ease`,[u]:{verticalAlign:"top",transition:`transform ${e.motionDurationSlow}`,"> svg":{verticalAlign:"top"},[`&:not(${o}-suffix)`]:{pointerEvents:"auto"}},[`${o}-disabled &`]:{cursor:"not-allowed"},"> *:not(:last-child)":{marginInlineEnd:8}}),[`${o}-selection-wrap`]:{display:"flex",width:"100%",position:"relative",minWidth:0,"&:after":{content:'"\\a0"',width:0,overflow:"hidden"}},[`${o}-prefix`]:{flex:"none",marginInlineEnd:e.selectAffixPadding},[`${o}-clear`]:{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:i,zIndex:1,display:"inline-block",width:e.fontSizeIcon,height:e.fontSizeIcon,marginTop:e.calc(e.fontSizeIcon).mul(-1).div(2).equal(),color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",cursor:"pointer",opacity:0,transition:`color ${e.motionDurationMid} ease, opacity ${e.motionDurationSlow} ease`,textRendering:"auto","&:before":{display:"block"},"&:hover":{color:e.colorTextTertiary}},[`&:hover ${o}-clear`]:{opacity:1,background:e.colorBgBase,borderRadius:"50%"}}),[`${o}-status`]:{"&-error, &-warning, &-success, &-validating":{[`&${o}-has-feedback`]:{[`${o}-clear`]:{insetInlineEnd:e.calc(i).add(e.fontSize).add(e.paddingXS).equal()}}}}}},XC=e=>{const{componentCls:t}=e;return[{[t]:{[`&${t}-in-form-item`]:{width:"100%"}}},GC(e),Rb(e),$b(e),Pb(e),{[`${t}-rtl`]:{direction:"rtl"}},(0,md.c)(e,{borderElCls:`${t}-selector`,focusElCls:`${t}-focused`})]};var k0=(0,Ae.I$)("Select",(e,t)=>{let{rootPrefixCls:o}=t;const i=(0,vn.IX)(e,{rootPrefixCls:o,inputPaddingHorizontalBase:e.calc(e.paddingSM).sub(1).equal(),multipleSelectItemHeight:e.multipleItemHeight,selectHeight:e.controlHeight});return[XC(i),Ty(i)]},B0,{unitless:{optionLineHeight:!0,optionSelectedFontWeight:!0}}),rh={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},ag=rh,sg=function(t,o){return s.createElement(Fn.Z,(0,Pt.Z)({},t,{ref:o,icon:ag}))},j0=s.forwardRef(sg),ih=j0,em=he(13143),Lb={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},Nb=Lb,Bb=function(t,o){return s.createElement(Fn.Z,(0,Pt.Z)({},t,{ref:o,icon:Nb}))},qC=s.forwardRef(Bb),Z0=qC;function lg(e){let{suffixIcon:t,clearIcon:o,menuItemSelectedIcon:i,removeIcon:u,loading:g,multiple:_,hasFeedback:x,prefixCls:S,showSuffixIcon:T,feedbackIcon:M,showArrow:R,componentName:N}=e;const F=o!=null?o:s.createElement(fi.Z,null),B=U=>t===null&&!x&&!R?null:s.createElement(s.Fragment,null,T!==!1&&U,x&&M);let V=null;if(t!==void 0)V=B(t);else if(g)V=B(s.createElement(mo.Z,{spin:!0}));else{const U=`${S}-suffix`;V=K=>{let{open:Y,showSearch:q}=K;return B(Y&&q?s.createElement(Z0,{className:U}):s.createElement(em.Z,{className:U}))}}let j=null;i!==void 0?j=i:_?j=s.createElement(ih,null):j=null;let H=null;return u!==void 0?H=u:H=s.createElement(nr,null),{clearIcon:F,suffixIcon:V,itemIcon:j,removeIcon:H}}function tm(e,t){return t!==void 0?t:e!==null}var Fb=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};const kb="SECRET_COMBOBOX_MODE_DO_NOT_USE",jb=(e,t)=>{var o;const{prefixCls:i,bordered:u,className:g,rootClassName:_,getPopupContainer:x,popupClassName:S,dropdownClassName:T,listHeight:M=256,placement:R,listItemHeight:N,size:F,disabled:B,notFoundContent:V,status:j,builtinPlacements:H,dropdownMatchSelectWidth:U,popupMatchSelectWidth:K,direction:Y,style:q,allowClear:Q,variant:re,dropdownStyle:ae,transitionName:se,tagRender:de,maxCount:pe,prefix:ge}=e,me=Fb(e,["prefixCls","bordered","className","rootClassName","getPopupContainer","popupClassName","dropdownClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","direction","style","allowClear","variant","dropdownStyle","transitionName","tagRender","maxCount","prefix"]),{getPopupContainer:be,getPrefixCls:_e,renderEmpty:Ie,direction:Ce,virtual:Le,popupMatchSelectWidth:ze,popupOverflow:ke}=s.useContext(De.E_),Ze=(0,De.dj)("select"),[,je]=(0,Ur.ZP)(),Ue=N!=null?N:je==null?void 0:je.controlHeight,He=_e("select",i),Qe=_e(),We=Y!=null?Y:Ce,{compactSize:it,compactItemClassnames:Je}=(0,yl.ri)(He,We),[wt,Dt]=(0,Pu.Z)("select",re,u),ct=(0,po.Z)(He),[ht,ut,tt]=k0(He,ct),xt=s.useMemo(()=>{const{mode:Kn}=e;if(Kn!=="combobox")return Kn===kb?"combobox":Kn},[e.mode]),_t=xt==="multiple"||xt==="tags",dn=tm(e.suffixIcon,e.showArrow),on=(o=K!=null?K:U)!==null&&o!==void 0?o:ze,{status:Ut,hasFeedback:en,isFormItemInput:kt,feedbackIcon:cn}=s.useContext(gc.aM),zn=(0,Il.F)(Ut,j);let An;V!==void 0?An=V:xt==="combobox"?An=null:An=(Ie==null?void 0:Ie("Select"))||s.createElement(th,{componentName:"Select"});const{suffixIcon:sr,itemIcon:yr,removeIcon:Vr,clearIcon:Qn}=lg(Object.assign(Object.assign({},me),{multiple:_t,hasFeedback:en,feedbackIcon:cn,showSuffixIcon:dn,prefixCls:He,componentName:"Select"})),Un=Q===!0?{clearIcon:Qn}:Q,er=(0,Er.Z)(me,["suffixIcon","itemIcon"]),Ir=oe()(S||T,{[`${He}-dropdown-${We}`]:We==="rtl"},_,tt,ct,ut),pr=(0,Ts.Z)(Kn=>{var vr;return(vr=F!=null?F:it)!==null&&vr!==void 0?vr:Kn}),Zr=s.useContext(Ds.Z),xn=B!=null?B:Zr,fn=oe()({[`${He}-lg`]:pr==="large",[`${He}-sm`]:pr==="small",[`${He}-rtl`]:We==="rtl",[`${He}-${wt}`]:Dt,[`${He}-in-form-item`]:kt},(0,Il.Z)(He,zn,en),Je,Ze.className,g,_,tt,ct,ut),yn=s.useMemo(()=>R!==void 0?R:We==="rtl"?"bottomRight":"bottomLeft",[R,We]),[Gt]=(0,Io.Cn)("SelectLike",ae==null?void 0:ae.zIndex);return ht(s.createElement(zC,Object.assign({ref:t,virtual:Le,showSearch:Ze.showSearch},er,{style:Object.assign(Object.assign({},Ze.style),q),dropdownMatchSelectWidth:on,transitionName:(0,Bi.m)(Qe,"slide-up",se),builtinPlacements:N0(H,ke),listHeight:M,listItemHeight:Ue,mode:xt,prefixCls:He,placement:yn,direction:We,prefix:ge,suffixIcon:sr,menuItemSelectedIcon:yr,removeIcon:Vr,allowClear:Un,notFoundContent:An,className:fn,getPopupContainer:x||be,dropdownClassName:Ir,disabled:xn,dropdownStyle:Object.assign(Object.assign({},ae),{zIndex:Gt}),maxCount:_t?pe:void 0,tagRender:_t?de:void 0})))},oh=s.forwardRef(jb),Zb=ft(oh,"dropdownAlign");oh.SECRET_COMBOBOX_MODE_DO_NOT_USE=kb,oh.Option=bf,oh.OptGroup=fu,oh._InternalPanelDoNotUseOrYouWillBeFired=Zb;var $d=oh;const{Option:My}=$d;function Py(e){return(e==null?void 0:e.type)&&(e.type.isSelectOption||e.type.isSelectOptGroup)}const Vb=(e,t)=>{var o;const{prefixCls:i,className:u,popupClassName:g,dropdownClassName:_,children:x,dataSource:S}=e,T=(0,El.Z)(x);let M;T.length===1&&s.isValidElement(T[0])&&!Py(T[0])&&([M]=T);const R=M?()=>M:void 0;let N;T.length&&Py(T[0])?N=x:N=S?S.map(j=>{if(s.isValidElement(j))return j;switch(typeof j){case"string":return s.createElement(My,{key:j,value:j},j);case"object":{const{value:H}=j;return s.createElement(My,{key:H,value:H},j.text)}default:return}}):[];const{getPrefixCls:F}=s.useContext(De.E_),B=F("select",i),[V]=(0,Io.Cn)("SelectLike",(o=e.dropdownStyle)===null||o===void 0?void 0:o.zIndex);return s.createElement($d,Object.assign({ref:t,suffixIcon:null},(0,Er.Z)(e,["dataSource","dropdownClassName"]),{prefixCls:B,popupClassName:g||_,dropdownStyle:Object.assign(Object.assign({},e.dropdownStyle),{zIndex:V}),className:oe()(`${B}-auto-complete`,u),mode:$d.SECRET_COMBOBOX_MODE_DO_NOT_USE,getInputElement:R}),N)};var Oy=s.forwardRef(Vb);const{Option:Hb}=$d,cg=ft(Oy,"dropdownAlign",e=>(0,Er.Z)(e,["visible"])),V0=Oy;V0.Option=Hb,V0._InternalPanelDoNotUseOrYouWillBeFired=cg;var Ub=V0,ug=he(96777),ep=he(19240),$y=s.createContext({});const KC=e=>{const{antCls:t,componentCls:o,iconCls:i,avatarBg:u,avatarColor:g,containerSize:_,containerSizeLG:x,containerSizeSM:S,textFontSize:T,textFontSizeLG:M,textFontSizeSM:R,borderRadius:N,borderRadiusLG:F,borderRadiusSM:B,lineWidth:V,lineType:j}=e,H=(U,K,Y)=>({width:U,height:U,borderRadius:"50%",[`&${o}-square`]:{borderRadius:Y},[`&${o}-icon`]:{fontSize:K,[`> ${i}`]:{margin:0}}});return{[o]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,mn.Wf)(e)),{position:"relative",display:"inline-flex",justifyContent:"center",alignItems:"center",overflow:"hidden",color:g,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:u,border:`${(0,J.bf)(V)} ${j} transparent`,"&-image":{background:"transparent"},[`${t}-image-img`]:{display:"block"}}),H(_,T,N)),{"&-lg":Object.assign({},H(x,M,F)),"&-sm":Object.assign({},H(S,R,B)),"> img":{display:"block",width:"100%",height:"100%",objectFit:"cover"}})}},YC=e=>{const{componentCls:t,groupBorderColor:o,groupOverlapping:i,groupSpace:u}=e;return{[`${t}-group`]:{display:"inline-flex",[t]:{borderColor:o},"> *:not(:first-child)":{marginInlineStart:i}},[`${t}-group-popover`]:{[`${t} + ${t}`]:{marginInlineStart:u}}}},JC=e=>{const{controlHeight:t,controlHeightLG:o,controlHeightSM:i,fontSize:u,fontSizeLG:g,fontSizeXL:_,fontSizeHeading3:x,marginXS:S,marginXXS:T,colorBorderBg:M}=e;return{containerSize:t,containerSizeLG:o,containerSizeSM:i,textFontSize:Math.round((g+_)/2),textFontSizeLG:x,textFontSizeSM:u,groupSpace:T,groupOverlapping:-S,groupBorderColor:M}};var Ry=(0,Ae.I$)("Avatar",e=>{const{colorTextLightSolid:t,colorTextPlaceholder:o}=e,i=(0,vn.IX)(e,{avatarBg:o,avatarColor:t});return[KC(i),YC(i)]},JC),QC=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};const ew=(e,t)=>{const[o,i]=s.useState(1),[u,g]=s.useState(!1),[_,x]=s.useState(!0),S=s.useRef(null),T=s.useRef(null),M=(0,zr.sQ)(t,S),{getPrefixCls:R,avatar:N}=s.useContext(De.E_),F=s.useContext($y),B=()=>{if(!T.current||!S.current)return;const Je=T.current.offsetWidth,wt=S.current.offsetWidth;if(Je!==0&&wt!==0){const{gap:Dt=4}=e;Dt*2<wt&&i(wt-Dt*2<Je?(wt-Dt*2)/Je:1)}};s.useEffect(()=>{g(!0)},[]),s.useEffect(()=>{x(!0),i(1)},[e.src]),s.useEffect(B,[e.gap]);const V=()=>{const{onError:Je}=e;(Je==null?void 0:Je())!==!1&&x(!1)},{prefixCls:j,shape:H,size:U,src:K,srcSet:Y,icon:q,className:Q,rootClassName:re,alt:ae,draggable:se,children:de,crossOrigin:pe}=e,ge=QC(e,["prefixCls","shape","size","src","srcSet","icon","className","rootClassName","alt","draggable","children","crossOrigin"]),me=(0,Ts.Z)(Je=>{var wt,Dt;return(Dt=(wt=U!=null?U:F==null?void 0:F.size)!==null&&wt!==void 0?wt:Je)!==null&&Dt!==void 0?Dt:"default"}),be=Object.keys(typeof me=="object"?me||{}:{}).some(Je=>["xs","sm","md","lg","xl","xxl"].includes(Je)),_e=(0,ep.Z)(be),Ie=s.useMemo(()=>{if(typeof me!="object")return{};const Je=ug.c4.find(Dt=>_e[Dt]),wt=me[Je];return wt?{width:wt,height:wt,fontSize:wt&&(q||de)?wt/2:18}:{}},[_e,me]),Ce=R("avatar",j),Le=(0,po.Z)(Ce),[ze,ke,Ze]=Ry(Ce,Le),je=oe()({[`${Ce}-lg`]:me==="large",[`${Ce}-sm`]:me==="small"}),Ue=s.isValidElement(K),He=H||(F==null?void 0:F.shape)||"circle",Qe=oe()(Ce,je,N==null?void 0:N.className,`${Ce}-${He}`,{[`${Ce}-image`]:Ue||K&&_,[`${Ce}-icon`]:!!q},Ze,Le,Q,re,ke),We=typeof me=="number"?{width:me,height:me,fontSize:q?me/2:18}:{};let it;if(typeof K=="string"&&_)it=s.createElement("img",{src:K,draggable:se,srcSet:Y,onError:V,alt:ae,crossOrigin:pe});else if(Ue)it=K;else if(q)it=q;else if(u||o!==1){const Je=`scale(${o})`,wt={msTransform:Je,WebkitTransform:Je,transform:Je};it=s.createElement(d.Z,{onResize:B},s.createElement("span",{className:`${Ce}-string`,ref:T,style:Object.assign({},wt)},de))}else it=s.createElement("span",{className:`${Ce}-string`,style:{opacity:0},ref:T},de);return delete ge.onError,delete ge.gap,ze(s.createElement("span",Object.assign({},ge,{style:Object.assign(Object.assign(Object.assign(Object.assign({},We),Ie),N==null?void 0:N.style),ge.style),className:Qe,ref:M}),it))};var H0=s.forwardRef(ew);const ah=e=>e?typeof e=="function"?e():e:null;var Uc=he(9202),Wb=he(75219),sh=he(18533),nm=he(2276);const Gb=e=>{const{componentCls:t,popoverColor:o,titleMinWidth:i,fontWeightStrong:u,innerPadding:g,boxShadowSecondary:_,colorTextHeading:x,borderRadiusLG:S,zIndexPopup:T,titleMarginBottom:M,colorBgElevated:R,popoverBg:N,titleBorderBottom:F,innerContentPadding:B,titlePadding:V}=e;return[{[t]:Object.assign(Object.assign({},(0,mn.Wf)(e)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:T,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"--antd-arrow-background-color":R,width:"max-content",maxWidth:"100vw","&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${t}-content`]:{position:"relative"},[`${t}-inner`]:{backgroundColor:N,backgroundClip:"padding-box",borderRadius:S,boxShadow:_,padding:g},[`${t}-title`]:{minWidth:i,marginBottom:M,color:x,fontWeight:u,borderBottom:F,padding:V},[`${t}-inner-content`]:{color:o,padding:B}})},(0,sh.ZP)(e,"var(--antd-arrow-background-color)"),{[`${t}-pure`]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow,display:"inline-block",[`${t}-content`]:{display:"inline-block"}}}]},Xb=e=>{const{componentCls:t}=e;return{[t]:Fl.i.map(o=>{const i=e[`${o}6`];return{[`&${t}-${o}`]:{"--antd-arrow-background-color":i,[`${t}-inner`]:{backgroundColor:i},[`${t}-arrow`]:{background:"transparent"}}}})}},qb=e=>{const{lineWidth:t,controlHeight:o,fontHeight:i,padding:u,wireframe:g,zIndexPopupBase:_,borderRadiusLG:x,marginXS:S,lineType:T,colorSplit:M,paddingSM:R}=e,N=o-i,F=N/2,B=N/2-t,V=u;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:_+30},(0,nm.w)(e)),(0,sh.wZ)({contentRadius:x,limitVerticalRadius:!0})),{innerPadding:g?0:12,titleMarginBottom:g?0:S,titlePadding:g?`${F}px ${V}px ${B}px`:0,titleBorderBottom:g?`${t}px ${T} ${M}`:"none",innerContentPadding:g?`${R}px ${V}px`:0})};var Ay=(0,Ae.I$)("Popover",e=>{const{colorBgElevated:t,colorText:o}=e,i=(0,vn.IX)(e,{popoverBg:t,popoverColor:o});return[Gb(i),Xb(i),(0,Yu._y)(i,"zoom-big")]},qb,{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]}),Dy=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};const zy=e=>{let{title:t,content:o,prefixCls:i}=e;return!t&&!o?null:s.createElement(s.Fragment,null,t&&s.createElement("div",{className:`${i}-title`},t),o&&s.createElement("div",{className:`${i}-inner-content`},o))},Kb=e=>{const{hashId:t,prefixCls:o,className:i,style:u,placement:g="top",title:_,content:x,children:S}=e,T=ah(_),M=ah(x),R=oe()(t,o,`${o}-pure`,`${o}-placement-${g}`,i);return s.createElement("div",{className:R,style:u},s.createElement("div",{className:`${o}-arrow`}),s.createElement(Wb.G,Object.assign({},e,{className:t,prefixCls:o}),S||s.createElement(zy,{prefixCls:o,title:T,content:M})))};var Ly=e=>{const{prefixCls:t,className:o}=e,i=Dy(e,["prefixCls","className"]),{getPrefixCls:u}=s.useContext(De.E_),g=u("popover",t),[_,x,S]=Ay(g);return _(s.createElement(Kb,Object.assign({},i,{prefixCls:g,hashId:x,className:oe()(o,S)})))},tw=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};const Yb=s.forwardRef((e,t)=>{var o,i;const{prefixCls:u,title:g,content:_,overlayClassName:x,placement:S="top",trigger:T="hover",children:M,mouseEnterDelay:R=.1,mouseLeaveDelay:N=.1,onOpenChange:F,overlayStyle:B={},styles:V,classNames:j}=e,H=tw(e,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle","styles","classNames"]),{getPrefixCls:U,className:K,style:Y,classNames:q,styles:Q}=(0,De.dj)("popover"),re=U("popover",u),[ae,se,de]=Ay(re),pe=U(),ge=oe()(x,se,de,K,q.root,j==null?void 0:j.root),me=oe()(q.body,j==null?void 0:j.body),[be,_e]=(0,Jo.Z)(!1,{value:(o=e.open)!==null&&o!==void 0?o:e.visible,defaultValue:(i=e.defaultOpen)!==null&&i!==void 0?i:e.defaultVisible}),Ie=(Ze,je)=>{_e(Ze,!0),F==null||F(Ze,je)},Ce=Ze=>{Ze.keyCode===nt.Z.ESC&&Ie(!1,Ze)},Le=Ze=>{Ie(Ze)},ze=ah(g),ke=ah(_);return ae(s.createElement(Uc.Z,Object.assign({placement:S,trigger:T,mouseEnterDelay:R,mouseLeaveDelay:N},H,{prefixCls:re,classNames:{root:ge,body:me},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign({},Q.root),Y),B),V==null?void 0:V.root),body:Object.assign(Object.assign({},Q.body),V==null?void 0:V.body)},ref:t,open:be,onOpenChange:Le,overlay:ze||ke?s.createElement(zy,{prefixCls:re,title:ze,content:ke}):null,transitionName:(0,Bi.m)(pe,"zoom-big",H.transitionName),"data-popover-inject":!0}),(0,wr.Tm)(M,{onKeyDown:Ze=>{var je,Ue;s.isValidElement(M)&&((Ue=M==null?void 0:(je=M.props).onKeyDown)===null||Ue===void 0||Ue.call(je,Ze)),Ce(Ze)}})))});Yb._InternalPanelDoNotUseOrYouWillBeFired=Ly;var W0=Yb;const Jb=e=>{const{size:t,shape:o}=s.useContext($y),i=s.useMemo(()=>({size:e.size||t,shape:e.shape||o}),[e.size,e.shape,t,o]);return s.createElement($y.Provider,{value:i},e.children)};var nw=e=>{var t,o,i,u;const{getPrefixCls:g,direction:_}=s.useContext(De.E_),{prefixCls:x,className:S,rootClassName:T,style:M,maxCount:R,maxStyle:N,size:F,shape:B,maxPopoverPlacement:V,maxPopoverTrigger:j,children:H,max:U}=e,K=g("avatar",x),Y=`${K}-group`,q=(0,po.Z)(K),[Q,re,ae]=Ry(K,q),se=oe()(Y,{[`${Y}-rtl`]:_==="rtl"},ae,q,S,T,re),de=(0,El.Z)(H).map((me,be)=>(0,wr.Tm)(me,{key:`avatar-key-${be}`})),pe=(U==null?void 0:U.count)||R,ge=de.length;if(pe&&pe<ge){const me=de.slice(0,pe),be=de.slice(pe,ge),_e=(U==null?void 0:U.style)||N,Ie=((t=U==null?void 0:U.popover)===null||t===void 0?void 0:t.trigger)||j||"hover",Ce=((o=U==null?void 0:U.popover)===null||o===void 0?void 0:o.placement)||V||"top",Le=Object.assign(Object.assign({content:be},U==null?void 0:U.popover),{classNames:{root:oe()(`${Y}-popover`,(u=(i=U==null?void 0:U.popover)===null||i===void 0?void 0:i.classNames)===null||u===void 0?void 0:u.root)},placement:Ce,trigger:Ie});return me.push(s.createElement(W0,Object.assign({key:"avatar-popover-key",destroyTooltipOnHide:!0},Le),s.createElement(H0,{style:_e},`+${ge-pe}`))),Q(s.createElement(Jb,{shape:B,size:F},s.createElement("div",{className:se,style:M},me)))}return Q(s.createElement(Jb,{shape:B,size:F},s.createElement("div",{className:se,style:M},de)))};const Ny=H0;Ny.Group=nw;var rw=Ny,vc={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z"}}]},name:"vertical-align-top",theme:"outlined"},td=vc,By=function(t,o){return s.createElement(Fn.Z,(0,Pt.Z)({},t,{ref:o,icon:td}))},Fy=s.forwardRef(By),dg=Fy;const rm=e=>{const{componentCls:t,backTopFontSize:o,backTopSize:i,zIndexPopup:u}=e;return{[t]:Object.assign(Object.assign({},(0,mn.Wf)(e)),{position:"fixed",insetInlineEnd:e.backTopInlineEnd,insetBlockEnd:e.backTopBlockEnd,zIndex:u,width:40,height:40,cursor:"pointer","&:empty":{display:"none"},[`${t}-content`]:{width:i,height:i,overflow:"hidden",color:e.backTopColor,textAlign:"center",backgroundColor:e.backTopBackground,borderRadius:i,transition:`all ${e.motionDurationMid}`,"&:hover":{backgroundColor:e.backTopHoverBackground,transition:`all ${e.motionDurationMid}`}},[`${t}-icon`]:{fontSize:o,lineHeight:(0,J.bf)(i)}})}},iw=e=>{const{componentCls:t,screenMD:o,screenXS:i,backTopInlineEndMD:u,backTopInlineEndXS:g}=e;return{[`@media (max-width: ${(0,J.bf)(o)})`]:{[t]:{insetInlineEnd:u}},[`@media (max-width: ${(0,J.bf)(i)})`]:{[t]:{insetInlineEnd:g}}}},ow=e=>({zIndexPopup:e.zIndexBase+10});var fg=(0,Ae.I$)("BackTop",e=>{const{fontSizeHeading3:t,colorTextDescription:o,colorTextLightSolid:i,colorText:u,controlHeightLG:g,calc:_}=e,x=(0,vn.IX)(e,{backTopBackground:o,backTopColor:i,backTopHoverBackground:u,backTopFontSize:t,backTopSize:g,backTopBlockEnd:_(g).mul(1.25).equal(),backTopInlineEnd:_(g).mul(2.5).equal(),backTopInlineEndMD:_(g).mul(1.5).equal(),backTopInlineEndXS:_(g).mul(.5).equal()});return[rm(x),iw(x)]},ow),aw=e=>{const{prefixCls:t,className:o,rootClassName:i,visibilityHeight:u=400,target:g,onClick:_,duration:x=450}=e,[S,T]=s.useState(u===0),M=s.useRef(null),R=()=>{var ae;return((ae=M.current)===null||ae===void 0?void 0:ae.ownerDocument)||window},N=qe(ae=>{const se=ia(ae.target);T(se>=u)});s.useEffect(()=>{const se=(g||R)();return N({target:se}),se==null||se.addEventListener("scroll",N),()=>{N.cancel(),se==null||se.removeEventListener("scroll",N)}},[g]);const F=ae=>{Ra(0,{getContainer:g||R,duration:x}),_==null||_(ae)},{getPrefixCls:B,direction:V}=s.useContext(De.E_),j=B("back-top",t),H=B(),[U,K,Y]=fg(j),q=oe()(K,Y,j,{[`${j}-rtl`]:V==="rtl"},o,i),Q=(0,Er.Z)(e,["prefixCls","className","rootClassName","children","visibilityHeight","target"]),re=s.createElement("div",{className:`${j}-content`},s.createElement("div",{className:`${j}-icon`},s.createElement(dg,null)));return U(s.createElement("div",Object.assign({},Q,{className:q,onClick:F,ref:M}),s.createElement(mr.ZP,{visible:S,motionName:`${H}-fade`},ae=>{let{className:se}=ae;return(0,wr.Tm)(e.children||re,de=>{let{className:pe}=de;return{className:oe()(se,pe)}})})))},hg=he(53835),pg=he(75428);const Qb=new J.E4("antStatusProcessing",{"0%":{transform:"scale(0.8)",opacity:.5},"100%":{transform:"scale(2.4)",opacity:0}}),ky=new J.E4("antZoomBadgeIn",{"0%":{transform:"scale(0) translate(50%, -50%)",opacity:0},"100%":{transform:"scale(1) translate(50%, -50%)"}}),sw=new J.E4("antZoomBadgeOut",{"0%":{transform:"scale(1) translate(50%, -50%)"},"100%":{transform:"scale(0) translate(50%, -50%)",opacity:0}}),e1=new J.E4("antNoWrapperZoomBadgeIn",{"0%":{transform:"scale(0)",opacity:0},"100%":{transform:"scale(1)"}}),G0=new J.E4("antNoWrapperZoomBadgeOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0)",opacity:0}}),jy=new J.E4("antBadgeLoadingCircle",{"0%":{transformOrigin:"50%"},"100%":{transform:"translate(50%, -50%) rotate(360deg)",transformOrigin:"50%"}}),lw=e=>{const{componentCls:t,iconCls:o,antCls:i,badgeShadowSize:u,textFontSize:g,textFontSizeSM:_,statusSize:x,dotSize:S,textFontWeight:T,indicatorHeight:M,indicatorHeightSM:R,marginXS:N,calc:F}=e,B=`${i}-scroll-number`,V=(0,pg.Z)(e,(j,H)=>{let{darkColor:U}=H;return{[`&${t} ${t}-color-${j}`]:{background:U,[`&:not(${t}-count)`]:{color:U},"a:hover &":{background:U}}}});return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,mn.Wf)(e)),{position:"relative",display:"inline-block",width:"fit-content",lineHeight:1,[`${t}-count`]:{display:"inline-flex",justifyContent:"center",zIndex:e.indicatorZIndex,minWidth:M,height:M,color:e.badgeTextColor,fontWeight:T,fontSize:g,lineHeight:(0,J.bf)(M),whiteSpace:"nowrap",textAlign:"center",background:e.badgeColor,borderRadius:F(M).div(2).equal(),boxShadow:`0 0 0 ${(0,J.bf)(u)} ${e.badgeShadowColor}`,transition:`background ${e.motionDurationMid}`,a:{color:e.badgeTextColor},"a:hover":{color:e.badgeTextColor},"a:hover &":{background:e.badgeColorHover}},[`${t}-count-sm`]:{minWidth:R,height:R,fontSize:_,lineHeight:(0,J.bf)(R),borderRadius:F(R).div(2).equal()},[`${t}-multiple-words`]:{padding:`0 ${(0,J.bf)(e.paddingXS)}`,bdi:{unicodeBidi:"plaintext"}},[`${t}-dot`]:{zIndex:e.indicatorZIndex,width:S,minWidth:S,height:S,background:e.badgeColor,borderRadius:"100%",boxShadow:`0 0 0 ${(0,J.bf)(u)} ${e.badgeShadowColor}`},[`${t}-count, ${t}-dot, ${B}-custom-component`]:{position:"absolute",top:0,insetInlineEnd:0,transform:"translate(50%, -50%)",transformOrigin:"100% 0%",[`&${o}-spin`]:{animationName:jy,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear"}},[`&${t}-status`]:{lineHeight:"inherit",verticalAlign:"baseline",[`${t}-status-dot`]:{position:"relative",top:-1,display:"inline-block",width:x,height:x,verticalAlign:"middle",borderRadius:"50%"},[`${t}-status-success`]:{backgroundColor:e.colorSuccess},[`${t}-status-processing`]:{overflow:"visible",color:e.colorInfo,backgroundColor:e.colorInfo,borderColor:"currentcolor","&::after":{position:"absolute",top:0,insetInlineStart:0,width:"100%",height:"100%",borderWidth:u,borderStyle:"solid",borderColor:"inherit",borderRadius:"50%",animationName:Qb,animationDuration:e.badgeProcessingDuration,animationIterationCount:"infinite",animationTimingFunction:"ease-in-out",content:'""'}},[`${t}-status-default`]:{backgroundColor:e.colorTextPlaceholder},[`${t}-status-error`]:{backgroundColor:e.colorError},[`${t}-status-warning`]:{backgroundColor:e.colorWarning},[`${t}-status-text`]:{marginInlineStart:N,color:e.colorText,fontSize:e.fontSize}}}),V),{[`${t}-zoom-appear, ${t}-zoom-enter`]:{animationName:ky,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"},[`${t}-zoom-leave`]:{animationName:sw,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"},[`&${t}-not-a-wrapper`]:{[`${t}-zoom-appear, ${t}-zoom-enter`]:{animationName:e1,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack},[`${t}-zoom-leave`]:{animationName:G0,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack},[`&:not(${t}-status)`]:{verticalAlign:"middle"},[`${B}-custom-component, ${t}-count`]:{transform:"none"},[`${B}-custom-component, ${B}`]:{position:"relative",top:"auto",display:"block",transformOrigin:"50% 50%"}},[B]:{overflow:"hidden",transition:`all ${e.motionDurationMid} ${e.motionEaseOutBack}`,[`${B}-only`]:{position:"relative",display:"inline-block",height:M,transition:`all ${e.motionDurationSlow} ${e.motionEaseOutBack}`,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden",[`> p${B}-only-unit`]:{height:M,margin:0,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden"}},[`${B}-symbol`]:{verticalAlign:"top"}},"&-rtl":{direction:"rtl",[`${t}-count, ${t}-dot, ${B}-custom-component`]:{transform:"translate(-50%, -50%)"}}})}},t1=e=>{const{fontHeight:t,lineWidth:o,marginXS:i,colorBorderBg:u}=e,g=t,_=o,x=e.colorTextLightSolid,S=e.colorError,T=e.colorErrorHover;return(0,vn.IX)(e,{badgeFontHeight:g,badgeShadowSize:_,badgeTextColor:x,badgeColor:S,badgeColorHover:T,badgeShadowColor:u,badgeProcessingDuration:"1.2s",badgeRibbonOffset:i,badgeRibbonCornerTransform:"scaleY(0.75)",badgeRibbonCornerFilter:"brightness(75%)"})},n1=e=>{const{fontSize:t,lineHeight:o,fontSizeSM:i,lineWidth:u}=e;return{indicatorZIndex:"auto",indicatorHeight:Math.round(t*o)-2*u,indicatorHeightSM:t,dotSize:i/2,textFontSize:i,textFontSizeSM:i,textFontWeight:"normal",statusSize:i/2}};var r1=(0,Ae.I$)("Badge",e=>{const t=t1(e);return lw(t)},n1);const hu=e=>{const{antCls:t,badgeFontHeight:o,marginXS:i,badgeRibbonOffset:u,calc:g}=e,_=`${t}-ribbon`,x=`${t}-ribbon-wrapper`,S=(0,pg.Z)(e,(T,M)=>{let{darkColor:R}=M;return{[`&${_}-color-${T}`]:{background:R,color:R}}});return{[x]:{position:"relative"},[_]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,mn.Wf)(e)),{position:"absolute",top:i,padding:`0 ${(0,J.bf)(e.paddingXS)}`,color:e.colorPrimary,lineHeight:(0,J.bf)(o),whiteSpace:"nowrap",backgroundColor:e.colorPrimary,borderRadius:e.borderRadiusSM,[`${_}-text`]:{color:e.badgeTextColor},[`${_}-corner`]:{position:"absolute",top:"100%",width:u,height:u,color:"currentcolor",border:`${(0,J.bf)(g(u).div(2).equal())} solid`,transform:e.badgeRibbonCornerTransform,transformOrigin:"top",filter:e.badgeRibbonCornerFilter}}),S),{[`&${_}-placement-end`]:{insetInlineEnd:g(u).mul(-1).equal(),borderEndEndRadius:0,[`${_}-corner`]:{insetInlineEnd:0,borderInlineEndColor:"transparent",borderBlockEndColor:"transparent"}},[`&${_}-placement-start`]:{insetInlineStart:g(u).mul(-1).equal(),borderEndStartRadius:0,[`${_}-corner`]:{insetInlineStart:0,borderBlockEndColor:"transparent",borderInlineStartColor:"transparent"}},"&-rtl":{direction:"rtl"}})}};var mg=(0,Ae.I$)(["Badge","Ribbon"],e=>{const t=t1(e);return hu(t)},n1),Zy=e=>{const{className:t,prefixCls:o,style:i,color:u,children:g,text:_,placement:x="end",rootClassName:S}=e,{getPrefixCls:T,direction:M}=s.useContext(De.E_),R=T("ribbon",o),N=`${R}-wrapper`,[F,B,V]=mg(R,N),j=(0,hg.o2)(u,!1),H=oe()(R,`${R}-placement-${x}`,{[`${R}-rtl`]:M==="rtl",[`${R}-color-${u}`]:j},t),U={},K={};return u&&!j&&(U.background=u,K.color=u),F(s.createElement("div",{className:oe()(N,S,B,V)},g,s.createElement("div",{className:oe()(H,B),style:Object.assign(Object.assign({},U),i)},s.createElement("span",{className:`${R}-text`},_),s.createElement("div",{className:`${R}-corner`,style:K}))))};const vg=e=>{const{prefixCls:t,value:o,current:i,offset:u=0}=e;let g;return u&&(g={position:"absolute",top:`${u}00%`,left:0}),s.createElement("span",{style:g,className:oe()(`${t}-only-unit`,{current:i})},o)};function cw(e,t,o){let i=e,u=0;for(;(i+10)%10!==t;)i+=o,u+=o;return u}var i1=e=>{const{prefixCls:t,count:o,value:i}=e,u=Number(i),g=Math.abs(o),[_,x]=s.useState(u),[S,T]=s.useState(g),M=()=>{x(u),T(g)};s.useEffect(()=>{const F=setTimeout(M,1e3);return()=>clearTimeout(F)},[u]);let R,N;if(_===u||Number.isNaN(u)||Number.isNaN(_))R=[s.createElement(vg,Object.assign({},e,{key:u,current:!0}))],N={transition:"none"};else{R=[];const F=u+10,B=[];for(let U=u;U<=F;U+=1)B.push(U);const V=S<g?1:-1,j=B.findIndex(U=>U%10===_);R=(V<0?B.slice(0,j+1):B.slice(j)).map((U,K)=>{const Y=U%10;return s.createElement(vg,Object.assign({},e,{key:U,value:Y,offset:V<0?K-j:K,current:K===j}))}),N={transform:`translateY(${-cw(_,u,V)}00%)`}}return s.createElement("span",{className:`${t}-only`,style:N,onTransitionEnd:M},R)},dw=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o},o1=s.forwardRef((e,t)=>{const{prefixCls:o,count:i,className:u,motionClassName:g,style:_,title:x,show:S,component:T="sup",children:M}=e,R=dw(e,["prefixCls","count","className","motionClassName","style","title","show","component","children"]),{getPrefixCls:N}=s.useContext(De.E_),F=N("scroll-number",o),B=Object.assign(Object.assign({},R),{"data-show":S,style:_,className:oe()(F,u,g),title:x});let V=i;if(i&&Number(i)%1===0){const j=String(i).split("");V=s.createElement("bdi",null,j.map((H,U)=>s.createElement(i1,{prefixCls:F,count:Number(i),value:H,key:j.length-U})))}return _!=null&&_.borderColor&&(B.style=Object.assign(Object.assign({},_),{boxShadow:`0 0 0 1px ${_.borderColor} inset`})),M?(0,wr.Tm)(M,j=>({className:oe()(`${F}-custom-component`,j==null?void 0:j.className,g)})):s.createElement(T,Object.assign({},B,{ref:t}),V)}),Vy=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};const a1=s.forwardRef((e,t)=>{var o,i,u,g,_;const{prefixCls:x,scrollNumberPrefixCls:S,children:T,status:M,text:R,color:N,count:F=null,overflowCount:B=99,dot:V=!1,size:j="default",title:H,offset:U,style:K,className:Y,rootClassName:q,classNames:Q,styles:re,showZero:ae=!1}=e,se=Vy(e,["prefixCls","scrollNumberPrefixCls","children","status","text","color","count","overflowCount","dot","size","title","offset","style","className","rootClassName","classNames","styles","showZero"]),{getPrefixCls:de,direction:pe,badge:ge}=s.useContext(De.E_),me=de("badge",x),[be,_e,Ie]=r1(me),Ce=F>B?`${B}+`:F,Le=Ce==="0"||Ce===0,ze=F===null||Le&&!ae,ke=(M!=null||N!=null)&&ze,Ze=V&&!Le,je=Ze?"":Ce,Ue=(0,s.useMemo)(()=>(je==null||je===""||Le&&!ae)&&!Ze,[je,Le,ae,Ze]),He=(0,s.useRef)(F);Ue||(He.current=F);const Qe=He.current,We=(0,s.useRef)(je);Ue||(We.current=je);const it=We.current,Je=(0,s.useRef)(Ze);Ue||(Je.current=Ze);const wt=(0,s.useMemo)(()=>{if(!U)return Object.assign(Object.assign({},ge==null?void 0:ge.style),K);const dn={marginTop:U[1]};return pe==="rtl"?dn.left=parseInt(U[0],10):dn.right=-parseInt(U[0],10),Object.assign(Object.assign(Object.assign({},dn),ge==null?void 0:ge.style),K)},[pe,U,K,ge==null?void 0:ge.style]),Dt=H!=null?H:typeof Qe=="string"||typeof Qe=="number"?Qe:void 0,ct=Ue||!R?null:s.createElement("span",{className:`${me}-status-text`},R),ht=!Qe||typeof Qe!="object"?void 0:(0,wr.Tm)(Qe,dn=>({style:Object.assign(Object.assign({},wt),dn.style)})),ut=(0,hg.o2)(N,!1),tt=oe()(Q==null?void 0:Q.indicator,(o=ge==null?void 0:ge.classNames)===null||o===void 0?void 0:o.indicator,{[`${me}-status-dot`]:ke,[`${me}-status-${M}`]:!!M,[`${me}-color-${N}`]:ut}),xt={};N&&!ut&&(xt.color=N,xt.background=N);const _t=oe()(me,{[`${me}-status`]:ke,[`${me}-not-a-wrapper`]:!T,[`${me}-rtl`]:pe==="rtl"},Y,q,ge==null?void 0:ge.className,(i=ge==null?void 0:ge.classNames)===null||i===void 0?void 0:i.root,Q==null?void 0:Q.root,_e,Ie);if(!T&&ke){const dn=wt.color;return be(s.createElement("span",Object.assign({},se,{className:_t,style:Object.assign(Object.assign(Object.assign({},re==null?void 0:re.root),(u=ge==null?void 0:ge.styles)===null||u===void 0?void 0:u.root),wt)}),s.createElement("span",{className:tt,style:Object.assign(Object.assign(Object.assign({},re==null?void 0:re.indicator),(g=ge==null?void 0:ge.styles)===null||g===void 0?void 0:g.indicator),xt)}),R&&s.createElement("span",{style:{color:dn},className:`${me}-status-text`},R)))}return be(s.createElement("span",Object.assign({ref:t},se,{className:_t,style:Object.assign(Object.assign({},(_=ge==null?void 0:ge.styles)===null||_===void 0?void 0:_.root),re==null?void 0:re.root)}),T,s.createElement(mr.ZP,{visible:!Ue,motionName:`${me}-zoom`,motionAppear:!1,motionDeadline:1e3},dn=>{let{className:on}=dn;var Ut,en;const kt=de("scroll-number",S),cn=Je.current,zn=oe()(Q==null?void 0:Q.indicator,(Ut=ge==null?void 0:ge.classNames)===null||Ut===void 0?void 0:Ut.indicator,{[`${me}-dot`]:cn,[`${me}-count`]:!cn,[`${me}-count-sm`]:j==="small",[`${me}-multiple-words`]:!cn&&it&&it.toString().length>1,[`${me}-status-${M}`]:!!M,[`${me}-color-${N}`]:ut});let An=Object.assign(Object.assign(Object.assign({},re==null?void 0:re.indicator),(en=ge==null?void 0:ge.styles)===null||en===void 0?void 0:en.indicator),wt);return N&&!ut&&(An=An||{},An.background=N),s.createElement(o1,{prefixCls:kt,show:!Ue,motionClassName:on,className:zn,count:it,title:Dt,style:An,key:"scrollNumber"},ht)}),ct))});a1.Ribbon=Zy;var Hy=a1,xf={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"},s1=xf,l1=function(t,o){return s.createElement(Fn.Z,(0,Pt.Z)({},t,{ref:o,icon:s1}))},c1=s.forwardRef(l1),nd=c1,pw=nt.Z.ESC,mw=nt.Z.TAB;function u1(e){var t=e.visible,o=e.triggerRef,i=e.onVisibleChange,u=e.autoFocus,g=e.overlayRef,_=s.useRef(!1),x=function(){if(t){var R,N;(R=o.current)===null||R===void 0||(N=R.focus)===null||N===void 0||N.call(R),i==null||i(!1)}},S=function(){var R;return(R=g.current)!==null&&R!==void 0&&R.focus?(g.current.focus(),_.current=!0,!0):!1},T=function(R){switch(R.keyCode){case pw:x();break;case mw:{var N=!1;_.current||(N=S()),N?R.preventDefault():x();break}}};s.useEffect(function(){return t?(window.addEventListener("keydown",T),u&&(0,lt.Z)(S,3),function(){window.removeEventListener("keydown",T),_.current=!1}):function(){_.current=!1}},[t])}var d1=(0,s.forwardRef)(function(e,t){var o=e.overlay,i=e.arrow,u=e.prefixCls,g=(0,s.useMemo)(function(){var x;return typeof o=="function"?x=o():x=o,x},[o]),_=(0,zr.sQ)(t,(0,zr.C4)(g));return s.createElement(s.Fragment,null,i&&s.createElement("div",{className:"".concat(u,"-arrow")}),s.cloneElement(g,{ref:(0,zr.Yr)(g)?_:void 0}))}),f1=d1,Rd={adjustX:1,adjustY:1},Ad=[0,0],h1={topLeft:{points:["bl","tl"],overflow:Rd,offset:[0,-4],targetOffset:Ad},top:{points:["bc","tc"],overflow:Rd,offset:[0,-4],targetOffset:Ad},topRight:{points:["br","tr"],overflow:Rd,offset:[0,-4],targetOffset:Ad},bottomLeft:{points:["tl","bl"],overflow:Rd,offset:[0,4],targetOffset:Ad},bottom:{points:["tc","bc"],overflow:Rd,offset:[0,4],targetOffset:Ad},bottomRight:{points:["tr","br"],overflow:Rd,offset:[0,4],targetOffset:Ad}},yg=h1,p1=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus","overlay","children","onVisibleChange"];function m1(e,t){var o,i=e.arrow,u=i===void 0?!1:i,g=e.prefixCls,_=g===void 0?"rc-dropdown":g,x=e.transitionName,S=e.animation,T=e.align,M=e.placement,R=M===void 0?"bottomLeft":M,N=e.placements,F=N===void 0?yg:N,B=e.getPopupContainer,V=e.showAction,j=e.hideAction,H=e.overlayClassName,U=e.overlayStyle,K=e.visible,Y=e.trigger,q=Y===void 0?["hover"]:Y,Q=e.autoFocus,re=e.overlay,ae=e.children,se=e.onVisibleChange,de=(0,Ve.Z)(e,p1),pe=s.useState(),ge=(0,ve.Z)(pe,2),me=ge[0],be=ge[1],_e="visible"in e?K:me,Ie=s.useRef(null),Ce=s.useRef(null),Le=s.useRef(null);s.useImperativeHandle(t,function(){return Ie.current});var ze=function(Je){be(Je),se==null||se(Je)};u1({visible:_e,triggerRef:Le,onVisibleChange:ze,autoFocus:Q,overlayRef:Ce});var ke=function(Je){var wt=e.onOverlayClick;be(!1),wt&&wt(Je)},Ze=function(){return s.createElement(f1,{ref:Ce,overlay:re,prefixCls:_,arrow:u})},je=function(){return typeof re=="function"?Ze:Ze()},Ue=function(){var Je=e.minOverlayWidthMatchTrigger,wt=e.alignPoint;return"minOverlayWidthMatchTrigger"in e?Je:!wt},He=function(){var Je=e.openClassName;return Je!==void 0?Je:"".concat(_,"-open")},Qe=s.cloneElement(ae,{className:oe()((o=ae.props)===null||o===void 0?void 0:o.className,_e&&He()),ref:(0,zr.Yr)(ae)?(0,zr.sQ)(Le,(0,zr.C4)(ae)):void 0}),We=j;return!We&&q.indexOf("contextMenu")!==-1&&(We=["click"]),s.createElement(Ka.Z,(0,Pt.Z)({builtinPlacements:F},de,{prefixCls:_,ref:Ie,popupClassName:oe()(H,(0,Ee.Z)({},"".concat(_,"-show-arrow"),u)),popupStyle:U,action:q,showAction:V,hideAction:We,popupPlacement:R,popupAlign:T,popupTransitionName:x,popupAnimation:S,popupVisible:_e,stretch:Ue()?"minWidth":"",popup:je(),onPopupVisibleChange:ze,onPopupClick:ke,getPopupContainer:B}),Qe)}var rd=s.forwardRef(m1),X0=rd,lh=e=>typeof e!="object"&&typeof e!="function"||e===null,Uy=he(5416),id=he(47996),bg=s.createContext(null);function Wy(e,t){return e===void 0?null:"".concat(e,"-").concat(t)}function xg(e){var t=s.useContext(bg);return Wy(t,e)}var q0=["children","locked"],od=s.createContext(null);function gw(e,t){var o=(0,fe.Z)({},e);return Object.keys(t).forEach(function(i){var u=t[i];u!==void 0&&(o[i]=u)}),o}function Cg(e){var t=e.children,o=e.locked,i=(0,Ve.Z)(e,q0),u=s.useContext(od),g=(0,ed.Z)(function(){return gw(u,i)},[u,i],function(_,x){return!o&&(_[0]!==x[0]||!(0,id.Z)(_[1],x[1],!0))});return s.createElement(od.Provider,{value:g},t)}var im=[],K0=s.createContext(null);function Y0(){return s.useContext(K0)}var Gy=s.createContext(im);function ch(e){var t=s.useContext(Gy);return s.useMemo(function(){return e!==void 0?[].concat((0,Be.Z)(t),[e]):t},[t,e])}var g1=s.createContext(null),wg=s.createContext({}),Dd=wg,v1=he(59422),J0=nt.Z.LEFT,om=nt.Z.RIGHT,Sg=nt.Z.UP,Q0=nt.Z.DOWN,Eg=nt.Z.ENTER,am=nt.Z.ESC,sm=nt.Z.HOME,Ig=nt.Z.END,Cf=[Sg,Q0,J0,om];function vw(e,t,o,i){var u,g="prev",_="next",x="children",S="parent";if(e==="inline"&&i===Eg)return{inlineTrigger:!0};var T=(0,Ee.Z)((0,Ee.Z)({},Sg,g),Q0,_),M=(0,Ee.Z)((0,Ee.Z)((0,Ee.Z)((0,Ee.Z)({},J0,o?_:g),om,o?g:_),Q0,x),Eg,x),R=(0,Ee.Z)((0,Ee.Z)((0,Ee.Z)((0,Ee.Z)((0,Ee.Z)((0,Ee.Z)({},Sg,g),Q0,_),Eg,x),am,S),J0,o?x:S),om,o?S:x),N={inline:T,horizontal:M,vertical:R,inlineSub:T,horizontalSub:R,verticalSub:R},F=(u=N["".concat(e).concat(t?"":"Sub")])===null||u===void 0?void 0:u[i];switch(F){case g:return{offset:-1,sibling:!0};case _:return{offset:1,sibling:!0};case S:return{offset:-1,sibling:!1};case x:return{offset:1,sibling:!1};default:return null}}function Tg(e){for(var t=e;t;){if(t.getAttribute("data-menu-list"))return t;t=t.parentElement}return null}function Mg(e,t){for(var o=e||document.activeElement;o;){if(t.has(o))return o;o=o.parentElement}return null}function tp(e,t){var o=(0,v1.tS)(e,!0);return o.filter(function(i){return t.has(i)})}function lm(e,t,o){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;if(!e)return null;var u=tp(e,t),g=u.length,_=u.findIndex(function(x){return o===x});return i<0?_===-1?_=g-1:_-=1:i>0&&(_+=1),_=(_+g)%g,u[_]}var cm=function(t,o){var i=new Set,u=new Map,g=new Map;return t.forEach(function(_){var x=document.querySelector("[data-menu-id='".concat(Wy(o,_),"']"));x&&(i.add(x),g.set(x,_),u.set(_,x))}),{elements:i,key2element:u,element2key:g}};function yw(e,t,o,i,u,g,_,x,S,T){var M=s.useRef(),R=s.useRef();R.current=t;var N=function(){lt.Z.cancel(M.current)};return s.useEffect(function(){return function(){N()}},[]),function(F){var B=F.which;if([].concat(Cf,[Eg,am,sm,Ig]).includes(B)){var V=g(),j=cm(V,i),H=j,U=H.elements,K=H.key2element,Y=H.element2key,q=K.get(t),Q=Mg(q,U),re=Y.get(Q),ae=vw(e,_(re,!0).length===1,o,B);if(!ae&&B!==sm&&B!==Ig)return;(Cf.includes(B)||[sm,Ig].includes(B))&&F.preventDefault();var se=function(Ce){if(Ce){var Le=Ce,ze=Ce.querySelector("a");ze!=null&&ze.getAttribute("href")&&(Le=ze);var ke=Y.get(Ce);x(ke),N(),M.current=(0,lt.Z)(function(){R.current===ke&&Le.focus()})}};if([sm,Ig].includes(B)||ae.sibling||!Q){var de;!Q||e==="inline"?de=u.current:de=Tg(Q);var pe,ge=tp(de,U);B===sm?pe=ge[0]:B===Ig?pe=ge[ge.length-1]:pe=lm(de,U,Q,ae.offset),se(pe)}else if(ae.inlineTrigger)S(re);else if(ae.offset>0)S(re,!0),N(),M.current=(0,lt.Z)(function(){j=cm(V,i);var Ie=Q.getAttribute("aria-controls"),Ce=document.getElementById(Ie),Le=lm(Ce,j.elements);se(Le)},5);else if(ae.offset<0){var me=_(re,!0),be=me[me.length-2],_e=K.get(be);S(be,!1),se(_e)}}T==null||T(F)}}function _w(e){Promise.resolve().then(e)}var uh="__RC_UTIL_PATH_SPLIT__",Pg=function(t){return t.join(uh)},bw=function(t){return t.split(uh)},ev="rc-menu-more";function y1(){var e=s.useState({}),t=(0,ve.Z)(e,2),o=t[1],i=(0,s.useRef)(new Map),u=(0,s.useRef)(new Map),g=s.useState([]),_=(0,ve.Z)(g,2),x=_[0],S=_[1],T=(0,s.useRef)(0),M=(0,s.useRef)(!1),R=function(){M.current||o({})},N=(0,s.useCallback)(function(K,Y){var q=Pg(Y);u.current.set(q,K),i.current.set(K,q),T.current+=1;var Q=T.current;_w(function(){Q===T.current&&R()})},[]),F=(0,s.useCallback)(function(K,Y){var q=Pg(Y);u.current.delete(q),i.current.delete(K)},[]),B=(0,s.useCallback)(function(K){S(K)},[]),V=(0,s.useCallback)(function(K,Y){var q=i.current.get(K)||"",Q=bw(q);return Y&&x.includes(Q[0])&&Q.unshift(ev),Q},[x]),j=(0,s.useCallback)(function(K,Y){return K.filter(function(q){return q!==void 0}).some(function(q){var Q=V(q,!0);return Q.includes(Y)})},[V]),H=function(){var Y=(0,Be.Z)(i.current.keys());return x.length&&Y.push(ev),Y},U=(0,s.useCallback)(function(K){var Y="".concat(i.current.get(K)).concat(uh),q=new Set;return(0,Be.Z)(u.current.keys()).forEach(function(Q){Q.startsWith(Y)&&q.add(u.current.get(Q))}),q},[]);return s.useEffect(function(){return function(){M.current=!0}},[]),{registerPath:N,unregisterPath:F,refreshOverflowKeys:B,isSubPathKey:j,getKeyPath:V,getKeys:H,getSubPathKeys:U}}function Og(e){var t=s.useRef(e);t.current=e;var o=s.useCallback(function(){for(var i,u=arguments.length,g=new Array(u),_=0;_<u;_++)g[_]=arguments[_];return(i=t.current)===null||i===void 0?void 0:i.call.apply(i,[t].concat(g))},[]);return e?o:void 0}var _1=Math.random().toFixed(5).toString().slice(2),b1=0;function x1(e){var t=(0,Jo.Z)(e,{value:e}),o=(0,ve.Z)(t,2),i=o[0],u=o[1];return s.useEffect(function(){b1+=1;var g="".concat(_1,"-").concat(b1);u("rc-menu-uuid-".concat(g))},[]),i}function C1(e,t,o,i){var u=s.useContext(od),g=u.activeKey,_=u.onActive,x=u.onInactive,S={active:g===e};return t||(S.onMouseEnter=function(T){o==null||o({key:e,domEvent:T}),_(e)},S.onMouseLeave=function(T){i==null||i({key:e,domEvent:T}),x(e)}),S}function Xy(e){var t=s.useContext(od),o=t.mode,i=t.rtl,u=t.inlineIndent;if(o!=="inline")return null;var g=e;return i?{paddingRight:g*u}:{paddingLeft:g*u}}function w1(e){var t=e.icon,o=e.props,i=e.children,u;return t===null||t===!1?null:(typeof t=="function"?u=s.createElement(t,(0,fe.Z)({},o)):typeof t!="boolean"&&(u=t),u||i||null)}var xw=["item"];function np(e){var t=e.item,o=(0,Ve.Z)(e,xw);return Object.defineProperty(o,"item",{get:function(){return(0,zl.ZP)(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),t}}),o}var tv=["title","attribute","elementRef"],nv=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],rv=["active"],Cw=function(e){(0,Gr.Z)(o,e);var t=(0,bu.Z)(o);function o(){return(0,ri.Z)(this,o),t.apply(this,arguments)}return(0,Ko.Z)(o,[{key:"render",value:function(){var u=this.props,g=u.title,_=u.attribute,x=u.elementRef,S=(0,Ve.Z)(u,tv),T=(0,Er.Z)(S,["eventKey","popupClassName","popupOffset","onTitleClick"]);return(0,zl.ZP)(!_,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),s.createElement(Mn.Z.Item,(0,Pt.Z)({},_,{title:typeof g=="string"?g:void 0},T,{ref:x}))}}]),o}(s.Component),qy=s.forwardRef(function(e,t){var o=e.style,i=e.className,u=e.eventKey,g=e.warnKey,_=e.disabled,x=e.itemIcon,S=e.children,T=e.role,M=e.onMouseEnter,R=e.onMouseLeave,N=e.onClick,F=e.onKeyDown,B=e.onFocus,V=(0,Ve.Z)(e,nv),j=xg(u),H=s.useContext(od),U=H.prefixCls,K=H.onItemClick,Y=H.disabled,q=H.overflowDisabled,Q=H.itemIcon,re=H.selectedKeys,ae=H.onActive,se=s.useContext(Dd),de=se._internalRenderMenuItem,pe="".concat(U,"-item"),ge=s.useRef(),me=s.useRef(),be=Y||_,_e=(0,zr.x1)(t,me),Ie=ch(u),Ce=function(Dt){return{key:u,keyPath:(0,Be.Z)(Ie).reverse(),item:ge.current,domEvent:Dt}},Le=x||Q,ze=C1(u,be,M,R),ke=ze.active,Ze=(0,Ve.Z)(ze,rv),je=re.includes(u),Ue=Xy(Ie.length),He=function(Dt){if(!be){var ct=Ce(Dt);N==null||N(np(ct)),K(ct)}},Qe=function(Dt){if(F==null||F(Dt),Dt.which===nt.Z.ENTER){var ct=Ce(Dt);N==null||N(np(ct)),K(ct)}},We=function(Dt){ae(u),B==null||B(Dt)},it={};e.role==="option"&&(it["aria-selected"]=je);var Je=s.createElement(Cw,(0,Pt.Z)({ref:ge,elementRef:_e,role:T===null?"none":T||"menuitem",tabIndex:_?null:-1,"data-menu-id":q&&j?null:j},(0,Er.Z)(V,["extra"]),Ze,it,{component:"li","aria-disabled":_,style:(0,fe.Z)((0,fe.Z)({},Ue),o),className:oe()(pe,(0,Ee.Z)((0,Ee.Z)((0,Ee.Z)({},"".concat(pe,"-active"),ke),"".concat(pe,"-selected"),je),"".concat(pe,"-disabled"),be),i),onClick:He,onKeyDown:Qe,onFocus:We}),S,s.createElement(w1,{props:(0,fe.Z)((0,fe.Z)({},e),{},{isSelected:je}),icon:Le}));return de&&(Je=de(Je,e,{selected:je})),Je});function Ky(e,t){var o=e.eventKey,i=Y0(),u=ch(o);return s.useEffect(function(){if(i)return i.registerPath(o,u),function(){i.unregisterPath(o,u)}},[u]),i?null:s.createElement(qy,(0,Pt.Z)({},e,{ref:t}))}var zd=s.forwardRef(Ky),S1=["className","children"],E1=function(t,o){var i=t.className,u=t.children,g=(0,Ve.Z)(t,S1),_=s.useContext(od),x=_.prefixCls,S=_.mode,T=_.rtl;return s.createElement("ul",(0,Pt.Z)({className:oe()(x,T&&"".concat(x,"-rtl"),"".concat(x,"-sub"),"".concat(x,"-").concat(S==="inline"?"inline":"vertical"),i),role:"menu"},g,{"data-menu-list":!0,ref:o}),u)},iv=s.forwardRef(E1);iv.displayName="SubMenuList";var Yy=iv;function $g(e,t){return(0,El.Z)(e).map(function(o,i){if(s.isValidElement(o)){var u,g,_=o.key,x=(u=(g=o.props)===null||g===void 0?void 0:g.eventKey)!==null&&u!==void 0?u:_,S=x==null;S&&(x="tmp_key-".concat([].concat((0,Be.Z)(t),[i]).join("-")));var T={key:x,eventKey:x};return s.cloneElement(o,T)}return o})}var yc={adjustX:1,adjustY:1},I1={topLeft:{points:["bl","tl"],overflow:yc},topRight:{points:["br","tr"],overflow:yc},bottomLeft:{points:["tl","bl"],overflow:yc},bottomRight:{points:["tr","br"],overflow:yc},leftTop:{points:["tr","tl"],overflow:yc},leftBottom:{points:["br","bl"],overflow:yc},rightTop:{points:["tl","tr"],overflow:yc},rightBottom:{points:["bl","br"],overflow:yc}},T1={topLeft:{points:["bl","tl"],overflow:yc},topRight:{points:["br","tr"],overflow:yc},bottomLeft:{points:["tl","bl"],overflow:yc},bottomRight:{points:["tr","br"],overflow:yc},rightTop:{points:["tr","tl"],overflow:yc},rightBottom:{points:["br","bl"],overflow:yc},leftTop:{points:["tl","tr"],overflow:yc},leftBottom:{points:["bl","br"],overflow:yc}},ww=null;function Jy(e,t,o){if(t)return t;if(o)return o[e]||o.other}var Qy={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function e_(e){var t=e.prefixCls,o=e.visible,i=e.children,u=e.popup,g=e.popupStyle,_=e.popupClassName,x=e.popupOffset,S=e.disabled,T=e.mode,M=e.onVisibleChange,R=s.useContext(od),N=R.getPopupContainer,F=R.rtl,B=R.subMenuOpenDelay,V=R.subMenuCloseDelay,j=R.builtinPlacements,H=R.triggerSubMenuAction,U=R.forceSubMenuRender,K=R.rootClassName,Y=R.motion,q=R.defaultMotions,Q=s.useState(!1),re=(0,ve.Z)(Q,2),ae=re[0],se=re[1],de=F?(0,fe.Z)((0,fe.Z)({},T1),j):(0,fe.Z)((0,fe.Z)({},I1),j),pe=Qy[T],ge=Jy(T,Y,q),me=s.useRef(ge);T!=="inline"&&(me.current=ge);var be=(0,fe.Z)((0,fe.Z)({},me.current),{},{leavedClassName:"".concat(t,"-hidden"),removeOnLeave:!1,motionAppear:!0}),_e=s.useRef();return s.useEffect(function(){return _e.current=(0,lt.Z)(function(){se(o)}),function(){lt.Z.cancel(_e.current)}},[o]),s.createElement(Ka.Z,{prefixCls:t,popupClassName:oe()("".concat(t,"-popup"),(0,Ee.Z)({},"".concat(t,"-rtl"),F),_,K),stretch:T==="horizontal"?"minWidth":null,getPopupContainer:N,builtinPlacements:de,popupPlacement:pe,popupVisible:ae,popup:u,popupStyle:g,popupAlign:x&&{offset:x},action:S?[]:[H],mouseEnterDelay:B,mouseLeaveDelay:V,onPopupVisibleChange:M,forceRender:U,popupMotion:be,fresh:!0},i)}function t_(e){var t=e.id,o=e.open,i=e.keyPath,u=e.children,g="inline",_=s.useContext(od),x=_.prefixCls,S=_.forceSubMenuRender,T=_.motion,M=_.defaultMotions,R=_.mode,N=s.useRef(!1);N.current=R===g;var F=s.useState(!N.current),B=(0,ve.Z)(F,2),V=B[0],j=B[1],H=N.current?o:!1;s.useEffect(function(){N.current&&j(!1)},[R]);var U=(0,fe.Z)({},Jy(g,T,M));i.length>1&&(U.motionAppear=!1);var K=U.onVisibleChanged;return U.onVisibleChanged=function(Y){return!N.current&&!Y&&j(!0),K==null?void 0:K(Y)},V?null:s.createElement(Cg,{mode:g,locked:!N.current},s.createElement(mr.ZP,(0,Pt.Z)({visible:H},U,{forceRender:S,removeOnLeave:!1,leavedClassName:"".concat(x,"-hidden")}),function(Y){var q=Y.className,Q=Y.style;return s.createElement(Yy,{id:t,className:q,style:Q},u)}))}var n_=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","popupStyle","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],ov=["active"],av=s.forwardRef(function(e,t){var o=e.style,i=e.className,u=e.title,g=e.eventKey,_=e.warnKey,x=e.disabled,S=e.internalPopupClose,T=e.children,M=e.itemIcon,R=e.expandIcon,N=e.popupClassName,F=e.popupOffset,B=e.popupStyle,V=e.onClick,j=e.onMouseEnter,H=e.onMouseLeave,U=e.onTitleClick,K=e.onTitleMouseEnter,Y=e.onTitleMouseLeave,q=(0,Ve.Z)(e,n_),Q=xg(g),re=s.useContext(od),ae=re.prefixCls,se=re.mode,de=re.openKeys,pe=re.disabled,ge=re.overflowDisabled,me=re.activeKey,be=re.selectedKeys,_e=re.itemIcon,Ie=re.expandIcon,Ce=re.onItemClick,Le=re.onOpenChange,ze=re.onActive,ke=s.useContext(Dd),Ze=ke._internalRenderSubMenuItem,je=s.useContext(g1),Ue=je.isSubPathKey,He=ch(),Qe="".concat(ae,"-submenu"),We=pe||x,it=s.useRef(),Je=s.useRef(),wt=M!=null?M:_e,Dt=R!=null?R:Ie,ct=de.includes(g),ht=!ge&&ct,ut=Ue(be,g),tt=C1(g,We,K,Y),xt=tt.active,_t=(0,Ve.Z)(tt,ov),dn=s.useState(!1),on=(0,ve.Z)(dn,2),Ut=on[0],en=on[1],kt=function(Gt){We||en(Gt)},cn=function(Gt){kt(!0),j==null||j({key:g,domEvent:Gt})},zn=function(Gt){kt(!1),H==null||H({key:g,domEvent:Gt})},An=s.useMemo(function(){return xt||(se!=="inline"?Ut||Ue([me],g):!1)},[se,xt,me,Ut,g,Ue]),sr=Xy(He.length),yr=function(Gt){We||(U==null||U({key:g,domEvent:Gt}),se==="inline"&&Le(g,!ct))},Vr=Og(function(yn){V==null||V(np(yn)),Ce(yn)}),Qn=function(Gt){se!=="inline"&&Le(g,Gt)},Un=function(){ze(g)},er=Q&&"".concat(Q,"-popup"),Ir=s.useMemo(function(){return s.createElement(w1,{icon:se!=="horizontal"?Dt:void 0,props:(0,fe.Z)((0,fe.Z)({},e),{},{isOpen:ht,isSubMenu:!0})},s.createElement("i",{className:"".concat(Qe,"-arrow")}))},[se,Dt,e,ht,Qe]),pr=s.createElement("div",(0,Pt.Z)({role:"menuitem",style:sr,className:"".concat(Qe,"-title"),tabIndex:We?null:-1,ref:it,title:typeof u=="string"?u:null,"data-menu-id":ge&&Q?null:Q,"aria-expanded":ht,"aria-haspopup":!0,"aria-controls":er,"aria-disabled":We,onClick:yr,onFocus:Un},_t),u,Ir),Zr=s.useRef(se);if(se!=="inline"&&He.length>1?Zr.current="vertical":Zr.current=se,!ge){var xn=Zr.current;pr=s.createElement(e_,{mode:xn,prefixCls:Qe,visible:!S&&ht&&se!=="inline",popupClassName:N,popupOffset:F,popupStyle:B,popup:s.createElement(Cg,{mode:xn==="horizontal"?"vertical":xn},s.createElement(Yy,{id:er,ref:Je},T)),disabled:We,onVisibleChange:Qn},pr)}var fn=s.createElement(Mn.Z.Item,(0,Pt.Z)({ref:t,role:"none"},q,{component:"li",style:o,className:oe()(Qe,"".concat(Qe,"-").concat(se),i,(0,Ee.Z)((0,Ee.Z)((0,Ee.Z)((0,Ee.Z)({},"".concat(Qe,"-open"),ht),"".concat(Qe,"-active"),An),"".concat(Qe,"-selected"),ut),"".concat(Qe,"-disabled"),We)),onMouseEnter:cn,onMouseLeave:zn}),pr,!ge&&s.createElement(t_,{id:er,open:ht,keyPath:He},T));return Ze&&(fn=Ze(fn,e,{selected:ut,active:An,open:ht,disabled:We})),s.createElement(Cg,{onItemClick:Vr,mode:se==="horizontal"?"vertical":se,itemIcon:wt,expandIcon:Dt},fn)}),M1=s.forwardRef(function(e,t){var o=e.eventKey,i=e.children,u=ch(o),g=$g(i,u),_=Y0();s.useEffect(function(){if(_)return _.registerPath(o,u),function(){_.unregisterPath(o,u)}},[u]);var x;return _?x=g:x=s.createElement(av,(0,Pt.Z)({ref:t},e),g),s.createElement(Gy.Provider,{value:u},x)}),rp=M1;function sv(e){var t=e.className,o=e.style,i=s.useContext(od),u=i.prefixCls,g=Y0();return g?null:s.createElement("li",{role:"separator",className:oe()("".concat(u,"-item-divider"),t),style:o})}var Sw=["className","title","eventKey","children"],P1=s.forwardRef(function(e,t){var o=e.className,i=e.title,u=e.eventKey,g=e.children,_=(0,Ve.Z)(e,Sw),x=s.useContext(od),S=x.prefixCls,T="".concat(S,"-item-group");return s.createElement("li",(0,Pt.Z)({ref:t,role:"presentation"},_,{onClick:function(R){return R.stopPropagation()},className:oe()(T,o)}),s.createElement("div",{role:"presentation",className:"".concat(T,"-title"),title:typeof i=="string"?i:void 0},i),s.createElement("ul",{role:"group",className:"".concat(T,"-list")},g))}),O1=s.forwardRef(function(e,t){var o=e.eventKey,i=e.children,u=ch(o),g=$g(i,u),_=Y0();return _?g:s.createElement(P1,(0,Pt.Z)({ref:t},(0,Er.Z)(e,["warnKey"])),g)}),lv=O1,$1=["label","children","key","type","extra"];function cv(e,t,o){var i=t.item,u=t.group,g=t.submenu,_=t.divider;return(e||[]).map(function(x,S){if(x&&(0,Tt.Z)(x)==="object"){var T=x,M=T.label,R=T.children,N=T.key,F=T.type,B=T.extra,V=(0,Ve.Z)(T,$1),j=N!=null?N:"tmp-".concat(S);return R||F==="group"?F==="group"?s.createElement(u,(0,Pt.Z)({key:j},V,{title:M}),cv(R,t,o)):s.createElement(g,(0,Pt.Z)({key:j},V,{title:M}),cv(R,t,o)):F==="divider"?s.createElement(_,(0,Pt.Z)({key:j},V)):s.createElement(i,(0,Pt.Z)({key:j},V,{extra:B}),M,(!!B||B===0)&&s.createElement("span",{className:"".concat(o,"-item-extra")},B))}return null}).filter(function(x){return x})}function r_(e,t,o,i,u){var g=e,_=(0,fe.Z)({divider:sv,item:zd,group:lv,submenu:rp},i);return t&&(g=cv(t,_,u)),$g(g,o)}var R1=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem","_internalComponents"],ip=[],i_=s.forwardRef(function(e,t){var o,i=e,u=i.prefixCls,g=u===void 0?"rc-menu":u,_=i.rootClassName,x=i.style,S=i.className,T=i.tabIndex,M=T===void 0?0:T,R=i.items,N=i.children,F=i.direction,B=i.id,V=i.mode,j=V===void 0?"vertical":V,H=i.inlineCollapsed,U=i.disabled,K=i.disabledOverflow,Y=i.subMenuOpenDelay,q=Y===void 0?.1:Y,Q=i.subMenuCloseDelay,re=Q===void 0?.1:Q,ae=i.forceSubMenuRender,se=i.defaultOpenKeys,de=i.openKeys,pe=i.activeKey,ge=i.defaultActiveFirst,me=i.selectable,be=me===void 0?!0:me,_e=i.multiple,Ie=_e===void 0?!1:_e,Ce=i.defaultSelectedKeys,Le=i.selectedKeys,ze=i.onSelect,ke=i.onDeselect,Ze=i.inlineIndent,je=Ze===void 0?24:Ze,Ue=i.motion,He=i.defaultMotions,Qe=i.triggerSubMenuAction,We=Qe===void 0?"hover":Qe,it=i.builtinPlacements,Je=i.itemIcon,wt=i.expandIcon,Dt=i.overflowedIndicator,ct=Dt===void 0?"...":Dt,ht=i.overflowedIndicatorPopupClassName,ut=i.getPopupContainer,tt=i.onClick,xt=i.onOpenChange,_t=i.onKeyDown,dn=i.openAnimation,on=i.openTransitionName,Ut=i._internalRenderMenuItem,en=i._internalRenderSubMenuItem,kt=i._internalComponents,cn=(0,Ve.Z)(i,R1),zn=s.useMemo(function(){return[r_(N,R,ip,kt,g),r_(N,R,ip,{},g)]},[N,R,kt]),An=(0,ve.Z)(zn,2),sr=An[0],yr=An[1],Vr=s.useState(!1),Qn=(0,ve.Z)(Vr,2),Un=Qn[0],er=Qn[1],Ir=s.useRef(),pr=x1(B),Zr=F==="rtl",xn=(0,Jo.Z)(se,{value:de,postState:function(as){return as||ip}}),fn=(0,ve.Z)(xn,2),yn=fn[0],Gt=fn[1],Kn=function(as){var Ki=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;function eo(){Gt(as),xt==null||xt(as)}Ki?(0,Nt.flushSync)(eo):eo()},vr=s.useState(yn),Jr=(0,ve.Z)(vr,2),Hi=Jr[0],Gi=Jr[1],Zi=s.useRef(!1),Fa=s.useMemo(function(){return(j==="inline"||j==="vertical")&&H?["vertical",H]:[j,!1]},[j,H]),Do=(0,ve.Z)(Fa,2),zo=Do[0],oo=Do[1],Uo=zo==="inline",ua=s.useState(zo),xi=(0,ve.Z)(ua,2),Fi=xi[0],Wr=xi[1],gi=s.useState(oo),Ci=(0,ve.Z)(gi,2),Yi=Ci[0],xa=Ci[1];s.useEffect(function(){Wr(zo),xa(oo),Zi.current&&(Uo?Gt(Hi):Kn(ip))},[zo,oo]);var Pa=s.useState(0),Fs=(0,ve.Z)(Pa,2),Xi=Fs[0],Di=Fs[1],Si=Xi>=sr.length-1||Fi!=="horizontal"||K;s.useEffect(function(){Uo&&Gi(yn)},[yn]),s.useEffect(function(){return Zi.current=!0,function(){Zi.current=!1}},[]);var Ii=y1(),da=Ii.registerPath,Qa=Ii.unregisterPath,Wo=Ii.refreshOverflowKeys,lo=Ii.isSubPathKey,va=Ii.getKeyPath,ka=Ii.getKeys,Us=Ii.getSubPathKeys,Ti=s.useMemo(function(){return{registerPath:da,unregisterPath:Qa}},[da,Qa]),xr=s.useMemo(function(){return{isSubPathKey:lo}},[lo]);s.useEffect(function(){Wo(Si?ip:sr.slice(Xi+1).map(function(Lo){return Lo.key}))},[Xi,Si]);var zi=(0,Jo.Z)(pe||ge&&((o=sr[0])===null||o===void 0?void 0:o.key),{value:pe}),_o=(0,ve.Z)(zi,2),Sa=_o[0],vs=_o[1],Js=Og(function(Lo){vs(Lo)}),hs=Og(function(){vs(void 0)});(0,s.useImperativeHandle)(t,function(){return{list:Ir.current,focus:function(as){var Ki,eo=ka(),ps=cm(eo,pr),wl=ps.elements,cc=ps.key2element,vu=ps.element2key,Nu=tp(Ir.current,wl),Bu=Sa!=null?Sa:Nu[0]?vu.get(Nu[0]):(Ki=sr.find(function(ra){return!ra.props.disabled}))===null||Ki===void 0?void 0:Ki.key,es=cc.get(Bu);if(Bu&&es){var ao;es==null||(ao=es.focus)===null||ao===void 0||ao.call(es,as)}}}});var ho=(0,Jo.Z)(Ce||[],{value:Le,postState:function(as){return Array.isArray(as)?as:as==null?ip:[as]}}),fa=(0,ve.Z)(ho,2),ja=fa[0],Ws=fa[1],lc=function(as){if(be){var Ki=as.key,eo=ja.includes(Ki),ps;Ie?eo?ps=ja.filter(function(cc){return cc!==Ki}):ps=[].concat((0,Be.Z)(ja),[Ki]):ps=[Ki],Ws(ps);var wl=(0,fe.Z)((0,fe.Z)({},as),{},{selectedKeys:ps});eo?ke==null||ke(wl):ze==null||ze(wl)}!Ie&&yn.length&&Fi!=="inline"&&Kn(ip)},Lu=Og(function(Lo){tt==null||tt(np(Lo)),lc(Lo)}),Ih=Og(function(Lo,as){var Ki=yn.filter(function(ps){return ps!==Lo});if(as)Ki.push(Lo);else if(Fi!=="inline"){var eo=Us(Lo);Ki=Ki.filter(function(ps){return!eo.has(ps)})}(0,id.Z)(yn,Ki,!0)||Kn(Ki,!0)}),Th=function(as,Ki){var eo=Ki!=null?Ki:!yn.includes(as);Ih(as,eo)},kd=yw(Fi,Sa,Zr,pr,Ir,ka,va,vs,Th,_t);s.useEffect(function(){er(!0)},[]);var jd=s.useMemo(function(){return{_internalRenderMenuItem:Ut,_internalRenderSubMenuItem:en}},[Ut,en]),dd=Fi!=="horizontal"||K?sr:sr.map(function(Lo,as){return s.createElement(Cg,{key:Lo.key,overflowDisabled:as>Xi},Lo)}),Ps=s.createElement(Mn.Z,(0,Pt.Z)({id:B,ref:Ir,prefixCls:"".concat(g,"-overflow"),component:"ul",itemComponent:zd,className:oe()(g,"".concat(g,"-root"),"".concat(g,"-").concat(Fi),S,(0,Ee.Z)((0,Ee.Z)({},"".concat(g,"-inline-collapsed"),Yi),"".concat(g,"-rtl"),Zr),_),dir:F,style:x,role:"menu",tabIndex:M,data:dd,renderRawItem:function(as){return as},renderRawRest:function(as){var Ki=as.length,eo=Ki?sr.slice(-Ki):null;return s.createElement(rp,{eventKey:ev,title:ct,disabled:Si,internalPopupClose:Ki===0,popupClassName:ht},eo)},maxCount:Fi!=="horizontal"||K?Mn.Z.INVALIDATE:Mn.Z.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(as){Di(as)},onKeyDown:kd},cn));return s.createElement(Dd.Provider,{value:jd},s.createElement(bg.Provider,{value:pr},s.createElement(Cg,{prefixCls:g,rootClassName:_,mode:Fi,openKeys:yn,rtl:Zr,disabled:U,motion:Un?Ue:null,defaultMotions:Un?He:null,activeKey:Sa,onActive:Js,onInactive:hs,selectedKeys:ja,inlineIndent:je,subMenuOpenDelay:q,subMenuCloseDelay:re,forceSubMenuRender:ae,builtinPlacements:it,triggerSubMenuAction:We,getPopupContainer:ut,itemIcon:Je,expandIcon:wt,onItemClick:Lu,onOpenChange:Ih},s.createElement(g1.Provider,{value:xr},Ps),s.createElement("div",{style:{display:"none"},"aria-hidden":!0},s.createElement(K0.Provider,{value:Ti},yr)))))}),A1=i_,um=A1;um.Item=zd,um.SubMenu=rp,um.ItemGroup=lv,um.Divider=sv;var dm=um,dh={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"bars",theme:"outlined"},o_=dh,D1=function(t,o){return s.createElement(Fn.Z,(0,Pt.Z)({},t,{ref:o,icon:o_}))},z1=s.forwardRef(D1),uv=z1;const dv=s.createContext({siderHook:{addSider:()=>null,removeSider:()=>null}}),L1=e=>{const{antCls:t,componentCls:o,colorText:i,footerBg:u,headerHeight:g,headerPadding:_,headerColor:x,footerPadding:S,fontSize:T,bodyBg:M,headerBg:R}=e;return{[o]:{display:"flex",flex:"auto",flexDirection:"column",minHeight:0,background:M,"&, *":{boxSizing:"border-box"},[`&${o}-has-sider`]:{flexDirection:"row",[`> ${o}, > ${o}-content`]:{width:0}},[`${o}-header, &${o}-footer`]:{flex:"0 0 auto"},"&-rtl":{direction:"rtl"}},[`${o}-header`]:{height:g,padding:_,color:x,lineHeight:(0,J.bf)(g),background:R,[`${t}-menu`]:{lineHeight:"inherit"}},[`${o}-footer`]:{padding:S,color:i,fontSize:T,background:u},[`${o}-content`]:{flex:"auto",color:i,minHeight:0}}},N1=e=>{const{colorBgLayout:t,controlHeight:o,controlHeightLG:i,colorText:u,controlHeightSM:g,marginXXS:_,colorTextLightSolid:x,colorBgContainer:S}=e,T=i*1.25;return{colorBgHeader:"#001529",colorBgBody:t,colorBgTrigger:"#002140",bodyBg:t,headerBg:"#001529",headerHeight:o*2,headerPadding:`0 ${T}px`,headerColor:u,footerPadding:`${g}px ${T}px`,footerBg:t,siderBg:"#001529",triggerHeight:i+_*2,triggerBg:"#002140",triggerColor:x,zeroTriggerWidth:i,zeroTriggerHeight:i,lightSiderBg:S,lightTriggerBg:S,lightTriggerColor:u}},B1=[["colorBgBody","bodyBg"],["colorBgHeader","headerBg"],["colorBgTrigger","triggerBg"]];var F1=(0,Ae.I$)("Layout",e=>[L1(e)],N1,{deprecatedTokens:B1});const Ew=e=>{const{componentCls:t,siderBg:o,motionDurationMid:i,motionDurationSlow:u,antCls:g,triggerHeight:_,triggerColor:x,triggerBg:S,headerHeight:T,zeroTriggerWidth:M,zeroTriggerHeight:R,borderRadiusLG:N,lightSiderBg:F,lightTriggerColor:B,lightTriggerBg:V,bodyBg:j}=e;return{[t]:{position:"relative",minWidth:0,background:o,transition:`all ${i}, background 0s`,"&-has-trigger":{paddingBottom:_},"&-right":{order:1},[`${t}-children`]:{height:"100%",marginTop:-.1,paddingTop:.1,[`${g}-menu${g}-menu-inline-collapsed`]:{width:"auto"}},[`&-zero-width ${t}-children`]:{overflow:"hidden"},[`${t}-trigger`]:{position:"fixed",bottom:0,zIndex:1,height:_,color:x,lineHeight:(0,J.bf)(_),textAlign:"center",background:S,cursor:"pointer",transition:`all ${i}`},[`${t}-zero-width-trigger`]:{position:"absolute",top:T,insetInlineEnd:e.calc(M).mul(-1).equal(),zIndex:1,width:M,height:R,color:x,fontSize:e.fontSizeXL,display:"flex",alignItems:"center",justifyContent:"center",background:o,borderRadius:`0 ${(0,J.bf)(N)} ${(0,J.bf)(N)} 0`,cursor:"pointer",transition:`background ${u} ease`,"&::after":{position:"absolute",inset:0,background:"transparent",transition:`all ${u}`,content:'""'},"&:hover::after":{background:"rgba(255, 255, 255, 0.2)"},"&-right":{insetInlineStart:e.calc(M).mul(-1).equal(),borderRadius:`${(0,J.bf)(N)} 0 0 ${(0,J.bf)(N)}`}},"&-light":{background:F,[`${t}-trigger`]:{color:B,background:V},[`${t}-zero-width-trigger`]:{color:B,background:V,border:`1px solid ${j}`,borderInlineStart:0}}}}};var Iw=(0,Ae.I$)(["Layout","Sider"],e=>[Ew(e)],N1,{deprecatedTokens:B1}),Tw=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};const k1={xs:"479.98px",sm:"575.98px",md:"767.98px",lg:"991.98px",xl:"1199.98px",xxl:"1599.98px"},j1=e=>!Number.isNaN(Number.parseFloat(e))&&isFinite(e),op=s.createContext({}),Z1=(()=>{let e=0;return function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return e+=1,`${t}${e}`}})();var a_=s.forwardRef((e,t)=>{const{prefixCls:o,className:i,trigger:u,children:g,defaultCollapsed:_=!1,theme:x="dark",style:S={},collapsible:T=!1,reverseArrow:M=!1,width:R=200,collapsedWidth:N=80,zeroWidthTriggerStyle:F,breakpoint:B,onCollapse:V,onBreakpoint:j}=e,H=Tw(e,["prefixCls","className","trigger","children","defaultCollapsed","theme","style","collapsible","reverseArrow","width","collapsedWidth","zeroWidthTriggerStyle","breakpoint","onCollapse","onBreakpoint"]),{siderHook:U}=(0,s.useContext)(dv),[K,Y]=(0,s.useState)("collapsed"in e?e.collapsed:_),[q,Q]=(0,s.useState)(!1);(0,s.useEffect)(()=>{"collapsed"in e&&Y(e.collapsed)},[e.collapsed]);const re=(Je,wt)=>{"collapsed"in e||Y(Je),V==null||V(Je,wt)},{getPrefixCls:ae,direction:se}=(0,s.useContext)(De.E_),de=ae("layout-sider",o),[pe,ge,me]=Iw(de),be=(0,s.useRef)(null);be.current=Je=>{Q(Je.matches),j==null||j(Je.matches),K!==Je.matches&&re(Je.matches,"responsive")},(0,s.useEffect)(()=>{function Je(Dt){return be.current(Dt)}let wt;if(typeof window!="undefined"){const{matchMedia:Dt}=window;if(Dt&&B&&B in k1){wt=Dt(`screen and (max-width: ${k1[B]})`);try{wt.addEventListener("change",Je)}catch(ct){wt.addListener(Je)}Je(wt)}}return()=>{try{wt==null||wt.removeEventListener("change",Je)}catch(Dt){wt==null||wt.removeListener(Je)}}},[B]),(0,s.useEffect)(()=>{const Je=Z1("ant-sider-");return U.addSider(Je),()=>U.removeSider(Je)},[]);const _e=()=>{re(!K,"clickTrigger")},Ie=(0,Er.Z)(H,["collapsed"]),Ce=K?N:R,Le=j1(Ce)?`${Ce}px`:String(Ce),ze=parseFloat(String(N||0))===0?s.createElement("span",{onClick:_e,className:oe()(`${de}-zero-width-trigger`,`${de}-zero-width-trigger-${M?"right":"left"}`),style:F},u||s.createElement(uv,null)):null,ke=se==="rtl"==!M,Ue={expanded:ke?s.createElement(Pc,null):s.createElement(nd,null),collapsed:ke?s.createElement(nd,null):s.createElement(Pc,null)}[K?"collapsed":"expanded"],He=u!==null?ze||s.createElement("div",{className:`${de}-trigger`,onClick:_e,style:{width:Le}},u||Ue):null,Qe=Object.assign(Object.assign({},S),{flex:`0 0 ${Le}`,maxWidth:Le,minWidth:Le,width:Le}),We=oe()(de,`${de}-${x}`,{[`${de}-collapsed`]:!!K,[`${de}-has-trigger`]:T&&u!==null&&!ze,[`${de}-below`]:!!q,[`${de}-zero-width`]:parseFloat(Le)===0},i,ge,me),it=s.useMemo(()=>({siderCollapsed:K}),[K]);return pe(s.createElement(op.Provider,{value:it},s.createElement("aside",Object.assign({className:We},Ie,{style:Qe,ref:t}),s.createElement("div",{className:`${de}-children`},g),T||q&&ze?He:null)))}),s_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"},V1=s_,H1=function(t,o){return s.createElement(Fn.Z,(0,Pt.Z)({},t,{ref:o,icon:V1}))},ap=s.forwardRef(H1),fh=ap,hh=(0,s.createContext)({prefixCls:"",firstLevel:!0,inlineCollapsed:!1}),Ow=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o},Rg=e=>{const{prefixCls:t,className:o,dashed:i}=e,u=Ow(e,["prefixCls","className","dashed"]),{getPrefixCls:g}=s.useContext(De.E_),_=g("menu",t),x=oe()({[`${_}-item-divider-dashed`]:!!i},o);return s.createElement(sv,Object.assign({className:x},u))},sp=e=>{var t;const{className:o,children:i,icon:u,title:g,danger:_,extra:x}=e,{prefixCls:S,firstLevel:T,direction:M,disableMenuItemTitleTooltip:R,inlineCollapsed:N}=s.useContext(hh),F=K=>{const Y=i==null?void 0:i[0],q=s.createElement("span",{className:oe()(`${S}-title-content`,{[`${S}-title-content-with-extra`]:!!x||x===0})},i);return(!u||s.isValidElement(i)&&i.type==="span")&&i&&K&&T&&typeof Y=="string"?s.createElement("div",{className:`${S}-inline-collapsed-noicon`},Y.charAt(0)):q},{siderCollapsed:B}=s.useContext(op);let V=g;typeof g=="undefined"?V=T?i:"":g===!1&&(V="");const j={title:V};!B&&!N&&(j.title=null,j.open=!1);const H=(0,El.Z)(i).length;let U=s.createElement(zd,Object.assign({},(0,Er.Z)(e,["title","icon","danger"]),{className:oe()({[`${S}-item-danger`]:_,[`${S}-item-only-child`]:(u?H+1:H)===1},o),title:typeof g=="string"?g:void 0}),(0,wr.Tm)(u,{className:oe()(s.isValidElement(u)?(t=u.props)===null||t===void 0?void 0:t.className:"",`${S}-item-icon`)}),F(N));return R||(U=s.createElement(Uc.Z,Object.assign({},j,{placement:M==="rtl"?"left":"right",classNames:{root:`${S}-inline-collapsed-tooltip`}}),U)),U},l_=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};const wf=s.createContext(null),c_=s.forwardRef((e,t)=>{const{children:o}=e,i=l_(e,["children"]),u=s.useContext(wf),g=s.useMemo(()=>Object.assign(Object.assign({},u),i),[u,i.prefixCls,i.mode,i.selectable,i.rootClassName]),_=(0,zr.t4)(o),x=(0,zr.x1)(t,_?(0,zr.C4)(o):null);return s.createElement(wf.Provider,{value:g},s.createElement(xu.Z,{space:!0},_?s.cloneElement(o,{ref:x}):o))});var u_=wf,G1=e=>{const{componentCls:t,motionDurationSlow:o,horizontalLineHeight:i,colorSplit:u,lineWidth:g,lineType:_,itemPaddingInline:x}=e;return{[`${t}-horizontal`]:{lineHeight:i,border:0,borderBottom:`${(0,J.bf)(g)} ${_} ${u}`,boxShadow:"none","&::after":{display:"block",clear:"both",height:0,content:'"\\20"'},[`${t}-item, ${t}-submenu`]:{position:"relative",display:"inline-block",verticalAlign:"bottom",paddingInline:x},[`> ${t}-item:hover,
        > ${t}-item-active,
        > ${t}-submenu ${t}-submenu-title:hover`]:{backgroundColor:"transparent"},[`${t}-item, ${t}-submenu-title`]:{transition:[`border-color ${o}`,`background ${o}`].join(",")},[`${t}-submenu-arrow`]:{display:"none"}}}},Ag=e=>{let{componentCls:t,menuArrowOffset:o,calc:i}=e;return{[`${t}-rtl`]:{direction:"rtl"},[`${t}-submenu-rtl`]:{transformOrigin:"100% 0"},[`${t}-rtl${t}-vertical,
    ${t}-submenu-rtl ${t}-vertical`]:{[`${t}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateY(${(0,J.bf)(i(o).mul(-1).equal())})`},"&::after":{transform:`rotate(45deg) translateY(${(0,J.bf)(o)})`}}}}};const X1=e=>Object.assign({},(0,mn.oN)(e));var f_=(e,t)=>{const{componentCls:o,itemColor:i,itemSelectedColor:u,subMenuItemSelectedColor:g,groupTitleColor:_,itemBg:x,subMenuItemBg:S,itemSelectedBg:T,activeBarHeight:M,activeBarWidth:R,activeBarBorderWidth:N,motionDurationSlow:F,motionEaseInOut:B,motionEaseOut:V,itemPaddingInline:j,motionDurationMid:H,itemHoverColor:U,lineType:K,colorSplit:Y,itemDisabledColor:q,dangerItemColor:Q,dangerItemHoverColor:re,dangerItemSelectedColor:ae,dangerItemActiveBg:se,dangerItemSelectedBg:de,popupBg:pe,itemHoverBg:ge,itemActiveBg:me,menuSubMenuBg:be,horizontalItemSelectedColor:_e,horizontalItemSelectedBg:Ie,horizontalItemBorderRadius:Ce,horizontalItemHoverBg:Le}=e;return{[`${o}-${t}, ${o}-${t} > ${o}`]:{color:i,background:x,[`&${o}-root:focus-visible`]:Object.assign({},X1(e)),[`${o}-item`]:{"&-group-title, &-extra":{color:_}},[`${o}-submenu-selected > ${o}-submenu-title`]:{color:g},[`${o}-item, ${o}-submenu-title`]:{color:i,[`&:not(${o}-item-disabled):focus-visible`]:Object.assign({},X1(e))},[`${o}-item-disabled, ${o}-submenu-disabled`]:{color:`${q} !important`},[`${o}-item:not(${o}-item-selected):not(${o}-submenu-selected)`]:{[`&:hover, > ${o}-submenu-title:hover`]:{color:U}},[`&:not(${o}-horizontal)`]:{[`${o}-item:not(${o}-item-selected)`]:{"&:hover":{backgroundColor:ge},"&:active":{backgroundColor:me}},[`${o}-submenu-title`]:{"&:hover":{backgroundColor:ge},"&:active":{backgroundColor:me}}},[`${o}-item-danger`]:{color:Q,[`&${o}-item:hover`]:{[`&:not(${o}-item-selected):not(${o}-submenu-selected)`]:{color:re}},[`&${o}-item:active`]:{background:se}},[`${o}-item a`]:{"&, &:hover":{color:"inherit"}},[`${o}-item-selected`]:{color:u,[`&${o}-item-danger`]:{color:ae},"a, a:hover":{color:"inherit"}},[`& ${o}-item-selected`]:{backgroundColor:T,[`&${o}-item-danger`]:{backgroundColor:de}},[`&${o}-submenu > ${o}`]:{backgroundColor:be},[`&${o}-popup > ${o}`]:{backgroundColor:pe},[`&${o}-submenu-popup > ${o}`]:{backgroundColor:pe},[`&${o}-horizontal`]:Object.assign(Object.assign({},t==="dark"?{borderBottom:0}:{}),{[`> ${o}-item, > ${o}-submenu`]:{top:N,marginTop:e.calc(N).mul(-1).equal(),marginBottom:0,borderRadius:Ce,"&::after":{position:"absolute",insetInline:j,bottom:0,borderBottom:`${(0,J.bf)(M)} solid transparent`,transition:`border-color ${F} ${B}`,content:'""'},"&:hover, &-active, &-open":{background:Le,"&::after":{borderBottomWidth:M,borderBottomColor:_e}},"&-selected":{color:_e,backgroundColor:Ie,"&:hover":{backgroundColor:Ie},"&::after":{borderBottomWidth:M,borderBottomColor:_e}}}}),[`&${o}-root`]:{[`&${o}-inline, &${o}-vertical`]:{borderInlineEnd:`${(0,J.bf)(N)} ${K} ${Y}`}},[`&${o}-inline`]:{[`${o}-sub${o}-inline`]:{background:S},[`${o}-item`]:{position:"relative","&::after":{position:"absolute",insetBlock:0,insetInlineEnd:0,borderInlineEnd:`${(0,J.bf)(R)} solid ${u}`,transform:"scaleY(0.0001)",opacity:0,transition:[`transform ${H} ${V}`,`opacity ${H} ${V}`].join(","),content:'""'},[`&${o}-item-danger`]:{"&::after":{borderInlineEndColor:ae}}},[`${o}-selected, ${o}-item-selected`]:{"&::after":{transform:"scaleY(1)",opacity:1,transition:[`transform ${H} ${B}`,`opacity ${H} ${B}`].join(",")}}}}}};const q1=e=>{const{componentCls:t,itemHeight:o,itemMarginInline:i,padding:u,menuArrowSize:g,marginXS:_,itemMarginBlock:x,itemWidth:S,itemPaddingInline:T}=e,M=e.calc(g).add(u).add(_).equal();return{[`${t}-item`]:{position:"relative",overflow:"hidden"},[`${t}-item, ${t}-submenu-title`]:{height:o,lineHeight:(0,J.bf)(o),paddingInline:T,overflow:"hidden",textOverflow:"ellipsis",marginInline:i,marginBlock:x,width:S},[`> ${t}-item,
            > ${t}-submenu > ${t}-submenu-title`]:{height:o,lineHeight:(0,J.bf)(o)},[`${t}-item-group-list ${t}-submenu-title,
            ${t}-submenu-title`]:{paddingInlineEnd:M}}};var Rw=e=>{const{componentCls:t,iconCls:o,itemHeight:i,colorTextLightSolid:u,dropdownWidth:g,controlHeightLG:_,motionEaseOut:x,paddingXL:S,itemMarginInline:T,fontSizeLG:M,motionDurationFast:R,motionDurationSlow:N,paddingXS:F,boxShadowSecondary:B,collapsedWidth:V,collapsedIconSize:j}=e,H={height:i,lineHeight:(0,J.bf)(i),listStylePosition:"inside",listStyleType:"disc"};return[{[t]:{"&-inline, &-vertical":Object.assign({[`&${t}-root`]:{boxShadow:"none"}},q1(e))},[`${t}-submenu-popup`]:{[`${t}-vertical`]:Object.assign(Object.assign({},q1(e)),{boxShadow:B})}},{[`${t}-submenu-popup ${t}-vertical${t}-sub`]:{minWidth:g,maxHeight:`calc(100vh - ${(0,J.bf)(e.calc(_).mul(2.5).equal())})`,padding:"0",overflow:"hidden",borderInlineEnd:0,"&:not([class*='-active'])":{overflowX:"hidden",overflowY:"auto"}}},{[`${t}-inline`]:{width:"100%",[`&${t}-root`]:{[`${t}-item, ${t}-submenu-title`]:{display:"flex",alignItems:"center",transition:[`border-color ${N}`,`background ${N}`,`padding ${R} ${x}`].join(","),[`> ${t}-title-content`]:{flex:"auto",minWidth:0,overflow:"hidden",textOverflow:"ellipsis"},"> *":{flex:"none"}}},[`${t}-sub${t}-inline`]:{padding:0,border:0,borderRadius:0,boxShadow:"none",[`& > ${t}-submenu > ${t}-submenu-title`]:H,[`& ${t}-item-group-title`]:{paddingInlineStart:S}},[`${t}-item`]:H}},{[`${t}-inline-collapsed`]:{width:V,[`&${t}-root`]:{[`${t}-item, ${t}-submenu ${t}-submenu-title`]:{[`> ${t}-inline-collapsed-noicon`]:{fontSize:M,textAlign:"center"}}},[`> ${t}-item,
          > ${t}-item-group > ${t}-item-group-list > ${t}-item,
          > ${t}-item-group > ${t}-item-group-list > ${t}-submenu > ${t}-submenu-title,
          > ${t}-submenu > ${t}-submenu-title`]:{insetInlineStart:0,paddingInline:`calc(50% - ${(0,J.bf)(e.calc(j).div(2).equal())} - ${(0,J.bf)(T)})`,textOverflow:"clip",[`
            ${t}-submenu-arrow,
            ${t}-submenu-expand-icon
          `]:{opacity:0},[`${t}-item-icon, ${o}`]:{margin:0,fontSize:j,lineHeight:(0,J.bf)(i),"+ span":{display:"inline-block",opacity:0}}},[`${t}-item-icon, ${o}`]:{display:"inline-block"},"&-tooltip":{pointerEvents:"none",[`${t}-item-icon, ${o}`]:{display:"none"},"a, a:hover":{color:u}},[`${t}-item-group-title`]:Object.assign(Object.assign({},mn.vS),{paddingInline:F})}}]};const h_=e=>{const{componentCls:t,motionDurationSlow:o,motionDurationMid:i,motionEaseInOut:u,motionEaseOut:g,iconCls:_,iconSize:x,iconMarginInlineEnd:S}=e;return{[`${t}-item, ${t}-submenu-title`]:{position:"relative",display:"block",margin:0,whiteSpace:"nowrap",cursor:"pointer",transition:[`border-color ${o}`,`background ${o}`,`padding calc(${o} + 0.1s) ${u}`].join(","),[`${t}-item-icon, ${_}`]:{minWidth:x,fontSize:x,transition:[`font-size ${i} ${g}`,`margin ${o} ${u}`,`color ${o}`].join(","),"+ span":{marginInlineStart:S,opacity:1,transition:[`opacity ${o} ${u}`,`margin ${o}`,`color ${o}`].join(",")}},[`${t}-item-icon`]:Object.assign({},(0,mn.Ro)()),[`&${t}-item-only-child`]:{[`> ${_}, > ${t}-item-icon`]:{marginInlineEnd:0}}},[`${t}-item-disabled, ${t}-submenu-disabled`]:{background:"none !important",cursor:"not-allowed","&::after":{borderColor:"transparent !important"},a:{color:"inherit !important",cursor:"not-allowed",pointerEvents:"none"},[`> ${t}-submenu-title`]:{color:"inherit !important",cursor:"not-allowed"}}}},fm=e=>{const{componentCls:t,motionDurationSlow:o,motionEaseInOut:i,borderRadius:u,menuArrowSize:g,menuArrowOffset:_}=e;return{[`${t}-submenu`]:{"&-expand-icon, &-arrow":{position:"absolute",top:"50%",insetInlineEnd:e.margin,width:g,color:"currentcolor",transform:"translateY(-50%)",transition:`transform ${o} ${i}, opacity ${o}`},"&-arrow":{"&::before, &::after":{position:"absolute",width:e.calc(g).mul(.6).equal(),height:e.calc(g).mul(.15).equal(),backgroundColor:"currentcolor",borderRadius:u,transition:[`background ${o} ${i}`,`transform ${o} ${i}`,`top ${o} ${i}`,`color ${o} ${i}`].join(","),content:'""'},"&::before":{transform:`rotate(45deg) translateY(${(0,J.bf)(e.calc(_).mul(-1).equal())})`},"&::after":{transform:`rotate(-45deg) translateY(${(0,J.bf)(_)})`}}}}},p_=e=>{const{antCls:t,componentCls:o,fontSize:i,motionDurationSlow:u,motionDurationMid:g,motionEaseInOut:_,paddingXS:x,padding:S,colorSplit:T,lineWidth:M,zIndexPopup:R,borderRadiusLG:N,subMenuItemBorderRadius:F,menuArrowSize:B,menuArrowOffset:V,lineType:j,groupTitleLineHeight:H,groupTitleFontSize:U}=e;return[{"":{[o]:Object.assign(Object.assign({},(0,mn.dF)()),{"&-hidden":{display:"none"}})},[`${o}-submenu-hidden`]:{display:"none"}},{[o]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,mn.Wf)(e)),(0,mn.dF)()),{marginBottom:0,paddingInlineStart:0,fontSize:i,lineHeight:0,listStyle:"none",outline:"none",transition:`width ${u} cubic-bezier(0.2, 0, 0, 1) 0s`,"ul, ol":{margin:0,padding:0,listStyle:"none"},"&-overflow":{display:"flex",[`${o}-item`]:{flex:"none"}},[`${o}-item, ${o}-submenu, ${o}-submenu-title`]:{borderRadius:e.itemBorderRadius},[`${o}-item-group-title`]:{padding:`${(0,J.bf)(x)} ${(0,J.bf)(S)}`,fontSize:U,lineHeight:H,transition:`all ${u}`},[`&-horizontal ${o}-submenu`]:{transition:[`border-color ${u} ${_}`,`background ${u} ${_}`].join(",")},[`${o}-submenu, ${o}-submenu-inline`]:{transition:[`border-color ${u} ${_}`,`background ${u} ${_}`,`padding ${g} ${_}`].join(",")},[`${o}-submenu ${o}-sub`]:{cursor:"initial",transition:[`background ${u} ${_}`,`padding ${u} ${_}`].join(",")},[`${o}-title-content`]:{transition:`color ${u}`,"&-with-extra":{display:"inline-flex",alignItems:"center",width:"100%"},[`> ${t}-typography-ellipsis-single-line`]:{display:"inline",verticalAlign:"unset"},[`${o}-item-extra`]:{marginInlineStart:"auto",paddingInlineStart:e.padding}},[`${o}-item a`]:{"&::before":{position:"absolute",inset:0,backgroundColor:"transparent",content:'""'}},[`${o}-item-divider`]:{overflow:"hidden",lineHeight:0,borderColor:T,borderStyle:j,borderWidth:0,borderTopWidth:M,marginBlock:M,padding:0,"&-dashed":{borderStyle:"dashed"}}}),h_(e)),{[`${o}-item-group`]:{[`${o}-item-group-list`]:{margin:0,padding:0,[`${o}-item, ${o}-submenu-title`]:{paddingInline:`${(0,J.bf)(e.calc(i).mul(2).equal())} ${(0,J.bf)(S)}`}}},"&-submenu":{"&-popup":{position:"absolute",zIndex:R,borderRadius:N,boxShadow:"none",transformOrigin:"0 0",[`&${o}-submenu`]:{background:"transparent"},"&::before":{position:"absolute",inset:0,zIndex:-1,width:"100%",height:"100%",opacity:0,content:'""'},[`> ${o}`]:Object.assign(Object.assign(Object.assign({borderRadius:N},h_(e)),fm(e)),{[`${o}-item, ${o}-submenu > ${o}-submenu-title`]:{borderRadius:F},[`${o}-submenu-title::after`]:{transition:`transform ${u} ${_}`}})},"\n          &-placement-leftTop,\n          &-placement-bottomRight,\n          ":{transformOrigin:"100% 0"},"\n          &-placement-leftBottom,\n          &-placement-topRight,\n          ":{transformOrigin:"100% 100%"},"\n          &-placement-rightBottom,\n          &-placement-topLeft,\n          ":{transformOrigin:"0 100%"},"\n          &-placement-bottomLeft,\n          &-placement-rightTop,\n          ":{transformOrigin:"0 0"},"\n          &-placement-leftTop,\n          &-placement-leftBottom\n          ":{paddingInlineEnd:e.paddingXS},"\n          &-placement-rightTop,\n          &-placement-rightBottom\n          ":{paddingInlineStart:e.paddingXS},"\n          &-placement-topRight,\n          &-placement-topLeft\n          ":{paddingBottom:e.paddingXS},"\n          &-placement-bottomRight,\n          &-placement-bottomLeft\n          ":{paddingTop:e.paddingXS}}}),fm(e)),{[`&-inline-collapsed ${o}-submenu-arrow,
        &-inline ${o}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateX(${(0,J.bf)(V)})`},"&::after":{transform:`rotate(45deg) translateX(${(0,J.bf)(e.calc(V).mul(-1).equal())})`}},[`${o}-submenu-open${o}-submenu-inline > ${o}-submenu-title > ${o}-submenu-arrow`]:{transform:`translateY(${(0,J.bf)(e.calc(B).mul(.2).mul(-1).equal())})`,"&::after":{transform:`rotate(-45deg) translateX(${(0,J.bf)(e.calc(V).mul(-1).equal())})`},"&::before":{transform:`rotate(45deg) translateX(${(0,J.bf)(V)})`}}})},{[`${t}-layout-header`]:{[o]:{lineHeight:"inherit"}}}]},lp=e=>{var t,o,i;const{colorPrimary:u,colorError:g,colorTextDisabled:_,colorErrorBg:x,colorText:S,colorTextDescription:T,colorBgContainer:M,colorFillAlter:R,colorFillContent:N,lineWidth:F,lineWidthBold:B,controlItemBgActive:V,colorBgTextHover:j,controlHeightLG:H,lineHeight:U,colorBgElevated:K,marginXXS:Y,padding:q,fontSize:Q,controlHeightSM:re,fontSizeLG:ae,colorTextLightSolid:se,colorErrorHover:de}=e,pe=(t=e.activeBarWidth)!==null&&t!==void 0?t:0,ge=(o=e.activeBarBorderWidth)!==null&&o!==void 0?o:F,me=(i=e.itemMarginInline)!==null&&i!==void 0?i:e.marginXXS,be=new Es.t(se).setA(.65).toRgbString();return{dropdownWidth:160,zIndexPopup:e.zIndexPopupBase+50,radiusItem:e.borderRadiusLG,itemBorderRadius:e.borderRadiusLG,radiusSubMenuItem:e.borderRadiusSM,subMenuItemBorderRadius:e.borderRadiusSM,colorItemText:S,itemColor:S,colorItemTextHover:S,itemHoverColor:S,colorItemTextHoverHorizontal:u,horizontalItemHoverColor:u,colorGroupTitle:T,groupTitleColor:T,colorItemTextSelected:u,itemSelectedColor:u,subMenuItemSelectedColor:u,colorItemTextSelectedHorizontal:u,horizontalItemSelectedColor:u,colorItemBg:M,itemBg:M,colorItemBgHover:j,itemHoverBg:j,colorItemBgActive:N,itemActiveBg:V,colorSubItemBg:R,subMenuItemBg:R,colorItemBgSelected:V,itemSelectedBg:V,colorItemBgSelectedHorizontal:"transparent",horizontalItemSelectedBg:"transparent",colorActiveBarWidth:0,activeBarWidth:pe,colorActiveBarHeight:B,activeBarHeight:B,colorActiveBarBorderSize:F,activeBarBorderWidth:ge,colorItemTextDisabled:_,itemDisabledColor:_,colorDangerItemText:g,dangerItemColor:g,colorDangerItemTextHover:g,dangerItemHoverColor:g,colorDangerItemTextSelected:g,dangerItemSelectedColor:g,colorDangerItemBgActive:x,dangerItemActiveBg:x,colorDangerItemBgSelected:x,dangerItemSelectedBg:x,itemMarginInline:me,horizontalItemBorderRadius:0,horizontalItemHoverBg:"transparent",itemHeight:H,groupTitleLineHeight:U,collapsedWidth:H*2,popupBg:K,itemMarginBlock:Y,itemPaddingInline:q,horizontalLineHeight:`${H*1.15}px`,iconSize:Q,iconMarginInlineEnd:re-Q,collapsedIconSize:ae,groupTitleFontSize:Q,darkItemDisabledColor:new Es.t(se).setA(.25).toRgbString(),darkItemColor:be,darkDangerItemColor:g,darkItemBg:"#001529",darkPopupBg:"#001529",darkSubMenuItemBg:"#000c17",darkItemSelectedColor:se,darkItemSelectedBg:u,darkDangerItemSelectedBg:g,darkItemHoverBg:"transparent",darkGroupTitleColor:be,darkItemHoverColor:se,darkDangerItemHoverColor:de,darkDangerItemSelectedColor:se,darkDangerItemActiveBg:g,itemWidth:pe?`calc(100% + ${ge}px)`:`calc(100% - ${me*2}px)`}};var hm=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return(0,Ae.I$)("Menu",u=>{const{colorBgElevated:g,controlHeightLG:_,fontSize:x,darkItemColor:S,darkDangerItemColor:T,darkItemBg:M,darkSubMenuItemBg:R,darkItemSelectedColor:N,darkItemSelectedBg:F,darkDangerItemSelectedBg:B,darkItemHoverBg:V,darkGroupTitleColor:j,darkItemHoverColor:H,darkItemDisabledColor:U,darkDangerItemHoverColor:K,darkDangerItemSelectedColor:Y,darkDangerItemActiveBg:q,popupBg:Q,darkPopupBg:re}=u,ae=u.calc(x).div(7).mul(5).equal(),se=(0,vn.IX)(u,{menuArrowSize:ae,menuHorizontalHeight:u.calc(_).mul(1.15).equal(),menuArrowOffset:u.calc(ae).mul(.25).equal(),menuSubMenuBg:g,calc:u.calc,popupBg:Q}),de=(0,vn.IX)(se,{itemColor:S,itemHoverColor:H,groupTitleColor:j,itemSelectedColor:N,subMenuItemSelectedColor:N,itemBg:M,popupBg:re,subMenuItemBg:R,itemActiveBg:"transparent",itemSelectedBg:F,activeBarHeight:0,activeBarBorderWidth:0,itemHoverBg:V,itemDisabledColor:U,dangerItemColor:T,dangerItemHoverColor:K,dangerItemSelectedColor:Y,dangerItemActiveBg:q,dangerItemSelectedBg:B,menuSubMenuBg:R,horizontalItemSelectedColor:N,horizontalItemSelectedBg:F});return[p_(se),G1(se),Rw(se),f_(se,"light"),f_(de,"dark"),Ag(se),(0,pd.Z)(se),Od(se,"slide-up"),Od(se,"slide-down"),(0,Yu._y)(se,"zoom-big")]},lp,{deprecatedTokens:[["colorGroupTitle","groupTitleColor"],["radiusItem","itemBorderRadius"],["radiusSubMenuItem","subMenuItemBorderRadius"],["colorItemText","itemColor"],["colorItemTextHover","itemHoverColor"],["colorItemTextHoverHorizontal","horizontalItemHoverColor"],["colorItemTextSelected","itemSelectedColor"],["colorItemTextSelectedHorizontal","horizontalItemSelectedColor"],["colorItemTextDisabled","itemDisabledColor"],["colorDangerItemText","dangerItemColor"],["colorDangerItemTextHover","dangerItemHoverColor"],["colorDangerItemTextSelected","dangerItemSelectedColor"],["colorDangerItemBgActive","dangerItemActiveBg"],["colorDangerItemBgSelected","dangerItemSelectedBg"],["colorItemBg","itemBg"],["colorItemBgHover","itemHoverBg"],["colorSubItemBg","subMenuItemBg"],["colorItemBgActive","itemActiveBg"],["colorItemBgSelectedHorizontal","horizontalItemSelectedBg"],["colorActiveBarWidth","activeBarWidth"],["colorActiveBarHeight","activeBarHeight"],["colorActiveBarBorderSize","activeBarBorderWidth"],["colorItemBgSelected","itemSelectedBg"]],injectStyle:o,unitless:{groupTitleLineHeight:!0}})(e,t)},hv=e=>{var t;const{popupClassName:o,icon:i,title:u,theme:g}=e,_=s.useContext(hh),{prefixCls:x,inlineCollapsed:S,theme:T}=_,M=ch();let R;if(!i)R=S&&!M.length&&u&&typeof u=="string"?s.createElement("div",{className:`${x}-inline-collapsed-noicon`},u.charAt(0)):s.createElement("span",{className:`${x}-title-content`},u);else{const B=s.isValidElement(u)&&u.type==="span";R=s.createElement(s.Fragment,null,(0,wr.Tm)(i,{className:oe()(s.isValidElement(i)?(t=i.props)===null||t===void 0?void 0:t.className:"",`${x}-item-icon`)}),B?u:s.createElement("span",{className:`${x}-title-content`},u))}const N=s.useMemo(()=>Object.assign(Object.assign({},_),{firstLevel:!1}),[_]),[F]=(0,Io.Cn)("Menu");return s.createElement(hh.Provider,{value:N},s.createElement(rp,Object.assign({},(0,Er.Z)(e,["icon"]),{title:R,popupClassName:oe()(x,o,`${x}-${g||T}`),popupStyle:Object.assign({zIndex:F},e.popupStyle)})))},pv=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};function Dg(e){return e===null||e===!1}const m_={item:sp,submenu:hv,divider:Rg};var zg=(0,s.forwardRef)((e,t)=>{var o;const i=s.useContext(u_),u=i||{},{getPrefixCls:g,getPopupContainer:_,direction:x,menu:S}=s.useContext(De.E_),T=g(),{prefixCls:M,className:R,style:N,theme:F="light",expandIcon:B,_internalDisableMenuItemTitleTooltip:V,inlineCollapsed:j,siderCollapsed:H,rootClassName:U,mode:K,selectable:Y,onClick:q,overflowedIndicatorPopupClassName:Q}=e,re=pv(e,["prefixCls","className","style","theme","expandIcon","_internalDisableMenuItemTitleTooltip","inlineCollapsed","siderCollapsed","rootClassName","mode","selectable","onClick","overflowedIndicatorPopupClassName"]),ae=(0,Er.Z)(re,["collapsedWidth"]);(o=u.validator)===null||o===void 0||o.call(u,{mode:K});const se=(0,Or.Z)(function(){var je;q==null||q.apply(void 0,arguments),(je=u.onClick)===null||je===void 0||je.call(u)}),de=u.mode||K,pe=Y!=null?Y:u.selectable,ge=j!=null?j:H,me={horizontal:{motionName:`${T}-slide-up`},inline:(0,Bi.Z)(T),other:{motionName:`${T}-zoom-big`}},be=g("menu",M||u.prefixCls),_e=(0,po.Z)(be),[Ie,Ce,Le]=hm(be,_e,!i),ze=oe()(`${be}-${F}`,S==null?void 0:S.className,R),ke=s.useMemo(()=>{var je,Ue;if(typeof B=="function"||Dg(B))return B||null;if(typeof u.expandIcon=="function"||Dg(u.expandIcon))return u.expandIcon||null;if(typeof(S==null?void 0:S.expandIcon)=="function"||Dg(S==null?void 0:S.expandIcon))return(S==null?void 0:S.expandIcon)||null;const He=(je=B!=null?B:u==null?void 0:u.expandIcon)!==null&&je!==void 0?je:S==null?void 0:S.expandIcon;return(0,wr.Tm)(He,{className:oe()(`${be}-submenu-expand-icon`,s.isValidElement(He)?(Ue=He.props)===null||Ue===void 0?void 0:Ue.className:void 0)})},[B,u==null?void 0:u.expandIcon,S==null?void 0:S.expandIcon,be]),Ze=s.useMemo(()=>({prefixCls:be,inlineCollapsed:ge||!1,direction:x,firstLevel:!0,theme:F,mode:de,disableMenuItemTitleTooltip:V}),[be,ge,x,V,F]);return Ie(s.createElement(u_.Provider,{value:null},s.createElement(hh.Provider,{value:Ze},s.createElement(dm,Object.assign({getPopupContainer:_,overflowedIndicator:s.createElement(fh,null),overflowedIndicatorPopupClassName:oe()(be,`${be}-${F}`,Q),mode:de,selectable:pe,onClick:se},ae,{inlineCollapsed:ge,style:Object.assign(Object.assign({},S==null?void 0:S.style),N),className:ze,prefixCls:be,direction:x,defaultMotions:me,expandIcon:ke,ref:t,rootClassName:oe()(U,Ce,u.rootClassName,Le,_e),_internalComponents:m_})))))});const pm=(0,s.forwardRef)((e,t)=>{const o=(0,s.useRef)(null),i=s.useContext(op);return(0,s.useImperativeHandle)(t,()=>({menu:o.current,focus:u=>{var g;(g=o.current)===null||g===void 0||g.focus(u)}})),s.createElement(zg,Object.assign({ref:o},e,i))});pm.Item=sp,pm.SubMenu=hv,pm.Divider=Rg,pm.ItemGroup=lv;var ph=pm,Dw=e=>{const{componentCls:t,menuCls:o,colorError:i,colorTextLightSolid:u}=e,g=`${o}-item`;return{[`${t}, ${t}-menu-submenu`]:{[`${o} ${g}`]:{[`&${g}-danger:not(${g}-disabled)`]:{color:i,"&:hover":{color:u,backgroundColor:i}}}}}};const K1=e=>{const{componentCls:t,menuCls:o,zIndexPopup:i,dropdownArrowDistance:u,sizePopupArrow:g,antCls:_,iconCls:x,motionDurationMid:S,paddingBlock:T,fontSize:M,dropdownEdgeChildPadding:R,colorTextDisabled:N,fontSizeIcon:F,controlPaddingHorizontal:B,colorBgElevated:V}=e;return[{[t]:{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:i,display:"block","&::before":{position:"absolute",insetBlock:e.calc(g).div(2).sub(u).equal(),zIndex:-9999,opacity:1e-4,content:'""'},"&-menu-vertical":{maxHeight:"100vh",overflowY:"auto"},[`&-trigger${_}-btn`]:{[`& > ${x}-down, & > ${_}-btn-icon > ${x}-down`]:{fontSize:F}},[`${t}-wrap`]:{position:"relative",[`${_}-btn > ${x}-down`]:{fontSize:F},[`${x}-down::before`]:{transition:`transform ${S}`}},[`${t}-wrap-open`]:{[`${x}-down::before`]:{transform:"rotate(180deg)"}},"\n        &-hidden,\n        &-menu-hidden,\n        &-menu-submenu-hidden\n      ":{display:"none"},[`&${_}-slide-down-enter${_}-slide-down-enter-active${t}-placement-bottomLeft,
          &${_}-slide-down-appear${_}-slide-down-appear-active${t}-placement-bottomLeft,
          &${_}-slide-down-enter${_}-slide-down-enter-active${t}-placement-bottom,
          &${_}-slide-down-appear${_}-slide-down-appear-active${t}-placement-bottom,
          &${_}-slide-down-enter${_}-slide-down-enter-active${t}-placement-bottomRight,
          &${_}-slide-down-appear${_}-slide-down-appear-active${t}-placement-bottomRight`]:{animationName:ng},[`&${_}-slide-up-enter${_}-slide-up-enter-active${t}-placement-topLeft,
          &${_}-slide-up-appear${_}-slide-up-appear-active${t}-placement-topLeft,
          &${_}-slide-up-enter${_}-slide-up-enter-active${t}-placement-top,
          &${_}-slide-up-appear${_}-slide-up-appear-active${t}-placement-top,
          &${_}-slide-up-enter${_}-slide-up-enter-active${t}-placement-topRight,
          &${_}-slide-up-appear${_}-slide-up-appear-active${t}-placement-topRight`]:{animationName:ig},[`&${_}-slide-down-leave${_}-slide-down-leave-active${t}-placement-bottomLeft,
          &${_}-slide-down-leave${_}-slide-down-leave-active${t}-placement-bottom,
          &${_}-slide-down-leave${_}-slide-down-leave-active${t}-placement-bottomRight`]:{animationName:rg},[`&${_}-slide-up-leave${_}-slide-up-leave-active${t}-placement-topLeft,
          &${_}-slide-up-leave${_}-slide-up-leave-active${t}-placement-top,
          &${_}-slide-up-leave${_}-slide-up-leave-active${t}-placement-topRight`]:{animationName:Kp}}},(0,sh.ZP)(e,V,{arrowPlacement:{top:!0,bottom:!0}}),{[`${t} ${o}`]:{position:"relative",margin:0},[`${o}-submenu-popup`]:{position:"absolute",zIndex:i,background:"transparent",boxShadow:"none",transformOrigin:"0 0","ul, li":{listStyle:"none",margin:0}},[`${t}, ${t}-menu-submenu`]:Object.assign(Object.assign({},(0,mn.Wf)(e)),{[o]:Object.assign(Object.assign({padding:R,listStyleType:"none",backgroundColor:V,backgroundClip:"padding-box",borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary},(0,mn.Qy)(e)),{"&:empty":{padding:0,boxShadow:"none"},[`${o}-item-group-title`]:{padding:`${(0,J.bf)(T)} ${(0,J.bf)(B)}`,color:e.colorTextDescription,transition:`all ${S}`},[`${o}-item`]:{position:"relative",display:"flex",alignItems:"center"},[`${o}-item-icon`]:{minWidth:M,marginInlineEnd:e.marginXS,fontSize:e.fontSizeSM},[`${o}-title-content`]:{flex:"auto","&-with-extra":{display:"inline-flex",alignItems:"center",width:"100%"},"> a":{color:"inherit",transition:`all ${S}`,"&:hover":{color:"inherit"},"&::after":{position:"absolute",inset:0,content:'""'}},[`${o}-item-extra`]:{paddingInlineStart:e.padding,marginInlineStart:"auto",fontSize:e.fontSizeSM,color:e.colorTextDescription}},[`${o}-item, ${o}-submenu-title`]:Object.assign(Object.assign({display:"flex",margin:0,padding:`${(0,J.bf)(T)} ${(0,J.bf)(B)}`,color:e.colorText,fontWeight:"normal",fontSize:M,lineHeight:e.lineHeight,cursor:"pointer",transition:`all ${S}`,borderRadius:e.borderRadiusSM,"&:hover, &-active":{backgroundColor:e.controlItemBgHover}},(0,mn.Qy)(e)),{"&-selected":{color:e.colorPrimary,backgroundColor:e.controlItemBgActive,"&:hover, &-active":{backgroundColor:e.controlItemBgActiveHover}},"&-disabled":{color:N,cursor:"not-allowed","&:hover":{color:N,backgroundColor:V,cursor:"not-allowed"},a:{pointerEvents:"none"}},"&-divider":{height:1,margin:`${(0,J.bf)(e.marginXXS)} 0`,overflow:"hidden",lineHeight:0,backgroundColor:e.colorSplit},[`${t}-menu-submenu-expand-icon`]:{position:"absolute",insetInlineEnd:e.paddingXS,[`${t}-menu-submenu-arrow-icon`]:{marginInlineEnd:"0 !important",color:e.colorTextDescription,fontSize:F,fontStyle:"normal"}}}),[`${o}-item-group-list`]:{margin:`0 ${(0,J.bf)(e.marginXS)}`,padding:0,listStyle:"none"},[`${o}-submenu-title`]:{paddingInlineEnd:e.calc(B).add(e.fontSizeSM).equal()},[`${o}-submenu-vertical`]:{position:"relative"},[`${o}-submenu${o}-submenu-disabled ${t}-menu-submenu-title`]:{[`&, ${t}-menu-submenu-arrow-icon`]:{color:N,backgroundColor:V,cursor:"not-allowed"}},[`${o}-submenu-selected ${t}-menu-submenu-title`]:{color:e.colorPrimary}})})},[Od(e,"slide-up"),Od(e,"slide-down"),Qh(e,"move-up"),Qh(e,"move-down"),(0,Yu._y)(e,"zoom-big")]]},zw=e=>Object.assign(Object.assign({zIndexPopup:e.zIndexPopupBase+50,paddingBlock:(e.controlHeight-e.fontSize*e.lineHeight)/2},(0,sh.wZ)({contentRadius:e.borderRadiusLG,limitVerticalRadius:!0})),(0,nm.w)(e));var Lw=(0,Ae.I$)("Dropdown",e=>{const{marginXXS:t,sizePopupArrow:o,paddingXXS:i,componentCls:u}=e,g=(0,vn.IX)(e,{menuCls:`${u}-menu`,dropdownArrowDistance:e.calc(o).div(2).add(t).equal(),dropdownEdgeChildPadding:i});return[K1(g),Dw(g)]},zw,{resetStyle:!1});const uE=null,v_=e=>{var t;const{menu:o,arrow:i,prefixCls:u,children:g,trigger:_,disabled:x,dropdownRender:S,getPopupContainer:T,overlayClassName:M,rootClassName:R,overlayStyle:N,open:F,onOpenChange:B,visible:V,onVisibleChange:j,mouseEnterDelay:H=.15,mouseLeaveDelay:U=.1,autoAdjustOverflow:K=!0,placement:Y="",overlay:q,transitionName:Q}=e,{getPopupContainer:re,getPrefixCls:ae,direction:se,dropdown:de}=s.useContext(De.E_),pe=(0,Fe.ln)("Dropdown"),ge=s.useMemo(()=>{const tt=ae();return Q!==void 0?Q:Y.includes("top")?`${tt}-slide-down`:`${tt}-slide-up`},[ae,Y,Q]),me=s.useMemo(()=>Y?Y.includes("Center")?Y.slice(0,Y.indexOf("Center")):Y:se==="rtl"?"bottomRight":"bottomLeft",[Y,se]),be=ae("dropdown",u),_e=(0,po.Z)(be),[Ie,Ce,Le]=Lw(be,_e),[,ze]=(0,Ur.ZP)(),ke=s.Children.only(lh(g)?s.createElement("span",null,g):g),Ze=(0,wr.Tm)(ke,{className:oe()(`${be}-trigger`,{[`${be}-rtl`]:se==="rtl"},ke.props.className),disabled:(t=ke.props.disabled)!==null&&t!==void 0?t:x}),je=x?[]:_,Ue=!!(je!=null&&je.includes("contextMenu")),[He,Qe]=(0,Jo.Z)(!1,{value:F!=null?F:V}),We=(0,Or.Z)(tt=>{B==null||B(tt,{source:"trigger"}),j==null||j(tt),Qe(tt)}),it=oe()(M,R,Ce,Le,_e,de==null?void 0:de.className,{[`${be}-rtl`]:se==="rtl"}),Je=(0,Uy.Z)({arrowPointAtCenter:typeof i=="object"&&i.pointAtCenter,autoAdjustOverflow:K,offset:ze.marginXXS,arrowWidth:i?ze.sizePopupArrow:0,borderRadius:ze.borderRadius}),wt=s.useCallback(()=>{o!=null&&o.selectable&&(o!=null&&o.multiple)||(B==null||B(!1,{source:"menu"}),Qe(!1))},[o==null?void 0:o.selectable,o==null?void 0:o.multiple]),Dt=()=>{let tt;return o!=null&&o.items?tt=s.createElement(ph,Object.assign({},o)):typeof q=="function"?tt=q():tt=q,S&&(tt=S(tt)),tt=s.Children.only(typeof tt=="string"?s.createElement("span",null,tt):tt),s.createElement(c_,{prefixCls:`${be}-menu`,rootClassName:oe()(Le,_e),expandIcon:s.createElement("span",{className:`${be}-menu-submenu-arrow`},se==="rtl"?s.createElement(nd,{className:`${be}-menu-submenu-arrow-icon`}):s.createElement(Pc,{className:`${be}-menu-submenu-arrow-icon`})),mode:"vertical",selectable:!1,onClick:wt,validator:xt=>{let{mode:_t}=xt}},tt)},[ct,ht]=(0,Io.Cn)("Dropdown",N==null?void 0:N.zIndex);let ut=s.createElement(X0,Object.assign({alignPoint:Ue},(0,Er.Z)(e,["rootClassName"]),{mouseEnterDelay:H,mouseLeaveDelay:U,visible:He,builtinPlacements:Je,arrow:!!i,overlayClassName:it,prefixCls:be,getPopupContainer:T||re,transitionName:ge,trigger:je,overlay:Dt,placement:me,onVisibleChange:We,overlayStyle:Object.assign(Object.assign(Object.assign({},de==null?void 0:de.style),N),{zIndex:ct})}),Ze);return ct&&(ut=s.createElement(df.Z.Provider,{value:ht},ut)),Ie(ut)},Nw=ft(v_,"align",void 0,"dropdown",e=>e),mv=e=>s.createElement(Nw,Object.assign({},e),s.createElement("span",null));v_._InternalPanelDoNotUseOrYouWillBeFired=mv;var y_=v_;const Y1=e=>{let{children:t}=e;const{getPrefixCls:o}=s.useContext(De.E_),i=o("breadcrumb");return s.createElement("li",{className:`${i}-separator`,"aria-hidden":"true"},t===""?t:t||"/")};Y1.__ANT_BREADCRUMB_SEPARATOR=!0;var mm=Y1,Bw=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};function Fw(e,t){if(e.title===void 0||e.title===null)return null;const o=Object.keys(t).join("|");return typeof e.title=="object"?e.title:String(e.title).replace(new RegExp(`:(${o})`,"g"),(i,u)=>t[u]||i)}function J1(e,t,o,i){if(o==null)return null;const{className:u,onClick:g}=t,_=Bw(t,["className","onClick"]),x=Object.assign(Object.assign({},(0,ir.Z)(_,{data:!0,aria:!0})),{onClick:g});return i!==void 0?s.createElement("a",Object.assign({},x,{className:oe()(`${e}-link`,u),href:i}),o):s.createElement("span",Object.assign({},x,{className:oe()(`${e}-link`,u)}),o)}function gv(e,t){return(i,u,g,_,x)=>{if(t)return t(i,u,g,_);const S=Fw(i,u);return J1(e,i,S,x)}}var __=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};const Q1=e=>{const{prefixCls:t,separator:o="/",children:i,menu:u,overlay:g,dropdownProps:_,href:x}=e,T=(M=>{if(u||g){const R=Object.assign({},_);if(u){const N=u||{},{items:F}=N,B=__(N,["items"]);R.menu=Object.assign(Object.assign({},B),{items:F==null?void 0:F.map((V,j)=>{var{key:H,title:U,label:K,path:Y}=V,q=__(V,["key","title","label","path"]);let Q=K!=null?K:U;return Y&&(Q=s.createElement("a",{href:`${x}${Y}`},Q)),Object.assign(Object.assign({},q),{key:H!=null?H:j,label:Q})})})}else g&&(R.overlay=g);return s.createElement(y_,Object.assign({placement:"bottom"},R),s.createElement("span",{className:`${t}-overlay-link`},M,s.createElement(em.Z,null)))}return M})(i);return T!=null?s.createElement(s.Fragment,null,s.createElement("li",null,T),o&&s.createElement(mm,null,o)):null},b_=e=>{const{prefixCls:t,children:o,href:i}=e,u=__(e,["prefixCls","children","href"]),{getPrefixCls:g}=s.useContext(De.E_),_=g("breadcrumb",t);return s.createElement(Q1,Object.assign({},u,{prefixCls:_}),J1(_,u,o,i))};b_.__ANT_BREADCRUMB_ITEM=!0;var kw=b_;const jw=e=>{const{componentCls:t,iconCls:o,calc:i}=e;return{[t]:Object.assign(Object.assign({},(0,mn.Wf)(e)),{color:e.itemColor,fontSize:e.fontSize,[o]:{fontSize:e.iconFontSize},ol:{display:"flex",flexWrap:"wrap",margin:0,padding:0,listStyle:"none"},a:Object.assign({color:e.linkColor,transition:`color ${e.motionDurationMid}`,padding:`0 ${(0,J.bf)(e.paddingXXS)}`,borderRadius:e.borderRadiusSM,height:e.fontHeight,display:"inline-block",marginInline:i(e.marginXXS).mul(-1).equal(),"&:hover":{color:e.linkHoverColor,backgroundColor:e.colorBgTextHover}},(0,mn.Qy)(e)),"li:last-child":{color:e.lastItemColor},[`${t}-separator`]:{marginInline:e.separatorMargin,color:e.separatorColor},[`${t}-link`]:{[`
          > ${o} + span,
          > ${o} + a
        `]:{marginInlineStart:e.marginXXS}},[`${t}-overlay-link`]:{borderRadius:e.borderRadiusSM,height:e.fontHeight,display:"inline-block",padding:`0 ${(0,J.bf)(e.paddingXXS)}`,marginInline:i(e.marginXXS).mul(-1).equal(),[`> ${o}`]:{marginInlineStart:e.marginXXS,fontSize:e.fontSizeIcon},"&:hover":{color:e.linkHoverColor,backgroundColor:e.colorBgTextHover,a:{color:e.linkHoverColor}},a:{"&:hover":{backgroundColor:"transparent"}}},[`&${e.componentCls}-rtl`]:{direction:"rtl"}})}},Zw=e=>({itemColor:e.colorTextDescription,lastItemColor:e.colorText,iconFontSize:e.fontSize,linkColor:e.colorTextDescription,linkHoverColor:e.colorText,separatorColor:e.colorTextDescription,separatorMargin:e.marginXS});var Vw=(0,Ae.I$)("Breadcrumb",e=>{const t=(0,vn.IX)(e,{});return jw(t)},Zw),ex=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};function gm(e){const{breadcrumbName:t,children:o}=e,i=ex(e,["breadcrumbName","children"]),u=Object.assign({title:t},i);return o&&(u.menu={items:o.map(g=>{var{breadcrumbName:_}=g,x=ex(g,["breadcrumbName"]);return Object.assign(Object.assign({},x),{title:_})})}),u}function Lg(e,t){return(0,s.useMemo)(()=>e||(t?t.map(gm):null),[e,t])}var Hw=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};const x_=(e,t)=>{if(t===void 0)return t;let o=(t||"").replace(/^\//,"");return Object.keys(e).forEach(i=>{o=o.replace(`:${i}`,e[i])}),o},vv=e=>{const{prefixCls:t,separator:o="/",style:i,className:u,rootClassName:g,routes:_,items:x,children:S,itemRender:T,params:M={}}=e,R=Hw(e,["prefixCls","separator","style","className","rootClassName","routes","items","children","itemRender","params"]),{getPrefixCls:N,direction:F,breadcrumb:B}=s.useContext(De.E_);let V;const j=N("breadcrumb",t),[H,U,K]=Vw(j),Y=Lg(x,_),q=gv(j,T);if(Y&&Y.length>0){const ae=[],se=x||_;V=Y.map((de,pe)=>{const{path:ge,key:me,type:be,menu:_e,overlay:Ie,onClick:Ce,className:Le,separator:ze,dropdownProps:ke}=de,Ze=x_(M,ge);Ze!==void 0&&ae.push(Ze);const je=me!=null?me:pe;if(be==="separator")return s.createElement(mm,{key:je},ze);const Ue={},He=pe===Y.length-1;_e?Ue.menu=_e:Ie&&(Ue.overlay=Ie);let{href:Qe}=de;return ae.length&&Ze!==void 0&&(Qe=`#/${ae.join("/")}`),s.createElement(Q1,Object.assign({key:je},Ue,(0,ir.Z)(de,{data:!0,aria:!0}),{className:Le,dropdownProps:ke,href:Qe,separator:He?"":o,onClick:Ce,prefixCls:j}),q(de,M,se,ae,Qe))})}else if(S){const ae=(0,El.Z)(S).length;V=(0,El.Z)(S).map((se,de)=>{if(!se)return se;const pe=de===ae-1;return(0,wr.Tm)(se,{separator:pe?"":o,key:de})})}const Q=oe()(j,B==null?void 0:B.className,{[`${j}-rtl`]:F==="rtl"},u,g,U,K),re=Object.assign(Object.assign({},B==null?void 0:B.style),i);return H(s.createElement("nav",Object.assign({className:Q,style:re},R),s.createElement("ol",null,V)))};vv.Item=kw,vv.Separator=mm;var tx=vv,nx=tx,rx=he(16483),Wc=he.n(rx),ix=he(92098),ox=he.n(ix),ax=he(2845),sx=he.n(ax),yv=he(88777),lx=he.n(yv),C_=he(41466),w_=he.n(C_),cx=he(79771),ux=he.n(cx),dx=he(30156),fx=he.n(dx);Wc().extend(fx()),Wc().extend(ux()),Wc().extend(ox()),Wc().extend(sx()),Wc().extend(lx()),Wc().extend(w_()),Wc().extend(function(e,t){var o=t.prototype,i=o.format;o.format=function(g){var _=(g||"").replace("Wo","wo");return i.bind(this)(_)}});var hx={bn_BD:"bn-bd",by_BY:"be",en_GB:"en-gb",en_US:"en",fr_BE:"fr",fr_CA:"fr-ca",hy_AM:"hy-am",kmr_IQ:"ku",nl_BE:"nl-be",pt_BR:"pt-br",zh_CN:"zh-cn",zh_HK:"zh-hk",zh_TW:"zh-tw"},mh=function(t){var o=hx[t];return o||t.split("_")[0]},S_=function(){},gh={getNow:function(){var t=Wc()();return typeof t.tz=="function"?t.tz():t},getFixedDate:function(t){return Wc()(t,["YYYY-M-DD","YYYY-MM-DD"])},getEndDate:function(t){return t.endOf("month")},getWeekDay:function(t){var o=t.locale("en");return o.weekday()+o.localeData().firstDayOfWeek()},getYear:function(t){return t.year()},getMonth:function(t){return t.month()},getDate:function(t){return t.date()},getHour:function(t){return t.hour()},getMinute:function(t){return t.minute()},getSecond:function(t){return t.second()},getMillisecond:function(t){return t.millisecond()},addYear:function(t,o){return t.add(o,"year")},addMonth:function(t,o){return t.add(o,"month")},addDate:function(t,o){return t.add(o,"day")},setYear:function(t,o){return t.year(o)},setMonth:function(t,o){return t.month(o)},setDate:function(t,o){return t.date(o)},setHour:function(t,o){return t.hour(o)},setMinute:function(t,o){return t.minute(o)},setSecond:function(t,o){return t.second(o)},setMillisecond:function(t,o){return t.millisecond(o)},isAfter:function(t,o){return t.isAfter(o)},isValidate:function(t){return t.isValid()},locale:{getWeekFirstDay:function(t){return Wc()().locale(mh(t)).localeData().firstDayOfWeek()},getWeekFirstDate:function(t,o){return o.locale(mh(t)).weekday(0)},getWeek:function(t,o){return o.locale(mh(t)).week()},getShortWeekDays:function(t){return Wc()().locale(mh(t)).localeData().weekdaysMin()},getShortMonths:function(t){return Wc()().locale(mh(t)).localeData().monthsShort()},format:function(t,o,i){return o.locale(mh(t)).format(i)},parse:function(t,o,i){for(var u=mh(t),g=0;g<i.length;g+=1){var _=i[g],x=o;if(_.includes("wo")||_.includes("Wo")){for(var S=x.split("-")[0],T=x.split("-")[1],M=Wc()(S,"YYYY").startOf("year").locale(u),R=0;R<=52;R+=1){var N=M.add(R,"week");if(N.format("Wo")===T)return N}return S_(),null}var F=Wc()(x,_,!0).locale(u);if(F.isValid())return F}return o&&S_(),null}}},px=gh;function Uw(e,t){return e!==void 0?e:t?"bottomRight":"bottomLeft"}var Ww=s.createContext(null),iu=Ww,Gw={bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}}};function Xw(e){var t=e.popupElement,o=e.popupStyle,i=e.popupClassName,u=e.popupAlign,g=e.transitionName,_=e.getPopupContainer,x=e.children,S=e.range,T=e.placement,M=e.builtinPlacements,R=M===void 0?Gw:M,N=e.direction,F=e.visible,B=e.onClose,V=s.useContext(iu),j=V.prefixCls,H="".concat(j,"-dropdown"),U=Uw(T,N==="rtl");return s.createElement(Ka.Z,{showAction:[],hideAction:["click"],popupPlacement:U,builtinPlacements:R,prefixCls:H,popupTransitionName:g,popup:t,popupAlign:u,popupVisible:F,popupClassName:oe()(i,(0,Ee.Z)((0,Ee.Z)({},"".concat(H,"-range"),S),"".concat(H,"-rtl"),N==="rtl")),popupStyle:o,stretch:"minWidth",getPopupContainer:_,onPopupVisibleChange:function(Y){Y||B()}},x)}var mx=Xw;function E_(e,t){for(var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0",i=String(e);i.length<t;)i="".concat(o).concat(i);return i}function cp(e){return e==null?[]:Array.isArray(e)?e:[e]}function Ng(e,t,o){var i=(0,Be.Z)(e);return i[t]=o,i}function _v(e,t){var o={},i=t||Object.keys(e);return i.forEach(function(u){e[u]!==void 0&&(o[u]=e[u])}),o}function gx(e,t,o){if(o)return o;switch(e){case"time":return t.fieldTimeFormat;case"datetime":return t.fieldDateTimeFormat;case"month":return t.fieldMonthFormat;case"year":return t.fieldYearFormat;case"quarter":return t.fieldQuarterFormat;case"week":return t.fieldWeekFormat;default:return t.fieldDateFormat}}function vx(e,t,o){var i=o!==void 0?o:t[t.length-1],u=t.find(function(g){return e[g]});return i!==u?e[u]:void 0}function yx(e){return _v(e,["placement","builtinPlacements","popupAlign","getPopupContainer","transitionName","direction"])}function I_(e,t,o,i){var u=s.useMemo(function(){return e||function(_,x){var S=_;return t&&x.type==="date"?t(S,x.today):o&&x.type==="month"?o(S,x.locale):x.originNode}},[e,o,t]),g=s.useCallback(function(_,x){return u(_,(0,fe.Z)((0,fe.Z)({},x),{},{range:i}))},[u,i]);return g}function ou(e,t){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],i=s.useState([!1,!1]),u=(0,ve.Z)(i,2),g=u[0],_=u[1],x=function(M,R){_(function(N){return Ng(N,R,M)})},S=s.useMemo(function(){return g.map(function(T,M){if(T)return!0;var R=e[M];return R?!!(!o[M]&&!R||R&&t(R,{activeIndex:M})):!1})},[e,g,t,o]);return[S,x]}function vm(e,t,o,i,u){var g="",_=[];return e&&_.push(u?"hh":"HH"),t&&_.push("mm"),o&&_.push("ss"),g=_.join(":"),i&&(g+=".SSS"),u&&(g+=" A"),g}function qw(e,t,o,i,u,g){var _=e.fieldDateTimeFormat,x=e.fieldDateFormat,S=e.fieldTimeFormat,T=e.fieldMonthFormat,M=e.fieldYearFormat,R=e.fieldWeekFormat,N=e.fieldQuarterFormat,F=e.yearFormat,B=e.cellYearFormat,V=e.cellQuarterFormat,j=e.dayFormat,H=e.cellDateFormat,U=vm(t,o,i,u,g);return(0,fe.Z)((0,fe.Z)({},e),{},{fieldDateTimeFormat:_||"YYYY-MM-DD ".concat(U),fieldDateFormat:x||"YYYY-MM-DD",fieldTimeFormat:S||U,fieldMonthFormat:T||"YYYY-MM",fieldYearFormat:M||"YYYY",fieldWeekFormat:R||"gggg-wo",fieldQuarterFormat:N||"YYYY-[Q]Q",yearFormat:F||"YYYY",cellYearFormat:B||"YYYY",cellQuarterFormat:V||"[Q]Q",cellDateFormat:H||j||"D"})}function T_(e,t){var o=t.showHour,i=t.showMinute,u=t.showSecond,g=t.showMillisecond,_=t.use12Hours;return s.useMemo(function(){return qw(e,o,i,u,g,_)},[e,o,i,u,g,_])}function ym(e,t,o){return o!=null?o:t.some(function(i){return e.includes(i)})}var Kw=["showNow","showHour","showMinute","showSecond","showMillisecond","use12Hours","hourStep","minuteStep","secondStep","millisecondStep","hideDisabledOptions","defaultValue","disabledHours","disabledMinutes","disabledSeconds","disabledMilliseconds","disabledTime","changeOnScroll","defaultOpenValue"];function _x(e){var t=_v(e,Kw),o=e.format,i=e.picker,u=null;return o&&(u=o,Array.isArray(u)&&(u=u[0]),u=(0,Tt.Z)(u)==="object"?u.format:u),i==="time"&&(t.format=u),[t,u]}function bx(e){return e&&typeof e=="string"}function M_(e,t,o,i){return[e,t,o,i].some(function(u){return u!==void 0})}function xx(e,t,o,i,u){var g=t,_=o,x=i;if(!e&&!g&&!_&&!x&&!u)g=!0,_=!0,x=!0;else if(e){var S,T,M,R=[g,_,x].some(function(B){return B===!1}),N=[g,_,x].some(function(B){return B===!0}),F=R?!0:!N;g=(S=g)!==null&&S!==void 0?S:F,_=(T=_)!==null&&T!==void 0?T:F,x=(M=x)!==null&&M!==void 0?M:F}return[g,_,x,u]}function Cx(e){var t=e.showTime,o=_x(e),i=(0,ve.Z)(o,2),u=i[0],g=i[1],_=t&&(0,Tt.Z)(t)==="object"?t:{},x=(0,fe.Z)((0,fe.Z)({defaultOpenValue:_.defaultOpenValue||_.defaultValue},u),_),S=x.showMillisecond,T=x.showHour,M=x.showMinute,R=x.showSecond,N=M_(T,M,R,S),F=xx(N,T,M,R,S),B=(0,ve.Z)(F,3);return T=B[0],M=B[1],R=B[2],[x,(0,fe.Z)((0,fe.Z)({},x),{},{showHour:T,showMinute:M,showSecond:R,showMillisecond:S}),x.format,g]}function P_(e,t,o,i,u){var g=e==="time";if(e==="datetime"||g){for(var _=i,x=gx(e,u,null),S=x,T=[t,o],M=0;M<T.length;M+=1){var R=cp(T[M])[0];if(bx(R)){S=R;break}}var N=_.showHour,F=_.showMinute,B=_.showSecond,V=_.showMillisecond,j=_.use12Hours,H=ym(S,["a","A","LT","LLL","LTS"],j),U=M_(N,F,B,V);U||(N=ym(S,["H","h","k","LT","LLL"]),F=ym(S,["m","LT","LLL"]),B=ym(S,["s","LTS"]),V=ym(S,["SSS"]));var K=xx(U,N,F,B,V),Y=(0,ve.Z)(K,3);N=Y[0],F=Y[1],B=Y[2];var q=t||vm(N,F,B,V,H);return(0,fe.Z)((0,fe.Z)({},_),{},{format:q,showHour:N,showMinute:F,showSecond:B,showMillisecond:V,use12Hours:H})}return null}function Rl(e,t,o){if(t===!1)return null;var i=t&&(0,Tt.Z)(t)==="object"?t:{};return i.clearIcon||o||s.createElement("span",{className:"".concat(e,"-clear-btn")})}var vh=7;function Ou(e,t,o){return!e&&!t||e===t?!0:!e||!t?!1:o()}function up(e,t,o){return Ou(t,o,function(){var i=Math.floor(e.getYear(t)/10),u=Math.floor(e.getYear(o)/10);return i===u})}function yh(e,t,o){return Ou(t,o,function(){return e.getYear(t)===e.getYear(o)})}function wx(e,t){var o=Math.floor(e.getMonth(t)/3);return o+1}function Yw(e,t,o){return Ou(t,o,function(){return yh(e,t,o)&&wx(e,t)===wx(e,o)})}function Bg(e,t,o){return Ou(t,o,function(){return yh(e,t,o)&&e.getMonth(t)===e.getMonth(o)})}function pu(e,t,o){return Ou(t,o,function(){return yh(e,t,o)&&Bg(e,t,o)&&e.getDate(t)===e.getDate(o)})}function bv(e,t,o){return Ou(t,o,function(){return e.getHour(t)===e.getHour(o)&&e.getMinute(t)===e.getMinute(o)&&e.getSecond(t)===e.getSecond(o)})}function Sx(e,t,o){return Ou(t,o,function(){return pu(e,t,o)&&bv(e,t,o)&&e.getMillisecond(t)===e.getMillisecond(o)})}function Gc(e,t,o,i){return Ou(o,i,function(){var u=e.locale.getWeekFirstDate(t,o),g=e.locale.getWeekFirstDate(t,i);return yh(e,u,g)&&e.locale.getWeek(t,o)===e.locale.getWeek(t,i)})}function Lc(e,t,o,i,u){switch(u){case"date":return pu(e,o,i);case"week":return Gc(e,t.locale,o,i);case"month":return Bg(e,o,i);case"quarter":return Yw(e,o,i);case"year":return yh(e,o,i);case"decade":return up(e,o,i);case"time":return bv(e,o,i);default:return Sx(e,o,i)}}function xv(e,t,o,i){return!t||!o||!i?!1:e.isAfter(i,t)&&e.isAfter(o,i)}function Cv(e,t,o,i,u){return Lc(e,t,o,i,u)?!0:e.isAfter(o,i)}function $u(e,t,o){var i=t.locale.getWeekFirstDay(e),u=t.setDate(o,1),g=t.getWeekDay(u),_=t.addDate(u,i-g);return t.getMonth(_)===t.getMonth(o)&&t.getDate(_)>1&&(_=t.addDate(_,-7)),_}function _c(e,t){var o=t.generateConfig,i=t.locale,u=t.format;return e?typeof u=="function"?u(e):o.locale.format(i.locale,e,u):""}function Fg(e,t,o){var i=t,u=["getHour","getMinute","getSecond","getMillisecond"],g=["setHour","setMinute","setSecond","setMillisecond"];return g.forEach(function(_,x){o?i=e[_](i,e[u[x]](o)):i=e[_](i,0)}),i}function Jw(e,t,o,i,u){var g=(0,Qi.zX)(function(_,x){return!!(o&&o(_,x)||i&&e.isAfter(i,_)&&!Lc(e,t,i,_,x.type)||u&&e.isAfter(_,u)&&!Lc(e,t,u,_,x.type))});return g}function O_(e,t,o){return s.useMemo(function(){var i=gx(e,t,o),u=cp(i),g=u[0],_=(0,Tt.Z)(g)==="object"&&g.type==="mask"?g.format:null;return[u.map(function(x){return typeof x=="string"||typeof x=="function"?x:x.format}),_]},[e,t,o])}function $_(e,t,o){return typeof e[0]=="function"||o?!0:t}function Qw(e,t,o,i){var u=(0,Qi.zX)(function(g,_){var x=(0,fe.Z)({type:t},_);if(delete x.activeIndex,!e.isValidate(g)||o&&o(g,x))return!0;if((t==="date"||t==="time")&&i){var S,T=_&&_.activeIndex===1?"end":"start",M=((S=i.disabledTime)===null||S===void 0?void 0:S.call(i,g,T,{from:x.from}))||{},R=M.disabledHours,N=M.disabledMinutes,F=M.disabledSeconds,B=M.disabledMilliseconds,V=i.disabledHours,j=i.disabledMinutes,H=i.disabledSeconds,U=R||V,K=N||j,Y=F||H,q=e.getHour(g),Q=e.getMinute(g),re=e.getSecond(g),ae=e.getMillisecond(g);if(U&&U().includes(q)||K&&K(q).includes(Q)||Y&&Y(q,Q).includes(re)||B&&B(q,Q,re).includes(ae))return!0}return!1});return u}function kg(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=s.useMemo(function(){var i=e&&cp(e);return t&&i&&(i[1]=i[1]||i[0]),i},[e,t]);return o}function _m(e,t){var o=e.generateConfig,i=e.locale,u=e.picker,g=u===void 0?"date":u,_=e.prefixCls,x=_===void 0?"rc-picker":_,S=e.styles,T=S===void 0?{}:S,M=e.classNames,R=M===void 0?{}:M,N=e.order,F=N===void 0?!0:N,B=e.components,V=B===void 0?{}:B,j=e.inputRender,H=e.allowClear,U=e.clearIcon,K=e.needConfirm,Y=e.multiple,q=e.format,Q=e.inputReadOnly,re=e.disabledDate,ae=e.minDate,se=e.maxDate,de=e.showTime,pe=e.value,ge=e.defaultValue,me=e.pickerValue,be=e.defaultPickerValue,_e=kg(pe),Ie=kg(ge),Ce=kg(me),Le=kg(be),ze=g==="date"&&de?"datetime":g,ke=ze==="time"||ze==="datetime",Ze=ke||Y,je=K!=null?K:ke,Ue=Cx(e),He=(0,ve.Z)(Ue,4),Qe=He[0],We=He[1],it=He[2],Je=He[3],wt=T_(i,We),Dt=s.useMemo(function(){return P_(ze,it,Je,Qe,wt)},[ze,it,Je,Qe,wt]),ct=s.useMemo(function(){return(0,fe.Z)((0,fe.Z)({},e),{},{prefixCls:x,locale:wt,picker:g,styles:T,classNames:R,order:F,components:(0,fe.Z)({input:j},V),clearIcon:Rl(x,H,U),showTime:Dt,value:_e,defaultValue:Ie,pickerValue:Ce,defaultPickerValue:Le},t==null?void 0:t())},[e]),ht=O_(ze,wt,q),ut=(0,ve.Z)(ht,2),tt=ut[0],xt=ut[1],_t=$_(tt,Q,Y),dn=Jw(o,i,re,ae,se),on=Qw(o,g,dn,Dt),Ut=s.useMemo(function(){return(0,fe.Z)((0,fe.Z)({},ct),{},{needConfirm:je,inputReadOnly:_t,disabledDate:dn})},[ct,je,_t,dn]);return[Ut,ze,Ze,tt,xt,on]}function R_(e,t,o){var i=(0,Qi.C8)(t,{value:e}),u=(0,ve.Z)(i,2),g=u[0],_=u[1],x=s.useRef(e),S=s.useRef(),T=function(){lt.Z.cancel(S.current)},M=(0,Qi.zX)(function(){_(x.current),o&&g!==x.current&&o(x.current)}),R=(0,Qi.zX)(function(N,F){T(),x.current=N,N||F?M():S.current=(0,lt.Z)(M)});return s.useEffect(function(){return T},[]),[g,R]}function Ru(e,t){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],i=arguments.length>3?arguments[3]:void 0,u=o.every(function(M){return M})?!1:e,g=R_(u,t||!1,i),_=(0,ve.Z)(g,2),x=_[0],S=_[1];function T(M){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(!R.inherit||x)&&S(M,R.force)}return[x,T]}function dp(e){var t=s.useRef();return s.useImperativeHandle(e,function(){var o;return{nativeElement:(o=t.current)===null||o===void 0?void 0:o.nativeElement,focus:function(u){var g;(g=t.current)===null||g===void 0||g.focus(u)},blur:function(){var u;(u=t.current)===null||u===void 0||u.blur()}}}),t}function wv(e,t){return s.useMemo(function(){return e||(t?((0,zl.ZP)(!1,"`ranges` is deprecated. Please use `presets` instead."),Object.entries(t).map(function(o){var i=(0,ve.Z)(o,2),u=i[0],g=i[1];return{label:u,value:g}})):[])},[e,t])}function _h(e,t){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=s.useRef(t);i.current=t,(0,yt.o)(function(){if(e)i.current(e);else{var u=(0,lt.Z)(function(){i.current(e)},o);return function(){lt.Z.cancel(u)}}},[e])}function A_(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=s.useState(0),u=(0,ve.Z)(i,2),g=u[0],_=u[1],x=s.useState(!1),S=(0,ve.Z)(x,2),T=S[0],M=S[1],R=s.useRef([]),N=s.useRef(null),F=s.useRef(null),B=function(Y){N.current=Y},V=function(Y){return N.current===Y},j=function(Y){M(Y)},H=function(Y){return Y&&(F.current=Y),F.current},U=function(Y){var q=R.current,Q=new Set(q.filter(function(ae){return Y[ae]||t[ae]})),re=q[q.length-1]===0?1:0;return Q.size>=2||e[re]?null:re};return _h(T||o,function(){T||(R.current=[],B(null))}),s.useEffect(function(){T&&R.current.push(g)},[T,g]),[T,j,H,g,_,U,R.current,B,V]}function Ex(e,t,o,i,u,g){var _=o[o.length-1],x=function(T,M){var R=(0,ve.Z)(e,2),N=R[0],F=R[1],B=(0,fe.Z)((0,fe.Z)({},M),{},{from:vx(e,o)});return _===1&&t[0]&&N&&!Lc(i,u,N,T,B.type)&&i.isAfter(N,T)||_===0&&t[1]&&F&&!Lc(i,u,F,T,B.type)&&i.isAfter(T,F)?!0:g==null?void 0:g(T,B)};return x}function bh(e,t,o,i){switch(t){case"date":case"week":return e.addMonth(o,i);case"month":case"quarter":return e.addYear(o,i);case"year":return e.addYear(o,i*10);case"decade":return e.addYear(o,i*100);default:return o}}var D_=[];function bm(e,t,o,i,u,g,_,x){var S=arguments.length>8&&arguments[8]!==void 0?arguments[8]:D_,T=arguments.length>9&&arguments[9]!==void 0?arguments[9]:D_,M=arguments.length>10&&arguments[10]!==void 0?arguments[10]:D_,R=arguments.length>11?arguments[11]:void 0,N=arguments.length>12?arguments[12]:void 0,F=arguments.length>13?arguments[13]:void 0,B=_==="time",V=g||0,j=function(Ce){var Le=e.getNow();return B&&(Le=Fg(e,Le)),S[Ce]||o[Ce]||Le},H=(0,ve.Z)(T,2),U=H[0],K=H[1],Y=(0,Qi.C8)(function(){return j(0)},{value:U}),q=(0,ve.Z)(Y,2),Q=q[0],re=q[1],ae=(0,Qi.C8)(function(){return j(1)},{value:K}),se=(0,ve.Z)(ae,2),de=se[0],pe=se[1],ge=s.useMemo(function(){var Ie=[Q,de][V];return B?Ie:Fg(e,Ie,M[V])},[B,Q,de,V,e,M]),me=function(Ce){var Le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"panel",ze=[re,pe][V];ze(Ce);var ke=[Q,de];ke[V]=Ce,R&&(!Lc(e,t,Q,ke[0],_)||!Lc(e,t,de,ke[1],_))&&R(ke,{source:Le,range:V===1?"end":"start",mode:i})},be=function(Ce,Le){if(x){var ze={date:"month",week:"month",month:"year",quarter:"year"},ke=ze[_];if(ke&&!Lc(e,t,Ce,Le,ke))return bh(e,_,Le,-1);if(_==="year"&&Ce){var Ze=Math.floor(e.getYear(Ce)/10),je=Math.floor(e.getYear(Le)/10);if(Ze!==je)return bh(e,_,Le,-1)}}return Le},_e=s.useRef(null);return(0,yt.Z)(function(){if(u&&!S[V]){var Ie=B?null:e.getNow();if(_e.current!==null&&_e.current!==V?Ie=[Q,de][V^1]:o[V]?Ie=V===0?o[0]:be(o[0],o[1]):o[V^1]&&(Ie=o[V^1]),Ie){N&&e.isAfter(N,Ie)&&(Ie=N);var Ce=x?bh(e,_,Ie,1):Ie;F&&e.isAfter(Ce,F)&&(Ie=x?bh(e,_,F,-1):F),me(Ie,"reset")}}},[u,V,o[V]]),s.useEffect(function(){u?_e.current=V:_e.current=null},[u,V]),(0,yt.Z)(function(){u&&S&&S[V]&&me(S[V],"reset")},[u,V]),[ge,me]}function z_(e,t){var o=s.useRef(e),i=s.useState({}),u=(0,ve.Z)(i,2),g=u[1],_=function(T){return T&&t!==void 0?t:o.current},x=function(T){o.current=T,g({})};return[_,x,_(!0)]}var L_=[];function Ix(e,t,o){var i=function(_){return _.map(function(x){return _c(x,{generateConfig:e,locale:t,format:o[0]})})},u=function(_,x){for(var S=Math.max(_.length,x.length),T=-1,M=0;M<S;M+=1){var R=_[M]||null,N=x[M]||null;if(R!==N&&!Sx(e,R,N)){T=M;break}}return[T<0,T!==0]};return[i,u]}function jg(e,t){return(0,Be.Z)(e).sort(function(o,i){return t.isAfter(o,i)?1:-1})}function eS(e){var t=z_(e),o=(0,ve.Z)(t,2),i=o[0],u=o[1],g=(0,Qi.zX)(function(){u(e)});return s.useEffect(function(){g()},[e]),[i,u]}function N_(e,t,o,i,u,g,_,x,S){var T=(0,Qi.C8)(g,{value:_}),M=(0,ve.Z)(T,2),R=M[0],N=M[1],F=R||L_,B=eS(F),V=(0,ve.Z)(B,2),j=V[0],H=V[1],U=Ix(e,t,o),K=(0,ve.Z)(U,2),Y=K[0],q=K[1],Q=(0,Qi.zX)(function(ae){var se=(0,Be.Z)(ae);if(i)for(var de=0;de<2;de+=1)se[de]=se[de]||null;else u&&(se=jg(se.filter(function(Ie){return Ie}),e));var pe=q(j(),se),ge=(0,ve.Z)(pe,2),me=ge[0],be=ge[1];if(!me&&(H(se),x)){var _e=Y(se);x(se,_e,{range:be?"end":"start"})}}),re=function(){S&&S(j())};return[F,N,j,Q,re]}function B_(e,t,o,i,u,g,_,x,S,T){var M=e.generateConfig,R=e.locale,N=e.picker,F=e.onChange,B=e.allowEmpty,V=e.order,j=g.some(function(me){return me})?!1:V,H=Ix(M,R,_),U=(0,ve.Z)(H,2),K=U[0],Y=U[1],q=z_(t),Q=(0,ve.Z)(q,2),re=Q[0],ae=Q[1],se=(0,Qi.zX)(function(){ae(t)});s.useEffect(function(){se()},[t]);var de=(0,Qi.zX)(function(me){var be=me===null,_e=(0,Be.Z)(me||re());if(be)for(var Ie=Math.max(g.length,_e.length),Ce=0;Ce<Ie;Ce+=1)g[Ce]||(_e[Ce]=null);j&&_e[0]&&_e[1]&&(_e=jg(_e,M)),u(_e);var Le=_e,ze=(0,ve.Z)(Le,2),ke=ze[0],Ze=ze[1],je=!ke,Ue=!Ze,He=B?(!je||B[0])&&(!Ue||B[1]):!0,Qe=!V||je||Ue||Lc(M,R,ke,Ze,N)||M.isAfter(Ze,ke),We=(g[0]||!ke||!T(ke,{activeIndex:0}))&&(g[1]||!Ze||!T(Ze,{from:ke,activeIndex:1})),it=be||He&&Qe&&We;if(it){o(_e);var Je=Y(_e,t),wt=(0,ve.Z)(Je,1),Dt=wt[0];F&&!Dt&&F(be&&_e.every(function(ct){return!ct})?null:_e,K(_e))}return it}),pe=(0,Qi.zX)(function(me,be){var _e=Ng(re(),me,i()[me]);ae(_e),be&&de()}),ge=!x&&!S;return _h(!ge,function(){ge&&(de(),u(t),se())},2),[pe,de]}function F_(e,t,o,i,u){return t!=="date"&&t!=="time"?!1:o!==void 0?o:i!==void 0?i:!u&&(e==="date"||e==="time")}function tS(e,t,o,i,u,g){var _=e;function x(R,N,F){var B=g[R](_),V=F.find(function(K){return K.value===B});if(!V||V.disabled){var j=F.filter(function(K){return!K.disabled}),H=(0,Be.Z)(j).reverse(),U=H.find(function(K){return K.value<=B})||j[0];U&&(B=U.value,_=g[N](_,B))}return B}var S=x("getHour","setHour",t()),T=x("getMinute","setMinute",o(S)),M=x("getSecond","setSecond",i(S,T));return x("getMillisecond","setMillisecond",u(S,T,M)),_}function Zg(){return[]}function Sv(e,t){for(var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],g=arguments.length>5&&arguments[5]!==void 0?arguments[5]:2,_=[],x=o>=1?o|0:1,S=e;S<=t;S+=x){var T=u.includes(S);(!T||!i)&&_.push({label:E_(S,g),value:S,disabled:T})}return _}function Ev(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0,i=t||{},u=i.use12Hours,g=i.hourStep,_=g===void 0?1:g,x=i.minuteStep,S=x===void 0?1:x,T=i.secondStep,M=T===void 0?1:T,R=i.millisecondStep,N=R===void 0?100:R,F=i.hideDisabledOptions,B=i.disabledTime,V=i.disabledHours,j=i.disabledMinutes,H=i.disabledSeconds,U=s.useMemo(function(){return o||e.getNow()},[o,e]);if(0)var K,Y,q;var Q=s.useCallback(function(Ze){var je=(B==null?void 0:B(Ze))||{};return[je.disabledHours||V||Zg,je.disabledMinutes||j||Zg,je.disabledSeconds||H||Zg,je.disabledMilliseconds||Zg]},[B,V,j,H]),re=s.useMemo(function(){return Q(U)},[U,Q]),ae=(0,ve.Z)(re,4),se=ae[0],de=ae[1],pe=ae[2],ge=ae[3],me=s.useCallback(function(Ze,je,Ue,He){var Qe=Sv(0,23,_,F,Ze()),We=u?Qe.map(function(Dt){return(0,fe.Z)((0,fe.Z)({},Dt),{},{label:E_(Dt.value%12||12,2)})}):Qe,it=function(ct){return Sv(0,59,S,F,je(ct))},Je=function(ct,ht){return Sv(0,59,M,F,Ue(ct,ht))},wt=function(ct,ht,ut){return Sv(0,999,N,F,He(ct,ht,ut),3)};return[We,it,Je,wt]},[F,_,u,N,S,M]),be=s.useMemo(function(){return me(se,de,pe,ge)},[me,se,de,pe,ge]),_e=(0,ve.Z)(be,4),Ie=_e[0],Ce=_e[1],Le=_e[2],ze=_e[3],ke=function(je,Ue){var He=function(){return Ie},Qe=Ce,We=Le,it=ze;if(Ue){var Je=Q(Ue),wt=(0,ve.Z)(Je,4),Dt=wt[0],ct=wt[1],ht=wt[2],ut=wt[3],tt=me(Dt,ct,ht,ut),xt=(0,ve.Z)(tt,4),_t=xt[0],dn=xt[1],on=xt[2],Ut=xt[3];He=function(){return _t},Qe=dn,We=on,it=Ut}var en=tS(je,He,Qe,We,it,e);return en};return[ke,Ie,Ce,Le,ze]}function fp(e){var t=e.mode,o=e.internalMode,i=e.renderExtraFooter,u=e.showNow,g=e.showTime,_=e.onSubmit,x=e.onNow,S=e.invalid,T=e.needConfirm,M=e.generateConfig,R=e.disabledDate,N=s.useContext(iu),F=N.prefixCls,B=N.locale,V=N.button,j=V===void 0?"button":V,H=M.getNow(),U=Ev(M,g,H),K=(0,ve.Z)(U,1),Y=K[0],q=i==null?void 0:i(t),Q=R(H,{type:t}),re=function(){if(!Q){var be=Y(H);x(be)}},ae="".concat(F,"-now"),se="".concat(ae,"-btn"),de=u&&s.createElement("li",{className:ae},s.createElement("a",{className:oe()(se,Q&&"".concat(se,"-disabled")),"aria-disabled":Q,onClick:re},o==="date"?B.today:B.now)),pe=T&&s.createElement("li",{className:"".concat(F,"-ok")},s.createElement(j,{disabled:S,onClick:_},B.ok)),ge=(de||pe)&&s.createElement("ul",{className:"".concat(F,"-ranges")},de,pe);return!q&&!ge?null:s.createElement("div",{className:"".concat(F,"-footer")},q&&s.createElement("div",{className:"".concat(F,"-footer-extra")},q),ge)}function Iv(e,t,o){function i(u,g){var _=u.findIndex(function(S){return Lc(e,t,S,g,o)});if(_===-1)return[].concat((0,Be.Z)(u),[g]);var x=(0,Be.Z)(u);return x.splice(_,1),x}return i}var hp=s.createContext(null);function Vg(){return s.useContext(hp)}function xm(e,t){var o=e.prefixCls,i=e.generateConfig,u=e.locale,g=e.disabledDate,_=e.minDate,x=e.maxDate,S=e.cellRender,T=e.hoverValue,M=e.hoverRangeValue,R=e.onHover,N=e.values,F=e.pickerValue,B=e.onSelect,V=e.prevIcon,j=e.nextIcon,H=e.superPrevIcon,U=e.superNextIcon,K=i.getNow(),Y={now:K,values:N,pickerValue:F,prefixCls:o,disabledDate:g,minDate:_,maxDate:x,cellRender:S,hoverValue:T,hoverRangeValue:M,onHover:R,locale:u,generateConfig:i,onSelect:B,panelType:t,prevIcon:V,nextIcon:j,superPrevIcon:H,superNextIcon:U};return[Y,K]}var xh=s.createContext({});function Hg(e){for(var t=e.rowNum,o=e.colNum,i=e.baseDate,u=e.getCellDate,g=e.prefixColumn,_=e.rowClassName,x=e.titleFormat,S=e.getCellText,T=e.getCellClassName,M=e.headerCells,R=e.cellSelection,N=R===void 0?!0:R,F=e.disabledDate,B=Vg(),V=B.prefixCls,j=B.panelType,H=B.now,U=B.disabledDate,K=B.cellRender,Y=B.onHover,q=B.hoverValue,Q=B.hoverRangeValue,re=B.generateConfig,ae=B.values,se=B.locale,de=B.onSelect,pe=F||U,ge="".concat(V,"-cell"),me=s.useContext(xh),be=me.onCellDblClick,_e=function(Ue){return ae.some(function(He){return He&&Lc(re,se,Ue,He,j)})},Ie=[],Ce=0;Ce<t;Ce+=1){for(var Le=[],ze=void 0,ke=function(){var Ue=Ce*o+Ze,He=u(i,Ue),Qe=pe==null?void 0:pe(He,{type:j});Ze===0&&(ze=He,g&&Le.push(g(ze)));var We=!1,it=!1,Je=!1;if(N&&Q){var wt=(0,ve.Z)(Q,2),Dt=wt[0],ct=wt[1];We=xv(re,Dt,ct,He),it=Lc(re,se,He,Dt,j),Je=Lc(re,se,He,ct,j)}var ht=x?_c(He,{locale:se,format:x,generateConfig:re}):void 0,ut=s.createElement("div",{className:"".concat(ge,"-inner")},S(He));Le.push(s.createElement("td",{key:Ze,title:ht,className:oe()(ge,(0,fe.Z)((0,Ee.Z)((0,Ee.Z)((0,Ee.Z)((0,Ee.Z)((0,Ee.Z)((0,Ee.Z)({},"".concat(ge,"-disabled"),Qe),"".concat(ge,"-hover"),(q||[]).some(function(tt){return Lc(re,se,He,tt,j)})),"".concat(ge,"-in-range"),We&&!it&&!Je),"".concat(ge,"-range-start"),it),"".concat(ge,"-range-end"),Je),"".concat(V,"-cell-selected"),!Q&&j!=="week"&&_e(He)),T(He))),onClick:function(){Qe||de(He)},onDoubleClick:function(){!Qe&&be&&be()},onMouseEnter:function(){Qe||Y==null||Y(He)},onMouseLeave:function(){Qe||Y==null||Y(null)}},K?K(He,{prefixCls:V,originNode:ut,today:H,type:j,locale:se}):ut))},Ze=0;Ze<o;Ze+=1)ke();Ie.push(s.createElement("tr",{key:Ce,className:_==null?void 0:_(ze)},Le))}return s.createElement("div",{className:"".concat(V,"-body")},s.createElement("table",{className:"".concat(V,"-content")},M&&s.createElement("thead",null,s.createElement("tr",null,M)),s.createElement("tbody",null,Ie)))}var Ug={visibility:"hidden"};function nS(e){var t=e.offset,o=e.superOffset,i=e.onChange,u=e.getStart,g=e.getEnd,_=e.children,x=Vg(),S=x.prefixCls,T=x.prevIcon,M=T===void 0?"\u2039":T,R=x.nextIcon,N=R===void 0?"\u203A":R,F=x.superPrevIcon,B=F===void 0?"\xAB":F,V=x.superNextIcon,j=V===void 0?"\xBB":V,H=x.minDate,U=x.maxDate,K=x.generateConfig,Y=x.locale,q=x.pickerValue,Q=x.panelType,re="".concat(S,"-header"),ae=s.useContext(xh),se=ae.hidePrev,de=ae.hideNext,pe=ae.hideHeader,ge=s.useMemo(function(){if(!H||!t||!g)return!1;var je=g(t(-1,q));return!Cv(K,Y,je,H,Q)},[H,t,q,g,K,Y,Q]),me=s.useMemo(function(){if(!H||!o||!g)return!1;var je=g(o(-1,q));return!Cv(K,Y,je,H,Q)},[H,o,q,g,K,Y,Q]),be=s.useMemo(function(){if(!U||!t||!u)return!1;var je=u(t(1,q));return!Cv(K,Y,U,je,Q)},[U,t,q,u,K,Y,Q]),_e=s.useMemo(function(){if(!U||!o||!u)return!1;var je=u(o(1,q));return!Cv(K,Y,U,je,Q)},[U,o,q,u,K,Y,Q]),Ie=function(Ue){t&&i(t(Ue,q))},Ce=function(Ue){o&&i(o(Ue,q))};if(pe)return null;var Le="".concat(re,"-prev-btn"),ze="".concat(re,"-next-btn"),ke="".concat(re,"-super-prev-btn"),Ze="".concat(re,"-super-next-btn");return s.createElement("div",{className:re},o&&s.createElement("button",{type:"button","aria-label":Y.previousYear,onClick:function(){return Ce(-1)},tabIndex:-1,className:oe()(ke,me&&"".concat(ke,"-disabled")),disabled:me,style:se?Ug:{}},B),t&&s.createElement("button",{type:"button","aria-label":Y.previousMonth,onClick:function(){return Ie(-1)},tabIndex:-1,className:oe()(Le,ge&&"".concat(Le,"-disabled")),disabled:ge,style:se?Ug:{}},M),s.createElement("div",{className:"".concat(re,"-view")},_),t&&s.createElement("button",{type:"button","aria-label":Y.nextMonth,onClick:function(){return Ie(1)},tabIndex:-1,className:oe()(ze,be&&"".concat(ze,"-disabled")),disabled:be,style:de?Ug:{}},N),o&&s.createElement("button",{type:"button","aria-label":Y.nextYear,onClick:function(){return Ce(1)},tabIndex:-1,className:oe()(Ze,_e&&"".concat(Ze,"-disabled")),disabled:_e,style:de?Ug:{}},j))}var Cm=nS;function Wg(e){var t=e.prefixCls,o=e.panelName,i=o===void 0?"date":o,u=e.locale,g=e.generateConfig,_=e.pickerValue,x=e.onPickerValueChange,S=e.onModeChange,T=e.mode,M=T===void 0?"date":T,R=e.disabledDate,N=e.onSelect,F=e.onHover,B=e.showWeek,V="".concat(t,"-").concat(i,"-panel"),j="".concat(t,"-cell"),H=M==="week",U=xm(e,M),K=(0,ve.Z)(U,2),Y=K[0],q=K[1],Q=g.locale.getWeekFirstDay(u.locale),re=g.setDate(_,1),ae=$u(u.locale,g,re),se=g.getMonth(_),de=B===void 0?H:B,pe=de?function(je){var Ue=R==null?void 0:R(je,{type:"week"});return s.createElement("td",{key:"week",className:oe()(j,"".concat(j,"-week"),(0,Ee.Z)({},"".concat(j,"-disabled"),Ue)),onClick:function(){Ue||N(je)},onMouseEnter:function(){Ue||F==null||F(je)},onMouseLeave:function(){Ue||F==null||F(null)}},s.createElement("div",{className:"".concat(j,"-inner")},g.locale.getWeek(u.locale,je)))}:null,ge=[],me=u.shortWeekDays||(g.locale.getShortWeekDays?g.locale.getShortWeekDays(u.locale):[]);pe&&ge.push(s.createElement("th",{key:"empty"},s.createElement("span",{style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},u.week)));for(var be=0;be<vh;be+=1)ge.push(s.createElement("th",{key:be},me[(be+Q)%vh]));var _e=function(Ue,He){return g.addDate(Ue,He)},Ie=function(Ue){return _c(Ue,{locale:u,format:u.cellDateFormat,generateConfig:g})},Ce=function(Ue){var He=(0,Ee.Z)((0,Ee.Z)({},"".concat(t,"-cell-in-view"),Bg(g,Ue,_)),"".concat(t,"-cell-today"),pu(g,Ue,q));return He},Le=u.shortMonths||(g.locale.getShortMonths?g.locale.getShortMonths(u.locale):[]),ze=s.createElement("button",{type:"button","aria-label":u.yearSelect,key:"year",onClick:function(){S("year",_)},tabIndex:-1,className:"".concat(t,"-year-btn")},_c(_,{locale:u,format:u.yearFormat,generateConfig:g})),ke=s.createElement("button",{type:"button","aria-label":u.monthSelect,key:"month",onClick:function(){S("month",_)},tabIndex:-1,className:"".concat(t,"-month-btn")},u.monthFormat?_c(_,{locale:u,format:u.monthFormat,generateConfig:g}):Le[se]),Ze=u.monthBeforeYear?[ke,ze]:[ze,ke];return s.createElement(hp.Provider,{value:Y},s.createElement("div",{className:oe()(V,B&&"".concat(V,"-show-week"))},s.createElement(Cm,{offset:function(Ue){return g.addMonth(_,Ue)},superOffset:function(Ue){return g.addYear(_,Ue)},onChange:x,getStart:function(Ue){return g.setDate(Ue,1)},getEnd:function(Ue){var He=g.setDate(Ue,1);return He=g.addMonth(He,1),g.addDate(He,-1)}},Ze),s.createElement(Hg,(0,Pt.Z)({titleFormat:u.fieldDateFormat},e,{colNum:vh,rowNum:6,baseDate:ae,headerCells:ge,getCellDate:_e,getCellText:Ie,getCellClassName:Ce,prefixColumn:pe,cellSelection:!H}))))}var rS=1/3;function wm(e,t){var o=s.useRef(!1),i=s.useRef(null),u=s.useRef(null),g=function(){return o.current},_=function(){lt.Z.cancel(i.current),o.current=!1},x=s.useRef(),S=function(){var R=e.current;if(u.current=null,x.current=0,R){var N=R.querySelector('[data-value="'.concat(t,'"]')),F=R.querySelector("li"),B=function V(){_(),o.current=!0,x.current+=1;var j=R.scrollTop,H=F.offsetTop,U=N.offsetTop,K=U-H;if(U===0&&N!==F||!(0,yi.Z)(R)){x.current<=5&&(i.current=(0,lt.Z)(V));return}var Y=j+(K-j)*rS,q=Math.abs(K-Y);if(u.current!==null&&u.current<q){_();return}if(u.current=q,q<=1){R.scrollTop=K,_();return}R.scrollTop=Y,i.current=(0,lt.Z)(V)};N&&F&&B()}},T=(0,Qi.zX)(S);return[T,_,g]}var Tx=300;function Mx(e){return e.map(function(t){var o=t.value,i=t.label,u=t.disabled;return[o,i,u].join(",")}).join(";")}function Gg(e){var t=e.units,o=e.value,i=e.optionalValue,u=e.type,g=e.onChange,_=e.onHover,x=e.onDblClick,S=e.changeOnScroll,T=Vg(),M=T.prefixCls,R=T.cellRender,N=T.now,F=T.locale,B="".concat(M,"-time-panel"),V="".concat(M,"-time-panel-cell"),j=s.useRef(null),H=s.useRef(),U=function(){clearTimeout(H.current)},K=wm(j,o!=null?o:i),Y=(0,ve.Z)(K,3),q=Y[0],Q=Y[1],re=Y[2];(0,yt.Z)(function(){return q(),U(),function(){Q(),U()}},[o,i,Mx(t)]);var ae=function(pe){U();var ge=pe.target;!re()&&S&&(H.current=setTimeout(function(){var me=j.current,be=me.querySelector("li").offsetTop,_e=Array.from(me.querySelectorAll("li")),Ie=_e.map(function(Ze){return Ze.offsetTop-be}),Ce=Ie.map(function(Ze,je){return t[je].disabled?Number.MAX_SAFE_INTEGER:Math.abs(Ze-ge.scrollTop)}),Le=Math.min.apply(Math,(0,Be.Z)(Ce)),ze=Ce.findIndex(function(Ze){return Ze===Le}),ke=t[ze];ke&&!ke.disabled&&g(ke.value)},Tx))},se="".concat(B,"-column");return s.createElement("ul",{className:se,ref:j,"data-type":u,onScroll:ae},t.map(function(de){var pe=de.label,ge=de.value,me=de.disabled,be=s.createElement("div",{className:"".concat(V,"-inner")},pe);return s.createElement("li",{key:ge,className:oe()(V,(0,Ee.Z)((0,Ee.Z)({},"".concat(V,"-selected"),o===ge),"".concat(V,"-disabled"),me)),onClick:function(){me||g(ge)},onDoubleClick:function(){!me&&x&&x()},onMouseEnter:function(){_(ge)},onMouseLeave:function(){_(null)},"data-value":ge},R?R(ge,{prefixCls:M,originNode:be,today:N,type:"time",subType:u,locale:F}):be)}))}function Sf(e){return e<12}function k_(e){var t=e.showHour,o=e.showMinute,i=e.showSecond,u=e.showMillisecond,g=e.use12Hours,_=e.changeOnScroll,x=Vg(),S=x.prefixCls,T=x.values,M=x.generateConfig,R=x.locale,N=x.onSelect,F=x.onHover,B=F===void 0?function(){}:F,V=x.pickerValue,j=(T==null?void 0:T[0])||null,H=s.useContext(xh),U=H.onCellDblClick,K=Ev(M,e,j),Y=(0,ve.Z)(K,5),q=Y[0],Q=Y[1],re=Y[2],ae=Y[3],se=Y[4],de=function(Kn){var vr=j&&M[Kn](j),Jr=V&&M[Kn](V);return[vr,Jr]},pe=de("getHour"),ge=(0,ve.Z)(pe,2),me=ge[0],be=ge[1],_e=de("getMinute"),Ie=(0,ve.Z)(_e,2),Ce=Ie[0],Le=Ie[1],ze=de("getSecond"),ke=(0,ve.Z)(ze,2),Ze=ke[0],je=ke[1],Ue=de("getMillisecond"),He=(0,ve.Z)(Ue,2),Qe=He[0],We=He[1],it=me===null?null:Sf(me)?"am":"pm",Je=s.useMemo(function(){return g?Sf(me)?Q.filter(function(Gt){return Sf(Gt.value)}):Q.filter(function(Gt){return!Sf(Gt.value)}):Q},[me,Q,g]),wt=function(Kn,vr){var Jr,Hi=Kn.filter(function(Gi){return!Gi.disabled});return vr!=null?vr:Hi==null||(Jr=Hi[0])===null||Jr===void 0?void 0:Jr.value},Dt=wt(Q,me),ct=s.useMemo(function(){return re(Dt)},[re,Dt]),ht=wt(ct,Ce),ut=s.useMemo(function(){return ae(Dt,ht)},[ae,Dt,ht]),tt=wt(ut,Ze),xt=s.useMemo(function(){return se(Dt,ht,tt)},[se,Dt,ht,tt]),_t=wt(xt,Qe),dn=s.useMemo(function(){if(!g)return[];var Gt=M.getNow(),Kn=M.setHour(Gt,6),vr=M.setHour(Gt,18),Jr=function(Gi,Zi){var Fa=R.cellMeridiemFormat;return Fa?_c(Gi,{generateConfig:M,locale:R,format:Fa}):Zi};return[{label:Jr(Kn,"AM"),value:"am",disabled:Q.every(function(Hi){return Hi.disabled||!Sf(Hi.value)})},{label:Jr(vr,"PM"),value:"pm",disabled:Q.every(function(Hi){return Hi.disabled||Sf(Hi.value)})}]},[Q,g,M,R]),on=function(Kn){var vr=q(Kn);N(vr)},Ut=s.useMemo(function(){var Gt=j||V||M.getNow(),Kn=function(Jr){return Jr!=null};return Kn(me)?(Gt=M.setHour(Gt,me),Gt=M.setMinute(Gt,Ce),Gt=M.setSecond(Gt,Ze),Gt=M.setMillisecond(Gt,Qe)):Kn(be)?(Gt=M.setHour(Gt,be),Gt=M.setMinute(Gt,Le),Gt=M.setSecond(Gt,je),Gt=M.setMillisecond(Gt,We)):Kn(Dt)&&(Gt=M.setHour(Gt,Dt),Gt=M.setMinute(Gt,ht),Gt=M.setSecond(Gt,tt),Gt=M.setMillisecond(Gt,_t)),Gt},[j,V,me,Ce,Ze,Qe,Dt,ht,tt,_t,be,Le,je,We,M]),en=function(Kn,vr){return Kn===null?null:M[vr](Ut,Kn)},kt=function(Kn){return en(Kn,"setHour")},cn=function(Kn){return en(Kn,"setMinute")},zn=function(Kn){return en(Kn,"setSecond")},An=function(Kn){return en(Kn,"setMillisecond")},sr=function(Kn){return Kn===null?null:Kn==="am"&&!Sf(me)?M.setHour(Ut,me-12):Kn==="pm"&&Sf(me)?M.setHour(Ut,me+12):Ut},yr=function(Kn){on(kt(Kn))},Vr=function(Kn){on(cn(Kn))},Qn=function(Kn){on(zn(Kn))},Un=function(Kn){on(An(Kn))},er=function(Kn){on(sr(Kn))},Ir=function(Kn){B(kt(Kn))},pr=function(Kn){B(cn(Kn))},Zr=function(Kn){B(zn(Kn))},xn=function(Kn){B(An(Kn))},fn=function(Kn){B(sr(Kn))},yn={onDblClick:U,changeOnScroll:_};return s.createElement("div",{className:"".concat(S,"-content")},t&&s.createElement(Gg,(0,Pt.Z)({units:Je,value:me,optionalValue:be,type:"hour",onChange:yr,onHover:Ir},yn)),o&&s.createElement(Gg,(0,Pt.Z)({units:ct,value:Ce,optionalValue:Le,type:"minute",onChange:Vr,onHover:pr},yn)),i&&s.createElement(Gg,(0,Pt.Z)({units:ut,value:Ze,optionalValue:je,type:"second",onChange:Qn,onHover:Zr},yn)),u&&s.createElement(Gg,(0,Pt.Z)({units:xt,value:Qe,optionalValue:We,type:"millisecond",onChange:Un,onHover:xn},yn)),g&&s.createElement(Gg,(0,Pt.Z)({units:dn,value:it,type:"meridiem",onChange:er,onHover:fn},yn)))}function Tv(e){var t=e.prefixCls,o=e.value,i=e.locale,u=e.generateConfig,g=e.showTime,_=g||{},x=_.format,S="".concat(t,"-time-panel"),T=xm(e,"time"),M=(0,ve.Z)(T,1),R=M[0];return s.createElement(hp.Provider,{value:R},s.createElement("div",{className:oe()(S)},s.createElement(Cm,null,o?_c(o,{locale:i,format:x,generateConfig:u}):"\xA0"),s.createElement(k_,g)))}function Px(e){var t=e.prefixCls,o=e.generateConfig,i=e.showTime,u=e.onSelect,g=e.value,_=e.pickerValue,x=e.onHover,S="".concat(t,"-datetime-panel"),T=Ev(o,i),M=(0,ve.Z)(T,1),R=M[0],N=function(j){return g?Fg(o,j,g):Fg(o,j,_)},F=function(j){x==null||x(j&&N(j))},B=function(j){var H=N(j);u(R(H,H))};return s.createElement("div",{className:S},s.createElement(Wg,(0,Pt.Z)({},e,{onSelect:B,onHover:F})),s.createElement(Tv,e))}function Xg(e){var t=e.prefixCls,o=e.locale,i=e.generateConfig,u=e.pickerValue,g=e.disabledDate,_=e.onPickerValueChange,x="".concat(t,"-decade-panel"),S=xm(e,"decade"),T=(0,ve.Z)(S,1),M=T[0],R=function(Q){var re=Math.floor(i.getYear(Q)/100)*100;return i.setYear(Q,re)},N=function(Q){var re=R(Q);return i.addYear(re,99)},F=R(u),B=N(u),V=i.addYear(F,-10),j=function(Q,re){return i.addYear(Q,re*10)},H=function(Q){var re=o.cellYearFormat,ae=_c(Q,{locale:o,format:re,generateConfig:i}),se=_c(i.addYear(Q,9),{locale:o,format:re,generateConfig:i});return"".concat(ae,"-").concat(se)},U=function(Q){return(0,Ee.Z)({},"".concat(t,"-cell-in-view"),up(i,Q,F)||up(i,Q,B)||xv(i,F,B,Q))},K=g?function(q,Q){var re=i.setDate(q,1),ae=i.setMonth(re,0),se=i.setYear(ae,Math.floor(i.getYear(ae)/10)*10),de=i.addYear(se,10),pe=i.addDate(de,-1);return g(se,Q)&&g(pe,Q)}:null,Y="".concat(_c(F,{locale:o,format:o.yearFormat,generateConfig:i}),"-").concat(_c(B,{locale:o,format:o.yearFormat,generateConfig:i}));return s.createElement(hp.Provider,{value:M},s.createElement("div",{className:x},s.createElement(Cm,{superOffset:function(Q){return i.addYear(u,Q*100)},onChange:_,getStart:R,getEnd:N},Y),s.createElement(Hg,(0,Pt.Z)({},e,{disabledDate:K,colNum:3,rowNum:4,baseDate:V,getCellDate:j,getCellText:H,getCellClassName:U}))))}function j_(e){var t=e.prefixCls,o=e.locale,i=e.generateConfig,u=e.pickerValue,g=e.disabledDate,_=e.onPickerValueChange,x=e.onModeChange,S="".concat(t,"-month-panel"),T=xm(e,"month"),M=(0,ve.Z)(T,1),R=M[0],N=i.setMonth(u,0),F=o.shortMonths||(i.locale.getShortMonths?i.locale.getShortMonths(o.locale):[]),B=function(Y,q){return i.addMonth(Y,q)},V=function(Y){var q=i.getMonth(Y);return o.monthFormat?_c(Y,{locale:o,format:o.monthFormat,generateConfig:i}):F[q]},j=function(){return(0,Ee.Z)({},"".concat(t,"-cell-in-view"),!0)},H=g?function(K,Y){var q=i.setDate(K,1),Q=i.setMonth(q,i.getMonth(q)+1),re=i.addDate(Q,-1);return g(q,Y)&&g(re,Y)}:null,U=s.createElement("button",{type:"button",key:"year","aria-label":o.yearSelect,onClick:function(){x("year")},tabIndex:-1,className:"".concat(t,"-year-btn")},_c(u,{locale:o,format:o.yearFormat,generateConfig:i}));return s.createElement(hp.Provider,{value:R},s.createElement("div",{className:S},s.createElement(Cm,{superOffset:function(Y){return i.addYear(u,Y)},onChange:_,getStart:function(Y){return i.setMonth(Y,0)},getEnd:function(Y){return i.setMonth(Y,11)}},U),s.createElement(Hg,(0,Pt.Z)({},e,{disabledDate:H,titleFormat:o.fieldMonthFormat,colNum:3,rowNum:4,baseDate:N,getCellDate:B,getCellText:V,getCellClassName:j}))))}function Ox(e){var t=e.prefixCls,o=e.locale,i=e.generateConfig,u=e.pickerValue,g=e.onPickerValueChange,_=e.onModeChange,x="".concat(t,"-quarter-panel"),S=xm(e,"quarter"),T=(0,ve.Z)(S,1),M=T[0],R=i.setMonth(u,0),N=function(H,U){return i.addMonth(H,U*3)},F=function(H){return _c(H,{locale:o,format:o.cellQuarterFormat,generateConfig:i})},B=function(){return(0,Ee.Z)({},"".concat(t,"-cell-in-view"),!0)},V=s.createElement("button",{type:"button",key:"year","aria-label":o.yearSelect,onClick:function(){_("year")},tabIndex:-1,className:"".concat(t,"-year-btn")},_c(u,{locale:o,format:o.yearFormat,generateConfig:i}));return s.createElement(hp.Provider,{value:M},s.createElement("div",{className:x},s.createElement(Cm,{superOffset:function(H){return i.addYear(u,H)},onChange:g,getStart:function(H){return i.setMonth(H,0)},getEnd:function(H){return i.setMonth(H,11)}},V),s.createElement(Hg,(0,Pt.Z)({},e,{titleFormat:o.fieldQuarterFormat,colNum:4,rowNum:1,baseDate:R,getCellDate:N,getCellText:F,getCellClassName:B}))))}function c(e){var t=e.prefixCls,o=e.generateConfig,i=e.locale,u=e.value,g=e.hoverValue,_=e.hoverRangeValue,x=i.locale,S="".concat(t,"-week-panel-row"),T=function(R){var N={};if(_){var F=(0,ve.Z)(_,2),B=F[0],V=F[1],j=Gc(o,x,B,R),H=Gc(o,x,V,R);N["".concat(S,"-range-start")]=j,N["".concat(S,"-range-end")]=H,N["".concat(S,"-range-hover")]=!j&&!H&&xv(o,B,V,R)}return g&&(N["".concat(S,"-hover")]=g.some(function(U){return Gc(o,x,R,U)})),oe()(S,(0,Ee.Z)({},"".concat(S,"-selected"),!_&&Gc(o,x,u,R)),N)};return s.createElement(Wg,(0,Pt.Z)({},e,{mode:"week",panelName:"week",rowClassName:T}))}function n(e){var t=e.prefixCls,o=e.locale,i=e.generateConfig,u=e.pickerValue,g=e.disabledDate,_=e.onPickerValueChange,x=e.onModeChange,S="".concat(t,"-year-panel"),T=xm(e,"year"),M=(0,ve.Z)(T,1),R=M[0],N=function(re){var ae=Math.floor(i.getYear(re)/10)*10;return i.setYear(re,ae)},F=function(re){var ae=N(re);return i.addYear(ae,9)},B=N(u),V=F(u),j=i.addYear(B,-1),H=function(re,ae){return i.addYear(re,ae)},U=function(re){return _c(re,{locale:o,format:o.cellYearFormat,generateConfig:i})},K=function(re){return(0,Ee.Z)({},"".concat(t,"-cell-in-view"),yh(i,re,B)||yh(i,re,V)||xv(i,B,V,re))},Y=g?function(Q,re){var ae=i.setMonth(Q,0),se=i.setDate(ae,1),de=i.addYear(se,1),pe=i.addDate(de,-1);return g(se,re)&&g(pe,re)}:null,q=s.createElement("button",{type:"button",key:"decade","aria-label":o.decadeSelect,onClick:function(){x("decade")},tabIndex:-1,className:"".concat(t,"-decade-btn")},_c(B,{locale:o,format:o.yearFormat,generateConfig:i}),"-",_c(V,{locale:o,format:o.yearFormat,generateConfig:i}));return s.createElement(hp.Provider,{value:R},s.createElement("div",{className:S},s.createElement(Cm,{superOffset:function(re){return i.addYear(u,re*10)},onChange:_,getStart:N,getEnd:F},q),s.createElement(Hg,(0,Pt.Z)({},e,{disabledDate:Y,titleFormat:o.fieldYearFormat,colNum:3,rowNum:4,baseDate:j,getCellDate:H,getCellText:U,getCellClassName:K}))))}var a={date:Wg,datetime:Px,week:c,month:j_,quarter:Ox,year:n,decade:Xg,time:Tv};function f(e,t){var o,i=e.locale,u=e.generateConfig,g=e.direction,_=e.prefixCls,x=e.tabIndex,S=x===void 0?0:x,T=e.multiple,M=e.defaultValue,R=e.value,N=e.onChange,F=e.onSelect,B=e.defaultPickerValue,V=e.pickerValue,j=e.onPickerValueChange,H=e.mode,U=e.onPanelChange,K=e.picker,Y=K===void 0?"date":K,q=e.showTime,Q=e.hoverValue,re=e.hoverRangeValue,ae=e.cellRender,se=e.dateRender,de=e.monthCellRender,pe=e.components,ge=pe===void 0?{}:pe,me=e.hideHeader,be=((o=s.useContext(iu))===null||o===void 0?void 0:o.prefixCls)||_||"rc-picker",_e=s.useRef();s.useImperativeHandle(t,function(){return{nativeElement:_e.current}});var Ie=Cx(e),Ce=(0,ve.Z)(Ie,4),Le=Ce[0],ze=Ce[1],ke=Ce[2],Ze=Ce[3],je=T_(i,ze),Ue=Y==="date"&&q?"datetime":Y,He=s.useMemo(function(){return P_(Ue,ke,Ze,Le,je)},[Ue,ke,Ze,Le,je]),Qe=u.getNow(),We=(0,Qi.C8)(Y,{value:H,postState:function(fn){return fn||"date"}}),it=(0,ve.Z)(We,2),Je=it[0],wt=it[1],Dt=Je==="date"&&He?"datetime":Je,ct=Iv(u,i,Ue),ht=(0,Qi.C8)(M,{value:R}),ut=(0,ve.Z)(ht,2),tt=ut[0],xt=ut[1],_t=s.useMemo(function(){var xn=cp(tt).filter(function(fn){return fn});return T?xn:xn.slice(0,1)},[tt,T]),dn=(0,Qi.zX)(function(xn){xt(xn),N&&(xn===null||_t.length!==xn.length||_t.some(function(fn,yn){return!Lc(u,i,fn,xn[yn],Ue)}))&&(N==null||N(T?xn:xn[0]))}),on=(0,Qi.zX)(function(xn){if(F==null||F(xn),Je===Y){var fn=T?ct(_t,xn):[xn];dn(fn)}}),Ut=(0,Qi.C8)(B||_t[0]||Qe,{value:V}),en=(0,ve.Z)(Ut,2),kt=en[0],cn=en[1];s.useEffect(function(){_t[0]&&!V&&cn(_t[0])},[_t[0]]);var zn=function(fn,yn){U==null||U(fn||V,yn||Je)},An=function(fn){var yn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;cn(fn),j==null||j(fn),yn&&zn(fn)},sr=function(fn,yn){wt(fn),yn&&An(yn),zn(yn,fn)},yr=function(fn){if(on(fn),An(fn),Je!==Y){var yn=["decade","year"],Gt=[].concat(yn,["month"]),Kn={quarter:[].concat(yn,["quarter"]),week:[].concat((0,Be.Z)(Gt),["week"]),date:[].concat((0,Be.Z)(Gt),["date"])},vr=Kn[Y]||Gt,Jr=vr.indexOf(Je),Hi=vr[Jr+1];Hi&&sr(Hi,fn)}},Vr=s.useMemo(function(){var xn,fn;if(Array.isArray(re)){var yn=(0,ve.Z)(re,2);xn=yn[0],fn=yn[1]}else xn=re;return!xn&&!fn?null:(xn=xn||fn,fn=fn||xn,u.isAfter(xn,fn)?[fn,xn]:[xn,fn])},[re,u]),Qn=I_(ae,se,de),Un=ge[Dt]||a[Dt]||Wg,er=s.useContext(xh),Ir=s.useMemo(function(){return(0,fe.Z)((0,fe.Z)({},er),{},{hideHeader:me})},[er,me]),pr="".concat(be,"-panel"),Zr=_v(e,["showWeek","prevIcon","nextIcon","superPrevIcon","superNextIcon","disabledDate","minDate","maxDate","onHover"]);return s.createElement(xh.Provider,{value:Ir},s.createElement("div",{ref:_e,tabIndex:S,className:oe()(pr,(0,Ee.Z)({},"".concat(pr,"-rtl"),g==="rtl"))},s.createElement(Un,(0,Pt.Z)({},Zr,{showTime:He,prefixCls:be,locale:je,generateConfig:u,onModeChange:sr,pickerValue:kt,onPickerValueChange:function(fn){An(fn,!0)},value:_t[0],onSelect:yr,values:_t,cellRender:Qn,hoverRangeValue:Vr,hoverValue:Q}))))}var v=s.memo(s.forwardRef(f)),h=v;function y(e){var t=e.picker,o=e.multiplePanel,i=e.pickerValue,u=e.onPickerValueChange,g=e.needConfirm,_=e.onSubmit,x=e.range,S=e.hoverValue,T=s.useContext(iu),M=T.prefixCls,R=T.generateConfig,N=s.useCallback(function(U,K){return bh(R,t,U,K)},[R,t]),F=s.useMemo(function(){return N(i,1)},[i,N]),B=function(K){u(N(K,-1))},V={onCellDblClick:function(){g&&_()}},j=t==="time",H=(0,fe.Z)((0,fe.Z)({},e),{},{hoverValue:null,hoverRangeValue:null,hideHeader:j});return x?H.hoverRangeValue=S:H.hoverValue=S,o?s.createElement("div",{className:"".concat(M,"-panels")},s.createElement(xh.Provider,{value:(0,fe.Z)((0,fe.Z)({},V),{},{hideNext:!0})},s.createElement(h,H)),s.createElement(xh.Provider,{value:(0,fe.Z)((0,fe.Z)({},V),{},{hidePrev:!0})},s.createElement(h,(0,Pt.Z)({},H,{pickerValue:F,onPickerValueChange:B})))):s.createElement(xh.Provider,{value:(0,fe.Z)({},V)},s.createElement(h,H))}function E(e){return typeof e=="function"?e():e}function O(e){var t=e.prefixCls,o=e.presets,i=e.onClick,u=e.onHover;return o.length?s.createElement("div",{className:"".concat(t,"-presets")},s.createElement("ul",null,o.map(function(g,_){var x=g.label,S=g.value;return s.createElement("li",{key:_,onClick:function(){i(E(S))},onMouseEnter:function(){u(E(S))},onMouseLeave:function(){u(null)}},x)}))):null}function L(e){var t=e.panelRender,o=e.internalMode,i=e.picker,u=e.showNow,g=e.range,_=e.multiple,x=e.activeInfo,S=x===void 0?[0,0,0]:x,T=e.presets,M=e.onPresetHover,R=e.onPresetSubmit,N=e.onFocus,F=e.onBlur,B=e.onPanelMouseDown,V=e.direction,j=e.value,H=e.onSelect,U=e.isInvalid,K=e.defaultOpenValue,Y=e.onOk,q=e.onSubmit,Q=s.useContext(iu),re=Q.prefixCls,ae="".concat(re,"-panel"),se=V==="rtl",de=s.useRef(null),pe=s.useRef(null),ge=s.useState(0),me=(0,ve.Z)(ge,2),be=me[0],_e=me[1],Ie=s.useState(0),Ce=(0,ve.Z)(Ie,2),Le=Ce[0],ze=Ce[1],ke=s.useState(0),Ze=(0,ve.Z)(ke,2),je=Ze[0],Ue=Ze[1],He=function(yr){yr.width&&_e(yr.width)},Qe=(0,ve.Z)(S,3),We=Qe[0],it=Qe[1],Je=Qe[2],wt=s.useState(0),Dt=(0,ve.Z)(wt,2),ct=Dt[0],ht=Dt[1];s.useEffect(function(){ht(10)},[We]),s.useEffect(function(){if(g&&pe.current){var sr,yr=((sr=de.current)===null||sr===void 0?void 0:sr.offsetWidth)||0,Vr=pe.current.getBoundingClientRect();if(!Vr.height||Vr.right<0){ht(function(Ir){return Math.max(0,Ir-1)});return}var Qn=(se?it-yr:We)-Vr.left;if(Ue(Qn),be&&be<Je){var Un=se?Vr.right-(it-yr+be):We+yr-Vr.left-be,er=Math.max(0,Un);ze(er)}else ze(0)}},[ct,se,be,We,it,Je,g]);function ut(sr){return sr.filter(function(yr){return yr})}var tt=s.useMemo(function(){return ut(cp(j))},[j]),xt=i==="time"&&!tt.length,_t=s.useMemo(function(){return xt?ut([K]):tt},[xt,tt,K]),dn=xt?K:tt,on=s.useMemo(function(){return _t.length?_t.some(function(sr){return U(sr)}):!0},[_t,U]),Ut=function(){xt&&H(K),Y(),q()},en=s.createElement("div",{className:"".concat(re,"-panel-layout")},s.createElement(O,{prefixCls:re,presets:T,onClick:R,onHover:M}),s.createElement("div",null,s.createElement(y,(0,Pt.Z)({},e,{value:dn})),s.createElement(fp,(0,Pt.Z)({},e,{showNow:_?!1:u,invalid:on,onSubmit:Ut}))));t&&(en=t(en));var kt="".concat(ae,"-container"),cn="marginLeft",zn="marginRight",An=s.createElement("div",{onMouseDown:B,tabIndex:-1,className:oe()(kt,"".concat(re,"-").concat(o,"-panel-container")),style:(0,Ee.Z)((0,Ee.Z)({},se?zn:cn,Le),se?cn:zn,"auto"),onFocus:N,onBlur:F},en);return g&&(An=s.createElement("div",{onMouseDown:B,ref:pe,className:oe()("".concat(re,"-range-wrapper"),"".concat(re,"-").concat(i,"-range-wrapper"))},s.createElement("div",{ref:de,className:"".concat(re,"-range-arrow"),style:{left:je}}),s.createElement(d.Z,{onResize:He},An))),An}function C(e,t){var o=e.format,i=e.maskFormat,u=e.generateConfig,g=e.locale,_=e.preserveInvalidOnBlur,x=e.inputReadOnly,S=e.required,T=e["aria-required"],M=e.onSubmit,R=e.onFocus,N=e.onBlur,F=e.onInputChange,B=e.onInvalid,V=e.open,j=e.onOpenChange,H=e.onKeyDown,U=e.onChange,K=e.activeHelp,Y=e.name,q=e.autoComplete,Q=e.id,re=e.value,ae=e.invalid,se=e.placeholder,de=e.disabled,pe=e.activeIndex,ge=e.allHelp,me=e.picker,be=function(je,Ue){var He=u.locale.parse(g.locale,je,[Ue]);return He&&u.isValidate(He)?He:null},_e=o[0],Ie=s.useCallback(function(Ze){return _c(Ze,{locale:g,format:_e,generateConfig:u})},[g,u,_e]),Ce=s.useMemo(function(){return re.map(Ie)},[re,Ie]),Le=s.useMemo(function(){var Ze=me==="time"?8:10,je=typeof _e=="function"?_e(u.getNow()).length:_e.length;return Math.max(Ze,je)+2},[_e,me,u]),ze=function(je){for(var Ue=0;Ue<o.length;Ue+=1){var He=o[Ue];if(typeof He=="string"){var Qe=be(je,He);if(Qe)return Qe}}return!1},ke=function(je){function Ue(We){return je!==void 0?We[je]:We}var He=(0,ir.Z)(e,{aria:!0,data:!0}),Qe=(0,fe.Z)((0,fe.Z)({},He),{},{format:i,validateFormat:function(it){return!!ze(it)},preserveInvalidOnBlur:_,readOnly:x,required:S,"aria-required":T,name:Y,autoComplete:q,size:Le,id:Ue(Q),value:Ue(Ce)||"",invalid:Ue(ae),placeholder:Ue(se),active:pe===je,helped:ge||K&&pe===je,disabled:Ue(de),onFocus:function(it){R(it,je)},onBlur:function(it){N(it,je)},onSubmit:M,onChange:function(it){F();var Je=ze(it);if(Je){B(!1,je),U(Je,je);return}B(!!it,je)},onHelp:function(){j(!0,{index:je})},onKeyDown:function(it){var Je=!1;if(H==null||H(it,function(){Je=!0}),!it.defaultPrevented&&!Je)switch(it.key){case"Escape":j(!1,{index:je});break;case"Enter":V||j(!0);break}}},t==null?void 0:t({valueTexts:Ce}));return Object.keys(Qe).forEach(function(We){Qe[We]===void 0&&delete Qe[We]}),Qe};return[ke,Ie]}var $=["onMouseEnter","onMouseLeave"];function z(e){return s.useMemo(function(){return _v(e,$)},[e])}var P=["icon","type"],A=["onClear"];function k(e){var t=e.icon,o=e.type,i=(0,Ve.Z)(e,P),u=s.useContext(iu),g=u.prefixCls;return t?s.createElement("span",(0,Pt.Z)({className:"".concat(g,"-").concat(o)},i),t):null}function X(e){var t=e.onClear,o=(0,Ve.Z)(e,A);return s.createElement(k,(0,Pt.Z)({},o,{type:"clear",role:"button",onMouseDown:function(u){u.preventDefault()},onClick:function(u){u.stopPropagation(),t()}}))}var ee=["YYYY","MM","DD","HH","mm","ss","SSS"],le="\u9867",ue=function(){function e(t){(0,ri.Z)(this,e),(0,Ee.Z)(this,"format",void 0),(0,Ee.Z)(this,"maskFormat",void 0),(0,Ee.Z)(this,"cells",void 0),(0,Ee.Z)(this,"maskCells",void 0),this.format=t;var o=ee.map(function(x){return"(".concat(x,")")}).join("|"),i=new RegExp(o,"g");this.maskFormat=t.replace(i,function(x){return le.repeat(x.length)});var u=new RegExp("(".concat(ee.join("|"),")")),g=(t.split(u)||[]).filter(function(x){return x}),_=0;this.cells=g.map(function(x){var S=ee.includes(x),T=_,M=_+x.length;return _=M,{text:x,mask:S,start:T,end:M}}),this.maskCells=this.cells.filter(function(x){return x.mask})}return(0,Ko.Z)(e,[{key:"getSelection",value:function(o){var i=this.maskCells[o]||{},u=i.start,g=i.end;return[u||0,g||0]}},{key:"match",value:function(o){for(var i=0;i<this.maskFormat.length;i+=1){var u=this.maskFormat[i],g=o[i];if(!g||u!==le&&u!==g)return!1}return!0}},{key:"size",value:function(){return this.maskCells.length}},{key:"getMaskCellIndex",value:function(o){for(var i=Number.MAX_SAFE_INTEGER,u=0,g=0;g<this.maskCells.length;g+=1){var _=this.maskCells[g],x=_.start,S=_.end;if(o>=x&&o<=S)return g;var T=Math.min(Math.abs(o-x),Math.abs(o-S));T<i&&(i=T,u=g)}return u}}]),e}();function ie(e){var t={YYYY:[0,9999,new Date().getFullYear()],MM:[1,12],DD:[1,31],HH:[0,23],mm:[0,59],ss:[0,59],SSS:[0,999]};return t[e]}var ye=["active","showActiveCls","suffixIcon","format","validateFormat","onChange","onInput","helped","onHelp","onSubmit","onKeyDown","preserveInvalidOnBlur","invalid","clearIcon"],Se=s.forwardRef(function(e,t){var o=e.active,i=e.showActiveCls,u=i===void 0?!0:i,g=e.suffixIcon,_=e.format,x=e.validateFormat,S=e.onChange,T=e.onInput,M=e.helped,R=e.onHelp,N=e.onSubmit,F=e.onKeyDown,B=e.preserveInvalidOnBlur,V=B===void 0?!1:B,j=e.invalid,H=e.clearIcon,U=(0,Ve.Z)(e,ye),K=e.value,Y=e.onFocus,q=e.onBlur,Q=e.onMouseUp,re=s.useContext(iu),ae=re.prefixCls,se=re.input,de=se===void 0?"input":se,pe="".concat(ae,"-input"),ge=s.useState(!1),me=(0,ve.Z)(ge,2),be=me[0],_e=me[1],Ie=s.useState(K),Ce=(0,ve.Z)(Ie,2),Le=Ce[0],ze=Ce[1],ke=s.useState(""),Ze=(0,ve.Z)(ke,2),je=Ze[0],Ue=Ze[1],He=s.useState(null),Qe=(0,ve.Z)(He,2),We=Qe[0],it=Qe[1],Je=s.useState(null),wt=(0,ve.Z)(Je,2),Dt=wt[0],ct=wt[1],ht=Le||"";s.useEffect(function(){ze(K)},[K]);var ut=s.useRef(),tt=s.useRef();s.useImperativeHandle(t,function(){return{nativeElement:ut.current,inputElement:tt.current,focus:function(fn){tt.current.focus(fn)},blur:function(){tt.current.blur()}}});var xt=s.useMemo(function(){return new ue(_||"")},[_]),_t=s.useMemo(function(){return M?[0,0]:xt.getSelection(We)},[xt,We,M]),dn=(0,ve.Z)(_t,2),on=dn[0],Ut=dn[1],en=function(fn){fn&&fn!==_&&fn!==K&&R()},kt=(0,Qi.zX)(function(xn){x(xn)&&S(xn),ze(xn),en(xn)}),cn=function(fn){if(!_){var yn=fn.target.value;en(yn),ze(yn),S(yn)}},zn=function(fn){var yn=fn.clipboardData.getData("text");x(yn)&&kt(yn)},An=s.useRef(!1),sr=function(){An.current=!0},yr=function(fn){var yn=fn.target,Gt=yn.selectionStart,Kn=xt.getMaskCellIndex(Gt);it(Kn),ct({}),Q==null||Q(fn),An.current=!1},Vr=function(fn){_e(!0),it(0),Ue(""),Y(fn)},Qn=function(fn){q(fn)},Un=function(fn){_e(!1),Qn(fn)};_h(o,function(){!o&&!V&&ze(K)});var er=function(fn){fn.key==="Enter"&&x(ht)&&N(),F==null||F(fn)},Ir=function(fn){er(fn);var yn=fn.key,Gt=null,Kn=null,vr=Ut-on,Jr=_.slice(on,Ut),Hi=function(Do){it(function(zo){var oo=zo+Do;return oo=Math.max(oo,0),oo=Math.min(oo,xt.size()-1),oo})},Gi=function(Do){var zo=ie(Jr),oo=(0,ve.Z)(zo,3),Uo=oo[0],ua=oo[1],xi=oo[2],Fi=ht.slice(on,Ut),Wr=Number(Fi);if(isNaN(Wr))return String(xi||(Do>0?Uo:ua));var gi=Wr+Do,Ci=ua-Uo+1;return String(Uo+(Ci+gi-Uo)%Ci)};switch(yn){case"Backspace":case"Delete":Gt="",Kn=Jr;break;case"ArrowLeft":Gt="",Hi(-1);break;case"ArrowRight":Gt="",Hi(1);break;case"ArrowUp":Gt="",Kn=Gi(1);break;case"ArrowDown":Gt="",Kn=Gi(-1);break;default:isNaN(Number(yn))||(Gt=je+yn,Kn=Gt);break}if(Gt!==null&&(Ue(Gt),Gt.length>=vr&&(Hi(1),Ue(""))),Kn!==null){var Zi=ht.slice(0,on)+E_(Kn,vr)+ht.slice(Ut);kt(Zi.slice(0,_.length))}ct({})},pr=s.useRef();(0,yt.Z)(function(){if(!(!be||!_||An.current)){if(!xt.match(ht)){kt(_);return}return tt.current.setSelectionRange(on,Ut),pr.current=(0,lt.Z)(function(){tt.current.setSelectionRange(on,Ut)}),function(){lt.Z.cancel(pr.current)}}},[xt,_,be,ht,We,on,Ut,Dt,kt]);var Zr=_?{onFocus:Vr,onBlur:Un,onKeyDown:Ir,onMouseDown:sr,onMouseUp:yr,onPaste:zn}:{};return s.createElement("div",{ref:ut,className:oe()(pe,(0,Ee.Z)((0,Ee.Z)({},"".concat(pe,"-active"),o&&u),"".concat(pe,"-placeholder"),M))},s.createElement(de,(0,Pt.Z)({ref:tt,"aria-invalid":j,autoComplete:"off"},U,{onKeyDown:er,onBlur:Qn},Zr,{value:ht,onChange:cn})),s.createElement(k,{type:"suffix",icon:g}),H)}),$e=Se,et=["id","prefix","clearIcon","suffixIcon","separator","activeIndex","activeHelp","allHelp","focused","onFocus","onBlur","onKeyDown","locale","generateConfig","placeholder","className","style","onClick","onClear","value","onChange","onSubmit","onInputChange","format","maskFormat","preserveInvalidOnBlur","onInvalid","disabled","invalid","inputReadOnly","direction","onOpenChange","onActiveInfo","placement","onMouseDown","required","aria-required","autoFocus","tabIndex"],Ye=["index"];function Xe(e,t){var o=e.id,i=e.prefix,u=e.clearIcon,g=e.suffixIcon,_=e.separator,x=_===void 0?"~":_,S=e.activeIndex,T=e.activeHelp,M=e.allHelp,R=e.focused,N=e.onFocus,F=e.onBlur,B=e.onKeyDown,V=e.locale,j=e.generateConfig,H=e.placeholder,U=e.className,K=e.style,Y=e.onClick,q=e.onClear,Q=e.value,re=e.onChange,ae=e.onSubmit,se=e.onInputChange,de=e.format,pe=e.maskFormat,ge=e.preserveInvalidOnBlur,me=e.onInvalid,be=e.disabled,_e=e.invalid,Ie=e.inputReadOnly,Ce=e.direction,Le=e.onOpenChange,ze=e.onActiveInfo,ke=e.placement,Ze=e.onMouseDown,je=e.required,Ue=e["aria-required"],He=e.autoFocus,Qe=e.tabIndex,We=(0,Ve.Z)(e,et),it=Ce==="rtl",Je=s.useContext(iu),wt=Je.prefixCls,Dt=s.useMemo(function(){if(typeof o=="string")return[o];var Qn=o||{};return[Qn.start,Qn.end]},[o]),ct=s.useRef(),ht=s.useRef(),ut=s.useRef(),tt=function(Un){var er;return(er=[ht,ut][Un])===null||er===void 0?void 0:er.current};s.useImperativeHandle(t,function(){return{nativeElement:ct.current,focus:function(Un){if((0,Tt.Z)(Un)==="object"){var er,Ir=Un||{},pr=Ir.index,Zr=pr===void 0?0:pr,xn=(0,Ve.Z)(Ir,Ye);(er=tt(Zr))===null||er===void 0||er.focus(xn)}else{var fn;(fn=tt(Un!=null?Un:0))===null||fn===void 0||fn.focus()}},blur:function(){var Un,er;(Un=tt(0))===null||Un===void 0||Un.blur(),(er=tt(1))===null||er===void 0||er.blur()}}});var xt=z(We),_t=s.useMemo(function(){return Array.isArray(H)?H:[H,H]},[H]),dn=C((0,fe.Z)((0,fe.Z)({},e),{},{id:Dt,placeholder:_t})),on=(0,ve.Z)(dn,1),Ut=on[0],en=s.useState({position:"absolute",width:0}),kt=(0,ve.Z)(en,2),cn=kt[0],zn=kt[1],An=(0,Qi.zX)(function(){var Qn=tt(S);if(Qn){var Un=Qn.nativeElement.getBoundingClientRect(),er=ct.current.getBoundingClientRect(),Ir=Un.left-er.left;zn(function(pr){return(0,fe.Z)((0,fe.Z)({},pr),{},{width:Un.width,left:Ir})}),ze([Un.left,Un.right,er.width])}});s.useEffect(function(){An()},[S]);var sr=u&&(Q[0]&&!be[0]||Q[1]&&!be[1]),yr=He&&!be[0],Vr=He&&!yr&&!be[1];return s.createElement(d.Z,{onResize:An},s.createElement("div",(0,Pt.Z)({},xt,{className:oe()(wt,"".concat(wt,"-range"),(0,Ee.Z)((0,Ee.Z)((0,Ee.Z)((0,Ee.Z)({},"".concat(wt,"-focused"),R),"".concat(wt,"-disabled"),be.every(function(Qn){return Qn})),"".concat(wt,"-invalid"),_e.some(function(Qn){return Qn})),"".concat(wt,"-rtl"),it),U),style:K,ref:ct,onClick:Y,onMouseDown:function(Un){var er=Un.target;er!==ht.current.inputElement&&er!==ut.current.inputElement&&Un.preventDefault(),Ze==null||Ze(Un)}}),i&&s.createElement("div",{className:"".concat(wt,"-prefix")},i),s.createElement($e,(0,Pt.Z)({ref:ht},Ut(0),{autoFocus:yr,tabIndex:Qe,"date-range":"start"})),s.createElement("div",{className:"".concat(wt,"-range-separator")},x),s.createElement($e,(0,Pt.Z)({ref:ut},Ut(1),{autoFocus:Vr,tabIndex:Qe,"date-range":"end"})),s.createElement("div",{className:"".concat(wt,"-active-bar"),style:cn}),s.createElement(k,{type:"suffix",icon:g}),sr&&s.createElement(X,{icon:u,onClear:q})))}var Ct=s.forwardRef(Xe),at=Ct;function St(e,t){var o=e!=null?e:t;return Array.isArray(o)?o:[o,o]}function At(e){return e===1?"end":"start"}function $t(e,t){var o=_m(e,function(){var ao=e.disabled,ra=e.allowEmpty,ts=St(ao,!1),Ns=St(ra,!1);return{disabled:ts,allowEmpty:Ns}}),i=(0,ve.Z)(o,6),u=i[0],g=i[1],_=i[2],x=i[3],S=i[4],T=i[5],M=u.prefixCls,R=u.styles,N=u.classNames,F=u.defaultValue,B=u.value,V=u.needConfirm,j=u.onKeyDown,H=u.disabled,U=u.allowEmpty,K=u.disabledDate,Y=u.minDate,q=u.maxDate,Q=u.defaultOpen,re=u.open,ae=u.onOpenChange,se=u.locale,de=u.generateConfig,pe=u.picker,ge=u.showNow,me=u.showToday,be=u.showTime,_e=u.mode,Ie=u.onPanelChange,Ce=u.onCalendarChange,Le=u.onOk,ze=u.defaultPickerValue,ke=u.pickerValue,Ze=u.onPickerValueChange,je=u.inputReadOnly,Ue=u.suffixIcon,He=u.onFocus,Qe=u.onBlur,We=u.presets,it=u.ranges,Je=u.components,wt=u.cellRender,Dt=u.dateRender,ct=u.monthCellRender,ht=u.onClick,ut=dp(t),tt=Ru(re,Q,H,ae),xt=(0,ve.Z)(tt,2),_t=xt[0],dn=xt[1],on=function(ra,ts){(H.some(function(Ns){return!Ns})||!ra)&&dn(ra,ts)},Ut=N_(de,se,x,!0,!1,F,B,Ce,Le),en=(0,ve.Z)(Ut,5),kt=en[0],cn=en[1],zn=en[2],An=en[3],sr=en[4],yr=zn(),Vr=A_(H,U,_t),Qn=(0,ve.Z)(Vr,9),Un=Qn[0],er=Qn[1],Ir=Qn[2],pr=Qn[3],Zr=Qn[4],xn=Qn[5],fn=Qn[6],yn=Qn[7],Gt=Qn[8],Kn=function(ra,ts){er(!0),He==null||He(ra,{range:At(ts!=null?ts:pr)})},vr=function(ra,ts){er(!1),Qe==null||Qe(ra,{range:At(ts!=null?ts:pr)})},Jr=s.useMemo(function(){if(!be)return null;var ao=be.disabledTime,ra=ao?function(ts){var Ns=At(pr),Jl=vx(yr,fn,pr);return ao(ts,Ns,{from:Jl})}:void 0;return(0,fe.Z)((0,fe.Z)({},be),{},{disabledTime:ra})},[be,pr,yr,fn]),Hi=(0,Qi.C8)([pe,pe],{value:_e}),Gi=(0,ve.Z)(Hi,2),Zi=Gi[0],Fa=Gi[1],Do=Zi[pr]||pe,zo=Do==="date"&&Jr?"datetime":Do,oo=zo===pe&&zo!=="time",Uo=F_(pe,Do,ge,me,!0),ua=B_(u,kt,cn,zn,An,H,x,Un,_t,T),xi=(0,ve.Z)(ua,2),Fi=xi[0],Wr=xi[1],gi=Ex(yr,H,fn,de,se,K),Ci=ou(yr,T,U),Yi=(0,ve.Z)(Ci,2),xa=Yi[0],Pa=Yi[1],Fs=bm(de,se,yr,Zi,_t,pr,g,oo,ze,ke,Jr==null?void 0:Jr.defaultOpenValue,Ze,Y,q),Xi=(0,ve.Z)(Fs,2),Di=Xi[0],Si=Xi[1],Ii=(0,Qi.zX)(function(ao,ra,ts){var Ns=Ng(Zi,pr,ra);if((Ns[0]!==Zi[0]||Ns[1]!==Zi[1])&&Fa(Ns),Ie&&ts!==!1){var Jl=(0,Be.Z)(yr);ao&&(Jl[pr]=ao),Ie(Jl,Ns)}}),da=function(ra,ts){return Ng(yr,ts,ra)},Qa=function(ra,ts){var Ns=yr;ra&&(Ns=da(ra,pr)),yn(pr);var Jl=xn(Ns);An(Ns),Fi(pr,Jl===null),Jl===null?on(!1,{force:!0}):ts||ut.current.focus({index:Jl})},Wo=function(ra){var ts,Ns=ra.target.getRootNode();if(!ut.current.nativeElement.contains((ts=Ns.activeElement)!==null&&ts!==void 0?ts:document.activeElement)){var Jl=H.findIndex(function(Ep){return!Ep});Jl>=0&&ut.current.focus({index:Jl})}on(!0),ht==null||ht(ra)},lo=function(){Wr(null),on(!1,{force:!0})},va=s.useState(null),ka=(0,ve.Z)(va,2),Us=ka[0],Ti=ka[1],xr=s.useState(null),zi=(0,ve.Z)(xr,2),_o=zi[0],Sa=zi[1],vs=s.useMemo(function(){return _o||yr},[yr,_o]);s.useEffect(function(){_t||Sa(null)},[_t]);var Js=s.useState([0,0,0]),hs=(0,ve.Z)(Js,2),ho=hs[0],fa=hs[1],ja=wv(We,it),Ws=function(ra){Sa(ra),Ti("preset")},lc=function(ra){var ts=Wr(ra);ts&&on(!1,{force:!0})},Lu=function(ra){Qa(ra)},Ih=function(ra){Sa(ra?da(ra,pr):null),Ti("cell")},Th=function(ra){on(!0),Kn(ra)},kd=function(){Ir("panel")},jd=function(ra){var ts=Ng(yr,pr,ra);An(ts),!V&&!_&&g===zo&&Qa(ra)},dd=function(){on(!1)},Ps=I_(wt,Dt,ct,At(pr)),Lo=yr[pr]||null,as=(0,Qi.zX)(function(ao){return T(ao,{activeIndex:pr})}),Ki=s.useMemo(function(){var ao=(0,ir.Z)(u,!1),ra=(0,Er.Z)(u,[].concat((0,Be.Z)(Object.keys(ao)),["onChange","onCalendarChange","style","className","onPanelChange","disabledTime"]));return ra},[u]),eo=s.createElement(L,(0,Pt.Z)({},Ki,{showNow:Uo,showTime:Jr,range:!0,multiplePanel:oo,activeInfo:ho,disabledDate:gi,onFocus:Th,onBlur:vr,onPanelMouseDown:kd,picker:pe,mode:Do,internalMode:zo,onPanelChange:Ii,format:S,value:Lo,isInvalid:as,onChange:null,onSelect:jd,pickerValue:Di,defaultOpenValue:cp(be==null?void 0:be.defaultOpenValue)[pr],onPickerValueChange:Si,hoverValue:vs,onHover:Ih,needConfirm:V,onSubmit:Qa,onOk:sr,presets:ja,onPresetHover:Ws,onPresetSubmit:lc,onNow:Lu,cellRender:Ps})),ps=function(ra,ts){var Ns=da(ra,ts);An(Ns)},wl=function(){Ir("input")},cc=function(ra,ts){var Ns=fn.length,Jl=fn[Ns-1];if(Ns&&Jl!==ts&&V&&!U[Jl]&&!Gt(Jl)&&yr[Jl]){ut.current.focus({index:Jl});return}Ir("input"),on(!0,{inherit:!0}),pr!==ts&&_t&&!V&&_&&Qa(null,!0),Zr(ts),Kn(ra,ts)},vu=function(ra,ts){if(on(!1),!V&&Ir()==="input"){var Ns=xn(yr);Fi(pr,Ns===null)}vr(ra,ts)},Nu=function(ra,ts){ra.key==="Tab"&&Qa(null,!0),j==null||j(ra,ts)},Bu=s.useMemo(function(){return{prefixCls:M,locale:se,generateConfig:de,button:Je.button,input:Je.input}},[M,se,de,Je.button,Je.input]);if((0,yt.Z)(function(){_t&&pr!==void 0&&Ii(null,pe,!1)},[_t,pr,pe]),(0,yt.Z)(function(){var ao=Ir();!_t&&ao==="input"&&(on(!1),Qa(null,!0)),!_t&&_&&!V&&ao==="panel"&&(on(!0),Qa())},[_t]),0)var es;return s.createElement(iu.Provider,{value:Bu},s.createElement(mx,(0,Pt.Z)({},yx(u),{popupElement:eo,popupStyle:R.popup,popupClassName:N.popup,visible:_t,onClose:dd,range:!0}),s.createElement(at,(0,Pt.Z)({},u,{ref:ut,suffixIcon:Ue,activeIndex:Un||_t?pr:null,activeHelp:!!_o,allHelp:!!_o&&Us==="preset",focused:Un,onFocus:cc,onBlur:vu,onKeyDown:Nu,onSubmit:Qa,value:vs,maskFormat:S,onChange:ps,onInputChange:wl,format:x,inputReadOnly:je,disabled:H,open:_t,onOpenChange:on,onClick:Wo,onClear:lo,invalid:xa,onInvalid:Pa,onActiveInfo:fa}))))}var Ft=s.forwardRef($t),Yt=Ft;function un(e){var t=e.prefixCls,o=e.value,i=e.onRemove,u=e.removeIcon,g=u===void 0?"\xD7":u,_=e.formatDate,x=e.disabled,S=e.maxTagCount,T=e.placeholder,M="".concat(t,"-selector"),R="".concat(t,"-selection"),N="".concat(R,"-overflow");function F(j,H){return s.createElement("span",{className:oe()("".concat(R,"-item")),title:typeof j=="string"?j:null},s.createElement("span",{className:"".concat(R,"-item-content")},j),!x&&H&&s.createElement("span",{onMouseDown:function(K){K.preventDefault()},onClick:H,className:"".concat(R,"-item-remove")},g))}function B(j){var H=_(j),U=function(Y){Y&&Y.stopPropagation(),i(j)};return F(H,U)}function V(j){var H="+ ".concat(j.length," ...");return F(H)}return s.createElement("div",{className:M},s.createElement(Mn.Z,{prefixCls:N,data:o,renderItem:B,renderRest:V,itemKey:function(H){return _(H)},maxCount:S}),!o.length&&s.createElement("span",{className:"".concat(t,"-selection-placeholder")},T))}var Wt=["id","open","prefix","clearIcon","suffixIcon","activeHelp","allHelp","focused","onFocus","onBlur","onKeyDown","locale","generateConfig","placeholder","className","style","onClick","onClear","internalPicker","value","onChange","onSubmit","onInputChange","multiple","maxTagCount","format","maskFormat","preserveInvalidOnBlur","onInvalid","disabled","invalid","inputReadOnly","direction","onOpenChange","onMouseDown","required","aria-required","autoFocus","tabIndex","removeIcon"];function jn(e,t){var o=e.id,i=e.open,u=e.prefix,g=e.clearIcon,_=e.suffixIcon,x=e.activeHelp,S=e.allHelp,T=e.focused,M=e.onFocus,R=e.onBlur,N=e.onKeyDown,F=e.locale,B=e.generateConfig,V=e.placeholder,j=e.className,H=e.style,U=e.onClick,K=e.onClear,Y=e.internalPicker,q=e.value,Q=e.onChange,re=e.onSubmit,ae=e.onInputChange,se=e.multiple,de=e.maxTagCount,pe=e.format,ge=e.maskFormat,me=e.preserveInvalidOnBlur,be=e.onInvalid,_e=e.disabled,Ie=e.invalid,Ce=e.inputReadOnly,Le=e.direction,ze=e.onOpenChange,ke=e.onMouseDown,Ze=e.required,je=e["aria-required"],Ue=e.autoFocus,He=e.tabIndex,Qe=e.removeIcon,We=(0,Ve.Z)(e,Wt),it=Le==="rtl",Je=s.useContext(iu),wt=Je.prefixCls,Dt=s.useRef(),ct=s.useRef();s.useImperativeHandle(t,function(){return{nativeElement:Dt.current,focus:function(cn){var zn;(zn=ct.current)===null||zn===void 0||zn.focus(cn)},blur:function(){var cn;(cn=ct.current)===null||cn===void 0||cn.blur()}}});var ht=z(We),ut=function(cn){Q([cn])},tt=function(cn){var zn=q.filter(function(An){return An&&!Lc(B,F,An,cn,Y)});Q(zn),i||re()},xt=C((0,fe.Z)((0,fe.Z)({},e),{},{onChange:ut}),function(kt){var cn=kt.valueTexts;return{value:cn[0]||"",active:T}}),_t=(0,ve.Z)(xt,2),dn=_t[0],on=_t[1],Ut=!!(g&&q.length&&!_e),en=se?s.createElement(s.Fragment,null,s.createElement(un,{prefixCls:wt,value:q,onRemove:tt,formatDate:on,maxTagCount:de,disabled:_e,removeIcon:Qe,placeholder:V}),s.createElement("input",{className:"".concat(wt,"-multiple-input"),value:q.map(on).join(","),ref:ct,readOnly:!0,autoFocus:Ue,tabIndex:He}),s.createElement(k,{type:"suffix",icon:_}),Ut&&s.createElement(X,{icon:g,onClear:K})):s.createElement($e,(0,Pt.Z)({ref:ct},dn(),{autoFocus:Ue,tabIndex:He,suffixIcon:_,clearIcon:Ut&&s.createElement(X,{icon:g,onClear:K}),showActiveCls:!1}));return s.createElement("div",(0,Pt.Z)({},ht,{className:oe()(wt,(0,Ee.Z)((0,Ee.Z)((0,Ee.Z)((0,Ee.Z)((0,Ee.Z)({},"".concat(wt,"-multiple"),se),"".concat(wt,"-focused"),T),"".concat(wt,"-disabled"),_e),"".concat(wt,"-invalid"),Ie),"".concat(wt,"-rtl"),it),j),style:H,ref:Dt,onClick:U,onMouseDown:function(cn){var zn,An=cn.target;An!==((zn=ct.current)===null||zn===void 0?void 0:zn.inputElement)&&cn.preventDefault(),ke==null||ke(cn)}}),u&&s.createElement("div",{className:"".concat(wt,"-prefix")},u),en)}var cr=s.forwardRef(jn),kn=cr;function Yr(e,t){var o=_m(e),i=(0,ve.Z)(o,6),u=i[0],g=i[1],_=i[2],x=i[3],S=i[4],T=i[5],M=u,R=M.prefixCls,N=M.styles,F=M.classNames,B=M.order,V=M.defaultValue,j=M.value,H=M.needConfirm,U=M.onChange,K=M.onKeyDown,Y=M.disabled,q=M.disabledDate,Q=M.minDate,re=M.maxDate,ae=M.defaultOpen,se=M.open,de=M.onOpenChange,pe=M.locale,ge=M.generateConfig,me=M.picker,be=M.showNow,_e=M.showToday,Ie=M.showTime,Ce=M.mode,Le=M.onPanelChange,ze=M.onCalendarChange,ke=M.onOk,Ze=M.multiple,je=M.defaultPickerValue,Ue=M.pickerValue,He=M.onPickerValueChange,Qe=M.inputReadOnly,We=M.suffixIcon,it=M.removeIcon,Je=M.onFocus,wt=M.onBlur,Dt=M.presets,ct=M.components,ht=M.cellRender,ut=M.dateRender,tt=M.monthCellRender,xt=M.onClick,_t=dp(t);function dn(Ki){return Ki===null?null:Ze?Ki:Ki[0]}var on=Iv(ge,pe,g),Ut=Ru(se,ae,[Y],de),en=(0,ve.Z)(Ut,2),kt=en[0],cn=en[1],zn=function(eo,ps,wl){if(ze){var cc=(0,fe.Z)({},wl);delete cc.range,ze(dn(eo),dn(ps),cc)}},An=function(eo){ke==null||ke(dn(eo))},sr=N_(ge,pe,x,!1,B,V,j,zn,An),yr=(0,ve.Z)(sr,5),Vr=yr[0],Qn=yr[1],Un=yr[2],er=yr[3],Ir=yr[4],pr=Un(),Zr=A_([Y]),xn=(0,ve.Z)(Zr,4),fn=xn[0],yn=xn[1],Gt=xn[2],Kn=xn[3],vr=function(eo){yn(!0),Je==null||Je(eo,{})},Jr=function(eo){yn(!1),wt==null||wt(eo,{})},Hi=(0,Qi.C8)(me,{value:Ce}),Gi=(0,ve.Z)(Hi,2),Zi=Gi[0],Fa=Gi[1],Do=Zi==="date"&&Ie?"datetime":Zi,zo=F_(me,Zi,be,_e),oo=U&&function(Ki,eo){U(dn(Ki),dn(eo))},Uo=B_((0,fe.Z)((0,fe.Z)({},u),{},{onChange:oo}),Vr,Qn,Un,er,[],x,fn,kt,T),ua=(0,ve.Z)(Uo,2),xi=ua[1],Fi=ou(pr,T),Wr=(0,ve.Z)(Fi,2),gi=Wr[0],Ci=Wr[1],Yi=s.useMemo(function(){return gi.some(function(Ki){return Ki})},[gi]),xa=function(eo,ps){if(He){var wl=(0,fe.Z)((0,fe.Z)({},ps),{},{mode:ps.mode[0]});delete wl.range,He(eo[0],wl)}},Pa=bm(ge,pe,pr,[Zi],kt,Kn,g,!1,je,Ue,cp(Ie==null?void 0:Ie.defaultOpenValue),xa,Q,re),Fs=(0,ve.Z)(Pa,2),Xi=Fs[0],Di=Fs[1],Si=(0,Qi.zX)(function(Ki,eo,ps){if(Fa(eo),Le&&ps!==!1){var wl=Ki||pr[pr.length-1];Le(wl,eo)}}),Ii=function(){xi(Un()),cn(!1,{force:!0})},da=function(eo){!Y&&!_t.current.nativeElement.contains(document.activeElement)&&_t.current.focus(),cn(!0),xt==null||xt(eo)},Qa=function(){xi(null),cn(!1,{force:!0})},Wo=s.useState(null),lo=(0,ve.Z)(Wo,2),va=lo[0],ka=lo[1],Us=s.useState(null),Ti=(0,ve.Z)(Us,2),xr=Ti[0],zi=Ti[1],_o=s.useMemo(function(){var Ki=[xr].concat((0,Be.Z)(pr)).filter(function(eo){return eo});return Ze?Ki:Ki.slice(0,1)},[pr,xr,Ze]),Sa=s.useMemo(function(){return!Ze&&xr?[xr]:pr.filter(function(Ki){return Ki})},[pr,xr,Ze]);s.useEffect(function(){kt||zi(null)},[kt]);var vs=wv(Dt),Js=function(eo){zi(eo),ka("preset")},hs=function(eo){var ps=Ze?on(Un(),eo):[eo],wl=xi(ps);wl&&!Ze&&cn(!1,{force:!0})},ho=function(eo){hs(eo)},fa=function(eo){zi(eo),ka("cell")},ja=function(eo){cn(!0),vr(eo)},Ws=function(eo){if(Gt("panel"),!(Ze&&Do!==me)){var ps=Ze?on(Un(),eo):[eo];er(ps),!H&&!_&&g===Do&&Ii()}},lc=function(){cn(!1)},Lu=I_(ht,ut,tt),Ih=s.useMemo(function(){var Ki=(0,ir.Z)(u,!1),eo=(0,Er.Z)(u,[].concat((0,Be.Z)(Object.keys(Ki)),["onChange","onCalendarChange","style","className","onPanelChange"]));return(0,fe.Z)((0,fe.Z)({},eo),{},{multiple:u.multiple})},[u]),Th=s.createElement(L,(0,Pt.Z)({},Ih,{showNow:zo,showTime:Ie,disabledDate:q,onFocus:ja,onBlur:Jr,picker:me,mode:Zi,internalMode:Do,onPanelChange:Si,format:S,value:pr,isInvalid:T,onChange:null,onSelect:Ws,pickerValue:Xi,defaultOpenValue:Ie==null?void 0:Ie.defaultOpenValue,onPickerValueChange:Di,hoverValue:_o,onHover:fa,needConfirm:H,onSubmit:Ii,onOk:Ir,presets:vs,onPresetHover:Js,onPresetSubmit:hs,onNow:ho,cellRender:Lu})),kd=function(eo){er(eo)},jd=function(){Gt("input")},dd=function(eo){Gt("input"),cn(!0,{inherit:!0}),vr(eo)},Ps=function(eo){cn(!1),Jr(eo)},Lo=function(eo,ps){eo.key==="Tab"&&Ii(),K==null||K(eo,ps)},as=s.useMemo(function(){return{prefixCls:R,locale:pe,generateConfig:ge,button:ct.button,input:ct.input}},[R,pe,ge,ct.button,ct.input]);return(0,yt.Z)(function(){kt&&Kn!==void 0&&Si(null,me,!1)},[kt,Kn,me]),(0,yt.Z)(function(){var Ki=Gt();!kt&&Ki==="input"&&(cn(!1),Ii()),!kt&&_&&!H&&Ki==="panel"&&Ii()},[kt]),s.createElement(iu.Provider,{value:as},s.createElement(mx,(0,Pt.Z)({},yx(u),{popupElement:Th,popupStyle:N.popup,popupClassName:F.popup,visible:kt,onClose:lc}),s.createElement(kn,(0,Pt.Z)({},u,{ref:_t,suffixIcon:We,removeIcon:it,activeHelp:!!xr,allHelp:!!xr&&va==="preset",focused:fn,onFocus:dd,onBlur:Ps,onKeyDown:Lo,onSubmit:Ii,value:Sa,maskFormat:S,onChange:kd,onInputChange:jd,internalPicker:g,format:x,inputReadOnly:Qe,disabled:Y,open:kt,onOpenChange:cn,onClick:da,onClear:Qa,invalid:Yi,onInvalid:function(eo){Ci(eo,0)}}))))}var kr=s.forwardRef(Yr),br=kr,fr=br;const Mi=s.createContext(null),ti=Mi.Provider;var ui=Mi;const wo=s.createContext(null),na=wo.Provider;var la=["prefixCls","className","style","checked","disabled","defaultChecked","type","title","onChange"],ca=(0,s.forwardRef)(function(e,t){var o=e.prefixCls,i=o===void 0?"rc-checkbox":o,u=e.className,g=e.style,_=e.checked,x=e.disabled,S=e.defaultChecked,T=S===void 0?!1:S,M=e.type,R=M===void 0?"checkbox":M,N=e.title,F=e.onChange,B=(0,Ve.Z)(e,la),V=(0,s.useRef)(null),j=(0,s.useRef)(null),H=(0,Jo.Z)(T,{value:_}),U=(0,ve.Z)(H,2),K=U[0],Y=U[1];(0,s.useImperativeHandle)(t,function(){return{focus:function(ae){var se;(se=V.current)===null||se===void 0||se.focus(ae)},blur:function(){var ae;(ae=V.current)===null||ae===void 0||ae.blur()},input:V.current,nativeElement:j.current}});var q=oe()(i,u,(0,Ee.Z)((0,Ee.Z)({},"".concat(i,"-checked"),K),"".concat(i,"-disabled"),x)),Q=function(ae){x||("checked"in e||Y(ae.target.checked),F==null||F({target:(0,fe.Z)((0,fe.Z)({},e),{},{type:R,checked:ae.target.checked}),stopPropagation:function(){ae.stopPropagation()},preventDefault:function(){ae.preventDefault()},nativeEvent:ae.nativeEvent}))};return s.createElement("span",{className:q,title:N,style:g,ref:j},s.createElement("input",(0,Pt.Z)({},B,{className:"".concat(i,"-input"),ref:V,onChange:Q,disabled:x,checked:!!K,type:R})),s.createElement("span",{className:"".concat(i,"-inner")}))}),Ma=ca;function $a(e){const t=s.useRef(null),o=()=>{lt.Z.cancel(t.current),t.current=null};return[()=>{o(),t.current=(0,lt.Z)(()=>{t.current=null})},g=>{t.current&&(g.stopPropagation(),o()),e==null||e(g)}]}const Vs=e=>{const{componentCls:t,antCls:o}=e,i=`${t}-group`;return{[i]:Object.assign(Object.assign({},(0,mn.Wf)(e)),{display:"inline-block",fontSize:0,[`&${i}-rtl`]:{direction:"rtl"},[`&${i}-block`]:{display:"flex"},[`${o}-badge ${o}-badge-count`]:{zIndex:1},[`> ${o}-badge:not(:first-child) > ${o}-button-wrapper`]:{borderInlineStart:"none"}})}},Ms=e=>{const{componentCls:t,wrapperMarginInlineEnd:o,colorPrimary:i,radioSize:u,motionDurationSlow:g,motionDurationMid:_,motionEaseInOutCirc:x,colorBgContainer:S,colorBorder:T,lineWidth:M,colorBgContainerDisabled:R,colorTextDisabled:N,paddingXS:F,dotColorDisabled:B,lineType:V,radioColor:j,radioBgColor:H,calc:U}=e,K=`${t}-inner`,q=U(u).sub(U(4).mul(2)),Q=U(1).mul(u).equal({unit:!0});return{[`${t}-wrapper`]:Object.assign(Object.assign({},(0,mn.Wf)(e)),{display:"inline-flex",alignItems:"baseline",marginInlineStart:0,marginInlineEnd:o,cursor:"pointer","&:last-child":{marginInlineEnd:0},[`&${t}-wrapper-rtl`]:{direction:"rtl"},"&-disabled":{cursor:"not-allowed",color:e.colorTextDisabled},"&::after":{display:"inline-block",width:0,overflow:"hidden",content:'"\\a0"'},"&-block":{flex:1,justifyContent:"center"},[`${t}-checked::after`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:"100%",height:"100%",border:`${(0,J.bf)(M)} ${V} ${i}`,borderRadius:"50%",visibility:"hidden",opacity:0,content:'""'},[t]:Object.assign(Object.assign({},(0,mn.Wf)(e)),{position:"relative",display:"inline-block",outline:"none",cursor:"pointer",alignSelf:"center",borderRadius:"50%"}),[`${t}-wrapper:hover &,
        &:hover ${K}`]:{borderColor:i},[`${t}-input:focus-visible + ${K}`]:Object.assign({},(0,mn.oN)(e)),[`${t}:hover::after, ${t}-wrapper:hover &::after`]:{visibility:"visible"},[`${t}-inner`]:{"&::after":{boxSizing:"border-box",position:"absolute",insetBlockStart:"50%",insetInlineStart:"50%",display:"block",width:Q,height:Q,marginBlockStart:U(1).mul(u).div(-2).equal({unit:!0}),marginInlineStart:U(1).mul(u).div(-2).equal({unit:!0}),backgroundColor:j,borderBlockStart:0,borderInlineStart:0,borderRadius:Q,transform:"scale(0)",opacity:0,transition:`all ${g} ${x}`,content:'""'},boxSizing:"border-box",position:"relative",insetBlockStart:0,insetInlineStart:0,display:"block",width:Q,height:Q,backgroundColor:S,borderColor:T,borderStyle:"solid",borderWidth:M,borderRadius:"50%",transition:`all ${_}`},[`${t}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0},[`${t}-checked`]:{[K]:{borderColor:i,backgroundColor:H,"&::after":{transform:`scale(${e.calc(e.dotSize).div(u).equal()})`,opacity:1,transition:`all ${g} ${x}`}}},[`${t}-disabled`]:{cursor:"not-allowed",[K]:{backgroundColor:R,borderColor:T,cursor:"not-allowed","&::after":{backgroundColor:B}},[`${t}-input`]:{cursor:"not-allowed"},[`${t}-disabled + span`]:{color:N,cursor:"not-allowed"},[`&${t}-checked`]:{[K]:{"&::after":{transform:`scale(${U(q).div(u).equal()})`}}}},[`span${t} + *`]:{paddingInlineStart:F,paddingInlineEnd:F}})}},jo=e=>{const{buttonColor:t,controlHeight:o,componentCls:i,lineWidth:u,lineType:g,colorBorder:_,motionDurationSlow:x,motionDurationMid:S,buttonPaddingInline:T,fontSize:M,buttonBg:R,fontSizeLG:N,controlHeightLG:F,controlHeightSM:B,paddingXS:V,borderRadius:j,borderRadiusSM:H,borderRadiusLG:U,buttonCheckedBg:K,buttonSolidCheckedColor:Y,colorTextDisabled:q,colorBgContainerDisabled:Q,buttonCheckedBgDisabled:re,buttonCheckedColorDisabled:ae,colorPrimary:se,colorPrimaryHover:de,colorPrimaryActive:pe,buttonSolidCheckedBg:ge,buttonSolidCheckedHoverBg:me,buttonSolidCheckedActiveBg:be,calc:_e}=e;return{[`${i}-button-wrapper`]:{position:"relative",display:"inline-block",height:o,margin:0,paddingInline:T,paddingBlock:0,color:t,fontSize:M,lineHeight:(0,J.bf)(_e(o).sub(_e(u).mul(2)).equal()),background:R,border:`${(0,J.bf)(u)} ${g} ${_}`,borderBlockStartWidth:_e(u).add(.02).equal(),borderInlineStartWidth:0,borderInlineEndWidth:u,cursor:"pointer",transition:[`color ${S}`,`background ${S}`,`box-shadow ${S}`].join(","),a:{color:t},[`> ${i}-button`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,zIndex:-1,width:"100%",height:"100%"},"&:not(:first-child)":{"&::before":{position:"absolute",insetBlockStart:_e(u).mul(-1).equal(),insetInlineStart:_e(u).mul(-1).equal(),display:"block",boxSizing:"content-box",width:1,height:"100%",paddingBlock:u,paddingInline:0,backgroundColor:_,transition:`background-color ${x}`,content:'""'}},"&:first-child":{borderInlineStart:`${(0,J.bf)(u)} ${g} ${_}`,borderStartStartRadius:j,borderEndStartRadius:j},"&:last-child":{borderStartEndRadius:j,borderEndEndRadius:j},"&:first-child:last-child":{borderRadius:j},[`${i}-group-large &`]:{height:F,fontSize:N,lineHeight:(0,J.bf)(_e(F).sub(_e(u).mul(2)).equal()),"&:first-child":{borderStartStartRadius:U,borderEndStartRadius:U},"&:last-child":{borderStartEndRadius:U,borderEndEndRadius:U}},[`${i}-group-small &`]:{height:B,paddingInline:_e(V).sub(u).equal(),paddingBlock:0,lineHeight:(0,J.bf)(_e(B).sub(_e(u).mul(2)).equal()),"&:first-child":{borderStartStartRadius:H,borderEndStartRadius:H},"&:last-child":{borderStartEndRadius:H,borderEndEndRadius:H}},"&:hover":{position:"relative",color:se},"&:has(:focus-visible)":Object.assign({},(0,mn.oN)(e)),[`${i}-inner, input[type='checkbox'], input[type='radio']`]:{width:0,height:0,opacity:0,pointerEvents:"none"},[`&-checked:not(${i}-button-wrapper-disabled)`]:{zIndex:1,color:se,background:K,borderColor:se,"&::before":{backgroundColor:se},"&:first-child":{borderColor:se},"&:hover":{color:de,borderColor:de,"&::before":{backgroundColor:de}},"&:active":{color:pe,borderColor:pe,"&::before":{backgroundColor:pe}}},[`${i}-group-solid &-checked:not(${i}-button-wrapper-disabled)`]:{color:Y,background:ge,borderColor:ge,"&:hover":{color:Y,background:me,borderColor:me},"&:active":{color:Y,background:be,borderColor:be}},"&-disabled":{color:q,backgroundColor:Q,borderColor:_,cursor:"not-allowed","&:first-child, &:hover":{color:q,backgroundColor:Q,borderColor:_}},[`&-disabled${i}-button-wrapper-checked`]:{color:ae,backgroundColor:re,borderColor:_,boxShadow:"none"},"&-block":{flex:1,textAlign:"center"}}}},xs=e=>{const{wireframe:t,padding:o,marginXS:i,lineWidth:u,fontSizeLG:g,colorText:_,colorBgContainer:x,colorTextDisabled:S,controlItemBgActiveDisabled:T,colorTextLightSolid:M,colorPrimary:R,colorPrimaryHover:N,colorPrimaryActive:F,colorWhite:B}=e,V=4,j=g,H=t?j-V*2:j-(V+u)*2;return{radioSize:j,dotSize:H,dotColorDisabled:S,buttonSolidCheckedColor:M,buttonSolidCheckedBg:R,buttonSolidCheckedHoverBg:N,buttonSolidCheckedActiveBg:F,buttonBg:x,buttonCheckedBg:x,buttonColor:_,buttonCheckedBgDisabled:T,buttonCheckedColorDisabled:S,buttonPaddingInline:o-u,wrapperMarginInlineEnd:i,radioColor:t?R:B,radioBgColor:t?x:R}};var Cs=(0,Ae.I$)("Radio",e=>{const{controlOutline:t,controlOutlineWidth:o}=e,i=`0 0 0 ${(0,J.bf)(o)} ${t}`,u=i,g=(0,vn.IX)(e,{radioFocusShadow:i,radioButtonFocusShadow:u});return[Vs(g),Ms(g),jo(g)]},xs,{unitless:{radioSize:!0,dotSize:!0}}),el=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};const xl=(e,t)=>{var o,i;const u=s.useContext(ui),g=s.useContext(wo),{getPrefixCls:_,direction:x,radio:S}=s.useContext(De.E_),T=s.useRef(null),M=(0,zr.sQ)(t,T),{isFormItemInput:R}=s.useContext(gc.aM),N=Ie=>{var Ce,Le;(Ce=e.onChange)===null||Ce===void 0||Ce.call(e,Ie),(Le=u==null?void 0:u.onChange)===null||Le===void 0||Le.call(u,Ie)},{prefixCls:F,className:B,rootClassName:V,children:j,style:H,title:U}=e,K=el(e,["prefixCls","className","rootClassName","children","style","title"]),Y=_("radio",F),q=((u==null?void 0:u.optionType)||g)==="button",Q=q?`${Y}-button`:Y,re=(0,po.Z)(Y),[ae,se,de]=Cs(Y,re),pe=Object.assign({},K),ge=s.useContext(Ds.Z);u&&(pe.name=u.name,pe.onChange=N,pe.checked=e.value===u.value,pe.disabled=(o=pe.disabled)!==null&&o!==void 0?o:u.disabled),pe.disabled=(i=pe.disabled)!==null&&i!==void 0?i:ge;const me=oe()(`${Q}-wrapper`,{[`${Q}-wrapper-checked`]:pe.checked,[`${Q}-wrapper-disabled`]:pe.disabled,[`${Q}-wrapper-rtl`]:x==="rtl",[`${Q}-wrapper-in-form-item`]:R,[`${Q}-wrapper-block`]:!!(u!=null&&u.block)},S==null?void 0:S.className,B,V,se,de,re),[be,_e]=$a(pe.onClick);return ae(s.createElement(vl,{component:"Radio",disabled:pe.disabled},s.createElement("label",{className:me,style:Object.assign(Object.assign({},S==null?void 0:S.style),H),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,title:U,onClick:be},s.createElement(Ma,Object.assign({},pe,{className:oe()(pe.className,{[Ro]:!q}),type:"radio",prefixCls:Q,ref:M,onClick:_e})),j!==void 0?s.createElement("span",{className:`${Q}-label`},j):null)))};var cl=s.forwardRef(xl);const pl=s.forwardRef((e,t)=>{const{getPrefixCls:o,direction:i}=s.useContext(De.E_),u=(0,yd.Z)(),{prefixCls:g,className:_,rootClassName:x,options:S,buttonStyle:T="outline",disabled:M,children:R,size:N,style:F,id:B,optionType:V,name:j=u,defaultValue:H,value:U,block:K=!1,onChange:Y,onMouseEnter:q,onMouseLeave:Q,onFocus:re,onBlur:ae}=e,[se,de]=(0,Jo.Z)(H,{value:U}),pe=s.useCallback(je=>{const Ue=se,He=je.target.value;"value"in e||de(He),He!==Ue&&(Y==null||Y(je))},[se,de,Y]),ge=o("radio",g),me=`${ge}-group`,be=(0,po.Z)(ge),[_e,Ie,Ce]=Cs(ge,be);let Le=R;S&&S.length>0&&(Le=S.map(je=>typeof je=="string"||typeof je=="number"?s.createElement(cl,{key:je.toString(),prefixCls:ge,disabled:M,value:je,checked:se===je},je):s.createElement(cl,{key:`radio-group-value-options-${je.value}`,prefixCls:ge,disabled:je.disabled||M,value:je.value,checked:se===je.value,title:je.title,style:je.style,id:je.id,required:je.required},je.label)));const ze=(0,Ts.Z)(N),ke=oe()(me,`${me}-${T}`,{[`${me}-${ze}`]:ze,[`${me}-rtl`]:i==="rtl",[`${me}-block`]:K},_,x,Ie,Ce,be),Ze=s.useMemo(()=>({onChange:pe,value:se,disabled:M,name:j,optionType:V,block:K}),[pe,se,M,j,V,K]);return _e(s.createElement("div",Object.assign({},(0,ir.Z)(e,{aria:!0,data:!0}),{className:ke,style:F,onMouseEnter:q,onMouseLeave:Q,onFocus:re,onBlur:ae,id:B,ref:t}),s.createElement(ti,{value:Ze},Le)))});var Cl=s.memo(pl),Bl=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};const bc=(e,t)=>{const{getPrefixCls:o}=s.useContext(De.E_),{prefixCls:i}=e,u=Bl(e,["prefixCls"]),g=o("radio",i);return s.createElement(na,{value:"button"},s.createElement(cl,Object.assign({prefixCls:g},u,{type:"radio",ref:t})))};var Hs=s.forwardRef(bc);const Xc=10,ad=20;function Au(e){const{fullscreen:t,validRange:o,generateConfig:i,locale:u,prefixCls:g,value:_,onChange:x,divRef:S}=e,T=i.getYear(_||i.getNow());let M=T-Xc,R=M+ad;o&&(M=i.getYear(o[0]),R=i.getYear(o[1])+1);const N=u&&u.year==="\u5E74"?"\u5E74":"",F=[];for(let B=M;B<R;B++)F.push({label:`${B}${N}`,value:B});return s.createElement($d,{size:t?void 0:"small",options:F,value:T,className:`${g}-year-select`,onChange:B=>{let V=i.setYear(_,B);if(o){const[j,H]=o,U=i.getYear(V),K=i.getMonth(V);U===i.getYear(H)&&K>i.getMonth(H)&&(V=i.setMonth(V,i.getMonth(H))),U===i.getYear(j)&&K<i.getMonth(j)&&(V=i.setMonth(V,i.getMonth(j)))}x(V)},getPopupContainer:()=>S.current})}function Du(e){const{prefixCls:t,fullscreen:o,validRange:i,value:u,generateConfig:g,locale:_,onChange:x,divRef:S}=e,T=g.getMonth(u||g.getNow());let M=0,R=11;if(i){const[B,V]=i,j=g.getYear(u);g.getYear(V)===j&&(R=g.getMonth(V)),g.getYear(B)===j&&(M=g.getMonth(B))}const N=_.shortMonths||g.locale.getShortMonths(_.locale),F=[];for(let B=M;B<=R;B+=1)F.push({label:N[B],value:B});return s.createElement($d,{size:o?void 0:"small",className:`${t}-month-select`,value:T,options:F,onChange:B=>{x(g.setMonth(u,B))},getPopupContainer:()=>S.current})}function pp(e){const{prefixCls:t,locale:o,mode:i,fullscreen:u,onModeChange:g}=e;return s.createElement(Cl,{onChange:_=>{let{target:{value:x}}=_;g(x)},value:i,size:u?void 0:"small",className:`${t}-mode-switch`},s.createElement(Hs,{value:"month"},o.month),s.createElement(Hs,{value:"year"},o.year))}function Ch(e){const{prefixCls:t,fullscreen:o,mode:i,onChange:u,onModeChange:g}=e,_=s.useRef(null),x=(0,s.useContext)(gc.aM),S=(0,s.useMemo)(()=>Object.assign(Object.assign({},x),{isFormItemInput:!1}),[x]),T=Object.assign(Object.assign({},e),{fullscreen:o,divRef:_});return s.createElement("div",{className:`${t}-header`,ref:_},s.createElement(gc.aM.Provider,{value:S},s.createElement(Au,Object.assign({},T,{onChange:M=>{u(M,"year")}})),i==="month"&&s.createElement(Du,Object.assign({},T,{onChange:M=>{u(M,"month")}}))),s.createElement(pp,Object.assign({},T,{onModeChange:g})))}var mp=Ch,qg=he(40859);const $x=e=>{const{pickerCellCls:t,pickerCellInnerCls:o,cellHeight:i,borderRadiusSM:u,motionDurationMid:g,cellHoverBg:_,lineWidth:x,lineType:S,colorPrimary:T,cellActiveWithRangeBg:M,colorTextLightSolid:R,colorTextDisabled:N,cellBgDisabled:F,colorFillSecondary:B}=e;return{"&::before":{position:"absolute",top:"50%",insetInlineStart:0,insetInlineEnd:0,zIndex:1,height:i,transform:"translateY(-50%)",content:'""',pointerEvents:"none"},[o]:{position:"relative",zIndex:2,display:"inline-block",minWidth:i,height:i,lineHeight:(0,J.bf)(i),borderRadius:u,transition:`background ${g}`},[`&:hover:not(${t}-in-view):not(${t}-disabled),
    &:hover:not(${t}-selected):not(${t}-range-start):not(${t}-range-end):not(${t}-disabled)`]:{[o]:{background:_}},[`&-in-view${t}-today ${o}`]:{"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:1,border:`${(0,J.bf)(x)} ${S} ${T}`,borderRadius:u,content:'""'}},[`&-in-view${t}-in-range,
      &-in-view${t}-range-start,
      &-in-view${t}-range-end`]:{position:"relative",[`&:not(${t}-disabled):before`]:{background:M}},[`&-in-view${t}-selected,
      &-in-view${t}-range-start,
      &-in-view${t}-range-end`]:{[`&:not(${t}-disabled) ${o}`]:{color:R,background:T},[`&${t}-disabled ${o}`]:{background:B}},[`&-in-view${t}-range-start:not(${t}-disabled):before`]:{insetInlineStart:"50%"},[`&-in-view${t}-range-end:not(${t}-disabled):before`]:{insetInlineEnd:"50%"},[`&-in-view${t}-range-start:not(${t}-range-end) ${o}`]:{borderStartStartRadius:u,borderEndStartRadius:u,borderStartEndRadius:0,borderEndEndRadius:0},[`&-in-view${t}-range-end:not(${t}-range-start) ${o}`]:{borderStartStartRadius:0,borderEndStartRadius:0,borderStartEndRadius:u,borderEndEndRadius:u},"&-disabled":{color:N,cursor:"not-allowed",[o]:{background:"transparent"},"&::before":{background:F}},[`&-disabled${t}-today ${o}::before`]:{borderColor:N}}},Z_=e=>{const{componentCls:t,pickerCellCls:o,pickerCellInnerCls:i,pickerYearMonthCellWidth:u,pickerControlIconSize:g,cellWidth:_,paddingSM:x,paddingXS:S,paddingXXS:T,colorBgContainer:M,lineWidth:R,lineType:N,borderRadiusLG:F,colorPrimary:B,colorTextHeading:V,colorSplit:j,pickerControlIconBorderWidth:H,colorIcon:U,textHeight:K,motionDurationMid:Y,colorIconHover:q,fontWeightStrong:Q,cellHeight:re,pickerCellPaddingVertical:ae,colorTextDisabled:se,colorText:de,fontSize:pe,motionDurationSlow:ge,withoutTimeCellHeight:me,pickerQuarterPanelContentHeight:be,borderRadiusSM:_e,colorTextLightSolid:Ie,cellHoverBg:Ce,timeColumnHeight:Le,timeColumnWidth:ze,timeCellHeight:ke,controlItemBgActive:Ze,marginXXS:je,pickerDatePanelPaddingHorizontal:Ue,pickerControlIconMargin:He}=e,Qe=e.calc(_).mul(7).add(e.calc(Ue).mul(2)).equal();return{[t]:{"&-panel":{display:"inline-flex",flexDirection:"column",textAlign:"center",background:M,borderRadius:F,outline:"none","&-focused":{borderColor:B},"&-rtl":{[`${t}-prev-icon,
              ${t}-super-prev-icon`]:{transform:"rotate(45deg)"},[`${t}-next-icon,
              ${t}-super-next-icon`]:{transform:"rotate(-135deg)"},[`${t}-time-panel`]:{[`${t}-content`]:{direction:"ltr","> *":{direction:"rtl"}}}}},"&-decade-panel,\n        &-year-panel,\n        &-quarter-panel,\n        &-month-panel,\n        &-week-panel,\n        &-date-panel,\n        &-time-panel":{display:"flex",flexDirection:"column",width:Qe},"&-header":{display:"flex",padding:`0 ${(0,J.bf)(S)}`,color:V,borderBottom:`${(0,J.bf)(R)} ${N} ${j}`,"> *":{flex:"none"},button:{padding:0,color:U,lineHeight:(0,J.bf)(K),background:"transparent",border:0,cursor:"pointer",transition:`color ${Y}`,fontSize:"inherit",display:"inline-flex",alignItems:"center",justifyContent:"center","&:empty":{display:"none"}},"> button":{minWidth:"1.6em",fontSize:pe,"&:hover":{color:q},"&:disabled":{opacity:.25,pointerEvents:"none"}},"&-view":{flex:"auto",fontWeight:Q,lineHeight:(0,J.bf)(K),"> button":{color:"inherit",fontWeight:"inherit","&:not(:first-child)":{marginInlineStart:S},"&:hover":{color:B}}}},"&-prev-icon,\n        &-next-icon,\n        &-super-prev-icon,\n        &-super-next-icon":{position:"relative",width:g,height:g,"&::before":{position:"absolute",top:0,insetInlineStart:0,width:g,height:g,border:"0 solid currentcolor",borderBlockWidth:`${(0,J.bf)(H)} 0`,borderInlineWidth:`${(0,J.bf)(H)} 0`,content:'""'}},"&-super-prev-icon,\n        &-super-next-icon":{"&::after":{position:"absolute",top:He,insetInlineStart:He,display:"inline-block",width:g,height:g,border:"0 solid currentcolor",borderBlockWidth:`${(0,J.bf)(H)} 0`,borderInlineWidth:`${(0,J.bf)(H)} 0`,content:'""'}},"&-prev-icon, &-super-prev-icon":{transform:"rotate(-45deg)"},"&-next-icon, &-super-next-icon":{transform:"rotate(135deg)"},"&-content":{width:"100%",tableLayout:"fixed",borderCollapse:"collapse","th, td":{position:"relative",minWidth:re,fontWeight:"normal"},th:{height:e.calc(re).add(e.calc(ae).mul(2)).equal(),color:de,verticalAlign:"middle"}},"&-cell":Object.assign({padding:`${(0,J.bf)(ae)} 0`,color:se,cursor:"pointer","&-in-view":{color:de}},$x(e)),"&-decade-panel,\n        &-year-panel,\n        &-quarter-panel,\n        &-month-panel":{[`${t}-content`]:{height:e.calc(me).mul(4).equal()},[i]:{padding:`0 ${(0,J.bf)(S)}`}},"&-quarter-panel":{[`${t}-content`]:{height:be}},"&-decade-panel":{[i]:{padding:`0 ${(0,J.bf)(e.calc(S).div(2).equal())}`},[`${t}-cell::before`]:{display:"none"}},"&-year-panel,\n        &-quarter-panel,\n        &-month-panel":{[`${t}-body`]:{padding:`0 ${(0,J.bf)(S)}`},[i]:{width:u}},"&-date-panel":{[`${t}-body`]:{padding:`${(0,J.bf)(S)} ${(0,J.bf)(Ue)}`},[`${t}-content th`]:{boxSizing:"border-box",padding:0}},"&-week-panel":{[`${t}-cell`]:{[`&:hover ${i},
            &-selected ${i},
            ${i}`]:{background:"transparent !important"}},"&-row":{td:{"&:before":{transition:`background ${Y}`},"&:first-child:before":{borderStartStartRadius:_e,borderEndStartRadius:_e},"&:last-child:before":{borderStartEndRadius:_e,borderEndEndRadius:_e}},"&:hover td:before":{background:Ce},"&-range-start td, &-range-end td, &-selected td, &-hover td":{[`&${o}`]:{"&:before":{background:B},[`&${t}-cell-week`]:{color:new Es.t(Ie).setA(.5).toHexString()},[i]:{color:Ie}}},"&-range-hover td:before":{background:Ze}}},"&-week-panel, &-date-panel-show-week":{[`${t}-body`]:{padding:`${(0,J.bf)(S)} ${(0,J.bf)(x)}`},[`${t}-content th`]:{width:"auto"}},"&-datetime-panel":{display:"flex",[`${t}-time-panel`]:{borderInlineStart:`${(0,J.bf)(R)} ${N} ${j}`},[`${t}-date-panel,
          ${t}-time-panel`]:{transition:`opacity ${ge}`},"&-active":{[`${t}-date-panel,
            ${t}-time-panel`]:{opacity:.3,"&-active":{opacity:1}}}},"&-time-panel":{width:"auto",minWidth:"auto",[`${t}-content`]:{display:"flex",flex:"auto",height:Le},"&-column":{flex:"1 0 auto",width:ze,margin:`${(0,J.bf)(T)} 0`,padding:0,overflowY:"hidden",textAlign:"start",listStyle:"none",transition:`background ${Y}`,overflowX:"hidden","&::-webkit-scrollbar":{width:8,backgroundColor:"transparent"},"&::-webkit-scrollbar-thumb":{backgroundColor:e.colorTextTertiary,borderRadius:e.borderRadiusSM},"&":{scrollbarWidth:"thin",scrollbarColor:`${e.colorTextTertiary} transparent`},"&::after":{display:"block",height:`calc(100% - ${(0,J.bf)(ke)})`,content:'""'},"&:not(:first-child)":{borderInlineStart:`${(0,J.bf)(R)} ${N} ${j}`},"&-active":{background:new Es.t(Ze).setA(.2).toHexString()},"&:hover":{overflowY:"auto"},"> li":{margin:0,padding:0,[`&${t}-time-panel-cell`]:{marginInline:je,[`${t}-time-panel-cell-inner`]:{display:"block",width:e.calc(ze).sub(e.calc(je).mul(2)).equal(),height:ke,margin:0,paddingBlock:0,paddingInlineEnd:0,paddingInlineStart:e.calc(ze).sub(ke).div(2).equal(),color:de,lineHeight:(0,J.bf)(ke),borderRadius:_e,cursor:"pointer",transition:`background ${Y}`,"&:hover":{background:Ce}},"&-selected":{[`${t}-time-panel-cell-inner`]:{background:Ze}},"&-disabled":{[`${t}-time-panel-cell-inner`]:{color:se,background:"transparent",cursor:"not-allowed"}}}}}}}}};var Rx=e=>{const{componentCls:t,textHeight:o,lineWidth:i,paddingSM:u,antCls:g,colorPrimary:_,cellActiveWithRangeBg:x,colorPrimaryBorder:S,lineType:T,colorSplit:M}=e;return{[`${t}-dropdown`]:{[`${t}-footer`]:{borderTop:`${(0,J.bf)(i)} ${T} ${M}`,"&-extra":{padding:`0 ${(0,J.bf)(u)}`,lineHeight:(0,J.bf)(e.calc(o).sub(e.calc(i).mul(2)).equal()),textAlign:"start","&:not(:last-child)":{borderBottom:`${(0,J.bf)(i)} ${T} ${M}`}}},[`${t}-panels + ${t}-footer ${t}-ranges`]:{justifyContent:"space-between"},[`${t}-ranges`]:{marginBlock:0,paddingInline:(0,J.bf)(u),overflow:"hidden",textAlign:"start",listStyle:"none",display:"flex",justifyContent:"center",alignItems:"center","> li":{lineHeight:(0,J.bf)(e.calc(o).sub(e.calc(i).mul(2)).equal()),display:"inline-block"},[`${t}-now-btn-disabled`]:{pointerEvents:"none",color:e.colorTextDisabled},[`${t}-preset > ${g}-tag-blue`]:{color:_,background:x,borderColor:S,cursor:"pointer"},[`${t}-ok`]:{paddingBlock:e.calc(i).mul(2).equal(),marginInlineStart:"auto"}}}}},sd=he(21571);const V_=e=>{const{componentCls:t,controlHeightLG:o,paddingXXS:i,padding:u}=e;return{pickerCellCls:`${t}-cell`,pickerCellInnerCls:`${t}-cell-inner`,pickerYearMonthCellWidth:e.calc(o).mul(1.5).equal(),pickerQuarterPanelContentHeight:e.calc(o).mul(1.4).equal(),pickerCellPaddingVertical:e.calc(i).add(e.calc(i).div(2)).equal(),pickerCellBorderGap:2,pickerControlIconSize:7,pickerControlIconMargin:4,pickerControlIconBorderWidth:1.5,pickerDatePanelPaddingHorizontal:e.calc(u).add(e.calc(i).div(2)).equal()}},Mv=e=>{const{colorBgContainerDisabled:t,controlHeight:o,controlHeightSM:i,controlHeightLG:u,paddingXXS:g,lineWidth:_}=e,x=g*2,S=_*2,T=Math.min(o-x,o-S),M=Math.min(i-x,i-S),R=Math.min(u-x,u-S);return{INTERNAL_FIXED_ITEM_MARGIN:Math.floor(g/2),cellHoverBg:e.controlItemBgHover,cellActiveWithRangeBg:e.controlItemBgActive,cellHoverWithRangeBg:new Es.t(e.colorPrimary).lighten(35).toHexString(),cellRangeBorderColor:new Es.t(e.colorPrimary).lighten(20).toHexString(),cellBgDisabled:t,timeColumnWidth:u*1.4,timeColumnHeight:28*8,timeCellHeight:28,cellWidth:i*1.5,cellHeight:i,textHeight:u,withoutTimeCellHeight:u*1.65,multipleItemBg:e.colorFillSecondary,multipleItemBorderColor:"transparent",multipleItemHeight:T,multipleItemHeightSM:M,multipleItemHeightLG:R,multipleSelectorBgDisabled:t,multipleItemColorDisabled:e.colorTextDisabled,multipleItemBorderColorDisabled:"transparent"}},H_=e=>Object.assign(Object.assign(Object.assign(Object.assign({},(0,sd.T)(e)),Mv(e)),(0,nm.w)(e)),{presetsWidth:120,presetsMaxWidth:200,zIndexPopup:e.zIndexPopupBase+50}),Ld=e=>{const{calendarCls:t,componentCls:o,fullBg:i,fullPanelBg:u,itemActiveBg:g}=e;return{[t]:Object.assign(Object.assign(Object.assign({},Z_(e)),(0,mn.Wf)(e)),{background:i,"&-rtl":{direction:"rtl"},[`${t}-header`]:{display:"flex",justifyContent:"flex-end",padding:`${(0,J.bf)(e.paddingSM)} 0`,[`${t}-year-select`]:{minWidth:e.yearControlWidth},[`${t}-month-select`]:{minWidth:e.monthControlWidth,marginInlineStart:e.marginXS},[`${t}-mode-switch`]:{marginInlineStart:e.marginXS}}}),[`${t} ${o}-panel`]:{background:u,border:0,borderTop:`${(0,J.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,borderRadius:0,[`${o}-month-panel, ${o}-date-panel`]:{width:"auto"},[`${o}-body`]:{padding:`${(0,J.bf)(e.paddingXS)} 0`},[`${o}-content`]:{width:"100%"}},[`${t}-mini`]:{borderRadius:e.borderRadiusLG,[`${t}-header`]:{paddingInlineEnd:e.paddingXS,paddingInlineStart:e.paddingXS},[`${o}-panel`]:{borderRadius:`0 0 ${(0,J.bf)(e.borderRadiusLG)} ${(0,J.bf)(e.borderRadiusLG)}`},[`${o}-content`]:{height:e.miniContentHeight,th:{height:"auto",padding:0,lineHeight:(0,J.bf)(e.weekHeight)}},[`${o}-cell::before`]:{pointerEvents:"none"}},[`${t}${t}-full`]:{[`${o}-panel`]:{display:"block",width:"100%",textAlign:"end",background:i,border:0,[`${o}-body`]:{"th, td":{padding:0},th:{height:"auto",paddingInlineEnd:e.paddingSM,paddingBottom:e.paddingXXS,lineHeight:(0,J.bf)(e.weekHeight)}}},[`${o}-cell-week ${o}-cell-inner`]:{display:"block",borderRadius:0,borderTop:`${(0,J.bf)(e.lineWidthBold)} ${e.lineType} ${e.colorSplit}`,width:"100%",height:e.calc(e.dateValueHeight).add(e.dateContentHeight).add(e.calc(e.paddingXS).div(2)).add(e.lineWidthBold).equal()},[`${o}-cell`]:{"&::before":{display:"none"},"&:hover":{[`${t}-date`]:{background:e.controlItemBgHover}},[`${t}-date-today::before`]:{display:"none"},[`&-in-view${o}-cell-selected`]:{[`${t}-date, ${t}-date-today`]:{background:g}},"&-selected, &-selected:hover":{[`${t}-date, ${t}-date-today`]:{[`${t}-date-value`]:{color:e.colorPrimary}}}},[`${t}-date`]:{display:"block",width:"auto",height:"auto",margin:`0 ${(0,J.bf)(e.calc(e.marginXS).div(2).equal())}`,padding:`${(0,J.bf)(e.calc(e.paddingXS).div(2).equal())} ${(0,J.bf)(e.paddingXS)} 0`,border:0,borderTop:`${(0,J.bf)(e.lineWidthBold)} ${e.lineType} ${e.colorSplit}`,borderRadius:0,transition:`background ${e.motionDurationSlow}`,"&-value":{lineHeight:(0,J.bf)(e.dateValueHeight),transition:`color ${e.motionDurationSlow}`},"&-content":{position:"static",width:"auto",height:e.dateContentHeight,overflowY:"auto",color:e.colorText,lineHeight:e.lineHeight,textAlign:"start"},"&-today":{borderColor:e.colorPrimary,[`${t}-date-value`]:{color:e.colorText}}}},[`@media only screen and (max-width: ${(0,J.bf)(e.screenXS)}) `]:{[t]:{[`${t}-header`]:{display:"block",[`${t}-year-select`]:{width:"50%"},[`${t}-month-select`]:{width:`calc(50% - ${(0,J.bf)(e.paddingXS)})`},[`${t}-mode-switch`]:{width:"100%",marginTop:e.marginXS,marginInlineStart:0,"> label":{width:"50%",textAlign:"center"}}}}}}},Ax=e=>Object.assign({fullBg:e.colorBgContainer,fullPanelBg:e.colorBgContainer,itemActiveBg:e.controlItemBgActive,yearControlWidth:80,monthControlWidth:70,miniContentHeight:256},Mv(e));var gp=(0,Ae.I$)("Calendar",e=>{const t=`${e.componentCls}-calendar`,o=(0,vn.IX)(e,V_(e),{calendarCls:t,pickerCellInnerCls:`${e.componentCls}-cell-inner`,dateValueHeight:e.controlHeightSM,weekHeight:e.calc(e.controlHeightSM).mul(.75).equal(),dateContentHeight:e.calc(e.calc(e.fontHeightSM).add(e.marginXS)).mul(3).add(e.calc(e.lineWidth).mul(2)).equal()});return[Ld(o)]},Ax);const Pv=(e,t,o)=>{const{getYear:i}=o;return e&&t&&i(e)===i(t)},Kg=(e,t,o)=>{const{getMonth:i}=o;return Pv(e,t,o)&&i(e)===i(t)},Ov=(e,t,o)=>{const{getDate:i}=o;return Kg(e,t,o)&&i(e)===i(t)};var $v=e=>o=>{const{prefixCls:i,className:u,rootClassName:g,style:_,dateFullCellRender:x,dateCellRender:S,monthFullCellRender:T,monthCellRender:M,cellRender:R,fullCellRender:N,headerRender:F,value:B,defaultValue:V,disabledDate:j,mode:H,validRange:U,fullscreen:K=!0,showWeek:Y,onChange:q,onPanelChange:Q,onSelect:re}=o,{getPrefixCls:ae,direction:se,className:de,style:pe}=(0,De.dj)("calendar"),ge=ae("picker",i),me=`${ge}-calendar`,[be,_e,Ie]=gp(ge,me),Ce=e.getNow(),[Le,ze]=(0,Jo.Z)(()=>B||e.getNow(),{defaultValue:V,value:B}),[ke,Ze]=(0,Jo.Z)("month",{value:H}),je=s.useMemo(()=>ke==="year"?"month":"date",[ke]),Ue=s.useCallback(ut=>(U?e.isAfter(U[0],ut)||e.isAfter(ut,U[1]):!1)||!!(j!=null&&j(ut)),[j,U]),He=(ut,tt)=>{Q==null||Q(ut,tt)},Qe=ut=>{ze(ut),Ov(ut,Le,e)||((je==="date"&&!Kg(ut,Le,e)||je==="month"&&!Pv(ut,Le,e))&&He(ut,ke),q==null||q(ut))},We=ut=>{Ze(ut),He(Le,ut)},it=(ut,tt)=>{Qe(ut),re==null||re(ut,{source:tt})},Je=s.useCallback((ut,tt)=>N?N(ut,tt):x?x(ut):s.createElement("div",{className:oe()(`${ge}-cell-inner`,`${me}-date`,{[`${me}-date-today`]:Ov(Ce,ut,e)})},s.createElement("div",{className:`${me}-date-value`},String(e.getDate(ut)).padStart(2,"0")),s.createElement("div",{className:`${me}-date-content`},R?R(ut,tt):S==null?void 0:S(ut))),[x,S,R,N]),wt=s.useCallback((ut,tt)=>{if(N)return N(ut,tt);if(T)return T(ut);const xt=tt.locale.shortMonths||e.locale.getShortMonths(tt.locale.locale);return s.createElement("div",{className:oe()(`${ge}-cell-inner`,`${me}-date`,{[`${me}-date-today`]:Kg(Ce,ut,e)})},s.createElement("div",{className:`${me}-date-value`},xt[e.getMonth(ut)]),s.createElement("div",{className:`${me}-date-content`},R?R(ut,tt):M==null?void 0:M(ut)))},[T,M,R,N]),[Dt]=(0,Pr.Z)("Calendar",qg.Z),ct=Object.assign(Object.assign({},Dt),o.locale),ht=(ut,tt)=>{if(tt.type==="date")return Je(ut,tt);if(tt.type==="month")return wt(ut,Object.assign(Object.assign({},tt),{locale:ct==null?void 0:ct.lang}))};return be(s.createElement("div",{className:oe()(me,{[`${me}-full`]:K,[`${me}-mini`]:!K,[`${me}-rtl`]:se==="rtl"},de,u,g,_e,Ie),style:Object.assign(Object.assign({},pe),_)},F?F({value:Le,type:ke,onChange:ut=>{it(ut,"customize")},onTypeChange:We}):s.createElement(mp,{prefixCls:me,value:Le,generateConfig:e,mode:ke,fullscreen:K,locale:ct==null?void 0:ct.lang,validRange:U,onChange:it,onModeChange:We}),s.createElement(h,{value:Le,prefixCls:ge,locale:ct==null?void 0:ct.lang,generateConfig:e,cellRender:ht,onSelect:ut=>{it(ut,je)},mode:je,picker:je,disabledDate:Ue,hideHeader:!0,showWeek:Y})))};const Dx=$v(px);Dx.generateCalendar=$v;var mu=Dx,qc={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},Yg=qc,U_=function(t,o){return s.createElement(Fn.Z,(0,Pt.Z)({},t,{ref:o,icon:Yg}))},yp=s.forwardRef(U_),LO=yp,zx=(0,s.createContext)(null),NO=function(t){var o=t.activeTabOffset,i=t.horizontal,u=t.rtl,g=t.indicator,_=g===void 0?{}:g,x=_.size,S=_.align,T=S===void 0?"center":S,M=(0,s.useState)(),R=(0,ve.Z)(M,2),N=R[0],F=R[1],B=(0,s.useRef)(),V=s.useCallback(function(H){return typeof x=="function"?x(H):typeof x=="number"?x:H},[x]);function j(){lt.Z.cancel(B.current)}return(0,s.useEffect)(function(){var H={};if(o)if(i){H.width=V(o.width);var U=u?"right":"left";T==="start"&&(H[U]=o[U]),T==="center"&&(H[U]=o[U]+o.width/2,H.transform=u?"translateX(50%)":"translateX(-50%)"),T==="end"&&(H[U]=o[U]+o.width,H.transform="translateX(-100%)")}else H.height=V(o.height),T==="start"&&(H.top=o.top),T==="center"&&(H.top=o.top+o.height/2,H.transform="translateY(-50%)"),T==="end"&&(H.top=o.top+o.height,H.transform="translateY(-100%)");return j(),B.current=(0,lt.Z)(function(){F(H)}),j},[o,i,u,T,V]),{style:N}},BO=NO,dE={width:0,height:0,left:0,top:0};function FO(e,t,o){return(0,s.useMemo)(function(){for(var i,u=new Map,g=t.get((i=e[0])===null||i===void 0?void 0:i.key)||dE,_=g.left+g.width,x=0;x<e.length;x+=1){var S=e[x].key,T=t.get(S);if(!T){var M;T=t.get((M=e[x-1])===null||M===void 0?void 0:M.key)||dE}var R=u.get(S)||(0,fe.Z)({},T);R.right=_-R.left-R.width,u.set(S,R)}return u},[e.map(function(i){return i.key}).join("_"),t,o])}function fE(e,t){var o=s.useRef(e),i=s.useState({}),u=(0,ve.Z)(i,2),g=u[1];function _(x){var S=typeof x=="function"?x(o.current):x;S!==o.current&&t(S,o.current),o.current=S,g({})}return[o.current,_]}var kO=.1,hE=.01,Lx=20,pE=Math.pow(.995,Lx);function jO(e,t){var o=(0,s.useState)(),i=(0,ve.Z)(o,2),u=i[0],g=i[1],_=(0,s.useState)(0),x=(0,ve.Z)(_,2),S=x[0],T=x[1],M=(0,s.useState)(0),R=(0,ve.Z)(M,2),N=R[0],F=R[1],B=(0,s.useState)(),V=(0,ve.Z)(B,2),j=V[0],H=V[1],U=(0,s.useRef)();function K(se){var de=se.touches[0],pe=de.screenX,ge=de.screenY;g({x:pe,y:ge}),window.clearInterval(U.current)}function Y(se){if(u){var de=se.touches[0],pe=de.screenX,ge=de.screenY;g({x:pe,y:ge});var me=pe-u.x,be=ge-u.y;t(me,be);var _e=Date.now();T(_e),F(_e-S),H({x:me,y:be})}}function q(){if(u&&(g(null),H(null),j)){var se=j.x/N,de=j.y/N,pe=Math.abs(se),ge=Math.abs(de);if(Math.max(pe,ge)<kO)return;var me=se,be=de;U.current=window.setInterval(function(){if(Math.abs(me)<hE&&Math.abs(be)<hE){window.clearInterval(U.current);return}me*=pE,be*=pE,t(me*Lx,be*Lx)},Lx)}}var Q=(0,s.useRef)();function re(se){var de=se.deltaX,pe=se.deltaY,ge=0,me=Math.abs(de),be=Math.abs(pe);me===be?ge=Q.current==="x"?de:pe:me>be?(ge=de,Q.current="x"):(ge=pe,Q.current="y"),t(-ge,-ge)&&se.preventDefault()}var ae=(0,s.useRef)(null);ae.current={onTouchStart:K,onTouchMove:Y,onTouchEnd:q,onWheel:re},s.useEffect(function(){function se(me){ae.current.onTouchStart(me)}function de(me){ae.current.onTouchMove(me)}function pe(me){ae.current.onTouchEnd(me)}function ge(me){ae.current.onWheel(me)}return document.addEventListener("touchmove",de,{passive:!1}),document.addEventListener("touchend",pe,{passive:!0}),e.current.addEventListener("touchstart",se,{passive:!0}),e.current.addEventListener("wheel",ge,{passive:!1}),function(){document.removeEventListener("touchmove",de),document.removeEventListener("touchend",pe)}},[])}function mE(e){var t=(0,s.useState)(0),o=(0,ve.Z)(t,2),i=o[0],u=o[1],g=(0,s.useRef)(0),_=(0,s.useRef)();return _.current=e,(0,yt.o)(function(){var x;(x=_.current)===null||x===void 0||x.call(_)},[i]),function(){g.current===i&&(g.current+=1,u(g.current))}}function ZO(e){var t=(0,s.useRef)([]),o=(0,s.useState)({}),i=(0,ve.Z)(o,2),u=i[1],g=(0,s.useRef)(typeof e=="function"?e():e),_=mE(function(){var S=g.current;t.current.forEach(function(T){S=T(S)}),t.current=[],g.current=S,u({})});function x(S){t.current.push(S),_()}return[g.current,x]}var gE={width:0,height:0,left:0,top:0,right:0};function VO(e,t,o,i,u,g,_){var x=_.tabs,S=_.tabPosition,T=_.rtl,M,R,N;return["top","bottom"].includes(S)?(M="width",R=T?"right":"left",N=Math.abs(o)):(M="height",R="top",N=-o),(0,s.useMemo)(function(){if(!x.length)return[0,0];for(var F=x.length,B=F,V=0;V<F;V+=1){var j=e.get(x[V].key)||gE;if(Math.floor(j[R]+j[M])>Math.floor(N+t)){B=V-1;break}}for(var H=0,U=F-1;U>=0;U-=1){var K=e.get(x[U].key)||gE;if(K[R]<N){H=U+1;break}}return H>=B?[0,0]:[H,B]},[e,t,i,u,g,N,S,x.map(function(F){return F.key}).join("_"),T])}function vE(e){var t;return e instanceof Map?(t={},e.forEach(function(o,i){t[i]=o})):t=e,JSON.stringify(t)}var HO="TABS_DQ";function yE(e){return String(e).replace(/"/g,HO)}function oS(e,t,o,i){return!(!o||i||e===!1||e===void 0&&(t===!1||t===null))}var UO=s.forwardRef(function(e,t){var o=e.prefixCls,i=e.editable,u=e.locale,g=e.style;return!i||i.showAdd===!1?null:s.createElement("button",{ref:t,type:"button",className:"".concat(o,"-nav-add"),style:g,"aria-label":(u==null?void 0:u.addAriaLabel)||"Add tab",onClick:function(x){i.onEdit("add",{event:x})}},i.addIcon||"+")}),_E=UO,WO=s.forwardRef(function(e,t){var o=e.position,i=e.prefixCls,u=e.extra;if(!u)return null;var g,_={};return(0,Tt.Z)(u)==="object"&&!s.isValidElement(u)?_=u:_.right=u,o==="right"&&(g=_.right),o==="left"&&(g=_.left),g?s.createElement("div",{className:"".concat(i,"-extra-content"),ref:t},g):null}),bE=WO,GO=s.forwardRef(function(e,t){var o=e.prefixCls,i=e.id,u=e.tabs,g=e.locale,_=e.mobile,x=e.more,S=x===void 0?{}:x,T=e.style,M=e.className,R=e.editable,N=e.tabBarGutter,F=e.rtl,B=e.removeAriaLabel,V=e.onTabClick,j=e.getPopupContainer,H=e.popupClassName,U=(0,s.useState)(!1),K=(0,ve.Z)(U,2),Y=K[0],q=K[1],Q=(0,s.useState)(null),re=(0,ve.Z)(Q,2),ae=re[0],se=re[1],de=S.icon,pe=de===void 0?"More":de,ge="".concat(i,"-more-popup"),me="".concat(o,"-dropdown"),be=ae!==null?"".concat(ge,"-").concat(ae):null,_e=g==null?void 0:g.dropdownAriaLabel;function Ie(Ue,He){Ue.preventDefault(),Ue.stopPropagation(),R.onEdit("remove",{key:He,event:Ue})}var Ce=s.createElement(dm,{onClick:function(He){var Qe=He.key,We=He.domEvent;V(Qe,We),q(!1)},prefixCls:"".concat(me,"-menu"),id:ge,tabIndex:-1,role:"listbox","aria-activedescendant":be,selectedKeys:[ae],"aria-label":_e!==void 0?_e:"expanded dropdown"},u.map(function(Ue){var He=Ue.closable,Qe=Ue.disabled,We=Ue.closeIcon,it=Ue.key,Je=Ue.label,wt=oS(He,We,R,Qe);return s.createElement(zd,{key:it,id:"".concat(ge,"-").concat(it),role:"option","aria-controls":i&&"".concat(i,"-panel-").concat(it),disabled:Qe},s.createElement("span",null,Je),wt&&s.createElement("button",{type:"button","aria-label":B||"remove",tabIndex:0,className:"".concat(me,"-menu-item-remove"),onClick:function(ct){ct.stopPropagation(),Ie(ct,it)}},We||R.removeIcon||"\xD7"))}));function Le(Ue){for(var He=u.filter(function(wt){return!wt.disabled}),Qe=He.findIndex(function(wt){return wt.key===ae})||0,We=He.length,it=0;it<We;it+=1){Qe=(Qe+Ue+We)%We;var Je=He[Qe];if(!Je.disabled){se(Je.key);return}}}function ze(Ue){var He=Ue.which;if(!Y){[nt.Z.DOWN,nt.Z.SPACE,nt.Z.ENTER].includes(He)&&(q(!0),Ue.preventDefault());return}switch(He){case nt.Z.UP:Le(-1),Ue.preventDefault();break;case nt.Z.DOWN:Le(1),Ue.preventDefault();break;case nt.Z.ESC:q(!1);break;case nt.Z.SPACE:case nt.Z.ENTER:ae!==null&&V(ae,Ue);break}}(0,s.useEffect)(function(){var Ue=document.getElementById(be);Ue&&Ue.scrollIntoView&&Ue.scrollIntoView(!1)},[ae]),(0,s.useEffect)(function(){Y||se(null)},[Y]);var ke=(0,Ee.Z)({},F?"marginRight":"marginLeft",N);u.length||(ke.visibility="hidden",ke.order=1);var Ze=oe()((0,Ee.Z)({},"".concat(me,"-rtl"),F)),je=_?null:s.createElement(X0,(0,Pt.Z)({prefixCls:me,overlay:Ce,visible:u.length?Y:!1,onVisibleChange:q,overlayClassName:oe()(Ze,H),mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:j},S),s.createElement("button",{type:"button",className:"".concat(o,"-nav-more"),style:ke,"aria-haspopup":"listbox","aria-controls":ge,id:"".concat(i,"-more"),"aria-expanded":Y,onKeyDown:ze},pe));return s.createElement("div",{className:oe()("".concat(o,"-nav-operations"),M),style:T,ref:t},je,s.createElement(_E,{prefixCls:o,locale:g,editable:R}))}),XO=s.memo(GO,function(e,t){return t.tabMoving}),qO=function(t){var o=t.prefixCls,i=t.id,u=t.active,g=t.focus,_=t.tab,x=_.key,S=_.label,T=_.disabled,M=_.closeIcon,R=_.icon,N=t.closable,F=t.renderWrapper,B=t.removeAriaLabel,V=t.editable,j=t.onClick,H=t.onFocus,U=t.onBlur,K=t.onKeyDown,Y=t.onMouseDown,q=t.onMouseUp,Q=t.style,re=t.tabCount,ae=t.currentPosition,se="".concat(o,"-tab"),de=oS(N,M,V,T);function pe(Ie){T||j(Ie)}function ge(Ie){Ie.preventDefault(),Ie.stopPropagation(),V.onEdit("remove",{key:x,event:Ie})}var me=s.useMemo(function(){return R&&typeof S=="string"?s.createElement("span",null,S):S},[S,R]),be=s.useRef(null);s.useEffect(function(){g&&be.current&&be.current.focus()},[g]);var _e=s.createElement("div",{key:x,"data-node-key":yE(x),className:oe()(se,(0,Ee.Z)((0,Ee.Z)((0,Ee.Z)((0,Ee.Z)({},"".concat(se,"-with-remove"),de),"".concat(se,"-active"),u),"".concat(se,"-disabled"),T),"".concat(se,"-focus"),g)),style:Q,onClick:pe},s.createElement("div",{ref:be,role:"tab","aria-selected":u,id:i&&"".concat(i,"-tab-").concat(x),className:"".concat(se,"-btn"),"aria-controls":i&&"".concat(i,"-panel-").concat(x),"aria-disabled":T,tabIndex:T?null:u?0:-1,onClick:function(Ce){Ce.stopPropagation(),pe(Ce)},onKeyDown:K,onMouseDown:Y,onMouseUp:q,onFocus:H,onBlur:U},g&&s.createElement("div",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"Tab ".concat(ae," of ").concat(re)),R&&s.createElement("span",{className:"".concat(se,"-icon")},R),S&&me),de&&s.createElement("button",{type:"button",role:"tab","aria-label":B||"remove",tabIndex:u?0:-1,className:"".concat(se,"-remove"),onClick:function(Ce){Ce.stopPropagation(),ge(Ce)}},M||V.removeIcon||"\xD7"));return F?F(_e):_e},KO=qO,YO=function(t,o){var i=t.offsetWidth,u=t.offsetHeight,g=t.offsetTop,_=t.offsetLeft,x=t.getBoundingClientRect(),S=x.width,T=x.height,M=x.left,R=x.top;return Math.abs(S-i)<1?[S,T,M-o.left,R-o.top]:[i,u,_,g]},Rv=function(t){var o=t.current||{},i=o.offsetWidth,u=i===void 0?0:i,g=o.offsetHeight,_=g===void 0?0:g;if(t.current){var x=t.current.getBoundingClientRect(),S=x.width,T=x.height;if(Math.abs(S-u)<1)return[S,T]}return[u,_]},Nx=function(t,o){return t[o?0:1]},JO=s.forwardRef(function(e,t){var o=e.className,i=e.style,u=e.id,g=e.animated,_=e.activeKey,x=e.rtl,S=e.extra,T=e.editable,M=e.locale,R=e.tabPosition,N=e.tabBarGutter,F=e.children,B=e.onTabClick,V=e.onTabScroll,j=e.indicator,H=s.useContext(zx),U=H.prefixCls,K=H.tabs,Y=(0,s.useRef)(null),q=(0,s.useRef)(null),Q=(0,s.useRef)(null),re=(0,s.useRef)(null),ae=(0,s.useRef)(null),se=(0,s.useRef)(null),de=(0,s.useRef)(null),pe=R==="top"||R==="bottom",ge=fE(0,function(Ti,xr){pe&&V&&V({direction:Ti>xr?"left":"right"})}),me=(0,ve.Z)(ge,2),be=me[0],_e=me[1],Ie=fE(0,function(Ti,xr){!pe&&V&&V({direction:Ti>xr?"top":"bottom"})}),Ce=(0,ve.Z)(Ie,2),Le=Ce[0],ze=Ce[1],ke=(0,s.useState)([0,0]),Ze=(0,ve.Z)(ke,2),je=Ze[0],Ue=Ze[1],He=(0,s.useState)([0,0]),Qe=(0,ve.Z)(He,2),We=Qe[0],it=Qe[1],Je=(0,s.useState)([0,0]),wt=(0,ve.Z)(Je,2),Dt=wt[0],ct=wt[1],ht=(0,s.useState)([0,0]),ut=(0,ve.Z)(ht,2),tt=ut[0],xt=ut[1],_t=ZO(new Map),dn=(0,ve.Z)(_t,2),on=dn[0],Ut=dn[1],en=FO(K,on,We[0]),kt=Nx(je,pe),cn=Nx(We,pe),zn=Nx(Dt,pe),An=Nx(tt,pe),sr=Math.floor(kt)<Math.floor(cn+zn),yr=sr?kt-An:kt-zn,Vr="".concat(U,"-nav-operations-hidden"),Qn=0,Un=0;pe&&x?(Qn=0,Un=Math.max(0,cn-yr)):(Qn=Math.min(0,yr-cn),Un=0);function er(Ti){return Ti<Qn?Qn:Ti>Un?Un:Ti}var Ir=(0,s.useRef)(null),pr=(0,s.useState)(),Zr=(0,ve.Z)(pr,2),xn=Zr[0],fn=Zr[1];function yn(){fn(Date.now())}function Gt(){Ir.current&&clearTimeout(Ir.current)}jO(re,function(Ti,xr){function zi(_o,Sa){_o(function(vs){var Js=er(vs+Sa);return Js})}return sr?(pe?zi(_e,Ti):zi(ze,xr),Gt(),yn(),!0):!1}),(0,s.useEffect)(function(){return Gt(),xn&&(Ir.current=setTimeout(function(){fn(0)},100)),Gt},[xn]);var Kn=VO(en,yr,pe?be:Le,cn,zn,An,(0,fe.Z)((0,fe.Z)({},e),{},{tabs:K})),vr=(0,ve.Z)(Kn,2),Jr=vr[0],Hi=vr[1],Gi=(0,Or.Z)(function(){var Ti=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_,xr=en.get(Ti)||{width:0,height:0,left:0,right:0,top:0};if(pe){var zi=be;x?xr.right<be?zi=xr.right:xr.right+xr.width>be+yr&&(zi=xr.right+xr.width-yr):xr.left<-be?zi=-xr.left:xr.left+xr.width>-be+yr&&(zi=-(xr.left+xr.width-yr)),ze(0),_e(er(zi))}else{var _o=Le;xr.top<-Le?_o=-xr.top:xr.top+xr.height>-Le+yr&&(_o=-(xr.top+xr.height-yr)),_e(0),ze(er(_o))}}),Zi=(0,s.useState)(),Fa=(0,ve.Z)(Zi,2),Do=Fa[0],zo=Fa[1],oo=(0,s.useState)(!1),Uo=(0,ve.Z)(oo,2),ua=Uo[0],xi=Uo[1],Fi=K.filter(function(Ti){return!Ti.disabled}).map(function(Ti){return Ti.key}),Wr=function(xr){var zi=Fi.indexOf(Do||_),_o=Fi.length,Sa=(zi+xr+_o)%_o,vs=Fi[Sa];zo(vs)},gi=function(xr){var zi=xr.code,_o=x&&pe,Sa=Fi[0],vs=Fi[Fi.length-1];switch(zi){case"ArrowLeft":{pe&&Wr(_o?1:-1);break}case"ArrowRight":{pe&&Wr(_o?-1:1);break}case"ArrowUp":{xr.preventDefault(),pe||Wr(-1);break}case"ArrowDown":{xr.preventDefault(),pe||Wr(1);break}case"Home":{xr.preventDefault(),zo(Sa);break}case"End":{xr.preventDefault(),zo(vs);break}case"Enter":case"Space":{xr.preventDefault(),B(Do,xr);break}case"Backspace":case"Delete":{var Js=Fi.indexOf(Do),hs=K.find(function(fa){return fa.key===Do}),ho=oS(hs==null?void 0:hs.closable,hs==null?void 0:hs.closeIcon,T,hs==null?void 0:hs.disabled);ho&&(xr.preventDefault(),xr.stopPropagation(),T.onEdit("remove",{key:Do,event:xr}),Js===Fi.length-1?Wr(-1):Wr(1));break}}},Ci={};pe?Ci[x?"marginRight":"marginLeft"]=N:Ci.marginTop=N;var Yi=K.map(function(Ti,xr){var zi=Ti.key;return s.createElement(KO,{id:u,prefixCls:U,key:zi,tab:Ti,style:xr===0?void 0:Ci,closable:Ti.closable,editable:T,active:zi===_,focus:zi===Do,renderWrapper:F,removeAriaLabel:M==null?void 0:M.removeAriaLabel,tabCount:Fi.length,currentPosition:xr+1,onClick:function(Sa){B(zi,Sa)},onKeyDown:gi,onFocus:function(){ua||zo(zi),Gi(zi),yn(),re.current&&(x||(re.current.scrollLeft=0),re.current.scrollTop=0)},onBlur:function(){zo(void 0)},onMouseDown:function(){xi(!0)},onMouseUp:function(){xi(!1)}})}),xa=function(){return Ut(function(){var xr,zi=new Map,_o=(xr=ae.current)===null||xr===void 0?void 0:xr.getBoundingClientRect();return K.forEach(function(Sa){var vs,Js=Sa.key,hs=(vs=ae.current)===null||vs===void 0?void 0:vs.querySelector('[data-node-key="'.concat(yE(Js),'"]'));if(hs){var ho=YO(hs,_o),fa=(0,ve.Z)(ho,4),ja=fa[0],Ws=fa[1],lc=fa[2],Lu=fa[3];zi.set(Js,{width:ja,height:Ws,left:lc,top:Lu})}}),zi})};(0,s.useEffect)(function(){xa()},[K.map(function(Ti){return Ti.key}).join("_")]);var Pa=mE(function(){var Ti=Rv(Y),xr=Rv(q),zi=Rv(Q);Ue([Ti[0]-xr[0]-zi[0],Ti[1]-xr[1]-zi[1]]);var _o=Rv(de);ct(_o);var Sa=Rv(se);xt(Sa);var vs=Rv(ae);it([vs[0]-_o[0],vs[1]-_o[1]]),xa()}),Fs=K.slice(0,Jr),Xi=K.slice(Hi+1),Di=[].concat((0,Be.Z)(Fs),(0,Be.Z)(Xi)),Si=en.get(_),Ii=BO({activeTabOffset:Si,horizontal:pe,indicator:j,rtl:x}),da=Ii.style;(0,s.useEffect)(function(){Gi()},[_,Qn,Un,vE(Si),vE(en),pe]),(0,s.useEffect)(function(){Pa()},[x]);var Qa=!!Di.length,Wo="".concat(U,"-nav-wrap"),lo,va,ka,Us;return pe?x?(va=be>0,lo=be!==Un):(lo=be<0,va=be!==Qn):(ka=Le<0,Us=Le!==Qn),s.createElement(d.Z,{onResize:Pa},s.createElement("div",{ref:(0,zr.x1)(t,Y),role:"tablist","aria-orientation":pe?"horizontal":"vertical",className:oe()("".concat(U,"-nav"),o),style:i,onKeyDown:function(){yn()}},s.createElement(bE,{ref:q,position:"left",extra:S,prefixCls:U}),s.createElement(d.Z,{onResize:Pa},s.createElement("div",{className:oe()(Wo,(0,Ee.Z)((0,Ee.Z)((0,Ee.Z)((0,Ee.Z)({},"".concat(Wo,"-ping-left"),lo),"".concat(Wo,"-ping-right"),va),"".concat(Wo,"-ping-top"),ka),"".concat(Wo,"-ping-bottom"),Us)),ref:re},s.createElement(d.Z,{onResize:Pa},s.createElement("div",{ref:ae,className:"".concat(U,"-nav-list"),style:{transform:"translate(".concat(be,"px, ").concat(Le,"px)"),transition:xn?"none":void 0}},Yi,s.createElement(_E,{ref:de,prefixCls:U,locale:M,editable:T,style:(0,fe.Z)((0,fe.Z)({},Yi.length===0?void 0:Ci),{},{visibility:Qa?"hidden":null})}),s.createElement("div",{className:oe()("".concat(U,"-ink-bar"),(0,Ee.Z)({},"".concat(U,"-ink-bar-animated"),g.inkBar)),style:da}))))),s.createElement(XO,(0,Pt.Z)({},e,{removeAriaLabel:M==null?void 0:M.removeAriaLabel,ref:se,prefixCls:U,tabs:Di,className:!Qa&&Vr,tabMoving:!!xn})),s.createElement(bE,{ref:Q,position:"right",extra:S,prefixCls:U})))}),xE=JO,QO=s.forwardRef(function(e,t){var o=e.prefixCls,i=e.className,u=e.style,g=e.id,_=e.active,x=e.tabKey,S=e.children;return s.createElement("div",{id:g&&"".concat(g,"-panel-").concat(x),role:"tabpanel",tabIndex:_?0:-1,"aria-labelledby":g&&"".concat(g,"-tab-").concat(x),"aria-hidden":!_,style:u,className:oe()(o,_&&"".concat(o,"-active"),i),ref:t},S)}),CE=QO,e3=["renderTabBar"],t3=["label","key"],n3=function(t){var o=t.renderTabBar,i=(0,Ve.Z)(t,e3),u=s.useContext(zx),g=u.tabs;if(o){var _=(0,fe.Z)((0,fe.Z)({},i),{},{panes:g.map(function(x){var S=x.label,T=x.key,M=(0,Ve.Z)(x,t3);return s.createElement(CE,(0,Pt.Z)({tab:S,key:T,tabKey:T},M))})});return o(_,xE)}return s.createElement(xE,i)},r3=n3,i3=["key","forceRender","style","className","destroyInactiveTabPane"],o3=function(t){var o=t.id,i=t.activeKey,u=t.animated,g=t.tabPosition,_=t.destroyInactiveTabPane,x=s.useContext(zx),S=x.prefixCls,T=x.tabs,M=u.tabPane,R="".concat(S,"-tabpane");return s.createElement("div",{className:oe()("".concat(S,"-content-holder"))},s.createElement("div",{className:oe()("".concat(S,"-content"),"".concat(S,"-content-").concat(g),(0,Ee.Z)({},"".concat(S,"-content-animated"),M))},T.map(function(N){var F=N.key,B=N.forceRender,V=N.style,j=N.className,H=N.destroyInactiveTabPane,U=(0,Ve.Z)(N,i3),K=F===i;return s.createElement(mr.ZP,(0,Pt.Z)({key:F,visible:K,forceRender:B,removeOnLeave:!!(_||H),leavedClassName:"".concat(R,"-hidden")},u.tabPaneMotion),function(Y,q){var Q=Y.style,re=Y.className;return s.createElement(CE,(0,Pt.Z)({},U,{prefixCls:R,id:o,tabKey:F,animated:M,active:K,style:(0,fe.Z)((0,fe.Z)({},V),Q),className:oe()(j,re),ref:q}))})})))},a3=o3;function s3(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{inkBar:!0,tabPane:!1},t;return e===!1?t={inkBar:!1,tabPane:!1}:e===!0?t={inkBar:!0,tabPane:!1}:t=(0,fe.Z)({inkBar:!0},(0,Tt.Z)(e)==="object"?e:{}),t.tabPaneMotion&&t.tabPane===void 0&&(t.tabPane=!0),!t.tabPaneMotion&&t.tabPane&&(t.tabPane=!1),t}var l3=["id","prefixCls","className","items","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","more","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll","getPopupContainer","popupClassName","indicator"],wE=0,c3=s.forwardRef(function(e,t){var o=e.id,i=e.prefixCls,u=i===void 0?"rc-tabs":i,g=e.className,_=e.items,x=e.direction,S=e.activeKey,T=e.defaultActiveKey,M=e.editable,R=e.animated,N=e.tabPosition,F=N===void 0?"top":N,B=e.tabBarGutter,V=e.tabBarStyle,j=e.tabBarExtraContent,H=e.locale,U=e.more,K=e.destroyInactiveTabPane,Y=e.renderTabBar,q=e.onChange,Q=e.onTabClick,re=e.onTabScroll,ae=e.getPopupContainer,se=e.popupClassName,de=e.indicator,pe=(0,Ve.Z)(e,l3),ge=s.useMemo(function(){return(_||[]).filter(function(tt){return tt&&(0,Tt.Z)(tt)==="object"&&"key"in tt})},[_]),me=x==="rtl",be=s3(R),_e=(0,s.useState)(!1),Ie=(0,ve.Z)(_e,2),Ce=Ie[0],Le=Ie[1];(0,s.useEffect)(function(){Le((0,Bt.Z)())},[]);var ze=(0,Jo.Z)(function(){var tt;return(tt=ge[0])===null||tt===void 0?void 0:tt.key},{value:S,defaultValue:T}),ke=(0,ve.Z)(ze,2),Ze=ke[0],je=ke[1],Ue=(0,s.useState)(function(){return ge.findIndex(function(tt){return tt.key===Ze})}),He=(0,ve.Z)(Ue,2),Qe=He[0],We=He[1];(0,s.useEffect)(function(){var tt=ge.findIndex(function(_t){return _t.key===Ze});if(tt===-1){var xt;tt=Math.max(0,Math.min(Qe,ge.length-1)),je((xt=ge[tt])===null||xt===void 0?void 0:xt.key)}We(tt)},[ge.map(function(tt){return tt.key}).join("_"),Ze,Qe]);var it=(0,Jo.Z)(null,{value:o}),Je=(0,ve.Z)(it,2),wt=Je[0],Dt=Je[1];(0,s.useEffect)(function(){o||(Dt("rc-tabs-".concat(wE)),wE+=1)},[]);function ct(tt,xt){Q==null||Q(tt,xt);var _t=tt!==Ze;je(tt),_t&&(q==null||q(tt))}var ht={id:wt,activeKey:Ze,animated:be,tabPosition:F,rtl:me,mobile:Ce},ut=(0,fe.Z)((0,fe.Z)({},ht),{},{editable:M,locale:H,more:U,tabBarGutter:B,onTabClick:ct,onTabScroll:re,extra:j,style:V,panes:null,getPopupContainer:ae,popupClassName:se,indicator:de});return s.createElement(zx.Provider,{value:{tabs:ge,prefixCls:u}},s.createElement("div",(0,Pt.Z)({ref:t,id:o,className:oe()(u,"".concat(u,"-").concat(F),(0,Ee.Z)((0,Ee.Z)((0,Ee.Z)({},"".concat(u,"-mobile"),Ce),"".concat(u,"-editable"),M),"".concat(u,"-rtl"),me),g)},pe),s.createElement(r3,(0,Pt.Z)({},ut,{renderTabBar:Y})),s.createElement(a3,(0,Pt.Z)({destroyInactiveTabPane:K},ht,{animated:be}))))}),u3=c3,d3=u3;const f3={motionAppear:!1,motionEnter:!0,motionLeave:!0};function h3(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{inkBar:!0,tabPane:!1},o;return t===!1?o={inkBar:!1,tabPane:!1}:t===!0?o={inkBar:!0,tabPane:!0}:o=Object.assign({inkBar:!0},typeof t=="object"?t:{}),o.tabPane&&(o.tabPaneMotion=Object.assign(Object.assign({},f3),{motionName:(0,Bi.m)(e,"switch")})),o}var p3=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};function m3(e){return e.filter(t=>t)}function g3(e,t){if(e)return e;const o=(0,El.Z)(t).map(i=>{if(s.isValidElement(i)){const{key:u,props:g}=i,_=g||{},{tab:x}=_,S=p3(_,["tab"]);return Object.assign(Object.assign({key:String(u)},S),{label:x})}return null});return m3(o)}var v3=e=>{const{componentCls:t,motionDurationSlow:o}=e;return[{[t]:{[`${t}-switch`]:{"&-appear, &-enter":{transition:"none","&-start":{opacity:0},"&-active":{opacity:1,transition:`opacity ${o}`}},"&-leave":{position:"absolute",transition:"none",inset:0,"&-start":{opacity:1},"&-active":{opacity:0,transition:`opacity ${o}`}}}}},[Od(e,"slide-up"),Od(e,"slide-down")]]};const y3=e=>{const{componentCls:t,tabsCardPadding:o,cardBg:i,cardGutter:u,colorBorderSecondary:g,itemSelectedColor:_}=e;return{[`${t}-card`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{margin:0,padding:o,background:i,border:`${(0,J.bf)(e.lineWidth)} ${e.lineType} ${g}`,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOut}`},[`${t}-tab-active`]:{color:_,background:e.colorBgContainer},[`${t}-tab-focus`]:Object.assign({},(0,mn.oN)(e,-3)),[`${t}-ink-bar`]:{visibility:"hidden"},[`& ${t}-tab${t}-tab-focus ${t}-tab-btn`]:{outline:"none"}},[`&${t}-top, &${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginLeft:{_skip_check_:!0,value:(0,J.bf)(u)}}}},[`&${t}-top`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:`${(0,J.bf)(e.borderRadiusLG)} ${(0,J.bf)(e.borderRadiusLG)} 0 0`},[`${t}-tab-active`]:{borderBottomColor:e.colorBgContainer}}},[`&${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:`0 0 ${(0,J.bf)(e.borderRadiusLG)} ${(0,J.bf)(e.borderRadiusLG)}`},[`${t}-tab-active`]:{borderTopColor:e.colorBgContainer}}},[`&${t}-left, &${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginTop:(0,J.bf)(u)}}},[`&${t}-left`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`${(0,J.bf)(e.borderRadiusLG)} 0 0 ${(0,J.bf)(e.borderRadiusLG)}`}},[`${t}-tab-active`]:{borderRightColor:{_skip_check_:!0,value:e.colorBgContainer}}}},[`&${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${(0,J.bf)(e.borderRadiusLG)} ${(0,J.bf)(e.borderRadiusLG)} 0`}},[`${t}-tab-active`]:{borderLeftColor:{_skip_check_:!0,value:e.colorBgContainer}}}}}}},_3=e=>{const{componentCls:t,itemHoverColor:o,dropdownEdgeChildVerticalPadding:i}=e;return{[`${t}-dropdown`]:Object.assign(Object.assign({},(0,mn.Wf)(e)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:e.zIndexPopup,display:"block","&-hidden":{display:"none"},[`${t}-dropdown-menu`]:{maxHeight:e.tabsDropdownHeight,margin:0,padding:`${(0,J.bf)(i)} 0`,overflowX:"hidden",overflowY:"auto",textAlign:{_skip_check_:!0,value:"left"},listStyleType:"none",backgroundColor:e.colorBgContainer,backgroundClip:"padding-box",borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary,"&-item":Object.assign(Object.assign({},mn.vS),{display:"flex",alignItems:"center",minWidth:e.tabsDropdownWidth,margin:0,padding:`${(0,J.bf)(e.paddingXXS)} ${(0,J.bf)(e.paddingSM)}`,color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,"> span":{flex:1,whiteSpace:"nowrap"},"&-remove":{flex:"none",marginLeft:{_skip_check_:!0,value:e.marginSM},color:e.colorTextDescription,fontSize:e.fontSizeSM,background:"transparent",border:0,cursor:"pointer","&:hover":{color:o}},"&:hover":{background:e.controlItemBgHover},"&-disabled":{"&, &:hover":{color:e.colorTextDisabled,background:"transparent",cursor:"not-allowed"}}})}})}},b3=e=>{const{componentCls:t,margin:o,colorBorderSecondary:i,horizontalMargin:u,verticalItemPadding:g,verticalItemMargin:_,calc:x}=e;return{[`${t}-top, ${t}-bottom`]:{flexDirection:"column",[`> ${t}-nav, > div > ${t}-nav`]:{margin:u,"&::before":{position:"absolute",right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},borderBottom:`${(0,J.bf)(e.lineWidth)} ${e.lineType} ${i}`,content:"''"},[`${t}-ink-bar`]:{height:e.lineWidthBold,"&-animated":{transition:`width ${e.motionDurationSlow}, left ${e.motionDurationSlow},
            right ${e.motionDurationSlow}`}},[`${t}-nav-wrap`]:{"&::before, &::after":{top:0,bottom:0,width:e.controlHeight},"&::before":{left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowTabsOverflowLeft},"&::after":{right:{_skip_check_:!0,value:0},boxShadow:e.boxShadowTabsOverflowRight},[`&${t}-nav-wrap-ping-left::before`]:{opacity:1},[`&${t}-nav-wrap-ping-right::after`]:{opacity:1}}}},[`${t}-top`]:{[`> ${t}-nav,
        > div > ${t}-nav`]:{"&::before":{bottom:0},[`${t}-ink-bar`]:{bottom:0}}},[`${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{order:1,marginTop:o,marginBottom:0,"&::before":{top:0},[`${t}-ink-bar`]:{top:0}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{order:0}},[`${t}-left, ${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{flexDirection:"column",minWidth:x(e.controlHeight).mul(1.25).equal(),[`${t}-tab`]:{padding:g,textAlign:"center"},[`${t}-tab + ${t}-tab`]:{margin:_},[`${t}-nav-wrap`]:{flexDirection:"column","&::before, &::after":{right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},height:e.controlHeight},"&::before":{top:0,boxShadow:e.boxShadowTabsOverflowTop},"&::after":{bottom:0,boxShadow:e.boxShadowTabsOverflowBottom},[`&${t}-nav-wrap-ping-top::before`]:{opacity:1},[`&${t}-nav-wrap-ping-bottom::after`]:{opacity:1}},[`${t}-ink-bar`]:{width:e.lineWidthBold,"&-animated":{transition:`height ${e.motionDurationSlow}, top ${e.motionDurationSlow}`}},[`${t}-nav-list, ${t}-nav-operations`]:{flex:"1 0 auto",flexDirection:"column"}}},[`${t}-left`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-ink-bar`]:{right:{_skip_check_:!0,value:0}}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{marginLeft:{_skip_check_:!0,value:(0,J.bf)(x(e.lineWidth).mul(-1).equal())},borderLeft:{_skip_check_:!0,value:`${(0,J.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},[`> ${t}-content > ${t}-tabpane`]:{paddingLeft:{_skip_check_:!0,value:e.paddingLG}}}},[`${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{order:1,[`${t}-ink-bar`]:{left:{_skip_check_:!0,value:0}}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{order:0,marginRight:{_skip_check_:!0,value:x(e.lineWidth).mul(-1).equal()},borderRight:{_skip_check_:!0,value:`${(0,J.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},[`> ${t}-content > ${t}-tabpane`]:{paddingRight:{_skip_check_:!0,value:e.paddingLG}}}}}},x3=e=>{const{componentCls:t,cardPaddingSM:o,cardPaddingLG:i,horizontalItemPaddingSM:u,horizontalItemPaddingLG:g}=e;return{[t]:{"&-small":{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:u,fontSize:e.titleFontSizeSM}}},"&-large":{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:g,fontSize:e.titleFontSizeLG}}}},[`${t}-card`]:{[`&${t}-small`]:{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:o}},[`&${t}-bottom`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:`0 0 ${(0,J.bf)(e.borderRadius)} ${(0,J.bf)(e.borderRadius)}`}},[`&${t}-top`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:`${(0,J.bf)(e.borderRadius)} ${(0,J.bf)(e.borderRadius)} 0 0`}},[`&${t}-right`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${(0,J.bf)(e.borderRadius)} ${(0,J.bf)(e.borderRadius)} 0`}}},[`&${t}-left`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`${(0,J.bf)(e.borderRadius)} 0 0 ${(0,J.bf)(e.borderRadius)}`}}}},[`&${t}-large`]:{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:i}}}}}},C3=e=>{const{componentCls:t,itemActiveColor:o,itemHoverColor:i,iconCls:u,tabsHorizontalItemMargin:g,horizontalItemPadding:_,itemSelectedColor:x,itemColor:S}=e,T=`${t}-tab`;return{[T]:{position:"relative",WebkitTouchCallout:"none",WebkitTapHighlightColor:"transparent",display:"inline-flex",alignItems:"center",padding:_,fontSize:e.titleFontSize,background:"transparent",border:0,outline:"none",cursor:"pointer",color:S,"&-btn, &-remove":{"&:focus:not(:focus-visible), &:active":{color:o}},"&-btn":{outline:"none",transition:`all ${e.motionDurationSlow}`,[`${T}-icon:not(:last-child)`]:{marginInlineEnd:e.marginSM}},"&-remove":Object.assign({flex:"none",marginRight:{_skip_check_:!0,value:e.calc(e.marginXXS).mul(-1).equal()},marginLeft:{_skip_check_:!0,value:e.marginXS},color:e.colorTextDescription,fontSize:e.fontSizeSM,background:"transparent",border:"none",outline:"none",cursor:"pointer",transition:`all ${e.motionDurationSlow}`,"&:hover":{color:e.colorTextHeading}},(0,mn.Qy)(e)),"&:hover":{color:i},[`&${T}-active ${T}-btn`]:{color:x,textShadow:e.tabsActiveTextShadow},[`&${T}-focus ${T}-btn`]:Object.assign({},(0,mn.oN)(e)),[`&${T}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed"},[`&${T}-disabled ${T}-btn, &${T}-disabled ${t}-remove`]:{"&:focus, &:active":{color:e.colorTextDisabled}},[`& ${T}-remove ${u}`]:{margin:0},[`${u}:not(:last-child)`]:{marginRight:{_skip_check_:!0,value:e.marginSM}}},[`${T} + ${T}`]:{margin:{_skip_check_:!0,value:g}}}},w3=e=>{const{componentCls:t,tabsHorizontalItemMarginRTL:o,iconCls:i,cardGutter:u,calc:g}=e;return{[`${t}-rtl`]:{direction:"rtl",[`${t}-nav`]:{[`${t}-tab`]:{margin:{_skip_check_:!0,value:o},[`${t}-tab:last-of-type`]:{marginLeft:{_skip_check_:!0,value:0}},[i]:{marginRight:{_skip_check_:!0,value:0},marginLeft:{_skip_check_:!0,value:(0,J.bf)(e.marginSM)}},[`${t}-tab-remove`]:{marginRight:{_skip_check_:!0,value:(0,J.bf)(e.marginXS)},marginLeft:{_skip_check_:!0,value:(0,J.bf)(g(e.marginXXS).mul(-1).equal())},[i]:{margin:0}}}},[`&${t}-left`]:{[`> ${t}-nav`]:{order:1},[`> ${t}-content-holder`]:{order:0}},[`&${t}-right`]:{[`> ${t}-nav`]:{order:0},[`> ${t}-content-holder`]:{order:1}},[`&${t}-card${t}-top, &${t}-card${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginRight:{_skip_check_:!0,value:u},marginLeft:{_skip_check_:!0,value:0}}}}},[`${t}-dropdown-rtl`]:{direction:"rtl"},[`${t}-menu-item`]:{[`${t}-dropdown-rtl`]:{textAlign:{_skip_check_:!0,value:"right"}}}}},S3=e=>{const{componentCls:t,tabsCardPadding:o,cardHeight:i,cardGutter:u,itemHoverColor:g,itemActiveColor:_,colorBorderSecondary:x}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,mn.Wf)(e)),{display:"flex",[`> ${t}-nav, > div > ${t}-nav`]:{position:"relative",display:"flex",flex:"none",alignItems:"center",[`${t}-nav-wrap`]:{position:"relative",display:"flex",flex:"auto",alignSelf:"stretch",overflow:"hidden",whiteSpace:"nowrap",transform:"translate(0)","&::before, &::after":{position:"absolute",zIndex:1,opacity:0,transition:`opacity ${e.motionDurationSlow}`,content:"''",pointerEvents:"none"}},[`${t}-nav-list`]:{position:"relative",display:"flex",transition:`opacity ${e.motionDurationSlow}`},[`${t}-nav-operations`]:{display:"flex",alignSelf:"stretch"},[`${t}-nav-operations-hidden`]:{position:"absolute",visibility:"hidden",pointerEvents:"none"},[`${t}-nav-more`]:{position:"relative",padding:o,background:"transparent",border:0,color:e.colorText,"&::after":{position:"absolute",right:{_skip_check_:!0,value:0},bottom:0,left:{_skip_check_:!0,value:0},height:e.calc(e.controlHeightLG).div(8).equal(),transform:"translateY(100%)",content:"''"}},[`${t}-nav-add`]:Object.assign({minWidth:i,marginLeft:{_skip_check_:!0,value:u},padding:(0,J.bf)(e.paddingXS),background:"transparent",border:`${(0,J.bf)(e.lineWidth)} ${e.lineType} ${x}`,borderRadius:`${(0,J.bf)(e.borderRadiusLG)} ${(0,J.bf)(e.borderRadiusLG)} 0 0`,outline:"none",cursor:"pointer",color:e.colorText,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOut}`,"&:hover":{color:g},"&:active, &:focus:not(:focus-visible)":{color:_}},(0,mn.Qy)(e,-3))},[`${t}-extra-content`]:{flex:"none"},[`${t}-ink-bar`]:{position:"absolute",background:e.inkBarColor,pointerEvents:"none"}}),C3(e)),{[`${t}-content`]:{position:"relative",width:"100%"},[`${t}-content-holder`]:{flex:"auto",minWidth:0,minHeight:0},[`${t}-tabpane`]:Object.assign(Object.assign({},(0,mn.Qy)(e)),{"&-hidden":{display:"none"}})}),[`${t}-centered`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-nav-wrap`]:{[`&:not([class*='${t}-nav-wrap-ping']) > ${t}-nav-list`]:{margin:"auto"}}}}}},E3=e=>{const t=e.controlHeightLG;return{zIndexPopup:e.zIndexPopupBase+50,cardBg:e.colorFillAlter,cardHeight:t,cardPadding:`${(t-Math.round(e.fontSize*e.lineHeight))/2-e.lineWidth}px ${e.padding}px`,cardPaddingSM:`${e.paddingXXS*1.5}px ${e.padding}px`,cardPaddingLG:`${e.paddingXS}px ${e.padding}px ${e.paddingXXS*1.5}px`,titleFontSize:e.fontSize,titleFontSizeLG:e.fontSizeLG,titleFontSizeSM:e.fontSize,inkBarColor:e.colorPrimary,horizontalMargin:`0 0 ${e.margin}px 0`,horizontalItemGutter:32,horizontalItemMargin:"",horizontalItemMarginRTL:"",horizontalItemPadding:`${e.paddingSM}px 0`,horizontalItemPaddingSM:`${e.paddingXS}px 0`,horizontalItemPaddingLG:`${e.padding}px 0`,verticalItemPadding:`${e.paddingXS}px ${e.paddingLG}px`,verticalItemMargin:`${e.margin}px 0 0 0`,itemColor:e.colorText,itemSelectedColor:e.colorPrimary,itemHoverColor:e.colorPrimaryHover,itemActiveColor:e.colorPrimaryActive,cardGutter:e.marginXXS/2}};var I3=(0,Ae.I$)("Tabs",e=>{const t=(0,vn.IX)(e,{tabsCardPadding:e.cardPadding,dropdownEdgeChildVerticalPadding:e.paddingXXS,tabsActiveTextShadow:"0 0 0.25px currentcolor",tabsDropdownHeight:200,tabsDropdownWidth:120,tabsHorizontalItemMargin:`0 0 0 ${(0,J.bf)(e.horizontalItemGutter)}`,tabsHorizontalItemMarginRTL:`0 0 0 ${(0,J.bf)(e.horizontalItemGutter)}`});return[x3(t),w3(t),b3(t),_3(t),y3(t),S3(t),v3(t)]},E3),T3=()=>null,M3=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};const SE=e=>{var t,o,i,u,g,_,x,S,T,M,R;const{type:N,className:F,rootClassName:B,size:V,onEdit:j,hideAdd:H,centered:U,addIcon:K,removeIcon:Y,moreIcon:q,more:Q,popupClassName:re,children:ae,items:se,animated:de,style:pe,indicatorSize:ge,indicator:me}=e,be=M3(e,["type","className","rootClassName","size","onEdit","hideAdd","centered","addIcon","removeIcon","moreIcon","more","popupClassName","children","items","animated","style","indicatorSize","indicator"]),{prefixCls:_e}=be,{direction:Ie,tabs:Ce,getPrefixCls:Le,getPopupContainer:ze}=s.useContext(De.E_),ke=Le("tabs",_e),Ze=(0,po.Z)(ke),[je,Ue,He]=I3(ke,Ze);let Qe;N==="editable-card"&&(Qe={onEdit:(ht,ut)=>{let{key:tt,event:xt}=ut;j==null||j(ht==="add"?xt:tt,ht)},removeIcon:(t=Y!=null?Y:Ce==null?void 0:Ce.removeIcon)!==null&&t!==void 0?t:s.createElement(nr,null),addIcon:(K!=null?K:Ce==null?void 0:Ce.addIcon)||s.createElement(LO,null),showAdd:H!==!0});const We=Le(),it=(0,Ts.Z)(V),Je=g3(se,ae),wt=h3(ke,de),Dt=Object.assign(Object.assign({},Ce==null?void 0:Ce.style),pe),ct={align:(o=me==null?void 0:me.align)!==null&&o!==void 0?o:(i=Ce==null?void 0:Ce.indicator)===null||i===void 0?void 0:i.align,size:(x=(g=(u=me==null?void 0:me.size)!==null&&u!==void 0?u:ge)!==null&&g!==void 0?g:(_=Ce==null?void 0:Ce.indicator)===null||_===void 0?void 0:_.size)!==null&&x!==void 0?x:Ce==null?void 0:Ce.indicatorSize};return je(s.createElement(d3,Object.assign({direction:Ie,getPopupContainer:ze},be,{items:Je,className:oe()({[`${ke}-${it}`]:it,[`${ke}-card`]:["card","editable-card"].includes(N),[`${ke}-editable-card`]:N==="editable-card",[`${ke}-centered`]:U},Ce==null?void 0:Ce.className,F,B,Ue,He,Ze),popupClassName:oe()(re,Ue,He,Ze),style:Dt,editable:Qe,more:Object.assign({icon:(R=(M=(T=(S=Ce==null?void 0:Ce.more)===null||S===void 0?void 0:S.icon)!==null&&T!==void 0?T:Ce==null?void 0:Ce.moreIcon)!==null&&M!==void 0?M:q)!==null&&R!==void 0?R:s.createElement(fh,null),transitionName:`${We}-slide-up`},Q),prefixCls:ke,animated:wt,indicator:ct})))};SE.TabPane=T3;var EE=SE,P3=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o},IE=e=>{var{prefixCls:t,className:o,hoverable:i=!0}=e,u=P3(e,["prefixCls","className","hoverable"]);const{getPrefixCls:g}=s.useContext(De.E_),_=g("card",t),x=oe()(`${_}-grid`,o,{[`${_}-grid-hoverable`]:i});return s.createElement("div",Object.assign({},u,{className:x}))};const O3=e=>{const{antCls:t,componentCls:o,headerHeight:i,headerPadding:u,tabsMarginBottom:g}=e;return Object.assign(Object.assign({display:"flex",justifyContent:"center",flexDirection:"column",minHeight:i,marginBottom:-1,padding:`0 ${(0,J.bf)(u)}`,color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:e.headerFontSize,background:e.headerBg,borderBottom:`${(0,J.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorderSecondary}`,borderRadius:`${(0,J.bf)(e.borderRadiusLG)} ${(0,J.bf)(e.borderRadiusLG)} 0 0`},(0,mn.dF)()),{"&-wrapper":{width:"100%",display:"flex",alignItems:"center"},"&-title":Object.assign(Object.assign({display:"inline-block",flex:1},mn.vS),{[`
          > ${o}-typography,
          > ${o}-typography-edit-content
        `]:{insetInlineStart:0,marginTop:0,marginBottom:0}}),[`${t}-tabs-top`]:{clear:"both",marginBottom:g,color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,"&-bar":{borderBottom:`${(0,J.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorderSecondary}`}}})},$3=e=>{const{cardPaddingBase:t,colorBorderSecondary:o,cardShadow:i,lineWidth:u}=e;return{width:"33.33%",padding:t,border:0,borderRadius:0,boxShadow:`
      ${(0,J.bf)(u)} 0 0 0 ${o},
      0 ${(0,J.bf)(u)} 0 0 ${o},
      ${(0,J.bf)(u)} ${(0,J.bf)(u)} 0 0 ${o},
      ${(0,J.bf)(u)} 0 0 0 ${o} inset,
      0 ${(0,J.bf)(u)} 0 0 ${o} inset;
    `,transition:`all ${e.motionDurationMid}`,"&-hoverable:hover":{position:"relative",zIndex:1,boxShadow:i}}},R3=e=>{const{componentCls:t,iconCls:o,actionsLiMargin:i,cardActionsIconSize:u,colorBorderSecondary:g,actionsBg:_}=e;return Object.assign(Object.assign({margin:0,padding:0,listStyle:"none",background:_,borderTop:`${(0,J.bf)(e.lineWidth)} ${e.lineType} ${g}`,display:"flex",borderRadius:`0 0 ${(0,J.bf)(e.borderRadiusLG)} ${(0,J.bf)(e.borderRadiusLG)}`},(0,mn.dF)()),{"& > li":{margin:i,color:e.colorTextDescription,textAlign:"center","> span":{position:"relative",display:"block",minWidth:e.calc(e.cardActionsIconSize).mul(2).equal(),fontSize:e.fontSize,lineHeight:e.lineHeight,cursor:"pointer","&:hover":{color:e.colorPrimary,transition:`color ${e.motionDurationMid}`},[`a:not(${t}-btn), > ${o}`]:{display:"inline-block",width:"100%",color:e.colorTextDescription,lineHeight:(0,J.bf)(e.fontHeight),transition:`color ${e.motionDurationMid}`,"&:hover":{color:e.colorPrimary}},[`> ${o}`]:{fontSize:u,lineHeight:(0,J.bf)(e.calc(u).mul(e.lineHeight).equal())}},"&:not(:last-child)":{borderInlineEnd:`${(0,J.bf)(e.lineWidth)} ${e.lineType} ${g}`}}})},A3=e=>Object.assign(Object.assign({margin:`${(0,J.bf)(e.calc(e.marginXXS).mul(-1).equal())} 0`,display:"flex"},(0,mn.dF)()),{"&-avatar":{paddingInlineEnd:e.padding},"&-detail":{overflow:"hidden",flex:1,"> div:not(:last-child)":{marginBottom:e.marginXS}},"&-title":Object.assign({color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG},mn.vS),"&-description":{color:e.colorTextDescription}}),D3=e=>{const{componentCls:t,colorFillAlter:o,headerPadding:i,bodyPadding:u}=e;return{[`${t}-head`]:{padding:`0 ${(0,J.bf)(i)}`,background:o,"&-title":{fontSize:e.fontSize}},[`${t}-body`]:{padding:`${(0,J.bf)(e.padding)} ${(0,J.bf)(u)}`}}},z3=e=>{const{componentCls:t}=e;return{overflow:"hidden",[`${t}-body`]:{userSelect:"none"}}},L3=e=>{const{componentCls:t,cardShadow:o,cardHeadPadding:i,colorBorderSecondary:u,boxShadowTertiary:g,bodyPadding:_,extraColor:x}=e;return{[t]:Object.assign(Object.assign({},(0,mn.Wf)(e)),{position:"relative",background:e.colorBgContainer,borderRadius:e.borderRadiusLG,[`&:not(${t}-bordered)`]:{boxShadow:g},[`${t}-head`]:O3(e),[`${t}-extra`]:{marginInlineStart:"auto",color:x,fontWeight:"normal",fontSize:e.fontSize},[`${t}-body`]:Object.assign({padding:_,borderRadius:`0 0 ${(0,J.bf)(e.borderRadiusLG)} ${(0,J.bf)(e.borderRadiusLG)}`},(0,mn.dF)()),[`${t}-grid`]:$3(e),[`${t}-cover`]:{"> *":{display:"block",width:"100%",borderRadius:`${(0,J.bf)(e.borderRadiusLG)} ${(0,J.bf)(e.borderRadiusLG)} 0 0`}},[`${t}-actions`]:R3(e),[`${t}-meta`]:A3(e)}),[`${t}-bordered`]:{border:`${(0,J.bf)(e.lineWidth)} ${e.lineType} ${u}`,[`${t}-cover`]:{marginTop:-1,marginInlineStart:-1,marginInlineEnd:-1}},[`${t}-hoverable`]:{cursor:"pointer",transition:`box-shadow ${e.motionDurationMid}, border-color ${e.motionDurationMid}`,"&:hover":{borderColor:"transparent",boxShadow:o}},[`${t}-contain-grid`]:{borderRadius:`${(0,J.bf)(e.borderRadiusLG)} ${(0,J.bf)(e.borderRadiusLG)} 0 0 `,[`${t}-body`]:{display:"flex",flexWrap:"wrap"},[`&:not(${t}-loading) ${t}-body`]:{marginBlockStart:e.calc(e.lineWidth).mul(-1).equal(),marginInlineStart:e.calc(e.lineWidth).mul(-1).equal(),padding:0}},[`${t}-contain-tabs`]:{[`> div${t}-head`]:{minHeight:0,[`${t}-head-title, ${t}-extra`]:{paddingTop:i}}},[`${t}-type-inner`]:D3(e),[`${t}-loading`]:z3(e),[`${t}-rtl`]:{direction:"rtl"}}},N3=e=>{const{componentCls:t,bodyPaddingSM:o,headerPaddingSM:i,headerHeightSM:u,headerFontSizeSM:g}=e;return{[`${t}-small`]:{[`> ${t}-head`]:{minHeight:u,padding:`0 ${(0,J.bf)(i)}`,fontSize:g,[`> ${t}-head-wrapper`]:{[`> ${t}-extra`]:{fontSize:e.fontSize}}},[`> ${t}-body`]:{padding:o}},[`${t}-small${t}-contain-tabs`]:{[`> ${t}-head`]:{[`${t}-head-title, ${t}-extra`]:{paddingTop:0,display:"flex",alignItems:"center"}}}}},B3=e=>{var t,o;return{headerBg:"transparent",headerFontSize:e.fontSizeLG,headerFontSizeSM:e.fontSize,headerHeight:e.fontSizeLG*e.lineHeightLG+e.padding*2,headerHeightSM:e.fontSize*e.lineHeight+e.paddingXS*2,actionsBg:e.colorBgContainer,actionsLiMargin:`${e.paddingSM}px 0`,tabsMarginBottom:-e.padding-e.lineWidth,extraColor:e.colorText,bodyPaddingSM:12,headerPaddingSM:12,bodyPadding:(t=e.bodyPadding)!==null&&t!==void 0?t:e.paddingLG,headerPadding:(o=e.headerPadding)!==null&&o!==void 0?o:e.paddingLG}};var F3=(0,Ae.I$)("Card",e=>{const t=(0,vn.IX)(e,{cardShadow:e.boxShadowCard,cardHeadPadding:e.padding,cardPaddingBase:e.paddingLG,cardActionsIconSize:e.fontSize});return[L3(t),N3(t)]},B3),TE=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};const k3=e=>{const{actionClasses:t,actions:o=[],actionStyle:i}=e;return s.createElement("ul",{className:t,style:i},o.map((u,g)=>{const _=`action-${g}`;return s.createElement("li",{style:{width:`${100/o.length}%`},key:_},s.createElement("span",null,u))}))};var j3=s.forwardRef((e,t)=>{const{prefixCls:o,className:i,rootClassName:u,style:g,extra:_,headStyle:x={},bodyStyle:S={},title:T,loading:M,bordered:R,variant:N,size:F,type:B,cover:V,actions:j,tabList:H,children:U,activeTabKey:K,defaultActiveTabKey:Y,tabBarExtraContent:q,hoverable:Q,tabProps:re={},classNames:ae,styles:se}=e,de=TE(e,["prefixCls","className","rootClassName","style","extra","headStyle","bodyStyle","title","loading","bordered","variant","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps","classNames","styles"]),{getPrefixCls:pe,direction:ge,card:me}=s.useContext(De.E_),[be]=(0,Pu.Z)("card",N,R),_e=en=>{var kt;(kt=e.onTabChange)===null||kt===void 0||kt.call(e,en)},Ie=en=>{var kt;return oe()((kt=me==null?void 0:me.classNames)===null||kt===void 0?void 0:kt[en],ae==null?void 0:ae[en])},Ce=en=>{var kt;return Object.assign(Object.assign({},(kt=me==null?void 0:me.styles)===null||kt===void 0?void 0:kt[en]),se==null?void 0:se[en])},Le=s.useMemo(()=>{let en=!1;return s.Children.forEach(U,kt=>{(kt==null?void 0:kt.type)===IE&&(en=!0)}),en},[U]),ze=pe("card",o),[ke,Ze,je]=F3(ze),Ue=s.createElement(xd,{loading:!0,active:!0,paragraph:{rows:4},title:!1},U),He=K!==void 0,Qe=Object.assign(Object.assign({},re),{[He?"activeKey":"defaultActiveKey"]:He?K:Y,tabBarExtraContent:q});let We;const it=(0,Ts.Z)(F),Je=!it||it==="default"?"large":it,wt=H?s.createElement(EE,Object.assign({size:Je},Qe,{className:`${ze}-head-tabs`,onChange:_e,items:H.map(en=>{var{tab:kt}=en,cn=TE(en,["tab"]);return Object.assign({label:kt},cn)})})):null;if(T||_||wt){const en=oe()(`${ze}-head`,Ie("header")),kt=oe()(`${ze}-head-title`,Ie("title")),cn=oe()(`${ze}-extra`,Ie("extra")),zn=Object.assign(Object.assign({},x),Ce("header"));We=s.createElement("div",{className:en,style:zn},s.createElement("div",{className:`${ze}-head-wrapper`},T&&s.createElement("div",{className:kt,style:Ce("title")},T),_&&s.createElement("div",{className:cn,style:Ce("extra")},_)),wt)}const Dt=oe()(`${ze}-cover`,Ie("cover")),ct=V?s.createElement("div",{className:Dt,style:Ce("cover")},V):null,ht=oe()(`${ze}-body`,Ie("body")),ut=Object.assign(Object.assign({},S),Ce("body")),tt=s.createElement("div",{className:ht,style:ut},M?Ue:U),xt=oe()(`${ze}-actions`,Ie("actions")),_t=j!=null&&j.length?s.createElement(k3,{actionClasses:xt,actionStyle:Ce("actions"),actions:j}):null,dn=(0,Er.Z)(de,["onTabChange"]),on=oe()(ze,me==null?void 0:me.className,{[`${ze}-loading`]:M,[`${ze}-bordered`]:be!=="borderless",[`${ze}-hoverable`]:Q,[`${ze}-contain-grid`]:Le,[`${ze}-contain-tabs`]:H==null?void 0:H.length,[`${ze}-${it}`]:it,[`${ze}-type-${B}`]:!!B,[`${ze}-rtl`]:ge==="rtl"},i,u,Ze,je),Ut=Object.assign(Object.assign({},me==null?void 0:me.style),g);return ke(s.createElement("div",Object.assign({ref:t},dn,{className:on,style:Ut}),We,ct,tt,_t))}),Z3=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o},V3=e=>{const{prefixCls:t,className:o,avatar:i,title:u,description:g}=e,_=Z3(e,["prefixCls","className","avatar","title","description"]),{getPrefixCls:x}=s.useContext(De.E_),S=x("card",t),T=oe()(`${S}-meta`,o),M=i?s.createElement("div",{className:`${S}-meta-avatar`},i):null,R=u?s.createElement("div",{className:`${S}-meta-title`},u):null,N=g?s.createElement("div",{className:`${S}-meta-description`},g):null,F=R||N?s.createElement("div",{className:`${S}-meta-detail`},R,N):null;return s.createElement("div",Object.assign({},_,{className:T}),M,F)};const aS=j3;aS.Grid=IE,aS.Meta=V3;var H3=aS,U3={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0},W3=U3;function G3(e,t,o){var i=o||{},u=i.noTrailing,g=u===void 0?!1:u,_=i.noLeading,x=_===void 0?!1:_,S=i.debounceMode,T=S===void 0?void 0:S,M,R=!1,N=0;function F(){M&&clearTimeout(M)}function B(j){var H=j||{},U=H.upcomingOnly,K=U===void 0?!1:U;F(),R=!K}function V(){for(var j=arguments.length,H=new Array(j),U=0;U<j;U++)H[U]=arguments[U];var K=this,Y=Date.now()-N;if(R)return;function q(){N=Date.now(),t.apply(K,H)}function Q(){M=void 0}!x&&T&&!M&&q(),F(),T===void 0&&Y>e?x?(N=Date.now(),g||(M=setTimeout(T?Q:q,e))):q():g!==!0&&(M=setTimeout(T?Q:q,T===void 0?e-Y:e))}return V.cancel=B,V}function ME(e,t,o){var i=o||{},u=i.atBegin,g=u===void 0?!1:u;return G3(e,t,{debounceMode:g!==!1})}var X3={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(t){return s.createElement("ul",{style:{display:"block"}},t)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(t){return s.createElement("button",null,t+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,asNavFor:null},sS=X3;function lS(e,t,o){return Math.max(t,Math.min(e,o))}var Av=function(t){var o=["onTouchStart","onTouchMove","onWheel"];o.includes(t._reactName)||t.preventDefault()},Bx=function(t){for(var o=[],i=cS(t),u=uS(t),g=i;g<u;g++)t.lazyLoadedList.indexOf(g)<0&&o.push(g);return o},RH=function(t){for(var o=[],i=cS(t),u=uS(t),g=i;g<u;g++)o.push(g);return o},cS=function(t){return t.currentSlide-q3(t)},uS=function(t){return t.currentSlide+K3(t)},q3=function(t){return t.centerMode?Math.floor(t.slidesToShow/2)+(parseInt(t.centerPadding)>0?1:0):0},K3=function(t){return t.centerMode?Math.floor((t.slidesToShow-1)/2)+1+(parseInt(t.centerPadding)>0?1:0):t.slidesToShow},dS=function(t){return t&&t.offsetWidth||0},fS=function(t){return t&&t.offsetHeight||0},PE=function(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i,u,g,_;return i=t.startX-t.curX,u=t.startY-t.curY,g=Math.atan2(u,i),_=Math.round(g*180/Math.PI),_<0&&(_=360-Math.abs(_)),_<=45&&_>=0||_<=360&&_>=315?"left":_>=135&&_<=225?"right":o===!0?_>=35&&_<=135?"up":"down":"vertical"},Fx=function(t){var o=!0;return t.infinite||(t.centerMode&&t.currentSlide>=t.slideCount-1||t.slideCount<=t.slidesToShow||t.currentSlide>=t.slideCount-t.slidesToShow)&&(o=!1),o},hS=function(t,o){var i={};return o.forEach(function(u){return i[u]=t[u]}),i},Y3=function(t){var o=s.Children.count(t.children),i=t.listRef,u=Math.ceil(dS(i)),g=t.trackRef&&t.trackRef.node,_=Math.ceil(dS(g)),x;if(t.vertical)x=u;else{var S=t.centerMode&&parseInt(t.centerPadding)*2;typeof t.centerPadding=="string"&&t.centerPadding.slice(-1)==="%"&&(S*=u/100),x=Math.ceil((u-S)/t.slidesToShow)}var T=i&&fS(i.querySelector('[data-index="0"]')),M=T*t.slidesToShow,R=t.currentSlide===void 0?t.initialSlide:t.currentSlide;t.rtl&&t.currentSlide===void 0&&(R=o-1-t.initialSlide);var N=t.lazyLoadedList||[],F=Bx((0,fe.Z)((0,fe.Z)({},t),{},{currentSlide:R,lazyLoadedList:N}));N=N.concat(F);var B={slideCount:o,slideWidth:x,listWidth:u,trackWidth:_,currentSlide:R,slideHeight:T,listHeight:M,lazyLoadedList:N};return t.autoplaying===null&&t.autoplay&&(B.autoplaying="playing"),B},J3=function(t){var o=t.waitForAnimate,i=t.animating,u=t.fade,g=t.infinite,_=t.index,x=t.slideCount,S=t.lazyLoad,T=t.currentSlide,M=t.centerMode,R=t.slidesToScroll,N=t.slidesToShow,F=t.useCSS,B=t.lazyLoadedList;if(o&&i)return{};var V=_,j,H,U,K={},Y={},q=g?_:lS(_,0,x-1);if(u){if(!g&&(_<0||_>=x))return{};_<0?V=_+x:_>=x&&(V=_-x),S&&B.indexOf(V)<0&&(B=B.concat(V)),K={animating:!0,currentSlide:V,lazyLoadedList:B,targetSlide:V},Y={animating:!1,targetSlide:V}}else j=V,V<0?(j=V+x,g?x%R!==0&&(j=x-x%R):j=0):!Fx(t)&&V>T?V=j=T:M&&V>=x?(V=g?x:x-1,j=g?0:x-1):V>=x&&(j=V-x,g?x%R!==0&&(j=0):j=x-N),!g&&V+N>=x&&(j=x-N),H=G_((0,fe.Z)((0,fe.Z)({},t),{},{slideIndex:V})),U=G_((0,fe.Z)((0,fe.Z)({},t),{},{slideIndex:j})),g||(H===U&&(V=j),H=U),S&&(B=B.concat(Bx((0,fe.Z)((0,fe.Z)({},t),{},{currentSlide:V})))),F?(K={animating:!0,currentSlide:j,trackStyle:RE((0,fe.Z)((0,fe.Z)({},t),{},{left:H})),lazyLoadedList:B,targetSlide:q},Y={animating:!1,currentSlide:j,trackStyle:W_((0,fe.Z)((0,fe.Z)({},t),{},{left:U})),swipeLeft:null,targetSlide:q}):K={currentSlide:j,trackStyle:W_((0,fe.Z)((0,fe.Z)({},t),{},{left:U})),lazyLoadedList:B,targetSlide:q};return{state:K,nextState:Y}},Q3=function(t,o){var i,u,g,_,x,S=t.slidesToScroll,T=t.slidesToShow,M=t.slideCount,R=t.currentSlide,N=t.targetSlide,F=t.lazyLoad,B=t.infinite;if(_=M%S!==0,i=_?0:(M-R)%S,o.message==="previous")g=i===0?S:T-i,x=R-g,F&&!B&&(u=R-g,x=u===-1?M-1:u),B||(x=N-S);else if(o.message==="next")g=i===0?S:i,x=R+g,F&&!B&&(x=(R+S)%M+i),B||(x=N+S);else if(o.message==="dots")x=o.index*o.slidesToScroll;else if(o.message==="children"){if(x=o.index,B){var V=a$((0,fe.Z)((0,fe.Z)({},t),{},{targetSlide:x}));x>o.currentSlide&&V==="left"?x=x-M:x<o.currentSlide&&V==="right"&&(x=x+M)}}else o.message==="index"&&(x=Number(o.index));return x},e$=function(t,o,i){return t.target.tagName.match("TEXTAREA|INPUT|SELECT")||!o?"":t.keyCode===37?i?"next":"previous":t.keyCode===39?i?"previous":"next":""},t$=function(t,o,i){return t.target.tagName==="IMG"&&Av(t),!o||!i&&t.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:t.touches?t.touches[0].pageX:t.clientX,startY:t.touches?t.touches[0].pageY:t.clientY,curX:t.touches?t.touches[0].pageX:t.clientX,curY:t.touches?t.touches[0].pageY:t.clientY}}},n$=function(t,o){var i=o.scrolling,u=o.animating,g=o.vertical,_=o.swipeToSlide,x=o.verticalSwiping,S=o.rtl,T=o.currentSlide,M=o.edgeFriction,R=o.edgeDragged,N=o.onEdge,F=o.swiped,B=o.swiping,V=o.slideCount,j=o.slidesToScroll,H=o.infinite,U=o.touchObject,K=o.swipeEvent,Y=o.listHeight,q=o.listWidth;if(!i){if(u)return Av(t);g&&_&&x&&Av(t);var Q,re={},ae=G_(o);U.curX=t.touches?t.touches[0].pageX:t.clientX,U.curY=t.touches?t.touches[0].pageY:t.clientY,U.swipeLength=Math.round(Math.sqrt(Math.pow(U.curX-U.startX,2)));var se=Math.round(Math.sqrt(Math.pow(U.curY-U.startY,2)));if(!x&&!B&&se>10)return{scrolling:!0};x&&(U.swipeLength=se);var de=(S?-1:1)*(U.curX>U.startX?1:-1);x&&(de=U.curY>U.startY?1:-1);var pe=Math.ceil(V/j),ge=PE(o.touchObject,x),me=U.swipeLength;return H||(T===0&&(ge==="right"||ge==="down")||T+1>=pe&&(ge==="left"||ge==="up")||!Fx(o)&&(ge==="left"||ge==="up"))&&(me=U.swipeLength*M,R===!1&&N&&(N(ge),re.edgeDragged=!0)),!F&&K&&(K(ge),re.swiped=!0),g?Q=ae+me*(Y/q)*de:S?Q=ae-me*de:Q=ae+me*de,x&&(Q=ae+me*de),re=(0,fe.Z)((0,fe.Z)({},re),{},{touchObject:U,swipeLeft:Q,trackStyle:W_((0,fe.Z)((0,fe.Z)({},o),{},{left:Q}))}),Math.abs(U.curX-U.startX)<Math.abs(U.curY-U.startY)*.8||U.swipeLength>10&&(re.swiping=!0,Av(t)),re}},r$=function(t,o){var i=o.dragging,u=o.swipe,g=o.touchObject,_=o.listWidth,x=o.touchThreshold,S=o.verticalSwiping,T=o.listHeight,M=o.swipeToSlide,R=o.scrolling,N=o.onSwipe,F=o.targetSlide,B=o.currentSlide,V=o.infinite;if(!i)return u&&Av(t),{};var j=S?T/x:_/x,H=PE(g,S),U={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(R||!g.swipeLength)return U;if(g.swipeLength>j){Av(t),N&&N(H);var K,Y,q=V?B:F;switch(H){case"left":case"up":Y=q+$E(o),K=M?OE(o,Y):Y,U.currentDirection=0;break;case"right":case"down":Y=q-$E(o),K=M?OE(o,Y):Y,U.currentDirection=1;break;default:K=q}U.triggerSlideHandler=K}else{var Q=G_(o);U.trackStyle=RE((0,fe.Z)((0,fe.Z)({},o),{},{left:Q}))}return U},i$=function(t){for(var o=t.infinite?t.slideCount*2:t.slideCount,i=t.infinite?t.slidesToShow*-1:0,u=t.infinite?t.slidesToShow*-1:0,g=[];i<o;)g.push(i),i=u+t.slidesToScroll,u+=Math.min(t.slidesToScroll,t.slidesToShow);return g},OE=function(t,o){var i=i$(t),u=0;if(o>i[i.length-1])o=i[i.length-1];else for(var g in i){if(o<i[g]){o=u;break}u=i[g]}return o},$E=function(t){var o=t.centerMode?t.slideWidth*Math.floor(t.slidesToShow/2):0;if(t.swipeToSlide){var i,u=t.listRef,g=u.querySelectorAll&&u.querySelectorAll(".slick-slide")||[];if(Array.from(g).every(function(S){if(t.vertical){if(S.offsetTop+fS(S)/2>t.swipeLeft*-1)return i=S,!1}else if(S.offsetLeft-o+dS(S)/2>t.swipeLeft*-1)return i=S,!1;return!0}),!i)return 0;var _=t.rtl===!0?t.slideCount-t.currentSlide:t.currentSlide,x=Math.abs(i.dataset.index-_)||1;return x}else return t.slidesToScroll},pS=function(t,o){return o.reduce(function(i,u){return i&&t.hasOwnProperty(u)},!0)?null:console.error("Keys Missing:",t)},W_=function(t){pS(t,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var o,i;if(!t.vertical)o=o$(t)*t.slideWidth;else{var u=t.unslick?t.slideCount:t.slideCount+2*t.slidesToShow;i=u*t.slideHeight}var g={opacity:1,transition:"",WebkitTransition:""};if(t.useTransform){var _=t.vertical?"translate3d(0px, "+t.left+"px, 0px)":"translate3d("+t.left+"px, 0px, 0px)",x=t.vertical?"translate3d(0px, "+t.left+"px, 0px)":"translate3d("+t.left+"px, 0px, 0px)",S=t.vertical?"translateY("+t.left+"px)":"translateX("+t.left+"px)";g=(0,fe.Z)((0,fe.Z)({},g),{},{WebkitTransform:_,transform:x,msTransform:S})}else t.vertical?g.top=t.left:g.left=t.left;return t.fade&&(g={opacity:1}),o&&(g.width=o),i&&(g.height=i),window&&!window.addEventListener&&window.attachEvent&&(t.vertical?g.marginTop=t.left+"px":g.marginLeft=t.left+"px"),g},RE=function(t){pS(t,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var o=W_(t);return t.useTransform?(o.WebkitTransition="-webkit-transform "+t.speed+"ms "+t.cssEase,o.transition="transform "+t.speed+"ms "+t.cssEase):t.vertical?o.transition="top "+t.speed+"ms "+t.cssEase:o.transition="left "+t.speed+"ms "+t.cssEase,o},G_=function(t){if(t.unslick)return 0;pS(t,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var o=t.slideIndex,i=t.trackRef,u=t.infinite,g=t.centerMode,_=t.slideCount,x=t.slidesToShow,S=t.slidesToScroll,T=t.slideWidth,M=t.listWidth,R=t.variableWidth,N=t.slideHeight,F=t.fade,B=t.vertical,V=0,j,H,U=0;if(F||t.slideCount===1)return 0;var K=0;if(u?(K=-_p(t),_%S!==0&&o+S>_&&(K=-(o>_?x-(o-_):_%S)),g&&(K+=parseInt(x/2))):(_%S!==0&&o+S>_&&(K=x-_%S),g&&(K=parseInt(x/2))),V=K*T,U=K*N,B?j=o*N*-1+U:j=o*T*-1+V,R===!0){var Y,q=i&&i.node;if(Y=o+_p(t),H=q&&q.childNodes[Y],j=H?H.offsetLeft*-1:0,g===!0){Y=u?o+_p(t):o,H=q&&q.children[Y],j=0;for(var Q=0;Q<Y;Q++)j-=q&&q.children[Q]&&q.children[Q].offsetWidth;j-=parseInt(t.centerPadding),j+=H&&(M-H.offsetWidth)/2}}return j},_p=function(t){return t.unslick||!t.infinite?0:t.variableWidth?t.slideCount:t.slidesToShow+(t.centerMode?1:0)},kx=function(t){return t.unslick||!t.infinite?0:t.slideCount},o$=function(t){return t.slideCount===1?1:_p(t)+t.slideCount+kx(t)},a$=function(t){return t.targetSlide>t.currentSlide?t.targetSlide>t.currentSlide+s$(t)?"left":"right":t.targetSlide<t.currentSlide-l$(t)?"right":"left"},s$=function(t){var o=t.slidesToShow,i=t.centerMode,u=t.rtl,g=t.centerPadding;if(i){var _=(o-1)/2+1;return parseInt(g)>0&&(_+=1),u&&o%2===0&&(_+=1),_}return u?0:o-1},l$=function(t){var o=t.slidesToShow,i=t.centerMode,u=t.rtl,g=t.centerPadding;if(i){var _=(o-1)/2+1;return parseInt(g)>0&&(_+=1),!u&&o%2===0&&(_+=1),_}return u?o-1:0},AE=function(){return!!(typeof window!="undefined"&&window.document&&window.document.createElement)},c$=Object.keys(sS);function u$(e){return c$.reduce(function(t,o){return e.hasOwnProperty(o)&&(t[o]=e[o]),t},{})}function d$(e,t,o){return t=(0,Eo.Z)(t),(0,ya.Z)(e,(0,No.Z)()?Reflect.construct(t,o||[],(0,Eo.Z)(e).constructor):t.apply(e,o))}var mS=function(t){var o,i,u,g,_;t.rtl?_=t.slideCount-1-t.index:_=t.index,u=_<0||_>=t.slideCount,t.centerMode?(g=Math.floor(t.slidesToShow/2),i=(_-t.currentSlide)%t.slideCount===0,_>t.currentSlide-g-1&&_<=t.currentSlide+g&&(o=!0)):o=t.currentSlide<=_&&_<t.currentSlide+t.slidesToShow;var x;t.targetSlide<0?x=t.targetSlide+t.slideCount:t.targetSlide>=t.slideCount?x=t.targetSlide-t.slideCount:x=t.targetSlide;var S=_===x;return{"slick-slide":!0,"slick-active":o,"slick-center":i,"slick-cloned":u,"slick-current":S}},f$=function(t){var o={};return(t.variableWidth===void 0||t.variableWidth===!1)&&(o.width=t.slideWidth),t.fade&&(o.position="relative",t.vertical&&t.slideHeight?o.top=-t.index*parseInt(t.slideHeight):o.left=-t.index*parseInt(t.slideWidth),o.opacity=t.currentSlide===t.index?1:0,o.zIndex=t.currentSlide===t.index?999:998,t.useCSS&&(o.transition="opacity "+t.speed+"ms "+t.cssEase+", visibility "+t.speed+"ms "+t.cssEase)),o},gS=function(t,o){return t.key+"-"+o},h$=function(t){var o,i=[],u=[],g=[],_=s.Children.count(t.children),x=cS(t),S=uS(t);return s.Children.forEach(t.children,function(T,M){var R,N={message:"children",index:M,slidesToScroll:t.slidesToScroll,currentSlide:t.currentSlide};!t.lazyLoad||t.lazyLoad&&t.lazyLoadedList.indexOf(M)>=0?R=T:R=s.createElement("div",null);var F=f$((0,fe.Z)((0,fe.Z)({},t),{},{index:M})),B=R.props.className||"",V=mS((0,fe.Z)((0,fe.Z)({},t),{},{index:M}));if(i.push(s.cloneElement(R,{key:"original"+gS(R,M),"data-index":M,className:oe()(V,B),tabIndex:"-1","aria-hidden":!V["slick-active"],style:(0,fe.Z)((0,fe.Z)({outline:"none"},R.props.style||{}),F),onClick:function(U){R.props&&R.props.onClick&&R.props.onClick(U),t.focusOnSelect&&t.focusOnSelect(N)}})),t.infinite&&_>1&&t.fade===!1&&!t.unslick){var j=_-M;j<=_p(t)&&(o=-j,o>=x&&(R=T),V=mS((0,fe.Z)((0,fe.Z)({},t),{},{index:o})),u.push(s.cloneElement(R,{key:"precloned"+gS(R,o),"data-index":o,tabIndex:"-1",className:oe()(V,B),"aria-hidden":!V["slick-active"],style:(0,fe.Z)((0,fe.Z)({},R.props.style||{}),F),onClick:function(U){R.props&&R.props.onClick&&R.props.onClick(U),t.focusOnSelect&&t.focusOnSelect(N)}}))),o=_+M,o<S&&(R=T),V=mS((0,fe.Z)((0,fe.Z)({},t),{},{index:o})),g.push(s.cloneElement(R,{key:"postcloned"+gS(R,o),"data-index":o,tabIndex:"-1",className:oe()(V,B),"aria-hidden":!V["slick-active"],style:(0,fe.Z)((0,fe.Z)({},R.props.style||{}),F),onClick:function(U){R.props&&R.props.onClick&&R.props.onClick(U),t.focusOnSelect&&t.focusOnSelect(N)}}))}}),t.rtl?u.concat(i,g).reverse():u.concat(i,g)},p$=function(e){function t(){var o;(0,ri.Z)(this,t);for(var i=arguments.length,u=new Array(i),g=0;g<i;g++)u[g]=arguments[g];return o=d$(this,t,[].concat(u)),(0,Ee.Z)(o,"node",null),(0,Ee.Z)(o,"handleRef",function(_){o.node=_}),o}return(0,Gr.Z)(t,e),(0,Ko.Z)(t,[{key:"render",value:function(){var i=h$(this.props),u=this.props,g=u.onMouseEnter,_=u.onMouseOver,x=u.onMouseLeave,S={onMouseEnter:g,onMouseOver:_,onMouseLeave:x};return s.createElement("div",(0,Pt.Z)({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},S),i)}}])}(s.PureComponent);function m$(e,t,o){return t=(0,Eo.Z)(t),(0,ya.Z)(e,(0,No.Z)()?Reflect.construct(t,o||[],(0,Eo.Z)(e).constructor):t.apply(e,o))}var g$=function(t){var o;return t.infinite?o=Math.ceil(t.slideCount/t.slidesToScroll):o=Math.ceil((t.slideCount-t.slidesToShow)/t.slidesToScroll)+1,o},v$=function(e){function t(){return(0,ri.Z)(this,t),m$(this,t,arguments)}return(0,Gr.Z)(t,e),(0,Ko.Z)(t,[{key:"clickHandler",value:function(i,u){u.preventDefault(),this.props.clickHandler(i)}},{key:"render",value:function(){for(var i=this.props,u=i.onMouseEnter,g=i.onMouseOver,_=i.onMouseLeave,x=i.infinite,S=i.slidesToScroll,T=i.slidesToShow,M=i.slideCount,R=i.currentSlide,N=g$({slideCount:M,slidesToScroll:S,slidesToShow:T,infinite:x}),F={onMouseEnter:u,onMouseOver:g,onMouseLeave:_},B=[],V=0;V<N;V++){var j=(V+1)*S-1,H=x?j:lS(j,0,M-1),U=H-(S-1),K=x?U:lS(U,0,M-1),Y=oe()({"slick-active":x?R>=K&&R<=H:R===K}),q={message:"dots",index:V,slidesToScroll:S,currentSlide:R},Q=this.clickHandler.bind(this,q);B=B.concat(s.createElement("li",{key:V,className:Y},s.cloneElement(this.props.customPaging(V),{onClick:Q})))}return s.cloneElement(this.props.appendDots(B),(0,fe.Z)({className:this.props.dotsClass},F))}}])}(s.PureComponent);function DE(e,t,o){return t=(0,Eo.Z)(t),(0,ya.Z)(e,(0,No.Z)()?Reflect.construct(t,o||[],(0,Eo.Z)(e).constructor):t.apply(e,o))}var y$=function(e){function t(){return(0,ri.Z)(this,t),DE(this,t,arguments)}return(0,Gr.Z)(t,e),(0,Ko.Z)(t,[{key:"clickHandler",value:function(i,u){u&&u.preventDefault(),this.props.clickHandler(i,u)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-prev":!0},u=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(i["slick-disabled"]=!0,u=null);var g={key:"0","data-role":"none",className:oe()(i),style:{display:"block"},onClick:u},_={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},x;return this.props.prevArrow?x=s.cloneElement(this.props.prevArrow,(0,fe.Z)((0,fe.Z)({},g),_)):x=s.createElement("button",(0,Pt.Z)({key:"0",type:"button"},g)," ","Previous"),x}}])}(s.PureComponent),_$=function(e){function t(){return(0,ri.Z)(this,t),DE(this,t,arguments)}return(0,Gr.Z)(t,e),(0,Ko.Z)(t,[{key:"clickHandler",value:function(i,u){u&&u.preventDefault(),this.props.clickHandler(i,u)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-next":!0},u=this.clickHandler.bind(this,{message:"next"});Fx(this.props)||(i["slick-disabled"]=!0,u=null);var g={key:"1","data-role":"none",className:oe()(i),style:{display:"block"},onClick:u},_={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},x;return this.props.nextArrow?x=s.cloneElement(this.props.nextArrow,(0,fe.Z)((0,fe.Z)({},g),_)):x=s.createElement("button",(0,Pt.Z)({key:"1",type:"button"},g)," ","Next"),x}}])}(s.PureComponent),b$=he(73023),x$=["animating"];function C$(e,t,o){return t=(0,Eo.Z)(t),(0,ya.Z)(e,(0,No.Z)()?Reflect.construct(t,o||[],(0,Eo.Z)(e).constructor):t.apply(e,o))}var w$=function(e){function t(o){var i;(0,ri.Z)(this,t),i=C$(this,t,[o]),(0,Ee.Z)(i,"listRefHandler",function(g){return i.list=g}),(0,Ee.Z)(i,"trackRefHandler",function(g){return i.track=g}),(0,Ee.Z)(i,"adaptHeight",function(){if(i.props.adaptiveHeight&&i.list){var g=i.list.querySelector('[data-index="'.concat(i.state.currentSlide,'"]'));i.list.style.height=fS(g)+"px"}}),(0,Ee.Z)(i,"componentDidMount",function(){if(i.props.onInit&&i.props.onInit(),i.props.lazyLoad){var g=Bx((0,fe.Z)((0,fe.Z)({},i.props),i.state));g.length>0&&(i.setState(function(x){return{lazyLoadedList:x.lazyLoadedList.concat(g)}}),i.props.onLazyLoad&&i.props.onLazyLoad(g))}var _=(0,fe.Z)({listRef:i.list,trackRef:i.track},i.props);i.updateState(_,!0,function(){i.adaptHeight(),i.props.autoplay&&i.autoPlay("playing")}),i.props.lazyLoad==="progressive"&&(i.lazyLoadTimer=setInterval(i.progressiveLazyLoad,1e3)),i.ro=new b$.Z(function(){i.state.animating?(i.onWindowResized(!1),i.callbackTimers.push(setTimeout(function(){return i.onWindowResized()},i.props.speed))):i.onWindowResized()}),i.ro.observe(i.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(x){x.onfocus=i.props.pauseOnFocus?i.onSlideFocus:null,x.onblur=i.props.pauseOnFocus?i.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",i.onWindowResized):window.attachEvent("onresize",i.onWindowResized)}),(0,Ee.Z)(i,"componentWillUnmount",function(){i.animationEndCallback&&clearTimeout(i.animationEndCallback),i.lazyLoadTimer&&clearInterval(i.lazyLoadTimer),i.callbackTimers.length&&(i.callbackTimers.forEach(function(g){return clearTimeout(g)}),i.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",i.onWindowResized):window.detachEvent("onresize",i.onWindowResized),i.autoplayTimer&&clearInterval(i.autoplayTimer),i.ro.disconnect()}),(0,Ee.Z)(i,"componentDidUpdate",function(g){if(i.checkImagesLoad(),i.props.onReInit&&i.props.onReInit(),i.props.lazyLoad){var _=Bx((0,fe.Z)((0,fe.Z)({},i.props),i.state));_.length>0&&(i.setState(function(T){return{lazyLoadedList:T.lazyLoadedList.concat(_)}}),i.props.onLazyLoad&&i.props.onLazyLoad(_))}i.adaptHeight();var x=(0,fe.Z)((0,fe.Z)({listRef:i.list,trackRef:i.track},i.props),i.state),S=i.didPropsChange(g);S&&i.updateState(x,S,function(){i.state.currentSlide>=s.Children.count(i.props.children)&&i.changeSlide({message:"index",index:s.Children.count(i.props.children)-i.props.slidesToShow,currentSlide:i.state.currentSlide}),(g.autoplay!==i.props.autoplay||g.autoplaySpeed!==i.props.autoplaySpeed)&&(!g.autoplay&&i.props.autoplay?i.autoPlay("playing"):i.props.autoplay?i.autoPlay("update"):i.pause("paused"))})}),(0,Ee.Z)(i,"onWindowResized",function(g){i.debouncedResize&&i.debouncedResize.cancel(),i.debouncedResize=ME(50,function(){return i.resizeWindow(g)}),i.debouncedResize()}),(0,Ee.Z)(i,"resizeWindow",function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,_=!!(i.track&&i.track.node);if(_){var x=(0,fe.Z)((0,fe.Z)({listRef:i.list,trackRef:i.track},i.props),i.state);i.updateState(x,g,function(){i.props.autoplay?i.autoPlay("update"):i.pause("paused")}),i.setState({animating:!1}),clearTimeout(i.animationEndCallback),delete i.animationEndCallback}}),(0,Ee.Z)(i,"updateState",function(g,_,x){var S=Y3(g);g=(0,fe.Z)((0,fe.Z)((0,fe.Z)({},g),S),{},{slideIndex:S.currentSlide});var T=G_(g);g=(0,fe.Z)((0,fe.Z)({},g),{},{left:T});var M=W_(g);(_||s.Children.count(i.props.children)!==s.Children.count(g.children))&&(S.trackStyle=M),i.setState(S,x)}),(0,Ee.Z)(i,"ssrInit",function(){if(i.props.variableWidth){var g=0,_=0,x=[],S=_p((0,fe.Z)((0,fe.Z)((0,fe.Z)({},i.props),i.state),{},{slideCount:i.props.children.length})),T=kx((0,fe.Z)((0,fe.Z)((0,fe.Z)({},i.props),i.state),{},{slideCount:i.props.children.length}));i.props.children.forEach(function(Q){x.push(Q.props.style.width),g+=Q.props.style.width});for(var M=0;M<S;M++)_+=x[x.length-1-M],g+=x[x.length-1-M];for(var R=0;R<T;R++)g+=x[R];for(var N=0;N<i.state.currentSlide;N++)_+=x[N];var F={width:g+"px",left:-_+"px"};if(i.props.centerMode){var B="".concat(x[i.state.currentSlide],"px");F.left="calc(".concat(F.left," + (100% - ").concat(B,") / 2 ) ")}return{trackStyle:F}}var V=s.Children.count(i.props.children),j=(0,fe.Z)((0,fe.Z)((0,fe.Z)({},i.props),i.state),{},{slideCount:V}),H=_p(j)+kx(j)+V,U=100/i.props.slidesToShow*H,K=100/H,Y=-K*(_p(j)+i.state.currentSlide)*U/100;i.props.centerMode&&(Y+=(100-K*U/100)/2);var q={width:U+"%",left:Y+"%"};return{slideWidth:K+"%",trackStyle:q}}),(0,Ee.Z)(i,"checkImagesLoad",function(){var g=i.list&&i.list.querySelectorAll&&i.list.querySelectorAll(".slick-slide img")||[],_=g.length,x=0;Array.prototype.forEach.call(g,function(S){var T=function(){return++x&&x>=_&&i.onWindowResized()};if(!S.onclick)S.onclick=function(){return S.parentNode.focus()};else{var M=S.onclick;S.onclick=function(R){M(R),S.parentNode.focus()}}S.onload||(i.props.lazyLoad?S.onload=function(){i.adaptHeight(),i.callbackTimers.push(setTimeout(i.onWindowResized,i.props.speed))}:(S.onload=T,S.onerror=function(){T(),i.props.onLazyLoadError&&i.props.onLazyLoadError()}))})}),(0,Ee.Z)(i,"progressiveLazyLoad",function(){for(var g=[],_=(0,fe.Z)((0,fe.Z)({},i.props),i.state),x=i.state.currentSlide;x<i.state.slideCount+kx(_);x++)if(i.state.lazyLoadedList.indexOf(x)<0){g.push(x);break}for(var S=i.state.currentSlide-1;S>=-_p(_);S--)if(i.state.lazyLoadedList.indexOf(S)<0){g.push(S);break}g.length>0?(i.setState(function(T){return{lazyLoadedList:T.lazyLoadedList.concat(g)}}),i.props.onLazyLoad&&i.props.onLazyLoad(g)):i.lazyLoadTimer&&(clearInterval(i.lazyLoadTimer),delete i.lazyLoadTimer)}),(0,Ee.Z)(i,"slideHandler",function(g){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,x=i.props,S=x.asNavFor,T=x.beforeChange,M=x.onLazyLoad,R=x.speed,N=x.afterChange,F=i.state.currentSlide,B=J3((0,fe.Z)((0,fe.Z)((0,fe.Z)({index:g},i.props),i.state),{},{trackRef:i.track,useCSS:i.props.useCSS&&!_})),V=B.state,j=B.nextState;if(V){T&&T(F,V.currentSlide);var H=V.lazyLoadedList.filter(function(U){return i.state.lazyLoadedList.indexOf(U)<0});M&&H.length>0&&M(H),!i.props.waitForAnimate&&i.animationEndCallback&&(clearTimeout(i.animationEndCallback),N&&N(F),delete i.animationEndCallback),i.setState(V,function(){S&&i.asNavForIndex!==g&&(i.asNavForIndex=g,S.innerSlider.slideHandler(g)),j&&(i.animationEndCallback=setTimeout(function(){var U=j.animating,K=(0,Ve.Z)(j,x$);i.setState(K,function(){i.callbackTimers.push(setTimeout(function(){return i.setState({animating:U})},10)),N&&N(V.currentSlide),delete i.animationEndCallback})},R))})}}),(0,Ee.Z)(i,"changeSlide",function(g){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,x=(0,fe.Z)((0,fe.Z)({},i.props),i.state),S=Q3(x,g);if(!(S!==0&&!S)&&(_===!0?i.slideHandler(S,_):i.slideHandler(S),i.props.autoplay&&i.autoPlay("update"),i.props.focusOnSelect)){var T=i.list.querySelectorAll(".slick-current");T[0]&&T[0].focus()}}),(0,Ee.Z)(i,"clickHandler",function(g){i.clickable===!1&&(g.stopPropagation(),g.preventDefault()),i.clickable=!0}),(0,Ee.Z)(i,"keyHandler",function(g){var _=e$(g,i.props.accessibility,i.props.rtl);_!==""&&i.changeSlide({message:_})}),(0,Ee.Z)(i,"selectHandler",function(g){i.changeSlide(g)}),(0,Ee.Z)(i,"disableBodyScroll",function(){var g=function(x){x=x||window.event,x.preventDefault&&x.preventDefault(),x.returnValue=!1};window.ontouchmove=g}),(0,Ee.Z)(i,"enableBodyScroll",function(){window.ontouchmove=null}),(0,Ee.Z)(i,"swipeStart",function(g){i.props.verticalSwiping&&i.disableBodyScroll();var _=t$(g,i.props.swipe,i.props.draggable);_!==""&&i.setState(_)}),(0,Ee.Z)(i,"swipeMove",function(g){var _=n$(g,(0,fe.Z)((0,fe.Z)((0,fe.Z)({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));_&&(_.swiping&&(i.clickable=!1),i.setState(_))}),(0,Ee.Z)(i,"swipeEnd",function(g){var _=r$(g,(0,fe.Z)((0,fe.Z)((0,fe.Z)({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));if(_){var x=_.triggerSlideHandler;delete _.triggerSlideHandler,i.setState(_),x!==void 0&&(i.slideHandler(x),i.props.verticalSwiping&&i.enableBodyScroll())}}),(0,Ee.Z)(i,"touchEnd",function(g){i.swipeEnd(g),i.clickable=!0}),(0,Ee.Z)(i,"slickPrev",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"previous"})},0))}),(0,Ee.Z)(i,"slickNext",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"next"})},0))}),(0,Ee.Z)(i,"slickGoTo",function(g){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(g=Number(g),isNaN(g))return"";i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"index",index:g,currentSlide:i.state.currentSlide},_)},0))}),(0,Ee.Z)(i,"play",function(){var g;if(i.props.rtl)g=i.state.currentSlide-i.props.slidesToScroll;else if(Fx((0,fe.Z)((0,fe.Z)({},i.props),i.state)))g=i.state.currentSlide+i.props.slidesToScroll;else return!1;i.slideHandler(g)}),(0,Ee.Z)(i,"autoPlay",function(g){i.autoplayTimer&&clearInterval(i.autoplayTimer);var _=i.state.autoplaying;if(g==="update"){if(_==="hovered"||_==="focused"||_==="paused")return}else if(g==="leave"){if(_==="paused"||_==="focused")return}else if(g==="blur"&&(_==="paused"||_==="hovered"))return;i.autoplayTimer=setInterval(i.play,i.props.autoplaySpeed+50),i.setState({autoplaying:"playing"})}),(0,Ee.Z)(i,"pause",function(g){i.autoplayTimer&&(clearInterval(i.autoplayTimer),i.autoplayTimer=null);var _=i.state.autoplaying;g==="paused"?i.setState({autoplaying:"paused"}):g==="focused"?(_==="hovered"||_==="playing")&&i.setState({autoplaying:"focused"}):_==="playing"&&i.setState({autoplaying:"hovered"})}),(0,Ee.Z)(i,"onDotsOver",function(){return i.props.autoplay&&i.pause("hovered")}),(0,Ee.Z)(i,"onDotsLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),(0,Ee.Z)(i,"onTrackOver",function(){return i.props.autoplay&&i.pause("hovered")}),(0,Ee.Z)(i,"onTrackLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),(0,Ee.Z)(i,"onSlideFocus",function(){return i.props.autoplay&&i.pause("focused")}),(0,Ee.Z)(i,"onSlideBlur",function(){return i.props.autoplay&&i.state.autoplaying==="focused"&&i.autoPlay("blur")}),(0,Ee.Z)(i,"render",function(){var g=oe()("slick-slider",i.props.className,{"slick-vertical":i.props.vertical,"slick-initialized":!0}),_=(0,fe.Z)((0,fe.Z)({},i.props),i.state),x=hS(_,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),S=i.props.pauseOnHover;x=(0,fe.Z)((0,fe.Z)({},x),{},{onMouseEnter:S?i.onTrackOver:null,onMouseLeave:S?i.onTrackLeave:null,onMouseOver:S?i.onTrackOver:null,focusOnSelect:i.props.focusOnSelect&&i.clickable?i.selectHandler:null});var T;if(i.props.dots===!0&&i.state.slideCount>=i.props.slidesToShow){var M=hS(_,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),R=i.props.pauseOnDotsHover;M=(0,fe.Z)((0,fe.Z)({},M),{},{clickHandler:i.changeSlide,onMouseEnter:R?i.onDotsLeave:null,onMouseOver:R?i.onDotsOver:null,onMouseLeave:R?i.onDotsLeave:null}),T=s.createElement(v$,M)}var N,F,B=hS(_,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);B.clickHandler=i.changeSlide,i.props.arrows&&(N=s.createElement(y$,B),F=s.createElement(_$,B));var V=null;i.props.vertical&&(V={height:i.state.listHeight});var j=null;i.props.vertical===!1?i.props.centerMode===!0&&(j={padding:"0px "+i.props.centerPadding}):i.props.centerMode===!0&&(j={padding:i.props.centerPadding+" 0px"});var H=(0,fe.Z)((0,fe.Z)({},V),j),U=i.props.touchMove,K={className:"slick-list",style:H,onClick:i.clickHandler,onMouseDown:U?i.swipeStart:null,onMouseMove:i.state.dragging&&U?i.swipeMove:null,onMouseUp:U?i.swipeEnd:null,onMouseLeave:i.state.dragging&&U?i.swipeEnd:null,onTouchStart:U?i.swipeStart:null,onTouchMove:i.state.dragging&&U?i.swipeMove:null,onTouchEnd:U?i.touchEnd:null,onTouchCancel:i.state.dragging&&U?i.swipeEnd:null,onKeyDown:i.props.accessibility?i.keyHandler:null},Y={className:g,dir:"ltr",style:i.props.style};return i.props.unslick&&(K={className:"slick-list"},Y={className:g,style:i.props.style}),s.createElement("div",Y,i.props.unslick?"":N,s.createElement("div",(0,Pt.Z)({ref:i.listRefHandler},K),s.createElement(p$,(0,Pt.Z)({ref:i.trackRefHandler},x),i.props.children)),i.props.unslick?"":F,i.props.unslick?"":T)}),i.list=null,i.track=null,i.state=(0,fe.Z)((0,fe.Z)({},W3),{},{currentSlide:i.props.initialSlide,targetSlide:i.props.initialSlide?i.props.initialSlide:0,slideCount:s.Children.count(i.props.children)}),i.callbackTimers=[],i.clickable=!0,i.debouncedResize=null;var u=i.ssrInit();return i.state=(0,fe.Z)((0,fe.Z)({},i.state),u),i}return(0,Gr.Z)(t,e),(0,Ko.Z)(t,[{key:"didPropsChange",value:function(i){for(var u=!1,g=0,_=Object.keys(this.props);g<_.length;g++){var x=_[g];if(!i.hasOwnProperty(x)){u=!0;break}if(!((0,Tt.Z)(i[x])==="object"||typeof i[x]=="function"||isNaN(i[x]))&&i[x]!==this.props[x]){u=!0;break}}return u||s.Children.count(this.props.children)!==s.Children.count(i.children)}}])}(s.Component),S$=he(55518),vS=he.n(S$);function E$(e,t,o){return t=(0,Eo.Z)(t),(0,ya.Z)(e,(0,No.Z)()?Reflect.construct(t,o||[],(0,Eo.Z)(e).constructor):t.apply(e,o))}var I$=function(e){function t(o){var i;return(0,ri.Z)(this,t),i=E$(this,t,[o]),(0,Ee.Z)(i,"innerSliderRefHandler",function(u){return i.innerSlider=u}),(0,Ee.Z)(i,"slickPrev",function(){return i.innerSlider.slickPrev()}),(0,Ee.Z)(i,"slickNext",function(){return i.innerSlider.slickNext()}),(0,Ee.Z)(i,"slickGoTo",function(u){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return i.innerSlider.slickGoTo(u,g)}),(0,Ee.Z)(i,"slickPause",function(){return i.innerSlider.pause("paused")}),(0,Ee.Z)(i,"slickPlay",function(){return i.innerSlider.autoPlay("play")}),i.state={breakpoint:null},i._responsiveMediaHandlers=[],i}return(0,Gr.Z)(t,e),(0,Ko.Z)(t,[{key:"media",value:function(i,u){var g=window.matchMedia(i),_=function(S){var T=S.matches;T&&u()};g.addListener(_),_(g),this._responsiveMediaHandlers.push({mql:g,query:i,listener:_})}},{key:"componentDidMount",value:function(){var i=this;if(this.props.responsive){var u=this.props.responsive.map(function(_){return _.breakpoint});u.sort(function(_,x){return _-x}),u.forEach(function(_,x){var S;x===0?S=vS()({minWidth:0,maxWidth:_}):S=vS()({minWidth:u[x-1]+1,maxWidth:_}),AE()&&i.media(S,function(){i.setState({breakpoint:_})})});var g=vS()({minWidth:u.slice(-1)[0]});AE()&&this.media(g,function(){i.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(i){i.mql.removeListener(i.listener)})}},{key:"render",value:function(){var i=this,u,g;this.state.breakpoint?(g=this.props.responsive.filter(function(V){return V.breakpoint===i.state.breakpoint}),u=g[0].settings==="unslick"?"unslick":(0,fe.Z)((0,fe.Z)((0,fe.Z)({},sS),this.props),g[0].settings)):u=(0,fe.Z)((0,fe.Z)({},sS),this.props),u.centerMode&&(u.slidesToScroll>1,u.slidesToScroll=1),u.fade&&(u.slidesToShow>1,u.slidesToScroll>1,u.slidesToShow=1,u.slidesToScroll=1);var _=s.Children.toArray(this.props.children);_=_.filter(function(V){return typeof V=="string"?!!V.trim():!!V}),u.variableWidth&&(u.rows>1||u.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),u.variableWidth=!1);for(var x=[],S=null,T=0;T<_.length;T+=u.rows*u.slidesPerRow){for(var M=[],R=T;R<T+u.rows*u.slidesPerRow;R+=u.slidesPerRow){for(var N=[],F=R;F<R+u.slidesPerRow&&(u.variableWidth&&_[F].props.style&&(S=_[F].props.style.width),!(F>=_.length));F+=1)N.push(s.cloneElement(_[F],{key:100*T+10*R+F,tabIndex:-1,style:{width:"".concat(100/u.slidesPerRow,"%"),display:"inline-block"}}));M.push(s.createElement("div",{key:10*T+R},N))}u.variableWidth?x.push(s.createElement("div",{key:T,style:{width:S}},M)):x.push(s.createElement("div",{key:T},M))}if(u==="unslick"){var B="regular slider "+(this.props.className||"");return s.createElement("div",{className:B},_)}else x.length<=u.slidesToShow&&!u.infinite&&(u.unslick=!0);return s.createElement(w$,(0,Pt.Z)({style:this.props.style,ref:this.innerSliderRefHandler},u$(u)),x)}}])}(s.Component),T$=I$;const yS="--dot-duration",M$=e=>{const{componentCls:t,antCls:o}=e;return{[t]:Object.assign(Object.assign({},(0,mn.Wf)(e)),{".slick-slider":{position:"relative",display:"block",boxSizing:"border-box",touchAction:"pan-y",WebkitTouchCallout:"none",WebkitTapHighlightColor:"transparent",".slick-track, .slick-list":{transform:"translate3d(0, 0, 0)",touchAction:"pan-y"}},".slick-list":{position:"relative",display:"block",margin:0,padding:0,overflow:"hidden","&:focus":{outline:"none"},"&.dragging":{cursor:"pointer"},".slick-slide":{pointerEvents:"none",[`input${o}-radio-input, input${o}-checkbox-input`]:{visibility:"hidden"},"&.slick-active":{pointerEvents:"auto",[`input${o}-radio-input, input${o}-checkbox-input`]:{visibility:"visible"}},"> div > div":{verticalAlign:"bottom"}}},".slick-track":{position:"relative",top:0,insetInlineStart:0,display:"block","&::before, &::after":{display:"table",content:'""'},"&::after":{clear:"both"}},".slick-slide":{display:"none",float:"left",height:"100%",minHeight:1,img:{display:"block"},"&.dragging img":{pointerEvents:"none"}},".slick-initialized .slick-slide":{display:"block"},".slick-vertical .slick-slide":{display:"block",height:"auto"}})}},P$=e=>{const{componentCls:t,motionDurationSlow:o,arrowSize:i,arrowOffset:u}=e,g=e.calc(i).div(Math.SQRT2).equal();return{[t]:{".slick-prev, .slick-next":{position:"absolute",top:"50%",width:i,height:i,transform:"translateY(-50%)",color:"#fff",opacity:.4,background:"transparent",padding:0,lineHeight:0,border:0,outline:"none",cursor:"pointer",zIndex:1,transition:`opacity ${o}`,"&:hover, &:focus":{opacity:1},"&.slick-disabled":{pointerEvents:"none",opacity:0},"&::after":{boxSizing:"border-box",position:"absolute",top:e.calc(i).sub(g).div(2).equal(),insetInlineStart:e.calc(i).sub(g).div(2).equal(),display:"inline-block",width:g,height:g,border:"0 solid currentcolor",borderInlineWidth:"2px 0",borderBlockWidth:"2px 0",borderRadius:1,content:'""'}},".slick-prev":{insetInlineStart:u,"&::after":{transform:"rotate(-45deg)"}},".slick-next":{insetInlineEnd:u,"&::after":{transform:"rotate(135deg)"}}}}},O$=e=>{const{componentCls:t,dotOffset:o,dotWidth:i,dotHeight:u,dotGap:g,colorBgContainer:_,motionDurationSlow:x}=e;return{[t]:{".slick-dots":{position:"absolute",insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:15,display:"flex !important",justifyContent:"center",paddingInlineStart:0,margin:0,listStyle:"none","&-bottom":{bottom:o},"&-top":{top:o,bottom:"auto"},li:{position:"relative",display:"inline-block",flex:"0 1 auto",boxSizing:"content-box",width:i,height:u,marginInline:g,padding:0,textAlign:"center",textIndent:-999,verticalAlign:"top",transition:`all ${x}`,borderRadius:u,overflow:"hidden","&::after":{display:"block",position:"absolute",top:0,insetInlineStart:0,width:"100%",height:u,content:'""',background:_,borderRadius:u,opacity:1,outline:"none",cursor:"pointer",overflow:"hidden",transform:"translate3d(-100%, 0, 0)"},button:{position:"relative",display:"block",width:"100%",height:u,padding:0,color:"transparent",fontSize:0,background:_,border:0,borderRadius:u,outline:"none",cursor:"pointer",opacity:.2,transition:`all ${x}`,overflow:"hidden","&:hover":{opacity:.75},"&::after":{position:"absolute",inset:e.calc(g).mul(-1).equal(),content:'""'}},"&.slick-active":{width:e.dotActiveWidth,position:"relative","&:hover":{opacity:1},"&::after":{transform:"translate3d(0, 0, 0)",transition:`transform var(${yS}) ease-out`}}}}}}},$$=e=>{const{componentCls:t,dotOffset:o,arrowOffset:i,marginXXS:u}=e,g={width:e.dotHeight,height:e.dotWidth};return{[`${t}-vertical`]:{".slick-prev, .slick-next":{insetInlineStart:"50%",marginBlockStart:"unset",transform:"translateX(-50%)"},".slick-prev":{insetBlockStart:i,insetInlineStart:"50%","&::after":{transform:"rotate(45deg)"}},".slick-next":{insetBlockStart:"auto",insetBlockEnd:i,"&::after":{transform:"rotate(-135deg)"}},".slick-dots":{top:"50%",bottom:"auto",flexDirection:"column",width:e.dotHeight,height:"auto",margin:0,transform:"translateY(-50%)","&-left":{insetInlineEnd:"auto",insetInlineStart:o},"&-right":{insetInlineEnd:o,insetInlineStart:"auto"},li:Object.assign(Object.assign({},g),{margin:`${(0,J.bf)(u)} 0`,verticalAlign:"baseline",button:g,"&::after":Object.assign(Object.assign({},g),{height:0}),"&.slick-active":Object.assign(Object.assign({},g),{button:g,"&::after":Object.assign(Object.assign({},g),{transition:`height var(${yS}) ease-out`})})})}}}},R$=e=>{const{componentCls:t}=e;return[{[`${t}-rtl`]:{direction:"rtl",".slick-dots":{[`${t}-rtl&`]:{flexDirection:"row-reverse"}}}},{[`${t}-vertical`]:{".slick-dots":{[`${t}-rtl&`]:{flexDirection:"column"}}}}]},A$=e=>({arrowSize:16,arrowOffset:e.marginXS,dotWidth:16,dotHeight:3,dotGap:e.marginXXS,dotOffset:12,dotWidthActive:24,dotActiveWidth:24});var D$=(0,Ae.I$)("Carousel",e=>[M$(e),P$(e),O$(e),$$(e),R$(e)],A$,{deprecatedTokens:[["dotWidthActive","dotActiveWidth"]]}),zE=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};const LE="slick-dots",NE=e=>{var{currentSlide:t,slideCount:o}=e,i=zE(e,["currentSlide","slideCount"]);return s.createElement("button",Object.assign({type:"button"},i))};var z$=s.forwardRef((e,t)=>{const{dots:o=!0,arrows:i=!1,prevArrow:u=s.createElement(NE,{"aria-label":"prev"}),nextArrow:g=s.createElement(NE,{"aria-label":"next"}),draggable:_=!1,waitForAnimate:x=!1,dotPosition:S="bottom",vertical:T=S==="left"||S==="right",rootClassName:M,className:R,style:N,id:F,autoplay:B=!1,autoplaySpeed:V=3e3}=e,j=zE(e,["dots","arrows","prevArrow","nextArrow","draggable","waitForAnimate","dotPosition","vertical","rootClassName","className","style","id","autoplay","autoplaySpeed"]),{getPrefixCls:H,direction:U,className:K,style:Y}=(0,De.dj)("carousel"),q=s.useRef(null),Q=function(Le){let ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;q.current.slickGoTo(Le,ze)};s.useImperativeHandle(t,()=>({goTo:Q,autoPlay:q.current.innerSlider.autoPlay,innerSlider:q.current.innerSlider,prev:q.current.slickPrev,next:q.current.slickNext}),[q.current]);const re=s.useRef(s.Children.count(e.children));s.useEffect(()=>{re.current!==s.Children.count(e.children)&&(Q(e.initialSlide||0,!1),re.current=s.Children.count(e.children))},[e.children]);const ae=Object.assign({vertical:T,className:oe()(R,K),style:Object.assign(Object.assign({},Y),N),autoplay:!!B},j);ae.effect==="fade"&&(ae.fade=!0);const se=H("carousel",ae.prefixCls),de=!!o,pe=oe()(LE,`${LE}-${S}`,typeof o=="boolean"?!1:o==null?void 0:o.className),[ge,me,be]=D$(se),_e=oe()(se,{[`${se}-rtl`]:U==="rtl",[`${se}-vertical`]:ae.vertical},me,be,M),Ce=B&&(typeof B=="object"?B.dotDuration:!1)?{[yS]:`${V}ms`}:{};return ge(s.createElement("div",{className:_e,id:F,style:Ce},s.createElement(T$,Object.assign({ref:q},ae,{dots:de,dotsClass:pe,arrows:i,prevArrow:u,nextArrow:g,draggable:_,verticalSwiping:T,autoplaySpeed:V,waitForAnimate:x}))))}),L$=s.createContext({}),Dv=L$,zv="__rc_cascader_search_mark__",N$=function(t,o,i){var u=i.label,g=u===void 0?"":u;return o.some(function(_){return String(_[g]).toLowerCase().includes(t.toLowerCase())})},B$=function(t,o,i,u){return o.map(function(g){return g[u.label]}).join(" / ")},F$=function(t,o,i,u,g,_){var x=g.filter,S=x===void 0?N$:x,T=g.render,M=T===void 0?B$:T,R=g.limit,N=R===void 0?50:R,F=g.sort;return s.useMemo(function(){var B=[];if(!t)return[];function V(j,H){var U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;j.forEach(function(K){if(!(!F&&N!==!1&&N>0&&B.length>=N)){var Y=[].concat((0,Be.Z)(H),[K]),q=K[i.children],Q=U||K.disabled;if((!q||q.length===0||_)&&S(t,Y,{label:i.label})){var re;B.push((0,fe.Z)((0,fe.Z)({},K),{},(re={disabled:Q},(0,Ee.Z)(re,i.label,M(t,Y,u,i)),(0,Ee.Z)(re,zv,Y),(0,Ee.Z)(re,i.children,void 0),re)))}q&&V(K[i.children],Y,Q)}})}return V(o,[]),F&&B.sort(function(j,H){return F(j[zv],H[zv],t,i)}),N!==!1&&N>0?B.slice(0,N):B},[t,o,i,u,M,_,S,F,N])},k$=F$,_S="__RC_CASCADER_SPLIT__",BE="SHOW_PARENT",FE="SHOW_CHILD";function Ef(e){return e.join(_S)}function Lv(e){return e.map(Ef)}function j$(e){return e.split(_S)}function kE(e){var t=e||{},o=t.label,i=t.value,u=t.children,g=i||"value";return{label:o||"label",value:g,key:g,children:u||"children"}}function X_(e,t){var o,i;return(o=e.isLeaf)!==null&&o!==void 0?o:!((i=e[t.children])!==null&&i!==void 0&&i.length)}function Z$(e){var t=e.parentElement;if(t){var o=e.offsetTop-t.offsetTop;o-t.scrollTop<0?t.scrollTo({top:o}):o+e.offsetHeight-t.scrollTop>t.offsetHeight&&t.scrollTo({top:o+e.offsetHeight-t.offsetHeight})}}function jE(e,t){return e.map(function(o){var i;return(i=o[zv])===null||i===void 0?void 0:i.map(function(u){return u[t.value]})})}function V$(e){return Array.isArray(e)&&Array.isArray(e[0])}function jx(e){return e?V$(e)?e:(e.length===0?[]:[e]).map(function(t){return Array.isArray(t)?t:[t]}):[]}function ZE(e,t,o){var i=new Set(e),u=t();return e.filter(function(g){var _=u[g],x=_?_.parent:null,S=_?_.children:null;return _&&_.node.disabled?!0:o===FE?!(S&&S.some(function(T){return T.key&&i.has(T.key)})):!(x&&!x.node.disabled&&i.has(x.key))})}function Nv(e,t,o){for(var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,u=t,g=[],_=function(){var T,M,R,N=e[x],F=(T=u)===null||T===void 0?void 0:T.findIndex(function(V){var j=V[o.value];return i?String(j)===String(N):j===N}),B=F!==-1?(M=u)===null||M===void 0?void 0:M[F]:null;g.push({value:(R=B==null?void 0:B[o.value])!==null&&R!==void 0?R:N,index:F,option:B}),u=B==null?void 0:B[o.children]},x=0;x<e.length;x+=1)_();return g}var H$=function(e,t,o,i,u){return s.useMemo(function(){var g=u||function(_){var x=i?_.slice(-1):_,S=" / ";return x.every(function(T){return["string","number"].includes((0,Tt.Z)(T))})?x.join(S):x.reduce(function(T,M,R){var N=s.isValidElement(M)?s.cloneElement(M,{key:R}):M;return R===0?[N]:[].concat((0,Be.Z)(T),[S,N])},[])};return e.map(function(_){var x,S=Nv(_,t,o),T=g(S.map(function(R){var N,F=R.option,B=R.value;return(N=F==null?void 0:F[o.label])!==null&&N!==void 0?N:B}),S.map(function(R){var N=R.option;return N})),M=Ef(_);return{label:T,value:M,key:M,valueCells:_,disabled:(x=S[S.length-1])===null||x===void 0||(x=x.option)===null||x===void 0?void 0:x.disabled}})},[e,t,o,u,i])};function VE(e,t){return s.useCallback(function(o){var i=[],u=[];return o.forEach(function(g){var _=Nv(g,e,t);_.every(function(x){return x.option})?u.push(g):i.push(g)}),[u,i]},[e,t])}var Jg=he(37861),U$=function(e,t){var o=s.useRef({options:[],info:{keyEntities:{},pathKeyEntities:{}}}),i=s.useCallback(function(){return o.current.options!==e&&(o.current.options=e,o.current.info=(0,Jg.I8)(e,{fieldNames:t,initWrapper:function(g){return(0,fe.Z)((0,fe.Z)({},g),{},{pathKeyEntities:{}})},processEntity:function(g,_){var x=g.nodes.map(function(S){return S[t.value]}).join(_S);_.pathKeyEntities[x]=g,g.key=x}})),o.current.info.pathKeyEntities},[t,e]);return i};function HE(e,t){var o=s.useMemo(function(){return t||[]},[t]),i=U$(o,e),u=s.useCallback(function(g){var _=i();return g.map(function(x){var S=_[x].nodes;return S.map(function(T){return T[e.value]})})},[i,e]);return[o,i,u]}function W$(e){return s.useMemo(function(){if(!e)return[!1,{}];var t={matchInputWidth:!0,limit:50};return e&&(0,Tt.Z)(e)==="object"&&(t=(0,fe.Z)((0,fe.Z)({},t),e)),t.limit<=0&&(t.limit=!1),[!0,t]},[e])}var bp=he(59454);function UE(e,t,o,i,u,g,_,x){return function(S){if(!e)t(S);else{var T=Ef(S),M=Lv(o),R=Lv(i),N=M.includes(T),F=u.some(function(Q){return Ef(Q)===T}),B=o,V=u;if(F&&!N)V=u.filter(function(Q){return Ef(Q)!==T});else{var j=N?M.filter(function(Q){return Q!==T}):[].concat((0,Be.Z)(M),[T]),H=g(),U;if(N){var K=(0,bp.S)(j,{checked:!1,halfCheckedKeys:R},H);U=K.checkedKeys}else{var Y=(0,bp.S)(j,!0,H);U=Y.checkedKeys}var q=ZE(U,g,x);B=_(q)}t([].concat((0,Be.Z)(V),(0,Be.Z)(B)))}}}function WE(e,t,o,i,u){return s.useMemo(function(){var g=u(t),_=(0,ve.Z)(g,2),x=_[0],S=_[1];if(!e||!t.length)return[x,[],S];var T=Lv(x),M=o(),R=(0,bp.S)(T,!0,M),N=R.checkedKeys,F=R.halfCheckedKeys;return[i(N),i(F),S]},[e,t,o,i,u])}var G$=s.memo(function(e){var t=e.children;return t},function(e,t){return!t.open}),X$=G$;function q$(e){var t,o=e.prefixCls,i=e.checked,u=e.halfChecked,g=e.disabled,_=e.onClick,x=e.disableCheckbox,S=s.useContext(Dv),T=S.checkable,M=typeof T!="boolean"?T:null;return s.createElement("span",{className:oe()("".concat(o),(t={},(0,Ee.Z)(t,"".concat(o,"-checked"),i),(0,Ee.Z)(t,"".concat(o,"-indeterminate"),!i&&u),(0,Ee.Z)(t,"".concat(o,"-disabled"),g||x),t)),onClick:_},M)}var GE="__cascader_fix_label__";function K$(e){var t=e.prefixCls,o=e.multiple,i=e.options,u=e.activeValue,g=e.prevValuePath,_=e.onToggleOpen,x=e.onSelect,S=e.onActive,T=e.checkedSet,M=e.halfCheckedSet,R=e.loadingKeys,N=e.isSelectable,F=e.disabled,B="".concat(t,"-menu"),V="".concat(t,"-menu-item"),j=s.useContext(Dv),H=j.fieldNames,U=j.changeOnSelect,K=j.expandTrigger,Y=j.expandIcon,q=j.loadingIcon,Q=j.dropdownMenuColumnStyle,re=j.optionRender,ae=K==="hover",se=function(ge){return F||ge},de=s.useMemo(function(){return i.map(function(pe){var ge,me=pe.disabled,be=pe.disableCheckbox,_e=pe[zv],Ie=(ge=pe[GE])!==null&&ge!==void 0?ge:pe[H.label],Ce=pe[H.value],Le=X_(pe,H),ze=_e?_e.map(function(He){return He[H.value]}):[].concat((0,Be.Z)(g),[Ce]),ke=Ef(ze),Ze=R.includes(ke),je=T.has(ke),Ue=M.has(ke);return{disabled:me,label:Ie,value:Ce,isLeaf:Le,isLoading:Ze,checked:je,halfChecked:Ue,option:pe,disableCheckbox:be,fullPath:ze,fullPathKey:ke}})},[i,T,H,M,R,g]);return s.createElement("ul",{className:B,role:"menu"},de.map(function(pe){var ge,me=pe.disabled,be=pe.label,_e=pe.value,Ie=pe.isLeaf,Ce=pe.isLoading,Le=pe.checked,ze=pe.halfChecked,ke=pe.option,Ze=pe.fullPath,je=pe.fullPathKey,Ue=pe.disableCheckbox,He=function(){if(!se(me)){var Je=(0,Be.Z)(Ze);ae&&Ie&&Je.pop(),S(Je)}},Qe=function(){N(ke)&&!se(me)&&x(Ze,Ie)},We;return typeof ke.title=="string"?We=ke.title:typeof be=="string"&&(We=be),s.createElement("li",{key:je,className:oe()(V,(ge={},(0,Ee.Z)(ge,"".concat(V,"-expand"),!Ie),(0,Ee.Z)(ge,"".concat(V,"-active"),u===_e||u===je),(0,Ee.Z)(ge,"".concat(V,"-disabled"),se(me)),(0,Ee.Z)(ge,"".concat(V,"-loading"),Ce),ge)),style:Q,role:"menuitemcheckbox",title:We,"aria-checked":Le,"data-path-key":je,onClick:function(){He(),!Ue&&(!o||Ie)&&Qe()},onDoubleClick:function(){U&&_(!1)},onMouseEnter:function(){ae&&He()},onMouseDown:function(Je){Je.preventDefault()}},o&&s.createElement(q$,{prefixCls:"".concat(t,"-checkbox"),checked:Le,halfChecked:ze,disabled:se(me)||Ue,disableCheckbox:Ue,onClick:function(Je){Ue||(Je.stopPropagation(),Qe())}}),s.createElement("div",{className:"".concat(V,"-content")},re?re(ke):be),!Ce&&Y&&!Ie&&s.createElement("div",{className:"".concat(V,"-expand-icon")},Y),Ce&&q&&s.createElement("div",{className:"".concat(V,"-loading-icon")},q))}))}var Y$=function(t,o){var i=s.useContext(Dv),u=i.values,g=u[0],_=s.useState([]),x=(0,ve.Z)(_,2),S=x[0],T=x[1];return s.useEffect(function(){t||T(g||[])},[o,g]),[S,T]},J$=Y$,Q$=function(e,t,o,i,u,g,_){var x=_.direction,S=_.searchValue,T=_.toggleOpen,M=_.open,R=x==="rtl",N=s.useMemo(function(){for(var Q=-1,re=t,ae=[],se=[],de=i.length,pe=jE(t,o),ge=function(Ce){var Le=re.findIndex(function(ze,ke){return(pe[ke]?Ef(pe[ke]):ze[o.value])===i[Ce]});if(Le===-1)return 1;Q=Le,ae.push(Q),se.push(i[Ce]),re=re[Q][o.children]},me=0;me<de&&re&&!ge(me);me+=1);for(var be=t,_e=0;_e<ae.length-1;_e+=1)be=be[ae[_e]][o.children];return[se,Q,be,pe]},[i,o,t]),F=(0,ve.Z)(N,4),B=F[0],V=F[1],j=F[2],H=F[3],U=function(re){u(re)},K=function(re){var ae=j.length,se=V;se===-1&&re<0&&(se=ae);for(var de=0;de<ae;de+=1){se=(se+re+ae)%ae;var pe=j[se];if(pe&&!pe.disabled){var ge=B.slice(0,-1).concat(H[se]?Ef(H[se]):pe[o.value]);U(ge);return}}},Y=function(){if(B.length>1){var re=B.slice(0,-1);U(re)}else T(!1)},q=function(){var re,ae=((re=j[V])===null||re===void 0?void 0:re[o.children])||[],se=ae.find(function(pe){return!pe.disabled});if(se){var de=[].concat((0,Be.Z)(B),[se[o.value]]);U(de)}};s.useImperativeHandle(e,function(){return{onKeyDown:function(re){var ae=re.which;switch(ae){case nt.Z.UP:case nt.Z.DOWN:{var se=0;ae===nt.Z.UP?se=-1:ae===nt.Z.DOWN&&(se=1),se!==0&&K(se);break}case nt.Z.LEFT:{if(S)break;R?q():Y();break}case nt.Z.RIGHT:{if(S)break;R?Y():q();break}case nt.Z.BACKSPACE:{S||Y();break}case nt.Z.ENTER:{if(B.length){var de=j[V],pe=(de==null?void 0:de[zv])||[];pe.length?g(pe.map(function(ge){return ge[o.value]}),pe[pe.length-1]):g(B,j[V])}break}case nt.Z.ESC:T(!1),M&&re.stopPropagation()}},onKeyUp:function(){}}})},eR=s.forwardRef(function(e,t){var o,i,u,g=e.prefixCls,_=e.multiple,x=e.searchValue,S=e.toggleOpen,T=e.notFoundContent,M=e.direction,R=e.open,N=e.disabled,F=s.useRef(null),B=M==="rtl",V=s.useContext(Dv),j=V.options,H=V.values,U=V.halfValues,K=V.fieldNames,Y=V.changeOnSelect,q=V.onSelect,Q=V.searchOptions,re=V.dropdownPrefixCls,ae=V.loadData,se=V.expandTrigger,de=re||g,pe=s.useState([]),ge=(0,ve.Z)(pe,2),me=ge[0],be=ge[1],_e=function(tt){if(!(!ae||x)){var xt=Nv(tt,j,K),_t=xt.map(function(Ut){var en=Ut.option;return en}),dn=_t[_t.length-1];if(dn&&!X_(dn,K)){var on=Ef(tt);be(function(Ut){return[].concat((0,Be.Z)(Ut),[on])}),ae(_t)}}};s.useEffect(function(){me.length&&me.forEach(function(ut){var tt=j$(ut),xt=Nv(tt,j,K,!0).map(function(dn){var on=dn.option;return on}),_t=xt[xt.length-1];(!_t||_t[K.children]||X_(_t,K))&&be(function(dn){return dn.filter(function(on){return on!==ut})})})},[j,me,K]);var Ie=s.useMemo(function(){return new Set(Lv(H))},[H]),Ce=s.useMemo(function(){return new Set(Lv(U))},[U]),Le=J$(_,R),ze=(0,ve.Z)(Le,2),ke=ze[0],Ze=ze[1],je=function(tt){Ze(tt),_e(tt)},Ue=function(tt){if(N)return!1;var xt=tt.disabled,_t=X_(tt,K);return!xt&&(_t||Y||_)},He=function(tt,xt){var _t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;q(tt),!_&&(xt||Y&&(se==="hover"||_t))&&S(!1)},Qe=s.useMemo(function(){return x?Q:j},[x,Q,j]),We=s.useMemo(function(){for(var ut=[{options:Qe}],tt=Qe,xt=jE(tt,K),_t=function(){var Ut=ke[dn],en=tt.find(function(cn,zn){return(xt[zn]?Ef(xt[zn]):cn[K.value])===Ut}),kt=en==null?void 0:en[K.children];if(!(kt!=null&&kt.length))return 1;tt=kt,ut.push({options:kt})},dn=0;dn<ke.length&&!_t();dn+=1);return ut},[Qe,ke,K]),it=function(tt,xt){Ue(xt)&&He(tt,X_(xt,K),!0)};Q$(t,Qe,K,ke,je,it,{direction:M,searchValue:x,toggleOpen:S,open:R}),s.useEffect(function(){if(!x)for(var ut=0;ut<ke.length;ut+=1){var tt,xt=ke.slice(0,ut+1),_t=Ef(xt),dn=(tt=F.current)===null||tt===void 0?void 0:tt.querySelector('li[data-path-key="'.concat(_t.replace(/\\{0,2}"/g,'\\"'),'"]'));dn&&Z$(dn)}},[ke,x]);var Je=!((o=We[0])!==null&&o!==void 0&&(o=o.options)!==null&&o!==void 0&&o.length),wt=[(i={},(0,Ee.Z)(i,K.value,"__EMPTY__"),(0,Ee.Z)(i,GE,T),(0,Ee.Z)(i,"disabled",!0),i)],Dt=(0,fe.Z)((0,fe.Z)({},e),{},{multiple:!Je&&_,onSelect:He,onActive:je,onToggleOpen:S,checkedSet:Ie,halfCheckedSet:Ce,loadingKeys:me,isSelectable:Ue}),ct=Je?[{options:wt}]:We,ht=ct.map(function(ut,tt){var xt=ke.slice(0,tt),_t=ke[tt];return s.createElement(K$,(0,Pt.Z)({key:tt},Dt,{prefixCls:de,options:ut.options,prevValuePath:xt,activeValue:_t}))});return s.createElement(X$,{open:R},s.createElement("div",{className:oe()("".concat(de,"-menus"),(u={},(0,Ee.Z)(u,"".concat(de,"-menu-empty"),Je),(0,Ee.Z)(u,"".concat(de,"-rtl"),B),u)),ref:F},ht))}),XE=eR,tR=s.forwardRef(function(e,t){var o=rn();return s.createElement(XE,(0,Pt.Z)({},e,o,{ref:t}))}),nR=tR;function rR(){}function qE(e){var t,o=e,i=o.prefixCls,u=i===void 0?"rc-cascader":i,g=o.style,_=o.className,x=o.options,S=o.checkable,T=o.defaultValue,M=o.value,R=o.fieldNames,N=o.changeOnSelect,F=o.onChange,B=o.showCheckedStrategy,V=o.loadData,j=o.expandTrigger,H=o.expandIcon,U=H===void 0?">":H,K=o.loadingIcon,Y=o.direction,q=o.notFoundContent,Q=q===void 0?"Not Found":q,re=o.disabled,ae=!!S,se=(0,Qi.C8)(T,{value:M,postState:jx}),de=(0,ve.Z)(se,2),pe=de[0],ge=de[1],me=s.useMemo(function(){return kE(R)},[JSON.stringify(R)]),be=HE(me,x),_e=(0,ve.Z)(be,3),Ie=_e[0],Ce=_e[1],Le=_e[2],ze=VE(Ie,me),ke=WE(ae,pe,Ce,Le,ze),Ze=(0,ve.Z)(ke,3),je=Ze[0],Ue=Ze[1],He=Ze[2],Qe=(0,Qi.zX)(function(ct){if(ge(ct),F){var ht=jx(ct),ut=ht.map(function(_t){return Nv(_t,Ie,me).map(function(dn){return dn.option})}),tt=ae?ht:ht[0],xt=ae?ut:ut[0];F(tt,xt)}}),We=UE(ae,Qe,je,Ue,He,Ce,Le,B),it=(0,Qi.zX)(function(ct){We(ct)}),Je=s.useMemo(function(){return{options:Ie,fieldNames:me,values:je,halfValues:Ue,changeOnSelect:N,onSelect:it,checkable:S,searchOptions:[],dropdownPrefixCls:void 0,loadData:V,expandTrigger:j,expandIcon:U,loadingIcon:K,dropdownMenuColumnStyle:void 0}},[Ie,me,je,Ue,N,it,S,V,j,U,K]),wt="".concat(u,"-panel"),Dt=!Ie.length;return s.createElement(Dv.Provider,{value:Je},s.createElement("div",{className:oe()(wt,(t={},(0,Ee.Z)(t,"".concat(wt,"-rtl"),Y==="rtl"),(0,Ee.Z)(t,"".concat(wt,"-empty"),Dt),t),_),style:g},Dt?Q:s.createElement(XE,{prefixCls:u,searchValue:"",multiple:ae,toggleOpen:rR,open:!0,direction:Y,disabled:re})))}function DH(e){var t=e.onPopupVisibleChange,o=e.popupVisible,i=e.popupClassName,u=e.popupPlacement;warning(!t,"`onPopupVisibleChange` is deprecated. Please use `onDropdownVisibleChange` instead."),warning(o===void 0,"`popupVisible` is deprecated. Please use `open` instead."),warning(i===void 0,"`popupClassName` is deprecated. Please use `dropdownClassName` instead."),warning(u===void 0,"`popupPlacement` is deprecated. Please use `placement` instead.")}function zH(e,t){if(e){var o=function i(u){for(var g=0;g<u.length;g++){var _=u[g];if(_[t==null?void 0:t.value]===null)return warning(!1,"`value` in Cascader options should not be `null`."),!0;if(Array.isArray(_[t==null?void 0:t.children])&&i(_[t==null?void 0:t.children]))return!0}};o(e)}}var LH=null,iR=["id","prefixCls","fieldNames","defaultValue","value","changeOnSelect","onChange","displayRender","checkable","autoClearSearchValue","searchValue","onSearch","showSearch","expandTrigger","options","dropdownPrefixCls","loadData","popupVisible","open","popupClassName","dropdownClassName","dropdownMenuColumnStyle","dropdownStyle","popupPlacement","placement","onDropdownVisibleChange","onPopupVisibleChange","expandIcon","loadingIcon","children","dropdownMatchSelectWidth","showCheckedStrategy","optionRender"],Zx=s.forwardRef(function(e,t){var o=e.id,i=e.prefixCls,u=i===void 0?"rc-cascader":i,g=e.fieldNames,_=e.defaultValue,x=e.value,S=e.changeOnSelect,T=e.onChange,M=e.displayRender,R=e.checkable,N=e.autoClearSearchValue,F=N===void 0?!0:N,B=e.searchValue,V=e.onSearch,j=e.showSearch,H=e.expandTrigger,U=e.options,K=e.dropdownPrefixCls,Y=e.loadData,q=e.popupVisible,Q=e.open,re=e.popupClassName,ae=e.dropdownClassName,se=e.dropdownMenuColumnStyle,de=e.dropdownStyle,pe=e.popupPlacement,ge=e.placement,me=e.onDropdownVisibleChange,be=e.onPopupVisibleChange,_e=e.expandIcon,Ie=_e===void 0?">":_e,Ce=e.loadingIcon,Le=e.children,ze=e.dropdownMatchSelectWidth,ke=ze===void 0?!1:ze,Ze=e.showCheckedStrategy,je=Ze===void 0?BE:Ze,Ue=e.optionRender,He=(0,Ve.Z)(e,iR),Qe=Yl(o),We=!!R,it=(0,Jo.Z)(_,{value:x,postState:jx}),Je=(0,ve.Z)(it,2),wt=Je[0],Dt=Je[1],ct=s.useMemo(function(){return kE(g)},[JSON.stringify(g)]),ht=HE(ct,U),ut=(0,ve.Z)(ht,3),tt=ut[0],xt=ut[1],_t=ut[2],dn=(0,Jo.Z)("",{value:B,postState:function(oo){return oo||""}}),on=(0,ve.Z)(dn,2),Ut=on[0],en=on[1],kt=function(oo,Uo){en(oo),Uo.source!=="blur"&&V&&V(oo)},cn=W$(j),zn=(0,ve.Z)(cn,2),An=zn[0],sr=zn[1],yr=k$(Ut,tt,ct,K||u,sr,S||We),Vr=VE(tt,ct),Qn=WE(We,wt,xt,_t,Vr),Un=(0,ve.Z)(Qn,3),er=Un[0],Ir=Un[1],pr=Un[2],Zr=s.useMemo(function(){var zo=Lv(er),oo=ZE(zo,xt,je);return[].concat((0,Be.Z)(pr),(0,Be.Z)(_t(oo)))},[er,xt,_t,pr,je]),xn=H$(Zr,tt,ct,We,M),fn=(0,Or.Z)(function(zo){if(Dt(zo),T){var oo=jx(zo),Uo=oo.map(function(Fi){return Nv(Fi,tt,ct).map(function(Wr){return Wr.option})}),ua=We?oo:oo[0],xi=We?Uo:Uo[0];T(ua,xi)}}),yn=UE(We,fn,er,Ir,pr,xt,_t,je),Gt=(0,Or.Z)(function(zo){(!We||F)&&en(""),yn(zo)}),Kn=function(oo,Uo){if(Uo.type==="clear"){fn([]);return}var ua=Uo.values[0],xi=ua.valueCells;Gt(xi)},vr=Q!==void 0?Q:q,Jr=ae||re,Hi=ge||pe,Gi=function(oo){me==null||me(oo),be==null||be(oo)},Zi=s.useMemo(function(){return{options:tt,fieldNames:ct,values:er,halfValues:Ir,changeOnSelect:S,onSelect:Gt,checkable:R,searchOptions:yr,dropdownPrefixCls:K,loadData:Y,expandTrigger:H,expandIcon:Ie,loadingIcon:Ce,dropdownMenuColumnStyle:se,optionRender:Ue}},[tt,ct,er,Ir,S,Gt,R,yr,K,Y,H,Ie,Ce,se,Ue]),Fa=!(Ut?yr:tt).length,Do=Ut&&sr.matchInputWidth||Fa?{}:{minWidth:"auto"};return s.createElement(Dv.Provider,{value:Zi},s.createElement(Mc,(0,Pt.Z)({},He,{ref:t,id:Qe,prefixCls:u,autoClearSearchValue:F,dropdownMatchSelectWidth:ke,dropdownStyle:(0,fe.Z)((0,fe.Z)({},Do),de),displayValues:xn,onDisplayValuesChange:Kn,mode:We?"multiple":void 0,searchValue:Ut,onSearch:kt,showSearch:An,OptionList:nR,emptyOptions:Fa,open:vr,dropdownClassName:Jr,placement:Hi,onDropdownVisibleChange:Gi,getRawInputElement:function(){return Le}})))});Zx.SHOW_PARENT=BE,Zx.SHOW_CHILD=FE,Zx.Panel=qE;var oR=Zx,KE=oR;function aR(e,t){const{getPrefixCls:o,direction:i,renderEmpty:u}=s.useContext(De.E_),g=t||i,_=o("select",e),x=o("cascader",e);return[_,x,g,u]}var YE=aR;function JE(e,t){return s.useMemo(()=>t?s.createElement("span",{className:`${e}-checkbox-inner`}):!1,[t])}var QE=(e,t,o)=>{let i=o;o||(i=t?s.createElement(nd,null):s.createElement(Pc,null));const u=s.createElement("span",{className:`${e}-menu-item-loading-icon`},s.createElement(mo.Z,{spin:!0}));return s.useMemo(()=>[i,u],[i])};const sR=e=>{const{checkboxCls:t}=e,o=`${t}-wrapper`;return[{[`${t}-group`]:Object.assign(Object.assign({},(0,mn.Wf)(e)),{display:"inline-flex",flexWrap:"wrap",columnGap:e.marginXS,[`> ${e.antCls}-row`]:{flex:1}}),[o]:Object.assign(Object.assign({},(0,mn.Wf)(e)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},[`& + ${o}`]:{marginInlineStart:0},[`&${o}-in-form-item`]:{'input[type="checkbox"]':{width:14,height:14}}}),[t]:Object.assign(Object.assign({},(0,mn.Wf)(e)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",borderRadius:e.borderRadiusSM,alignSelf:"center",[`${t}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,[`&:focus-visible + ${t}-inner`]:Object.assign({},(0,mn.oN)(e))},[`${t}-inner`]:{boxSizing:"border-box",display:"block",width:e.checkboxSize,height:e.checkboxSize,direction:"ltr",backgroundColor:e.colorBgContainer,border:`${(0,J.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,borderCollapse:"separate",transition:`all ${e.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"25%",display:"table",width:e.calc(e.checkboxSize).div(14).mul(5).equal(),height:e.calc(e.checkboxSize).div(14).mul(8).equal(),border:`${(0,J.bf)(e.lineWidthBold)} solid ${e.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${e.motionDurationFast} ${e.motionEaseInBack}, opacity ${e.motionDurationFast}`}},"& + span":{paddingInlineStart:e.paddingXS,paddingInlineEnd:e.paddingXS}})},{[`
        ${o}:not(${o}-disabled),
        ${t}:not(${t}-disabled)
      `]:{[`&:hover ${t}-inner`]:{borderColor:e.colorPrimary}},[`${o}:not(${o}-disabled)`]:{[`&:hover ${t}-checked:not(${t}-disabled) ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${t}-checked:not(${t}-disabled):after`]:{borderColor:e.colorPrimaryHover}}},{[`${t}-checked`]:{[`${t}-inner`]:{backgroundColor:e.colorPrimary,borderColor:e.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${e.motionDurationMid} ${e.motionEaseOutBack} ${e.motionDurationFast}`}}},[`
        ${o}-checked:not(${o}-disabled),
        ${t}-checked:not(${t}-disabled)
      `]:{[`&:hover ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"}}},{[t]:{"&-indeterminate":{[`${t}-inner`]:{backgroundColor:`${e.colorBgContainer} !important`,borderColor:`${e.colorBorder} !important`,"&:after":{top:"50%",insetInlineStart:"50%",width:e.calc(e.fontSizeLG).div(2).equal(),height:e.calc(e.fontSizeLG).div(2).equal(),backgroundColor:e.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}},[`&:hover ${t}-inner`]:{backgroundColor:`${e.colorBgContainer} !important`,borderColor:`${e.colorPrimary} !important`}}}},{[`${o}-disabled`]:{cursor:"not-allowed"},[`${t}-disabled`]:{[`&, ${t}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${t}-inner`]:{background:e.colorBgContainerDisabled,borderColor:e.colorBorder,"&:after":{borderColor:e.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:e.colorTextDisabled},[`&${t}-indeterminate ${t}-inner::after`]:{background:e.colorTextDisabled}}}]};function Vx(e,t){const o=(0,vn.IX)(t,{checkboxCls:`.${e}`,checkboxSize:t.controlInteractiveSize});return[sR(o)]}var eI=(0,Ae.I$)("Checkbox",(e,t)=>{let{prefixCls:o}=t;return[Vx(o,e)]}),tI=e=>{const{prefixCls:t,componentCls:o}=e,i=`${o}-menu-item`,u=`
  &${i}-expand ${i}-expand-icon,
  ${i}-loading-icon
`;return[Vx(`${t}-checkbox`,e),{[o]:{"&-checkbox":{top:0,marginInlineEnd:e.paddingXS,pointerEvents:"unset"},"&-menus":{display:"flex",flexWrap:"nowrap",alignItems:"flex-start",[`&${o}-menu-empty`]:{[`${o}-menu`]:{width:"100%",height:"auto",[i]:{color:e.colorTextDisabled}}}},"&-menu":{flexGrow:1,flexShrink:0,minWidth:e.controlItemWidth,height:e.dropdownHeight,margin:0,padding:e.menuPadding,overflow:"auto",verticalAlign:"top",listStyle:"none","-ms-overflow-style":"-ms-autohiding-scrollbar","&:not(:last-child)":{borderInlineEnd:`${(0,J.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},"&-item":Object.assign(Object.assign({},mn.vS),{display:"flex",flexWrap:"nowrap",alignItems:"center",padding:e.optionPadding,lineHeight:e.lineHeight,cursor:"pointer",transition:`all ${e.motionDurationMid}`,borderRadius:e.borderRadiusSM,"&:hover":{background:e.controlItemBgHover},"&-disabled":{color:e.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"},[u]:{color:e.colorTextDisabled}},[`&-active:not(${i}-disabled)`]:{"&, &:hover":{color:e.optionSelectedColor,fontWeight:e.optionSelectedFontWeight,backgroundColor:e.optionSelectedBg}},"&-content":{flex:"auto"},[u]:{marginInlineStart:e.paddingXXS,color:e.colorTextDescription,fontSize:e.fontSizeIcon},"&-keyword":{color:e.colorHighlight}})}}}]};const lR=e=>{const{componentCls:t,antCls:o}=e;return[{[t]:{width:e.controlWidth}},{[`${t}-dropdown`]:[{[`&${o}-select-dropdown`]:{padding:0}},tI(e)]},{[`${t}-dropdown-rtl`]:{direction:"rtl"}},(0,md.c)(e)]},nI=e=>{const t=Math.round((e.controlHeight-e.fontSize*e.lineHeight)/2);return{controlWidth:184,controlItemWidth:111,dropdownHeight:180,optionSelectedBg:e.controlItemBgActive,optionSelectedFontWeight:e.fontWeightStrong,optionPadding:`${t}px ${e.paddingSM}px`,menuPadding:e.paddingXXS,optionSelectedColor:e.colorText}};var rI=(0,Ae.I$)("Cascader",e=>[lR(e)],nI);const cR=e=>{const{componentCls:t}=e;return{[`${t}-panel`]:[tI(e),{display:"inline-flex",border:`${(0,J.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,borderRadius:e.borderRadiusLG,overflowX:"auto",maxWidth:"100%",[`${t}-menus`]:{alignItems:"stretch"},[`${t}-menu`]:{height:"auto"},"&-empty":{padding:e.paddingXXS}}]}};var uR=(0,Ae.A1)(["Cascader","Panel"],e=>cR(e),nI);function dR(e){const{prefixCls:t,className:o,multiple:i,rootClassName:u,notFoundContent:g,direction:_,expandIcon:x,disabled:S}=e,T=s.useContext(Ds.Z),M=S!=null?S:T,[R,N,F,B]=YE(t,_),V=(0,po.Z)(N),[j,H,U]=rI(N,V);uR(N);const K=F==="rtl",[Y,q]=QE(R,K,x),Q=g||(B==null?void 0:B("Cascader"))||s.createElement(th,{componentName:"Cascader"}),re=JE(N,i);return j(s.createElement(qE,Object.assign({},e,{checkable:re,prefixCls:N,className:oe()(o,H,u,U,V),notFoundContent:Q,direction:F,expandIcon:Y,loadingIcon:q,disabled:M})))}var fR=dR,hR=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};const{SHOW_CHILD:pR,SHOW_PARENT:mR}=KE;function gR(e,t,o){const i=e.toLowerCase().split(t).reduce((_,x,S)=>S===0?[x]:[].concat((0,Be.Z)(_),[t,x]),[]),u=[];let g=0;return i.forEach((_,x)=>{const S=g+_.length;let T=e.slice(g,S);g=S,x%2===1&&(T=s.createElement("span",{className:`${o}-menu-item-keyword`,key:`separator-${x}`},T)),u.push(T)}),u}const vR=(e,t,o,i)=>{const u=[],g=e.toLowerCase();return t.forEach((_,x)=>{x!==0&&u.push(" / ");let S=_[i.label];const T=typeof S;(T==="string"||T==="number")&&(S=gR(String(S),g,o)),u.push(S)}),u},Bv=s.forwardRef((e,t)=>{var o;const{prefixCls:i,size:u,disabled:g,className:_,rootClassName:x,multiple:S,bordered:T=!0,transitionName:M,choiceTransitionName:R="",popupClassName:N,dropdownClassName:F,expandIcon:B,placement:V,showSearch:j,allowClear:H=!0,notFoundContent:U,direction:K,getPopupContainer:Y,status:q,showArrow:Q,builtinPlacements:re,style:ae,variant:se}=e,de=hR(e,["prefixCls","size","disabled","className","rootClassName","multiple","bordered","transitionName","choiceTransitionName","popupClassName","dropdownClassName","expandIcon","placement","showSearch","allowClear","notFoundContent","direction","getPopupContainer","status","showArrow","builtinPlacements","style","variant"]),pe=(0,Er.Z)(de,["suffixIcon"]),{getPrefixCls:ge,getPopupContainer:me,className:be,style:_e}=(0,De.dj)("cascader"),{popupOverflow:Ie}=s.useContext(De.E_),{status:Ce,hasFeedback:Le,isFormItemInput:ze,feedbackIcon:ke}=s.useContext(gc.aM),Ze=(0,Il.F)(Ce,q),[je,Ue,He,Qe]=YE(i,K),We=He==="rtl",it=ge(),Je=(0,po.Z)(je),[wt,Dt,ct]=k0(je,Je),ht=(0,po.Z)(Ue),[ut]=rI(Ue,ht),{compactSize:tt,compactItemClassnames:xt}=(0,yl.ri)(je,K),[_t,dn]=(0,Pu.Z)("cascader",se,T),on=U||(Qe==null?void 0:Qe("Cascader"))||s.createElement(th,{componentName:"Cascader"}),Ut=oe()(N||F,`${Ue}-dropdown`,{[`${Ue}-dropdown-rtl`]:He==="rtl"},x,Je,ht,Dt,ct),en=s.useMemo(()=>{if(!j)return j;let fn={render:vR};return typeof j=="object"&&(fn=Object.assign(Object.assign({},fn),j)),fn},[j]),kt=(0,Ts.Z)(fn=>{var yn;return(yn=u!=null?u:tt)!==null&&yn!==void 0?yn:fn}),cn=s.useContext(Ds.Z),zn=g!=null?g:cn,[An,sr]=QE(je,We,B),yr=JE(Ue,S),Vr=tm(e.suffixIcon,Q),{suffixIcon:Qn,removeIcon:Un,clearIcon:er}=lg(Object.assign(Object.assign({},e),{hasFeedback:Le,feedbackIcon:ke,showSuffixIcon:Vr,multiple:S,prefixCls:je,componentName:"Cascader"})),Ir=s.useMemo(()=>V!==void 0?V:We?"bottomRight":"bottomLeft",[V,We]),pr=H===!0?{clearIcon:er}:H,[Zr]=(0,Io.Cn)("SelectLike",(o=pe.dropdownStyle)===null||o===void 0?void 0:o.zIndex),xn=s.createElement(KE,Object.assign({prefixCls:je,className:oe()(!i&&Ue,{[`${je}-lg`]:kt==="large",[`${je}-sm`]:kt==="small",[`${je}-rtl`]:We,[`${je}-${_t}`]:dn,[`${je}-in-form-item`]:ze},(0,Il.Z)(je,Ze,Le),xt,be,_,x,Je,ht,Dt,ct),disabled:zn,style:Object.assign(Object.assign({},_e),ae)},pe,{builtinPlacements:N0(re,Ie),direction:He,placement:Ir,notFoundContent:on,allowClear:pr,showSearch:en,expandIcon:An,suffixIcon:Qn,removeIcon:Un,loadingIcon:sr,checkable:yr,dropdownClassName:Ut,dropdownPrefixCls:i||Ue,dropdownStyle:Object.assign(Object.assign({},pe.dropdownStyle),{zIndex:Zr}),choiceTransitionName:(0,Bi.m)(it,"",R),transitionName:(0,Bi.m)(it,"slide-up",M),getPopupContainer:Y||me,ref:t}));return ut(wt(xn))}),yR=ft(Bv,"dropdownAlign",e=>(0,Er.Z)(e,["visible"]));Bv.SHOW_PARENT=mR,Bv.SHOW_CHILD=pR,Bv.Panel=fR,Bv._InternalPanelDoNotUseOrYouWillBeFired=yR;var _R=Bv,iI=s.createContext(null),bR=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};const xR=(e,t)=>{var o;const{prefixCls:i,className:u,rootClassName:g,children:_,indeterminate:x=!1,style:S,onMouseEnter:T,onMouseLeave:M,skipGroup:R=!1,disabled:N}=e,F=bR(e,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:B,direction:V,checkbox:j}=s.useContext(De.E_),H=s.useContext(iI),{isFormItemInput:U}=s.useContext(gc.aM),K=s.useContext(Ds.Z),Y=(o=(H==null?void 0:H.disabled)||N)!==null&&o!==void 0?o:K,q=s.useRef(F.value),Q=s.useRef(null),re=(0,zr.sQ)(t,Q);s.useEffect(()=>{H==null||H.registerValue(F.value)},[]),s.useEffect(()=>{if(!R)return F.value!==q.current&&(H==null||H.cancelValue(q.current),H==null||H.registerValue(F.value),q.current=F.value),()=>H==null?void 0:H.cancelValue(F.value)},[F.value]),s.useEffect(()=>{var Le;!((Le=Q.current)===null||Le===void 0)&&Le.input&&(Q.current.input.indeterminate=x)},[x]);const ae=B("checkbox",i),se=(0,po.Z)(ae),[de,pe,ge]=eI(ae,se),me=Object.assign({},F);H&&!R&&(me.onChange=function(){F.onChange&&F.onChange.apply(F,arguments),H.toggleOption&&H.toggleOption({label:_,value:F.value})},me.name=H.name,me.checked=H.value.includes(F.value));const be=oe()(`${ae}-wrapper`,{[`${ae}-rtl`]:V==="rtl",[`${ae}-wrapper-checked`]:me.checked,[`${ae}-wrapper-disabled`]:Y,[`${ae}-wrapper-in-form-item`]:U},j==null?void 0:j.className,u,g,ge,se,pe),_e=oe()({[`${ae}-indeterminate`]:x},Ro,pe),[Ie,Ce]=$a(me.onClick);return de(s.createElement(vl,{component:"Checkbox",disabled:Y},s.createElement("label",{className:be,style:Object.assign(Object.assign({},j==null?void 0:j.style),S),onMouseEnter:T,onMouseLeave:M,onClick:Ie},s.createElement(Ma,Object.assign({},me,{onClick:Ce,prefixCls:ae,className:_e,disabled:Y,ref:re})),_!==void 0&&s.createElement("span",{className:`${ae}-label`},_))))};var oI=s.forwardRef(xR),CR=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o},wR=s.forwardRef((e,t)=>{const{defaultValue:o,children:i,options:u=[],prefixCls:g,className:_,rootClassName:x,style:S,onChange:T}=e,M=CR(e,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:R,direction:N}=s.useContext(De.E_),[F,B]=s.useState(M.value||o||[]),[V,j]=s.useState([]);s.useEffect(()=>{"value"in M&&B(M.value||[])},[M.value]);const H=s.useMemo(()=>u.map(_e=>typeof _e=="string"||typeof _e=="number"?{label:_e,value:_e}:_e),[u]),U=_e=>{j(Ie=>Ie.filter(Ce=>Ce!==_e))},K=_e=>{j(Ie=>[].concat((0,Be.Z)(Ie),[_e]))},Y=_e=>{const Ie=F.indexOf(_e.value),Ce=(0,Be.Z)(F);Ie===-1?Ce.push(_e.value):Ce.splice(Ie,1),"value"in M||B(Ce),T==null||T(Ce.filter(Le=>V.includes(Le)).sort((Le,ze)=>{const ke=H.findIndex(je=>je.value===Le),Ze=H.findIndex(je=>je.value===ze);return ke-Ze}))},q=R("checkbox",g),Q=`${q}-group`,re=(0,po.Z)(q),[ae,se,de]=eI(q,re),pe=(0,Er.Z)(M,["value","disabled"]),ge=u.length?H.map(_e=>s.createElement(oI,{prefixCls:q,key:_e.value.toString(),disabled:"disabled"in _e?_e.disabled:M.disabled,value:_e.value,checked:F.includes(_e.value),onChange:_e.onChange,className:`${Q}-item`,style:_e.style,title:_e.title,id:_e.id,required:_e.required},_e.label)):i,me={toggleOption:Y,value:F,disabled:M.disabled,name:M.name,registerValue:K,cancelValue:U},be=oe()(Q,{[`${Q}-rtl`]:N==="rtl"},_,x,de,re,se);return ae(s.createElement("div",Object.assign({className:be,style:S},pe,{ref:t}),s.createElement(iI.Provider,{value:me},ge)))});const bS=oI;bS.Group=wR,bS.__ANT_CHECKBOX=!0;var Qg=bS,aI=he(11365),SR=aI.Z;const ER=e=>{const{componentCls:t,sizePaddingEdgeHorizontal:o,colorSplit:i,lineWidth:u,textPaddingInline:g,orientationMargin:_,verticalMarginInline:x}=e;return{[t]:Object.assign(Object.assign({},(0,mn.Wf)(e)),{borderBlockStart:`${(0,J.bf)(u)} solid ${i}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:x,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:`${(0,J.bf)(u)} solid ${i}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${(0,J.bf)(e.dividerHorizontalGutterMargin)} 0`},[`&-horizontal${t}-with-text`]:{display:"flex",alignItems:"center",margin:`${(0,J.bf)(e.dividerHorizontalWithTextGutterMargin)} 0`,color:e.colorTextHeading,fontWeight:500,fontSize:e.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${i}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${(0,J.bf)(u)} solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${t}-with-text-start`]:{"&::before":{width:`calc(${_} * 100%)`},"&::after":{width:`calc(100% - ${_} * 100%)`}},[`&-horizontal${t}-with-text-end`]:{"&::before":{width:`calc(100% - ${_} * 100%)`},"&::after":{width:`calc(${_} * 100%)`}},[`${t}-inner-text`]:{display:"inline-block",paddingBlock:0,paddingInline:g},"&-dashed":{background:"none",borderColor:i,borderStyle:"dashed",borderWidth:`${(0,J.bf)(u)} 0 0`},[`&-horizontal${t}-with-text${t}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${t}-dashed`]:{borderInlineStartWidth:u,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},"&-dotted":{background:"none",borderColor:i,borderStyle:"dotted",borderWidth:`${(0,J.bf)(u)} 0 0`},[`&-horizontal${t}-with-text${t}-dotted`]:{"&::before, &::after":{borderStyle:"dotted none none"}},[`&-vertical${t}-dotted`]:{borderInlineStartWidth:u,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${t}-with-text`]:{color:e.colorText,fontWeight:"normal",fontSize:e.fontSize},[`&-horizontal${t}-with-text-start${t}-no-default-orientation-margin-start`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${t}-inner-text`]:{paddingInlineStart:o}},[`&-horizontal${t}-with-text-end${t}-no-default-orientation-margin-end`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${t}-inner-text`]:{paddingInlineEnd:o}}})}},IR=e=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:e.marginXS});var TR=(0,Ae.I$)("Divider",e=>{const t=(0,vn.IX)(e,{dividerHorizontalWithTextGutterMargin:e.margin,dividerHorizontalGutterMargin:e.marginLG,sizePaddingEdgeHorizontal:0});return[ER(t)]},IR,{unitless:{orientationMargin:!0}}),MR=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o},sI=e=>{const{getPrefixCls:t,direction:o,className:i,style:u}=(0,De.dj)("divider"),{prefixCls:g,type:_="horizontal",orientation:x="center",orientationMargin:S,className:T,rootClassName:M,children:R,dashed:N,variant:F="solid",plain:B,style:V}=e,j=MR(e,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","variant","plain","style"]),H=t("divider",g),[U,K,Y]=TR(H),q=!!R,Q=s.useMemo(()=>x==="left"?o==="rtl"?"end":"start":x==="right"?o==="rtl"?"start":"end":x,[o,x]),re=Q==="start"&&S!=null,ae=Q==="end"&&S!=null,se=oe()(H,i,K,Y,`${H}-${_}`,{[`${H}-with-text`]:q,[`${H}-with-text-${Q}`]:q,[`${H}-dashed`]:!!N,[`${H}-${F}`]:F!=="solid",[`${H}-plain`]:!!B,[`${H}-rtl`]:o==="rtl",[`${H}-no-default-orientation-margin-start`]:re,[`${H}-no-default-orientation-margin-end`]:ae},T,M),de=s.useMemo(()=>typeof S=="number"?S:/^\d+$/.test(S)?Number(S):S,[S]),pe={marginInlineStart:re?de:void 0,marginInlineEnd:ae?de:void 0};return U(s.createElement("div",Object.assign({className:se,style:Object.assign(Object.assign({},u),V)},j,{role:"separator"}),R&&_!=="vertical"&&s.createElement("span",{className:`${H}-inner-text`,style:pe},R)))},lI=function(t,o){if(!t)return null;var i={left:t.offsetLeft,right:t.parentElement.clientWidth-t.clientWidth-t.offsetLeft,width:t.clientWidth,top:t.offsetTop,bottom:t.parentElement.clientHeight-t.clientHeight-t.offsetTop,height:t.clientHeight};return o?{left:0,right:0,width:0,top:i.top,bottom:i.bottom,height:i.height}:{left:i.left,right:i.right,width:i.width,top:0,bottom:0,height:0}},wh=function(t){return t!==void 0?"".concat(t,"px"):void 0};function PR(e){var t=e.prefixCls,o=e.containerRef,i=e.value,u=e.getValueIndex,g=e.motionName,_=e.onMotionStart,x=e.onMotionEnd,S=e.direction,T=e.vertical,M=T===void 0?!1:T,R=s.useRef(null),N=s.useState(i),F=(0,ve.Z)(N,2),B=F[0],V=F[1],j=function(_e){var Ie,Ce=u(_e),Le=(Ie=o.current)===null||Ie===void 0?void 0:Ie.querySelectorAll(".".concat(t,"-item"))[Ce];return(Le==null?void 0:Le.offsetParent)&&Le},H=s.useState(null),U=(0,ve.Z)(H,2),K=U[0],Y=U[1],q=s.useState(null),Q=(0,ve.Z)(q,2),re=Q[0],ae=Q[1];(0,yt.Z)(function(){if(B!==i){var be=j(B),_e=j(i),Ie=lI(be,M),Ce=lI(_e,M);V(i),Y(Ie),ae(Ce),be&&_e?_():x()}},[i]);var se=s.useMemo(function(){if(M){var be;return wh((be=K==null?void 0:K.top)!==null&&be!==void 0?be:0)}return wh(S==="rtl"?-(K==null?void 0:K.right):K==null?void 0:K.left)},[M,S,K]),de=s.useMemo(function(){if(M){var be;return wh((be=re==null?void 0:re.top)!==null&&be!==void 0?be:0)}return wh(S==="rtl"?-(re==null?void 0:re.right):re==null?void 0:re.left)},[M,S,re]),pe=function(){return M?{transform:"translateY(var(--thumb-start-top))",height:"var(--thumb-start-height)"}:{transform:"translateX(var(--thumb-start-left))",width:"var(--thumb-start-width)"}},ge=function(){return M?{transform:"translateY(var(--thumb-active-top))",height:"var(--thumb-active-height)"}:{transform:"translateX(var(--thumb-active-left))",width:"var(--thumb-active-width)"}},me=function(){Y(null),ae(null),x()};return!K||!re?null:s.createElement(mr.ZP,{visible:!0,motionName:g,motionAppear:!0,onAppearStart:pe,onAppearActive:ge,onVisibleChanged:me},function(be,_e){var Ie=be.className,Ce=be.style,Le=(0,fe.Z)((0,fe.Z)({},Ce),{},{"--thumb-start-left":se,"--thumb-start-width":wh(K==null?void 0:K.width),"--thumb-active-left":de,"--thumb-active-width":wh(re==null?void 0:re.width),"--thumb-start-top":se,"--thumb-start-height":wh(K==null?void 0:K.height),"--thumb-active-top":de,"--thumb-active-height":wh(re==null?void 0:re.height)}),ze={ref:(0,zr.sQ)(R,_e),style:Le,className:oe()("".concat(t,"-thumb"),Ie)};return s.createElement("div",ze)})}var OR=["prefixCls","direction","vertical","options","disabled","defaultValue","value","name","onChange","className","motionName"];function $R(e){if(typeof e.title!="undefined")return e.title;if((0,Tt.Z)(e.label)!=="object"){var t;return(t=e.label)===null||t===void 0?void 0:t.toString()}}function RR(e){return e.map(function(t){if((0,Tt.Z)(t)==="object"&&t!==null){var o=$R(t);return(0,fe.Z)((0,fe.Z)({},t),{},{title:o})}return{label:t==null?void 0:t.toString(),title:t==null?void 0:t.toString(),value:t}})}var AR=function(t){var o=t.prefixCls,i=t.className,u=t.disabled,g=t.checked,_=t.label,x=t.title,S=t.value,T=t.name,M=t.onChange,R=t.onFocus,N=t.onBlur,F=t.onKeyDown,B=t.onKeyUp,V=t.onMouseDown,j=function(U){u||M(U,S)};return s.createElement("label",{className:oe()(i,(0,Ee.Z)({},"".concat(o,"-item-disabled"),u)),onMouseDown:V},s.createElement("input",{name:T,className:"".concat(o,"-item-input"),type:"radio",disabled:u,checked:g,onChange:j,onFocus:R,onBlur:N,onKeyDown:F,onKeyUp:B}),s.createElement("div",{className:"".concat(o,"-item-label"),title:x,"aria-selected":g},_))},DR=s.forwardRef(function(e,t){var o,i,u=e.prefixCls,g=u===void 0?"rc-segmented":u,_=e.direction,x=e.vertical,S=e.options,T=S===void 0?[]:S,M=e.disabled,R=e.defaultValue,N=e.value,F=e.name,B=e.onChange,V=e.className,j=V===void 0?"":V,H=e.motionName,U=H===void 0?"thumb-motion":H,K=(0,Ve.Z)(e,OR),Y=s.useRef(null),q=s.useMemo(function(){return(0,zr.sQ)(Y,t)},[Y,t]),Q=s.useMemo(function(){return RR(T)},[T]),re=(0,Jo.Z)((o=Q[0])===null||o===void 0?void 0:o.value,{value:N,defaultValue:R}),ae=(0,ve.Z)(re,2),se=ae[0],de=ae[1],pe=s.useState(!1),ge=(0,ve.Z)(pe,2),me=ge[0],be=ge[1],_e=function(ht,ut){de(ut),B==null||B(ut)},Ie=(0,Er.Z)(K,["children"]),Ce=s.useState(!1),Le=(0,ve.Z)(Ce,2),ze=Le[0],ke=Le[1],Ze=s.useState(!1),je=(0,ve.Z)(Ze,2),Ue=je[0],He=je[1],Qe=function(){He(!0)},We=function(){He(!1)},it=function(){ke(!1)},Je=function(ht){ht.key==="Tab"&&ke(!0)},wt=function(ht){var ut=Q.findIndex(function(dn){return dn.value===se}),tt=Q.length,xt=(ut+ht+tt)%tt,_t=Q[xt];_t&&(de(_t.value),B==null||B(_t.value))},Dt=function(ht){switch(ht.key){case"ArrowLeft":case"ArrowUp":wt(-1);break;case"ArrowRight":case"ArrowDown":wt(1);break}};return s.createElement("div",(0,Pt.Z)({role:"radiogroup","aria-label":"segmented control",tabIndex:M?void 0:0},Ie,{className:oe()(g,(i={},(0,Ee.Z)(i,"".concat(g,"-rtl"),_==="rtl"),(0,Ee.Z)(i,"".concat(g,"-disabled"),M),(0,Ee.Z)(i,"".concat(g,"-vertical"),x),i),j),ref:q}),s.createElement("div",{className:"".concat(g,"-group")},s.createElement(PR,{vertical:x,prefixCls:g,value:se,containerRef:Y,motionName:"".concat(g,"-").concat(U),direction:_,getValueIndex:function(ht){return Q.findIndex(function(ut){return ut.value===ht})},onMotionStart:function(){be(!0)},onMotionEnd:function(){be(!1)}}),Q.map(function(ct){var ht;return s.createElement(AR,(0,Pt.Z)({},ct,{name:F,key:ct.value,prefixCls:g,className:oe()(ct.className,"".concat(g,"-item"),(ht={},(0,Ee.Z)(ht,"".concat(g,"-item-selected"),ct.value===se&&!me),(0,Ee.Z)(ht,"".concat(g,"-item-focused"),Ue&&ze&&ct.value===se),ht)),checked:ct.value===se,onChange:_e,onFocus:Qe,onBlur:We,onKeyDown:Dt,onKeyUp:Je,onMouseDown:it,disabled:!!M||!!ct.disabled}))})))}),zR=DR,LR=zR;function cI(e,t){return{[`${e}, ${e}:hover, ${e}:focus`]:{color:t.colorTextDisabled,cursor:"not-allowed"}}}function uI(e){return{backgroundColor:e.itemSelectedBg,boxShadow:e.boxShadowTertiary}}const NR=Object.assign({overflow:"hidden"},mn.vS),BR=e=>{const{componentCls:t}=e,o=e.calc(e.controlHeight).sub(e.calc(e.trackPadding).mul(2)).equal(),i=e.calc(e.controlHeightLG).sub(e.calc(e.trackPadding).mul(2)).equal(),u=e.calc(e.controlHeightSM).sub(e.calc(e.trackPadding).mul(2)).equal();return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,mn.Wf)(e)),{display:"inline-block",padding:e.trackPadding,color:e.itemColor,background:e.trackBg,borderRadius:e.borderRadius,transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`}),(0,mn.Qy)(e)),{[`${t}-group`]:{position:"relative",display:"flex",alignItems:"stretch",justifyItems:"flex-start",flexDirection:"row",width:"100%"},[`&${t}-rtl`]:{direction:"rtl"},[`&${t}-vertical`]:{[`${t}-group`]:{flexDirection:"column"},[`${t}-thumb`]:{width:"100%",height:0,padding:`0 ${(0,J.bf)(e.paddingXXS)}`}},[`&${t}-block`]:{display:"flex"},[`&${t}-block ${t}-item`]:{flex:1,minWidth:0},[`${t}-item`]:{position:"relative",textAlign:"center",cursor:"pointer",transition:`color ${e.motionDurationMid} ${e.motionEaseInOut}`,borderRadius:e.borderRadiusSM,transform:"translateZ(0)","&-selected":Object.assign(Object.assign({},uI(e)),{color:e.itemSelectedColor}),"&-focused":Object.assign({},(0,mn.oN)(e)),"&::after":{content:'""',position:"absolute",zIndex:-1,width:"100%",height:"100%",top:0,insetInlineStart:0,borderRadius:"inherit",opacity:0,transition:`opacity ${e.motionDurationMid}`,pointerEvents:"none"},[`&:hover:not(${t}-item-selected):not(${t}-item-disabled)`]:{color:e.itemHoverColor,"&::after":{opacity:1,backgroundColor:e.itemHoverBg}},[`&:active:not(${t}-item-selected):not(${t}-item-disabled)`]:{color:e.itemHoverColor,"&::after":{opacity:1,backgroundColor:e.itemActiveBg}},"&-label":Object.assign({minHeight:o,lineHeight:(0,J.bf)(o),padding:`0 ${(0,J.bf)(e.segmentedPaddingHorizontal)}`},NR),"&-icon + *":{marginInlineStart:e.calc(e.marginSM).div(2).equal()},"&-input":{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:0,height:0,opacity:0,pointerEvents:"none"}},[`${t}-thumb`]:Object.assign(Object.assign({},uI(e)),{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:0,height:"100%",padding:`${(0,J.bf)(e.paddingXXS)} 0`,borderRadius:e.borderRadiusSM,transition:`transform ${e.motionDurationSlow} ${e.motionEaseInOut}, height ${e.motionDurationSlow} ${e.motionEaseInOut}`,[`& ~ ${t}-item:not(${t}-item-selected):not(${t}-item-disabled)::after`]:{backgroundColor:"transparent"}}),[`&${t}-lg`]:{borderRadius:e.borderRadiusLG,[`${t}-item-label`]:{minHeight:i,lineHeight:(0,J.bf)(i),padding:`0 ${(0,J.bf)(e.segmentedPaddingHorizontal)}`,fontSize:e.fontSizeLG},[`${t}-item, ${t}-thumb`]:{borderRadius:e.borderRadius}},[`&${t}-sm`]:{borderRadius:e.borderRadiusSM,[`${t}-item-label`]:{minHeight:u,lineHeight:(0,J.bf)(u),padding:`0 ${(0,J.bf)(e.segmentedPaddingHorizontalSM)}`},[`${t}-item, ${t}-thumb`]:{borderRadius:e.borderRadiusXS}}}),cI(`&-disabled ${t}-item`,e)),cI(`${t}-item-disabled`,e)),{[`${t}-thumb-motion-appear-active`]:{transition:`transform ${e.motionDurationSlow} ${e.motionEaseInOut}, width ${e.motionDurationSlow} ${e.motionEaseInOut}`,willChange:"transform, width"},[`&${t}-shape-round`]:{borderRadius:9999,[`${t}-item, ${t}-thumb`]:{borderRadius:9999}}})}},FR=e=>{const{colorTextLabel:t,colorText:o,colorFillSecondary:i,colorBgElevated:u,colorFill:g,lineWidthBold:_,colorBgLayout:x}=e;return{trackPadding:_,trackBg:x,itemColor:t,itemHoverColor:o,itemHoverBg:i,itemSelectedBg:u,itemActiveBg:g,itemSelectedColor:o}};var kR=(0,Ae.I$)("Segmented",e=>{const{lineWidth:t,calc:o}=e,i=(0,vn.IX)(e,{segmentedPaddingHorizontal:o(e.controlPaddingHorizontal).sub(t).equal(),segmentedPaddingHorizontalSM:o(e.controlPaddingHorizontalSM).sub(t).equal()});return[BR(i)]},FR),dI=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};function jR(e){return typeof e=="object"&&!!(e!=null&&e.icon)}var fI=s.forwardRef((e,t)=>{const o=(0,yd.Z)(),{prefixCls:i,className:u,rootClassName:g,block:_,options:x=[],size:S="middle",style:T,vertical:M,shape:R="default",name:N=o}=e,F=dI(e,["prefixCls","className","rootClassName","block","options","size","style","vertical","shape","name"]),{getPrefixCls:B,direction:V,className:j,style:H}=(0,De.dj)("segmented"),U=B("segmented",i),[K,Y,q]=kR(U),Q=(0,Ts.Z)(S),re=s.useMemo(()=>x.map(de=>{if(jR(de)){const{icon:pe,label:ge}=de,me=dI(de,["icon","label"]);return Object.assign(Object.assign({},me),{label:s.createElement(s.Fragment,null,s.createElement("span",{className:`${U}-item-icon`},pe),ge&&s.createElement("span",null,ge))})}return de}),[x,U]),ae=oe()(u,g,j,{[`${U}-block`]:_,[`${U}-sm`]:Q==="small",[`${U}-lg`]:Q==="large",[`${U}-vertical`]:M,[`${U}-shape-${R}`]:R==="round"},Y,q),se=Object.assign(Object.assign({},H),T);return K(s.createElement(LR,Object.assign({},F,{name:N,className:ae,style:se,options:re,ref:t,prefixCls:U,direction:V,vertical:M})))});const hI=s.createContext({}),pI=s.createContext({});var mI=e=>{let{prefixCls:t,value:o,onChange:i}=e;const u=()=>{if(i&&o&&!o.cleared){const g=o.toHsb();g.a=0;const _=ic(g);_.cleared=!0,i(_)}};return s.createElement("div",{className:`${t}-clear`,onClick:u})};const gI="hex",vI="rgb",yI="hsb";var _I=he(33839),e0=e=>{let{prefixCls:t,min:o=0,max:i=100,value:u,onChange:g,className:_,formatter:x}=e;const S=`${t}-steppers`,[T,M]=(0,s.useState)(u);return(0,s.useEffect)(()=>{Number.isNaN(u)||M(u)},[u]),s.createElement(_I.Z,{className:oe()(S,_),min:o,max:i,value:T,formatter:x,size:"small",onChange:R=>{u||M(R||0),g==null||g(R)}})},ZR=e=>{let{prefixCls:t,value:o,onChange:i}=e;const u=`${t}-alpha-input`,[g,_]=(0,s.useState)(ic(o||"#000"));(0,s.useEffect)(()=>{o&&_(o)},[o]);const x=S=>{const T=g.toHsb();T.a=(S||0)/100;const M=ic(T);o||_(M),i==null||i(M)};return s.createElement(e0,{value:zh(g),prefixCls:t,formatter:S=>`${S}%`,className:u,onChange:x})},xS=he(44885),CS=e=>{let t;return typeof e=="object"&&(e!=null&&e.clearIcon)?t=e:e&&(t={clearIcon:s.createElement(fi.Z,null)}),t};function bI(e,t){const o=(0,s.useRef)([]),i=()=>{o.current.push(setTimeout(()=>{var u,g,_,x;!((u=e.current)===null||u===void 0)&&u.input&&((g=e.current)===null||g===void 0?void 0:g.input.getAttribute("type"))==="password"&&(!((_=e.current)===null||_===void 0)&&_.input.hasAttribute("value"))&&((x=e.current)===null||x===void 0||x.input.removeAttribute("value"))}))};return(0,s.useEffect)(()=>(t&&i(),()=>o.current.forEach(u=>{u&&clearTimeout(u)})),[]),i}var Sh=he(43452);function VR(e){return!!(e.prefix||e.suffix||e.allowClear||e.showCount)}var HR=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o},t0=(0,s.forwardRef)((e,t)=>{const{prefixCls:o,bordered:i=!0,status:u,size:g,disabled:_,onBlur:x,onFocus:S,suffix:T,allowClear:M,addonAfter:R,addonBefore:N,className:F,style:B,styles:V,rootClassName:j,onChange:H,classNames:U,variant:K}=e,Y=HR(e,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","style","styles","rootClassName","onChange","classNames","variant"]),{getPrefixCls:q,direction:Q,allowClear:re,autoComplete:ae,className:se,style:de,classNames:pe,styles:ge}=(0,De.dj)("input"),me=q("input",o),be=(0,s.useRef)(null),_e=(0,po.Z)(me),[Ie,Ce,Le]=(0,Sh.TI)(me,j),[ze]=(0,Sh.ZP)(me,_e),{compactSize:ke,compactItemClassnames:Ze}=(0,yl.ri)(me,Q),je=(0,Ts.Z)(Ut=>{var en;return(en=g!=null?g:ke)!==null&&en!==void 0?en:Ut}),Ue=s.useContext(Ds.Z),He=_!=null?_:Ue,{status:Qe,hasFeedback:We,feedbackIcon:it}=(0,s.useContext)(gc.aM),Je=(0,Il.F)(Qe,u),wt=VR(e)||!!We,Dt=(0,s.useRef)(wt),ct=bI(be,!0),ht=Ut=>{ct(),x==null||x(Ut)},ut=Ut=>{ct(),S==null||S(Ut)},tt=Ut=>{ct(),H==null||H(Ut)},xt=(We||T)&&s.createElement(s.Fragment,null,T,We&&it),_t=CS(M!=null?M:re),[dn,on]=(0,Pu.Z)("input",K,i);return Ie(ze(s.createElement(xS.Z,Object.assign({ref:(0,zr.sQ)(t,be),prefixCls:me,autoComplete:ae},Y,{disabled:He,onBlur:ht,onFocus:ut,style:Object.assign(Object.assign({},de),B),styles:Object.assign(Object.assign({},ge),V),suffix:xt,allowClear:_t,className:oe()(F,j,Le,_e,Ze,se),onChange:tt,addonBefore:N&&s.createElement(xu.Z,{form:!0,space:!0},N),addonAfter:R&&s.createElement(xu.Z,{form:!0,space:!0},R),classNames:Object.assign(Object.assign(Object.assign({},U),pe),{input:oe()({[`${me}-sm`]:je==="small",[`${me}-lg`]:je==="large",[`${me}-rtl`]:Q==="rtl"},U==null?void 0:U.input,pe.input,Ce),variant:oe()({[`${me}-${dn}`]:on},(0,Il.Z)(me,Je)),affixWrapper:oe()({[`${me}-affix-wrapper-sm`]:je==="small",[`${me}-affix-wrapper-lg`]:je==="large",[`${me}-affix-wrapper-rtl`]:Q==="rtl"},Ce),wrapper:oe()({[`${me}-group-rtl`]:Q==="rtl"},Ce),groupWrapper:oe()({[`${me}-group-wrapper-sm`]:je==="small",[`${me}-group-wrapper-lg`]:je==="large",[`${me}-group-wrapper-rtl`]:Q==="rtl",[`${me}-group-wrapper-${dn}`]:on},(0,Il.Z)(`${me}-group-wrapper`,Je,We),Ce)})}))))});const UR=/(^#[\da-f]{6}$)|(^#[\da-f]{8}$)/i,WR=e=>UR.test(`#${e}`);var GR=e=>{let{prefixCls:t,value:o,onChange:i}=e;const u=`${t}-hex-input`,[g,_]=(0,s.useState)(()=>o?Dl(o.toHexString()):void 0);(0,s.useEffect)(()=>{o&&_(Dl(o.toHexString()))},[o]);const x=S=>{const T=S.target.value;_(Dl(T)),WR(Dl(T,!0))&&(i==null||i(ic(T)))};return s.createElement(t0,{className:u,value:g,prefix:"#",onChange:x,size:"small"})},XR=e=>{let{prefixCls:t,value:o,onChange:i}=e;const u=`${t}-hsb-input`,[g,_]=(0,s.useState)(ic(o||"#000"));(0,s.useEffect)(()=>{o&&_(o)},[o]);const x=(S,T)=>{const M=g.toHsb();M[T]=T==="h"?S:(S||0)/100;const R=ic(M);o||_(R),i==null||i(R)};return s.createElement("div",{className:u},s.createElement(e0,{max:360,min:0,value:Number(g.toHsb().h),prefixCls:t,className:u,formatter:S=>Kd(S||0).toString(),onChange:S=>x(Number(S),"h")}),s.createElement(e0,{max:100,min:0,value:Number(g.toHsb().s)*100,prefixCls:t,className:u,formatter:S=>`${Kd(S||0)}%`,onChange:S=>x(Number(S),"s")}),s.createElement(e0,{max:100,min:0,value:Number(g.toHsb().b)*100,prefixCls:t,className:u,formatter:S=>`${Kd(S||0)}%`,onChange:S=>x(Number(S),"b")}))},qR=e=>{let{prefixCls:t,value:o,onChange:i}=e;const u=`${t}-rgb-input`,[g,_]=(0,s.useState)(ic(o||"#000"));(0,s.useEffect)(()=>{o&&_(o)},[o]);const x=(S,T)=>{const M=g.toRgb();M[T]=S||0;const R=ic(M);o||_(R),i==null||i(R)};return s.createElement("div",{className:u},s.createElement(e0,{max:255,min:0,value:Number(g.toRgb().r),prefixCls:t,className:u,onChange:S=>x(Number(S),"r")}),s.createElement(e0,{max:255,min:0,value:Number(g.toRgb().g),prefixCls:t,className:u,onChange:S=>x(Number(S),"g")}),s.createElement(e0,{max:255,min:0,value:Number(g.toRgb().b),prefixCls:t,className:u,onChange:S=>x(Number(S),"b")}))};const KR=[gI,yI,vI].map(e=>({value:e,label:e.toUpperCase()}));var YR=e=>{const{prefixCls:t,format:o,value:i,disabledAlpha:u,onFormatChange:g,onChange:_,disabledFormat:x}=e,[S,T]=(0,Jo.Z)(gI,{value:o,onChange:g}),M=`${t}-input`,R=F=>{T(F)},N=(0,s.useMemo)(()=>{const F={value:i,prefixCls:t,onChange:_};switch(S){case yI:return s.createElement(XR,Object.assign({},F));case vI:return s.createElement(qR,Object.assign({},F));default:return s.createElement(GR,Object.assign({},F))}},[S,t,i,_]);return s.createElement("div",{className:`${M}-container`},!x&&s.createElement($d,{value:S,variant:"borderless",getPopupContainer:F=>F,popupMatchSelectWidth:68,placement:"bottomRight",onChange:R,className:`${t}-format-select`,size:"small",options:KR}),s.createElement("div",{className:M},N),!u&&s.createElement(ZR,{prefixCls:t,value:i,onChange:_}))};function wS(e,t,o){return(e-t)/(o-t)}function SS(e,t,o,i){var u=wS(t,o,i),g={};switch(e){case"rtl":g.right="".concat(u*100,"%"),g.transform="translateX(50%)";break;case"btt":g.bottom="".concat(u*100,"%"),g.transform="translateY(50%)";break;case"ttb":g.top="".concat(u*100,"%"),g.transform="translateY(-50%)";break;default:g.left="".concat(u*100,"%"),g.transform="translateX(-50%)";break}return g}function n0(e,t){return Array.isArray(e)?e[t]:e}var JR=s.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}}),r0=JR,xI=s.createContext({}),QR=["prefixCls","value","valueIndex","onStartMove","onDelete","style","render","dragging","draggingDelete","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"],e4=s.forwardRef(function(e,t){var o=e.prefixCls,i=e.value,u=e.valueIndex,g=e.onStartMove,_=e.onDelete,x=e.style,S=e.render,T=e.dragging,M=e.draggingDelete,R=e.onOffsetChange,N=e.onChangeComplete,F=e.onFocus,B=e.onMouseEnter,V=(0,Ve.Z)(e,QR),j=s.useContext(r0),H=j.min,U=j.max,K=j.direction,Y=j.disabled,q=j.keyboard,Q=j.range,re=j.tabIndex,ae=j.ariaLabelForHandle,se=j.ariaLabelledByForHandle,de=j.ariaRequired,pe=j.ariaValueTextFormatterForHandle,ge=j.styles,me=j.classNames,be="".concat(o,"-handle"),_e=function(Qe){Y||g(Qe,u)},Ie=function(Qe){F==null||F(Qe,u)},Ce=function(Qe){B(Qe,u)},Le=function(Qe){if(!Y&&q){var We=null;switch(Qe.which||Qe.keyCode){case nt.Z.LEFT:We=K==="ltr"||K==="btt"?-1:1;break;case nt.Z.RIGHT:We=K==="ltr"||K==="btt"?1:-1;break;case nt.Z.UP:We=K!=="ttb"?1:-1;break;case nt.Z.DOWN:We=K!=="ttb"?-1:1;break;case nt.Z.HOME:We="min";break;case nt.Z.END:We="max";break;case nt.Z.PAGE_UP:We=2;break;case nt.Z.PAGE_DOWN:We=-2;break;case nt.Z.BACKSPACE:case nt.Z.DELETE:_(u);break}We!==null&&(Qe.preventDefault(),R(We,u))}},ze=function(Qe){switch(Qe.which||Qe.keyCode){case nt.Z.LEFT:case nt.Z.RIGHT:case nt.Z.UP:case nt.Z.DOWN:case nt.Z.HOME:case nt.Z.END:case nt.Z.PAGE_UP:case nt.Z.PAGE_DOWN:N==null||N();break}},ke=SS(K,i,H,U),Ze={};if(u!==null){var je;Ze={tabIndex:Y?null:n0(re,u),role:"slider","aria-valuemin":H,"aria-valuemax":U,"aria-valuenow":i,"aria-disabled":Y,"aria-label":n0(ae,u),"aria-labelledby":n0(se,u),"aria-required":n0(de,u),"aria-valuetext":(je=n0(pe,u))===null||je===void 0?void 0:je(i),"aria-orientation":K==="ltr"||K==="rtl"?"horizontal":"vertical",onMouseDown:_e,onTouchStart:_e,onFocus:Ie,onMouseEnter:Ce,onKeyDown:Le,onKeyUp:ze}}var Ue=s.createElement("div",(0,Pt.Z)({ref:t,className:oe()(be,(0,Ee.Z)((0,Ee.Z)((0,Ee.Z)({},"".concat(be,"-").concat(u+1),u!==null&&Q),"".concat(be,"-dragging"),T),"".concat(be,"-dragging-delete"),M),me.handle),style:(0,fe.Z)((0,fe.Z)((0,fe.Z)({},ke),x),ge.handle)},Ze,V));return S&&(Ue=S(Ue,{index:u,prefixCls:o,value:i,dragging:T,draggingDelete:M})),Ue}),CI=e4,t4=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","draggingDelete","onFocus"],n4=s.forwardRef(function(e,t){var o=e.prefixCls,i=e.style,u=e.onStartMove,g=e.onOffsetChange,_=e.values,x=e.handleRender,S=e.activeHandleRender,T=e.draggingIndex,M=e.draggingDelete,R=e.onFocus,N=(0,Ve.Z)(e,t4),F=s.useRef({}),B=s.useState(!1),V=(0,ve.Z)(B,2),j=V[0],H=V[1],U=s.useState(-1),K=(0,ve.Z)(U,2),Y=K[0],q=K[1],Q=function(pe){q(pe),H(!0)},re=function(pe,ge){Q(ge),R==null||R(pe)},ae=function(pe,ge){Q(ge)};s.useImperativeHandle(t,function(){return{focus:function(pe){var ge;(ge=F.current[pe])===null||ge===void 0||ge.focus()},hideHelp:function(){(0,Nt.flushSync)(function(){H(!1)})}}});var se=(0,fe.Z)({prefixCls:o,onStartMove:u,onOffsetChange:g,render:x,onFocus:re,onMouseEnter:ae},N);return s.createElement(s.Fragment,null,_.map(function(de,pe){var ge=T===pe;return s.createElement(CI,(0,Pt.Z)({ref:function(be){be?F.current[pe]=be:delete F.current[pe]},dragging:ge,draggingDelete:ge&&M,style:n0(i,pe),key:pe,value:de,valueIndex:pe},se))}),S&&j&&s.createElement(CI,(0,Pt.Z)({key:"a11y"},se,{value:_[Y],valueIndex:null,dragging:T!==-1,draggingDelete:M,render:S,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}),r4=n4,i4=function(t){var o=t.prefixCls,i=t.style,u=t.children,g=t.value,_=t.onClick,x=s.useContext(r0),S=x.min,T=x.max,M=x.direction,R=x.includedStart,N=x.includedEnd,F=x.included,B="".concat(o,"-text"),V=SS(M,g,S,T);return s.createElement("span",{className:oe()(B,(0,Ee.Z)({},"".concat(B,"-active"),F&&R<=g&&g<=N)),style:(0,fe.Z)((0,fe.Z)({},V),i),onMouseDown:function(H){H.stopPropagation()},onClick:function(){_(g)}},u)},o4=i4,a4=function(t){var o=t.prefixCls,i=t.marks,u=t.onClick,g="".concat(o,"-mark");return i.length?s.createElement("div",{className:g},i.map(function(_){var x=_.value,S=_.style,T=_.label;return s.createElement(o4,{key:x,prefixCls:g,style:S,value:x,onClick:u},T)})):null},s4=a4,l4=function(t){var o=t.prefixCls,i=t.value,u=t.style,g=t.activeStyle,_=s.useContext(r0),x=_.min,S=_.max,T=_.direction,M=_.included,R=_.includedStart,N=_.includedEnd,F="".concat(o,"-dot"),B=M&&R<=i&&i<=N,V=(0,fe.Z)((0,fe.Z)({},SS(T,i,x,S)),typeof u=="function"?u(i):u);return B&&(V=(0,fe.Z)((0,fe.Z)({},V),typeof g=="function"?g(i):g)),s.createElement("span",{className:oe()(F,(0,Ee.Z)({},"".concat(F,"-active"),B)),style:V})},c4=l4,u4=function(t){var o=t.prefixCls,i=t.marks,u=t.dots,g=t.style,_=t.activeStyle,x=s.useContext(r0),S=x.min,T=x.max,M=x.step,R=s.useMemo(function(){var N=new Set;if(i.forEach(function(B){N.add(B.value)}),u&&M!==null)for(var F=S;F<=T;)N.add(F),F+=M;return Array.from(N)},[S,T,M,u,i]);return s.createElement("div",{className:"".concat(o,"-step")},R.map(function(N){return s.createElement(c4,{prefixCls:o,key:N,value:N,style:g,activeStyle:_})}))},d4=u4,f4=function(t){var o=t.prefixCls,i=t.style,u=t.start,g=t.end,_=t.index,x=t.onStartMove,S=t.replaceCls,T=s.useContext(r0),M=T.direction,R=T.min,N=T.max,F=T.disabled,B=T.range,V=T.classNames,j="".concat(o,"-track"),H=wS(u,R,N),U=wS(g,R,N),K=function(re){!F&&x&&x(re,-1)},Y={};switch(M){case"rtl":Y.right="".concat(H*100,"%"),Y.width="".concat(U*100-H*100,"%");break;case"btt":Y.bottom="".concat(H*100,"%"),Y.height="".concat(U*100-H*100,"%");break;case"ttb":Y.top="".concat(H*100,"%"),Y.height="".concat(U*100-H*100,"%");break;default:Y.left="".concat(H*100,"%"),Y.width="".concat(U*100-H*100,"%")}var q=S||oe()(j,(0,Ee.Z)((0,Ee.Z)({},"".concat(j,"-").concat(_+1),_!==null&&B),"".concat(o,"-track-draggable"),x),V.track);return s.createElement("div",{className:q,style:(0,fe.Z)((0,fe.Z)({},Y),i),onMouseDown:K,onTouchStart:K})},wI=f4,h4=function(t){var o=t.prefixCls,i=t.style,u=t.values,g=t.startPoint,_=t.onStartMove,x=s.useContext(r0),S=x.included,T=x.range,M=x.min,R=x.styles,N=x.classNames,F=s.useMemo(function(){if(!T){if(u.length===0)return[];var V=g!=null?g:M,j=u[0];return[{start:Math.min(V,j),end:Math.max(V,j)}]}for(var H=[],U=0;U<u.length-1;U+=1)H.push({start:u[U],end:u[U+1]});return H},[u,T,g,M]);if(!S)return null;var B=F!=null&&F.length&&(N.tracks||R.tracks)?s.createElement(wI,{index:null,prefixCls:o,start:F[0].start,end:F[F.length-1].end,replaceCls:oe()(N.tracks,"".concat(o,"-tracks")),style:R.tracks}):null;return s.createElement(s.Fragment,null,B,F.map(function(V,j){var H=V.start,U=V.end;return s.createElement(wI,{index:j,prefixCls:o,style:(0,fe.Z)((0,fe.Z)({},n0(i,j)),R.track),start:H,end:U,key:j,onStartMove:_})}))},p4=h4,m4=130;function SI(e){var t="targetTouches"in e?e.targetTouches[0]:e;return{pageX:t.pageX,pageY:t.pageY}}function g4(e,t,o,i,u,g,_,x,S,T,M){var R=s.useState(null),N=(0,ve.Z)(R,2),F=N[0],B=N[1],V=s.useState(-1),j=(0,ve.Z)(V,2),H=j[0],U=j[1],K=s.useState(!1),Y=(0,ve.Z)(K,2),q=Y[0],Q=Y[1],re=s.useState(o),ae=(0,ve.Z)(re,2),se=ae[0],de=ae[1],pe=s.useState(o),ge=(0,ve.Z)(pe,2),me=ge[0],be=ge[1],_e=s.useRef(null),Ie=s.useRef(null),Ce=s.useRef(null),Le=s.useContext(xI),ze=Le.onDragStart,ke=Le.onDragChange;(0,yt.Z)(function(){H===-1&&de(o)},[o,H]),s.useEffect(function(){return function(){document.removeEventListener("mousemove",_e.current),document.removeEventListener("mouseup",Ie.current),Ce.current&&(Ce.current.removeEventListener("touchmove",_e.current),Ce.current.removeEventListener("touchend",Ie.current))}},[]);var Ze=function(We,it,Je){it!==void 0&&B(it),de(We);var wt=We;Je&&(wt=We.filter(function(Dt,ct){return ct!==H})),_(wt),ke&&ke({rawValues:We,deleteIndex:Je?H:-1,draggingIndex:H,draggingValue:it})},je=(0,Or.Z)(function(Qe,We,it){if(Qe===-1){var Je=me[0],wt=me[me.length-1],Dt=i-Je,ct=u-wt,ht=We*(u-i);ht=Math.max(ht,Dt),ht=Math.min(ht,ct);var ut=g(Je+ht);ht=ut-Je;var tt=me.map(function(on){return on+ht});Ze(tt)}else{var xt=(u-i)*We,_t=(0,Be.Z)(se);_t[Qe]=me[Qe];var dn=S(_t,xt,Qe,"dist");Ze(dn.values,dn.value,it)}}),Ue=function(We,it,Je){We.stopPropagation();var wt=Je||o,Dt=wt[it];U(it),B(Dt),be(wt),de(wt),Q(!1);var ct=SI(We),ht=ct.pageX,ut=ct.pageY,tt=!1;ze&&ze({rawValues:wt,draggingIndex:it,draggingValue:Dt});var xt=function(on){on.preventDefault();var Ut=SI(on),en=Ut.pageX,kt=Ut.pageY,cn=en-ht,zn=kt-ut,An=e.current.getBoundingClientRect(),sr=An.width,yr=An.height,Vr,Qn;switch(t){case"btt":Vr=-zn/yr,Qn=cn;break;case"ttb":Vr=zn/yr,Qn=cn;break;case"rtl":Vr=-cn/sr,Qn=zn;break;default:Vr=cn/sr,Qn=zn}tt=T?Math.abs(Qn)>m4&&M<se.length:!1,Q(tt),je(it,Vr,tt)},_t=function dn(on){on.preventDefault(),document.removeEventListener("mouseup",dn),document.removeEventListener("mousemove",xt),Ce.current&&(Ce.current.removeEventListener("touchmove",_e.current),Ce.current.removeEventListener("touchend",Ie.current)),_e.current=null,Ie.current=null,Ce.current=null,x(tt),U(-1),Q(!1)};document.addEventListener("mouseup",_t),document.addEventListener("mousemove",xt),We.currentTarget.addEventListener("touchend",_t),We.currentTarget.addEventListener("touchmove",xt),_e.current=xt,Ie.current=_t,Ce.current=We.currentTarget},He=s.useMemo(function(){var Qe=(0,Be.Z)(o).sort(function(Dt,ct){return Dt-ct}),We=(0,Be.Z)(se).sort(function(Dt,ct){return Dt-ct}),it={};We.forEach(function(Dt){it[Dt]=(it[Dt]||0)+1}),Qe.forEach(function(Dt){it[Dt]=(it[Dt]||0)-1});var Je=T?1:0,wt=Object.values(it).reduce(function(Dt,ct){return Dt+Math.abs(ct)},0);return wt<=Je?se:o},[o,se,T]);return[H,F,q,He,Ue]}var v4=g4;function y4(e,t,o,i,u,g){var _=s.useCallback(function(F){return Math.max(e,Math.min(t,F))},[e,t]),x=s.useCallback(function(F){if(o!==null){var B=e+Math.round((_(F)-e)/o)*o,V=function(K){return(String(K).split(".")[1]||"").length},j=Math.max(V(o),V(t),V(e)),H=Number(B.toFixed(j));return e<=H&&H<=t?H:null}return null},[o,e,t,_]),S=s.useCallback(function(F){var B=_(F),V=i.map(function(U){return U.value});o!==null&&V.push(x(F)),V.push(e,t);var j=V[0],H=t-e;return V.forEach(function(U){var K=Math.abs(B-U);K<=H&&(j=U,H=K)}),j},[e,t,i,o,_,x]),T=function F(B,V,j){var H=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof V=="number"){var U,K=B[j],Y=K+V,q=[];i.forEach(function(de){q.push(de.value)}),q.push(e,t),q.push(x(K));var Q=V>0?1:-1;H==="unit"?q.push(x(K+Q*o)):q.push(x(Y)),q=q.filter(function(de){return de!==null}).filter(function(de){return V<0?de<=K:de>=K}),H==="unit"&&(q=q.filter(function(de){return de!==K}));var re=H==="unit"?K:Y;U=q[0];var ae=Math.abs(U-re);if(q.forEach(function(de){var pe=Math.abs(de-re);pe<ae&&(U=de,ae=pe)}),U===void 0)return V<0?e:t;if(H==="dist")return U;if(Math.abs(V)>1){var se=(0,Be.Z)(B);return se[j]=U,F(se,V-Q,j,H)}return U}else{if(V==="min")return e;if(V==="max")return t}},M=function(B,V,j){var H=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",U=B[j],K=T(B,V,j,H);return{value:K,changed:K!==U}},R=function(B){return g===null&&B===0||typeof g=="number"&&B<g},N=function(B,V,j){var H=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",U=B.map(S),K=U[j],Y=T(U,V,j,H);if(U[j]=Y,u===!1){var q=g||0;j>0&&U[j-1]!==K&&(U[j]=Math.max(U[j],U[j-1]+q)),j<U.length-1&&U[j+1]!==K&&(U[j]=Math.min(U[j],U[j+1]-q))}else if(typeof g=="number"||g===null){for(var Q=j+1;Q<U.length;Q+=1)for(var re=!0;R(U[Q]-U[Q-1])&&re;){var ae=M(U,1,Q);U[Q]=ae.value,re=ae.changed}for(var se=j;se>0;se-=1)for(var de=!0;R(U[se]-U[se-1])&&de;){var pe=M(U,-1,se-1);U[se-1]=pe.value,de=pe.changed}for(var ge=U.length-1;ge>0;ge-=1)for(var me=!0;R(U[ge]-U[ge-1])&&me;){var be=M(U,-1,ge-1);U[ge-1]=be.value,me=be.changed}for(var _e=0;_e<U.length-1;_e+=1)for(var Ie=!0;R(U[_e+1]-U[_e])&&Ie;){var Ce=M(U,1,_e+1);U[_e+1]=Ce.value,Ie=Ce.changed}}return{value:U[j],values:U}};return[S,N]}function _4(e){return(0,s.useMemo)(function(){if(e===!0||!e)return[!!e,!1,!1,0];var t=e.editable,o=e.draggableTrack,i=e.minCount,u=e.maxCount;return[!0,t,!t&&o,i||0,u]},[e])}var b4=s.forwardRef(function(e,t){var o=e.prefixCls,i=o===void 0?"rc-slider":o,u=e.className,g=e.style,_=e.classNames,x=e.styles,S=e.id,T=e.disabled,M=T===void 0?!1:T,R=e.keyboard,N=R===void 0?!0:R,F=e.autoFocus,B=e.onFocus,V=e.onBlur,j=e.min,H=j===void 0?0:j,U=e.max,K=U===void 0?100:U,Y=e.step,q=Y===void 0?1:Y,Q=e.value,re=e.defaultValue,ae=e.range,se=e.count,de=e.onChange,pe=e.onBeforeChange,ge=e.onAfterChange,me=e.onChangeComplete,be=e.allowCross,_e=be===void 0?!0:be,Ie=e.pushable,Ce=Ie===void 0?!1:Ie,Le=e.reverse,ze=e.vertical,ke=e.included,Ze=ke===void 0?!0:ke,je=e.startPoint,Ue=e.trackStyle,He=e.handleStyle,Qe=e.railStyle,We=e.dotStyle,it=e.activeDotStyle,Je=e.marks,wt=e.dots,Dt=e.handleRender,ct=e.activeHandleRender,ht=e.track,ut=e.tabIndex,tt=ut===void 0?0:ut,xt=e.ariaLabelForHandle,_t=e.ariaLabelledByForHandle,dn=e.ariaRequired,on=e.ariaValueTextFormatterForHandle,Ut=s.useRef(null),en=s.useRef(null),kt=s.useMemo(function(){return ze?Le?"ttb":"btt":Le?"rtl":"ltr"},[Le,ze]),cn=_4(ae),zn=(0,ve.Z)(cn,5),An=zn[0],sr=zn[1],yr=zn[2],Vr=zn[3],Qn=zn[4],Un=s.useMemo(function(){return isFinite(H)?H:0},[H]),er=s.useMemo(function(){return isFinite(K)?K:100},[K]),Ir=s.useMemo(function(){return q!==null&&q<=0?1:q},[q]),pr=s.useMemo(function(){return typeof Ce=="boolean"?Ce?Ir:!1:Ce>=0?Ce:!1},[Ce,Ir]),Zr=s.useMemo(function(){return Object.keys(Je||{}).map(function(Ti){var xr=Je[Ti],zi={value:Number(Ti)};return xr&&(0,Tt.Z)(xr)==="object"&&!s.isValidElement(xr)&&("label"in xr||"style"in xr)?(zi.style=xr.style,zi.label=xr.label):zi.label=xr,zi}).filter(function(Ti){var xr=Ti.label;return xr||typeof xr=="number"}).sort(function(Ti,xr){return Ti.value-xr.value})},[Je]),xn=y4(Un,er,Ir,Zr,_e,pr),fn=(0,ve.Z)(xn,2),yn=fn[0],Gt=fn[1],Kn=(0,Jo.Z)(re,{value:Q}),vr=(0,ve.Z)(Kn,2),Jr=vr[0],Hi=vr[1],Gi=s.useMemo(function(){var Ti=Jr==null?[]:Array.isArray(Jr)?Jr:[Jr],xr=(0,ve.Z)(Ti,1),zi=xr[0],_o=zi===void 0?Un:zi,Sa=Jr===null?[]:[_o];if(An){if(Sa=(0,Be.Z)(Ti),se||Jr===void 0){var vs=se>=0?se+1:2;for(Sa=Sa.slice(0,vs);Sa.length<vs;){var Js;Sa.push((Js=Sa[Sa.length-1])!==null&&Js!==void 0?Js:Un)}}Sa.sort(function(hs,ho){return hs-ho})}return Sa.forEach(function(hs,ho){Sa[ho]=yn(hs)}),Sa},[Jr,An,Un,se,yn]),Zi=function(xr){return An?xr:xr[0]},Fa=(0,Or.Z)(function(Ti){var xr=(0,Be.Z)(Ti).sort(function(zi,_o){return zi-_o});de&&!(0,id.Z)(xr,Gi,!0)&&de(Zi(xr)),Hi(xr)}),Do=(0,Or.Z)(function(Ti){Ti&&Ut.current.hideHelp();var xr=Zi(Gi);ge==null||ge(xr),(0,zl.ZP)(!ge,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),me==null||me(xr)}),zo=function(xr){if(!(M||!sr||Gi.length<=Vr)){var zi=(0,Be.Z)(Gi);zi.splice(xr,1),pe==null||pe(Zi(zi)),Fa(zi);var _o=Math.max(0,xr-1);Ut.current.hideHelp(),Ut.current.focus(_o)}},oo=v4(en,kt,Gi,Un,er,yn,Fa,Do,Gt,sr,Vr),Uo=(0,ve.Z)(oo,5),ua=Uo[0],xi=Uo[1],Fi=Uo[2],Wr=Uo[3],gi=Uo[4],Ci=function(xr,zi){if(!M){var _o=(0,Be.Z)(Gi),Sa=0,vs=0,Js=er-Un;Gi.forEach(function(Ws,lc){var Lu=Math.abs(xr-Ws);Lu<=Js&&(Js=Lu,Sa=lc),Ws<xr&&(vs=lc)});var hs=Sa;sr&&Js!==0&&(!Qn||Gi.length<Qn)?(_o.splice(vs+1,0,xr),hs=vs+1):_o[Sa]=xr,An&&!Gi.length&&se===void 0&&_o.push(xr);var ho=Zi(_o);if(pe==null||pe(ho),Fa(_o),zi){var fa,ja;(fa=document.activeElement)===null||fa===void 0||(ja=fa.blur)===null||ja===void 0||ja.call(fa),Ut.current.focus(hs),gi(zi,hs,_o)}else ge==null||ge(ho),(0,zl.ZP)(!ge,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),me==null||me(ho)}},Yi=function(xr){xr.preventDefault();var zi=en.current.getBoundingClientRect(),_o=zi.width,Sa=zi.height,vs=zi.left,Js=zi.top,hs=zi.bottom,ho=zi.right,fa=xr.clientX,ja=xr.clientY,Ws;switch(kt){case"btt":Ws=(hs-ja)/Sa;break;case"ttb":Ws=(ja-Js)/Sa;break;case"rtl":Ws=(ho-fa)/_o;break;default:Ws=(fa-vs)/_o}var lc=Un+Ws*(er-Un);Ci(yn(lc),xr)},xa=s.useState(null),Pa=(0,ve.Z)(xa,2),Fs=Pa[0],Xi=Pa[1],Di=function(xr,zi){if(!M){var _o=Gt(Gi,xr,zi);pe==null||pe(Zi(Gi)),Fa(_o.values),Xi(_o.value)}};s.useEffect(function(){if(Fs!==null){var Ti=Gi.indexOf(Fs);Ti>=0&&Ut.current.focus(Ti)}Xi(null)},[Fs]);var Si=s.useMemo(function(){return yr&&Ir===null?!1:yr},[yr,Ir]),Ii=(0,Or.Z)(function(Ti,xr){gi(Ti,xr),pe==null||pe(Zi(Gi))}),da=ua!==-1;s.useEffect(function(){if(!da){var Ti=Gi.lastIndexOf(xi);Ut.current.focus(Ti)}},[da]);var Qa=s.useMemo(function(){return(0,Be.Z)(Wr).sort(function(Ti,xr){return Ti-xr})},[Wr]),Wo=s.useMemo(function(){return An?[Qa[0],Qa[Qa.length-1]]:[Un,Qa[0]]},[Qa,An,Un]),lo=(0,ve.Z)(Wo,2),va=lo[0],ka=lo[1];s.useImperativeHandle(t,function(){return{focus:function(){Ut.current.focus(0)},blur:function(){var xr,zi=document,_o=zi.activeElement;(xr=en.current)!==null&&xr!==void 0&&xr.contains(_o)&&(_o==null||_o.blur())}}}),s.useEffect(function(){F&&Ut.current.focus(0)},[]);var Us=s.useMemo(function(){return{min:Un,max:er,direction:kt,disabled:M,keyboard:N,step:Ir,included:Ze,includedStart:va,includedEnd:ka,range:An,tabIndex:tt,ariaLabelForHandle:xt,ariaLabelledByForHandle:_t,ariaRequired:dn,ariaValueTextFormatterForHandle:on,styles:x||{},classNames:_||{}}},[Un,er,kt,M,N,Ir,Ze,va,ka,An,tt,xt,_t,dn,on,x,_]);return s.createElement(r0.Provider,{value:Us},s.createElement("div",{ref:en,className:oe()(i,u,(0,Ee.Z)((0,Ee.Z)((0,Ee.Z)((0,Ee.Z)({},"".concat(i,"-disabled"),M),"".concat(i,"-vertical"),ze),"".concat(i,"-horizontal"),!ze),"".concat(i,"-with-marks"),Zr.length)),style:g,onMouseDown:Yi,id:S},s.createElement("div",{className:oe()("".concat(i,"-rail"),_==null?void 0:_.rail),style:(0,fe.Z)((0,fe.Z)({},Qe),x==null?void 0:x.rail)}),ht!==!1&&s.createElement(p4,{prefixCls:i,style:Ue,values:Gi,startPoint:je,onStartMove:Si?Ii:void 0}),s.createElement(d4,{prefixCls:i,marks:Zr,dots:wt,style:We,activeStyle:it}),s.createElement(r4,{ref:Ut,prefixCls:i,style:He,values:Wr,draggingIndex:ua,draggingDelete:Fi,onStartMove:Ii,onOffsetChange:Di,onFocus:B,onBlur:V,handleRender:Dt,activeHandleRender:ct,onChangeComplete:Do,onDelete:sr?zo:void 0}),s.createElement(s4,{prefixCls:i,marks:Zr,onClick:Ci})))}),x4=b4,C4=x4,EI=(0,s.createContext)({}),II=s.forwardRef((e,t)=>{const{open:o,draggingDelete:i}=e,u=(0,s.useRef)(null),g=o&&!i,_=(0,s.useRef)(null);function x(){lt.Z.cancel(_.current),_.current=null}function S(){_.current=(0,lt.Z)(()=>{var T;(T=u.current)===null||T===void 0||T.forceAlign(),_.current=null})}return s.useEffect(()=>(g?S():x(),x),[g,e.title]),s.createElement(Uc.Z,Object.assign({ref:(0,zr.sQ)(u,t)},e,{open:g}))});const w4=e=>{const{componentCls:t,antCls:o,controlSize:i,dotSize:u,marginFull:g,marginPart:_,colorFillContentHover:x,handleColorDisabled:S,calc:T,handleSize:M,handleSizeHover:R,handleActiveColor:N,handleActiveOutlineColor:F,handleLineWidth:B,handleLineWidthHover:V,motionDurationMid:j}=e;return{[t]:Object.assign(Object.assign({},(0,mn.Wf)(e)),{position:"relative",height:i,margin:`${(0,J.bf)(_)} ${(0,J.bf)(g)}`,padding:0,cursor:"pointer",touchAction:"none","&-vertical":{margin:`${(0,J.bf)(g)} ${(0,J.bf)(_)}`},[`${t}-rail`]:{position:"absolute",backgroundColor:e.railBg,borderRadius:e.borderRadiusXS,transition:`background-color ${j}`},[`${t}-track,${t}-tracks`]:{position:"absolute",transition:`background-color ${j}`},[`${t}-track`]:{backgroundColor:e.trackBg,borderRadius:e.borderRadiusXS},[`${t}-track-draggable`]:{boxSizing:"content-box",backgroundClip:"content-box",border:"solid rgba(0,0,0,0)"},"&:hover":{[`${t}-rail`]:{backgroundColor:e.railHoverBg},[`${t}-track`]:{backgroundColor:e.trackHoverBg},[`${t}-dot`]:{borderColor:x},[`${t}-handle::after`]:{boxShadow:`0 0 0 ${(0,J.bf)(B)} ${e.colorPrimaryBorderHover}`},[`${t}-dot-active`]:{borderColor:e.dotActiveBorderColor}},[`${t}-handle`]:{position:"absolute",width:M,height:M,outline:"none",userSelect:"none","&-dragging-delete":{opacity:0},"&::before":{content:'""',position:"absolute",insetInlineStart:T(B).mul(-1).equal(),insetBlockStart:T(B).mul(-1).equal(),width:T(M).add(T(B).mul(2)).equal(),height:T(M).add(T(B).mul(2)).equal(),backgroundColor:"transparent"},"&::after":{content:'""',position:"absolute",insetBlockStart:0,insetInlineStart:0,width:M,height:M,backgroundColor:e.colorBgElevated,boxShadow:`0 0 0 ${(0,J.bf)(B)} ${e.handleColor}`,outline:"0px solid transparent",borderRadius:"50%",cursor:"pointer",transition:`
            inset-inline-start ${j},
            inset-block-start ${j},
            width ${j},
            height ${j},
            box-shadow ${j},
            outline ${j}
          `},"&:hover, &:active, &:focus":{"&::before":{insetInlineStart:T(R).sub(M).div(2).add(V).mul(-1).equal(),insetBlockStart:T(R).sub(M).div(2).add(V).mul(-1).equal(),width:T(R).add(T(V).mul(2)).equal(),height:T(R).add(T(V).mul(2)).equal()},"&::after":{boxShadow:`0 0 0 ${(0,J.bf)(V)} ${N}`,outline:`6px solid ${F}`,width:R,height:R,insetInlineStart:e.calc(M).sub(R).div(2).equal(),insetBlockStart:e.calc(M).sub(R).div(2).equal()}}},[`&-lock ${t}-handle`]:{"&::before, &::after":{transition:"none"}},[`${t}-mark`]:{position:"absolute",fontSize:e.fontSize},[`${t}-mark-text`]:{position:"absolute",display:"inline-block",color:e.colorTextDescription,textAlign:"center",wordBreak:"keep-all",cursor:"pointer",userSelect:"none","&-active":{color:e.colorText}},[`${t}-step`]:{position:"absolute",background:"transparent",pointerEvents:"none"},[`${t}-dot`]:{position:"absolute",width:u,height:u,backgroundColor:e.colorBgElevated,border:`${(0,J.bf)(B)} solid ${e.dotBorderColor}`,borderRadius:"50%",cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,pointerEvents:"auto","&-active":{borderColor:e.dotActiveBorderColor}},[`&${t}-disabled`]:{cursor:"not-allowed",[`${t}-rail`]:{backgroundColor:`${e.railBg} !important`},[`${t}-track`]:{backgroundColor:`${e.trackBgDisabled} !important`},[`
          ${t}-dot
        `]:{backgroundColor:e.colorBgElevated,borderColor:e.trackBgDisabled,boxShadow:"none",cursor:"not-allowed"},[`${t}-handle::after`]:{backgroundColor:e.colorBgElevated,cursor:"not-allowed",width:M,height:M,boxShadow:`0 0 0 ${(0,J.bf)(B)} ${S}`,insetInlineStart:0,insetBlockStart:0},[`
          ${t}-mark-text,
          ${t}-dot
        `]:{cursor:"not-allowed !important"}},[`&-tooltip ${o}-tooltip-inner`]:{minWidth:"unset"}})}},TI=(e,t)=>{const{componentCls:o,railSize:i,handleSize:u,dotSize:g,marginFull:_,calc:x}=e,S=t?"paddingBlock":"paddingInline",T=t?"width":"height",M=t?"height":"width",R=t?"insetBlockStart":"insetInlineStart",N=t?"top":"insetInlineStart",F=x(i).mul(3).sub(u).div(2).equal(),B=x(u).sub(i).div(2).equal(),V=t?{borderWidth:`${(0,J.bf)(B)} 0`,transform:`translateY(${(0,J.bf)(x(B).mul(-1).equal())})`}:{borderWidth:`0 ${(0,J.bf)(B)}`,transform:`translateX(${(0,J.bf)(e.calc(B).mul(-1).equal())})`};return{[S]:i,[M]:x(i).mul(3).equal(),[`${o}-rail`]:{[T]:"100%",[M]:i},[`${o}-track,${o}-tracks`]:{[M]:i},[`${o}-track-draggable`]:Object.assign({},V),[`${o}-handle`]:{[R]:F},[`${o}-mark`]:{insetInlineStart:0,top:0,[N]:x(i).mul(3).add(t?0:_).equal(),[T]:"100%"},[`${o}-step`]:{insetInlineStart:0,top:0,[N]:i,[T]:"100%",[M]:i},[`${o}-dot`]:{position:"absolute",[R]:x(i).sub(g).div(2).equal()}}},S4=e=>{const{componentCls:t,marginPartWithMark:o}=e;return{[`${t}-horizontal`]:Object.assign(Object.assign({},TI(e,!0)),{[`&${t}-with-marks`]:{marginBottom:o}})}},E4=e=>{const{componentCls:t}=e;return{[`${t}-vertical`]:Object.assign(Object.assign({},TI(e,!1)),{height:"100%"})}},I4=e=>{const o=e.controlHeightLG/4,i=e.controlHeightSM/2,u=e.lineWidth+1,g=e.lineWidth+1*1.5,_=e.colorPrimary,x=new Es.t(_).setA(.2).toRgbString();return{controlSize:o,railSize:4,handleSize:o,handleSizeHover:i,dotSize:8,handleLineWidth:u,handleLineWidthHover:g,railBg:e.colorFillTertiary,railHoverBg:e.colorFillSecondary,trackBg:e.colorPrimaryBorder,trackHoverBg:e.colorPrimaryBorderHover,handleColor:e.colorPrimaryBorder,handleActiveColor:_,handleActiveOutlineColor:x,handleColorDisabled:new Es.t(e.colorTextDisabled).onBackground(e.colorBgContainer).toHexString(),dotBorderColor:e.colorBorderSecondary,dotActiveBorderColor:e.colorPrimaryBorder,trackBgDisabled:e.colorBgContainerDisabled}};var T4=(0,Ae.I$)("Slider",e=>{const t=(0,vn.IX)(e,{marginPart:e.calc(e.controlHeight).sub(e.controlSize).div(2).equal(),marginFull:e.calc(e.controlSize).div(2).equal(),marginPartWithMark:e.calc(e.controlHeightLG).sub(e.controlSize).equal()});return[w4(t),S4(t),E4(t)]},I4);function ES(){const[e,t]=s.useState(!1),o=s.useRef(null),i=()=>{lt.Z.cancel(o.current)},u=g=>{i(),g?t(g):o.current=(0,lt.Z)(()=>{t(g)})};return s.useEffect(()=>i,[]),[e,u]}var M4=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};function P4(e,t){return e||e===null?e:t||t===null?t:o=>typeof o=="number"?o.toString():""}var MI=s.forwardRef((e,t)=>{const{prefixCls:o,range:i,className:u,rootClassName:g,style:_,disabled:x,tooltipPrefixCls:S,tipFormatter:T,tooltipVisible:M,getTooltipPopupContainer:R,tooltipPlacement:N,tooltip:F={},onChangeComplete:B,classNames:V,styles:j}=e,H=M4(e,["prefixCls","range","className","rootClassName","style","disabled","tooltipPrefixCls","tipFormatter","tooltipVisible","getTooltipPopupContainer","tooltipPlacement","tooltip","onChangeComplete","classNames","styles"]),{vertical:U}=e,{getPrefixCls:K,direction:Y,className:q,style:Q,classNames:re,styles:ae,getPopupContainer:se}=(0,De.dj)("slider"),de=s.useContext(Ds.Z),pe=x!=null?x:de,{handleRender:ge,direction:me}=s.useContext(EI),_e=(me||Y)==="rtl",[Ie,Ce]=ES(),[Le,ze]=ES(),ke=Object.assign({},F),{open:Ze,placement:je,getPopupContainer:Ue,prefixCls:He,formatter:Qe}=ke,We=Ze!=null?Ze:M,it=(Ie||Le)&&We!==!1,Je=P4(Qe,T),[wt,Dt]=ES(),ct=An=>{B==null||B(An),Dt(!1)},ht=(An,sr)=>An||(sr?_e?"left":"right":"top"),ut=K("slider",o),[tt,xt,_t]=T4(ut),dn=oe()(u,q,re.root,V==null?void 0:V.root,g,{[`${ut}-rtl`]:_e,[`${ut}-lock`]:wt},xt,_t);_e&&!H.vertical&&(H.reverse=!H.reverse),s.useEffect(()=>{const An=()=>{(0,lt.Z)(()=>{ze(!1)},1)};return document.addEventListener("mouseup",An),()=>{document.removeEventListener("mouseup",An)}},[]);const on=i&&!We,Ut=ge||((An,sr)=>{const{index:yr}=sr,Vr=An.props;function Qn(pr,Zr,xn){var fn,yn,Gt,Kn;xn&&((yn=(fn=H)[pr])===null||yn===void 0||yn.call(fn,Zr)),(Kn=(Gt=Vr)[pr])===null||Kn===void 0||Kn.call(Gt,Zr)}const Un=Object.assign(Object.assign({},Vr),{onMouseEnter:pr=>{Ce(!0),Qn("onMouseEnter",pr)},onMouseLeave:pr=>{Ce(!1),Qn("onMouseLeave",pr)},onMouseDown:pr=>{ze(!0),Dt(!0),Qn("onMouseDown",pr)},onFocus:pr=>{var Zr;ze(!0),(Zr=H.onFocus)===null||Zr===void 0||Zr.call(H,pr),Qn("onFocus",pr,!0)},onBlur:pr=>{var Zr;ze(!1),(Zr=H.onBlur)===null||Zr===void 0||Zr.call(H,pr),Qn("onBlur",pr,!0)}}),er=s.cloneElement(An,Un),Ir=(!!We||it)&&Je!==null;return on?er:s.createElement(II,Object.assign({},ke,{prefixCls:K("tooltip",He!=null?He:S),title:Je?Je(sr.value):"",open:Ir,placement:ht(je!=null?je:N,U),key:yr,classNames:{root:`${ut}-tooltip`},getPopupContainer:Ue||R||se}),er)}),en=on?(An,sr)=>{const yr=s.cloneElement(An,{style:Object.assign(Object.assign({},An.props.style),{visibility:"hidden"})});return s.createElement(II,Object.assign({},ke,{prefixCls:K("tooltip",He!=null?He:S),title:Je?Je(sr.value):"",open:Je!==null&&it,placement:ht(je!=null?je:N,U),key:"tooltip",classNames:{root:`${ut}-tooltip`},getPopupContainer:Ue||R||se,draggingDelete:sr.draggingDelete}),yr)}:void 0,kt=Object.assign(Object.assign(Object.assign(Object.assign({},ae.root),Q),j==null?void 0:j.root),_),cn=Object.assign(Object.assign({},ae.tracks),j==null?void 0:j.tracks),zn=oe()(re.tracks,V==null?void 0:V.tracks);return tt(s.createElement(C4,Object.assign({},H,{classNames:Object.assign({handle:oe()(re.handle,V==null?void 0:V.handle),rail:oe()(re.rail,V==null?void 0:V.rail),track:oe()(re.track,V==null?void 0:V.track)},zn?{tracks:zn}:{}),styles:Object.assign({handle:Object.assign(Object.assign({},ae.handle),j==null?void 0:j.handle),rail:Object.assign(Object.assign({},ae.rail),j==null?void 0:j.rail),track:Object.assign(Object.assign({},ae.track),j==null?void 0:j.track)},Object.keys(cn).length?{tracks:cn}:{}),step:H.step,range:i,className:dn,style:kt,disabled:pe,ref:t,prefixCls:ut,handleRender:Ut,activeHandleRender:en,onChangeComplete:ct})))}),O4=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};const PI=e=>{const{prefixCls:t,colors:o,type:i,color:u,range:g=!1,className:_,activeIndex:x,onActive:S,onDragStart:T,onDragChange:M,onKeyDelete:R}=e,N=O4(e,["prefixCls","colors","type","color","range","className","activeIndex","onActive","onDragStart","onDragChange","onKeyDelete"]),F=Object.assign(Object.assign({},N),{track:!1}),B=s.useMemo(()=>`linear-gradient(90deg, ${o.map(Q=>`${Q.color} ${Q.percent}%`).join(", ")})`,[o]),V=s.useMemo(()=>!u||!i?null:i==="alpha"?u.toRgbString():`hsl(${u.toHsb().h}, 100%, 50%)`,[u,i]),j=(0,Or.Z)(T),H=(0,Or.Z)(M),U=s.useMemo(()=>({onDragStart:j,onDragChange:H}),[]),K=(0,Or.Z)((q,Q)=>{const{onFocus:re,style:ae,className:se,onKeyDown:de}=q.props,pe=Object.assign({},ae);return i==="gradient"&&(pe.background=Lh(o,Q.value)),s.cloneElement(q,{onFocus:ge=>{S==null||S(Q.index),re==null||re(ge)},style:pe,className:oe()(se,{[`${t}-slider-handle-active`]:x===Q.index}),onKeyDown:ge=>{(ge.key==="Delete"||ge.key==="Backspace")&&R&&R(Q.index),de==null||de(ge)}})}),Y=s.useMemo(()=>({direction:"ltr",handleRender:K}),[]);return s.createElement(EI.Provider,{value:Y},s.createElement(xI.Provider,{value:U},s.createElement(MI,Object.assign({},F,{className:oe()(_,`${t}-slider`),tooltip:{open:!1},range:{editable:g,minCount:2},styles:{rail:{background:B},handle:V?{background:V}:{}},classNames:{rail:`${t}-slider-rail`,handle:`${t}-slider-handle`}}))))};var $4=e=>{const{value:t,onChange:o,onChangeComplete:i}=e,u=_=>o(_[0]),g=_=>i(_[0]);return s.createElement(PI,Object.assign({},e,{value:[t],onChange:u,onChangeComplete:g}))};function OI(e){return(0,Be.Z)(e).sort((t,o)=>t.percent-o.percent)}const R4=e=>{const{prefixCls:t,mode:o,onChange:i,onChangeComplete:u,onActive:g,activeIndex:_,onGradientDragging:x,colors:S}=e,T=o==="gradient",M=s.useMemo(()=>S.map(H=>({percent:H.percent,color:H.color.toRgbString()})),[S]),R=s.useMemo(()=>M.map(H=>H.percent),[M]),N=s.useRef(M),F=H=>{let{rawValues:U,draggingIndex:K,draggingValue:Y}=H;if(U.length>M.length){const q=Lh(M,Y),Q=(0,Be.Z)(M);Q.splice(K,0,{percent:Y,color:q}),N.current=Q}else N.current=M;x(!0),i(new Qs(OI(N.current)),!0)},B=H=>{let{deleteIndex:U,draggingIndex:K,draggingValue:Y}=H,q=(0,Be.Z)(N.current);U!==-1?q.splice(U,1):(q[K]=Object.assign(Object.assign({},q[K]),{percent:Y}),q=OI(q)),i(new Qs(q),!0)},V=H=>{const U=(0,Be.Z)(M);U.splice(H,1);const K=new Qs(U);i(K),u(K)},j=H=>{u(new Qs(M)),_>=H.length&&g(H.length-1),x(!1)};return T?s.createElement(PI,{min:0,max:100,prefixCls:t,className:`${t}-gradient-slider`,colors:M,color:null,value:R,range:!0,onChangeComplete:j,disabled:!1,type:"gradient",activeIndex:_,onActive:g,onDragStart:F,onDragChange:B,onKeyDelete:V}):null};var A4=s.memo(R4),D4=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};const z4={slider:$4};var $I=()=>{const e=(0,s.useContext)(hI),{mode:t,onModeChange:o,modeOptions:i,prefixCls:u,allowClear:g,value:_,disabledAlpha:x,onChange:S,onClear:T,onChangeComplete:M,activeIndex:R,gradientDragging:N}=e,F=D4(e,["mode","onModeChange","modeOptions","prefixCls","allowClear","value","disabledAlpha","onChange","onClear","onChangeComplete","activeIndex","gradientDragging"]),B=s.useMemo(()=>_.cleared?[{percent:0,color:new Qs("")},{percent:100,color:new Qs("")}]:_.getColors(),[_]),V=!_.isGradient(),[j,H]=s.useState(_);(0,yt.Z)(()=>{var be;V||H((be=B[R])===null||be===void 0?void 0:be.color)},[N,R]);const U=s.useMemo(()=>{var be;return V?_:N?j:(be=B[R])===null||be===void 0?void 0:be.color},[_,R,V,j,N]),[K,Y]=s.useState(U),[q,Q]=s.useState(0),re=K!=null&&K.equals(U)?U:K;(0,yt.Z)(()=>{Y(U)},[q,U==null?void 0:U.toHexString()]);const ae=(be,_e)=>{let Ie=ic(be);if(_.cleared){const Le=Ie.toRgb();if(!Le.r&&!Le.g&&!Le.b&&_e){const{type:ze,value:ke=0}=_e;Ie=new Qs({h:ze==="hue"?ke:0,s:1,b:1,a:ze==="alpha"?ke/100:1})}else Ie=zf(Ie)}if(t==="single")return Ie;const Ce=(0,Be.Z)(B);return Ce[R]=Object.assign(Object.assign({},Ce[R]),{color:Ie}),new Qs(Ce)},se=(be,_e,Ie)=>{const Ce=ae(be,Ie);Y(Ce.isGradient()?Ce.getColors()[R].color:Ce),S(Ce,_e)},de=(be,_e)=>{M(ae(be,_e)),Q(Ie=>Ie+1)},pe=be=>{S(ae(be))};let ge=null;const me=i.length>1;return(g||me)&&(ge=s.createElement("div",{className:`${u}-operation`},me&&s.createElement(fI,{size:"small",options:i,value:t,onChange:o}),s.createElement(mI,Object.assign({prefixCls:u,value:_,onChange:be=>{S(be),T==null||T()}},F)))),s.createElement(s.Fragment,null,ge,s.createElement(A4,Object.assign({},e,{colors:B})),s.createElement(fc,{prefixCls:u,value:re==null?void 0:re.toHsb(),disabledAlpha:x,onChange:(be,_e)=>{se(be,!0,_e)},onChangeComplete:(be,_e)=>{de(be,_e)},components:z4}),s.createElement(YR,Object.assign({value:U,onChange:pe,prefixCls:u,disabledAlpha:x},F)))},RI=()=>{const{prefixCls:e,value:t,presets:o,onChange:i}=(0,s.useContext)(pI);return Array.isArray(o)?s.createElement(Vn,{value:t,presets:o,prefixCls:e,onChange:i}):null},L4=e=>{const{prefixCls:t,presets:o,panelRender:i,value:u,onChange:g,onClear:_,allowClear:x,disabledAlpha:S,mode:T,onModeChange:M,modeOptions:R,onChangeComplete:N,activeIndex:F,onActive:B,format:V,onFormatChange:j,gradientDragging:H,onGradientDragging:U,disabledFormat:K}=e,Y=`${t}-inner`,q=s.useMemo(()=>({prefixCls:t,value:u,onChange:g,onClear:_,allowClear:x,disabledAlpha:S,mode:T,onModeChange:M,modeOptions:R,onChangeComplete:N,activeIndex:F,onActive:B,format:V,onFormatChange:j,gradientDragging:H,onGradientDragging:U,disabledFormat:K}),[t,u,g,_,x,S,T,M,R,N,F,B,V,j,H,U,K]),Q=s.useMemo(()=>({prefixCls:t,value:u,presets:o,onChange:g}),[t,u,o,g]),re=s.createElement("div",{className:`${Y}-content`},s.createElement($I,null),Array.isArray(o)&&s.createElement(sI,null),s.createElement(RI,null));return s.createElement(hI.Provider,{value:q},s.createElement(pI.Provider,{value:Q},s.createElement("div",{className:Y},typeof i=="function"?i(re,{components:{Picker:$I,Presets:RI}}):re)))},N4=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o},B4=(0,s.forwardRef)((e,t)=>{const{color:o,prefixCls:i,open:u,disabled:g,format:_,className:x,showText:S,activeIndex:T}=e,M=N4(e,["color","prefixCls","open","disabled","format","className","showText","activeIndex"]),R=`${i}-trigger`,N=`${R}-text`,F=`${N}-cell`,[B]=(0,Pr.Z)("ColorPicker"),V=s.useMemo(()=>{if(!S)return"";if(typeof S=="function")return S(o);if(o.cleared)return B.transparent;if(o.isGradient())return o.getColors().map((K,Y)=>{const q=T!==-1&&T!==Y;return s.createElement("span",{key:Y,className:oe()(F,q&&`${F}-inactive`)},K.color.toRgbString()," ",K.percent,"%")});const H=o.toHexString().toUpperCase(),U=zh(o);switch(_){case"rgb":return o.toRgbString();case"hsb":return o.toHsbString();default:return U<100?`${H.slice(0,7)},${U}%`:H}},[o,_,S,T]),j=(0,s.useMemo)(()=>o.cleared?s.createElement(mI,{prefixCls:i}):s.createElement(yo,{prefixCls:i,color:o.toCssString()}),[o,i]);return s.createElement("div",Object.assign({ref:t,className:oe()(R,x,{[`${R}-active`]:u,[`${R}-disabled`]:g})},(0,ir.Z)(M)),j,S&&s.createElement("div",{className:N},V))});function F4(e,t,o){const[i]=(0,Pr.Z)("ColorPicker"),[u,g]=(0,Jo.Z)(e,{value:t}),[_,x]=s.useState("single"),[S,T]=s.useMemo(()=>{const V=(Array.isArray(o)?o:[o]).filter(K=>K);V.length||V.push("single");const j=new Set(V),H=[],U=(K,Y)=>{j.has(K)&&H.push({label:Y,value:K})};return U("single",i.singleColor),U("gradient",i.gradientColor),[H,j]},[o]),[M,R]=s.useState(null),N=(0,Or.Z)(V=>{R(V),g(V)}),F=s.useMemo(()=>{const V=ic(u||"");return V.equals(M)?M:V},[u,M]),B=s.useMemo(()=>{var V;return T.has(_)?_:(V=S[0])===null||V===void 0?void 0:V.value},[T,_,S]);return s.useEffect(()=>{x(F.isGradient()?"gradient":"single")},[F]),[F,N,B,x,S]}const AI=(e,t)=>({backgroundImage:`conic-gradient(${t} 0 25%, transparent 0 50%, ${t} 0 75%, transparent 0)`,backgroundSize:`${e} ${e}`});var DI=(e,t)=>{const{componentCls:o,borderRadiusSM:i,colorPickerInsetShadow:u,lineWidth:g,colorFillSecondary:_}=e;return{[`${o}-color-block`]:Object.assign(Object.assign({position:"relative",borderRadius:i,width:t,height:t,boxShadow:u,flex:"none"},AI("50%",e.colorFillSecondary)),{[`${o}-color-block-inner`]:{width:"100%",height:"100%",boxShadow:`inset 0 0 0 ${(0,J.bf)(g)} ${_}`,borderRadius:"inherit"}})}},k4=e=>{const{componentCls:t,antCls:o,fontSizeSM:i,lineHeightSM:u,colorPickerAlphaInputWidth:g,marginXXS:_,paddingXXS:x,controlHeightSM:S,marginXS:T,fontSizeIcon:M,paddingXS:R,colorTextPlaceholder:N,colorPickerInputNumberHandleWidth:F,lineWidth:B}=e;return{[`${t}-input-container`]:{display:"flex",[`${t}-steppers${o}-input-number`]:{fontSize:i,lineHeight:u,[`${o}-input-number-input`]:{paddingInlineStart:x,paddingInlineEnd:0},[`${o}-input-number-handler-wrap`]:{width:F}},[`${t}-steppers${t}-alpha-input`]:{flex:`0 0 ${(0,J.bf)(g)}`,marginInlineStart:_},[`${t}-format-select${o}-select`]:{marginInlineEnd:T,width:"auto","&-single":{[`${o}-select-selector`]:{padding:0,border:0},[`${o}-select-arrow`]:{insetInlineEnd:0},[`${o}-select-selection-item`]:{paddingInlineEnd:e.calc(M).add(_).equal(),fontSize:i,lineHeight:(0,J.bf)(S)},[`${o}-select-item-option-content`]:{fontSize:i,lineHeight:u},[`${o}-select-dropdown`]:{[`${o}-select-item`]:{minHeight:"auto"}}}},[`${t}-input`]:{gap:_,alignItems:"center",flex:1,width:0,[`${t}-hsb-input,${t}-rgb-input`]:{display:"flex",gap:_,alignItems:"center"},[`${t}-steppers`]:{flex:1},[`${t}-hex-input${o}-input-affix-wrapper`]:{flex:1,padding:`0 ${(0,J.bf)(R)}`,[`${o}-input`]:{fontSize:i,textTransform:"uppercase",lineHeight:(0,J.bf)(e.calc(S).sub(e.calc(B).mul(2)).equal())},[`${o}-input-prefix`]:{color:N}}}}}},j4=e=>{const{componentCls:t,controlHeightLG:o,borderRadiusSM:i,colorPickerInsetShadow:u,marginSM:g,colorBgElevated:_,colorFillSecondary:x,lineWidthBold:S,colorPickerHandlerSize:T}=e;return{userSelect:"none",[`${t}-select`]:{[`${t}-palette`]:{minHeight:e.calc(o).mul(4).equal(),overflow:"hidden",borderRadius:i},[`${t}-saturation`]:{position:"absolute",borderRadius:"inherit",boxShadow:u,inset:0},marginBottom:g},[`${t}-handler`]:{width:T,height:T,border:`${(0,J.bf)(S)} solid ${_}`,position:"relative",borderRadius:"50%",cursor:"pointer",boxShadow:`${u}, 0 0 0 1px ${x}`}}},Z4=e=>{const{componentCls:t,antCls:o,colorTextQuaternary:i,paddingXXS:u,colorPickerPresetColorSize:g,fontSizeSM:_,colorText:x,lineHeightSM:S,lineWidth:T,borderRadius:M,colorFill:R,colorWhite:N,marginXXS:F,paddingXS:B,fontHeightSM:V}=e;return{[`${t}-presets`]:{[`${o}-collapse-item > ${o}-collapse-header`]:{padding:0,[`${o}-collapse-expand-icon`]:{height:V,color:i,paddingInlineEnd:u}},[`${o}-collapse`]:{display:"flex",flexDirection:"column",gap:F},[`${o}-collapse-item > ${o}-collapse-content > ${o}-collapse-content-box`]:{padding:`${(0,J.bf)(B)} 0`},"&-label":{fontSize:_,color:x,lineHeight:S},"&-items":{display:"flex",flexWrap:"wrap",gap:e.calc(F).mul(1.5).equal(),[`${t}-presets-color`]:{position:"relative",cursor:"pointer",width:g,height:g,"&::before":{content:'""',pointerEvents:"none",width:e.calc(g).add(e.calc(T).mul(4)).equal(),height:e.calc(g).add(e.calc(T).mul(4)).equal(),position:"absolute",top:e.calc(T).mul(-2).equal(),insetInlineStart:e.calc(T).mul(-2).equal(),borderRadius:M,border:`${(0,J.bf)(T)} solid transparent`,transition:`border-color ${e.motionDurationMid} ${e.motionEaseInBack}`},"&:hover::before":{borderColor:R},"&::after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"21.5%",display:"table",width:e.calc(g).div(13).mul(5).equal(),height:e.calc(g).div(13).mul(8).equal(),border:`${(0,J.bf)(e.lineWidthBold)} solid ${e.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${e.motionDurationFast} ${e.motionEaseInBack}, opacity ${e.motionDurationFast}`},[`&${t}-presets-color-checked`]:{"&::after":{opacity:1,borderColor:N,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`transform ${e.motionDurationMid} ${e.motionEaseOutBack} ${e.motionDurationFast}`},[`&${t}-presets-color-bright`]:{"&::after":{borderColor:"rgba(0, 0, 0, 0.45)"}}}}},"&-empty":{fontSize:_,color:i}}}},V4=e=>{const{componentCls:t,colorPickerInsetShadow:o,colorBgElevated:i,colorFillSecondary:u,lineWidthBold:g,colorPickerHandlerSizeSM:_,colorPickerSliderHeight:x,marginSM:S,marginXS:T}=e,M=e.calc(_).sub(e.calc(g).mul(2).equal()).equal(),R=e.calc(_).add(e.calc(g).mul(2).equal()).equal(),N={"&:after":{transform:"scale(1)",boxShadow:`${o}, 0 0 0 1px ${e.colorPrimaryActive}`}};return{[`${t}-slider`]:[AI((0,J.bf)(x),e.colorFillSecondary),{margin:0,padding:0,height:x,borderRadius:e.calc(x).div(2).equal(),"&-rail":{height:x,borderRadius:e.calc(x).div(2).equal(),boxShadow:o},[`& ${t}-slider-handle`]:{width:M,height:M,top:0,borderRadius:"100%","&:before":{display:"block",position:"absolute",background:"transparent",left:{_skip_check_:!0,value:"50%"},top:"50%",transform:"translate(-50%, -50%)",width:R,height:R,borderRadius:"100%"},"&:after":{width:_,height:_,border:`${(0,J.bf)(g)} solid ${i}`,boxShadow:`${o}, 0 0 0 1px ${u}`,outline:"none",insetInlineStart:e.calc(g).mul(-1).equal(),top:e.calc(g).mul(-1).equal(),background:"transparent",transition:"none"},"&:focus":N}}],[`${t}-slider-container`]:{display:"flex",gap:S,marginBottom:S,[`${t}-slider-group`]:{flex:1,flexDirection:"column",justifyContent:"space-between",display:"flex","&-disabled-alpha":{justifyContent:"center"}}},[`${t}-gradient-slider`]:{marginBottom:T,[`& ${t}-slider-handle`]:{"&:after":{transform:"scale(0.8)"},"&-active, &:focus":N}}}};const IS=(e,t,o)=>({borderInlineEndWidth:e.lineWidth,borderColor:t,boxShadow:`0 0 0 ${(0,J.bf)(e.controlOutlineWidth)} ${o}`,outline:0}),H4=e=>{const{componentCls:t}=e;return{"&-rtl":{[`${t}-presets-color`]:{"&::after":{direction:"ltr"}},[`${t}-clear`]:{"&::after":{direction:"ltr"}}}}},zI=(e,t,o)=>{const{componentCls:i,borderRadiusSM:u,lineWidth:g,colorSplit:_,colorBorder:x,red6:S}=e;return{[`${i}-clear`]:Object.assign(Object.assign({width:t,height:t,borderRadius:u,border:`${(0,J.bf)(g)} solid ${_}`,position:"relative",overflow:"hidden",cursor:"inherit",transition:`all ${e.motionDurationFast}`},o),{"&::after":{content:'""',position:"absolute",insetInlineEnd:e.calc(g).mul(-1).equal(),top:e.calc(g).mul(-1).equal(),display:"block",width:40,height:2,transformOrigin:"calc(100% - 1px) 1px",transform:"rotate(-45deg)",backgroundColor:S},"&:hover":{borderColor:x}})}},U4=e=>{const{componentCls:t,colorError:o,colorWarning:i,colorErrorHover:u,colorWarningHover:g,colorErrorOutline:_,colorWarningOutline:x}=e;return{[`&${t}-status-error`]:{borderColor:o,"&:hover":{borderColor:u},[`&${t}-trigger-active`]:Object.assign({},IS(e,o,_))},[`&${t}-status-warning`]:{borderColor:i,"&:hover":{borderColor:g},[`&${t}-trigger-active`]:Object.assign({},IS(e,i,x))}}},W4=e=>{const{componentCls:t,controlHeightLG:o,controlHeightSM:i,controlHeight:u,controlHeightXS:g,borderRadius:_,borderRadiusSM:x,borderRadiusXS:S,borderRadiusLG:T,fontSizeLG:M}=e;return{[`&${t}-lg`]:{minWidth:o,minHeight:o,borderRadius:T,[`${t}-color-block, ${t}-clear`]:{width:u,height:u,borderRadius:_},[`${t}-trigger-text`]:{fontSize:M}},[`&${t}-sm`]:{minWidth:i,minHeight:i,borderRadius:x,[`${t}-color-block, ${t}-clear`]:{width:g,height:g,borderRadius:S},[`${t}-trigger-text`]:{lineHeight:(0,J.bf)(g)}}}},G4=e=>{const{antCls:t,componentCls:o,colorPickerWidth:i,colorPrimary:u,motionDurationMid:g,colorBgElevated:_,colorTextDisabled:x,colorText:S,colorBgContainerDisabled:T,borderRadius:M,marginXS:R,marginSM:N,controlHeight:F,controlHeightSM:B,colorBgTextActive:V,colorPickerPresetColorSize:j,colorPickerPreviewSize:H,lineWidth:U,colorBorder:K,paddingXXS:Y,fontSize:q,colorPrimaryHover:Q,controlOutline:re}=e;return[{[o]:Object.assign({[`${o}-inner`]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({"&-content":{display:"flex",flexDirection:"column",width:i,[`& > ${t}-divider`]:{margin:`${(0,J.bf)(N)} 0 ${(0,J.bf)(R)}`}},[`${o}-panel`]:Object.assign({},j4(e))},V4(e)),DI(e,H)),k4(e)),Z4(e)),zI(e,j,{marginInlineStart:"auto"})),{[`${o}-operation`]:{display:"flex",justifyContent:"space-between",marginBottom:R}}),"&-trigger":Object.assign(Object.assign(Object.assign(Object.assign({minWidth:F,minHeight:F,borderRadius:M,border:`${(0,J.bf)(U)} solid ${K}`,cursor:"pointer",display:"inline-flex",alignItems:"flex-start",justifyContent:"center",transition:`all ${g}`,background:_,padding:e.calc(Y).sub(U).equal(),[`${o}-trigger-text`]:{marginInlineStart:R,marginInlineEnd:e.calc(R).sub(e.calc(Y).sub(U)).equal(),fontSize:q,color:S,alignSelf:"center","&-cell":{"&:not(:last-child):after":{content:'", "'},"&-inactive":{color:x}}},"&:hover":{borderColor:Q},[`&${o}-trigger-active`]:Object.assign({},IS(e,u,re)),"&-disabled":{color:x,background:T,cursor:"not-allowed","&:hover":{borderColor:V},[`${o}-trigger-text`]:{color:x}}},zI(e,B)),DI(e,B)),U4(e)),W4(e))},H4(e))},(0,md.c)(e,{focusElCls:`${o}-trigger-active`})]};var X4=(0,Ae.I$)("ColorPicker",e=>{const{colorTextQuaternary:t,marginSM:o}=e,i=8,u=(0,vn.IX)(e,{colorPickerWidth:234,colorPickerHandlerSize:16,colorPickerHandlerSizeSM:12,colorPickerAlphaInputWidth:44,colorPickerInputNumberHandleWidth:16,colorPickerPresetColorSize:24,colorPickerInsetShadow:`inset 0 0 1px 0 ${t}`,colorPickerSliderHeight:i,colorPickerPreviewSize:e.calc(i).mul(2).add(o).equal()});return[G4(u)]}),q4=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};const TS=e=>{const{mode:t,value:o,defaultValue:i,format:u,defaultFormat:g,allowClear:_=!1,presets:x,children:S,trigger:T="click",open:M,disabled:R,placement:N="bottomLeft",arrow:F=!0,panelRender:B,showText:V,style:j,className:H,size:U,rootClassName:K,prefixCls:Y,styles:q,disabledAlpha:Q=!1,onFormatChange:re,onChange:ae,onClear:se,onOpenChange:de,onChangeComplete:pe,getPopupContainer:ge,autoAdjustOverflow:me=!0,destroyTooltipOnHide:be,disabledFormat:_e}=e,Ie=q4(e,["mode","value","defaultValue","format","defaultFormat","allowClear","presets","children","trigger","open","disabled","placement","arrow","panelRender","showText","style","className","size","rootClassName","prefixCls","styles","disabledAlpha","onFormatChange","onChange","onClear","onOpenChange","onChangeComplete","getPopupContainer","autoAdjustOverflow","destroyTooltipOnHide","disabledFormat"]),{getPrefixCls:Ce,direction:Le,colorPicker:ze}=(0,s.useContext)(De.E_),ke=(0,s.useContext)(Ds.Z),Ze=R!=null?R:ke,[je,Ue]=(0,Jo.Z)(!1,{value:M,postState:yn=>!Ze&&yn,onChange:de}),[He,Qe]=(0,Jo.Z)(u,{value:u,defaultValue:g,onChange:re}),We=Ce("color-picker",Y),[it,Je,wt,Dt,ct]=F4(i,o,t),ht=(0,s.useMemo)(()=>zh(it)<100,[it]),[ut,tt]=s.useState(null),xt=yn=>{if(pe){let Gt=ic(yn);Q&&ht&&(Gt=zf(yn)),pe(Gt)}},_t=(yn,Gt)=>{let Kn=ic(yn);Q&&ht&&(Kn=zf(Kn)),Je(Kn),tt(null),ae&&ae(Kn,Kn.toCssString()),Gt||xt(Kn)},[dn,on]=s.useState(0),[Ut,en]=s.useState(!1),kt=yn=>{if(Dt(yn),yn==="single"&&it.isGradient())on(0),_t(new Qs(it.getColors()[0].color)),tt(it);else if(yn==="gradient"&&!it.isGradient()){const Gt=ht?zf(it):it;_t(new Qs(ut||[{percent:0,color:Gt},{percent:100,color:Gt}]))}},{status:cn}=s.useContext(gc.aM),{compactSize:zn,compactItemClassnames:An}=(0,yl.ri)(We,Le),sr=(0,Ts.Z)(yn=>{var Gt;return(Gt=U!=null?U:zn)!==null&&Gt!==void 0?Gt:yn}),yr=(0,po.Z)(We),[Vr,Qn,Un]=X4(We,yr),er={[`${We}-rtl`]:Le},Ir=oe()(K,Un,yr,er),pr=oe()((0,Il.Z)(We,cn),{[`${We}-sm`]:sr==="small",[`${We}-lg`]:sr==="large"},An,ze==null?void 0:ze.className,Ir,H,Qn),Zr=oe()(We,Ir),xn={open:je,trigger:T,placement:N,arrow:F,rootClassName:K,getPopupContainer:ge,autoAdjustOverflow:me,destroyTooltipOnHide:be},fn=Object.assign(Object.assign({},ze==null?void 0:ze.style),j);return Vr(s.createElement(W0,Object.assign({style:q==null?void 0:q.popup,styles:{body:q==null?void 0:q.popupOverlayInner},onOpenChange:yn=>{(!yn||!Ze)&&Ue(yn)},content:s.createElement(xu.Z,{form:!0},s.createElement(L4,{mode:wt,onModeChange:kt,modeOptions:ct,prefixCls:We,value:it,allowClear:_,disabled:Ze,disabledAlpha:Q,presets:x,panelRender:B,format:He,onFormatChange:Qe,onChange:_t,onChangeComplete:xt,onClear:se,activeIndex:dn,onActive:on,gradientDragging:Ut,onGradientDragging:en,disabledFormat:_e})),classNames:{root:Zr}},xn),S||s.createElement(B4,Object.assign({activeIndex:je?dn:-1,open:je,className:pr,style:fn,prefixCls:We,disabled:Ze,showText:V,format:He},Ie,{color:it}))))},K4=ft(TS,void 0,e=>Object.assign(Object.assign({},e),{placement:"bottom",autoAdjustOverflow:!1}),"color-picker",e=>e);TS._InternalPanelDoNotUseOrYouWillBeFired=K4;var Y4=TS,J4=Y4,Q4={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z"}}]},name:"calendar",theme:"outlined"},eA=Q4,tA=function(t,o){return s.createElement(Fn.Z,(0,Pt.Z)({},t,{ref:o,icon:eA}))},nA=s.forwardRef(tA),LI=nA,rA={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"}}]},name:"clock-circle",theme:"outlined"},iA=rA,oA=function(t,o){return s.createElement(Fn.Z,(0,Pt.Z)({},t,{ref:o,icon:iA}))},aA=s.forwardRef(oA),NI=aA,sA={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z"}}]},name:"swap-right",theme:"outlined"},lA=sA,cA=function(t,o){return s.createElement(Fn.Z,(0,Pt.Z)({},t,{ref:o,icon:lA}))},uA=s.forwardRef(cA),dA=uA,BI=he(58492);const MS=(e,t)=>{const{componentCls:o,controlHeight:i}=e,u=t?`${o}-${t}`:"",g=by(e);return[{[`${o}-multiple${u}`]:{paddingBlock:g.containerPadding,paddingInlineStart:g.basePadding,minHeight:i,[`${o}-selection-item`]:{height:g.itemHeight,lineHeight:(0,J.bf)(g.itemLineHeight)}}}]};var fA=e=>{const{componentCls:t,calc:o,lineWidth:i}=e,u=(0,vn.IX)(e,{fontHeight:e.fontSize,selectHeight:e.controlHeightSM,multipleSelectItemHeight:e.multipleItemHeightSM,borderRadius:e.borderRadiusSM,borderRadiusSM:e.borderRadiusXS,controlHeight:e.controlHeightSM}),g=(0,vn.IX)(e,{fontHeight:o(e.multipleItemHeightLG).sub(o(i).mul(2).equal()).equal(),fontSize:e.fontSizeLG,selectHeight:e.controlHeightLG,multipleSelectItemHeight:e.multipleItemHeightLG,borderRadius:e.borderRadiusLG,borderRadiusSM:e.borderRadius,controlHeight:e.controlHeightLG});return[MS(u,"small"),MS(e),MS(g,"large"),{[`${t}${t}-multiple`]:Object.assign(Object.assign({width:"100%",cursor:"text",[`${t}-selector`]:{flex:"auto",padding:0,position:"relative","&:after":{margin:0},[`${t}-selection-placeholder`]:{position:"absolute",top:"50%",insetInlineStart:e.inputPaddingHorizontalBase,insetInlineEnd:0,transform:"translateY(-50%)",transition:`all ${e.motionDurationSlow}`,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",flex:1,color:e.colorTextPlaceholder,pointerEvents:"none"}}},nh(e)),{[`${t}-multiple-input`]:{width:0,height:0,border:0,visibility:"hidden",position:"absolute",zIndex:-1}})}]},If=he(57616),hA=e=>{const{componentCls:t}=e;return{[t]:[Object.assign(Object.assign(Object.assign(Object.assign({},(0,If.qG)(e)),(0,If.vc)(e)),(0,If.H8)(e)),(0,If.Mu)(e)),{"&-outlined":{[`&${t}-multiple ${t}-selection-item`]:{background:e.multipleItemBg,border:`${(0,J.bf)(e.lineWidth)} ${e.lineType} ${e.multipleItemBorderColor}`}},"&-filled":{[`&${t}-multiple ${t}-selection-item`]:{background:e.colorBgContainer,border:`${(0,J.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`}},"&-borderless":{[`&${t}-multiple ${t}-selection-item`]:{background:e.multipleItemBg,border:`${(0,J.bf)(e.lineWidth)} ${e.lineType} ${e.multipleItemBorderColor}`}},"&-underlined":{[`&${t}-multiple ${t}-selection-item`]:{background:e.multipleItemBg,border:`${(0,J.bf)(e.lineWidth)} ${e.lineType} ${e.multipleItemBorderColor}`}}}]}};const PS=(e,t,o,i)=>{const u=e.calc(o).add(2).equal(),g=e.max(e.calc(t).sub(u).div(2).equal(),0),_=e.max(e.calc(t).sub(u).sub(g).equal(),0);return{padding:`${(0,J.bf)(g)} ${(0,J.bf)(i)} ${(0,J.bf)(_)}`}},pA=e=>{const{componentCls:t,colorError:o,colorWarning:i}=e;return{[`${t}:not(${t}-disabled):not([disabled])`]:{[`&${t}-status-error`]:{[`${t}-active-bar`]:{background:o}},[`&${t}-status-warning`]:{[`${t}-active-bar`]:{background:i}}}}},mA=e=>{const{componentCls:t,antCls:o,controlHeight:i,paddingInline:u,lineWidth:g,lineType:_,colorBorder:x,borderRadius:S,motionDurationMid:T,colorTextDisabled:M,colorTextPlaceholder:R,controlHeightLG:N,fontSizeLG:F,controlHeightSM:B,paddingInlineSM:V,paddingXS:j,marginXS:H,colorTextDescription:U,lineWidthBold:K,colorPrimary:Y,motionDurationSlow:q,zIndexPopup:Q,paddingXXS:re,sizePopupArrow:ae,colorBgElevated:se,borderRadiusLG:de,boxShadowSecondary:pe,borderRadiusSM:ge,colorSplit:me,cellHoverBg:be,presetsWidth:_e,presetsMaxWidth:Ie,boxShadowPopoverArrow:Ce,fontHeight:Le,fontHeightLG:ze,lineHeightLG:ke}=e;return[{[t]:Object.assign(Object.assign(Object.assign({},(0,mn.Wf)(e)),PS(e,i,Le,u)),{position:"relative",display:"inline-flex",alignItems:"center",lineHeight:1,borderRadius:S,transition:`border ${T}, box-shadow ${T}, background ${T}`,[`${t}-prefix`]:{flex:"0 0 auto",marginInlineEnd:e.inputAffixPadding},[`${t}-input`]:{position:"relative",display:"inline-flex",alignItems:"center",width:"100%","> input":Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",color:"inherit",fontSize:e.fontSize,lineHeight:e.lineHeight,transition:`all ${T}`},(0,Sh.nz)(R)),{flex:"auto",minWidth:1,height:"auto",padding:0,background:"transparent",border:0,fontFamily:"inherit","&:focus":{boxShadow:"none",outline:0},"&[disabled]":{background:"transparent",color:M,cursor:"not-allowed"}}),"&-placeholder":{"> input":{color:R}}},"&-large":Object.assign(Object.assign({},PS(e,N,ze,u)),{[`${t}-input > input`]:{fontSize:F,lineHeight:ke}}),"&-small":Object.assign({},PS(e,B,Le,V)),[`${t}-suffix`]:{display:"flex",flex:"none",alignSelf:"center",marginInlineStart:e.calc(j).div(2).equal(),color:M,lineHeight:1,pointerEvents:"none",transition:`opacity ${T}, color ${T}`,"> *":{verticalAlign:"top","&:not(:last-child)":{marginInlineEnd:H}}},[`${t}-clear`]:{position:"absolute",top:"50%",insetInlineEnd:0,color:M,lineHeight:1,transform:"translateY(-50%)",cursor:"pointer",opacity:0,transition:`opacity ${T}, color ${T}`,"> *":{verticalAlign:"top"},"&:hover":{color:U}},"&:hover":{[`${t}-clear`]:{opacity:1},[`${t}-suffix:not(:last-child)`]:{opacity:0}},[`${t}-separator`]:{position:"relative",display:"inline-block",width:"1em",height:F,color:M,fontSize:F,verticalAlign:"top",cursor:"default",[`${t}-focused &`]:{color:U},[`${t}-range-separator &`]:{[`${t}-disabled &`]:{cursor:"not-allowed"}}},"&-range":{position:"relative",display:"inline-flex",[`${t}-active-bar`]:{bottom:e.calc(g).mul(-1).equal(),height:K,background:Y,opacity:0,transition:`all ${q} ease-out`,pointerEvents:"none"},[`&${t}-focused`]:{[`${t}-active-bar`]:{opacity:1}},[`${t}-range-separator`]:{alignItems:"center",padding:`0 ${(0,J.bf)(j)}`,lineHeight:1}},"&-range, &-multiple":{[`${t}-clear`]:{insetInlineEnd:u},[`&${t}-small`]:{[`${t}-clear`]:{insetInlineEnd:V}}},"&-dropdown":Object.assign(Object.assign(Object.assign({},(0,mn.Wf)(e)),Z_(e)),{pointerEvents:"none",position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:Q,[`&${t}-dropdown-hidden`]:{display:"none"},"&-rtl":{direction:"rtl"},[`&${t}-dropdown-placement-bottomLeft,
            &${t}-dropdown-placement-bottomRight`]:{[`${t}-range-arrow`]:{top:0,display:"block",transform:"translateY(-100%)"}},[`&${t}-dropdown-placement-topLeft,
            &${t}-dropdown-placement-topRight`]:{[`${t}-range-arrow`]:{bottom:0,display:"block",transform:"translateY(100%) rotate(180deg)"}},[`&${o}-slide-up-appear, &${o}-slide-up-enter`]:{[`${t}-range-arrow${t}-range-arrow`]:{transition:"none"}},[`&${o}-slide-up-enter${o}-slide-up-enter-active${t}-dropdown-placement-topLeft,
          &${o}-slide-up-enter${o}-slide-up-enter-active${t}-dropdown-placement-topRight,
          &${o}-slide-up-appear${o}-slide-up-appear-active${t}-dropdown-placement-topLeft,
          &${o}-slide-up-appear${o}-slide-up-appear-active${t}-dropdown-placement-topRight`]:{animationName:ig},[`&${o}-slide-up-enter${o}-slide-up-enter-active${t}-dropdown-placement-bottomLeft,
          &${o}-slide-up-enter${o}-slide-up-enter-active${t}-dropdown-placement-bottomRight,
          &${o}-slide-up-appear${o}-slide-up-appear-active${t}-dropdown-placement-bottomLeft,
          &${o}-slide-up-appear${o}-slide-up-appear-active${t}-dropdown-placement-bottomRight`]:{animationName:ng},[`&${o}-slide-up-leave ${t}-panel-container`]:{pointerEvents:"none"},[`&${o}-slide-up-leave${o}-slide-up-leave-active${t}-dropdown-placement-topLeft,
          &${o}-slide-up-leave${o}-slide-up-leave-active${t}-dropdown-placement-topRight`]:{animationName:Kp},[`&${o}-slide-up-leave${o}-slide-up-leave-active${t}-dropdown-placement-bottomLeft,
          &${o}-slide-up-leave${o}-slide-up-leave-active${t}-dropdown-placement-bottomRight`]:{animationName:rg},[`${t}-panel > ${t}-time-panel`]:{paddingTop:re},[`${t}-range-wrapper`]:{display:"flex",position:"relative"},[`${t}-range-arrow`]:Object.assign(Object.assign({position:"absolute",zIndex:1,display:"none",paddingInline:e.calc(u).mul(1.5).equal(),boxSizing:"content-box",transition:`all ${q} ease-out`},(0,nm.W)(e,se,Ce)),{"&:before":{insetInlineStart:e.calc(u).mul(1.5).equal()}}),[`${t}-panel-container`]:{overflow:"hidden",verticalAlign:"top",background:se,borderRadius:de,boxShadow:pe,transition:`margin ${q}`,display:"inline-block",pointerEvents:"auto",[`${t}-panel-layout`]:{display:"flex",flexWrap:"nowrap",alignItems:"stretch"},[`${t}-presets`]:{display:"flex",flexDirection:"column",minWidth:_e,maxWidth:Ie,ul:{height:0,flex:"auto",listStyle:"none",overflow:"auto",margin:0,padding:j,borderInlineEnd:`${(0,J.bf)(g)} ${_} ${me}`,li:Object.assign(Object.assign({},mn.vS),{borderRadius:ge,paddingInline:j,paddingBlock:e.calc(B).sub(Le).div(2).equal(),cursor:"pointer",transition:`all ${q}`,"+ li":{marginTop:H},"&:hover":{background:be}})}},[`${t}-panels`]:{display:"inline-flex",flexWrap:"nowrap","&:last-child":{[`${t}-panel`]:{borderWidth:0}}},[`${t}-panel`]:{verticalAlign:"top",background:"transparent",borderRadius:0,borderWidth:0,[`${t}-content, table`]:{textAlign:"center"},"&-focused":{borderColor:x}}}}),"&-dropdown-range":{padding:`${(0,J.bf)(e.calc(ae).mul(2).div(3).equal())} 0`,"&-hidden":{display:"none"}},"&-rtl":{direction:"rtl",[`${t}-separator`]:{transform:"scale(-1, 1)"},[`${t}-footer`]:{"&-extra":{direction:"rtl"}}}})},Od(e,"slide-up"),Od(e,"slide-down"),Qh(e,"move-up"),Qh(e,"move-down")]};var FI=(0,Ae.I$)("DatePicker",e=>{const t=(0,vn.IX)((0,sd.e)(e),V_(e),{inputPaddingHorizontalBase:e.calc(e.paddingSM).sub(1).equal(),multipleSelectItemHeight:e.multipleItemHeight,selectHeight:e.controlHeight});return[Rx(t),mA(t),hA(t),pA(t),fA(t),(0,md.c)(e,{focusElCls:`${e.componentCls}-focused`})]},H_);function gA(e,t,o){return o!==void 0?o:t==="year"&&e.lang.yearPlaceholder?e.lang.yearPlaceholder:t==="quarter"&&e.lang.quarterPlaceholder?e.lang.quarterPlaceholder:t==="month"&&e.lang.monthPlaceholder?e.lang.monthPlaceholder:t==="week"&&e.lang.weekPlaceholder?e.lang.weekPlaceholder:t==="time"&&e.timePickerLocale.placeholder?e.timePickerLocale.placeholder:e.lang.placeholder}function vA(e,t,o){return o!==void 0?o:t==="year"&&e.lang.yearPlaceholder?e.lang.rangeYearPlaceholder:t==="quarter"&&e.lang.quarterPlaceholder?e.lang.rangeQuarterPlaceholder:t==="month"&&e.lang.monthPlaceholder?e.lang.rangeMonthPlaceholder:t==="week"&&e.lang.weekPlaceholder?e.lang.rangeWeekPlaceholder:t==="time"&&e.timePickerLocale.placeholder?e.timePickerLocale.rangePlaceholder:e.lang.rangePlaceholder}function kI(e,t){const{allowClear:o=!0}=e,{clearIcon:i,removeIcon:u}=lg(Object.assign(Object.assign({},e),{prefixCls:t,componentName:"DatePicker"}));return[s.useMemo(()=>o===!1?!1:Object.assign({clearIcon:i},o===!0?{}:o),[o,i]),u]}const[yA,_A]=["week","WeekPicker"],[bA,xA]=["month","MonthPicker"],[CA,wA]=["year","YearPicker"],[SA,EA]=["quarter","QuarterPicker"],[jI,ZI]=["time","TimePicker"];var IA=e=>s.createElement(Xl,Object.assign({size:"small",type:"primary"},e));function VI(e){return(0,s.useMemo)(()=>Object.assign({button:IA},e),[e])}var TA=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o},MA=e=>(0,s.forwardRef)((o,i)=>{var u;const{prefixCls:g,getPopupContainer:_,components:x,className:S,style:T,placement:M,size:R,disabled:N,bordered:F=!0,placeholder:B,popupClassName:V,dropdownClassName:j,status:H,rootClassName:U,variant:K,picker:Y}=o,q=TA(o,["prefixCls","getPopupContainer","components","className","style","placement","size","disabled","bordered","placeholder","popupClassName","dropdownClassName","status","rootClassName","variant","picker"]),Q=s.useRef(null),{getPrefixCls:re,direction:ae,getPopupContainer:se,rangePicker:de}=(0,s.useContext)(De.E_),pe=re("picker",g),{compactSize:ge,compactItemClassnames:me}=(0,yl.ri)(pe,ae),be=re(),[_e,Ie]=(0,Pu.Z)("rangePicker",K,F),Ce=(0,po.Z)(pe),[Le,ze,ke]=FI(pe,Ce),[Ze]=kI(o,pe),je=VI(x),Ue=(0,Ts.Z)(tt=>{var xt;return(xt=R!=null?R:ge)!==null&&xt!==void 0?xt:tt}),He=s.useContext(Ds.Z),Qe=N!=null?N:He,We=(0,s.useContext)(gc.aM),{hasFeedback:it,status:Je,feedbackIcon:wt}=We,Dt=s.createElement(s.Fragment,null,Y===jI?s.createElement(NI,null):s.createElement(LI,null),it&&wt);(0,s.useImperativeHandle)(i,()=>Q.current);const[ct]=(0,Pr.Z)("Calendar",BI.Z),ht=Object.assign(Object.assign({},ct),o.locale),[ut]=(0,Io.Cn)("DatePicker",(u=o.popupStyle)===null||u===void 0?void 0:u.zIndex);return Le(s.createElement(xu.Z,{space:!0},s.createElement(Yt,Object.assign({separator:s.createElement("span",{"aria-label":"to",className:`${pe}-separator`},s.createElement(dA,null)),disabled:Qe,ref:Q,placement:M,placeholder:vA(ht,Y,B),suffixIcon:Dt,prevIcon:s.createElement("span",{className:`${pe}-prev-icon`}),nextIcon:s.createElement("span",{className:`${pe}-next-icon`}),superPrevIcon:s.createElement("span",{className:`${pe}-super-prev-icon`}),superNextIcon:s.createElement("span",{className:`${pe}-super-next-icon`}),transitionName:`${be}-slide-up`,picker:Y},q,{className:oe()({[`${pe}-${Ue}`]:Ue,[`${pe}-${_e}`]:Ie},(0,Il.Z)(pe,(0,Il.F)(Je,H),it),ze,me,S,de==null?void 0:de.className,ke,Ce,U),style:Object.assign(Object.assign({},de==null?void 0:de.style),T),locale:ht.lang,prefixCls:pe,getPopupContainer:_||se,generateConfig:e,components:je,direction:ae,classNames:{popup:oe()(ze,V||j,ke,Ce,U)},styles:{popup:Object.assign(Object.assign({},o.popupStyle),{zIndex:ut})},allowClear:Ze}))))}),PA=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o},OA=e=>{const t=(S,T)=>{const M=T===ZI?"timePicker":"datePicker";return(0,s.forwardRef)((N,F)=>{var B;const{prefixCls:V,getPopupContainer:j,components:H,style:U,className:K,rootClassName:Y,size:q,bordered:Q,placement:re,placeholder:ae,popupClassName:se,dropdownClassName:de,disabled:pe,status:ge,variant:me,onCalendarChange:be}=N,_e=PA(N,["prefixCls","getPopupContainer","components","style","className","rootClassName","size","bordered","placement","placeholder","popupClassName","dropdownClassName","disabled","status","variant","onCalendarChange"]),{getPrefixCls:Ie,direction:Ce,getPopupContainer:Le,[M]:ze}=(0,s.useContext)(De.E_),ke=Ie("picker",V),{compactSize:Ze,compactItemClassnames:je}=(0,yl.ri)(ke,Ce),Ue=s.useRef(null),[He,Qe]=(0,Pu.Z)("datePicker",me,Q),We=(0,po.Z)(ke),[it,Je,wt]=FI(ke,We);(0,s.useImperativeHandle)(F,()=>Ue.current);const Dt={showToday:!0},ct=S||N.picker,ht=Ie(),{onSelect:ut,multiple:tt}=_e,xt=ut&&S==="time"&&!tt,_t=(Ir,pr,Zr)=>{be==null||be(Ir,pr,Zr),xt&&ut(Ir)},[dn,on]=kI(N,ke),Ut=VI(H),en=(0,Ts.Z)(Ir=>{var pr;return(pr=q!=null?q:Ze)!==null&&pr!==void 0?pr:Ir}),kt=s.useContext(Ds.Z),cn=pe!=null?pe:kt,zn=(0,s.useContext)(gc.aM),{hasFeedback:An,status:sr,feedbackIcon:yr}=zn,Vr=s.createElement(s.Fragment,null,ct==="time"?s.createElement(NI,null):s.createElement(LI,null),An&&yr),[Qn]=(0,Pr.Z)("DatePicker",BI.Z),Un=Object.assign(Object.assign({},Qn),N.locale),[er]=(0,Io.Cn)("DatePicker",(B=N.popupStyle)===null||B===void 0?void 0:B.zIndex);return it(s.createElement(xu.Z,{space:!0},s.createElement(fr,Object.assign({ref:Ue,placeholder:gA(Un,ct,ae),suffixIcon:Vr,placement:re,prevIcon:s.createElement("span",{className:`${ke}-prev-icon`}),nextIcon:s.createElement("span",{className:`${ke}-next-icon`}),superPrevIcon:s.createElement("span",{className:`${ke}-super-prev-icon`}),superNextIcon:s.createElement("span",{className:`${ke}-super-next-icon`}),transitionName:`${ht}-slide-up`,picker:S,onCalendarChange:_t},Dt,_e,{locale:Un.lang,className:oe()({[`${ke}-${en}`]:en,[`${ke}-${He}`]:Qe},(0,Il.Z)(ke,(0,Il.F)(sr,ge),An),Je,je,ze==null?void 0:ze.className,K,wt,We,Y),style:Object.assign(Object.assign({},ze==null?void 0:ze.style),U),prefixCls:ke,getPopupContainer:j||Le,generateConfig:e,components:Ut,direction:Ce,disabled:cn,classNames:{popup:oe()(Je,wt,We,Y,se||de)},styles:{popup:Object.assign(Object.assign({},N.popupStyle),{zIndex:er})},allowClear:dn,removeIcon:on}))))})},o=t(),i=t(yA,_A),u=t(bA,xA),g=t(CA,wA),_=t(SA,EA),x=t(jI,ZI);return{DatePicker:o,WeekPicker:i,MonthPicker:u,YearPicker:g,TimePicker:x,QuarterPicker:_}},HI=e=>{const{DatePicker:t,WeekPicker:o,MonthPicker:i,YearPicker:u,TimePicker:g,QuarterPicker:_}=OA(e),x=MA(e),S=t;return S.WeekPicker=o,S.MonthPicker=i,S.YearPicker=u,S.RangePicker=x,S.TimePicker=g,S.QuarterPicker=_,S};const Fv=HI(px),$A=ft(Fv,"popupAlign",void 0,"picker");Fv._InternalPanelDoNotUseOrYouWillBeFired=$A;const RA=ft(Fv.RangePicker,"popupAlign",void 0,"picker");Fv._InternalRangePanelDoNotUseOrYouWillBeFired=RA,Fv.generatePicker=HI;var UI=Fv,AA={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1},OS=s.createContext({}),DA=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};const zA=e=>(0,El.Z)(e).map(t=>Object.assign(Object.assign({},t==null?void 0:t.props),{key:t.key}));function LA(e,t,o){const i=s.useMemo(()=>t||zA(o),[t,o]);return s.useMemo(()=>i.map(g=>{var{span:_}=g,x=DA(g,["span"]);return _==="filled"?Object.assign(Object.assign({},x),{filled:!0}):Object.assign(Object.assign({},x),{span:typeof _=="number"?_:(0,ug.m9)(e,_)})}),[i,e])}var NA=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};function BA(e,t){let o=[],i=[],u=!1,g=0;return e.filter(_=>_).forEach(_=>{const{filled:x}=_,S=NA(_,["filled"]);if(x){i.push(S),o.push(i),i=[],g=0;return}const T=t-g;g+=_.span||1,g>=t?(g>t?(u=!0,i.push(Object.assign(Object.assign({},S),{span:T}))):i.push(S),o.push(i),i=[],g=0):i.push(S)}),i.length>0&&o.push(i),o=o.map(_=>{const x=_.reduce((S,T)=>S+(T.span||1),0);if(x<t){const S=_[_.length-1];return S.span=t-(x-(S.span||1)),_}return _}),[o,u]}var FA=(e,t)=>{const[o,i]=(0,s.useMemo)(()=>BA(t,e),[t,e]);return o},kA=e=>{let{children:t}=e;return t};function WI(e){return e!=null}var $S=e=>{const{itemPrefixCls:t,component:o,span:i,className:u,style:g,labelStyle:_,contentStyle:x,bordered:S,label:T,content:M,colon:R,type:N,styles:F}=e,B=o,V=s.useContext(OS),{classNames:j}=V;return S?s.createElement(B,{className:oe()({[`${t}-item-label`]:N==="label",[`${t}-item-content`]:N==="content",[`${j==null?void 0:j.label}`]:N==="label",[`${j==null?void 0:j.content}`]:N==="content"},u),style:g,colSpan:i},WI(T)&&s.createElement("span",{style:Object.assign(Object.assign({},_),F==null?void 0:F.label)},T),WI(M)&&s.createElement("span",{style:Object.assign(Object.assign({},_),F==null?void 0:F.content)},M)):s.createElement(B,{className:oe()(`${t}-item`,u),style:g,colSpan:i},s.createElement("div",{className:`${t}-item-container`},(T||T===0)&&s.createElement("span",{className:oe()(`${t}-item-label`,j==null?void 0:j.label,{[`${t}-item-no-colon`]:!R}),style:Object.assign(Object.assign({},_),F==null?void 0:F.label)},T),(M||M===0)&&s.createElement("span",{className:oe()(`${t}-item-content`,j==null?void 0:j.content),style:Object.assign(Object.assign({},x),F==null?void 0:F.content)},M)))};function RS(e,t,o){let{colon:i,prefixCls:u,bordered:g}=t,{component:_,type:x,showLabel:S,showContent:T,labelStyle:M,contentStyle:R,styles:N}=o;return e.map((F,B)=>{let{label:V,children:j,prefixCls:H=u,className:U,style:K,labelStyle:Y,contentStyle:q,span:Q=1,key:re,styles:ae}=F;return typeof _=="string"?s.createElement($S,{key:`${x}-${re||B}`,className:U,style:K,styles:{label:Object.assign(Object.assign(Object.assign(Object.assign({},M),N==null?void 0:N.label),Y),ae==null?void 0:ae.label),content:Object.assign(Object.assign(Object.assign(Object.assign({},R),N==null?void 0:N.content),q),ae==null?void 0:ae.content)},span:Q,colon:i,component:_,itemPrefixCls:H,bordered:g,label:S?V:null,content:T?j:null,type:x}):[s.createElement($S,{key:`label-${re||B}`,className:U,style:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},M),N==null?void 0:N.label),K),Y),ae==null?void 0:ae.label),span:1,colon:i,component:_[0],itemPrefixCls:H,bordered:g,label:V,type:"label"}),s.createElement($S,{key:`content-${re||B}`,className:U,style:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},R),N==null?void 0:N.content),K),q),ae==null?void 0:ae.content),span:Q*2-1,component:_[1],itemPrefixCls:H,bordered:g,content:j,type:"content"})]})}var jA=e=>{const t=s.useContext(OS),{prefixCls:o,vertical:i,row:u,index:g,bordered:_}=e;return i?s.createElement(s.Fragment,null,s.createElement("tr",{key:`label-${g}`,className:`${o}-row`},RS(u,e,Object.assign({component:"th",type:"label",showLabel:!0},t))),s.createElement("tr",{key:`content-${g}`,className:`${o}-row`},RS(u,e,Object.assign({component:"td",type:"content",showContent:!0},t)))):s.createElement("tr",{key:g,className:`${o}-row`},RS(u,e,Object.assign({component:_?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0},t)))};const ZA=e=>{const{componentCls:t,labelBg:o}=e;return{[`&${t}-bordered`]:{[`> ${t}-view`]:{border:`${(0,J.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"> table":{tableLayout:"auto"},[`${t}-row`]:{borderBottom:`${(0,J.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderBottom:"none"},[`> ${t}-item-label, > ${t}-item-content`]:{padding:`${(0,J.bf)(e.padding)} ${(0,J.bf)(e.paddingLG)}`,borderInlineEnd:`${(0,J.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderInlineEnd:"none"}},[`> ${t}-item-label`]:{color:e.colorTextSecondary,backgroundColor:o,"&::after":{display:"none"}}}},[`&${t}-middle`]:{[`${t}-row`]:{[`> ${t}-item-label, > ${t}-item-content`]:{padding:`${(0,J.bf)(e.paddingSM)} ${(0,J.bf)(e.paddingLG)}`}}},[`&${t}-small`]:{[`${t}-row`]:{[`> ${t}-item-label, > ${t}-item-content`]:{padding:`${(0,J.bf)(e.paddingXS)} ${(0,J.bf)(e.padding)}`}}}}}},VA=e=>{const{componentCls:t,extraColor:o,itemPaddingBottom:i,itemPaddingEnd:u,colonMarginRight:g,colonMarginLeft:_,titleMarginBottom:x}=e;return{[t]:Object.assign(Object.assign(Object.assign({},(0,mn.Wf)(e)),ZA(e)),{"&-rtl":{direction:"rtl"},[`${t}-header`]:{display:"flex",alignItems:"center",marginBottom:x},[`${t}-title`]:Object.assign(Object.assign({},mn.vS),{flex:"auto",color:e.titleColor,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG}),[`${t}-extra`]:{marginInlineStart:"auto",color:o,fontSize:e.fontSize},[`${t}-view`]:{width:"100%",borderRadius:e.borderRadiusLG,table:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse"}},[`${t}-row`]:{"> th, > td":{paddingBottom:i,paddingInlineEnd:u},"> th:last-child, > td:last-child":{paddingInlineEnd:0},"&:last-child":{borderBottom:"none","> th, > td":{paddingBottom:0}}},[`${t}-item-label`]:{color:e.labelColor,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"start","&::after":{content:'":"',position:"relative",top:-.5,marginInline:`${(0,J.bf)(_)} ${(0,J.bf)(g)}`},[`&${t}-item-no-colon::after`]:{content:'""'}},[`${t}-item-no-label`]:{"&::after":{margin:0,content:'""'}},[`${t}-item-content`]:{display:"table-cell",flex:1,color:e.contentColor,fontSize:e.fontSize,lineHeight:e.lineHeight,wordBreak:"break-word",overflowWrap:"break-word"},[`${t}-item`]:{paddingBottom:0,verticalAlign:"top","&-container":{display:"flex",[`${t}-item-label`]:{display:"inline-flex",alignItems:"baseline"},[`${t}-item-content`]:{display:"inline-flex",alignItems:"baseline",minWidth:"1em"}}},"&-middle":{[`${t}-row`]:{"> th, > td":{paddingBottom:e.paddingSM}}},"&-small":{[`${t}-row`]:{"> th, > td":{paddingBottom:e.paddingXS}}}})}},HA=e=>({labelBg:e.colorFillAlter,labelColor:e.colorTextTertiary,titleColor:e.colorText,titleMarginBottom:e.fontSizeSM*e.lineHeightSM,itemPaddingBottom:e.padding,itemPaddingEnd:e.padding,colonMarginRight:e.marginXS,colonMarginLeft:e.marginXXS/2,contentColor:e.colorText,extraColor:e.colorText});var UA=(0,Ae.I$)("Descriptions",e=>{const t=(0,vn.IX)(e,{});return VA(t)},HA),WA=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};const GI=e=>{const{prefixCls:t,title:o,extra:i,column:u,colon:g=!0,bordered:_,layout:x,children:S,className:T,rootClassName:M,style:R,size:N,labelStyle:F,contentStyle:B,styles:V,items:j,classNames:H}=e,U=WA(e,["prefixCls","title","extra","column","colon","bordered","layout","children","className","rootClassName","style","size","labelStyle","contentStyle","styles","items","classNames"]),{getPrefixCls:K,direction:Y,className:q,style:Q,classNames:re,styles:ae}=(0,De.dj)("descriptions"),se=K("descriptions",t),de=(0,ep.Z)(),pe=s.useMemo(()=>{var ze;return typeof u=="number"?u:(ze=(0,ug.m9)(de,Object.assign(Object.assign({},AA),u)))!==null&&ze!==void 0?ze:3},[de,u]),ge=LA(de,j,S),me=(0,Ts.Z)(N),be=FA(pe,ge),[_e,Ie,Ce]=UA(se),Le=s.useMemo(()=>({labelStyle:F,contentStyle:B,styles:{content:Object.assign(Object.assign({},ae.content),V==null?void 0:V.content),label:Object.assign(Object.assign({},ae.label),V==null?void 0:V.label)},classNames:{label:oe()(re.label,H==null?void 0:H.label),content:oe()(re.content,H==null?void 0:H.content)}}),[F,B,V,H,re,ae]);return _e(s.createElement(OS.Provider,{value:Le},s.createElement("div",Object.assign({className:oe()(se,q,re.root,H==null?void 0:H.root,{[`${se}-${me}`]:me&&me!=="default",[`${se}-bordered`]:!!_,[`${se}-rtl`]:Y==="rtl"},T,M,Ie,Ce),style:Object.assign(Object.assign(Object.assign(Object.assign({},Q),ae.root),V==null?void 0:V.root),R)},U),(o||i)&&s.createElement("div",{className:oe()(`${se}-header`,re.header,H==null?void 0:H.header),style:Object.assign(Object.assign({},ae.header),V==null?void 0:V.header)},o&&s.createElement("div",{className:oe()(`${se}-title`,re.title,H==null?void 0:H.title),style:Object.assign(Object.assign({},ae.title),V==null?void 0:V.title)},o),i&&s.createElement("div",{className:oe()(`${se}-extra`,re.extra,H==null?void 0:H.extra),style:Object.assign(Object.assign({},ae.extra),V==null?void 0:V.extra)},i)),s.createElement("div",{className:`${se}-view`},s.createElement("table",null,s.createElement("tbody",null,be.map((ze,ke)=>s.createElement(jA,{key:ke,index:ke,colon:g,prefixCls:se,vertical:x==="vertical",bordered:_,row:ze}))))))))};GI.Item=kA;var GA=GI,XA=s.createContext(null),XI=s.createContext({}),qI=XA,qA=["prefixCls","className","containerRef"],KA=function(t){var o=t.prefixCls,i=t.className,u=t.containerRef,g=(0,Ve.Z)(t,qA),_=s.useContext(XI),x=_.panel,S=(0,zr.x1)(x,u);return s.createElement("div",(0,Pt.Z)({className:oe()("".concat(o,"-content"),i),role:"dialog",ref:S},(0,ir.Z)(t,{aria:!0}),{"aria-modal":"true"},g))},YA=KA;function KI(e){return typeof e=="string"&&String(Number(e))===e?((0,zl.ZP)(!1,"Invalid value type of `width` or `height` which should be number type instead."),Number(e)):e}function EU(e){warning(!("wrapperClassName"in e),"'wrapperClassName' is removed. Please use 'rootClassName' instead."),warning(canUseDom()||!e.open,"Drawer with 'open' in SSR is not work since no place to createPortal. Please move to 'useEffect' instead.")}var YI={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"};function JA(e,t){var o,i,u,g=e.prefixCls,_=e.open,x=e.placement,S=e.inline,T=e.push,M=e.forceRender,R=e.autoFocus,N=e.keyboard,F=e.classNames,B=e.rootClassName,V=e.rootStyle,j=e.zIndex,H=e.className,U=e.id,K=e.style,Y=e.motion,q=e.width,Q=e.height,re=e.children,ae=e.mask,se=e.maskClosable,de=e.maskMotion,pe=e.maskClassName,ge=e.maskStyle,me=e.afterOpenChange,be=e.onClose,_e=e.onMouseEnter,Ie=e.onMouseOver,Ce=e.onMouseLeave,Le=e.onClick,ze=e.onKeyDown,ke=e.onKeyUp,Ze=e.styles,je=e.drawerRender,Ue=s.useRef(),He=s.useRef(),Qe=s.useRef();s.useImperativeHandle(t,function(){return Ue.current});var We=function(cn){var zn=cn.keyCode,An=cn.shiftKey;switch(zn){case nt.Z.TAB:{if(zn===nt.Z.TAB){if(!An&&document.activeElement===Qe.current){var sr;(sr=He.current)===null||sr===void 0||sr.focus({preventScroll:!0})}else if(An&&document.activeElement===He.current){var yr;(yr=Qe.current)===null||yr===void 0||yr.focus({preventScroll:!0})}}break}case nt.Z.ESC:{be&&N&&(cn.stopPropagation(),be(cn));break}}};s.useEffect(function(){if(_&&R){var kt;(kt=Ue.current)===null||kt===void 0||kt.focus({preventScroll:!0})}},[_]);var it=s.useState(!1),Je=(0,ve.Z)(it,2),wt=Je[0],Dt=Je[1],ct=s.useContext(qI),ht;typeof T=="boolean"?ht=T?{}:{distance:0}:ht=T||{};var ut=(o=(i=(u=ht)===null||u===void 0?void 0:u.distance)!==null&&i!==void 0?i:ct==null?void 0:ct.pushDistance)!==null&&o!==void 0?o:180,tt=s.useMemo(function(){return{pushDistance:ut,push:function(){Dt(!0)},pull:function(){Dt(!1)}}},[ut]);s.useEffect(function(){if(_){var kt;ct==null||(kt=ct.push)===null||kt===void 0||kt.call(ct)}else{var cn;ct==null||(cn=ct.pull)===null||cn===void 0||cn.call(ct)}},[_]),s.useEffect(function(){return function(){var kt;ct==null||(kt=ct.pull)===null||kt===void 0||kt.call(ct)}},[]);var xt=ae&&s.createElement(mr.ZP,(0,Pt.Z)({key:"mask"},de,{visible:_}),function(kt,cn){var zn=kt.className,An=kt.style;return s.createElement("div",{className:oe()("".concat(g,"-mask"),zn,F==null?void 0:F.mask,pe),style:(0,fe.Z)((0,fe.Z)((0,fe.Z)({},An),ge),Ze==null?void 0:Ze.mask),onClick:se&&_?be:void 0,ref:cn})}),_t=typeof Y=="function"?Y(x):Y,dn={};if(wt&&ut)switch(x){case"top":dn.transform="translateY(".concat(ut,"px)");break;case"bottom":dn.transform="translateY(".concat(-ut,"px)");break;case"left":dn.transform="translateX(".concat(ut,"px)");break;default:dn.transform="translateX(".concat(-ut,"px)");break}x==="left"||x==="right"?dn.width=KI(q):dn.height=KI(Q);var on={onMouseEnter:_e,onMouseOver:Ie,onMouseLeave:Ce,onClick:Le,onKeyDown:ze,onKeyUp:ke},Ut=s.createElement(mr.ZP,(0,Pt.Z)({key:"panel"},_t,{visible:_,forceRender:M,onVisibleChanged:function(cn){me==null||me(cn)},removeOnLeave:!1,leavedClassName:"".concat(g,"-content-wrapper-hidden")}),function(kt,cn){var zn=kt.className,An=kt.style,sr=s.createElement(YA,(0,Pt.Z)({id:U,containerRef:cn,prefixCls:g,className:oe()(H,F==null?void 0:F.content),style:(0,fe.Z)((0,fe.Z)({},K),Ze==null?void 0:Ze.content)},(0,ir.Z)(e,{aria:!0}),on),re);return s.createElement("div",(0,Pt.Z)({className:oe()("".concat(g,"-content-wrapper"),F==null?void 0:F.wrapper,zn),style:(0,fe.Z)((0,fe.Z)((0,fe.Z)({},dn),An),Ze==null?void 0:Ze.wrapper)},(0,ir.Z)(e,{data:!0})),je?je(sr):sr)}),en=(0,fe.Z)({},V);return j&&(en.zIndex=j),s.createElement(qI.Provider,{value:tt},s.createElement("div",{className:oe()(g,"".concat(g,"-").concat(x),B,(0,Ee.Z)((0,Ee.Z)({},"".concat(g,"-open"),_),"".concat(g,"-inline"),S)),style:en,tabIndex:-1,ref:Ue,onKeyDown:We},xt,s.createElement("div",{tabIndex:0,ref:He,style:YI,"aria-hidden":"true","data-sentinel":"start"}),Ut,s.createElement("div",{tabIndex:0,ref:Qe,style:YI,"aria-hidden":"true","data-sentinel":"end"})))}var QA=s.forwardRef(JA),eD=QA,tD=function(t){var o=t.open,i=o===void 0?!1:o,u=t.prefixCls,g=u===void 0?"rc-drawer":u,_=t.placement,x=_===void 0?"right":_,S=t.autoFocus,T=S===void 0?!0:S,M=t.keyboard,R=M===void 0?!0:M,N=t.width,F=N===void 0?378:N,B=t.mask,V=B===void 0?!0:B,j=t.maskClosable,H=j===void 0?!0:j,U=t.getContainer,K=t.forceRender,Y=t.afterOpenChange,q=t.destroyOnClose,Q=t.onMouseEnter,re=t.onMouseOver,ae=t.onMouseLeave,se=t.onClick,de=t.onKeyDown,pe=t.onKeyUp,ge=t.panelRef,me=s.useState(!1),be=(0,ve.Z)(me,2),_e=be[0],Ie=be[1],Ce=s.useState(!1),Le=(0,ve.Z)(Ce,2),ze=Le[0],ke=Le[1];(0,yt.Z)(function(){ke(!0)},[]);var Ze=ze?i:!1,je=s.useRef(),Ue=s.useRef();(0,yt.Z)(function(){Ze&&(Ue.current=document.activeElement)},[Ze]);var He=function(wt){var Dt;if(Ie(wt),Y==null||Y(wt),!wt&&Ue.current&&!((Dt=je.current)!==null&&Dt!==void 0&&Dt.contains(Ue.current))){var ct;(ct=Ue.current)===null||ct===void 0||ct.focus({preventScroll:!0})}},Qe=s.useMemo(function(){return{panel:ge}},[ge]);if(!K&&!_e&&!Ze&&q)return null;var We={onMouseEnter:Q,onMouseOver:re,onMouseLeave:ae,onClick:se,onKeyDown:de,onKeyUp:pe},it=(0,fe.Z)((0,fe.Z)({},t),{},{open:Ze,prefixCls:g,placement:x,autoFocus:T,keyboard:R,width:F,mask:V,maskClosable:H,inline:U===!1,afterOpenChange:He,ref:je},We);return s.createElement(XI.Provider,{value:Qe},s.createElement(af.Z,{open:Ze||K||_e,autoDestroy:!1,getContainer:U,autoLock:V&&(Ze||_e)},s.createElement(eD,it)))},nD=tD,rD=nD,JI=e=>{var t,o;const{prefixCls:i,title:u,footer:g,extra:_,loading:x,onClose:S,headerStyle:T,bodyStyle:M,footerStyle:R,children:N,classNames:F,styles:B}=e,V=(0,De.dj)("drawer"),j=s.useCallback(q=>s.createElement("button",{type:"button",onClick:S,"aria-label":"Close",className:`${i}-close`},q),[S]),[H,U]=zp(uf(e),uf(V),{closable:!0,closeIconRender:j}),K=s.useMemo(()=>{var q,Q;return!u&&!H?null:s.createElement("div",{style:Object.assign(Object.assign(Object.assign({},(q=V.styles)===null||q===void 0?void 0:q.header),T),B==null?void 0:B.header),className:oe()(`${i}-header`,{[`${i}-header-close-only`]:H&&!u&&!_},(Q=V.classNames)===null||Q===void 0?void 0:Q.header,F==null?void 0:F.header)},s.createElement("div",{className:`${i}-header-title`},U,u&&s.createElement("div",{className:`${i}-title`},u)),_&&s.createElement("div",{className:`${i}-extra`},_))},[H,U,_,T,i,u]),Y=s.useMemo(()=>{var q,Q;if(!g)return null;const re=`${i}-footer`;return s.createElement("div",{className:oe()(re,(q=V.classNames)===null||q===void 0?void 0:q.footer,F==null?void 0:F.footer),style:Object.assign(Object.assign(Object.assign({},(Q=V.styles)===null||Q===void 0?void 0:Q.footer),R),B==null?void 0:B.footer)},g)},[g,R,i]);return s.createElement(s.Fragment,null,K,s.createElement("div",{className:oe()(`${i}-body`,F==null?void 0:F.body,(t=V.classNames)===null||t===void 0?void 0:t.body),style:Object.assign(Object.assign(Object.assign({},(o=V.styles)===null||o===void 0?void 0:o.body),M),B==null?void 0:B.body)},x?s.createElement(xd,{active:!0,title:!1,paragraph:{rows:5},className:`${i}-body-skeleton`}):N),Y)};const iD=e=>{const t="100%";return{left:`translateX(-${t})`,right:`translateX(${t})`,top:`translateY(-${t})`,bottom:`translateY(${t})`}[e]},QI=(e,t)=>({"&-enter, &-appear":Object.assign(Object.assign({},e),{"&-active":t}),"&-leave":Object.assign(Object.assign({},t),{"&-active":e})}),eT=(e,t)=>Object.assign({"&-enter, &-appear, &-leave":{"&-start":{transition:"none"},"&-active":{transition:`all ${t}`}}},QI({opacity:e},{opacity:1})),oD=(e,t)=>[eT(.7,t),QI({transform:iD(e)},{transform:"none"})];var aD=e=>{const{componentCls:t,motionDurationSlow:o}=e;return{[t]:{[`${t}-mask-motion`]:eT(0,o),[`${t}-panel-motion`]:["left","right","top","bottom"].reduce((i,u)=>Object.assign(Object.assign({},i),{[`&-${u}`]:oD(u,o)}),{})}}};const sD=e=>{const{borderRadiusSM:t,componentCls:o,zIndexPopup:i,colorBgMask:u,colorBgElevated:g,motionDurationSlow:_,motionDurationMid:x,paddingXS:S,padding:T,paddingLG:M,fontSizeLG:R,lineHeightLG:N,lineWidth:F,lineType:B,colorSplit:V,marginXS:j,colorIcon:H,colorIconHover:U,colorBgTextHover:K,colorBgTextActive:Y,colorText:q,fontWeightStrong:Q,footerPaddingBlock:re,footerPaddingInline:ae,calc:se}=e,de=`${o}-content-wrapper`;return{[o]:{position:"fixed",inset:0,zIndex:i,pointerEvents:"none",color:q,"&-pure":{position:"relative",background:g,display:"flex",flexDirection:"column",[`&${o}-left`]:{boxShadow:e.boxShadowDrawerLeft},[`&${o}-right`]:{boxShadow:e.boxShadowDrawerRight},[`&${o}-top`]:{boxShadow:e.boxShadowDrawerUp},[`&${o}-bottom`]:{boxShadow:e.boxShadowDrawerDown}},"&-inline":{position:"absolute"},[`${o}-mask`]:{position:"absolute",inset:0,zIndex:i,background:u,pointerEvents:"auto"},[de]:{position:"absolute",zIndex:i,maxWidth:"100vw",transition:`all ${_}`,"&-hidden":{display:"none"}},[`&-left > ${de}`]:{top:0,bottom:0,left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowDrawerLeft},[`&-right > ${de}`]:{top:0,right:{_skip_check_:!0,value:0},bottom:0,boxShadow:e.boxShadowDrawerRight},[`&-top > ${de}`]:{top:0,insetInline:0,boxShadow:e.boxShadowDrawerUp},[`&-bottom > ${de}`]:{bottom:0,insetInline:0,boxShadow:e.boxShadowDrawerDown},[`${o}-content`]:{display:"flex",flexDirection:"column",width:"100%",height:"100%",overflow:"auto",background:g,pointerEvents:"auto"},[`${o}-header`]:{display:"flex",flex:0,alignItems:"center",padding:`${(0,J.bf)(T)} ${(0,J.bf)(M)}`,fontSize:R,lineHeight:N,borderBottom:`${(0,J.bf)(F)} ${B} ${V}`,"&-title":{display:"flex",flex:1,alignItems:"center",minWidth:0,minHeight:0}},[`${o}-extra`]:{flex:"none"},[`${o}-close`]:Object.assign({display:"inline-flex",width:se(R).add(S).equal(),height:se(R).add(S).equal(),borderRadius:t,justifyContent:"center",alignItems:"center",marginInlineEnd:j,color:H,fontWeight:Q,fontSize:R,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",textDecoration:"none",background:"transparent",border:0,cursor:"pointer",transition:`all ${x}`,textRendering:"auto","&:hover":{color:U,backgroundColor:K,textDecoration:"none"},"&:active":{backgroundColor:Y}},(0,mn.Qy)(e)),[`${o}-title`]:{flex:1,margin:0,fontWeight:e.fontWeightStrong,fontSize:R,lineHeight:N},[`${o}-body`]:{flex:1,minWidth:0,minHeight:0,padding:M,overflow:"auto",[`${o}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center"}},[`${o}-footer`]:{flexShrink:0,padding:`${(0,J.bf)(re)} ${(0,J.bf)(ae)}`,borderTop:`${(0,J.bf)(F)} ${B} ${V}`},"&-rtl":{direction:"rtl"}}}},lD=e=>({zIndexPopup:e.zIndexPopupBase,footerPaddingBlock:e.paddingXS,footerPaddingInline:e.padding});var tT=(0,Ae.I$)("Drawer",e=>{const t=(0,vn.IX)(e,{});return[sD(t),aD(t)]},lD),nT=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};const MU=null,cD={distance:180},rT=e=>{var t;const{rootClassName:o,width:i,height:u,size:g="default",mask:_=!0,push:x=cD,open:S,afterOpenChange:T,onClose:M,prefixCls:R,getContainer:N,style:F,className:B,visible:V,afterVisibleChange:j,maskStyle:H,drawerStyle:U,contentWrapperStyle:K}=e,Y=nT(e,["rootClassName","width","height","size","mask","push","open","afterOpenChange","onClose","prefixCls","getContainer","style","className","visible","afterVisibleChange","maskStyle","drawerStyle","contentWrapperStyle"]),{getPopupContainer:q,getPrefixCls:Q,direction:re,className:ae,style:se,classNames:de,styles:pe}=(0,De.dj)("drawer"),ge=Q("drawer",R),[me,be,_e]=tT(ge),Ie=N===void 0&&q?()=>q(document.body):N,Ce=oe()({"no-mask":!_,[`${ge}-rtl`]:re==="rtl"},o,be,_e),Le=s.useMemo(()=>i!=null?i:g==="large"?736:378,[i,g]),ze=s.useMemo(()=>u!=null?u:g==="large"?736:378,[u,g]),ke={motionName:(0,Bi.m)(ge,"mask-motion"),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500},Ze=it=>({motionName:(0,Bi.m)(ge,`panel-motion-${it}`),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500}),je=Fp(),[Ue,He]=(0,Io.Cn)("Drawer",Y.zIndex),{classNames:Qe={},styles:We={}}=Y;return me(s.createElement(xu.Z,{form:!0,space:!0},s.createElement(df.Z.Provider,{value:He},s.createElement(rD,Object.assign({prefixCls:ge,onClose:M,maskMotion:ke,motion:Ze},Y,{classNames:{mask:oe()(Qe.mask,de.mask),content:oe()(Qe.content,de.content),wrapper:oe()(Qe.wrapper,de.wrapper)},styles:{mask:Object.assign(Object.assign(Object.assign({},We.mask),H),pe.mask),content:Object.assign(Object.assign(Object.assign({},We.content),U),pe.content),wrapper:Object.assign(Object.assign(Object.assign({},We.wrapper),K),pe.wrapper)},open:S!=null?S:V,mask:_,push:x,width:Le,height:ze,style:Object.assign(Object.assign({},se),F),className:oe()(ae,B),rootClassName:Ce,getContainer:Ie,afterOpenChange:T!=null?T:j,panelRef:je,zIndex:Ue}),s.createElement(JI,Object.assign({prefixCls:ge},Y,{onClose:M}))))))},uD=e=>{const{prefixCls:t,style:o,className:i,placement:u="right"}=e,g=nT(e,["prefixCls","style","className","placement"]),{getPrefixCls:_}=s.useContext(De.E_),x=_("drawer",t),[S,T,M]=tT(x),R=oe()(x,`${x}-pure`,`${x}-${u}`,T,M,i);return S(s.createElement("div",{className:R,style:o},s.createElement(JI,Object.assign({prefixCls:x},g))))};rT._InternalPanelDoNotUseOrYouWillBeFired=uD;var dD=rT;function Hx(e){return["small","middle","large"].includes(e)}function iT(e){return e?typeof e=="number"&&!Number.isNaN(e):!1}const oT=s.createContext({latestIndex:0}),fD=oT.Provider;var hD=e=>{let{className:t,index:o,children:i,split:u,style:g}=e;const{latestIndex:_}=s.useContext(oT);return i==null?null:s.createElement(s.Fragment,null,s.createElement("div",{className:t,style:g},i),o<_&&u&&s.createElement("span",{className:`${t}-split`},u))},pD=he(45936),mD=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};const aT=s.forwardRef((e,t)=>{var o;const{getPrefixCls:i,direction:u,size:g,className:_,style:x,classNames:S,styles:T}=(0,De.dj)("space"),{size:M=g!=null?g:"small",align:R,className:N,rootClassName:F,children:B,direction:V="horizontal",prefixCls:j,split:H,style:U,wrap:K=!1,classNames:Y,styles:q}=e,Q=mD(e,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),[re,ae]=Array.isArray(M)?M:[M,M],se=Hx(ae),de=Hx(re),pe=iT(ae),ge=iT(re),me=(0,El.Z)(B,{keepEmpty:!0}),be=R===void 0&&V==="horizontal"?"center":R,_e=i("space",j),[Ie,Ce,Le]=(0,pD.Z)(_e),ze=oe()(_e,_,Ce,`${_e}-${V}`,{[`${_e}-rtl`]:u==="rtl",[`${_e}-align-${be}`]:be,[`${_e}-gap-row-${ae}`]:se,[`${_e}-gap-col-${re}`]:de},N,F,Le),ke=oe()(`${_e}-item`,(o=Y==null?void 0:Y.item)!==null&&o!==void 0?o:S.item);let Ze=0;const je=me.map((Qe,We)=>{var it;Qe!=null&&(Ze=We);const Je=(Qe==null?void 0:Qe.key)||`${ke}-${We}`;return s.createElement(hD,{className:ke,key:Je,index:We,split:H,style:(it=q==null?void 0:q.item)!==null&&it!==void 0?it:T.item},Qe)}),Ue=s.useMemo(()=>({latestIndex:Ze}),[Ze]);if(me.length===0)return null;const He={};return K&&(He.flexWrap="wrap"),!de&&ge&&(He.columnGap=re),!se&&pe&&(He.rowGap=ae),Ie(s.createElement("div",Object.assign({ref:t,className:ze,style:Object.assign(Object.assign(Object.assign({},He),x),U)},Q),s.createElement(fD,{value:Ue},je)))});aT.Compact=yl.ZP;var sT=aT,gD=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};const lT=e=>{const{getPopupContainer:t,getPrefixCls:o,direction:i}=s.useContext(De.E_),{prefixCls:u,type:g="default",danger:_,disabled:x,loading:S,onClick:T,htmlType:M,children:R,className:N,menu:F,arrow:B,autoFocus:V,overlay:j,trigger:H,align:U,open:K,onOpenChange:Y,placement:q,getPopupContainer:Q,href:re,icon:ae=s.createElement(fh,null),title:se,buttonsRender:de=Je=>Je,mouseEnterDelay:pe,mouseLeaveDelay:ge,overlayClassName:me,overlayStyle:be,destroyPopupOnHide:_e,dropdownRender:Ie}=e,Ce=gD(e,["prefixCls","type","danger","disabled","loading","onClick","htmlType","children","className","menu","arrow","autoFocus","overlay","trigger","align","open","onOpenChange","placement","getPopupContainer","href","icon","title","buttonsRender","mouseEnterDelay","mouseLeaveDelay","overlayClassName","overlayStyle","destroyPopupOnHide","dropdownRender"]),Le=o("dropdown",u),ze=`${Le}-button`,ke={menu:F,arrow:B,autoFocus:V,align:U,disabled:x,trigger:x?[]:H,onOpenChange:Y,getPopupContainer:Q||t,mouseEnterDelay:pe,mouseLeaveDelay:ge,overlayClassName:me,overlayStyle:be,destroyPopupOnHide:_e,dropdownRender:Ie},{compactSize:Ze,compactItemClassnames:je}=(0,yl.ri)(Le,i),Ue=oe()(ze,je,N);"overlay"in e&&(ke.overlay=j),"open"in e&&(ke.open=K),"placement"in e?ke.placement=q:ke.placement=i==="rtl"?"bottomLeft":"bottomRight";const He=s.createElement(Xl,{type:g,danger:_,disabled:x,loading:S,onClick:T,htmlType:M,href:re,title:se},R),Qe=s.createElement(Xl,{type:g,danger:_,icon:ae}),[We,it]=de([He,Qe]);return s.createElement(sT.Compact,Object.assign({className:Ue,size:Ze,block:!0},Ce),We,s.createElement(y_,Object.assign({},ke),it))};lT.__ANT_BUTTON=!0;var vD=lT;const cT=y_;cT.Button=vD;var Ux=cT;const uT=["wrap","nowrap","wrap-reverse"],dT=["flex-start","flex-end","start","end","center","space-between","space-around","space-evenly","stretch","normal","left","right"],fT=["center","start","end","flex-start","flex-end","self-start","self-end","baseline","normal","stretch"],yD=(e,t)=>{const o=t.wrap===!0?"wrap":t.wrap;return{[`${e}-wrap-${o}`]:o&&uT.includes(o)}},_D=(e,t)=>{const o={};return fT.forEach(i=>{o[`${e}-align-${i}`]=t.align===i}),o[`${e}-align-stretch`]=!t.align&&!!t.vertical,o},bD=(e,t)=>{const o={};return dT.forEach(i=>{o[`${e}-justify-${i}`]=t.justify===i}),o};function xD(e,t){return oe()(Object.assign(Object.assign(Object.assign({},yD(e,t)),_D(e,t)),bD(e,t)))}var CD=xD;const wD=e=>{const{componentCls:t}=e;return{[t]:{display:"flex",margin:0,padding:0,"&-vertical":{flexDirection:"column"},"&-rtl":{direction:"rtl"},"&:empty":{display:"none"}}}},SD=e=>{const{componentCls:t}=e;return{[t]:{"&-gap-small":{gap:e.flexGapSM},"&-gap-middle":{gap:e.flexGap},"&-gap-large":{gap:e.flexGapLG}}}},ED=e=>{const{componentCls:t}=e,o={};return uT.forEach(i=>{o[`${t}-wrap-${i}`]={flexWrap:i}}),o},ID=e=>{const{componentCls:t}=e,o={};return fT.forEach(i=>{o[`${t}-align-${i}`]={alignItems:i}}),o},TD=e=>{const{componentCls:t}=e,o={};return dT.forEach(i=>{o[`${t}-justify-${i}`]={justifyContent:i}}),o},MD=()=>({});var PD=(0,Ae.I$)("Flex",e=>{const{paddingXS:t,padding:o,paddingLG:i}=e,u=(0,vn.IX)(e,{flexGapSM:t,flexGap:o,flexGapLG:i});return[wD(u),SD(u),ED(u),ID(u),TD(u)]},MD,{resetStyle:!1}),OD=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o},$D=s.forwardRef((e,t)=>{const{prefixCls:o,rootClassName:i,className:u,style:g,flex:_,gap:x,children:S,vertical:T=!1,component:M="div"}=e,R=OD(e,["prefixCls","rootClassName","className","style","flex","gap","children","vertical","component"]),{flex:N,direction:F,getPrefixCls:B}=s.useContext(De.E_),V=B("flex",o),[j,H,U]=PD(V),K=T!=null?T:N==null?void 0:N.vertical,Y=oe()(u,i,N==null?void 0:N.className,V,H,U,CD(V,e),{[`${V}-rtl`]:F==="rtl",[`${V}-gap-${x}`]:Hx(x),[`${V}-vertical`]:K}),q=Object.assign(Object.assign({},N==null?void 0:N.style),g);return _&&(q.flex=_),x&&!Hx(x)&&(q.gap=x),j(s.createElement(M,Object.assign({ref:t,className:Y,style:q},(0,Er.Z)(R,["justify","wrap","align"])),S))});const hT=s.createContext(void 0),{Provider:RD}=hT;var pT=hT,AD={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM504 618H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM312 490v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8z"}}]},name:"file-text",theme:"outlined"},DD=AD,zD=function(t,o){return s.createElement(Fn.Z,(0,Pt.Z)({},t,{ref:o,icon:DD}))},LD=s.forwardRef(zD),mT=LD;const ND=e=>{const{icon:t,description:o,prefixCls:i,className:u}=e,g=s.createElement("div",{className:`${i}-icon`},s.createElement(mT,null));return s.createElement("div",{onClick:e.onClick,onFocus:e.onFocus,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,className:oe()(u,`${i}-content`)},t||o?s.createElement(s.Fragment,null,t&&s.createElement("div",{className:`${i}-icon`},t),o&&s.createElement("div",{className:`${i}-description`},o)):g)};var BD=(0,s.memo)(ND),gT=e=>e===0?0:e-Math.sqrt(Math.pow(e,2)/2),FD=e=>{const{componentCls:t,floatButtonSize:o,motionDurationSlow:i,motionEaseInOutCirc:u,calc:g}=e,_=new J.E4("antFloatButtonMoveTopIn",{"0%":{transform:`translate3d(0, ${(0,J.bf)(o)}, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),x=new J.E4("antFloatButtonMoveTopOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(0, ${(0,J.bf)(o)}, 0)`,transformOrigin:"0 0",opacity:0}}),S=new J.E4("antFloatButtonMoveRightIn",{"0%":{transform:`translate3d(${g(o).mul(-1).equal()}, 0, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),T=new J.E4("antFloatButtonMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(${g(o).mul(-1).equal()}, 0, 0)`,transformOrigin:"0 0",opacity:0}}),M=new J.E4("antFloatButtonMoveBottomIn",{"0%":{transform:`translate3d(0, ${g(o).mul(-1).equal()}, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),R=new J.E4("antFloatButtonMoveBottomOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(0, ${g(o).mul(-1).equal()}, 0)`,transformOrigin:"0 0",opacity:0}}),N=new J.E4("antFloatButtonMoveLeftIn",{"0%":{transform:`translate3d(${(0,J.bf)(o)}, 0, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),F=new J.E4("antFloatButtonMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(${(0,J.bf)(o)}, 0, 0)`,transformOrigin:"0 0",opacity:0}}),B=`${t}-group`;return[{[B]:{[`&${B}-top ${B}-wrap`]:(0,Cd.R)(`${B}-wrap`,_,x,i,!0),[`&${B}-bottom ${B}-wrap`]:(0,Cd.R)(`${B}-wrap`,M,R,i,!0),[`&${B}-left ${B}-wrap`]:(0,Cd.R)(`${B}-wrap`,N,F,i,!0),[`&${B}-right ${B}-wrap`]:(0,Cd.R)(`${B}-wrap`,S,T,i,!0)}},{[`${B}-wrap`]:{[`&${B}-wrap-enter, &${B}-wrap-appear`]:{opacity:0,animationTimingFunction:u},[`&${B}-wrap-leave`]:{opacity:1,animationTimingFunction:u}}}]};const kD=e=>{const{antCls:t,componentCls:o,floatButtonSize:i,margin:u,borderRadiusLG:g,borderRadiusSM:_,badgeOffset:x,floatButtonBodyPadding:S,zIndexPopupBase:T,calc:M}=e,R=`${o}-group`;return{[R]:Object.assign(Object.assign({},(0,mn.Wf)(e)),{zIndex:T,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",border:"none",position:"fixed",height:"auto",boxShadow:"none",minWidth:i,minHeight:i,insetInlineEnd:e.floatButtonInsetInlineEnd,bottom:e.floatButtonInsetBlockEnd,borderRadius:g,[`${R}-wrap`]:{zIndex:-1,display:"flex",justifyContent:"center",alignItems:"center",position:"absolute"},[`&${R}-rtl`]:{direction:"rtl"},[o]:{position:"static"}}),[`${R}-top > ${R}-wrap`]:{flexDirection:"column",top:"auto",bottom:M(i).add(u).equal(),"&::after":{content:'""',position:"absolute",width:"100%",height:u,bottom:M(u).mul(-1).equal()}},[`${R}-bottom > ${R}-wrap`]:{flexDirection:"column",top:M(i).add(u).equal(),bottom:"auto","&::after":{content:'""',position:"absolute",width:"100%",height:u,top:M(u).mul(-1).equal()}},[`${R}-right > ${R}-wrap`]:{flexDirection:"row",left:{_skip_check_:!0,value:M(i).add(u).equal()},right:{_skip_check_:!0,value:"auto"},"&::after":{content:'""',position:"absolute",width:u,height:"100%",left:{_skip_check_:!0,value:M(u).mul(-1).equal()}}},[`${R}-left > ${R}-wrap`]:{flexDirection:"row",left:{_skip_check_:!0,value:"auto"},right:{_skip_check_:!0,value:M(i).add(u).equal()},"&::after":{content:'""',position:"absolute",width:u,height:"100%",right:{_skip_check_:!0,value:M(u).mul(-1).equal()}}},[`${R}-circle`]:{gap:u,[`${R}-wrap`]:{gap:u}},[`${R}-square`]:{[`${o}-square`]:{padding:0,borderRadius:0,[`&${R}-trigger`]:{borderRadius:g},"&:first-child":{borderStartStartRadius:g,borderStartEndRadius:g},"&:last-child":{borderEndStartRadius:g,borderEndEndRadius:g},"&:not(:last-child)":{borderBottom:`${(0,J.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-badge`]:{[`${t}-badge-count`]:{top:M(M(S).add(x)).mul(-1).equal(),insetInlineEnd:M(M(S).add(x)).mul(-1).equal()}}},[`${R}-wrap`]:{borderRadius:g,boxShadow:e.boxShadowSecondary,[`${o}-square`]:{boxShadow:"none",borderRadius:0,padding:S,[`${o}-body`]:{width:e.floatButtonBodySize,height:e.floatButtonBodySize,borderRadius:_}}}},[`${R}-top > ${R}-wrap, ${R}-bottom > ${R}-wrap`]:{[`> ${o}-square`]:{"&:first-child":{borderStartStartRadius:g,borderStartEndRadius:g},"&:last-child":{borderEndStartRadius:g,borderEndEndRadius:g},"&:not(:last-child)":{borderBottom:`${(0,J.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`}}},[`${R}-left > ${R}-wrap, ${R}-right > ${R}-wrap`]:{[`> ${o}-square`]:{"&:first-child":{borderStartStartRadius:g,borderEndStartRadius:g},"&:last-child":{borderStartEndRadius:g,borderEndEndRadius:g},"&:not(:last-child)":{borderInlineEnd:`${(0,J.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`}}},[`${R}-circle-shadow`]:{boxShadow:"none"},[`${R}-square-shadow`]:{boxShadow:e.boxShadowSecondary,[`${o}-square`]:{boxShadow:"none",padding:S,[`${o}-body`]:{width:e.floatButtonBodySize,height:e.floatButtonBodySize,borderRadius:_}}}}},jD=e=>{const{antCls:t,componentCls:o,floatButtonBodyPadding:i,floatButtonIconSize:u,floatButtonSize:g,borderRadiusLG:_,badgeOffset:x,dotOffsetInSquare:S,dotOffsetInCircle:T,zIndexPopupBase:M,calc:R}=e;return{[o]:Object.assign(Object.assign({},(0,mn.Wf)(e)),{border:"none",position:"fixed",cursor:"pointer",zIndex:M,display:"block",width:g,height:g,insetInlineEnd:e.floatButtonInsetInlineEnd,bottom:e.floatButtonInsetBlockEnd,boxShadow:e.boxShadowSecondary,"&-pure":{position:"relative",inset:"auto"},"&:empty":{display:"none"},[`${t}-badge`]:{width:"100%",height:"100%",[`${t}-badge-count`]:{transform:"translate(0, 0)",transformOrigin:"center",top:R(x).mul(-1).equal(),insetInlineEnd:R(x).mul(-1).equal()}},[`${o}-body`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",transition:`all ${e.motionDurationMid}`,[`${o}-content`]:{overflow:"hidden",textAlign:"center",minHeight:g,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:`${(0,J.bf)(R(i).div(2).equal())} ${(0,J.bf)(i)}`,[`${o}-icon`]:{textAlign:"center",margin:"auto",width:u,fontSize:u,lineHeight:1}}}}),[`${o}-rtl`]:{direction:"rtl"},[`${o}-circle`]:{height:g,borderRadius:"50%",[`${t}-badge`]:{[`${t}-badge-dot`]:{top:T,insetInlineEnd:T}},[`${o}-body`]:{borderRadius:"50%"}},[`${o}-square`]:{height:"auto",minHeight:g,borderRadius:_,[`${t}-badge`]:{[`${t}-badge-dot`]:{top:S,insetInlineEnd:S}},[`${o}-body`]:{height:"auto",borderRadius:_}},[`${o}-default`]:{backgroundColor:e.floatButtonBackgroundColor,transition:`background-color ${e.motionDurationMid}`,[`${o}-body`]:{backgroundColor:e.floatButtonBackgroundColor,transition:`background-color ${e.motionDurationMid}`,"&:hover":{backgroundColor:e.colorFillContent},[`${o}-content`]:{[`${o}-icon`]:{color:e.colorText},[`${o}-description`]:{display:"flex",alignItems:"center",lineHeight:(0,J.bf)(e.fontSizeLG),color:e.colorText,fontSize:e.fontSizeSM}}}},[`${o}-primary`]:{backgroundColor:e.colorPrimary,[`${o}-body`]:{backgroundColor:e.colorPrimary,transition:`background-color ${e.motionDurationMid}`,"&:hover":{backgroundColor:e.colorPrimaryHover},[`${o}-content`]:{[`${o}-icon`]:{color:e.colorTextLightSolid},[`${o}-description`]:{display:"flex",alignItems:"center",lineHeight:(0,J.bf)(e.fontSizeLG),color:e.colorTextLightSolid,fontSize:e.fontSizeSM}}}}}},ZD=e=>({dotOffsetInCircle:gT(e.controlHeightLG/2),dotOffsetInSquare:gT(e.borderRadiusLG)});var vT=(0,Ae.I$)("FloatButton",e=>{const{colorTextLightSolid:t,colorBgElevated:o,controlHeightLG:i,marginXXL:u,marginLG:g,fontSize:_,fontSizeIcon:x,controlItemBgHover:S,paddingXXS:T,calc:M}=e,R=(0,vn.IX)(e,{floatButtonBackgroundColor:o,floatButtonColor:t,floatButtonHoverBackgroundColor:S,floatButtonFontSize:_,floatButtonIconSize:M(x).mul(1.5).equal(),floatButtonSize:i,floatButtonInsetBlockEnd:u,floatButtonInsetInlineEnd:g,floatButtonBodySize:M(i).sub(M(T).mul(2)).equal(),floatButtonBodyPadding:T,badgeOffset:M(T).mul(1.5).equal()});return[kD(R),jD(R),wd(e),FD(R)]},ZD),VD=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};const Wx="float-btn";var i0=s.forwardRef((e,t)=>{const{prefixCls:o,className:i,rootClassName:u,style:g,type:_="default",shape:x="circle",icon:S,description:T,tooltip:M,htmlType:R="button",badge:N={}}=e,F=VD(e,["prefixCls","className","rootClassName","style","type","shape","icon","description","tooltip","htmlType","badge"]),{getPrefixCls:B,direction:V}=(0,s.useContext)(De.E_),j=(0,s.useContext)(pT),H=B(Wx,o),U=(0,po.Z)(H),[K,Y,q]=vT(H,U),Q=j||x,re=oe()(Y,q,U,H,i,u,`${H}-${_}`,`${H}-${Q}`,{[`${H}-rtl`]:V==="rtl"}),[ae]=(0,Io.Cn)("FloatButton",g==null?void 0:g.zIndex),se=Object.assign(Object.assign({},g),{zIndex:ae}),de=(0,Er.Z)(N,["title","children","status","text"]),pe=(0,s.useMemo)(()=>({prefixCls:H,description:T,icon:S,type:_}),[H,T,S,_]);let ge=s.createElement("div",{className:`${H}-body`},s.createElement(BD,Object.assign({},pe)));return"badge"in e&&(ge=s.createElement(Hy,Object.assign({},de),ge)),"tooltip"in e&&(ge=s.createElement(Uc.Z,{title:M,placement:V==="rtl"?"right":"left"},ge)),K(e.href?s.createElement("a",Object.assign({ref:t},F,{className:re,style:se}),ge):s.createElement("button",Object.assign({ref:t},F,{className:re,style:se,type:R}),ge))}),HD=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o},yT=s.forwardRef((e,t)=>{const{prefixCls:o,className:i,type:u="default",shape:g="circle",visibilityHeight:_=400,icon:x=s.createElement(dg,null),target:S,onClick:T,duration:M=450}=e,R=HD(e,["prefixCls","className","type","shape","visibilityHeight","icon","target","onClick","duration"]),[N,F]=(0,s.useState)(_===0),B=s.useRef(null);s.useImperativeHandle(t,()=>({nativeElement:B.current}));const V=()=>{var ae;return((ae=B.current)===null||ae===void 0?void 0:ae.ownerDocument)||window},j=qe(ae=>{const se=ia(ae.target);F(se>=_)});(0,s.useEffect)(()=>{const se=(S||V)();return j({target:se}),se==null||se.addEventListener("scroll",j),()=>{j.cancel(),se==null||se.removeEventListener("scroll",j)}},[S]);const H=ae=>{Ra(0,{getContainer:S||V,duration:M}),T==null||T(ae)},{getPrefixCls:U}=(0,s.useContext)(De.E_),K=U(Wx,o),Y=U(),Q=(0,s.useContext)(pT)||g,re=Object.assign({prefixCls:K,icon:x,type:u,shape:Q},R);return s.createElement(mr.ZP,{visible:N,motionName:`${Y}-fade`},(ae,se)=>{let{className:de}=ae;return s.createElement(i0,Object.assign({ref:(0,zr.sQ)(B,se)},re,{onClick:H,className:oe()(i,de)}))})}),UD=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o},_T=e=>{var t;const{prefixCls:o,className:i,style:u,shape:g="circle",type:_="default",placement:x="top",icon:S=s.createElement(mT,null),closeIcon:T,description:M,trigger:R,children:N,onOpenChange:F,open:B,onClick:V}=e,j=UD(e,["prefixCls","className","style","shape","type","placement","icon","closeIcon","description","trigger","children","onOpenChange","open","onClick"]),{direction:H,getPrefixCls:U,closeIcon:K}=(0,De.dj)("floatButtonGroup"),Y=(t=T!=null?T:K)!==null&&t!==void 0?t:s.createElement(nr,null),q=U(Wx,o),Q=(0,po.Z)(q),[re,ae,se]=vT(q,Q),de=`${q}-group`,pe=R&&["click","hover"].includes(R),ge=x&&["top","left","right","bottom"].includes(x),me=oe()(de,ae,se,Q,i,{[`${de}-rtl`]:H==="rtl",[`${de}-${g}`]:g,[`${de}-${g}-shadow`]:!pe,[`${de}-${x}`]:pe&&ge}),[be]=(0,Io.Cn)("FloatButton",u==null?void 0:u.zIndex),_e=Object.assign(Object.assign({},u),{zIndex:be}),Ie=oe()(ae,`${de}-wrap`),[Ce,Le]=(0,Jo.Z)(!1,{value:B}),ze=s.useRef(null),ke=R==="hover",Ze=R==="click",je=(0,Or.Z)(We=>{Ce!==We&&(Le(We),F==null||F(We))}),Ue=()=>{ke&&je(!0)},He=()=>{ke&&je(!1)},Qe=We=>{Ze&&je(!Ce),V==null||V(We)};return s.useEffect(()=>{if(Ze){const We=it=>{var Je;!((Je=ze.current)===null||Je===void 0)&&Je.contains(it.target)||je(!1)};return document.addEventListener("click",We,{capture:!0}),()=>document.removeEventListener("click",We,{capture:!0})}},[Ze]),re(s.createElement(RD,{value:g},s.createElement("div",{ref:ze,className:me,style:_e,onMouseEnter:Ue,onMouseLeave:He},pe?s.createElement(s.Fragment,null,s.createElement(mr.ZP,{visible:Ce,motionName:`${de}-wrap`},We=>{let{className:it}=We;return s.createElement("div",{className:oe()(it,Ie)},N)}),s.createElement(i0,Object.assign({type:_,icon:Ce?Y:S,description:M,"aria-label":e["aria-label"],className:`${de}-trigger`,onClick:Qe},j))):N)))},bT=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};const xT=e=>{var{backTop:t}=e,o=bT(e,["backTop"]);return t?s.createElement(yT,Object.assign({},o,{visibilityHeight:0})):s.createElement(i0,Object.assign({},o))};var WD=e=>{var{className:t,items:o}=e,i=bT(e,["className","items"]);const{prefixCls:u}=i,{getPrefixCls:g}=s.useContext(De.E_),x=`${g(Wx,u)}-pure`;return o?s.createElement(_T,Object.assign({className:oe()(t,x)},i),o.map((S,T)=>s.createElement(xT,Object.assign({key:T},S)))):s.createElement(xT,Object.assign({className:oe()(t,x)},i))};i0.BackTop=yT,i0.Group=_T,i0._InternalPanelDoNotUseOrYouWillBeFired=WD;var GD=i0,XD=he(54735);function qD(){return(0,ep.Z)()}var KD={useBreakpoint:qD},YD={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},JD=YD,QD=function(t,o){return s.createElement(Fn.Z,(0,Pt.Z)({},t,{ref:o,icon:JD}))},ez=s.forwardRef(QD),AS=ez,CT=/margin|padding|width|height|max|min|offset/,DS={left:!0,top:!0},wT={cssFloat:1,styleFloat:1,float:1};function ST(e){return e.nodeType===1?e.ownerDocument.defaultView.getComputedStyle(e,null):{}}function tz(e,t,o){if(t=t.toLowerCase(),o==="auto"){if(t==="height")return e.offsetHeight;if(t==="width")return e.offsetWidth}return t in DS||(DS[t]=CT.test(t)),DS[t]?parseFloat(o)||0:o}function FU(e,t){var o=arguments.length,i=ST(e);return t=wT[t]?"cssFloat"in e.style?"cssFloat":"styleFloat":t,o===1?i:tz(e,t,i[t]||e.style[t])}function nz(e,t,o){var i=arguments.length;if(t=wT[t]?"cssFloat"in e.style?"cssFloat":"styleFloat":t,i===3)return typeof o=="number"&&CT.test(t)&&(o="".concat(o,"px")),e.style[t]=o,o;for(var u in t)t.hasOwnProperty(u)&&nz(e,u,t[u]);return ST(e)}function kU(e){return e===document.body?document.documentElement.clientWidth:e.offsetWidth}function jU(e){return e===document.body?window.innerHeight||document.documentElement.clientHeight:e.offsetHeight}function ZU(){var e=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),t=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);return{width:e,height:t}}function ET(){var e=document.documentElement.clientWidth,t=window.innerHeight||document.documentElement.clientHeight;return{width:e,height:t}}function VU(){return{scrollLeft:Math.max(document.documentElement.scrollLeft,document.body.scrollLeft),scrollTop:Math.max(document.documentElement.scrollTop,document.body.scrollTop)}}function rz(e){var t=e.getBoundingClientRect(),o=document.documentElement;return{left:t.left+(window.pageXOffset||o.scrollLeft)-(o.clientLeft||document.body.clientLeft||0),top:t.top+(window.pageYOffset||o.scrollTop)-(o.clientTop||document.body.clientTop||0)}}function Sm(e,t,o,i){var u=Nt.unstable_batchedUpdates?function(_){Nt.unstable_batchedUpdates(o,_)}:o;return e!=null&&e.addEventListener&&e.addEventListener(t,u,i),{remove:function(){e!=null&&e.removeEventListener&&e.removeEventListener(t,u,i)}}}var q_=s.createContext(null),iz=function(t){var o=t.visible,i=t.maskTransitionName,u=t.getContainer,g=t.prefixCls,_=t.rootClassName,x=t.icons,S=t.countRender,T=t.showSwitch,M=t.showProgress,R=t.current,N=t.transform,F=t.count,B=t.scale,V=t.minScale,j=t.maxScale,H=t.closeIcon,U=t.onActive,K=t.onClose,Y=t.onZoomIn,q=t.onZoomOut,Q=t.onRotateRight,re=t.onRotateLeft,ae=t.onFlipX,se=t.onFlipY,de=t.onReset,pe=t.toolbarRender,ge=t.zIndex,me=t.image,be=(0,s.useContext)(q_),_e=x.rotateLeft,Ie=x.rotateRight,Ce=x.zoomIn,Le=x.zoomOut,ze=x.close,ke=x.left,Ze=x.right,je=x.flipX,Ue=x.flipY,He="".concat(g,"-operations-operation");s.useEffect(function(){var _t=function(on){on.keyCode===nt.Z.ESC&&K()};return o&&window.addEventListener("keydown",_t),function(){window.removeEventListener("keydown",_t)}},[o]);var Qe=function(dn,on){dn.preventDefault(),dn.stopPropagation(),U(on)},We=s.useCallback(function(_t){var dn=_t.type,on=_t.disabled,Ut=_t.onClick,en=_t.icon;return s.createElement("div",{key:dn,className:oe()(He,"".concat(g,"-operations-operation-").concat(dn),(0,Ee.Z)({},"".concat(g,"-operations-operation-disabled"),!!on)),onClick:Ut},en)},[He,g]),it=T?We({icon:ke,onClick:function(dn){return Qe(dn,-1)},type:"prev",disabled:R===0}):void 0,Je=T?We({icon:Ze,onClick:function(dn){return Qe(dn,1)},type:"next",disabled:R===F-1}):void 0,wt=We({icon:Ue,onClick:se,type:"flipY"}),Dt=We({icon:je,onClick:ae,type:"flipX"}),ct=We({icon:_e,onClick:re,type:"rotateLeft"}),ht=We({icon:Ie,onClick:Q,type:"rotateRight"}),ut=We({icon:Le,onClick:q,type:"zoomOut",disabled:B<=V}),tt=We({icon:Ce,onClick:Y,type:"zoomIn",disabled:B===j}),xt=s.createElement("div",{className:"".concat(g,"-operations")},wt,Dt,ct,ht,ut,tt);return s.createElement(mr.ZP,{visible:o,motionName:i},function(_t){var dn=_t.className,on=_t.style;return s.createElement(af.Z,{open:!0,getContainer:u!=null?u:document.body},s.createElement("div",{className:oe()("".concat(g,"-operations-wrapper"),dn,_),style:(0,fe.Z)((0,fe.Z)({},on),{},{zIndex:ge})},H===null?null:s.createElement("button",{className:"".concat(g,"-close"),onClick:K},H||ze),T&&s.createElement(s.Fragment,null,s.createElement("div",{className:oe()("".concat(g,"-switch-left"),(0,Ee.Z)({},"".concat(g,"-switch-left-disabled"),R===0)),onClick:function(en){return Qe(en,-1)}},ke),s.createElement("div",{className:oe()("".concat(g,"-switch-right"),(0,Ee.Z)({},"".concat(g,"-switch-right-disabled"),R===F-1)),onClick:function(en){return Qe(en,1)}},Ze)),s.createElement("div",{className:"".concat(g,"-footer")},M&&s.createElement("div",{className:"".concat(g,"-progress")},S?S(R+1,F):"".concat(R+1," / ").concat(F)),pe?pe(xt,(0,fe.Z)((0,fe.Z)({icons:{prevIcon:it,nextIcon:Je,flipYIcon:wt,flipXIcon:Dt,rotateLeftIcon:ct,rotateRightIcon:ht,zoomOutIcon:ut,zoomInIcon:tt},actions:{onActive:U,onFlipY:se,onFlipX:ae,onRotateLeft:re,onRotateRight:Q,onZoomOut:q,onZoomIn:Y,onReset:de,onClose:K},transform:N},be?{current:R,total:F}:{}),{},{image:me})):xt)))})},oz=iz,Gx={x:0,y:0,rotate:0,scale:1,flipX:!1,flipY:!1};function az(e,t,o,i){var u=(0,s.useRef)(null),g=(0,s.useRef)([]),_=(0,s.useState)(Gx),x=(0,ve.Z)(_,2),S=x[0],T=x[1],M=function(B){T(Gx),(0,id.Z)(Gx,S)||i==null||i({transform:Gx,action:B})},R=function(B,V){u.current===null&&(g.current=[],u.current=(0,lt.Z)(function(){T(function(j){var H=j;return g.current.forEach(function(U){H=(0,fe.Z)((0,fe.Z)({},H),U)}),u.current=null,i==null||i({transform:H,action:V}),H})})),g.current.push((0,fe.Z)((0,fe.Z)({},S),B))},N=function(B,V,j,H,U){var K=e.current,Y=K.width,q=K.height,Q=K.offsetWidth,re=K.offsetHeight,ae=K.offsetLeft,se=K.offsetTop,de=B,pe=S.scale*B;pe>o?(pe=o,de=o/S.scale):pe<t&&(pe=U?pe:t,de=pe/S.scale);var ge=j!=null?j:innerWidth/2,me=H!=null?H:innerHeight/2,be=de-1,_e=be*Y*.5,Ie=be*q*.5,Ce=be*(ge-S.x-ae),Le=be*(me-S.y-se),ze=S.x-(Ce-_e),ke=S.y-(Le-Ie);if(B<1&&pe===1){var Ze=Q*pe,je=re*pe,Ue=ET(),He=Ue.width,Qe=Ue.height;Ze<=He&&je<=Qe&&(ze=0,ke=0)}R({x:ze,y:ke,scale:pe},V)};return{transform:S,resetTransform:M,updateTransform:R,dispatchZoomChange:N}}function IT(e,t,o,i){var u=t+o,g=(o-i)/2;if(o>i){if(t>0)return(0,Ee.Z)({},e,g);if(t<0&&u<i)return(0,Ee.Z)({},e,-g)}else if(t<0||u>i)return(0,Ee.Z)({},e,t<0?g:-g);return{}}function TT(e,t,o,i){var u=ET(),g=u.width,_=u.height,x=null;return e<=g&&t<=_?x={x:0,y:0}:(e>g||t>_)&&(x=(0,fe.Z)((0,fe.Z)({},IT("x",o,e,g)),IT("y",i,t,_))),x}var kv=1,sz=1;function lz(e,t,o,i,u,g,_){var x=u.rotate,S=u.scale,T=u.x,M=u.y,R=(0,s.useState)(!1),N=(0,ve.Z)(R,2),F=N[0],B=N[1],V=(0,s.useRef)({diffX:0,diffY:0,transformX:0,transformY:0}),j=function(q){!t||q.button!==0||(q.preventDefault(),q.stopPropagation(),V.current={diffX:q.pageX-T,diffY:q.pageY-M,transformX:T,transformY:M},B(!0))},H=function(q){o&&F&&g({x:q.pageX-V.current.diffX,y:q.pageY-V.current.diffY},"move")},U=function(){if(o&&F){B(!1);var q=V.current,Q=q.transformX,re=q.transformY,ae=T!==Q&&M!==re;if(!ae)return;var se=e.current.offsetWidth*S,de=e.current.offsetHeight*S,pe=e.current.getBoundingClientRect(),ge=pe.left,me=pe.top,be=x%180!==0,_e=TT(be?de:se,be?se:de,ge,me);_e&&g((0,fe.Z)({},_e),"dragRebound")}},K=function(q){if(!(!o||q.deltaY==0)){var Q=Math.abs(q.deltaY/100),re=Math.min(Q,sz),ae=kv+re*i;q.deltaY>0&&(ae=kv/ae),_(ae,"wheel",q.clientX,q.clientY)}};return(0,s.useEffect)(function(){var Y,q,Q,re;if(t){Q=Sm(window,"mouseup",U,!1),re=Sm(window,"mousemove",H,!1);try{window.top!==window.self&&(Y=Sm(window.top,"mouseup",U,!1),q=Sm(window.top,"mousemove",H,!1))}catch(ae){(0,zl.Kp)(!1,"[rc-image] ".concat(ae))}}return function(){var ae,se,de,pe;(ae=Q)===null||ae===void 0||ae.remove(),(se=re)===null||se===void 0||se.remove(),(de=Y)===null||de===void 0||de.remove(),(pe=q)===null||pe===void 0||pe.remove()}},[o,F,T,M,x,t]),{isMoving:F,onMouseDown:j,onMouseMove:H,onMouseUp:U,onWheel:K}}function cz(e){return new Promise(function(t){var o=document.createElement("img");o.onerror=function(){return t(!1)},o.onload=function(){return t(!0)},o.src=e})}function MT(e){var t=e.src,o=e.isCustomPlaceholder,i=e.fallback,u=(0,s.useState)(o?"loading":"normal"),g=(0,ve.Z)(u,2),_=g[0],x=g[1],S=(0,s.useRef)(!1),T=_==="error";(0,s.useEffect)(function(){var F=!0;return cz(t).then(function(B){!B&&F&&x("error")}),function(){F=!1}},[t]),(0,s.useEffect)(function(){o&&!S.current?x("loading"):T&&x("normal")},[t]);var M=function(){x("normal")},R=function(B){S.current=!1,_==="loading"&&B!==null&&B!==void 0&&B.complete&&(B.naturalWidth||B.naturalHeight)&&(S.current=!0,M())},N=T&&i?{src:i}:{onLoad:M,src:t};return[R,N,_]}function Xx(e,t){var o=e.x-t.x,i=e.y-t.y;return Math.hypot(o,i)}function uz(e,t,o,i){var u=Xx(e,o),g=Xx(t,i);if(u===0&&g===0)return[e.x,e.y];var _=u/(u+g),x=e.x+_*(t.x-e.x),S=e.y+_*(t.y-e.y);return[x,S]}function dz(e,t,o,i,u,g,_){var x=u.rotate,S=u.scale,T=u.x,M=u.y,R=(0,s.useState)(!1),N=(0,ve.Z)(R,2),F=N[0],B=N[1],V=(0,s.useRef)({point1:{x:0,y:0},point2:{x:0,y:0},eventType:"none"}),j=function(q){V.current=(0,fe.Z)((0,fe.Z)({},V.current),q)},H=function(q){if(t){q.stopPropagation(),B(!0);var Q=q.touches,re=Q===void 0?[]:Q;re.length>1?j({point1:{x:re[0].clientX,y:re[0].clientY},point2:{x:re[1].clientX,y:re[1].clientY},eventType:"touchZoom"}):j({point1:{x:re[0].clientX-T,y:re[0].clientY-M},eventType:"move"})}},U=function(q){var Q=q.touches,re=Q===void 0?[]:Q,ae=V.current,se=ae.point1,de=ae.point2,pe=ae.eventType;if(re.length>1&&pe==="touchZoom"){var ge={x:re[0].clientX,y:re[0].clientY},me={x:re[1].clientX,y:re[1].clientY},be=uz(se,de,ge,me),_e=(0,ve.Z)(be,2),Ie=_e[0],Ce=_e[1],Le=Xx(ge,me)/Xx(se,de);_(Le,"touchZoom",Ie,Ce,!0),j({point1:ge,point2:me,eventType:"touchZoom"})}else pe==="move"&&(g({x:re[0].clientX-se.x,y:re[0].clientY-se.y},"move"),j({eventType:"move"}))},K=function(){if(o){if(F&&B(!1),j({eventType:"none"}),i>S)return g({x:0,y:0,scale:i},"touchZoom");var q=e.current.offsetWidth*S,Q=e.current.offsetHeight*S,re=e.current.getBoundingClientRect(),ae=re.left,se=re.top,de=x%180!==0,pe=TT(de?Q:q,de?q:Q,ae,se);pe&&g((0,fe.Z)({},pe),"dragRebound")}};return(0,s.useEffect)(function(){var Y;return o&&t&&(Y=Sm(window,"touchmove",function(q){return q.preventDefault()},{passive:!1})),function(){var q;(q=Y)===null||q===void 0||q.remove()}},[o,t]),{isTouching:F,onTouchStart:H,onTouchMove:U,onTouchEnd:K}}var fz=["fallback","src","imgRef"],hz=["prefixCls","src","alt","imageInfo","fallback","movable","onClose","visible","icons","rootClassName","closeIcon","getContainer","current","count","countRender","scaleStep","minScale","maxScale","transitionName","maskTransitionName","imageRender","imgCommonProps","toolbarRender","onTransform","onChange"],pz=function(t){var o=t.fallback,i=t.src,u=t.imgRef,g=(0,Ve.Z)(t,fz),_=MT({src:i,fallback:o}),x=(0,ve.Z)(_,2),S=x[0],T=x[1];return s.createElement("img",(0,Pt.Z)({ref:function(R){u.current=R,S(R)}},g,T))},mz=function(t){var o=t.prefixCls,i=t.src,u=t.alt,g=t.imageInfo,_=t.fallback,x=t.movable,S=x===void 0?!0:x,T=t.onClose,M=t.visible,R=t.icons,N=R===void 0?{}:R,F=t.rootClassName,B=t.closeIcon,V=t.getContainer,j=t.current,H=j===void 0?0:j,U=t.count,K=U===void 0?1:U,Y=t.countRender,q=t.scaleStep,Q=q===void 0?.5:q,re=t.minScale,ae=re===void 0?1:re,se=t.maxScale,de=se===void 0?50:se,pe=t.transitionName,ge=pe===void 0?"zoom":pe,me=t.maskTransitionName,be=me===void 0?"fade":me,_e=t.imageRender,Ie=t.imgCommonProps,Ce=t.toolbarRender,Le=t.onTransform,ze=t.onChange,ke=(0,Ve.Z)(t,hz),Ze=(0,s.useRef)(),je=(0,s.useContext)(q_),Ue=je&&K>1,He=je&&K>=1,Qe=(0,s.useState)(!0),We=(0,ve.Z)(Qe,2),it=We[0],Je=We[1],wt=az(Ze,ae,de,Le),Dt=wt.transform,ct=wt.resetTransform,ht=wt.updateTransform,ut=wt.dispatchZoomChange,tt=lz(Ze,S,M,Q,Dt,ht,ut),xt=tt.isMoving,_t=tt.onMouseDown,dn=tt.onWheel,on=dz(Ze,S,M,ae,Dt,ht,ut),Ut=on.isTouching,en=on.onTouchStart,kt=on.onTouchMove,cn=on.onTouchEnd,zn=Dt.rotate,An=Dt.scale,sr=oe()((0,Ee.Z)({},"".concat(o,"-moving"),xt));(0,s.useEffect)(function(){it||Je(!0)},[it]);var yr=function(){ct("close")},Vr=function(){ut(kv+Q,"zoomIn")},Qn=function(){ut(kv/(kv+Q),"zoomOut")},Un=function(){ht({rotate:zn+90},"rotateRight")},er=function(){ht({rotate:zn-90},"rotateLeft")},Ir=function(){ht({flipX:!Dt.flipX},"flipX")},pr=function(){ht({flipY:!Dt.flipY},"flipY")},Zr=function(){ct("reset")},xn=function(Jr){var Hi=H+Jr;!Number.isInteger(Hi)||Hi<0||Hi>K-1||(Je(!1),ct(Jr<0?"prev":"next"),ze==null||ze(Hi,H))},fn=function(Jr){!M||!Ue||(Jr.keyCode===nt.Z.LEFT?xn(-1):Jr.keyCode===nt.Z.RIGHT&&xn(1))},yn=function(Jr){M&&(An!==1?ht({x:0,y:0,scale:1},"doubleClick"):ut(kv+Q,"doubleClick",Jr.clientX,Jr.clientY))};(0,s.useEffect)(function(){var vr=Sm(window,"keydown",fn,!1);return function(){vr.remove()}},[M,Ue,H]);var Gt=s.createElement(pz,(0,Pt.Z)({},Ie,{width:t.width,height:t.height,imgRef:Ze,className:"".concat(o,"-img"),alt:u,style:{transform:"translate3d(".concat(Dt.x,"px, ").concat(Dt.y,"px, 0) scale3d(").concat(Dt.flipX?"-":"").concat(An,", ").concat(Dt.flipY?"-":"").concat(An,", 1) rotate(").concat(zn,"deg)"),transitionDuration:(!it||Ut)&&"0s"},fallback:_,src:i,onWheel:dn,onMouseDown:_t,onDoubleClick:yn,onTouchStart:en,onTouchMove:kt,onTouchEnd:cn,onTouchCancel:cn})),Kn=(0,fe.Z)({url:i,alt:u},g);return s.createElement(s.Fragment,null,s.createElement(Zh,(0,Pt.Z)({transitionName:ge,maskTransitionName:be,closable:!1,keyboard:!0,prefixCls:o,onClose:T,visible:M,classNames:{wrapper:sr},rootClassName:F,getContainer:V},ke,{afterClose:yr}),s.createElement("div",{className:"".concat(o,"-img-wrapper")},_e?_e(Gt,(0,fe.Z)({transform:Dt,image:Kn},je?{current:H}:{})):Gt)),s.createElement(oz,{visible:M,transform:Dt,maskTransitionName:be,closeIcon:B,getContainer:V,prefixCls:o,rootClassName:F,icons:N,countRender:Y,showSwitch:Ue,showProgress:He,current:H,count:K,scale:An,minScale:ae,maxScale:de,toolbarRender:Ce,onActive:xn,onZoomIn:Vr,onZoomOut:Qn,onRotateRight:Un,onRotateLeft:er,onFlipX:Ir,onFlipY:pr,onClose:T,onReset:Zr,zIndex:ke.zIndex!==void 0?ke.zIndex+1:void 0,image:Kn}))},PT=mz,zS=["crossOrigin","decoding","draggable","loading","referrerPolicy","sizes","srcSet","useMap","alt"];function gz(e){var t=s.useState({}),o=(0,ve.Z)(t,2),i=o[0],u=o[1],g=s.useCallback(function(x,S){return u(function(T){return(0,fe.Z)((0,fe.Z)({},T),{},(0,Ee.Z)({},x,S))}),function(){u(function(T){var M=(0,fe.Z)({},T);return delete M[x],M})}},[]),_=s.useMemo(function(){return e?e.map(function(x){if(typeof x=="string")return{data:{src:x}};var S={};return Object.keys(x).forEach(function(T){["src"].concat((0,Be.Z)(zS)).includes(T)&&(S[T]=x[T])}),{data:S}}):Object.keys(i).reduce(function(x,S){var T=i[S],M=T.canPreview,R=T.data;return M&&x.push({data:R,id:S}),x},[])},[e,i]);return[_,g,!!e]}var vz=["visible","onVisibleChange","getContainer","current","movable","minScale","maxScale","countRender","closeIcon","onChange","onTransform","toolbarRender","imageRender"],yz=["src"],_z=function(t){var o,i=t.previewPrefixCls,u=i===void 0?"rc-image-preview":i,g=t.children,_=t.icons,x=_===void 0?{}:_,S=t.items,T=t.preview,M=t.fallback,R=(0,Tt.Z)(T)==="object"?T:{},N=R.visible,F=R.onVisibleChange,B=R.getContainer,V=R.current,j=R.movable,H=R.minScale,U=R.maxScale,K=R.countRender,Y=R.closeIcon,q=R.onChange,Q=R.onTransform,re=R.toolbarRender,ae=R.imageRender,se=(0,Ve.Z)(R,vz),de=gz(S),pe=(0,ve.Z)(de,3),ge=pe[0],me=pe[1],be=pe[2],_e=(0,Jo.Z)(0,{value:V}),Ie=(0,ve.Z)(_e,2),Ce=Ie[0],Le=Ie[1],ze=(0,s.useState)(!1),ke=(0,ve.Z)(ze,2),Ze=ke[0],je=ke[1],Ue=((o=ge[Ce])===null||o===void 0?void 0:o.data)||{},He=Ue.src,Qe=(0,Ve.Z)(Ue,yz),We=(0,Jo.Z)(!!N,{value:N,onChange:function(Ut,en){F==null||F(Ut,en,Ce)}}),it=(0,ve.Z)(We,2),Je=it[0],wt=it[1],Dt=(0,s.useState)(null),ct=(0,ve.Z)(Dt,2),ht=ct[0],ut=ct[1],tt=s.useCallback(function(on,Ut,en,kt){var cn=be?ge.findIndex(function(zn){return zn.data.src===Ut}):ge.findIndex(function(zn){return zn.id===on});Le(cn<0?0:cn),wt(!0),ut({x:en,y:kt}),je(!0)},[ge,be]);s.useEffect(function(){Je?Ze||Le(0):je(!1)},[Je]);var xt=function(Ut,en){Le(Ut),q==null||q(Ut,en)},_t=function(){wt(!1),ut(null)},dn=s.useMemo(function(){return{register:me,onPreview:tt}},[me,tt]);return s.createElement(q_.Provider,{value:dn},g,s.createElement(PT,(0,Pt.Z)({"aria-hidden":!Je,movable:j,visible:Je,prefixCls:u,closeIcon:Y,onClose:_t,mousePosition:ht,imgCommonProps:Qe,src:He,fallback:M,icons:x,minScale:H,maxScale:U,getContainer:B,current:Ce,count:ge.length,countRender:K,onTransform:Q,toolbarRender:re,imageRender:ae,onChange:xt},se)))},bz=_z,OT=0;function xz(e,t){var o=s.useState(function(){return OT+=1,String(OT)}),i=(0,ve.Z)(o,1),u=i[0],g=s.useContext(q_),_={data:t,canPreview:e};return s.useEffect(function(){if(g)return g.register(u,_)},[]),s.useEffect(function(){g&&g.register(u,_)},[e,t]),u}var Cz=["src","alt","onPreviewClose","prefixCls","previewPrefixCls","placeholder","fallback","width","height","style","preview","className","onClick","onError","wrapperClassName","wrapperStyle","rootClassName"],wz=["src","visible","onVisibleChange","getContainer","mask","maskClassName","movable","icons","scaleStep","minScale","maxScale","imageRender","toolbarRender"],$T=function(t){var o=t.src,i=t.alt,u=t.onPreviewClose,g=t.prefixCls,_=g===void 0?"rc-image":g,x=t.previewPrefixCls,S=x===void 0?"".concat(_,"-preview"):x,T=t.placeholder,M=t.fallback,R=t.width,N=t.height,F=t.style,B=t.preview,V=B===void 0?!0:B,j=t.className,H=t.onClick,U=t.onError,K=t.wrapperClassName,Y=t.wrapperStyle,q=t.rootClassName,Q=(0,Ve.Z)(t,Cz),re=T&&T!==!0,ae=(0,Tt.Z)(V)==="object"?V:{},se=ae.src,de=ae.visible,pe=de===void 0?void 0:de,ge=ae.onVisibleChange,me=ge===void 0?u:ge,be=ae.getContainer,_e=be===void 0?void 0:be,Ie=ae.mask,Ce=ae.maskClassName,Le=ae.movable,ze=ae.icons,ke=ae.scaleStep,Ze=ae.minScale,je=ae.maxScale,Ue=ae.imageRender,He=ae.toolbarRender,Qe=(0,Ve.Z)(ae,wz),We=se!=null?se:o,it=(0,Jo.Z)(!!pe,{value:pe,onChange:me}),Je=(0,ve.Z)(it,2),wt=Je[0],Dt=Je[1],ct=MT({src:o,isCustomPlaceholder:re,fallback:M}),ht=(0,ve.Z)(ct,3),ut=ht[0],tt=ht[1],xt=ht[2],_t=(0,s.useState)(null),dn=(0,ve.Z)(_t,2),on=dn[0],Ut=dn[1],en=(0,s.useContext)(q_),kt=!!V,cn=function(){Dt(!1),Ut(null)},zn=oe()(_,K,q,(0,Ee.Z)({},"".concat(_,"-error"),xt==="error")),An=(0,s.useMemo)(function(){var Qn={};return zS.forEach(function(Un){t[Un]!==void 0&&(Qn[Un]=t[Un])}),Qn},zS.map(function(Qn){return t[Qn]})),sr=(0,s.useMemo)(function(){return(0,fe.Z)((0,fe.Z)({},An),{},{src:We})},[We,An]),yr=xz(kt,sr),Vr=function(Un){var er=rz(Un.target),Ir=er.left,pr=er.top;en?en.onPreview(yr,We,Ir,pr):(Ut({x:Ir,y:pr}),Dt(!0)),H==null||H(Un)};return s.createElement(s.Fragment,null,s.createElement("div",(0,Pt.Z)({},Q,{className:zn,onClick:kt?Vr:H,style:(0,fe.Z)({width:R,height:N},Y)}),s.createElement("img",(0,Pt.Z)({},An,{className:oe()("".concat(_,"-img"),(0,Ee.Z)({},"".concat(_,"-img-placeholder"),T===!0),j),style:(0,fe.Z)({height:N},F),ref:ut},tt,{width:R,height:N,onError:U})),xt==="loading"&&s.createElement("div",{"aria-hidden":"true",className:"".concat(_,"-placeholder")},T),Ie&&kt&&s.createElement("div",{className:oe()("".concat(_,"-mask"),Ce),style:{display:(F==null?void 0:F.display)==="none"?"none":void 0}},Ie)),!en&&kt&&s.createElement(PT,(0,Pt.Z)({"aria-hidden":!wt,visible:wt,prefixCls:S,onClose:cn,mousePosition:on,src:We,alt:i,imageInfo:{width:R,height:N},fallback:M,getContainer:_e,icons:ze,movable:Le,scaleStep:ke,minScale:Ze,maxScale:je,rootClassName:q,imageRender:Ue,imgCommonProps:An,toolbarRender:He},Qe)))};$T.PreviewGroup=bz;var Sz=$T,RT=Sz,Ez={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"},Iz=Ez,Tz=function(t,o){return s.createElement(Fn.Z,(0,Pt.Z)({},t,{ref:o,icon:Iz}))},Mz=s.forwardRef(Tz),Pz=Mz,Oz={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"},$z=Oz,Rz=function(t,o){return s.createElement(Fn.Z,(0,Pt.Z)({},t,{ref:o,icon:$z}))},Az=s.forwardRef(Rz),Dz=Az,zz={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"swap",theme:"outlined"},Lz=zz,Nz=function(t,o){return s.createElement(Fn.Z,(0,Pt.Z)({},t,{ref:o,icon:Lz}))},Bz=s.forwardRef(Nz),AT=Bz,Fz={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"},kz=Fz,jz=function(t,o){return s.createElement(Fn.Z,(0,Pt.Z)({},t,{ref:o,icon:kz}))},Zz=s.forwardRef(jz),Vz=Zz,Hz={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"},Uz=Hz,Wz=function(t,o){return s.createElement(Fn.Z,(0,Pt.Z)({},t,{ref:o,icon:Uz}))},Gz=s.forwardRef(Wz),Xz=Gz;const LS=e=>({position:e||"absolute",inset:0}),qz=e=>{const{iconCls:t,motionDurationSlow:o,paddingXXS:i,marginXXS:u,prefixCls:g,colorTextLightSolid:_}=e;return{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:_,background:new Es.t("#000").setA(.5).toRgbString(),cursor:"pointer",opacity:0,transition:`opacity ${o}`,[`.${g}-mask-info`]:Object.assign(Object.assign({},mn.vS),{padding:`0 ${(0,J.bf)(i)}`,[t]:{marginInlineEnd:u,svg:{verticalAlign:"baseline"}}})}},Kz=e=>{const{previewCls:t,modalMaskBg:o,paddingSM:i,marginXL:u,margin:g,paddingLG:_,previewOperationColorDisabled:x,previewOperationHoverColor:S,motionDurationSlow:T,iconCls:M,colorTextLightSolid:R}=e,N=new Es.t(o).setA(.1),F=N.clone().setA(.2);return{[`${t}-footer`]:{position:"fixed",bottom:u,left:{_skip_check_:!0,value:"50%"},display:"flex",flexDirection:"column",alignItems:"center",color:e.previewOperationColor,transform:"translateX(-50%)"},[`${t}-progress`]:{marginBottom:g},[`${t}-close`]:{position:"fixed",top:u,right:{_skip_check_:!0,value:u},display:"flex",color:R,backgroundColor:N.toRgbString(),borderRadius:"50%",padding:i,outline:0,border:0,cursor:"pointer",transition:`all ${T}`,"&:hover":{backgroundColor:F.toRgbString()},[`& > ${M}`]:{fontSize:e.previewOperationSize}},[`${t}-operations`]:{display:"flex",alignItems:"center",padding:`0 ${(0,J.bf)(_)}`,backgroundColor:N.toRgbString(),borderRadius:100,"&-operation":{marginInlineStart:i,padding:i,cursor:"pointer",transition:`all ${T}`,userSelect:"none",[`&:not(${t}-operations-operation-disabled):hover > ${M}`]:{color:S},"&-disabled":{color:x,cursor:"not-allowed"},"&:first-of-type":{marginInlineStart:0},[`& > ${M}`]:{fontSize:e.previewOperationSize}}}}},Yz=e=>{const{modalMaskBg:t,iconCls:o,previewOperationColorDisabled:i,previewCls:u,zIndexPopup:g,motionDurationSlow:_}=e,x=new Es.t(t).setA(.1),S=x.clone().setA(.2);return{[`${u}-switch-left, ${u}-switch-right`]:{position:"fixed",insetBlockStart:"50%",zIndex:e.calc(g).add(1).equal(),display:"flex",alignItems:"center",justifyContent:"center",width:e.imagePreviewSwitchSize,height:e.imagePreviewSwitchSize,marginTop:e.calc(e.imagePreviewSwitchSize).mul(-1).div(2).equal(),color:e.previewOperationColor,background:x.toRgbString(),borderRadius:"50%",transform:"translateY(-50%)",cursor:"pointer",transition:`all ${_}`,userSelect:"none","&:hover":{background:S.toRgbString()},"&-disabled":{"&, &:hover":{color:i,background:"transparent",cursor:"not-allowed",[`> ${o}`]:{cursor:"not-allowed"}}},[`> ${o}`]:{fontSize:e.previewOperationSize}},[`${u}-switch-left`]:{insetInlineStart:e.marginSM},[`${u}-switch-right`]:{insetInlineEnd:e.marginSM}}},Jz=e=>{const{motionEaseOut:t,previewCls:o,motionDurationSlow:i,componentCls:u}=e;return[{[`${u}-preview-root`]:{[o]:{height:"100%",textAlign:"center",pointerEvents:"none"},[`${o}-body`]:Object.assign(Object.assign({},LS()),{overflow:"hidden"}),[`${o}-img`]:{maxWidth:"100%",maxHeight:"70%",verticalAlign:"middle",transform:"scale3d(1, 1, 1)",cursor:"grab",transition:`transform ${i} ${t} 0s`,userSelect:"none","&-wrapper":Object.assign(Object.assign({},LS()),{transition:`transform ${i} ${t} 0s`,display:"flex",justifyContent:"center",alignItems:"center","& > *":{pointerEvents:"auto"},"&::before":{display:"inline-block",width:1,height:"50%",marginInlineEnd:-1,content:'""'}})},[`${o}-moving`]:{[`${o}-preview-img`]:{cursor:"grabbing","&-wrapper":{transitionDuration:"0s"}}}}},{[`${u}-preview-root`]:{[`${o}-wrap`]:{zIndex:e.zIndexPopup}}},{[`${u}-preview-operations-wrapper`]:{position:"fixed",zIndex:e.calc(e.zIndexPopup).add(1).equal()},"&":[Kz(e),Yz(e)]}]},Qz=e=>{const{componentCls:t}=e;return{[t]:{position:"relative",display:"inline-block",[`${t}-img`]:{width:"100%",height:"auto",verticalAlign:"middle"},[`${t}-img-placeholder`]:{backgroundColor:e.colorBgContainerDisabled,backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTQuNSAyLjVoLTEzQS41LjUgMCAwIDAgMSAzdjEwYS41LjUgMCAwIDAgLjUuNWgxM2EuNS41IDAgMCAwIC41LS41VjNhLjUuNSAwIDAgMC0uNS0uNXpNNS4yODEgNC43NWExIDEgMCAwIDEgMCAyIDEgMSAwIDAgMSAwLTJ6bTguMDMgNi44M2EuMTI3LjEyNyAwIDAgMS0uMDgxLjAzSDIuNzY5YS4xMjUuMTI1IDAgMCAxLS4wOTYtLjIwN2wyLjY2MS0zLjE1NmEuMTI2LjEyNiAwIDAgMSAuMTc3LS4wMTZsLjAxNi4wMTZMNy4wOCAxMC4wOWwyLjQ3LTIuOTNhLjEyNi4xMjYgMCAwIDEgLjE3Ny0uMDE2bC4wMTUuMDE2IDMuNTg4IDQuMjQ0YS4xMjcuMTI3IDAgMCAxLS4wMi4xNzV6IiBmaWxsPSIjOEM4QzhDIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=')",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"30%"},[`${t}-mask`]:Object.assign({},qz(e)),[`${t}-mask:hover`]:{opacity:1},[`${t}-placeholder`]:Object.assign({},LS())}}},e5=e=>{const{previewCls:t}=e;return{[`${t}-root`]:(0,Yu._y)(e,"zoom"),"&":wd(e,!0)}},t5=e=>({zIndexPopup:e.zIndexPopupBase+80,previewOperationColor:new Es.t(e.colorTextLightSolid).setA(.65).toRgbString(),previewOperationHoverColor:new Es.t(e.colorTextLightSolid).setA(.85).toRgbString(),previewOperationColorDisabled:new Es.t(e.colorTextLightSolid).setA(.25).toRgbString(),previewOperationSize:e.fontSizeIcon*1.5});var DT=(0,Ae.I$)("Image",e=>{const t=`${e.componentCls}-preview`,o=(0,vn.IX)(e,{previewCls:t,modalMaskBg:new Es.t("#000").setA(.45).toRgbString(),imagePreviewSwitchSize:e.controlHeightLG});return[Qz(o),Jz(o),Gf((0,vn.IX)(o,{componentCls:t})),e5(o)]},t5),n5=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};const zT={rotateLeft:s.createElement(Pz,null),rotateRight:s.createElement(Dz,null),zoomIn:s.createElement(Vz,null),zoomOut:s.createElement(Xz,null),close:s.createElement(nr,null),left:s.createElement(nd,null),right:s.createElement(Pc,null),flipX:s.createElement(AT,null),flipY:s.createElement(AT,{rotate:90})};var r5=e=>{var{previewPrefixCls:t,preview:o}=e,i=n5(e,["previewPrefixCls","preview"]);const{getPrefixCls:u}=s.useContext(De.E_),g=u("image",t),_=`${g}-preview`,x=u(),S=(0,po.Z)(g),[T,M,R]=DT(g,S),[N]=(0,Io.Cn)("ImagePreview",typeof o=="object"?o.zIndex:void 0),F=s.useMemo(()=>{var B;if(o===!1)return o;const V=typeof o=="object"?o:{},j=oe()(M,R,S,(B=V.rootClassName)!==null&&B!==void 0?B:"");return Object.assign(Object.assign({},V),{transitionName:(0,Bi.m)(x,"zoom",V.transitionName),maskTransitionName:(0,Bi.m)(x,"fade",V.maskTransitionName),rootClassName:j,zIndex:N})},[o]);return T(s.createElement(RT.PreviewGroup,Object.assign({preview:F,previewPrefixCls:_,icons:zT},i)))},LT=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};const NT=e=>{const{prefixCls:t,preview:o,className:i,rootClassName:u,style:g}=e,_=LT(e,["prefixCls","preview","className","rootClassName","style"]),{getPrefixCls:x,getPopupContainer:S,className:T,style:M,preview:R}=(0,De.dj)("image"),[N]=(0,Pr.Z)("Image"),F=x("image",t),B=x(),V=(0,po.Z)(F),[j,H,U]=DT(F,V),K=oe()(u,H,U,V),Y=oe()(i,H,T),[q]=(0,Io.Cn)("ImagePreview",typeof o=="object"?o.zIndex:void 0),Q=s.useMemo(()=>{if(o===!1)return o;const ae=typeof o=="object"?o:{},{getContainer:se,closeIcon:de,rootClassName:pe}=ae,ge=LT(ae,["getContainer","closeIcon","rootClassName"]);return Object.assign(Object.assign({mask:s.createElement("div",{className:`${F}-mask-info`},s.createElement(AS,null),N==null?void 0:N.preview),icons:zT},ge),{rootClassName:oe()(K,pe),getContainer:se!=null?se:S,transitionName:(0,Bi.m)(B,"zoom",ae.transitionName),maskTransitionName:(0,Bi.m)(B,"fade",ae.maskTransitionName),zIndex:q,closeIcon:de!=null?de:R==null?void 0:R.closeIcon})},[o,N,R==null?void 0:R.closeIcon]),re=Object.assign(Object.assign({},M),g);return j(s.createElement(RT,Object.assign({prefixCls:F,preview:Q,rootClassName:K,className:Y,style:re},_)))};NT.PreviewGroup=r5;var i5=NT,o5=e=>{const{getPrefixCls:t,direction:o}=(0,s.useContext)(De.E_),{prefixCls:i,className:u}=e,g=t("input-group",i),_=t("input"),[x,S,T]=(0,Sh.ZP)(_),M=oe()(g,T,{[`${g}-lg`]:e.size==="large",[`${g}-sm`]:e.size==="small",[`${g}-compact`]:e.compact,[`${g}-rtl`]:o==="rtl"},S,u),R=(0,s.useContext)(gc.aM),N=(0,s.useMemo)(()=>Object.assign(Object.assign({},R),{isFormItemInput:!1}),[R]);return x(s.createElement("span",{className:M,style:e.style,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},s.createElement(gc.aM.Provider,{value:N},e.children)))};const a5=e=>{const{componentCls:t,paddingXS:o}=e;return{[t]:{display:"inline-flex",alignItems:"center",flexWrap:"nowrap",columnGap:o,"&-rtl":{direction:"rtl"},[`${t}-input`]:{textAlign:"center",paddingInline:e.paddingXXS},[`&${t}-sm ${t}-input`]:{paddingInline:e.calc(e.paddingXXS).div(2).equal()},[`&${t}-lg ${t}-input`]:{paddingInline:e.paddingXS}}}};var s5=(0,Ae.I$)(["Input","OTP"],e=>{const t=(0,vn.IX)(e,(0,sd.e)(e));return[a5(t)]},sd.T),l5=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o},c5=s.forwardRef((e,t)=>{const{value:o,onChange:i,onActiveChange:u,index:g,mask:_}=e,x=l5(e,["value","onChange","onActiveChange","index","mask"]),S=o&&typeof _=="string"?_:o,T=B=>{i(g,B.target.value)},M=s.useRef(null);s.useImperativeHandle(t,()=>M.current);const R=()=>{(0,lt.Z)(()=>{var B;const V=(B=M.current)===null||B===void 0?void 0:B.input;document.activeElement===V&&V&&V.select()})},N=B=>{const{key:V,ctrlKey:j,metaKey:H}=B;V==="ArrowLeft"?u(g-1):V==="ArrowRight"?u(g+1):V==="z"&&(j||H)&&B.preventDefault(),R()},F=B=>{B.key==="Backspace"&&!o&&u(g-1),R()};return s.createElement(t0,Object.assign({type:_===!0?"password":"text"},x,{ref:M,value:S,onInput:T,onFocus:R,onKeyDown:N,onKeyUp:F,onMouseDown:R,onMouseUp:R}))}),u5=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};function qx(e){return(e||"").split("")}const d5=e=>{const{index:t,prefixCls:o,separator:i}=e,u=typeof i=="function"?i(t):i;return u?s.createElement("span",{className:`${o}-separator`},u):null};var f5=s.forwardRef((e,t)=>{const{prefixCls:o,length:i=6,size:u,defaultValue:g,value:_,onChange:x,formatter:S,separator:T,variant:M,disabled:R,status:N,autoFocus:F,mask:B,type:V,onInput:j,inputMode:H}=e,U=u5(e,["prefixCls","length","size","defaultValue","value","onChange","formatter","separator","variant","disabled","status","autoFocus","mask","type","onInput","inputMode"]),{getPrefixCls:K,direction:Y}=s.useContext(De.E_),q=K("otp",o),Q=(0,ir.Z)(U,{aria:!0,data:!0,attr:!0}),[re,ae,se]=s5(q),de=(0,Ts.Z)(He=>u!=null?u:He),pe=s.useContext(gc.aM),ge=(0,Il.F)(pe.status,N),me=s.useMemo(()=>Object.assign(Object.assign({},pe),{status:ge,hasFeedback:!1,feedbackIcon:null}),[pe,ge]),be=s.useRef(null),_e=s.useRef({});s.useImperativeHandle(t,()=>({focus:()=>{var He;(He=_e.current[0])===null||He===void 0||He.focus()},blur:()=>{var He;for(let Qe=0;Qe<i;Qe+=1)(He=_e.current[Qe])===null||He===void 0||He.blur()},nativeElement:be.current}));const Ie=He=>S?S(He):He,[Ce,Le]=s.useState(()=>qx(Ie(g||"")));s.useEffect(()=>{_!==void 0&&Le(qx(_))},[_]);const ze=(0,Or.Z)(He=>{Le(He),j&&j(He),x&&He.length===i&&He.every(Qe=>Qe)&&He.some((Qe,We)=>Ce[We]!==Qe)&&x(He.join(""))}),ke=(0,Or.Z)((He,Qe)=>{let We=(0,Be.Z)(Ce);for(let Je=0;Je<He;Je+=1)We[Je]||(We[Je]="");Qe.length<=1?We[He]=Qe:We=We.slice(0,He).concat(qx(Qe)),We=We.slice(0,i);for(let Je=We.length-1;Je>=0&&!We[Je];Je-=1)We.pop();const it=Ie(We.map(Je=>Je||" ").join(""));return We=qx(it).map((Je,wt)=>Je===" "&&!We[wt]?We[wt]:Je),We}),Ze=(He,Qe)=>{var We;const it=ke(He,Qe),Je=Math.min(He+Qe.length,i-1);Je!==He&&it[He]!==void 0&&((We=_e.current[Je])===null||We===void 0||We.focus()),ze(it)},je=He=>{var Qe;(Qe=_e.current[He])===null||Qe===void 0||Qe.focus()},Ue={variant:M,disabled:R,status:ge,mask:B,type:V,inputMode:H};return re(s.createElement("div",Object.assign({},Q,{ref:be,className:oe()(q,{[`${q}-sm`]:de==="small",[`${q}-lg`]:de==="large",[`${q}-rtl`]:Y==="rtl"},se,ae)}),s.createElement(gc.aM.Provider,{value:me},Array.from({length:i}).map((He,Qe)=>{const We=`otp-${Qe}`,it=Ce[Qe]||"";return s.createElement(s.Fragment,{key:We},s.createElement(c5,Object.assign({ref:Je=>{_e.current[Qe]=Je},index:Qe,size:de,htmlSize:1,className:`${q}-input`,onChange:Ze,value:it,onActiveChange:je,autoFocus:Qe===0&&F},Ue)),Qe<i-1&&s.createElement(d5,{separator:T,index:Qe,prefixCls:q}))}))))}),h5={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},p5=h5,m5=function(t,o){return s.createElement(Fn.Z,(0,Pt.Z)({},t,{ref:o,icon:p5}))},g5=s.forwardRef(m5),v5=g5,y5=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};const _5=e=>e?s.createElement(AS,null):s.createElement(v5,null),b5={click:"onClick",hover:"onMouseOver"};var x5=s.forwardRef((e,t)=>{const{disabled:o,action:i="click",visibilityToggle:u=!0,iconRender:g=_5}=e,_=s.useContext(Ds.Z),x=o!=null?o:_,S=typeof u=="object"&&u.visible!==void 0,[T,M]=(0,s.useState)(()=>S?u.visible:!1),R=(0,s.useRef)(null);s.useEffect(()=>{S&&M(u.visible)},[S,u]);const N=bI(R),F=()=>{var de;if(x)return;T&&N();const pe=!T;M(pe),typeof u=="object"&&((de=u.onVisibleChange)===null||de===void 0||de.call(u,pe))},B=de=>{const pe=b5[i]||"",ge=g(T),me={[pe]:F,className:`${de}-icon`,key:"passwordIcon",onMouseDown:be=>{be.preventDefault()},onMouseUp:be=>{be.preventDefault()}};return s.cloneElement(s.isValidElement(ge)?ge:s.createElement("span",null,ge),me)},{className:V,prefixCls:j,inputPrefixCls:H,size:U}=e,K=y5(e,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:Y}=s.useContext(De.E_),q=Y("input",H),Q=Y("input-password",j),re=u&&B(Q),ae=oe()(Q,V,{[`${Q}-${U}`]:!!U}),se=Object.assign(Object.assign({},(0,Er.Z)(K,["suffix","iconRender","visibilityToggle"])),{type:T?"text":"password",className:ae,prefixCls:q,suffix:re});return U&&(se.size=U),s.createElement(t0,Object.assign({ref:(0,zr.sQ)(t,R)},se))}),C5=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o},w5=s.forwardRef((e,t)=>{const{prefixCls:o,inputPrefixCls:i,className:u,size:g,suffix:_,enterButton:x=!1,addonAfter:S,loading:T,disabled:M,onSearch:R,onChange:N,onCompositionStart:F,onCompositionEnd:B}=e,V=C5(e,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),{getPrefixCls:j,direction:H}=s.useContext(De.E_),U=s.useRef(!1),K=j("input-search",o),Y=j("input",i),{compactSize:q}=(0,yl.ri)(K,H),Q=(0,Ts.Z)(Ze=>{var je;return(je=g!=null?g:q)!==null&&je!==void 0?je:Ze}),re=s.useRef(null),ae=Ze=>{Ze!=null&&Ze.target&&Ze.type==="click"&&R&&R(Ze.target.value,Ze,{source:"clear"}),N==null||N(Ze)},se=Ze=>{var je;document.activeElement===((je=re.current)===null||je===void 0?void 0:je.input)&&Ze.preventDefault()},de=Ze=>{var je,Ue;R&&R((Ue=(je=re.current)===null||je===void 0?void 0:je.input)===null||Ue===void 0?void 0:Ue.value,Ze,{source:"input"})},pe=Ze=>{U.current||T||de(Ze)},ge=typeof x=="boolean"?s.createElement(Z0,null):null,me=`${K}-button`;let be;const _e=x||{},Ie=_e.type&&_e.type.__ANT_BUTTON===!0;Ie||_e.type==="button"?be=(0,wr.Tm)(_e,Object.assign({onMouseDown:se,onClick:Ze=>{var je,Ue;(Ue=(je=_e==null?void 0:_e.props)===null||je===void 0?void 0:je.onClick)===null||Ue===void 0||Ue.call(je,Ze),de(Ze)},key:"enterButton"},Ie?{className:me,size:Q}:{})):be=s.createElement(Xl,{className:me,type:x?"primary":void 0,size:Q,disabled:M,key:"enterButton",onMouseDown:se,onClick:de,loading:T,icon:ge},x),S&&(be=[be,(0,wr.Tm)(S,{key:"addonAfter"})]);const Ce=oe()(K,{[`${K}-rtl`]:H==="rtl",[`${K}-${Q}`]:!!Q,[`${K}-with-button`]:!!x},u),Le=Object.assign(Object.assign({},V),{className:Ce,prefixCls:Y,type:"search"}),ze=Ze=>{U.current=!0,F==null||F(Ze)},ke=Ze=>{U.current=!1,B==null||B(Ze)};return s.createElement(t0,Object.assign({ref:(0,zr.sQ)(re,t),onPressEnter:pe},Le,{size:Q,onCompositionStart:ze,onCompositionEnd:ke,addonAfter:be,suffix:_,onChange:ae,disabled:M}))}),S5=he(88555),NS=he(68677),E5=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
  pointer-events: none !important;
`,I5=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],BS={},ld;function T5(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&BS[o])return BS[o];var i=window.getComputedStyle(e),u=i.getPropertyValue("box-sizing")||i.getPropertyValue("-moz-box-sizing")||i.getPropertyValue("-webkit-box-sizing"),g=parseFloat(i.getPropertyValue("padding-bottom"))+parseFloat(i.getPropertyValue("padding-top")),_=parseFloat(i.getPropertyValue("border-bottom-width"))+parseFloat(i.getPropertyValue("border-top-width")),x=I5.map(function(T){return"".concat(T,":").concat(i.getPropertyValue(T))}).join(";"),S={sizingStyle:x,paddingSize:g,borderSize:_,boxSizing:u};return t&&o&&(BS[o]=S),S}function M5(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;ld||(ld=document.createElement("textarea"),ld.setAttribute("tab-index","-1"),ld.setAttribute("aria-hidden","true"),ld.setAttribute("name","hiddenTextarea"),document.body.appendChild(ld)),e.getAttribute("wrap")?ld.setAttribute("wrap",e.getAttribute("wrap")):ld.removeAttribute("wrap");var u=T5(e,t),g=u.paddingSize,_=u.borderSize,x=u.boxSizing,S=u.sizingStyle;ld.setAttribute("style","".concat(S,";").concat(E5)),ld.value=e.value||e.placeholder||"";var T=void 0,M=void 0,R,N=ld.scrollHeight;if(x==="border-box"?N+=_:x==="content-box"&&(N-=g),o!==null||i!==null){ld.value=" ";var F=ld.scrollHeight-g;o!==null&&(T=F*o,x==="border-box"&&(T=T+g+_),N=Math.max(T,N)),i!==null&&(M=F*i,x==="border-box"&&(M=M+g+_),R=N>M?"":"hidden",N=Math.min(M,N))}var B={height:N,overflowY:R,resize:"none"};return T&&(B.minHeight=T),M&&(B.maxHeight=M),B}var P5=["prefixCls","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],FS=0,kS=1,jS=2,O5=s.forwardRef(function(e,t){var o=e,i=o.prefixCls,u=o.defaultValue,g=o.value,_=o.autoSize,x=o.onResize,S=o.className,T=o.style,M=o.disabled,R=o.onChange,N=o.onInternalAutoSize,F=(0,Ve.Z)(o,P5),B=(0,Jo.Z)(u,{value:g,postState:function(Qe){return Qe!=null?Qe:""}}),V=(0,ve.Z)(B,2),j=V[0],H=V[1],U=function(Qe){H(Qe.target.value),R==null||R(Qe)},K=s.useRef();s.useImperativeHandle(t,function(){return{textArea:K.current}});var Y=s.useMemo(function(){return _&&(0,Tt.Z)(_)==="object"?[_.minRows,_.maxRows]:[]},[_]),q=(0,ve.Z)(Y,2),Q=q[0],re=q[1],ae=!!_,se=function(){try{if(document.activeElement===K.current){var Qe=K.current,We=Qe.selectionStart,it=Qe.selectionEnd,Je=Qe.scrollTop;K.current.setSelectionRange(We,it),K.current.scrollTop=Je}}catch(wt){}},de=s.useState(jS),pe=(0,ve.Z)(de,2),ge=pe[0],me=pe[1],be=s.useState(),_e=(0,ve.Z)(be,2),Ie=_e[0],Ce=_e[1],Le=function(){me(FS)};(0,yt.Z)(function(){ae&&Le()},[g,Q,re,ae]),(0,yt.Z)(function(){if(ge===FS)me(kS);else if(ge===kS){var He=M5(K.current,!1,Q,re);me(jS),Ce(He)}else se()},[ge]);var ze=s.useRef(),ke=function(){lt.Z.cancel(ze.current)},Ze=function(Qe){ge===jS&&(x==null||x(Qe),_&&(ke(),ze.current=(0,lt.Z)(function(){Le()})))};s.useEffect(function(){return ke},[]);var je=ae?Ie:null,Ue=(0,fe.Z)((0,fe.Z)({},T),je);return(ge===FS||ge===kS)&&(Ue.overflowY="hidden",Ue.overflowX="hidden"),s.createElement(d.Z,{onResize:Ze,disabled:!(_||x)},s.createElement("textarea",(0,Pt.Z)({},F,{ref:K,style:Ue,className:oe()(i,S,(0,Ee.Z)({},"".concat(i,"-disabled"),M)),disabled:M,value:j,onChange:U})))}),$5=O5,R5=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","showCount","count","className","style","disabled","hidden","classNames","styles","onResize","onClear","onPressEnter","readOnly","autoSize","onKeyDown"],A5=s.forwardRef(function(e,t){var o,i=e.defaultValue,u=e.value,g=e.onFocus,_=e.onBlur,x=e.onChange,S=e.allowClear,T=e.maxLength,M=e.onCompositionStart,R=e.onCompositionEnd,N=e.suffix,F=e.prefixCls,B=F===void 0?"rc-textarea":F,V=e.showCount,j=e.count,H=e.className,U=e.style,K=e.disabled,Y=e.hidden,q=e.classNames,Q=e.styles,re=e.onResize,ae=e.onClear,se=e.onPressEnter,de=e.readOnly,pe=e.autoSize,ge=e.onKeyDown,me=(0,Ve.Z)(e,R5),be=(0,Jo.Z)(i,{value:u,defaultValue:i}),_e=(0,ve.Z)(be,2),Ie=_e[0],Ce=_e[1],Le=Ie==null?"":String(Ie),ze=s.useState(!1),ke=(0,ve.Z)(ze,2),Ze=ke[0],je=ke[1],Ue=s.useRef(!1),He=s.useState(null),Qe=(0,ve.Z)(He,2),We=Qe[0],it=Qe[1],Je=(0,s.useRef)(null),wt=(0,s.useRef)(null),Dt=function(){var xn;return(xn=wt.current)===null||xn===void 0?void 0:xn.textArea},ct=function(){Dt().focus()};(0,s.useImperativeHandle)(t,function(){var Zr;return{resizableTextArea:wt.current,focus:ct,blur:function(){Dt().blur()},nativeElement:((Zr=Je.current)===null||Zr===void 0?void 0:Zr.nativeElement)||Dt()}}),(0,s.useEffect)(function(){je(function(Zr){return!K&&Zr})},[K]);var ht=s.useState(null),ut=(0,ve.Z)(ht,2),tt=ut[0],xt=ut[1];s.useEffect(function(){if(tt){var Zr;(Zr=Dt()).setSelectionRange.apply(Zr,(0,Be.Z)(tt))}},[tt]);var _t=(0,S5.Z)(j,V),dn=(o=_t.max)!==null&&o!==void 0?o:T,on=Number(dn)>0,Ut=_t.strategy(Le),en=!!dn&&Ut>dn,kt=function(xn,fn){var yn=fn;!Ue.current&&_t.exceedFormatter&&_t.max&&_t.strategy(fn)>_t.max&&(yn=_t.exceedFormatter(fn,{max:_t.max}),fn!==yn&&xt([Dt().selectionStart||0,Dt().selectionEnd||0])),Ce(yn),(0,NS.rJ)(xn.currentTarget,xn,x,yn)},cn=function(xn){Ue.current=!0,M==null||M(xn)},zn=function(xn){Ue.current=!1,kt(xn,xn.currentTarget.value),R==null||R(xn)},An=function(xn){kt(xn,xn.target.value)},sr=function(xn){xn.key==="Enter"&&se&&se(xn),ge==null||ge(xn)},yr=function(xn){je(!0),g==null||g(xn)},Vr=function(xn){je(!1),_==null||_(xn)},Qn=function(xn){Ce(""),ct(),(0,NS.rJ)(Dt(),xn,x)},Un=N,er;_t.show&&(_t.showFormatter?er=_t.showFormatter({value:Le,count:Ut,maxLength:dn}):er="".concat(Ut).concat(on?" / ".concat(dn):""),Un=s.createElement(s.Fragment,null,Un,s.createElement("span",{className:oe()("".concat(B,"-data-count"),q==null?void 0:q.count),style:Q==null?void 0:Q.count},er)));var Ir=function(xn){var fn;re==null||re(xn),(fn=Dt())!==null&&fn!==void 0&&fn.style.height&&it(!0)},pr=!pe&&!V&&!S;return s.createElement(xS.Q,{ref:Je,value:Le,allowClear:S,handleReset:Qn,suffix:Un,prefixCls:B,classNames:(0,fe.Z)((0,fe.Z)({},q),{},{affixWrapper:oe()(q==null?void 0:q.affixWrapper,(0,Ee.Z)((0,Ee.Z)({},"".concat(B,"-show-count"),V),"".concat(B,"-textarea-allow-clear"),S))}),disabled:K,focused:Ze,className:oe()(H,en&&"".concat(B,"-out-of-range")),style:(0,fe.Z)((0,fe.Z)({},U),We&&!pr?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":typeof er=="string"?er:void 0}},hidden:Y,readOnly:de,onClear:ae},s.createElement($5,(0,Pt.Z)({},me,{autoSize:pe,maxLength:T,onKeyDown:sr,onChange:An,onFocus:yr,onBlur:Vr,onCompositionStart:cn,onCompositionEnd:zn,className:oe()(q==null?void 0:q.textarea),style:(0,fe.Z)((0,fe.Z)({},Q==null?void 0:Q.textarea),{},{resize:U==null?void 0:U.resize}),disabled:K,prefixCls:B,onResize:Ir,ref:wt,readOnly:de})))}),D5=A5,BT=D5;const z5=e=>{const{componentCls:t,paddingLG:o}=e,i=`${t}-textarea`;return{[i]:{position:"relative","&-show-count":{[`> ${t}`]:{height:"100%"},[`${t}-data-count`]:{position:"absolute",bottom:e.calc(e.fontSize).mul(e.lineHeight).mul(-1).equal(),insetInlineEnd:0,color:e.colorTextDescription,whiteSpace:"nowrap",pointerEvents:"none"}},[`
        &-allow-clear > ${t},
        &-affix-wrapper${i}-has-feedback ${t}
      `]:{paddingInlineEnd:o},[`&-affix-wrapper${t}-affix-wrapper`]:{padding:0,[`> textarea${t}`]:{fontSize:"inherit",border:"none",outline:"none",background:"transparent",minHeight:e.calc(e.controlHeight).sub(e.calc(e.lineWidth).mul(2)).equal(),"&:focus":{boxShadow:"none !important"}},[`${t}-suffix`]:{margin:0,"> *:not(:last-child)":{marginInline:0},[`${t}-clear-icon`]:{position:"absolute",insetInlineEnd:e.paddingInline,insetBlockStart:e.paddingXS},[`${i}-suffix`]:{position:"absolute",top:0,insetInlineEnd:e.paddingInline,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto",pointerEvents:"none"}}},[`&-affix-wrapper${t}-affix-wrapper-sm`]:{[`${t}-suffix`]:{[`${t}-clear-icon`]:{insetInlineEnd:e.paddingInlineSM}}}}}};var L5=(0,Ae.I$)(["Input","TextArea"],e=>{const t=(0,vn.IX)(e,(0,sd.e)(e));return[z5(t)]},sd.T,{resetFont:!1}),N5=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o},FT=(0,s.forwardRef)((e,t)=>{var o;const{prefixCls:i,bordered:u=!0,size:g,disabled:_,status:x,allowClear:S,classNames:T,rootClassName:M,className:R,style:N,styles:F,variant:B}=e,V=N5(e,["prefixCls","bordered","size","disabled","status","allowClear","classNames","rootClassName","className","style","styles","variant"]),{getPrefixCls:j,direction:H,allowClear:U,autoComplete:K,className:Y,style:q,classNames:Q,styles:re}=(0,De.dj)("textArea"),ae=s.useContext(Ds.Z),se=_!=null?_:ae,{status:de,hasFeedback:pe,feedbackIcon:ge}=s.useContext(gc.aM),me=(0,Il.F)(de,x),be=s.useRef(null);s.useImperativeHandle(t,()=>{var it;return{resizableTextArea:(it=be.current)===null||it===void 0?void 0:it.resizableTextArea,focus:Je=>{var wt,Dt;(0,NS.nH)((Dt=(wt=be.current)===null||wt===void 0?void 0:wt.resizableTextArea)===null||Dt===void 0?void 0:Dt.textArea,Je)},blur:()=>{var Je;return(Je=be.current)===null||Je===void 0?void 0:Je.blur()}}});const _e=j("input",i),Ie=(0,po.Z)(_e),[Ce,Le,ze]=(0,Sh.TI)(_e,M),[ke]=L5(_e,Ie),{compactSize:Ze,compactItemClassnames:je}=(0,yl.ri)(_e,H),Ue=(0,Ts.Z)(it=>{var Je;return(Je=g!=null?g:Ze)!==null&&Je!==void 0?Je:it}),[He,Qe]=(0,Pu.Z)("textArea",B,u),We=CS(S!=null?S:U);return Ce(ke(s.createElement(BT,Object.assign({autoComplete:K},V,{style:Object.assign(Object.assign({},q),N),styles:Object.assign(Object.assign({},re),F),disabled:se,allowClear:We,className:oe()(ze,Ie,R,M,je,Y),classNames:Object.assign(Object.assign(Object.assign({},T),Q),{textarea:oe()({[`${_e}-sm`]:Ue==="small",[`${_e}-lg`]:Ue==="large"},Le,T==null?void 0:T.textarea,Q.textarea),variant:oe()({[`${_e}-${He}`]:Qe},(0,Il.Z)(_e,me)),affixWrapper:oe()(`${_e}-textarea-affix-wrapper`,{[`${_e}-affix-wrapper-rtl`]:H==="rtl",[`${_e}-affix-wrapper-sm`]:Ue==="small",[`${_e}-affix-wrapper-lg`]:Ue==="large",[`${_e}-textarea-show-count`]:e.showCount||((o=e.count)===null||o===void 0?void 0:o.show)},Le)}),prefixCls:_e,suffix:pe&&s.createElement("span",{className:`${_e}-textarea-suffix`},ge),ref:be}))))});const jv=t0;jv.Group=o5,jv.Search=w5,jv.TextArea=FT,jv.Password=x5,jv.OTP=f5;var B5=jv;function F5(e,t,o){return typeof o=="boolean"?o:e.length?!0:(0,El.Z)(t).some(u=>u.type===a_)}var kT=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};function Kx(e){let{suffixCls:t,tagName:o,displayName:i}=e;return u=>s.forwardRef((_,x)=>s.createElement(u,Object.assign({ref:x,suffixCls:t,tagName:o},_)))}const ZS=s.forwardRef((e,t)=>{const{prefixCls:o,suffixCls:i,className:u,tagName:g}=e,_=kT(e,["prefixCls","suffixCls","className","tagName"]),{getPrefixCls:x}=s.useContext(De.E_),S=x("layout",o),[T,M,R]=F1(S),N=i?`${S}-${i}`:S;return T(s.createElement(g,Object.assign({className:oe()(o||N,u,M,R),ref:t},_)))}),k5=s.forwardRef((e,t)=>{const{direction:o}=s.useContext(De.E_),[i,u]=s.useState([]),{prefixCls:g,className:_,rootClassName:x,children:S,hasSider:T,tagName:M,style:R}=e,N=kT(e,["prefixCls","className","rootClassName","children","hasSider","tagName","style"]),F=(0,Er.Z)(N,["suffixCls"]),{getPrefixCls:B,className:V,style:j}=(0,De.dj)("layout"),H=B("layout",g),U=F5(i,S,T),[K,Y,q]=F1(H),Q=oe()(H,{[`${H}-has-sider`]:U,[`${H}-rtl`]:o==="rtl"},V,_,x,Y,q),re=s.useMemo(()=>({siderHook:{addSider:ae=>{u(se=>[].concat((0,Be.Z)(se),[ae]))},removeSider:ae=>{u(se=>se.filter(de=>de!==ae))}}}),[]);return K(s.createElement(dv.Provider,{value:re},s.createElement(M,Object.assign({ref:t,className:Q,style:Object.assign(Object.assign({},j),R)},F),S)))}),j5=Kx({tagName:"div",displayName:"Layout"})(k5),Z5=Kx({suffixCls:"header",tagName:"header",displayName:"Header"})(ZS),V5=Kx({suffixCls:"footer",tagName:"footer",displayName:"Footer"})(ZS),H5=Kx({suffixCls:"content",tagName:"main",displayName:"Content"})(ZS);var U5=j5;const Zv=U5;Zv.Header=Z5,Zv.Footer=V5,Zv.Content=H5,Zv.Sider=a_,Zv._InternalSiderContext=op;var W5=Zv,VS=function(){const e=Object.assign({},arguments.length<=0?void 0:arguments[0]);for(let t=1;t<arguments.length;t++){const o=t<0||arguments.length<=t?void 0:arguments[t];o&&Object.keys(o).forEach(i=>{const u=o[i];u!==void 0&&(e[i]=u)})}return e},jT=he(78769),G5={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"},X5=G5,q5=function(t,o){return s.createElement(Fn.Z,(0,Pt.Z)({},t,{ref:o,icon:X5}))},K5=s.forwardRef(q5),ZT=K5,Y5={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"},J5=Y5,Q5=function(t,o){return s.createElement(Fn.Z,(0,Pt.Z)({},t,{ref:o,icon:J5}))},eL=s.forwardRef(Q5),VT=eL,tL={items_per_page:"\u6761/\u9875",jump_to:"\u8DF3\u81F3",jump_to_confirm:"\u786E\u5B9A",page:"\u9875",prev_page:"\u4E0A\u4E00\u9875",next_page:"\u4E0B\u4E00\u9875",prev_5:"\u5411\u524D 5 \u9875",next_5:"\u5411\u540E 5 \u9875",prev_3:"\u5411\u524D 3 \u9875",next_3:"\u5411\u540E 3 \u9875",page_size:"\u9875\u7801"},nL=tL,rL=[10,20,50,100],iL=function(t){var o=t.pageSizeOptions,i=o===void 0?rL:o,u=t.locale,g=t.changeSize,_=t.pageSize,x=t.goButton,S=t.quickGo,T=t.rootPrefixCls,M=t.disabled,R=t.buildOptionText,N=t.showSizeChanger,F=t.sizeChangerRender,B=s.useState(""),V=(0,ve.Z)(B,2),j=V[0],H=V[1],U=function(){return!j||Number.isNaN(j)?void 0:Number(j)},K=typeof R=="function"?R:function(ge){return"".concat(ge," ").concat(u.items_per_page)},Y=function(me){H(me.target.value)},q=function(me){x||j===""||(H(""),!(me.relatedTarget&&(me.relatedTarget.className.indexOf("".concat(T,"-item-link"))>=0||me.relatedTarget.className.indexOf("".concat(T,"-item"))>=0))&&(S==null||S(U())))},Q=function(me){j!==""&&(me.keyCode===nt.Z.ENTER||me.type==="click")&&(H(""),S==null||S(U()))},re=function(){return i.some(function(me){return me.toString()===_.toString()})?i:i.concat([_]).sort(function(me,be){var _e=Number.isNaN(Number(me))?0:Number(me),Ie=Number.isNaN(Number(be))?0:Number(be);return _e-Ie})},ae="".concat(T,"-options");if(!N&&!S)return null;var se=null,de=null,pe=null;return N&&F&&(se=F({disabled:M,size:_,onSizeChange:function(me){g==null||g(Number(me))},"aria-label":u.page_size,className:"".concat(ae,"-size-changer"),options:re().map(function(ge){return{label:K(ge),value:ge}})})),S&&(x&&(pe=typeof x=="boolean"?s.createElement("button",{type:"button",onClick:Q,onKeyUp:Q,disabled:M,className:"".concat(ae,"-quick-jumper-button")},u.jump_to_confirm):s.createElement("span",{onClick:Q,onKeyUp:Q},x)),de=s.createElement("div",{className:"".concat(ae,"-quick-jumper")},u.jump_to,s.createElement("input",{disabled:M,type:"text",value:j,onChange:Y,onKeyUp:Q,onBlur:q,"aria-label":u.page}),u.page,pe)),s.createElement("li",{className:ae},se,de)},oL=iL,aL=function(t){var o=t.rootPrefixCls,i=t.page,u=t.active,g=t.className,_=t.showTitle,x=t.onClick,S=t.onKeyPress,T=t.itemRender,M="".concat(o,"-item"),R=oe()(M,"".concat(M,"-").concat(i),(0,Ee.Z)((0,Ee.Z)({},"".concat(M,"-active"),u),"".concat(M,"-disabled"),!i),g),N=function(){x(i)},F=function(j){S(j,x,i)},B=T(i,"page",s.createElement("a",{rel:"nofollow"},i));return B?s.createElement("li",{title:_?String(i):null,className:R,onClick:N,onKeyDown:F,tabIndex:0},B):null},K_=aL,sL=function(t,o,i){return i};function HS(){}function HT(e){var t=Number(e);return typeof t=="number"&&!Number.isNaN(t)&&isFinite(t)&&Math.floor(t)===t}function o0(e,t,o){var i=typeof e=="undefined"?t:e;return Math.floor((o-1)/i)+1}var lL=function(t){var o=t.prefixCls,i=o===void 0?"rc-pagination":o,u=t.selectPrefixCls,g=u===void 0?"rc-select":u,_=t.className,x=t.current,S=t.defaultCurrent,T=S===void 0?1:S,M=t.total,R=M===void 0?0:M,N=t.pageSize,F=t.defaultPageSize,B=F===void 0?10:F,V=t.onChange,j=V===void 0?HS:V,H=t.hideOnSinglePage,U=t.align,K=t.showPrevNextJumpers,Y=K===void 0?!0:K,q=t.showQuickJumper,Q=t.showLessItems,re=t.showTitle,ae=re===void 0?!0:re,se=t.onShowSizeChange,de=se===void 0?HS:se,pe=t.locale,ge=pe===void 0?nL:pe,me=t.style,be=t.totalBoundaryShowSizeChanger,_e=be===void 0?50:be,Ie=t.disabled,Ce=t.simple,Le=t.showTotal,ze=t.showSizeChanger,ke=ze===void 0?R>_e:ze,Ze=t.sizeChangerRender,je=t.pageSizeOptions,Ue=t.itemRender,He=Ue===void 0?sL:Ue,Qe=t.jumpPrevIcon,We=t.jumpNextIcon,it=t.prevIcon,Je=t.nextIcon,wt=s.useRef(null),Dt=(0,Jo.Z)(10,{value:N,defaultValue:B}),ct=(0,ve.Z)(Dt,2),ht=ct[0],ut=ct[1],tt=(0,Jo.Z)(1,{value:x,defaultValue:T,postState:function(fa){return Math.max(1,Math.min(fa,o0(void 0,ht,R)))}}),xt=(0,ve.Z)(tt,2),_t=xt[0],dn=xt[1],on=s.useState(_t),Ut=(0,ve.Z)(on,2),en=Ut[0],kt=Ut[1];(0,s.useEffect)(function(){kt(_t)},[_t]);var cn=j!==HS,zn="current"in t,An=Math.max(1,_t-(Q?3:5)),sr=Math.min(o0(void 0,ht,R),_t+(Q?3:5));function yr(ho,fa){var ja=ho||s.createElement("button",{type:"button","aria-label":fa,className:"".concat(i,"-item-link")});return typeof ho=="function"&&(ja=s.createElement(ho,(0,fe.Z)({},t))),ja}function Vr(ho){var fa=ho.target.value,ja=o0(void 0,ht,R),Ws;return fa===""?Ws=fa:Number.isNaN(Number(fa))?Ws=en:fa>=ja?Ws=ja:Ws=Number(fa),Ws}function Qn(ho){return HT(ho)&&ho!==_t&&HT(R)&&R>0}var Un=R>ht?q:!1;function er(ho){(ho.keyCode===nt.Z.UP||ho.keyCode===nt.Z.DOWN)&&ho.preventDefault()}function Ir(ho){var fa=Vr(ho);switch(fa!==en&&kt(fa),ho.keyCode){case nt.Z.ENTER:xn(fa);break;case nt.Z.UP:xn(fa-1);break;case nt.Z.DOWN:xn(fa+1);break;default:break}}function pr(ho){xn(Vr(ho))}function Zr(ho){var fa=o0(ho,ht,R),ja=_t>fa&&fa!==0?fa:_t;ut(ho),kt(ja),de==null||de(_t,ho),dn(ja),j==null||j(ja,ho)}function xn(ho){if(Qn(ho)&&!Ie){var fa=o0(void 0,ht,R),ja=ho;return ho>fa?ja=fa:ho<1&&(ja=1),ja!==en&&kt(ja),dn(ja),j==null||j(ja,ht),ja}return _t}var fn=_t>1,yn=_t<o0(void 0,ht,R);function Gt(){fn&&xn(_t-1)}function Kn(){yn&&xn(_t+1)}function vr(){xn(An)}function Jr(){xn(sr)}function Hi(ho,fa){if(ho.key==="Enter"||ho.charCode===nt.Z.ENTER||ho.keyCode===nt.Z.ENTER){for(var ja=arguments.length,Ws=new Array(ja>2?ja-2:0),lc=2;lc<ja;lc++)Ws[lc-2]=arguments[lc];fa.apply(void 0,Ws)}}function Gi(ho){Hi(ho,Gt)}function Zi(ho){Hi(ho,Kn)}function Fa(ho){Hi(ho,vr)}function Do(ho){Hi(ho,Jr)}function zo(ho){var fa=He(ho,"prev",yr(it,"prev page"));return s.isValidElement(fa)?s.cloneElement(fa,{disabled:!fn}):fa}function oo(ho){var fa=He(ho,"next",yr(Je,"next page"));return s.isValidElement(fa)?s.cloneElement(fa,{disabled:!yn}):fa}function Uo(ho){(ho.type==="click"||ho.keyCode===nt.Z.ENTER)&&xn(en)}var ua=null,xi=(0,ir.Z)(t,{aria:!0,data:!0}),Fi=Le&&s.createElement("li",{className:"".concat(i,"-total-text")},Le(R,[R===0?0:(_t-1)*ht+1,_t*ht>R?R:_t*ht])),Wr=null,gi=o0(void 0,ht,R);if(H&&R<=ht)return null;var Ci=[],Yi={rootPrefixCls:i,onClick:xn,onKeyPress:Hi,showTitle:ae,itemRender:He,page:-1},xa=_t-1>0?_t-1:0,Pa=_t+1<gi?_t+1:gi,Fs=q&&q.goButton,Xi=(0,Tt.Z)(Ce)==="object"?Ce.readOnly:!Ce,Di=Fs,Si=null;Ce&&(Fs&&(typeof Fs=="boolean"?Di=s.createElement("button",{type:"button",onClick:Uo,onKeyUp:Uo},ge.jump_to_confirm):Di=s.createElement("span",{onClick:Uo,onKeyUp:Uo},Fs),Di=s.createElement("li",{title:ae?"".concat(ge.jump_to).concat(_t,"/").concat(gi):null,className:"".concat(i,"-simple-pager")},Di)),Si=s.createElement("li",{title:ae?"".concat(_t,"/").concat(gi):null,className:"".concat(i,"-simple-pager")},Xi?en:s.createElement("input",{type:"text","aria-label":ge.jump_to,value:en,disabled:Ie,onKeyDown:er,onKeyUp:Ir,onChange:Ir,onBlur:pr,size:3}),s.createElement("span",{className:"".concat(i,"-slash")},"/"),gi));var Ii=Q?1:2;if(gi<=3+Ii*2){gi||Ci.push(s.createElement(K_,(0,Pt.Z)({},Yi,{key:"noPager",page:1,className:"".concat(i,"-item-disabled")})));for(var da=1;da<=gi;da+=1)Ci.push(s.createElement(K_,(0,Pt.Z)({},Yi,{key:da,page:da,active:_t===da})))}else{var Qa=Q?ge.prev_3:ge.prev_5,Wo=Q?ge.next_3:ge.next_5,lo=He(An,"jump-prev",yr(Qe,"prev page")),va=He(sr,"jump-next",yr(We,"next page"));Y&&(ua=lo?s.createElement("li",{title:ae?Qa:null,key:"prev",onClick:vr,tabIndex:0,onKeyDown:Fa,className:oe()("".concat(i,"-jump-prev"),(0,Ee.Z)({},"".concat(i,"-jump-prev-custom-icon"),!!Qe))},lo):null,Wr=va?s.createElement("li",{title:ae?Wo:null,key:"next",onClick:Jr,tabIndex:0,onKeyDown:Do,className:oe()("".concat(i,"-jump-next"),(0,Ee.Z)({},"".concat(i,"-jump-next-custom-icon"),!!We))},va):null);var ka=Math.max(1,_t-Ii),Us=Math.min(_t+Ii,gi);_t-1<=Ii&&(Us=1+Ii*2),gi-_t<=Ii&&(ka=gi-Ii*2);for(var Ti=ka;Ti<=Us;Ti+=1)Ci.push(s.createElement(K_,(0,Pt.Z)({},Yi,{key:Ti,page:Ti,active:_t===Ti})));if(_t-1>=Ii*2&&_t!==3&&(Ci[0]=s.cloneElement(Ci[0],{className:oe()("".concat(i,"-item-after-jump-prev"),Ci[0].props.className)}),Ci.unshift(ua)),gi-_t>=Ii*2&&_t!==gi-2){var xr=Ci[Ci.length-1];Ci[Ci.length-1]=s.cloneElement(xr,{className:oe()("".concat(i,"-item-before-jump-next"),xr.props.className)}),Ci.push(Wr)}ka!==1&&Ci.unshift(s.createElement(K_,(0,Pt.Z)({},Yi,{key:1,page:1}))),Us!==gi&&Ci.push(s.createElement(K_,(0,Pt.Z)({},Yi,{key:gi,page:gi})))}var zi=zo(xa);if(zi){var _o=!fn||!gi;zi=s.createElement("li",{title:ae?ge.prev_page:null,onClick:Gt,tabIndex:_o?null:0,onKeyDown:Gi,className:oe()("".concat(i,"-prev"),(0,Ee.Z)({},"".concat(i,"-disabled"),_o)),"aria-disabled":_o},zi)}var Sa=oo(Pa);if(Sa){var vs,Js;Ce?(vs=!yn,Js=fn?0:null):(vs=!yn||!gi,Js=vs?null:0),Sa=s.createElement("li",{title:ae?ge.next_page:null,onClick:Kn,tabIndex:Js,onKeyDown:Zi,className:oe()("".concat(i,"-next"),(0,Ee.Z)({},"".concat(i,"-disabled"),vs)),"aria-disabled":vs},Sa)}var hs=oe()(i,_,(0,Ee.Z)((0,Ee.Z)((0,Ee.Z)((0,Ee.Z)((0,Ee.Z)({},"".concat(i,"-start"),U==="start"),"".concat(i,"-center"),U==="center"),"".concat(i,"-end"),U==="end"),"".concat(i,"-simple"),Ce),"".concat(i,"-disabled"),Ie));return s.createElement("ul",(0,Pt.Z)({className:hs,style:me,ref:wt},xi),Fi,zi,Ce?Si:Ci,Sa,s.createElement(oL,{locale:ge,rootPrefixCls:i,disabled:Ie,selectPrefixCls:g,changeSize:Zr,pageSize:ht,pageSizeOptions:je,quickGo:Un?xn:null,goButton:Di,showSizeChanger:ke,sizeChangerRender:Ze}))},cL=lL,uL=he(18507);const dL=e=>{const{componentCls:t}=e;return{[`${t}-disabled`]:{"&, &:hover":{cursor:"not-allowed",[`${t}-item-link`]:{color:e.colorTextDisabled,cursor:"not-allowed"}},"&:focus-visible":{cursor:"not-allowed",[`${t}-item-link`]:{color:e.colorTextDisabled,cursor:"not-allowed"}}},[`&${t}-disabled`]:{cursor:"not-allowed",[`${t}-item`]:{cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},a:{color:e.colorTextDisabled,backgroundColor:"transparent",border:"none",cursor:"not-allowed"},"&-active":{borderColor:e.colorBorder,backgroundColor:e.itemActiveBgDisabled,"&:hover, &:active":{backgroundColor:e.itemActiveBgDisabled},a:{color:e.itemActiveColorDisabled}}},[`${t}-item-link`]:{color:e.colorTextDisabled,cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},[`${t}-simple&`]:{backgroundColor:"transparent","&:hover, &:active":{backgroundColor:"transparent"}}},[`${t}-simple-pager`]:{color:e.colorTextDisabled},[`${t}-jump-prev, ${t}-jump-next`]:{[`${t}-item-link-icon`]:{opacity:0},[`${t}-item-ellipsis`]:{opacity:1}}},[`&${t}-simple`]:{[`${t}-prev, ${t}-next`]:{[`&${t}-disabled ${t}-item-link`]:{"&:hover, &:active":{backgroundColor:"transparent"}}}}}},fL=e=>{const{componentCls:t}=e;return{[`&${t}-mini ${t}-total-text, &${t}-mini ${t}-simple-pager`]:{height:e.itemSizeSM,lineHeight:(0,J.bf)(e.itemSizeSM)},[`&${t}-mini ${t}-item`]:{minWidth:e.itemSizeSM,height:e.itemSizeSM,margin:0,lineHeight:(0,J.bf)(e.calc(e.itemSizeSM).sub(2).equal())},[`&${t}-mini:not(${t}-disabled) ${t}-item:not(${t}-item-active)`]:{backgroundColor:"transparent",borderColor:"transparent","&:hover":{backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive}},[`&${t}-mini ${t}-prev, &${t}-mini ${t}-next`]:{minWidth:e.itemSizeSM,height:e.itemSizeSM,margin:0,lineHeight:(0,J.bf)(e.itemSizeSM)},[`&${t}-mini:not(${t}-disabled)`]:{[`${t}-prev, ${t}-next`]:{[`&:hover ${t}-item-link`]:{backgroundColor:e.colorBgTextHover},[`&:active ${t}-item-link`]:{backgroundColor:e.colorBgTextActive},[`&${t}-disabled:hover ${t}-item-link`]:{backgroundColor:"transparent"}}},[`
    &${t}-mini ${t}-prev ${t}-item-link,
    &${t}-mini ${t}-next ${t}-item-link
    `]:{backgroundColor:"transparent",borderColor:"transparent","&::after":{height:e.itemSizeSM,lineHeight:(0,J.bf)(e.itemSizeSM)}},[`&${t}-mini ${t}-jump-prev, &${t}-mini ${t}-jump-next`]:{height:e.itemSizeSM,marginInlineEnd:0,lineHeight:(0,J.bf)(e.itemSizeSM)},[`&${t}-mini ${t}-options`]:{marginInlineStart:e.paginationMiniOptionsMarginInlineStart,"&-size-changer":{top:e.miniOptionsSizeChangerTop},"&-quick-jumper":{height:e.itemSizeSM,lineHeight:(0,J.bf)(e.itemSizeSM),input:Object.assign(Object.assign({},(0,Sh.x0)(e)),{width:e.paginationMiniQuickJumperInputWidth,height:e.controlHeightSM})}}}},hL=e=>{const{componentCls:t}=e;return{[`
    &${t}-simple ${t}-prev,
    &${t}-simple ${t}-next
    `]:{height:e.itemSizeSM,lineHeight:(0,J.bf)(e.itemSizeSM),verticalAlign:"top",[`${t}-item-link`]:{height:e.itemSizeSM,backgroundColor:"transparent",border:0,"&:hover":{backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive},"&::after":{height:e.itemSizeSM,lineHeight:(0,J.bf)(e.itemSizeSM)}}},[`&${t}-simple ${t}-simple-pager`]:{display:"inline-block",height:e.itemSizeSM,marginInlineEnd:e.marginXS,input:{boxSizing:"border-box",height:"100%",padding:`0 ${(0,J.bf)(e.paginationItemPaddingInline)}`,textAlign:"center",backgroundColor:e.itemInputBg,border:`${(0,J.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadius,outline:"none",transition:`border-color ${e.motionDurationMid}`,color:"inherit","&:hover":{borderColor:e.colorPrimary},"&:focus":{borderColor:e.colorPrimaryHover,boxShadow:`${(0,J.bf)(e.inputOutlineOffset)} 0 ${(0,J.bf)(e.controlOutlineWidth)} ${e.controlOutline}`},"&[disabled]":{color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,cursor:"not-allowed"}}}}},pL=e=>{const{componentCls:t}=e;return{[`${t}-jump-prev, ${t}-jump-next`]:{outline:0,[`${t}-item-container`]:{position:"relative",[`${t}-item-link-icon`]:{color:e.colorPrimary,fontSize:e.fontSizeSM,opacity:0,transition:`all ${e.motionDurationMid}`,"&-svg":{top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,margin:"auto"}},[`${t}-item-ellipsis`]:{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,display:"block",margin:"auto",color:e.colorTextDisabled,letterSpacing:e.paginationEllipsisLetterSpacing,textAlign:"center",textIndent:e.paginationEllipsisTextIndent,opacity:1,transition:`all ${e.motionDurationMid}`}},"&:hover":{[`${t}-item-link-icon`]:{opacity:1},[`${t}-item-ellipsis`]:{opacity:0}}},[`
    ${t}-prev,
    ${t}-jump-prev,
    ${t}-jump-next
    `]:{marginInlineEnd:e.marginXS},[`
    ${t}-prev,
    ${t}-next,
    ${t}-jump-prev,
    ${t}-jump-next
    `]:{display:"inline-block",minWidth:e.itemSize,height:e.itemSize,color:e.colorText,fontFamily:e.fontFamily,lineHeight:(0,J.bf)(e.itemSize),textAlign:"center",verticalAlign:"middle",listStyle:"none",borderRadius:e.borderRadius,cursor:"pointer",transition:`all ${e.motionDurationMid}`},[`${t}-prev, ${t}-next`]:{outline:0,button:{color:e.colorText,cursor:"pointer",userSelect:"none"},[`${t}-item-link`]:{display:"block",width:"100%",height:"100%",padding:0,fontSize:e.fontSizeSM,textAlign:"center",backgroundColor:"transparent",border:`${(0,J.bf)(e.lineWidth)} ${e.lineType} transparent`,borderRadius:e.borderRadius,outline:"none",transition:`all ${e.motionDurationMid}`},[`&:hover ${t}-item-link`]:{backgroundColor:e.colorBgTextHover},[`&:active ${t}-item-link`]:{backgroundColor:e.colorBgTextActive},[`&${t}-disabled:hover`]:{[`${t}-item-link`]:{backgroundColor:"transparent"}}},[`${t}-slash`]:{marginInlineEnd:e.paginationSlashMarginInlineEnd,marginInlineStart:e.paginationSlashMarginInlineStart},[`${t}-options`]:{display:"inline-block",marginInlineStart:e.margin,verticalAlign:"middle","&-size-changer":{display:"inline-block",width:"auto"},"&-quick-jumper":{display:"inline-block",height:e.controlHeight,marginInlineStart:e.marginXS,lineHeight:(0,J.bf)(e.controlHeight),verticalAlign:"top",input:Object.assign(Object.assign(Object.assign({},(0,Sh.ik)(e)),(0,If.$U)(e,{borderColor:e.colorBorder,hoverBorderColor:e.colorPrimaryHover,activeBorderColor:e.colorPrimary,activeShadow:e.activeShadow})),{"&[disabled]":Object.assign({},(0,If.Xy)(e)),width:e.calc(e.controlHeightLG).mul(1.25).equal(),height:e.controlHeight,boxSizing:"border-box",margin:0,marginInlineStart:e.marginXS,marginInlineEnd:e.marginXS})}}}},mL=e=>{const{componentCls:t}=e;return{[`${t}-item`]:{display:"inline-block",minWidth:e.itemSize,height:e.itemSize,marginInlineEnd:e.marginXS,fontFamily:e.fontFamily,lineHeight:(0,J.bf)(e.calc(e.itemSize).sub(2).equal()),textAlign:"center",verticalAlign:"middle",listStyle:"none",backgroundColor:e.itemBg,border:`${(0,J.bf)(e.lineWidth)} ${e.lineType} transparent`,borderRadius:e.borderRadius,outline:0,cursor:"pointer",userSelect:"none",a:{display:"block",padding:`0 ${(0,J.bf)(e.paginationItemPaddingInline)}`,color:e.colorText,"&:hover":{textDecoration:"none"}},[`&:not(${t}-item-active)`]:{"&:hover":{transition:`all ${e.motionDurationMid}`,backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive}},"&-active":{fontWeight:e.fontWeightStrong,backgroundColor:e.itemActiveBg,borderColor:e.colorPrimary,a:{color:e.colorPrimary},"&:hover":{borderColor:e.colorPrimaryHover},"&:hover a":{color:e.colorPrimaryHover}}}}},gL=e=>{const{componentCls:t}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,mn.Wf)(e)),{display:"flex","&-start":{justifyContent:"start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"end"},"ul, ol":{margin:0,padding:0,listStyle:"none"},"&::after":{display:"block",clear:"both",height:0,overflow:"hidden",visibility:"hidden",content:'""'},[`${t}-total-text`]:{display:"inline-block",height:e.itemSize,marginInlineEnd:e.marginXS,lineHeight:(0,J.bf)(e.calc(e.itemSize).sub(2).equal()),verticalAlign:"middle"}}),mL(e)),pL(e)),hL(e)),fL(e)),dL(e)),{[`@media only screen and (max-width: ${e.screenLG}px)`]:{[`${t}-item`]:{"&-after-jump-prev, &-before-jump-next":{display:"none"}}},[`@media only screen and (max-width: ${e.screenSM}px)`]:{[`${t}-options`]:{display:"none"}}}),[`&${e.componentCls}-rtl`]:{direction:"rtl"}}},vL=e=>{const{componentCls:t}=e;return{[`${t}:not(${t}-disabled)`]:{[`${t}-item`]:Object.assign({},(0,mn.Qy)(e)),[`${t}-jump-prev, ${t}-jump-next`]:{"&:focus-visible":Object.assign({[`${t}-item-link-icon`]:{opacity:1},[`${t}-item-ellipsis`]:{opacity:0}},(0,mn.oN)(e))},[`${t}-prev, ${t}-next`]:{[`&:focus-visible ${t}-item-link`]:Object.assign({},(0,mn.oN)(e))}}}},UT=e=>Object.assign({itemBg:e.colorBgContainer,itemSize:e.controlHeight,itemSizeSM:e.controlHeightSM,itemActiveBg:e.colorBgContainer,itemLinkBg:e.colorBgContainer,itemActiveColorDisabled:e.colorTextDisabled,itemActiveBgDisabled:e.controlItemBgActiveDisabled,itemInputBg:e.colorBgContainer,miniOptionsSizeChangerTop:0},(0,sd.T)(e)),WT=e=>(0,vn.IX)(e,{inputOutlineOffset:0,paginationMiniOptionsMarginInlineStart:e.calc(e.marginXXS).div(2).equal(),paginationMiniQuickJumperInputWidth:e.calc(e.controlHeightLG).mul(1.1).equal(),paginationItemPaddingInline:e.calc(e.marginXXS).mul(1.5).equal(),paginationEllipsisLetterSpacing:e.calc(e.marginXXS).div(2).equal(),paginationSlashMarginInlineStart:e.marginSM,paginationSlashMarginInlineEnd:e.marginSM,paginationEllipsisTextIndent:"0.13em"},(0,sd.e)(e));var yL=(0,Ae.I$)("Pagination",e=>{const t=WT(e);return[gL(t),vL(t)]},UT);const _L=e=>{const{componentCls:t}=e;return{[`${t}${t}-bordered${t}-disabled:not(${t}-mini)`]:{"&, &:hover":{[`${t}-item-link`]:{borderColor:e.colorBorder}},"&:focus-visible":{[`${t}-item-link`]:{borderColor:e.colorBorder}},[`${t}-item, ${t}-item-link`]:{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,[`&:hover:not(${t}-item-active)`]:{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,a:{color:e.colorTextDisabled}},[`&${t}-item-active`]:{backgroundColor:e.itemActiveBgDisabled}},[`${t}-prev, ${t}-next`]:{"&:hover button":{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,color:e.colorTextDisabled},[`${t}-item-link`]:{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder}}},[`${t}${t}-bordered:not(${t}-mini)`]:{[`${t}-prev, ${t}-next`]:{"&:hover button":{borderColor:e.colorPrimaryHover,backgroundColor:e.itemBg},[`${t}-item-link`]:{backgroundColor:e.itemLinkBg,borderColor:e.colorBorder},[`&:hover ${t}-item-link`]:{borderColor:e.colorPrimary,backgroundColor:e.itemBg,color:e.colorPrimary},[`&${t}-disabled`]:{[`${t}-item-link`]:{borderColor:e.colorBorder,color:e.colorTextDisabled}}},[`${t}-item`]:{backgroundColor:e.itemBg,border:`${(0,J.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,[`&:hover:not(${t}-item-active)`]:{borderColor:e.colorPrimary,backgroundColor:e.itemBg,a:{color:e.colorPrimary}},"&-active":{borderColor:e.colorPrimary}}}}};var bL=(0,Ae.bk)(["Pagination","bordered"],e=>{const t=WT(e);return[_L(t)]},UT);function GT(e){return(0,s.useMemo)(()=>typeof e=="boolean"?[e,{}]:e&&typeof e=="object"?[!0,e]:[void 0,void 0],[e])}var xL=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o},CL=e=>{const{align:t,prefixCls:o,selectPrefixCls:i,className:u,rootClassName:g,style:_,size:x,locale:S,responsive:T,showSizeChanger:M,selectComponentClass:R,pageSizeOptions:N}=e,F=xL(e,["align","prefixCls","selectPrefixCls","className","rootClassName","style","size","locale","responsive","showSizeChanger","selectComponentClass","pageSizeOptions"]),{xs:B}=(0,ep.Z)(T),[,V]=(0,Ur.ZP)(),{getPrefixCls:j,direction:H,showSizeChanger:U,className:K,style:Y}=(0,De.dj)("pagination"),q=j("pagination",o),[Q,re,ae]=yL(q),se=(0,Ts.Z)(x),de=se==="small"||!!(B&&!se&&T),[pe]=(0,Pr.Z)("Pagination",uL.Z),ge=Object.assign(Object.assign({},pe),S),[me,be]=GT(M),[_e,Ie]=GT(U),Ce=me!=null?me:_e,Le=be!=null?be:Ie,ze=R||$d,ke=s.useMemo(()=>N?N.map(We=>Number(We)):void 0,[N]),Ze=We=>{var it;const{disabled:Je,size:wt,onSizeChange:Dt,"aria-label":ct,className:ht,options:ut}=We,{className:tt,onChange:xt}=Le||{},_t=(it=ut.find(dn=>String(dn.value)===String(wt)))===null||it===void 0?void 0:it.value;return s.createElement(ze,Object.assign({disabled:Je,showSearch:!0,popupMatchSelectWidth:!1,getPopupContainer:dn=>dn.parentNode,"aria-label":ct,options:ut},Le,{value:_t,onChange:(dn,on)=>{Dt==null||Dt(dn),xt==null||xt(dn,on)},size:de?"small":"middle",className:oe()(ht,tt)}))},je=s.useMemo(()=>{const We=s.createElement("span",{className:`${q}-item-ellipsis`},"\u2022\u2022\u2022"),it=s.createElement("button",{className:`${q}-item-link`,type:"button",tabIndex:-1},H==="rtl"?s.createElement(Pc,null):s.createElement(nd,null)),Je=s.createElement("button",{className:`${q}-item-link`,type:"button",tabIndex:-1},H==="rtl"?s.createElement(nd,null):s.createElement(Pc,null)),wt=s.createElement("a",{className:`${q}-item-link`},s.createElement("div",{className:`${q}-item-container`},H==="rtl"?s.createElement(VT,{className:`${q}-item-link-icon`}):s.createElement(ZT,{className:`${q}-item-link-icon`}),We)),Dt=s.createElement("a",{className:`${q}-item-link`},s.createElement("div",{className:`${q}-item-container`},H==="rtl"?s.createElement(ZT,{className:`${q}-item-link-icon`}):s.createElement(VT,{className:`${q}-item-link-icon`}),We));return{prevIcon:it,nextIcon:Je,jumpPrevIcon:wt,jumpNextIcon:Dt}},[H,q]),Ue=j("select",i),He=oe()({[`${q}-${t}`]:!!t,[`${q}-mini`]:de,[`${q}-rtl`]:H==="rtl",[`${q}-bordered`]:V.wireframe},K,u,g,re,ae),Qe=Object.assign(Object.assign({},Y),_);return Q(s.createElement(s.Fragment,null,V.wireframe&&s.createElement(bL,{prefixCls:q}),s.createElement(cL,Object.assign({},je,F,{style:Qe,prefixCls:q,selectPrefixCls:Ue,className:He,locale:ge,pageSizeOptions:ke,showSizeChanger:Ce,sizeChangerRender:Ze}))))},Yx=CL;const Jx=100,XT=Jx/5,qT=Jx/2-XT/2,US=qT*2*Math.PI,KT=50,YT=e=>{const{dotClassName:t,style:o,hasCircleCls:i}=e;return s.createElement("circle",{className:oe()(`${t}-circle`,{[`${t}-circle-bg`]:i}),r:qT,cx:KT,cy:KT,strokeWidth:XT,style:o})};var wL=e=>{let{percent:t,prefixCls:o}=e;const i=`${o}-dot`,u=`${i}-holder`,g=`${u}-hidden`,[_,x]=s.useState(!1);(0,yt.Z)(()=>{t!==0&&x(!0)},[t!==0]);const S=Math.max(Math.min(t,100),0);if(!_)return null;const T={strokeDashoffset:`${US/4}`,strokeDasharray:`${US*S/100} ${US*(100-S)/100}`};return s.createElement("span",{className:oe()(u,`${i}-progress`,S<=0&&g)},s.createElement("svg",{viewBox:`0 0 ${Jx} ${Jx}`,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":S},s.createElement(YT,{dotClassName:i,hasCircleCls:!0}),s.createElement(YT,{dotClassName:i,style:T})))};function SL(e){const{prefixCls:t,percent:o=0}=e,i=`${t}-dot`,u=`${i}-holder`,g=`${u}-hidden`;return s.createElement(s.Fragment,null,s.createElement("span",{className:oe()(u,o>0&&g)},s.createElement("span",{className:oe()(i,`${t}-dot-spin`)},[1,2,3,4].map(_=>s.createElement("i",{className:`${t}-dot-item`,key:_})))),s.createElement(wL,{prefixCls:t,percent:o}))}function EL(e){const{prefixCls:t,indicator:o,percent:i}=e,u=`${t}-dot`;return o&&s.isValidElement(o)?(0,wr.Tm)(o,{className:oe()(o.props.className,u),percent:i}):s.createElement(SL,{prefixCls:t,percent:i})}const IL=new J.E4("antSpinMove",{to:{opacity:1}}),TL=new J.E4("antRotate",{to:{transform:"rotate(405deg)"}}),ML=e=>{const{componentCls:t,calc:o}=e;return{[t]:Object.assign(Object.assign({},(0,mn.Wf)(e)),{position:"absolute",display:"none",color:e.colorPrimary,fontSize:0,textAlign:"center",verticalAlign:"middle",opacity:0,transition:`transform ${e.motionDurationSlow} ${e.motionEaseInOutCirc}`,"&-spinning":{position:"relative",display:"inline-block",opacity:1},[`${t}-text`]:{fontSize:e.fontSize,paddingTop:o(o(e.dotSize).sub(e.fontSize)).div(2).add(2).equal()},"&-fullscreen":{position:"fixed",width:"100vw",height:"100vh",backgroundColor:e.colorBgMask,zIndex:e.zIndexPopupBase,inset:0,display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",opacity:0,visibility:"hidden",transition:`all ${e.motionDurationMid}`,"&-show":{opacity:1,visibility:"visible"},[t]:{[`${t}-dot-holder`]:{color:e.colorWhite},[`${t}-text`]:{color:e.colorTextLightSolid}}},"&-nested-loading":{position:"relative",[`> div > ${t}`]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:e.contentHeight,[`${t}-dot`]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:o(e.dotSize).mul(-1).div(2).equal()},[`${t}-text`]:{position:"absolute",top:"50%",width:"100%",textShadow:`0 1px 2px ${e.colorBgContainer}`},[`&${t}-show-text ${t}-dot`]:{marginTop:o(e.dotSize).div(2).mul(-1).sub(10).equal()},"&-sm":{[`${t}-dot`]:{margin:o(e.dotSizeSM).mul(-1).div(2).equal()},[`${t}-text`]:{paddingTop:o(o(e.dotSizeSM).sub(e.fontSize)).div(2).add(2).equal()},[`&${t}-show-text ${t}-dot`]:{marginTop:o(e.dotSizeSM).div(2).mul(-1).sub(10).equal()}},"&-lg":{[`${t}-dot`]:{margin:o(e.dotSizeLG).mul(-1).div(2).equal()},[`${t}-text`]:{paddingTop:o(o(e.dotSizeLG).sub(e.fontSize)).div(2).add(2).equal()},[`&${t}-show-text ${t}-dot`]:{marginTop:o(e.dotSizeLG).div(2).mul(-1).sub(10).equal()}}},[`${t}-container`]:{position:"relative",transition:`opacity ${e.motionDurationSlow}`,"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:e.colorBgContainer,opacity:0,transition:`all ${e.motionDurationSlow}`,content:'""',pointerEvents:"none"}},[`${t}-blur`]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none","&::after":{opacity:.4,pointerEvents:"auto"}}},"&-tip":{color:e.spinDotDefault},[`${t}-dot-holder`]:{width:"1em",height:"1em",fontSize:e.dotSize,display:"inline-block",transition:`transform ${e.motionDurationSlow} ease, opacity ${e.motionDurationSlow} ease`,transformOrigin:"50% 50%",lineHeight:1,color:e.colorPrimary,"&-hidden":{transform:"scale(0.3)",opacity:0}},[`${t}-dot-progress`]:{position:"absolute",inset:0},[`${t}-dot`]:{position:"relative",display:"inline-block",fontSize:e.dotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:o(e.dotSize).sub(o(e.marginXXS).div(2)).div(2).equal(),height:o(e.dotSize).sub(o(e.marginXXS).div(2)).div(2).equal(),background:"currentColor",borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:IL,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0,animationDelay:"0s"},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:TL,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"},"&-circle":{strokeLinecap:"round",transition:["stroke-dashoffset","stroke-dasharray","stroke","stroke-width","opacity"].map(i=>`${i} ${e.motionDurationSlow} ease`).join(","),fillOpacity:0,stroke:"currentcolor"},"&-circle-bg":{stroke:e.colorFillSecondary}},[`&-sm ${t}-dot`]:{"&, &-holder":{fontSize:e.dotSizeSM}},[`&-sm ${t}-dot-holder`]:{i:{width:o(o(e.dotSizeSM).sub(o(e.marginXXS).div(2))).div(2).equal(),height:o(o(e.dotSizeSM).sub(o(e.marginXXS).div(2))).div(2).equal()}},[`&-lg ${t}-dot`]:{"&, &-holder":{fontSize:e.dotSizeLG}},[`&-lg ${t}-dot-holder`]:{i:{width:o(o(e.dotSizeLG).sub(e.marginXXS)).div(2).equal(),height:o(o(e.dotSizeLG).sub(e.marginXXS)).div(2).equal()}},[`&${t}-show-text ${t}-text`]:{display:"block"}})}},PL=e=>{const{controlHeightLG:t,controlHeight:o}=e;return{contentHeight:400,dotSize:t/2,dotSizeSM:t*.35,dotSizeLG:o}};var OL=(0,Ae.I$)("Spin",e=>{const t=(0,vn.IX)(e,{spinDotDefault:e.colorTextDescription});return[ML(t)]},PL);const $L=200,JT=[[30,.05],[70,.03],[96,.01]];function RL(e,t){const[o,i]=s.useState(0),u=s.useRef(null),g=t==="auto";return s.useEffect(()=>(g&&e&&(i(0),u.current=setInterval(()=>{i(_=>{const x=100-_;for(let S=0;S<JT.length;S+=1){const[T,M]=JT[S];if(_<=T)return _+x*M}return _})},$L)),()=>{clearInterval(u.current)}),[g,e]),g?o:t}var AL=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};const eW=null;let QT;function DL(e,t){return!!e&&!!t&&!Number.isNaN(Number(t))}const eM=e=>{var t;const{prefixCls:o,spinning:i=!0,delay:u=0,className:g,rootClassName:_,size:x="default",tip:S,wrapperClassName:T,style:M,children:R,fullscreen:N=!1,indicator:F,percent:B}=e,V=AL(e,["prefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","fullscreen","indicator","percent"]),{getPrefixCls:j,direction:H,className:U,style:K,indicator:Y}=(0,De.dj)("spin"),q=j("spin",o),[Q,re,ae]=OL(q),[se,de]=s.useState(()=>i&&!DL(i,u)),pe=RL(se,B);s.useEffect(()=>{if(i){const Le=ME(u,()=>{de(!0)});return Le(),()=>{var ze;(ze=Le==null?void 0:Le.cancel)===null||ze===void 0||ze.call(Le)}}de(!1)},[u,i]);const ge=s.useMemo(()=>typeof R!="undefined"&&!N,[R,N]),me=oe()(q,U,{[`${q}-sm`]:x==="small",[`${q}-lg`]:x==="large",[`${q}-spinning`]:se,[`${q}-show-text`]:!!S,[`${q}-rtl`]:H==="rtl"},g,!N&&_,re,ae),be=oe()(`${q}-container`,{[`${q}-blur`]:se}),_e=(t=F!=null?F:Y)!==null&&t!==void 0?t:QT,Ie=Object.assign(Object.assign({},K),M),Ce=s.createElement("div",Object.assign({},V,{style:Ie,className:me,"aria-live":"polite","aria-busy":se}),s.createElement(EL,{prefixCls:q,indicator:_e,percent:pe}),S&&(ge||N)?s.createElement("div",{className:`${q}-text`},S):null);return Q(ge?s.createElement("div",Object.assign({},V,{className:oe()(`${q}-nested-loading`,T,re,ae)}),se&&s.createElement("div",{key:"loading"},Ce),s.createElement("div",{className:be,key:"container"},R)):N?s.createElement("div",{className:oe()(`${q}-fullscreen`,{[`${q}-fullscreen-show`]:se},_,re,ae)},Ce):Ce)};eM.setDefaultIndicator=e=>{QT=e};var Vv=eM;const WS=s.createContext({}),tW=WS.Consumer;var tM=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};const zL=e=>{var{prefixCls:t,className:o,avatar:i,title:u,description:g}=e,_=tM(e,["prefixCls","className","avatar","title","description"]);const{getPrefixCls:x}=(0,s.useContext)(De.E_),S=x("list",t),T=oe()(`${S}-item-meta`,o),M=s.createElement("div",{className:`${S}-item-meta-content`},u&&s.createElement("h4",{className:`${S}-item-meta-title`},u),g&&s.createElement("div",{className:`${S}-item-meta-description`},g));return s.createElement("div",Object.assign({},_,{className:T}),i&&s.createElement("div",{className:`${S}-item-meta-avatar`},i),(u||g)&&M)},nM=s.forwardRef((e,t)=>{const{prefixCls:o,children:i,actions:u,extra:g,styles:_,className:x,classNames:S,colStyle:T}=e,M=tM(e,["prefixCls","children","actions","extra","styles","className","classNames","colStyle"]),{grid:R,itemLayout:N}=(0,s.useContext)(WS),{getPrefixCls:F,list:B}=(0,s.useContext)(De.E_),V=re=>{var ae,se;return oe()((se=(ae=B==null?void 0:B.item)===null||ae===void 0?void 0:ae.classNames)===null||se===void 0?void 0:se[re],S==null?void 0:S[re])},j=re=>{var ae,se;return Object.assign(Object.assign({},(se=(ae=B==null?void 0:B.item)===null||ae===void 0?void 0:ae.styles)===null||se===void 0?void 0:se[re]),_==null?void 0:_[re])},H=()=>{let re=!1;return s.Children.forEach(i,ae=>{typeof ae=="string"&&(re=!0)}),re&&s.Children.count(i)>1},U=()=>N==="vertical"?!!g:!H(),K=F("list",o),Y=u&&u.length>0&&s.createElement("ul",{className:oe()(`${K}-item-action`,V("actions")),key:"actions",style:j("actions")},u.map((re,ae)=>s.createElement("li",{key:`${K}-item-action-${ae}`},re,ae!==u.length-1&&s.createElement("em",{className:`${K}-item-action-split`})))),q=R?"div":"li",Q=s.createElement(q,Object.assign({},M,R?{}:{ref:t},{className:oe()(`${K}-item`,{[`${K}-item-no-flex`]:!U()},x)}),N==="vertical"&&g?[s.createElement("div",{className:`${K}-item-main`,key:"content"},i,Y),s.createElement("div",{className:oe()(`${K}-item-extra`,V("extra")),key:"extra",style:j("extra")},g)]:[i,Y,(0,wr.Tm)(g,{key:"extra"})]);return R?s.createElement(aI.Z,{ref:t,flex:1,style:T},Q):Q});nM.Meta=zL;var LL=nM;const NL=e=>{const{listBorderedCls:t,componentCls:o,paddingLG:i,margin:u,itemPaddingSM:g,itemPaddingLG:_,marginLG:x,borderRadiusLG:S}=e;return{[t]:{border:`${(0,J.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:S,[`${o}-header,${o}-footer,${o}-item`]:{paddingInline:i},[`${o}-pagination`]:{margin:`${(0,J.bf)(u)} ${(0,J.bf)(x)}`}},[`${t}${o}-sm`]:{[`${o}-item,${o}-header,${o}-footer`]:{padding:g}},[`${t}${o}-lg`]:{[`${o}-item,${o}-header,${o}-footer`]:{padding:_}}}},BL=e=>{const{componentCls:t,screenSM:o,screenMD:i,marginLG:u,marginSM:g,margin:_}=e;return{[`@media screen and (max-width:${i}px)`]:{[t]:{[`${t}-item`]:{[`${t}-item-action`]:{marginInlineStart:u}}},[`${t}-vertical`]:{[`${t}-item`]:{[`${t}-item-extra`]:{marginInlineStart:u}}}},[`@media screen and (max-width: ${o}px)`]:{[t]:{[`${t}-item`]:{flexWrap:"wrap",[`${t}-action`]:{marginInlineStart:g}}},[`${t}-vertical`]:{[`${t}-item`]:{flexWrap:"wrap-reverse",[`${t}-item-main`]:{minWidth:e.contentWidth},[`${t}-item-extra`]:{margin:`auto auto ${(0,J.bf)(_)}`}}}}}},FL=e=>{const{componentCls:t,antCls:o,controlHeight:i,minHeight:u,paddingSM:g,marginLG:_,padding:x,itemPadding:S,colorPrimary:T,itemPaddingSM:M,itemPaddingLG:R,paddingXS:N,margin:F,colorText:B,colorTextDescription:V,motionDurationSlow:j,lineWidth:H,headerBg:U,footerBg:K,emptyTextPadding:Y,metaMarginBottom:q,avatarMarginRight:Q,titleMarginBottom:re,descriptionFontSize:ae}=e;return{[t]:Object.assign(Object.assign({},(0,mn.Wf)(e)),{position:"relative","*":{outline:"none"},[`${t}-header`]:{background:U},[`${t}-footer`]:{background:K},[`${t}-header, ${t}-footer`]:{paddingBlock:g},[`${t}-pagination`]:{marginBlockStart:_,[`${o}-pagination-options`]:{textAlign:"start"}},[`${t}-spin`]:{minHeight:u,textAlign:"center"},[`${t}-items`]:{margin:0,padding:0,listStyle:"none"},[`${t}-item`]:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:S,color:B,[`${t}-item-meta`]:{display:"flex",flex:1,alignItems:"flex-start",maxWidth:"100%",[`${t}-item-meta-avatar`]:{marginInlineEnd:Q},[`${t}-item-meta-content`]:{flex:"1 0",width:0,color:B},[`${t}-item-meta-title`]:{margin:`0 0 ${(0,J.bf)(e.marginXXS)} 0`,color:B,fontSize:e.fontSize,lineHeight:e.lineHeight,"> a":{color:B,transition:`all ${j}`,"&:hover":{color:T}}},[`${t}-item-meta-description`]:{color:V,fontSize:ae,lineHeight:e.lineHeight}},[`${t}-item-action`]:{flex:"0 0 auto",marginInlineStart:e.marginXXL,padding:0,fontSize:0,listStyle:"none","& > li":{position:"relative",display:"inline-block",padding:`0 ${(0,J.bf)(N)}`,color:V,fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"center","&:first-child":{paddingInlineStart:0}},[`${t}-item-action-split`]:{position:"absolute",insetBlockStart:"50%",insetInlineEnd:0,width:H,height:e.calc(e.fontHeight).sub(e.calc(e.marginXXS).mul(2)).equal(),transform:"translateY(-50%)",backgroundColor:e.colorSplit}}},[`${t}-empty`]:{padding:`${(0,J.bf)(x)} 0`,color:V,fontSize:e.fontSizeSM,textAlign:"center"},[`${t}-empty-text`]:{padding:Y,color:e.colorTextDisabled,fontSize:e.fontSize,textAlign:"center"},[`${t}-item-no-flex`]:{display:"block"}}),[`${t}-grid ${o}-col > ${t}-item`]:{display:"block",maxWidth:"100%",marginBlockEnd:F,paddingBlock:0,borderBlockEnd:"none"},[`${t}-vertical ${t}-item`]:{alignItems:"initial",[`${t}-item-main`]:{display:"block",flex:1},[`${t}-item-extra`]:{marginInlineStart:_},[`${t}-item-meta`]:{marginBlockEnd:q,[`${t}-item-meta-title`]:{marginBlockStart:0,marginBlockEnd:re,color:B,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG}},[`${t}-item-action`]:{marginBlockStart:x,marginInlineStart:"auto","> li":{padding:`0 ${(0,J.bf)(x)}`,"&:first-child":{paddingInlineStart:0}}}},[`${t}-split ${t}-item`]:{borderBlockEnd:`${(0,J.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderBlockEnd:"none"}},[`${t}-split ${t}-header`]:{borderBlockEnd:`${(0,J.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-split${t}-empty ${t}-footer`]:{borderTop:`${(0,J.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-loading ${t}-spin-nested-loading`]:{minHeight:i},[`${t}-split${t}-something-after-last-item ${o}-spin-container > ${t}-items > ${t}-item:last-child`]:{borderBlockEnd:`${(0,J.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-lg ${t}-item`]:{padding:R},[`${t}-sm ${t}-item`]:{padding:M},[`${t}:not(${t}-vertical)`]:{[`${t}-item-no-flex`]:{[`${t}-item-action`]:{float:"right"}}}}},kL=e=>({contentWidth:220,itemPadding:`${(0,J.bf)(e.paddingContentVertical)} 0`,itemPaddingSM:`${(0,J.bf)(e.paddingContentVerticalSM)} ${(0,J.bf)(e.paddingContentHorizontal)}`,itemPaddingLG:`${(0,J.bf)(e.paddingContentVerticalLG)} ${(0,J.bf)(e.paddingContentHorizontalLG)}`,headerBg:"transparent",footerBg:"transparent",emptyTextPadding:e.padding,metaMarginBottom:e.padding,avatarMarginRight:e.padding,titleMarginBottom:e.paddingSM,descriptionFontSize:e.fontSize});var jL=(0,Ae.I$)("List",e=>{const t=(0,vn.IX)(e,{listBorderedCls:`${e.componentCls}-bordered`,minHeight:e.controlHeightLG});return[FL(t),NL(t),BL(t)]},kL),ZL=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};function VL(e,t){var{pagination:o=!1,prefixCls:i,bordered:u=!1,split:g=!0,className:_,rootClassName:x,style:S,children:T,itemLayout:M,loadMore:R,grid:N,dataSource:F=[],size:B,header:V,footer:j,loading:H=!1,rowKey:U,renderItem:K,locale:Y}=e,q=ZL(e,["pagination","prefixCls","bordered","split","className","rootClassName","style","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]);const Q=o&&typeof o=="object"?o:{},[re,ae]=s.useState(Q.defaultCurrent||1),[se,de]=s.useState(Q.defaultPageSize||10),{getPrefixCls:pe,direction:ge,className:me,style:be}=(0,De.dj)("list"),{renderEmpty:_e}=s.useContext(De.E_),Ie={current:1,total:0},Ce=cn=>(zn,An)=>{var sr;ae(zn),de(An),o&&((sr=o==null?void 0:o[cn])===null||sr===void 0||sr.call(o,zn,An))},Le=Ce("onChange"),ze=Ce("onShowSizeChange"),ke=(cn,zn)=>{if(!K)return null;let An;return typeof U=="function"?An=U(cn):U?An=cn[U]:An=cn.key,An||(An=`list-item-${zn}`),s.createElement(s.Fragment,{key:An},K(cn,zn))},Ze=()=>!!(R||o||j),je=pe("list",i),[Ue,He,Qe]=jL(je);let We=H;typeof We=="boolean"&&(We={spinning:We});const it=!!(We!=null&&We.spinning),Je=(0,Ts.Z)(B);let wt="";switch(Je){case"large":wt="lg";break;case"small":wt="sm";break;default:break}const Dt=oe()(je,{[`${je}-vertical`]:M==="vertical",[`${je}-${wt}`]:wt,[`${je}-split`]:g,[`${je}-bordered`]:u,[`${je}-loading`]:it,[`${je}-grid`]:!!N,[`${je}-something-after-last-item`]:Ze(),[`${je}-rtl`]:ge==="rtl"},me,_,x,He,Qe),ct=VS(Ie,{total:F.length,current:re,pageSize:se},o||{}),ht=Math.ceil(ct.total/ct.pageSize);ct.current>ht&&(ct.current=ht);const ut=o&&s.createElement("div",{className:oe()(`${je}-pagination`)},s.createElement(Yx,Object.assign({align:"end"},ct,{onChange:Le,onShowSizeChange:ze})));let tt=(0,Be.Z)(F);o&&F.length>(ct.current-1)*ct.pageSize&&(tt=(0,Be.Z)(F).splice((ct.current-1)*ct.pageSize,ct.pageSize));const xt=Object.keys(N||{}).some(cn=>["xs","sm","md","lg","xl","xxl"].includes(cn)),_t=(0,ep.Z)(xt),dn=s.useMemo(()=>{for(let cn=0;cn<ug.c4.length;cn+=1){const zn=ug.c4[cn];if(_t[zn])return zn}},[_t]),on=s.useMemo(()=>{if(!N)return;const cn=dn&&N[dn]?N[dn]:N.column;if(cn)return{width:`${100/cn}%`,maxWidth:`${100/cn}%`}},[JSON.stringify(N),dn]);let Ut=it&&s.createElement("div",{style:{minHeight:53}});if(tt.length>0){const cn=tt.map((zn,An)=>ke(zn,An));Ut=N?s.createElement(jT.Z,{gutter:N.gutter},s.Children.map(cn,zn=>s.createElement("div",{key:zn==null?void 0:zn.key,style:on},zn))):s.createElement("ul",{className:`${je}-items`},cn)}else!T&&!it&&(Ut=s.createElement("div",{className:`${je}-empty-text`},(Y==null?void 0:Y.emptyText)||(_e==null?void 0:_e("List"))||s.createElement(th,{componentName:"List"})));const en=ct.position||"bottom",kt=s.useMemo(()=>({grid:N,itemLayout:M}),[JSON.stringify(N),M]);return Ue(s.createElement(WS.Provider,{value:kt},s.createElement("div",Object.assign({ref:t,style:Object.assign(Object.assign({},be),S),className:Dt},q),(en==="top"||en==="both")&&ut,V&&s.createElement("div",{className:`${je}-header`},V),s.createElement(Vv,Object.assign({},We),Ut,T),j&&s.createElement("div",{className:`${je}-footer`},j),R||(en==="bottom"||en==="both")&&ut)))}const rM=s.forwardRef(VL);rM.Item=LL;var HL=rM;function UL(){var e=(0,s.useState)({id:0,callback:null}),t=(0,ve.Z)(e,2),o=t[0],i=t[1],u=(0,s.useCallback)(function(g){i(function(_){var x=_.id;return{id:x+1,callback:g}})},[]);return(0,s.useEffect)(function(){var g;(g=o.callback)===null||g===void 0||g.call(o)},[o]),u}var WL=s.createContext(null),iM=WL;function GL(e){var t=s.useContext(iM),o=t.notFoundContent,i=t.activeIndex,u=t.setActiveIndex,g=t.selectOption,_=t.onFocus,x=t.onBlur,S=t.onScroll,T=e.prefixCls,M=e.options,R=M[i]||{};return s.createElement(dm,{prefixCls:"".concat(T,"-menu"),activeKey:R.key,onSelect:function(F){var B=F.key,V=M.find(function(j){var H=j.key;return H===B});g(V)},onFocus:_,onBlur:x,onScroll:S},M.map(function(N,F){var B=N.key,V=N.disabled,j=N.className,H=N.style,U=N.label;return s.createElement(zd,{key:B,disabled:V,className:j,style:H,onMouseEnter:function(){u(F)}},U)}),!M.length&&s.createElement(zd,{disabled:!0},o))}var XL=GL,qL={bottomRight:{points:["tl","br"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},bottomLeft:{points:["tr","bl"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},topRight:{points:["bl","tr"],offset:[0,-4],overflow:{adjustX:1,adjustY:1}},topLeft:{points:["br","tl"],offset:[0,-4],overflow:{adjustX:1,adjustY:1}}},KL=function(t){var o=t.prefixCls,i=t.options,u=t.children,g=t.visible,_=t.transitionName,x=t.getPopupContainer,S=t.dropdownClassName,T=t.direction,M=t.placement,R="".concat(o,"-dropdown"),N=s.createElement(XL,{prefixCls:R,options:i}),F=(0,s.useMemo)(function(){var B;return T==="rtl"?B=M==="top"?"topLeft":"bottomLeft":B=M==="top"?"topRight":"bottomRight",B},[T,M]);return s.createElement(Ka.Z,{prefixCls:R,popupVisible:g,popup:N,popupPlacement:F,popupTransitionName:_,builtinPlacements:qL,getPopupContainer:x,popupClassName:S},u)},YL=KL,JL=function(){return null},QL=JL;function eN(e){var t=e.selectionStart;return e.value.slice(0,t)}function tN(e,t){return t.reduce(function(o,i){var u=e.lastIndexOf(i);return u>o.location?{location:u,prefix:i}:o},{location:-1,prefix:""})}function oM(e){return(e||"").toLowerCase()}function nN(e,t,o){var i=e[0];if(!i||i===o)return e;for(var u=e,g=t.length,_=0;_<g;_+=1)if(oM(u[_])!==oM(t[_])){u=u.slice(_);break}else _===g-1&&(u=u.slice(g));return u}function rN(e,t){var o=t.measureLocation,i=t.prefix,u=t.targetText,g=t.selectionStart,_=t.split,x=e.slice(0,o);x[x.length-_.length]===_&&(x=x.slice(0,x.length-_.length)),x&&(x="".concat(x).concat(_));var S=nN(e.slice(g),u.slice(g-o-i.length),_);S.slice(0,_.length)===_&&(S=S.slice(_.length));var T="".concat(x).concat(i).concat(u).concat(_);return{text:"".concat(T).concat(S),selectionLocation:T.length}}function iN(e,t){e.setSelectionRange(t,t),e.blur(),e.focus()}function oN(e,t){return!t||e.indexOf(t)===-1}function aN(e,t){var o=t.value,i=o===void 0?"":o,u=e.toLowerCase();return i.toLowerCase().indexOf(u)!==-1}var sN=["prefixCls","className","style","prefix","split","notFoundContent","value","defaultValue","children","options","open","allowClear","silent","validateSearch","filterOption","onChange","onKeyDown","onKeyUp","onPressEnter","onSearch","onSelect","onFocus","onBlur","transitionName","placement","direction","getPopupContainer","dropdownClassName","rows","visible","onPopupScroll"],lN=["suffix","prefixCls","defaultValue","value","allowClear","onChange","classNames","className","disabled","onClear"],cN=(0,s.forwardRef)(function(e,t){var o=e.prefixCls,i=e.className,u=e.style,g=e.prefix,_=g===void 0?"@":g,x=e.split,S=x===void 0?" ":x,T=e.notFoundContent,M=T===void 0?"Not Found":T,R=e.value,N=e.defaultValue,F=e.children,B=e.options,V=e.open,j=e.allowClear,H=e.silent,U=e.validateSearch,K=U===void 0?oN:U,Y=e.filterOption,q=Y===void 0?aN:Y,Q=e.onChange,re=e.onKeyDown,ae=e.onKeyUp,se=e.onPressEnter,de=e.onSearch,pe=e.onSelect,ge=e.onFocus,me=e.onBlur,be=e.transitionName,_e=e.placement,Ie=e.direction,Ce=e.getPopupContainer,Le=e.dropdownClassName,ze=e.rows,ke=ze===void 0?1:ze,Ze=e.visible,je=e.onPopupScroll,Ue=(0,Ve.Z)(e,sN),He=(0,s.useMemo)(function(){return Array.isArray(_)?_:[_]},[_]),Qe=(0,s.useRef)(null),We=(0,s.useRef)(null),it=(0,s.useRef)(null),Je=function(){var Si;return(Si=We.current)===null||Si===void 0||(Si=Si.resizableTextArea)===null||Si===void 0?void 0:Si.textArea};s.useImperativeHandle(t,function(){var Di;return{focus:function(){var Ii;return(Ii=We.current)===null||Ii===void 0?void 0:Ii.focus()},blur:function(){var Ii;return(Ii=We.current)===null||Ii===void 0?void 0:Ii.blur()},textarea:(Di=We.current)===null||Di===void 0||(Di=Di.resizableTextArea)===null||Di===void 0?void 0:Di.textArea,nativeElement:Qe.current}});var wt=(0,s.useState)(!1),Dt=(0,ve.Z)(wt,2),ct=Dt[0],ht=Dt[1],ut=(0,s.useState)(""),tt=(0,ve.Z)(ut,2),xt=tt[0],_t=tt[1],dn=(0,s.useState)(""),on=(0,ve.Z)(dn,2),Ut=on[0],en=on[1],kt=(0,s.useState)(0),cn=(0,ve.Z)(kt,2),zn=cn[0],An=cn[1],sr=(0,s.useState)(0),yr=(0,ve.Z)(sr,2),Vr=yr[0],Qn=yr[1],Un=(0,s.useState)(!1),er=(0,ve.Z)(Un,2),Ir=er[0],pr=er[1],Zr=(0,Jo.Z)("",{defaultValue:N,value:R}),xn=(0,ve.Z)(Zr,2),fn=xn[0],yn=xn[1];(0,s.useEffect)(function(){ct&&it.current&&(it.current.scrollTop=Je().scrollTop)},[ct]);var Gt=s.useMemo(function(){if(V)for(var Di=0;Di<He.length;Di+=1){var Si=He[Di],Ii=fn.lastIndexOf(Si);if(Ii>=0)return[!0,"",Si,Ii]}return[ct,xt,Ut,zn]},[V,ct,He,fn,xt,Ut,zn]),Kn=(0,ve.Z)(Gt,4),vr=Kn[0],Jr=Kn[1],Hi=Kn[2],Gi=Kn[3],Zi=s.useCallback(function(Di){var Si;return B&&B.length>0?Si=B.map(function(Ii){var da;return(0,fe.Z)((0,fe.Z)({},Ii),{},{key:(da=Ii==null?void 0:Ii.key)!==null&&da!==void 0?da:Ii.value})}):Si=(0,El.Z)(F).map(function(Ii){var da=Ii.props,Qa=Ii.key;return(0,fe.Z)((0,fe.Z)({},da),{},{label:da.children,key:Qa||da.value})}),Si.filter(function(Ii){return q===!1?!0:q(Di,Ii)})},[F,B,q]),Fa=s.useMemo(function(){return Zi(Jr)},[Zi,Jr]),Do=UL(),zo=function(Si,Ii,da){ht(!0),_t(Si),en(Ii),An(da),Qn(0)},oo=function(Si){ht(!1),An(0),_t(""),Do(Si)},Uo=function(Si){yn(Si),Q==null||Q(Si)},ua=function(Si){var Ii=Si.target.value;Uo(Ii)},xi=function(Si){var Ii,da=Si.value,Qa=da===void 0?"":da,Wo=rN(fn,{measureLocation:Gi,targetText:Qa,prefix:Hi,selectionStart:(Ii=Je())===null||Ii===void 0?void 0:Ii.selectionStart,split:S}),lo=Wo.text,va=Wo.selectionLocation;Uo(lo),oo(function(){iN(Je(),va)}),pe==null||pe(Si,Hi)},Fi=function(Si){var Ii=Si.which;if(re==null||re(Si),!!vr){if(Ii===nt.Z.UP||Ii===nt.Z.DOWN){var da=Fa.length,Qa=Ii===nt.Z.UP?-1:1,Wo=(Vr+Qa+da)%da;Qn(Wo),Si.preventDefault()}else if(Ii===nt.Z.ESC)oo();else if(Ii===nt.Z.ENTER){if(Si.preventDefault(),H)return;if(!Fa.length){oo();return}var lo=Fa[Vr];xi(lo)}}},Wr=function(Si){var Ii=Si.key,da=Si.which,Qa=Si.target,Wo=eN(Qa),lo=tN(Wo,He),va=lo.location,ka=lo.prefix;if(ae==null||ae(Si),[nt.Z.ESC,nt.Z.UP,nt.Z.DOWN,nt.Z.ENTER].indexOf(da)===-1)if(va!==-1){var Us=Wo.slice(va+ka.length),Ti=K(Us,S),xr=!!Zi(Us).length;Ti?(Ii===ka||Ii==="Shift"||da===nt.Z.ALT||Ii==="AltGraph"||vr||Us!==Jr&&xr)&&zo(Us,ka,va):vr&&oo(),de&&Ti&&de(Us,ka)}else vr&&oo()},gi=function(Si){!vr&&se&&se(Si)},Ci=(0,s.useRef)(),Yi=function(Si){window.clearTimeout(Ci.current),!Ir&&Si&&ge&&ge(Si),pr(!0)},xa=function(Si){Ci.current=window.setTimeout(function(){pr(!1),oo(),me==null||me(Si)},0)},Pa=function(){Yi()},Fs=function(){xa()},Xi=function(Si){je==null||je(Si)};return s.createElement("div",{className:oe()(o,i),style:u,ref:Qe},s.createElement(BT,(0,Pt.Z)({ref:We,value:fn},Ue,{rows:ke,onChange:ua,onKeyDown:Fi,onKeyUp:Wr,onPressEnter:gi,onFocus:Yi,onBlur:xa})),vr&&s.createElement("div",{ref:it,className:"".concat(o,"-measure")},fn.slice(0,Gi),s.createElement(iM.Provider,{value:{notFoundContent:M,activeIndex:Vr,setActiveIndex:Qn,selectOption:xi,onFocus:Pa,onBlur:Fs,onScroll:Xi}},s.createElement(YL,{prefixCls:o,transitionName:be,placement:_e,direction:Ie,options:Fa,visible:!0,getPopupContainer:Ce,dropdownClassName:Le},s.createElement("span",null,Hi))),fn.slice(Gi+Hi.length)))}),aM=(0,s.forwardRef)(function(e,t){var o=e.suffix,i=e.prefixCls,u=i===void 0?"rc-mentions":i,g=e.defaultValue,_=e.value,x=e.allowClear,S=e.onChange,T=e.classNames,M=e.className,R=e.disabled,N=e.onClear,F=(0,Ve.Z)(e,lN),B=(0,s.useRef)(null),V=(0,s.useRef)(null);(0,s.useImperativeHandle)(t,function(){var Q,re;return(0,fe.Z)((0,fe.Z)({},V.current),{},{nativeElement:((Q=B.current)===null||Q===void 0?void 0:Q.nativeElement)||((re=V.current)===null||re===void 0?void 0:re.nativeElement)})});var j=(0,Jo.Z)("",{defaultValue:g,value:_}),H=(0,ve.Z)(j,2),U=H[0],K=H[1],Y=function(re){K(re),S==null||S(re)},q=function(){Y("")};return s.createElement(xS.Q,{suffix:o,prefixCls:u,value:U,allowClear:x,handleReset:q,className:M,classNames:T,disabled:R,ref:B,onClear:N},s.createElement(cN,(0,Pt.Z)({className:T==null?void 0:T.mentions,prefixCls:u,ref:V,onChange:Y,disabled:R},F)))});aM.Option=QL;var uN=aM,sM=uN;function Qx(e){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)&&e==null?[]:Array.isArray(e)?e:[e]}const dN=e=>{const{componentCls:t,colorTextDisabled:o,controlItemBgHover:i,controlPaddingHorizontal:u,colorText:g,motionDurationSlow:_,lineHeight:x,controlHeight:S,paddingInline:T,paddingBlock:M,fontSize:R,fontSizeIcon:N,colorTextTertiary:F,colorTextQuaternary:B,colorBgElevated:V,paddingXXS:j,paddingLG:H,borderRadius:U,borderRadiusLG:K,boxShadowSecondary:Y,itemPaddingVertical:q,calc:Q}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,mn.Wf)(e)),(0,Sh.ik)(e)),{position:"relative",display:"inline-block",height:"auto",padding:0,overflow:"hidden",lineHeight:x,whiteSpace:"pre-wrap",verticalAlign:"bottom"}),(0,If.qG)(e)),(0,If.H8)(e)),(0,If.Mu)(e)),{"&-affix-wrapper":Object.assign(Object.assign({},(0,Sh.ik)(e)),{display:"inline-flex",padding:0,"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[`${t}-suffix`]:{position:"absolute",top:0,insetInlineEnd:T,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto"},[`&:has(${t}-suffix) > ${t} > textarea`]:{paddingInlineEnd:H},[`${t}-clear-icon`]:{position:"absolute",insetInlineEnd:0,insetBlockStart:Q(R).mul(x).mul(.5).add(M).equal(),transform:"translateY(-50%)",margin:0,padding:0,color:B,fontSize:N,verticalAlign:-1,cursor:"pointer",transition:`color ${_}`,border:"none",outline:"none",backgroundColor:"transparent","&:hover":{color:F},"&:active":{color:g},"&-hidden":{visibility:"hidden"}}})}),(0,If.vc)(e)),{"&-disabled":{"> textarea":Object.assign({},(0,If.Xy)(e))},[`&, &-affix-wrapper > ${t}`]:{[`> textarea, ${t}-measure`]:{color:g,boxSizing:"border-box",minHeight:e.calc(S).sub(2),margin:0,padding:`${(0,J.bf)(M)} ${(0,J.bf)(T)}`,overflow:"inherit",overflowX:"hidden",overflowY:"auto",fontWeight:"inherit",fontSize:"inherit",fontFamily:"inherit",fontStyle:"inherit",fontVariant:"inherit",fontSizeAdjust:"inherit",fontStretch:"inherit",lineHeight:"inherit",direction:"inherit",letterSpacing:"inherit",whiteSpace:"inherit",textAlign:"inherit",verticalAlign:"top",wordWrap:"break-word",wordBreak:"inherit",tabSize:"inherit"},"> textarea":Object.assign({width:"100%",border:"none",outline:"none",resize:"none",backgroundColor:"transparent"},(0,Sh.nz)(e.colorTextPlaceholder)),[`${t}-measure`]:{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:-1,color:"transparent",pointerEvents:"none","> span":{display:"inline-block",minHeight:"1em"}}},"&-dropdown":Object.assign(Object.assign({},(0,mn.Wf)(e)),{position:"absolute",top:-9999,insetInlineStart:-9999,zIndex:e.zIndexPopup,boxSizing:"border-box",fontSize:R,fontVariant:"initial",padding:j,backgroundColor:V,borderRadius:K,outline:"none",boxShadow:Y,"&-hidden":{display:"none"},[`${t}-dropdown-menu`]:{maxHeight:e.dropdownHeight,margin:0,paddingInlineStart:0,overflow:"auto",listStyle:"none",outline:"none","&-item":Object.assign(Object.assign({},mn.vS),{position:"relative",display:"block",minWidth:e.controlItemWidth,padding:`${(0,J.bf)(q)} ${(0,J.bf)(u)}`,color:g,borderRadius:U,fontWeight:"normal",lineHeight:x,cursor:"pointer",transition:`background ${_} ease`,"&:hover":{backgroundColor:i},"&-disabled":{color:o,cursor:"not-allowed","&:hover":{color:o,backgroundColor:i,cursor:"not-allowed"}},"&-selected":{color:g,fontWeight:e.fontWeightStrong,backgroundColor:i},"&-active":{backgroundColor:i}})}})})}},fN=e=>Object.assign(Object.assign({},(0,sd.T)(e)),{dropdownHeight:250,controlItemWidth:100,zIndexPopup:e.zIndexPopupBase+50,itemPaddingVertical:(e.controlHeight-e.fontHeight)/2});var hN=(0,Ae.I$)("Mentions",e=>{const t=(0,vn.IX)(e,(0,sd.e)(e));return[dN(t)]},fN),pN=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};const{Option:lM}=sM;function mN(){return!0}const Y_=s.forwardRef((e,t)=>{const{prefixCls:o,className:i,rootClassName:u,disabled:g,loading:_,filterOption:x,children:S,notFoundContent:T,options:M,status:R,allowClear:N=!1,popupClassName:F,style:B,variant:V}=e,j=pN(e,["prefixCls","className","rootClassName","disabled","loading","filterOption","children","notFoundContent","options","status","allowClear","popupClassName","style","variant"]),[H,U]=s.useState(!1),K=s.useRef(null),Y=(0,zr.sQ)(t,K),{getPrefixCls:q,renderEmpty:Q,direction:re,mentions:ae}=s.useContext(De.E_),{status:se,hasFeedback:de,feedbackIcon:pe}=s.useContext(gc.aM),ge=(0,Il.F)(se,R),me=function(){j.onFocus&&j.onFocus.apply(j,arguments),U(!0)},be=function(){j.onBlur&&j.onBlur.apply(j,arguments),U(!1)},_e=s.useMemo(()=>T!==void 0?T:(Q==null?void 0:Q("Select"))||s.createElement(th,{componentName:"Select"}),[T,Q]),Ie=s.useMemo(()=>_?s.createElement(lM,{value:"ANTD_SEARCHING",disabled:!0},s.createElement(Vv,{size:"small"})):S,[_,S]),Ce=_?[{value:"ANTD_SEARCHING",disabled:!0,label:s.createElement(Vv,{size:"small"})}]:M,Le=_?mN:x,ze=q("mentions",o),ke=CS(N),Ze=(0,po.Z)(ze),[je,Ue,He]=hN(ze,Ze),[Qe,We]=(0,Pu.Z)("mentions",V),it=de&&s.createElement(s.Fragment,null,pe),Je=oe()(ae==null?void 0:ae.className,i,u,He,Ze),wt=s.createElement(sM,Object.assign({silent:_,prefixCls:ze,notFoundContent:_e,className:Je,disabled:g,allowClear:ke,direction:re,style:Object.assign(Object.assign({},ae==null?void 0:ae.style),B)},j,{filterOption:Le,onFocus:me,onBlur:be,dropdownClassName:oe()(F,u,Ue,He,Ze),ref:Y,options:Ce,suffix:it,classNames:{mentions:oe()({[`${ze}-disabled`]:g,[`${ze}-focused`]:H,[`${ze}-rtl`]:re==="rtl"},Ue),variant:oe()({[`${ze}-${Qe}`]:We},(0,Il.Z)(ze,ge)),affixWrapper:Ue}}),Ie);return je(wt)});Y_.Option=lM;const gN=ft(Y_,void 0,void 0,"mentions");Y_._InternalPanelDoNotUseOrYouWillBeFired=gN,Y_.getMentions=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{prefix:o="@",split:i=" "}=t,u=Qx(o);return e.split(i).map(function(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",_=null;return u.some(x=>g.slice(0,x.length)===x?(_=x,!0):!1),_!==null?{prefix:_,value:g.slice(_.length)}:null}).filter(g=>!!g&&!!g.value)};var vN=Y_;let Nd=null,a0=e=>e(),J_=[],Q_={};function cM(){const{getContainer:e,duration:t,rtl:o,maxCount:i,top:u}=Q_,g=(e==null?void 0:e())||document.body;return{getContainer:()=>g,duration:t,rtl:o,maxCount:i,top:u}}const yN=s.forwardRef((e,t)=>{const{messageConfig:o,sync:i}=e,{getPrefixCls:u}=(0,s.useContext)(De.E_),g=Q_.prefixCls||u("message"),_=(0,s.useContext)(G),[x,S]=si(Object.assign(Object.assign(Object.assign({},o),{prefixCls:g}),_.message));return s.useImperativeHandle(t,()=>{const T=Object.assign({},x);return Object.keys(T).forEach(M=>{T[M]=function(){return i(),x[M].apply(x,arguments)}}),{instance:T,sync:i}}),S}),_N=s.forwardRef((e,t)=>{const[o,i]=s.useState(cM),u=()=>{i(cM)};s.useEffect(u,[]);const g=(0,ms.w6)(),_=g.getRootPrefixCls(),x=g.getIconPrefixCls(),S=g.getTheme(),T=s.createElement(yN,{ref:t,sync:u,messageConfig:o});return s.createElement(ms.ZP,{prefixCls:_,iconPrefixCls:x,theme:S},g.holderRender?g.holderRender(T):T)});function eC(){if(!Nd){const e=document.createDocumentFragment(),t={fragment:e};Nd=t,a0(()=>{li()(s.createElement(_N,{ref:i=>{const{instance:u,sync:g}=i||{};Promise.resolve().then(()=>{!t.instance&&u&&(t.instance=u,t.sync=g,eC())})}}),e)});return}Nd.instance&&(J_.forEach(e=>{const{type:t,skipped:o}=e;if(!o)switch(t){case"open":{a0(()=>{const i=Nd.instance.open(Object.assign(Object.assign({},Q_),e.config));i==null||i.then(e.resolve),e.setCloseFn(i)});break}case"destroy":a0(()=>{Nd==null||Nd.instance.destroy(e.key)});break;default:a0(()=>{var i;const u=(i=Nd.instance)[t].apply(i,(0,Be.Z)(e.args));u==null||u.then(e.resolve),e.setCloseFn(u)})}}),J_=[])}function bN(e){Q_=Object.assign(Object.assign({},Q_),e),a0(()=>{var t;(t=Nd==null?void 0:Nd.sync)===null||t===void 0||t.call(Nd)})}function xN(e){const t=ns(o=>{let i;const u={type:"open",config:e,resolve:o,setCloseFn:g=>{i=g}};return J_.push(u),()=>{i?a0(()=>{i()}):u.skipped=!0}});return eC(),t}function CN(e,t){const o=(0,ms.w6)(),i=ns(u=>{let g;const _={type:e,args:t,resolve:u,setCloseFn:x=>{g=x}};return J_.push(_),()=>{g?a0(()=>{g()}):_.skipped=!0}});return eC(),i}const wN=e=>{J_.push({type:"destroy",key:e}),eC()},SN=["success","info","warning","error","loading"],uM={open:xN,destroy:wN,config:bN,useMessage:ks,_InternalPanelDoNotUseOrYouWillBeFired:ys};SN.forEach(e=>{uM[e]=function(){for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return CN(e,o)}});const aW=()=>{};let sW=null,lW=null;var EN=uM,IN=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o},TN=pt(e=>{const{prefixCls:t,className:o,closeIcon:i,closable:u,type:g,title:_,children:x,footer:S}=e,T=IN(e,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:M}=s.useContext(De.E_),R=M(),N=t||M("modal"),F=(0,po.Z)(R),[B,V,j]=I0(N,F),H=`${N}-confirm`;let U={};return g?U={closable:u!=null?u:!1,title:"",footer:"",children:s.createElement(jc,Object.assign({},e,{prefixCls:N,confirmPrefixCls:H,rootPrefixCls:R,content:x}))}:U={closable:u!=null?u:!0,title:_,footer:S!==null&&s.createElement(Xm,Object.assign({},e)),children:x},B(s.createElement(lf,Object.assign({prefixCls:N,className:oe()(V,`${N}-pure-panel`,g&&H,g&&`${H}-${g}`,o,j,F)},T,{closeIcon:Wf(N,i),closable:u},U)))});function dM(e){return gf(Sd(e))}const Tf=qh;Tf.useModal=yf,Tf.info=function(t){return gf(Ed(t))},Tf.success=function(t){return gf(Iu(t))},Tf.error=function(t){return gf(eu(t))},Tf.warning=dM,Tf.warn=dM,Tf.confirm=function(t){return gf(Ju(t))},Tf.destroyAll=function(){for(;du.length;){const t=du.pop();t&&t()}},Tf.config=vf,Tf._InternalPanelDoNotUseOrYouWillBeFired=TN;var MN=Tf;let Mf=null,tC=e=>e(),nC=[],eb={};function fM(){const{getContainer:e,rtl:t,maxCount:o,top:i,bottom:u,showProgress:g,pauseOnHover:_}=eb,x=(e==null?void 0:e())||document.body;return{getContainer:()=>x,rtl:t,maxCount:o,top:i,bottom:u,showProgress:g,pauseOnHover:_}}const PN=s.forwardRef((e,t)=>{const{notificationConfig:o,sync:i}=e,{getPrefixCls:u}=(0,s.useContext)(De.E_),g=eb.prefixCls||u("notification"),_=(0,s.useContext)(G),[x,S]=Z(Object.assign(Object.assign(Object.assign({},o),{prefixCls:g}),_.notification));return s.useEffect(i,[]),s.useImperativeHandle(t,()=>{const T=Object.assign({},x);return Object.keys(T).forEach(M=>{T[M]=function(){return i(),x[M].apply(x,arguments)}}),{instance:T,sync:i}}),S}),ON=s.forwardRef((e,t)=>{const[o,i]=s.useState(fM),u=()=>{i(fM)};s.useEffect(u,[]);const g=(0,ms.w6)(),_=g.getRootPrefixCls(),x=g.getIconPrefixCls(),S=g.getTheme(),T=s.createElement(PN,{ref:t,sync:u,notificationConfig:o});return s.createElement(ms.ZP,{prefixCls:_,iconPrefixCls:x,theme:S},g.holderRender?g.holderRender(T):T)});function GS(){if(!Mf){const e=document.createDocumentFragment(),t={fragment:e};Mf=t,tC(()=>{li()(s.createElement(ON,{ref:i=>{const{instance:u,sync:g}=i||{};Promise.resolve().then(()=>{!t.instance&&u&&(t.instance=u,t.sync=g,GS())})}}),e)});return}Mf.instance&&(nC.forEach(e=>{switch(e.type){case"open":{tC(()=>{Mf.instance.open(Object.assign(Object.assign({},eb),e.config))});break}case"destroy":tC(()=>{Mf==null||Mf.instance.destroy(e.key)});break}}),nC=[])}function $N(e){eb=Object.assign(Object.assign({},eb),e),tC(()=>{var t;(t=Mf==null?void 0:Mf.sync)===null||t===void 0||t.call(Mf)})}function hM(e){const t=(0,ms.w6)();nC.push({type:"open",config:e}),GS()}const RN=e=>{nC.push({type:"destroy",key:e}),GS()},AN=["success","info","warning","error"],pM={open:hM,destroy:RN,config:$N,useNotification:W,_InternalPanelDoNotUseOrYouWillBeFired:gl};AN.forEach(e=>{pM[e]=t=>hM(Object.assign(Object.assign({},t),{type:e}))});const dW=()=>{};let fW=null,hW=null;var DN=pM;const zN=e=>{const{componentCls:t,iconCls:o,antCls:i,zIndexPopup:u,colorText:g,colorWarning:_,marginXXS:x,marginXS:S,fontSize:T,fontWeightStrong:M,colorTextHeading:R}=e;return{[t]:{zIndex:u,[`&${i}-popover`]:{fontSize:T},[`${t}-message`]:{marginBottom:S,display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${t}-message-icon ${o}`]:{color:_,fontSize:T,lineHeight:1,marginInlineEnd:S},[`${t}-title`]:{fontWeight:M,color:R,"&:only-child":{fontWeight:"normal"}},[`${t}-description`]:{marginTop:x,color:g}},[`${t}-buttons`]:{textAlign:"end",whiteSpace:"nowrap",button:{marginInlineStart:S}}}}},LN=e=>{const{zIndexPopupBase:t}=e;return{zIndexPopup:t+60}};var mM=(0,Ae.I$)("Popconfirm",e=>zN(e),LN,{resetStyle:!1}),NN=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};const gM=e=>{const{prefixCls:t,okButtonProps:o,cancelButtonProps:i,title:u,description:g,cancelText:_,okText:x,okType:S="primary",icon:T=s.createElement(Qr.Z,null),showCancel:M=!0,close:R,onConfirm:N,onCancel:F,onPopupClick:B}=e,{getPrefixCls:V}=s.useContext(De.E_),[j]=(0,Pr.Z)("Popconfirm",Ac.Z.Popconfirm),H=ah(u),U=ah(g);return s.createElement("div",{className:`${t}-inner-content`,onClick:B},s.createElement("div",{className:`${t}-message`},T&&s.createElement("span",{className:`${t}-message-icon`},T),s.createElement("div",{className:`${t}-message-text`},H&&s.createElement("div",{className:`${t}-title`},H),U&&s.createElement("div",{className:`${t}-description`},U))),s.createElement("div",{className:`${t}-buttons`},M&&s.createElement(Xl,Object.assign({onClick:F,size:"small"},i),_||(j==null?void 0:j.cancelText)),s.createElement(rf,{buttonProps:Object.assign(Object.assign({size:"small"},Yc(S)),o),actionFn:N,close:R,prefixCls:V("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},x||(j==null?void 0:j.okText))))};var BN=e=>{const{prefixCls:t,placement:o,className:i,style:u}=e,g=NN(e,["prefixCls","placement","className","style"]),{getPrefixCls:_}=s.useContext(De.E_),x=_("popconfirm",t),[S]=mM(x);return S(s.createElement(Ly,{placement:o,className:oe()(x,i),style:u,content:s.createElement(gM,Object.assign({prefixCls:x},g))}))},FN=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};const vM=s.forwardRef((e,t)=>{var o,i;const{prefixCls:u,placement:g="top",trigger:_="click",okType:x="primary",icon:S=s.createElement(Qr.Z,null),children:T,overlayClassName:M,onOpenChange:R,onVisibleChange:N,overlayStyle:F,styles:B,classNames:V}=e,j=FN(e,["prefixCls","placement","trigger","okType","icon","children","overlayClassName","onOpenChange","onVisibleChange","overlayStyle","styles","classNames"]),{getPrefixCls:H,className:U,style:K,classNames:Y,styles:q}=(0,De.dj)("popconfirm"),[Q,re]=(0,Jo.Z)(!1,{value:(o=e.open)!==null&&o!==void 0?o:e.visible,defaultValue:(i=e.defaultOpen)!==null&&i!==void 0?i:e.defaultVisible}),ae=(Ce,Le)=>{re(Ce,!0),N==null||N(Ce),R==null||R(Ce,Le)},se=Ce=>{ae(!1,Ce)},de=Ce=>{var Le;return(Le=e.onConfirm)===null||Le===void 0?void 0:Le.call(void 0,Ce)},pe=Ce=>{var Le;ae(!1,Ce),(Le=e.onCancel)===null||Le===void 0||Le.call(void 0,Ce)},ge=(Ce,Le)=>{const{disabled:ze=!1}=e;ze||ae(Ce,Le)},me=H("popconfirm",u),be=oe()(me,U,M,Y.root,V==null?void 0:V.root),_e=oe()(Y.body,V==null?void 0:V.body),[Ie]=mM(me);return Ie(s.createElement(W0,Object.assign({},(0,Er.Z)(j,["title"]),{trigger:_,placement:g,onOpenChange:ge,open:Q,ref:t,classNames:{root:be,body:_e},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign({},q.root),K),F),B==null?void 0:B.root),body:Object.assign(Object.assign({},q.body),B==null?void 0:B.body)},content:s.createElement(gM,Object.assign({okType:x,icon:S},e,{prefixCls:me,close:se,onConfirm:de,onCancel:pe})),"data-popover-inject":!0}),T))});vM._InternalPanelDoNotUseOrYouWillBeFired=BN;var kN=vM,yM={percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},_M=function(){var t=(0,s.useRef)([]),o=(0,s.useRef)(null);return(0,s.useEffect)(function(){var i=Date.now(),u=!1;t.current.forEach(function(g){if(g){u=!0;var _=g.style;_.transitionDuration=".3s, .3s, .3s, .06s",o.current&&i-o.current<100&&(_.transitionDuration="0s, 0s")}}),u&&(o.current=Date.now())}),t.current},jN=["className","percent","prefixCls","strokeColor","strokeLinecap","strokeWidth","style","trailColor","trailWidth","transition"],ZN=function(t){var o=(0,fe.Z)((0,fe.Z)({},yM),t),i=o.className,u=o.percent,g=o.prefixCls,_=o.strokeColor,x=o.strokeLinecap,S=o.strokeWidth,T=o.style,M=o.trailColor,R=o.trailWidth,N=o.transition,F=(0,Ve.Z)(o,jN);delete F.gapPosition;var B=Array.isArray(u)?u:[u],V=Array.isArray(_)?_:[_],j=_M(),H=S/2,U=100-S/2,K="M ".concat(x==="round"?H:0,",").concat(H,`
         L `).concat(x==="round"?U:100,",").concat(H),Y="0 0 100 ".concat(S),q=0;return s.createElement("svg",(0,Pt.Z)({className:oe()("".concat(g,"-line"),i),viewBox:Y,preserveAspectRatio:"none",style:T},F),s.createElement("path",{className:"".concat(g,"-line-trail"),d:K,strokeLinecap:x,stroke:M,strokeWidth:R||S,fillOpacity:"0"}),B.map(function(Q,re){var ae=1;switch(x){case"round":ae=1-S/100;break;case"square":ae=1-S/2/100;break;default:ae=1;break}var se={strokeDasharray:"".concat(Q*ae,"px, 100px"),strokeDashoffset:"-".concat(q,"px"),transition:N||"stroke-dashoffset 0.3s ease 0s, stroke-dasharray .3s ease 0s, stroke 0.3s linear"},de=V[re]||V[V.length-1];return q+=Q,s.createElement("path",{key:re,className:"".concat(g,"-line-path"),d:K,strokeLinecap:x,stroke:de,strokeWidth:S,fillOpacity:"0",ref:function(ge){j[re]=ge},style:se})}))},VN=ZN,bM=0,HN=(0,Vf.Z)();function UN(){var e;return HN?(e=bM,bM+=1):e="TEST_OR_SSR",e}var WN=function(e){var t=s.useState(),o=(0,ve.Z)(t,2),i=o[0],u=o[1];return s.useEffect(function(){u("rc_progress_".concat(UN()))},[]),e||i},xM=function(t){var o=t.bg,i=t.children;return s.createElement("div",{style:{width:"100%",height:"100%",background:o}},i)};function CM(e,t){return Object.keys(e).map(function(o){var i=parseFloat(o),u="".concat(Math.floor(i*t),"%");return"".concat(e[o]," ").concat(u)})}var GN=s.forwardRef(function(e,t){var o=e.prefixCls,i=e.color,u=e.gradientId,g=e.radius,_=e.style,x=e.ptg,S=e.strokeLinecap,T=e.strokeWidth,M=e.size,R=e.gapDegree,N=i&&(0,Tt.Z)(i)==="object",F=N?"#FFF":void 0,B=M/2,V=s.createElement("circle",{className:"".concat(o,"-circle-path"),r:g,cx:B,cy:B,stroke:F,strokeLinecap:S,strokeWidth:T,opacity:x===0?0:1,style:_,ref:t});if(!N)return V;var j="".concat(u,"-conic"),H=R?"".concat(180+R/2,"deg"):"0deg",U=CM(i,(360-R)/360),K=CM(i,1),Y="conic-gradient(from ".concat(H,", ").concat(U.join(", "),")"),q="linear-gradient(to ".concat(R?"bottom":"top",", ").concat(K.join(", "),")");return s.createElement(s.Fragment,null,s.createElement("mask",{id:j},V),s.createElement("foreignObject",{x:0,y:0,width:M,height:M,mask:"url(#".concat(j,")")},s.createElement(xM,{bg:q},s.createElement(xM,{bg:Y}))))}),XN=GN,tb=100,XS=function(t,o,i,u,g,_,x,S,T,M){var R=arguments.length>10&&arguments[10]!==void 0?arguments[10]:0,N=i/100*360*((360-_)/360),F=_===0?0:{bottom:0,top:180,left:90,right:-90}[x],B=(100-u)/100*o;T==="round"&&u!==100&&(B+=M/2,B>=o&&(B=o-.01));var V=tb/2;return{stroke:typeof S=="string"?S:void 0,strokeDasharray:"".concat(o,"px ").concat(t),strokeDashoffset:B+R,transform:"rotate(".concat(g+N+F,"deg)"),transformOrigin:"".concat(V,"px ").concat(V,"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},qN=["id","prefixCls","steps","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function wM(e){var t=e!=null?e:[];return Array.isArray(t)?t:[t]}var KN=function(t){var o=(0,fe.Z)((0,fe.Z)({},yM),t),i=o.id,u=o.prefixCls,g=o.steps,_=o.strokeWidth,x=o.trailWidth,S=o.gapDegree,T=S===void 0?0:S,M=o.gapPosition,R=o.trailColor,N=o.strokeLinecap,F=o.style,B=o.className,V=o.strokeColor,j=o.percent,H=(0,Ve.Z)(o,qN),U=tb/2,K=WN(i),Y="".concat(K,"-gradient"),q=U-_/2,Q=Math.PI*2*q,re=T>0?90+T/2:-90,ae=Q*((360-T)/360),se=(0,Tt.Z)(g)==="object"?g:{count:g,gap:2},de=se.count,pe=se.gap,ge=wM(j),me=wM(V),be=me.find(function(Ze){return Ze&&(0,Tt.Z)(Ze)==="object"}),_e=be&&(0,Tt.Z)(be)==="object",Ie=_e?"butt":N,Ce=XS(Q,ae,0,100,re,T,M,R,Ie,_),Le=_M(),ze=function(){var je=0;return ge.map(function(Ue,He){var Qe=me[He]||me[me.length-1],We=XS(Q,ae,je,Ue,re,T,M,Qe,Ie,_);return je+=Ue,s.createElement(XN,{key:He,color:Qe,ptg:Ue,radius:q,prefixCls:u,gradientId:Y,style:We,strokeLinecap:Ie,strokeWidth:_,gapDegree:T,ref:function(Je){Le[He]=Je},size:tb})}).reverse()},ke=function(){var je=Math.round(de*(ge[0]/100)),Ue=100/de,He=0;return new Array(de).fill(null).map(function(Qe,We){var it=We<=je-1?me[0]:R,Je=it&&(0,Tt.Z)(it)==="object"?"url(#".concat(Y,")"):void 0,wt=XS(Q,ae,He,Ue,re,T,M,it,"butt",_,pe);return He+=(ae-wt.strokeDashoffset+pe)*100/ae,s.createElement("circle",{key:We,className:"".concat(u,"-circle-path"),r:q,cx:U,cy:U,stroke:Je,strokeWidth:_,opacity:1,style:wt,ref:function(ct){Le[We]=ct}})})};return s.createElement("svg",(0,Pt.Z)({className:oe()("".concat(u,"-circle"),B),viewBox:"0 0 ".concat(tb," ").concat(tb),style:F,id:i,role:"presentation"},H),!de&&s.createElement("circle",{className:"".concat(u,"-circle-trail"),r:q,cx:U,cy:U,stroke:R,strokeLinecap:Ie,strokeWidth:x||_,style:Ce}),de?ke():ze())},SM=KN,gW={Line:VN,Circle:SM},Em=he(68640);function Im(e){return!e||e<0?0:e>100?100:e}function rC(e){let{success:t,successPercent:o}=e,i=o;return t&&"progress"in t&&(i=t.progress),t&&"percent"in t&&(i=t.percent),i}const YN=e=>{let{percent:t,success:o,successPercent:i}=e;const u=Im(rC({success:o,successPercent:i}));return[u,Im(Im(t)-u)]},JN=e=>{let{success:t={},strokeColor:o}=e;const{strokeColor:i}=t;return[i||Em.ez.green,o||null]},iC=(e,t,o)=>{var i,u,g,_;let x=-1,S=-1;if(t==="step"){const T=o.steps,M=o.strokeWidth;typeof e=="string"||typeof e=="undefined"?(x=e==="small"?2:14,S=M!=null?M:8):typeof e=="number"?[x,S]=[e,e]:[x=14,S=8]=Array.isArray(e)?e:[e.width,e.height],x*=T}else if(t==="line"){const T=o==null?void 0:o.strokeWidth;typeof e=="string"||typeof e=="undefined"?S=T||(e==="small"?6:8):typeof e=="number"?[x,S]=[e,e]:[x=-1,S=8]=Array.isArray(e)?e:[e.width,e.height]}else(t==="circle"||t==="dashboard")&&(typeof e=="string"||typeof e=="undefined"?[x,S]=e==="small"?[60,60]:[120,120]:typeof e=="number"?[x,S]=[e,e]:Array.isArray(e)&&(x=(u=(i=e[0])!==null&&i!==void 0?i:e[1])!==null&&u!==void 0?u:120,S=(_=(g=e[0])!==null&&g!==void 0?g:e[1])!==null&&_!==void 0?_:120));return[x,S]},QN=3,e6=e=>QN/e*100;var t6=e=>{const{prefixCls:t,trailColor:o=null,strokeLinecap:i="round",gapPosition:u,gapDegree:g,width:_=120,type:x,children:S,success:T,size:M=_,steps:R}=e,[N,F]=iC(M,"circle");let{strokeWidth:B}=e;B===void 0&&(B=Math.max(e6(N),6));const V={width:N,height:F,fontSize:N*.15+6},j=s.useMemo(()=>{if(g||g===0)return g;if(x==="dashboard")return 75},[g,x]),H=YN(e),U=u||x==="dashboard"&&"bottom"||void 0,K=Object.prototype.toString.call(e.strokeColor)==="[object Object]",Y=JN({success:T,strokeColor:e.strokeColor}),q=oe()(`${t}-inner`,{[`${t}-circle-gradient`]:K}),Q=s.createElement(SM,{steps:R,percent:R?H[1]:H,strokeWidth:B,trailWidth:B,strokeColor:R?Y[1]:Y,strokeLinecap:i,trailColor:o,prefixCls:t,gapDegree:j,gapPosition:U}),re=N<=20,ae=s.createElement("div",{className:q,style:V},Q,!re&&S);return re?s.createElement(Uc.Z,{title:S},ae):ae};const oC="--progress-line-stroke-color",EM="--progress-percent",IM=e=>{const t=e?"100%":"-100%";return new J.E4(`antProgress${e?"RTL":"LTR"}Active`,{"0%":{transform:`translateX(${t}) scaleX(0)`,opacity:.1},"20%":{transform:`translateX(${t}) scaleX(0)`,opacity:.5},to:{transform:"translateX(0) scaleX(1)",opacity:0}})},n6=e=>{const{componentCls:t,iconCls:o}=e;return{[t]:Object.assign(Object.assign({},(0,mn.Wf)(e)),{display:"inline-block","&-rtl":{direction:"rtl"},"&-line":{position:"relative",width:"100%",fontSize:e.fontSize},[`${t}-outer`]:{display:"inline-flex",alignItems:"center",width:"100%"},[`${t}-inner`]:{position:"relative",display:"inline-block",width:"100%",flex:1,overflow:"hidden",verticalAlign:"middle",backgroundColor:e.remainingColor,borderRadius:e.lineBorderRadius},[`${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.defaultColor}},[`${t}-success-bg, ${t}-bg`]:{position:"relative",background:e.defaultColor,borderRadius:e.lineBorderRadius,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOutCirc}`},[`${t}-layout-bottom`]:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",[`${t}-text`]:{width:"max-content",marginInlineStart:0,marginTop:e.marginXXS}},[`${t}-bg`]:{overflow:"hidden","&::after":{content:'""',background:{_multi_value_:!0,value:["inherit",`var(${oC})`]},height:"100%",width:`calc(1 / var(${EM}) * 100%)`,display:"block"},[`&${t}-bg-inner`]:{minWidth:"max-content","&::after":{content:"none"},[`${t}-text-inner`]:{color:e.colorWhite,[`&${t}-text-bright`]:{color:"rgba(0, 0, 0, 0.45)"}}}},[`${t}-success-bg`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,backgroundColor:e.colorSuccess},[`${t}-text`]:{display:"inline-block",marginInlineStart:e.marginXS,color:e.colorText,lineHeight:1,width:"2em",whiteSpace:"nowrap",textAlign:"start",verticalAlign:"middle",wordBreak:"normal",[o]:{fontSize:e.fontSize},[`&${t}-text-outer`]:{width:"max-content"},[`&${t}-text-outer${t}-text-start`]:{width:"max-content",marginInlineStart:0,marginInlineEnd:e.marginXS}},[`${t}-text-inner`]:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",marginInlineStart:0,padding:`0 ${(0,J.bf)(e.paddingXXS)}`,[`&${t}-text-start`]:{justifyContent:"start"},[`&${t}-text-end`]:{justifyContent:"end"}},[`&${t}-status-active`]:{[`${t}-bg::before`]:{position:"absolute",inset:0,backgroundColor:e.colorBgContainer,borderRadius:e.lineBorderRadius,opacity:0,animationName:IM(),animationDuration:e.progressActiveMotionDuration,animationTimingFunction:e.motionEaseOutQuint,animationIterationCount:"infinite",content:'""'}},[`&${t}-rtl${t}-status-active`]:{[`${t}-bg::before`]:{animationName:IM(!0)}},[`&${t}-status-exception`]:{[`${t}-bg`]:{backgroundColor:e.colorError},[`${t}-text`]:{color:e.colorError}},[`&${t}-status-exception ${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorError}},[`&${t}-status-success`]:{[`${t}-bg`]:{backgroundColor:e.colorSuccess},[`${t}-text`]:{color:e.colorSuccess}},[`&${t}-status-success ${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorSuccess}}})}},r6=e=>{const{componentCls:t,iconCls:o}=e;return{[t]:{[`${t}-circle-trail`]:{stroke:e.remainingColor},[`&${t}-circle ${t}-inner`]:{position:"relative",lineHeight:1,backgroundColor:"transparent"},[`&${t}-circle ${t}-text`]:{position:"absolute",insetBlockStart:"50%",insetInlineStart:0,width:"100%",margin:0,padding:0,color:e.circleTextColor,fontSize:e.circleTextFontSize,lineHeight:1,whiteSpace:"normal",textAlign:"center",transform:"translateY(-50%)",[o]:{fontSize:e.circleIconFontSize}},[`${t}-circle&-status-exception`]:{[`${t}-text`]:{color:e.colorError}},[`${t}-circle&-status-success`]:{[`${t}-text`]:{color:e.colorSuccess}}},[`${t}-inline-circle`]:{lineHeight:1,[`${t}-inner`]:{verticalAlign:"bottom"}}}},i6=e=>{const{componentCls:t}=e;return{[t]:{[`${t}-steps`]:{display:"inline-block","&-outer":{display:"flex",flexDirection:"row",alignItems:"center"},"&-item":{flexShrink:0,minWidth:e.progressStepMinWidth,marginInlineEnd:e.progressStepMarginInlineEnd,backgroundColor:e.remainingColor,transition:`all ${e.motionDurationSlow}`,"&-active":{backgroundColor:e.defaultColor}}}}}},o6=e=>{const{componentCls:t,iconCls:o}=e;return{[t]:{[`${t}-small&-line, ${t}-small&-line ${t}-text ${o}`]:{fontSize:e.fontSizeSM}}}},a6=e=>({circleTextColor:e.colorText,defaultColor:e.colorInfo,remainingColor:e.colorFillSecondary,lineBorderRadius:100,circleTextFontSize:"1em",circleIconFontSize:`${e.fontSize/e.fontSizeSM}em`});var s6=(0,Ae.I$)("Progress",e=>{const t=e.calc(e.marginXXS).div(2).equal(),o=(0,vn.IX)(e,{progressStepMarginInlineEnd:t,progressStepMinWidth:t,progressActiveMotionDuration:"2.4s"});return[n6(o),r6(o),i6(o),o6(o)]},a6),l6=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};const c6=e=>{let t=[];return Object.keys(e).forEach(o=>{const i=parseFloat(o.replace(/%/g,""));Number.isNaN(i)||t.push({key:i,value:e[o]})}),t=t.sort((o,i)=>o.key-i.key),t.map(o=>{let{key:i,value:u}=o;return`${u} ${i}%`}).join(", ")},u6=(e,t)=>{const{from:o=Em.ez.blue,to:i=Em.ez.blue,direction:u=t==="rtl"?"to left":"to right"}=e,g=l6(e,["from","to","direction"]);if(Object.keys(g).length!==0){const x=c6(g),S=`linear-gradient(${u}, ${x})`;return{background:S,[oC]:S}}const _=`linear-gradient(${u}, ${o}, ${i})`;return{background:_,[oC]:_}};var d6=e=>{const{prefixCls:t,direction:o,percent:i,size:u,strokeWidth:g,strokeColor:_,strokeLinecap:x="round",children:S,trailColor:T=null,percentPosition:M,success:R}=e,{align:N,type:F}=M,B=_&&typeof _!="string"?u6(_,o):{[oC]:_,background:_},V=x==="square"||x==="butt"?0:void 0,j=u!=null?u:[-1,g||(u==="small"?6:8)],[H,U]=iC(j,"line",{strokeWidth:g}),K={backgroundColor:T||void 0,borderRadius:V},Y=Object.assign(Object.assign({width:`${Im(i)}%`,height:U,borderRadius:V},B),{[EM]:Im(i)/100}),q=rC(e),Q={width:`${Im(q)}%`,height:U,borderRadius:V,backgroundColor:R==null?void 0:R.strokeColor},re={width:H<0?"100%":H},ae=s.createElement("div",{className:`${t}-inner`,style:K},s.createElement("div",{className:oe()(`${t}-bg`,`${t}-bg-${F}`),style:Y},F==="inner"&&S),q!==void 0&&s.createElement("div",{className:`${t}-success-bg`,style:Q})),se=F==="outer"&&N==="start",de=F==="outer"&&N==="end";return F==="outer"&&N==="center"?s.createElement("div",{className:`${t}-layout-bottom`},ae,S):s.createElement("div",{className:`${t}-outer`,style:re},se&&S,ae,de&&S)},f6=e=>{const{size:t,steps:o,rounding:i=Math.round,percent:u=0,strokeWidth:g=8,strokeColor:_,trailColor:x=null,prefixCls:S,children:T}=e,M=i(o*(u/100)),R=t==="small"?2:14,N=t!=null?t:[R,g],[F,B]=iC(N,"step",{steps:o,strokeWidth:g}),V=F/o,j=Array.from({length:o});for(let H=0;H<o;H++){const U=Array.isArray(_)?_[H]:_;j[H]=s.createElement("div",{key:H,className:oe()(`${S}-steps-item`,{[`${S}-steps-item-active`]:H<=M-1}),style:{backgroundColor:H<=M-1?U:x,width:V,height:B}})}return s.createElement("div",{className:`${S}-steps-outer`},j,T)},h6=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};const bW=null,p6=["normal","exception","active","success"];var m6=s.forwardRef((e,t)=>{const{prefixCls:o,className:i,rootClassName:u,steps:g,strokeColor:_,percent:x=0,size:S="default",showInfo:T=!0,type:M="line",status:R,format:N,style:F,percentPosition:B={}}=e,V=h6(e,["prefixCls","className","rootClassName","steps","strokeColor","percent","size","showInfo","type","status","format","style","percentPosition"]),{align:j="end",type:H="outer"}=B,U=Array.isArray(_)?_[0]:_,K=typeof _=="string"||Array.isArray(_)?_:void 0,Y=s.useMemo(()=>{if(U){const ze=typeof U=="string"?U:Object.values(U)[0];return new Es.t(ze).isLight()}return!1},[_]),q=s.useMemo(()=>{var ze,ke;const Ze=rC(e);return parseInt(Ze!==void 0?(ze=Ze!=null?Ze:0)===null||ze===void 0?void 0:ze.toString():(ke=x!=null?x:0)===null||ke===void 0?void 0:ke.toString(),10)},[x,e.success,e.successPercent]),Q=s.useMemo(()=>!p6.includes(R)&&q>=100?"success":R||"normal",[R,q]),{getPrefixCls:re,direction:ae,progress:se}=s.useContext(De.E_),de=re("progress",o),[pe,ge,me]=s6(de),be=M==="line",_e=be&&!g,Ie=s.useMemo(()=>{if(!T)return null;const ze=rC(e);let ke;const Ze=N||(Ue=>`${Ue}%`),je=be&&Y&&H==="inner";return H==="inner"||N||Q!=="exception"&&Q!=="success"?ke=Ze(Im(x),Im(ze)):Q==="exception"?ke=be?s.createElement(fi.Z,null):s.createElement(nr,null):Q==="success"&&(ke=be?s.createElement(Nn.Z,null):s.createElement(ih,null)),s.createElement("span",{className:oe()(`${de}-text`,{[`${de}-text-bright`]:je,[`${de}-text-${j}`]:_e,[`${de}-text-${H}`]:_e}),title:typeof ke=="string"?ke:void 0},ke)},[T,x,q,Q,M,de,N]);let Ce;M==="line"?Ce=g?s.createElement(f6,Object.assign({},e,{strokeColor:K,prefixCls:de,steps:typeof g=="object"?g.count:g}),Ie):s.createElement(d6,Object.assign({},e,{strokeColor:U,prefixCls:de,direction:ae,percentPosition:{align:j,type:H}}),Ie):(M==="circle"||M==="dashboard")&&(Ce=s.createElement(t6,Object.assign({},e,{strokeColor:U,prefixCls:de,progressStatus:Q}),Ie));const Le=oe()(de,`${de}-status-${Q}`,{[`${de}-${M==="dashboard"&&"circle"||M}`]:M!=="line",[`${de}-inline-circle`]:M==="circle"&&iC(S,"circle")[0]<=20,[`${de}-line`]:_e,[`${de}-line-align-${j}`]:_e,[`${de}-line-position-${H}`]:_e,[`${de}-steps`]:g,[`${de}-show-info`]:T,[`${de}-${S}`]:typeof S=="string",[`${de}-rtl`]:ae==="rtl"},se==null?void 0:se.className,i,u,ge,me);return pe(s.createElement("div",Object.assign({ref:t,style:Object.assign(Object.assign({},se==null?void 0:se.style),F),className:Le,role:"progressbar","aria-valuenow":q,"aria-valuemin":0,"aria-valuemax":100},(0,Er.Z)(V,["trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","success","successPercent"])),Ce))}),qS=m6,g6=he(62851);function s0(e,t){var o=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=(0,g6.Z)(e))||t&&e&&typeof e.length=="number"){o&&(e=o);var i=0,u=function(){};return{s:u,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(T){throw T},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var g,_=!0,x=!1;return{s:function(){o=o.call(e)},n:function(){var T=o.next();return _=T.done,T},e:function(T){x=!0,g=T},f:function(){try{_||o.return==null||o.return()}finally{if(x)throw g}}}}var Hv,nb;function zu(e,t,o){if(t<0||t>31||e>>>t)throw new RangeError("Value out of range");for(var i=t-1;i>=0;i--)o.push(e>>>i&1)}function xp(e,t){return(e>>>t&1)!=0}function cd(e){if(!e)throw new Error("Assertion error")}var Eh=function(){function e(t,o){(0,ri.Z)(this,e),(0,Ee.Z)(this,"modeBits",void 0),(0,Ee.Z)(this,"numBitsCharCount",void 0),this.modeBits=t,this.numBitsCharCount=o}return(0,Ko.Z)(e,[{key:"numCharCountBits",value:function(o){return this.numBitsCharCount[Math.floor((o+7)/17)]}}]),e}();Hv=Eh,(0,Ee.Z)(Eh,"NUMERIC",new Hv(1,[10,12,14])),(0,Ee.Z)(Eh,"ALPHANUMERIC",new Hv(2,[9,11,13])),(0,Ee.Z)(Eh,"BYTE",new Hv(4,[8,16,16])),(0,Ee.Z)(Eh,"KANJI",new Hv(8,[8,10,12])),(0,Ee.Z)(Eh,"ECI",new Hv(7,[0,0,0]));var Bd=(0,Ko.Z)(function e(t,o){(0,ri.Z)(this,e),(0,Ee.Z)(this,"ordinal",void 0),(0,Ee.Z)(this,"formatBits",void 0),this.ordinal=t,this.formatBits=o});nb=Bd,(0,Ee.Z)(Bd,"LOW",new nb(0,1)),(0,Ee.Z)(Bd,"MEDIUM",new nb(1,0)),(0,Ee.Z)(Bd,"QUARTILE",new nb(2,3)),(0,Ee.Z)(Bd,"HIGH",new nb(3,2));var l0=function(){function e(t,o,i){if((0,ri.Z)(this,e),(0,Ee.Z)(this,"mode",void 0),(0,Ee.Z)(this,"numChars",void 0),(0,Ee.Z)(this,"bitData",void 0),this.mode=t,this.numChars=o,this.bitData=i,o<0)throw new RangeError("Invalid argument");this.bitData=i.slice()}return(0,Ko.Z)(e,[{key:"getData",value:function(){return this.bitData.slice()}}],[{key:"makeBytes",value:function(o){var i=[],u=s0(o),g;try{for(u.s();!(g=u.n()).done;){var _=g.value;zu(_,8,i)}}catch(x){u.e(x)}finally{u.f()}return new e(Eh.BYTE,o.length,i)}},{key:"makeNumeric",value:function(o){if(!e.isNumeric(o))throw new RangeError("String contains non-numeric characters");for(var i=[],u=0;u<o.length;){var g=Math.min(o.length-u,3);zu(parseInt(o.substring(u,u+g),10),g*3+1,i),u+=g}return new e(Eh.NUMERIC,o.length,i)}},{key:"makeAlphanumeric",value:function(o){if(!e.isAlphanumeric(o))throw new RangeError("String contains unencodable characters in alphanumeric mode");var i=[],u;for(u=0;u+2<=o.length;u+=2){var g=e.ALPHANUMERIC_CHARSET.indexOf(o.charAt(u))*45;g+=e.ALPHANUMERIC_CHARSET.indexOf(o.charAt(u+1)),zu(g,11,i)}return u<o.length&&zu(e.ALPHANUMERIC_CHARSET.indexOf(o.charAt(u)),6,i),new e(Eh.ALPHANUMERIC,o.length,i)}},{key:"makeSegments",value:function(o){return o==""?[]:e.isNumeric(o)?[e.makeNumeric(o)]:e.isAlphanumeric(o)?[e.makeAlphanumeric(o)]:[e.makeBytes(e.toUtf8ByteArray(o))]}},{key:"makeEci",value:function(o){var i=[];if(o<0)throw new RangeError("ECI assignment value out of range");if(o<128)zu(o,8,i);else if(o<16384)zu(2,2,i),zu(o,14,i);else if(o<1e6)zu(6,3,i),zu(o,21,i);else throw new RangeError("ECI assignment value out of range");return new e(Eh.ECI,0,i)}},{key:"isNumeric",value:function(o){return e.NUMERIC_REGEX.test(o)}},{key:"isAlphanumeric",value:function(o){return e.ALPHANUMERIC_REGEX.test(o)}},{key:"getTotalBits",value:function(o,i){var u=0,g=s0(o),_;try{for(g.s();!(_=g.n()).done;){var x=_.value,S=x.mode.numCharCountBits(i);if(x.numChars>=1<<S)return 1/0;u+=4+S+x.bitData.length}}catch(T){g.e(T)}finally{g.f()}return u}},{key:"toUtf8ByteArray",value:function(o){for(var i=encodeURI(o),u=[],g=0;g<i.length;g++)i.charAt(g)!="%"?u.push(i.charCodeAt(g)):(u.push(parseInt(i.substring(g+1,g+3),16)),g+=2);return u}}]),e}();(0,Ee.Z)(l0,"NUMERIC_REGEX",/^[0-9]*$/),(0,Ee.Z)(l0,"ALPHANUMERIC_REGEX",/^[A-Z0-9 $%*+.\/:-]*$/),(0,Ee.Z)(l0,"ALPHANUMERIC_CHARSET","0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:");var Cp=function(){function e(t,o,i,u){(0,ri.Z)(this,e),(0,Ee.Z)(this,"size",void 0),(0,Ee.Z)(this,"mask",void 0),(0,Ee.Z)(this,"modules",[]),(0,Ee.Z)(this,"isFunction",[]),(0,Ee.Z)(this,"version",void 0),(0,Ee.Z)(this,"errorCorrectionLevel",void 0);var g=u;if(this.version=t,this.errorCorrectionLevel=o,t<e.MIN_VERSION||t>e.MAX_VERSION)throw new RangeError("Version value out of range");if(g<-1||g>7)throw new RangeError("Mask value out of range");this.size=t*4+17;for(var _=[],x=0;x<this.size;x++)_.push(!1);for(var S=0;S<this.size;S++)this.modules.push(_.slice()),this.isFunction.push(_.slice());this.drawFunctionPatterns();var T=this.addEccAndInterleave(i);if(this.drawCodewords(T),g==-1)for(var M=1e9,R=0;R<8;R++){this.applyMask(R),this.drawFormatBits(R);var N=this.getPenaltyScore();N<M&&(g=R,M=N),this.applyMask(R)}cd(0<=g&&g<=7),this.mask=g,this.applyMask(g),this.drawFormatBits(g),this.isFunction=[]}return(0,Ko.Z)(e,[{key:"getModule",value:function(o,i){return 0<=o&&o<this.size&&0<=i&&i<this.size&&this.modules[i][o]}},{key:"getModules",value:function(){return this.modules}},{key:"drawFunctionPatterns",value:function(){for(var o=0;o<this.size;o++)this.setFunctionModule(6,o,o%2==0),this.setFunctionModule(o,6,o%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);for(var i=this.getAlignmentPatternPositions(),u=i.length,g=0;g<u;g++)for(var _=0;_<u;_++)g==0&&_==0||g==0&&_==u-1||g==u-1&&_==0||this.drawAlignmentPattern(i[g],i[_]);this.drawFormatBits(0),this.drawVersion()}},{key:"drawFormatBits",value:function(o){for(var i=this.errorCorrectionLevel.formatBits<<3|o,u=i,g=0;g<10;g++)u=u<<1^(u>>>9)*1335;var _=(i<<10|u)^21522;cd(_>>>15==0);for(var x=0;x<=5;x++)this.setFunctionModule(8,x,xp(_,x));this.setFunctionModule(8,7,xp(_,6)),this.setFunctionModule(8,8,xp(_,7)),this.setFunctionModule(7,8,xp(_,8));for(var S=9;S<15;S++)this.setFunctionModule(14-S,8,xp(_,S));for(var T=0;T<8;T++)this.setFunctionModule(this.size-1-T,8,xp(_,T));for(var M=8;M<15;M++)this.setFunctionModule(8,this.size-15+M,xp(_,M));this.setFunctionModule(8,this.size-8,!0)}},{key:"drawVersion",value:function(){if(!(this.version<7)){for(var o=this.version,i=0;i<12;i++)o=o<<1^(o>>>11)*7973;var u=this.version<<12|o;cd(u>>>18==0);for(var g=0;g<18;g++){var _=xp(u,g),x=this.size-11+g%3,S=Math.floor(g/3);this.setFunctionModule(x,S,_),this.setFunctionModule(S,x,_)}}}},{key:"drawFinderPattern",value:function(o,i){for(var u=-4;u<=4;u++)for(var g=-4;g<=4;g++){var _=Math.max(Math.abs(g),Math.abs(u)),x=o+g,S=i+u;0<=x&&x<this.size&&0<=S&&S<this.size&&this.setFunctionModule(x,S,_!=2&&_!=4)}}},{key:"drawAlignmentPattern",value:function(o,i){for(var u=-2;u<=2;u++)for(var g=-2;g<=2;g++)this.setFunctionModule(o+g,i+u,Math.max(Math.abs(g),Math.abs(u))!=1)}},{key:"setFunctionModule",value:function(o,i,u){this.modules[i][o]=u,this.isFunction[i][o]=!0}},{key:"addEccAndInterleave",value:function(o){var i=this.version,u=this.errorCorrectionLevel;if(o.length!=e.getNumDataCodewords(i,u))throw new RangeError("Invalid argument");for(var g=e.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][i],_=e.ECC_CODEWORDS_PER_BLOCK[u.ordinal][i],x=Math.floor(e.getNumRawDataModules(i)/8),S=g-x%g,T=Math.floor(x/g),M=[],R=e.reedSolomonComputeDivisor(_),N=0,F=0;N<g;N++){var B=o.slice(F,F+T-_+(N<S?0:1));F+=B.length;var V=e.reedSolomonComputeRemainder(B,R);N<S&&B.push(0),M.push(B.concat(V))}for(var j=[],H=function(Y){M.forEach(function(q,Q){(Y!=T-_||Q>=S)&&j.push(q[Y])})},U=0;U<M[0].length;U++)H(U);return cd(j.length==x),j}},{key:"drawCodewords",value:function(o){if(o.length!=Math.floor(e.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");for(var i=0,u=this.size-1;u>=1;u-=2){u==6&&(u=5);for(var g=0;g<this.size;g++)for(var _=0;_<2;_++){var x=u-_,S=(u+1&2)==0,T=S?this.size-1-g:g;!this.isFunction[T][x]&&i<o.length*8&&(this.modules[T][x]=xp(o[i>>>3],7-(i&7)),i++)}}cd(i==o.length*8)}},{key:"applyMask",value:function(o){if(o<0||o>7)throw new RangeError("Mask value out of range");for(var i=0;i<this.size;i++)for(var u=0;u<this.size;u++){var g=void 0;switch(o){case 0:g=(u+i)%2==0;break;case 1:g=i%2==0;break;case 2:g=u%3==0;break;case 3:g=(u+i)%3==0;break;case 4:g=(Math.floor(u/3)+Math.floor(i/2))%2==0;break;case 5:g=u*i%2+u*i%3==0;break;case 6:g=(u*i%2+u*i%3)%2==0;break;case 7:g=((u+i)%2+u*i%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[i][u]&&g&&(this.modules[i][u]=!this.modules[i][u])}}},{key:"getPenaltyScore",value:function(){for(var o=0,i=0;i<this.size;i++){for(var u=!1,g=0,_=[0,0,0,0,0,0,0],x=0;x<this.size;x++)this.modules[i][x]==u?(g++,g==5?o+=e.PENALTY_N1:g>5&&o++):(this.finderPenaltyAddHistory(g,_),u||(o+=this.finderPenaltyCountPatterns(_)*e.PENALTY_N3),u=this.modules[i][x],g=1);o+=this.finderPenaltyTerminateAndCount(u,g,_)*e.PENALTY_N3}for(var S=0;S<this.size;S++){for(var T=!1,M=0,R=[0,0,0,0,0,0,0],N=0;N<this.size;N++)this.modules[N][S]==T?(M++,M==5?o+=e.PENALTY_N1:M>5&&o++):(this.finderPenaltyAddHistory(M,R),T||(o+=this.finderPenaltyCountPatterns(R)*e.PENALTY_N3),T=this.modules[N][S],M=1);o+=this.finderPenaltyTerminateAndCount(T,M,R)*e.PENALTY_N3}for(var F=0;F<this.size-1;F++)for(var B=0;B<this.size-1;B++){var V=this.modules[F][B];V==this.modules[F][B+1]&&V==this.modules[F+1][B]&&V==this.modules[F+1][B+1]&&(o+=e.PENALTY_N2)}var j=0,H=s0(this.modules),U;try{for(H.s();!(U=H.n()).done;){var K=U.value;j=K.reduce(function(Q,re){return Q+(re?1:0)},j)}}catch(Q){H.e(Q)}finally{H.f()}var Y=this.size*this.size,q=Math.ceil(Math.abs(j*20-Y*10)/Y)-1;return cd(0<=q&&q<=9),o+=q*e.PENALTY_N4,cd(0<=o&&o<=2568888),o}},{key:"getAlignmentPatternPositions",value:function(){if(this.version==1)return[];for(var o=Math.floor(this.version/7)+2,i=this.version==32?26:Math.ceil((this.version*4+4)/(o*2-2))*2,u=[6],g=this.size-7;u.length<o;g-=i)u.splice(1,0,g);return u}},{key:"finderPenaltyCountPatterns",value:function(o){var i=o[1];cd(i<=this.size*3);var u=i>0&&o[2]==i&&o[3]==i*3&&o[4]==i&&o[5]==i;return(u&&o[0]>=i*4&&o[6]>=i?1:0)+(u&&o[6]>=i*4&&o[0]>=i?1:0)}},{key:"finderPenaltyTerminateAndCount",value:function(o,i,u){var g=i;return o&&(this.finderPenaltyAddHistory(g,u),g=0),g+=this.size,this.finderPenaltyAddHistory(g,u),this.finderPenaltyCountPatterns(u)}},{key:"finderPenaltyAddHistory",value:function(o,i){var u=o;i[0]==0&&(u+=this.size),i.pop(),i.unshift(u)}}],[{key:"encodeText",value:function(o,i){var u=l0.makeSegments(o);return e.encodeSegments(u,i)}},{key:"encodeBinary",value:function(o,i){var u=l0.makeBytes(o);return e.encodeSegments([u],i)}},{key:"encodeSegments",value:function(o,i){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:40,_=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1,x=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;if(!(e.MIN_VERSION<=u&&u<=g&&g<=e.MAX_VERSION)||_<-1||_>7)throw new RangeError("Invalid value");var S,T;for(S=u;;S++){var M=e.getNumDataCodewords(S,i)*8,R=l0.getTotalBits(o,S);if(R<=M){T=R;break}if(S>=g)throw new RangeError("Data too long")}for(var N=i,F=0,B=[Bd.MEDIUM,Bd.QUARTILE,Bd.HIGH];F<B.length;F++){var V=B[F];x&&T<=e.getNumDataCodewords(S,V)*8&&(N=V)}var j=[],H=s0(o),U;try{for(H.s();!(U=H.n()).done;){var K=U.value;zu(K.mode.modeBits,4,j),zu(K.numChars,K.mode.numCharCountBits(S),j);var Y=s0(K.getData()),q;try{for(Y.s();!(q=Y.n()).done;){var Q=q.value;j.push(Q)}}catch(de){Y.e(de)}finally{Y.f()}}}catch(de){H.e(de)}finally{H.f()}cd(j.length==T);var re=e.getNumDataCodewords(S,N)*8;cd(j.length<=re),zu(0,Math.min(4,re-j.length),j),zu(0,(8-j.length%8)%8,j),cd(j.length%8==0);for(var ae=236;j.length<re;ae^=253)zu(ae,8,j);for(var se=[];se.length*8<j.length;)se.push(0);return j.forEach(function(de,pe){return se[pe>>>3]|=de<<7-(pe&7)}),new e(S,N,se,_)}},{key:"getNumRawDataModules",value:function(o){if(o<e.MIN_VERSION||o>e.MAX_VERSION)throw new RangeError("Version number out of range");var i=(16*o+128)*o+64;if(o>=2){var u=Math.floor(o/7)+2;i-=(25*u-10)*u-55,o>=7&&(i-=36)}return cd(208<=i&&i<=29648),i}},{key:"getNumDataCodewords",value:function(o,i){return Math.floor(e.getNumRawDataModules(o)/8)-e.ECC_CODEWORDS_PER_BLOCK[i.ordinal][o]*e.NUM_ERROR_CORRECTION_BLOCKS[i.ordinal][o]}},{key:"reedSolomonComputeDivisor",value:function(o){if(o<1||o>255)throw new RangeError("Degree out of range");for(var i=[],u=0;u<o-1;u++)i.push(0);i.push(1);for(var g=1,_=0;_<o;_++){for(var x=0;x<i.length;x++)i[x]=e.reedSolomonMultiply(i[x],g),x+1<i.length&&(i[x]^=i[x+1]);g=e.reedSolomonMultiply(g,2)}return i}},{key:"reedSolomonComputeRemainder",value:function(o,i){var u=i.map(function(){return 0}),g=s0(o),_;try{var x=function(){var T=_.value,M=T^u.shift();u.push(0),i.forEach(function(R,N){return u[N]^=e.reedSolomonMultiply(R,M)})};for(g.s();!(_=g.n()).done;)x()}catch(S){g.e(S)}finally{g.f()}return u}},{key:"reedSolomonMultiply",value:function(o,i){if(o>>>8||i>>>8)throw new RangeError("Byte out of range");for(var u=0,g=7;g>=0;g--)u=u<<1^(u>>>7)*285,u^=(i>>>g&1)*o;return cd(u>>>8==0),u}}]),e}();(0,Ee.Z)(Cp,"MIN_VERSION",1),(0,Ee.Z)(Cp,"MAX_VERSION",40),(0,Ee.Z)(Cp,"PENALTY_N1",3),(0,Ee.Z)(Cp,"PENALTY_N2",3),(0,Ee.Z)(Cp,"PENALTY_N3",40),(0,Ee.Z)(Cp,"PENALTY_N4",10),(0,Ee.Z)(Cp,"ECC_CODEWORDS_PER_BLOCK",[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]]),(0,Ee.Z)(Cp,"NUM_ERROR_CORRECTION_BLOCKS",[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]]);var v6={L:Bd.LOW,M:Bd.MEDIUM,Q:Bd.QUARTILE,H:Bd.HIGH},TM=128,MM="L",PM="#FFFFFF",OM="#000000",$M=!1,RM=1,y6=4,_6=0,b6=.1;function AM(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=[];return e.forEach(function(i,u){var g=null;i.forEach(function(_,x){if(!_&&g!==null){o.push("M".concat(g+t," ").concat(u+t,"h").concat(x-g,"v1H").concat(g+t,"z")),g=null;return}if(x===i.length-1){if(!_)return;g===null?o.push("M".concat(x+t,",").concat(u+t," h1v1H").concat(x+t,"z")):o.push("M".concat(g+t,",").concat(u+t," h").concat(x+1-g,"v1H").concat(g+t,"z"));return}_&&g===null&&(g=x)})}),o.join("")}function DM(e,t){return e.slice().map(function(o,i){return i<t.y||i>=t.y+t.h?o:o.map(function(u,g){return g<t.x||g>=t.x+t.w?u:!1})})}function x6(e,t,o,i){if(i==null)return null;var u=e.length+o*2,g=Math.floor(t*b6),_=u/t,x=(i.width||g)*_,S=(i.height||g)*_,T=i.x==null?e.length/2-x/2:i.x*_,M=i.y==null?e.length/2-S/2:i.y*_,R=i.opacity==null?1:i.opacity,N=null;if(i.excavate){var F=Math.floor(T),B=Math.floor(M),V=Math.ceil(x+T-F),j=Math.ceil(S+M-B);N={x:F,y:B,w:V,h:j}}var H=i.crossOrigin;return{x:T,y:M,h:S,w:x,excavation:N,opacity:R,crossOrigin:H}}function C6(e,t){return t!=null?Math.floor(t):e?y6:_6}var w6=function(){try{new Path2D().addPath(new Path2D)}catch(e){return!1}return!0}();function zM(e){var t=e.value,o=e.level,i=e.minVersion,u=e.includeMargin,g=e.marginSize,_=e.imageSettings,x=e.size,S=(0,s.useMemo)(function(){var B=l0.makeSegments(t);return Cp.encodeSegments(B,v6[o],i)},[t,o,i]),T=(0,s.useMemo)(function(){var B=S.getModules(),V=C6(u,g),j=B.length+V*2,H=x6(B,x,V,_);return{cells:B,margin:V,numCells:j,calculatedImageSettings:H}},[S,x,_,u,g]),M=T.cells,R=T.margin,N=T.numCells,F=T.calculatedImageSettings;return{qrcode:S,margin:R,cells:M,numCells:N,calculatedImageSettings:F}}var S6=["value","size","level","bgColor","fgColor","includeMargin","minVersion","marginSize","style","imageSettings"],LM=s.forwardRef(function(t,o){var i=t.value,u=t.size,g=u===void 0?TM:u,_=t.level,x=_===void 0?MM:_,S=t.bgColor,T=S===void 0?PM:S,M=t.fgColor,R=M===void 0?OM:M,N=t.includeMargin,F=N===void 0?$M:N,B=t.minVersion,V=B===void 0?RM:B,j=t.marginSize,H=t.style,U=t.imageSettings,K=(0,Ve.Z)(t,S6),Y=U==null?void 0:U.src,q=(0,s.useRef)(null),Q=(0,s.useRef)(null),re=(0,s.useCallback)(function(Le){q.current=Le,typeof o=="function"?o(Le):o&&(o.current=Le)},[o]),ae=(0,s.useState)(!1),se=(0,ve.Z)(ae,2),de=se[1],pe=zM({value:i,level:x,minVersion:V,includeMargin:F,marginSize:j,imageSettings:U,size:g}),ge=pe.margin,me=pe.cells,be=pe.numCells,_e=pe.calculatedImageSettings;(0,s.useEffect)(function(){if(q.current!=null){var Le=q.current,ze=Le.getContext("2d");if(!ze)return;var ke=me,Ze=Q.current,je=_e!=null&&Ze!==null&&Ze.complete&&Ze.naturalHeight!==0&&Ze.naturalWidth!==0;je&&_e.excavation!=null&&(ke=DM(me,_e.excavation));var Ue=window.devicePixelRatio||1;Le.height=Le.width=g*Ue;var He=g/be*Ue;ze.scale(He,He),ze.fillStyle=T,ze.fillRect(0,0,be,be),ze.fillStyle=R,w6?ze.fill(new Path2D(AM(ke,ge))):me.forEach(function(Qe,We){Qe.forEach(function(it,Je){it&&ze.fillRect(Je+ge,We+ge,1,1)})}),_e&&(ze.globalAlpha=_e.opacity),je&&ze.drawImage(Ze,_e.x+ge,_e.y+ge,_e.w,_e.h)}}),(0,s.useEffect)(function(){de(!1)},[Y]);var Ie=(0,fe.Z)({height:g,width:g},H),Ce=null;return Y!=null&&(Ce=s.createElement("img",{src:Y,key:Y,style:{display:"none"},onLoad:function(){de(!0)},ref:Q,crossOrigin:_e==null?void 0:_e.crossOrigin})),s.createElement(s.Fragment,null,s.createElement("canvas",(0,Pt.Z)({style:Ie,height:g,width:g,ref:re,role:"img"},K)),Ce)});LM.displayName="QRCodeCanvas";var E6=["value","size","level","bgColor","fgColor","includeMargin","minVersion","title","marginSize","imageSettings"],NM=s.forwardRef(function(t,o){var i=t.value,u=t.size,g=u===void 0?TM:u,_=t.level,x=_===void 0?MM:_,S=t.bgColor,T=S===void 0?PM:S,M=t.fgColor,R=M===void 0?OM:M,N=t.includeMargin,F=N===void 0?$M:N,B=t.minVersion,V=B===void 0?RM:B,j=t.title,H=t.marginSize,U=t.imageSettings,K=(0,Ve.Z)(t,E6),Y=zM({value:i,level:x,minVersion:V,includeMargin:F,marginSize:H,imageSettings:U,size:g}),q=Y.margin,Q=Y.cells,re=Y.numCells,ae=Y.calculatedImageSettings,se=Q,de=null;U!=null&&ae!=null&&(ae.excavation!=null&&(se=DM(Q,ae.excavation)),de=s.createElement("image",{href:U.src,height:ae.h,width:ae.w,x:ae.x+q,y:ae.y+q,preserveAspectRatio:"none",opacity:ae.opacity,crossOrigin:ae.crossOrigin}));var pe=AM(se,q);return s.createElement("svg",(0,Pt.Z)({height:g,width:g,viewBox:"0 0 ".concat(re," ").concat(re),ref:o,role:"img"},K),!!j&&s.createElement("title",null,j),s.createElement("path",{fill:T,d:"M0,0 h".concat(re,"v").concat(re,"H0z"),shapeRendering:"crispEdges"}),s.createElement("path",{fill:R,d:pe,shapeRendering:"crispEdges"}),de)});NM.displayName="QRCodeSVG";var I6={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"}}]},name:"reload",theme:"outlined"},T6=I6,M6=function(t,o){return s.createElement(Fn.Z,(0,Pt.Z)({},t,{ref:o,icon:T6}))},P6=s.forwardRef(M6),O6=P6;const $6=s.createElement(Vv,null);function R6(e){let{prefixCls:t,locale:o,onRefresh:i,statusRender:u,status:g}=e;const _=s.createElement(s.Fragment,null,s.createElement("p",{className:`${t}-expired`},o==null?void 0:o.expired),i&&s.createElement(Xl,{type:"link",icon:s.createElement(O6,null),onClick:i},o==null?void 0:o.refresh)),x=s.createElement("p",{className:`${t}-scanned`},o==null?void 0:o.scanned),S={expired:_,loading:$6,scanned:x},T=R=>S[R.status];return(u!=null?u:T)({status:g,locale:o,onRefresh:i})}const A6=e=>{const{componentCls:t,lineWidth:o,lineType:i,colorSplit:u}=e;return{[t]:Object.assign(Object.assign({},(0,mn.Wf)(e)),{display:"flex",justifyContent:"center",alignItems:"center",padding:e.paddingSM,backgroundColor:e.colorWhite,borderRadius:e.borderRadiusLG,border:`${(0,J.bf)(o)} ${i} ${u}`,position:"relative",overflow:"hidden",[`& > ${t}-mask`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,zIndex:10,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",color:e.colorText,lineHeight:e.lineHeight,background:e.QRCodeMaskBackgroundColor,textAlign:"center",[`& > ${t}-expired, & > ${t}-scanned`]:{color:e.QRCodeTextColor}},"> canvas":{alignSelf:"stretch",flex:"auto",minWidth:0},"&-icon":{marginBlockEnd:e.marginXS,fontSize:e.controlHeight}}),[`${t}-borderless`]:{borderColor:"transparent",padding:0,borderRadius:0}}},D6=e=>({QRCodeMaskBackgroundColor:new Es.t(e.colorBgContainer).setA(.96).toRgbString()});var z6=(0,Ae.I$)("QRCode",e=>{const t=(0,vn.IX)(e,{QRCodeTextColor:e.colorText});return A6(t)},D6),L6=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o},N6=e=>{var t,o,i,u;const[,g]=(0,Ur.ZP)(),{value:_,type:x="canvas",icon:S="",size:T=160,iconSize:M,color:R=g.colorText,errorLevel:N="M",status:F="active",bordered:B=!0,onRefresh:V,style:j,className:H,rootClassName:U,prefixCls:K,bgColor:Y="transparent",statusRender:q}=e,Q=L6(e,["value","type","icon","size","iconSize","color","errorLevel","status","bordered","onRefresh","style","className","rootClassName","prefixCls","bgColor","statusRender"]),{getPrefixCls:re}=(0,s.useContext)(De.E_),ae=re("qrcode",K),[se,de,pe]=z6(ae),ge={src:S,x:void 0,y:void 0,height:typeof M=="number"?M:(t=M==null?void 0:M.height)!==null&&t!==void 0?t:40,width:typeof M=="number"?M:(o=M==null?void 0:M.width)!==null&&o!==void 0?o:40,excavate:!0,crossOrigin:"anonymous"},me=(0,ir.Z)(Q,!0),be=(0,Er.Z)(Q,Object.keys(me)),_e=Object.assign({value:_,size:T,level:N,bgColor:Y,fgColor:R,style:{width:j==null?void 0:j.width,height:j==null?void 0:j.height},imageSettings:S?ge:void 0},me),[Ie]=(0,Pr.Z)("QRCode");if(!_)return null;const Ce=oe()(ae,H,U,de,pe,{[`${ae}-borderless`]:!B}),Le=Object.assign(Object.assign({backgroundColor:Y},j),{width:(i=j==null?void 0:j.width)!==null&&i!==void 0?i:T,height:(u=j==null?void 0:j.height)!==null&&u!==void 0?u:T});return se(s.createElement("div",Object.assign({},be,{className:Ce,style:Le}),F!=="active"&&s.createElement("div",{className:`${ae}-mask`},s.createElement(R6,{prefixCls:ae,locale:Ie,status:F,onRefresh:V,statusRender:q})),x==="canvas"?s.createElement(LM,Object.assign({},_e)):s.createElement(NM,Object.assign({},_e))))};const aC=cl;aC.Button=Hs,aC.Group=Cl,aC.__ANT_RADIO=!0;var KS=aC,B6={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z"}}]},name:"star",theme:"filled"},F6=B6,k6=function(t,o){return s.createElement(Fn.Z,(0,Pt.Z)({},t,{ref:o,icon:F6}))},j6=s.forwardRef(k6),Z6=j6;function V6(e,t){var o=e.disabled,i=e.prefixCls,u=e.character,g=e.characterRender,_=e.index,x=e.count,S=e.value,T=e.allowHalf,M=e.focused,R=e.onHover,N=e.onClick,F=function(q){R(q,_)},B=function(q){N(q,_)},V=function(q){q.keyCode===nt.Z.ENTER&&N(q,_)},j=_+1,H=new Set([i]);S===0&&_===0&&M?H.add("".concat(i,"-focused")):T&&S+.5>=j&&S<j?(H.add("".concat(i,"-half")),H.add("".concat(i,"-active")),M&&H.add("".concat(i,"-focused"))):(j<=S?H.add("".concat(i,"-full")):H.add("".concat(i,"-zero")),j===S&&M&&H.add("".concat(i,"-focused")));var U=typeof u=="function"?u(e):u,K=s.createElement("li",{className:oe()(Array.from(H)),ref:t},s.createElement("div",{onClick:o?null:B,onKeyDown:o?null:V,onMouseMove:o?null:F,role:"radio","aria-checked":S>_?"true":"false","aria-posinset":_+1,"aria-setsize":x,tabIndex:o?-1:0},s.createElement("div",{className:"".concat(i,"-first")},U),s.createElement("div",{className:"".concat(i,"-second")},U)));return g&&(K=g(K,e)),K}var H6=s.forwardRef(V6);function U6(){var e=s.useRef({});function t(i){return e.current[i]}function o(i){return function(u){e.current[i]=u}}return[t,o]}function W6(e){var t=e.pageXOffset,o="scrollLeft";if(typeof t!="number"){var i=e.document;t=i.documentElement[o],typeof t!="number"&&(t=i.body[o])}return t}function G6(e){var t,o,i=e.ownerDocument,u=i.body,g=i&&i.documentElement,_=e.getBoundingClientRect();return t=_.left,o=_.top,t-=g.clientLeft||u.clientLeft||0,o-=g.clientTop||u.clientTop||0,{left:t,top:o}}function X6(e){var t=G6(e),o=e.ownerDocument,i=o.defaultView||o.parentWindow;return t.left+=W6(i),t.left}var q6=["prefixCls","className","defaultValue","value","count","allowHalf","allowClear","keyboard","character","characterRender","disabled","direction","tabIndex","autoFocus","onHoverChange","onChange","onFocus","onBlur","onKeyDown","onMouseLeave"];function K6(e,t){var o=e.prefixCls,i=o===void 0?"rc-rate":o,u=e.className,g=e.defaultValue,_=e.value,x=e.count,S=x===void 0?5:x,T=e.allowHalf,M=T===void 0?!1:T,R=e.allowClear,N=R===void 0?!0:R,F=e.keyboard,B=F===void 0?!0:F,V=e.character,j=V===void 0?"\u2605":V,H=e.characterRender,U=e.disabled,K=e.direction,Y=K===void 0?"ltr":K,q=e.tabIndex,Q=q===void 0?0:q,re=e.autoFocus,ae=e.onHoverChange,se=e.onChange,de=e.onFocus,pe=e.onBlur,ge=e.onKeyDown,me=e.onMouseLeave,be=(0,Ve.Z)(e,q6),_e=U6(),Ie=(0,ve.Z)(_e,2),Ce=Ie[0],Le=Ie[1],ze=s.useRef(null),ke=function(){if(!U){var Qn;(Qn=ze.current)===null||Qn===void 0||Qn.focus()}};s.useImperativeHandle(t,function(){return{focus:ke,blur:function(){if(!U){var Qn;(Qn=ze.current)===null||Qn===void 0||Qn.blur()}}}});var Ze=(0,Jo.Z)(g||0,{value:_}),je=(0,ve.Z)(Ze,2),Ue=je[0],He=je[1],Qe=(0,Jo.Z)(null),We=(0,ve.Z)(Qe,2),it=We[0],Je=We[1],wt=function(Qn,Un){var er=Y==="rtl",Ir=Qn+1;if(M){var pr=Ce(Qn),Zr=X6(pr),xn=pr.clientWidth;(er&&Un-Zr>xn/2||!er&&Un-Zr<xn/2)&&(Ir-=.5)}return Ir},Dt=function(Qn){He(Qn),se==null||se(Qn)},ct=s.useState(!1),ht=(0,ve.Z)(ct,2),ut=ht[0],tt=ht[1],xt=function(){tt(!0),de==null||de()},_t=function(){tt(!1),pe==null||pe()},dn=s.useState(null),on=(0,ve.Z)(dn,2),Ut=on[0],en=on[1],kt=function(Qn,Un){var er=wt(Un,Qn.pageX);er!==it&&(en(er),Je(null)),ae==null||ae(er)},cn=function(Qn){U||(en(null),Je(null),ae==null||ae(void 0)),Qn&&(me==null||me(Qn))},zn=function(Qn,Un){var er=wt(Un,Qn.pageX),Ir=!1;N&&(Ir=er===Ue),cn(),Dt(Ir?0:er),Je(Ir?er:null)},An=function(Qn){var Un=Qn.keyCode,er=Y==="rtl",Ir=M?.5:1;B&&(Un===nt.Z.RIGHT&&Ue<S&&!er?(Dt(Ue+Ir),Qn.preventDefault()):Un===nt.Z.LEFT&&Ue>0&&!er||Un===nt.Z.RIGHT&&Ue>0&&er?(Dt(Ue-Ir),Qn.preventDefault()):Un===nt.Z.LEFT&&Ue<S&&er&&(Dt(Ue+Ir),Qn.preventDefault())),ge==null||ge(Qn)};s.useEffect(function(){re&&!U&&ke()},[]);var sr=new Array(S).fill(0).map(function(Vr,Qn){return s.createElement(H6,{ref:Le(Qn),index:Qn,count:S,disabled:U,prefixCls:"".concat(i,"-star"),allowHalf:M,value:Ut===null?Ue:Ut,onClick:zn,onHover:kt,key:Vr||Qn,character:j,characterRender:H,focused:ut})}),yr=oe()(i,u,(0,Ee.Z)((0,Ee.Z)({},"".concat(i,"-disabled"),U),"".concat(i,"-rtl"),Y==="rtl"));return s.createElement("ul",(0,Pt.Z)({className:yr,onMouseLeave:cn,tabIndex:U?-1:Q,onFocus:U?null:xt,onBlur:U?null:_t,onKeyDown:U?null:An,ref:ze},(0,ir.Z)(be,{aria:!0,data:!0,attr:!0})),sr)}var Y6=s.forwardRef(K6),J6=Y6;const Q6=e=>{const{componentCls:t}=e;return{[`${t}-star`]:{position:"relative",display:"inline-block",color:"inherit",cursor:"pointer","&:not(:last-child)":{marginInlineEnd:e.marginXS},"> div":{transition:`all ${e.motionDurationMid}, outline 0s`,"&:hover":{transform:e.starHoverScale},"&:focus":{outline:0},"&:focus-visible":{outline:`${(0,J.bf)(e.lineWidth)} dashed ${e.starColor}`,transform:e.starHoverScale}},"&-first, &-second":{color:e.starBg,transition:`all ${e.motionDurationMid}`,userSelect:"none"},"&-first":{position:"absolute",top:0,insetInlineStart:0,width:"50%",height:"100%",overflow:"hidden",opacity:0},[`&-half ${t}-star-first, &-half ${t}-star-second`]:{opacity:1},[`&-half ${t}-star-first, &-full ${t}-star-second`]:{color:"inherit"}}}},eB=e=>({[`&-rtl${e.componentCls}`]:{direction:"rtl"}}),tB=e=>{const{componentCls:t}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,mn.Wf)(e)),{display:"inline-block",margin:0,padding:0,color:e.starColor,fontSize:e.starSize,lineHeight:1,listStyle:"none",outline:"none",[`&-disabled${t} ${t}-star`]:{cursor:"default","> div:hover":{transform:"scale(1)"}}}),Q6(e)),eB(e))}},nB=e=>({starColor:e.yellow6,starSize:e.controlHeightLG*.5,starHoverScale:"scale(1.1)",starBg:e.colorFillContent});var rB=(0,Ae.I$)("Rate",e=>{const t=(0,vn.IX)(e,{});return[tB(t)]},nB),iB=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o},oB=s.forwardRef((e,t)=>{const{prefixCls:o,className:i,rootClassName:u,style:g,tooltips:_,character:x=s.createElement(Z6,null),disabled:S}=e,T=iB(e,["prefixCls","className","rootClassName","style","tooltips","character","disabled"]),M=(q,Q)=>{let{index:re}=Q;return _?s.createElement(Uc.Z,{title:_[re]},q):q},{getPrefixCls:R,direction:N,rate:F}=s.useContext(De.E_),B=R("rate",o),[V,j,H]=rB(B),U=Object.assign(Object.assign({},F==null?void 0:F.style),g),K=s.useContext(Ds.Z),Y=S!=null?S:K;return V(s.createElement(J6,Object.assign({ref:t,character:x,characterRender:M,disabled:Y},T,{className:oe()(i,u,j,H,F==null?void 0:F.className),style:U,prefixCls:B,direction:N})))}),aB={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M955.7 856l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zM480 416c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v184c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V416zm32 352a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"warning",theme:"filled"},sB=aB,lB=function(t,o){return s.createElement(Fn.Z,(0,Pt.Z)({},t,{ref:o,icon:sB}))},cB=s.forwardRef(lB),uB=cB,dB=()=>s.createElement("svg",{width:"252",height:"294"},s.createElement("title",null,"No Found"),s.createElement("defs",null,s.createElement("path",{d:"M0 .387h251.772v251.772H0z"})),s.createElement("g",{fill:"none",fillRule:"evenodd"},s.createElement("g",{transform:"translate(0 .012)"},s.createElement("mask",{fill:"#fff"}),s.createElement("path",{d:"M0 127.32v-2.095C0 56.279 55.892.387 124.838.387h2.096c68.946 0 124.838 55.892 124.838 124.838v2.096c0 68.946-55.892 124.838-124.838 124.838h-2.096C55.892 252.16 0 196.267 0 127.321",fill:"#E4EBF7",mask:"url(#b)"})),s.createElement("path",{d:"M39.755 130.84a8.276 8.276 0 1 1-16.468-1.66 8.276 8.276 0 0 1 16.468 1.66",fill:"#FFF"}),s.createElement("path",{d:"M36.975 134.297l10.482 5.943M48.373 146.508l-12.648 10.788",stroke:"#FFF",strokeWidth:"2"}),s.createElement("path",{d:"M39.875 159.352a5.667 5.667 0 1 1-11.277-1.136 5.667 5.667 0 0 1 11.277 1.136M57.588 143.247a5.708 5.708 0 1 1-11.358-1.145 5.708 5.708 0 0 1 11.358 1.145M99.018 26.875l29.82-.014a4.587 4.587 0 1 0-.003-9.175l-29.82.013a4.587 4.587 0 1 0 .003 9.176M110.424 45.211l29.82-.013a4.588 4.588 0 0 0-.004-9.175l-29.82.013a4.587 4.587 0 1 0 .004 9.175",fill:"#FFF"}),s.createElement("path",{d:"M112.798 26.861v-.002l15.784-.006a4.588 4.588 0 1 0 .003 9.175l-15.783.007v-.002a4.586 4.586 0 0 0-.004-9.172M184.523 135.668c-.553 5.485-5.447 9.483-10.931 8.93-5.485-.553-9.483-5.448-8.93-10.932.552-5.485 5.447-9.483 10.932-8.93 5.485.553 9.483 5.447 8.93 10.932",fill:"#FFF"}),s.createElement("path",{d:"M179.26 141.75l12.64 7.167M193.006 156.477l-15.255 13.011",stroke:"#FFF",strokeWidth:"2"}),s.createElement("path",{d:"M184.668 170.057a6.835 6.835 0 1 1-13.6-1.372 6.835 6.835 0 0 1 13.6 1.372M203.34 153.325a6.885 6.885 0 1 1-13.7-1.382 6.885 6.885 0 0 1 13.7 1.382",fill:"#FFF"}),s.createElement("path",{d:"M151.931 192.324a2.222 2.222 0 1 1-4.444 0 2.222 2.222 0 0 1 4.444 0zM225.27 116.056a2.222 2.222 0 1 1-4.445 0 2.222 2.222 0 0 1 4.444 0zM216.38 151.08a2.223 2.223 0 1 1-4.446-.001 2.223 2.223 0 0 1 4.446 0zM176.917 107.636a2.223 2.223 0 1 1-4.445 0 2.223 2.223 0 0 1 4.445 0zM195.291 92.165a2.223 2.223 0 1 1-4.445 0 2.223 2.223 0 0 1 4.445 0zM202.058 180.711a2.223 2.223 0 1 1-4.446 0 2.223 2.223 0 0 1 4.446 0z",stroke:"#FFF",strokeWidth:"2"}),s.createElement("path",{stroke:"#FFF",strokeWidth:"2",d:"M214.404 153.302l-1.912 20.184-10.928 5.99M173.661 174.792l-6.356 9.814h-11.36l-4.508 6.484M174.941 125.168v-15.804M220.824 117.25l-12.84 7.901-15.31-7.902V94.39"}),s.createElement("path",{d:"M166.588 65.936h-3.951a4.756 4.756 0 0 1-4.743-4.742 4.756 4.756 0 0 1 4.743-4.743h3.951a4.756 4.756 0 0 1 4.743 4.743 4.756 4.756 0 0 1-4.743 4.742",fill:"#FFF"}),s.createElement("path",{d:"M174.823 30.03c0-16.281 13.198-29.48 29.48-29.48 16.28 0 29.48 13.199 29.48 29.48 0 16.28-13.2 29.48-29.48 29.48-16.282 0-29.48-13.2-29.48-29.48",fill:"#1677ff"}),s.createElement("path",{d:"M205.952 38.387c.5.5.785 1.142.785 1.928s-.286 1.465-.785 1.964c-.572.5-1.214.75-2 .75-.785 0-1.429-.285-1.929-.785-.572-.5-.82-1.143-.82-1.929s.248-1.428.82-1.928c.5-.5 1.144-.75 1.93-.75.785 0 1.462.25 1.999.75m4.285-19.463c1.428 1.249 2.143 2.963 2.143 5.142 0 1.712-.427 3.13-1.219 4.25-.067.096-.137.18-.218.265-.416.429-1.41 1.346-2.956 2.699a5.07 5.07 0 0 0-1.428 1.75 5.207 5.207 0 0 0-.536 2.357v.5h-4.107v-.5c0-1.357.215-2.536.714-3.5.464-.964 1.857-2.464 4.178-4.536l.43-.5c.643-.785.964-1.643.964-2.535 0-1.18-.358-2.108-1-2.785-.678-.68-1.643-1.001-2.858-1.001-1.536 0-2.642.464-3.357 1.43-.37.5-.621 1.135-.76 1.904a1.999 1.999 0 0 1-1.971 1.63h-.004c-1.277 0-2.257-1.183-1.98-2.43.337-1.518 1.02-2.78 2.073-3.784 1.536-1.5 3.607-2.25 6.25-2.25 2.32 0 4.214.607 5.642 1.894",fill:"#FFF"}),s.createElement("path",{d:"M52.04 76.131s21.81 5.36 27.307 15.945c5.575 10.74-6.352 9.26-15.73 4.935-10.86-5.008-24.7-11.822-11.577-20.88",fill:"#FFB594"}),s.createElement("path",{d:"M90.483 67.504l-.449 2.893c-.753.49-4.748-2.663-4.748-2.663l-1.645.748-1.346-5.684s6.815-4.589 8.917-5.018c2.452-.501 9.884.94 10.7 2.278 0 0 1.32.486-2.227.69-3.548.203-5.043.447-6.79 3.132-1.747 2.686-2.412 3.624-2.412 3.624",fill:"#FFC6A0"}),s.createElement("path",{d:"M128.055 111.367c-2.627-7.724-6.15-13.18-8.917-15.478-3.5-2.906-9.34-2.225-11.366-4.187-1.27-1.231-3.215-1.197-3.215-1.197s-14.98-3.158-16.828-3.479c-2.37-.41-2.124-.714-6.054-1.405-1.57-1.907-2.917-1.122-2.917-1.122l-7.11-1.383c-.853-1.472-2.423-1.023-2.423-1.023l-2.468-.897c-1.645 9.976-7.74 13.796-7.74 13.796 1.795 1.122 15.703 8.3 15.703 8.3l5.107 37.11s-3.321 5.694 1.346 9.109c0 0 19.883-3.743 34.921-.329 0 0 3.047-2.546.972-8.806.523-3.01 1.394-8.263 1.736-11.622.385.772 2.019 1.918 3.14 3.477 0 0 9.407-7.365 11.052-14.012-.832-.723-1.598-1.585-2.267-2.453-.567-.736-.358-2.056-.765-2.717-.669-1.084-1.804-1.378-1.907-1.682",fill:"#FFF"}),s.createElement("path",{d:"M101.09 289.998s4.295 2.041 7.354 1.021c2.821-.94 4.53.668 7.08 1.178 2.55.51 6.874 1.1 11.686-1.26-.103-5.51-6.889-3.98-11.96-6.713-2.563-1.38-3.784-4.722-3.598-8.799h-9.402s-1.392 10.52-1.16 14.573",fill:"#CBD1D1"}),s.createElement("path",{d:"M101.067 289.826s2.428 1.271 6.759.653c3.058-.437 3.712.481 7.423 1.031 3.712.55 10.724-.069 11.823-.894.413 1.1-.343 2.063-.343 2.063s-1.512.603-4.812.824c-2.03.136-5.8.291-7.607-.503-1.787-1.375-5.247-1.903-5.728-.241-3.918.95-7.355-.286-7.355-.286l-.16-2.647z",fill:"#2B0849"}),s.createElement("path",{d:"M108.341 276.044h3.094s-.103 6.702 4.536 8.558c-4.64.618-8.558-2.303-7.63-8.558",fill:"#A4AABA"}),s.createElement("path",{d:"M57.542 272.401s-2.107 7.416-4.485 12.306c-1.798 3.695-4.225 7.492 5.465 7.492 6.648 0 8.953-.48 7.423-6.599-1.53-6.12.266-13.199.266-13.199h-8.669z",fill:"#CBD1D1"}),s.createElement("path",{d:"M51.476 289.793s2.097 1.169 6.633 1.169c6.083 0 8.249-1.65 8.249-1.65s.602 1.114-.619 2.165c-.993.855-3.597 1.591-7.39 1.546-4.145-.048-5.832-.566-6.736-1.168-.825-.55-.687-1.58-.137-2.062",fill:"#2B0849"}),s.createElement("path",{d:"M58.419 274.304s.033 1.519-.314 2.93c-.349 1.42-1.078 3.104-1.13 4.139-.058 1.151 4.537 1.58 5.155.034.62-1.547 1.294-6.427 1.913-7.252.619-.825-4.903-2.119-5.624.15",fill:"#A4AABA"}),s.createElement("path",{d:"M99.66 278.514l13.378.092s1.298-54.52 1.853-64.403c.554-9.882 3.776-43.364 1.002-63.128l-12.547-.644-22.849.78s-.434 3.966-1.195 9.976c-.063.496-.682.843-.749 1.365-.075.585.423 1.354.32 1.966-2.364 14.08-6.377 33.104-8.744 46.677-.116.666-1.234 1.009-1.458 2.691-.04.302.211 1.525.112 1.795-6.873 18.744-10.949 47.842-14.277 61.885l14.607-.014s2.197-8.57 4.03-16.97c2.811-12.886 23.111-85.01 23.111-85.01l3.016-.521 1.043 46.35s-.224 1.234.337 2.02c.56.785-.56 1.123-.392 2.244l.392 1.794s-.449 7.178-.898 11.89c-.448 4.71-.092 39.165-.092 39.165",fill:"#7BB2F9"}),s.createElement("path",{d:"M76.085 221.626c1.153.094 4.038-2.019 6.955-4.935M106.36 225.142s2.774-1.11 6.103-3.883",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M107.275 222.1s2.773-1.11 6.102-3.884",stroke:"#648BD8",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M74.74 224.767s2.622-.591 6.505-3.365M86.03 151.634c-.27 3.106.3 8.525-4.336 9.123M103.625 149.88s.11 14.012-1.293 15.065c-2.219 1.664-2.99 1.944-2.99 1.944M99.79 150.438s.035 12.88-1.196 24.377M93.673 175.911s7.212-1.664 9.431-1.664M74.31 205.861a212.013 212.013 0 0 1-.979 4.56s-1.458 1.832-1.009 3.776c.449 1.944-.947 2.045-4.985 15.355-1.696 5.59-4.49 18.591-6.348 27.597l-.231 1.12M75.689 197.807a320.934 320.934 0 0 1-.882 4.754M82.591 152.233L81.395 162.7s-1.097.15-.5 2.244c.113 1.346-2.674 15.775-5.18 30.43M56.12 274.418h13.31",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M116.241 148.22s-17.047-3.104-35.893.2c.158 2.514-.003 4.15-.003 4.15s14.687-2.818 35.67-.312c.252-2.355.226-4.038.226-4.038",fill:"#192064"}),s.createElement("path",{d:"M106.322 151.165l.003-4.911a.81.81 0 0 0-.778-.815c-2.44-.091-5.066-.108-7.836-.014a.818.818 0 0 0-.789.815l-.003 4.906a.81.81 0 0 0 .831.813c2.385-.06 4.973-.064 7.73.017a.815.815 0 0 0 .842-.81",fill:"#FFF"}),s.createElement("path",{d:"M105.207 150.233l.002-3.076a.642.642 0 0 0-.619-.646 94.321 94.321 0 0 0-5.866-.01.65.65 0 0 0-.63.647v3.072a.64.64 0 0 0 .654.644 121.12 121.12 0 0 1 5.794.011c.362.01.665-.28.665-.642",fill:"#192064"}),s.createElement("path",{d:"M100.263 275.415h12.338M101.436 270.53c.006 3.387.042 5.79.111 6.506M101.451 264.548a915.75 915.75 0 0 0-.015 4.337M100.986 174.965l.898 44.642s.673 1.57-.225 2.692c-.897 1.122 2.468.673.898 2.243-1.57 1.57.897 1.122 0 3.365-.596 1.489-.994 21.1-1.096 35.146",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M46.876 83.427s-.516 6.045 7.223 5.552c11.2-.712 9.218-9.345 31.54-21.655-.786-2.708-2.447-4.744-2.447-4.744s-11.068 3.11-22.584 8.046c-6.766 2.9-13.395 6.352-13.732 12.801M104.46 91.057l.941-5.372-8.884-11.43-5.037 5.372-1.74 7.834a.321.321 0 0 0 .108.32c.965.8 6.5 5.013 14.347 3.544a.332.332 0 0 0 .264-.268",fill:"#FFC6A0"}),s.createElement("path",{d:"M93.942 79.387s-4.533-2.853-2.432-6.855c1.623-3.09 4.513 1.133 4.513 1.133s.52-3.642 3.121-3.642c.52-1.04 1.561-4.162 1.561-4.162s11.445 2.601 13.526 3.121c0 5.203-2.304 19.424-7.84 19.861-8.892.703-12.449-9.456-12.449-9.456",fill:"#FFC6A0"}),s.createElement("path",{d:"M113.874 73.446c2.601-2.081 3.47-9.722 3.47-9.722s-2.479-.49-6.64-2.05c-4.683-2.081-12.798-4.747-17.48.976-9.668 3.223-2.05 19.823-2.05 19.823l2.713-3.021s-3.935-3.287-2.08-6.243c2.17-3.462 3.92 1.073 3.92 1.073s.637-2.387 3.581-3.342c.355-.71 1.036-2.674 1.432-3.85a1.073 1.073 0 0 1 1.263-.704c2.4.558 8.677 2.019 11.356 2.662.522.125.871.615.82 1.15l-.305 3.248z",fill:"#520038"}),s.createElement("path",{d:"M104.977 76.064c-.103.61-.582 1.038-1.07.956-.489-.083-.801-.644-.698-1.254.103-.61.582-1.038 1.07-.956.488.082.8.644.698 1.254M112.132 77.694c-.103.61-.582 1.038-1.07.956-.488-.083-.8-.644-.698-1.254.103-.61.582-1.038 1.07-.956.488.082.8.643.698 1.254",fill:"#552950"}),s.createElement("path",{stroke:"#DB836E",strokeWidth:"1.118",strokeLinecap:"round",strokeLinejoin:"round",d:"M110.13 74.84l-.896 1.61-.298 4.357h-2.228"}),s.createElement("path",{d:"M110.846 74.481s1.79-.716 2.506.537",stroke:"#5C2552",strokeWidth:"1.118",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M92.386 74.282s.477-1.114 1.113-.716c.637.398 1.274 1.433.558 1.99-.717.556.159 1.67.159 1.67",stroke:"#DB836E",strokeWidth:"1.118",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M103.287 72.93s1.83 1.113 4.137.954",stroke:"#5C2552",strokeWidth:"1.118",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M103.685 81.762s2.227 1.193 4.376 1.193M104.64 84.308s.954.398 1.511.318M94.693 81.205s2.308 7.4 10.424 7.639",stroke:"#DB836E",strokeWidth:"1.118",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M81.45 89.384s.45 5.647-4.935 12.787M69 82.654s-.726 9.282-8.204 14.206",stroke:"#E4EBF7",strokeWidth:"1.101",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M129.405 122.865s-5.272 7.403-9.422 10.768",stroke:"#E4EBF7",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M119.306 107.329s.452 4.366-2.127 32.062",stroke:"#E4EBF7",strokeWidth:"1.101",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M150.028 151.232h-49.837a1.01 1.01 0 0 1-1.01-1.01v-31.688c0-.557.452-1.01 1.01-1.01h49.837c.558 0 1.01.453 1.01 1.01v31.688a1.01 1.01 0 0 1-1.01 1.01",fill:"#F2D7AD"}),s.createElement("path",{d:"M150.29 151.232h-19.863v-33.707h20.784v32.786a.92.92 0 0 1-.92.92",fill:"#F4D19D"}),s.createElement("path",{d:"M123.554 127.896H92.917a.518.518 0 0 1-.425-.816l6.38-9.113c.193-.277.51-.442.85-.442h31.092l-7.26 10.371z",fill:"#F2D7AD"}),s.createElement("path",{fill:"#CC9B6E",d:"M123.689 128.447H99.25v-.519h24.169l7.183-10.26.424.298z"}),s.createElement("path",{d:"M158.298 127.896h-18.669a2.073 2.073 0 0 1-1.659-.83l-7.156-9.541h19.965c.49 0 .95.23 1.244.622l6.69 8.92a.519.519 0 0 1-.415.83",fill:"#F4D19D"}),s.createElement("path",{fill:"#CC9B6E",d:"M157.847 128.479h-19.384l-7.857-10.475.415-.31 7.7 10.266h19.126zM130.554 150.685l-.032-8.177.519-.002.032 8.177z"}),s.createElement("path",{fill:"#CC9B6E",d:"M130.511 139.783l-.08-21.414.519-.002.08 21.414zM111.876 140.932l-.498-.143 1.479-5.167.498.143zM108.437 141.06l-2.679-2.935 2.665-3.434.41.318-2.397 3.089 2.384 2.612zM116.607 141.06l-.383-.35 2.383-2.612-2.397-3.089.41-.318 2.665 3.434z"}),s.createElement("path",{d:"M154.316 131.892l-3.114-1.96.038 3.514-1.043.092c-1.682.115-3.634.23-4.789.23-1.902 0-2.693 2.258 2.23 2.648l-2.645-.596s-2.168 1.317.504 2.3c0 0-1.58 1.217.561 2.58-.584 3.504 5.247 4.058 7.122 3.59 1.876-.47 4.233-2.359 4.487-5.16.28-3.085-.89-5.432-3.35-7.238",fill:"#FFC6A0"}),s.createElement("path",{d:"M153.686 133.577s-6.522.47-8.36.372c-1.836-.098-1.904 2.19 2.359 2.264 3.739.15 5.451-.044 5.451-.044",stroke:"#DB836E",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M145.16 135.877c-1.85 1.346.561 2.355.561 2.355s3.478.898 6.73.617",stroke:"#DB836E",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M151.89 141.71s-6.28.111-6.73-2.132c-.223-1.346.45-1.402.45-1.402M146.114 140.868s-1.103 3.16 5.44 3.533M151.202 129.932v3.477M52.838 89.286c3.533-.337 8.423-1.248 13.582-7.754",stroke:"#DB836E",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M168.567 248.318a6.647 6.647 0 0 1-6.647-6.647v-66.466a6.647 6.647 0 1 1 13.294 0v66.466a6.647 6.647 0 0 1-6.647 6.647",fill:"#5BA02E"}),s.createElement("path",{d:"M176.543 247.653a6.647 6.647 0 0 1-6.646-6.647v-33.232a6.647 6.647 0 1 1 13.293 0v33.232a6.647 6.647 0 0 1-6.647 6.647",fill:"#92C110"}),s.createElement("path",{d:"M186.443 293.613H158.92a3.187 3.187 0 0 1-3.187-3.187v-46.134a3.187 3.187 0 0 1 3.187-3.187h27.524a3.187 3.187 0 0 1 3.187 3.187v46.134a3.187 3.187 0 0 1-3.187 3.187",fill:"#F2D7AD"}),s.createElement("path",{d:"M88.979 89.48s7.776 5.384 16.6 2.842",stroke:"#E4EBF7",strokeWidth:"1.101",strokeLinecap:"round",strokeLinejoin:"round"}))),fB=()=>s.createElement("svg",{width:"254",height:"294"},s.createElement("title",null,"Server Error"),s.createElement("defs",null,s.createElement("path",{d:"M0 .335h253.49v253.49H0z"}),s.createElement("path",{d:"M0 293.665h253.49V.401H0z"})),s.createElement("g",{fill:"none",fillRule:"evenodd"},s.createElement("g",{transform:"translate(0 .067)"},s.createElement("mask",{fill:"#fff"}),s.createElement("path",{d:"M0 128.134v-2.11C0 56.608 56.273.334 125.69.334h2.11c69.416 0 125.69 56.274 125.69 125.69v2.11c0 69.417-56.274 125.69-125.69 125.69h-2.11C56.273 253.824 0 197.551 0 128.134",fill:"#E4EBF7",mask:"url(#b)"})),s.createElement("path",{d:"M39.989 132.108a8.332 8.332 0 1 1-16.581-1.671 8.332 8.332 0 0 1 16.58 1.671",fill:"#FFF"}),s.createElement("path",{d:"M37.19 135.59l10.553 5.983M48.665 147.884l-12.734 10.861",stroke:"#FFF",strokeWidth:"2"}),s.createElement("path",{d:"M40.11 160.816a5.706 5.706 0 1 1-11.354-1.145 5.706 5.706 0 0 1 11.354 1.145M57.943 144.6a5.747 5.747 0 1 1-11.436-1.152 5.747 5.747 0 0 1 11.436 1.153M99.656 27.434l30.024-.013a4.619 4.619 0 1 0-.004-9.238l-30.024.013a4.62 4.62 0 0 0 .004 9.238M111.14 45.896l30.023-.013a4.62 4.62 0 1 0-.004-9.238l-30.024.013a4.619 4.619 0 1 0 .004 9.238",fill:"#FFF"}),s.createElement("path",{d:"M113.53 27.421v-.002l15.89-.007a4.619 4.619 0 1 0 .005 9.238l-15.892.007v-.002a4.618 4.618 0 0 0-.004-9.234M150.167 70.091h-3.979a4.789 4.789 0 0 1-4.774-4.775 4.788 4.788 0 0 1 4.774-4.774h3.979a4.789 4.789 0 0 1 4.775 4.774 4.789 4.789 0 0 1-4.775 4.775",fill:"#FFF"}),s.createElement("path",{d:"M171.687 30.234c0-16.392 13.289-29.68 29.681-29.68 16.392 0 29.68 13.288 29.68 29.68 0 16.393-13.288 29.681-29.68 29.681s-29.68-13.288-29.68-29.68",fill:"#FF603B"}),s.createElement("path",{d:"M203.557 19.435l-.676 15.035a1.514 1.514 0 0 1-3.026 0l-.675-15.035a2.19 2.19 0 1 1 4.377 0m-.264 19.378c.513.477.77 1.1.77 1.87s-.257 1.393-.77 1.907c-.55.476-1.21.733-1.943.733a2.545 2.545 0 0 1-1.87-.77c-.55-.514-.806-1.136-.806-1.87 0-.77.256-1.393.806-1.87.513-.513 1.137-.733 1.87-.733.77 0 1.43.22 1.943.733",fill:"#FFF"}),s.createElement("path",{d:"M119.3 133.275c4.426-.598 3.612-1.204 4.079-4.778.675-5.18-3.108-16.935-8.262-25.118-1.088-10.72-12.598-11.24-12.598-11.24s4.312 4.895 4.196 16.199c1.398 5.243.804 14.45.804 14.45s5.255 11.369 11.78 10.487",fill:"#FFB594"}),s.createElement("path",{d:"M100.944 91.61s1.463-.583 3.211.582c8.08 1.398 10.368 6.706 11.3 11.368 1.864 1.282 1.864 2.33 1.864 3.496.365.777 1.515 3.03 1.515 3.03s-7.225 1.748-10.954 6.758c-1.399-6.41-6.936-25.235-6.936-25.235",fill:"#FFF"}),s.createElement("path",{d:"M94.008 90.5l1.019-5.815-9.23-11.874-5.233 5.581-2.593 9.863s8.39 5.128 16.037 2.246",fill:"#FFB594"}),s.createElement("path",{d:"M82.931 78.216s-4.557-2.868-2.445-6.892c1.632-3.107 4.537 1.139 4.537 1.139s.524-3.662 3.139-3.662c.523-1.046 1.569-4.184 1.569-4.184s11.507 2.615 13.6 3.138c-.001 5.23-2.317 19.529-7.884 19.969-8.94.706-12.516-9.508-12.516-9.508",fill:"#FFC6A0"}),s.createElement("path",{d:"M102.971 72.243c2.616-2.093 3.489-9.775 3.489-9.775s-2.492-.492-6.676-2.062c-4.708-2.092-12.867-4.771-17.575.982-9.54 4.41-2.062 19.93-2.062 19.93l2.729-3.037s-3.956-3.304-2.092-6.277c2.183-3.48 3.943 1.08 3.943 1.08s.64-2.4 3.6-3.36c.356-.714 1.04-2.69 1.44-3.872a1.08 1.08 0 0 1 1.27-.707c2.41.56 8.723 2.03 11.417 2.676.524.126.876.619.825 1.156l-.308 3.266z",fill:"#520038"}),s.createElement("path",{d:"M101.22 76.514c-.104.613-.585 1.044-1.076.96-.49-.082-.805-.646-.702-1.26.104-.613.585-1.044 1.076-.961.491.083.805.647.702 1.26M94.26 75.074c-.104.613-.585 1.044-1.076.96-.49-.082-.805-.646-.702-1.26.104-.613.585-1.044 1.076-.96.491.082.805.646.702 1.26",fill:"#552950"}),s.createElement("path",{stroke:"#DB836E",strokeWidth:"1.063",strokeLinecap:"round",strokeLinejoin:"round",d:"M99.206 73.644l-.9 1.62-.3 4.38h-2.24"}),s.createElement("path",{d:"M99.926 73.284s1.8-.72 2.52.54",stroke:"#5C2552",strokeWidth:"1.117",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M81.367 73.084s.48-1.12 1.12-.72c.64.4 1.28 1.44.56 2s.16 1.68.16 1.68",stroke:"#DB836E",strokeWidth:"1.117",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M92.326 71.724s1.84 1.12 4.16.96",stroke:"#5C2552",strokeWidth:"1.117",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M92.726 80.604s2.24 1.2 4.4 1.2M93.686 83.164s.96.4 1.52.32M83.687 80.044s1.786 6.547 9.262 7.954",stroke:"#DB836E",strokeWidth:"1.063",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M95.548 91.663s-1.068 2.821-8.298 2.105c-7.23-.717-10.29-5.044-10.29-5.044",stroke:"#E4EBF7",strokeWidth:"1.136",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M78.126 87.478s6.526 4.972 16.47 2.486c0 0 9.577 1.02 11.536 5.322 5.36 11.77.543 36.835 0 39.962 3.496 4.055-.466 8.483-.466 8.483-15.624-3.548-35.81-.6-35.81-.6-4.849-3.546-1.223-9.044-1.223-9.044L62.38 110.32c-2.485-15.227.833-19.803 3.549-20.743 3.03-1.049 8.04-1.282 8.04-1.282.496-.058 1.08-.076 1.37-.233 2.36-1.282 2.787-.583 2.787-.583",fill:"#FFF"}),s.createElement("path",{d:"M65.828 89.81s-6.875.465-7.59 8.156c-.466 8.857 3.03 10.954 3.03 10.954s6.075 22.102 16.796 22.957c8.39-2.176 4.758-6.702 4.661-11.42-.233-11.304-7.108-16.897-7.108-16.897s-4.212-13.75-9.789-13.75",fill:"#FFC6A0"}),s.createElement("path",{d:"M71.716 124.225s.855 11.264 9.828 6.486c4.765-2.536 7.581-13.828 9.789-22.568 1.456-5.768 2.58-12.197 2.58-12.197l-4.973-1.709s-2.408 5.516-7.769 12.275c-4.335 5.467-9.144 11.11-9.455 17.713",fill:"#FFC6A0"}),s.createElement("path",{d:"M108.463 105.191s1.747 2.724-2.331 30.535c2.376 2.216 1.053 6.012-.233 7.51",stroke:"#E4EBF7",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M123.262 131.527s-.427 2.732-11.77 1.981c-15.187-1.006-25.326-3.25-25.326-3.25l.933-5.8s.723.215 9.71-.068c11.887-.373 18.714-6.07 24.964-1.022 4.039 3.263 1.489 8.16 1.489 8.16",fill:"#FFC6A0"}),s.createElement("path",{d:"M70.24 90.974s-5.593-4.739-11.054 2.68c-3.318 7.223.517 15.284 2.664 19.578-.31 3.729 2.33 4.311 2.33 4.311s.108.895 1.516 2.68c4.078-7.03 6.72-9.166 13.711-12.546-.328-.656-1.877-3.265-1.825-3.767.175-1.69-1.282-2.623-1.282-2.623s-.286-.156-1.165-2.738c-.788-2.313-2.036-5.177-4.895-7.575",fill:"#FFF"}),s.createElement("path",{d:"M90.232 288.027s4.855 2.308 8.313 1.155c3.188-1.063 5.12.755 8.002 1.331 2.881.577 7.769 1.243 13.207-1.424-.117-6.228-7.786-4.499-13.518-7.588-2.895-1.56-4.276-5.336-4.066-9.944H91.544s-1.573 11.89-1.312 16.47",fill:"#CBD1D1"}),s.createElement("path",{d:"M90.207 287.833s2.745 1.437 7.639.738c3.456-.494 3.223.66 7.418 1.282 4.195.621 13.092-.194 14.334-1.126.466 1.242-.388 2.33-.388 2.33s-1.709.682-5.438.932c-2.295.154-8.098.276-10.14-.621-2.02-1.554-4.894-1.515-6.06-.234-4.427 1.075-7.184-.31-7.184-.31l-.181-2.991z",fill:"#2B0849"}),s.createElement("path",{d:"M98.429 272.257h3.496s-.117 7.574 5.127 9.671c-5.244.7-9.672-2.602-8.623-9.671",fill:"#A4AABA"}),s.createElement("path",{d:"M44.425 272.046s-2.208 7.774-4.702 12.899c-1.884 3.874-4.428 7.854 5.729 7.854 6.97 0 9.385-.503 7.782-6.917-1.604-6.415.279-13.836.279-13.836h-9.088z",fill:"#CBD1D1"}),s.createElement("path",{d:"M38.066 290.277s2.198 1.225 6.954 1.225c6.376 0 8.646-1.73 8.646-1.73s.63 1.168-.649 2.27c-1.04.897-3.77 1.668-7.745 1.621-4.347-.05-6.115-.593-7.062-1.224-.864-.577-.72-1.657-.144-2.162",fill:"#2B0849"}),s.createElement("path",{d:"M45.344 274.041s.035 1.592-.329 3.07c-.365 1.49-1.13 3.255-1.184 4.34-.061 1.206 4.755 1.657 5.403.036.65-1.622 1.357-6.737 2.006-7.602.648-.865-5.14-2.222-5.896.156",fill:"#A4AABA"}),s.createElement("path",{d:"M89.476 277.57l13.899.095s1.349-56.643 1.925-66.909c.576-10.267 3.923-45.052 1.042-65.585l-13.037-.669-23.737.81s-.452 4.12-1.243 10.365c-.065.515-.708.874-.777 1.417-.078.608.439 1.407.332 2.044-2.455 14.627-5.797 32.736-8.256 46.837-.121.693-1.282 1.048-1.515 2.796-.042.314.22 1.584.116 1.865-7.14 19.473-12.202 52.601-15.66 67.19l15.176-.015s2.282-10.145 4.185-18.871c2.922-13.389 24.012-88.32 24.012-88.32l3.133-.954-.158 48.568s-.233 1.282.35 2.098c.583.815-.581 1.167-.408 2.331l.408 1.864s-.466 7.458-.932 12.352c-.467 4.895 1.145 40.69 1.145 40.69",fill:"#7BB2F9"}),s.createElement("path",{d:"M64.57 218.881c1.197.099 4.195-2.097 7.225-5.127M96.024 222.534s2.881-1.152 6.34-4.034",stroke:"#648BD8",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M96.973 219.373s2.882-1.153 6.34-4.034",stroke:"#648BD8",strokeWidth:"1.032",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M63.172 222.144s2.724-.614 6.759-3.496M74.903 146.166c-.281 3.226.31 8.856-4.506 9.478M93.182 144.344s.115 14.557-1.344 15.65c-2.305 1.73-3.107 2.02-3.107 2.02M89.197 144.923s.269 13.144-1.01 25.088M83.525 170.71s6.81-1.051 9.116-1.051M46.026 270.045l-.892 4.538M46.937 263.289l-.815 4.157M62.725 202.503c-.33 1.618-.102 1.904-.449 3.438 0 0-2.756 1.903-2.29 3.923.466 2.02-.31 3.424-4.505 17.252-1.762 5.807-4.233 18.922-6.165 28.278-.03.144-.521 2.646-1.14 5.8M64.158 194.136c-.295 1.658-.6 3.31-.917 4.938M71.33 146.787l-1.244 10.877s-1.14.155-.519 2.33c.117 1.399-2.778 16.39-5.382 31.615M44.242 273.727H58.07",stroke:"#648BD8",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M106.18 142.117c-3.028-.489-18.825-2.744-36.219.2a.625.625 0 0 0-.518.644c.063 1.307.044 2.343.015 2.995a.617.617 0 0 0 .716.636c3.303-.534 17.037-2.412 35.664-.266.347.04.66-.214.692-.56.124-1.347.16-2.425.17-3.029a.616.616 0 0 0-.52-.62",fill:"#192064"}),s.createElement("path",{d:"M96.398 145.264l.003-5.102a.843.843 0 0 0-.809-.847 114.104 114.104 0 0 0-8.141-.014.85.85 0 0 0-.82.847l-.003 5.097c0 .476.388.857.864.845 2.478-.064 5.166-.067 8.03.017a.848.848 0 0 0 .876-.843",fill:"#FFF"}),s.createElement("path",{d:"M95.239 144.296l.002-3.195a.667.667 0 0 0-.643-.672c-1.9-.061-3.941-.073-6.094-.01a.675.675 0 0 0-.654.672l-.002 3.192c0 .376.305.677.68.669 1.859-.042 3.874-.043 6.02.012.376.01.69-.291.691-.668",fill:"#192064"}),s.createElement("path",{d:"M90.102 273.522h12.819M91.216 269.761c.006 3.519-.072 5.55 0 6.292M90.923 263.474c-.009 1.599-.016 2.558-.016 4.505M90.44 170.404l.932 46.38s.7 1.631-.233 2.796c-.932 1.166 2.564.7.932 2.33-1.63 1.633.933 1.166 0 3.497-.618 1.546-1.031 21.921-1.138 36.513",stroke:"#648BD8",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M73.736 98.665l2.214 4.312s2.098.816 1.865 2.68l.816 2.214M64.297 116.611c.233-.932 2.176-7.147 12.585-10.488M77.598 90.042s7.691 6.137 16.547 2.72",stroke:"#E4EBF7",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M91.974 86.954s5.476-.816 7.574-4.545c1.297-.345.72 2.212-.33 3.671-.7.971-1.01 1.554-1.01 1.554s.194.31.155.816c-.053.697-.175.653-.272 1.048-.081.335.108.657 0 1.049-.046.17-.198.5-.382.878-.12.249-.072.687-.2.948-.231.469-1.562 1.87-2.622 2.855-3.826 3.554-5.018 1.644-6.001-.408-.894-1.865-.661-5.127-.874-6.875-.35-2.914-2.622-3.03-1.923-4.429.343-.685 2.87.69 3.263 1.748.757 2.04 2.952 1.807 2.622 1.69",fill:"#FFC6A0"}),s.createElement("path",{d:"M99.8 82.429c-.465.077-.35.272-.97 1.243-.622.971-4.817 2.932-6.39 3.224-2.589.48-2.278-1.56-4.254-2.855-1.69-1.107-3.562-.638-1.398 1.398.99.932.932 1.107 1.398 3.205.335 1.506-.64 3.67.7 5.593",stroke:"#DB836E",strokeWidth:".774",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M79.543 108.673c-2.1 2.926-4.266 6.175-5.557 8.762",stroke:"#E59788",strokeWidth:".774",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M87.72 124.768s-2.098-1.942-5.127-2.719c-3.03-.777-3.574-.155-5.516.078-1.942.233-3.885-.932-3.652.7.233 1.63 5.05 1.01 5.206 2.097.155 1.087-6.37 2.796-8.313 2.175-.777.777.466 1.864 2.02 2.175.233 1.554 2.253 1.554 2.253 1.554s.699 1.01 2.641 1.088c2.486 1.32 8.934-.7 10.954-1.554 2.02-.855-.466-5.594-.466-5.594",fill:"#FFC6A0"}),s.createElement("path",{d:"M73.425 122.826s.66 1.127 3.167 1.418c2.315.27 2.563.583 2.563.583s-2.545 2.894-9.07 2.272M72.416 129.274s3.826.097 4.933-.718M74.98 130.75s1.961.136 3.36-.505M77.232 131.916s1.748.019 2.914-.505M73.328 122.321s-.595-1.032 1.262-.427c1.671.544 2.833.055 5.128.155 1.389.061 3.067-.297 3.982.15 1.606.784 3.632 2.181 3.632 2.181s10.526 1.204 19.033-1.127M78.864 108.104s-8.39 2.758-13.168 12.12",stroke:"#E59788",strokeWidth:".774",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M109.278 112.533s3.38-3.613 7.575-4.662",stroke:"#E4EBF7",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M107.375 123.006s9.697-2.745 11.445-.88",stroke:"#E59788",strokeWidth:".774",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M194.605 83.656l3.971-3.886M187.166 90.933l3.736-3.655M191.752 84.207l-4.462-4.56M198.453 91.057l-4.133-4.225M129.256 163.074l3.718-3.718M122.291 170.039l3.498-3.498M126.561 163.626l-4.27-4.27M132.975 170.039l-3.955-3.955",stroke:"#BFCDDD",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M190.156 211.779h-1.604a4.023 4.023 0 0 1-4.011-4.011V175.68a4.023 4.023 0 0 1 4.01-4.01h1.605a4.023 4.023 0 0 1 4.011 4.01v32.088a4.023 4.023 0 0 1-4.01 4.01",fill:"#A3B4C6"}),s.createElement("path",{d:"M237.824 212.977a4.813 4.813 0 0 1-4.813 4.813h-86.636a4.813 4.813 0 0 1 0-9.626h86.636a4.813 4.813 0 0 1 4.813 4.813",fill:"#A3B4C6"}),s.createElement("mask",{fill:"#fff"}),s.createElement("path",{fill:"#A3B4C6",mask:"url(#d)",d:"M154.098 190.096h70.513v-84.617h-70.513z"}),s.createElement("path",{d:"M224.928 190.096H153.78a3.219 3.219 0 0 1-3.208-3.209V167.92a3.219 3.219 0 0 1 3.208-3.21h71.148a3.219 3.219 0 0 1 3.209 3.21v18.967a3.219 3.219 0 0 1-3.21 3.209M224.928 130.832H153.78a3.218 3.218 0 0 1-3.208-3.208v-18.968a3.219 3.219 0 0 1 3.208-3.209h71.148a3.219 3.219 0 0 1 3.209 3.21v18.967a3.218 3.218 0 0 1-3.21 3.208",fill:"#BFCDDD",mask:"url(#d)"}),s.createElement("path",{d:"M159.563 120.546a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M166.98 120.546a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M174.397 120.546a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M222.539 120.546h-22.461a.802.802 0 0 1-.802-.802v-3.208c0-.443.359-.803.802-.803h22.46c.444 0 .803.36.803.803v3.208c0 .443-.36.802-.802.802",fill:"#FFF",mask:"url(#d)"}),s.createElement("path",{d:"M224.928 160.464H153.78a3.218 3.218 0 0 1-3.208-3.209v-18.967a3.219 3.219 0 0 1 3.208-3.209h71.148a3.219 3.219 0 0 1 3.209 3.209v18.967a3.218 3.218 0 0 1-3.21 3.209",fill:"#BFCDDD",mask:"url(#d)"}),s.createElement("path",{d:"M173.455 130.832h49.301M164.984 130.832h6.089M155.952 130.832h6.75M173.837 160.613h49.3M165.365 160.613h6.089M155.57 160.613h6.751",stroke:"#7C90A5",strokeWidth:"1.124",strokeLinecap:"round",strokeLinejoin:"round",mask:"url(#d)"}),s.createElement("path",{d:"M159.563 151.038a2.407 2.407 0 1 1 0-4.814 2.407 2.407 0 0 1 0 4.814M166.98 151.038a2.407 2.407 0 1 1 0-4.814 2.407 2.407 0 0 1 0 4.814M174.397 151.038a2.407 2.407 0 1 1 .001-4.814 2.407 2.407 0 0 1 0 4.814M222.539 151.038h-22.461a.802.802 0 0 1-.802-.802v-3.209c0-.443.359-.802.802-.802h22.46c.444 0 .803.36.803.802v3.209c0 .443-.36.802-.802.802M159.563 179.987a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M166.98 179.987a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M174.397 179.987a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M222.539 179.987h-22.461a.802.802 0 0 1-.802-.802v-3.209c0-.443.359-.802.802-.802h22.46c.444 0 .803.36.803.802v3.209c0 .443-.36.802-.802.802",fill:"#FFF",mask:"url(#d)"}),s.createElement("path",{d:"M203.04 221.108h-27.372a2.413 2.413 0 0 1-2.406-2.407v-11.448a2.414 2.414 0 0 1 2.406-2.407h27.372a2.414 2.414 0 0 1 2.407 2.407V218.7a2.413 2.413 0 0 1-2.407 2.407",fill:"#BFCDDD",mask:"url(#d)"}),s.createElement("path",{d:"M177.259 207.217v11.52M201.05 207.217v11.52",stroke:"#A3B4C6",strokeWidth:"1.124",strokeLinecap:"round",strokeLinejoin:"round",mask:"url(#d)"}),s.createElement("path",{d:"M162.873 267.894a9.422 9.422 0 0 1-9.422-9.422v-14.82a9.423 9.423 0 0 1 18.845 0v14.82a9.423 9.423 0 0 1-9.423 9.422",fill:"#5BA02E",mask:"url(#d)"}),s.createElement("path",{d:"M171.22 267.83a9.422 9.422 0 0 1-9.422-9.423v-3.438a9.423 9.423 0 0 1 18.845 0v3.438a9.423 9.423 0 0 1-9.422 9.423",fill:"#92C110",mask:"url(#d)"}),s.createElement("path",{d:"M181.31 293.666h-27.712a3.209 3.209 0 0 1-3.209-3.21V269.79a3.209 3.209 0 0 1 3.209-3.21h27.711a3.209 3.209 0 0 1 3.209 3.21v20.668a3.209 3.209 0 0 1-3.209 3.209",fill:"#F2D7AD",mask:"url(#d)"})));const hB=e=>{const{componentCls:t,lineHeightHeading3:o,iconCls:i,padding:u,paddingXL:g,paddingXS:_,paddingLG:x,marginXS:S,lineHeight:T}=e;return{[t]:{padding:`${(0,J.bf)(e.calc(x).mul(2).equal())} ${(0,J.bf)(g)}`,"&-rtl":{direction:"rtl"}},[`${t} ${t}-image`]:{width:e.imageWidth,height:e.imageHeight,margin:"auto"},[`${t} ${t}-icon`]:{marginBottom:x,textAlign:"center",[`& > ${i}`]:{fontSize:e.iconFontSize}},[`${t} ${t}-title`]:{color:e.colorTextHeading,fontSize:e.titleFontSize,lineHeight:o,marginBlock:S,textAlign:"center"},[`${t} ${t}-subtitle`]:{color:e.colorTextDescription,fontSize:e.subtitleFontSize,lineHeight:T,textAlign:"center"},[`${t} ${t}-content`]:{marginTop:x,padding:`${(0,J.bf)(x)} ${(0,J.bf)(e.calc(u).mul(2.5).equal())}`,backgroundColor:e.colorFillAlter},[`${t} ${t}-extra`]:{margin:e.extraMargin,textAlign:"center","& > *":{marginInlineEnd:_,"&:last-child":{marginInlineEnd:0}}}}},pB=e=>{const{componentCls:t,iconCls:o}=e;return{[`${t}-success ${t}-icon > ${o}`]:{color:e.resultSuccessIconColor},[`${t}-error ${t}-icon > ${o}`]:{color:e.resultErrorIconColor},[`${t}-info ${t}-icon > ${o}`]:{color:e.resultInfoIconColor},[`${t}-warning ${t}-icon > ${o}`]:{color:e.resultWarningIconColor}}},mB=e=>[hB(e),pB(e)],gB=e=>mB(e),vB=e=>({titleFontSize:e.fontSizeHeading3,subtitleFontSize:e.fontSize,iconFontSize:e.fontSizeHeading3*3,extraMargin:`${e.paddingLG}px 0 0 0`});var yB=(0,Ae.I$)("Result",e=>{const t=e.colorInfo,o=e.colorError,i=e.colorSuccess,u=e.colorWarning,g=(0,vn.IX)(e,{resultInfoIconColor:t,resultErrorIconColor:o,resultSuccessIconColor:i,resultWarningIconColor:u,imageWidth:250,imageHeight:295});return[gB(g)]},vB),_B=()=>s.createElement("svg",{width:"251",height:"294"},s.createElement("title",null,"Unauthorized"),s.createElement("g",{fill:"none",fillRule:"evenodd"},s.createElement("path",{d:"M0 129.023v-2.084C0 58.364 55.591 2.774 124.165 2.774h2.085c68.574 0 124.165 55.59 124.165 124.165v2.084c0 68.575-55.59 124.166-124.165 124.166h-2.085C55.591 253.189 0 197.598 0 129.023",fill:"#E4EBF7"}),s.createElement("path",{d:"M41.417 132.92a8.231 8.231 0 1 1-16.38-1.65 8.231 8.231 0 0 1 16.38 1.65",fill:"#FFF"}),s.createElement("path",{d:"M38.652 136.36l10.425 5.91M49.989 148.505l-12.58 10.73",stroke:"#FFF",strokeWidth:"2"}),s.createElement("path",{d:"M41.536 161.28a5.636 5.636 0 1 1-11.216-1.13 5.636 5.636 0 0 1 11.216 1.13M59.154 145.261a5.677 5.677 0 1 1-11.297-1.138 5.677 5.677 0 0 1 11.297 1.138M100.36 29.516l29.66-.013a4.562 4.562 0 1 0-.004-9.126l-29.66.013a4.563 4.563 0 0 0 .005 9.126M111.705 47.754l29.659-.013a4.563 4.563 0 1 0-.004-9.126l-29.66.013a4.563 4.563 0 1 0 .005 9.126",fill:"#FFF"}),s.createElement("path",{d:"M114.066 29.503V29.5l15.698-.007a4.563 4.563 0 1 0 .004 9.126l-15.698.007v-.002a4.562 4.562 0 0 0-.004-9.122M185.405 137.723c-.55 5.455-5.418 9.432-10.873 8.882-5.456-.55-9.432-5.418-8.882-10.873.55-5.455 5.418-9.432 10.873-8.882 5.455.55 9.432 5.418 8.882 10.873",fill:"#FFF"}),s.createElement("path",{d:"M180.17 143.772l12.572 7.129M193.841 158.42L178.67 171.36",stroke:"#FFF",strokeWidth:"2"}),s.createElement("path",{d:"M185.55 171.926a6.798 6.798 0 1 1-13.528-1.363 6.798 6.798 0 0 1 13.527 1.363M204.12 155.285a6.848 6.848 0 1 1-13.627-1.375 6.848 6.848 0 0 1 13.626 1.375",fill:"#FFF"}),s.createElement("path",{d:"M152.988 194.074a2.21 2.21 0 1 1-4.42 0 2.21 2.21 0 0 1 4.42 0zM225.931 118.217a2.21 2.21 0 1 1-4.421 0 2.21 2.21 0 0 1 4.421 0zM217.09 153.051a2.21 2.21 0 1 1-4.421 0 2.21 2.21 0 0 1 4.42 0zM177.84 109.842a2.21 2.21 0 1 1-4.422 0 2.21 2.21 0 0 1 4.421 0zM196.114 94.454a2.21 2.21 0 1 1-4.421 0 2.21 2.21 0 0 1 4.421 0zM202.844 182.523a2.21 2.21 0 1 1-4.42 0 2.21 2.21 0 0 1 4.42 0z",stroke:"#FFF",strokeWidth:"2"}),s.createElement("path",{stroke:"#FFF",strokeWidth:"2",d:"M215.125 155.262l-1.902 20.075-10.87 5.958M174.601 176.636l-6.322 9.761H156.98l-4.484 6.449M175.874 127.28V111.56M221.51 119.404l-12.77 7.859-15.228-7.86V96.668"}),s.createElement("path",{d:"M180.68 29.32C180.68 13.128 193.806 0 210 0c16.193 0 29.32 13.127 29.32 29.32 0 16.194-13.127 29.322-29.32 29.322-16.193 0-29.32-13.128-29.32-29.321",fill:"#A26EF4"}),s.createElement("path",{d:"M221.45 41.706l-21.563-.125a1.744 1.744 0 0 1-1.734-1.754l.071-12.23a1.744 1.744 0 0 1 1.754-1.734l21.562.125c.964.006 1.74.791 1.735 1.755l-.071 12.229a1.744 1.744 0 0 1-1.754 1.734",fill:"#FFF"}),s.createElement("path",{d:"M215.106 29.192c-.015 2.577-2.049 4.654-4.543 4.64-2.494-.014-4.504-2.115-4.489-4.693l.04-6.925c.016-2.577 2.05-4.654 4.543-4.64 2.494.015 4.504 2.116 4.49 4.693l-.04 6.925zm-4.53-14.074a6.877 6.877 0 0 0-6.916 6.837l-.043 7.368a6.877 6.877 0 0 0 13.754.08l.042-7.368a6.878 6.878 0 0 0-6.837-6.917zM167.566 68.367h-3.93a4.73 4.73 0 0 1-4.717-4.717 4.73 4.73 0 0 1 4.717-4.717h3.93a4.73 4.73 0 0 1 4.717 4.717 4.73 4.73 0 0 1-4.717 4.717",fill:"#FFF"}),s.createElement("path",{d:"M168.214 248.838a6.611 6.611 0 0 1-6.61-6.611v-66.108a6.611 6.611 0 0 1 13.221 0v66.108a6.611 6.611 0 0 1-6.61 6.61",fill:"#5BA02E"}),s.createElement("path",{d:"M176.147 248.176a6.611 6.611 0 0 1-6.61-6.61v-33.054a6.611 6.611 0 1 1 13.221 0v33.053a6.611 6.611 0 0 1-6.61 6.611",fill:"#92C110"}),s.createElement("path",{d:"M185.994 293.89h-27.376a3.17 3.17 0 0 1-3.17-3.17v-45.887a3.17 3.17 0 0 1 3.17-3.17h27.376a3.17 3.17 0 0 1 3.17 3.17v45.886a3.17 3.17 0 0 1-3.17 3.17",fill:"#F2D7AD"}),s.createElement("path",{d:"M81.972 147.673s6.377-.927 17.566-1.28c11.729-.371 17.57 1.086 17.57 1.086s3.697-3.855.968-8.424c1.278-12.077 5.982-32.827.335-48.273-1.116-1.339-3.743-1.512-7.536-.62-1.337.315-7.147-.149-7.983-.1l-15.311-.347s-3.487-.17-8.035-.508c-1.512-.113-4.227-1.683-5.458-.338-.406.443-2.425 5.669-1.97 16.077l8.635 35.642s-3.141 3.61 1.219 7.085",fill:"#FFF"}),s.createElement("path",{d:"M75.768 73.325l-.9-6.397 11.982-6.52s7.302-.118 8.038 1.205c.737 1.324-5.616.993-5.616.993s-1.836 1.388-2.615 2.5c-1.654 2.363-.986 6.471-8.318 5.986-1.708.284-2.57 2.233-2.57 2.233",fill:"#FFC6A0"}),s.createElement("path",{d:"M52.44 77.672s14.217 9.406 24.973 14.444c1.061.497-2.094 16.183-11.892 11.811-7.436-3.318-20.162-8.44-21.482-14.496-.71-3.258 2.543-7.643 8.401-11.76M141.862 80.113s-6.693 2.999-13.844 6.876c-3.894 2.11-10.137 4.704-12.33 7.988-6.224 9.314 3.536 11.22 12.947 7.503 6.71-2.651 28.999-12.127 13.227-22.367",fill:"#FFB594"}),s.createElement("path",{d:"M76.166 66.36l3.06 3.881s-2.783 2.67-6.31 5.747c-7.103 6.195-12.803 14.296-15.995 16.44-3.966 2.662-9.754 3.314-12.177-.118-3.553-5.032.464-14.628 31.422-25.95",fill:"#FFC6A0"}),s.createElement("path",{d:"M64.674 85.116s-2.34 8.413-8.912 14.447c.652.548 18.586 10.51 22.144 10.056 5.238-.669 6.417-18.968 1.145-20.531-.702-.208-5.901-1.286-8.853-2.167-.87-.26-1.611-1.71-3.545-.936l-1.98-.869zM128.362 85.826s5.318 1.956 7.325 13.734c-.546.274-17.55 12.35-21.829 7.805-6.534-6.94-.766-17.393 4.275-18.61 4.646-1.121 5.03-1.37 10.23-2.929",fill:"#FFF"}),s.createElement("path",{d:"M78.18 94.656s.911 7.41-4.914 13.078",stroke:"#E4EBF7",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M87.397 94.68s3.124 2.572 10.263 2.572c7.14 0 9.074-3.437 9.074-3.437",stroke:"#E4EBF7",strokeWidth:".932",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M117.184 68.639l-6.781-6.177s-5.355-4.314-9.223-.893c-3.867 3.422 4.463 2.083 5.653 4.165 1.19 2.082.848 1.143-2.083.446-5.603-1.331-2.082.893 2.975 5.355 2.091 1.845 6.992.955 6.992.955l2.467-3.851z",fill:"#FFC6A0"}),s.createElement("path",{d:"M105.282 91.315l-.297-10.937-15.918-.027-.53 10.45c-.026.403.17.788.515.999 2.049 1.251 9.387 5.093 15.799.424.287-.21.443-.554.431-.91",fill:"#FFB594"}),s.createElement("path",{d:"M107.573 74.24c.817-1.147.982-9.118 1.015-11.928a1.046 1.046 0 0 0-.965-1.055l-4.62-.365c-7.71-1.044-17.071.624-18.253 6.346-5.482 5.813-.421 13.244-.421 13.244s1.963 3.566 4.305 6.791c.756 1.041.398-3.731 3.04-5.929 5.524-4.594 15.899-7.103 15.899-7.103",fill:"#5C2552"}),s.createElement("path",{d:"M88.426 83.206s2.685 6.202 11.602 6.522c7.82.28 8.973-7.008 7.434-17.505l-.909-5.483c-6.118-2.897-15.478.54-15.478.54s-.576 2.044-.19 5.504c-2.276 2.066-1.824 5.618-1.824 5.618s-.905-1.922-1.98-2.321c-.86-.32-1.897.089-2.322 1.98-1.04 4.632 3.667 5.145 3.667 5.145",fill:"#FFC6A0"}),s.createElement("path",{stroke:"#DB836E",strokeWidth:"1.145",strokeLinecap:"round",strokeLinejoin:"round",d:"M100.843 77.099l1.701-.928-1.015-4.324.674-1.406"}),s.createElement("path",{d:"M105.546 74.092c-.022.713-.452 1.279-.96 1.263-.51-.016-.904-.607-.882-1.32.021-.713.452-1.278.96-1.263.51.016.904.607.882 1.32M97.592 74.349c-.022.713-.452 1.278-.961 1.263-.509-.016-.904-.607-.882-1.32.022-.713.452-1.279.961-1.263.51.016.904.606.882 1.32",fill:"#552950"}),s.createElement("path",{d:"M91.132 86.786s5.269 4.957 12.679 2.327",stroke:"#DB836E",strokeWidth:"1.145",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M99.776 81.903s-3.592.232-1.44-2.79c1.59-1.496 4.897-.46 4.897-.46s1.156 3.906-3.457 3.25",fill:"#DB836E"}),s.createElement("path",{d:"M102.88 70.6s2.483.84 3.402.715M93.883 71.975s2.492-1.144 4.778-1.073",stroke:"#5C2552",strokeWidth:"1.526",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M86.32 77.374s.961.879 1.458 2.106c-.377.48-1.033 1.152-.236 1.809M99.337 83.719s1.911.151 2.509-.254",stroke:"#DB836E",strokeWidth:"1.145",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M87.782 115.821l15.73-3.012M100.165 115.821l10.04-2.008",stroke:"#E4EBF7",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M66.508 86.763s-1.598 8.83-6.697 14.078",stroke:"#E4EBF7",strokeWidth:"1.114",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M128.31 87.934s3.013 4.121 4.06 11.785",stroke:"#E4EBF7",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M64.09 84.816s-6.03 9.912-13.607 9.903",stroke:"#DB836E",strokeWidth:".795",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M112.366 65.909l-.142 5.32s5.993 4.472 11.945 9.202c4.482 3.562 8.888 7.455 10.985 8.662 4.804 2.766 8.9 3.355 11.076 1.808 4.071-2.894 4.373-9.878-8.136-15.263-4.271-1.838-16.144-6.36-25.728-9.73",fill:"#FFC6A0"}),s.createElement("path",{d:"M130.532 85.488s4.588 5.757 11.619 6.214",stroke:"#DB836E",strokeWidth:".75",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M121.708 105.73s-.393 8.564-1.34 13.612",stroke:"#E4EBF7",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M115.784 161.512s-3.57-1.488-2.678-7.14",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M101.52 290.246s4.326 2.057 7.408 1.03c2.842-.948 4.564.673 7.132 1.186 2.57.514 6.925 1.108 11.772-1.269-.104-5.551-6.939-4.01-12.048-6.763-2.582-1.39-3.812-4.757-3.625-8.863h-9.471s-1.402 10.596-1.169 14.68",fill:"#CBD1D1"}),s.createElement("path",{d:"M101.496 290.073s2.447 1.281 6.809.658c3.081-.44 3.74.485 7.479 1.039 3.739.554 10.802-.07 11.91-.9.415 1.108-.347 2.077-.347 2.077s-1.523.608-4.847.831c-2.045.137-5.843.293-7.663-.507-1.8-1.385-5.286-1.917-5.77-.243-3.947.958-7.41-.288-7.41-.288l-.16-2.667z",fill:"#2B0849"}),s.createElement("path",{d:"M108.824 276.19h3.116s-.103 6.751 4.57 8.62c-4.673.624-8.62-2.32-7.686-8.62",fill:"#A4AABA"}),s.createElement("path",{d:"M57.65 272.52s-2.122 7.47-4.518 12.396c-1.811 3.724-4.255 7.548 5.505 7.548 6.698 0 9.02-.483 7.479-6.648-1.541-6.164.268-13.296.268-13.296H57.65z",fill:"#CBD1D1"}),s.createElement("path",{d:"M51.54 290.04s2.111 1.178 6.682 1.178c6.128 0 8.31-1.662 8.31-1.662s.605 1.122-.624 2.18c-1 .862-3.624 1.603-7.444 1.559-4.177-.049-5.876-.57-6.786-1.177-.831-.554-.692-1.593-.138-2.078",fill:"#2B0849"}),s.createElement("path",{d:"M58.533 274.438s.034 1.529-.315 2.95c-.352 1.431-1.087 3.127-1.139 4.17-.058 1.16 4.57 1.592 5.194.035.623-1.559 1.303-6.475 1.927-7.306.622-.831-4.94-2.135-5.667.15",fill:"#A4AABA"}),s.createElement("path",{d:"M100.885 277.015l13.306.092s1.291-54.228 1.843-64.056c.552-9.828 3.756-43.13.997-62.788l-12.48-.64-22.725.776s-.433 3.944-1.19 9.921c-.062.493-.677.838-.744 1.358-.075.582.42 1.347.318 1.956-2.35 14.003-6.343 32.926-8.697 46.425-.116.663-1.227 1.004-1.45 2.677-.04.3.21 1.516.112 1.785-6.836 18.643-10.89 47.584-14.2 61.551l14.528-.014s2.185-8.524 4.008-16.878c2.796-12.817 22.987-84.553 22.987-84.553l3-.517 1.037 46.1s-.223 1.228.334 2.008c.558.782-.556 1.117-.39 2.233l.39 1.784s-.446 7.14-.892 11.826c-.446 4.685-.092 38.954-.092 38.954",fill:"#7BB2F9"}),s.createElement("path",{d:"M77.438 220.434c1.146.094 4.016-2.008 6.916-4.91M107.55 223.931s2.758-1.103 6.069-3.862",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M108.459 220.905s2.759-1.104 6.07-3.863",stroke:"#648BD8",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M76.099 223.557s2.608-.587 6.47-3.346M87.33 150.82c-.27 3.088.297 8.478-4.315 9.073M104.829 149.075s.11 13.936-1.286 14.983c-2.207 1.655-2.975 1.934-2.975 1.934M101.014 149.63s.035 12.81-1.19 24.245M94.93 174.965s7.174-1.655 9.38-1.655M75.671 204.754c-.316 1.55-.64 3.067-.973 4.535 0 0-1.45 1.822-1.003 3.756.446 1.934-.943 2.034-4.96 15.273-1.686 5.559-4.464 18.49-6.313 27.447-.078.38-4.018 18.06-4.093 18.423M77.043 196.743a313.269 313.269 0 0 1-.877 4.729M83.908 151.414l-1.19 10.413s-1.091.148-.496 2.23c.111 1.34-2.66 15.692-5.153 30.267M57.58 272.94h13.238",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M117.377 147.423s-16.955-3.087-35.7.199c.157 2.501-.002 4.128-.002 4.128s14.607-2.802 35.476-.31c.251-2.342.226-4.017.226-4.017",fill:"#192064"}),s.createElement("path",{d:"M107.511 150.353l.004-4.885a.807.807 0 0 0-.774-.81c-2.428-.092-5.04-.108-7.795-.014a.814.814 0 0 0-.784.81l-.003 4.88c0 .456.371.82.827.808a140.76 140.76 0 0 1 7.688.017.81.81 0 0 0 .837-.806",fill:"#FFF"}),s.createElement("path",{d:"M106.402 149.426l.002-3.06a.64.64 0 0 0-.616-.643 94.135 94.135 0 0 0-5.834-.009.647.647 0 0 0-.626.643l-.001 3.056c0 .36.291.648.651.64 1.78-.04 3.708-.041 5.762.012.36.009.662-.279.662-.64",fill:"#192064"}),s.createElement("path",{d:"M101.485 273.933h12.272M102.652 269.075c.006 3.368.04 5.759.11 6.47M102.667 263.125c-.009 1.53-.015 2.98-.016 4.313M102.204 174.024l.893 44.402s.669 1.561-.224 2.677c-.892 1.116 2.455.67.893 2.231-1.562 1.562.893 1.116 0 3.347-.592 1.48-.988 20.987-1.09 34.956",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"})));const bB={success:Nn.Z,error:fi.Z,info:Qr.Z,warning:uB},rb={404:dB,500:fB,403:_B},xB=Object.keys(rb),CB=e=>{let{prefixCls:t,icon:o,status:i}=e;const u=oe()(`${t}-icon`);if(xB.includes(`${i}`)){const _=rb[i];return s.createElement("div",{className:`${u} ${t}-image`},s.createElement(_,null))}const g=s.createElement(bB[i]);return o===null||o===!1?null:s.createElement("div",{className:u},o||g)},wB=e=>{let{prefixCls:t,extra:o}=e;return o?s.createElement("div",{className:`${t}-extra`},o):null},sC=e=>{let{prefixCls:t,className:o,rootClassName:i,subTitle:u,title:g,style:_,children:x,status:S="info",icon:T,extra:M}=e;const{getPrefixCls:R,direction:N,result:F}=s.useContext(De.E_),B=R("result",t),[V,j,H]=yB(B),U=oe()(B,`${B}-${S}`,o,F==null?void 0:F.className,i,{[`${B}-rtl`]:N==="rtl"},j,H),K=Object.assign(Object.assign({},F==null?void 0:F.style),_);return V(s.createElement("div",{className:U,style:K},s.createElement(CB,{prefixCls:B,status:S,icon:T}),s.createElement("div",{className:`${B}-title`},g),u&&s.createElement("div",{className:`${B}-subtitle`},u),s.createElement(wB,{prefixCls:B,extra:M}),x&&s.createElement("div",{className:`${B}-content`},x)))};sC.PRESENTED_IMAGE_403=rb[403],sC.PRESENTED_IMAGE_404=rb[404],sC.PRESENTED_IMAGE_500=rb[500];var SB=sC,EB=jT.Z,YS=he(85990),IB=e=>{const{value:t,formatter:o,precision:i,decimalSeparator:u,groupSeparator:g="",prefixCls:_}=e;let x;if(typeof o=="function")x=o(t);else{const S=String(t),T=S.match(/^(-?)(\d*)(\.(\d+))?$/);if(!T||S==="-")x=S;else{const M=T[1];let R=T[2]||"0",N=T[4]||"";R=R.replace(/\B(?=(\d{3})+(?!\d))/g,g),typeof i=="number"&&(N=N.padEnd(i,"0").slice(0,i>0?i:0)),N&&(N=`${u}${N}`),x=[s.createElement("span",{key:"int",className:`${_}-content-value-int`},M,R),N&&s.createElement("span",{key:"decimal",className:`${_}-content-value-decimal`},N)]}}return s.createElement("span",{className:`${_}-content-value`},x)};const TB=e=>{const{componentCls:t,marginXXS:o,padding:i,colorTextDescription:u,titleFontSize:g,colorTextHeading:_,contentFontSize:x,fontFamily:S}=e;return{[t]:Object.assign(Object.assign({},(0,mn.Wf)(e)),{[`${t}-title`]:{marginBottom:o,color:u,fontSize:g},[`${t}-skeleton`]:{paddingTop:i},[`${t}-content`]:{color:_,fontSize:x,fontFamily:S,[`${t}-content-value`]:{display:"inline-block",direction:"ltr"},[`${t}-content-prefix, ${t}-content-suffix`]:{display:"inline-block"},[`${t}-content-prefix`]:{marginInlineEnd:o},[`${t}-content-suffix`]:{marginInlineStart:o}}})}},MB=e=>{const{fontSizeHeading3:t,fontSize:o}=e;return{titleFontSize:o,contentFontSize:t}};var PB=(0,Ae.I$)("Statistic",e=>{const t=(0,vn.IX)(e,{});return[TB(t)]},MB),OB=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o},JS=e=>{const{prefixCls:t,className:o,rootClassName:i,style:u,valueStyle:g,value:_=0,title:x,valueRender:S,prefix:T,suffix:M,loading:R=!1,formatter:N,precision:F,decimalSeparator:B=".",groupSeparator:V=",",onMouseEnter:j,onMouseLeave:H}=e,U=OB(e,["prefixCls","className","rootClassName","style","valueStyle","value","title","valueRender","prefix","suffix","loading","formatter","precision","decimalSeparator","groupSeparator","onMouseEnter","onMouseLeave"]),{getPrefixCls:K,direction:Y,className:q,style:Q}=(0,De.dj)("statistic"),re=K("statistic",t),[ae,se,de]=PB(re),pe=s.createElement(IB,{decimalSeparator:B,groupSeparator:V,prefixCls:re,formatter:N,precision:F,value:_}),ge=oe()(re,{[`${re}-rtl`]:Y==="rtl"},q,o,i,se,de),me=(0,ir.Z)(U,{aria:!0,data:!0});return ae(s.createElement("div",Object.assign({},me,{className:ge,style:Object.assign(Object.assign({},Q),u),onMouseEnter:j,onMouseLeave:H}),x&&s.createElement("div",{className:`${re}-title`},x),s.createElement(xd,{paragraph:!1,loading:R,className:`${re}-skeleton`},s.createElement("div",{style:g,className:`${re}-content`},T&&s.createElement("span",{className:`${re}-content-prefix`},T),S?S(pe):pe,M&&s.createElement("span",{className:`${re}-content-suffix`},M)))))};const $B=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]];function RB(e,t){let o=e;const i=/\[[^\]]*]/g,u=(t.match(i)||[]).map(S=>S.slice(1,-1)),g=t.replace(i,"[]"),_=$B.reduce((S,T)=>{let[M,R]=T;if(S.includes(M)){const N=Math.floor(o/R);return o-=N*R,S.replace(new RegExp(`${M}+`,"g"),F=>{const B=F.length;return N.toString().padStart(B,"0")})}return S},g);let x=0;return _.replace(i,()=>{const S=u[x];return x+=1,S})}function AB(e,t){const{format:o=""}=t,i=new Date(e).getTime(),u=Date.now(),g=Math.max(i-u,0);return RB(g,o)}var DB=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};const zB=1e3/30;function LB(e){return new Date(e).getTime()}const NB=e=>{const{value:t,format:o="HH:mm:ss",onChange:i,onFinish:u}=e,g=DB(e,["value","format","onChange","onFinish"]),_=(0,YS.Z)(),x=s.useRef(null),S=()=>{u==null||u(),x.current&&(clearInterval(x.current),x.current=null)},T=()=>{const N=LB(t);N>=Date.now()&&(x.current=setInterval(()=>{_(),i==null||i(N-Date.now()),N<Date.now()&&S()},zB))};s.useEffect(()=>(T(),()=>{x.current&&(clearInterval(x.current),x.current=null)}),[t]);const M=(N,F)=>AB(N,Object.assign(Object.assign({},F),{format:o})),R=N=>(0,wr.Tm)(N,{title:void 0});return s.createElement(JS,Object.assign({},g,{value:t,valueRender:R,formatter:M}))};var BB=s.memo(NB);JS.Countdown=BB;var FB=JS,kB=["className","prefixCls","style","active","status","iconPrefix","icon","wrapperStyle","stepNumber","disabled","description","title","subTitle","progressDot","stepIcon","tailContent","icons","stepIndex","onStepClick","onClick","render"];function BM(e){return typeof e=="string"}function jB(e){var t,o=e.className,i=e.prefixCls,u=e.style,g=e.active,_=e.status,x=e.iconPrefix,S=e.icon,T=e.wrapperStyle,M=e.stepNumber,R=e.disabled,N=e.description,F=e.title,B=e.subTitle,V=e.progressDot,j=e.stepIcon,H=e.tailContent,U=e.icons,K=e.stepIndex,Y=e.onStepClick,q=e.onClick,Q=e.render,re=(0,Ve.Z)(e,kB),ae=!!Y&&!R,se={};ae&&(se.role="button",se.tabIndex=0,se.onClick=function(_e){q==null||q(_e),Y(K)},se.onKeyDown=function(_e){var Ie=_e.which;(Ie===nt.Z.ENTER||Ie===nt.Z.SPACE)&&Y(K)});var de=function(){var Ie,Ce,Le=oe()("".concat(i,"-icon"),"".concat(x,"icon"),(Ie={},(0,Ee.Z)(Ie,"".concat(x,"icon-").concat(S),S&&BM(S)),(0,Ee.Z)(Ie,"".concat(x,"icon-check"),!S&&_==="finish"&&(U&&!U.finish||!U)),(0,Ee.Z)(Ie,"".concat(x,"icon-cross"),!S&&_==="error"&&(U&&!U.error||!U)),Ie)),ze=s.createElement("span",{className:"".concat(i,"-icon-dot")});return V?typeof V=="function"?Ce=s.createElement("span",{className:"".concat(i,"-icon")},V(ze,{index:M-1,status:_,title:F,description:N})):Ce=s.createElement("span",{className:"".concat(i,"-icon")},ze):S&&!BM(S)?Ce=s.createElement("span",{className:"".concat(i,"-icon")},S):U&&U.finish&&_==="finish"?Ce=s.createElement("span",{className:"".concat(i,"-icon")},U.finish):U&&U.error&&_==="error"?Ce=s.createElement("span",{className:"".concat(i,"-icon")},U.error):S||_==="finish"||_==="error"?Ce=s.createElement("span",{className:Le}):Ce=s.createElement("span",{className:"".concat(i,"-icon")},M),j&&(Ce=j({index:M-1,status:_,title:F,description:N,node:Ce})),Ce},pe=_||"wait",ge=oe()("".concat(i,"-item"),"".concat(i,"-item-").concat(pe),o,(t={},(0,Ee.Z)(t,"".concat(i,"-item-custom"),S),(0,Ee.Z)(t,"".concat(i,"-item-active"),g),(0,Ee.Z)(t,"".concat(i,"-item-disabled"),R===!0),t)),me=(0,fe.Z)({},u),be=s.createElement("div",(0,Pt.Z)({},re,{className:ge,style:me}),s.createElement("div",(0,Pt.Z)({onClick:q},se,{className:"".concat(i,"-item-container")}),s.createElement("div",{className:"".concat(i,"-item-tail")},H),s.createElement("div",{className:"".concat(i,"-item-icon")},de()),s.createElement("div",{className:"".concat(i,"-item-content")},s.createElement("div",{className:"".concat(i,"-item-title")},F,B&&s.createElement("div",{title:typeof B=="string"?B:void 0,className:"".concat(i,"-item-subtitle")},B)),N&&s.createElement("div",{className:"".concat(i,"-item-description")},N))));return Q&&(be=Q(be)||null),be}var FM=jB,ZB=["prefixCls","style","className","children","direction","type","labelPlacement","iconPrefix","status","size","current","progressDot","stepIcon","initial","icons","onChange","itemRender","items"];function kM(e){var t,o=e.prefixCls,i=o===void 0?"rc-steps":o,u=e.style,g=u===void 0?{}:u,_=e.className,x=e.children,S=e.direction,T=S===void 0?"horizontal":S,M=e.type,R=M===void 0?"default":M,N=e.labelPlacement,F=N===void 0?"horizontal":N,B=e.iconPrefix,V=B===void 0?"rc":B,j=e.status,H=j===void 0?"process":j,U=e.size,K=e.current,Y=K===void 0?0:K,q=e.progressDot,Q=q===void 0?!1:q,re=e.stepIcon,ae=e.initial,se=ae===void 0?0:ae,de=e.icons,pe=e.onChange,ge=e.itemRender,me=e.items,be=me===void 0?[]:me,_e=(0,Ve.Z)(e,ZB),Ie=R==="navigation",Ce=R==="inline",Le=Ce||Q,ze=Ce?"horizontal":T,ke=Ce?void 0:U,Ze=Le?"vertical":F,je=oe()(i,"".concat(i,"-").concat(ze),_,(t={},(0,Ee.Z)(t,"".concat(i,"-").concat(ke),ke),(0,Ee.Z)(t,"".concat(i,"-label-").concat(Ze),ze==="horizontal"),(0,Ee.Z)(t,"".concat(i,"-dot"),!!Le),(0,Ee.Z)(t,"".concat(i,"-navigation"),Ie),(0,Ee.Z)(t,"".concat(i,"-inline"),Ce),t)),Ue=function(We){pe&&Y!==We&&pe(We)},He=function(We,it){var Je=(0,fe.Z)({},We),wt=se+it;return H==="error"&&it===Y-1&&(Je.className="".concat(i,"-next-error")),Je.status||(wt===Y?Je.status=H:wt<Y?Je.status="finish":Je.status="wait"),Ce&&(Je.icon=void 0,Je.subTitle=void 0),!Je.render&&ge&&(Je.render=function(Dt){return ge(Je,Dt)}),s.createElement(FM,(0,Pt.Z)({},Je,{active:wt===Y,stepNumber:wt+1,stepIndex:wt,key:wt,prefixCls:i,iconPrefix:V,wrapperStyle:g,progressDot:Le,stepIcon:re,icons:de,onStepClick:pe&&Ue}))};return s.createElement("div",(0,Pt.Z)({className:je,style:g},_e),be.filter(function(Qe){return Qe}).map(He))}kM.Step=FM;var VB=kM,jM=VB,HB=e=>{const{componentCls:t,customIconTop:o,customIconSize:i,customIconFontSize:u}=e;return{[`${t}-item-custom`]:{[`> ${t}-item-container > ${t}-item-icon`]:{height:"auto",background:"none",border:0,[`> ${t}-icon`]:{top:o,width:i,height:i,fontSize:u,lineHeight:(0,J.bf)(i)}}},[`&:not(${t}-vertical)`]:{[`${t}-item-custom`]:{[`${t}-item-icon`]:{width:"auto",background:"none"}}}}},UB=e=>{const{componentCls:t}=e,o=`${t}-item`;return{[`${t}-horizontal`]:{[`${o}-tail`]:{transform:"translateY(-50%)"}}}},WB=e=>{const{componentCls:t,inlineDotSize:o,inlineTitleColor:i,inlineTailColor:u}=e,g=e.calc(e.paddingXS).add(e.lineWidth).equal(),_={[`${t}-item-container ${t}-item-content ${t}-item-title`]:{color:i}};return{[`&${t}-inline`]:{width:"auto",display:"inline-flex",[`${t}-item`]:{flex:"none","&-container":{padding:`${(0,J.bf)(g)} ${(0,J.bf)(e.paddingXXS)} 0`,margin:`0 ${(0,J.bf)(e.calc(e.marginXXS).div(2).equal())}`,borderRadius:e.borderRadiusSM,cursor:"pointer",transition:`background-color ${e.motionDurationMid}`,"&:hover":{background:e.controlItemBgHover},"&[role='button']:hover":{opacity:1}},"&-icon":{width:o,height:o,marginInlineStart:`calc(50% - ${(0,J.bf)(e.calc(o).div(2).equal())})`,[`> ${t}-icon`]:{top:0},[`${t}-icon-dot`]:{borderRadius:e.calc(e.fontSizeSM).div(4).equal(),"&::after":{display:"none"}}},"&-content":{width:"auto",marginTop:e.calc(e.marginXS).sub(e.lineWidth).equal()},"&-title":{color:i,fontSize:e.fontSizeSM,lineHeight:e.lineHeightSM,fontWeight:"normal",marginBottom:e.calc(e.marginXXS).div(2).equal()},"&-description":{display:"none"},"&-tail":{marginInlineStart:0,top:e.calc(o).div(2).add(g).equal(),transform:"translateY(-50%)","&:after":{width:"100%",height:e.lineWidth,borderRadius:0,marginInlineStart:0,background:u}},[`&:first-child ${t}-item-tail`]:{width:"50%",marginInlineStart:"50%"},[`&:last-child ${t}-item-tail`]:{display:"block",width:"50%"},"&-wait":Object.assign({[`${t}-item-icon ${t}-icon ${t}-icon-dot`]:{backgroundColor:e.colorBorderBg,border:`${(0,J.bf)(e.lineWidth)} ${e.lineType} ${u}`}},_),"&-finish":Object.assign({[`${t}-item-tail::after`]:{backgroundColor:u},[`${t}-item-icon ${t}-icon ${t}-icon-dot`]:{backgroundColor:u,border:`${(0,J.bf)(e.lineWidth)} ${e.lineType} ${u}`}},_),"&-error":_,"&-active, &-process":Object.assign({[`${t}-item-icon`]:{width:o,height:o,marginInlineStart:`calc(50% - ${(0,J.bf)(e.calc(o).div(2).equal())})`,top:0}},_),[`&:not(${t}-item-active) > ${t}-item-container[role='button']:hover`]:{[`${t}-item-title`]:{color:i}}}}}},GB=e=>{const{componentCls:t,iconSize:o,lineHeight:i,iconSizeSM:u}=e;return{[`&${t}-label-vertical`]:{[`${t}-item`]:{overflow:"visible","&-tail":{marginInlineStart:e.calc(o).div(2).add(e.controlHeightLG).equal(),padding:`0 ${(0,J.bf)(e.paddingLG)}`},"&-content":{display:"block",width:e.calc(o).div(2).add(e.controlHeightLG).mul(2).equal(),marginTop:e.marginSM,textAlign:"center"},"&-icon":{display:"inline-block",marginInlineStart:e.controlHeightLG},"&-title":{paddingInlineEnd:0,paddingInlineStart:0,"&::after":{display:"none"}},"&-subtitle":{display:"block",marginBottom:e.marginXXS,marginInlineStart:0,lineHeight:i}},[`&${t}-small:not(${t}-dot)`]:{[`${t}-item`]:{"&-icon":{marginInlineStart:e.calc(o).sub(u).div(2).add(e.controlHeightLG).equal()}}}}}},XB=e=>{const{componentCls:t,navContentMaxWidth:o,navArrowColor:i,stepsNavActiveColor:u,motionDurationSlow:g}=e;return{[`&${t}-navigation`]:{paddingTop:e.paddingSM,[`&${t}-small`]:{[`${t}-item`]:{"&-container":{marginInlineStart:e.calc(e.marginSM).mul(-1).equal()}}},[`${t}-item`]:{overflow:"visible",textAlign:"center","&-container":{display:"inline-block",height:"100%",marginInlineStart:e.calc(e.margin).mul(-1).equal(),paddingBottom:e.paddingSM,textAlign:"start",transition:`opacity ${g}`,[`${t}-item-content`]:{maxWidth:o},[`${t}-item-title`]:Object.assign(Object.assign({maxWidth:"100%",paddingInlineEnd:0},mn.vS),{"&::after":{display:"none"}})},[`&:not(${t}-item-active)`]:{[`${t}-item-container[role='button']`]:{cursor:"pointer","&:hover":{opacity:.85}}},"&:last-child":{flex:1,"&::after":{display:"none"}},"&::after":{position:"absolute",top:`calc(50% - ${(0,J.bf)(e.calc(e.paddingSM).div(2).equal())})`,insetInlineStart:"100%",display:"inline-block",width:e.fontSizeIcon,height:e.fontSizeIcon,borderTop:`${(0,J.bf)(e.lineWidth)} ${e.lineType} ${i}`,borderBottom:"none",borderInlineStart:"none",borderInlineEnd:`${(0,J.bf)(e.lineWidth)} ${e.lineType} ${i}`,transform:"translateY(-50%) translateX(-50%) rotate(45deg)",content:'""'},"&::before":{position:"absolute",bottom:0,insetInlineStart:"50%",display:"inline-block",width:0,height:e.lineWidthBold,backgroundColor:u,transition:`width ${g}, inset-inline-start ${g}`,transitionTimingFunction:"ease-out",content:'""'}},[`${t}-item${t}-item-active::before`]:{insetInlineStart:0,width:"100%"}},[`&${t}-navigation${t}-vertical`]:{[`> ${t}-item`]:{marginInlineEnd:0,"&::before":{display:"none"},[`&${t}-item-active::before`]:{top:0,insetInlineEnd:0,insetInlineStart:"unset",display:"block",width:e.calc(e.lineWidth).mul(3).equal(),height:`calc(100% - ${(0,J.bf)(e.marginLG)})`},"&::after":{position:"relative",insetInlineStart:"50%",display:"block",width:e.calc(e.controlHeight).mul(.25).equal(),height:e.calc(e.controlHeight).mul(.25).equal(),marginBottom:e.marginXS,textAlign:"center",transform:"translateY(-50%) translateX(-50%) rotate(135deg)"},"&:last-child":{"&::after":{display:"none"}},[`> ${t}-item-container > ${t}-item-tail`]:{visibility:"hidden"}}},[`&${t}-navigation${t}-horizontal`]:{[`> ${t}-item > ${t}-item-container > ${t}-item-tail`]:{visibility:"hidden"}}}},qB=e=>{const{antCls:t,componentCls:o,iconSize:i,iconSizeSM:u,processIconColor:g,marginXXS:_,lineWidthBold:x,lineWidth:S,paddingXXS:T}=e,M=e.calc(i).add(e.calc(x).mul(4).equal()).equal(),R=e.calc(u).add(e.calc(e.lineWidth).mul(4).equal()).equal();return{[`&${o}-with-progress`]:{[`${o}-item`]:{paddingTop:T,[`&-process ${o}-item-container ${o}-item-icon ${o}-icon`]:{color:g}},[`&${o}-vertical > ${o}-item `]:{paddingInlineStart:T,[`> ${o}-item-container > ${o}-item-tail`]:{top:_,insetInlineStart:e.calc(i).div(2).sub(S).add(T).equal()}},[`&, &${o}-small`]:{[`&${o}-horizontal ${o}-item:first-child`]:{paddingBottom:T,paddingInlineStart:T}},[`&${o}-small${o}-vertical > ${o}-item > ${o}-item-container > ${o}-item-tail`]:{insetInlineStart:e.calc(u).div(2).sub(S).add(T).equal()},[`&${o}-label-vertical ${o}-item ${o}-item-tail`]:{top:e.calc(i).div(2).add(T).equal()},[`${o}-item-icon`]:{position:"relative",[`${t}-progress`]:{position:"absolute",insetInlineStart:"50%",top:"50%",transform:"translate(-50%, -50%)","&-inner":{width:`${(0,J.bf)(M)} !important`,height:`${(0,J.bf)(M)} !important`}}},[`&${o}-small`]:{[`&${o}-label-vertical ${o}-item ${o}-item-tail`]:{top:e.calc(u).div(2).add(T).equal()},[`${o}-item-icon ${t}-progress-inner`]:{width:`${(0,J.bf)(R)} !important`,height:`${(0,J.bf)(R)} !important`}}}}},KB=e=>{const{componentCls:t,descriptionMaxWidth:o,lineHeight:i,dotCurrentSize:u,dotSize:g,motionDurationSlow:_}=e;return{[`&${t}-dot, &${t}-dot${t}-small`]:{[`${t}-item`]:{"&-title":{lineHeight:i},"&-tail":{top:e.calc(e.dotSize).sub(e.calc(e.lineWidth).mul(3).equal()).div(2).equal(),width:"100%",marginTop:0,marginBottom:0,marginInline:`${(0,J.bf)(e.calc(o).div(2).equal())} 0`,padding:0,"&::after":{width:`calc(100% - ${(0,J.bf)(e.calc(e.marginSM).mul(2).equal())})`,height:e.calc(e.lineWidth).mul(3).equal(),marginInlineStart:e.marginSM}},"&-icon":{width:g,height:g,marginInlineStart:e.calc(e.descriptionMaxWidth).sub(g).div(2).equal(),paddingInlineEnd:0,lineHeight:(0,J.bf)(g),background:"transparent",border:0,[`${t}-icon-dot`]:{position:"relative",float:"left",width:"100%",height:"100%",borderRadius:100,transition:`all ${_}`,"&::after":{position:"absolute",top:e.calc(e.marginSM).mul(-1).equal(),insetInlineStart:e.calc(g).sub(e.calc(e.controlHeightLG).mul(1.5).equal()).div(2).equal(),width:e.calc(e.controlHeightLG).mul(1.5).equal(),height:e.controlHeight,background:"transparent",content:'""'}}},"&-content":{width:o},[`&-process ${t}-item-icon`]:{position:"relative",top:e.calc(g).sub(u).div(2).equal(),width:u,height:u,lineHeight:(0,J.bf)(u),background:"none",marginInlineStart:e.calc(e.descriptionMaxWidth).sub(u).div(2).equal()},[`&-process ${t}-icon`]:{[`&:first-child ${t}-icon-dot`]:{insetInlineStart:0}}}},[`&${t}-vertical${t}-dot`]:{[`${t}-item-icon`]:{marginTop:e.calc(e.controlHeight).sub(g).div(2).equal(),marginInlineStart:0,background:"none"},[`${t}-item-process ${t}-item-icon`]:{marginTop:e.calc(e.controlHeight).sub(u).div(2).equal(),top:0,insetInlineStart:e.calc(g).sub(u).div(2).equal(),marginInlineStart:0},[`${t}-item > ${t}-item-container > ${t}-item-tail`]:{top:e.calc(e.controlHeight).sub(g).div(2).equal(),insetInlineStart:0,margin:0,padding:`${(0,J.bf)(e.calc(g).add(e.paddingXS).equal())} 0 ${(0,J.bf)(e.paddingXS)}`,"&::after":{marginInlineStart:e.calc(g).sub(e.lineWidth).div(2).equal()}},[`&${t}-small`]:{[`${t}-item-icon`]:{marginTop:e.calc(e.controlHeightSM).sub(g).div(2).equal()},[`${t}-item-process ${t}-item-icon`]:{marginTop:e.calc(e.controlHeightSM).sub(u).div(2).equal()},[`${t}-item > ${t}-item-container > ${t}-item-tail`]:{top:e.calc(e.controlHeightSM).sub(g).div(2).equal()}},[`${t}-item:first-child ${t}-icon-dot`]:{insetInlineStart:0},[`${t}-item-content`]:{width:"inherit"}}}},YB=e=>{const{componentCls:t}=e;return{[`&${t}-rtl`]:{direction:"rtl",[`${t}-item`]:{"&-subtitle":{float:"left"}},[`&${t}-navigation`]:{[`${t}-item::after`]:{transform:"rotate(-45deg)"}},[`&${t}-vertical`]:{[`> ${t}-item`]:{"&::after":{transform:"rotate(225deg)"},[`${t}-item-icon`]:{float:"right"}}},[`&${t}-dot`]:{[`${t}-item-icon ${t}-icon-dot, &${t}-small ${t}-item-icon ${t}-icon-dot`]:{float:"right"}}}}},JB=e=>{const{componentCls:t,iconSizeSM:o,fontSizeSM:i,fontSize:u,colorTextDescription:g}=e;return{[`&${t}-small`]:{[`&${t}-horizontal:not(${t}-label-vertical) ${t}-item`]:{paddingInlineStart:e.paddingSM,"&:first-child":{paddingInlineStart:0}},[`${t}-item-icon`]:{width:o,height:o,marginTop:0,marginBottom:0,marginInline:`0 ${(0,J.bf)(e.marginXS)}`,fontSize:i,lineHeight:(0,J.bf)(o),textAlign:"center",borderRadius:o},[`${t}-item-title`]:{paddingInlineEnd:e.paddingSM,fontSize:u,lineHeight:(0,J.bf)(o),"&::after":{top:e.calc(o).div(2).equal()}},[`${t}-item-description`]:{color:g,fontSize:u},[`${t}-item-tail`]:{top:e.calc(o).div(2).sub(e.paddingXXS).equal()},[`${t}-item-custom ${t}-item-icon`]:{width:"inherit",height:"inherit",lineHeight:"inherit",background:"none",border:0,borderRadius:0,[`> ${t}-icon`]:{fontSize:o,lineHeight:(0,J.bf)(o),transform:"none"}}}}},QB=e=>{const{componentCls:t,iconSizeSM:o,iconSize:i}=e;return{[`&${t}-vertical`]:{display:"flex",flexDirection:"column",[`> ${t}-item`]:{display:"block",flex:"1 0 auto",paddingInlineStart:0,overflow:"visible",[`${t}-item-icon`]:{float:"left",marginInlineEnd:e.margin},[`${t}-item-content`]:{display:"block",minHeight:e.calc(e.controlHeight).mul(1.5).equal(),overflow:"hidden"},[`${t}-item-title`]:{lineHeight:(0,J.bf)(i)},[`${t}-item-description`]:{paddingBottom:e.paddingSM}},[`> ${t}-item > ${t}-item-container > ${t}-item-tail`]:{position:"absolute",top:0,insetInlineStart:e.calc(i).div(2).sub(e.lineWidth).equal(),width:e.lineWidth,height:"100%",padding:`${(0,J.bf)(e.calc(e.marginXXS).mul(1.5).add(i).equal())} 0 ${(0,J.bf)(e.calc(e.marginXXS).mul(1.5).equal())}`,"&::after":{width:e.lineWidth,height:"100%"}},[`> ${t}-item:not(:last-child) > ${t}-item-container > ${t}-item-tail`]:{display:"block"},[` > ${t}-item > ${t}-item-container > ${t}-item-content > ${t}-item-title`]:{"&::after":{display:"none"}},[`&${t}-small ${t}-item-container`]:{[`${t}-item-tail`]:{position:"absolute",top:0,insetInlineStart:e.calc(o).div(2).sub(e.lineWidth).equal(),padding:`${(0,J.bf)(e.calc(e.marginXXS).mul(1.5).add(o).equal())} 0 ${(0,J.bf)(e.calc(e.marginXXS).mul(1.5).equal())}`},[`${t}-item-title`]:{lineHeight:(0,J.bf)(o)}}}}};const eF="wait",tF="process",nF="finish",rF="error",lC=(e,t)=>{const o=`${t.componentCls}-item`,i=`${e}IconColor`,u=`${e}TitleColor`,g=`${e}DescriptionColor`,_=`${e}TailColor`,x=`${e}IconBgColor`,S=`${e}IconBorderColor`,T=`${e}DotColor`;return{[`${o}-${e} ${o}-icon`]:{backgroundColor:t[x],borderColor:t[S],[`> ${t.componentCls}-icon`]:{color:t[i],[`${t.componentCls}-icon-dot`]:{background:t[T]}}},[`${o}-${e}${o}-custom ${o}-icon`]:{[`> ${t.componentCls}-icon`]:{color:t[T]}},[`${o}-${e} > ${o}-container > ${o}-content > ${o}-title`]:{color:t[u],"&::after":{backgroundColor:t[_]}},[`${o}-${e} > ${o}-container > ${o}-content > ${o}-description`]:{color:t[g]},[`${o}-${e} > ${o}-container > ${o}-tail::after`]:{backgroundColor:t[_]}}},iF=e=>{const{componentCls:t,motionDurationSlow:o}=e,i=`${t}-item`,u=`${i}-icon`;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[i]:{position:"relative",display:"inline-block",flex:1,overflow:"hidden",verticalAlign:"top","&:last-child":{flex:"none",[`> ${i}-container > ${i}-tail, > ${i}-container >  ${i}-content > ${i}-title::after`]:{display:"none"}}},[`${i}-container`]:{outline:"none","&:focus-visible":{[u]:Object.assign({},(0,mn.oN)(e))}},[`${u}, ${i}-content`]:{display:"inline-block",verticalAlign:"top"},[u]:{width:e.iconSize,height:e.iconSize,marginTop:0,marginBottom:0,marginInlineStart:0,marginInlineEnd:e.marginXS,fontSize:e.iconFontSize,fontFamily:e.fontFamily,lineHeight:(0,J.bf)(e.iconSize),textAlign:"center",borderRadius:e.iconSize,border:`${(0,J.bf)(e.lineWidth)} ${e.lineType} transparent`,transition:`background-color ${o}, border-color ${o}`,[`${t}-icon`]:{position:"relative",top:e.iconTop,color:e.colorPrimary,lineHeight:1}},[`${i}-tail`]:{position:"absolute",top:e.calc(e.iconSize).div(2).equal(),insetInlineStart:0,width:"100%","&::after":{display:"inline-block",width:"100%",height:e.lineWidth,background:e.colorSplit,borderRadius:e.lineWidth,transition:`background ${o}`,content:'""'}},[`${i}-title`]:{position:"relative",display:"inline-block",paddingInlineEnd:e.padding,color:e.colorText,fontSize:e.fontSizeLG,lineHeight:(0,J.bf)(e.titleLineHeight),"&::after":{position:"absolute",top:e.calc(e.titleLineHeight).div(2).equal(),insetInlineStart:"100%",display:"block",width:9999,height:e.lineWidth,background:e.processTailColor,content:'""'}},[`${i}-subtitle`]:{display:"inline",marginInlineStart:e.marginXS,color:e.colorTextDescription,fontWeight:"normal",fontSize:e.fontSize},[`${i}-description`]:{color:e.colorTextDescription,fontSize:e.fontSize}},lC(eF,e)),lC(tF,e)),{[`${i}-process > ${i}-container > ${i}-title`]:{fontWeight:e.fontWeightStrong}}),lC(nF,e)),lC(rF,e)),{[`${i}${t}-next-error > ${t}-item-title::after`]:{background:e.colorError},[`${i}-disabled`]:{cursor:"not-allowed"}})},oF=e=>{const{componentCls:t,motionDurationSlow:o}=e;return{[`& ${t}-item`]:{[`&:not(${t}-item-active)`]:{[`& > ${t}-item-container[role='button']`]:{cursor:"pointer",[`${t}-item`]:{[`&-title, &-subtitle, &-description, &-icon ${t}-icon`]:{transition:`color ${o}`}},"&:hover":{[`${t}-item`]:{"&-title, &-subtitle, &-description":{color:e.colorPrimary}}}},[`&:not(${t}-item-process)`]:{[`& > ${t}-item-container[role='button']:hover`]:{[`${t}-item`]:{"&-icon":{borderColor:e.colorPrimary,[`${t}-icon`]:{color:e.colorPrimary}}}}}}},[`&${t}-horizontal:not(${t}-label-vertical)`]:{[`${t}-item`]:{paddingInlineStart:e.padding,whiteSpace:"nowrap","&:first-child":{paddingInlineStart:0},[`&:last-child ${t}-item-title`]:{paddingInlineEnd:0},"&-tail":{display:"none"},"&-description":{maxWidth:e.descriptionMaxWidth,whiteSpace:"normal"}}}}},aF=e=>{const{componentCls:t}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,mn.Wf)(e)),{display:"flex",width:"100%",fontSize:0,textAlign:"initial"}),iF(e)),oF(e)),HB(e)),JB(e)),QB(e)),UB(e)),GB(e)),KB(e)),XB(e)),YB(e)),qB(e)),WB(e))}},sF=e=>({titleLineHeight:e.controlHeight,customIconSize:e.controlHeight,customIconTop:0,customIconFontSize:e.controlHeightSM,iconSize:e.controlHeight,iconTop:-.5,iconFontSize:e.fontSize,iconSizeSM:e.fontSizeHeading3,dotSize:e.controlHeight/4,dotCurrentSize:e.controlHeightLG/4,navArrowColor:e.colorTextDisabled,navContentMaxWidth:"auto",descriptionMaxWidth:140,waitIconColor:e.wireframe?e.colorTextDisabled:e.colorTextLabel,waitIconBgColor:e.wireframe?e.colorBgContainer:e.colorFillContent,waitIconBorderColor:e.wireframe?e.colorTextDisabled:"transparent",finishIconBgColor:e.wireframe?e.colorBgContainer:e.controlItemBgActive,finishIconBorderColor:e.wireframe?e.colorPrimary:e.controlItemBgActive});var lF=(0,Ae.I$)("Steps",e=>{const{colorTextDisabled:t,controlHeightLG:o,colorTextLightSolid:i,colorText:u,colorPrimary:g,colorTextDescription:_,colorTextQuaternary:x,colorError:S,colorBorderSecondary:T,colorSplit:M}=e,R=(0,vn.IX)(e,{processIconColor:i,processTitleColor:u,processDescriptionColor:u,processIconBgColor:g,processIconBorderColor:g,processDotColor:g,processTailColor:M,waitTitleColor:_,waitDescriptionColor:_,waitTailColor:M,waitDotColor:t,finishIconColor:g,finishTitleColor:u,finishDescriptionColor:_,finishTailColor:g,finishDotColor:g,errorIconColor:i,errorTitleColor:S,errorDescriptionColor:S,errorTailColor:M,errorIconBgColor:S,errorIconBorderColor:S,errorDotColor:S,stepsNavActiveColor:g,stepsProgressSize:o,inlineDotSize:6,inlineTitleColor:x,inlineTailColor:T});return[aF(R)]},sF);function cF(e){return e.filter(t=>t)}function uF(e,t){if(e)return e;const o=(0,El.Z)(t).map(i=>{if(s.isValidElement(i)){const{props:u}=i;return Object.assign({},u)}return null});return cF(o)}var dF=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};const ZM=e=>{const{percent:t,size:o,className:i,rootClassName:u,direction:g,items:_,responsive:x=!0,current:S=0,children:T,style:M}=e,R=dF(e,["percent","size","className","rootClassName","direction","items","responsive","current","children","style"]),{xs:N}=(0,ep.Z)(x),{getPrefixCls:F,direction:B,className:V,style:j}=(0,De.dj)("steps"),H=s.useMemo(()=>x&&N?"vertical":g,[N,g]),U=(0,Ts.Z)(o),K=F("steps",e.prefixCls),[Y,q,Q]=lF(K),re=e.type==="inline",ae=F("",e.iconPrefix),se=uF(_,T),de=re?void 0:t,pe=Object.assign(Object.assign({},j),M),ge=oe()(V,{[`${K}-rtl`]:B==="rtl",[`${K}-with-progress`]:de!==void 0},i,u,q,Q),me={finish:s.createElement(ih,{className:`${K}-finish-icon`}),error:s.createElement(nr,{className:`${K}-error-icon`})},be=Ie=>{let{node:Ce,status:Le}=Ie;if(Le==="process"&&de!==void 0){const ze=U==="small"?32:40;return s.createElement("div",{className:`${K}-progress-icon`},s.createElement(qS,{type:"circle",percent:de,size:ze,strokeWidth:4,format:()=>null}),Ce)}return Ce},_e=(Ie,Ce)=>Ie.description?s.createElement(Uc.Z,{title:Ie.description},Ce):Ce;return Y(s.createElement(jM,Object.assign({icons:me},R,{style:pe,current:S,size:U,items:se,itemRender:re?_e:void 0,stepIcon:be,direction:H,prefixCls:K,iconPrefix:ae,className:ge})))};ZM.Step=jM.Step;var fF=ZM,hF=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],VM=s.forwardRef(function(e,t){var o,i=e.prefixCls,u=i===void 0?"rc-switch":i,g=e.className,_=e.checked,x=e.defaultChecked,S=e.disabled,T=e.loadingIcon,M=e.checkedChildren,R=e.unCheckedChildren,N=e.onClick,F=e.onChange,B=e.onKeyDown,V=(0,Ve.Z)(e,hF),j=(0,Jo.Z)(!1,{value:_,defaultValue:x}),H=(0,ve.Z)(j,2),U=H[0],K=H[1];function Y(ae,se){var de=U;return S||(de=ae,K(de),F==null||F(de,se)),de}function q(ae){ae.which===nt.Z.LEFT?Y(!1,ae):ae.which===nt.Z.RIGHT&&Y(!0,ae),B==null||B(ae)}function Q(ae){var se=Y(!U,ae);N==null||N(se,ae)}var re=oe()(u,g,(o={},(0,Ee.Z)(o,"".concat(u,"-checked"),U),(0,Ee.Z)(o,"".concat(u,"-disabled"),S),o));return s.createElement("button",(0,Pt.Z)({},V,{type:"button",role:"switch","aria-checked":U,disabled:S,className:re,ref:t,onKeyDown:q,onClick:Q}),T,s.createElement("span",{className:"".concat(u,"-inner")},s.createElement("span",{className:"".concat(u,"-inner-checked")},M),s.createElement("span",{className:"".concat(u,"-inner-unchecked")},R)))});VM.displayName="Switch";var pF=VM;const mF=e=>{const{componentCls:t,trackHeightSM:o,trackPadding:i,trackMinWidthSM:u,innerMinMarginSM:g,innerMaxMarginSM:_,handleSizeSM:x,calc:S}=e,T=`${t}-inner`,M=(0,J.bf)(S(x).add(S(i).mul(2)).equal()),R=(0,J.bf)(S(_).mul(2).equal());return{[t]:{[`&${t}-small`]:{minWidth:u,height:o,lineHeight:(0,J.bf)(o),[`${t}-inner`]:{paddingInlineStart:_,paddingInlineEnd:g,[`${T}-checked, ${T}-unchecked`]:{minHeight:o},[`${T}-checked`]:{marginInlineStart:`calc(-100% + ${M} - ${R})`,marginInlineEnd:`calc(100% - ${M} + ${R})`},[`${T}-unchecked`]:{marginTop:S(o).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`${t}-handle`]:{width:x,height:x},[`${t}-loading-icon`]:{top:S(S(x).sub(e.switchLoadingIconSize)).div(2).equal(),fontSize:e.switchLoadingIconSize},[`&${t}-checked`]:{[`${t}-inner`]:{paddingInlineStart:g,paddingInlineEnd:_,[`${T}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${T}-unchecked`]:{marginInlineStart:`calc(100% - ${M} + ${R})`,marginInlineEnd:`calc(-100% + ${M} - ${R})`}},[`${t}-handle`]:{insetInlineStart:`calc(100% - ${(0,J.bf)(S(x).add(i).equal())})`}},[`&:not(${t}-disabled):active`]:{[`&:not(${t}-checked) ${T}`]:{[`${T}-unchecked`]:{marginInlineStart:S(e.marginXXS).div(2).equal(),marginInlineEnd:S(e.marginXXS).mul(-1).div(2).equal()}},[`&${t}-checked ${T}`]:{[`${T}-checked`]:{marginInlineStart:S(e.marginXXS).mul(-1).div(2).equal(),marginInlineEnd:S(e.marginXXS).div(2).equal()}}}}}}},gF=e=>{const{componentCls:t,handleSize:o,calc:i}=e;return{[t]:{[`${t}-loading-icon${e.iconCls}`]:{position:"relative",top:i(i(o).sub(e.fontSize)).div(2).equal(),color:e.switchLoadingIconColor,verticalAlign:"top"},[`&${t}-checked ${t}-loading-icon`]:{color:e.switchColor}}}},vF=e=>{const{componentCls:t,trackPadding:o,handleBg:i,handleShadow:u,handleSize:g,calc:_}=e,x=`${t}-handle`;return{[t]:{[x]:{position:"absolute",top:o,insetInlineStart:o,width:g,height:g,transition:`all ${e.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:i,borderRadius:_(g).div(2).equal(),boxShadow:u,transition:`all ${e.switchDuration} ease-in-out`,content:'""'}},[`&${t}-checked ${x}`]:{insetInlineStart:`calc(100% - ${(0,J.bf)(_(g).add(o).equal())})`},[`&:not(${t}-disabled):active`]:{[`${x}::before`]:{insetInlineEnd:e.switchHandleActiveInset,insetInlineStart:0},[`&${t}-checked ${x}::before`]:{insetInlineEnd:0,insetInlineStart:e.switchHandleActiveInset}}}}},yF=e=>{const{componentCls:t,trackHeight:o,trackPadding:i,innerMinMargin:u,innerMaxMargin:g,handleSize:_,calc:x}=e,S=`${t}-inner`,T=(0,J.bf)(x(_).add(x(i).mul(2)).equal()),M=(0,J.bf)(x(g).mul(2).equal());return{[t]:{[S]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:g,paddingInlineEnd:u,transition:`padding-inline-start ${e.switchDuration} ease-in-out, padding-inline-end ${e.switchDuration} ease-in-out`,[`${S}-checked, ${S}-unchecked`]:{display:"block",color:e.colorTextLightSolid,fontSize:e.fontSizeSM,transition:`margin-inline-start ${e.switchDuration} ease-in-out, margin-inline-end ${e.switchDuration} ease-in-out`,pointerEvents:"none",minHeight:o},[`${S}-checked`]:{marginInlineStart:`calc(-100% + ${T} - ${M})`,marginInlineEnd:`calc(100% - ${T} + ${M})`},[`${S}-unchecked`]:{marginTop:x(o).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`&${t}-checked ${S}`]:{paddingInlineStart:u,paddingInlineEnd:g,[`${S}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${S}-unchecked`]:{marginInlineStart:`calc(100% - ${T} + ${M})`,marginInlineEnd:`calc(-100% + ${T} - ${M})`}},[`&:not(${t}-disabled):active`]:{[`&:not(${t}-checked) ${S}`]:{[`${S}-unchecked`]:{marginInlineStart:x(i).mul(2).equal(),marginInlineEnd:x(i).mul(-1).mul(2).equal()}},[`&${t}-checked ${S}`]:{[`${S}-checked`]:{marginInlineStart:x(i).mul(-1).mul(2).equal(),marginInlineEnd:x(i).mul(2).equal()}}}}}},_F=e=>{const{componentCls:t,trackHeight:o,trackMinWidth:i}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,mn.Wf)(e)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:i,height:o,lineHeight:(0,J.bf)(o),verticalAlign:"middle",background:e.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${e.motionDurationMid}`,userSelect:"none",[`&:hover:not(${t}-disabled)`]:{background:e.colorTextTertiary}}),(0,mn.Qy)(e)),{[`&${t}-checked`]:{background:e.switchColor,[`&:hover:not(${t}-disabled)`]:{background:e.colorPrimaryHover}},[`&${t}-loading, &${t}-disabled`]:{cursor:"not-allowed",opacity:e.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${t}-rtl`]:{direction:"rtl"}})}},bF=e=>{const{fontSize:t,lineHeight:o,controlHeight:i,colorWhite:u}=e,g=t*o,_=i/2,x=2,S=g-x*2,T=_-x*2;return{trackHeight:g,trackHeightSM:_,trackMinWidth:S*2+x*4,trackMinWidthSM:T*2+x*2,trackPadding:x,handleBg:u,handleSize:S,handleSizeSM:T,handleShadow:`0 2px 4px 0 ${new Es.t("#00230b").setA(.2).toRgbString()}`,innerMinMargin:S/2,innerMaxMargin:S+x+x*2,innerMinMarginSM:T/2,innerMaxMarginSM:T+x+x*2}};var xF=(0,Ae.I$)("Switch",e=>{const t=(0,vn.IX)(e,{switchDuration:e.motionDurationMid,switchColor:e.colorPrimary,switchDisabledOpacity:e.opacityLoading,switchLoadingIconSize:e.calc(e.fontSizeIcon).mul(.75).equal(),switchLoadingIconColor:`rgba(0, 0, 0, ${e.opacityLoading})`,switchHandleActiveInset:"-30%"});return[_F(t),yF(t),vF(t),gF(t),mF(t)]},bF),CF=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};const HM=s.forwardRef((e,t)=>{const{prefixCls:o,size:i,disabled:u,loading:g,className:_,rootClassName:x,style:S,checked:T,value:M,defaultChecked:R,defaultValue:N,onChange:F}=e,B=CF(e,["prefixCls","size","disabled","loading","className","rootClassName","style","checked","value","defaultChecked","defaultValue","onChange"]),[V,j]=(0,Jo.Z)(!1,{value:T!=null?T:M,defaultValue:R!=null?R:N}),{getPrefixCls:H,direction:U,switch:K}=s.useContext(De.E_),Y=s.useContext(Ds.Z),q=(u!=null?u:Y)||g,Q=H("switch",o),re=s.createElement("div",{className:`${Q}-handle`},g&&s.createElement(mo.Z,{className:`${Q}-loading-icon`})),[ae,se,de]=xF(Q),pe=(0,Ts.Z)(i),ge=oe()(K==null?void 0:K.className,{[`${Q}-small`]:pe==="small",[`${Q}-loading`]:g,[`${Q}-rtl`]:U==="rtl"},_,x,se,de),me=Object.assign(Object.assign({},K==null?void 0:K.style),S),be=function(){j(arguments.length<=0?void 0:arguments[0]),F==null||F.apply(void 0,arguments)};return ae(s.createElement(vl,{component:"Switch"},s.createElement(pF,Object.assign({},B,{checked:V,onChange:be,prefixCls:Q,className:ge,style:me,disabled:q,ref:t,loadingIcon:re}))))});HM.__ANT_SWITCH=!0;var wF=HM,wp={},ib="rc-table-internal-hook";function QS(e){var t=s.createContext(void 0),o=function(u){var g=u.value,_=u.children,x=s.useRef(g);x.current=g;var S=s.useState(function(){return{getValue:function(){return x.current},listeners:new Set}}),T=(0,ve.Z)(S,1),M=T[0];return(0,yt.Z)(function(){(0,Nt.unstable_batchedUpdates)(function(){M.listeners.forEach(function(R){R(g)})})},[g]),s.createElement(t.Provider,{value:M},_)};return{Context:t,Provider:o,defaultValue:e}}function Kc(e,t){var o=(0,Or.Z)(typeof t=="function"?t:function(R){if(t===void 0)return R;if(!Array.isArray(t))return R[t];var N={};return t.forEach(function(F){N[F]=R[F]}),N}),i=s.useContext(e==null?void 0:e.Context),u=i||{},g=u.listeners,_=u.getValue,x=s.useRef();x.current=o(i?_():e==null?void 0:e.defaultValue);var S=s.useState({}),T=(0,ve.Z)(S,2),M=T[1];return(0,yt.Z)(function(){if(!i)return;function R(N){var F=o(N);(0,id.Z)(x.current,F,!0)||M({})}return g.add(R),function(){g.delete(R)}},[i]),x.current}function UM(){var e=s.createContext(null);function t(){return s.useContext(e)}function o(u,g){var _=(0,zr.Yr)(u),x=function(T,M){var R=_?{ref:M}:{},N=s.useRef(0),F=s.useRef(T),B=t();return B!==null?s.createElement(u,(0,Pt.Z)({},T,R)):((!g||g(F.current,T))&&(N.current+=1),F.current=T,s.createElement(e.Provider,{value:N.current},s.createElement(u,(0,Pt.Z)({},T,R))))};return _?s.forwardRef(x):x}function i(u,g){var _=(0,zr.Yr)(u),x=function(T,M){var R=_?{ref:M}:{};return t(),s.createElement(u,(0,Pt.Z)({},T,R))};return _?s.memo(s.forwardRef(x),g):s.memo(x,g)}return{makeImmutable:o,responseImmutable:i,useImmutableMark:t}}var e2=UM(),kW=e2.makeImmutable,jW=e2.responseImmutable,ZW=e2.useImmutableMark,t2=UM(),WM=t2.makeImmutable,Uv=t2.responseImmutable,SF=t2.useImmutableMark,EF=QS(),gu=EF;function VW(e,t){var o=React.useRef(0);o.current+=1;var i=React.useRef(e),u=[];Object.keys(e||{}).map(function(_){var x;(e==null?void 0:e[_])!==((x=i.current)===null||x===void 0?void 0:x[_])&&u.push(_)}),i.current=e;var g=React.useRef([]);return u.length&&(g.current=u),React.useDebugValue(o.current),React.useDebugValue(g.current.join(", ")),t&&console.log("".concat(t,":"),o.current,g.current),o.current}var HW=null,UW=null,n2=he(36040),IF=s.createContext({renderWithProps:!1}),GM=IF,TF="RC_TABLE_KEY";function MF(e){return e==null?[]:Array.isArray(e)?e:[e]}function cC(e){var t=[],o={};return e.forEach(function(i){for(var u=i||{},g=u.key,_=u.dataIndex,x=g||MF(_).join("-")||TF;o[x];)x="".concat(x,"_next");o[x]=!0,t.push(x)}),t}function r2(e){return e!=null}function PF(e){return typeof e=="number"&&!Number.isNaN(e)}function OF(e){return e&&(0,Tt.Z)(e)==="object"&&!Array.isArray(e)&&!s.isValidElement(e)}function $F(e,t,o,i,u,g){var _=s.useContext(GM),x=SF(),S=(0,ed.Z)(function(){if(r2(i))return[i];var T=t==null||t===""?[]:Array.isArray(t)?t:[t],M=(0,n2.Z)(e,T),R=M,N=void 0;if(u){var F=u(M,e,o);OF(F)?(R=F.children,N=F.props,_.renderWithProps=!0):R=F}return[R,N]},[x,e,i,t,u,o],function(T,M){if(g){var R=(0,ve.Z)(T,2),N=R[1],F=(0,ve.Z)(M,2),B=F[1];return g(B,N)}return _.renderWithProps?!0:!(0,id.Z)(T,M,!0)});return S}function RF(e,t,o,i){var u=e+t-1;return e<=i&&u>=o}function AF(e,t){return Kc(gu,function(o){var i=RF(e,t||1,o.hoverStartRow,o.hoverEndRow);return[i,o.onHover]})}var DF=function(t){var o=t.ellipsis,i=t.rowType,u=t.children,g,_=o===!0?{showTitle:!0}:o;return _&&(_.showTitle||i==="header")&&(typeof u=="string"||typeof u=="number"?g=u.toString():s.isValidElement(u)&&typeof u.props.children=="string"&&(g=u.props.children)),g};function zF(e){var t,o,i,u,g,_,x,S,T=e.component,M=e.children,R=e.ellipsis,N=e.scope,F=e.prefixCls,B=e.className,V=e.align,j=e.record,H=e.render,U=e.dataIndex,K=e.renderIndex,Y=e.shouldCellUpdate,q=e.index,Q=e.rowType,re=e.colSpan,ae=e.rowSpan,se=e.fixLeft,de=e.fixRight,pe=e.firstFixLeft,ge=e.lastFixLeft,me=e.firstFixRight,be=e.lastFixRight,_e=e.appendNode,Ie=e.additionalProps,Ce=Ie===void 0?{}:Ie,Le=e.isSticky,ze="".concat(F,"-cell"),ke=Kc(gu,["supportSticky","allColumnsFixedLeft","rowHoverable"]),Ze=ke.supportSticky,je=ke.allColumnsFixedLeft,Ue=ke.rowHoverable,He=$F(j,U,K,M,H,Y),Qe=(0,ve.Z)(He,2),We=Qe[0],it=Qe[1],Je={},wt=typeof se=="number"&&Ze,Dt=typeof de=="number"&&Ze;wt&&(Je.position="sticky",Je.left=se),Dt&&(Je.position="sticky",Je.right=de);var ct=(t=(o=(i=it==null?void 0:it.colSpan)!==null&&i!==void 0?i:Ce.colSpan)!==null&&o!==void 0?o:re)!==null&&t!==void 0?t:1,ht=(u=(g=(_=it==null?void 0:it.rowSpan)!==null&&_!==void 0?_:Ce.rowSpan)!==null&&g!==void 0?g:ae)!==null&&u!==void 0?u:1,ut=AF(q,ht),tt=(0,ve.Z)(ut,2),xt=tt[0],_t=tt[1],dn=(0,Qi.zX)(function(An){var sr;j&&_t(q,q+ht-1),Ce==null||(sr=Ce.onMouseEnter)===null||sr===void 0||sr.call(Ce,An)}),on=(0,Qi.zX)(function(An){var sr;j&&_t(-1,-1),Ce==null||(sr=Ce.onMouseLeave)===null||sr===void 0||sr.call(Ce,An)});if(ct===0||ht===0)return null;var Ut=(x=Ce.title)!==null&&x!==void 0?x:DF({rowType:Q,ellipsis:R,children:We}),en=oe()(ze,B,(S={},(0,Ee.Z)((0,Ee.Z)((0,Ee.Z)((0,Ee.Z)((0,Ee.Z)((0,Ee.Z)((0,Ee.Z)((0,Ee.Z)((0,Ee.Z)((0,Ee.Z)(S,"".concat(ze,"-fix-left"),wt&&Ze),"".concat(ze,"-fix-left-first"),pe&&Ze),"".concat(ze,"-fix-left-last"),ge&&Ze),"".concat(ze,"-fix-left-all"),ge&&je&&Ze),"".concat(ze,"-fix-right"),Dt&&Ze),"".concat(ze,"-fix-right-first"),me&&Ze),"".concat(ze,"-fix-right-last"),be&&Ze),"".concat(ze,"-ellipsis"),R),"".concat(ze,"-with-append"),_e),"".concat(ze,"-fix-sticky"),(wt||Dt)&&Le&&Ze),(0,Ee.Z)(S,"".concat(ze,"-row-hover"),!it&&xt)),Ce.className,it==null?void 0:it.className),kt={};V&&(kt.textAlign=V);var cn=(0,fe.Z)((0,fe.Z)((0,fe.Z)((0,fe.Z)({},it==null?void 0:it.style),Je),kt),Ce.style),zn=We;return(0,Tt.Z)(zn)==="object"&&!Array.isArray(zn)&&!s.isValidElement(zn)&&(zn=null),R&&(ge||me)&&(zn=s.createElement("span",{className:"".concat(ze,"-content")},zn)),s.createElement(T,(0,Pt.Z)({},it,Ce,{className:en,style:cn,title:Ut,scope:N,onMouseEnter:Ue?dn:void 0,onMouseLeave:Ue?on:void 0,colSpan:ct!==1?ct:null,rowSpan:ht!==1?ht:null}),_e,zn)}var Wv=s.memo(zF);function i2(e,t,o,i,u){var g=o[e]||{},_=o[t]||{},x,S;g.fixed==="left"?x=i.left[u==="rtl"?t:e]:_.fixed==="right"&&(S=i.right[u==="rtl"?e:t]);var T=!1,M=!1,R=!1,N=!1,F=o[t+1],B=o[e-1],V=F&&!F.fixed||B&&!B.fixed||o.every(function(Y){return Y.fixed==="left"});if(u==="rtl"){if(x!==void 0){var j=B&&B.fixed==="left";N=!j&&V}else if(S!==void 0){var H=F&&F.fixed==="right";R=!H&&V}}else if(x!==void 0){var U=F&&F.fixed==="left";T=!U&&V}else if(S!==void 0){var K=B&&B.fixed==="right";M=!K&&V}return{fixLeft:x,fixRight:S,lastFixLeft:T,firstFixRight:M,lastFixRight:R,firstFixLeft:N,isSticky:i.isSticky}}var LF=s.createContext({}),XM=LF;function NF(e){var t=e.className,o=e.index,i=e.children,u=e.colSpan,g=u===void 0?1:u,_=e.rowSpan,x=e.align,S=Kc(gu,["prefixCls","direction"]),T=S.prefixCls,M=S.direction,R=s.useContext(XM),N=R.scrollColumnIndex,F=R.stickyOffsets,B=R.flattenColumns,V=o+g-1,j=V+1===N?g+1:g,H=i2(o,o+j-1,B,F,M);return s.createElement(Wv,(0,Pt.Z)({className:t,index:o,component:"td",prefixCls:T,record:null,dataIndex:null,align:x,colSpan:j,rowSpan:_,render:function(){return i}},H))}var BF=["children"];function FF(e){var t=e.children,o=(0,Ve.Z)(e,BF);return s.createElement("tr",o,t)}function o2(e){var t=e.children;return t}o2.Row=FF,o2.Cell=NF;var qM=o2;function kF(e){var t=e.children,o=e.stickyOffsets,i=e.flattenColumns,u=Kc(gu,"prefixCls"),g=i.length-1,_=i[g],x=s.useMemo(function(){return{stickyOffsets:o,flattenColumns:i,scrollColumnIndex:_!=null&&_.scrollbar?g:null}},[_,i,g,o]);return s.createElement(XM.Provider,{value:x},s.createElement("tfoot",{className:"".concat(u,"-summary")},t))}var uC=Uv(kF),KM=qM,YM=function(t){if((0,Vf.Z)()&&window.document.documentElement){var o=Array.isArray(t)?t:[t],i=window.document.documentElement;return o.some(function(u){return u in i.style})}return!1},jF=function(t,o){if(!YM(t))return!1;var i=document.createElement("div"),u=i.style[t];return i.style[t]=o,i.style[t]!==u};function a2(e,t){return!Array.isArray(e)&&t!==void 0?jF(e,t):YM(e)}var dC=he(90242);function JM(e,t,o,i,u,g,_){e.push({record:t,indent:o,index:_});var x=g(t),S=u==null?void 0:u.has(x);if(t&&Array.isArray(t[i])&&S)for(var T=0;T<t[i].length;T+=1)JM(e,t[i][T],o+1,i,u,g,T)}function QM(e,t,o,i){var u=s.useMemo(function(){if(o!=null&&o.size){for(var g=[],_=0;_<(e==null?void 0:e.length);_+=1){var x=e[_];JM(g,x,0,t,o,i,_)}return g}return e==null?void 0:e.map(function(S,T){return{record:S,indent:0,index:T}})},[e,t,o,i]);return u}function eP(e,t,o,i){var u=Kc(gu,["prefixCls","fixedInfoList","flattenColumns","expandableType","expandRowByClick","onTriggerExpand","rowClassName","expandedRowClassName","indentSize","expandIcon","expandedRowRender","expandIconColumnIndex","expandedKeys","childrenColumnName","rowExpandable","onRow"]),g=u.flattenColumns,_=u.expandableType,x=u.expandedKeys,S=u.childrenColumnName,T=u.onTriggerExpand,M=u.rowExpandable,R=u.onRow,N=u.expandRowByClick,F=u.rowClassName,B=_==="nest",V=_==="row"&&(!M||M(e)),j=V||B,H=x&&x.has(t),U=S&&e&&e[S],K=(0,Qi.zX)(T),Y=R==null?void 0:R(e,o),q=Y==null?void 0:Y.onClick,Q=function(de){N&&j&&T(e,de);for(var pe=arguments.length,ge=new Array(pe>1?pe-1:0),me=1;me<pe;me++)ge[me-1]=arguments[me];q==null||q.apply(void 0,[de].concat(ge))},re;typeof F=="string"?re=F:typeof F=="function"&&(re=F(e,o,i));var ae=cC(g);return(0,fe.Z)((0,fe.Z)({},u),{},{columnsKey:ae,nestExpandable:B,expanded:H,hasNestChildren:U,record:e,onTriggerExpand:K,rowSupportExpand:V,expandable:j,rowProps:(0,fe.Z)((0,fe.Z)({},Y),{},{className:oe()(re,Y==null?void 0:Y.className),onClick:Q})})}function ZF(e){var t=e.prefixCls,o=e.children,i=e.component,u=e.cellComponent,g=e.className,_=e.expanded,x=e.colSpan,S=e.isEmpty,T=Kc(gu,["scrollbarSize","fixHeader","fixColumn","componentWidth","horizonScroll"]),M=T.scrollbarSize,R=T.fixHeader,N=T.fixColumn,F=T.componentWidth,B=T.horizonScroll,V=o;return(S?B&&F:N)&&(V=s.createElement("div",{style:{width:F-(R&&!S?M:0),position:"sticky",left:0,overflow:"hidden"},className:"".concat(t,"-expanded-row-fixed")},V)),s.createElement(i,{className:g,style:{display:_?null:"none"}},s.createElement(Wv,{component:u,prefixCls:t,colSpan:x},V))}var tP=ZF;function VF(e){var t=e.prefixCls,o=e.record,i=e.onExpand,u=e.expanded,g=e.expandable,_="".concat(t,"-row-expand-icon");if(!g)return s.createElement("span",{className:oe()(_,"".concat(t,"-row-spaced"))});var x=function(T){i(o,T),T.stopPropagation()};return s.createElement("span",{className:oe()(_,(0,Ee.Z)((0,Ee.Z)({},"".concat(t,"-row-expanded"),u),"".concat(t,"-row-collapsed"),!u)),onClick:x})}function HF(e,t,o){var i=[];function u(g){(g||[]).forEach(function(_,x){i.push(t(_,x)),u(_[o])})}return u(e),i}function nP(e,t,o,i){return typeof e=="string"?e:typeof e=="function"?e(t,o,i):""}function rP(e,t,o,i,u){var g=e.record,_=e.prefixCls,x=e.columnsKey,S=e.fixedInfoList,T=e.expandIconColumnIndex,M=e.nestExpandable,R=e.indentSize,N=e.expandIcon,F=e.expanded,B=e.hasNestChildren,V=e.onTriggerExpand,j=x[o],H=S[o],U;o===(T||0)&&M&&(U=s.createElement(s.Fragment,null,s.createElement("span",{style:{paddingLeft:"".concat(R*i,"px")},className:"".concat(_,"-row-indent indent-level-").concat(i)}),N({prefixCls:_,expanded:F,expandable:B,record:g,onExpand:V})));var K;return t.onCell&&(K=t.onCell(g,u)),{key:j,fixedInfo:H,appendCellNode:U,additionalCellProps:K||{}}}function UF(e){var t=e.className,o=e.style,i=e.record,u=e.index,g=e.renderIndex,_=e.rowKey,x=e.indent,S=x===void 0?0:x,T=e.rowComponent,M=e.cellComponent,R=e.scopeCellComponent,N=eP(i,_,u,S),F=N.prefixCls,B=N.flattenColumns,V=N.expandedRowClassName,j=N.expandedRowRender,H=N.rowProps,U=N.expanded,K=N.rowSupportExpand,Y=s.useRef(!1);Y.current||(Y.current=U);var q=nP(V,i,u,S),Q=s.createElement(T,(0,Pt.Z)({},H,{"data-row-key":_,className:oe()(t,"".concat(F,"-row"),"".concat(F,"-row-level-").concat(S),H==null?void 0:H.className,(0,Ee.Z)({},q,S>=1)),style:(0,fe.Z)((0,fe.Z)({},o),H==null?void 0:H.style)}),B.map(function(se,de){var pe=se.render,ge=se.dataIndex,me=se.className,be=rP(N,se,de,S,u),_e=be.key,Ie=be.fixedInfo,Ce=be.appendCellNode,Le=be.additionalCellProps;return s.createElement(Wv,(0,Pt.Z)({className:me,ellipsis:se.ellipsis,align:se.align,scope:se.rowScope,component:se.rowScope?R:M,prefixCls:F,key:_e,record:i,index:u,renderIndex:g,dataIndex:ge,render:pe,shouldCellUpdate:se.shouldCellUpdate},Ie,{appendNode:Ce,additionalProps:Le}))})),re;if(K&&(Y.current||U)){var ae=j(i,u,S+1,U);re=s.createElement(tP,{expanded:U,className:oe()("".concat(F,"-expanded-row"),"".concat(F,"-expanded-row-level-").concat(S+1),q),prefixCls:F,component:T,cellComponent:M,colSpan:B.length,isEmpty:!1},ae)}return s.createElement(s.Fragment,null,Q,re)}var WF=Uv(UF);function GF(e){var t=e.columnKey,o=e.onColumnResize,i=s.useRef();return s.useEffect(function(){i.current&&o(t,i.current.offsetWidth)},[]),s.createElement(d.Z,{data:t},s.createElement("td",{ref:i,style:{padding:0,border:0,height:0}},s.createElement("div",{style:{height:0,overflow:"hidden"}},"\xA0")))}function XF(e){var t=e.prefixCls,o=e.columnsKey,i=e.onColumnResize;return s.createElement("tr",{"aria-hidden":"true",className:"".concat(t,"-measure-row"),style:{height:0,fontSize:0}},s.createElement(d.Z.Collection,{onBatchResize:function(g){g.forEach(function(_){var x=_.data,S=_.size;i(x,S.offsetWidth)})}},o.map(function(u){return s.createElement(GF,{key:u,columnKey:u,onColumnResize:i})})))}function qF(e){var t=e.data,o=e.measureColumnWidth,i=Kc(gu,["prefixCls","getComponent","onColumnResize","flattenColumns","getRowKey","expandedKeys","childrenColumnName","emptyNode"]),u=i.prefixCls,g=i.getComponent,_=i.onColumnResize,x=i.flattenColumns,S=i.getRowKey,T=i.expandedKeys,M=i.childrenColumnName,R=i.emptyNode,N=QM(t,M,T,S),F=s.useRef({renderWithProps:!1}),B=g(["body","wrapper"],"tbody"),V=g(["body","row"],"tr"),j=g(["body","cell"],"td"),H=g(["body","cell"],"th"),U;t.length?U=N.map(function(Y,q){var Q=Y.record,re=Y.indent,ae=Y.index,se=S(Q,q);return s.createElement(WF,{key:se,rowKey:se,record:Q,index:q,renderIndex:ae,rowComponent:V,cellComponent:j,scopeCellComponent:H,indent:re})}):U=s.createElement(tP,{expanded:!0,className:"".concat(u,"-placeholder"),prefixCls:u,component:V,cellComponent:j,colSpan:x.length,isEmpty:!0},R);var K=cC(x);return s.createElement(GM.Provider,{value:F.current},s.createElement(B,{className:"".concat(u,"-tbody")},o&&s.createElement(XF,{prefixCls:u,columnsKey:K,onColumnResize:_}),U))}var KF=Uv(qF),YF=["expandable"],ob="RC_TABLE_INTERNAL_COL_DEFINE";function JF(e){var t=e.expandable,o=(0,Ve.Z)(e,YF),i;return"expandable"in e?i=(0,fe.Z)((0,fe.Z)({},o),t):i=o,i.showExpandColumn===!1&&(i.expandIconColumnIndex=-1),i}var QF=["columnType"];function ek(e){for(var t=e.colWidths,o=e.columns,i=e.columCount,u=Kc(gu,["tableLayout"]),g=u.tableLayout,_=[],x=i||o.length,S=!1,T=x-1;T>=0;T-=1){var M=t[T],R=o&&o[T],N=void 0,F=void 0;if(R&&(N=R[ob],g==="auto"&&(F=R.minWidth)),M||F||N||S){var B=N||{},V=B.columnType,j=(0,Ve.Z)(B,QF);_.unshift(s.createElement("col",(0,Pt.Z)({key:T,style:{width:M,minWidth:F}},j))),S=!0}}return s.createElement("colgroup",null,_)}var iP=ek,tk=["className","noData","columns","flattenColumns","colWidths","columCount","stickyOffsets","direction","fixHeader","stickyTopOffset","stickyBottomOffset","stickyClassName","onScroll","maxContentScroll","children"];function nk(e,t){return(0,s.useMemo)(function(){for(var o=[],i=0;i<t;i+=1){var u=e[i];if(u!==void 0)o[i]=u;else return null}return o},[e.join("_"),t])}var rk=s.forwardRef(function(e,t){var o=e.className,i=e.noData,u=e.columns,g=e.flattenColumns,_=e.colWidths,x=e.columCount,S=e.stickyOffsets,T=e.direction,M=e.fixHeader,R=e.stickyTopOffset,N=e.stickyBottomOffset,F=e.stickyClassName,B=e.onScroll,V=e.maxContentScroll,j=e.children,H=(0,Ve.Z)(e,tk),U=Kc(gu,["prefixCls","scrollbarSize","isSticky","getComponent"]),K=U.prefixCls,Y=U.scrollbarSize,q=U.isSticky,Q=U.getComponent,re=Q(["header","table"],"table"),ae=q&&!M?0:Y,se=s.useRef(null),de=s.useCallback(function(Le){(0,zr.mH)(t,Le),(0,zr.mH)(se,Le)},[]);s.useEffect(function(){var Le;function ze(ke){var Ze=ke,je=Ze.currentTarget,Ue=Ze.deltaX;Ue&&(B({currentTarget:je,scrollLeft:je.scrollLeft+Ue}),ke.preventDefault())}return(Le=se.current)===null||Le===void 0||Le.addEventListener("wheel",ze,{passive:!1}),function(){var ke;(ke=se.current)===null||ke===void 0||ke.removeEventListener("wheel",ze)}},[]);var pe=s.useMemo(function(){return g.every(function(Le){return Le.width})},[g]),ge=g[g.length-1],me={fixed:ge?ge.fixed:null,scrollbar:!0,onHeaderCell:function(){return{className:"".concat(K,"-cell-scrollbar")}}},be=(0,s.useMemo)(function(){return ae?[].concat((0,Be.Z)(u),[me]):u},[ae,u]),_e=(0,s.useMemo)(function(){return ae?[].concat((0,Be.Z)(g),[me]):g},[ae,g]),Ie=(0,s.useMemo)(function(){var Le=S.right,ze=S.left;return(0,fe.Z)((0,fe.Z)({},S),{},{left:T==="rtl"?[].concat((0,Be.Z)(ze.map(function(ke){return ke+ae})),[0]):ze,right:T==="rtl"?Le:[].concat((0,Be.Z)(Le.map(function(ke){return ke+ae})),[0]),isSticky:q})},[ae,S,q]),Ce=nk(_,x);return s.createElement("div",{style:(0,fe.Z)({overflow:"hidden"},q?{top:R,bottom:N}:{}),ref:de,className:oe()(o,(0,Ee.Z)({},F,!!F))},s.createElement(re,{style:{tableLayout:"fixed",visibility:i||Ce?null:"hidden"}},(!i||!V||pe)&&s.createElement(iP,{colWidths:Ce?[].concat((0,Be.Z)(Ce),[ae]):[],columCount:x+1,columns:_e}),j((0,fe.Z)((0,fe.Z)({},H),{},{stickyOffsets:Ie,columns:be,flattenColumns:_e}))))}),oP=s.memo(rk),ik=function(t){var o=t.cells,i=t.stickyOffsets,u=t.flattenColumns,g=t.rowComponent,_=t.cellComponent,x=t.onHeaderRow,S=t.index,T=Kc(gu,["prefixCls","direction"]),M=T.prefixCls,R=T.direction,N;x&&(N=x(o.map(function(B){return B.column}),S));var F=cC(o.map(function(B){return B.column}));return s.createElement(g,N,o.map(function(B,V){var j=B.column,H=i2(B.colStart,B.colEnd,u,i,R),U;return j&&j.onHeaderCell&&(U=B.column.onHeaderCell(j)),s.createElement(Wv,(0,Pt.Z)({},B,{scope:j.title?B.colSpan>1?"colgroup":"col":null,ellipsis:j.ellipsis,align:j.align,component:_,prefixCls:M,key:F[V]},H,{additionalProps:U,rowType:"header"}))}))},ok=ik;function ak(e){var t=[];function o(_,x){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;t[S]=t[S]||[];var T=x,M=_.filter(Boolean).map(function(R){var N={key:R.key,className:R.className||"",children:R.title,column:R,colStart:T},F=1,B=R.children;return B&&B.length>0&&(F=o(B,T,S+1).reduce(function(V,j){return V+j},0),N.hasSubColumns=!0),"colSpan"in R&&(F=R.colSpan),"rowSpan"in R&&(N.rowSpan=R.rowSpan),N.colSpan=F,N.colEnd=N.colStart+F-1,t[S].push(N),T+=F,F});return M}o(e,0);for(var i=t.length,u=function(x){t[x].forEach(function(S){!("rowSpan"in S)&&!S.hasSubColumns&&(S.rowSpan=i-x)})},g=0;g<i;g+=1)u(g);return t}var sk=function(t){var o=t.stickyOffsets,i=t.columns,u=t.flattenColumns,g=t.onHeaderRow,_=Kc(gu,["prefixCls","getComponent"]),x=_.prefixCls,S=_.getComponent,T=s.useMemo(function(){return ak(i)},[i]),M=S(["header","wrapper"],"thead"),R=S(["header","row"],"tr"),N=S(["header","cell"],"th");return s.createElement(M,{className:"".concat(x,"-thead")},T.map(function(F,B){var V=s.createElement(ok,{key:B,flattenColumns:u,cells:F,stickyOffsets:o,rowComponent:R,cellComponent:N,onHeaderRow:g,index:B});return V}))},aP=Uv(sk);function sP(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return typeof t=="number"?t:t.endsWith("%")?e*parseFloat(t)/100:null}function lk(e,t,o){return s.useMemo(function(){if(t&&t>0){var i=0,u=0;e.forEach(function(N){var F=sP(t,N.width);F?i+=F:u+=1});var g=Math.max(t,o),_=Math.max(g-i,u),x=u,S=_/u,T=0,M=e.map(function(N){var F=(0,fe.Z)({},N),B=sP(t,F.width);if(B)F.width=B;else{var V=Math.floor(S);F.width=x===1?_:V,_-=V,x-=1}return T+=F.width,F});if(T<g){var R=g/T;_=g,M.forEach(function(N,F){var B=Math.floor(N.width*R);N.width=F===M.length-1?_:B,_-=B})}return[M,Math.max(T,g)]}return[e,t]},[e,t,o])}var ck=["children"],uk=["fixed"];function s2(e){return(0,El.Z)(e).filter(function(t){return s.isValidElement(t)}).map(function(t){var o=t.key,i=t.props,u=i.children,g=(0,Ve.Z)(i,ck),_=(0,fe.Z)({key:o},g);return u&&(_.children=s2(u)),_})}function lP(e){return e.filter(function(t){return t&&(0,Tt.Z)(t)==="object"&&!t.hidden}).map(function(t){var o=t.children;return o&&o.length>0?(0,fe.Z)((0,fe.Z)({},t),{},{children:lP(o)}):t})}function l2(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"key";return e.filter(function(o){return o&&(0,Tt.Z)(o)==="object"}).reduce(function(o,i,u){var g=i.fixed,_=g===!0?"left":g,x="".concat(t,"-").concat(u),S=i.children;return S&&S.length>0?[].concat((0,Be.Z)(o),(0,Be.Z)(l2(S,x).map(function(T){return(0,fe.Z)({fixed:_},T)}))):[].concat((0,Be.Z)(o),[(0,fe.Z)((0,fe.Z)({key:x},i),{},{fixed:_})])},[])}function dk(e){return e.map(function(t){var o=t.fixed,i=(0,Ve.Z)(t,uk),u=o;return o==="left"?u="right":o==="right"&&(u="left"),(0,fe.Z)({fixed:u},i)})}function fk(e,t){var o=e.prefixCls,i=e.columns,u=e.children,g=e.expandable,_=e.expandedKeys,x=e.columnTitle,S=e.getRowKey,T=e.onTriggerExpand,M=e.expandIcon,R=e.rowExpandable,N=e.expandIconColumnIndex,F=e.direction,B=e.expandRowByClick,V=e.columnWidth,j=e.fixed,H=e.scrollWidth,U=e.clientWidth,K=s.useMemo(function(){var ge=i||s2(u)||[];return lP(ge.slice())},[i,u]),Y=s.useMemo(function(){if(g){var ge=K.slice();if(!ge.includes(wp)){var me=N||0;me>=0&&(me||j==="left"||!j)&&ge.splice(me,0,wp),j==="right"&&ge.splice(K.length,0,wp)}var be=ge.indexOf(wp);ge=ge.filter(function(Le,ze){return Le!==wp||ze===be});var _e=K[be],Ie;j?Ie=j:Ie=_e?_e.fixed:null;var Ce=(0,Ee.Z)((0,Ee.Z)((0,Ee.Z)((0,Ee.Z)((0,Ee.Z)((0,Ee.Z)({},ob,{className:"".concat(o,"-expand-icon-col"),columnType:"EXPAND_COLUMN"}),"title",x),"fixed",Ie),"className","".concat(o,"-row-expand-icon-cell")),"width",V),"render",function(ze,ke,Ze){var je=S(ke,Ze),Ue=_.has(je),He=R?R(ke):!0,Qe=M({prefixCls:o,expanded:Ue,expandable:He,record:ke,onExpand:T});return B?s.createElement("span",{onClick:function(it){return it.stopPropagation()}},Qe):Qe});return ge.map(function(Le){return Le===wp?Ce:Le})}return K.filter(function(Le){return Le!==wp})},[g,K,S,_,M,F]),q=s.useMemo(function(){var ge=Y;return t&&(ge=t(ge)),ge.length||(ge=[{render:function(){return null}}]),ge},[t,Y,F]),Q=s.useMemo(function(){return F==="rtl"?dk(l2(q)):l2(q)},[q,F,H]),re=s.useMemo(function(){for(var ge=-1,me=Q.length-1;me>=0;me-=1){var be=Q[me].fixed;if(be==="left"||be===!0){ge=me;break}}if(ge>=0)for(var _e=0;_e<=ge;_e+=1){var Ie=Q[_e].fixed;if(Ie!=="left"&&Ie!==!0)return!0}var Ce=Q.findIndex(function(ke){var Ze=ke.fixed;return Ze==="right"});if(Ce>=0)for(var Le=Ce;Le<Q.length;Le+=1){var ze=Q[Le].fixed;if(ze!=="right")return!0}return!1},[Q]),ae=lk(Q,H,U),se=(0,ve.Z)(ae,2),de=se[0],pe=se[1];return[q,de,pe,re]}var hk=fk;function pk(e,t,o){var i=JF(e),u=i.expandIcon,g=i.expandedRowKeys,_=i.defaultExpandedRowKeys,x=i.defaultExpandAllRows,S=i.expandedRowRender,T=i.onExpand,M=i.onExpandedRowsChange,R=i.childrenColumnName,N=u||VF,F=R||"children",B=s.useMemo(function(){return S?"row":e.expandable&&e.internalHooks===ib&&e.expandable.__PARENT_RENDER_ICON__||t.some(function(q){return q&&(0,Tt.Z)(q)==="object"&&q[F]})?"nest":!1},[!!S,t]),V=s.useState(function(){return _||(x?HF(t,o,F):[])}),j=(0,ve.Z)(V,2),H=j[0],U=j[1],K=s.useMemo(function(){return new Set(g||H||[])},[g,H]),Y=s.useCallback(function(q){var Q=o(q,t.indexOf(q)),re,ae=K.has(Q);ae?(K.delete(Q),re=(0,Be.Z)(K)):re=[].concat((0,Be.Z)(K),[Q]),U(re),T&&T(!ae,q),M&&M(re)},[o,K,t,T,M]);return[i,B,K,N,F,Y]}function mk(e,t,o){var i=e.map(function(u,g){return i2(g,g,e,t,o)});return(0,ed.Z)(function(){return i},[i],function(u,g){return!(0,id.Z)(u,g)})}function cP(e){var t=(0,s.useRef)(e),o=(0,s.useState)({}),i=(0,ve.Z)(o,2),u=i[1],g=(0,s.useRef)(null),_=(0,s.useRef)([]);function x(S){_.current.push(S);var T=Promise.resolve();g.current=T,T.then(function(){if(g.current===T){var M=_.current,R=t.current;_.current=[],M.forEach(function(N){t.current=N(t.current)}),g.current=null,R!==t.current&&u({})}})}return(0,s.useEffect)(function(){return function(){g.current=null}},[]),[t.current,x]}function gk(e){var t=(0,s.useRef)(e||null),o=(0,s.useRef)();function i(){window.clearTimeout(o.current)}function u(_){t.current=_,i(),o.current=window.setTimeout(function(){t.current=null,o.current=void 0},100)}function g(){return t.current}return(0,s.useEffect)(function(){return i},[]),[u,g]}function vk(){var e=s.useState(-1),t=(0,ve.Z)(e,2),o=t[0],i=t[1],u=s.useState(-1),g=(0,ve.Z)(u,2),_=g[0],x=g[1],S=s.useCallback(function(T,M){i(T),x(M)},[]);return[o,_,S]}var uP=(0,Vf.Z)()?window:null;function yk(e,t){var o=(0,Tt.Z)(e)==="object"?e:{},i=o.offsetHeader,u=i===void 0?0:i,g=o.offsetSummary,_=g===void 0?0:g,x=o.offsetScroll,S=x===void 0?0:x,T=o.getContainer,M=T===void 0?function(){return uP}:T,R=M()||uP,N=!!e;return s.useMemo(function(){return{isSticky:N,stickyClassName:N?"".concat(t,"-sticky-holder"):"",offsetHeader:u,offsetSummary:_,offsetScroll:S,container:R}},[N,S,u,_,t,R])}function _k(e,t,o){var i=(0,s.useMemo)(function(){var u=t.length,g=function(T,M,R){for(var N=[],F=0,B=T;B!==M;B+=R)N.push(F),t[B].fixed&&(F+=e[B]||0);return N},_=g(0,u,1),x=g(u-1,-1,-1).reverse();return o==="rtl"?{left:x,right:_}:{left:_,right:x}},[e,t,o]);return i}var bk=_k;function xk(e){var t=e.className,o=e.children;return s.createElement("div",{className:t},o)}var dP=xk,fP=he(4525);function hP(e){var t=(0,fP.bn)(e),o=t.getBoundingClientRect(),i=document.documentElement;return{left:o.left+(window.pageXOffset||i.scrollLeft)-(i.clientLeft||document.body.clientLeft||0),top:o.top+(window.pageYOffset||i.scrollTop)-(i.clientTop||document.body.clientTop||0)}}var Ck=function(t,o){var i,u,g=t.scrollBodyRef,_=t.onScroll,x=t.offsetScroll,S=t.container,T=t.direction,M=Kc(gu,"prefixCls"),R=((i=g.current)===null||i===void 0?void 0:i.scrollWidth)||0,N=((u=g.current)===null||u===void 0?void 0:u.clientWidth)||0,F=R&&N*(N/R),B=s.useRef(),V=cP({scrollLeft:0,isHiddenScrollBar:!0}),j=(0,ve.Z)(V,2),H=j[0],U=j[1],K=s.useRef({delta:0,x:0}),Y=s.useState(!1),q=(0,ve.Z)(Y,2),Q=q[0],re=q[1],ae=s.useRef(null);s.useEffect(function(){return function(){lt.Z.cancel(ae.current)}},[]);var se=function(){re(!1)},de=function(_e){_e.persist(),K.current.delta=_e.pageX-H.scrollLeft,K.current.x=0,re(!0),_e.preventDefault()},pe=function(_e){var Ie,Ce=_e||((Ie=window)===null||Ie===void 0?void 0:Ie.event),Le=Ce.buttons;if(!Q||Le===0){Q&&re(!1);return}var ze=K.current.x+_e.pageX-K.current.x-K.current.delta,ke=T==="rtl";ze=Math.max(ke?F-N:0,Math.min(ke?0:N-F,ze));var Ze=!ke||Math.abs(ze)+Math.abs(F)<N;Ze&&(_({scrollLeft:ze/N*(R+2)}),K.current.x=_e.pageX)},ge=function(){lt.Z.cancel(ae.current),ae.current=(0,lt.Z)(function(){if(g.current){var _e=hP(g.current).top,Ie=_e+g.current.offsetHeight,Ce=S===window?document.documentElement.scrollTop+window.innerHeight:hP(S).top+S.clientHeight;Ie-(0,dC.Z)()<=Ce||_e>=Ce-x?U(function(Le){return(0,fe.Z)((0,fe.Z)({},Le),{},{isHiddenScrollBar:!0})}):U(function(Le){return(0,fe.Z)((0,fe.Z)({},Le),{},{isHiddenScrollBar:!1})})}})},me=function(_e){U(function(Ie){return(0,fe.Z)((0,fe.Z)({},Ie),{},{scrollLeft:_e/R*N||0})})};return s.useImperativeHandle(o,function(){return{setScrollLeft:me,checkScrollBarVisible:ge}}),s.useEffect(function(){var be=Sm(document.body,"mouseup",se,!1),_e=Sm(document.body,"mousemove",pe,!1);return ge(),function(){be.remove(),_e.remove()}},[F,Q]),s.useEffect(function(){if(g.current){for(var be=[],_e=g.current;_e;)be.push(_e),_e=_e.parentElement;return be.forEach(function(Ie){return Ie.addEventListener("scroll",ge,!1)}),window.addEventListener("resize",ge,!1),window.addEventListener("scroll",ge,!1),S.addEventListener("scroll",ge,!1),function(){be.forEach(function(Ie){return Ie.removeEventListener("scroll",ge)}),window.removeEventListener("resize",ge),window.removeEventListener("scroll",ge),S.removeEventListener("scroll",ge)}}},[S]),s.useEffect(function(){H.isHiddenScrollBar||U(function(be){var _e=g.current;return _e?(0,fe.Z)((0,fe.Z)({},be),{},{scrollLeft:_e.scrollLeft/_e.scrollWidth*_e.clientWidth}):be})},[H.isHiddenScrollBar]),R<=N||!F||H.isHiddenScrollBar?null:s.createElement("div",{style:{height:(0,dC.Z)(),width:N,bottom:x},className:"".concat(M,"-sticky-scroll")},s.createElement("div",{onMouseDown:de,ref:B,className:oe()("".concat(M,"-sticky-scroll-bar"),(0,Ee.Z)({},"".concat(M,"-sticky-scroll-bar-active"),Q)),style:{width:"".concat(F,"px"),transform:"translate3d(".concat(H.scrollLeft,"px, 0, 0)")}}))},wk=s.forwardRef(Ck);function Sk(e){return null}var Ek=Sk;function Ik(e){return null}var Tk=Ik,pP="rc-table",Mk=[],Pk={};function Ok(){return"No Data"}function $k(e,t){var o=(0,fe.Z)({rowKey:"key",prefixCls:pP,emptyText:Ok},e),i=o.prefixCls,u=o.className,g=o.rowClassName,_=o.style,x=o.data,S=o.rowKey,T=o.scroll,M=o.tableLayout,R=o.direction,N=o.title,F=o.footer,B=o.summary,V=o.caption,j=o.id,H=o.showHeader,U=o.components,K=o.emptyText,Y=o.onRow,q=o.onHeaderRow,Q=o.onScroll,re=o.internalHooks,ae=o.transformColumns,se=o.internalRefs,de=o.tailor,pe=o.getContainerWidth,ge=o.sticky,me=o.rowHoverable,be=me===void 0?!0:me,_e=x||Mk,Ie=!!_e.length,Ce=re===ib,Le=s.useCallback(function(es,ao){return(0,n2.Z)(U,es)||ao},[U]),ze=s.useMemo(function(){return typeof S=="function"?S:function(es){var ao=es&&es[S];return ao}},[S]),ke=Le(["body"]),Ze=vk(),je=(0,ve.Z)(Ze,3),Ue=je[0],He=je[1],Qe=je[2],We=pk(o,_e,ze),it=(0,ve.Z)(We,6),Je=it[0],wt=it[1],Dt=it[2],ct=it[3],ht=it[4],ut=it[5],tt=T==null?void 0:T.x,xt=s.useState(0),_t=(0,ve.Z)(xt,2),dn=_t[0],on=_t[1],Ut=hk((0,fe.Z)((0,fe.Z)((0,fe.Z)({},o),Je),{},{expandable:!!Je.expandedRowRender,columnTitle:Je.columnTitle,expandedKeys:Dt,getRowKey:ze,onTriggerExpand:ut,expandIcon:ct,expandIconColumnIndex:Je.expandIconColumnIndex,direction:R,scrollWidth:Ce&&de&&typeof tt=="number"?tt:null,clientWidth:dn}),Ce?ae:null),en=(0,ve.Z)(Ut,4),kt=en[0],cn=en[1],zn=en[2],An=en[3],sr=zn!=null?zn:tt,yr=s.useMemo(function(){return{columns:kt,flattenColumns:cn}},[kt,cn]),Vr=s.useRef(),Qn=s.useRef(),Un=s.useRef(),er=s.useRef();s.useImperativeHandle(t,function(){return{nativeElement:Vr.current,scrollTo:function(ao){var ra;if(Un.current instanceof HTMLElement){var ts=ao.index,Ns=ao.top,Jl=ao.key;if(PF(Ns)){var Ep;(Ep=Un.current)===null||Ep===void 0||Ep.scrollTo({top:Ns})}else{var u0,db=Jl!=null?Jl:ze(_e[ts]);(u0=Un.current.querySelector('[data-row-key="'.concat(db,'"]')))===null||u0===void 0||u0.scrollIntoView()}}else(ra=Un.current)!==null&&ra!==void 0&&ra.scrollTo&&Un.current.scrollTo(ao)}}});var Ir=s.useRef(),pr=s.useState(!1),Zr=(0,ve.Z)(pr,2),xn=Zr[0],fn=Zr[1],yn=s.useState(!1),Gt=(0,ve.Z)(yn,2),Kn=Gt[0],vr=Gt[1],Jr=cP(new Map),Hi=(0,ve.Z)(Jr,2),Gi=Hi[0],Zi=Hi[1],Fa=cC(cn),Do=Fa.map(function(es){return Gi.get(es)}),zo=s.useMemo(function(){return Do},[Do.join("_")]),oo=bk(zo,cn,R),Uo=T&&r2(T.y),ua=T&&r2(sr)||!!Je.fixed,xi=ua&&cn.some(function(es){var ao=es.fixed;return ao}),Fi=s.useRef(),Wr=yk(ge,i),gi=Wr.isSticky,Ci=Wr.offsetHeader,Yi=Wr.offsetSummary,xa=Wr.offsetScroll,Pa=Wr.stickyClassName,Fs=Wr.container,Xi=s.useMemo(function(){return B==null?void 0:B(_e)},[B,_e]),Di=(Uo||gi)&&s.isValidElement(Xi)&&Xi.type===qM&&Xi.props.fixed,Si,Ii,da;Uo&&(Ii={overflowY:Ie?"scroll":"auto",maxHeight:T.y}),ua&&(Si={overflowX:"auto"},Uo||(Ii={overflowY:"hidden"}),da={width:sr===!0?"auto":sr,minWidth:"100%"});var Qa=s.useCallback(function(es,ao){(0,yi.Z)(Vr.current)&&Zi(function(ra){if(ra.get(es)!==ao){var ts=new Map(ra);return ts.set(es,ao),ts}return ra})},[]),Wo=gk(null),lo=(0,ve.Z)(Wo,2),va=lo[0],ka=lo[1];function Us(es,ao){ao&&(typeof ao=="function"?ao(es):ao.scrollLeft!==es&&(ao.scrollLeft=es,ao.scrollLeft!==es&&setTimeout(function(){ao.scrollLeft=es},0)))}var Ti=(0,Or.Z)(function(es){var ao=es.currentTarget,ra=es.scrollLeft,ts=R==="rtl",Ns=typeof ra=="number"?ra:ao.scrollLeft,Jl=ao||Pk;if(!ka()||ka()===Jl){var Ep;va(Jl),Us(Ns,Qn.current),Us(Ns,Un.current),Us(Ns,Ir.current),Us(Ns,(Ep=Fi.current)===null||Ep===void 0?void 0:Ep.setScrollLeft)}var u0=ao||Qn.current;if(u0){var db=Ce&&de&&typeof sr=="number"?sr:u0.scrollWidth,Y2=u0.clientWidth;if(db===Y2){fn(!1),vr(!1);return}ts?(fn(-Ns<db-Y2),vr(-Ns>0)):(fn(Ns>0),vr(Ns<db-Y2))}}),xr=(0,Or.Z)(function(es){Ti(es),Q==null||Q(es)}),zi=function(){if(ua&&Un.current){var ao;Ti({currentTarget:(0,fP.bn)(Un.current),scrollLeft:(ao=Un.current)===null||ao===void 0?void 0:ao.scrollLeft})}else fn(!1),vr(!1)},_o=function(ao){var ra,ts=ao.width;(ra=Fi.current)===null||ra===void 0||ra.checkScrollBarVisible();var Ns=Vr.current?Vr.current.offsetWidth:ts;Ce&&pe&&Vr.current&&(Ns=pe(Vr.current,Ns)||Ns),Ns!==dn&&(zi(),on(Ns))},Sa=s.useRef(!1);s.useEffect(function(){Sa.current&&zi()},[ua,x,kt.length]),s.useEffect(function(){Sa.current=!0},[]);var vs=s.useState(0),Js=(0,ve.Z)(vs,2),hs=Js[0],ho=Js[1],fa=s.useState(!0),ja=(0,ve.Z)(fa,2),Ws=ja[0],lc=ja[1];s.useEffect(function(){(!de||!Ce)&&(Un.current instanceof Element?ho((0,dC.o)(Un.current).width):ho((0,dC.o)(er.current).width)),lc(a2("position","sticky"))},[]),s.useEffect(function(){Ce&&se&&(se.body.current=Un.current)});var Lu=s.useCallback(function(es){return s.createElement(s.Fragment,null,s.createElement(aP,es),Di==="top"&&s.createElement(uC,es,Xi))},[Di,Xi]),Ih=s.useCallback(function(es){return s.createElement(uC,es,Xi)},[Xi]),Th=Le(["table"],"table"),kd=s.useMemo(function(){return M||(xi?sr==="max-content"?"auto":"fixed":Uo||gi||cn.some(function(es){var ao=es.ellipsis;return ao})?"fixed":"auto")},[Uo,xi,cn,M,gi]),jd,dd={colWidths:zo,columCount:cn.length,stickyOffsets:oo,onHeaderRow:q,fixHeader:Uo,scroll:T},Ps=s.useMemo(function(){return Ie?null:typeof K=="function"?K():K},[Ie,K]),Lo=s.createElement(KF,{data:_e,measureColumnWidth:Uo||ua||gi}),as=s.createElement(iP,{colWidths:cn.map(function(es){var ao=es.width;return ao}),columns:cn}),Ki=V!=null?s.createElement("caption",{className:"".concat(i,"-caption")},V):void 0,eo=(0,ir.Z)(o,{data:!0}),ps=(0,ir.Z)(o,{aria:!0});if(Uo||gi){var wl;typeof ke=="function"?(wl=ke(_e,{scrollbarSize:hs,ref:Un,onScroll:Ti}),dd.colWidths=cn.map(function(es,ao){var ra=es.width,ts=ao===cn.length-1?ra-hs:ra;return typeof ts=="number"&&!Number.isNaN(ts)?ts:0})):wl=s.createElement("div",{style:(0,fe.Z)((0,fe.Z)({},Si),Ii),onScroll:xr,ref:Un,className:oe()("".concat(i,"-body"))},s.createElement(Th,(0,Pt.Z)({style:(0,fe.Z)((0,fe.Z)({},da),{},{tableLayout:kd})},ps),Ki,as,Lo,!Di&&Xi&&s.createElement(uC,{stickyOffsets:oo,flattenColumns:cn},Xi)));var cc=(0,fe.Z)((0,fe.Z)((0,fe.Z)({noData:!_e.length,maxContentScroll:ua&&sr==="max-content"},dd),yr),{},{direction:R,stickyClassName:Pa,onScroll:Ti});jd=s.createElement(s.Fragment,null,H!==!1&&s.createElement(oP,(0,Pt.Z)({},cc,{stickyTopOffset:Ci,className:"".concat(i,"-header"),ref:Qn}),Lu),wl,Di&&Di!=="top"&&s.createElement(oP,(0,Pt.Z)({},cc,{stickyBottomOffset:Yi,className:"".concat(i,"-summary"),ref:Ir}),Ih),gi&&Un.current&&Un.current instanceof Element&&s.createElement(wk,{ref:Fi,offsetScroll:xa,scrollBodyRef:Un,onScroll:Ti,container:Fs,direction:R}))}else jd=s.createElement("div",{style:(0,fe.Z)((0,fe.Z)({},Si),Ii),className:oe()("".concat(i,"-content")),onScroll:Ti,ref:Un},s.createElement(Th,(0,Pt.Z)({style:(0,fe.Z)((0,fe.Z)({},da),{},{tableLayout:kd})},ps),Ki,as,H!==!1&&s.createElement(aP,(0,Pt.Z)({},dd,yr)),Lo,Xi&&s.createElement(uC,{stickyOffsets:oo,flattenColumns:cn},Xi)));var vu=s.createElement("div",(0,Pt.Z)({className:oe()(i,u,(0,Ee.Z)((0,Ee.Z)((0,Ee.Z)((0,Ee.Z)((0,Ee.Z)((0,Ee.Z)((0,Ee.Z)((0,Ee.Z)((0,Ee.Z)((0,Ee.Z)({},"".concat(i,"-rtl"),R==="rtl"),"".concat(i,"-ping-left"),xn),"".concat(i,"-ping-right"),Kn),"".concat(i,"-layout-fixed"),M==="fixed"),"".concat(i,"-fixed-header"),Uo),"".concat(i,"-fixed-column"),xi),"".concat(i,"-fixed-column-gapped"),xi&&An),"".concat(i,"-scroll-horizontal"),ua),"".concat(i,"-has-fix-left"),cn[0]&&cn[0].fixed),"".concat(i,"-has-fix-right"),cn[cn.length-1]&&cn[cn.length-1].fixed==="right")),style:_,id:j,ref:Vr},eo),N&&s.createElement(dP,{className:"".concat(i,"-title")},N(_e)),s.createElement("div",{ref:er,className:"".concat(i,"-container")},jd),F&&s.createElement(dP,{className:"".concat(i,"-footer")},F(_e)));ua&&(vu=s.createElement(d.Z,{onResize:_o},vu));var Nu=mk(cn,oo,R),Bu=s.useMemo(function(){return{scrollX:sr,prefixCls:i,getComponent:Le,scrollbarSize:hs,direction:R,fixedInfoList:Nu,isSticky:gi,supportSticky:Ws,componentWidth:dn,fixHeader:Uo,fixColumn:xi,horizonScroll:ua,tableLayout:kd,rowClassName:g,expandedRowClassName:Je.expandedRowClassName,expandIcon:ct,expandableType:wt,expandRowByClick:Je.expandRowByClick,expandedRowRender:Je.expandedRowRender,onTriggerExpand:ut,expandIconColumnIndex:Je.expandIconColumnIndex,indentSize:Je.indentSize,allColumnsFixedLeft:cn.every(function(es){return es.fixed==="left"}),emptyNode:Ps,columns:kt,flattenColumns:cn,onColumnResize:Qa,hoverStartRow:Ue,hoverEndRow:He,onHover:Qe,rowExpandable:Je.rowExpandable,onRow:Y,getRowKey:ze,expandedKeys:Dt,childrenColumnName:ht,rowHoverable:be}},[sr,i,Le,hs,R,Nu,gi,Ws,dn,Uo,xi,ua,kd,g,Je.expandedRowClassName,ct,wt,Je.expandRowByClick,Je.expandedRowRender,ut,Je.expandIconColumnIndex,Je.indentSize,Ps,kt,cn,Qa,Ue,He,Qe,Je.rowExpandable,Y,ze,Dt,ht,be]);return s.createElement(gu.Provider,{value:Bu},vu)}var Rk=s.forwardRef($k);function mP(e){return WM(Rk,e)}var Gv=mP();Gv.EXPAND_COLUMN=wp,Gv.INTERNAL_HOOKS=ib,Gv.Column=Ek,Gv.ColumnGroup=Tk,Gv.Summary=KM;var Ak=Gv,c2=QS(null),gP=QS(null);function Dk(e,t,o){var i=t||1;return o[e+i]-(o[e]||0)}function zk(e){var t=e.rowInfo,o=e.column,i=e.colIndex,u=e.indent,g=e.index,_=e.component,x=e.renderIndex,S=e.record,T=e.style,M=e.className,R=e.inverse,N=e.getHeight,F=o.render,B=o.dataIndex,V=o.className,j=o.width,H=Kc(gP,["columnsOffset"]),U=H.columnsOffset,K=rP(t,o,i,u,g),Y=K.key,q=K.fixedInfo,Q=K.appendCellNode,re=K.additionalCellProps,ae=re.style,se=re.colSpan,de=se===void 0?1:se,pe=re.rowSpan,ge=pe===void 0?1:pe,me=i-1,be=Dk(me,de,U),_e=de>1?j-be:0,Ie=(0,fe.Z)((0,fe.Z)((0,fe.Z)({},ae),T),{},{flex:"0 0 ".concat(be,"px"),width:"".concat(be,"px"),marginRight:_e,pointerEvents:"auto"}),Ce=s.useMemo(function(){return R?ge<=1:de===0||ge===0||ge>1},[ge,de,R]);Ce?Ie.visibility="hidden":R&&(Ie.height=N==null?void 0:N(ge));var Le=Ce?function(){return null}:F,ze={};return(ge===0||de===0)&&(ze.rowSpan=1,ze.colSpan=1),s.createElement(Wv,(0,Pt.Z)({className:oe()(V,M),ellipsis:o.ellipsis,align:o.align,scope:o.rowScope,component:_,prefixCls:t.prefixCls,key:Y,record:S,index:g,renderIndex:x,dataIndex:B,render:Le,shouldCellUpdate:o.shouldCellUpdate},q,{appendNode:Q,additionalProps:(0,fe.Z)((0,fe.Z)({},re),{},{style:Ie},ze)}))}var Lk=zk,Nk=["data","index","className","rowKey","style","extra","getHeight"],Bk=s.forwardRef(function(e,t){var o=e.data,i=e.index,u=e.className,g=e.rowKey,_=e.style,x=e.extra,S=e.getHeight,T=(0,Ve.Z)(e,Nk),M=o.record,R=o.indent,N=o.index,F=Kc(gu,["prefixCls","flattenColumns","fixColumn","componentWidth","scrollX"]),B=F.scrollX,V=F.flattenColumns,j=F.prefixCls,H=F.fixColumn,U=F.componentWidth,K=Kc(c2,["getComponent"]),Y=K.getComponent,q=eP(M,g,i,R),Q=Y(["body","row"],"div"),re=Y(["body","cell"],"div"),ae=q.rowSupportExpand,se=q.expanded,de=q.rowProps,pe=q.expandedRowRender,ge=q.expandedRowClassName,me;if(ae&&se){var be=pe(M,i,R+1,se),_e=nP(ge,M,i,R),Ie={};H&&(Ie={style:(0,Ee.Z)({},"--virtual-width","".concat(U,"px"))});var Ce="".concat(j,"-expanded-row-cell");me=s.createElement(Q,{className:oe()("".concat(j,"-expanded-row"),"".concat(j,"-expanded-row-level-").concat(R+1),_e)},s.createElement(Wv,{component:re,prefixCls:j,className:oe()(Ce,(0,Ee.Z)({},"".concat(Ce,"-fixed"),H)),additionalProps:Ie},be))}var Le=(0,fe.Z)((0,fe.Z)({},_),{},{width:B});x&&(Le.position="absolute",Le.pointerEvents="none");var ze=s.createElement(Q,(0,Pt.Z)({},de,T,{"data-row-key":g,ref:ae?null:t,className:oe()(u,"".concat(j,"-row"),de==null?void 0:de.className,(0,Ee.Z)({},"".concat(j,"-row-extra"),x)),style:(0,fe.Z)((0,fe.Z)({},Le),de==null?void 0:de.style)}),V.map(function(ke,Ze){return s.createElement(Lk,{key:Ze,component:re,rowInfo:q,column:ke,colIndex:Ze,indent:R,index:i,renderIndex:N,record:M,inverse:x,getHeight:S})}));return ae?s.createElement("div",{ref:t},ze,me):ze}),Fk=Uv(Bk),vP=Fk,kk=s.forwardRef(function(e,t){var o=e.data,i=e.onScroll,u=Kc(gu,["flattenColumns","onColumnResize","getRowKey","prefixCls","expandedKeys","childrenColumnName","scrollX","direction"]),g=u.flattenColumns,_=u.onColumnResize,x=u.getRowKey,S=u.expandedKeys,T=u.prefixCls,M=u.childrenColumnName,R=u.scrollX,N=u.direction,F=Kc(c2),B=F.sticky,V=F.scrollY,j=F.listItemHeight,H=F.getComponent,U=F.onScroll,K=s.useRef(),Y=QM(o,M,S,x),q=s.useMemo(function(){var me=0;return g.map(function(be){var _e=be.width,Ie=be.key;return me+=_e,[Ie,_e,me]})},[g]),Q=s.useMemo(function(){return q.map(function(me){return me[2]})},[q]);s.useEffect(function(){q.forEach(function(me){var be=(0,ve.Z)(me,2),_e=be[0],Ie=be[1];_(_e,Ie)})},[q]),s.useImperativeHandle(t,function(){var me,be={scrollTo:function(Ie){var Ce;(Ce=K.current)===null||Ce===void 0||Ce.scrollTo(Ie)},nativeElement:(me=K.current)===null||me===void 0?void 0:me.nativeElement};return Object.defineProperty(be,"scrollLeft",{get:function(){var Ie;return((Ie=K.current)===null||Ie===void 0?void 0:Ie.getScrollInfo().x)||0},set:function(Ie){var Ce;(Ce=K.current)===null||Ce===void 0||Ce.scrollTo({left:Ie})}}),be});var re=function(be,_e){var Ie,Ce=(Ie=Y[_e])===null||Ie===void 0?void 0:Ie.record,Le=be.onCell;if(Le){var ze,ke=Le(Ce,_e);return(ze=ke==null?void 0:ke.rowSpan)!==null&&ze!==void 0?ze:1}return 1},ae=function(be){var _e=be.start,Ie=be.end,Ce=be.getSize,Le=be.offsetY;if(Ie<0)return null;for(var ze=g.filter(function(ct){return re(ct,_e)===0}),ke=_e,Ze=function(ht){if(ze=ze.filter(function(ut){return re(ut,ht)===0}),!ze.length)return ke=ht,1},je=_e;je>=0&&!Ze(je);je-=1);for(var Ue=g.filter(function(ct){return re(ct,Ie)!==1}),He=Ie,Qe=function(ht){if(Ue=Ue.filter(function(ut){return re(ut,ht)!==1}),!Ue.length)return He=Math.max(ht-1,Ie),1},We=Ie;We<Y.length&&!Qe(We);We+=1);for(var it=[],Je=function(ht){var ut=Y[ht];if(!ut)return 1;g.some(function(tt){return re(tt,ht)>1})&&it.push(ht)},wt=ke;wt<=He;wt+=1)Je(wt);var Dt=it.map(function(ct){var ht=Y[ct],ut=x(ht.record,ct),tt=function(dn){var on=ct+dn-1,Ut=x(Y[on].record,on),en=Ce(ut,Ut);return en.bottom-en.top},xt=Ce(ut);return s.createElement(vP,{key:ct,data:ht,rowKey:ut,index:ct,style:{top:-Le+xt.top},extra:!0,getHeight:tt})});return Dt},se=s.useMemo(function(){return{columnsOffset:Q}},[Q]),de="".concat(T,"-tbody"),pe=H(["body","wrapper"]),ge={};return B&&(ge.position="sticky",ge.bottom=0,(0,Tt.Z)(B)==="object"&&B.offsetScroll&&(ge.bottom=B.offsetScroll)),s.createElement(gP.Provider,{value:se},s.createElement(qp.Z,{fullHeight:!1,ref:K,prefixCls:"".concat(de,"-virtual"),styles:{horizontalScrollBar:ge},className:de,height:V,itemHeight:j||24,data:Y,itemKey:function(be){return x(be.record)},component:pe,scrollWidth:R,direction:N,onVirtualScroll:function(be){var _e,Ie=be.x;i({currentTarget:(_e=K.current)===null||_e===void 0?void 0:_e.nativeElement,scrollLeft:Ie})},onScroll:U,extraRender:ae},function(me,be,_e){var Ie=x(me.record,be);return s.createElement(vP,{data:me,rowKey:Ie,index:be,style:_e.style})}))}),jk=Uv(kk),Zk=jk,Vk=function(t,o){var i=o.ref,u=o.onScroll;return s.createElement(Zk,{ref:i,data:t,onScroll:u})};function Hk(e,t){var o=e.data,i=e.columns,u=e.scroll,g=e.sticky,_=e.prefixCls,x=_===void 0?pP:_,S=e.className,T=e.listItemHeight,M=e.components,R=e.onScroll,N=u||{},F=N.x,B=N.y;typeof F!="number"&&(F=1),typeof B!="number"&&(B=500);var V=(0,Qi.zX)(function(U,K){return(0,n2.Z)(M,U)||K}),j=(0,Qi.zX)(R),H=s.useMemo(function(){return{sticky:g,scrollY:B,listItemHeight:T,getComponent:V,onScroll:j}},[g,B,T,V,j]);return s.createElement(c2.Provider,{value:H},s.createElement(Ak,(0,Pt.Z)({},e,{className:oe()(S,"".concat(x,"-virtual")),scroll:(0,fe.Z)((0,fe.Z)({},u),{},{x:F}),components:(0,fe.Z)((0,fe.Z)({},M),{},{body:o!=null&&o.length?Vk:void 0}),columns:i,internalHooks:ib,tailor:!0,ref:t})))}var Uk=s.forwardRef(Hk);function yP(e){return WM(Uk,e)}var WW=yP(),GW=null,Wk=e=>null,Gk=e=>null,u2=he(44443);function d2(e){const[t,o]=(0,s.useState)(null);return[(0,s.useCallback)((g,_,x)=>{const S=t!=null?t:g,T=Math.min(S||0,g),M=Math.max(S||0,g),R=_.slice(T,M+1).map(B=>e(B)),N=R.some(B=>!x.has(B)),F=[];return R.forEach(B=>{N?(x.has(B)||F.push(B),x.add(B)):(x.delete(B),F.push(B))}),o(N?M:null),F},[t]),g=>{o(g)}]}const Tm={},f2="SELECT_ALL",h2="SELECT_INVERT",p2="SELECT_NONE",_P=[],bP=(e,t)=>{let o=[];return(t||[]).forEach(i=>{o.push(i),i&&typeof i=="object"&&e in i&&(o=[].concat((0,Be.Z)(o),(0,Be.Z)(bP(e,i[e]))))}),o};var Xk=(e,t)=>{const{preserveSelectedRowKeys:o,selectedRowKeys:i,defaultSelectedRowKeys:u,getCheckboxProps:g,onChange:_,onSelect:x,onSelectAll:S,onSelectInvert:T,onSelectNone:M,onSelectMultiple:R,columnWidth:N,type:F,selections:B,fixed:V,renderCell:j,hideSelectAll:H,checkStrictly:U=!0}=t||{},{prefixCls:K,data:Y,pageData:q,getRecordByKey:Q,getRowKey:re,expandType:ae,childrenColumnName:se,locale:de,getPopupContainer:pe}=e,ge=(0,Fe.ln)("Table"),[me,be]=d2(ct=>ct),[_e,Ie]=(0,Jo.Z)(i||u||_P,{value:i}),Ce=s.useRef(new Map),Le=(0,s.useCallback)(ct=>{if(o){const ht=new Map;ct.forEach(ut=>{let tt=Q(ut);!tt&&Ce.current.has(ut)&&(tt=Ce.current.get(ut)),ht.set(ut,tt)}),Ce.current=ht}},[Q,o]);s.useEffect(()=>{Le(_e)},[_e]);const ze=(0,s.useMemo)(()=>bP(se,q),[se,q]),{keyEntities:ke}=(0,s.useMemo)(()=>{if(U)return{keyEntities:null};let ct=Y;if(o){const ht=new Set(ze.map((tt,xt)=>re(tt,xt))),ut=Array.from(Ce.current).reduce((tt,xt)=>{let[_t,dn]=xt;return ht.has(_t)?tt:tt.concat(dn)},[]);ct=[].concat((0,Be.Z)(ct),(0,Be.Z)(ut))}return(0,Jg.I8)(ct,{externalGetKey:re,childrenPropName:se})},[Y,re,U,se,o,ze]),Ze=(0,s.useMemo)(()=>{const ct=new Map;return ze.forEach((ht,ut)=>{const tt=re(ht,ut),xt=(g?g(ht):null)||{};ct.set(tt,xt)}),ct},[ze,re,g]),je=(0,s.useCallback)(ct=>{const ht=re(ct);let ut;return Ze.has(ht)?ut=Ze.get(re(ct)):ut=g?g(ct):void 0,!!(ut!=null&&ut.disabled)},[Ze,re]),[Ue,He]=(0,s.useMemo)(()=>{if(U)return[_e||[],[]];const{checkedKeys:ct,halfCheckedKeys:ht}=(0,bp.S)(_e,!0,ke,je);return[ct||[],ht]},[_e,U,ke,je]),Qe=(0,s.useMemo)(()=>{const ct=F==="radio"?Ue.slice(0,1):Ue;return new Set(ct)},[Ue,F]),We=(0,s.useMemo)(()=>F==="radio"?new Set:new Set(He),[He,F]);s.useEffect(()=>{t||Ie(_P)},[!!t]);const it=(0,s.useCallback)((ct,ht)=>{let ut,tt;Le(ct),o?(ut=ct,tt=ct.map(xt=>Ce.current.get(xt))):(ut=[],tt=[],ct.forEach(xt=>{const _t=Q(xt);_t!==void 0&&(ut.push(xt),tt.push(_t))})),Ie(ut),_==null||_(ut,tt,{type:ht})},[Ie,Q,_,o]),Je=(0,s.useCallback)((ct,ht,ut,tt)=>{if(x){const xt=ut.map(_t=>Q(_t));x(Q(ct),ht,xt,tt)}it(ut,"single")},[x,Q,it]),wt=(0,s.useMemo)(()=>!B||H?null:(B===!0?[f2,h2,p2]:B).map(ht=>ht===f2?{key:"all",text:de.selectionAll,onSelect(){it(Y.map((ut,tt)=>re(ut,tt)).filter(ut=>{const tt=Ze.get(ut);return!(tt!=null&&tt.disabled)||Qe.has(ut)}),"all")}}:ht===h2?{key:"invert",text:de.selectInvert,onSelect(){const ut=new Set(Qe);q.forEach((xt,_t)=>{const dn=re(xt,_t),on=Ze.get(dn);on!=null&&on.disabled||(ut.has(dn)?ut.delete(dn):ut.add(dn))});const tt=Array.from(ut);T&&(ge.deprecated(!1,"onSelectInvert","onChange"),T(tt)),it(tt,"invert")}}:ht===p2?{key:"none",text:de.selectNone,onSelect(){M==null||M(),it(Array.from(Qe).filter(ut=>{const tt=Ze.get(ut);return tt==null?void 0:tt.disabled}),"none")}}:ht).map(ht=>Object.assign(Object.assign({},ht),{onSelect:function(){for(var ut,tt,xt=arguments.length,_t=new Array(xt),dn=0;dn<xt;dn++)_t[dn]=arguments[dn];(tt=ht.onSelect)===null||tt===void 0||(ut=tt).call.apply(ut,[ht].concat(_t)),be(null)}})),[B,Qe,q,re,T,it]);return[(0,s.useCallback)(ct=>{var ht;if(!t)return ct.filter(er=>er!==Tm);let ut=(0,Be.Z)(ct);const tt=new Set(Qe),xt=ze.map(re).filter(er=>!Ze.get(er).disabled),_t=xt.every(er=>tt.has(er)),dn=xt.some(er=>tt.has(er)),on=()=>{const er=[];_t?xt.forEach(pr=>{tt.delete(pr),er.push(pr)}):xt.forEach(pr=>{tt.has(pr)||(tt.add(pr),er.push(pr))});const Ir=Array.from(tt);S==null||S(!_t,Ir.map(pr=>Q(pr)),er.map(pr=>Q(pr))),it(Ir,"all"),be(null)};let Ut,en;if(F!=="radio"){let er;if(wt){const fn={getPopupContainer:pe,items:wt.map((yn,Gt)=>{const{key:Kn,text:vr,onSelect:Jr}=yn;return{key:Kn!=null?Kn:Gt,onClick:()=>{Jr==null||Jr(xt)},label:vr}})};er=s.createElement("div",{className:`${K}-selection-extra`},s.createElement(Ux,{menu:fn,getPopupContainer:pe},s.createElement("span",null,s.createElement(em.Z,null))))}const Ir=ze.map((fn,yn)=>{const Gt=re(fn,yn),Kn=Ze.get(Gt)||{};return Object.assign({checked:tt.has(Gt)},Kn)}).filter(fn=>{let{disabled:yn}=fn;return yn}),pr=!!Ir.length&&Ir.length===ze.length,Zr=pr&&Ir.every(fn=>{let{checked:yn}=fn;return yn}),xn=pr&&Ir.some(fn=>{let{checked:yn}=fn;return yn});en=s.createElement(Qg,{checked:pr?Zr:!!ze.length&&_t,indeterminate:pr?!Zr&&xn:!_t&&dn,onChange:on,disabled:ze.length===0||pr,"aria-label":er?"Custom selection":"Select all",skipGroup:!0}),Ut=!H&&s.createElement("div",{className:`${K}-selection`},en,er)}let kt;F==="radio"?kt=(er,Ir,pr)=>{const Zr=re(Ir,pr),xn=tt.has(Zr),fn=Ze.get(Zr);return{node:s.createElement(KS,Object.assign({},fn,{checked:xn,onClick:yn=>{var Gt;yn.stopPropagation(),(Gt=fn==null?void 0:fn.onClick)===null||Gt===void 0||Gt.call(fn,yn)},onChange:yn=>{var Gt;tt.has(Zr)||Je(Zr,!0,[Zr],yn.nativeEvent),(Gt=fn==null?void 0:fn.onChange)===null||Gt===void 0||Gt.call(fn,yn)}})),checked:xn}}:kt=(er,Ir,pr)=>{var Zr;const xn=re(Ir,pr),fn=tt.has(xn),yn=We.has(xn),Gt=Ze.get(xn);let Kn;return ae==="nest"?Kn=yn:Kn=(Zr=Gt==null?void 0:Gt.indeterminate)!==null&&Zr!==void 0?Zr:yn,{node:s.createElement(Qg,Object.assign({},Gt,{indeterminate:Kn,checked:fn,skipGroup:!0,onClick:vr=>{var Jr;vr.stopPropagation(),(Jr=Gt==null?void 0:Gt.onClick)===null||Jr===void 0||Jr.call(Gt,vr)},onChange:vr=>{var Jr;const{nativeEvent:Hi}=vr,{shiftKey:Gi}=Hi,Zi=xt.findIndex(Do=>Do===xn),Fa=Ue.some(Do=>xt.includes(Do));if(Gi&&U&&Fa){const Do=me(Zi,xt,tt),zo=Array.from(tt);R==null||R(!fn,zo.map(oo=>Q(oo)),Do.map(oo=>Q(oo))),it(zo,"multiple")}else{const Do=Ue;if(U){const zo=fn?(0,u2._5)(Do,xn):(0,u2.L0)(Do,xn);Je(xn,!fn,zo,Hi)}else{const zo=(0,bp.S)([].concat((0,Be.Z)(Do),[xn]),!0,ke,je),{checkedKeys:oo,halfCheckedKeys:Uo}=zo;let ua=oo;if(fn){const xi=new Set(oo);xi.delete(xn),ua=(0,bp.S)(Array.from(xi),{checked:!1,halfCheckedKeys:Uo},ke,je).checkedKeys}Je(xn,!fn,ua,Hi)}}be(fn?null:Zi),(Jr=Gt==null?void 0:Gt.onChange)===null||Jr===void 0||Jr.call(Gt,vr)}})),checked:fn}};const cn=(er,Ir,pr)=>{const{node:Zr,checked:xn}=kt(er,Ir,pr);return j?j(xn,Ir,pr,Zr):Zr};if(!ut.includes(Tm))if(ut.findIndex(er=>{var Ir;return((Ir=er[ob])===null||Ir===void 0?void 0:Ir.columnType)==="EXPAND_COLUMN"})===0){const[er,...Ir]=ut;ut=[er,Tm].concat((0,Be.Z)(Ir))}else ut=[Tm].concat((0,Be.Z)(ut));const zn=ut.indexOf(Tm);ut=ut.filter((er,Ir)=>er!==Tm||Ir===zn);const An=ut[zn-1],sr=ut[zn+1];let yr=V;yr===void 0&&((sr==null?void 0:sr.fixed)!==void 0?yr=sr.fixed:(An==null?void 0:An.fixed)!==void 0&&(yr=An.fixed)),yr&&An&&((ht=An[ob])===null||ht===void 0?void 0:ht.columnType)==="EXPAND_COLUMN"&&An.fixed===void 0&&(An.fixed=yr);const Vr=oe()(`${K}-selection-col`,{[`${K}-selection-col-with-dropdown`]:B&&F==="checkbox"}),Qn=()=>t!=null&&t.columnTitle?typeof t.columnTitle=="function"?t.columnTitle(en):t.columnTitle:Ut,Un={fixed:yr,width:N,className:`${K}-selection-column`,title:Qn(),render:cn,onCell:t.onCell,[ob]:{className:Vr}};return ut.map(er=>er===Tm?Un:er)},[re,ze,t,Ue,Qe,We,N,wt,ae,Ze,R,Je,je]),Qe]};function qk(e,t){return e._antProxy=e._antProxy||{},Object.keys(t).forEach(o=>{if(!(o in e._antProxy)){const i=e[o];e._antProxy[o]=i,e[o]=t[o]}}),e}function Kk(e,t){return(0,s.useImperativeHandle)(e,()=>{const o=t(),{nativeElement:i}=o;return typeof Proxy!="undefined"?new Proxy(i,{get(u,g){return o[g]?o[g]:Reflect.get(u,g)}}):qk(i,o)})}function Yk(e){return t=>{const{prefixCls:o,onExpand:i,record:u,expanded:g,expandable:_}=t,x=`${o}-row-expand-icon`;return s.createElement("button",{type:"button",onClick:S=>{i(u,S),S.stopPropagation()},className:oe()(x,{[`${x}-spaced`]:!_,[`${x}-expanded`]:_&&g,[`${x}-collapsed`]:_&&!g}),"aria-label":g?e.collapse:e.expand,"aria-expanded":g})}}var Jk=Yk;function Qk(e){return(o,i)=>{const u=o.querySelector(`.${e}-container`);let g=i;if(u){const _=getComputedStyle(u),x=parseInt(_.borderLeftWidth,10),S=parseInt(_.borderRightWidth,10);g=i-x-S}return g}}const Mm=(e,t)=>"key"in e&&e.key!==void 0&&e.key!==null?e.key:e.dataIndex?Array.isArray(e.dataIndex)?e.dataIndex.join("."):e.dataIndex:t;function Xv(e,t){return t?`${t}-${e}`:`${e}`}const fC=(e,t)=>typeof e=="function"?e(t):e,e8=(e,t)=>{const o=fC(e,t);return Object.prototype.toString.call(o)==="[object Object]"?"":o};var t8={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z"}}]},name:"filter",theme:"filled"},n8=t8,r8=function(t,o){return s.createElement(Fn.Z,(0,Pt.Z)({},t,{ref:o,icon:n8}))},i8=s.forwardRef(r8),o8=i8;function a8(e){const t=s.useRef(e),o=(0,YS.Z)();return[()=>t.current,i=>{t.current=i,o()}]}var hC=he(91606),s8={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"},l8=s8,c8=function(t,o){return s.createElement(Fn.Z,(0,Pt.Z)({},t,{ref:o,icon:l8}))},u8=s.forwardRef(c8),xP=u8,d8={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"},f8=d8,h8=function(t,o){return s.createElement(Fn.Z,(0,Pt.Z)({},t,{ref:o,icon:f8}))},p8=s.forwardRef(h8),m8=p8,g8={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"},v8=g8,y8=function(t,o){return s.createElement(Fn.Z,(0,Pt.Z)({},t,{ref:o,icon:v8}))},_8=s.forwardRef(y8),b8=_8,x8={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"},C8=x8,w8=function(t,o){return s.createElement(Fn.Z,(0,Pt.Z)({},t,{ref:o,icon:C8}))},S8=s.forwardRef(w8),E8=S8;const I8=e=>{let{treeCls:t,treeNodeCls:o,directoryNodeSelectedBg:i,directoryNodeSelectedColor:u,motionDurationMid:g,borderRadius:_,controlItemBgHover:x}=e;return{[`${t}${t}-directory ${o}`]:{[`${t}-node-content-wrapper`]:{position:"static",[`> *:not(${t}-drop-indicator)`]:{position:"relative"},"&:hover":{background:"transparent"},"&:before":{position:"absolute",inset:0,transition:`background-color ${g}`,content:'""',borderRadius:_},"&:hover:before":{background:x}},[`${t}-switcher, ${t}-checkbox, ${t}-draggable-icon`]:{zIndex:1},"&-selected":{[`${t}-switcher, ${t}-draggable-icon`]:{color:u},[`${t}-node-content-wrapper`]:{color:u,background:"transparent","&:before, &:hover:before":{background:i}}}}}},T8=new J.E4("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),M8=(e,t)=>({[`.${e}-switcher-icon`]:{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:`transform ${t.motionDurationSlow}`}}}),P8=(e,t)=>({[`.${e}-drop-indicator`]:{position:"absolute",zIndex:1,height:2,backgroundColor:t.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:`${(0,J.bf)(t.lineWidthBold)} solid ${t.colorPrimary}`,borderRadius:"50%",content:'""'}}}),O8=(e,t)=>{const{treeCls:o,treeNodeCls:i,treeNodePadding:u,titleHeight:g,indentSize:_,nodeSelectedBg:x,nodeHoverBg:S,colorTextQuaternary:T,controlItemBgActiveDisabled:M}=t;return{[o]:Object.assign(Object.assign({},(0,mn.Wf)(t)),{background:t.colorBgContainer,borderRadius:t.borderRadius,transition:`background-color ${t.motionDurationSlow}`,"&-rtl":{direction:"rtl"},[`&${o}-rtl ${o}-switcher_close ${o}-switcher-icon svg`]:{transform:"rotate(90deg)"},[`&-focused:not(:hover):not(${o}-active-focused)`]:Object.assign({},(0,mn.oN)(t)),[`${o}-list-holder-inner`]:{alignItems:"flex-start"},[`&${o}-block-node`]:{[`${o}-list-holder-inner`]:{alignItems:"stretch",[`${o}-node-content-wrapper`]:{flex:"auto"},[`${i}.dragging:after`]:{position:"absolute",inset:0,border:`1px solid ${t.colorPrimary}`,opacity:0,animationName:T8,animationDuration:t.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none",borderRadius:t.borderRadius}}},[i]:{display:"flex",alignItems:"flex-start",marginBottom:u,lineHeight:(0,J.bf)(g),position:"relative","&:before":{content:'""',position:"absolute",zIndex:1,insetInlineStart:0,width:"100%",top:"100%",height:u},[`&-disabled ${o}-node-content-wrapper`]:{color:t.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}},[`${o}-checkbox-disabled + ${o}-node-selected,&${i}-disabled${i}-selected ${o}-node-content-wrapper`]:{backgroundColor:M},[`${o}-checkbox-disabled`]:{pointerEvents:"unset"},[`&:not(${i}-disabled)`]:{[`${o}-node-content-wrapper`]:{"&:hover":{color:t.nodeHoverColor}}},[`&-active ${o}-node-content-wrapper`]:{background:t.controlItemBgHover},[`&:not(${i}-disabled).filter-node ${o}-title`]:{color:t.colorPrimary,fontWeight:500},"&-draggable":{cursor:"grab",[`${o}-draggable-icon`]:{flexShrink:0,width:g,textAlign:"center",visibility:"visible",color:T},[`&${i}-disabled ${o}-draggable-icon`]:{visibility:"hidden"}}},[`${o}-indent`]:{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:_}},[`${o}-draggable-icon`]:{visibility:"hidden"},[`${o}-switcher, ${o}-checkbox`]:{marginInlineEnd:t.calc(t.calc(g).sub(t.controlInteractiveSize)).div(2).equal()},[`${o}-switcher`]:Object.assign(Object.assign({},M8(e,t)),{position:"relative",flex:"none",alignSelf:"stretch",width:g,textAlign:"center",cursor:"pointer",userSelect:"none",transition:`all ${t.motionDurationSlow}`,"&-noop":{cursor:"unset"},"&:before":{pointerEvents:"none",content:'""',width:g,height:g,position:"absolute",left:{_skip_check_:!0,value:0},top:0,borderRadius:t.borderRadius,transition:`all ${t.motionDurationSlow}`},[`&:not(${o}-switcher-noop):hover:before`]:{backgroundColor:t.colorBgTextHover},[`&_close ${o}-switcher-icon svg`]:{transform:"rotate(-90deg)"},"&-loading-icon":{color:t.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:t.calc(g).div(2).equal(),bottom:t.calc(u).mul(-1).equal(),marginInlineStart:-1,borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&:after":{position:"absolute",width:t.calc(t.calc(g).div(2).equal()).mul(.8).equal(),height:t.calc(g).div(2).equal(),borderBottom:`1px solid ${t.colorBorder}`,content:'""'}}}),[`${o}-node-content-wrapper`]:Object.assign(Object.assign({position:"relative",minHeight:g,paddingBlock:0,paddingInline:t.paddingXS,background:"transparent",borderRadius:t.borderRadius,cursor:"pointer",transition:`all ${t.motionDurationMid}, border 0s, line-height 0s, box-shadow 0s`},P8(e,t)),{"&:hover":{backgroundColor:S},[`&${o}-node-selected`]:{color:t.nodeSelectedColor,backgroundColor:x},[`${o}-iconEle`]:{display:"inline-block",width:g,height:g,textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}}),[`${o}-unselectable ${o}-node-content-wrapper:hover`]:{backgroundColor:"transparent"},[`${i}.drop-container > [draggable]`]:{boxShadow:`0 0 0 2px ${t.colorPrimary}`},"&-show-line":{[`${o}-indent-unit`]:{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:t.calc(g).div(2).equal(),bottom:t.calc(u).mul(-1).equal(),borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&-end:before":{display:"none"}},[`${o}-switcher`]:{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}},[`${i}-leaf-last ${o}-switcher-leaf-line:before`]:{top:"auto !important",bottom:"auto !important",height:`${(0,J.bf)(t.calc(g).div(2).equal())} !important`}})}},CP=(e,t)=>{const o=`.${e}`,i=`${o}-treenode`,u=t.calc(t.paddingXS).div(2).equal(),g=(0,vn.IX)(t,{treeCls:o,treeNodeCls:i,treeNodePadding:u});return[O8(e,g),I8(g)]},wP=e=>{const{controlHeightSM:t,controlItemBgHover:o,controlItemBgActive:i}=e,u=t;return{titleHeight:u,indentSize:u,nodeHoverBg:o,nodeHoverColor:e.colorText,nodeSelectedBg:i,nodeSelectedColor:e.colorText}},$8=e=>{const{colorTextLightSolid:t,colorPrimary:o}=e;return Object.assign(Object.assign({},wP(e)),{directoryNodeSelectedColor:t,directoryNodeSelectedBg:o})};var R8=(0,Ae.I$)("Tree",(e,t)=>{let{prefixCls:o}=t;return[{[e.componentCls]:Vx(`${o}-checkbox`,e)},CP(o,e),(0,pd.Z)(e)]},$8);const SP=4;function A8(e){const{dropPosition:t,dropLevelOffset:o,prefixCls:i,indent:u,direction:g="ltr"}=e,_=g==="ltr"?"left":"right",x=g==="ltr"?"right":"left",S={[_]:-o*u+SP,[x]:0};switch(t){case-1:S.top=-3;break;case 1:S.bottom=-3;break;default:S.bottom=-3,S[_]=u+SP;break}return s.createElement("div",{style:S,className:`${i}-drop-indicator`})}var D8=A8,z8={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"},L8=z8,N8=function(t,o){return s.createElement(Fn.Z,(0,Pt.Z)({},t,{ref:o,icon:L8}))},B8=s.forwardRef(N8),F8=B8,k8={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"},j8=k8,Z8=function(t,o){return s.createElement(Fn.Z,(0,Pt.Z)({},t,{ref:o,icon:j8}))},V8=s.forwardRef(Z8),H8=V8,U8={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"},W8=U8,G8=function(t,o){return s.createElement(Fn.Z,(0,Pt.Z)({},t,{ref:o,icon:W8}))},X8=s.forwardRef(G8),q8=X8,EP=e=>{const{prefixCls:t,switcherIcon:o,treeNodeProps:i,showLine:u,switcherLoadingIcon:g}=e,{isLeaf:_,expanded:x,loading:S}=i;if(S)return s.isValidElement(g)?g:s.createElement(mo.Z,{className:`${t}-switcher-loading-icon`});let T;if(u&&typeof u=="object"&&(T=u.showLeafIcon),_){if(!u)return null;if(typeof T!="boolean"&&T){const N=typeof T=="function"?T(i):T,F=`${t}-switcher-line-custom-icon`;return s.isValidElement(N)?(0,wr.Tm)(N,{className:oe()(N.props.className||"",F)}):N}return T?s.createElement(xP,{className:`${t}-switcher-line-icon`}):s.createElement("span",{className:`${t}-switcher-leaf-line`})}const M=`${t}-switcher-icon`,R=typeof o=="function"?o(i):o;return s.isValidElement(R)?(0,wr.Tm)(R,{className:oe()(R.props.className||"",M)}):R!==void 0?R:u?x?s.createElement(H8,{className:`${t}-switcher-line-icon`}):s.createElement(q8,{className:`${t}-switcher-line-icon`}):s.createElement(F8,{className:M})},IP=s.forwardRef((e,t)=>{var o;const{getPrefixCls:i,direction:u,virtual:g,tree:_}=s.useContext(De.E_),{prefixCls:x,className:S,showIcon:T=!1,showLine:M,switcherIcon:R,switcherLoadingIcon:N,blockNode:F=!1,children:B,checkable:V=!1,selectable:j=!0,draggable:H,motion:U,style:K}=e,Y=i("tree",x),q=i(),Q=U!=null?U:Object.assign(Object.assign({},(0,Bi.Z)(q)),{motionAppear:!1}),re=Object.assign(Object.assign({},e),{checkable:V,selectable:j,showIcon:T,motion:Q,blockNode:F,showLine:!!M,dropIndicatorRender:D8}),[ae,se,de]=R8(Y),[,pe]=(0,Ur.ZP)(),ge=pe.paddingXS/2+(((o=pe.Tree)===null||o===void 0?void 0:o.titleHeight)||pe.controlHeightSM),me=s.useMemo(()=>{if(!H)return!1;let _e={};switch(typeof H){case"function":_e.nodeDraggable=H;break;case"object":_e=Object.assign({},H);break;default:break}return _e.icon!==!1&&(_e.icon=_e.icon||s.createElement(E8,null)),_e},[H]),be=_e=>s.createElement(EP,{prefixCls:Y,switcherIcon:R,switcherLoadingIcon:N,treeNodeProps:_e,showLine:M});return ae(s.createElement(hC.ZP,Object.assign({itemHeight:ge,ref:t,virtual:g},re,{style:Object.assign(Object.assign({},_==null?void 0:_.style),K),prefixCls:Y,className:oe()({[`${Y}-icon-hide`]:!T,[`${Y}-block-node`]:F,[`${Y}-unselectable`]:!j,[`${Y}-rtl`]:u==="rtl"},_==null?void 0:_.className,S,se,de),direction:u,checkable:V&&s.createElement("span",{className:`${Y}-checkbox-inner`}),selectable:j,switcherIcon:be,draggable:me}),B))});const TP=0,m2=1,MP=2;function g2(e,t,o){const{key:i,children:u}=o;function g(_){const x=_[i],S=_[u];t(x,_)!==!1&&g2(S||[],t,o)}e.forEach(g)}function K8(e){let{treeData:t,expandedKeys:o,startKey:i,endKey:u,fieldNames:g}=e;const _=[];let x=TP;if(i&&i===u)return[i];if(!i||!u)return[];function S(T){return T===i||T===u}return g2(t,T=>{if(x===MP)return!1;if(S(T)){if(_.push(T),x===TP)x=m2;else if(x===m2)return x=MP,!1}else x===m2&&_.push(T);return o.includes(T)},(0,Jg.w$)(g)),_}function v2(e,t,o){const i=(0,Be.Z)(t),u=[];return g2(e,(g,_)=>{const x=i.indexOf(g);return x!==-1&&(u.push(_),i.splice(x,1)),!!i.length},(0,Jg.w$)(o)),u}var PP=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};function Y8(e){const{isLeaf:t,expanded:o}=e;return t?s.createElement(xP,null):o?s.createElement(m8,null):s.createElement(b8,null)}function OP(e){let{treeData:t,children:o}=e;return t||(0,Jg.zn)(o)}const J8=(e,t)=>{var{defaultExpandAll:o,defaultExpandParent:i,defaultExpandedKeys:u}=e,g=PP(e,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]);const _=s.useRef(null),x=s.useRef(null),S=()=>{const{keyEntities:ae}=(0,Jg.I8)(OP(g));let se;return o?se=Object.keys(ae):i?se=(0,u2.r7)(g.expandedKeys||u||[],ae):se=g.expandedKeys||u||[],se},[T,M]=s.useState(g.selectedKeys||g.defaultSelectedKeys||[]),[R,N]=s.useState(()=>S());s.useEffect(()=>{"selectedKeys"in g&&M(g.selectedKeys)},[g.selectedKeys]),s.useEffect(()=>{"expandedKeys"in g&&N(g.expandedKeys)},[g.expandedKeys]);const F=(ae,se)=>{var de;return"expandedKeys"in g||N(ae),(de=g.onExpand)===null||de===void 0?void 0:de.call(g,ae,se)},B=(ae,se)=>{var de;const{multiple:pe,fieldNames:ge}=g,{node:me,nativeEvent:be}=se,{key:_e=""}=me,Ie=OP(g),Ce=Object.assign(Object.assign({},se),{selected:!0}),Le=(be==null?void 0:be.ctrlKey)||(be==null?void 0:be.metaKey),ze=be==null?void 0:be.shiftKey;let ke;pe&&Le?(ke=ae,_.current=_e,x.current=ke,Ce.selectedNodes=v2(Ie,ke,ge)):pe&&ze?(ke=Array.from(new Set([].concat((0,Be.Z)(x.current||[]),(0,Be.Z)(K8({treeData:Ie,expandedKeys:R,startKey:_e,endKey:_.current,fieldNames:ge}))))),Ce.selectedNodes=v2(Ie,ke,ge)):(ke=[_e],_.current=_e,x.current=ke,Ce.selectedNodes=v2(Ie,ke,ge)),(de=g.onSelect)===null||de===void 0||de.call(g,ke,Ce),"selectedKeys"in g||M(ke)},{getPrefixCls:V,direction:j}=s.useContext(De.E_),{prefixCls:H,className:U,showIcon:K=!0,expandAction:Y="click"}=g,q=PP(g,["prefixCls","className","showIcon","expandAction"]),Q=V("tree",H),re=oe()(`${Q}-directory`,{[`${Q}-directory-rtl`]:j==="rtl"},U);return s.createElement(IP,Object.assign({icon:Y8,ref:t,blockNode:!0},q,{showIcon:K,expandAction:Y,prefixCls:Q,className:re,expandedKeys:R,selectedKeys:T,onSelect:B,onExpand:F}))};var Q8=s.forwardRef(J8);const y2=IP;y2.DirectoryTree=Q8,y2.TreeNode=hC.OF;var $P=y2,RP=e=>{const{value:t,filterSearch:o,tablePrefixCls:i,locale:u,onChange:g}=e;return o?s.createElement("div",{className:`${i}-filter-dropdown-search`},s.createElement(t0,{prefix:s.createElement(Z0,null),placeholder:u.filterSearchPlaceholder,onChange:g,value:t,htmlSize:1,className:`${i}-filter-dropdown-search-input`})):null};const ej=e=>{const{keyCode:t}=e;t===nt.Z.ENTER&&e.stopPropagation()};var tj=s.forwardRef((e,t)=>s.createElement("div",{className:e.className,onClick:o=>o.stopPropagation(),onKeyDown:ej,ref:t},e.children));function qv(e){let t=[];return(e||[]).forEach(o=>{let{value:i,children:u}=o;t.push(i),u&&(t=[].concat((0,Be.Z)(t),(0,Be.Z)(qv(u))))}),t}function nj(e){return e.some(t=>{let{children:o}=t;return o})}function AP(e,t){return typeof t=="string"||typeof t=="number"?t==null?void 0:t.toString().toLowerCase().includes(e.trim().toLowerCase()):!1}function DP(e){let{filters:t,prefixCls:o,filteredKeys:i,filterMultiple:u,searchValue:g,filterSearch:_}=e;return t.map((x,S)=>{const T=String(x.value);if(x.children)return{key:T||S,label:x.text,popupClassName:`${o}-dropdown-submenu`,children:DP({filters:x.children,prefixCls:o,filteredKeys:i,filterMultiple:u,searchValue:g,filterSearch:_})};const M=u?Qg:KS,R={key:x.value!==void 0?T:S,label:s.createElement(s.Fragment,null,s.createElement(M,{checked:i.includes(T)}),s.createElement("span",null,x.text))};return g.trim()?typeof _=="function"?_(g,x)?R:null:AP(g,x.text)?R:null:R})}function _2(e){return e||[]}var rj=e=>{var t,o,i,u;const{tablePrefixCls:g,prefixCls:_,column:x,dropdownPrefixCls:S,columnKey:T,filterOnClose:M,filterMultiple:R,filterMode:N="menu",filterSearch:F=!1,filterState:B,triggerFilter:V,locale:j,children:H,getPopupContainer:U,rootClassName:K}=e,{filterResetToDefaultFilteredValue:Y,defaultFilteredValue:q,filterDropdownProps:Q={},filterDropdownOpen:re,filterDropdownVisible:ae,onFilterDropdownVisibleChange:se,onFilterDropdownOpenChange:de}=x,[pe,ge]=s.useState(!1),me=!!(B&&(!((t=B.filteredKeys)===null||t===void 0)&&t.length||B.forceFiltered)),be=kt=>{var cn;ge(kt),(cn=Q.onOpenChange)===null||cn===void 0||cn.call(Q,kt),de==null||de(kt),se==null||se(kt)},_e=(u=(i=(o=Q.open)!==null&&o!==void 0?o:re)!==null&&i!==void 0?i:ae)!==null&&u!==void 0?u:pe,Ie=B==null?void 0:B.filteredKeys,[Ce,Le]=a8(_2(Ie)),ze=kt=>{let{selectedKeys:cn}=kt;Le(cn)},ke=(kt,cn)=>{let{node:zn,checked:An}=cn;ze(R?{selectedKeys:kt}:{selectedKeys:An&&zn.key?[zn.key]:[]})};s.useEffect(()=>{pe&&ze({selectedKeys:_2(Ie)})},[Ie]);const[Ze,je]=s.useState([]),Ue=kt=>{je(kt)},[He,Qe]=s.useState(""),We=kt=>{const{value:cn}=kt.target;Qe(cn)};s.useEffect(()=>{pe||Qe("")},[pe]);const it=kt=>{const cn=kt!=null&&kt.length?kt:null;if(cn===null&&(!B||!B.filteredKeys)||(0,id.Z)(cn,B==null?void 0:B.filteredKeys,!0))return null;V({column:x,key:T,filteredKeys:cn})},Je=()=>{be(!1),it(Ce())},wt=function(){let{confirm:kt,closeDropdown:cn}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{confirm:!1,closeDropdown:!1};kt&&it([]),cn&&be(!1),Qe(""),Le(Y?(q||[]).map(zn=>String(zn)):[])},Dt=function(){let{closeDropdown:kt}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{closeDropdown:!0};kt&&be(!1),it(Ce())},ct=(kt,cn)=>{cn.source==="trigger"&&(kt&&Ie!==void 0&&Le(_2(Ie)),be(kt),!kt&&!x.filterDropdown&&M&&Je())},ht=oe()({[`${S}-menu-without-submenu`]:!nj(x.filters||[])}),ut=kt=>{if(kt.target.checked){const cn=qv(x==null?void 0:x.filters).map(zn=>String(zn));Le(cn)}else Le([])},tt=kt=>{let{filters:cn}=kt;return(cn||[]).map((zn,An)=>{const sr=String(zn.value),yr={title:zn.text,key:zn.value!==void 0?sr:String(An)};return zn.children&&(yr.children=tt({filters:zn.children})),yr})},xt=kt=>{var cn;return Object.assign(Object.assign({},kt),{text:kt.title,value:kt.key,children:((cn=kt.children)===null||cn===void 0?void 0:cn.map(zn=>xt(zn)))||[]})};let _t;const{direction:dn,renderEmpty:on}=s.useContext(De.E_);if(typeof x.filterDropdown=="function")_t=x.filterDropdown({prefixCls:`${S}-custom`,setSelectedKeys:kt=>ze({selectedKeys:kt}),selectedKeys:Ce(),confirm:Dt,clearFilters:wt,filters:x.filters,visible:_e,close:()=>{be(!1)}});else if(x.filterDropdown)_t=x.filterDropdown;else{const kt=Ce()||[],cn=()=>{var An,sr;const yr=(An=on==null?void 0:on("Table.filter"))!==null&&An!==void 0?An:s.createElement(Md,{image:Md.PRESENTED_IMAGE_SIMPLE,description:j.filterEmptyText,styles:{image:{height:24}},style:{margin:0,padding:"16px 0"}});if((x.filters||[]).length===0)return yr;if(N==="tree")return s.createElement(s.Fragment,null,s.createElement(RP,{filterSearch:F,value:He,onChange:We,tablePrefixCls:g,locale:j}),s.createElement("div",{className:`${g}-filter-dropdown-tree`},R?s.createElement(Qg,{checked:kt.length===qv(x.filters).length,indeterminate:kt.length>0&&kt.length<qv(x.filters).length,className:`${g}-filter-dropdown-checkall`,onChange:ut},(sr=j==null?void 0:j.filterCheckall)!==null&&sr!==void 0?sr:j==null?void 0:j.filterCheckAll):null,s.createElement($P,{checkable:!0,selectable:!1,blockNode:!0,multiple:R,checkStrictly:!R,className:`${S}-menu`,onCheck:ke,checkedKeys:kt,selectedKeys:kt,showIcon:!1,treeData:tt({filters:x.filters}),autoExpandParent:!0,defaultExpandAll:!0,filterTreeNode:He.trim()?Un=>typeof F=="function"?F(He,xt(Un)):AP(He,Un.title):void 0})));const Vr=DP({filters:x.filters||[],filterSearch:F,prefixCls:_,filteredKeys:Ce(),filterMultiple:R,searchValue:He}),Qn=Vr.every(Un=>Un===null);return s.createElement(s.Fragment,null,s.createElement(RP,{filterSearch:F,value:He,onChange:We,tablePrefixCls:g,locale:j}),Qn?yr:s.createElement(ph,{selectable:!0,multiple:R,prefixCls:`${S}-menu`,className:ht,onSelect:ze,onDeselect:ze,selectedKeys:kt,getPopupContainer:U,openKeys:Ze,onOpenChange:Ue,items:Vr}))},zn=()=>Y?(0,id.Z)((q||[]).map(An=>String(An)),kt,!0):kt.length===0;_t=s.createElement(s.Fragment,null,cn(),s.createElement("div",{className:`${_}-dropdown-btns`},s.createElement(Xl,{type:"link",size:"small",disabled:zn(),onClick:()=>wt()},j.filterReset),s.createElement(Xl,{type:"primary",size:"small",onClick:Je},j.filterConfirm)))}x.filterDropdown&&(_t=s.createElement(c_,{selectable:void 0},_t)),_t=s.createElement(tj,{className:`${_}-dropdown`},_t);const en=VS({trigger:["click"],placement:dn==="rtl"?"bottomLeft":"bottomRight",children:(()=>{let kt;return typeof x.filterIcon=="function"?kt=x.filterIcon(me):x.filterIcon?kt=x.filterIcon:kt=s.createElement(o8,null),s.createElement("span",{role:"button",tabIndex:-1,className:oe()(`${_}-trigger`,{active:me}),onClick:cn=>{cn.stopPropagation()}},kt)})(),getPopupContainer:U},Object.assign(Object.assign({},Q),{rootClassName:oe()(K,Q.rootClassName),open:_e,onOpenChange:ct,dropdownRender:()=>typeof(Q==null?void 0:Q.dropdownRender)=="function"?Q.dropdownRender(_t):_t}));return s.createElement("div",{className:`${_}-column`},s.createElement("span",{className:`${g}-column-title`},H),s.createElement(Ux,Object.assign({},en)))};const b2=(e,t,o)=>{let i=[];return(e||[]).forEach((u,g)=>{var _;const x=Xv(g,o);if(u.filters||"filterDropdown"in u||"onFilter"in u)if("filteredValue"in u){let S=u.filteredValue;"filterDropdown"in u||(S=(_=S==null?void 0:S.map(String))!==null&&_!==void 0?_:S),i.push({column:u,key:Mm(u,x),filteredKeys:S,forceFiltered:u.filtered})}else i.push({column:u,key:Mm(u,x),filteredKeys:t&&u.defaultFilteredValue?u.defaultFilteredValue:void 0,forceFiltered:u.filtered});"children"in u&&(i=[].concat((0,Be.Z)(i),(0,Be.Z)(b2(u.children,t,x))))}),i};function zP(e,t,o,i,u,g,_,x,S){return o.map((T,M)=>{const R=Xv(M,x),{filterOnClose:N=!0,filterMultiple:F=!0,filterMode:B,filterSearch:V}=T;let j=T;if(j.filters||j.filterDropdown){const H=Mm(j,R),U=i.find(K=>{let{key:Y}=K;return H===Y});j=Object.assign(Object.assign({},j),{title:K=>s.createElement(rj,{tablePrefixCls:e,prefixCls:`${e}-filter`,dropdownPrefixCls:t,column:j,columnKey:H,filterState:U,filterOnClose:N,filterMultiple:F,filterMode:B,filterSearch:V,triggerFilter:g,locale:u,getPopupContainer:_,rootClassName:S},fC(T.title,K))})}return"children"in j&&(j=Object.assign(Object.assign({},j),{children:zP(e,t,j.children,i,u,g,_,R,S)})),j})}const LP=e=>{const t={};return e.forEach(o=>{let{key:i,filteredKeys:u,column:g}=o;const _=i,{filters:x,filterDropdown:S}=g;if(S)t[_]=u||null;else if(Array.isArray(u)){const T=qv(x);t[_]=T.filter(M=>u.includes(String(M)))}else t[_]=null}),t},x2=(e,t,o)=>t.reduce((u,g)=>{const{column:{onFilter:_,filters:x},filteredKeys:S}=g;return _&&S&&S.length?u.map(T=>Object.assign({},T)).filter(T=>S.some(M=>{const R=qv(x),N=R.findIndex(B=>String(B)===String(M)),F=N!==-1?R[N]:M;return T[o]&&(T[o]=x2(T[o],t,o)),_(F,T)})):u},e),NP=e=>e.flatMap(t=>"children"in t?[t].concat((0,Be.Z)(NP(t.children||[]))):[t]);var ij=e=>{const{prefixCls:t,dropdownPrefixCls:o,mergedColumns:i,onFilterChange:u,getPopupContainer:g,locale:_,rootClassName:x}=e,S=(0,Fe.ln)("Table"),T=s.useMemo(()=>NP(i||[]),[i]),[M,R]=s.useState(()=>b2(T,!0)),N=s.useMemo(()=>{const j=b2(T,!1);if(j.length===0)return j;let H=!0,U=!0;if(j.forEach(K=>{let{filteredKeys:Y}=K;Y!==void 0?H=!1:U=!1}),H){const K=(T||[]).map((Y,q)=>Mm(Y,Xv(q)));return M.filter(Y=>{let{key:q}=Y;return K.includes(q)}).map(Y=>{const q=T[K.findIndex(Q=>Q===Y.key)];return Object.assign(Object.assign({},Y),{column:Object.assign(Object.assign({},Y.column),q),forceFiltered:q.filtered})})}return j},[T,M]),F=s.useMemo(()=>LP(N),[N]),B=j=>{const H=N.filter(U=>{let{key:K}=U;return K!==j.key});H.push(j),R(H),u(LP(H),H)};return[j=>zP(t,o,j,N,_,B,g,void 0,x),N,F]},oj=(e,t,o)=>{const i=s.useRef({});function u(g){var _;if(!i.current||i.current.data!==e||i.current.childrenColumnName!==t||i.current.getRowKey!==o){let S=function(T){T.forEach((M,R)=>{const N=o(M,R);x.set(N,M),M&&typeof M=="object"&&t in M&&S(M[t]||[])})};const x=new Map;S(e),i.current={data:e,childrenColumnName:t,kvMap:x,getRowKey:o}}return(_=i.current.kvMap)===null||_===void 0?void 0:_.get(g)}return[u]},aj=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};const BP=10;function sj(e,t){const o={current:e.current,pageSize:e.pageSize};return Object.keys(t&&typeof t=="object"?t:{}).forEach(u=>{const g=e[u];typeof g!="function"&&(o[u]=g)}),o}function lj(e,t,o){const i=o&&typeof o=="object"?o:{},{total:u=0}=i,g=aj(i,["total"]),[_,x]=(0,s.useState)(()=>({current:"defaultCurrent"in g?g.defaultCurrent:1,pageSize:"defaultPageSize"in g?g.defaultPageSize:BP})),S=VS(_,g,{total:u>0?u:e}),T=Math.ceil((u||e)/S.pageSize);S.current>T&&(S.current=T||1);const M=(N,F)=>{x({current:N!=null?N:1,pageSize:F||S.pageSize})},R=(N,F)=>{var B;o&&((B=o.onChange)===null||B===void 0||B.call(o,N,F)),M(N,F),t(N,F||(S==null?void 0:S.pageSize))};return o===!1?[{},()=>{}]:[Object.assign(Object.assign({},S),{onChange:R}),M]}var cj=lj,uj={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"},dj=uj,fj=function(t,o){return s.createElement(Fn.Z,(0,Pt.Z)({},t,{ref:o,icon:dj}))},hj=s.forwardRef(fj),pj=hj,mj={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"}}]},name:"caret-up",theme:"outlined"},gj=mj,vj=function(t,o){return s.createElement(Fn.Z,(0,Pt.Z)({},t,{ref:o,icon:gj}))},yj=s.forwardRef(vj),_j=yj;const pC="ascend",C2="descend",mC=e=>typeof e.sorter=="object"&&typeof e.sorter.multiple=="number"?e.sorter.multiple:!1,FP=e=>typeof e=="function"?e:e&&typeof e=="object"&&e.compare?e.compare:!1,bj=(e,t)=>t?e[e.indexOf(t)+1]:e[0],w2=(e,t,o)=>{let i=[];const u=(g,_)=>{i.push({column:g,key:Mm(g,_),multiplePriority:mC(g),sortOrder:g.sortOrder})};return(e||[]).forEach((g,_)=>{const x=Xv(_,o);g.children?("sortOrder"in g&&u(g,x),i=[].concat((0,Be.Z)(i),(0,Be.Z)(w2(g.children,t,x)))):g.sorter&&("sortOrder"in g?u(g,x):t&&g.defaultSortOrder&&i.push({column:g,key:Mm(g,x),multiplePriority:mC(g),sortOrder:g.defaultSortOrder}))}),i},kP=(e,t,o,i,u,g,_,x)=>(t||[]).map((T,M)=>{const R=Xv(M,x);let N=T;if(N.sorter){const F=N.sortDirections||u,B=N.showSorterTooltip===void 0?_:N.showSorterTooltip,V=Mm(N,R),j=o.find(se=>{let{key:de}=se;return de===V}),H=j?j.sortOrder:null,U=bj(F,H);let K;if(T.sortIcon)K=T.sortIcon({sortOrder:H});else{const se=F.includes(pC)&&s.createElement(_j,{className:oe()(`${e}-column-sorter-up`,{active:H===pC})}),de=F.includes(C2)&&s.createElement(pj,{className:oe()(`${e}-column-sorter-down`,{active:H===C2})});K=s.createElement("span",{className:oe()(`${e}-column-sorter`,{[`${e}-column-sorter-full`]:!!(se&&de)})},s.createElement("span",{className:`${e}-column-sorter-inner`,"aria-hidden":"true"},se,de))}const{cancelSort:Y,triggerAsc:q,triggerDesc:Q}=g||{};let re=Y;U===C2?re=Q:U===pC&&(re=q);const ae=typeof B=="object"?Object.assign({title:re},B):{title:re};N=Object.assign(Object.assign({},N),{className:oe()(N.className,{[`${e}-column-sort`]:H}),title:se=>{const de=`${e}-column-sorters`,pe=s.createElement("span",{className:`${e}-column-title`},fC(T.title,se)),ge=s.createElement("div",{className:de},pe,K);return B?typeof B!="boolean"&&(B==null?void 0:B.target)==="sorter-icon"?s.createElement("div",{className:`${de} ${e}-column-sorters-tooltip-target-sorter`},pe,s.createElement(Uc.Z,Object.assign({},ae),K)):s.createElement(Uc.Z,Object.assign({},ae),ge):ge},onHeaderCell:se=>{var de;const pe=((de=T.onHeaderCell)===null||de===void 0?void 0:de.call(T,se))||{},ge=pe.onClick,me=pe.onKeyDown;pe.onClick=Ie=>{i({column:T,key:V,sortOrder:U,multiplePriority:mC(T)}),ge==null||ge(Ie)},pe.onKeyDown=Ie=>{Ie.keyCode===nt.Z.ENTER&&(i({column:T,key:V,sortOrder:U,multiplePriority:mC(T)}),me==null||me(Ie))};const be=e8(T.title,{}),_e=be==null?void 0:be.toString();return H&&(pe["aria-sort"]=H==="ascend"?"ascending":"descending"),pe["aria-label"]=_e||"",pe.className=oe()(pe.className,`${e}-column-has-sorters`),pe.tabIndex=0,T.ellipsis&&(pe.title=(be!=null?be:"").toString()),pe}})}return"children"in N&&(N=Object.assign(Object.assign({},N),{children:kP(e,N.children,o,i,u,g,_,R)})),N}),jP=e=>{const{column:t,sortOrder:o}=e;return{column:t,order:o,field:t.dataIndex,columnKey:t.key}},ZP=e=>{const t=e.filter(o=>{let{sortOrder:i}=o;return i}).map(jP);if(t.length===0&&e.length){const o=e.length-1;return Object.assign(Object.assign({},jP(e[o])),{column:void 0,order:void 0,field:void 0,columnKey:void 0})}return t.length<=1?t[0]||{}:t},S2=(e,t,o)=>{const i=t.slice().sort((_,x)=>x.multiplePriority-_.multiplePriority),u=e.slice(),g=i.filter(_=>{let{column:{sorter:x},sortOrder:S}=_;return FP(x)&&S});return g.length?u.sort((_,x)=>{for(let S=0;S<g.length;S+=1){const T=g[S],{column:{sorter:M},sortOrder:R}=T,N=FP(M);if(N&&R){const F=N(_,x,R);if(F!==0)return R===pC?F:-F}}return 0}).map(_=>{const x=_[o];return x?Object.assign(Object.assign({},_),{[o]:S2(x,t,o)}):_}):u};var xj=e=>{const{prefixCls:t,mergedColumns:o,sortDirections:i,tableLocale:u,showSorterTooltip:g,onSorterChange:_}=e,[x,S]=s.useState(w2(o,!0)),T=(V,j)=>{const H=[];return V.forEach((U,K)=>{const Y=Xv(K,j);if(H.push(Mm(U,Y)),Array.isArray(U.children)){const q=T(U.children,Y);H.push.apply(H,(0,Be.Z)(q))}}),H},M=s.useMemo(()=>{let V=!0;const j=w2(o,!1);if(!j.length){const Y=T(o);return x.filter(q=>{let{key:Q}=q;return Y.includes(Q)})}const H=[];function U(Y){V?H.push(Y):H.push(Object.assign(Object.assign({},Y),{sortOrder:null}))}let K=null;return j.forEach(Y=>{K===null?(U(Y),Y.sortOrder&&(Y.multiplePriority===!1?V=!1:K=!0)):(K&&Y.multiplePriority!==!1||(V=!1),U(Y))}),H},[o,x]),R=s.useMemo(()=>{var V,j;const H=M.map(U=>{let{column:K,sortOrder:Y}=U;return{column:K,order:Y}});return{sortColumns:H,sortColumn:(V=H[0])===null||V===void 0?void 0:V.column,sortOrder:(j=H[0])===null||j===void 0?void 0:j.order}},[M]),N=V=>{let j;V.multiplePriority===!1||!M.length||M[0].multiplePriority===!1?j=[V]:j=[].concat((0,Be.Z)(M.filter(H=>{let{key:U}=H;return U!==V.key})),[V]),S(j),_(ZP(j),j)};return[V=>kP(t,V,M,N,i,u,g),M,R,()=>ZP(M)]};const VP=(e,t)=>e.map(i=>{const u=Object.assign({},i);return u.title=fC(i.title,t),"children"in u&&(u.children=VP(u.children,t)),u});var Cj=e=>[s.useCallback(o=>VP(o,e),[e])],wj=mP((e,t)=>{const{_renderTimes:o}=e,{_renderTimes:i}=t;return o!==i}),Sj=yP((e,t)=>{const{_renderTimes:o}=e,{_renderTimes:i}=t;return o!==i}),Ej=e=>{const{componentCls:t,lineWidth:o,lineType:i,tableBorderColor:u,tableHeaderBg:g,tablePaddingVertical:_,tablePaddingHorizontal:x,calc:S}=e,T=`${(0,J.bf)(o)} ${i} ${u}`,M=(R,N,F)=>({[`&${t}-${R}`]:{[`> ${t}-container`]:{[`> ${t}-content, > ${t}-body`]:{"\n            > table > tbody > tr > th,\n            > table > tbody > tr > td\n          ":{[`> ${t}-expanded-row-fixed`]:{margin:`${(0,J.bf)(S(N).mul(-1).equal())}
              ${(0,J.bf)(S(S(F).add(o)).mul(-1).equal())}`}}}}}});return{[`${t}-wrapper`]:{[`${t}${t}-bordered`]:Object.assign(Object.assign(Object.assign({[`> ${t}-title`]:{border:T,borderBottom:0},[`> ${t}-container`]:{borderInlineStart:T,borderTop:T,[`
            > ${t}-content,
            > ${t}-header,
            > ${t}-body,
            > ${t}-summary
          `]:{"> table":{"\n                > thead > tr > th,\n                > thead > tr > td,\n                > tbody > tr > th,\n                > tbody > tr > td,\n                > tfoot > tr > th,\n                > tfoot > tr > td\n              ":{borderInlineEnd:T},"> thead":{"> tr:not(:last-child) > th":{borderBottom:T},"> tr > th::before":{backgroundColor:"transparent !important"}},"\n                > thead > tr,\n                > tbody > tr,\n                > tfoot > tr\n              ":{[`> ${t}-cell-fix-right-first::after`]:{borderInlineEnd:T}},"\n                > tbody > tr > th,\n                > tbody > tr > td\n              ":{[`> ${t}-expanded-row-fixed`]:{margin:`${(0,J.bf)(S(_).mul(-1).equal())} ${(0,J.bf)(S(S(x).add(o)).mul(-1).equal())}`,"&::after":{position:"absolute",top:0,insetInlineEnd:o,bottom:0,borderInlineEnd:T,content:'""'}}}}}},[`&${t}-scroll-horizontal`]:{[`> ${t}-container > ${t}-body`]:{"> table > tbody":{[`
                > tr${t}-expanded-row,
                > tr${t}-placeholder
              `]:{"> th, > td":{borderInlineEnd:0}}}}}},M("middle",e.tablePaddingVerticalMiddle,e.tablePaddingHorizontalMiddle)),M("small",e.tablePaddingVerticalSmall,e.tablePaddingHorizontalSmall)),{[`> ${t}-footer`]:{border:T,borderTop:0}}),[`${t}-cell`]:{[`${t}-container:first-child`]:{borderTop:0},"&-scrollbar:not([rowspan])":{boxShadow:`0 ${(0,J.bf)(o)} 0 ${(0,J.bf)(o)} ${g}`}},[`${t}-bordered ${t}-cell-scrollbar`]:{borderInlineEnd:T}}}},Ij=e=>{const{componentCls:t}=e;return{[`${t}-wrapper`]:{[`${t}-cell-ellipsis`]:Object.assign(Object.assign({},mn.vS),{wordBreak:"keep-all",[`
          &${t}-cell-fix-left-last,
          &${t}-cell-fix-right-first
        `]:{overflow:"visible",[`${t}-cell-content`]:{display:"block",overflow:"hidden",textOverflow:"ellipsis"}},[`${t}-column-title`]:{overflow:"hidden",textOverflow:"ellipsis",wordBreak:"keep-all"}})}}},Tj=e=>{const{componentCls:t}=e;return{[`${t}-wrapper`]:{[`${t}-tbody > tr${t}-placeholder`]:{textAlign:"center",color:e.colorTextDisabled,"\n          &:hover > th,\n          &:hover > td,\n        ":{background:e.colorBgContainer}}}}},Mj=e=>{const{componentCls:t,antCls:o,motionDurationSlow:i,lineWidth:u,paddingXS:g,lineType:_,tableBorderColor:x,tableExpandIconBg:S,tableExpandColumnWidth:T,borderRadius:M,tablePaddingVertical:R,tablePaddingHorizontal:N,tableExpandedRowBg:F,paddingXXS:B,expandIconMarginTop:V,expandIconSize:j,expandIconHalfInner:H,expandIconScale:U,calc:K}=e,Y=`${(0,J.bf)(u)} ${_} ${x}`,q=K(B).sub(u).equal();return{[`${t}-wrapper`]:{[`${t}-expand-icon-col`]:{width:T},[`${t}-row-expand-icon-cell`]:{textAlign:"center",[`${t}-row-expand-icon`]:{display:"inline-flex",float:"none",verticalAlign:"sub"}},[`${t}-row-indent`]:{height:1,float:"left"},[`${t}-row-expand-icon`]:Object.assign(Object.assign({},(0,mn.Nd)(e)),{position:"relative",float:"left",width:j,height:j,color:"inherit",lineHeight:(0,J.bf)(j),background:S,border:Y,borderRadius:M,transform:`scale(${U})`,"&:focus, &:hover, &:active":{borderColor:"currentcolor"},"&::before, &::after":{position:"absolute",background:"currentcolor",transition:`transform ${i} ease-out`,content:'""'},"&::before":{top:H,insetInlineEnd:q,insetInlineStart:q,height:u},"&::after":{top:q,bottom:q,insetInlineStart:H,width:u,transform:"rotate(90deg)"},"&-collapsed::before":{transform:"rotate(-180deg)"},"&-collapsed::after":{transform:"rotate(0deg)"},"&-spaced":{"&::before, &::after":{display:"none",content:"none"},background:"transparent",border:0,visibility:"hidden"}}),[`${t}-row-indent + ${t}-row-expand-icon`]:{marginTop:V,marginInlineEnd:g},[`tr${t}-expanded-row`]:{"&, &:hover":{"> th, > td":{background:F}},[`${o}-descriptions-view`]:{display:"flex",table:{flex:"auto",width:"100%"}}},[`${t}-expanded-row-fixed`]:{position:"relative",margin:`${(0,J.bf)(K(R).mul(-1).equal())} ${(0,J.bf)(K(N).mul(-1).equal())}`,padding:`${(0,J.bf)(R)} ${(0,J.bf)(N)}`}}}},Pj=e=>{const{componentCls:t,antCls:o,iconCls:i,tableFilterDropdownWidth:u,tableFilterDropdownSearchWidth:g,paddingXXS:_,paddingXS:x,colorText:S,lineWidth:T,lineType:M,tableBorderColor:R,headerIconColor:N,fontSizeSM:F,tablePaddingHorizontal:B,borderRadius:V,motionDurationSlow:j,colorTextDescription:H,colorPrimary:U,tableHeaderFilterActiveBg:K,colorTextDisabled:Y,tableFilterDropdownBg:q,tableFilterDropdownHeight:Q,controlItemBgHover:re,controlItemBgActive:ae,boxShadowSecondary:se,filterDropdownMenuBg:de,calc:pe}=e,ge=`${o}-dropdown`,me=`${t}-filter-dropdown`,be=`${o}-tree`,_e=`${(0,J.bf)(T)} ${M} ${R}`;return[{[`${t}-wrapper`]:{[`${t}-filter-column`]:{display:"flex",justifyContent:"space-between"},[`${t}-filter-trigger`]:{position:"relative",display:"flex",alignItems:"center",marginBlock:pe(_).mul(-1).equal(),marginInline:`${(0,J.bf)(_)} ${(0,J.bf)(pe(B).div(2).mul(-1).equal())}`,padding:`0 ${(0,J.bf)(_)}`,color:N,fontSize:F,borderRadius:V,cursor:"pointer",transition:`all ${j}`,"&:hover":{color:H,background:K},"&.active":{color:U}}}},{[`${o}-dropdown`]:{[me]:Object.assign(Object.assign({},(0,mn.Wf)(e)),{minWidth:u,backgroundColor:q,borderRadius:V,boxShadow:se,overflow:"hidden",[`${ge}-menu`]:{maxHeight:Q,overflowX:"hidden",border:0,boxShadow:"none",borderRadius:"unset",backgroundColor:de,"&:empty::after":{display:"block",padding:`${(0,J.bf)(x)} 0`,color:Y,fontSize:F,textAlign:"center",content:'"Not Found"'}},[`${me}-tree`]:{paddingBlock:`${(0,J.bf)(x)} 0`,paddingInline:x,[be]:{padding:0},[`${be}-treenode ${be}-node-content-wrapper:hover`]:{backgroundColor:re},[`${be}-treenode-checkbox-checked ${be}-node-content-wrapper`]:{"&, &:hover":{backgroundColor:ae}}},[`${me}-search`]:{padding:x,borderBottom:_e,"&-input":{input:{minWidth:g},[i]:{color:Y}}},[`${me}-checkall`]:{width:"100%",marginBottom:_,marginInlineStart:_},[`${me}-btns`]:{display:"flex",justifyContent:"space-between",padding:`${(0,J.bf)(pe(x).sub(T).equal())} ${(0,J.bf)(x)}`,overflow:"hidden",borderTop:_e}})}},{[`${o}-dropdown ${me}, ${me}-submenu`]:{[`${o}-checkbox-wrapper + span`]:{paddingInlineStart:x,color:S},"> ul":{maxHeight:"calc(100vh - 130px)",overflowX:"hidden",overflowY:"auto"}}}]},Oj=e=>{const{componentCls:t,lineWidth:o,colorSplit:i,motionDurationSlow:u,zIndexTableFixed:g,tableBg:_,zIndexTableSticky:x,calc:S}=e,T=i;return{[`${t}-wrapper`]:{[`
        ${t}-cell-fix-left,
        ${t}-cell-fix-right
      `]:{position:"sticky !important",zIndex:g,background:_},[`
        ${t}-cell-fix-left-first::after,
        ${t}-cell-fix-left-last::after
      `]:{position:"absolute",top:0,right:{_skip_check_:!0,value:0},bottom:S(o).mul(-1).equal(),width:30,transform:"translateX(100%)",transition:`box-shadow ${u}`,content:'""',pointerEvents:"none"},[`${t}-cell-fix-left-all::after`]:{display:"none"},[`
        ${t}-cell-fix-right-first::after,
        ${t}-cell-fix-right-last::after
      `]:{position:"absolute",top:0,bottom:S(o).mul(-1).equal(),left:{_skip_check_:!0,value:0},width:30,transform:"translateX(-100%)",transition:`box-shadow ${u}`,content:'""',pointerEvents:"none"},[`${t}-container`]:{position:"relative","&::before, &::after":{position:"absolute",top:0,bottom:0,zIndex:S(x).add(1).equal({unit:!1}),width:30,transition:`box-shadow ${u}`,content:'""',pointerEvents:"none"},"&::before":{insetInlineStart:0},"&::after":{insetInlineEnd:0}},[`${t}-ping-left`]:{[`&:not(${t}-has-fix-left) ${t}-container::before`]:{boxShadow:`inset 10px 0 8px -8px ${T}`},[`
          ${t}-cell-fix-left-first::after,
          ${t}-cell-fix-left-last::after
        `]:{boxShadow:`inset 10px 0 8px -8px ${T}`},[`${t}-cell-fix-left-last::before`]:{backgroundColor:"transparent !important"}},[`${t}-ping-right`]:{[`&:not(${t}-has-fix-right) ${t}-container::after`]:{boxShadow:`inset -10px 0 8px -8px ${T}`},[`
          ${t}-cell-fix-right-first::after,
          ${t}-cell-fix-right-last::after
        `]:{boxShadow:`inset -10px 0 8px -8px ${T}`}},[`${t}-fixed-column-gapped`]:{[`
        ${t}-cell-fix-left-first::after,
        ${t}-cell-fix-left-last::after,
        ${t}-cell-fix-right-first::after,
        ${t}-cell-fix-right-last::after
      `]:{boxShadow:"none"}}}}},$j=e=>{const{componentCls:t,antCls:o,margin:i}=e;return{[`${t}-wrapper`]:{[`${t}-pagination${o}-pagination`]:{margin:`${(0,J.bf)(i)} 0`},[`${t}-pagination`]:{display:"flex",flexWrap:"wrap",rowGap:e.paddingXS,"> *":{flex:"none"},"&-left":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-right":{justifyContent:"flex-end"}}}}},Rj=e=>{const{componentCls:t,tableRadius:o}=e;return{[`${t}-wrapper`]:{[t]:{[`${t}-title, ${t}-header`]:{borderRadius:`${(0,J.bf)(o)} ${(0,J.bf)(o)} 0 0`},[`${t}-title + ${t}-container`]:{borderStartStartRadius:0,borderStartEndRadius:0,[`${t}-header, table`]:{borderRadius:0},"table > thead > tr:first-child":{"th:first-child, th:last-child, td:first-child, td:last-child":{borderRadius:0}}},"&-container":{borderStartStartRadius:o,borderStartEndRadius:o,"table > thead > tr:first-child":{"> *:first-child":{borderStartStartRadius:o},"> *:last-child":{borderStartEndRadius:o}}},"&-footer":{borderRadius:`0 0 ${(0,J.bf)(o)} ${(0,J.bf)(o)}`}}}}},Aj=e=>{const{componentCls:t}=e;return{[`${t}-wrapper-rtl`]:{direction:"rtl",table:{direction:"rtl"},[`${t}-pagination-left`]:{justifyContent:"flex-end"},[`${t}-pagination-right`]:{justifyContent:"flex-start"},[`${t}-row-expand-icon`]:{float:"right","&::after":{transform:"rotate(-90deg)"},"&-collapsed::before":{transform:"rotate(180deg)"},"&-collapsed::after":{transform:"rotate(0deg)"}},[`${t}-container`]:{"&::before":{insetInlineStart:"unset",insetInlineEnd:0},"&::after":{insetInlineStart:0,insetInlineEnd:"unset"},[`${t}-row-indent`]:{float:"right"}}}}},Dj=e=>{const{componentCls:t,antCls:o,iconCls:i,fontSizeIcon:u,padding:g,paddingXS:_,headerIconColor:x,headerIconHoverColor:S,tableSelectionColumnWidth:T,tableSelectedRowBg:M,tableSelectedRowHoverBg:R,tableRowHoverBg:N,tablePaddingHorizontal:F,calc:B}=e;return{[`${t}-wrapper`]:{[`${t}-selection-col`]:{width:T,[`&${t}-selection-col-with-dropdown`]:{width:B(T).add(u).add(B(g).div(4)).equal()}},[`${t}-bordered ${t}-selection-col`]:{width:B(T).add(B(_).mul(2)).equal(),[`&${t}-selection-col-with-dropdown`]:{width:B(T).add(u).add(B(g).div(4)).add(B(_).mul(2)).equal()}},[`
        table tr th${t}-selection-column,
        table tr td${t}-selection-column,
        ${t}-selection-column
      `]:{paddingInlineEnd:e.paddingXS,paddingInlineStart:e.paddingXS,textAlign:"center",[`${o}-radio-wrapper`]:{marginInlineEnd:0}},[`table tr th${t}-selection-column${t}-cell-fix-left`]:{zIndex:B(e.zIndexTableFixed).add(1).equal({unit:!1})},[`table tr th${t}-selection-column::after`]:{backgroundColor:"transparent !important"},[`${t}-selection`]:{position:"relative",display:"inline-flex",flexDirection:"column"},[`${t}-selection-extra`]:{position:"absolute",top:0,zIndex:1,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,marginInlineStart:"100%",paddingInlineStart:(0,J.bf)(B(F).div(4).equal()),[i]:{color:x,fontSize:u,verticalAlign:"baseline","&:hover":{color:S}}},[`${t}-tbody`]:{[`${t}-row`]:{[`&${t}-row-selected`]:{[`> ${t}-cell`]:{background:M,"&-row-hover":{background:R}}},[`> ${t}-cell-row-hover`]:{background:N}}}}}},zj=e=>{const{componentCls:t,tableExpandColumnWidth:o,calc:i}=e,u=(g,_,x,S)=>({[`${t}${t}-${g}`]:{fontSize:S,[`
        ${t}-title,
        ${t}-footer,
        ${t}-cell,
        ${t}-thead > tr > th,
        ${t}-tbody > tr > th,
        ${t}-tbody > tr > td,
        tfoot > tr > th,
        tfoot > tr > td
      `]:{padding:`${(0,J.bf)(_)} ${(0,J.bf)(x)}`},[`${t}-filter-trigger`]:{marginInlineEnd:(0,J.bf)(i(x).div(2).mul(-1).equal())},[`${t}-expanded-row-fixed`]:{margin:`${(0,J.bf)(i(_).mul(-1).equal())} ${(0,J.bf)(i(x).mul(-1).equal())}`},[`${t}-tbody`]:{[`${t}-wrapper:only-child ${t}`]:{marginBlock:(0,J.bf)(i(_).mul(-1).equal()),marginInline:`${(0,J.bf)(i(o).sub(x).equal())} ${(0,J.bf)(i(x).mul(-1).equal())}`}},[`${t}-selection-extra`]:{paddingInlineStart:(0,J.bf)(i(x).div(4).equal())}}});return{[`${t}-wrapper`]:Object.assign(Object.assign({},u("middle",e.tablePaddingVerticalMiddle,e.tablePaddingHorizontalMiddle,e.tableFontSizeMiddle)),u("small",e.tablePaddingVerticalSmall,e.tablePaddingHorizontalSmall,e.tableFontSizeSmall))}},Lj=e=>{const{componentCls:t,marginXXS:o,fontSizeIcon:i,headerIconColor:u,headerIconHoverColor:g}=e;return{[`${t}-wrapper`]:{[`${t}-thead th${t}-column-has-sorters`]:{outline:"none",cursor:"pointer",transition:`all ${e.motionDurationSlow}, left 0s`,"&:hover":{background:e.tableHeaderSortHoverBg,"&::before":{backgroundColor:"transparent !important"}},"&:focus-visible":{color:e.colorPrimary},[`
          &${t}-cell-fix-left:hover,
          &${t}-cell-fix-right:hover
        `]:{background:e.tableFixedHeaderSortActiveBg}},[`${t}-thead th${t}-column-sort`]:{background:e.tableHeaderSortBg,"&::before":{backgroundColor:"transparent !important"}},[`td${t}-column-sort`]:{background:e.tableBodySortBg},[`${t}-column-title`]:{position:"relative",zIndex:1,flex:1,minWidth:0},[`${t}-column-sorters`]:{display:"flex",flex:"auto",alignItems:"center",justifyContent:"space-between","&::after":{position:"absolute",inset:0,width:"100%",height:"100%",content:'""'}},[`${t}-column-sorters-tooltip-target-sorter`]:{"&::after":{content:"none"}},[`${t}-column-sorter`]:{marginInlineStart:o,color:u,fontSize:0,transition:`color ${e.motionDurationSlow}`,"&-inner":{display:"inline-flex",flexDirection:"column",alignItems:"center"},"&-up, &-down":{fontSize:i,"&.active":{color:e.colorPrimary}},[`${t}-column-sorter-up + ${t}-column-sorter-down`]:{marginTop:"-0.3em"}},[`${t}-column-sorters:hover ${t}-column-sorter`]:{color:g}}}},Nj=e=>{const{componentCls:t,opacityLoading:o,tableScrollThumbBg:i,tableScrollThumbBgHover:u,tableScrollThumbSize:g,tableScrollBg:_,zIndexTableSticky:x,stickyScrollBarBorderRadius:S,lineWidth:T,lineType:M,tableBorderColor:R}=e,N=`${(0,J.bf)(T)} ${M} ${R}`;return{[`${t}-wrapper`]:{[`${t}-sticky`]:{"&-holder":{position:"sticky",zIndex:x,background:e.colorBgContainer},"&-scroll":{position:"sticky",bottom:0,height:`${(0,J.bf)(g)} !important`,zIndex:x,display:"flex",alignItems:"center",background:_,borderTop:N,opacity:o,"&:hover":{transformOrigin:"center bottom"},"&-bar":{height:g,backgroundColor:i,borderRadius:S,transition:`all ${e.motionDurationSlow}, transform none`,position:"absolute",bottom:0,"&:hover, &-active":{backgroundColor:u}}}}}}},HP=e=>{const{componentCls:t,lineWidth:o,tableBorderColor:i,calc:u}=e,g=`${(0,J.bf)(o)} ${e.lineType} ${i}`;return{[`${t}-wrapper`]:{[`${t}-summary`]:{position:"relative",zIndex:e.zIndexTableFixed,background:e.tableBg,"> tr":{"> th, > td":{borderBottom:g}}},[`div${t}-summary`]:{boxShadow:`0 ${(0,J.bf)(u(o).mul(-1).equal())} 0 ${i}`}}}},Bj=e=>{const{componentCls:t,motionDurationMid:o,lineWidth:i,lineType:u,tableBorderColor:g,calc:_}=e,x=`${(0,J.bf)(i)} ${u} ${g}`,S=`${t}-expanded-row-cell`;return{[`${t}-wrapper`]:{[`${t}-tbody-virtual`]:{[`${t}-tbody-virtual-holder-inner`]:{[`
            & > ${t}-row, 
            & > div:not(${t}-row) > ${t}-row
          `]:{display:"flex",boxSizing:"border-box",width:"100%"}},[`${t}-cell`]:{borderBottom:x,transition:`background ${o}`},[`${t}-expanded-row`]:{[`${S}${S}-fixed`]:{position:"sticky",insetInlineStart:0,overflow:"hidden",width:`calc(var(--virtual-width) - ${(0,J.bf)(i)})`,borderInlineEnd:"none"}}},[`${t}-bordered`]:{[`${t}-tbody-virtual`]:{"&:after":{content:'""',insetInline:0,bottom:0,borderBottom:x,position:"absolute"},[`${t}-cell`]:{borderInlineEnd:x,[`&${t}-cell-fix-right-first:before`]:{content:'""',position:"absolute",insetBlock:0,insetInlineStart:_(i).mul(-1).equal(),borderInlineStart:x}}},[`&${t}-virtual`]:{[`${t}-placeholder ${t}-cell`]:{borderInlineEnd:x,borderBottom:x}}}}}};const Fj=e=>{const{componentCls:t,fontWeightStrong:o,tablePaddingVertical:i,tablePaddingHorizontal:u,tableExpandColumnWidth:g,lineWidth:_,lineType:x,tableBorderColor:S,tableFontSize:T,tableBg:M,tableRadius:R,tableHeaderTextColor:N,motionDurationMid:F,tableHeaderBg:B,tableHeaderCellSplitColor:V,tableFooterTextColor:j,tableFooterBg:H,calc:U}=e,K=`${(0,J.bf)(_)} ${x} ${S}`;return{[`${t}-wrapper`]:Object.assign(Object.assign({clear:"both",maxWidth:"100%"},(0,mn.dF)()),{[t]:Object.assign(Object.assign({},(0,mn.Wf)(e)),{fontSize:T,background:M,borderRadius:`${(0,J.bf)(R)} ${(0,J.bf)(R)} 0 0`,scrollbarColor:`${e.tableScrollThumbBg} ${e.tableScrollBg}`}),table:{width:"100%",textAlign:"start",borderRadius:`${(0,J.bf)(R)} ${(0,J.bf)(R)} 0 0`,borderCollapse:"separate",borderSpacing:0},[`
          ${t}-cell,
          ${t}-thead > tr > th,
          ${t}-tbody > tr > th,
          ${t}-tbody > tr > td,
          tfoot > tr > th,
          tfoot > tr > td
        `]:{position:"relative",padding:`${(0,J.bf)(i)} ${(0,J.bf)(u)}`,overflowWrap:"break-word"},[`${t}-title`]:{padding:`${(0,J.bf)(i)} ${(0,J.bf)(u)}`},[`${t}-thead`]:{"\n          > tr > th,\n          > tr > td\n        ":{position:"relative",color:N,fontWeight:o,textAlign:"start",background:B,borderBottom:K,transition:`background ${F} ease`,"&[colspan]:not([colspan='1'])":{textAlign:"center"},[`&:not(:last-child):not(${t}-selection-column):not(${t}-row-expand-icon-cell):not([colspan])::before`]:{position:"absolute",top:"50%",insetInlineEnd:0,width:1,height:"1.6em",backgroundColor:V,transform:"translateY(-50%)",transition:`background-color ${F}`,content:'""'}},"> tr:not(:last-child) > th[colspan]":{borderBottom:0}},[`${t}-tbody`]:{"> tr":{"> th, > td":{transition:`background ${F}, border-color ${F}`,borderBottom:K,[`
              > ${t}-wrapper:only-child,
              > ${t}-expanded-row-fixed > ${t}-wrapper:only-child
            `]:{[t]:{marginBlock:(0,J.bf)(U(i).mul(-1).equal()),marginInline:`${(0,J.bf)(U(g).sub(u).equal())}
                ${(0,J.bf)(U(u).mul(-1).equal())}`,[`${t}-tbody > tr:last-child > td`]:{borderBottomWidth:0,"&:first-child, &:last-child":{borderRadius:0}}}}},"> th":{position:"relative",color:N,fontWeight:o,textAlign:"start",background:B,borderBottom:K,transition:`background ${F} ease`}}},[`${t}-footer`]:{padding:`${(0,J.bf)(i)} ${(0,J.bf)(u)}`,color:j,background:H}})}},kj=e=>{const{colorFillAlter:t,colorBgContainer:o,colorTextHeading:i,colorFillSecondary:u,colorFillContent:g,controlItemBgActive:_,controlItemBgActiveHover:x,padding:S,paddingSM:T,paddingXS:M,colorBorderSecondary:R,borderRadiusLG:N,controlHeight:F,colorTextPlaceholder:B,fontSize:V,fontSizeSM:j,lineHeight:H,lineWidth:U,colorIcon:K,colorIconHover:Y,opacityLoading:q,controlInteractiveSize:Q}=e,re=new Es.t(u).onBackground(o).toHexString(),ae=new Es.t(g).onBackground(o).toHexString(),se=new Es.t(t).onBackground(o).toHexString(),de=new Es.t(K),pe=new Es.t(Y),ge=Q/2-U,me=ge*2+U*3;return{headerBg:se,headerColor:i,headerSortActiveBg:re,headerSortHoverBg:ae,bodySortBg:se,rowHoverBg:se,rowSelectedBg:_,rowSelectedHoverBg:x,rowExpandedBg:t,cellPaddingBlock:S,cellPaddingInline:S,cellPaddingBlockMD:T,cellPaddingInlineMD:M,cellPaddingBlockSM:M,cellPaddingInlineSM:M,borderColor:R,headerBorderRadius:N,footerBg:se,footerColor:i,cellFontSize:V,cellFontSizeMD:V,cellFontSizeSM:V,headerSplitColor:R,fixedHeaderSortActiveBg:re,headerFilterHoverBg:g,filterDropdownMenuBg:o,filterDropdownBg:o,expandIconBg:o,selectionColumnWidth:F,stickyScrollBarBg:B,stickyScrollBarBorderRadius:100,expandIconMarginTop:(V*H-U*3)/2-Math.ceil((j*1.4-U*3)/2),headerIconColor:de.clone().setA(de.a*q).toRgbString(),headerIconHoverColor:pe.clone().setA(pe.a*q).toRgbString(),expandIconHalfInner:ge,expandIconSize:me,expandIconScale:Q/me}},UP=2;var jj=(0,Ae.I$)("Table",e=>{const{colorTextHeading:t,colorSplit:o,colorBgContainer:i,controlInteractiveSize:u,headerBg:g,headerColor:_,headerSortActiveBg:x,headerSortHoverBg:S,bodySortBg:T,rowHoverBg:M,rowSelectedBg:R,rowSelectedHoverBg:N,rowExpandedBg:F,cellPaddingBlock:B,cellPaddingInline:V,cellPaddingBlockMD:j,cellPaddingInlineMD:H,cellPaddingBlockSM:U,cellPaddingInlineSM:K,borderColor:Y,footerBg:q,footerColor:Q,headerBorderRadius:re,cellFontSize:ae,cellFontSizeMD:se,cellFontSizeSM:de,headerSplitColor:pe,fixedHeaderSortActiveBg:ge,headerFilterHoverBg:me,filterDropdownBg:be,expandIconBg:_e,selectionColumnWidth:Ie,stickyScrollBarBg:Ce,calc:Le}=e,ze=(0,vn.IX)(e,{tableFontSize:ae,tableBg:i,tableRadius:re,tablePaddingVertical:B,tablePaddingHorizontal:V,tablePaddingVerticalMiddle:j,tablePaddingHorizontalMiddle:H,tablePaddingVerticalSmall:U,tablePaddingHorizontalSmall:K,tableBorderColor:Y,tableHeaderTextColor:_,tableHeaderBg:g,tableFooterTextColor:Q,tableFooterBg:q,tableHeaderCellSplitColor:pe,tableHeaderSortBg:x,tableHeaderSortHoverBg:S,tableBodySortBg:T,tableFixedHeaderSortActiveBg:ge,tableHeaderFilterActiveBg:me,tableFilterDropdownBg:be,tableRowHoverBg:M,tableSelectedRowBg:R,tableSelectedRowHoverBg:N,zIndexTableFixed:UP,zIndexTableSticky:Le(UP).add(1).equal({unit:!1}),tableFontSizeMiddle:se,tableFontSizeSmall:de,tableSelectionColumnWidth:Ie,tableExpandIconBg:_e,tableExpandColumnWidth:Le(u).add(Le(e.padding).mul(2)).equal(),tableExpandedRowBg:F,tableFilterDropdownWidth:120,tableFilterDropdownHeight:264,tableFilterDropdownSearchWidth:140,tableScrollThumbSize:8,tableScrollThumbBg:Ce,tableScrollThumbBgHover:t,tableScrollBg:o});return[Fj(ze),$j(ze),HP(ze),Lj(ze),Pj(ze),Ej(ze),Rj(ze),Mj(ze),HP(ze),Tj(ze),Dj(ze),Oj(ze),Nj(ze),Ij(ze),zj(ze),Aj(ze),Bj(ze)]},kj,{unitless:{expandIconScale:!0}});const Zj=[],Vj=(e,t)=>{var o,i;const{prefixCls:u,className:g,rootClassName:_,style:x,size:S,bordered:T,dropdownPrefixCls:M,dataSource:R,pagination:N,rowSelection:F,rowKey:B="key",rowClassName:V,columns:j,children:H,childrenColumnName:U,onChange:K,getPopupContainer:Y,loading:q,expandIcon:Q,expandable:re,expandedRowRender:ae,expandIconColumnIndex:se,indentSize:de,scroll:pe,sortDirections:ge,locale:me,showSorterTooltip:be={target:"full-header"},virtual:_e}=e,Ie=(0,Fe.ln)("Table"),Ce=s.useMemo(()=>j||s2(H),[j,H]),Le=s.useMemo(()=>Ce.some(Xi=>Xi.responsive),[Ce]),ze=(0,ep.Z)(Le),ke=s.useMemo(()=>{const Xi=new Set(Object.keys(ze).filter(Di=>ze[Di]));return Ce.filter(Di=>!Di.responsive||Di.responsive.some(Si=>Xi.has(Si)))},[Ce,ze]),Ze=(0,Er.Z)(e,["className","style","columns"]),{locale:je=Ac.Z,direction:Ue,table:He,renderEmpty:Qe,getPrefixCls:We,getPopupContainer:it}=s.useContext(De.E_),Je=(0,Ts.Z)(S),wt=Object.assign(Object.assign({},je.Table),me),Dt=R||Zj,ct=We("table",u),ht=We("dropdown",M),[,ut]=(0,Ur.ZP)(),tt=(0,po.Z)(ct),[xt,_t,dn]=jj(ct,tt),on=Object.assign(Object.assign({childrenColumnName:U,expandIconColumnIndex:se},re),{expandIcon:(o=re==null?void 0:re.expandIcon)!==null&&o!==void 0?o:(i=He==null?void 0:He.expandable)===null||i===void 0?void 0:i.expandIcon}),{childrenColumnName:Ut="children"}=on,en=s.useMemo(()=>Dt.some(Xi=>Xi==null?void 0:Xi[Ut])?"nest":ae||re!=null&&re.expandedRowRender?"row":null,[Dt]),kt={body:s.useRef(null)},cn=Qk(ct),zn=s.useRef(null),An=s.useRef(null);Kk(t,()=>Object.assign(Object.assign({},An.current),{nativeElement:zn.current}));const sr=s.useMemo(()=>typeof B=="function"?B:Xi=>Xi==null?void 0:Xi[B],[B]),[yr]=oj(Dt,Ut,sr),Vr={},Qn=function(Xi,Di){let Si=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var Ii,da,Qa,Wo;const lo=Object.assign(Object.assign({},Vr),Xi);Si&&((Ii=Vr.resetPagination)===null||Ii===void 0||Ii.call(Vr),!((da=lo.pagination)===null||da===void 0)&&da.current&&(lo.pagination.current=1),N&&((Qa=N.onChange)===null||Qa===void 0||Qa.call(N,1,(Wo=lo.pagination)===null||Wo===void 0?void 0:Wo.pageSize))),pe&&pe.scrollToFirstRowOnChange!==!1&&kt.body.current&&Ra(0,{getContainer:()=>kt.body.current}),K==null||K(lo.pagination,lo.filters,lo.sorter,{currentDataSource:x2(S2(Dt,lo.sorterStates,Ut),lo.filterStates,Ut),action:Di})},Un=(Xi,Di)=>{Qn({sorter:Xi,sorterStates:Di},"sort",!1)},[er,Ir,pr,Zr]=xj({prefixCls:ct,mergedColumns:ke,onSorterChange:Un,sortDirections:ge||["ascend","descend"],tableLocale:wt,showSorterTooltip:be}),xn=s.useMemo(()=>S2(Dt,Ir,Ut),[Dt,Ir]);Vr.sorter=Zr(),Vr.sorterStates=Ir;const fn=(Xi,Di)=>{Qn({filters:Xi,filterStates:Di},"filter",!0)},[yn,Gt,Kn]=ij({prefixCls:ct,locale:wt,dropdownPrefixCls:ht,mergedColumns:ke,onFilterChange:fn,getPopupContainer:Y||it,rootClassName:oe()(_,tt)}),vr=x2(xn,Gt,Ut);Vr.filters=Kn,Vr.filterStates=Gt;const Jr=s.useMemo(()=>{const Xi={};return Object.keys(Kn).forEach(Di=>{Kn[Di]!==null&&(Xi[Di]=Kn[Di])}),Object.assign(Object.assign({},pr),{filters:Xi})},[pr,Kn]),[Hi]=Cj(Jr),Gi=(Xi,Di)=>{Qn({pagination:Object.assign(Object.assign({},Vr.pagination),{current:Xi,pageSize:Di})},"paginate")},[Zi,Fa]=cj(vr.length,Gi,N);Vr.pagination=N===!1?{}:sj(Zi,N),Vr.resetPagination=Fa;const Do=s.useMemo(()=>{if(N===!1||!Zi.pageSize)return vr;const{current:Xi=1,total:Di,pageSize:Si=BP}=Zi;return vr.length<Di?vr.length>Si?vr.slice((Xi-1)*Si,Xi*Si):vr:vr.slice((Xi-1)*Si,Xi*Si)},[!!N,vr,Zi==null?void 0:Zi.current,Zi==null?void 0:Zi.pageSize,Zi==null?void 0:Zi.total]),[zo,oo]=Xk({prefixCls:ct,data:vr,pageData:Do,getRowKey:sr,getRecordByKey:yr,expandType:en,childrenColumnName:Ut,locale:wt,getPopupContainer:Y||it},F),Uo=(Xi,Di,Si)=>{let Ii;return typeof V=="function"?Ii=oe()(V(Xi,Di,Si)):Ii=oe()(V),oe()({[`${ct}-row-selected`]:oo.has(sr(Xi,Di))},Ii)};on.__PARENT_RENDER_ICON__=on.expandIcon,on.expandIcon=on.expandIcon||Q||Jk(wt),en==="nest"&&on.expandIconColumnIndex===void 0?on.expandIconColumnIndex=F?1:0:on.expandIconColumnIndex>0&&F&&(on.expandIconColumnIndex-=1),typeof on.indentSize!="number"&&(on.indentSize=typeof de=="number"?de:15);const ua=s.useCallback(Xi=>Hi(zo(yn(er(Xi)))),[er,yn,zo]);let xi,Fi;if(N!==!1&&(Zi!=null&&Zi.total)){let Xi;Zi.size?Xi=Zi.size:Xi=Je==="small"||Je==="middle"?"small":void 0;const Di=da=>s.createElement(Yx,Object.assign({},Zi,{className:oe()(`${ct}-pagination ${ct}-pagination-${da}`,Zi.className),size:Xi})),Si=Ue==="rtl"?"left":"right",{position:Ii}=Zi;if(Ii!==null&&Array.isArray(Ii)){const da=Ii.find(lo=>lo.includes("top")),Qa=Ii.find(lo=>lo.includes("bottom")),Wo=Ii.every(lo=>`${lo}`=="none");!da&&!Qa&&!Wo&&(Fi=Di(Si)),da&&(xi=Di(da.toLowerCase().replace("top",""))),Qa&&(Fi=Di(Qa.toLowerCase().replace("bottom","")))}else Fi=Di(Si)}let Wr;typeof q=="boolean"?Wr={spinning:q}:typeof q=="object"&&(Wr=Object.assign({spinning:!0},q));const gi=oe()(dn,tt,`${ct}-wrapper`,He==null?void 0:He.className,{[`${ct}-wrapper-rtl`]:Ue==="rtl"},g,_,_t),Ci=Object.assign(Object.assign({},He==null?void 0:He.style),x),Yi=typeof(me==null?void 0:me.emptyText)!="undefined"?me.emptyText:(Qe==null?void 0:Qe("Table"))||s.createElement(th,{componentName:"Table"}),xa=_e?Sj:wj,Pa={},Fs=s.useMemo(()=>{const{fontSize:Xi,lineHeight:Di,lineWidth:Si,padding:Ii,paddingXS:da,paddingSM:Qa}=ut,Wo=Math.floor(Xi*Di);switch(Je){case"middle":return Qa*2+Wo+Si;case"small":return da*2+Wo+Si;default:return Ii*2+Wo+Si}},[ut,Je]);return _e&&(Pa.listItemHeight=Fs),xt(s.createElement("div",{ref:zn,className:gi,style:Ci},s.createElement(Vv,Object.assign({spinning:!1},Wr),xi,s.createElement(xa,Object.assign({},Pa,Ze,{ref:An,columns:ke,direction:Ue,expandable:on,prefixCls:ct,className:oe()({[`${ct}-middle`]:Je==="middle",[`${ct}-small`]:Je==="small",[`${ct}-bordered`]:T,[`${ct}-empty`]:Dt.length===0},dn,tt,_t),data:Do,rowKey:sr,rowClassName:Uo,emptyText:Yi,internalHooks:ib,internalRefs:kt,transformColumns:ua,getContainerWidth:cn})),Fi)))};var Hj=s.forwardRef(Vj);const Uj=(e,t)=>{const o=s.useRef(0);return o.current+=1,s.createElement(Hj,Object.assign({},e,{ref:t,_renderTimes:o.current}))},Sp=s.forwardRef(Uj);Sp.SELECTION_COLUMN=Tm,Sp.EXPAND_COLUMN=wp,Sp.SELECTION_ALL=f2,Sp.SELECTION_INVERT=h2,Sp.SELECTION_NONE=p2,Sp.Column=Wk,Sp.ColumnGroup=Gk,Sp.Summary=KM;var Wj=Sp,Gj=Wj;const Xj=e=>{const{paddingXXS:t,lineWidth:o,tagPaddingHorizontal:i,componentCls:u,calc:g}=e,_=g(i).sub(o).equal(),x=g(t).sub(o).equal();return{[u]:Object.assign(Object.assign({},(0,mn.Wf)(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:_,fontSize:e.tagFontSize,lineHeight:e.tagLineHeight,whiteSpace:"nowrap",background:e.defaultBg,border:`${(0,J.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,opacity:1,transition:`all ${e.motionDurationMid}`,textAlign:"start",position:"relative",[`&${u}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:e.defaultColor},[`${u}-close-icon`]:{marginInlineStart:x,fontSize:e.tagIconSize,color:e.colorTextDescription,cursor:"pointer",transition:`all ${e.motionDurationMid}`,"&:hover":{color:e.colorTextHeading}},[`&${u}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${e.iconCls}-close, ${e.iconCls}-close:hover`]:{color:e.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${u}-checkable-checked):hover`]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${e.iconCls} + span, > span + ${e.iconCls}`]:{marginInlineStart:_}}),[`${u}-borderless`]:{borderColor:"transparent",background:e.tagBorderlessBg}}},E2=e=>{const{lineWidth:t,fontSizeIcon:o,calc:i}=e,u=e.fontSizeSM;return(0,vn.IX)(e,{tagFontSize:u,tagLineHeight:(0,J.bf)(i(e.lineHeightSM).mul(u).equal()),tagIconSize:i(o).sub(i(t).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:e.defaultBg})},I2=e=>({defaultBg:new Es.t(e.colorFillQuaternary).onBackground(e.colorBgContainer).toHexString(),defaultColor:e.colorText});var WP=(0,Ae.I$)("Tag",e=>{const t=E2(e);return Xj(t)},I2),qj=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o},Kj=s.forwardRef((e,t)=>{const{prefixCls:o,style:i,className:u,checked:g,onChange:_,onClick:x}=e,S=qj(e,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:T,tag:M}=s.useContext(De.E_),R=H=>{_==null||_(!g),x==null||x(H)},N=T("tag",o),[F,B,V]=WP(N),j=oe()(N,`${N}-checkable`,{[`${N}-checkable-checked`]:g},M==null?void 0:M.className,u,B,V);return F(s.createElement("span",Object.assign({},S,{ref:t,style:Object.assign(Object.assign({},i),M==null?void 0:M.style),className:j,onClick:R})))});const Yj=e=>(0,pg.Z)(e,(t,o)=>{let{textColor:i,lightBorderColor:u,lightColor:g,darkColor:_}=o;return{[`${e.componentCls}${e.componentCls}-${t}`]:{color:i,background:g,borderColor:u,"&-inverse":{color:e.colorTextLightSolid,background:_,borderColor:_},[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}});var Jj=(0,Ae.bk)(["Tag","preset"],e=>{const t=E2(e);return Yj(t)},I2);function Qj(e){return typeof e!="string"?e:e.charAt(0).toUpperCase()+e.slice(1)}const gC=(e,t,o)=>{const i=Qj(o);return{[`${e.componentCls}${e.componentCls}-${t}`]:{color:e[`color${o}`],background:e[`color${i}Bg`],borderColor:e[`color${i}Border`],[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}};var e7=(0,Ae.bk)(["Tag","status"],e=>{const t=E2(e);return[gC(t,"success","Success"),gC(t,"processing","Info"),gC(t,"error","Error"),gC(t,"warning","Warning")]},I2),t7=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};const GP=s.forwardRef((e,t)=>{const{prefixCls:o,className:i,rootClassName:u,style:g,children:_,icon:x,color:S,onClose:T,bordered:M=!0,visible:R}=e,N=t7(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","bordered","visible"]),{getPrefixCls:F,direction:B,tag:V}=s.useContext(De.E_),[j,H]=s.useState(!0),U=(0,Er.Z)(N,["closeIcon","closable"]);s.useEffect(()=>{R!==void 0&&H(R)},[R]);const K=(0,hg.o2)(S),Y=(0,hg.yT)(S),q=K||Y,Q=Object.assign(Object.assign({backgroundColor:S&&!q?S:void 0},V==null?void 0:V.style),g),re=F("tag",o),[ae,se,de]=WP(re),pe=oe()(re,V==null?void 0:V.className,{[`${re}-${S}`]:q,[`${re}-has-color`]:S&&!q,[`${re}-hidden`]:!j,[`${re}-rtl`]:B==="rtl",[`${re}-borderless`]:!M},i,u,se,de),ge=Le=>{Le.stopPropagation(),T==null||T(Le),!Le.defaultPrevented&&H(!1)},[,me]=zp(uf(e),uf(V),{closable:!1,closeIconRender:Le=>{const ze=s.createElement("span",{className:`${re}-close-icon`,onClick:ge},Le);return(0,wr.wm)(Le,ze,ke=>({onClick:Ze=>{var je;(je=ke==null?void 0:ke.onClick)===null||je===void 0||je.call(ke,Ze),ge(Ze)},className:oe()(ke==null?void 0:ke.className,`${re}-close-icon`)}))}}),be=typeof N.onClick=="function"||_&&_.type==="a",_e=x||null,Ie=_e?s.createElement(s.Fragment,null,_e,_&&s.createElement("span",null,_)):_,Ce=s.createElement("span",Object.assign({},U,{ref:t,className:pe,style:Q}),Ie,me,K&&s.createElement(Jj,{key:"preset",prefixCls:re}),Y&&s.createElement(e7,{key:"status",prefixCls:re}));return ae(be?s.createElement(vl,{component:"Tag"},Ce):Ce)});GP.CheckableTag=Kj;var n7=GP,r7=he(38920),XP=he(30767),i7=he(33598),o7=e=>{const t=e!=null&&e.algorithm?(0,J.jG)(e.algorithm):r7.Z,o=Object.assign(Object.assign({},XP.Z),e==null?void 0:e.token);return(0,J.t2)(o,{override:e==null?void 0:e.token},t,i7.Z)},T2=he(20284),M2=he(28893),a7=he(10154),s7=he(79319);function l7(e){const{sizeUnit:t,sizeStep:o}=e,i=o-2;return{sizeXXL:t*(i+10),sizeXL:t*(i+6),sizeLG:t*(i+2),sizeMD:t*(i+2),sizeMS:t*(i+1),size:t*i,sizeSM:t*i,sizeXS:t*(i-1),sizeXXS:t*(i-1)}}var c7=(e,t)=>{const o=t!=null?t:(0,M2.Z)(e),i=o.fontSizeSM,u=o.controlHeight-4;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},o),l7(t!=null?t:e)),(0,s7.Z)(i)),{controlHeight:u}),(0,a7.Z)(Object.assign(Object.assign({},o),{controlHeight:u})))},u7=he(40329);const Fd=(e,t)=>new Es.t(e).setA(t).toRgbString(),Kv=(e,t)=>new Es.t(e).lighten(t).toHexString(),d7=e=>{const t=(0,Em.R_)(e,{theme:"dark"});return{1:t[0],2:t[1],3:t[2],4:t[3],5:t[6],6:t[5],7:t[4],8:t[6],9:t[5],10:t[4]}},f7=(e,t)=>{const o=e||"#000",i=t||"#fff";return{colorBgBase:o,colorTextBase:i,colorText:Fd(i,.85),colorTextSecondary:Fd(i,.65),colorTextTertiary:Fd(i,.45),colorTextQuaternary:Fd(i,.25),colorFill:Fd(i,.18),colorFillSecondary:Fd(i,.12),colorFillTertiary:Fd(i,.08),colorFillQuaternary:Fd(i,.04),colorBgSolid:Fd(i,.95),colorBgSolidHover:Fd(i,1),colorBgSolidActive:Fd(i,.9),colorBgElevated:Kv(o,12),colorBgContainer:Kv(o,8),colorBgLayout:Kv(o,0),colorBgSpotlight:Kv(o,26),colorBgBlur:Fd(i,.04),colorBorder:Kv(o,26),colorBorderSecondary:Kv(o,19)}};var h7=(e,t)=>{const o=Object.keys(XP.M).map(u=>{const g=(0,Em.R_)(e[u],{theme:"dark"});return Array.from({length:10},()=>1).reduce((_,x,S)=>(_[`${u}-${S+1}`]=g[S],_[`${u}${S+1}`]=g[S],_),{})}).reduce((u,g)=>(u=Object.assign(Object.assign({},u),g),u),{}),i=t!=null?t:(0,M2.Z)(e);return Object.assign(Object.assign(Object.assign({},i),o),(0,u7.Z)(e,{generateColorPalettes:d7,generateNeutralColorPalettes:f7}))};function p7(){const[e,t,o]=(0,Ur.ZP)();return{theme:e,token:t,hashId:o}}var m7={defaultSeed:T2.u_.token,useToken:p7,defaultAlgorithm:M2.Z,darkAlgorithm:h7,compactAlgorithm:c7,getDesignToken:o7,defaultConfig:T2.u_,_internalContext:T2.Mj},g7=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};const{TimePicker:v7,RangePicker:y7}=UI,_7=s.forwardRef((e,t)=>s.createElement(y7,Object.assign({},e,{picker:"time",mode:void 0,ref:t}))),ab=s.forwardRef((e,t)=>{var{addon:o,renderExtraFooter:i,variant:u,bordered:g}=e,_=g7(e,["addon","renderExtraFooter","variant","bordered"]);const[x]=(0,Pu.Z)("timePicker",u,g),S=s.useMemo(()=>{if(i)return i;if(o)return o},[o,i]);return s.createElement(v7,Object.assign({},_,{mode:void 0,ref:t,renderExtraFooter:S,variant:x}))}),qP=ft(ab,"popupAlign",void 0,"picker");ab._InternalPanelDoNotUseOrYouWillBeFired=qP,ab.RangePicker=_7,ab._InternalPanelDoNotUseOrYouWillBeFired=qP;var b7=ab;const x7=e=>{const{componentCls:t,calc:o}=e;return{[t]:Object.assign(Object.assign({},(0,mn.Wf)(e)),{margin:0,padding:0,listStyle:"none",[`${t}-item`]:{position:"relative",margin:0,paddingBottom:e.itemPaddingBottom,fontSize:e.fontSize,listStyle:"none","&-tail":{position:"absolute",insetBlockStart:e.itemHeadSize,insetInlineStart:o(o(e.itemHeadSize).sub(e.tailWidth)).div(2).equal(),height:`calc(100% - ${(0,J.bf)(e.itemHeadSize)})`,borderInlineStart:`${(0,J.bf)(e.tailWidth)} ${e.lineType} ${e.tailColor}`},"&-pending":{[`${t}-item-head`]:{fontSize:e.fontSizeSM,backgroundColor:"transparent"},[`${t}-item-tail`]:{display:"none"}},"&-head":{position:"absolute",width:e.itemHeadSize,height:e.itemHeadSize,backgroundColor:e.dotBg,border:`${(0,J.bf)(e.dotBorderWidth)} ${e.lineType} transparent`,borderRadius:"50%","&-blue":{color:e.colorPrimary,borderColor:e.colorPrimary},"&-red":{color:e.colorError,borderColor:e.colorError},"&-green":{color:e.colorSuccess,borderColor:e.colorSuccess},"&-gray":{color:e.colorTextDisabled,borderColor:e.colorTextDisabled}},"&-head-custom":{position:"absolute",insetBlockStart:o(e.itemHeadSize).div(2).equal(),insetInlineStart:o(e.itemHeadSize).div(2).equal(),width:"auto",height:"auto",marginBlockStart:0,paddingBlock:e.customHeadPaddingVertical,lineHeight:1,textAlign:"center",border:0,borderRadius:0,transform:"translate(-50%, -50%)"},"&-content":{position:"relative",insetBlockStart:o(o(e.fontSize).mul(e.lineHeight).sub(e.fontSize)).mul(-1).add(e.lineWidth).equal(),marginInlineStart:o(e.margin).add(e.itemHeadSize).equal(),marginInlineEnd:0,marginBlockStart:0,marginBlockEnd:0,wordBreak:"break-word"},"&-last":{[`> ${t}-item-tail`]:{display:"none"},[`> ${t}-item-content`]:{minHeight:o(e.controlHeightLG).mul(1.2).equal()}}},[`&${t}-alternate,
        &${t}-right,
        &${t}-label`]:{[`${t}-item`]:{"&-tail, &-head, &-head-custom":{insetInlineStart:"50%"},"&-head":{marginInlineStart:o(e.marginXXS).mul(-1).equal(),"&-custom":{marginInlineStart:o(e.tailWidth).div(2).equal()}},"&-left":{[`${t}-item-content`]:{insetInlineStart:`calc(50% - ${(0,J.bf)(e.marginXXS)})`,width:`calc(50% - ${(0,J.bf)(e.marginSM)})`,textAlign:"start"}},"&-right":{[`${t}-item-content`]:{width:`calc(50% - ${(0,J.bf)(e.marginSM)})`,margin:0,textAlign:"end"}}}},[`&${t}-right`]:{[`${t}-item-right`]:{[`${t}-item-tail,
            ${t}-item-head,
            ${t}-item-head-custom`]:{insetInlineStart:`calc(100% - ${(0,J.bf)(o(o(e.itemHeadSize).add(e.tailWidth)).div(2).equal())})`},[`${t}-item-content`]:{width:`calc(100% - ${(0,J.bf)(o(e.itemHeadSize).add(e.marginXS).equal())})`}}},[`&${t}-pending
        ${t}-item-last
        ${t}-item-tail`]:{display:"block",height:`calc(100% - ${(0,J.bf)(e.margin)})`,borderInlineStart:`${(0,J.bf)(e.tailWidth)} dotted ${e.tailColor}`},[`&${t}-reverse
        ${t}-item-last
        ${t}-item-tail`]:{display:"none"},[`&${t}-reverse ${t}-item-pending`]:{[`${t}-item-tail`]:{insetBlockStart:e.margin,display:"block",height:`calc(100% - ${(0,J.bf)(e.margin)})`,borderInlineStart:`${(0,J.bf)(e.tailWidth)} dotted ${e.tailColor}`},[`${t}-item-content`]:{minHeight:o(e.controlHeightLG).mul(1.2).equal()}},[`&${t}-label`]:{[`${t}-item-label`]:{position:"absolute",insetBlockStart:o(o(e.fontSize).mul(e.lineHeight).sub(e.fontSize)).mul(-1).add(e.tailWidth).equal(),width:`calc(50% - ${(0,J.bf)(e.marginSM)})`,textAlign:"end"},[`${t}-item-right`]:{[`${t}-item-label`]:{insetInlineStart:`calc(50% + ${(0,J.bf)(e.marginSM)})`,width:`calc(50% - ${(0,J.bf)(e.marginSM)})`,textAlign:"start"}}},"&-rtl":{direction:"rtl",[`${t}-item-head-custom`]:{transform:"translate(50%, -50%)"}}})}},C7=e=>({tailColor:e.colorSplit,tailWidth:e.lineWidthBold,dotBorderWidth:e.wireframe?e.lineWidthBold:e.lineWidth*3,dotBg:e.colorBgContainer,itemPaddingBottom:e.padding*1.25});var w7=(0,Ae.I$)("Timeline",e=>{const t=(0,vn.IX)(e,{itemHeadSize:10,customHeadPaddingVertical:e.paddingXXS,paddingInlineEnd:2});return[x7(t)]},C7),S7=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o},KP=e=>{var{prefixCls:t,className:o,color:i="blue",dot:u,pending:g=!1,position:_,label:x,children:S}=e,T=S7(e,["prefixCls","className","color","dot","pending","position","label","children"]);const{getPrefixCls:M}=s.useContext(De.E_),R=M("timeline",t),N=oe()(`${R}-item`,{[`${R}-item-pending`]:g},o),F=/blue|red|green|gray/.test(i||"")?void 0:i,B=oe()(`${R}-item-head`,{[`${R}-item-head-custom`]:!!u,[`${R}-item-head-${i}`]:!F});return s.createElement("li",Object.assign({},T,{className:N}),x&&s.createElement("div",{className:`${R}-item-label`},x),s.createElement("div",{className:`${R}-item-tail`}),s.createElement("div",{className:B,style:{borderColor:F,color:F}},u),s.createElement("div",{className:`${R}-item-content`},S))},YP=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o},E7=e=>{var{prefixCls:t,className:o,pending:i=!1,children:u,items:g,rootClassName:_,reverse:x=!1,direction:S,hashId:T,pendingDot:M,mode:R=""}=e,N=YP(e,["prefixCls","className","pending","children","items","rootClassName","reverse","direction","hashId","pendingDot","mode"]);const F=(q,Q)=>R==="alternate"?q==="right"?`${t}-item-right`:q==="left"?`${t}-item-left`:Q%2===0?`${t}-item-left`:`${t}-item-right`:R==="left"?`${t}-item-left`:R==="right"?`${t}-item-right`:q==="right"?`${t}-item-right`:"",B=(0,Be.Z)(g||[]),V=typeof i=="boolean"?null:i;i&&B.push({pending:!!i,dot:M||s.createElement(mo.Z,null),children:V}),x&&B.reverse();const j=B.length,H=`${t}-item-last`,U=B.filter(q=>!!q).map((q,Q)=>{var re;const ae=Q===j-2?H:"",se=Q===j-1?H:"",{className:de}=q,pe=YP(q,["className"]);return s.createElement(KP,Object.assign({},pe,{className:oe()([de,!x&&i?ae:se,F((re=q==null?void 0:q.position)!==null&&re!==void 0?re:"",Q)]),key:(q==null?void 0:q.key)||Q}))}),K=B.some(q=>!!(q!=null&&q.label)),Y=oe()(t,{[`${t}-pending`]:!!i,[`${t}-reverse`]:!!x,[`${t}-${R}`]:!!R&&!K,[`${t}-label`]:K,[`${t}-rtl`]:S==="rtl"},o,_,T);return s.createElement("ul",Object.assign({},N,{className:Y}),U)};function I7(e,t){return e&&Array.isArray(e)?e:(0,El.Z)(t).map(o=>{var i,u;return Object.assign({children:(u=(i=o==null?void 0:o.props)===null||i===void 0?void 0:i.children)!==null&&u!==void 0?u:""},o.props)})}var T7=I7,M7=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};const JP=e=>{const{getPrefixCls:t,direction:o,timeline:i}=s.useContext(De.E_),{prefixCls:u,children:g,items:_,className:x,style:S}=e,T=M7(e,["prefixCls","children","items","className","style"]),M=t("timeline",u),R=(0,po.Z)(M),[N,F,B]=w7(M,R),V=T7(_,g);return N(s.createElement(E7,Object.assign({},T,{className:oe()(i==null?void 0:i.className,x,B,R),style:Object.assign(Object.assign({},i==null?void 0:i.style),S),prefixCls:M,direction:o,items:V,hashId:F})))};JP.Item=KP;var P7=JP,O7=P7;function QP(e){return e!==null&&(0,Tt.Z)(e)==="object"}function eO(e,t,o){if(e===!1||t===!1&&(!QP(e)||!e.closeIcon))return null;var i=typeof t!="boolean"?t:void 0;if(QP(e)){var u;return(0,fe.Z)((0,fe.Z)({},e),{},{closeIcon:(u=e.closeIcon)!==null&&u!==void 0?u:i})}return o||e||t?{closeIcon:i}:"empty"}function $7(e,t,o,i){return s.useMemo(function(){var u=eO(e,t,!1),g=eO(o,i,!0);return u!=="empty"?u:g},[o,i,e,t])}function R7(e){var t=window.innerWidth||document.documentElement.clientWidth,o=window.innerHeight||document.documentElement.clientHeight,i=e.getBoundingClientRect(),u=i.top,g=i.right,_=i.bottom,x=i.left;return u>=0&&x>=0&&g<=t&&_<=o}function A7(e,t,o){var i;return(i=o!=null?o:t)!==null&&i!==void 0?i:e===null?"center":"bottom"}function D7(e){return typeof e=="number"&&!Number.isNaN(e)}function z7(e,t,o,i){var u=(0,s.useState)(void 0),g=(0,ve.Z)(u,2),_=g[0],x=g[1];(0,yt.Z)(function(){var V=typeof e=="function"?e():e;x(V||null)});var S=(0,s.useState)(null),T=(0,ve.Z)(S,2),M=T[0],R=T[1],N=(0,Or.Z)(function(){if(_){!R7(_)&&t&&_.scrollIntoView(i);var V=_.getBoundingClientRect(),j=V.left,H=V.top,U=V.width,K=V.height,Y={left:j,top:H,width:U,height:K,radius:0};R(function(q){return JSON.stringify(q)!==JSON.stringify(Y)?Y:q})}else R(null)}),F=function(j){var H;return(H=Array.isArray(o==null?void 0:o.offset)?o==null?void 0:o.offset[j]:o==null?void 0:o.offset)!==null&&H!==void 0?H:6};(0,yt.Z)(function(){return N(),window.addEventListener("resize",N),function(){window.removeEventListener("resize",N)}},[_,t,N]);var B=(0,s.useMemo)(function(){if(!M)return M;var V=F(0),j=F(1),H=D7(o==null?void 0:o.radius)?o==null?void 0:o.radius:2;return{left:M.left-V,top:M.top-j,width:M.width+V*2,height:M.height+j*2,radius:H}},[M,o]);return[B,_]}var vC={fill:"transparent",pointerEvents:"auto"},L7=function(t){var o=t.prefixCls,i=t.rootClassName,u=t.pos,g=t.showMask,_=t.style,x=_===void 0?{}:_,S=t.fill,T=S===void 0?"rgba(0,0,0,0.5)":S,M=t.open,R=t.animated,N=t.zIndex,F=t.disabledInteraction,B=(0,yd.Z)(),V="".concat(o,"-mask-").concat(B),j=(0,Tt.Z)(R)==="object"?R==null?void 0:R.placeholder:R,H=typeof navigator!="undefined"&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent),U=H?{width:"100%",height:"100%"}:{width:"100vw",height:"100vh"};return s.createElement(af.Z,{open:M,autoLock:!0},s.createElement("div",{className:oe()("".concat(o,"-mask"),i),style:(0,fe.Z)({position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:N,pointerEvents:u&&!F?"none":"auto"},x)},g?s.createElement("svg",{style:{width:"100%",height:"100%"}},s.createElement("defs",null,s.createElement("mask",{id:V},s.createElement("rect",(0,Pt.Z)({x:"0",y:"0"},U,{fill:"white"})),u&&s.createElement("rect",{x:u.left,y:u.top,rx:u.radius,width:u.width,height:u.height,fill:"black",className:j?"".concat(o,"-placeholder-animated"):""}))),s.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:T,mask:"url(#".concat(V,")")}),u&&s.createElement(s.Fragment,null,s.createElement("rect",(0,Pt.Z)({},vC,{x:"0",y:"0",width:"100%",height:u.top})),s.createElement("rect",(0,Pt.Z)({},vC,{x:"0",y:"0",width:u.left,height:"100%"})),s.createElement("rect",(0,Pt.Z)({},vC,{x:"0",y:u.top+u.height,width:"100%",height:"calc(100vh - ".concat(u.top+u.height,"px)")})),s.createElement("rect",(0,Pt.Z)({},vC,{x:u.left+u.width,y:"0",width:"calc(100vw - ".concat(u.left+u.width,"px)"),height:"100%"})))):null))},N7=L7,$G={adjustX:1,adjustY:1},B7=[0,0],tO={left:{points:["cr","cl"],offset:[-8,0]},right:{points:["cl","cr"],offset:[8,0]},top:{points:["bc","tc"],offset:[0,-8]},bottom:{points:["tc","bc"],offset:[0,8]},topLeft:{points:["bl","tl"],offset:[0,-8]},leftTop:{points:["tr","tl"],offset:[-8,0]},topRight:{points:["br","tr"],offset:[0,-8]},rightTop:{points:["tl","tr"],offset:[8,0]},bottomRight:{points:["tr","br"],offset:[0,8]},rightBottom:{points:["bl","br"],offset:[8,0]},bottomLeft:{points:["tl","bl"],offset:[0,8]},leftBottom:{points:["br","bl"],offset:[-8,0]}};function nO(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t={};return Object.keys(tO).forEach(function(o){t[o]=(0,fe.Z)((0,fe.Z)({},tO[o]),{},{autoArrow:e,targetOffset:B7})}),t}var RG=nO();function F7(e){var t,o=e.prefixCls,i=e.current,u=e.total,g=e.title,_=e.description,x=e.onClose,S=e.onPrev,T=e.onNext,M=e.onFinish,R=e.className,N=e.closable,F=(0,ir.Z)(N||{},!0),B=(t=N==null?void 0:N.closeIcon)!==null&&t!==void 0?t:s.createElement("span",{className:"".concat(o,"-close-x")},"\xD7"),V=!!N;return s.createElement("div",{className:oe()("".concat(o,"-content"),R)},s.createElement("div",{className:"".concat(o,"-inner")},V&&s.createElement("button",(0,Pt.Z)({type:"button",onClick:x,"aria-label":"Close"},F,{className:"".concat(o,"-close")}),B),s.createElement("div",{className:"".concat(o,"-header")},s.createElement("div",{className:"".concat(o,"-title")},g)),s.createElement("div",{className:"".concat(o,"-description")},_),s.createElement("div",{className:"".concat(o,"-footer")},s.createElement("div",{className:"".concat(o,"-sliders")},u>1?(0,Be.Z)(Array.from({length:u}).keys()).map(function(j,H){return s.createElement("span",{key:j,className:H===i?"active":""})}):null),s.createElement("div",{className:"".concat(o,"-buttons")},i!==0?s.createElement("button",{className:"".concat(o,"-prev-btn"),onClick:S},"Prev"):null,i===u-1?s.createElement("button",{className:"".concat(o,"-finish-btn"),onClick:M},"Finish"):s.createElement("button",{className:"".concat(o,"-next-btn"),onClick:T},"Next")))))}var k7=function(t){var o=t.current,i=t.renderPanel;return s.createElement(s.Fragment,null,typeof i=="function"?i(t,o):s.createElement(F7,t))},j7=k7,Z7=["prefixCls","steps","defaultCurrent","current","onChange","onClose","onFinish","open","mask","arrow","rootClassName","placement","renderPanel","gap","animated","scrollIntoViewOptions","zIndex","closeIcon","closable","builtinPlacements","disabledInteraction"],V7={left:"50%",top:"50%",width:1,height:1},rO={block:"center",inline:"center"},H7=function(t){var o=t.prefixCls,i=o===void 0?"rc-tour":o,u=t.steps,g=u===void 0?[]:u,_=t.defaultCurrent,x=t.current,S=t.onChange,T=t.onClose,M=t.onFinish,R=t.open,N=t.mask,F=N===void 0?!0:N,B=t.arrow,V=B===void 0?!0:B,j=t.rootClassName,H=t.placement,U=t.renderPanel,K=t.gap,Y=t.animated,q=t.scrollIntoViewOptions,Q=q===void 0?rO:q,re=t.zIndex,ae=re===void 0?1001:re,se=t.closeIcon,de=t.closable,pe=t.builtinPlacements,ge=t.disabledInteraction,me=(0,Ve.Z)(t,Z7),be=s.useRef(),_e=(0,Jo.Z)(0,{value:x,defaultValue:_}),Ie=(0,ve.Z)(_e,2),Ce=Ie[0],Le=Ie[1],ze=(0,Jo.Z)(void 0,{value:R,postState:function(Gt){return Ce<0||Ce>=g.length?!1:Gt!=null?Gt:!0}}),ke=(0,ve.Z)(ze,2),Ze=ke[0],je=ke[1],Ue=s.useState(Ze),He=(0,ve.Z)(Ue,2),Qe=He[0],We=He[1],it=s.useRef(Ze);(0,yt.Z)(function(){Ze&&(it.current||Le(0),We(!0)),it.current=Ze},[Ze]);var Je=g[Ce]||{},wt=Je.target,Dt=Je.placement,ct=Je.style,ht=Je.arrow,ut=Je.className,tt=Je.mask,xt=Je.scrollIntoViewOptions,_t=xt===void 0?rO:xt,dn=Je.closeIcon,on=Je.closable,Ut=$7(on,dn,de,se),en=Ze&&(tt!=null?tt:F),kt=_t!=null?_t:Q,cn=z7(wt,R,K,kt),zn=(0,ve.Z)(cn,2),An=zn[0],sr=zn[1],yr=A7(sr,H,Dt),Vr=sr?typeof ht=="undefined"?V:ht:!1,Qn=(0,Tt.Z)(Vr)==="object"?Vr.pointAtCenter:!1;(0,yt.Z)(function(){var yn;(yn=be.current)===null||yn===void 0||yn.forceAlign()},[Qn,Ce]);var Un=function(Gt){Le(Gt),S==null||S(Gt)},er=(0,s.useMemo)(function(){return pe?typeof pe=="function"?pe({arrowPointAtCenter:Qn}):pe:nO(Qn)},[pe,Qn]);if(sr===void 0||!Qe)return null;var Ir=function(){je(!1),T==null||T(Ce)},pr=function(){return s.createElement(j7,(0,Pt.Z)({arrow:Vr,key:"content",prefixCls:i,total:g.length,renderPanel:U,onPrev:function(){Un(Ce-1)},onNext:function(){Un(Ce+1)},onClose:Ir,current:Ce,onFinish:function(){Ir(),M==null||M()}},g[Ce],{closable:Ut}))},Zr=typeof en=="boolean"?en:!!en,xn=typeof en=="boolean"?void 0:en,fn=function(Gt){return Gt||sr||document.body};return s.createElement(s.Fragment,null,s.createElement(N7,{zIndex:ae,prefixCls:i,pos:An,showMask:Zr,style:xn==null?void 0:xn.style,fill:xn==null?void 0:xn.color,open:Ze,animated:Y,rootClassName:j,disabledInteraction:ge}),s.createElement(Ka.Z,(0,Pt.Z)({},me,{builtinPlacements:er,ref:be,popupStyle:ct,popupPlacement:yr,popupVisible:Ze,popupClassName:oe()(j,ut),prefixCls:i,popup:pr,forceRender:!1,destroyPopupOnHide:!0,zIndex:ae,getTriggerDOMNode:fn,arrow:!!Vr}),s.createElement(af.Z,{open:Ze,autoLock:!0},s.createElement("div",{className:oe()(j,"".concat(i,"-target-placeholder")),style:(0,fe.Z)((0,fe.Z)({},An||V7),{},{position:"fixed",pointerEvents:"none"})}))))},U7=H7,W7=U7;function P2(e){return e!=null}var iO=e=>{var t,o;const{stepProps:i,current:u,type:g,indicatorsRender:_}=e,{prefixCls:x,total:S=1,title:T,onClose:M,onPrev:R,onNext:N,onFinish:F,cover:B,description:V,nextButtonProps:j,prevButtonProps:H,type:U,closable:K}=i,Y=U!=null?U:g,q=s.createElement("button",{type:"button",onClick:M,className:`${x}-close`},(K==null?void 0:K.closeIcon)||s.createElement(nr,{className:`${x}-close-icon`})),Q=u===S-1,re=()=>{var Ie;R==null||R(),(Ie=H==null?void 0:H.onClick)===null||Ie===void 0||Ie.call(H)},ae=()=>{var Ie;Q?F==null||F():N==null||N(),(Ie=j==null?void 0:j.onClick)===null||Ie===void 0||Ie.call(j)},se=P2(T)?s.createElement("div",{className:`${x}-header`},s.createElement("div",{className:`${x}-title`},T)):null,de=P2(V)?s.createElement("div",{className:`${x}-description`},V):null,pe=P2(B)?s.createElement("div",{className:`${x}-cover`},B):null;let ge;_?ge=_(u,S):ge=(0,Be.Z)(Array.from({length:S}).keys()).map((Ie,Ce)=>s.createElement("span",{key:Ie,className:oe()(Ce===u&&`${x}-indicator-active`,`${x}-indicator`)}));const me=Y==="primary"?"default":"primary",be={type:"default",ghost:Y==="primary"},[_e]=(0,Pr.Z)("Tour",Ac.Z.Tour);return s.createElement("div",{className:`${x}-content`},s.createElement("div",{className:`${x}-inner`},K&&q,pe,se,de,s.createElement("div",{className:`${x}-footer`},S>1&&s.createElement("div",{className:`${x}-indicators`},ge),s.createElement("div",{className:`${x}-buttons`},u!==0?s.createElement(Xl,Object.assign({},be,H,{onClick:re,size:"small",className:oe()(`${x}-prev-btn`,H==null?void 0:H.className)}),(t=H==null?void 0:H.children)!==null&&t!==void 0?t:_e==null?void 0:_e.Previous):null,s.createElement(Xl,Object.assign({type:me},j,{onClick:ae,size:"small",className:oe()(`${x}-next-btn`,j==null?void 0:j.className)}),(o=j==null?void 0:j.children)!==null&&o!==void 0?o:Q?_e==null?void 0:_e.Finish:_e==null?void 0:_e.Next)))))};const G7=e=>{const{componentCls:t,padding:o,paddingXS:i,borderRadius:u,borderRadiusXS:g,colorPrimary:_,colorFill:x,indicatorHeight:S,indicatorWidth:T,boxShadowTertiary:M,zIndexPopup:R,colorBgElevated:N,fontWeightStrong:F,marginXS:B,colorTextLightSolid:V,tourBorderRadius:j,colorWhite:H,primaryNextBtnHoverBg:U,closeBtnSize:K,motionDurationSlow:Y,antCls:q,primaryPrevBtnBg:Q}=e;return[{[t]:Object.assign(Object.assign({},(0,mn.Wf)(e)),{position:"absolute",zIndex:R,maxWidth:"fit-content",visibility:"visible",width:520,"--antd-arrow-background-color":N,"&-pure":{maxWidth:"100%",position:"relative"},[`&${t}-hidden`]:{display:"none"},[`${t}-content`]:{position:"relative"},[`${t}-inner`]:{textAlign:"start",textDecoration:"none",borderRadius:j,boxShadow:M,position:"relative",backgroundColor:N,border:"none",backgroundClip:"padding-box",[`${t}-close`]:Object.assign({position:"absolute",top:o,insetInlineEnd:o,color:e.colorIcon,background:"none",border:"none",width:K,height:K,borderRadius:e.borderRadiusSM,transition:`background-color ${e.motionDurationMid}, color ${e.motionDurationMid}`,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer","&:hover":{color:e.colorIconHover,backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive}},(0,mn.Qy)(e)),[`${t}-cover`]:{textAlign:"center",padding:`${(0,J.bf)(e.calc(o).add(K).add(i).equal())} ${(0,J.bf)(o)} 0`,img:{width:"100%"}},[`${t}-header`]:{padding:`${(0,J.bf)(o)} ${(0,J.bf)(o)} ${(0,J.bf)(i)}`,width:`calc(100% - ${(0,J.bf)(K)})`,wordBreak:"break-word",[`${t}-title`]:{fontWeight:F}},[`${t}-description`]:{padding:`0 ${(0,J.bf)(o)}`,wordWrap:"break-word"},[`${t}-footer`]:{padding:`${(0,J.bf)(i)} ${(0,J.bf)(o)} ${(0,J.bf)(o)}`,textAlign:"end",borderRadius:`0 0 ${(0,J.bf)(g)} ${(0,J.bf)(g)}`,display:"flex",[`${t}-indicators`]:{display:"inline-block",[`${t}-indicator`]:{width:T,height:S,display:"inline-block",borderRadius:"50%",background:x,"&:not(:last-child)":{marginInlineEnd:S},"&-active":{background:_}}},[`${t}-buttons`]:{marginInlineStart:"auto",[`${q}-btn`]:{marginInlineStart:B}}}},[`${t}-primary, &${t}-primary`]:{"--antd-arrow-background-color":_,[`${t}-inner`]:{color:V,textAlign:"start",textDecoration:"none",backgroundColor:_,borderRadius:u,boxShadow:M,[`${t}-close`]:{color:V},[`${t}-indicators`]:{[`${t}-indicator`]:{background:Q,"&-active":{background:V}}},[`${t}-prev-btn`]:{color:V,borderColor:Q,backgroundColor:_,"&:hover":{backgroundColor:Q,borderColor:"transparent"}},[`${t}-next-btn`]:{color:_,borderColor:"transparent",background:H,"&:hover":{background:U}}}}}),[`${t}-mask`]:{[`${t}-placeholder-animated`]:{transition:`all ${Y}`}},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${t}-inner`]:{borderRadius:e.min(j,sh.qN)}}},(0,sh.ZP)(e,"var(--antd-arrow-background-color)")]},X7=e=>Object.assign(Object.assign({zIndexPopup:e.zIndexPopupBase+70,closeBtnSize:e.fontSize*e.lineHeight,primaryPrevBtnBg:new Es.t(e.colorTextLightSolid).setA(.15).toRgbString(),primaryNextBtnHoverBg:new Es.t(e.colorBgTextHover).onBackground(e.colorWhite).toRgbString()},(0,sh.wZ)({contentRadius:e.borderRadiusLG,limitVerticalRadius:!0})),(0,nm.w)(e));var oO=(0,Ae.I$)("Tour",e=>{const{borderRadiusLG:t}=e,o=(0,vn.IX)(e,{indicatorWidth:6,indicatorHeight:6,tourBorderRadius:t});return[G7(o)]},X7),q7=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o},K7=pt(e=>{const{prefixCls:t,current:o=0,total:i=6,className:u,style:g,type:_,closable:x,closeIcon:S}=e,T=q7(e,["prefixCls","current","total","className","style","type","closable","closeIcon"]),{getPrefixCls:M}=s.useContext(De.E_),R=M("tour",t),[N,F,B]=oO(R),[V,j]=zp({closable:x,closeIcon:S},null,{closable:!0,closeIconRender:H=>s.isValidElement(H)?(0,wr.Tm)(H,{className:oe()(H.props.className,`${R}-close-icon`)}):H});return N(s.createElement(Kb,{prefixCls:R,hashId:F,className:oe()(u,`${R}-pure`,_&&`${R}-${_}`,B),style:g},s.createElement(iO,{stepProps:Object.assign(Object.assign({},T),{prefixCls:R,total:i,closable:V?{closeIcon:j}:void 0}),current:o,type:_})))}),Y7=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};const aO=e=>{const{prefixCls:t,type:o,rootClassName:i,indicatorsRender:u,steps:g,closeIcon:_}=e,x=Y7(e,["prefixCls","type","rootClassName","indicatorsRender","steps","closeIcon"]),{getPrefixCls:S,direction:T,tour:M}=(0,s.useContext)(De.E_),R=S("tour",t),[N,F,B]=oO(R),[,V]=(0,Ur.ZP)(),j=s.useMemo(()=>g==null?void 0:g.map(Q=>{var re;return Object.assign(Object.assign({},Q),{className:oe()(Q.className,{[`${R}-primary`]:((re=Q.type)!==null&&re!==void 0?re:o)==="primary"})})}),[g,o]),H=Q=>{var re;return(0,Uy.Z)({arrowPointAtCenter:(re=Q==null?void 0:Q.arrowPointAtCenter)!==null&&re!==void 0?re:!0,autoAdjustOverflow:!0,offset:V.marginXXS,arrowWidth:V.sizePopupArrow,borderRadius:V.borderRadius})},U=oe()({[`${R}-rtl`]:T==="rtl"},F,B,i),K=(Q,re)=>s.createElement(iO,{type:o,stepProps:Q,current:re,indicatorsRender:u}),[Y,q]=(0,Io.Cn)("Tour",x.zIndex);return N(s.createElement(df.Z.Provider,{value:q},s.createElement(W7,Object.assign({},x,{closeIcon:_!=null?_:M==null?void 0:M.closeIcon,zIndex:Y,rootClassName:U,prefixCls:R,animated:!0,renderPanel:K,builtinPlacements:H,steps:j}))))};aO._InternalPanelDoNotUseOrYouWillBeFired=K7;var J7=aO;const yC=e=>{const t=new Map;return e.forEach((o,i)=>{t.set(o,i)}),t},Q7=e=>{const t=new Map;return e.forEach((o,i)=>{let{disabled:u,key:g}=o;u&&t.set(g,i)}),t};var eZ=(e,t,o)=>{const i=s.useMemo(()=>(e||[]).map(_=>t?Object.assign(Object.assign({},_),{key:t(_)}):_),[e,t]),[u,g]=s.useMemo(()=>{var _;const x=[],S=Array.from({length:(_=o==null?void 0:o.length)!==null&&_!==void 0?_:0}),T=yC(o||[]);return i.forEach(M=>{if(T.has(M.key)){const R=T.get(M.key);S[R]=M}else x.push(M)}),[x,S]},[i,o]);return[i,u.filter(Boolean),g.filter(Boolean)]};const tZ=[];function _C(e,t){const o=e.filter(i=>t.has(i));return e.length===o.length?e:o}function sO(e){return Array.from(e).join(";")}function nZ(e,t,o){const[i,u]=s.useMemo(()=>[new Set(e.map(R=>R==null?void 0:R.key)),new Set(t.map(R=>R==null?void 0:R.key))],[e,t]),[g,_]=(0,Qi.C8)(tZ,{value:o}),x=s.useMemo(()=>_C(g,i),[g,i]),S=s.useMemo(()=>_C(g,u),[g,u]);s.useEffect(()=>{_([].concat((0,Be.Z)(_C(g,i)),(0,Be.Z)(_C(g,u))))},[sO(i),sO(u)]);const T=(0,Qi.zX)(R=>{_([].concat((0,Be.Z)(R),(0,Be.Z)(S)))}),M=(0,Qi.zX)(R=>{_([].concat((0,Be.Z)(x),(0,Be.Z)(R)))});return[x,S,T,M]}var rZ=nZ,iZ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},oZ=iZ,aZ=function(t,o){return s.createElement(Fn.Z,(0,Pt.Z)({},t,{ref:o,icon:oZ}))},sZ=s.forwardRef(aZ),lO=sZ;const lZ=e=>{const{renderedText:t,renderedEl:o,item:i,checked:u,disabled:g,prefixCls:_,onClick:x,onRemove:S,showRemove:T}=e,M=oe()(`${_}-content-item`,{[`${_}-content-item-disabled`]:g||i.disabled,[`${_}-content-item-checked`]:u&&!i.disabled});let R;(typeof t=="string"||typeof t=="number")&&(R=String(t));const[N]=(0,Pr.Z)("Transfer",Ac.Z.Transfer),F={className:M,title:R},B=s.createElement("span",{className:`${_}-content-item-text`},o);return T?s.createElement("li",Object.assign({},F),B,s.createElement("button",{type:"button",disabled:g||i.disabled,className:`${_}-content-item-remove`,"aria-label":N==null?void 0:N.remove,onClick:()=>S==null?void 0:S(i)},s.createElement(lO,null))):(F.onClick=g||i.disabled?void 0:V=>x(i,V),s.createElement("li",Object.assign({},F),s.createElement(Qg,{className:`${_}-checkbox`,checked:u,disabled:g||i.disabled}),B))};var cZ=s.memo(lZ);const uZ=["handleFilter","handleClear","checkedKeys"],dZ=e=>Object.assign(Object.assign({},{simple:!0,showSizeChanger:!1,showLessItems:!1}),e),fZ=(e,t)=>{const{prefixCls:o,filteredRenderItems:i,selectedKeys:u,disabled:g,showRemove:_,pagination:x,onScroll:S,onItemSelect:T,onItemRemove:M}=e,[R,N]=s.useState(1),F=s.useMemo(()=>x?dZ(typeof x=="object"?x:{}):null,[x]),[B,V]=(0,Jo.Z)(10,{value:F==null?void 0:F.pageSize});s.useEffect(()=>{if(F){const re=Math.ceil(i.length/B);N(Math.min(R,re))}},[i,F,B]);const j=(re,ae)=>{T(re.key,!u.includes(re.key),ae)},H=re=>{M==null||M([re.key])},U=re=>{N(re)},K=(re,ae)=>{N(re),V(ae)},Y=s.useMemo(()=>F?i.slice((R-1)*B,R*B):i,[R,i,F,B]);s.useImperativeHandle(t,()=>({items:Y}));const q=F?s.createElement(Yx,{size:"small",disabled:g,simple:F.simple,pageSize:B,showLessItems:F.showLessItems,showSizeChanger:F.showSizeChanger,className:`${o}-pagination`,total:i.length,current:R,onChange:U,onShowSizeChange:K}):null,Q=oe()(`${o}-content`,{[`${o}-content-show-remove`]:_});return s.createElement(s.Fragment,null,s.createElement("ul",{className:Q,onScroll:S},(Y||[]).map(re=>{let{renderedEl:ae,renderedText:se,item:de}=re;return s.createElement(cZ,{key:de.key,item:de,renderedText:se,renderedEl:ae,prefixCls:o,showRemove:_,onClick:j,onRemove:H,checked:u.includes(de.key),disabled:g||de.disabled})})),q)};var hZ=s.forwardRef(fZ),cO=e=>{const{placeholder:t="",value:o,prefixCls:i,disabled:u,onChange:g,handleClear:_}=e,x=s.useCallback(S=>{g==null||g(S),S.target.value===""&&(_==null||_())},[g]);return s.createElement(t0,{placeholder:t,className:i,value:o,onChange:x,disabled:u,allowClear:!0,prefix:s.createElement(Z0,null)})};const pZ=()=>null;function mZ(e){return!!(e&&!s.isValidElement(e)&&Object.prototype.toString.call(e)==="[object Object]")}function sb(e){return e.filter(t=>!t.disabled).map(t=>t.key)}const gZ=e=>e!==void 0,vZ=e=>e&&typeof e=="object"?Object.assign(Object.assign({},e),{defaultValue:e.defaultValue||""}):{defaultValue:"",placeholder:""};var O2=e=>{const{prefixCls:t,dataSource:o=[],titleText:i="",checkedKeys:u,disabled:g,showSearch:_=!1,style:x,searchPlaceholder:S,notFoundContent:T,selectAll:M,deselectAll:R,selectCurrent:N,selectInvert:F,removeAll:B,removeCurrent:V,showSelectAll:j=!0,showRemove:H,pagination:U,direction:K,itemsUnit:Y,itemUnit:q,selectAllLabel:Q,selectionsIcon:re,footer:ae,renderList:se,onItemSelectAll:de,onItemRemove:pe,handleFilter:ge,handleClear:me,filterOption:be,render:_e=pZ}=e,Ie=vZ(_),[Ce,Le]=(0,s.useState)(Ie.defaultValue),ze=(0,s.useRef)({}),ke=Ut=>{Le(Ut.target.value),ge(Ut)},Ze=()=>{Le(""),me()},je=(Ut,en)=>be?be(Ce,en,K):Ut.includes(Ce),Ue=Ut=>{let en=se?se(Object.assign(Object.assign({},Ut),{onItemSelect:(cn,zn)=>Ut.onItemSelect(cn,zn)})):null;const kt=!!en;return kt||(en=s.createElement(hZ,Object.assign({ref:ze},Ut))),{customize:kt,bodyContent:en}},He=Ut=>{const en=_e(Ut),kt=mZ(en);return{item:Ut,renderedEl:kt?en.label:en,renderedText:kt?en.value:en}},Qe=(0,s.useMemo)(()=>Array.isArray(T)?T[K==="left"?0:1]:T,[T,K]),[We,it]=(0,s.useMemo)(()=>{const Ut=[],en=[];return o.forEach(kt=>{const cn=He(kt);Ce&&!je(cn.renderedText,kt)||(Ut.push(kt),en.push(cn))}),[Ut,en]},[o,Ce]),Je=(0,s.useMemo)(()=>We.filter(Ut=>u.includes(Ut.key)&&!Ut.disabled),[u,We]),wt=(0,s.useMemo)(()=>{if(Je.length===0)return"none";const Ut=yC(u);return We.every(en=>Ut.has(en.key)||!!en.disabled)?"all":"part"},[u,Je]),Dt=(0,s.useMemo)(()=>{const Ut=_?s.createElement("div",{className:`${t}-body-search-wrapper`},s.createElement(cO,{prefixCls:`${t}-search`,onChange:ke,handleClear:Ze,placeholder:Ie.placeholder||S,value:Ce,disabled:g})):null,{customize:en,bodyContent:kt}=Ue(Object.assign(Object.assign({},(0,Er.Z)(e,uZ)),{filteredItems:We,filteredRenderItems:it,selectedKeys:u}));let cn;return en?cn=s.createElement("div",{className:`${t}-body-customize-wrapper`},kt):cn=We.length?kt:s.createElement("div",{className:`${t}-body-not-found`},Qe),s.createElement("div",{className:oe()(`${t}-body`,{[`${t}-body-with-search`]:_})},Ut,cn)},[_,t,S,Ce,g,u,We,it,Qe]),ct=s.createElement(Qg,{disabled:o.filter(Ut=>!Ut.disabled).length===0||g,checked:wt==="all",indeterminate:wt==="part",className:`${t}-checkbox`,onChange:()=>{de==null||de(We.filter(Ut=>!Ut.disabled).map(Ut=>{let{key:en}=Ut;return en}),wt!=="all")}}),ht=(Ut,en)=>{if(Q)return typeof Q=="function"?Q({selectedCount:Ut,totalCount:en}):Q;const kt=en>1?Y:q;return s.createElement(s.Fragment,null,(Ut>0?`${Ut}/`:"")+en," ",kt)},ut=ae&&(ae.length<2?ae(e):ae(e,{direction:K})),tt=oe()(t,{[`${t}-with-pagination`]:!!U,[`${t}-with-footer`]:!!ut}),xt=ut?s.createElement("div",{className:`${t}-footer`},ut):null,_t=!H&&!U&&ct;let dn;H?dn=[U?{key:"removeCurrent",label:V,onClick(){var Ut;const en=sb((((Ut=ze.current)===null||Ut===void 0?void 0:Ut.items)||[]).map(kt=>kt.item));pe==null||pe(en)}}:null,{key:"removeAll",label:B,onClick(){pe==null||pe(sb(We))}}].filter(Boolean):dn=[{key:"selectAll",label:wt==="all"?R:M,onClick(){const Ut=sb(We);de==null||de(Ut,Ut.length!==u.length)}},U?{key:"selectCurrent",label:N,onClick(){var Ut;const en=((Ut=ze.current)===null||Ut===void 0?void 0:Ut.items)||[];de==null||de(sb(en.map(kt=>kt.item)),!0)}}:null,{key:"selectInvert",label:F,onClick(){var Ut;const en=sb((((Ut=ze.current)===null||Ut===void 0?void 0:Ut.items)||[]).map(zn=>zn.item)),kt=new Set(u),cn=new Set(kt);en.forEach(zn=>{kt.has(zn)?cn.delete(zn):cn.add(zn)}),de==null||de(Array.from(cn),"replace")}}];const on=s.createElement(Ux,{className:`${t}-header-dropdown`,menu:{items:dn},disabled:g},gZ(re)?re:s.createElement(em.Z,null));return s.createElement("div",{className:tt,style:x},s.createElement("div",{className:`${t}-header`},j?s.createElement(s.Fragment,null,_t,on):null,s.createElement("span",{className:`${t}-header-selected`},ht(Je.length,We.length)),s.createElement("span",{className:`${t}-header-title`},i)),Dt,xt)},uO=e=>{const{disabled:t,moveToLeft:o,moveToRight:i,leftArrowText:u="",rightArrowText:g="",leftActive:_,rightActive:x,className:S,style:T,direction:M,oneWay:R}=e;return s.createElement("div",{className:S,style:T},s.createElement(Xl,{type:"primary",size:"small",disabled:t||!x,onClick:i,icon:M!=="rtl"?s.createElement(Pc,null):s.createElement(nd,null)},g),!R&&s.createElement(Xl,{type:"primary",size:"small",disabled:t||!_,onClick:o,icon:M!=="rtl"?s.createElement(nd,null):s.createElement(Pc,null)},u))};const yZ=e=>{const{antCls:t,componentCls:o,listHeight:i,controlHeightLG:u}=e,g=`${t}-table`,_=`${t}-input`;return{[`${o}-customize-list`]:{[`${o}-list`]:{flex:"1 1 50%",width:"auto",height:"auto",minHeight:i,minWidth:0},[`${g}-wrapper`]:{[`${g}-small`]:{border:0,borderRadius:0,[`${g}-selection-column`]:{width:u,minWidth:u}},[`${g}-pagination${g}-pagination`]:{margin:0,padding:e.paddingXS}},[`${_}[disabled]`]:{backgroundColor:"transparent"}}}},dO=(e,t)=>{const{componentCls:o,colorBorder:i}=e;return{[`${o}-list`]:{borderColor:t,"&-search:not([disabled])":{borderColor:i}}}},_Z=e=>{const{componentCls:t}=e;return{[`${t}-status-error`]:Object.assign({},dO(e,e.colorError)),[`${t}-status-warning`]:Object.assign({},dO(e,e.colorWarning))}},bZ=e=>{const{componentCls:t,colorBorder:o,colorSplit:i,lineWidth:u,itemHeight:g,headerHeight:_,transferHeaderVerticalPadding:x,itemPaddingBlock:S,controlItemBgActive:T,colorTextDisabled:M,colorTextSecondary:R,listHeight:N,listWidth:F,listWidthLG:B,fontSizeIcon:V,marginXS:j,paddingSM:H,lineType:U,antCls:K,iconCls:Y,motionDurationSlow:q,controlItemBgHover:Q,borderRadiusLG:re,colorBgContainer:ae,colorText:se,controlItemBgActiveHover:de}=e,pe=(0,J.bf)(e.calc(re).sub(u).equal());return{display:"flex",flexDirection:"column",width:F,height:N,border:`${(0,J.bf)(u)} ${U} ${o}`,borderRadius:e.borderRadiusLG,"&-with-pagination":{width:B,height:"auto"},"&-search":{[`${Y}-search`]:{color:M}},"&-header":{display:"flex",flex:"none",alignItems:"center",height:_,padding:`${(0,J.bf)(e.calc(x).sub(u).equal())} ${(0,J.bf)(H)} ${(0,J.bf)(x)}`,color:se,background:ae,borderBottom:`${(0,J.bf)(u)} ${U} ${i}`,borderRadius:`${(0,J.bf)(re)} ${(0,J.bf)(re)} 0 0`,"> *:not(:last-child)":{marginInlineEnd:4},"> *":{flex:"none"},"&-title":Object.assign(Object.assign({},mn.vS),{flex:"auto",textAlign:"end"}),"&-dropdown":Object.assign(Object.assign({},(0,mn.Ro)()),{fontSize:V,transform:"translateY(10%)",cursor:"pointer","&[disabled]":{cursor:"not-allowed"}})},"&-body":{display:"flex",flex:"auto",flexDirection:"column",fontSize:e.fontSize,minHeight:0,"&-search-wrapper":{position:"relative",flex:"none",padding:H}},"&-content":{flex:"auto",margin:0,padding:0,overflow:"auto",listStyle:"none",borderRadius:`0 0 ${pe} ${pe}`,"&-item":{display:"flex",alignItems:"center",minHeight:g,padding:`${(0,J.bf)(S)} ${(0,J.bf)(H)}`,transition:`all ${q}`,"> *:not(:last-child)":{marginInlineEnd:j},"> *":{flex:"none"},"&-text":Object.assign(Object.assign({},mn.vS),{flex:"auto"}),"&-remove":Object.assign(Object.assign({},(0,mn.Nd)(e)),{color:o,"&:hover, &:focus":{color:R}}),[`&:not(${t}-list-content-item-disabled)`]:{"&:hover":{backgroundColor:Q,cursor:"pointer"},[`&${t}-list-content-item-checked:hover`]:{backgroundColor:de}},"&-checked":{backgroundColor:T},"&-disabled":{color:M,cursor:"not-allowed"}},[`&-show-remove ${t}-list-content-item:not(${t}-list-content-item-disabled):hover`]:{background:"transparent",cursor:"default"}},"&-pagination":{padding:e.paddingXS,textAlign:"end",borderTop:`${(0,J.bf)(u)} ${U} ${i}`,[`${K}-pagination-options`]:{paddingInlineEnd:e.paddingXS}},"&-body-not-found":{flex:"none",width:"100%",margin:"auto 0",color:M,textAlign:"center"},"&-footer":{borderTop:`${(0,J.bf)(u)} ${U} ${i}`},"&-checkbox":{lineHeight:1}}},xZ=e=>{const{antCls:t,iconCls:o,componentCls:i,marginXS:u,marginXXS:g,fontSizeIcon:_,colorBgContainerDisabled:x}=e;return{[i]:Object.assign(Object.assign({},(0,mn.Wf)(e)),{position:"relative",display:"flex",alignItems:"stretch",[`${i}-disabled`]:{[`${i}-list`]:{background:x}},[`${i}-list`]:bZ(e),[`${i}-operation`]:{display:"flex",flex:"none",flexDirection:"column",alignSelf:"center",margin:`0 ${(0,J.bf)(u)}`,verticalAlign:"middle",gap:g,[`${t}-btn ${o}`]:{fontSize:_}}})}},CZ=e=>{const{componentCls:t}=e;return{[`${t}-rtl`]:{direction:"rtl"}}},wZ=e=>{const{fontSize:t,lineHeight:o,controlHeight:i,controlHeightLG:u,lineWidth:g}=e,_=Math.round(t*o);return{listWidth:180,listHeight:200,listWidthLG:250,headerHeight:u,itemHeight:i,itemPaddingBlock:(i-_)/2,transferHeaderVerticalPadding:Math.ceil((u-g-_)/2)}};var SZ=(0,Ae.I$)("Transfer",e=>{const t=(0,vn.IX)(e);return[xZ(t),yZ(t),_Z(t),CZ(t)]},wZ);const bC=e=>{const{dataSource:t,targetKeys:o=[],selectedKeys:i,selectAllLabels:u=[],operations:g=[],style:_={},listStyle:x={},locale:S={},titles:T,disabled:M,showSearch:R=!1,operationStyle:N,showSelectAll:F,oneWay:B,pagination:V,status:j,prefixCls:H,className:U,rootClassName:K,selectionsIcon:Y,filterOption:q,render:Q,footer:re,children:ae,rowKey:se,onScroll:de,onChange:pe,onSearch:ge,onSelectChange:me}=e,{getPrefixCls:be,renderEmpty:_e,direction:Ie,transfer:Ce}=(0,s.useContext)(De.E_),Le=be("transfer",H),[ze,ke,Ze]=SZ(Le),[je,Ue,He]=eZ(t,se,o),[Qe,We,it,Je]=rZ(Ue,He,i),[wt,Dt]=d2(xi=>xi.key),[ct,ht]=d2(xi=>xi.key),ut=(0,s.useCallback)((xi,Fi)=>{if(xi==="left"){const Wr=typeof Fi=="function"?Fi(Qe||[]):Fi;it(Wr)}else{const Wr=typeof Fi=="function"?Fi(We||[]):Fi;Je(Wr)}},[Qe,We]),tt=(xi,Fi)=>{(xi==="left"?Dt:ht)(Fi)},xt=(0,s.useCallback)((xi,Fi)=>{xi==="left"?me==null||me(Fi,We):me==null||me(Qe,Fi)},[Qe,We]),_t=xi=>{var Fi;return(Fi=T!=null?T:xi.titles)!==null&&Fi!==void 0?Fi:[]},dn=xi=>{de==null||de("left",xi)},on=xi=>{de==null||de("right",xi)},Ut=xi=>{const Fi=xi==="right"?Qe:We,Wr=Q7(je),gi=Fi.filter(Pa=>!Wr.has(Pa)),Ci=yC(gi),Yi=xi==="right"?gi.concat(o):o.filter(Pa=>!Ci.has(Pa)),xa=xi==="right"?"left":"right";ut(xa,[]),xt(xa,[]),pe==null||pe(Yi,xi,gi)},en=()=>{Ut("left"),tt("left",null)},kt=()=>{Ut("right"),tt("right",null)},cn=(xi,Fi,Wr)=>{ut(xi,gi=>{let Ci=[];if(Wr==="replace")Ci=Fi;else if(Wr)Ci=Array.from(new Set([].concat((0,Be.Z)(gi),(0,Be.Z)(Fi))));else{const Yi=yC(Fi);Ci=gi.filter(xa=>!Yi.has(xa))}return xt(xi,Ci),Ci}),tt(xi,null)},zn=(xi,Fi)=>{cn("left",xi,Fi)},An=(xi,Fi)=>{cn("right",xi,Fi)},sr=xi=>ge==null?void 0:ge("left",xi.target.value),yr=xi=>ge==null?void 0:ge("right",xi.target.value),Vr=()=>ge==null?void 0:ge("left",""),Qn=()=>ge==null?void 0:ge("right",""),Un=(xi,Fi,Wr,gi,Ci)=>{Fi.has(Wr)&&(Fi.delete(Wr),tt(xi,null)),gi&&(Fi.add(Wr),tt(xi,Ci))},er=(xi,Fi,Wr,gi)=>{(xi==="left"?wt:ct)(gi,Fi,Wr)},Ir=(xi,Fi,Wr,gi)=>{const Ci=xi==="left",Yi=(0,Be.Z)(Ci?Qe:We),xa=new Set(Yi),Pa=(0,Be.Z)(Ci?Ue:He).filter(Di=>!(Di!=null&&Di.disabled)),Fs=Pa.findIndex(Di=>Di.key===Fi);gi&&Yi.length>0?er(xi,Pa,xa,Fs):Un(xi,xa,Fi,Wr,Fs);const Xi=Array.from(xa);xt(xi,Xi),e.selectedKeys||ut(xi,Xi)},pr=(xi,Fi,Wr)=>{Ir("left",xi,Fi,Wr==null?void 0:Wr.shiftKey)},Zr=(xi,Fi,Wr)=>{Ir("right",xi,Fi,Wr==null?void 0:Wr.shiftKey)},xn=xi=>{ut("right",[]),pe==null||pe(o.filter(Fi=>!xi.includes(Fi)),"left",(0,Be.Z)(xi))},fn=xi=>typeof x=="function"?x({direction:xi}):x||{},yn=(0,s.useContext)(gc.aM),{hasFeedback:Gt,status:Kn}=yn,vr=xi=>Object.assign(Object.assign(Object.assign({},xi),{notFoundContent:(_e==null?void 0:_e("Transfer"))||s.createElement(th,{componentName:"Transfer"})}),S),Jr=(0,Il.F)(Kn,j),Hi=!ae&&V,Gi=He.filter(xi=>We.includes(xi.key)&&!xi.disabled).length>0,Zi=Ue.filter(xi=>Qe.includes(xi.key)&&!xi.disabled).length>0,Fa=oe()(Le,{[`${Le}-disabled`]:M,[`${Le}-customize-list`]:!!ae,[`${Le}-rtl`]:Ie==="rtl"},(0,Il.Z)(Le,Jr,Gt),Ce==null?void 0:Ce.className,U,K,ke,Ze),[Do]=(0,Pr.Z)("Transfer",Ac.Z.Transfer),zo=vr(Do),[oo,Uo]=_t(zo),ua=Y!=null?Y:Ce==null?void 0:Ce.selectionsIcon;return ze(s.createElement("div",{className:Fa,style:Object.assign(Object.assign({},Ce==null?void 0:Ce.style),_)},s.createElement(O2,Object.assign({prefixCls:`${Le}-list`,titleText:oo,dataSource:Ue,filterOption:q,style:fn("left"),checkedKeys:Qe,handleFilter:sr,handleClear:Vr,onItemSelect:pr,onItemSelectAll:zn,render:Q,showSearch:R,renderList:ae,footer:re,onScroll:dn,disabled:M,direction:Ie==="rtl"?"right":"left",showSelectAll:F,selectAllLabel:u[0],pagination:Hi,selectionsIcon:ua},zo)),s.createElement(uO,{className:`${Le}-operation`,rightActive:Zi,rightArrowText:g[0],moveToRight:kt,leftActive:Gi,leftArrowText:g[1],moveToLeft:en,style:N,disabled:M,direction:Ie,oneWay:B}),s.createElement(O2,Object.assign({prefixCls:`${Le}-list`,titleText:Uo,dataSource:He,filterOption:q,style:fn("right"),checkedKeys:We,handleFilter:yr,handleClear:Qn,onItemSelect:Zr,onItemSelectAll:An,onItemRemove:xn,render:Q,showSearch:R,renderList:ae,footer:re,onScroll:on,disabled:M,direction:Ie==="rtl"?"left":"right",showSelectAll:F,selectAllLabel:u[1],showRemove:B,pagination:Hi,selectionsIcon:ua},zo))))};bC.List=O2,bC.Search=cO,bC.Operation=uO;var EZ=bC,IZ=function(e){var t=s.useRef({valueLabels:new Map});return s.useMemo(function(){var o=t.current.valueLabels,i=new Map,u=e.map(function(g){var _=g.value,x=g.label,S=x!=null?x:o.get(_);return i.set(_,S),(0,fe.Z)((0,fe.Z)({},g),{},{label:S})});return t.current.valueLabels=i,[u]},[e])},TZ=function(t,o,i,u){return s.useMemo(function(){var g=function(F){return F.map(function(B){var V=B.value;return V})},_=g(t),x=g(o),S=_.filter(function(N){return!u[N]}),T=_,M=x;if(i){var R=(0,bp.S)(_,!0,u);T=R.checkedKeys,M=R.halfCheckedKeys}return[Array.from(new Set([].concat((0,Be.Z)(S),(0,Be.Z)(T)))),M]},[t,o,i,u])},MZ=TZ,PZ=function(e,t){return s.useMemo(function(){var o=(0,Jg.I8)(e,{fieldNames:t,initWrapper:function(u){return(0,fe.Z)((0,fe.Z)({},u),{},{valueEntities:new Map})},processEntity:function(u,g){var _=u.node[t.value];if(0)var x;g.valueEntities.set(_,u)}});return o},[e,t])},OZ=function(){return null},$2=OZ,$Z=["children","value"];function fO(e){return(0,El.Z)(e).map(function(t){if(!s.isValidElement(t)||!t.type)return null;var o=t,i=o.key,u=o.props,g=u.children,_=u.value,x=(0,Ve.Z)(u,$Z),S=(0,fe.Z)({key:i,value:_},x),T=fO(g);return T.length&&(S.children=T),S}).filter(function(t){return t})}function R2(e){if(!e)return e;var t=(0,fe.Z)({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return(0,zl.ZP)(!1,"New `rc-tree-select` not support return node instance as argument anymore. Please consider to remove `props` access."),t}}),t}function RZ(e,t,o,i,u,g){var _=null,x=null;function S(){function T(M){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"0",N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return M.map(function(F,B){var V="".concat(R,"-").concat(B),j=F[g.value],H=o.includes(j),U=T(F[g.children]||[],V,H),K=s.createElement($2,F,U.map(function(q){return q.node}));if(t===j&&(_=K),H){var Y={pos:V,node:K,children:U};return N||x.push(Y),Y}return null}).filter(function(F){return F})}x||(x=[],T(i),x.sort(function(M,R){var N=M.node.props.value,F=R.node.props.value,B=o.indexOf(N),V=o.indexOf(F);return B-V}))}Object.defineProperty(e,"triggerNode",{get:function(){return(0,zl.ZP)(!1,"`triggerNode` is deprecated. Please consider decoupling data with node."),S(),_}}),Object.defineProperty(e,"allCheckedNodes",{get:function(){return(0,zl.ZP)(!1,"`allCheckedNodes` is deprecated. Please consider decoupling data with node."),S(),u?x:x.map(function(M){var R=M.node;return R})}})}var AZ=function(t,o,i){var u=i.fieldNames,g=i.treeNodeFilterProp,_=i.filterTreeNode,x=u.children;return s.useMemo(function(){if(!o||_===!1)return t;var S=typeof _=="function"?_:function(M,R){return String(R[g]).toUpperCase().includes(o.toUpperCase())},T=function M(R){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return R.reduce(function(F,B){var V=B[x],j=N||S(o,R2(B)),H=M(V||[],j);return(j||H.length)&&F.push((0,fe.Z)((0,fe.Z)({},B),{},(0,Ee.Z)({isLeaf:void 0},x,H))),F},[])};return T(t)},[t,o,x,g,_])},DZ=AZ;function hO(e){var t=s.useRef();t.current=e;var o=s.useCallback(function(){return t.current.apply(t,arguments)},[]);return o}function zZ(e,t){var o=t.id,i=t.pId,u=t.rootPId,g=new Map,_=[];return e.forEach(function(x){var S=x[o],T=(0,fe.Z)((0,fe.Z)({},x),{},{key:x.key||S});g.set(S,T)}),g.forEach(function(x){var S=x[i],T=g.get(S);T?(T.children=T.children||[],T.children.push(x)):(S===u||u===null)&&_.push(x)}),_}function LZ(e,t,o){return s.useMemo(function(){if(e){if(o){var i=(0,fe.Z)({id:"id",pId:"pId",rootPId:null},(0,Tt.Z)(o)==="object"?o:{});return zZ(e,i)}return e}return fO(t)},[t,o,e])}var NZ=s.createContext(null),pO=NZ,BZ=s.createContext(null),mO=BZ,FZ=function(t){return Array.isArray(t)?t:t!==void 0?[t]:[]},kZ=function(t){var o=t||{},i=o.label,u=o.value,g=o.children;return{_title:i?[i]:["title","label"],value:u||"value",key:u||"value",children:g||"children"}},A2=function(t){return!t||t.disabled||t.disableCheckbox||t.checkable===!1},jZ=function(t,o){var i=[],u=function g(_){_.forEach(function(x){var S=x[o.children];S&&(i.push(x[o.value]),g(S))})};return u(t),i},gO=function(t){return t==null},ZZ={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},VZ=function(t,o){var i=rn(),u=i.prefixCls,g=i.multiple,_=i.searchValue,x=i.toggleOpen,S=i.open,T=i.notFoundContent,M=s.useContext(mO),R=M.virtual,N=M.listHeight,F=M.listItemHeight,B=M.listItemScrollOffset,V=M.treeData,j=M.fieldNames,H=M.onSelect,U=M.dropdownMatchSelectWidth,K=M.treeExpandAction,Y=M.treeTitleRender,q=M.onPopupScroll,Q=M.leftMaxCount,re=M.leafCountOnly,ae=M.valueEntities,se=s.useContext(pO),de=se.checkable,pe=se.checkedKeys,ge=se.halfCheckedKeys,me=se.treeExpandedKeys,be=se.treeDefaultExpandAll,_e=se.treeDefaultExpandedKeys,Ie=se.onTreeExpand,Ce=se.treeIcon,Le=se.showTreeIcon,ze=se.switcherIcon,ke=se.treeLine,Ze=se.treeNodeFilterProp,je=se.loadData,Ue=se.treeLoadedKeys,He=se.treeMotion,Qe=se.onTreeLoad,We=se.keyEntities,it=s.useRef(),Je=(0,ed.Z)(function(){return V},[S,V],function(vr,Jr){return Jr[0]&&vr[1]!==Jr[1]}),wt=s.useMemo(function(){return de?{checked:pe,halfChecked:ge}:null},[de,pe,ge]);s.useEffect(function(){if(S&&!g&&pe.length){var vr;(vr=it.current)===null||vr===void 0||vr.scrollTo({key:pe[0]})}},[S]);var Dt=function(Jr){Jr.preventDefault()},ct=function(Jr,Hi){var Gi=Hi.node;de&&A2(Gi)||(H(Gi.key,{selected:!pe.includes(Gi.key)}),g||x(!1))},ht=s.useState(_e),ut=(0,ve.Z)(ht,2),tt=ut[0],xt=ut[1],_t=s.useState(null),dn=(0,ve.Z)(_t,2),on=dn[0],Ut=dn[1],en=s.useMemo(function(){return me?(0,Be.Z)(me):_?on:tt},[tt,on,me,_]),kt=function(Jr){xt(Jr),Ut(Jr),Ie&&Ie(Jr)},cn=String(_).toLowerCase(),zn=function(Jr){return cn?String(Jr[Ze]).toLowerCase().includes(cn):!1};s.useEffect(function(){_&&Ut(jZ(V,j))},[_]);var An=s.useState(function(){return new Map}),sr=(0,ve.Z)(An,2),yr=sr[0],Vr=sr[1];s.useEffect(function(){Q&&Vr(new Map)},[Q]);function Qn(vr){var Jr=vr[j.value];if(!yr.has(Jr)){var Hi=ae.get(Jr),Gi=(Hi.children||[]).length===0;if(Gi)yr.set(Jr,!1);else{var Zi=Hi.children.filter(function(Do){return!Do.node.disabled&&!Do.node.disableCheckbox&&!pe.includes(Do.node[j.value])}),Fa=Zi.length;yr.set(Jr,Fa>Q)}}return yr.get(Jr)}var Un=(0,Qi.zX)(function(vr){var Jr=vr[j.value];return pe.includes(Jr)||Q===null?!1:Q<=0?!0:re&&Q?Qn(vr):!1}),er=function vr(Jr){var Hi=s0(Jr),Gi;try{for(Hi.s();!(Gi=Hi.n()).done;){var Zi=Gi.value;if(!(Zi.disabled||Zi.selectable===!1)){if(_){if(zn(Zi))return Zi}else return Zi;if(Zi[j.children]){var Fa=vr(Zi[j.children]);if(Fa)return Fa}}}}catch(Do){Hi.e(Do)}finally{Hi.f()}return null},Ir=s.useState(null),pr=(0,ve.Z)(Ir,2),Zr=pr[0],xn=pr[1],fn=We[Zr];s.useEffect(function(){if(S){var vr=null,Jr=function(){var Gi=er(Je);return Gi?Gi[j.value]:null};!g&&pe.length&&!_?vr=pe[0]:vr=Jr(),xn(vr)}},[S,_]),s.useImperativeHandle(o,function(){var vr;return{scrollTo:(vr=it.current)===null||vr===void 0?void 0:vr.scrollTo,onKeyDown:function(Hi){var Gi,Zi=Hi.which;switch(Zi){case nt.Z.UP:case nt.Z.DOWN:case nt.Z.LEFT:case nt.Z.RIGHT:(Gi=it.current)===null||Gi===void 0||Gi.onKeyDown(Hi);break;case nt.Z.ENTER:{if(fn){var Fa=Un(fn.node),Do=(fn==null?void 0:fn.node)||{},zo=Do.selectable,oo=Do.value,Uo=Do.disabled;zo!==!1&&!Uo&&!Fa&&ct(null,{node:{key:Zr},selected:!pe.includes(oo)})}break}case nt.Z.ESC:x(!1)}},onKeyUp:function(){}}});var yn=(0,ed.Z)(function(){return!_},[_,me||tt],function(vr,Jr){var Hi=(0,ve.Z)(vr,1),Gi=Hi[0],Zi=(0,ve.Z)(Jr,2),Fa=Zi[0],Do=Zi[1];return Gi!==Fa&&!!(Fa||Do)}),Gt=yn?je:null;if(Je.length===0)return s.createElement("div",{role:"listbox",className:"".concat(u,"-empty"),onMouseDown:Dt},T);var Kn={fieldNames:j};return Ue&&(Kn.loadedKeys=Ue),en&&(Kn.expandedKeys=en),s.createElement("div",{onMouseDown:Dt},fn&&S&&s.createElement("span",{style:ZZ,"aria-live":"assertive"},fn.node.value),s.createElement(hC.y6.Provider,{value:{nodeDisabled:Un}},s.createElement(hC.ZP,(0,Pt.Z)({ref:it,focusable:!1,prefixCls:"".concat(u,"-tree"),treeData:Je,height:N,itemHeight:F,itemScrollOffset:B,virtual:R!==!1&&U!==!1,multiple:g,icon:Ce,showIcon:Le,switcherIcon:ze,showLine:ke,loadData:Gt,motion:He,activeKey:Zr,checkable:de,checkStrictly:!0,checkedKeys:wt,selectedKeys:de?[]:pe,defaultExpandAll:be,titleRender:Y},Kn,{onActiveChange:xn,onSelect:ct,onCheck:ct,onExpand:kt,onLoad:Qe,filterTreeNode:zn,expandAction:K,onScroll:q}))))},HZ=s.forwardRef(VZ),UZ=HZ,D2="SHOW_ALL",z2="SHOW_PARENT",xC="SHOW_CHILD";function vO(e,t,o,i){var u=new Set(e);return t===xC?e.filter(function(g){var _=o[g];return!_||!_.children||!_.children.some(function(x){var S=x.node;return u.has(S[i.value])})||!_.children.every(function(x){var S=x.node;return A2(S)||u.has(S[i.value])})}):t===z2?e.filter(function(g){var _=o[g],x=_?_.parent:null;return!x||A2(x.node)||!u.has(x.key)}):e}function FG(e){var t=e.searchPlaceholder,o=e.treeCheckStrictly,i=e.treeCheckable,u=e.labelInValue,g=e.value,_=e.multiple,x=e.showCheckedStrategy,S=e.maxCount;warning(!t,"`searchPlaceholder` has been removed."),o&&u===!1&&warning(!1,"`treeCheckStrictly` will force set `labelInValue` to `true`."),(u||o)&&warning(toArray(g).every(function(T){return T&&_typeof(T)==="object"&&"value"in T}),"Invalid prop `value` supplied to `TreeSelect`. You should use { label: string, value: string | number } or [{ label: string, value: string | number }] instead."),o||_||i?warning(!g||Array.isArray(g),"`value` should be an array when `TreeSelect` is checkable or multiple."):warning(!Array.isArray(g),"`value` should not be array when `TreeSelect` is single mode."),S&&(x==="SHOW_ALL"&&!o||x==="SHOW_PARENT")&&warning(!1,"`maxCount` not work with `showCheckedStrategy=SHOW_ALL` (when `treeCheckStrictly=false`) or `showCheckedStrategy=SHOW_PARENT`.")}var kG=null,WZ=["id","prefixCls","value","defaultValue","onChange","onSelect","onDeselect","searchValue","inputValue","onSearch","autoClearSearchValue","filterTreeNode","treeNodeFilterProp","showCheckedStrategy","treeNodeLabelProp","multiple","treeCheckable","treeCheckStrictly","labelInValue","maxCount","fieldNames","treeDataSimpleMode","treeData","children","loadData","treeLoadedKeys","onTreeLoad","treeDefaultExpandAll","treeExpandedKeys","treeDefaultExpandedKeys","onTreeExpand","treeExpandAction","virtual","listHeight","listItemHeight","listItemScrollOffset","onDropdownVisibleChange","dropdownMatchSelectWidth","treeLine","treeIcon","showTreeIcon","switcherIcon","treeMotion","treeTitleRender","onPopupScroll"];function GZ(e){return!e||(0,Tt.Z)(e)!=="object"}var XZ=s.forwardRef(function(e,t){var o=e.id,i=e.prefixCls,u=i===void 0?"rc-tree-select":i,g=e.value,_=e.defaultValue,x=e.onChange,S=e.onSelect,T=e.onDeselect,M=e.searchValue,R=e.inputValue,N=e.onSearch,F=e.autoClearSearchValue,B=F===void 0?!0:F,V=e.filterTreeNode,j=e.treeNodeFilterProp,H=j===void 0?"value":j,U=e.showCheckedStrategy,K=e.treeNodeLabelProp,Y=e.multiple,q=e.treeCheckable,Q=e.treeCheckStrictly,re=e.labelInValue,ae=e.maxCount,se=e.fieldNames,de=e.treeDataSimpleMode,pe=e.treeData,ge=e.children,me=e.loadData,be=e.treeLoadedKeys,_e=e.onTreeLoad,Ie=e.treeDefaultExpandAll,Ce=e.treeExpandedKeys,Le=e.treeDefaultExpandedKeys,ze=e.onTreeExpand,ke=e.treeExpandAction,Ze=e.virtual,je=e.listHeight,Ue=je===void 0?200:je,He=e.listItemHeight,Qe=He===void 0?20:He,We=e.listItemScrollOffset,it=We===void 0?0:We,Je=e.onDropdownVisibleChange,wt=e.dropdownMatchSelectWidth,Dt=wt===void 0?!0:wt,ct=e.treeLine,ht=e.treeIcon,ut=e.showTreeIcon,tt=e.switcherIcon,xt=e.treeMotion,_t=e.treeTitleRender,dn=e.onPopupScroll,on=(0,Ve.Z)(e,WZ),Ut=Yl(o),en=q&&!Q,kt=q||Q,cn=Q||re,zn=kt||Y,An=(0,Jo.Z)(_,{value:g}),sr=(0,ve.Z)(An,2),yr=sr[0],Vr=sr[1],Qn=s.useMemo(function(){return q?U||xC:D2},[U,q]),Un=s.useMemo(function(){return kZ(se)},[JSON.stringify(se)]),er=(0,Jo.Z)("",{value:M!==void 0?M:R,postState:function(lo){return lo||""}}),Ir=(0,ve.Z)(er,2),pr=Ir[0],Zr=Ir[1],xn=function(lo){Zr(lo),N==null||N(lo)},fn=LZ(pe,ge,de),yn=PZ(fn,Un),Gt=yn.keyEntities,Kn=yn.valueEntities,vr=s.useCallback(function(Wo){var lo=[],va=[];return Wo.forEach(function(ka){Kn.has(ka)?va.push(ka):lo.push(ka)}),{missingRawValues:lo,existRawValues:va}},[Kn]),Jr=DZ(fn,pr,{fieldNames:Un,treeNodeFilterProp:H,filterTreeNode:V}),Hi=s.useCallback(function(Wo){if(Wo){if(K)return Wo[K];for(var lo=Un._title,va=0;va<lo.length;va+=1){var ka=Wo[lo[va]];if(ka!==void 0)return ka}}},[Un,K]),Gi=s.useCallback(function(Wo){var lo=FZ(Wo);return lo.map(function(va){return GZ(va)?{value:va}:va})},[]),Zi=s.useCallback(function(Wo){var lo=Gi(Wo);return lo.map(function(va){var ka=va.label,Us=va.value,Ti=va.halfChecked,xr,zi=Kn.get(Us);if(zi){var _o;ka=_t?_t(zi.node):(_o=ka)!==null&&_o!==void 0?_o:Hi(zi.node),xr=zi.node.disabled}else if(ka===void 0){var Sa=Gi(yr).find(function(vs){return vs.value===Us});ka=Sa.label}return{label:ka,value:Us,halfChecked:Ti,disabled:xr}})},[Kn,Hi,Gi,yr]),Fa=s.useMemo(function(){return Gi(yr===null?[]:yr)},[Gi,yr]),Do=s.useMemo(function(){var Wo=[],lo=[];return Fa.forEach(function(va){va.halfChecked?lo.push(va):Wo.push(va)}),[Wo,lo]},[Fa]),zo=(0,ve.Z)(Do,2),oo=zo[0],Uo=zo[1],ua=s.useMemo(function(){return oo.map(function(Wo){return Wo.value})},[oo]),xi=MZ(oo,Uo,en,Gt),Fi=(0,ve.Z)(xi,2),Wr=Fi[0],gi=Fi[1],Ci=s.useMemo(function(){var Wo=vO(Wr,Qn,Gt,Un),lo=Wo.map(function(Ti){var xr,zi;return(xr=(zi=Gt[Ti])===null||zi===void 0||(zi=zi.node)===null||zi===void 0?void 0:zi[Un.value])!==null&&xr!==void 0?xr:Ti}),va=lo.map(function(Ti){var xr=oo.find(function(_o){return _o.value===Ti}),zi=re?xr==null?void 0:xr.label:_t==null?void 0:_t(xr);return{value:Ti,label:zi}}),ka=Zi(va),Us=ka[0];return!zn&&Us&&gO(Us.value)&&gO(Us.label)?[]:ka.map(function(Ti){var xr;return(0,fe.Z)((0,fe.Z)({},Ti),{},{label:(xr=Ti.label)!==null&&xr!==void 0?xr:Ti.value})})},[Un,zn,Wr,oo,Zi,Qn,Gt]),Yi=IZ(Ci),xa=(0,ve.Z)(Yi,1),Pa=xa[0],Fs=s.useMemo(function(){return zn&&(Qn==="SHOW_CHILD"||Q||!q)?ae:null},[ae,zn,Q,Qn,q]),Xi=hO(function(Wo,lo,va){var ka=vO(Wo,Qn,Gt,Un);if(!(Fs&&ka.length>Fs)){var Us=Zi(Wo);if(Vr(Us),B&&Zr(""),x){var Ti=Wo;en&&(Ti=ka.map(function(ja){var Ws=Kn.get(ja);return Ws?Ws.node[Un.value]:ja}));var xr=lo||{triggerValue:void 0,selected:void 0},zi=xr.triggerValue,_o=xr.selected,Sa=Ti;if(Q){var vs=Uo.filter(function(ja){return!Ti.includes(ja.value)});Sa=[].concat((0,Be.Z)(Sa),(0,Be.Z)(vs))}var Js=Zi(Sa),hs={preValue:oo,triggerValue:zi},ho=!0;(Q||va==="selection"&&!_o)&&(ho=!1),RZ(hs,zi,Wo,fn,ho,Un),kt?hs.checked=_o:hs.selected=_o;var fa=cn?Js:Js.map(function(ja){return ja.value});x(zn?fa:fa[0],cn?null:Js.map(function(ja){return ja.label}),hs)}}}),Di=s.useCallback(function(Wo,lo){var va,ka=lo.selected,Us=lo.source,Ti=Gt[Wo],xr=Ti==null?void 0:Ti.node,zi=(va=xr==null?void 0:xr[Un.value])!==null&&va!==void 0?va:Wo;if(!zn)Xi([zi],{selected:!0,triggerValue:zi},"option");else{var _o=ka?[].concat((0,Be.Z)(ua),[zi]):Wr.filter(function(Ws){return Ws!==zi});if(en){var Sa=vr(_o),vs=Sa.missingRawValues,Js=Sa.existRawValues,hs=Js.map(function(Ws){return Kn.get(Ws).key}),ho;if(ka){var fa=(0,bp.S)(hs,!0,Gt);ho=fa.checkedKeys}else{var ja=(0,bp.S)(hs,{checked:!1,halfCheckedKeys:gi},Gt);ho=ja.checkedKeys}_o=[].concat((0,Be.Z)(vs),(0,Be.Z)(ho.map(function(Ws){return Gt[Ws].node[Un.value]})))}Xi(_o,{selected:ka,triggerValue:zi},Us||"option")}ka||!zn?S==null||S(zi,R2(xr)):T==null||T(zi,R2(xr))},[vr,Kn,Gt,Un,zn,ua,Xi,en,S,T,Wr,gi,ae]),Si=s.useCallback(function(Wo){if(Je){var lo={};Object.defineProperty(lo,"documentClickClose",{get:function(){return(0,zl.ZP)(!1,"Second param of `onDropdownVisibleChange` has been removed."),!1}}),Je(Wo,lo)}},[Je]),Ii=hO(function(Wo,lo){var va=Wo.map(function(ka){return ka.value});if(lo.type==="clear"){Xi(va,{},"selection");return}lo.values.length&&Di(lo.values[0].value,{selected:!1,source:"selection"})}),da=s.useMemo(function(){return{virtual:Ze,dropdownMatchSelectWidth:Dt,listHeight:Ue,listItemHeight:Qe,listItemScrollOffset:it,treeData:Jr,fieldNames:Un,onSelect:Di,treeExpandAction:ke,treeTitleRender:_t,onPopupScroll:dn,leftMaxCount:ae===void 0?null:ae-Pa.length,leafCountOnly:Qn==="SHOW_CHILD"&&!Q&&!!q,valueEntities:Kn}},[Ze,Dt,Ue,Qe,it,Jr,Un,Di,ke,_t,dn,ae,Pa.length,Qn,Q,q,Kn]),Qa=s.useMemo(function(){return{checkable:kt,loadData:me,treeLoadedKeys:be,onTreeLoad:_e,checkedKeys:Wr,halfCheckedKeys:gi,treeDefaultExpandAll:Ie,treeExpandedKeys:Ce,treeDefaultExpandedKeys:Le,onTreeExpand:ze,treeIcon:ht,treeMotion:xt,showTreeIcon:ut,switcherIcon:tt,treeLine:ct,treeNodeFilterProp:H,keyEntities:Gt}},[kt,me,be,_e,Wr,gi,Ie,Ce,Le,ze,ht,xt,ut,tt,ct,H,Gt]);return s.createElement(mO.Provider,{value:da},s.createElement(pO.Provider,{value:Qa},s.createElement(Mc,(0,Pt.Z)({ref:t},on,{id:Ut,prefixCls:u,mode:zn?"multiple":void 0,displayValues:Pa,onDisplayValuesChange:Ii,searchValue:pr,onSearch:xn,OptionList:UZ,emptyOptions:!fn.length,onDropdownVisibleChange:Si,dropdownMatchSelectWidth:Dt}))))}),lb=XZ;lb.TreeNode=$2,lb.SHOW_ALL=D2,lb.SHOW_PARENT=z2,lb.SHOW_CHILD=xC;var qZ=lb,KZ=qZ;const YZ=e=>{const{componentCls:t,treePrefixCls:o,colorBgElevated:i}=e,u=`.${o}`;return[{[`${t}-dropdown`]:[{padding:`${(0,J.bf)(e.paddingXS)} ${(0,J.bf)(e.calc(e.paddingXS).div(2).equal())}`},CP(o,(0,vn.IX)(e,{colorBgContainer:i})),{[u]:{borderRadius:0,[`${u}-list-holder-inner`]:{alignItems:"stretch",[`${u}-treenode`]:{[`${u}-node-content-wrapper`]:{flex:"auto"}}}}},Vx(`${o}-checkbox`,e),{"&-rtl":{direction:"rtl",[`${u}-switcher${u}-switcher_close`]:{[`${u}-switcher-icon svg`]:{transform:"rotate(90deg)"}}}}]}]},jG=null;function JZ(e,t,o){return(0,Ae.I$)("TreeSelect",i=>{const u=(0,vn.IX)(i,{treePrefixCls:t});return[YZ(u)]},wP)(e,o)}var QZ=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};const e9=(e,t)=>{var o;const{prefixCls:i,size:u,disabled:g,bordered:_=!0,className:x,rootClassName:S,treeCheckable:T,multiple:M,listHeight:R=256,listItemHeight:N,placement:F,notFoundContent:B,switcherIcon:V,treeLine:j,getPopupContainer:H,popupClassName:U,dropdownClassName:K,treeIcon:Y=!1,transitionName:q,choiceTransitionName:Q="",status:re,treeExpandAction:ae,builtinPlacements:se,dropdownMatchSelectWidth:de,popupMatchSelectWidth:pe,allowClear:ge,variant:me,dropdownStyle:be,tagRender:_e,maxCount:Ie,showCheckedStrategy:Ce,treeCheckStrictly:Le}=e,ze=QZ(e,["prefixCls","size","disabled","bordered","className","rootClassName","treeCheckable","multiple","listHeight","listItemHeight","placement","notFoundContent","switcherIcon","treeLine","getPopupContainer","popupClassName","dropdownClassName","treeIcon","transitionName","choiceTransitionName","status","treeExpandAction","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","allowClear","variant","dropdownStyle","tagRender","maxCount","showCheckedStrategy","treeCheckStrictly"]),{getPopupContainer:ke,getPrefixCls:Ze,renderEmpty:je,direction:Ue,virtual:He,popupMatchSelectWidth:Qe,popupOverflow:We}=s.useContext(De.E_),[,it]=(0,Ur.ZP)(),Je=N!=null?N:(it==null?void 0:it.controlHeightSM)+(it==null?void 0:it.paddingXXS),wt=Ze(),Dt=Ze("select",i),ct=Ze("select-tree",i),ht=Ze("tree-select",i),{compactSize:ut,compactItemClassnames:tt}=(0,yl.ri)(Dt,Ue),xt=(0,po.Z)(Dt),_t=(0,po.Z)(ht),[dn,on,Ut]=k0(Dt,xt),[en]=JZ(ht,ct,_t),[kt,cn]=(0,Pu.Z)("treeSelect",me,_),zn=oe()(U||K,`${ht}-dropdown`,{[`${ht}-dropdown-rtl`]:Ue==="rtl"},S,Ut,xt,_t,on),An=!!(T||M),sr=s.useMemo(()=>{if(!(Ie&&(Ce==="SHOW_ALL"&&!Le||Ce==="SHOW_PARENT")))return Ie},[Ie,Ce,Le]),yr=tm(e.suffixIcon,e.showArrow),Vr=(o=pe!=null?pe:de)!==null&&o!==void 0?o:Qe,{status:Qn,hasFeedback:Un,isFormItemInput:er,feedbackIcon:Ir}=s.useContext(gc.aM),pr=(0,Il.F)(Qn,re),{suffixIcon:Zr,removeIcon:xn,clearIcon:fn}=lg(Object.assign(Object.assign({},ze),{multiple:An,showSuffixIcon:yr,hasFeedback:Un,feedbackIcon:Ir,prefixCls:Dt,componentName:"TreeSelect"})),yn=ge===!0?{clearIcon:fn}:ge;let Gt;B!==void 0?Gt=B:Gt=(je==null?void 0:je("Select"))||s.createElement(th,{componentName:"Select"});const Kn=(0,Er.Z)(ze,["suffixIcon","removeIcon","clearIcon","itemIcon","switcherIcon"]),vr=s.useMemo(()=>F!==void 0?F:Ue==="rtl"?"bottomRight":"bottomLeft",[F,Ue]),Jr=(0,Ts.Z)(oo=>{var Uo;return(Uo=u!=null?u:ut)!==null&&Uo!==void 0?Uo:oo}),Hi=s.useContext(Ds.Z),Gi=g!=null?g:Hi,Zi=oe()(!i&&ht,{[`${Dt}-lg`]:Jr==="large",[`${Dt}-sm`]:Jr==="small",[`${Dt}-rtl`]:Ue==="rtl",[`${Dt}-${kt}`]:cn,[`${Dt}-in-form-item`]:er},(0,Il.Z)(Dt,pr,Un),tt,x,S,Ut,xt,_t,on),Fa=oo=>s.createElement(EP,{prefixCls:ct,switcherIcon:V,treeNodeProps:oo,showLine:j}),[Do]=(0,Io.Cn)("SelectLike",be==null?void 0:be.zIndex),zo=s.createElement(KZ,Object.assign({virtual:He,disabled:Gi},Kn,{dropdownMatchSelectWidth:Vr,builtinPlacements:N0(se,We),ref:t,prefixCls:Dt,className:Zi,listHeight:R,listItemHeight:Je,treeCheckable:T&&s.createElement("span",{className:`${Dt}-tree-checkbox-inner`}),treeLine:!!j,suffixIcon:Zr,multiple:An,placement:vr,removeIcon:xn,allowClear:yn,switcherIcon:Fa,showTreeIcon:Y,notFoundContent:Gt,getPopupContainer:H||ke,treeMotion:null,dropdownClassName:zn,dropdownStyle:Object.assign(Object.assign({},be),{zIndex:Do}),choiceTransitionName:(0,Bi.m)(wt,"",Q),transitionName:(0,Bi.m)(wt,"slide-up",q),treeExpandAction:ae,tagRender:An?_e:void 0,maxCount:sr,showCheckedStrategy:Ce,treeCheckStrictly:Le}));return dn(en(zo))},c0=s.forwardRef(e9),t9=ft(c0,"dropdownAlign",e=>(0,Er.Z)(e,["visible"]));c0.TreeNode=$2,c0.SHOW_ALL=D2,c0.SHOW_PARENT=z2,c0.SHOW_CHILD=xC,c0._InternalPanelDoNotUseOrYouWillBeFired=t9;var n9=c0,r9={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},i9=r9,o9=function(t,o){return s.createElement(Fn.Z,(0,Pt.Z)({},t,{ref:o,icon:i9}))},a9=s.forwardRef(o9),s9=a9,l9={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 170h-60c-4.4 0-8 3.6-8 8v518H310v-73c0-6.7-7.8-10.5-13-6.3l-141.9 112a8 8 0 000 12.6l141.9 112c5.3 4.2 13 .4 13-6.3v-75h498c35.3 0 64-28.7 64-64V178c0-4.4-3.6-8-8-8z"}}]},name:"enter",theme:"outlined"},c9=l9,u9=function(t,o){return s.createElement(Fn.Z,(0,Pt.Z)({},t,{ref:o,icon:c9}))},d9=s.forwardRef(u9),f9=d9;const h9=(e,t,o,i)=>{const{titleMarginBottom:u,fontWeightStrong:g}=i;return{marginBottom:u,color:o,fontWeight:g,fontSize:e,lineHeight:t}},p9=e=>{const t=[1,2,3,4,5],o={};return t.forEach(i=>{o[`
      h${i}&,
      div&-h${i},
      div&-h${i} > textarea,
      h${i}
    `]=h9(e[`fontSizeHeading${i}`],e[`lineHeightHeading${i}`],e.colorTextHeading,e)}),o},m9=e=>{const{componentCls:t}=e;return{"a&, a":Object.assign(Object.assign({},(0,mn.Nd)(e)),{userSelect:"text",[`&[disabled], &${t}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed","&:active, &:hover":{color:e.colorTextDisabled},"&:active":{pointerEvents:"none"}}})}},g9=e=>({code:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.2em 0.1em",fontSize:"85%",fontFamily:e.fontFamilyCode,background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3},kbd:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.15em 0.1em",fontSize:"90%",fontFamily:e.fontFamilyCode,background:"rgba(150, 150, 150, 0.06)",border:"1px solid rgba(100, 100, 100, 0.2)",borderBottomWidth:2,borderRadius:3},mark:{padding:0,backgroundColor:Em.EV[2]},"u, ins":{textDecoration:"underline",textDecorationSkipInk:"auto"},"s, del":{textDecoration:"line-through"},strong:{fontWeight:600},"ul, ol":{marginInline:0,marginBlock:"0 1em",padding:0,li:{marginInline:"20px 0",marginBlock:0,paddingInline:"4px 0",paddingBlock:0}},ul:{listStyleType:"circle",ul:{listStyleType:"disc"}},ol:{listStyleType:"decimal"},"pre, blockquote":{margin:"1em 0"},pre:{padding:"0.4em 0.6em",whiteSpace:"pre-wrap",wordWrap:"break-word",background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3,fontFamily:e.fontFamilyCode,code:{display:"inline",margin:0,padding:0,fontSize:"inherit",fontFamily:"inherit",background:"transparent",border:0}},blockquote:{paddingInline:"0.6em 0",paddingBlock:0,borderInlineStart:"4px solid rgba(100, 100, 100, 0.2)",opacity:.85}}),v9=e=>{const{componentCls:t,paddingSM:o}=e,i=o;return{"&-edit-content":{position:"relative","div&":{insetInlineStart:e.calc(e.paddingSM).mul(-1).equal(),marginTop:e.calc(i).mul(-1).equal(),marginBottom:`calc(1em - ${(0,J.bf)(i)})`},[`${t}-edit-content-confirm`]:{position:"absolute",insetInlineEnd:e.calc(e.marginXS).add(2).equal(),insetBlockEnd:e.marginXS,color:e.colorTextDescription,fontWeight:"normal",fontSize:e.fontSize,fontStyle:"normal",pointerEvents:"none"},textarea:{margin:"0!important",MozTransition:"none",height:"1em"}}}},y9=e=>({[`${e.componentCls}-copy-success`]:{"\n    &,\n    &:hover,\n    &:focus":{color:e.colorSuccess}},[`${e.componentCls}-copy-icon-only`]:{marginInlineStart:0}}),_9=()=>({"\n  a&-ellipsis,\n  span&-ellipsis\n  ":{display:"inline-block",maxWidth:"100%"},"&-ellipsis-single-line":{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis","a&, span&":{verticalAlign:"bottom"},"> code":{paddingBlock:0,maxWidth:"calc(100% - 1.2em)",display:"inline-block",overflow:"hidden",textOverflow:"ellipsis",verticalAlign:"bottom",boxSizing:"content-box"}},"&-ellipsis-multiple-line":{display:"-webkit-box",overflow:"hidden",WebkitLineClamp:3,WebkitBoxOrient:"vertical"}}),b9=e=>{const{componentCls:t,titleMarginTop:o}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.colorText,wordBreak:"break-word",lineHeight:e.lineHeight,[`&${t}-secondary`]:{color:e.colorTextDescription},[`&${t}-success`]:{color:e.colorSuccess},[`&${t}-warning`]:{color:e.colorWarning},[`&${t}-danger`]:{color:e.colorError,"a&:active, a&:focus":{color:e.colorErrorActive},"a&:hover":{color:e.colorErrorHover}},[`&${t}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed",userSelect:"none"},"\n        div&,\n        p\n      ":{marginBottom:"1em"}},p9(e)),{[`
      & + h1${t},
      & + h2${t},
      & + h3${t},
      & + h4${t},
      & + h5${t}
      `]:{marginTop:o},"\n      div,\n      ul,\n      li,\n      p,\n      h1,\n      h2,\n      h3,\n      h4,\n      h5":{"\n        + h1,\n        + h2,\n        + h3,\n        + h4,\n        + h5\n        ":{marginTop:o}}}),g9(e)),m9(e)),{[`
        ${t}-expand,
        ${t}-collapse,
        ${t}-edit,
        ${t}-copy
      `]:Object.assign(Object.assign({},(0,mn.Nd)(e)),{marginInlineStart:e.marginXXS})}),v9(e)),y9(e)),_9()),{"&-rtl":{direction:"rtl"}})}},x9=()=>({titleMarginTop:"1.2em",titleMarginBottom:"0.5em"});var yO=(0,Ae.I$)("Typography",e=>[b9(e)],x9),C9=e=>{const{prefixCls:t,"aria-label":o,className:i,style:u,direction:g,maxLength:_,autoSize:x=!0,value:S,onSave:T,onCancel:M,onEnd:R,component:N,enterIcon:F=s.createElement(f9,null)}=e,B=s.useRef(null),V=s.useRef(!1),j=s.useRef(null),[H,U]=s.useState(S);s.useEffect(()=>{U(S)},[S]),s.useEffect(()=>{var be;if(!((be=B.current)===null||be===void 0)&&be.resizableTextArea){const{textArea:_e}=B.current.resizableTextArea;_e.focus();const{length:Ie}=_e.value;_e.setSelectionRange(Ie,Ie)}},[]);const K=be=>{let{target:_e}=be;U(_e.value.replace(/[\n\r]/g,""))},Y=()=>{V.current=!0},q=()=>{V.current=!1},Q=be=>{let{keyCode:_e}=be;V.current||(j.current=_e)},re=()=>{T(H.trim())},ae=be=>{let{keyCode:_e,ctrlKey:Ie,altKey:Ce,metaKey:Le,shiftKey:ze}=be;j.current!==_e||V.current||Ie||Ce||Le||ze||(_e===nt.Z.ENTER?(re(),R==null||R()):_e===nt.Z.ESC&&M())},se=()=>{re()},[de,pe,ge]=yO(t),me=oe()(t,`${t}-edit-content`,{[`${t}-rtl`]:g==="rtl",[`${t}-${N}`]:!!N},i,pe,ge);return de(s.createElement("div",{className:me,style:u},s.createElement(FT,{ref:B,maxLength:_,value:H,onChange:K,onKeyDown:Q,onKeyUp:ae,onCompositionStart:Y,onCompositionEnd:q,onBlur:se,"aria-label":o,rows:1,autoSize:x}),F!==null?(0,wr.Tm)(F,{className:`${t}-edit-content-confirm`}):null))},w9=he(874),S9=he.n(w9),E9=function(e,t,o,i){function u(g){return g instanceof o?g:new o(function(_){_(g)})}return new(o||(o=Promise))(function(g,_){function x(M){try{T(i.next(M))}catch(R){_(R)}}function S(M){try{T(i.throw(M))}catch(R){_(R)}}function T(M){M.done?g(M.value):u(M.value).then(x,S)}T((i=i.apply(e,t||[])).next())})},I9=e=>{let{copyConfig:t,children:o}=e;const[i,u]=s.useState(!1),[g,_]=s.useState(!1),x=s.useRef(null),S=()=>{x.current&&clearTimeout(x.current)},T={};t.format&&(T.format=t.format),s.useEffect(()=>S,[]);const M=(0,Or.Z)(R=>E9(void 0,void 0,void 0,function*(){var N;R==null||R.preventDefault(),R==null||R.stopPropagation(),_(!0);try{const F=typeof t.text=="function"?yield t.text():t.text;S9()(F||Qx(o,!0).join("")||"",T),_(!1),u(!0),S(),x.current=setTimeout(()=>{u(!1)},3e3),(N=t.onCopy)===null||N===void 0||N.call(t,R)}catch(F){throw _(!1),F}}));return{copied:i,copyLoading:g,onClick:M}};function L2(e,t){return s.useMemo(()=>{const o=!!e;return[o,Object.assign(Object.assign({},t),o&&typeof e=="object"?e:null)]},[e])}var T9=e=>{const t=(0,s.useRef)(void 0);return(0,s.useEffect)(()=>{t.current=e}),t.current},M9=(e,t,o)=>(0,s.useMemo)(()=>e===!0?{title:t!=null?t:o}:(0,s.isValidElement)(e)?{title:e}:typeof e=="object"?Object.assign({title:t!=null?t:o},e):{title:e},[e,t,o]),P9=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o},_O=s.forwardRef((e,t)=>{const{prefixCls:o,component:i="article",className:u,rootClassName:g,setContentRef:_,children:x,direction:S,style:T}=e,M=P9(e,["prefixCls","component","className","rootClassName","setContentRef","children","direction","style"]),{getPrefixCls:R,direction:N,className:F,style:B}=(0,De.dj)("typography"),V=S!=null?S:N,j=_?(0,zr.sQ)(t,_):t,H=R("typography",o),[U,K,Y]=yO(H),q=oe()(H,F,{[`${H}-rtl`]:V==="rtl"},u,g,K,Y),Q=Object.assign(Object.assign({},B),T);return U(s.createElement(i,Object.assign({className:q,style:Q,ref:j},M),x))}),O9={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"},$9=O9,R9=function(t,o){return s.createElement(Fn.Z,(0,Pt.Z)({},t,{ref:o,icon:$9}))},A9=s.forwardRef(R9),D9=A9;function bO(e){return e===!1?[!1,!1]:Array.isArray(e)?e:[e]}function N2(e,t,o){return e===!0||e===void 0?t:e||o&&t}function z9(e){const t=document.createElement("em");e.appendChild(t);const o=e.getBoundingClientRect(),i=t.getBoundingClientRect();return e.removeChild(t),o.left>i.left||i.right>o.right||o.top>i.top||i.bottom>o.bottom}const B2=e=>["string","number"].includes(typeof e);var L9=e=>{let{prefixCls:t,copied:o,locale:i,iconOnly:u,tooltips:g,icon:_,tabIndex:x,onCopy:S,loading:T}=e;const M=bO(g),R=bO(_),{copied:N,copy:F}=i!=null?i:{},B=o?N:F,V=N2(M[o?1:0],B),j=typeof V=="string"?V:B;return s.createElement(Uc.Z,{title:V},s.createElement("button",{type:"button",className:oe()(`${t}-copy`,{[`${t}-copy-success`]:o,[`${t}-copy-icon-only`]:u}),onClick:S,"aria-label":j,tabIndex:x},o?N2(R[1],s.createElement(ih,null),!0):N2(R[0],T?s.createElement(mo.Z,null):s.createElement(D9,null),!0)))};const CC=s.forwardRef((e,t)=>{let{style:o,children:i}=e;const u=s.useRef(null);return s.useImperativeHandle(t,()=>({isExceed:()=>{const g=u.current;return g.scrollHeight>g.clientHeight},getHeight:()=>u.current.clientHeight})),s.createElement("span",{"aria-hidden":!0,ref:u,style:Object.assign({position:"fixed",display:"block",left:0,top:0,pointerEvents:"none",backgroundColor:"rgba(255, 0, 0, 0.65)"},o)},i)}),N9=e=>e.reduce((t,o)=>t+(B2(o)?String(o).length:1),0);function xO(e,t){let o=0;const i=[];for(let u=0;u<e.length;u+=1){if(o===t)return i;const g=e[u],x=B2(g)?String(g).length:1,S=o+x;if(S>t){const T=t-o;return i.push(String(g).slice(0,T)),i}i.push(g),o=S}return e}const F2=0,k2=1,j2=2,Z2=3,CO=4,wC={display:"-webkit-box",overflow:"hidden",WebkitBoxOrient:"vertical"};function B9(e){const{enableMeasure:t,width:o,text:i,children:u,rows:g,expanded:_,miscDeps:x,onEllipsis:S}=e,T=s.useMemo(()=>(0,El.Z)(i),[i]),M=s.useMemo(()=>N9(T),[i]),R=s.useMemo(()=>u(T,!1),[i]),[N,F]=s.useState(null),B=s.useRef(null),V=s.useRef(null),j=s.useRef(null),H=s.useRef(null),U=s.useRef(null),[K,Y]=s.useState(!1),[q,Q]=s.useState(F2),[re,ae]=s.useState(0),[se,de]=s.useState(null);(0,yt.Z)(()=>{Q(t&&o&&M?k2:F2)},[o,i,g,t,T]),(0,yt.Z)(()=>{var be,_e,Ie,Ce;if(q===k2){Q(j2);const Le=V.current&&getComputedStyle(V.current).whiteSpace;de(Le)}else if(q===j2){const Le=!!(!((be=j.current)===null||be===void 0)&&be.isExceed());Q(Le?Z2:CO),F(Le?[0,M]:null),Y(Le);const ze=((_e=j.current)===null||_e===void 0?void 0:_e.getHeight())||0,ke=g===1?0:((Ie=H.current)===null||Ie===void 0?void 0:Ie.getHeight())||0,Ze=((Ce=U.current)===null||Ce===void 0?void 0:Ce.getHeight())||0,je=Math.max(ze,ke+Ze);ae(je+1),S(Le)}},[q]);const pe=N?Math.ceil((N[0]+N[1])/2):0;(0,yt.Z)(()=>{var be;const[_e,Ie]=N||[0,0];if(_e!==Ie){const Le=(((be=B.current)===null||be===void 0?void 0:be.getHeight())||0)>re;let ze=pe;Ie-_e===1&&(ze=Le?_e:Ie),F(Le?[_e,ze]:[ze,Ie])}},[N,pe]);const ge=s.useMemo(()=>{if(!t)return u(T,!1);if(q!==Z2||!N||N[0]!==N[1]){const be=u(T,!1);return[CO,F2].includes(q)?be:s.createElement("span",{style:Object.assign(Object.assign({},wC),{WebkitLineClamp:g})},be)}return u(_?T:xO(T,N[0]),K)},[_,q,N,T].concat((0,Be.Z)(x))),me={width:o,margin:0,padding:0,whiteSpace:se==="nowrap"?"normal":"inherit"};return s.createElement(s.Fragment,null,ge,q===j2&&s.createElement(s.Fragment,null,s.createElement(CC,{style:Object.assign(Object.assign(Object.assign({},me),wC),{WebkitLineClamp:g}),ref:j},R),s.createElement(CC,{style:Object.assign(Object.assign(Object.assign({},me),wC),{WebkitLineClamp:g-1}),ref:H},R),s.createElement(CC,{style:Object.assign(Object.assign(Object.assign({},me),wC),{WebkitLineClamp:1}),ref:U},u([],!0))),q===Z2&&N&&N[0]!==N[1]&&s.createElement(CC,{style:Object.assign(Object.assign({},me),{top:400}),ref:B},u(xO(T,pe),!0)),q===k2&&s.createElement("span",{style:{whiteSpace:"inherit"},ref:V}))}var F9=e=>{let{enableEllipsis:t,isEllipsis:o,children:i,tooltipProps:u}=e;return!(u!=null&&u.title)||!t?i:s.createElement(Uc.Z,Object.assign({open:o?void 0:!1},u),i)},k9=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};function j9(e,t){let{mark:o,code:i,underline:u,delete:g,strong:_,keyboard:x,italic:S}=e,T=t;function M(R,N){N&&(T=s.createElement(R,{},T))}return M("strong",_),M("u",u),M("del",g),M("code",i),M("mark",o),M("kbd",x),M("i",S),T}const Z9="...";var SC=s.forwardRef((e,t)=>{var o;const{prefixCls:i,className:u,style:g,type:_,disabled:x,children:S,ellipsis:T,editable:M,copyable:R,component:N,title:F}=e,B=k9(e,["prefixCls","className","style","type","disabled","children","ellipsis","editable","copyable","component","title"]),{getPrefixCls:V,direction:j}=s.useContext(De.E_),[H]=(0,Pr.Z)("Text"),U=s.useRef(null),K=s.useRef(null),Y=V("typography",i),q=(0,Er.Z)(B,["mark","code","delete","underline","strong","keyboard","italic"]),[Q,re]=L2(M),[ae,se]=(0,Jo.Z)(!1,{value:re.editing}),{triggerType:de=["icon"]}=re,pe=yn=>{var Gt;yn&&((Gt=re.onStart)===null||Gt===void 0||Gt.call(re)),se(yn)},ge=T9(ae);(0,yt.Z)(()=>{var yn;!ae&&ge&&((yn=K.current)===null||yn===void 0||yn.focus())},[ae]);const me=yn=>{yn==null||yn.preventDefault(),pe(!0)},be=yn=>{var Gt;(Gt=re.onChange)===null||Gt===void 0||Gt.call(re,yn),pe(!1)},_e=()=>{var yn;(yn=re.onCancel)===null||yn===void 0||yn.call(re),pe(!1)},[Ie,Ce]=L2(R),{copied:Le,copyLoading:ze,onClick:ke}=I9({copyConfig:Ce,children:S}),[Ze,je]=s.useState(!1),[Ue,He]=s.useState(!1),[Qe,We]=s.useState(!1),[it,Je]=s.useState(!1),[wt,Dt]=s.useState(!0),[ct,ht]=L2(T,{expandable:!1,symbol:yn=>yn?H==null?void 0:H.collapse:H==null?void 0:H.expand}),[ut,tt]=(0,Jo.Z)(ht.defaultExpanded||!1,{value:ht.expanded}),xt=ct&&(!ut||ht.expandable==="collapsible"),{rows:_t=1}=ht,dn=s.useMemo(()=>xt&&(ht.suffix!==void 0||ht.onEllipsis||ht.expandable||Q||Ie),[xt,ht,Q,Ie]);(0,yt.Z)(()=>{ct&&!dn&&(je(a2("webkitLineClamp")),He(a2("textOverflow")))},[dn,ct]);const[on,Ut]=s.useState(xt),en=s.useMemo(()=>dn?!1:_t===1?Ue:Ze,[dn,Ue,Ze]);(0,yt.Z)(()=>{Ut(en&&xt)},[en,xt]);const kt=xt&&(on?it:Qe),cn=xt&&_t===1&&on,zn=xt&&_t>1&&on,An=(yn,Gt)=>{var Kn;tt(Gt.expanded),(Kn=ht.onExpand)===null||Kn===void 0||Kn.call(ht,yn,Gt)},[sr,yr]=s.useState(0),Vr=yn=>{let{offsetWidth:Gt}=yn;yr(Gt)},Qn=yn=>{var Gt;We(yn),Qe!==yn&&((Gt=ht.onEllipsis)===null||Gt===void 0||Gt.call(ht,yn))};s.useEffect(()=>{const yn=U.current;if(ct&&on&&yn){const Gt=z9(yn);it!==Gt&&Je(Gt)}},[ct,on,S,zn,wt,sr]),s.useEffect(()=>{const yn=U.current;if(typeof IntersectionObserver=="undefined"||!yn||!on||!xt)return;const Gt=new IntersectionObserver(()=>{Dt(!!yn.offsetParent)});return Gt.observe(yn),()=>{Gt.disconnect()}},[on,xt]);const Un=M9(ht.tooltip,re.text,S),er=s.useMemo(()=>{if(!(!ct||on))return[re.text,S,F,Un.title].find(B2)},[ct,on,F,Un.title,kt]);if(ae)return s.createElement(C9,{value:(o=re.text)!==null&&o!==void 0?o:typeof S=="string"?S:"",onSave:be,onCancel:_e,onEnd:re.onEnd,prefixCls:Y,className:u,style:g,direction:j,component:N,maxLength:re.maxLength,autoSize:re.autoSize,enterIcon:re.enterIcon});const Ir=()=>{const{expandable:yn,symbol:Gt}=ht;return yn?s.createElement("button",{type:"button",key:"expand",className:`${Y}-${ut?"collapse":"expand"}`,onClick:Kn=>An(Kn,{expanded:!ut}),"aria-label":ut?H.collapse:H==null?void 0:H.expand},typeof Gt=="function"?Gt(ut):Gt):null},pr=()=>{if(!Q)return;const{icon:yn,tooltip:Gt,tabIndex:Kn}=re,vr=(0,El.Z)(Gt)[0]||(H==null?void 0:H.edit),Jr=typeof vr=="string"?vr:"";return de.includes("icon")?s.createElement(Uc.Z,{key:"edit",title:Gt===!1?"":vr},s.createElement("button",{type:"button",ref:K,className:`${Y}-edit`,onClick:me,"aria-label":Jr,tabIndex:Kn},yn||s.createElement(s9,{role:"button"}))):null},Zr=()=>Ie?s.createElement(L9,Object.assign({key:"copy"},Ce,{prefixCls:Y,copied:Le,locale:H,onCopy:ke,loading:ze,iconOnly:S==null})):null,xn=yn=>[yn&&Ir(),pr(),Zr()],fn=yn=>[yn&&!ut&&s.createElement("span",{"aria-hidden":!0,key:"ellipsis"},Z9),ht.suffix,xn(yn)];return s.createElement(d.Z,{onResize:Vr,disabled:!xt},yn=>s.createElement(F9,{tooltipProps:Un,enableEllipsis:xt,isEllipsis:kt},s.createElement(_O,Object.assign({className:oe()({[`${Y}-${_}`]:_,[`${Y}-disabled`]:x,[`${Y}-ellipsis`]:ct,[`${Y}-ellipsis-single-line`]:cn,[`${Y}-ellipsis-multiple-line`]:zn},u),prefixCls:i,style:Object.assign(Object.assign({},g),{WebkitLineClamp:zn?_t:void 0}),component:N,ref:(0,zr.sQ)(yn,U,t),direction:j,onClick:de.includes("text")?me:void 0,"aria-label":er==null?void 0:er.toString(),title:F},q),s.createElement(B9,{enableMeasure:xt&&!on,text:S,rows:_t,width:sr,onEllipsis:Qn,expanded:ut,miscDeps:[Le,ut,ze,Q,Ie,H]},(Gt,Kn)=>j9(e,s.createElement(s.Fragment,null,Gt.length>0&&Kn&&!ut&&er?s.createElement("span",{key:"show-content","aria-hidden":!0},Gt):Gt,fn(Kn)))))))}),V9=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o},H9=s.forwardRef((e,t)=>{var{ellipsis:o,rel:i}=e,u=V9(e,["ellipsis","rel"]);const g=Object.assign(Object.assign({},u),{rel:i===void 0&&u.target==="_blank"?"noopener noreferrer":i});return delete g.navigate,s.createElement(SC,Object.assign({},g,{ref:t,ellipsis:!!o,component:"a"}))}),U9=s.forwardRef((e,t)=>s.createElement(SC,Object.assign({ref:t},e,{component:"div"}))),W9=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};const G9=(e,t)=>{var{ellipsis:o}=e,i=W9(e,["ellipsis"]);const u=s.useMemo(()=>o&&typeof o=="object"?(0,Er.Z)(o,["expandable","rows"]):o,[o]);return s.createElement(SC,Object.assign({ref:t},i,{ellipsis:u,component:"span"}))};var X9=s.forwardRef(G9),q9=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};const K9=[1,2,3,4,5];var Y9=s.forwardRef((e,t)=>{const{level:o=1}=e,i=q9(e,["level"]),u=K9.includes(o)?`h${o}`:"h1";return s.createElement(SC,Object.assign({ref:t},i,{component:u}))});const cb=_O;cb.Text=X9,cb.Link=H9,cb.Title=Y9,cb.Paragraph=U9;var J9=cb,ud=he(63662),V2=function(e,t){if(e&&t){var o=Array.isArray(t)?t:t.split(","),i=e.name||"",u=e.type||"",g=u.replace(/\/.*$/,"");return o.some(function(_){var x=_.trim();if(/^\*(\/\*)?$/.test(_))return!0;if(x.charAt(0)==="."){var S=i.toLowerCase(),T=x.toLowerCase(),M=[T];return(T===".jpg"||T===".jpeg")&&(M=[".jpg",".jpeg"]),M.some(function(R){return S.endsWith(R)})}return/\/\*$/.test(x)?g===x.replace(/\/.*$/,""):u===x?!0:/^\w+$/.test(x)?((0,zl.ZP)(!1,"Upload takes an invalidate 'accept' type '".concat(x,"'.Skip for check.")),!0):!1})}return!0};function Q9(e,t){var o="cannot ".concat(e.method," ").concat(e.action," ").concat(t.status,"'"),i=new Error(o);return i.status=t.status,i.method=e.method,i.url=e.action,i}function wO(e){var t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch(o){return t}}function eV(e){var t=new XMLHttpRequest;e.onProgress&&t.upload&&(t.upload.onprogress=function(g){g.total>0&&(g.percent=g.loaded/g.total*100),e.onProgress(g)});var o=new FormData;e.data&&Object.keys(e.data).forEach(function(u){var g=e.data[u];if(Array.isArray(g)){g.forEach(function(_){o.append("".concat(u,"[]"),_)});return}o.append(u,g)}),e.file instanceof Blob?o.append(e.filename,e.file,e.file.name):o.append(e.filename,e.file),t.onerror=function(g){e.onError(g)},t.onload=function(){return t.status<200||t.status>=300?e.onError(Q9(e,t),wO(t)):e.onSuccess(wO(t),t)},t.open(e.method,e.action,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);var i=e.headers||{};return i["X-Requested-With"]!==null&&t.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(i).forEach(function(u){i[u]!==null&&t.setRequestHeader(u,i[u])}),t.send(o),{abort:function(){t.abort()}}}var tV=function(){var e=(0,Ya.Z)((0,di.Z)().mark(function t(o,i){var u,g,_,x,S,T,M,R;return(0,di.Z)().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:T=function(){return T=(0,Ya.Z)((0,di.Z)().mark(function V(j){return(0,di.Z)().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.abrupt("return",new Promise(function(K){j.file(function(Y){i(Y)?(j.fullPath&&!Y.webkitRelativePath&&(Object.defineProperties(Y,{webkitRelativePath:{writable:!0}}),Y.webkitRelativePath=j.fullPath.replace(/^\//,""),Object.defineProperties(Y,{webkitRelativePath:{writable:!1}})),K(Y)):K(null)})}));case 1:case"end":return U.stop()}},V)})),T.apply(this,arguments)},S=function(V){return T.apply(this,arguments)},x=function(){return x=(0,Ya.Z)((0,di.Z)().mark(function V(j){var H,U,K,Y,q;return(0,di.Z)().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:H=j.createReader(),U=[];case 2:return re.next=5,new Promise(function(ae){H.readEntries(ae,function(){return ae([])})});case 5:if(K=re.sent,Y=K.length,Y){re.next=9;break}return re.abrupt("break",12);case 9:for(q=0;q<Y;q++)U.push(K[q]);re.next=2;break;case 12:return re.abrupt("return",U);case 13:case"end":return re.stop()}},V)})),x.apply(this,arguments)},_=function(V){return x.apply(this,arguments)},u=[],g=[],o.forEach(function(B){return g.push(B.webkitGetAsEntry())}),M=function(){var B=(0,Ya.Z)((0,di.Z)().mark(function V(j,H){var U,K;return(0,di.Z)().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:if(j){q.next=2;break}return q.abrupt("return");case 2:if(j.path=H||"",!j.isFile){q.next=10;break}return q.next=6,S(j);case 6:U=q.sent,U&&u.push(U),q.next=15;break;case 10:if(!j.isDirectory){q.next=15;break}return q.next=13,_(j);case 13:K=q.sent,g.push.apply(g,(0,Be.Z)(K));case 15:case"end":return q.stop()}},V)}));return function(j,H){return B.apply(this,arguments)}}(),R=0;case 9:if(!(R<g.length)){F.next=15;break}return F.next=12,M(g[R]);case 12:R++,F.next=9;break;case 15:return F.abrupt("return",u);case 16:case"end":return F.stop()}},t)}));return function(o,i){return e.apply(this,arguments)}}(),nV=tV,rV=+new Date,iV=0;function H2(){return"rc-upload-".concat(rV,"-").concat(++iV)}var oV=["component","prefixCls","className","classNames","disabled","id","name","style","styles","multiple","accept","capture","children","directory","openFileDialogOnClick","onMouseEnter","onMouseLeave","hasControlInside"],aV=function(e){(0,Gr.Z)(o,e);var t=(0,bu.Z)(o);function o(){var i;(0,ri.Z)(this,o);for(var u=arguments.length,g=new Array(u),_=0;_<u;_++)g[_]=arguments[_];return i=t.call.apply(t,[this].concat(g)),(0,Ee.Z)((0,ud.Z)(i),"state",{uid:H2()}),(0,Ee.Z)((0,ud.Z)(i),"reqs",{}),(0,Ee.Z)((0,ud.Z)(i),"fileInput",void 0),(0,Ee.Z)((0,ud.Z)(i),"_isMounted",void 0),(0,Ee.Z)((0,ud.Z)(i),"onChange",function(x){var S=i.props,T=S.accept,M=S.directory,R=x.target.files,N=(0,Be.Z)(R).filter(function(F){return!M||V2(F,T)});i.uploadFiles(N),i.reset()}),(0,Ee.Z)((0,ud.Z)(i),"onClick",function(x){var S=i.fileInput;if(S){var T=x.target,M=i.props.onClick;if(T&&T.tagName==="BUTTON"){var R=S.parentNode;R.focus(),T.blur()}S.click(),M&&M(x)}}),(0,Ee.Z)((0,ud.Z)(i),"onKeyDown",function(x){x.key==="Enter"&&i.onClick(x)}),(0,Ee.Z)((0,ud.Z)(i),"onFileDrop",function(){var x=(0,Ya.Z)((0,di.Z)().mark(function S(T){var M,R,N;return(0,di.Z)().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(M=i.props.multiple,T.preventDefault(),T.type!=="dragover"){B.next=4;break}return B.abrupt("return");case 4:if(!i.props.directory){B.next=11;break}return B.next=7,nV(Array.prototype.slice.call(T.dataTransfer.items),function(V){return V2(V,i.props.accept)});case 7:R=B.sent,i.uploadFiles(R),B.next=14;break;case 11:N=(0,Be.Z)(T.dataTransfer.files).filter(function(V){return V2(V,i.props.accept)}),M===!1&&(N=N.slice(0,1)),i.uploadFiles(N);case 14:case"end":return B.stop()}},S)}));return function(S){return x.apply(this,arguments)}}()),(0,Ee.Z)((0,ud.Z)(i),"uploadFiles",function(x){var S=(0,Be.Z)(x),T=S.map(function(M){return M.uid=H2(),i.processFile(M,S)});Promise.all(T).then(function(M){var R=i.props.onBatchStart;R==null||R(M.map(function(N){var F=N.origin,B=N.parsedFile;return{file:F,parsedFile:B}})),M.filter(function(N){return N.parsedFile!==null}).forEach(function(N){i.post(N)})})}),(0,Ee.Z)((0,ud.Z)(i),"processFile",function(){var x=(0,Ya.Z)((0,di.Z)().mark(function S(T,M){var R,N,F,B,V,j,H,U,K;return(0,di.Z)().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:if(R=i.props.beforeUpload,N=T,!R){q.next=14;break}return q.prev=3,q.next=6,R(T,M);case 6:N=q.sent,q.next=12;break;case 9:q.prev=9,q.t0=q.catch(3),N=!1;case 12:if(N!==!1){q.next=14;break}return q.abrupt("return",{origin:T,parsedFile:null,action:null,data:null});case 14:if(F=i.props.action,typeof F!="function"){q.next=21;break}return q.next=18,F(T);case 18:B=q.sent,q.next=22;break;case 21:B=F;case 22:if(V=i.props.data,typeof V!="function"){q.next=29;break}return q.next=26,V(T);case 26:j=q.sent,q.next=30;break;case 29:j=V;case 30:return H=((0,Tt.Z)(N)==="object"||typeof N=="string")&&N?N:T,H instanceof File?U=H:U=new File([H],T.name,{type:T.type}),K=U,K.uid=T.uid,q.abrupt("return",{origin:T,data:j,parsedFile:K,action:B});case 35:case"end":return q.stop()}},S,null,[[3,9]])}));return function(S,T){return x.apply(this,arguments)}}()),(0,Ee.Z)((0,ud.Z)(i),"saveFileInput",function(x){i.fileInput=x}),i}return(0,Ko.Z)(o,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.abort()}},{key:"post",value:function(u){var g=this,_=u.data,x=u.origin,S=u.action,T=u.parsedFile;if(this._isMounted){var M=this.props,R=M.onStart,N=M.customRequest,F=M.name,B=M.headers,V=M.withCredentials,j=M.method,H=x.uid,U=N||eV,K={action:S,filename:F,data:_,file:T,headers:B,withCredentials:V,method:j||"post",onProgress:function(q){var Q=g.props.onProgress;Q==null||Q(q,T)},onSuccess:function(q,Q){var re=g.props.onSuccess;re==null||re(q,T,Q),delete g.reqs[H]},onError:function(q,Q){var re=g.props.onError;re==null||re(q,Q,T),delete g.reqs[H]}};R(x),this.reqs[H]=U(K)}}},{key:"reset",value:function(){this.setState({uid:H2()})}},{key:"abort",value:function(u){var g=this.reqs;if(u){var _=u.uid?u.uid:u;g[_]&&g[_].abort&&g[_].abort(),delete g[_]}else Object.keys(g).forEach(function(x){g[x]&&g[x].abort&&g[x].abort(),delete g[x]})}},{key:"render",value:function(){var u=this.props,g=u.component,_=u.prefixCls,x=u.className,S=u.classNames,T=S===void 0?{}:S,M=u.disabled,R=u.id,N=u.name,F=u.style,B=u.styles,V=B===void 0?{}:B,j=u.multiple,H=u.accept,U=u.capture,K=u.children,Y=u.directory,q=u.openFileDialogOnClick,Q=u.onMouseEnter,re=u.onMouseLeave,ae=u.hasControlInside,se=(0,Ve.Z)(u,oV),de=oe()((0,Ee.Z)((0,Ee.Z)((0,Ee.Z)({},_,!0),"".concat(_,"-disabled"),M),x,x)),pe=Y?{directory:"directory",webkitdirectory:"webkitdirectory"}:{},ge=M?{}:{onClick:q?this.onClick:function(){},onKeyDown:q?this.onKeyDown:function(){},onMouseEnter:Q,onMouseLeave:re,onDrop:this.onFileDrop,onDragOver:this.onFileDrop,tabIndex:ae?void 0:"0"};return s.createElement(g,(0,Pt.Z)({},ge,{className:de,role:ae?void 0:"button",style:F}),s.createElement("input",(0,Pt.Z)({},(0,ir.Z)(se,{aria:!0,data:!0}),{id:R,name:N,disabled:M,type:"file",ref:this.saveFileInput,onClick:function(be){return be.stopPropagation()},key:this.state.uid,style:(0,fe.Z)({display:"none"},V.input),className:T.input,accept:H},pe,{multiple:j,onChange:this.onChange},U!=null?{capture:U}:{})),K)}}]),o}(s.Component),sV=aV;function U2(){}var SO=function(e){(0,Gr.Z)(o,e);var t=(0,bu.Z)(o);function o(){var i;(0,ri.Z)(this,o);for(var u=arguments.length,g=new Array(u),_=0;_<u;_++)g[_]=arguments[_];return i=t.call.apply(t,[this].concat(g)),(0,Ee.Z)((0,ud.Z)(i),"uploader",void 0),(0,Ee.Z)((0,ud.Z)(i),"saveUploader",function(x){i.uploader=x}),i}return(0,Ko.Z)(o,[{key:"abort",value:function(u){this.uploader.abort(u)}},{key:"render",value:function(){return s.createElement(sV,(0,Pt.Z)({},this.props,{ref:this.saveUploader}))}}]),o}(s.Component);(0,Ee.Z)(SO,"defaultProps",{component:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onStart:U2,onError:U2,onSuccess:U2,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1,openFileDialogOnClick:!0,hasControlInside:!1});var lV=SO,EO=lV,cV=e=>{const{componentCls:t,iconCls:o}=e;return{[`${t}-wrapper`]:{[`${t}-drag`]:{position:"relative",width:"100%",height:"100%",textAlign:"center",background:e.colorFillAlter,border:`${(0,J.bf)(e.lineWidth)} dashed ${e.colorBorder}`,borderRadius:e.borderRadiusLG,cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,[t]:{padding:e.padding},[`${t}-btn`]:{display:"table",width:"100%",height:"100%",outline:"none",borderRadius:e.borderRadiusLG,"&:focus-visible":{outline:`${(0,J.bf)(e.lineWidthFocus)} solid ${e.colorPrimaryBorder}`}},[`${t}-drag-container`]:{display:"table-cell",verticalAlign:"middle"},[`
          &:not(${t}-disabled):hover,
          &-hover:not(${t}-disabled)
        `]:{borderColor:e.colorPrimaryHover},[`p${t}-drag-icon`]:{marginBottom:e.margin,[o]:{color:e.colorPrimary,fontSize:e.uploadThumbnailSize}},[`p${t}-text`]:{margin:`0 0 ${(0,J.bf)(e.marginXXS)}`,color:e.colorTextHeading,fontSize:e.fontSizeLG},[`p${t}-hint`]:{color:e.colorTextDescription,fontSize:e.fontSize},[`&${t}-disabled`]:{[`p${t}-drag-icon ${o},
            p${t}-text,
            p${t}-hint
          `]:{color:e.colorTextDisabled}}}}}},uV=e=>{const{componentCls:t,iconCls:o,fontSize:i,lineHeight:u,calc:g}=e,_=`${t}-list-item`,x=`${_}-actions`,S=`${_}-action`;return{[`${t}-wrapper`]:{[`${t}-list`]:Object.assign(Object.assign({},(0,mn.dF)()),{lineHeight:e.lineHeight,[_]:{position:"relative",height:g(e.lineHeight).mul(i).equal(),marginTop:e.marginXS,fontSize:i,display:"flex",alignItems:"center",transition:`background-color ${e.motionDurationSlow}`,borderRadius:e.borderRadiusSM,"&:hover":{backgroundColor:e.controlItemBgHover},[`${_}-name`]:Object.assign(Object.assign({},mn.vS),{padding:`0 ${(0,J.bf)(e.paddingXS)}`,lineHeight:u,flex:"auto",transition:`all ${e.motionDurationSlow}`}),[x]:{whiteSpace:"nowrap",[S]:{opacity:0},[o]:{color:e.actionsColor,transition:`all ${e.motionDurationSlow}`},[`
              ${S}:focus-visible,
              &.picture ${S}
            `]:{opacity:1}},[`${t}-icon ${o}`]:{color:e.colorTextDescription,fontSize:i},[`${_}-progress`]:{position:"absolute",bottom:e.calc(e.uploadProgressOffset).mul(-1).equal(),width:"100%",paddingInlineStart:g(i).add(e.paddingXS).equal(),fontSize:i,lineHeight:0,pointerEvents:"none","> div":{margin:0}}},[`${_}:hover ${S}`]:{opacity:1},[`${_}-error`]:{color:e.colorError,[`${_}-name, ${t}-icon ${o}`]:{color:e.colorError},[x]:{[`${o}, ${o}:hover`]:{color:e.colorError},[S]:{opacity:1}}},[`${t}-list-item-container`]:{transition:`opacity ${e.motionDurationSlow}, height ${e.motionDurationSlow}`,"&::before":{display:"table",width:0,height:0,content:'""'}}})}}},dV=e=>{const{componentCls:t}=e,o=new J.E4("uploadAnimateInlineIn",{from:{width:0,height:0,padding:0,opacity:0,margin:e.calc(e.marginXS).div(-2).equal()}}),i=new J.E4("uploadAnimateInlineOut",{to:{width:0,height:0,padding:0,opacity:0,margin:e.calc(e.marginXS).div(-2).equal()}}),u=`${t}-animate-inline`;return[{[`${t}-wrapper`]:{[`${u}-appear, ${u}-enter, ${u}-leave`]:{animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseInOutCirc,animationFillMode:"forwards"},[`${u}-appear, ${u}-enter`]:{animationName:o},[`${u}-leave`]:{animationName:i}}},{[`${t}-wrapper`]:wd(e)},o,i]};const fV=e=>{const{componentCls:t,iconCls:o,uploadThumbnailSize:i,uploadProgressOffset:u,calc:g}=e,_=`${t}-list`,x=`${_}-item`;return{[`${t}-wrapper`]:{[`
        ${_}${_}-picture,
        ${_}${_}-picture-card,
        ${_}${_}-picture-circle
      `]:{[x]:{position:"relative",height:g(i).add(g(e.lineWidth).mul(2)).add(g(e.paddingXS).mul(2)).equal(),padding:e.paddingXS,border:`${(0,J.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusLG,"&:hover":{background:"transparent"},[`${x}-thumbnail`]:Object.assign(Object.assign({},mn.vS),{width:i,height:i,lineHeight:(0,J.bf)(g(i).add(e.paddingSM).equal()),textAlign:"center",flex:"none",[o]:{fontSize:e.fontSizeHeading2,color:e.colorPrimary},img:{display:"block",width:"100%",height:"100%",overflow:"hidden"}}),[`${x}-progress`]:{bottom:u,width:`calc(100% - ${(0,J.bf)(g(e.paddingSM).mul(2).equal())})`,marginTop:0,paddingInlineStart:g(i).add(e.paddingXS).equal()}},[`${x}-error`]:{borderColor:e.colorError,[`${x}-thumbnail ${o}`]:{[`svg path[fill='${Em.iN[0]}']`]:{fill:e.colorErrorBg},[`svg path[fill='${Em.iN.primary}']`]:{fill:e.colorError}}},[`${x}-uploading`]:{borderStyle:"dashed",[`${x}-name`]:{marginBottom:u}}},[`${_}${_}-picture-circle ${x}`]:{[`&, &::before, ${x}-thumbnail`]:{borderRadius:"50%"}}}}},hV=e=>{const{componentCls:t,iconCls:o,fontSizeLG:i,colorTextLightSolid:u,calc:g}=e,_=`${t}-list`,x=`${_}-item`,S=e.uploadPicCardSize;return{[`
      ${t}-wrapper${t}-picture-card-wrapper,
      ${t}-wrapper${t}-picture-circle-wrapper
    `]:Object.assign(Object.assign({},(0,mn.dF)()),{display:"block",[`${t}${t}-select`]:{width:S,height:S,textAlign:"center",verticalAlign:"top",backgroundColor:e.colorFillAlter,border:`${(0,J.bf)(e.lineWidth)} dashed ${e.colorBorder}`,borderRadius:e.borderRadiusLG,cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,[`> ${t}`]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center"},[`&:not(${t}-disabled):hover`]:{borderColor:e.colorPrimary}},[`${_}${_}-picture-card, ${_}${_}-picture-circle`]:{display:"flex",flexWrap:"wrap","@supports not (gap: 1px)":{"& > *":{marginBlockEnd:e.marginXS,marginInlineEnd:e.marginXS}},"@supports (gap: 1px)":{gap:e.marginXS},[`${_}-item-container`]:{display:"inline-block",width:S,height:S,verticalAlign:"top"},"&::after":{display:"none"},"&::before":{display:"none"},[x]:{height:"100%",margin:0,"&::before":{position:"absolute",zIndex:1,width:`calc(100% - ${(0,J.bf)(g(e.paddingXS).mul(2).equal())})`,height:`calc(100% - ${(0,J.bf)(g(e.paddingXS).mul(2).equal())})`,backgroundColor:e.colorBgMask,opacity:0,transition:`all ${e.motionDurationSlow}`,content:'" "'}},[`${x}:hover`]:{[`&::before, ${x}-actions`]:{opacity:1}},[`${x}-actions`]:{position:"absolute",insetInlineStart:0,zIndex:10,width:"100%",whiteSpace:"nowrap",textAlign:"center",opacity:0,transition:`all ${e.motionDurationSlow}`,[`
            ${o}-eye,
            ${o}-download,
            ${o}-delete
          `]:{zIndex:10,width:i,margin:`0 ${(0,J.bf)(e.marginXXS)}`,fontSize:i,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,color:u,"&:hover":{color:u},svg:{verticalAlign:"baseline"}}},[`${x}-thumbnail, ${x}-thumbnail img`]:{position:"static",display:"block",width:"100%",height:"100%",objectFit:"contain"},[`${x}-name`]:{display:"none",textAlign:"center"},[`${x}-file + ${x}-name`]:{position:"absolute",bottom:e.margin,display:"block",width:`calc(100% - ${(0,J.bf)(g(e.paddingXS).mul(2).equal())})`},[`${x}-uploading`]:{[`&${x}`]:{backgroundColor:e.colorFillAlter},[`&::before, ${o}-eye, ${o}-download, ${o}-delete`]:{display:"none"}},[`${x}-progress`]:{bottom:e.marginXL,width:`calc(100% - ${(0,J.bf)(g(e.paddingXS).mul(2).equal())})`,paddingInlineStart:0}}}),[`${t}-wrapper${t}-picture-circle-wrapper`]:{[`${t}${t}-select`]:{borderRadius:"50%"}}}};var pV=e=>{const{componentCls:t}=e;return{[`${t}-rtl`]:{direction:"rtl"}}};const mV=e=>{const{componentCls:t,colorTextDisabled:o}=e;return{[`${t}-wrapper`]:Object.assign(Object.assign({},(0,mn.Wf)(e)),{[t]:{outline:0,"input[type='file']":{cursor:"pointer"}},[`${t}-select`]:{display:"inline-block"},[`${t}-hidden`]:{display:"none"},[`${t}-disabled`]:{color:o,cursor:"not-allowed"}})}},gV=e=>({actionsColor:e.colorTextDescription});var vV=(0,Ae.I$)("Upload",e=>{const{fontSizeHeading3:t,fontHeight:o,lineWidth:i,controlHeightLG:u,calc:g}=e,_=(0,vn.IX)(e,{uploadThumbnailSize:g(t).mul(2).equal(),uploadProgressOffset:g(g(o).div(2)).add(i).equal(),uploadPicCardSize:g(u).mul(2.55).equal()});return[mV(_),cV(_),fV(_),hV(_),uV(_),dV(_),pV(_),(0,pd.Z)(_)]},gV),yV={icon:function(t,o){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M534 352V136H232v752h560V394H576a42 42 0 01-42-42z",fill:o}},{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z",fill:t}}]}},name:"file",theme:"twotone"},_V=yV,bV=function(t,o){return s.createElement(Fn.Z,(0,Pt.Z)({},t,{ref:o,icon:_V}))},xV=s.forwardRef(bV),CV=xV,wV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z"}}]},name:"paper-clip",theme:"outlined"},SV=wV,EV=function(t,o){return s.createElement(Fn.Z,(0,Pt.Z)({},t,{ref:o,icon:SV}))},IV=s.forwardRef(EV),TV=IV,MV={icon:function(t,o){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2z",fill:t}},{tag:"path",attrs:{d:"M424.6 765.8l-150.1-178L136 752.1V792h752v-30.4L658.1 489z",fill:o}},{tag:"path",attrs:{d:"M136 652.7l132.4-157c3.2-3.8 9-3.8 12.2 0l144 170.7L652 396.8c3.2-3.8 9-3.8 12.2 0L888 662.2V232H136v420.7zM304 280a88 88 0 110 176 88 88 0 010-176z",fill:o}},{tag:"path",attrs:{d:"M276 368a28 28 0 1056 0 28 28 0 10-56 0z",fill:o}},{tag:"path",attrs:{d:"M304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z",fill:t}}]}},name:"picture",theme:"twotone"},PV=MV,OV=function(t,o){return s.createElement(Fn.Z,(0,Pt.Z)({},t,{ref:o,icon:PV}))},$V=s.forwardRef(OV),RV=$V;function EC(e){return Object.assign(Object.assign({},e),{lastModified:e.lastModified,lastModifiedDate:e.lastModifiedDate,name:e.name,size:e.size,type:e.type,uid:e.uid,percent:0,originFileObj:e})}function IC(e,t){const o=(0,Be.Z)(t),i=o.findIndex(u=>{let{uid:g}=u;return g===e.uid});return i===-1?o.push(e):o[i]=e,o}function W2(e,t){const o=e.uid!==void 0?"uid":"name";return t.filter(i=>i[o]===e[o])[0]}function AV(e,t){const o=e.uid!==void 0?"uid":"name",i=t.filter(u=>u[o]!==e[o]);return i.length===t.length?null:i}const DV=function(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"").split("/"),i=t[t.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(i)||[""])[0]},IO=e=>e.indexOf("image/")===0,zV=e=>{if(e.type&&!e.thumbUrl)return IO(e.type);const t=e.thumbUrl||e.url||"",o=DV(t);return/^data:image\//.test(t)||/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico|heic|heif)$/i.test(o)?!0:!(/^data:/.test(t)||o)},Pm=200;function LV(e){return new Promise(t=>{if(!e.type||!IO(e.type)){t("");return}const o=document.createElement("canvas");o.width=Pm,o.height=Pm,o.style.cssText=`position: fixed; left: 0; top: 0; width: ${Pm}px; height: ${Pm}px; z-index: 9999; display: none;`,document.body.appendChild(o);const i=o.getContext("2d"),u=new Image;if(u.onload=()=>{const{width:g,height:_}=u;let x=Pm,S=Pm,T=0,M=0;g>_?(S=_*(Pm/g),M=-(S-x)/2):(x=g*(Pm/_),T=-(x-S)/2),i.drawImage(u,T,M,x,S);const R=o.toDataURL();document.body.removeChild(o),window.URL.revokeObjectURL(u.src),t(R)},u.crossOrigin="anonymous",e.type.startsWith("image/svg+xml")){const g=new FileReader;g.onload=()=>{g.result&&typeof g.result=="string"&&(u.src=g.result)},g.readAsDataURL(e)}else if(e.type.startsWith("image/gif")){const g=new FileReader;g.onload=()=>{g.result&&t(g.result)},g.readAsDataURL(e)}else u.src=window.URL.createObjectURL(e)})}var NV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"},BV=NV,FV=function(t,o){return s.createElement(Fn.Z,(0,Pt.Z)({},t,{ref:o,icon:BV}))},kV=s.forwardRef(FV),jV=kV,ZV=s.forwardRef((e,t)=>{let{prefixCls:o,className:i,style:u,locale:g,listType:_,file:x,items:S,progress:T,iconRender:M,actionIconRender:R,itemRender:N,isImgUrl:F,showPreviewIcon:B,showRemoveIcon:V,showDownloadIcon:j,previewIcon:H,removeIcon:U,downloadIcon:K,extra:Y,onPreview:q,onDownload:Q,onClose:re}=e;var ae,se;const{status:de}=x,[pe,ge]=s.useState(de);s.useEffect(()=>{de!=="removed"&&ge(de)},[de]);const[me,be]=s.useState(!1);s.useEffect(()=>{const ut=setTimeout(()=>{be(!0)},300);return()=>{clearTimeout(ut)}},[]);const _e=M(x);let Ie=s.createElement("div",{className:`${o}-icon`},_e);if(_==="picture"||_==="picture-card"||_==="picture-circle")if(pe==="uploading"||!x.thumbUrl&&!x.url){const ut=oe()(`${o}-list-item-thumbnail`,{[`${o}-list-item-file`]:pe!=="uploading"});Ie=s.createElement("div",{className:ut},_e)}else{const ut=F!=null&&F(x)?s.createElement("img",{src:x.thumbUrl||x.url,alt:x.name,className:`${o}-list-item-image`,crossOrigin:x.crossOrigin}):_e,tt=oe()(`${o}-list-item-thumbnail`,{[`${o}-list-item-file`]:F&&!F(x)});Ie=s.createElement("a",{className:tt,onClick:xt=>q(x,xt),href:x.url||x.thumbUrl,target:"_blank",rel:"noopener noreferrer"},ut)}const Ce=oe()(`${o}-list-item`,`${o}-list-item-${pe}`),Le=typeof x.linkProps=="string"?JSON.parse(x.linkProps):x.linkProps,ze=(typeof V=="function"?V(x):V)?R((typeof U=="function"?U(x):U)||s.createElement(lO,null),()=>re(x),o,g.removeFile,!0):null,ke=(typeof j=="function"?j(x):j)&&pe==="done"?R((typeof K=="function"?K(x):K)||s.createElement(jV,null),()=>Q(x),o,g.downloadFile):null,Ze=_!=="picture-card"&&_!=="picture-circle"&&s.createElement("span",{key:"download-delete",className:oe()(`${o}-list-item-actions`,{picture:_==="picture"})},ke,ze),je=typeof Y=="function"?Y(x):Y,Ue=je&&s.createElement("span",{className:`${o}-list-item-extra`},je),He=oe()(`${o}-list-item-name`),Qe=x.url?s.createElement("a",Object.assign({key:"view",target:"_blank",rel:"noopener noreferrer",className:He,title:x.name},Le,{href:x.url,onClick:ut=>q(x,ut)}),x.name,Ue):s.createElement("span",{key:"view",className:He,onClick:ut=>q(x,ut),title:x.name},x.name,Ue),We=(typeof B=="function"?B(x):B)&&(x.url||x.thumbUrl)?s.createElement("a",{href:x.url||x.thumbUrl,target:"_blank",rel:"noopener noreferrer",onClick:ut=>q(x,ut),title:g.previewFile},typeof H=="function"?H(x):H||s.createElement(AS,null)):null,it=(_==="picture-card"||_==="picture-circle")&&pe!=="uploading"&&s.createElement("span",{className:`${o}-list-item-actions`},We,pe==="done"&&ke,ze),{getPrefixCls:Je}=s.useContext(De.E_),wt=Je(),Dt=s.createElement("div",{className:Ce},Ie,Qe,Ze,it,me&&s.createElement(mr.ZP,{motionName:`${wt}-fade`,visible:pe==="uploading",motionDeadline:2e3},ut=>{let{className:tt}=ut;const xt="percent"in x?s.createElement(qS,Object.assign({},T,{type:"line",percent:x.percent,"aria-label":x["aria-label"],"aria-labelledby":x["aria-labelledby"]})):null;return s.createElement("div",{className:oe()(`${o}-list-item-progress`,tt)},xt)})),ct=x.response&&typeof x.response=="string"?x.response:((ae=x.error)===null||ae===void 0?void 0:ae.statusText)||((se=x.error)===null||se===void 0?void 0:se.message)||g.uploadError,ht=pe==="error"?s.createElement(Uc.Z,{title:ct,getPopupContainer:ut=>ut.parentNode},Dt):Dt;return s.createElement("div",{className:oe()(`${o}-list-item-container`,i),style:u,ref:t},N?N(ht,x,S,{download:Q.bind(null,x),preview:q.bind(null,x),remove:re.bind(null,x)}):ht)});const VV=(e,t)=>{const{listType:o="text",previewFile:i=LV,onPreview:u,onDownload:g,onRemove:_,locale:x,iconRender:S,isImageUrl:T=zV,prefixCls:M,items:R=[],showPreviewIcon:N=!0,showRemoveIcon:F=!0,showDownloadIcon:B=!1,removeIcon:V,previewIcon:j,downloadIcon:H,extra:U,progress:K={size:[-1,2],showInfo:!1},appendAction:Y,appendActionVisible:q=!0,itemRender:Q,disabled:re}=e,ae=(0,YS.Z)(),[se,de]=s.useState(!1),pe=["picture-card","picture-circle"].includes(o);s.useEffect(()=>{o.startsWith("picture")&&(R||[]).forEach(Ue=>{!(Ue.originFileObj instanceof File||Ue.originFileObj instanceof Blob)||Ue.thumbUrl!==void 0||(Ue.thumbUrl="",i==null||i(Ue.originFileObj).then(He=>{Ue.thumbUrl=He||"",ae()}))})},[o,R,i]),s.useEffect(()=>{de(!0)},[]);const ge=(Ue,He)=>{if(u)return He==null||He.preventDefault(),u(Ue)},me=Ue=>{typeof g=="function"?g(Ue):Ue.url&&window.open(Ue.url)},be=Ue=>{_==null||_(Ue)},_e=Ue=>{if(S)return S(Ue,o);const He=Ue.status==="uploading";if(o.startsWith("picture")){const Qe=o==="picture"?s.createElement(mo.Z,null):x.uploading,We=T!=null&&T(Ue)?s.createElement(RV,null):s.createElement(CV,null);return He?Qe:We}return He?s.createElement(mo.Z,null):s.createElement(TV,null)},Ie=(Ue,He,Qe,We,it)=>{const Je={type:"text",size:"small",title:We,onClick:wt=>{var Dt,ct;He(),s.isValidElement(Ue)&&((ct=(Dt=Ue.props).onClick)===null||ct===void 0||ct.call(Dt,wt))},className:`${Qe}-list-item-action`};return it&&(Je.disabled=re),s.isValidElement(Ue)?s.createElement(Xl,Object.assign({},Je,{icon:(0,wr.Tm)(Ue,Object.assign(Object.assign({},Ue.props),{onClick:()=>{}}))})):s.createElement(Xl,Object.assign({},Je),s.createElement("span",null,Ue))};s.useImperativeHandle(t,()=>({handlePreview:ge,handleDownload:me}));const{getPrefixCls:Ce}=s.useContext(De.E_),Le=Ce("upload",M),ze=Ce(),ke=oe()(`${Le}-list`,`${Le}-list-${o}`),Ze=s.useMemo(()=>(0,Er.Z)((0,Bi.Z)(ze),["onAppearEnd","onEnterEnd","onLeaveEnd"]),[ze]),je=Object.assign(Object.assign({},pe?{}:Ze),{motionDeadline:2e3,motionName:`${Le}-${pe?"animate-inline":"animate"}`,keys:(0,Be.Z)(R.map(Ue=>({key:Ue.uid,file:Ue}))),motionAppear:se});return s.createElement("div",{className:ke},s.createElement(mr.V4,Object.assign({},je,{component:!1}),Ue=>{let{key:He,file:Qe,className:We,style:it}=Ue;return s.createElement(ZV,{key:He,locale:x,prefixCls:Le,className:We,style:it,file:Qe,items:R,progress:K,listType:o,isImgUrl:T,showPreviewIcon:N,showRemoveIcon:F,showDownloadIcon:B,removeIcon:V,previewIcon:j,downloadIcon:H,extra:U,iconRender:_e,actionIconRender:Ie,itemRender:Q,onPreview:ge,onDownload:me,onClose:be})}),Y&&s.createElement(mr.ZP,Object.assign({},je,{visible:q,forceRender:!0}),Ue=>{let{className:He,style:Qe}=Ue;return(0,wr.Tm)(Y,We=>({className:oe()(We.className,He),style:Object.assign(Object.assign(Object.assign({},Qe),{pointerEvents:He?"none":void 0}),We.style)}))}))};var HV=s.forwardRef(VV),UV=function(e,t,o,i){function u(g){return g instanceof o?g:new o(function(_){_(g)})}return new(o||(o=Promise))(function(g,_){function x(M){try{T(i.next(M))}catch(R){_(R)}}function S(M){try{T(i.throw(M))}catch(R){_(R)}}function T(M){M.done?g(M.value):u(M.value).then(x,S)}T((i=i.apply(e,t||[])).next())})};const ub=`__LIST_IGNORE_${Date.now()}__`,WV=(e,t)=>{const{fileList:o,defaultFileList:i,onRemove:u,showUploadList:g=!0,listType:_="text",onPreview:x,onDownload:S,onChange:T,onDrop:M,previewFile:R,disabled:N,locale:F,iconRender:B,isImageUrl:V,progress:j,prefixCls:H,className:U,type:K="select",children:Y,style:q,itemRender:Q,maxCount:re,data:ae={},multiple:se=!1,hasControlInside:de=!0,action:pe="",accept:ge="",supportServerRender:me=!0,rootClassName:be}=e,_e=s.useContext(Ds.Z),Ie=N!=null?N:_e,[Ce,Le]=(0,Jo.Z)(i||[],{value:o,postState:xn=>xn!=null?xn:[]}),[ze,ke]=s.useState("drop"),Ze=s.useRef(null),je=s.useRef(null);s.useMemo(()=>{const xn=Date.now();(o||[]).forEach((fn,yn)=>{!fn.uid&&!Object.isFrozen(fn)&&(fn.uid=`__AUTO__${xn}_${yn}__`)})},[o]);const Ue=(xn,fn,yn)=>{let Gt=(0,Be.Z)(fn),Kn=!1;re===1?Gt=Gt.slice(-1):re&&(Kn=Gt.length>re,Gt=Gt.slice(0,re)),(0,Nt.flushSync)(()=>{Le(Gt)});const vr={file:xn,fileList:Gt};yn&&(vr.event=yn),(!Kn||xn.status==="removed"||Gt.some(Jr=>Jr.uid===xn.uid))&&(0,Nt.flushSync)(()=>{T==null||T(vr)})},He=(xn,fn)=>UV(void 0,void 0,void 0,function*(){const{beforeUpload:yn,transformFile:Gt}=e;let Kn=xn;if(yn){const vr=yield yn(xn,fn);if(vr===!1)return!1;if(delete xn[ub],vr===ub)return Object.defineProperty(xn,ub,{value:!0,configurable:!0}),!1;typeof vr=="object"&&vr&&(Kn=vr)}return Gt&&(Kn=yield Gt(Kn)),Kn}),Qe=xn=>{const fn=xn.filter(Kn=>!Kn.file[ub]);if(!fn.length)return;const yn=fn.map(Kn=>EC(Kn.file));let Gt=(0,Be.Z)(Ce);yn.forEach(Kn=>{Gt=IC(Kn,Gt)}),yn.forEach((Kn,vr)=>{let Jr=Kn;if(fn[vr].parsedFile)Kn.status="uploading";else{const{originFileObj:Hi}=Kn;let Gi;try{Gi=new File([Hi],Hi.name,{type:Hi.type})}catch(Zi){Gi=new Blob([Hi],{type:Hi.type}),Gi.name=Hi.name,Gi.lastModifiedDate=new Date,Gi.lastModified=new Date().getTime()}Gi.uid=Kn.uid,Jr=Gi}Ue(Jr,Gt)})},We=(xn,fn,yn)=>{try{typeof xn=="string"&&(xn=JSON.parse(xn))}catch(vr){}if(!W2(fn,Ce))return;const Gt=EC(fn);Gt.status="done",Gt.percent=100,Gt.response=xn,Gt.xhr=yn;const Kn=IC(Gt,Ce);Ue(Gt,Kn)},it=(xn,fn)=>{if(!W2(fn,Ce))return;const yn=EC(fn);yn.status="uploading",yn.percent=xn.percent;const Gt=IC(yn,Ce);Ue(yn,Gt,xn)},Je=(xn,fn,yn)=>{if(!W2(yn,Ce))return;const Gt=EC(yn);Gt.error=xn,Gt.response=fn,Gt.status="error";const Kn=IC(Gt,Ce);Ue(Gt,Kn)},wt=xn=>{let fn;Promise.resolve(typeof u=="function"?u(xn):u).then(yn=>{var Gt;if(yn===!1)return;const Kn=AV(xn,Ce);Kn&&(fn=Object.assign(Object.assign({},xn),{status:"removed"}),Ce==null||Ce.forEach(vr=>{const Jr=fn.uid!==void 0?"uid":"name";vr[Jr]===fn[Jr]&&!Object.isFrozen(vr)&&(vr.status="removed")}),(Gt=Ze.current)===null||Gt===void 0||Gt.abort(fn),Ue(fn,Kn))})},Dt=xn=>{ke(xn.type),xn.type==="drop"&&(M==null||M(xn))};s.useImperativeHandle(t,()=>({onBatchStart:Qe,onSuccess:We,onProgress:it,onError:Je,fileList:Ce,upload:Ze.current,nativeElement:je.current}));const{getPrefixCls:ct,direction:ht,upload:ut}=s.useContext(De.E_),tt=ct("upload",H),xt=Object.assign(Object.assign({onBatchStart:Qe,onError:Je,onProgress:it,onSuccess:We},e),{data:ae,multiple:se,action:pe,accept:ge,supportServerRender:me,prefixCls:tt,disabled:Ie,beforeUpload:He,onChange:void 0,hasControlInside:de});delete xt.className,delete xt.style,(!Y||Ie)&&delete xt.id;const _t=`${tt}-wrapper`,[dn,on,Ut]=vV(tt,_t),[en]=(0,Pr.Z)("Upload",Ac.Z.Upload),{showRemoveIcon:kt,showPreviewIcon:cn,showDownloadIcon:zn,removeIcon:An,previewIcon:sr,downloadIcon:yr,extra:Vr}=typeof g=="boolean"?{}:g,Qn=typeof kt=="undefined"?!Ie:kt,Un=(xn,fn)=>g?s.createElement(HV,{prefixCls:tt,listType:_,items:Ce,previewFile:R,onPreview:x,onDownload:S,onRemove:wt,showRemoveIcon:Qn,showPreviewIcon:cn,showDownloadIcon:zn,removeIcon:An,previewIcon:sr,downloadIcon:yr,iconRender:B,extra:Vr,locale:Object.assign(Object.assign({},en),F),isImageUrl:V,progress:j,appendAction:xn,appendActionVisible:fn,itemRender:Q,disabled:Ie}):xn,er=oe()(_t,U,be,on,Ut,ut==null?void 0:ut.className,{[`${tt}-rtl`]:ht==="rtl",[`${tt}-picture-card-wrapper`]:_==="picture-card",[`${tt}-picture-circle-wrapper`]:_==="picture-circle"}),Ir=Object.assign(Object.assign({},ut==null?void 0:ut.style),q);if(K==="drag"){const xn=oe()(on,tt,`${tt}-drag`,{[`${tt}-drag-uploading`]:Ce.some(fn=>fn.status==="uploading"),[`${tt}-drag-hover`]:ze==="dragover",[`${tt}-disabled`]:Ie,[`${tt}-rtl`]:ht==="rtl"});return dn(s.createElement("span",{className:er,ref:je},s.createElement("div",{className:xn,style:Ir,onDrop:Dt,onDragOver:Dt,onDragLeave:Dt},s.createElement(EO,Object.assign({},xt,{ref:Ze,className:`${tt}-btn`}),s.createElement("div",{className:`${tt}-drag-container`},Y))),Un()))}const pr=oe()(tt,`${tt}-select`,{[`${tt}-disabled`]:Ie,[`${tt}-hidden`]:!Y}),Zr=s.createElement("div",{className:pr},s.createElement(EO,Object.assign({},xt,{ref:Ze})));return dn(_==="picture-card"||_==="picture-circle"?s.createElement("span",{className:er,ref:je},Un(Zr,!!Y)):s.createElement("span",{className:er,ref:je},Zr,Un()))};var TO=s.forwardRef(WV),GV=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o},XV=s.forwardRef((e,t)=>{var{style:o,height:i,hasControlInside:u=!1}=e,g=GV(e,["style","height","hasControlInside"]);return s.createElement(TO,Object.assign({ref:t,hasControlInside:u},g,{type:"drag",style:Object.assign(Object.assign({},o),{height:i})}))});const G2=TO;G2.Dragger=XV,G2.LIST_IGNORE=ub;var qV=G2,KV=he(41424),lX=function(e){(0,Gr.Z)(o,e);var t=(0,bu.Z)(o);function o(){return(0,ri.Z)(this,o),t.apply(this,arguments)}return(0,Ko.Z)(o,[{key:"render",value:function(){return this.props.children}}]),o}(s.Component),cX=null,YV={subtree:!0,childList:!0,attributeFilter:["style","class"]};function JV(e,t){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:YV;s.useEffect(function(){if(!(!(0,Vf.Z)()||!e)){var i,u=Array.isArray(e)?e:[e];return"MutationObserver"in window&&(i=new MutationObserver(t),u.forEach(function(g){i.observe(g,o)})),function(){var g,_;(g=i)===null||g===void 0||g.takeRecords(),(_=i)===null||_===void 0||_.disconnect()}}},[o,e])}var uX=function(t){var o=t.children,i=t.options,u=t.onMutate,g=u===void 0?function(){}:u,_=useEvent(g),x=React.useRef(null),S=React.useRef(null),T=React.isValidElement(o)&&supportRef(o),M=useComposeRef(S,T?o.ref:null),R=React.useState(null),N=_slicedToArray(R,2),F=N[0],B=N[1];return useMutateObserver(F,_,i),useLayoutEffect(function(){B(findDOMNode(S.current)||findDOMNode(x.current))}),o?React.createElement(DomWrapper,{ref:x},T?React.cloneElement(o,{ref:M}):o):null},dX=null,fX=null;const MO=3;function X2(e,t){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;const i=document.createElement("canvas"),u=i.getContext("2d"),g=e*o,_=t*o;return i.setAttribute("width",`${g}px`),i.setAttribute("height",`${_}px`),u.save(),[u,i,g,_]}function QV(){function e(t,o,i,u,g,_,x,S){const[T,M,R,N]=X2(u,g,i);if(t instanceof HTMLImageElement)T.drawImage(t,0,0,R,N);else{const{color:Ze,fontSize:je,fontStyle:Ue,fontWeight:He,fontFamily:Qe,textAlign:We}=_,it=Number(je)*i;T.font=`${Ue} normal ${He} ${it}px/${g}px ${Qe}`,T.fillStyle=Ze,T.textAlign=We,T.textBaseline="top";const Je=Qx(t);Je==null||Je.forEach((wt,Dt)=>{T.fillText(wt!=null?wt:"",R/2,Dt*(it+MO*i))})}const F=Math.PI/180*Number(o),B=Math.max(u,g),[V,j,H]=X2(B,B,i);V.translate(H/2,H/2),V.rotate(F),R>0&&N>0&&V.drawImage(M,-R/2,-N/2);function U(Ze,je){const Ue=Ze*Math.cos(F)-je*Math.sin(F),He=Ze*Math.sin(F)+je*Math.cos(F);return[Ue,He]}let K=0,Y=0,q=0,Q=0;const re=R/2,ae=N/2;[[0-re,0-ae],[0+re,0-ae],[0+re,0+ae],[0-re,0+ae]].forEach(Ze=>{let[je,Ue]=Ze;const[He,Qe]=U(je,Ue);K=Math.min(K,He),Y=Math.max(Y,He),q=Math.min(q,Qe),Q=Math.max(Q,Qe)});const de=K+H/2,pe=q+H/2,ge=Y-K,me=Q-q,be=x*i,_e=S*i,Ie=(ge+be)*2,Ce=me+_e,[Le,ze]=X2(Ie,Ce);function ke(){let Ze=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,je=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;Le.drawImage(j,de,pe,ge,me,Ze,je,ge,me)}return ke(),ke(ge+be,-me/2-_e/2),ke(ge+be,+me/2+_e/2),[ze.toDataURL(),Ie/i,Ce/i]}return e}function eH(e){const t=s.useRef(!1),o=s.useRef(null),i=(0,Or.Z)(e);return()=>{t.current||(t.current=!0,i(),o.current=(0,lt.Z)(()=>{t.current=!1}))}}function tH(){const e=s.useRef([null,null]);return(o,i)=>{const u=o.map(g=>g instanceof HTMLElement||isNaN(g)?"":g);return(0,id.Z)(e.current[0],u)||(e.current=[u,i()]),e.current[1]}}function nH(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}function rH(e){return Object.keys(e).map(t=>`${nH(t)}: ${e[t]};`).join(" ")}function iH(){return window.devicePixelRatio||1}const oH=(e,t)=>{let o=!1;return e.removedNodes.length&&(o=Array.from(e.removedNodes).some(i=>t(i))),e.type==="attributes"&&t(e.target)&&(o=!0),o},hX=2,pX=3,aH={visibility:"visible !important"};function sH(e){const t=s.useRef(new Map);return[(g,_,x)=>{if(x){if(!t.current.get(x)){const T=document.createElement("div");t.current.set(x,T)}const S=t.current.get(x);S.setAttribute("style",rH(Object.assign(Object.assign(Object.assign({},e),{backgroundImage:`url('${g}')`,backgroundSize:`${Math.floor(_)}px`}),aH))),S.removeAttribute("class"),S.removeAttribute("hidden"),S.parentElement!==x&&x.append(S)}return t.current.get(x)},g=>{const _=t.current.get(g);_&&g&&g.removeChild(_),t.current.delete(g)},g=>Array.from(t.current.values()).includes(g)]}function PO(e,t){return e.size===t.size?e:t}const OO=100,$O=100,RO={position:"relative",overflow:"hidden"};var lH=e=>{var t,o;const{zIndex:i=9,rotate:u=-22,width:g,height:_,image:x,content:S,font:T={},style:M,className:R,rootClassName:N,gap:F=[OO,$O],offset:B,children:V,inherit:j=!0}=e,H=Object.assign(Object.assign({},RO),M),[,U]=(0,Ur.ZP)(),{color:K=U.colorFill,fontSize:Y=U.fontSizeLG,fontWeight:q="normal",fontStyle:Q="normal",fontFamily:re="sans-serif",textAlign:ae="center"}=T,[se=OO,de=$O]=F,pe=se/2,ge=de/2,me=(t=B==null?void 0:B[0])!==null&&t!==void 0?t:pe,be=(o=B==null?void 0:B[1])!==null&&o!==void 0?o:ge,_e=s.useMemo(()=>{const tt={zIndex:i,position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:"none",backgroundRepeat:"repeat"};let xt=me-pe,_t=be-ge;return xt>0&&(tt.left=`${xt}px`,tt.width=`calc(100% - ${xt}px)`,xt=0),_t>0&&(tt.top=`${_t}px`,tt.height=`calc(100% - ${_t}px)`,_t=0),tt.backgroundPosition=`${xt}px ${_t}px`,tt},[i,me,pe,be,ge]),[Ie,Ce]=s.useState(),[Le,ze]=s.useState(new Set),ke=s.useMemo(()=>{const tt=Ie?[Ie]:[];return[].concat(tt,(0,Be.Z)(Array.from(Le)))},[Ie,Le]),Ze=tt=>{let xt=120,_t=64;if(!x&&tt.measureText){tt.font=`${Number(Y)}px ${re}`;const dn=Qx(S),on=dn.map(Ut=>{const en=tt.measureText(Ut);return[en.width,en.fontBoundingBoxAscent+en.fontBoundingBoxDescent]});xt=Math.ceil(Math.max.apply(Math,(0,Be.Z)(on.map(Ut=>Ut[0])))),_t=Math.ceil(Math.max.apply(Math,(0,Be.Z)(on.map(Ut=>Ut[1]))))*dn.length+(dn.length-1)*MO}return[g!=null?g:xt,_!=null?_:_t]},je=QV(),Ue=tH(),[He,Qe]=s.useState(null),it=eH(()=>{const xt=document.createElement("canvas").getContext("2d");if(xt){const _t=iH(),[dn,on]=Ze(xt),Ut=en=>{const kt=[en||"",u,_t,dn,on,{color:K,fontSize:Y,fontStyle:Q,fontWeight:q,fontFamily:re,textAlign:ae},se,de],cn=Ue(kt,()=>je.apply(void 0,kt)),[zn,An]=cn;Qe([zn,An])};if(x){const en=new Image;en.onload=()=>{Ut(en)},en.onerror=()=>{Ut(S)},en.crossOrigin="anonymous",en.referrerPolicy="no-referrer",en.src=x}else Ut(S)}}),[Je,wt,Dt]=sH(_e);(0,s.useEffect)(()=>{He&&ke.forEach(tt=>{Je(He[0],He[1],tt)})},[He,ke]);const ct=(0,Or.Z)(tt=>{tt.forEach(xt=>{if(oH(xt,Dt))it();else if(xt.target===Ie&&xt.attributeName==="style"){const _t=Object.keys(RO);for(let dn=0;dn<_t.length;dn+=1){const on=_t[dn],Ut=H[on],en=Ie.style[on];Ut&&Ut!==en&&(Ie.style[on]=Ut)}}})});JV(ke,ct),(0,s.useEffect)(it,[u,i,g,_,x,S,K,Y,q,Q,re,ae,se,de,me,be]);const ht=s.useMemo(()=>({add:tt=>{ze(xt=>{const _t=new Set(xt);return _t.add(tt),PO(xt,_t)})},remove:tt=>{wt(tt),ze(xt=>{const _t=new Set(xt);return _t.delete(tt),PO(xt,_t)})}}),[]),ut=j?s.createElement(Gh.Provider,{value:ht},V):V;return s.createElement("div",{ref:Ce,className:oe()(R,N),style:H},ut)};const cH=(0,s.forwardRef)((e,t)=>{const{prefixCls:o,className:i,children:u,size:g,style:_={}}=e,x=oe()(`${o}-panel`,{[`${o}-panel-hidden`]:g===0},i),S=g!==void 0;return s.createElement("div",{ref:t,className:x,style:Object.assign(Object.assign({},_),{flexBasis:S?g:"auto",flexGrow:S?0:1})},u)});var uH=()=>null,dH=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(e);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(e,i[u])&&(o[i[u]]=e[i[u]]);return o};function fH(e){if(e&&typeof e=="object")return e;const t=!!e;return{start:t,end:t}}function hH(e){return s.useMemo(()=>(0,El.Z)(e).filter(s.isValidElement).map(o=>{const{props:i}=o,{collapsible:u}=i,g=dH(i,["collapsible"]);return Object.assign(Object.assign({},g),{collapsible:fH(u)})}),[e])}function pH(e,t,o){return s.useMemo(()=>{const i=[];for(let u=0;u<e.length-1;u+=1){const g=e[u],_=e[u+1],x=t[u],S=t[u+1],{resizable:T=!0,min:M,collapsible:R}=g,{resizable:N=!0,min:F,collapsible:B}=_,V=T&&N&&(x!==0||!M)&&(S!==0||!F),j=R.end&&x>0||B.start&&S===0&&x>0,H=B.start&&S>0||R.end&&x===0&&S>0;i[u]={resizable:V,startCollapsible:!!(o?H:j),endCollapsible:!!(o?j:H)}}return i},[t,e])}function TC(e){return Number(e.slice(0,-1))/100}function q2(e){return typeof e=="string"&&e.endsWith("%")}function mH(e,t){const o=e.map(B=>B.size),i=e.length,u=t||0,g=B=>B*u,[_,x]=s.useState(()=>e.map(B=>B.defaultSize)),S=s.useMemo(()=>{var B;const V=[];for(let j=0;j<i;j+=1)V[j]=(B=o[j])!==null&&B!==void 0?B:_[j];return V},[i,_,o]),T=s.useMemo(()=>{let B=[],V=0;for(let H=0;H<i;H+=1){const U=S[H];if(q2(U))B[H]=TC(U);else if(U||U===0){const K=Number(U);Number.isNaN(K)||(B[H]=K/u)}else V+=1,B[H]=void 0}const j=B.reduce((H,U)=>H+(U||0),0);if(j>1||!V){const H=1/j;B=B.map(U=>U===void 0?0:U*H)}else{const H=(1-j)/V;B=B.map(U=>U===void 0?H:U)}return B},[S,u]),M=s.useMemo(()=>T.map(g),[T,u]),R=s.useMemo(()=>e.map(B=>q2(B.min)?TC(B.min):(B.min||0)/u),[e,u]),N=s.useMemo(()=>e.map(B=>q2(B.max)?TC(B.max):(B.max||u)/u),[e,u]);return[s.useMemo(()=>t?M:S,[M,t]),M,T,R,N,x]}function gH(e,t,o,i,u,g){const _=e.map(Y=>[Y.min,Y.max]),x=i||0,S=Y=>Y*x;function T(Y,q){return typeof Y=="string"?S(TC(Y)):Y!=null?Y:q}const[M,R]=s.useState([]),N=s.useRef([]),[F,B]=s.useState(null),V=()=>o.map(S);return[Y=>{R(V()),B({index:Y,confirmed:!1})},(Y,q)=>{var Q;let re=null;if((!F||!F.confirmed)&&q!==0){if(q>0)re=Y,B({index:Y,confirmed:!0});else for(let Ie=Y;Ie>=0;Ie-=1)if(M[Ie]>0&&t[Ie].resizable){re=Ie,B({index:Ie,confirmed:!0});break}}const ae=(Q=re!=null?re:F==null?void 0:F.index)!==null&&Q!==void 0?Q:Y,se=(0,Be.Z)(M),de=ae+1,pe=T(_[ae][0],0),ge=T(_[de][0],0),me=T(_[ae][1],x),be=T(_[de][1],x);let _e=q;return se[ae]+_e<pe&&(_e=pe-se[ae]),se[de]-_e<ge&&(_e=se[de]-ge),se[ae]+_e>me&&(_e=me-se[ae]),se[de]-_e>be&&(_e=se[de]-be),se[ae]+=_e,se[de]-=_e,u(se),se},()=>{B(null)},(Y,q)=>{const Q=V(),re=g?q==="start"?"end":"start":q,ae=re==="start"?Y:Y+1,se=re==="start"?Y+1:Y,de=Q[ae],pe=Q[se];if(de!==0&&pe!==0)Q[ae]=0,Q[se]+=de,N.current[Y]=de;else{const ge=de+pe,me=T(_[ae][0],0),be=T(_[ae][1],x),_e=T(_[se][0],0),Ie=T(_[se][1],x),Ce=Math.max(me,ge-Ie),ze=(Math.min(be,ge-_e)-Ce)/2,ke=N.current[Y],Ze=ge-ke;ke&&ke<=Ie&&ke>=_e&&Ze<=be&&Ze>=me?(Q[se]=ke,Q[ae]=Ze):(Q[ae]-=ze,Q[se]+=ze)}return u(Q),Q},F==null?void 0:F.index]}var vH=he(84896);function K2(e){return typeof e=="number"&&!Number.isNaN(e)?Math.round(e):0}var yH=e=>{const{prefixCls:t,vertical:o,index:i,active:u,ariaNow:g,ariaMin:_,ariaMax:x,resizable:S,startCollapsible:T,endCollapsible:M,onOffsetStart:R,onOffsetUpdate:N,onOffsetEnd:F,onCollapse:B,lazy:V,containerSize:j}=e,H=`${t}-bar`,[U,K]=(0,s.useState)(null),[Y,q]=(0,s.useState)(0),Q=o?0:Y,re=o?Y:0,ae=Ie=>{S&&Ie.currentTarget&&(K([Ie.pageX,Ie.pageY]),R(i))},se=Ie=>{if(S&&Ie.touches.length===1){const Ce=Ie.touches[0];K([Ce.pageX,Ce.pageY]),R(i)}},de=Ie=>{const Ce=j*g/100,Le=Ce+Ie,ze=Math.max(0,j*_/100),ke=Math.min(j,j*x/100);return Math.max(ze,Math.min(ke,Le))-Ce},pe=(0,Or.Z)((Ie,Ce)=>{const Le=de(o?Ce:Ie);q(Le)}),ge=(0,Or.Z)(()=>{N(i,Q,re),q(0)});s.useEffect(()=>{if(U){const Ie=ke=>{const{pageX:Ze,pageY:je}=ke,Ue=Ze-U[0],He=je-U[1];V?pe(Ue,He):N(i,Ue,He)},Ce=()=>{V&&ge(),K(null),F()},Le=ke=>{if(ke.touches.length===1){const Ze=ke.touches[0],je=Ze.pageX-U[0],Ue=Ze.pageY-U[1];V?pe(je,Ue):N(i,je,Ue)}},ze=()=>{V&&ge(),K(null),F()};return window.addEventListener("touchmove",Le),window.addEventListener("touchend",ze),window.addEventListener("mousemove",Ie),window.addEventListener("mouseup",Ce),()=>{window.removeEventListener("mousemove",Ie),window.removeEventListener("mouseup",Ce),window.removeEventListener("touchmove",Le),window.removeEventListener("touchend",ze)}}},[U,V,o,i,j,g,_,x]);const me={[`--${H}-preview-offset`]:`${Y}px`},be=o?vH.Z:nd,_e=o?em.Z:Pc;return s.createElement("div",{className:H,role:"separator","aria-valuenow":K2(g),"aria-valuemin":K2(_),"aria-valuemax":K2(x)},V&&s.createElement("div",{className:oe()(`${H}-preview`,{[`${H}-preview-active`]:!!Y}),style:me}),s.createElement("div",{className:oe()(`${H}-dragger`,{[`${H}-dragger-disabled`]:!S,[`${H}-dragger-active`]:u}),onMouseDown:ae,onTouchStart:se}),T&&s.createElement("div",{className:oe()(`${H}-collapse-bar`,`${H}-collapse-bar-start`),onClick:()=>B(i,"start")},s.createElement(be,{className:oe()(`${H}-collapse-icon`,`${H}-collapse-start`)})),M&&s.createElement("div",{className:oe()(`${H}-collapse-bar`,`${H}-collapse-bar-end`),onClick:()=>B(i,"end")},s.createElement(_e,{className:oe()(`${H}-collapse-icon`,`${H}-collapse-end`)})))};const _H=e=>{const{componentCls:t}=e;return{[`&-rtl${t}-horizontal`]:{[`> ${t}-bar`]:{[`${t}-bar-collapse-previous`]:{insetInlineEnd:0,insetInlineStart:"unset"},[`${t}-bar-collapse-next`]:{insetInlineEnd:"unset",insetInlineStart:0}}},[`&-rtl${t}-vertical`]:{[`> ${t}-bar`]:{[`${t}-bar-collapse-previous`]:{insetInlineEnd:"50%",insetInlineStart:"unset"},[`${t}-bar-collapse-next`]:{insetInlineEnd:"50%",insetInlineStart:"unset"}}}}},MC={position:"absolute",top:"50%",left:{_skip_check_:!0,value:"50%"},transform:"translate(-50%, -50%)"},bH=e=>{const{componentCls:t,colorFill:o,splitBarDraggableSize:i,splitBarSize:u,splitTriggerSize:g,controlItemBgHover:_,controlItemBgActive:x,controlItemBgActiveHover:S,prefixCls:T}=e,M=`${t}-bar`,R=`${t}-mask`,N=`${t}-panel`,F=e.calc(g).div(2).equal(),B=`${T}-bar-preview-offset`,V={position:"absolute",background:e.colorPrimary,opacity:.2,pointerEvents:"none",transition:"none",zIndex:1,display:"none"};return{[t]:Object.assign(Object.assign(Object.assign({},(0,mn.Wf)(e)),{display:"flex",width:"100%",height:"100%",alignItems:"stretch",[`> ${M}`]:{flex:"none",position:"relative",userSelect:"none",[`${M}-dragger`]:Object.assign(Object.assign({},MC),{zIndex:1,"&::before":Object.assign({content:'""',background:_},MC),"&::after":Object.assign({content:'""',background:o},MC),[`&:hover:not(${M}-dragger-active)`]:{"&::before":{background:x}},"&-active":{zIndex:2,"&::before":{background:S}},[`&-disabled${M}-dragger`]:{zIndex:0,"&, &:hover, &-active":{cursor:"default","&::before":{background:_}},"&::after":{display:"none"}}}),[`${M}-collapse-bar`]:Object.assign(Object.assign({},MC),{zIndex:e.zIndexPopupBase,background:_,fontSize:e.fontSizeSM,borderRadius:e.borderRadiusXS,color:e.colorText,cursor:"pointer",opacity:0,display:"flex",alignItems:"center",justifyContent:"center","&:hover":{background:x},"&:active":{background:S}}),"&:hover, &:active":{[`${M}-collapse-bar`]:{opacity:1}}},[R]:{position:"fixed",zIndex:e.zIndexPopupBase,inset:0,"&-horizontal":{cursor:"col-resize"},"&-vertical":{cursor:"row-resize"}},"&-horizontal":{flexDirection:"row",[`> ${M}`]:{width:0,[`${M}-preview`]:Object.assign(Object.assign({height:"100%",width:u},V),{[`&${M}-preview-active`]:{display:"block",transform:`translateX(var(--${B}))`}}),[`${M}-dragger`]:{cursor:"col-resize",height:"100%",width:g,"&::before":{height:"100%",width:u},"&::after":{height:i,width:u}},[`${M}-collapse-bar`]:{width:e.fontSizeSM,height:e.controlHeightSM,"&-start":{left:{_skip_check_:!0,value:"auto"},right:{_skip_check_:!0,value:F},transform:"translateY(-50%)"},"&-end":{left:{_skip_check_:!0,value:F},right:{_skip_check_:!0,value:"auto"},transform:"translateY(-50%)"}}}},"&-vertical":{flexDirection:"column",[`> ${M}`]:{height:0,[`${M}-preview`]:Object.assign(Object.assign({height:u,width:"100%"},V),{[`&${M}-preview-active`]:{display:"block",transform:`translateY(var(--${B}))`}}),[`${M}-dragger`]:{cursor:"row-resize",width:"100%",height:g,"&::before":{width:"100%",height:u},"&::after":{width:i,height:u}},[`${M}-collapse-bar`]:{height:e.fontSizeSM,width:e.controlHeightSM,"&-start":{top:"auto",bottom:F,transform:"translateX(-50%)"},"&-end":{top:F,bottom:"auto",transform:"translateX(-50%)"}}}},[N]:{overflow:"auto",padding:"0 1px",scrollbarWidth:"thin",boxSizing:"border-box","&-hidden":{padding:0,overflow:"hidden"},[`&:has(${t}:only-child)`]:{overflow:"hidden"}}}),_H(e))}},xH=e=>{var t;const o=e.splitBarSize||2,i=e.splitTriggerSize||6,u=e.resizeSpinnerSize||20,g=(t=e.splitBarDraggableSize)!==null&&t!==void 0?t:u;return{splitBarSize:o,splitTriggerSize:i,splitBarDraggableSize:g,resizeSpinnerSize:u}};var CH=(0,Ae.I$)("Splitter",e=>[bH(e)],xH),wH=e=>{const{prefixCls:t,className:o,style:i,layout:u="horizontal",children:g,rootClassName:_,onResizeStart:x,onResize:S,onResizeEnd:T,lazy:M}=e,{getPrefixCls:R,direction:N,className:F,style:B}=(0,De.dj)("splitter"),V=R("splitter",t),j=(0,po.Z)(V),[H,U,K]=CH(V,j),Y=u==="vertical",q=N==="rtl",Q=!Y&&q,re=hH(g),[ae,se]=(0,s.useState)(),de=ct=>{const{offsetWidth:ht,offsetHeight:ut}=ct,tt=Y?ut:ht;tt!==0&&se(tt)},[pe,ge,me,be,_e,Ie]=mH(re,ae),Ce=pH(re,ge,q),[Le,ze,ke,Ze,je]=gH(re,Ce,me,ae,Ie,q),Ue=(0,Or.Z)(ct=>{Le(ct),x==null||x(ge)}),He=(0,Or.Z)((ct,ht)=>{const ut=ze(ct,ht);S==null||S(ut)}),Qe=(0,Or.Z)(()=>{ke(),T==null||T(ge)}),We=(0,Or.Z)((ct,ht)=>{const ut=Ze(ct,ht);S==null||S(ut),T==null||T(ut)}),it=oe()(V,o,`${V}-${u}`,{[`${V}-rtl`]:q},_,F,K,j,U),Je=`${V}-mask`,wt=s.useMemo(()=>{const ct=[];let ht=0;for(let ut=0;ut<re.length;ut+=1)ht+=me[ut],ct.push(ht);return ct},[me]),Dt=Object.assign(Object.assign({},B),i);return H(s.createElement(d.Z,{onResize:de},s.createElement("div",{style:Dt,className:it},re.map((ct,ht)=>{const ut=s.createElement(cH,Object.assign({},ct,{prefixCls:V,size:pe[ht]}));let tt=null;const xt=Ce[ht];if(xt){const _t=(wt[ht-1]||0)+be[ht],dn=(wt[ht+1]||100)-_e[ht+1],on=(wt[ht-1]||0)+_e[ht],Ut=(wt[ht+1]||100)-be[ht+1];tt=s.createElement(yH,{lazy:M,index:ht,active:je===ht,prefixCls:V,vertical:Y,resizable:xt.resizable,ariaNow:wt[ht]*100,ariaMin:Math.max(_t,dn)*100,ariaMax:Math.min(on,Ut)*100,startCollapsible:xt.startCollapsible,endCollapsible:xt.endCollapsible,onOffsetStart:Ue,onOffsetUpdate:(en,kt,cn)=>{let zn=Y?cn:kt;Q&&(zn=-zn),He(en,zn)},onOffsetEnd:Qe,onCollapse:We,containerSize:ae||0})}return s.createElement(s.Fragment,{key:`split-panel-${ht}`},ut,tt)}),typeof je=="number"&&s.createElement("div",{"aria-hidden":!0,className:oe()(Je,`${Je}-${u}`)}))))};const AO=wH;AO.Panel=uH;var SH=AO},33839:function(Kr,bn,he){"use strict";he.d(bn,{Z:function(){return il}});var s=he(75271),jt=he(13143),oe=he(84896),d=he(82187),Be=he.n(d),lt=he(23022),ot=he(38926),qe=he(5147),De=he(89692),Ae=he(58190),zt=he(59295),qt=he(45985);function mt(){return typeof BigInt=="function"}function Et(Cn){return!Cn&&Cn!==0&&!Number.isNaN(Cn)||!String(Cn).trim()}function an(Cn){var Dn=Cn.trim(),vn=Dn.startsWith("-");vn&&(Dn=Dn.slice(1)),Dn=Dn.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,""),Dn.startsWith(".")&&(Dn="0".concat(Dn));var $r=Dn||"0",hi=$r.split("."),vi=hi[0]||"0",oa=hi[1]||"0";vi==="0"&&oa==="0"&&(vn=!1);var aa=vn?"-":"";return{negative:vn,negativeStr:aa,trimStr:$r,integerStr:vi,decimalStr:oa,fullStr:"".concat(aa).concat($r)}}function Ht(Cn){var Dn=String(Cn);return!Number.isNaN(Number(Dn))&&Dn.includes("e")}function Zt(Cn){var Dn=String(Cn);if(Ht(Cn)){var vn=Number(Dn.slice(Dn.indexOf("e-")+2)),$r=Dn.match(/\.(\d+)/);return $r!=null&&$r[1]&&(vn+=$r[1].length),vn}return Dn.includes(".")&&vt(Dn)?Dn.length-Dn.indexOf(".")-1:0}function Qt(Cn){var Dn=String(Cn);if(Ht(Cn)){if(Cn>Number.MAX_SAFE_INTEGER)return String(mt()?BigInt(Cn).toString():Number.MAX_SAFE_INTEGER);if(Cn<Number.MIN_SAFE_INTEGER)return String(mt()?BigInt(Cn).toString():Number.MIN_SAFE_INTEGER);Dn=Cn.toFixed(Zt(Dn))}return an(Dn).fullStr}function vt(Cn){return typeof Cn=="number"?!Number.isNaN(Cn):Cn?/^\s*-?\d+(\.\d+)?\s*$/.test(Cn)||/^\s*-?\d+\.\s*$/.test(Cn)||/^\s*-?\.\d+\s*$/.test(Cn):!1}var sn=function(){function Cn(Dn){if((0,zt.Z)(this,Cn),(0,ot.Z)(this,"origin",""),(0,ot.Z)(this,"negative",void 0),(0,ot.Z)(this,"integer",void 0),(0,ot.Z)(this,"decimal",void 0),(0,ot.Z)(this,"decimalLen",void 0),(0,ot.Z)(this,"empty",void 0),(0,ot.Z)(this,"nan",void 0),Et(Dn)){this.empty=!0;return}if(this.origin=String(Dn),Dn==="-"||Number.isNaN(Dn)){this.nan=!0;return}var vn=Dn;if(Ht(vn)&&(vn=Number(vn)),vn=typeof vn=="string"?vn:Qt(vn),vt(vn)){var $r=an(vn);this.negative=$r.negative;var hi=$r.trimStr.split(".");this.integer=BigInt(hi[0]);var vi=hi[1]||"0";this.decimal=BigInt(vi),this.decimalLen=vi.length}else this.nan=!0}return(0,qt.Z)(Cn,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(vn){var $r="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(vn,"0"));return BigInt($r)}},{key:"negate",value:function(){var vn=new Cn(this.toString());return vn.negative=!vn.negative,vn}},{key:"cal",value:function(vn,$r,hi){var vi=Math.max(this.getDecimalStr().length,vn.getDecimalStr().length),oa=this.alignDecimal(vi),aa=vn.alignDecimal(vi),Ca=$r(oa,aa).toString(),Bo=hi(vi),Po=an(Ca),Jt=Po.negativeStr,xe=Po.trimStr,Me="".concat(Jt).concat(xe.padStart(Bo+1,"0"));return new Cn("".concat(Me.slice(0,-Bo),".").concat(Me.slice(-Bo)))}},{key:"add",value:function(vn){if(this.isInvalidate())return new Cn(vn);var $r=new Cn(vn);return $r.isInvalidate()?this:this.cal($r,function(hi,vi){return hi+vi},function(hi){return hi})}},{key:"multi",value:function(vn){var $r=new Cn(vn);return this.isInvalidate()||$r.isInvalidate()?new Cn(NaN):this.cal($r,function(hi,vi){return hi*vi},function(hi){return hi*2})}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(vn){return this.toString()===(vn==null?void 0:vn.toString())}},{key:"lessEquals",value:function(vn){return this.add(vn.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var vn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return vn?this.isInvalidate()?"":an("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),Cn}(),Xt=function(){function Cn(Dn){if((0,zt.Z)(this,Cn),(0,ot.Z)(this,"origin",""),(0,ot.Z)(this,"number",void 0),(0,ot.Z)(this,"empty",void 0),Et(Dn)){this.empty=!0;return}this.origin=String(Dn),this.number=Number(Dn)}return(0,qt.Z)(Cn,[{key:"negate",value:function(){return new Cn(-this.toNumber())}},{key:"add",value:function(vn){if(this.isInvalidate())return new Cn(vn);var $r=Number(vn);if(Number.isNaN($r))return this;var hi=this.number+$r;if(hi>Number.MAX_SAFE_INTEGER)return new Cn(Number.MAX_SAFE_INTEGER);if(hi<Number.MIN_SAFE_INTEGER)return new Cn(Number.MIN_SAFE_INTEGER);var vi=Math.max(Zt(this.number),Zt($r));return new Cn(hi.toFixed(vi))}},{key:"multi",value:function(vn){var $r=Number(vn);if(this.isInvalidate()||Number.isNaN($r))return new Cn(NaN);var hi=this.number*$r;if(hi>Number.MAX_SAFE_INTEGER)return new Cn(Number.MAX_SAFE_INTEGER);if(hi<Number.MIN_SAFE_INTEGER)return new Cn(Number.MIN_SAFE_INTEGER);var vi=Math.max(Zt(this.number),Zt($r));return new Cn(hi.toFixed(vi))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(vn){return this.toNumber()===(vn==null?void 0:vn.toNumber())}},{key:"lessEquals",value:function(vn){return this.add(vn.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var vn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return vn?this.isInvalidate()?"":Qt(this.number):this.origin}}]),Cn}();function _n(Cn){return mt()?new sn(Cn):new Xt(Cn)}function En(Cn,Dn,vn){var $r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Cn==="")return"";var hi=an(Cn),vi=hi.negativeStr,oa=hi.integerStr,aa=hi.decimalStr,Ca="".concat(Dn).concat(aa),Bo="".concat(vi).concat(oa);if(vn>=0){var Po=Number(aa[vn]);if(Po>=5&&!$r){var Jt=_n(Cn).add("".concat(vi,"0.").concat("0".repeat(vn)).concat(10-Po));return En(Jt.toString(),Dn,vn,$r)}return vn===0?Bo:"".concat(Bo).concat(Dn).concat(aa.padEnd(vn,"0").slice(0,vn))}return Ca===".0"?Bo:"".concat(Bo).concat(Ca)}var Nn=_n,fi=he(44885),Pt=he(92076);function Hr(Cn,Dn){return typeof Proxy!="undefined"&&Cn?new Proxy(Cn,{get:function($r,hi){if(Dn[hi])return Dn[hi];var vi=$r[hi];return typeof vi=="function"?vi.bind($r):vi}}):Cn}var Rn=he(42684),Fn=he(4449);function Br(Cn,Dn){var vn=(0,s.useRef)(null);function $r(){try{var vi=Cn.selectionStart,oa=Cn.selectionEnd,aa=Cn.value,Ca=aa.substring(0,vi),Bo=aa.substring(oa);vn.current={start:vi,end:oa,value:aa,beforeTxt:Ca,afterTxt:Bo}}catch(Po){}}function hi(){if(Cn&&vn.current&&Dn)try{var vi=Cn.value,oa=vn.current,aa=oa.beforeTxt,Ca=oa.afterTxt,Bo=oa.start,Po=vi.length;if(vi.startsWith(aa))Po=aa.length;else if(vi.endsWith(Ca))Po=vi.length-vn.current.afterTxt.length;else{var Jt=aa[Bo-1],xe=vi.indexOf(Jt,Bo-1);xe!==-1&&(Po=xe+1)}Cn.setSelectionRange(Po,Po)}catch(Me){(0,Fn.ZP)(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(Me.message))}}return[$r,hi]}var Tr=he(21611),nr=function(){var Dn=(0,s.useState)(!1),vn=(0,De.Z)(Dn,2),$r=vn[0],hi=vn[1];return(0,Pt.Z)(function(){hi((0,Tr.Z)())},[]),$r},Qr=nr,Mr=he(49975),Jn=200,Rt=600;function Tn(Cn){var Dn=Cn.prefixCls,vn=Cn.upNode,$r=Cn.downNode,hi=Cn.upDisabled,vi=Cn.downDisabled,oa=Cn.onStep,aa=s.useRef(),Ca=s.useRef([]),Bo=s.useRef();Bo.current=oa;var Po=function(){clearTimeout(aa.current)},Jt=function(It,Ee){It.preventDefault(),Po(),Bo.current(Ee);function Tt(){Bo.current(Ee),aa.current=setTimeout(Tt,Jn)}aa.current=setTimeout(Tt,Rt)};s.useEffect(function(){return function(){Po(),Ca.current.forEach(function(Nt){return Mr.Z.cancel(Nt)})}},[]);var xe=Qr();if(xe)return null;var Me="".concat(Dn,"-handler"),Fe=Be()(Me,"".concat(Me,"-up"),(0,ot.Z)({},"".concat(Me,"-up-disabled"),hi)),ve=Be()(Me,"".concat(Me,"-down"),(0,ot.Z)({},"".concat(Me,"-down-disabled"),vi)),Ve=function(){return Ca.current.push((0,Mr.Z)(Po))},fe={unselectable:"on",role:"button",onMouseUp:Ve,onMouseLeave:Ve};return s.createElement("div",{className:"".concat(Me,"-wrap")},s.createElement("span",(0,lt.Z)({},fe,{onMouseDown:function(It){Jt(It,!0)},"aria-label":"Increase Value","aria-disabled":hi,className:Fe}),vn||s.createElement("span",{unselectable:"on",className:"".concat(Dn,"-handler-up-inner")})),s.createElement("span",(0,lt.Z)({},fe,{onMouseDown:function(It){Jt(It,!1)},"aria-label":"Decrease Value","aria-disabled":vi,className:ve}),$r||s.createElement("span",{unselectable:"on",className:"".concat(Dn,"-handler-down-inner")})))}function Gn(Cn){var Dn=typeof Cn=="number"?Qt(Cn):an(Cn).fullStr,vn=Dn.includes(".");return vn?an(Dn.replace(/(\d)\.(\d)/g,"$1$2.")).fullStr:Cn+"0"}var mr=he(68677),ir=function(){var Cn=(0,s.useRef)(0),Dn=function(){Mr.Z.cancel(Cn.current)};return(0,s.useEffect)(function(){return Dn},[]),function(vn){Dn(),Cn.current=(0,Mr.Z)(function(){vn()})}},zr=["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","changeOnWheel","controls","classNames","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep","changeOnBlur","domRef"],wr=["disabled","style","prefixCls","value","prefix","suffix","addonBefore","addonAfter","className","classNames"],J=function(Dn,vn){return Dn||vn.isEmpty()?vn.toString():vn.toNumber()},mn=function(Dn){var vn=Nn(Dn);return vn.isInvalidate()?null:vn},Ui=s.forwardRef(function(Cn,Dn){var vn=Cn.prefixCls,$r=Cn.className,hi=Cn.style,vi=Cn.min,oa=Cn.max,aa=Cn.step,Ca=aa===void 0?1:aa,Bo=Cn.defaultValue,Po=Cn.value,Jt=Cn.disabled,xe=Cn.readOnly,Me=Cn.upHandler,Fe=Cn.downHandler,ve=Cn.keyboard,Ve=Cn.changeOnWheel,fe=Ve===void 0?!1:Ve,Nt=Cn.controls,It=Nt===void 0?!0:Nt,Ee=Cn.classNames,Tt=Cn.stringMode,nt=Cn.parser,Pn=Cn.formatter,ur=Cn.precision,lr=Cn.decimalSeparator,pi=Cn.onChange,ai=Cn.onInput,Ei=Cn.onPressEnter,wi=Cn.onStep,Oo=Cn.changeOnBlur,Xo=Oo===void 0?!0:Oo,So=Cn.domRef,pa=(0,Ae.Z)(Cn,zr),ma="".concat(vn,"-input"),Ea=s.useRef(null),Sl=s.useState(!1),Lt=(0,De.Z)(Sl,2),Ln=Lt[0],Bn=Lt[1],tr=s.useRef(!1),Lr=s.useRef(!1),to=s.useRef(!1),mo=s.useState(function(){return Nn(Po!=null?Po:Bo)}),Io=(0,De.Z)(mo,2),uo=Io[0],ga=Io[1];function $o(Pe){Po===void 0&&ga(Pe)}var Vo=s.useCallback(function(Pe,rt){if(!rt)return ur>=0?ur:Math.max(Zt(Pe),Zt(Ca))},[ur,Ca]),qa=s.useCallback(function(Pe){var rt=String(Pe);if(nt)return nt(rt);var Ne=rt;return lr&&(Ne=Ne.replace(lr,".")),Ne.replace(/[^\w.-]+/g,"")},[nt,lr]),gs=s.useRef(""),Os=s.useCallback(function(Pe,rt){if(Pn)return Pn(Pe,{userTyping:rt,input:String(gs.current)});var Ne=typeof Pe=="number"?Qt(Pe):Pe;if(!rt){var Ot=Vo(Ne,rt);if(vt(Ne)&&(lr||Ot>=0)){var Kt=lr||".";Ne=En(Ne,Kt,Ot)}}return Ne},[Pn,Vo,lr]),ys=s.useState(function(){var Pe=Bo!=null?Bo:Po;return uo.isInvalidate()&&["string","number"].includes((0,qe.Z)(Pe))?Number.isNaN(Pe)?"":Pe:Os(uo.toString(),!1)}),_s=(0,De.Z)(ys,2),ns=_s[0],$s=_s[1];gs.current=ns;function xo(Pe,rt){$s(Os(Pe.isInvalidate()?Pe.toString(!1):Pe.toString(!rt),rt))}var Wa=s.useMemo(function(){return mn(oa)},[oa,ur]),Fo=s.useMemo(function(){return mn(vi)},[vi,ur]),go=s.useMemo(function(){return!Wa||!uo||uo.isInvalidate()?!1:Wa.lessEquals(uo)},[Wa,uo]),no=s.useMemo(function(){return!Fo||!uo||uo.isInvalidate()?!1:uo.lessEquals(Fo)},[Fo,uo]),Is=Br(Ea.current,Ln),si=(0,De.Z)(Is,2),ks=si[0],qs=si[1],ms=function(rt){return Wa&&!rt.lessEquals(Wa)?Wa:Fo&&!Fo.lessEquals(rt)?Fo:null},di=function(rt){return!ms(rt)},Ya=function(rt,Ne){var Ot=rt,Kt=di(Ot)||Ot.isEmpty();if(!Ot.isEmpty()&&!Ne&&(Ot=ms(Ot)||Ot,Kt=!0),!xe&&!Jt&&Kt){var On=Ot.toString(),Yn=Vo(On,Ne);return Yn>=0&&(Ot=Nn(En(On,".",Yn)),di(Ot)||(Ot=Nn(En(On,".",Yn,!0)))),Ot.equals(uo)||($o(Ot),pi==null||pi(Ot.isEmpty()?null:J(Tt,Ot)),Po===void 0&&xo(Ot,Ne)),Ot}return uo},Ss=ir(),Nr=function Pe(rt){if(ks(),gs.current=rt,$s(rt),!Lr.current){var Ne=qa(rt),Ot=Nn(Ne);Ot.isNaN()||Ya(Ot,!0)}ai==null||ai(rt),Ss(function(){var Kt=rt;nt||(Kt=rt.replace(/。/g,".")),Kt!==rt&&Pe(Kt)})},qi=function(){Lr.current=!0},To=function(){Lr.current=!1,Nr(Ea.current.value)},wa=function(rt){Nr(rt.target.value)},Za=function(rt){var Ne;if(!(rt&&go||!rt&&no)){tr.current=!1;var Ot=Nn(to.current?Gn(Ca):Ca);rt||(Ot=Ot.negate());var Kt=(uo||Nn(0)).add(Ot.toString()),On=Ya(Kt,!1);wi==null||wi(J(Tt,On),{offset:to.current?Gn(Ca):Ca,type:rt?"up":"down"}),(Ne=Ea.current)===null||Ne===void 0||Ne.focus()}},Ho=function(rt){var Ne=Nn(qa(ns)),Ot;Ne.isNaN()?Ot=Ya(uo,rt):Ot=Ya(Ne,rt),Po!==void 0?xo(uo,!1):Ot.isNaN()||xo(Ot,!1)},ul=function(){tr.current=!0},rs=function(rt){var Ne=rt.key,Ot=rt.shiftKey;tr.current=!0,to.current=Ot,Ne==="Enter"&&(Lr.current||(tr.current=!1),Ho(!1),Ei==null||Ei(rt)),ve!==!1&&!Lr.current&&["Up","ArrowUp","Down","ArrowDown"].includes(Ne)&&(Za(Ne==="Up"||Ne==="ArrowUp"),rt.preventDefault())},ln=function(){tr.current=!1,to.current=!1};s.useEffect(function(){if(fe&&Ln){var Pe=function(Ot){Za(Ot.deltaY<0),Ot.preventDefault()},rt=Ea.current;if(rt)return rt.addEventListener("wheel",Pe,{passive:!1}),function(){return rt.removeEventListener("wheel",Pe)}}});var Ke=function(){Xo&&Ho(!1),Bn(!1),tr.current=!1};return(0,Pt.o)(function(){uo.isInvalidate()||xo(uo,!1)},[ur,Pn]),(0,Pt.o)(function(){var Pe=Nn(Po);ga(Pe);var rt=Nn(qa(ns));(!Pe.equals(rt)||!tr.current||Pn)&&xo(Pe,tr.current)},[Po]),(0,Pt.o)(function(){Pn&&qs()},[ns]),s.createElement("div",{ref:So,className:Be()(vn,$r,(0,ot.Z)((0,ot.Z)((0,ot.Z)((0,ot.Z)((0,ot.Z)({},"".concat(vn,"-focused"),Ln),"".concat(vn,"-disabled"),Jt),"".concat(vn,"-readonly"),xe),"".concat(vn,"-not-a-number"),uo.isNaN()),"".concat(vn,"-out-of-range"),!uo.isInvalidate()&&!di(uo))),style:hi,onFocus:function(){Bn(!0)},onBlur:Ke,onKeyDown:rs,onKeyUp:ln,onCompositionStart:qi,onCompositionEnd:To,onBeforeInput:ul},It&&s.createElement(Tn,{prefixCls:vn,upNode:Me,downNode:Fe,upDisabled:go,downDisabled:no,onStep:Za}),s.createElement("div",{className:"".concat(ma,"-wrap")},s.createElement("input",(0,lt.Z)({autoComplete:"off",role:"spinbutton","aria-valuemin":vi,"aria-valuemax":oa,"aria-valuenow":uo.isInvalidate()?null:uo.toString(),step:Ca},pa,{ref:(0,Rn.sQ)(Ea,Dn),className:ma,value:ns,onChange:wa,disabled:Jt,readOnly:xe}))))}),ki=s.forwardRef(function(Cn,Dn){var vn=Cn.disabled,$r=Cn.style,hi=Cn.prefixCls,vi=hi===void 0?"rc-input-number":hi,oa=Cn.value,aa=Cn.prefix,Ca=Cn.suffix,Bo=Cn.addonBefore,Po=Cn.addonAfter,Jt=Cn.className,xe=Cn.classNames,Me=(0,Ae.Z)(Cn,wr),Fe=s.useRef(null),ve=s.useRef(null),Ve=s.useRef(null),fe=function(It){Ve.current&&(0,mr.nH)(Ve.current,It)};return s.useImperativeHandle(Dn,function(){return Hr(Ve.current,{focus:fe,nativeElement:Fe.current.nativeElement||ve.current})}),s.createElement(fi.Q,{className:Jt,triggerFocus:fe,prefixCls:vi,value:oa,disabled:vn,style:$r,prefix:aa,suffix:Ca,addonAfter:Po,addonBefore:Bo,classNames:xe,components:{affixWrapper:"div",groupWrapper:"div",wrapper:"div",groupAddon:"div"},ref:Fe},s.createElement(Ui,(0,lt.Z)({prefixCls:vi,disabled:vn,ref:Ve,domRef:ve,className:xe==null?void 0:xe.input},Me)))}),Sn=ki,ei=Sn,Pi=he(78018),Xr=he(94773),or=he(98446),dr=he(62639),$i=he(98472),Zo=he(38437),ha=he(95741),Da=he(60824),ri=he(7038),Ko=he(23137),Eo=he(55921),No=he(43452),ya=he(21571),Oi=he(57616),Gr=he(34299),so=he(9288),Li=he(84825),co=he(83509),ws=he(84432);const Or=Cn=>{var Dn;const vn=(Dn=Cn.handleVisible)!==null&&Dn!==void 0?Dn:"auto",$r=Cn.controlHeightSM-Cn.lineWidth*2;return Object.assign(Object.assign({},(0,ya.T)(Cn)),{controlWidth:90,handleWidth:$r,handleFontSize:Cn.fontSize/2,handleVisible:vn,handleActiveBg:Cn.colorFillAlter,handleBg:Cn.colorBgContainer,filledHandleBg:new ws.t(Cn.colorFillSecondary).onBackground(Cn.colorBgContainer).toHexString(),handleHoverColor:Cn.colorPrimary,handleBorderColor:Cn.colorBorder,handleOpacity:vn===!0?1:0,handleVisibleWidth:vn===!0?$r:0})},bo=(Cn,Dn)=>{let{componentCls:vn,borderRadiusSM:$r,borderRadiusLG:hi}=Cn;const vi=Dn==="lg"?hi:$r;return{[`&-${Dn}`]:{[`${vn}-handler-wrap`]:{borderStartEndRadius:vi,borderEndEndRadius:vi},[`${vn}-handler-up`]:{borderStartEndRadius:vi},[`${vn}-handler-down`]:{borderEndEndRadius:vi}}}},Ua=Cn=>{const{componentCls:Dn,lineWidth:vn,lineType:$r,borderRadius:hi,inputFontSizeSM:vi,inputFontSizeLG:oa,controlHeightLG:aa,controlHeightSM:Ca,colorError:Bo,paddingInlineSM:Po,paddingBlockSM:Jt,paddingBlockLG:xe,paddingInlineLG:Me,colorTextDescription:Fe,motionDurationMid:ve,handleHoverColor:Ve,handleOpacity:fe,paddingInline:Nt,paddingBlock:It,handleBg:Ee,handleActiveBg:Tt,colorTextDisabled:nt,borderRadiusSM:Pn,borderRadiusLG:ur,controlWidth:lr,handleBorderColor:pi,filledHandleBg:ai,lineHeightLG:Ei,calc:wi}=Cn;return[{[Dn]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,Gr.Wf)(Cn)),(0,No.ik)(Cn)),{display:"inline-block",width:lr,margin:0,padding:0,borderRadius:hi}),(0,Oi.qG)(Cn,{[`${Dn}-handler-wrap`]:{background:Ee,[`${Dn}-handler-down`]:{borderBlockStart:`${(0,Eo.bf)(vn)} ${$r} ${pi}`}}})),(0,Oi.H8)(Cn,{[`${Dn}-handler-wrap`]:{background:ai,[`${Dn}-handler-down`]:{borderBlockStart:`${(0,Eo.bf)(vn)} ${$r} ${pi}`}},"&:focus-within":{[`${Dn}-handler-wrap`]:{background:Ee}}})),(0,Oi.vc)(Cn,{[`${Dn}-handler-wrap`]:{background:Ee,[`${Dn}-handler-down`]:{borderBlockStart:`${(0,Eo.bf)(vn)} ${$r} ${pi}`}}})),(0,Oi.Mu)(Cn)),{"&-rtl":{direction:"rtl",[`${Dn}-input`]:{direction:"rtl"}},"&-lg":{padding:0,fontSize:oa,lineHeight:Ei,borderRadius:ur,[`input${Dn}-input`]:{height:wi(aa).sub(wi(vn).mul(2)).equal(),padding:`${(0,Eo.bf)(xe)} ${(0,Eo.bf)(Me)}`}},"&-sm":{padding:0,fontSize:vi,borderRadius:Pn,[`input${Dn}-input`]:{height:wi(Ca).sub(wi(vn).mul(2)).equal(),padding:`${(0,Eo.bf)(Jt)} ${(0,Eo.bf)(Po)}`}},"&-out-of-range":{[`${Dn}-input-wrap`]:{input:{color:Bo}}},"&-group":Object.assign(Object.assign(Object.assign({},(0,Gr.Wf)(Cn)),(0,No.s7)(Cn)),{"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",textAlign:"start",verticalAlign:"top",[`${Dn}-affix-wrapper`]:{width:"100%"},"&-lg":{[`${Dn}-group-addon`]:{borderRadius:ur,fontSize:Cn.fontSizeLG}},"&-sm":{[`${Dn}-group-addon`]:{borderRadius:Pn}}},(0,Oi.ir)(Cn)),(0,Oi.S5)(Cn)),{[`&:not(${Dn}-compact-first-item):not(${Dn}-compact-last-item)${Dn}-compact-item`]:{[`${Dn}, ${Dn}-group-addon`]:{borderRadius:0}},[`&:not(${Dn}-compact-last-item)${Dn}-compact-first-item`]:{[`${Dn}, ${Dn}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${Dn}-compact-first-item)${Dn}-compact-last-item`]:{[`${Dn}, ${Dn}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}}})}),[`&-disabled ${Dn}-input`]:{cursor:"not-allowed"},[Dn]:{"&-input":Object.assign(Object.assign(Object.assign(Object.assign({},(0,Gr.Wf)(Cn)),{width:"100%",padding:`${(0,Eo.bf)(It)} ${(0,Eo.bf)(Nt)}`,textAlign:"start",backgroundColor:"transparent",border:0,borderRadius:hi,outline:0,transition:`all ${ve} linear`,appearance:"textfield",fontSize:"inherit"}),(0,No.nz)(Cn.colorTextPlaceholder)),{'&[type="number"]::-webkit-inner-spin-button, &[type="number"]::-webkit-outer-spin-button':{margin:0,webkitAppearance:"none",appearance:"none"}})},[`&:hover ${Dn}-handler-wrap, &-focused ${Dn}-handler-wrap`]:{width:Cn.handleWidth,opacity:1}})},{[Dn]:Object.assign(Object.assign(Object.assign({[`${Dn}-handler-wrap`]:{position:"absolute",insetBlockStart:0,insetInlineEnd:0,width:Cn.handleVisibleWidth,opacity:fe,height:"100%",borderStartStartRadius:0,borderStartEndRadius:hi,borderEndEndRadius:hi,borderEndStartRadius:0,display:"flex",flexDirection:"column",alignItems:"stretch",transition:`all ${ve}`,overflow:"hidden",[`${Dn}-handler`]:{display:"flex",alignItems:"center",justifyContent:"center",flex:"auto",height:"40%",[`
              ${Dn}-handler-up-inner,
              ${Dn}-handler-down-inner
            `]:{marginInlineEnd:0,fontSize:Cn.handleFontSize}}},[`${Dn}-handler`]:{height:"50%",overflow:"hidden",color:Fe,fontWeight:"bold",lineHeight:0,textAlign:"center",cursor:"pointer",borderInlineStart:`${(0,Eo.bf)(vn)} ${$r} ${pi}`,transition:`all ${ve} linear`,"&:active":{background:Tt},"&:hover":{height:"60%",[`
              ${Dn}-handler-up-inner,
              ${Dn}-handler-down-inner
            `]:{color:Ve}},"&-up-inner, &-down-inner":Object.assign(Object.assign({},(0,Gr.Ro)()),{color:Fe,transition:`all ${ve} linear`,userSelect:"none"})},[`${Dn}-handler-up`]:{borderStartEndRadius:hi},[`${Dn}-handler-down`]:{borderEndEndRadius:hi}},bo(Cn,"lg")),bo(Cn,"sm")),{"&-disabled, &-readonly":{[`${Dn}-handler-wrap`]:{display:"none"},[`${Dn}-input`]:{color:"inherit"}},[`
          ${Dn}-handler-up-disabled,
          ${Dn}-handler-down-disabled
        `]:{cursor:"not-allowed"},[`
          ${Dn}-handler-up-disabled:hover &-handler-up-inner,
          ${Dn}-handler-down-disabled:hover &-handler-down-inner
        `]:{color:nt}})}]},jr=Cn=>{const{componentCls:Dn,paddingBlock:vn,paddingInline:$r,inputAffixPadding:hi,controlWidth:vi,borderRadiusLG:oa,borderRadiusSM:aa,paddingInlineLG:Ca,paddingInlineSM:Bo,paddingBlockLG:Po,paddingBlockSM:Jt,motionDurationMid:xe}=Cn;return{[`${Dn}-affix-wrapper`]:Object.assign(Object.assign({[`input${Dn}-input`]:{padding:`${(0,Eo.bf)(vn)} 0`}},(0,No.ik)(Cn)),{position:"relative",display:"inline-flex",alignItems:"center",width:vi,padding:0,paddingInlineStart:$r,"&-lg":{borderRadius:oa,paddingInlineStart:Ca,[`input${Dn}-input`]:{padding:`${(0,Eo.bf)(Po)} 0`}},"&-sm":{borderRadius:aa,paddingInlineStart:Bo,[`input${Dn}-input`]:{padding:`${(0,Eo.bf)(Jt)} 0`}},[`&:not(${Dn}-disabled):hover`]:{zIndex:1},"&-focused, &:focus":{zIndex:1},[`&-disabled > ${Dn}-disabled`]:{background:"transparent"},[`> div${Dn}`]:{width:"100%",border:"none",outline:"none",[`&${Dn}-focused`]:{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[`${Dn}-handler-wrap`]:{zIndex:2},[Dn]:{position:"static",color:"inherit","&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center",pointerEvents:"none"},"&-prefix":{marginInlineEnd:hi},"&-suffix":{insetBlockStart:0,insetInlineEnd:0,height:"100%",marginInlineEnd:$r,marginInlineStart:hi,transition:`margin ${xe}`}},[`&:hover ${Dn}-handler-wrap, &-focused ${Dn}-handler-wrap`]:{width:Cn.handleWidth,opacity:1},[`&:not(${Dn}-affix-wrapper-without-controls):hover ${Dn}-suffix`]:{marginInlineEnd:Cn.calc(Cn.handleWidth).add($r).equal()}})}};var ia=(0,Li.I$)("InputNumber",Cn=>{const Dn=(0,co.IX)(Cn,(0,ya.e)(Cn));return[Ua(Dn),jr(Dn),(0,so.c)(Dn)]},Or,{unitless:{handleOpacity:!0}}),ss=function(Cn,Dn){var vn={};for(var $r in Cn)Object.prototype.hasOwnProperty.call(Cn,$r)&&Dn.indexOf($r)<0&&(vn[$r]=Cn[$r]);if(Cn!=null&&typeof Object.getOwnPropertySymbols=="function")for(var hi=0,$r=Object.getOwnPropertySymbols(Cn);hi<$r.length;hi++)Dn.indexOf($r[hi])<0&&Object.prototype.propertyIsEnumerable.call(Cn,$r[hi])&&(vn[$r[hi]]=Cn[$r[hi]]);return vn};const Ra=s.forwardRef((Cn,Dn)=>{const{getPrefixCls:vn,direction:$r}=s.useContext(or.E_),hi=s.useRef(null);s.useImperativeHandle(Dn,()=>hi.current);const{className:vi,rootClassName:oa,size:aa,disabled:Ca,prefixCls:Bo,addonBefore:Po,addonAfter:Jt,prefix:xe,suffix:Me,bordered:Fe,readOnly:ve,status:Ve,controls:fe,variant:Nt}=Cn,It=ss(Cn,["className","rootClassName","size","disabled","prefixCls","addonBefore","addonAfter","prefix","suffix","bordered","readOnly","status","controls","variant"]),Ee=vn("input-number",Bo),Tt=(0,Zo.Z)(Ee),[nt,Pn,ur]=ia(Ee,Tt),{compactSize:lr,compactItemClassnames:pi}=(0,Ko.ri)(Ee,$r);let ai=s.createElement(oe.Z,{className:`${Ee}-handler-up-inner`}),Ei=s.createElement(jt.Z,{className:`${Ee}-handler-down-inner`});const wi=typeof fe=="boolean"?fe:void 0;typeof fe=="object"&&(ai=typeof fe.upIcon=="undefined"?ai:s.createElement("span",{className:`${Ee}-handler-up-inner`},fe.upIcon),Ei=typeof fe.downIcon=="undefined"?Ei:s.createElement("span",{className:`${Ee}-handler-down-inner`},fe.downIcon));const{hasFeedback:Oo,status:Xo,isFormItemInput:So,feedbackIcon:pa}=s.useContext(Da.aM),ma=(0,Xr.F)(Xo,Ve),Ea=(0,ha.Z)(Io=>{var uo;return(uo=aa!=null?aa:lr)!==null&&uo!==void 0?uo:Io}),Sl=s.useContext($i.Z),Lt=Ca!=null?Ca:Sl,[Ln,Bn]=(0,ri.Z)("inputNumber",Nt,Fe),tr=Oo&&s.createElement(s.Fragment,null,pa),Lr=Be()({[`${Ee}-lg`]:Ea==="large",[`${Ee}-sm`]:Ea==="small",[`${Ee}-rtl`]:$r==="rtl",[`${Ee}-in-form-item`]:So},Pn),to=`${Ee}-group`,mo=s.createElement(ei,Object.assign({ref:hi,disabled:Lt,className:Be()(ur,Tt,vi,oa,pi),upHandler:ai,downHandler:Ei,prefixCls:Ee,readOnly:ve,controls:wi,prefix:xe,suffix:tr||Me,addonBefore:Po&&s.createElement(Pi.Z,{form:!0,space:!0},Po),addonAfter:Jt&&s.createElement(Pi.Z,{form:!0,space:!0},Jt),classNames:{input:Lr,variant:Be()({[`${Ee}-${Ln}`]:Bn},(0,Xr.Z)(Ee,ma,Oo)),affixWrapper:Be()({[`${Ee}-affix-wrapper-sm`]:Ea==="small",[`${Ee}-affix-wrapper-lg`]:Ea==="large",[`${Ee}-affix-wrapper-rtl`]:$r==="rtl",[`${Ee}-affix-wrapper-without-controls`]:fe===!1},Pn),wrapper:Be()({[`${to}-rtl`]:$r==="rtl"},Pn),groupWrapper:Be()({[`${Ee}-group-wrapper-sm`]:Ea==="small",[`${Ee}-group-wrapper-lg`]:Ea==="large",[`${Ee}-group-wrapper-rtl`]:$r==="rtl",[`${Ee}-group-wrapper-${Ln}`]:Bn},(0,Xr.Z)(`${Ee}-group-wrapper`,ma,Oo),Pn)}},It));return nt(mo)}),po=Ra,ds=Cn=>s.createElement(dr.ZP,{theme:{components:{InputNumber:{handleVisible:!0}}}},s.createElement(Ra,Object.assign({},Cn)));po._InternalPanelDoNotUseOrYouWillBeFired=ds;var il=po},43452:function(Kr,bn,he){"use strict";he.d(bn,{TI:function(){return sn},ik:function(){return qt},nz:function(){return qe},s7:function(){return mt},x0:function(){return zt}});var s=he(55921),jt=he(34299),oe=he(9288),d=he(84825),Be=he(83509),lt=he(21571),ot=he(57616);const qe=Xt=>({"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:Xt,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),De=Xt=>({borderColor:Xt.activeBorderColor,boxShadow:Xt.activeShadow,outline:0,backgroundColor:Xt.activeBg}),Ae=Xt=>{const{paddingBlockLG:_n,lineHeightLG:En,borderRadiusLG:Nn,paddingInlineLG:fi}=Xt;return{padding:`${(0,s.bf)(_n)} ${(0,s.bf)(fi)}`,fontSize:Xt.inputFontSizeLG,lineHeight:En,borderRadius:Nn}},zt=Xt=>({padding:`${(0,s.bf)(Xt.paddingBlockSM)} ${(0,s.bf)(Xt.paddingInlineSM)}`,fontSize:Xt.inputFontSizeSM,borderRadius:Xt.borderRadiusSM}),qt=Xt=>Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:`${(0,s.bf)(Xt.paddingBlock)} ${(0,s.bf)(Xt.paddingInline)}`,color:Xt.colorText,fontSize:Xt.inputFontSize,lineHeight:Xt.lineHeight,borderRadius:Xt.borderRadius,transition:`all ${Xt.motionDurationMid}`},qe(Xt.colorTextPlaceholder)),{"textarea&":{maxWidth:"100%",height:"auto",minHeight:Xt.controlHeight,lineHeight:Xt.lineHeight,verticalAlign:"bottom",transition:`all ${Xt.motionDurationSlow}, height 0s`,resize:"vertical"},"&-lg":Object.assign({},Ae(Xt)),"&-sm":Object.assign({},zt(Xt)),"&-rtl, &-textarea-rtl":{direction:"rtl"}}),mt=Xt=>{const{componentCls:_n,antCls:En}=Xt;return{position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0,"&[class*='col-']":{paddingInlineEnd:Xt.paddingXS,"&:last-child":{paddingInlineEnd:0}},[`&-lg ${_n}, &-lg > ${_n}-group-addon`]:Object.assign({},Ae(Xt)),[`&-sm ${_n}, &-sm > ${_n}-group-addon`]:Object.assign({},zt(Xt)),[`&-lg ${En}-select-single ${En}-select-selector`]:{height:Xt.controlHeightLG},[`&-sm ${En}-select-single ${En}-select-selector`]:{height:Xt.controlHeightSM},[`> ${_n}`]:{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}},[`${_n}-group`]:{"&-addon, &-wrap":{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}},"&-wrap > *":{display:"block !important"},"&-addon":{position:"relative",padding:`0 ${(0,s.bf)(Xt.paddingInline)}`,color:Xt.colorText,fontWeight:"normal",fontSize:Xt.inputFontSize,textAlign:"center",borderRadius:Xt.borderRadius,transition:`all ${Xt.motionDurationSlow}`,lineHeight:1,[`${En}-select`]:{margin:`${(0,s.bf)(Xt.calc(Xt.paddingBlock).add(1).mul(-1).equal())} ${(0,s.bf)(Xt.calc(Xt.paddingInline).mul(-1).equal())}`,[`&${En}-select-single:not(${En}-select-customize-input):not(${En}-pagination-size-changer)`]:{[`${En}-select-selector`]:{backgroundColor:"inherit",border:`${(0,s.bf)(Xt.lineWidth)} ${Xt.lineType} transparent`,boxShadow:"none"}}},[`${En}-cascader-picker`]:{margin:`-9px ${(0,s.bf)(Xt.calc(Xt.paddingInline).mul(-1).equal())}`,backgroundColor:"transparent",[`${En}-cascader-input`]:{textAlign:"start",border:0,boxShadow:"none"}}}},[_n]:{width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":{zIndex:1,borderInlineEndWidth:1,[`${_n}-search-with-button &`]:{zIndex:0}}},[`> ${_n}:first-child, ${_n}-group-addon:first-child`]:{borderStartEndRadius:0,borderEndEndRadius:0,[`${En}-select ${En}-select-selector`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${_n}-affix-wrapper`]:{[`&:not(:first-child) ${_n}`]:{borderStartStartRadius:0,borderEndStartRadius:0},[`&:not(:last-child) ${_n}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${_n}:last-child, ${_n}-group-addon:last-child`]:{borderStartStartRadius:0,borderEndStartRadius:0,[`${En}-select ${En}-select-selector`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`${_n}-affix-wrapper`]:{"&:not(:last-child)":{borderStartEndRadius:0,borderEndEndRadius:0,[`${_n}-search &`]:{borderStartStartRadius:Xt.borderRadius,borderEndStartRadius:Xt.borderRadius}},[`&:not(:first-child), ${_n}-search &:not(:first-child)`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&${_n}-group-compact`]:Object.assign(Object.assign({display:"block"},(0,jt.dF)()),{[`${_n}-group-addon, ${_n}-group-wrap, > ${_n}`]:{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:Xt.lineWidth,"&:hover, &:focus":{zIndex:1}}},"& > *":{display:"inline-flex",float:"none",verticalAlign:"top",borderRadius:0},[`
        & > ${_n}-affix-wrapper,
        & > ${_n}-number-affix-wrapper,
        & > ${En}-picker-range
      `]:{display:"inline-flex"},"& > *:not(:last-child)":{marginInlineEnd:Xt.calc(Xt.lineWidth).mul(-1).equal(),borderInlineEndWidth:Xt.lineWidth},[_n]:{float:"none"},[`& > ${En}-select > ${En}-select-selector,
      & > ${En}-select-auto-complete ${_n},
      & > ${En}-cascader-picker ${_n},
      & > ${_n}-group-wrapper ${_n}`]:{borderInlineEndWidth:Xt.lineWidth,borderRadius:0,"&:hover, &:focus":{zIndex:1}},[`& > ${En}-select-focused`]:{zIndex:1},[`& > ${En}-select > ${En}-select-arrow`]:{zIndex:1},[`& > *:first-child,
      & > ${En}-select:first-child > ${En}-select-selector,
      & > ${En}-select-auto-complete:first-child ${_n},
      & > ${En}-cascader-picker:first-child ${_n}`]:{borderStartStartRadius:Xt.borderRadius,borderEndStartRadius:Xt.borderRadius},[`& > *:last-child,
      & > ${En}-select:last-child > ${En}-select-selector,
      & > ${En}-cascader-picker:last-child ${_n},
      & > ${En}-cascader-picker-focused:last-child ${_n}`]:{borderInlineEndWidth:Xt.lineWidth,borderStartEndRadius:Xt.borderRadius,borderEndEndRadius:Xt.borderRadius},[`& > ${En}-select-auto-complete ${_n}`]:{verticalAlign:"top"},[`${_n}-group-wrapper + ${_n}-group-wrapper`]:{marginInlineStart:Xt.calc(Xt.lineWidth).mul(-1).equal(),[`${_n}-affix-wrapper`]:{borderRadius:0}},[`${_n}-group-wrapper:not(:last-child)`]:{[`&${_n}-search > ${_n}-group`]:{[`& > ${_n}-group-addon > ${_n}-search-button`]:{borderRadius:0},[`& > ${_n}`]:{borderStartStartRadius:Xt.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:Xt.borderRadius}}}})}},Et=Xt=>{const{componentCls:_n,controlHeightSM:En,lineWidth:Nn,calc:fi}=Xt,Hr=fi(En).sub(fi(Nn).mul(2)).sub(16).div(2).equal();return{[_n]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,jt.Wf)(Xt)),qt(Xt)),(0,ot.qG)(Xt)),(0,ot.H8)(Xt)),(0,ot.Mu)(Xt)),(0,ot.vc)(Xt)),{'&[type="color"]':{height:Xt.controlHeight,[`&${_n}-lg`]:{height:Xt.controlHeightLG},[`&${_n}-sm`]:{height:En,paddingTop:Hr,paddingBottom:Hr}},'&[type="search"]::-webkit-search-cancel-button, &[type="search"]::-webkit-search-decoration':{"-webkit-appearance":"none"}})}},an=Xt=>{const{componentCls:_n}=Xt;return{[`${_n}-clear-icon`]:{margin:0,padding:0,lineHeight:0,color:Xt.colorTextQuaternary,fontSize:Xt.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:`color ${Xt.motionDurationSlow}`,border:"none",outline:"none",backgroundColor:"transparent","&:hover":{color:Xt.colorTextTertiary},"&:active":{color:Xt.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:`0 ${(0,s.bf)(Xt.inputAffixPadding)}`}}}},Ht=Xt=>{const{componentCls:_n,inputAffixPadding:En,colorTextDescription:Nn,motionDurationSlow:fi,colorIcon:Pt,colorIconHover:Hr,iconCls:Rn}=Xt,Fn=`${_n}-affix-wrapper`,Br=`${_n}-affix-wrapper-disabled`;return{[Fn]:Object.assign(Object.assign(Object.assign(Object.assign({},qt(Xt)),{display:"inline-flex",[`&:not(${_n}-disabled):hover`]:{zIndex:1,[`${_n}-search-with-button &`]:{zIndex:0}},"&-focused, &:focus":{zIndex:1},[`> input${_n}`]:{padding:0},[`> input${_n}, > textarea${_n}`]:{fontSize:"inherit",border:"none",borderRadius:0,outline:"none",background:"transparent",color:"inherit","&::-ms-reveal":{display:"none"},"&:focus":{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[_n]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:Xt.paddingXS}},"&-show-count-suffix":{color:Nn},"&-show-count-has-suffix":{marginInlineEnd:Xt.paddingXXS},"&-prefix":{marginInlineEnd:En},"&-suffix":{marginInlineStart:En}}}),an(Xt)),{[`${Rn}${_n}-password-icon`]:{color:Pt,cursor:"pointer",transition:`all ${fi}`,"&:hover":{color:Hr}}}),[`${_n}-underlined`]:{borderRadius:0},[Br]:{[`${Rn}${_n}-password-icon`]:{color:Pt,cursor:"not-allowed","&:hover":{color:Pt}}}}},Zt=Xt=>{const{componentCls:_n,borderRadiusLG:En,borderRadiusSM:Nn}=Xt;return{[`${_n}-group`]:Object.assign(Object.assign(Object.assign({},(0,jt.Wf)(Xt)),mt(Xt)),{"&-rtl":{direction:"rtl"},"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":{[`${_n}-group-addon`]:{borderRadius:En,fontSize:Xt.inputFontSizeLG}},"&-sm":{[`${_n}-group-addon`]:{borderRadius:Nn}}},(0,ot.ir)(Xt)),(0,ot.S5)(Xt)),{[`&:not(${_n}-compact-first-item):not(${_n}-compact-last-item)${_n}-compact-item`]:{[`${_n}, ${_n}-group-addon`]:{borderRadius:0}},[`&:not(${_n}-compact-last-item)${_n}-compact-first-item`]:{[`${_n}, ${_n}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${_n}-compact-first-item)${_n}-compact-last-item`]:{[`${_n}, ${_n}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&:not(${_n}-compact-last-item)${_n}-compact-item`]:{[`${_n}-affix-wrapper`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${_n}-compact-first-item)${_n}-compact-item`]:{[`${_n}-affix-wrapper`]:{borderStartStartRadius:0,borderEndStartRadius:0}}})})}},Qt=Xt=>{const{componentCls:_n,antCls:En}=Xt,Nn=`${_n}-search`;return{[Nn]:{[_n]:{"&:hover, &:focus":{[`+ ${_n}-group-addon ${Nn}-button:not(${En}-btn-primary)`]:{borderInlineStartColor:Xt.colorPrimaryHover}}},[`${_n}-affix-wrapper`]:{height:Xt.controlHeight,borderRadius:0},[`${_n}-lg`]:{lineHeight:Xt.calc(Xt.lineHeightLG).sub(2e-4).equal()},[`> ${_n}-group`]:{[`> ${_n}-group-addon:last-child`]:{insetInlineStart:-1,padding:0,border:0,[`${Nn}-button`]:{marginInlineEnd:-1,borderStartStartRadius:0,borderEndStartRadius:0,boxShadow:"none"},[`${Nn}-button:not(${En}-btn-primary)`]:{color:Xt.colorTextDescription,"&:hover":{color:Xt.colorPrimaryHover},"&:active":{color:Xt.colorPrimaryActive},[`&${En}-btn-loading::before`]:{insetInlineStart:0,insetInlineEnd:0,insetBlockStart:0,insetBlockEnd:0}}}},[`${Nn}-button`]:{height:Xt.controlHeight,"&:hover, &:focus":{zIndex:1}},"&-large":{[`${_n}-affix-wrapper, ${Nn}-button`]:{height:Xt.controlHeightLG}},"&-small":{[`${_n}-affix-wrapper, ${Nn}-button`]:{height:Xt.controlHeightSM}},"&-rtl":{direction:"rtl"},[`&${_n}-compact-item`]:{[`&:not(${_n}-compact-last-item)`]:{[`${_n}-group-addon`]:{[`${_n}-search-button`]:{marginInlineEnd:Xt.calc(Xt.lineWidth).mul(-1).equal(),borderRadius:0}}},[`&:not(${_n}-compact-first-item)`]:{[`${_n},${_n}-affix-wrapper`]:{borderRadius:0}},[`> ${_n}-group-addon ${_n}-search-button,
        > ${_n},
        ${_n}-affix-wrapper`]:{"&:hover, &:focus, &:active":{zIndex:2}},[`> ${_n}-affix-wrapper-focused`]:{zIndex:2}}}}},vt=Xt=>{const{componentCls:_n}=Xt;return{[`${_n}-out-of-range`]:{[`&, & input, & textarea, ${_n}-show-count-suffix, ${_n}-data-count`]:{color:Xt.colorError}}}},sn=(0,d.I$)(["Input","Shared"],Xt=>{const _n=(0,Be.IX)(Xt,(0,lt.e)(Xt));return[Et(_n),Ht(_n)]},lt.T,{resetFont:!1});bn.ZP=(0,d.I$)(["Input","Component"],Xt=>{const _n=(0,Be.IX)(Xt,(0,lt.e)(Xt));return[Zt(_n),Qt(_n),vt(_n),(0,oe.c)(_n)]},lt.T,{resetFont:!1})},21571:function(Kr,bn,he){"use strict";he.d(bn,{T:function(){return oe},e:function(){return jt}});var s=he(83509);function jt(d){return(0,s.IX)(d,{inputAffixPadding:d.paddingXXS})}const oe=d=>{const{controlHeight:Be,fontSize:lt,lineHeight:ot,lineWidth:qe,controlHeightSM:De,controlHeightLG:Ae,fontSizeLG:zt,lineHeightLG:qt,paddingSM:mt,controlPaddingHorizontalSM:Et,controlPaddingHorizontal:an,colorFillAlter:Ht,colorPrimaryHover:Zt,colorPrimary:Qt,controlOutlineWidth:vt,controlOutline:sn,colorErrorOutline:Xt,colorWarningOutline:_n,colorBgContainer:En,inputFontSize:Nn,inputFontSizeLG:fi,inputFontSizeSM:Pt}=d,Hr=Nn||lt,Rn=Pt||Hr,Fn=fi||zt,Br=Math.round((Be-Hr*ot)/2*10)/10-qe,Tr=Math.round((De-Rn*ot)/2*10)/10-qe,nr=Math.ceil((Ae-Fn*qt)/2*10)/10-qe;return{paddingBlock:Math.max(Br,0),paddingBlockSM:Math.max(Tr,0),paddingBlockLG:Math.max(nr,0),paddingInline:mt-qe,paddingInlineSM:Et-qe,paddingInlineLG:an-qe,addonBg:Ht,activeBorderColor:Qt,hoverBorderColor:Zt,activeShadow:`0 0 0 ${vt}px ${sn}`,errorActiveShadow:`0 0 0 ${vt}px ${Xt}`,warningActiveShadow:`0 0 0 ${vt}px ${_n}`,hoverBg:En,activeBg:En,inputFontSize:Hr,inputFontSizeLG:Fn,inputFontSizeSM:Rn}}},57616:function(Kr,bn,he){"use strict";he.d(bn,{$U:function(){return Be},H8:function(){return mt},Mu:function(){return Ae},S5:function(){return an},Xy:function(){return d},ir:function(){return De},qG:function(){return ot},vc:function(){return Qt}});var s=he(55921),jt=he(83509);const oe=vt=>({borderColor:vt.hoverBorderColor,backgroundColor:vt.hoverBg}),d=vt=>({color:vt.colorTextDisabled,backgroundColor:vt.colorBgContainerDisabled,borderColor:vt.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"input[disabled], textarea[disabled]":{cursor:"not-allowed"},"&:hover:not([disabled])":Object.assign({},oe((0,jt.IX)(vt,{hoverBorderColor:vt.colorBorder,hoverBg:vt.colorBgContainerDisabled})))}),Be=(vt,sn)=>({background:vt.colorBgContainer,borderWidth:vt.lineWidth,borderStyle:vt.lineType,borderColor:sn.borderColor,"&:hover":{borderColor:sn.hoverBorderColor,backgroundColor:vt.hoverBg},"&:focus, &:focus-within":{borderColor:sn.activeBorderColor,boxShadow:sn.activeShadow,outline:0,backgroundColor:vt.activeBg}}),lt=(vt,sn)=>({[`&${vt.componentCls}-status-${sn.status}:not(${vt.componentCls}-disabled)`]:Object.assign(Object.assign({},Be(vt,sn)),{[`${vt.componentCls}-prefix, ${vt.componentCls}-suffix`]:{color:sn.affixColor}}),[`&${vt.componentCls}-status-${sn.status}${vt.componentCls}-disabled`]:{borderColor:sn.borderColor}}),ot=(vt,sn)=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Be(vt,{borderColor:vt.colorBorder,hoverBorderColor:vt.hoverBorderColor,activeBorderColor:vt.activeBorderColor,activeShadow:vt.activeShadow})),{[`&${vt.componentCls}-disabled, &[disabled]`]:Object.assign({},d(vt))}),lt(vt,{status:"error",borderColor:vt.colorError,hoverBorderColor:vt.colorErrorBorderHover,activeBorderColor:vt.colorError,activeShadow:vt.errorActiveShadow,affixColor:vt.colorError})),lt(vt,{status:"warning",borderColor:vt.colorWarning,hoverBorderColor:vt.colorWarningBorderHover,activeBorderColor:vt.colorWarning,activeShadow:vt.warningActiveShadow,affixColor:vt.colorWarning})),sn)}),qe=(vt,sn)=>({[`&${vt.componentCls}-group-wrapper-status-${sn.status}`]:{[`${vt.componentCls}-group-addon`]:{borderColor:sn.addonBorderColor,color:sn.addonColor}}}),De=vt=>({"&-outlined":Object.assign(Object.assign(Object.assign({[`${vt.componentCls}-group`]:{"&-addon":{background:vt.addonBg,border:`${(0,s.bf)(vt.lineWidth)} ${vt.lineType} ${vt.colorBorder}`},"&-addon:first-child":{borderInlineEnd:0},"&-addon:last-child":{borderInlineStart:0}}},qe(vt,{status:"error",addonBorderColor:vt.colorError,addonColor:vt.colorErrorText})),qe(vt,{status:"warning",addonBorderColor:vt.colorWarning,addonColor:vt.colorWarningText})),{[`&${vt.componentCls}-group-wrapper-disabled`]:{[`${vt.componentCls}-group-addon`]:Object.assign({},d(vt))}})}),Ae=(vt,sn)=>{const{componentCls:Xt}=vt;return{"&-borderless":Object.assign({background:"transparent",border:"none","&:focus, &:focus-within":{outline:"none"},[`&${Xt}-disabled, &[disabled]`]:{color:vt.colorTextDisabled,cursor:"not-allowed"},[`&${Xt}-status-error`]:{"&, & input, & textarea":{color:vt.colorError}},[`&${Xt}-status-warning`]:{"&, & input, & textarea":{color:vt.colorWarning}}},sn)}},zt=(vt,sn)=>({background:sn.bg,borderWidth:vt.lineWidth,borderStyle:vt.lineType,borderColor:"transparent","input&, & input, textarea&, & textarea":{color:sn==null?void 0:sn.inputColor},"&:hover":{background:sn.hoverBg},"&:focus, &:focus-within":{outline:0,borderColor:sn.activeBorderColor,backgroundColor:vt.activeBg}}),qt=(vt,sn)=>({[`&${vt.componentCls}-status-${sn.status}:not(${vt.componentCls}-disabled)`]:Object.assign(Object.assign({},zt(vt,sn)),{[`${vt.componentCls}-prefix, ${vt.componentCls}-suffix`]:{color:sn.affixColor}})}),mt=(vt,sn)=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},zt(vt,{bg:vt.colorFillTertiary,hoverBg:vt.colorFillSecondary,activeBorderColor:vt.activeBorderColor})),{[`&${vt.componentCls}-disabled, &[disabled]`]:Object.assign({},d(vt))}),qt(vt,{status:"error",bg:vt.colorErrorBg,hoverBg:vt.colorErrorBgHover,activeBorderColor:vt.colorError,inputColor:vt.colorErrorText,affixColor:vt.colorError})),qt(vt,{status:"warning",bg:vt.colorWarningBg,hoverBg:vt.colorWarningBgHover,activeBorderColor:vt.colorWarning,inputColor:vt.colorWarningText,affixColor:vt.colorWarning})),sn)}),Et=(vt,sn)=>({[`&${vt.componentCls}-group-wrapper-status-${sn.status}`]:{[`${vt.componentCls}-group-addon`]:{background:sn.addonBg,color:sn.addonColor}}}),an=vt=>({"&-filled":Object.assign(Object.assign(Object.assign({[`${vt.componentCls}-group`]:{"&-addon":{background:vt.colorFillTertiary},[`${vt.componentCls}-filled:not(:focus):not(:focus-within)`]:{"&:not(:first-child)":{borderInlineStart:`${(0,s.bf)(vt.lineWidth)} ${vt.lineType} ${vt.colorSplit}`},"&:not(:last-child)":{borderInlineEnd:`${(0,s.bf)(vt.lineWidth)} ${vt.lineType} ${vt.colorSplit}`}}}},Et(vt,{status:"error",addonBg:vt.colorErrorBg,addonColor:vt.colorErrorText})),Et(vt,{status:"warning",addonBg:vt.colorWarningBg,addonColor:vt.colorWarningText})),{[`&${vt.componentCls}-group-wrapper-disabled`]:{[`${vt.componentCls}-group`]:{"&-addon":{background:vt.colorFillTertiary,color:vt.colorTextDisabled},"&-addon:first-child":{borderInlineStart:`${(0,s.bf)(vt.lineWidth)} ${vt.lineType} ${vt.colorBorder}`,borderTop:`${(0,s.bf)(vt.lineWidth)} ${vt.lineType} ${vt.colorBorder}`,borderBottom:`${(0,s.bf)(vt.lineWidth)} ${vt.lineType} ${vt.colorBorder}`},"&-addon:last-child":{borderInlineEnd:`${(0,s.bf)(vt.lineWidth)} ${vt.lineType} ${vt.colorBorder}`,borderTop:`${(0,s.bf)(vt.lineWidth)} ${vt.lineType} ${vt.colorBorder}`,borderBottom:`${(0,s.bf)(vt.lineWidth)} ${vt.lineType} ${vt.colorBorder}`}}}})}),Ht=(vt,sn)=>({background:vt.colorBgContainer,borderWidth:`${(0,s.bf)(vt.lineWidth)} 0`,borderStyle:`${vt.lineType} none`,borderColor:`transparent transparent ${sn.borderColor} transparent`,borderRadius:0,"&:hover":{borderColor:`transparent transparent ${sn.borderColor} transparent`,backgroundColor:vt.hoverBg},"&:focus, &:focus-within":{borderColor:`transparent transparent ${sn.borderColor} transparent`,outline:0,backgroundColor:vt.activeBg}}),Zt=(vt,sn)=>({[`&${vt.componentCls}-status-${sn.status}:not(${vt.componentCls}-disabled)`]:Object.assign(Object.assign({},Ht(vt,sn)),{[`${vt.componentCls}-prefix, ${vt.componentCls}-suffix`]:{color:sn.affixColor}}),[`&${vt.componentCls}-status-${sn.status}${vt.componentCls}-disabled`]:{borderColor:sn.borderColor}}),Qt=(vt,sn)=>({"&-underlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Ht(vt,{borderColor:vt.colorBorder,hoverBorderColor:vt.hoverBorderColor,activeBorderColor:vt.activeBorderColor,activeShadow:vt.activeShadow})),{[`&${vt.componentCls}-disabled, &[disabled]`]:{color:vt.colorTextDisabled,boxShadow:"none",cursor:"not-allowed","&:hover":{borderColor:vt.colorBorder}},"input[disabled], textarea[disabled]":{cursor:"not-allowed"}}),Zt(vt,{status:"error",borderColor:vt.colorError,hoverBorderColor:vt.colorErrorBorderHover,activeBorderColor:vt.colorError,activeShadow:vt.errorActiveShadow,affixColor:vt.colorError})),Zt(vt,{status:"warning",borderColor:vt.colorWarning,hoverBorderColor:vt.colorWarningBorderHover,activeBorderColor:vt.colorWarning,activeShadow:vt.warningActiveShadow,affixColor:vt.colorWarning})),sn)})},59379:function(Kr,bn,he){"use strict";var s=he(75271);const jt=(0,s.createContext)(void 0);bn.Z=jt},42474:function(Kr,bn,he){"use strict";var s=he(18507),jt=he(40859),oe=he(58492),d=he(85985);const Be="${label} is not a valid ${type}",lt={locale:"en",Pagination:s.Z,DatePicker:oe.Z,TimePicker:d.Z,Calendar:jt.Z,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckAll:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",deselectAll:"Deselect all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand",collapse:"Collapse"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:Be,method:Be,array:Be,object:Be,number:Be,date:Be,boolean:Be,integer:Be,float:Be,regexp:Be,email:Be,url:Be,hex:Be},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty",transparent:"Transparent",singleColor:"Single",gradientColor:"Gradient"}};bn.Z=lt},77648:function(Kr,bn,he){"use strict";var s=he(75271),jt=he(59379),oe=he(42474);const d=(Be,lt)=>{const ot=s.useContext(jt.Z),qe=s.useMemo(()=>{var Ae;const zt=lt||oe.Z[Be],qt=(Ae=ot==null?void 0:ot[Be])!==null&&Ae!==void 0?Ae:{};return Object.assign(Object.assign({},typeof zt=="function"?zt():zt),qt||{})},[Be,lt,ot]),De=s.useMemo(()=>{const Ae=ot==null?void 0:ot.locale;return ot!=null&&ot.exist&&!Ae?oe.Z.locale:Ae},[ot]);return[qe,De]};bn.Z=d},3786:function(Kr,bn,he){"use strict";he.d(bn,{A:function(){return lt},f:function(){return Be}});var s=he(42474);let jt=Object.assign({},s.Z.Modal),oe=[];const d=()=>oe.reduce((ot,qe)=>Object.assign(Object.assign({},ot),qe),s.Z.Modal);function Be(ot){if(ot){const qe=Object.assign({},ot);return oe.push(qe),jt=d(),()=>{oe=oe.filter(De=>De!==qe),jt=d()}}jt=Object.assign({},s.Z.Modal)}function lt(){return jt}},23137:function(Kr,bn,he){"use strict";he.d(bn,{BR:function(){return zt},ri:function(){return Ae}});var s=he(75271),jt=he(82187),oe=he.n(jt),d=he(81626),Be=he(98446),lt=he(95741),ot=he(45936),qe=function(Et,an){var Ht={};for(var Zt in Et)Object.prototype.hasOwnProperty.call(Et,Zt)&&an.indexOf(Zt)<0&&(Ht[Zt]=Et[Zt]);if(Et!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Qt=0,Zt=Object.getOwnPropertySymbols(Et);Qt<Zt.length;Qt++)an.indexOf(Zt[Qt])<0&&Object.prototype.propertyIsEnumerable.call(Et,Zt[Qt])&&(Ht[Zt[Qt]]=Et[Zt[Qt]]);return Ht};const De=s.createContext(null),Ae=(Et,an)=>{const Ht=s.useContext(De),Zt=s.useMemo(()=>{if(!Ht)return"";const{compactDirection:Qt,isFirstItem:vt,isLastItem:sn}=Ht,Xt=Qt==="vertical"?"-vertical-":"-";return oe()(`${Et}-compact${Xt}item`,{[`${Et}-compact${Xt}first-item`]:vt,[`${Et}-compact${Xt}last-item`]:sn,[`${Et}-compact${Xt}item-rtl`]:an==="rtl"})},[Et,an,Ht]);return{compactSize:Ht==null?void 0:Ht.compactSize,compactDirection:Ht==null?void 0:Ht.compactDirection,compactItemClassnames:Zt}},zt=Et=>{const{children:an}=Et;return s.createElement(De.Provider,{value:null},an)},qt=Et=>{const{children:an}=Et,Ht=qe(Et,["children"]);return s.createElement(De.Provider,{value:s.useMemo(()=>Ht,[Ht])},an)},mt=Et=>{const{getPrefixCls:an,direction:Ht}=s.useContext(Be.E_),{size:Zt,direction:Qt,block:vt,prefixCls:sn,className:Xt,rootClassName:_n,children:En}=Et,Nn=qe(Et,["size","direction","block","prefixCls","className","rootClassName","children"]),fi=(0,lt.Z)(Qr=>Zt!=null?Zt:Qr),Pt=an("space-compact",sn),[Hr,Rn]=(0,ot.Z)(Pt),Fn=oe()(Pt,Rn,{[`${Pt}-rtl`]:Ht==="rtl",[`${Pt}-block`]:vt,[`${Pt}-vertical`]:Qt==="vertical"},Xt,_n),Br=s.useContext(De),Tr=(0,d.Z)(En),nr=s.useMemo(()=>Tr.map((Qr,Mr)=>{const Jn=(Qr==null?void 0:Qr.key)||`${Pt}-item-${Mr}`;return s.createElement(qt,{key:Jn,compactSize:fi,compactDirection:Qt,isFirstItem:Mr===0&&(!Br||(Br==null?void 0:Br.isFirstItem)),isLastItem:Mr===Tr.length-1&&(!Br||(Br==null?void 0:Br.isLastItem))},Qr)}),[Zt,Tr,Br]);return Tr.length===0?null:Hr(s.createElement("div",Object.assign({className:Fn},Nn),nr))};bn.ZP=mt},45936:function(Kr,bn,he){"use strict";he.d(bn,{Z:function(){return qe}});var s=he(84825),jt=he(83509),d=De=>{const{componentCls:Ae}=De;return{[Ae]:{"&-block":{display:"flex",width:"100%"},"&-vertical":{flexDirection:"column"}}}};const Be=De=>{const{componentCls:Ae,antCls:zt}=De;return{[Ae]:{display:"inline-flex","&-rtl":{direction:"rtl"},"&-vertical":{flexDirection:"column"},"&-align":{flexDirection:"column","&-center":{alignItems:"center"},"&-start":{alignItems:"flex-start"},"&-end":{alignItems:"flex-end"},"&-baseline":{alignItems:"baseline"}},[`${Ae}-item:empty`]:{display:"none"},[`${Ae}-item > ${zt}-badge-not-a-wrapper:only-child`]:{display:"block"}}}},lt=De=>{const{componentCls:Ae}=De;return{[Ae]:{"&-gap-row-small":{rowGap:De.spaceGapSmallSize},"&-gap-row-middle":{rowGap:De.spaceGapMiddleSize},"&-gap-row-large":{rowGap:De.spaceGapLargeSize},"&-gap-col-small":{columnGap:De.spaceGapSmallSize},"&-gap-col-middle":{columnGap:De.spaceGapMiddleSize},"&-gap-col-large":{columnGap:De.spaceGapLargeSize}}}},ot=()=>({});var qe=(0,s.I$)("Space",De=>{const Ae=(0,jt.IX)(De,{spaceGapSmallSize:De.paddingXS,spaceGapMiddleSize:De.padding,spaceGapLargeSize:De.paddingLG});return[Be(Ae),lt(Ae),d(Ae)]},()=>({}),{resetStyle:!1})},9288:function(Kr,bn,he){"use strict";he.d(bn,{c:function(){return oe}});function s(d,Be,lt){const{focusElCls:ot,focus:qe,borderElCls:De}=lt,Ae=De?"> *":"",zt=["hover",qe?"focus":null,"active"].filter(Boolean).map(qt=>`&:${qt} ${Ae}`).join(",");return{[`&-item:not(${Be}-last-item)`]:{marginInlineEnd:d.calc(d.lineWidth).mul(-1).equal()},"&-item":Object.assign(Object.assign({[zt]:{zIndex:2}},ot?{[`&${ot}`]:{zIndex:2}}:{}),{[`&[disabled] ${Ae}`]:{zIndex:0}})}}function jt(d,Be,lt){const{borderElCls:ot}=lt,qe=ot?`> ${ot}`:"";return{[`&-item:not(${Be}-first-item):not(${Be}-last-item) ${qe}`]:{borderRadius:0},[`&-item:not(${Be}-last-item)${Be}-first-item`]:{[`& ${qe}, &${d}-sm ${qe}, &${d}-lg ${qe}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${Be}-first-item)${Be}-last-item`]:{[`& ${qe}, &${d}-sm ${qe}, &${d}-lg ${qe}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function oe(d){let Be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{focus:!0};const{componentCls:lt}=d,ot=`${lt}-compact`;return{[ot]:Object.assign(Object.assign({},s(d,ot,Be)),jt(lt,ot,Be))}}},34299:function(Kr,bn,he){"use strict";he.d(bn,{JT:function(){return Ae},Lx:function(){return lt},Nd:function(){return zt},Qy:function(){return De},Ro:function(){return d},Wf:function(){return oe},dF:function(){return Be},du:function(){return ot},oN:function(){return qe},vS:function(){return jt}});var s=he(55921);const jt={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},oe=function(qt){let mt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{boxSizing:"border-box",margin:0,padding:0,color:qt.colorText,fontSize:qt.fontSize,lineHeight:qt.lineHeight,listStyle:"none",fontFamily:mt?"inherit":qt.fontFamily}},d=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),Be=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),lt=qt=>({a:{color:qt.colorLink,textDecoration:qt.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${qt.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:qt.colorLinkHover},"&:active":{color:qt.colorLinkActive},"&:active, &:hover":{textDecoration:qt.linkHoverDecoration,outline:0},"&:focus":{textDecoration:qt.linkFocusDecoration,outline:0},"&[disabled]":{color:qt.colorTextDisabled,cursor:"not-allowed"}}}),ot=(qt,mt,Et,an)=>{const Ht=`[class^="${mt}"], [class*=" ${mt}"]`,Zt=Et?`.${Et}`:Ht,Qt={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let vt={};return an!==!1&&(vt={fontFamily:qt.fontFamily,fontSize:qt.fontSize}),{[Zt]:Object.assign(Object.assign(Object.assign({},vt),Qt),{[Ht]:Qt})}},qe=(qt,mt)=>({outline:`${(0,s.bf)(qt.lineWidthFocus)} solid ${qt.colorPrimaryBorder}`,outlineOffset:mt!=null?mt:1,transition:"outline-offset 0s, outline 0s"}),De=(qt,mt)=>({"&:focus-visible":Object.assign({},qe(qt,mt))}),Ae=qt=>({[`.${qt}`]:Object.assign(Object.assign({},d()),{[`.${qt} .${qt}-icon`]:{display:"block"}})}),zt=qt=>Object.assign(Object.assign({color:qt.colorLink,textDecoration:qt.linkDecoration,outline:"none",cursor:"pointer",transition:`all ${qt.motionDurationSlow}`,border:0,padding:0,background:"none",userSelect:"none"},De(qt)),{"&:focus, &:hover":{color:qt.colorLinkHover},"&:active":{color:qt.colorLinkActive}})},40894:function(Kr,bn){"use strict";const he=s=>({[s.componentCls]:{[`${s.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${s.motionDurationMid} ${s.motionEaseInOut},
        opacity ${s.motionDurationMid} ${s.motionEaseInOut} !important`}},[`${s.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${s.motionDurationMid} ${s.motionEaseInOut},
        opacity ${s.motionDurationMid} ${s.motionEaseInOut} !important`}}});bn.Z=he},79318:function(Kr,bn,he){"use strict";he.d(bn,{R:function(){return oe}});const s=d=>({animationDuration:d,animationFillMode:"both"}),jt=d=>({animationDuration:d,animationFillMode:"both"}),oe=function(d,Be,lt,ot){const De=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${De}${d}-enter,
      ${De}${d}-appear
    `]:Object.assign(Object.assign({},s(ot)),{animationPlayState:"paused"}),[`${De}${d}-leave`]:Object.assign(Object.assign({},jt(ot)),{animationPlayState:"paused"}),[`
      ${De}${d}-enter${d}-enter-active,
      ${De}${d}-appear${d}-appear-active
    `]:{animationName:Be,animationPlayState:"running"},[`${De}${d}-leave${d}-leave-active`]:{animationName:lt,animationPlayState:"running",pointerEvents:"none"}}}},3153:function(Kr,bn,he){"use strict";he.d(bn,{_y:function(){return Ht},kr:function(){return oe}});var s=he(55921),jt=he(79318);const oe=new s.E4("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),d=new s.E4("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),Be=new s.E4("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),lt=new s.E4("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),ot=new s.E4("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),qe=new s.E4("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),De=new s.E4("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),Ae=new s.E4("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),zt=new s.E4("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),qt=new s.E4("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),mt=new s.E4("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),Et=new s.E4("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),an={zoom:{inKeyframes:oe,outKeyframes:d},"zoom-big":{inKeyframes:Be,outKeyframes:lt},"zoom-big-fast":{inKeyframes:Be,outKeyframes:lt},"zoom-left":{inKeyframes:De,outKeyframes:Ae},"zoom-right":{inKeyframes:zt,outKeyframes:qt},"zoom-up":{inKeyframes:ot,outKeyframes:qe},"zoom-down":{inKeyframes:mt,outKeyframes:Et}},Ht=(Zt,Qt)=>{const{antCls:vt}=Zt,sn=`${vt}-${Qt}`,{inKeyframes:Xt,outKeyframes:_n}=an[Qt];return[(0,jt.R)(sn,Xt,_n,Qt==="zoom-big-fast"?Zt.motionDurationFast:Zt.motionDurationMid),{[`
        ${sn}-enter,
        ${sn}-appear
      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:Zt.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${sn}-leave`]:{animationTimingFunction:Zt.motionEaseInOutCirc}}]}},18533:function(Kr,bn,he){"use strict";he.d(bn,{ZP:function(){return lt},qN:function(){return oe},wZ:function(){return d}});var s=he(55921),jt=he(2276);const oe=8;function d(ot){const{contentRadius:qe,limitVerticalRadius:De}=ot,Ae=qe>12?qe+2:12;return{arrowOffsetHorizontal:Ae,arrowOffsetVertical:De?oe:Ae}}function Be(ot,qe){return ot?qe:{}}function lt(ot,qe,De){const{componentCls:Ae,boxShadowPopoverArrow:zt,arrowOffsetVertical:qt,arrowOffsetHorizontal:mt}=ot,{arrowDistance:Et=0,arrowPlacement:an={left:!0,right:!0,top:!0,bottom:!0}}=De||{};return{[Ae]:Object.assign(Object.assign(Object.assign(Object.assign({[`${Ae}-arrow`]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},(0,jt.W)(ot,qe,zt)),{"&:before":{background:qe}})]},Be(!!an.top,{[[`&-placement-top > ${Ae}-arrow`,`&-placement-topLeft > ${Ae}-arrow`,`&-placement-topRight > ${Ae}-arrow`].join(",")]:{bottom:Et,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top > ${Ae}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},"&-placement-topLeft":{"--arrow-offset-horizontal":mt,[`> ${Ae}-arrow`]:{left:{_skip_check_:!0,value:mt}}},"&-placement-topRight":{"--arrow-offset-horizontal":`calc(100% - ${(0,s.bf)(mt)})`,[`> ${Ae}-arrow`]:{right:{_skip_check_:!0,value:mt}}}})),Be(!!an.bottom,{[[`&-placement-bottom > ${Ae}-arrow`,`&-placement-bottomLeft > ${Ae}-arrow`,`&-placement-bottomRight > ${Ae}-arrow`].join(",")]:{top:Et,transform:"translateY(-100%)"},[`&-placement-bottom > ${Ae}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},"&-placement-bottomLeft":{"--arrow-offset-horizontal":mt,[`> ${Ae}-arrow`]:{left:{_skip_check_:!0,value:mt}}},"&-placement-bottomRight":{"--arrow-offset-horizontal":`calc(100% - ${(0,s.bf)(mt)})`,[`> ${Ae}-arrow`]:{right:{_skip_check_:!0,value:mt}}}})),Be(!!an.left,{[[`&-placement-left > ${Ae}-arrow`,`&-placement-leftTop > ${Ae}-arrow`,`&-placement-leftBottom > ${Ae}-arrow`].join(",")]:{right:{_skip_check_:!0,value:Et},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left > ${Ae}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop > ${Ae}-arrow`]:{top:qt},[`&-placement-leftBottom > ${Ae}-arrow`]:{bottom:qt}})),Be(!!an.right,{[[`&-placement-right > ${Ae}-arrow`,`&-placement-rightTop > ${Ae}-arrow`,`&-placement-rightBottom > ${Ae}-arrow`].join(",")]:{left:{_skip_check_:!0,value:Et},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right > ${Ae}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop > ${Ae}-arrow`]:{top:qt},[`&-placement-rightBottom > ${Ae}-arrow`]:{bottom:qt}}))}}},2276:function(Kr,bn,he){"use strict";he.d(bn,{W:function(){return oe},w:function(){return jt}});var s=he(55921);function jt(d){const{sizePopupArrow:Be,borderRadiusXS:lt,borderRadiusOuter:ot}=d,qe=Be/2,De=0,Ae=qe,zt=ot*1/Math.sqrt(2),qt=qe-ot*(1-1/Math.sqrt(2)),mt=qe-lt*(1/Math.sqrt(2)),Et=ot*(Math.sqrt(2)-1)+lt*(1/Math.sqrt(2)),an=2*qe-mt,Ht=Et,Zt=2*qe-zt,Qt=qt,vt=2*qe-De,sn=Ae,Xt=qe*Math.sqrt(2)+ot*(Math.sqrt(2)-2),_n=ot*(Math.sqrt(2)-1),En=`polygon(${_n}px 100%, 50% ${_n}px, ${2*qe-_n}px 100%, ${_n}px 100%)`,Nn=`path('M ${De} ${Ae} A ${ot} ${ot} 0 0 0 ${zt} ${qt} L ${mt} ${Et} A ${lt} ${lt} 0 0 1 ${an} ${Ht} L ${Zt} ${Qt} A ${ot} ${ot} 0 0 0 ${vt} ${sn} Z')`;return{arrowShadowWidth:Xt,arrowPath:Nn,arrowPolygon:En}}const oe=(d,Be,lt)=>{const{sizePopupArrow:ot,arrowPolygon:qe,arrowPath:De,arrowShadowWidth:Ae,borderRadiusXS:zt,calc:qt}=d;return{pointerEvents:"none",width:ot,height:ot,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:ot,height:qt(ot).div(2).equal(),background:Be,clipPath:{_multi_value_:!0,value:[qe,De]},content:'""'},"&::after":{content:'""',position:"absolute",width:Ae,height:Ae,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${(0,s.bf)(zt)} 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:lt,zIndex:0,background:"transparent"}}}},20284:function(Kr,bn,he){"use strict";he.d(bn,{Mj:function(){return d},u_:function(){return oe}});var s=he(75271),jt=he(30767);const oe={token:jt.Z,override:{override:jt.Z},hashed:!0},d=s.createContext(oe)},98990:function(Kr,bn,he){"use strict";he.d(bn,{i:function(){return s}});const s=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"]},28893:function(Kr,bn,he){"use strict";he.d(bn,{Z:function(){return an}});var s=he(68640),jt=he(30767),oe=he(40329),Be=Ht=>{let Zt=Ht,Qt=Ht,vt=Ht,sn=Ht;return Ht<6&&Ht>=5?Zt=Ht+1:Ht<16&&Ht>=6?Zt=Ht+2:Ht>=16&&(Zt=16),Ht<7&&Ht>=5?Qt=4:Ht<8&&Ht>=7?Qt=5:Ht<14&&Ht>=8?Qt=6:Ht<16&&Ht>=14?Qt=7:Ht>=16&&(Qt=8),Ht<6&&Ht>=2?vt=1:Ht>=6&&(vt=2),Ht>4&&Ht<8?sn=4:Ht>=8&&(sn=6),{borderRadius:Ht,borderRadiusXS:vt,borderRadiusSM:Qt,borderRadiusLG:Zt,borderRadiusOuter:sn}};function lt(Ht){const{motionUnit:Zt,motionBase:Qt,borderRadius:vt,lineWidth:sn}=Ht;return Object.assign({motionDurationFast:`${(Qt+Zt).toFixed(1)}s`,motionDurationMid:`${(Qt+Zt*2).toFixed(1)}s`,motionDurationSlow:`${(Qt+Zt*3).toFixed(1)}s`,lineWidthBold:sn+1},Be(vt))}var ot=he(10154),qe=he(79319);function De(Ht){const{sizeUnit:Zt,sizeStep:Qt}=Ht;return{sizeXXL:Zt*(Qt+8),sizeXL:Zt*(Qt+4),sizeLG:Zt*(Qt+2),sizeMD:Zt*(Qt+1),sizeMS:Zt*Qt,size:Zt*Qt,sizeSM:Zt*(Qt-1),sizeXS:Zt*(Qt-2),sizeXXS:Zt*(Qt-3)}}var Ae=he(84432);const zt=(Ht,Zt)=>new Ae.t(Ht).setA(Zt).toRgbString(),qt=(Ht,Zt)=>new Ae.t(Ht).darken(Zt).toHexString(),mt=Ht=>{const Zt=(0,s.R_)(Ht);return{1:Zt[0],2:Zt[1],3:Zt[2],4:Zt[3],5:Zt[4],6:Zt[5],7:Zt[6],8:Zt[4],9:Zt[5],10:Zt[6]}},Et=(Ht,Zt)=>{const Qt=Ht||"#fff",vt=Zt||"#000";return{colorBgBase:Qt,colorTextBase:vt,colorText:zt(vt,.88),colorTextSecondary:zt(vt,.65),colorTextTertiary:zt(vt,.45),colorTextQuaternary:zt(vt,.25),colorFill:zt(vt,.15),colorFillSecondary:zt(vt,.06),colorFillTertiary:zt(vt,.04),colorFillQuaternary:zt(vt,.02),colorBgSolid:zt(vt,1),colorBgSolidHover:zt(vt,.75),colorBgSolidActive:zt(vt,.95),colorBgLayout:qt(Qt,4),colorBgContainer:qt(Qt,0),colorBgElevated:qt(Qt,0),colorBgSpotlight:zt(vt,.85),colorBgBlur:"transparent",colorBorder:qt(Qt,15),colorBorderSecondary:qt(Qt,6)}};function an(Ht){s.ez.pink=s.ez.magenta,s.Ti.pink=s.Ti.magenta;const Zt=Object.keys(jt.M).map(Qt=>{const vt=Ht[Qt]===s.ez[Qt]?s.Ti[Qt]:(0,s.R_)(Ht[Qt]);return Array.from({length:10},()=>1).reduce((sn,Xt,_n)=>(sn[`${Qt}-${_n+1}`]=vt[_n],sn[`${Qt}${_n+1}`]=vt[_n],sn),{})}).reduce((Qt,vt)=>(Qt=Object.assign(Object.assign({},Qt),vt),Qt),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Ht),Zt),(0,oe.Z)(Ht,{generateColorPalettes:mt,generateNeutralColorPalettes:Et})),(0,qe.Z)(Ht.fontSize)),De(Ht)),(0,ot.Z)(Ht)),lt(Ht))}},38920:function(Kr,bn,he){"use strict";var s=he(55921),jt=he(28893);const oe=(0,s.jG)(jt.Z);bn.Z=oe},30767:function(Kr,bn,he){"use strict";he.d(bn,{M:function(){return s}});const s={blue:"#1677FF",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#EB2F96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},jt=Object.assign(Object.assign({},s),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0});bn.Z=jt},40329:function(Kr,bn,he){"use strict";he.d(bn,{Z:function(){return jt}});var s=he(84432);function jt(oe,d){let{generateColorPalettes:Be,generateNeutralColorPalettes:lt}=d;const{colorSuccess:ot,colorWarning:qe,colorError:De,colorInfo:Ae,colorPrimary:zt,colorBgBase:qt,colorTextBase:mt}=oe,Et=Be(zt),an=Be(ot),Ht=Be(qe),Zt=Be(De),Qt=Be(Ae),vt=lt(qt,mt),sn=oe.colorLink||oe.colorInfo,Xt=Be(sn),_n=new s.t(Zt[1]).mix(new s.t(Zt[3]),50).toHexString();return Object.assign(Object.assign({},vt),{colorPrimaryBg:Et[1],colorPrimaryBgHover:Et[2],colorPrimaryBorder:Et[3],colorPrimaryBorderHover:Et[4],colorPrimaryHover:Et[5],colorPrimary:Et[6],colorPrimaryActive:Et[7],colorPrimaryTextHover:Et[8],colorPrimaryText:Et[9],colorPrimaryTextActive:Et[10],colorSuccessBg:an[1],colorSuccessBgHover:an[2],colorSuccessBorder:an[3],colorSuccessBorderHover:an[4],colorSuccessHover:an[4],colorSuccess:an[6],colorSuccessActive:an[7],colorSuccessTextHover:an[8],colorSuccessText:an[9],colorSuccessTextActive:an[10],colorErrorBg:Zt[1],colorErrorBgHover:Zt[2],colorErrorBgFilledHover:_n,colorErrorBgActive:Zt[3],colorErrorBorder:Zt[3],colorErrorBorderHover:Zt[4],colorErrorHover:Zt[5],colorError:Zt[6],colorErrorActive:Zt[7],colorErrorTextHover:Zt[8],colorErrorText:Zt[9],colorErrorTextActive:Zt[10],colorWarningBg:Ht[1],colorWarningBgHover:Ht[2],colorWarningBorder:Ht[3],colorWarningBorderHover:Ht[4],colorWarningHover:Ht[4],colorWarning:Ht[6],colorWarningActive:Ht[7],colorWarningTextHover:Ht[8],colorWarningText:Ht[9],colorWarningTextActive:Ht[10],colorInfoBg:Qt[1],colorInfoBgHover:Qt[2],colorInfoBorder:Qt[3],colorInfoBorderHover:Qt[4],colorInfoHover:Qt[4],colorInfo:Qt[6],colorInfoActive:Qt[7],colorInfoTextHover:Qt[8],colorInfoText:Qt[9],colorInfoTextActive:Qt[10],colorLinkHover:Xt[4],colorLink:Xt[6],colorLinkActive:Xt[7],colorBgMask:new s.t("#000").setA(.45).toRgbString(),colorWhite:"#fff"})}},10154:function(Kr,bn){"use strict";const he=s=>{const{controlHeight:jt}=s;return{controlHeightSM:jt*.75,controlHeightXS:jt*.5,controlHeightLG:jt*1.25}};bn.Z=he},79319:function(Kr,bn,he){"use strict";var s=he(78611);const jt=oe=>{const d=(0,s.Z)(oe),Be=d.map(mt=>mt.size),lt=d.map(mt=>mt.lineHeight),ot=Be[1],qe=Be[0],De=Be[2],Ae=lt[1],zt=lt[0],qt=lt[2];return{fontSizeSM:qe,fontSize:ot,fontSizeLG:De,fontSizeXL:Be[3],fontSizeHeading1:Be[6],fontSizeHeading2:Be[5],fontSizeHeading3:Be[4],fontSizeHeading4:Be[3],fontSizeHeading5:Be[2],lineHeight:Ae,lineHeightLG:qt,lineHeightSM:zt,fontHeight:Math.round(Ae*ot),fontHeightLG:Math.round(qt*De),fontHeightSM:Math.round(zt*qe),lineHeightHeading1:lt[6],lineHeightHeading2:lt[5],lineHeightHeading3:lt[4],lineHeightHeading4:lt[3],lineHeightHeading5:lt[2]}};bn.Z=jt},78611:function(Kr,bn,he){"use strict";he.d(bn,{D:function(){return s},Z:function(){return jt}});function s(oe){return(oe+8)/oe}function jt(oe){const d=Array.from({length:10}).map((Be,lt)=>{const ot=lt-1,qe=oe*Math.pow(Math.E,ot/5),De=lt>1?Math.floor(qe):Math.ceil(qe);return Math.floor(De/2)*2});return d[1]=oe,d.map(Be=>({size:Be,lineHeight:s(Be)}))}},67699:function(Kr,bn,he){"use strict";he.d(bn,{NJ:function(){return De},ZP:function(){return mt}});var s=he(75271),jt=he(55921),oe=he(41424),d=he(20284),Be=he(38920),lt=he(30767),ot=he(33598),qe=function(Et,an){var Ht={};for(var Zt in Et)Object.prototype.hasOwnProperty.call(Et,Zt)&&an.indexOf(Zt)<0&&(Ht[Zt]=Et[Zt]);if(Et!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Qt=0,Zt=Object.getOwnPropertySymbols(Et);Qt<Zt.length;Qt++)an.indexOf(Zt[Qt])<0&&Object.prototype.propertyIsEnumerable.call(Et,Zt[Qt])&&(Ht[Zt[Qt]]=Et[Zt[Qt]]);return Ht};const De={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0,opacityImage:!0},Ae={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},zt={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},qt=(Et,an,Ht)=>{const Zt=Ht.getDerivativeToken(Et),{override:Qt}=an,vt=qe(an,["override"]);let sn=Object.assign(Object.assign({},Zt),{override:Qt});return sn=(0,ot.Z)(sn),vt&&Object.entries(vt).forEach(Xt=>{let[_n,En]=Xt;const{theme:Nn}=En,fi=qe(En,["theme"]);let Pt=fi;Nn&&(Pt=qt(Object.assign(Object.assign({},sn),fi),{override:fi},Nn)),sn[_n]=Pt}),sn};function mt(){const{token:Et,hashed:an,theme:Ht,override:Zt,cssVar:Qt}=s.useContext(d.Mj),vt=`${oe.Z}-${an||""}`,sn=Ht||Be.Z,[Xt,_n,En]=(0,jt.fp)(sn,[lt.Z,Et],{salt:vt,override:Zt,getComputedToken:qt,formatToken:ot.Z,cssVar:Qt&&{prefix:Qt.prefix,key:Qt.key,unitless:De,ignore:Ae,preserve:zt}});return[sn,En,an?_n:"",Xt,Qt]}},33598:function(Kr,bn,he){"use strict";he.d(bn,{Z:function(){return Be}});var s=he(84432),jt=he(30767),oe=he(58570),d=function(lt,ot){var qe={};for(var De in lt)Object.prototype.hasOwnProperty.call(lt,De)&&ot.indexOf(De)<0&&(qe[De]=lt[De]);if(lt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ae=0,De=Object.getOwnPropertySymbols(lt);Ae<De.length;Ae++)ot.indexOf(De[Ae])<0&&Object.prototype.propertyIsEnumerable.call(lt,De[Ae])&&(qe[De[Ae]]=lt[De[Ae]]);return qe};function Be(lt){const{override:ot}=lt,qe=d(lt,["override"]),De=Object.assign({},ot);Object.keys(jt.Z).forEach(Qt=>{delete De[Qt]});const Ae=Object.assign(Object.assign({},qe),De),zt=480,qt=576,mt=768,Et=992,an=1200,Ht=1600;if(Ae.motion===!1){const Qt="0s";Ae.motionDurationFast=Qt,Ae.motionDurationMid=Qt,Ae.motionDurationSlow=Qt}return Object.assign(Object.assign(Object.assign({},Ae),{colorFillContent:Ae.colorFillSecondary,colorFillContentHover:Ae.colorFill,colorFillAlter:Ae.colorFillQuaternary,colorBgContainerDisabled:Ae.colorFillTertiary,colorBorderBg:Ae.colorBgContainer,colorSplit:(0,oe.Z)(Ae.colorBorderSecondary,Ae.colorBgContainer),colorTextPlaceholder:Ae.colorTextQuaternary,colorTextDisabled:Ae.colorTextQuaternary,colorTextHeading:Ae.colorText,colorTextLabel:Ae.colorTextSecondary,colorTextDescription:Ae.colorTextTertiary,colorTextLightSolid:Ae.colorWhite,colorHighlight:Ae.colorError,colorBgTextHover:Ae.colorFillSecondary,colorBgTextActive:Ae.colorFill,colorIcon:Ae.colorTextTertiary,colorIconHover:Ae.colorText,colorErrorOutline:(0,oe.Z)(Ae.colorErrorBg,Ae.colorBgContainer),colorWarningOutline:(0,oe.Z)(Ae.colorWarningBg,Ae.colorBgContainer),fontSizeIcon:Ae.fontSizeSM,lineWidthFocus:Ae.lineWidth*3,lineWidth:Ae.lineWidth,controlOutlineWidth:Ae.lineWidth*2,controlInteractiveSize:Ae.controlHeight/2,controlItemBgHover:Ae.colorFillTertiary,controlItemBgActive:Ae.colorPrimaryBg,controlItemBgActiveHover:Ae.colorPrimaryBgHover,controlItemBgActiveDisabled:Ae.colorFill,controlTmpOutline:Ae.colorFillQuaternary,controlOutline:(0,oe.Z)(Ae.colorPrimaryBg,Ae.colorBgContainer),lineType:Ae.lineType,borderRadius:Ae.borderRadius,borderRadiusXS:Ae.borderRadiusXS,borderRadiusSM:Ae.borderRadiusSM,borderRadiusLG:Ae.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:Ae.sizeXXS,paddingXS:Ae.sizeXS,paddingSM:Ae.sizeSM,padding:Ae.size,paddingMD:Ae.sizeMD,paddingLG:Ae.sizeLG,paddingXL:Ae.sizeXL,paddingContentHorizontalLG:Ae.sizeLG,paddingContentVerticalLG:Ae.sizeMS,paddingContentHorizontal:Ae.sizeMS,paddingContentVertical:Ae.sizeSM,paddingContentHorizontalSM:Ae.size,paddingContentVerticalSM:Ae.sizeXS,marginXXS:Ae.sizeXXS,marginXS:Ae.sizeXS,marginSM:Ae.sizeSM,margin:Ae.size,marginMD:Ae.sizeMD,marginLG:Ae.sizeLG,marginXL:Ae.sizeXL,marginXXL:Ae.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:zt,screenXSMin:zt,screenXSMax:qt-1,screenSM:qt,screenSMMin:qt,screenSMMax:mt-1,screenMD:mt,screenMDMin:mt,screenMDMax:Et-1,screenLG:Et,screenLGMin:Et,screenLGMax:an-1,screenXL:an,screenXLMin:an,screenXLMax:Ht-1,screenXXL:Ht,screenXXLMin:Ht,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new s.t("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new s.t("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new s.t("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),De)}},75428:function(Kr,bn,he){"use strict";he.d(bn,{Z:function(){return jt}});var s=he(98990);function jt(oe,d){return s.i.reduce((Be,lt)=>{const ot=oe[`${lt}1`],qe=oe[`${lt}3`],De=oe[`${lt}6`],Ae=oe[`${lt}7`];return Object.assign(Object.assign({},Be),d(lt,{lightColor:ot,lightBorderColor:qe,darkColor:De,textColor:Ae}))},{})}},84825:function(Kr,bn,he){"use strict";he.d(bn,{A1:function(){return ot},I$:function(){return lt},bk:function(){return qe}});var s=he(75271),jt=he(83509),oe=he(98446),d=he(34299),Be=he(67699);const{genStyleHooks:lt,genComponentStyleHook:ot,genSubStyleComponent:qe}=(0,jt.rb)({usePrefix:()=>{const{getPrefixCls:De,iconPrefixCls:Ae}=(0,s.useContext)(oe.E_);return{rootPrefixCls:De(),iconPrefixCls:Ae}},useToken:()=>{const[De,Ae,zt,qt,mt]=(0,Be.ZP)();return{theme:De,realToken:Ae,hashId:zt,token:qt,cssVar:mt}},useCSP:()=>{const{csp:De}=(0,s.useContext)(oe.E_);return De!=null?De:{}},getResetStyles:(De,Ae)=>{var zt;const qt=(0,d.Lx)(De);return[qt,{"&":qt},(0,d.JT)((zt=Ae==null?void 0:Ae.prefix.iconPrefixCls)!==null&&zt!==void 0?zt:oe.oR)]},getCommonStyle:d.du,getCompUnitless:()=>Be.NJ})},58570:function(Kr,bn,he){"use strict";var s=he(84432);function jt(d){return d>=0&&d<=255}function oe(d,Be){const{r:lt,g:ot,b:qe,a:De}=new s.t(d).toRgb();if(De<1)return d;const{r:Ae,g:zt,b:qt}=new s.t(Be).toRgb();for(let mt=.01;mt<=1;mt+=.01){const Et=Math.round((lt-Ae*(1-mt))/mt),an=Math.round((ot-zt*(1-mt))/mt),Ht=Math.round((qe-qt*(1-mt))/mt);if(jt(Et)&&jt(an)&&jt(Ht))return new s.t({r:Et,g:an,b:Ht,a:Math.round(mt*100)/100}).toRgbString()}return new s.t({r:lt,g:ot,b:qe,a:1}).toRgbString()}bn.Z=oe},85985:function(Kr,bn){"use strict";const he={placeholder:"Select time",rangePlaceholder:["Start time","End time"]};bn.Z=he},9202:function(Kr,bn,he){"use strict";he.d(bn,{Z:function(){return Qr}});var s=he(75271),jt=he(82187),oe=he.n(jt),d=he(75219),Be=he(93954),lt=he(78018),ot=he(19952),qe=he(13635),De=he(5416),Ae=he(26021),zt=he(87117),qt=he(61803),mt=he(67699),Et=he(98446),an=he(55921),Ht=he(34299),Zt=he(3153),Qt=he(18533),vt=he(2276),sn=he(75428),Xt=he(83509),_n=he(84825);const En=Mr=>{const{calc:Jn,componentCls:Rt,tooltipMaxWidth:Tn,tooltipColor:Gn,tooltipBg:mr,tooltipBorderRadius:ir,zIndexPopup:zr,controlHeight:wr,boxShadowSecondary:J,paddingSM:mn,paddingXS:Ui,arrowOffsetHorizontal:ki,sizePopupArrow:Sn}=Mr,ei=Jn(ir).add(Sn).add(ki).equal(),Pi=Jn(ir).mul(2).add(Sn).equal();return[{[Rt]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,Ht.Wf)(Mr)),{position:"absolute",zIndex:zr,display:"block",width:"max-content",maxWidth:Tn,visibility:"visible","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"&-hidden":{display:"none"},"--antd-arrow-background-color":mr,[`${Rt}-inner`]:{minWidth:Pi,minHeight:wr,padding:`${(0,an.bf)(Mr.calc(mn).div(2).equal())} ${(0,an.bf)(Ui)}`,color:Gn,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:mr,borderRadius:ir,boxShadow:J,boxSizing:"border-box"},[["&-placement-topLeft","&-placement-topRight","&-placement-bottomLeft","&-placement-bottomRight"].join(",")]:{minWidth:ei},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${Rt}-inner`]:{borderRadius:Mr.min(ir,Qt.qN)}},[`${Rt}-content`]:{position:"relative"}}),(0,sn.Z)(Mr,(Xr,or)=>{let{darkColor:dr}=or;return{[`&${Rt}-${Xr}`]:{[`${Rt}-inner`]:{backgroundColor:dr},[`${Rt}-arrow`]:{"--antd-arrow-background-color":dr}}}})),{"&-rtl":{direction:"rtl"}})},(0,Qt.ZP)(Mr,"var(--antd-arrow-background-color)"),{[`${Rt}-pure`]:{position:"relative",maxWidth:"none",margin:Mr.sizePopupArrow}}]},Nn=Mr=>Object.assign(Object.assign({zIndexPopup:Mr.zIndexPopupBase+70},(0,Qt.wZ)({contentRadius:Mr.borderRadius,limitVerticalRadius:!0})),(0,vt.w)((0,Xt.IX)(Mr,{borderRadiusOuter:Math.min(Mr.borderRadiusOuter,4)})));var fi=function(Mr){let Jn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return(0,_n.I$)("Tooltip",Tn=>{const{borderRadius:Gn,colorTextLightSolid:mr,colorBgSpotlight:ir}=Tn,zr=(0,Xt.IX)(Tn,{tooltipMaxWidth:250,tooltipColor:mr,tooltipBorderRadius:Gn,tooltipBg:ir});return[En(zr),(0,Zt._y)(Tn,"zoom-big-fast")]},Nn,{resetStyle:!1,injectStyle:Jn})(Mr)},Pt=he(53835);function Hr(Mr,Jn){const Rt=(0,Pt.o2)(Jn),Tn=oe()({[`${Mr}-${Jn}`]:Jn&&Rt}),Gn={},mr={};return Jn&&!Rt&&(Gn.background=Jn,mr["--antd-arrow-background-color"]=Jn),{className:Tn,overlayStyle:Gn,arrowStyle:mr}}var Fn=Mr=>{const{prefixCls:Jn,className:Rt,placement:Tn="top",title:Gn,color:mr,overlayInnerStyle:ir}=Mr,{getPrefixCls:zr}=s.useContext(Et.E_),wr=zr("tooltip",Jn),[J,mn,Ui]=fi(wr),ki=Hr(wr,mr),Sn=ki.arrowStyle,ei=Object.assign(Object.assign({},ir),ki.overlayStyle),Pi=oe()(mn,Ui,wr,`${wr}-pure`,`${wr}-placement-${Tn}`,Rt,ki.className);return J(s.createElement("div",{className:Pi,style:Sn},s.createElement("div",{className:`${wr}-arrow`}),s.createElement(d.G,Object.assign({},Mr,{className:mn,prefixCls:wr,overlayInnerStyle:ei}),Gn)))},Br=function(Mr,Jn){var Rt={};for(var Tn in Mr)Object.prototype.hasOwnProperty.call(Mr,Tn)&&Jn.indexOf(Tn)<0&&(Rt[Tn]=Mr[Tn]);if(Mr!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Gn=0,Tn=Object.getOwnPropertySymbols(Mr);Gn<Tn.length;Gn++)Jn.indexOf(Tn[Gn])<0&&Object.prototype.propertyIsEnumerable.call(Mr,Tn[Gn])&&(Rt[Tn[Gn]]=Mr[Tn[Gn]]);return Rt};const nr=s.forwardRef((Mr,Jn)=>{var Rt,Tn;const{prefixCls:Gn,openClassName:mr,getTooltipContainer:ir,color:zr,overlayInnerStyle:wr,children:J,afterOpenChange:mn,afterVisibleChange:Ui,destroyTooltipOnHide:ki,arrow:Sn=!0,title:ei,overlay:Pi,builtinPlacements:Xr,arrowPointAtCenter:or=!1,autoAdjustOverflow:dr=!0,motion:$i,getPopupContainer:Zo,placement:ha="top",mouseEnterDelay:Da=.1,mouseLeaveDelay:ri=.1,overlayStyle:Ko,rootClassName:Eo,overlayClassName:No,styles:ya,classNames:Oi}=Mr,Gr=Br(Mr,["prefixCls","openClassName","getTooltipContainer","color","overlayInnerStyle","children","afterOpenChange","afterVisibleChange","destroyTooltipOnHide","arrow","title","overlay","builtinPlacements","arrowPointAtCenter","autoAdjustOverflow","motion","getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName","overlayClassName","styles","classNames"]),so=!!Sn,[,Li]=(0,mt.ZP)(),{getPopupContainer:co,getPrefixCls:ws,direction:Or,className:bo,style:Ua,classNames:jr,styles:ia}=(0,Et.dj)("tooltip"),ss=(0,zt.ln)("Tooltip"),Ra=s.useRef(null),po=()=>{var nt;(nt=Ra.current)===null||nt===void 0||nt.forceAlign()};s.useImperativeHandle(Jn,()=>{var nt,Pn;return{forceAlign:po,forcePopupAlign:()=>{ss.deprecated(!1,"forcePopupAlign","forceAlign"),po()},nativeElement:(nt=Ra.current)===null||nt===void 0?void 0:nt.nativeElement,popupElement:(Pn=Ra.current)===null||Pn===void 0?void 0:Pn.popupElement}});const[ds,il]=(0,Be.Z)(!1,{value:(Rt=Mr.open)!==null&&Rt!==void 0?Rt:Mr.visible,defaultValue:(Tn=Mr.defaultOpen)!==null&&Tn!==void 0?Tn:Mr.defaultVisible}),Cn=!ei&&!Pi&&ei!==0,Dn=nt=>{var Pn,ur;il(Cn?!1:nt),Cn||((Pn=Mr.onOpenChange)===null||Pn===void 0||Pn.call(Mr,nt),(ur=Mr.onVisibleChange)===null||ur===void 0||ur.call(Mr,nt))},vn=s.useMemo(()=>{var nt,Pn;let ur=or;return typeof Sn=="object"&&(ur=(Pn=(nt=Sn.pointAtCenter)!==null&&nt!==void 0?nt:Sn.arrowPointAtCenter)!==null&&Pn!==void 0?Pn:or),Xr||(0,De.Z)({arrowPointAtCenter:ur,autoAdjustOverflow:dr,arrowWidth:so?Li.sizePopupArrow:0,borderRadius:Li.borderRadius,offset:Li.marginXXS,visibleFirst:!0})},[or,Sn,Xr,Li]),$r=s.useMemo(()=>ei===0?ei:Pi||ei||"",[Pi,ei]),hi=s.createElement(lt.Z,{space:!0},typeof $r=="function"?$r():$r),vi=ws("tooltip",Gn),oa=ws(),aa=Mr["data-popover-inject"];let Ca=ds;!("open"in Mr)&&!("visible"in Mr)&&Cn&&(Ca=!1);const Bo=s.isValidElement(J)&&!(0,Ae.M2)(J)?J:s.createElement("span",null,J),Po=Bo.props,Jt=!Po.className||typeof Po.className=="string"?oe()(Po.className,mr||`${vi}-open`):Po.className,[xe,Me,Fe]=fi(vi,!aa),ve=Hr(vi,zr),Ve=ve.arrowStyle,fe=oe()(No,{[`${vi}-rtl`]:Or==="rtl"},ve.className,Eo,Me,Fe,bo,jr.root,Oi==null?void 0:Oi.root),Nt=oe()(jr.body,Oi==null?void 0:Oi.body),[It,Ee]=(0,ot.Cn)("Tooltip",Gr.zIndex),Tt=s.createElement(d.Z,Object.assign({},Gr,{zIndex:It,showArrow:so,placement:ha,mouseEnterDelay:Da,mouseLeaveDelay:ri,prefixCls:vi,classNames:{root:fe,body:Nt},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Ve),ia.root),Ua),Ko),ya==null?void 0:ya.root),body:Object.assign(Object.assign(Object.assign(Object.assign({},ia.body),wr),ya==null?void 0:ya.body),ve.overlayStyle)},getTooltipContainer:Zo||ir||co,ref:Ra,builtinPlacements:vn,overlay:hi,visible:Ca,onVisibleChange:Dn,afterVisibleChange:mn!=null?mn:Ui,arrowContent:s.createElement("span",{className:`${vi}-arrow-content`}),motion:{motionName:(0,qe.m)(oa,"zoom-big-fast",Mr.transitionName),motionDeadline:1e3},destroyTooltipOnHide:!!ki}),Ca?(0,Ae.Tm)(Bo,{className:Jt}):Bo);return xe(s.createElement(qt.Z.Provider,{value:Ee},Tt))});nr._InternalPanelDoNotUseOrYouWillBeFired=Fn;var Qr=nr},41424:function(Kr,bn,he){"use strict";he.d(bn,{Z:function(){return jt}});var s="5.24.2",jt=s},16483:function(Kr){(function(bn,he){Kr.exports=he()})(this,function(){"use strict";var bn=1e3,he=6e4,s=36e5,jt="millisecond",oe="second",d="minute",Be="hour",lt="day",ot="week",qe="month",De="quarter",Ae="year",zt="date",qt="Invalid Date",mt=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,Et=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,an={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Hr){var Rn=["th","st","nd","rd"],Fn=Hr%100;return"["+Hr+(Rn[(Fn-20)%10]||Rn[Fn]||Rn[0])+"]"}},Ht=function(Hr,Rn,Fn){var Br=String(Hr);return!Br||Br.length>=Rn?Hr:""+Array(Rn+1-Br.length).join(Fn)+Hr},Zt={s:Ht,z:function(Hr){var Rn=-Hr.utcOffset(),Fn=Math.abs(Rn),Br=Math.floor(Fn/60),Tr=Fn%60;return(Rn<=0?"+":"-")+Ht(Br,2,"0")+":"+Ht(Tr,2,"0")},m:function Hr(Rn,Fn){if(Rn.date()<Fn.date())return-Hr(Fn,Rn);var Br=12*(Fn.year()-Rn.year())+(Fn.month()-Rn.month()),Tr=Rn.clone().add(Br,qe),nr=Fn-Tr<0,Qr=Rn.clone().add(Br+(nr?-1:1),qe);return+(-(Br+(Fn-Tr)/(nr?Tr-Qr:Qr-Tr))||0)},a:function(Hr){return Hr<0?Math.ceil(Hr)||0:Math.floor(Hr)},p:function(Hr){return{M:qe,y:Ae,w:ot,d:lt,D:zt,h:Be,m:d,s:oe,ms:jt,Q:De}[Hr]||String(Hr||"").toLowerCase().replace(/s$/,"")},u:function(Hr){return Hr===void 0}},Qt="en",vt={};vt[Qt]=an;var sn="$isDayjsObject",Xt=function(Hr){return Hr instanceof fi||!(!Hr||!Hr[sn])},_n=function Hr(Rn,Fn,Br){var Tr;if(!Rn)return Qt;if(typeof Rn=="string"){var nr=Rn.toLowerCase();vt[nr]&&(Tr=nr),Fn&&(vt[nr]=Fn,Tr=nr);var Qr=Rn.split("-");if(!Tr&&Qr.length>1)return Hr(Qr[0])}else{var Mr=Rn.name;vt[Mr]=Rn,Tr=Mr}return!Br&&Tr&&(Qt=Tr),Tr||!Br&&Qt},En=function(Hr,Rn){if(Xt(Hr))return Hr.clone();var Fn=typeof Rn=="object"?Rn:{};return Fn.date=Hr,Fn.args=arguments,new fi(Fn)},Nn=Zt;Nn.l=_n,Nn.i=Xt,Nn.w=function(Hr,Rn){return En(Hr,{locale:Rn.$L,utc:Rn.$u,x:Rn.$x,$offset:Rn.$offset})};var fi=function(){function Hr(Fn){this.$L=_n(Fn.locale,null,!0),this.parse(Fn),this.$x=this.$x||Fn.x||{},this[sn]=!0}var Rn=Hr.prototype;return Rn.parse=function(Fn){this.$d=function(Br){var Tr=Br.date,nr=Br.utc;if(Tr===null)return new Date(NaN);if(Nn.u(Tr))return new Date;if(Tr instanceof Date)return new Date(Tr);if(typeof Tr=="string"&&!/Z$/i.test(Tr)){var Qr=Tr.match(mt);if(Qr){var Mr=Qr[2]-1||0,Jn=(Qr[7]||"0").substring(0,3);return nr?new Date(Date.UTC(Qr[1],Mr,Qr[3]||1,Qr[4]||0,Qr[5]||0,Qr[6]||0,Jn)):new Date(Qr[1],Mr,Qr[3]||1,Qr[4]||0,Qr[5]||0,Qr[6]||0,Jn)}}return new Date(Tr)}(Fn),this.init()},Rn.init=function(){var Fn=this.$d;this.$y=Fn.getFullYear(),this.$M=Fn.getMonth(),this.$D=Fn.getDate(),this.$W=Fn.getDay(),this.$H=Fn.getHours(),this.$m=Fn.getMinutes(),this.$s=Fn.getSeconds(),this.$ms=Fn.getMilliseconds()},Rn.$utils=function(){return Nn},Rn.isValid=function(){return this.$d.toString()!==qt},Rn.isSame=function(Fn,Br){var Tr=En(Fn);return this.startOf(Br)<=Tr&&Tr<=this.endOf(Br)},Rn.isAfter=function(Fn,Br){return En(Fn)<this.startOf(Br)},Rn.isBefore=function(Fn,Br){return this.endOf(Br)<En(Fn)},Rn.$g=function(Fn,Br,Tr){return Nn.u(Fn)?this[Br]:this.set(Tr,Fn)},Rn.unix=function(){return Math.floor(this.valueOf()/1e3)},Rn.valueOf=function(){return this.$d.getTime()},Rn.startOf=function(Fn,Br){var Tr=this,nr=!!Nn.u(Br)||Br,Qr=Nn.p(Fn),Mr=function(wr,J){var mn=Nn.w(Tr.$u?Date.UTC(Tr.$y,J,wr):new Date(Tr.$y,J,wr),Tr);return nr?mn:mn.endOf(lt)},Jn=function(wr,J){return Nn.w(Tr.toDate()[wr].apply(Tr.toDate("s"),(nr?[0,0,0,0]:[23,59,59,999]).slice(J)),Tr)},Rt=this.$W,Tn=this.$M,Gn=this.$D,mr="set"+(this.$u?"UTC":"");switch(Qr){case Ae:return nr?Mr(1,0):Mr(31,11);case qe:return nr?Mr(1,Tn):Mr(0,Tn+1);case ot:var ir=this.$locale().weekStart||0,zr=(Rt<ir?Rt+7:Rt)-ir;return Mr(nr?Gn-zr:Gn+(6-zr),Tn);case lt:case zt:return Jn(mr+"Hours",0);case Be:return Jn(mr+"Minutes",1);case d:return Jn(mr+"Seconds",2);case oe:return Jn(mr+"Milliseconds",3);default:return this.clone()}},Rn.endOf=function(Fn){return this.startOf(Fn,!1)},Rn.$set=function(Fn,Br){var Tr,nr=Nn.p(Fn),Qr="set"+(this.$u?"UTC":""),Mr=(Tr={},Tr[lt]=Qr+"Date",Tr[zt]=Qr+"Date",Tr[qe]=Qr+"Month",Tr[Ae]=Qr+"FullYear",Tr[Be]=Qr+"Hours",Tr[d]=Qr+"Minutes",Tr[oe]=Qr+"Seconds",Tr[jt]=Qr+"Milliseconds",Tr)[nr],Jn=nr===lt?this.$D+(Br-this.$W):Br;if(nr===qe||nr===Ae){var Rt=this.clone().set(zt,1);Rt.$d[Mr](Jn),Rt.init(),this.$d=Rt.set(zt,Math.min(this.$D,Rt.daysInMonth())).$d}else Mr&&this.$d[Mr](Jn);return this.init(),this},Rn.set=function(Fn,Br){return this.clone().$set(Fn,Br)},Rn.get=function(Fn){return this[Nn.p(Fn)]()},Rn.add=function(Fn,Br){var Tr,nr=this;Fn=Number(Fn);var Qr=Nn.p(Br),Mr=function(Tn){var Gn=En(nr);return Nn.w(Gn.date(Gn.date()+Math.round(Tn*Fn)),nr)};if(Qr===qe)return this.set(qe,this.$M+Fn);if(Qr===Ae)return this.set(Ae,this.$y+Fn);if(Qr===lt)return Mr(1);if(Qr===ot)return Mr(7);var Jn=(Tr={},Tr[d]=he,Tr[Be]=s,Tr[oe]=bn,Tr)[Qr]||1,Rt=this.$d.getTime()+Fn*Jn;return Nn.w(Rt,this)},Rn.subtract=function(Fn,Br){return this.add(-1*Fn,Br)},Rn.format=function(Fn){var Br=this,Tr=this.$locale();if(!this.isValid())return Tr.invalidDate||qt;var nr=Fn||"YYYY-MM-DDTHH:mm:ssZ",Qr=Nn.z(this),Mr=this.$H,Jn=this.$m,Rt=this.$M,Tn=Tr.weekdays,Gn=Tr.months,mr=Tr.meridiem,ir=function(J,mn,Ui,ki){return J&&(J[mn]||J(Br,nr))||Ui[mn].slice(0,ki)},zr=function(J){return Nn.s(Mr%12||12,J,"0")},wr=mr||function(J,mn,Ui){var ki=J<12?"AM":"PM";return Ui?ki.toLowerCase():ki};return nr.replace(Et,function(J,mn){return mn||function(Ui){switch(Ui){case"YY":return String(Br.$y).slice(-2);case"YYYY":return Nn.s(Br.$y,4,"0");case"M":return Rt+1;case"MM":return Nn.s(Rt+1,2,"0");case"MMM":return ir(Tr.monthsShort,Rt,Gn,3);case"MMMM":return ir(Gn,Rt);case"D":return Br.$D;case"DD":return Nn.s(Br.$D,2,"0");case"d":return String(Br.$W);case"dd":return ir(Tr.weekdaysMin,Br.$W,Tn,2);case"ddd":return ir(Tr.weekdaysShort,Br.$W,Tn,3);case"dddd":return Tn[Br.$W];case"H":return String(Mr);case"HH":return Nn.s(Mr,2,"0");case"h":return zr(1);case"hh":return zr(2);case"a":return wr(Mr,Jn,!0);case"A":return wr(Mr,Jn,!1);case"m":return String(Jn);case"mm":return Nn.s(Jn,2,"0");case"s":return String(Br.$s);case"ss":return Nn.s(Br.$s,2,"0");case"SSS":return Nn.s(Br.$ms,3,"0");case"Z":return Qr}return null}(J)||Qr.replace(":","")})},Rn.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},Rn.diff=function(Fn,Br,Tr){var nr,Qr=this,Mr=Nn.p(Br),Jn=En(Fn),Rt=(Jn.utcOffset()-this.utcOffset())*he,Tn=this-Jn,Gn=function(){return Nn.m(Qr,Jn)};switch(Mr){case Ae:nr=Gn()/12;break;case qe:nr=Gn();break;case De:nr=Gn()/3;break;case ot:nr=(Tn-Rt)/6048e5;break;case lt:nr=(Tn-Rt)/864e5;break;case Be:nr=Tn/s;break;case d:nr=Tn/he;break;case oe:nr=Tn/bn;break;default:nr=Tn}return Tr?nr:Nn.a(nr)},Rn.daysInMonth=function(){return this.endOf(qe).$D},Rn.$locale=function(){return vt[this.$L]},Rn.locale=function(Fn,Br){if(!Fn)return this.$L;var Tr=this.clone(),nr=_n(Fn,Br,!0);return nr&&(Tr.$L=nr),Tr},Rn.clone=function(){return Nn.w(this.$d,this)},Rn.toDate=function(){return new Date(this.valueOf())},Rn.toJSON=function(){return this.isValid()?this.toISOString():null},Rn.toISOString=function(){return this.$d.toISOString()},Rn.toString=function(){return this.$d.toUTCString()},Hr}(),Pt=fi.prototype;return En.prototype=Pt,[["$ms",jt],["$s",oe],["$m",d],["$H",Be],["$W",lt],["$M",qe],["$y",Ae],["$D",zt]].forEach(function(Hr){Pt[Hr[1]]=function(Rn){return this.$g(Rn,Hr[0],Hr[1])}}),En.extend=function(Hr,Rn){return Hr.$i||(Hr(Rn,fi,En),Hr.$i=!0),En},En.locale=_n,En.isDayjs=Xt,En.unix=function(Hr){return En(1e3*Hr)},En.en=vt[Qt],En.Ls=vt,En.p={},En})},79771:function(Kr){(function(bn,he){Kr.exports=he()})(this,function(){"use strict";return function(bn,he){var s=he.prototype,jt=s.format;s.format=function(oe){var d=this,Be=this.$locale();if(!this.isValid())return jt.bind(this)(oe);var lt=this.$utils(),ot=(oe||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(qe){switch(qe){case"Q":return Math.ceil((d.$M+1)/3);case"Do":return Be.ordinal(d.$D);case"gggg":return d.weekYear();case"GGGG":return d.isoWeekYear();case"wo":return Be.ordinal(d.week(),"W");case"w":case"ww":return lt.s(d.week(),qe==="w"?1:2,"0");case"W":case"WW":return lt.s(d.isoWeek(),qe==="W"?1:2,"0");case"k":case"kk":return lt.s(String(d.$H===0?24:d.$H),qe==="k"?1:2,"0");case"X":return Math.floor(d.$d.getTime()/1e3);case"x":return d.$d.getTime();case"z":return"["+d.offsetName()+"]";case"zzz":return"["+d.offsetName("long")+"]";default:return qe}});return jt.bind(this)(ot)}}})},30156:function(Kr){(function(bn,he){Kr.exports=he()})(this,function(){"use strict";var bn={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},he=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,s=/\d/,jt=/\d\d/,oe=/\d\d?/,d=/\d*[^-_:/,()\s\d]+/,Be={},lt=function(mt){return(mt=+mt)+(mt>68?1900:2e3)},ot=function(mt){return function(Et){this[mt]=+Et}},qe=[/[+-]\d\d:?(\d\d)?|Z/,function(mt){(this.zone||(this.zone={})).offset=function(Et){if(!Et||Et==="Z")return 0;var an=Et.match(/([+-]|\d\d)/g),Ht=60*an[1]+(+an[2]||0);return Ht===0?0:an[0]==="+"?-Ht:Ht}(mt)}],De=function(mt){var Et=Be[mt];return Et&&(Et.indexOf?Et:Et.s.concat(Et.f))},Ae=function(mt,Et){var an,Ht=Be.meridiem;if(Ht){for(var Zt=1;Zt<=24;Zt+=1)if(mt.indexOf(Ht(Zt,0,Et))>-1){an=Zt>12;break}}else an=mt===(Et?"pm":"PM");return an},zt={A:[d,function(mt){this.afternoon=Ae(mt,!1)}],a:[d,function(mt){this.afternoon=Ae(mt,!0)}],Q:[s,function(mt){this.month=3*(mt-1)+1}],S:[s,function(mt){this.milliseconds=100*+mt}],SS:[jt,function(mt){this.milliseconds=10*+mt}],SSS:[/\d{3}/,function(mt){this.milliseconds=+mt}],s:[oe,ot("seconds")],ss:[oe,ot("seconds")],m:[oe,ot("minutes")],mm:[oe,ot("minutes")],H:[oe,ot("hours")],h:[oe,ot("hours")],HH:[oe,ot("hours")],hh:[oe,ot("hours")],D:[oe,ot("day")],DD:[jt,ot("day")],Do:[d,function(mt){var Et=Be.ordinal,an=mt.match(/\d+/);if(this.day=an[0],Et)for(var Ht=1;Ht<=31;Ht+=1)Et(Ht).replace(/\[|\]/g,"")===mt&&(this.day=Ht)}],w:[oe,ot("week")],ww:[jt,ot("week")],M:[oe,ot("month")],MM:[jt,ot("month")],MMM:[d,function(mt){var Et=De("months"),an=(De("monthsShort")||Et.map(function(Ht){return Ht.slice(0,3)})).indexOf(mt)+1;if(an<1)throw new Error;this.month=an%12||an}],MMMM:[d,function(mt){var Et=De("months").indexOf(mt)+1;if(Et<1)throw new Error;this.month=Et%12||Et}],Y:[/[+-]?\d+/,ot("year")],YY:[jt,function(mt){this.year=lt(mt)}],YYYY:[/\d{4}/,ot("year")],Z:qe,ZZ:qe};function qt(mt){var Et,an;Et=mt,an=Be&&Be.formats;for(var Ht=(mt=Et.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(En,Nn,fi){var Pt=fi&&fi.toUpperCase();return Nn||an[fi]||bn[fi]||an[Pt].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(Hr,Rn,Fn){return Rn||Fn.slice(1)})})).match(he),Zt=Ht.length,Qt=0;Qt<Zt;Qt+=1){var vt=Ht[Qt],sn=zt[vt],Xt=sn&&sn[0],_n=sn&&sn[1];Ht[Qt]=_n?{regex:Xt,parser:_n}:vt.replace(/^\[|\]$/g,"")}return function(En){for(var Nn={},fi=0,Pt=0;fi<Zt;fi+=1){var Hr=Ht[fi];if(typeof Hr=="string")Pt+=Hr.length;else{var Rn=Hr.regex,Fn=Hr.parser,Br=En.slice(Pt),Tr=Rn.exec(Br)[0];Fn.call(Nn,Tr),En=En.replace(Tr,"")}}return function(nr){var Qr=nr.afternoon;if(Qr!==void 0){var Mr=nr.hours;Qr?Mr<12&&(nr.hours+=12):Mr===12&&(nr.hours=0),delete nr.afternoon}}(Nn),Nn}}return function(mt,Et,an){an.p.customParseFormat=!0,mt&&mt.parseTwoDigitYear&&(lt=mt.parseTwoDigitYear);var Ht=Et.prototype,Zt=Ht.parse;Ht.parse=function(Qt){var vt=Qt.date,sn=Qt.utc,Xt=Qt.args;this.$u=sn;var _n=Xt[1];if(typeof _n=="string"){var En=Xt[2]===!0,Nn=Xt[3]===!0,fi=En||Nn,Pt=Xt[2];Nn&&(Pt=Xt[2]),Be=this.$locale(),!En&&Pt&&(Be=an.Ls[Pt]),this.$d=function(Br,Tr,nr,Qr){try{if(["x","X"].indexOf(Tr)>-1)return new Date((Tr==="X"?1e3:1)*Br);var Mr=qt(Tr)(Br),Jn=Mr.year,Rt=Mr.month,Tn=Mr.day,Gn=Mr.hours,mr=Mr.minutes,ir=Mr.seconds,zr=Mr.milliseconds,wr=Mr.zone,J=Mr.week,mn=new Date,Ui=Tn||(Jn||Rt?1:mn.getDate()),ki=Jn||mn.getFullYear(),Sn=0;Jn&&!Rt||(Sn=Rt>0?Rt-1:mn.getMonth());var ei,Pi=Gn||0,Xr=mr||0,or=ir||0,dr=zr||0;return wr?new Date(Date.UTC(ki,Sn,Ui,Pi,Xr,or,dr+60*wr.offset*1e3)):nr?new Date(Date.UTC(ki,Sn,Ui,Pi,Xr,or,dr)):(ei=new Date(ki,Sn,Ui,Pi,Xr,or,dr),J&&(ei=Qr(ei).week(J).toDate()),ei)}catch($i){return new Date("")}}(vt,_n,sn,an),this.init(),Pt&&Pt!==!0&&(this.$L=this.locale(Pt).$L),fi&&vt!=this.format(_n)&&(this.$d=new Date("")),Be={}}else if(_n instanceof Array)for(var Hr=_n.length,Rn=1;Rn<=Hr;Rn+=1){Xt[1]=_n[Rn-1];var Fn=an.apply(this,Xt);if(Fn.isValid()){this.$d=Fn.$d,this.$L=Fn.$L,this.init();break}Rn===Hr&&(this.$d=new Date(""))}else Zt.call(this,Qt)}}})},2845:function(Kr){(function(bn,he){Kr.exports=he()})(this,function(){"use strict";return function(bn,he,s){var jt=he.prototype,oe=function(qe){return qe&&(qe.indexOf?qe:qe.s)},d=function(qe,De,Ae,zt,qt){var mt=qe.name?qe:qe.$locale(),Et=oe(mt[De]),an=oe(mt[Ae]),Ht=Et||an.map(function(Qt){return Qt.slice(0,zt)});if(!qt)return Ht;var Zt=mt.weekStart;return Ht.map(function(Qt,vt){return Ht[(vt+(Zt||0))%7]})},Be=function(){return s.Ls[s.locale()]},lt=function(qe,De){return qe.formats[De]||function(Ae){return Ae.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(zt,qt,mt){return qt||mt.slice(1)})}(qe.formats[De.toUpperCase()])},ot=function(){var qe=this;return{months:function(De){return De?De.format("MMMM"):d(qe,"months")},monthsShort:function(De){return De?De.format("MMM"):d(qe,"monthsShort","months",3)},firstDayOfWeek:function(){return qe.$locale().weekStart||0},weekdays:function(De){return De?De.format("dddd"):d(qe,"weekdays")},weekdaysMin:function(De){return De?De.format("dd"):d(qe,"weekdaysMin","weekdays",2)},weekdaysShort:function(De){return De?De.format("ddd"):d(qe,"weekdaysShort","weekdays",3)},longDateFormat:function(De){return lt(qe.$locale(),De)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};jt.localeData=function(){return ot.bind(this)()},s.localeData=function(){var qe=Be();return{firstDayOfWeek:function(){return qe.weekStart||0},weekdays:function(){return s.weekdays()},weekdaysShort:function(){return s.weekdaysShort()},weekdaysMin:function(){return s.weekdaysMin()},months:function(){return s.months()},monthsShort:function(){return s.monthsShort()},longDateFormat:function(De){return lt(qe,De)},meridiem:qe.meridiem,ordinal:qe.ordinal}},s.months=function(){return d(Be(),"months")},s.monthsShort=function(){return d(Be(),"monthsShort","months",3)},s.weekdays=function(qe){return d(Be(),"weekdays",null,null,qe)},s.weekdaysShort=function(qe){return d(Be(),"weekdaysShort","weekdays",3,qe)},s.weekdaysMin=function(qe){return d(Be(),"weekdaysMin","weekdays",2,qe)}}})},88777:function(Kr){(function(bn,he){Kr.exports=he()})(this,function(){"use strict";var bn="week",he="year";return function(s,jt,oe){var d=jt.prototype;d.week=function(Be){if(Be===void 0&&(Be=null),Be!==null)return this.add(7*(Be-this.week()),"day");var lt=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var ot=oe(this).startOf(he).add(1,he).date(lt),qe=oe(this).endOf(bn);if(ot.isBefore(qe))return 1}var De=oe(this).startOf(he).date(lt).startOf(bn).subtract(1,"millisecond"),Ae=this.diff(De,bn,!0);return Ae<0?oe(this).startOf("week").week():Math.ceil(Ae)},d.weeks=function(Be){return Be===void 0&&(Be=null),this.week(Be)}}})},41466:function(Kr){(function(bn,he){Kr.exports=he()})(this,function(){"use strict";return function(bn,he){he.prototype.weekYear=function(){var s=this.month(),jt=this.week(),oe=this.year();return jt===1&&s===11?oe+1:s===0&&jt>=52?oe-1:oe}}})},92098:function(Kr){(function(bn,he){Kr.exports=he()})(this,function(){"use strict";return function(bn,he){he.prototype.weekday=function(s){var jt=this.$locale().weekStart||0,oe=this.$W,d=(oe<jt?oe+7:oe)-jt;return this.$utils().u(s)?d:this.subtract(d,"day").add(s,"day")}}})},55518:function(Kr,bn,he){var s=he(3806),jt=function(Be){var lt=/[height|width]$/;return lt.test(Be)},oe=function(Be){var lt="",ot=Object.keys(Be);return ot.forEach(function(qe,De){var Ae=Be[qe];qe=s(qe),jt(qe)&&typeof Ae=="number"&&(Ae=Ae+"px"),Ae===!0?lt+=qe:Ae===!1?lt+="not "+qe:lt+="("+qe+": "+Ae+")",De<ot.length-1&&(lt+=" and ")}),lt},d=function(Be){var lt="";return typeof Be=="string"?Be:Be instanceof Array?(Be.forEach(function(ot,qe){lt+=oe(ot),qe<Be.length-1&&(lt+=", ")}),lt):oe(Be)};Kr.exports=d},95959:function(Kr){(function(bn,he){Kr.exports=he()})(this,function(){"use strict";var bn,he,s;function jt(d,Be){if(!bn)bn=Be;else if(!he)he=Be;else{var lt="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+bn+")(sharedChunk); ("+he+")(sharedChunk); self.onerror = null;",ot={};bn(ot),s=Be(ot),typeof window!="undefined"&&window&&window.URL&&window.URL.createObjectURL&&(s.workerUrl=window.URL.createObjectURL(new Blob([lt],{type:"text/javascript"})))}}jt(["exports"],function(d){function Be(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var lt,ot={},qe={};function De(){if(lt)return qe;lt=1,Object.defineProperty(qe,"__esModule",{value:!0}),qe.setMatrixArrayType=function(v){qe.ARRAY_TYPE=n=v},qe.toRadian=function(v){return v*f},qe.equals=function(v,h){return Math.abs(v-h)<=c*Math.max(1,Math.abs(v),Math.abs(h))},qe.RANDOM=qe.ARRAY_TYPE=qe.EPSILON=void 0;var c=1e-6;qe.EPSILON=c;var n=typeof Float32Array!="undefined"?Float32Array:Array;qe.ARRAY_TYPE=n;var a=Math.random;qe.RANDOM=a;var f=Math.PI/180;return Math.hypot||(Math.hypot=function(){for(var v=0,h=arguments.length;h--;)v+=arguments[h]*arguments[h];return Math.sqrt(v)}),qe}var Ae,zt={};function qt(){if(Ae)return zt;function c(h){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},c(h)}Ae=1,Object.defineProperty(zt,"__esModule",{value:!0}),zt.create=function(){var h=new n.ARRAY_TYPE(4);return n.ARRAY_TYPE!=Float32Array&&(h[1]=0,h[2]=0),h[0]=1,h[3]=1,h},zt.clone=function(h){var y=new n.ARRAY_TYPE(4);return y[0]=h[0],y[1]=h[1],y[2]=h[2],y[3]=h[3],y},zt.copy=function(h,y){return h[0]=y[0],h[1]=y[1],h[2]=y[2],h[3]=y[3],h},zt.identity=function(h){return h[0]=1,h[1]=0,h[2]=0,h[3]=1,h},zt.fromValues=function(h,y,E,O){var L=new n.ARRAY_TYPE(4);return L[0]=h,L[1]=y,L[2]=E,L[3]=O,L},zt.set=function(h,y,E,O,L){return h[0]=y,h[1]=E,h[2]=O,h[3]=L,h},zt.transpose=function(h,y){if(h===y){var E=y[1];h[1]=y[2],h[2]=E}else h[0]=y[0],h[1]=y[2],h[2]=y[1],h[3]=y[3];return h},zt.invert=function(h,y){var E=y[0],O=y[1],L=y[2],C=y[3],$=E*C-L*O;return $?(h[0]=C*($=1/$),h[1]=-O*$,h[2]=-L*$,h[3]=E*$,h):null},zt.adjoint=function(h,y){var E=y[0];return h[0]=y[3],h[1]=-y[1],h[2]=-y[2],h[3]=E,h},zt.determinant=function(h){return h[0]*h[3]-h[2]*h[1]},zt.multiply=f,zt.rotate=function(h,y,E){var O=y[0],L=y[1],C=y[2],$=y[3],z=Math.sin(E),P=Math.cos(E);return h[0]=O*P+C*z,h[1]=L*P+$*z,h[2]=O*-z+C*P,h[3]=L*-z+$*P,h},zt.scale=function(h,y,E){var O=y[1],L=y[2],C=y[3],$=E[0],z=E[1];return h[0]=y[0]*$,h[1]=O*$,h[2]=L*z,h[3]=C*z,h},zt.fromRotation=function(h,y){var E=Math.sin(y),O=Math.cos(y);return h[0]=O,h[1]=E,h[2]=-E,h[3]=O,h},zt.fromScaling=function(h,y){return h[0]=y[0],h[1]=0,h[2]=0,h[3]=y[1],h},zt.str=function(h){return"mat2("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+")"},zt.frob=function(h){return Math.hypot(h[0],h[1],h[2],h[3])},zt.LDU=function(h,y,E,O){return h[2]=O[2]/O[0],E[0]=O[0],E[1]=O[1],E[3]=O[3]-h[2]*E[1],[h,y,E]},zt.add=function(h,y,E){return h[0]=y[0]+E[0],h[1]=y[1]+E[1],h[2]=y[2]+E[2],h[3]=y[3]+E[3],h},zt.subtract=v,zt.exactEquals=function(h,y){return h[0]===y[0]&&h[1]===y[1]&&h[2]===y[2]&&h[3]===y[3]},zt.equals=function(h,y){var E=h[0],O=h[1],L=h[2],C=h[3],$=y[0],z=y[1],P=y[2],A=y[3];return Math.abs(E-$)<=n.EPSILON*Math.max(1,Math.abs(E),Math.abs($))&&Math.abs(O-z)<=n.EPSILON*Math.max(1,Math.abs(O),Math.abs(z))&&Math.abs(L-P)<=n.EPSILON*Math.max(1,Math.abs(L),Math.abs(P))&&Math.abs(C-A)<=n.EPSILON*Math.max(1,Math.abs(C),Math.abs(A))},zt.multiplyScalar=function(h,y,E){return h[0]=y[0]*E,h[1]=y[1]*E,h[2]=y[2]*E,h[3]=y[3]*E,h},zt.multiplyScalarAndAdd=function(h,y,E,O){return h[0]=y[0]+E[0]*O,h[1]=y[1]+E[1]*O,h[2]=y[2]+E[2]*O,h[3]=y[3]+E[3]*O,h},zt.sub=zt.mul=void 0;var n=function(h,y){if(h&&h.__esModule)return h;if(h===null||c(h)!=="object"&&typeof h!="function")return{default:h};var E=a(void 0);if(E&&E.has(h))return E.get(h);var O={},L=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var C in h)if(C!=="default"&&Object.prototype.hasOwnProperty.call(h,C)){var $=L?Object.getOwnPropertyDescriptor(h,C):null;$&&($.get||$.set)?Object.defineProperty(O,C,$):O[C]=h[C]}return O.default=h,E&&E.set(h,O),O}(De());function a(h){if(typeof WeakMap!="function")return null;var y=new WeakMap,E=new WeakMap;return(a=function(O){return O?E:y})(h)}function f(h,y,E){var O=y[0],L=y[1],C=y[2],$=y[3],z=E[0],P=E[1],A=E[2],k=E[3];return h[0]=O*z+C*P,h[1]=L*z+$*P,h[2]=O*A+C*k,h[3]=L*A+$*k,h}function v(h,y,E){return h[0]=y[0]-E[0],h[1]=y[1]-E[1],h[2]=y[2]-E[2],h[3]=y[3]-E[3],h}return zt.mul=f,zt.sub=v,zt}var mt,Et={};function an(){if(mt)return Et;function c(h){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},c(h)}mt=1,Object.defineProperty(Et,"__esModule",{value:!0}),Et.create=function(){var h=new n.ARRAY_TYPE(6);return n.ARRAY_TYPE!=Float32Array&&(h[1]=0,h[2]=0,h[4]=0,h[5]=0),h[0]=1,h[3]=1,h},Et.clone=function(h){var y=new n.ARRAY_TYPE(6);return y[0]=h[0],y[1]=h[1],y[2]=h[2],y[3]=h[3],y[4]=h[4],y[5]=h[5],y},Et.copy=function(h,y){return h[0]=y[0],h[1]=y[1],h[2]=y[2],h[3]=y[3],h[4]=y[4],h[5]=y[5],h},Et.identity=function(h){return h[0]=1,h[1]=0,h[2]=0,h[3]=1,h[4]=0,h[5]=0,h},Et.fromValues=function(h,y,E,O,L,C){var $=new n.ARRAY_TYPE(6);return $[0]=h,$[1]=y,$[2]=E,$[3]=O,$[4]=L,$[5]=C,$},Et.set=function(h,y,E,O,L,C,$){return h[0]=y,h[1]=E,h[2]=O,h[3]=L,h[4]=C,h[5]=$,h},Et.invert=function(h,y){var E=y[0],O=y[1],L=y[2],C=y[3],$=y[4],z=y[5],P=E*C-O*L;return P?(h[0]=C*(P=1/P),h[1]=-O*P,h[2]=-L*P,h[3]=E*P,h[4]=(L*z-C*$)*P,h[5]=(O*$-E*z)*P,h):null},Et.determinant=function(h){return h[0]*h[3]-h[1]*h[2]},Et.multiply=f,Et.rotate=function(h,y,E){var O=y[0],L=y[1],C=y[2],$=y[3],z=y[4],P=y[5],A=Math.sin(E),k=Math.cos(E);return h[0]=O*k+C*A,h[1]=L*k+$*A,h[2]=O*-A+C*k,h[3]=L*-A+$*k,h[4]=z,h[5]=P,h},Et.scale=function(h,y,E){var O=y[1],L=y[2],C=y[3],$=y[4],z=y[5],P=E[0],A=E[1];return h[0]=y[0]*P,h[1]=O*P,h[2]=L*A,h[3]=C*A,h[4]=$,h[5]=z,h},Et.translate=function(h,y,E){var O=y[0],L=y[1],C=y[2],$=y[3],z=y[4],P=y[5],A=E[0],k=E[1];return h[0]=O,h[1]=L,h[2]=C,h[3]=$,h[4]=O*A+C*k+z,h[5]=L*A+$*k+P,h},Et.fromRotation=function(h,y){var E=Math.sin(y),O=Math.cos(y);return h[0]=O,h[1]=E,h[2]=-E,h[3]=O,h[4]=0,h[5]=0,h},Et.fromScaling=function(h,y){return h[0]=y[0],h[1]=0,h[2]=0,h[3]=y[1],h[4]=0,h[5]=0,h},Et.fromTranslation=function(h,y){return h[0]=1,h[1]=0,h[2]=0,h[3]=1,h[4]=y[0],h[5]=y[1],h},Et.str=function(h){return"mat2d("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+", "+h[4]+", "+h[5]+")"},Et.frob=function(h){return Math.hypot(h[0],h[1],h[2],h[3],h[4],h[5],1)},Et.add=function(h,y,E){return h[0]=y[0]+E[0],h[1]=y[1]+E[1],h[2]=y[2]+E[2],h[3]=y[3]+E[3],h[4]=y[4]+E[4],h[5]=y[5]+E[5],h},Et.subtract=v,Et.multiplyScalar=function(h,y,E){return h[0]=y[0]*E,h[1]=y[1]*E,h[2]=y[2]*E,h[3]=y[3]*E,h[4]=y[4]*E,h[5]=y[5]*E,h},Et.multiplyScalarAndAdd=function(h,y,E,O){return h[0]=y[0]+E[0]*O,h[1]=y[1]+E[1]*O,h[2]=y[2]+E[2]*O,h[3]=y[3]+E[3]*O,h[4]=y[4]+E[4]*O,h[5]=y[5]+E[5]*O,h},Et.exactEquals=function(h,y){return h[0]===y[0]&&h[1]===y[1]&&h[2]===y[2]&&h[3]===y[3]&&h[4]===y[4]&&h[5]===y[5]},Et.equals=function(h,y){var E=h[0],O=h[1],L=h[2],C=h[3],$=h[4],z=h[5],P=y[0],A=y[1],k=y[2],X=y[3],ee=y[4],le=y[5];return Math.abs(E-P)<=n.EPSILON*Math.max(1,Math.abs(E),Math.abs(P))&&Math.abs(O-A)<=n.EPSILON*Math.max(1,Math.abs(O),Math.abs(A))&&Math.abs(L-k)<=n.EPSILON*Math.max(1,Math.abs(L),Math.abs(k))&&Math.abs(C-X)<=n.EPSILON*Math.max(1,Math.abs(C),Math.abs(X))&&Math.abs($-ee)<=n.EPSILON*Math.max(1,Math.abs($),Math.abs(ee))&&Math.abs(z-le)<=n.EPSILON*Math.max(1,Math.abs(z),Math.abs(le))},Et.sub=Et.mul=void 0;var n=function(h,y){if(h&&h.__esModule)return h;if(h===null||c(h)!=="object"&&typeof h!="function")return{default:h};var E=a(void 0);if(E&&E.has(h))return E.get(h);var O={},L=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var C in h)if(C!=="default"&&Object.prototype.hasOwnProperty.call(h,C)){var $=L?Object.getOwnPropertyDescriptor(h,C):null;$&&($.get||$.set)?Object.defineProperty(O,C,$):O[C]=h[C]}return O.default=h,E&&E.set(h,O),O}(De());function a(h){if(typeof WeakMap!="function")return null;var y=new WeakMap,E=new WeakMap;return(a=function(O){return O?E:y})(h)}function f(h,y,E){var O=y[0],L=y[1],C=y[2],$=y[3],z=y[4],P=y[5],A=E[0],k=E[1],X=E[2],ee=E[3],le=E[4],ue=E[5];return h[0]=O*A+C*k,h[1]=L*A+$*k,h[2]=O*X+C*ee,h[3]=L*X+$*ee,h[4]=O*le+C*ue+z,h[5]=L*le+$*ue+P,h}function v(h,y,E){return h[0]=y[0]-E[0],h[1]=y[1]-E[1],h[2]=y[2]-E[2],h[3]=y[3]-E[3],h[4]=y[4]-E[4],h[5]=y[5]-E[5],h}return Et.mul=f,Et.sub=v,Et}var Ht,Zt={};function Qt(){if(Ht)return Zt;function c(h){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},c(h)}Ht=1,Object.defineProperty(Zt,"__esModule",{value:!0}),Zt.create=function(){var h=new n.ARRAY_TYPE(9);return n.ARRAY_TYPE!=Float32Array&&(h[1]=0,h[2]=0,h[3]=0,h[5]=0,h[6]=0,h[7]=0),h[0]=1,h[4]=1,h[8]=1,h},Zt.fromMat4=function(h,y){return h[0]=y[0],h[1]=y[1],h[2]=y[2],h[3]=y[4],h[4]=y[5],h[5]=y[6],h[6]=y[8],h[7]=y[9],h[8]=y[10],h},Zt.clone=function(h){var y=new n.ARRAY_TYPE(9);return y[0]=h[0],y[1]=h[1],y[2]=h[2],y[3]=h[3],y[4]=h[4],y[5]=h[5],y[6]=h[6],y[7]=h[7],y[8]=h[8],y},Zt.copy=function(h,y){return h[0]=y[0],h[1]=y[1],h[2]=y[2],h[3]=y[3],h[4]=y[4],h[5]=y[5],h[6]=y[6],h[7]=y[7],h[8]=y[8],h},Zt.fromValues=function(h,y,E,O,L,C,$,z,P){var A=new n.ARRAY_TYPE(9);return A[0]=h,A[1]=y,A[2]=E,A[3]=O,A[4]=L,A[5]=C,A[6]=$,A[7]=z,A[8]=P,A},Zt.set=function(h,y,E,O,L,C,$,z,P,A){return h[0]=y,h[1]=E,h[2]=O,h[3]=L,h[4]=C,h[5]=$,h[6]=z,h[7]=P,h[8]=A,h},Zt.identity=function(h){return h[0]=1,h[1]=0,h[2]=0,h[3]=0,h[4]=1,h[5]=0,h[6]=0,h[7]=0,h[8]=1,h},Zt.transpose=function(h,y){if(h===y){var E=y[1],O=y[2],L=y[5];h[1]=y[3],h[2]=y[6],h[3]=E,h[5]=y[7],h[6]=O,h[7]=L}else h[0]=y[0],h[1]=y[3],h[2]=y[6],h[3]=y[1],h[4]=y[4],h[5]=y[7],h[6]=y[2],h[7]=y[5],h[8]=y[8];return h},Zt.invert=function(h,y){var E=y[0],O=y[1],L=y[2],C=y[3],$=y[4],z=y[5],P=y[6],A=y[7],k=y[8],X=k*$-z*A,ee=-k*C+z*P,le=A*C-$*P,ue=E*X+O*ee+L*le;return ue?(h[0]=X*(ue=1/ue),h[1]=(-k*O+L*A)*ue,h[2]=(z*O-L*$)*ue,h[3]=ee*ue,h[4]=(k*E-L*P)*ue,h[5]=(-z*E+L*C)*ue,h[6]=le*ue,h[7]=(-A*E+O*P)*ue,h[8]=($*E-O*C)*ue,h):null},Zt.adjoint=function(h,y){var E=y[0],O=y[1],L=y[2],C=y[3],$=y[4],z=y[5],P=y[6],A=y[7],k=y[8];return h[0]=$*k-z*A,h[1]=L*A-O*k,h[2]=O*z-L*$,h[3]=z*P-C*k,h[4]=E*k-L*P,h[5]=L*C-E*z,h[6]=C*A-$*P,h[7]=O*P-E*A,h[8]=E*$-O*C,h},Zt.determinant=function(h){var y=h[3],E=h[4],O=h[5],L=h[6],C=h[7],$=h[8];return h[0]*($*E-O*C)+h[1]*(-$*y+O*L)+h[2]*(C*y-E*L)},Zt.multiply=f,Zt.translate=function(h,y,E){var O=y[0],L=y[1],C=y[2],$=y[3],z=y[4],P=y[5],A=y[6],k=y[7],X=y[8],ee=E[0],le=E[1];return h[0]=O,h[1]=L,h[2]=C,h[3]=$,h[4]=z,h[5]=P,h[6]=ee*O+le*$+A,h[7]=ee*L+le*z+k,h[8]=ee*C+le*P+X,h},Zt.rotate=function(h,y,E){var O=y[0],L=y[1],C=y[2],$=y[3],z=y[4],P=y[5],A=y[6],k=y[7],X=y[8],ee=Math.sin(E),le=Math.cos(E);return h[0]=le*O+ee*$,h[1]=le*L+ee*z,h[2]=le*C+ee*P,h[3]=le*$-ee*O,h[4]=le*z-ee*L,h[5]=le*P-ee*C,h[6]=A,h[7]=k,h[8]=X,h},Zt.scale=function(h,y,E){var O=E[0],L=E[1];return h[0]=O*y[0],h[1]=O*y[1],h[2]=O*y[2],h[3]=L*y[3],h[4]=L*y[4],h[5]=L*y[5],h[6]=y[6],h[7]=y[7],h[8]=y[8],h},Zt.fromTranslation=function(h,y){return h[0]=1,h[1]=0,h[2]=0,h[3]=0,h[4]=1,h[5]=0,h[6]=y[0],h[7]=y[1],h[8]=1,h},Zt.fromRotation=function(h,y){var E=Math.sin(y),O=Math.cos(y);return h[0]=O,h[1]=E,h[2]=0,h[3]=-E,h[4]=O,h[5]=0,h[6]=0,h[7]=0,h[8]=1,h},Zt.fromScaling=function(h,y){return h[0]=y[0],h[1]=0,h[2]=0,h[3]=0,h[4]=y[1],h[5]=0,h[6]=0,h[7]=0,h[8]=1,h},Zt.fromMat2d=function(h,y){return h[0]=y[0],h[1]=y[1],h[2]=0,h[3]=y[2],h[4]=y[3],h[5]=0,h[6]=y[4],h[7]=y[5],h[8]=1,h},Zt.fromQuat=function(h,y){var E=y[0],O=y[1],L=y[2],C=y[3],$=E+E,z=O+O,P=L+L,A=E*$,k=O*$,X=O*z,ee=L*$,le=L*z,ue=L*P,ie=C*$,ye=C*z,Se=C*P;return h[0]=1-X-ue,h[3]=k-Se,h[6]=ee+ye,h[1]=k+Se,h[4]=1-A-ue,h[7]=le-ie,h[2]=ee-ye,h[5]=le+ie,h[8]=1-A-X,h},Zt.normalFromMat4=function(h,y){var E=y[0],O=y[1],L=y[2],C=y[3],$=y[4],z=y[5],P=y[6],A=y[7],k=y[8],X=y[9],ee=y[10],le=y[11],ue=y[12],ie=y[13],ye=y[14],Se=y[15],$e=E*z-O*$,et=E*P-L*$,Ye=E*A-C*$,Xe=O*P-L*z,Ct=O*A-C*z,at=L*A-C*P,St=k*ie-X*ue,At=k*ye-ee*ue,$t=k*Se-le*ue,Ft=X*ye-ee*ie,Yt=X*Se-le*ie,un=ee*Se-le*ye,Wt=$e*un-et*Yt+Ye*Ft+Xe*$t-Ct*At+at*St;return Wt?(h[0]=(z*un-P*Yt+A*Ft)*(Wt=1/Wt),h[1]=(P*$t-$*un-A*At)*Wt,h[2]=($*Yt-z*$t+A*St)*Wt,h[3]=(L*Yt-O*un-C*Ft)*Wt,h[4]=(E*un-L*$t+C*At)*Wt,h[5]=(O*$t-E*Yt-C*St)*Wt,h[6]=(ie*at-ye*Ct+Se*Xe)*Wt,h[7]=(ye*Ye-ue*at-Se*et)*Wt,h[8]=(ue*Ct-ie*Ye+Se*$e)*Wt,h):null},Zt.projection=function(h,y,E){return h[0]=2/y,h[1]=0,h[2]=0,h[3]=0,h[4]=-2/E,h[5]=0,h[6]=-1,h[7]=1,h[8]=1,h},Zt.str=function(h){return"mat3("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+", "+h[4]+", "+h[5]+", "+h[6]+", "+h[7]+", "+h[8]+")"},Zt.frob=function(h){return Math.hypot(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8])},Zt.add=function(h,y,E){return h[0]=y[0]+E[0],h[1]=y[1]+E[1],h[2]=y[2]+E[2],h[3]=y[3]+E[3],h[4]=y[4]+E[4],h[5]=y[5]+E[5],h[6]=y[6]+E[6],h[7]=y[7]+E[7],h[8]=y[8]+E[8],h},Zt.subtract=v,Zt.multiplyScalar=function(h,y,E){return h[0]=y[0]*E,h[1]=y[1]*E,h[2]=y[2]*E,h[3]=y[3]*E,h[4]=y[4]*E,h[5]=y[5]*E,h[6]=y[6]*E,h[7]=y[7]*E,h[8]=y[8]*E,h},Zt.multiplyScalarAndAdd=function(h,y,E,O){return h[0]=y[0]+E[0]*O,h[1]=y[1]+E[1]*O,h[2]=y[2]+E[2]*O,h[3]=y[3]+E[3]*O,h[4]=y[4]+E[4]*O,h[5]=y[5]+E[5]*O,h[6]=y[6]+E[6]*O,h[7]=y[7]+E[7]*O,h[8]=y[8]+E[8]*O,h},Zt.exactEquals=function(h,y){return h[0]===y[0]&&h[1]===y[1]&&h[2]===y[2]&&h[3]===y[3]&&h[4]===y[4]&&h[5]===y[5]&&h[6]===y[6]&&h[7]===y[7]&&h[8]===y[8]},Zt.equals=function(h,y){var E=h[0],O=h[1],L=h[2],C=h[3],$=h[4],z=h[5],P=h[6],A=h[7],k=h[8],X=y[0],ee=y[1],le=y[2],ue=y[3],ie=y[4],ye=y[5],Se=y[6],$e=y[7],et=y[8];return Math.abs(E-X)<=n.EPSILON*Math.max(1,Math.abs(E),Math.abs(X))&&Math.abs(O-ee)<=n.EPSILON*Math.max(1,Math.abs(O),Math.abs(ee))&&Math.abs(L-le)<=n.EPSILON*Math.max(1,Math.abs(L),Math.abs(le))&&Math.abs(C-ue)<=n.EPSILON*Math.max(1,Math.abs(C),Math.abs(ue))&&Math.abs($-ie)<=n.EPSILON*Math.max(1,Math.abs($),Math.abs(ie))&&Math.abs(z-ye)<=n.EPSILON*Math.max(1,Math.abs(z),Math.abs(ye))&&Math.abs(P-Se)<=n.EPSILON*Math.max(1,Math.abs(P),Math.abs(Se))&&Math.abs(A-$e)<=n.EPSILON*Math.max(1,Math.abs(A),Math.abs($e))&&Math.abs(k-et)<=n.EPSILON*Math.max(1,Math.abs(k),Math.abs(et))},Zt.sub=Zt.mul=void 0;var n=function(h,y){if(h&&h.__esModule)return h;if(h===null||c(h)!=="object"&&typeof h!="function")return{default:h};var E=a(void 0);if(E&&E.has(h))return E.get(h);var O={},L=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var C in h)if(C!=="default"&&Object.prototype.hasOwnProperty.call(h,C)){var $=L?Object.getOwnPropertyDescriptor(h,C):null;$&&($.get||$.set)?Object.defineProperty(O,C,$):O[C]=h[C]}return O.default=h,E&&E.set(h,O),O}(De());function a(h){if(typeof WeakMap!="function")return null;var y=new WeakMap,E=new WeakMap;return(a=function(O){return O?E:y})(h)}function f(h,y,E){var O=y[0],L=y[1],C=y[2],$=y[3],z=y[4],P=y[5],A=y[6],k=y[7],X=y[8],ee=E[0],le=E[1],ue=E[2],ie=E[3],ye=E[4],Se=E[5],$e=E[6],et=E[7],Ye=E[8];return h[0]=ee*O+le*$+ue*A,h[1]=ee*L+le*z+ue*k,h[2]=ee*C+le*P+ue*X,h[3]=ie*O+ye*$+Se*A,h[4]=ie*L+ye*z+Se*k,h[5]=ie*C+ye*P+Se*X,h[6]=$e*O+et*$+Ye*A,h[7]=$e*L+et*z+Ye*k,h[8]=$e*C+et*P+Ye*X,h}function v(h,y,E){return h[0]=y[0]-E[0],h[1]=y[1]-E[1],h[2]=y[2]-E[2],h[3]=y[3]-E[3],h[4]=y[4]-E[4],h[5]=y[5]-E[5],h[6]=y[6]-E[6],h[7]=y[7]-E[7],h[8]=y[8]-E[8],h}return Zt.mul=f,Zt.sub=v,Zt}var vt,sn={};function Xt(){if(vt)return sn;function c(C){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},c(C)}vt=1,Object.defineProperty(sn,"__esModule",{value:!0}),sn.create=function(){var C=new n.ARRAY_TYPE(16);return n.ARRAY_TYPE!=Float32Array&&(C[1]=0,C[2]=0,C[3]=0,C[4]=0,C[6]=0,C[7]=0,C[8]=0,C[9]=0,C[11]=0,C[12]=0,C[13]=0,C[14]=0),C[0]=1,C[5]=1,C[10]=1,C[15]=1,C},sn.clone=function(C){var $=new n.ARRAY_TYPE(16);return $[0]=C[0],$[1]=C[1],$[2]=C[2],$[3]=C[3],$[4]=C[4],$[5]=C[5],$[6]=C[6],$[7]=C[7],$[8]=C[8],$[9]=C[9],$[10]=C[10],$[11]=C[11],$[12]=C[12],$[13]=C[13],$[14]=C[14],$[15]=C[15],$},sn.copy=function(C,$){return C[0]=$[0],C[1]=$[1],C[2]=$[2],C[3]=$[3],C[4]=$[4],C[5]=$[5],C[6]=$[6],C[7]=$[7],C[8]=$[8],C[9]=$[9],C[10]=$[10],C[11]=$[11],C[12]=$[12],C[13]=$[13],C[14]=$[14],C[15]=$[15],C},sn.fromValues=function(C,$,z,P,A,k,X,ee,le,ue,ie,ye,Se,$e,et,Ye){var Xe=new n.ARRAY_TYPE(16);return Xe[0]=C,Xe[1]=$,Xe[2]=z,Xe[3]=P,Xe[4]=A,Xe[5]=k,Xe[6]=X,Xe[7]=ee,Xe[8]=le,Xe[9]=ue,Xe[10]=ie,Xe[11]=ye,Xe[12]=Se,Xe[13]=$e,Xe[14]=et,Xe[15]=Ye,Xe},sn.set=function(C,$,z,P,A,k,X,ee,le,ue,ie,ye,Se,$e,et,Ye,Xe){return C[0]=$,C[1]=z,C[2]=P,C[3]=A,C[4]=k,C[5]=X,C[6]=ee,C[7]=le,C[8]=ue,C[9]=ie,C[10]=ye,C[11]=Se,C[12]=$e,C[13]=et,C[14]=Ye,C[15]=Xe,C},sn.identity=f,sn.transpose=function(C,$){if(C===$){var z=$[1],P=$[2],A=$[3],k=$[6],X=$[7],ee=$[11];C[1]=$[4],C[2]=$[8],C[3]=$[12],C[4]=z,C[6]=$[9],C[7]=$[13],C[8]=P,C[9]=k,C[11]=$[14],C[12]=A,C[13]=X,C[14]=ee}else C[0]=$[0],C[1]=$[4],C[2]=$[8],C[3]=$[12],C[4]=$[1],C[5]=$[5],C[6]=$[9],C[7]=$[13],C[8]=$[2],C[9]=$[6],C[10]=$[10],C[11]=$[14],C[12]=$[3],C[13]=$[7],C[14]=$[11],C[15]=$[15];return C},sn.invert=function(C,$){var z=$[0],P=$[1],A=$[2],k=$[3],X=$[4],ee=$[5],le=$[6],ue=$[7],ie=$[8],ye=$[9],Se=$[10],$e=$[11],et=$[12],Ye=$[13],Xe=$[14],Ct=$[15],at=z*ee-P*X,St=z*le-A*X,At=z*ue-k*X,$t=P*le-A*ee,Ft=P*ue-k*ee,Yt=A*ue-k*le,un=ie*Ye-ye*et,Wt=ie*Xe-Se*et,jn=ie*Ct-$e*et,cr=ye*Xe-Se*Ye,kn=ye*Ct-$e*Ye,Yr=Se*Ct-$e*Xe,kr=at*Yr-St*kn+At*cr+$t*jn-Ft*Wt+Yt*un;return kr?(C[0]=(ee*Yr-le*kn+ue*cr)*(kr=1/kr),C[1]=(A*kn-P*Yr-k*cr)*kr,C[2]=(Ye*Yt-Xe*Ft+Ct*$t)*kr,C[3]=(Se*Ft-ye*Yt-$e*$t)*kr,C[4]=(le*jn-X*Yr-ue*Wt)*kr,C[5]=(z*Yr-A*jn+k*Wt)*kr,C[6]=(Xe*At-et*Yt-Ct*St)*kr,C[7]=(ie*Yt-Se*At+$e*St)*kr,C[8]=(X*kn-ee*jn+ue*un)*kr,C[9]=(P*jn-z*kn-k*un)*kr,C[10]=(et*Ft-Ye*At+Ct*at)*kr,C[11]=(ye*At-ie*Ft-$e*at)*kr,C[12]=(ee*Wt-X*cr-le*un)*kr,C[13]=(z*cr-P*Wt+A*un)*kr,C[14]=(Ye*St-et*$t-Xe*at)*kr,C[15]=(ie*$t-ye*St+Se*at)*kr,C):null},sn.adjoint=function(C,$){var z=$[0],P=$[1],A=$[2],k=$[3],X=$[4],ee=$[5],le=$[6],ue=$[7],ie=$[8],ye=$[9],Se=$[10],$e=$[11],et=$[12],Ye=$[13],Xe=$[14],Ct=$[15];return C[0]=ee*(Se*Ct-$e*Xe)-ye*(le*Ct-ue*Xe)+Ye*(le*$e-ue*Se),C[1]=-(P*(Se*Ct-$e*Xe)-ye*(A*Ct-k*Xe)+Ye*(A*$e-k*Se)),C[2]=P*(le*Ct-ue*Xe)-ee*(A*Ct-k*Xe)+Ye*(A*ue-k*le),C[3]=-(P*(le*$e-ue*Se)-ee*(A*$e-k*Se)+ye*(A*ue-k*le)),C[4]=-(X*(Se*Ct-$e*Xe)-ie*(le*Ct-ue*Xe)+et*(le*$e-ue*Se)),C[5]=z*(Se*Ct-$e*Xe)-ie*(A*Ct-k*Xe)+et*(A*$e-k*Se),C[6]=-(z*(le*Ct-ue*Xe)-X*(A*Ct-k*Xe)+et*(A*ue-k*le)),C[7]=z*(le*$e-ue*Se)-X*(A*$e-k*Se)+ie*(A*ue-k*le),C[8]=X*(ye*Ct-$e*Ye)-ie*(ee*Ct-ue*Ye)+et*(ee*$e-ue*ye),C[9]=-(z*(ye*Ct-$e*Ye)-ie*(P*Ct-k*Ye)+et*(P*$e-k*ye)),C[10]=z*(ee*Ct-ue*Ye)-X*(P*Ct-k*Ye)+et*(P*ue-k*ee),C[11]=-(z*(ee*$e-ue*ye)-X*(P*$e-k*ye)+ie*(P*ue-k*ee)),C[12]=-(X*(ye*Xe-Se*Ye)-ie*(ee*Xe-le*Ye)+et*(ee*Se-le*ye)),C[13]=z*(ye*Xe-Se*Ye)-ie*(P*Xe-A*Ye)+et*(P*Se-A*ye),C[14]=-(z*(ee*Xe-le*Ye)-X*(P*Xe-A*Ye)+et*(P*le-A*ee)),C[15]=z*(ee*Se-le*ye)-X*(P*Se-A*ye)+ie*(P*le-A*ee),C},sn.determinant=function(C){var $=C[0],z=C[1],P=C[2],A=C[3],k=C[4],X=C[5],ee=C[6],le=C[7],ue=C[8],ie=C[9],ye=C[10],Se=C[11],$e=C[12],et=C[13],Ye=C[14],Xe=C[15];return($*X-z*k)*(ye*Xe-Se*Ye)-($*ee-P*k)*(ie*Xe-Se*et)+($*le-A*k)*(ie*Ye-ye*et)+(z*ee-P*X)*(ue*Xe-Se*$e)-(z*le-A*X)*(ue*Ye-ye*$e)+(P*le-A*ee)*(ue*et-ie*$e)},sn.multiply=v,sn.translate=function(C,$,z){var P,A,k,X,ee,le,ue,ie,ye,Se,$e,et,Ye=z[0],Xe=z[1],Ct=z[2];return $===C?(C[12]=$[0]*Ye+$[4]*Xe+$[8]*Ct+$[12],C[13]=$[1]*Ye+$[5]*Xe+$[9]*Ct+$[13],C[14]=$[2]*Ye+$[6]*Xe+$[10]*Ct+$[14],C[15]=$[3]*Ye+$[7]*Xe+$[11]*Ct+$[15]):(A=$[1],k=$[2],X=$[3],ee=$[4],le=$[5],ue=$[6],ie=$[7],ye=$[8],Se=$[9],$e=$[10],et=$[11],C[0]=P=$[0],C[1]=A,C[2]=k,C[3]=X,C[4]=ee,C[5]=le,C[6]=ue,C[7]=ie,C[8]=ye,C[9]=Se,C[10]=$e,C[11]=et,C[12]=P*Ye+ee*Xe+ye*Ct+$[12],C[13]=A*Ye+le*Xe+Se*Ct+$[13],C[14]=k*Ye+ue*Xe+$e*Ct+$[14],C[15]=X*Ye+ie*Xe+et*Ct+$[15]),C},sn.scale=function(C,$,z){var P=z[0],A=z[1],k=z[2];return C[0]=$[0]*P,C[1]=$[1]*P,C[2]=$[2]*P,C[3]=$[3]*P,C[4]=$[4]*A,C[5]=$[5]*A,C[6]=$[6]*A,C[7]=$[7]*A,C[8]=$[8]*k,C[9]=$[9]*k,C[10]=$[10]*k,C[11]=$[11]*k,C[12]=$[12],C[13]=$[13],C[14]=$[14],C[15]=$[15],C},sn.rotate=function(C,$,z,P){var A,k,X,ee,le,ue,ie,ye,Se,$e,et,Ye,Xe,Ct,at,St,At,$t,Ft,Yt,un,Wt,jn,cr,kn=P[0],Yr=P[1],kr=P[2],br=Math.hypot(kn,Yr,kr);return br<n.EPSILON?null:(kn*=br=1/br,Yr*=br,kr*=br,A=Math.sin(z),k=Math.cos(z),le=$[1],ue=$[2],ie=$[3],Se=$[5],$e=$[6],et=$[7],Xe=$[9],Ct=$[10],at=$[11],St=kn*kn*(X=1-k)+k,Ft=kn*Yr*X-kr*A,Yt=Yr*Yr*X+k,un=kr*Yr*X+kn*A,Wt=kn*kr*X+Yr*A,jn=Yr*kr*X-kn*A,cr=kr*kr*X+k,C[0]=(ee=$[0])*St+(ye=$[4])*(At=Yr*kn*X+kr*A)+(Ye=$[8])*($t=kr*kn*X-Yr*A),C[1]=le*St+Se*At+Xe*$t,C[2]=ue*St+$e*At+Ct*$t,C[3]=ie*St+et*At+at*$t,C[4]=ee*Ft+ye*Yt+Ye*un,C[5]=le*Ft+Se*Yt+Xe*un,C[6]=ue*Ft+$e*Yt+Ct*un,C[7]=ie*Ft+et*Yt+at*un,C[8]=ee*Wt+ye*jn+Ye*cr,C[9]=le*Wt+Se*jn+Xe*cr,C[10]=ue*Wt+$e*jn+Ct*cr,C[11]=ie*Wt+et*jn+at*cr,$!==C&&(C[12]=$[12],C[13]=$[13],C[14]=$[14],C[15]=$[15]),C)},sn.rotateX=function(C,$,z){var P=Math.sin(z),A=Math.cos(z),k=$[4],X=$[5],ee=$[6],le=$[7],ue=$[8],ie=$[9],ye=$[10],Se=$[11];return $!==C&&(C[0]=$[0],C[1]=$[1],C[2]=$[2],C[3]=$[3],C[12]=$[12],C[13]=$[13],C[14]=$[14],C[15]=$[15]),C[4]=k*A+ue*P,C[5]=X*A+ie*P,C[6]=ee*A+ye*P,C[7]=le*A+Se*P,C[8]=ue*A-k*P,C[9]=ie*A-X*P,C[10]=ye*A-ee*P,C[11]=Se*A-le*P,C},sn.rotateY=function(C,$,z){var P=Math.sin(z),A=Math.cos(z),k=$[0],X=$[1],ee=$[2],le=$[3],ue=$[8],ie=$[9],ye=$[10],Se=$[11];return $!==C&&(C[4]=$[4],C[5]=$[5],C[6]=$[6],C[7]=$[7],C[12]=$[12],C[13]=$[13],C[14]=$[14],C[15]=$[15]),C[0]=k*A-ue*P,C[1]=X*A-ie*P,C[2]=ee*A-ye*P,C[3]=le*A-Se*P,C[8]=k*P+ue*A,C[9]=X*P+ie*A,C[10]=ee*P+ye*A,C[11]=le*P+Se*A,C},sn.rotateZ=function(C,$,z){var P=Math.sin(z),A=Math.cos(z),k=$[0],X=$[1],ee=$[2],le=$[3],ue=$[4],ie=$[5],ye=$[6],Se=$[7];return $!==C&&(C[8]=$[8],C[9]=$[9],C[10]=$[10],C[11]=$[11],C[12]=$[12],C[13]=$[13],C[14]=$[14],C[15]=$[15]),C[0]=k*A+ue*P,C[1]=X*A+ie*P,C[2]=ee*A+ye*P,C[3]=le*A+Se*P,C[4]=ue*A-k*P,C[5]=ie*A-X*P,C[6]=ye*A-ee*P,C[7]=Se*A-le*P,C},sn.fromTranslation=function(C,$){return C[0]=1,C[1]=0,C[2]=0,C[3]=0,C[4]=0,C[5]=1,C[6]=0,C[7]=0,C[8]=0,C[9]=0,C[10]=1,C[11]=0,C[12]=$[0],C[13]=$[1],C[14]=$[2],C[15]=1,C},sn.fromScaling=function(C,$){return C[0]=$[0],C[1]=0,C[2]=0,C[3]=0,C[4]=0,C[5]=$[1],C[6]=0,C[7]=0,C[8]=0,C[9]=0,C[10]=$[2],C[11]=0,C[12]=0,C[13]=0,C[14]=0,C[15]=1,C},sn.fromRotation=function(C,$,z){var P,A,k,X=z[0],ee=z[1],le=z[2],ue=Math.hypot(X,ee,le);return ue<n.EPSILON?null:(X*=ue=1/ue,ee*=ue,le*=ue,P=Math.sin($),A=Math.cos($),C[0]=X*X*(k=1-A)+A,C[1]=ee*X*k+le*P,C[2]=le*X*k-ee*P,C[3]=0,C[4]=X*ee*k-le*P,C[5]=ee*ee*k+A,C[6]=le*ee*k+X*P,C[7]=0,C[8]=X*le*k+ee*P,C[9]=ee*le*k-X*P,C[10]=le*le*k+A,C[11]=0,C[12]=0,C[13]=0,C[14]=0,C[15]=1,C)},sn.fromXRotation=function(C,$){var z=Math.sin($),P=Math.cos($);return C[0]=1,C[1]=0,C[2]=0,C[3]=0,C[4]=0,C[5]=P,C[6]=z,C[7]=0,C[8]=0,C[9]=-z,C[10]=P,C[11]=0,C[12]=0,C[13]=0,C[14]=0,C[15]=1,C},sn.fromYRotation=function(C,$){var z=Math.sin($),P=Math.cos($);return C[0]=P,C[1]=0,C[2]=-z,C[3]=0,C[4]=0,C[5]=1,C[6]=0,C[7]=0,C[8]=z,C[9]=0,C[10]=P,C[11]=0,C[12]=0,C[13]=0,C[14]=0,C[15]=1,C},sn.fromZRotation=function(C,$){var z=Math.sin($),P=Math.cos($);return C[0]=P,C[1]=z,C[2]=0,C[3]=0,C[4]=-z,C[5]=P,C[6]=0,C[7]=0,C[8]=0,C[9]=0,C[10]=1,C[11]=0,C[12]=0,C[13]=0,C[14]=0,C[15]=1,C},sn.fromRotationTranslation=h,sn.fromQuat2=function(C,$){var z=new n.ARRAY_TYPE(3),P=-$[0],A=-$[1],k=-$[2],X=$[3],ee=$[4],le=$[5],ue=$[6],ie=$[7],ye=P*P+A*A+k*k+X*X;return ye>0?(z[0]=2*(ee*X+ie*P+le*k-ue*A)/ye,z[1]=2*(le*X+ie*A+ue*P-ee*k)/ye,z[2]=2*(ue*X+ie*k+ee*A-le*P)/ye):(z[0]=2*(ee*X+ie*P+le*k-ue*A),z[1]=2*(le*X+ie*A+ue*P-ee*k),z[2]=2*(ue*X+ie*k+ee*A-le*P)),h(C,$,z),C},sn.getTranslation=function(C,$){return C[0]=$[12],C[1]=$[13],C[2]=$[14],C},sn.getScaling=y,sn.getRotation=function(C,$){var z=new n.ARRAY_TYPE(3);y(z,$);var P=1/z[0],A=1/z[1],k=1/z[2],X=$[0]*P,ee=$[1]*A,le=$[2]*k,ue=$[4]*P,ie=$[5]*A,ye=$[6]*k,Se=$[8]*P,$e=$[9]*A,et=$[10]*k,Ye=X+ie+et,Xe=0;return Ye>0?(Xe=2*Math.sqrt(Ye+1),C[3]=.25*Xe,C[0]=(ye-$e)/Xe,C[1]=(Se-le)/Xe,C[2]=(ee-ue)/Xe):X>ie&&X>et?(Xe=2*Math.sqrt(1+X-ie-et),C[3]=(ye-$e)/Xe,C[0]=.25*Xe,C[1]=(ee+ue)/Xe,C[2]=(Se+le)/Xe):ie>et?(Xe=2*Math.sqrt(1+ie-X-et),C[3]=(Se-le)/Xe,C[0]=(ee+ue)/Xe,C[1]=.25*Xe,C[2]=(ye+$e)/Xe):(Xe=2*Math.sqrt(1+et-X-ie),C[3]=(ee-ue)/Xe,C[0]=(Se+le)/Xe,C[1]=(ye+$e)/Xe,C[2]=.25*Xe),C},sn.fromRotationTranslationScale=function(C,$,z,P){var A=$[0],k=$[1],X=$[2],ee=$[3],le=A+A,ue=k+k,ie=X+X,ye=A*le,Se=A*ue,$e=A*ie,et=k*ue,Ye=k*ie,Xe=X*ie,Ct=ee*le,at=ee*ue,St=ee*ie,At=P[0],$t=P[1],Ft=P[2];return C[0]=(1-(et+Xe))*At,C[1]=(Se+St)*At,C[2]=($e-at)*At,C[3]=0,C[4]=(Se-St)*$t,C[5]=(1-(ye+Xe))*$t,C[6]=(Ye+Ct)*$t,C[7]=0,C[8]=($e+at)*Ft,C[9]=(Ye-Ct)*Ft,C[10]=(1-(ye+et))*Ft,C[11]=0,C[12]=z[0],C[13]=z[1],C[14]=z[2],C[15]=1,C},sn.fromRotationTranslationScaleOrigin=function(C,$,z,P,A){var k=$[0],X=$[1],ee=$[2],le=$[3],ue=k+k,ie=X+X,ye=ee+ee,Se=k*ue,$e=k*ie,et=k*ye,Ye=X*ie,Xe=X*ye,Ct=ee*ye,at=le*ue,St=le*ie,At=le*ye,$t=P[0],Ft=P[1],Yt=P[2],un=A[0],Wt=A[1],jn=A[2],cr=(1-(Ye+Ct))*$t,kn=($e+At)*$t,Yr=(et-St)*$t,kr=($e-At)*Ft,br=(1-(Se+Ct))*Ft,fr=(Xe+at)*Ft,Mi=(et+St)*Yt,ti=(Xe-at)*Yt,ui=(1-(Se+Ye))*Yt;return C[0]=cr,C[1]=kn,C[2]=Yr,C[3]=0,C[4]=kr,C[5]=br,C[6]=fr,C[7]=0,C[8]=Mi,C[9]=ti,C[10]=ui,C[11]=0,C[12]=z[0]+un-(cr*un+kr*Wt+Mi*jn),C[13]=z[1]+Wt-(kn*un+br*Wt+ti*jn),C[14]=z[2]+jn-(Yr*un+fr*Wt+ui*jn),C[15]=1,C},sn.fromQuat=function(C,$){var z=$[0],P=$[1],A=$[2],k=$[3],X=z+z,ee=P+P,le=A+A,ue=z*X,ie=P*X,ye=P*ee,Se=A*X,$e=A*ee,et=A*le,Ye=k*X,Xe=k*ee,Ct=k*le;return C[0]=1-ye-et,C[1]=ie+Ct,C[2]=Se-Xe,C[3]=0,C[4]=ie-Ct,C[5]=1-ue-et,C[6]=$e+Ye,C[7]=0,C[8]=Se+Xe,C[9]=$e-Ye,C[10]=1-ue-ye,C[11]=0,C[12]=0,C[13]=0,C[14]=0,C[15]=1,C},sn.frustum=function(C,$,z,P,A,k,X){var ee=1/(z-$),le=1/(A-P),ue=1/(k-X);return C[0]=2*k*ee,C[1]=0,C[2]=0,C[3]=0,C[4]=0,C[5]=2*k*le,C[6]=0,C[7]=0,C[8]=(z+$)*ee,C[9]=(A+P)*le,C[10]=(X+k)*ue,C[11]=-1,C[12]=0,C[13]=0,C[14]=X*k*2*ue,C[15]=0,C},sn.perspectiveNO=E,sn.perspectiveZO=function(C,$,z,P,A){var k,X=1/Math.tan($/2);return C[0]=X/z,C[1]=0,C[2]=0,C[3]=0,C[4]=0,C[5]=X,C[6]=0,C[7]=0,C[8]=0,C[9]=0,C[11]=-1,C[12]=0,C[13]=0,C[15]=0,A!=null&&A!==1/0?(C[10]=A*(k=1/(P-A)),C[14]=A*P*k):(C[10]=-1,C[14]=-P),C},sn.perspectiveFromFieldOfView=function(C,$,z,P){var A=Math.tan($.upDegrees*Math.PI/180),k=Math.tan($.downDegrees*Math.PI/180),X=Math.tan($.leftDegrees*Math.PI/180),ee=Math.tan($.rightDegrees*Math.PI/180),le=2/(X+ee),ue=2/(A+k);return C[0]=le,C[1]=0,C[2]=0,C[3]=0,C[4]=0,C[5]=ue,C[6]=0,C[7]=0,C[8]=-(X-ee)*le*.5,C[9]=(A-k)*ue*.5,C[10]=P/(z-P),C[11]=-1,C[12]=0,C[13]=0,C[14]=P*z/(z-P),C[15]=0,C},sn.orthoNO=O,sn.orthoZO=function(C,$,z,P,A,k,X){var ee=1/($-z),le=1/(P-A),ue=1/(k-X);return C[0]=-2*ee,C[1]=0,C[2]=0,C[3]=0,C[4]=0,C[5]=-2*le,C[6]=0,C[7]=0,C[8]=0,C[9]=0,C[10]=ue,C[11]=0,C[12]=($+z)*ee,C[13]=(A+P)*le,C[14]=k*ue,C[15]=1,C},sn.lookAt=function(C,$,z,P){var A,k,X,ee,le,ue,ie,ye,Se,$e,et=$[0],Ye=$[1],Xe=$[2],Ct=P[0],at=P[1],St=P[2],At=z[0],$t=z[1],Ft=z[2];return Math.abs(et-At)<n.EPSILON&&Math.abs(Ye-$t)<n.EPSILON&&Math.abs(Xe-Ft)<n.EPSILON?f(C):(ie=et-At,ye=Ye-$t,Se=Xe-Ft,A=at*(Se*=$e=1/Math.hypot(ie,ye,Se))-St*(ye*=$e),k=St*(ie*=$e)-Ct*Se,X=Ct*ye-at*ie,($e=Math.hypot(A,k,X))?(A*=$e=1/$e,k*=$e,X*=$e):(A=0,k=0,X=0),ee=ye*X-Se*k,le=Se*A-ie*X,ue=ie*k-ye*A,($e=Math.hypot(ee,le,ue))?(ee*=$e=1/$e,le*=$e,ue*=$e):(ee=0,le=0,ue=0),C[0]=A,C[1]=ee,C[2]=ie,C[3]=0,C[4]=k,C[5]=le,C[6]=ye,C[7]=0,C[8]=X,C[9]=ue,C[10]=Se,C[11]=0,C[12]=-(A*et+k*Ye+X*Xe),C[13]=-(ee*et+le*Ye+ue*Xe),C[14]=-(ie*et+ye*Ye+Se*Xe),C[15]=1,C)},sn.targetTo=function(C,$,z,P){var A=$[0],k=$[1],X=$[2],ee=P[0],le=P[1],ue=P[2],ie=A-z[0],ye=k-z[1],Se=X-z[2],$e=ie*ie+ye*ye+Se*Se;$e>0&&(ie*=$e=1/Math.sqrt($e),ye*=$e,Se*=$e);var et=le*Se-ue*ye,Ye=ue*ie-ee*Se,Xe=ee*ye-le*ie;return($e=et*et+Ye*Ye+Xe*Xe)>0&&(et*=$e=1/Math.sqrt($e),Ye*=$e,Xe*=$e),C[0]=et,C[1]=Ye,C[2]=Xe,C[3]=0,C[4]=ye*Xe-Se*Ye,C[5]=Se*et-ie*Xe,C[6]=ie*Ye-ye*et,C[7]=0,C[8]=ie,C[9]=ye,C[10]=Se,C[11]=0,C[12]=A,C[13]=k,C[14]=X,C[15]=1,C},sn.str=function(C){return"mat4("+C[0]+", "+C[1]+", "+C[2]+", "+C[3]+", "+C[4]+", "+C[5]+", "+C[6]+", "+C[7]+", "+C[8]+", "+C[9]+", "+C[10]+", "+C[11]+", "+C[12]+", "+C[13]+", "+C[14]+", "+C[15]+")"},sn.frob=function(C){return Math.hypot(C[0],C[1],C[2],C[3],C[4],C[5],C[6],C[7],C[8],C[9],C[10],C[11],C[12],C[13],C[14],C[15])},sn.add=function(C,$,z){return C[0]=$[0]+z[0],C[1]=$[1]+z[1],C[2]=$[2]+z[2],C[3]=$[3]+z[3],C[4]=$[4]+z[4],C[5]=$[5]+z[5],C[6]=$[6]+z[6],C[7]=$[7]+z[7],C[8]=$[8]+z[8],C[9]=$[9]+z[9],C[10]=$[10]+z[10],C[11]=$[11]+z[11],C[12]=$[12]+z[12],C[13]=$[13]+z[13],C[14]=$[14]+z[14],C[15]=$[15]+z[15],C},sn.subtract=L,sn.multiplyScalar=function(C,$,z){return C[0]=$[0]*z,C[1]=$[1]*z,C[2]=$[2]*z,C[3]=$[3]*z,C[4]=$[4]*z,C[5]=$[5]*z,C[6]=$[6]*z,C[7]=$[7]*z,C[8]=$[8]*z,C[9]=$[9]*z,C[10]=$[10]*z,C[11]=$[11]*z,C[12]=$[12]*z,C[13]=$[13]*z,C[14]=$[14]*z,C[15]=$[15]*z,C},sn.multiplyScalarAndAdd=function(C,$,z,P){return C[0]=$[0]+z[0]*P,C[1]=$[1]+z[1]*P,C[2]=$[2]+z[2]*P,C[3]=$[3]+z[3]*P,C[4]=$[4]+z[4]*P,C[5]=$[5]+z[5]*P,C[6]=$[6]+z[6]*P,C[7]=$[7]+z[7]*P,C[8]=$[8]+z[8]*P,C[9]=$[9]+z[9]*P,C[10]=$[10]+z[10]*P,C[11]=$[11]+z[11]*P,C[12]=$[12]+z[12]*P,C[13]=$[13]+z[13]*P,C[14]=$[14]+z[14]*P,C[15]=$[15]+z[15]*P,C},sn.exactEquals=function(C,$){return C[0]===$[0]&&C[1]===$[1]&&C[2]===$[2]&&C[3]===$[3]&&C[4]===$[4]&&C[5]===$[5]&&C[6]===$[6]&&C[7]===$[7]&&C[8]===$[8]&&C[9]===$[9]&&C[10]===$[10]&&C[11]===$[11]&&C[12]===$[12]&&C[13]===$[13]&&C[14]===$[14]&&C[15]===$[15]},sn.equals=function(C,$){var z=C[0],P=C[1],A=C[2],k=C[3],X=C[4],ee=C[5],le=C[6],ue=C[7],ie=C[8],ye=C[9],Se=C[10],$e=C[11],et=C[12],Ye=C[13],Xe=C[14],Ct=C[15],at=$[0],St=$[1],At=$[2],$t=$[3],Ft=$[4],Yt=$[5],un=$[6],Wt=$[7],jn=$[8],cr=$[9],kn=$[10],Yr=$[11],kr=$[12],br=$[13],fr=$[14],Mi=$[15];return Math.abs(z-at)<=n.EPSILON*Math.max(1,Math.abs(z),Math.abs(at))&&Math.abs(P-St)<=n.EPSILON*Math.max(1,Math.abs(P),Math.abs(St))&&Math.abs(A-At)<=n.EPSILON*Math.max(1,Math.abs(A),Math.abs(At))&&Math.abs(k-$t)<=n.EPSILON*Math.max(1,Math.abs(k),Math.abs($t))&&Math.abs(X-Ft)<=n.EPSILON*Math.max(1,Math.abs(X),Math.abs(Ft))&&Math.abs(ee-Yt)<=n.EPSILON*Math.max(1,Math.abs(ee),Math.abs(Yt))&&Math.abs(le-un)<=n.EPSILON*Math.max(1,Math.abs(le),Math.abs(un))&&Math.abs(ue-Wt)<=n.EPSILON*Math.max(1,Math.abs(ue),Math.abs(Wt))&&Math.abs(ie-jn)<=n.EPSILON*Math.max(1,Math.abs(ie),Math.abs(jn))&&Math.abs(ye-cr)<=n.EPSILON*Math.max(1,Math.abs(ye),Math.abs(cr))&&Math.abs(Se-kn)<=n.EPSILON*Math.max(1,Math.abs(Se),Math.abs(kn))&&Math.abs($e-Yr)<=n.EPSILON*Math.max(1,Math.abs($e),Math.abs(Yr))&&Math.abs(et-kr)<=n.EPSILON*Math.max(1,Math.abs(et),Math.abs(kr))&&Math.abs(Ye-br)<=n.EPSILON*Math.max(1,Math.abs(Ye),Math.abs(br))&&Math.abs(Xe-fr)<=n.EPSILON*Math.max(1,Math.abs(Xe),Math.abs(fr))&&Math.abs(Ct-Mi)<=n.EPSILON*Math.max(1,Math.abs(Ct),Math.abs(Mi))},sn.sub=sn.mul=sn.ortho=sn.perspective=void 0;var n=function(C,$){if(C&&C.__esModule)return C;if(C===null||c(C)!=="object"&&typeof C!="function")return{default:C};var z=a(void 0);if(z&&z.has(C))return z.get(C);var P={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var k in C)if(k!=="default"&&Object.prototype.hasOwnProperty.call(C,k)){var X=A?Object.getOwnPropertyDescriptor(C,k):null;X&&(X.get||X.set)?Object.defineProperty(P,k,X):P[k]=C[k]}return P.default=C,z&&z.set(C,P),P}(De());function a(C){if(typeof WeakMap!="function")return null;var $=new WeakMap,z=new WeakMap;return(a=function(P){return P?z:$})(C)}function f(C){return C[0]=1,C[1]=0,C[2]=0,C[3]=0,C[4]=0,C[5]=1,C[6]=0,C[7]=0,C[8]=0,C[9]=0,C[10]=1,C[11]=0,C[12]=0,C[13]=0,C[14]=0,C[15]=1,C}function v(C,$,z){var P=$[0],A=$[1],k=$[2],X=$[3],ee=$[4],le=$[5],ue=$[6],ie=$[7],ye=$[8],Se=$[9],$e=$[10],et=$[11],Ye=$[12],Xe=$[13],Ct=$[14],at=$[15],St=z[0],At=z[1],$t=z[2],Ft=z[3];return C[0]=St*P+At*ee+$t*ye+Ft*Ye,C[1]=St*A+At*le+$t*Se+Ft*Xe,C[2]=St*k+At*ue+$t*$e+Ft*Ct,C[3]=St*X+At*ie+$t*et+Ft*at,C[4]=(St=z[4])*P+(At=z[5])*ee+($t=z[6])*ye+(Ft=z[7])*Ye,C[5]=St*A+At*le+$t*Se+Ft*Xe,C[6]=St*k+At*ue+$t*$e+Ft*Ct,C[7]=St*X+At*ie+$t*et+Ft*at,C[8]=(St=z[8])*P+(At=z[9])*ee+($t=z[10])*ye+(Ft=z[11])*Ye,C[9]=St*A+At*le+$t*Se+Ft*Xe,C[10]=St*k+At*ue+$t*$e+Ft*Ct,C[11]=St*X+At*ie+$t*et+Ft*at,C[12]=(St=z[12])*P+(At=z[13])*ee+($t=z[14])*ye+(Ft=z[15])*Ye,C[13]=St*A+At*le+$t*Se+Ft*Xe,C[14]=St*k+At*ue+$t*$e+Ft*Ct,C[15]=St*X+At*ie+$t*et+Ft*at,C}function h(C,$,z){var P=$[0],A=$[1],k=$[2],X=$[3],ee=P+P,le=A+A,ue=k+k,ie=P*ee,ye=P*le,Se=P*ue,$e=A*le,et=A*ue,Ye=k*ue,Xe=X*ee,Ct=X*le,at=X*ue;return C[0]=1-($e+Ye),C[1]=ye+at,C[2]=Se-Ct,C[3]=0,C[4]=ye-at,C[5]=1-(ie+Ye),C[6]=et+Xe,C[7]=0,C[8]=Se+Ct,C[9]=et-Xe,C[10]=1-(ie+$e),C[11]=0,C[12]=z[0],C[13]=z[1],C[14]=z[2],C[15]=1,C}function y(C,$){var z=$[4],P=$[5],A=$[6],k=$[8],X=$[9],ee=$[10];return C[0]=Math.hypot($[0],$[1],$[2]),C[1]=Math.hypot(z,P,A),C[2]=Math.hypot(k,X,ee),C}function E(C,$,z,P,A){var k,X=1/Math.tan($/2);return C[0]=X/z,C[1]=0,C[2]=0,C[3]=0,C[4]=0,C[5]=X,C[6]=0,C[7]=0,C[8]=0,C[9]=0,C[11]=-1,C[12]=0,C[13]=0,C[15]=0,A!=null&&A!==1/0?(C[10]=(A+P)*(k=1/(P-A)),C[14]=2*A*P*k):(C[10]=-1,C[14]=-2*P),C}function O(C,$,z,P,A,k,X){var ee=1/($-z),le=1/(P-A),ue=1/(k-X);return C[0]=-2*ee,C[1]=0,C[2]=0,C[3]=0,C[4]=0,C[5]=-2*le,C[6]=0,C[7]=0,C[8]=0,C[9]=0,C[10]=2*ue,C[11]=0,C[12]=($+z)*ee,C[13]=(A+P)*le,C[14]=(X+k)*ue,C[15]=1,C}function L(C,$,z){return C[0]=$[0]-z[0],C[1]=$[1]-z[1],C[2]=$[2]-z[2],C[3]=$[3]-z[3],C[4]=$[4]-z[4],C[5]=$[5]-z[5],C[6]=$[6]-z[6],C[7]=$[7]-z[7],C[8]=$[8]-z[8],C[9]=$[9]-z[9],C[10]=$[10]-z[10],C[11]=$[11]-z[11],C[12]=$[12]-z[12],C[13]=$[13]-z[13],C[14]=$[14]-z[14],C[15]=$[15]-z[15],C}return sn.perspective=E,sn.ortho=O,sn.mul=v,sn.sub=L,sn}var _n,En={},Nn={};function fi(){if(_n)return Nn;function c(A){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},c(A)}_n=1,Object.defineProperty(Nn,"__esModule",{value:!0}),Nn.create=f,Nn.clone=function(A){var k=new n.ARRAY_TYPE(3);return k[0]=A[0],k[1]=A[1],k[2]=A[2],k},Nn.length=v,Nn.fromValues=function(A,k,X){var ee=new n.ARRAY_TYPE(3);return ee[0]=A,ee[1]=k,ee[2]=X,ee},Nn.copy=function(A,k){return A[0]=k[0],A[1]=k[1],A[2]=k[2],A},Nn.set=function(A,k,X,ee){return A[0]=k,A[1]=X,A[2]=ee,A},Nn.add=function(A,k,X){return A[0]=k[0]+X[0],A[1]=k[1]+X[1],A[2]=k[2]+X[2],A},Nn.subtract=h,Nn.multiply=y,Nn.divide=E,Nn.ceil=function(A,k){return A[0]=Math.ceil(k[0]),A[1]=Math.ceil(k[1]),A[2]=Math.ceil(k[2]),A},Nn.floor=function(A,k){return A[0]=Math.floor(k[0]),A[1]=Math.floor(k[1]),A[2]=Math.floor(k[2]),A},Nn.min=function(A,k,X){return A[0]=Math.min(k[0],X[0]),A[1]=Math.min(k[1],X[1]),A[2]=Math.min(k[2],X[2]),A},Nn.max=function(A,k,X){return A[0]=Math.max(k[0],X[0]),A[1]=Math.max(k[1],X[1]),A[2]=Math.max(k[2],X[2]),A},Nn.round=function(A,k){return A[0]=Math.round(k[0]),A[1]=Math.round(k[1]),A[2]=Math.round(k[2]),A},Nn.scale=function(A,k,X){return A[0]=k[0]*X,A[1]=k[1]*X,A[2]=k[2]*X,A},Nn.scaleAndAdd=function(A,k,X,ee){return A[0]=k[0]+X[0]*ee,A[1]=k[1]+X[1]*ee,A[2]=k[2]+X[2]*ee,A},Nn.distance=O,Nn.squaredDistance=L,Nn.squaredLength=C,Nn.negate=function(A,k){return A[0]=-k[0],A[1]=-k[1],A[2]=-k[2],A},Nn.inverse=function(A,k){return A[0]=1/k[0],A[1]=1/k[1],A[2]=1/k[2],A},Nn.normalize=function(A,k){var X=k[0],ee=k[1],le=k[2],ue=X*X+ee*ee+le*le;return ue>0&&(ue=1/Math.sqrt(ue)),A[0]=k[0]*ue,A[1]=k[1]*ue,A[2]=k[2]*ue,A},Nn.dot=$,Nn.cross=function(A,k,X){var ee=k[0],le=k[1],ue=k[2],ie=X[0],ye=X[1],Se=X[2];return A[0]=le*Se-ue*ye,A[1]=ue*ie-ee*Se,A[2]=ee*ye-le*ie,A},Nn.lerp=function(A,k,X,ee){var le=k[0],ue=k[1],ie=k[2];return A[0]=le+ee*(X[0]-le),A[1]=ue+ee*(X[1]-ue),A[2]=ie+ee*(X[2]-ie),A},Nn.hermite=function(A,k,X,ee,le,ue){var ie=ue*ue,ye=ie*(2*ue-3)+1,Se=ie*(ue-2)+ue,$e=ie*(ue-1),et=ie*(3-2*ue);return A[0]=k[0]*ye+X[0]*Se+ee[0]*$e+le[0]*et,A[1]=k[1]*ye+X[1]*Se+ee[1]*$e+le[1]*et,A[2]=k[2]*ye+X[2]*Se+ee[2]*$e+le[2]*et,A},Nn.bezier=function(A,k,X,ee,le,ue){var ie=1-ue,ye=ie*ie,Se=ue*ue,$e=ye*ie,et=3*ue*ye,Ye=3*Se*ie,Xe=Se*ue;return A[0]=k[0]*$e+X[0]*et+ee[0]*Ye+le[0]*Xe,A[1]=k[1]*$e+X[1]*et+ee[1]*Ye+le[1]*Xe,A[2]=k[2]*$e+X[2]*et+ee[2]*Ye+le[2]*Xe,A},Nn.random=function(A,k){k=k||1;var X=2*n.RANDOM()*Math.PI,ee=2*n.RANDOM()-1,le=Math.sqrt(1-ee*ee)*k;return A[0]=Math.cos(X)*le,A[1]=Math.sin(X)*le,A[2]=ee*k,A},Nn.transformMat4=function(A,k,X){var ee=k[0],le=k[1],ue=k[2],ie=X[3]*ee+X[7]*le+X[11]*ue+X[15];return A[0]=(X[0]*ee+X[4]*le+X[8]*ue+X[12])/(ie=ie||1),A[1]=(X[1]*ee+X[5]*le+X[9]*ue+X[13])/ie,A[2]=(X[2]*ee+X[6]*le+X[10]*ue+X[14])/ie,A},Nn.transformMat3=function(A,k,X){var ee=k[0],le=k[1],ue=k[2];return A[0]=ee*X[0]+le*X[3]+ue*X[6],A[1]=ee*X[1]+le*X[4]+ue*X[7],A[2]=ee*X[2]+le*X[5]+ue*X[8],A},Nn.transformQuat=function(A,k,X){var ee=X[0],le=X[1],ue=X[2],ie=k[0],ye=k[1],Se=k[2],$e=le*Se-ue*ye,et=ue*ie-ee*Se,Ye=ee*ye-le*ie,Xe=le*Ye-ue*et,Ct=ue*$e-ee*Ye,at=ee*et-le*$e,St=2*X[3];return et*=St,Ye*=St,Ct*=2,at*=2,A[0]=ie+($e*=St)+(Xe*=2),A[1]=ye+et+Ct,A[2]=Se+Ye+at,A},Nn.rotateX=function(A,k,X,ee){var le=[],ue=[];return le[0]=k[0]-X[0],le[1]=k[1]-X[1],le[2]=k[2]-X[2],ue[0]=le[0],ue[1]=le[1]*Math.cos(ee)-le[2]*Math.sin(ee),ue[2]=le[1]*Math.sin(ee)+le[2]*Math.cos(ee),A[0]=ue[0]+X[0],A[1]=ue[1]+X[1],A[2]=ue[2]+X[2],A},Nn.rotateY=function(A,k,X,ee){var le=[],ue=[];return le[0]=k[0]-X[0],le[1]=k[1]-X[1],le[2]=k[2]-X[2],ue[0]=le[2]*Math.sin(ee)+le[0]*Math.cos(ee),ue[1]=le[1],ue[2]=le[2]*Math.cos(ee)-le[0]*Math.sin(ee),A[0]=ue[0]+X[0],A[1]=ue[1]+X[1],A[2]=ue[2]+X[2],A},Nn.rotateZ=function(A,k,X,ee){var le=[],ue=[];return le[0]=k[0]-X[0],le[1]=k[1]-X[1],le[2]=k[2]-X[2],ue[0]=le[0]*Math.cos(ee)-le[1]*Math.sin(ee),ue[1]=le[0]*Math.sin(ee)+le[1]*Math.cos(ee),ue[2]=le[2],A[0]=ue[0]+X[0],A[1]=ue[1]+X[1],A[2]=ue[2]+X[2],A},Nn.angle=function(A,k){var X=A[0],ee=A[1],le=A[2],ue=k[0],ie=k[1],ye=k[2],Se=Math.sqrt(X*X+ee*ee+le*le)*Math.sqrt(ue*ue+ie*ie+ye*ye),$e=Se&&$(A,k)/Se;return Math.acos(Math.min(Math.max($e,-1),1))},Nn.zero=function(A){return A[0]=0,A[1]=0,A[2]=0,A},Nn.str=function(A){return"vec3("+A[0]+", "+A[1]+", "+A[2]+")"},Nn.exactEquals=function(A,k){return A[0]===k[0]&&A[1]===k[1]&&A[2]===k[2]},Nn.equals=function(A,k){var X=A[0],ee=A[1],le=A[2],ue=k[0],ie=k[1],ye=k[2];return Math.abs(X-ue)<=n.EPSILON*Math.max(1,Math.abs(X),Math.abs(ue))&&Math.abs(ee-ie)<=n.EPSILON*Math.max(1,Math.abs(ee),Math.abs(ie))&&Math.abs(le-ye)<=n.EPSILON*Math.max(1,Math.abs(le),Math.abs(ye))},Nn.forEach=Nn.sqrLen=Nn.len=Nn.sqrDist=Nn.dist=Nn.div=Nn.mul=Nn.sub=void 0;var n=function(A,k){if(A&&A.__esModule)return A;if(A===null||c(A)!=="object"&&typeof A!="function")return{default:A};var X=a(void 0);if(X&&X.has(A))return X.get(A);var ee={},le=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ue in A)if(ue!=="default"&&Object.prototype.hasOwnProperty.call(A,ue)){var ie=le?Object.getOwnPropertyDescriptor(A,ue):null;ie&&(ie.get||ie.set)?Object.defineProperty(ee,ue,ie):ee[ue]=A[ue]}return ee.default=A,X&&X.set(A,ee),ee}(De());function a(A){if(typeof WeakMap!="function")return null;var k=new WeakMap,X=new WeakMap;return(a=function(ee){return ee?X:k})(A)}function f(){var A=new n.ARRAY_TYPE(3);return n.ARRAY_TYPE!=Float32Array&&(A[0]=0,A[1]=0,A[2]=0),A}function v(A){return Math.hypot(A[0],A[1],A[2])}function h(A,k,X){return A[0]=k[0]-X[0],A[1]=k[1]-X[1],A[2]=k[2]-X[2],A}function y(A,k,X){return A[0]=k[0]*X[0],A[1]=k[1]*X[1],A[2]=k[2]*X[2],A}function E(A,k,X){return A[0]=k[0]/X[0],A[1]=k[1]/X[1],A[2]=k[2]/X[2],A}function O(A,k){return Math.hypot(k[0]-A[0],k[1]-A[1],k[2]-A[2])}function L(A,k){var X=k[0]-A[0],ee=k[1]-A[1],le=k[2]-A[2];return X*X+ee*ee+le*le}function C(A){var k=A[0],X=A[1],ee=A[2];return k*k+X*X+ee*ee}function $(A,k){return A[0]*k[0]+A[1]*k[1]+A[2]*k[2]}Nn.sub=h,Nn.mul=y,Nn.div=E,Nn.dist=O,Nn.sqrDist=L,Nn.len=v,Nn.sqrLen=C;var z,P=(z=f(),function(A,k,X,ee,le,ue){var ie,ye;for(k||(k=3),X||(X=0),ye=ee?Math.min(ee*k+X,A.length):A.length,ie=X;ie<ye;ie+=k)z[0]=A[ie],z[1]=A[ie+1],z[2]=A[ie+2],le(z,z,ue),A[ie]=z[0],A[ie+1]=z[1],A[ie+2]=z[2];return A});return Nn.forEach=P,Nn}var Pt,Hr,Rn={};function Fn(){if(Pt)return Rn;function c(P){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},c(P)}Pt=1,Object.defineProperty(Rn,"__esModule",{value:!0}),Rn.create=f,Rn.clone=function(P){var A=new n.ARRAY_TYPE(4);return A[0]=P[0],A[1]=P[1],A[2]=P[2],A[3]=P[3],A},Rn.fromValues=function(P,A,k,X){var ee=new n.ARRAY_TYPE(4);return ee[0]=P,ee[1]=A,ee[2]=k,ee[3]=X,ee},Rn.copy=function(P,A){return P[0]=A[0],P[1]=A[1],P[2]=A[2],P[3]=A[3],P},Rn.set=function(P,A,k,X,ee){return P[0]=A,P[1]=k,P[2]=X,P[3]=ee,P},Rn.add=function(P,A,k){return P[0]=A[0]+k[0],P[1]=A[1]+k[1],P[2]=A[2]+k[2],P[3]=A[3]+k[3],P},Rn.subtract=v,Rn.multiply=h,Rn.divide=y,Rn.ceil=function(P,A){return P[0]=Math.ceil(A[0]),P[1]=Math.ceil(A[1]),P[2]=Math.ceil(A[2]),P[3]=Math.ceil(A[3]),P},Rn.floor=function(P,A){return P[0]=Math.floor(A[0]),P[1]=Math.floor(A[1]),P[2]=Math.floor(A[2]),P[3]=Math.floor(A[3]),P},Rn.min=function(P,A,k){return P[0]=Math.min(A[0],k[0]),P[1]=Math.min(A[1],k[1]),P[2]=Math.min(A[2],k[2]),P[3]=Math.min(A[3],k[3]),P},Rn.max=function(P,A,k){return P[0]=Math.max(A[0],k[0]),P[1]=Math.max(A[1],k[1]),P[2]=Math.max(A[2],k[2]),P[3]=Math.max(A[3],k[3]),P},Rn.round=function(P,A){return P[0]=Math.round(A[0]),P[1]=Math.round(A[1]),P[2]=Math.round(A[2]),P[3]=Math.round(A[3]),P},Rn.scale=function(P,A,k){return P[0]=A[0]*k,P[1]=A[1]*k,P[2]=A[2]*k,P[3]=A[3]*k,P},Rn.scaleAndAdd=function(P,A,k,X){return P[0]=A[0]+k[0]*X,P[1]=A[1]+k[1]*X,P[2]=A[2]+k[2]*X,P[3]=A[3]+k[3]*X,P},Rn.distance=E,Rn.squaredDistance=O,Rn.length=L,Rn.squaredLength=C,Rn.negate=function(P,A){return P[0]=-A[0],P[1]=-A[1],P[2]=-A[2],P[3]=-A[3],P},Rn.inverse=function(P,A){return P[0]=1/A[0],P[1]=1/A[1],P[2]=1/A[2],P[3]=1/A[3],P},Rn.normalize=function(P,A){var k=A[0],X=A[1],ee=A[2],le=A[3],ue=k*k+X*X+ee*ee+le*le;return ue>0&&(ue=1/Math.sqrt(ue)),P[0]=k*ue,P[1]=X*ue,P[2]=ee*ue,P[3]=le*ue,P},Rn.dot=function(P,A){return P[0]*A[0]+P[1]*A[1]+P[2]*A[2]+P[3]*A[3]},Rn.cross=function(P,A,k,X){var ee=k[0]*X[1]-k[1]*X[0],le=k[0]*X[2]-k[2]*X[0],ue=k[0]*X[3]-k[3]*X[0],ie=k[1]*X[2]-k[2]*X[1],ye=k[1]*X[3]-k[3]*X[1],Se=k[2]*X[3]-k[3]*X[2],$e=A[0],et=A[1],Ye=A[2],Xe=A[3];return P[0]=et*Se-Ye*ye+Xe*ie,P[1]=-$e*Se+Ye*ue-Xe*le,P[2]=$e*ye-et*ue+Xe*ee,P[3]=-$e*ie+et*le-Ye*ee,P},Rn.lerp=function(P,A,k,X){var ee=A[0],le=A[1],ue=A[2],ie=A[3];return P[0]=ee+X*(k[0]-ee),P[1]=le+X*(k[1]-le),P[2]=ue+X*(k[2]-ue),P[3]=ie+X*(k[3]-ie),P},Rn.random=function(P,A){var k,X,ee,le,ue,ie;A=A||1;do ue=(k=2*n.RANDOM()-1)*k+(X=2*n.RANDOM()-1)*X;while(ue>=1);do ie=(ee=2*n.RANDOM()-1)*ee+(le=2*n.RANDOM()-1)*le;while(ie>=1);var ye=Math.sqrt((1-ue)/ie);return P[0]=A*k,P[1]=A*X,P[2]=A*ee*ye,P[3]=A*le*ye,P},Rn.transformMat4=function(P,A,k){var X=A[0],ee=A[1],le=A[2],ue=A[3];return P[0]=k[0]*X+k[4]*ee+k[8]*le+k[12]*ue,P[1]=k[1]*X+k[5]*ee+k[9]*le+k[13]*ue,P[2]=k[2]*X+k[6]*ee+k[10]*le+k[14]*ue,P[3]=k[3]*X+k[7]*ee+k[11]*le+k[15]*ue,P},Rn.transformQuat=function(P,A,k){var X=A[0],ee=A[1],le=A[2],ue=k[0],ie=k[1],ye=k[2],Se=k[3],$e=Se*X+ie*le-ye*ee,et=Se*ee+ye*X-ue*le,Ye=Se*le+ue*ee-ie*X,Xe=-ue*X-ie*ee-ye*le;return P[0]=$e*Se+Xe*-ue+et*-ye-Ye*-ie,P[1]=et*Se+Xe*-ie+Ye*-ue-$e*-ye,P[2]=Ye*Se+Xe*-ye+$e*-ie-et*-ue,P[3]=A[3],P},Rn.zero=function(P){return P[0]=0,P[1]=0,P[2]=0,P[3]=0,P},Rn.str=function(P){return"vec4("+P[0]+", "+P[1]+", "+P[2]+", "+P[3]+")"},Rn.exactEquals=function(P,A){return P[0]===A[0]&&P[1]===A[1]&&P[2]===A[2]&&P[3]===A[3]},Rn.equals=function(P,A){var k=P[0],X=P[1],ee=P[2],le=P[3],ue=A[0],ie=A[1],ye=A[2],Se=A[3];return Math.abs(k-ue)<=n.EPSILON*Math.max(1,Math.abs(k),Math.abs(ue))&&Math.abs(X-ie)<=n.EPSILON*Math.max(1,Math.abs(X),Math.abs(ie))&&Math.abs(ee-ye)<=n.EPSILON*Math.max(1,Math.abs(ee),Math.abs(ye))&&Math.abs(le-Se)<=n.EPSILON*Math.max(1,Math.abs(le),Math.abs(Se))},Rn.forEach=Rn.sqrLen=Rn.len=Rn.sqrDist=Rn.dist=Rn.div=Rn.mul=Rn.sub=void 0;var n=function(P,A){if(P&&P.__esModule)return P;if(P===null||c(P)!=="object"&&typeof P!="function")return{default:P};var k=a(void 0);if(k&&k.has(P))return k.get(P);var X={},ee=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var le in P)if(le!=="default"&&Object.prototype.hasOwnProperty.call(P,le)){var ue=ee?Object.getOwnPropertyDescriptor(P,le):null;ue&&(ue.get||ue.set)?Object.defineProperty(X,le,ue):X[le]=P[le]}return X.default=P,k&&k.set(P,X),X}(De());function a(P){if(typeof WeakMap!="function")return null;var A=new WeakMap,k=new WeakMap;return(a=function(X){return X?k:A})(P)}function f(){var P=new n.ARRAY_TYPE(4);return n.ARRAY_TYPE!=Float32Array&&(P[0]=0,P[1]=0,P[2]=0,P[3]=0),P}function v(P,A,k){return P[0]=A[0]-k[0],P[1]=A[1]-k[1],P[2]=A[2]-k[2],P[3]=A[3]-k[3],P}function h(P,A,k){return P[0]=A[0]*k[0],P[1]=A[1]*k[1],P[2]=A[2]*k[2],P[3]=A[3]*k[3],P}function y(P,A,k){return P[0]=A[0]/k[0],P[1]=A[1]/k[1],P[2]=A[2]/k[2],P[3]=A[3]/k[3],P}function E(P,A){return Math.hypot(A[0]-P[0],A[1]-P[1],A[2]-P[2],A[3]-P[3])}function O(P,A){var k=A[0]-P[0],X=A[1]-P[1],ee=A[2]-P[2],le=A[3]-P[3];return k*k+X*X+ee*ee+le*le}function L(P){return Math.hypot(P[0],P[1],P[2],P[3])}function C(P){var A=P[0],k=P[1],X=P[2],ee=P[3];return A*A+k*k+X*X+ee*ee}Rn.sub=v,Rn.mul=h,Rn.div=y,Rn.dist=E,Rn.sqrDist=O,Rn.len=L,Rn.sqrLen=C;var $,z=($=f(),function(P,A,k,X,ee,le){var ue,ie;for(A||(A=4),k||(k=0),ie=X?Math.min(X*A+k,P.length):P.length,ue=k;ue<ie;ue+=A)$[0]=P[ue],$[1]=P[ue+1],$[2]=P[ue+2],$[3]=P[ue+3],ee($,$,le),P[ue]=$[0],P[ue+1]=$[1],P[ue+2]=$[2],P[ue+3]=$[3];return P});return Rn.forEach=z,Rn}function Br(){if(Hr)return En;function c(at){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(St){return typeof St}:function(St){return St&&typeof Symbol=="function"&&St.constructor===Symbol&&St!==Symbol.prototype?"symbol":typeof St},c(at)}Hr=1,Object.defineProperty(En,"__esModule",{value:!0}),En.create=E,En.identity=function(at){return at[0]=0,at[1]=0,at[2]=0,at[3]=1,at},En.setAxisAngle=O,En.getAxisAngle=function(at,St){var At=2*Math.acos(St[3]),$t=Math.sin(At/2);return $t>n.EPSILON?(at[0]=St[0]/$t,at[1]=St[1]/$t,at[2]=St[2]/$t):(at[0]=1,at[1]=0,at[2]=0),At},En.getAngle=function(at,St){var At=k(at,St);return Math.acos(2*At*At-1)},En.multiply=L,En.rotateX=function(at,St,At){At*=.5;var $t=St[0],Ft=St[1],Yt=St[2],un=St[3],Wt=Math.sin(At),jn=Math.cos(At);return at[0]=$t*jn+un*Wt,at[1]=Ft*jn+Yt*Wt,at[2]=Yt*jn-Ft*Wt,at[3]=un*jn-$t*Wt,at},En.rotateY=function(at,St,At){At*=.5;var $t=St[0],Ft=St[1],Yt=St[2],un=St[3],Wt=Math.sin(At),jn=Math.cos(At);return at[0]=$t*jn-Yt*Wt,at[1]=Ft*jn+un*Wt,at[2]=Yt*jn+$t*Wt,at[3]=un*jn-Ft*Wt,at},En.rotateZ=function(at,St,At){At*=.5;var $t=St[0],Ft=St[1],Yt=St[2],un=St[3],Wt=Math.sin(At),jn=Math.cos(At);return at[0]=$t*jn+Ft*Wt,at[1]=Ft*jn-$t*Wt,at[2]=Yt*jn+un*Wt,at[3]=un*jn-Yt*Wt,at},En.calculateW=function(at,St){var At=St[0],$t=St[1],Ft=St[2];return at[0]=At,at[1]=$t,at[2]=Ft,at[3]=Math.sqrt(Math.abs(1-At*At-$t*$t-Ft*Ft)),at},En.exp=C,En.ln=$,En.pow=function(at,St,At){return $(at,St),A(at,at,At),C(at,at),at},En.slerp=z,En.random=function(at){var St=n.RANDOM(),At=n.RANDOM(),$t=n.RANDOM(),Ft=Math.sqrt(1-St),Yt=Math.sqrt(St);return at[0]=Ft*Math.sin(2*Math.PI*At),at[1]=Ft*Math.cos(2*Math.PI*At),at[2]=Yt*Math.sin(2*Math.PI*$t),at[3]=Yt*Math.cos(2*Math.PI*$t),at},En.invert=function(at,St){var At=St[0],$t=St[1],Ft=St[2],Yt=St[3],un=At*At+$t*$t+Ft*Ft+Yt*Yt,Wt=un?1/un:0;return at[0]=-At*Wt,at[1]=-$t*Wt,at[2]=-Ft*Wt,at[3]=Yt*Wt,at},En.conjugate=function(at,St){return at[0]=-St[0],at[1]=-St[1],at[2]=-St[2],at[3]=St[3],at},En.fromMat3=P,En.fromEuler=function(at,St,At,$t){var Ft=.5*Math.PI/180;St*=Ft,At*=Ft,$t*=Ft;var Yt=Math.sin(St),un=Math.cos(St),Wt=Math.sin(At),jn=Math.cos(At),cr=Math.sin($t),kn=Math.cos($t);return at[0]=Yt*jn*kn-un*Wt*cr,at[1]=un*Wt*kn+Yt*jn*cr,at[2]=un*jn*cr-Yt*Wt*kn,at[3]=un*jn*kn+Yt*Wt*cr,at},En.str=function(at){return"quat("+at[0]+", "+at[1]+", "+at[2]+", "+at[3]+")"},En.setAxes=En.sqlerp=En.rotationTo=En.equals=En.exactEquals=En.normalize=En.sqrLen=En.squaredLength=En.len=En.length=En.lerp=En.dot=En.scale=En.mul=En.add=En.set=En.copy=En.fromValues=En.clone=void 0;var n=y(De()),a=y(Qt()),f=y(fi()),v=y(Fn());function h(at){if(typeof WeakMap!="function")return null;var St=new WeakMap,At=new WeakMap;return(h=function($t){return $t?At:St})(at)}function y(at,St){if(at&&at.__esModule)return at;if(at===null||c(at)!=="object"&&typeof at!="function")return{default:at};var At=h(St);if(At&&At.has(at))return At.get(at);var $t={},Ft=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Yt in at)if(Yt!=="default"&&Object.prototype.hasOwnProperty.call(at,Yt)){var un=Ft?Object.getOwnPropertyDescriptor(at,Yt):null;un&&(un.get||un.set)?Object.defineProperty($t,Yt,un):$t[Yt]=at[Yt]}return $t.default=at,At&&At.set(at,$t),$t}function E(){var at=new n.ARRAY_TYPE(4);return n.ARRAY_TYPE!=Float32Array&&(at[0]=0,at[1]=0,at[2]=0),at[3]=1,at}function O(at,St,At){At*=.5;var $t=Math.sin(At);return at[0]=$t*St[0],at[1]=$t*St[1],at[2]=$t*St[2],at[3]=Math.cos(At),at}function L(at,St,At){var $t=St[0],Ft=St[1],Yt=St[2],un=St[3],Wt=At[0],jn=At[1],cr=At[2],kn=At[3];return at[0]=$t*kn+un*Wt+Ft*cr-Yt*jn,at[1]=Ft*kn+un*jn+Yt*Wt-$t*cr,at[2]=Yt*kn+un*cr+$t*jn-Ft*Wt,at[3]=un*kn-$t*Wt-Ft*jn-Yt*cr,at}function C(at,St){var At=St[0],$t=St[1],Ft=St[2],Yt=St[3],un=Math.sqrt(At*At+$t*$t+Ft*Ft),Wt=Math.exp(Yt),jn=un>0?Wt*Math.sin(un)/un:0;return at[0]=At*jn,at[1]=$t*jn,at[2]=Ft*jn,at[3]=Wt*Math.cos(un),at}function $(at,St){var At=St[0],$t=St[1],Ft=St[2],Yt=St[3],un=Math.sqrt(At*At+$t*$t+Ft*Ft),Wt=un>0?Math.atan2(un,Yt)/un:0;return at[0]=At*Wt,at[1]=$t*Wt,at[2]=Ft*Wt,at[3]=.5*Math.log(At*At+$t*$t+Ft*Ft+Yt*Yt),at}function z(at,St,At,$t){var Ft,Yt,un,Wt,jn,cr=St[0],kn=St[1],Yr=St[2],kr=St[3],br=At[0],fr=At[1],Mi=At[2],ti=At[3];return(Yt=cr*br+kn*fr+Yr*Mi+kr*ti)<0&&(Yt=-Yt,br=-br,fr=-fr,Mi=-Mi,ti=-ti),1-Yt>n.EPSILON?(Ft=Math.acos(Yt),un=Math.sin(Ft),Wt=Math.sin((1-$t)*Ft)/un,jn=Math.sin($t*Ft)/un):(Wt=1-$t,jn=$t),at[0]=Wt*cr+jn*br,at[1]=Wt*kn+jn*fr,at[2]=Wt*Yr+jn*Mi,at[3]=Wt*kr+jn*ti,at}function P(at,St){var At,$t=St[0]+St[4]+St[8];if($t>0)At=Math.sqrt($t+1),at[3]=.5*At,at[0]=(St[5]-St[7])*(At=.5/At),at[1]=(St[6]-St[2])*At,at[2]=(St[1]-St[3])*At;else{var Ft=0;St[4]>St[0]&&(Ft=1),St[8]>St[3*Ft+Ft]&&(Ft=2);var Yt=(Ft+1)%3,un=(Ft+2)%3;At=Math.sqrt(St[3*Ft+Ft]-St[3*Yt+Yt]-St[3*un+un]+1),at[Ft]=.5*At,at[3]=(St[3*Yt+un]-St[3*un+Yt])*(At=.5/At),at[Yt]=(St[3*Yt+Ft]+St[3*Ft+Yt])*At,at[un]=(St[3*un+Ft]+St[3*Ft+un])*At}return at}En.clone=v.clone,En.fromValues=v.fromValues,En.copy=v.copy,En.set=v.set,En.add=v.add,En.mul=L;var A=v.scale;En.scale=A;var k=v.dot;En.dot=k,En.lerp=v.lerp;var X=v.length;En.length=X,En.len=X;var ee=v.squaredLength;En.squaredLength=ee,En.sqrLen=ee;var le=v.normalize;En.normalize=le,En.exactEquals=v.exactEquals,En.equals=v.equals;var ue,ie,ye,Se=(ue=f.create(),ie=f.fromValues(1,0,0),ye=f.fromValues(0,1,0),function(at,St,At){var $t=f.dot(St,At);return $t<-.999999?(f.cross(ue,ie,St),f.len(ue)<1e-6&&f.cross(ue,ye,St),f.normalize(ue,ue),O(at,ue,Math.PI),at):$t>.999999?(at[0]=0,at[1]=0,at[2]=0,at[3]=1,at):(f.cross(ue,St,At),at[0]=ue[0],at[1]=ue[1],at[2]=ue[2],at[3]=1+$t,le(at,at))});En.rotationTo=Se;var $e,et,Ye=($e=E(),et=E(),function(at,St,At,$t,Ft,Yt){return z($e,St,Ft,Yt),z(et,At,$t,Yt),z(at,$e,et,2*Yt*(1-Yt)),at});En.sqlerp=Ye;var Xe,Ct=(Xe=a.create(),function(at,St,At,$t){return Xe[0]=At[0],Xe[3]=At[1],Xe[6]=At[2],Xe[1]=$t[0],Xe[4]=$t[1],Xe[7]=$t[2],Xe[2]=-St[0],Xe[5]=-St[1],Xe[8]=-St[2],le(at,P(at,Xe))});return En.setAxes=Ct,En}var Tr,nr={};function Qr(){if(Tr)return nr;function c(z){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},c(z)}Tr=1,Object.defineProperty(nr,"__esModule",{value:!0}),nr.create=function(){var z=new n.ARRAY_TYPE(8);return n.ARRAY_TYPE!=Float32Array&&(z[0]=0,z[1]=0,z[2]=0,z[4]=0,z[5]=0,z[6]=0,z[7]=0),z[3]=1,z},nr.clone=function(z){var P=new n.ARRAY_TYPE(8);return P[0]=z[0],P[1]=z[1],P[2]=z[2],P[3]=z[3],P[4]=z[4],P[5]=z[5],P[6]=z[6],P[7]=z[7],P},nr.fromValues=function(z,P,A,k,X,ee,le,ue){var ie=new n.ARRAY_TYPE(8);return ie[0]=z,ie[1]=P,ie[2]=A,ie[3]=k,ie[4]=X,ie[5]=ee,ie[6]=le,ie[7]=ue,ie},nr.fromRotationTranslationValues=function(z,P,A,k,X,ee,le){var ue=new n.ARRAY_TYPE(8);ue[0]=z,ue[1]=P,ue[2]=A,ue[3]=k;var ie=.5*X,ye=.5*ee,Se=.5*le;return ue[4]=ie*k+ye*A-Se*P,ue[5]=ye*k+Se*z-ie*A,ue[6]=Se*k+ie*P-ye*z,ue[7]=-ie*z-ye*P-Se*A,ue},nr.fromRotationTranslation=y,nr.fromTranslation=function(z,P){return z[0]=0,z[1]=0,z[2]=0,z[3]=1,z[4]=.5*P[0],z[5]=.5*P[1],z[6]=.5*P[2],z[7]=0,z},nr.fromRotation=function(z,P){return z[0]=P[0],z[1]=P[1],z[2]=P[2],z[3]=P[3],z[4]=0,z[5]=0,z[6]=0,z[7]=0,z},nr.fromMat4=function(z,P){var A=a.create();f.getRotation(A,P);var k=new n.ARRAY_TYPE(3);return f.getTranslation(k,P),y(z,A,k),z},nr.copy=E,nr.identity=function(z){return z[0]=0,z[1]=0,z[2]=0,z[3]=1,z[4]=0,z[5]=0,z[6]=0,z[7]=0,z},nr.set=function(z,P,A,k,X,ee,le,ue,ie){return z[0]=P,z[1]=A,z[2]=k,z[3]=X,z[4]=ee,z[5]=le,z[6]=ue,z[7]=ie,z},nr.getDual=function(z,P){return z[0]=P[4],z[1]=P[5],z[2]=P[6],z[3]=P[7],z},nr.setDual=function(z,P){return z[4]=P[0],z[5]=P[1],z[6]=P[2],z[7]=P[3],z},nr.getTranslation=function(z,P){var A=P[4],k=P[5],X=P[6],ee=P[7],le=-P[0],ue=-P[1],ie=-P[2],ye=P[3];return z[0]=2*(A*ye+ee*le+k*ie-X*ue),z[1]=2*(k*ye+ee*ue+X*le-A*ie),z[2]=2*(X*ye+ee*ie+A*ue-k*le),z},nr.translate=function(z,P,A){var k=P[0],X=P[1],ee=P[2],le=P[3],ue=.5*A[0],ie=.5*A[1],ye=.5*A[2],Se=P[4],$e=P[5],et=P[6],Ye=P[7];return z[0]=k,z[1]=X,z[2]=ee,z[3]=le,z[4]=le*ue+X*ye-ee*ie+Se,z[5]=le*ie+ee*ue-k*ye+$e,z[6]=le*ye+k*ie-X*ue+et,z[7]=-k*ue-X*ie-ee*ye+Ye,z},nr.rotateX=function(z,P,A){var k=-P[0],X=-P[1],ee=-P[2],le=P[3],ue=P[4],ie=P[5],ye=P[6],Se=P[7],$e=ue*le+Se*k+ie*ee-ye*X,et=ie*le+Se*X+ye*k-ue*ee,Ye=ye*le+Se*ee+ue*X-ie*k,Xe=Se*le-ue*k-ie*X-ye*ee;return a.rotateX(z,P,A),z[4]=$e*(le=z[3])+Xe*(k=z[0])+et*(ee=z[2])-Ye*(X=z[1]),z[5]=et*le+Xe*X+Ye*k-$e*ee,z[6]=Ye*le+Xe*ee+$e*X-et*k,z[7]=Xe*le-$e*k-et*X-Ye*ee,z},nr.rotateY=function(z,P,A){var k=-P[0],X=-P[1],ee=-P[2],le=P[3],ue=P[4],ie=P[5],ye=P[6],Se=P[7],$e=ue*le+Se*k+ie*ee-ye*X,et=ie*le+Se*X+ye*k-ue*ee,Ye=ye*le+Se*ee+ue*X-ie*k,Xe=Se*le-ue*k-ie*X-ye*ee;return a.rotateY(z,P,A),z[4]=$e*(le=z[3])+Xe*(k=z[0])+et*(ee=z[2])-Ye*(X=z[1]),z[5]=et*le+Xe*X+Ye*k-$e*ee,z[6]=Ye*le+Xe*ee+$e*X-et*k,z[7]=Xe*le-$e*k-et*X-Ye*ee,z},nr.rotateZ=function(z,P,A){var k=-P[0],X=-P[1],ee=-P[2],le=P[3],ue=P[4],ie=P[5],ye=P[6],Se=P[7],$e=ue*le+Se*k+ie*ee-ye*X,et=ie*le+Se*X+ye*k-ue*ee,Ye=ye*le+Se*ee+ue*X-ie*k,Xe=Se*le-ue*k-ie*X-ye*ee;return a.rotateZ(z,P,A),z[4]=$e*(le=z[3])+Xe*(k=z[0])+et*(ee=z[2])-Ye*(X=z[1]),z[5]=et*le+Xe*X+Ye*k-$e*ee,z[6]=Ye*le+Xe*ee+$e*X-et*k,z[7]=Xe*le-$e*k-et*X-Ye*ee,z},nr.rotateByQuatAppend=function(z,P,A){var k=A[0],X=A[1],ee=A[2],le=A[3],ue=P[0],ie=P[1],ye=P[2],Se=P[3];return z[0]=ue*le+Se*k+ie*ee-ye*X,z[1]=ie*le+Se*X+ye*k-ue*ee,z[2]=ye*le+Se*ee+ue*X-ie*k,z[3]=Se*le-ue*k-ie*X-ye*ee,z[4]=(ue=P[4])*le+(Se=P[7])*k+(ie=P[5])*ee-(ye=P[6])*X,z[5]=ie*le+Se*X+ye*k-ue*ee,z[6]=ye*le+Se*ee+ue*X-ie*k,z[7]=Se*le-ue*k-ie*X-ye*ee,z},nr.rotateByQuatPrepend=function(z,P,A){var k=P[0],X=P[1],ee=P[2],le=P[3],ue=A[0],ie=A[1],ye=A[2],Se=A[3];return z[0]=k*Se+le*ue+X*ye-ee*ie,z[1]=X*Se+le*ie+ee*ue-k*ye,z[2]=ee*Se+le*ye+k*ie-X*ue,z[3]=le*Se-k*ue-X*ie-ee*ye,z[4]=k*(Se=A[7])+le*(ue=A[4])+X*(ye=A[6])-ee*(ie=A[5]),z[5]=X*Se+le*ie+ee*ue-k*ye,z[6]=ee*Se+le*ye+k*ie-X*ue,z[7]=le*Se-k*ue-X*ie-ee*ye,z},nr.rotateAroundAxis=function(z,P,A,k){if(Math.abs(k)<n.EPSILON)return E(z,P);var X=Math.hypot(A[0],A[1],A[2]);k*=.5;var ee=Math.sin(k),le=ee*A[0]/X,ue=ee*A[1]/X,ie=ee*A[2]/X,ye=Math.cos(k),Se=P[0],$e=P[1],et=P[2],Ye=P[3];z[0]=Se*ye+Ye*le+$e*ie-et*ue,z[1]=$e*ye+Ye*ue+et*le-Se*ie,z[2]=et*ye+Ye*ie+Se*ue-$e*le,z[3]=Ye*ye-Se*le-$e*ue-et*ie;var Xe=P[4],Ct=P[5],at=P[6],St=P[7];return z[4]=Xe*ye+St*le+Ct*ie-at*ue,z[5]=Ct*ye+St*ue+at*le-Xe*ie,z[6]=at*ye+St*ie+Xe*ue-Ct*le,z[7]=St*ye-Xe*le-Ct*ue-at*ie,z},nr.add=function(z,P,A){return z[0]=P[0]+A[0],z[1]=P[1]+A[1],z[2]=P[2]+A[2],z[3]=P[3]+A[3],z[4]=P[4]+A[4],z[5]=P[5]+A[5],z[6]=P[6]+A[6],z[7]=P[7]+A[7],z},nr.multiply=O,nr.scale=function(z,P,A){return z[0]=P[0]*A,z[1]=P[1]*A,z[2]=P[2]*A,z[3]=P[3]*A,z[4]=P[4]*A,z[5]=P[5]*A,z[6]=P[6]*A,z[7]=P[7]*A,z},nr.lerp=function(z,P,A,k){var X=1-k;return L(P,A)<0&&(k=-k),z[0]=P[0]*X+A[0]*k,z[1]=P[1]*X+A[1]*k,z[2]=P[2]*X+A[2]*k,z[3]=P[3]*X+A[3]*k,z[4]=P[4]*X+A[4]*k,z[5]=P[5]*X+A[5]*k,z[6]=P[6]*X+A[6]*k,z[7]=P[7]*X+A[7]*k,z},nr.invert=function(z,P){var A=$(P);return z[0]=-P[0]/A,z[1]=-P[1]/A,z[2]=-P[2]/A,z[3]=P[3]/A,z[4]=-P[4]/A,z[5]=-P[5]/A,z[6]=-P[6]/A,z[7]=P[7]/A,z},nr.conjugate=function(z,P){return z[0]=-P[0],z[1]=-P[1],z[2]=-P[2],z[3]=P[3],z[4]=-P[4],z[5]=-P[5],z[6]=-P[6],z[7]=P[7],z},nr.normalize=function(z,P){var A=$(P);if(A>0){A=Math.sqrt(A);var k=P[0]/A,X=P[1]/A,ee=P[2]/A,le=P[3]/A,ue=P[4],ie=P[5],ye=P[6],Se=P[7],$e=k*ue+X*ie+ee*ye+le*Se;z[0]=k,z[1]=X,z[2]=ee,z[3]=le,z[4]=(ue-k*$e)/A,z[5]=(ie-X*$e)/A,z[6]=(ye-ee*$e)/A,z[7]=(Se-le*$e)/A}return z},nr.str=function(z){return"quat2("+z[0]+", "+z[1]+", "+z[2]+", "+z[3]+", "+z[4]+", "+z[5]+", "+z[6]+", "+z[7]+")"},nr.exactEquals=function(z,P){return z[0]===P[0]&&z[1]===P[1]&&z[2]===P[2]&&z[3]===P[3]&&z[4]===P[4]&&z[5]===P[5]&&z[6]===P[6]&&z[7]===P[7]},nr.equals=function(z,P){var A=z[0],k=z[1],X=z[2],ee=z[3],le=z[4],ue=z[5],ie=z[6],ye=z[7],Se=P[0],$e=P[1],et=P[2],Ye=P[3],Xe=P[4],Ct=P[5],at=P[6],St=P[7];return Math.abs(A-Se)<=n.EPSILON*Math.max(1,Math.abs(A),Math.abs(Se))&&Math.abs(k-$e)<=n.EPSILON*Math.max(1,Math.abs(k),Math.abs($e))&&Math.abs(X-et)<=n.EPSILON*Math.max(1,Math.abs(X),Math.abs(et))&&Math.abs(ee-Ye)<=n.EPSILON*Math.max(1,Math.abs(ee),Math.abs(Ye))&&Math.abs(le-Xe)<=n.EPSILON*Math.max(1,Math.abs(le),Math.abs(Xe))&&Math.abs(ue-Ct)<=n.EPSILON*Math.max(1,Math.abs(ue),Math.abs(Ct))&&Math.abs(ie-at)<=n.EPSILON*Math.max(1,Math.abs(ie),Math.abs(at))&&Math.abs(ye-St)<=n.EPSILON*Math.max(1,Math.abs(ye),Math.abs(St))},nr.sqrLen=nr.squaredLength=nr.len=nr.length=nr.dot=nr.mul=nr.setReal=nr.getReal=void 0;var n=h(De()),a=h(Br()),f=h(Xt());function v(z){if(typeof WeakMap!="function")return null;var P=new WeakMap,A=new WeakMap;return(v=function(k){return k?A:P})(z)}function h(z,P){if(z&&z.__esModule)return z;if(z===null||c(z)!=="object"&&typeof z!="function")return{default:z};var A=v(P);if(A&&A.has(z))return A.get(z);var k={},X=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ee in z)if(ee!=="default"&&Object.prototype.hasOwnProperty.call(z,ee)){var le=X?Object.getOwnPropertyDescriptor(z,ee):null;le&&(le.get||le.set)?Object.defineProperty(k,ee,le):k[ee]=z[ee]}return k.default=z,A&&A.set(z,k),k}function y(z,P,A){var k=.5*A[0],X=.5*A[1],ee=.5*A[2],le=P[0],ue=P[1],ie=P[2],ye=P[3];return z[0]=le,z[1]=ue,z[2]=ie,z[3]=ye,z[4]=k*ye+X*ie-ee*ue,z[5]=X*ye+ee*le-k*ie,z[6]=ee*ye+k*ue-X*le,z[7]=-k*le-X*ue-ee*ie,z}function E(z,P){return z[0]=P[0],z[1]=P[1],z[2]=P[2],z[3]=P[3],z[4]=P[4],z[5]=P[5],z[6]=P[6],z[7]=P[7],z}function O(z,P,A){var k=P[0],X=P[1],ee=P[2],le=P[3],ue=A[4],ie=A[5],ye=A[6],Se=A[7],$e=P[4],et=P[5],Ye=P[6],Xe=P[7],Ct=A[0],at=A[1],St=A[2],At=A[3];return z[0]=k*At+le*Ct+X*St-ee*at,z[1]=X*At+le*at+ee*Ct-k*St,z[2]=ee*At+le*St+k*at-X*Ct,z[3]=le*At-k*Ct-X*at-ee*St,z[4]=k*Se+le*ue+X*ye-ee*ie+$e*At+Xe*Ct+et*St-Ye*at,z[5]=X*Se+le*ie+ee*ue-k*ye+et*At+Xe*at+Ye*Ct-$e*St,z[6]=ee*Se+le*ye+k*ie-X*ue+Ye*At+Xe*St+$e*at-et*Ct,z[7]=le*Se-k*ue-X*ie-ee*ye+Xe*At-$e*Ct-et*at-Ye*St,z}nr.getReal=a.copy,nr.setReal=a.copy,nr.mul=O;var L=a.dot;nr.dot=L;var C=a.length;nr.length=C,nr.len=C;var $=a.squaredLength;return nr.squaredLength=$,nr.sqrLen=$,nr}var Mr,Jn,Rt={};function Tn(){if(Mr)return Rt;function c(P){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},c(P)}Mr=1,Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.create=f,Rt.clone=function(P){var A=new n.ARRAY_TYPE(2);return A[0]=P[0],A[1]=P[1],A},Rt.fromValues=function(P,A){var k=new n.ARRAY_TYPE(2);return k[0]=P,k[1]=A,k},Rt.copy=function(P,A){return P[0]=A[0],P[1]=A[1],P},Rt.set=function(P,A,k){return P[0]=A,P[1]=k,P},Rt.add=function(P,A,k){return P[0]=A[0]+k[0],P[1]=A[1]+k[1],P},Rt.subtract=v,Rt.multiply=h,Rt.divide=y,Rt.ceil=function(P,A){return P[0]=Math.ceil(A[0]),P[1]=Math.ceil(A[1]),P},Rt.floor=function(P,A){return P[0]=Math.floor(A[0]),P[1]=Math.floor(A[1]),P},Rt.min=function(P,A,k){return P[0]=Math.min(A[0],k[0]),P[1]=Math.min(A[1],k[1]),P},Rt.max=function(P,A,k){return P[0]=Math.max(A[0],k[0]),P[1]=Math.max(A[1],k[1]),P},Rt.round=function(P,A){return P[0]=Math.round(A[0]),P[1]=Math.round(A[1]),P},Rt.scale=function(P,A,k){return P[0]=A[0]*k,P[1]=A[1]*k,P},Rt.scaleAndAdd=function(P,A,k,X){return P[0]=A[0]+k[0]*X,P[1]=A[1]+k[1]*X,P},Rt.distance=E,Rt.squaredDistance=O,Rt.length=L,Rt.squaredLength=C,Rt.negate=function(P,A){return P[0]=-A[0],P[1]=-A[1],P},Rt.inverse=function(P,A){return P[0]=1/A[0],P[1]=1/A[1],P},Rt.normalize=function(P,A){var k=A[0],X=A[1],ee=k*k+X*X;return ee>0&&(ee=1/Math.sqrt(ee)),P[0]=A[0]*ee,P[1]=A[1]*ee,P},Rt.dot=function(P,A){return P[0]*A[0]+P[1]*A[1]},Rt.cross=function(P,A,k){var X=A[0]*k[1]-A[1]*k[0];return P[0]=P[1]=0,P[2]=X,P},Rt.lerp=function(P,A,k,X){var ee=A[0],le=A[1];return P[0]=ee+X*(k[0]-ee),P[1]=le+X*(k[1]-le),P},Rt.random=function(P,A){A=A||1;var k=2*n.RANDOM()*Math.PI;return P[0]=Math.cos(k)*A,P[1]=Math.sin(k)*A,P},Rt.transformMat2=function(P,A,k){var X=A[0],ee=A[1];return P[0]=k[0]*X+k[2]*ee,P[1]=k[1]*X+k[3]*ee,P},Rt.transformMat2d=function(P,A,k){var X=A[0],ee=A[1];return P[0]=k[0]*X+k[2]*ee+k[4],P[1]=k[1]*X+k[3]*ee+k[5],P},Rt.transformMat3=function(P,A,k){var X=A[0],ee=A[1];return P[0]=k[0]*X+k[3]*ee+k[6],P[1]=k[1]*X+k[4]*ee+k[7],P},Rt.transformMat4=function(P,A,k){var X=A[0],ee=A[1];return P[0]=k[0]*X+k[4]*ee+k[12],P[1]=k[1]*X+k[5]*ee+k[13],P},Rt.rotate=function(P,A,k,X){var ee=A[0]-k[0],le=A[1]-k[1],ue=Math.sin(X),ie=Math.cos(X);return P[0]=ee*ie-le*ue+k[0],P[1]=ee*ue+le*ie+k[1],P},Rt.angle=function(P,A){var k=P[0],X=P[1],ee=A[0],le=A[1],ue=Math.sqrt(k*k+X*X)*Math.sqrt(ee*ee+le*le);return Math.acos(Math.min(Math.max(ue&&(k*ee+X*le)/ue,-1),1))},Rt.zero=function(P){return P[0]=0,P[1]=0,P},Rt.str=function(P){return"vec2("+P[0]+", "+P[1]+")"},Rt.exactEquals=function(P,A){return P[0]===A[0]&&P[1]===A[1]},Rt.equals=function(P,A){var k=P[0],X=P[1],ee=A[0],le=A[1];return Math.abs(k-ee)<=n.EPSILON*Math.max(1,Math.abs(k),Math.abs(ee))&&Math.abs(X-le)<=n.EPSILON*Math.max(1,Math.abs(X),Math.abs(le))},Rt.forEach=Rt.sqrLen=Rt.sqrDist=Rt.dist=Rt.div=Rt.mul=Rt.sub=Rt.len=void 0;var n=function(P,A){if(P&&P.__esModule)return P;if(P===null||c(P)!=="object"&&typeof P!="function")return{default:P};var k=a(void 0);if(k&&k.has(P))return k.get(P);var X={},ee=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var le in P)if(le!=="default"&&Object.prototype.hasOwnProperty.call(P,le)){var ue=ee?Object.getOwnPropertyDescriptor(P,le):null;ue&&(ue.get||ue.set)?Object.defineProperty(X,le,ue):X[le]=P[le]}return X.default=P,k&&k.set(P,X),X}(De());function a(P){if(typeof WeakMap!="function")return null;var A=new WeakMap,k=new WeakMap;return(a=function(X){return X?k:A})(P)}function f(){var P=new n.ARRAY_TYPE(2);return n.ARRAY_TYPE!=Float32Array&&(P[0]=0,P[1]=0),P}function v(P,A,k){return P[0]=A[0]-k[0],P[1]=A[1]-k[1],P}function h(P,A,k){return P[0]=A[0]*k[0],P[1]=A[1]*k[1],P}function y(P,A,k){return P[0]=A[0]/k[0],P[1]=A[1]/k[1],P}function E(P,A){return Math.hypot(A[0]-P[0],A[1]-P[1])}function O(P,A){var k=A[0]-P[0],X=A[1]-P[1];return k*k+X*X}function L(P){return Math.hypot(P[0],P[1])}function C(P){var A=P[0],k=P[1];return A*A+k*k}Rt.len=L,Rt.sub=v,Rt.mul=h,Rt.div=y,Rt.dist=E,Rt.sqrDist=O,Rt.sqrLen=C;var $,z=($=f(),function(P,A,k,X,ee,le){var ue,ie;for(A||(A=2),k||(k=0),ie=X?Math.min(X*A+k,P.length):P.length,ue=k;ue<ie;ue+=A)$[0]=P[ue],$[1]=P[ue+1],ee($,$,le),P[ue]=$[0],P[ue+1]=$[1];return P});return Rt.forEach=z,Rt}function Gn(){if(Jn)return ot;function c(P){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},c(P)}Jn=1,Object.defineProperty(ot,"__esModule",{value:!0}),ot.vec4=ot.vec3=ot.vec2=ot.quat2=ot.quat=ot.mat4=ot.mat3=ot.mat2d=ot.mat2=ot.glMatrix=void 0;var n=z(De());ot.glMatrix=n;var a=z(qt());ot.mat2=a;var f=z(an());ot.mat2d=f;var v=z(Qt());ot.mat3=v;var h=z(Xt());ot.mat4=h;var y=z(Br());ot.quat=y;var E=z(Qr());ot.quat2=E;var O=z(Tn());ot.vec2=O;var L=z(fi());ot.vec3=L;var C=z(Fn());function $(P){if(typeof WeakMap!="function")return null;var A=new WeakMap,k=new WeakMap;return($=function(X){return X?k:A})(P)}function z(P,A){if(P&&P.__esModule)return P;if(P===null||c(P)!=="object"&&typeof P!="function")return{default:P};var k=$(A);if(k&&k.has(P))return k.get(P);var X={},ee=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var le in P)if(le!=="default"&&Object.prototype.hasOwnProperty.call(P,le)){var ue=ee?Object.getOwnPropertyDescriptor(P,le):null;ue&&(ue.get||ue.set)?Object.defineProperty(X,le,ue):X[le]=P[le]}return X.default=P,k&&k.set(P,X),X}return ot.vec4=C,ot}var mr,ir,zr,wr,J=Gn(),mn=function(){if(ir)return mr;function c(n,a,f,v){this.cx=3*n,this.bx=3*(f-n)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*a,this.by=3*(v-a)-this.cy,this.ay=1-this.cy-this.by,this.p1x=n,this.p1y=a,this.p2x=f,this.p2y=v}return ir=1,mr=c,c.prototype={sampleCurveX:function(n){return((this.ax*n+this.bx)*n+this.cx)*n},sampleCurveY:function(n){return((this.ay*n+this.by)*n+this.cy)*n},sampleCurveDerivativeX:function(n){return(3*this.ax*n+2*this.bx)*n+this.cx},solveCurveX:function(n,a){if(a===void 0&&(a=1e-6),n<0)return 0;if(n>1)return 1;for(var f=n,v=0;v<8;v++){var h=this.sampleCurveX(f)-n;if(Math.abs(h)<a)return f;var y=this.sampleCurveDerivativeX(f);if(Math.abs(y)<1e-6)break;f-=h/y}var E=0,O=1;for(f=n,v=0;v<20&&(h=this.sampleCurveX(f),!(Math.abs(h-n)<a));v++)n>h?E=f:O=f,f=.5*(O-E)+E;return f},solve:function(n,a){return this.sampleCurveY(this.solveCurveX(n,a))}},mr}(),Ui=Be(mn);function ki(){if(wr)return zr;function c(n,a){this.x=n,this.y=a}return wr=1,zr=c,c.prototype={clone:function(){return new c(this.x,this.y)},add:function(n){return this.clone()._add(n)},sub:function(n){return this.clone()._sub(n)},multByPoint:function(n){return this.clone()._multByPoint(n)},divByPoint:function(n){return this.clone()._divByPoint(n)},mult:function(n){return this.clone()._mult(n)},div:function(n){return this.clone()._div(n)},rotate:function(n){return this.clone()._rotate(n)},rotateAround:function(n,a){return this.clone()._rotateAround(n,a)},matMult:function(n){return this.clone()._matMult(n)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(n){return this.x===n.x&&this.y===n.y},dist:function(n){return Math.sqrt(this.distSqr(n))},distSqr:function(n){var a=n.x-this.x,f=n.y-this.y;return a*a+f*f},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(n){return Math.atan2(this.y-n.y,this.x-n.x)},angleWith:function(n){return this.angleWithSep(n.x,n.y)},angleWithSep:function(n,a){return Math.atan2(this.x*a-this.y*n,this.x*n+this.y*a)},_matMult:function(n){var a=n[2]*this.x+n[3]*this.y;return this.x=n[0]*this.x+n[1]*this.y,this.y=a,this},_add:function(n){return this.x+=n.x,this.y+=n.y,this},_sub:function(n){return this.x-=n.x,this.y-=n.y,this},_mult:function(n){return this.x*=n,this.y*=n,this},_div:function(n){return this.x/=n,this.y/=n,this},_multByPoint:function(n){return this.x*=n.x,this.y*=n.y,this},_divByPoint:function(n){return this.x/=n.x,this.y/=n.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var n=this.y;return this.y=this.x,this.x=-n,this},_rotate:function(n){var a=Math.cos(n),f=Math.sin(n),v=f*this.x+a*this.y;return this.x=a*this.x-f*this.y,this.y=v,this},_rotateAround:function(n,a){var f=Math.cos(n),v=Math.sin(n),h=a.y+v*(this.x-a.x)+f*(this.y-a.y);return this.x=a.x+f*(this.x-a.x)-v*(this.y-a.y),this.y=h,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},c.convert=function(n){return n instanceof c?n:Array.isArray(n)?new c(n[0],n[1]):n},zr}var Sn=Be(ki());function ei(c,n){if(Array.isArray(c)){if(!Array.isArray(n)||c.length!==n.length)return!1;for(let a=0;a<c.length;a++)if(!ei(c[a],n[a]))return!1;return!0}if(typeof c=="object"&&c!==null&&n!==null){if(typeof n!="object"||Object.keys(c).length!==Object.keys(n).length)return!1;for(const a in c)if(!ei(c[a],n[a]))return!1;return!0}return c===n}const Pi=Math.PI/180,Xr=180/Math.PI;function or(c){return c*Pi}function dr(c){return c*Xr}const $i=[[0,0],[1,0],[1,1],[0,1]];function Zo(c){if(c<=0)return 0;if(c>=1)return 1;const n=c*c,a=n*c;return 4*(c<.5?a:3*(c-n)+a-.75)}function ha(c,n,a,f){const v=new Ui(c,n,a,f);return function(h){return v.solve(h)}}const Da=ha(.25,.1,.25,1);function ri(c,n,a){return Math.min(a,Math.max(n,c))}function Ko(c,n,a){return(a=ri((a-c)/(n-c),0,1))*a*(3-2*a)}function Eo(c,n,a){const f=a-n,v=((c-n)%f+f)%f+n;return v===n?a:v}function No(c,n,a){if(!c.length)return a(null,[]);let f=c.length;const v=new Array(c.length);let h=null;c.forEach((y,E)=>{n(y,(O,L)=>{O&&(h=O),v[E]=L,--f==0&&a(h,v)})})}function ya(c,...n){for(const a of n)for(const f in a)c[f]=a[f];return c}let Oi=1;function Gr(){return Oi++}function so(c){return c<=1?1:Math.pow(2,Math.ceil(Math.log(c)/Math.LN2))}function Li(c,n){c.forEach(a=>{n[a]&&(n[a]=n[a].bind(n))})}function co(c,n){return c.indexOf(n,c.length-n.length)!==-1}function ws(c,n,a){const f={};for(const v in c)f[v]=n.call(this,c[v],v,c);return f}function Or(c,n,a){const f={};for(const v in c)n.call(this,c[v],v,c)&&(f[v]=c[v]);return f}function bo(c){return Array.isArray(c)?c.map(bo):typeof c=="object"&&c?ws(c,bo):c}const Ua={};function jr(c){Ua[c]||(typeof console!="undefined"&&console.warn(c),Ua[c]=!0)}function ia(c,n,a){return(a.y-c.y)*(n.x-c.x)>(n.y-c.y)*(a.x-c.x)}function ss(c){let n=0;for(let a,f,v=0,h=c.length,y=h-1;v<h;y=v++)a=c[v],f=c[y],n+=(f.x-a.x)*(a.y+f.y);return n}function Ra([c,n,a]){const f=or(n+90),v=or(a);return{x:c*Math.cos(f)*Math.sin(v),y:c*Math.sin(f)*Math.sin(v),z:c*Math.cos(v),azimuthal:n,polar:a}}function po(){return typeof WorkerGlobalScope!="undefined"&&typeof self!="undefined"&&self instanceof WorkerGlobalScope}function ds(c){const n={};if(c.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(a,f,v,h)=>{const y=v||h;return n[f]=!y||y.toLowerCase(),""}),n["max-age"]){const a=parseInt(n["max-age"],10);isNaN(a)?delete n["max-age"]:n["max-age"]=a}return n}let il=null;function Cn(c,n){return[c[4*n],c[4*n+1],c[4*n+2],c[4*n+3]]}function Dn(c,n,a,f){for(;n<a;){const v=n+a>>1;c[v]<f?n=v+1:a=v}return n}function vn(c,n,a,f){for(;n<a;){const v=n+a>>1;c[v]<=f?n=v+1:a=v}return n}function $r(c){return c>0?1/(1.001-c):1+c}function hi(c){return c>0?1-1/(1.001-c):-c}const vi={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i},get API_TILEJSON_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/v[0-9]*\/.*\.json.*$)/i},get API_SPRITE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*\/sprite.*\..*$)/i},get API_FONTS_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/fonts\/v[0-9]*\/)(.*\.pbf.*$)/i},get API_STYLE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*$)/i},get API_CDN_URL_REGEX(){return/^((https?:)?\/\/)?api\.mapbox\.c(n|om)(\/mapbox-gl-js\/)(.*$)/i},get EVENTS_URL(){if(!vi.API_URL)return null;try{const c=new URL(vi.API_URL);return c.hostname==="api.mapbox.cn"?"https://events.mapbox.cn/events/v2":c.hostname==="api.mapbox.com"?"https://events.mapbox.com/events/v2":null}catch(c){return null}},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",RASTERARRAYS_URL_PREFIX:"rasterarrays/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,DEFAULT_STYLE:"mapbox://styles/mapbox/standard",MAX_PARALLEL_IMAGE_REQUESTS:16,DRACO_URL:"https://api.mapbox.com/mapbox-gl-js/draco_decoder_gltf_v1.5.6.wasm",MESHOPT_URL:"https://api.mapbox.com/mapbox-gl-js/meshopt_base_v0.20.wasm",MESHOPT_SIMD_URL:"https://api.mapbox.com/mapbox-gl-js/meshopt_simd_v0.20.wasm",GLYPHS_URL:"mapbox://fonts/mapbox/{fontstack}/{range}.pbf",TILES3D_URL_PREFIX:"3dtiles/v1"};function oa(c){return vi.API_URL_REGEX.test(c)}function aa(c){return vi.API_SPRITE_REGEX.test(c)}let Ca,Bo,Po,Jt,xe,Me;function Fe(){return Ca==null&&(Ca=self.OffscreenCanvas&&new OffscreenCanvas(1,1).getContext("2d")&&typeof self.createImageBitmap=="function"),Ca}const ve={now:()=>Jt!==void 0?Jt:performance.now(),setNow(c){Jt=c},restoreNow(){Jt=void 0},frame(c){const n=requestAnimationFrame(c);return{cancel:()=>cancelAnimationFrame(n)}},getImageData(c,n=0){const{width:a,height:f}=c;xe||(xe=document.createElement("canvas"));const v=xe.getContext("2d",{willReadFrequently:!0});if(!v)throw new Error("failed to create canvas 2d context");return(a>xe.width||f>xe.height)&&(xe.width=a,xe.height=f),v.clearRect(-n,-n,a+2*n,f+2*n),v.drawImage(c,0,0,a,f),v.getImageData(-n,-n,a+2*n,f+2*n)},resolveURL:c=>(Bo||(Bo=document.createElement("a")),Bo.href=c,Bo.href),get devicePixelRatio(){return window.devicePixelRatio},get prefersReducedMotion(){return!!window.matchMedia&&(Po==null&&(Po=window.matchMedia("(prefers-reduced-motion: reduce)")),Po.matches)},hasCanvasFingerprintNoise(){if(Me!==void 0)return Me;if(!Fe())return Me=!1,!1;const c=new OffscreenCanvas(85,1),n=c.getContext("2d",{willReadFrequently:!0});let a=0;for(let v=0;v<c.width;++v)n.fillStyle=`rgba(${a++},${a++},${a++}, 255)`,n.fillRect(v,0,1,1);const f=n.getImageData(0,0,c.width,c.height);a=0;for(let v=0;v<f.data.length;++v)if(v%4!=3&&a++!==f.data[v])return Me=!0,!0;return Me=!1,!1}};function Ve(c,n){const a=c.indexOf("?");if(a<0)return`${c}?${new URLSearchParams(n).toString()}`;const f=new URLSearchParams(c.slice(a));for(const v in n)f.set(v,n[v]);return`${c.slice(0,a)}?${f.toString()}`}function fe(c,n={persistentParams:[]}){const a=c.indexOf("?");if(a<0)return c;const f=new URLSearchParams,v=new URLSearchParams(c.slice(a));for(const y of n.persistentParams){const E=v.get(y);E&&f.set(y,E)}const h=f.toString();return`${c.slice(0,a)}${h.length>0?`?${h}`:""}`}const Nt="mapbox-tiles";let It=500,Ee=50;const Tt=["language","worldview","jobid"];let nt,Pn;function ur(){try{return caches}catch(c){}}function lr(){const c=ur();c&&nt==null&&(nt=c.open(Nt))}let pi=1/0;const ai={supported:!1,testSupport:function(c){!Oo&&wi&&(Xo?pa(c):Ei=c)}};let Ei,wi,Oo=!1,Xo=!1;const So=typeof self!="undefined"?self:{};function pa(c){const n=c.createTexture();c.bindTexture(c.TEXTURE_2D,n);try{if(c.texImage2D(c.TEXTURE_2D,0,c.RGBA,c.RGBA,c.UNSIGNED_BYTE,wi),c.isContextLost())return;ai.supported=!0}catch(a){}c.deleteTexture(n),Oo=!0}So.document&&(wi=So.document.createElement("img"),wi.onload=function(){Ei&&pa(Ei),Ei=null,Xo=!0},wi.onerror=function(){Oo=!0,Ei=null},wi.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const ma={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Iconset:"Iconset",Image:"Image",Model:"Model"};typeof Object.freeze=="function"&&Object.freeze(ma);class Ea extends Error{constructor(n,a,f){a===401&&oa(f)&&(n+=": you may have provided an invalid Mapbox access token. See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes"),super(n),this.status=a,this.url=f}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const Sl=po()?()=>self.worker&&self.worker.referrer:()=>(location.protocol==="blob:"?parent:self).location.href,Lt=function(c,n){if(!(/^file:/.test(a=c.url)||/^file:/.test(Sl())&&!/^\w+:/.test(a))){if(self.fetch&&self.Request&&self.AbortController&&Request.prototype.hasOwnProperty("signal"))return function(f,v){const h=new AbortController,y=new Request(f.url,{method:f.method||"GET",body:f.body,credentials:f.credentials,headers:f.headers,referrer:Sl(),referrerPolicy:f.referrerPolicy,signal:h.signal});let E=!1,O=!1;const L=(C=y.url).indexOf("sku=")>0&&oa(C);var C;f.type==="json"&&y.headers.set("Accept","application/json");const $=(P,A,k)=>{if(O)return;if(P&&P.message!=="SecurityError"&&jr(P.toString()),A&&k)return z(A);const X=Date.now();fetch(y).then(ee=>{if(ee.ok){const le=L?ee.clone():null;return z(ee,le,X)}return v(new Ea(ee.statusText,ee.status,f.url))}).catch(ee=>{ee.name!=="AbortError"&&v(new Error(`${ee.message} ${f.url}`))})},z=(P,A,k)=>{(f.type==="arrayBuffer"?P.arrayBuffer():f.type==="json"?P.json():P.text()).then(X=>{O||(A&&k&&function(ee,le,ue){if(lr(),nt==null)return;const ie=ds(le.headers.get("Cache-Control")||"");if(ie["no-store"])return;const ye={status:le.status,statusText:le.statusText,headers:new Headers};le.headers.forEach((et,Ye)=>ye.headers.set(Ye,et)),ie["max-age"]&&ye.headers.set("Expires",new Date(ue+1e3*ie["max-age"]).toUTCString());const Se=ye.headers.get("Expires");if(!Se||new Date(Se).getTime()-ue<42e4)return;let $e=fe(ee.url,{persistentParams:Tt});if(le.status===206){const et=ee.headers.get("Range");if(!et)return;ye.status=200,$e=Ve($e,{range:et})}(function(et,Ye){if(Pn===void 0)try{new Response(new ReadableStream),Pn=!0}catch(Xe){Pn=!1}Pn?Ye(et.body):et.blob().then(Ye)})(le,et=>{const Ye=new Response((Xe=le.status)!==200&&Xe!==404&&[101,103,204,205,304].includes(Xe)?null:et,ye);var Xe;lr(),nt!=null&&nt.then(Ct=>Ct.put($e,Ye)).catch(Ct=>jr(Ct.message))})}(y,A,k),E=!0,v(null,X,P.headers.get("Cache-Control"),P.headers.get("Expires")))}).catch(X=>{O||v(new Error(X.message))})};return L?function(P,A){if(lr(),nt==null)return A(null);nt.then(k=>{let X=fe(P.url,{persistentParams:Tt});const ee=P.headers.get("Range");ee&&(X=Ve(X,{range:ee})),k.match(X).then(le=>{const ue=function(ie){if(!ie)return!1;const ye=new Date(ie.headers.get("Expires")||0),Se=ds(ie.headers.get("Cache-Control")||"");return ye>Date.now()&&!Se["no-cache"]}(le);k.delete(X),ue&&k.put(X,le.clone()),A(null,le,ue)}).catch(A)}).catch(A)}(y,$):$(null,null),{cancel:()=>{O=!0,E||h.abort()}}}(c,n);if(po()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",c,n,void 0,!0)}var a;return function(f,v){const h=new XMLHttpRequest;h.open(f.method||"GET",f.url,!0),f.type==="arrayBuffer"&&(h.responseType="arraybuffer");for(const y in f.headers)h.setRequestHeader(y,f.headers[y]);return f.type==="json"&&(h.responseType="text",h.setRequestHeader("Accept","application/json")),h.withCredentials=f.credentials==="include",h.onerror=()=>{v(new Error(h.statusText))},h.onload=()=>{if((h.status>=200&&h.status<300||h.status===0)&&h.response!==null){let y=h.response;if(f.type==="json")try{y=JSON.parse(h.response)}catch(E){return v(E)}v(null,y,h.getResponseHeader("Cache-Control"),h.getResponseHeader("Expires"))}else v(new Ea(h.statusText,h.status,f.url))},h.send(f.body),{cancel:()=>h.abort()}}(c,n)},Ln=function(c,n){return Lt(ya(c,{type:"arrayBuffer"}),n)};function Bn(c){const n=document.createElement("a");return n.href=c,n.protocol===location.protocol&&n.host===location.host}const tr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let Lr,to;Lr=[],to=0;const mo=function(c,n){if(ai.supported&&(c.headers||(c.headers={}),c.headers.accept="image/webp,*/*"),to>=vi.MAX_PARALLEL_IMAGE_REQUESTS){const h={requestParameters:c,callback:n,cancelled:!1,cancel(){this.cancelled=!0}};return Lr.push(h),h}to++;let a=!1;const f=()=>{if(!a)for(a=!0,to--;Lr.length&&to<vi.MAX_PARALLEL_IMAGE_REQUESTS;){const h=Lr.shift(),{requestParameters:y,callback:E,cancelled:O}=h;O||(h.cancel=mo(y,E).cancel)}},v=Ln(c,(h,y,E,O)=>{f(),h?n(h):y&&(self.createImageBitmap?function(L,C){const $=new Blob([new Uint8Array(L)],{type:"image/png"});createImageBitmap($).then(z=>{C(null,z)}).catch(z=>{C(new Error(`Could not load image because of ${z.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(y,(L,C)=>n(L,C,E,O)):function(L,C){const $=new Image;$.onload=()=>{C(null,$),URL.revokeObjectURL($.src),$.onload=null,requestAnimationFrame(()=>{$.src=tr})},$.onerror=()=>C(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const z=new Blob([new Uint8Array(L)],{type:"image/png"});$.src=L.byteLength?URL.createObjectURL(z):tr}(y,(L,C)=>n(L,C,E,O)))});return{cancel:()=>{v.cancel(),f()}}};var Io,uo,ga,$o={exports:{}},Vo={exports:{}},qa={exports:{}},gs=function(){if(ga)return $o.exports;ga=1;var c=(Io||(Io=1,Vo.exports=function(a,f){var v,h,y,E,O,L,C,$;for(h=a.length-(v=3&a.length),y=f,O=3432918353,L=461845907,$=0;$<h;)C=255&a.charCodeAt($)|(255&a.charCodeAt(++$))<<8|(255&a.charCodeAt(++$))<<16|(255&a.charCodeAt(++$))<<24,++$,y=27492+(65535&(E=5*(65535&(y=(y^=C=(65535&(C=(C=(65535&C)*O+(((C>>>16)*O&65535)<<16)&4294967295)<<15|C>>>17))*L+(((C>>>16)*L&65535)<<16)&4294967295)<<13|y>>>19))+((5*(y>>>16)&65535)<<16)&4294967295))+((58964+(E>>>16)&65535)<<16);switch(C=0,v){case 3:C^=(255&a.charCodeAt($+2))<<16;case 2:C^=(255&a.charCodeAt($+1))<<8;case 1:y^=C=(65535&(C=(C=(65535&(C^=255&a.charCodeAt($)))*O+(((C>>>16)*O&65535)<<16)&4294967295)<<15|C>>>17))*L+(((C>>>16)*L&65535)<<16)&4294967295}return y^=a.length,y=2246822507*(65535&(y^=y>>>16))+((2246822507*(y>>>16)&65535)<<16)&4294967295,y=3266489909*(65535&(y^=y>>>13))+((3266489909*(y>>>16)&65535)<<16)&4294967295,(y^=y>>>16)>>>0}),Vo.exports),n=(uo||(uo=1,qa.exports=function(a,f){for(var v,h=a.length,y=f^h,E=0;h>=4;)v=1540483477*(65535&(v=255&a.charCodeAt(E)|(255&a.charCodeAt(++E))<<8|(255&a.charCodeAt(++E))<<16|(255&a.charCodeAt(++E))<<24))+((1540483477*(v>>>16)&65535)<<16),y=1540483477*(65535&y)+((1540483477*(y>>>16)&65535)<<16)^(v=1540483477*(65535&(v^=v>>>24))+((1540483477*(v>>>16)&65535)<<16)),h-=4,++E;switch(h){case 3:y^=(255&a.charCodeAt(E+2))<<16;case 2:y^=(255&a.charCodeAt(E+1))<<8;case 1:y=1540483477*(65535&(y^=255&a.charCodeAt(E)))+((1540483477*(y>>>16)&65535)<<16)}return y=1540483477*(65535&(y^=y>>>13))+((1540483477*(y>>>16)&65535)<<16),(y^=y>>>15)>>>0}),qa.exports);return $o.exports=c,$o.exports.murmur3=c,$o.exports.murmur2=n,$o.exports}(),Os=Be(gs);class ys{constructor(n,...a){ya(this,a[0]||{}),this.type=n}}class _s extends ys{constructor(n,a={}){super("error",ya({error:n},a))}}function ns(c,n,a){a[c]&&a[c].indexOf(n)!==-1||(a[c]=a[c]||[],a[c].push(n))}function $s(c,n,a){if(a&&a[c]){const f=a[c].indexOf(n);f!==-1&&a[c].splice(f,1)}}class xo{on(n,a){return this._listeners=this._listeners||{},ns(n,a,this._listeners),this}off(n,a){return $s(n,a,this._listeners),$s(n,a,this._oneTimeListeners),this}once(n,a){return a?(this._oneTimeListeners=this._oneTimeListeners||{},ns(n,a,this._oneTimeListeners),this):new Promise(f=>this.once(n,f))}fire(n,a){const f=typeof n=="string"?new ys(n,a):n,v=f.type;if(this.listens(v)){f.target=this;const h=this._listeners&&this._listeners[v]?this._listeners[v].slice():[];for(const O of h)O.call(this,f);const y=this._oneTimeListeners&&this._oneTimeListeners[v]?this._oneTimeListeners[v].slice():[];for(const O of y)$s(v,O,this._oneTimeListeners),O.call(this,f);const E=this._eventedParent;E&&(ya(f,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),E.fire(f))}else f instanceof _s&&console.error(f.error);return this}listens(n){return!!(this._listeners&&this._listeners[n]&&this._listeners[n].length>0||this._oneTimeListeners&&this._oneTimeListeners[n]&&this._oneTimeListeners[n].length>0||this._eventedParent&&this._eventedParent.listens(n))}setEventedParent(n,a){return this._eventedParent=n,this._eventedParentData=a,this}}var Wa,Fo={},go=function(){if(Wa)return Fo;Wa=1;var c={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function n(h){return(h=Math.round(h))<0?0:h>255?255:h}function a(h){return n(h[h.length-1]==="%"?parseFloat(h)/100*255:parseInt(h))}function f(h){return(y=h[h.length-1]==="%"?parseFloat(h)/100:parseFloat(h))<0?0:y>1?1:y;var y}function v(h,y,E){return E<0?E+=1:E>1&&(E-=1),6*E<1?h+(y-h)*E*6:2*E<1?y:3*E<2?h+(y-h)*(2/3-E)*6:h}try{Fo.parseCSSColor=function(h){var y,E=h.replace(/ /g,"").toLowerCase();if(E in c)return c[E].slice();if(E[0]==="#")return E.length===4?(y=parseInt(E.substr(1),16))>=0&&y<=4095?[(3840&y)>>4|(3840&y)>>8,240&y|(240&y)>>4,15&y|(15&y)<<4,1]:null:E.length===7&&(y=parseInt(E.substr(1),16))>=0&&y<=16777215?[(16711680&y)>>16,(65280&y)>>8,255&y,1]:null;var O=E.indexOf("("),L=E.indexOf(")");if(O!==-1&&L+1===E.length){var C=E.substr(0,O),$=E.substr(O+1,L-(O+1)).split(","),z=1;switch(C){case"rgba":if($.length!==4)return null;z=f($.pop());case"rgb":return $.length!==3?null:[a($[0]),a($[1]),a($[2]),z];case"hsla":if($.length!==4)return null;z=f($.pop());case"hsl":if($.length!==3)return null;var P=(parseFloat($[0])%360+360)%360/360,A=f($[1]),k=f($[2]),X=k<=.5?k*(A+1):k+A-k*A,ee=2*k-X;return[n(255*v(ee,X,P+1/3)),n(255*v(ee,X,P)),n(255*v(ee,X,P-1/3)),z];default:return null}}return null}}catch(h){}return Fo}();class no{constructor(n,a,f,v=1){this.r=n,this.g=a,this.b=f,this.a=v}static parse(n){if(!n)return;if(n instanceof no)return n;if(typeof n!="string")return;const a=go.parseCSSColor(n);return a?new no(a[0]/255*a[3],a[1]/255*a[3],a[2]/255*a[3],a[3]):void 0}toStringPremultipliedAlpha(){const[n,a,f,v]=this.a===0?[0,0,0,0]:[255*this.r/this.a,255*this.g/this.a,255*this.b/this.a,this.a];return`rgba(${Math.round(n)},${Math.round(a)},${Math.round(f)},${v})`}toString(){const[n,a,f,v]=[this.r,this.g,this.b,this.a];return`rgba(${Math.round(255*n)},${Math.round(255*a)},${Math.round(255*f)},${v})`}toRenderColor(n){const{r:a,g:f,b:v,a:h}=this;return new Is(n,a,f,v,h)}clone(){return new no(this.r,this.g,this.b,this.a)}}class Is{constructor(n,a,f,v,h){if(n){const y=n.image.height,E=y*y;a=h===0?0:a/h*(y-1),f=h===0?0:f/h*(y-1),v=h===0?0:v/h*(y-1);const O=Math.floor(a),L=Math.floor(f),C=Math.floor(v),$=Math.ceil(a),z=Math.ceil(f),P=Math.ceil(v),A=a-O,k=f-L,X=v-C,ee=n.image.data,le=4*(O+L*E+C*y),ue=4*(O+L*E+P*y),ie=4*(O+z*E+C*y),ye=4*(O+z*E+P*y),Se=4*($+L*E+C*y),$e=4*($+L*E+P*y),et=4*($+z*E+C*y),Ye=4*($+z*E+P*y);if(le<0||Ye>=ee.length)throw new Error("out of range");this.r=si(si(si(ee[le],ee[ue],X),si(ee[ie],ee[ye],X),k),si(si(ee[Se],ee[$e],X),si(ee[et],ee[Ye],X),k),A)/255*h,this.g=si(si(si(ee[le+1],ee[ue+1],X),si(ee[ie+1],ee[ye+1],X),k),si(si(ee[Se+1],ee[$e+1],X),si(ee[et+1],ee[Ye+1],X),k),A)/255*h,this.b=si(si(si(ee[le+2],ee[ue+2],X),si(ee[ie+2],ee[ye+2],X),k),si(si(ee[Se+2],ee[$e+2],X),si(ee[et+2],ee[Ye+2],X),k),A)/255*h,this.a=h}else this.r=a,this.g=f,this.b=v,this.a=h}toArray(){const{r:n,g:a,b:f,a:v}=this;return v===0?[0,0,0,0]:[255*n/v,255*a/v,255*f/v,v]}toHslaArray(){if(this.a===0)return[0,0,0,0];const{r:n,g:a,b:f,a:v}=this,h=Math.min(Math.max(n/v,0),1),y=Math.min(Math.max(a/v,0),1),E=Math.min(Math.max(f/v,0),1),O=Math.min(h,y,E),L=Math.max(h,y,E),C=(O+L)/2;if(O===L)return[0,0,100*C,v];const $=L-O,z=C>.5?$/(2-L-O):$/(L+O);let P=0;return L===h?P=(y-E)/$+(y<E?6:0):L===y?P=(E-h)/$+2:L===E&&(P=(h-y)/$+4),P*=60,[Math.min(Math.max(P,0),360),Math.min(Math.max(100*z,0),100),Math.min(Math.max(100*C,0),100),v]}toArray01(){const{r:n,g:a,b:f,a:v}=this;return v===0?[0,0,0,0]:[n/v,a/v,f/v,v]}toArray01Scaled(n){const{r:a,g:f,b:v,a:h}=this;return h===0?[0,0,0]:[a/h*n,f/h*n,v/h*n]}toArray01PremultipliedAlpha(){const{r:n,g:a,b:f,a:v}=this;return[n,a,f,v]}toArray01Linear(){const{r:n,g:a,b:f,a:v}=this;return v===0?[0,0,0,0]:[Math.pow(n/v,2.2),Math.pow(a/v,2.2),Math.pow(f/v,2.2),v]}}function si(c,n,a){return c*(1-a)+n*a}function ks(c,n,a){return c.map((f,v)=>si(f,n[v],a))}no.black=new no(0,0,0,1),no.white=new no(1,1,1,1),no.transparent=new no(0,0,0,0),no.red=new no(1,0,0,1),no.blue=new no(0,0,1,1);var qs=Object.freeze({__proto__:null,array:ks,color:function(c,n,a){return new no(si(c.r,n.r,a),si(c.g,n.g,a),si(c.b,n.b,a),si(c.a,n.a,a))},number:si});function ms(c,...n){for(const a of n)for(const f in a)c[f]=a[f];return c}class di extends Error{constructor(n,a){super(a),this.message=a,this.key=n}}class Ya{constructor(n,a=[]){this.parent=n,this.bindings={};for(const[f,v]of a)this.bindings[f]=v}concat(n){return new Ya(this,n)}get(n){if(this.bindings[n])return this.bindings[n];if(this.parent)return this.parent.get(n);throw new Error(`${n} not found in scope.`)}has(n){return!!this.bindings[n]||!!this.parent&&this.parent.has(n)}}const Ss={kind:"null"},Nr={kind:"number"},qi={kind:"string"},To={kind:"boolean"},wa={kind:"color"},Za={kind:"object"},Ho={kind:"value"},ul={kind:"collator"},rs={kind:"formatted"},ln={kind:"resolvedImage"};function Ke(c,n){return{kind:"array",itemType:c,N:n}}function Pe(c){if(c.kind==="array"){const n=Pe(c.itemType);return typeof c.N=="number"?`array<${n}, ${c.N}>`:c.itemType.kind==="value"?"array":`array<${n}>`}return c.kind}const rt=[Ss,Nr,qi,To,wa,rs,Za,Ke(Ho),ln];function Ne(c,n){if(n.kind==="error")return null;if(c.kind==="array"){if(n.kind==="array"&&(n.N===0&&n.itemType.kind==="value"||!Ne(c.itemType,n.itemType))&&(typeof c.N!="number"||c.N===n.N))return null}else{if(c.kind===n.kind)return null;if(c.kind==="value"){for(const a of rt)if(!Ne(a,n))return null}}return`Expected ${Pe(c)} but found ${Pe(n)} instead.`}function Ot(c,n){return n.some(a=>a.kind===c.kind)}function Kt(c,n){return n.some(a=>a==="null"?c===null:a==="array"?Array.isArray(c):a==="object"?c&&!Array.isArray(c)&&typeof c=="object":a===typeof c)}class On{constructor(n,a,f){this.sensitivity=n?a?"variant":"case":a?"accent":"base",this.locale=f,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(n,a){return this.collator.compare(n,a)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Yn{constructor(n,a,f,v,h){this.text=n.normalize?n.normalize():n,this.image=a,this.scale=f,this.fontStack=v,this.textColor=h}}class gr{constructor(n){this.sections=n}static fromString(n){return new gr([new Yn(n,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(n=>n.text.length!==0||n.image&&n.image.namePrimary)}static factory(n){return n instanceof gr?n:gr.fromString(n)}toString(){return this.sections.length===0?"":this.sections.map(n=>n.text).join("")}serialize(){const n=["format"];for(const a of this.sections){if(a.image){n.push(["image",a.image.namePrimary]);continue}n.push(a.text);const f={};a.fontStack&&(f["text-font"]=["literal",a.fontStack.split(",")]),a.scale&&(f["font-scale"]=a.scale),a.textColor&&(f["text-color"]=["rgba"].concat(a.textColor.toRenderColor(null).toArray())),n.push(f)}return n}}class qn{constructor(n,a){if(this.id=n,this.options=a||{params:{}},this.options.transform){const{a:f,b:v,c:h,d:y,e:E,f:O}=this.options.transform;this.options.transform=new DOMMatrix([f,v,h,y,E,O])}else this.options.transform=new DOMMatrix([1,0,0,1,0,0])}static deserializeId(n){return JSON.parse(n).id}static deserializeFromString(n){const a=JSON.parse(n),{a:f,b:v,c:h,d:y,e:E,f:O}=a.options.transform;return new DOMMatrix([f,v,h,y,E,O]),new qn(a.id,a.options)}scaleSelf(n){return this.options.transform=this.options.transform.scale(n),this}serialize(){const n={id:this.id};this.options&&(n.options=this.options);const{a,b:f,c:v,d:h,e:y,f:E}=this.options.transform;return n.options.transform={a,b:f,c:v,d:h,e:y,f:E},JSON.stringify(n)}}class Ar{constructor(n){this.namePrimary=n.namePrimary,n.nameSecondary&&(this.nameSecondary=n.nameSecondary),n.optionsPrimary&&(this.optionsPrimary=n.optionsPrimary),n.optionsSecondary&&(this.optionsSecondary=n.optionsSecondary),this.available=n.available}toString(){return this.namePrimary&&this.nameSecondary?`[${this.namePrimary},${this.nameSecondary}]`:this.namePrimary}getPrimary(){return new qn(this.namePrimary,{params:this.optionsPrimary&&this.optionsPrimary.params||{}})}getSerializedPrimary(){return this.getPrimary().serialize()}getSecondary(){return this.nameSecondary?new qn(this.nameSecondary,{params:this.optionsSecondary&&this.optionsSecondary.params||{}}):null}static from(n){return typeof n=="string"?Ar.build(n):n}static build(n,a,f,v){return n?new Ar({namePrimary:n,nameSecondary:a,optionsPrimary:f,optionsSecondary:v,available:!1}):null}}function li(c,n,a,f){return typeof c=="number"&&c>=0&&c<=255&&typeof n=="number"&&n>=0&&n<=255&&typeof a=="number"&&a>=0&&a<=255?f===void 0||typeof f=="number"&&f>=0&&f<=1?null:`Invalid rgba value [${[c,n,a,f].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof f=="number"?[c,n,a,f]:[c,n,a]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Bi(c){if(c===null||typeof c=="string"||typeof c=="boolean"||typeof c=="number"||c instanceof no||c instanceof On||c instanceof gr||c instanceof Ar)return!0;if(Array.isArray(c)){for(const n of c)if(!Bi(n))return!1;return!0}if(typeof c=="object"){for(const n in c)if(!Bi(c[n]))return!1;return!0}return!1}function Pr(c){if(c===null)return Ss;if(typeof c=="string")return qi;if(typeof c=="boolean")return To;if(typeof c=="number")return Nr;if(c instanceof no)return wa;if(c instanceof On)return ul;if(c instanceof gr)return rs;if(c instanceof Ar)return ln;if(Array.isArray(c)){const n=c.length;let a;for(const f of c){const v=Pr(f);if(a){if(a===v)continue;a=Ho;break}a=v}return Ke(a||Ho,n)}return Za}function Ur(c){const n=typeof c;return c===null?"":n==="string"||n==="number"||n==="boolean"?String(c):c instanceof no?c.toStringPremultipliedAlpha():c instanceof gr||c instanceof Ar?c.toString():JSON.stringify(c)}class Cr{constructor(n,a){this.type=n,this.value=a}static parse(n,a){if(n.length!==2)return a.error(`'literal' expression requires exactly one argument, but found ${n.length-1} instead.`);if(!Bi(n[1]))return a.error("invalid value");const f=n[1];let v=Pr(f);const h=a.expectedType;return v.kind!=="array"||v.N!==0||!h||h.kind!=="array"||typeof h.N=="number"&&h.N!==0||(v=h),new Cr(v,f)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof no?["rgba"].concat(this.value.toRenderColor(null).toArray()):this.value instanceof gr?this.value.serialize():this.value}}class Er{constructor(n){this.name="ExpressionEvaluationError",this.message=n}toJSON(){return this.message}}const yi={string:qi,number:Nr,boolean:To,object:Za};class Ji{constructor(n,a){this.type=n,this.args=a}static parse(n,a){if(n.length<2)return a.error("Expected at least one argument.");let f,v=1;const h=n[0];if(h==="array"){let E,O;if(n.length>2){const L=n[1];if(typeof L!="string"||!(L in yi)||L==="object")return a.error('The item type argument of "array" must be one of string, number, boolean',1);E=yi[L],v++}else E=Ho;if(n.length>3){if(n[2]!==null&&(typeof n[2]!="number"||n[2]<0||n[2]!==Math.floor(n[2])))return a.error('The length argument to "array" must be a positive integer literal',2);O=n[2],v++}f=Ke(E,O)}else f=yi[h];const y=[];for(;v<n.length;v++){const E=a.parse(n[v],v,Ho);if(!E)return null;y.push(E)}return new Ji(f,y)}evaluate(n){for(let a=0;a<this.args.length;a++){const f=this.args[a].evaluate(n);if(!Ne(this.type,Pr(f)))return f;if(a===this.args.length-1)throw new Er(`The expression ${JSON.stringify(this.args[a].serialize())} evaluated to ${Pe(Pr(f))} but was expected to be of type ${Pe(this.type)}.`)}return null}eachChild(n){this.args.forEach(n)}outputDefined(){return this.args.every(n=>n.outputDefined())}serialize(){const n=this.type,a=[n.kind];if(n.kind==="array"){const f=n.itemType;if(f.kind==="string"||f.kind==="number"||f.kind==="boolean"){a.push(f.kind);const v=n.N;(typeof v=="number"||this.args.length>1)&&a.push(v)}}return a.concat(this.args.map(f=>f.serialize()))}}class Qo{constructor(n){this.type=rs,this.sections=n}static parse(n,a){if(n.length<2)return a.error("Expected at least one argument.");const f=n[1];if(!Array.isArray(f)&&typeof f=="object")return a.error("First argument must be an image or text section.");const v=[];let h=!1;for(let y=1;y<=n.length-1;++y){const E=n[y];if(h&&typeof E=="object"&&!Array.isArray(E)){h=!1;let O=null;if(E["font-scale"]&&(O=a.parseObjectValue(E["font-scale"],y,"font-scale",Nr),!O))return null;let L=null;if(E["text-font"]&&(L=a.parseObjectValue(E["text-font"],y,"text-font",Ke(qi)),!L))return null;let C=null;if(E["text-color"]&&(C=a.parseObjectValue(E["text-color"],y,"text-color",wa),!C))return null;const $=v[v.length-1];$.scale=O,$.font=L,$.textColor=C}else{const O=a.parse(n[y],y,Ho);if(!O)return null;const L=O.type.kind;if(L!=="string"&&L!=="value"&&L!=="null"&&L!=="resolvedImage")return a.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");h=!0,v.push({content:O,scale:null,font:null,textColor:null})}}return new Qo(v)}evaluate(n){return new gr(this.sections.map(a=>{const f=a.content.evaluate(n);return Pr(f)===ln?new Yn("",f,null,null,null):new Yn(Ur(f),null,a.scale?a.scale.evaluate(n):null,a.font?a.font.evaluate(n).join(","):null,a.textColor?a.textColor.evaluate(n):null)}))}eachChild(n){for(const a of this.sections)n(a.content),a.scale&&n(a.scale),a.font&&n(a.font),a.textColor&&n(a.textColor)}outputDefined(){return!1}serialize(){const n=["format"];for(const a of this.sections){n.push(a.content.serialize());const f={};a.scale&&(f["font-scale"]=a.scale.serialize()),a.font&&(f["text-font"]=a.font.serialize()),a.textColor&&(f["text-color"]=a.textColor.serialize()),n.push(f)}return n}}class Ro{constructor(n,a,f,v){this._imageWarnHistory={},this.type=ln,this.inputPrimary=n,this.inputSecondary=a,this.inputPrimaryParams=f,this.inputSecondaryParams=v}static parse(n,a){if(n.length<2)return a.error("Expected two or more arguments.");let f=1;const v=[];function h(){if(f<n.length){const E=a.parse(n[f],f++,qi);return E?(v.push({image:E,options:void 0}),!0):(a.error(v.length?"Secondary image variant is not a string.":"No image name provided."),!1)}return!0}function y(){if(f<n.length){if((E=n[f])===null||typeof E!="object"||Array.isArray(E))return!0;const O=n[f].params,L=a.concat(f);if(!O)return f++,!0;if(typeof O!="object"||O.constructor!==Object)return L.error('Image options "params" should be an object'),!1;const C={},$=L.concat(void 0,"params");for(const z in O){if(!z)return $.error("Image parameter name should be non-empty"),!1;const P=$.concat(void 0,z).parse(O[z],void 0,wa,void 0,{typeAnnotation:"coerce"});if(!P)return!1;C[z]=P}return v[v.length-1].options=C,f++,!0}var E;return!0}for(let E=0;E<2;E++)if(!h()||!y())return;return new Ro(v[0].image,v[1]?v[1].image:void 0,v[0].options,v[1]?v[1].options:void 0)}evaluateParams(n,a){const f={};if(a){for(const v in a)if(a[v])try{const h=a[v].evaluate(n),y=`Ignoring image parameter "${v}" with semi-transparent color ${h.toString()}`;if(h.a!==1){this._imageWarnHistory[y]||(console.warn(y),this._imageWarnHistory[y]=!0);continue}f[v]=h}catch(h){continue}if(Object.keys(f).length!==0)return{params:f}}}evaluate(n){const a=Ar.build(this.inputPrimary.evaluate(n),this.inputSecondary?this.inputSecondary.evaluate(n):void 0,this.inputPrimaryParams?this.evaluateParams(n,this.inputPrimaryParams):void 0,this.inputSecondaryParams?this.evaluateParams(n,this.inputSecondaryParams):void 0);return a&&n.availableImages&&(a.available=n.availableImages.indexOf(a.namePrimary)>-1,a.nameSecondary&&a.available&&n.availableImages&&(a.available=n.availableImages.indexOf(a.nameSecondary)>-1)),a}eachChild(n){if(n(this.inputPrimary),this.inputPrimaryParams)for(const a in this.inputPrimaryParams)this.inputPrimaryParams[a]&&n(this.inputPrimaryParams[a]);if(this.inputSecondary&&(n(this.inputSecondary),this.inputSecondaryParams))for(const a in this.inputSecondaryParams)this.inputSecondaryParams[a]&&n(this.inputSecondaryParams[a])}outputDefined(){return!1}serializeParams(n){const a={};if(n){for(const f in n)n[f]&&(a[f]=n[f].serialize());return{params:a}}}serialize(){const n=["image",this.inputPrimary.serialize()];return this.inputPrimaryParams&&n.push(this.serializeParams(this.inputPrimaryParams)),this.inputSecondary&&(n.push(this.inputSecondary.serialize()),this.inputSecondaryParams&&n.push(this.serializeParams(this.inputSecondaryParams))),n}}function Ta(c){return c instanceof Number?"number":c instanceof String?"string":c instanceof Boolean?"boolean":Array.isArray(c)?"array":c===null?"null":typeof c}const _a={"to-boolean":To,"to-color":wa,"to-number":Nr,"to-string":qi};class Oa{constructor(n,a){this.type=n,this.args=a}static parse(n,a){if(n.length<2)return a.error("Expected at least one argument.");const f=n[0],v=[];let h=Ss;if(f==="to-array"){if(!Array.isArray(n[1]))return null;const y=n[1].length;if(a.expectedType){if(a.expectedType.kind!=="array")return a.error(`Expected ${a.expectedType.kind} but found array.`);h=Ke(a.expectedType.itemType,y)}else{if(!(y>0&&Bi(n[1][0])))return null;h=Ke(Pr(n[1][0]),y)}for(let E=0;E<y;E++){const O=n[1][E];let L;if(Ta(O)==="array")L=a.parse(O,void 0,h.itemType);else{const C=Ta(O);if(C!==h.itemType.kind)return a.error(`Expected ${h.itemType.kind} but found ${C}.`);L=a.registry.literal.parse(["literal",O===void 0?null:O],a)}if(!L)return null;v.push(L)}}else{if((f==="to-boolean"||f==="to-string")&&n.length!==2)return a.error("Expected one argument.");h=_a[f];for(let y=1;y<n.length;y++){const E=a.parse(n[y],y,Ho);if(!E)return null;v.push(E)}}return new Oa(h,v)}evaluate(n){if(this.type.kind==="boolean")return!!this.args[0].evaluate(n);if(this.type.kind==="color"){let a,f;for(const v of this.args){if(a=v.evaluate(n),f=null,a instanceof no)return a;if(typeof a=="string"){const h=n.parseColor(a);if(h)return h}else if(Array.isArray(a)&&(f=a.length<3||a.length>4?`Invalid rbga value ${JSON.stringify(a)}: expected an array containing either three or four numeric values.`:li(a[0],a[1],a[2],a[3]),!f))return new no(a[0]/255,a[1]/255,a[2]/255,a[3])}throw new Er(f||`Could not parse color from value '${typeof a=="string"?a:String(JSON.stringify(a))}'`)}if(this.type.kind==="number"){let a=null;for(const f of this.args){if(a=f.evaluate(n),a===null)return 0;const v=Number(a);if(!isNaN(v))return v}throw new Er(`Could not convert ${JSON.stringify(a)} to number.`)}return this.type.kind==="formatted"?gr.fromString(Ur(this.args[0].evaluate(n))):this.type.kind==="resolvedImage"?Ar.build(Ur(this.args[0].evaluate(n))):this.type.kind==="array"?this.args.map(a=>a.evaluate(n)):Ur(this.args[0].evaluate(n))}eachChild(n){this.args.forEach(n)}outputDefined(){return this.args.every(n=>n.outputDefined())}serialize(){if(this.type.kind==="formatted")return new Qo([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new Ro(this.args[0]).serialize();const n=this.type.kind==="array"?[]:[`to-${this.type.kind}`];return this.eachChild(a=>{n.push(a.serialize())}),n}}const Yo=["Unknown","Point","LineString","Polygon"];class za{constructor(n,a){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null,this.scope=n,this.options=a}id(){return this.feature&&this.feature.id!==void 0?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Yo[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}measureLight(n){return this.globals.brightness||0}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const n=this.featureDistanceData.center,a=this.featureDistanceData.scale,{x:f,y:v}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(f*a-n[0])+this.featureDistanceData.bearing[1]*(v*a-n[1])}return 0}parseColor(n){let a=this._parseColorCache[n];return a||(a=this._parseColorCache[n]=no.parse(n)),a}getConfig(n){return this.options?this.options.get(n):null}}class ea{constructor(n,a,f,v,h){this.name=n,this.type=a,this._evaluate=f,this.args=v,this._overloadIndex=h}evaluate(n){if(!this._evaluate){const a=ea.definitions[this.name];this._evaluate=Array.isArray(a)?a[2]:a.overloads[this._overloadIndex][1]}return this._evaluate(n,this.args)}eachChild(n){this.args.forEach(n)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(n=>n.serialize()))}static parse(n,a){const f=n[0],v=ea.definitions[f];if(!v)return a.error(`Unknown expression "${f}". If you wanted a literal array, use ["literal", [...]].`,0);const h=Array.isArray(v)?v[0]:v.type,y=Array.isArray(v)?[[v[1],v[2]]]:v.overloads,E=[];let O=null,L=-1;for(const[C,$]of y){if(Array.isArray(C)&&C.length!==n.length-1)continue;E.push(C),L++,O=new Qs(a.registry,a.path,null,a.scope,void 0,a._scope,a.options);const z=[];let P=!1;for(let A=1;A<n.length;A++){const k=n[A],X=Array.isArray(C)?C[A-1]:C.type,ee=O.parse(k,1+z.length,X);if(!ee){P=!0;break}z.push(ee)}if(!P)if(Array.isArray(C)&&C.length!==z.length)O.error(`Expected ${C.length} arguments, but found ${z.length} instead.`);else{for(let A=0;A<z.length;A++){const k=Array.isArray(C)?C[A]:C.type,X=z[A];O.concat(A+1).checkSubtype(k,X.type)}if(O.errors.length===0)return new ea(f,h,$,z,L)}}if(E.length===1)a.errors.push(...O.errors);else{const C=(E.length?E:y.map(([z])=>z)).map(tl).join(" | "),$=[];for(let z=1;z<n.length;z++){const P=a.parse(n[z],1+$.length);if(!P)return null;$.push(Pe(P.type))}a.error(`Expected arguments of type ${C}, but found (${$.join(", ")}) instead.`)}return null}static register(n,a){ea.definitions=a;for(const f in a)n[f]=ea}}function tl(c){return Array.isArray(c)?`(${c.map(Pe).join(", ")})`:`(${Pe(c.type)}...)`}class js{constructor(n,a,f){this.type=ul,this.locale=f,this.caseSensitive=n,this.diacriticSensitive=a}static parse(n,a){if(n.length!==2)return a.error("Expected one argument.");const f=n[1];if(typeof f!="object"||Array.isArray(f))return a.error("Collator options argument must be an object.");const v=f["case-sensitive"]===void 0?a.parse(!1,1,To):a.parseObjectValue(f["case-sensitive"],1,"case-sensitive",To);if(!v)return null;const h=f["diacritic-sensitive"]===void 0?a.parse(!1,1,To):a.parseObjectValue(f["diacritic-sensitive"],1,"diacritic-sensitive",To);if(!h)return null;let y=null;return f.locale&&(y=a.parseObjectValue(f.locale,1,"locale",qi),!y)?null:new js(v,h,y)}evaluate(n){return new On(this.caseSensitive.evaluate(n),this.diacriticSensitive.evaluate(n),this.locale?this.locale.evaluate(n):null)}eachChild(n){n(this.caseSensitive),n(this.diacriticSensitive),this.locale&&n(this.locale)}outputDefined(){return!1}serialize(){const n={};return n["case-sensitive"]=this.caseSensitive.serialize(),n["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(n.locale=this.locale.serialize()),["collator",n]}}function As(c,n,a=0,f=c.length-1,v=Ds){for(;f>a;){if(f-a>600){const O=f-a+1,L=n-a+1,C=Math.log(O),$=.5*Math.exp(2*C/3),z=.5*Math.sqrt(C*$*(O-$)/O)*(L-O/2<0?-1:1);As(c,n,Math.max(a,Math.floor(n-L*$/O+z)),Math.min(f,Math.floor(n+(O-L)*$/O+z)),v)}const h=c[n];let y=a,E=f;for(vl(c,a,n),v(c[f],h)>0&&vl(c,a,f);y<E;){for(vl(c,y,E),y++,E--;v(c[y],h)<0;)y++;for(;v(c[E],h)>0;)E--}v(c[a],h)===0?vl(c,a,E):(E++,vl(c,E,f)),E<=n&&(a=E+1),n<=E&&(f=E-1)}}function vl(c,n,a){const f=c[n];c[n]=c[a],c[a]=f}function Ds(c,n){return c<n?-1:c>n?1:0}function Ts(c){let n=0;for(let a,f,v=0,h=c.length,y=h-1;v<h;y=v++)a=c[v],f=c[y],n+=(f.x-a.x)*(a.y+f.y);return n}function yl(c,n){c[0]=Math.min(c[0],n[0]),c[1]=Math.min(c[1],n[1]),c[2]=Math.max(c[2],n[0]),c[3]=Math.max(c[3],n[1])}function Sc(c,n){return!(c[0]<=n[0]||c[2]>=n[2]||c[1]<=n[1]||c[3]>=n[3])}function Fu(c,n,a){const f=c[0]-n[0],v=c[1]-n[1],h=c[0]-a[0],y=c[1]-a[1];return f*y-h*v==0&&f*h<=0&&v*y<=0}function Nc(c,n,a=!1){let f=!1;for(let E=0,O=n.length;E<O;E++){const L=n[E];for(let C=0,$=L.length,z=$-1;C<$;z=C++){const P=L[z],A=L[C];if(Fu(c,P,A))return a;(h=P)[1]>(v=c)[1]!=(y=A)[1]>v[1]&&v[0]<(y[0]-h[0])*(v[1]-h[1])/(y[1]-h[1])+h[0]&&(f=!f)}}var v,h,y;return f}function yu(c,n,a,f){const v=f[0]-a[0],h=f[1]-a[1],y=(c[0]-a[0])*h-v*(c[1]-a[1]),E=(n[0]-a[0])*h-v*(n[1]-a[1]);return y>0&&E<0||y<0&&E>0}function Fl(c,n,a,f){return(v=[f[0]-a[0],f[1]-a[1]])[0]*(h=[n[0]-c[0],n[1]-c[1]])[1]-v[1]*h[0]!=0&&!(!yu(c,n,a,f)||!yu(a,f,c,n));var v,h}const dl=8192;function xc(c,n){const a=(180+c[0])/360,f=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+c[1]*Math.PI/360)))/360,v=Math.pow(2,n.z);return[Math.round(a*v*dl),Math.round(f*v*dl)]}function Yc(c,n){for(let a=0;a<n.length;a++)if(Nc(c,n[a]))return!0;return!1}function au(c,n,a){for(const f of a)for(let v=0,h=f.length,y=h-1;v<h;y=v++)if(Fl(c,n,f[y],f[v]))return!0;return!1}function ku(c,n){for(let a=0;a<c.length;++a)if(!Nc(c[a],n))return!1;for(let a=0;a<c.length-1;++a)if(au(c[a],c[a+1],n))return!1;return!0}function Mh(c,n){for(let a=0;a<n.length;a++)if(ku(c,n[a]))return!0;return!1}function Zd(c,n,a){const f=[];for(let v=0;v<c.length;v++){const h=[];for(let y=0;y<c[v].length;y++){const E=xc(c[v][y],a);yl(n,E),h.push(E)}f.push(h)}return f}function su(c,n,a){const f=[];for(let v=0;v<c.length;v++){const h=Zd(c[v],n,a);f.push(h)}return f}function qo(c,n,a,f){if(c[0]<a[0]||c[0]>a[2]){const v=.5*f;let h=c[0]-a[0]>v?-f:a[0]-c[0]>v?f:0;h===0&&(h=c[0]-a[2]>v?-f:a[2]-c[0]>v?f:0),c[0]+=h}yl(n,c)}function ji(c,n,a,f){const v=Math.pow(2,f.z)*dl,h=[f.x*dl,f.y*dl],y=[];if(!c)return y;for(const E of c)for(const O of E){const L=[O.x+h[0],O.y+h[1]];qo(L,n,a,v),y.push(L)}return y}function Vd(c,n,a,f){const v=Math.pow(2,f.z)*dl,h=[f.x*dl,f.y*dl],y=[];if(!c)return y;for(const O of c){const L=[];for(const C of O){const $=[C.x+h[0],C.y+h[1]];yl(n,$),L.push($)}y.push(L)}if(n[2]-n[0]<=v/2){(E=n)[0]=E[1]=1/0,E[2]=E[3]=-1/0;for(const O of y)for(const L of O)qo(L,n,a,v)}var E;return y}class vo{constructor(n,a){this.type=To,this.geojson=n,this.geometries=a}static parse(n,a){if(n.length!==2)return a.error(`'within' expression requires exactly one argument, but found ${n.length-1} instead.`);if(Bi(n[1])){const f=n[1];if(f.type==="FeatureCollection")for(let v=0;v<f.features.length;++v){const h=f.features[v].geometry.type;if(h==="Polygon"||h==="MultiPolygon")return new vo(f,f.features[v].geometry)}else if(f.type==="Feature"){const v=f.geometry.type;if(v==="Polygon"||v==="MultiPolygon")return new vo(f,f.geometry)}else if(f.type==="Polygon"||f.type==="MultiPolygon")return new vo(f,f)}return a.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(n){if(n.geometry()!=null&&n.canonicalID()!=null){if(n.geometryType()==="Point")return function(a,f){const v=[1/0,1/0,-1/0,-1/0],h=[1/0,1/0,-1/0,-1/0],y=a.canonicalID();if(!y)return!1;if(f.type==="Polygon"){const E=Zd(f.coordinates,h,y),O=ji(a.geometry(),v,h,y);if(!Sc(v,h))return!1;for(const L of O)if(!Nc(L,E))return!1}if(f.type==="MultiPolygon"){const E=su(f.coordinates,h,y),O=ji(a.geometry(),v,h,y);if(!Sc(v,h))return!1;for(const L of O)if(!Yc(L,E))return!1}return!0}(n,this.geometries);if(n.geometryType()==="LineString")return function(a,f){const v=[1/0,1/0,-1/0,-1/0],h=[1/0,1/0,-1/0,-1/0],y=a.canonicalID();if(!y)return!1;if(f.type==="Polygon"){const E=Zd(f.coordinates,h,y),O=Vd(a.geometry(),v,h,y);if(!Sc(v,h))return!1;for(const L of O)if(!ku(L,E))return!1}if(f.type==="MultiPolygon"){const E=su(f.coordinates,h,y),O=Vd(a.geometry(),v,h,y);if(!Sc(v,h))return!1;for(const L of O)if(!Mh(L,E))return!1}return!0}(n,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}const ju={kilometers:1,miles:1e3/1609.344,nauticalmiles:1e3/1852,meters:1e3,metres:1e3,yards:1e3/.9144,feet:1e3/.3048,inches:1e3/.0254},_u=1/298.257223563,fo=_u*(2-_u),uc=Math.PI/180;class Bc{static fromTile(n,a,f){const v=Math.PI*(1-2*(n+.5)/Math.pow(2,a)),h=Math.atan(.5*(Math.exp(v)-Math.exp(-v)))/uc;return new Bc(h,f)}static get units(){return ju}constructor(n,a){if(n===void 0)throw new Error("No latitude given.");if(a&&!ju[a])throw new Error(`Unknown unit ${a}. Use one of: ${Object.keys(ju).join(", ")}`);const f=6378.137*uc*(a?ju[a]:1),v=Math.cos(n*uc),h=1/(1-fo*(1-v*v)),y=Math.sqrt(h);this.kx=f*y*v,this.ky=f*y*h*(1-fo)}distance(n,a){const f=Ql(n[0]-a[0])*this.kx,v=(n[1]-a[1])*this.ky;return Math.sqrt(f*f+v*v)}bearing(n,a){const f=Ql(a[0]-n[0])*this.kx;return Math.atan2(f,(a[1]-n[1])*this.ky)/uc}destination(n,a,f){const v=f*uc;return this.offset(n,Math.sin(v)*a,Math.cos(v)*a)}offset(n,a,f){return[n[0]+a/this.kx,n[1]+f/this.ky]}lineDistance(n){let a=0;for(let f=0;f<n.length-1;f++)a+=this.distance(n[f],n[f+1]);return a}area(n){let a=0;for(let f=0;f<n.length;f++){const v=n[f];for(let h=0,y=v.length,E=y-1;h<y;E=h++)a+=Ql(v[h][0]-v[E][0])*(v[h][1]+v[E][1])*(f?-1:1)}return Math.abs(a)/2*this.kx*this.ky}along(n,a){let f=0;if(a<=0)return n[0];for(let v=0;v<n.length-1;v++){const h=n[v],y=n[v+1],E=this.distance(h,y);if(f+=E,f>a)return Hd(h,y,(a-(f-E))/E)}return n[n.length-1]}pointToSegmentDistance(n,a,f){let[v,h]=a,y=Ql(f[0]-v)*this.kx,E=(f[1]-h)*this.ky;if(y!==0||E!==0){const O=(Ql(n[0]-v)*this.kx*y+(n[1]-h)*this.ky*E)/(y*y+E*E);O>1?(v=f[0],h=f[1]):O>0&&(v+=y/this.kx*O,h+=E/this.ky*O)}return y=Ql(n[0]-v)*this.kx,E=(n[1]-h)*this.ky,Math.sqrt(y*y+E*E)}pointOnLine(n,a){let f=1/0,v=n[0][0],h=n[0][1],y=0,E=0;for(let O=0;O<n.length-1;O++){let L=n[O][0],C=n[O][1],$=Ql(n[O+1][0]-L)*this.kx,z=(n[O+1][1]-C)*this.ky,P=0;$===0&&z===0||(P=(Ql(a[0]-L)*this.kx*$+(a[1]-C)*this.ky*z)/($*$+z*z),P>1?(L=n[O+1][0],C=n[O+1][1]):P>0&&(L+=$/this.kx*P,C+=z/this.ky*P)),$=Ql(a[0]-L)*this.kx,z=(a[1]-C)*this.ky;const A=$*$+z*z;A<f&&(f=A,v=L,h=C,y=O,E=P)}return{point:[v,h],index:y,t:Math.max(0,Math.min(1,E))}}lineSlice(n,a,f){let v=this.pointOnLine(f,n),h=this.pointOnLine(f,a);if(v.index>h.index||v.index===h.index&&v.t>h.t){const L=v;v=h,h=L}const y=[v.point],E=v.index+1,O=h.index;!Zu(f[E],y[0])&&E<=O&&y.push(f[E]);for(let L=E+1;L<=O;L++)y.push(f[L]);return Zu(f[O],h.point)||y.push(h.point),y}lineSliceAlong(n,a,f){let v=0;const h=[];for(let y=0;y<f.length-1;y++){const E=f[y],O=f[y+1],L=this.distance(E,O);if(v+=L,v>n&&h.length===0&&h.push(Hd(E,O,(n-(v-L))/L)),v>=a)return h.push(Hd(E,O,(a-(v-L))/L)),h;v>n&&h.push(O)}return h}bufferPoint(n,a){const f=a/this.ky,v=a/this.kx;return[n[0]-v,n[1]-f,n[0]+v,n[1]+f]}bufferBBox(n,a){const f=a/this.ky,v=a/this.kx;return[n[0]-v,n[1]-f,n[2]+v,n[3]+f]}insideBBox(n,a){return Ql(n[0]-a[0])>=0&&Ql(n[0]-a[2])<=0&&n[1]>=a[1]&&n[1]<=a[3]}}function Zu(c,n){return c[0]===n[0]&&c[1]===n[1]}function Hd(c,n,a){const f=Ql(n[0]-c[0]);return[c[0]+f*a,c[1]+(n[1]-c[1])*a]}function Ql(c){for(;c<-180;)c+=360;for(;c>180;)c-=360;return c}class Tl{constructor(n=[],a=(f,v)=>f<v?-1:f>v?1:0){if(this.data=n,this.length=this.data.length,this.compare=a,this.length>0)for(let f=(this.length>>1)-1;f>=0;f--)this._down(f)}push(n){this.data.push(n),this._up(this.length++)}pop(){if(this.length===0)return;const n=this.data[0],a=this.data.pop();return--this.length>0&&(this.data[0]=a,this._down(0)),n}peek(){return this.data[0]}_up(n){const{data:a,compare:f}=this,v=a[n];for(;n>0;){const h=n-1>>1,y=a[h];if(f(v,y)>=0)break;a[n]=y,n=h}a[n]=v}_down(n){const{data:a,compare:f}=this,v=this.length>>1,h=a[n];for(;n<v;){let y=1+(n<<1);const E=y+1;if(E<this.length&&f(a[E],a[y])<0&&(y=E),f(a[y],h)>=0)break;a[n]=a[y],n=y}a[n]=h}}var Fr=8192;function bu(c,n){return n.dist-c.dist}const Es=100,fd=50;function Mt(c){const n=[1/0,1/0,-1/0,-1/0];if(n.length!==c.length)return!1;for(let a=0;a<n.length;a++)if(n[a]!==c[a])return!1;return!0}function tn(c){return c[1]-c[0]+1}function hn(c,n){const a=c[1]>=c[0]&&c[1]<n;return a||console.warn("Distance Expression: Index is out of range"),a}function wn(c,n){if(c[0]>c[1])return[null,null];const a=tn(c);if(n){if(a===2)return[c,null];const f=Math.floor(a/2);return[[c[0],c[0]+f],[c[0]+f,c[1]]]}{if(a===1)return[c,null];const f=Math.floor(a/2)-1;return[[c[0],c[0]+f],[c[0]+f+1,c[1]]]}}function rr(c,n){const a=[1/0,1/0,-1/0,-1/0];if(!hn(n,c.length))return a;for(let f=n[0];f<=n[1];++f)yl(a,c[f]);return a}function qr(c){const n=[1/0,1/0,-1/0,-1/0];for(let a=0;a<c.length;++a)for(let f=0;f<c[a].length;++f)yl(n,c[a][f]);return n}function _i(c,n,a){if(Mt(c)||Mt(n))return NaN;let f=0,v=0;return c[2]<n[0]&&(f=n[0]-c[2]),c[0]>n[2]&&(f=c[0]-n[2]),c[1]>n[3]&&(v=c[1]-n[3]),c[3]<n[1]&&(v=n[1]-c[3]),a.distance([0,0],[f,v])}function ni(c){return 360*c-180}function Ri(c){return 360/Math.PI*Math.atan(Math.exp((180-360*c)*Math.PI/180))-90}function ro(c,n){const a=Math.pow(2,n.z),f=(c.y/Fr+n.y)/a;return[ni((c.x/Fr+n.x)/a),Ri(f)]}function yo(c,n){const a=[];for(let f=0;f<c.length;++f)a.push(ro(c[f],n));return a}function ko(c,n,a){const f=a.pointOnLine(n,c).point;return a.distance(c,f)}function io(c,n,a,f,v){const h=a.slice(f[0],f[1]+1);let y=1/0;for(let E=n[0];E<=n[1];++E)if((y=Math.min(y,ko(c[E],h,v)))===0)return 0;return y}function sa(c,n,a,f,v){const h=Math.min(v.pointToSegmentDistance(c,a,f),v.pointToSegmentDistance(n,a,f)),y=Math.min(v.pointToSegmentDistance(a,c,n),v.pointToSegmentDistance(f,c,n));return Math.min(h,y)}function Qi(c,n,a,f,v){if(!hn(n,c.length)||!hn(f,a.length))return NaN;let h=1/0;for(let y=n[0];y<n[1];++y)for(let E=f[0];E<f[1];++E){if(Fl(c[y],c[y+1],a[E],a[E+1]))return 0;h=Math.min(h,sa(c[y],c[y+1],a[E],a[E+1],v))}return h}function ta(c,n,a,f,v){if(!hn(n,c.length)||!hn(f,a.length))return NaN;let h=1/0;for(let y=n[0];y<=n[1];++y)for(let E=f[0];E<=f[1];++E)if((h=Math.min(h,v.distance(c[y],a[E])))===0)return h;return h}function Aa(c,n,a){if(Nc(c,n,!0))return 0;let f=1/0;for(const v of n){const h=v.length;if(h<2)return console.warn("Distance Expression: Invalid polygon!"),NaN;if(v[0]!==v[h-1]&&(f=Math.min(f,a.pointToSegmentDistance(c,v[h-1],v[0])))===0||(f=Math.min(f,ko(c,v,a)))===0)return f}return f}function ls(c,n,a,f){if(!hn(n,c.length))return NaN;for(let h=n[0];h<=n[1];++h)if(Nc(c[h],a,!0))return 0;let v=1/0;for(let h=n[0];h<n[1];++h)for(const y of a)for(let E=0,O=y.length,L=O-1;E<O;L=E++){if(Fl(c[h],c[h+1],y[L],y[E]))return 0;v=Math.min(v,sa(c[h],c[h+1],y[L],y[E],f))}return v}function ba(c,n){for(const a of c)for(let f=0;f<=a.length-1;++f)if(Nc(a[f],n,!0))return!0;return!1}function is(c,n,a,f=1/0){const v=qr(c),h=qr(n);if(f!==1/0&&_i(v,h,a)>=f)return f;if(Sc(v,h)){if(ba(c,n))return 0}else if(ba(n,c))return 0;let y=f;for(const E of c)for(let O=0,L=E.length,C=L-1;O<L;C=O++)for(const $ of n)for(let z=0,P=$.length,A=P-1;z<P;A=z++){if(Fl(E[C],E[O],$[A],$[z]))return 0;y=Math.min(y,sa(E[C],E[O],$[A],$[z],a))}return y}function La(c,n,a,f,v,h,y){if(h===null||y===null)return;const E=_i(rr(f,h),rr(v,y),a);E<n&&c.push({dist:E,range1:h,range2:y})}function cs(c,n,a,f,v=1/0){let h=Math.min(f.distance(c[0],a[0][0]),v);if(h===0)return h;const y=new Tl([{dist:0,range1:[0,c.length-1],range2:[0,0]}],bu),E=n?fd:Es,O=qr(a);for(;y.length;){const L=y.pop();if(L.dist>=h)continue;const C=L.range1;if(tn(C)<=E){if(!hn(C,c.length))return NaN;if(n){const $=ls(c,C,a,f);if((h=Math.min(h,$))===0)return h}else for(let $=C[0];$<=C[1];++$){const z=Aa(c[$],a,f);if((h=Math.min(h,z))===0)return h}}else{const $=wn(C,n);if($[0]!==null){const z=_i(rr(c,$[0]),O,f);z<h&&y.push({dist:z,range1:$[0],range2:[0,0]})}if($[1]!==null){const z=_i(rr(c,$[1]),O,f);z<h&&y.push({dist:z,range1:$[1],range2:[0,0]})}}}return h}function Va(c,n,a,f,v,h=1/0){let y=Math.min(h,v.distance(c[0],a[0]));if(y===0)return y;const E=new Tl([{dist:0,range1:[0,c.length-1],range2:[0,a.length-1]}],bu),O=n?fd:Es,L=f?fd:Es;for(;E.length;){const C=E.pop();if(C.dist>=y)continue;const $=C.range1,z=C.range2;if(tn($)<=O&&tn(z)<=L){if(!hn($,c.length)||!hn(z,a.length))return NaN;if(n&&f?y=Math.min(y,Qi(c,$,a,z,v)):n||f?n&&!f?y=Math.min(y,io(a,z,c,$,v)):!n&&f&&(y=Math.min(y,io(c,$,a,z,v))):y=Math.min(y,ta(c,$,a,z,v)),y===0)return y}else{const P=wn($,n),A=wn(z,f);La(E,y,v,c,a,P[0],A[0]),La(E,y,v,c,a,P[0],A[1]),La(E,y,v,c,a,P[1],A[0]),La(E,y,v,c,a,P[1],A[1])}}return y}function Ia(c,n,a,f,v=1/0){let h=v;const y=rr(c,[0,c.length-1]);for(const E of a)if(!(h!==1/0&&_i(y,rr(E,[0,E.length-1]),f)>=h)&&(h=Math.min(h,Va(c,n,E,!0,f,h)),h===0))return h;return h}function zs(c,n,a,f,v=1/0){let h=v;const y=rr(c,[0,c.length-1]);for(const E of a){if(h!==1/0&&_i(y,qr(E),f)>=h)continue;const O=cs(c,n,E,f,h);if(isNaN(O))return O;if((h=Math.min(h,O))===0)return h}return h}function Wl(c){return c==="Point"||c==="MultiPoint"||c==="LineString"||c==="MultiLineString"||c==="Polygon"||c==="MultiPolygon"}class _l{constructor(n,a){this.type=Nr,this.geojson=n,this.geometries=a}static parse(n,a){if(n.length!==2)return a.error(`'distance' expression requires either one argument, but found ' ${n.length-1} instead.`);if(Bi(n[1])){const f=n[1];if(f.type==="FeatureCollection"){for(let v=0;v<f.features.length;++v)if(Wl(f.features[v].geometry.type))return new _l(f,f.features[v].geometry)}else if(f.type==="Feature"){if(Wl(f.geometry.type))return new _l(f,f.geometry)}else if(Wl(f.type))return new _l(f,f)}return a.error("'distance' expression needs to be an array with format ['Distance', GeoJSONObj].")}evaluate(n){const a=n.geometry(),f=n.canonicalID();if(a!=null&&f!=null){if(n.geometryType()==="Point")return function(v,h,y){const E=[];for(const L of v)for(const C of L)E.push(ro(C,h));const O=new Bc(E[0][1],"meters");return y.type==="Point"||y.type==="MultiPoint"||y.type==="LineString"?Va(E,!1,y.type==="Point"?[y.coordinates]:y.coordinates,y.type==="LineString",O):y.type==="MultiLineString"?Ia(E,!1,y.coordinates,O):y.type==="Polygon"||y.type==="MultiPolygon"?zs(E,!1,y.type==="Polygon"?[y.coordinates]:y.coordinates,O):null}(a,f,this.geometries);if(n.geometryType()==="LineString")return function(v,h,y){const E=[];for(const L of v){const C=[];for(const $ of L)C.push(ro($,h));E.push(C)}const O=new Bc(E[0][0][1],"meters");if(y.type==="Point"||y.type==="MultiPoint"||y.type==="LineString")return Ia(y.type==="Point"?[y.coordinates]:y.coordinates,y.type==="LineString",E,O);if(y.type==="MultiLineString"){let L=1/0;for(let C=0;C<y.coordinates.length;C++){const $=Ia(y.coordinates[C],!0,E,O,L);if(isNaN($))return $;if((L=Math.min(L,$))===0)return L}return L}if(y.type==="Polygon"||y.type==="MultiPolygon"){let L=1/0;for(let C=0;C<E.length;C++){const $=zs(E[C],!0,y.type==="Polygon"?[y.coordinates]:y.coordinates,O,L);if(isNaN($))return $;if((L=Math.min(L,$))===0)return L}return L}return null}(a,f,this.geometries);if(n.geometryType()==="Polygon")return function(v,h,y){const E=[];for(const L of function(C,$){const z=C.length;if(z<=1)return[C];const P=[];let A,k;for(let X=0;X<z;X++){const ee=Ts(C[X]);ee!==0&&(C[X].area=Math.abs(ee),k===void 0&&(k=ee<0),k===ee<0?(A&&P.push(A),A=[C[X]]):A.push(C[X]))}return A&&P.push(A),P}(v)){const C=[];for(let $=0;$<L.length;++$)C.push(yo(L[$],h));E.push(C)}const O=new Bc(E[0][0][0][1],"meters");if(y.type==="Point"||y.type==="MultiPoint"||y.type==="LineString")return zs(y.type==="Point"?[y.coordinates]:y.coordinates,y.type==="LineString",E,O);if(y.type==="MultiLineString"){let L=1/0;for(let C=0;C<y.coordinates.length;C++){const $=zs(y.coordinates[C],!0,E,O,L);if(isNaN($))return $;if((L=Math.min(L,$))===0)return L}return L}return y.type==="Polygon"||y.type==="MultiPolygon"?function(L,C,$){let z=1/0;for(const P of L)for(const A of C){const k=is(P,A,$,z);if(isNaN(k))return k;if((z=Math.min(z,k))===0)return z}return z}(y.type==="Polygon"?[y.coordinates]:y.coordinates,E,O):null}(a,f,this.geometries);console.warn("Distance Expression: currently only evaluates valid Point/LineString/Polygon geometries.")}else console.warn("Distance Expression: requirs valid feature and canonical information.");return null}eachChild(){}outputDefined(){return!0}serialize(){return["distance",this.geojson]}}function lu(c,n){switch(c){case"string":return Ur(n);case"number":return+n;case"boolean":return!!n;case"color":return no.parse(n);case"formatted":return gr.fromString(Ur(n));case"resolvedImage":return Ar.build(Ur(n))}return n}function Vu(c,n,a,f){return f!==void 0&&(c=f*Math.round(c/f)),n!==void 0&&c<n&&(c=n),a!==void 0&&c>a&&(c=a),c}class kl{constructor(n,a,f){this.type=n,this.key=a,this.scope=f}static parse(n,a){let f=a.expectedType;if(f==null&&(f=Ho),n.length<2||n.length>3)return a.error("Invalid number of arguments for 'config' expression.");const v=a.parse(n[1],1);if(!(v instanceof Cr))return a.error("Key name of 'config' expression must be a string literal.");if(n.length>=3){const h=a.parse(n[2],2);return h instanceof Cr?new kl(f,Ur(v.value),Ur(h.value)):a.error("Scope of 'config' expression must be a string literal.")}return new kl(f,Ur(v.value))}evaluate(n){const a=[this.key,this.scope,n.scope].filter(Boolean).join(""),f=n.getConfig(a);if(!f)return null;const{type:v,value:h,values:y,minValue:E,maxValue:O,stepValue:L}=f,C=f.default.evaluate(n);let $=C;if(h){const z=n.scope;n.scope=(z||"").split("").slice(1).join(""),$=h.evaluate(n),n.scope=z}return v&&($=lu(v,$)),$===void 0||E===void 0&&O===void 0&&L===void 0||(typeof $=="number"?$=Vu($,E,O,L):Array.isArray($)&&($=$.map(z=>typeof z=="number"?Vu(z,E,O,L):z))),h!==void 0&&$!==void 0&&y&&!y.includes($)&&($=C,v&&($=lu(v,$))),(v&&v!==this.type||$!==void 0&&Pr($)!==this.type)&&($=lu(this.type.kind,$)),$}eachChild(){}outputDefined(){return!1}serialize(){const n=["config",this.key];return this.scope&&n.concat(this.key),n}}function Ml(c){if(c instanceof ea&&(c.name==="get"&&c.args.length===1||c.name==="feature-state"||c.name==="has"&&c.args.length===1||c.name==="properties"||c.name==="geometry-type"||c.name==="id"||/^filter-/.test(c.name))||c instanceof vo||c instanceof _l)return!1;let n=!0;return c.eachChild(a=>{n&&!Ml(a)&&(n=!1)}),n}function Al(c){if(c instanceof ea&&c.name==="feature-state")return!1;let n=!0;return c.eachChild(a=>{n&&!Al(a)&&(n=!1)}),n}function dc(c){if(c instanceof kl)return new Set([c.key]);let n=new Set;return c.eachChild(a=>{n=new Set([...n,...dc(a)])}),n}function fc(c,n){if(c instanceof ea&&n.indexOf(c.name)>=0)return!1;let a=!0;return c.eachChild(f=>{a&&!fc(f,n)&&(a=!1)}),a}class Dl{constructor(n,a){this.type=a.type,this.name=n,this.boundExpression=a}static parse(n,a){if(n.length!==2||typeof n[1]!="string")return a.error("'var' expression requires exactly one string literal argument.");const f=n[1];return a.scope.has(f)?new Dl(f,a.scope.get(f)):a.error(`Unknown variable "${f}". Make sure "${f}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(n){return this.boundExpression.evaluate(n)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}class jl{constructor(n,a=[],f,v=new Ya,h=[],y,E){this.registry=n,this.path=a,this.key=a.map(O=>typeof O=="string"?`['${O}']`:`[${O}]`).join(""),this.scope=v,this.errors=h,this.expectedType=f,this._scope=y,this.options=E}parse(n,a,f,v,h={}){return a||f?this.concat(a,null,f,v)._parse(n,h):this._parse(n,h)}parseObjectValue(n,a,f,v,h,y={}){return this.concat(a,f,v,h)._parse(n,y)}_parse(n,a){function f(v,h,y){return y==="assert"?new Ji(h,[v]):y==="coerce"?new Oa(h,[v]):v}if(n!==null&&typeof n!="string"&&typeof n!="boolean"&&typeof n!="number"||(n=["literal",n]),Array.isArray(n)){if(n.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const v=typeof n[0]=="string"?this.registry[n[0]]:void 0;if(v){let h=v.parse(n,this);if(!h)return null;if(this.expectedType){const y=this.expectedType,E=h.type;if(y.kind!=="string"&&y.kind!=="number"&&y.kind!=="boolean"&&y.kind!=="object"&&y.kind!=="array"||E.kind!=="value")if(y.kind!=="color"&&y.kind!=="formatted"&&y.kind!=="resolvedImage"||E.kind!=="value"&&E.kind!=="string"){if(this.checkSubtype(y,E))return null}else h=f(h,y,a.typeAnnotation||"coerce");else h=f(h,y,a.typeAnnotation||"assert")}if(!(h instanceof Cr)&&h.type.kind!=="resolvedImage"&&Jo(h)){const y=new za(this._scope,this.options);try{h=new Cr(h.type,h.evaluate(y))}catch(E){return this.error(E.message),null}}return h}return Oa.parse(["to-array",n],this)}return this.error(n===void 0?"'undefined' value invalid. Use null instead.":typeof n=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof n} instead.`)}concat(n,a,f,v){let h=typeof n=="number"?this.path.concat(n):this.path;h=typeof a=="string"?h.concat(a):h;const y=v?this.scope.concat(v):this.scope;return new jl(this.registry,h,f||null,y,this.errors,this._scope,this.options)}error(n,...a){const f=`${this.key}${a.map(v=>`[${v}]`).join("")}`;this.errors.push(new di(f,n))}checkSubtype(n,a){const f=Ne(n,a);return f&&this.error(f),f}}var Qs=jl;function Jo(c){if(c instanceof Dl)return Jo(c.boundExpression);if(c instanceof ea&&c.name==="error"||c instanceof js||c instanceof vo||c instanceof _l||c instanceof kl)return!1;const n=c instanceof Oa||c instanceof Ji;let a=!0;return c.eachChild(f=>{a=n?a&&Jo(f):a&&f instanceof Cr}),!!a&&Ml(c)&&fc(c,["zoom","heatmap-density","line-progress","raster-value","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center","measure-light","raster-particle-speed"])}function ec(c,n){const a=c.length-1;let f,v,h=0,y=a,E=0;for(;h<=y;)if(E=Math.floor((h+y)/2),f=c[E],v=c[E+1],f<=n){if(E===a||n<v)return E;h=E+1}else{if(!(f>n))throw new Er("Input is not a number.");y=E-1}return 0}class Cc{constructor(n,a,f){this.type=n,this.input=a,this.labels=[],this.outputs=[];for(const[v,h]of f)this.labels.push(v),this.outputs.push(h)}static parse(n,a){if(n.length-1<4)return a.error(`Expected at least 4 arguments, but found only ${n.length-1}.`);if((n.length-1)%2!=0)return a.error("Expected an even number of arguments.");const f=a.parse(n[1],1,Nr);if(!f)return null;const v=[];let h=null;a.expectedType&&a.expectedType.kind!=="value"&&(h=a.expectedType);for(let y=1;y<n.length;y+=2){const E=y===1?-1/0:n[y],O=n[y+1],L=y,C=y+1;if(typeof E!="number")return a.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',L);if(v.length&&v[v.length-1][0]>=E)return a.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',L);const $=a.parse(O,C,h);if(!$)return null;h=h||$.type,v.push([E,$])}return new Cc(h,f,v)}evaluate(n){const a=this.labels,f=this.outputs;if(a.length===1)return f[0].evaluate(n);const v=this.input.evaluate(n);if(v<=a[0])return f[0].evaluate(n);const h=a.length;return v>=a[h-1]?f[h-1].evaluate(n):f[ec(a,v)].evaluate(n)}eachChild(n){n(this.input);for(const a of this.outputs)n(a)}outputDefined(){return this.outputs.every(n=>n.outputDefined())}serialize(){const n=["step",this.input.serialize()];for(let a=0;a<this.labels.length;a++)a>0&&n.push(this.labels[a]),n.push(this.outputs[a].serialize());return n}}const Zl=.95047,Na=1.08883,Pc=4/29,zl=6/29,El=3*zl*zl,Ph=zl*zl*zl,Om=Math.PI/180,Gs=180/Math.PI;function Ud(c){return c>Ph?Math.pow(c,1/3):c/El+Pc}function Pf(c){return c>zl?c*c*c:El*(c-Pc)}function Wd(c){return 255*(c<=.0031308?12.92*c:1.055*Math.pow(c,1/2.4)-.055)}function Oh(c){return(c/=255)<=.04045?c/12.92:Math.pow((c+.055)/1.055,2.4)}function Of(c){const n=Oh(c.r),a=Oh(c.g),f=Oh(c.b),v=Ud((.4124564*n+.3575761*a+.1804375*f)/Zl),h=Ud((.2126729*n+.7151522*a+.072175*f)/1);return{l:116*h-16,a:500*(v-h),b:200*(h-Ud((.0193339*n+.119192*a+.9503041*f)/Na)),alpha:c.a}}function Ip(c){let n=(c.l+16)/116,a=isNaN(c.a)?n:n+c.a/500,f=isNaN(c.b)?n:n-c.b/200;return n=1*Pf(n),a=Zl*Pf(a),f=Na*Pf(f),new no(Wd(3.2404542*a-1.5371385*n-.4985314*f),Wd(-.969266*a+1.8760108*n+.041556*f),Wd(.0556434*a-.2040259*n+1.0572252*f),c.alpha)}function $h(c,n,a){const f=n-c;return c+a*(f>180||f<-180?f-360*Math.round(f/360):f)}const hd={forward:Of,reverse:Ip,interpolate:function(c,n,a){return{l:si(c.l,n.l,a),a:si(c.a,n.a,a),b:si(c.b,n.b,a),alpha:si(c.alpha,n.alpha,a)}}},Gd={forward:function(c){const{l:n,a,b:f}=Of(c),v=Math.atan2(f,a)*Gs;return{h:v<0?v+360:v,c:Math.sqrt(a*a+f*f),l:n,alpha:c.a}},reverse:function(c){const n=c.h*Om,a=c.c;return Ip({l:c.l,a:Math.cos(n)*a,b:Math.sin(n)*a,alpha:c.alpha})},interpolate:function(c,n,a){return{h:$h(c.h,n.h,a),c:si(c.c,n.c,a),l:si(c.l,n.l,a),alpha:si(c.alpha,n.alpha,a)}}};var $f=Object.freeze({__proto__:null,hcl:Gd,lab:hd});class rc{constructor(n,a,f,v,h,y){this.type=n,this.operator=a,this.interpolation=f,this.input=v,this.dynamicStops=h,this.labels=[],this.outputs=[];for(const[E,O]of y)this.labels.push(E),this.outputs.push(O)}static interpolationFactor(n,a,f,v){let h=0;if(n.name==="exponential")h=Rh(a,n.base,f,v);else if(n.name==="linear")h=Rh(a,1,f,v);else if(n.name==="cubic-bezier"){const y=n.controlPoints;h=new Ui(y[0],y[1],y[2],y[3]).solve(Rh(a,1,f,v))}return h}static parse(n,a){let[f,v,h,...y]=n;if(!Array.isArray(v)||v.length===0)return a.error("Expected an interpolation type expression.",1);if(v[0]==="linear")v={name:"linear"};else if(v[0]==="exponential"){const L=v[1];if(typeof L!="number")return a.error("Exponential interpolation requires a numeric base.",1,1);v={name:"exponential",base:L}}else{if(v[0]!=="cubic-bezier")return a.error(`Unknown interpolation type ${String(v[0])}`,1,0);{const L=v.slice(1);if(L.length!==4||L.some(C=>typeof C!="number"||C<0||C>1))return a.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);v={name:"cubic-bezier",controlPoints:L}}}if(n.length-1<3)return a.error(`Expected at least 3 arguments, but found only ${n.length-1}.`);if(n.length-1>3&&(n.length-1)%2!=0)return a.error("Expected an even number of arguments.");if(h=a.parse(h,2,Nr),!h)return null;const E=[];let O=null;if(f==="interpolate-hcl"||f==="interpolate-lab"?O=wa:a.expectedType&&a.expectedType.kind!=="value"&&(O=a.expectedType),n.length-1==3){const L=a.parse(y[0],3,Ho);return L?new rc(O,f,v,h,L,E):null}for(let L=0;L<y.length;L+=2){const C=y[L],$=y[L+1],z=L+3,P=L+4;if(typeof C!="number")return a.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',z);if(E.length&&E[E.length-1][0]>=C)return a.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',z);const A=a.parse($,P,O);if(!A)return null;O=O||A.type,E.push([C,A])}return O.kind==="number"||O.kind==="color"||O.kind==="array"&&O.itemType.kind==="number"&&typeof O.N=="number"?new rc(O,f,v,h,null,E):a.error(`Type ${Pe(O)} is not interpolatable.`)}evaluate(n){let a=this.labels,f=this.outputs;if(this.dynamicStops){const C=this.dynamicStops.evaluate(n);if(C.length%2!=0)throw new Er("Expected an even number of arguments.");a=[],f=[];for(let $=0;$<C.length;$+=2){const z=C[$],P=new Cr(Nr,C[$+1]);if(typeof z!="number")throw new Er('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.');if(a.length&&a[a.length-1]>=z)throw new Er('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.');a.push(z),f.push(P)}if(a.length===0)throw new Er("Expected at least one input/output pair.")}if(a.length===1)return f[0].evaluate(n);const v=this.input.evaluate(n);if(v<=a[0])return f[0].evaluate(n);const h=a.length;if(v>=a[h-1])return f[h-1].evaluate(n);const y=ec(a,v),E=rc.interpolationFactor(this.interpolation,v,a[y],a[y+1]),O=f[y].evaluate(n),L=f[y+1].evaluate(n);return this.operator==="interpolate"?qs[this.type.kind.toLowerCase()](O,L,E):this.operator==="interpolate-hcl"?Gd.reverse(Gd.interpolate(Gd.forward(O),Gd.forward(L),E)):hd.reverse(hd.interpolate(hd.forward(O),hd.forward(L),E))}eachChild(n){n(this.input);for(const a of this.outputs)n(a)}outputDefined(){return this.outputs.every(n=>n.outputDefined())}serialize(){let n;n=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const a=[this.operator,n,this.input.serialize()];if(this.dynamicStops)a.push(this.dynamicStops.serialize());else for(let f=0;f<this.labels.length;f++)a.push(this.labels[f],this.outputs[f].serialize());return a}}function Rh(c,n,a,f){const v=f-a,h=c-a;return v===0?0:n===1?h/v:(Math.pow(n,h)-1)/(Math.pow(n,v)-1)}class Rf{constructor(n,a){this.type=n,this.args=a}static parse(n,a){if(n.length<2)return a.error("Expectected at least one argument.");let f=null;const v=a.expectedType;v&&v.kind!=="value"&&(f=v);const h=[];for(const E of n.slice(1)){const O=a.parse(E,1+h.length,f,void 0,{typeAnnotation:"omit"});if(!O)return null;f=f||O.type,h.push(O)}const y=v&&h.some(E=>Ne(v,E.type));return new Rf(y?Ho:f,h)}evaluate(n){let a,f=null,v=0;for(const h of this.args){if(v++,f=h.evaluate(n),f&&f instanceof Ar&&!f.available&&(a||(a=f),f=null,v===this.args.length))return a;if(f!==null)break}return f}eachChild(n){this.args.forEach(n)}outputDefined(){return this.args.every(n=>n.outputDefined())}serialize(){const n=["coalesce"];return this.eachChild(a=>{n.push(a.serialize())}),n}}class Af{constructor(n,a){this.type=a.type,this.bindings=[].concat(n),this.result=a}evaluate(n){return this.result.evaluate(n)}eachChild(n){for(const a of this.bindings)n(a[1]);n(this.result)}static parse(n,a){if(n.length<4)return a.error(`Expected at least 3 arguments, but found ${n.length-1} instead.`);const f=[];for(let h=1;h<n.length-1;h+=2){const y=n[h];if(typeof y!="string")return a.error(`Expected string, but found ${typeof y} instead.`,h);if(/[^a-zA-Z0-9_]/.test(y))return a.error("Variable names must contain only alphanumeric characters or '_'.",h);const E=a.parse(n[h+1],h+1);if(!E)return null;f.push([y,E])}const v=a.parse(n[n.length-1],n.length-1,a.expectedType,f);return v?new Af(f,v):null}outputDefined(){return this.result.outputDefined()}serialize(){const n=["let"];for(const[a,f]of this.bindings)n.push(a,f.serialize());return n.push(this.result.serialize()),n}}class pd{constructor(n,a,f){this.type=n,this.index=a,this.input=f}static parse(n,a){if(n.length!==3)return a.error(`Expected 2 arguments, but found ${n.length-1} instead.`);const f=a.parse(n[1],1,Nr),v=a.parse(n[2],2,Ke(a.expectedType||Ho));return f&&v?new pd(v.type.itemType,f,v):null}evaluate(n){const a=this.index.evaluate(n),f=this.input.evaluate(n);if(a<0)throw new Er(`Array index out of bounds: ${a} < 0.`);if(a>f.length-1)throw new Er(`Array index out of bounds: ${a} > ${f.length-1}.`);if(a===Math.floor(a))return f[a];const v=Math.floor(a),h=Math.ceil(a),y=f[v],E=f[h];if(typeof y!="number"||typeof E!="number")throw new Er(`Cannot interpolate between non-number values at index ${a}.`);const O=a-v;return y*(1-O)+E*O}eachChild(n){n(this.index),n(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}class Ah{constructor(n,a){this.type=To,this.needle=n,this.haystack=a}static parse(n,a){if(n.length!==3)return a.error(`Expected 2 arguments, but found ${n.length-1} instead.`);const f=a.parse(n[1],1,Ho),v=a.parse(n[2],2,Ho);return f&&v?Ot(f.type,[To,qi,Nr,Ss,Ho])?new Ah(f,v):a.error(`Expected first argument to be of type boolean, string, number or null, but found ${Pe(f.type)} instead`):null}evaluate(n){const a=this.needle.evaluate(n),f=this.haystack.evaluate(n);if(f==null)return!1;if(!Kt(a,["boolean","string","number","null"]))throw new Er(`Expected first argument to be of type boolean, string, number or null, but found ${Pe(Pr(a))} instead.`);if(!Kt(f,["string","array"]))throw new Er(`Expected second argument to be of type array or string, but found ${Pe(Pr(f))} instead.`);return f.indexOf(a)>=0}eachChild(n){n(this.needle),n(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}class Df{constructor(n,a,f){this.type=Nr,this.needle=n,this.haystack=a,this.fromIndex=f}static parse(n,a){if(n.length<=2||n.length>=5)return a.error(`Expected 3 or 4 arguments, but found ${n.length-1} instead.`);const f=a.parse(n[1],1,Ho),v=a.parse(n[2],2,Ho);if(!f||!v)return null;if(!Ot(f.type,[To,qi,Nr,Ss,Ho]))return a.error(`Expected first argument to be of type boolean, string, number or null, but found ${Pe(f.type)} instead`);if(n.length===4){const h=a.parse(n[3],3,Nr);return h?new Df(f,v,h):null}return new Df(f,v)}evaluate(n){const a=this.needle.evaluate(n),f=this.haystack.evaluate(n);if(!Kt(a,["boolean","string","number","null"]))throw new Er(`Expected first argument to be of type boolean, string, number or null, but found ${Pe(Pr(a))} instead.`);if(!Kt(f,["string","array"]))throw new Er(`Expected second argument to be of type array or string, but found ${Pe(Pr(f))} instead.`);if(this.fromIndex){const v=this.fromIndex.evaluate(n);return f.indexOf(a,v)}return f.indexOf(a)}eachChild(n){n(this.needle),n(this.haystack),this.fromIndex&&n(this.fromIndex)}outputDefined(){return!1}serialize(){if(this.fromIndex!=null&&this.fromIndex!==void 0){const n=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),n]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}class Dh{constructor(n,a,f,v,h,y){this.inputType=n,this.type=a,this.input=f,this.cases=v,this.outputs=h,this.otherwise=y}static parse(n,a){if(n.length<5)return a.error(`Expected at least 4 arguments, but found only ${n.length-1}.`);if(n.length%2!=1)return a.error("Expected an even number of arguments.");let f,v;a.expectedType&&a.expectedType.kind!=="value"&&(v=a.expectedType);const h={},y=[];for(let L=2;L<n.length-1;L+=2){let C=n[L];const $=n[L+1];Array.isArray(C)||(C=[C]);const z=a.concat(L);if(C.length===0)return z.error("Expected at least one branch label.");for(const A of C){if(typeof A!="number"&&typeof A!="string")return z.error("Branch labels must be numbers or strings.");if(typeof A=="number"&&Math.abs(A)>Number.MAX_SAFE_INTEGER)return z.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof A=="number"&&Math.floor(A)!==A)return z.error("Numeric branch labels must be integer values.");if(f){if(z.checkSubtype(f,Pr(A)))return null}else f=Pr(A);if(h[String(A)]!==void 0)return z.error("Branch labels must be unique.");h[String(A)]=y.length}const P=a.parse($,L,v);if(!P)return null;v=v||P.type,y.push(P)}const E=a.parse(n[1],1,Ho);if(!E)return null;const O=a.parse(n[n.length-1],n.length-1,v);return O?E.type.kind!=="value"&&a.concat(1).checkSubtype(f,E.type)?null:new Dh(f,v,E,h,y,O):null}evaluate(n){const a=this.input.evaluate(n);return(Pr(a)===this.inputType&&this.outputs[this.cases[a]]||this.otherwise).evaluate(n)}eachChild(n){n(this.input),this.outputs.forEach(n),n(this.otherwise)}outputDefined(){return this.outputs.every(n=>n.outputDefined())&&this.otherwise.outputDefined()}serialize(){const n=["match",this.input.serialize()],a=Object.keys(this.cases).sort(),f=[],v={};for(const y of a){const E=v[this.cases[y]];E===void 0?(v[this.cases[y]]=f.length,f.push([this.cases[y],[y]])):f[E][1].push(y)}const h=y=>this.inputType.kind==="number"?Number(y):y;for(const[y,E]of f)n.push(E.length===1?h(E[0]):E.map(h)),n.push(this.outputs[y].serialize());return n.push(this.otherwise.serialize()),n}}class cu{constructor(n,a,f){this.type=n,this.branches=a,this.otherwise=f}static parse(n,a){if(n.length<4)return a.error(`Expected at least 3 arguments, but found only ${n.length-1}.`);if(n.length%2!=0)return a.error("Expected an odd number of arguments.");let f;a.expectedType&&a.expectedType.kind!=="value"&&(f=a.expectedType);const v=[];for(let y=1;y<n.length-1;y+=2){const E=a.parse(n[y],y,To);if(!E)return null;const O=a.parse(n[y+1],y+1,f);if(!O)return null;v.push([E,O]),f=f||O.type}const h=a.parse(n[n.length-1],n.length-1,f);return h?new cu(f,v,h):null}evaluate(n){for(const[a,f]of this.branches)if(a.evaluate(n))return f.evaluate(n);return this.otherwise.evaluate(n)}eachChild(n){for(const[a,f]of this.branches)n(a),n(f);n(this.otherwise)}outputDefined(){return this.branches.every(([n,a])=>a.outputDefined())&&this.otherwise.outputDefined()}serialize(){const n=["case"];return this.eachChild(a=>{n.push(a.serialize())}),n}}class Xd{constructor(n,a,f,v){this.type=n,this.input=a,this.beginIndex=f,this.endIndex=v}static parse(n,a){if(n.length<=2||n.length>=5)return a.error(`Expected 3 or 4 arguments, but found ${n.length-1} instead.`);const f=a.parse(n[1],1,Ho),v=a.parse(n[2],2,Nr);if(!f||!v)return null;if(!Ot(f.type,[Ke(Ho),qi,Ho]))return a.error(`Expected first argument to be of type array or string, but found ${Pe(f.type)} instead`);if(n.length===4){const h=a.parse(n[3],3,Nr);return h?new Xd(f.type,f,v,h):null}return new Xd(f.type,f,v)}evaluate(n){const a=this.input.evaluate(n),f=this.beginIndex.evaluate(n);if(!Kt(a,["string","array"]))throw new Er(`Expected first argument to be of type array or string, but found ${Pe(Pr(a))} instead.`);if(this.endIndex){const v=this.endIndex.evaluate(n);return a.slice(f,v)}return a.slice(f)}eachChild(n){n(this.input),n(this.beginIndex),this.endIndex&&n(this.endIndex)}outputDefined(){return!1}serialize(){if(this.endIndex!=null&&this.endIndex!==void 0){const n=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),n]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}function Tp(c,n){return c==="=="||c==="!="?n.kind==="boolean"||n.kind==="string"||n.kind==="number"||n.kind==="null"||n.kind==="value":n.kind==="string"||n.kind==="number"||n.kind==="value"}function Mp(c,n,a,f){return f.compare(n,a)===0}function Hu(c,n,a){const f=c!=="=="&&c!=="!=";return class zO{constructor(h,y,E){this.type=To,this.lhs=h,this.rhs=y,this.collator=E,this.hasUntypedArgument=h.type.kind==="value"||y.type.kind==="value"}static parse(h,y){if(h.length!==3&&h.length!==4)return y.error("Expected two or three arguments.");const E=h[0];let O=y.parse(h[1],1,Ho);if(!O)return null;if(!Tp(E,O.type))return y.concat(1).error(`"${E}" comparisons are not supported for type '${Pe(O.type)}'.`);let L=y.parse(h[2],2,Ho);if(!L)return null;if(!Tp(E,L.type))return y.concat(2).error(`"${E}" comparisons are not supported for type '${Pe(L.type)}'.`);if(O.type.kind!==L.type.kind&&O.type.kind!=="value"&&L.type.kind!=="value")return y.error(`Cannot compare types '${Pe(O.type)}' and '${Pe(L.type)}'.`);f&&(O.type.kind==="value"&&L.type.kind!=="value"?O=new Ji(L.type,[O]):O.type.kind!=="value"&&L.type.kind==="value"&&(L=new Ji(O.type,[L])));let C=null;if(h.length===4){if(O.type.kind!=="string"&&L.type.kind!=="string"&&O.type.kind!=="value"&&L.type.kind!=="value")return y.error("Cannot use collator to compare non-string types.");if(C=y.parse(h[3],3,ul),!C)return null}return new zO(O,L,C)}evaluate(h){const y=this.lhs.evaluate(h),E=this.rhs.evaluate(h);if(f&&this.hasUntypedArgument){const O=Pr(y),L=Pr(E);if(O.kind!==L.kind||O.kind!=="string"&&O.kind!=="number")throw new Er(`Expected arguments for "${c}" to be (string, string) or (number, number), but found (${O.kind}, ${L.kind}) instead.`)}if(this.collator&&!f&&this.hasUntypedArgument){const O=Pr(y),L=Pr(E);if(O.kind!=="string"||L.kind!=="string")return n(h,y,E)}return this.collator?a(h,y,E,this.collator.evaluate(h)):n(h,y,E)}eachChild(h){h(this.lhs),h(this.rhs),this.collator&&h(this.collator)}outputDefined(){return!0}serialize(){const h=[c];return this.eachChild(y=>{h.push(y.serialize())}),h}}}const qd=Hu("==",function(c,n,a){return n===a},Mp),ic=Hu("!=",function(c,n,a){return n!==a},function(c,n,a,f){return!Mp(0,n,a,f)}),Kd=Hu("<",function(c,n,a){return n<a},function(c,n,a,f){return f.compare(n,a)<0}),zh=Hu(">",function(c,n,a){return n>a},function(c,n,a,f){return f.compare(n,a)>0}),zf=Hu("<=",function(c,n,a){return n<=a},function(c,n,a,f){return f.compare(n,a)<=0}),Lh=Hu(">=",function(c,n,a){return n>=a},function(c,n,a,f){return f.compare(n,a)>=0});class Yd{constructor(n,a,f,v,h,y){this.type=qi,this.number=n,this.locale=a,this.currency=f,this.unit=v,this.minFractionDigits=h,this.maxFractionDigits=y}static parse(n,a){if(n.length!==3)return a.error("Expected two arguments.");const f=a.parse(n[1],1,Nr);if(!f)return null;const v=n[2];if(typeof v!="object"||Array.isArray(v))return a.error("NumberFormat options argument must be an object.");let h=null;if(v.locale&&(h=a.parseObjectValue(v.locale,2,"locale",qi),!h))return null;let y=null;if(v.currency&&(y=a.parseObjectValue(v.currency,2,"currency",qi),!y))return null;let E=null;if(v.unit&&(E=a.parseObjectValue(v.unit,2,"unit",qi),!E))return null;let O=null;if(v["min-fraction-digits"]&&(O=a.parseObjectValue(v["min-fraction-digits"],2,"min-fraction-digits",Nr),!O))return null;let L=null;return v["max-fraction-digits"]&&(L=a.parseObjectValue(v["max-fraction-digits"],2,"max-fraction-digits",Nr),!L)?null:new Yd(f,h,y,E,O,L)}evaluate(n){return new Intl.NumberFormat(this.locale?this.locale.evaluate(n):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(n):void 0,unit:this.unit?this.unit.evaluate(n):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(n):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(n):void 0}).format(this.number.evaluate(n))}eachChild(n){n(this.number),this.locale&&n(this.locale),this.currency&&n(this.currency),this.unit&&n(this.unit),this.minFractionDigits&&n(this.minFractionDigits),this.maxFractionDigits&&n(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const n={};return this.locale&&(n.locale=this.locale.serialize()),this.currency&&(n.currency=this.currency.serialize()),this.unit&&(n.unit=this.unit.serialize()),this.minFractionDigits&&(n["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(n["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),n]}}class Lf{constructor(n){this.type=Nr,this.input=n}static parse(n,a){if(n.length!==2)return a.error(`Expected 1 argument, but found ${n.length-1} instead.`);const f=a.parse(n[1],1);return f?f.type.kind!=="array"&&f.type.kind!=="string"&&f.type.kind!=="value"?a.error(`Expected argument of type string or array, but found ${Pe(f.type)} instead.`):new Lf(f):null}evaluate(n){const a=this.input.evaluate(n);if(typeof a=="string"||Array.isArray(a))return a.length;throw new Er(`Expected value to be of type string or array, but found ${Pe(Pr(a))} instead.`)}eachChild(n){n(this.input)}outputDefined(){return!1}serialize(){const n=["length"];return this.eachChild(a=>{n.push(a.serialize())}),n}}function Jd(c){return function(){c=1831565813+(c|=0)|0;let n=Math.imul(c^c>>>15,1|c);return n=n+Math.imul(n^n>>>7,61|n)^n,((n^n>>>14)>>>0)/4294967296}}const Vt={"==":qd,"!=":ic,">":zh,"<":Kd,">=":Lh,"<=":zf,array:Ji,at:pd,boolean:Ji,case:cu,coalesce:Rf,collator:js,format:Qo,image:Ro,in:Ah,"index-of":Df,interpolate:rc,"interpolate-hcl":rc,"interpolate-lab":rc,length:Lf,let:Af,literal:Cr,match:Dh,number:Ji,"number-format":Yd,object:Ji,slice:Xd,step:Cc,string:Ji,"to-boolean":Oa,"to-color":Oa,"to-number":Oa,"to-string":Oa,var:Dl,within:vo,distance:_l,config:kl};function Vn(c,[n,a,f,v]){n=n.evaluate(c),a=a.evaluate(c),f=f.evaluate(c);const h=v?v.evaluate(c):1,y=li(n,a,f,h);if(y)throw new Er(y);return new no(n/255*h,a/255*h,f/255*h,h)}function ii(c,[n,a,f,v]){n=n.evaluate(c),a=a.evaluate(c),f=f.evaluate(c);const h=v?v.evaluate(c):1,y=function(L,C,$,z){return typeof L=="number"&&L>=0&&L<=360?typeof C=="number"&&C>=0&&C<=100&&typeof $=="number"&&$>=0&&$<=100?z===void 0||typeof z=="number"&&z>=0&&z<=1?null:`Invalid hsla value [${[L,C,$,z].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid hsla value [${(typeof z=="number"?[L,C,$,z]:[L,C,$]).join(", ")}]: 's', and 'l' must be between 0 and 100.`:`Invalid hsla value [${(typeof z=="number"?[L,C,$,z]:[L,C,$]).join(", ")}]: 'h' must be between 0 and 360.`}(n,a,f,h);if(y)throw new Er(y);const E=`hsla(${n}, ${a}%, ${f}%, ${h})`,O=no.parse(E);if(!O)throw new Er(`Failed to parse HSLA color: ${E}`);return O}function Mo(c,n){return c in n}function nl(c,n){const a=n[c];return a===void 0?null:a}function Ha(c){return{type:c}}function ml(c){return{result:"success",value:c}}function Ks(c){return{result:"error",value:c}}function Ll(c,n){return!!c&&!!c.parameters&&c.parameters.indexOf(n)>-1}function ol(c){return c["property-type"]==="data-driven"}function Fc(c){return Ll(c.expression,"measure-light")}function Gl(c){return Ll(c.expression,"zoom")}function Pl(c){return!!c.expression&&c.expression.interpolated}function kc(c){return typeof c=="object"&&c!==null&&!Array.isArray(c)}function hc(c){return c}function oc(c,n){const a=n.type==="color",f=c.stops&&typeof c.stops[0][0]=="object",v=f||!(f||c.property!==void 0),h=c.type||(Pl(n)?"exponential":"interval");if(a&&((c=ms({},c)).stops&&(c.stops=c.stops.map(L=>[L[0],no.parse(L[1])])),c.default=no.parse(c.default?c.default:n.default)),c.colorSpace&&c.colorSpace!=="rgb"&&!$f[c.colorSpace])throw new Error(`Unknown color space: ${c.colorSpace}`);let y,E,O;if(h==="exponential")y=Oc;else if(h==="interval")y=Qc;else if(h==="categorical"){y=Jc,E=Object.create(null);for(const L of c.stops)E[L[0]]=L[1];O=typeof c.stops[0][0]}else{if(h!=="identity")throw new Error(`Unknown function type "${h}"`);y=Qd}if(f){const L={},C=[];for(let P=0;P<c.stops.length;P++){const A=c.stops[P],k=A[0].zoom;L[k]===void 0&&(L[k]={zoom:k,type:c.type,property:c.property,default:c.default,stops:[]},C.push(k)),L[k].stops.push([A[0].value,A[1]])}const $=[];for(const P of C)$.push([L[P].zoom,oc(L[P],n)]);const z={name:"linear"};return{kind:"composite",interpolationType:z,interpolationFactor:rc.interpolationFactor.bind(void 0,z),zoomStops:$.map(P=>P[0]),evaluate:({zoom:P},A)=>Oc({stops:$,base:c.base},n,P).evaluate(P,A)}}if(v){const L=h==="exponential"?{name:"exponential",base:c.base!==void 0?c.base:1}:null;return{kind:"camera",interpolationType:L,interpolationFactor:rc.interpolationFactor.bind(void 0,L),zoomStops:c.stops.map(C=>C[0]),evaluate:({zoom:C})=>y(c,n,C,E,O)}}return{kind:"source",evaluate(L,C){const $=C&&C.properties?C.properties[c.property]:void 0;return $===void 0?ac(c.default,n.default):y(c,n,$,E,O)}}}function ac(c,n,a){return c!==void 0?c:n!==void 0?n:a!==void 0?a:void 0}function Jc(c,n,a,f,v){return ac(typeof a===v?f[a]:void 0,c.default,n.default)}function Qc(c,n,a){if(Ta(a)!=="number")return ac(c.default,n.default);const f=c.stops.length;if(f===1||a<=c.stops[0][0])return c.stops[0][1];if(a>=c.stops[f-1][0])return c.stops[f-1][1];const v=ec(c.stops.map(h=>h[0]),a);return c.stops[v][1]}function Oc(c,n,a){const f=c.base!==void 0?c.base:1;if(Ta(a)!=="number")return ac(c.default,n.default);const v=c.stops.length;if(v===1||a<=c.stops[0][0])return c.stops[0][1];if(a>=c.stops[v-1][0])return c.stops[v-1][1];const h=ec(c.stops.map(C=>C[0]),a),y=function(C,$,z,P){const A=P-z,k=C-z;return A===0?0:$===1?k/A:(Math.pow($,k)-1)/(Math.pow($,A)-1)}(a,f,c.stops[h][0],c.stops[h+1][0]),E=c.stops[h][1],O=c.stops[h+1][1];let L=qs[n.type]||hc;if(c.colorSpace&&c.colorSpace!=="rgb"){const C=$f[c.colorSpace];L=($,z)=>C.reverse(C.interpolate(C.forward($),C.forward(z),y))}return typeof E.evaluate=="function"?{evaluate(...C){const $=E.evaluate.apply(void 0,C),z=O.evaluate.apply(void 0,C);if($!==void 0&&z!==void 0)return L($,z,y)}}:L(E,O,y)}function Qd(c,n,a){return n.type==="color"?a=no.parse(a):n.type==="formatted"?a=gr.fromString(a.toString()):n.type==="resolvedImage"?a=Ar.build(a.toString()):Ta(a)===n.type||n.type==="enum"&&n.values[a]||(a=void 0),ac(a,c.default,n.default)}ea.register(Vt,{error:[{kind:"error"},[qi],(c,[n])=>{throw new Er(n.evaluate(c))}],typeof:[qi,[Ho],(c,[n])=>Pe(Pr(n.evaluate(c)))],"to-rgba":[Ke(Nr,4),[wa],(c,[n])=>n.evaluate(c).toRenderColor(null).toArray()],"to-hsla":[Ke(Nr,4),[wa],(c,[n])=>n.evaluate(c).toRenderColor(null).toHslaArray()],rgb:[wa,[Nr,Nr,Nr],Vn],rgba:[wa,[Nr,Nr,Nr,Nr],Vn],hsl:[wa,[Nr,Nr,Nr],ii],hsla:[wa,[Nr,Nr,Nr,Nr],ii],has:{type:To,overloads:[[[qi],(c,[n])=>Mo(n.evaluate(c),c.properties())],[[qi,Za],(c,[n,a])=>Mo(n.evaluate(c),a.evaluate(c))]]},get:{type:Ho,overloads:[[[qi],(c,[n])=>nl(n.evaluate(c),c.properties())],[[qi,Za],(c,[n,a])=>nl(n.evaluate(c),a.evaluate(c))]]},"feature-state":[Ho,[qi],(c,[n])=>nl(n.evaluate(c),c.featureState||{})],properties:[Za,[],c=>c.properties()],"geometry-type":[qi,[],c=>c.geometryType()],id:[Ho,[],c=>c.id()],zoom:[Nr,[],c=>c.globals.zoom],pitch:[Nr,[],c=>c.globals.pitch||0],"distance-from-center":[Nr,[],c=>c.distanceFromCenter()],"measure-light":[Nr,[qi],(c,[n])=>c.measureLight(n.evaluate(c))],"heatmap-density":[Nr,[],c=>c.globals.heatmapDensity||0],"line-progress":[Nr,[],c=>c.globals.lineProgress||0],"raster-value":[Nr,[],c=>c.globals.rasterValue||0],"raster-particle-speed":[Nr,[],c=>c.globals.rasterParticleSpeed||0],"sky-radial-progress":[Nr,[],c=>c.globals.skyRadialProgress||0],accumulated:[Ho,[],c=>c.globals.accumulated===void 0?null:c.globals.accumulated],"+":[Nr,Ha(Nr),(c,n)=>{let a=0;for(const f of n)a+=f.evaluate(c);return a}],"*":[Nr,Ha(Nr),(c,n)=>{let a=1;for(const f of n)a*=f.evaluate(c);return a}],"-":{type:Nr,overloads:[[[Nr,Nr],(c,[n,a])=>n.evaluate(c)-a.evaluate(c)],[[Nr],(c,[n])=>-n.evaluate(c)]]},"/":[Nr,[Nr,Nr],(c,[n,a])=>n.evaluate(c)/a.evaluate(c)],"%":[Nr,[Nr,Nr],(c,[n,a])=>n.evaluate(c)%a.evaluate(c)],ln2:[Nr,[],()=>Math.LN2],pi:[Nr,[],()=>Math.PI],e:[Nr,[],()=>Math.E],"^":[Nr,[Nr,Nr],(c,[n,a])=>Math.pow(n.evaluate(c),a.evaluate(c))],sqrt:[Nr,[Nr],(c,[n])=>Math.sqrt(n.evaluate(c))],log10:[Nr,[Nr],(c,[n])=>Math.log(n.evaluate(c))/Math.LN10],ln:[Nr,[Nr],(c,[n])=>Math.log(n.evaluate(c))],log2:[Nr,[Nr],(c,[n])=>Math.log(n.evaluate(c))/Math.LN2],sin:[Nr,[Nr],(c,[n])=>Math.sin(n.evaluate(c))],cos:[Nr,[Nr],(c,[n])=>Math.cos(n.evaluate(c))],tan:[Nr,[Nr],(c,[n])=>Math.tan(n.evaluate(c))],asin:[Nr,[Nr],(c,[n])=>Math.asin(n.evaluate(c))],acos:[Nr,[Nr],(c,[n])=>Math.acos(n.evaluate(c))],atan:[Nr,[Nr],(c,[n])=>Math.atan(n.evaluate(c))],min:[Nr,Ha(Nr),(c,n)=>Math.min(...n.map(a=>a.evaluate(c)))],max:[Nr,Ha(Nr),(c,n)=>Math.max(...n.map(a=>a.evaluate(c)))],abs:[Nr,[Nr],(c,[n])=>Math.abs(n.evaluate(c))],round:[Nr,[Nr],(c,[n])=>{const a=n.evaluate(c);return a<0?-Math.round(-a):Math.round(a)}],floor:[Nr,[Nr],(c,[n])=>Math.floor(n.evaluate(c))],ceil:[Nr,[Nr],(c,[n])=>Math.ceil(n.evaluate(c))],"filter-==":[To,[qi,Ho],(c,[n,a])=>c.properties()[n.value]===a.value],"filter-id-==":[To,[Ho],(c,[n])=>c.id()===n.value],"filter-type-==":[To,[qi],(c,[n])=>c.geometryType()===n.value],"filter-<":[To,[qi,Ho],(c,[n,a])=>{const f=c.properties()[n.value],v=a.value;return typeof f==typeof v&&f<v}],"filter-id-<":[To,[Ho],(c,[n])=>{const a=c.id(),f=n.value;return typeof a==typeof f&&a<f}],"filter->":[To,[qi,Ho],(c,[n,a])=>{const f=c.properties()[n.value],v=a.value;return typeof f==typeof v&&f>v}],"filter-id->":[To,[Ho],(c,[n])=>{const a=c.id(),f=n.value;return typeof a==typeof f&&a>f}],"filter-<=":[To,[qi,Ho],(c,[n,a])=>{const f=c.properties()[n.value],v=a.value;return typeof f==typeof v&&f<=v}],"filter-id-<=":[To,[Ho],(c,[n])=>{const a=c.id(),f=n.value;return typeof a==typeof f&&a<=f}],"filter->=":[To,[qi,Ho],(c,[n,a])=>{const f=c.properties()[n.value],v=a.value;return typeof f==typeof v&&f>=v}],"filter-id->=":[To,[Ho],(c,[n])=>{const a=c.id(),f=n.value;return typeof a==typeof f&&a>=f}],"filter-has":[To,[Ho],(c,[n])=>n.value in c.properties()],"filter-has-id":[To,[],c=>c.id()!==null&&c.id()!==void 0],"filter-type-in":[To,[Ke(qi)],(c,[n])=>n.value.indexOf(c.geometryType())>=0],"filter-id-in":[To,[Ke(Ho)],(c,[n])=>n.value.indexOf(c.id())>=0],"filter-in-small":[To,[qi,Ke(Ho)],(c,[n,a])=>a.value.indexOf(c.properties()[n.value])>=0],"filter-in-large":[To,[qi,Ke(Ho)],(c,[n,a])=>function(f,v,h,y){for(;h<=y;){const E=h+y>>1;if(v[E]===f)return!0;v[E]>f?y=E-1:h=E+1}return!1}(c.properties()[n.value],a.value,0,a.value.length-1)],all:{type:To,overloads:[[[To,To],(c,[n,a])=>n.evaluate(c)&&a.evaluate(c)],[Ha(To),(c,n)=>{for(const a of n)if(!a.evaluate(c))return!1;return!0}]]},any:{type:To,overloads:[[[To,To],(c,[n,a])=>n.evaluate(c)||a.evaluate(c)],[Ha(To),(c,n)=>{for(const a of n)if(a.evaluate(c))return!0;return!1}]]},"!":[To,[To],(c,[n])=>!n.evaluate(c)],"is-supported-script":[To,[qi],(c,[n])=>{const a=c.globals&&c.globals.isSupportedScript;return!a||a(n.evaluate(c))}],upcase:[qi,[qi],(c,[n])=>n.evaluate(c).toUpperCase()],downcase:[qi,[qi],(c,[n])=>n.evaluate(c).toLowerCase()],concat:[qi,Ha(Ho),(c,n)=>n.map(a=>Ur(a.evaluate(c))).join("")],"resolved-locale":[qi,[ul],(c,[n])=>n.evaluate(c).resolvedLocale()],random:[Nr,[Nr,Nr,Ho],(c,n)=>{const[a,f,v]=n.map(y=>y.evaluate(c));if(a>f||a===f)return a;let h;if(typeof v=="string")h=function(y){let E=0;if(y.length===0)return E;for(let O=0;O<y.length;O++)E=(E<<5)-E+y.charCodeAt(O),E|=0;return E}(v);else{if(typeof v!="number")throw new Er(`Invalid seed input: ${v}`);h=v}return a+Jd(h)()*(f-a)}]});class Uu{constructor(n,a,f,v){this.expression=n,this._warningHistory={},this._evaluator=new za(f,v),this._defaultValue=a?function(h){return h.type==="color"&&(kc(h.default)||Array.isArray(h.default))?new no(0,0,0,0):h.type==="color"?no.parse(h.default)||null:h.default===void 0?null:h.default}(a):null,this._enumValues=a&&a.type==="enum"?a.values:null,this.configDependencies=dc(n)}evaluateWithoutErrorHandling(n,a,f,v,h,y,E,O){return this._evaluator.globals=n,this._evaluator.feature=a,this._evaluator.featureState=f,this._evaluator.canonical=v||null,this._evaluator.availableImages=h||null,this._evaluator.formattedSection=y,this._evaluator.featureTileCoord=E||null,this._evaluator.featureDistanceData=O||null,this.expression.evaluate(this._evaluator)}evaluate(n,a,f,v,h,y,E,O){this._evaluator.globals=n,this._evaluator.feature=a||null,this._evaluator.featureState=f||null,this._evaluator.canonical=v||null,this._evaluator.availableImages=h||null,this._evaluator.formattedSection=y||null,this._evaluator.featureTileCoord=E||null,this._evaluator.featureDistanceData=O||null;try{const L=this.expression.evaluate(this._evaluator);if(L==null||typeof L=="number"&&L!=L)return this._defaultValue;if(this._enumValues&&!(L in this._enumValues))throw new Er(`Expected value to be one of ${Object.keys(this._enumValues).map(C=>JSON.stringify(C)).join(", ")}, but found ${JSON.stringify(L)} instead.`);return L}catch(L){return this._warningHistory[L.message]||(this._warningHistory[L.message]=!0,typeof console!="undefined"&&console.warn(`Failed to evaluate expression "${JSON.stringify(this.expression.serialize())}". ${L.message}`)),this._defaultValue}}}function Nf(c){return Array.isArray(c)&&c.length>0&&typeof c[0]=="string"&&c[0]in Vt}function Bf(c,n,a,f){const v=new Qs(Vt,[],n?function(y){const E={color:wa,string:qi,number:Nr,enum:qi,boolean:To,formatted:rs,resolvedImage:ln};return y.type==="array"?Ke(E[y.value]||Ho,y.length):E[y.type]}(n):void 0,void 0,void 0,a,f),h=v.parse(c,void 0,void 0,void 0,n&&n.type==="string"?{typeAnnotation:"coerce"}:void 0);return h?ml(new Uu(h,n,a,f)):Ks(v.errors)}class Pp{constructor(n,a,f,v){this.kind=n,this._styleExpression=a,this.isLightConstant=f,this.isLineProgressConstant=v,this.isStateDependent=n!=="constant"&&!Al(a.expression),this.configDependencies=dc(a.expression)}evaluateWithoutErrorHandling(n,a,f,v,h,y){return this._styleExpression.evaluateWithoutErrorHandling(n,a,f,v,h,y)}evaluate(n,a,f,v,h,y){return this._styleExpression.evaluate(n,a,f,v,h,y)}}class Nh{constructor(n,a,f,v,h,y){this.kind=n,this.zoomStops=f,this._styleExpression=a,this.isStateDependent=n!=="camera"&&!Al(a.expression),this.isLightConstant=h,this.isLineProgressConstant=y,this.configDependencies=dc(a.expression),this.interpolationType=v}evaluateWithoutErrorHandling(n,a,f,v,h,y){return this._styleExpression.evaluateWithoutErrorHandling(n,a,f,v,h,y)}evaluate(n,a,f,v,h,y){return this._styleExpression.evaluate(n,a,f,v,h,y)}interpolationFactor(n,a,f){return this.interpolationType?rc.interpolationFactor(this.interpolationType,n,a,f):0}}function d0(c,n,a,f){if((c=Bf(c,n,a,f)).result==="error")return c;const v=c.value.expression,h=Ml(v);if(!h&&!ol(n))return Ks([new di("","data expressions not supported")]);const y=fc(v,["zoom","pitch","distance-from-center"]);if(!y&&!Gl(n))return Ks([new di("","zoom expressions not supported")]);const E=fc(v,["measure-light"]);if(!E&&!Fc(n))return Ks([new di("","measure-light expression not supported")]);const O=fc(v,["line-progress"]);if(!O&&!function($){return Ll($.expression,"line-progress")}(n))return Ks([new di("","line-progress expression not supported")]);const L=n.expression&&n.expression.relaxZoomRestriction,C=Bh(v);return C||y||L?C instanceof di?Ks([C]):C instanceof rc&&!Pl(n)?Ks([new di("",'"interpolate" expressions cannot be used with this property')]):ml(C?new Nh(h&&O?"camera":"composite",c.value,C.labels,C instanceof rc?C.interpolation:void 0,E,O):new Pp(h&&O?"constant":"source",c.value,E,O)):Ks([new di("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression, or in the properties of atmosphere.')])}class ef{constructor(n,a){this._parameters=n,this._specification=a,ms(this,oc(this._parameters,this._specification))}static deserialize(n){return new ef(n._parameters,n._specification)}static serialize(n){return{_parameters:n._parameters,_specification:n._specification}}}function Bh(c){let n=null;if(c instanceof Af)n=Bh(c.result);else if(c instanceof Rf){for(const a of c.args)if(n=Bh(a),n)break}else(c instanceof Cc||c instanceof rc)&&c.input instanceof ea&&c.input.name==="zoom"&&(n=c);return n instanceof di||c.eachChild(a=>{const f=Bh(a);f instanceof di?n=f:n&&f&&n!==f&&(n=new di("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),n}var $m,f0,Yv=function(){if(f0)return $m;f0=1,$m=n;var c=3;function n(a,f,v){var h=this.cells=[];if(a instanceof ArrayBuffer){this.arrayBuffer=a;var y=new Int32Array(this.arrayBuffer);a=y[0],this.d=(f=y[1])+2*(v=y[2]);for(var E=0;E<this.d*this.d;E++){var O=y[c+E],L=y[c+E+1];h.push(O===L?null:y.subarray(O,L))}var C=y[c+h.length+1];this.keys=y.subarray(y[c+h.length],C),this.bboxes=y.subarray(C),this.insert=this._insertReadonly}else{this.d=f+2*v;for(var $=0;$<this.d*this.d;$++)h.push([]);this.keys=[],this.bboxes=[]}this.n=f,this.extent=a,this.padding=v,this.scale=f/a,this.uid=0;var z=v/f*a;this.min=-z,this.max=a+z}return n.prototype.insert=function(a,f,v,h,y){this._forEachCell(f,v,h,y,this._insertCell,this.uid++),this.keys.push(a),this.bboxes.push(f),this.bboxes.push(v),this.bboxes.push(h),this.bboxes.push(y)},n.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},n.prototype._insertCell=function(a,f,v,h,y,E){this.cells[y].push(E)},n.prototype.query=function(a,f,v,h,y){var E=this.min,O=this.max;if(a<=E&&f<=E&&O<=v&&O<=h&&!y)return Array.prototype.slice.call(this.keys);var L=[];return this._forEachCell(a,f,v,h,this._queryCell,L,{},y),L},n.prototype._queryCell=function(a,f,v,h,y,E,O,L){var C=this.cells[y];if(C!==null)for(var $=this.keys,z=this.bboxes,P=0;P<C.length;P++){var A=C[P];if(O[A]===void 0){var k=4*A;(L?L(z[k+0],z[k+1],z[k+2],z[k+3]):a<=z[k+2]&&f<=z[k+3]&&v>=z[k+0]&&h>=z[k+1])?(O[A]=!0,E.push($[A])):O[A]=!1}}},n.prototype._forEachCell=function(a,f,v,h,y,E,O,L){for(var C=this._convertToCellCoord(a),$=this._convertToCellCoord(f),z=this._convertToCellCoord(v),P=this._convertToCellCoord(h),A=C;A<=z;A++)for(var k=$;k<=P;k++){var X=this.d*k+A;if((!L||L(this._convertFromCellCoord(A),this._convertFromCellCoord(k),this._convertFromCellCoord(A+1),this._convertFromCellCoord(k+1)))&&y.call(this,a,f,v,h,X,E,O,L))return}},n.prototype._convertFromCellCoord=function(a){return(a-this.padding)/this.scale},n.prototype._convertToCellCoord=function(a){return Math.max(0,Math.min(this.d-1,Math.floor(a*this.scale)+this.padding))},n.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var a=this.cells,f=c+this.cells.length+1+1,v=0,h=0;h<this.cells.length;h++)v+=this.cells[h].length;var y=new Int32Array(f+v+this.keys.length+this.bboxes.length);y[0]=this.extent,y[1]=this.n,y[2]=this.padding;for(var E=f,O=0;O<a.length;O++){var L=a[O];y[c+O]=E,y.set(L,E),E+=L.length}return y[c+a.length]=E,y.set(this.keys,E),y[c+a.length+1]=E+=this.keys.length,y.set(this.bboxes,E),E+=this.bboxes.length,y.buffer},$m}(),tf=Be(Yv);const md={};function bi(c,n,a={}){Object.defineProperty(c,"_classRegistryKey",{value:n,writable:!1}),md[n]={klass:c,omit:a.omit||[]}}bi(Object,"Object"),tf.serialize=function(c,n){const a=c.toArrayBuffer();return n&&n.add(a),{buffer:a}},tf.deserialize=function(c){return new tf(c.buffer)},Object.defineProperty(tf,"name",{value:"Grid"}),bi(tf,"Grid"),typeof DOMMatrix!="undefined"&&bi(DOMMatrix,"DOMMatrix"),bi(no,"Color"),bi(Error,"Error"),bi(gr,"Formatted"),bi(Yn,"FormattedSection"),bi(Ea,"AJAXError"),bi(Ar,"ResolvedImage"),bi(ef,"StylePropertyFunction"),bi(Uu,"StyleExpression",{omit:["_evaluator"]}),bi(qn,"ImageIdWithOptions"),bi(Nh,"ZoomDependentExpression"),bi(Pp,"ZoomConstantExpression"),bi(ea,"CompoundExpression",{omit:["_evaluate"]});for(const c in Vt)md[Vt[c]._classRegistryKey]||bi(Vt[c],`Expression${c}`);function Rm(c){return c&&typeof ArrayBuffer!="undefined"&&(c instanceof ArrayBuffer||c.constructor&&c.constructor.name==="ArrayBuffer")}function Am(c){return self.ImageBitmap&&c instanceof ImageBitmap}function gd(c,n){if(c==null||typeof c=="boolean"||typeof c=="number"||typeof c=="string"||c instanceof Boolean||c instanceof Number||c instanceof String||c instanceof Date||c instanceof RegExp)return c;if(Rm(c)||Am(c))return n&&n.add(c),c;if(ArrayBuffer.isView(c))return n&&n.add(c.buffer),c;if(c instanceof ImageData)return n&&n.add(c.data.buffer),c;if(Array.isArray(c)){const a=[];for(const f of c)a.push(gd(f,n));return a}if(c instanceof Map){const a={$name:"Map"};for(const[f,v]of c.entries())a[f]=gd(v);return a}if(c instanceof Set){const a={$name:"Set"};let f=0;for(const v of c.values())a[++f]=gd(v);return a}if(typeof c=="object"){const a=c.constructor,f=a._classRegistryKey;if(!f)throw new Error(`Can't serialize object of unregistered class "${f}".`);const v=a.serialize?a.serialize(c,n):{};if(!a.serialize){for(const h in c)c.hasOwnProperty(h)&&(md[f].omit.indexOf(h)>=0||(v[h]=gd(c[h],n)));c instanceof Error&&(v.message=c.message)}if(v.$name)throw new Error("$name property is reserved for worker serialization logic.");return f!=="Object"&&(v.$name=f),v}throw new Error("can't serialize object of type "+typeof c)}function nf(c){if(c==null||typeof c=="boolean"||typeof c=="number"||typeof c=="string"||c instanceof Boolean||c instanceof Number||c instanceof String||c instanceof Date||c instanceof RegExp||Rm(c)||Am(c)||ArrayBuffer.isView(c)||c instanceof ImageData)return c;if(Array.isArray(c))return c.map(nf);if(typeof c=="object"){const n=c.$name||"Object";if(n==="Map"){const v=new Map;for(const h of Object.keys(c))h!=="$name"&&v.set(h,nf(c[h]));return v}if(n==="Set"){const v=new Set;for(const h of Object.keys(c))h!=="$name"&&v.add(nf(c[h]));return v}const{klass:a}=md[n];if(!a)throw new Error(`Can't deserialize unregistered class "${n}".`);if(a.deserialize)return a.deserialize(c);const f=Object.create(a.prototype);for(const v of Object.keys(c))v!=="$name"&&(f[v]=nf(c[v]));return f}throw new Error("can't deserialize object of type "+typeof c)}const Ai={"Latin-1 Supplement":c=>c>=128&&c<=255,Arabic:c=>c>=1536&&c<=1791,"Arabic Supplement":c=>c>=1872&&c<=1919,"Arabic Extended-A":c=>c>=2208&&c<=2303,"Hangul Jamo":c=>c>=4352&&c<=4607,"Unified Canadian Aboriginal Syllabics":c=>c>=5120&&c<=5759,Khmer:c=>c>=6016&&c<=6143,"Unified Canadian Aboriginal Syllabics Extended":c=>c>=6320&&c<=6399,"General Punctuation":c=>c>=8192&&c<=8303,"Letterlike Symbols":c=>c>=8448&&c<=8527,"Number Forms":c=>c>=8528&&c<=8591,"Miscellaneous Technical":c=>c>=8960&&c<=9215,"Control Pictures":c=>c>=9216&&c<=9279,"Optical Character Recognition":c=>c>=9280&&c<=9311,"Enclosed Alphanumerics":c=>c>=9312&&c<=9471,"Geometric Shapes":c=>c>=9632&&c<=9727,"Miscellaneous Symbols":c=>c>=9728&&c<=9983,"Miscellaneous Symbols and Arrows":c=>c>=11008&&c<=11263,"CJK Radicals Supplement":c=>c>=11904&&c<=12031,"Kangxi Radicals":c=>c>=12032&&c<=12255,"Ideographic Description Characters":c=>c>=12272&&c<=12287,"CJK Symbols and Punctuation":c=>c>=12288&&c<=12351,Hiragana:c=>c>=12352&&c<=12447,Katakana:c=>c>=12448&&c<=12543,Bopomofo:c=>c>=12544&&c<=12591,"Hangul Compatibility Jamo":c=>c>=12592&&c<=12687,Kanbun:c=>c>=12688&&c<=12703,"Bopomofo Extended":c=>c>=12704&&c<=12735,"CJK Strokes":c=>c>=12736&&c<=12783,"Katakana Phonetic Extensions":c=>c>=12784&&c<=12799,"Enclosed CJK Letters and Months":c=>c>=12800&&c<=13055,"CJK Compatibility":c=>c>=13056&&c<=13311,"CJK Unified Ideographs Extension A":c=>c>=13312&&c<=19903,"Yijing Hexagram Symbols":c=>c>=19904&&c<=19967,"CJK Unified Ideographs":c=>c>=19968&&c<=40959,"Yi Syllables":c=>c>=40960&&c<=42127,"Yi Radicals":c=>c>=42128&&c<=42191,"Hangul Jamo Extended-A":c=>c>=43360&&c<=43391,"Hangul Syllables":c=>c>=44032&&c<=55215,"Hangul Jamo Extended-B":c=>c>=55216&&c<=55295,"Private Use Area":c=>c>=57344&&c<=63743,"CJK Compatibility Ideographs":c=>c>=63744&&c<=64255,"Arabic Presentation Forms-A":c=>c>=64336&&c<=65023,"Vertical Forms":c=>c>=65040&&c<=65055,"CJK Compatibility Forms":c=>c>=65072&&c<=65103,"Small Form Variants":c=>c>=65104&&c<=65135,"Arabic Presentation Forms-B":c=>c>=65136&&c<=65279,"Halfwidth and Fullwidth Forms":c=>c>=65280&&c<=65519,Osage:c=>c>=66736&&c<=66815,"CJK Unified Ideographs Extension B":c=>c>=131072&&c<=173791};function Dm(c){for(const n of c)if(Ff(n.charCodeAt(0)))return!0;return!1}function Jv(c){for(const n of c)if(!hb(n.charCodeAt(0)))return!1;return!0}function hb(c){return!(Ai.Arabic(c)||Ai["Arabic Supplement"](c)||Ai["Arabic Extended-A"](c)||Ai["Arabic Presentation Forms-A"](c)||Ai["Arabic Presentation Forms-B"](c))}function Ff(c){return!(c!==746&&c!==747&&(c<4352||!(Ai["Bopomofo Extended"](c)||Ai.Bopomofo(c)||Ai["CJK Compatibility Forms"](c)&&!(c>=65097&&c<=65103)||Ai["CJK Compatibility Ideographs"](c)||Ai["CJK Compatibility"](c)||Ai["CJK Radicals Supplement"](c)||Ai["CJK Strokes"](c)||!(!Ai["CJK Symbols and Punctuation"](c)||c>=12296&&c<=12305||c>=12308&&c<=12319||c===12336)||Ai["CJK Unified Ideographs Extension A"](c)||Ai["CJK Unified Ideographs"](c)||Ai["Enclosed CJK Letters and Months"](c)||Ai["Hangul Compatibility Jamo"](c)||Ai["Hangul Jamo Extended-A"](c)||Ai["Hangul Jamo Extended-B"](c)||Ai["Hangul Jamo"](c)||Ai["Hangul Syllables"](c)||Ai.Hiragana(c)||Ai["Ideographic Description Characters"](c)||Ai.Kanbun(c)||Ai["Kangxi Radicals"](c)||Ai["Katakana Phonetic Extensions"](c)||Ai.Katakana(c)&&c!==12540||!(!Ai["Halfwidth and Fullwidth Forms"](c)||c===65288||c===65289||c===65293||c>=65306&&c<=65310||c===65339||c===65341||c===65343||c>=65371&&c<=65503||c===65507||c>=65512&&c<=65519)||!(!Ai["Small Form Variants"](c)||c>=65112&&c<=65118||c>=65123&&c<=65126)||Ai["Unified Canadian Aboriginal Syllabics"](c)||Ai["Unified Canadian Aboriginal Syllabics Extended"](c)||Ai["Vertical Forms"](c)||Ai["Yijing Hexagram Symbols"](c)||Ai["Yi Syllables"](c)||Ai["Yi Radicals"](c))))}function zm(c){return!(Ff(c)||function(n){return!!(Ai["Latin-1 Supplement"](n)&&(n===167||n===169||n===174||n===177||n===188||n===189||n===190||n===215||n===247)||Ai["General Punctuation"](n)&&(n===8214||n===8224||n===8225||n===8240||n===8241||n===8251||n===8252||n===8258||n===8263||n===8264||n===8265||n===8273)||Ai["Letterlike Symbols"](n)||Ai["Number Forms"](n)||Ai["Miscellaneous Technical"](n)&&(n>=8960&&n<=8967||n>=8972&&n<=8991||n>=8996&&n<=9e3||n===9003||n>=9085&&n<=9114||n>=9150&&n<=9165||n===9167||n>=9169&&n<=9179||n>=9186&&n<=9215)||Ai["Control Pictures"](n)&&n!==9251||Ai["Optical Character Recognition"](n)||Ai["Enclosed Alphanumerics"](n)||Ai["Geometric Shapes"](n)||Ai["Miscellaneous Symbols"](n)&&!(n>=9754&&n<=9759)||Ai["Miscellaneous Symbols and Arrows"](n)&&(n>=11026&&n<=11055||n>=11088&&n<=11097||n>=11192&&n<=11243)||Ai["CJK Symbols and Punctuation"](n)||Ai.Katakana(n)||Ai["Private Use Area"](n)||Ai["CJK Compatibility Forms"](n)||Ai["Small Form Variants"](n)||Ai["Halfwidth and Fullwidth Forms"](n)||n===8734||n===8756||n===8757||n>=9984&&n<=10087||n>=10102&&n<=10131||n===65532||n===65533)}(c))}function Xl(c){return c>=1424&&c<=2303||Ai["Arabic Presentation Forms-A"](c)||Ai["Arabic Presentation Forms-B"](c)}function Op(c,n){return!(!n&&Xl(c)||c>=2304&&c<=3583||c>=3840&&c<=4255||Ai.Khmer(c))}function h0(c){for(const n of c)if(Xl(n.charCodeAt(0)))return!0;return!1}const rf="deferred",vd="loading",$p="loaded";let Wu=null,Ec="unavailable",of=null;const Rp=function(c){c&&typeof c=="string"&&c.indexOf("NetworkError")>-1&&(Ec="error"),Wu&&Wu(c)};function af(){sf.fire(new ys("pluginStateChange",{pluginStatus:Ec,pluginURL:of}))}const sf=new xo,Fh=function(){return Ec},yd=function(){if(Ec!==rf||!of)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Ec=vd,af(),of&&Ln({url:of},c=>{c?Rp(c):(Ec=$p,af())})},$c={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>Ec===$p||$c.applyArabicShaping!=null,isLoading:()=>Ec===vd,setState(c){Ec=c.pluginStatus,of=c.pluginURL},isParsed:()=>$c.applyArabicShaping!=null&&$c.processBidirectionalText!=null&&$c.processStyledBidirectionalText!=null,getPluginURL:()=>of};class Xs{constructor(n,a){this.zoom=n,a?(this.now=a.now,this.fadeDuration=a.fadeDuration,this.transition=a.transition,this.pitch=a.pitch,this.brightness=a.brightness):(this.now=0,this.fadeDuration=0,this.transition={},this.pitch=0,this.brightness=0)}isSupportedScript(n){return function(a,f){for(const v of a)if(!Op(v.charCodeAt(0),f))return!1;return!0}(n,$c.isLoaded())}}class Ap{constructor(n,a,f,v){this.property=n,this.value=a,this.expression=function(h,y,E,O){if(kc(h))return new ef(h,y);if(Nf(h)||Array.isArray(h)&&h.length>0){const L=d0(h,y,E,O);if(L.result==="error")throw new Error(L.value.map(C=>`${C.key}: ${C.message}`).join(", "));return L.value}{let L=h;return typeof h=="string"&&y.type==="color"&&(L=no.parse(h)),{kind:"constant",configDependencies:new Set,evaluate:()=>L}}}(a===void 0?n.specification.default:a,n.specification,f,v)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(n,a,f){return this.property.possiblyEvaluate(this,n,a,f)}}class kh{constructor(n,a,f){this.property=n,this.value=new Ap(n,void 0,a,f)}transitioned(n,a){return new Lm(this.property,this.value,a,ya({},n.transition,this.transition),n.now)}untransitioned(){return new Lm(this.property,this.value,null,{},0)}}class Dp{constructor(n,a,f){this._properties=n,this._values=Object.create(n.defaultTransitionablePropertyValues),this._scope=a,this._options=f,this.configDependencies=new Set}getValue(n){return bo(this._values[n].value.value)}setValue(n,a){this._values.hasOwnProperty(n)||(this._values[n]=new kh(this._values[n].property,this._scope,this._options)),this._values[n].value=new Ap(this._values[n].property,a===null?void 0:bo(a),this._scope,this._options),this._values[n].value.expression.configDependencies&&(this.configDependencies=new Set([...this.configDependencies,...this._values[n].value.expression.configDependencies]))}setTransitionOrValue(n,a){a&&(this._options=a);const f=this._properties.properties;if(n)for(const v in n){const h=n[v];if(co(v,"-transition")){const y=v.slice(0,-11);f[y]&&this.setTransition(y,h)}else f.hasOwnProperty(v)&&this.setValue(v,h)}}getTransition(n){return bo(this._values[n].transition)}setTransition(n,a){this._values.hasOwnProperty(n)||(this._values[n]=new kh(this._values[n].property)),this._values[n].transition=bo(a)||void 0}serialize(){const n={};for(const a of Object.keys(this._values)){const f=this.getValue(a);f!==void 0&&(n[a]=f);const v=this.getTransition(a);v!==void 0&&(n[`${a}-transition`]=v)}return n}transitioned(n,a){const f=new jh(this._properties);for(const v of Object.keys(this._values))f._values[v]=this._values[v].transitioned(n,a._values[v]);return f}untransitioned(){const n=new jh(this._properties);for(const a of Object.keys(this._values))n._values[a]=this._values[a].untransitioned();return n}}class Lm{constructor(n,a,f,v,h){const y=v.delay||0,E=v.duration||0;h=h||0,this.property=n,this.value=a,this.begin=h+y,this.end=this.begin+E,n.specification.transition&&(v.delay||v.duration)&&(this.prior=f)}possiblyEvaluate(n,a,f){const v=n.now||0,h=this.value.possiblyEvaluate(n,a,f),y=this.prior;if(y){if(v>this.end)return this.prior=null,h;if(this.value.isDataDriven())return this.prior=null,h;if(v<this.begin)return y.possiblyEvaluate(n,a,f);{const E=(v-this.begin)/(this.end-this.begin);return this.property.interpolate(y.possiblyEvaluate(n,a,f),h,Zo(E))}}return h}}class jh{constructor(n){this._properties=n,this._values=Object.create(n.defaultTransitioningPropertyValues)}possiblyEvaluate(n,a,f){const v=new kf(this._properties);for(const h of Object.keys(this._values))v._values[h]=this._values[h].possiblyEvaluate(n,a,f);return v}hasTransition(){for(const n of Object.keys(this._values))if(this._values[n].prior)return!0;return!1}}class lf{constructor(n,a,f){this._properties=n,this._values=Object.create(n.defaultPropertyValues),this._scope=a,this._options=f,this.configDependencies=new Set}getValue(n){return bo(this._values[n].value)}setValue(n,a){this._values[n]=new Ap(this._values[n].property,a===null?void 0:bo(a),this._scope,this._options),this._values[n].expression.configDependencies&&(this.configDependencies=new Set([...this.configDependencies,...this._values[n].expression.configDependencies]))}serialize(){const n={};for(const a of Object.keys(this._values)){const f=this.getValue(a);f!==void 0&&(n[a]=f)}return n}possiblyEvaluate(n,a,f){const v=new kf(this._properties);for(const h of Object.keys(this._values))v._values[h]=this._values[h].possiblyEvaluate(n,a,f);return v}}class cf{constructor(n,a,f){this.property=n,this.value=a,this.parameters=f}isConstant(){return this.value.kind==="constant"}constantOr(n){return this.value.kind==="constant"?this.value.value:n}evaluate(n,a,f,v){return this.property.evaluate(this.value,this.parameters,n,a,f,v)}}class kf{constructor(n){this._properties=n,this._values=Object.create(n.defaultPossiblyEvaluatedValues)}get(n){return this._values[n]}}class Sr{constructor(n){this.specification=n}possiblyEvaluate(n,a){return n.expression.evaluate(a)}interpolate(n,a,f){const v=qs[this.specification.type];return v?v(n,a,f):n}}class ci{constructor(n,a){this.specification=n,this.overrides=a}possiblyEvaluate(n,a,f,v){return new cf(this,n.expression.kind==="constant"||n.expression.kind==="camera"?{kind:"constant",value:n.expression.evaluate(a,null,{},f,v)}:n.expression,a)}interpolate(n,a,f){if(n.value.kind!=="constant"||a.value.kind!=="constant")return n;if(n.value.value===void 0||a.value.value===void 0)return new cf(this,{kind:"constant",value:void 0},n.parameters);const v=qs[this.specification.type];return v?new cf(this,{kind:"constant",value:v(n.value.value,a.value.value,f)},n.parameters):n}evaluate(n,a,f,v,h,y){return n.kind==="constant"?n.value:n.evaluate(a,f,v,h,y)}}class jf{constructor(n){this.specification=n}possiblyEvaluate(n,a,f,v){return!!n.expression.evaluate(a,null,{},f,v)}interpolate(){return!1}}class al{constructor(n){this.properties=n,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];const a=new Xs(0,{});for(const f in n){const v=n[f];v.specification.overridable&&this.overridableProperties.push(f);const h=this.defaultPropertyValues[f]=new Ap(v,void 0),y=this.defaultTransitionablePropertyValues[f]=new kh(v);this.defaultTransitioningPropertyValues[f]=y.untransitioned(),this.defaultPossiblyEvaluatedValues[f]=h.possiblyEvaluate(a)}}}bi(ci,"DataDrivenProperty"),bi(Sr,"DataConstantProperty"),bi(jf,"ColorRampProperty");var gn=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"fragment":{"type":"boolean"},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360},"pitch":{"type":"number","default":0},"light":{"type":"light"},"lights":{"required":false,"type":"array","value":"light-3d"},"terrain":{"type":"terrain","optional":true},"fog":{"type":"fog"},"snow":{"type":"snow","experimental":true},"rain":{"type":"rain","experimental":true},"camera":{"type":"camera"},"color-theme":{"type":"colorTheme"},"indoor":{"type":"indoor","experimental":true},"imports":{"type":"array","value":"import"},"schema":{"type":"schema"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string","default":"mapbox://fonts/mapbox/{fontstack}/{range}.pbf"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"},"models":{"type":"models"},"featuresets":{"experimental":true,"type":"featuresets"}},"featuresets":{"experimental":true,"*":{"type":"featureset"}},"featureset":{"experimental":true,"metadata":{"experimental":true,"type":"*"},"selectors":{"experimental":true,"type":"array","value":"selector"}},"selector":{"experimental":true,"layer":{"experimental":true,"type":"string","required":true},"properties":{"experimental":true,"type":"selectorProperty","required":false},"featureNamespace":{"experimental":true,"type":"string","required":false},"_uniqueFeatureID":{"experimental":true,"type":"boolean","private":true,"required":false}},"selectorProperty":{"experimental":true,"*":{"experimental":true,"type":"*"}},"model":{"type":"string","required":true},"import":{"id":{"type":"string","required":true},"url":{"type":"string","required":true},"config":{"type":"config"},"data":{"type":"$root"},"color-theme":{"type":"colorTheme","optional":true}},"config":{"*":{"type":"*"}},"schema":{"*":{"type":"option"}},"option":{"default":{"type":"*","property-type":"data-constant","expression":{},"required":true},"type":{"type":"enum","values":{"string":1,"number":1,"boolean":1,"color":1}},"array":{"type":"boolean"},"minValue":{"type":"number"},"maxValue":{"type":"number"},"stepValue":{"type":"number"},"values":{"type":"array","value":"*"},"metadata":{"type":"*"}},"models":{"*":{"type":"model"}},"light-3d":{"id":{"type":"string","required":true},"properties":{"type":"properties"},"type":{"type":"enum","values":{"ambient":{},"directional":{},"flat":{}}}},"properties":["properties_light_directional","properties_light_ambient","properties_light_flat"],"properties_light_directional":{"direction":{"type":"array","default":[210,30],"minimum":[0,0],"maximum":[360,90],"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"cast-shadows":{"type":"boolean","default":false,"property-type":"data-constant"},"shadow-quality":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1,"expression":{"parameters":["zoom"]},"experimental":true},"shadow-intensity":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"properties_light_ambient":{"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"properties_light_flat":{"anchor":{"type":"enum","default":"viewport","values":{"map":1,"viewport":1},"property-type":"data-constant","expression":{"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_raster_array","source_geojson","source_video","source_image","source_model"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":1}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":1,"tms":1},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":1}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512},"scheme":{"type":"enum","values":{"xyz":1,"tms":1},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":1}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":1,"mapbox":1},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_array":{"experimental":true,"type":{"required":true,"type":"enum","values":{"raster-array":1}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512},"attribution":{"type":"string"},"rasterLayers":{"type":"*"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":1}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"minzoom":{"type":"number","default":0},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"},"dynamic":{"type":"boolean","default":false}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":1}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":1}},"url":{"required":false,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_model":{"type":{"required":true,"type":"enum","values":{"model":1,"batched-model":1}},"maxzoom":{"type":"number","default":18},"minzoom":{"type":"number","default":0},"tiles":{"type":"array","value":"string"}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"raster-particle":{"experimental":true},"hillshade":{},"model":{"experimental":true},"background":{},"sky":{},"slot":{},"clip":{}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"slot":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_clip","layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_raster-particle","layout_hillshade","layout_background","layout_sky","layout_model"],"layout_background":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_model":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"},"model-id":{"type":"string","default":"","property-type":"data-driven","expression":{"parameters":["zoom","feature"]}}},"layout_clip":{"clip-layer-types":{"type":"array","value":"enum","values":{"model":1,"symbol":1},"default":[],"expression":{},"property-type":"data-constant"},"clip-layer-scope":{"type":"array","value":"string","default":[],"expression":{},"property-type":"data-constant"}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"},"fill-elevation-reference":{"type":"enum","values":{"none":1,"hd-road-base":1,"hd-road-markup":1},"default":"none","experimental":true,"private":true,"expression":{},"property-type":"data-constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"circle-elevation-reference":{"type":"enum","values":{"none":1,"hd-road-markup":1},"default":"none","experimental":true,"expression":{},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"},"fill-extrusion-edge-radius":{"type":"number","experimental":true,"default":0,"minimum":0,"maximum":1,"expression":{},"property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":1,"round":1,"square":1},"default":"butt","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":1,"round":1,"miter":1,"none":1},"default":"miter","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-z-offset":{"type":"number","experimental":true,"default":0,"expression":{"parameters":["zoom","feature","line-progress"]},"property-type":"data-driven"},"line-elevation-reference":{"type":"enum","values":{"none":1,"sea":1,"ground":1,"hd-road-markup":1},"default":"none","experimental":true,"expression":{},"property-type":"data-constant"},"line-cross-slope":{"type":"number","experimental":true,"expression":{},"property-type":"constant"},"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"},"line-width-unit":{"type":"enum","values":{"pixels":1,"meters":1},"default":"pixels","experimental":true,"private":true,"expression":{"parameters":["zoom"]},"property-type":"data-constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":1,"line":1,"line-center":1},"default":"point","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":1,"viewport-y":1,"source":1},"default":"auto","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"symbol-z-elevate":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"symbol-elevation-reference":{"type":"enum","values":{"sea":1,"ground":1,"hd-road-markup":1},"default":"ground","experimental":true,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":1,"viewport":1,"auto":1},"default":"auto","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-size-scale-range":{"type":"array","value":"number","length":2,"default":[0.8,2],"minimum":0.1,"maximum":10,"experimental":true,"private":true,"expression":{},"property-type":"data-constant"},"icon-text-fit":{"type":"enum","values":{"none":1,"width":1,"height":1,"both":1},"default":"none","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":1,"left":1,"right":1,"top":1,"bottom":1,"top-left":1,"top-right":1,"bottom-left":1,"bottom-right":1},"default":"center","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":1,"viewport":1,"auto":1},"default":"auto","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":1,"viewport":1,"auto":1},"default":"auto","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":1,"viewport":1,"auto":1},"default":"auto","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size-scale-range":{"type":"array","value":"number","length":2,"default":[0.8,2],"minimum":0.1,"maximum":10,"experimental":true,"private":true,"expression":{},"property-type":"data-constant"},"text-max-width":{"type":"number","default":10,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":1,"left":1,"center":1,"right":1},"default":"center","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","default":0,"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":1,"left":1,"right":1,"top":1,"bottom":1,"top-left":1,"top-right":1,"bottom-left":1,"bottom-right":1},"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":1,"left":1,"right":1,"top":1,"bottom":1,"top-left":1,"top-right":1,"bottom-left":1,"bottom-right":1},"default":"center","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":1,"vertical":1},"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":1,"uppercase":1,"lowercase":1},"default":"none","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","length":2,"default":[0,0],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_raster-particle":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_hillshade":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_raster":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_raster-particle":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_clip":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_model":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":1,"!=":1,">":1,">=":1,"<":1,"<=":1,"in":1,"!in":1,"all":1,"any":1,"none":1,"has":1,"!has":1}},"geometry_type":{"type":"enum","values":{"Point":1,"LineString":1,"Polygon":1}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":1,"exponential":1,"interval":1,"categorical":1},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":1,"lab":1,"hcl":1},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"high-color":{"type":"color","property-type":"data-constant","default":"#245cdf","expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"space-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,0.2,7,0.1],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"star-intensity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],5,0.35,6,0],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"vertical-range":{"type":"array","default":[0,0],"minimum":0,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true}}},"snow":{"density":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],11,0,13,0.85],"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"opacity":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"vignette":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],11,0,13,0.3],"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"vignette-color":{"type":"color","property-type":"data-constant","default":"#ffffff","experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"center-thinning":{"type":"number","property-type":"data-constant","default":0.4,"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"direction":{"type":"array","default":[0,50],"minimum":0,"maximum":360,"length":2,"value":"number","property-type":"data-constant","transition":true,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true}},"flake-size":{"type":"number","property-type":"data-constant","default":0.71,"minimum":0,"maximum":5,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true}},"rain":{"density":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],11,0,13,0.5],"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["measure-light","brightness"],0,"#03113d",0.3,"#a8adbc"],"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"opacity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["measure-light","brightness"],0,0.88,1,0.7],"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"vignette":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],11,0,13,1],"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"vignette-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["measure-light","brightness"],0,"#001736",0.3,"#464646"],"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"center-thinning":{"type":"number","property-type":"data-constant","default":0.57,"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"direction":{"type":"array","default":[0,80],"minimum":0,"maximum":360,"length":2,"value":"number","property-type":"data-constant","transition":true,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true}},"droplet-size":{"type":"array","default":[2.6,18.2],"minimum":0,"maximum":50,"length":2,"value":"number","property-type":"data-constant","transition":true,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true}},"distortion-strength":{"type":"number","property-type":"data-constant","default":0.7,"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true}},"camera":{"camera-projection":{"type":"enum","values":{"perspective":1,"orthographic":1},"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"default":"perspective","property-type":"data-constant"}},"colorTheme":{"data":{"type":"string","property-type":"data-constant","expression":{}}},"indoor":{"floorplanFeaturesetId":{"type":"string","experimental":true,"property-type":"data-constant","expression":{}},"buildingFeaturesetId":{"type":"string","experimental":true,"property-type":"data-constant","expression":{}}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":1,"viewport":1},"property-type":"data-constant","expression":{"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":1,"equalEarth":1,"equirectangular":1,"lambertConformalConic":1,"mercator":1,"naturalEarth":1,"winkelTripel":1,"globe":1},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-180,-90],"maximum":[180,90]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-90,-90],"maximum":[90,90]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_raster-particle","paint_hillshade","paint_background","paint_sky","paint_model"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"fill-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"fill-z-offset":{"type":"number","default":0,"minimum":0,"transition":true,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-height-alignment":{"type":"enum","experimental":true,"values":{"terrain":1,"flat":1},"default":"flat","property-type":"data-constant"},"fill-extrusion-base-alignment":{"type":"enum","experimental":true,"values":{"terrain":1,"flat":1},"default":"terrain","property-type":"data-constant"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant","type":"number","default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant","type":"number","default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-wall-radius":{"property-type":"data-constant","type":"number","experimental":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-ground-radius":{"property-type":"data-constant","type":"number","experimental":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-ground-attenuation":{"property-type":"data-constant","type":"number","experimental":true,"default":0.69,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"fill-extrusion-flood-light-color":{"property-type":"data-constant","type":"color","experimental":true,"default":"#ffffff","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]}},"fill-extrusion-flood-light-intensity":{"property-type":"data-constant","type":"number","experimental":true,"default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]}},"fill-extrusion-flood-light-wall-radius":{"property-type":"data-driven","type":"number","experimental":true,"default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["feature","feature-state"]}},"fill-extrusion-flood-light-ground-radius":{"property-type":"data-driven","type":"number","experimental":true,"default":0,"transition":true,"expression":{"interpolated":true,"parameters":["feature","feature-state"]}},"fill-extrusion-flood-light-ground-attenuation":{"property-type":"data-constant","type":"number","experimental":true,"default":0.69,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"fill-extrusion-vertical-scale":{"property-type":"data-constant","type":"number","experimental":true,"default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"fill-extrusion-rounded-roof":{"property-type":"data-constant","type":"boolean","default":true,"experimental":true,"expression":{"parameters":["zoom"]}},"fill-extrusion-cutoff-fade-range":{"type":"number","default":0,"minimum":0,"maximum":1,"expression":{},"property-type":"data-constant"},"fill-extrusion-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light","feature-state"]},"property-type":"data-driven"},"fill-extrusion-line-width":{"type":"number","default":0,"minimum":0,"transition":true,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"fill-extrusion-cast-shadows":{"type":"boolean","default":true,"property-type":"data-constant"}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light","line-progress"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{"type":"resolvedImage","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{"type":"color","expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{"type":"array","value":"number","length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"property-type":"constant"},"line-trim-fade-range":{"type":"array","value":"number","experimental":true,"length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"line-trim-color":{"type":"color","experimental":true,"default":"transparent","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"line-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"line-border-width":{"type":"number","private":true,"default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-border-color":{"type":"color","private":true,"default":"rgba(0, 0, 0, 0)","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-occlusion-opacity":{"type":"number","default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"property-type":"data-constant"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":1,"viewport":1},"default":"viewport","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-occlusion-opacity":{"type":"number","minimum":0,"maximum":1,"default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-emissive-strength":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light","feature-state"]},"property-type":"data-driven"},"text-emissive-strength":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light","feature-state"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-image-cross-fade":{"type":"number","property-type":"data-driven","default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"transition":true},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-occlusion-opacity":{"type":"number","minimum":0,"maximum":1,"default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-color-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"expression":{},"property-type":"data-constant"},"icon-color-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"expression":{},"property-type":"data-constant"},"icon-color-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"expression":{},"property-type":"data-constant"},"icon-color-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"expression":{},"property-type":"data-constant"},"symbol-z-offset":{"type":"number","default":0,"minimum":0,"transition":true,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-color":{"type":"color","expression":{"interpolated":true,"parameters":["raster-value"]},"property-type":"color-ramp"},"raster-color-mix":{"type":"array","default":[0.2126,0.7152,0.0722,0],"length":4,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"raster-color-range":{"type":"array","length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":1,"nearest":1},"default":"linear","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"raster-array-band":{"type":"string","required":false,"experimental":true,"property-type":"data-constant"},"raster-elevation":{"type":"number","default":0,"minimum":0,"transition":true,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster-particle":{"raster-particle-array-band":{"type":"string","required":false,"property-type":"data-constant"},"raster-particle-count":{"type":"number","default":512,"minimum":1,"property-type":"data-constant"},"raster-particle-color":{"type":"color","expression":{"interpolated":true,"parameters":["raster-particle-speed"]},"property-type":"color-ramp"},"raster-particle-max-speed":{"type":"number","default":1,"minimum":1,"property-type":"data-constant"},"raster-particle-speed-factor":{"type":"number","default":0.2,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-particle-fade-opacity-factor":{"type":"number","default":0.98,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-particle-reset-rate-factor":{"type":"number","default":0.8,"minimum":0,"maximum":1,"property-type":"data-constant"},"raster-particle-elevation":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"viewport","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"hillshade-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"}},"paint_background":{"background-pitch-alignment":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":[]},"experimental":true,"property-type":"data-constant"},"background-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":1,"atmosphere":1},"default":"atmosphere","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"minimum":[0,0],"maximum":[360,180],"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","default":10,"minimum":0,"maximum":100,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","value":"number","default":[0,0],"length":2,"minimum":[0,0],"maximum":[360,180],"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","default":90,"minimum":0,"maximum":180,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_model":{"model-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["feature","feature-state","zoom"]},"property-type":"data-driven"},"model-rotation":{"type":"array","value":"number","length":3,"default":[0,0,0],"period":360,"property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state","zoom"]},"transition":true},"model-scale":{"type":"array","value":"number","length":3,"default":[1,1,1],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state","zoom"]},"transition":true},"model-translation":{"type":"array","value":"number","length":3,"default":[0,0,0],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state","zoom"]},"transition":true},"model-color":{"type":"color","default":"#ffffff","property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state","measure-light","zoom"]},"transition":true},"model-color-mix-intensity":{"type":"number","property-type":"data-driven","default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["feature","feature-state","measure-light"]},"transition":true},"model-type":{"type":"enum","values":{"common-3d":1,"location-indicator":1},"default":"common-3d","property-type":"data-constant"},"model-cast-shadows":{"type":"boolean","default":true,"property-type":"data-constant"},"model-receive-shadows":{"type":"boolean","default":true,"property-type":"data-constant"},"model-ambient-occlusion-intensity":{"type":"number","default":1,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant","transition":true},"model-emissive-strength":{"type":"number","property-type":"data-driven","default":0,"minimum":0,"maximum":5,"expression":{"interpolated":true,"parameters":["feature","feature-state","measure-light"]},"transition":true},"model-roughness":{"type":"number","default":1,"minimum":0,"maximum":1,"property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state"]},"transition":true},"model-height-based-emissive-strength-multiplier":{"type":"array","default":[1,1,1,1,0],"length":5,"value":"number","property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state","measure-light"]},"transition":true},"model-cutoff-fade-range":{"type":"number","default":0,"minimum":0,"maximum":1,"expression":{},"property-type":"data-constant"},"model-front-cutoff":{"type":"array","private":true,"value":"number","property-type":"data-constant","expression":{"interpolated":true,"parameters":["zoom"]},"length":3,"default":[0,0,1],"minimum":[0,0,0],"maximum":[1,1,1]}},"transition":{"duration":{"type":"number","default":300,"minimum":0},"delay":{"type":"number","default":0,"minimum":0}},"property-type":{"data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"*"}}}');function p0(c){return c instanceof Number||c instanceof String||c instanceof Boolean?c.valueOf():c}function Zh(c){if(Array.isArray(c))return c.map(Zh);if(c instanceof Object&&!(c instanceof Number||c instanceof String||c instanceof Boolean)){const n={};for(const a in c)n[a]=Zh(c[a]);return n}return p0(c)}function xu(c){if(c===!0||c===!1)return!0;if(!Array.isArray(c)||c.length===0)return!1;switch(c[0]){case"has":return c.length>=2&&c[1]!=="$id"&&c[1]!=="$type";case"in":return c.length>=3&&(typeof c[1]!="string"||Array.isArray(c[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return c.length!==3||Array.isArray(c[1])||Array.isArray(c[2]);case"any":case"all":for(const n of c.slice(1))if(!xu(n)&&typeof n!="boolean")return!1;return!0;default:return!0}}function uf(c,n="",a=null,f="fill"){if(c==null)return{filter:()=>!0,needGeometry:!1,needFeature:!1};xu(c)||(c=df(c));const v=c;let h=!0;try{h=function(C){if(!Zf(C))return C;let $=Zh(C);return Bm($),$=Nm($),$}(v)}catch(C){console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.
This is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md
and paste the contents of this message in the report.
Thank you!
Filter Expression:
${JSON.stringify(v,null,2)}
        `)}let y=null,E=null;if(f!=="background"&&f!=="sky"&&f!=="slot"){E=gn[`filter_${f}`];const C=Bf(h,E,n,a);if(C.result==="error")throw new Error(C.value.map($=>`${$.key}: ${$.message}`).join(", "));y=($,z,P)=>C.value.evaluate($,z,{},P)}let O=null,L=null;if(h!==v){const C=Bf(v,E,n,a);if(C.result==="error")throw new Error(C.value.map($=>`${$.key}: ${$.message}`).join(", "));O=($,z,P,A,k)=>C.value.evaluate($,z,{},P,void 0,void 0,A,k),L=!Ml(C.value.expression)}return{filter:y,dynamicFilter:O||void 0,needGeometry:m0(h),needFeature:!!L}}function Nm(c){if(!Array.isArray(c))return c;const n=function(a){if(zp.has(a[0])){for(let f=1;f<a.length;f++)if(Zf(a[f]))return!0}return a}(c);return n===!0?n:n.map(a=>Nm(a))}function Bm(c){let n=!1;const a=[];if(c[0]==="case"){for(let f=1;f<c.length-1;f+=2)n=n||Zf(c[f]),a.push(c[f+1]);a.push(c[c.length-1])}else if(c[0]==="match"){n=n||Zf(c[1]);for(let f=2;f<c.length-1;f+=2)a.push(c[f+1]);a.push(c[c.length-1])}else if(c[0]==="step"){n=n||Zf(c[1]);for(let f=1;f<c.length-1;f+=2)a.push(c[f+1])}n&&(c.length=0,c.push("any",...a));for(let f=1;f<c.length;f++)Bm(c[f])}function Zf(c){if(!Array.isArray(c))return!1;if((n=c[0])==="pitch"||n==="distance-from-center")return!0;var n;for(let a=1;a<c.length;a++)if(Zf(c[a]))return!0;return!1}const zp=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function Vf(c,n){return c<n?-1:c>n?1:0}function m0(c){if(!Array.isArray(c))return!1;if(c[0]==="within"||c[0]==="distance")return!0;for(let n=1;n<c.length;n++)if(m0(c[n]))return!0;return!1}function df(c){if(!c)return!0;const n=c[0];return c.length<=1?n!=="any":n==="=="?ff(c[1],c[2],"=="):n==="!="?Cu(ff(c[1],c[2],"==")):n==="<"||n===">"||n==="<="||n===">="?ff(c[1],c[2],n):n==="any"?(a=c.slice(1),["any"].concat(a.map(df))):n==="all"?["all"].concat(c.slice(1).map(df)):n==="none"?["all"].concat(c.slice(1).map(df).map(Cu)):n==="in"?Hf(c[1],c.slice(2)):n==="!in"?Cu(Hf(c[1],c.slice(2))):n==="has"?Fm(c[1]):n!=="!has"||Cu(Fm(c[1]));var a}function ff(c,n,a){switch(c){case"$type":return[`filter-type-${a}`,n];case"$id":return[`filter-id-${a}`,n];default:return[`filter-${a}`,c,n]}}function Hf(c,n){if(n.length===0)return!1;switch(c){case"$type":return["filter-type-in",["literal",n]];case"$id":return["filter-id-in",["literal",n]];default:return n.length>200&&!n.some(a=>typeof a!=typeof n[0])?["filter-in-large",c,["literal",n.sort(Vf)]]:["filter-in-small",c,["literal",n]]}}function Fm(c){switch(c){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",c]}}function Cu(c){return["!",c]}const Gu="";function wu(c,n){return n?`${c}${Gu}${n}`:c}const uu="-transition",g0=new Set(["fill","line","background","hillshade","raster"]);class ql extends xo{constructor(n,a,f,v,h){if(super(),this.id=n.id,this.fqid=wu(this.id,f),this.type=n.type,this.scope=f,this.lut=v,this.options=h,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,this.configDependencies=new Set,n.type!=="custom"){if(this.metadata=n.metadata,this.minzoom=n.minzoom,this.maxzoom=n.maxzoom,n.type&&n.type!=="background"&&n.type!=="sky"&&n.type!=="slot"){this.source=n.source,this.sourceLayer=n["source-layer"],this.filter=n.filter;const y=Bf(this.filter,gn[`filter_${n.type}`]);y.result!=="error"&&(this.configDependencies=new Set([...this.configDependencies,...y.value.configDependencies]))}if(n.slot&&(this.slot=n.slot),a.layout&&(this._unevaluatedLayout=new lf(a.layout,this.scope,h),this.configDependencies=new Set([...this.configDependencies,...this._unevaluatedLayout.configDependencies])),a.paint){this._transitionablePaint=new Dp(a.paint,this.scope,h);for(const y in n.paint)this.setPaintProperty(y,n.paint[y]);for(const y in n.layout)this.setLayoutProperty(y,n.layout[y]);this.configDependencies=new Set([...this.configDependencies,...this._transitionablePaint.configDependencies]),this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new kf(a.paint)}}}onAdd(n){}onRemove(n){}isDraped(n){return!this.is3D()&&g0.has(this.type)}getLayoutProperty(n){return n==="visibility"?this.visibility:this._unevaluatedLayout.getValue(n)}setLayoutProperty(n,a){if(this.type==="custom"&&n==="visibility")return void(this.visibility=a);const f=this._unevaluatedLayout;f._properties.properties[n]&&(f.setValue(n,a),this.configDependencies=new Set([...this.configDependencies,...f.configDependencies]),n==="visibility"&&this.possiblyEvaluateVisibility())}possiblyEvaluateVisibility(){this._unevaluatedLayout._values.visibility&&(this.visibility=this._unevaluatedLayout._values.visibility.possiblyEvaluate({zoom:0}))}getPaintProperty(n){return co(n,uu)?this._transitionablePaint.getTransition(n.slice(0,-11)):this._transitionablePaint.getValue(n)}setPaintProperty(n,a){const f=this._transitionablePaint,v=f._properties.properties;if(co(n,uu)){const $=n.slice(0,-11);return v[$]&&f.setTransition($,a||void 0),!1}if(!v[n])return!1;const h=f._values[n],y=h.value.isDataDriven(),E=h.value;f.setValue(n,a),this.configDependencies=new Set([...this.configDependencies,...f.configDependencies]),this._handleSpecialPaintPropertyUpdate(n);const O=f._values[n].value,L=O.isDataDriven(),C=co(n,"pattern")||n==="line-dasharray";return L||y||C||this._handleOverridablePaintPropertyUpdate(n,E,O)}_handleSpecialPaintPropertyUpdate(n){}getProgramIds(){return null}getDefaultProgramParams(n,a,f){return null}_handleOverridablePaintPropertyUpdate(n,a,f){return!1}isHidden(n){return!!(this.minzoom&&n<this.minzoom)||!!(this.maxzoom&&n>=this.maxzoom)||this.visibility==="none"}updateTransitions(n){this._transitioningPaint=this._transitionablePaint.transitioned(n,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(n,a){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(n,void 0,a)),this.paint=this._transitioningPaint.possiblyEvaluate(n,void 0,a)}serialize(){return Or({id:this.id,type:this.type,slot:this.slot,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()},(n,a)=>!(n===void 0||a==="layout"&&!Object.keys(n).length||a==="paint"&&!Object.keys(n).length))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}hasShadowPass(){return!1}canCastShadows(){return!1}hasLightBeamPass(){return!1}cutoffRange(){return 0}tileCoverLift(){return 0}resize(){}isStateDependent(){for(const n in this.paint._values){const a=this.paint.get(n);if(a instanceof cf&&ol(a.property.specification)&&(a.value.kind==="source"||a.value.kind==="composite")&&a.value.isStateDependent)return!0}return!1}compileFilter(n){this._filterCompiled||(this._featureFilter=uf(this.filter,this.scope,n),this._filterCompiled=!0)}invalidateCompiledFilter(){this._filterCompiled=!1}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}getLayerRenderingStats(){return this._stats}resetLayerRenderingStats(n){this._stats&&(n.renderPass==="shadow"?this._stats.numRenderedVerticesInShadowPass=0:this._stats.numRenderedVerticesInTransparentPass=0)}queryRadius(n){}queryIntersectsFeature(n,a,f,v,h,y,E,O,L){}}const v0={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Vh{constructor(n,a){this._structArray=n,this._pos1=a*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Zs{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(n,a){return n._trim(),a&&(n.isTransferred=!0,a.add(n.arrayBuffer)),{length:n.length,arrayBuffer:n.arrayBuffer}}static deserialize(n){const a=Object.create(this.prototype);return a.arrayBuffer=n.arrayBuffer,a.length=n.length,a.capacity=n.arrayBuffer.byteLength/a.bytesPerElement,a._refreshViews(),a}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(n){this.reserve(n),this.length=n}reserve(n){if(n>this.capacity){this.capacity=Math.max(n,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const a=this.uint8;this._refreshViews(),a&&this.uint8.set(a)}}_refreshViews(){throw new Error("StructArray#_refreshViews() must be implemented by each concrete StructArray layout")}emplace(...n){throw new Error("StructArray#emplace() must be implemented by each concrete StructArray layout")}emplaceBack(...n){throw new Error("StructArray#emplaceBack() must be implemented by each concrete StructArray layout")}destroy(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null}}function us(c,n=1){let a=0,f=0;return{members:c.map(v=>{const h=v0[v.type].BYTES_PER_ELEMENT,y=a=y0(a,Math.max(n,h)),E=v.components||1;return f=Math.max(f,h),a+=h*E,{name:v.name,type:v.type,components:E,offset:y}}),size:y0(a,Math.max(f,n)),alignment:n}}function y0(c,n){return Math.ceil(c/n)*n}class Xu extends Zs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,a){const f=this.length;return this.resize(f+1),this.emplace(f,n,a)}emplace(n,a,f){const v=2*n;return this.int16[v+0]=a,this.int16[v+1]=f,n}}Xu.prototype.bytesPerElement=4,bi(Xu,"StructArrayLayout2i4");class Uf extends Zs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,a,f){const v=this.length;return this.resize(v+1),this.emplace(v,n,a,f)}emplace(n,a,f,v){const h=3*n;return this.int16[h+0]=a,this.int16[h+1]=f,this.int16[h+2]=v,n}}Uf.prototype.bytesPerElement=6,bi(Uf,"StructArrayLayout3i6");class Rc extends Zs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,a,f,v){const h=this.length;return this.resize(h+1),this.emplace(h,n,a,f,v)}emplace(n,a,f,v,h){const y=4*n;return this.int16[y+0]=a,this.int16[y+1]=f,this.int16[y+2]=v,this.int16[y+3]=h,n}}Rc.prototype.bytesPerElement=8,bi(Rc,"StructArrayLayout4i8");class km extends Zs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,a,f,v,h){const y=this.length;return this.resize(y+1),this.emplace(y,n,a,f,v,h)}emplace(n,a,f,v,h,y){const E=5*n;return this.int16[E+0]=a,this.int16[E+1]=f,this.int16[E+2]=v,this.int16[E+3]=h,this.int16[E+4]=y,n}}km.prototype.bytesPerElement=10,bi(km,"StructArrayLayout5i10");class Hh extends Zs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,a,f,v,h,y,E){const O=this.length;return this.resize(O+1),this.emplace(O,n,a,f,v,h,y,E)}emplace(n,a,f,v,h,y,E,O){const L=6*n,C=12*n,$=3*n;return this.int16[L+0]=a,this.int16[L+1]=f,this.uint8[C+4]=v,this.uint8[C+5]=h,this.uint8[C+6]=y,this.uint8[C+7]=E,this.float32[$+2]=O,n}}Hh.prototype.bytesPerElement=12,bi(Hh,"StructArrayLayout2i4ub1f12");class qu extends Zs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,a,f){const v=this.length;return this.resize(v+1),this.emplace(v,n,a,f)}emplace(n,a,f,v){const h=3*n;return this.float32[h+0]=a,this.float32[h+1]=f,this.float32[h+2]=v,n}}qu.prototype.bytesPerElement=12,bi(qu,"StructArrayLayout3f12");class pc extends Zs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,a,f,v,h){const y=this.length;return this.resize(y+1),this.emplace(y,n,a,f,v,h)}emplace(n,a,f,v,h,y){const E=6*n,O=3*n;return this.uint16[E+0]=a,this.uint16[E+1]=f,this.uint16[E+2]=v,this.uint16[E+3]=h,this.float32[O+2]=y,n}}pc.prototype.bytesPerElement=12,bi(pc,"StructArrayLayout4ui1f12");class Lp extends Zs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,a,f,v){const h=this.length;return this.resize(h+1),this.emplace(h,n,a,f,v)}emplace(n,a,f,v,h){const y=4*n;return this.uint16[y+0]=a,this.uint16[y+1]=f,this.uint16[y+2]=v,this.uint16[y+3]=h,n}}Lp.prototype.bytesPerElement=8,bi(Lp,"StructArrayLayout4ui8");class Np extends Zs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,a,f,v,h,y){const E=this.length;return this.resize(E+1),this.emplace(E,n,a,f,v,h,y)}emplace(n,a,f,v,h,y,E){const O=6*n;return this.int16[O+0]=a,this.int16[O+1]=f,this.int16[O+2]=v,this.int16[O+3]=h,this.int16[O+4]=y,this.int16[O+5]=E,n}}Np.prototype.bytesPerElement=12,bi(Np,"StructArrayLayout6i12");class jm extends Zs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,a,f,v,h,y,E,O,L,C,$,z){const P=this.length;return this.resize(P+1),this.emplace(P,n,a,f,v,h,y,E,O,L,C,$,z)}emplace(n,a,f,v,h,y,E,O,L,C,$,z,P){const A=12*n;return this.int16[A+0]=a,this.int16[A+1]=f,this.int16[A+2]=v,this.int16[A+3]=h,this.uint16[A+4]=y,this.uint16[A+5]=E,this.uint16[A+6]=O,this.uint16[A+7]=L,this.int16[A+8]=C,this.int16[A+9]=$,this.int16[A+10]=z,this.int16[A+11]=P,n}}jm.prototype.bytesPerElement=24,bi(jm,"StructArrayLayout4i4ui4i24");class _0 extends Zs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,a,f,v,h,y){const E=this.length;return this.resize(E+1),this.emplace(E,n,a,f,v,h,y)}emplace(n,a,f,v,h,y,E){const O=10*n,L=5*n;return this.int16[O+0]=a,this.int16[O+1]=f,this.int16[O+2]=v,this.float32[L+2]=h,this.float32[L+3]=y,this.float32[L+4]=E,n}}_0.prototype.bytesPerElement=20,bi(_0,"StructArrayLayout3i3f20");class hf extends Zs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,a,f,v){const h=this.length;return this.resize(h+1),this.emplace(h,n,a,f,v)}emplace(n,a,f,v,h){const y=4*n;return this.float32[y+0]=a,this.float32[y+1]=f,this.float32[y+2]=v,this.float32[y+3]=h,n}}hf.prototype.bytesPerElement=16,bi(hf,"StructArrayLayout4f16");class b0 extends Zs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(n){const a=this.length;return this.resize(a+1),this.emplace(a,n)}emplace(n,a){return this.uint32[1*n+0]=a,n}}b0.prototype.bytesPerElement=4,bi(b0,"StructArrayLayout1ul4");class _d extends Zs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,a){const f=this.length;return this.resize(f+1),this.emplace(f,n,a)}emplace(n,a,f){const v=2*n;return this.uint16[v+0]=a,this.uint16[v+1]=f,n}}_d.prototype.bytesPerElement=4,bi(_d,"StructArrayLayout2ui4");class Zm extends Zs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,a,f,v,h,y,E,O,L,C,$,z,P){const A=this.length;return this.resize(A+1),this.emplace(A,n,a,f,v,h,y,E,O,L,C,$,z,P)}emplace(n,a,f,v,h,y,E,O,L,C,$,z,P,A){const k=20*n,X=10*n;return this.int16[k+0]=a,this.int16[k+1]=f,this.int16[k+2]=v,this.int16[k+3]=h,this.int16[k+4]=y,this.float32[X+3]=E,this.float32[X+4]=O,this.float32[X+5]=L,this.float32[X+6]=C,this.int16[k+14]=$,this.uint32[X+8]=z,this.uint16[k+18]=P,this.uint16[k+19]=A,n}}Zm.prototype.bytesPerElement=40,bi(Zm,"StructArrayLayout5i4f1i1ul2ui40");class Vm extends Zs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,a,f,v,h,y,E){const O=this.length;return this.resize(O+1),this.emplace(O,n,a,f,v,h,y,E)}emplace(n,a,f,v,h,y,E,O){const L=8*n;return this.int16[L+0]=a,this.int16[L+1]=f,this.int16[L+2]=v,this.int16[L+4]=h,this.int16[L+5]=y,this.int16[L+6]=E,this.int16[L+7]=O,n}}Vm.prototype.bytesPerElement=16,bi(Vm,"StructArrayLayout3i2i2i16");class Hm extends Zs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,a,f,v,h){const y=this.length;return this.resize(y+1),this.emplace(y,n,a,f,v,h)}emplace(n,a,f,v,h,y){const E=4*n,O=8*n;return this.float32[E+0]=a,this.float32[E+1]=f,this.float32[E+2]=v,this.int16[O+6]=h,this.int16[O+7]=y,n}}Hm.prototype.bytesPerElement=16,bi(Hm,"StructArrayLayout2f1f2i16");class x0 extends Zs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,a,f,v,h,y){const E=this.length;return this.resize(E+1),this.emplace(E,n,a,f,v,h,y)}emplace(n,a,f,v,h,y,E){const O=20*n,L=5*n;return this.uint8[O+0]=a,this.uint8[O+1]=f,this.float32[L+1]=v,this.float32[L+2]=h,this.float32[L+3]=y,this.float32[L+4]=E,n}}x0.prototype.bytesPerElement=20,bi(x0,"StructArrayLayout2ub4f20");class tc extends Zs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,a,f){const v=this.length;return this.resize(v+1),this.emplace(v,n,a,f)}emplace(n,a,f,v){const h=3*n;return this.uint16[h+0]=a,this.uint16[h+1]=f,this.uint16[h+2]=v,n}}tc.prototype.bytesPerElement=6,bi(tc,"StructArrayLayout3ui6");class Uh extends Zs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(n,a,f,v,h,y,E,O,L,C,$,z,P,A,k,X,ee,le,ue,ie,ye){const Se=this.length;return this.resize(Se+1),this.emplace(Se,n,a,f,v,h,y,E,O,L,C,$,z,P,A,k,X,ee,le,ue,ie,ye)}emplace(n,a,f,v,h,y,E,O,L,C,$,z,P,A,k,X,ee,le,ue,ie,ye,Se){const $e=30*n,et=15*n,Ye=60*n;return this.int16[$e+0]=a,this.int16[$e+1]=f,this.int16[$e+2]=v,this.float32[et+2]=h,this.float32[et+3]=y,this.uint16[$e+8]=E,this.uint16[$e+9]=O,this.uint32[et+5]=L,this.uint32[et+6]=C,this.uint32[et+7]=$,this.uint16[$e+16]=z,this.uint16[$e+17]=P,this.uint16[$e+18]=A,this.float32[et+10]=k,this.float32[et+11]=X,this.uint8[Ye+48]=ee,this.uint8[Ye+49]=le,this.uint8[Ye+50]=ue,this.uint32[et+13]=ie,this.int16[$e+28]=ye,this.uint8[Ye+58]=Se,n}}Uh.prototype.bytesPerElement=60,bi(Uh,"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60");class Um extends Zs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(n,a,f,v,h,y,E,O,L,C,$,z,P,A,k,X,ee,le,ue,ie,ye,Se,$e,et,Ye,Xe,Ct,at,St,At,$t,Ft){const Yt=this.length;return this.resize(Yt+1),this.emplace(Yt,n,a,f,v,h,y,E,O,L,C,$,z,P,A,k,X,ee,le,ue,ie,ye,Se,$e,et,Ye,Xe,Ct,at,St,At,$t,Ft)}emplace(n,a,f,v,h,y,E,O,L,C,$,z,P,A,k,X,ee,le,ue,ie,ye,Se,$e,et,Ye,Xe,Ct,at,St,At,$t,Ft,Yt){const un=20*n,Wt=40*n,jn=80*n;return this.float32[un+0]=a,this.float32[un+1]=f,this.int16[Wt+4]=v,this.int16[Wt+5]=h,this.int16[Wt+6]=y,this.int16[Wt+7]=E,this.int16[Wt+8]=O,this.int16[Wt+9]=L,this.int16[Wt+10]=C,this.int16[Wt+11]=$,this.int16[Wt+12]=z,this.uint16[Wt+13]=P,this.uint16[Wt+14]=A,this.uint16[Wt+15]=k,this.uint16[Wt+16]=X,this.uint16[Wt+17]=ee,this.uint16[Wt+18]=le,this.uint16[Wt+19]=ue,this.uint16[Wt+20]=ie,this.uint16[Wt+21]=ye,this.uint16[Wt+22]=Se,this.uint16[Wt+23]=$e,this.uint16[Wt+24]=et,this.uint16[Wt+25]=Ye,this.uint16[Wt+26]=Xe,this.uint16[Wt+27]=Ct,this.uint32[un+14]=at,this.float32[un+15]=St,this.float32[un+16]=At,this.float32[un+17]=$t,this.float32[un+18]=Ft,this.uint8[jn+76]=Yt,n}}Um.prototype.bytesPerElement=80,bi(Um,"StructArrayLayout2f9i15ui1ul4f1ub80");class Wh extends Zs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n){const a=this.length;return this.resize(a+1),this.emplace(a,n)}emplace(n,a){return this.float32[1*n+0]=a,n}}Wh.prototype.bytesPerElement=4,bi(Wh,"StructArrayLayout1f4");class bd extends Zs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,a,f,v,h){const y=this.length;return this.resize(y+1),this.emplace(y,n,a,f,v,h)}emplace(n,a,f,v,h,y){const E=5*n;return this.float32[E+0]=a,this.float32[E+1]=f,this.float32[E+2]=v,this.float32[E+3]=h,this.float32[E+4]=y,n}}bd.prototype.bytesPerElement=20,bi(bd,"StructArrayLayout5f20");class Ku extends Zs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,a,f,v,h,y,E){const O=this.length;return this.resize(O+1),this.emplace(O,n,a,f,v,h,y,E)}emplace(n,a,f,v,h,y,E,O){const L=7*n;return this.float32[L+0]=a,this.float32[L+1]=f,this.float32[L+2]=v,this.float32[L+3]=h,this.float32[L+4]=y,this.float32[L+5]=E,this.float32[L+6]=O,n}}Ku.prototype.bytesPerElement=28,bi(Ku,"StructArrayLayout7f28");class Su extends Zs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,a,f,v,h,y,E,O,L,C,$){const z=this.length;return this.resize(z+1),this.emplace(z,n,a,f,v,h,y,E,O,L,C,$)}emplace(n,a,f,v,h,y,E,O,L,C,$,z){const P=11*n;return this.float32[P+0]=a,this.float32[P+1]=f,this.float32[P+2]=v,this.float32[P+3]=h,this.float32[P+4]=y,this.float32[P+5]=E,this.float32[P+6]=O,this.float32[P+7]=L,this.float32[P+8]=C,this.float32[P+9]=$,this.float32[P+10]=z,n}}Su.prototype.bytesPerElement=44,bi(Su,"StructArrayLayout11f44");class xd extends Zs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,a,f,v,h,y,E,O,L){const C=this.length;return this.resize(C+1),this.emplace(C,n,a,f,v,h,y,E,O,L)}emplace(n,a,f,v,h,y,E,O,L,C){const $=9*n;return this.float32[$+0]=a,this.float32[$+1]=f,this.float32[$+2]=v,this.float32[$+3]=h,this.float32[$+4]=y,this.float32[$+5]=E,this.float32[$+6]=O,this.float32[$+7]=L,this.float32[$+8]=C,n}}xd.prototype.bytesPerElement=36,bi(xd,"StructArrayLayout9f36");class pf extends Zs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,a){const f=this.length;return this.resize(f+1),this.emplace(f,n,a)}emplace(n,a,f){const v=2*n;return this.float32[v+0]=a,this.float32[v+1]=f,n}}pf.prototype.bytesPerElement=8,bi(pf,"StructArrayLayout2f8");class Bp extends Zs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,a,f,v){const h=this.length;return this.resize(h+1),this.emplace(h,n,a,f,v)}emplace(n,a,f,v,h){const y=6*n;return this.uint32[3*n+0]=a,this.uint16[y+2]=f,this.uint16[y+3]=v,this.uint16[y+4]=h,n}}Bp.prototype.bytesPerElement=12,bi(Bp,"StructArrayLayout1ul3ui12");class Fp extends Zs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n){const a=this.length;return this.resize(a+1),this.emplace(a,n)}emplace(n,a){return this.uint16[1*n+0]=a,n}}Fp.prototype.bytesPerElement=2,bi(Fp,"StructArrayLayout1ui2");class Gh extends Zs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,a,f,v,h,y,E,O,L,C,$,z,P,A,k,X){const ee=this.length;return this.resize(ee+1),this.emplace(ee,n,a,f,v,h,y,E,O,L,C,$,z,P,A,k,X)}emplace(n,a,f,v,h,y,E,O,L,C,$,z,P,A,k,X,ee){const le=16*n;return this.float32[le+0]=a,this.float32[le+1]=f,this.float32[le+2]=v,this.float32[le+3]=h,this.float32[le+4]=y,this.float32[le+5]=E,this.float32[le+6]=O,this.float32[le+7]=L,this.float32[le+8]=C,this.float32[le+9]=$,this.float32[le+10]=z,this.float32[le+11]=P,this.float32[le+12]=A,this.float32[le+13]=k,this.float32[le+14]=X,this.float32[le+15]=ee,n}}Gh.prototype.bytesPerElement=64,bi(Gh,"StructArrayLayout16f64");class kp extends Zs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,a,f,v,h,y,E){const O=this.length;return this.resize(O+1),this.emplace(O,n,a,f,v,h,y,E)}emplace(n,a,f,v,h,y,E,O){const L=10*n,C=5*n;return this.uint16[L+0]=a,this.uint16[L+1]=f,this.uint16[L+2]=v,this.uint16[L+3]=h,this.float32[C+2]=y,this.float32[C+3]=E,this.float32[C+4]=O,n}}kp.prototype.bytesPerElement=20,bi(kp,"StructArrayLayout4ui3f20");class jp extends Zs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n){const a=this.length;return this.resize(a+1),this.emplace(a,n)}emplace(n,a){return this.int16[1*n+0]=a,n}}jp.prototype.bytesPerElement=2,bi(jp,"StructArrayLayout1i2");class Wm extends Zs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer)}emplaceBack(n){const a=this.length;return this.resize(a+1),this.emplace(a,n)}emplace(n,a){return this.uint8[1*n+0]=a,n}}Wm.prototype.bytesPerElement=1,bi(Wm,"StructArrayLayout1ub1");class Gm extends Vh{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}Gm.prototype.size=40;class Zp extends Zm{get(n){return new Gm(this,n)}}bi(Zp,"CollisionBoxArray");class Wf extends Vh{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(n){this._structArray.uint8[this._pos1+49]=n}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(n){this._structArray.uint8[this._pos1+50]=n}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(n){this._structArray.uint32[this._pos4+13]=n}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(n){this._structArray.uint8[this._pos1+58]=n}}Wf.prototype.size=60;class Xm extends Uh{get(n){return new Wf(this,n)}}bi(Xm,"PlacedSymbolArray");class C0 extends Vh{get tileAnchorX(){return this._structArray.float32[this._pos4+0]}get tileAnchorY(){return this._structArray.float32[this._pos4+1]}get projectedAnchorX(){return this._structArray.int16[this._pos2+4]}get projectedAnchorY(){return this._structArray.int16[this._pos2+5]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+6]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+7]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+11]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get key(){return this._structArray.uint16[this._pos2+13]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+14]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+15]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+17]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+19]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+21]}get featureIndex(){return this._structArray.uint16[this._pos2+22]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+23]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numIconVertices(){return this._structArray.uint16[this._pos2+25]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+26]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+27]}get crossTileID(){return this._structArray.uint32[this._pos4+14]}set crossTileID(n){this._structArray.uint32[this._pos4+14]=n}get textOffset0(){return this._structArray.float32[this._pos4+15]}get textOffset1(){return this._structArray.float32[this._pos4+16]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+17]}get zOffset(){return this._structArray.float32[this._pos4+18]}set zOffset(n){this._structArray.float32[this._pos4+18]=n}get hasIconTextFit(){return this._structArray.uint8[this._pos1+76]}}C0.prototype.size=80;class Cd extends Um{get(n){return new C0(this,n)}}bi(Cd,"SymbolInstanceArray");class w0 extends Wh{getoffsetX(n){return this.float32[1*n+0]}}bi(w0,"GlyphOffsetArray");class S0 extends Xu{getx(n){return this.int16[2*n+0]}gety(n){return this.int16[2*n+1]}}bi(S0,"SymbolLineVertexArray");class wd extends Vh{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}wd.prototype.size=12;class Yu extends Bp{get(n){return new wd(this,n)}}bi(Yu,"FeatureIndexArray");class Ic extends _d{geta_centroid_pos0(n){return this.uint16[2*n+0]}geta_centroid_pos1(n){return this.uint16[2*n+1]}}bi(Ic,"FillExtrusionCentroidArray");class Gf extends Vh{get a_join_normal_inside0(){return this._structArray.int16[this._pos2+0]}get a_join_normal_inside1(){return this._structArray.int16[this._pos2+1]}get a_join_normal_inside2(){return this._structArray.int16[this._pos2+2]}}Gf.prototype.size=6;class E0 extends Uf{get(n){return new Gf(this,n)}}bi(E0,"FillExtrusionWallArray");const Qv=us([{name:"a_pos",components:2,type:"Int16"}],4),ey=us([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]);class fl{constructor(n=[]){this.segments=n}_prepareSegment(n,a,f,v){let h=this.segments[this.segments.length-1];return n>fl.MAX_VERTEX_ARRAY_LENGTH&&jr(`Max vertices per segment is ${fl.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${n}`),(!h||h.vertexLength+n>fl.MAX_VERTEX_ARRAY_LENGTH||h.sortKey!==v)&&(h={vertexOffset:a,primitiveOffset:f,vertexLength:0,primitiveLength:0},v!==void 0&&(h.sortKey=v),this.segments.push(h)),h}prepareSegment(n,a,f,v){return this._prepareSegment(n,a.length,f.length,v)}get(){return this.segments}destroy(){for(const n of this.segments)for(const a in n.vaos)n.vaos[a].destroy()}static simpleSegment(n,a,f,v){return new fl([{vertexOffset:n,primitiveOffset:a,vertexLength:f,primitiveLength:v,vaos:{},sortKey:0}])}}function Xh(c,n){return 256*(c=ri(Math.floor(c),0,255))+ri(Math.floor(n),0,255)}fl.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,bi(fl,"SegmentVector");const I0=us([{name:"a_pattern",components:4,type:"Uint16"},{name:"a_pixel_ratio",components:1,type:"Float32"}]),qm=us([{name:"a_dash",components:4,type:"Uint16"}]);class mf{constructor(){this.ids=[],this.uniqueIds=[],this.positions=[],this.indexed=!1}add(n,a,f,v){this.ids.push(T0(n)),this.positions.push(a,f,v)}eachPosition(n,a){const f=T0(n);let v=0,h=this.ids.length-1;for(;v<h;){const y=v+h>>1;this.ids[y]>=f?h=y:v=y+1}for(;this.ids[v]===f;)a(this.positions[3*v],this.positions[3*v+1],this.positions[3*v+2]),v++}static serialize(n,a){const f=new Float64Array(n.ids),v=new Uint32Array(n.positions);return Vp(f,v,0,f.length-1),a&&(a.add(f.buffer),a.add(v.buffer)),{ids:f,positions:v}}static deserialize(n){const a=new mf;let f;a.ids=n.ids,a.positions=n.positions;for(const v of a.ids)v!==f&&a.uniqueIds.push(v),f=v;return a.indexed=!0,a}}function T0(c){const n=+c;return!isNaN(n)&&Number.MIN_SAFE_INTEGER<=n&&n<=Number.MAX_SAFE_INTEGER?n:Os(String(c))}function Vp(c,n,a,f){for(;a<f;){const v=c[a+f>>1];let h=a-1,y=f+1;for(;;){do h++;while(c[h]<v);do y--;while(c[y]>v);if(h>=y)break;qh(c,h,y),qh(n,3*h,3*y),qh(n,3*h+1,3*y+1),qh(n,3*h+2,3*y+2)}y-a<f-y?(Vp(c,n,a,y),a=y+1):(Vp(c,n,y+1,f),f=y)}}function qh(c,n,a){const f=c[n];c[n]=c[a],c[a]=f}bi(mf,"FeaturePositionMap");class Eu{constructor(n){this.gl=n.gl,this.initialized=!1}fetchUniformLocation(n,a){return this.location||this.initialized||(this.location=this.gl.getUniformLocation(n,a),this.initialized=!0),!!this.location}set(n,a,f){throw new Error("Uniform#set() must be implemented by each concrete Uniform")}}class Kh extends Eu{constructor(n){super(n),this.current=0}set(n,a,f){this.fetchUniformLocation(n,a)&&this.current!==f&&(this.current=f,this.gl.uniform1i(this.location,f))}}class bl extends Eu{constructor(n){super(n),this.current=0}set(n,a,f){this.fetchUniformLocation(n,a)&&this.current!==f&&(this.current=f,this.gl.uniform1f(this.location,f))}}class jc extends Eu{constructor(n){super(n),this.current=[0,0]}set(n,a,f){this.fetchUniformLocation(n,a)&&(f[0]===this.current[0]&&f[1]===this.current[1]||(this.current=f,this.gl.uniform2f(this.location,f[0],f[1])))}}class Xf extends Eu{constructor(n){super(n),this.current=[0,0,0]}set(n,a,f){this.fetchUniformLocation(n,a)&&(f[0]===this.current[0]&&f[1]===this.current[1]&&f[2]===this.current[2]||(this.current=f,this.gl.uniform3f(this.location,f[0],f[1],f[2])))}}class Hp extends Eu{constructor(n){super(n),this.current=[0,0,0,0]}set(n,a,f){this.fetchUniformLocation(n,a)&&(f[0]===this.current[0]&&f[1]===this.current[1]&&f[2]===this.current[2]&&f[3]===this.current[3]||(this.current=f,this.gl.uniform4f(this.location,f[0],f[1],f[2],f[3])))}}class Km extends Eu{constructor(n){super(n),this.current=no.transparent.toRenderColor(null)}set(n,a,f){this.fetchUniformLocation(n,a)&&(f.r===this.current.r&&f.g===this.current.g&&f.b===this.current.b&&f.a===this.current.a||(this.current=f,this.gl.uniform4f(this.location,f.r,f.g,f.b,f.a)))}}const ty=new Float32Array(16);class du extends Eu{constructor(n){super(n),this.current=ty}set(n,a,f){if(this.fetchUniformLocation(n,a)){if(f[12]!==this.current[12]||f[0]!==this.current[0])return this.current=f,void this.gl.uniformMatrix4fv(this.location,!1,f);for(let v=1;v<16;v++)if(f[v]!==this.current[v]){this.current=f,this.gl.uniformMatrix4fv(this.location,!1,f);break}}}}const Up=new Float32Array(9),M0=new Float32Array(4);class Ym extends Eu{constructor(n){super(n),this.current=M0}set(n,a,f){if(this.fetchUniformLocation(n,a)){for(let v=0;v<4;v++)if(f[v]!==this.current[v]){this.current=f,this.gl.uniformMatrix2fv(this.location,!1,f);break}}}}function gf(c){return[Xh(255*c.r,255*c.g),Xh(255*c.b,255*c.a)]}class Sd{constructor(n,a,f,v){this.value=n,this.uniformNames=a.map(h=>`u_${h}`),this.type=f,this.context=v}setUniform(n,a,f,v,h){const y=v.constantOr(this.value);a.set(n,h,y instanceof no?y.toRenderColor(this.ignoreLut?null:this.context.lut):y)}getBinding(n,a){return this.type==="color"?new Km(n):new bl(n)}}class Ed{constructor(n,a){this.uniformNames=a.map(f=>`u_${f}`),this.pattern=null,this.pixelRatio=1}setConstantPatternPositions(n){this.pixelRatio=n.pixelRatio||1,this.pattern=n.tl.concat(n.br)}setUniform(n,a,f,v,h){const y=h==="u_pattern"||h==="u_dash"?this.pattern:h==="u_pixel_ratio"?this.pixelRatio:null;y&&a.set(n,h,y)}getBinding(n,a){return a==="u_pattern"||a==="u_dash"?new Hp(n):new bl(n)}}class Iu{constructor(n,a,f,v){this.expression=n,this.type=f,this.maxValue=0,this.paintVertexAttributes=a.map(h=>({name:`a_${h}`,type:"Float32",components:f==="color"?2:1,offset:0})),this.paintVertexArray=new v}populatePaintArray(n,a,f,v,h,y,E){const O=this.paintVertexArray.length,L=this.expression.kind==="composite"||this.expression.kind==="source"?this.expression.evaluate(new Xs(0,{brightness:y}),a,{},h,v,E):this.expression.kind==="constant"&&this.expression.value;!this.lutExpression||this.lutExpression.kind!=="composite"&&this.lutExpression.kind!=="source"||(this.ignoreLut=this.lutExpression.evaluate(new Xs(0,{brightness:y}),a,{},h,v,E)==="none"),this.paintVertexArray.resize(n),this._setPaintValue(O,n,L,this.context)}updatePaintArray(n,a,f,v,h,y,E){const O=this.expression.kind==="composite"||this.expression.kind==="source"?this.expression.evaluate({zoom:0,brightness:E},f,v,void 0,h):this.expression.kind==="constant"&&this.expression.value;!this.lutExpression||this.lutExpression.kind!=="composite"&&this.lutExpression.kind!=="source"||(this.ignoreLut=this.lutExpression.evaluate({zoom:0,brightness:E},f,v,void 0,h)==="none"),this._setPaintValue(n,a,O,this.context)}_setPaintValue(n,a,f,v){if(this.type==="color"){const h=gf(f.toRenderColor(this.ignoreLut?null:v.lut));for(let y=n;y<a;y++)this.paintVertexArray.emplace(y,h[0],h[1])}else{for(let h=n;h<a;h++)this.paintVertexArray.emplace(h,f);this.maxValue=Math.max(this.maxValue,Math.abs(f))}}upload(n){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=n.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.lutExpression&&this.lutExpression.kind!=="constant"&&(this.lutExpression.isStateDependent||!this.lutExpression.isLightConstant)||this.expression.kind!=="constant"&&(this.expression.isStateDependent||!this.expression.isLightConstant)))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class eu{constructor(n,a,f,v,h,y){this.expression=n,this.uniformNames=a.map(E=>`u_${E}_t`),this.type=f,this.useIntegerZoom=v,this.context=h,this.maxValue=0,this.paintVertexAttributes=a.map(E=>({name:`a_${E}`,type:"Float32",components:f==="color"?4:2,offset:0})),this.paintVertexArray=new y}populatePaintArray(n,a,f,v,h,y,E){const O=this.expression.evaluate(new Xs(this.context.zoom,{brightness:y}),a,{},h,v,E),L=this.expression.evaluate(new Xs(this.context.zoom+1,{brightness:y}),a,{},h,v,E);!this.lutExpression||this.lutExpression.kind!=="composite"&&this.lutExpression.kind!=="source"||(this.ignoreLut=this.lutExpression.evaluate(new Xs(this.context.zoom,{brightness:y}),a,{},h,v,E)==="none");const C=this.paintVertexArray.length;this.paintVertexArray.resize(n),this._setPaintValue(C,n,O,L,this.context)}updatePaintArray(n,a,f,v,h,y,E){const O=this.expression.evaluate({zoom:this.context.zoom,brightness:E},f,v,void 0,h),L=this.expression.evaluate({zoom:this.context.zoom+1,brightness:E},f,v,void 0,h);!this.lutExpression||this.lutExpression.kind!=="composite"&&this.lutExpression.kind!=="source"||(this.ignoreLut=this.lutExpression.evaluate({zoom:this.context.zoom,brightness:E},f,v,void 0,h)==="none"),this._setPaintValue(n,a,O,L,this.context)}_setPaintValue(n,a,f,v,h){if(this.type==="color"){const y=gf(f.toRenderColor(this.ignoreLut?null:h.lut)),E=gf(f.toRenderColor(this.ignoreLut?null:h.lut));for(let O=n;O<a;O++)this.paintVertexArray.emplace(O,y[0],y[1],E[0],E[1])}else{for(let y=n;y<a;y++)this.paintVertexArray.emplace(y,f,v);this.maxValue=Math.max(this.maxValue,Math.abs(f),Math.abs(v))}}upload(n){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=n.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent||!this.expression.isLightConstant))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(n,a,f,v,h){const y=this.useIntegerZoom?Math.floor(f.zoom):f.zoom,E=ri(this.expression.interpolationFactor(y,this.context.zoom,this.context.zoom+1),0,1);a.set(n,h,E)}getBinding(n,a){return new bl(n)}}class Ju{constructor(n,a,f,v,h){this.expression=n,this.layerId=h,this.paintVertexAttributes=(f==="array"?qm:I0).members;for(let y=0;y<a.length;++y);this.paintVertexArray=new v}populatePaintArray(n,a,f,v){const h=this.paintVertexArray.length;this.paintVertexArray.resize(n),this._setPaintValues(h,n,a.patterns&&a.patterns[this.layerId],f)}updatePaintArray(n,a,f,v,h,y,E){this._setPaintValues(n,a,f.patterns&&f.patterns[this.layerId],y)}_setPaintValues(n,a,f,v){if(!v||!f)return;const h=v[f];if(!h)return;const{tl:y,br:E,pixelRatio:O}=h;for(let L=n;L<a;L++)this.paintVertexArray.emplace(L,y[0],y[1],E[0],E[1],O)}upload(n){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer=n.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent||!this.expression.isLightConstant))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class vf{constructor(n,a,f=()=>!0){this.binders={},this._buffers=[],this.context=a;const v=[];for(const h in n.paint._values){const y=n.paint.get(h),E=n.paint.get(`${h}-use-theme`);if(h.endsWith("-use-theme")||!f(h)||!(y instanceof cf&&ol(y.property.specification)))continue;const O=ry(h,n.type),L=y.value,C=y.property.specification.type,$=!!y.property.useIntegerZoom,z=h==="line-dasharray"||h.endsWith("pattern"),P=h==="line-dasharray"&&n.layout.get("line-cap").value.kind!=="constant"||E&&E.value.kind!=="constant";if(L.kind!=="constant"||P)if(L.kind==="source"||P||z){const A=P0(h,C,"source");this.binders[h]=z?new Ju(L,O,C,A,n.id):new Iu(L,O,C,A),v.push(`/a_${h}`)}else{const A=P0(h,C,"composite");this.binders[h]=new eu(L,O,C,$,a,A),v.push(`/z_${h}`)}else this.binders[h]=z?new Ed(L.value,O):new Sd(L.value,O,C,a),v.push(`/u_${h}`);E&&(this.binders[h].ignoreLut=E.constantOr("default")==="none",this.binders[h].lutExpression=E.value,this.binders[h].checkUseTheme=!0)}this.cacheKey=v.sort().join("")}getMaxValue(n){const a=this.binders[n];return a instanceof Iu||a instanceof eu?a.maxValue:0}populatePaintArrays(n,a,f,v,h,y,E){for(const O in this.binders){const L=this.binders[O];L.context=this.context,L instanceof Iu||L instanceof eu||L instanceof Ju?L.populatePaintArray(n,a,f,v,h,y,E):L.lutExpression&&L instanceof Sd&&L.lutExpression&&(L.lutExpression.kind==="composite"||L.lutExpression.kind==="source")&&(L.ignoreLut=L.lutExpression.evaluate(new Xs(0,{brightness:y}),a,{},h,v,E)==="none")}}setConstantPatternPositions(n){for(const a in this.binders){const f=this.binders[a];f instanceof Ed&&f.setConstantPatternPositions(n)}}updatePaintArrays(n,a,f,v,h,y,E,O,L){let C=!1;const $=Object.keys(n),z=$.length!==0&&!O,P=z?$:a.uniqueIds;this.context.lut=h.lut;for(const A in this.binders){const k=this.binders[A];if(k.context=this.context,(k instanceof Iu||k instanceof eu||k instanceof Ju)&&k.expression&&k.expression.kind&&k.expression.kind!=="constant"&&(k.expression.isStateDependent===!0||k.expression.isLightConstant===!1)){const X=h.paint.get(A);k.expression=X.value;for(const ee of P){const le=n[ee.toString()];a.eachPosition(ee,(ue,ie,ye)=>{const Se=v.feature(ue);k.updatePaintArray(ie,ye,Se,le,y,E,L)})}if(!z)for(const ee of f.uniqueIds){const le=n[ee.toString()];f.eachPosition(ee,(ue,ie,ye)=>{const Se=v.feature(ue);k.updatePaintArray(ie,ye,Se,le,y,E,L)})}C=!0}}return C}defines(){const n=[];for(const a in this.binders){const f=this.binders[a];(f instanceof Sd||f instanceof Ed)&&n.push(...f.uniformNames.map(v=>`#define HAS_UNIFORM_${v}`))}return n}getBinderAttributes(){const n=[];for(const a in this.binders){const f=this.binders[a];if(f instanceof Iu||f instanceof eu||f instanceof Ju)for(let v=0;v<f.paintVertexAttributes.length;v++)n.push(f.paintVertexAttributes[v].name)}return n}getBinderUniforms(){const n=[];for(const a in this.binders){const f=this.binders[a];if(f instanceof Sd||f instanceof Ed||f instanceof eu)for(const v of f.uniformNames)n.push(v)}return n}getPaintVertexBuffers(){return this._buffers}getUniforms(n){const a=[];for(const f in this.binders){const v=this.binders[f];if(v instanceof Sd||v instanceof Ed||v instanceof eu)for(const h of v.uniformNames)a.push({name:h,property:f,binding:v.getBinding(n,h)})}return a}setUniforms(n,a,f,v,h){for(const{name:y,property:E,binding:O}of f){if(this.binders[E].checkUseTheme&&this.binders[E]instanceof Sd){const L=v.get(`${E}-use-theme`);L.isConstant()&&(this.binders[E].ignoreLut=L.constantOr("default")==="none")}this.binders[E].setUniform(n,O,h,v.get(E),y)}}updatePaintBuffers(){this._buffers=[];for(const n in this.binders){const a=this.binders[n];(a instanceof Iu||a instanceof eu||a instanceof Ju)&&a.paintVertexBuffer&&this._buffers.push(a.paintVertexBuffer)}}upload(n){for(const a in this.binders){const f=this.binders[a];(f instanceof Iu||f instanceof eu||f instanceof Ju)&&f.upload(n)}this.updatePaintBuffers()}destroy(){for(const n in this.binders){const a=this.binders[n];(a instanceof Iu||a instanceof eu||a instanceof Ju)&&a.destroy()}}}class Ac{constructor(n,a,f=()=>!0){this.programConfigurations={};for(const v of n)this.programConfigurations[v.id]=new vf(v,a,f);this.needsUpload=!1,this._featureMap=new mf,this._featureMapWithoutIds=new mf,this._bufferOffset=0,this._idlessCounter=0}populatePaintArrays(n,a,f,v,h,y,E,O){for(const L in this.programConfigurations)this.programConfigurations[L].populatePaintArrays(n,a,v,h,y,E,O);a.id!==void 0?this._featureMap.add(a.id,f,this._bufferOffset,n):(this._featureMapWithoutIds.add(this._idlessCounter,f,this._bufferOffset,n),this._idlessCounter+=1),this._bufferOffset=n,this.needsUpload=!0}updatePaintArrays(n,a,f,v,h,y,E){for(const O of f)this.needsUpload=this.programConfigurations[O.id].updatePaintArrays(n,this._featureMap,this._featureMapWithoutIds,a,O,v,h,y,E||0)||this.needsUpload}get(n){return this.programConfigurations[n]}upload(n){if(this.needsUpload){for(const a in this.programConfigurations)this.programConfigurations[a].upload(n);this.needsUpload=!1}}destroy(){for(const n in this.programConfigurations)this.programConfigurations[n].destroy()}}const ny={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-occlusion-opacity":["occlusion_opacity"],"icon-occlusion-opacity":["occlusion_opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-emissive-strength":["emissive_strength"],"icon-emissive-strength":["emissive_strength"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"symbol-z-offset":["z_offset"],"line-gap-width":["gapwidth"],"line-pattern":["pattern","pixel_ratio"],"fill-pattern":["pattern","pixel_ratio"],"fill-extrusion-pattern":["pattern","pixel_ratio"],"line-dasharray":["dash"]};function ry(c,n){return ny[c]||[c.replace(`${n}-`,"").replace(/-/g,"_")]}const iy={"line-pattern":{source:pc,composite:pc},"fill-pattern":{source:pc,composite:pc},"fill-extrusion-pattern":{source:pc,composite:pc},"line-dasharray":{source:Lp,composite:Lp}},Yh={color:{source:pf,composite:hf},number:{source:Wh,composite:pf}};function P0(c,n,a){const f=iy[c];return f&&f[a]||Yh[n][a]}bi(Sd,"ConstantBinder"),bi(Ed,"PatternConstantBinder"),bi(Iu,"SourceExpressionBinder"),bi(Ju,"PatternCompositeBinder"),bi(eu,"CompositeExpressionBinder"),bi(vf,"ProgramConfiguration",{omit:["_buffers"]}),bi(Ac,"ProgramConfigurationSet");const wc=Fr/Math.PI/2,yf=5,oy=6,O0=16383,qf=64,Wp=[qf,32,16],Zc=-wc,Vc=wc;function Kf(c,n,a,f=wc){return a=or(a),[c*Math.sin(a)*f,-n*f,c*Math.cos(a)*f]}function Yf(c,n,a){return Kf(Math.cos(or(c)),Math.sin(or(c)),n,a)}const _f=63710088e-1,Gp=2*Math.PI*_f;class os{constructor(n,a){if(isNaN(n)||isNaN(a))throw new Error(`Invalid LngLat object: (${n}, ${a})`);if(this.lng=+n,this.lat=+a,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new os(Eo(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(n){const a=Math.PI/180,f=this.lat*a,v=n.lat*a,h=Math.sin(f)*Math.sin(v)+Math.cos(f)*Math.cos(v)*Math.cos((n.lng-this.lng)*a);return _f*Math.acos(Math.min(h,1))}toBounds(n=0){const a=360*n/40075017,f=a/Math.cos(Math.PI/180*this.lat);return new Qu({lng:this.lng-f,lat:this.lat-a},{lng:this.lng+f,lat:this.lat+a})}toEcef(n){return Yf(this.lat,this.lng,wc+n*wc/_f)}static convert(n){if(n instanceof os)return n;if(Array.isArray(n)&&(n.length===2||n.length===3))return new os(Number(n[0]),Number(n[1]));if(!Array.isArray(n)&&typeof n=="object"&&n!==null)return new os(Number("lng"in n?n.lng:n.lon),Number(n.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}class Qu{constructor(n,a){if(n)if(a)this.setSouthWest(n).setNorthEast(a);else if(n.length===4){const f=n;this.setSouthWest([f[0],f[1]]).setNorthEast([f[2],f[3]])}else{const f=n;this.setSouthWest(f[0]).setNorthEast(f[1])}}setNorthEast(n){return this._ne=n instanceof os?new os(n.lng,n.lat):os.convert(n),this}setSouthWest(n){return this._sw=n instanceof os?new os(n.lng,n.lat):os.convert(n),this}extend(n){const a=this._sw,f=this._ne;let v,h;if(n instanceof os)v=n,h=n;else{if(!(n instanceof Qu))return Array.isArray(n)?n.length===4||n.every(Array.isArray)?this.extend(Qu.convert(n)):this.extend(os.convert(n)):typeof n=="object"&&n!==null&&n.hasOwnProperty("lat")&&(n.hasOwnProperty("lon")||n.hasOwnProperty("lng"))?this.extend(os.convert(n)):this;if(v=n._sw,h=n._ne,!v||!h)return this}return a||f?(a.lng=Math.min(v.lng,a.lng),a.lat=Math.min(v.lat,a.lat),f.lng=Math.max(h.lng,f.lng),f.lat=Math.max(h.lat,f.lat)):(this._sw=new os(v.lng,v.lat),this._ne=new os(h.lng,h.lat)),this}getCenter(){return new os((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new os(this.getWest(),this.getNorth())}getSouthEast(){return new os(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(n){const{lng:a,lat:f}=os.convert(n);let v=this._sw.lng<=a&&a<=this._ne.lng;return this._sw.lng>this._ne.lng&&(v=this._sw.lng>=a&&a>=this._ne.lng),this._sw.lat<=f&&f<=this._ne.lat&&v}static convert(n){if(n)return n instanceof Qu?n:new Qu(n)}}const $0=0,R0=25.5;function Xp(c){return Gp*Math.cos(c*Math.PI/180)}function Tu(c){return(180+c)/360}function Mu(c){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+c*Math.PI/360)))/360}function sc(c,n){return c/Xp(n)}function Dc(c){return 360*c-180}function Kl(c){return 360/Math.PI*Math.atan(Math.exp((180-360*c)*Math.PI/180))-90}function ay(c,n){return c*Xp(Kl(n))}const gl=85.051129;function Jm(c){return Math.cos(or(ri(c,-gl,gl)))}function Jf(c,n){const a=ri(n,$0,R0),f=Math.pow(2,a);return Jm(c)*Gp/(512*f)}function p(c){return 1/Math.cos(c*Math.PI/180)}function r(c,n=0){const a=Math.exp(Math.PI*(1-(c.y+n/Fr)/(1<<c.z)*2));return 80150034*a/(a*a+1)/Fr/(1<<c.z)}class l{constructor(n,a,f=0){this.x=+n,this.y=+a,this.z=+f}static fromLngLat(n,a=0){const f=os.convert(n);return new l(Tu(f.lng),Mu(f.lat),sc(a,f.lat))}toLngLat(){return new os(Dc(this.x),Kl(this.y))}toAltitude(){return ay(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/Gp*p(Kl(this.y))}}function m(c,n,a,f,v,h,y,E,O){const L=(n+f)/2,C=(a+v)/2,$=new Sn(L,C);E($),function(z,P,A,k,X,ee){const le=A-X,ue=k-ee;return Math.abs((k-P)*le-(A-z)*ue)/Math.hypot(le,ue)}($.x,$.y,h.x,h.y,y.x,y.y)>=O?(m(c,n,a,L,C,h,$,E,O),m(c,L,C,f,v,$,y,E,O)):c.push(y)}function b(c,n,a){let f=c[0],v=f.x,h=f.y;n(f);const y=[f];for(let E=1;E<c.length;E++){const O=c[E],{x:L,y:C}=O;n(O),m(y,v,h,L,C,f,O,n,a),v=L,h=C,f=O}return y}function w(c,n,a,f){if(f(n,a)){const v=n.add(a)._mult(.5);w(c,n,v,f),w(c,v,a,f)}else c.push(a)}function I(c,n){let a=c[0];const f=[a];for(let v=1;v<c.length;v++){const h=c[v];w(f,a,h,n),a=h}return f}const D=Math.pow(2,14)-1,Z=-D-1;function W(c,n){const a=Math.round(c.x*n),f=Math.round(c.y*n);return c.x=ri(a,Z,D),c.y=ri(f,Z,D),(a<c.x||a>c.x+1||f<c.y||f>c.y+1)&&jr("Geometry exceeds allowed extent, reduce your vector tile buffer size"),c}function G(c,n,a){const f=c.loadGeometry(),v=c.extent,h=Fr/v;if(n&&a&&a.projection.isReprojectedInTileSpace){const y=1<<n.z,{scale:E,x:O,y:L,projection:C}=a,$=z=>{const P=Dc((n.x+z.x/v)/y),A=Kl((n.y+z.y/v)/y),k=C.project(P,A);z.x=(k.x*E-O)*v,z.y=(k.y*E-L)*v};for(let z=0;z<f.length;z++)if(c.type!==1)f[z]=b(f[z],$,1);else{const P=[];for(const A of f[z])A.x<0||A.x>=v||A.y<0||A.y>=v||($(A),P.push(A));f[z]=P}}for(const y of f)for(const E of y)W(E,h);return f}function te(c,n){return{type:c.type,id:c.id,properties:c.properties,geometry:n?G(c):[]}}function ne(c,n,a,f,v){c.emplaceBack(2*n+(f+1)/2,2*a+(v+1)/2)}function ce(c,n,a){c.emplaceBack(n.x,n.y,n.z,a[0]*16384,a[1]*16384,a[2]*16384)}class Te{constructor(n){this.zoom=n.zoom,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(a=>a.fqid),this.index=n.index,this.hasPattern=!1,this.projection=n.projection,this.layoutVertexArray=new Xu,this.indexArray=new tc,this.segments=new fl,this.programConfigurations=new Ac(n.layers,{zoom:n.zoom,lut:n.lut}),this.stateDependentLayerIds=this.layers.filter(a=>a.isStateDependent()).map(a=>a.id)}updateFootprints(n,a){}populate(n,a,f,v){const h=this.layers[0],y=[];let E=null;h.type==="circle"&&(E=h.layout.get("circle-sort-key"));for(const{feature:L,id:C,index:$,sourceLayerIndex:z}of n){const P=this.layers[0]._featureFilter.needGeometry,A=te(L,P);if(!this.layers[0]._featureFilter.filter(new Xs(this.zoom),A,f))continue;const k=E?E.evaluate(A,{},f):void 0,X={id:C,properties:L.properties,type:L.type,sourceLayerIndex:z,index:$,geometry:P?A.geometry:G(L,f,v),patterns:{},sortKey:k};y.push(X)}E&&y.sort((L,C)=>L.sortKey-C.sortKey);let O=null;v.projection.name==="globe"&&(this.globeExtVertexArray=new Np,O=v.projection);for(const L of y){const{geometry:C,index:$,sourceLayerIndex:z}=L,P=n[$].feature;this.addFeature(L,C,$,a.availableImages,f,O,a.brightness),a.featureIndex.insert(P,C,$,z,this.index)}}update(n,a,f,v,h,y,E){this.programConfigurations.updatePaintArrays(n,a,h,f,v,y,E)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(n){this.uploaded||(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,Qv.members),this.indexBuffer=n.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=n.createVertexBuffer(this.globeExtVertexArray,ey.members))),this.programConfigurations.upload(n),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}addFeature(n,a,f,v,h,y,E){for(const O of a)for(const L of O){const C=L.x,$=L.y;if(C<0||C>=Fr||$<0||$>=Fr)continue;if(y){const A=y.projectTilePoint(C,$,h),k=y.upVector(h,C,$),X=this.globeExtVertexArray;ce(X,A,k),ce(X,A,k),ce(X,A,k),ce(X,A,k)}const z=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,n.sortKey),P=z.vertexLength;ne(this.layoutVertexArray,C,$,-1,-1),ne(this.layoutVertexArray,C,$,1,-1),ne(this.layoutVertexArray,C,$,1,1),ne(this.layoutVertexArray,C,$,-1,1),this.indexArray.emplaceBack(P,P+1,P+2),this.indexArray.emplaceBack(P,P+2,P+3),z.vertexLength+=4,z.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,f,{},v,h,E)}}function we(c,n){for(let a=0;a<c.length;a++)if(ft(n,c[a]))return!0;for(let a=0;a<n.length;a++)if(ft(c,n[a]))return!0;return!!dt(c,n)}function Re(c,n,a){return!!ft(c,n)||!!bt(n,c,a)}function Oe(c,n){if(c.length===1)return gt(n,c[0]);for(let a=0;a<n.length;a++){const f=n[a];for(let v=0;v<f.length;v++)if(ft(c,f[v]))return!0}for(let a=0;a<c.length;a++)if(gt(n,c[a]))return!0;for(let a=0;a<n.length;a++)if(dt(c,n[a]))return!0;return!1}function Ge(c,n,a){if(c.length>1){if(dt(c,n))return!0;for(let f=0;f<n.length;f++)if(bt(n[f],c,a))return!0}for(let f=0;f<c.length;f++)if(bt(c[f],n,a))return!0;return!1}function dt(c,n){if(c.length===0||n.length===0)return!1;for(let a=0;a<c.length-1;a++){const f=c[a],v=c[a+1];for(let h=0;h<n.length-1;h++)if(st(f,v,n[h],n[h+1]))return!0}return!1}function st(c,n,a,f){return ia(c,a,f)!==ia(n,a,f)&&ia(c,n,a)!==ia(c,n,f)}function bt(c,n,a){const f=a*a;if(n.length===1)return c.distSqr(n[0])<f;for(let v=1;v<n.length;v++)if(pt(c,n[v-1],n[v])<f)return!0;return!1}function pt(c,n,a){const f=n.distSqr(a);if(f===0)return c.distSqr(n);const v=((c.x-n.x)*(a.x-n.x)+(c.y-n.y)*(a.y-n.y))/f;return c.distSqr(v<0?n:v>1?a:a.sub(n)._mult(v)._add(n))}function gt(c,n){let a,f,v,h=!1;for(let y=0;y<c.length;y++){a=c[y];for(let E=0,O=a.length-1;E<a.length;O=E++)f=a[E],v=a[O],f.y>n.y!=v.y>n.y&&n.x<(v.x-f.x)*(n.y-f.y)/(v.y-f.y)+f.x&&(h=!h)}return h}function ft(c,n){let a=!1;for(let f=0,v=c.length-1;f<c.length;v=f++){const h=c[f],y=c[v];h.y>n.y!=y.y>n.y&&n.x<(y.x-h.x)*(n.y-h.y)/(y.y-h.y)+h.x&&(a=!a)}return a}function yt(c,n,a,f,v){for(const y of c)if(n<=y.x&&a<=y.y&&f>=y.x&&v>=y.y)return!0;const h=[new Sn(n,a),new Sn(n,v),new Sn(f,v),new Sn(f,a)];if(c.length>2){for(const y of h)if(ft(c,y))return!0}for(let y=0;y<c.length-1;y++)if(Bt(c[y],c[y+1],h))return!0;return!1}function Bt(c,n,a){const f=a[0],v=a[2];if(c.x<f.x&&n.x<f.x||c.x>v.x&&n.x>v.x||c.y<f.y&&n.y<f.y||c.y>v.y&&n.y>v.y)return!1;const h=ia(c,n,a[0]);return h!==ia(c,n,a[1])||h!==ia(c,n,a[2])||h!==ia(c,n,a[3])}function In(c,n,a,f,v,h){let y=n.y-c.y,E=c.x-n.x;if(h=h||0){const O=y*y+E*E;if(O===0)return!0;const L=Math.sqrt(O);y/=L,E/=L}return!((a.x-c.x)*y+(a.y-c.y)*E-h<0||(f.x-c.x)*y+(f.y-c.y)*E-h<0||(v.x-c.x)*y+(v.y-c.y)*E-h<0)}function pn(c,n,a,f,v,h,y){return!(In(c,n,f,v,h,y)||In(n,a,f,v,h,y)||In(a,c,f,v,h,y)||In(f,v,c,n,a,y)||In(v,h,c,n,a,y)||In(h,f,c,n,a,y))}function Hn(c,n,a){const f=n.paint.get(c).value;return f.kind==="constant"?f.value:a.programConfigurations.get(n.id).getMaxValue(c)}function Zn(c){return Math.sqrt(c[0]*c[0]+c[1]*c[1])}function rn(c,n,a,f,v){if(!n[0]&&!n[1])return c;const h=Sn.convert(n)._mult(v);a==="viewport"&&h._rotate(-f);const y=[];for(let E=0;E<c.length;E++)y.push(c[E].sub(h));return y}function $n(c,n,a,f){const v=Sn.convert(c)._mult(f);return n==="viewport"&&v._rotate(-a),v}let hr,nn;bi(Te,"CircleBucket",{omit:["layers"]});var Xn,Mn={exports:{}},Dr=(Xn||(Xn=1,function(c,n){(function(a){function f(h,y,E){var O=v(256*h,256*(y=Math.pow(2,E)-y-1),E),L=v(256*(h+1),256*(y+1),E);return O[0]+","+O[1]+","+L[0]+","+L[1]}function v(h,y,E){var O=2*Math.PI*6378137/256/Math.pow(2,E);return[h*O-2*Math.PI*6378137/2,y*O-2*Math.PI*6378137/2]}a.getURL=function(h,y,E,O,L,C){return C=C||{},h+"?"+["bbox="+f(E,O,L),"format="+(C.format||"image/png"),"service="+(C.service||"WMS"),"version="+(C.version||"1.1.1"),"request="+(C.request||"GetMap"),"srs="+(C.srs||"EPSG:3857"),"width="+(C.width||256),"height="+(C.height||256),"layers="+y].join("&")},a.getTileBBox=f,a.getMercCoords=v,Object.defineProperty(a,"__esModule",{value:!0})})(n)}(0,Mn.exports)),Mn.exports);class ar{constructor(n,a,f){this.z=n,this.x=a,this.y=f,this.key=Rr(0,n,n,a,f)}equals(n){return this.z===n.z&&this.x===n.x&&this.y===n.y}url(n,a){const f=Dr.getTileBBox(this.x,this.y,this.z),v=function(h,y,E){let O,L="";for(let C=h;C>0;C--)O=1<<C-1,L+=(y&O?1:0)+(E&O?2:0);return L}(this.z,this.x,this.y);return n[(this.x+this.y)%n.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(a==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",v).replace("{bbox-epsg-3857}",f)}toString(){return`${this.z}/${this.x}/${this.y}`}}class Wn{constructor(n,a){this.wrap=n,this.canonical=a,this.key=Rr(n,a.z,a.z,a.x,a.y)}}class _r{constructor(n,a,f,v,h){this.overscaledZ=n,this.wrap=a,this.canonical=new ar(f,+v,+h),this.key=a===0&&n===f?this.canonical.key:Rr(a,n,f,v,h)}equals(n){return this.overscaledZ===n.overscaledZ&&this.wrap===n.wrap&&this.canonical.equals(n.canonical)}scaledTo(n){const a=this.canonical.z-n;return n>this.canonical.z?new _r(n,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new _r(n,this.wrap,n,this.canonical.x>>a,this.canonical.y>>a)}calculateScaledKey(n,a=!0){if(this.overscaledZ===n&&a)return this.key;if(n>this.canonical.z)return Rr(this.wrap*+a,n,this.canonical.z,this.canonical.x,this.canonical.y);{const f=this.canonical.z-n;return Rr(this.wrap*+a,n,n,this.canonical.x>>f,this.canonical.y>>f)}}isChildOf(n){if(n.wrap!==this.wrap)return!1;const a=this.canonical.z-n.canonical.z;return n.overscaledZ===0||n.overscaledZ<this.overscaledZ&&n.canonical.z<this.canonical.z&&n.canonical.x===this.canonical.x>>a&&n.canonical.y===this.canonical.y>>a}children(n){if(this.overscaledZ>=n)return[new _r(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const a=this.canonical.z+1,f=2*this.canonical.x,v=2*this.canonical.y;return[new _r(a,this.wrap,a,f,v),new _r(a,this.wrap,a,f+1,v),new _r(a,this.wrap,a,f,v+1),new _r(a,this.wrap,a,f+1,v+1)]}isLessThan(n){return this.wrap<n.wrap||!(this.wrap>n.wrap)&&(this.overscaledZ<n.overscaledZ||!(this.overscaledZ>n.overscaledZ)&&(this.canonical.x<n.canonical.x||!(this.canonical.x>n.canonical.x)&&this.canonical.y<n.canonical.y))}wrapped(){return new _r(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(n){return new _r(this.overscaledZ,n,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new Wn(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function Rr(c,n,a,f,v){const h=1<<Math.min(a,22);let y=h*(v%h)+f%h;return c&&a<22&&(y+=h*h*((c<0?-2*c-1:2*c)%(1<<2*(22-a)))),16*(32*y+a)+(n-a)}const oi=[c=>{let n=c.canonical.x-1,a=c.wrap;return n<0&&(n=(1<<c.canonical.z)-1,a--),new _r(c.overscaledZ,a,c.canonical.z,n,c.canonical.y)},c=>{let n=c.canonical.x+1,a=c.wrap;return n===1<<c.canonical.z&&(n=0,a++),new _r(c.overscaledZ,a,c.canonical.z,n,c.canonical.y)},c=>new _r(c.overscaledZ,c.wrap,c.canonical.z,c.canonical.x,(c.canonical.y===0?1<<c.canonical.z:c.canonical.y)-1),c=>new _r(c.overscaledZ,c.wrap,c.canonical.z,c.canonical.x,c.canonical.y===(1<<c.canonical.z)-1?0:c.canonical.y+1)];bi(ar,"CanonicalTileID"),bi(_r,"OverscaledTileID",{omit:["projMatrix","expandedProjMatrix"]});const mi=us([{type:"Float32",name:"a_globe_pos",components:3},{type:"Float32",name:"a_uv",components:2}]),{members:Co}=mi,Vi=us([{name:"a_pos_3",components:3,type:"Int16"}]);var Wi=us([{name:"a_pos",type:"Int16",components:2}]);class Ao{constructor(n,a){this.pos=n,this.dir=a}intersectsPlane(n,a,f){const v=J.vec3.dot(a,this.dir);if(Math.abs(v)<1e-6)return!1;const h=((n[0]-this.pos[0])*a[0]+(n[1]-this.pos[1])*a[1]+(n[2]-this.pos[2])*a[2])/v;return f[0]=this.pos[0]+this.dir[0]*h,f[1]=this.pos[1]+this.dir[1]*h,f[2]=this.pos[2]+this.dir[2]*h,!0}closestPointOnSphere(n,a,f){if(J.vec3.equals(this.pos,n)||a===0)return f[0]=f[1]=f[2]=0,!1;const[v,h,y]=this.dir,E=this.pos[0]-n[0],O=this.pos[1]-n[1],L=this.pos[2]-n[2],C=v*v+h*h+y*y,$=2*(E*v+O*h+L*y),z=$*$-4*C*(E*E+O*O+L*L-a*a);if(z<0){const P=Math.max(-$/2,0),A=E+v*P,k=O+h*P,X=L+y*P,ee=Math.hypot(A,k,X);return f[0]=A*a/ee,f[1]=k*a/ee,f[2]=X*a/ee,!1}{const P=(-$-Math.sqrt(z))/(2*C);if(P<0){const A=Math.hypot(E,O,L);return f[0]=E*a/A,f[1]=O*a/A,f[2]=L*a/A,!1}return f[0]=E+v*P,f[1]=O+h*P,f[2]=L+y*P,!0}}}class Ga{constructor(n,a,f,v,h){this.TL=n,this.TR=a,this.BR=f,this.BL=v,this.horizon=h}static fromInvProjectionMatrix(n,a,f){const v=[-1,1,1],h=[1,1,1],y=[1,-1,1],E=[-1,-1,1],O=J.vec3.transformMat4(v,v,n),L=J.vec3.transformMat4(h,h,n),C=J.vec3.transformMat4(y,y,n),$=J.vec3.transformMat4(E,E,n);return new Ga(O,L,C,$,a/f)}}function bs(c,n,a){let f=1/0,v=-1/0;const h=[];for(const y of c){J.vec3.sub(h,y,n);const E=J.vec3.dot(h,a);f=Math.min(f,E),v=Math.max(v,E)}return[f,v]}function ll(c,n){let a=!0;for(let f=0;f<c.planes.length;f++){const v=c.planes[f];let h=0;for(let y=0;y<n.length;y++)h+=J.vec3.dot(v,n[y])+v[3]>=0;if(h===0)return 0;h!==n.length&&(a=!1)}return a?2:1}function Ys(c,n){for(const a of c.projections){const f=bs(n,c.points[0],a.axis);if(a.projection[1]<f[0]||a.projection[0]>f[1])return 0}return 1}function Go(c,n){let a=0;const f=[0,0,0,0];for(let v=0;v<c.length;v++)f[0]=c[v][0],f[1]=c[v][1],f[2]=c[v][2],f[3]=1,J.vec4.dot(f,n)>=0&&a++;return a}class Ja{constructor(n,a){this.points=n||new Array(8).fill([0,0,0]),this.planes=a||new Array(6).fill([0,0,0,0]),this.bounds=Ni.fromPoints(this.points),this.projections=[],this.frustumEdges=[J.vec3.sub([],this.points[2],this.points[3]),J.vec3.sub([],this.points[0],this.points[3]),J.vec3.sub([],this.points[4],this.points[0]),J.vec3.sub([],this.points[5],this.points[1]),J.vec3.sub([],this.points[6],this.points[2]),J.vec3.sub([],this.points[7],this.points[3])];for(const f of this.frustumEdges){const v=[0,-f[2],f[1]],h=[f[2],0,-f[0]];this.projections.push({axis:v,projection:bs(this.points,this.points[0],v)}),this.projections.push({axis:h,projection:bs(this.points,this.points[0],h)})}}static fromInvProjectionMatrix(n,a,f,v){const h=Math.pow(2,f),y=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(L=>{const C=J.vec4.transformMat4([],L,n),$=1/C[3]/a*h;return J.vec4.mul(C,C,[$,$,v?1/C[3]:$,$])}),E=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(L=>{const C=J.vec3.sub([],y[L[0]],y[L[1]]),$=J.vec3.sub([],y[L[2]],y[L[1]]),z=J.vec3.normalize([],J.vec3.cross([],C,$)),P=-J.vec3.dot(z,y[L[1]]);return z.concat(P)}),O=[];for(let L=0;L<y.length;L++)O.push([y[L][0],y[L][1],y[L][2]]);return new Ja(O,E)}intersectsPrecise(n,a,f){for(let v=0;v<a.length;v++)if(!Go(n,a[v]))return 0;for(let v=0;v<this.planes.length;v++)if(!Go(n,this.planes[v]))return 0;for(const v of f)for(const h of this.frustumEdges){const y=J.vec3.cross([],v,h),E=J.vec3.length(y);if(E===0)continue;J.vec3.scale(y,y,1/E);const O=bs(this.points,this.points[0],y),L=bs(n,this.points[0],y);if(O[0]>L[1]||L[0]>O[1])return 0}return 1}containsPoint(n){for(const a of this.planes){const f=a[3];if(J.vec3.dot([a[0],a[1],a[2]],n)+f<0)return!1}return!0}}class Ni{static fromPoints(n){const a=[1/0,1/0,1/0],f=[-1/0,-1/0,-1/0];for(const v of n)J.vec3.min(a,a,v),J.vec3.max(f,f,v);return new Ni(a,f)}static fromTileIdAndHeight(n,a,f){const v=1<<n.canonical.z,h=n.canonical.x,y=n.canonical.y;return new Ni([h/v,y/v,a],[(h+1)/v,(y+1)/v,f])}static applyTransform(n,a){const f=n.getCorners();for(let v=0;v<f.length;++v)J.vec3.transformMat4(f[v],f[v],a);return Ni.fromPoints(f)}static applyTransformFast(n,a){const f=[a[12],a[13],a[14]],v=[...f];for(let h=0;h<3;h++)for(let y=0;y<3;y++){const E=a[4*y+h],O=E*n.min[y],L=E*n.max[y];f[h]+=Math.min(O,L),v[h]+=Math.max(O,L)}return new Ni(f,v)}static projectAabbCorners(n,a){const f=n.getCorners();for(let v=0;v<f.length;++v)J.vec3.transformMat4(f[v],f[v],a);return f}constructor(n,a){this.min=n,this.max=a,this.center=J.vec3.scale([],J.vec3.add([],this.min,this.max),.5)}quadrant(n){const a=[n%2==0,n<2],f=J.vec3.clone(this.min),v=J.vec3.clone(this.max);for(let h=0;h<a.length;h++)f[h]=a[h]?this.min[h]:this.center[h],v[h]=a[h]?this.center[h]:this.max[h];return v[2]=this.max[2],new Ni(f,v)}distanceX(n){return Math.max(Math.min(this.max[0],n[0]),this.min[0])-n[0]}distanceY(n){return Math.max(Math.min(this.max[1],n[1]),this.min[1])-n[1]}distanceZ(n){return Math.max(Math.min(this.max[2],n[2]),this.min[2])-n[2]}getCorners(){const n=this.min,a=this.max;return[[n[0],n[1],n[2]],[a[0],n[1],n[2]],[a[0],a[1],n[2]],[n[0],a[1],n[2]],[n[0],n[1],a[2]],[a[0],n[1],a[2]],[a[0],a[1],a[2]],[n[0],a[1],a[2]]]}intersects(n){return this.intersectsAabb(n.bounds)?ll(n,this.getCorners()):0}intersectsFlat(n){return this.intersectsAabb(n.bounds)?ll(n,[[this.min[0],this.min[1],0],[this.max[0],this.min[1],0],[this.max[0],this.max[1],0],[this.min[0],this.max[1],0]]):0}intersectsPrecise(n,a){return a||this.intersects(n)?Ys(n,this.getCorners()):0}intersectsPreciseFlat(n,a){return a||this.intersectsFlat(n)?Ys(n,[[this.min[0],this.min[1],0],[this.max[0],this.min[1],0],[this.max[0],this.max[1],0],[this.min[0],this.max[1],0]]):0}intersectsAabb(n){for(let a=0;a<3;++a)if(this.min[a]>n.max[a]||n.min[a]>this.max[a])return!1;return!0}intersectsAabbXY(n){return!(this.min[0]>n.max[0]||n.min[0]>this.max[0]||this.min[1]>n.max[1]||n.min[1]>this.max[1])}encapsulate(n){for(let a=0;a<3;a++)this.min[a]=Math.min(this.min[a],n.min[a]),this.max[a]=Math.max(this.max[a],n.max[a])}encapsulatePoint(n){for(let a=0;a<3;a++)this.min[a]=Math.min(this.min[a],n[a]),this.max[a]=Math.max(this.max[a],n[a])}closestPoint(n){return[Math.max(Math.min(this.max[0],n[0]),this.min[0]),Math.max(Math.min(this.max[1],n[1]),this.min[1]),Math.max(Math.min(this.max[2],n[2]),this.min[2])]}}function Ba(c){return c*wc/_f}bi(Ni,"Aabb");const fs=[new Ni([Zc,Zc,Zc],[Vc,Vc,Vc]),new Ni([Zc,Zc,Zc],[0,0,Vc]),new Ni([0,Zc,Zc],[Vc,0,Vc]),new Ni([Zc,0,Zc],[0,Vc,Vc]),new Ni([0,0,Zc],[Vc,Vc,Vc])];function Ka(c,n,a,f=!0){const v=J.vec3.scale([],c._camera.position,c.worldSize),h=[n,a,1,1];J.vec4.transformMat4(h,h,c.pixelMatrixInverse),J.vec4.scale(h,h,1/h[3]);const y=J.vec3.sub([],h,v),E=J.vec3.normalize([],y),O=c.globeMatrix,L=[O[12],O[13],O[14]],C=J.vec3.sub([],L,v),$=J.vec3.length(C),z=J.vec3.normalize([],C),P=c.worldSize/(2*Math.PI),A=J.vec3.dot(z,E),k=Math.asin(P/$);if(k<Math.acos(A)){if(!f)return null;const Ct=[],at=[];J.vec3.scale(Ct,E,$/A),J.vec3.normalize(at,J.vec3.sub(at,Ct,C)),J.vec3.normalize(E,J.vec3.add(E,C,J.vec3.scale(E,at,Math.tan(k)*$)))}const X=[];new Ao(v,E).closestPointOnSphere(L,P,X);const ee=J.vec3.normalize([],Cn(O,0)),le=J.vec3.normalize([],Cn(O,1)),ue=J.vec3.normalize([],Cn(O,2)),ie=J.vec3.dot(ee,X),ye=J.vec3.dot(le,X),Se=J.vec3.dot(ue,X),$e=dr(Math.asin(-ye/P));let et=dr(Math.atan2(ie,Se));et=c.center.lng+function(Ct,at){const St=(at-Ct+180)%360-180;return St<-180?St+360:St}(c.center.lng,et);const Ye=Tu(et),Xe=ri(Mu($e),0,1);return new l(Ye,Xe)}class sl{constructor(n,a,f){this.a=J.vec3.sub([],n,f),this.b=J.vec3.sub([],a,f),this.center=f;const v=J.vec3.normalize([],this.a),h=J.vec3.normalize([],this.b);this.angle=Math.acos(J.vec3.dot(v,h))}}function Vl(c,n){if(c.angle===0)return null;let a;return a=c.a[n]===0?1/c.angle*.5*Math.PI:1/c.angle*Math.atan(c.b[n]/c.a[n]/Math.sin(c.angle)-1/Math.tan(c.angle)),a<0||a>1?null:function(f,v,h,y){const E=Math.sin(h);return f*(Math.sin((1-y)*h)/E)+v*(Math.sin(y*h)/E)}(c.a[n],c.b[n],c.angle,ri(a,0,1))+c.center[n]}function Ol(c){if(c.z<=1)return fs[c.z+2*c.y+c.x];const n=Ls(rl(c));return Ni.fromPoints(n)}function $l(c,n,a){return J.vec3.scale(c,c,1-a),J.vec3.scaleAndAdd(c,c,n,a)}function Hc(c,n,a){for(const f of c)J.vec3.transformMat4(f,f,n),J.vec3.scale(f,f,a)}function mc(c,n,a,f){const v=n/c.worldSize,h=c.globeMatrix;if(a.z<=1){const Ye=Ol(a).getCorners();return Hc(Ye,h,v),Ni.fromPoints(Ye)}const y=rl(a,f),E=Ls(y,wc+Ba(c._tileCoverLift));Hc(E,h,v);const O=Number.MAX_VALUE,L=[-O,-O,-O],C=[O,O,O];if(y.contains(c.center)){for(const Ct of E)J.vec3.min(C,C,Ct),J.vec3.max(L,L,Ct);L[2]=0;const Ye=c.point,Xe=[Ye.x*v,Ye.y*v,0];return J.vec3.min(C,C,Xe),J.vec3.max(L,L,Xe),new Ni(C,L)}if(c._tileCoverLift>0){for(const Ye of E)J.vec3.min(C,C,Ye),J.vec3.max(L,L,Ye);return new Ni(C,L)}const $=[h[12]*v,h[13]*v,h[14]*v],z=y.getCenter(),P=ri(c.center.lat,-gl,gl),A=ri(z.lat,-gl,gl),k=Tu(c.center.lng),X=Mu(P);let ee=k-Tu(z.lng);const le=X-Mu(A);ee>.5?ee-=1:ee<-.5&&(ee+=1);let ue=0;if(Math.abs(ee)>Math.abs(le))ue=ee>=0?1:3;else{ue=le>=0?0:2;const Ye=[h[4]*v,h[5]*v,h[6]*v],Xe=-Math.sin(or(le>=0?y.getSouth():y.getNorth()))*wc;J.vec3.scaleAndAdd($,$,Ye,Xe)}const ie=E[ue],ye=E[(ue+1)%4],Se=new sl(ie,ye,$),$e=[Vl(Se,0)||ie[0],Vl(Se,1)||ie[1],Vl(Se,2)||ie[2]],et=Tc(c.zoom);if(et>0){const Ye=function({x:Ct,y:at,z:St},At,$t,Ft,Yt){const un=1/(1<<St);let Wt=Ct*un,jn=Wt+un,cr=at*un,kn=cr+un,Yr=0;const kr=(Wt+jn)/2-Ft;return kr>.5?Yr=-1:kr<-.5&&(Yr=1),Wt=((Wt+Yr)*At-(Ft*=At))*$t+Ft,jn=((jn+Yr)*At-Ft)*$t+Ft,cr=(cr*At-(Yt*=At))*$t+Yt,kn=(kn*At-Yt)*$t+Yt,[[Wt,kn,0],[jn,kn,0],[jn,cr,0],[Wt,cr,0]]}(a,n,c._pixelsPerMercatorPixel,k,X);for(let Ct=0;Ct<E.length;Ct++)$l(E[Ct],Ye[Ct],et);const Xe=J.vec3.add([],Ye[ue],Ye[(ue+1)%4]);J.vec3.scale(Xe,Xe,.5),$l($e,Xe,et)}for(const Ye of E)J.vec3.min(C,C,Ye),J.vec3.max(L,L,Ye);return C[2]=Math.min(ie[2],ye[2]),J.vec3.min(C,C,$e),J.vec3.max(L,L,$e),new Ni(C,L)}function rl({x:c,y:n,z:a},f=!1){const v=1/(1<<a),h=new os(Dc(c*v),n===(1<<a)-1&&f?-90:Kl((n+1)*v)),y=new os(Dc((c+1)*v),n===0&&f?90:Kl(n*v));return new Qu(h,y)}function Ls(c,n=wc){const a=or(c.getNorth()),f=or(c.getSouth()),v=Math.cos(a),h=Math.cos(f),y=Math.sin(a),E=Math.sin(f),O=c.getWest(),L=c.getEast();return[Kf(h,E,O,n),Kf(h,E,L,n),Kf(v,y,L,n),Kf(v,y,O,n)]}function Rs(c,n,a,f){const v=1<<a.z,h=(c/Fr+a.x)/v;return Yf(Kl((n/Fr+a.y)/v),Dc(h),f)}function Xa({min:c,max:n}){return O0/Math.max(n[0]-c[0],n[1]-c[1],n[2]-c[2])}const hl=new Float64Array(16);function Hl(c){const n=Xa(c),a=J.mat4.fromScaling(hl,[n,n,n]);return J.mat4.translate(a,a,J.vec3.negate([],c.min))}function Bs(c){const n=J.mat4.fromTranslation(hl,c.min),a=1/Xa(c);return J.mat4.scale(n,n,[a,a,a])}function nc(c){const n=Fr/(2*Math.PI);return c/(2*Math.PI)/n}function tu(c,n){return Fr/(512*Math.pow(2,c))*Xa(Ol(n))}function zc(c,n,a,f,v){const h=nc(a),y=[c,n,-a/(2*Math.PI)],E=J.mat4.identity(new Float64Array(16));return J.mat4.translate(E,E,y),J.mat4.scale(E,E,[h,h,h]),J.mat4.rotateX(E,E,or(-v)),J.mat4.rotateY(E,E,or(-f)),E}function Tc(c){return Ko(yf,oy,c)}function nu(c,n){const a=Yf(n.lat,n.lng),f=function(h){const y=Yf(h._center.lat,h._center.lng),E=J.vec3.fromValues(0,1,0);let O=J.vec3.cross([],E,y);const L=J.mat4.fromRotation([],-h.angle,y);O=J.vec3.transformMat4(O,O,L),J.mat4.fromRotation(L,-h._pitch,O);const C=J.vec3.normalize([],y);return J.vec3.scale(C,C,Ba(h.cameraToCenterDistance/h.pixelsPerMeter)),J.vec3.transformMat4(C,C,L),J.vec3.add([],y,C)}(c),v=J.vec3.subtract([],f,a);return J.vec3.angle(v,a)}function ru(c,n){return nu(c,n)>Math.PI/2*1.01}const Mc=or(85),Id=Math.cos(Mc),fu=Math.sin(Mc),Td=J.mat4.create(),bf=c=>{const n=[];return c.paint.get("circle-pitch-alignment")==="map"&&n.push("PITCH_WITH_MAP"),c.paint.get("circle-pitch-scale")==="map"&&n.push("SCALE_WITH_MAP"),n};function ed(c,n,a,f,v,h,y,E,O){if(h&&c.queryGeometry.isAboveHorizon)return!1;h&&(O*=c.pixelToTileUnitsFactor);const L=c.tileID.canonical,C=a.projection.upVectorScale(L,a.center.lat,a.worldSize).metersToTile;for(const $ of n)for(const z of $){const P=z.add(E),A=v&&a.elevation?a.elevation.exaggeration()*v.getElevationAt(P.x,P.y,!0):0,k=a.projection.projectTilePoint(P.x,P.y,L);if(A>0){const ue=a.projection.upVector(L,P.x,P.y);k.x+=ue[0]*C*A,k.y+=ue[1]*C*A,k.z+=ue[2]*C*A}const X=h?P:qp(k.x,k.y,k.z,f),ee=h?c.tilespaceRays.map(ue=>mb(ue,A)):c.queryGeometry.screenGeometry,le=J.vec4.transformMat4([],[k.x,k.y,k.z,1],f);if(!y&&h?O*=le[3]/a.cameraToCenterDistance:y&&!h&&(O*=a.cameraToCenterDistance/le[3]),h){const ue=Kl((z.y/Fr+L.y)/(1<<L.z));O/=a.projection.pixelsPerMeter(ue,1)/sc(1,ue)}if(Re(ee,X,O))return!0}return!1}function qp(c,n,a,f){const v=J.vec4.transformMat4([],[c,n,a,1],f);return new Sn(v[0]/v[3],v[1]/v[3])}const pb=J.vec3.fromValues(0,0,0),PC=J.vec3.fromValues(0,0,1);function mb(c,n){const a=J.vec3.create();return pb[2]=n,c.intersectsPlane(pb,PC,a),new Sn(a[0],a[1])}class gb extends Te{}let vb,yb,_b,A0;function bb(c,{width:n,height:a},f,v){if(v){if(v instanceof Uint8ClampedArray)v=new Uint8Array(v.buffer);else if(v.length!==n*a*f)throw new RangeError("mismatched image size")}else v=new Uint8Array(n*a*f);return c.width=n,c.height=a,c.data=v,c}function sy(c,n,a){const{width:f,height:v}=n;f===c.width&&v===c.height||(ly(c,n,{x:0,y:0},{x:0,y:0},{width:Math.min(c.width,f),height:Math.min(c.height,v)},a,null),c.width=f,c.height=v,c.data=n.data)}function ly(c,n,a,f,v,h,y,E){if(v.width===0||v.height===0)return n;if(v.width>c.width||v.height>c.height||a.x>c.width-v.width||a.y>c.height-v.height)throw new RangeError("out of range source coordinates for image copy");if(v.width>n.width||v.height>n.height||f.x>n.width-v.width||f.y>n.height-v.height)throw new RangeError("out of range destination coordinates for image copy");const O=c.data,L=n.data,C=h===4&&E;for(let $=0;$<v.height;$++){const z=((a.y+$)*c.width+a.x)*h,P=((f.y+$)*n.width+f.x)*h;if(C)for(let A=0;A<v.width;A++){const k=z+A*h+3,X=P+A*h;L[X+0]=255,L[X+1]=255,L[X+2]=255,L[X+3]=O[k]}else if(y)for(let A=0;A<v.width;A++){const k=z+A*h,X=P+A*h,ee=O[k+3],le=new no(O[k+0]/255*ee,O[k+1]/255*ee,O[k+2]/255*ee,ee).toRenderColor(y).toArray();L[X+0]=le[0],L[X+1]=le[1],L[X+2]=le[2],L[X+3]=le[3]}else for(let A=0;A<v.width*h;A++)L[P+A]=O[z+A]}return n}bi(gb,"HeatmapBucket",{omit:["layers"]});class Qf{constructor(n,a){bb(this,n,1,a)}resize(n){sy(this,new Qf(n),1)}clone(){return new Qf({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(n,a,f,v,h){ly(n,a,f,v,h,1,null)}}class Yl{constructor(n,a){bb(this,n,4,a)}resize(n){sy(this,new Yl(n),4)}replace(n,a){a?this.data.set(n):this.data=n instanceof Uint8ClampedArray?new Uint8Array(n.buffer):n}clone(){return new Yl({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(n,a,f,v,h,y,E){ly(n,a,f,v,h,4,y,E)}}class xb{constructor(n,a){this.width=n.width,this.height=n.height,this.data=a instanceof Uint8Array?new Float32Array(a.buffer):a}}function Qm(c){const n={},a=c.resolution||256,f=c.clips?c.clips.length:1,v=c.image||new Yl({width:a,height:f}),h=(y,E,O)=>{n[c.evaluationKey]=O;const L=c.expression.evaluate(n);L&&(v.data[y+E+0]=Math.floor(255*L.r/L.a),v.data[y+E+1]=Math.floor(255*L.g/L.a),v.data[y+E+2]=Math.floor(255*L.b/L.a),v.data[y+E+3]=Math.floor(255*L.a))};if(c.clips)for(let y=0,E=0;y<f;++y,E+=4*a)for(let O=0,L=0;O<a;O++,L+=4){const C=O/(a-1),{start:$,end:z}=c.clips[y];h(E,L,$*(1-C)+z*C)}else for(let y=0,E=0;y<a;y++,E+=4)h(0,E,y/(a-1));return v}bi(Qf,"AlphaImage"),bi(Yl,"RGBAImage");const OC=us([{name:"a_pos",components:2,type:"Int16"}],4),{members:Cb}=OC;function eg(c,n,a=2){const f=n&&n.length,v=f?n[0]*a:c.length;let h=wb(c,0,v,a,!0);const y=[];if(!h||h.next===h.prev)return y;let E,O,L;if(f&&(h=function(C,$,z,P){const A=[];for(let k=0,X=$.length;k<X;k++){const ee=wb(C,$[k]*P,k<X-1?$[k+1]*P:C.length,P,!1);ee===ee.next&&(ee.steiner=!0),A.push(zC(ee))}A.sort(AC);for(let k=0;k<A.length;k++)z=DC(A[k],z);return z}(c,n,h,a)),c.length>80*a){E=1/0,O=1/0;let C=-1/0,$=-1/0;for(let z=a;z<v;z+=a){const P=c[z],A=c[z+1];P<E&&(E=P),A<O&&(O=A),P>C&&(C=P),A>$&&($=A)}L=Math.max(C-E,$-O),L=L!==0?32767/L:0}return D0(h,y,a,E,O,L,0),y}function wb(c,n,a,f,v){let h;if(v===function(y,E,O,L){let C=0;for(let $=E,z=O-L;$<O;$+=L)C+=(y[z]-y[$])*(y[$+1]+y[z+1]),z=$;return C}(c,n,a,f)>0)for(let y=n;y<a;y+=f)h=hy(y/f|0,c[y],c[y+1],h);else for(let y=a-f;y>=n;y-=f)h=hy(y/f|0,c[y],c[y+1],h);return h&&dy(h,h.next)&&(Jh(h),h=h.next),h}function eh(c,n){if(!c)return c;n||(n=c);let a,f=c;do if(a=!1,f.steiner||!dy(f,f.next)&&Ul(f.prev,f,f.next)!==0)f=f.next;else{if(Jh(f),f=n=f.prev,f===f.next)break;a=!0}while(a||f!==n);return n}function D0(c,n,a,f,v,h,y){if(!c)return;!y&&h&&function(O,L,C,$){let z=O;do z.z===0&&(z.z=uy(z.x,z.y,L,C,$)),z.prevZ=z.prev,z.nextZ=z.next,z=z.next;while(z!==O);z.prevZ.nextZ=null,z.prevZ=null,function(P){let A,k=1;do{let X,ee=P;P=null;let le=null;for(A=0;ee;){A++;let ue=ee,ie=0;for(let Se=0;Se<k&&(ie++,ue=ue.nextZ,ue);Se++);let ye=k;for(;ie>0||ye>0&&ue;)ie!==0&&(ye===0||!ue||ee.z<=ue.z)?(X=ee,ee=ee.nextZ,ie--):(X=ue,ue=ue.nextZ,ye--),le?le.nextZ=X:P=X,X.prevZ=le,le=X;ee=ue}le.nextZ=null,k*=2}while(A>1)}(z)}(c,f,v,h);let E=c;for(;c.prev!==c.next;){const O=c.prev,L=c.next;if(h?eE(c,f,v,h):Q2(c))n.push(O.i,c.i,L.i),Jh(c),c=L.next,E=L.next;else if((c=L)===E){y?y===1?D0(c=$C(eh(c),n),n,a,f,v,h,2):y===2&&RC(c,n,a,f,v,h):D0(eh(c),n,a,f,v,h,1);break}}}function Q2(c){const n=c.prev,a=c,f=c.next;if(Ul(n,a,f)>=0)return!1;const v=n.x,h=a.x,y=f.x,E=n.y,O=a.y,L=f.y,C=v<h?v<y?v:y:h<y?h:y,$=E<O?E<L?E:L:O<L?O:L,z=v>h?v>y?v:y:h>y?h:y,P=E>O?E>L?E:L:O>L?O:L;let A=f.next;for(;A!==n;){if(A.x>=C&&A.x<=z&&A.y>=$&&A.y<=P&&Il(v,E,h,O,y,L,A.x,A.y)&&Ul(A.prev,A,A.next)>=0)return!1;A=A.next}return!0}function eE(c,n,a,f){const v=c.prev,h=c,y=c.next;if(Ul(v,h,y)>=0)return!1;const E=v.x,O=h.x,L=y.x,C=v.y,$=h.y,z=y.y,P=E<O?E<L?E:L:O<L?O:L,A=C<$?C<z?C:z:$<z?$:z,k=E>O?E>L?E:L:O>L?O:L,X=C>$?C>z?C:z:$>z?$:z,ee=uy(P,A,n,a,f),le=uy(k,X,n,a,f);let ue=c.prevZ,ie=c.nextZ;for(;ue&&ue.z>=ee&&ie&&ie.z<=le;){if(ue.x>=P&&ue.x<=k&&ue.y>=A&&ue.y<=X&&ue!==v&&ue!==y&&Il(E,C,O,$,L,z,ue.x,ue.y)&&Ul(ue.prev,ue,ue.next)>=0||(ue=ue.prevZ,ie.x>=P&&ie.x<=k&&ie.y>=A&&ie.y<=X&&ie!==v&&ie!==y&&Il(E,C,O,$,L,z,ie.x,ie.y)&&Ul(ie.prev,ie,ie.next)>=0))return!1;ie=ie.nextZ}for(;ue&&ue.z>=ee;){if(ue.x>=P&&ue.x<=k&&ue.y>=A&&ue.y<=X&&ue!==v&&ue!==y&&Il(E,C,O,$,L,z,ue.x,ue.y)&&Ul(ue.prev,ue,ue.next)>=0)return!1;ue=ue.prevZ}for(;ie&&ie.z<=le;){if(ie.x>=P&&ie.x<=k&&ie.y>=A&&ie.y<=X&&ie!==v&&ie!==y&&Il(E,C,O,$,L,z,ie.x,ie.y)&&Ul(ie.prev,ie,ie.next)>=0)return!1;ie=ie.nextZ}return!0}function $C(c,n){let a=c;do{const f=a.prev,v=a.next.next;!dy(f,v)&&Sb(f,a,a.next,v)&&tg(f,v)&&tg(v,f)&&(n.push(f.i,a.i,v.i),Jh(a),Jh(a.next),a=c=v),a=a.next}while(a!==c);return eh(a)}function RC(c,n,a,f,v,h){let y=c;do{let E=y.next.next;for(;E!==y.prev;){if(y.i!==E.i&&tE(y,E)){let O=fy(y,E);return y=eh(y,y.next),O=eh(O,O.next),D0(y,n,a,f,v,h,0),void D0(O,n,a,f,v,h,0)}E=E.next}y=y.next}while(y!==c)}function AC(c,n){return c.x-n.x}function DC(c,n){const a=function(v,h){let y=h;const E=v.x,O=v.y;let L,C=-1/0;do{if(O<=y.y&&O>=y.next.y&&y.next.y!==y.y){const k=y.x+(O-y.y)*(y.next.x-y.x)/(y.next.y-y.y);if(k<=E&&k>C&&(C=k,L=y.x<y.next.x?y:y.next,k===E))return L}y=y.next}while(y!==h);if(!L)return null;const $=L,z=L.x,P=L.y;let A=1/0;y=L;do{if(E>=y.x&&y.x>=z&&E!==y.x&&Il(O<P?E:C,O,z,P,O<P?C:E,O,y.x,y.y)){const k=Math.abs(O-y.y)/(E-y.x);tg(y,v)&&(k<A||k===A&&(y.x>L.x||y.x===L.x&&cy(L,y)))&&(L=y,A=k)}y=y.next}while(y!==$);return L}(c,n);if(!a)return n;const f=fy(a,c);return eh(f,f.next),eh(a,a.next)}function cy(c,n){return Ul(c.prev,c,n.prev)<0&&Ul(n.next,c,c.next)<0}function uy(c,n,a,f,v){return(c=1431655765&((c=858993459&((c=252645135&((c=16711935&((c=(c-a)*v|0)|c<<8))|c<<4))|c<<2))|c<<1))|(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=(n-f)*v|0)|n<<8))|n<<4))|n<<2))|n<<1))<<1}function zC(c){let n=c,a=c;do(n.x<a.x||n.x===a.x&&n.y<a.y)&&(a=n),n=n.next;while(n!==c);return a}function Il(c,n,a,f,v,h,y,E){return(v-y)*(n-E)>=(c-y)*(h-E)&&(c-y)*(f-E)>=(a-y)*(n-E)&&(a-y)*(h-E)>=(v-y)*(f-E)}function tE(c,n){return c.next.i!==n.i&&c.prev.i!==n.i&&!function(a,f){let v=a;do{if(v.i!==a.i&&v.next.i!==a.i&&v.i!==f.i&&v.next.i!==f.i&&Sb(v,v.next,a,f))return!0;v=v.next}while(v!==a);return!1}(c,n)&&(tg(c,n)&&tg(n,c)&&function(a,f){let v=a,h=!1;const y=(a.x+f.x)/2,E=(a.y+f.y)/2;do v.y>E!=v.next.y>E&&v.next.y!==v.y&&y<(v.next.x-v.x)*(E-v.y)/(v.next.y-v.y)+v.x&&(h=!h),v=v.next;while(v!==a);return h}(c,n)&&(Ul(c.prev,c,n.prev)||Ul(c,n.prev,n))||dy(c,n)&&Ul(c.prev,c,c.next)>0&&Ul(n.prev,n,n.next)>0)}function Ul(c,n,a){return(n.y-c.y)*(a.x-n.x)-(n.x-c.x)*(a.y-n.y)}function dy(c,n){return c.x===n.x&&c.y===n.y}function Sb(c,n,a,f){const v=L0(Ul(c,n,a)),h=L0(Ul(c,n,f)),y=L0(Ul(a,f,c)),E=L0(Ul(a,f,n));return v!==h&&y!==E||!(v!==0||!z0(c,a,n))||!(h!==0||!z0(c,f,n))||!(y!==0||!z0(a,c,f))||!(E!==0||!z0(a,n,f))}function z0(c,n,a){return n.x<=Math.max(c.x,a.x)&&n.x>=Math.min(c.x,a.x)&&n.y<=Math.max(c.y,a.y)&&n.y>=Math.min(c.y,a.y)}function L0(c){return c>0?1:c<0?-1:0}function tg(c,n){return Ul(c.prev,c,c.next)<0?Ul(c,n,c.next)>=0&&Ul(c,c.prev,n)>=0:Ul(c,n,c.prev)<0||Ul(c,c.next,n)<0}function fy(c,n){const a=Md(c.i,c.x,c.y),f=Md(n.i,n.x,n.y),v=c.next,h=n.prev;return c.next=n,n.prev=c,a.next=v,v.prev=a,f.next=a,a.prev=f,h.next=f,f.prev=h,f}function hy(c,n,a,f){const v=Md(c,n,a);return f?(v.next=f.next,v.prev=f,f.next.prev=v,f.next=v):(v.prev=v,v.next=v),v}function Jh(c){c.next.prev=c.prev,c.prev.next=c.next,c.prevZ&&(c.prevZ.nextZ=c.nextZ),c.nextZ&&(c.nextZ.prevZ=c.prevZ)}function Md(c,n,a){return{i:c,x:n,y:a,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function py(c,n){const a=c.length;if(a<=1)return[c];const f=[];let v,h;for(let y=0;y<a;y++){const E=ss(c[y]);E!==0&&(c[y].area=Math.abs(E),h===void 0&&(h=E<0),h===E<0?(v&&f.push(v),v=[c[y]]):v.push(c[y]))}if(v&&f.push(v),n>1)for(let y=0;y<f.length;y++)f[y].length<=n||(As(f[y],n,1,f[y].length-1,th),f[y]=f[y].slice(0,n));return f}function th(c,n){return n.area-c.area}function gc(c,n,a=1){if(!c)return null;const f=typeof c=="string"?c:c.getPrimary().id;n[f]||(n[f]=[]);const v=Ar.from(f).getPrimary().scaleSelf(a);return n[f].push(v),v.serialize()}function Pu(c,n,a,f){const v=f.patternDependencies;let h=!1;for(const y of n){const E=y.paint.get(`${c}-pattern`);E.isConstant()||(h=!0),gc(E.constantOr(null),v,a)&&(h=!0)}return h}function my(c,n,a,f,v,h){const y=h.patternDependencies;for(const E of n){const O=E.paint.get(`${c}-pattern`).value;if(O.kind!=="constant"){let L=O.evaluate({zoom:f},a,{},h.availableImages);L=L&&L.name?L.name:L;const C=gc(L,y,v);C&&(a.patterns[E.id]=C)}}return a}class gy{constructor(n){this.zoom=n.zoom,this.pixelRatio=n.pixelRatio,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(a=>a.fqid),this.index=n.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Xu,this.indexArray=new tc,this.indexArray2=new _d,this.programConfigurations=new Ac(n.layers,{zoom:n.zoom,lut:n.lut}),this.segments=new fl,this.segments2=new fl,this.stateDependentLayerIds=this.layers.filter(a=>a.isStateDependent()).map(a=>a.id),this.projection=n.projection}updateFootprints(n,a){}populate(n,a,f,v){this.hasPattern=Pu("fill",this.layers,this.pixelRatio,a);const h=this.layers[0].layout.get("fill-sort-key"),y=[];for(const{feature:E,id:O,index:L,sourceLayerIndex:C}of n){const $=this.layers[0]._featureFilter.needGeometry,z=te(E,$);if(!this.layers[0]._featureFilter.filter(new Xs(this.zoom),z,f))continue;const P=h?h.evaluate(z,{},f,a.availableImages):void 0,A={id:O,properties:E.properties,type:E.type,sourceLayerIndex:C,index:L,geometry:$?z.geometry:G(E,f,v),patterns:{},sortKey:P};y.push(A)}h&&y.sort((E,O)=>E.sortKey-O.sortKey);for(const E of y){const{geometry:O,index:L,sourceLayerIndex:C}=E;if(this.hasPattern){const $=my("fill",this.layers,E,this.zoom,this.pixelRatio,a);this.patternFeatures.push($)}else this.addFeature(E,O,L,f,{},a.availableImages,a.brightness,a.elevationFeatures);a.featureIndex.insert(n[L].feature,O,L,C,this.index)}}update(n,a,f,v,h,y,E){this.programConfigurations.updatePaintArrays(n,a,h,f,v,y,E)}addFeatures(n,a,f,v,h,y){for(const E of this.patternFeatures)this.addFeature(E,E.geometry,E.index,a,f,v,y,n.elevationFeatures)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(n){this.uploaded||(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,Cb),this.indexBuffer=n.createIndexBuffer(this.indexArray),this.indexBuffer2=n.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(n),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(n,a,f,v,h,y=[],E,O){for(const L of py(a,500)){let C=0;for(const X of L)C+=X.length;const $=this.segments.prepareSegment(C,this.layoutVertexArray,this.indexArray),z=$.vertexLength,P=[],A=[];for(const X of L){if(X.length===0)continue;X!==L[0]&&A.push(P.length/2);const ee=this.segments2.prepareSegment(X.length,this.layoutVertexArray,this.indexArray2),le=ee.vertexLength;this.layoutVertexArray.emplaceBack(X[0].x,X[0].y),this.indexArray2.emplaceBack(le+X.length-1,le),P.push(X[0].x),P.push(X[0].y);for(let ue=1;ue<X.length;ue++)this.layoutVertexArray.emplaceBack(X[ue].x,X[ue].y),this.indexArray2.emplaceBack(le+ue-1,le+ue),P.push(X[ue].x),P.push(X[ue].y);ee.vertexLength+=X.length,ee.primitiveLength+=X.length}const k=eg(P,A);for(let X=0;X<k.length;X+=3)this.indexArray.emplaceBack(z+k[X],z+k[X+1],z+k[X+2]);$.vertexLength+=C,$.primitiveLength+=k.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,f,h,y,v,E)}}let N0,ng,rg,ig;bi(gy,"FillBucket",{omit:["layers","patternFeatures"]});class Kp{constructor(n,a,f,v){if(this.triangleCount=a.length/3,this.min=new Sn(0,0),this.max=new Sn(0,0),this.xScale=0,this.yScale=0,this.cellsX=0,this.cellsY=0,this.cells=[],this.payload=[],this.triangleCount===0||n.length===0)return;const[h,y]=[n[0].clone(),n[0].clone()];for(let $=1;$<n.length;++$){const z=n[$];h.x=Math.min(h.x,z.x),h.y=Math.min(h.y,z.y),y.x=Math.max(y.x,z.x),y.y=Math.max(y.y,z.y)}if(v){const $=Math.ceil(Math.max(y.x-h.x,y.y-h.y)/v);f=Math.max(f,$)}if(f===0)return;this.min=h,this.max=y;const E=this.max.sub(this.min);E.x=Math.max(E.x,1),E.y=Math.max(E.y,1);const O=Math.max(E.x,E.y)/f;this.cellsX=Math.max(1,Math.ceil(E.x/O)),this.cellsY=Math.max(1,Math.ceil(E.y/O)),this.xScale=1/O,this.yScale=1/O;const L=[];for(let $=0;$<this.triangleCount;$++){const z=n[a[3*$+0]].sub(this.min),P=n[a[3*$+1]].sub(this.min),A=n[a[3*$+2]].sub(this.min),k=Pd(Math.floor(Math.min(z.x,P.x,A.x)),this.xScale,this.cellsX),X=Pd(Math.floor(Math.max(z.x,P.x,A.x)),this.xScale,this.cellsX),ee=Pd(Math.floor(Math.min(z.y,P.y,A.y)),this.yScale,this.cellsY),le=Pd(Math.floor(Math.max(z.y,P.y,A.y)),this.yScale,this.cellsY),ue=new Sn(0,0),ie=new Sn(0,0),ye=new Sn(0,0),Se=new Sn(0,0);for(let $e=ee;$e<=le;++$e){ue.y=ie.y=$e*O,ye.y=Se.y=($e+1)*O;for(let et=k;et<=X;++et)ue.x=ye.x=et*O,ie.x=Se.x=(et+1)*O,(pn(z,P,A,ue,ie,Se)||pn(z,P,A,ue,Se,ye))&&L.push({cellIdx:$e*this.cellsX+et,triIdx:$})}}if(L.length===0)return;L.sort(($,z)=>$.cellIdx-z.cellIdx||$.triIdx-z.triIdx);let C=0;for(;C<L.length;){const $=L[C].cellIdx,z={start:this.payload.length,len:0};for(;C<L.length&&L[C].cellIdx===$;)++z.len,this.payload.push(L[C++].triIdx);this.cells[$]=z}}_lazyInitLookup(){this.lookup||(this.lookup=new Uint8Array(Math.ceil(this.triangleCount/8))),this.lookup.fill(0)}queryPoint(n,a){if(this.triangleCount===0||this.cells.length===0||n.x>this.max.x||this.min.x>n.x||n.y>this.max.y||this.min.y>n.y)return;const f=Pd(n.x-this.min.x,this.xScale,this.cellsX),v=Pd(n.y-this.min.y,this.yScale,this.cellsY),h=this.cells[v*this.cellsX+f];if(h){this._lazyInitLookup();for(let y=0;y<h.len;y++){const E=this.payload[h.start+y],O=Math.floor(E/8),L=1<<E%8;if(!(this.lookup[O]&L)&&(this.lookup[O]|=L,a.push(E),a.length===this.triangleCount))return}}}query(n,a,f){if(this.triangleCount===0||this.cells.length===0||n.x>this.max.x||this.min.x>a.x||n.y>this.max.y||this.min.y>a.y)return;this._lazyInitLookup();const v=Pd(n.x-this.min.x,this.xScale,this.cellsX),h=Pd(a.x-this.min.x,this.xScale,this.cellsX),y=Pd(n.y-this.min.y,this.yScale,this.cellsY),E=Pd(a.y-this.min.y,this.yScale,this.cellsY);for(let O=y;O<=E;O++)for(let L=v;L<=h;L++){const C=this.cells[O*this.cellsX+L];if(C)for(let $=0;$<C.len;$++){const z=this.payload[C.start+$],P=Math.floor(z/8),A=1<<z%8;if(!(this.lookup[P]&A)&&(this.lookup[P]|=A,f.push(z),f.length===this.triangleCount))return}}}}function Pd(c,n,a){return Math.max(0,Math.min(a-1,Math.floor(c*n)))}bi(Kp,"TriangleGridIndex");class Eb{constructor(n){this.zoom=n.zoom,this.layers=n.layers,this.layerIds=this.layers.map(a=>a.fqid),this.index=n.index,this.hasPattern=!1,this.stateDependentLayerIds=this.layers.filter(a=>a.isStateDependent()).map(a=>a.id),this.footprints=[]}updateFootprints(n,a){for(const f of this.footprints)a.push({footprint:f,id:n})}populate(n,a,f,v){const h=[];for(const{feature:y,id:E,index:O,sourceLayerIndex:L}of n){const C=this.layers[0]._featureFilter.needGeometry,$=te(y,C);if(!this.layers[0]._featureFilter.filter(new Xs(this.zoom),$,f))continue;const z={id:E,properties:y.properties,type:y.type,sourceLayerIndex:L,index:O,geometry:C?$.geometry:G(y,f,v),patterns:{}};h.push(z)}for(const y of h){const{geometry:E,index:O,sourceLayerIndex:L}=y;this.addFeature(y,E,O,f,{},a.availableImages,a.brightness),a.featureIndex.insert(n[O].feature,E,O,L,this.index)}}isEmpty(){return this.footprints.length===0}uploadPending(){return!1}upload(n){}update(n,a,f,v,h,y,E){}destroy(){}addFeature(n,a,f,v,h,y=[],E){for(const O of py(a,2)){const L=[],C=[],$=[],z=new Sn(1/0,1/0),P=new Sn(-1/0,-1/0);for(const X of O)if(X.length!==0){X!==O[0]&&$.push(C.length/2);for(let ee=0;ee<X.length;ee++)C.push(X[ee].x),C.push(X[ee].y),L.push(X[ee]),z.x=Math.min(z.x,X[ee].x),z.y=Math.min(z.y,X[ee].y),P.x=Math.max(P.x,X[ee].x),P.y=Math.max(P.y,X[ee].y)}const A=eg(C,$),k=new Kp(L,A,8,256);this.footprints.push({vertices:L,indices:A,grid:k,min:z,max:P})}}}bi(Eb,"ClipBucket",{omit:["layers"]});const LC=us([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),NC=us([{name:"a_pos_end",components:4,type:"Int16"},{name:"a_angular_offset_factor",components:1,type:"Int16"}]),BC=us([{name:"a_centroid_pos",components:2,type:"Uint16"}]),Od=us([{name:"a_join_normal_inside",components:3,type:"Int16"}]),FC=us([{name:"a_hidden_by_landmark",components:1,type:"Uint8"}]),kC=us([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),{members:jC}=LC;var vy,Ib,yy,Tb,_y,Mb,Qh,og={};function ZC(){if(Ib)return vy;Ib=1;var c=ki();function n(v,h,y,E,O){this.properties={},this.extent=y,this.type=0,this._pbf=v,this._geometry=-1,this._keys=E,this._values=O,v.readFields(a,this,h)}function a(v,h,y){v==1?h.id=y.readVarint():v==2?function(E,O){for(var L=E.readVarint()+E.pos;E.pos<L;){var C=O._keys[E.readVarint()],$=O._values[E.readVarint()];O.properties[C]=$}}(y,h):v==3?h.type=y.readVarint():v==4&&(h._geometry=y.pos)}function f(v){for(var h,y,E=0,O=0,L=v.length,C=L-1;O<L;C=O++)E+=((y=v[C]).x-(h=v[O]).x)*(h.y+y.y);return E}return vy=n,n.types=["Unknown","Point","LineString","Polygon"],n.prototype.loadGeometry=function(){var v=this._pbf;v.pos=this._geometry;for(var h,y=v.readVarint()+v.pos,E=1,O=0,L=0,C=0,$=[];v.pos<y;){if(O<=0){var z=v.readVarint();E=7&z,O=z>>3}if(O--,E===1||E===2)L+=v.readSVarint(),C+=v.readSVarint(),E===1&&(h&&$.push(h),h=[]),h.push(new c(L,C));else{if(E!==7)throw new Error("unknown command "+E);h&&h.push(h[0].clone())}}return h&&$.push(h),$},n.prototype.bbox=function(){var v=this._pbf;v.pos=this._geometry;for(var h=v.readVarint()+v.pos,y=1,E=0,O=0,L=0,C=1/0,$=-1/0,z=1/0,P=-1/0;v.pos<h;){if(E<=0){var A=v.readVarint();y=7&A,E=A>>3}if(E--,y===1||y===2)(O+=v.readSVarint())<C&&(C=O),O>$&&($=O),(L+=v.readSVarint())<z&&(z=L),L>P&&(P=L);else if(y!==7)throw new Error("unknown command "+y)}return[C,z,$,P]},n.prototype.toGeoJSON=function(v,h,y){var E,O,L=this.extent*Math.pow(2,y),C=this.extent*v,$=this.extent*h,z=this.loadGeometry(),P=n.types[this.type];function A(ee){for(var le=0;le<ee.length;le++){var ue=ee[le];ee[le]=[360*(ue.x+C)/L-180,360/Math.PI*Math.atan(Math.exp((180-360*(ue.y+$)/L)*Math.PI/180))-90]}}switch(this.type){case 1:var k=[];for(E=0;E<z.length;E++)k[E]=z[E][0];A(z=k);break;case 2:for(E=0;E<z.length;E++)A(z[E]);break;case 3:for(z=function(ee){var le=ee.length;if(le<=1)return[ee];for(var ue,ie,ye=[],Se=0;Se<le;Se++){var $e=f(ee[Se]);$e!==0&&(ie===void 0&&(ie=$e<0),ie===$e<0?(ue&&ye.push(ue),ue=[ee[Se]]):ue.push(ee[Se]))}return ue&&ye.push(ue),ye}(z),E=0;E<z.length;E++)for(O=0;O<z[E].length;O++)A(z[E][O])}z.length===1?z=z[0]:P="Multi"+P;var X={type:"Feature",geometry:{type:P,coordinates:z},properties:this.properties};return"id"in this&&(X.id=this.id),X},vy}function Pb(){if(Tb)return yy;Tb=1;var c=ZC();function n(f,v){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=f,this._keys=[],this._values=[],this._features=[],f.readFields(a,this,v),this.length=this._features.length}function a(f,v,h){f===15?v.version=h.readVarint():f===1?v.name=h.readString():f===5?v.extent=h.readVarint():f===2?v._features.push(h.pos):f===3?v._keys.push(h.readString()):f===4&&v._values.push(function(y){for(var E=null,O=y.readVarint()+y.pos;y.pos<O;){var L=y.readVarint()>>3;E=L===1?y.readString():L===2?y.readFloat():L===3?y.readDouble():L===4?y.readVarint64():L===5?y.readVarint():L===6?y.readSVarint():L===7?y.readBoolean():null}return E}(h))}return yy=n,n.prototype.feature=function(f){if(f<0||f>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[f];var v=this._pbf.readVarint()+this._pbf.pos;return new c(this._pbf,v,this.extent,this._keys,this._values)},yy}function by(){return Qh||(Qh=1,og.VectorTile=function(){if(Mb)return _y;Mb=1;var c=Pb();function n(a,f,v){if(a===3){var h=new c(v,v.readVarint()+v.pos);h.length&&(f[h.name]=h)}}return _y=function(a,f){this.layers=a.readFields(n,{},f)},_y}(),og.VectorTileFeature=ZC(),og.VectorTileLayer=Pb()),og}var Yp=by();class nh extends Sn{constructor(n,a,f){super(n,a),this.z=f}}class Ob extends nh{constructor(n,a,f,v){super(n,a,f),this.w=v}}function Jp(c,n,a,f){const v=[],h=f===0?(y,E,O,L,C,$)=>{y.push(new Sn($,O+($-E)/(L-E)*(C-O)))}:(y,E,O,L,C,$)=>{y.push(new Sn(E+($-O)/(C-O)*(L-E),$))};for(const y of c){const E=[];for(const O of y){if(O.length<=2)continue;const L=[];for(let z=0;z<O.length-1;z++){const P=O[z].x,A=O[z].y,k=O[z+1].x,X=O[z+1].y,ee=f===0?P:A,le=f===0?k:X;ee<n?le>n&&h(L,P,A,k,X,n):ee>a?le<a&&h(L,P,A,k,X,a):L.push(O[z]),le<n&&ee>=n&&h(L,P,A,k,X,n),le>a&&ee<=a&&h(L,P,A,k,X,a)}let C=O[O.length-1];const $=f===0?C.x:C.y;$>=n&&$<=a&&L.push(C),L.length&&(C=L[L.length-1],L[0].x===C.x&&L[0].y===C.y||L.push(L[0]),E.push(L))}E.length&&v.push(E)}return v}function VC(c,n,a,f){const v=a==="x"?"y":"x",h=(f-c[a])/(n[a]-c[a]);c[v]=c[v]+(n[v]-c[v])*h,c[a]=f,c.hasOwnProperty("z")&&(c.z=si(c.z,n.z,h)),c.hasOwnProperty("w")&&(c.w=si(c.w,n.w,h))}function $b(c,n,a,f){const v=a,h=f;for(const y of["x","y"]){let E=c,O=n;E[y]>=O[y]&&(E=n,O=c),E[y]<v&&O[y]>v&&VC(E,O,y,v),E[y]<h&&O[y]>h&&VC(O,E,y,h)}}const Qp=Number.MAX_SAFE_INTEGER;function Rb(c,n,a,f){return c.order<n||c.order===Qp||!(c.clipMask&a)||function(v,h){return h.length!==0&&h.find(y=>y===v)===void 0}(f,c.clipScope)}function B0(c,n){return c.x-n.x||c.y-n.y}function xy(c,n){return B0(c.min,n.min)===0&&B0(c.max,n.max)===0}function F0(c,n){return!(c.min.x>n.max.x||c.max.x<n.min.x||c.min.y>n.max.y||c.max.y<n.min.y)}function Cy(c,n){if(c.length!==n.length)return!1;for(let a=0;a<c.length;a++)if(c[a].sourceId!==n[a].sourceId||!xy(c[a],n[a])||c[a].order!==n[a].order||c[a].clipMask!==n[a].clipMask||!ei(c[a].clipScope,n[a].clipScope))return!1;return!0}function wy(c,n,a){const f=1/Fr,v=1/(1<<a.canonical.z),h=(n.x*f+a.canonical.x)*v+a.wrap,y=(n.y*f+a.canonical.y)*v;return{min:new Sn((c.x*f+a.canonical.x)*v+a.wrap,(c.y*f+a.canonical.y)*v),max:new Sn(h,y)}}function Ab(c,n,a){const f=1<<a.canonical.z,v=((n.x-a.wrap)*f-a.canonical.x)*Fr,h=(n.y*f-a.canonical.y)*Fr;return{min:new Sn(((c.x-a.wrap)*f-a.canonical.x)*Fr,(c.y*f-a.canonical.y)*Fr),max:new Sn(v,h)}}function Db(c,n,a,f,v,h,y){const E=c.indices,O=c.vertices,L=[];for(let C=f;C<f+v;C+=3){const $=n[a[C+0]+h],z=n[a[C+1]+h],P=n[a[C+2]+h],A=Math.min($.x,z.x,P.x),k=Math.max($.x,z.x,P.x),X=Math.min($.y,z.y,P.y),ee=Math.max($.y,z.y,P.y);L.length=0,c.grid.query(new Sn(A,X),new Sn(k,ee),L);for(let le=0;le<L.length;le++){const ue=L[le];if(pn(O[E[3*ue+0]],O[E[3*ue+1]],O[E[3*ue+2]],$,z,P,y))return!0}}return!1}function zb(c,n,a,f){if(!c||!a)return!1;let v=c.vertices;if(!n.canonical.equals(f.canonical)||n.wrap!==f.wrap){if(a.vertices.length<c.vertices.length)return zb(a,f,c,n);const h=n.canonical,y=f.canonical,E=Math.pow(2,y.z-h.z);v=c.vertices.map(O=>new Sn((O.x+h.x*Fr)*E-y.x*Fr,(O.y+h.y*Fr)*E-y.y*Fr))}return Db(a,v,c.indices,0,c.indices.length,0,0)}function Sy(c,n,a,f){const v=Math.pow(2,f.z-a.z);return new Sn((c+a.x*Fr)*v-f.x*Fr,(n+a.y*Fr)*v-f.y*Fr)}function Ey(c,n){const a=[];n.grid.queryPoint(c,a);const f=n.indices,v=n.vertices;for(let h=0;h<a.length;h++){const y=a[h];if(ft([v[f[3*y+0]],v[f[3*y+1]],v[f[3*y+2]]],c))return!0}return!1}const Iy=[new Sn(0,0),new Sn(Fr,0),new Sn(Fr,Fr),new Sn(0,Fr)];function HC(c,n){const a=[];let f=[];if(!n||c.length<2)return[c];if(c.length===2)return Bt(c[0],c[1],Iy)?[c]:[];for(let v=0;v<c.length+2;v++){const h=c[v%c.length],y=c[(v+1)%c.length],E=Bt(v===0?c[c.length-1]:c[(v-1)%c.length],h,Iy),O=Bt(h,y,Iy),L=E||O;L&&f.push(h),L&&O||f.length>0&&(f.length>1&&a.push(f),f=[])}return f.length>1&&a.push(f),a}const Ty=Yp.VectorTileFeature.types,UC=["fill-extrusion-base","fill-extrusion-height","fill-extrusion-color","fill-extrusion-pattern","fill-extrusion-flood-light-wall-radius","fill-extrusion-line-width","fill-extrusion-emissive-strength"],WC=["fill-extrusion-flood-light-ground-radius"],GC=Math.pow(2,13),XC=Math.pow(2,15)-1,k0=new Sn(0,1),rh=2147483648;function ag(c,n,a,f,v,h,y,E){c.emplaceBack((n<<1)+y,(a<<1)+h,(Math.floor(f*GC)<<1)+v,Math.round(E))}function sg(c,n,a){c.emplaceBack(n.x*Fr,n.y*Fr,a?1:0)}function j0(c,n,a,f,v,h){c.emplaceBack(n.x,n.y,(a.x<<1)+f,(a.y<<1)+v,h)}function ih(c,n,a){c.emplaceBack(n.x,n.y,n.z,a[0]*16384,a[1]*16384,a[2]*16384)}class em{constructor(){this.vertexOffset=0,this.vertexCount=0,this.indexOffset=0,this.indexCount=0}}class Lb{constructor(){this.centroidXY=new Sn(0,0),this.vertexArrayOffset=0,this.vertexCount=0,this.groundVertexArrayOffset=0,this.groundVertexCount=0,this.flags=0,this.footprintSegIdx=-1,this.footprintSegLen=0,this.polygonSegIdx=-1,this.polygonSegLen=0,this.min=new Sn(Number.MAX_VALUE,Number.MAX_VALUE),this.max=new Sn(-Number.MAX_VALUE,-Number.MAX_VALUE),this.height=0}span(){return new Sn(this.max.x-this.min.x,this.max.y-this.min.y)}}class Nb{constructor(){this.acc=new Sn(0,0),this.accCount=0,this.centroidDataIndex=0}startRing(n,a){n.min.x===Number.MAX_VALUE&&(n.min.x=n.max.x=a.x,n.min.y=n.max.y=a.y)}appendEdge(n,a,f){this.accCount++,this.acc._add(a);let v=!!this.borders;a.x<n.min.x?(n.min.x=a.x,v=!0):a.x>n.max.x&&(n.max.x=a.x,v=!0),a.y<n.min.y?(n.min.y=a.y,v=!0):a.y>n.max.y&&(n.max.y=a.y,v=!0),((a.x===0||a.x===Fr)&&a.x===f.x)!=((a.y===0||a.y===Fr)&&a.y===f.y)&&this.processBorderOverlap(a,f),v&&this.checkBorderIntersection(a,f)}checkBorderIntersection(n,a){a.x<0!=n.x<0&&this.addBorderIntersection(0,si(a.y,n.y,(0-a.x)/(n.x-a.x))),a.x>Fr!=n.x>Fr&&this.addBorderIntersection(1,si(a.y,n.y,(Fr-a.x)/(n.x-a.x))),a.y<0!=n.y<0&&this.addBorderIntersection(2,si(a.x,n.x,(0-a.y)/(n.y-a.y))),a.y>Fr!=n.y>Fr&&this.addBorderIntersection(3,si(a.x,n.x,(Fr-a.y)/(n.y-a.y)))}addBorderIntersection(n,a){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const f=this.borders[n];a<f[0]&&(f[0]=a),a>f[1]&&(f[1]=a)}processBorderOverlap(n,a){if(n.x===a.x){if(n.y===a.y)return;const f=n.x===0?0:1;this.addBorderIntersection(f,a.y),this.addBorderIntersection(f,n.y)}else{const f=n.y===0?2:3;this.addBorderIntersection(f,a.x),this.addBorderIntersection(f,n.x)}}centroid(){return this.accCount===0?new Sn(0,0):new Sn(Math.floor(Math.max(0,this.acc.x)/this.accCount),Math.floor(Math.max(0,this.acc.y)/this.accCount))}intersectsCount(){return this.borders?this.borders.reduce((n,a)=>n+ +(a[0]!==Number.MAX_VALUE),0):0}}function Bb(c,n){const a=c.add(n)._unit(),f=ri(c.x*a.x+c.y*a.y,-1,1);var v,h,y;return y=Math.acos(f),Math.min(4,Math.max(-4,Math.tan(y)))/4*XC*((v=c).x*(h=n).y-v.y*h.x<0?-1:1)}const qC=[c=>c.x<0,c=>c.x>Fr,c=>c.y<0,c=>c.y>Fr];function Z0(c,n,a,f){const v=[4];if(f===0)return v;a._mult(f);const h=c.sub(a),y=n.sub(a),E=[c,n,h,y];for(let O=0;O<4;O++)for(const L of E)if(qC[O](L)){v.push(O);break}return v}class lg{constructor(n){this.vertexArray=new km,this.indexArray=new tc,this.programConfigurations=new Ac(n.layers,{zoom:n.zoom,lut:n.lut},a=>WC.includes(a)),this._segments=new fl,this.hiddenByLandmarkVertexArray=new Wm,this._segmentToGroundQuads={},this._segmentToGroundQuads[0]=[],this._segmentToRegionTriCounts={},this._segmentToRegionTriCounts[0]=[0,0,0,0,0],this.regionSegments={},this.regionSegments[4]=new fl}getDefaultSegment(){return this.regionSegments[4]}hasData(){return this.vertexArray.length!==0}addData(n,a,f,v=!1){const h=n.length;if(h>2){let y=Math.max(0,this._segments.get().length-1);const E=this._segments._prepareSegment(4*h,this.vertexArray.length,2*this._segmentToGroundQuads[y].length);let O;y!==this._segments.get().length-1&&(y++,this._segmentToGroundQuads[y]=[],this._segmentToRegionTriCounts[y]=[0,0,0,0,0]);{const L=n[0],C=n[1];O=Bb(L.sub(n[h-1])._perp()._unit(),C.sub(L)._perp()._unit())}for(let L=0;L<h;L++){const C=L===h-1?0:L+1,$=n[L],z=n[C],P=n[C===h-1?0:C+1],A=z.sub($)._perp()._unit(),k=Bb(A,P.sub(z)._perp()._unit()),X=O,ee=k;if(oh($,z,a)||v&&Zb($,a)&&Zb(z,a)){O=k;continue}const le=E.vertexLength;j0(this.vertexArray,$,z,1,1,X),j0(this.vertexArray,$,z,1,0,X),j0(this.vertexArray,$,z,0,1,ee),j0(this.vertexArray,$,z,0,0,ee),E.vertexLength+=4;const ue=Z0($,z,A,f);for(const ie of ue)this._segmentToGroundQuads[y].push({id:le,region:ie}),this._segmentToRegionTriCounts[y][ie]+=2,E.primitiveLength+=2;O=k}}}prepareBorderSegments(){if(!this.hasData())return;const n=this._segments.get(),a=n.length;for(let f=0;f<a;f++)this._segmentToGroundQuads[f].sort((v,h)=>v.region-h.region);for(let f=0;f<a;f++){const v=this._segmentToGroundQuads[f],h=n[f],y=this._segmentToRegionTriCounts[f];y.reduce((O,L)=>O+L,0);let E=0;for(let O=0;O<=4;O++){const L=y[O];if(L!==0){let C=this.regionSegments[O];C||(C=this.regionSegments[O]=new fl);const $={vertexOffset:h.vertexOffset,primitiveOffset:h.primitiveOffset+E,vertexLength:h.vertexLength,primitiveLength:L};C.get().push($)}E+=L}for(let O=0;O<v.length;O++){const L=v[O].id;this.indexArray.emplaceBack(L,L+1,L+3),this.indexArray.emplaceBack(L,L+3,L+2)}}this._segmentToGroundQuads=null,this._segmentToRegionTriCounts=null,this._segments.destroy(),this._segments=null}addPaintPropertiesData(n,a,f,v,h,y){this.hasData()&&this.programConfigurations.populatePaintArrays(this.vertexArray.length,n,a,f,v,h,y)}upload(n){this.hasData()&&(this.vertexBuffer=n.createVertexBuffer(this.vertexArray,NC.members),this.indexBuffer=n.createIndexBuffer(this.indexArray))}uploadPaintProperties(n){this.hasData()&&this.programConfigurations.upload(n)}update(n,a,f,v,h,y,E){this.hasData()&&this.programConfigurations.updatePaintArrays(n,a,f,v,h,y,E)}updateHiddenByLandmark(n){if(!this.hasData())return;const a=n.groundVertexCount+n.groundVertexArrayOffset;if(n.groundVertexCount===0)return;const f=n.flags&rh?1:0;for(let v=n.groundVertexArrayOffset;v<a;++v)this.hiddenByLandmarkVertexArray.emplace(v,f);this._needsHiddenByLandmarkUpdate=!0}uploadHiddenByLandmark(n){this.hasData()&&this._needsHiddenByLandmarkUpdate&&(!this.hiddenByLandmarkVertexBuffer&&this.hiddenByLandmarkVertexArray.length>0?this.hiddenByLandmarkVertexBuffer=n.createVertexBuffer(this.hiddenByLandmarkVertexArray,FC.members,!0):this.hiddenByLandmarkVertexBuffer&&this.hiddenByLandmarkVertexBuffer.updateData(this.hiddenByLandmarkVertexArray),this._needsHiddenByLandmarkUpdate=!1)}destroy(){if(this.vertexBuffer){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.hiddenByLandmarkVertexBuffer&&this.hiddenByLandmarkVertexBuffer.destroy(),this._segments&&this._segments.destroy(),this.programConfigurations.destroy();for(let n=0;n<=4;n++){const a=this.regionSegments[n];a&&a.destroy()}}}}class tm{constructor(n){this.zoom=n.zoom,this.canonical=n.canonical,this.overscaling=n.overscaling,this.layers=n.layers,this.pixelRatio=n.pixelRatio,this.layerIds=this.layers.map(a=>a.fqid),this.index=n.index,this.hasPattern=!1,this.edgeRadius=0,this.projection=n.projection,this.activeReplacements=[],this.replacementUpdateTime=0,this.centroidData=[],this.footprintIndices=new tc,this.footprintVertices=new Xu,this.footprintSegments=[],this.layoutVertexArray=new Rc,this.centroidVertexArray=new Ic,this.wallVertexArray=new E0,this.indexArray=new tc,this.programConfigurations=new Ac(n.layers,{zoom:n.zoom,lut:n.lut},a=>UC.includes(a)),this.segments=new fl,this.stateDependentLayerIds=this.layers.filter(a=>a.isStateDependent()).map(a=>a.id),this.groundEffect=new lg(n),this.maxHeight=0,this.partLookup={},this.triangleSubSegments=[],this.polygonSegments=[]}updateFootprints(n,a){}populate(n,a,f,v){this.features=[],this.hasPattern=Pu("fill-extrusion",this.layers,this.pixelRatio,a),this.featuresOnBorder=[],this.borderFeatureIndices=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.selfDEMTileTimestamp=Number.MAX_VALUE,this.borderDEMTileTimestamp=[Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE],this.tileToMeter=r(f),this.edgeRadius=this.layers[0].layout.get("fill-extrusion-edge-radius")/this.tileToMeter,this.wallMode=this.layers[0].paint.get("fill-extrusion-line-width").constantOr(1)!==0;for(const{feature:h,id:y,index:E,sourceLayerIndex:O}of n){const L=this.layers[0]._featureFilter.needGeometry,C=te(h,L);if(!this.layers[0]._featureFilter.filter(new Xs(this.zoom),C,f))continue;const $={id:y,sourceLayerIndex:O,index:E,geometry:L?C.geometry:G(h,f,v),properties:h.properties,type:h.type,patterns:{}},z=this.layoutVertexArray.length,P=Ty[$.type]==="Polygon";if(this.hasPattern)this.features.push(my("fill-extrusion",this.layers,$,this.zoom,this.pixelRatio,a));else if(this.wallMode)for(const A of $.geometry)for(const k of HC(A,P))this.addFeature($,[k],E,f,{},a.availableImages,v,a.brightness);else this.addFeature($,$.geometry,E,f,{},a.availableImages,v,a.brightness);a.featureIndex.insert(h,$.geometry,E,O,this.index,z)}this.sortBorders(),this.projection.name==="mercator"&&this.splitToSubtiles(),this.groundEffect.prepareBorderSegments(),this.polygonSegments.length=0}addFeatures(n,a,f,v,h,y){for(const E of this.features){const O=Ty[E.type]==="Polygon",{geometry:L}=E;if(this.wallMode)for(const C of L)for(const $ of HC(C,O))this.addFeature(E,[$],E.index,a,f,v,h,y);else this.addFeature(E,L,E.index,a,f,v,h,y)}this.sortBorders(),this.projection.name==="mercator"&&this.splitToSubtiles()}update(n,a,f,v,h,y,E){this.programConfigurations.updatePaintArrays(n,a,h,f,v,y,E),this.groundEffect.update(n,a,h,f,v,y,E)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload||this.groundEffect.programConfigurations.needsUpload}upload(n){this.uploaded||(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,jC),this.indexBuffer=n.createIndexBuffer(this.indexArray),this.wallVertexBuffer=n.createVertexBuffer(this.wallVertexArray,Od.members),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=n.createVertexBuffer(this.layoutVertexExtArray,kC.members,!0)),this.groundEffect.upload(n)),this.groundEffect.uploadPaintProperties(n),this.programConfigurations.upload(n),this.uploaded=!0}uploadCentroid(n){this.groundEffect.uploadHiddenByLandmark(n),this.needsCentroidUpdate&&(!this.centroidVertexBuffer&&this.centroidVertexArray.length>0?this.centroidVertexBuffer=n.createVertexBuffer(this.centroidVertexArray,BC.members,!0):this.centroidVertexBuffer&&this.centroidVertexBuffer.updateData(this.centroidVertexArray),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.groundEffect.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(n,a,f,v,h,y,E,O){const L=this.layers[0].paint.get("fill-extrusion-flood-light-ground-radius").evaluate(n,{})/this.tileToMeter,C=[new Sn(0,0),new Sn(Fr,Fr)],$=E.projection,z=$.name==="globe",P=this.wallMode||Ty[n.type]==="Polygon",A=new Nb;A.centroidDataIndex=this.centroidData.length;const k=new Lb,X=this.layers[0].paint.get("fill-extrusion-base").evaluate(n,{},v)<=0,ee=this.layers[0].paint.get("fill-extrusion-height").evaluate(n,{},v);let le;if(k.height=ee,k.vertexArrayOffset=this.layoutVertexArray.length,k.groundVertexArrayOffset=this.groundEffect.vertexArray.length,z&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new Np),this.wallMode){if(z)return void jr("Non zero fill-extrusion-line-width is not yet supported on globe.");if(a.length!==1)return;le=function(Xe){const Ct=Xe[0].x===Xe[Xe.length-1].x&&Xe[0].y===Xe[Xe.length-1].y;(function(br){let fr=0;const Mi=br.length;for(let ti=0;ti<Mi;ti++)fr+=(br[(ti+1)%Mi].x-br[ti].x)*(br[(ti+1)%Mi].y+br[ti].y);return fr>=0})(Xe)||(Xe=Xe.reverse());const St={geometry:[],joinNormals:[],indices:[]},At=[],$t=[],Ft=[];let Yt=Xe.length;for(;Yt>=2&&Xe[Yt-1].equals(Xe[Yt-2]);)Yt--;if(Yt<(Ct?3:2))return St;let un,Wt,jn,cr,kn,Yr=0;for(;Yr<Yt-1&&Xe[Yr].equals(Xe[Yr+1]);)Yr++;Ct&&(un=Xe[Yt-2],kn=Xe[Yr].sub(un)._unit()._perp());for(let br=Yr;br<Yt;br++){if(jn=br===Yt-1?Ct?Xe[Yr+1]:void 0:Xe[br+1],jn&&Xe[br].equals(jn))continue;kn&&(cr=kn),un&&(Wt=un),un=Xe[br],kn=jn?jn.sub(un)._unit()._perp():cr,cr=cr||kn;let fr=cr.add(kn);fr.x===0&&fr.y===0||fr._unit();const Mi=fr.x*kn.x+fr.y*kn.y,ti=Mi!==0?1/Mi:1/0,ui=cr.x*kn.y-cr.y*kn.x>0;let wo="miter";const na=2;wo==="miter"&&ti>na&&(wo="bevel"),wo==="bevel"&&(ti>100&&(wo="flipbevel"),ti<na&&(wo="miter"));const la=(ca,Ma,$a,Vs)=>{const Ms=new Sn(ca.x,ca.y),jo=new Sn(ca.x,ca.y);Ms.x+=Ma.x*Vs,Ms.y+=Ma.y*Vs,jo.x-=Ma.x*Math.max($a,1),jo.y-=Ma.y*Math.max($a,1),Ft.push(Ma),At.push(Ms),$t.push(jo)};if(wo==="miter")fr._mult(ti),la(un,fr,0,0);else if(wo==="flipbevel")fr=kn.mult(-1),la(un,fr,0,0),la(un,fr.mult(-1),0,0);else{const ca=-Math.sqrt(ti*ti-1),Ma=ui?ca:0,$a=ui?0:ca;Wt&&la(un,cr,Ma,$a),jn&&la(un,kn,Ma,$a)}}St.geometry=[...At,...$t.reverse(),At[0]],St.joinNormals=[...Ft,...Ft.reverse(),Ft[Ft.length-1]];const kr=St.geometry.length-1;for(let br=0;br<kr/2;br++)if(br+1<kr/2){let fr=br,Mi=br+1,ti=kr-1-br,ui=kr-2-br;fr=fr===0?kr-1:fr-1,Mi=Mi===0?kr-1:Mi-1,ti=ti===0?kr-1:ti-1,ui=ui===0?kr-1:ui-1,St.indices.push(ti),St.indices.push(Mi),St.indices.push(fr),St.indices.push(ti),St.indices.push(ui),St.indices.push(Mi)}return St}(a[0]),a=[le.geometry]}const ue=(Xe,Ct)=>Xe<(Ct.length-1)/2||Xe===Ct.length-1,ie=this.wallMode?[a]:py(a,500);for(let Xe=ie.length-1;Xe>=0;Xe--){const Ct=ie[Xe];(Ct.length===0||(ye=Ct[0]).every(at=>at.x<=0)||ye.every(at=>at.x>=Fr)||ye.every(at=>at.y<=0)||ye.every(at=>at.y>=Fr))&&ie.splice(Xe,1)}var ye;let Se;if(z)Se=Vb(ie,C,v);else{Se=[];for(const Xe of ie)Se.push({polygon:Xe,bounds:C})}const $e=P?this.edgeRadius:0,et=$e>0&&this.zoom<17,Ye=(Xe,Ct)=>{if(Xe.length===0)return!1;const at=Xe[Xe.length-1];return Ct.x===at.x&&Ct.y===at.y};for(const{polygon:Xe,bounds:Ct}of Se){let at=0,St=0;for(const Yt of Xe)P&&!Yt[0].equals(Yt[Yt.length-1])&&Yt.push(Yt[0]),St+=P?Yt.length-1:Yt.length;const At=this.segments.prepareSegment((P?5:4)*St,this.layoutVertexArray,this.indexArray);k.footprintSegIdx<0&&(k.footprintSegIdx=this.footprintSegments.length),k.polygonSegIdx<0&&(k.polygonSegIdx=this.polygonSegments.length);const $t={triangleArrayOffset:this.indexArray.length,triangleCount:0,triangleSegIdx:this.segments.segments.length-1},Ft=new em;if(Ft.vertexOffset=this.footprintVertices.length,Ft.indexOffset=3*this.footprintIndices.length,Ft.ringIndices=[],P){const Yt=[],un=[];at=At.vertexLength;for(let jn=0;jn<Xe.length;jn++){const cr=Xe[jn];cr.length&&jn!==0&&un.push(Yt.length/2);const kn=[];let Yr,kr;Yr=cr[1].sub(cr[0])._perp()._unit(),Ft.ringIndices.push(cr.length-1);for(let br=1;br<cr.length;br++){const fr=cr[br],Mi=cr[br===cr.length-1?1:br+1],ti=fr.clone();if($e){kr=Mi.sub(fr)._perp()._unit();const ui=Yr.add(kr)._unit(),wo=$e*Math.min(4,1/(Yr.x*ui.x+Yr.y*ui.y));ti.x+=wo*ui.x,ti.y+=wo*ui.y,ti.x=Math.round(ti.x),ti.y=Math.round(ti.y),Yr=kr}if(!X||$e!==0&&!et||Ye(kn,ti)||kn.push(ti),ag(this.layoutVertexArray,ti.x,ti.y,0,0,1,1,0),this.wallMode){const ui=ue(br,cr);sg(this.wallVertexArray,le.joinNormals[br],!ui)}At.vertexLength++,this.footprintVertices.emplaceBack(fr.x,fr.y),Yt.push(fr.x,fr.y),z&&ih(this.layoutVertexExtArray,$.projectTilePoint(ti.x,ti.y,v),$.upVector(v,ti.x,ti.y))}X&&($e===0||et)&&(kn.length!==0&&Ye(kn,kn[0])&&kn.pop(),this.groundEffect.addData(kn,Ct,L))}const Wt=this.wallMode?le.indices:eg(Yt,un);for(let jn=0;jn<Wt.length;jn+=3)this.footprintIndices.emplaceBack(Ft.vertexOffset+Wt[jn+0],Ft.vertexOffset+Wt[jn+1],Ft.vertexOffset+Wt[jn+2]),this.indexArray.emplaceBack(at+Wt[jn],at+Wt[jn+2],at+Wt[jn+1]),At.primitiveLength++;Ft.indexCount+=Wt.length,Ft.vertexCount+=this.footprintVertices.length-Ft.vertexOffset}for(let Yt=0;Yt<Xe.length;Yt++){const un=Xe[Yt];A.startRing(k,un[0]);let Wt=un.length>4&&$d(un[un.length-2],un[0],un[1]),jn=$e?kb(un[un.length-2],un[0],un[1],$e):0;const cr=[];let kn,Yr,kr;Yr=un[1].sub(un[0])._perp()._unit();let br=!0;for(let fr=1,Mi=0;fr<un.length;fr++){let ti=un[fr-1],ui=un[fr];const wo=un[fr===un.length-1?1:fr+1];if(A.appendEdge(k,ui,ti),oh(ui,ti,Ct)){$e&&(Yr=wo.sub(ui)._perp()._unit(),br=!br);continue}const na=ui.sub(ti)._perp(),la=na.x/(Math.abs(na.x)+Math.abs(na.y)),ca=na.y>0?1:0,Ma=ti.dist(ui);if(Mi+Ma>32768&&(Mi=0),$e){kr=wo.sub(ui)._perp()._unit();let jo=jb(ti,ui,wo,Fb(Yr,kr),$e);isNaN(jo)&&(jo=0);const xs=ui.sub(ti)._unit();ti=ti.add(xs.mult(jn))._round(),ui=ui.add(xs.mult(-jo))._round(),jn=jo,Yr=kr,X&&this.zoom>=17&&(Ye(cr,ti)||cr.push(ti),Ye(cr,ui)||cr.push(ui))}const $a=At.vertexLength,Vs=un.length>4&&$d(ti,ui,wo);let Ms=My(Mi,Wt,br);if(ag(this.layoutVertexArray,ti.x,ti.y,la,ca,0,0,Ms),ag(this.layoutVertexArray,ti.x,ti.y,la,ca,0,1,Ms),this.wallMode){const jo=ue(fr-1,un),xs=le.joinNormals[fr-1];sg(this.wallVertexArray,xs,jo),sg(this.wallVertexArray,xs,jo)}if(Mi+=Ma,Ms=My(Mi,Vs,!br),Wt=Vs,ag(this.layoutVertexArray,ui.x,ui.y,la,ca,0,0,Ms),ag(this.layoutVertexArray,ui.x,ui.y,la,ca,0,1,Ms),this.wallMode){const jo=ue(fr,un),xs=le.joinNormals[fr];sg(this.wallVertexArray,xs,jo),sg(this.wallVertexArray,xs,jo)}if(At.vertexLength+=4,this.indexArray.emplaceBack($a+0,$a+1,$a+2),this.indexArray.emplaceBack($a+1,$a+3,$a+2),At.primitiveLength+=2,$e){const jo=at+(fr===1?un.length-2:fr-2),xs=fr===1?at:jo+1;if(this.indexArray.emplaceBack($a+1,jo,$a+3),this.indexArray.emplaceBack(jo,xs,$a+3),At.primitiveLength+=2,kn===void 0&&(kn=$a),!oh(wo,un[fr],Ct)){const Cs=fr===un.length-1?kn:At.vertexLength;this.indexArray.emplaceBack($a+2,$a+3,Cs),this.indexArray.emplaceBack($a+3,Cs+1,Cs),this.indexArray.emplaceBack($a+3,xs,Cs+1),At.primitiveLength+=3}br=!br}if(z){const jo=this.layoutVertexExtArray,xs=$.projectTilePoint(ti.x,ti.y,v),Cs=$.projectTilePoint(ui.x,ui.y,v),el=$.upVector(v,ti.x,ti.y),xl=$.upVector(v,ui.x,ui.y);ih(jo,xs,el),ih(jo,xs,el),ih(jo,Cs,xl),ih(jo,Cs,xl)}}P&&(at+=un.length-1),X&&$e&&this.zoom>=17&&(cr.length!==0&&Ye(cr,cr[0])&&cr.pop(),this.groundEffect.addData(cr,Ct,L,$e>0))}this.footprintSegments.push(Ft),$t.triangleCount=this.indexArray.length-$t.triangleArrayOffset,this.polygonSegments.push($t),++k.footprintSegLen,++k.polygonSegLen}if(k.vertexCount=this.layoutVertexArray.length-k.vertexArrayOffset,k.groundVertexCount=this.groundEffect.vertexArray.length-k.groundVertexArrayOffset,k.vertexCount!==0){if(k.centroidXY=A.borders?k0:this.encodeCentroid(A,k),this.centroidData.push(k),A.borders){this.featuresOnBorder.push(A);const Xe=this.featuresOnBorder.length-1;for(let Ct=0;Ct<A.borders.length;Ct++)A.borders[Ct][0]!==Number.MAX_VALUE&&this.borderFeatureIndices[Ct].push(Xe)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,f,h,y,v,O),this.groundEffect.addPaintPropertiesData(n,f,h,y,v,O),this.maxHeight=Math.max(this.maxHeight,ee)}}sortBorders(){for(let n=0;n<this.borderFeatureIndices.length;n++)this.borderFeatureIndices[n].sort((a,f)=>this.featuresOnBorder[a].borders[n][0]-this.featuresOnBorder[f].borders[n][0])}splitToSubtiles(){const n=[];for(let E=0;E<this.centroidData.length;E++){const O=this.centroidData[E],L=+(O.min.y+O.max.y>Fr),C=2*L+(+(O.min.x+O.max.x>Fr)^L);for(let $=0;$<O.polygonSegLen;$++){const z=O.polygonSegIdx+$;n.push({centroidIdx:E,subtile:C,polygonSegmentIdx:z,triangleSegmentIdx:this.polygonSegments[z].triangleSegIdx})}}const a=new tc;n.sort((E,O)=>E.triangleSegmentIdx===O.triangleSegmentIdx?E.subtile-O.subtile:E.triangleSegmentIdx-O.triangleSegmentIdx);let f=0,v=0,h=0;for(const E of n){if(E.triangleSegmentIdx!==f)break;h++}const y=n.length;for(;v!==n.length;){f=n[v].triangleSegmentIdx;let E=0,O=v,L=v;for(let C=O;C<h&&n[C].subtile===E;C++)L++;for(;O!==h;){const C=n[O];E=C.subtile;const $=this.centroidData[C.centroidIdx].min.clone(),z=this.centroidData[C.centroidIdx].max.clone(),P={vertexOffset:this.segments.segments[f].vertexOffset,primitiveOffset:a.length,vertexLength:this.segments.segments[f].vertexLength,primitiveLength:0,sortKey:void 0,vaos:{}};for(let A=O;A<L;A++){const k=n[A],X=this.polygonSegments[k.polygonSegmentIdx],ee=this.centroidData[k.centroidIdx].min,le=this.centroidData[k.centroidIdx].max,ue=this.indexArray.uint16;for(let ie=X.triangleArrayOffset;ie<X.triangleArrayOffset+X.triangleCount;ie++)a.emplaceBack(ue[3*ie],ue[3*ie+1],ue[3*ie+2]);P.primitiveLength+=X.triangleCount,$.x=Math.min($.x,ee.x),$.y=Math.min($.y,ee.y),z.x=Math.max(z.x,le.x),z.y=Math.max(z.y,le.y)}P.primitiveLength>0&&this.triangleSubSegments.push({segment:P,min:$,max:z}),O=L;for(let A=O;A<h&&n[A].subtile===n[O].subtile;A++)L++}v=h;for(let C=v;C<y&&n[C].triangleSegmentIdx===n[v].triangleSegmentIdx;C++)h++}a._trim(),this.indexArray=a}getVisibleSegments(n,a,f){const v=new fl;if(this.wallMode){for(const k of this.triangleSubSegments)v.segments.push(k.segment);return v}let h=0,y=0;const E=1<<n.canonical.z;if(a){const k=a.getMinMaxForTile(n);k&&(h=k.min,y=k.max)}y+=this.maxHeight;const O=n.toUnwrapped();let L;const C=[O.canonical.x/E+O.wrap,O.canonical.y/E],$=[(O.canonical.x+1)/E+O.wrap,(O.canonical.y+1)/E],z=(k,X,ee)=>[k[0]*(1-ee[0])+X[0]*ee[0],k[1]*(1-ee[1])+X[1]*ee[1]],P=[],A=[];for(const k of this.triangleSubSegments){P[0]=k.min.x/Fr,P[1]=k.min.y/Fr,A[0]=k.max.x/Fr,A[1]=k.max.y/Fr;const X=z(C,$,P),ee=z(C,$,A);if(new Ni([X[0],X[1],h],[ee[0],ee[1],y]).intersectsPrecise(f)===0){L&&(v.segments.push(L),L=void 0);continue}const le=k.segment;L&&L.vertexOffset!==le.vertexOffset&&(v.segments.push(L),L=void 0),L?(L.vertexLength+=le.vertexLength,L.primitiveLength+=le.primitiveLength):L={vertexOffset:le.vertexOffset,primitiveLength:le.primitiveLength,vertexLength:le.vertexLength,primitiveOffset:le.primitiveOffset,sortKey:void 0,vaos:{}}}return L&&v.segments.push(L),v}encodeCentroid(n,a){const f=n.centroid(),v=a.span(),h=Math.min(7,Math.round(v.x*this.tileToMeter/10)),y=Math.min(7,Math.round(v.y*this.tileToMeter/10));return new Sn(ri(f.x,1,Fr-1)<<3|h,ri(f.y,1,Fr-1)<<3|y)}encodeBorderCentroid(n){if(!n.borders)return new Sn(0,0);const a=n.borders,f=Number.MAX_VALUE;if(a[0][0]!==f||a[1][0]!==f){const v=a[0][0]!==f?0:1;return new Sn(6|(a[0][0]!==f?0:65528),(a[v][0]+a[v][1])/2<<3|6)}{const v=a[2][0]!==f?2:3;return new Sn((a[v][0]+a[v][1])/2<<3|6,6|(a[2][0]!==f?0:65528))}}showCentroid(n){const a=this.centroidData[n.centroidDataIndex];a.flags&=rh,a.centroidXY.x=0,a.centroidXY.y=0,this.writeCentroidToBuffer(a)}writeCentroidToBuffer(n){this.groundEffect.updateHiddenByLandmark(n);const a=n.vertexArrayOffset,f=n.vertexCount+n.vertexArrayOffset,v=n.flags&rh?k0:n.centroidXY,h=this.centroidVertexArray.geta_centroid_pos0(a);if(this.centroidVertexArray.geta_centroid_pos1(a)!==v.y||h!==v.x){for(let y=a;y<f;++y)this.centroidVertexArray.emplace(y,v.x,v.y);this.needsCentroidUpdate=!0}}createCentroidsBuffer(){this.centroidVertexArray.resize(this.layoutVertexArray.length),this.groundEffect.hiddenByLandmarkVertexArray.resize(this.groundEffect.vertexArray.length);for(const n of this.centroidData)this.writeCentroidToBuffer(n)}updateReplacement(n,a,f){if(a.updateTime===this.replacementUpdateTime)return;this.replacementUpdateTime=a.updateTime;const v=a.getReplacementRegionsForTile(n.toUnwrapped());if(Cy(this.activeReplacements,v))return;if(this.activeReplacements=v,this.centroidVertexArray.length===0)this.createCentroidsBuffer();else for(const y of this.centroidData)y.flags&=2147483647;const h=[];for(const y of this.activeReplacements){if(y.order<f)continue;const E=Math.max(1,Math.pow(2,y.footprintTileId.canonical.z-n.canonical.z));for(const O of this.centroidData)if(!(O.flags&rh||y.min.x>O.max.x||O.min.x>y.max.x||y.min.y>O.max.y||O.min.y>y.max.y))for(let L=0;L<O.footprintSegLen;L++){const C=this.footprintSegments[O.footprintSegIdx+L];if(h.length=0,nE(this.footprintVertices,C.vertexOffset,C.vertexCount,y.footprintTileId.canonical,n.canonical,h),Db(y.footprint,h,this.footprintIndices.uint16,C.indexOffset,C.indexCount,-C.vertexOffset,-E)){O.flags|=rh;break}}}for(const y of this.centroidData)this.writeCentroidToBuffer(y);this.borderDoneWithNeighborZ=[-1,-1,-1,-1]}footprintContainsPoint(n,a,f){let v=!1;for(let h=0;h<f.footprintSegLen;h++){const y=this.footprintSegments[f.footprintSegIdx+h];let E=0;for(const O of y.ringIndices){for(let L=E,C=O+E-1;L<O+E;C=L++){const $=this.footprintVertices.int16[2*(L+y.vertexOffset)+0],z=this.footprintVertices.int16[2*(L+y.vertexOffset)+1],P=this.footprintVertices.int16[2*(C+y.vertexOffset)+1];z>a!=P>a&&n<(this.footprintVertices.int16[2*(C+y.vertexOffset)+0]-$)*(a-z)/(P-z)+$&&(v=!v)}E=O}}return v}getHeightAtTileCoord(n,a){let f=Number.NEGATIVE_INFINITY,v=!0;const h=4*(n+Fr)*Fr+(a+Fr);if(this.partLookup.hasOwnProperty(h)){const y=this.partLookup[h];return y?{height:y.height,hidden:!!(y.flags&rh)}:void 0}for(const y of this.centroidData)n>y.max.x||y.min.x>n||a>y.max.y||y.min.y>a||this.footprintContainsPoint(n,a,y)&&y&&y.height>f&&(f=y.height,this.partLookup[h]=y,v=!!(y.flags&rh));if(f!==Number.NEGATIVE_INFINITY)return{height:f,hidden:v};this.partLookup[h]=void 0}}function Fb(c,n){const a=c.add(n)._unit();return c.x*a.x+c.y*a.y}function kb(c,n,a,f){const v=n.sub(c)._perp()._unit(),h=a.sub(n)._perp()._unit();return jb(c,n,a,Fb(v,h),f)}function jb(c,n,a,f,v){const h=Math.sqrt(1-f*f);return Math.min(c.dist(n)/3,n.dist(a)/3,v*h/f)}function oh(c,n,a){return c.x<a[0].x&&n.x<a[0].x||c.x>a[1].x&&n.x>a[1].x||c.y<a[0].y&&n.y<a[0].y||c.y>a[1].y&&n.y>a[1].y}function Zb(c,n){return c.x<n[0].x||c.x>n[1].x||c.y<n[0].y||c.y>n[1].y}function $d(c,n,a){if(c.x<0||c.x>=Fr||n.x<0||n.x>=Fr||a.x<0||a.x>=Fr)return!1;const f=a.sub(n),v=f.perp(),h=c.sub(n);return(f.x*h.x+f.y*h.y)/Math.sqrt((f.x*f.x+f.y*f.y)*(h.x*h.x+h.y*h.y))>-.866&&v.x*h.x+v.y*h.y<0}function My(c,n,a){const f=n?2|c:-3&c;return a?1|f:-2&f}function Py(){const c=Math.PI/32,n=Math.tan(c),a=_f;return a*Math.sqrt(1+2*n*n)-a}function Vb(c,n,a){const f=1<<a.z,v=Dc(a.x/f),h=Dc((a.x+1)/f),y=Kl(a.y/f),E=Kl((a.y+1)/f);return function(O,L,C,$,z=0,P){const A=[];if(!O.length||!C||!$)return A;const k=(Se,$e)=>{for(const et of Se)A.push({polygon:et,bounds:$e})},X=Math.ceil(Math.log2(C)),ee=Math.ceil(Math.log2($)),le=X-ee,ue=[];for(let Se=0;Se<Math.abs(le);Se++)ue.push(le>0?0:1);for(let Se=0;Se<Math.min(X,ee);Se++)ue.push(0),ue.push(1);let ie=O;if(ie=Jp(ie,L[0].y-z,L[1].y+z,1),ie=Jp(ie,L[0].x-z,L[1].x+z,0),!ie.length)return A;const ye=[];for(ue.length?ye.push({polygons:ie,bounds:L,depth:0}):k(ie,L);ye.length;){const Se=ye.pop(),$e=Se.depth,et=ue[$e],Ye=Se.bounds[0],Xe=Se.bounds[1],Ct=et===0?Ye.x:Ye.y,at=et===0?Xe.x:Xe.y,St=P?P(et,Ct,at):.5*(Ct+at),At=Jp(Se.polygons,Ct-z,St+z,et),$t=Jp(Se.polygons,St-z,at+z,et);if(At.length){const Ft=[Ye,new Sn(et===0?St:Xe.x,et===1?St:Xe.y)];ue.length>$e+1?ye.push({polygons:At,bounds:Ft,depth:$e+1}):k(At,Ft)}if($t.length){const Ft=[new Sn(et===0?St:Ye.x,et===1?St:Ye.y),Xe];ue.length>$e+1?ye.push({polygons:$t,bounds:Ft,depth:$e+1}):k($t,Ft)}}return A}(c,n,Math.ceil((h-v)/11.25),Math.ceil((y-E)/11.25),1,(O,L,C)=>{if(O===0)return .5*(L+C);{const $=Kl((a.y+L/Fr)/f);return(Mu(.5*(Kl((a.y+C/Fr)/f)+$))*f-a.y)*Fr}})}function nE(c,n,a,f,v,h){const y=Math.pow(2,f.z-v.z);for(let E=0;E<a;E++){let O=c.int16[2*(E+n)+0],L=c.int16[2*(E+n)+1];O=(O+v.x*Fr)*y-f.x*Fr,L=(L+v.y*Fr)*y-f.y*Fr,h.push(new Sn(O,L))}}let Oy,Hb;function cg(c,n){return c.x*n.x+c.y*n.y}function V0(c,n){if(c.length===1){let a=0;const f=n[a++];let v;for(;!v||f.equals(v);)if(v=n[a++],!v)return 1/0;for(;a<n.length;a++){const h=n[a],y=c[0],E=v.sub(f),O=h.sub(f),L=y.sub(f),C=cg(E,E),$=cg(E,O),z=cg(O,O),P=cg(L,E),A=cg(L,O),k=C*z-$*$,X=(z*P-$*A)/k,ee=(C*A-$*P)/k,le=f.z*(1-X-ee)+v.z*X+h.z*ee;if(isFinite(le))return le}return 1/0}{let a=1/0;for(const f of n)a=Math.min(a,f.z);return a}}function Ub(c,n,a,f,v,h,y,E){const O=y*v.getElevationAt(c,n,!0,!0),L=h[0]!==0,C=L?h[1]===0?y*(h[0]/7-450):y*function($,z,P){const A=Math.floor(z[0]/8),k=Math.floor(z[1]/8),X=10*(z[0]-8*A),ee=10*(z[1]-8*k),le=$.getElevationAt(A,k,!0,!0),ue=$.getMeterToDEM(P),ie=Math.floor(.5*(X*ue-1)),ye=Math.floor(.5*(ee*ue-1)),Se=$.tileCoordToPixel(A,k),$e=2*ie+1,et=2*ye+1,Ye=function($t,Ft,Yt,un,Wt){return[$t.getElevationAtPixel(Ft,Yt,!0),$t.getElevationAtPixel(Ft+Wt,Yt,!0),$t.getElevationAtPixel(Ft,Yt+Wt,!0),$t.getElevationAtPixel(Ft+un,Yt+Wt,!0)]}($,Se.x-ie,Se.y-ye,$e,et),Xe=Math.abs(Ye[0]-Ye[1]),Ct=Math.abs(Ye[2]-Ye[3]),at=Math.abs(Ye[0]-Ye[2])+Math.abs(Ye[1]-Ye[3]),St=Math.min(.25,.5*ue*(Xe+Ct)/$e),At=Math.min(.25,.5*ue*at/et);return le+Math.max(St*X,At*ee)}(v,h,E):O;return{base:O+(a===0?-1:a),top:L?Math.max(C+f,O+a+2):O+f}}bi(tm,"FillExtrusionBucket",{omit:["layers","features"]}),bi(Lb,"PartData"),bi(em,"FootprintSegment"),bi(Nb,"BorderCentroidData"),bi(lg,"GroundEffect");const ug=us([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),ep=us([{name:"a_z_offset_width",components:3,type:"Float32"}],4),{members:rE}=ug,$y=us([{name:"a_packed",components:3,type:"Float32"}]),{members:KC}=$y,YC=us([{name:"a_pattern_data",components:3,type:"Float32"}]),{members:JC}=YC;class Ry{constructor(n,a){this.width=n,this.height=a,this.nextRow=0,this.image=new Qf({width:n,height:a}),this.positions={},this.uploaded=!1}getDash(n,a){const f=this.getKey(n,a);return this.positions[f]}trim(){const n=this.width,a=this.height=so(this.nextRow);this.image.resize({width:n,height:a})}getKey(n,a){return n.join(",")+a}getDashRanges(n,a,f){const v=[];let h=n.length%2==1?-n[n.length-1]*f:0,y=n[0]*f,E=!0;v.push({left:h,right:y,isDash:E,zeroLength:n[0]===0});let O=n[0];for(let L=1;L<n.length;L++){E=!E;const C=n[L];h=O*f,O+=C,y=O*f,v.push({left:h,right:y,isDash:E,zeroLength:C===0})}return v}addRoundDash(n,a,f){const v=a/2;for(let h=-f;h<=f;h++){const y=this.width*(this.nextRow+f+h);let E=0,O=n[E];for(let L=0;L<this.width;L++){L/O.right>1&&(O=n[++E]);const C=Math.abs(L-O.left),$=Math.abs(L-O.right),z=Math.min(C,$);let P;const A=h/f*(v+1);if(O.isDash){const k=v-Math.abs(A);P=Math.sqrt(z*z+k*k)}else P=v-Math.sqrt(z*z+A*A);this.image.data[y+L]=Math.max(0,Math.min(255,P+128))}}}addRegularDash(n,a){for(let O=n.length-1;O>=0;--O){const L=n[O],C=n[O+1];L.zeroLength?n.splice(O,1):C&&C.isDash===L.isDash&&(C.left=L.left,n.splice(O,1))}const f=n[0],v=n[n.length-1];f.isDash===v.isDash&&(f.left=v.left-this.width,v.right=f.right+this.width);const h=this.width*this.nextRow;let y=0,E=n[y];for(let O=0;O<this.width;O++){O/E.right>1&&(E=n[++y]);const L=Math.abs(O-E.left),C=Math.abs(O-E.right),$=Math.min(L,C);this.image.data[h+O]=Math.max(0,Math.min(255,(E.isDash?$:-$)+a+128))}}addDash(n,a){const f=this.getKey(n,a);if(this.positions[f])return this.positions[f];const v=a==="round",h=v?7:0,y=2*h+1;if(this.nextRow+y>this.height)return jr("LineAtlas out of space"),null;n.length===0&&n.push(1);let E=0;for(let C=0;C<n.length;C++)n[C]<0&&(jr("Negative value is found in line dasharray, replacing values with 0"),n[C]=0),E+=n[C];if(E!==0){const C=this.width/E,$=this.getDashRanges(n,this.width,C);v?this.addRoundDash($,C,h):this.addRegularDash($,a==="square"?.5*C:0)}const O=this.nextRow+h;this.nextRow+=y;const L={tl:[O,h],br:[E,0]};return this.positions[f]=L,L}}bi(Ry,"LineAtlas");const QC=Yp.VectorTileFeature.types,ew=Math.cos(Math.PI/180*37.5),iE=Math.cos(Math.PI/180*5);class H0{constructor(n){this.evaluationGlobals={zoom:0,lineProgress:void 0},this.zoom=n.zoom,this.evaluationGlobals.zoom=this.zoom,this.overscaling=n.overscaling,this.pixelRatio=n.pixelRatio,this.layers=n.layers,this.layerIds=this.layers.map(a=>a.fqid),this.index=n.index,this.projection=n.projection,this.hasPattern=!1,this.hasZOffset=!1,this.hasCrossSlope=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(a=>{this.gradients[a.id]={}}),this.layoutVertexArray=new Hh,this.layoutVertexArray2=new qu,this.patternVertexArray=new qu,this.indexArray=new tc,this.programConfigurations=new Ac(n.layers,{zoom:n.zoom,lut:n.lut}),this.segments=new fl,this.maxLineLength=0,this.zOffsetVertexArray=new qu,this.stateDependentLayerIds=this.layers.filter(a=>a.isStateDependent()).map(a=>a.id),this.tessellationStep=n.tessellationStep?n.tessellationStep:Fr/64}updateFootprints(n,a){}populate(n,a,f,v){this.hasPattern=Pu("line",this.layers,this.pixelRatio,a);const h=this.layers[0].layout.get("line-sort-key");this.tileToMeter=r(f);const y=this.layers[0].layout.get("line-z-offset"),E=y.isConstant()&&!y.constantOr(0),O=this.layers[0].layout.get("line-elevation-reference");this.hasZOffset=O==="sea"||O==="ground"||!E&&O==="none",this.hasZOffset&&O==="none"&&jr(`line-elevation-reference: ground is used for the layer ${this.layerIds[0]} because non-zero line-z-offset value was found.`);const L=this.layers[0].layout.get("line-cross-slope");this.hasCrossSlope=this.hasZOffset&&L!==void 0;const C=[];for(const{feature:A,id:k,index:X,sourceLayerIndex:ee}of n){const le=this.layers[0]._featureFilter.needGeometry,ue=te(A,le);if(!this.layers[0]._featureFilter.filter(new Xs(this.zoom),ue,f))continue;const ie=h?h.evaluate(ue,{},f):void 0,ye={id:k,properties:A.properties,type:A.type,sourceLayerIndex:ee,index:X,geometry:le?ue.geometry:G(A,f,v),patterns:{},sortKey:ie};C.push(ye)}h&&C.sort((A,k)=>A.sortKey-k.sortKey);const{lineAtlas:$,featureIndex:z}=a,P=this.addConstantDashes($);for(const A of C){const{geometry:k,index:X,sourceLayerIndex:ee}=A;if(P&&this.addFeatureDashes(A,$),this.hasPattern){const le=my("line",this.layers,A,this.zoom,this.pixelRatio,a);this.patternFeatures.push(le)}else this.addFeature(A,k,X,f,$.positions,a.availableImages,a.brightness);z.insert(n[X].feature,k,X,ee,this.index)}}addConstantDashes(n){let a=!1;for(const f of this.layers){const v=f.paint.get("line-dasharray").value,h=f.layout.get("line-cap").value;if(v.kind!=="constant"||h.kind!=="constant")a=!0;else{const y=h.value,E=v.value;if(!E)continue;n.addDash(E,y)}}return a}addFeatureDashes(n,a){const f=this.zoom;for(const v of this.layers){const h=v.paint.get("line-dasharray").value,y=v.layout.get("line-cap").value;if(h.kind==="constant"&&y.kind==="constant")continue;let E,O;if(h.kind==="constant"){if(E=h.value,!E)continue}else E=h.evaluate({zoom:f},n);O=y.kind==="constant"?y.value:y.evaluate({zoom:f},n),a.addDash(E,O),n.patterns[v.id]=a.getKey(E,O)}}update(n,a,f,v,h,y,E){this.programConfigurations.updatePaintArrays(n,a,h,f,v,y,E)}addFeatures(n,a,f,v,h,y){for(const E of this.patternFeatures)this.addFeature(E,E.geometry,E.index,a,f,v,y)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(n){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=n.createVertexBuffer(this.layoutVertexArray2,KC)),this.patternVertexArray.length!==0&&(this.patternVertexBuffer=n.createVertexBuffer(this.patternVertexArray,JC)),!this.zOffsetVertexBuffer&&this.zOffsetVertexArray.length>0&&(this.zOffsetVertexBuffer=n.createVertexBuffer(this.zOffsetVertexArray,ep.members,!0)),this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,rE),this.indexBuffer=n.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(n),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.zOffsetVertexBuffer&&this.zOffsetVertexBuffer.destroy(),this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(n){if(n.properties&&n.properties.hasOwnProperty("mapbox_clip_start")&&n.properties.hasOwnProperty("mapbox_clip_end"))return{start:+n.properties.mapbox_clip_start,end:+n.properties.mapbox_clip_end}}addFeature(n,a,f,v,h,y,E){const O=this.layers[0].layout,L=O.get("line-join").evaluate(n,{}),C=O.get("line-cap").evaluate(n,{}),$=O.get("line-miter-limit"),z=O.get("line-round-limit");this.lineClips=this.lineFeatureClips(n),this.lineFeature=n,this.zOffsetValue=O.get("line-z-offset").value;const P=this.layers[0].paint.get("line-width").value;P.kind!=="constant"&&P.isLineProgressConstant===!1&&(this.variableWidthValue=P);for(const A of a)this.addLine(A,n,v,L,C,$,z);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,f,h,y,v,E)}addLine(n,a,f,v,h,y,E){this.distance=0,this.prevDistance=0,this.scaledDistance=0,this.totalDistance=0,this.totalFeatureLength=0,this.lineSoFar=0,this.currentVertex=void 0;const O=v==="none";if(this.patternJoinNone=this.hasPattern&&O,this.segmentStart=0,this.segmentStartf32=0,this.segmentPoints=[],this.lineClips){this.lineClipsArray.push(this.lineClips);for(let ue=0;ue<n.length-1;ue++)this.totalDistance+=n[ue].dist(n[ue+1]);this.totalFeatureLength=this.totalDistance/(this.lineClips.end-this.lineClips.start),this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const L=QC[a.type]==="Polygon";let C=n.length;for(;C>=2&&n[C-1].equals(n[C-2]);)C--;let $=0;for(;$<C-1&&n[$].equals(n[$+1]);)$++;if(C<(L?3:2))return;v==="bevel"&&(y=1.05);const z=this.segments.prepareSegment(10*C,this.layoutVertexArray,this.indexArray);let P,A,k,X,ee,le;this.e1=this.e2=-1,L&&(P=n[C-2],ee=n[$].sub(P)._unit()._perp());for(let ue=$;ue<C;ue++){if(k=ue===C-1?L?n[$+1]:void 0:n[ue+1],k&&n[ue].equals(k))continue;ee&&(X=ee),P&&(A=P),P=n[ue],le=this.evaluateLineProgressFeatures(A?A.dist(P):0),ee=k?k.sub(P)._unit()._perp():X,X=X||ee;const ie=A&&k;let ye=ie?v:L||O?"butt":h;const Se=X.x*ee.x+X.y*ee.y;if(O){const At=function($t){if($t.patternJoinNone){const Ft=$t.segmentPoints.length/2,Yt=$t.lineSoFar-$t.segmentStart;for(let un=0;un<Ft;++un){const Wt=$t.segmentPoints[2*un+1],jn=Math.round($t.segmentPoints[2*un])+.5+.25*Wt;$t.patternVertexArray.emplaceBack(jn,Yt,$t.segmentStart),$t.patternVertexArray.emplaceBack(jn,Yt,$t.segmentStart)}$t.segmentPoints.length=0}$t.e1=$t.e2=-1};if(ie&&Se<iE){this.updateDistance(A,P),this.addCurrentVertex(P,X,1,1,z,le),At(this),this.addCurrentVertex(P,ee,-1,-1,z,le);continue}if(A){if(!k){this.updateDistance(A,P),this.addCurrentVertex(P,X,1,1,z,le),At(this);continue}ye="miter"}}let $e=X.add(ee);$e.x===0&&$e.y===0||$e._unit();const et=$e.x*ee.x+$e.y*ee.y,Ye=et!==0?1/et:1/0,Xe=2*Math.sqrt(2-2*et),Ct=et<ew&&A&&k,at=X.x*ee.y-X.y*ee.x>0,St=this.overscaling<=16?15*Fr/(512*this.overscaling):0;if(ie&&ye==="round"){if(Ye<E)ye="miter";else if(Ye<=2){const At=ah(P,-10,Fr+10);ye=this.hasZOffset&&(At||this.hasCrossSlope)?"miter":"fakeround"}}if(ye==="miter"&&Ye>y&&(ye="bevel"),ye==="bevel"&&(Ye>2&&(ye="flipbevel"),Ye<y&&(ye="miter")),A&&!(ye==="miter"&&Ct)&&this.updateDistance(A,P),ye==="miter")if(Ct){const At=P.dist(A);if(At>2*St){const Ft=P.sub(P.sub(A)._mult(St/At)._round());this.updateDistance(A,Ft),this.addCurrentVertex(Ft,X,0,0,z,le),A=Ft}this.updateDistance(A,P),$e._mult(Ye),this.addCurrentVertex(P,$e,0,0,z,le);const $t=P.dist(k);if($t>2*St){const Ft=P.add(k.sub(P)._mult(St/$t)._round());this.updateDistance(P,Ft),this.addCurrentVertex(Ft,ee,0,0,z,le),P=Ft}}else $e._mult(Ye),this.addCurrentVertex(P,$e,0,0,z,le);else if(ye==="flipbevel"){if(Ye>100)$e=ee.mult(-1);else{const At=Ye*X.add(ee).mag()/X.sub(ee).mag();$e._perp()._mult(At*(at?-1:1))}this.addCurrentVertex(P,$e,0,0,z,le),this.addCurrentVertex(P,$e.mult(-1),0,0,z,le)}else if(ye==="bevel"||ye==="fakeround"){le!=null&&A&&this.addCurrentVertex(P,X,-1,-1,z,le);const At=P.dist(A)<=2*St&&ye!=="bevel",$t=$e.mult(at?1:-1);$t._mult(Ye);const Ft=ee.mult(at?-1:1),Yt=X.mult(at?-1:1),un=this.evaluateLineProgressFeatures(this.distance);if(le==null&&(this.addHalfVertex(P,$t.x,$t.y,!1,!at,0,z,un),At||this.addHalfVertex(P,$t.x+2*Yt.x,$t.y+2*Yt.y,!1,at,0,z,un)),ye==="fakeround"){const Wt=Math.round(180*Xe/Math.PI/20);this.addHalfVertex(P,Yt.x,Yt.y,!1,at,0,z,un);for(let jn=0;jn<Wt;jn++){let cr=jn/Wt;if(cr!==.5){const Yr=cr-.5;cr+=cr*Yr*(cr-1)*((1.0904+Se*(Se*(3.55645-1.43519*Se)-3.2452))*Yr*Yr+(.848013+Se*(.215638*Se-1.06021)))}const kn=Ft.sub(Yt)._mult(cr)._add(Yt)._unit();this.addHalfVertex(P,kn.x,kn.y,!1,at,0,z,un)}this.addHalfVertex(P,Ft.x,Ft.y,!1,at,0,z,un)}At||le!=null||this.addHalfVertex(P,$t.x+2*Ft.x,$t.y+2*Ft.y,!1,at,0,z,un),le!=null&&k&&this.addCurrentVertex(P,ee,1,1,z,le)}else ye==="butt"?this.addCurrentVertex(P,$e,0,0,z,le):ye==="square"?(A||this.addCurrentVertex(P,$e,-1,-1,z,le),this.addCurrentVertex(P,$e,0,0,z,le),A&&this.addCurrentVertex(P,$e,1,1,z,le)):ye==="round"&&(A&&(this.addCurrentVertex(P,X,0,0,z,le),this.addCurrentVertex(P,X,1,1,z,le,!0)),k&&(this.addCurrentVertex(P,ee,-1,-1,z,le,!0),this.addCurrentVertex(P,ee,0,0,z,le)))}}addVerticesTo(n,a,f,v,h,y,E,O,L,C){const $=(a.w-n.w)/this.tessellationStep|0;let z=0;const P=this.scaledDistance;if($>1){this.lineSoFar=n.w;const k=(a.x-n.x)/$,X=(a.y-n.y)/$,ee=(a.z-n.z)/$,le=(a.w-n.w)/$;for(let ue=1;ue<$;++ue){n.x+=k,n.y+=X,n.z+=ee,this.lineSoFar+=le,z+=le;const ie=this.evaluateLineProgressFeatures(this.prevDistance+z);this.scaledDistance=(this.prevDistance+z)/this.totalDistance,this.addHalfVertex(n,f,v,C,!1,E,L,ie),this.addHalfVertex(n,h,y,C,!0,-O,L,ie)}}this.lineSoFar=a.w,this.scaledDistance=P;const A=this.evaluateLineProgressFeatures(this.distance);this.addHalfVertex(a,f,v,C,!1,E,L,A),this.addHalfVertex(a,h,y,C,!0,-O,L,A)}evaluateLineProgressFeatures(n){if(!this.variableWidthValue&&!this.hasZOffset)return null;this.evaluationGlobals.lineProgress=0,this.lineClips?this.evaluationGlobals.lineProgress=Math.min(1,(this.totalFeatureLength*this.lineClips.start+n)/this.totalFeatureLength):jr(`line-progress evaluation for ${this.layerIds[0]} requires enabling 'lineMetrics' for the source.`);let a=0;return this.variableWidthValue&&this.variableWidthValue.kind!=="constant"&&(a=this.variableWidthValue.evaluate(this.evaluationGlobals,this.lineFeature)||0),this.hasZOffset?this.zOffsetValue.kind==="constant"?{zOffset:this.zOffsetValue.value,variableWidth:a}:{zOffset:this.zOffsetValue.evaluate(this.evaluationGlobals,this.lineFeature)||0,variableWidth:a}:{zOffset:0,variableWidth:a}}addCurrentVertex(n,a,f,v,h,y,E=!1){const O=a.x+a.y*f,L=a.y-a.x*f,C=a.y*v-a.x,$=-a.y-a.x*v;if(y!=null){const z=this.hasZOffset,P=-10,A=Fr+10,k=y.zOffset,X=new Ob(n.x,n.y,k,this.lineSoFar),ee=!!z&&ah(n,P,A),le=this.lineSoFar,ue=this.distance;if(this.currentVertex)if(ee){const ie=this.currentVertexIsOutside,ye=this.currentVertex,Se=new Ob(n.x,n.y,k,this.lineSoFar);if($b(ye,Se,P,A),!ah(Se,P,A)){if(ie){this.e1=this.e2=-1,this.distance-=ye.dist(X),this.lineSoFar=ye.w;const $e=this.evaluateLineProgressFeatures(ye.w-this.totalFeatureLength*(this.lineClips?this.lineClips.start:0));this.addHalfVertex(ye,O,L,E,!1,f,h,$e),this.addHalfVertex(ye,C,$,E,!0,-v,h,$e),this.prevDistance=this.distance}this.distance=this.prevDistance+ye.dist(Se),this.scaledDistance=this.distance/this.totalDistance,this.addVerticesTo(ye,Se,O,L,C,$,f,v,h,E),this.distance=ue,this.scaledDistance=this.distance/this.totalDistance}}else{const ie=this.currentVertex;if(this.currentVertexIsOutside){$b(ie,X,P,A),this.e1=this.e2=-1,this.distance-=ie.dist(X),this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=ie.w;const ye=this.evaluateLineProgressFeatures(ie.w-this.totalFeatureLength*(this.lineClips?this.lineClips.start:0));this.addHalfVertex(ie,O,L,E,!1,f,h,ye),this.addHalfVertex(ie,C,$,E,!0,-v,h,ye),this.prevDistance=this.distance,this.distance=ue,this.scaledDistance=this.distance/this.totalDistance}this.addVerticesTo(ie,X,O,L,C,$,f,v,h,E)}else ee||(this.addHalfVertex(n,O,L,E,!1,f,h,y),this.addHalfVertex(n,C,$,E,!0,-v,h,y));this.currentVertex=X,this.currentVertexIsOutside=ee,this.lineSoFar=le}else this.addHalfVertex(n,O,L,E,!1,f,h,y),this.addHalfVertex(n,C,$,E,!0,-v,h,y)}addHalfVertex({x:n,y:a},f,v,h,y,E,O,L){if(this.patternJoinNone&&(this.segmentPoints.length===0&&(this.segmentStart=this.lineSoFar,this.segmentStartf32=Math.fround(this.lineSoFar)),y||this.segmentPoints.push(this.lineSoFar-this.segmentStart,E)),this.layoutVertexArray.emplaceBack((n<<1)+(h?1:0),(a<<1)+(y?1:0),Math.round(63*f)+128,Math.round(63*v)+128,1+(E===0?0:E<0?-1:1),0,this.lineSoFar-this.segmentStartf32),this.lineClips){const $=si(this.lineClips.start,this.lineClips.end,this.scaledDistance);this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,$)}const C=O.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,C),O.primitiveLength++),y?this.e2=C:this.e1=C,L!=null&&this.zOffsetVertexArray.emplaceBack(L.zOffset,L.variableWidth,L.variableWidth)}updateScaledDistance(){this.lineClips?(this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=this.totalFeatureLength*this.lineClips.start+this.distance):this.lineSoFar=this.distance}updateDistance(n,a){this.prevDistance=this.distance,this.distance+=n.dist(a),this.updateScaledDistance()}}function ah(c,n,a){return c.x<n||c.x>a||c.y<n||c.y>a}let Uc,Wb;function sh(c,n,a){return n*(Fr/(c.tileSize*Math.pow(2,a-c.tileID.overscaledZ)))}bi(H0,"LineBucket",{omit:["layers","patternFeatures","currentVertex","currentVertexIsOutside"]});const nm=(c,n,a)=>(1-a)*c+a*n;function Gb(c,n){return 1/sh(c,1,n.tileZoom)}function Xb(c,n,a,f){return c.translatePosMatrix(f||n.tileID.projMatrix,n,a.paint.get("line-translate"),a.paint.get("line-translate-anchor"))}const qb=c=>{const n=[];Ay(c)&&n.push("RENDER_LINE_DASH"),c.paint.get("line-gradient")&&n.push("RENDER_LINE_GRADIENT");const a=c.paint.get("line-trim-offset");a[0]===0&&a[1]===0||n.push("RENDER_LINE_TRIM_OFFSET"),c.paint.get("line-border-width").constantOr(1)!==0&&n.push("RENDER_LINE_BORDER");const f=c.layout.get("line-join").constantOr("miter")==="none",v=!!c.paint.get("line-pattern").constantOr(1);return f&&v&&n.push("LINE_JOIN_NONE"),n};function Ay(c){const n=c.paint.get("line-dasharray").value;return n.value||n.kind!=="constant"}let Dy;const zy=()=>Dy||(Dy={layout:Uc||(Uc=new al({"line-cap":new ci(gn.layout_line["line-cap"]),"line-join":new ci(gn.layout_line["line-join"]),"line-miter-limit":new Sr(gn.layout_line["line-miter-limit"]),"line-round-limit":new Sr(gn.layout_line["line-round-limit"]),"line-sort-key":new ci(gn.layout_line["line-sort-key"]),"line-z-offset":new ci(gn.layout_line["line-z-offset"]),"line-elevation-reference":new Sr(gn.layout_line["line-elevation-reference"]),"line-cross-slope":new Sr(gn.layout_line["line-cross-slope"]),visibility:new Sr(gn.layout_line.visibility),"line-width-unit":new Sr(gn.layout_line["line-width-unit"])})),paint:Wb||(Wb=new al({"line-opacity":new ci(gn.paint_line["line-opacity"]),"line-color":new ci(gn.paint_line["line-color"]),"line-translate":new Sr(gn.paint_line["line-translate"]),"line-translate-anchor":new Sr(gn.paint_line["line-translate-anchor"]),"line-width":new ci(gn.paint_line["line-width"]),"line-gap-width":new ci(gn.paint_line["line-gap-width"]),"line-offset":new ci(gn.paint_line["line-offset"]),"line-blur":new ci(gn.paint_line["line-blur"]),"line-dasharray":new ci(gn.paint_line["line-dasharray"]),"line-pattern":new ci(gn.paint_line["line-pattern"]),"line-gradient":new jf(gn.paint_line["line-gradient"]),"line-trim-offset":new Sr(gn.paint_line["line-trim-offset"]),"line-trim-fade-range":new Sr(gn.paint_line["line-trim-fade-range"]),"line-trim-color":new Sr(gn.paint_line["line-trim-color"]),"line-emissive-strength":new Sr(gn.paint_line["line-emissive-strength"]),"line-border-width":new ci(gn.paint_line["line-border-width"]),"line-border-color":new ci(gn.paint_line["line-border-color"]),"line-occlusion-opacity":new Sr(gn.paint_line["line-occlusion-opacity"]),"line-color-use-theme":new ci({type:"string",default:"default","property-type":"data-driven"}),"line-gradient-use-theme":new ci({type:"string",default:"default","property-type":"data-driven"}),"line-trim-color-use-theme":new ci({type:"string",default:"default","property-type":"data-driven"}),"line-border-color-use-theme":new ci({type:"string",default:"default","property-type":"data-driven"})}))},Dy);class Kb extends ci{possiblyEvaluate(n,a){return a=new Xs(Math.floor(a.zoom),{now:a.now,fadeDuration:a.fadeDuration,transition:a.transition}),super.possiblyEvaluate(n,a)}evaluate(n,a,f,v){return a=ya({},a,{zoom:Math.floor(a.zoom)}),super.evaluate(n,a,f,v)}}let U0;function Ly(c,n){return n>0?n+2*c:c}const tw=us([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),oE=us([{name:"a_globe_anchor",components:3,type:"Int16"},{name:"a_globe_normal",components:3,type:"Float32"}],4),Yb=us([{name:"a_projected_pos",components:4,type:"Float32"}],4);us([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const W0=us([{name:"a_auto_z_offset",components:1,type:"Float32"}],4),Jb=us([{name:"a_texb",components:2,type:"Uint16"}]),aE=us([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"},{name:"a_elevation_from_sea",components:2,type:"Float32"}]),nw=us([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"},{name:"a_auto_z_offset",components:1,type:"Float32"}]);us([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const Ny=us([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),rw=us([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);us([{name:"triangle",components:3,type:"Uint16"}]),us([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),us([{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Float32",name:"zOffset"},{type:"Uint8",name:"hasIconTextFit"}]),us([{type:"Float32",name:"offsetX"}]),us([{type:"Int16",name:"x"},{type:"Int16",name:"y"}]);var vc=24;const td=128;function By(c,n,a,f,v){if(c.kind==="camera")return c.maxSize;if(c.kind==="composite"){const h=n.possiblyEvaluate(new Xs(c.maxZoom),a).evaluate(v,{},a),y=n.possiblyEvaluate(new Xs(c.minZoom),a).evaluate(v,{},a);return Math.max(h,y)}return n.possiblyEvaluate(new Xs(f)).evaluate(v,{},a)}function Fy(c,n){const{expression:a}=n;if(a.kind==="constant")return{kind:"constant",layoutSize:a.evaluate(new Xs(c+1))};if(a.kind==="source")return{kind:"source"};{const{zoomStops:f,interpolationType:v}=a;let h=0;for(;h<f.length&&f[h]<=c;)h++;h=Math.max(0,h-1);let y=h;for(;y<f.length&&f[y]<c+1;)y++;y=Math.min(f.length-1,y);const E=f[h],O=f[y];return a.kind==="composite"?{kind:"composite",minZoom:E,maxZoom:O,interpolationType:v}:{kind:"camera",minZoom:E,maxZoom:O,minSize:a.evaluate(new Xs(E)),maxSize:a.evaluate(new Xs(O)),interpolationType:v}}}function dg(c,{uSize:n,uSizeT:a},{lowerSize:f,upperSize:v}){return c.kind==="source"?f/td:c.kind==="composite"?si(f/td,v/td,a):n}function rm(c,n,a=1){let f=0,v=0;if(c.kind==="constant")v=c.layoutSize*a;else if(c.kind!=="source"){const{interpolationType:h,minZoom:y,maxZoom:E}=c,O=h?ri(rc.interpolationFactor(h,n,y,E),0,1):0;c.kind==="camera"?v=si(c.minSize,c.maxSize,O)*a:f=O*a}return{uSizeT:f,uSize:v}}var iw=Object.freeze({__proto__:null,SIZE_PACK_FACTOR:td,evaluateSizeForFeature:dg,evaluateSizeForZoom:rm,getRasterizedIconSize:By,getSizeData:Fy});function ow(c,n,a){return c.sections.forEach(f=>{f.text=function(v,h,y){const E=h.layout.get("text-transform").evaluate(y,{});return E==="uppercase"?v=v.toLocaleUpperCase():E==="lowercase"&&(v=v.toLocaleLowerCase()),$c.applyArabicShaping&&(v=$c.applyArabicShaping(v)),v}(f.text,n,a)}),c}const fg={"!":"\uFE15","#":"\uFF03",$:"\uFF04","%":"\uFF05","&":"\uFF06","(":"\uFE35",")":"\uFE36","*":"\uFF0A","+":"\uFF0B",",":"\uFE10","-":"\uFE32",".":"\u30FB","/":"\uFF0F",":":"\uFE13",";":"\uFE14","<":"\uFE3F","=":"\uFF1D",">":"\uFE40","?":"\uFE16","@":"\uFF20","[":"\uFE47","\\":"\uFF3C","]":"\uFE48","^":"\uFF3E",_:"\uFE33","`":"\uFF40","{":"\uFE37","|":"\u2015","}":"\uFE38","~":"\uFF5E","\xA2":"\uFFE0","\xA3":"\uFFE1","\xA5":"\uFFE5","\xA6":"\uFFE4","\xAC":"\uFFE2","\xAF":"\uFFE3","\u2013":"\uFE32","\u2014":"\uFE31","\u2018":"\uFE43","\u2019":"\uFE44","\u201C":"\uFE41","\u201D":"\uFE42","\u2026":"\uFE19","\u2027":"\u30FB","\u20A9":"\uFFE6","\u3001":"\uFE11","\u3002":"\uFE12","\u3008":"\uFE3F","\u3009":"\uFE40","\u300A":"\uFE3D","\u300B":"\uFE3E","\u300C":"\uFE41","\u300D":"\uFE42","\u300E":"\uFE43","\u300F":"\uFE44","\u3010":"\uFE3B","\u3011":"\uFE3C","\u3014":"\uFE39","\u3015":"\uFE3A","\u3016":"\uFE17","\u3017":"\uFE18","\uFF01":"\uFE15","\uFF08":"\uFE35","\uFF09":"\uFE36","\uFF0C":"\uFE10","\uFF0D":"\uFE32","\uFF0E":"\u30FB","\uFF1A":"\uFE13","\uFF1B":"\uFE14","\uFF1C":"\uFE3F","\uFF1E":"\uFE40","\uFF1F":"\uFE16","\uFF3B":"\uFE47","\uFF3D":"\uFE48","\uFF3F":"\uFE33","\uFF5B":"\uFE37","\uFF5C":"\u2015","\uFF5D":"\uFE38","\uFF5F":"\uFE35","\uFF60":"\uFE36","\uFF61":"\uFE12","\uFF62":"\uFE41","\uFF63":"\uFE42","\u2190":"\u2191","\u2192":"\u2193"};function sE(c){return c==="\uFE36"||c==="\uFE48"||c==="\uFE38"||c==="\uFE44"||c==="\uFE42"||c==="\uFE3E"||c==="\uFE3C"||c==="\uFE3A"||c==="\uFE18"||c==="\uFE40"||c==="\uFE10"||c==="\uFE13"||c==="\uFE14"||c==="\uFF40"||c==="\uFFE3"||c==="\uFE11"||c==="\uFE12"}function aw(c){return c==="\uFE35"||c==="\uFE47"||c==="\uFE37"||c==="\uFE43"||c==="\uFE41"||c==="\uFE3D"||c==="\uFE3B"||c==="\uFE39"||c==="\uFE17"||c==="\uFE3F"}var hg,pg,Qb,ky={};function sw(){return hg||(hg=1,ky.read=function(c,n,a,f,v){var h,y,E=8*v-f-1,O=(1<<E)-1,L=O>>1,C=-7,$=a?v-1:0,z=a?-1:1,P=c[n+$];for($+=z,h=P&(1<<-C)-1,P>>=-C,C+=E;C>0;h=256*h+c[n+$],$+=z,C-=8);for(y=h&(1<<-C)-1,h>>=-C,C+=f;C>0;y=256*y+c[n+$],$+=z,C-=8);if(h===0)h=1-L;else{if(h===O)return y?NaN:1/0*(P?-1:1);y+=Math.pow(2,f),h-=L}return(P?-1:1)*y*Math.pow(2,h-f)},ky.write=function(c,n,a,f,v,h){var y,E,O,L=8*h-v-1,C=(1<<L)-1,$=C>>1,z=v===23?Math.pow(2,-24)-Math.pow(2,-77):0,P=f?0:h-1,A=f?1:-1,k=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(E=isNaN(n)?1:0,y=C):(y=Math.floor(Math.log(n)/Math.LN2),n*(O=Math.pow(2,-y))<1&&(y--,O*=2),(n+=y+$>=1?z/O:z*Math.pow(2,1-$))*O>=2&&(y++,O/=2),y+$>=C?(E=0,y=C):y+$>=1?(E=(n*O-1)*Math.pow(2,v),y+=$):(E=n*Math.pow(2,$-1)*Math.pow(2,v),y=0));v>=8;c[a+P]=255&E,P+=A,E/=256,v-=8);for(y=y<<v|E,L+=v;L>0;c[a+P]=255&y,P+=A,y/=256,L-=8);c[a+P-A]|=128*k}),ky}function e1(){if(Qb)return pg;Qb=1,pg=n;var c=sw();function n(ie){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(ie)?ie:new Uint8Array(ie||0),this.pos=0,this.type=0,this.length=this.buf.length}n.Varint=0,n.Fixed64=1,n.Bytes=2,n.Fixed32=5;var a=4294967296,f=1/a,v=typeof TextDecoder=="undefined"?null:new TextDecoder("utf8");function h(ie){return ie.type===n.Bytes?ie.readVarint()+ie.pos:ie.pos+1}function y(ie,ye,Se){return Se?4294967296*ye+(ie>>>0):4294967296*(ye>>>0)+(ie>>>0)}function E(ie,ye,Se){var $e=ye<=16383?1:ye<=2097151?2:ye<=268435455?3:Math.floor(Math.log(ye)/(7*Math.LN2));Se.realloc($e);for(var et=Se.pos-1;et>=ie;et--)Se.buf[et+$e]=Se.buf[et]}function O(ie,ye){for(var Se=0;Se<ie.length;Se++)ye.writeVarint(ie[Se])}function L(ie,ye){for(var Se=0;Se<ie.length;Se++)ye.writeSVarint(ie[Se])}function C(ie,ye){for(var Se=0;Se<ie.length;Se++)ye.writeFloat(ie[Se])}function $(ie,ye){for(var Se=0;Se<ie.length;Se++)ye.writeDouble(ie[Se])}function z(ie,ye){for(var Se=0;Se<ie.length;Se++)ye.writeBoolean(ie[Se])}function P(ie,ye){for(var Se=0;Se<ie.length;Se++)ye.writeFixed32(ie[Se])}function A(ie,ye){for(var Se=0;Se<ie.length;Se++)ye.writeSFixed32(ie[Se])}function k(ie,ye){for(var Se=0;Se<ie.length;Se++)ye.writeFixed64(ie[Se])}function X(ie,ye){for(var Se=0;Se<ie.length;Se++)ye.writeSFixed64(ie[Se])}function ee(ie,ye){return(ie[ye]|ie[ye+1]<<8|ie[ye+2]<<16)+16777216*ie[ye+3]}function le(ie,ye,Se){ie[Se]=ye,ie[Se+1]=ye>>>8,ie[Se+2]=ye>>>16,ie[Se+3]=ye>>>24}function ue(ie,ye){return(ie[ye]|ie[ye+1]<<8|ie[ye+2]<<16)+(ie[ye+3]<<24)}return n.prototype={destroy:function(){this.buf=null},readFields:function(ie,ye,Se){for(Se=Se||this.length;this.pos<Se;){var $e=this.readVarint(),et=$e>>3,Ye=this.pos;this.type=7&$e,ie(et,ye,this),this.pos===Ye&&this.skip($e)}return ye},readMessage:function(ie,ye){return this.readFields(ie,ye,this.readVarint()+this.pos)},readFixed32:function(){var ie=ee(this.buf,this.pos);return this.pos+=4,ie},readSFixed32:function(){var ie=ue(this.buf,this.pos);return this.pos+=4,ie},readFixed64:function(){var ie=ee(this.buf,this.pos)+ee(this.buf,this.pos+4)*a;return this.pos+=8,ie},readSFixed64:function(){var ie=ee(this.buf,this.pos)+ue(this.buf,this.pos+4)*a;return this.pos+=8,ie},readFloat:function(){var ie=c.read(this.buf,this.pos,!0,23,4);return this.pos+=4,ie},readDouble:function(){var ie=c.read(this.buf,this.pos,!0,52,8);return this.pos+=8,ie},readVarint:function(ie){var ye,Se,$e=this.buf;return ye=127&(Se=$e[this.pos++]),Se<128?ye:(ye|=(127&(Se=$e[this.pos++]))<<7,Se<128?ye:(ye|=(127&(Se=$e[this.pos++]))<<14,Se<128?ye:(ye|=(127&(Se=$e[this.pos++]))<<21,Se<128?ye:function(et,Ye,Xe){var Ct,at,St=Xe.buf;if(Ct=(112&(at=St[Xe.pos++]))>>4,at<128||(Ct|=(127&(at=St[Xe.pos++]))<<3,at<128)||(Ct|=(127&(at=St[Xe.pos++]))<<10,at<128)||(Ct|=(127&(at=St[Xe.pos++]))<<17,at<128)||(Ct|=(127&(at=St[Xe.pos++]))<<24,at<128)||(Ct|=(1&(at=St[Xe.pos++]))<<31,at<128))return y(et,Ct,Ye);throw new Error("Expected varint not more than 10 bytes")}(ye|=(15&(Se=$e[this.pos]))<<28,ie,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var ie=this.readVarint();return ie%2==1?(ie+1)/-2:ie/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var ie=this.readVarint()+this.pos,ye=this.pos;return this.pos=ie,ie-ye>=12&&v?function(Se,$e,et){return v.decode(Se.subarray($e,et))}(this.buf,ye,ie):function(Se,$e,et){for(var Ye="",Xe=$e;Xe<et;){var Ct,at,St,At=Se[Xe],$t=null,Ft=At>239?4:At>223?3:At>191?2:1;if(Xe+Ft>et)break;Ft===1?At<128&&($t=At):Ft===2?(192&(Ct=Se[Xe+1]))==128&&($t=(31&At)<<6|63&Ct)<=127&&($t=null):Ft===3?(at=Se[Xe+2],(192&(Ct=Se[Xe+1]))==128&&(192&at)==128&&(($t=(15&At)<<12|(63&Ct)<<6|63&at)<=2047||$t>=55296&&$t<=57343)&&($t=null)):Ft===4&&(at=Se[Xe+2],St=Se[Xe+3],(192&(Ct=Se[Xe+1]))==128&&(192&at)==128&&(192&St)==128&&(($t=(15&At)<<18|(63&Ct)<<12|(63&at)<<6|63&St)<=65535||$t>=1114112)&&($t=null)),$t===null?($t=65533,Ft=1):$t>65535&&($t-=65536,Ye+=String.fromCharCode($t>>>10&1023|55296),$t=56320|1023&$t),Ye+=String.fromCharCode($t),Xe+=Ft}return Ye}(this.buf,ye,ie)},readBytes:function(){var ie=this.readVarint()+this.pos,ye=this.buf.subarray(this.pos,ie);return this.pos=ie,ye},readPackedVarint:function(ie,ye){if(this.type!==n.Bytes)return ie.push(this.readVarint(ye));var Se=h(this);for(ie=ie||[];this.pos<Se;)ie.push(this.readVarint(ye));return ie},readPackedSVarint:function(ie){if(this.type!==n.Bytes)return ie.push(this.readSVarint());var ye=h(this);for(ie=ie||[];this.pos<ye;)ie.push(this.readSVarint());return ie},readPackedBoolean:function(ie){if(this.type!==n.Bytes)return ie.push(this.readBoolean());var ye=h(this);for(ie=ie||[];this.pos<ye;)ie.push(this.readBoolean());return ie},readPackedFloat:function(ie){if(this.type!==n.Bytes)return ie.push(this.readFloat());var ye=h(this);for(ie=ie||[];this.pos<ye;)ie.push(this.readFloat());return ie},readPackedDouble:function(ie){if(this.type!==n.Bytes)return ie.push(this.readDouble());var ye=h(this);for(ie=ie||[];this.pos<ye;)ie.push(this.readDouble());return ie},readPackedFixed32:function(ie){if(this.type!==n.Bytes)return ie.push(this.readFixed32());var ye=h(this);for(ie=ie||[];this.pos<ye;)ie.push(this.readFixed32());return ie},readPackedSFixed32:function(ie){if(this.type!==n.Bytes)return ie.push(this.readSFixed32());var ye=h(this);for(ie=ie||[];this.pos<ye;)ie.push(this.readSFixed32());return ie},readPackedFixed64:function(ie){if(this.type!==n.Bytes)return ie.push(this.readFixed64());var ye=h(this);for(ie=ie||[];this.pos<ye;)ie.push(this.readFixed64());return ie},readPackedSFixed64:function(ie){if(this.type!==n.Bytes)return ie.push(this.readSFixed64());var ye=h(this);for(ie=ie||[];this.pos<ye;)ie.push(this.readSFixed64());return ie},skip:function(ie){var ye=7&ie;if(ye===n.Varint)for(;this.buf[this.pos++]>127;);else if(ye===n.Bytes)this.pos=this.readVarint()+this.pos;else if(ye===n.Fixed32)this.pos+=4;else{if(ye!==n.Fixed64)throw new Error("Unimplemented type: "+ye);this.pos+=8}},writeTag:function(ie,ye){this.writeVarint(ie<<3|ye)},realloc:function(ie){for(var ye=this.length||16;ye<this.pos+ie;)ye*=2;if(ye!==this.length){var Se=new Uint8Array(ye);Se.set(this.buf),this.buf=Se,this.length=ye}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(ie){this.realloc(4),le(this.buf,ie,this.pos),this.pos+=4},writeSFixed32:function(ie){this.realloc(4),le(this.buf,ie,this.pos),this.pos+=4},writeFixed64:function(ie){this.realloc(8),le(this.buf,-1&ie,this.pos),le(this.buf,Math.floor(ie*f),this.pos+4),this.pos+=8},writeSFixed64:function(ie){this.realloc(8),le(this.buf,-1&ie,this.pos),le(this.buf,Math.floor(ie*f),this.pos+4),this.pos+=8},writeVarint:function(ie){(ie=+ie||0)>268435455||ie<0?function(ye,Se){var $e,et;if(ye>=0?($e=ye%4294967296|0,et=ye/4294967296|0):(et=~(-ye/4294967296),4294967295^($e=~(-ye%4294967296))?$e=$e+1|0:($e=0,et=et+1|0)),ye>=18446744073709552e3||ye<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");Se.realloc(10),function(Ye,Xe,Ct){Ct.buf[Ct.pos++]=127&Ye|128,Ye>>>=7,Ct.buf[Ct.pos++]=127&Ye|128,Ye>>>=7,Ct.buf[Ct.pos++]=127&Ye|128,Ye>>>=7,Ct.buf[Ct.pos++]=127&Ye|128,Ct.buf[Ct.pos]=127&(Ye>>>=7)}($e,0,Se),function(Ye,Xe){var Ct=(7&Ye)<<4;Xe.buf[Xe.pos++]|=Ct|((Ye>>>=3)?128:0),Ye&&(Xe.buf[Xe.pos++]=127&Ye|((Ye>>>=7)?128:0),Ye&&(Xe.buf[Xe.pos++]=127&Ye|((Ye>>>=7)?128:0),Ye&&(Xe.buf[Xe.pos++]=127&Ye|((Ye>>>=7)?128:0),Ye&&(Xe.buf[Xe.pos++]=127&Ye|((Ye>>>=7)?128:0),Ye&&(Xe.buf[Xe.pos++]=127&Ye)))))}(et,Se)}(ie,this):(this.realloc(4),this.buf[this.pos++]=127&ie|(ie>127?128:0),ie<=127||(this.buf[this.pos++]=127&(ie>>>=7)|(ie>127?128:0),ie<=127||(this.buf[this.pos++]=127&(ie>>>=7)|(ie>127?128:0),ie<=127||(this.buf[this.pos++]=ie>>>7&127))))},writeSVarint:function(ie){this.writeVarint(ie<0?2*-ie-1:2*ie)},writeBoolean:function(ie){this.writeVarint(!!ie)},writeString:function(ie){ie=String(ie),this.realloc(4*ie.length),this.pos++;var ye=this.pos;this.pos=function($e,et,Ye){for(var Xe,Ct,at=0;at<et.length;at++){if((Xe=et.charCodeAt(at))>55295&&Xe<57344){if(!Ct){Xe>56319||at+1===et.length?($e[Ye++]=239,$e[Ye++]=191,$e[Ye++]=189):Ct=Xe;continue}if(Xe<56320){$e[Ye++]=239,$e[Ye++]=191,$e[Ye++]=189,Ct=Xe;continue}Xe=Ct-55296<<10|Xe-56320|65536,Ct=null}else Ct&&($e[Ye++]=239,$e[Ye++]=191,$e[Ye++]=189,Ct=null);Xe<128?$e[Ye++]=Xe:(Xe<2048?$e[Ye++]=Xe>>6|192:(Xe<65536?$e[Ye++]=Xe>>12|224:($e[Ye++]=Xe>>18|240,$e[Ye++]=Xe>>12&63|128),$e[Ye++]=Xe>>6&63|128),$e[Ye++]=63&Xe|128)}return Ye}(this.buf,ie,this.pos);var Se=this.pos-ye;Se>=128&&E(ye,Se,this),this.pos=ye-1,this.writeVarint(Se),this.pos+=Se},writeFloat:function(ie){this.realloc(4),c.write(this.buf,ie,this.pos,!0,23,4),this.pos+=4},writeDouble:function(ie){this.realloc(8),c.write(this.buf,ie,this.pos,!0,52,8),this.pos+=8},writeBytes:function(ie){var ye=ie.length;this.writeVarint(ye),this.realloc(ye);for(var Se=0;Se<ye;Se++)this.buf[this.pos++]=ie[Se]},writeRawMessage:function(ie,ye){this.pos++;var Se=this.pos;ie(ye,this);var $e=this.pos-Se;$e>=128&&E(Se,$e,this),this.pos=Se-1,this.writeVarint($e),this.pos+=$e},writeMessage:function(ie,ye,Se){this.writeTag(ie,n.Bytes),this.writeRawMessage(ye,Se)},writePackedVarint:function(ie,ye){ye.length&&this.writeMessage(ie,O,ye)},writePackedSVarint:function(ie,ye){ye.length&&this.writeMessage(ie,L,ye)},writePackedBoolean:function(ie,ye){ye.length&&this.writeMessage(ie,z,ye)},writePackedFloat:function(ie,ye){ye.length&&this.writeMessage(ie,C,ye)},writePackedDouble:function(ie,ye){ye.length&&this.writeMessage(ie,$,ye)},writePackedFixed32:function(ie,ye){ye.length&&this.writeMessage(ie,P,ye)},writePackedSFixed32:function(ie,ye){ye.length&&this.writeMessage(ie,A,ye)},writePackedFixed64:function(ie,ye){ye.length&&this.writeMessage(ie,k,ye)},writePackedSFixed64:function(ie,ye){ye.length&&this.writeMessage(ie,X,ye)},writeBytesField:function(ie,ye){this.writeTag(ie,n.Bytes),this.writeBytes(ye)},writeFixed32Field:function(ie,ye){this.writeTag(ie,n.Fixed32),this.writeFixed32(ye)},writeSFixed32Field:function(ie,ye){this.writeTag(ie,n.Fixed32),this.writeSFixed32(ye)},writeFixed64Field:function(ie,ye){this.writeTag(ie,n.Fixed64),this.writeFixed64(ye)},writeSFixed64Field:function(ie,ye){this.writeTag(ie,n.Fixed64),this.writeSFixed64(ye)},writeVarintField:function(ie,ye){this.writeTag(ie,n.Varint),this.writeVarint(ye)},writeSVarintField:function(ie,ye){this.writeTag(ie,n.Varint),this.writeSVarint(ye)},writeStringField:function(ie,ye){this.writeTag(ie,n.Bytes),this.writeString(ye)},writeFloatField:function(ie,ye){this.writeTag(ie,n.Fixed32),this.writeFloat(ye)},writeDoubleField:function(ie,ye){this.writeTag(ie,n.Fixed64),this.writeDouble(ye)},writeBooleanField:function(ie,ye){this.writeVarintField(ie,!!ye)}},pg}var G0=Be(e1());const jy=3;function lw(c,n,a){n.glyphs=[],c===1&&a.readMessage(t1,n)}function t1(c,n,a){if(c===3){const{id:f,bitmap:v,width:h,height:y,left:E,top:O,advance:L}=a.readMessage(n1,{});n.glyphs.push({id:f,bitmap:new Qf({width:h+2*jy,height:y+2*jy},v),metrics:{width:h,height:y,left:E,top:O,advance:L}})}else c===4?n.ascender=a.readSVarint():c===5&&(n.descender=a.readSVarint())}function n1(c,n,a){c===1?n.id=a.readVarint():c===2?n.bitmap=a.readBytes():c===3?n.width=a.readVarint():c===4?n.height=a.readVarint():c===5?n.left=a.readSVarint():c===6?n.top=a.readSVarint():c===7&&(n.advance=a.readVarint())}const r1=jy,hu={horizontal:1,vertical:2,horizontalOnly:3};class mg{constructor(){this.scale=1,this.fontStack="",this.image=null}static forText(n,a){const f=new mg;return f.scale=n||1,f.fontStack=a,f}static forImage(n){const a=new mg;return a.image=n,a}}class gg{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(n,a){const f=new gg;for(let v=0;v<n.sections.length;v++){const h=n.sections[v];h.image?f.addImageSection(h):f.addTextSection(h,a)}return f}length(){return this.text.length}getSection(n){return this.sections[this.sectionIndex[n]]}getSections(){return this.sections}getSectionIndex(n){return this.sectionIndex[n]}getCodePoint(n){return this.text.codePointAt(n)}verticalizePunctuation(n){this.text=function(a,f){let v="";for(let h=0;h<a.length;h++){const y=a.charCodeAt(h+1)||null,E=a.charCodeAt(h-1)||null;v+=!f&&(y&&zm(y)&&!fg[a[h+1]]||E&&zm(E)&&!fg[a[h-1]])||!fg[a[h]]?a[h]:fg[a[h]]}return v}(this.text,n)}trim(){let n=0;for(let f=0;f<this.text.length&&vg[this.text.charCodeAt(f)];f++)n++;let a=this.text.length;for(let f=this.text.length-1;f>=0&&f>=n&&vg[this.text.charCodeAt(f)];f--)a--;this.text=this.text.substring(n,a),this.sectionIndex=this.sectionIndex.slice(n,a)}substring(n,a){const f=new gg;return f.text=this.text.substring(n,a),f.sectionIndex=this.sectionIndex.slice(n,a),f.sections=this.sections,f}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((n,a)=>Math.max(n,this.sections[a].scale),0)}addTextSection(n,a){this.text+=n.text,this.sections.push(mg.forText(n.scale,n.fontStack||a));const f=this.sections.length-1;for(let v=0;v<n.text.length;++v)this.sectionIndex.push(f)}addImageSection(n){const a=n.image&&n.image.namePrimary?n.image.getPrimary():null;if(!a)return void jr("Can't add FormattedSection with an empty image.");const f=this.getNextImageSectionCharCode();f?(this.text+=String.fromCodePoint(f),this.sections.push(mg.forImage(a)),this.sectionIndex.push(this.sections.length-1)):jr("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function Zy(c,n,a,f,v,h,y,E,O,L,C,$,z,P,A){const k=gg.fromFeature(c,v);$===hu.vertical&&k.verticalizePunctuation(z);let X=[];const ee=function(Se,$e,et,Ye,Xe,Ct){if(!Se)return[];const at=[],St=function(Yt,un,Wt,jn,cr,kn){let Yr=0;for(let kr=0;kr<Yt.length();kr++){const br=Yt.getSection(kr);Yr+=uw(Yt.getCodePoint(kr),br,jn,cr,un,kn)}return Yr/Math.max(1,Math.ceil(Yr/Wt))}(Se,$e,et,Ye,Xe,Ct),At=Se.text.indexOf("\u200B")>=0;let $t=0;for(let Yt=0;Yt<Se.length();Yt++){const un=Se.getSection(Yt),Wt=Se.getCodePoint(Yt);if(vg[Wt]||($t+=uw(Wt,un,Ye,Xe,$e,Ct)),Yt<Se.length()-1){const jn=!((Ft=Wt)<11904||!(Ai["Bopomofo Extended"](Ft)||Ai.Bopomofo(Ft)||Ai["CJK Compatibility Forms"](Ft)||Ai["CJK Compatibility Ideographs"](Ft)||Ai["CJK Compatibility"](Ft)||Ai["CJK Radicals Supplement"](Ft)||Ai["CJK Strokes"](Ft)||Ai["CJK Symbols and Punctuation"](Ft)||Ai["CJK Unified Ideographs Extension A"](Ft)||Ai["CJK Unified Ideographs"](Ft)||Ai["Enclosed CJK Letters and Months"](Ft)||Ai["Halfwidth and Fullwidth Forms"](Ft)||Ai.Hiragana(Ft)||Ai["Ideographic Description Characters"](Ft)||Ai["Kangxi Radicals"](Ft)||Ai["Katakana Phonetic Extensions"](Ft)||Ai.Katakana(Ft)||Ai["Vertical Forms"](Ft)||Ai["Yi Radicals"](Ft)||Ai["Yi Syllables"](Ft)));(cw[Wt]||jn||un.image)&&at.push(fw(Yt+1,$t,St,at,dw(Wt,Se.getCodePoint(Yt+1),jn&&At),!1))}}var Ft;return o1(fw(Se.length(),$t,St,at,0,!0))}(k,L,h,n,f,P),{processBidirectionalText:le,processStyledBidirectionalText:ue}=$c;if(le&&k.sections.length===1){const Se=le(k.toString(),ee);for(const $e of Se){const et=new gg;et.text=$e,et.sections=k.sections;for(let Ye=0;Ye<$e.length;Ye++)et.sectionIndex.push(0);X.push(et)}}else if(ue){const Se=ue(k.text,k.sectionIndex,ee);for(const $e of Se){const et=new gg;et.text=$e[0],et.sectionIndex=$e[1],et.sections=k.sections,X.push(et)}}else X=function(Se,$e){const et=[],Ye=Se.text;let Xe=0;for(const Ct of $e)et.push(Se.substring(Xe,Ct)),Xe=Ct;return Xe<Ye.length&&et.push(Se.substring(Xe,Ye.length)),et}(k,ee);const ie=[],ye={positionedLines:ie,text:k.toString(),top:C[1],bottom:C[1],left:C[0],right:C[0],writingMode:$,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(Se,$e,et,Ye,Xe,Ct,at,St,At,$t,Ft,Yt){let un=0,Wt=0,jn=0;const cr=St==="right"?1:St==="left"?0:.5;let kn=!1;for(const ti of Xe){const ui=ti.getSections();for(const wo of ui){if(wo.image)continue;const na=$e[wo.fontStack];if(na&&(kn=na.ascender!==void 0&&na.descender!==void 0,!kn))break}if(!kn)break}let Yr=0;for(const ti of Xe){ti.trim();const ui=ti.getMaxScale(),wo=(ui-1)*vc,na={positionedGlyphs:[],lineOffset:0};Se.positionedLines[Yr]=na;const la=na.positionedGlyphs;let ca=0;if(!ti.length()){Wt+=Ct,++Yr;continue}let Ma=0,$a=0;for(let Ms=0;Ms<ti.length();Ms++){const jo=ti.getSection(Ms),xs=ti.getSectionIndex(Ms),Cs=ti.getCodePoint(Ms);let el=jo.scale,xl=null,Nl=null,cl=null,pl=vc,Cl=0;const Bl=!(At===hu.horizontal||!Ft&&!Ff(Cs)||Ft&&(vg[Cs]||(kr=Cs,Ai.Arabic(kr)||Ai["Arabic Supplement"](kr)||Ai["Arabic Extended-A"](kr)||Ai["Arabic Presentation Forms-A"](kr)||Ai["Arabic Presentation Forms-B"](kr))));if(jo.image){const bc=Ye[jo.image.serialize()];if(!bc)continue;cl=jo.image.id,Se.iconsInText=Se.iconsInText||!0,Nl=bc.paddedRect;const Hs=bc.displaySize;el=el*vc/Yt,xl={width:Hs[0],height:Hs[1],left:0,top:-r1,advance:Bl?Hs[1]:Hs[0],localGlyph:!1},Cl=kn?-xl.height*el:ui*vc-17-Hs[1]*el,pl=xl.advance;const Xc=(Bl?Hs[0]:Hs[1])*el-vc*ui;Xc>0&&Xc>ca&&(ca=Xc)}else{const bc=et[jo.fontStack];if(!bc)continue;bc[Cs]&&(Nl=bc[Cs]);const Hs=$e[jo.fontStack];if(!Hs)continue;const Xc=Hs.glyphs[Cs];if(!Xc)continue;if(xl=Xc.metrics,pl=Cs!==8203?vc:0,kn){const ad=Hs.ascender!==void 0?Math.abs(Hs.ascender):0,Au=Hs.descender!==void 0?Math.abs(Hs.descender):0,Du=(ad+Au)*el;Ma<Du&&(Ma=Du,$a=(ad-Au)/2*el),Cl=-ad*el}else Cl=(ui-el)*vc-17}Bl?(Se.verticalizable=!0,la.push({glyph:Cs,imageName:cl,x:un,y:Wt+Cl,vertical:Bl,scale:el,localGlyph:xl.localGlyph,fontStack:jo.fontStack,sectionIndex:xs,metrics:xl,rect:Nl}),un+=pl*el+$t):(la.push({glyph:Cs,imageName:cl,x:un,y:Wt+Cl,vertical:Bl,scale:el,localGlyph:xl.localGlyph,fontStack:jo.fontStack,sectionIndex:xs,metrics:xl,rect:Nl}),un+=xl.advance*el+$t)}la.length!==0&&(jn=Math.max(un-$t,jn),kn?hw(la,cr,ca,$a,Ct*ui/2):hw(la,cr,ca,0,Ct/2)),un=0;const Vs=Ct*ui+ca;na.lineOffset=Math.max(ca,wo),Wt+=Vs,++Yr}var kr;const br=Wt,{horizontalAlign:fr,verticalAlign:Mi}=Vy(at);(function(ti,ui,wo,na,la,ca){const Ma=(ui-wo)*la,$a=-ca*na;for(const Vs of ti)for(const Ms of Vs.positionedGlyphs)Ms.x+=Ma,Ms.y+=$a})(Se.positionedLines,cr,fr,Mi,jn,br),Se.top+=-Mi*br,Se.bottom=Se.top+br,Se.left+=-fr*jn,Se.right=Se.left+jn,Se.hasBaseline=kn}(ye,n,a,f,X,y,E,O,$,L,z,A),!function(Se){for(const $e of Se)if($e.positionedGlyphs.length!==0)return!1;return!0}(ie)&&ye}const vg={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},cw={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function uw(c,n,a,f,v,h){if(n.image){const y=f[n.image.serialize()];return y?y.displaySize[0]*n.scale*vc/h+v:0}{const y=a[n.fontStack],E=y&&y.glyphs[c];return E?E.metrics.advance*n.scale+v:0}}function i1(c,n,a,f){const v=Math.pow(c-n,2);return f?c<n?v/2:2*v:v+Math.abs(a)*a}function dw(c,n,a){let f=0;return c===10&&(f-=1e4),a&&(f+=150),c!==40&&c!==65288||(f+=50),n!==41&&n!==65289||(f+=50),f}function fw(c,n,a,f,v,h){let y=null,E=i1(n,a,v,h);for(const O of f){const L=i1(n-O.x,a,v,h)+O.badness;L<=E&&(y=O,E=L)}return{index:c,x:n,priorBreak:y,badness:E}}function o1(c){return c?o1(c.priorBreak).concat(c.index):[]}function Vy(c){let n=.5,a=.5;switch(c){case"right":case"top-right":case"bottom-right":n=1;break;case"left":case"top-left":case"bottom-left":n=0}switch(c){case"bottom":case"bottom-right":case"bottom-left":a=1;break;case"top":case"top-right":case"top-left":a=0}return{horizontalAlign:n,verticalAlign:a}}function hw(c,n,a,f,v){if(!(n||a||f||v))return;const h=c.length-1,y=c[h],E=(y.x+y.metrics.advance*y.scale)*n;for(let O=0;O<=h;O++)c[O].x-=E,c[O].y+=a+f+v}function a1(c,n,a,f){const{horizontalAlign:v,verticalAlign:h}=Vy(f),y=a[0]-c.displaySize[0]*v,E=a[1]-c.displaySize[1]*h;return{imagePrimary:c,imageSecondary:n,top:E,bottom:E+c.displaySize[1],left:y,right:y+c.displaySize[0]}}function Hy(c,n,a,f,v,h){const y=c.imagePrimary;let E;if(y.content){const X=y.content,ee=y.pixelRatio||1;E=[X[0]/ee,X[1]/ee,y.displaySize[0]-X[2]/ee,y.displaySize[1]-X[3]/ee]}const O=n.left*h,L=n.right*h;let C,$,z,P;a==="width"||a==="both"?(P=v[0]+O-f[3],$=v[0]+L+f[1]):(P=v[0]+(O+L-y.displaySize[0])/2,$=P+y.displaySize[0]);const A=n.top*h,k=n.bottom*h;return a==="height"||a==="both"?(C=v[1]+A-f[0],z=v[1]+k+f[2]):(C=v[1]+(A+k-y.displaySize[1])/2,z=C+y.displaySize[1]),{imagePrimary:y,imageSecondary:void 0,top:C,right:$,bottom:z,left:P,collisionPadding:E}}class xf extends Sn{constructor(n,a,f,v,h){super(n,a),this.angle=v,this.z=f,h!==void 0&&(this.segment=h)}clone(){return new xf(this.x,this.y,this.z,this.angle,this.segment)}}function s1(c,n,a,f,v){if(n.segment===void 0)return!0;let h=n,y=n.segment+1,E=0;for(;E>-a/2;){if(y--,y<0)return!1;E-=c[y].dist(h),h=c[y]}E+=c[y].dist(c[y+1]),y++;const O=[];let L=0;for(;E<a/2;){const C=c[y],$=c[y+1];if(!$)return!1;let z=c[y-1].angleTo(C)-C.angleTo($);for(z=Math.abs((z+3*Math.PI)%(2*Math.PI)-Math.PI),O.push({distance:E,angleDelta:z}),L+=z;E-O[0].distance>f;)L-=O.shift().angleDelta;if(L>v)return!1;y++,E+=C.dist($)}return!0}function l1(c){let n=0;for(let a=0;a<c.length-1;a++)n+=c[a].dist(c[a+1]);return n}function c1(c,n,a){return c?.6*n*a:0}function nd(c,n){return Math.max(c?c.right-c.left:0,n?n.right-n.left:0)}function pw(c,n,a,f,v,h){const y=c1(a,v,h),E=nd(a,f)*h;let O=0;const L=l1(c)/2;for(let C=0;C<c.length-1;C++){const $=c[C],z=c[C+1],P=$.dist(z);if(O+P>L){const A=(L-O)/P,k=si($.x,z.x,A),X=si($.y,z.y,A),ee=new xf(k,X,0,z.angleTo($),C);return!y||s1(c,ee,E,y,n)?ee:void 0}O+=P}}function mw(c,n,a,f,v,h,y,E,O){const L=c1(f,h,y),C=nd(f,v),$=C*y,z=c[0].x===0||c[0].x===O||c[0].y===0||c[0].y===O;return n-$<n/4&&(n=$+n/4),u1(c,z?n/2*E%n:(C/2+2*h)*y*E%n,n,L,a,$,z,!1,O)}function u1(c,n,a,f,v,h,y,E,O){const L=h/2,C=l1(c);let $=0,z=n-a,P=[];for(let A=0;A<c.length-1;A++){const k=c[A],X=c[A+1],ee=k.dist(X),le=X.angleTo(k);for(;z+a<$+ee;){z+=a;const ue=(z-$)/ee,ie=si(k.x,X.x,ue),ye=si(k.y,X.y,ue);if(ie>=0&&ie<O&&ye>=0&&ye<O&&z-L>=0&&z+L<=C){const Se=new xf(ie,ye,0,le,A);f&&!s1(c,Se,h,f,v)||P.push(Se)}}$+=ee}return E||P.length||y||(P=u1(c,$/2,a,f,v,h,y,!0,O)),P}function d1(c,n,a,f,v){const h=[];for(let y=0;y<c.length;y++){const E=c[y];let O;for(let L=0;L<E.length-1;L++){let C=E[L],$=E[L+1];C.x<n&&$.x<n||(C.x<n?C=new Sn(n,C.y+(n-C.x)/($.x-C.x)*($.y-C.y))._round():$.x<n&&($=new Sn(n,C.y+(n-C.x)/($.x-C.x)*($.y-C.y))._round()),C.y<a&&$.y<a||(C.y<a?C=new Sn(C.x+(a-C.y)/($.y-C.y)*($.x-C.x),a)._round():$.y<a&&($=new Sn(C.x+(a-C.y)/($.y-C.y)*($.x-C.x),a)._round()),C.x>=f&&$.x>=f||(C.x>=f?C=new Sn(f,C.y+(f-C.x)/($.x-C.x)*($.y-C.y))._round():$.x>=f&&($=new Sn(f,C.y+(f-C.x)/($.x-C.x)*($.y-C.y))._round()),C.y>=v&&$.y>=v||(C.y>=v?C=new Sn(C.x+(v-C.y)/($.y-C.y)*($.x-C.x),v)._round():$.y>=v&&($=new Sn(C.x+(v-C.y)/($.y-C.y)*($.x-C.x),v)._round()),O&&C.equals(O[O.length-1])||(O=[C],h.push(O)),O.push($)))))}}return h}function f1(c){let n=0,a=0;for(const y of c)n+=y.w*y.h,a=Math.max(a,y.w);c.sort((y,E)=>E.h-y.h);const f=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(n/.95)),a),h:1/0}];let v=0,h=0;for(const y of c)for(let E=f.length-1;E>=0;E--){const O=f[E];if(!(y.w>O.w||y.h>O.h)){if(y.x=O.x,y.y=O.y,h=Math.max(h,y.y+y.h),v=Math.max(v,y.x+y.w),y.w===O.w&&y.h===O.h){const L=f.pop();E<f.length&&(f[E]=L)}else y.h===O.h?(O.x+=y.w,O.w-=y.w):y.w===O.w?(O.y+=y.h,O.h-=y.h):(f.push({x:O.x+y.w,y:O.y,w:O.w-y.w,h:y.h}),O.y+=y.h,O.h-=y.h);break}}return{w:v,h,fill:n/(v*h)||0}}bi(xf,"Anchor");const Rd=1;class Ad{static getImagePositionScale(n,a,f){return a&&n&&n.options&&n.options.transform?{x:n.options.transform.a,y:n.options.transform.d}:{x:f,y:f}}constructor(n,{pixelRatio:a,version:f,stretchX:v,stretchY:h,content:y,sdf:E,usvg:O},L,C){this.paddedRect=n,this.pixelRatio=a,this.stretchX=v,this.stretchY=h,this.content=y,this.version=f,this.padding=L,this.sdf=E,this.scale=Ad.getImagePositionScale(C,O,a)}get tl(){return[this.paddedRect.x+this.padding,this.paddedRect.y+this.padding]}get br(){return[this.paddedRect.x+this.paddedRect.w-this.padding,this.paddedRect.y+this.paddedRect.h-this.padding]}get displaySize(){return[(this.paddedRect.w-2*this.padding)/this.scale.x,(this.paddedRect.h-2*this.padding)/this.scale.y]}}class h1{constructor(n,a,f){const v={},h={};this.haveRenderCallbacks=[];const y=[];this.addImages(n,v,Rd,y),this.addImages(a,h,2,y);const{w:E,h:O}=f1(y),L=new Yl({width:E||1,height:O||1});for(const C in n){const $=n[C],z=v[C].paddedRect;Yl.copy($.data,L,{x:0,y:0},{x:z.x+Rd,y:z.y+Rd},$.data,f,$.sdf)}for(const C in a){const $=a[C],z=h[C].paddedRect;let P=h[C].padding;const A=z.x+P,k=z.y+P,X=$.data.width,ee=$.data.height;P=P>1?P-1:P,Yl.copy($.data,L,{x:0,y:0},{x:A,y:k},$.data,f),Yl.copy($.data,L,{x:0,y:ee-P},{x:A,y:k-P},{width:X,height:P},f),Yl.copy($.data,L,{x:0,y:0},{x:A,y:k+ee},{width:X,height:P},f),Yl.copy($.data,L,{x:X-P,y:0},{x:A-P,y:k},{width:P,height:ee},f),Yl.copy($.data,L,{x:0,y:0},{x:A+X,y:k},{width:P,height:ee},f),Yl.copy($.data,L,{x:X-P,y:ee-P},{x:A-P,y:k-P},{width:P,height:P},f),Yl.copy($.data,L,{x:0,y:ee-P},{x:A+X,y:k-P},{width:P,height:P},f),Yl.copy($.data,L,{x:0,y:0},{x:A+X,y:k+ee},{width:P,height:P},f),Yl.copy($.data,L,{x:X-P,y:0},{x:A-P,y:k+ee},{width:P,height:P},f)}this.lut=f,this.image=L,this.iconPositions=v,this.patternPositions=h}addImages(n,a,f,v){for(const h in n){const y=n[h],E={x:0,y:0,w:y.data.width+2*f,h:y.data.height+2*f};v.push(E);const O=qn.deserializeFromString(h);a[h]=new Ad(E,y,f,O),y.hasRenderCallback&&this.haveRenderCallbacks.push(O.id)}}patchUpdatedImages(n,a,f){this.haveRenderCallbacks=this.haveRenderCallbacks.filter(v=>n.hasImage(v,f)),n.dispatchRenderCallbacks(this.haveRenderCallbacks,f);for(const v in n.getUpdatedImages(f)){for(const h of Object.keys(this.iconPositions))qn.deserializeId(h)===v&&this.patchUpdatedImage(this.iconPositions[h],n.getImage(v,f),a);for(const h of Object.keys(this.patternPositions))qn.deserializeId(h)===v&&this.patchUpdatedImage(this.patternPositions[h],n.getImage(v,f),a)}}patchUpdatedImage(n,a,f){if(!n||!a||n.version===a.version)return;n.version=a.version;const[v,h]=n.tl,y=n.sdf;if(this.lut||y){const E={width:a.data.width,height:a.data.height},O=new Yl(E);Yl.copy(a.data,O,{x:0,y:0},{x:0,y:0},E,this.lut,y),f.update(O,{position:{x:v,y:h}})}else f.update(a.data,{position:{x:v,y:h}})}}bi(Ad,"ImagePosition"),bi(h1,"ImageAtlas");const yg=1e20;function p1(c,n,a,f,v,h,y,E,O){for(let L=n;L<n+f;L++)m1(c,a*h+L,h,v,y,E,O);for(let L=a;L<a+v;L++)m1(c,L*h+n,1,f,y,E,O)}function m1(c,n,a,f,v,h,y){h[0]=0,y[0]=-yg,y[1]=yg,v[0]=c[n];for(let E=1,O=0,L=0;E<f;E++){v[E]=c[n+E*a];const C=E*E;do{const $=h[O];L=(v[E]-v[$]+C-$*$)/(E-$)/2}while(L<=y[O]&&--O>-1);O++,h[O]=E,y[O]=L,y[O+1]=yg}for(let E=0,O=0;E<f;E++){for(;y[O+1]<E;)O++;const L=h[O],C=E-L;c[n+E*a]=v[L]+C*C}}const rd=2,X0={none:0,ideographs:1,all:2};class _g{constructor(n,a,f){this.requestManager=n,this.localGlyphMode=a,this.localFontFamily=f,this.urls={},this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(n,a){this.urls[a]=n}getGlyphs(n,a,f){const v=[],h=this.urls[a]||vi.GLYPHS_URL;for(const y in n)for(const E of n[y])v.push({stack:y,id:E});No(v,({stack:y,id:E},O)=>{let L=this.entries[y];L||(L=this.entries[y]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let C=L.glyphs[E];if(C!==void 0)return void O(null,{stack:y,id:E,glyph:C});if(C=this._tinySDF(L,y,E),C)return L.glyphs[E]=C,void O(null,{stack:y,id:E,glyph:C});const $=Math.floor(E/256);if(256*$>65535)return jr("glyphs > 65535 not supported"),void O(null,{stack:y,id:E,glyph:C});if(L.ranges[$])return void O(null,{stack:y,id:E,glyph:C});let z=L.requests[$];z||(z=L.requests[$]=[],_g.loadGlyphRange(y,$,h,this.requestManager,(P,A)=>{if(A){L.ascender=A.ascender,L.descender=A.descender;for(const k in A.glyphs)this._doesCharSupportLocalGlyph(+k)||(L.glyphs[+k]=A.glyphs[+k]);L.ranges[$]=!0}for(const k of z)k(P,A);delete L.requests[$]})),z.push((P,A)=>{P?O(P):A&&O(null,{stack:y,id:E,glyph:A.glyphs[E]||null})})},(y,E)=>{if(y)f(y);else if(E){const O={};for(const{stack:L,id:C,glyph:$}of E)O[L]===void 0&&(O[L]={}),O[L].glyphs===void 0&&(O[L].glyphs={}),O[L].glyphs[C]=$&&{id:$.id,bitmap:$.bitmap.clone(),metrics:$.metrics},O[L].ascender=this.entries[L].ascender,O[L].descender=this.entries[L].descender;f(null,O)}})}_doesCharSupportLocalGlyph(n){return this.localGlyphMode!==X0.none&&(this.localGlyphMode===X0.all?!!this.localFontFamily:!!this.localFontFamily&&(Ai["CJK Unified Ideographs"](n)||Ai["Hangul Syllables"](n)||Ai.Hiragana(n)||Ai.Katakana(n)||Ai["CJK Symbols and Punctuation"](n)||Ai["CJK Unified Ideographs Extension A"](n)||Ai["CJK Unified Ideographs Extension B"](n)||Ai.Osage(n)))}_tinySDF(n,a,f){const v=this.localFontFamily;if(!v||!this._doesCharSupportLocalGlyph(f))return;let h=n.tinySDF;if(!h){let k="400";/bold/i.test(a)?k="900":/medium/i.test(a)?k="500":/light/i.test(a)&&(k="200"),h=n.tinySDF=new _g.TinySDF({fontFamily:v,fontWeight:k,fontSize:24*rd,buffer:3*rd,radius:8*rd}),h.fontWeight=k}if(this.localGlyphs[h.fontWeight][f])return this.localGlyphs[h.fontWeight][f];const y=String.fromCodePoint(f),{data:E,width:O,height:L,glyphWidth:C,glyphHeight:$,glyphLeft:z,glyphTop:P,glyphAdvance:A}=h.draw(y);return this.localGlyphs[h.fontWeight][f]={id:f,bitmap:new Qf({width:O,height:L},E),metrics:{width:C/rd,height:$/rd,left:z/rd,top:P/rd-27,advance:A/rd,localGlyph:!0}}}}_g.loadGlyphRange=function(c,n,a,f,v){const h=256*n,y=h+255,E=f.transformRequest(f.normalizeGlyphsURL(a).replace("{fontstack}",c).replace("{range}",`${h}-${y}`),ma.Glyphs);Ln(E,(O,L)=>{if(O)v(O);else if(L){const C={},$=function(z){return new G0(z).readFields(lw,{})}(L);for(const z of $.glyphs)C[z.id]=z;v(null,{glyphs:C,ascender:$.ascender,descender:$.descender})}})},_g.TinySDF=class{constructor({fontSize:c=24,buffer:n=3,radius:a=8,cutoff:f=.25,fontFamily:v="sans-serif",fontWeight:h="normal",fontStyle:y="normal"}={}){this.buffer=n,this.cutoff=f,this.radius=a;const E=this.size=c+4*n,O=this._createCanvas(E),L=this.ctx=O.getContext("2d",{willReadFrequently:!0});L.font=`${y} ${h} ${c}px ${v}`,L.textBaseline="alphabetic",L.textAlign="left",L.fillStyle="black",this.gridOuter=new Float64Array(E*E),this.gridInner=new Float64Array(E*E),this.f=new Float64Array(E),this.z=new Float64Array(E+1),this.v=new Uint16Array(E)}_createCanvas(c){const n=document.createElement("canvas");return n.width=n.height=c,n}draw(c){const{width:n,actualBoundingBoxAscent:a,actualBoundingBoxDescent:f,actualBoundingBoxLeft:v,actualBoundingBoxRight:h}=this.ctx.measureText(c),y=Math.ceil(a),E=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(h-v))),O=Math.min(this.size-this.buffer,y+Math.ceil(f)),L=E+2*this.buffer,C=O+2*this.buffer,$=Math.max(L*C,0),z=new Uint8ClampedArray($),P={data:z,width:L,height:C,glyphWidth:E,glyphHeight:O,glyphTop:y,glyphLeft:0,glyphAdvance:n};if(E===0||O===0)return P;const{ctx:A,buffer:k,gridInner:X,gridOuter:ee}=this;A.clearRect(k,k,E,O),A.fillText(c,k,k+y);const le=A.getImageData(k,k,E,O);ee.fill(yg,0,$),X.fill(0,0,$);for(let ue=0;ue<O;ue++)for(let ie=0;ie<E;ie++){const ye=le.data[4*(ue*E+ie)+3]/255;if(ye===0)continue;const Se=(ue+k)*L+ie+k;if(ye===1)ee[Se]=0,X[Se]=yg;else{const $e=.5-ye;ee[Se]=$e>0?$e*$e:0,X[Se]=$e<0?$e*$e:0}}p1(ee,0,0,L,C,L,this.f,this.v,this.z),p1(X,k,k,E,O,L,this.f,this.v,this.z);for(let ue=0;ue<$;ue++){const ie=Math.sqrt(ee[ue])-Math.sqrt(X[ue]);z[ue]=Math.round(255-255*(ie/this.radius+this.cutoff))}return P}};const lh=Rd;function Uy(c,n){return c+n[1]-n[0]}function id(c,n,a,f,v=1){const h=[],y=c.imagePrimary,E=y.pixelRatio,O=y.paddedRect.w-2*lh,L=y.paddedRect.h-2*lh,C=(c.right-c.left)*v,$=(c.bottom-c.top)*v,z=y.stretchX||[[0,O]],P=y.stretchY||[[0,L]],A=z.reduce(Uy,0),k=P.reduce(Uy,0),X=O-A,ee=L-k;let le=0,ue=A,ie=0,ye=k,Se=0,$e=X,et=0,Ye=ee;if(y.content&&f){const Ct=y.content;le=bg(z,0,Ct[0]),ie=bg(P,0,Ct[1]),ue=bg(z,Ct[0],Ct[2]),ye=bg(P,Ct[1],Ct[3]),Se=Ct[0]-le,et=Ct[1]-ie,$e=Ct[2]-Ct[0]-ue,Ye=Ct[3]-Ct[1]-ye}const Xe=(Ct,at,St,At)=>{const $t=xg(Ct.stretch-le,ue,C,c.left*v),Ft=q0(Ct.fixed-Se,$e,Ct.stretch,A),Yt=xg(at.stretch-ie,ye,$,c.top*v),un=q0(at.fixed-et,Ye,at.stretch,k),Wt=xg(St.stretch-le,ue,C,c.left*v),jn=q0(St.fixed-Se,$e,St.stretch,A),cr=xg(At.stretch-ie,ye,$,c.top*v),kn=q0(At.fixed-et,Ye,At.stretch,k),Yr=new Sn($t,Yt),kr=new Sn(Wt,Yt),br=new Sn(Wt,cr),fr=new Sn($t,cr),Mi=new Sn(Ft/E,un/E),ti=new Sn(jn/E,kn/E),ui=n*Math.PI/180;if(ui){const $a=Math.sin(ui),Vs=Math.cos(ui),Ms=[Vs,-$a,$a,Vs];Yr._matMult(Ms),kr._matMult(Ms),fr._matMult(Ms),br._matMult(Ms)}const wo=Ct.stretch+Ct.fixed,na=St.stretch+St.fixed,la=at.stretch+at.fixed,ca=At.stretch+At.fixed,Ma=c.imageSecondary;return{tl:Yr,tr:kr,bl:fr,br,texPrimary:{x:y.paddedRect.x+lh+wo,y:y.paddedRect.y+lh+la,w:na-wo,h:ca-la},texSecondary:Ma?{x:Ma.paddedRect.x+lh+wo,y:Ma.paddedRect.y+lh+la,w:na-wo,h:ca-la}:void 0,writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Mi,pixelOffsetBR:ti,minFontScaleX:$e/E/C,minFontScaleY:Ye/E/$,isSDF:a}};if(f&&(y.stretchX||y.stretchY)){const Ct=Wy(z,X,A),at=Wy(P,ee,k);for(let St=0;St<Ct.length-1;St++){const At=Ct[St],$t=Ct[St+1];for(let Ft=0;Ft<at.length-1;Ft++)h.push(Xe(At,at[Ft],$t,at[Ft+1]))}}else h.push(Xe({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:O+1},{fixed:0,stretch:L+1}));return h}function bg(c,n,a){let f=0;for(const v of c)f+=Math.max(n,Math.min(a,v[1]))-Math.max(n,Math.min(a,v[0]));return f}function Wy(c,n,a){const f=[{fixed:-lh,stretch:0}];for(const[v,h]of c){const y=f[f.length-1];f.push({fixed:v-y.stretch,stretch:y.stretch}),f.push({fixed:v-y.stretch,stretch:y.stretch+(h-v)})}return f.push({fixed:n+lh,stretch:a}),f}function xg(c,n,a,f){return c/n*a+f}function q0(c,n,a,f){return c-n*a/f}function od(c,n,a,f){const v=n+c.positionedLines[f].lineOffset;return f===0?a+v/2:a+(v+(n+c.positionedLines[f-1].lineOffset))/2}function gw(c,n=1,a=!1){let f=1/0,v=1/0,h=-1/0,y=-1/0;const E=c[0];for(let P=0;P<E.length;P++){const A=E[P];(!P||A.x<f)&&(f=A.x),(!P||A.y<v)&&(v=A.y),(!P||A.x>h)&&(h=A.x),(!P||A.y>y)&&(y=A.y)}const O=Math.min(h-f,y-v);let L=O/2;const C=new Tl([],Cg);if(O===0)return new Sn(f,v);for(let P=f;P<h;P+=O)for(let A=v;A<y;A+=O)C.push(new im(P+L,A+L,L,c));let $=function(P){let A=0,k=0,X=0;const ee=P[0];for(let le=0,ue=ee.length,ie=ue-1;le<ue;ie=le++){const ye=ee[le],Se=ee[ie],$e=ye.x*Se.y-Se.x*ye.y;k+=(ye.x+Se.x)*$e,X+=(ye.y+Se.y)*$e,A+=3*$e}return new im(k/A,X/A,0,P)}(c),z=C.length;for(;C.length;){const P=C.pop();(P.d>$.d||!$.d)&&($=P,a&&console.log("found best %d after %d probes",Math.round(1e4*P.d)/1e4,z)),P.max-$.d<=n||(L=P.h/2,C.push(new im(P.p.x-L,P.p.y-L,L,c)),C.push(new im(P.p.x+L,P.p.y-L,L,c)),C.push(new im(P.p.x-L,P.p.y+L,L,c)),C.push(new im(P.p.x+L,P.p.y+L,L,c)),z+=4)}return a&&(console.log(`num probes: ${z}`),console.log(`best distance: ${$.d}`)),$.p}function Cg(c,n){return n.max-c.max}class im{constructor(n,a,f,v){this.p=new Sn(n,a),this.h=f,this.d=function(h,y){let E=!1,O=1/0;for(let L=0;L<y.length;L++){const C=y[L];for(let $=0,z=C.length,P=z-1;$<z;P=$++){const A=C[$],k=C[P];A.y>h.y!=k.y>h.y&&h.x<(k.x-A.x)*(h.y-A.y)/(k.y-A.y)+A.x&&(E=!E),O=Math.min(O,pt(h,A,k))}}return(E?1:-1)*Math.sqrt(O)}(this.p,v),this.max=this.d+this.h*Math.SQRT2}}const K0=Number.POSITIVE_INFINITY,Y0=Math.sqrt(2);function Gy(c,[n,a]){let f=0,v=0;if(a===K0){n<0&&(n=0);const h=n/Y0;switch(c){case"top-right":case"top-left":v=h-7;break;case"bottom-right":case"bottom-left":v=7-h;break;case"bottom":v=7-n;break;case"top":v=n-7}switch(c){case"top-right":case"bottom-right":f=-h;break;case"top-left":case"bottom-left":f=h;break;case"left":f=n;break;case"right":f=-n}}else{switch(n=Math.abs(n),a=Math.abs(a),c){case"top-right":case"top-left":case"top":v=a-7;break;case"bottom-right":case"bottom-left":case"bottom":v=7-a}switch(c){case"top-right":case"bottom-right":case"right":f=-n;break;case"top-left":case"bottom-left":case"left":f=n}}return[f,v]}function ch(c){switch(c){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function g1(c,n,a,f,v,h,y,E,O,L,C,$,z,P,A){let k=h.textMaxSize.evaluate(n,{},$);k===void 0?k=y*h.textScaleFactor:k*=h.textScaleFactor;const X=c.layers[0].layout,ee=X.get("icon-offset").evaluate(n,{},$),le=J0(a.horizontal)||a.vertical,ue=z.name==="globe",ie=vc,ye=y*h.textScaleFactor/ie,Se=c.tilePixelRatio*k/ie,$e=($t=c.overscaling,c.zoom>18&&$t>2&&($t>>=1),Math.max(Fr/(512*$t),1)*X.get("symbol-spacing")),et=X.get("text-padding")*c.tilePixelRatio,Ye=X.get("icon-padding")*c.tilePixelRatio,Xe=or(X.get("text-max-angle")),Ct=X.get("text-rotation-alignment")==="map"&&X.get("symbol-placement")!=="point",at=X.get("icon-rotation-alignment")==="map"&&X.get("symbol-placement")!=="point",St=X.get("symbol-placement"),At=$e/2;var $t;const Ft=X.get("icon-text-fit").evaluate(n,{},$),Yt=X.get("icon-text-fit-padding").evaluate(n,{},$),un=Ft!=="none";let Wt;c.hasAnyIconTextFit===!1&&un&&(c.hasAnyIconTextFit=!0),f&&un&&(c.allowVerticalPlacement&&a.vertical&&(Wt=Hy(f,a.vertical,Ft,Yt,ee,ye)),le&&(f=Hy(f,le,Ft,Yt,ee,ye)));const jn=(cr,kn,Yr)=>{if(kn.x<0||kn.x>=Fr||kn.y<0||kn.y>=Fr)return;let kr=null;if(ue){const{x:br,y:fr,z:Mi}=z.projectTilePoint(kn.x,kn.y,Yr);kr={anchor:new xf(br,fr,Mi,0,void 0),up:z.upVector(Yr,kn.x,kn.y)}}(function(br,fr,Mi,ti,ui,wo,na,la,ca,Ma,$a,Vs,Ms,jo,xs,Cs,el,xl,Nl,cl,pl,Cl,Bl,bc,Hs,Xc,ad){const Au=br.addToLineVertexArray(fr,ti);let Du,pp,Ch,mp,qg,$x,Z_,iS=0,Rx=0,sd=0,V_=0,Mv=-1,H_=-1;const Ld={};let Ax=Os("");const gp=Mi?Mi.anchor:fr,Pv=ca.layout.get("icon-text-fit").evaluate(pl,{},Hs)!=="none";let Kg=0,Ov=0;if(ca._unevaluatedLayout.getValue("text-radial-offset")===void 0?[Kg,Ov]=ca.layout.get("text-offset").evaluate(pl,{},Hs).map(mu=>mu*vc):(Kg=ca.layout.get("text-radial-offset").evaluate(pl,{},Hs)*vc,Ov=K0),br.allowVerticalPlacement&&ui.vertical){const mu=ui.vertical;if(xs)$x=Sg(mu),la&&(Z_=Sg(la));else{const qc=ca.layout.get("text-rotate").evaluate(pl,{},Hs)+90;Ch=om(Ma,gp,fr,$a,Vs,Ms,mu,jo,qc,Cs),la&&(mp=om(Ma,gp,fr,$a,Vs,Ms,la,xl,qc))}}if(wo){const mu=br.iconSizeData,qc=ca.layout.get("icon-rotate").evaluate(pl,{},Hs),Yg=id(wo,qc,Bl,Pv,Cl.iconScaleFactor),U_=la?id(la,qc,Bl,Pv,Cl.iconScaleFactor):void 0;pp=om(Ma,gp,fr,$a,Vs,Ms,wo,xl,qc,null),iS=4*Yg.length;let yp=null;mu.kind==="source"?(yp=[td*ca.layout.get("icon-size").evaluate(pl,{},Hs)*Cl.iconScaleFactor],yp[0]>Dd&&jr(`${br.layerIds[0]}: Value for "icon-size" is >= ${wg}. Reduce your "icon-size".`)):mu.kind==="composite"&&(yp=[td*Cl.compositeIconSizes[0].evaluate(pl,{},Hs)*Cl.iconScaleFactor,td*Cl.compositeIconSizes[1].evaluate(pl,{},Hs)*Cl.iconScaleFactor],(yp[0]>Dd||yp[1]>Dd)&&jr(`${br.layerIds[0]}: Value for "icon-size" is >= ${wg}. Reduce your "icon-size".`)),br.addSymbols(br.icon,Yg,yp,cl,Nl,pl,!1,Mi,fr,Au.lineStartIndex,Au.lineLength,-1,bc,Hs,Xc,ad),Mv=br.icon.placedSymbolArray.length-1,U_&&(Rx=4*U_.length,br.addSymbols(br.icon,U_,yp,cl,Nl,pl,hu.vertical,Mi,fr,Au.lineStartIndex,Au.lineLength,-1,bc,Hs,Xc,ad),H_=br.icon.placedSymbolArray.length-1)}for(const mu in ui.horizontal){const qc=ui.horizontal[mu];Du||(Ax=Os(qc.text),xs?qg=Sg(qc):Du=om(Ma,gp,fr,$a,Vs,Ms,qc,jo,ca.layout.get("text-rotate").evaluate(pl,{},Hs),Cs));const Yg=qc.positionedLines.length===1;if(sd+=v1(br,Mi,fr,qc,na,ca,xs,pl,Cs,Au,ui.vertical?hu.horizontal:hu.horizontalOnly,Yg?Object.keys(ui.horizontal):[mu],Ld,Mv,Cl,bc,Hs,Xc),Yg)break}ui.vertical&&(V_+=v1(br,Mi,fr,ui.vertical,na,ca,xs,pl,Cs,Au,hu.vertical,["vertical"],Ld,H_,Cl,bc,Hs,Xc));let vp=-1;const $v=(mu,qc)=>mu?Math.max(mu,qc):qc;vp=$v(qg,vp),vp=$v($x,vp),vp=$v(Z_,vp);const Dx=vp>-1?1:0;br.glyphOffsetArray.length>=65535&&jr("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),pl.sortKey!==void 0&&br.addToSortKeyRanges(br.symbolInstances.length,pl.sortKey),br.symbolInstances.emplaceBack(fr.x,fr.y,gp.x,gp.y,gp.z,Ld.right>=0?Ld.right:-1,Ld.center>=0?Ld.center:-1,Ld.left>=0?Ld.left:-1,Ld.vertical>=0?Ld.vertical:-1,Mv,H_,Ax,Du!==void 0?Du:br.collisionBoxArray.length,Du!==void 0?Du+1:br.collisionBoxArray.length,Ch!==void 0?Ch:br.collisionBoxArray.length,Ch!==void 0?Ch+1:br.collisionBoxArray.length,pp!==void 0?pp:br.collisionBoxArray.length,pp!==void 0?pp+1:br.collisionBoxArray.length,mp||br.collisionBoxArray.length,mp?mp+1:br.collisionBoxArray.length,$a,sd,V_,iS,Rx,Dx,0,Kg,Ov,vp,0,Pv?1:0)})(c,kn,kr,cr,a,f,v,Wt,c.layers[0],c.collisionBoxArray,n.index,n.sourceLayerIndex,c.index,et,Ct,O,0,Ye,at,ee,n,h,L,C,$,P,A)};if(St==="line")for(const cr of d1(n.geometry,0,0,Fr,Fr)){const kn=mw(cr,$e,Xe,a.vertical||le,f,ie,Se,c.overscaling,Fr);for(const Yr of kn)le&&Q0(c,le.text,At,Yr)||jn(cr,Yr,$)}else if(St==="line-center"){for(const cr of n.geometry)if(cr.length>1){const kn=pw(cr,Xe,a.vertical||le,f,ie,Se);kn&&jn(cr,kn,$)}}else if(n.type==="Polygon")for(const cr of py(n.geometry,0)){const kn=gw(cr,16);jn(cr[0],new xf(kn.x,kn.y,0,0,void 0),$)}else if(n.type==="LineString")for(const cr of n.geometry)jn(cr,new xf(cr[0].x,cr[0].y,0,0,void 0),$);else if(n.type==="Point")for(const cr of n.geometry)for(const kn of cr)jn([kn],new xf(kn.x,kn.y,0,0,void 0),$)}const wg=255,Dd=wg*td;function v1(c,n,a,f,v,h,y,E,O,L,C,$,z,P,A,k,X,ee){const le=function(ye,Se,$e,et,Ye,Xe,Ct,at){const St=[];if(Se.positionedLines.length===0)return St;const At=et.layout.get("text-rotate").evaluate(Xe,{})*Math.PI/180,$t=function(jn){const cr=jn[0],kn=jn[1],Yr=cr*kn;return Yr>0?[cr,-kn]:Yr<0?[-cr,kn]:cr===0?[kn,cr]:[kn,-cr]}($e);let Ft=Math.abs(Se.top-Se.bottom);for(const jn of Se.positionedLines)Ft-=jn.lineOffset;const Yt=Se.positionedLines.length,un=Ft/Yt;let Wt=Se.top-$e[1];for(let jn=0;jn<Yt;++jn){const cr=Se.positionedLines[jn];Wt=od(Se,un,Wt,jn);for(const kn of cr.positionedGlyphs){if(!kn.rect)continue;const Yr=kn.rect||{};let kr=r1+1,br=!0,fr=1,Mi=0;if(kn.imageName){const cl=Ct[Ar.build(kn.imageName).getSerializedPrimary()];if(!cl)continue;if(cl.sdf){jr("SDF images are not supported in formatted text and will be ignored.");continue}br=!1,fr=cl.pixelRatio,kr=Rd/fr}const ti=(Ye||at)&&kn.vertical,ui=kn.metrics.advance*kn.scale/2,wo=kn.metrics,na=kn.rect;if(na===null)continue;at&&Se.verticalizable&&(Mi=kn.imageName?ui-kn.metrics.width*kn.scale/2:0);const la=Ye?[kn.x+ui,kn.y]:[0,0];let ca=[0,0],Ma=[0,0],$a=!1;Ye||(ti?(Ma=[kn.x+ui+$t[0],kn.y+$t[1]-Mi],$a=!0):ca=[kn.x+ui+$e[0],kn.y+$e[1]-Mi]);const Vs=na.w*kn.scale/(fr*(kn.localGlyph?rd:1)),Ms=na.h*kn.scale/(fr*(kn.localGlyph?rd:1));let jo,xs,Cs,el;if(ti){const cl=kn.y-Wt,pl=new Sn(-ui,ui-cl),Cl=-Math.PI/2,Bl=new Sn(...Ma);jo=new Sn(-ui+ca[0],ca[1]),jo._rotateAround(Cl,pl)._add(Bl),jo.x+=-cl+ui,jo.y-=(wo.left-kr)*kn.scale;const bc=kn.imageName?wo.advance*kn.scale:vc*kn.scale,Hs=String.fromCodePoint(kn.glyph);sE(Hs)?jo.x+=(1-kr)*kn.scale:aw(Hs)?jo.x+=bc-wo.height*kn.scale+(-kr-1)*kn.scale:jo.x+=kn.imageName||wo.width+2*kr===na.w&&wo.height+2*kr===na.h?(bc-Ms)/2:(bc-(wo.height+2*kr)*kn.scale)/2,xs=new Sn(jo.x,jo.y-Vs),Cs=new Sn(jo.x+Ms,jo.y),el=new Sn(jo.x+Ms,jo.y-Vs)}else{const cl=(wo.left-kr)*kn.scale-ui+ca[0],pl=(-wo.top-kr)*kn.scale+ca[1],Cl=cl+Vs,Bl=pl+Ms;jo=new Sn(cl,pl),xs=new Sn(Cl,pl),Cs=new Sn(cl,Bl),el=new Sn(Cl,Bl)}if(At){let cl;cl=Ye?new Sn(0,0):$a?new Sn($t[0],$t[1]):new Sn($e[0],$e[1]),jo._rotateAround(At,cl),xs._rotateAround(At,cl),Cs._rotateAround(At,cl),el._rotateAround(At,cl)}const xl=new Sn(0,0),Nl=new Sn(0,0);St.push({tl:jo,tr:xs,bl:Cs,br:el,texPrimary:Yr,texSecondary:void 0,writingMode:Se.writingMode,glyphOffset:la,sectionIndex:kn.sectionIndex,isSDF:br,pixelOffsetTL:xl,pixelOffsetBR:Nl,minFontScaleX:0,minFontScaleY:0})}}return St}(0,f,O,h,y,E,v,c.allowVerticalPlacement),ue=c.textSizeData;let ie=null;ue.kind==="source"?(ie=[td*h.layout.get("text-size").evaluate(E,{},X)*A.textScaleFactor],ie[0]>Dd&&jr(`${c.layerIds[0]}: Value for "text-size" is >= ${wg}. Reduce your "text-size".`)):ue.kind==="composite"&&(ie=[td*A.compositeTextSizes[0].evaluate(E,{},X)*A.textScaleFactor,td*A.compositeTextSizes[1].evaluate(E,{},X)*A.textScaleFactor],(ie[0]>Dd||ie[1]>Dd)&&jr(`${c.layerIds[0]}: Value for "text-size" is >= ${wg}. Reduce your "text-size".`)),c.addSymbols(c.text,le,ie,O,y,E,C,n,a,L.lineStartIndex,L.lineLength,P,k,X,ee,!1);for(const ye of $)z[ye]=c.text.placedSymbolArray.length-1;return 4*le.length}function J0(c){for(const n in c)return c[n];return null}function om(c,n,a,f,v,h,y,E,O,L){let C=y.top,$=y.bottom,z=y.left,P=y.right;const A=y.collisionPadding;if(A&&(z-=A[0],C-=A[1],P+=A[2],$+=A[3]),O){const k=new Sn(z,C),X=new Sn(P,C),ee=new Sn(z,$),le=new Sn(P,$),ue=or(O);let ie=new Sn(0,0);L&&(ie=new Sn(L[0],L[1])),k._rotateAround(ue,ie),X._rotateAround(ue,ie),ee._rotateAround(ue,ie),le._rotateAround(ue,ie),z=Math.min(k.x,X.x,ee.x,le.x),P=Math.max(k.x,X.x,ee.x,le.x),C=Math.min(k.y,X.y,ee.y,le.y),$=Math.max(k.y,X.y,ee.y,le.y)}return c.emplaceBack(n.x,n.y,n.z,a.x,a.y,z,C,P,$,E,f,v,h),c.length-1}function Sg(c){c.collisionPadding&&(c.top-=c.collisionPadding[1],c.bottom+=c.collisionPadding[3]);const n=c.bottom-c.top;return n>0?Math.max(10,n):null}function Q0(c,n,a,f){const v=c.compareText;if(n in v){const h=v[n];for(let y=h.length-1;y>=0;y--)if(f.dist(h[y])<a)return!0}else v[n]=[];return v[n].push(f),!1}function Eg(c,n){const a=c.fovAboveCenter,f=c.elevation?c.elevation.getMinElevationBelowMSL()*n:0,v=(c._camera.position[2]*c.worldSize-f)/Math.cos(c._pitch),h=Math.sin(a)*v/Math.sin(Math.max(Math.PI/2-c._pitch-a,.01));let y=Math.sin(c._pitch)*h+v;const E=v*(1/c._horizonShift);if(!c.elevation||c.elevation.exaggeration()===0){let O=Math.max(c.zoom-17,0);c.isOrthographic&&(O/=10),y*=1+O}return Math.min(1.01*y,E)}function am(c,n){if(!n.isReprojectedInTileSpace)return{scale:1<<c.z,x:c.x,y:c.y,x2:c.x+1,y2:c.y+1,projection:n};const a=Math.pow(2,-c.z),f=c.x*a,v=(c.x+1)*a,h=c.y*a,y=(c.y+1)*a,E=Dc(f),O=Dc(v),L=Kl(h),C=Kl(y),$=n.project(E,L),z=n.project(O,L),P=n.project(O,C),A=n.project(E,C);let k=Math.min($.x,z.x,P.x,A.x),X=Math.min($.y,z.y,P.y,A.y),ee=Math.max($.x,z.x,P.x,A.x),le=Math.max($.y,z.y,P.y,A.y);const ue=a/16;function ie(Se,$e,et,Ye,Xe,Ct){const at=(et+Xe)/2,St=(Ye+Ct)/2,At=n.project(Dc(at),Kl(St)),$t=Math.max(0,k-At.x,X-At.y,At.x-ee,At.y-le);k=Math.min(k,At.x),ee=Math.max(ee,At.x),X=Math.min(X,At.y),le=Math.max(le,At.y),$t>ue&&(ie(Se,At,et,Ye,at,St),ie(At,$e,at,St,Xe,Ct))}ie($,z,f,h,v,h),ie(z,P,v,h,v,y),ie(P,A,v,y,f,y),ie(A,$,f,y,f,h),k-=ue,X-=ue,ee+=ue,le+=ue;const ye=1/Math.max(ee-k,le-X);return{scale:ye,x:k*ye,y:X*ye,x2:ee*ye,y2:le*ye,projection:n}}function sm(c,{x:n,y:a},f=0){return new Sn(((n-f)*c.scale-c.x)*Fr,(a*c.scale-c.y)*Fr)}const Ig=J.mat4.identity(new Float32Array(16));class Cf{constructor(n){this.spec=n,this.name=n.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit="meters",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=["custom"],this.center=[0,0],this.range=[3.5,7]}project(n,a){return{x:0,y:0,z:0}}unproject(n,a){return new os(0,0)}projectTilePoint(n,a,f){return{x:n,y:a,z:0}}locationPoint(n,a,f=!0){return n._coordinatePoint(n.locationCoordinate(a),f)}pixelsPerMeter(n,a){return sc(1,n)*a}pixelSpaceConversion(n,a,f){return 1}farthestPixelDistance(n){return Eg(n,n.pixelsPerMeter)}pointCoordinate(n,a,f,v){const h=n.horizonLineFromTop(!1),y=new Sn(a,Math.max(h,f));return n.rayIntersectionCoordinate(n.pointRayIntersection(y,v))}pointCoordinate3D(n,a,f){const v=new Sn(a,f);if(n.elevation)return n.elevation.pointCoordinate(v);{const h=this.pointCoordinate(n,v.x,v.y,0);return[h.x,h.y,h.z]}}isPointAboveHorizon(n,a){if(n.elevation&&n.elevation.visibleDemTiles.length)return!this.pointCoordinate3D(n,a.x,a.y);const f=n.horizonLineFromTop();return a.y<f}createInversionMatrix(n,a){return Ig}createTileMatrix(n,a,f){let v,h,y;const E=f.canonical,O=J.mat4.identity(new Float64Array(16));if(this.isReprojectedInTileSpace){const L=am(E,this);v=1,h=L.x+f.wrap*L.scale,y=L.y,J.mat4.scale(O,O,[v/L.scale,v/L.scale,n.pixelsPerMeter/a])}else v=a/n.zoomScale(E.z),h=(E.x+Math.pow(2,E.z)*f.wrap)*v,y=E.y*v;return J.mat4.translate(O,O,[h,y,0]),J.mat4.scale(O,O,[v/Fr,v/Fr,1]),O}upVector(n,a,f){return[0,0,1]}upVectorScale(n,a,f){return{metersToTile:1}}}class vw extends Cf{constructor(n){super(n),this.range=[4,7],this.center=n.center||[-96,37.5];const[a,f]=this.parallels=n.parallels||[29.5,45.5],v=Math.sin(or(a));this.n=(v+Math.sin(or(f)))/2,this.c=1+v*(2*this.n-v),this.r0=Math.sqrt(this.c)/this.n}project(n,a){const{n:f,c:v,r0:h}=this,y=or(n-this.center[0]),E=or(a),O=Math.sqrt(v-2*f*Math.sin(E))/f;return{x:O*Math.sin(y*f),y:O*Math.cos(y*f)-h,z:0}}unproject(n,a){const{n:f,c:v,r0:h}=this,y=h+a;let E=Math.atan2(n,Math.abs(y))*Math.sign(y);y*f<0&&(E-=Math.PI*Math.sign(n)*Math.sign(y));const O=or(this.center[0])*f;E=Eo(E,-Math.PI-O,Math.PI-O);const L=ri(dr(E/f)+this.center[0],-180,180),C=Math.asin(ri((v-(n*n+y*y)*f*f)/(2*f),-1,1)),$=ri(dr(C),-gl,gl);return new os(L,$)}}const Tg=1.340264,Mg=-.081106,tp=893e-6,lm=.003796,cm=Math.sqrt(3)/2;class yw extends Cf{project(n,a){a=a/180*Math.PI,n=n/180*Math.PI;const f=Math.asin(cm*Math.sin(a)),v=f*f,h=v*v*v;return{x:.5*(n*Math.cos(f)/(cm*(Tg+3*Mg*v+h*(7*tp+9*lm*v)))/Math.PI+.5),y:1-.5*(f*(Tg+Mg*v+h*(tp+lm*v))/Math.PI+1),z:0}}unproject(n,a){n=(2*n-.5)*Math.PI;let f=a=(2*(1-a)-1)*Math.PI,v=f*f,h=v*v*v;for(let C,$,z,P=0;P<12&&($=f*(Tg+Mg*v+h*(tp+lm*v))-a,z=Tg+3*Mg*v+h*(7*tp+9*lm*v),C=$/z,f=ri(f-C,-Math.PI/3,Math.PI/3),v=f*f,h=v*v*v,!(Math.abs(C)<1e-12));++P);const y=cm*n*(Tg+3*Mg*v+h*(7*tp+9*lm*v))/Math.cos(f),E=Math.asin(Math.sin(f)/cm),O=ri(180*y/Math.PI,-180,180),L=ri(180*E/Math.PI,-gl,gl);return new os(O,L)}}class _w extends Cf{constructor(n){super(n),this.wrap=!0,this.supportsWorldCopies=!0}project(n,a){return{x:.5+n/360,y:.5-a/360,z:0}}unproject(n,a){const f=360*(n-.5),v=ri(360*(.5-a),-gl,gl);return new os(f,v)}}const uh=Math.PI/2;function Pg(c){return Math.tan((uh+c)/2)}class bw extends Cf{constructor(n){super(n),this.center=n.center||[0,30];const[a,f]=this.parallels=n.parallels||[30,30];let v=or(a),h=or(f);this.southernCenter=v+h<0,this.southernCenter&&(v=-v,h=-h);const y=Math.cos(v),E=Pg(v);this.n=v===h?Math.sin(v):Math.log(y/Math.cos(h))/Math.log(Pg(h)/E),this.f=y*Math.pow(Pg(v),this.n)/this.n}project(n,a){a=or(a),this.southernCenter&&(a=-a),n=or(n-this.center[0]);const f=1e-6,{n:v,f:h}=this;h>0?a<-uh+f&&(a=-uh+f):a>uh-f&&(a=uh-f);const y=h/Math.pow(Pg(a),v);let E=y*Math.sin(v*n),O=h-y*Math.cos(v*n);return E=.5*(E/Math.PI+.5),O=.5*(O/Math.PI+.5),{x:E,y:this.southernCenter?O:1-O,z:0}}unproject(n,a){n=(2*n-.5)*Math.PI,this.southernCenter&&(a=1-a),a=(2*(1-a)-.5)*Math.PI;const{n:f,f:v}=this,h=v-a,y=Math.sign(h),E=Math.sign(f)*Math.sqrt(n*n+h*h);let O=Math.atan2(n,Math.abs(h))*y;h*f<0&&(O-=Math.PI*Math.sign(n)*y);const L=ri(dr(O/f)+this.center[0],-180,180),C=ri(dr(2*Math.atan(Math.pow(v/E,1/f))-uh),-gl,gl);return new os(L,this.southernCenter?-C:C)}}class ev extends Cf{constructor(n){super(n),this.wrap=!0,this.supportsWorldCopies=!0,this.supportsTerrain=!0,this.supportsFog=!0,this.supportsFreeCamera=!0,this.isReprojectedInTileSpace=!1,this.unsupportedLayers=[],this.range=null}project(n,a){return{x:Tu(n),y:Mu(a),z:0}}unproject(n,a){const f=Dc(n),v=Kl(a);return new os(f,v)}}const y1=or(gl);class Og extends Cf{project(n,a){const f=(a=or(a))*a,v=f*f;return{x:.5*((n=or(n))*(.8707-.131979*f+v*(v*(.003971*f-.001529*v)-.013791))/Math.PI+.5),y:1-.5*(a*(1.007226+f*(.015085+v*(.028874*f-.044475-.005916*v)))/Math.PI+1),z:0}}unproject(n,a){n=(2*n-.5)*Math.PI;let f=a=(2*(1-a)-1)*Math.PI,v=25,h=0,y=f*f;do{y=f*f;const L=y*y;h=(f*(1.007226+y*(.015085+L*(.028874*y-.044475-.005916*L)))-a)/(1.007226+y*(.045255+L*(.259866*y-.311325-.005916*11*L))),f=ri(f-h,-y1,y1)}while(Math.abs(h)>1e-6&&--v>0);y=f*f;const E=ri(dr(n/(.8707+y*(y*(y*y*y*(.003971-.001529*y)-.013791)-.131979))),-180,180),O=dr(f);return new os(E,O)}}const _1=or(gl);class b1 extends Cf{project(n,a){a=or(a),n=or(n);const f=Math.cos(a),v=2/Math.PI,h=Math.acos(f*Math.cos(n/2)),y=Math.sin(h)/h,E=.5*(n*v+2*f*Math.sin(n/2)/y)||0,O=.5*(a+Math.sin(a)/y)||0;return{x:.5*(E/Math.PI+.5),y:1-.5*(O/Math.PI+1),z:0}}unproject(n,a){let f=n=(2*n-.5)*Math.PI,v=a=(2*(1-a)-1)*Math.PI,h=25;const y=1e-6;let E=0,O=0;do{const L=Math.cos(v),C=Math.sin(v),$=2*C*L,z=C*C,P=L*L,A=Math.cos(f/2),k=Math.sin(f/2),X=2*A*k,ee=k*k,le=1-P*A*A,ue=le?1/le:0,ie=le?Math.acos(L*A)*Math.sqrt(1/le):0,ye=.5*(2*ie*L*k+2*f/Math.PI)-n,Se=.5*(ie*C+v)-a,$e=.5*ue*(P*ee+ie*L*A*z)+1/Math.PI,et=ue*(X*$/4-ie*C*k),Ye=.125*ue*($*k-ie*C*P*X),Xe=.5*ue*(z*A+ie*ee*L)+.5,Ct=et*Ye-Xe*$e;E=(Se*et-ye*Xe)/Ct,O=(ye*Ye-Se*$e)/Ct,f=ri(f-E,-Math.PI,Math.PI),v=ri(v-O,-_1,_1)}while((Math.abs(E)>y||Math.abs(O)>y)&&--h>0);return new os(dr(f),dr(v))}}class x1 extends Cf{constructor(n){super(n),this.center=n.center||[0,0],this.parallels=n.parallels||[0,0],this.cosPhi=Math.max(.01,Math.cos(or(this.parallels[0]))),this.scale=1/(2*Math.max(Math.PI*this.cosPhi,1/this.cosPhi)),this.wrap=!0,this.supportsWorldCopies=!0}project(n,a){const{scale:f,cosPhi:v}=this;return{x:or(n)*v*f+.5,y:-Math.sin(or(a))/v*f+.5,z:0}}unproject(n,a){const{scale:f,cosPhi:v}=this,h=-(a-.5)/f,y=ri(dr((n-.5)/f)/v,-180,180),E=Math.asin(ri(h*v,-1,1)),O=ri(dr(E),-gl,gl);return new os(y,O)}}class C1 extends ev{constructor(n){super(n),this.requiresDraping=!0,this.supportsWorldCopies=!1,this.supportsFog=!0,this.zAxisUnit="pixels",this.unsupportedLayers=["debug"],this.range=[3,5]}projectTilePoint(n,a,f){const v=Rs(n,a,f),h=Hl(Ol(f));return J.vec3.transformMat4(v,v,h),{x:v[0],y:v[1],z:v[2]}}locationPoint(n,a){const f=Yf(a.lat,a.lng),v=J.vec3.normalize([],f),h=n.elevation?n.elevation.getAtPointOrZero(n.locationCoordinate(a),n._centerAltitude):n._centerAltitude,y=sc(1,0)*Fr*h;J.vec3.scaleAndAdd(f,f,v,y);const E=J.mat4.identity(new Float64Array(16));return J.mat4.multiply(E,n.pixelMatrix,n.globeMatrix),J.vec3.transformMat4(f,f,E),new Sn(f[0],f[1])}pixelsPerMeter(n,a){return sc(1,0)*a}pixelSpaceConversion(n,a,f){const v=sc(1,n)*a,h=si(sc(1,45)*a,v,f);return this.pixelsPerMeter(n,a)/h}createTileMatrix(n,a,f){const v=Bs(Ol(f.canonical));return J.mat4.multiply(new Float64Array(16),n.globeMatrix,v)}createInversionMatrix(n,a){const{center:f}=n,v=Hl(Ol(a));return J.mat4.rotateY(v,v,or(f.lng)),J.mat4.rotateX(v,v,or(f.lat)),J.mat4.scale(v,v,[n._pixelsPerMercatorPixel,n._pixelsPerMercatorPixel,1]),Float32Array.from(v)}pointCoordinate(n,a,f,v){return Ka(n,a,f,!0)||new l(0,0)}pointCoordinate3D(n,a,f){const v=this.pointCoordinate(n,a,f,0);return[v.x,v.y,v.z]}isPointAboveHorizon(n,a){return!Ka(n,a.x,a.y,!1)}farthestPixelDistance(n){const a=function(v,h){const y=v.cameraToCenterDistance,E=v._centerAltitude*h,O=v._camera,L=v._camera.forward(),C=J.vec3.add([],J.vec3.scale([],L,-y),[0,0,E]),$=v.worldSize/(2*Math.PI),z=[0,0,-$],P=v.width/v.height,A=Math.tan(v.fovAboveCenter),k=J.vec3.scale([],O.up(),A),X=J.vec3.scale([],O.right(),A*P),ee=J.vec3.normalize([],J.vec3.add([],J.vec3.add([],L,k),X)),le=[];let ue;if(new Ao(C,ee).closestPointOnSphere(z,$,le)){const ie=J.vec3.add([],le,z),ye=J.vec3.sub([],ie,C);ue=Math.cos(v.fovAboveCenter)*J.vec3.length(ye)}else{const ie=J.vec3.sub([],C,z),ye=J.vec3.sub([],z,C);J.vec3.normalize(ye,ye);const Se=J.vec3.length(ie)-$;ue=Math.sqrt(Se*(Se+2*$));const $e=Math.acos(ue/($+Se))-Math.acos(J.vec3.dot(L,ye));ue*=Math.cos($e)}return 1.01*ue}(n,this.pixelsPerMeter(n.center.lat,n.worldSize)),f=Tc(n.zoom);if(f>0){const v=Eg(n,sc(1,n.center.lat)*n.worldSize),h=n.worldSize/(2*Math.PI),y=Math.max(n.width,n.height)/n.worldSize*Math.PI;return si(a,v+h*(1-Math.cos(y)),Math.pow(f,10))}return a}upVector(n,a,f){return Rs(a,f,n,1)}upVectorScale(n){return{metersToTile:Ba(Xa(Ol(n)))}}}function Xy(c){const n=c.parallels,a=!!n&&Math.abs(n[0]+n[1])<.01;switch(c.name){case"mercator":return new ev(c);case"equirectangular":return new _w(c);case"naturalEarth":return new Og(c);case"equalEarth":return new yw(c);case"winkelTripel":return new b1(c);case"albers":return a?new x1(c):new vw(c);case"lambertConformalConic":return a?new x1(c):new bw(c);case"globe":return new C1(c)}throw new Error(`Invalid projection name: ${c.name}`)}const w1=Yp.VectorTileFeature.types,xw=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function np(c,n,a,f,v,h,y,E,O,L,C,$,z){const P=E?Math.min(Dd,Math.round(E[0])):0,A=E?Math.min(Dd,Math.round(E[1])):0;c.emplaceBack(n,a,Math.round(32*f),Math.round(32*v),h,y,(P<<1)+(O?1:0),A,16*L,16*C,256*$,256*z)}function tv(c,n,a){c.emplaceBack(n,a)}function nv(c,n,a,f,v,h,y){c.emplaceBack(n,a,f,v,h,y)}function rv(c,n,a,f,v){c.emplaceBack(n,a,f,v),c.emplaceBack(n,a,f,v),c.emplaceBack(n,a,f,v),c.emplaceBack(n,a,f,v)}function Cw(c){for(const n of c.sections)if(h0(n.text))return!0;return!1}class qy{constructor(n){this.layoutVertexArray=new jm,this.indexArray=new tc,this.programConfigurations=n,this.segments=new fl,this.dynamicLayoutVertexArray=new hf,this.opacityVertexArray=new b0,this.placedSymbolArray=new Xm,this.iconTransitioningVertexArray=new _d,this.globeExtVertexArray=new _0,this.zOffsetVertexArray=new Wh}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0&&this.iconTransitioningVertexArray.length===0}upload(n,a,f,v,h){this.isEmpty()||(f&&(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,tw.members),this.indexBuffer=n.createIndexBuffer(this.indexArray,a),this.dynamicLayoutVertexBuffer=n.createVertexBuffer(this.dynamicLayoutVertexArray,Yb.members,!0),this.opacityVertexBuffer=n.createVertexBuffer(this.opacityVertexArray,xw,!0),this.iconTransitioningVertexArray.length>0&&(this.iconTransitioningVertexBuffer=n.createVertexBuffer(this.iconTransitioningVertexArray,Jb.members,!0)),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=n.createVertexBuffer(this.globeExtVertexArray,oE.members,!0)),!this.zOffsetVertexBuffer&&(this.zOffsetVertexArray.length>0||h)&&(this.zOffsetVertexBuffer=n.createVertexBuffer(this.zOffsetVertexArray,W0.members,!0)),this.opacityVertexBuffer.itemSize=1),(f||v)&&this.programConfigurations.upload(n))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.iconTransitioningVertexBuffer&&this.iconTransitioningVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy(),this.zOffsetVertexBuffer&&this.zOffsetVertexBuffer.destroy())}}bi(qy,"SymbolBuffers");class Ky{constructor(n,a,f){this.layoutVertexArray=new n,this.layoutAttributes=a,this.indexArray=new f,this.segments=new fl,this.collisionVertexArray=new x0,this.collisionVertexArrayExt=new hf}upload(n){this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=n.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=n.createVertexBuffer(this.collisionVertexArray,aE.members,!0),this.collisionVertexBufferExt=n.createVertexBuffer(this.collisionVertexArrayExt,nw.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}bi(Ky,"CollisionBuffers");class zd{constructor(n){this.collisionBoxArray=n.collisionBoxArray,this.zoom=n.zoom,this.lut=n.lut,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(y=>y.fqid),this.index=n.index,this.pixelRatio=n.pixelRatio,this.sourceLayerIndex=n.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.hasAnyIconTextFit=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=J.mat4.identity([]),this.placementViewportMatrix=J.mat4.identity([]);const a=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Fy(this.zoom,a["text-size"]),this.iconSizeData=Fy(this.zoom,a["icon-size"]);const f=this.layers[0].layout,v=f.get("symbol-sort-key"),h=f.get("symbol-z-order");this.canOverlap=f.get("text-allow-overlap")||f.get("icon-allow-overlap")||f.get("text-ignore-placement")||f.get("icon-ignore-placement"),this.sortFeaturesByKey=h!=="viewport-y"&&v.constantOr(1)!==void 0,this.sortFeaturesByY=(h==="viewport-y"||h==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=f.get("text-writing-mode").map(y=>hu[y]),this.stateDependentLayerIds=this.layers.filter(y=>y.isStateDependent()).map(y=>y.id),this.sourceID=n.sourceID,this.projection=n.projection,this.hasAnyZOffset=!1,this.zOffsetSortDirty=!1,this.zOffsetBuffersNeedUpload=f.get("symbol-z-elevate"),this.activeReplacements=[],this.replacementUpdateTime=0}createArrays(){this.text=new qy(new Ac(this.layers,{zoom:this.zoom,lut:this.lut},n=>n.startsWith("text")||n.startsWith("symbol"))),this.icon=new qy(new Ac(this.layers,{zoom:this.zoom,lut:this.lut},n=>n.startsWith("icon")||n.startsWith("symbol"))),this.glyphOffsetArray=new w0,this.lineVertexArray=new S0,this.symbolInstances=new Cd}calculateGlyphDependencies(n,a,f,v,h){for(const y of n){const E=y.codePointAt(0);if(E===void 0)break;if(a[E]=!0,v&&h&&E<=65535){const O=fg[y];O&&(a[O.charCodeAt(0)]=!0)}}}updateFootprints(n,a){}updateReplacement(n,a){if(a.updateTime===this.replacementUpdateTime)return!1;this.replacementUpdateTime=a.updateTime;const f=a.getReplacementRegionsForTile(n.toUnwrapped(),!0);return!Cy(this.activeReplacements,f)&&(this.activeReplacements=f,!0)}populate(n,a,f,v){const h=this.layers[0],y=h.layout,E=this.projection.name==="globe",O=y.get("text-font"),L=y.get("text-field"),C=y.get("icon-image"),[$,z]=y.get("icon-size-scale-range"),P=ri(a.scaleFactor||1,$,z),A=(L.value.kind!=="constant"||L.value.value instanceof gr&&!L.value.value.isEmpty()||L.value.value.toString().length>0)&&(O.value.kind!=="constant"||O.value.value.length>0),k=C.value.kind!=="constant"||!!C.value.value||Object.keys(C.parameters).length>0,X=y.get("symbol-sort-key");if(this.features=[],!A&&!k)return;const ee=a.iconDependencies,le=a.glyphDependencies,ue=a.availableImages,ie=new Xs(this.zoom);for(const{feature:ye,id:Se,index:$e,sourceLayerIndex:et}of n){const Ye=h._featureFilter.needGeometry,Xe=te(ye,Ye);if(!h._featureFilter.filter(ie,Xe,f))continue;if(Ye||(Xe.geometry=G(ye,f,v)),E&&ye.type!==1&&f.z<=5){const $t=Xe.geometry,Ft=.98078528056,Yt=(un,Wt)=>{const jn=Rs(un.x,un.y,f,1),cr=Rs(Wt.x,Wt.y,f,1);return J.vec3.dot(jn,cr)<Ft};for(let un=0;un<$t.length;un++)$t[un]=I($t[un],Yt)}let Ct,at;if(A){const $t=h.getValueAndResolveTokens("text-field",Xe,f,ue),Ft=gr.factory($t);Cw(Ft)&&(this.hasRTLText=!0),(!this.hasRTLText||Fh()==="unavailable"||this.hasRTLText&&$c.isParsed())&&(Ct=ow(Ft,h,Xe))}if(k){const $t=h.getValueAndResolveTokens("icon-image",Xe,f,ue);at=$t instanceof Ar?$t:Ar.build($t)}if(!Ct&&!at)continue;const St=this.sortFeaturesByKey?X.evaluate(Xe,{},f):void 0,At={id:Se,text:Ct,icon:at,index:$e,sourceLayerIndex:et,geometry:Xe.geometry,properties:ye.properties,type:w1[ye.type],sortKey:St};if(this.features.push(At),at){const $t=By(this.iconSizeData,this.layers[0]._unevaluatedLayout._values["icon-size"],f,this.zoom,At)*P*this.pixelRatio,Ft=at.getPrimary().scaleSelf($t);if(ee[Ft.id]=ee[Ft.id]||[],ee[Ft.id].push(Ft),at.nameSecondary){const Yt=at.getSecondary().scaleSelf($t);ee[Yt.id]=ee[Yt.id]||[],ee[Yt.id].push(Yt)}}if(Ct){const $t=O.evaluate(Xe,{},f).join(","),Ft=y.get("text-rotation-alignment")==="map"&&y.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(hu.vertical)>=0;for(const Yt of Ct.sections)if(Yt.image){const un=Yt.image.getPrimary().scaleSelf(this.pixelRatio);ee[un.id]=ee[un.id]||[],ee[un.id].push(un)}else{const un=Dm(Ct.toString()),Wt=Yt.fontStack||$t,jn=le[Wt]=le[Wt]||{};this.calculateGlyphDependencies(Yt.text,jn,Ft,this.allowVerticalPlacement,un)}}}y.get("symbol-placement")==="line"&&(this.features=function(ye){const Se={},$e={},et=[];let Ye=0;function Xe(At){et.push(ye[At]),Ye++}function Ct(At,$t,Ft){const Yt=$e[At];return delete $e[At],$e[$t]=Yt,et[Yt].geometry[0].pop(),et[Yt].geometry[0]=et[Yt].geometry[0].concat(Ft[0]),Yt}function at(At,$t,Ft){const Yt=Se[$t];return delete Se[$t],Se[At]=Yt,et[Yt].geometry[0].shift(),et[Yt].geometry[0]=Ft[0].concat(et[Yt].geometry[0]),Yt}function St(At,$t,Ft){const Yt=Ft?$t[0][$t[0].length-1]:$t[0][0];return`${At}:${Yt.x}:${Yt.y}`}for(let At=0;At<ye.length;At++){const $t=ye[At],Ft=$t.geometry,Yt=$t.text?$t.text.toString():null;if(!Yt){Xe(At);continue}const un=St(Yt,Ft),Wt=St(Yt,Ft,!0);if(un in $e&&Wt in Se&&$e[un]!==Se[Wt]){const jn=at(un,Wt,Ft),cr=Ct(un,Wt,et[jn].geometry);delete Se[un],delete $e[Wt],$e[St(Yt,et[cr].geometry,!0)]=cr,et[jn].geometry=null}else un in $e?Ct(un,Wt,Ft):Wt in Se?at(un,Wt,Ft):(Xe(At),Se[un]=Ye-1,$e[Wt]=Ye-1)}return et.filter(At=>At.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((ye,Se)=>ye.sortKey-Se.sortKey)}update(n,a,f,v,h,y,E){this.text.programConfigurations.updatePaintArrays(n,a,h,f,v,y,E),this.icon.programConfigurations.updatePaintArrays(n,a,h,f,v,y,E)}updateZOffset(){const n=(h,y,E)=>{f+=y,f>h.length&&h.resize(f);for(let O=-y;O<0;O++)h.emplace(O+f,E)},a=(h,y,E)=>{v+=y,v>h.length&&h.resize(v);for(let O=-y;O<0;O++)h.emplace(O+v,E)};if(!this.zOffsetBuffersNeedUpload)return;this.zOffsetBuffersNeedUpload=!1;let f=0,v=0;for(let h=0;h<this.symbolInstances.length;h++){const y=this.symbolInstances.get(h),{numHorizontalGlyphVertices:E,numVerticalGlyphVertices:O,numIconVertices:L}=y,C=y.zOffset,$=L>0;if((E>0||O>0)&&(n(this.text.zOffsetVertexArray,E,C),n(this.text.zOffsetVertexArray,O,C)),$){const{placedIconSymbolIndex:z,verticalPlacedIconSymbolIndex:P}=y;z>=0&&a(this.icon.zOffsetVertexArray,L,C),P>=0&&a(this.icon.zOffsetVertexArray,y.numVerticalIconVertices,C)}}this.text.zOffsetVertexBuffer&&this.text.zOffsetVertexBuffer.updateData(this.text.zOffsetVertexArray),this.icon.zOffsetVertexBuffer&&this.icon.zOffsetVertexBuffer.updateData(this.icon.zOffsetVertexArray)}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(n){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(n),this.iconCollisionBox.upload(n)),this.text.upload(n,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload,this.zOffsetBuffersNeedUpload),this.icon.upload(n,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload,this.zOffsetBuffersNeedUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}getProjection(){return this.projectionInstance||(this.projectionInstance=Xy(this.projection)),this.projectionInstance}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(n,a){const f=this.lineVertexArray.length;if(n.segment!==void 0)for(const{x:v,y:h}of a)this.lineVertexArray.emplaceBack(v,h);return{lineStartIndex:f,lineLength:this.lineVertexArray.length-f}}addSymbols(n,a,f,v,h,y,E,O,L,C,$,z,P,A,k,X){const ee=n.indexArray,le=n.layoutVertexArray,ue=n.globeExtVertexArray,ie=n.segments.prepareSegment(4*a.length,le,ee,this.canOverlap?y.sortKey:void 0),ye=this.glyphOffsetArray.length,Se=ie.vertexLength,$e=this.allowVerticalPlacement&&E===hu.vertical?Math.PI/2:0,et=y.text&&y.text.sections;for(let Xe=0;Xe<a.length;Xe++){const{tl:Ct,tr:at,bl:St,br:At,texPrimary:$t,texSecondary:Ft,pixelOffsetTL:Yt,pixelOffsetBR:un,minFontScaleX:Wt,minFontScaleY:jn,glyphOffset:cr,isSDF:kn,sectionIndex:Yr}=a[Xe],kr=ie.vertexLength,br=cr[1];if(np(le,L.x,L.y,Ct.x,br+Ct.y,$t.x,$t.y,f,kn,Yt.x,Yt.y,Wt,jn),np(le,L.x,L.y,at.x,br+at.y,$t.x+$t.w,$t.y,f,kn,un.x,Yt.y,Wt,jn),np(le,L.x,L.y,St.x,br+St.y,$t.x,$t.y+$t.h,f,kn,Yt.x,un.y,Wt,jn),np(le,L.x,L.y,At.x,br+At.y,$t.x+$t.w,$t.y+$t.h,f,kn,un.x,un.y,Wt,jn),O){const{x:fr,y:Mi,z:ti}=O.anchor,[ui,wo,na]=O.up;nv(ue,fr,Mi,ti,ui,wo,na),nv(ue,fr,Mi,ti,ui,wo,na),nv(ue,fr,Mi,ti,ui,wo,na),nv(ue,fr,Mi,ti,ui,wo,na),rv(n.dynamicLayoutVertexArray,fr,Mi,ti,$e)}else rv(n.dynamicLayoutVertexArray,L.x,L.y,L.z,$e);if(X){const fr=Ft||$t;tv(n.iconTransitioningVertexArray,fr.x,fr.y),tv(n.iconTransitioningVertexArray,fr.x+fr.w,fr.y),tv(n.iconTransitioningVertexArray,fr.x,fr.y+fr.h),tv(n.iconTransitioningVertexArray,fr.x+fr.w,fr.y+fr.h)}ee.emplaceBack(kr,kr+1,kr+2),ee.emplaceBack(kr+1,kr+2,kr+3),ie.vertexLength+=4,ie.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(cr[0]),Xe!==a.length-1&&Yr===a[Xe+1].sectionIndex||n.programConfigurations.populatePaintArrays(le.length,y,y.index,{},P,A,k,et&&et[Yr])}const Ye=O?O.anchor:L;n.placedSymbolArray.emplaceBack(Ye.x,Ye.y,Ye.z,L.x,L.y,ye,this.glyphOffsetArray.length-ye,Se,C,$,L.segment,f?f[0]:0,f?f[1]:0,v[0],v[1],E,0,!1,0,z,0)}_commitLayoutVertex(n,a,f,v,h,y,E){n.emplaceBack(a,f,v,h,y,Math.round(E.x),Math.round(E.y))}_addCollisionDebugVertices(n,a,f,v,h,y,E){const O=f.segments.prepareSegment(4,f.layoutVertexArray,f.indexArray),L=O.vertexLength,C=E.tileAnchorX,$=E.tileAnchorY;for(let P=0;P<4;P++)f.collisionVertexArray.emplaceBack(0,0,0,0,0,0);this._commitDebugCollisionVertexUpdate(f.collisionVertexArrayExt,a,n.padding,E.zOffset),this._commitLayoutVertex(f.layoutVertexArray,v,h,y,C,$,new Sn(n.x1,n.y1)),this._commitLayoutVertex(f.layoutVertexArray,v,h,y,C,$,new Sn(n.x2,n.y1)),this._commitLayoutVertex(f.layoutVertexArray,v,h,y,C,$,new Sn(n.x2,n.y2)),this._commitLayoutVertex(f.layoutVertexArray,v,h,y,C,$,new Sn(n.x1,n.y2)),O.vertexLength+=4;const z=f.indexArray;z.emplaceBack(L,L+1),z.emplaceBack(L+1,L+2),z.emplaceBack(L+2,L+3),z.emplaceBack(L+3,L),O.primitiveLength+=4}_addTextDebugCollisionBoxes(n,a,f,v,h,y){for(let E=v;E<h;E++){const O=f.get(E),L=this.getSymbolInstanceTextSize(n,y,a,E);this._addCollisionDebugVertices(O,L,this.textCollisionBox,O.projectedAnchorX,O.projectedAnchorY,O.projectedAnchorZ,y)}}_addIconDebugCollisionBoxes(n,a,f,v,h,y){for(let E=v;E<h;E++){const O=f.get(E),L=this.getSymbolInstanceIconSize(n,a,y.placedIconSymbolIndex);this._addCollisionDebugVertices(O,L,this.iconCollisionBox,O.projectedAnchorX,O.projectedAnchorY,O.projectedAnchorZ,y)}}generateCollisionDebugBuffers(n,a,f){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Ky(Vm,Ny.members,_d),this.iconCollisionBox=new Ky(Vm,Ny.members,_d);const v=rm(this.iconSizeData,n),h=rm(this.textSizeData,n,f);for(let y=0;y<this.symbolInstances.length;y++){const E=this.symbolInstances.get(y);this._addTextDebugCollisionBoxes(h,n,a,E.textBoxStartIndex,E.textBoxEndIndex,E),this._addTextDebugCollisionBoxes(h,n,a,E.verticalTextBoxStartIndex,E.verticalTextBoxEndIndex,E),this._addIconDebugCollisionBoxes(v,n,a,E.iconBoxStartIndex,E.iconBoxEndIndex,E),this._addIconDebugCollisionBoxes(v,n,a,E.verticalIconBoxStartIndex,E.verticalIconBoxEndIndex,E)}}getSymbolInstanceTextSize(n,a,f,v){const h=this.text.placedSymbolArray.get(a.rightJustifiedTextSymbolIndex>=0?a.rightJustifiedTextSymbolIndex:a.centerJustifiedTextSymbolIndex>=0?a.centerJustifiedTextSymbolIndex:a.leftJustifiedTextSymbolIndex>=0?a.leftJustifiedTextSymbolIndex:a.verticalPlacedTextSymbolIndex>=0?a.verticalPlacedTextSymbolIndex:v),y=dg(this.textSizeData,n,h)/vc;return this.tilePixelRatio*y}getSymbolInstanceIconSize(n,a,f){const v=this.icon.placedSymbolArray.get(f),h=dg(this.iconSizeData,n,v);return this.tilePixelRatio*h}_commitDebugCollisionVertexUpdate(n,a,f,v){n.emplaceBack(a,-f,-f,v),n.emplaceBack(a,f,-f,v),n.emplaceBack(a,f,f,v),n.emplaceBack(a,-f,f,v)}_updateTextDebugCollisionBoxes(n,a,f,v,h,y,E){for(let O=v;O<h;O++){const L=f.get(O),C=this.getSymbolInstanceTextSize(n,y,a,O);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,C,L.padding,y.zOffset)}}_updateIconDebugCollisionBoxes(n,a,f,v,h,y,E){for(let O=v;O<h;O++){const L=f.get(O),C=this.getSymbolInstanceIconSize(n,a,y.placedIconSymbolIndex);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,C,L.padding,y.zOffset)}}updateCollisionDebugBuffers(n,a,f,v){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const h=rm(this.iconSizeData,n,v),y=rm(this.textSizeData,n,f);for(let E=0;E<this.symbolInstances.length;E++){const O=this.symbolInstances.get(E);this._updateTextDebugCollisionBoxes(y,n,a,O.textBoxStartIndex,O.textBoxEndIndex,O,f),this._updateTextDebugCollisionBoxes(y,n,a,O.verticalTextBoxStartIndex,O.verticalTextBoxEndIndex,O,f),this._updateIconDebugCollisionBoxes(h,n,a,O.iconBoxStartIndex,O.iconBoxEndIndex,O,v),this._updateIconDebugCollisionBoxes(h,n,a,O.verticalIconBoxStartIndex,O.verticalIconBoxEndIndex,O,v)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(n,a,f,v,h,y,E,O,L){const C={};if(a<f){const{x1:$,y1:z,x2:P,y2:A,padding:k,projectedAnchorX:X,projectedAnchorY:ee,projectedAnchorZ:le,tileAnchorX:ue,tileAnchorY:ie,featureIndex:ye}=n.get(a);C.textBox={x1:$,y1:z,x2:P,y2:A,padding:k,projectedAnchorX:X,projectedAnchorY:ee,projectedAnchorZ:le,tileAnchorX:ue,tileAnchorY:ie},C.textFeatureIndex=ye}if(v<h){const{x1:$,y1:z,x2:P,y2:A,padding:k,projectedAnchorX:X,projectedAnchorY:ee,projectedAnchorZ:le,tileAnchorX:ue,tileAnchorY:ie,featureIndex:ye}=n.get(v);C.verticalTextBox={x1:$,y1:z,x2:P,y2:A,padding:k,projectedAnchorX:X,projectedAnchorY:ee,projectedAnchorZ:le,tileAnchorX:ue,tileAnchorY:ie},C.verticalTextFeatureIndex=ye}if(y<E){const{x1:$,y1:z,x2:P,y2:A,padding:k,projectedAnchorX:X,projectedAnchorY:ee,projectedAnchorZ:le,tileAnchorX:ue,tileAnchorY:ie,featureIndex:ye}=n.get(y);C.iconBox={x1:$,y1:z,x2:P,y2:A,padding:k,projectedAnchorX:X,projectedAnchorY:ee,projectedAnchorZ:le,tileAnchorX:ue,tileAnchorY:ie},C.iconFeatureIndex=ye}if(O<L){const{x1:$,y1:z,x2:P,y2:A,padding:k,projectedAnchorX:X,projectedAnchorY:ee,projectedAnchorZ:le,tileAnchorX:ue,tileAnchorY:ie,featureIndex:ye}=n.get(O);C.verticalIconBox={x1:$,y1:z,x2:P,y2:A,padding:k,projectedAnchorX:X,projectedAnchorY:ee,projectedAnchorZ:le,tileAnchorX:ue,tileAnchorY:ie},C.verticalIconFeatureIndex=ye}return C}deserializeCollisionBoxes(n){this.collisionArrays=[];for(let a=0;a<this.symbolInstances.length;a++){const f=this.symbolInstances.get(a);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(n,f.textBoxStartIndex,f.textBoxEndIndex,f.verticalTextBoxStartIndex,f.verticalTextBoxEndIndex,f.iconBoxStartIndex,f.iconBoxEndIndex,f.verticalIconBoxStartIndex,f.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}hasIconTextFit(){return this.hasAnyIconTextFit}addIndicesForPlacedSymbol(n,a){const f=n.placedSymbolArray.get(a),v=f.vertexStartIndex+4*f.numGlyphs;for(let h=f.vertexStartIndex;h<v;h+=4)n.indexArray.emplaceBack(h,h+1,h+2),n.indexArray.emplaceBack(h+1,h+2,h+3)}getSortedSymbolIndexes(n){if(this.sortedAngle===n&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const a=Math.sin(n),f=Math.cos(n),v=[],h=[],y=[];for(let E=0;E<this.symbolInstances.length;++E){y.push(E);const O=this.symbolInstances.get(E);v.push(0|Math.round(a*O.tileAnchorX+f*O.tileAnchorY)),h.push(O.featureIndex)}return y.sort((E,O)=>v[E]-v[O]||h[O]-h[E]),y}getSortedIndexesByZOffset(){if(!this.zOffsetSortDirty)return this.symbolInstanceIndexesSortedZOffset;if(!this.symbolInstanceIndexesSortedZOffset){this.symbolInstanceIndexesSortedZOffset=[];for(let n=0;n<this.symbolInstances.length;++n)this.symbolInstanceIndexesSortedZOffset.push(n)}return this.zOffsetSortDirty=!1,this.symbolInstanceIndexesSortedZOffset.sort((n,a)=>this.symbolInstances.get(a).zOffset-this.symbolInstances.get(n).zOffset)}addToSortKeyRanges(n,a){const f=this.sortKeyRanges[this.sortKeyRanges.length-1];f&&f.sortKey===a?f.symbolInstanceEnd=n+1:this.sortKeyRanges.push({sortKey:a,symbolInstanceStart:n,symbolInstanceEnd:n+1})}sortFeatures(n){if(this.sortFeaturesByY&&this.sortedAngle!==n&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(n),this.sortedAngle=n,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const a of this.symbolInstanceIndexes){const f=this.symbolInstances.get(a);this.featureSortOrder.push(f.featureIndex);const{rightJustifiedTextSymbolIndex:v,centerJustifiedTextSymbolIndex:h,leftJustifiedTextSymbolIndex:y,verticalPlacedTextSymbolIndex:E,placedIconSymbolIndex:O,verticalPlacedIconSymbolIndex:L}=f;v>=0&&this.addIndicesForPlacedSymbol(this.text,v),h>=0&&h!==v&&this.addIndicesForPlacedSymbol(this.text,h),y>=0&&y!==h&&y!==v&&this.addIndicesForPlacedSymbol(this.text,y),E>=0&&this.addIndicesForPlacedSymbol(this.text,E),O>=0&&this.addIndicesForPlacedSymbol(this.icon,O),L>=0&&this.addIndicesForPlacedSymbol(this.icon,L)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let S1,E1,iv;bi(zd,"SymbolBucket",{omit:["layers","collisionBoxArray","features","compareText"]}),zd.addDynamicAttributes=rv;class Yy{constructor(n){this.type=n.property.overrides?n.property.overrides.runtimeType:Ss,this.defaultValue=n}evaluate(n){if(n.formattedSection){const a=this.defaultValue.property.overrides;if(a&&a.hasOverride(n.formattedSection))return a.getOverride(n.formattedSection)}return n.feature&&n.featureState?this.defaultValue.evaluate(n.feature,n.featureState):this.defaultValue.property.specification.default}eachChild(n){this.defaultValue.isConstant()||n(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}bi(Yy,"FormatSectionOverride",{omit:["defaultValue"]});const $g=()=>iv||(iv={layout:S1||(S1=new al({"symbol-placement":new Sr(gn.layout_symbol["symbol-placement"]),"symbol-spacing":new Sr(gn.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Sr(gn.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new ci(gn.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Sr(gn.layout_symbol["symbol-z-order"]),"symbol-z-elevate":new Sr(gn.layout_symbol["symbol-z-elevate"]),"symbol-elevation-reference":new Sr(gn.layout_symbol["symbol-elevation-reference"]),"icon-allow-overlap":new Sr(gn.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Sr(gn.layout_symbol["icon-ignore-placement"]),"icon-optional":new Sr(gn.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Sr(gn.layout_symbol["icon-rotation-alignment"]),"icon-size":new ci(gn.layout_symbol["icon-size"]),"icon-size-scale-range":new Sr(gn.layout_symbol["icon-size-scale-range"]),"icon-text-fit":new ci(gn.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new ci(gn.layout_symbol["icon-text-fit-padding"]),"icon-image":new ci(gn.layout_symbol["icon-image"]),"icon-rotate":new ci(gn.layout_symbol["icon-rotate"]),"icon-padding":new Sr(gn.layout_symbol["icon-padding"]),"icon-keep-upright":new Sr(gn.layout_symbol["icon-keep-upright"]),"icon-offset":new ci(gn.layout_symbol["icon-offset"]),"icon-anchor":new ci(gn.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Sr(gn.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Sr(gn.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Sr(gn.layout_symbol["text-rotation-alignment"]),"text-field":new ci(gn.layout_symbol["text-field"]),"text-font":new ci(gn.layout_symbol["text-font"]),"text-size":new ci(gn.layout_symbol["text-size"]),"text-size-scale-range":new Sr(gn.layout_symbol["text-size-scale-range"]),"text-max-width":new ci(gn.layout_symbol["text-max-width"]),"text-line-height":new ci(gn.layout_symbol["text-line-height"]),"text-letter-spacing":new ci(gn.layout_symbol["text-letter-spacing"]),"text-justify":new ci(gn.layout_symbol["text-justify"]),"text-radial-offset":new ci(gn.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Sr(gn.layout_symbol["text-variable-anchor"]),"text-anchor":new ci(gn.layout_symbol["text-anchor"]),"text-max-angle":new Sr(gn.layout_symbol["text-max-angle"]),"text-writing-mode":new Sr(gn.layout_symbol["text-writing-mode"]),"text-rotate":new ci(gn.layout_symbol["text-rotate"]),"text-padding":new Sr(gn.layout_symbol["text-padding"]),"text-keep-upright":new Sr(gn.layout_symbol["text-keep-upright"]),"text-transform":new ci(gn.layout_symbol["text-transform"]),"text-offset":new ci(gn.layout_symbol["text-offset"]),"text-allow-overlap":new Sr(gn.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Sr(gn.layout_symbol["text-ignore-placement"]),"text-optional":new Sr(gn.layout_symbol["text-optional"]),visibility:new Sr(gn.layout_symbol.visibility)})),paint:E1||(E1=new al({"icon-opacity":new ci(gn.paint_symbol["icon-opacity"]),"icon-occlusion-opacity":new ci(gn.paint_symbol["icon-occlusion-opacity"]),"icon-emissive-strength":new ci(gn.paint_symbol["icon-emissive-strength"]),"text-emissive-strength":new ci(gn.paint_symbol["text-emissive-strength"]),"icon-color":new ci(gn.paint_symbol["icon-color"]),"icon-halo-color":new ci(gn.paint_symbol["icon-halo-color"]),"icon-halo-width":new ci(gn.paint_symbol["icon-halo-width"]),"icon-halo-blur":new ci(gn.paint_symbol["icon-halo-blur"]),"icon-translate":new Sr(gn.paint_symbol["icon-translate"]),"icon-translate-anchor":new Sr(gn.paint_symbol["icon-translate-anchor"]),"icon-image-cross-fade":new ci(gn.paint_symbol["icon-image-cross-fade"]),"text-opacity":new ci(gn.paint_symbol["text-opacity"]),"text-occlusion-opacity":new ci(gn.paint_symbol["text-occlusion-opacity"]),"text-color":new ci(gn.paint_symbol["text-color"],{runtimeType:wa,getOverride:c=>c.textColor,hasOverride:c=>!!c.textColor}),"text-halo-color":new ci(gn.paint_symbol["text-halo-color"]),"text-halo-width":new ci(gn.paint_symbol["text-halo-width"]),"text-halo-blur":new ci(gn.paint_symbol["text-halo-blur"]),"text-translate":new Sr(gn.paint_symbol["text-translate"]),"text-translate-anchor":new Sr(gn.paint_symbol["text-translate-anchor"]),"icon-color-saturation":new Sr(gn.paint_symbol["icon-color-saturation"]),"icon-color-contrast":new Sr(gn.paint_symbol["icon-color-contrast"]),"icon-color-brightness-min":new Sr(gn.paint_symbol["icon-color-brightness-min"]),"icon-color-brightness-max":new Sr(gn.paint_symbol["icon-color-brightness-max"]),"symbol-z-offset":new ci(gn.paint_symbol["symbol-z-offset"]),"icon-color-use-theme":new ci({type:"string",default:"default","property-type":"data-driven"}),"icon-halo-color-use-theme":new ci({type:"string",default:"default","property-type":"data-driven"}),"text-color-use-theme":new ci({type:"string",default:"default","property-type":"data-driven"}),"text-halo-color-use-theme":new ci({type:"string",default:"default","property-type":"data-driven"})}))},iv);class yc extends ql{constructor(n,a,f,v){super(n,$g(),a,f,v),this._colorAdjustmentMatrix=J.mat4.identity([]),this.hasInitialOcclusionOpacityProperties=n.paint!==void 0&&("icon-occlusion-opacity"in n.paint||"text-occlusion-opacity"in n.paint)}recalculate(n,a){super.recalculate(n,a),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const f=this.layout.get("text-writing-mode");if(f){const v=[];for(const h of f)v.indexOf(h)<0&&v.push(h);this.layout._values["text-writing-mode"]=v}else this.layout._values["text-writing-mode"]=this.layout.get("symbol-placement")==="point"?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getColorAdjustmentMatrix(n,a,f,v){return this._saturation===n&&this._contrast===a&&this._brightnessMin===f&&this._brightnessMax===v||(this._colorAdjustmentMatrix=function(h,y,E,O){h=hi(h),y=$r(y);const L=J.mat4.create(),C=h/3,$=1-2*C,z=[$,C,C,0,C,$,C,0,C,C,$,0,0,0,0,1],P=.5-.5*y,A=O-E;return J.mat4.multiply(L,[A,0,0,0,0,A,0,0,0,0,A,0,E,E,E,1],[y,0,0,0,0,y,0,0,0,0,y,0,P,P,P,1]),J.mat4.multiply(L,L,z),L}(n,a,f,v),this._saturation=n,this._contrast=a,this._brightnessMin=f,this._brightnessMax=v),this._colorAdjustmentMatrix}getValueAndResolveTokens(n,a,f,v){const h=this.layout.get(n).evaluate(a,{},f,v),y=this._unevaluatedLayout._values[n];return y.isDataDriven()||Nf(y.value)||!h?h:function(E,O){return O.replace(/{([^{}]+)}/g,(L,C)=>C in E?String(E[C]):"")}(a.properties,h)}createBucket(n){return new zd(n)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const n of $g().paint.overridableProperties){if(!yc.hasPaintOverride(this.layout,n))continue;const a=this.paint.get(n),f=new Yy(a),v=new Uu(f,a.property.specification,this.scope,this.options);let h=null;h=a.value.kind==="constant"||a.value.kind==="source"?new Pp("source",v):new Nh("composite",v,a.value.zoomStops,a.value._interpolationType),this.paint._values[n]=new cf(a.property,h,a.parameters)}}_handleOverridablePaintPropertyUpdate(n,a,f){return!(!this.layout||a.isDataDriven()||f.isDataDriven())&&yc.hasPaintOverride(this.layout,n)}static hasPaintOverride(n,a){const f=n.get("text-field"),v=$g().paint.properties[a];let h=!1;const y=E=>{for(const O of E)if(v.overrides&&v.overrides.hasOverride(O))return void(h=!0)};if(f.value.kind==="constant"&&f.value.value instanceof gr)y(f.value.value.sections);else if(f.value.kind==="source"){const E=L=>{h||(L instanceof Cr&&Pr(L.value)===rs?y(L.value.sections):L instanceof Qo?y(L.sections):L.eachChild(E))},O=f.value;O._styleExpression&&E(O._styleExpression.expression)}return h}getProgramIds(){return["symbol"]}getDefaultProgramParams(n,a,f){return{config:new vf(this,{zoom:a,lut:f}),overrideFog:!1}}}let I1,T1,ww,Jy;var Qy=us([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);function e_(c){switch(c){case WebGL2RenderingContext.RGBA8:return WebGL2RenderingContext.RGBA;case WebGL2RenderingContext.DEPTH_COMPONENT16:return WebGL2RenderingContext.DEPTH_COMPONENT;case WebGL2RenderingContext.DEPTH24_STENCIL8:return WebGL2RenderingContext.DEPTH_STENCIL;case WebGL2RenderingContext.R8:case WebGL2RenderingContext.R32F:return WebGL2RenderingContext.RED}}function t_(c){switch(c){case WebGL2RenderingContext.RGBA8:return WebGL2RenderingContext.UNSIGNED_BYTE;case WebGL2RenderingContext.DEPTH_COMPONENT16:return WebGL2RenderingContext.UNSIGNED_SHORT;case WebGL2RenderingContext.DEPTH24_STENCIL8:return WebGL2RenderingContext.UNSIGNED_INT_24_8;case WebGL2RenderingContext.R8:return WebGL2RenderingContext.UNSIGNED_BYTE;case WebGL2RenderingContext.R32F:return WebGL2RenderingContext.FLOAT}}class n_{constructor(n,a,f,v){this.context=n,this.format=f,this.useMipmap=v&&v.useMipmap,this.texture=n.gl.createTexture(),this.update(a,{premultiply:v&&v.premultiply})}update(n,a){const f=n&&n instanceof HTMLVideoElement&&n.width===0?n.videoWidth:n.width,v=n&&n instanceof HTMLVideoElement&&n.height===0?n.videoHeight:n.height,{context:h}=this,{gl:y}=h,{x:E,y:O}=a&&a.position?a.position:{x:0,y:0},L=E+f,C=O+v;!this.size||this.size[0]===L&&this.size[1]===C||(y.bindTexture(y.TEXTURE_2D,null),y.deleteTexture(this.texture),this.texture=y.createTexture(),this.size=null),y.bindTexture(y.TEXTURE_2D,this.texture),h.pixelStoreUnpackFlipY.set(!1),h.pixelStoreUnpack.set(1),h.pixelStoreUnpackPremultiplyAlpha.set(this.format===y.RGBA8&&(!a||a.premultiply!==!1));const $=n instanceof HTMLImageElement||n instanceof HTMLCanvasElement||n instanceof HTMLVideoElement||n instanceof ImageData||ImageBitmap&&n instanceof ImageBitmap;if(!this.size&&L>0&&C>0){const z=this.useMipmap?Math.floor(Math.log2(Math.max(L,C)))+1:1;y.texStorage2D(y.TEXTURE_2D,z,this.format,L,C),this.size=[L,C]}if(this.size)if($)y.texSubImage2D(y.TEXTURE_2D,0,E,O,e_(this.format),t_(this.format),n);else{const z=n.data;z&&y.texSubImage2D(y.TEXTURE_2D,0,E,O,f,v,e_(this.format),t_(this.format),z)}this.useMipmap&&y.generateMipmap(y.TEXTURE_2D)}bind(n,a,f=!1){const{context:v}=this,{gl:h}=v;h.bindTexture(h.TEXTURE_2D,this.texture),n!==this.minFilter&&(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,n),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,this.useMipmap&&!f?n===h.NEAREST?h.NEAREST_MIPMAP_NEAREST:h.LINEAR_MIPMAP_LINEAR:n),this.minFilter=n),a!==this.wrapS&&(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,a),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,a),this.wrapS=a)}bindExtraParam(n,a,f,v){const{context:h}=this,{gl:y}=h;y.bindTexture(y.TEXTURE_2D,this.texture),a!==this.magFilter&&(y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MAG_FILTER,a),this.magFilter=a),n!==this.minFilter&&(y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MIN_FILTER,this.useMipmap?n===y.NEAREST?y.NEAREST_MIPMAP_NEAREST:y.LINEAR_MIPMAP_LINEAR:n),this.minFilter=n),f!==this.wrapS&&(y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_S,f),this.wrapS=f),v!==this.wrapT&&(y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_T,v),this.wrapT=v)}destroy(){const{gl:n}=this.context;n.deleteTexture(this.texture),this.texture=null}}class ov{constructor(n,a){this.context=n,this.texture=a}bind(n,a){const{context:f}=this,{gl:v}=f;v.bindTexture(v.TEXTURE_2D,this.texture),n!==this.minFilter&&(v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MAG_FILTER,n),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MIN_FILTER,n),this.minFilter=n),a!==this.wrapS&&(v.texParameteri(v.TEXTURE_2D,v.TEXTURE_WRAP_S,a),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_WRAP_T,a),this.wrapS=a)}}function av(c,n,a,f,v,h,y,E){const O=[c,n,1,a,f,1,v,h,1],L=[y,E,1],C=J.mat3.adjoint([],O),[$,z,P]=J.vec3.transformMat3(L,L,C);return J.mat3.multiply(O,O,[$,0,0,0,z,0,0,0,P])}function M1(c,n,a,f,v,h,y,E){const O=function(L,C,$,z,P,A,k,X){const ee=av(0,0,1,0,1,1,0,1),le=av(L,C,$,z,P,A,k,X),ue=J.mat3.adjoint([],ee);return J.mat3.multiply(le,le,ue)}(c,n,a,f,v,h,y,E);return[O[2]/O[8]/Fr,O[5]/O[8]/Fr]}function rp(c){return[c[0],Math.min(Math.max(c[1],-gl),gl)]}class sv extends xo{constructor(n,a,f,v){super(),this.id=n,this.dispatcher=f,this.coordinates=a.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.onNorthPole=!1,this.onSouthPole=!1,this.setEventedParent(v),this.options=a,this._dirty=!1}load(n,a){if(this._loaded=a||!1,this.fire(new ys("dataloading",{dataType:"source"})),this.url=this.options.url,!this.url)return n&&(this.coordinates=n),this._loaded=!0,void this._finishLoading();this._imageRequest=mo(this.map._requestManager.transformRequest(this.url,ma.Image),(f,v)=>{this._imageRequest=null,this._loaded=!0,f?this.fire(new _s(f)):v&&(this.image=v instanceof HTMLImageElement?ve.getImageData(v):v,this._dirty=!0,this.width=this.image.width,this.height=this.image.height,n&&(this.coordinates=n),this._finishLoading())})}loaded(){return this._loaded}updateImage(n){return n.url?(this._imageRequest&&n.url!==this.options.url&&(this._imageRequest.cancel(),this._imageRequest=null),this.options.url=n.url,this.load(n.coordinates,this._loaded),this):this}setTexture(n){if(!(n.handle instanceof WebGLTexture))throw new Error("The provided handle is not a WebGLTexture instance");return this.texture=new ov(this.map.painter.context,n.handle),this.width=n.dimensions[0],this.height=n.dimensions[1],this._dirty=!1,this._loaded=!0,this._finishLoading(),this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new ys("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(n){this.map=n,this.load()}onRemove(n){this._imageRequest&&(this._imageRequest.cancel(),this._imageRequest=null),!this.texture||this.texture instanceof ov||this.texture.destroy(),this.boundsBuffer&&(this.boundsBuffer.destroy(),this.elevatedGlobeVertexBuffer&&this.elevatedGlobeVertexBuffer.destroy(),this.elevatedGlobeIndexBuffer&&this.elevatedGlobeIndexBuffer.destroy())}setCoordinates(n){if(this.coordinates=n,this._boundsArray=void 0,this._unsupportedCoords=!1,!n.length)return this;this.onNorthPole=!1,this.onSouthPole=!1;let a=n[0][1],f=n[0][1];for(const h of n)h[1]>f&&(f=h[1]),h[1]<a&&(a=h[1]);const v=(f+a)/2;if(v>gl?this.onNorthPole=!0:v<-gl&&(this.onSouthPole=!0),!this.onNorthPole&&!this.onSouthPole){const h=n.map(l.fromLngLat);this.tileID=function(y){let E=1/0,O=1/0,L=-1/0,C=-1/0;for(const k of y)E=Math.min(E,k.x),O=Math.min(O,k.y),L=Math.max(L,k.x),C=Math.max(C,k.y);const $=Math.max(L-E,C-O),z=Math.max(0,Math.floor(-Math.log($)/Math.LN2)),P=Math.pow(2,z);let A=Math.floor((E+L)/2*P);return A>1&&(A-=1),new ar(z,A,Math.floor((O+C)/2*P))}(h),this.minzoom=this.maxzoom=this.tileID.z}return this.fire(new ys("data",{dataType:"source",sourceDataType:"content"})),this}_clear(){this._boundsArray=void 0,this._unsupportedCoords=!1}_prepareData(n){for(const ee in this.tiles){const le=this.tiles[ee];le.state!=="loaded"&&(le.state="loaded",le.texture=this.texture)}if(this._boundsArray||this.onNorthPole||this.onSouthPole||this._unsupportedCoords)return;const a=am(new ar(0,0,0),this.map.transform.projection),f=[a.projection.project(this.coordinates[0][0],this.coordinates[0][1]),a.projection.project(this.coordinates[1][0],this.coordinates[1][1]),a.projection.project(this.coordinates[2][0],this.coordinates[2][1]),a.projection.project(this.coordinates[3][0],this.coordinates[3][1])];if(!function(ee){const le=ee[1].x-ee[0].x,ue=ee[1].y-ee[0].y,ie=ee[2].x-ee[1].x,ye=ee[2].y-ee[1].y,Se=ee[3].x-ee[2].x,$e=ee[3].y-ee[2].y,et=ee[0].x-ee[3].x,Ye=ee[0].y-ee[3].y,Xe=le*ye-ie*ue,Ct=ie*$e-Se*ye,at=Se*Ye-et*$e,St=et*ue-le*Ye;return Xe>0&&Ct>0&&at>0&&St>0||Xe<0&&Ct<0&&at<0&&St<0}(f))return console.warn("Image source coordinates are defining non-convex area in the Mercator projection"),void(this._unsupportedCoords=!0);const v=am(this.tileID,this.map.transform.projection),[h,y,E,O]=this.coordinates.map(ee=>{const le=v.projection.project(ee[0],ee[1]);return sm(v,le)._round()});this.perspectiveTransform=M1(h.x,h.y,y.x,y.y,E.x,E.y,O.x,O.y);const L=this._boundsArray=new Rc;L.emplaceBack(h.x,h.y,0,0),L.emplaceBack(y.x,y.y,Fr,0),L.emplaceBack(O.x,O.y,0,Fr),L.emplaceBack(E.x,E.y,Fr,Fr),this.boundsBuffer&&(this.boundsBuffer.destroy(),this.elevatedGlobeVertexBuffer&&this.elevatedGlobeVertexBuffer.destroy(),this.elevatedGlobeIndexBuffer&&this.elevatedGlobeIndexBuffer.destroy()),this.boundsBuffer=n.createVertexBuffer(L,Qy.members),this.boundsSegments=fl.simpleSegment(0,0,4,2);const C=[],$=[rp((z=this.coordinates)[0]),rp(z[1]),rp(z[2]),rp(z[3])];var z;const[P,A,k,X]=function(ee){let le=ee[0][0],ue=le,ie=ee[0][1],ye=ie;for(let Se=1;Se<ee.length;Se++)ee[Se][0]<le?le=ee[Se][0]:ee[Se][0]>ue&&(ue=ee[Se][0]),ee[Se][1]<ie?ie=ee[Se][1]:ee[Se][1]>ye&&(ye=ee[Se][1]);return[le,ie,ue-le,ye-ie]}($);{const ee=new Rc,[le,ue,ie,ye]=function(Yt){let un=Yt[0].x,Wt=un,jn=Yt[0].y,cr=jn;for(let kn=1;kn<Yt.length;kn++)Yt[kn].x<un?un=Yt[kn].x:Yt[kn].x>Wt&&(Wt=Yt[kn].x),Yt[kn].y<jn?jn=Yt[kn].y:Yt[kn].y>cr&&(cr=Yt[kn].y);return[un,jn,Wt-un,cr-jn]}(f),Se=Yt=>[(Yt.x-le)/ie,(Yt.y-ue)/ye],[$e,et,Ye,Xe]=f.map(Se),Ct=function(Yt,un,Wt,jn,cr,kn,Yr,kr){const br=av(0,0,1,0,1,1,0,1),fr=av(Yt,un,Wt,jn,cr,kn,Yr,kr),Mi=J.mat3.adjoint([],fr);return J.mat3.multiply(br,br,Mi)}($e[0],$e[1],et[0],et[1],Ye[0],Ye[1],Xe[0],Xe[1]);this.elevatedGlobePerspectiveTransform=M1($e[0],$e[1],et[0],et[1],Ye[0],Ye[1],Xe[0],Xe[1]);const at=(Yt,un)=>{C.push(Yt.lng);const Wt=Math.round((Yt.lng-P)/k*Fr),jn=Math.round((Yt.lat-A)/X*Fr),cr=Se(un),kn=J.vec3.transformMat3([],[cr[0],cr[1],1],Ct),Yr=Math.round(kn[0]/kn[2]*Fr),kr=Math.round(kn[1]/kn[2]*Fr);ee.emplaceBack(Wt,jn,Yr,kr)},St=f[3].x-f[0].x,At=f[3].y-f[0].y,$t=f[2].x-f[1].x,Ft=f[2].y-f[1].y;for(let Yt=0;Yt<65;Yt++){const un=Yt/64,Wt=[f[0].x+un*St,f[0].y+un*At],jn=[f[1].x+un*$t,f[1].y+un*Ft],cr=jn[0]-Wt[0],kn=jn[1]-Wt[1];for(let Yr=0;Yr<65;Yr++){const kr=Yr/64,br={x:Wt[0]+cr*kr,y:Wt[1]+kn*kr,z:0};at(a.projection.unproject(br.x,br.y),br)}}this.elevatedGlobeVertexBuffer=n.createVertexBuffer(ee,Qy.members)}{this.maxLongitudeTriangleSize=0;let ee=[],le=new tc;const ue=(ie,ye,Se)=>{le.emplaceBack(ie,ye,Se);const $e=C[ie],et=C[ye],Ye=C[Se],Xe=Math.min(Math.min($e,et),Ye),Ct=Math.max(Math.max($e,et),Ye)-Xe;Ct>this.maxLongitudeTriangleSize&&(this.maxLongitudeTriangleSize=Ct),ee.push(Xe+Ct/2)};for(let ie=0;ie<64;ie++)for(let ye=0;ye<64;ye++){const Se=65*ie+ye,$e=Se+1,et=Se+65,Ye=et+1;ue(Se,et,$e),ue($e,et,Ye)}[ee,le]=function(ie,ye){const Se=Array.from({length:ie.length},(Ye,Xe)=>Xe);Se.sort((Ye,Xe)=>ie[Ye]-ie[Xe]);const $e=[],et=new tc;for(let Ye=0;Ye<Se.length;Ye++){const Xe=Se[Ye];$e.push(ie[Xe]);const Ct=3*Xe,at=Ct+1;et.emplaceBack(ye.uint16[Ct],ye.uint16[at],ye.uint16[at+1])}return[$e,et]}(ee,le),this.elevatedGlobeTrianglesCenterLongitudes=ee,this.elevatedGlobeIndexBuffer=n.createIndexBuffer(le)}this.elevatedGlobeSegments=fl.simpleSegment(0,0,4225,8192),this.elevatedGlobeGridMatrix=new Float32Array([0,k/Fr,0,X/Fr,0,0,A,P,0])}prepare(){const n=Object.keys(this.tiles).length!==0;if(this.tileID&&!n)return;const a=this.map.painter.context,f=a.gl;!this._dirty||this.texture instanceof ov||(this.texture?this.texture.update(this.image):(this.texture=new n_(a,this.image,f.RGBA8),this.texture.bind(f.LINEAR,f.CLAMP_TO_EDGE)),this._dirty=!1),n&&this._prepareData(a)}loadTile(n,a){this.tileID&&this.tileID.equals(n.tileID.canonical)?(this.tiles[String(n.tileID.wrap)]=n,n.buckets={},a(null)):(n.state="errored",a(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}getSegmentsForLongitude(n){const a=this.elevatedGlobeSegments;if(!this.elevatedGlobeTrianglesCenterLongitudes||!a)return null;const f=this.elevatedGlobeTrianglesCenterLongitudes;let v=(h=n+180)+360*Math.round((f[0]-h)/360);var h;const y=new fl,E=($,z)=>{y.segments.push({vertexOffset:0,primitiveOffset:$,vertexLength:a.segments[0].vertexLength,primitiveLength:z,sortKey:void 0,vaos:{}})},O=.51*this.maxLongitudeTriangleSize;if(Math.abs(f[0]-v)<=O){const $=vn(f,0,f.length,v+O);return $===f.length||E($,Dn(f,$+1,f.length,v+360-O)-$),y}v<f[0]&&(v+=360);const L=Dn(f,0,f.length,v-O);if(L===f.length)return E(0,f.length),y;E(0,L-0);const C=vn(f,L+1,f.length,v+O);return C!==f.length&&E(C,f.length-C),y}}const Sw=(Math.pow(256,2)-1)/16907520;class P1 extends ql{constructor(n,a,f,v){super(n,{layout:ww||(ww=new al({visibility:new Sr(gn.layout_raster.visibility)})),paint:Jy||(Jy=new al({"raster-opacity":new Sr(gn.paint_raster["raster-opacity"]),"raster-color":new jf(gn.paint_raster["raster-color"]),"raster-color-mix":new Sr(gn.paint_raster["raster-color-mix"]),"raster-color-range":new Sr(gn.paint_raster["raster-color-range"]),"raster-hue-rotate":new Sr(gn.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Sr(gn.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Sr(gn.paint_raster["raster-brightness-max"]),"raster-saturation":new Sr(gn.paint_raster["raster-saturation"]),"raster-contrast":new Sr(gn.paint_raster["raster-contrast"]),"raster-resampling":new Sr(gn.paint_raster["raster-resampling"]),"raster-fade-duration":new Sr(gn.paint_raster["raster-fade-duration"]),"raster-emissive-strength":new Sr(gn.paint_raster["raster-emissive-strength"]),"raster-array-band":new Sr(gn.paint_raster["raster-array-band"]),"raster-elevation":new Sr(gn.paint_raster["raster-elevation"]),"raster-color-use-theme":new ci({type:"string",default:"default","property-type":"data-driven"})}))},a,f,v),this.updateColorRamp(),this._curRampRange=[NaN,NaN]}getProgramIds(){return["raster"]}hasColorMap(){return!!this._transitionablePaint._values["raster-color"].value.value}tileCoverLift(){return this.paint.get("raster-elevation")}isDraped(n){return!(n&&n._source instanceof sv&&(n._source.onNorthPole||n._source.onSouthPole))&&this.paint.get("raster-elevation")===0}_handleSpecialPaintPropertyUpdate(n){n!=="raster-color"&&n!=="raster-color-range"||(this._curRampRange=[NaN,NaN],this.updateColorRamp())}updateColorRamp(n){if(!this.hasColorMap()||!this._curRampRange)return;const a=this._transitionablePaint._values["raster-color"].value.expression,[f,v]=n||this._transitionablePaint._values["raster-color-range"].value.expression.evaluate({zoom:0})||[NaN,NaN];isNaN(f)&&isNaN(v)||f===this._curRampRange[0]&&v===this._curRampRange[1]||(this.colorRamp=Qm({expression:a,evaluationKey:"rasterValue",image:this.colorRamp,clips:[{start:f,end:v}],resolution:256}),this.colorRampTexture=null,this._curRampRange=[f,v])}}let O1,lv,$1,cv,r_;class R1 extends ql{constructor(n,a,f,v){super(n,{layout:O1||(O1=new al({visibility:new Sr(gn["layout_raster-particle"].visibility)})),paint:lv||(lv=new al({"raster-particle-array-band":new Sr(gn["paint_raster-particle"]["raster-particle-array-band"]),"raster-particle-count":new Sr(gn["paint_raster-particle"]["raster-particle-count"]),"raster-particle-color":new jf(gn["paint_raster-particle"]["raster-particle-color"]),"raster-particle-max-speed":new Sr(gn["paint_raster-particle"]["raster-particle-max-speed"]),"raster-particle-speed-factor":new Sr(gn["paint_raster-particle"]["raster-particle-speed-factor"]),"raster-particle-fade-opacity-factor":new Sr(gn["paint_raster-particle"]["raster-particle-fade-opacity-factor"]),"raster-particle-reset-rate-factor":new Sr(gn["paint_raster-particle"]["raster-particle-reset-rate-factor"]),"raster-particle-elevation":new Sr(gn["paint_raster-particle"]["raster-particle-elevation"]),"raster-particle-color-use-theme":new ci({type:"string",default:"default","property-type":"data-driven"})}))},a,f,v),this._updateColorRamp(),this.lastInvalidatedAt=ve.now()}onRemove(n){this.colorRampTexture&&this.colorRampTexture.destroy(),this.tileFramebuffer&&this.tileFramebuffer.destroy(),this.particleFramebuffer&&this.particleFramebuffer.destroy()}hasColorMap(){return!!this._transitionablePaint._values["raster-particle-color"].value.value}getProgramIds(){return["rasterParticle"]}hasOffscreenPass(){return this.visibility!=="none"}isDraped(n){return!1}_handleSpecialPaintPropertyUpdate(n){n!=="raster-particle-color"&&n!=="raster-particle-max-speed"||(this._updateColorRamp(),this._invalidateAnimationState()),n==="raster-particle-count"&&this._invalidateAnimationState()}_updateColorRamp(){if(!this.hasColorMap())return;const n=this._transitionablePaint._values["raster-particle-color"].value.expression,a=this._transitionablePaint._values["raster-particle-max-speed"].value.expression.evaluate({zoom:0});this.colorRamp=Qm({expression:n,evaluationKey:"rasterParticleSpeed",image:this.colorRamp,clips:[{start:0,end:a}],resolution:256}),this.colorRampTexture=null}_invalidateAnimationState(){this.lastInvalidatedAt=ve.now()}tileCoverLift(){return this.paint.get("raster-particle-elevation")}}class ip extends ql{constructor(n,a){super(n,{},a,null),this.implementation=n,n.slot&&(this.slot=n.slot)}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}isDraped(n){return this.implementation.renderToTile!==void 0}shouldRedrape(){return!!this.implementation.shouldRerenderTiles&&this.implementation.shouldRerenderTiles()}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){}onAdd(n){this.implementation.onAdd&&this.implementation.onAdd(n,n.painter.context.gl)}onRemove(n){this.implementation.onRemove&&this.implementation.onRemove(n,n.painter.context.gl)}}function i_(c,n,a){const f=[0,0,1],v=J.quat.identity([]);return J.quat.rotateY(v,v,a?-or(c)+Math.PI:or(c)),J.quat.rotateX(v,v,-or(n)),J.vec3.transformQuat(f,f,v),J.vec3.normalize(f,f)}function A1(c,n){const a=dm(c.projection,c.zoom,c.width,c.height),f=function(h,y,E,O,L){const C=new os(E.lng-180*dh,E.lat),$=new os(E.lng+180*dh,E.lat),z=h.project(C.lng,C.lat),P=h.project($.lng,$.lat),A=-Math.atan2(P.y-z.y,P.x-z.x),k=l.fromLngLat(E);k.y=ri(k.y,-1+dh,1-dh);const X=k.toLngLat(),ee=h.project(X.lng,X.lat),le=l.fromLngLat(X);le.x+=dh;const ue=le.toLngLat(),ie=h.project(ue.lng,ue.lat),ye=D1(ie.x-ee.x,ie.y-ee.y,A),Se=l.fromLngLat(X);Se.y+=dh;const $e=Se.toLngLat(),et=h.project($e.lng,$e.lat),Ye=D1(et.x-ee.x,et.y-ee.y,A),Xe=Math.abs(ye.x)/Math.abs(Ye.y),Ct=J.mat4.identity([]);J.mat4.rotateZ(Ct,Ct,-A*(1-(L?0:O)));const at=J.mat4.identity([]);return J.mat4.scale(at,at,[1,1-(1-Xe)*O,1]),at[4]=-Ye.x/Ye.y*O,J.mat4.rotateZ(at,at,A),J.mat4.multiply(at,Ct,at),at}(c.projection,0,c.center,a,n),v=um(c);return J.mat4.scale(f,f,[v,v,1]),f}function um(c){const n=c.projection,a=dm(c.projection,c.zoom,c.width,c.height),f=o_(n,c.center),v=o_(n,os.convert(n.center));return Math.pow(2,f*a+(1-a)*v)}function dm(c,n,a,f,v=1/0){const h=c.range;if(!h)return 0;const y=Math.min(v,Math.max(a,f)),E=Math.log(y/1024)/Math.LN2;return Ko(h[0]+E,h[1]+E,n)}const dh=1/4e4;function o_(c,n){const a=ri(n.lat,-gl,gl),f=new os(n.lng-180*dh,a),v=new os(n.lng+180*dh,a),h=c.project(f.lng,a),y=c.project(v.lng,a),E=l.fromLngLat(f),O=l.fromLngLat(v),L=y.x-h.x,C=y.y-h.y,$=O.x-E.x,z=O.y-E.y,P=Math.sqrt(($*$+z*z)/(L*L+C*C));return Math.log(P)/Math.LN2}function D1(c,n,a){const f=Math.cos(a),v=Math.sin(a);return{x:c*f-n*v,y:c*v+n*f}}function z1(c,n,a){J.mat4.identity(c),J.mat4.rotateZ(c,c,or(n[2])),J.mat4.rotateX(c,c,or(n[0])),J.mat4.rotateY(c,c,or(n[1])),J.mat4.scale(c,c,a),J.mat4.multiply(c,c,[1,0,0,0,0,0,1,0,0,1,0,0,0,0,0,1])}function uv(c,n,a,f,v,h,y,E){const O=[a[0]-n[0],a[1]-n[1],0],L=[f[0]-n[0],f[1]-n[1],0];if(J.vec3.length(O)<1e-12||J.vec3.length(L)<1e-12)return J.quat.identity(c);const C=J.vec3.cross([],O,L);J.vec3.normalize(C,C),J.vec3.subtract(L,f,n),O[2]=(h-v)*E,L[2]=(y-v)*E;const $=O;return J.vec3.cross($,O,L),J.vec3.normalize($,$),J.quat.rotationTo(c,C,$)}function dv(c,n,a=!1){const f=Tc(n.zoom),v=function(h,y,E){const O=y.worldSize,L=[h[12],h[13],h[14]],C=Kl(L[1]/O),$=Dc(L[0]/O),z=J.mat4.identity([]),P=sc(1,C)*O,A=sc(1,0)*O*Jf(C,y.zoom),k=1/nc(O);let X=A*k;if(E){const ie=dm(y.projection,y.zoom,y.width,y.height,1024);X=k*y.projection.pixelSpaceConversion(y.center.lat,O,ie)}const ee=Yf(C,$);J.vec3.add(ee,ee,J.vec3.scale([],J.vec3.normalize([],ee),P*X*L[2]));const le=function(ie){const ye=[ie[0],ie[1],ie[2]];let Se=[0,1,0];const $e=J.vec3.cross([],Se,ye);return J.vec3.cross(Se,ye,$e),J.vec3.squaredLength(Se)===0&&(Se=[0,1,0],J.vec3.cross($e,ye,Se)),J.vec3.normalize($e,$e),J.vec3.normalize(Se,Se),J.vec3.normalize(ye,ye),[$e[0],$e[1],$e[2],0,Se[0],Se[1],Se[2],0,ye[0],ye[1],ye[2],0,ie[0],ie[1],ie[2],1]}(ee);J.mat4.scale(z,z,[X,X,X*P]),J.mat4.translate(z,z,[-L[0],-L[1],-L[2]]);const ue=J.mat4.multiply([],y.globeMatrix,le);return J.mat4.multiply(ue,ue,z),J.mat4.multiply(ue,ue,h),ue}(c,n,a);if(f>0){const h=function(y,E){const O=E.worldSize,L=sc(1,0)*O*Jf(E.center.lat,E.zoom)/nc(O),C=sc(1,E.center.lat)*O,$=J.mat4.identity([]);return J.mat4.rotateY($,$,or(E.center.lng)),J.mat4.rotateX($,$,or(E.center.lat)),J.mat4.translate($,$,[0,0,wc]),J.mat4.scale($,$,[L,L,L*C]),J.mat4.translate($,$,[E.point.x-.5*O,E.point.y-.5*O,0]),J.mat4.multiply($,$,y),J.mat4.multiply($,E.globeMatrix,$)}(c,n);return function(y,E,O){const L=(A,k,X)=>{const ee=J.vec3.length(A),le=J.vec3.length(k),ue=$l(A,k,X);return J.vec3.scale(ue,ue,1/J.vec3.length(ue)*si(ee,le,X))},C=L([y[0],y[1],y[2]],[E[0],E[1],E[2]],O),$=L([y[4],y[5],y[6]],[E[4],E[5],E[6]],O),z=L([y[8],y[9],y[10]],[E[8],E[9],E[10]],O),P=$l([y[12],y[13],y[14]],[E[12],E[13],E[14]],O);return[C[0],C[1],C[2],0,$[0],$[1],$[2],0,z[0],z[1],z[2],0,P[0],P[1],P[2],1]}(v,h,f)}return v}function L1(c,n,a,f){const v=Ni.projectAabbCorners(f,a);let h=Number.MAX_VALUE,y=-1;for(let L=0;L<v.length;++L){const C=v[L];C[0]=(.5*C[0]+.5)*n.width,C[1]=(.5-.5*C[1])*n.height,C[2]<h&&(y=L,h=C[2])}const E=L=>new Sn(v[L][0],v[L][1]);let O;switch(y){case 0:case 6:O=[E(1),E(5),E(4),E(7),E(3),E(2),E(1)];break;case 1:case 7:O=[E(0),E(4),E(5),E(6),E(2),E(3),E(0)];break;case 3:case 5:O=[E(1),E(0),E(4),E(7),E(6),E(2),E(1)];break;default:O=[E(1),E(5),E(6),E(7),E(3),E(0),E(1)]}if(we(c,O))return h}const N1=us([{name:"a_pos_3f",components:3,type:"Float32"}]),B1=us([{name:"a_color_3f",components:3,type:"Float32"}]),F1=us([{name:"a_color_4f",components:4,type:"Float32"}]),Ew=us([{name:"a_uv_2f",components:2,type:"Float32"}]),Iw=us([{name:"a_normal_3f",components:3,type:"Float32"}]),Tw=us([{name:"a_normal_matrix0",components:4,type:"Float32"},{name:"a_normal_matrix1",components:4,type:"Float32"},{name:"a_normal_matrix2",components:4,type:"Float32"},{name:"a_normal_matrix3",components:4,type:"Float32"}]),k1=us([{name:"a_pbr",components:4,type:"Uint16"},{name:"a_heightBasedEmissiveStrength",components:3,type:"Float32"}]),j1={None:0,Model:1,Symbol:2,FillExtrusion:4,All:7};class op{constructor(n,a,f,v){this.message=(n?`${n}: `:"")+f,v&&(this.identifier=v),a!=null&&a.__line__&&(this.line=a.__line__)}}function Z1(c,n){const a=c.indexOf("://")===-1;try{return new URL(c,a&&n?"http://example.com":void 0),!0}catch(f){return!1}}class Mw{constructor(n,a){this.feature=n,this.instancedDataOffset=a,this.instancedDataCount=0,this.rotation=[0,0,0],this.scale=[1,1,1],this.translation=[0,0,0]}}class a_{constructor(){this.instancedDataArray=new Gh,this.instancesEvaluatedElevation=[],this.features=[],this.idToFeaturesIndex={}}}class s_{constructor(n){this.zoom=n.zoom,this.canonical=n.canonical,this.layers=n.layers,this.layerIds=this.layers.map(a=>a.fqid),this.projection=n.projection,this.index=n.index,this.hasZoomDependentProperties=this.layers[0].isZoomDependent(),this.stateDependentLayerIds=this.layers.filter(a=>a.isStateDependent()).map(a=>a.id),this.hasPattern=!1,this.instancesPerModel={},this.validForExaggeration=0,this.maxVerticalOffset=0,this.maxScale=0,this.maxHeight=0,this.lookupDim=this.zoom>this.canonical.z?256:this.zoom>15?75:100,this.instanceCount=0,this.terrainElevationMin=0,this.terrainElevationMax=0,this.validForDEMTile={id:null,timestamp:0},this.modelUris=[],this.modelsRequested=!1,this.activeReplacements=[],this.replacementUpdateTime=0}updateFootprints(n,a){}populate(n,a,f,v){this.tileToMeter=r(f);const h=this.layers[0]._featureFilter.needGeometry;this.lookup=new Uint8Array(this.lookupDim*this.lookupDim);for(const{feature:y,id:E,index:O,sourceLayerIndex:L}of n){const C=E!=null?E:y.properties&&y.properties.hasOwnProperty("id")?y.properties.id:void 0,$=te(y,h);if(!this.layers[0]._featureFilter.filter(new Xs(this.zoom),$,f))continue;const z={id:C,sourceLayerIndex:L,index:O,geometry:h?$.geometry:G(y,f,v),properties:y.properties,type:y.type,patterns:{}},P=this.addFeature(z,z.geometry,$);P&&a.featureIndex.insert(y,z.geometry,O,L,this.index,this.instancesPerModel[P].instancedDataArray.length,Fr/32)}this.lookup=null}update(n,a,f,v){for(const h in this.instancesPerModel){const y=this.instancesPerModel[h];for(const E in n)y.idToFeaturesIndex.hasOwnProperty(E)&&(this.evaluate(y.features[y.idToFeaturesIndex[E]],n[E],y,!0),this.uploaded=!1)}this.maxHeight=0}updateZoomBasedPaintProperties(){if(!this.hasZoomDependentProperties)return!1;let n=!1;for(const a in this.instancesPerModel){const f=this.instancesPerModel[a];for(const v of f.features){const h=this.layers[0],y=v.feature,E=this.canonical,O=h.paint.get("model-rotation").evaluate(y,{},E),L=h.paint.get("model-scale").evaluate(y,{},E),C=h.paint.get("model-translation").evaluate(y,{},E);J.vec3.exactEquals(v.rotation,O)&&J.vec3.exactEquals(v.scale,L)&&J.vec3.exactEquals(v.translation,C)||(this.evaluate(v,v.featureStates,f,!0),n=!0)}}return n}updateReplacement(n,a,f,v){if(a.updateTime===this.replacementUpdateTime)return!1;this.replacementUpdateTime=a.updateTime;const h=a.getReplacementRegionsForTile(n.toUnwrapped(),!0);if(Cy(this.activeReplacements,h))return!1;this.activeReplacements=h;let y=!1;for(const E in this.instancesPerModel){const O=this.instancesPerModel[E],L=O.instancedDataArray;for(const C of O.features){const $=C.instancedDataOffset,z=C.instancedDataCount;for(let P=0;P<z;P++){const A=16*(P+$);let k=L.float32[A+0];const X=k>Fr;k=X?k-Fr:k;const ee=Math.floor(k),le=L.float32[A+1];let ue=!1;for(const ie of this.activeReplacements)if(!Rb(ie,f,j1.Model,v)&&!(ie.min.x>ee||ee>ie.max.x||ie.min.y>le||le>ie.max.y)&&(ue=Ey(Sy(ee,le,n.canonical,ie.footprintTileId.canonical),ie.footprint),ue))break;L.float32[A]=ue?k+Fr:k,y=y||ue!==X}}}return y}isEmpty(){for(const n in this.instancesPerModel)if(this.instancesPerModel[n].instancedDataArray.length!==0)return!1;return!0}uploadPending(){return!this.uploaded}upload(n){if(!this.uploaded)for(const a in this.instancesPerModel){const f=this.instancesPerModel[a];f.instancedDataArray.length<0||f.instancedDataArray.length===0||(f.instancedDataBuffer?f.instancedDataBuffer.updateData(f.instancedDataArray):f.instancedDataBuffer=n.createVertexBuffer(f.instancedDataArray,Tw.members,!0,void 0,this.instanceCount))}this.uploaded=!0}destroy(){for(const a in this.instancesPerModel){const f=this.instancesPerModel[a];f.instancedDataArray.length!==0&&f.instancedDataBuffer&&f.instancedDataBuffer.destroy()}const n=this.layers[0].modelManager;if(n&&this.modelUris)for(const a of this.modelUris)n.removeModel(a,"")}addFeature(n,a,f){const v=this.layers[0],h=v.layout.get("model-id").evaluate(f,{},this.canonical);if(!h)return jr(`modelId is not evaluated for layer ${v.id} and it is not going to get rendered.`),h;Z1(h,!1)&&(this.modelUris.includes(h)||this.modelUris.push(h)),this.instancesPerModel[h]||(this.instancesPerModel[h]=new a_);const y=this.instancesPerModel[h],E=y.instancedDataArray,O=new Mw(f,E.length);for(const L of a)for(const C of L){if(C.x<0||C.x>=Fr||C.y<0||C.y>=Fr)continue;const $=(this.lookupDim-1)/Fr,z=this.lookupDim*(C.y*$|0)+C.x*$|0;if(this.lookup){if(this.lookup[z]!==0)continue;this.lookup[z]=1}this.instanceCount++;const P=E.length;E.resize(P+1),y.instancesEvaluatedElevation.push(0),E.float32[16*P]=C.x,E.float32[16*P+1]=C.y}return O.instancedDataCount=y.instancedDataArray.length-O.instancedDataOffset,O.instancedDataCount>0&&(n.id&&(y.idToFeaturesIndex[n.id]=y.features.length),y.features.push(O),this.evaluate(O,{},y,!1)),h}getModelUris(){return this.modelUris}evaluate(n,a,f,v){const h=this.layers[0],y=n.feature,E=this.canonical,O=n.rotation=h.paint.get("model-rotation").evaluate(y,a,E),L=n.scale=h.paint.get("model-scale").evaluate(y,a,E),C=n.translation=h.paint.get("model-translation").evaluate(y,a,E),$=h.paint.get("model-color").evaluate(y,a,E);$.a=h.paint.get("model-color-mix-intensity").evaluate(y,a,E);const z=[];this.maxVerticalOffset<C[2]&&(this.maxVerticalOffset=C[2]),this.maxScale=Math.max(Math.max(this.maxScale,L[0]),Math.max(L[1],L[2])),z1(z,O,L);const P=Math.round(100*$.a)+$.b/1.05;for(let A=0;A<n.instancedDataCount;++A){const k=n.instancedDataOffset+A,X=16*k,ee=f.instancedDataArray.float32;let le=0;v&&(le=ee[X+6]-f.instancesEvaluatedElevation[k]);const ue=0|ee[X+1];ee[X]=(0|ee[X])+$.r/1.05,ee[X+1]=ue+$.g/1.05,ee[X+2]=P,ee[X+3]=1/(E.z>10?this.tileToMeter:r(E,ue)),ee[X+4]=C[0],ee[X+5]=C[1],ee[X+6]=C[2]+le,ee[X+7]=z[0],ee[X+8]=z[1],ee[X+9]=z[2],ee[X+10]=z[4],ee[X+11]=z[5],ee[X+12]=z[6],ee[X+13]=z[8],ee[X+14]=z[9],ee[X+15]=z[10],f.instancesEvaluatedElevation[k]=C[2]}}}let V1,H1;bi(s_,"ModelBucket",{omit:["layers"]}),bi(a_,"PerModelAttributes"),bi(Mw,"ModelFeature");const ap=64,fh={CoordinateSpaceTile:1,CoordinateSpaceYUp:2,HasMapboxMeshFeatures:4,HasMeshoptCompression:8};function Pw(c,n,a,f,v,h,y,E,O,L=!1){const C=a.zoom,$=a.project(f),z=Jf(f.lat,C),P=1/z;J.mat4.identity(c),J.mat4.translate(c,c,[$.x+y[0]*P,$.y+y[1]*P,y[2]]);let A=1,k=1;const X=a.worldSize;if(L){if(a.projection.name==="mercator"){let ie=0;a.elevation&&(ie=a.elevation.getAtPointOrZero(new l($.x/X,$.y/X),0));const ye=J.vec4.transformMat4([],[$.x,$.y,ie,1],a.projMatrix)[3]/a.cameraToCenterDistance;A=ye,k=ye*Jf(a.center.lat,C)}else if(a.projection.name==="globe"){const ie=dv(c,a),ye=J.mat4.multiply([],a.projMatrix,ie),Se=[0,0,0,1];J.vec4.transformMat4(Se,Se,ye);const $e=Se[3]/a.cameraToCenterDistance,et=Tc(C),Ye=a.projection.pixelsPerMeter(f.lat,X)*Jf(f.lat,C),Xe=a.projection.pixelsPerMeter(a.center.lat,X)*Jf(a.center.lat,C);A=$e/si(Ye,Jm(a.center.lat),et),k=$e*z/Ye,A*=Xe,k*=Xe}}else A=P;J.mat4.scale(c,c,[A,A,k]);const ee=[...c],le=n.orientation,ue=[];if(z1(ue,[le[0]+v[0],le[1]+v[1],le[2]+v[2]],h),J.mat4.multiply(c,ee,ue),E&&a.elevation){let ie=0;const ye=[];if(O&&a.elevation){ie=function(et,Ye,Xe,Ct,at){const St=Ye.elevation;if(!St)return 0;const At=Ni.projectAabbCorners(Xe,Ct),$t=sc(1,at.lat)*Ye.worldSize,Ft=function(Mi,ti){const ui=[0,0,1],wo=[{corners:[0,1,3,2],dotProductWithUp:0},{corners:[1,5,2,6],dotProductWithUp:0},{corners:[0,4,1,5],dotProductWithUp:0},{corners:[2,6,3,7],dotProductWithUp:0},{corners:[4,7,5,6],dotProductWithUp:0},{corners:[0,3,4,7],dotProductWithUp:0}];for(const na of wo){const la=Mi[na.corners[0]],ca=Mi[na.corners[1]],Ma=Mi[na.corners[2]],$a=[ca[0]-la[0],ca[1]-la[1],ti*(ca[2]-la[2])],Vs=J.vec3.cross($a,$a,[Ma[0]-la[0],Ma[1]-la[1],ti*(Ma[2]-la[2])]);J.vec3.normalize(Vs,Vs),na.dotProductWithUp=J.vec3.dot(Vs,ui)}return wo.sort((na,la)=>na.dotProductWithUp-la.dotProductWithUp),wo[0].corners}(At,$t),Yt=At[Ft[0]],un=At[Ft[1]],Wt=At[Ft[2]],jn=At[Ft[3]],cr=St.getAtPointOrZero(new l(Yt[0]/Ye.worldSize,Yt[1]/Ye.worldSize),0),kn=St.getAtPointOrZero(new l(un[0]/Ye.worldSize,un[1]/Ye.worldSize),0),Yr=St.getAtPointOrZero(new l(Wt[0]/Ye.worldSize,Wt[1]/Ye.worldSize),0),kr=St.getAtPointOrZero(new l(jn[0]/Ye.worldSize,jn[1]/Ye.worldSize),0),br=(cr+kr)/2,fr=(kn+Yr)/2;return br>fr?kn<Yr?uv(et,un,jn,Yt,kn,kr,cr,$t):uv(et,Wt,Yt,jn,Yr,cr,kr,$t):cr<kr?uv(et,Yt,un,Wt,cr,kn,Yr,$t):uv(et,jn,Wt,un,kr,Yr,kn,$t),Math.max(br,fr)}(ye,a,n.aabb,c,f);const Se=J.mat4.fromQuat([],ye),$e=J.mat4.multiply([],Se,ue);J.mat4.multiply(c,ee,$e)}else ie=a.elevation.getAtPointOrZero(new l($.x/X,$.y/X),0);ie!==0&&(c[14]+=ie)}}function hh(c,n,a=!1){c.uploaded||(c.gfxTexture=new n_(n,c.image,a?n.gl.R8:n.gl.RGBA8,{useMipmap:c.sampler.minFilter>=n.gl.NEAREST_MIPMAP_NEAREST}),c.uploaded=!0,c.image=null)}function Ow(c,n,a){c.indexBuffer=n.createIndexBuffer(c.indexArray,!1,!0),c.vertexBuffer=n.createVertexBuffer(c.vertexArray,N1.members,!1,!0),c.normalArray&&(c.normalBuffer=n.createVertexBuffer(c.normalArray,Iw.members,!1,!0)),c.texcoordArray&&(c.texcoordBuffer=n.createVertexBuffer(c.texcoordArray,Ew.members,!1,!0)),c.colorArray&&(c.colorBuffer=n.createVertexBuffer(c.colorArray,(c.colorArray.bytesPerElement===12?B1:F1).members,!1,!0)),c.featureArray&&(c.pbrBuffer=n.createVertexBuffer(c.featureArray,k1.members,!0)),c.segments=fl.simpleSegment(0,0,c.vertexArray.length,c.indexArray.length);const f=c.material;f.pbrMetallicRoughness.baseColorTexture&&hh(f.pbrMetallicRoughness.baseColorTexture,n),f.pbrMetallicRoughness.metallicRoughnessTexture&&hh(f.pbrMetallicRoughness.metallicRoughnessTexture,n),f.normalTexture&&hh(f.normalTexture,n),f.occlusionTexture&&hh(f.occlusionTexture,n,a),f.emissionTexture&&hh(f.emissionTexture,n)}function U1(c,n,a){if(c.meshes)for(const f of c.meshes)Ow(f,n,a);if(c.children)for(const f of c.children)U1(f,n,a)}function Rg(c){if(c.meshes)for(const n of c.meshes)n.indexArray.destroy(),n.vertexArray.destroy(),n.colorArray&&n.colorArray.destroy(),n.normalArray&&n.normalArray.destroy(),n.texcoordArray&&n.texcoordArray.destroy(),n.featureArray&&n.featureArray.destroy();if(c.children)for(const n of c.children)Rg(n)}function W1(c){if(c.meshes)for(const a of c.meshes)a.vertexBuffer&&(a.vertexBuffer.destroy(),a.indexBuffer.destroy(),a.normalBuffer&&a.normalBuffer.destroy(),a.texcoordBuffer&&a.texcoordBuffer.destroy(),a.colorBuffer&&a.colorBuffer.destroy(),a.pbrBuffer&&a.pbrBuffer.destroy(),a.segments.destroy(),a.material&&((n=a.material).pbrMetallicRoughness.baseColorTexture&&n.pbrMetallicRoughness.baseColorTexture.gfxTexture&&n.pbrMetallicRoughness.baseColorTexture.gfxTexture.destroy(),n.pbrMetallicRoughness.metallicRoughnessTexture&&n.pbrMetallicRoughness.metallicRoughnessTexture.gfxTexture&&n.pbrMetallicRoughness.metallicRoughnessTexture.gfxTexture.destroy(),n.normalTexture&&n.normalTexture.gfxTexture&&n.normalTexture.gfxTexture.destroy(),n.emissionTexture&&n.emissionTexture.gfxTexture&&n.emissionTexture.gfxTexture.destroy(),n.occlusionTexture&&n.occlusionTexture.gfxTexture&&n.occlusionTexture.gfxTexture.destroy()));var n;if(c.children)for(const a of c.children)W1(a)}class sp{constructor(n,a,f){this._demTile=n,this._dem=this._demTile.dem,this._scale=a,this._offset=f}static create(n,a,f){const v=f||n.findDEMTileFor(a);if(!v||!v.dem)return;const h=v.dem,y=v.tileID,E=1<<a.canonical.z-y.canonical.z;return new sp(v,h.dim/Fr/E,[(a.canonical.x/E-y.canonical.x)*h.dim,(a.canonical.y/E-y.canonical.y)*h.dim])}tileCoordToPixel(n,a){const f=a*this._scale+this._offset[1],v=Math.floor(n*this._scale+this._offset[0]),h=Math.floor(f);return new Sn(v,h)}getElevationAt(n,a,f,v){const h=n*this._scale+this._offset[0],y=a*this._scale+this._offset[1],E=Math.floor(h),O=Math.floor(y),L=this._dem;return v=!!v,f?si(si(L.get(E,O,v),L.get(E,O+1,v),y-O),si(L.get(E+1,O,v),L.get(E+1,O+1,v),y-O),h-E):L.get(E,O,v)}getElevationAtPixel(n,a,f){return this._dem.get(n,a,!!f)}getMeterToDEM(n){return(1<<this._demTile.tileID.canonical.z)*sc(1,n)*this._dem.stride}}const l_=new Float32Array(262144),wf=new Uint8Array(262144);function c_(c){let n=0;if(c.meshes)for(const a of c.meshes)n=Math.max(n,a.aabb.max[2]);if(c.children)for(const a of c.children)n=Math.max(n,c_(a));return n}function u_(c,n,a){if(c.meshes)for(const f of c.meshes){if(f.aabb.min[0]===1/0)continue;const v=Ni.applyTransform(f.aabb,c.matrix);a.insert(n,v.min[0],v.min[1],v.max[0],v.max[1])}if(c.children)for(const f of c.children)u_(f,n,a)}const $w=["","wall","door","roof","window","lamp","logo"];class G1{constructor(n){this.node=n,this.evaluatedRMEA=[[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[.4,1,0,1],[1,0,0,1],[1,0,0,1]],this.hiddenByReplacement=!1,this.evaluatedScale=[1,1,1],this.evaluatedColor=[],this.emissionHeightBasedParams=[],this.cameraCollisionOpacity=1,this.feature={type:"Point",id:n.id,geometry:[],properties:{height:c_(n)}},this.aabb=this._getLocalBounds(),this.state=null}_getLocalBounds(){if(!this.node.meshes)return new Ni([1/0,1/0,1/0],[-1/0,-1/0,-1/0]);if(!this.aabb){let n=0;const a=new Ni([1/0,1/0,1/0],[-1/0,-1/0,-1/0]);for(const f of this.node.meshes)this.node.lightMeshIndex!==n&&(f.transformedAabb=Ni.applyTransformFast(f.aabb,this.node.matrix),a.encapsulate(f.transformedAabb)),n++;this.aabb=a}return this.aabb}}class d_{constructor(n,a,f,v,h,y,E){this.id=f,this.layers=n,this.layerIds=this.layers.map(O=>O.fqid),this.stateDependentLayerIds=this.layers.filter(O=>O.isStateDependent()).map(O=>O.id),this.modelTraits|=fh.CoordinateSpaceTile,this.uploaded=!1,this.hasPattern=!1,v&&(this.modelTraits|=fh.HasMapboxMeshFeatures),h&&(this.modelTraits|=fh.HasMeshoptCompression),this.zoom=-1,this.terrainExaggeration=1,this.projection={name:"mercator"},this.replacementUpdateTime=0,this.elevationReadFromZ=255,this.brightness=y,this.dirty=!0,this.needsUpload=!1,this.nodesInfo=[];for(const O of a)this.nodesInfo.push(new G1(O)),u_(O,E.featureIndexArray.length,E.grid),E.featureIndexArray.emplaceBack(this.nodesInfo.length-1,0,E.bucketLayerIDs.length-1,0);this.states={}}updateFootprints(n,a){for(const f of this.getNodesInfo()){const v=f.node;v.footprint&&a.push({footprint:v.footprint,id:n})}}update(n){const a=Object.keys(n).length!==0;if(a&&!this.stateDependentLayers.length)return;const f=a?this.stateDependentLayers:this.layers;if(!ei(n,this.states))for(const v of f)this.evaluate(v,n);this.states=structuredClone(n)}populate(){console.log("populate 3D model bucket")}uploadPending(){return!this.uploaded||this.needsUpload}upload(n){if(!this.needsUpload)return;const a=this.getNodesInfo();for(const f of a){const v=f.node;this.uploaded?this.updatePbrBuffer(v):U1(v,n,!0)}for(const f of a)Rg(f.node);this.uploaded=!0,this.needsUpload=!1}updatePbrBuffer(n){let a=!1;if(!n.meshes)return a;for(const f of n.meshes)f.pbrBuffer&&(f.pbrBuffer.updateData(f.featureArray),a=!0);return a}needsReEvaluation(n,a,f){const v=n.transform.projectionOptions,h=n.style.getBrightness(),y=this.brightness!==h;if(!this.uploaded||this.dirty||v.name!==this.projection.name||Ag(f.paint.get("model-color").value,y)||Ag(f.paint.get("model-color-mix-intensity").value,y)||Ag(f.paint.get("model-roughness").value,y)||Ag(f.paint.get("model-emissive-strength").value,y)||Ag(f.paint.get("model-height-based-emissive-strength-multiplier").value,y)){this.projection=v,this.brightness=h;const E=this.getNodesInfo();for(const O of E)O.state=null;return!0}return!1}evaluateScale(n,a){if(n.transform.zoom===this.zoom)return;this.zoom=n.transform.zoom;const f=this.getNodesInfo(),v=this.id.canonical;for(const h of f){const y=h.feature;h.evaluatedScale=a.paint.get("model-scale").evaluate(y,{},v)}}evaluate(n,a){const f=this.getNodesInfo();for(const v of f){if(!v.node.meshes)continue;const h=v.feature,y=a&&a[h.id];if(ei(y,v.state))continue;v.state=structuredClone(y);const E=v.node.meshes&&v.node.meshes[0].featureData,O=v.evaluatedColor[2],L=v.evaluatedRMEA[2],C=this.id.canonical;if(v.hasTranslucentParts=!1,E){for(let $=0;$<$w.length;$++){const z=$w[$];z.length&&(h.properties.part=z);const P=n.paint.get("model-color").evaluate(h,y,C).toRenderColor(null),A=n.paint.get("model-color-mix-intensity").evaluate(h,y,C);v.evaluatedColor[$]=[P.r,P.g,P.b,A],v.evaluatedRMEA[$][0]=n.paint.get("model-roughness").evaluate(h,y,C),v.evaluatedRMEA[$][2]=n.paint.get("model-emissive-strength").evaluate(h,y,C),v.evaluatedRMEA[$][3]=P.a,v.emissionHeightBasedParams[$]=n.paint.get("model-height-based-emissive-strength-multiplier").evaluate(h,y,C),!v.hasTranslucentParts&&P.a<1&&(v.hasTranslucentParts=!0)}delete h.properties.part,lE(v,O!==v.evaluatedColor[2]||L!==v.evaluatedRMEA[2],this.modelTraits)}else v.evaluatedRMEA[0][2]=n.paint.get("model-emissive-strength").evaluate(h,y,C);v.evaluatedScale=n.paint.get("model-scale").evaluate(h,y,C),this.updatePbrBuffer(v.node)||(this.needsUpload=!0)}this.dirty=!1}elevationUpdate(n,a,f,v){const h=n.findDEMTileFor(f);if(h&&(h.tileID.canonical!==this.terrainTile||a!==this.terrainExaggeration)){if(h.dem&&h.tileID.overscaledZ!==this.elevationReadFromZ){this.elevationReadFromZ=h.tileID.overscaledZ;const y=sp.create(n,f,h);if(!y)return;this.modelTraits&fh.HasMapboxMeshFeatures&&this.updateDEM(n,y,f,v);for(const E of this.getNodesInfo()){const O=E.node;if(!O.footprint||!O.footprint.vertices||!O.footprint.vertices.length)continue;const L=O.footprint.vertices;let C=y.getElevationAt(L[0].x,L[0].y,!0,!0);for(let $=1;$<L.length;$++)C=Math.min(C,y.getElevationAt(L[$].x,L[$].y,!0,!0));O.elevation=C}}this.terrainTile=h.tileID.canonical,this.terrainExaggeration=a}}updateDEM(n,a,f,v){let h=a._dem._modifiedForSources[v];if(h===void 0&&(a._dem._modifiedForSources[v]=[],h=a._dem._modifiedForSources[v]),h.includes(f.canonical))return;const y=a._dem.dim;h.push(f.canonical);let E=!1;for(const O of this.getNodesInfo()){const L=O.node;if(!L.footprint||!L.footprint.grid)continue;const C=L.footprint.grid,$=a.tileCoordToPixel(C.min.x,C.min.y),z=a.tileCoordToPixel(C.max.x,C.max.y),P=Math.min(Math.min(y-z.y,$.x),Math.min($.y,y-z.x));if(P<0)continue;const A=ri(P,2,5);let k=Math.max(0,$.x-A),X=Math.max(0,$.y-A),ee=Math.min(z.x+A,y-1),le=Math.min(z.y+A,y-1);for(let Se=X;Se<=le;++Se)for(let $e=k;$e<=ee;++$e)wf[Se*y+$e]=255;let ue=0,ie=0;for(let Se=0;Se<C.cellsY;++Se)for(let $e=0;$e<C.cellsX;++$e){if(!C.cells[Se*C.cellsX+$e])continue;const et=a.tileCoordToPixel(C.min.x+$e/C.xScale,C.min.y+Se/C.yScale),Ye=a.tileCoordToPixel(C.min.x+($e+1)/C.xScale,C.min.y+(Se+1)/C.yScale);for(let Xe=et.y;Xe<=Math.min(Ye.y+1,y-1);++Xe)for(let Ct=et.x;Ct<=Math.min(Ye.x+1,y-1);++Ct)wf[Xe*y+Ct]===255&&(wf[Xe*y+Ct]=0,ue+=a.getElevationAtPixel(Ct,Xe),ie++)}const ye=ue/ie;k=Math.max(1,$.x-A),X=Math.max(1,$.y-A),ee=Math.min(z.x+A,y-2),le=Math.min(z.y+A,y-2),E=!0;for(let Se=X;Se<=le;++Se)for(let $e=k;$e<=ee;++$e)wf[Se*y+$e]===0&&(l_[Se*y+$e]=a._dem.set($e,Se,ye));for(let Se=1;Se<A;++Se){k=Math.max(1,$.x-Se),X=Math.max(1,$.y-Se),ee=Math.min(z.x+Se,y-2),le=Math.min(z.y+Se,y-2);for(let $e=X;$e<=le;++$e)for(let et=k;et<=ee;++et){const Ye=$e*y+et;if(wf[Ye]===255){let Xe=0,Ct=0,at=-1,St=-1;for(let At=-1;At<=1;++At)for(let $t=-1;$t<=1;++$t){const Ft=($e+At)*y+et+$t;if(wf[Ft]>=Se)continue;const Yt=l_[Ft],un=Math.abs(Yt);un>Ct&&(Xe=Yt,Ct=un,at=$t,St=At)}if(Ct>.1){const At=1-(Se+.5*Math.abs(at*St))/A;let $t=a._dem.get(et,$e)+Xe*At;const Ft=a._dem.get(et+at,$e+St),Yt=a._dem.get(et-at,$e-St,!0);($t-Ft)*($t-Yt)>0&&($t=(Ft+Yt)/2),l_[Ye]=a._dem.set(et,$e,$t),wf[Ye]=Se}}}}}E&&(a._demTile.needsDEMTextureUpload=!0,a._dem._timestamp=ve.now())}getNodesInfo(){return this.nodesInfo}destroy(){const n=this.getNodesInfo();for(const a of n)Rg(a.node),W1(a.node)}isEmpty(){return!this.nodesInfo.length}updateReplacement(n,a){if(a.updateTime===this.replacementUpdateTime)return;this.replacementUpdateTime=a.updateTime;const f=a.getReplacementRegionsForTile(n.toUnwrapped()),v=this.getNodesInfo();for(let h=0;h<this.nodesInfo.length;h++){const y=v[h].node;v[h].hiddenByReplacement=!!y.footprint&&!f.find(E=>E.footprint===y.footprint)}}getHeightAtTileCoord(n,a){const f=this.getNodesInfo(),v=[],h=[0,0,0],y=J.mat4.identity([]);for(let E=0;E<this.nodesInfo.length;E++){const O=f[E],L=O.node.meshes[0],C=L.transformedAabb;if(n<C.min[0]||a<C.min[1]||n>C.max[0]||a>C.max[1])continue;if(O.node.hidden===!0)return{height:1/0,maxHeight:O.feature.properties.height,hidden:!1,verticalScale:O.evaluatedScale[2]};J.mat4.invert(y,O.node.matrix),h[0]=n,h[1]=a,J.vec3.transformMat4(h,h,y);const $=(h[0]-L.aabb.min[0])/(L.aabb.max[0]-L.aabb.min[0])*ap|0,z=Math.min(63,(h[1]-L.aabb.min[1])/(L.aabb.max[1]-L.aabb.min[1])*ap|0)*ap+Math.min(63,$),P=L.heightmap[z];if(!(P<0&&O.node.footprint))return O.hiddenByReplacement?void 0:{height:P,maxHeight:O.feature.properties.height,hidden:!1,verticalScale:O.evaluatedScale[2]};if(O.node.footprint.grid.query(new Sn(n,a),new Sn(n,a),v),v.length>0)return{height:void 0,maxHeight:O.feature.properties.height,hidden:O.hiddenByReplacement,verticalScale:O.evaluatedScale[2]}}}}function Ag(c,n){return!c.isLightConstant&&n}function X1(c,n,a,f,v,h,y,E){let O=(61440&n|(61440&n)>>4)>>8,L=(3840&n|(3840&n)>>4)>>4,C=240&n|(240&n)>>4;a[3]>0&&(O=si(O,255*a[0],a[3]),L=si(L,255*a[1],a[3]),C=si(C,255*a[2],a[3]));const $=O<<8|L,z=C<<8|Math.floor(255*f[3]),P=function(Se){const $e=ri(Se,0,2);return Math.min(Math.round(.5*$e*255),255)}(f[2])<<8|15*f[0]<<4|15*f[1],A=ri(v[0],0,1),k=ri(v[1],0,1),X=ri(v[2],0,1),ee=ri(v[3],0,1);let le,ue,ie,ye;if(A!==k&&y!==h&&k!==A){const Se=y-h;ue=1/(Se*(k-A)),ie=-(h+Se*A)/(Se*(k-A));const $e=ri(v[4],-1,1);ye=Math.pow(10,$e),le=255*X<<8|255*ee}else le=65535,ue=0,ie=1,ye=1;if(c.emplaceBack($,z,P,le,ue,ie,ye),E){const Se=E.length;E.clear();for(let $e=0;$e<Se;$e++)E.emplaceBack($,z,P,le,ue,ie,ye)}}function lE(c,n,a){const f=c.node;let v=0;const h=a&fh.HasMeshoptCompression;for(const y of f.meshes){if(f.lights&&f.lightMeshIndex===v||!y.featureData)continue;y.featureArray=new kp,y.featureArray.reserve(y.featureData.length);let E=n;for(const O of y.featureData){const L=h?65535&O:O>>16&65535,C=h?O>>16&65535:65535&O,$=(15&C)<8?15&C:0,z=c.evaluatedRMEA[$],P=c.evaluatedColor[$],A=c.emissionHeightBasedParams[$];let k;if(E&&$===2&&f.lights&&(k=new kp,k.resize(10*f.lights.length)),X1(y.featureArray,L,P,z,A,y.aabb.min[2],y.aabb.max[2],k),k&&E){E=!1;const X=f.meshes[f.lightMeshIndex];X.featureArray=k,X.featureArray._trim()}}y.featureArray._trim(),v++}}function f_(c,n,a,f){const v=1<<c.z;n.lat=Kl((f/Fr+c.y)/v),n.lng=Dc((a/Fr+c.x)/v)}bi(d_,"Tiled3dModelBucket",{omit:["layers"]}),bi(G1,"Tiled3dModelFeature");const q1={circle:class extends ql{constructor(c,n,a,f){super(c,{layout:hr||(hr=new al({"circle-sort-key":new ci(gn.layout_circle["circle-sort-key"]),"circle-elevation-reference":new Sr(gn.layout_circle["circle-elevation-reference"]),visibility:new Sr(gn.layout_circle.visibility)})),paint:nn||(nn=new al({"circle-radius":new ci(gn.paint_circle["circle-radius"]),"circle-color":new ci(gn.paint_circle["circle-color"]),"circle-blur":new ci(gn.paint_circle["circle-blur"]),"circle-opacity":new ci(gn.paint_circle["circle-opacity"]),"circle-translate":new Sr(gn.paint_circle["circle-translate"]),"circle-translate-anchor":new Sr(gn.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Sr(gn.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Sr(gn.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new ci(gn.paint_circle["circle-stroke-width"]),"circle-stroke-color":new ci(gn.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new ci(gn.paint_circle["circle-stroke-opacity"]),"circle-emissive-strength":new Sr(gn.paint_circle["circle-emissive-strength"]),"circle-color-use-theme":new ci({type:"string",default:"default","property-type":"data-driven"}),"circle-stroke-color-use-theme":new ci({type:"string",default:"default","property-type":"data-driven"})}))},n,a,f)}createBucket(c){return new Te(c)}queryRadius(c){const n=c;return Hn("circle-radius",this,n)+Hn("circle-stroke-width",this,n)+Zn(this.paint.get("circle-translate"))}queryIntersectsFeature(c,n,a,f,v,h,y,E){const O=$n(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),h.angle,c.pixelToTileUnitsFactor),L=this.paint.get("circle-radius").evaluate(n,a)+this.paint.get("circle-stroke-width").evaluate(n,a);return ed(c,f,h,y,E,this.paint.get("circle-pitch-alignment")==="map",this.paint.get("circle-pitch-scale")==="map",O,L)}getProgramIds(){return["circle"]}getDefaultProgramParams(c,n,a){const f=bf(this);return{config:new vf(this,{zoom:n,lut:a}),defines:f,overrideFog:!1}}},heatmap:class extends ql{createBucket(c){return new gb(c)}constructor(c,n,a,f){super(c,{layout:vb||(vb=new al({visibility:new Sr(gn.layout_heatmap.visibility)})),paint:yb||(yb=new al({"heatmap-radius":new ci(gn.paint_heatmap["heatmap-radius"]),"heatmap-weight":new ci(gn.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Sr(gn.paint_heatmap["heatmap-intensity"]),"heatmap-color":new jf(gn.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Sr(gn.paint_heatmap["heatmap-opacity"]),"heatmap-color-use-theme":new ci({type:"string",default:"default","property-type":"data-driven"})}))},n,a,f),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(c){c==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=Qm({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(c){return Hn("heatmap-radius",this,c)}queryIntersectsFeature(c,n,a,f,v,h,y,E){const O=this.paint.get("heatmap-radius").evaluate(n,a);return ed(c,f,h,y,E,!0,!0,new Sn(0,0),O)}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}getProgramIds(){return["heatmap","heatmapTexture"]}getDefaultProgramParams(c,n,a){return c==="heatmap"?{config:new vf(this,{zoom:n,lut:a}),overrideFog:!1}:{}}},hillshade:class extends ql{constructor(c,n,a,f){super(c,{layout:_b||(_b=new al({visibility:new Sr(gn.layout_hillshade.visibility)})),paint:A0||(A0=new al({"hillshade-illumination-direction":new Sr(gn.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Sr(gn.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Sr(gn.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Sr(gn.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Sr(gn.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Sr(gn.paint_hillshade["hillshade-accent-color"]),"hillshade-emissive-strength":new Sr(gn.paint_hillshade["hillshade-emissive-strength"]),"hillshade-shadow-color-use-theme":new ci({type:"string",default:"default","property-type":"data-driven"}),"hillshade-highlight-color-use-theme":new ci({type:"string",default:"default","property-type":"data-driven"}),"hillshade-accent-color-use-theme":new ci({type:"string",default:"default","property-type":"data-driven"})}))},n,a,f)}shouldRedrape(){return this.hasOffscreenPass()&&this.paint.get("hillshade-illumination-anchor")==="viewport"}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}getProgramIds(){return["hillshade","hillshadePrepare"]}getDefaultProgramParams(c,n,a){return{overrideFog:!1}}},fill:class extends ql{constructor(c,n,a,f){super(c,{layout:N0||(N0=new al({"fill-sort-key":new ci(gn.layout_fill["fill-sort-key"]),visibility:new Sr(gn.layout_fill.visibility),"fill-elevation-reference":new Sr(gn.layout_fill["fill-elevation-reference"])})),paint:ng||(ng=new al({"fill-antialias":new Sr(gn.paint_fill["fill-antialias"]),"fill-opacity":new ci(gn.paint_fill["fill-opacity"]),"fill-color":new ci(gn.paint_fill["fill-color"]),"fill-outline-color":new ci(gn.paint_fill["fill-outline-color"]),"fill-translate":new Sr(gn.paint_fill["fill-translate"]),"fill-translate-anchor":new Sr(gn.paint_fill["fill-translate-anchor"]),"fill-pattern":new ci(gn.paint_fill["fill-pattern"]),"fill-emissive-strength":new Sr(gn.paint_fill["fill-emissive-strength"]),"fill-z-offset":new ci(gn.paint_fill["fill-z-offset"]),"fill-color-use-theme":new ci({type:"string",default:"default","property-type":"data-driven"}),"fill-outline-color-use-theme":new ci({type:"string",default:"default","property-type":"data-driven"})}))},n,a,f)}getProgramIds(){const c=this.paint.get("fill-pattern"),n=c&&c.constantOr(1),a=[n?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&a.push(n&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),a}getDefaultProgramParams(c,n,a){return{config:new vf(this,{zoom:n,lut:a}),overrideFog:!1}}recalculate(c,n){super.recalculate(c,n);const a=this.paint._values["fill-outline-color"];a.value.kind==="constant"&&a.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(c){return new gy(c)}queryRadius(){return Zn(this.paint.get("fill-translate"))}queryIntersectsFeature(c,n,a,f,v,h){return!c.queryGeometry.isAboveHorizon&&Oe(rn(c.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),h.angle,c.pixelToTileUnitsFactor),f)}isTileClipped(){return!0}is3D(){return this.paint.get("fill-z-offset").constantOr(1)!==0}},"fill-extrusion":class extends ql{constructor(c,n,a,f){super(c,{layout:Oy||(Oy=new al({visibility:new Sr(gn["layout_fill-extrusion"].visibility),"fill-extrusion-edge-radius":new Sr(gn["layout_fill-extrusion"]["fill-extrusion-edge-radius"])})),paint:Hb||(Hb=new al({"fill-extrusion-opacity":new Sr(gn["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new ci(gn["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Sr(gn["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Sr(gn["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new ci(gn["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new ci(gn["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new ci(gn["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-height-alignment":new Sr(gn["paint_fill-extrusion"]["fill-extrusion-height-alignment"]),"fill-extrusion-base-alignment":new Sr(gn["paint_fill-extrusion"]["fill-extrusion-base-alignment"]),"fill-extrusion-vertical-gradient":new Sr(gn["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"]),"fill-extrusion-ambient-occlusion-intensity":new Sr(gn["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-intensity"]),"fill-extrusion-ambient-occlusion-radius":new Sr(gn["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-radius"]),"fill-extrusion-ambient-occlusion-wall-radius":new Sr(gn["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-wall-radius"]),"fill-extrusion-ambient-occlusion-ground-radius":new Sr(gn["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-ground-radius"]),"fill-extrusion-ambient-occlusion-ground-attenuation":new Sr(gn["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-ground-attenuation"]),"fill-extrusion-flood-light-color":new Sr(gn["paint_fill-extrusion"]["fill-extrusion-flood-light-color"]),"fill-extrusion-flood-light-intensity":new Sr(gn["paint_fill-extrusion"]["fill-extrusion-flood-light-intensity"]),"fill-extrusion-flood-light-wall-radius":new ci(gn["paint_fill-extrusion"]["fill-extrusion-flood-light-wall-radius"]),"fill-extrusion-flood-light-ground-radius":new ci(gn["paint_fill-extrusion"]["fill-extrusion-flood-light-ground-radius"]),"fill-extrusion-flood-light-ground-attenuation":new Sr(gn["paint_fill-extrusion"]["fill-extrusion-flood-light-ground-attenuation"]),"fill-extrusion-vertical-scale":new Sr(gn["paint_fill-extrusion"]["fill-extrusion-vertical-scale"]),"fill-extrusion-rounded-roof":new Sr(gn["paint_fill-extrusion"]["fill-extrusion-rounded-roof"]),"fill-extrusion-cutoff-fade-range":new Sr(gn["paint_fill-extrusion"]["fill-extrusion-cutoff-fade-range"]),"fill-extrusion-emissive-strength":new ci(gn["paint_fill-extrusion"]["fill-extrusion-emissive-strength"]),"fill-extrusion-line-width":new ci(gn["paint_fill-extrusion"]["fill-extrusion-line-width"]),"fill-extrusion-cast-shadows":new Sr(gn["paint_fill-extrusion"]["fill-extrusion-cast-shadows"]),"fill-extrusion-color-use-theme":new ci({type:"string",default:"default","property-type":"data-driven"}),"fill-extrusion-flood-light-color-use-theme":new ci({type:"string",default:"default","property-type":"data-driven"})}))},n,a,f),this._stats={numRenderedVerticesInShadowPass:0,numRenderedVerticesInTransparentPass:0}}createBucket(c){return new tm(c)}queryRadius(){return Zn(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}hasShadowPass(){return this.paint.get("fill-extrusion-cast-shadows")}cutoffRange(){return this.paint.get("fill-extrusion-cutoff-fade-range")}canCastShadows(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}queryIntersectsFeature(c,n,a,f,v,h,y,E,O){const L=$n(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),h.angle,c.pixelToTileUnitsFactor),C=this.paint.get("fill-extrusion-height").evaluate(n,a),$=this.paint.get("fill-extrusion-base").evaluate(n,a),z=[0,0],P=E&&h.elevation,A=h.elevation?h.elevation.exaggeration():1,k=c.tile.getBucket(this);if(P&&k instanceof tm){const ie=k.centroidVertexArray,ye=O+1;ye<ie.length&&(z[0]=ie.geta_centroid_pos0(ye),z[1]=ie.geta_centroid_pos1(ye))}if(z[0]===0&&z[1]===1)return!1;h.projection.name==="globe"&&(f=Vb([f],[new Sn(0,0),new Sn(Fr,Fr)],c.tileID.canonical).map(ie=>ie.polygon).flat());const X=P?E:null,[ee,le]=function(ie,ye,Se,$e,et,Ye,Xe,Ct,at,St,At){return ie.projection.name==="globe"?function($t,Ft,Yt,un,Wt,jn,cr,kn,Yr,kr,br){const fr=[],Mi=[],ti=$t.projection.upVectorScale(br,$t.center.lat,$t.worldSize).metersToTile,ui=[0,0,0,1],wo=[0,0,0,1],na=(ca,Ma,$a,Vs)=>{ca[0]=Ma,ca[1]=$a,ca[2]=Vs,ca[3]=1},la=Py();Yt>0&&(Yt+=la),un+=la;for(const ca of Ft){const Ma=[],$a=[];for(const Vs of ca){const Ms=Vs.x+Wt.x,jo=Vs.y+Wt.y,xs=$t.projection.projectTilePoint(Ms,jo,br),Cs=$t.projection.upVector(br,Vs.x,Vs.y);let el=Yt,xl=un;if(cr){const Nl=Ub(Ms,jo,Yt,un,cr,kn,Yr,kr);el+=Nl.base,xl+=Nl.top}Yt!==0?na(ui,xs.x+Cs[0]*ti*el,xs.y+Cs[1]*ti*el,xs.z+Cs[2]*ti*el):na(ui,xs.x,xs.y,xs.z),na(wo,xs.x+Cs[0]*ti*xl,xs.y+Cs[1]*ti*xl,xs.z+Cs[2]*ti*xl),J.vec3.transformMat4(ui,ui,jn),J.vec3.transformMat4(wo,wo,jn),Ma.push(new nh(ui[0],ui[1],ui[2])),$a.push(new nh(wo[0],wo[1],wo[2]))}fr.push(Ma),Mi.push($a)}return[fr,Mi]}(ie,ye,Se,$e,et,Ye,Xe,Ct,at,St,At):Xe?function($t,Ft,Yt,un,Wt,jn,cr,kn,Yr){const kr=[],br=[],fr=[0,0,0,1];for(const Mi of $t){const ti=[],ui=[];for(const wo of Mi){const na=wo.x+un.x,la=wo.y+un.y,ca=Ub(na,la,Ft,Yt,jn,cr,kn,Yr);fr[0]=na,fr[1]=la,fr[2]=ca.base,fr[3]=1,J.vec4.transformMat4(fr,fr,Wt),fr[3]=Math.max(fr[3],1e-5);const Ma=new nh(fr[0]/fr[3],fr[1]/fr[3],fr[2]/fr[3]);fr[0]=na,fr[1]=la,fr[2]=ca.top,fr[3]=1,J.vec4.transformMat4(fr,fr,Wt),fr[3]=Math.max(fr[3],1e-5);const $a=new nh(fr[0]/fr[3],fr[1]/fr[3],fr[2]/fr[3]);ti.push(Ma),ui.push($a)}kr.push(ti),br.push(ui)}return[kr,br]}(ye,Se,$e,et,Ye,Xe,Ct,at,St):function($t,Ft,Yt,un,Wt){const jn=[],cr=[],kn=Wt[8]*Ft,Yr=Wt[9]*Ft,kr=Wt[10]*Ft,br=Wt[11]*Ft,fr=Wt[8]*Yt,Mi=Wt[9]*Yt,ti=Wt[10]*Yt,ui=Wt[11]*Yt;for(const wo of $t){const na=[],la=[];for(const ca of wo){const Ma=ca.x+un.x,$a=ca.y+un.y,Vs=Wt[0]*Ma+Wt[4]*$a+Wt[12],Ms=Wt[1]*Ma+Wt[5]*$a+Wt[13],jo=Wt[2]*Ma+Wt[6]*$a+Wt[14],xs=Wt[3]*Ma+Wt[7]*$a+Wt[15],Cs=Vs+kn,el=Ms+Yr,xl=jo+kr,Nl=Math.max(xs+br,1e-5),cl=Vs+fr,pl=Ms+Mi,Cl=jo+ti,Bl=Math.max(xs+ui,1e-5);na.push(new nh(Cs/Nl,el/Nl,xl/Nl)),la.push(new nh(cl/Bl,pl/Bl,Cl/Bl))}jn.push(na),cr.push(la)}return[jn,cr]}(ye,Se,$e,et,Ye)}(h,f,$,C,L,y,X,z,A,h.center.lat,c.tileID.canonical),ue=c.queryGeometry;return function(ie,ye,Se){let $e=1/0;Oe(Se,ye)&&($e=V0(Se,ye[0]));for(let et=0;et<ye.length;et++){const Ye=ye[et],Xe=ie[et];for(let Ct=0;Ct<Ye.length-1;Ct++){const at=Ye[Ct],St=[at,Ye[Ct+1],Xe[Ct+1],Xe[Ct],at];we(Se,St)&&($e=Math.min($e,V0(Se,St)))}}return $e!==1/0&&$e}(ee,le,ue.isPointQuery()?ue.screenBounds:ue.screenGeometry)}},line:class extends ql{constructor(c,n,a,f){const v=zy();super(c,v,n,a,f),v.layout&&(this.layout=new kf(v.layout)),this.gradientVersion=0,this.hasElevatedBuckets=!1,this.hasNonElevatedBuckets=!1}_handleSpecialPaintPropertyUpdate(c){if(c==="line-gradient"){const n=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=n._styleExpression&&n._styleExpression.expression instanceof Cc,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}widthExpression(){return this._transitionablePaint._values["line-width"].value.expression}recalculate(c,n){super.recalculate(c,n),this.paint._values["line-floorwidth"]=(()=>{if(U0)return U0;const a=zy();return U0=new Kb(a.paint.properties["line-width"].specification),U0.useIntegerZoom=!0,U0})().possiblyEvaluate(this._transitioningPaint._values["line-width"].value,c)}createBucket(c){return new H0(c)}getProgramIds(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}getDefaultProgramParams(c,n,a){const f=qb(this);return{config:new vf(this,{zoom:n,lut:a}),defines:f,overrideFog:!1}}queryRadius(c){const n=c,a=Ly(Hn("line-width",this,n),Hn("line-gap-width",this,n)),f=Hn("line-offset",this,n);return a/2+Math.abs(f)+Zn(this.paint.get("line-translate"))}queryIntersectsFeature(c,n,a,f,v,h){if(c.queryGeometry.isAboveHorizon)return!1;const y=rn(c.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),h.angle,c.pixelToTileUnitsFactor),E=c.pixelToTileUnitsFactor/2*Ly(this.paint.get("line-width").evaluate(n,a),this.paint.get("line-gap-width").evaluate(n,a)),O=this.paint.get("line-offset").evaluate(n,a);return O&&(f=function(L,C){const $=[],z=new Sn(0,0);for(let P=0;P<L.length;P++){const A=L[P],k=[];for(let X=0;X<A.length;X++){const ee=A[X],le=A[X+1],ue=X===0?z:ee.sub(A[X-1])._unit()._perp(),ie=X===A.length-1?z:le.sub(ee)._unit()._perp(),ye=ue._add(ie)._unit();ye._mult(1/(ye.x*ie.x+ye.y*ie.y)),k.push(ye._mult(C)._add(ee))}$.push(k)}return $}(f,O*c.pixelToTileUnitsFactor)),function(L,C,$){for(let z=0;z<C.length;z++){const P=C[z];if(L.length>=3){for(let A=0;A<P.length;A++)if(ft(L,P[A]))return!0}if(Ge(L,P,$))return!0}return!1}(y,f,E)}isTileClipped(){return!0}isDraped(c){return!this.hasElevatedBuckets}},symbol:yc,background:class extends ql{constructor(c,n,a,f){super(c,{layout:I1||(I1=new al({visibility:new Sr(gn.layout_background.visibility)})),paint:T1||(T1=new al({"background-pitch-alignment":new Sr(gn.paint_background["background-pitch-alignment"]),"background-color":new Sr(gn.paint_background["background-color"]),"background-pattern":new Sr(gn.paint_background["background-pattern"]),"background-opacity":new Sr(gn.paint_background["background-opacity"]),"background-emissive-strength":new Sr(gn.paint_background["background-emissive-strength"]),"background-color-use-theme":new ci({type:"string",default:"default","property-type":"data-driven"})}))},n,a,f)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}getDefaultProgramParams(c,n,a){return{overrideFog:!1}}is3D(){return this.paint.get("background-pitch-alignment")==="viewport"}},raster:P1,"raster-particle":R1,sky:class extends ql{constructor(c,n,a,f){super(c,{layout:$1||($1=new al({visibility:new Sr(gn.layout_sky.visibility)})),paint:cv||(cv=new al({"sky-type":new Sr(gn.paint_sky["sky-type"]),"sky-atmosphere-sun":new Sr(gn.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new Sr(gn.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new Sr(gn.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new Sr(gn.paint_sky["sky-gradient-radius"]),"sky-gradient":new jf(gn.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new Sr(gn.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new Sr(gn.paint_sky["sky-atmosphere-color"]),"sky-opacity":new Sr(gn.paint_sky["sky-opacity"]),"sky-gradient-use-theme":new ci({type:"string",default:"default","property-type":"data-driven"}),"sky-atmosphere-halo-color-use-theme":new ci({type:"string",default:"default","property-type":"data-driven"}),"sky-atmosphere-color-use-theme":new ci({type:"string",default:"default","property-type":"data-driven"})}))},n,a,f),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(c){c==="sky-gradient"?this._updateColorRamp():c!=="sky-atmosphere-sun"&&c!=="sky-atmosphere-halo-color"&&c!=="sky-atmosphere-color"&&c!=="sky-atmosphere-sun-intensity"||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=Qm({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(c){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const n=c.style.light.properties.get("position");return this._lightPosition.azimuthal!==n.azimuthal||this._lightPosition.polar!==n.polar}return!1}getCenter(c,n){if(this.paint.get("sky-type")==="atmosphere"){const f=this.paint.get("sky-atmosphere-sun"),v=!f,h=c.style.light,y=h.properties.get("position");return v&&h.properties.get("anchor")==="viewport"&&jr("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),v?i_(y.azimuthal,90-y.polar,n):i_(f[0],90-f[1],n)}const a=this.paint.get("sky-gradient-center");return i_(a[0],90-a[1],n)}isSky(){return!0}markSkyboxValid(c){this._skyboxInvalidated=!1,this._lightPosition=c.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const c=this.paint.get("sky-type");return c==="atmosphere"?["skyboxCapture","skybox"]:c==="gradient"?["skyboxGradient"]:null}},slot:class extends ql{constructor(c,n,a,f){super(c,{paint:r_||(r_=new al({}))},n,null)}},model:class extends ql{constructor(c,n,a,f){super(c,{layout:V1||(V1=new al({visibility:new Sr(gn.layout_model.visibility),"model-id":new ci(gn.layout_model["model-id"])})),paint:H1||(H1=new al({"model-opacity":new ci(gn.paint_model["model-opacity"]),"model-rotation":new ci(gn.paint_model["model-rotation"]),"model-scale":new ci(gn.paint_model["model-scale"]),"model-translation":new ci(gn.paint_model["model-translation"]),"model-color":new ci(gn.paint_model["model-color"]),"model-color-mix-intensity":new ci(gn.paint_model["model-color-mix-intensity"]),"model-type":new Sr(gn.paint_model["model-type"]),"model-cast-shadows":new Sr(gn.paint_model["model-cast-shadows"]),"model-receive-shadows":new Sr(gn.paint_model["model-receive-shadows"]),"model-ambient-occlusion-intensity":new Sr(gn.paint_model["model-ambient-occlusion-intensity"]),"model-emissive-strength":new ci(gn.paint_model["model-emissive-strength"]),"model-roughness":new ci(gn.paint_model["model-roughness"]),"model-height-based-emissive-strength-multiplier":new ci(gn.paint_model["model-height-based-emissive-strength-multiplier"]),"model-cutoff-fade-range":new Sr(gn.paint_model["model-cutoff-fade-range"]),"model-front-cutoff":new Sr(gn.paint_model["model-front-cutoff"]),"model-color-use-theme":new ci({type:"string",default:"default","property-type":"data-driven"})}))},n,a,f),this._stats={numRenderedVerticesInShadowPass:0,numRenderedVerticesInTransparentPass:0}}createBucket(c){return new s_(c)}getProgramIds(){return["model"]}is3D(){return!0}hasShadowPass(){return!0}canCastShadows(){return!0}hasLightBeamPass(){return!0}cutoffRange(){return this.paint.get("model-cutoff-fade-range")}queryRadius(c){return c instanceof d_?Fr-1:0}queryIntersectsFeature(c,n,a,f,v,h){if(!this.modelManager)return!1;const y=this.modelManager,E=c.tile.getBucket(this);if(!(E&&E instanceof s_))return!1;for(const O in E.instancesPerModel){const L=E.instancesPerModel[O],C=n.id!==void 0?n.id:n.properties&&n.properties.hasOwnProperty("id")?n.properties.id:void 0;if(L.idToFeaturesIndex.hasOwnProperty(C)){const $=L.features[L.idToFeaturesIndex[C]],z=y.getModel(O,this.scope);if(!z)return!1;let P=J.mat4.create();const A=new os(0,0),k=E.canonical;let X=Number.MAX_VALUE;for(let ee=0;ee<$.instancedDataCount;++ee){const le=16*($.instancedDataOffset+ee),ue=L.instancedDataArray.float32,ie=[ue[le+4],ue[le+5],ue[le+6]];f_(k,A,ue[le],0|ue[le+1]),Pw(P,z,h,A,$.rotation,$.scale,ie,!1,!1,!1),h.projection.name==="globe"&&(P=dv(P,h));const ye=J.mat4.multiply([],h.projMatrix,P),Se=c.queryGeometry,$e=L1(Se.isPointQuery()?Se.screenBounds:Se.screenGeometry,h,ye,z.aabb);$e!=null&&(X=Math.min($e,X))}return X!==Number.MAX_VALUE&&X}}return!1}_handleOverridablePaintPropertyUpdate(c,n,a){return!(!this.layout||n.isDataDriven()||a.isDataDriven()||c!=="model-color"&&c!=="model-color-mix-intensity"&&c!=="model-rotation"&&c!=="model-scale"&&c!=="model-translation"&&c!=="model-emissive-strength")}_isPropertyZoomDependent(c){const n=this._transitionablePaint._values[c];return n!=null&&n.value!=null&&n.value.expression!=null&&n.value.expression instanceof Nh}isZoomDependent(){return this._isPropertyZoomDependent("model-scale")||this._isPropertyZoomDependent("model-rotation")||this._isPropertyZoomDependent("model-translation")}},clip:class extends ql{constructor(c,n,a,f){super(c,{layout:rg||(rg=new al({"clip-layer-types":new Sr(gn.layout_clip["clip-layer-types"]),"clip-layer-scope":new Sr(gn.layout_clip["clip-layer-scope"])})),paint:ig||(ig=new al({}))},n,a,f)}recalculate(c,n){super.recalculate(c,n)}createBucket(c){return new Eb(c)}isTileClipped(){return!0}is3D(){return!0}}};class cE{constructor(n){this._callback=n,this._triggered=!1,typeof MessageChannel!="undefined"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){this._channel=void 0,this._callback=()=>{}}}class Rw{constructor(){this.tasks={},this.taskQueue=[],Li(["process"],this),this.invoker=new cE(this.process),this.nextId=0}add(n,a){const f=this.nextId++,v=function({type:h,isSymbolTile:y,zoom:E}){return E=E||0,h==="message"?0:h!=="maybePrepare"||y?h!=="parseTile"||y?h==="parseTile"&&y?300-E:h==="maybePrepare"&&y?400-E:500:200-E:100-E}(a);if(v===0){try{n()}finally{}return null}return this.tasks[f]={fn:n,metadata:a,priority:v,id:f},this.taskQueue.push(f),this.invoker.trigger(),{cancel:()=>{delete this.tasks[f]}}}process(){try{if(this.taskQueue=this.taskQueue.filter(f=>!!this.tasks[f]),!this.taskQueue.length)return;const n=this.pick();if(n===null)return;const a=this.tasks[n];if(delete this.tasks[n],this.taskQueue.length&&this.invoker.trigger(),!a)return;a.fn()}finally{}}pick(){let n=null,a=1/0;for(let v=0;v<this.taskQueue.length;v++){const h=this.tasks[this.taskQueue[v]];h.priority<a&&(a=h.priority,n=v)}if(n===null)return null;const f=this.taskQueue[n];return this.taskQueue.splice(n,1),f}remove(){this.invoker.remove()}}class h_{constructor(n,a,f){this.target=n,this.parent=a,this.mapId=f,this.callbacks={},this.cancelCallbacks={},Li(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.scheduler=new Rw}send(n,a,f,v,h=!1,y){const E=Math.round(1e18*Math.random()).toString(36).substring(0,10);f&&(f.metadata=y,this.callbacks[E]=f);const O=new Set;return this.target.postMessage({id:E,type:n,hasCallback:!!f,targetMapId:v,mustQueue:h,sourceMapId:this.mapId,data:gd(a,O)},O),{cancel:()=>{f&&delete this.callbacks[E],this.target.postMessage({id:E,type:"<cancel>",targetMapId:v,sourceMapId:this.mapId})}}}receive(n){const a=n.data,f=a.id;if(f&&(!a.targetMapId||this.mapId===a.targetMapId))if(a.type==="<cancel>"){const v=this.cancelCallbacks[f];delete this.cancelCallbacks[f],v&&v.cancel()}else if(a.mustQueue||po()){const v=this.callbacks[f],h=this.scheduler.add(()=>this.processTask(f,a),v&&v.metadata||{type:"message"});h&&(this.cancelCallbacks[f]=h)}else this.processTask(f,a)}processTask(n,a){if(delete this.cancelCallbacks[n],a.type==="<response>"){const f=this.callbacks[n];delete this.callbacks[n],f&&(a.error?f(nf(a.error)):f(null,nf(a.data)))}else{const f=new Set,v=a.hasCallback?(y,E)=>{this.target.postMessage({id:n,type:"<response>",sourceMapId:this.mapId,error:y?gd(y):null,data:gd(E,f)},f)}:()=>{},h=nf(a.data);if(this.parent[a.type])this.parent[a.type](a.sourceMapId,h,v);else if(this.parent.getWorkerSource){const y=a.type.split(".");this.parent.getWorkerSource(a.sourceMapId,y[0],h.source,h.scope)[y[1]](h,v)}else v(new Error(`Could not find function ${a.type}`))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}}var fm={workerUrl:"",workerClass:null,workerParams:void 0};const p_="mapboxgl_preloaded_worker_pool";class lp{constructor(){this.active={}}acquire(n,a=lp.workerCount){if(!this.workers)for(this.workers=[];this.workers.length<a;)this.workers.push(fm.workerClass!=null?new fm.workerClass:new self.Worker(fm.workerUrl,fm.workerParams));return this.active[n]=!0,this.workers.slice()}release(n){delete this.active[n],this.workers&&this.numActive()===0&&(this.workers.forEach(a=>{a.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[p_]}numActive(){return Object.keys(this.active).length}}lp.workerCount=2;class hm{constructor(n,a,f="Worker",v=lp.workerCount){this.workerPool=n,this.actors=[],this.currentActor=0,this.id=Gr();const h=this.workerPool.acquire(this.id,v);for(let y=0;y<h.length;y++){const E=new hm.Actor(h[y],a,this.id);E.name=`${f} ${y}`,this.actors.push(E)}this.ready=!1,this.broadcast("checkIfReady",null,()=>{this.ready=!0})}broadcast(n,a,f){No(this.actors,(v,h)=>{v.send(n,a,h)},f=f||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(n=>{n.remove()}),this.actors=[],this.workerPool.release(this.id)}}let fv,hv;function pv(){return fv||(fv=new lp),fv}hm.Actor=h_;const Dg=new no(0,0,0);var m_=(c=>(c[c.PATH_RULE_UNSPECIFIED=0]="PATH_RULE_UNSPECIFIED",c[c.PATH_RULE_NON_ZERO=1]="PATH_RULE_NON_ZERO",c[c.PATH_RULE_EVEN_ODD=2]="PATH_RULE_EVEN_ODD",c))(m_||{}),g_=(c=>(c[c.LINE_CAP_UNSPECIFIED=0]="LINE_CAP_UNSPECIFIED",c[c.LINE_CAP_BUTT=1]="LINE_CAP_BUTT",c[c.LINE_CAP_ROUND=2]="LINE_CAP_ROUND",c[c.LINE_CAP_SQUARE=3]="LINE_CAP_SQUARE",c))(g_||{}),zg=(c=>(c[c.LINE_JOIN_UNSPECIFIED=0]="LINE_JOIN_UNSPECIFIED",c[c.LINE_JOIN_MITER=1]="LINE_JOIN_MITER",c[c.LINE_JOIN_MITER_CLIP=2]="LINE_JOIN_MITER_CLIP",c[c.LINE_JOIN_ROUND=3]="LINE_JOIN_ROUND",c[c.LINE_JOIN_BEVEL=4]="LINE_JOIN_BEVEL",c))(zg||{}),pm=(c=>(c[c.PAINT_ORDER_UNSPECIFIED=0]="PAINT_ORDER_UNSPECIFIED",c[c.PAINT_ORDER_FILL_AND_STROKE=1]="PAINT_ORDER_FILL_AND_STROKE",c[c.PAINT_ORDER_STROKE_AND_FILL=2]="PAINT_ORDER_STROKE_AND_FILL",c))(pm||{}),ph=(c=>(c[c.PATH_COMMAND_UNSPECIFIED=0]="PATH_COMMAND_UNSPECIFIED",c[c.PATH_COMMAND_MOVE=1]="PATH_COMMAND_MOVE",c[c.PATH_COMMAND_LINE=2]="PATH_COMMAND_LINE",c[c.PATH_COMMAND_QUAD=3]="PATH_COMMAND_QUAD",c[c.PATH_COMMAND_CUBIC=4]="PATH_COMMAND_CUBIC",c[c.PATH_COMMAND_CLOSE=5]="PATH_COMMAND_CLOSE",c))(ph||{}),Aw=(c=>(c[c.MASK_TYPE_UNSPECIFIED=0]="MASK_TYPE_UNSPECIFIED",c[c.MASK_TYPE_LUMINANCE=1]="MASK_TYPE_LUMINANCE",c[c.MASK_TYPE_ALPHA=2]="MASK_TYPE_ALPHA",c))(Aw||{});function Dw(c,n,a){c===1&&n.icons.push(function(f,v){return function(h){if(h.usvg_tree.height||(h.usvg_tree.height=h.usvg_tree.width),!h.metadata)return h;const{metadata:y}=h;if(y.content_area){const{content_area:E}=y;E.top==null&&(E.top=E.left),E.width==null&&(E.width=h.usvg_tree.width),E.height==null&&(E.height=E.width)}return y.stretch_x&&y.stretch_x.length&&K1(y,"x"),y.stretch_y&&y.stretch_y.length&&K1(y,"y"),h}(f.readFields(zw,{name:void 0},v))}(a,a.readVarint()+a.pos))}function K1(c,n){const a=[],f=c[`stretch_${n}`];let v=null;for(let h=0;h<f.length;h++)v===null?v=a.length===0?f[0]:a[a.length-1][1]+f[h]:(a.push([v,v+f[h]]),v=null);c[`stretch_${n}_areas`]=a}function zw(c,n,a){c===1?n.name=a.readString():c===2?n.metadata=function(f,v){return f.readFields(Lw,{stretch_x:null,stretch_y:null,stretch_x_areas:null,stretch_y_areas:null,variables:[]},v)}(a,a.readVarint()+a.pos):c===3&&(n.usvg_tree=function(f,v){return f.readFields(Nw,{width:20,children:[],linear_gradients:[],radial_gradients:[],clip_paths:[],masks:[]},v)}(a,a.readVarint()+a.pos),n.data="usvg_tree")}function Lw(c,n,a){c===1?n.stretch_x=a.readPackedVarint():c===2?n.stretch_y=a.readPackedVarint():c===3?n.content_area=function(f,v){return f.readFields(uE,{left:0},v)}(a,a.readVarint()+a.pos):c===4&&n.variables.push(function(f,v){return f.readFields(v_,{name:void 0},v)}(a,a.readVarint()+a.pos))}function uE(c,n,a){c===1?n.left=a.readVarint():c===2?n.width=a.readVarint():c===3?n.top=a.readVarint():c===4&&(n.height=a.readVarint())}function v_(c,n,a){c===1?n.name=a.readString():c===2&&(n.rgb_color=gv(a.readVarint()),n.value="rgb_color")}function Nw(c,n,a){c===1?n.width=n.height=a.readVarint():c===2?n.height=a.readVarint():c===3?n.children.push(mv(a,a.readVarint()+a.pos)):c===4?n.linear_gradients.push(function(f,v){return f.readFields(Q1,{spread_method:1,stops:[],x1:0,y1:0,x2:1,y2:0},v)}(a,a.readVarint()+a.pos)):c===5?n.radial_gradients.push(function(f,v){return f.readFields(jw,{spread_method:1,stops:[],cx:.5,cy:.5,r:.5,fx:.5,fy:.5,fr:0},v)}(a,a.readVarint()+a.pos)):c===7?n.clip_paths.push(function(f,v){return f.readFields(Zw,{children:[]},v)}(a,a.readVarint()+a.pos)):c===8&&n.masks.push(function(f,v){const h=f.readFields(Vw,{left:0,width:20,mask_type:1,children:[]},v);return h.height==null&&(h.height=h.width),h.top==null&&(h.top=h.left),h}(a,a.readVarint()+a.pos))}function mv(c,n){return c.readFields(y_,{},n)}function y_(c,n,a){c===1?(n.group=function(f,v){return f.readFields(Y1,{opacity:255,children:[]},v)}(a,a.readVarint()+a.pos),n.node="group"):c===2&&(n.path=function(f,v){return f.readFields(Fw,{paint_order:1,commands:[],step:1,diffs:[],rule:1},v)}(a,a.readVarint()+a.pos),n.node="path")}function Y1(c,n,a){c===1?n.transform=mm(a,a.readVarint()+a.pos):c===2?n.opacity=a.readVarint():c===5?n.clip_path_idx=a.readVarint():c===6?n.mask_idx=a.readVarint():c===7&&n.children.push(mv(a,a.readVarint()+a.pos))}function mm(c,n){return c.readFields(Bw,{sx:1,ky:0,kx:0,sy:1,tx:0,ty:0},n)}function Bw(c,n,a){c===1?n.sx=a.readFloat():c===2?n.ky=a.readFloat():c===3?n.kx=a.readFloat():c===4?n.sy=a.readFloat():c===5?n.tx=a.readFloat():c===6&&(n.ty=a.readFloat())}function Fw(c,n,a){c===1?n.fill=function(f,v){return f.readFields(J1,{rgb_color:Dg,paint:"rgb_color",opacity:255},v)}(a,a.readVarint()+a.pos):c===2?n.stroke=function(f,v){return f.readFields(__,{rgb_color:Dg,paint:"rgb_color",dasharray:[],dashoffset:0,miterlimit:4,opacity:255,width:1,linecap:1,linejoin:1},v)}(a,a.readVarint()+a.pos):c===3?n.paint_order=a.readVarint():c===5?a.readPackedVarint(n.commands):c===6?n.step=a.readFloat():c===7?a.readPackedSVarint(n.diffs):c===8&&(n.rule=a.readVarint())}function J1(c,n,a){c===1?(n.rgb_color=gv(a.readVarint()),n.paint="rgb_color"):c===2?(n.linear_gradient_idx=a.readVarint(),n.paint="linear_gradient_idx"):c===3?(n.radial_gradient_idx=a.readVarint(),n.paint="radial_gradient_idx"):c===5&&(n.opacity=a.readVarint())}function gv(c){return new no((c>>16&255)/255,(c>>8&255)/255,(255&c)/255,1)}function __(c,n,a){c===1?(n.rgb_color=gv(a.readVarint()),n.paint="rgb_color"):c===2?(n.linear_gradient_idx=a.readVarint(),n.paint="linear_gradient_idx"):c===3?(n.radial_gradient_idx=a.readVarint(),n.paint="radial_gradient_idx"):c===5?a.readPackedFloat(n.dasharray):c===6?n.dashoffset=a.readFloat():c===7?n.miterlimit=a.readFloat():c===8?n.opacity=a.readVarint():c===9?n.width=a.readFloat():c===10?n.linecap=a.readVarint():c===11&&(n.linejoin=a.readVarint())}function Q1(c,n,a){c===1?n.transform=mm(a,a.readVarint()+a.pos):c===2?n.spread_method=a.readVarint():c===3?n.stops.push(b_(a,a.readVarint()+a.pos)):c===4?n.x1=a.readFloat():c===5?n.y1=a.readFloat():c===6?n.x2=a.readFloat():c===7&&(n.y2=a.readFloat())}function b_(c,n){return c.readFields(kw,{offset:0,opacity:255,rgb_color:Dg},n)}function kw(c,n,a){c===1?n.offset=a.readFloat():c===2?n.opacity=a.readVarint():c===3&&(n.rgb_color=gv(a.readVarint()))}function jw(c,n,a){c===1?n.transform=mm(a,a.readVarint()+a.pos):c===2?n.spread_method=a.readVarint():c===3?n.stops.push(b_(a,a.readVarint()+a.pos)):c===4?n.cx=a.readFloat():c===5?n.cy=a.readFloat():c===6?n.r=a.readFloat():c===7?n.fx=a.readFloat():c===8?n.fy=a.readFloat():c===9&&(n.fr=a.readFloat())}function Zw(c,n,a){c===1?n.transform=mm(a,a.readVarint()+a.pos):c===2?n.clip_path_idx=a.readVarint():c===3&&n.children.push(mv(a,a.readVarint()+a.pos))}function Vw(c,n,a){c===1?n.left=n.top=a.readFloat():c===2?n.width=n.height=a.readFloat():c===3?n.top=a.readFloat():c===4?n.height=a.readFloat():c===5?n.mask_type=a.readVarint():c===6?n.mask_idx=a.readVarint():c===7&&n.children.push(mv(a,a.readVarint()+a.pos))}class ex{static calculate(n,a){const f=new Map,v=new Map;if(Object.keys(n).length===0)return f;a.forEach(h=>{v.set(h.name,h.rgb_color||new no(0,0,0))});for(const[h,y]of Object.entries(n))v.has(h)?f.set(v.get(h).toStringPremultipliedAlpha(),y):console.warn(`Ignoring unknown image variable "${h}"`);return f}}function gm(c,n=255,a){const f=n/255,v=c.toStringPremultipliedAlpha(),h=a.has(v)?a.get(v).clone():c.clone();return h.a=f,h.toString()}function Lg(c,n){if(!Fe()){const a=document.createElement("canvas");return a.width=c,a.height=n,a}return new OffscreenCanvas(c,n)}function Hw(c,n){const a=ex.calculate(n.params,c.metadata?c.metadata.variables:[]),f=c.usvg_tree,v=f.width,h=f.height,y=n.transform?n.transform:new DOMMatrix,E=Math.max(1,Math.round(v*y.a)),O=Math.max(1,Math.round(h*y.d)),L=new DOMMatrix([E/v,0,0,O/h,0,0]),C=Lg(E,O).getContext("2d");return x_(C,L,f,f,a),C.getImageData(0,0,E,O)}function x_(c,n,a,f,v){for(const h of f.children)vv(c,n,a,h,v)}function vv(c,n,a,f,v){f.group?(c.save(),function(h,y,E,O,L){const C=O.mask_idx!=null?E.masks[O.mask_idx]:null,$=O.clip_path_idx!=null?E.clip_paths[O.clip_path_idx]:null;if(O.transform&&(y=yv(O.transform).preMultiplySelf(y)),!function(A,k,X){return A.opacity!==255||k||X}(O,$!=null,C!=null))return void x_(h,y,E,O,L);const z=Lg(h.canvas.width,h.canvas.height),P=z.getContext("2d");x_(P,y,E,O,L),$&&ax(P,y,E,$),C&&sx(P,y,E,C,L),h.globalAlpha=O.opacity/255,h.drawImage(z,0,0)}(c,n,a,f.group,v),c.restore()):f.path&&(c.save(),function(h,y,E,O,L){const C=lx(O);h.setTransform(y),O.paint_order===pm.PAINT_ORDER_FILL_AND_STROKE?(tx(h,E,O,C,L),rx(h,E,O,C,L)):(rx(h,E,O,C,L),tx(h,E,O,C,L))}(c,n,a,f.path,v),c.restore())}function tx(c,n,a,f,v){const h=a.fill;if(!h)return;const y=h.opacity/255;switch(h.paint){case"rgb_color":c.fillStyle=gm(h.rgb_color,h.opacity,v);break;case"linear_gradient_idx":c.fillStyle=Wc(c,n.linear_gradients[h.linear_gradient_idx],y,v);break;case"radial_gradient_idx":c.fillStyle=ix(c,n.radial_gradients[h.radial_gradient_idx],y,v)}c.fill(f,nx(a))}function nx(c){return c.rule===m_.PATH_RULE_NON_ZERO?"nonzero":c.rule===m_.PATH_RULE_EVEN_ODD?"evenodd":void 0}function rx(c,n,a,f,v){const h=a.stroke;if(!h)return;c.lineWidth=h.width,c.miterLimit=h.miterlimit,c.setLineDash(h.dasharray),c.lineDashOffset=h.dashoffset;const y=h.opacity/255;switch(h.paint){case"rgb_color":c.strokeStyle=gm(h.rgb_color,h.opacity,v);break;case"linear_gradient_idx":c.strokeStyle=Wc(c,n.linear_gradients[h.linear_gradient_idx],y,v);break;case"radial_gradient_idx":c.strokeStyle=ix(c,n.radial_gradients[h.radial_gradient_idx],y,v)}switch(h.linejoin){case zg.LINE_JOIN_MITER_CLIP:case zg.LINE_JOIN_MITER:c.lineJoin="miter";break;case zg.LINE_JOIN_ROUND:c.lineJoin="round";break;case zg.LINE_JOIN_BEVEL:c.lineJoin="bevel"}switch(h.linecap){case g_.LINE_CAP_BUTT:c.lineCap="butt";break;case g_.LINE_CAP_ROUND:c.lineCap="round";break;case g_.LINE_CAP_SQUARE:c.lineCap="square"}c.stroke(f)}function Wc(c,n,a,f){if(n.stops.length===1){const z=n.stops[0];return gm(z.rgb_color,z.opacity*a,f)}const v=yv(n.transform),{x1:h,y1:y,x2:E,y2:O}=n,L=v.transformPoint(new DOMPoint(h,y)),C=v.transformPoint(new DOMPoint(E,O)),$=c.createLinearGradient(L.x,L.y,C.x,C.y);for(const z of n.stops)$.addColorStop(z.offset,gm(z.rgb_color,z.opacity*a,f));return $}function ix(c,n,a,f){if(n.stops.length===1){const z=n.stops[0];return gm(z.rgb_color,z.opacity*a,f)}const v=yv(n.transform),{fx:h,fy:y,cx:E,cy:O}=n,L=v.transformPoint(new DOMPoint(h,y)),C=v.transformPoint(new DOMPoint(E,O)),$=c.createRadialGradient(L.x,L.y,0,C.x,C.y,n.r*((v.a+v.d)/2));for(const z of n.stops)$.addColorStop(z.offset,gm(z.rgb_color,z.opacity*a,f));return $}function ox(c,n,a,f){const v=f.transform?yv(f.transform).preMultiplySelf(n):n,h=Lg(c.canvas.width,c.canvas.height),y=h.getContext("2d");for(const O of f.children)if(O.group)ox(y,v,a,O.group);else if(O.path){const L=O.path,C=new Path2D;C.addPath(lx(L),v),y.fill(C,nx(L))}const E=f.clip_path_idx!=null?a.clip_paths[f.clip_path_idx]:null;E&&ax(y,v,a,E),c.globalCompositeOperation="source-over",c.drawImage(h,0,0)}function ax(c,n,a,f){const v=Lg(c.canvas.width,c.canvas.height);ox(v.getContext("2d"),n,a,f),c.globalCompositeOperation="destination-in",c.drawImage(v,0,0)}function sx(c,n,a,f,v){if(f.children.length===0)return;const h=f.mask_idx!=null?a.masks[f.mask_idx]:null;h&&sx(c,n,a,h,v);const y=c.canvas.width,E=c.canvas.height,O=Lg(y,E),L=O.getContext("2d"),C=f.width,$=f.height,z=f.left,P=f.top,A=new Path2D,k=new Path2D;k.rect(z,P,C,$),A.addPath(k,n),L.clip(A);for(const le of f.children)vv(L,n,a,le,v);const X=L.getImageData(0,0,y,E),ee=X.data;if(f.mask_type===Aw.MASK_TYPE_LUMINANCE)for(let le=0;le<ee.length;le+=4)ee[le+3]=ee[le+3]/255*(.2126*ee[le]+.7152*ee[le+1]+.0722*ee[le+2]);L.putImageData(X,0,0),c.globalCompositeOperation="destination-in",c.drawImage(O,0,0)}function yv(c){return c?new DOMMatrix([c.sx,c.ky,c.kx,c.sy,c.tx,c.ty]):new DOMMatrix}function lx(c){const n=new Path2D,a=c.step;let f=c.diffs[0]*a,v=c.diffs[1]*a;n.moveTo(f,v);for(let h=0,y=2;h<c.commands.length;h++)switch(c.commands[h]){case ph.PATH_COMMAND_MOVE:f+=c.diffs[y++]*a,v+=c.diffs[y++]*a,n.moveTo(f,v);break;case ph.PATH_COMMAND_LINE:f+=c.diffs[y++]*a,v+=c.diffs[y++]*a,n.lineTo(f,v);break;case ph.PATH_COMMAND_QUAD:{const E=f+c.diffs[y++]*a,O=v+c.diffs[y++]*a;f=E+c.diffs[y++]*a,v=O+c.diffs[y++]*a,n.quadraticCurveTo(E,O,f,v);break}case ph.PATH_COMMAND_CUBIC:{const E=f+c.diffs[y++]*a,O=v+c.diffs[y++]*a,L=E+c.diffs[y++]*a,C=O+c.diffs[y++]*a;f=L+c.diffs[y++]*a,v=C+c.diffs[y++]*a,n.bezierCurveTo(E,O,L,C,f,v);break}case ph.PATH_COMMAND_CLOSE:n.closePath()}return n}class C_{constructor(n){this.capacity=n,this.cache=new Map}get(n){if(!this.cache.has(n))return;const a=this.cache.get(n);return this.cache.delete(n),this.cache.set(n,a),a}put(n,a){this.cache.has(n)?this.cache.delete(n):this.cache.size===this.capacity&&this.cache.delete(this.cache.keys().next().value),this.cache.set(n,a)}delete(n){this.cache.delete(n)}}class w_{constructor(){this.cacheMap=new Map,this.cacheDependenciesMap=new Map}static _getImage(n){return new Yl(n,n.data)}getFromCache(n,a,f){return this.cacheMap.has(f)||this.cacheMap.set(f,new C_(150)),this.cacheMap.get(f).get(wu(n.serialize(),a))}setInCache(n,a,f,v){this.cacheDependenciesMap.has(v)||this.cacheDependenciesMap.set(v,new Map),this.cacheMap.has(v)||this.cacheMap.set(v,new C_(150));const h=this.cacheDependenciesMap.get(v);h.get(wu(n.id,f))||h.set(wu(n.id,f),new Set);const y=this.cacheMap.get(v),E=n.serialize();h.get(wu(n.id,f)).add(E),y.put(wu(n.serialize(),f),a)}removeImagesFromCacheByIds(n,a,f=""){if(!this.cacheMap.has(f)||!this.cacheDependenciesMap.has(f))return;const v=this.cacheMap.get(f),h=this.cacheDependenciesMap.get(f);for(const y of n)if(h.has(wu(y,a))){for(const E of h.get(wu(y,a)))v.delete(E);h.delete(wu(y,a))}}rasterize(n,a,f,v,h=Hw){const y=this.getFromCache(n,f,v);if(y)return y.clone();const E=h(a.icon,n.options),O=w_._getImage(E);return this.setInCache(n,O,f,v),O.clone()}}class cx{constructor(n){this.size=n,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(n,a){const f=this.toIdx(n,a);return{min:this.minimums[f],max:this.maximums[f]}}isLeaf(n,a){return this.leaves[this.toIdx(n,a)]}toIdx(n,a){return a*this.size+n}}function ux(c,n,a,f){let v=0,h=Number.MAX_VALUE;for(let y=0;y<3;y++)if(Math.abs(f[y])<1e-15){if(a[y]<c[y]||a[y]>n[y])return null}else{const E=1/f[y];let O=(c[y]-a[y])*E,L=(n[y]-a[y])*E;if(O>L){const C=O;O=L,L=C}if(O>v&&(v=O),L<h&&(h=L),v>h)return null}return v}function dx(c,n,a,f,v,h,y,E,O,L,C){const $=f-c,z=v-n,P=h-a,A=y-c,k=E-n,X=O-a,ee=C[1]*X-C[2]*k,le=C[2]*A-C[0]*X,ue=C[0]*k-C[1]*A,ie=$*ee+z*le+P*ue;if(Math.abs(ie)<1e-15)return null;const ye=1/ie,Se=L[0]-c,$e=L[1]-n,et=L[2]-a,Ye=(Se*ee+$e*le+et*ue)*ye;if(Ye<0||Ye>1)return null;const Xe=$e*P-et*z,Ct=et*$-Se*P,at=Se*z-$e*$,St=(C[0]*Xe+C[1]*Ct+C[2]*at)*ye;return St<0||Ye+St>1?null:(A*Xe+k*Ct+X*at)*ye}function fx(c,n,a){return(c-n)/(a-n)}function hx(c,n,a,f,v,h,y,E,O){const L=1<<a,C=h-f,$=y-v,z=(c+1)/L*C+f,P=(n+0)/L*$+v,A=(n+1)/L*$+v;E[0]=(c+0)/L*C+f,E[1]=P,O[0]=z,O[1]=A}class mh{constructor(n){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=n,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const a=function(h){const y=Math.ceil(Math.log2(h.dim/8)),E=[];let O=Math.ceil(Math.pow(2,y));const L=1/O,C=(P,A,k,X,ee)=>{const le=X?1:0,ue=(P+1)*k-le,ie=A*k,ye=(A+1)*k-le;ee[0]=P*k,ee[1]=ie,ee[2]=ue,ee[3]=ye};let $=new cx(O);const z=[];for(let P=0;P<O*O;P++){C(P%O,Math.floor(P/O),L,!1,z);const A=gh(z[0],z[1],h),k=gh(z[2],z[1],h),X=gh(z[2],z[3],h),ee=gh(z[0],z[3],h);$.minimums.push(Math.min(A,k,X,ee)),$.maximums.push(Math.max(A,k,X,ee)),$.leaves.push(1)}for(E.push($),O/=2;O>=1;O/=2){const P=E[E.length-1];$=new cx(O);for(let A=0;A<O*O;A++){C(A%O,Math.floor(A/O),2,!0,z);const k=P.getElevation(z[0],z[1]),X=P.getElevation(z[2],z[1]),ee=P.getElevation(z[2],z[3]),le=P.getElevation(z[0],z[3]),ue=P.isLeaf(z[0],z[1]),ie=P.isLeaf(z[2],z[1]),ye=P.isLeaf(z[2],z[3]),Se=P.isLeaf(z[0],z[3]),$e=Math.min(k.min,X.min,ee.min,le.min),et=Math.max(k.max,X.max,ee.max,le.max),Ye=ue&&ie&&ye&&Se;$.maximums.push(et),$.minimums.push($e),$.leaves.push(et-$e<=5&&Ye?1:0)}E.push($)}return E}(this.dem),f=a.length-1,v=a[f];this._addNode(v.minimums[0],v.maximums[0],v.leaves[0]),this._construct(a,0,0,f,0)}raycastRoot(n,a,f,v,h,y,E=1){return ux([n,a,-100],[f,v,this.maximums[0]*E],h,y)}raycast(n,a,f,v,h,y,E=1){if(!this.nodeCount)return null;const O=this.raycastRoot(n,a,f,v,h,y,E);if(O==null)return null;const L=[],C=[],$=[],z=[],P=[{idx:0,t:O,nodex:0,nodey:0,depth:0}];for(;P.length>0;){const{idx:A,t:k,nodex:X,nodey:ee,depth:le}=P.pop();if(this.leaves[A]){hx(X,ee,le,n,a,f,v,$,z);const ie=1<<le,ye=(X+0)/ie,Se=(X+1)/ie,$e=(ee+0)/ie,et=(ee+1)/ie,Ye=gh(ye,$e,this.dem)*E,Xe=gh(Se,$e,this.dem)*E,Ct=gh(Se,et,this.dem)*E,at=gh(ye,et,this.dem)*E,St=dx($[0],$[1],Ye,z[0],$[1],Xe,z[0],z[1],Ct,h,y),At=dx(z[0],z[1],Ct,$[0],z[1],at,$[0],$[1],Ye,h,y),$t=Math.min(St!==null?St:Number.MAX_VALUE,At!==null?At:Number.MAX_VALUE);if($t!==Number.MAX_VALUE)return $t;{const Ft=J.vec3.scaleAndAdd([],h,y,k);if(S_(Ye,Xe,at,Ct,fx(Ft[0],$[0],z[0]),fx(Ft[1],$[1],z[1]))>=Ft[2])return k}continue}let ue=0;for(let ie=0;ie<this._siblingOffset.length;ie++){hx((X<<1)+this._siblingOffset[ie][0],(ee<<1)+this._siblingOffset[ie][1],le+1,n,a,f,v,$,z),$[2]=-100,z[2]=this.maximums[this.childOffsets[A]+ie]*E;const ye=ux($,z,h,y);if(ye!=null){const Se=ye;L[ie]=Se;let $e=!1;for(let et=0;et<ue&&!$e;et++)Se>=L[C[et]]&&(C.splice(et,0,ie),$e=!0);$e||(C[ue]=ie),ue++}}for(let ie=0;ie<ue;ie++){const ye=C[ie];P.push({idx:this.childOffsets[A]+ye,t:L[ye],nodex:(X<<1)+this._siblingOffset[ye][0],nodey:(ee<<1)+this._siblingOffset[ye][1],depth:le+1})}}return null}_addNode(n,a,f){return this.minimums.push(n),this.maximums.push(a),this.leaves.push(f),this.childOffsets.push(0),this.nodeCount++}_construct(n,a,f,v,h){if(n[v].isLeaf(a,f)===1)return;this.childOffsets[h]||(this.childOffsets[h]=this.nodeCount);const y=v-1,E=n[y];let O=0,L=0;for(let C=0;C<this._siblingOffset.length;C++){const $=2*a+this._siblingOffset[C][0],z=2*f+this._siblingOffset[C][1],P=E.getElevation($,z),A=E.isLeaf($,z),k=this._addNode(P.min,P.max,A);A&&(O|=1<<C),L||(L=k)}for(let C=0;C<this._siblingOffset.length;C++)O&1<<C||this._construct(n,2*a+this._siblingOffset[C][0],2*f+this._siblingOffset[C][1],y,L+C)}}function S_(c,n,a,f,v,h){return si(si(c,a,h),si(n,f,h),v)}function gh(c,n,a){const f=a.dim,v=ri(c*f-.5,0,f-1),h=ri(n*f-.5,0,f-1),y=Math.floor(v),E=Math.floor(h),O=Math.min(y+1,f-1),L=Math.min(E+1,f-1);return S_(a.get(y,E),a.get(O,E),a.get(y,L),a.get(O,L),v-y,h-E)}const px={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};function Uw(c,n,a){return(256*c*256+256*n+a)/10-1e4}function Ww(c,n,a){return 256*c+n+a/256-32768}class iu{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(n,a,f,v=!1){if(this.uid=n,a.height!==a.width)throw new RangeError("DEM tiles must be square");if(f&&f!=="mapbox"&&f!=="terrarium")return void jr(`"${f}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=a.height;const h=this.dim=a.height-2,y=new Uint32Array(a.data.buffer);if(this.pixels=new Uint8Array(a.data.buffer),this.floatView=new Float32Array(a.data.buffer),this.borderReady=v,this._modifiedForSources={},!v){for(let O=0;O<h;O++)y[this._idx(-1,O)]=y[this._idx(0,O)],y[this._idx(h,O)]=y[this._idx(h-1,O)],y[this._idx(O,-1)]=y[this._idx(O,0)],y[this._idx(O,h)]=y[this._idx(O,h-1)];y[this._idx(-1,-1)]=y[this._idx(0,0)],y[this._idx(h,-1)]=y[this._idx(h-1,0)],y[this._idx(-1,h)]=y[this._idx(0,h-1)],y[this._idx(h,h)]=y[this._idx(h-1,h-1)]}const E=f==="terrarium"?Ww:Uw;for(let O=0;O<y.length;++O){const L=4*O;this.floatView[O]=E(this.pixels[L],this.pixels[L+1],this.pixels[L+2])}this._timestamp=ve.now()}_buildQuadTree(){this._tree=new mh(this)}get(n,a,f=!1){f&&(n=ri(n,-1,this.dim),a=ri(a,-1,this.dim));const v=this._idx(n,a);return this.floatView[v]}set(n,a,f){const v=this._idx(n,a),h=this.floatView[v];return this.floatView[v]=f,f-h}static getUnpackVector(n){return px[n]}_idx(n,a){if(n<-1||n>=this.dim+1||a<-1||a>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(a+1)*this.stride+(n+1)}static pack(n,a){const f=[0,0,0,0],v=iu.getUnpackVector(a);let h=Math.floor((n+v[3])/v[2]);return f[2]=h%256,h=Math.floor(h/256),f[1]=h%256,h=Math.floor(h/256),f[0]=h,f}getPixels(){return new xb({width:this.stride,height:this.stride},this.pixels)}backfillBorder(n,a,f){if(this.dim!==n.dim)throw new Error("dem dimension mismatch");let v=a*this.dim,h=a*this.dim+this.dim,y=f*this.dim,E=f*this.dim+this.dim;switch(a){case-1:v=h-1;break;case 1:h=v+1}switch(f){case-1:y=E-1;break;case 1:E=y+1}const O=-a*this.dim,L=-f*this.dim;for(let C=y;C<E;C++)for(let $=v;$<h;$++){const z=4*this._idx($,C),P=4*this._idx($+O,C+L);this.pixels[z+0]=n.pixels[P+0],this.pixels[z+1]=n.pixels[P+1],this.pixels[z+2]=n.pixels[P+2],this.pixels[z+3]=n.pixels[P+3]}}onDeserialize(){this._tree&&(this._tree.dem=this)}}function Gw(c,n,a){c===1?n.headerLength=a.readFixed32():c===2?n.x=a.readVarint():c===3?n.y=a.readVarint():c===4?n.z=a.readVarint():c===5&&n.layers.push(function(f,v){return f.readFields(Ng,{version:0,name:"",units:"",tileSize:0,buffer:0,pixelFormat:0,dataIndex:[]},v)}(a,a.readVarint()+a.pos))}function Xw(c,n,a){c===1?(n.delta_filter=function(f,v){return f.readFields(mx,{blockSize:0},v)}(a,a.readVarint()+a.pos),n.filter="delta_filter"):c===2?(a.readVarint(),n.filter="zigzag_filter"):c===3?(a.readVarint(),n.filter="bitshuffle_filter"):c===4&&(a.readVarint(),n.filter="byteshuffle_filter")}function mx(c,n,a){c===1&&(n.blockSize=a.readVarint())}function E_(c,n,a){c===1?(a.readVarint(),n.codec="gzip_data"):c===2?(a.readVarint(),n.codec="jpeg_image"):c===3?(a.readVarint(),n.codec="webp_image"):c===4&&(a.readVarint(),n.codec="png_image")}function cp(c,n,a){let f=0,v=0;c===1?n.firstByte=a.readFixed64():c===2?n.lastByte=a.readFixed64():c===3?n.filters.push(function(h,y){return h.readFields(Xw,{},y)}(a,a.readVarint()+a.pos)):c===4?n.codec=function(h,y){return h.readFields(E_,{},y)}(a,a.readVarint()+a.pos):c===5?v=a.readFloat():c===6?f=a.readFloat():c===7?n.bands.push(a.readString()):c===8?n.offset=a.readDouble():c===9&&(n.scale=a.readDouble()),n.offset===0&&(n.offset=v),n.scale===0&&(n.scale=f)}function Ng(c,n,a){c===1?n.version=a.readVarint():c===2?n.name=a.readString():c===3?n.units=a.readString():c===4?n.tileSize=a.readVarint():c===5?n.buffer=a.readVarint():c===6?n.pixelFormat=a.readVarint():c===7&&n.dataIndex.push(function(f,v){return f.readFields(cp,{firstByte:0,lastByte:0,filters:[],codec:null,offset:0,scale:0,bands:[]},v)}(a,a.readVarint()+a.pos))}function _v(c,n,a){if(c===2)(function(f,v,h){f.readFields(gx,h,v)})(a,a.readVarint()+a.pos,n);else if(c===3)throw new Error("Not implemented")}function gx(c,n,a){if(c===1){let f=0;const v=a.readVarint()+a.pos;for(;a.pos<v;)n[f++]=a.readVarint()}}function vx(c,n){if(n.length!==4)throw new Error(`Expected data of dimension 4 but got ${n.length}.`);let a=n[3];for(let f=2;f>=1;f--){const v=f===1?1:0,h=f===2?1:0;for(let y=0;y<n[0];y++){const E=n[1]*y;for(let O=v;O<n[1];O++){const L=n[2]*(O+E);for(let C=h;C<n[2];C++){const $=n[3]*(C+L);for(let z=0;z<n[3];z++){const P=$+z;c[P]+=c[P-a]}}}}a*=n[f]}return c}function yx(c){for(let n=0,a=c.length;n<a;n++)c[n]=c[n]>>>1^-(1&c[n]);return c}function I_(c,n){switch(n){case"uint32":return c;case"uint16":for(let a=0;a<c.length;a+=2){const f=c[a],v=c[a+1];c[a]=(240&f)>>4|(61440&f)>>8|(240&v)<<4|61440&v,c[a+1]=15&f|(3840&f)>>4|(15&v)<<8|(3840&v)<<4}return c;case"uint8":for(let a=0;a<c.length;a+=4){const f=c[a],v=c[a+1],h=c[a+2],y=c[a+3];c[a+0]=(192&f)>>6|(192&v)>>4|(192&h)>>2|192&y,c[a+1]=(48&f)>>4|(48&v)>>2|48&h|(48&y)<<2,c[a+2]=(12&f)>>2|12&v|(12&h)<<2|(12&y)<<4,c[a+3]=3&f|(3&v)<<2|(3&h)<<4|(3&y)<<6}return c;default:throw new Error(`Invalid pixel format, "${n}"`)}}bi(iu,"DEMData"),bi(mh,"DemMinMaxQuadTree",{omit:["dem"]});var ou=Uint8Array,vm=Uint16Array,qw=Int32Array,T_=new ou([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ym=new ou([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Kw=new ou([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),_x=function(c,n){for(var a=new vm(31),f=0;f<31;++f)a[f]=n+=1<<c[f-1];var v=new qw(a[30]);for(f=1;f<30;++f)for(var h=a[f];h<a[f+1];++h)v[h]=h-a[f]<<5|f;return{b:a,r:v}},bx=_x(T_,2),M_=bx.b,xx=bx.r;M_[28]=258,xx[258]=28;for(var Cx=_x(ym,0).b,P_=new vm(32768),Rl=0;Rl<32768;++Rl){var vh=(43690&Rl)>>1|(21845&Rl)<<1;P_[Rl]=((65280&(vh=(61680&(vh=(52428&vh)>>2|(13107&vh)<<2))>>4|(3855&vh)<<4))>>8|(255&vh)<<8)>>1}var Ou=function(c,n,a){for(var f=c.length,v=0,h=new vm(n);v<f;++v)c[v]&&++h[c[v]-1];var y,E=new vm(n);for(v=1;v<n;++v)E[v]=E[v-1]+h[v-1]<<1;y=new vm(1<<n);var O=15-n;for(v=0;v<f;++v)if(c[v])for(var L=v<<4|c[v],C=n-c[v],$=E[c[v]-1]++<<C,z=$|(1<<C)-1;$<=z;++$)y[P_[$]>>O]=L;return y},up=new ou(288);for(Rl=0;Rl<144;++Rl)up[Rl]=8;for(Rl=144;Rl<256;++Rl)up[Rl]=9;for(Rl=256;Rl<280;++Rl)up[Rl]=7;for(Rl=280;Rl<288;++Rl)up[Rl]=8;var yh=new ou(32);for(Rl=0;Rl<32;++Rl)yh[Rl]=5;var wx=Ou(up,9),Yw=Ou(yh,5),Bg=function(c){for(var n=c[0],a=1;a<c.length;++a)c[a]>n&&(n=c[a]);return n},pu=function(c,n,a){var f=n/8|0;return(c[f]|c[f+1]<<8)>>(7&n)&a},bv=function(c,n){var a=n/8|0;return(c[a]|c[a+1]<<8|c[a+2]<<16)>>(7&n)},Sx=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Gc=function(c,n,a){var f=new Error(n||Sx[c]);if(f.code=c,Error.captureStackTrace&&Error.captureStackTrace(f,Gc),!a)throw f;return f},Lc=new ou(0),xv=typeof TextDecoder!="undefined"&&new TextDecoder;try{xv.decode(Lc,{stream:!0})}catch(c){}const Cv={gzip_data:"gzip"};class $u extends Error{constructor(n){super(n),this.name="MRTError"}}const _c={0:"uint32",1:"uint32",2:"uint16",3:"uint8"},Fg={uint32:1,uint16:2,uint8:4},Jw={uint32:Uint32Array,uint16:Uint16Array,uint8:Uint8Array};let O_;class $_{constructor(n=5){this.x=NaN,this.y=NaN,this.z=NaN,this.layers={},this._cacheSize=n}getLayer(n){const a=this.layers[n];if(!a)throw new $u(`Layer '${n}' not found`);return a}getHeaderLength(n){const a=new Uint8Array(n),f=new DataView(n);if(a[0]!==13)throw new $u("File is not a valid MRT.");return f.getUint32(1,!0)}parseHeader(n){const a=new Uint8Array(n),f=this.getHeaderLength(n);if(a.length<f)throw new $u(`Expected header with length >= ${f} but got buffer of length ${a.length}`);const v=function(h,y){return h.readFields(Gw,{headerLength:0,x:0,y:0,z:0,layers:[]},void 0)}(new O_(a.subarray(0,f)));if(!isNaN(this.x)&&(this.x!==v.x||this.y!==v.y||this.z!==v.z))throw new $u(`Invalid attempt to parse header ${v.z}/${v.x}/${v.y} for tile ${this.z}/${this.x}/${this.y}`);this.x=v.x,this.y=v.y,this.z=v.z;for(const h of v.layers)this.layers[h.name]=new Qw(h,{cacheSize:this._cacheSize});return this}createDecodingTask(n){const a=[],f=this.getLayer(n.layerName);for(let v of n.blockIndices){const h=f.dataIndex[v],y=h.firstByte-n.firstByte,E=h.lastByte-n.firstByte;if(f._blocksInProgress.has(v))continue;const O={layerName:f.name,firstByte:y,lastByte:E,pixelFormat:f.pixelFormat,blockIndex:v,blockShape:[h.bands.length].concat(f.bandShape),buffer:f.buffer,codec:h.codec.codec,filters:h.filters.map(L=>L.filter)};f._blocksInProgress.add(v),a.push(O)}return new kg(a,()=>{a.forEach(v=>f._blocksInProgress.delete(v.blockIndex))},(v,h)=>{if(a.forEach(y=>f._blocksInProgress.delete(y.blockIndex)),v)throw v;h.forEach(y=>{this.getLayer(y.layerName).processDecodedData(y)})})}}class Qw{constructor({version:n,name:a,units:f,tileSize:v,pixelFormat:h,buffer:y,dataIndex:E},O){if(this.version=n,this.version!==1)throw new $u(`Cannot parse raster layer encoded with MRT version ${n}`);this.name=a,this.units=f,this.tileSize=v,this.buffer=y,this.pixelFormat=_c[h],this.dataIndex=E,this.bandShape=[v+2*y,v+2*y,Fg[this.pixelFormat]],this._decodedBlocks=new C_(O?O.cacheSize:5),this._blocksInProgress=new Set}get dimension(){return Fg[this.pixelFormat]}get cacheSize(){return this._decodedBlocks.capacity}getBandList(){return this.dataIndex.map(({bands:n})=>n).flat()}processDecodedData(n){const a=n.blockIndex.toString();this._decodedBlocks.get(a)||this._decodedBlocks.put(a,n.data)}getBlockForBand(n){let a=0;switch(typeof n){case"string":for(const[f,v]of this.dataIndex.entries()){for(const[h,y]of v.bands.entries())if(y===n)return{bandIndex:a+h,blockIndex:f,blockBandIndex:h};a+=v.bands.length}break;case"number":for(const[f,v]of this.dataIndex.entries()){if(n>=a&&n<a+v.bands.length)return{bandIndex:n,blockIndex:f,blockBandIndex:n-a};a+=v.bands.length}break;default:throw new $u(`Invalid band \`${JSON.stringify(n)}\`. Expected string or integer.`)}throw new $u(`Band not found: ${JSON.stringify(n)}`)}getDataRange(n){let a=1/0,f=-1/0;const v=[],h=new Set;for(const y of n){const{blockIndex:E}=this.getBlockForBand(y);if(E<0)throw new $u(`Invalid band: ${JSON.stringify(y)}`);const O=this.dataIndex[E];v.includes(E)||v.push(E),h.add(E),a=Math.min(a,O.firstByte),f=Math.max(f,O.lastByte)}if(h.size>this.cacheSize)throw new $u(`Number of blocks to decode (${h.size}) exceeds cache size (${this.cacheSize}).`);return{layerName:this.name,firstByte:a,lastByte:f,blockIndices:v}}hasBand(n){const{blockIndex:a}=this.getBlockForBand(n);return a>=0}hasDataForBand(n){const{blockIndex:a}=this.getBlockForBand(n);return a>=0&&!!this._decodedBlocks.get(a.toString())}getBandView(n){const{blockIndex:a,blockBandIndex:f}=this.getBlockForBand(n),v=this._decodedBlocks.get(a.toString());if(!v)throw new $u(`Data for band ${JSON.stringify(n)} of layer "${this.name}" not decoded.`);const h=this.dataIndex[a],y=this.bandShape.reduce((L,C)=>L*C,1),E=f*y,O=v.subarray(E,E+y);return{data:O,bytes:new Uint8Array(O.buffer).subarray(O.byteOffset,O.byteOffset+O.byteLength),tileSize:this.tileSize,buffer:this.buffer,pixelFormat:this.pixelFormat,dimension:this.dimension,offset:h.offset,scale:h.scale}}}$_.setPbf=function(c){O_=c};class kg{constructor(n,a,f){this.tasks=n,this._onCancel=a,this._onComplete=f,this._finalized=!1}cancel(){this._finalized||(this._onCancel(),this._finalized=!0)}complete(n,a){this._finalized||(this._onComplete(n,a),this._finalized=!0)}}$_.performDecoding=function(c,n){const a=new Uint8Array(c);return Promise.all(n.tasks.map(f=>{const{layerName:v,firstByte:h,lastByte:y,pixelFormat:E,blockShape:O,blockIndex:L,filters:C,codec:$}=f,z=a.subarray(h,y+1),P=new Uint32Array(O[0]*O[1]*O[2]);let A;if($!=="gzip_data")throw new $u(`Unhandled codec: ${$}`);return A=function(k,X){if(!globalThis.DecompressionStream&&X==="gzip_data")return Promise.resolve(((ie=function($e){$e[0]==31&&$e[1]==139&&$e[2]==8||Gc(6,"invalid gzip data");var et=$e[3],Ye=10;4&et&&(Ye+=2+($e[10]|$e[11]<<8));for(var Xe=(et>>3&1)+(et>>4&1);Xe>0;Xe-=!$e[Ye++]);return Ye+(2&et)}(ue=k))+8>ue.length&&Gc(6,"invalid gzip data"),function($e,et,Ye,Xe){var Ct=$e.length;if(!Ct||et.f&&!et.l)return Ye||new ou(0);var at=!Ye,St=at||et.i!=2,At=et.i;at&&(Ye=new ou(3*Ct));var $t,Ft,Yt=function(Ch){var mp=Ye.length;if(Ch>mp){var qg=new ou(Math.max(2*mp,Ch));qg.set(Ye),Ye=qg}},un=et.f||0,Wt=et.p||0,jn=et.b||0,cr=et.l,kn=et.d,Yr=et.m,kr=et.n,br=8*Ct;do{if(!cr){un=pu($e,Wt,1);var fr=pu($e,Wt+1,3);if(Wt+=3,!fr){var Mi=$e[(jo=4+((Wt+7)/8|0))-4]|$e[jo-3]<<8,ti=jo+Mi;if(ti>Ct){At&&Gc(0);break}St&&Yt(jn+Mi),Ye.set($e.subarray(jo,ti),jn),et.b=jn+=Mi,et.p=Wt=8*ti,et.f=un;continue}if(fr==1)cr=wx,kn=Yw,Yr=9,kr=5;else if(fr==2){var ui=pu($e,Wt,31)+257,wo=pu($e,Wt+10,15)+4,na=ui+pu($e,Wt+5,31)+1;Wt+=14;for(var la=new ou(na),ca=new ou(19),Ma=0;Ma<wo;++Ma)ca[Kw[Ma]]=pu($e,Wt+3*Ma,7);Wt+=3*wo;var $a=Bg(ca),Vs=(1<<$a)-1,Ms=Ou(ca,$a);for(Ma=0;Ma<na;){var jo,xs=Ms[pu($e,Wt,Vs)];if(Wt+=15&xs,(jo=xs>>4)<16)la[Ma++]=jo;else{var Cs=0,el=0;for(jo==16?(el=3+pu($e,Wt,3),Wt+=2,Cs=la[Ma-1]):jo==17?(el=3+pu($e,Wt,7),Wt+=3):jo==18&&(el=11+pu($e,Wt,127),Wt+=7);el--;)la[Ma++]=Cs}}var xl=la.subarray(0,ui),Nl=la.subarray(ui);Yr=Bg(xl),kr=Bg(Nl),cr=Ou(xl,Yr),kn=Ou(Nl,kr)}else Gc(1);if(Wt>br){At&&Gc(0);break}}St&&Yt(jn+131072);for(var cl=(1<<Yr)-1,pl=(1<<kr)-1,Cl=Wt;;Cl=Wt){var Bl=(Cs=cr[bv($e,Wt)&cl])>>4;if((Wt+=15&Cs)>br){At&&Gc(0);break}if(Cs||Gc(2),Bl<256)Ye[jn++]=Bl;else{if(Bl==256){Cl=Wt,cr=null;break}var bc=Bl-254;Bl>264&&(bc=pu($e,Wt,(1<<(ad=T_[Ma=Bl-257]))-1)+M_[Ma],Wt+=ad);var Hs=kn[bv($e,Wt)&pl],Xc=Hs>>4;if(Hs||Gc(3),Wt+=15&Hs,Nl=Cx[Xc],Xc>3){var ad=ym[Xc];Nl+=bv($e,Wt)&(1<<ad)-1,Wt+=ad}if(Wt>br){At&&Gc(0);break}St&&Yt(jn+131072);var Au=jn+bc;if(jn<Nl){var Du=0-Nl,pp=Math.min(Nl,Au);for(Du+jn<0&&Gc(3);jn<pp;++jn)Ye[jn]=(void 0)[Du+jn]}for(;jn<Au;++jn)Ye[jn]=Ye[jn-Nl]}}et.l=cr,et.p=Cl,et.b=jn,et.f=un,cr&&(un=1,et.m=Yr,et.d=kn,et.n=kr)}while(!un);return jn!=Ye.length&&at?($t=Ye,((Ft=jn)==null||Ft>$t.length)&&(Ft=$t.length),new ou($t.subarray(0,Ft))):Ye.subarray(0,jn)}(ue.subarray(ie,-8),{i:2},new ou(((ee=ue)[(le=ee.length)-4]|ee[le-3]<<8|ee[le-2]<<16|ee[le-1]<<24)>>>0))));var ee,le,ue,ie;const ye=Cv[X];if(!ye)throw new Error(`Unhandled codec: ${X}`);const Se=new globalThis.DecompressionStream(ye);return new Response(new Blob([k]).stream().pipeThrough(Se)).arrayBuffer().then($e=>new Uint8Array($e))}(z,$).then(k=>(function(X,ee){X.readFields(_v,ee)}(new O_(k),P),new Jw[E](P.buffer))),A.then(k=>{for(let X=C.length-1;X>=0;X--)switch(C[X]){case"delta_filter":vx(k,O);break;case"zigzag_filter":yx(k);break;case"bitshuffle_filter":I_(k,E);break;default:throw new $u(`Unhandled filter "${C[X]}"`)}return{layerName:v,blockIndex:L,data:k}}).catch(k=>{throw k})}))},bi(kg,"MRTDecodingBatch",{omit:["_onCancel","_onComplete"]});let _m,R_,Ru,dp,wv,_h=null;function A_(){return po()&&self.worker&&self.worker.dracoUrl?self.worker.dracoUrl:R_||vi.DRACO_URL}function Ex(){if(po()&&self.worker&&self.worker.meshoptUrl)return self.worker.meshoptUrl;if(dp)return dp;const c=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]);if(typeof WebAssembly!="object")throw new Error("WebAssembly not supported, cannot instantiate meshoptimizer");return dp=WebAssembly.validate(c)?vi.MESHOPT_SIMD_URL:vi.MESHOPT_URL,dp}const bh={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},D_={5120:"DT_INT8",5121:"DT_UINT8",5122:"DT_INT16",5123:"DT_UINT16",5125:"DT_UINT32",5126:"DT_FLOAT32"},bm={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16};function z_(c,n,a){const f=a.json.bufferViews.length,v=a.buffers.length;n.bufferView=f,a.json.bufferViews[f]={buffer:v,byteLength:c.byteLength},a.buffers[v]=c}const L_="KHR_draco_mesh_compression";function Ix(c,n){const a=c.extensions&&c.extensions[L_];if(!a)return;const f=new Ru.Decoder,v=Zg(n,a.bufferView),h=new Ru.Mesh;if(!f.DecodeArrayToMesh(v,v.byteLength,h))throw new Error("Failed to decode Draco mesh");const y=n.json.accessors[c.indices],E=bh[y.componentType],O=y.count*E.BYTES_PER_ELEMENT,L=Ru._malloc(O);E===Uint16Array?f.GetTrianglesUInt16Array(h,O,L):f.GetTrianglesUInt32Array(h,O,L),z_(Ru.memory.buffer.slice(L,L+O),y,n),Ru._free(L);for(const C of Object.keys(a.attributes)){const $=f.GetAttributeByUniqueId(h,a.attributes[C]),z=n.json.accessors[c.attributes[C]],P=D_[z.componentType],A=z.count*bm[z.type]*bh[z.componentType].BYTES_PER_ELEMENT,k=Ru._malloc(A);f.GetAttributeDataArrayForAllPoints(h,$,Ru[P],A,k),z_(Ru.memory.buffer.slice(k,k+A),z,n),Ru._free(k)}f.destroy(),h.destroy(),delete c.extensions[L_]}const jg="EXT_meshopt_compression";function eS(c,n){if(!c.extensions||!c.extensions[jg])return;const a=c.extensions[jg],f=new Uint8Array(n.buffers[a.buffer],a.byteOffset||0,a.byteLength||0),v=new Uint8Array(a.count*a.byteStride);wv.decodeGltfBuffer(v,a.count,a.byteStride,f,a.mode,a.filter),c.buffer=n.buffers.length,c.byteOffset=0,n.buffers[c.buffer]=v.buffer,delete c.extensions[jg]}const N_=1179937895,B_=new TextDecoder("utf8");function F_(c,n){return new URL(c,n).href}function tS(c,n,a,f){return fetch(F_(c.uri,f)).then(v=>v.arrayBuffer()).then(v=>{n.buffers[a]=v})}function Zg(c,n){const a=c.json.bufferViews[n];return new Uint8Array(c.buffers[a.buffer],a.byteOffset||0,a.byteLength)}function Sv(c,n,a,f){if(c.uri){const v=F_(c.uri,f);return fetch(v).then(h=>h.blob()).then(h=>createImageBitmap(h)).then(h=>{n.images[a]=h})}if(c.bufferView!==void 0){const v=Zg(n,c.bufferView),h=new Blob([v],{type:c.mimeType});return createImageBitmap(h).then(y=>{n.images[a]=y})}}function Ev(c,n=0,a){const f={json:null,images:[],buffers:[]};if(new Uint32Array(c,n,1)[0]===N_){const C=new Uint32Array(c,n);let $=2;const z=(C[$++]>>2)-3,P=C[$++]>>2;if($++,f.json=JSON.parse(B_.decode(C.subarray($,$+P))),$+=P,$<z){const A=C[$++];$++;const k=n+($<<2);f.buffers[0]=c.slice(k,k+A)}}else f.json=JSON.parse(B_.decode(new Uint8Array(c,n)));const{buffers:v,images:h,meshes:y,extensionsUsed:E,bufferViews:O}=f.json;let L=Promise.resolve();if(v){const C=[];for(let $=0;$<v.length;$++){const z=v[$];z.uri?C.push(tS(z,f,$,a)):f.buffers[$]||(f.buffers[$]=null)}L=Promise.all(C)}return L.then(()=>{const C=[],$=E&&E.includes(L_),z=E&&E.includes(jg);if($&&C.push(function(){if(!Ru)return _m!=null?_m:(_m=function(P){let A,k=null;function X(){A=new Uint8Array(k.buffer)}function ee(){throw new Error("Unexpected Draco error.")}const le={a:{a:ee,d:function(ue,ie,ye){return A.copyWithin(ue,ie,ie+ye)},c:function(ue){const ie=A.length,ye=Math.max(ue>>>0,Math.ceil(1.2*ie)),Se=Math.ceil((ye-ie)/65536);try{return k.grow(Se),X(),!0}catch($e){return!1}},b:ee}};return(WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(P,le):P.then(ue=>ue.arrayBuffer()).then(ue=>WebAssembly.instantiate(ue,le))).then(ue=>{const{Rb:ie,Qb:ye,P:Se,T:$e,X:et,Ja:Ye,La:Xe,Qa:Ct,Va:at,Wa:St,eb:At,jb:$t,f:Ft,e:Yt,yb:un,zb:Wt,Ab:jn,Bb:cr,Db:kn,Gb:Yr}=ue.instance.exports;k=Yt;const kr=(()=>{let br=0,fr=0,Mi=0,ti=0;return ui=>{Mi&&(ie(ti),ie(br),fr+=Mi,Mi=br=0),br||(fr+=128,br=ye(fr));const wo=ui.length+7&-8;let na=br;wo>=fr&&(Mi=wo,na=ti=ye(wo));for(let la=0;la<ui.length;la++)A[na+la]=ui[la];return na}})();return X(),Ft(),{memory:Yt,_free:ie,_malloc:ye,Mesh:class{constructor(){this.ptr=Se()}destroy(){$e(this.ptr)}},Decoder:class{constructor(){this.ptr=Ye()}destroy(){$t(this.ptr)}DecodeArrayToMesh(br,fr,Mi){const ti=kr(br),ui=Xe(this.ptr,ti,fr,Mi.ptr);return!!et(ui)}GetAttributeByUniqueId(br,fr){return{ptr:Ct(this.ptr,br.ptr,fr)}}GetTrianglesUInt16Array(br,fr,Mi){at(this.ptr,br.ptr,fr,Mi)}GetTrianglesUInt32Array(br,fr,Mi){St(this.ptr,br.ptr,fr,Mi)}GetAttributeDataArrayForAllPoints(br,fr,Mi,ti,ui){At(this.ptr,br.ptr,fr.ptr,Mi,ti,ui)}},DT_INT8:un(),DT_UINT8:Wt(),DT_INT16:jn(),DT_UINT16:cr(),DT_UINT32:kn(),DT_FLOAT32:Yr()}})}(fetch(A_())),_m.then(P=>{Ru=P,_m=void 0}))}()),z&&C.push(function(){if(wv)return;const P=function(A){let k;const X=WebAssembly.instantiateStreaming(A,{}).then(ue=>{k=ue.instance,k.exports.__wasm_call_ctors()}),ee={NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},le={ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return{ready:X,supported:!0,decodeGltfBuffer(ue,ie,ye,Se,$e,et){(function(Ye,Xe,Ct,at,St,At,$t){const Ft=Ye.exports.sbrk,Yt=at+3&-4,un=Ft(Yt*St),Wt=Ft(At.length),jn=new Uint8Array(Ye.exports.memory.buffer);jn.set(At,Wt);const cr=Xe(un,at,St,Wt,At.length);if(cr===0&&$t&&$t(un,Yt,St),Ct.set(jn.subarray(un,un+at*St)),Ft(un-Ft(0)),cr!==0)throw new Error(`Malformed buffer data: ${cr}`)})(k,k.exports[le[$e]],ue,ie,ye,Se,k.exports[ee[et]])}}}(fetch(Ex()));return P.ready.then(()=>{wv=P})}()),h)for(let P=0;P<h.length;P++)C.push(Sv(h[P],f,P,a));return(C.length?Promise.all(C):Promise.resolve()).then(()=>{if($&&y)for(const{primitives:P}of y)for(const A of P)Ix(A,f);if(z&&y&&O)for(const P of O)eS(P,f);return f})})}function fp(c,n){const a=c.json.bufferViews[n.bufferView],f=bh[n.componentType];return new f(c.buffers[a.buffer],(n.byteOffset||0)+(a.byteOffset||0),n.count*(a.byteStride&&a.byteStride!==bm[n.type]*f.BYTES_PER_ELEMENT?a.byteStride/f.BYTES_PER_ELEMENT:bm[n.type]))}function Iv(c,n,a,f){const v=bh[n.componentType],h=function(C){switch(C){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:return 1}}(v),y=c.json.bufferViews[n.bufferView],E=y.byteStride?y.byteStride/v.BYTES_PER_ELEMENT:bm[n.type],O=a.float32,L=O.length/a.capacity;for(let C=0,$=0;C<n.count*E;C+=E,$+=L)for(let z=0;z<L;z++)O[$+z]=f[C+z]*h;a._trim()}function hp(c,n,a){const f=c.indices,v=c.attributes,h={};h.indexArray=new tc;const y=n.json.accessors[f],E=y.count/3;h.indexArray.reserve(E);const O=fp(n,y);for(let z=0;z<E;z++)h.indexArray.emplaceBack(O[3*z],O[3*z+1],O[3*z+2]);h.indexArray._trim(),h.vertexArray=new qu;const L=n.json.accessors[v.POSITION];h.vertexArray.reserve(L.count);const C=fp(n,L);for(let z=0;z<L.count;z++)h.vertexArray.emplaceBack(C[3*z],C[3*z+1],C[3*z+2]);if(h.vertexArray._trim(),h.aabb=new Ni(L.min,L.max),h.centroid=function(z,P){const A=[0,0,0],k=z.length;if(k>0){for(let X=0;X<k;X++){const ee=3*z[X];A[0]+=P[ee],A[1]+=P[ee+1],A[2]+=P[ee+2]}A[0]/=k,A[1]/=k,A[2]/=k}return A}(O,C),v.COLOR_0!==void 0){const z=n.json.accessors[v.COLOR_0],P=bm[z.type],A=fp(n,z);h.colorArray=P===3?new qu:new hf,h.colorArray.resize(z.count),Iv(n,z,h.colorArray,A)}if(v.NORMAL!==void 0){h.normalArray=new qu;const z=n.json.accessors[v.NORMAL];h.normalArray.resize(z.count);const P=fp(n,z);Iv(n,z,h.normalArray,P)}if(v.TEXCOORD_0!==void 0&&a.length>0){h.texcoordArray=new pf;const z=n.json.accessors[v.TEXCOORD_0];h.texcoordArray.resize(z.count);const P=fp(n,z);Iv(n,z,h.texcoordArray,P)}if(v._FEATURE_ID_RGBA4444!==void 0){const z=n.json.accessors[v._FEATURE_ID_RGBA4444];n.json.extensionsUsed&&n.json.extensionsUsed.includes("EXT_meshopt_compression")&&(h.featureData=fp(n,z))}v._FEATURE_RGBA4444!==void 0&&(h.featureData=new Uint32Array(fp(n,n.json.accessors[v._FEATURE_RGBA4444]).buffer));const $=c.material;return h.material=function(z,P){const{emissiveFactor:A=[0,0,0],alphaMode:k="OPAQUE",alphaCutoff:X=.5,normalTexture:ee,occlusionTexture:le,emissiveTexture:ue,doubleSided:ie}=z,{baseColorFactor:ye=[1,1,1,1],metallicFactor:Se=1,roughnessFactor:$e=1,baseColorTexture:et,metallicRoughnessTexture:Ye}=z.pbrMetallicRoughness||{},Xe=le?P[le.index]:void 0;if(le&&le.extensions&&le.extensions.KHR_texture_transform&&Xe){const Ct=le.extensions.KHR_texture_transform;Xe.offsetScale=[Ct.offset[0],Ct.offset[1],Ct.scale[0],Ct.scale[1]]}return{pbrMetallicRoughness:{baseColorFactor:new no(...ye),metallicFactor:Se,roughnessFactor:$e,baseColorTexture:et?P[et.index]:void 0,metallicRoughnessTexture:Ye?P[Ye.index]:void 0},doubleSided:ie,emissiveFactor:A,alphaMode:k,alphaCutoff:X,normalTexture:ee?P[ee.index]:void 0,occlusionTexture:Xe,emissionTexture:ue?P[ue.index]:void 0,defined:z.defined===void 0}}($!==void 0?n.json.materials[$]:{defined:!1},a),h}function Vg(c,n,a){const{matrix:f,rotation:v,translation:h,scale:y,mesh:E,extras:O,children:L}=c,C={};if(C.matrix=f||J.mat4.fromRotationTranslationScale([],v||[0,0,0,1],h||[0,0,0],y||[1,1,1]),E!==void 0){C.meshes=a[E];const $=C.anchor=[0,0];for(const z of C.meshes){const{min:P,max:A}=z.aabb;$[0]+=P[0]+A[0],$[1]+=P[1]+A[1]}$[0]=Math.floor($[0]/C.meshes.length/2),$[1]=Math.floor($[1]/C.meshes.length/2)}if(O&&(O.id&&(C.id=O.id),O.lights&&(C.lights=function($){if(!$.length)return[];const z=function(ee){const le=atob(ee),ue=new Uint8Array(le.length);for(let ie=0;ie<le.length;ie++)ue[ie]=le.codePointAt(ie);return ue}($),P=[],A=z.length/24,k=new Uint16Array(z.buffer),X=new Float32Array(z.buffer);for(let ee=0;ee<A;ee++){const le=k[2*ee*6]/30,ue=k[2*ee*6+1]/30,ie=k[2*ee*6+10]/100,ye=X[6*ee+1],Se=X[6*ee+2],$e=X[6*ee+3],et=X[6*ee+4],Ye=$e-ye,Xe=et-Se,Ct=Math.hypot(Ye,Xe);P.push({pos:[ye+.5*Ye,Se+.5*Xe,ue],normal:[Xe/Ct,-Ye/Ct,0],width:Ct,height:le,depth:ie,points:[ye,Se,$e,et]})}return P}(O.lights))),L){const $=[];for(const z of L)$.push(Vg(n.json.nodes[z],n,a));C.children=$}return C}function xm(c){if(c.vertices.length===0||c.indices.length===0)return null;const n=new Kp(c.vertices,c.indices,8,256),[a,f]=[n.min.clone(),n.max.clone()];return{vertices:c.vertices,indices:c.indices,grid:n,min:a,max:f}}function xh(c){if(!c.extras||!c.extras.ground)return null;const n=c.extras.ground;if(!n||!Array.isArray(n)||n.length===0)return null;const a=n[0];if(!a||!Array.isArray(a)||a.length===0)return null;const f=[];for(const y of a){if(!Array.isArray(y)||y.length!==2)continue;const E=y[0],O=y[1];typeof E=="number"&&typeof O=="number"&&f.push(new Sn(E,O))}if(f.length<3)return null;f.length>1&&f[f.length-1].equals(f[0])&&f.pop();let v=0;for(let y=0;y<f.length;y++){const E=f[y],O=f[(y+1)%f.length],L=f[(y+2)%f.length];v+=(E.x-O.x)*(L.y-O.y)-(L.x-O.x)*(E.y-O.y)}v>0&&f.reverse();const h=eg(f.flatMap(y=>[y.x,y.y]),[]);return h.length===0?null:{vertices:f,indices:h}}function Hg(c,n){const a=[],f=[];let v=0;const h=[];for(const y of c){v=a.length;const E=y.vertexArray.float32,O=y.indexArray.uint16;for(let L=0;L<y.vertexArray.length;L++)h[0]=E[3*L+0],h[1]=E[3*L+1],h[2]=E[3*L+2],J.vec3.transformMat4(h,h,n),a.push(new Sn(h[0],h[1]));for(let L=0;L<3*y.indexArray.length;L++)f.push(O[L]+v)}if(f.length%3!=0)return null;for(let y=0;y<f.length;y+=3){const E=a[f[y+0]],O=a[f[y+1]],L=a[f[y+2]];(E.x-O.x)*(L.y-O.y)-(L.x-O.x)*(E.y-O.y)>0&&([f[y+1],f[y+2]]=[f[y+2],f[y+1]])}return{vertices:a,indices:f}}function Ug(c){const n=function(O,L){const C=[],$=WebGL2RenderingContext;if(O.json.textures)for(const z of O.json.textures){const P={magFilter:$.LINEAR,minFilter:$.NEAREST,wrapS:$.REPEAT,wrapT:$.REPEAT};z.sampler!==void 0&&Object.assign(P,O.json.samplers[z.sampler]),C.push({image:L[z.source],sampler:P,uploaded:!1})}return C}(c,c.images),a=function(O,L){const C=[];for(const $ of O.json.meshes){const z=[];for(const P of $.primitives)z.push(hp(P,O,L));C.push(z)}return C}(c,n),{scenes:f,scene:v,nodes:h}=c.json,y=f?f[v||0].nodes:h,E=[];for(const O of y)E.push(Vg(h[O],c,a));return function(O,L,C){const $={},z=new Set;for(let P=0;P<O.length;P++){const A=C[L[P]];if(!A.extras)continue;const k=A.extras["mapbox:footprint:version"],X=A.extras["mapbox:footprint:id"];(k||X)&&z.add(P),k==="1.0.0"&&X&&($[X]=P)}for(let P=0;P<O.length;P++){if(z.has(P))continue;const A=O[P],k=C[L[P]];if(!k.extras)continue;let X=null;A.id in $&&(X=Hg(O[$[A.id]].meshes,A.matrix)),X||(X=xh(k)),X&&(A.footprint=xm(X))}if(z.size>0){const P=Array.from(z.values()).sort((A,k)=>A-k);for(let A=P.length-1;A>=0;A--)O.splice(P[A],1)}}(E,y,c.json.nodes),E}function nS(c){c.heightmap=new Float32Array(4096),c.heightmap.fill(-1);const n=c.vertexArray.float32,a=c.aabb.min[0]-1,f=c.aabb.min[1]-1,v=ap/(c.aabb.max[0]-a+2),h=ap/(c.aabb.max[1]-f+2);for(let y=0;y<n.length;y+=3){const E=n[y+2],O=(n[y+0]-a)*v|0,L=(n[y+1]-f)*h|0;E>c.heightmap[L*ap+O]&&(c.heightmap[L*ap+O]=E)}}function Cm(c,n){const a={};a.indexArray=new tc,a.indexArray.reserve(4*c.length),a.vertexArray=new qu,a.vertexArray.reserve(10*c.length),a.colorArray=new hf,a.vertexArray.reserve(10*c.length);let f=0;for(const y of c){const E=Math.min(10,Math.max(4,1.3*y.height))*n,O=[-y.normal[1],y.normal[0],0],L=Math.min(.29,.1*y.width/y.depth),C=y.width-2*y.depth*n*(L+.01),$=J.vec3.scaleAndAdd([],y.pos,O,C/2),z=J.vec3.scaleAndAdd([],y.pos,O,-C/2),P=[$[0],$[1],$[2]+y.height],A=[z[0],z[1],z[2]+y.height],k=J.vec3.scaleAndAdd([],y.normal,O,L);J.vec3.scale(k,k,E);const X=J.vec3.scaleAndAdd([],y.normal,O,-L);J.vec3.scale(X,X,E),J.vec3.add(k,$,k),J.vec3.add(X,z,X),$[2]+=.1,z[2]+=.1,a.vertexArray.emplaceBack(k[0],k[1],k[2]),a.vertexArray.emplaceBack(X[0],X[1],X[2]),a.vertexArray.emplaceBack($[0],$[1],$[2]),a.vertexArray.emplaceBack(z[0],z[1],z[2]),a.vertexArray.emplaceBack(P[0],P[1],P[2]),a.vertexArray.emplaceBack(A[0],A[1],A[2]),a.vertexArray.emplaceBack($[0],$[1],$[2]),a.vertexArray.emplaceBack(z[0],z[1],z[2]),a.vertexArray.emplaceBack(k[0],k[1],k[2]),a.vertexArray.emplaceBack(X[0],X[1],X[2]);const ee=C/E/2;a.colorArray.emplaceBack(-ee-L,-1,ee,.8),a.colorArray.emplaceBack(ee+L,-1,ee,.8),a.colorArray.emplaceBack(-ee,0,ee,1.3),a.colorArray.emplaceBack(ee,0,ee,1.3),a.colorArray.emplaceBack(ee+L,-.8,ee,.7),a.colorArray.emplaceBack(ee+L,-.8,ee,.7),a.colorArray.emplaceBack(0,0,ee,1.3),a.colorArray.emplaceBack(0,0,ee,1.3),a.colorArray.emplaceBack(ee+L,-1.2,ee,.8),a.colorArray.emplaceBack(ee+L,-1.2,ee,.8),a.indexArray.emplaceBack(6+f,4+f,8+f),a.indexArray.emplaceBack(7+f,9+f,5+f),a.indexArray.emplaceBack(0+f,1+f,2+f),a.indexArray.emplaceBack(1+f,3+f,2+f),f+=10}const v={defined:!0,emissiveFactor:[0,0,0]},h={};return h.baseColorFactor=no.white,v.pbrMetallicRoughness=h,a.material=v,a.aabb=new Ni([1/0,1/0,1/0],[-1/0,-1/0,-1/0]),a}class Wg{constructor(n){this._stringToNumber={},this._numberToString=[];for(let a=0;a<n.length;a++){const f=n[a];this._stringToNumber[f]=a,this._numberToString[a]=f}}encode(n){return this._stringToNumber[n]}decode(n){return this._numberToString[n]}}const rS=["id","tile","layer","source","sourceLayer","state"];class wm{constructor(n,a,f,v,h){this.type="Feature",this._vectorTileFeature=n,this._z=a,this._x=f,this._y=v,this.properties=n.properties,this.id=h}clone(){const n=new wm(this._vectorTileFeature,this._z,this._x,this._y,this.id);return this.state&&(n.state=Object.assign({},this.state)),this.layer&&(n.layer=Object.assign({},this.layer)),this.source&&(n.source=this.source),this.sourceLayer&&(n.sourceLayer=this.sourceLayer),n}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry}set geometry(n){this._geometry=n}toJSON(){const n={type:"Feature",state:void 0,geometry:this.geometry,properties:this.properties};for(const a of rS)this[a]!==void 0&&(n[a]=this[a]);return n}}class Tx{constructor(n,a){this.tileID=n,this.x=n.canonical.x,this.y=n.canonical.y,this.z=n.canonical.z,this.grid=new tf(Fr,16,0),this.featureIndexArray=new Yu,this.promoteId=a,this.is3DTile=!1,this.serializedLayersCache=new Map}insert(n,a,f,v,h,y=0,E=0){const O=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(f,v,h,y);const L=this.grid;for(let C=0;C<a.length;C++){const $=a[C],z=[1/0,1/0,-1/0,-1/0];for(let P=0;P<$.length;P++){const A=$[P];z[0]=Math.min(z[0],A.x),z[1]=Math.min(z[1],A.y),z[2]=Math.max(z[2],A.x),z[3]=Math.max(z[3],A.y)}E!==0&&(z[0]-=E,z[1]-=E,z[2]+=E,z[3]+=E),z[0]<Fr&&z[1]<Fr&&z[2]>=0&&z[3]>=0&&L.insert(O,z[0],z[1],z[2],z[3])}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new Yp.VectorTile(new G0(this.rawTileData)).layers,this.sourceLayerCoder=new Wg(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={};for(const n in this.vtLayers)this.vtFeatures[n]=[]}return this.vtLayers}query(n,a){const{tilespaceGeometry:f,transform:v,tileTransform:h,pixelPosMatrix:y,availableImages:E}=a;this.loadVTLayers(),this.serializedLayersCache.clear();const O=f.bufferedTilespaceBounds,L=this.grid.query(O.min.x,O.min.y,O.max.x,O.max.y,(P,A,k,X)=>yt(f.bufferedTilespaceGeometry,P,A,k,X));L.sort(Gg);let C=null;v.elevation&&L.length>0&&(C=sp.create(v.elevation,this.tileID));const $={};let z;for(let P=0;P<L.length;P++){const A=L[P];if(A===z)continue;z=A;const k=this.featureIndexArray.get(A);let X=null;this.is3DTile?this.loadMatchingModelFeature($,k,n,f,v):this.loadMatchingFeature($,k,n,E,(ee,le,ue,ie=0)=>(X||(X=G(ee,this.tileID.canonical,h)),le.queryIntersectsFeature(f,ee,ue,X,this.z,v,y,C,ie)))}return $}loadMatchingFeature(n,a,f,v,h){const{featureIndex:y,bucketIndex:E,sourceLayerIndex:O,layoutVertexArrayOffset:L}=a,C=this.bucketLayerIDs[E],$=f.layers,z=Object.keys($);if(z.length&&!function(ee,le){for(let ue=0;ue<ee.length;ue++)if(le.indexOf(ee[ue])>=0)return!0;return!1}(z,C))return;const P=f.sourceCache,A=this.sourceLayerCoder.decode(O),k=this.vtLayers[A].feature(y),X=this.getId(k,A);for(let ee=0;ee<C.length;ee++){const le=C[ee];if(!$[le])continue;const{styleLayer:ue,targets:ie}=$[le];let ye={};X!==void 0&&(ye=P.getFeatureState(ue.sourceLayer,X));const Se=!h||h(k,ue,ye,L);if(!Se)continue;const $e=new wm(k,this.z,this.x,this.y,X);$e.tile=this.tileID.canonical,$e.state=ye;let et=this.serializedLayersCache.get(le);et||(et=ue.serialize(),et.id=le,this.serializedLayersCache.set(le,et)),$e.source=et.source,$e.sourceLayer=et["source-layer"],$e.layer=ya({},et),$e.layer.paint=Mx(et.paint,ue.paint,k,ye,v),$e.layer.layout=Mx(et.layout,ue.layout,k,ye,v);let Ye=!1;for(const Xe of ie){this.updateFeatureProperties($e,Xe);const{filter:Ct}=Xe;if(Ct){if(k.properties=$e.properties,Ct.needGeometry){const at=te(k,!0);if(!Ct.filter(new Xs(this.tileID.overscaledZ),at,this.tileID.canonical))continue}else if(!Ct.filter(new Xs(this.tileID.overscaledZ),k))continue}Ye=!0,Xe.targetId&&this.addFeatureVariant($e,Xe)}Ye&&this.appendToResult(n,le,y,$e,Se)}}loadMatchingModelFeature(n,a,f,v,h){const y=this.bucketLayerIDs[0][0],E=f.layers;if(!E[y])return;const{styleLayer:O,targets:L}=E[y];if(O.type!=="model")return;const C=v.tile,$=a.featureIndex,z=C.getBucket(O);if(!(z&&z instanceof d_))return;const P=function(et,Ye,Xe,Ct){const at=et.getNodesInfo()[Ye];if(at.hiddenByReplacement||!at.node.meshes)return;let St=Number.MAX_VALUE;const At=at.node,$t=Xe.tile,Ft=Ct.calculatePosMatrix($t.tileID.toUnwrapped(),Ct.worldSize),Yt=at.evaluatedScale;let un=0;Ct.elevation&&At.elevation&&(un=At.elevation*Ct.elevation.exaggeration()),J.mat4.translate(Ft,Ft,[(At.anchor?At.anchor[0]:0)*(Yt[0]-1),(At.anchor?At.anchor[1]:0)*(Yt[1]-1),un]),J.mat4.scale(Ft,Ft,Yt);const Wt=Xe.queryGeometry,jn=Wt.isPointQuery()?Wt.screenBounds:Wt.screenGeometry,cr=function(Yr){const kr=J.mat4.multiply([],Ft,Yr.matrix);J.mat4.multiply(kr,Ct.expandedFarZProjMatrix,kr);for(let br=0;br<Yr.meshes.length;++br){const fr=Yr.meshes[br];if(br===Yr.lightMeshIndex)continue;const Mi=L1(jn,Ct,kr,fr.aabb);Mi!=null&&(St=Math.min(Mi,St))}if(Yr.children)for(const br of Yr.children)cr(br)};if(cr(At),St===Number.MAX_VALUE)return;const kn=new os(0,0);return f_($t.tileID.canonical,kn,at.node.anchor[0],at.node.anchor[1]),{intersectionZ:St,position:kn,feature:at.feature}}(z,$,v,h);if(!P)return;const{z:A,x:k,y:X}=C.tileID.canonical,{feature:ee,intersectionZ:le,position:ue}=P;let ie={};ee.id!==void 0&&(ie=f.sourceCache.getFeatureState(O.sourceLayer,ee.id));const ye=new wm({},A,k,X,ee.id);ye.tile=this.tileID.canonical,ye.state=ie,ye.properties=ee.properties,ye.geometry={type:"Point",coordinates:[ue.lng,ue.lat]};let Se=this.serializedLayersCache.get(y);Se||(Se=O.serialize(),Se.id=y,this.serializedLayersCache.set(y,Se)),ye.source=Se.source,ye.sourceLayer=Se["source-layer"],ye.layer=ya({},Se);let $e=!1;for(const et of L){this.updateFeatureProperties(ye,et);const{filter:Ye}=et;if(Ye){if(ee.properties=ye.properties,Ye.needGeometry){if(!Ye.filter(new Xs(this.tileID.overscaledZ),ee,this.tileID.canonical))continue}else if(!Ye.filter(new Xs(this.tileID.overscaledZ),ee))continue}$e=!0,et.targetId&&this.addFeatureVariant(ye,et)}$e&&this.appendToResult(n,y,$,ye,le)}updateFeatureProperties(n,a,f){if(a.properties){const v={};for(const h in a.properties){const y=a.properties[h].evaluate({zoom:this.z},n._vectorTileFeature,n.state,n.tile,f);y!=null&&(v[h]=y)}n.properties=v}}addFeatureVariant(n,a,f){const v={target:a.target,namespace:a.namespace,uniqueFeatureID:a.uniqueFeatureID};a.properties&&(v.properties=n.properties),n.variants=n.variants||{},n.variants[a.targetId]=n.variants[a.targetId]||[],n.variants[a.targetId].push(v)}appendToResult(n,a,f,v,h){let y=n[a];y===void 0&&(y=n[a]=[]),y.push({featureIndex:f,feature:v,intersectionZ:h})}lookupSymbolFeatures(n,a,f,v,h){const y={};this.loadVTLayers();for(const E of n)this.loadMatchingFeature(y,{bucketIndex:a,sourceLayerIndex:f,featureIndex:E,layoutVertexArrayOffset:0},v,h);return y}loadFeature(n){const{featureIndex:a,sourceLayerIndex:f}=n;this.loadVTLayers();const v=this.sourceLayerCoder.decode(f),h=this.vtFeatures[v];if(h[a])return h[a];const y=this.vtLayers[v].feature(a);return h[a]=y,y}hasLayer(n){for(const a of this.bucketLayerIDs)for(const f of a)if(n===f)return!0;return!1}getId(n,a){let f=n.id;if(this.promoteId){const v=Array.isArray(this.promoteId)||typeof this.promoteId!="object"?this.promoteId:this.promoteId[a];if(v!=null)if(Array.isArray(v)){if(!this.promoteIdExpression){const h=Bf(v);if(h.result!=="success"){const y=h.value.map(E=>`${E.key}: ${E.message}`).join(", ");return void jr(`Failed to create expression for promoteId: ${y}`)}this.promoteIdExpression=h.value}this.promoteIdExpression._evaluator||(this.promoteIdExpression._evaluator=new za),f=this.promoteIdExpression.evaluate({zoom:0},n)}else f=n.properties[v];typeof f=="boolean"&&(f=Number(f))}return f}}function Mx(c,n,a,f,v){return ws(c,(h,y)=>{const E=n instanceof kf?n.get(y):null;return E&&E.evaluate?E.evaluate(a,f,v):E})}function Gg(c,n){return n-c}bi(Tx,"FeatureIndex",{omit:["rawTileData","sourceLayerCoder"]});const Sf=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class k_{static from(n){if(!(n instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[a,f]=new Uint8Array(n,0,2);if(a!==219)throw new Error("Data does not appear to be in a KDBush format.");const v=f>>4;if(v!==1)throw new Error(`Got v${v} data when expected v1.`);const h=Sf[15&f];if(!h)throw new Error("Unrecognized array type.");const[y]=new Uint16Array(n,2,1),[E]=new Uint32Array(n,4,1);return new k_(E,y,h,n)}constructor(n,a=64,f=Float64Array,v){if(isNaN(n)||n<0)throw new Error(`Unpexpected numItems value: ${n}.`);this.numItems=+n,this.nodeSize=Math.min(Math.max(+a,2),65535),this.ArrayType=f,this.IndexArrayType=n<65536?Uint16Array:Uint32Array;const h=Sf.indexOf(this.ArrayType),y=2*n*this.ArrayType.BYTES_PER_ELEMENT,E=n*this.IndexArrayType.BYTES_PER_ELEMENT,O=(8-E%8)%8;if(h<0)throw new Error(`Unexpected typed array class: ${f}.`);v&&v instanceof ArrayBuffer?(this.data=v,this.ids=new this.IndexArrayType(this.data,8,n),this.coords=new this.ArrayType(this.data,8+E+O,2*n),this._pos=2*n,this._finished=!0):(this.data=new ArrayBuffer(8+y+E+O),this.ids=new this.IndexArrayType(this.data,8,n),this.coords=new this.ArrayType(this.data,8+E+O,2*n),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+h]),new Uint16Array(this.data,2,1)[0]=a,new Uint32Array(this.data,4,1)[0]=n)}add(n,a){const f=this._pos>>1;return this.ids[f]=f,this.coords[this._pos++]=n,this.coords[this._pos++]=a,f}finish(){const n=this._pos>>1;if(n!==this.numItems)throw new Error(`Added ${n} items when expected ${this.numItems}.`);return Tv(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(n,a,f,v){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:h,coords:y,nodeSize:E}=this,O=[0,h.length-1,0],L=[];for(;O.length;){const C=O.pop()||0,$=O.pop()||0,z=O.pop()||0;if($-z<=E){for(let X=z;X<=$;X++){const ee=y[2*X],le=y[2*X+1];ee>=n&&ee<=f&&le>=a&&le<=v&&L.push(h[X])}continue}const P=z+$>>1,A=y[2*P],k=y[2*P+1];A>=n&&A<=f&&k>=a&&k<=v&&L.push(h[P]),(C===0?n<=A:a<=k)&&(O.push(z),O.push(P-1),O.push(1-C)),(C===0?f>=A:v>=k)&&(O.push(P+1),O.push($),O.push(1-C))}return L}within(n,a,f){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:v,coords:h,nodeSize:y}=this,E=[0,v.length-1,0],O=[],L=f*f;for(;E.length;){const C=E.pop()||0,$=E.pop()||0,z=E.pop()||0;if($-z<=y){for(let X=z;X<=$;X++)Ox(h[2*X],h[2*X+1],n,a)<=L&&O.push(v[X]);continue}const P=z+$>>1,A=h[2*P],k=h[2*P+1];Ox(A,k,n,a)<=L&&O.push(v[P]),(C===0?n-f<=A:a-f<=k)&&(E.push(z),E.push(P-1),E.push(1-C)),(C===0?n+f>=A:a+f>=k)&&(E.push(P+1),E.push($),E.push(1-C))}return O}}function Tv(c,n,a,f,v,h){if(v-f<=a)return;const y=f+v>>1;Px(c,n,y,f,v,h),Tv(c,n,a,f,y-1,1-h),Tv(c,n,a,y+1,v,1-h)}function Px(c,n,a,f,v,h){for(;v>f;){if(v-f>600){const L=v-f+1,C=a-f+1,$=Math.log(L),z=.5*Math.exp(2*$/3),P=.5*Math.sqrt($*z*(L-z)/L)*(C-L/2<0?-1:1);Px(c,n,a,Math.max(f,Math.floor(a-C*z/L+P)),Math.min(v,Math.floor(a+(L-C)*z/L+P)),h)}const y=n[2*a+h];let E=f,O=v;for(Xg(c,n,f,a),n[2*v+h]>y&&Xg(c,n,f,v);E<O;){for(Xg(c,n,E,O),E++,O--;n[2*E+h]<y;)E++;for(;n[2*O+h]>y;)O--}n[2*f+h]===y?Xg(c,n,f,O):(O++,Xg(c,n,O,v)),O<=a&&(f=O+1),a<=O&&(v=O-1)}}function Xg(c,n,a,f){j_(c,a,f),j_(n,2*a,2*f),j_(n,2*a+1,2*f+1)}function j_(c,n,a){const f=c[n];c[n]=c[a],c[a]=f}function Ox(c,n,a,f){const v=c-a,h=n-f;return v*v+h*h}d.$=xu,d.A=Ar,d.B=2,d.C=Ad,d.D=hm,d.E=xo,d.F=f1,d.G=class extends op{},d.H=Ta,d.I=w_,d.J=ms,d.K=p0,d.L=Pl,d.M=ol,d.N=Gl,d.O=Nf,d.P=Sn,d.Q=Zh,d.R=ma,d.S=d0,d.T=n_,d.U=Bf,d.V=op,d.W=Al,d.X=fc,d.Y=Ml,d.Z=ea,d._=go,d.a=function(c){return vi.API_CDN_URL_REGEX.test(c)},d.a$=wm,d.a0=kc,d.a1=Fc,d.a2=function(c){const n=c.value;let a=[];if(!n)return a;const f=Ta(n);return f!=="string"?(a=a.concat([new op(c.key,n,`string expected, "${f}" found`)]),a):(Z1(n,!0)||(a=a.concat([new op(c.key,n,`invalid url "${n}"`)])),a)},d.a3=gn,d.a4=Dp,d.a5=al,d.a6=Sr,d.a7=class{constructor(c){this.specification=c}possiblyEvaluate(c,n){return Ra(c.expression.evaluate(n))}interpolate(c,n,a){return{x:si(c.x,n.x,a),y:si(c.y,n.y,a),z:si(c.z,n.z,a),azimuthal:si(c.azimuthal,n.azimuthal,a),polar:si(c.polar,n.polar,a)}}},d.a8=Xs,d.a9=Nh,d.aA=Mu,d.aB=class{constructor(c){this.entries={},this.scheduler=c}request(c,n,a,f){const v=this.entries[c]=this.entries[c]||{callbacks:[]};if(v.result){const[h,y]=v.result;return this.scheduler?this.scheduler.add(()=>{f(h,y)},n):f(h,y),()=>{}}return v.callbacks.push(f),v.cancel||(v.cancel=a((h,y)=>{v.result=[h,y];for(const E of v.callbacks)this.scheduler?this.scheduler.add(()=>{E(h,y)},n):E(h,y);setTimeout(()=>delete this.entries[c],3e3)})),()=>{v.result||(v.callbacks=v.callbacks.filter(h=>h!==f),v.callbacks.length||(v.cancel(),delete this.entries[c]))}}},d.aC=wu,d.aD=function(c,n,a){const f=JSON.stringify(c.request);return c.data&&(this.deduped.entries[f]={result:[null,c.data]}),this.deduped.request(f,{type:"parseTile",isSymbolTile:c.isSymbolTile,zoom:c.tileZoom},v=>{const h=Ln(c.request,(y,E,O,L)=>{y?v(y):E&&v(null,{vectorTile:a?void 0:new Yp.VectorTile(new G0(E)),rawData:E,cacheControl:O,expires:L})});return()=>{h.cancel(),v()}},n)},d.aE=function(c){pi++,pi>Ee&&(c.getActor().send("enforceCacheSizeLimit",It),pi=0)},d.aF=function(c){return c<=1?1:Math.pow(2,Math.floor(Math.log(c)/Math.LN2))},d.aG=_r,d.aH=P1,d.aI=R1,d.aJ=sv,d.aK=function(c,n){const a=document.createElement("video");a.muted=!0,a.onloadstart=function(){n(null,a)};for(let f=0;f<c.length;f++){const v=document.createElement("source");Bn(c[f])||(a.crossOrigin="Anonymous"),v.src=c[f],a.appendChild(v)}return{cancel:()=>{}}},d.aL=ov,d.aM=function(c){return fetch(c).then(n=>n.arrayBuffer()).then(n=>Ev(n,0,c))},d.aN=Ug,d.aO=class{constructor(c,n,a,f){this.id=c,this.position=n!=null?new os(n[0],n[1]):new os(0,0),this.orientation=a!=null?a:[0,0,0],this.nodes=f,this.uploaded=!1,this.aabb=new Ni([1/0,1/0,1/0],[-1/0,-1/0,-1/0]),this.matrix=[]}_applyTransformations(c,n){if(J.mat4.multiply(c.matrix,n,c.matrix),c.meshes)for(const a of c.meshes){const f=Ni.applyTransformFast(a.aabb,c.matrix);this.aabb.encapsulate(f)}if(c.children)for(const a of c.children)this._applyTransformations(a,c.matrix)}computeBoundsAndApplyParent(){const c=J.mat4.identity([]);for(const n of this.nodes)this._applyTransformations(n,c)}computeModelMatrix(c,n,a,f,v,h,y=!1){Pw(this.matrix,this,c.transform,this.position,n,a,f,v,h,y)}upload(c){if(!this.uploaded){for(const n of this.nodes)U1(n,c);for(const n of this.nodes)Rg(n);this.uploaded=!0}}destroy(){for(const c of this.nodes)W1(c)}},d.aP=Li,d.aQ=am,d.aR=Dc,d.aS=Kl,d.aT=Rc,d.aU=tc,d.aV=Gr,d.aW=Zp,d.aX=zd,d.aY=function(){$c.isLoading()||$c.isLoaded()||Fh()!=="deferred"||yd()},d.aZ=uf,d.a_=te,d.aa=l,d.ab=J,d.ac=Ko,d.ad=kf,d.ae=Tc,d.af=si,d.ag=Fr,d.ah=ks,d.ai=or,d.aj=no,d.ak=class{constructor(c){this.specification=c}possiblyEvaluate(c,n){return function([a,f]){const v=Ra([1,a,f]);return{x:v.x,y:v.y,z:v.z}}(c.expression.evaluate(n))}interpolate(c,n,a){return{x:si(c.x,n.x,a),y:si(c.y,n.y,a),z:si(c.z,n.z,a)}}},d.al=function(c,n,a=0,f=!0){const v=new Sn(a,a),h=c.sub(v),y=n.add(v),E=[h,new Sn(y.x,h.y),y,new Sn(h.x,y.y)];return f&&E.push(h.clone()),E},d.am=function(c,n){const a=[];for(let f=0;f<c.length;f++){const v=Eo(f-1,-1,c.length-1),h=Eo(f+1,-1,c.length-1),y=c[f],E=c[h],O=c[v].sub(y).unit(),L=E.sub(y).unit(),C=L.angleWithSep(O.x,O.y),$=O.add(L).unit().mult(-1*n/Math.sin(C/2));a.push(y.add($))}return a},d.an=sm,d.ao=yt,d.ap=function(c,n,a=0){return J.vec3.fromValues(((n.x-a)*c.scale-c.x)*Fr,(n.y*c.scale-c.y)*Fr,ay(n.z,n.y))},d.aq=Ao,d.ar=sh,d.as=function(c){let n=1/0,a=1/0,f=-1/0,v=-1/0;for(const h of c)n=Math.min(n,h.x),a=Math.min(a,h.y),f=Math.max(f,h.x),v=Math.max(v,h.y);return{min:new Sn(n,a),max:new Sn(f,v)}},d.at=Tu,d.au=ft,d.av=b,d.aw=ri,d.ax=wc,d.ay=function(c,n){const a={};for(let f=0;f<n.length;f++){const v=n[f];v in c&&(a[v]=c[v])}return a},d.az=Qu,d.b=function(c){return vi.API_FONTS_REGEX.test(c)},d.b$=dm,d.b0=ds,d.b1=H0,d.b2=gy,d.b3=G,d.b4=Xu,d.b5=Fp,d.b6=Wi,d.b7=fl,d.b8=eg,d.b9=Qy,d.bA=Ey,d.bB=ch,d.bC=Gy,d.bD=Vy,d.bE=k_,d.bF=Eo,d.bG=Cn,d.bH=sc,d.bI=function(c,n,a){c[4*n+0]=a[0],c[4*n+1]=a[1],c[4*n+2]=a[2],c[4*n+3]=a[3]},d.bJ=du,d.bK=jc,d.bL=Xf,d.bM=bl,d.bN=Kh,d.bO=os,d.bP=Xy,d.bQ=Wn,d.bR=Ja,d.bS=um,d.bT=ar,d.bU=mc,d.bV=function(c,n,a,f,v,h,y,E,O){if(O.name==="globe")return mc(c,n,new ar(a,f,v),!1);const L=am({z:a,x:f,y:v},O);return new Ni([(h+L.x/L.scale)*n,n*(L.y/L.scale),y],[(h+L.x2/L.scale)*n,n*(L.y2/L.scale),E])},d.bW=function(c,n,a){let f=0;for(let v=0;v<2;++v)c[v]>0&&(f+=(c[v]-0)*(c[v]-0)),n[v]<0&&(f+=(0-n[v])*(0-n[v]));return f},d.bX=gl,d.bY=oy,d.bZ=function(c){const n=J.mat4.identity(new Float64Array(16));J.mat4.multiply(n,c.pixelMatrix,c.globeMatrix);const a=[0,Zc,0],f=[0,Vc,0];return J.vec3.transformMat4(a,a,n),J.vec3.transformMat4(f,f,n),[a[0]>0&&a[0]<=c.width&&a[1]>0&&a[1]<=c.height&&!ru(c,new os(c.center.lat,90)),f[0]>0&&f[0]<=c.width&&f[1]>0&&f[1]<=c.height&&!ru(c,new os(c.center.lat,-90))]},d.b_=function(c,n){const{scale:a}=c.tileTransform,f=a*Fr/(c.tileSize*Math.pow(2,n.zoom-c.tileID.overscaledZ+c.tileID.canonical.z));return J.mat2.scale(new Float32Array(4),n.inverseAdjustmentMatrix,[f,f])},d.ba=function(c,n){const a=Tc(n.zoom);if(a===0)return Ol(c);const f=rl(c),v=Ls(f),h=Tu(f.getWest())*n.worldSize,y=Tu(f.getEast())*n.worldSize,E=Mu(f.getNorth())*n.worldSize,O=Mu(f.getSouth())*n.worldSize,L=[h,E,0],C=[y,E,0],$=[h,O,0],z=[y,O,0],P=J.mat4.invert([],n.globeMatrix);return J.vec3.transformMat4(L,L,P),J.vec3.transformMat4(C,C,P),J.vec3.transformMat4($,$,P),J.vec3.transformMat4(z,z,P),v[0]=$l(v[0],$,a),v[1]=$l(v[1],z,a),v[2]=$l(v[2],C,a),v[3]=$l(v[3],L,a),Ni.fromPoints(v)},d.bb=Hl,d.bc=Rs,d.bd=$l,d.be=Uf,d.bf=Vi,d.bg=$_,d.bh=G0,d.bi=Ln,d.bj=function(c){const n=[];for(const a in c)n.push(c[a]);return n},d.bk=function(c,n){const a=[];for(const f in c)f in n||a.push(f);return a},d.bl=No,d.bm=["type","source","source-layer","minzoom","maxzoom","filter","layout"],d.bn=ei,d.bo=function(c,n){const{x:a,y:f}=c.point,v=zc(a,f,c.worldSize/c._pixelsPerMercatorPixel,0,0);return J.mat4.multiply(v,v,Bs(Ol(n)))},d.bp=rm,d.bq=hu,d.br=dg,d.bs=function(c,n,a,f,v){const h=5*n+2;c.float32[h+0]=a,c.float32[h+1]=f,c.float32[h+2]=v},d.bt=rv,d.bu=d1,d.bv=we,d.bw=vc,d.bx=Rb,d.by=j1,d.bz=Sy,d.c=aa,d.c$=(c,n,a,f,v,h,y,E)=>{const O=c.transform,L=O.pitch<15?nm(.07,.7,ri((14-O.zoom)/5,0,1)):.07,C=a.paint.get("line-trim-color-use-theme").constantOr("default")==="none";return{u_matrix:Xb(c,n,a,f),u_texsize:n.imageAtlasTexture?n.imageAtlasTexture.size:[0,0],u_pixels_to_tile_units:O.calculatePixelsToTileUnitsMatrix(n),u_device_pixel_ratio:v,u_width_scale:h,u_floor_width_scale:y,u_image:0,u_tile_units_to_pixels:Gb(n,O),u_units_to_pixels:[1/O.pixelsToGLUnits[0],1/O.pixelsToGLUnits[1]],u_alpha_discard_threshold:0,u_trim_offset:E,u_trim_fade_range:a.paint.get("line-trim-fade-range"),u_trim_color:a.paint.get("line-trim-color").toRenderColor(C?null:a.lut).toArray01(),u_emissive_strength:a.paint.get("line-emissive-strength"),u_zbias_factor:L,u_tile_to_meter:r(n.tileID.canonical,0)}},d.c0=A1,d.c1=function(c){const n=A1(c,!0);return J.mat2.invert([],[n[0],n[1],n[4],n[5]])},d.c2=Ga,d.c3=function(c){const{x:n,y:a}=c.point,{lng:f,lat:v}=c._center;return zc(n,a,c.worldSize,f,v)},d.c4=dr,d.c5=Rr,d.c6=yf,d.c7=function(c){const n=Math.round((c+45+360)%360/90)%4;return $i[n]},d.c8=45,d.c9=Xp,d.cA=class extends Eu{constructor(c){super(c),this.current=Up}set(c,n,a){if(this.fetchUniformLocation(c,n)){for(let f=0;f<9;f++)if(a[f]!==this.current[f]){this.current=a,this.gl.uniformMatrix3fv(this.location,!1,a);break}}}},d.cB=Zo,d.cC=function(c,n,a){const f=Tc(a.zoom),v=c.style.map._antialias,h=c.terrain&&c.terrain.exaggeration()>0;return f===0&&!v&&!h},d.cD=function(c){const n=c.pixelsPerMeter,a=n/sc(1,c.center.lat),f=J.mat4.identity(new Float64Array(16));return J.mat4.translate(f,f,[c.point.x,c.point.y,0]),J.mat4.scale(f,f,[a,a,n]),Float32Array.from(f)},d.cE=rl,d.cF=function(c){const n=gl-5;c=ri(c,-n,n)/n*90;const a=Math.pow(Math.abs(Math.sin(or(c))),3);return Math.round(a*(Wp.length-1))},d.cG=function(c,n,a,f){const v=n.getNorth(),h=n.getSouth(),y=n.getWest(),E=n.getEast(),O=1<<c.z,L=E-y,C=v-h,$=L/qf,z=-C/Wp[a],P=[0,$,0,z,0,0,v,y,0];if(c.z>0){const A=180/f;J.mat3.multiply(P,P,[A/L+1,0,0,0,A/C+1,0,-.5*A/$,.5*A/z,1])}return P[2]=O,P[5]=c.x,P[8]=c.y,P},d.cH=Ol,d.cI=function(c,n,a){const f=J.mat4.identity(new Float64Array(16)),v=(n/(1<<c)-.5)*Math.PI*2;return J.mat4.rotateY(f,a.globeMatrix,v),Float32Array.from(f)},d.cJ=class{isDataAvailableAtPoint(c){const n=this._source();if(this.isUsingMockSource()||!n||c.y<0||c.y>1)return!1;const a=n.getSource().maxzoom,f=1<<a,v=Math.floor(c.x),h=Math.floor((c.x-v)*f),y=Math.floor(c.y*f),E=this.findDEMTileFor(new _r(a,v,a,h,y));return!(!E||!E.dem)}getAtPointOrZero(c,n=0){return this.getAtPoint(c,n)||0}getAtPoint(c,n,a=!0){if(this.isUsingMockSource())return null;n==null&&(n=null);const f=this._source();if(!f||c.y<0||c.y>1)return n;const v=f.getSource().maxzoom,h=1<<v,y=Math.floor(c.x),E=c.x-y,O=new _r(v,y,v,Math.floor(E*h),Math.floor(c.y*h)),L=this.findDEMTileFor(O);if(!L||!L.dem)return n;const C=L.dem,$=1<<L.tileID.canonical.z,z=(E*$-L.tileID.canonical.x)*C.dim,P=(c.y*$-L.tileID.canonical.y)*C.dim,A=Math.floor(z),k=Math.floor(P);return(a?this.exaggeration():1)*si(si(C.get(A,k),C.get(A,k+1),P-k),si(C.get(A+1,k),C.get(A+1,k+1),P-k),z-A)}getAtTileOffset(c,n,a){const f=1<<c.canonical.z;return this.getAtPointOrZero(new l(c.wrap+(c.canonical.x+n/Fr)/f,(c.canonical.y+a/Fr)/f))}getAtTileOffsetFunc(c,n,a,f){return v=>{const h=this.getAtTileOffset(c,v.x,v.y),y=f.upVector(c.canonical,v.x,v.y),E=f.upVectorScale(c.canonical,n,a).metersToTile;return J.vec3.scale(y,y,h*E),y}}getForTilePoints(c,n,a,f){if(this.isUsingMockSource())return!1;const v=sp.create(this,c,f);return!!v&&(n.forEach(h=>{h[2]=this.exaggeration()*v.getElevationAt(h[0],h[1],a)}),!0)}getMinMaxForTile(c){if(this.isUsingMockSource())return null;const n=this.findDEMTileFor(c);if(!n||!n.dem)return null;const a=n.dem.tree,f=n.tileID,v=1<<c.canonical.z-f.canonical.z;let h=c.canonical.x/v-f.canonical.x,y=c.canonical.y/v-f.canonical.y,E=0;for(let O=0;O<c.canonical.z-f.canonical.z&&!a.leaves[E];O++){h*=2,y*=2;const L=2*Math.floor(y)+Math.floor(h);E=a.childOffsets[E]+L,h%=1,y%=1}return{min:this.exaggeration()*a.minimums[E],max:this.exaggeration()*a.maximums[E]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(c,n,a){throw new Error("Pure virtual method called.")}pointCoordinate(c){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}isUsingMockSource(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(c){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}getMinMaxForVisibleTiles(){const c=this.visibleDemTiles;if(c.length===0)return null;let n=!1,a=Number.MAX_VALUE,f=Number.MIN_VALUE;for(const v of c){const h=this.getMinMaxForTile(v.tileID);h&&(a=Math.min(a,h.min),f=Math.max(f,h.max),n=!0)}return n?{min:a,max:f}:null}},d.cK=xb,d.cL=Ba,d.cM=function(c,n){return[Math.pow(c[0],2.2)*n,Math.pow(c[1],2.2)*n,Math.pow(c[2],2.2)*n]},d.cN=tu,d.cO=hi,d.cP=$r,d.cQ=256,d.cR=function(c,n){const a=[0,0,0],f=Hl(Ol(n.canonical));return J.vec3.transformMat4(a,a,f),J.vec3.transformMat4(a,a,c),a},d.cS=c=>({u_camera_to_center_distance:new bl(c),u_extrude_scale:new Ym(c),u_device_pixel_ratio:new bl(c),u_matrix:new du(c),u_inv_rot_matrix:new du(c),u_merc_center:new jc(c),u_tile_id:new Xf(c),u_zoom_transition:new bl(c),u_up_dir:new Xf(c),u_emissive_strength:new bl(c)}),d.cT=c=>({u_matrix:new du(c),u_pixels_to_tile_units:new Ym(c),u_device_pixel_ratio:new bl(c),u_width_scale:new bl(c),u_floor_width_scale:new bl(c),u_units_to_pixels:new jc(c),u_dash_image:new Kh(c),u_gradient_image:new Kh(c),u_image_height:new bl(c),u_texsize:new jc(c),u_tile_units_to_pixels:new bl(c),u_alpha_discard_threshold:new bl(c),u_trim_offset:new jc(c),u_trim_fade_range:new jc(c),u_trim_color:new Hp(c),u_emissive_strength:new bl(c),u_zbias_factor:new bl(c),u_tile_to_meter:new bl(c)}),d.cU=c=>({u_matrix:new du(c),u_texsize:new jc(c),u_pixels_to_tile_units:new Ym(c),u_device_pixel_ratio:new bl(c),u_width_scale:new bl(c),u_floor_width_scale:new bl(c),u_image:new Kh(c),u_units_to_pixels:new jc(c),u_tile_units_to_pixels:new bl(c),u_alpha_discard_threshold:new bl(c),u_trim_offset:new jc(c),u_trim_fade_range:new jc(c),u_trim_color:new Hp(c),u_emissive_strength:new bl(c),u_zbias_factor:new bl(c),u_tile_to_meter:new bl(c)}),d.cV=Hm,d.cW=rw,d.cX=iw,d.cY=bf,d.cZ=(c,n,a,f,v,h)=>{const y=c.transform,E=y.projection.name==="globe";let O;if(h.paint.get("circle-pitch-alignment")==="map")if(E){const C=tu(y.zoom,n.canonical)*y._pixelsPerMercatorPixel;O=Float32Array.from([C,0,0,C])}else O=y.calculatePixelsToTileUnitsMatrix(a);else O=new Float32Array([y.pixelsToGLUnits[0],0,0,y.pixelsToGLUnits[1]]);const L={u_camera_to_center_distance:c.transform.getCameraToCenterDistance(y.projection),u_matrix:c.translatePosMatrix(n.projMatrix,a,h.paint.get("circle-translate"),h.paint.get("circle-translate-anchor")),u_device_pixel_ratio:ve.devicePixelRatio,u_extrude_scale:O,u_inv_rot_matrix:Td,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0],u_emissive_strength:h.paint.get("circle-emissive-strength")};if(E){L.u_inv_rot_matrix=f,L.u_merc_center=v,L.u_tile_id=[n.canonical.x,n.canonical.y,1<<n.canonical.z],L.u_zoom_transition=Tc(y.zoom);const C=v[0]*Fr,$=v[1]*Fr;L.u_up_dir=y.projection.upVector(new ar(0,0,0),C,$)}return L},d.c_=qb,d.ca=Hp,d.cb=function(c,n,a){const f=Math.sqrt(c*c+n*n+a*a),v=f>0?Math.acos(a/f)*Xr:0;let h=c!==0||n!==0?Math.atan2(-n,-c)*Xr+90:0;return h<0&&(h+=360),[f,h,v]},d.cc=r,d.cd=Ni,d.ce=Ra,d.cf=function(c){return[Math.pow(c[0],1/2.2),Math.pow(c[1],1/2.2),Math.pow(c[2],1/2.2)]},d.cg=function(c,n){return c.readFields(Dw,{icons:[]},n)},d.ch=function(c){return c({pluginStatus:Ec,pluginURL:of}),sf.on("pluginStateChange",c),c},d.ci=pv,d.cj=_g,d.ck=X0,d.cl=Sl,d.cm=Rp,d.cn=fe,d.co=Os,d.cp=bo,d.cq=function(c){const n=c.indexOf(Gu);return n>=0?c.slice(0,n):c},d.cr=function(c){return c.indexOf(Gu)>=0},d.cs=function(c){const n=c.indexOf(Gu);return n>=0?c.slice(n+1):""},d.ct=function(c){const n=[],a=c.id;return a===void 0&&n.push({message:`layers.${a}: missing required property "id"`}),c.render===void 0&&n.push({message:`layers.${a}: missing required method "render"`}),c.renderingMode&&c.renderingMode!=="2d"&&c.renderingMode!=="3d"&&n.push({message:`layers.${a}: property "renderingMode" must be either "2d" or "3d"`}),n},d.cu=function(c,n,a,f){return c.type==="custom"?new ip(c,n):new q1[c.type](c,n,a,f)},d.cv=Or,d.cw=class extends wm{constructor(c,n){super(c._vectorTileFeature,c._z,c._x,c._y,c.id),c.state&&(this.state=Object.assign({},c.state)),this.target=n.target,this.namespace=n.namespace,n.properties&&(this.properties=n.properties),this.target&&("featuresetId"in this.target&&!this.target.importId||"layerId"in this.target)&&(this.source=c.source,this.sourceLayer=c.sourceLayer,this.layer=c.layer)}toJSON(){const c=super.toJSON();return c.target=this.target,c.namespace=this.namespace,c}},d.cx=sf,d.cy=Lt,d.cz=Km,d.d=function(c){return vi.API_TILEJSON_REGEX.test(c)},d.d$=Tx,d.d0=(c,n,a,f,v,h,y,E,O)=>{const L=c.transform,C=L.calculatePixelsToTileUnitsMatrix(n),$=a.paint.get("line-trim-color-use-theme").constantOr("default")==="none",z=L.pitch<15?nm(.07,.7,ri((14-L.zoom)/5,0,1)):.07;return{u_matrix:Xb(c,n,a,f),u_pixels_to_tile_units:C,u_device_pixel_ratio:h,u_width_scale:y,u_floor_width_scale:E,u_units_to_pixels:[1/L.pixelsToGLUnits[0],1/L.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:v,u_texsize:Ay(a)&&n.lineAtlasTexture?n.lineAtlasTexture.size:[0,0],u_tile_units_to_pixels:Gb(n,c.transform),u_alpha_discard_threshold:0,u_trim_offset:O,u_trim_fade_range:a.paint.get("line-trim-fade-range"),u_trim_color:a.paint.get("line-trim-color").toRenderColor($?null:a.lut).toArray01(),u_emissive_strength:a.paint.get("line-emissive-strength"),u_zbias_factor:z,u_tile_to_meter:r(n.tileID.canonical,0)}},d.d1=so,d.d2=Qm,d.d3=Py,d.d4=oi,d.d5=tm,d.d6=rh,d.d7=450,d.d8=7,d.d9=Sw,d.dA=Da,d.dB=p,d.dC=Yf,d.dD=function([c,n,a]){const f=Math.hypot(c,n,a),v=Math.atan2(c,a),h=.5*Math.PI-Math.acos(-n/f);return new os(dr(v),dr(h))},d.dE=o_,d.dF=function(c){const n=c.navigator?c.navigator.userAgent:null;return!!function(a){if(il==null){const f=a.navigator?a.navigator.userAgent:null;il=!!a.safari||!(!f||!(/\b(iPad|iPhone|iPod)\b/.test(f)||f.match("Safari")&&!f.match("Chrome")))}return il}(c)&&n&&(n.match("Version/15.4")||n.match("Version/15.5")||n.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},d.dG=function(c,n){It=c,Ee=n},d.dH=ru,d.dI=nu,d.dJ=function(c){const n=[0,0,0],a=J.mat4.identity(new Float64Array(16));return J.mat4.multiply(a,c.pixelMatrix,c.globeMatrix),J.vec3.transformMat4(n,n,a),new Sn(n[0],n[1])},d.dK=function(c,n,a=!1){if(Ec===rf||Ec===vd||Ec===$p)throw new Error("setRTLTextPlugin cannot be called multiple times.");of=ve.resolveURL(c),Ec=rf,Wu=n,af(),a||yd()},d.dL=Fh,d.dM=function(){pv().acquire(p_)},d.dN=function(){const c=fv;c&&(c.isPreloaded()&&c.numActive()===1?(c.release(p_),fv=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},d.dO=lp,d.dP=function(c){const n=ur();if(!n)return;const a=n.delete(Nt);c&&a.catch(c).then(()=>c())},d.dQ=fm,d.dR=A_,d.dS=function(c){R_=ve.resolveURL(c),_h||(_h=new hm(pv(),new xo)),_h.broadcast("setDracoUrl",R_)},d.dT=Ex,d.dU=function(c){dp=ve.resolveURL(c),_h||(_h=new hm(pv(),new xo)),_h.broadcast("setMeshoptUrl",dp)},d.dV=bi,d.dW=Qf,d.dX=rd,d.dY=Yp,d.dZ=class{constructor(c,n){this.pos=c,this.dir=n}intersectsPlane(c,n,a){const f=J.vec2.dot(n,this.dir);if(Math.abs(f)<1e-6)return!1;const v=((c[0]-this.pos[0])*n[0]+(c[1]-this.pos[1])*n[1])/f;return a[0]=this.pos[0]+this.dir[0]*v,a[1]=this.pos[1]+this.dir[1]*v,!0}},d.d_=Wg,d.da=us,d.db=jp,d.dc=256,d.dd=Bs,d.de=qu,d.df=bd,d.dg=Ku,d.dh=function(c,n,a,f,v){return ri((c-n)/(a-n)*(v-f)+f,f,v)},d.di=Jd,d.dj=Jf,d.dk=class{constructor(c,n,a,f){this.context=c,this.format=f,this.size=a,this.texture=c.gl.createTexture();const[v,h,y]=this.size,{gl:E}=c;E.bindTexture(E.TEXTURE_3D,this.texture),c.pixelStoreUnpackFlipY.set(!1),c.pixelStoreUnpack.set(1),c.pixelStoreUnpackPremultiplyAlpha.set(!1),E.texImage3D(E.TEXTURE_3D,0,this.format,v,h,y,0,e_(this.format),t_(this.format),n.data)}bind(c,n){const{context:a}=this,{gl:f}=a;f.bindTexture(f.TEXTURE_3D,this.texture),c!==this.minFilter&&(f.texParameteri(f.TEXTURE_3D,f.TEXTURE_MAG_FILTER,c),f.texParameteri(f.TEXTURE_3D,f.TEXTURE_MIN_FILTER,c),this.minFilter=c),n!==this.wrapS&&(f.texParameteri(f.TEXTURE_3D,f.TEXTURE_WRAP_S,n),f.texParameteri(f.TEXTURE_3D,f.TEXTURE_WRAP_T,n),this.wrapS=n)}destroy(){const{gl:c}=this.context;c.deleteTexture(this.texture),this.texture=null}},d.dl=dv,d.dm=[1,1,1],d.dn=sp,d.dp=fh,d.dq=_d,d.dr=pf,d.ds=_f,d.dt=xd,d.du=Su,d.dv=class{constructor(){this._updateTime=0,this._sourceIds=[],this._activeRegions=[],this._prevRegions=[],this._globalClipBounds={min:new Sn(1/0,1/0),max:new Sn(-1/0,-1/0)}}clear(){this._activeRegions.length>0&&++this._updateTime,this._activeRegions=[],this._prevRegions=[]}get updateTime(){return this._updateTime}getReplacementRegionsForTile(c,n=!1){const a=wy(new Sn(0,0),new Sn(Fr,Fr),c),f=[];if(n&&!F0(a,this._globalClipBounds))return f;for(const v of this._activeRegions){if(v.hiddenByOverlap||!F0(a,v))continue;const h=Ab(v.min,v.max,c);f.push({min:h.min,max:h.max,sourceId:this._sourceIds[v.priority],footprint:v.footprint,footprintTileId:v.tileId,order:v.order,clipMask:v.clipMask,clipScope:v.clipScope})}return f}setSources(c){this._setSources(c.map(n=>({getSourceId:()=>n.cache.id,getFootprints:()=>{const a=[];for(const f of n.cache.getVisibleCoordinates()){const v=n.cache.getTile(f).buckets[n.layer];v&&v.updateFootprints(f.toUnwrapped(),a)}return a},getOrder:()=>n.order,getClipMask:()=>n.clipMask,getClipScope:()=>n.clipScope})))}_addSource(c){const n=c.getFootprints();if(n.length===0)return;const a=c.getOrder(),f=c.getClipMask(),v=c.getClipScope();for(const h of n){if(!h.footprint)continue;const y=wy(h.footprint.min,h.footprint.max,h.id);this._activeRegions.push({min:y.min,max:y.max,hiddenByOverlap:!1,priority:this._sourceIds.length,tileId:h.id,footprint:h.footprint,order:a,clipMask:f,clipScope:v})}this._sourceIds.push(c.getSourceId())}_computeReplacement(){this._activeRegions.sort((n,a)=>n.priority-a.priority||B0(n.min,a.min)||B0(n.max,a.max)||n.order-a.order||n.clipMask-a.clipMask||function(f,v){const h=(y,E)=>y+E;return f.length-v.length||f.reduce(h,"").localeCompare(v.reduce(h,""))}(n.clipScope,a.clipScope));let c=this._activeRegions.length!==this._prevRegions.length;if(!c){let n=0;for(;!c&&n!==this._activeRegions.length;){const a=this._activeRegions[n],f=this._prevRegions[n];c=a.priority!==f.priority||!xy(a,f)||a.order!==f.order||a.clipMask!==f.clipMask||!ei(a.clipScope,f.clipScope),++n}}if(c){++this._updateTime;for(const a of this._activeRegions)a.order!==Qp&&(this._globalClipBounds.min.x=Math.min(this._globalClipBounds.min.x,a.min.x),this._globalClipBounds.min.y=Math.min(this._globalClipBounds.min.y,a.min.y),this._globalClipBounds.max.x=Math.max(this._globalClipBounds.max.x,a.max.x),this._globalClipBounds.max.y=Math.max(this._globalClipBounds.max.y,a.max.y));const n=a=>{const f=this._activeRegions;if(a>=f.length)return a;const v=f[a].priority;for(;a<f.length&&f[a].priority===v;)++a;return a};if(this._sourceIds.length>1){let a=0,f=n(a);for(;a!==f;){let v=a;const h=a;for(;v!==f;){const y=this._activeRegions[v];y.hiddenByOverlap=!1;for(let E=0;E<h;E++){const O=this._activeRegions[E];if(!O.hiddenByOverlap&&y.order===Qp&&F0(y,O)&&(y.hiddenByOverlap=zb(y.footprint,y.tileId,O.footprint,O.tileId),y.hiddenByOverlap))break}++v}a=f,f=n(a)}}}}_setSources(c){[this._prevRegions,this._activeRegions]=[this._activeRegions,[]],this._sourceIds=[];for(let n=c.length-1;n>=0;n--)this._addSource(c[n]);this._computeReplacement()}},d.dw=class{constructor(c){this._createGrid(c),this._createPoles(c)}destroy(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();for(const c of this._poleSegments)c.destroy();for(const c of this._gridSegments)c.withSkirts.destroy(),c.withoutSkirts.destroy()}_fillGridMeshWithLods(c,n){const a=new Xu,f=new tc,v=[],h=c+1+2,y=n[0]+1,E=n[0]+1+(1+n.length),O=(L,C,$)=>{let z=L===h-1?L-2:L===0?L:L-1;return z+=$?24575:0,[z,C]};for(let L=0;L<h;++L)a.emplaceBack(...O(L,0,!0));for(let L=0;L<y;++L)for(let C=0;C<h;++C)a.emplaceBack(...O(C,L,(C===0||C===h-1)&&!0));for(let L=0;L<n.length;++L){const C=n[L];for(let $=0;$<h;++$)a.emplaceBack(...O($,C,!0))}for(let L=0;L<n.length;++L){const C=f.length,$=n[L]+1+2,z=new tc;for(let k=0;k<$-1;k++){const X=k===$-2,ee=X?h*(E-n.length+L-k):h;for(let le=0;le<h-1;le++){const ue=k*h+le;k===0||X||le===0||le===h-2?(z.emplaceBack(ue+1,ue,ue+ee),z.emplaceBack(ue+ee,ue+ee+1,ue+1)):(f.emplaceBack(ue+1,ue,ue+ee),f.emplaceBack(ue+ee,ue+ee+1,ue+1))}}const P=fl.simpleSegment(0,C,a.length,f.length-C);for(let k=0;k<z.uint16.length;k+=3)f.emplaceBack(z.uint16[k],z.uint16[k+1],z.uint16[k+2]);const A=fl.simpleSegment(0,C,a.length,f.length-C);v.push({withoutSkirts:P,withSkirts:A})}return{vertices:a,indices:f,segments:v}}_createGrid(c){const n=this._fillGridMeshWithLods(qf,Wp);this._gridSegments=n.segments,this._gridBuffer=c.createVertexBuffer(n.vertices,Wi.members),this._gridIndexBuffer=c.createIndexBuffer(n.indices,!0)}_createPoles(c){const n=new tc;for(let y=0;y<=qf;y++)n.emplaceBack(0,y+1,y+2);this._poleIndexBuffer=c.createIndexBuffer(n,!0);const a=new bd,f=new bd,v=new bd,h=new bd;this._poleSegments=[];for(let y=0,E=0;y<yf;y++){const O=360/(1<<y);a.emplaceBack(0,-wc,0,.5,0),f.emplaceBack(0,-wc,0,.5,1),v.emplaceBack(0,-wc,0,.5,.5),h.emplaceBack(0,-wc,0,.5,.5);for(let L=0;L<=qf;L++){let C=L/qf,$=0;const z=si(0,O,C),[P,A,k]=Kf(Id,fu,z,wc);a.emplaceBack(P,A,k,C,$),f.emplaceBack(P,A,k,C,1-$);const X=or(z);C=.5+.5*Math.sin(X),$=.5+.5*Math.cos(X),v.emplaceBack(P,A,k,C,$),h.emplaceBack(P,A,k,C,1-$)}this._poleSegments.push(fl.simpleSegment(E,0,66,64)),E+=66}this._poleNorthVertexBuffer=c.createVertexBuffer(a,Co,!1),this._poleSouthVertexBuffer=c.createVertexBuffer(f,Co,!1),this._texturedPoleNorthVertexBuffer=c.createVertexBuffer(v,Co,!1),this._texturedPoleSouthVertexBuffer=c.createVertexBuffer(h,Co,!1)}getGridBuffers(c,n){return[this._gridBuffer,this._gridIndexBuffer,n?this._gridSegments[c].withSkirts:this._gridSegments[c].withoutSkirts]}getPoleBuffers(c,n){return[n?this._texturedPoleNorthVertexBuffer:this._poleNorthVertexBuffer,n?this._texturedPoleSouthVertexBuffer:this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[c]]}},d.dx=Qp,d.dy=ha,d.dz=function(){return!!document.fullscreenElement||!!document.webkitFullscreenElement},d.e=vi,d.e0=Ry,d.e1=ws,d.e2=qn,d.e3=h1,d.e4=function(c,n,a,f,v,h,y,E,O,L,C=1,$,z){c.createArrays(),c.tilePixelRatio=Fr/(512*c.overscaling),c.compareText={},c.iconsNeedLinear=!1;const P=c.layers[0].layout,A=c.layers[0]._unevaluatedLayout._values,k={};k.scaleFactor=C,k.textSizeScaleRange=P.get("text-size-scale-range"),k.iconSizeScaleRange=P.get("icon-size-scale-range");const[X,ee]=k.textSizeScaleRange,[le,ue]=k.iconSizeScaleRange;if(k.textScaleFactor=ri(k.scaleFactor,X,ee),k.iconScaleFactor=ri(k.scaleFactor,le,ue),c.textSizeData.kind==="composite"){const{minZoom:$e,maxZoom:et}=c.textSizeData;k.compositeTextSizes=[A["text-size"].possiblyEvaluate(new Xs($e),E),A["text-size"].possiblyEvaluate(new Xs(et),E)]}if(c.iconSizeData.kind==="composite"){const{minZoom:$e,maxZoom:et}=c.iconSizeData;k.compositeIconSizes=[A["icon-size"].possiblyEvaluate(new Xs($e),E),A["icon-size"].possiblyEvaluate(new Xs(et),E)]}k.layoutTextSize=A["text-size"].possiblyEvaluate(new Xs(O+1),E),k.layoutIconSize=A["icon-size"].possiblyEvaluate(new Xs(O+1),E),k.textMaxSize=A["text-size"].possiblyEvaluate(new Xs(18),E);const ie=P.get("text-rotation-alignment")==="map"&&P.get("symbol-placement")!=="point",ye=P.get("text-size");let Se=!1;for(const $e of c.features)if($e.icon&&$e.icon.nameSecondary){Se=!0;break}for(const $e of c.features){const et=P.get("text-font").evaluate($e,{},E).join(","),Ye=ye.evaluate($e,{},E)*k.textScaleFactor,Xe=k.layoutTextSize.evaluate($e,{},E)*k.textScaleFactor,Ct=(k.layoutIconSize.evaluate($e,{},E),{horizontal:{},vertical:void 0}),at=$e.text;let St,At=[0,0];if(at){const Yt=at.toString(),un=P.get("text-letter-spacing").evaluate($e,{},E)*vc,Wt=P.get("text-line-height").evaluate($e,{},E)*vc,jn=Jv(Yt)?un:0,cr=P.get("text-anchor").evaluate($e,{},E),kn=P.get("text-variable-anchor");if(!kn){const Mi=P.get("text-radial-offset").evaluate($e,{},E);At=Mi?Gy(cr,[Mi*vc,K0]):P.get("text-offset").evaluate($e,{},E).map(ti=>ti*vc)}let Yr=ie?"center":P.get("text-justify").evaluate($e,{},E);const kr=P.get("symbol-placement")==="point",br=kr?P.get("text-max-width").evaluate($e,{},E)*vc:1/0,fr=Mi=>{c.allowVerticalPlacement&&Dm(Yt)&&(Ct.vertical=Zy(at,n,a,v,et,br,Wt,cr,Mi,jn,At,hu.vertical,!0,Xe,Ye))};if(!ie&&kn){const Mi=Yr==="auto"?kn.map(ui=>ch(ui)):[Yr];let ti=!1;for(let ui=0;ui<Mi.length;ui++){const wo=Mi[ui];if(!Ct.horizontal[wo])if(ti)Ct.horizontal[wo]=Ct.horizontal[0];else{const na=Zy(at,n,a,v,et,br,Wt,"center",wo,jn,At,hu.horizontal,!1,Xe,Ye);na&&(Ct.horizontal[wo]=na,ti=na.positionedLines.length===1)}}fr("left")}else{if(Yr==="auto"&&(Yr=ch(cr)),kr||P.get("text-writing-mode").indexOf("horizontal")>=0||!Dm(Yt)){const Mi=Zy(at,n,a,v,et,br,Wt,cr,Yr,jn,At,hu.horizontal,!1,Xe,Ye);Mi&&(Ct.horizontal[Yr]=Mi)}fr(kr?"left":Yr)}}let $t=!1;if($e.icon&&$e.icon.namePrimary){const Yt=By(c.iconSizeData,A["icon-size"],E,c.zoom,$e)*k.iconScaleFactor*$,un=$e.icon.getPrimary().scaleSelf(Yt).serialize(),Wt=f[un];Wt&&(St=a1(v[un],$e.icon.nameSecondary?v[$e.icon.getSecondary().scaleSelf(Yt).serialize()]:void 0,P.get("icon-offset").evaluate($e,{},E),P.get("icon-anchor").evaluate($e,{},E)),$t=Wt.sdf,c.sdfIcons===void 0?c.sdfIcons=Wt.sdf:c.sdfIcons!==Wt.sdf&&jr("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Wt.pixelRatio!==c.pixelRatio||P.get("icon-rotate").constantOr(1)!==0)&&(c.iconsNeedLinear=!0))}const Ft=J0(Ct.horizontal)||Ct.vertical;c.iconsInText||(c.iconsInText=!!Ft&&Ft.iconsInText),(Ft||St)&&g1(c,$e,Ct,St,f,k,Xe,0,At,$t,y,E,L,z,Se)}h&&c.generateCollisionDebugBuffers(O,c.collisionBoxArray,k.textScaleFactor)},d.e5=iu,d.e6=ki,d.e7=by,d.e8=e1,d.e9=Be,d.ea=function(c){let n=0;if(new Uint32Array(c,0,1)[0]!==N_){const a=new Uint32Array(c,0,7),[,,f,v,h,y]=a;n=a.byteLength+v+h+y+h,(f!==c.byteLength||n>=c.byteLength)&&jr("Invalid b3dm header information.")}return Ev(c,n)},d.eb=function(c,n){const a=Ug(c);for(const f of a){for(const v of f.meshes)nS(v);f.lights&&(f.lightMeshIndex=f.meshes.length,f.meshes.push(Cm(f.lights,n)))}return a},d.ec=d_,d.ed=h_,d.ee=$c,d.ef=function(c){lr(),nt!=null&&nt.then(n=>{n.keys().then(a=>{for(let f=0;f<a.length-c;f++)n.delete(a[f])})})},d.f=function(c){return c.indexOf("mapbox:")===0},d.g=function(c,n){return Lt(ya(c,{method:"GET"}),n)},d.h=oa,d.i=function(c){return vi.API_STYLE_REGEX.test(c)&&!aa(c)},d.j=function(c){return decodeURIComponent(atob(c).split("").map(n=>"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)).join(""))},d.k=function(c){return btoa(encodeURIComponent(c).replace(/%([0-9A-F]{2})/g,(n,a)=>String.fromCharCode(+("0x"+a))))},d.l=ya,d.m=ai,d.n=function(c,n){return Lt(ya(c,{type:"json"}),n)},d.o=mo,d.p=function(c,n){return Lt(ya(c,{method:"POST"}),n)},d.q=ve,d.r=Yl,d.s=function(c){try{const n=self[c];return n.setItem("_mapbox_test_",1),n.removeItem("_mapbox_test_"),!0}catch(n){return!1}},d.t=Fe,d.u=function(){return function c(n){return n?(n^Math.random()*(16>>n/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,c)}()},d.v=function(c){return!!c&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(c)},d.w=jr,d.x=function(){return hv||(hv=new lp),hv},d.y=_s,d.z=ys}),jt(["./shared"],function(d){function Be(Jt){const xe=Jt?Jt.url.toString():void 0;return xe?performance.getEntriesByName(xe):[]}function lt(Jt){if(typeof Jt=="number"||typeof Jt=="boolean"||typeof Jt=="string"||Jt==null)return JSON.stringify(Jt);if(Array.isArray(Jt)){let Me="[";for(const Fe of Jt)Me+=`${lt(Fe)},`;return`${Me}]`}let xe="{";for(const Me of Object.keys(Jt).sort())xe+=`${Me}:${lt(Jt[Me])},`;return`${xe}}`}function ot(Jt){let xe="";for(const Me of d.bm)(Jt.type!=="model"||Me!=="minzoom"&&Me!=="maxzoom")&&(xe+=`/${lt(Jt[Me])}`);return xe}class qe{constructor(xe){this.keyCache={},this._layers={},this._layerConfigs={},xe&&this.replace(xe)}replace(xe,Me){this._layerConfigs={},this._layers={},this.update(xe,[],Me)}update(xe,Me,Fe){this._options=Fe;for(const Ve of xe)this._layerConfigs[Ve.id]=Ve,(this._layers[Ve.id]=d.cu(Ve,this.scope,null,this._options)).compileFilter(Fe),this.keyCache[Ve.id]&&delete this.keyCache[Ve.id];for(const Ve of Me)delete this.keyCache[Ve],delete this._layerConfigs[Ve],delete this._layers[Ve];this.familiesBySource={};const ve=function(Ve,fe){const Nt={};for(let Ee=0;Ee<Ve.length;Ee++){const Tt=Ve[Ee];let nt=fe&&fe[Tt.id];!nt&&(nt=ot(Tt),Tt.type==="line"&&Tt.paint)&&function ur(lr){return typeof lr=="string"&&lr==="line-progress"||(Array.isArray(lr)?lr.some(ur):!(!lr||typeof lr!="object")&&Object.values(lr).some(ur))}(Tt.paint["line-width"])&&(nt+=`/${lt(Tt.paint["line-width"])}`),fe&&(fe[Tt.id]=nt);let Pn=Nt[nt];Pn||(Pn=Nt[nt]=[]),Pn.push(Tt)}const It=[];for(const Ee in Nt)It.push(Nt[Ee]);return It}(d.bj(this._layerConfigs),this.keyCache);for(const Ve of ve){const fe=Ve.map(Pn=>this._layers[Pn.id]),Nt=fe[0];if(Nt.visibility==="none")continue;const It=Nt.source||"";let Ee=this.familiesBySource[It];Ee||(Ee=this.familiesBySource[It]={});const Tt=Nt.sourceLayer||"_geojsonTileLayer";let nt=Ee[Tt];nt||(nt=Ee[Tt]=[]),nt.push(fe)}}}const De=1*d.dX;class Ae{constructor(xe){const Me={},Fe=[];for(const Nt in xe){const It=xe[Nt],Ee=Me[Nt]={};for(const Tt in It.glyphs){const nt=It.glyphs[+Tt];if(!nt||nt.bitmap.width===0||nt.bitmap.height===0)continue;const Pn=nt.metrics.localGlyph?De:1,ur={x:0,y:0,w:nt.bitmap.width+2*Pn,h:nt.bitmap.height+2*Pn};Fe.push(ur),Ee[Tt]=ur}}const{w:ve,h:Ve}=d.F(Fe),fe=new d.dW({width:ve||1,height:Ve||1});for(const Nt in xe){const It=xe[Nt];for(const Ee in It.glyphs){const Tt=It.glyphs[+Ee];if(!Tt||Tt.bitmap.width===0||Tt.bitmap.height===0)continue;const nt=Me[Nt][Ee],Pn=Tt.metrics.localGlyph?De:1;d.dW.copy(Tt.bitmap,fe,{x:0,y:0},{x:nt.x+Pn,y:nt.y+Pn},Tt.bitmap)}}this.image=fe,this.positions=Me}}d.dV(Ae,"GlyphAtlas");const zt="3d_elevation_id",qt="hd_road_elevation";class mt{constructor(){this._valid=!1}reset(xe){return this.feature=xe,this._valid=!0,this._geometry=xe.loadGeometry(),this._geometry.length!==0&&this._geometry[0].length!==0||(this._valid=!1),this}geometry(xe,Me){return this._valid&&xe(Me(this._geometry)),this}require(xe,Me,Fe){return this.get(xe,!0,Me,Fe)}optional(xe,Me,Fe){return this.get(xe,!1,Me,Fe)}success(){return this._valid}get(xe,Me,Fe,ve){const Ve=this.feature.properties.hasOwnProperty(xe)?+this.feature.properties[xe]:void 0;return this._valid&&Ve!==void 0?Fe(ve?ve(Ve):Ve):Me&&(this._valid=!1),this}}class Et{constructor(xe,Me){this.featureFunc=xe,this.vertexFunc=Me}parseFeature(xe,Me,Fe){return this.featureFunc(xe,Me,Fe)}parseVertex(xe,Me,Fe){return this.vertexFunc(xe,Me,Fe)}}const an=new Et((Jt,xe,Me)=>Jt.reset(xe).require(zt,Fe=>{Me.id=Fe}).optional("fixed_height_relative",Fe=>{Me.constantHeight=Fe},Zt.decodeRelativeHeight).geometry(Fe=>{Me.bounds=Fe},Zt.computeBounds).success(),(Jt,xe,Me)=>Jt.reset(xe).require(zt,Fe=>{Me.id=Fe}).require("elevation_idx",Fe=>{Me.idx=Fe}).require("extent",Fe=>{Me.extent=Fe}).require("height_relative",Fe=>{Me.height=Fe},Zt.decodeRelativeHeight).geometry(Fe=>{Me.position=Fe},Zt.getPoint).success()),Ht=new Et((Jt,xe,Me)=>Jt.reset(xe).require(zt,Fe=>{Me.id=Fe}).optional("fixed_height",Fe=>{Me.constantHeight=Fe},Zt.decodeMetricHeight).geometry(Fe=>{Me.bounds=Fe},Zt.computeBounds).success(),(Jt,xe,Me)=>Jt.reset(xe).require(zt,Fe=>{Me.id=Fe}).require("elevation_idx",Fe=>{Me.idx=Fe}).require("extent",Fe=>{Me.extent=Fe}).require("height",Fe=>{Me.height=Fe},Zt.decodeMetricHeight).geometry(Fe=>{Me.position=Fe},Zt.getPoint).success());class Zt{static computeBounds(xe){const Me=new d.P(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),Fe=new d.P(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY);for(const ve of xe[0])Me.x>ve.x&&(Me.x=ve.x),Me.y>ve.y&&(Me.y=ve.y),Fe.x<ve.x&&(Fe.x=ve.x),Fe.y<ve.y&&(Fe.y=ve.y);return{min:Me,max:Fe}}static getPoint(xe){return d.ab.vec2.fromValues(xe[0][0].x,xe[0][0].y)}static decodeRelativeHeight(xe){return 1e-4*xe*5}static decodeMetricHeight(xe){return 1e-4*xe}static parse(xe){const Me=[],Fe=[],ve=xe.length,Ve=new mt;for(let Nt=0;Nt<ve;Nt++){const It=xe.feature(Nt),Ee=It.properties.hasOwnProperty("version")?String(It.properties.version):void 0,Tt=(fe=Ee)?fe==="1.0.1"?Ht:void 0:an;if(Tt===void 0){d.w(`Unknown elevation feature version number ${Ee||"(unknown)"}`);continue}const nt=It.properties.hasOwnProperty("type")?It.properties.type:void 0;if(nt){if(d.dY.VectorTileFeature.types[It.type]==="Point"&&nt==="curve_point"){const Pn={};Tt.parseVertex(Ve,It,Pn)&&Me.push(Pn)}else if(d.dY.VectorTileFeature.types[It.type]==="Polygon"&&nt==="curve_meta"){const Pn={};Tt.parseFeature(Ve,It,Pn)&&Fe.push(Pn)}}}var fe;return{vertices:Me,features:Fe}}}class Qt{constructor(xe,Me,Fe,ve,Ve,fe){if(this.vertices=new Array,this.vertexProps=new Array,this.edges=new Array,this.edgeProps=new Array,this.id=xe,this.heightRange={min:Fe,max:Fe},this.safeArea=Me,this.constantHeight=Fe,this.constantHeight==null&&(this.constantHeight!=null||ve.length!==0)){this.vertices=ve,this.edges=Ve,this.edges=this.edges.filter(Nt=>Nt.a<this.vertices.length&&Nt.b<this.vertices.length&&!d.ab.vec2.exactEquals(this.vertices[Nt.a].position,this.vertices[Nt.b].position)),this.heightRange={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};for(const Nt of this.vertices)this.vertexProps.push({dir:d.ab.vec2.fromValues(0,0)}),this.heightRange.min=Math.min(this.heightRange.min,Nt.height),this.heightRange.max=Math.max(this.heightRange.max,Nt.height);for(const Nt of this.edges){const It=this.vertices[Nt.a].position,Ee=this.vertices[Nt.b].position,Tt=d.ab.vec2.subtract(d.ab.vec2.create(),Ee,It),nt=d.ab.vec2.length(Tt),Pn=d.ab.vec2.scale(d.ab.vec2.create(),Tt,1/nt);this.edgeProps.push({vec:Tt,dir:Pn,len:nt});const ur=this.vertexProps[Nt.a].dir,lr=this.vertexProps[Nt.b].dir;d.ab.vec2.add(ur,ur,Pn),d.ab.vec2.add(lr,lr,Pn)}for(const Nt of this.vertexProps)Nt.dir[0]===0&&Nt.dir[1]===0||d.ab.vec2.normalize(Nt.dir,Nt.dir);this.tessellate(fe)}}pointElevation(xe){if(this.constantHeight!=null)return this.constantHeight;const Me=this.getClosestEdge(xe);if(Me==null)return 0;const[Fe,ve]=Me;return(1-(Ve=ve))*this.vertices[this.edges[Fe].a].height+Ve*this.vertices[this.edges[Fe].b].height;var Ve}getClosestEdge(xe){if(this.edges.length===0)return;let Me=0,Fe=Number.POSITIVE_INFINITY,ve=0;const Ve=d.ab.vec2.fromValues(xe.x,xe.y);for(let fe=0;fe<this.edges.length;fe++){const Nt=this.edges[fe],It=this.edgeProps[fe].dir,Ee=new d.dZ(Ve,this.edgeProps[fe].dir),Tt=this.vertices[Nt.a].position,nt=this.vertices[Nt.b].position,Pn=d.ab.vec2.create(),ur=d.ab.vec2.create(),lr=Ee.intersectsPlane(Tt,this.vertexProps[Nt.a].dir,Pn),pi=Ee.intersectsPlane(nt,this.vertexProps[Nt.b].dir,ur);if(!lr||!pi)continue;const ai=d.ab.vec2.subtract(d.ab.vec2.create(),ur,Pn),Ei=d.ab.vec2.subtract(d.ab.vec2.create(),Ve,Pn),wi=d.ab.vec2.dot(ai,ai),Oo=wi>0?d.ab.vec2.dot(Ei,ai)/wi:0,Xo=d.aw(Oo,0,1),So=Math.abs((Oo-Xo)*this.edgeProps[fe].len),pa=d.ab.vec2.subtract(d.ab.vec2.create(),Ve,Tt),ma=So+Math.abs(d.ab.vec2.dot(pa,d.ab.vec2.fromValues(It[1],-It[0])));ma<Fe&&(Me=fe,Fe=ma,ve=Xo)}return[Me,ve]}tessellate(xe){for(let Me=this.edges.length-1;Me>=0;--Me){const Fe=this.edges[Me].a,ve=this.edges[Me].b,{position:Ve,height:fe,extent:Nt}=this.vertices[Fe],{position:It,height:Ee,extent:Tt}=this.vertices[ve],nt=this.vertexProps[Fe].dir,Pn=this.vertexProps[ve].dir,ur=d.ab.vec3.fromValues(Ve[0]/xe,Ve[1]/xe,fe),lr=d.ab.vec3.fromValues(It[0]/xe,It[1]/xe,Ee),pi=d.ab.vec3.fromValues(nt[1],-nt[0],0);d.ab.vec3.scale(pi,pi,Nt);const ai=d.ab.vec3.fromValues(Pn[1],-Pn[0],0);if(d.ab.vec3.scale(ai,ai,Tt),this.distSqLines(d.ab.vec3.fromValues(ur[0]+.5*pi[0],ur[1]+.5*pi[1],ur[2]+.5*pi[2]),d.ab.vec3.fromValues(lr[0]-.5*ai[0],lr[1]-.5*ai[1],lr[2]-.5*ai[2]),d.ab.vec3.fromValues(ur[0]-.5*pi[0],ur[1]-.5*pi[1],ur[2]-.5*pi[2]),d.ab.vec3.fromValues(lr[0]+.5*ai[0],lr[1]+.5*ai[1],lr[2]+.5*ai[2]))<=.05*.05)continue;const Ei=this.vertices.length,wi=d.ab.vec2.add(d.ab.vec2.create(),Ve,It);this.vertices.push({position:d.ab.vec2.scale(wi,wi,.5),height:.5*(fe+Ee),extent:.5*(Nt+Tt)});const Oo=d.ab.vec2.add(d.ab.vec2.create(),nt,Pn);this.vertexProps.push({dir:d.ab.vec2.normalize(Oo,Oo)}),this.edges.splice(Me,1),this.edgeProps.splice(Me,1),this.edges.push({a:Fe,b:Ei}),this.edges.push({a:Ei,b:ve});const Xo=d.ab.vec2.subtract(d.ab.vec2.create(),this.vertices[Ei].position,Ve),So=d.ab.vec2.length(Xo),pa={vec:Xo,dir:d.ab.vec2.scale(d.ab.vec2.create(),Xo,1/So),len:So};this.edgeProps.push(pa),this.edgeProps.push(pa)}}distSqLines(xe,Me,Fe,ve){const Ve=d.ab.vec3.subtract(d.ab.vec3.create(),Me,xe),fe=d.ab.vec3.subtract(d.ab.vec3.create(),ve,Fe),Nt=d.ab.vec3.subtract(d.ab.vec3.create(),xe,Fe),It=d.ab.vec3.dot(Ve,Ve),Ee=d.ab.vec3.dot(Ve,fe),Tt=d.ab.vec3.dot(Ve,Nt),nt=d.ab.vec3.dot(fe,fe),Pn=d.ab.vec3.dot(fe,Nt),ur=It*nt-Ee*Ee;if(ur===0){const wi=d.ab.vec3.dot(Nt,fe)/d.ab.vec3.dot(fe,fe),Oo=d.ab.vec3.lerp(d.ab.vec3.create(),Fe,ve,wi);return d.ab.vec3.squaredDistance(Oo,xe)}const lr=(Ee*Pn-Tt*nt)/ur,pi=(It*Pn-Ee*Tt)/ur,ai=d.ab.vec3.lerp(d.ab.vec3.create(),xe,Me,lr),Ei=d.ab.vec3.lerp(d.ab.vec3.create(),Fe,ve,pi);return d.ab.vec3.squaredDistance(ai,Ei)}}class vt{static parseFrom(xe,Me){const Fe=Zt.parse(xe);if(!Fe)return[];let{vertices:ve,features:Ve}=Fe;const fe=1/d.cc(Me);Ve.sort((Tt,nt)=>Tt.id-nt.id),ve.sort((Tt,nt)=>Tt.id-nt.id||Tt.idx-nt.idx),ve=ve.filter((Tt,nt,Pn)=>nt===Pn.findIndex(ur=>ur.id===Tt.id&&ur.idx===Tt.idx));const Nt=new Array;let It=0;const Ee=ve.length;for(const Tt of Ve){if(Tt.constantHeight){Nt.push(new Qt(Tt.id,Tt.bounds,Tt.constantHeight));continue}for(;It!==Ee&&ve[It].id<Tt.id;)It++;if(It===Ee||ve[It].id!==Tt.id)continue;const nt=new Array,Pn=new Array,ur=It;for(;It!==Ee&&ve[It].id===Tt.id;){const lr=ve[It];if(nt.push({position:lr.position,height:lr.height,extent:lr.extent}),It!==ur&&ve[It-1].idx===lr.idx-1){const pi=It-ur;Pn.push({a:pi-1,b:pi})}It++}Nt.push(new Qt(Tt.id,Tt.bounds,void 0,nt,Pn,fe))}return Nt}}d.dV(Qt,"ElevationFeature");class sn{constructor(xe){this.tileID=new d.aG(xe.tileID.overscaledZ,xe.tileID.wrap,xe.tileID.canonical.z,xe.tileID.canonical.x,xe.tileID.canonical.y),this.tileZoom=xe.tileZoom,this.uid=xe.uid,this.zoom=xe.zoom,this.lut=xe.lut,this.canonical=xe.tileID.canonical,this.pixelRatio=xe.pixelRatio,this.tileSize=xe.tileSize,this.source=xe.source,this.scope=xe.scope,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=xe.showCollisionBoxes,this.collectResourceTiming=!!xe.request&&xe.request.collectResourceTiming,this.promoteId=xe.promoteId,this.isSymbolTile=xe.isSymbolTile,this.tileTransform=d.aQ(xe.tileID.canonical,xe.projection),this.projection=xe.projection,this.worldview=xe.worldview,this.localizableLayerIds=xe.localizableLayerIds,this.brightness=xe.brightness,this.extraShadowCaster=!!xe.extraShadowCaster,this.tessellationStep=xe.tessellationStep,this.scaleFactor=xe.scaleFactor}parse(xe,Me,Fe,ve,Ve){this.status="parsing",this.data=xe,this.collisionBoxArray=new d.aW;const fe=new d.d_(Object.keys(xe.layers).sort()),Nt=new d.d$(this.tileID,this.promoteId);Nt.bucketLayerIDs=[];const It={},Ee=new d.e0(256,256),Tt={featureIndex:Nt,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:Ee,availableImages:Fe,brightness:this.brightness,scaleFactor:this.scaleFactor,elevationFeatures:void 0},nt=Me.familiesBySource[this.source];for(const wi in nt){const Oo=xe.layers[wi];if(!Oo)continue;let Xo=!1,So=!1,pa=!1;for(const Lt of nt[wi])Lt[0].type==="symbol"?Xo=!0:So=!0,Lt[0].is3D()&&Lt[0].type!=="model"&&(pa=!0);if(this.extraShadowCaster&&!pa||this.isSymbolTile===!0&&!Xo||this.isSymbolTile===!1&&!So)continue;Oo.version===1&&d.w(`Vector tile source "${this.source}" layer "${wi}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const ma=fe.encode(wi),Ea=[];let Sl=!1;for(let Lt=0,Ln=0;Lt<Oo.length;Lt++){const Bn=Oo.feature(Lt),tr=Nt.getId(Bn,wi);if(this.localizableLayerIds&&this.localizableLayerIds.has(wi)){const Lr=Bn.properties?Bn.properties.worldview:null;if(this.worldview&&typeof Lr=="string")if(Lr==="all")Bn.properties.$localized=!0;else{if(!Lr.split(",").includes(this.worldview))continue;Bn.properties.$localized=!0,Bn.properties.worldview=this.worldview}}!Sl&&Bn.properties&&Bn.properties.hasOwnProperty(zt)&&(Sl=!0),Ea.push({feature:Bn,id:tr,index:Ln,sourceLayerIndex:ma}),Ln++}Sl&&xe.layers.hasOwnProperty(qt)&&(Tt.elevationFeatures=vt.parseFrom(xe.layers[qt],this.canonical));for(const Lt of nt[wi]){const Ln=Lt[0];(!this.extraShadowCaster||Ln.is3D()&&Ln.type!=="model")&&(this.isSymbolTile!==void 0&&Ln.type==="symbol"!==this.isSymbolTile||Ln.minzoom&&this.zoom<Math.floor(Ln.minzoom)||Ln.maxzoom&&this.zoom>=Ln.maxzoom||Ln.visibility!=="none"&&(Xt(Lt,this.zoom,Tt.brightness,Fe),(It[Ln.id]=Ln.createBucket({index:Nt.bucketLayerIDs.length,layers:Lt,zoom:this.zoom,lut:this.lut,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:ma,sourceID:this.source,projection:this.projection.spec,tessellationStep:this.tessellationStep})).populate(Ea,Tt,this.tileID.canonical,this.tileTransform),Nt.bucketLayerIDs.push(Lt.map(Bn=>d.aC(Bn.id,Bn.scope)))))}}let Pn,ur,lr,pi;Ee.trim();const ai={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},Ei=()=>{if(Pn)return this.status="done",Ve(Pn);if(this.extraShadowCaster)this.status="done",Ve(null,{buckets:d.bj(It).filter(wi=>!wi.isEmpty()),featureIndex:Nt,collisionBoxArray:null,glyphAtlasImage:null,lineAtlas:null,imageAtlas:null,brightness:Tt.brightness,glyphMap:null,iconMap:null,glyphPositions:null});else if(ur&&lr&&pi){const wi=new Ae(ur),Oo=new d.e3(lr,pi,this.lut);for(const Xo in It){const So=It[Xo];So instanceof d.aX?(Xt(So.layers,this.zoom,Tt.brightness,Fe),d.e4(So,ur,wi.positions,lr,Oo.iconPositions,this.showCollisionBoxes,Fe,this.tileID.canonical,this.tileZoom,this.projection,this.scaleFactor,this.pixelRatio,this.brightness)):So.hasPattern&&(So instanceof d.b1||So instanceof d.b2||So instanceof d.d5)&&(Xt(So.layers,this.zoom,Tt.brightness,Fe),So.addFeatures(Tt,this.tileID.canonical,Oo.patternPositions,Fe,this.tileTransform,this.brightness))}this.status="done",Ve(null,{buckets:d.bj(It).filter(Xo=>!Xo.isEmpty()),featureIndex:Nt,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:wi.image,lineAtlas:Ee,imageAtlas:Oo,brightness:Tt.brightness})}};if(!this.extraShadowCaster){const wi=d.e1(Tt.glyphDependencies,So=>Object.keys(So).map(Number));Object.keys(wi).length?ve.send("getGlyphs",{uid:this.uid,stacks:wi,scope:this.scope},(So,pa)=>{Pn||(Pn=So,ur=pa,Ei())},void 0,!1,ai):ur={};const Oo=Object.keys(Tt.iconDependencies);Oo.length?ve.send("getImages",{icons:Oo,source:this.source,scope:this.scope,tileID:this.tileID,type:"icons"},(So,pa)=>{if(Pn)return;Pn=So;const ma={};Object.values(pa).some(Ea=>Ea.usvg)?this.rasterize(ve,ma,pa,Tt.iconDependencies,()=>{lr=ma,Ei()}):(this.fillImageMap(ma,Tt.iconDependencies,pa),lr=ma,Ei())},void 0,!1,ai):lr={};const Xo=Object.keys(Tt.patternDependencies);Xo.length?ve.send("getImages",{icons:Xo,source:this.source,scope:this.scope,tileID:this.tileID,type:"patterns"},(So,pa)=>{if(!Pn){Pn=So;const ma={};Object.values(pa).some(Ea=>Ea.usvg)?this.rasterize(ve,ma,pa,Tt.patternDependencies,()=>{pi=ma,Ei()}):(this.fillImageMap(ma,Tt.patternDependencies,pa),pi=ma,Ei())}},void 0,!1,ai):pi={}}Ei()}fillImageMap(xe,Me,Fe){for(const ve in Fe){const Ve=Me[ve]||[];for(const fe of Ve)Fe[fe.id].usvg||(xe[fe.serialize()]=Fe[fe.id])}}getImageTaskQueue(xe,Me,Fe){const ve={};for(const Ve in Me){const fe=Fe[Ve]||[];for(const Nt of fe){const It=Nt.serialize();Me[Nt.id].usvg?ve[It]||(ve[It]=Nt):xe[It]=Me[Nt.id]}}return ve}rasterize(xe,Me,Fe,ve,Ve){const fe=this.getImageTaskQueue(Me,Fe,ve);this.rasterizeTask=xe.send("rasterizeImages",{scope:this.scope,imageTasks:fe},(Nt,It)=>{if(!Nt)for(const Ee in It){const{id:Tt}=d.e2.deserializeFromString(Ee);Me[Ee]=Object.assign({},Fe[Tt],{data:It[Ee]})}Ve()})}cancelRasterize(){this.rasterizeTask&&this.rasterizeTask.cancel()}}function Xt(Jt,xe,Me,Fe){const ve=new d.a8(xe,{brightness:Me});for(const Ve of Jt)Ve.recalculate(ve,Fe)}class _n extends d.E{constructor(xe,Me,Fe,ve,Ve,fe){super(),this.actor=xe,this.layerIndex=Me,this.availableImages=Fe,this.loadVectorData=Ve||d.aD,this.loading={},this.loaded={},this.deduped=new d.aB(xe.scheduler),this.isSpriteLoaded=ve,this.scheduler=xe.scheduler,this.brightness=fe}loadTile(xe,Me){const Fe=xe.uid,ve=xe&&xe.request,Ve=ve&&ve.collectResourceTiming,fe=this.loading[Fe]=new sn(xe);fe.abort=this.loadVectorData(xe,(Nt,It)=>{const Ee=!this.loading[Fe];if(delete this.loading[Fe],fe.cancelRasterize(),Ee||Nt||!It)return fe.status="done",Ee||(this.loaded[Fe]=fe),Me(Nt);const Tt=It.rawData,nt={};It.expires&&(nt.expires=It.expires),It.cacheControl&&(nt.cacheControl=It.cacheControl),fe.vectorTile=It.vectorTile||new d.dY.VectorTile(new d.bh(Tt));const Pn=()=>{fe.parse(fe.vectorTile,this.layerIndex,this.availableImages,this.actor,(ur,lr)=>{if(ur||!lr)return Me(ur);const pi={};if(Ve){const ai=Be(ve);ai.length>0&&(pi.resourceTiming=JSON.parse(JSON.stringify(ai)))}Me(null,d.l({rawTileData:Tt.slice(0)},lr,nt,pi))})};this.isSpriteLoaded?Pn():this.once("isSpriteLoaded",()=>{this.scheduler?this.scheduler.add(Pn,{type:"parseTile",isSymbolTile:xe.isSymbolTile,zoom:xe.tileZoom}):Pn()}),this.loaded=this.loaded||{},this.loaded[Fe]=fe})}reloadTile(xe,Me){const Fe=this.loaded,ve=xe.uid;if(Fe&&Fe[ve]){const Ve=Fe[ve];Ve.scaleFactor=xe.scaleFactor,Ve.showCollisionBoxes=xe.showCollisionBoxes,Ve.projection=xe.projection,Ve.brightness=xe.brightness,Ve.tileTransform=d.aQ(xe.tileID.canonical,xe.projection),Ve.extraShadowCaster=xe.extraShadowCaster,Ve.lut=xe.lut;const fe=(Nt,It)=>{const Ee=Ve.reloadCallback;Ee&&(delete Ve.reloadCallback,Ve.parse(Ve.vectorTile,this.layerIndex,this.availableImages,this.actor,Ee)),Me(Nt,It)};Ve.status==="parsing"?Ve.reloadCallback=fe:Ve.status==="done"&&(Ve.vectorTile?Ve.parse(Ve.vectorTile,this.layerIndex,this.availableImages,this.actor,fe):fe())}else Me(null,void 0)}abortTile(xe,Me){const Fe=xe.uid,ve=this.loading[Fe];ve&&(ve.abort&&ve.abort(),delete this.loading[Fe]),Me()}removeTile(xe,Me){const Fe=this.loaded,ve=xe.uid;Fe&&Fe[ve]&&delete Fe[ve],Me()}}class En{loadTile(xe,Me){const{uid:Fe,encoding:ve,rawImageData:Ve,padding:fe}=xe,Nt=ImageBitmap&&Ve instanceof ImageBitmap?this.getImageData(Ve,fe):Ve;Me(null,new d.e5(Fe,Nt,ve,fe<1))}getImageData(xe,Me){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(xe.width,xe.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d",{willReadFrequently:!0})),this.offscreenCanvas.width=xe.width,this.offscreenCanvas.height=xe.height,this.offscreenCanvasContext.drawImage(xe,0,0,xe.width,xe.height);const Fe=this.offscreenCanvasContext.getImageData(-Me,-Me,xe.width+2*Me,xe.height+2*Me);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),Fe}}d.bg.setPbf(d.bh);class Nn{decodeRasterArray({task:xe,buffer:Me},Fe){d.bg.performDecoding(Me,xe).then(ve=>{Fe(null,ve)},ve=>{Fe(ve)})}}const fi=d.dY.VectorTileFeature.prototype.toGeoJSON;class Pt{constructor(xe){this._feature=xe,this.extent=d.ag,this.type=xe.type,this.properties=xe.tags,"id"in xe&&!isNaN(xe.id)&&(this.id=parseInt(xe.id,10))}loadGeometry(){if(this._feature.type===1){const xe=[];for(const Me of this._feature.geometry)xe.push([new d.P(Me[0],Me[1])]);return xe}{const xe=[];for(const Me of this._feature.geometry){const Fe=[];for(const ve of Me)Fe.push(new d.P(ve[0],ve[1]));xe.push(Fe)}return xe}}toGeoJSON(xe,Me,Fe){return fi.call(this,xe,Me,Fe)}}class Hr{constructor(xe){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=d.ag,this.length=xe.length,this._features=xe}feature(xe){return new Pt(this._features[xe])}}const Rn=64/4096,Fn=128;class Br{constructor(){this.features=new Map}clear(){this.features.clear()}load(xe=[],Me){for(const Fe of xe){const ve=Fe.id;if(ve==null)continue;let Ve=this.features.get(ve);Ve&&this.updateCache(Ve,Me),Fe.geometry?(Ve=nr(Fe),this.updateCache(Ve,Me),this.features.set(ve,Ve)):this.features.delete(ve),this.updateCache(Ve,Me)}}updateCache(xe,Me){for(const{canonical:Fe,uid:ve}of Object.values(Me)){const{z:Ve,x:fe,y:Nt}=Fe;Tr(xe,Math.pow(2,Ve),fe,Nt)&&delete Me[ve]}}getTile(xe,Me,Fe){const ve=Math.pow(2,xe),Ve=[];for(const fe of this.features.values())Tr(fe,ve,Me,Fe)&&Ve.push(Rt(fe,ve,Me,Fe));return{features:Ve}}getFeatures(){return[...this.features.values()]}}function Tr({minX:Jt,minY:xe,maxX:Me,maxY:Fe},ve,Ve,fe){return Jt<(Ve+1+Rn)/ve&&xe<(fe+1+Rn)/ve&&Me>(Ve-Rn)/ve&&Fe>(fe-Rn)/ve}function nr(Jt){const{id:xe,geometry:Me,properties:Fe}=Jt;if(!Me)return;if(Me.type==="GeometryCollection")throw new Error("GeometryCollection not supported in dynamic mode.");const{type:ve,coordinates:Ve}=Me,fe={id:xe,type:1,geometry:[],tags:Fe,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0},Nt=fe.geometry;if(ve==="Point")Qr(Ve,Nt,fe);else if(ve==="MultiPoint")for(const It of Ve)Qr(It,Nt,fe);else if(ve==="LineString")fe.type=2,Mr(Ve,Nt,fe);else if(ve==="MultiLineString")fe.type=2,Jn(Ve,Nt,fe);else if(ve==="Polygon")fe.type=3,Jn(Ve,Nt,fe,!0);else{if(ve!=="MultiPolygon")throw new Error("Input data is not a valid GeoJSON object.");fe.type=3;for(const It of Ve)Jn(It,Nt,fe,!0)}return fe}function Qr([Jt,xe],Me,Fe){const ve=d.at(Jt);let Ve=d.aA(xe);Ve=Ve<0?0:Ve>1?1:Ve,Me.push(ve,Ve),Fe.minX=Math.min(Fe.minX,ve),Fe.minY=Math.min(Fe.minY,Ve),Fe.maxX=Math.max(Fe.maxX,ve),Fe.maxY=Math.max(Fe.maxY,Ve)}function Mr(Jt,xe,Me,Fe=!1,ve=!1){const Ve=[];for(const fe of Jt)Qr(fe,Ve,Me);xe.push(Ve),Fe&&function(fe,Nt){let It=0;for(let Ee=0,Tt=fe.length,nt=Tt-2;Ee<Tt;nt=Ee,Ee+=2)It+=(fe[Ee]-fe[nt])*(fe[Ee+1]+fe[nt+1]);if(It>0===Nt)for(let Ee=0,Tt=fe.length;Ee<Tt/2;Ee+=2){const nt=fe[Ee],Pn=fe[Ee+1];fe[Ee]=fe[Tt-2-Ee],fe[Ee+1]=fe[Tt-1-Ee],fe[Tt-2-Ee]=nt,fe[Tt-1-Ee]=Pn}}(Ve,ve)}function Jn(Jt,xe,Me,Fe=!1){for(let ve=0;ve<Jt.length;ve++)Mr(Jt[ve],xe,Me,Fe,ve===0)}function Rt(Jt,xe,Me,Fe){const{id:ve,type:Ve,geometry:fe,tags:Nt}=Jt,It=[];if(Ve===1)(function(Ee,Tt,nt,Pn,ur){for(let lr=0;lr<Ee.length;lr+=2){const pi=Math.round(d.ag*(Ee[lr+0]*Tt-nt)),ai=Math.round(d.ag*(Ee[lr+1]*Tt-Pn));ur.push([pi,ai])}})(fe,xe,Me,Fe,It);else for(const Ee of fe)Tn(Ee,xe,Me,Fe,It);return{id:ve,type:Ve,geometry:It,tags:Nt}}function Tn(Jt,xe,Me,Fe,ve){const Ve=-Fn,fe=d.ag+Fn;let Nt;for(let It=0;It<Jt.length-2;It+=2){let Ee=Math.round(d.ag*(Jt[It+0]*xe-Me)),Tt=Math.round(d.ag*(Jt[It+1]*xe-Fe)),nt=Math.round(d.ag*(Jt[It+2]*xe-Me)),Pn=Math.round(d.ag*(Jt[It+3]*xe-Fe));const ur=nt-Ee,lr=Pn-Tt;Ee<Ve&&nt<Ve||(Ee<Ve?(Tt+=Math.round(lr*((Ve-Ee)/ur)),Ee=Ve):nt<Ve&&(Pn=Tt+Math.round(lr*((Ve-Ee)/ur)),nt=Ve),Tt<Ve&&Pn<Ve||(Tt<Ve?(Ee+=Math.round(ur*((Ve-Tt)/lr)),Tt=Ve):Pn<Ve&&(nt=Ee+Math.round(ur*((Ve-Tt)/lr)),Pn=Ve),Ee>=fe&&nt>=fe||(Ee>=fe?(Tt+=Math.round(lr*((fe-Ee)/ur)),Ee=fe):nt>=fe&&(Pn=Tt+Math.round(lr*((fe-Ee)/ur)),nt=fe),Tt>=fe&&Pn>=fe||(Tt>=fe?(Ee+=Math.round(ur*((fe-Tt)/lr)),Tt=fe):Pn>=fe&&(nt=Ee+Math.round(ur*((fe-Tt)/lr)),Pn=fe),Nt&&Ee===Nt[Nt.length-1][0]&&Tt===Nt[Nt.length-1][1]||(Nt=[[Ee,Tt]],ve.push(Nt)),Nt.push([nt,Pn])))))}}var Gn,mr,ir,zr={exports:{}},wr=function(){if(ir)return zr.exports;ir=1;var Jt=d.e8(),xe=function(){if(mr)return Gn;mr=1;var Tt=d.e6(),nt=d.e7().VectorTileFeature;function Pn(lr,pi){this.options=pi||{},this.features=lr,this.length=lr.length}function ur(lr,pi){this.id=typeof lr.id=="number"?lr.id:void 0,this.type=lr.type,this.rawGeometry=lr.type===1?[lr.geometry]:lr.geometry,this.properties=lr.tags,this.extent=pi||4096}return Gn=Pn,Pn.prototype.feature=function(lr){return new ur(this.features[lr],this.options.extent)},ur.prototype.loadGeometry=function(){var lr=this.rawGeometry;this.geometry=[];for(var pi=0;pi<lr.length;pi++){for(var ai=lr[pi],Ei=[],wi=0;wi<ai.length;wi++)Ei.push(new Tt(ai[wi][0],ai[wi][1]));this.geometry.push(Ei)}return this.geometry},ur.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var lr=this.geometry,pi=1/0,ai=-1/0,Ei=1/0,wi=-1/0,Oo=0;Oo<lr.length;Oo++)for(var Xo=lr[Oo],So=0;So<Xo.length;So++){var pa=Xo[So];pi=Math.min(pi,pa.x),ai=Math.max(ai,pa.x),Ei=Math.min(Ei,pa.y),wi=Math.max(wi,pa.y)}return[pi,Ei,ai,wi]},ur.prototype.toGeoJSON=nt.prototype.toGeoJSON,Gn}();function Me(Tt){var nt=new Jt;return function(Pn,ur){for(var lr in Pn.layers)ur.writeMessage(3,Fe,Pn.layers[lr])}(Tt,nt),nt.finish()}function Fe(Tt,nt){var Pn;nt.writeVarintField(15,Tt.version||1),nt.writeStringField(1,Tt.name||""),nt.writeVarintField(5,Tt.extent||4096);var ur={keys:[],values:[],keycache:{},valuecache:{}};for(Pn=0;Pn<Tt.length;Pn++)ur.feature=Tt.feature(Pn),nt.writeMessage(2,ve,ur);var lr=ur.keys;for(Pn=0;Pn<lr.length;Pn++)nt.writeStringField(3,lr[Pn]);var pi=ur.values;for(Pn=0;Pn<pi.length;Pn++)nt.writeMessage(4,Ee,pi[Pn])}function ve(Tt,nt){var Pn=Tt.feature;Pn.id!==void 0&&nt.writeVarintField(1,Pn.id),nt.writeMessage(2,Ve,Tt),nt.writeVarintField(3,Pn.type),nt.writeMessage(4,It,Pn)}function Ve(Tt,nt){var Pn=Tt.feature,ur=Tt.keys,lr=Tt.values,pi=Tt.keycache,ai=Tt.valuecache;for(var Ei in Pn.properties){var wi=Pn.properties[Ei],Oo=pi[Ei];if(wi!==null){Oo===void 0&&(ur.push(Ei),pi[Ei]=Oo=ur.length-1),nt.writeVarint(Oo);var Xo=typeof wi;Xo!=="string"&&Xo!=="boolean"&&Xo!=="number"&&(wi=JSON.stringify(wi));var So=Xo+":"+wi,pa=ai[So];pa===void 0&&(lr.push(wi),ai[So]=pa=lr.length-1),nt.writeVarint(pa)}}}function fe(Tt,nt){return(nt<<3)+(7&Tt)}function Nt(Tt){return Tt<<1^Tt>>31}function It(Tt,nt){for(var Pn=Tt.loadGeometry(),ur=Tt.type,lr=0,pi=0,ai=Pn.length,Ei=0;Ei<ai;Ei++){var wi=Pn[Ei],Oo=1;ur===1&&(Oo=wi.length),nt.writeVarint(fe(1,Oo));for(var Xo=ur===3?wi.length-1:wi.length,So=0;So<Xo;So++){So===1&&ur!==1&&nt.writeVarint(fe(2,Xo-1));var pa=wi[So].x-lr,ma=wi[So].y-pi;nt.writeVarint(Nt(pa)),nt.writeVarint(Nt(ma)),lr+=pa,pi+=ma}ur===3&&nt.writeVarint(fe(7,1))}}function Ee(Tt,nt){var Pn=typeof Tt;Pn==="string"?nt.writeStringField(1,Tt):Pn==="boolean"?nt.writeBooleanField(7,Tt):Pn==="number"&&(Tt%1!=0?nt.writeDoubleField(3,Tt):Tt<0?nt.writeSVarintField(6,Tt):nt.writeVarintField(5,Tt))}return zr.exports=Me,zr.exports.fromVectorTileJs=Me,zr.exports.fromGeojsonVt=function(Tt,nt){nt=nt||{};var Pn={};for(var ur in Tt)Pn[ur]=new xe(Tt[ur].features,nt),Pn[ur].name=ur,Pn[ur].version=nt.version,Pn[ur].extent=nt.extent;return Me({layers:Pn})},zr.exports.GeoJSONWrapper=xe,zr.exports}(),J=d.e9(wr);const mn={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:Jt=>Jt},Ui=Math.fround||(ki=new Float32Array(1),Jt=>(ki[0]=+Jt,ki[0]));var ki;const Sn=3,ei=5,Pi=6;class Xr{constructor(xe){this.options=Object.assign(Object.create(mn),xe),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(xe){const{log:Me,minZoom:Fe,maxZoom:ve}=this.options;Me&&console.time("total time");const Ve=`prepare ${xe.length} points`;Me&&console.time(Ve),this.points=xe;const fe=[];for(let It=0;It<xe.length;It++){const Ee=xe[It];if(!Ee.geometry)continue;const[Tt,nt]=Ee.geometry.coordinates,Pn=Ui($i(Tt)),ur=Ui(Zo(nt));fe.push(Pn,ur,1/0,It,-1,1),this.options.reduce&&fe.push(0)}let Nt=this.trees[ve+1]=this._createTree(fe);Me&&console.timeEnd(Ve);for(let It=ve;It>=Fe;It--){const Ee=+Date.now();Nt=this.trees[It]=this._createTree(this._cluster(Nt,It)),Me&&console.log("z%d: %d clusters in %dms",It,Nt.numItems,+Date.now()-Ee)}return Me&&console.timeEnd("total time"),this}getClusters(xe,Me){let Fe=((xe[0]+180)%360+360)%360-180;const ve=Math.max(-90,Math.min(90,xe[1]));let Ve=xe[2]===180?180:((xe[2]+180)%360+360)%360-180;const fe=Math.max(-90,Math.min(90,xe[3]));if(xe[2]-xe[0]>=360)Fe=-180,Ve=180;else if(Fe>Ve){const nt=this.getClusters([Fe,ve,180,fe],Me),Pn=this.getClusters([-180,ve,Ve,fe],Me);return nt.concat(Pn)}const Nt=this.trees[this._limitZoom(Me)],It=Nt.range($i(Fe),Zo(fe),$i(Ve),Zo(ve)),Ee=Nt.data,Tt=[];for(const nt of It){const Pn=this.stride*nt;Tt.push(Ee[Pn+ei]>1?or(Ee,Pn,this.clusterProps):this.points[Ee[Pn+Sn]])}return Tt}getChildren(xe){const Me=this._getOriginId(xe),Fe=this._getOriginZoom(xe),ve="No cluster with the specified id.",Ve=this.trees[Fe];if(!Ve)throw new Error(ve);const fe=Ve.data;if(Me*this.stride>=fe.length)throw new Error(ve);const Nt=this.options.radius/(this.options.extent*Math.pow(2,Fe-1)),It=Ve.within(fe[Me*this.stride],fe[Me*this.stride+1],Nt),Ee=[];for(const Tt of It){const nt=Tt*this.stride;fe[nt+4]===xe&&Ee.push(fe[nt+ei]>1?or(fe,nt,this.clusterProps):this.points[fe[nt+Sn]])}if(Ee.length===0)throw new Error(ve);return Ee}getLeaves(xe,Me,Fe){const ve=[];return this._appendLeaves(ve,xe,Me=Me||10,Fe=Fe||0,0),ve}getTile(xe,Me,Fe){const ve=this.trees[this._limitZoom(xe)],Ve=Math.pow(2,xe),{extent:fe,radius:Nt}=this.options,It=Nt/fe,Ee=(Fe-It)/Ve,Tt=(Fe+1+It)/Ve,nt={features:[]};return this._addTileFeatures(ve.range((Me-It)/Ve,Ee,(Me+1+It)/Ve,Tt),ve.data,Me,Fe,Ve,nt),Me===0&&this._addTileFeatures(ve.range(1-It/Ve,Ee,1,Tt),ve.data,Ve,Fe,Ve,nt),Me===Ve-1&&this._addTileFeatures(ve.range(0,Ee,It/Ve,Tt),ve.data,-1,Fe,Ve,nt),nt.features.length?nt:null}getClusterExpansionZoom(xe){let Me=this._getOriginZoom(xe)-1;for(;Me<=this.options.maxZoom;){const Fe=this.getChildren(xe);if(Me++,Fe.length!==1)break;xe=Fe[0].properties.cluster_id}return Me}_appendLeaves(xe,Me,Fe,ve,Ve){const fe=this.getChildren(Me);for(const Nt of fe){const It=Nt.properties;if(It&&It.cluster?Ve+It.point_count<=ve?Ve+=It.point_count:Ve=this._appendLeaves(xe,It.cluster_id,Fe,ve,Ve):Ve<ve?Ve++:xe.push(Nt),xe.length===Fe)break}return Ve}_createTree(xe){const Me=new d.bE(xe.length/this.stride|0,this.options.nodeSize,Float32Array);for(let Fe=0;Fe<xe.length;Fe+=this.stride)Me.add(xe[Fe],xe[Fe+1]);return Me.finish(),Me.data=xe,Me}_addTileFeatures(xe,Me,Fe,ve,Ve,fe){for(const Nt of xe){const It=Nt*this.stride,Ee=Me[It+ei]>1;let Tt,nt,Pn;if(Ee)Tt=dr(Me,It,this.clusterProps),nt=Me[It],Pn=Me[It+1];else{const pi=this.points[Me[It+Sn]];Tt=pi.properties;const[ai,Ei]=pi.geometry.coordinates;nt=$i(ai),Pn=Zo(Ei)}const ur={type:1,geometry:[[Math.round(this.options.extent*(nt*Ve-Fe)),Math.round(this.options.extent*(Pn*Ve-ve))]],tags:Tt};let lr;lr=Ee||this.options.generateId?Me[It+Sn]:this.points[Me[It+Sn]].id,lr!==void 0&&(ur.id=lr),fe.features.push(ur)}}_limitZoom(xe){return Math.max(this.options.minZoom,Math.min(Math.floor(+xe),this.options.maxZoom+1))}_cluster(xe,Me){const{radius:Fe,extent:ve,reduce:Ve,minPoints:fe}=this.options,Nt=Fe/(ve*Math.pow(2,Me)),It=xe.data,Ee=[],Tt=this.stride;for(let nt=0;nt<It.length;nt+=Tt){if(It[nt+2]<=Me)continue;It[nt+2]=Me;const Pn=It[nt],ur=It[nt+1],lr=xe.within(It[nt],It[nt+1],Nt),pi=It[nt+ei];let ai=pi;for(const Ei of lr){const wi=Ei*Tt;It[wi+2]>Me&&(ai+=It[wi+ei])}if(ai>pi&&ai>=fe){let Ei,wi=Pn*pi,Oo=ur*pi,Xo=-1;const So=(nt/Tt<<5)+(Me+1)+this.points.length;for(const pa of lr){const ma=pa*Tt;if(It[ma+2]<=Me)continue;It[ma+2]=Me;const Ea=It[ma+ei];wi+=It[ma]*Ea,Oo+=It[ma+1]*Ea,It[ma+4]=So,Ve&&(Ei||(Ei=this._map(It,nt,!0),Xo=this.clusterProps.length,this.clusterProps.push(Ei)),Ve(Ei,this._map(It,ma)))}It[nt+4]=So,Ee.push(wi/ai,Oo/ai,1/0,So,-1,ai),Ve&&Ee.push(Xo)}else{for(let Ei=0;Ei<Tt;Ei++)Ee.push(It[nt+Ei]);if(ai>1)for(const Ei of lr){const wi=Ei*Tt;if(!(It[wi+2]<=Me)){It[wi+2]=Me;for(let Oo=0;Oo<Tt;Oo++)Ee.push(It[wi+Oo])}}}}return Ee}_getOriginId(xe){return xe-this.points.length>>5}_getOriginZoom(xe){return(xe-this.points.length)%32}_map(xe,Me,Fe){if(xe[Me+ei]>1){const fe=this.clusterProps[xe[Me+Pi]];return Fe?Object.assign({},fe):fe}const ve=this.points[xe[Me+Sn]].properties,Ve=this.options.map(ve);return Fe&&Ve===ve?Object.assign({},Ve):Ve}}function or(Jt,xe,Me){return{type:"Feature",id:Jt[xe+Sn],properties:dr(Jt,xe,Me),geometry:{type:"Point",coordinates:[(Fe=Jt[xe],360*(Fe-.5)),ha(Jt[xe+1])]}};var Fe}function dr(Jt,xe,Me){const Fe=Jt[xe+ei],ve=Fe>=1e4?`${Math.round(Fe/1e3)}k`:Fe>=1e3?Math.round(Fe/100)/10+"k":Fe,Ve=Jt[xe+Pi],fe=Ve===-1?{}:Object.assign({},Me[Ve]);return Object.assign(fe,{cluster:!0,cluster_id:Jt[xe+Sn],point_count:Fe,point_count_abbreviated:ve})}function $i(Jt){return Jt/360+.5}function Zo(Jt){const xe=Math.sin(Jt*Math.PI/180),Me=.5-.25*Math.log((1+xe)/(1-xe))/Math.PI;return Me<0?0:Me>1?1:Me}function ha(Jt){const xe=(180-360*Jt)*Math.PI/180;return 360*Math.atan(Math.exp(xe))/Math.PI-90}function Da(Jt,xe,Me,Fe){let ve=Fe;const Ve=xe+(Me-xe>>1);let fe,Nt=Me-xe;const It=Jt[xe],Ee=Jt[xe+1],Tt=Jt[Me],nt=Jt[Me+1];for(let Pn=xe+3;Pn<Me;Pn+=3){const ur=ri(Jt[Pn],Jt[Pn+1],It,Ee,Tt,nt);if(ur>ve)fe=Pn,ve=ur;else if(ur===ve){const lr=Math.abs(Pn-Ve);lr<Nt&&(fe=Pn,Nt=lr)}}ve>Fe&&(fe-xe>3&&Da(Jt,xe,fe,Fe),Jt[fe+2]=ve,Me-fe>3&&Da(Jt,fe,Me,Fe))}function ri(Jt,xe,Me,Fe,ve,Ve){let fe=ve-Me,Nt=Ve-Fe;if(fe!==0||Nt!==0){const It=((Jt-Me)*fe+(xe-Fe)*Nt)/(fe*fe+Nt*Nt);It>1?(Me=ve,Fe=Ve):It>0&&(Me+=fe*It,Fe+=Nt*It)}return fe=Jt-Me,Nt=xe-Fe,fe*fe+Nt*Nt}function Ko(Jt,xe,Me,Fe){const ve={id:Jt!=null?Jt:null,type:xe,geometry:Me,tags:Fe,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};if(xe==="Point"||xe==="MultiPoint"||xe==="LineString")Eo(ve,Me);else if(xe==="Polygon")Eo(ve,Me[0]);else if(xe==="MultiLineString")for(const Ve of Me)Eo(ve,Ve);else if(xe==="MultiPolygon")for(const Ve of Me)Eo(ve,Ve[0]);return ve}function Eo(Jt,xe){for(let Me=0;Me<xe.length;Me+=3)Jt.minX=Math.min(Jt.minX,xe[Me]),Jt.minY=Math.min(Jt.minY,xe[Me+1]),Jt.maxX=Math.max(Jt.maxX,xe[Me]),Jt.maxY=Math.max(Jt.maxY,xe[Me+1])}function No(Jt,xe,Me,Fe){if(!xe.geometry)return;const ve=xe.geometry.coordinates;if(ve&&ve.length===0)return;const Ve=xe.geometry.type,fe=Math.pow(Me.tolerance/((1<<Me.maxZoom)*Me.extent),2);let Nt=[],It=xe.id;if(Me.promoteId?It=xe.properties[Me.promoteId]:Me.generateId&&(It=Fe||0),Ve==="Point")ya(ve,Nt);else if(Ve==="MultiPoint")for(const Ee of ve)ya(Ee,Nt);else if(Ve==="LineString")Oi(ve,Nt,fe,!1);else if(Ve==="MultiLineString"){if(Me.lineMetrics){for(const Ee of ve)Nt=[],Oi(Ee,Nt,fe,!1),Jt.push(Ko(It,"LineString",Nt,xe.properties));return}Gr(ve,Nt,fe,!1)}else if(Ve==="Polygon")Gr(ve,Nt,fe,!0);else{if(Ve!=="MultiPolygon"){if(Ve==="GeometryCollection"){for(const Ee of xe.geometry.geometries)No(Jt,{id:It,geometry:Ee,properties:xe.properties},Me,Fe);return}throw new Error("Input data is not a valid GeoJSON object.")}for(const Ee of ve){const Tt=[];Gr(Ee,Tt,fe,!0),Nt.push(Tt)}}Jt.push(Ko(It,Ve,Nt,xe.properties))}function ya(Jt,xe){xe.push(so(Jt[0]),Li(Jt[1]),0)}function Oi(Jt,xe,Me,Fe){let ve,Ve,fe=0;for(let It=0;It<Jt.length;It++){const Ee=so(Jt[It][0]),Tt=Li(Jt[It][1]);xe.push(Ee,Tt,0),It>0&&(fe+=Fe?(ve*Tt-Ee*Ve)/2:Math.sqrt(Math.pow(Ee-ve,2)+Math.pow(Tt-Ve,2))),ve=Ee,Ve=Tt}const Nt=xe.length-3;xe[2]=1,Da(xe,0,Nt,Me),xe[Nt+2]=1,xe.size=Math.abs(fe),xe.start=0,xe.end=xe.size}function Gr(Jt,xe,Me,Fe){for(let ve=0;ve<Jt.length;ve++){const Ve=[];Oi(Jt[ve],Ve,Me,Fe),xe.push(Ve)}}function so(Jt){return Jt/360+.5}function Li(Jt){const xe=Math.sin(Jt*Math.PI/180),Me=.5-.25*Math.log((1+xe)/(1-xe))/Math.PI;return Me<0?0:Me>1?1:Me}function co(Jt,xe,Me,Fe,ve,Ve,fe,Nt){if(Fe/=xe,Ve>=(Me/=xe)&&fe<Fe)return Jt;if(fe<Me||Ve>=Fe)return null;const It=[];for(const Ee of Jt){const Tt=Ee.geometry;let nt=Ee.type;const Pn=ve===0?Ee.minX:Ee.minY,ur=ve===0?Ee.maxX:Ee.maxY;if(Pn>=Me&&ur<Fe){It.push(Ee);continue}if(ur<Me||Pn>=Fe)continue;let lr=[];if(nt==="Point"||nt==="MultiPoint")ws(Tt,lr,Me,Fe,ve);else if(nt==="LineString")Or(Tt,lr,Me,Fe,ve,!1,Nt.lineMetrics);else if(nt==="MultiLineString")Ua(Tt,lr,Me,Fe,ve,!1);else if(nt==="Polygon")Ua(Tt,lr,Me,Fe,ve,!0);else if(nt==="MultiPolygon")for(const pi of Tt){const ai=[];Ua(pi,ai,Me,Fe,ve,!0),ai.length&&lr.push(ai)}if(lr.length){if(Nt.lineMetrics&&nt==="LineString"){for(const pi of lr)It.push(Ko(Ee.id,nt,pi,Ee.tags));continue}nt!=="LineString"&&nt!=="MultiLineString"||(lr.length===1?(nt="LineString",lr=lr[0]):nt="MultiLineString"),nt!=="Point"&&nt!=="MultiPoint"||(nt=lr.length===3?"Point":"MultiPoint"),It.push(Ko(Ee.id,nt,lr,Ee.tags))}}return It.length?It:null}function ws(Jt,xe,Me,Fe,ve){for(let Ve=0;Ve<Jt.length;Ve+=3){const fe=Jt[Ve+ve];fe>=Me&&fe<=Fe&&jr(xe,Jt[Ve],Jt[Ve+1],Jt[Ve+2])}}function Or(Jt,xe,Me,Fe,ve,Ve,fe){let Nt=bo(Jt);const It=ve===0?ia:ss;let Ee,Tt,nt=Jt.start;for(let ai=0;ai<Jt.length-3;ai+=3){const Ei=Jt[ai],wi=Jt[ai+1],Oo=Jt[ai+2],Xo=Jt[ai+3],So=Jt[ai+4],pa=ve===0?Ei:wi,ma=ve===0?Xo:So;let Ea=!1;fe&&(Ee=Math.sqrt(Math.pow(Ei-Xo,2)+Math.pow(wi-So,2))),pa<Me?ma>Me&&(Tt=It(Nt,Ei,wi,Xo,So,Me),fe&&(Nt.start=nt+Ee*Tt)):pa>Fe?ma<Fe&&(Tt=It(Nt,Ei,wi,Xo,So,Fe),fe&&(Nt.start=nt+Ee*Tt)):jr(Nt,Ei,wi,Oo),ma<Me&&pa>=Me&&(Tt=It(Nt,Ei,wi,Xo,So,Me),Ea=!0),ma>Fe&&pa<=Fe&&(Tt=It(Nt,Ei,wi,Xo,So,Fe),Ea=!0),!Ve&&Ea&&(fe&&(Nt.end=nt+Ee*Tt),xe.push(Nt),Nt=bo(Jt)),fe&&(nt+=Ee)}let Pn=Jt.length-3;const ur=Jt[Pn],lr=Jt[Pn+1],pi=ve===0?ur:lr;pi>=Me&&pi<=Fe&&jr(Nt,ur,lr,Jt[Pn+2]),Pn=Nt.length-3,Ve&&Pn>=3&&(Nt[Pn]!==Nt[0]||Nt[Pn+1]!==Nt[1])&&jr(Nt,Nt[0],Nt[1],Nt[2]),Nt.length&&xe.push(Nt)}function bo(Jt){const xe=[];return xe.size=Jt.size,xe.start=Jt.start,xe.end=Jt.end,xe}function Ua(Jt,xe,Me,Fe,ve,Ve){for(const fe of Jt)Or(fe,xe,Me,Fe,ve,Ve,!1)}function jr(Jt,xe,Me,Fe){Jt.push(xe,Me,Fe)}function ia(Jt,xe,Me,Fe,ve,Ve){const fe=(Ve-xe)/(Fe-xe);return jr(Jt,Ve,Me+(ve-Me)*fe,1),fe}function ss(Jt,xe,Me,Fe,ve,Ve){const fe=(Ve-Me)/(ve-Me);return jr(Jt,xe+(Fe-xe)*fe,Ve,1),fe}function Ra(Jt,xe){const Me=[];for(let Fe=0;Fe<Jt.length;Fe++){const ve=Jt[Fe],Ve=ve.type;let fe;if(Ve==="Point"||Ve==="MultiPoint"||Ve==="LineString")fe=po(ve.geometry,xe);else if(Ve==="MultiLineString"||Ve==="Polygon"){fe=[];for(const Nt of ve.geometry)fe.push(po(Nt,xe))}else if(Ve==="MultiPolygon"){fe=[];for(const Nt of ve.geometry){const It=[];for(const Ee of Nt)It.push(po(Ee,xe));fe.push(It)}}Me.push(Ko(ve.id,Ve,fe,ve.tags))}return Me}function po(Jt,xe){const Me=[];Me.size=Jt.size,Jt.start!==void 0&&(Me.start=Jt.start,Me.end=Jt.end);for(let Fe=0;Fe<Jt.length;Fe+=3)Me.push(Jt[Fe]+xe,Jt[Fe+1],Jt[Fe+2]);return Me}function ds(Jt,xe){if(Jt.transformed)return Jt;const Me=1<<Jt.z,Fe=Jt.x,ve=Jt.y;for(const Ve of Jt.features){const fe=Ve.geometry,Nt=Ve.type;if(Ve.geometry=[],Nt===1)for(let It=0;It<fe.length;It+=2)Ve.geometry.push(il(fe[It],fe[It+1],xe,Me,Fe,ve));else for(let It=0;It<fe.length;It++){const Ee=[];for(let Tt=0;Tt<fe[It].length;Tt+=2)Ee.push(il(fe[It][Tt],fe[It][Tt+1],xe,Me,Fe,ve));Ve.geometry.push(Ee)}}return Jt.transformed=!0,Jt}function il(Jt,xe,Me,Fe,ve,Ve){return[Math.round(Me*(Jt*Fe-ve)),Math.round(Me*(xe*Fe-Ve))]}function Cn(Jt,xe,Me,Fe,ve){const Ve=xe===ve.maxZoom?0:ve.tolerance/((1<<xe)*ve.extent),fe={features:[],numPoints:0,numSimplified:0,numFeatures:Jt.length,source:null,x:Me,y:Fe,z:xe,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0};for(const Nt of Jt)Dn(fe,Nt,Ve,ve);return fe}function Dn(Jt,xe,Me,Fe){const ve=xe.geometry,Ve=xe.type,fe=[];if(Jt.minX=Math.min(Jt.minX,xe.minX),Jt.minY=Math.min(Jt.minY,xe.minY),Jt.maxX=Math.max(Jt.maxX,xe.maxX),Jt.maxY=Math.max(Jt.maxY,xe.maxY),Ve==="Point"||Ve==="MultiPoint")for(let Nt=0;Nt<ve.length;Nt+=3)fe.push(ve[Nt],ve[Nt+1]),Jt.numPoints++,Jt.numSimplified++;else if(Ve==="LineString")vn(fe,ve,Jt,Me,!1,!1);else if(Ve==="MultiLineString"||Ve==="Polygon")for(let Nt=0;Nt<ve.length;Nt++)vn(fe,ve[Nt],Jt,Me,Ve==="Polygon",Nt===0);else if(Ve==="MultiPolygon")for(let Nt=0;Nt<ve.length;Nt++){const It=ve[Nt];for(let Ee=0;Ee<It.length;Ee++)vn(fe,It[Ee],Jt,Me,!0,Ee===0)}if(fe.length){let Nt=xe.tags||null;if(Ve==="LineString"&&Fe.lineMetrics){Nt={};for(const Ee in xe.tags)Nt[Ee]=xe.tags[Ee];Nt.mapbox_clip_start=ve.start/ve.size,Nt.mapbox_clip_end=ve.end/ve.size}const It={geometry:fe,type:Ve==="Polygon"||Ve==="MultiPolygon"?3:Ve==="LineString"||Ve==="MultiLineString"?2:1,tags:Nt};xe.id!==null&&(It.id=xe.id),Jt.features.push(It)}}function vn(Jt,xe,Me,Fe,ve,Ve){const fe=Fe*Fe;if(Fe>0&&xe.size<(ve?fe:Fe))return void(Me.numPoints+=xe.length/3);const Nt=[];for(let It=0;It<xe.length;It+=3)(Fe===0||xe[It+2]>fe)&&(Me.numSimplified++,Nt.push(xe[It],xe[It+1])),Me.numPoints++;ve&&function(It,Ee){let Tt=0;for(let nt=0,Pn=It.length,ur=Pn-2;nt<Pn;ur=nt,nt+=2)Tt+=(It[nt]-It[ur])*(It[nt+1]+It[ur+1]);if(Tt>0===Ee)for(let nt=0,Pn=It.length;nt<Pn/2;nt+=2){const ur=It[nt],lr=It[nt+1];It[nt]=It[Pn-2-nt],It[nt+1]=It[Pn-1-nt],It[Pn-2-nt]=ur,It[Pn-1-nt]=lr}}(Nt,Ve),Jt.push(Nt)}const $r={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0};class hi{constructor(xe,Me){const Fe=(Me=this.options=function(Ve,fe){for(const Nt in fe)Ve[Nt]=fe[Nt];return Ve}(Object.create($r),Me)).debug;if(Fe&&console.time("preprocess data"),Me.maxZoom<0||Me.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(Me.promoteId&&Me.generateId)throw new Error("promoteId and generateId cannot be used together.");let ve=function(Ve,fe){const Nt=[];if(Ve.type==="FeatureCollection")for(let It=0;It<Ve.features.length;It++)No(Nt,Ve.features[It],fe,It);else No(Nt,Ve.type==="Feature"?Ve:{geometry:Ve},fe);return Nt}(xe,Me);this.tiles={},this.tileCoords=[],Fe&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",Me.indexMaxZoom,Me.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),ve=function(Ve,fe){const Nt=fe.buffer/fe.extent;let It=Ve;const Ee=co(Ve,1,-1-Nt,Nt,0,-1,2,fe),Tt=co(Ve,1,1-Nt,2+Nt,0,-1,2,fe);return(Ee||Tt)&&(It=co(Ve,1,-Nt,1+Nt,0,-1,2,fe)||[],Ee&&(It=Ra(Ee,1).concat(It)),Tt&&(It=It.concat(Ra(Tt,-1)))),It}(ve,Me),ve.length&&this.splitTile(ve,0,0,0),Fe&&(ve.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}splitTile(xe,Me,Fe,ve,Ve,fe,Nt){const It=[xe,Me,Fe,ve],Ee=this.options,Tt=Ee.debug;for(;It.length;){ve=It.pop(),Fe=It.pop(),Me=It.pop(),xe=It.pop();const nt=1<<Me,Pn=vi(Me,Fe,ve);let ur=this.tiles[Pn];if(!ur&&(Tt>1&&console.time("creation"),ur=this.tiles[Pn]=Cn(xe,Me,Fe,ve,Ee),this.tileCoords.push({z:Me,x:Fe,y:ve}),Tt)){Tt>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",Me,Fe,ve,ur.numFeatures,ur.numPoints,ur.numSimplified),console.timeEnd("creation"));const Ea=`z${Me}`;this.stats[Ea]=(this.stats[Ea]||0)+1,this.total++}if(ur.source=xe,Ve==null){if(Me===Ee.indexMaxZoom||ur.numPoints<=Ee.indexMaxPoints)continue}else{if(Me===Ee.maxZoom||Me===Ve)continue;if(Ve!=null){const Ea=Ve-Me;if(Fe!==fe>>Ea||ve!==Nt>>Ea)continue}}if(ur.source=null,xe.length===0)continue;Tt>1&&console.time("clipping");const lr=.5*Ee.buffer/Ee.extent,pi=.5-lr,ai=.5+lr,Ei=1+lr;let wi=null,Oo=null,Xo=null,So=null,pa=co(xe,nt,Fe-lr,Fe+ai,0,ur.minX,ur.maxX,Ee),ma=co(xe,nt,Fe+pi,Fe+Ei,0,ur.minX,ur.maxX,Ee);xe=null,pa&&(wi=co(pa,nt,ve-lr,ve+ai,1,ur.minY,ur.maxY,Ee),Oo=co(pa,nt,ve+pi,ve+Ei,1,ur.minY,ur.maxY,Ee),pa=null),ma&&(Xo=co(ma,nt,ve-lr,ve+ai,1,ur.minY,ur.maxY,Ee),So=co(ma,nt,ve+pi,ve+Ei,1,ur.minY,ur.maxY,Ee),ma=null),Tt>1&&console.timeEnd("clipping"),It.push(wi||[],Me+1,2*Fe,2*ve),It.push(Oo||[],Me+1,2*Fe,2*ve+1),It.push(Xo||[],Me+1,2*Fe+1,2*ve),It.push(So||[],Me+1,2*Fe+1,2*ve+1)}}getTile(xe,Me,Fe){xe=+xe,Me=+Me,Fe=+Fe;const ve=this.options,{extent:Ve,debug:fe}=ve;if(xe<0||xe>24)return null;const Nt=1<<xe,It=vi(xe,Me=Me+Nt&Nt-1,Fe);if(this.tiles[It])return ds(this.tiles[It],Ve);fe>1&&console.log("drilling down to z%d-%d-%d",xe,Me,Fe);let Ee,Tt=xe,nt=Me,Pn=Fe;for(;!Ee&&Tt>0;)Tt--,nt>>=1,Pn>>=1,Ee=this.tiles[vi(Tt,nt,Pn)];return Ee&&Ee.source?(fe>1&&(console.log("found parent tile z%d-%d-%d",Tt,nt,Pn),console.time("drilling down")),this.splitTile(Ee.source,Tt,nt,Pn,xe,Me,Fe),fe>1&&console.timeEnd("drilling down"),this.tiles[It]?ds(this.tiles[It],Ve):null):null}}function vi(Jt,xe,Me){return 32*((1<<Jt)*Me+xe)+Jt}function oa(Jt,xe){const Me=Jt.tileID.canonical;if(!this._geoJSONIndex)return void xe(null,null);const Fe=this._geoJSONIndex.getTile(Me.z,Me.x,Me.y);if(!Fe)return void xe(null,null);const ve=new Hr(Fe.features);let Ve=J(ve);Ve.byteOffset===0&&Ve.byteLength===Ve.buffer.byteLength||(Ve=new Uint8Array(Ve)),xe(null,{vectorTile:ve,rawData:Ve.buffer})}class aa extends _n{constructor(xe,Me,Fe,ve,Ve,fe){super(xe,Me,Fe,ve,oa,fe),Ve&&(this.loadGeoJSON=Ve),this._dynamicIndex=new Br}loadData(xe,Me){const Fe=xe&&xe.request,ve=Fe&&Fe.collectResourceTiming;this.loadGeoJSON(xe,(Ve,fe)=>{if(Ve||!fe)return Me(Ve);if(typeof fe!="object")return Me(new Error(`Input data given to '${xe.source}' is not a valid GeoJSON object.`));{try{if(xe.filter){const It=d.U(xe.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(It.result==="error")throw new Error(It.value.map(Ee=>`${Ee.key}: ${Ee.message}`).join(", "));fe.features=fe.features.filter(Ee=>It.value.evaluate({zoom:0},Ee))}xe.dynamic?(fe.type==="Feature"&&(fe={type:"FeatureCollection",features:[fe]}),xe.append||(this._dynamicIndex.clear(),this.loaded={}),this._dynamicIndex.load(fe.features,this.loaded),xe.cluster&&(fe.features=this._dynamicIndex.getFeatures())):this.loaded={},this._geoJSONIndex=xe.cluster?new Xr(function({superclusterOptions:It,clusterProperties:Ee}){if(!Ee||!It)return It;const Tt={},nt={},Pn={accumulated:null,zoom:0},ur={properties:null},lr=Object.keys(Ee);for(const pi of lr){const[ai,Ei]=Ee[pi],wi=d.U(Ei),Oo=d.U(typeof ai=="string"?[ai,["accumulated"],["get",pi]]:ai);Tt[pi]=wi.value,nt[pi]=Oo.value}return It.map=pi=>{ur.properties=pi;const ai={};for(const Ei of lr)ai[Ei]=Tt[Ei].evaluate(Pn,ur);return ai},It.reduce=(pi,ai)=>{ur.properties=ai;for(const Ei of lr)Pn.accumulated=pi[Ei],pi[Ei]=nt[Ei].evaluate(Pn,ur)},It}(xe)).load(fe.features):xe.dynamic?this._dynamicIndex:function(It,Ee){return new hi(It,Ee)}(fe,xe.geojsonVtOptions)}catch(It){return Me(It)}const Nt={};if(ve){const It=Be(Fe);It&&(Nt.resourceTiming={},Nt.resourceTiming[xe.source]=JSON.parse(JSON.stringify(It)))}Me(null,Nt)}})}reloadTile(xe,Me){const Fe=this.loaded;return Fe&&Fe[xe.uid]?xe.partial?Me(null,void 0):super.reloadTile(xe,Me):this.loadTile(xe,Me)}loadGeoJSON(xe,Me){if(xe.request)d.n(xe.request,Me);else{if(typeof xe.data!="string")return Me(new Error(`Input data given to '${xe.source}' is not a valid GeoJSON object.`));try{return Me(null,JSON.parse(xe.data))}catch(Fe){return Me(new Error(`Input data given to '${xe.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(xe,Me){try{Me(null,this._geoJSONIndex.getClusterExpansionZoom(xe.clusterId))}catch(Fe){Me(Fe)}}getClusterChildren(xe,Me){try{Me(null,this._geoJSONIndex.getChildren(xe.clusterId))}catch(Fe){Me(Fe)}}getClusterLeaves(xe,Me){try{Me(null,this._geoJSONIndex.getLeaves(xe.clusterId,xe.limit,xe.offset))}catch(Fe){Me(Fe)}}}class Ca{constructor(xe,Me){this.tileID=new d.aG(xe.tileID.overscaledZ,xe.tileID.wrap,xe.tileID.canonical.z,xe.tileID.canonical.x,xe.tileID.canonical.y),this.tileZoom=xe.tileZoom,this.uid=xe.uid,this.zoom=xe.zoom,this.canonical=xe.tileID.canonical,this.pixelRatio=xe.pixelRatio,this.tileSize=xe.tileSize,this.source=xe.source,this.overscaling=this.tileID.overscaleFactor(),this.projection=xe.projection,this.brightness=Me}parse(xe,Me,Fe,ve){this.status="parsing";const Ve=new d.aG(Fe.tileID.overscaledZ,Fe.tileID.wrap,Fe.tileID.canonical.z,Fe.tileID.canonical.x,Fe.tileID.canonical.y),fe=[],Nt=Me.familiesBySource[Fe.source],It=new d.d$(Ve,Fe.promoteId);return It.bucketLayerIDs=[],It.is3DTile=!0,d.ea(xe).then(Ee=>{if(!Ee)return ve(new Error("Could not parse tile"));const Tt=d.eb(Ee,1/d.cc(Fe.tileID.canonical)),nt=Ee.json.extensionsUsed&&Ee.json.extensionsUsed.includes("MAPBOX_mesh_features")||Ee.json.asset.extras&&Ee.json.asset.extras.MAPBOX_mesh_features,Pn=Ee.json.extensionsUsed&&Ee.json.extensionsUsed.includes("EXT_meshopt_compression"),ur=new d.a8(this.zoom,{brightness:this.brightness});for(const lr in Nt)for(const pi of Nt[lr]){const ai=pi[0];It.bucketLayerIDs.push(pi.map(wi=>d.aC(wi.id,wi.scope))),ai.recalculate(ur,[]);const Ei=new d.ec(pi,Tt,Ve,nt,Pn,this.brightness,It);nt||(Ei.needsUpload=!0),fe.push(Ei),Ei.evaluate(ai)}this.status="done",ve(null,{buckets:fe,featureIndex:It,collisionBoxArray:null,glyphAtlasImage:null,lineAtlas:null,imageAtlas:null,brightness:null})}).catch(Ee=>ve(new Error(Ee.message)))}}class Bo{constructor(xe,Me,Fe,ve,Ve,fe){this.actor=xe,this.layerIndex=Me,this.availableImages=Fe,this.brightness=fe,this.loading={},this.loaded={}}loadTile(xe,Me){const Fe=xe.uid,ve=this.loading[Fe]=new Ca(xe,this.brightness);d.bi(xe.request,(Ve,fe)=>{const Nt=!this.loading[Fe];return delete this.loading[Fe],Nt||Ve?(ve.status="done",Nt||(this.loaded[Fe]=ve),Me(Ve)):fe&&fe.byteLength!==0?void ve.parse(fe,this.layerIndex,xe,(It,Ee)=>{ve.status="done",this.loaded=this.loaded||{},this.loaded[Fe]=ve,It||!Ee?Me(It):Me(null,Ee)}):(ve.status="done",this.loaded[Fe]=ve,Me())})}reloadTile(xe,Me){const Fe=this.loaded,ve=xe.uid;if(Fe&&Fe[ve]){const Ve=Fe[ve];Ve.projection=xe.projection,Ve.brightness=xe.brightness;const fe=(Nt,It)=>{Ve.reloadCallback&&(delete Ve.reloadCallback,this.loadTile(xe,Me)),Me(Nt,It)};Ve.status==="parsing"?Ve.reloadCallback=fe:Ve.status==="done"&&this.loadTile(xe,Me)}}abortTile(xe,Me){const Fe=xe.uid;this.loading[Fe]&&delete this.loading[Fe],Me()}removeTile(xe,Me){const Fe=this.loaded,ve=xe.uid;Fe&&Fe[ve]&&delete Fe[ve],Me()}}class Po{constructor(xe){this.self=xe,this.actor=new d.ed(xe,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.imageRasterizer=new d.I,this.projections={},this.defaultProjection=d.bP({name:"mercator"}),this.workerSourceTypes={vector:_n,geojson:aa,"batched-model":Bo},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(Me,Fe)=>{if(this.workerSourceTypes[Me])throw new Error(`Worker source with name "${Me}" already registered.`);this.workerSourceTypes[Me]=Fe},this.self.registerRTLTextPlugin=Me=>{if(d.ee.isParsed())throw new Error("RTL text plugin already registered.");d.ee.applyArabicShaping=Me.applyArabicShaping,d.ee.processBidirectionalText=Me.processBidirectionalText,d.ee.processStyledBidirectionalText=Me.processStyledBidirectionalText}}clearCaches(xe,Me,Fe){delete this.layerIndexes[xe],delete this.availableImages[xe],delete this.workerSources[xe],delete this.demWorkerSources[xe],delete this.rasterArrayWorkerSource,Fe()}checkIfReady(xe,Me,Fe){Fe()}setReferrer(xe,Me){this.referrer=Me}spriteLoaded(xe,{scope:Me,isLoaded:Fe}){if(this.isSpriteLoaded[xe]||(this.isSpriteLoaded[xe]={}),this.isSpriteLoaded[xe][Me]=Fe,this.workerSources[xe]&&this.workerSources[xe][Me])for(const ve in this.workerSources[xe][Me]){const Ve=this.workerSources[xe][Me][ve];for(const fe in Ve){const Nt=Ve[fe];Nt instanceof _n&&(Nt.isSpriteLoaded=Fe,Nt.fire(new d.z("isSpriteLoaded")))}}}setImages(xe,{scope:Me,images:Fe},ve){if(this.availableImages[xe]||(this.availableImages[xe]={}),this.availableImages[xe][Me]=Fe,this.workerSources[xe]&&this.workerSources[xe][Me]){for(const Ve in this.workerSources[xe][Me]){const fe=this.workerSources[xe][Me][Ve];for(const Nt in fe)fe[Nt].availableImages=Fe}ve()}else ve()}setProjection(xe,Me){this.projections[xe]=d.bP(Me)}setBrightness(xe,Me,Fe){this.brightness=Me,Fe()}setLayers(xe,Me,Fe){this.getLayerIndex(xe,Me.scope).replace(Me.layers,Me.options),Fe()}updateLayers(xe,Me,Fe){this.getLayerIndex(xe,Me.scope).update(Me.layers,Me.removedIds,Me.options),Fe()}loadTile(xe,Me,Fe){Me.projection=this.projections[xe]||this.defaultProjection,this.getWorkerSource(xe,Me.type,Me.source,Me.scope).loadTile(Me,Fe)}loadDEMTile(xe,Me,Fe){this.getDEMWorkerSource(xe,Me.source,Me.scope).loadTile(Me,Fe)}decodeRasterArray(xe,Me,Fe){this.getRasterArrayWorkerSource().decodeRasterArray(Me,Fe)}reloadTile(xe,Me,Fe){Me.projection=this.projections[xe]||this.defaultProjection,this.getWorkerSource(xe,Me.type,Me.source,Me.scope).reloadTile(Me,Fe)}abortTile(xe,Me,Fe){this.getWorkerSource(xe,Me.type,Me.source,Me.scope).abortTile(Me,Fe)}removeTile(xe,Me,Fe){this.getWorkerSource(xe,Me.type,Me.source,Me.scope).removeTile(Me,Fe)}removeSource(xe,Me,Fe){if(!(this.workerSources[xe]&&this.workerSources[xe][Me.scope]&&this.workerSources[xe][Me.scope][Me.type]&&this.workerSources[xe][Me.scope][Me.type][Me.source]))return;const ve=this.workerSources[xe][Me.scope][Me.type][Me.source];delete this.workerSources[xe][Me.scope][Me.type][Me.source],ve.removeSource!==void 0?ve.removeSource(Me,Fe):Fe()}loadWorkerSource(xe,Me,Fe){try{this.self.importScripts(Me.url),Fe()}catch(ve){Fe(ve.toString())}}syncRTLPluginState(xe,Me,Fe){try{d.ee.setState(Me);const ve=d.ee.getPluginURL();if(d.ee.isLoaded()&&!d.ee.isParsed()&&ve!=null){this.self.importScripts(ve);const Ve=d.ee.isParsed();Fe(Ve?void 0:new Error(`RTL Text Plugin failed to import scripts from ${ve}`),Ve)}}catch(ve){Fe(ve.toString())}}setDracoUrl(xe,Me){this.dracoUrl=Me}getAvailableImages(xe,Me){this.availableImages[xe]||(this.availableImages[xe]={});let Fe=this.availableImages[xe][Me];return Fe||(Fe=[]),Fe}getLayerIndex(xe,Me){this.layerIndexes[xe]||(this.layerIndexes[xe]={});let Fe=this.layerIndexes[xe][Me];return Fe||(Fe=this.layerIndexes[xe][Me]=new qe,Fe.scope=Me),Fe}getWorkerSource(xe,Me,Fe,ve){return this.workerSources[xe]||(this.workerSources[xe]={}),this.workerSources[xe][ve]||(this.workerSources[xe][ve]={}),this.workerSources[xe][ve][Me]||(this.workerSources[xe][ve][Me]={}),this.isSpriteLoaded[xe]||(this.isSpriteLoaded[xe]={}),this.workerSources[xe][ve][Me][Fe]||(this.workerSources[xe][ve][Me][Fe]=new this.workerSourceTypes[Me]({send:(Ve,fe,Nt,It,Ee,Tt)=>{this.actor.send(Ve,fe,Nt,xe,Ee,Tt)},scheduler:this.actor.scheduler},this.getLayerIndex(xe,ve),this.getAvailableImages(xe,ve),this.isSpriteLoaded[xe][ve],void 0,this.brightness)),this.workerSources[xe][ve][Me][Fe]}rasterizeImages(xe,Me,Fe){const{imageTasks:ve,scope:Ve}=Me,fe={};for(const Nt in ve){const{image:It,imageIdWithOptions:Ee}=ve[Nt];fe[Nt]=this.imageRasterizer.rasterize(Ee,It,Ve,xe)}Fe(void 0,fe)}removeRasterizedImages(xe,Me,Fe){const{imageIds:ve,scope:Ve}=Me;this.imageRasterizer.removeImagesFromCacheByIds(ve,Ve,xe),Fe()}getDEMWorkerSource(xe,Me,Fe){return this.demWorkerSources[xe]||(this.demWorkerSources[xe]={}),this.demWorkerSources[xe][Fe]||(this.demWorkerSources[xe][Fe]={}),this.demWorkerSources[xe][Fe][Me]||(this.demWorkerSources[xe][Fe][Me]=new En),this.demWorkerSources[xe][Fe][Me]}getRasterArrayWorkerSource(){return this.rasterArrayWorkerSource||(this.rasterArrayWorkerSource=new Nn),this.rasterArrayWorkerSource}enforceCacheSizeLimit(xe,Me){d.ef(Me)}getWorkerPerformanceMetrics(xe,Me,Fe){Fe(void 0,void 0)}}return typeof WorkerGlobalScope!="undefined"&&typeof self!="undefined"&&self instanceof WorkerGlobalScope&&(self.worker=new Po(self)),Po}),jt(["./shared"],function(d){var Be="3.10.0";const lt={create:"create",load:"load",fullLoad:"fullLoad"},ot={mark(p){performance.mark(p)},measure(p,r,l){performance.measure(p,r,l)}};function qe(p){const r=p.name.split("?")[0];return d.a(r)&&r.includes("mapbox-gl.js")?"javascript":d.a(r)&&r.includes("mapbox-gl.css")?"css":d.b(r)?"fontRange":d.c(r)?"sprite":d.i(r)?"style":d.d(r)?"tilejson":"other"}var De,Ae={},zt=function(){if(De)return Ae;function p(m){return!r(m)}function r(m){return typeof window=="undefined"||typeof document=="undefined"?"not a browser":function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var w,I,D=new Blob([""],{type:"text/javascript"}),Z=URL.createObjectURL(D);try{I=new Worker(Z),w=!0}catch(W){w=!1}return I&&I.terminate(),URL.revokeObjectURL(Z),w}()?function(){var w=document.createElement("canvas");w.width=w.height=1;var I=w.getContext("2d");if(!I)return!1;var D=I.getImageData(0,0,1,1);return D&&D.width===w.width}()?(l[b=m&&m.failIfMajorPerformanceCaveat]===void 0&&(l[b]=function(w){var I,D=function(Z){var W=document.createElement("canvas"),G=Object.create(p.webGLContextAttributes);return G.failIfMajorPerformanceCaveat=Z,W.getContext("webgl2",G)}(w);if(!D)return!1;try{I=D.createShader(D.VERTEX_SHADER)}catch(Z){return!1}return!(!I||D.isContextLost())&&(D.shaderSource(I,"void main() {}"),D.compileShader(I),D.getShaderParameter(I,D.COMPILE_STATUS)===!0)}(b)),l[b]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL2 support"):"insufficient Canvas/getImageData support":"insufficient worker support";var b}De=1,Ae.supported=p,Ae.notSupportedReason=r;var l={};return p.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0},Ae}();function qt(p,r,l){const m=document.createElement(p);return r!=null&&(m.className=r),l&&l.appendChild(m),m}function mt(p,r,l){const m=document.createElementNS("http://www.w3.org/2000/svg",p);for(const b of Object.keys(r))m.setAttributeNS(null,b,String(r[b]));return l&&l.appendChild(m),m}const Et=typeof document!="undefined"?document.documentElement&&document.documentElement.style:null,an=Et&&Et.userSelect!==void 0?"userSelect":"WebkitUserSelect";let Ht;function Zt(){Et&&an&&(Ht=Et[an],Et[an]="none")}function Qt(){Et&&an&&(Et[an]=Ht)}function vt(p){p.preventDefault(),p.stopPropagation(),window.removeEventListener("click",vt,!0)}function sn(){window.addEventListener("click",vt,!0),window.setTimeout(()=>{window.removeEventListener("click",vt,!0)},0)}function Xt(p,r){const l=p.getBoundingClientRect();return Nn(p,l,r)}function _n(p,r){const l=p.getBoundingClientRect(),m=[];for(let b=0;b<r.length;b++)m.push(Nn(p,l,r[b]));return m}function En(p){return/firefox/i.test(navigator.userAgent)&&/macintosh/i.test(navigator.userAgent)&&p.button===2&&p.ctrlKey?0:p.button}function Nn(p,r,l){const m=p.offsetWidth===r.width?1:p.offsetWidth/r.width;return new d.P((l.clientX-r.left)*m,(l.clientY-r.top)*m)}const fi="01",Pt="NO_ACCESS_TOKEN";class Hr{constructor(r,l,m){this._transformRequestFn=r,this._customAccessToken=l,this._silenceAuthErrors=!!m,this._createSkuToken()}_createSkuToken(){const r=function(){let l="";for(let m=0;m<10;m++)l+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",fi,l].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=r.token,this._skuTokenExpiresAt=r.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(r,l){return this._transformRequestFn&&this._transformRequestFn(r,l)||{url:r}}normalizeStyleURL(r,l){if(!d.f(r))return r;const m=Fn(r);return m.params.push(`sdk=js-${Be}`),m.path=`/styles/v1${m.path}`,this._makeAPIURL(m,this._customAccessToken||l)}normalizeGlyphsURL(r,l){if(!d.f(r))return r;const m=Fn(r);return m.path=`/fonts/v1${m.path}`,this._makeAPIURL(m,this._customAccessToken||l)}normalizeModelURL(r,l){if(!d.f(r))return r;const m=Fn(r);return m.path=`/models/v1${m.path}`,this._makeAPIURL(m,this._customAccessToken||l)}normalizeSourceURL(r,l,m,b){if(!d.f(r))return r;const w=Fn(r);return w.path=`/v4/${w.authority}.json`,w.params.push("secure"),m&&w.params.push(`language=${m}`),b&&w.params.push(`worldview=${b}`),this._makeAPIURL(w,this._customAccessToken||l)}normalizeIconsetURL(r,l){const m=Fn(r);return d.f(r)?(m.path=`/styles/v1${m.path}/iconset.pbf`,this._makeAPIURL(m,this._customAccessToken||l)):Br(m)}normalizeSpriteURL(r,l,m,b){const w=Fn(r);return d.f(r)?(w.path=`/styles/v1${w.path}/sprite${l}${m}`,this._makeAPIURL(w,this._customAccessToken||b)):(w.path+=`${l}${m}`,Br(w))}normalizeTileURL(r,l,m){if(this._isSkuTokenExpired()&&this._createSkuToken(),r&&!d.f(r))return r;const b=Fn(r);b.path=b.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${l||m&&b.authority!=="raster"&&m===512?"@2x":""}${d.m.supported?".webp":"$1"}`),b.authority==="raster"?b.path=`/${d.e.RASTER_URL_PREFIX}${b.path}`:b.authority==="rasterarrays"?b.path=`/${d.e.RASTERARRAYS_URL_PREFIX}${b.path}`:b.authority==="3dtiles"?b.path=`/${d.e.TILES3D_URL_PREFIX}${b.path}`:(b.path=b.path.replace(/^.+\/v4\//,"/"),b.path=`/${d.e.TILE_URL_VERSION}${b.path}`);const w=this._customAccessToken||function(I){for(const D of I){const Z=D.match(/^access_token=(.*)$/);if(Z)return Z[1]}return null}(b.params)||d.e.ACCESS_TOKEN;return d.e.REQUIRE_ACCESS_TOKEN&&w&&this._skuToken&&b.params.push(`sku=${this._skuToken}`),this._makeAPIURL(b,w)}canonicalizeTileURL(r,l){const m=Fn(r);if(!m.path.match(/^(\/v4\/|\/(raster|rasterarrays)\/v1\/)/)||!m.path.match(/\.[\w]+$/))return r;let b="mapbox://";m.path.match(/^\/raster\/v1\//)?b+=`raster/${m.path.replace(`/${d.e.RASTER_URL_PREFIX}/`,"")}`:m.path.match(/^\/rasterarrays\/v1\//)?b+=`rasterarrays/${m.path.replace(`/${d.e.RASTERARRAYS_URL_PREFIX}/`,"")}`:b+=`tiles/${m.path.replace(`/${d.e.TILE_URL_VERSION}/`,"")}`;let w=m.params;return l&&(w=w.filter(I=>!I.match(/^access_token=/))),w.length&&(b+=`?${w.join("&")}`),b}canonicalizeTileset(r,l){const m=!!l&&d.f(l),b=[];for(const w of r.tiles||[])d.h(w)?b.push(this.canonicalizeTileURL(w,m)):b.push(w);return b}_makeAPIURL(r,l){const m="See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes",b=Fn(d.e.API_URL);if(r.protocol=b.protocol,r.authority=b.authority,r.protocol==="http"){const w=r.params.indexOf("secure");w>=0&&r.params.splice(w,1)}if(b.path!=="/"&&(r.path=`${b.path}${r.path}`),!d.e.REQUIRE_ACCESS_TOKEN)return Br(r);if(l=l||d.e.ACCESS_TOKEN,!this._silenceAuthErrors){if(!l)throw new Error(`An API access token is required to use Mapbox GL. ${m}`);if(l[0]==="s")throw new Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ${m}`)}return r.params=r.params.filter(w=>w.indexOf("access_token")===-1),r.params.push(`access_token=${l||""}`),Br(r)}}const Rn=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Fn(p){const r=p.match(Rn);if(!r)throw new Error("Unable to parse URL object");return{protocol:r[1],authority:r[2],path:r[3]||"/",params:r[4]?r[4].split("&"):[]}}function Br(p){const r=p.params.length?`?${p.params.join("&")}`:"";return`${p.protocol}://${p.authority}${p.path}${r}`}const Tr="mapbox.eventData";function nr(p){if(!p)return null;const r=p.split(".");if(!r||r.length!==3)return null;try{return JSON.parse(d.j(r[1]))}catch(l){return null}}class Qr{constructor(r){this.type=r,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(r){const l=nr(d.e.ACCESS_TOKEN);let m="";return m=l&&l.u?d.k(l.u):d.e.ACCESS_TOKEN||"",r?`${Tr}.${r}:${m}`:`${Tr}:${m}`}fetchEventData(){const r=d.s("localStorage"),l=this.getStorageKey(),m=this.getStorageKey("uuid");if(r)try{const b=localStorage.getItem(l);b&&(this.eventData=JSON.parse(b));const w=localStorage.getItem(m);w&&(this.anonId=w)}catch(b){d.w("Unable to read from LocalStorage")}}saveEventData(){const r=d.s("localStorage"),l=this.getStorageKey(),m=this.getStorageKey("uuid"),b=this.anonId;if(r&&b)try{localStorage.setItem(m,b),Object.keys(this.eventData).length>=1&&localStorage.setItem(l,JSON.stringify(this.eventData))}catch(w){d.w("Unable to write to LocalStorage")}}processRequests(r){}postEvent(r,l,m,b){if(!d.e.EVENTS_URL)return;const w=Fn(d.e.EVENTS_URL);w.params.push(`access_token=${b||d.e.ACCESS_TOKEN||""}`);const I={event:this.type,created:new Date(r).toISOString()},D=l?d.l(I,l):I,Z={url:Br(w),headers:{"Content-Type":"text/plain"},body:JSON.stringify([D])};this.pendingRequest=d.p(Z,W=>{this.pendingRequest=null,m(W),this.saveEventData(),this.processRequests(b)})}queueRequest(r,l){this.queue.push(r),this.processRequests(l)}}const Mr=new class extends Qr{constructor(p){super("appUserTurnstile"),this._customAccessToken=p}postTurnstileEvent(p,r){d.e.EVENTS_URL&&d.e.ACCESS_TOKEN&&Array.isArray(p)&&p.some(l=>d.f(l)||d.h(l))&&this.queueRequest(Date.now(),r)}processRequests(p){if(this.pendingRequest||this.queue.length===0)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const r=nr(d.e.ACCESS_TOKEN),l=r?r.u:d.e.ACCESS_TOKEN;let m=l!==this.eventData.tokenU;d.v(this.anonId)||(this.anonId=d.u(),m=!0);const b=this.queue.shift();if(this.eventData.lastSuccess){const w=new Date(this.eventData.lastSuccess),I=new Date(b),D=(b-this.eventData.lastSuccess)/864e5;m=m||D>=1||D<-1||w.getDate()!==I.getDate()}else m=!0;m?this.postEvent(b,{sdkIdentifier:"mapbox-gl-js",sdkVersion:Be,skuId:fi,"enabled.telemetry":!1,userId:this.anonId},w=>{w||(this.eventData.lastSuccess=b,this.eventData.tokenU=l)},p):this.processRequests()}},Jn=Mr.postTurnstileEvent.bind(Mr),Rt=new class extends Qr{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(p,r,l,m){this.skuToken=r,this.errorCb=m,d.e.EVENTS_URL&&(l||d.e.ACCESS_TOKEN?this.queueRequest({id:p,timestamp:Date.now()},l):this.errorCb(new Error(Pt)))}processRequests(p){if(this.pendingRequest||this.queue.length===0)return;const{id:r,timestamp:l}=this.queue.shift();r&&this.success[r]||(this.anonId||this.fetchEventData(),d.v(this.anonId)||(this.anonId=d.u()),this.postEvent(l,{sdkIdentifier:"mapbox-gl-js",sdkVersion:Be,skuId:fi,skuToken:this.skuToken,userId:this.anonId},m=>{m?this.errorCb(m):r&&(this.success[r]=!0)},p))}remove(){this.errorCb=null}},Tn=Rt.postMapLoadEvent.bind(Rt),Gn=new class extends Qr{constructor(){super("style.load"),this.eventIdPerMapInstanceMap=new Map,this.mapInstanceIdMap=new WeakMap}getMapInstanceId(p){let r=this.mapInstanceIdMap.get(p);return r||(r=d.u(),this.mapInstanceIdMap.set(p,r)),r}getEventId(p){const r=this.eventIdPerMapInstanceMap.get(p)||0;return this.eventIdPerMapInstanceMap.set(p,r+1),r}postStyleLoadEvent(p,r){const{map:l,style:m,importedStyles:b}=r;if(!d.e.EVENTS_URL||!p&&!d.e.ACCESS_TOKEN)return;const w=this.getMapInstanceId(l),I={mapInstanceId:w,eventId:this.getEventId(w),style:m};b.length&&(I.importedStyles=b),this.queueRequest({timestamp:Date.now(),payload:I},p)}processRequests(p){if(this.pendingRequest||this.queue.length===0)return;const{timestamp:r,payload:l}=this.queue.shift();this.postEvent(r,l,()=>{},p)}},mr=Gn.postStyleLoadEvent.bind(Gn),ir=new class extends Qr{constructor(){super("gljs.performance")}postPerformanceEvent(p,r){d.e.EVENTS_URL&&(p||d.e.ACCESS_TOKEN)&&this.queueRequest({timestamp:Date.now(),performanceData:r},p)}processRequests(p){if(this.pendingRequest||this.queue.length===0)return;const{timestamp:r,performanceData:l}=this.queue.shift(),m=function(b){const w=performance.getEntriesByType("resource"),I=performance.getEntriesByType("mark"),D=function(ce){const Te={};if(ce){for(const we in ce)if(we!=="other")for(const Re of ce[we]){const Oe=`${we}ResolveRangeMin`,Ge=`${we}ResolveRangeMax`,dt=`${we}RequestCount`,st=`${we}RequestCachedCount`;Te[Oe]=Math.min(Te[Oe]||1/0,Re.startTime),Te[Ge]=Math.max(Te[Ge]||-1/0,Re.responseEnd);const bt=pt=>{Te[pt]===void 0&&(Te[pt]=0),++Te[pt]};Re.transferSize!==void 0&&Re.transferSize===0&&bt(st),bt(dt)}}return Te}(function(ce,Te){const we={};if(ce)for(const Re of ce){const Oe=Te(Re);we[Oe]===void 0&&(we[Oe]=[]),we[Oe].push(Re)}return we}(w,qe)),Z=window.devicePixelRatio,W=navigator.connection||navigator.mozConnection||navigator.webkitConnection,G=W?W.effectiveType:void 0,te={counters:[],metadata:[],attributes:[]},ne=(ce,Te,we)=>{we!=null&&ce.push({name:Te,value:we.toString()})};for(const ce in D)ne(te.counters,ce,D[ce]);if(b.interactionRange[0]!==1/0&&b.interactionRange[1]!==-1/0&&(ne(te.counters,"interactionRangeMin",b.interactionRange[0]),ne(te.counters,"interactionRangeMax",b.interactionRange[1])),I)for(const ce of Object.keys(lt)){const Te=lt[ce],we=I.find(Re=>Re.name===Te);we&&ne(te.counters,Te,we.startTime)}return ne(te.counters,"visibilityHidden",b.visibilityHidden),ne(te.attributes,"style",function(ce){if(ce)for(const Te of ce){const we=Te.name.split("?")[0];if(d.i(we)){const Re=we.split("/").slice(-2);if(Re.length===2)return`mapbox://styles/${Re[0]}/${Re[1]}`}}}(w)),ne(te.attributes,"terrainEnabled",b.terrainEnabled?"true":"false"),ne(te.attributes,"fogEnabled",b.fogEnabled?"true":"false"),ne(te.attributes,"projection",b.projection),ne(te.attributes,"zoom",b.zoom),ne(te.metadata,"devicePixelRatio",Z),ne(te.metadata,"connectionEffectiveType",G),ne(te.metadata,"navigatorUserAgent",navigator.userAgent),ne(te.metadata,"screenWidth",window.screen.width),ne(te.metadata,"screenHeight",window.screen.height),ne(te.metadata,"windowWidth",window.innerWidth),ne(te.metadata,"windowHeight",window.innerHeight),ne(te.metadata,"mapWidth",b.width/Z),ne(te.metadata,"mapHeight",b.height/Z),ne(te.metadata,"webglRenderer",b.renderer),ne(te.metadata,"webglVendor",b.vendor),ne(te.metadata,"sdkVersion",Be),ne(te.metadata,"sdkIdentifier","mapbox-gl-js"),te}(l);for(const b of m.metadata);for(const b of m.counters);for(const b of m.attributes);this.postEvent(r,m,()=>{},p)}},zr=ir.postPerformanceEvent.bind(ir),wr=new class extends Qr{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(p,r,l,m){if(!d.e.API_URL||!d.e.SESSION_PATH)return;const b=Fn(d.e.API_URL+d.e.SESSION_PATH);b.params.push(`sku=${r||""}`),b.params.push(`access_token=${m||d.e.ACCESS_TOKEN||""}`);const w={url:Br(b),headers:{"Content-Type":"text/plain"}};this.pendingRequest=d.g(w,I=>{this.pendingRequest=null,l(I),this.saveEventData(),this.processRequests(m)})}getSessionAPI(p,r,l,m){this.skuToken=r,this.errorCb=m,d.e.SESSION_PATH&&d.e.API_URL&&(l||d.e.ACCESS_TOKEN?this.queueRequest({id:p,timestamp:Date.now()},l):this.errorCb(new Error(Pt)))}processRequests(p){if(this.pendingRequest||this.queue.length===0)return;const{id:r,timestamp:l}=this.queue.shift();r&&this.success[r]||this.getSession(l,this.skuToken,m=>{m?this.errorCb(m):r&&(this.success[r]=!0)},p)}remove(){this.errorCb=null}},J=wr.getSessionAPI.bind(wr),mn=new Set;function Ui(p,r){r?mn.add(p):mn.delete(p)}class ki{constructor(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSourceCaches={},this._updatedPaintProps=new Set,this._updatedImages=new Set}isDirty(){return this._changed}setDirty(){this._changed=!0}getUpdatedSourceCaches(){return this._updatedSourceCaches}updateSourceCache(r,l){this._updatedSourceCaches[r]=l,this.setDirty()}discardSourceCacheUpdate(r){delete this._updatedSourceCaches[r]}updateLayer(r){const l=r.scope;this._updatedLayers[l]=this._updatedLayers[l]||new Set,this._updatedLayers[l].add(r.id),this.setDirty()}removeLayer(r){const l=r.scope;this._removedLayers[l]=this._removedLayers[l]||{},this._updatedLayers[l]=this._updatedLayers[l]||new Set,this._removedLayers[l][r.id]=r,this._updatedLayers[l].delete(r.id),this._updatedPaintProps.delete(r.fqid),this.setDirty()}getRemovedLayer(r){return this._removedLayers[r.scope]?this._removedLayers[r.scope][r.id]:null}discardLayerRemoval(r){this._removedLayers[r.scope]&&delete this._removedLayers[r.scope][r.id]}getLayerUpdatesByScope(){const r={};for(const l in this._updatedLayers)r[l]=r[l]||{},r[l].updatedIds=Array.from(this._updatedLayers[l].values());for(const l in this._removedLayers)r[l]=r[l]||{},r[l].removedIds=Object.keys(this._removedLayers[l]);return r}getUpdatedPaintProperties(){return this._updatedPaintProps}updatePaintProperties(r){this._updatedPaintProps.add(r.fqid),this.setDirty()}getUpdatedImages(){return Array.from(this._updatedImages.values())}updateImage(r){this._updatedImages.add(r),this.setDirty()}resetUpdatedImages(){this._updatedImages.clear()}reset(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSourceCaches={},this._updatedPaintProps.clear(),this._updatedImages.clear()}}function Sn(p){const{userImage:r}=p;return!!(r&&r.render&&r.render())&&(p.data.replace(new Uint8Array(r.data.buffer)),!0)}class ei extends d.E{constructor(r){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded={},this.requestors=[],this.patterns={},this.atlasImage={},this.atlasTexture={},this.dirty=!0,this.spriteFormat=r,r!=="raster"&&d.t()&&(this.imageRasterizerDispatcher=new d.D(d.x(),this,"Image Rasterizer Worker",1))}get imageRasterizer(){return this._imageRasterizer||(this._imageRasterizer=new d.I),this._imageRasterizer}createScope(r){this.images[r]={},this.loaded[r]=!1,this.updatedImages[r]={},this.patterns[r]={},this.callbackDispatchedThisFrame[r]={},this.atlasImage[r]=new d.r({width:1,height:1})}isLoaded(){for(const r in this.loaded)if(!this.loaded[r])return!1;return!0}setLoaded(r,l){if(this.loaded[l]!==r&&(this.loaded[l]=r,r)){for(const{ids:m,callback:b}of this.requestors)this._notify(m,l,b);this.requestors=[]}}hasImage(r,l){return!!this.getImage(r,l)}getImage(r,l){return this.images[l][r]}addImage(r,l,m){this._validate(r,m)&&(this.images[l][r]=m)}_validate(r,l){let m=!0;return this._validateStretch(l.stretchX,l.data&&l.data.width)||(this.fire(new d.y(new Error(`Image "${r}" has invalid "stretchX" value`))),m=!1),this._validateStretch(l.stretchY,l.data&&l.data.height)||(this.fire(new d.y(new Error(`Image "${r}" has invalid "stretchY" value`))),m=!1),this._validateContent(l.content,l)||(this.fire(new d.y(new Error(`Image "${r}" has invalid "content" value`))),m=!1),m}_validateStretch(r,l){if(!r)return!0;let m=0;for(const b of r){if(b[0]<m||b[1]<b[0]||l<b[1])return!1;m=b[1]}return!0}_validateContent(r,l){return r?r.length!==4||!l.usvg&&(r[0]<0||l.data.width<r[0]||r[1]<0||l.data.height<r[1]||r[2]<0||l.data.width<r[2]||r[3]<0||l.data.height<r[3])?!1:!(r[2]<r[0]||r[3]<r[1]):!0}updateImage(r,l,m){m.version=this.images[l][r].version+1,this.images[l][r]=m,this.updatedImages[l][r]=!0,this.removeFromImageRasterizerCache(r,l)}removeFromImageRasterizerCache(r,l){this.spriteFormat!=="raster"&&(d.t()?this.imageRasterizerDispatcher.getActor().send("removeRasterizedImages",{imageIds:[r],scope:l}):this.imageRasterizer.removeImagesFromCacheByIds([r],l))}removeImage(r,l){const m=this.images[l][r];delete this.images[l][r],delete this.patterns[l][r],this.removeFromImageRasterizerCache(r,l),m.userImage&&m.userImage.onRemove&&m.userImage.onRemove()}listImages(r){return Object.keys(this.images[r])}getImages(r,l,m){let b=!0;const w=!!this.loaded[l];if(!w)for(const I of r)this.images[l][I]||(b=!1);w||b?this._notify(r,l,m):this.requestors.push({ids:r,scope:l,callback:m})}rasterizeImages({scope:r,imageTasks:l},m){const b={};for(const w in l){const I=l[w],D=this.getImage(I.id,r);D&&(b[w]={image:D,imageIdWithOptions:I})}d.t()?this.imageRasterizerDispatcher.getActor().send("rasterizeImages",{imageTasks:b,scope:r},m):this.rasterizeImagesInMainThread({imageTasks:b,scope:r},m)}rasterizeImagesInMainThread(r,l){const{imageTasks:m,scope:b}=r,w={};for(const I in m){const{image:D,imageIdWithOptions:Z}=m[I];w[I]=this.imageRasterizer.rasterize(Z,D,b,"")}l(void 0,w)}getUpdatedImages(r){return this.updatedImages[r]}_notify(r,l,m){const b={};for(const w of r){this.images[l][w]||this.fire(new d.z("styleimagemissing",{id:w}));const I=this.images[l][w];I?b[w]={data:I.usvg?null:I.data.clone(),pixelRatio:I.pixelRatio,sdf:I.sdf,usvg:I.usvg,version:I.version,stretchX:I.stretchX,stretchY:I.stretchY,content:I.content,hasRenderCallback:!!(I.userImage&&I.userImage.render)}:d.w(`Image "${w}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}m(null,b)}getPixelSize(r){const{width:l,height:m}=this.atlasImage[r];return{width:l,height:m}}getPattern(r,l,m){const b=this.patterns[l][r],w=this.getImage(r,l);if(!w)return null;if(b&&b.position.version===w.version)return b.position;if(b)b.position.version=w.version;else{w.usvg&&!w.data&&(w.data=this.imageRasterizer.rasterize(d.A.from(r).getPrimary(),w,l,""));const I={w:w.data.width+2*d.B,h:w.data.height+2*d.B,x:0,y:0},D=new d.C(I,w,d.B);this.patterns[l][r]={bin:I,position:D}}return this._updatePatternAtlas(l,m),this.patterns[l][r].position}bind(r,l){const m=r.gl;let b=this.atlasTexture[l];b?this.dirty&&(b.update(this.atlasImage[l]),this.dirty=!1):(b=new d.T(r,this.atlasImage[l],m.RGBA8),this.atlasTexture[l]=b),b.bind(m.LINEAR,m.CLAMP_TO_EDGE)}_updatePatternAtlas(r,l){const m=[];for(const D in this.patterns[r])m.push(this.patterns[r][D].bin);const{w:b,h:w}=d.F(m),I=this.atlasImage[r];I.resize({width:b||1,height:w||1});for(const D in this.patterns[r]){const{bin:Z,position:W}=this.patterns[r][D];let G=W.padding;const te=Z.x+G,ne=Z.y+G,ce=this.images[r][D].data,Te=ce.width,we=ce.height;G=G>1?G-1:G,d.r.copy(ce,I,{x:0,y:0},{x:te,y:ne},{width:Te,height:we},l),d.r.copy(ce,I,{x:0,y:we-G},{x:te,y:ne-G},{width:Te,height:G},l),d.r.copy(ce,I,{x:0,y:0},{x:te,y:ne+we},{width:Te,height:G},l),d.r.copy(ce,I,{x:Te-G,y:0},{x:te-G,y:ne},{width:G,height:we},l),d.r.copy(ce,I,{x:0,y:0},{x:te+Te,y:ne},{width:G,height:we},l),d.r.copy(ce,I,{x:Te-G,y:we-G},{x:te-G,y:ne-G},{width:G,height:G},l),d.r.copy(ce,I,{x:0,y:we-G},{x:te+Te,y:ne-G},{width:G,height:G},l),d.r.copy(ce,I,{x:0,y:0},{x:te+Te,y:ne+we},{width:G,height:G},l),d.r.copy(ce,I,{x:Te-G,y:0},{x:te-G,y:ne+we},{width:G,height:G},l)}this.dirty=!0}beginFrame(){for(const r in this.images)this.callbackDispatchedThisFrame[r]={}}dispatchRenderCallbacks(r,l){for(const m of r){if(this.callbackDispatchedThisFrame[l][m])continue;this.callbackDispatchedThisFrame[l][m]=!0;const b=this.images[l][m];Sn(b)&&this.updateImage(m,l,b)}}}function Pi(p){const r=p.key,l=p.value,m=p.valueSpec||{},b=p.objectElementValidators||{},w=p.style,I=p.styleSpec;let D=[];const Z=d.H(l);if(Z!=="object")return[new d.V(r,l,`object expected, ${Z} found`)];for(const W in l){const G=W.split(".")[0];let te;b[G]?te=b[G]:m[G]?te=jr:b["*"]?te=b["*"]:m["*"]&&(te=jr),te?D=D.concat(te({key:(r&&`${r}.`)+W,value:l[W],valueSpec:m[G]||m["*"],style:w,styleSpec:I,object:l,objectKey:W},l)):D.push(new d.G(r,l[W],`unknown property "${W}"`))}for(const W in m)b[W]||m[W].required&&m[W].default===void 0&&l[W]===void 0&&D.push(new d.V(r,l,`missing required property "${W}"`));return D}function Xr(p){const r=p.value,l=p.valueSpec,m=p.style,b=p.styleSpec,w=p.key,I=p.arrayElementValidator||jr;if(d.H(r)!=="array")return[new d.V(w,r,`array expected, ${d.H(r)} found`)];if(l.length&&r.length!==l.length)return[new d.V(w,r,`array length ${l.length} expected, length ${r.length} found`)];if(l["min-length"]&&r.length<l["min-length"])return[new d.V(w,r,`array length at least ${l["min-length"]} expected, length ${r.length} found`)];let D={type:l.value,values:l.values,minimum:l.minimum,maximum:l.maximum,function:void 0};b.$version<7&&(D.function=l.function),d.H(l.value)==="object"&&(D=l.value);let Z=[];for(let W=0;W<r.length;W++)Z=Z.concat(I({array:r,arrayIndex:W,value:r[W],valueSpec:D,style:m,styleSpec:b,key:`${w}[${W}]`},!0));return Z}function or(p){const r=p.key,l=p.value,m=p.valueSpec;let b=d.H(l);if(b==="number"&&l!=l&&(b="NaN"),b!=="number")return[new d.V(r,l,`number expected, ${b} found`)];if("minimum"in m){let w=m.minimum;if(d.H(m.minimum)==="array"&&(w=m.minimum[p.arrayIndex]),l<w)return[new d.V(r,l,`${l} is less than the minimum value ${w}`)]}if("maximum"in m){let w=m.maximum;if(d.H(m.maximum)==="array"&&(w=m.maximum[p.arrayIndex]),l>w)return[new d.V(r,l,`${l} is greater than the maximum value ${w}`)]}return[]}function dr(p){const r=p.valueSpec,l=d.K(p.value.type);let m,b,w,I={};const D=l!=="categorical"&&p.value.property===void 0,Z=!D,W=d.H(p.value.stops)==="array"&&d.H(p.value.stops[0])==="array"&&d.H(p.value.stops[0][0])==="object",G=Pi({key:p.key,value:p.value,valueSpec:p.styleSpec.function,style:p.style,styleSpec:p.styleSpec,objectElementValidators:{stops:function(ce){if(l==="identity")return[new d.V(ce.key,ce.value,'identity function may not have a "stops" property')];let Te=[];const we=ce.value;return Te=Te.concat(Xr({key:ce.key,value:we,valueSpec:ce.valueSpec,style:ce.style,styleSpec:ce.styleSpec,arrayElementValidator:te})),d.H(we)==="array"&&we.length===0&&Te.push(new d.V(ce.key,we,"array must have at least one stop")),Te},default:function(ce){return jr({key:ce.key,value:ce.value,valueSpec:r,style:ce.style,styleSpec:ce.styleSpec})}}});return l==="identity"&&D&&G.push(new d.V(p.key,p.value,'missing required property "property"')),l==="identity"||p.value.stops||G.push(new d.V(p.key,p.value,'missing required property "stops"')),l==="exponential"&&p.valueSpec.expression&&!d.L(p.valueSpec)&&G.push(new d.V(p.key,p.value,"exponential functions not supported")),p.styleSpec.$version>=8&&(Z&&!d.M(p.valueSpec)?G.push(new d.V(p.key,p.value,"property functions not supported")):D&&!d.N(p.valueSpec)&&G.push(new d.V(p.key,p.value,"zoom functions not supported"))),l!=="categorical"&&!W||p.value.property!==void 0||G.push(new d.V(p.key,p.value,'"property" property is required')),G;function te(ce){let Te=[];const we=ce.value,Re=ce.key;if(d.H(we)!=="array")return[new d.V(Re,we,`array expected, ${d.H(we)} found`)];if(we.length!==2)return[new d.V(Re,we,`array length 2 expected, length ${we.length} found`)];if(W){if(d.H(we[0])!=="object")return[new d.V(Re,we,`object expected, ${d.H(we[0])} found`)];if(we[0].zoom===void 0)return[new d.V(Re,we,"object stop key must have zoom")];if(we[0].value===void 0)return[new d.V(Re,we,"object stop key must have value")];const Oe=d.K(we[0].zoom);if(typeof Oe!="number")return[new d.V(Re,we[0].zoom,"stop zoom values must be numbers")];if(w&&w>Oe)return[new d.V(Re,we[0].zoom,"stop zoom values must appear in ascending order")];Oe!==w&&(w=Oe,b=void 0,I={}),Te=Te.concat(Pi({key:`${Re}[0]`,value:we[0],valueSpec:{zoom:{}},style:ce.style,styleSpec:ce.styleSpec,objectElementValidators:{zoom:or,value:ne}}))}else Te=Te.concat(ne({key:`${Re}[0]`,value:we[0],valueSpec:{},style:ce.style,styleSpec:ce.styleSpec},we));return d.O(d.Q(we[1]))?Te.concat([new d.V(`${Re}[1]`,we[1],"expressions are not allowed in function stops.")]):Te.concat(jr({key:`${Re}[1]`,value:we[1],valueSpec:r,style:ce.style,styleSpec:ce.styleSpec}))}function ne(ce,Te){const we=d.H(ce.value),Re=d.K(ce.value),Oe=ce.value!==null?ce.value:Te;if(m){if(we!==m)return[new d.V(ce.key,Oe,`${we} stop domain type must match previous stop domain type ${m}`)]}else m=we;if(we!=="number"&&we!=="string"&&we!=="boolean"&&typeof Re!="number"&&typeof Re!="string"&&typeof Re!="boolean")return[new d.V(ce.key,Oe,"stop domain value must be a number, string, or boolean")];if(we!=="number"&&l!=="categorical"){let Ge=`number expected, ${we} found`;return d.M(r)&&l===void 0&&(Ge+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new d.V(ce.key,Oe,Ge)]}return l!=="categorical"||we!=="number"||typeof Re=="number"&&isFinite(Re)&&Math.floor(Re)===Re?l!=="categorical"&&we==="number"&&typeof Re=="number"&&typeof b=="number"&&b!==void 0&&Re<b?[new d.V(ce.key,Oe,"stop domain values must appear in ascending order")]:(b=Re,l==="categorical"&&Re in I?[new d.V(ce.key,Oe,"stop domain values must be unique")]:(I[Re]=!0,[])):[new d.V(ce.key,Oe,`integer expected, found ${String(Re)}`)]}}function $i(p){const r=(p.expressionContext==="property"?d.S:d.U)(d.Q(p.value),p.valueSpec);if(r.result==="error")return r.value.map(m=>new d.V(`${p.key}${m.key}`,p.value,m.message));const l=r.value.expression||r.value._styleExpression.expression;if(p.expressionContext==="property"&&p.propertyKey==="text-font"&&!l.outputDefined())return[new d.V(p.key,p.value,`Invalid data expression for "${p.propertyKey}". Output values must be contained as literals within the expression.`)];if(p.expressionContext==="property"&&p.propertyType==="layout"&&!d.W(l))return[new d.V(p.key,p.value,'"feature-state" data expressions are not supported with layout properties.')];if(p.expressionContext==="filter")return Zo(l,p);if(p.expressionContext&&p.expressionContext.indexOf("cluster")===0){if(!d.X(l,["zoom","feature-state"]))return[new d.V(p.key,p.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(p.expressionContext==="cluster-initial"&&!d.Y(l))return[new d.V(p.key,p.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Zo(p,r){const l=new Set(["zoom","feature-state","pitch","distance-from-center"]);if(r.valueSpec&&r.valueSpec.expression)for(const b of r.valueSpec.expression.parameters)l.delete(b);if(l.size===0)return[];const m=[];return p instanceof d.Z&&l.has(p.name)?[new d.V(r.key,r.value,`["${p.name}"] expression is not supported in a filter for a ${r.object.type} layer with id: ${r.object.id}`)]:(p.eachChild(b=>{m.push(...Zo(b,r))}),m)}function ha(p){const r=p.key,l=p.value,m=p.valueSpec,b=[];return Array.isArray(m.values)?m.values.indexOf(d.K(l))===-1&&b.push(new d.V(r,l,`expected one of [${m.values.join(", ")}], ${JSON.stringify(l)} found`)):Object.keys(m.values).indexOf(d.K(l))===-1&&b.push(new d.V(r,l,`expected one of [${Object.keys(m.values).join(", ")}], ${JSON.stringify(l)} found`)),b}function Da(p){return d.$(d.Q(p.value))?$i(d.J({},p,{expressionContext:"filter",valueSpec:p.styleSpec[`filter_${p.layerType||"fill"}`]})):ri(p)}function ri(p){const r=p.value,l=p.key;if(d.H(r)!=="array")return[new d.V(l,r,`array expected, ${d.H(r)} found`)];const m=p.styleSpec;let b,w=[];if(r.length<1)return[new d.V(l,r,"filter array must have at least 1 element")];switch(w=w.concat(ha({key:`${l}[0]`,value:r[0],valueSpec:m.filter_operator,style:p.style,styleSpec:p.styleSpec})),d.K(r[0])){case"<":case"<=":case">":case">=":r.length>=2&&d.K(r[1])==="$type"&&w.push(new d.V(l,r,`"$type" cannot be use with operator "${r[0]}"`));case"==":case"!=":r.length!==3&&w.push(new d.V(l,r,`filter array for operator "${r[0]}" must have 3 elements`));case"in":case"!in":r.length>=2&&(b=d.H(r[1]),b!=="string"&&w.push(new d.V(`${l}[1]`,r[1],`string expected, ${b} found`)));for(let I=2;I<r.length;I++)b=d.H(r[I]),d.K(r[1])==="$type"?w=w.concat(ha({key:`${l}[${I}]`,value:r[I],valueSpec:m.geometry_type,style:p.style,styleSpec:p.styleSpec})):b!=="string"&&b!=="number"&&b!=="boolean"&&w.push(new d.V(`${l}[${I}]`,r[I],`string, number, or boolean expected, ${b} found`));break;case"any":case"all":case"none":for(let I=1;I<r.length;I++)w=w.concat(ri({key:`${l}[${I}]`,value:r[I],style:p.style,styleSpec:p.styleSpec}));break;case"has":case"!has":b=d.H(r[1]),r.length!==2?w.push(new d.V(l,r,`filter array for "${r[0]}" operator must have 2 elements`)):b!=="string"&&w.push(new d.V(`${l}[1]`,r[1],`string expected, ${b} found`))}return w}function Ko(p,r){const l=p.key,m=p.style,b=p.layer,w=p.styleSpec,I=p.value,D=p.objectKey,Z=w[`${r}_${p.layerType}`];if(!Z)return[];const W=D.match(/^(.*)-use-theme$/);if(r==="paint"&&W&&Z[W[1]])return d.O(I)?[].concat(jr({key:p.key,value:I,valueSpec:{type:"string",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},style:m,styleSpec:w,expressionContext:"property",propertyType:r,propertyKey:D})):jr({key:l,value:I,valueSpec:{type:"string"},style:m,styleSpec:w});const G=D.match(/^(.*)-transition$/);if(r==="paint"&&G&&Z[G[1]]&&Z[G[1]].transition)return jr({key:l,value:I,valueSpec:w.transition,style:m,styleSpec:w});const te=p.valueSpec||Z[D];if(!te)return[new d.G(l,I,`unknown property "${D}"`)];let ne;if(d.H(I)==="string"&&d.M(te)&&!te.tokens&&(ne=/^{([^}]+)}$/.exec(I))){const Te=`\`{ "type": "identity", "property": ${ne?JSON.stringify(ne[1]):'"_"'} }\``;return[new d.V(l,I,`"${D}" does not support interpolation syntax
Use an identity property function instead: ${Te}.`)]}const ce=[];if(p.layerType==="symbol")D!=="text-field"||!m||m.glyphs||m.imports||ce.push(new d.V(l,I,'use of "text-field" requires a style "glyphs" property')),D==="text-font"&&d.a0(d.Q(I))&&d.K(I.type)==="identity"&&ce.push(new d.V(l,I,'"text-font" does not support identity functions'));else if(p.layerType==="model"&&r==="paint"&&b&&b.layout&&b.layout.hasOwnProperty("model-id")&&d.M(te)&&(d.a1(te)||d.N(te))){const Te=d.S(d.Q(I),te),we=Te.value.expression||Te.value._styleExpression.expression;we&&!d.X(we,["measure-light"])&&(D==="model-emissive-strength"&&d.Y(we)&&d.W(we)||ce.push(new d.V(l,I,`${D} does not support measure-light expressions when the model layer source is vector tile or GeoJSON.`)))}return ce.concat(jr({key:p.key,value:I,valueSpec:te,style:m,styleSpec:w,expressionContext:"property",propertyType:r,propertyKey:D}))}function Eo(p){return Ko(p,"paint")}function No(p){return Ko(p,"layout")}function ya(p){let r=[];const l=p.value,m=p.key,b=p.style,w=p.styleSpec;l.type||l.ref||r.push(new d.V(m,l,'either "type" or "ref" is required'));let I=d.K(l.type);const D=d.K(l.ref);if(l.id){const Z=d.K(l.id);for(let W=0;W<p.arrayIndex;W++){const G=b.layers[W];d.K(G.id)===Z&&r.push(new d.V(m,l.id,`duplicate layer id "${l.id}", previously used at line ${G.id.__line__}`))}}if("ref"in l){let Z;["type","source","source-layer","filter","layout"].forEach(W=>{W in l&&r.push(new d.V(m,l[W],`"${W}" is prohibited for ref layers`))}),b.layers.forEach(W=>{d.K(W.id)===D&&(Z=W)}),Z?Z.ref?r.push(new d.V(m,l.ref,"ref cannot reference another ref layer")):I=d.K(Z.type):typeof D=="string"&&r.push(new d.V(m,l.ref,`ref layer "${D}" not found`))}else if(I!=="background"&&I!=="sky"&&I!=="slot")if(l.source){const Z=b.sources&&b.sources[l.source],W=Z&&d.K(Z.type);Z?W==="vector"&&I==="raster"?r.push(new d.V(m,l.source,`layer "${l.id}" requires a raster source`)):W==="raster"&&I!=="raster"?r.push(new d.V(m,l.source,`layer "${l.id}" requires a vector source`)):W!=="vector"||l["source-layer"]?W==="raster-dem"&&I!=="hillshade"?r.push(new d.V(m,l.source,"raster-dem source can only be used with layer type 'hillshade'.")):W!=="raster-array"||["raster","raster-particle"].includes(I)?I!=="line"||!l.paint||!l.paint["line-gradient"]&&!l.paint["line-trim-offset"]||W==="geojson"&&Z.lineMetrics?I==="raster-particle"&&W!=="raster-array"&&r.push(new d.V(m,l.source,`layer "${l.id}" requires a 'raster-array' source.`)):r.push(new d.V(m,l,`layer "${l.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):r.push(new d.V(m,l.source,"raster-array source can only be used with layer type 'raster'.")):r.push(new d.V(m,l,`layer "${l.id}" must specify a "source-layer"`)):r.push(new d.V(m,l.source,`source "${l.source}" not found`))}else r.push(new d.V(m,l,'missing required property "source"'));return r=r.concat(Pi({key:m,value:l,valueSpec:w.layer,style:p.style,styleSpec:p.styleSpec,objectElementValidators:{"*":()=>[],type:()=>jr({key:`${m}.type`,value:l.type,valueSpec:w.layer.type,style:p.style,styleSpec:p.styleSpec,object:l,objectKey:"type"}),filter:Z=>Da(d.J({layerType:I},Z)),layout:Z=>Pi({layer:l,key:Z.key,value:Z.value,valueSpec:{},style:Z.style,styleSpec:Z.styleSpec,objectElementValidators:{"*":W=>No(d.J({layerType:I},W))}}),paint:Z=>Pi({layer:l,key:Z.key,value:Z.value,valueSpec:{},style:Z.style,styleSpec:Z.styleSpec,objectElementValidators:{"*":W=>Eo(d.J({layerType:I,layer:l},W))}})}})),r}function Oi(p){const r=p.value,l=p.key,m=d.H(r);return m!=="string"?[new d.V(l,r,`string expected, ${m} found`)]:[]}const Gr={promoteId:function p({key:r,value:l}){if(d.H(l)==="string")return Oi({key:r,value:l});if(Array.isArray(l)){const m=[],b=d.Q(l),w=d.U(b);return w.result==="error"&&w.value.forEach(I=>{m.push(new d.V(`${r}${I.key}`,null,`${I.message}`))}),d.X(w.value.expression,["zoom","heatmap-density","line-progress","raster-value","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center","measure-light","raster-particle-speed"])||m.push(new d.V(`${r}`,null,"promoteId expression should be only feature dependent")),m}{const m=[];for(const b in l)m.push(...p({key:`${r}.${b}`,value:l[b]}));return m}}};function so(p){const r=p.value,l=p.key,m=p.styleSpec,b=p.style;if(!r.type)return[new d.V(l,r,'"type" is required')];const w=d.K(r.type);let I=[];switch(["vector","raster","raster-dem","raster-array"].includes(w)&&(r.url||r.tiles||I.push(new d.G(l,r,'Either "url" or "tiles" is required.'))),w){case"vector":case"raster":case"raster-dem":case"raster-array":return I=I.concat(Pi({key:l,value:r,valueSpec:m[`source_${w.replace("-","_")}`],style:p.style,styleSpec:m,objectElementValidators:Gr})),I;case"geojson":if(I=Pi({key:l,value:r,valueSpec:m.source_geojson,style:b,styleSpec:m,objectElementValidators:Gr}),r.cluster)for(const D in r.clusterProperties){const[Z,W]=r.clusterProperties[D],G=typeof Z=="string"?[Z,["accumulated"],["get",D]]:Z;I.push(...$i({key:`${l}.${D}.map`,value:W,expressionContext:"cluster-map"})),I.push(...$i({key:`${l}.${D}.reduce`,value:G,expressionContext:"cluster-reduce"}))}return I;case"video":return Pi({key:l,value:r,valueSpec:m.source_video,style:b,styleSpec:m});case"image":return Pi({key:l,value:r,valueSpec:m.source_image,style:b,styleSpec:m});case"canvas":return[new d.V(l,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return ha({key:`${l}.type`,value:r.type,valueSpec:{values:Li(m)},style:b,styleSpec:m})}}function Li(p){return p.source.reduce((r,l)=>{const m=p[l];return m.type.type==="enum"&&(r=r.concat(Object.keys(m.type.values))),r},[])}function co(p){const r=p.value,l=p.styleSpec,m=l.light,b=p.style;let w=[];const I=d.H(r);if(r===void 0)return w;if(I!=="object")return w=w.concat([new d.V("light",r,`object expected, ${I} found`)]),w;for(const D in r){const Z=D.match(/^(.*)-transition$/),W=D.match(/^(.*)-use-theme$/);w=w.concat(W&&m[W[1]]?jr({key:D,value:r[D],valueSpec:{type:"string"},style:b,styleSpec:l}):Z&&m[Z[1]]&&m[Z[1]].transition?jr({key:D,value:r[D],valueSpec:l.transition,style:b,styleSpec:l}):m[D]?jr({key:D,value:r[D],valueSpec:m[D],style:b,styleSpec:l}):[new d.V(D,r[D],`unknown property "${D}"`)])}return w}function ws(p){const r=p.value;let l=[];if(!r)return l;const m=d.H(r);if(m!=="object")return l=l.concat([new d.V("light-3d",r,`object expected, ${m} found`)]),l;const b=p.styleSpec,w=b["light-3d"],I=p.key,D=p.style,Z=p.style.lights;for(const te of["type","id"])if(!(te in r))return l=l.concat([new d.V("light-3d",r,`missing property ${te} on light`)]),l;if(r.type&&Z)for(let te=0;te<p.arrayIndex;te++){const ne=d.K(r.type),ce=Z[te];d.K(ce.type)===ne&&l.push(new d.V(I,r.id,`duplicate light type "${r.type}", previously defined at line ${ce.id.__line__}`))}const W=`properties_light_${r.type}`;if(!(W in b))return l=l.concat([new d.V("light-3d",r,`Invalid light type ${r.type}`)]),l;const G=b[W];for(const te in r)if(te==="properties"){const ne=r[te],ce=d.H(ne);if(ce!=="object")return l=l.concat([new d.V("properties",ne,`object expected, ${ce} found`)]),l;for(const Te in ne)l=l.concat(G[Te]?jr({key:Te,value:ne[Te],valueSpec:G[Te],style:D,styleSpec:b}):[new d.G(p.key,ne[Te],`unknown property "${Te}"`)])}else{const ne=te.match(/^(.*)-transition$/),ce=te.match(/^(.*)-use-theme$/);l=l.concat(ce&&w[ce[1]]?jr({key:te,value:r[te],valueSpec:{type:"string"},style:D,styleSpec:b}):ne&&w[ne[1]]&&w[ne[1]].transition?jr({key:te,value:r[te],valueSpec:b.transition,style:D,styleSpec:b}):w[te]?jr({key:te,value:r[te],valueSpec:w[te],style:D,styleSpec:b}):[new d.G(te,r[te],`unknown property "${te}"`)])}return l}function Or(p){const r=p.value,l=p.key,m=p.style,b=p.styleSpec,w=b.terrain;let I=[];const D=d.H(r);if(r===void 0||D==="null")return I;if(D!=="object")return I=I.concat([new d.V("terrain",r,`object expected, ${D} found`)]),I;for(const Z in r){const W=Z.match(/^(.*)-transition$/),G=Z.match(/^(.*)-use-theme$/);I=I.concat(G&&w[G[1]]?jr({key:Z,value:r[Z],valueSpec:{type:"string"},style:m,styleSpec:b}):W&&w[W[1]]&&w[W[1]].transition?jr({key:Z,value:r[Z],valueSpec:b.transition,style:m,styleSpec:b}):w[Z]?jr({key:Z,value:r[Z],valueSpec:w[Z],style:m,styleSpec:b}):[new d.G(Z,r[Z],`unknown property "${Z}"`)])}if(r.source){const Z=m.sources&&m.sources[r.source],W=Z&&d.K(Z.type);Z?W!=="raster-dem"&&I.push(new d.V(l,r.source,`terrain cannot be used with a source of type ${String(W)}, it only be used with a "raster-dem" source type`)):I.push(new d.V(l,r.source,`source "${r.source}" not found`))}else I.push(new d.V(l,r,'terrain is missing required property "source"'));return I}function bo(p){const r=p.value,l=p.style,m=p.styleSpec,b=m.fog;let w=[];const I=d.H(r);if(r===void 0)return w;if(I!=="object")return w=w.concat([new d.V("fog",r,`object expected, ${I} found`)]),w;for(const D in r){const Z=D.match(/^(.*)-transition$/),W=D.match(/^(.*)-use-theme$/);w=w.concat(W&&b[W[1]]?jr({key:D,value:r[D],valueSpec:{type:"string"},style:l,styleSpec:m}):Z&&b[Z[1]]&&b[Z[1]].transition?jr({key:D,value:r[D],valueSpec:m.transition,style:l,styleSpec:m}):b[D]?jr({key:D,value:r[D],valueSpec:b[D],style:l,styleSpec:m}):[new d.G(D,r[D],`unknown property "${D}"`)])}return w}const Ua={"*":()=>[],array:Xr,boolean:function(p){const r=p.value,l=p.key,m=d.H(r);return m!=="boolean"?[new d.V(l,r,`boolean expected, ${m} found`)]:[]},number:or,color:function(p){const r=p.key,l=p.value,m=d.H(l);return m!=="string"?[new d.V(r,l,`color expected, ${m} found`)]:d._.parseCSSColor(l)===null?[new d.V(r,l,`color expected, "${l}" found`)]:[]},enum:ha,filter:Da,function:dr,layer:ya,object:Pi,source:so,model:d.a2,light:co,"light-3d":ws,terrain:Or,fog:bo,string:Oi,formatted:function(p){return Oi(p).length===0?[]:$i(p)},resolvedImage:function(p){return Oi(p).length===0?[]:$i(p)},projection:function(p){const r=p.value,l=p.styleSpec,m=l.projection,b=p.style;let w=[];const I=d.H(r);if(I==="object")for(const D in r)w=w.concat(jr({key:D,value:r[D],valueSpec:m[D],style:b,styleSpec:l}));else I!=="string"&&(w=w.concat([new d.V("projection",r,`object or string expected, ${I} found`)]));return w},import:function(p){const{value:r,styleSpec:l}=p,I=r,{data:m}=I,b=J2(I,["data"]);Object.defineProperty(b,"__line__",{value:r.__line__,enumerable:!1});let w=Pi(d.J({},p,{value:b,valueSpec:l.import}));return d.K(b.id)===""&&w.push(new d.V(`${p.key}.id`,b,"import id can't be an empty string")),m&&(w=w.concat(ss(m,l,{key:`${p.key}.data`}))),w}};function jr(p,r=!1){const l=p.value,m=p.valueSpec,b=p.styleSpec;if(m.expression&&d.a0(d.K(l)))return dr(p);if(m.expression&&d.O(d.Q(l)))return $i(p);if(m.type&&Ua[m.type]){const w=Ua[m.type](p);return r===!0&&w.length>0&&d.H(p.value)==="array"?$i(p):w}return Pi(d.J({},p,{valueSpec:m.type?b[m.type]:m}))}function ia(p){const r=p.value,l=p.key,m=Oi(p);return m.length||(r.indexOf("{fontstack}")===-1&&m.push(new d.V(l,r,'"glyphs" url must include a "{fontstack}" token')),r.indexOf("{range}")===-1&&m.push(new d.V(l,r,'"glyphs" url must include a "{range}" token'))),m}function ss(p,r=d.a3,l={}){return jr({key:l.key||"",value:p,valueSpec:r.$root,styleSpec:r,style:p,objectElementValidators:{glyphs:ia,"*":()=>[]}})}function Ra(p,r=d.a3){return Bo(ss(p,r))}const po=p=>Bo(so(p)),ds=p=>Bo(co(p)),il=p=>Bo(ws(p)),Cn=p=>Bo(Or(p)),Dn=p=>Bo(bo(p)),vn=p=>Bo(function(r){const l=r.value,m=r.style,b=r.styleSpec,w=b.snow;let I=[];const D=d.H(l);if(l===void 0)return I;if(D!=="object")return I=I.concat([new d.V("snow",l,`object expected, ${D} found`)]),I;for(const Z in l){const W=Z.match(/^(.*)-transition$/);I=I.concat(W&&w[W[1]]&&w[W[1]].transition?jr({key:Z,value:l[Z],valueSpec:b.transition,style:m,styleSpec:b}):w[Z]?jr({key:Z,value:l[Z],valueSpec:w[Z],style:m,styleSpec:b}):[new d.G(Z,l[Z],`unknown property "${Z}"`)])}return I}(p)),$r=p=>Bo(function(r){const l=r.value,m=r.style,b=r.styleSpec,w=b.rain;let I=[];const D=d.H(l);if(l===void 0)return I;if(D!=="object")return I=I.concat([new d.V("rain",l,`object expected, ${D} found`)]),I;for(const Z in l){const W=Z.match(/^(.*)-transition$/);I=I.concat(W&&w[W[1]]&&w[W[1]].transition?jr({key:Z,value:l[Z],valueSpec:b.transition,style:m,styleSpec:b}):w[Z]?jr({key:Z,value:l[Z],valueSpec:w[Z],style:m,styleSpec:b}):[new d.G(Z,l[Z],`unknown property "${Z}"`)])}return I}(p)),hi=p=>Bo(ya(p)),vi=p=>Bo(Da(p)),oa=p=>Bo(Eo(p)),aa=p=>Bo(No(p)),Ca=p=>Bo(d.a2(p));function Bo(p){return p.slice().sort((r,l)=>r.line&&l.line?r.line-l.line:0)}function Po(p,r){let l=!1;if(r&&r.length)for(const m of r)m instanceof d.G?d.w(m.message):(p.fire(new d.y(new Error(m.message))),l=!0);return l}let Jt;class xe extends d.E{constructor(r,l="flat"){super(),this._transitionable=new d.a4(Jt||(Jt=new d.a5({anchor:new d.a6(d.a3.light.anchor),position:new d.a7(d.a3.light.position),color:new d.a6(d.a3.light.color),intensity:new d.a6(d.a3.light.intensity)}))),this.setLight(r,l),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(r,l,m={}){this._validate(ds,r,m)||(this._transitionable.setTransitionOrValue(r),this.id=l)}updateTransitions(r){this._transitioning=this._transitionable.transitioned(r,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(r){this.properties=this._transitioning.possiblyEvaluate(r)}_validate(r,l,m){return(!m||m.validate!==!1)&&Po(this,r.call(Ra,d.l({value:l,style:{glyphs:!0,sprite:!0},styleSpec:d.a3})))}}let Me=class extends d.E{constructor(p,r,l,m){super(),this.scope=l,this._transitionable=new d.a4(new d.a5({source:new d.a6(d.a3.terrain.source),exaggeration:new d.a6(d.a3.terrain.exaggeration)}),l,m),this._transitionable.setTransitionOrValue(p,m),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=r}get(){return this._transitionable.serialize()}set(p,r){this._transitionable.setTransitionOrValue(p,r)}updateTransitions(p){this._transitioning=this._transitionable.transitioned(p,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(p){this.properties=this._transitioning.possiblyEvaluate(p)}getExaggeration(p){return this._transitioning.possiblyEvaluate(new d.a8(p)).get("exaggeration")}getAttenuationRange(){if(!this.isZoomDependent())return null;const p=this._transitionable._values.exaggeration;if(!p)return null;const r=p.value.expression;if(!r)return null;let l=-1,m=-1,b=1;for(const w of r.zoomStops)b=r.evaluate(new d.a8(w)),b>.01?(l=w,m=-1):m=w;return b<.01&&l>0&&m>l?[l,m]:null}isZoomDependent(){const p=this._transitionable._values.exaggeration;return p!=null&&p.value!=null&&p.value.expression!=null&&p.value.expression instanceof d.a9}};const Fe=45,ve=65,Ve=.05;function fe(p,r,l,m){const b=d.ac(Fe,ve,l),[w,I]=Nt(p,m);let D=1-Math.min(1,Math.exp((r-w)/(I-w)*-6));return D*=D*D,D=Math.min(1,1.00747*D),D*b*p.alpha}function Nt(p,r){const l=.5/Math.tan(.5*r);return[p.range[0]+l,p.range[1]+l]}function It(p,r,l,m,b){const w=d.ab.vec3.transformMat4([],[r,l,m],b.mercatorFogMatrix);return fe(p,d.ab.vec3.length(w),b.pitch,b._fov)}function Ee(p,r,l,m,b,w,I){const D=[[l,m,0],[b,m,0],[b,w,0],[l,w,0]];let Z=Number.MAX_VALUE,W=-Number.MAX_VALUE;for(const G of D){const te=d.ab.vec3.transformMat4([],G,r),ne=d.ab.vec3.length(te);Z=Math.min(Z,ne),W=Math.max(W,ne)}return[fe(p,Z,I.pitch,I._fov),fe(p,W,I.pitch,I._fov)]}class Tt extends d.E{constructor(r,l,m,b){super();const w=new d.a5({range:new d.a6(d.a3.fog.range),color:new d.a6(d.a3.fog.color),"color-use-theme":new d.a6({type:"string","property-type":"data-constant",default:"default"}),"high-color":new d.a6(d.a3.fog["high-color"]),"high-color-use-theme":new d.a6({type:"string","property-type":"data-constant",default:"default"}),"space-color":new d.a6(d.a3.fog["space-color"]),"space-color-use-theme":new d.a6({type:"string","property-type":"data-constant",default:"default"}),"horizon-blend":new d.a6(d.a3.fog["horizon-blend"]),"star-intensity":new d.a6(d.a3.fog["star-intensity"]),"vertical-range":new d.a6(d.a3.fog["vertical-range"])});this._transitionable=new d.a4(w,m,new Map(b)),this.set(r,b),this._transitioning=this._transitionable.untransitioned(),this._transform=l,this.properties=new d.ad(w),this.scope=m}get state(){const r=this._transform,l=r.projection.name==="globe",m=d.ae(r.zoom),b=this.properties.get("range"),w=[.5,3];return{range:l?[d.af(w[0],b[0],m),d.af(w[1],b[1],m)]:b,horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(r,l,m={}){if(this._validate(Dn,r,m))return;const b=d.l({},r);for(const w of Object.keys(d.a3.fog))b[w]===void 0&&(b[w]=d.a3.fog[w].default);this._options=b,this._transitionable.setTransitionOrValue(this._options,l)}getOpacity(r){if(!this._transform.projection.supportsFog)return 0;const l=this.properties&&this.properties.get("color")||1;return(this._transform.projection.name==="globe"?1:d.ac(Fe,ve,r))*l.a}getOpacityAtLatLng(r,l){return this._transform.projection.supportsFog?function(m,b,w){const I=d.aa.fromLngLat(b),D=w.elevation?w.elevation.getAtPointOrZero(I):0;return It(m,I.x,I.y,D,w)}(this.state,r,l):0}getOpacityForTile(r){if(!this._transform.projection.supportsFog)return[1,1];const l=this._transform.calculateFogTileMatrix(r.toUnwrapped());return Ee(this.state,l,0,0,d.ag,d.ag,this._transform)}getOpacityForBounds(r,l,m,b,w){return this._transform.projection.supportsFog?Ee(this.state,r,l,m,b,w,this._transform):[1,1]}getFovAdjustedRange(r){return this._transform.projection.supportsFog?Nt(this.state,r):[0,1]}isVisibleOnFrustum(r){if(!this._transform.projection.supportsFog)return!1;const l=[4,5,6,7];for(const m of l){const b=r.points[m];let w;if(b[2]>=0)w=b;else{const I=r.points[m-4];w=d.ah(I,b,I[2]/(I[2]-b[2]))}if(It(this.state,w[0],w[1],0,this._transform)>=Ve)return!0}return!1}updateConfig(r){this._transitionable.setTransitionOrValue(this._options,new Map(r))}updateTransitions(r){this._transitioning=this._transitionable.transitioned(r,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(r){this.properties=this._transitioning.possiblyEvaluate(r)}_validate(r,l,m){return(!m||m.validate!==!1)&&Po(this,r.call(Ra,d.l({value:l,style:{glyphs:!0,sprite:!0},styleSpec:d.a3})))}}let nt,Pn,ur,lr,pi=class extends d.E{constructor(p,r,l,m){super();const b=nt||(nt=new d.a5({density:new d.a6(d.a3.snow.density),intensity:new d.a6(d.a3.snow.intensity),color:new d.a6(d.a3.snow.color),opacity:new d.a6(d.a3.snow.opacity),vignette:new d.a6(d.a3.snow.vignette),"vignette-color":new d.a6(d.a3.snow["vignette-color"]),"center-thinning":new d.a6(d.a3.snow["center-thinning"]),direction:new d.a6(d.a3.snow.direction),"flake-size":new d.a6(d.a3.snow["flake-size"])}));this._transitionable=new d.a4(b,l,new Map(m)),this.set(p,m),this._transitioning=this._transitionable.untransitioned(),this.properties=new d.ad(b),this.scope=l}get state(){const p=this.properties.get("opacity"),r=this.properties.get("color"),l=this.properties.get("direction"),m=d.ai(l[0]),b=-Math.max(d.ai(l[1]),.01),w=[Math.cos(m)*Math.cos(b),Math.sin(m)*Math.cos(b),Math.sin(b)],I=this.properties.get("vignette"),D=this.properties.get("vignette-color");return D.a=I,{density:this.properties.get("density"),intensity:this.properties.get("intensity"),color:new d.aj(r.r,r.g,r.b,r.a*p),direction:w,centerThinning:this.properties.get("center-thinning"),flakeSize:this.properties.get("flake-size"),vignetteColor:D}}get(){return this._transitionable.serialize()}set(p,r,l={}){if(this._validate(vn,p,l))return;const m=d.l({},p);for(const b of Object.keys(d.a3.snow))m[b]===void 0&&(m[b]=d.a3.snow[b].default);this._options=m,this._transitionable.setTransitionOrValue(this._options,r)}updateConfig(p){this._transitionable.setTransitionOrValue(this._options,new Map(p))}updateTransitions(p){this._transitioning=this._transitionable.transitioned(p,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(p){this.properties=this._transitioning.possiblyEvaluate(p)}_validate(p,r,l){return(!l||l.validate!==!1)&&Po(this,p.call(Ra,d.l({value:r,style:{glyphs:!0,sprite:!0},styleSpec:d.a3})))}},ai=class extends d.E{constructor(p,r,l,m){super();const b=Pn||(Pn=new d.a5({density:new d.a6(d.a3.rain.density),intensity:new d.a6(d.a3.rain.intensity),color:new d.a6(d.a3.rain.color),opacity:new d.a6(d.a3.rain.opacity),vignette:new d.a6(d.a3.rain.vignette),"vignette-color":new d.a6(d.a3.rain["vignette-color"]),"center-thinning":new d.a6(d.a3.rain["center-thinning"]),direction:new d.a6(d.a3.rain.direction),"droplet-size":new d.a6(d.a3.rain["droplet-size"]),"distortion-strength":new d.a6(d.a3.rain["distortion-strength"])}));this._transitionable=new d.a4(b,l,new Map(m)),this.set(p,m),this._transitioning=this._transitionable.untransitioned(),this.properties=new d.ad(b),this.scope=l}get state(){const p=this.properties.get("opacity"),r=this.properties.get("color"),l=this.properties.get("direction"),m=d.ai(l[0]),b=-Math.max(d.ai(l[1]),.01),w=[Math.cos(m)*Math.cos(b),Math.sin(m)*Math.cos(b),Math.sin(b)],I=this.properties.get("vignette-color");return I.a=this.properties.get("vignette"),{density:this.properties.get("density"),intensity:this.properties.get("intensity"),color:new d.aj(r.r,r.g,r.b,r.a*p),direction:w,centerThinning:this.properties.get("center-thinning"),dropletSize:this.properties.get("droplet-size"),distortionStrength:this.properties.get("distortion-strength"),vignetteColor:I}}get(){return this._transitionable.serialize()}set(p,r,l={}){if(this._validate($r,p,l))return;const m=d.l({},p);for(const b of Object.keys(d.a3.rain))m[b]===void 0&&(m[b]=d.a3.rain[b].default);this._options=m,this._transitionable.setTransitionOrValue(this._options,r)}updateConfig(p){this._transitionable.setTransitionOrValue(this._options,new Map(p))}updateTransitions(p){this._transitioning=this._transitionable.transitioned(p,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(p){this.properties=this._transitioning.possiblyEvaluate(p)}_validate(p,r,l){return(!l||l.validate!==!1)&&Po(this,p.call(Ra,d.l({value:r,style:{glyphs:!0,sprite:!0},styleSpec:d.a3})))}};class Ei extends d.E{constructor(r,l,m,b){super(),this.scope=m,this._options=r,this.properties=new d.ad(l),this._transitionable=new d.a4(l,m,new Map(b)),this._transitionable.setTransitionOrValue(r.properties),this._transitioning=this._transitionable.untransitioned()}updateConfig(r){this._transitionable.setTransitionOrValue(this._options.properties,new Map(r))}updateTransitions(r){this._transitioning=this._transitionable.transitioned(r,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(r){this.properties=this._transitioning.possiblyEvaluate(r)}get(){return this._options.properties=this._transitionable.serialize(),this._options}set(r,l){this._options=r,this._transitionable.setTransitionOrValue(r.properties,l)}shadowsEnabled(){return!!this.properties&&this.properties.get("cast-shadows")===!0}}class wi{constructor(r,l,m,b){this.screenBounds=r,this.cameraPoint=l,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=m,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,b)}static createFromScreenPoints(r,l){let m,b;if(r instanceof d.P||typeof r[0]=="number"){const w=d.P.convert(r);m=[w],b=l.isPointAboveHorizon(w)}else{const w=d.P.convert(r[0]),I=d.P.convert(r[1]);m=[w,I],b=d.al(w,I).every(D=>l.isPointAboveHorizon(D))}return new wi(m,l.getCameraPoint(),b,l)}isPointQuery(){return this.screenBounds.length===1}bufferedScreenGeometry(r){return d.al(this.screenBounds[0],this.screenBounds.length===1?this.screenBounds[0]:this.screenBounds[1],r)}bufferedCameraGeometry(r){const l=this.screenBounds[0],m=this.screenBounds.length===1?this.screenBounds[0].add(new d.P(1,1)):this.screenBounds[1],b=d.al(l,m,0,!1);return this.cameraPoint.y>m.y&&(this.cameraPoint.x>l.x&&this.cameraPoint.x<m.x?b.splice(3,0,this.cameraPoint):this.cameraPoint.x>=m.x?b[2]=this.cameraPoint:this.cameraPoint.x<=l.x&&(b[3]=this.cameraPoint)),d.am(b,r)}bufferedCameraGeometryGlobe(r){const l=this.screenBounds[0],m=this.screenBounds.length===1?this.screenBounds[0].add(new d.P(1,1)):this.screenBounds[1],b=d.al(l,m,r),w=this.cameraPoint.clone();switch(3*((w.y>l.y)+(w.y>m.y))+((w.x>l.x)+(w.x>m.x))){case 0:b[0]=w,b[4]=w.clone();break;case 1:b.splice(1,0,w);break;case 2:b[1]=w;break;case 3:b.splice(4,0,w);break;case 5:b.splice(2,0,w);break;case 6:b[3]=w;break;case 7:b.splice(3,0,w);break;case 8:b[2]=w}return b}containsTile(r,l,m,b=0){const w=r.queryPadding/l._pixelsPerMercatorPixel+1,I=m?this._bufferedCameraMercator(w,l):this._bufferedScreenMercator(w,l);let D=r.tileID.wrap+(I.unwrapped?b:0);const Z=I.polygon.map(Re=>d.an(r.tileTransform,Re,D));if(!d.ao(Z,0,0,d.ag,d.ag))return;D=r.tileID.wrap+(this.screenGeometryMercator.unwrapped?b:0);const W=this.screenGeometryMercator.polygon.map(Re=>d.ap(r.tileTransform,Re,D)),G=W.map(Re=>new d.P(Re[0],Re[1])),te=l.getFreeCameraOptions().position||new d.aa(0,0,0),ne=d.ap(r.tileTransform,te,D),ce=W.map(Re=>{const Oe=d.ab.vec3.sub(Re,Re,ne);return d.ab.vec3.normalize(Oe,Oe),new d.aq(ne,Oe)}),Te=d.ar(r,1,l.zoom)*l._pixelsPerMercatorPixel;return{queryGeometry:this,tilespaceGeometry:G,tilespaceRays:ce,bufferedTilespaceGeometry:Z,bufferedTilespaceBounds:(we=d.as(Z),we.min.x=d.aw(we.min.x,0,d.ag),we.min.y=d.aw(we.min.y,0,d.ag),we.max.x=d.aw(we.max.x,0,d.ag),we.max.y=d.aw(we.max.y,0,d.ag),we),tile:r,tileID:r.tileID,pixelToTileUnitsFactor:Te};var we}_bufferedScreenMercator(r,l){const m=So(r);if(this._screenRaycastCache[m])return this._screenRaycastCache[m];{let b;return b=l.projection.name==="globe"?this._projectAndResample(this.bufferedScreenGeometry(r),l):{polygon:this.bufferedScreenGeometry(r).map(w=>l.pointCoordinate3D(w)),unwrapped:!0},this._screenRaycastCache[m]=b,b}}_bufferedCameraMercator(r,l){const m=So(r);if(this._cameraRaycastCache[m])return this._cameraRaycastCache[m];{let b;return b=l.projection.name==="globe"?this._projectAndResample(this.bufferedCameraGeometryGlobe(r),l):{polygon:this.bufferedCameraGeometry(r).map(w=>l.pointCoordinate3D(w)),unwrapped:!0},this._cameraRaycastCache[m]=b,b}}_projectAndResample(r,l){const m=function(w,I){const D=d.ab.mat4.multiply([],I.pixelMatrix,I.globeMatrix),Z=[0,-d.ax,0,1],W=[0,d.ax,0,1],G=[0,0,0,1];d.ab.vec4.transformMat4(Z,Z,D),d.ab.vec4.transformMat4(W,W,D),d.ab.vec4.transformMat4(G,G,D);const te=new d.P(Z[0]/Z[3],Z[1]/Z[3]),ne=new d.P(W[0]/W[3],W[1]/W[3]),ce=d.au(w,te)&&Z[3]<G[3],Te=d.au(w,ne)&&W[3]<G[3];if(!ce&&!Te)return null;const we=function(gt,ft,yt){for(let Bt=1;Bt<gt.length;Bt++){const In=Xo(ft.pointCoordinate3D(gt[Bt-1]).x),pn=Xo(ft.pointCoordinate3D(gt[Bt]).x);if(yt<0){if(In<pn)return{idx:Bt,t:-In/(pn-1-In)}}else if(pn<In)return{idx:Bt,t:(1-In)/(pn+1-In)}}return null}(w,I,ce?-1:1);if(!we)return null;const{idx:Re,t:Oe}=we;let Ge=Re>1?Oo(w.slice(0,Re),I):[],dt=Re<w.length?Oo(w.slice(Re),I):[];Ge=Ge.map(gt=>new d.P(Xo(gt.x),gt.y)),dt=dt.map(gt=>new d.P(Xo(gt.x),gt.y));const st=[...Ge];st.length===0&&st.push(dt[dt.length-1]);const bt=d.af(st[st.length-1].y,(dt.length===0?Ge[0]:dt[0]).y,Oe);let pt;return pt=ce?[new d.P(0,bt),new d.P(0,0),new d.P(1,0),new d.P(1,bt)]:[new d.P(1,bt),new d.P(1,1),new d.P(0,1),new d.P(0,bt)],st.push(...pt),dt.length===0?st.push(Ge[0]):st.push(...dt),{polygon:st.map(gt=>new d.aa(gt.x,gt.y)),unwrapped:!1}}(r,l);if(m)return m;const b=function(w,I){let D=!1,Z=-1/0,W=0;for(let te=0;te<w.length-1;te++)w[te].x>Z&&(Z=w[te].x,W=te);for(let te=0;te<w.length-1;te++){const ne=(W+te)%(w.length-1),ce=w[ne],Te=w[ne+1];Math.abs(ce.x-Te.x)>.5&&(ce.x<Te.x?(ce.x+=1,ne===0&&(w[w.length-1].x+=1)):(Te.x+=1,ne+1===w.length-1&&(w[0].x+=1)),D=!0)}const G=d.at(I.center.lng);return D&&G<Math.abs(G-1)&&w.forEach(te=>{te.x-=1}),{polygon:w,unwrapped:D}}(Oo(r,l).map(w=>new d.P(Xo(w.x),w.y)),l);return{polygon:b.polygon.map(w=>new d.aa(w.x,w.y)),unwrapped:b.unwrapped}}}function Oo(p,r){return d.av(p,l=>{const m=r.pointCoordinate3D(l);l.x=m.x,l.y=m.y},1/256)}function Xo(p){return p<0?1+p%1:p%1}function So(p){return 100*p|0}function pa(p,r,l,m,b){const w=function(D,Z){if(D)return b(D);if(Z){if(p.url&&Z.tiles&&p.tiles&&delete p.tiles,Z.variants){if(!Array.isArray(Z.variants))return b(new Error("variants must be an array"));for(const G of Z.variants){if(G==null||typeof G!="object"||G.constructor!==Object)return b(new Error("variant must be an object"));if(!Array.isArray(G.capabilities))return b(new Error("capabilities must be an array"));if(G.capabilities.length===1&&G.capabilities[0]==="meshopt"){Z=d.l(Z,G);break}}}const W=d.ay(d.l({},Z,p),["tilejson","tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding","vector_layers","raster_layers","worldview_options","worldview_default","worldview"]);W.tiles=r.canonicalizeTileset(W,p.url),b(null,W)}},I=function(D,Z,W){if(!D)return null;if(!Z&&!W)return D;W=W||D.worldview_default;const G=Object.values(D.language||{});if(G.length===0)return null;const te=Object.values(D.worldview||{});if(te.length===0)return null;const ne=G.every(Te=>Te===Z),ce=te.every(Te=>Te===W);return ne&&ce?D:Z in(D.language_options||{})||W in(D.worldview_options||{})?null:D.language_options&&D.worldview_options?D:null}(p.data,l,m);return I?d.q.frame(()=>w(null,I)):p.url?d.n(r.transformRequest(r.normalizeSourceURL(p.url,null,l,m),d.R.Source),w):d.q.frame(()=>{const W=p,{data:D}=W,Z=J2(W,["data"]);w(null,Z)})}class ma{constructor(r,l,m){this.bounds=d.az.convert(this.validateBounds(r)),this.minzoom=l||0,this.maxzoom=m||24}validateBounds(r){return Array.isArray(r)&&r.length===4?[Math.max(-180,r[0]),Math.max(-90,r[1]),Math.min(180,r[2]),Math.min(90,r[3])]:[-180,-90,180,90]}contains(r){const l=Math.pow(2,r.z),m=Math.floor(d.at(this.bounds.getWest())*l),b=Math.floor(d.aA(this.bounds.getNorth())*l),w=Math.ceil(d.at(this.bounds.getEast())*l),I=Math.ceil(d.aA(this.bounds.getSouth())*l);return r.x>=m&&r.x<w&&r.y>=b&&r.y<I}}class Ea extends d.E{constructor(r,l,m,b){if(super(),this.id=r,this.dispatcher=m,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,d.l(this,d.ay(l,["url","scheme","tileSize","promoteId"])),this._options=d.l({type:"vector"},l),this._collectResourceTiming=!!l.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(b),this._tileWorkers={},this._deduped=new d.aB}load(r){this._loaded=!1,this.fire(new d.z("dataloading",{dataType:"source"}));const l=Array.isArray(this.map._language)?this.map._language.join():this.map._language,m=this.map.getWorldview();this._tileJSONRequest=pa(this._options,this.map._requestManager,l,m,(b,w)=>{if(this._tileJSONRequest=null,this._loaded=!0,b)l&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${l}`),m&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${m}`),this.fire(new d.y(b));else if(w){if(d.l(this,w),this.hasWorldviews=!!w.worldview_options,w.worldview_default&&(this.worldviewDefault=w.worldview_default),w.vector_layers){this.vectorLayers=w.vector_layers,this.vectorLayerIds=[],this.localizableLayerIds=new Set;for(const I of w.vector_layers)this.vectorLayerIds.push(I.id),w.worldview&&w.worldview[I.source]&&this.localizableLayerIds.add(I.id)}w.bounds&&(this.tileBounds=new ma(w.bounds,this.minzoom,this.maxzoom)),Jn(w.tiles,this.map._requestManager._customAccessToken),this.fire(new d.z("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new d.z("data",{dataType:"source",sourceDataType:"content"}))}r&&r(b)})}loaded(){return this._loaded}hasTile(r){return!this.tileBounds||this.tileBounds.contains(r.canonical)}onAdd(r){this.map=r,this.load()}reload(){this.cancelTileJSONRequest();const r=d.aC(this.id,this.scope);this.load(()=>this.map.style.clearSource(r))}setTiles(r){return this._options.tiles=r,this.reload(),this}setUrl(r){return this.url=r,this._options.url=r,this.reload(),this}onRemove(r){this.cancelTileJSONRequest()}serialize(){return d.l({},this._options)}loadTile(r,l){const m=r.tileID.canonical.url(this.tiles,this.scheme),b=this.map._requestManager.normalizeTileURL(m),w=this.map._requestManager.transformRequest(b,d.R.Tile),I=this.map.style?this.map.style.getLut(this.scope):null,D=I?{image:I.image.clone()}:null,Z={request:w,data:void 0,uid:r.uid,tileID:r.tileID,tileZoom:r.tileZoom,zoom:r.tileID.overscaledZ,maxZoom:this.maxzoom,lut:D,tileSize:this.tileSize*r.tileID.overscaleFactor(),type:this.type,source:this.id,scope:this.scope,pixelRatio:d.q.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:r.isSymbolTile,brightness:this.map.style&&this.map.style.getBrightness()||0,extraShadowCaster:r.isExtraShadowCaster,tessellationStep:this.map._tessellationStep,scaleFactor:this.map.getScaleFactor()};if(this.hasWorldviews&&d.f(m)&&(Z.worldview=this.map.getWorldview()||this.worldviewDefault,Z.localizableLayerIds=this.localizableLayerIds),Z.request.collectResourceTiming=this._collectResourceTiming,r.actor&&r.state!=="expired")r.state==="loading"?r.reloadCallback=l:r.request=r.actor.send("reloadTile",Z,W.bind(this));else if(r.actor=this._tileWorkers[b]=this._tileWorkers[b]||this.dispatcher.getActor(),this.dispatcher.ready)r.request=r.actor.send("loadTile",Z,W.bind(this),void 0,!0);else{const G=d.aD.call({deduped:this._deduped},Z,(te,ne)=>{te||!ne?W.call(this,te):(Z.data={cacheControl:ne.cacheControl,expires:ne.expires,rawData:ne.rawData.slice(0)},r.actor&&r.actor.send("loadTile",Z,W.bind(this),void 0,!0))},!0);r.request={cancel:G}}function W(G,te){return delete r.request,r.aborted?l(null):G&&G.status!==404?l(G):(te&&te.resourceTiming&&(r.resourceTiming=te.resourceTiming),this.map._refreshExpiredTiles&&te&&r.setExpiryData(te),r.loadVectorData(te,this.map.painter),d.aE(this.dispatcher),l(null),void(r.reloadCallback&&(this.loadTile(r,r.reloadCallback),r.reloadCallback=null)))}}abortTile(r){r.request&&(r.request.cancel(),delete r.request),r.actor&&r.actor.send("abortTile",{uid:r.uid,type:this.type,source:this.id,scope:this.scope})}unloadTile(r,l){r.actor&&r.actor.send("removeTile",{uid:r.uid,type:this.type,source:this.id,scope:this.scope}),r.destroy()}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}class Sl extends d.E{constructor(r,l,m,b){super(),this.id=r,this.dispatcher=m,this.setEventedParent(b),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=d.l({type:"raster"},l),d.l(this,d.ay(l,["url","scheme","tileSize"]))}load(r){this._loaded=!1,this.fire(new d.z("dataloading",{dataType:"source"})),this._tileJSONRequest=pa(this._options,this.map._requestManager,null,null,(l,m)=>{this._tileJSONRequest=null,this._loaded=!0,l?this.fire(new d.y(l)):m&&(d.l(this,m),m.raster_layers&&(this.rasterLayers=m.raster_layers,this.rasterLayerIds=this.rasterLayers.map(b=>b.id)),m.bounds&&(this.tileBounds=new ma(m.bounds,this.minzoom,this.maxzoom)),Jn(m.tiles),this.fire(new d.z("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new d.z("data",{dataType:"source",sourceDataType:"content"}))),r&&r(l)})}loaded(){return this._loaded}onAdd(r){this.map=r,this.load()}reload(){this.cancelTileJSONRequest();const r=d.aC(this.id,this.scope);this.load(()=>this.map.style.clearSource(r))}setTiles(r){return this._options.tiles=r,this.reload(),this}setUrl(r){return this.url=r,this._options.url=r,this.reload(),this}onRemove(r){this.cancelTileJSONRequest()}serialize(){return d.l({},this._options)}hasTile(r){return!this.tileBounds||this.tileBounds.contains(r.canonical)}loadTile(r,l){const m=d.q.devicePixelRatio>=2,b=this.map._requestManager.normalizeTileURL(r.tileID.canonical.url(this.tiles,this.scheme),m,this.tileSize);r.request=d.o(this.map._requestManager.transformRequest(b,d.R.Tile),(w,I,D,Z)=>(delete r.request,r.aborted?(r.state="unloaded",l(null)):w?(r.state="errored",l(w)):I?(this.map._refreshExpiredTiles&&r.setExpiryData({cacheControl:D,expires:Z}),r.setTexture(I,this.map.painter),r.state="loaded",d.aE(this.dispatcher),void l(null)):l(null)))}abortTile(r,l){r.request&&(r.request.cancel(),delete r.request),l&&l()}unloadTile(r,l){r.texture&&r.texture instanceof d.T?(r.destroy(!0),r.texture&&r.texture instanceof d.T&&this.map.painter.saveTileTexture(r.texture)):r.destroy(),l&&l()}hasTransition(){return!1}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}class Lt extends Sl{constructor(r,l,m,b){super(r,l,m,b),this.type="raster-array",this.maxzoom=22,this._options=d.l({type:"raster-array"},l)}triggerRepaint(r){const l=this.map.painter._terrain,m=this.map.style.getSourceCache(this.id);l&&l.enabled&&m&&l._clearRenderCacheForTile(m.id,r.tileID),this.map.triggerRepaint()}loadTile(r,l){const m=this.map._requestManager.normalizeTileURL(r.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize),b=this.map._requestManager.transformRequest(m,d.R.Tile);r.requestParams=b,r.actor||(r.actor=this.dispatcher.getActor()),r.request=r.fetchHeader(void 0,(w,I,D,Z)=>{if(delete r.request,r.aborted)return r.state="unloaded",l(null);if(w)return w.code===20?void 0:(r.state="errored",l(w));this.map._refreshExpiredTiles&&r.setExpiryData({cacheControl:D,expires:Z}),r.state="empty",l(null)})}unloadTile(r,l){const m=r.texture;m&&m instanceof d.T?(r.destroy(!0),this.map.painter.saveTileTexture(m)):(r.destroy(),r.flushQueues(),r._isHeaderLoaded=!1,delete r._mrt,delete r.textureDescriptor),r.fbo&&(r.fbo.destroy(),delete r.fbo),delete r.request,delete r.requestParams,delete r.neighboringTiles,r.state="unloaded"}prepareTile(r,l,m){r._isHeaderLoaded&&(r.state!=="empty"&&(r.state="reloading"),r.fetchBand(l,m,(b,w)=>{if(b)return r.state="errored",this.fire(new d.y(b)),void this.triggerRepaint(r);w&&(r.setTexture(w,this.map.painter),r.state="loaded",this.triggerRepaint(r))}))}getInitialBand(r){if(!this.rasterLayers)return 0;const l=this.rasterLayers.find(({id:w})=>w===r),m=l&&l.fields,b=m&&m.bands&&m.bands;return b?b[0]:0}getTextureDescriptor(r,l,m){if(!r)return;const b=l.sourceLayer||this.rasterLayerIds&&this.rasterLayerIds[0];if(!b)return;let w=null;l instanceof d.aH?w=l.paint.get("raster-array-band"):l instanceof d.aI&&(w=l.paint.get("raster-particle-array-band"));const I=w||this.getInitialBand(b);if(I!=null)if(r.textureDescriptor){if(!r.updateNeeded(b,I)||m)return Object.assign({},r.textureDescriptor,{texture:r.texture})}else this.prepareTile(r,b,I)}}const Ln={vector:Ea,raster:Sl,"raster-dem":class extends Sl{constructor(p,r,l,m){super(p,r,l,m),this.type="raster-dem",this.maxzoom=22,this._options=d.l({type:"raster-dem"},r),this.encoding=r.encoding||"mapbox"}loadTile(p,r){const l=this.map._requestManager.normalizeTileURL(p.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function m(b,w){b&&(p.state="errored",r(b)),w&&(p.dem=w,p.dem.onDeserialize(),p.needsHillshadePrepare=!0,p.needsDEMTextureUpload=!0,p.state="loaded",r(null))}p.request=d.o(this.map._requestManager.transformRequest(l,d.R.Tile),function(b,w,I,D){if(delete p.request,p.aborted)p.state="unloaded",r(null);else if(b)p.state="errored",r(b);else if(w){this.map._refreshExpiredTiles&&p.setExpiryData({cacheControl:I,expires:D});const Z=ImageBitmap&&w instanceof ImageBitmap&&d.t(),W=1-(w.width-d.aF(w.width))/2;W<1||p.neighboringTiles||(p.neighboringTiles=this._getNeighboringTiles(p.tileID));const G=Z?w:d.q.getImageData(w,W),te={uid:p.uid,coord:p.tileID,source:this.id,scope:this.scope,rawImageData:G,encoding:this.encoding,padding:W};p.actor&&p.state!=="expired"||(p.actor=this.dispatcher.getActor(),p.actor.send("loadDEMTile",te,m.bind(this),void 0,!0))}}.bind(this))}_getNeighboringTiles(p){const r=p.canonical,l=Math.pow(2,r.z),m=(r.x-1+l)%l,b=r.x===0?p.wrap-1:p.wrap,w=(r.x+1+l)%l,I=r.x+1===l?p.wrap+1:p.wrap,D={};return D[new d.aG(p.overscaledZ,b,r.z,m,r.y).key]={backfilled:!1},D[new d.aG(p.overscaledZ,I,r.z,w,r.y).key]={backfilled:!1},r.y>0&&(D[new d.aG(p.overscaledZ,b,r.z,m,r.y-1).key]={backfilled:!1},D[new d.aG(p.overscaledZ,p.wrap,r.z,r.x,r.y-1).key]={backfilled:!1},D[new d.aG(p.overscaledZ,I,r.z,w,r.y-1).key]={backfilled:!1}),r.y+1<l&&(D[new d.aG(p.overscaledZ,b,r.z,m,r.y+1).key]={backfilled:!1},D[new d.aG(p.overscaledZ,p.wrap,r.z,r.x,r.y+1).key]={backfilled:!1},D[new d.aG(p.overscaledZ,I,r.z,w,r.y+1).key]={backfilled:!1}),D}},"raster-array":Lt,geojson:class extends d.E{constructor(p,r,l,m){super(),this.id=p,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=l.getActor(),this.setEventedParent(m),this._data=r.data,this._options=d.l({},r),this._collectResourceTiming=r.collectResourceTiming,r.maxzoom!==void 0&&(this.maxzoom=r.maxzoom),r.minzoom!==void 0&&(this.minzoom=r.minzoom),r.type&&(this.type=r.type),r.attribution&&(this.attribution=r.attribution),this.promoteId=r.promoteId;const b=d.ag/this.tileSize;this.workerOptions=d.l({source:this.id,scope:this.scope,cluster:r.cluster||!1,geojsonVtOptions:{buffer:(r.buffer!==void 0?r.buffer:128)*b,tolerance:(r.tolerance!==void 0?r.tolerance:.375)*b,extent:d.ag,maxZoom:this.maxzoom,lineMetrics:r.lineMetrics||!1,generateId:r.generateId||!1},superclusterOptions:{maxZoom:r.clusterMaxZoom!==void 0?r.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,r.clusterMinPoints||2),extent:d.ag,radius:(r.clusterRadius!==void 0?r.clusterRadius:50)*b,log:!1,generateId:r.generateId||!1},clusterProperties:r.clusterProperties,filter:r.filter,dynamic:r.dynamic},r.workerOptions)}onAdd(p){this.map=p,this.setData(this._data)}setData(p){return this._data=p,this._updateWorkerData(),this}updateData(p){if(!this._options.dynamic)return this.fire(new d.y(new Error("Can't call updateData on a GeoJSON source with dynamic set to false.")));if(typeof p!="string"&&(p.type==="Feature"&&(p={type:"FeatureCollection",features:[p]}),p.type!=="FeatureCollection"))return this.fire(new d.y(new Error("Data to update should be a feature or a feature collection.")));if(this._coalesce&&typeof p!="string"&&typeof this._data!="string"&&this._data.type==="FeatureCollection"){const r=new Map;for(const l of this._data.features)r.set(l.id,l);for(const l of p.features)r.set(l.id,l);this._data.features=[...r.values()]}else this._data=p;return this._updateWorkerData(!0),this}getClusterExpansionZoom(p,r){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:p,source:this.id,scope:this.scope},r),this}getClusterChildren(p,r){return this.actor.send("geojson.getClusterChildren",{clusterId:p,source:this.id,scope:this.scope},r),this}getClusterLeaves(p,r,l,m){return this.actor.send("geojson.getClusterLeaves",{source:this.id,scope:this.scope,clusterId:p,limit:r,offset:l},m),this}_updateWorkerData(p=!1){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new d.z("dataloading",{dataType:"source"})),this._loaded=!1;const r=d.l({append:p},this.workerOptions);r.scope=this.scope;const l=this._data;typeof l=="string"?(r.request=this.map._requestManager.transformRequest(d.q.resolveURL(l),d.R.Source),r.request.collectResourceTiming=this._collectResourceTiming):r.data=JSON.stringify(l),this._pendingLoad=this.actor.send(`${this.type}.loadData`,r,(m,b)=>{if(this._loaded=!0,this._pendingLoad=null,m)this.fire(new d.y(m));else{const w={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&b&&b.resourceTiming&&b.resourceTiming[this.id]&&(w.resourceTiming=b.resourceTiming[this.id]),p&&(this._partialReload=!0),this.fire(new d.z("data",w)),this._partialReload=!1,this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(p),this._coalesce=!1)})}loaded(){return this._loaded}reload(){const p=d.aC(this.id,this.scope);this.map.style.clearSource(p),this._updateWorkerData()}loadTile(p,r){const l=p.actor?"reloadTile":"loadTile";p.actor=this.actor;const m=this.map.style?this.map.style.getLut(this.scope):null,b=m?{image:m.image.clone()}:null,w=this._partialReload,I={type:this.type,uid:p.uid,tileID:p.tileID,tileZoom:p.tileZoom,zoom:p.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,lut:b,scope:this.scope,pixelRatio:d.q.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,brightness:this.map.style&&this.map.style.getBrightness()||0,scaleFactor:this.map.getScaleFactor(),partial:w};p.request=this.actor.send(l,I,(D,Z)=>w&&!Z?(p.state="loaded",r(null)):(delete p.request,p.destroy(),p.aborted?r(null):D?r(D):(p.loadVectorData(Z,this.map.painter,l==="reloadTile"),r(null))),void 0,l==="loadTile")}abortTile(p){p.request&&(p.request.cancel(),delete p.request),p.aborted=!0}unloadTile(p,r){this.actor.send("removeTile",{uid:p.uid,type:this.type,source:this.id,scope:this.scope}),p.destroy()}onRemove(p){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return d.l({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends d.aJ{constructor(p,r,l,m){super(p,r,l,m),this.roundZoom=!0,this.type="video",this.options=r}load(){this._loaded=!1;const p=this.options;this.urls=[];for(const r of p.urls)this.urls.push(this.map._requestManager.transformRequest(r,d.R.Source).url);d.aK(this.urls,(r,l)=>{this._loaded=!0,r?this.fire(new d.y(r)):l&&(this.video=l,this.video.loop=!0,this.video.setAttribute("playsinline",""),this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(p){if(this.video){const r=this.video.seekable;p<r.start(0)||p>r.end(0)?this.fire(new d.y(new d.V(`sources.${this.id}`,null,`Playback for this video can be set only between the ${r.start(0)} and ${r.end(0)}-second mark.`))):this.video.currentTime=p}}getVideo(){return this.video}onAdd(p){this.map||(this.map=p,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const p=this.map.painter.context,r=p.gl;this.texture?this.video.paused||(this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE),r.texSubImage2D(r.TEXTURE_2D,0,0,0,r.RGBA,r.UNSIGNED_BYTE,this.video)):(this.texture=new d.T(p,this.video,r.RGBA8),this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(p)}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:d.aJ,model:class extends d.E{constructor(p,r,l,m){super(),this.id=p,this.type="model",this.models=[],this._loaded=!1,this._options=r}load(){const p=[];for(const r in this._options.models){const l=this._options.models[r],m=d.aM(this.map._requestManager.transformRequest(l.uri,d.R.Model).url).then(b=>{if(!b)return;const w=d.aN(b),I=new d.aO(r,l.position,l.orientation,w);I.computeBoundsAndApplyParent(),this.models.push(I)}).catch(b=>{this.fire(new d.y(new Error(`Could not load model ${r} from ${l.uri}: ${b.message}`)))});p.push(m)}return Promise.allSettled(p).then(()=>{this._loaded=!0,this.fire(new d.z("data",{dataType:"source",sourceDataType:"metadata"}))}).catch(r=>{this.fire(new d.y(new Error(`Could not load models: ${r.message}`)))})}onAdd(p){this.map=p,this.load()}hasTransition(){return!1}loaded(){return this._loaded}getModels(){return this.models}loadTile(p,r){}serialize(){return{type:"model"}}},"batched-model":class extends d.E{constructor(p,r,l,m){super(),this.type="batched-model",this.id=p,this.tileSize=512,this._options=r,this.tiles=this._options.tiles,this.maxzoom=r.maxzoom||19,this.minzoom=r.minzoom||0,this.roundZoom=!0,this.usedInConflation=!0,this.dispatcher=l,this.reparseOverscaled=!1,this.scheme="xyz",this._loaded=!1,this.setEventedParent(m)}onAdd(p){this.map=p,this.load()}reload(){this.cancelTileJSONRequest();const p=d.aC(this.id,this.scope);this.load(()=>this.map.style.clearSource(p))}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}load(p){this._loaded=!1,this.fire(new d.z("dataloading",{dataType:"source"}));const r=Array.isArray(this.map._language)?this.map._language.join():this.map._language,l=this.map.getWorldview();this._tileJSONRequest=pa(this._options,this.map._requestManager,r,l,(m,b)=>{this._tileJSONRequest=null,this._loaded=!0,m?(r&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${r}`),l&&l.length!==2&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${l}`),this.fire(new d.y(m))):b&&(d.l(this,b),b.bounds&&(this.tileBounds=new ma(b.bounds,this.minzoom,this.maxzoom)),Jn(b.tiles,this.map._requestManager._customAccessToken),this.fire(new d.z("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new d.z("data",{dataType:"source",sourceDataType:"content"}))),p&&p(m)})}hasTransition(){return!1}hasTile(p){return!this.tileBounds||this.tileBounds.contains(p.canonical)}loaded(){return this._loaded}loadTile(p,r){const l=this.map._requestManager.normalizeTileURL(p.tileID.canonical.url(this.tiles,this.scheme)),m={request:this.map._requestManager.transformRequest(l,d.R.Tile),data:void 0,uid:p.uid,tileID:p.tileID,tileZoom:p.tileZoom,zoom:p.tileID.overscaledZ,tileSize:this.tileSize*p.tileID.overscaleFactor(),type:this.type,source:this.id,scope:this.scope,showCollisionBoxes:this.map.showCollisionBoxes,isSymbolTile:p.isSymbolTile,brightness:this.map.style&&this.map.style.getBrightness()||0,lut:null,maxZoom:null,promoteId:null,pixelRatio:null,scaleFactor:null};if(p.actor&&p.state!=="expired")if(p.state==="loading")p.reloadCallback=r;else{if(p.buckets){const w=Object.values(p.buckets);for(const I of w)I.dirty=!0;return void(p.state="loaded")}p.request=p.actor.send("reloadTile",m,b.bind(this))}else p.actor=this.dispatcher.getActor(),p.request=p.actor.send("loadTile",m,b.bind(this),void 0,!0);function b(w,I){return p.aborted?r(null):w&&w.status!==404?r(w):(this.map._refreshExpiredTiles&&I&&p.setExpiryData(I),p.loadModelData(I,this.map.painter),p.state="loaded",void r(null))}}serialize(){return d.l({},this._options)}},canvas:class extends d.aJ{constructor(p,r,l,m){super(p,r,l,m),r.coordinates?Array.isArray(r.coordinates)&&r.coordinates.length===4&&!r.coordinates.some(b=>!Array.isArray(b)||b.length!==2||b.some(w=>typeof w!="number"))||this.fire(new d.y(new d.V(`sources.${p}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new d.y(new d.V(`sources.${p}`,null,'missing required property "coordinates"'))),r.animate&&typeof r.animate!="boolean"&&this.fire(new d.y(new d.V(`sources.${p}`,null,'optional "animate" property must be a boolean value'))),r.canvas?typeof r.canvas=="string"||r.canvas instanceof HTMLCanvasElement||this.fire(new d.y(new d.V(`sources.${p}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new d.y(new d.V(`sources.${p}`,null,'missing required property "canvas"'))),this.options=r,this.animate=r.animate===void 0||r.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new d.y(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(p){this.map=p,this.load(),this.canvas&&this.animate&&this.play()}onRemove(p){this.pause()}prepare(){let p=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,p=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,p=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const r=this.map.painter.context;this.texture?!p&&!this._playing||this.texture instanceof d.aL||this.texture.update(this.canvas,{premultiply:!0}):this.texture=new d.T(r,this.canvas,r.gl.RGBA8,{premultiply:!0}),this._prepareData(r)}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const p of[this.canvas.width,this.canvas.height])if(isNaN(p)||p<=0)return!0;return!1}},custom:class extends d.E{constructor(p,r,l,m){super(),this.id=p,this.type="custom",this._dataType="raster",this._dispatcher=l,this._implementation=r,this.setEventedParent(m),this.scheme="xyz",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new d.y(new Error(`Missing implementation for ${this.id} custom source`))),this._implementation.loadTile||this.fire(new d.y(new Error(`Missing loadTile implementation for ${this.id} custom source`))),this._implementation.bounds&&(this.tileBounds=new ma(this._implementation.bounds,this.minzoom,this.maxzoom)),r.update=this._update.bind(this),r.clearTiles=this._clearTiles.bind(this),r.coveringTiles=this._coveringTiles.bind(this),d.l(this,d.ay(r,["dataType","scheme","minzoom","maxzoom","tileSize","attribution","minTileCacheSize","maxTileCacheSize"]))}serialize(){return d.ay(this,["type","scheme","minzoom","maxzoom","tileSize","attribution"])}load(){this._loaded=!0,this.fire(new d.z("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new d.z("data",{dataType:"source",sourceDataType:"content"}))}loaded(){return this._loaded}onAdd(p){this.map=p,this._loaded=!1,this.fire(new d.z("dataloading",{dataType:"source"})),this._implementation.onAdd&&this._implementation.onAdd(p),this.load()}onRemove(p){this._implementation.onRemove&&this._implementation.onRemove(p)}hasTile(p){if(this._implementation.hasTile){const{x:r,y:l,z:m}=p.canonical;return this._implementation.hasTile({x:r,y:l,z:m})}return!this.tileBounds||this.tileBounds.contains(p.canonical)}loadTile(p,r){const{x:l,y:m,z:b}=p.tileID.canonical,w=new AbortController;p.request=Promise.resolve(this._implementation.loadTile({x:l,y:m,z:b},{signal:w.signal})).then(function(I){return delete p.request,p.aborted?(p.state="unloaded",r(null)):I===void 0?(p.state="errored",r(null)):I===null?(this.loadTileData(p,{width:this.tileSize,height:this.tileSize,data:null}),p.state="loaded",r(null)):function(D){return D instanceof ImageData||D instanceof HTMLCanvasElement||D instanceof ImageBitmap||D instanceof HTMLImageElement}(I)?(this.loadTileData(p,I),p.state="loaded",void r(null)):(p.state="errored",r(new Error(`Can't infer data type for ${this.id}, only raster data supported at the moment`)))}.bind(this)).catch(I=>{I.code!==20&&(p.state="errored",r(I))}),p.request.cancel=()=>w.abort()}loadTileData(p,r){p.setTexture(r,this.map.painter)}unloadTile(p,r){if(p.texture&&p.texture instanceof d.T?(p.destroy(!0),p.texture&&p.texture instanceof d.T&&this.map.painter.saveTileTexture(p.texture)):p.destroy(),this._implementation.unloadTile){const{x:l,y:m,z:b}=p.tileID.canonical;this._implementation.unloadTile({x:l,y:m,z:b})}r&&r()}abortTile(p,r){p.request&&p.request.cancel&&(p.request.cancel(),delete p.request),r&&r()}hasTransition(){return!1}_coveringTiles(){return this.map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map(p=>({x:p.canonical.x,y:p.canonical.y,z:p.canonical.z}))}_clearTiles(){const p=d.aC(this.id,this.scope);this.map.style.clearSource(p)}_update(){this.fire(new d.z("data",{dataType:"source",sourceDataType:"content"}))}}},Bn=function(p,r,l,m){const b=new Ln[r.type](p,r,l,m);if(b.id!==p)throw new Error(`Expected Source id to be ${p} instead of ${b.id}`);return d.aP(["load","abort","unload","serialize","prepare"],b),b};function tr(p,r,l=""){return`${l}:${r.id||""}:${r.layer.id}:${function(m){if("layerId"in m)return`layer:${m.layerId}`;{const{featuresetId:b,importId:w}=m;return`featureset:${b}${w?`:import:${w}`:""}`}}(p.target)}`}function Lr(p,r,l,m=""){if(p.uniqueFeatureID){const b=tr(p,r,m);if(l.has(b))return!0;l.add(b)}return!1}function to(p,r,l,m,b=!1){const w=r.sourceCache.transform,I=r.sourceCache.tilesIn(p,r.has3DLayers,b);I.sort(uo);const D=[];for(const Z of I){const W=Z.tile.queryRenderedFeatures(r,Z,l,m,w,b);Object.keys(W).length&&D.push({wrappedTileID:Z.tile.tileID.wrapped().key,queryResults:W})}return D.length===0?{}:function(Z){const W={},G={};for(const te of Z){const ne=te.queryResults,ce=te.wrappedTileID,Te=G[ce]=G[ce]||{};for(const we in ne){const Re=ne[we],Oe=Te[we]=Te[we]||{},Ge=W[we]=W[we]||[];for(const dt of Re)Oe[dt.featureIndex]||(Oe[dt.featureIndex]=!0,Ge.push(dt))}}return W}(D)}function mo(p,r,l,m,b){const w={},I=m.queryRenderedSymbols(p),D=[];for(const Z of Object.keys(I).map(Number))D.push(b[Z]);D.sort(uo);for(const Z of D){const W=Z.featureIndex.lookupSymbolFeatures(I[Z.bucketInstanceId],Z.bucketIndex,Z.sourceLayerIndex,r,l);for(const G in W){const te=w[G]=w[G]||[],ne=W[G];ne.sort((ce,Te)=>{const we=Z.featureSortOrder;if(we){const Re=we.indexOf(ce.featureIndex);return we.indexOf(Te.featureIndex)-Re}return Te.featureIndex-ce.featureIndex});for(const ce of ne)te.push(ce)}}return w}function Io(p,r){const l=p.getRenderableIds().map(w=>p.getTileByID(w)),m=[],b={};for(let w=0;w<l.length;w++){const I=l[w],D=I.tileID.canonical.key;b[D]||(b[D]=!0,I.querySourceFeatures(m,r))}return m}function uo(p,r){const l=p.tileID,m=r.tileID;return l.overscaledZ-m.overscaledZ||l.canonical.y-m.canonical.y||l.wrap-m.wrap||l.canonical.x-m.canonical.x}function ga(p,r){const l={};if(!r)return l;for(const m of p){const b=m.layerIds.map(w=>r.getLayer(w)).filter(Boolean);if(b.length!==0){m.layers=b,m.stateDependentLayerIds&&(m.stateDependentLayers=m.stateDependentLayerIds.map(w=>b.filter(I=>I.id===w)[0]));for(const w of b)l[w.fqid]=m}}return l}const $o=32,Vo=33,qa=new Uint16Array(8184);for(let p=0;p<2046;p++){let r=p+2,l=0,m=0,b=0,w=0,I=0,D=0;for(1&r?b=w=I=$o:l=m=D=$o;(r>>=1)>1;){const W=l+b>>1,G=m+w>>1;1&r?(b=l,w=m,l=I,m=D):(l=b,m=w,b=I,w=D),I=W,D=G}const Z=4*p;qa[Z+0]=l,qa[Z+1]=m,qa[Z+2]=b,qa[Z+3]=w}const gs=new Uint16Array(2178),Os=new Uint8Array(1089),ys=new Uint16Array(1089);function _s(p){return p===0?-.03125:p===32?.03125:0}const ns={type:2,extent:d.ag,loadGeometry:()=>[[new d.P(0,0),new d.P(d.ag+1,0),new d.P(d.ag+1,d.ag+1),new d.P(0,d.ag+1),new d.P(0,0)]]};class $s{constructor(r,l,m,b,w){this.tileID=r,this.uid=d.aV(),this.uses=0,this.tileSize=l,this.tileZoom=m,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=w,b&&b.style&&(this._lastUpdatedBrightness=b.style.getBrightness()),this.expiredRequestCount=0,this.state="loading",b&&b.transform&&(this.projection=b.transform.projection)}registerFadeDuration(r){const l=r+this.timeAdded;l<d.q.now()||this.fadeEndTime&&l<this.fadeEndTime||(this.fadeEndTime=l)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}get tileTransform(){return this._tileTransform||(this._tileTransform=d.aQ(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(r,l,m){if(this.unloadVectorData(),this.state="loaded",r){r.featureIndex&&(this.latestFeatureIndex=r.featureIndex,r.rawTileData?(this.latestRawTileData=r.rawTileData,this.latestFeatureIndex.rawTileData=r.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=r.collisionBoxArray,this.buckets=ga(r.buckets,l.style),this.hasSymbolBuckets=!1;for(const b in this.buckets){const w=this.buckets[b];if(w instanceof d.aX){if(this.hasSymbolBuckets=!0,!m)break;w.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const b in this.buckets){const w=this.buckets[b];if(w instanceof d.aX&&w.hasRTLText){this.hasRTLText=!0,d.aY();break}}this.queryPadding=0;for(const b in this.buckets){const w=this.buckets[b],I=l.style.getOwnLayer(b);if(!I)continue;const D=I.queryRadius(w);this.queryPadding=Math.max(this.queryPadding,D)}r.imageAtlas&&(this.imageAtlas=r.imageAtlas),r.glyphAtlasImage&&(this.glyphAtlasImage=r.glyphAtlasImage),r.lineAtlas&&(this.lineAtlas=r.lineAtlas),this._lastUpdatedBrightness=r.brightness}else this.collisionBoxArray=new d.aW}unloadVectorData(){if(this.hasData()){for(const r in this.buckets)this.buckets[r].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}loadModelData(r,l,m){r&&(r.resourceTiming&&(this.resourceTiming=r.resourceTiming),this.buckets=Object.assign({},this.buckets,ga(r.buckets,l.style)),r.featureIndex&&(this.latestFeatureIndex=r.featureIndex))}getBucket(r){return this.buckets[r.fqid]}upload(r){for(const b in this.buckets){const w=this.buckets[b];w.uploadPending()&&w.upload(r)}const l=r.gl,m=this.imageAtlas;if(m&&!m.uploaded){const b=!!Object.keys(m.patternPositions).length;this.imageAtlasTexture=new d.T(r,m.image,l.RGBA8,{useMipmap:b}),this.imageAtlas.uploaded=!0}this.glyphAtlasImage&&(this.glyphAtlasTexture=new d.T(r,this.glyphAtlasImage,l.R8),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new d.T(r,this.lineAtlas.image,l.R8),this.lineAtlas.uploaded=!0)}prepare(r,l,m){if(this.imageAtlas&&this.imageAtlasTexture&&this.imageAtlas.patchUpdatedImages(r,this.imageAtlasTexture,m),!l||!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData)return;const b=l.style.getBrightness();(this._lastUpdatedBrightness||b)&&(this._lastUpdatedBrightness&&b&&Math.abs(this._lastUpdatedBrightness-b)<.001||(this.updateBuckets(l,this._lastUpdatedBrightness!==b),this._lastUpdatedBrightness=b))}queryRenderedFeatures(r,l,m,b,w,I){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData&&!this.latestFeatureIndex.is3DTile)return{};const D=function(Z,W){const G=d.ab.mat4.fromScaling([],[.5*Z.width,.5*-Z.height,1]);return d.ab.mat4.translate(G,G,[1,-1,0]),d.ab.mat4.multiply(G,G,Z.calculateProjMatrix(W.toUnwrapped())),Float32Array.from(G)}(w,this.tileID);return this.latestFeatureIndex.query(r,{tilespaceGeometry:l,pixelPosMatrix:D,transform:b,availableImages:m,tileTransform:this.tileTransform})}querySourceFeatures(r,l){const m=this.latestFeatureIndex;if(!m||!m.rawTileData)return;const b=m.loadVTLayers(),w=l?l.sourceLayer:"",I=b._geojsonTileLayer||b[w];if(!I)return;const D=d.aZ(l&&l.filter),{z:Z,x:W,y:G}=this.tileID.canonical,te={z:Z,x:W,y:G};for(let ne=0;ne<I.length;ne++){const ce=I.feature(ne);if(D.needGeometry){const Re=d.a_(ce,!0);if(!D.filter(new d.a8(this.tileID.overscaledZ),Re,this.tileID.canonical))continue}else if(!D.filter(new d.a8(this.tileID.overscaledZ),ce))continue;const Te=m.getId(ce,w),we=new d.a$(ce,Z,W,G,Te);we.tile=te,r.push(we)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return!!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(r){const l=this.expirationTime;if(r.cacheControl){const m=d.b0(r.cacheControl);m["max-age"]&&(this.expirationTime=Date.now()+1e3*m["max-age"])}else r.expires&&(this.expirationTime=new Date(r.expires).getTime());if(this.expirationTime){const m=Date.now();let b=!1;if(this.expirationTime>m)b=!1;else if(l)if(this.expirationTime<l)b=!0;else{const w=this.expirationTime-l;w?this.expirationTime=m+Math.max(w,3e4):b=!0}else b=!0;b?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}refreshFeatureState(r){this.latestFeatureIndex&&(this.latestFeatureIndex.rawTileData||this.latestFeatureIndex.is3DTile)&&r&&this.updateBuckets(r)}updateBuckets(r,l){if(!this.latestFeatureIndex||!r.style)return;const m=this.latestFeatureIndex.loadVTLayers(),b=r.style.listImages(),w=r.style.getBrightness();for(const I in this.buckets){if(!r.style.hasLayer(I))continue;const D=this.buckets[I],Z=D.layers[0],W=Z.sourceLayer||"_geojsonTileLayer",G=m[W],te=r.style.getLayerSourceCache(Z);let ne={};te&&(ne=te._state.getState(W,void 0));const ce=this.imageAtlas&&this.imageAtlas.patternPositions||{},Te=Object.keys(ne).length>0&&!l;Te&&!D.stateDependentLayers.length&&!l||D.update(ne,G,b,ce,Te?D.stateDependentLayers:D.layers,l,w),(D instanceof d.b1||D instanceof d.b2)&&r._terrain&&r._terrain.enabled&&te&&D.programConfigurations.needsUpload&&r._terrain._clearRenderCacheForTile(te.id,this.tileID);const we=r&&r.style&&r.style.getOwnLayer(I);we&&(this.queryPadding=Math.max(this.queryPadding,we.queryRadius(D)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<d.q.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(r){this.symbolFadeHoldUntil=d.q.now()+r}setTexture(r,l){const m=l.context,b=m.gl;this.texture=this.texture||l.getTileTexture(r.width),this.texture&&this.texture instanceof d.T?this.texture.update(r):(this.texture=new d.T(m,r,b.RGBA8,{useMipmap:!0}),this.texture.bind(b.LINEAR,b.CLAMP_TO_EDGE))}setDependencies(r,l){const m={};for(const b of l)m[b]=!0;this.dependencies[r]=m}hasDependency(r,l){for(const m of r){const b=this.dependencies[m];if(b){for(const w of l)if(b[w])return!0}}return!1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(r,l){if(!l||l.name==="mercator"||this._tileDebugBuffer)return;const m=d.b3(ns,this.tileID.canonical,this.tileTransform)[0],b=new d.b4,w=new d.b5;for(let I=0;I<m.length;I++){const{x:D,y:Z}=m[I];b.emplaceBack(D,Z),w.emplaceBack(I)}w.emplaceBack(0),this._tileDebugIndexBuffer=r.createIndexBuffer(w),this._tileDebugBuffer=r.createVertexBuffer(b,d.b6.members),this._tileDebugSegments=d.b7.simpleSegment(0,0,b.length,w.length)}_makeTileBoundsBuffers(r,l){if(this._tileBoundsBuffer||!l||l.name==="mercator")return;const m=d.b3(ns,this.tileID.canonical,this.tileTransform)[0];let b,w;if(this.isRaster){const I=function(D,Z){const W=d.aQ(D,Z),G=Math.pow(2,D.z);for(let Re=0;Re<Vo;Re++)for(let Oe=0;Oe<Vo;Oe++){const Ge=d.aR((D.x+(Oe+_s(Oe))/$o)/G),dt=d.aS((D.y+(Re+_s(Re))/$o)/G),st=Z.project(Ge,dt),bt=Re*Vo+Oe;gs[2*bt+0]=Math.round((st.x*W.scale-W.x)*d.ag),gs[2*bt+1]=Math.round((st.y*W.scale-W.y)*d.ag)}Os.fill(0),ys.fill(0);for(let Re=2045;Re>=0;Re--){const Oe=4*Re,Ge=qa[Oe+0],dt=qa[Oe+1],st=qa[Oe+2],bt=qa[Oe+3],pt=Ge+st>>1,gt=dt+bt>>1,ft=pt+gt-dt,yt=gt+Ge-pt,Bt=dt*Vo+Ge,In=bt*Vo+st,pn=gt*Vo+pt,Hn=Math.hypot((gs[2*Bt+0]+gs[2*In+0])/2-gs[2*pn+0],(gs[2*Bt+1]+gs[2*In+1])/2-gs[2*pn+1])>=16;Os[pn]=Os[pn]||(Hn?1:0),Re<1022&&(Os[pn]=Os[pn]||Os[(dt+yt>>1)*Vo+(Ge+ft>>1)]||Os[(bt+yt>>1)*Vo+(st+ft>>1)])}const te=new d.aT,ne=new d.aU;let ce=0;function Te(Re,Oe){const Ge=Oe*Vo+Re;return ys[Ge]===0&&(te.emplaceBack(gs[2*Ge+0],gs[2*Ge+1],Re*d.ag/$o,Oe*d.ag/$o),ys[Ge]=++ce),ys[Ge]-1}function we(Re,Oe,Ge,dt,st,bt){const pt=Re+Ge>>1,gt=Oe+dt>>1;if(Math.abs(Re-st)+Math.abs(Oe-bt)>1&&Os[gt*Vo+pt])we(st,bt,Re,Oe,pt,gt),we(Ge,dt,st,bt,pt,gt);else{const ft=Te(Re,Oe),yt=Te(Ge,dt),Bt=Te(st,bt);ne.emplaceBack(ft,yt,Bt)}}return we(0,0,$o,$o,$o,0),we($o,$o,0,0,0,$o),{vertices:te,indices:ne}}(this.tileID.canonical,l);b=I.vertices,w=I.indices}else{b=new d.aT,w=new d.aU;for(const{x:D,y:Z}of m)b.emplaceBack(D,Z,0,0);const I=d.b8(b.int16,void 0,4);for(let D=0;D<I.length;D+=3)w.emplaceBack(I[D],I[D+1],I[D+2])}this._tileBoundsBuffer=r.createVertexBuffer(b,d.b9.members),this._tileBoundsIndexBuffer=r.createIndexBuffer(w),this._tileBoundsSegments=d.b7.simpleSegment(0,0,b.length,w.length)}_makeGlobeTileDebugBuffers(r,l){const m=l.projection;if(!m||m.name!=="globe"||l.freezeTileCoverage)return;const b=this.tileID.canonical,w=d.ba(b,l),I=d.bb(w),D=d.ae(l.zoom);let Z;D>0&&(Z=d.ab.mat4.invert(new Float64Array(16),l.globeMatrix)),this._makeGlobeTileDebugBorderBuffer(r,b,l,I,Z,D),this._makeGlobeTileDebugTextBuffer(r,b,l,I,Z,D)}_globePoint(r,l,m,b,w,I,D){let Z=d.bc(r,l,m);if(I){const W=1<<m.z,G=d.at(b.center.lng),te=d.aA(b.center.lat),ne=(m.x+.5)/W-G;let ce=0;ne>.5?ce=-1:ne<-.5&&(ce=1);let Te=(r/d.ag+m.x)/W+ce,we=(l/d.ag+m.y)/W;Te=(Te-G)*b._pixelsPerMercatorPixel+G,we=(we-te)*b._pixelsPerMercatorPixel+te;const Re=[Te*b.worldSize,we*b.worldSize,0];d.ab.vec3.transformMat4(Re,Re,I),Z=d.bd(Z,Re,D)}return d.ab.vec3.transformMat4(Z,Z,w)}_makeGlobeTileDebugBorderBuffer(r,l,m,b,w,I){const D=new d.b4,Z=new d.b5,W=new d.be,G=(ne,ce,Te,we,Re)=>{const Oe=(Te-ne)/(Re-1),Ge=(we-ce)/(Re-1),dt=D.length;for(let st=0;st<Re;st++){const bt=ne+st*Oe,pt=ce+st*Ge;D.emplaceBack(bt,pt);const gt=this._globePoint(bt,pt,l,m,b,w,I);W.emplaceBack(gt[0],gt[1],gt[2]),Z.emplaceBack(dt+st)}},te=d.ag;G(0,0,te,0,16),G(te,0,te,te,16),G(te,te,0,te,16),G(0,te,0,0,16),this._tileDebugIndexBuffer=r.createIndexBuffer(Z),this._tileDebugBuffer=r.createVertexBuffer(D,d.b6.members),this._globeTileDebugBorderBuffer=r.createVertexBuffer(W,d.bf.members),this._tileDebugSegments=d.b7.simpleSegment(0,0,D.length,Z.length)}_makeGlobeTileDebugTextBuffer(r,l,m,b,w,I){const D=d.ag/4,Z=new d.b4,W=new d.aU,G=new d.be,te=25;W.reserve(32),Z.reserve(te),G.reserve(te);const ne=(ce,Te)=>te*ce+Te;for(let ce=0;ce<te;ce++){const Te=ce*D;for(let we=0;we<te;we++){const Re=we*D;Z.emplaceBack(Re,Te);const Oe=this._globePoint(Re,Te,l,m,b,w,I);G.emplaceBack(Oe[0],Oe[1],Oe[2])}}for(let ce=0;ce<4;ce++)for(let Te=0;Te<4;Te++){const we=ne(ce,Te),Re=ne(ce,Te+1),Oe=ne(ce+1,Te),Ge=ne(ce+1,Te+1);W.emplaceBack(we,Re,Oe),W.emplaceBack(Oe,Re,Ge)}this._tileDebugTextIndexBuffer=r.createIndexBuffer(W),this._tileDebugTextBuffer=r.createVertexBuffer(Z,d.b6.members),this._globeTileDebugTextBuffer=r.createVertexBuffer(G,d.bf.members),this._tileDebugTextSegments=d.b7.simpleSegment(0,0,te,32)}destroy(r=!1){for(const l in this.buckets)this.buckets[l].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&(this.imageAtlasTexture.destroy(),delete this.imageAtlasTexture),this.glyphAtlasTexture&&(this.glyphAtlasTexture.destroy(),delete this.glyphAtlasTexture),this.lineAtlasTexture&&(this.lineAtlasTexture.destroy(),delete this.lineAtlasTexture),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),!r&&this.texture&&this.texture instanceof d.T&&(this.texture.destroy(),delete this.texture),this.hillshadeFBO&&(this.hillshadeFBO.destroy(),delete this.hillshadeFBO),this.dem&&delete this.dem,this.neighboringTiles&&delete this.neighboringTiles,this.demTexture&&(this.demTexture.destroy(),delete this.demTexture),this.rasterParticleState&&(this.rasterParticleState.destroy(),delete this.rasterParticleState),this.latestFeatureIndex=null,this.state="unloaded"}}d.bg.setPbf(d.bh);class xo extends $s{constructor(r,l,m,b,w){super(r,l,m,b,w),this._workQueue=[],this._fetchQueue=[],this._isHeaderLoaded=!1}setTexture(r,l){const m=l.context,b=m.gl;this.texture=this.texture||l.getTileTexture(r.width),this.texture&&this.texture instanceof d.T?this.texture.update(r,{premultiply:!1}):this.texture=new d.T(m,r,b.RGBA8,{premultiply:!1})}flushQueues(){for(;this._workQueue.length;)this._workQueue.pop()();for(;this._fetchQueue.length;)this._fetchQueue.pop()()}fetchHeader(r=16384,l){const m=this._mrt=new d.bg(30),b=Object.assign({},this.requestParams,{headers:{Range:"bytes=0-"+(r-1)}});return this.entireBuffer=null,this.request=d.bi(b,(w,I,D,Z)=>{if(w)l(w);else try{const W=m.getHeaderLength(I);if(W>r)return void(this.request=this.fetchHeader(W,l));m.parseHeader(I),this._isHeaderLoaded=!0;let G=0;for(const te of Object.values(m.layers))G=Math.max(G,te.dataIndex[te.dataIndex.length-1].last_byte);I.byteLength>=G&&(this.entireBuffer=I),l(null,this.entireBuffer||I,D,Z)}catch(W){l(W)}}),this.request}fetchBand(r,l,m){const b=this._mrt;if(!this._isHeaderLoaded||!b)return void m(new Error("Tile header is not ready"));const w=this.actor;if(!w)return void m(new Error("Can't fetch tile band without an actor"));let I;const D=(te,ne)=>{I.complete(te,ne),te?m(te):(this.updateTextureDescriptor(r,l),m(null,this.textureDescriptor&&this.textureDescriptor.img))},Z=(te,ne)=>{if(te)return m(te);const ce=w.send("decodeRasterArray",{buffer:ne,task:I},D,void 0,!0);this._workQueue.push(()=>{ce&&ce.cancel(),I.cancel()})},W=b.getLayer(r);if(!W)return void m(new Error(`Unknown sourceLayer "${r}"`));if(W.hasDataForBand(l))return this.updateTextureDescriptor(r,l),void m(null,this.textureDescriptor?this.textureDescriptor.img:null);const G=W.getDataRange([l]);if(I=b.createDecodingTask(G),!I||I.tasks.length)if(this.flushQueues(),this.entireBuffer)Z(null,this.entireBuffer.slice(G.firstByte,G.lastByte+1));else{const te=Object.assign({},this.requestParams,{headers:{Range:`bytes=${G.firstByte}-${G.lastByte}`}}),ne=d.bi(te,Z);this._fetchQueue.push(()=>{ne.cancel(),I.cancel()})}else m(null)}updateNeeded(r,l){return(!this.textureDescriptor||this.textureDescriptor.band!==l||this.textureDescriptor.layer!==r)&&this.state!=="errored"}updateTextureDescriptor(r,l){if(!this._mrt)return;const m=this._mrt.getLayer(r);if(!m||!m.hasBand(l)||!m.hasDataForBand(l))return;const{bytes:b,tileSize:w,buffer:I,offset:D,scale:Z}=m.getBandView(l),W=w+2*I,G={data:b,width:W,height:W},te=this.texture;te&&te instanceof d.T&&te.update(G,{premultiply:!1}),this.textureDescriptor={layer:r,band:l,img:G,buffer:I,offset:D,tileSize:w,format:m.pixelFormat,mix:[Z,256*Z,65536*Z,16777216*Z]}}}class Wa{constructor(r,l){this.max=r,this.onRemove=l,this.reset()}reset(){for(const r in this.data)for(const l of this.data[r])l.timeout&&clearTimeout(l.timeout),this.onRemove(l.value);return this.data={},this.order=[],this}add(r,l,m){const b=r.wrapped().key;this.data[b]===void 0&&(this.data[b]=[]);const w={value:l,timeout:void 0};if(m!==void 0&&(w.timeout=setTimeout(()=>{this.remove(r,w)},m)),this.data[b].push(w),this.order.push(b),this.order.length>this.max){const I=this._getAndRemoveByKey(this.order[0]);I&&this.onRemove(I)}return this}has(r){return r.wrapped().key in this.data}getAndRemove(r){return this.has(r)?this._getAndRemoveByKey(r.wrapped().key):null}_getAndRemoveByKey(r){const l=this.data[r].shift();return l.timeout&&clearTimeout(l.timeout),this.data[r].length===0&&delete this.data[r],this.order.splice(this.order.indexOf(r),1),l.value}getByKey(r){const l=this.data[r];return l?l[0].value:null}get(r){return this.has(r)?this.data[r.wrapped().key][0].value:null}remove(r,l){if(!this.has(r))return this;const m=r.wrapped().key,b=l===void 0?0:this.data[m].indexOf(l),w=this.data[m][b];return this.data[m].splice(b,1),w.timeout&&clearTimeout(w.timeout),this.data[m].length===0&&delete this.data[m],this.onRemove(w.value),this.order.splice(this.order.indexOf(m),1),this}setMaxSize(r){for(this.max=r;this.order.length>this.max;){const l=this._getAndRemoveByKey(this.order[0]);l&&this.onRemove(l)}return this}filter(r){const l=[];for(const m in this.data)for(const b of this.data[m])r(b.value)||l.push(b);for(const m of l)this.remove(m.value.tileID,m)}}class Fo{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(r,l,m){const b=String(l);if(this.stateChanges[r]=this.stateChanges[r]||{},this.stateChanges[r][b]=this.stateChanges[r][b]||{},d.l(this.stateChanges[r][b],m),this.deletedStates[r]===null){this.deletedStates[r]={};for(const w in this.state[r])w!==b&&(this.deletedStates[r][w]=null)}else if(this.deletedStates[r]&&this.deletedStates[r][b]===null){this.deletedStates[r][b]={};for(const w in this.state[r][b])m[w]||(this.deletedStates[r][b][w]=null)}else for(const w in m)this.deletedStates[r]&&this.deletedStates[r][b]&&this.deletedStates[r][b][w]===null&&delete this.deletedStates[r][b][w]}removeFeatureState(r,l,m){if(this.deletedStates[r]===null)return;const b=String(l);if(this.deletedStates[r]=this.deletedStates[r]||{},m&&l!==void 0)this.deletedStates[r][b]!==null&&(this.deletedStates[r][b]=this.deletedStates[r][b]||{},this.deletedStates[r][b][m]=null);else if(l!==void 0)if(this.stateChanges[r]&&this.stateChanges[r][b])for(m in this.deletedStates[r][b]={},this.stateChanges[r][b])this.deletedStates[r][b][m]=null;else this.deletedStates[r][b]=null;else this.deletedStates[r]=null}getState(r,l){const m=this.state[r]||{},b=this.stateChanges[r]||{},w=this.deletedStates[r];if(w===null)return{};if(l!==void 0){const D=String(l),Z=d.l({},m[D],b[D]);if(w){const W=w[l];if(W===null)return{};for(const G in W)delete Z[G]}return Z}const I=d.l({},m,b);if(w)for(const D in w)delete I[D];return I}initializeTileState(r,l){r.refreshFeatureState(l)}coalesceChanges(r,l){const m={};for(const b in this.stateChanges){this.state[b]=this.state[b]||{};const w={};for(const I in this.stateChanges[b])this.state[b][I]||(this.state[b][I]={}),d.l(this.state[b][I],this.stateChanges[b][I]),w[I]=this.state[b][I];m[b]=w}for(const b in this.deletedStates){this.state[b]=this.state[b]||{};const w={};if(this.deletedStates[b]===null)for(const I in this.state[b])w[I]={},this.state[b][I]={};else for(const I in this.deletedStates[b]){if(this.deletedStates[b][I]===null)this.state[b][I]={};else if(this.state[b][I])for(const D of Object.keys(this.deletedStates[b][I]))delete this.state[b][I][D];w[I]=this.state[b][I]}m[b]=m[b]||{},d.l(m[b],w)}if(this.stateChanges={},this.deletedStates={},Object.keys(m).length!==0)for(const b in r)r[b].refreshFeatureState(l)}}class go extends d.E{constructor(r,l,m){super(),this.id=r,this._onlySymbols=m,l.on("data",b=>{b.dataType==="source"&&b.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&b.dataType==="source"&&b.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform))}),l.on("error",()=>{this._sourceErrored=!0}),this._source=l,this._tiles={},this._cache=new Wa(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._minTileCacheSize=l.minTileCacheSize,this._maxTileCacheSize=l.maxTileCacheSize,this._loadedParentTiles={},this.castsShadows=!1,this.tileCoverLift=0,this._coveredTiles={},this._shadowCasterTiles={},this._state=new Fo,this._isRaster=this._source.type==="raster"||this._source.type==="raster-dem"||this._source.type==="raster-array"||this._source.type==="custom"&&this._source._dataType==="raster"}onAdd(r){this.map=r,this._minTileCacheSize=this._minTileCacheSize===void 0&&r?r._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=this._maxTileCacheSize===void 0&&r?r._maxTileCacheSize:this._maxTileCacheSize}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const r in this._tiles){const l=this._tiles[r];if(l.state!=="loaded"&&l.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const r=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,r&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(r,l){return r.isSymbolTile=this._onlySymbols,r.isExtraShadowCaster=this._shadowCasterTiles[r.tileID.key],this._source.loadTile(r,l)}_unloadTile(r){if(this._source.unloadTile)return this._source.unloadTile(r)}_abortTile(r){if(this._source.abortTile)return this._source.abortTile(r)}serialize(){return this._source.serialize()}prepare(r){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const l in this._tiles){const m=this._tiles[l];m.upload(r),m.prepare(this.map.style.imageManager,this.map?this.map.painter:null,this._source.scope)}}getIds(){return d.bj(this._tiles).map(r=>r.tileID).sort(no).map(r=>r.key)}getRenderableIds(r,l){const m=[];for(const b in this._tiles)this._isIdRenderable(+b,r,l)&&m.push(this._tiles[b]);return r?m.sort((b,w)=>{const I=b.tileID,D=w.tileID,Z=new d.P(I.canonical.x,I.canonical.y)._rotate(this.transform.angle),W=new d.P(D.canonical.x,D.canonical.y)._rotate(this.transform.angle);return I.overscaledZ-D.overscaledZ||W.y-Z.y||W.x-Z.x}).map(b=>b.tileID.key):m.map(b=>b.tileID).sort(no).map(b=>b.key)}hasRenderableParent(r){const l=this.findLoadedParent(r,0);return!!l&&this._isIdRenderable(l.tileID.key)}_isIdRenderable(r,l,m){return this._tiles[r]&&this._tiles[r].hasData()&&!this._coveredTiles[r]&&(l||!this._tiles[r].holdingForFade())&&(m||!this._shadowCasterTiles[r])}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const r in this._tiles)this._tiles[r].state!=="errored"&&this._reloadTile(+r,"reloading")}}_reloadTile(r,l){const m=this._tiles[r];m&&(m.state!=="loading"&&(m.state=l),this._loadTile(m,this._tileLoaded.bind(this,m,r,l)))}_tileLoaded(r,l,m,b){if(b)if(r.state="errored",b.status!==404)this._source.fire(new d.y(b,{tile:r}));else{if(this._source.fire(new d.z("data",{dataType:"source",sourceDataType:"error",sourceId:this._source.id,tile:r})),!(r.tileID.key in this._loadedParentTiles))return;if(this._source.type==="raster-dem"&&this.usedForTerrain&&this.map.painter.terrain){const w=this.map.painter.terrain;this.update(this.transform,w.getScaledDemTileSize(),!0),w.resetTileLookupCache(this.id)}else this.update(this.transform)}else r.timeAdded=d.q.now(),m==="expired"&&(r.refreshedUponExpiration=!0),this._setTileReloadTimer(l,r),this._source.type==="raster-dem"&&r.dem&&this._backfillDEM(r),this._state.initializeTileState(r,this.map?this.map.painter:null),this._source.fire(new d.z("data",{dataType:"source",tile:r,coord:r.tileID,sourceCacheId:this.id}))}_backfillDEM(r){const l=this.getRenderableIds();for(let b=0;b<l.length;b++){const w=l[b];if(r.neighboringTiles&&r.neighboringTiles[w]){const I=this.getTileByID(w);m(r,I),m(I,r)}}function m(b,w){if(!b.dem||b.dem.borderReady)return;b.needsHillshadePrepare=!0,b.needsDEMTextureUpload=!0;let I=w.tileID.canonical.x-b.tileID.canonical.x;const D=w.tileID.canonical.y-b.tileID.canonical.y,Z=Math.pow(2,b.tileID.canonical.z),W=w.tileID.key;I===0&&D===0||Math.abs(D)>1||(Math.abs(I)>1&&(Math.abs(I+Z)===1?I+=Z:Math.abs(I-Z)===1&&(I-=Z)),w.dem&&b.dem&&(b.dem.backfillBorder(w.dem,I,D),b.neighboringTiles&&b.neighboringTiles[W]&&(b.neighboringTiles[W].backfilled=!0)))}}getTile(r){return this.getTileByID(r.key)}getTileByID(r){return this._tiles[r]}_retainLoadedChildren(r,l,m,b){for(const w in this._tiles){let I=this._tiles[w];if(b[w]||!I.hasData()||I.tileID.overscaledZ<=l||I.tileID.overscaledZ>m)continue;let D=I.tileID;for(;I&&I.tileID.overscaledZ>l+1;){const W=I.tileID.scaledTo(I.tileID.overscaledZ-1);I=this._tiles[W.key],I&&I.hasData()&&(D=W)}let Z=D;for(;Z.overscaledZ>l;)if(Z=Z.scaledTo(Z.overscaledZ-1),r[Z.key]){b[D.key]=D;break}}}findLoadedParent(r,l){if(r.key in this._loadedParentTiles){const m=this._loadedParentTiles[r.key];return m&&m.tileID.overscaledZ>=l?m:null}for(let m=r.overscaledZ-1;m>=l;m--){const b=r.scaledTo(m),w=this._getLoadedTile(b);if(w)return w}}_getLoadedTile(r){const l=this._tiles[r.key];return l&&l.hasData()?l:this._cache.getByKey(this._source.reparseOverscaled?r.wrapped().key:r.canonical.key)}updateCacheSize(r,l){l=l||this._source.tileSize;const m=Math.ceil(r.width/l)+1,b=Math.ceil(r.height/l)+1,w=Math.floor(m*b*5),I=typeof this._minTileCacheSize=="number"?Math.max(this._minTileCacheSize,w):w,D=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,I):I;this._cache.setMaxSize(D)}handleWrapJump(r){const l=Math.round((r-(this._prevLng===void 0?r:this._prevLng))/360);if(this._prevLng=r,l){const m={};for(const b in this._tiles){const w=this._tiles[b];w.tileID=w.tileID.unwrapTo(w.tileID.wrap+l),m[w.tileID.key]=w}this._tiles=m;for(const b in this._timers)clearTimeout(this._timers[b]),delete this._timers[b];for(const b in this._tiles)this._setTileReloadTimer(+b,this._tiles[b])}}update(r,l,m,b){if(this.transform=r,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage||this.usedForTerrain&&!m)return;this.updateCacheSize(r,l),this.transform.projection.name!=="globe"&&this.handleWrapJump(this.transform.center.lng),this._shadowCasterTiles={},this._coveredTiles={};const w=this._source.type==="batched-model";let I,D=this._source.maxzoom;const Z=this.map&&this.map.painter?this.map.painter._terrain:null;if(Z&&Z.sourceCache===this&&Z.attenuationRange()){const te=Z.attenuationRange()[0],ne=Math.floor(te)-Math.log2(Z.getDemUpscale());D>ne&&(D=ne)}if(this.used||this.usedForTerrain){if(this._source.tileID)I=r.getVisibleUnwrappedCoordinates(this._source.tileID).map(te=>new d.aG(te.canonical.z,te.wrap,te.canonical.z,te.canonical.x,te.canonical.y));else if(this.tileCoverLift!==0){const te=r.clone();te.tileCoverLift=this.tileCoverLift,I=te.coveringTiles({tileSize:l||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:D,roundZoom:this._source.roundZoom&&!m,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain,calculateQuadrantVisibility:w}),this._source.minzoom<=1&&r.projection.name==="globe"&&(I.push(new d.aG(1,0,1,0,0)),I.push(new d.aG(1,0,1,1,0)),I.push(new d.aG(1,0,1,0,1)),I.push(new d.aG(1,0,1,1,1)))}else if(I=r.coveringTiles({tileSize:l||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:D,roundZoom:this._source.roundZoom&&!m,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain,calculateQuadrantVisibility:w}),this._source.hasTile){const te=this._source.hasTile.bind(this._source);I=I.filter(ne=>te(ne))}}else I=[];if(I.length>0&&this.castsShadows&&b&&this.transform.projection.name!=="globe"&&!this.usedForTerrain&&!Is(this._source.type)){const te=r.coveringZoomLevel({tileSize:l||this._source.tileSize,roundZoom:this._source.roundZoom&&!m}),ne=Math.min(te,this._source.maxzoom);if(w){const ce=r.extendTileCover(I,ne);for(const Te of ce)I.push(Te)}else{const ce=r.extendTileCover(I,ne,b);for(const Te of ce)this._shadowCasterTiles[Te.key]=!0,I.push(Te)}}const W=this._updateRetainedTiles(I);if(Is(this._source.type)&&I.length!==0){const te={},ne={},ce=Object.keys(W);for(const we of ce){const Re=W[we],Oe=this._tiles[we];if(!Oe||Oe.fadeEndTime&&Oe.fadeEndTime<=d.q.now())continue;const Ge=this.findLoadedParent(Re,Math.max(Re.overscaledZ-go.maxOverzooming,this._source.minzoom));Ge&&(this._addTile(Ge.tileID),te[Ge.tileID.key]=Ge.tileID),ne[we]=Re}const Te=I[I.length-1].overscaledZ;for(const we in this._tiles){const Re=this._tiles[we];if(W[we]||!Re.hasData())continue;let Oe=Re.tileID;for(;Oe.overscaledZ>Te;){Oe=Oe.scaledTo(Oe.overscaledZ-1);const Ge=this._tiles[Oe.key];if(Ge&&Ge.hasData()&&ne[Oe.key]){W[we]=Re.tileID;break}}}for(const we in te)W[we]||(this._coveredTiles[we]=!0,W[we]=te[we])}for(const te in W)this._tiles[te].clearFadeHold();const G=d.bk(this._tiles,W);for(const te of G){const ne=this._tiles[te];ne.hasSymbolBuckets&&!ne.holdingForFade()?ne.setHoldDuration(this.map._fadeDuration):ne.hasSymbolBuckets&&!ne.symbolFadeFinished()||this._removeTile(+te)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const r in this._tiles)this._tiles[r].holdingForFade()&&this._removeTile(+r)}_updateRetainedTiles(r){const l={};if(r.length===0)return l;const m={},b=r.reduce((W,G)=>Math.min(W,G.overscaledZ),1/0),w=r[0].overscaledZ,I=Math.max(w-go.maxOverzooming,this._source.minzoom),D=Math.max(w+go.maxUnderzooming,this._source.minzoom),Z={};for(const W of r){const G=this._addTile(W);l[W.key]=W,G.hasData()||b<this._source.maxzoom&&(Z[W.key]=W)}this._retainLoadedChildren(Z,b,D,l);for(const W of r){let G=this._tiles[W.key];if(G.hasData())continue;if(W.canonical.z>=this._source.maxzoom){const ne=W.children(this._source.maxzoom)[0],ce=this.getTile(ne);if(ce&&ce.hasData()){l[ne.key]=ne;continue}}else{const ne=W.children(this._source.maxzoom);if(l[ne[0].key]&&l[ne[1].key]&&l[ne[2].key]&&l[ne[3].key])continue}let te=G.wasRequested();for(let ne=W.overscaledZ-1;ne>=I;--ne){const ce=W.scaledTo(ne);if(m[ce.key]||(m[ce.key]=!0,G=this.getTile(ce),!G&&te&&(G=this._addTile(ce)),G&&(l[ce.key]=ce,te=G.wasRequested(),G.hasData())))break}}return l}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const r in this._tiles){const l=[];let m,b=this._tiles[r].tileID;for(;b.overscaledZ>0;){if(b.key in this._loadedParentTiles){m=this._loadedParentTiles[b.key];break}l.push(b.key);const w=b.scaledTo(b.overscaledZ-1);if(m=this._getLoadedTile(w),m)break;b=w}for(const w of l)this._loadedParentTiles[w]=m}}_addTile(r){let l=this._tiles[r.key];if(l)return l.isExtraShadowCaster!==!0||this._shadowCasterTiles[r.key]||this._reloadTile(r.key,"reloading"),l;l=this._cache.getAndRemove(r),l&&(this._setTileReloadTimer(r.key,l),l.tileID=r,this._state.initializeTileState(l,this.map?this.map.painter:null),this._cacheTimers[r.key]&&(clearTimeout(this._cacheTimers[r.key]),delete this._cacheTimers[r.key],this._setTileReloadTimer(r.key,l)));const m=!!l;if(!m){const b=this.map?this.map.painter:null,w=this._source.tileSize*r.overscaleFactor();l=this._source.type==="raster-array"?new xo(r,w,this.transform.tileZoom,b,this._isRaster):new $s(r,w,this.transform.tileZoom,b,this._isRaster),this._loadTile(l,this._tileLoaded.bind(this,l,r.key,l.state))}return l?(l.uses++,this._tiles[r.key]=l,m||this._source.fire(new d.z("dataloading",{tile:l,coord:l.tileID,dataType:"source"})),l):null}_setTileReloadTimer(r,l){r in this._timers&&(clearTimeout(this._timers[r]),delete this._timers[r]);const m=l.getExpiryTimeout();m&&(this._timers[r]=setTimeout(()=>{this._reloadTile(r,"expired"),delete this._timers[r]},m))}_removeTile(r){const l=this._tiles[r];l&&(l.uses--,delete this._tiles[r],this._timers[r]&&(clearTimeout(this._timers[r]),delete this._timers[r]),l.uses>0||(l.hasData()&&l.state!=="reloading"||l.state==="empty"?this._cache.add(l.tileID,l,l.getExpiryTimeout()):(l.aborted=!0,this._abortTile(l),this._unloadTile(l))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const r in this._tiles)this._removeTile(+r);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id)}tilesIn(r,l,m){const b=[],w=this.transform;if(!w)return b;const I=w.projection.name==="globe",D=d.at(w.center.lng);for(const Z in this._tiles){const W=this._tiles[Z];if(m&&W.clearQueryDebugViz(),W.holdingForFade())continue;let G;if(I){const te=W.tileID.canonical;if(te.z===0){const ne=[Math.abs(d.aw(D,...si(te,-1))-D),Math.abs(d.aw(D,...si(te,1))-D)];G=[0,2*ne.indexOf(Math.min(...ne))-1]}else{const ne=[Math.abs(d.aw(D,...si(te,-1))-D),Math.abs(d.aw(D,...si(te,0))-D),Math.abs(d.aw(D,...si(te,1))-D)];G=[ne.indexOf(Math.min(...ne))-1]}}else G=[0];for(const te of G){const ne=r.containsTile(W,w,l,te);ne&&b.push(ne)}}return b}getShadowCasterCoordinates(){return this._getRenderableCoordinates(!1,!0)}getVisibleCoordinates(r){return this._getRenderableCoordinates(r)}_getRenderableCoordinates(r,l){const m=this.getRenderableIds(r,l).map(w=>this._tiles[w].tileID),b=this.transform.projection.name==="globe";for(const w of m)w.projMatrix=this.transform.calculateProjMatrix(w.toUnwrapped()),w.expandedProjMatrix=b?this.transform.calculateProjMatrix(w.toUnwrapped(),!1,!0):w.projMatrix;return m}sortCoordinatesByDistance(r){const l=r.slice(),m=this.transform._camera.position,b=this.transform._camera.forward(),w={};for(const I of l){const D=1/(1<<I.canonical.z);w[I.key]=((I.canonical.x+.5)*D+I.wrap-m[0])*b[0]+((I.canonical.y+.5)*D-m[1])*b[1]-m[2]*b[2]}return l.sort((I,D)=>w[I.key]-w[D.key]),l}hasTransition(){if(this._source.hasTransition())return!0;if(Is(this._source.type))for(const r in this._tiles){const l=this._tiles[r];if(l.fadeEndTime!==void 0&&l.fadeEndTime>=d.q.now())return!0}return!1}setFeatureState(r,l,m){this._state.updateState(r=r||"_geojsonTileLayer",l,m)}removeFeatureState(r,l,m){this._state.removeFeatureState(r=r||"_geojsonTileLayer",l,m)}getFeatureState(r,l){return this._state.getState(r=r||"_geojsonTileLayer",l)}setDependencies(r,l,m){const b=this._tiles[r];b&&b.setDependencies(l,m)}reloadTilesForDependencies(r,l){for(const m in this._tiles)this._tiles[m].hasDependency(r,l)&&this._reloadTile(+m,"reloading");this._cache.filter(m=>!m.hasDependency(r,l))}_preloadTiles(r,l){if(!this._sourceLoaded){const Z=()=>{this._sourceLoaded&&(this._source.off("data",Z),this._preloadTiles(r,l))};return void this._source.on("data",Z)}const m=new Map,b=Array.isArray(r)?r:[r],w=this.map.painter.terrain,I=this.usedForTerrain&&w?w.getScaledDemTileSize():this._source.tileSize;for(const Z of b){const W=Z.coveringTiles({tileSize:I,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain});for(const G of W)m.set(G.key,G);this.usedForTerrain&&Z.updateElevation(!1)}const D=Array.from(m.values());d.bl(D,(Z,W)=>{const G=new $s(Z,this._source.tileSize*Z.overscaleFactor(),this.transform.tileZoom,this.map.painter,this._isRaster);this._loadTile(G,te=>{this._source.type==="raster-dem"&&G.dem&&this._backfillDEM(G),W(te,G)})},l)}}function no(p,r){const l=Math.abs(2*p.wrap)-+(p.wrap<0),m=Math.abs(2*r.wrap)-+(r.wrap<0);return p.overscaledZ-r.overscaledZ||m-l||r.canonical.y-p.canonical.y||r.canonical.x-p.canonical.x}function Is(p){return p==="raster"||p==="image"||p==="video"||p==="custom"}function si(p,r){const l=1<<p.z;return[p.x/l+r,(p.x+1)/l+r]}go.maxOverzooming=10,go.maxUnderzooming=3;class ks{constructor(r){this.style=r,this.layersGotHidden=!1,this.layers=[]}processLayersChanged(){this.layers=[];const r=!1,l=!1;for(const m in this.style._mergedLayers){const b=this.style._mergedLayers[m];if(b.type==="fill-extrusion")this.layers.push({layer:b,visible:r,visibilityChanged:l});else if(b.type==="model"){const w=this.style.getLayerSource(b);w&&w.type==="batched-model"&&this.layers.push({layer:b,visible:r,visibilityChanged:l})}}}onNewFrame(r){this.layersGotHidden=!1;for(const l of this.layers){const m=l.layer;let b=!1;m.type==="fill-extrusion"?b=!m.isHidden(r)&&m.paint.get("fill-extrusion-opacity")>0:m.type==="model"&&(b=!m.isHidden(r)&&m.paint.get("model-opacity").constantOr(1)>0),this.layersGotHidden=this.layersGotHidden||!b&&l.visible,l.visible=b}}updateZOffset(r,l){this.currentBuildingBuckets=[];for(const b of this.layers){const w=b.layer,I=this.style.getLayerSourceCache(w);let D=1;w.type==="fill-extrusion"&&(D=b.visible?w.paint.get("fill-extrusion-vertical-scale"):0);let Z=I?I.getTile(l):null;if(!Z&&I&&l.canonical.z>I.getSource().minzoom){let W=l.scaledTo(Math.min(I.getSource().maxzoom,l.overscaledZ-1));for(;W.overscaledZ>=I.getSource().minzoom&&(Z=I.getTile(W),!Z&&W.overscaledZ!==0);)W=W.scaledTo(W.overscaledZ-1)}this.currentBuildingBuckets.push({bucket:Z?Z.getBucket(w):null,tileID:Z?Z.tileID:l,verticalScale:D})}r.hasAnyZOffset=!1;let m=!1;for(let b=0;b<r.symbolInstances.length;b++){const w=r.symbolInstances.get(b),I=w.zOffset,D=this._getHeightAtTileOffset(l,w.tileAnchorX,w.tileAnchorY);w.zOffset=D!==Number.NEGATIVE_INFINITY?D:I,m||I===w.zOffset||(m=!0),r.hasAnyZOffset||w.zOffset===0||(r.hasAnyZOffset=!0)}m&&(r.zOffsetBuffersNeedUpload=!0,r.zOffsetSortDirty=!0)}_mapCoordToOverlappingTile(r,l,m,b){let w=l,I=m;if(r.canonical.z!==b.canonical.z){const D=b.canonical,Z=1/(1<<r.canonical.z-D.z);w=(l+r.canonical.x*d.ag)*Z-D.x*d.ag|0,I=(m+r.canonical.y*d.ag)*Z-D.y*d.ag|0}return{tileX:w,tileY:I}}_getHeightAtTileOffset(r,l,m){let b,w;for(let I=0;I<this.layers.length;++I){if(this.layers[I].layer.type!=="fill-extrusion")continue;const{bucket:D,tileID:Z,verticalScale:W}=this.currentBuildingBuckets[I];if(!D)continue;const{tileX:G,tileY:te}=this._mapCoordToOverlappingTile(r,l,m,Z),ne=D.getHeightAtTileCoord(G,te);ne&&ne.height!==void 0&&(ne.hidden?b=ne.height:w=Math.max(ne.height*W,w||0))}if(w!==void 0)return w;for(let I=0;I<this.layers.length;++I){const D=this.layers[I];if(D.layer.type!=="model"||!D.visible)continue;const{bucket:Z,tileID:W}=this.currentBuildingBuckets[I];if(!Z)continue;const{tileX:G,tileY:te}=this._mapCoordToOverlappingTile(r,l,m,W),ne=Z.getHeightAtTileCoord(G,te);if(ne&&!ne.hidden)return ne.height===void 0&&b!==void 0?Math.min(ne.maxHeight,b)*ne.verticalScale:ne.height?ne.height*ne.verticalScale:Number.NEGATIVE_INFINITY}return this.layersGotHidden?0:Number.NEGATIVE_INFINITY}}function qs(p,r){const l={};for(const m in p)m!=="ref"&&(l[m]=p[m]);return d.bm.forEach(m=>{m in r&&(l[m]=r[m])}),l}function ms(p){p=p.slice();const r=Object.create(null);for(let l=0;l<p.length;l++)r[p[l].id]=p[l];for(let l=0;l<p.length;l++)"ref"in p[l]&&(p[l]=qs(p[l],r[p[l].ref]));return p}const di={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setSlot:"setSlot",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setSnow:"setSnow",setRain:"setRain",setCamera:"setCamera",setLights:"setLights",setProjection:"setProjection",addImport:"addImport",removeImport:"removeImport",updateImport:"updateImport"};function Ya(p,r,l){l.push({command:di.addSource,args:[p,r[p]]})}function Ss(p,r,l){r.push({command:di.removeSource,args:[p]}),l[p]=!0}function Nr(p,r,l,m){Ss(p,l,m),Ya(p,r,l)}function qi(p,r,l){let m;for(m in p[l])if(p[l].hasOwnProperty(m)&&m!=="data"&&!d.bn(p[l][m],r[l][m]))return!1;for(m in r[l])if(r[l].hasOwnProperty(m)&&m!=="data"&&!d.bn(p[l][m],r[l][m]))return!1;return!0}function To(p,r,l,m,b,w){let I;for(I in r=r||{},p=p||{})p.hasOwnProperty(I)&&(d.bn(p[I],r[I])||l.push({command:w,args:[m,I,r[I],b]}));for(I in r)r.hasOwnProperty(I)&&!p.hasOwnProperty(I)&&(d.bn(p[I],r[I])||l.push({command:w,args:[m,I,r[I],b]}))}function wa(p){return p.id}function Za(p,r){return p[r.id]=r,p}class Ho{constructor(r,l){this.reset(r,l)}reset(r,l){this.points=r||[],this._distances=[0];for(let m=1;m<this.points.length;m++)this._distances[m]=this._distances[m-1]+this.points[m].dist(this.points[m-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(l||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(r){if(this.points.length===1)return this.points[0];r=d.aw(r,0,1);let l=1,m=this._distances[l];const b=r*this.paddedLength+this.padding;for(;m<b&&l<this._distances.length;)m=this._distances[++l];const w=l-1,I=this._distances[w],D=m-I,Z=D>0?(b-I)/D:0;return this.points[w].mult(1-Z).add(this.points[l].mult(Z))}}class ul{constructor(r,l,m){const b=this.boxCells=[],w=this.circleCells=[];this.xCellCount=Math.ceil(r/m),this.yCellCount=Math.ceil(l/m);for(let I=0;I<this.xCellCount*this.yCellCount;I++)b.push([]),w.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=r,this.height=l,this.xScale=this.xCellCount/r,this.yScale=this.yCellCount/l,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(r,l,m,b,w){this._forEachCell(l,m,b,w,this._insertBoxCell,this.boxUid++),this.boxKeys.push(r),this.bboxes.push(l),this.bboxes.push(m),this.bboxes.push(b),this.bboxes.push(w)}insertCircle(r,l,m,b){this._forEachCell(l-b,m-b,l+b,m+b,this._insertCircleCell,this.circleUid++),this.circleKeys.push(r),this.circles.push(l),this.circles.push(m),this.circles.push(b)}_insertBoxCell(r,l,m,b,w,I){this.boxCells[w].push(I)}_insertCircleCell(r,l,m,b,w,I){this.circleCells[w].push(I)}_query(r,l,m,b,w,I){if(m<0||r>this.width||b<0||l>this.height)return!w&&[];const D=[];if(r<=0&&l<=0&&this.width<=m&&this.height<=b){if(w)return!0;for(let Z=0;Z<this.boxKeys.length;Z++)D.push({key:this.boxKeys[Z],x1:this.bboxes[4*Z],y1:this.bboxes[4*Z+1],x2:this.bboxes[4*Z+2],y2:this.bboxes[4*Z+3]});for(let Z=0;Z<this.circleKeys.length;Z++){const W=this.circles[3*Z],G=this.circles[3*Z+1],te=this.circles[3*Z+2];D.push({key:this.circleKeys[Z],x1:W-te,y1:G-te,x2:W+te,y2:G+te})}return I?D.filter(I):D}return this._forEachCell(r,l,m,b,this._queryCell,D,{hitTest:w,seenUids:{box:{},circle:{}}},I),w?D.length>0:D}_queryCircle(r,l,m,b,w){const I=r-m,D=r+m,Z=l-m,W=l+m;if(D<0||I>this.width||W<0||Z>this.height)return!b&&[];const G=[];return this._forEachCell(I,Z,D,W,this._queryCellCircle,G,{hitTest:b,circle:{x:r,y:l,radius:m},seenUids:{box:{},circle:{}}},w),b?G.length>0:G}query(r,l,m,b,w){return this._query(r,l,m,b,!1,w)}hitTest(r,l,m,b,w){return this._query(r,l,m,b,!0,w)}hitTestCircle(r,l,m,b){return this._queryCircle(r,l,m,!0,b)}_queryCell(r,l,m,b,w,I,D,Z){const W=D.seenUids,G=this.boxCells[w];if(G!==null){const ne=this.bboxes;for(const ce of G)if(!W.box[ce]){W.box[ce]=!0;const Te=4*ce;if(r<=ne[Te+2]&&l<=ne[Te+3]&&m>=ne[Te+0]&&b>=ne[Te+1]&&(!Z||Z(this.boxKeys[ce]))){if(D.hitTest)return I.push(!0),!0;I.push({key:this.boxKeys[ce],x1:ne[Te],y1:ne[Te+1],x2:ne[Te+2],y2:ne[Te+3]})}}}const te=this.circleCells[w];if(te!==null){const ne=this.circles;for(const ce of te)if(!W.circle[ce]){W.circle[ce]=!0;const Te=3*ce;if(this._circleAndRectCollide(ne[Te],ne[Te+1],ne[Te+2],r,l,m,b)&&(!Z||Z(this.circleKeys[ce]))){if(D.hitTest)return I.push(!0),!0;{const we=ne[Te],Re=ne[Te+1],Oe=ne[Te+2];I.push({key:this.circleKeys[ce],x1:we-Oe,y1:Re-Oe,x2:we+Oe,y2:Re+Oe})}}}}}_queryCellCircle(r,l,m,b,w,I,D,Z){const W=D.circle,G=D.seenUids,te=this.boxCells[w];if(te!==null){const ce=this.bboxes;for(const Te of te)if(!G.box[Te]){G.box[Te]=!0;const we=4*Te;if(this._circleAndRectCollide(W.x,W.y,W.radius,ce[we+0],ce[we+1],ce[we+2],ce[we+3])&&(!Z||Z(this.boxKeys[Te])))return I.push(!0),!0}}const ne=this.circleCells[w];if(ne!==null){const ce=this.circles;for(const Te of ne)if(!G.circle[Te]){G.circle[Te]=!0;const we=3*Te;if(this._circlesCollide(ce[we],ce[we+1],ce[we+2],W.x,W.y,W.radius)&&(!Z||Z(this.circleKeys[Te])))return I.push(!0),!0}}}_forEachCell(r,l,m,b,w,I,D,Z){const W=this._convertToXCellCoord(r),G=this._convertToYCellCoord(l),te=this._convertToXCellCoord(m),ne=this._convertToYCellCoord(b);for(let ce=W;ce<=te;ce++)for(let Te=G;Te<=ne;Te++)if(w.call(this,r,l,m,b,this.xCellCount*Te+ce,I,D,Z))return}_convertToXCellCoord(r){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(r*this.xScale)))}_convertToYCellCoord(r){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(r*this.yScale)))}_circlesCollide(r,l,m,b,w,I){const D=b-r,Z=w-l,W=m+I;return W*W>D*D+Z*Z}_circleAndRectCollide(r,l,m,b,w,I,D){const Z=(I-b)/2,W=Math.abs(r-(b+Z));if(W>Z+m)return!1;const G=(D-w)/2,te=Math.abs(l-(w+G));if(te>G+m)return!1;if(W<=Z||te<=G)return!0;const ne=W-Z,ce=te-G;return ne*ne+ce*ce<=m*m}}const rs={unknown:0,flipRequired:1,flipNotRequired:2},ln=Math.tan(85*Math.PI/180);function Ke(p,r,l,m,b,w,I){const D=d.ab.mat4.create();if(l)if(w.name==="globe"){const Z=d.bo(b,r);d.ab.mat4.multiply(D,D,Z)}else{const Z=d.ab.mat2.invert([],I);D[0]=Z[0],D[1]=Z[1],D[4]=Z[2],D[5]=Z[3],m||d.ab.mat4.rotateZ(D,D,b.angle)}else d.ab.mat4.multiply(D,b.labelPlaneMatrix,p);return D}function Pe(p,r,l,m,b,w,I){const D=Ke(p,r,l,m,b,w,I);return w.name==="globe"&&l||(D[2]=D[6]=D[10]=D[14]=0),D}function rt(p,r,l,m,b,w,I){if(l){if(w.name==="globe"){const D=Ke(p,r,l,m,b,w,I);return d.ab.mat4.invert(D,D),d.ab.mat4.multiply(D,p,D),D}{const D=d.ab.mat4.clone(p),Z=d.ab.mat4.identity([]);return Z[0]=I[0],Z[1]=I[1],Z[4]=I[2],Z[5]=I[3],d.ab.mat4.multiply(D,D,Z),m||d.ab.mat4.rotateZ(D,D,-b.angle),D}}return b.glCoordMatrix}function Ne(p,r,l,m){const b=[p,r,l,1];l?d.ab.vec4.transformMat4(b,b,m):Ur(b,b,m);const w=b[3];return b[0]/=w,b[1]/=w,b[2]/=w,b}function Ot(p,r){return Math.min(.5+p/r*.5,1.5)}function Kt(p,r){const l=p[0]/p[3],m=p[1]/p[3];return l>=-r[0]&&l<=r[0]&&m>=-r[1]&&m<=r[1]}function On(p,r,l,m,b,w,I,D,Z,W){const G=l.transform,te=m?p.textSizeData:p.iconSizeData,ne=d.bp(te,l.transform.zoom),ce=G.projection.name==="globe",Te=[256/l.width*2+1,256/l.height*2+1],we=m?p.text.dynamicLayoutVertexArray:p.icon.dynamicLayoutVertexArray;we.clear();let Re=null;ce&&(Re=m?p.text.globeExtVertexArray:p.icon.globeExtVertexArray);const Oe=p.lineVertexArray,Ge=m?p.text.placedSymbolArray:p.icon.placedSymbolArray,dt=l.transform.width/l.transform.height;let st,bt=!1;for(let pt=0;pt<Ge.length;pt++){const gt=Ge.get(pt),{numGlyphs:ft,writingMode:yt}=gt;if(yt!==d.bq.vertical||bt||st===d.bq.horizontal||(bt=!0),st=yt,(gt.hidden||yt===d.bq.vertical)&&!bt){Pr(ft,we);continue}bt=!1;const Bt=new d.P(gt.tileAnchorX,gt.tileAnchorY);let{x:In,y:pn,z:Hn}=G.projection.projectTilePoint(Bt.x,Bt.y,W.canonical);if(Z){const[Wn,_r,Rr]=Z(Bt);In+=Wn,pn+=_r,Hn+=Rr}const Zn=[In,pn,Hn,1];if(d.ab.vec4.transformMat4(Zn,Zn,r),!Kt(Zn,Te)){Pr(ft,we);continue}const rn=Zn[3],$n=Ot(l.transform.getCameraToCenterDistance(G.projection),rn),hr=d.br(te,ne,gt),nn=I?hr/$n:hr*$n,Xn=Ne(In,pn,Hn,b);if(Xn[3]<=0){Pr(ft,we);continue}let Mn={};const Dr=I?null:Z,ar=qn(gt,nn,!1,D,r,b,w,p.glyphOffsetArray,Oe,we,Re,Xn,Bt,Mn,dt,Dr,G.projection,W,I);bt=ar.useVertical,Dr&&ar.needsFlipping&&(Mn={}),(ar.notEnoughRoom||bt||ar.needsFlipping&&qn(gt,nn,!0,D,r,b,w,p.glyphOffsetArray,Oe,we,Re,Xn,Bt,Mn,dt,Dr,G.projection,W,I).notEnoughRoom)&&Pr(ft,we)}m?(p.text.dynamicLayoutVertexBuffer.updateData(we),Re&&p.text.globeExtVertexBuffer&&p.text.globeExtVertexBuffer.updateData(Re)):(p.icon.dynamicLayoutVertexBuffer.updateData(we),Re&&p.icon.globeExtVertexBuffer&&p.icon.globeExtVertexBuffer.updateData(Re))}function Yn(p,r,l,m,b,w,I,D,Z,W,G,te,ne,ce,Te,we){const{lineStartIndex:Re,glyphStartIndex:Oe,segment:Ge}=D,dt=Oe+D.numGlyphs,st=Re+D.lineLength,bt=r.getoffsetX(Oe),pt=r.getoffsetX(dt-1),gt=Bi(p*bt,l,m,b,w,I,Ge,Re,st,Z,W,G,te,ne,!0,ce,Te,we);if(!gt)return null;const ft=Bi(p*pt,l,m,b,w,I,Ge,Re,st,Z,W,G,te,ne,!0,ce,Te,we);return ft?{first:gt,last:ft}:null}function gr(p,r,l,m){return p===d.bq.horizontal&&Math.abs(m)>Math.abs(l)?{useVertical:!0}:p===d.bq.vertical?m>0?{needsFlipping:!0}:null:r!==rs.unknown&&function(b,w){return b===0||Math.abs(w/b)>ln}(l,m)?r===rs.flipRequired?{needsFlipping:!0}:null:l<0?{needsFlipping:!0}:null}function qn(p,r,l,m,b,w,I,D,Z,W,G,te,ne,ce,Te,we,Re,Oe,Ge){const dt=r/24,st=p.lineOffsetX*dt,bt=p.lineOffsetY*dt,{lineStartIndex:pt,glyphStartIndex:gt,numGlyphs:ft,segment:yt,writingMode:Bt,flipState:In}=p,pn=pt+p.lineLength,Hn=Zn=>{if(G){const[nn,Xn,Mn]=Zn.up,Dr=W.length;d.bs(G,Dr+0,nn,Xn,Mn),d.bs(G,Dr+1,nn,Xn,Mn),d.bs(G,Dr+2,nn,Xn,Mn),d.bs(G,Dr+3,nn,Xn,Mn)}const[rn,$n,hr]=Zn.point;d.bt(W,rn,$n,hr,Zn.angle)};if(ft>1){const Zn=Yn(dt,D,st,bt,l,te,ne,p,Z,w,ce,we,!1,Re,Oe,Ge);if(!Zn)return{notEnoughRoom:!0};if(m&&!l){let[rn,$n,hr]=Zn.first.point,[nn,Xn,Mn]=Zn.last.point;[rn,$n]=Ne(rn,$n,hr,I),[nn,Xn]=Ne(nn,Xn,Mn,I);const Dr=gr(Bt,In,(nn-rn)*Te,Xn-$n);if(p.flipState=Dr&&Dr.needsFlipping?rs.flipRequired:rs.flipNotRequired,Dr)return Dr}Hn(Zn.first);for(let rn=gt+1;rn<gt+ft-1;rn++){const $n=Bi(dt*D.getoffsetX(rn),st,bt,l,te,ne,yt,pt,pn,Z,w,ce,we,!1,!1,Re,Oe,Ge);if(!$n)return W.length-=4*(rn-gt),{notEnoughRoom:!0};Hn($n)}Hn(Zn.last)}else{if(m&&!l){const rn=Ne(ne.x,ne.y,0,b),$n=pt+yt+1,hr=new d.P(Z.getx($n),Z.gety($n)),nn=Ne(hr.x,hr.y,0,b),Xn=nn[3]>0?nn:li(ne,hr,rn,1,b,void 0,Re,Oe.canonical),Mn=gr(Bt,In,(Xn[0]-rn[0])*Te,Xn[1]-rn[1]);if(p.flipState=Mn&&Mn.needsFlipping?rs.flipRequired:rs.flipNotRequired,Mn)return Mn}const Zn=Bi(dt*D.getoffsetX(gt),st,bt,l,te,ne,yt,pt,pn,Z,w,ce,we,!1,!1,Re,Oe,Ge);if(!Zn)return{notEnoughRoom:!0};Hn(Zn)}return{}}function Ar(p,r,l,m,b){const{x:w,y:I,z:D}=m.projectTilePoint(p.x,p.y,r);if(!b)return Ne(w,I,D,l);const[Z,W,G]=b(p);return Ne(w+Z,I+W,D+G,l)}function li(p,r,l,m,b,w,I,D){const Z=Ar(p.sub(r)._unit()._add(p),D,b,I,w);return d.ab.vec3.sub(Z,l,Z),d.ab.vec3.normalize(Z,Z),d.ab.vec3.scaleAndAdd(Z,l,Z,m)}function Bi(p,r,l,m,b,w,I,D,Z,W,G,te,ne,ce,Te,we,Re,Oe){const Ge=m?p-r:p+r;let dt=Ge>0?1:-1,st=0;m&&(dt*=-1,st=Math.PI),dt<0&&(st+=Math.PI);let bt=D+I+(dt>0?0:1)|0,pt=b,gt=b,ft=0,yt=0;const Bt=Math.abs(Ge),In=[],pn=[];let Hn=w,Zn=Hn;const rn=()=>li(Zn,Hn,gt,Bt-ft+1,G,ne,we,Re.canonical);for(;ft+yt<=Bt;){if(bt+=dt,bt<D||bt>=Z)return null;if(gt=pt,Zn=Hn,In.push(gt),ce&&pn.push(Zn),Hn=new d.P(W.getx(bt),W.gety(bt)),pt=te[bt],!pt){const _r=Ar(Hn,Re.canonical,G,we,ne);pt=_r[3]>0?te[bt]=_r:rn()}ft+=yt,yt=d.ab.vec3.distance(gt,pt)}Te&&ne&&(te[bt]&&(pt=rn(),yt=d.ab.vec3.distance(gt,pt)),te[bt]=pt);const $n=(Bt-ft)/yt,hr=Hn.sub(Zn)._mult($n)._add(Zn),nn=d.ab.vec3.sub([],pt,gt),Xn=d.ab.vec3.scaleAndAdd([],gt,nn,$n);let Mn=[0,0,1],Dr=nn[0],ar=nn[1];if(Oe&&(Mn=we.upVector(Re.canonical,hr.x,hr.y),Mn[0]!==0||Mn[1]!==0||Mn[2]!==1)){const _r=[Mn[2],0,-Mn[0]],Rr=d.ab.vec3.cross([],Mn,_r);d.ab.vec3.normalize(_r,_r),d.ab.vec3.normalize(Rr,Rr),Dr=d.ab.vec3.dot(nn,_r),ar=d.ab.vec3.dot(nn,Rr)}if(l){const _r=d.ab.vec3.cross([],Mn,nn);d.ab.vec3.normalize(_r,_r),d.ab.vec3.scaleAndAdd(Xn,Xn,_r,l*dt)}const Wn=st+Math.atan2(ar,Dr);return In.push(Xn),ce&&pn.push(hr),{point:Xn,angle:Wn,path:In,tilePath:pn,up:Mn}}function Pr(p,r){const l=r.length,m=l+4*p;r.resize(m),r.float32.fill(-1/0,4*l,4*m)}function Ur(p,r,l){const m=r[0],b=r[1];return p[0]=l[0]*m+l[4]*b+l[12],p[1]=l[1]*m+l[5]*b+l[13],p[3]=l[3]*m+l[7]*b+l[15],p}const Cr=100;class Er{constructor(r,l,m=new ul(r.width+200,r.height+200,25),b=new ul(r.width+200,r.height+200,25)){this.transform=r,this.grid=m,this.ignoredGrid=b,this.pitchfactor=Math.cos(r._pitch)*r.cameraToCenterDistance,this.screenRightBoundary=r.width+Cr,this.screenBottomBoundary=r.height+Cr,this.gridRightBoundary=r.width+200,this.gridBottomBoundary=r.height+200,this.fogState=l}placeCollisionBox(r,l,m,b,w,I,D,Z){let W=m.projectedAnchorX,G=m.projectedAnchorY,te=m.projectedAnchorZ;const ne=m.elevation,ce=m.tileID,Te=r.getProjection();if(ne&&ce){const[pt,gt,ft]=Te.upVector(ce.canonical,m.tileAnchorX,m.tileAnchorY),yt=Te.upVectorScale(ce.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;W+=pt*ne*yt,G+=gt*ne*yt,te+=ft*ne*yt}const we=this.projectAndGetPerspectiveRatio(D,W,G,te,m.tileID,Te.name==="globe"||!!ne||this.transform.pitch>0,Te),Re=I*we.perspectiveRatio,Oe=(m.x1*l+b.x-m.padding)*Re+we.point.x,Ge=(m.y1*l+b.y-m.padding)*Re+we.point.y,dt=(m.x2*l+b.x+m.padding)*Re+we.point.x,st=(m.y2*l+b.y+m.padding)*Re+we.point.y,bt=we.perspectiveRatio<=.55||we.occluded;return!this.isInsideGrid(Oe,Ge,dt,st)||!w&&this.grid.hitTest(Oe,Ge,dt,st,Z)||bt?{box:[],offscreen:!1,occluded:we.occluded}:{box:[Oe,Ge,dt,st],offscreen:this.isOffscreen(Oe,Ge,dt,st),occluded:!1}}placeCollisionCircles(r,l,m,b,w,I,D,Z,W,G,te,ne,ce,Te,we){const Re=[],Oe=this.transform.elevation,Ge=r.getProjection(),dt=Oe?Oe.getAtTileOffsetFunc(we,this.transform.center.lat,this.transform.worldSize,Ge):null,st=new d.P(m.tileAnchorX,m.tileAnchorY);let{x:bt,y:pt,z:gt}=Ge.projectTilePoint(st.x,st.y,we.canonical);if(dt){const[hr,nn,Xn]=dt(st);bt+=hr,pt+=nn,gt+=Xn}const ft=Ge.name==="globe",yt=this.projectAndGetPerspectiveRatio(D,bt,pt,gt,we,ft||!!Oe||this.transform.pitch>0,Ge),{perspectiveRatio:Bt}=yt,In=(te?I/Bt:I*Bt)/d.bw,pn=Ne(bt,pt,gt,Z),Hn=yt.signedDistanceFromCamera>0?Yn(In,w,m.lineOffsetX*In,m.lineOffsetY*In,!1,pn,st,m,b,Z,{},Oe&&!te?dt:null,te&&!!Oe,Ge,we,te):null;let Zn=!1,rn=!1,$n=!0;if(Hn&&!yt.occluded){const hr=.5*ce*Bt+Te,nn=new d.P(-100,-100),Xn=new d.P(this.screenRightBoundary,this.screenBottomBoundary),Mn=new Ho,{first:Dr,last:ar}=Hn,Wn=Dr.path.length;let _r=[];for(let mi=Wn-1;mi>=1;mi--)_r.push(Dr.path[mi]);for(let mi=1;mi<ar.path.length;mi++)_r.push(ar.path[mi]);const Rr=2.5*hr;W&&(_r=_r.map(([mi,Co,Vi],Wi)=>(dt&&!ft&&(Vi=dt(Wi<Wn-1?Dr.tilePath[Wn-1-Wi]:ar.tilePath[Wi-Wn+2])[2]),Ne(mi,Co,Vi,W))),_r.some(mi=>mi[3]<=0)&&(_r=[]));let oi=[];if(_r.length>0){let mi=1/0,Co=-1/0,Vi=1/0,Wi=-1/0;for(const Ao of _r)mi=Math.min(mi,Ao[0]),Vi=Math.min(Vi,Ao[1]),Co=Math.max(Co,Ao[0]),Wi=Math.max(Wi,Ao[1]);Co>=nn.x&&mi<=Xn.x&&Wi>=nn.y&&Vi<=Xn.y&&(oi=[_r.map(Ao=>new d.P(Ao[0],Ao[1]))],(mi<nn.x||Co>Xn.x||Vi<nn.y||Wi>Xn.y)&&(oi=d.bu(oi,nn.x,nn.y,Xn.x,Xn.y)))}for(const mi of oi){Mn.reset(mi,.25*hr);let Co=0;Co=Mn.length<=.5*hr?1:Math.ceil(Mn.paddedLength/Rr)+1;for(let Vi=0;Vi<Co;Vi++){const Wi=Vi/Math.max(Co-1,1),Ao=Mn.lerp(Wi),Ga=Ao.x+Cr,bs=Ao.y+Cr;Re.push(Ga,bs,hr,0);const ll=Ga-hr,Ys=bs-hr,Go=Ga+hr,Ja=bs+hr;if($n=$n&&this.isOffscreen(ll,Ys,Go,Ja),rn=rn||this.isInsideGrid(ll,Ys,Go,Ja),!l&&this.grid.hitTestCircle(Ga,bs,hr,ne)&&(Zn=!0,!G))return{circles:[],offscreen:!1,collisionDetected:Zn,occluded:!1}}}}return{circles:!G&&Zn||!rn?[]:Re,offscreen:$n,collisionDetected:Zn,occluded:yt.occluded}}queryRenderedSymbols(r){if(r.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const l=[];let m=1/0,b=1/0,w=-1/0,I=-1/0;for(const G of r){const te=new d.P(G.x+Cr,G.y+Cr);m=Math.min(m,te.x),b=Math.min(b,te.y),w=Math.max(w,te.x),I=Math.max(I,te.y),l.push(te)}const D=this.grid.query(m,b,w,I).concat(this.ignoredGrid.query(m,b,w,I)),Z={},W={};for(const G of D){const te=G.key;if(Z[te.bucketInstanceId]===void 0&&(Z[te.bucketInstanceId]={}),Z[te.bucketInstanceId][te.featureIndex])continue;const ne=[new d.P(G.x1,G.y1),new d.P(G.x2,G.y1),new d.P(G.x2,G.y2),new d.P(G.x1,G.y2)];d.bv(l,ne)&&(Z[te.bucketInstanceId][te.featureIndex]=!0,W[te.bucketInstanceId]===void 0&&(W[te.bucketInstanceId]=[]),W[te.bucketInstanceId].push(te.featureIndex))}return W}insertCollisionBox(r,l,m,b,w){(l?this.ignoredGrid:this.grid).insert({bucketInstanceId:m,featureIndex:b,collisionGroupID:w},r[0],r[1],r[2],r[3])}insertCollisionCircles(r,l,m,b,w){const I=l?this.ignoredGrid:this.grid,D={bucketInstanceId:m,featureIndex:b,collisionGroupID:w};for(let Z=0;Z<r.length;Z+=4)I.insertCircle(D,r[Z],r[Z+1],r[Z+2])}projectAndGetPerspectiveRatio(r,l,m,b,w,I,D){const Z=[l,m,b,1];let W=!1;b||this.transform.pitch>0?(d.ab.vec4.transformMat4(Z,Z,r),this.fogState&&w&&D.name!=="globe"&&(W=function(ne,ce,Te,we,Re,Oe){const Ge=Oe.calculateFogTileMatrix(Re),dt=[ce,Te,we];return d.ab.vec3.transformMat4(dt,dt,Ge),fe(ne,d.ab.vec3.length(dt),Oe.pitch,Oe._fov)}(this.fogState,l,m,b,w.toUnwrapped(),this.transform)>.9)):Ur(Z,Z,r);const G=Z[3];return{point:new d.P((Z[0]/G+1)/2*this.transform.width+Cr,(-Z[1]/G+1)/2*this.transform.height+Cr),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(D)/G*.5,1.5),signedDistanceFromCamera:G,occluded:I&&Z[2]>G||W}}isOffscreen(r,l,m,b){return m<Cr||r>=this.screenRightBoundary||b<Cr||l>this.screenBottomBoundary}isInsideGrid(r,l,m,b){return m>=0&&r<this.gridRightBoundary&&b>=0&&l<this.gridBottomBoundary}getViewportMatrix(){const r=d.ab.mat4.identity([]);return d.ab.mat4.translate(r,r,[-100,-100,0]),r}}function yi(p,r,l){const m=r.createTileMatrix(p,p.worldSize,l.toUnwrapped());return d.ab.mat4.multiply(new Float32Array(16),p.projMatrix,m)}function Ji(p,r,l){if(r.projection.name===l.projection.name)return p.projMatrix;const m=l.clone();return m.setProjection(r.projection),yi(m,r.getProjection(),p)}function Qo(p,r,l){return r.name===l.projection.name?p.projMatrix:yi(l,r,p)}class Ro{constructor(r,l,m,b){this.opacity=r?Math.max(0,Math.min(1,r.opacity+(r.placed?l:-l))):b&&m?1:0,this.placed=m}isHidden(){return this.opacity===0&&!this.placed}}class Ta{constructor(r,l,m,b,w,I=!1){this.text=new Ro(r?r.text:null,l,m,w),this.icon=new Ro(r?r.icon:null,l,b,w),this.clipped=I}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class _a{constructor(r,l,m,b=!1){this.text=r,this.icon=l,this.skipFade=m,this.clipped=b}}class Oa{constructor(){this.invProjMatrix=d.ab.mat4.create(),this.viewportMatrix=d.ab.mat4.create(),this.circles=[]}}class Yo{constructor(r,l,m,b,w){this.bucketInstanceId=r,this.featureIndex=l,this.sourceLayerIndex=m,this.bucketIndex=b,this.tileID=w}}class za{constructor(r){this.crossSourceCollisions=r,this.maxGroupID=0,this.collisionGroups={}}get(r){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[r]){const l=++this.maxGroupID;this.collisionGroups[r]={ID:l,predicate:m=>m.collisionGroupID===l}}return this.collisionGroups[r]}}function ea(p,r,l,m,b){const{horizontalAlign:w,verticalAlign:I}=d.bD(p),D=-(w-.5)*r,Z=-(I-.5)*l,W=d.bC(p,m);return new d.P(D+W[0]*b,Z+W[1]*b)}function tl(p,r,l,m,b){const w=new d.P(p,r);return l&&w._rotate(m?b:-b),w}class js{constructor(r,l,m,b,w,I){this.transform=r.clone(),this.projection=r.projection.name,this.collisionIndex=new Er(this.transform,w),this.buildingIndex=I,this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=l,this.retainedQueryData={},this.collisionGroups=new za(m),this.collisionCircleArrays={},this.prevPlacement=b,b&&(b.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(r,l,m,b,w=1){const I=m.getBucket(l),D=m.latestFeatureIndex;if(!I||!D||l.fqid!==I.layerIds[0])return;const Z=I.layers[0].layout,W=I.layers[0].paint,G=m.collisionBoxArray,te=Math.pow(2,this.transform.zoom-m.tileID.overscaledZ),ne=m.tileSize/d.ag,ce=m.tileID.toUnwrapped();this.transform.setProjection(I.projection);const Te=(we=m.tileID,Re=I.getProjection(),Oe=this.transform,Re.name===this.projection?Oe.calculateProjMatrix(we.toUnwrapped()):yi(Oe,Re,we));var we,Re,Oe;const Ge=Z.get("text-pitch-alignment")==="map",dt=Z.get("text-rotation-alignment")==="map";l.compileFilter(l.options);const st=l.dynamicFilter(),bt=l.dynamicFilterNeedsFeature(),pt=this.transform.calculatePixelsToTileUnitsMatrix(m),gt=Pe(Te,m.tileID.canonical,Ge,dt,this.transform,I.getProjection(),pt);let ft=null;if(Ge){const hr=rt(Te,m.tileID.canonical,Ge,dt,this.transform,I.getProjection(),pt);ft=d.ab.mat4.multiply([],this.transform.labelPlaneMatrix,hr)}let yt=null;st&&m.latestFeatureIndex&&(yt={unwrappedTileID:ce,dynamicFilter:st,dynamicFilterNeedsFeature:bt}),this.retainedQueryData[I.bucketInstanceId]=new Yo(I.bucketInstanceId,D,I.sourceLayerIndex,I.index,m.tileID);const[Bt,In]=I.layers[0].layout.get("text-size-scale-range"),pn=d.aw(w,Bt,In),[Hn,Zn]=Z.get("icon-size-scale-range"),rn=d.aw(w,Hn,Zn),$n={bucket:I,layout:Z,paint:W,posMatrix:Te,textLabelPlaneMatrix:gt,labelToScreenMatrix:ft,clippingData:yt,scale:te,textPixelRatio:ne,holdingForFade:m.holdingForFade(),collisionBoxArray:G,partiallyEvaluatedTextSize:d.bp(I.textSizeData,this.transform.zoom,pn),partiallyEvaluatedIconSize:d.bp(I.iconSizeData,this.transform.zoom,rn),collisionGroup:this.collisionGroups.get(I.sourceID),latestFeatureIndex:m.latestFeatureIndex};if(b)for(const hr of I.sortKeyRanges){const{sortKey:nn,symbolInstanceStart:Xn,symbolInstanceEnd:Mn}=hr;r.push({sortKey:nn,symbolInstanceStart:Xn,symbolInstanceEnd:Mn,parameters:$n})}else r.push({symbolInstanceStart:0,symbolInstanceEnd:I.symbolInstances.length,parameters:$n})}attemptAnchorPlacement(r,l,m,b,w,I,D,Z,W,G,te,ne,ce,Te,we,Re,Oe,Ge){const{textOffset0:dt,textOffset1:st,crossTileID:bt}=ne,pt=[dt,st],gt=ea(r,m,b,pt,w),ft=this.collisionIndex.placeCollisionBox(Te,w,l,tl(gt.x,gt.y,I,D,this.transform.angle),te,Z,W,G.predicate);if(Re){const yt=Te.getSymbolInstanceIconSize(Ge,this.transform.zoom,ne.placedIconSymbolIndex);if(this.collisionIndex.placeCollisionBox(Te,yt,Re,tl(gt.x,gt.y,I,D,this.transform.angle),te,Z,W,G.predicate).box.length===0)return}if(ft.box.length>0){let yt;return this.prevPlacement&&this.prevPlacement.variableOffsets[bt]&&this.prevPlacement.placements[bt]&&this.prevPlacement.placements[bt].text&&(yt=this.prevPlacement.variableOffsets[bt].anchor),this.variableOffsets[bt]={textOffset:pt,width:m,height:b,anchor:r,textScale:w,prevAnchor:yt},this.markUsedJustification(Te,r,ne,we),Te.allowVerticalPlacement&&(this.markUsedOrientation(Te,we,ne),this.placedOrientations[bt]=we),{shift:gt,placedGlyphBoxes:ft}}}placeLayerBucketPart(r,l,m,b,w=1){const{bucket:I,layout:D,paint:Z,posMatrix:W,textLabelPlaneMatrix:G,labelToScreenMatrix:te,clippingData:ne,textPixelRatio:ce,holdingForFade:Te,collisionBoxArray:we,partiallyEvaluatedTextSize:Re,partiallyEvaluatedIconSize:Oe,collisionGroup:Ge,latestFeatureIndex:dt}=r.parameters,st=D.get("text-optional"),bt=D.get("icon-optional"),pt=D.get("text-allow-overlap"),gt=D.get("icon-allow-overlap"),ft=D.get("text-rotation-alignment")==="map",yt=D.get("text-pitch-alignment")==="map",Bt=D.get("symbol-z-elevate"),In=Z.get("symbol-z-offset"),pn=D.get("symbol-elevation-reference")==="sea",[Hn,Zn]=D.get("text-size-scale-range"),[rn,$n]=D.get("icon-size-scale-range"),hr=d.aw(w,Hn,Zn),nn=d.aw(w,rn,$n);this.transform.setProjection(I.projection);let Xn=pt&&(gt||!I.hasIconData()||bt),Mn=gt&&(pt||!I.hasTextData()||st);const Dr=!In.isConstant();!I.collisionArrays&&we&&I.deserializeCollisionBoxes(we),m&&b&&I.updateCollisionDebugBuffers(this.transform.zoom,we,hr,nn);const ar=(Wn,_r,Rr)=>{const{crossTileID:oi,numVerticalGlyphVertices:mi}=Wn;let Co=null;if(ne&&ne.dynamicFilterNeedsFeature||Dr){const Ls=this.retainedQueryData[I.bucketInstanceId];Co=dt.loadFeature({featureIndex:Wn.featureIndex,bucketIndex:Ls.bucketIndex,sourceLayerIndex:Ls.sourceLayerIndex,layoutVertexArrayOffset:0})}if(ne&&!(0,ne.dynamicFilter)({zoom:this.transform.zoom,pitch:this.transform.pitch},Co,this.retainedQueryData[I.bucketInstanceId].tileID.canonical,new d.P(Wn.tileAnchorX,Wn.tileAnchorY),this.transform.calculateDistanceTileData(ne.unwrappedTileID)))return this.placements[oi]=new _a(!1,!1,!1,!0),void l.add(oi);const Vi=In.evaluate(Co,{});if(l.has(oi))return;if(Te)return void(this.placements[oi]=new _a(!1,!1,!1));let Wi=!1,Ao=!1,Ga=!0,bs=!1,ll=!1,Ys=null,Go={box:null,offscreen:null,occluded:null},Ja={box:null,offscreen:null,occluded:null},Ni=null,Ba=null,fs=null,Ka=0,sl=0,Vl=0;Rr.textFeatureIndex?Ka=Rr.textFeatureIndex:Wn.useRuntimeCollisionCircles&&(Ka=Wn.featureIndex),Rr.verticalTextFeatureIndex&&(sl=Rr.verticalTextFeatureIndex);const Ol=Ls=>{Ls.tileID=this.retainedQueryData[I.bucketInstanceId].tileID;const Rs=this.transform.elevation;Ls.elevation=pn?Vi:Vi+(Rs?Rs.getAtTileOffset(Ls.tileID,Ls.tileAnchorX,Ls.tileAnchorY):0),Ls.elevation+=Wn.zOffset},$l=Rr.textBox;if($l){Ol($l);const Ls=Xa=>{let hl=d.bq.horizontal;if(I.allowVerticalPlacement&&!Xa&&this.prevPlacement){const Hl=this.prevPlacement.placedOrientations[oi];Hl&&(this.placedOrientations[oi]=Hl,hl=Hl,this.markUsedOrientation(I,hl,Wn))}return hl},Rs=(Xa,hl)=>{if(I.allowVerticalPlacement&&mi>0&&Rr.verticalTextBox){for(const Hl of I.writingModes)if(Hl===d.bq.vertical?(Go=hl(),Ja=Go):Go=Xa(),Go&&Go.box&&Go.box.length)break}else Go=Xa()};if(D.get("text-variable-anchor")){let Xa=D.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[oi]){const Bs=this.prevPlacement.variableOffsets[oi];Xa.indexOf(Bs.anchor)>0&&(Xa=Xa.filter(nc=>nc!==Bs.anchor),Xa.unshift(Bs.anchor))}const hl=(Bs,nc,tu)=>{const zc=I.getSymbolInstanceTextSize(Re,Wn,this.transform.zoom,_r),Tc=(Bs.x2-Bs.x1)*zc+2*Bs.padding,nu=(Bs.y2-Bs.y1)*zc+2*Bs.padding,ru=Wn.hasIconTextFit&&!gt?nc:null;ru&&Ol(ru);let Mc={box:[],offscreen:!1,occluded:!1};const Id=pt?2*Xa.length:Xa.length;for(let fu=0;fu<Id;++fu){const Td=this.attemptAnchorPlacement(Xa[fu%Xa.length],Bs,Tc,nu,zc,ft,yt,ce,W,Ge,fu>=Xa.length,Wn,_r,I,tu,ru,Re,Oe);if(Td&&(Mc=Td.placedGlyphBoxes,Mc&&Mc.box&&Mc.box.length)){Wi=!0,Ys=Td.shift;break}}return Mc};Rs(()=>hl($l,Rr.iconBox,d.bq.horizontal),()=>{const Bs=Rr.verticalTextBox;return Bs&&Ol(Bs),I.allowVerticalPlacement&&!(Go&&Go.box&&Go.box.length)&&mi>0&&Bs?hl(Bs,Rr.verticalIconBox,d.bq.vertical):{box:null,offscreen:null,occluded:null}}),Go&&(Wi=Go.box,Ga=Go.offscreen,bs=Go.occluded);const Hl=Ls(!(!Go||!Go.box));if(!Wi&&this.prevPlacement){const Bs=this.prevPlacement.variableOffsets[oi];Bs&&(this.variableOffsets[oi]=Bs,this.markUsedJustification(I,Bs.anchor,Wn,Hl))}}else{const Xa=(hl,Hl)=>{const Bs=I.getSymbolInstanceTextSize(Re,Wn,this.transform.zoom,_r,w),nc=this.collisionIndex.placeCollisionBox(I,Bs,hl,new d.P(0,0),pt,ce,W,Ge.predicate);return nc&&nc.box&&nc.box.length&&(this.markUsedOrientation(I,Hl,Wn),this.placedOrientations[oi]=Hl),nc};Rs(()=>Xa($l,d.bq.horizontal),()=>{const hl=Rr.verticalTextBox;return I.allowVerticalPlacement&&mi>0&&hl?(Ol(hl),Xa(hl,d.bq.vertical)):{box:null,offscreen:null,occluded:null}}),Ls(!!(Go&&Go.box&&Go.box.length))}}if(Ni=Go,Wi=Ni&&Ni.box&&Ni.box.length>0,Ga=Ni&&Ni.offscreen,bs=Ni&&Ni.occluded,Wn.useRuntimeCollisionCircles){const Ls=I.text.placedSymbolArray.get(Wn.centerJustifiedTextSymbolIndex>=0?Wn.centerJustifiedTextSymbolIndex:Wn.verticalPlacedTextSymbolIndex),Rs=d.br(I.textSizeData,Re,Ls),Xa=D.get("text-padding");Ba=this.collisionIndex.placeCollisionCircles(I,pt,Ls,I.lineVertexArray,I.glyphOffsetArray,Rs,W,G,te,m,yt,Ge.predicate,Wn.collisionCircleDiameter*Rs/d.bw,Xa,this.retainedQueryData[I.bucketInstanceId].tileID),Wi=pt||Ba.circles.length>0&&!Ba.collisionDetected,Ga=Ga&&Ba.offscreen,bs=Ba.occluded}if(Rr.iconFeatureIndex&&(Vl=Rr.iconFeatureIndex),Rr.iconBox){const Ls=Rs=>{Ol(Rs);const Xa=Wn.hasIconTextFit&&Ys?tl(Ys.x,Ys.y,ft,yt,this.transform.angle):new d.P(0,0),hl=I.getSymbolInstanceIconSize(Oe,this.transform.zoom,Wn.placedIconSymbolIndex);return this.collisionIndex.placeCollisionBox(I,hl,Rs,Xa,gt,ce,W,Ge.predicate)};Ja&&Ja.box&&Ja.box.length&&Rr.verticalIconBox?(fs=Ls(Rr.verticalIconBox),Ao=fs.box.length>0):(fs=Ls(Rr.iconBox),Ao=fs.box.length>0),Ga=Ga&&fs.offscreen,ll=fs.occluded}const Hc=st||Wn.numHorizontalGlyphVertices===0&&mi===0,mc=bt||Wn.numIconVertices===0;if(Hc||mc?mc?Hc||(Ao=Ao&&Wi):Wi=Ao&&Wi:Ao=Wi=Ao&&Wi,Wi&&Ni&&Ni.box&&this.collisionIndex.insertCollisionBox(Ni.box,D.get("text-ignore-placement"),I.bucketInstanceId,Ja&&Ja.box&&sl?sl:Ka,Ge.ID),Ao&&fs&&this.collisionIndex.insertCollisionBox(fs.box,D.get("icon-ignore-placement"),I.bucketInstanceId,Vl,Ge.ID),Ba&&(Wi&&this.collisionIndex.insertCollisionCircles(Ba.circles,D.get("text-ignore-placement"),I.bucketInstanceId,Ka,Ge.ID),m)){const Ls=I.bucketInstanceId;let Rs=this.collisionCircleArrays[Ls];Rs===void 0&&(Rs=this.collisionCircleArrays[Ls]=new Oa);for(let Xa=0;Xa<Ba.circles.length;Xa+=4)Rs.circles.push(Ba.circles[Xa+0]),Rs.circles.push(Ba.circles[Xa+1]),Rs.circles.push(Ba.circles[Xa+2]),Rs.circles.push(Ba.collisionDetected?1:0)}const rl=I.projection.name!=="globe";Xn=Xn&&(rl||!bs),Mn=Mn&&(rl||!ll),this.placements[oi]=new _a(Wi||Xn,Ao||Mn,Ga||I.justReloaded),l.add(oi)};if(Bt&&this.buildingIndex&&(this.buildingIndex.updateZOffset(I,this.retainedQueryData[I.bucketInstanceId].tileID),I.updateZOffset()),I.sortFeaturesByY){const Wn=I.getSortedSymbolIndexes(this.transform.angle);for(let _r=Wn.length-1;_r>=0;--_r){const Rr=Wn[_r];ar(I.symbolInstances.get(Rr),Rr,I.collisionArrays[Rr])}I.hasAnyZOffset&&d.w(`${I.layerIds[0]} layer symbol-z-elevate: symbols are not sorted by elevation if symbol-z-order is evaluated to viewport-y`)}else if(I.hasAnyZOffset){const Wn=I.getSortedIndexesByZOffset();for(let _r=0;_r<Wn.length;++_r){const Rr=Wn[_r];ar(I.symbolInstances.get(Rr),Rr,I.collisionArrays[Rr])}}else for(let Wn=r.symbolInstanceStart;Wn<r.symbolInstanceEnd;Wn++)ar(I.symbolInstances.get(Wn),Wn,I.collisionArrays[Wn]);if(m&&I.bucketInstanceId in this.collisionCircleArrays){const Wn=this.collisionCircleArrays[I.bucketInstanceId];d.ab.mat4.invert(Wn.invProjMatrix,W),Wn.viewportMatrix=this.collisionIndex.getViewportMatrix()}I.justReloaded=!1}markUsedJustification(r,l,m,b){const{leftJustifiedTextSymbolIndex:w,centerJustifiedTextSymbolIndex:I,rightJustifiedTextSymbolIndex:D,verticalPlacedTextSymbolIndex:Z,crossTileID:W}=m,G=d.bB(l),te=b===d.bq.vertical?Z:G==="left"?w:G==="center"?I:G==="right"?D:-1;w>=0&&(r.text.placedSymbolArray.get(w).crossTileID=te>=0&&w!==te?0:W),I>=0&&(r.text.placedSymbolArray.get(I).crossTileID=te>=0&&I!==te?0:W),D>=0&&(r.text.placedSymbolArray.get(D).crossTileID=te>=0&&D!==te?0:W),Z>=0&&(r.text.placedSymbolArray.get(Z).crossTileID=te>=0&&Z!==te?0:W)}markUsedOrientation(r,l,m){const b=l===d.bq.horizontal||l===d.bq.horizontalOnly?l:0,w=l===d.bq.vertical?l:0,{leftJustifiedTextSymbolIndex:I,centerJustifiedTextSymbolIndex:D,rightJustifiedTextSymbolIndex:Z,verticalPlacedTextSymbolIndex:W}=m,G=r.text.placedSymbolArray;I>=0&&(G.get(I).placedOrientation=b),D>=0&&(G.get(D).placedOrientation=b),Z>=0&&(G.get(Z).placedOrientation=b),W>=0&&(G.get(W).placedOrientation=w)}commit(r){this.commitTime=r,this.zoomAtLastRecencyCheck=this.transform.zoom;const l=this.prevPlacement;let m=!1;this.prevZoomAdjustment=l?l.zoomAdjustment(this.transform.zoom):0;const b=l?l.symbolFadeChange(r):1,w=l?l.opacities:{},I=l?l.variableOffsets:{},D=l?l.placedOrientations:{};for(const Z in this.placements){const W=this.placements[Z],G=w[Z];G?(this.opacities[Z]=new Ta(G,b,W.text,W.icon,null,W.clipped),m=m||W.text!==G.text.placed||W.icon!==G.icon.placed):(this.opacities[Z]=new Ta(null,b,W.text,W.icon,W.skipFade,W.clipped),m=m||W.text||W.icon)}for(const Z in w){const W=w[Z];if(!this.opacities[Z]){const G=new Ta(W,b,!1,!1);G.isHidden()||(this.opacities[Z]=G,m=m||W.text.placed||W.icon.placed)}}for(const Z in I)this.variableOffsets[Z]||!this.opacities[Z]||this.opacities[Z].isHidden()||(this.variableOffsets[Z]=I[Z]);for(const Z in D)this.placedOrientations[Z]||!this.opacities[Z]||this.opacities[Z].isHidden()||(this.placedOrientations[Z]=D[Z]);m?this.lastPlacementChangeTime=r:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=l?l.lastPlacementChangeTime:r)}updateLayerOpacities(r,l,m,b){const w=new Set;for(const I of l){const D=I.getBucket(r);D&&I.latestFeatureIndex&&r.fqid===D.layerIds[0]&&(this.updateBucketOpacities(D,w,I,I.collisionBoxArray,m,b,I.tileID,r.scope),D.layers[0].layout.get("symbol-z-elevate")&&this.buildingIndex&&(this.buildingIndex.updateZOffset(D,I.tileID),D.updateZOffset()))}}updateBucketOpacities(r,l,m,b,w,I,D,Z){r.hasTextData()&&r.text.opacityVertexArray.clear(),r.hasIconData()&&r.icon.opacityVertexArray.clear(),r.hasIconCollisionBoxData()&&r.iconCollisionBox.collisionVertexArray.clear(),r.hasTextCollisionBoxData()&&r.textCollisionBox.collisionVertexArray.clear();const W=r.layers[0].layout,G=r.layers[0].paint,te=!!r.layers[0].dynamicFilter(),ne=new Ta(null,0,!1,!1,!0),ce=W.get("text-allow-overlap"),Te=W.get("icon-allow-overlap"),we=W.get("text-variable-anchor"),Re=W.get("text-rotation-alignment")==="map",Oe=W.get("text-pitch-alignment")==="map",Ge=G.get("symbol-z-offset"),dt=W.get("symbol-elevation-reference")==="sea",st=!Ge.isConstant(),bt=new Ta(null,0,ce&&(Te||!r.hasIconData()||W.get("icon-optional")),Te&&(ce||!r.hasTextData()||W.get("text-optional")),!0);!r.collisionArrays&&b&&(r.hasIconCollisionBoxData()||r.hasTextCollisionBoxData())&&r.deserializeCollisionBoxes(b);const pt=(ft,yt,Bt)=>{for(let In=0;In<yt/4;In++)ft.opacityVertexArray.emplaceBack(Bt)};let gt=0;I&&r.updateReplacement(D,I);for(let ft=0;ft<r.symbolInstances.length;ft++){const yt=r.symbolInstances.get(ft),{numHorizontalGlyphVertices:Bt,numVerticalGlyphVertices:In,crossTileID:pn,numIconVertices:Hn,tileAnchorX:Zn,tileAnchorY:rn}=yt;let $n=null;const hr=this.retainedQueryData[r.bucketInstanceId];st&&yt&&hr&&($n=m.latestFeatureIndex.loadFeature({featureIndex:yt.featureIndex,bucketIndex:hr.bucketIndex,sourceLayerIndex:hr.sourceLayerIndex,layoutVertexArrayOffset:0}));const nn=Ge.evaluate($n,{}),Xn=l.has(pn);let Mn=this.opacities[pn];Xn?Mn=ne:Mn||(Mn=bt,this.opacities[pn]=Mn),l.add(pn);const Dr=Bt>0||In>0,ar=Hn>0,Wn=this.placedOrientations[pn],_r=Wn===d.bq.vertical,Rr=Wn===d.bq.horizontal||Wn===d.bq.horizontalOnly;!Dr&&!ar||Mn.isHidden()||gt++;let oi=!1;if((Dr||ar)&&I)for(const mi of r.activeReplacements){if(d.bx(mi,w,d.by.Symbol,Z)||mi.min.x>Zn||Zn>mi.max.x||mi.min.y>rn||rn>mi.max.y)continue;const Co=d.bz(Zn,rn,D.canonical,mi.footprintTileId.canonical);if(oi=d.bA(Co,mi.footprint),oi)break}if(Dr){const mi=oi?Fl:yu(Mn.text);pt(r.text,Bt,_r?Fl:mi),pt(r.text,In,Rr?Fl:mi);const Co=Mn.text.isHidden(),{leftJustifiedTextSymbolIndex:Vi,centerJustifiedTextSymbolIndex:Wi,rightJustifiedTextSymbolIndex:Ao,verticalPlacedTextSymbolIndex:Ga}=yt,bs=r.text.placedSymbolArray,ll=Co||_r?1:0;Vi>=0&&(bs.get(Vi).hidden=ll),Wi>=0&&(bs.get(Wi).hidden=ll),Ao>=0&&(bs.get(Ao).hidden=ll),Ga>=0&&(bs.get(Ga).hidden=Co||Rr?1:0);const Ys=this.variableOffsets[pn];Ys&&this.markUsedJustification(r,Ys.anchor,yt,Wn);const Go=this.placedOrientations[pn];Go&&(this.markUsedJustification(r,"left",yt,Go),this.markUsedOrientation(r,Go,yt))}if(ar){const mi=oi?Fl:yu(Mn.icon),{placedIconSymbolIndex:Co,verticalPlacedIconSymbolIndex:Vi}=yt,Wi=r.icon.placedSymbolArray,Ao=Mn.icon.isHidden()?1:0;Co>=0&&(pt(r.icon,Hn,_r?Fl:mi),Wi.get(Co).hidden=Ao),Vi>=0&&(pt(r.icon,yt.numVerticalIconVertices,Rr?Fl:mi),Wi.get(Vi).hidden=Ao)}if(r.hasIconCollisionBoxData()||r.hasTextCollisionBoxData()){const mi=r.collisionArrays[ft];if(mi){let Co=new d.P(0,0),Vi=!0;if(mi.textBox||mi.verticalTextBox){if(we){const Ao=this.variableOffsets[pn];Ao?(Co=ea(Ao.anchor,Ao.width,Ao.height,Ao.textOffset,Ao.textScale),Re&&Co._rotate(Oe?this.transform.angle:-this.transform.angle)):Vi=!1}te&&(Vi=!Mn.clipped),mi.textBox&&As(r.textCollisionBox.collisionVertexArray,Mn.text.placed,!Vi||_r,nn,dt,Co.x,Co.y),mi.verticalTextBox&&As(r.textCollisionBox.collisionVertexArray,Mn.text.placed,!Vi||Rr,nn,dt,Co.x,Co.y)}const Wi=Vi&&!!(!Rr&&mi.verticalIconBox);mi.iconBox&&As(r.iconCollisionBox.collisionVertexArray,Mn.icon.placed,Wi,nn,dt,yt.hasIconTextFit?Co.x:0,yt.hasIconTextFit?Co.y:0),mi.verticalIconBox&&As(r.iconCollisionBox.collisionVertexArray,Mn.icon.placed,!Wi,nn,dt,yt.hasIconTextFit?Co.x:0,yt.hasIconTextFit?Co.y:0)}}}if(r.fullyClipped=gt===0,r.sortFeatures(this.transform.angle),this.retainedQueryData[r.bucketInstanceId]&&(this.retainedQueryData[r.bucketInstanceId].featureSortOrder=r.featureSortOrder),r.hasTextData()&&r.text.opacityVertexBuffer&&r.text.opacityVertexBuffer.updateData(r.text.opacityVertexArray),r.hasIconData()&&r.icon.opacityVertexBuffer&&r.icon.opacityVertexBuffer.updateData(r.icon.opacityVertexArray),r.hasIconCollisionBoxData()&&r.iconCollisionBox.collisionVertexBuffer&&r.iconCollisionBox.collisionVertexBuffer.updateData(r.iconCollisionBox.collisionVertexArray),r.hasTextCollisionBoxData()&&r.textCollisionBox.collisionVertexBuffer&&r.textCollisionBox.collisionVertexBuffer.updateData(r.textCollisionBox.collisionVertexArray),r.bucketInstanceId in this.collisionCircleArrays){const ft=this.collisionCircleArrays[r.bucketInstanceId];r.placementInvProjMatrix=ft.invProjMatrix,r.placementViewportMatrix=ft.viewportMatrix,r.collisionCircleArray=ft.circles,delete this.collisionCircleArrays[r.bucketInstanceId]}}symbolFadeChange(r){return this.fadeDuration===0?1:(r-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(r){return Math.max(0,(this.transform.zoom-r)/1.5)}hasTransitions(r){return this.stale||r-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(r,l){const m=this.zoomAtLastRecencyCheck===l?1-this.zoomAdjustment(l):1;return this.zoomAtLastRecencyCheck=l,this.commitTime+this.fadeDuration*m>r}setStale(){this.stale=!0}}function As(p,r,l,m,b,w,I){p.emplaceBack(r?1:0,l?1:0,w||0,I||0,m,b?1:0),p.emplaceBack(r?1:0,l?1:0,w||0,I||0,m,b?1:0),p.emplaceBack(r?1:0,l?1:0,w||0,I||0,m,b?1:0),p.emplaceBack(r?1:0,l?1:0,w||0,I||0,m,b?1:0)}const vl=Math.pow(2,25),Ds=Math.pow(2,24),Ts=Math.pow(2,17),yl=Math.pow(2,16),Sc=Math.pow(2,9),Fu=Math.pow(2,8),Nc=Math.pow(2,1);function yu(p){if(p.opacity===0&&!p.placed)return 0;if(p.opacity===1&&p.placed)return 4294967295;const r=p.placed?1:0,l=Math.floor(127*p.opacity);return l*vl+r*Ds+l*Ts+r*yl+l*Sc+r*Fu+l*Nc+r}const Fl=0;class dl{constructor(r){this._sortAcrossTiles=r.layout.get("symbol-z-order")!=="viewport-y"&&r.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs=new Set,this._bucketParts=[]}continuePlacement(r,l,m,b,w,I){const D=this._bucketParts;for(;this._currentTileIndex<r.length;)if(l.getBucketParts(D,b,r[this._currentTileIndex],this._sortAcrossTiles,I),this._currentTileIndex++,w())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,D.sort((Z,W)=>Z.sortKey-W.sortKey));this._currentPartIndex<D.length;){const Z=D[this._currentPartIndex];if(l.placeLayerBucketPart(Z,this._seenCrossTileIDs,m,Z.symbolInstanceStart===0,I),this._currentPartIndex++,w())return!0}return!1}}class xc{constructor(r,l,m,b,w,I,D,Z,W){this.placement=new js(r,w,I,D,Z,W),this._currentPlacementIndex=l.length-1,this._forceFullPlacement=m,this._showCollisionBoxes=b,this._done=!1}isDone(){return this._done}continuePlacement(r,l,m,b,w){const I=d.q.now(),D=()=>{const Z=d.q.now()-I;return!this._forceFullPlacement&&Z>2};for(;this._currentPlacementIndex>=0;){const Z=l[r[this._currentPlacementIndex]],W=this.placement.collisionIndex.transform.zoom;if(Z.type==="symbol"&&(!Z.minzoom||Z.minzoom<=W)&&(!Z.maxzoom||Z.maxzoom>W)){const G=Z,te=G.layout.get("symbol-z-elevate"),ne=G.layout.get("symbol-sort-key").constantOr(1)!==void 0,ce=G.layout.get("symbol-z-order"),Te=ce==="viewport-y"||ce==="auto"&&!(ce!=="viewport-y"&&ne),we=G.layout.get("text-allow-overlap")||G.layout.get("icon-allow-overlap")||G.layout.get("text-ignore-placement")||G.layout.get("icon-ignore-placement"),Re=Te&&we,Oe=this._inProgressLayer=this._inProgressLayer||new dl(G),Ge=d.aC(Z.source,Z.scope);if(Oe.continuePlacement(te||Re?b[Ge]:m[Ge],this.placement,this._showCollisionBoxes,Z,D,w))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(r){return this.placement.commit(r),this.placement}}const Yc=512/d.ag/2;class au{constructor(r,l,m){this.tileID=r,this.bucketInstanceId=m,this.index=new d.bE(l.length,16,Int32Array),this.keys=[],this.crossTileIDs=[];const b=r.canonical.x*d.ag,w=r.canonical.y*d.ag;for(let I=0;I<l.length;I++){const{key:D,crossTileID:Z,tileAnchorX:W,tileAnchorY:G}=l.get(I),te=Math.floor((b+W)*Yc),ne=Math.floor((w+G)*Yc);this.index.add(te,ne),this.keys.push(D),this.crossTileIDs.push(Z)}this.index.finish()}findMatches(r,l,m){const b=this.tileID.canonical.z<l.canonical.z?1:Math.pow(2,this.tileID.canonical.z-l.canonical.z),w=Yc/Math.pow(2,l.canonical.z-this.tileID.canonical.z),I=l.canonical.x*d.ag,D=l.canonical.y*d.ag;for(let Z=0;Z<r.length;Z++){const W=r.get(Z);if(W.crossTileID)continue;const{key:G,tileAnchorX:te,tileAnchorY:ne}=W,ce=Math.floor((I+te)*w),Te=Math.floor((D+ne)*w),we=this.index.range(ce-b,Te-b,ce+b,Te+b);for(const Re of we){const Oe=this.crossTileIDs[Re];if(this.keys[Re]===G&&!m.has(Oe)){m.add(Oe),W.crossTileID=Oe;break}}}}}class ku{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Mh{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(r){const l=Math.round((r-this.lng)/360);if(l!==0)for(const m in this.indexes){const b=this.indexes[m],w={};for(const I in b){const D=b[I];D.tileID=D.tileID.unwrapTo(D.tileID.wrap+l),w[D.tileID.key]=D}this.indexes[m]=w}this.lng=r}addBucket(r,l,m){if(this.indexes[r.overscaledZ]&&this.indexes[r.overscaledZ][r.key]){if(this.indexes[r.overscaledZ][r.key].bucketInstanceId===l.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(r.overscaledZ,this.indexes[r.overscaledZ][r.key])}for(let w=0;w<l.symbolInstances.length;w++)l.symbolInstances.get(w).crossTileID=0;this.usedCrossTileIDs[r.overscaledZ]||(this.usedCrossTileIDs[r.overscaledZ]=new Set);const b=this.usedCrossTileIDs[r.overscaledZ];for(const w in this.indexes){const I=this.indexes[w];if(Number(w)>r.overscaledZ)for(const D in I){const Z=I[D];Z.tileID.isChildOf(r)&&Z.findMatches(l.symbolInstances,r,b)}else{const D=I[r.scaledTo(Number(w)).key];D&&D.findMatches(l.symbolInstances,r,b)}}for(let w=0;w<l.symbolInstances.length;w++){const I=l.symbolInstances.get(w);I.crossTileID||(I.crossTileID=m.generate(),b.add(I.crossTileID))}return this.indexes[r.overscaledZ]===void 0&&(this.indexes[r.overscaledZ]={}),this.indexes[r.overscaledZ][r.key]=new au(r,l.symbolInstances,l.bucketInstanceId),!0}removeBucketCrossTileIDs(r,l){for(const m of l.crossTileIDs)this.usedCrossTileIDs[r].delete(m)}removeStaleBuckets(r){let l=!1;for(const m in this.indexes){const b=this.indexes[m];for(const w in b)r[b[w].bucketInstanceId]||(this.removeBucketCrossTileIDs(m,b[w]),delete b[w],l=!0)}return l}}class Zd{constructor(){this.layerIndexes={},this.crossTileIDs=new ku,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(r,l,m,b){let w=this.layerIndexes[r.fqid];w===void 0&&(w=this.layerIndexes[r.fqid]=new Mh);let I=!1;const D={};b.name!=="globe"&&w.handleWrapJump(m);for(const Z of l){const W=Z.getBucket(r);W&&r.fqid===W.layerIds[0]&&(W.bucketInstanceId||(W.bucketInstanceId=++this.maxBucketInstanceId),w.addBucket(Z.tileID,W,this.crossTileIDs)&&(I=!0),D[W.bucketInstanceId]=!0)}return w.removeStaleBuckets(D)&&(I=!0),I}pruneUnusedLayers(r){const l={};r.forEach(m=>{l[m]=!0});for(const m in this.layerIndexes)l[m]||delete this.layerIndexes[m]}}const su=771;class qo{constructor(r,l,m,b){this.blendFunction=r,this.blendColor=l,this.mask=m,this.blendEquation=b}}qo.Replace=[1,0,1,0],qo.disabled=new qo(qo.Replace,d.aj.transparent,[!1,!1,!1,!1]),qo.unblended=new qo(qo.Replace,d.aj.transparent,[!0,!0,!0,!0]),qo.alphaBlended=new qo([1,su,1,su],d.aj.transparent,[!0,!0,!0,!0]),qo.alphaBlendedNonPremultiplied=new qo([770,su,770,su],d.aj.transparent,[!0,!0,!0,!0]),qo.multiply=new qo([774,0,774,0],d.aj.transparent,[!0,!0,!0,!0]);class ji{constructor(r,l,m){this.func=r,this.mask=l,this.range=m}}ji.ReadOnly=!1,ji.ReadWrite=!0,ji.disabled=new ji(519,ji.ReadOnly,[0,1]);const Vd=7680;class vo{constructor(r,l,m,b,w,I){this.test=r,this.ref=l,this.mask=m,this.fail=b,this.depthFail=w,this.pass=I}}vo.disabled=new vo({func:519,mask:0},0,0,Vd,Vd,Vd);const ju=1029,_u=2305;class fo{constructor(r,l,m){this.enable=r,this.mode=l,this.frontFace=m}}function uc(p,r){const l=d.bG(p,3);d.ab.mat4.fromQuat(p,r),d.bI(p,3,l)}function Bc(p,r){const l=d.ab.quat.identity([]);return d.ab.quat.rotateZ(l,l,-r),d.ab.quat.rotateX(l,l,-p),l}function Zu(p,r){const l=[p[0],p[1],0],m=[r[0],r[1],0];if(d.ab.vec3.length(l)>=1e-15){const I=d.ab.vec3.normalize([],l);d.ab.vec3.scale(m,I,d.ab.vec3.dot(m,I)),r[0]=m[0],r[1]=m[1]}const b=d.ab.vec3.cross([],r,p);if(d.ab.vec3.len(b)<1e-15)return null;const w=Math.atan2(-b[1],b[0]);return Bc(Math.atan2(Math.sqrt(p[0]*p[0]+p[1]*p[1]),-p[2]),w)}fo.disabled=new fo(!1,ju,_u),fo.backCCW=new fo(!0,ju,_u),fo.backCW=new fo(!0,ju,2304),fo.frontCW=new fo(!0,1028,2304),fo.frontCCW=new fo(!0,1028,_u);class Hd{constructor(r,l){this.position=r,this.orientation=l}get position(){return this._position}set position(r){if(r){const l=r instanceof d.aa?r:new d.aa(r[0],r[1],r[2]);this._renderWorldCopies&&(l.x=d.bF(l.x,0,1)),this._position=l}else this._position=null}lookAtPoint(r,l){if(this.orientation=null,!this.position)return;const m=this.position,b=this._elevation?this._elevation.getAtPointOrZero(d.aa.fromLngLat(r)):0,w=d.aa.fromLngLat(r,b),I=[w.x-m.x,w.y-m.y,w.z-m.z];l||(l=[0,0,1]),l[2]=Math.abs(l[2]),this.orientation=Zu(I,l)}setPitchBearing(r,l){this.orientation=Bc(d.ai(r),d.ai(-l))}}class Ql{constructor(r,l){this._transform=d.ab.mat4.identity([]),this.orientation=l,this.position=r}get mercatorPosition(){const r=this.position;return new d.aa(r[0],r[1],r[2])}get position(){const r=d.bG(this._transform,3);return[r[0],r[1],r[2]]}set position(r){var l;r&&d.bI(this._transform,3,[(l=r)[0],l[1],l[2],1])}get orientation(){return this._orientation}set orientation(r){this._orientation=r||d.ab.quat.identity([]),r&&uc(this._transform,this._orientation)}getPitchBearing(){const r=this.forward(),l=this.right();return{bearing:Math.atan2(-l[1],l[0]),pitch:Math.atan2(Math.sqrt(r[0]*r[0]+r[1]*r[1]),-r[2])}}setPitchBearing(r,l){this._orientation=Bc(r,l),uc(this._transform,this._orientation)}forward(){const r=d.bG(this._transform,2);return[-r[0],-r[1],-r[2]]}up(){const r=d.bG(this._transform,1);return[-r[0],-r[1],-r[2]]}right(){const r=d.bG(this._transform,0);return[r[0],r[1],r[2]]}getCameraToWorld(r,l){const m=new Float64Array(16);return d.ab.mat4.invert(m,this.getWorldToCamera(r,l)),m}getCameraToWorldMercator(){return this._transform}getWorldToCameraPosition(r,l,m){const b=this.position;d.ab.vec3.scale(b,b,-r);const w=new Float64Array(16);return d.ab.mat4.fromScaling(w,[m,m,m]),d.ab.mat4.translate(w,w,b),w[10]*=l,w}getWorldToCamera(r,l){const m=new Float64Array(16),b=new Float64Array(4),w=this.position;return d.ab.quat.conjugate(b,this._orientation),d.ab.vec3.scale(w,w,-r),d.ab.mat4.fromQuat(m,b),d.ab.mat4.translate(m,m,w),m[1]*=-1,m[5]*=-1,m[9]*=-1,m[13]*=-1,m[8]*=l,m[9]*=l,m[10]*=l,m[11]*=l,m}getCameraToClipPerspective(r,l,m,b){const w=new Float64Array(16);return d.ab.mat4.perspective(w,r,l,m,b),w}getCameraToClipOrthographic(r,l,m,b,w,I){const D=new Float64Array(16);return d.ab.mat4.ortho(D,r,l,m,b,w,I),D}getDistanceToElevation(r,l=!1){const m=r===0?0:d.bH(r,l?d.aS(this.position[1]):this.position[1]),b=this.forward();return(m-this.position[2])/b[2]}clone(){return new Ql([...this.position],[...this.orientation])}}const Tl={BaseColor:5,MetallicRoughness:6,Normal:7,Occlusion:8,Emission:9,LUT:10,ShadowMap0:11};class Fr{constructor(r=0,l=0,m=0,b=0){if(isNaN(r)||r<0||isNaN(l)||l<0||isNaN(m)||m<0||isNaN(b)||b<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=r,this.bottom=l,this.left=m,this.right=b}interpolate(r,l,m){return l.top!=null&&r.top!=null&&(this.top=d.af(r.top,l.top,m)),l.bottom!=null&&r.bottom!=null&&(this.bottom=d.af(r.bottom,l.bottom,m)),l.left!=null&&r.left!=null&&(this.left=d.af(r.left,l.left,m)),l.right!=null&&r.right!=null&&(this.right=d.af(r.right,l.right,m)),this}getCenter(r,l){const m=d.aw((this.left+r-this.right)/2,0,r),b=d.aw((this.top+l-this.bottom)/2,0,l);return new d.P(m,b)}equals(r){return this.top===r.top&&this.bottom===r.bottom&&this.left===r.left&&this.right===r.right}clone(){return new Fr(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}const bu=(p,r,l)=>(1-l)*p+l*r,Es=p=>p*p*p*p*p;class fd{constructor(r,l,m,b,w,I,D){this.tileSize=512,this._renderWorldCopies=w===void 0||w,this._minZoom=r||0,this._maxZoom=l||22,this._minPitch=m!=null?m:0,this._maxPitch=b!=null?b:60,this.setProjection(I),this.setMaxBounds(D),this.width=0,this.height=0,this._center=new d.bO(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new Fr,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._expandedProjMatrixCache={},this._distanceTileDataCache={},this._camera=new Ql,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._tileCoverLift=0,this.freezeTileCoverage=!1,this._horizonShift=.1,this._orthographicProjectionAtLowPitch=!1}clone(){const r=new fd(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return r._elevation=this._elevation,r._centerAltitude=this._centerAltitude,r._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,r.tileSize=this.tileSize,r.mercatorFromTransition=this.mercatorFromTransition,r.width=this.width,r.height=this.height,r.cameraElevationReference=this.cameraElevationReference,r._center=this._center,r._setZoom(this.zoom),r._seaLevelZoom=this._seaLevelZoom,r.angle=this.angle,r._fov=this._fov,r._pitch=this._pitch,r._nearZ=this._nearZ,r._farZ=this._farZ,r._averageElevation=this._averageElevation,r._orthographicProjectionAtLowPitch=this._orthographicProjectionAtLowPitch,r._unmodified=this._unmodified,r._edgeInsets=this._edgeInsets.clone(),r._camera=this._camera.clone(),r._calcMatrices(),r.freezeTileCoverage=this.freezeTileCoverage,r.frustumCorners=this.frustumCorners,r}get isOrthographic(){return this.projection.name!=="globe"&&this._orthographicProjectionAtLowPitch&&this.pitch<15}get elevation(){return this._elevation}set elevation(r){this._elevation!==r&&(this._elevation=r,this._updateCameraOnTerrain(),this._calcMatrices())}get depthOcclusionForSymbolsAndCircles(){return this.projection.name!=="globe"&&!this.isOrthographic}updateElevation(r,l=!1){const m=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(this._seaLevelZoom==null||m)&&this._updateCameraOnTerrain(),(r||m)&&this._constrainCamera(l),this._calcMatrices()}getProjection(){return d.ay(this.projection,["name","center","parallels"])}setProjection(r){this.projectionOptions=r||{name:"mercator"};const l=this.projection?this.getProjection():void 0;this.projection=d.bP(this.projectionOptions);const m=this.getProjection(),b=!d.bn(l,m);return b&&this._calcMatrices(),this.mercatorFromTransition=!1,b}setOrthographicProjectionAtLowPitch(r){return this._orthographicProjectionAtLowPitch!==r&&(this._orthographicProjectionAtLowPitch=r,this._calcMatrices(),!0)}setMercatorFromTransition(){const r=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:"mercator"},this.projection=d.bP({name:"mercator"});const l=r!==this.projection.name;return l&&this._calcMatrices(),l}get minZoom(){return this._minZoom}set minZoom(r){this._minZoom!==r&&(this._minZoom=r,this.zoom=Math.max(this.zoom,r))}get maxZoom(){return this._maxZoom}set maxZoom(r){this._maxZoom!==r&&(this._maxZoom=r,this.zoom=Math.min(this.zoom,r))}get minPitch(){return this._minPitch}set minPitch(r){this._minPitch!==r&&(this._minPitch=r,this.pitch=Math.max(this.pitch,r))}get maxPitch(){return this._maxPitch}set maxPitch(r){this._maxPitch!==r&&(this._maxPitch=r,this.pitch=Math.min(this.pitch,r))}get renderWorldCopies(){return this._renderWorldCopies&&this.projection.supportsWorldCopies===!0}set renderWorldCopies(r){r===void 0?r=!0:r===null&&(r=!1),this._renderWorldCopies=r}get worldSize(){return this.tileSize*this.scale}get cameraWorldSizeForFog(){const r=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(r))}get cameraWorldSize(){const r=Math.max(this._camera.getDistanceToElevation(this._averageElevation,!0),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(r))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return d.bH(1,this.center.lat)*this.cameraWorldSizeForFog}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new d.P(this.width,this.height)}get bearing(){return d.bF(this.rotation,-180,180)}set bearing(r){this.rotation=r}get rotation(){return-this.angle/Math.PI*180}set rotation(r){const l=-r*Math.PI/180;this.angle!==l&&(this._unmodified=!1,this.angle=l,this._calcMatrices(),this.rotationMatrix=d.ab.mat2.create(),d.ab.mat2.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(r){const l=d.aw(r,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==l&&(this._unmodified=!1,this._pitch=l,this._calcMatrices())}get aspect(){return this.width/this.height}get fov(){return this._fov/Math.PI*180}get fovX(){return this._fov}get fovY(){const r=1/Math.tan(.5*this.fovX);return 2*Math.atan(1/this.aspect/r)}set fov(r){r=Math.max(.01,Math.min(60,r)),this._fov!==r&&(this._unmodified=!1,this._fov=d.ai(r),this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(r){this._averageElevation=r,this._calcFogMatrices(),this._distanceTileDataCache={}}get zoom(){return this._zoom}set zoom(r){const l=Math.min(Math.max(r,this.minZoom),this.maxZoom);this._zoom!==l&&(this._unmodified=!1,this._setZoom(l),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices())}_setZoom(r){this._zoom=r,this.scale=this.zoomScale(r),this.tileZoom=Math.floor(r),this.zoomFraction=r-this.tileZoom}get tileCoverLift(){return this._tileCoverLift}set tileCoverLift(r){this._tileCoverLift!==r&&(this._tileCoverLift=r)}_updateCameraOnTerrain(){const r=this.elevation?this.elevation.getAtPoint(this.locationCoordinate(this.center),Number.NEGATIVE_INFINITY):Number.NEGATIVE_INFINITY,l=this.elevation&&r===Number.NEGATIVE_INFINITY&&this.elevation.visibleDemTiles.length>0&&this.elevation.exaggeration()>0&&this._centerAltitudeValidForExaggeration;if(!this._elevation||r===Number.NEGATIVE_INFINITY&&(!l||!this._centerAltitude))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);const m=this._elevation;l||this._centerAltitude&&this._centerAltitudeValidForExaggeration&&m.exaggeration()&&this._centerAltitudeValidForExaggeration!==m.exaggeration()?(this._centerAltitude=this._centerAltitude/this._centerAltitudeValidForExaggeration*m.exaggeration(),this._centerAltitudeValidForExaggeration=m.exaggeration()):(this._centerAltitude=r||0,this._centerAltitudeValidForExaggeration=m.exaggeration()),this._updateSeaLevelZoom()}_updateSeaLevelZoom(){this._centerAltitudeValidForExaggeration!==void 0&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize))}sampleAverageElevation(){if(!this._elevation)return 0;const r=this._elevation,l=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],m=this.horizonLineFromTop();let b=0,w=0;for(let I=0;I<l.length;I++){const D=new d.P(l[I][0]*this.width,m+l[I][1]*(this.height-m)),Z=r.pointCoordinate(D);if(!Z)continue;const W=1/Math.hypot(Z[0]-this._camera.position[0],Z[1]-this._camera.position[1]);b+=Z[3]*W,w+=W}return w===0?NaN:b/w}get center(){return this._center}set center(r){r.lat===this._center.lat&&r.lng===this._center.lng||(this._unmodified=!1,this._center=r,this._terrainEnabled()&&(this.cameraElevationReference==="ground"?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(this._seaLevelZoom==null||!this._elevation)return;const r=this._seaLevelZoom,l=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),m=this.pixelsPerMeter/this.worldSize*l,b=this._mercatorZfromZoom(r),w=this._mercatorZfromZoom(this._maxZoom),I=Math.max(b-m,w);this._setZoom(this._zoomFromMercatorZ(I))}get padding(){return this._edgeInsets.toJSON()}set padding(r){this._edgeInsets.equals(r)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,r,1),this._calcMatrices())}computeZoomRelativeTo(r){const l=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,r.toAltitude()));let m;m=r.z<this._camera.position[2]?[l.x,l.y,l.z]:[r.x,r.y,r.z];const b=d.ab.vec3.length(d.ab.vec3.sub([],this._camera.position,m));return d.aw(this._zoomFromMercatorZ(b),this._minZoom,this._maxZoom)}setFreeCameraOptions(r){if(!this.height||!r.position&&!r.orientation)return;this._updateCameraState();let l=!1;if(r.orientation&&!d.ab.quat.exactEquals(r.orientation,this._camera.orientation)&&(l=this._setCameraOrientation(r.orientation)),r.position){const m=[r.position.x,r.position.y,r.position.z];d.ab.vec3.exactEquals(m,this._camera.position)||(this._setCameraPosition(m),l=!0)}l&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const r=this._camera.position,l=new Hd;return l.position=new d.aa(r[0],r[1],r[2]),l.orientation=this._camera.orientation,l._elevation=this.elevation,l._renderWorldCopies=this.renderWorldCopies,l}_setCameraOrientation(r){if(!d.ab.quat.length(r))return!1;d.ab.quat.normalize(r,r);const l=d.ab.vec3.transformQuat([],[0,0,-1],r),m=d.ab.vec3.transformQuat([],[0,-1,0],r);if(m[2]<0)return!1;const b=Zu(l,m);return!!b&&(this._camera.orientation=b,!0)}_setCameraPosition(r){const l=this.zoomScale(this.minZoom)*this.tileSize,m=this.zoomScale(this.maxZoom)*this.tileSize,b=this.cameraToCenterDistance;r[2]=d.aw(r[2],b/m,b/l),this._camera.position=r}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(r){return this._edgeInsets.equals(r)}interpolatePadding(r,l,m){this._unmodified=!1,this._edgeInsets.interpolate(r,l,m),this._constrain(),this._calcMatrices()}coveringZoomLevel(r){const l=(r.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/r.tileSize));return Math.max(0,l)}getVisibleUnwrappedCoordinates(r){const l=[new d.bQ(0,r)];if(this.renderWorldCopies){const m=this.pointCoordinate(new d.P(0,0)),b=this.pointCoordinate(new d.P(this.width,0)),w=this.pointCoordinate(new d.P(this.width,this.height)),I=this.pointCoordinate(new d.P(0,this.height)),D=Math.floor(Math.min(m.x,b.x,w.x,I.x)),Z=Math.floor(Math.max(m.x,b.x,w.x,I.x)),W=1;for(let G=D-W;G<=Z+W;G++)G!==0&&l.push(new d.bQ(G,r))}return l}isLODDisabled(r){return(!r||this.pitch<=60)&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace}extendTileCover(r,l,m){let b=[];const w=m!==void 0,I=!w;if(I&&this.zoom<l||w&&m[0]===0&&m[1]===0)return b;const D=new Set,Z=(G,te,ne,ce,Te)=>{const we=d.c5(te,G,ne,ce,Te);D.has(we)||(b.push(new d.aG(G,te,ne,ce,Te)),D.add(we))};for(let G=0;G<r.length;G++){const te=r[G];if(I&&te.canonical.z!==l)continue;const ne=te.canonical,ce=te.overscaledZ,Te=te.wrap,we=1<<ne.z,Re=ne.x+1<we,Oe=ne.x>0,Ge=ne.y+1<we,dt=ne.y>0,st=te.wrap-(Oe?0:1),bt=te.wrap+(Re?0:1),pt=Oe?ne.x-1:we-1,gt=Re?ne.x+1:0;if(w)m[0]<0?(Z(ce,bt,ne.z,gt,ne.y),m[1]<0&&Ge&&(Z(ce,Te,ne.z,ne.x,ne.y+1),Z(ce,bt,ne.z,gt,ne.y+1)),m[1]>0&&dt&&(Z(ce,Te,ne.z,ne.x,ne.y-1),Z(ce,bt,ne.z,gt,ne.y-1))):m[0]>0?(Z(ce,st,ne.z,pt,ne.y),m[1]<0&&Ge&&(Z(ce,Te,ne.z,ne.x,ne.y+1),Z(ce,st,ne.z,pt,ne.y+1)),m[1]>0&&dt&&(Z(ce,Te,ne.z,ne.x,ne.y-1),Z(ce,st,ne.z,pt,ne.y-1))):m[1]<0&&Ge?Z(ce,Te,ne.z,ne.x,ne.y+1):dt&&Z(ce,Te,ne.z,ne.x,ne.y-1);else{const ft=te.visibleQuadrants;1&ft&&(Z(ce,st,ne.z,pt,ne.y),dt&&(Z(ce,Te,ne.z,ne.x,ne.y-1),Z(ce,st,ne.z,pt,ne.y-1))),2&ft&&(Z(ce,bt,ne.z,gt,ne.y),dt&&(Z(ce,Te,ne.z,ne.x,ne.y-1),Z(ce,bt,ne.z,gt,ne.y-1))),4&ft&&(Z(ce,st,ne.z,pt,ne.y),Ge&&(Z(ce,Te,ne.z,ne.x,ne.y+1),Z(ce,st,ne.z,pt,ne.y+1))),8&ft&&(Z(ce,bt,ne.z,gt,ne.y),Ge&&(Z(ce,Te,ne.z,ne.x,ne.y+1),Z(ce,bt,ne.z,gt,ne.y+1)))}}const W=[];for(const G of b)b.some(te=>G.isChildOf(te))||W.push(G);if(b=W.filter(G=>!r.some(te=>!!(G.overscaledZ<l&&te.isChildOf(G))||G.equals(te)||G.isChildOf(te))),I){const G=1<<l,te=this.projection.name==="globe"?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),ne=[G*te.x,G*te.y],ce=4,Te=ce*ce;b=b.filter(we=>{const Re=we.canonical.x+.5-ne[0],Oe=we.canonical.y+.5-ne[1];return Re*Re+Oe*Oe<Te})}return b}coveringTiles(r){let l=this.coveringZoomLevel(r);const m=l,b=this.elevation&&this.elevation.exaggeration(),w=b&&!r.isTerrainDEM,I=this.projection.name==="mercator";if(r.minzoom!==void 0&&l<r.minzoom)return[];r.maxzoom!==void 0&&l>r.maxzoom&&(l=r.maxzoom);const D=this.locationCoordinate(this.center),Z=this.center.lat,W=1<<l,G=[W*D.x,W*D.y,0],te=this.projection.name==="globe",ne=!te,ce=d.bR.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,l,ne),Te=te?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),we=W*d.bH(1,this.center.lat),Re=this._camera.position[2]/d.bH(1,this.center.lat),Oe=[W*Te.x,W*Te.y,Re*(ne?1:we)],Ge=te||b,dt=this.cameraToCenterDistance/r.tileSize*(r.roundZoom?1:.502),st=this.isLODDisabled(!0)?l:0;let bt;if(this._elevation&&r.isTerrainDEM)bt=1e4*this._elevation.exaggeration();else if(this._elevation){const nn=this._elevation.getMinMaxForVisibleTiles();bt=nn?nn.max:this._centerAltitude}else bt=this._centerAltitude;const pt=r.isTerrainDEM?-bt:this._elevation?this._elevation.getMinElevationBelowMSL():0,gt=this.projection.isReprojectedInTileSpace?d.bS(this):1,ft=nn=>{const Mn=new d.aa(nn.x+25e-6,nn.y,nn.z),Dr=new d.aa(nn.x,nn.y+25e-6,nn.z),ar=nn.toLngLat(),Wn=Mn.toLngLat(),_r=Dr.toLngLat(),Rr=this.locationCoordinate(ar),oi=this.locationCoordinate(Wn),mi=this.locationCoordinate(_r),Co=Math.hypot(oi.x-Rr.x,oi.y-Rr.y),Vi=Math.hypot(mi.x-Rr.x,mi.y-Rr.y);return Math.sqrt(Co*Vi)*gt/25e-6},yt=nn=>{const Xn=bt,Mn=pt;return{aabb:d.bV(this,W,0,0,0,nn,Mn,Xn,this.projection),zoom:0,x:0,y:0,minZ:Mn,maxZ:Xn,wrap:nn,fullyVisible:!1}},Bt=[];let In=[];const pn=l,Hn=r.reparseOverscaled?m:l,Zn=(Re-this._centerAltitude)*we,rn=nn=>{if(!this._elevation||!nn.tileID||!I)return;const Xn=this._elevation.getMinMaxForTile(nn.tileID),Mn=nn.aabb;Xn?(Mn.min[2]=Xn.min,Mn.max[2]=Xn.max,Mn.center[2]=(Mn.min[2]+Mn.max[2])/2):(nn.shouldSplit=hr(nn),nn.shouldSplit||(Mn.min[2]=Mn.max[2]=Mn.center[2]=this._centerAltitude))},$n=(nn,Xn)=>{if(.707*Xn<nn)return 1;const Mn=Xn/nn;return Mn/(1.4144271570014144+(Math.pow(1.1,Mn-1.4144271570014144+1)-1)/(1.1-1)-1)},hr=nn=>{if(nn.zoom<st)return!0;if(nn.zoom===pn)return!1;if(nn.shouldSplit!=null)return nn.shouldSplit;const Xn=nn.aabb.distanceX(Oe),Mn=nn.aabb.distanceY(Oe);let Dr=Zn,ar=1;if(te){Dr=nn.aabb.distanceZ(Oe);const Vi=Math.pow(2,nn.zoom),Wi=d.aS((nn.y+1)/Vi),Ao=d.aS(nn.y/Vi),Ga=Math.min(Math.max(Z,Wi),Ao),bs=d.c9(Ga)/d.c9(Z);if(ar=Ga===Z?1/Math.max(1,this._mercatorScaleRatio-.3):Math.min(1,bs/this._mercatorScaleRatio),this.zoom<=d.c6&&nn.zoom===pn-1&&bs>=.9)return!0}else if(w&&(Dr=nn.aabb.distanceZ(Oe)*we),this.projection.isReprojectedInTileSpace&&m<=5){const Vi=Math.pow(2,nn.zoom),Wi=ft(new d.aa((nn.x+.5)/Vi,(nn.y+.5)/Vi));ar=Wi>.85?1:Wi}if(!I){const Vi=Math.sqrt(Xn*Xn+Mn*Mn+Dr*Dr);let Wi=(1<<pn-nn.zoom)*dt*ar;return Wi*=$n(Math.max(Dr,Zn),Vi),Vi<Wi}let Wn=Number.MAX_VALUE,_r=0;const Rr=nn.aabb.getCorners(),oi=[];for(const Vi of Rr){d.ab.vec3.sub(oi,Vi,Oe),te||(w?oi[2]*=we:oi[2]=Zn);const Wi=d.ab.vec3.dot(oi,this._camera.forward());Wi<Wn&&(Wn=Wi,_r=Math.abs(oi[2]))}let mi=(1<<pn-nn.zoom)*dt*ar;if(mi*=$n(Math.max(_r,Zn),Wn),Wn<mi)return!0;const Co=nn.aabb.closestPoint(G);return Co[0]===G[0]&&Co[1]===G[1]};if(this.renderWorldCopies)for(let nn=1;nn<=3;nn++)Bt.push(yt(-nn)),Bt.push(yt(nn));for(Bt.push(yt(0));Bt.length>0;){const nn=Bt.pop(),Xn=nn.x,Mn=nn.y;let Dr=nn.fullyVisible;const ar=()=>this.projection.name==="globe"&&(nn.y===0||nn.y===(1<<nn.zoom)-1);if(!Dr){let Wn=Ge?nn.aabb.intersects(ce):nn.aabb.intersectsFlat(ce);if(Wn===0&&ar()){const _r=new d.bT(nn.zoom,Xn,Mn);Wn=d.bU(this,W,_r,!0).intersects(ce)}if(Wn===0)continue;Dr=Wn===2}if(nn.zoom!==pn&&hr(nn))for(let Wn=0;Wn<4;Wn++){const _r=(Xn<<1)+Wn%2,Rr=(Mn<<1)+(Wn>>1),oi={aabb:I?nn.aabb.quadrant(Wn):d.bV(this,W,nn.zoom+1,_r,Rr,nn.wrap,nn.minZ,nn.maxZ,this.projection),zoom:nn.zoom+1,x:_r,y:Rr,wrap:nn.wrap,fullyVisible:Dr,tileID:void 0,shouldSplit:void 0,minZ:nn.minZ,maxZ:nn.maxZ};w&&!te&&(oi.tileID=new d.aG(nn.zoom+1===pn?Hn:nn.zoom+1,nn.wrap,nn.zoom+1,_r,Rr),rn(oi)),Bt.push(oi)}else{const Wn=nn.zoom===pn?Hn:nn.zoom;if(r.minzoom&&r.minzoom>Wn)continue;let _r=0;if(!Dr){let Co=Ge?nn.aabb.intersectsPrecise(ce):nn.aabb.intersectsPreciseFlat(ce);if(Co===0&&ar()){const Vi=new d.bT(nn.zoom,Xn,Mn);Co=d.bU(this,W,Vi,!0).intersectsPrecise(ce)}if(Co===0)continue;if(r.calculateQuadrantVisibility)if(ce.containsPoint(nn.aabb.center))_r=15;else for(let Vi=0;Vi<4;Vi++)nn.aabb.quadrant(Vi).intersects(ce)!==0&&(_r|=1<<Vi)}const Rr=G[0]-(.5+Xn+(nn.wrap<<nn.zoom))*(1<<l-nn.zoom),oi=G[1]-.5-Mn,mi=nn.tileID?nn.tileID:new d.aG(Wn,nn.wrap,nn.zoom,Xn,Mn);r.calculateQuadrantVisibility&&(mi.visibleQuadrants=_r),In.push({tileID:mi,distanceSq:Rr*Rr+oi*oi})}}if(this.fogCullDistSq){const nn=this.fogCullDistSq,Xn=this.horizonLineFromTop();In=In.filter(Mn=>{const Dr=[0,0,0,1],ar=[d.ag,d.ag,0,1],Wn=this.calculateFogTileMatrix(Mn.tileID.toUnwrapped());d.ab.vec4.transformMat4(Dr,Dr,Wn),d.ab.vec4.transformMat4(ar,ar,Wn);const _r=d.ab.vec4.min([],Dr,ar),Rr=d.ab.vec4.max([],Dr,ar),oi=d.bW(_r,Rr);if(oi===0)return!0;let mi=!1;const Co=this._elevation;if(Co&&oi>nn&&Xn!==0){const Vi=this.calculateProjMatrix(Mn.tileID.toUnwrapped());let Wi;r.isTerrainDEM||(Wi=Co.getMinMaxForTile(Mn.tileID)),Wi||(Wi={min:pt,max:bt});const Ao=d.c7(this.rotation),Ga=[Ao[0]*d.ag,Ao[1]*d.ag,Wi.max];d.ab.vec3.transformMat4(Ga,Ga,Vi),mi=(1-Ga[1])*this.height*.5<Xn}return oi<nn||mi})}return In.sort((nn,Xn)=>nn.distanceSq-Xn.distanceSq).map(nn=>nn.tileID)}resize(r,l){this.width=r,this.height=l,this.pixelsToGLUnits=[2/r,-2/l],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(r){return Math.pow(2,r)}scaleZoom(r){return Math.log(r)/Math.LN2}project(r){const l=d.aw(r.lat,-d.bX,d.bX),m=this.projection.project(r.lng,l);return new d.P(m.x*this.worldSize,m.y*this.worldSize)}unproject(r){return this.projection.unproject(r.x/this.worldSize,r.y/this.worldSize)}get point(){return this.project(this.center)}get pointMerc(){return this.point._div(this.worldSize)}get pixelsPerMeterRatio(){return this.pixelsPerMeter/d.bH(1,this.center.lat)/this.worldSize}setLocationAtPoint(r,l){let m,b;const w=this.centerPoint;if(this.projection.name==="globe"){const D=this.worldSize;m=(l.x-w.x)/D,b=(l.y-w.y)/D}else{const D=this.pointCoordinate(l),Z=this.pointCoordinate(w);m=D.x-Z.x,b=D.y-Z.y}const I=this.locationCoordinate(r);this.setLocation(new d.aa(I.x-m,I.y-b))}setLocation(r){this.center=this.coordinateLocation(r),this.projection.wrap&&(this.center=this.center.wrap())}locationPoint(r){return this.projection.locationPoint(this,r)}locationPoint3D(r){return this.projection.locationPoint(this,r,!0)}pointLocation(r){return this.coordinateLocation(this.pointCoordinate(r))}pointLocation3D(r){return this.coordinateLocation(this.pointCoordinate3D(r))}locationCoordinate(r,l){const m=l?d.bH(l,r.lat):void 0,b=this.projection.project(r.lng,r.lat);return new d.aa(b.x,b.y,m)}coordinateLocation(r){return this.projection.unproject(r.x,r.y)}pointRayIntersection(r,l){const m=l!=null?l:this._centerAltitude,b=[r.x,r.y,0,1],w=[r.x,r.y,1,1];d.ab.vec4.transformMat4(b,b,this.pixelMatrixInverse),d.ab.vec4.transformMat4(w,w,this.pixelMatrixInverse);const I=w[3];d.ab.vec4.scale(b,b,1/b[3]),d.ab.vec4.scale(w,w,1/I);const D=b[2],Z=w[2];return{p0:b,p1:w,t:D===Z?0:(m-D)/(Z-D)}}screenPointToMercatorRay(r){const l=[r.x,r.y,0,1],m=[r.x,r.y,1,1];return d.ab.vec4.transformMat4(l,l,this.pixelMatrixInverse),d.ab.vec4.transformMat4(m,m,this.pixelMatrixInverse),d.ab.vec4.scale(l,l,1/l[3]),d.ab.vec4.scale(m,m,1/m[3]),l[2]=d.bH(l[2],this._center.lat)*this.worldSize,m[2]=d.bH(m[2],this._center.lat)*this.worldSize,d.ab.vec4.scale(l,l,1/this.worldSize),d.ab.vec4.scale(m,m,1/this.worldSize),new d.aq([l[0],l[1],l[2]],d.ab.vec3.normalize([],d.ab.vec3.sub([],m,l)))}rayIntersectionCoordinate(r){const{p0:l,p1:m,t:b}=r,w=d.bH(l[2],this._center.lat),I=d.bH(m[2],this._center.lat);return new d.aa(d.af(l[0],m[0],b)/this.worldSize,d.af(l[1],m[1],b)/this.worldSize,d.af(w,I,b))}pointCoordinate(r,l=this._centerAltitude){return this.projection.pointCoordinate(this,r.x,r.y,l)}pointCoordinate3D(r){if(!this.elevation)return this.pointCoordinate(r);let l=this.projection.pointCoordinate3D(this,r.x,r.y);if(l)return new d.aa(l[0],l[1],l[2]);let m=0,b=this.horizonLineFromTop();if(r.y>b)return this.pointCoordinate(r);const w=.02*b,I=r.clone();for(let D=0;D<10&&b-m>w;D++){I.y=d.af(m,b,.66);const Z=this.projection.pointCoordinate3D(this,I.x,I.y);Z?(b=I.y,l=Z):m=I.y}return l?new d.aa(l[0],l[1],l[2]):this.pointCoordinate(r)}isPointAboveHorizon(r){return this.projection.isPointAboveHorizon(this,r)}isPointOnSurface(r){if(r.y<0||r.y>this.height||r.x<0||r.x>this.width)return!1;if(this.elevation||this.zoom>=d.bY)return!this.isPointAboveHorizon(r);const l=this.pointCoordinate(r);return l.y>=0&&l.y<=1}_coordinatePoint(r,l){const m=l&&this.elevation?this.elevation.getAtPointOrZero(r,this._centerAltitude):this._centerAltitude,b=[r.x*this.worldSize,r.y*this.worldSize,m+r.toAltitude(),1];return d.ab.vec4.transformMat4(b,b,this.pixelMatrix),b[3]>0?new d.P(b[0]/b[3],b[1]/b[3]):new d.P(Number.MAX_VALUE,Number.MAX_VALUE)}_getBoundsNonRectangular(){const{top:r,left:l}=this._edgeInsets,m=this.height-this._edgeInsets.bottom,b=this.width-this._edgeInsets.right,w=this.pointLocation3D(new d.P(l,r)),I=this.pointLocation3D(new d.P(b,r)),D=this.pointLocation3D(new d.P(b,m)),Z=this.pointLocation3D(new d.P(l,m));let W=Math.min(w.lng,I.lng,D.lng,Z.lng),G=Math.max(w.lng,I.lng,D.lng,Z.lng),te=Math.min(w.lat,I.lat,D.lat,Z.lat),ne=Math.max(w.lat,I.lat,D.lat,Z.lat);const ce=Math.pow(2,-this.zoom)/16*270,Te=this.projection.name==="globe"?1:4,we=(Re,Oe,Ge,dt,st)=>{const bt=(Re+Ge)/2,pt=(Oe+dt)/2,gt=new d.P(bt,pt),{lng:ft,lat:yt}=this.pointLocation3D(gt),Bt=Math.max(0,W-ft,te-yt,ft-G,yt-ne);W=Math.min(W,ft),G=Math.max(G,ft),te=Math.min(te,yt),ne=Math.max(ne,yt),(st<Te||Bt>ce)&&(we(Re,Oe,bt,pt,st+1),we(bt,pt,Ge,dt,st+1))};if(we(l,r,b,r,1),we(b,r,b,m,1),we(b,m,l,m,1),we(l,m,l,r,1),this.projection.name==="globe"){const[Re,Oe]=d.bZ(this);Re?(ne=90,G=180,W=-180):Oe&&(te=-90,G=180,W=-180)}return new d.az(new d.bO(W,te),new d.bO(G,ne))}_getBoundsRectangular(r,l){const{top:m,left:b}=this._edgeInsets,w=this.height-this._edgeInsets.bottom,I=this.width-this._edgeInsets.right,D=new d.P(b,m),Z=new d.P(I,m),W=new d.P(I,w),G=new d.P(b,w);let te=this.pointCoordinate(D,r),ne=this.pointCoordinate(Z,r);const ce=this.pointCoordinate(W,l),Te=this.pointCoordinate(G,l),we=(Re,Oe)=>(Oe.y-Re.y)/(Oe.x-Re.x);return te.y>1&&ne.y>=0?te=new d.aa((1-Te.y)/we(Te,te)+Te.x,1):te.y<0&&ne.y<=1&&(te=new d.aa(-Te.y/we(Te,te)+Te.x,0)),ne.y>1&&te.y>=0?ne=new d.aa((1-ce.y)/we(ce,ne)+ce.x,1):ne.y<0&&te.y<=1&&(ne=new d.aa(-ce.y/we(ce,ne)+ce.x,0)),new d.az().extend(this.coordinateLocation(te)).extend(this.coordinateLocation(ne)).extend(this.coordinateLocation(Te)).extend(this.coordinateLocation(ce))}_getBoundsRectangularTerrain(){const r=this.elevation;if(!r.visibleDemTiles.length||r.isUsingMockSource())return this._getBoundsRectangular(0,0);const l=r.visibleDemTiles.reduce((m,b)=>{if(b.dem){const w=b.dem.tree;m.min=Math.min(m.min,w.minimums[0]),m.max=Math.max(m.max,w.maximums[0])}return m},{min:Number.MAX_VALUE,max:0});return this._getBoundsRectangular(l.min*r.exaggeration(),l.max*r.exaggeration())}getBounds(){return this.projection.name==="mercator"||this.projection.name==="equirectangular"?this._terrainEnabled()?this._getBoundsRectangularTerrain():this._getBoundsRectangular(0,0):this._getBoundsNonRectangular()}horizonLineFromTop(r=!0){const l=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))-this.centerOffset.y,m=this.height/2-l*(1-this._horizonShift);return r?Math.max(0,m):m}getMaxBounds(){return this.maxBounds}setMaxBounds(r){this.maxBounds=r,this.minLat=-d.bX,this.maxLat=d.bX,this.minLng=-180,this.maxLng=180,r&&(this.minLat=r.getSouth(),this.maxLat=r.getNorth(),this.minLng=r.getWest(),this.maxLng=r.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=d.at(this.minLng)*this.tileSize,this.worldMaxX=d.at(this.maxLng)*this.tileSize,this.worldMinY=d.aA(this.maxLat)*this.tileSize,this.worldMaxY=d.aA(this.minLat)*this.tileSize,this._constrain()}calculatePosMatrix(r,l){return this.projection.createTileMatrix(this,l,r)}calculateDistanceTileData(r){const l=r.key,m=this._distanceTileDataCache;if(m[l])return m[l];const b=r.canonical,w=1/this.height,I=this.cameraWorldSize,D=I/this.zoomScale(b.z),Z=(b.x+Math.pow(2,b.z)*r.wrap)*D,W=b.y*D,G=this.point;G.x*=I/this.worldSize,G.y*=I/this.worldSize;const te=this.angle,ne=Math.sin(-te),ce=-Math.cos(-te);return m[l]={bearing:[ne,ce],center:[(G.x-Z)*w,(G.y-W)*w],scale:D/d.ag*w},m[l]}calculateFogTileMatrix(r){const l=r.key,m=this._fogTileMatrixCache;if(m[l])return m[l];const b=this.projection.createTileMatrix(this,this.cameraWorldSizeForFog,r);return d.ab.mat4.multiply(b,this.worldToFogMatrix,b),m[l]=new Float32Array(b),m[l]}calculateProjMatrix(r,l=!1,m=!1){const b=r.key;let w;if(w=m?this._expandedProjMatrixCache:l?this._alignedProjMatrixCache:this._projMatrixCache,w[b])return w[b];const I=this.calculatePosMatrix(r,this.worldSize);let D;return D=this.projection.isReprojectedInTileSpace?this.mercatorMatrix:m?this.expandedFarZProjMatrix:l?this.alignedProjMatrix:this.projMatrix,d.ab.mat4.multiply(I,D,I),w[b]=new Float32Array(I),w[b]}calculatePixelsToTileUnitsMatrix(r){const l=r.tileID.key,m=this._pixelsToTileUnitsCache;if(m[l])return m[l];const b=d.b_(r,this);return m[l]=b,m[l]}customLayerMatrix(){return this.mercatorMatrix.slice()}globeToMercatorMatrix(){if(this.projection.name==="globe"){const r=1/this.worldSize,l=d.ab.mat4.fromScaling([],[r,r,r]);return d.ab.mat4.multiply(l,l,this.globeMatrix),l}}recenterOnTerrain(){if(!this._elevation||this.projection.name==="globe")return;const r=this._elevation;this._updateCameraState();const l=d.bH(1,this._center.lat)*this.worldSize,m=this._computeCameraPosition(l),b=this._camera.forward(),w=d.bH(1,this._center.lat);m[2]/=w,b[2]/=w,d.ab.vec3.normalize(b,b);const I=r.raycast(m,b,r.exaggeration());if(I){const D=d.ab.vec3.scaleAndAdd([],m,b,I),Z=new d.aa(D[0],D[1],d.bH(D[2],d.aS(D[1]))),W=(Z.z+d.ab.vec3.length([Z.x-m[0],Z.y-m[1],Z.z-m[2]*w]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ(W),this._centerAltitude=Z.toAltitude(),this._center=this.coordinateLocation(Z),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCamera(r=!1){if(!this._elevation)return;const l=this._elevation,m=d.bH(1,this._center.lat)*this.worldSize,b=this._computeCameraPosition(m),w=l.getAtPointOrZero(new d.aa(...b)),I=this.pixelsPerMeter/this.worldSize*w,D=this._minimumHeightOverTerrain(),Z=b[2]-I;if(Z<=D)if(Z<0||r){const W=this.locationCoordinate(this._center,this._centerAltitude),G=[b[0],b[1],W.z-b[2]],te=d.ab.vec3.length(G);G[2]-=(D-Z)/this._pixelsPerMercatorPixel;const ne=d.ab.vec3.length(G);if(ne===0)return;d.ab.vec3.scale(G,G,te/ne*this._pixelsPerMercatorPixel),this._camera.position=[b[0],b[1],W.z*this._pixelsPerMercatorPixel-G[2]],this._updateStateFromCamera()}else this._isCameraConstrained=!0}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const r=this.projection.name==="globe"||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||r){const ne=this.center;return ne.lat=d.aw(ne.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!r)&&(ne.lng=d.aw(ne.lng,this.minLng,this.maxLng)),this.center=ne,void(this._constraining=!1)}const l=this._unmodified,{x:m,y:b}=this.point;let w=0,I=m,D=b;const Z=this.width/2,W=this.height/2,G=this.worldMinY*this.scale,te=this.worldMaxY*this.scale;if(b-W<G&&(D=G+W),b+W>te&&(D=te-W),te-G<this.height&&(w=Math.max(w,this.height/(te-G)),D=(te+G)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const ne=this.worldMinX*this.scale,ce=this.worldMaxX*this.scale,Te=this.worldSize/2-(ne+ce)/2;I=(m+Te+this.worldSize)%this.worldSize-Te,I-Z<ne&&(I=ne+Z),I+Z>ce&&(I=ce-Z),ce-ne<this.width&&(w=Math.max(w,this.width/(ce-ne)),I=(ce+ne)/2)}I===m&&D===b||(this.center=this.unproject(new d.P(I,D))),w&&(this.zoom+=this.scaleZoom(w)),this._constrainCamera(),this._unmodified=l,this._constraining=!1}_minZoomForBounds(){let r=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(r=Math.max(r,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),r}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const r=this.centerOffset,l=this.projection.name==="globe",m=this.pixelsPerMeter;this.projection.name==="globe"&&(this._mercatorScaleRatio=d.bH(1,this.center.lat)/d.bH(1,d.c8));const b=d.b$(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,b),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const w=this.projection.zAxisUnit==="meters"?m:1,I=this._camera.getWorldToCamera(this.worldSize,w);let D;const Z=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);if(Z[8]=2*-r.x/this.width,Z[9]=2*r.y/this.height,this.isOrthographic){let yt=.5*this.height/Math.tan(this._fov/2)*1*Math.tan(.5*this._fov),Bt=yt*this.aspect,In=-Bt,pn=-yt;Bt-=r.x,In-=r.x,yt+=r.y,pn+=r.y,D=this._camera.getCameraToClipOrthographic(In,Bt,pn,yt,this._nearZ,this._farZ),((Hn,Zn,rn,$n)=>{for(let hr=0;hr<16;hr++)Hn[hr]=bu(Zn[hr],rn[hr],$n)})(D,D,Z,Es(this.pitch>=15?1:this.pitch/15))}else D=Z;const W=d.ab.mat4.mul([],Z,I);let G=d.ab.mat4.mul([],D,I);if(this.projection.isReprojectedInTileSpace){const yt=this.locationCoordinate(this.center),Bt=d.ab.mat4.identity([]);d.ab.mat4.translate(Bt,Bt,[yt.x*this.worldSize,yt.y*this.worldSize,0]),d.ab.mat4.multiply(Bt,Bt,d.c0(this)),d.ab.mat4.translate(Bt,Bt,[-yt.x*this.worldSize,-yt.y*this.worldSize,0]),d.ab.mat4.multiply(G,G,Bt),d.ab.mat4.multiply(W,W,Bt),this.inverseAdjustmentMatrix=d.c1(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];if(this.mercatorMatrix=d.ab.mat4.scale([],G,[this.worldSize,this.worldSize,this.worldSize/w,1]),this.projMatrix=G,this.invProjMatrix=d.ab.mat4.invert(new Float64Array(16),this.projMatrix),l){const yt=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,1/0);yt[8]=2*-r.x/this.width,yt[9]=2*r.y/this.height,this.expandedFarZProjMatrix=d.ab.mat4.mul([],yt,I)}else this.expandedFarZProjMatrix=this.projMatrix;const te=d.ab.mat4.invert([],D);this.frustumCorners=d.c2.fromInvProjectionMatrix(te,this.horizonLineFromTop(),this.height),this.cameraFrustum=d.bR.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,0,!l);const ne=new Float32Array(16);d.ab.mat4.identity(ne),d.ab.mat4.scale(ne,ne,[1,-1,1]),d.ab.mat4.rotateX(ne,ne,this._pitch),d.ab.mat4.rotateZ(ne,ne,this.angle);const ce=d.ab.mat4.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ);this.starsProjMatrix=d.ab.mat4.clone(ce);const Te=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;ce[8]=2*-r.x/this.width,ce[9]=2*(r.y+Te)/this.height,this.skyboxMatrix=d.ab.mat4.multiply(ne,ce,ne);const we=this.point,Re=we.x,Oe=we.y,Ge=this.width%2/2,dt=this.height%2/2,st=Math.cos(this.angle),bt=Math.sin(this.angle),pt=Re-Math.round(Re)+st*Ge+bt*dt,gt=Oe-Math.round(Oe)+st*dt+bt*Ge,ft=new Float64Array(G);if(d.ab.mat4.translate(ft,ft,[pt>.5?pt-1:pt,gt>.5?gt-1:gt,0]),this.alignedProjMatrix=ft,G=d.ab.mat4.create(),d.ab.mat4.scale(G,G,[this.width/2,-this.height/2,1]),d.ab.mat4.translate(G,G,[1,-1,0]),this.labelPlaneMatrix=G,G=d.ab.mat4.create(),d.ab.mat4.scale(G,G,[1,-1,1]),d.ab.mat4.translate(G,G,[-1,-1,0]),d.ab.mat4.scale(G,G,[2/this.width,2/this.height,1]),this.glCoordMatrix=G,this.pixelMatrix=d.ab.mat4.multiply(new Float64Array(16),this.labelPlaneMatrix,W),this._calcFogMatrices(),this._distanceTileDataCache={},G=d.ab.mat4.invert(new Float64Array(16),this.pixelMatrix),!G)throw new Error("failed to invert matrix");if(this.pixelMatrixInverse=G,this.projection.name==="globe"||this.mercatorFromTransition){this.globeMatrix=d.c3(this);const yt=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=d.ab.vec3.transformMat4(yt,yt,I),this.globeRadius=this.worldSize/2/Math.PI-1}else this.globeMatrix=G;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={},this._expandedProjMatrixCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const r=this.cameraWorldSizeForFog,l=this.cameraPixelsPerMeter,m=this._camera.position,b=1/this.height/this._pixelsPerMercatorPixel,w=[r,r,l];d.ab.vec3.scale(w,w,b),d.ab.vec3.scale(m,m,-1),d.ab.vec3.multiply(m,m,w);const I=d.ab.mat4.create();d.ab.mat4.translate(I,I,m),d.ab.mat4.scale(I,I,w),this.mercatorFogMatrix=I,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(r,l,b)}_computeCameraPosition(r){const l=(r=r||this.pixelsPerMeter)/this.pixelsPerMeter,m=this._camera.forward(),b=this.point,w=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*l-r/this.worldSize*this._centerAltitude;return[b.x/this.worldSize-m[0]*w,b.y/this.worldSize-m[1]*w,r/this.worldSize*this._centerAltitude-m[2]*w]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}_translateCameraConstrained(r){const l=this._maxCameraBoundsDistance()*Math.cos(this._pitch),m=this._camera.position[2],b=r[2];let w=1;this.projection.wrap&&(this.center=this.center.wrap()),b>0&&(w=Math.min((l-m)/b,1)),this._camera.position=d.ab.vec3.scaleAndAdd([],this._camera.position,r,w),this._updateStateFromCamera()}_updateStateFromCamera(){const r=this._camera.position,l=this._camera.forward(),{pitch:m,bearing:b}=this._camera.getPitchBearing(),w=d.bH(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,I=this._mercatorZfromZoom(this._maxZoom)*Math.cos(d.ai(this._maxPitch)),D=Math.max((r[2]-w)/Math.cos(m),I),Z=this._zoomFromMercatorZ(D);d.ab.vec3.scaleAndAdd(r,r,l,D),this._pitch=d.aw(m,d.ai(this.minPitch),d.ai(this.maxPitch)),this.angle=d.bF(b,-Math.PI,Math.PI),this._setZoom(d.aw(Z,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new d.aa(r[0],r[1],r[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(r){return Math.pow(2,r)*this.tileSize}_mercatorZfromZoom(r){return this.cameraToCenterDistance/this._worldSizeFromZoom(r)}_minimumHeightOverTerrain(){const r=Math.min(this._seaLevelZoom!=null?this._seaLevelZoom:this._zoom,this._maxZoom)+4;return this._mercatorZfromZoom(r)}_zoomFromMercatorZ(r){return this.scaleZoom(this.cameraToCenterDistance/(r*this.tileSize))}zoomFromMercatorZAdjusted(r){let l=0,m=d.bY,b=0,w=1/0;for(;m-l>1e-6&&m>l;){const I=l+.5*(m-l),D=this.tileSize*Math.pow(2,I),Z=this.getCameraToCenterDistance(this.projection,I,D),W=this.scaleZoom(Z/(r*this.tileSize)),G=Math.abs(I-W);G<w&&(w=G,b=I),I<W?l=I:m=I}return b}_terrainEnabled(){return!(!this._elevation||!this.projection.supportsTerrain&&(d.w("Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain."),1))}anyCornerOffEdge(r,l){const m=Math.min(r.x,l.x),b=Math.max(r.x,l.x),w=Math.min(r.y,l.y),I=Math.max(r.y,l.y);if(w<this.horizonLineFromTop(!1))return!0;if(this.projection.name!=="mercator")return!1;const D=[new d.P(m,w),new d.P(b,I),new d.P(m,I),new d.P(b,w)],Z=this.renderWorldCopies?-3:0,W=this.renderWorldCopies?4:1;for(const G of D){const te=this.pointRayIntersection(G);if(te.t<0)return!0;const ne=this.rayIntersectionCoordinate(te);if(ne.x<Z||ne.y<0||ne.x>W||ne.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+d.c4(this.fovAboveCenter)>88||this.anyCornerOffEdge(new d.P(0,0),new d.P(this.width,this.height))}zoomDeltaToMovement(r,l){const m=d.ab.vec3.length(d.ab.vec3.sub([],this._camera.position,r)),b=this._zoomFromMercatorZ(m)+l;return m-this._mercatorZfromZoom(b)}getCameraPoint(){if(this.projection.name==="globe"){const r=function([l,m,b],w){const I=[l,m,b,1];d.ab.vec4.transformMat4(I,I,w);const D=I[3]=Math.max(I[3],1e-6);return I[0]/=D,I[1]/=D,I[2]/=D,I}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new d.P(r[0],r[1])}{const r=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new d.P(0,r))}}getCameraToCenterDistance(r,l=this.zoom,m=this.worldSize){const b=d.b$(r,l,this.width,this.height,1024),w=r.pixelSpaceConversion(this.center.lat,m,b);let I=.5/Math.tan(.5*this._fov)*this.height*w;return this.isOrthographic&&(I=bu(1,I,Es(this.pitch>=15?1:this.pitch/15))),I}getWorldToCameraMatrix(){const r=this._camera.getWorldToCamera(this.worldSize,this.projection.zAxisUnit==="meters"?this.pixelsPerMeter:1);return this.projection.name==="globe"&&d.ab.mat4.multiply(r,r,this.globeMatrix),r}getFrustum(r){return d.bR.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,r,this.projection.zAxisUnit==="meters")}}const Mt=(p,r)=>{if(r>0&&p.terrain&&d.w("Cutoff is currently disabled on terrain"),r<=0||p.terrain)return{shouldRenderCutoff:!1,uniformValues:{u_cutoff_params:[0,0,0,1]}};const l=p.transform,m=Math.max(Math.abs(l._zoom-(p.minCutoffZoom-1)),1),b=l.isLODDisabled(!1)?d.ac(60,45,l.pitch):d.ac(30,15,l.pitch),w=l._farZ-l._nearZ,I=r*l.height,D=((1-(Z=b))*l.cameraToCenterDistance+Z*(l._farZ+I))*m;var Z;return{shouldRenderCutoff:b<1,uniformValues:{u_cutoff_params:[l._nearZ,l._farZ,(D-l._nearZ)/w,(D-I-l._nearZ)/w]}}},tn={cascadeCount:2,normalOffset:3,shadowMapResolution:2048};class hn{constructor(r,l){this.aabb=r,this.lastCascade=l}}class wn{add(r,l){const m=this.receivers[r.key];m!==void 0?(m.aabb.min[0]=Math.min(m.aabb.min[0],l.min[0]),m.aabb.min[1]=Math.min(m.aabb.min[1],l.min[1]),m.aabb.min[2]=Math.min(m.aabb.min[2],l.min[2]),m.aabb.max[0]=Math.max(m.aabb.max[0],l.max[0]),m.aabb.max[1]=Math.max(m.aabb.max[1],l.max[1]),m.aabb.max[2]=Math.max(m.aabb.max[2],l.max[2])):this.receivers[r.key]=new hn(l,null)}clear(){this.receivers={}}get(r){return this.receivers[r.key]}computeRequiredCascades(r,l,m){const b=d.cd.fromPoints(r.points);let w=0;for(const I in this.receivers){const D=this.receivers[I];if(!D||!b.intersectsAabb(D.aabb))continue;D.aabb.min=b.closestPoint(D.aabb.min),D.aabb.max=b.closestPoint(D.aabb.max);const Z=D.aabb.getCorners();for(let W=0;W<m.length;W++){let G=!0;for(const te of Z){const ne=[te[0]*l,te[1]*l,te[2]];if(d.ab.vec3.transformMat4(ne,ne,m[W].matrix),ne[0]<-1||ne[0]>1||ne[1]<-1||ne[1]>1){G=!1;break}}if(D.lastCascade=W,w=Math.max(w,W),G)break}}return w+1}}class rr{constructor(r){this.painter=r,this._enabled=!1,this._shadowLayerCount=0,this._numCascadesToRender=0,this._cascades=[],this._groundShadowTiles=[],this._receivers=new wn,this._depthMode=new ji(r.context.gl.LEQUAL,ji.ReadWrite,[0,1]),this._uniformValues={u_light_matrix_0:new Float32Array(16),u_light_matrix_1:new Float32Array(16),u_shadow_intensity:0,u_fade_range:[0,0],u_shadow_normal_offset:[1,1,1],u_shadow_texel_size:1,u_shadow_map_resolution:1,u_shadow_direction:[0,0,1],u_shadow_bias:[36e-5,.0012,.012],u_shadowmap_0:0,u_shadowmap_1:0},this._forceDisable=!1,this.useNormalOffset=!1,r.tp.registerParameter(this,["Shadows"],"_forceDisable",{label:"forceDisable"},()=>{this.painter.style.map.triggerRepaint()}),r.tp.registerParameter(tn,["Shadows"],"cascadeCount",{min:1,max:2,step:1}),r.tp.registerParameter(tn,["Shadows"],"normalOffset",{min:0,max:10,step:.05}),r.tp.registerParameter(tn,["Shadows"],"shadowMapResolution",{min:32,max:2048,step:32}),r.tp.registerBinding(this,["Shadows"],"_numCascadesToRender",{readonly:!0,label:"numCascadesToRender"})}destroy(){for(const r of this._cascades)r.texture.destroy(),r.framebuffer.destroy();this._cascades=[]}updateShadowParameters(r,l){const m=this.painter;if(this._enabled=!1,this._shadowLayerCount=0,this._receivers.clear(),!l||!l.properties)return;const b=l.properties.get("shadow-intensity");if(!l.shadowsEnabled()||b<=0||(this._shadowLayerCount=m.style.order.reduce((Te,we)=>{const Re=m.style._mergedLayers[we];return Te+(Re.hasShadowPass()&&!Re.isHidden(r.zoom)?1:0)},0),this._enabled=this._shadowLayerCount>0,!this.enabled))return;const w=m.context,I=tn.shadowMapResolution,D=tn.shadowMapResolution;if(this._cascades.length===0||tn.shadowMapResolution!==this._cascades[0].texture.size[0]){this._cascades=[];for(let Te=0;Te<tn.cascadeCount;++Te){const we=m._shadowMapDebug,Re=w.gl,Oe=w.createFramebuffer(I,D,we,"texture"),Ge=new d.T(w,{width:I,height:D,data:null},Re.DEPTH_COMPONENT16);if(Oe.depthAttachment.set(Ge.texture),we){const dt=new d.T(w,{width:I,height:D,data:null},Re.RGBA8);Oe.colorAttachment.set(dt.texture)}this._cascades.push({framebuffer:Oe,texture:Ge,matrix:[],far:0,boundingSphereRadius:0,frustum:new d.bR,scale:0})}}this.shadowDirection=_i(l);let Z=0;if(r.elevation){const Te=r.elevation,we=[1e4,-1e4];Te.visibleDemTiles.filter(Re=>Re.dem).forEach(Re=>{const Oe=Re.dem.tree;we[0]=Math.min(we[0],Oe.minimums[0]),we[1]=Math.max(we[1],Oe.maximums[0])}),we[0]!==1e4&&(Z=(we[1]-we[0])*Te.exaggeration())}const W=1.5*r.cameraToCenterDistance,G=3*W,te=new Float64Array(16);for(let Te=0;Te<this._cascades.length;++Te){const we=this._cascades[Te];let Re=r.height/50,Oe=1;tn.cascadeCount===1?Oe=G:Te===0?Oe=W:(Re=W,Oe=G);const[Ge,dt]=Ri(r,this.shadowDirection,Re,Oe,tn.shadowMapResolution,Z);we.scale=r.scale,we.matrix=Ge,we.boundingSphereRadius=dt,d.ab.mat4.invert(te,we.matrix),we.frustum=d.bR.fromInvProjectionMatrix(te,1,0,!0),we.far=Oe}const ne=this._cascades.length-1;this._uniformValues.u_fade_range=[.75*this._cascades[ne].far,this._cascades[ne].far],this._uniformValues.u_shadow_intensity=b,this._uniformValues.u_shadow_direction=[this.shadowDirection[0],this.shadowDirection[1],this.shadowDirection[2]],this._uniformValues.u_shadow_texel_size=1/tn.shadowMapResolution,this._uniformValues.u_shadow_map_resolution=tn.shadowMapResolution,this._uniformValues.u_shadowmap_0=Tl.ShadowMap0,this._uniformValues.u_shadowmap_1=Tl.ShadowMap0+1,this._groundShadowTiles=m.transform.coveringTiles({tileSize:512,renderWorldCopies:!0});const ce=m.transform.elevation;for(const Te of this._groundShadowTiles){let we={min:0,max:0};if(ce){const Re=ce.getMinMaxForTile(Te);Re&&(we=Re)}this.addShadowReceiver(Te.toUnwrapped(),we.min,we.max)}}get enabled(){return this._enabled&&!this._forceDisable}set enabled(r){this._enabled=r}drawShadowPass(r,l){if(!this.enabled)return;const m=this.painter,b=m.context;this._numCascadesToRender=this._receivers.computeRequiredCascades(m.transform.getFrustum(0),m.transform.worldSize,this._cascades),b.viewport.set([0,0,tn.shadowMapResolution,tn.shadowMapResolution]);for(let w=0;w<this._numCascadesToRender;++w){m.currentShadowCascade=w,b.bindFramebuffer.set(this._cascades[w].framebuffer.framebuffer),b.clear({color:d.aj.white,depth:1});for(const I of r.order){const D=r._mergedLayers[I];if(!D.hasShadowPass()||D.isHidden(m.transform.zoom))continue;const Z=r.getLayerSourceCache(D),W=Z?l[Z.id]:void 0;(D.type==="model"||W&&W.length)&&m.renderLayer(m,Z,D,W)}}m.currentShadowCascade=0}drawGroundShadows(){if(!this.enabled)return;const r=this.painter,l=r.style,m=r.context,b=l.directionalLight,w=l.ambientLight;if(!b||!w)return;const I=[],D=Mt(r,r.longestCutoffRange);D.shouldRenderCutoff&&I.push("RENDER_CUTOFF"),I.push("RENDER_SHADOWS","DEPTH_TEXTURE"),this.useNormalOffset&&I.push("NORMAL_OFFSET");const Z=ni(l,b,w),W=new ji(m.gl.LEQUAL,ji.ReadOnly,r.depthRangeFor3D);for(const G of this._groundShadowTiles){const te=G.toUnwrapped(),ne=r.isTileAffectedByFog(G),ce=r.getOrCreateProgram("groundShadow",{defines:I,overrideFog:ne});this.setupShadows(te,ce),r.uploadCommonUniforms(m,ce,te,null,D);const Te={u_matrix:r.transform.calculateProjMatrix(te),u_ground_shadow_factor:Z};ce.draw(r,m.gl.TRIANGLES,W,vo.disabled,qo.multiply,fo.disabled,Te,"ground_shadow",r.tileExtentBuffer,r.quadTriangleIndexBuffer,r.tileExtentSegments,{},r.transform.zoom,null,null)}}getShadowPassColorMode(){return this.painter._shadowMapDebug?qo.unblended:qo.disabled}getShadowPassDepthMode(){return this._depthMode}getShadowCastingLayerCount(){return this._shadowLayerCount}calculateShadowPassMatrixFromTile(r){const l=this.painter.transform,m=l.calculatePosMatrix(r,l.worldSize);return d.ab.mat4.multiply(m,this._cascades[this.painter.currentShadowCascade].matrix,m),Float32Array.from(m)}calculateShadowPassMatrixFromMatrix(r){return d.ab.mat4.multiply(r,this._cascades[this.painter.currentShadowCascade].matrix,r),Float32Array.from(r)}setupShadows(r,l,m,b=0){if(!this.enabled)return;const w=this.painter.transform,I=this.painter.context,D=I.gl,Z=this._uniformValues,W=new Float64Array(16),G=w.calculatePosMatrix(r,w.worldSize);for(let te=0;te<this._cascades.length;te++)d.ab.mat4.multiply(W,this._cascades[te].matrix,G),Z[te===0?"u_light_matrix_0":"u_light_matrix_1"]=Float32Array.from(W),I.activeTexture.set(D.TEXTURE0+Tl.ShadowMap0+te),this._cascades[te].texture.bind(D.NEAREST,D.CLAMP_TO_EDGE);if(this.useNormalOffset=!!m,this.useNormalOffset){const te=d.cc(r.canonical),ne=2/w.tileSize*d.ag/tn.shadowMapResolution,ce=ne*this._cascades[0].boundingSphereRadius,Te=ne*this._cascades[this._cascades.length-1].boundingSphereRadius,we=(m==="vector-tile"?1:3)/Math.pow(2,b-r.canonical.z-(1-w.zoom+Math.floor(w.zoom)));Z.u_shadow_normal_offset=[te,ce*we,Te*we],Z.u_shadow_bias=[6e-5,.0012,.012]}else Z.u_shadow_bias=[36e-5,.0012,.012];l.setShadowUniformValues(I,Z)}setupShadowsFromMatrix(r,l,m=!1){if(!this.enabled)return;const b=this.painter.context,w=b.gl,I=this._uniformValues,D=new Float64Array(16);for(let Z=0;Z<tn.cascadeCount;Z++)d.ab.mat4.multiply(D,this._cascades[Z].matrix,r),I[Z===0?"u_light_matrix_0":"u_light_matrix_1"]=Float32Array.from(D),b.activeTexture.set(w.TEXTURE0+Tl.ShadowMap0+Z),this._cascades[Z].texture.bind(w.NEAREST,w.CLAMP_TO_EDGE);if(this.useNormalOffset=m,m){const Z=tn.normalOffset;I.u_shadow_normal_offset=[1,Z,Z],I.u_shadow_bias=[6e-5,.0012,.012]}else I.u_shadow_bias=[36e-5,.0012,.012];l.setShadowUniformValues(b,I)}getShadowUniformValues(){return this._uniformValues}getCurrentCascadeFrustum(){return this._cascades[this.painter.currentShadowCascade].frustum}computeSimplifiedTileShadowVolume(r,l,m,b){if(b[2]>=0)return{};const w=function(Z,W,G){const te=G/(1<<Z.canonical.z);return new d.cd([Z.canonical.x*te+Z.wrap*G,Z.canonical.y*te+Z.wrap*G,0],[(Z.canonical.x+1)*te+Z.wrap*G,(Z.canonical.y+1)*te+Z.wrap*G,W])}(r,l,m).getCorners(),I=l/-b[2];b[0]<0?(d.ab.vec3.add(w[0],w[0],[b[0]*I,0,0]),d.ab.vec3.add(w[3],w[3],[b[0]*I,0,0])):b[0]>0&&(d.ab.vec3.add(w[1],w[1],[b[0]*I,0,0]),d.ab.vec3.add(w[2],w[2],[b[0]*I,0,0])),b[1]<0?(d.ab.vec3.add(w[0],w[0],[0,b[1]*I,0]),d.ab.vec3.add(w[1],w[1],[0,b[1]*I,0])):b[1]>0&&(d.ab.vec3.add(w[2],w[2],[0,b[1]*I,0]),d.ab.vec3.add(w[3],w[3],[0,b[1]*I,0]));const D={};return D.vertices=w,D.planes=[qr(w[1],w[0],w[4]),qr(w[2],w[1],w[5]),qr(w[3],w[2],w[6]),qr(w[0],w[3],w[7])],D}addShadowReceiver(r,l,m){this._receivers.add(r,d.cd.fromTileIdAndHeight(r,l,m))}getMaxCascadeForTile(r){const l=this._receivers.get(r);return l&&l.lastCascade?l.lastCascade:0}}function qr(p,r,l){const m=d.ab.vec3.sub([],l,r),b=d.ab.vec3.sub([],p,r),w=d.ab.vec3.cross([],m,b),I=d.ab.vec3.length(w);return I===0?[0,0,1,0]:(d.ab.vec3.scale(w,w,1/I),[w[0],w[1],w[2],-d.ab.vec3.dot(w,r)])}function _i(p){const r=p.properties.get("direction"),l=d.cb(r.x,r.y,r.z);l[2]=d.aw(l[2],0,75);const m=d.ce([l[0],l[1],l[2]]);return d.ab.vec3.fromValues(m.x,m.y,m.z)}function ni(p,r,l){const m=r.properties.get("color-use-theme")==="none",b=r.properties.get("color"),w=r.properties.get("intensity"),I=r.properties.get("direction"),D=[I.x,I.y,I.z],Z=l.properties.get("color-use-theme")==="none",W=l.properties.get("color"),G=l.properties.get("intensity"),te=Math.max(d.ab.vec3.dot([0,0,1],D),0),ne=[0,0,0];d.ab.vec3.scale(ne,W.toRenderColor(Z?null:p.getLut(r.scope)).toArray01Linear().slice(0,3),G);const ce=[0,0,0];return d.ab.vec3.scale(ce,b.toRenderColor(m?null:p.getLut(l.scope)).toArray01Linear().slice(0,3),te*w),d.cf([ne[0]>0?ne[0]/(ne[0]+ce[0]):0,ne[1]>0?ne[1]/(ne[1]+ce[1]):0,ne[2]>0?ne[2]/(ne[2]+ce[2]):0])}function Ri(p,r,l,m,b,w){const I=p.zoom,D=p.scale,Z=p.worldSize,W=1/Z,G=p.aspect,te=Math.sqrt(1+G*G)*Math.tan(.5*p.fovX),ne=te*te,ce=m-l,Te=m+l;let we,Re;ne>ce/Te?(we=m,Re=m*te):(we=.5*Te*(1+ne),Re=.5*Math.sqrt(ce*ce+2*(m*m+l*l)*ne+Te*Te*ne*ne));const Oe=p.projection.pixelsPerMeter(p.center.lat,Z),Ge=p._camera.getCameraToWorldMercator(),dt=[0,0,-we*W];d.ab.vec3.transformMat4(dt,dt,Ge);let st=Re*W;const bt=p._edgeInsets;if(!(bt.left===0&&bt.top===0&&bt.right===0&&bt.bottom===0||bt.left===bt.right&&bt.top===bt.bottom)){const Dr=p._camera.getWorldToCamera(p.worldSize,p.projection.zAxisUnit==="meters"?Oe:1),ar=p._camera.getCameraToClipPerspective(p._fov,p.width/p.height,l,m);ar[8]=2*-p.centerOffset.x/p.width,ar[9]=2*p.centerOffset.y/p.height;const Wn=new Float64Array(16);d.ab.mat4.mul(Wn,ar,Dr);const _r=new Float64Array(16);d.ab.mat4.invert(_r,Wn);const Rr=d.bR.fromInvProjectionMatrix(_r,Z,I,!0);for(const oi of Rr.points){const mi=((pt=oi)[0]/=D,pt[1]/=D,pt[2]=d.bH(pt[2],p._center.lat),pt);st=Math.max(st,d.ab.vec3.len(d.ab.vec3.subtract([],dt,mi)))}}var pt;st*=b/(b-1);const gt=Math.acos(r[2]),ft=Math.atan2(-r[0],-r[1]),yt=new Ql;yt.position=dt,yt.setPitchBearing(gt,ft);const Bt=yt.getWorldToCamera(Z,Oe),In=st*Z,pn=Math.min(p._mercatorZfromZoom(17)*Z*-2,-2*In),Hn=yt.getCameraToClipOrthographic(-In,In,-In,In,pn,(In+w*Oe)/r[2]),Zn=new Float64Array(16);d.ab.mat4.multiply(Zn,Hn,Bt);const rn=d.ab.vec3.fromValues(Math.floor(1e6*dt[0])/1e6*Z,Math.floor(1e6*dt[1])/1e6*Z,0),$n=.5*b,hr=[0,0,0];d.ab.vec3.transformMat4(hr,rn,Zn),d.ab.vec3.scale(hr,hr,$n);const nn=[Math.floor(hr[0]),Math.floor(hr[1]),Math.floor(hr[2])],Xn=[0,0,0];d.ab.vec3.sub(Xn,hr,nn),d.ab.vec3.scale(Xn,Xn,-1/$n);const Mn=new Float64Array(16);return d.ab.mat4.identity(Mn),d.ab.mat4.translate(Mn,Mn,Xn),d.ab.mat4.multiply(Zn,Mn,Zn),[Zn,In]}class ro extends d.E{constructor(r){super(),this.requestManager=r,this.models={"":{}},this.modelUris={"":{}},this.numModelsLoading={}}loadModel(r,l){return d.aM(this.requestManager.transformRequest(l,d.R.Model).url).then(m=>{if(!m)return;const b=d.aN(m),w=new d.aO(r,void 0,void 0,b);return w.computeBoundsAndApplyParent(),w}).catch(m=>{if(m&&m.status===404)return null;this.fire(new d.y(new Error(`Could not load model ${r} from ${l}: ${m.message}`)))})}load(r,l,m={keepNumReferences:!1}){this.models[l]||(this.models[l]={});const b=Object.keys(r);this.numModelsLoading[l]=(this.numModelsLoading[l]||0)+b.length;const w=[];for(const I of b)w.push(this.loadModel(I,r[I]));Promise.allSettled(w).then(I=>{for(let D=0;D<I.length;D++){const{status:Z,value:W}=I[D];if(Z==="fulfilled"&&W){const G=this.models[l][b[D]];this.models[l][b[D]]={model:W,numReferences:m.keepNumReferences&&G?G.numReferences:1}}}this.numModelsLoading[l]-=b.length,this.fire(new d.z("data",{dataType:"style"}))}).catch(I=>{this.fire(new d.y(new Error(`Could not load models: ${I.message}`)))})}isLoaded(){for(const r in this.numModelsLoading)if(this.numModelsLoading[r]>0)return!1;return!0}hasModel(r,l){return!!this.getModel(r,l)}getModel(r,l){return this.models[l]||(this.models[l]={}),this.models[l][r]?this.models[l][r].model:void 0}addModel(r,l,m){this.models[m]||(this.models[m]={}),this.modelUris[m]||(this.modelUris[m]={}),this.hasModel(r,m)&&this.models[m][r].numReferences++,this.modelUris[m][r]=this.requestManager.normalizeModelURL(l),this.load({[r]:this.modelUris[m][r]},m)}addModels(r,l){this.models[l]||(this.models[l]={}),this.modelUris[l]||(this.modelUris[l]={});const m=this.modelUris[l];for(const b in r)this.models[l][b]={},m[b]=this.requestManager.normalizeModelURL(r[b]);this.load(m,l,{keepNumReferences:!0})}reloadModels(r){this.load(this.modelUris[r],r)}addModelsFromBucket(r,l){this.models[l]||(this.models[l]={}),this.modelUris[l]||(this.modelUris[l]={});const m={};for(const b of r)this.hasModel(b,l)?this.models[l][b].numReferences++:(this.modelUris[l][b]=this.requestManager.normalizeModelURL(b),m[b]=this.modelUris[l][b]);this.load(m,l)}removeModel(r,l){if(this.models[l]&&this.models[l][r]&&(this.models[l][r].numReferences--,this.models[l][r].numReferences===0)){const m=this.models[l][r].model;delete this.models[l][r],delete this.modelUris[l][r],m.destroy()}}listModels(r){return this.models[r]||(this.models[r]={}),Object.keys(this.models[r])}upload(r,l){this.models[l]||(this.models[l]={});for(const m in this.models[l])this.models[l][m].model&&this.models[l][m].model.upload(r.context)}}const yo=new d.a5({data:new d.a6(d.a3.colorTheme.data)}),ko={"mbx-indoor-active-floorplans":{default:["literal",[]]},"mbx-indoor-underground":{default:["literal",!1]},"mbx-indoor-loaded-levels":{default:["literal",[]]},"mbx-indoor-level-height":{default:["literal",{}]},"mbx-indoor-level-base":{default:["literal",{}]},"mbx-indoor-level-selected":{default:["literal",{}]},"mbx-indoor-level-overlapped":{default:["literal",{}]}};function io(p){return p=p||{},Object.assign(p,ko)}class sa extends d.E{constructor(r){super(),this.mergeFloors=!0,this._scope=void 0,this._queryFeatureSetId=void 0,this._buildingEntryFeatureSetId=void 0,this._selectedFloorplan=void 0,this._indoorData=void 0,this._selectedLevel=void 0,this._floorplanStates={},d.aP(["_onLoad","_onMove","_checkFloorplanVisible"],this),this._map=r,this._checkFloorplanVisible(!0),this._map.on("load",this._onLoad),this._map.on("move",this._onMove)}destroy(){this._map.indoor.off("load",this._onLoad),this._map.indoor.off("move",this._onMove),this._map=void 0}_onLoad(){this._map.style.forEachFragmentStyle(r=>{r.stylesheet.indoor&&(this._queryFeatureSetId?this.fire(new d.y(new Error("Multiple indoor map styles detected, simultaneous usage is not allowed currently."))):(this._queryFeatureSetId=r.stylesheet.indoor.floorplanFeaturesetId,this._buildingEntryFeatureSetId=r.stylesheet.indoor.buildingFeaturesetId,this._scope=r.scope))}),this._queryFeatureSetId&&this._buildingEntryFeatureSetId&&this._map.addInteraction("mbx-indoor-buildingclick",{type:"click",target:{featuresetId:this._buildingEntryFeatureSetId,importId:this._scope},handler:r=>(r.feature&&r.feature.properties.floorplan&&this.selectFloorplan(r.feature.properties.floorplan),!0)}),this._checkFloorplanVisible(!0)}_onMove(){this._checkFloorplanVisible(!1)}_checkFloorplanVisible(r){if(!this._queryFeatureSetId||!this._map.isStyleLoaded()||this._map.transform.zoom<13)return;this._indoorData&&!function(I,D){const[Z,W]=I,{center:G,radius:te}=D,[ne,ce]=G,Te=Math.abs(Z-ne);return Math.sqrt(fb(Te>180?360-Te:Te,2)+fb(W-ce,2))<=te}([this._map.getCenter().lng,this._map.getCenter().lat],this._indoorData.circumCircle)&&(this._indoorData=void 0,this._selectedFloorplan=void 0,this._map.setConfigProperty(this._scope,"mbx-indoor-underground",!1),this._map.setConfigProperty(this._scope,"mbx-indoor-active-floorplans",["literal",[]]),this.fire(new d.z("floorplangone")));const l={target:{featuresetId:this._queryFeatureSetId,importId:this._scope}},m=new d.P(this._map.transform.width/2,this._map.transform.height/2),b=[new d.P(0,0),new d.P(this._map.transform.width,this._map.transform.height)],w=this._map.queryRenderedFeatures(r?b:m,l);w.length>0&&(this._selectedFloorplan&&w[0].properties.id===this._selectedFloorplan.properties.id||(this._selectedFloorplan=w[0],this._floorplanSelected(!1)))}_floorplanSelected(r){this._indoorData=JSON.parse(this._selectedFloorplan.properties["indoor-data"]),this._indoorData.id=this._selectedFloorplan.properties.id,this._indoorData.circumCircle=function(w){const[[I,D],[Z,W]]=w,G=(Z-I+360)%360,te=G>180?360-G:G;return{center:[(I+te/2+360)%360,(D+W)/2],radius:Math.sqrt(fb(te,2)+fb(W-D,2))/2}}(this._indoorData.extent),this._floorplanStates[this._indoorData.id]||(this._floorplanStates[this._indoorData.id]={});const l=this._floorplanStates[this._indoorData.id].selectedBuilding,m=this._floorplanStates[this._indoorData.id].selectedLevel;let b;if(this._map.setConfigProperty(this._scope,"mbx-indoor-active-floorplans",this._indoorData.floorplanIDs),this._selectedLevel)for(const w of this._indoorData.levels)w.id===this._selectedLevel.id&&(b=w.id);if(this.fire(new d.z("floorplanselected",{buildings:this._indoorData.buildings,levels:this._indoorData.levels,selectedLevelId:b})),l){const w=this._indoorData.buildings.find(I=>I.id===l);this._buildingSelected(w,!1)}else this._indoorData.buildings.length>0&&this._buildingSelected(this._indoorData.buildings[0],!1);if(m){const w=this._indoorData.levels.find(I=>I.id===m);this._updateLevels(w,r)}else r&&this._indoorData["default-levels"].length>0&&this.selectLevel(this._indoorData["default-levels"][0])}_buildingSelected(r,l){l&&r&&r.extent&&this._map.fitBounds(r.extent,{pitch:this._map.getPitch(),bearing:this._map.getBearing()}),this._floorplanStates[this._indoorData.id].selectedBuilding=r?r.id:void 0;const m=this._indoorData.levels.filter(b=>r.levels.includes(b.id));this.fire(new d.z("buildingselected",{buildingId:r.id,levels:m}))}_levelSelected(r){if(r==="overview")this._updateLevels(void 0,!0);else{const l=this._indoorData.levels.find(m=>m.id===r);this._updateLevels(l,!0)}this.fire(new d.z("levelselected",{levelId:r==="overview"?void 0:r}))}_updateLevels(r,l){if(!r)return this._map.setConfigProperty(this._scope,"mbx-indoor-loaded-levels",["literal",[]]),this._map.setConfigProperty(this._scope,"mbx-indoor-underground",!1),this._floorplanStates[this._indoorData.id].selectedLevel=void 0,void(l&&this._indoorData.extent&&this._map.fitBounds(this._indoorData.extent,{pitch:this._map.getPitch(),bearing:this._map.getBearing()}));function m(W){const G=W.indexOf("/floor/");if(G===-1)return W;const te=G+7,ne=W.indexOf("/",te);return ne===-1?W.slice(te):W.slice(te,ne)}this._selectedLevel=r,this._floorplanStates[this._indoorData.id].selectedLevel=r?r.id:void 0;const b=[],w={},I={},D={},Z={};for(const W of this._indoorData.levels)if(b.push(W.id),w[W.id]=W.height,I[W.id]=W.base,r){if(this.mergeFloors){const G=m(r.id),te=m(W.id);D[W.id]=te===G?"true":"false"}else D[W.id]=W.id===r.id?"true":"false";Z[W.id]=W.base<r.base?"true":"false"}else Z[W.id]=!0;if(this._map.setConfigProperty(this._scope,"mbx-indoor-loaded-levels",["literal",b]),this._map.setConfigProperty(this._scope,"mbx-indoor-level-height",["literal",w]),this._map.setConfigProperty(this._scope,"mbx-indoor-level-base",["literal",I]),this._map.setConfigProperty(this._scope,"mbx-indoor-level-selected",["literal",D]),this._map.setConfigProperty(this._scope,"mbx-indoor-level-overlapped",["literal",Z]),r&&(this._map.setConfigProperty(this._scope,"mbx-indoor-underground",!!r.isUnderground),l&&r.extent)){const W=this._map.cameraForBounds(r.extent,{pitch:this._map.getPitch(),bearing:this._map.getBearing()}),G=this._map.getZoom(),te=W.zoom?Math.abs(G-W.zoom):0;this._map.fitBounds(r.extent,te>=1?{pitch:this._map.getPitch(),bearing:this._map.getBearing()}:{pitch:this._map.getPitch(),bearing:this._map.getBearing(),zoom:G})}}selectFloorplan(r){const l={target:{featuresetId:this._queryFeatureSetId,importId:this._scope}},m=[new d.P(0,0),new d.P(this._map.transform.width,this._map.transform.height)],b=this._map.queryRenderedFeatures(m,l);if(b.length>0){for(const w of b)if(JSON.parse(w.properties["indoor-data"]).floorplanIDs.includes(r)){this._selectedFloorplan=w,this._floorplanSelected(!0);break}}}selectBuilding(r){const l=this._indoorData.buildings.find(m=>m.id===r);this._buildingSelected(l,!0)}selectLevel(r){this._levelSelected(r)}}function Qi(p){if(!p.metadata||!p.metadata.content_area)return;const r=d.q.devicePixelRatio,{left:l,top:m,width:b,height:w}=p.metadata.content_area,I=l*r,D=m*r;return[I,D,I+b*r,D+w*r]}function ta(p){if(p)return p.map(([r,l])=>[r*d.q.devicePixelRatio,l*d.q.devicePixelRatio])}const Aa=(p,r)=>Po(p,r&&r.filter(l=>l.identifier!=="source.canvas")),ls=d.ay(di,["addLayer","removeLayer","setLights","setPaintProperty","setLayoutProperty","setSlot","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setSnow","setRain","setProjection","setCamera","addImport","removeImport","updateImport"]),ba=d.ay(di,["setCenter","setZoom","setBearing","setPitch"]),is=new Set(["background","sky","slot","custom"]),La={version:8,layers:[],sources:{}},cs={duration:300,delay:0};class Va extends d.E{constructor(r,l={}){super(),this.map=r,this.scope=l.scope||"",this.globalId=null,this.fragments=[],this.importDepth=l.importDepth||0,this.importsCache=l.importsCache||new Map,this.resolvedImports=l.resolvedImports||new Set,this.transition=d.l({},cs),this._buildingIndex=new ks(this),this.crossTileSymbolIndex=new Zd,this._mergedOrder=[],this._drapedFirstOrder=[],this._mergedLayers={},this._mergedSourceCaches={},this._mergedOtherSourceCaches={},this._mergedSymbolSourceCaches={},this._clipLayerPresent=!1,this._has3DLayers=!1,this._hasCircleLayers=!1,this._hasSymbolLayers=!1,this._changes=l.styleChanges||new ki,this.dispatcher=l.dispatcher?l.dispatcher:new d.D(d.ci(),this),l.imageManager?this.imageManager=l.imageManager:(this.imageManager=new ei(this.map._spriteFormat),this.imageManager.setEventedParent(this)),this.imageManager.createScope(this.scope),this.glyphManager=l.glyphManager?l.glyphManager:new d.cj(r._requestManager,l.localFontFamily?d.ck.all:l.localIdeographFontFamily?d.ck.ideographs:d.ck.none,l.localFontFamily||l.localIdeographFontFamily),l.modelManager?this.modelManager=l.modelManager:(this.modelManager=new ro(r._requestManager),this.modelManager.setEventedParent(this)),this._layers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this._loaded=!1,this._precompileDone=!1,this._shouldPrecompile=!1,this._availableImages=[],this._order=[],this._markersNeedUpdate=!1,this.options=l.configOptions?l.configOptions:new Map,this._configDependentLayers=l.configDependentLayers?l.configDependentLayers:new Set,this._config=l.config,this._styleColorTheme={lut:null,lutLoading:!1,lutLoadingCorrelationID:0,colorTheme:null,colorThemeOverride:l.colorThemeOverride},this._styleColorThemeForScope={},this._initialConfig=l.initialConfig,this.dispatcher.broadcast("setReferrer",d.cl());const m=this;this._rtlTextPluginCallback=Va.registerForPluginStateChange(b=>{m.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:b.pluginStatus,pluginURL:b.pluginURL},(w,I)=>{if(d.cm(w),I&&I.every(D=>D))for(const D in m._sourceCaches){const Z=m._sourceCaches[D],W=Z.getSource().type;W!=="vector"&&W!=="geojson"||Z.reload()}})}),this.on("data",b=>{if(b.dataType!=="source"||b.sourceDataType!=="metadata")return;const w=this.getOwnSource(b.sourceId);if(w&&w.vectorLayerIds)for(const I in this._layers){const D=this._layers[I];D.source===w.id&&this._validateLayer(D)}})}load(r){return r?(typeof r=="string"?this.loadURL(r):this.loadJSON(r),this):this}_getGlobalId(r){if(!r)return null;if(typeof r=="string"){if(d.f(r))return r;const l=d.cn(r);if(!l.startsWith("http"))try{return new URL(l,location.href).toString()}catch(m){return l}return l}return`json://${d.co(JSON.stringify(r))}`}_diffStyle(r,l,m){this.globalId=this._getGlobalId(r);const b=(w,I)=>{try{I(null,this.setState(w,m))}catch(D){I(D,!1)}};if(typeof r=="string"){const w=this.map._requestManager.normalizeStyleURL(r),I=this.map._requestManager.transformRequest(w,d.R.Style);d.n(I,(D,Z)=>{D?this.fire(new d.y(D)):Z&&b(Z,l)})}else typeof r=="object"&&b(r,l)}loadURL(r,l={}){this.fire(new d.z("dataloading",{dataType:"style"}));const m=typeof l.validate=="boolean"?l.validate:!d.f(r);this.globalId=this._getGlobalId(r),r=this.map._requestManager.normalizeStyleURL(r,l.accessToken),this.resolvedImports.add(r);const b=this.importsCache.get(r);if(b)return this._load(b,m);const w=this.map._requestManager.transformRequest(r,d.R.Style);this._request=d.n(w,(I,D)=>{if(this._request=null,I)this.fire(new d.y(I));else if(D)return this.importsCache.set(r,D),this._load(D,m)})}loadJSON(r,l={}){this.fire(new d.z("dataloading",{dataType:"style"})),this.globalId=this._getGlobalId(r),this._request=d.q.frame(()=>{this._request=null,this._load(r,l.validate!==!1)})}loadEmpty(){this.fire(new d.z("dataloading",{dataType:"style"})),this._load(La,!1)}_loadImports(r,l,m){if(this.importDepth>=4)return d.w("Style doesn't support nesting deeper than 5"),Promise.resolve();const b=[];for(const w of r){const I=this._createFragmentStyle(w),D=new Promise(G=>{I.once("style.import.load",G),I.once("error",G)}).then(()=>this.mergeAll());if(b.push(D),this.resolvedImports.has(w.url)){I.loadEmpty();continue}const Z=w.data||this.importsCache.get(w.url);Z?(I.loadJSON(Z,{validate:l}),this._isInternalStyle(Z)&&(I.globalId=null)):w.url?I.loadURL(w.url,{validate:l}):I.loadEmpty();const W={style:I,id:w.id,config:w.config};if(m){const G=this.fragments.findIndex(({id:te})=>te===m);this.fragments=this.fragments.slice(0,G).concat(W).concat(this.fragments.slice(G))}else this.fragments.push(W)}return Promise.allSettled(b)}getImportGlobalIds(r=this,l=new Set){for(const m of r.fragments)m.style.globalId&&l.add(m.style.globalId),this.getImportGlobalIds(m.style,l);return[...l.values()]}_createFragmentStyle(r){const l=this.scope?d.aC(r.id,this.scope):r.id;let m;const b=this._initialConfig&&this._initialConfig[l];(r.config||b)&&(m=d.l({},r.config,b));const w=new Va(this.map,{scope:l,styleChanges:this._changes,importDepth:this.importDepth+1,importsCache:this.importsCache,resolvedImports:new Set(this.resolvedImports),dispatcher:this.dispatcher,imageManager:this.imageManager,glyphManager:this.glyphManager,modelManager:this.modelManager,config:m,configOptions:this.options,colorThemeOverride:r["color-theme"],configDependentLayers:this._configDependentLayers});return w.setEventedParent(this.map,{style:w}),w}_reloadImports(){this.mergeAll(),this._updateMapProjection(),this.updateConfigDependencies(),this.map._triggerCameraUpdate(this.camera),this.dispatcher.broadcast("setLayers",{layers:this._serializeLayers(this._order),scope:this.scope,options:this.options}),this._shouldPrecompile=this.map._precompilePrograms&&this.isRootStyle()}_isInternalStyle(r){return this.isRootStyle()&&(r.fragment||!!r.schema&&r.fragment!==!1)}_load(r,l){const m=r.indoor?io(r.schema):r.schema;if(this._isInternalStyle(r)){const I=d.l({},La,{imports:[{id:"basemap",data:r,url:""}]});return void this._load(I,l)}if(this.updateConfig(this._config,m),l&&Aa(this,Ra(r)))return;this._loaded=!0,this.stylesheet=d.cp(r);const b=()=>{for(const W in r.sources)this.addSource(W,r.sources[W],{validate:!1,isInitialLoad:!0});r.sprite?this._loadIconset(r.sprite):(this.imageManager.setLoaded(!0,this.scope),this.dispatcher.broadcast("spriteLoaded",{scope:this.scope,isLoaded:!0})),this.glyphManager.setURL(r.glyphs,this.scope);const I=ms(this.stylesheet.layers);if(this._order=I.map(W=>W.id),this.stylesheet.light&&d.w("The `light` root property is deprecated, prefer using `lights` with `flat` light type instead."),this.stylesheet.lights)if(this.stylesheet.lights.length===1&&this.stylesheet.lights[0].type==="flat"){const W=this.stylesheet.lights[0];this.light=new xe(W.properties,W.id)}else this.setLights(this.stylesheet.lights);this.light||(this.light=new xe(this.stylesheet.light)),this._layers={};for(const W of I){const G=d.cu(W,this.scope,this._styleColorTheme.lut,this.options);G.configDependencies.size!==0&&this._configDependentLayers.add(G.fqid),G.setEventedParent(this,{layer:{id:G.id}}),this._layers[G.id]=G;const te=this.getOwnLayerSourceCache(G),ne=!!this.directionalLight&&this.directionalLight.shadowsEnabled();te&&G.canCastShadows()&&ne&&(te.castsShadows=!0)}this.stylesheet.featuresets&&this.setFeaturesetSelectors(this.stylesheet.featuresets),this.stylesheet.models&&this.modelManager.addModels(this.stylesheet.models,this.scope);const D=this.stylesheet.terrain;D&&(this.checkCanvasFingerprintNoise(),this.disableElevatedTerrain||this.terrainSetForDrapingOnly()||this._createTerrain(D,1)),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this.stylesheet.snow&&this._createSnow(this.stylesheet.snow),this.stylesheet.rain&&this._createRain(this.stylesheet.rain),this.stylesheet.transition&&this.setTransition(this.stylesheet.transition),this.fire(new d.z("data",{dataType:"style"}));const Z=this.isRootStyle();r.imports?this._loadImports(r.imports,l).then(()=>{this._reloadImports(),this.fire(new d.z(Z?"style.load":"style.import.load"))}):(this._reloadImports(),this.fire(new d.z(Z?"style.load":"style.import.load")))};this._styleColorTheme.colorTheme=this.stylesheet["color-theme"];const w=this._styleColorTheme.colorThemeOverride?this._styleColorTheme.colorThemeOverride:this._styleColorTheme.colorTheme;if(w){const I=this._evaluateColorThemeData(w);this._loadColorTheme(I).then(()=>{b()}).catch(D=>{d.w(`Couldn't load color theme from the stylesheet: ${D}`),b()})}else this._styleColorTheme.lut=null,b()}isRootStyle(){return this.importDepth===0}mergeAll(){let r,l,m,b,w,I,D,Z,W,G;const te={};this.terrain&&this.terrain.scope!==this.scope&&delete this.terrain,this.forEachFragmentStyle(ne=>{if(ne.stylesheet){if(ne.light!=null&&(r=ne.light),ne.stylesheet.lights)for(const ce of ne.stylesheet.lights)ce.type==="ambient"&&ne.ambientLight!=null&&(l=ne.ambientLight),ce.type==="directional"&&ne.directionalLight!=null&&(m=ne.directionalLight);b=this._prioritizeTerrain(b,ne.terrain,ne.stylesheet.terrain),ne.stylesheet.fog&&ne.fog!=null&&(w=ne.fog),ne.stylesheet.snow&&ne.snow!=null&&(I=ne.snow),ne.stylesheet.rain&&ne.rain!=null&&(D=ne.rain),ne.stylesheet.camera!=null&&(G=ne.stylesheet.camera),ne.stylesheet.projection!=null&&(Z=ne.stylesheet.projection),ne.stylesheet.transition!=null&&(W=ne.stylesheet.transition),te[ne.scope]=ne._styleColorTheme}}),this.light=r,this.ambientLight=l,this.directionalLight=m,this.fog=w,this.snow=I,this.rain=D,this._styleColorThemeForScope=te,b===null?delete this.terrain:this.terrain=b,this.camera=G||{"camera-projection":"perspective"},this.projection=Z||{name:"mercator"},this.transition=d.l({},cs,W),this.mergeSources(),this.mergeLayers()}forEachFragmentStyle(r){const l=m=>{for(const b of m.fragments)l(b.style);r(m)};l(this)}_prioritizeTerrain(r,l,m){const b=r&&r.drapeRenderMode===0;return m===null?l&&l.drapeRenderMode===0?l:b?r:null:l!=null&&(!r||b||l&&l.drapeRenderMode===1)?l:r}mergeTerrain(){let r;this.terrain&&this.terrain.scope!==this.scope&&delete this.terrain,this.forEachFragmentStyle(l=>{r=this._prioritizeTerrain(r,l.terrain,l.stylesheet.terrain)}),r===null?delete this.terrain:this.terrain=r}mergeProjection(){let r;this.forEachFragmentStyle(l=>{l.stylesheet.projection!=null&&(r=l.stylesheet.projection)}),this.projection=r||{name:"mercator"}}mergeSources(){const r={},l={},m={};this.forEachFragmentStyle(b=>{for(const w in b._sourceCaches){const I=d.aC(w,b.scope);r[I]=b._sourceCaches[w]}for(const w in b._otherSourceCaches){const I=d.aC(w,b.scope);l[I]=b._otherSourceCaches[w]}for(const w in b._symbolSourceCaches){const I=d.aC(w,b.scope);m[I]=b._symbolSourceCaches[w]}}),this._mergedSourceCaches=r,this._mergedOtherSourceCaches=l,this._mergedSymbolSourceCaches=m}mergeLayers(){const r={},l=[],m={};this._mergedSlots=[],this._has3DLayers=!1,this._hasCircleLayers=!1,this._hasSymbolLayers=!1,this.forEachFragmentStyle(w=>{for(const I of w._order){const D=w._layers[I];if(D.type==="slot"){const Z=d.cq(I);if(r[Z])continue;r[Z]=[]}D.slot&&r[D.slot]?r[D.slot].push(D):l.push(D)}}),this._mergedOrder=[];const b=(w=[])=>{for(const I of w)if(I.type==="slot"){const D=d.cq(I.id);r[D]&&b(r[D]),this._mergedSlots.push(D)}else{const D=d.aC(I.id,I.scope);this._mergedOrder.push(D),m[D]=I,I.is3D()&&(this._has3DLayers=!0),I.type==="circle"&&(this._hasCircleLayers=!0),I.type==="symbol"&&(this._hasSymbolLayers=!0),I.type==="clip"&&(this._clipLayerPresent=!0)}};b(l),this._mergedOrder.sort((w,I)=>{const D=m[w],Z=m[I];return D.hasInitialOcclusionOpacityProperties?Z.is3D()?1:0:D.is3D()&&Z.hasInitialOcclusionOpacityProperties?-1:0}),this._mergedLayers=m,this.updateDrapeFirstLayers(),this._buildingIndex.processLayersChanged()}terrainSetForDrapingOnly(){return!!this.terrain&&this.terrain.drapeRenderMode===0}getCamera(){return this.stylesheet.camera}setCamera(r){return this.stylesheet.camera=d.l({},this.stylesheet.camera,r),this.camera=this.stylesheet.camera,this}_evaluateColorThemeData(r){return r.data?function(l,m,b){const w=d.l({},m);for(const D of Object.keys(d.a3.colorTheme))w[D]===void 0&&(w[D]=d.a3.colorTheme[D].default);const I=new d.a4(yo,l,new Map(b));return I.setTransitionOrValue(w,b),I.untransitioned().possiblyEvaluate(new d.a8(0))}(this.scope,r,this.options).get("data"):null}_loadColorTheme(r){this._styleColorTheme.lutLoading=!0,this._styleColorTheme.lutLoadingCorrelationID+=1;const l=this._styleColorTheme.lutLoadingCorrelationID;return new Promise((m,b)=>{const w="data:image/png;base64,";if(!r||r.length===0)return this._styleColorTheme.lut=null,this._styleColorTheme.lutLoading=!1,void m();let I=r;I.startsWith(w)||(I=w+I);const D="mapbox-reserved-lut",Z=new Image;Z.src=I,Z.onerror=()=>{this._styleColorTheme.lutLoading=!1,b(new Error("Failed to load image data"))},Z.onload=()=>{if(this._styleColorTheme.lutLoadingCorrelationID!==l)return void m();this._styleColorTheme.lutLoading=!1;const{width:W,height:G,data:te}=d.q.getImageData(Z);if(G>32)return void b(new Error("The height of the image must be less than or equal to 32 pixels."));if(W!==G*G)return void b(new Error("The width of the image must be equal to the height squared."));this.getImage(D)&&this.removeImage(D),this.addImage(D,{data:new d.r({width:W,height:G},te),pixelRatio:1,sdf:!1,usvg:!1,version:0});const ne=this.imageManager.getImage(D,this.scope);ne?(this._styleColorTheme.lut={image:ne.data,data:r},m()):b(new Error("Missing LUT image."))}})}getLut(r){const l=this._styleColorThemeForScope[r];return l?l.lut:null}setProjection(r){r?this.stylesheet.projection=r:delete this.stylesheet.projection,this.mergeProjection(),this._updateMapProjection()}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?(this.getTerrain()||this.stylesheet.terrain)&&!this.disableElevatedTerrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null,0))}_updateMapProjection(){this.isRootStyle()&&(this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.projection))}_loadSprite(r){this._spriteRequest=function(l,m,b){let w,I,D;const Z=d.q.devicePixelRatio>1?"@2x":"";let W=d.n(m.transformRequest(m.normalizeSpriteURL(l,Z,".json"),d.R.SpriteJSON),(ne,ce)=>{W=null,D||(D=ne,w=ce,te())}),G=d.o(m.transformRequest(m.normalizeSpriteURL(l,Z,".png"),d.R.SpriteImage),(ne,ce)=>{G=null,D||(D=ne,I=ce,te())});function te(){if(D)b(D);else if(w&&I){const ne=d.q.getImageData(I),ce={};for(const Te in w){const{width:we,height:Re,x:Oe,y:Ge,sdf:dt,pixelRatio:st,stretchX:bt,stretchY:pt,content:gt}=w[Te],ft=new d.r({width:we,height:Re});d.r.copy(ne,ft,{x:Oe,y:Ge},{x:0,y:0},{width:we,height:Re},null),ce[Te]={data:ft,pixelRatio:st,sdf:dt,stretchX:bt,stretchY:pt,content:gt,usvg:!1}}b(null,ce)}}return{cancel(){W&&(W.cancel(),W=null),G&&(G.cancel(),G=null)}}}(r,this.map._requestManager,(l,m)=>{if(this._spriteRequest=null,l)this.fire(new d.y(l));else if(m)for(const b in m)this.imageManager.addImage(b,this.scope,m[b]);this.imageManager.setLoaded(!0,this.scope),this._availableImages=this.imageManager.listImages(this.scope),this.dispatcher.broadcast("setImages",{scope:this.scope,images:this._availableImages}),this.dispatcher.broadcast("spriteLoaded",{scope:this.scope,isLoaded:!0}),this.fire(new d.z("data",{dataType:"style"}))})}_loadIconset(r){if(!d.f(r)&&this.map._spriteFormat!=="icon_set"||this.map._spriteFormat==="raster")return void this._loadSprite(r);const l=this.map._spriteFormat==="auto";var m,b;this._spriteRequest=(b=(w,I)=>{if(this._spriteRequest=null,w)l?this._loadSprite(r):this.fire(new d.y(w));else if(I)for(const D in I)this.imageManager.addImage(D,this.scope,I[D]);this.imageManager.setLoaded(!0,this.scope),this._availableImages=this.imageManager.listImages(this.scope),this.dispatcher.broadcast("setImages",{scope:this.scope,images:this._availableImages}),this.dispatcher.broadcast("spriteLoaded",{scope:this.scope,isLoaded:!0}),this.fire(new d.z("data",{dataType:"style"}))},d.bi((m=this.map._requestManager).transformRequest(m.normalizeIconsetURL(r),d.R.Iconset),(w,I)=>{if(w)return void b(w);const D={},Z=d.cg(new d.bh(I));for(const W of Z.icons){const G={version:1,pixelRatio:d.q.devicePixelRatio,content:Qi(W),stretchX:W.metadata?ta(W.metadata.stretch_x_areas):void 0,stretchY:W.metadata?ta(W.metadata.stretch_y_areas):void 0,sdf:!1,usvg:!0,icon:W};D[W.name]=G}b(null,D)}))}_validateLayer(r){const l=this.getOwnSource(r.source);if(!l)return;const m=r.sourceLayer;m&&(l.type==="geojson"||l.vectorLayerIds&&l.vectorLayerIds.indexOf(m)===-1)&&this.fire(new d.y(new Error(`Source layer "${m}" does not exist on source "${l.id}" as specified by style layer "${r.id}"`)))}loaded(){if(!this._loaded||Object.keys(this._changes.getUpdatedSourceCaches()).length)return!1;for(const r in this._sourceCaches)if(!this._sourceCaches[r].loaded())return!1;if(!this.imageManager.isLoaded()||!this.modelManager.isLoaded()||this._styleColorTheme.lutLoading)return!1;for(const{style:r}of this.fragments)if(!r.loaded())return!1;return!0}_serializeImports(){if(this.stylesheet.imports)return this.stylesheet.imports.map((r,l)=>{const m=this.fragments[l];return m&&m.style&&(r.data=m.style.serialize()),r})}_serializeSources(){const r={};for(const l in this._sourceCaches){const m=this._sourceCaches[l].getSource();r[m.id]||(r[m.id]=m.serialize())}return r}_serializeLayers(r){const l=[];for(const m of r){const b=this._layers[m];b&&b.type!=="custom"&&l.push(b.serialize())}return l}hasLightTransitions(){return!(!this.light||!this.light.hasTransition())||!(!this.ambientLight||!this.ambientLight.hasTransition())||!(!this.directionalLight||!this.directionalLight.hasTransition())}hasFogTransition(){return!!this.fog&&this.fog.hasTransition()}hasSnowTransition(){return!!this.snow&&this.snow.hasTransition()}hasRainTransition(){return!!this.rain&&this.rain.hasTransition()}hasTransitions(){if(this.hasLightTransitions()||this.hasFogTransition()||this.hasSnowTransition()||this.hasRainTransition())return!0;for(const r in this._sourceCaches)if(this._sourceCaches[r].hasTransition())return!0;for(const r in this._layers)if(this._layers[r].hasTransition())return!0;return!1}get order(){return this.terrain?this._drapedFirstOrder:this._mergedOrder}_getOrder(r){return r?this.order:this._mergedOrder}isLayerDraped(r){return!!this.terrain&&r.isDraped(this.getLayerSourceCache(r))}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}_checkLayer(r){const l=this.getOwnLayer(r);if(l)return l;this.fire(new d.y(new Error(`The layer '${r}' does not exist in the map's style.`)))}_checkSource(r){const l=this.getOwnSource(r);if(l)return l;this.fire(new d.y(new Error(`The source '${r}' does not exist in the map's style.`)))}precompilePrograms(r,l){const m=this.map.painter;if(m)for(let b=r.minzoom||0;b<(r.maxzoom||25.5);b++){const w=r.getProgramIds();if(w)for(const I of w){const D=r.getDefaultProgramParams(I,l.zoom,this._styleColorTheme.lut);D&&(m.style=this,this.fog&&(m._fogVisible=!0,D.overrideFog=!0,m.getOrCreateProgram(I,D)),m._fogVisible=!1,D.overrideFog=!1,m.getOrCreateProgram(I,D),(this.stylesheet.terrain||this.stylesheet.projection&&this.stylesheet.projection.name==="globe")&&(D.overrideRtt=!0,m.getOrCreateProgram(I,D)))}}}update(r){if(!this._loaded)return;this.ambientLight&&this.ambientLight.recalculate(r),this.directionalLight&&this.directionalLight.recalculate(r);const l=this.calculateLightsBrightness();r.brightness=l||0,l!==this._brightness&&(this._brightness=l,this.dispatcher.broadcast("setBrightness",l));const m=this._changes.isDirty();let b=!1;if(this._changes.isDirty()){const I=this._changes.getLayerUpdatesByScope();for(const D in I){const{updatedIds:Z,removedIds:W}=I[D];(Z||W)&&(this._updateWorkerLayers(D,Z,W),b=!0)}this.updateSourceCaches(),this._updateTilesForChangedImages(),this.updateLayers(r),this.light&&this.light.updateTransitions(r),this.ambientLight&&this.ambientLight.updateTransitions(r),this.directionalLight&&this.directionalLight.updateTransitions(r),this.fog&&this.fog.updateTransitions(r),this.snow&&this.snow.updateTransitions(r),this.rain&&this.rain.updateTransitions(r),this._changes.reset()}const w={};for(const I in this._mergedSourceCaches){const D=this._mergedSourceCaches[I];w[I]=D.used,D.used=!1,D.tileCoverLift=0}for(const I of this._mergedOrder){const D=this._mergedLayers[I];if(D.recalculate(r,this._availableImages),!D.isHidden(r.zoom)){const Z=this.getLayerSourceCache(D);Z&&(Z.used=!0,Z.tileCoverLift=Math.max(Z.tileCoverLift,D.tileCoverLift()))}!this._precompileDone&&this._shouldPrecompile&&("requestIdleCallback"in window?requestIdleCallback(()=>{this.precompilePrograms(D,r)}):this.precompilePrograms(D,r))}this._shouldPrecompile&&(this._precompileDone=!0),this.terrain&&b&&this.mergeLayers();for(const I in w){const D=this._mergedSourceCaches[I];w[I]!==D.used&&D.getSource().fire(new d.z("data",{sourceDataType:"visibility",dataType:"source",sourceId:D.getSource().id}))}this.light&&this.light.recalculate(r),this.terrain&&this.terrain.recalculate(r),this.fog&&this.fog.recalculate(r),this.snow&&this.snow.recalculate(r),this.rain&&this.rain.recalculate(r),this.z=r.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),m&&this.fire(new d.z("data",{dataType:"style"}))}_updateTilesForChangedImages(){const r=this._changes.getUpdatedImages();if(r.length){for(const l in this._sourceCaches)this._sourceCaches[l].reloadTilesForDependencies(["icons","patterns"],r);this._changes.resetUpdatedImages()}}_updateWorkerLayers(r,l,m){const b=this.getFragmentStyle(r);b&&this.dispatcher.broadcast("updateLayers",{layers:l?b._serializeLayers(l):[],scope:r,removedIds:m||[],options:b.options})}setState(r,l){if(this._checkLoaded(),Aa(this,Ra(r)))return!1;(r=d.cp(r)).layers=ms(r.layers);const m=function(I,D){if(!I)return[{command:di.setStyle,args:[D]}];let Z=[];try{if(!d.bn(I.version,D.version))return[{command:di.setStyle,args:[D]}];if(d.bn(I.center,D.center)||Z.push({command:di.setCenter,args:[D.center]}),d.bn(I.zoom,D.zoom)||Z.push({command:di.setZoom,args:[D.zoom]}),d.bn(I.bearing,D.bearing)||Z.push({command:di.setBearing,args:[D.bearing]}),d.bn(I.pitch,D.pitch)||Z.push({command:di.setPitch,args:[D.pitch]}),d.bn(I.sprite,D.sprite)||Z.push({command:di.setSprite,args:[D.sprite]}),d.bn(I.glyphs,D.glyphs)||Z.push({command:di.setGlyphs,args:[D.glyphs]}),d.bn(I.imports,D.imports)||function(ce=[],Te=[],we){Te=Te||[];const Re=(ce=ce||[]).map(wa),Oe=Te.map(wa),Ge=ce.reduce(Za,{}),dt=Te.reduce(Za,{}),st=Re.slice();let bt,pt,gt,ft;for(bt=0,pt=0;bt<Re.length;bt++)gt=Re[bt],dt.hasOwnProperty(gt)?pt++:(we.push({command:di.removeImport,args:[gt]}),st.splice(st.indexOf(gt,pt),1));for(bt=0,pt=0;bt<Oe.length;bt++)gt=Oe[Oe.length-1-bt],st[st.length-1-bt]!==gt&&(Ge.hasOwnProperty(gt)?(we.push({command:di.removeImport,args:[gt]}),st.splice(st.lastIndexOf(gt,st.length-pt),1)):pt++,ft=st[st.length-bt],we.push({command:di.addImport,args:[dt[gt],ft]}),st.splice(st.length-bt,0,gt));for(const yt of Te){const Bt=Ge[yt.id];Bt&&!d.bn(Bt,yt)&&we.push({command:di.updateImport,args:[yt.id,yt]})}}(I.imports,D.imports,Z),d.bn(I.transition,D.transition)||Z.push({command:di.setTransition,args:[D.transition]}),d.bn(I.light,D.light)||Z.push({command:di.setLight,args:[D.light]}),d.bn(I.fog,D.fog)||Z.push({command:di.setFog,args:[D.fog]}),d.bn(I.snow,D.snow)||Z.push({command:di.setSnow,args:[D.snow]}),d.bn(I.rain,D.rain)||Z.push({command:di.setRain,args:[D.rain]}),d.bn(I.projection,D.projection)||Z.push({command:di.setProjection,args:[D.projection]}),d.bn(I.lights,D.lights)||Z.push({command:di.setLights,args:[D.lights]}),d.bn(I.camera,D.camera)||Z.push({command:di.setCamera,args:[D.camera]}),!d.bn(I["color-theme"],D["color-theme"]))return[{command:di.setStyle,args:[D]}];const W={},G=[];(function(ce,Te,we,Re){let Oe;for(Oe in Te=Te||{},ce=ce||{})ce.hasOwnProperty(Oe)&&(Te.hasOwnProperty(Oe)||Ss(Oe,we,Re));for(Oe in Te){if(!Te.hasOwnProperty(Oe))continue;const Ge=Te[Oe];ce.hasOwnProperty(Oe)?d.bn(ce[Oe],Ge)||(ce[Oe].type==="geojson"&&Ge.type==="geojson"&&qi(ce,Te,Oe)?we.push({command:di.setGeoJSONSourceData,args:[Oe,Ge.data]}):Nr(Oe,Te,we,Re)):Ya(Oe,Te,we)}})(I.sources,D.sources,G,W);const te=[];I.layers&&I.layers.forEach(ce=>{ce.source&&W[ce.source]?Z.push({command:di.removeLayer,args:[ce.id]}):te.push(ce)});let ne=I.terrain;ne&&W[ne.source]&&(Z.push({command:di.setTerrain,args:[void 0]}),ne=void 0),Z=Z.concat(G),d.bn(ne,D.terrain)||Z.push({command:di.setTerrain,args:[D.terrain]}),function(ce,Te,we){Te=Te||[];const Re=(ce=ce||[]).map(wa),Oe=Te.map(wa),Ge=ce.reduce(Za,{}),dt=Te.reduce(Za,{}),st=Re.slice(),bt=Object.create(null);let pt,gt,ft,yt,Bt,In,pn;for(pt=0,gt=0;pt<Re.length;pt++)ft=Re[pt],dt.hasOwnProperty(ft)?gt++:(we.push({command:di.removeLayer,args:[ft]}),st.splice(st.indexOf(ft,gt),1));for(pt=0,gt=0;pt<Oe.length;pt++)ft=Oe[Oe.length-1-pt],st[st.length-1-pt]!==ft&&(Ge.hasOwnProperty(ft)?(we.push({command:di.removeLayer,args:[ft]}),st.splice(st.lastIndexOf(ft,st.length-gt),1)):gt++,In=st[st.length-pt],we.push({command:di.addLayer,args:[dt[ft],In]}),st.splice(st.length-pt,0,ft),bt[ft]=!0);for(pt=0;pt<Oe.length;pt++)if(ft=Oe[pt],yt=Ge[ft],Bt=dt[ft],!bt[ft]&&!d.bn(yt,Bt))if(d.bn(yt.source,Bt.source)&&d.bn(yt["source-layer"],Bt["source-layer"])&&d.bn(yt.type,Bt.type)){for(pn in To(yt.layout,Bt.layout,we,ft,null,di.setLayoutProperty),To(yt.paint,Bt.paint,we,ft,null,di.setPaintProperty),d.bn(yt.slot,Bt.slot)||we.push({command:di.setSlot,args:[ft,Bt.slot]}),d.bn(yt.filter,Bt.filter)||we.push({command:di.setFilter,args:[ft,Bt.filter]}),d.bn(yt.minzoom,Bt.minzoom)&&d.bn(yt.maxzoom,Bt.maxzoom)||we.push({command:di.setLayerZoomRange,args:[ft,Bt.minzoom,Bt.maxzoom]}),yt)yt.hasOwnProperty(pn)&&pn!=="layout"&&pn!=="paint"&&pn!=="filter"&&pn!=="metadata"&&pn!=="minzoom"&&pn!=="maxzoom"&&pn!=="slot"&&(pn.indexOf("paint.")===0?To(yt[pn],Bt[pn],we,ft,pn.slice(6),di.setPaintProperty):d.bn(yt[pn],Bt[pn])||we.push({command:di.setLayerProperty,args:[ft,pn,Bt[pn]]}));for(pn in Bt)Bt.hasOwnProperty(pn)&&!yt.hasOwnProperty(pn)&&pn!=="layout"&&pn!=="paint"&&pn!=="filter"&&pn!=="metadata"&&pn!=="minzoom"&&pn!=="maxzoom"&&pn!=="slot"&&(pn.indexOf("paint.")===0?To(yt[pn],Bt[pn],we,ft,pn.slice(6),di.setPaintProperty):d.bn(yt[pn],Bt[pn])||we.push({command:di.setLayerProperty,args:[ft,pn,Bt[pn]]}))}else we.push({command:di.removeLayer,args:[ft]}),In=st[st.lastIndexOf(ft)+1],we.push({command:di.addLayer,args:[Bt,In]})}(te,D.layers,Z)}catch(W){console.warn("Unable to compute style diff:",W),Z=[{command:di.setStyle,args:[D]}]}return Z}(this.serialize(),r).filter(I=>!(I.command in ba));if(m.length===0)return!1;const b=m.filter(I=>!(I.command in ls));if(b.length>0)throw new Error(`Unimplemented: ${b.map(I=>I.command).join(", ")}.`);const w=[];return m.forEach(I=>{w.push(this[I.command].apply(this,I.args))}),l&&Promise.all(w).then(l),this.stylesheet=r,this.mergeAll(),this.dispatcher.broadcast("setLayers",{layers:this._serializeLayers(this._order),scope:this.scope,options:this.options}),!0}addImage(r,l){return this.getImage(r)?this.fire(new d.y(new Error("An image with this name already exists."))):(this.imageManager.addImage(r,this.scope,l),this._afterImageUpdated(r),this)}updateImage(r,l,m=!1){this.imageManager.updateImage(r,this.scope,l),m&&this._afterImageUpdated(r)}getImage(r){return this.imageManager.getImage(r,this.scope)}removeImage(r){return this.getImage(r)?(this.imageManager.removeImage(r,this.scope),this._afterImageUpdated(r),this):this.fire(new d.y(new Error("No image with this name exists.")))}_afterImageUpdated(r){this._availableImages=this.imageManager.listImages(this.scope),this._changes.updateImage(r),this.dispatcher.broadcast("setImages",{scope:this.scope,images:this._availableImages}),this.fire(new d.z("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this._availableImages.slice()}addModel(r,l,m={}){return this._checkLoaded(),this._validate(Ca,`models.${r}`,l,null,m)||(this.modelManager.addModel(r,l,this.scope),this._changes.setDirty()),this}hasModel(r){return this.modelManager.hasModel(r,this.scope)}removeModel(r){return this.hasModel(r)?(this.modelManager.removeModel(r,this.scope),this):this.fire(new d.y(new Error("No model with this ID exists.")))}listModels(){return this._checkLoaded(),this.modelManager.listModels(this.scope)}addSource(r,l,m={}){if(this._checkLoaded(),this.getOwnSource(r)!==void 0)throw new Error(`There is already a source with ID "${r}".`);if(!l.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(l).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(l.type)>=0&&this._validate(po,`sources.${r}`,l,null,m))return;this.map&&this.map._collectResourceTiming&&(l.collectResourceTiming=!0);const b=Bn(r,l,this.dispatcher,this);b.scope=this.scope,b.setEventedParent(this,()=>({isSourceLoaded:this._isSourceCacheLoaded(b.id),source:b.serialize(),sourceId:b.id}));const w=I=>{const D=(I?"symbol:":"other:")+b.id,Z=d.aC(D,this.scope),W=this._sourceCaches[D]=new go(Z,b,I);(I?this._symbolSourceCaches:this._otherSourceCaches)[b.id]=W,W.onAdd(this.map)};w(!1),l.type!=="vector"&&l.type!=="geojson"||w(!0),b.onAdd&&b.onAdd(this.map),m.isInitialLoad||(this.mergeSources(),this._changes.setDirty())}removeSource(r){this._checkLoaded();const l=this.getOwnSource(r);if(!l)throw new Error("There is no source with this ID");for(const b in this._layers)if(this._layers[b].source===r)return this.fire(new d.y(new Error(`Source "${r}" cannot be removed while layer "${b}" is using it.`)));if(this.terrain&&this.terrain.scope===this.scope&&this.terrain.get().source===r)return this.fire(new d.y(new Error(`Source "${r}" cannot be removed while terrain is using it.`)));const m=this.getOwnSourceCaches(r);for(const b of m){const w=d.cq(b.id);delete this._sourceCaches[w],this._changes.discardSourceCacheUpdate(b.id),b.fire(new d.z("data",{sourceDataType:"metadata",dataType:"source",sourceId:b.getSource().id})),b.setEventedParent(null),b.clearTiles()}return delete this._otherSourceCaches[r],delete this._symbolSourceCaches[r],this.mergeSources(),l.setEventedParent(null),l.onRemove&&l.onRemove(this.map),this._changes.setDirty(),this}setGeoJSONSourceData(r,l){this._checkLoaded(),this.getOwnSource(r).setData(l),this._changes.setDirty()}getOwnSource(r){const l=this.getOwnSourceCache(r);return l&&l.getSource()}getOwnSources(){const r=[];for(const l in this._otherSourceCaches){const m=this.getOwnSourceCache(l);m&&r.push(m.getSource())}return r}areTilesLoaded(){const r=this._mergedSourceCaches;for(const l in r){const m=r[l]._tiles;for(const b in m){const w=m[b];if(w.state!=="loaded"&&w.state!=="errored")return!1}}return!0}setLights(r){if(this._checkLoaded(),!r)return delete this.ambientLight,void delete this.directionalLight;const l=this._getTransitionParameters();for(const b of r){if(this._validate(il,"lights",b))return;switch(b.type){case"ambient":if(this.ambientLight){const w=this.ambientLight;w.set(b),w.updateTransitions(l)}else this.ambientLight=new Ei(b,ur||(ur=new d.a5({color:new d.a6(d.a3.properties_light_ambient.color),"color-use-theme":new d.a6({type:"string",default:"default","property-type":"data-constant"}),intensity:new d.a6(d.a3.properties_light_ambient.intensity)})),this.scope,this.options);break;case"directional":if(this.directionalLight){const w=this.directionalLight;w.set(b),w.updateTransitions(l)}else this.directionalLight=new Ei(b,lr||(lr=new d.a5({direction:new d.ak(d.a3.properties_light_directional.direction),color:new d.a6(d.a3.properties_light_directional.color),"color-use-theme":new d.a6({type:"string",default:"default","property-type":"data-constant"}),intensity:new d.a6(d.a3.properties_light_directional.intensity),"cast-shadows":new d.a6(d.a3.properties_light_directional["cast-shadows"]),"shadow-quality":new d.a6(d.a3.properties_light_directional["shadow-quality"]),"shadow-intensity":new d.a6(d.a3.properties_light_directional["shadow-intensity"])})),this.scope,this.options)}}const m=new d.a8(this.z||0,l);this.ambientLight&&this.ambientLight.recalculate(m),this.directionalLight&&this.directionalLight.recalculate(m),this._brightness=this.calculateLightsBrightness(),this.dispatcher.broadcast("setBrightness",this._brightness)}calculateLightsBrightness(){const r=this.directionalLight,l=this.ambientLight;if(!r||!l)return;const m=ne=>.2126*(ne[0]<=.03928?ne[0]/12.92:Math.pow((ne[0]+.055)/1.055,2.4))+.7152*(ne[1]<=.03928?ne[1]/12.92:Math.pow((ne[1]+.055)/1.055,2.4))+.0722*(ne[2]<=.03928?ne[2]/12.92:Math.pow((ne[2]+.055)/1.055,2.4)),b=r.properties.get("color").toRenderColor(null).toArray01(),w=r.properties.get("intensity"),I=r.properties.get("direction"),D=1-d.cb(I.x,I.y,I.z)[2]/90,Z=m(b)*w*D,W=l.properties.get("color").toRenderColor(null).toArray01(),G=l.properties.get("intensity"),te=m(W)*G;return Number(((Z+te)/2).toFixed(6))}getBrightness(){return this._brightness}getLights(){if(!this.enable3dLights())return null;const r=[];return this.directionalLight&&r.push(this.directionalLight.get()),this.ambientLight&&r.push(this.ambientLight.get()),r}enable3dLights(){return!!this.ambientLight&&!!this.directionalLight}getFragmentStyle(r){if(!r)return this;if(d.cr(r)){const l=d.cs(r),m=this.fragments.find(({id:w})=>w===l);if(!m)throw new Error(`Style import '${r}' not found`);const b=d.cq(r);return m.style.getFragmentStyle(b)}{const l=this.fragments.find(({id:m})=>m===r);return l?l.style:void 0}}setFeaturesetSelectors(r){if(!r)return;const l={},m=(b,w="")=>`${b}::${w}`;this._featuresetSelectors={};for(const b in r){const w=this._featuresetSelectors[b]=[];for(const I of r[b].selectors){if(I.featureNamespace){const Z=this.getOwnLayer(I.layer);if(!Z){d.w(`Layer is undefined for selector: ${I.layer}`);continue}const W=m(Z.source,Z.sourceLayer);if(W in l&&l[W]!==I.featureNamespace){d.w(`"featureNamespace ${I.featureNamespace} of featureset ${b}'s selector is not associated to the same source, skip this selector`);continue}l[W]=I.featureNamespace}let D;if(I.properties)for(const Z in I.properties){const W=d.U(I.properties[Z]);W.result==="success"&&(D=D||{},D[Z]=W.value)}w.push({layerId:I.layer,namespace:I.featureNamespace,properties:D,uniqueFeatureID:I._uniqueFeatureID})}}}getFeaturesetDescriptors(r){const l=this.getFragmentStyle(r);if(!l||!l.stylesheet.featuresets)return[];const m=[];for(const b in l.stylesheet.featuresets)m.push({featuresetId:b,importId:l.scope?l.scope:void 0});return m}getFeaturesetLayers(r,l){const m=this.getFragmentStyle(l),b=m.stylesheet.featuresets;if(!b||!b[r])return this.fire(new d.y(new Error(`The featureset '${r}' does not exist in the map's style and cannot be queried.`))),[];const w=[];for(const I of b[r].selectors){const D=m.getOwnLayer(I.layer);D&&w.push(D)}return w}getConfigProperty(r,l){const m=this.getFragmentStyle(r);if(!m)return null;const b=d.aC(l,m.scope),w=m.options.get(b),I=w?w.value||w.default:null;return I?I.serialize():null}setConfigProperty(r,l,m){const b=this.getFragmentStyle(r);if(!b)return;const w=b.stylesheet.indoor?io(b.stylesheet.schema):b.stylesheet.schema;if(!w||!w[l])return;const I=d.U(m);if(I.result!=="success")return void Aa(this,I.value);const D=I.value.expression,Z=d.aC(l,b.scope),W=b.options.get(Z);if(!W)return;let G;const{minValue:te,maxValue:ne,stepValue:ce,type:Te,values:we}=w[l],Re=d.U(w[l].default);Re.result==="success"&&(G=Re.value.expression),G?(this.options.set(Z,Object.assign({},W,{value:D,default:G,minValue:te,maxValue:ne,stepValue:ce,type:Te,values:we})),this.updateConfigDependencies(l)):this.fire(new d.y(new Error(`No schema defined for the config option "${l}" in the "${r}" fragment.`)))}getConfig(r){const l=this.getFragmentStyle(r);if(!l)return null;const m=l.stylesheet.schema;if(!m)return null;const b={};for(const w in m){const I=d.aC(w,l.scope),D=l.options.get(I),Z=D?D.value||D.default:null;b[w]=Z?Z.serialize():null}return b}setConfig(r,l){const m=this.getFragmentStyle(r);m&&(m.updateConfig(l,m.stylesheet.schema),this.updateConfigDependencies())}getSchema(r){const l=this.getFragmentStyle(r);return l?l.stylesheet.schema:null}setSchema(r,l){const m=this.getFragmentStyle(r);m&&(m.stylesheet.schema=l,m.updateConfig(m._config,l),this.updateConfigDependencies())}updateConfig(r,l){if(this._config=r,r||l)if(l)for(const m in l){let b,w;const I=d.U(l[m].default);if(I.result==="success"&&(b=I.value.expression),r&&r[m]!==void 0){const ne=d.U(r[m]);ne.result==="success"&&(w=ne.value.expression)}const{minValue:D,maxValue:Z,stepValue:W,type:G,values:te}=l[m];if(b){const ne=d.aC(m,this.scope);this.options.set(ne,{default:b,value:w,minValue:D,maxValue:Z,stepValue:W,type:G,values:te})}else this.fire(new d.y(new Error(`No schema defined for config option "${m}".`)))}else this.fire(new d.y(new Error("Attempting to set config for a style without schema.")))}updateConfigDependencies(r){for(const l of this._configDependentLayers){const m=this.getLayer(l);if(m){if(r&&!m.configDependencies.has(r))continue;m.possiblyEvaluateVisibility(),this._updateLayer(m)}}this.ambientLight&&this.ambientLight.updateConfig(this.options),this.directionalLight&&this.directionalLight.updateConfig(this.options),this.fog&&this.fog.updateConfig(this.options),this.snow&&this.snow.updateConfig(this.options),this.rain&&this.rain.updateConfig(this.options),this.forEachFragmentStyle(l=>{const m=l._styleColorTheme.colorThemeOverride?l._styleColorTheme.colorThemeOverride:l._styleColorTheme.colorTheme;if(m){const b=l._evaluateColorThemeData(m);(!l._styleColorTheme.lut&&b!==""||l._styleColorTheme.lut&&b!==l._styleColorTheme.lut.data)&&l.setColorTheme(m)}}),this._changes.setDirty()}addLayer(r,l,m={}){this._checkLoaded();const b=r.id;if(this._layers[b])return void this.fire(new d.y(new Error(`Layer with id "${b}" already exists on this map`)));let w;if(r.type==="custom"){if(Aa(this,d.ct(r)))return;w=d.cu(r,this.scope,this._styleColorTheme.lut,this.options)}else{if(typeof r.source=="object"&&(this.addSource(b,r.source),r=d.cp(r),r=d.l(r,{source:b})),this._validate(hi,`layers.${b}`,r,{arrayIndex:-1},m))return;w=d.cu(r,this.scope,this._styleColorTheme.lut,this.options),this._validateLayer(w),w.setEventedParent(this,{layer:{id:b}})}w.configDependencies.size!==0&&this._configDependentLayers.add(w.fqid);let I=this._order.length;if(l){const G=this._order.indexOf(l);if(G===-1)return void this.fire(new d.y(new Error(`Layer with id "${l}" does not exist on this map.`)));w.slot===this._layers[l].slot?I=G:d.w(`Layer with id "${l}" has a different slot. Layers can only be rearranged within the same slot.`)}this._order.splice(I,0,b),this._layerOrderChanged=!0,this._layers[b]=w;const D=this.getOwnLayerSourceCache(w),Z=!!this.directionalLight&&this.directionalLight.shadowsEnabled();D&&w.canCastShadows()&&Z&&(D.castsShadows=!0);const W=this._changes.getRemovedLayer(w);if(W&&w.source&&D&&w.type!=="custom"){this._changes.discardLayerRemoval(w);const G=d.aC(w.source,w.scope);W.type!==w.type?this._changes.updateSourceCache(G,"clear"):(this._changes.updateSourceCache(G,"reload"),D.pause())}this._updateLayer(w),w.onAdd&&w.onAdd(this.map),w.scope=this.scope,this.mergeLayers()}moveLayer(r,l){this._checkLoaded();const m=this._checkLayer(r);if(!m||r===l)return;const b=this._order.indexOf(r);this._order.splice(b,1);let w=this._order.length;if(l){const I=this._order.indexOf(l);if(I===-1)return void this.fire(new d.y(new Error(`Layer with id "${l}" does not exist on this map.`)));m.slot===this._layers[l].slot?w=I:d.w(`Layer with id "${l}" has a different slot. Layers can only be rearranged within the same slot.`)}this._order.splice(w,0,r),this._changes.setDirty(),this._layerOrderChanged=!0,this.mergeLayers()}removeLayer(r){this._checkLoaded();const l=this._checkLayer(r);if(!l)return;l.setEventedParent(null);const m=this._order.indexOf(r);this._order.splice(m,1),delete this._layers[r],this._changes.setDirty(),this._layerOrderChanged=!0,this._configDependentLayers.delete(l.fqid),this._changes.removeLayer(l);const b=this.getOwnLayerSourceCache(l);if(b&&b.castsShadows){let w=!1;for(const I in this._layers)if(this._layers[I].source===l.source&&this._layers[I].canCastShadows()){w=!0;break}b.castsShadows=w}l.onRemove&&l.onRemove(this.map),this.mergeLayers()}getOwnLayer(r){return this._layers[r]}hasLayer(r){return r in this._mergedLayers}hasLayerType(r){for(const l in this._layers)if(this._layers[l].type===r)return!0;return!1}setLayerZoomRange(r,l,m){this._checkLoaded();const b=this._checkLayer(r);b&&(b.minzoom===l&&b.maxzoom===m||(l!=null&&(b.minzoom=l),m!=null&&(b.maxzoom=m),this._updateLayer(b)))}getSlots(){return this._checkLoaded(),this._mergedSlots}setSlot(r,l){this._checkLoaded();const m=this._checkLayer(r);m&&m.slot!==l&&(m.slot=l,this._updateLayer(m))}setFilter(r,l,m={}){this._checkLoaded();const b=this._checkLayer(r);if(b&&!d.bn(b.filter,l))return l==null?(b.filter=void 0,void this._updateLayer(b)):void(this._validate(vi,`layers.${b.id}.filter`,l,{layerType:b.type},m)||(b.filter=d.cp(l),this._updateLayer(b)))}getFilter(r){const l=this._checkLayer(r);if(l)return d.cp(l.filter)}setLayoutProperty(r,l,m,b={}){this._checkLoaded();const w=this._checkLayer(r);if(w&&!d.bn(w.getLayoutProperty(l),m)){if(m!=null&&(!b||b.validate!==!1)&&Aa(w,aa.call(Ra,{key:`layers.${r}.layout.${l}`,layerType:w.type,objectKey:l,value:m,styleSpec:d.a3,style:{glyphs:!0,sprite:!0}})))return;w.setLayoutProperty(l,m),w.configDependencies.size!==0&&this._configDependentLayers.add(w.fqid),this._updateLayer(w)}}getLayoutProperty(r,l){const m=this._checkLayer(r);if(m)return m.getLayoutProperty(l)}setPaintProperty(r,l,m,b={}){this._checkLoaded();const w=this._checkLayer(r);if(!w||d.bn(w.getPaintProperty(l),m)||m!=null&&(!b||b.validate!==!1)&&Aa(w,oa.call(Ra,{key:`layers.${r}.paint.${l}`,layerType:w.type,objectKey:l,value:m,styleSpec:d.a3})))return;const I=w.setPaintProperty(l,m);w.configDependencies.size!==0&&this._configDependentLayers.add(w.fqid),I&&this._updateLayer(w),this._changes.updatePaintProperties(w)}getPaintProperty(r,l){const m=this._checkLayer(r);if(m)return m.getPaintProperty(l)}setFeatureState(r,l){if(this._checkLoaded(),"target"in r){if("featuresetId"in r.target){const{featuresetId:Z,importId:W}=r.target,G=this.getFragmentStyle(W),te=G.getFeaturesetLayers(Z);for(const{source:ne,sourceLayer:ce}of te)G.setFeatureState({id:r.id,source:ne,sourceLayer:ce},l)}else if("layerId"in r.target){const{layerId:Z}=r.target,W=this.getLayer(Z);this.setFeatureState({id:r.id,source:W.source,sourceLayer:W.sourceLayer},l)}return}const m=r.source,b=r.sourceLayer,w=this._checkSource(m);if(!w)return;const I=w.type;if(I==="geojson"&&b)return void this.fire(new d.y(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if(I==="vector"&&!b)return void this.fire(new d.y(new Error("The sourceLayer parameter must be provided for vector source types.")));r.id===void 0&&this.fire(new d.y(new Error("The feature id parameter must be provided.")));const D=this.getOwnSourceCaches(m);for(const Z of D)Z.setFeatureState(b,r.id,l)}removeFeatureState(r,l){if(this._checkLoaded(),"target"in r){if("featuresetId"in r.target){const{featuresetId:Z,importId:W}=r.target,G=this.getFragmentStyle(W),te=G.getFeaturesetLayers(Z);for(const{source:ne,sourceLayer:ce}of te)G.removeFeatureState({id:r.id,source:ne,sourceLayer:ce},l)}else if("layerId"in r.target){const{layerId:Z}=r.target,W=this.getLayer(Z);this.removeFeatureState({id:r.id,source:W.source,sourceLayer:W.sourceLayer},l)}return}const m=r.source,b=this._checkSource(m);if(!b)return;const w=b.type,I=w==="vector"?r.sourceLayer:void 0;if(w==="vector"&&!I)return void this.fire(new d.y(new Error("The sourceLayer parameter must be provided for vector source types.")));if(l&&typeof r.id!="string"&&typeof r.id!="number")return void this.fire(new d.y(new Error("A feature id is required to remove its specific state property.")));const D=this.getOwnSourceCaches(m);for(const Z of D)Z.removeFeatureState(I,r.id,l)}getFeatureState(r){if(this._checkLoaded(),"target"in r){let w;if("featuresetId"in r.target){const{featuresetId:I,importId:D}=r.target,Z=this.getFragmentStyle(D),W=Z.getFeaturesetLayers(I);for(const{source:G,sourceLayer:te}of W){const ne=Z.getFeatureState({id:r.id,source:G,sourceLayer:te});if(ne&&!w)w=ne;else if(!d.bn(w,ne))return void this.fire(new d.y(new Error("The same feature id exists in multiple sources in the featureset, but their feature states are not consistent through the sources.")))}}else if("layerId"in r.target){const{layerId:I}=r.target,D=this.getLayer(I);w=this.getFeatureState({id:r.id,source:D.source,sourceLayer:D.sourceLayer})}return w}const l=r.source,m=r.sourceLayer,b=this._checkSource(l);if(b){if(b.type!=="vector"||m)return r.id===void 0&&this.fire(new d.y(new Error("The feature id parameter must be provided."))),this.getOwnSourceCaches(l)[0].getFeatureState(m,r.id);this.fire(new d.y(new Error("The sourceLayer parameter must be provided for vector source types.")))}}setTransition(r){return this.stylesheet.transition=d.l({},this.stylesheet.transition,r),this.transition=this.stylesheet.transition,this}getTransition(){return d.l({},this.stylesheet.transition)}serialize(){this._checkLoaded();const r=this.getTerrain(),l=r&&this.terrain&&this.terrain.scope===this.scope?r:this.stylesheet.terrain;return d.cv({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,fragment:this.stylesheet.fragment,imports:this._serializeImports(),schema:this.stylesheet.schema,camera:this.stylesheet.camera,light:this.stylesheet.light,lights:this.stylesheet.lights,terrain:l,fog:this.stylesheet.fog,snow:this.stylesheet.snow,rain:this.stylesheet.rain,center:this.stylesheet.center,"color-theme":this.stylesheet["color-theme"],zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:this._serializeSources(),layers:this._serializeLayers(this._order)},m=>m!==void 0)}_updateFilteredLayers(r){for(const l of Object.values(this._mergedLayers))r(l)&&this._updateLayer(l)}_updateLayer(r){this._changes.updateLayer(r);const l=this.getLayerSourceCache(r),m=d.aC(r.source,r.scope),b=this._changes.getUpdatedSourceCaches();r.source&&!b[m]&&l&&l.getSource().type!=="raster"&&(this._changes.updateSourceCache(m,"reload"),l.pause()),r.invalidateCompiledFilter()}_flattenAndSortRenderedFeatures(r){const l=D=>this._mergedLayers[D].is3D(),m=this.order,b={},w=[];for(let D=m.length-1;D>=0;D--){const Z=m[D];if(l(Z)){b[Z]=D;for(const W of r){const G=W[Z];if(G)for(const te of G)w.push(te)}}}w.sort((D,Z)=>Z.intersectionZ-D.intersectionZ);const I=[];for(let D=m.length-1;D>=0;D--){const Z=m[D];if(l(Z))for(let W=w.length-1;W>=0;W--){const G=w[W].feature;if(G.layer&&b[G.layer.id]<D)break;I.push(G),w.pop()}else for(const W of r){const G=W[Z];if(G)for(const te of G)I.push(te.feature)}}return I}queryRenderedFeatures(r,l,m){let b;l&&!Array.isArray(l)&&l.filter&&(this._validate(vi,"queryRenderedFeatures.filter",l.filter,null,l),b=d.aZ(l.filter));const w={},I=G=>{if(is.has(G.type))return;const te=this.getOwnLayerSourceCache(G),ne=w[te.id]=w[te.id]||{sourceCache:te,layers:{},has3DLayers:!1};G.is3D()&&(ne.has3DLayers=!0),ne.layers[G.fqid]=ne.layers[G.fqid]||{styleLayer:G,targets:[]},ne.layers[G.fqid].targets.push({filter:b})};if(l&&l.layers){if(!Array.isArray(l.layers))return this.fire(new d.y(new Error("parameters.layers must be an Array."))),[];for(const G of l.layers){const te=this._layers[G];if(!te)return this.fire(new d.y(new Error(`The layer '${G}' does not exist in the map's style and cannot be queried for features.`))),[];I(te)}}else for(const G in this._layers)I(this._layers[G]);const D=this._queryRenderedFeatures(r,w,m),Z=this._flattenAndSortRenderedFeatures(D),W=[];for(const G of Z)d.cs(G.layer.id)===this.scope&&W.push(G);return W}queryRenderedFeatureset(r,l,m){let b;l&&!Array.isArray(l)&&l.filter&&(this._validate(vi,"queryRenderedFeatures.filter",l.filter,null,l),b=d.aZ(l.filter));const w="mock",I=[];if(l&&l.target)I.push(Object.assign({},l,{targetId:w,filter:b}));else{const G=this.getFeaturesetDescriptors();for(const te of G)I.push({targetId:w,filter:b,target:te});for(const{style:te}of this.fragments){const ne=te.getFeaturesetDescriptors();for(const ce of ne)I.push({targetId:w,filter:b,target:ce})}}const D=this.queryRenderedTargets(r,I,m),Z=[],W=new Set;for(const G of D)for(const te of G.variants[w])Lr(te,G,W)||Z.push(new d.cw(G,te));return Z}queryRenderedTargets(r,l,m){const b={},w=(D,Z,W,G)=>{const te=b[Z.id]=b[Z.id]||{sourceCache:Z,layers:{},has3DLayers:!1};if(te.layers[D.fqid]=te.layers[D.fqid]||{styleLayer:D,targets:[]},D.is3D()&&(te.has3DLayers=!0),!G)return W.uniqueFeatureID=!1,void te.layers[D.fqid].targets.push(W);te.layers[D.fqid].targets.push(Object.assign({},W,{namespace:G.namespace,properties:G.properties,uniqueFeatureID:G.uniqueFeatureID}))};for(const D of l)if("featuresetId"in D.target){const{featuresetId:Z,importId:W}=D.target,G=this.getFragmentStyle(W);if(!G||!G._featuresetSelectors)continue;const te=G._featuresetSelectors[Z];if(!te){this.fire(new d.y(new Error(`The featureset '${Z}' does not exist in the map's style and cannot be queried for features.`)));continue}for(const ne of te){const ce=G.getOwnLayer(ne.layerId);ce&&!is.has(ce.type)&&w(ce,G.getOwnLayerSourceCache(ce),D,ne)}}else if("layerId"in D.target){const{layerId:Z}=D.target,W=this.getLayer(Z);if(!W||is.has(W.type))continue;w(W,this.getLayerSourceCache(W),D)}const I=this._queryRenderedFeatures(r,b,m);return this._flattenAndSortRenderedFeatures(I)}_queryRenderedFeatures(r,l,m){const b=[],w=!!this.map._showQueryGeometry,I=wi.createFromScreenPoints(r,m);for(const D in l){const Z=to(I,l[D],this._availableImages,m,w);Object.keys(Z).length&&b.push(Z)}if(this.placement)for(const D in l){if(!l[D].sourceCache._onlySymbols)continue;const Z=mo(I.screenGeometry,l[D],this._availableImages,this.placement.collisionIndex,this.placement.retainedQueryData);Object.keys(Z).length&&b.push(Z)}return b}querySourceFeatures(r,l){const m=l&&l.filter;m&&this._validate(vi,"querySourceFeatures.filter",m,null,l);let b=[];const w=this.getOwnSourceCaches(r);for(const I of w)b=b.concat(Io(I,l));return b}addSourceType(r,l,m){return Va.getSourceType(r)?m(new Error(`A source type called "${r}" already exists.`)):(Va.setSourceType(r,l),l.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:r,url:l.workerSourceURL},m):m(null,null))}getFlatLight(){return this.light.getLight()}setFlatLight(r,l,m={}){this._checkLoaded();const b=this.light.getLight();let w=!1;for(const D in r)if(!d.bn(r[D],b[D])){w=!0;break}if(!w)return;const I=this._getTransitionParameters();this.light.setLight(r,l,m),this.light.updateTransitions(I)}getTerrain(){return this.terrain&&this.terrain.drapeRenderMode===1?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:"",exaggeration:0},0)}checkCanvasFingerprintNoise(){this.disableElevatedTerrain===void 0&&(this.disableElevatedTerrain=d.q.hasCanvasFingerprintNoise(),this.disableElevatedTerrain&&d.w("Terrain and hillshade are disabled because of Canvas2D limitations when fingerprinting protection is enabled (e.g. in private browsing mode)."))}setTerrain(r,l=1){if(this._checkLoaded(),!r)return this.terrainSetForDrapingOnly()||(delete this.terrain,this.map.transform.projection.requiresDraping&&this.setTerrainForDraping()),l===0&&delete this.terrain,r===null?this.stylesheet.terrain=null:delete this.stylesheet.terrain,this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);this.checkCanvasFingerprintNoise();let m=r;const b=r.source==null;if(l===1){if(this.disableElevatedTerrain)return;if(typeof m.source=="object"){const D="terrain-dem-src";this.addSource(D,m.source),m=d.cp(m),m=d.l(m,{source:D})}const w=d.l({},m),I={};if(this.terrain&&b){w.source=this.terrain.get().source;const D=this.terrain?this.getFragmentStyle(this.terrain.scope):null;D&&(I.style=D.serialize())}if(this._validate(Cn,"terrain",w,I))return}if(!this.terrain||this.terrain.scope!==this.scope&&!b||this.terrain&&l!==this.terrain.drapeRenderMode){if(!m)return;this._createTerrain(m,l),this.fire(new d.z("data",{dataType:"style"}))}else{const w=this.terrain,I=w.get();for(const D of Object.keys(d.a3.terrain))!m.hasOwnProperty(D)&&d.a3.terrain[D].default&&(m[D]=d.a3.terrain[D].default);for(const D in r)if(!d.bn(r[D],I[D])){w.set(r,this.options),this.stylesheet.terrain=r;const Z=this._getTransitionParameters({duration:0});w.updateTransitions(Z),this.fire(new d.z("data",{dataType:"style"}));break}}this.mergeTerrain(),this.updateDrapeFirstLayers(),this._markersNeedUpdate=!0}_createFog(r){const l=this.fog=new Tt(r,this.map.transform,this.scope,this.options);this.stylesheet.fog=l.get();const m=this._getTransitionParameters({duration:0});l.updateTransitions(m)}_createSnow(r){const l=this.snow=new pi(r,this.map.transform,this.scope,this.options);this.stylesheet.snow=l.get();const m=this._getTransitionParameters({duration:0});l.updateTransitions(m)}_createRain(r){const l=this.rain=new ai(r,this.map.transform,this.scope,this.options);this.stylesheet.rain=l.get();const m=this._getTransitionParameters({duration:0});l.updateTransitions(m)}_updateMarkersOpacity(){this.map._markers.length!==0&&this.map._requestDomTask(()=>{for(const r of this.map._markers)r._evaluateOpacity()})}getFog(){return this.fog?this.fog.get():null}setFog(r){if(this._checkLoaded(),!r)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const l=this.fog;if(!d.bn(l.get(),r)){l.set(r,this.options),this.stylesheet.fog=l.get();const m=this._getTransitionParameters({duration:0});l.updateTransitions(m)}}else this._createFog(r);this._markersNeedUpdate=!0}getSnow(){return this.snow?this.snow.get():null}setSnow(r){if(this._checkLoaded(),!r)return delete this.snow,void delete this.stylesheet.snow;if(this.snow){const l=this.snow;if(!d.bn(l.get(),r)){l.set(r,this.options),this.stylesheet.snow=l.get();const m=this._getTransitionParameters({duration:0});l.updateTransitions(m)}}else this._createSnow(r);this._markersNeedUpdate=!0}getRain(){return this.rain?this.rain.get():null}setRain(r){if(this._checkLoaded(),!r)return delete this.rain,void delete this.stylesheet.rain;if(this.rain){const l=this.rain;if(!d.bn(l.get(),r)){l.set(r,this.options),this.stylesheet.rain=l.get();const m=this._getTransitionParameters({duration:0});l.updateTransitions(m)}}else this._createRain(r);this._markersNeedUpdate=!0}_reloadColorTheme(){const r=()=>{for(const b in this._layers)this._layers[b].lut=this._styleColorTheme.lut;for(const b in this._sourceCaches)this._sourceCaches[b].clearTiles()},l=this._styleColorTheme.colorThemeOverride?this._styleColorTheme.colorThemeOverride:this._styleColorTheme.colorTheme;if(!l)return this._styleColorTheme.lut=null,void r();const m=this._evaluateColorThemeData(l);this._loadColorTheme(m).then(()=>{this.fire(new d.z("colorthemeset")),r()}).catch(b=>{d.w(`Couldn't set color theme: ${b}`)})}setColorTheme(r){this._checkLoaded(),this._styleColorTheme.colorThemeOverride&&d.w("Note: setColorTheme is called on a style with a color-theme override, the passed color-theme won't be visible."),this._styleColorTheme.colorTheme=r,this._reloadColorTheme()}setImportColorTheme(r,l){const m=this.getFragmentStyle(r);m&&(m._styleColorTheme.colorThemeOverride=l,m._reloadColorTheme())}_getTransitionParameters(r){return{now:d.q.now(),transition:d.l(this.transition,r)}}updateDrapeFirstLayers(){if(!this.terrain)return;const r=[],l=[];for(const m of this._mergedOrder)this.isLayerDraped(this._mergedLayers[m])?r.push(m):l.push(m);this._drapedFirstOrder=[],this._drapedFirstOrder.push(...r),this._drapedFirstOrder.push(...l)}_createTerrain(r,l){const m=this.terrain=new Me(r,l,this.scope,this.options);l===1&&(this.stylesheet.terrain=r),this.mergeTerrain(),this.updateDrapeFirstLayers(),this._force3DLayerUpdate();const b=this._getTransitionParameters({duration:0});m.updateTransitions(b)}_force3DLayerUpdate(){for(const r in this._layers){const l=this._layers[r];l.type==="fill-extrusion"&&this._updateLayer(l)}}_forceSymbolLayerUpdate(){for(const r in this._layers){const l=this._layers[r];l.type==="symbol"&&this._updateLayer(l)}}_validate(r,l,m,b,w={}){if(w&&w.validate===!1)return!1;const I=d.l({},this.serialize());return Aa(this,r.call(Ra,d.l({key:l,style:I,value:m,styleSpec:d.a3},b)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),d.cx.off("pluginStateChange",this._rtlTextPluginCallback);for(const r in this._mergedLayers)this._mergedLayers[r].setEventedParent(null);for(const r in this._mergedSourceCaches)this._mergedSourceCaches[r].clearTiles(),this._mergedSourceCaches[r].setEventedParent(null);this.setEventedParent(null),delete this.fog,delete this.snow,delete this.rain,delete this.terrain,delete this.ambientLight,delete this.directionalLight,this.isRootStyle()&&(this.imageManager.setEventedParent(null),this.modelManager.setEventedParent(null),this.dispatcher.remove())}clearSource(r){const l=this.getSourceCaches(r);for(const m of l)m.clearTiles()}clearSources(){for(const r in this._mergedSourceCaches)this._mergedSourceCaches[r].clearTiles()}reloadSource(r){const l=this.getSourceCaches(r);for(const m of l)m.resume(),m.reload()}reloadSources(){for(const r of this.getSources())r.reload&&r.reload()}reloadModels(){this.modelManager.reloadModels(""),this.forEachFragmentStyle(r=>{r.modelManager.reloadModels(r.scope)})}updateSources(r){let l;this.directionalLight&&(l=_i(this.directionalLight));for(const m in this._mergedSourceCaches)this._mergedSourceCaches[m].update(r,void 0,void 0,l)}_generateCollisionBoxes(){for(const r in this._sourceCaches){const l=this._sourceCaches[r];l.resume(),l.reload()}}_updatePlacement(r,l,m,b,w,I,D=!1){let Z=!1,W=!1;const G={},te={};for(const ne of this._mergedOrder){const ce=this._mergedLayers[ne];if(ce.type!=="symbol")continue;const Te=d.aC(ce.source,ce.scope);let we=G[Te];if(!we){const Oe=this.getLayerSourceCache(ce);if(!Oe)continue;const Ge=Oe.getRenderableIds(!0).map(dt=>Oe.getTileByID(dt));te[Te]=Ge.slice(),we=G[Te]=Ge.sort((dt,st)=>st.tileID.overscaledZ-dt.tileID.overscaledZ||(dt.tileID.isLessThan(st.tileID)?-1:1))}const Re=this.crossTileSymbolIndex.addLayer(ce,we,l.center.lng,l.projection);Z=Z||Re}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._mergedOrder),D=D||this._layerOrderChanged||b===0,this._layerOrderChanged&&this.fire(new d.z("neworder")),(D||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(d.q.now(),l.zoom))&&(this.pauseablePlacement=new xc(l,this._mergedOrder,D,m,b,w,this.placement,this.fog&&l.projection.supportsFog?this.fog.state:null,this._buildingIndex),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._mergedOrder,this._mergedLayers,G,te,this.map.painter.scaleFactor),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(d.q.now()),W=!0),Z&&this.pauseablePlacement.placement.setStale()),W||Z){this._buildingIndex.onNewFrame(l.zoom);for(let ne=0;ne<this._mergedOrder.length;ne++){const ce=this._mergedLayers[this._mergedOrder[ne]];if(ce.type!=="symbol")continue;const Te=this.isLayerClipped(ce);this.placement.updateLayerOpacities(ce,G[d.aC(ce.source,ce.scope)],ne,Te?I:null)}}return{needsRerender:!this.pauseablePlacement.isDone()||this.placement.hasTransitions(d.q.now())}}_releaseSymbolFadeTiles(){for(const r in this._sourceCaches)this._sourceCaches[r].releaseSymbolFadeTiles()}addImport(r,l){this._checkLoaded();const m=this.stylesheet.imports=this.stylesheet.imports||[];if(m.findIndex(({id:w})=>w===r.id)!==-1)return void this.fire(new d.y(new Error(`Import with id '${r.id}' already exists in the map's style.`)));if(!l)return m.push(r),this._loadImports([r],!0);const b=m.findIndex(({id:w})=>w===l);return b===-1&&this.fire(new d.y(new Error(`Import with id "${l}" does not exist on this map.`))),this.stylesheet.imports=m.slice(0,b).concat(r).concat(m.slice(b)),this._loadImports([r],!0,l)}updateImport(r,l){this._checkLoaded();const m=this.stylesheet.imports||[],b=this.getImportIndex(r);return b===-1?this:typeof l=="string"?(this.setImportUrl(r,l),this):(l.url&&l.url!==m[b].url&&this.setImportUrl(r,l.url),d.bn(l.config,m[b].config)||this.setImportConfig(r,l.config,l.data.schema),d.bn(l.data,m[b].data)||this.setImportData(r,l.data),this)}moveImport(r,l){this._checkLoaded();let m=this.stylesheet.imports||[];const b=this.getImportIndex(r);if(b===-1)return this;const w=this.getImportIndex(l);if(w===-1)return this;const I=m[b],D=this.fragments[b];return m=m.filter(({id:Z})=>Z!==r),this.fragments=this.fragments.filter(({id:Z})=>Z!==r),this.stylesheet.imports=m.slice(0,w).concat(I).concat(m.slice(w)),this.fragments=this.fragments.slice(0,w).concat(D).concat(this.fragments.slice(w)),this.mergeLayers(),this}setImportUrl(r,l){this._checkLoaded();const m=this.stylesheet.imports||[],b=this.getImportIndex(r);if(b===-1)return this;m[b].url=l;const w=this.fragments[b];return w.style=this._createFragmentStyle(m[b]),w.style.on("style.import.load",()=>this.mergeAll()),w.style.loadURL(l),this}setImportData(r,l){this._checkLoaded();const m=this.getImportIndex(r),b=this.stylesheet.imports||[];return m===-1?this:l?(this.fragments[m].style.setState(l),this._reloadImports(),this):(delete b[m].data,this.setImportUrl(r,b[m].url))}setImportConfig(r,l,m){this._checkLoaded();const b=this.getImportIndex(r),w=this.stylesheet.imports||[];if(b===-1)return this;l?w[b].config=l:delete w[b].config;const I=this.fragments[b];m&&I.style.stylesheet&&(I.style.stylesheet.schema=m);const D=I.style.stylesheet&&I.style.stylesheet.schema;return I.config=l,I.style.updateConfig(l,D),this.updateConfigDependencies(),this}removeImport(r){this._checkLoaded();const l=this.stylesheet.imports||[],m=this.getImportIndex(r);m!==-1&&(l.splice(m,1),this.fragments[m].style._remove(),this.fragments.splice(m,1),this._reloadImports())}getImportIndex(r){const l=(this.stylesheet.imports||[]).findIndex(m=>m.id===r);return l===-1&&this.fire(new d.y(new Error(`Import '${r}' does not exist in the map's style and cannot be updated.`))),l}getLayer(r){return this._mergedLayers[r]}getSources(){const r=[];for(const l in this._mergedOtherSourceCaches){const m=this._mergedOtherSourceCaches[l];m&&r.push(m.getSource())}return r}getSource(r,l){const m=this.getSourceCache(r,l);return m&&m.getSource()}getLayerSource(r){const l=this.getLayerSourceCache(r);return l&&l.getSource()}getSourceCache(r,l){const m=d.aC(r,l);return this._mergedOtherSourceCaches[m]}getLayerSourceCache(r){const l=d.aC(r.source,r.scope);return r.type==="symbol"?this._mergedSymbolSourceCaches[l]:this._mergedOtherSourceCaches[l]}getSourceCaches(r){if(r==null)return Object.values(this._mergedSourceCaches);const l=[];return this._mergedOtherSourceCaches[r]&&l.push(this._mergedOtherSourceCaches[r]),this._mergedSymbolSourceCaches[r]&&l.push(this._mergedSymbolSourceCaches[r]),l}updateSourceCaches(){const r=this._changes.getUpdatedSourceCaches();for(const l in r){const m=r[l];m==="reload"?this.reloadSource(l):m==="clear"&&this.clearSource(l)}}updateLayers(r){const l=this._changes.getUpdatedPaintProperties();for(const m of l){const b=this.getLayer(m);b&&b.updateTransitions(r)}}getImages(r,l,m){this.imageManager.getImages(l.icons,l.scope,m),this._updateTilesForChangedImages();const b=w=>{w&&w.setDependencies(l.tileID.key,l.type,l.icons)};b(this._otherSourceCaches[l.source]),b(this._symbolSourceCaches[l.source])}rasterizeImages(r,l,m){this.imageManager.rasterizeImages(l,m)}getGlyphs(r,l,m){this.glyphManager.getGlyphs(l.stacks,l.scope,m)}getResource(r,l,m){return d.cy(l,m)}getOwnSourceCache(r){return this._otherSourceCaches[r]}getOwnLayerSourceCache(r){return r.type==="symbol"?this._symbolSourceCaches[r.source]:this._otherSourceCaches[r.source]}getOwnSourceCaches(r){const l=[];return this._otherSourceCaches[r]&&l.push(this._otherSourceCaches[r]),this._symbolSourceCaches[r]&&l.push(this._symbolSourceCaches[r]),l}_isSourceCacheLoaded(r){const l=this.getOwnSourceCaches(r);return l.length===0?(this.fire(new d.y(new Error(`There is no source with ID '${r}'`))),!1):l.every(m=>m.loaded())}has3DLayers(){return this._has3DLayers}hasSymbolLayers(){return this._hasSymbolLayers}hasCircleLayers(){return this._hasCircleLayers}isLayerClipped(r,l){if(!this._clipLayerPresent&&r.type!=="fill-extrusion")return!1;const m=r.type==="fill-extrusion"&&r.sourceLayer==="building";if(r.is3D()){if(m||l&&l.type==="batched-model"||r.type==="model")return!0}else if(r.type==="symbol")return!0;return!1}_clearWorkerCaches(){this.dispatcher.broadcast("clearCaches")}destroy(){this._clearWorkerCaches(),this.fragments.forEach(r=>{r.style._remove()}),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}Va.getSourceType=function(p){return Ln[p]},Va.setSourceType=function(p,r){Ln[p]=r},Va.registerForPluginStateChange=d.ch;var Ia=`
#define EPSILON 0.0000001
#define PI 3.141592653589793
#ifdef RENDER_CUTOFF
float cutoff_opacity(vec4 cutoff_params,float depth) {float near=cutoff_params.x;float far=cutoff_params.y;float cutoffStart=cutoff_params.z;float cutoffEnd=cutoff_params.w;float linearDepth=(depth-near)/(far-near);return clamp((linearDepth-cutoffStart)/(cutoffEnd-cutoffStart),0.0,1.0);}
#endif`,zs=`
out vec4 glFragColor;highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}
#ifdef INDICATOR_CUTOUT
uniform vec3 u_indicator_cutout_centers;uniform vec4 u_indicator_cutout_params;
#endif
vec4 applyCutout(vec4 color,float height) {
#ifdef INDICATOR_CUTOUT
float verticalFadeRange=u_indicator_cutout_centers.z*0.25;float holeMinOpacity=mix(1.0,u_indicator_cutout_params.x,smoothstep(u_indicator_cutout_centers.z,u_indicator_cutout_centers.z+verticalFadeRange,height));float holeRadius=max(u_indicator_cutout_params.y,0.0);float holeAspectRatio=u_indicator_cutout_params.z;float fadeStart=u_indicator_cutout_params.w;float distA=distance(vec2(gl_FragCoord.x,gl_FragCoord.y*holeAspectRatio),vec2(u_indicator_cutout_centers[0],u_indicator_cutout_centers[1]*holeAspectRatio));return color*min(smoothstep(fadeStart,holeRadius,distA)+holeMinOpacity,1.0);
#else
return color;
#endif
}
#ifdef DEBUG_WIREFRAME
#define HANDLE_WIREFRAME_DEBUG \\
glFragColor=vec4(0.7,0.0,0.0,0.7); \\
gl_FragDepth=gl_FragCoord.z-0.0001;
#else
#define HANDLE_WIREFRAME_DEBUG
#endif
#ifdef RENDER_CUTOFF
uniform highp vec4 u_cutoff_params;in float v_cutoff_opacity;
#endif
vec4 textureLodCustom(sampler2D image,highp vec2 pos,highp vec2 lod_coord) {highp vec2 size=vec2(textureSize(image,0));highp vec2 dx=dFdx(lod_coord.xy*size);highp vec2 dy=dFdy(lod_coord.xy*size);highp float delta_max_sqr=max(dot(dx,dx),dot(dy,dy));highp float lod=0.5*log2(delta_max_sqr);return textureLod(image,pos,lod);}vec4 applyLUT(highp sampler3D lut,vec4 col) {vec3 size=vec3(textureSize(lut,0));vec3 uvw=(col.rbg*float(size-1.0)+0.5)/size;return vec4(texture(lut,uvw).rgb,col.a);}vec3 applyLUT(highp sampler3D lut,vec3 col) {return applyLUT(lut,vec4(col,1.0)).rgb;}`,Wl=`
#define EXTENT 8192.0
#define RAD_TO_DEG 180.0/PI
#define DEG_TO_RAD PI/180.0
#define GLOBE_RADIUS EXTENT/PI/2.0
float wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}
#ifdef PROJECTION_GLOBE_VIEW
vec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {
#ifndef PROJECTED_POS_ON_VIEWPORT
float tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;
#else
return vec3(0.0);
#endif
}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(
unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const vec2 units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (units_to_pixels*pos+offset)/pattern_size;}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {return get_pattern_pos(pixel_coord_upper,pixel_coord_lower,pattern_size,vec2(tile_units_to_pixels),pos);}float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(PI/4.0+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}
#ifdef RENDER_CUTOFF
uniform vec4 u_cutoff_params;out float v_cutoff_opacity;
#endif
const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);const float skirtOffset=24575.0;vec3 decomposeToPosAndSkirt(vec2 posWithComposedSkirt)
{float skirt=float(posWithComposedSkirt.x >=skirtOffset);vec2 pos=posWithComposedSkirt-vec2(skirt*skirtOffset,0.0);return vec3(pos,skirt);}`,_l="in highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;out highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}",lu=`
#define ELEVATION_SCALE 7.0
#define ELEVATION_OFFSET 450.0
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(
mix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}
#else
vec3 elevationVector(vec2 pos) { return vec3(0,0,1); }
#endif
#ifdef TERRAIN
uniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float currentElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture(u_dem,pos).r;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=texture(u_dem,pos).r;float tr=texture(u_dem,pos+vec2(dd,0)).r;float bl=texture(u_dem,pos+vec2(0,dd)).r;float br=texture(u_dem,pos+vec2(dd,dd)).r;return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}float prevElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture(u_dem_prev,pos).r;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=texture(u_dem_prev,pos).r;float tr=texture(u_dem_prev,pos+vec2(dd,0)).r;float bl=texture(u_dem_prev,pos+vec2(0,dd)).r;float br=texture(u_dem_prev,pos+vec2(dd,dd)).r;return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}
#ifdef TERRAIN_VERTEX_MORPHING
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}
#else
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
return currentElevation(apos);}
#endif
vec4 fourSample(vec2 pos,vec2 off) {float tl=texture(u_dem,pos).r;float tr=texture(u_dem,pos+vec2(off.x,0.0)).r;float bl=texture(u_dem,pos+vec2(0.0,off.y)).r;float br=texture(u_dem,pos+off).r;return vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}
#else
float elevation(vec2 pos) { return 0.0; }
#endif
#ifdef DEPTH_OCCLUSION
uniform highp sampler2D u_depth;uniform highp vec2 u_depth_size_inv;uniform highp vec2 u_depth_range_unpack;uniform highp float u_occluder_half_size;uniform highp float u_occlusion_depth_offset;
#ifdef DEPTH_D24
float unpack_depth(float depth) {return depth*u_depth_range_unpack.x+u_depth_range_unpack.y;}vec4 unpack_depth4(vec4 depth) {return depth*u_depth_range_unpack.x+vec4(u_depth_range_unpack.y);}
#else
highp float unpack_depth_rgba(vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}
#endif
bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;
#ifdef DEPTH_D24
float depth=unpack_depth(texture(u_depth,(coord.xy+1.0)*0.5).r);
#else
float depth=unpack_depth_rgba(texture(u_depth,(coord.xy+1.0)*0.5));
#endif
return coord.z+u_occlusion_depth_offset > depth;}highp vec4 getCornerDepths(vec2 coord) {highp vec3 df=vec3(u_occluder_half_size*u_depth_size_inv,0.0);highp vec2 uv=0.5*coord.xy+0.5;
#ifdef DEPTH_D24
highp vec4 depth=vec4(
texture(u_depth,uv-df.xz).r,texture(u_depth,uv+df.xz).r,texture(u_depth,uv-df.zy).r,texture(u_depth,uv+df.zy).r
);depth=unpack_depth4(depth);
#else
highp vec4 depth=vec4(
unpack_depth_rgba(texture(u_depth,uv-df.xz)),unpack_depth_rgba(texture(u_depth,uv+df.xz)),unpack_depth_rgba(texture(u_depth,uv-df.zy)),unpack_depth_rgba(texture(u_depth,uv+df.zy))
);
#endif
return depth;}highp float occlusionFadeMultiSample(vec4 frag) {highp vec3 coord=frag.xyz/frag.w;highp vec2 uv=0.5*coord.xy+0.5;int NX=3;int NY=4;highp vec2 df=u_occluder_half_size*u_depth_size_inv;highp vec2 oneStep=2.0*u_occluder_half_size*u_depth_size_inv/vec2(NX-1,NY-1);highp float res=0.0;for (int y=0; y < NY;++y) {for (int x=0; x < NX;++x) {
#ifdef DEPTH_D24
highp float depth=unpack_depth(texture(u_depth,uv-df+vec2(float(x)*oneStep.x,float(y)*oneStep.y)).r);
#else
highp float depth=unpack_depth_rgba(texture(u_depth,uv-df+vec2(float(x)*oneStep.x,float(y)*oneStep.y)));
#endif
res+=1.0-clamp(300.0*(coord.z+u_occlusion_depth_offset-depth),0.0,1.0);}}res=clamp(2.0*res/float(NX*NY)-0.5,0.0,1.0);return res;}highp float occlusionFade(vec4 frag) {highp vec3 coord=frag.xyz/frag.w;highp vec4 depth=getCornerDepths(coord.xy);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z+u_occlusion_depth_offset)-depth),0.0,1.0));}
#else
bool isOccluded(vec4 frag) { return false; }highp float occlusionFade(vec4 frag) { return 1.0; }highp float occlusionFadeMultiSample(vec4 frag) { return 1.0; }
#endif//DEPTH_OCCLUSION`,Vu=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;out vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}
#endif`,kl=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump vec2 u_fog_vertical_limit;uniform mediump float u_fog_temporal_offset;in vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos,float opacity_limit) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,min(opacity,opacity_limit));}vec3 fog_apply(vec3 color,vec3 pos) {return fog_apply(color,pos,1.0);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec4 fog_apply_premultiplied(vec4 color,vec3 pos,float heightMeters) {float verticalProgress=(u_fog_vertical_limit.x > 0.0 || u_fog_vertical_limit.y > 0.0) ? smoothstep(u_fog_vertical_limit.x,u_fog_vertical_limit.y,heightMeters) : 0.0;float opacityLimit=1.0-smoothstep(0.9,1.0,fog_opacity(pos));return mix(fog_apply_premultiplied(color,pos),color,min(verticalProgress,opacityLimit));}vec3 fog_dither(vec3 color) {return color;}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}
#endif`,Ml=`#ifdef RASTER_ARRAY
uniform highp sampler2D u_image0;uniform sampler2D u_image1;const vec4 NODATA=vec4(1);ivec4 _raTexLinearCoord(highp vec2 texCoord,highp vec2 texResolution,out highp vec2 fxy) {texCoord=texCoord*texResolution-0.5;fxy=fract(texCoord);texCoord-=fxy;return ivec4(texCoord.xxyy+vec2(1.5,0.5).xyxy);}vec2 _raTexLinearMix(highp vec2 fxy,highp vec4 colorMix,highp float colorOffset,highp vec4 t00,highp vec4 t10,highp vec4 t01,highp vec4 t11) {vec2 c00=t00==NODATA ? vec2(0) : vec2(colorOffset+dot(t00,colorMix),1);vec2 c10=t10==NODATA ? vec2(0) : vec2(colorOffset+dot(t10,colorMix),1);vec2 c01=t01==NODATA ? vec2(0) : vec2(colorOffset+dot(t01,colorMix),1);vec2 c11=t11==NODATA ? vec2(0) : vec2(colorOffset+dot(t11,colorMix),1);return mix(mix(c01,c11,fxy.x),mix(c00,c10,fxy.x),fxy.y);}vec2 raTexture2D_image0_linear(highp vec2 texCoord,highp vec2 texResolution,highp vec4 colorMix,highp float colorOffset) {vec2 fxy;ivec4 c=_raTexLinearCoord(texCoord,texResolution,fxy);return _raTexLinearMix(fxy,colorMix,colorOffset,texelFetch(u_image0,c.yz,0),texelFetch(u_image0,c.xz,0),texelFetch(u_image0,c.yw,0),texelFetch(u_image0,c.xw,0)
);}vec2 raTexture2D_image1_linear(highp vec2 texCoord,highp vec2 texResolution,highp vec4 colorMix,highp float colorOffset) {vec2 fxy;ivec4 c=_raTexLinearCoord(texCoord,texResolution,fxy);return _raTexLinearMix(fxy,colorMix,colorOffset,texelFetch(u_image1,c.yz,0),texelFetch(u_image1,c.xz,0),texelFetch(u_image1,c.yw,0),texelFetch(u_image1,c.xw,0)
);}vec2 raTexture2D_image0_nearest(highp vec2 texCoord,highp vec2 texResolution,highp vec4 colorMix,highp float colorOffset) {vec4 t=texelFetch(u_image0,ivec2(texCoord*texResolution),0);return t==NODATA ? vec2(0) : vec2(colorOffset+dot(t,colorMix),1);}vec2 raTexture2D_image1_nearest(highp vec2 texCoord,highp vec2 texResolution,highp vec4 colorMix,highp float colorOffset) {vec4 t=texelFetch(u_image1,ivec2(texCoord*texResolution),0);return t==NODATA ? vec2(0) : vec2(colorOffset+dot(t,colorMix),1);}
#endif`,Al=`#ifdef RASTER_ARRAY
uniform sampler2D u_velocity;uniform mediump vec2 u_velocity_res;uniform mediump float u_max_speed;const vec4 NO_DATA=vec4(1);const vec2 INVALID_VELOCITY=vec2(-1);uniform highp vec2 u_uv_offset;uniform highp float u_data_offset;uniform highp vec2 u_data_scale;ivec4 rasterArrayLinearCoord(highp vec2 texCoord,highp vec2 texResolution,out highp vec2 fxy) {texCoord=texCoord*texResolution-0.5;fxy=fract(texCoord);texCoord-=fxy;return ivec4(texCoord.xxyy+vec2(1.5,0.5).xyxy);}highp vec2 lookup_velocity(highp vec2 uv) {uv=u_uv_offset.x+u_uv_offset.y*uv;highp vec2 fxy;ivec4 c=rasterArrayLinearCoord(uv,u_velocity_res,fxy);highp vec4 tl=texelFetch(u_velocity,c.yz,0);highp vec4 tr=texelFetch(u_velocity,c.xz,0);highp vec4 bl=texelFetch(u_velocity,c.yw,0);highp vec4 br=texelFetch(u_velocity,c.xw,0);if (tl==NO_DATA) {return INVALID_VELOCITY;}if (tr==NO_DATA) {return INVALID_VELOCITY;}if (bl==NO_DATA) {return INVALID_VELOCITY;}if (br==NO_DATA) {return INVALID_VELOCITY;}highp vec4 t=mix(mix(bl,br,fxy.x),mix(tl,tr,fxy.x),fxy.y);highp vec2 velocity=u_data_offset+vec2(dot(t.rg,u_data_scale),dot(t.ba,u_data_scale));velocity.y=-velocity.y;velocity/=max(u_max_speed,length(velocity));return velocity;}
#endif
uniform highp float u_particle_pos_scale;uniform highp vec2 u_particle_pos_offset;highp vec4 pack_pos_to_rgba(highp vec2 p) {highp vec2 v=(p+u_particle_pos_offset)/u_particle_pos_scale;highp vec4 r=vec4(v.x,fract(v.x*255.0),v.y,fract(v.y*255.0));return vec4(r.x-r.y/255.0,r.y,r.z-r.w/255.0,r.w);}highp vec2 unpack_pos_from_rgba(highp vec4 v) {v=floor(v*255.0+0.5)/255.0;highp vec2 p=vec2(v.x+(v.y/255.0),v.z+(v.w/255.0));return u_particle_pos_scale*p-u_particle_pos_offset;}`,dc=`#ifdef RENDER_SHADOWS
uniform mediump vec3 u_shadow_direction;uniform highp vec3 u_shadow_normal_offset;vec3 shadow_normal_offset(vec3 normal) {float tileInMeters=u_shadow_normal_offset[0];vec3 n=vec3(-normal.xy,tileInMeters*normal.z);float dotScale=min(1.0-dot(normal,u_shadow_direction),1.0)*0.5+0.5;return n*dotScale;}vec3 shadow_normal_offset_model(vec3 normal) {vec3 transformed_normal=vec3(-normal.xy,normal.z);float NDotL=dot(normalize(transformed_normal),u_shadow_direction);float dotScale=min(1.0-NDotL,1.0)*0.5+0.5;return normal*dotScale;}float shadow_normal_offset_multiplier0() {return u_shadow_normal_offset[1];}float shadow_normal_offset_multiplier1() {return u_shadow_normal_offset[2];}
#endif//RENDER_SHADOWS`,fc=`#ifdef RENDER_SHADOWS
#ifdef DEPTH_TEXTURE
uniform highp sampler2D u_shadowmap_0;uniform highp sampler2D u_shadowmap_1;
#else
uniform sampler2D u_shadowmap_0;uniform sampler2D u_shadowmap_1;
#endif
uniform float u_shadow_intensity;uniform float u_shadow_map_resolution;uniform float u_shadow_texel_size;uniform highp vec3 u_shadow_normal_offset;uniform vec2 u_fade_range;uniform mediump vec3 u_shadow_direction;uniform highp vec3 u_shadow_bias;highp float shadow_sample_1(highp vec2 uv,highp float compare) {highp float shadow_depth;
#ifdef DEPTH_TEXTURE
shadow_depth=texture(u_shadowmap_1,uv).r;
#else
shadow_depth=unpack_depth(texture(u_shadowmap_1,uv))*0.5+0.5;
#endif
return step(shadow_depth,compare);}highp float shadow_sample_0(highp vec2 uv,highp float compare) {highp float shadow_depth;
#ifdef DEPTH_TEXTURE
shadow_depth=texture(u_shadowmap_0,uv).r;
#else
shadow_depth=unpack_depth(texture(u_shadowmap_0,uv))*0.5+0.5;
#endif
return step(shadow_depth,compare);}float shadow_occlusion_1(highp vec4 pos,highp float bias) {highp vec2 uv=pos.xy;return shadow_sample_1(uv,pos.z-bias);}float shadow_occlusion_0(highp vec4 pos,highp float bias) {highp float compare0=pos.z-bias;
#ifdef TEXTURE_GATHER
highp vec2 uv=pos.xy;highp vec4 samples=textureGather(u_shadowmap_0,uv,0);lowp vec4 stepSamples=step(samples,vec4(compare0));
#else
highp vec2 uv00=pos.xy-vec2(0.5*u_shadow_texel_size);highp vec2 uv10=uv00+vec2(u_shadow_texel_size,0.0);highp vec2 uv01=uv00+vec2(0.0,u_shadow_texel_size);highp vec2 uv11=uv01+vec2(u_shadow_texel_size,0.0);lowp vec4 stepSamples=vec4(
shadow_sample_0(uv01,compare0),shadow_sample_0(uv11,compare0),shadow_sample_0(uv10,compare0),shadow_sample_0(uv00,compare0)
);
#endif
vec2 f=fract(pos.xy*u_shadow_map_resolution-vec2(0.5));lowp vec2 lerpx=mix(stepSamples.wx,stepSamples.zy,f.xx);return mix(lerpx.x,lerpx.y,f.y);}float shadow_occlusion(highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth,highp float bias) {
#ifdef SHADOWS_SINGLE_CASCADE
light_view_pos0.xyz/=light_view_pos0.w;vec2 abs_bounds=abs(light_view_pos0.xy);if (abs_bounds.x >=1.0 || abs_bounds.y >=1.0) {return 0.0;}light_view_pos0.xyz=light_view_pos0.xyz*0.5+0.5;return shadow_occlusion_0(light_view_pos0,bias);
#else
light_view_pos0.xyz/=light_view_pos0.w;light_view_pos1.xyz/=light_view_pos1.w;vec4 uv=vec4(light_view_pos0.xy,light_view_pos1.xy);vec4 abs_bounds=abs(uv);if (abs_bounds.x < 1.0 && abs_bounds.y < 1.0) {light_view_pos0.xyz=light_view_pos0.xyz*0.5+0.5;return shadow_occlusion_0(light_view_pos0,bias);}if (abs_bounds.z >=1.0 || abs_bounds.w >=1.0) {return 0.0;}light_view_pos1.xyz=light_view_pos1.xyz*0.5+0.5;float occlusion1=shadow_occlusion_1(light_view_pos1,bias);return mix(occlusion1,0.0,smoothstep(u_fade_range.x,u_fade_range.y,view_depth));
#endif
}highp float calculate_shadow_bias(float NDotL) {
#ifdef NORMAL_OFFSET
return 0.5*u_shadow_bias.x;
#else
return 0.5*(u_shadow_bias.x+clamp(u_shadow_bias.y*tan(acos(NDotL)),0.0,u_shadow_bias.z));
#endif
}float shadowed_light_factor_normal(vec3 N,highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {float NDotL=dot(N,u_shadow_direction);float bias=calculate_shadow_bias(NDotL);float occlusion=shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);return mix(0.0,(1.0-(u_shadow_intensity*occlusion))*NDotL,step(0.0,NDotL));}float shadowed_light_factor_normal_opacity(vec3 N,highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth,float shadow_opacity) {float NDotL=dot(N,u_shadow_direction);float bias=calculate_shadow_bias(NDotL);float occlusion=shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias)*shadow_opacity;return mix(0.0,(1.0-(u_shadow_intensity*occlusion))*NDotL,step(0.0,NDotL));}float shadowed_light_factor_normal_unbiased(vec3 N,highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {float NDotL=dot(N,u_shadow_direction);float bias=0.0;float occlusion=shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);return mix(0.0,(1.0-(u_shadow_intensity*occlusion))*NDotL,step(0.0,NDotL));}highp vec2 compute_receiver_plane_depth_bias(highp vec3 pos_dx,highp vec3 pos_dy)
{highp vec2 biasUV=vec2(
pos_dy.y*pos_dx.z-pos_dx.y*pos_dy.z,pos_dx.x*pos_dy.z-pos_dy.x*pos_dx.z);biasUV*=1.0/((pos_dx.x*pos_dy.y)-(pos_dx.y*pos_dy.x));return biasUV;}float shadowed_light_factor_plane_bias(highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {highp vec3 light_view_pos0_xyz=light_view_pos0.xyz/light_view_pos0.w*0.5+0.5;highp vec3 light_view_pos0_ddx=dFdx(light_view_pos0_xyz);highp vec3 light_view_pos0_ddy=dFdy(light_view_pos0_xyz);highp vec2 plane_depth_bias=compute_receiver_plane_depth_bias(light_view_pos0_ddx,light_view_pos0_ddy);highp float bias=dot(vec2(u_shadow_texel_size,u_shadow_texel_size),plane_depth_bias)+0.0001;float occlusion=shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);return 1.0-(u_shadow_intensity*occlusion);}float shadowed_light_factor(highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {float bias=0.0;float occlusion=shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);return 1.0-(u_shadow_intensity*occlusion);}float shadow_occlusion(float ndotl,highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {float bias=calculate_shadow_bias(ndotl);return shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);}
#endif`;const Dl=[];Zl(Ia,Dl),Zl(Wl,Dl),Zl(zs,Dl);const jl={"_prelude_fog.vertex.glsl":Vu,"_prelude_terrain.vertex.glsl":lu,"_prelude_shadow.vertex.glsl":dc,"_prelude_fog.fragment.glsl":kl,"_prelude_shadow.fragment.glsl":fc,"_prelude_lighting.glsl":`
#ifdef LIGHTING_3D_MODE
uniform mediump vec3 u_lighting_ambient_color;uniform mediump vec3 u_lighting_directional_dir;uniform mediump vec3 u_lighting_directional_color;uniform mediump vec3 u_ground_radiance;float calculate_ambient_directional_factor(vec3 normal) {float NdotL=dot(normal,u_lighting_directional_dir);const float factor_reduction_max=0.3;float dir_luminance=dot(u_lighting_directional_color,vec3(0.2126,0.7152,0.0722));float directional_factor_min=1.0-factor_reduction_max*min(dir_luminance,1.0);float ambient_directional_factor=mix(directional_factor_min,1.0,min((NdotL+1.0),1.0));const float vertical_factor_min=0.92;float vertical_factor=mix(vertical_factor_min,1.0,normal.z*0.5+0.5);return vertical_factor*ambient_directional_factor;}vec3 linearProduct(vec3 srgbIn,vec3 k) {return srgbIn*pow(k,vec3(1./2.2));}vec3 apply_lighting(vec3 color,vec3 normal,float dir_factor) {float ambient_directional_factor=calculate_ambient_directional_factor(normal);vec3 ambient_contrib=ambient_directional_factor*u_lighting_ambient_color;vec3 directional_contrib=u_lighting_directional_color*dir_factor;return linearProduct(color,ambient_contrib+directional_contrib);}vec4 apply_lighting(vec4 color,vec3 normal,float dir_factor) {return vec4(apply_lighting(color.rgb,normal,dir_factor),color.a);}vec3 apply_lighting(vec3 color,vec3 normal) {float dir_factor=max(dot(normal,u_lighting_directional_dir),0.0);return apply_lighting(color.rgb,normal,dir_factor);}vec4 apply_lighting(vec4 color,vec3 normal) {float dir_factor=max(dot(normal,u_lighting_directional_dir),0.0);return vec4(apply_lighting(color.rgb,normal,dir_factor),color.a);}vec3 apply_lighting_ground(vec3 color) {return color*u_ground_radiance;}vec4 apply_lighting_ground(vec4 color) {return vec4(apply_lighting_ground(color.rgb),color.a);}float calculate_NdotL(vec3 normal) {const float ext=0.70710678118;return (clamp(dot(normal,u_lighting_directional_dir),-ext,1.0)+ext)/(1.0+ext);}vec4 apply_lighting_with_emission_ground(vec4 color,float emissive_strength) {return mix(apply_lighting_ground(color),color,emissive_strength);}vec3 compute_flood_lighting(vec3 flood_light_color,float fully_occluded_factor,float occlusion,vec3 ground_shadow_factor) {vec3 fully_occluded_color=flood_light_color*mix(ground_shadow_factor,vec3(1.0),fully_occluded_factor);float occlusion_ramp=smoothstep(0.0,0.2,1.0-occlusion);return mix(fully_occluded_color,flood_light_color,occlusion_ramp);}vec3 compute_emissive_draped(vec3 unlit_color,float fully_occluded_factor,float occlusion,vec3 ground_shadow_factor) {vec3 fully_occluded_color=unlit_color*mix(ground_shadow_factor,vec3(1.0),fully_occluded_factor);return mix(fully_occluded_color,unlit_color,1.0-occlusion);}
#endif//LIGHTING_3D_MODE`,"_prelude_raster_array.glsl":Ml,"_prelude_raster_particle.glsl":Al},Qs={};Na("",lu),Na(kl,Vu),Na(fc,dc),Na(Ml,""),Na(Al,"");const Jo=Na(zs,Wl),ec=Ia;var Cc={background:Na(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform vec4 u_color;uniform float u_opacity;
#ifdef LIGHTING_3D_MODE
in vec4 v_color;
#endif
void main() {vec4 out_color;
#ifdef LIGHTING_3D_MODE
out_color=v_color;
#else
out_color=u_color;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_lighting.glsl"
in vec2 a_pos;uniform mat4 u_matrix;
#ifdef LIGHTING_3D_MODE
uniform mediump vec4 u_color;out vec4 v_color;uniform float u_emissive_strength;
#endif
void main() {gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting_with_emission_ground(u_color,u_emissive_strength);
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),backgroundPattern:Na(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform vec2 u_pattern_tl;uniform vec2 u_pattern_br;uniform vec2 u_texsize;uniform float u_opacity;uniform float u_emissive_strength;uniform sampler2D u_image;in highp vec2 v_pos;void main() {highp vec2 imagecoord=mod(v_pos,1.0);highp vec2 pos=mix(u_pattern_tl/u_texsize,u_pattern_br/u_texsize,imagecoord);vec4 out_color=textureLodCustom(u_image,pos,v_pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform vec2 u_pattern_size;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec2 u_pattern_units_to_pixels;in vec2 a_pos;out highp vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_pattern_size,u_pattern_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),circle:Na(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
in vec3 v_data;in float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
uniform float u_emissive_strength;void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float blur_positive=blur < 0.0 ? 0.0 : 1.0;lowp float antialiasblur=v_data.z;float extrude_length=length(extrude)+antialiasblur*(1.0-blur_positive);float antialiased_blur=-max(abs(blur),antialiasblur);float antialiase_blur_opacity=smoothstep(0.0,antialiasblur,extrude_length-1.0);float opacity_t=blur_positive==1.0 ? 
smoothstep(0.0,-antialiased_blur,1.0-extrude_length) : 
smoothstep(antialiased_blur,0.0,extrude_length-1.0)-antialiase_blur_opacity;float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(
antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)
);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#endif
#ifdef FOG
out_color=fog_apply_premultiplied(out_color,v_fog_pos);
#endif
glFragColor=out_color*(v_visibility*opacity_t);
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
#define NUM_VISIBILITY_RINGS 2
#define INV_SQRT2 0.70710678
#define ELEVATION_BIAS 0.0001
#define NUM_SAMPLES_PER_RING 16
uniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;in vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_pos_3;in vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
#ifdef ELEVATED_ROADS
in float a_circle_z_offset;
#endif
out vec3 v_data;out float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
vec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {
#if defined(TERRAIN)
return elevation(pos)+ELEVATION_BIAS;
#else
return 0.0;
#endif
}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);
#ifdef PITCH_WITH_MAP
#ifdef PROJECTION_GLOBE_VIEW
return u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );
#else
return u_matrix*( world_center+vec4(sample_offset,0,0) );
#endif
#else
return projected_center+vec4(sample_offset,0,0);
#endif
}float get_sample_step() {
#ifdef PITCH_WITH_MAP
return 2.0*PI/float(NUM_SAMPLES_PER_RING);
#else
return PI/float(NUM_SAMPLES_PER_RING);
#endif
}void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);vec4 world_center;mat3 surface_vectors;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);world_center=vec4(pos,1);
#else 
surface_vectors=mat3(1.0);float height=circle_elevation(circle_center);world_center=vec4(circle_center,height,1);
#endif
#ifdef ELEVATED_ROADS
world_center.z+=a_circle_z_offset+ELEVATION_BIAS;
#endif
vec4 projected_center=u_matrix*world_center;float view_scale=0.0;
#ifdef PITCH_WITH_MAP
#ifdef SCALE_WITH_MAP
view_scale=1.0;
#else
view_scale=projected_center.w/u_camera_to_center_distance;
#endif
#else
#ifdef SCALE_WITH_MAP
view_scale=u_camera_to_center_distance;
#else
view_scale=projected_center.w;
#endif
#endif
gl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;
#ifdef TERRAIN
float step=get_sample_step();vec4 occlusion_world_center;vec4 occlusion_projected_center;
#ifdef PITCH_WITH_MAP
float cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);occlusion_world_center=vec4(circle_center,cantilevered_height,1);occlusion_projected_center=u_matrix*occlusion_world_center;
#else
occlusion_world_center=world_center;occlusion_projected_center=projected_center;
#endif
for(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);
#else
visibility=1.0;
#endif
#ifdef PROJECTION_GLOBE_VIEW
visibility=1.0;
#endif
v_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);
#ifdef FOG
v_fog_pos=fog_position(world_center.xyz);
#endif
}`),clippingMask:Na("void main() {glFragColor=vec4(1.0);}","in vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:Na(`#include "_prelude_fog.fragment.glsl"
uniform highp float u_intensity;in vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);glFragColor=vec4(val,1.0,1.0,1.0);
#ifdef FOG
if (u_is_globe==0) {glFragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}
#endif
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_terrain.vertex.glsl"
#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;in vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_pos_3;in vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
out vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);vec3 pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#else
pos=vec3(tilePos+extrude,elevation(tilePos));
#endif
gl_Position=u_matrix*vec4(pos,1);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),heatmapTexture:Na(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;in vec2 v_pos;void main() {float t=texture(u_image,v_pos).r;vec4 color=texture(u_color_ramp,vec2(t,0.5));glFragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(0.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,"in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:Na("in float v_placed;in float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);glFragColor =mix(red,blue,step(0.5,v_placed))*0.5;glFragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}",`#include "_prelude_terrain.vertex.glsl"
in vec3 a_pos;in vec2 a_anchor_pos;in vec2 a_extrude;in vec2 a_placed;in vec2 a_shift;in vec2 a_elevation_from_sea;in float a_size_scale;in vec2 a_padding;in float a_auto_z_offset;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;out float v_placed;out float v_notUsed;void main() {float feature_elevation=a_elevation_from_sea.x+a_auto_z_offset;float terrain_elevation=(a_elevation_from_sea.y==1.0 ? 0.0 : elevation(a_anchor_pos));vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*(feature_elevation+terrain_elevation),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}`),collisionCircle:Na("in float v_radius;in vec2 v_extrude;in float v_perspective_ratio;in float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);glFragColor=color*alpha*opacity_t;}",`in vec2 a_pos_2f;in float a_radius;in vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;out float v_radius;out vec2 v_extrude;out float v_perspective_ratio;out float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(
mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}`),debug:Na("uniform highp vec4 u_color;uniform sampler2D u_overlay;in vec2 v_uv;void main() {vec4 overlay_color=texture(u_overlay,v_uv);glFragColor=mix(u_color,overlay_color,overlay_color.a);}",`#include "_prelude_terrain.vertex.glsl"
in vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_pos_3;
#endif
out vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;
#ifdef PROJECTION_GLOBE_VIEW
gl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);
#else
gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);
#endif
}`),fill:Na(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
#include "_prelude_shadow.fragment.glsl"
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
uniform float u_emissive_strength;
#ifdef RENDER_SHADOWS
uniform vec3 u_ground_shadow_factor;in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;in highp float v_depth;
#endif
#ifdef INDICATOR_CUTOUT
in highp float v_z_offset;
#endif
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
vec4 out_color=color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#ifdef RENDER_SHADOWS
float light=shadowed_light_factor(v_pos_light_view_0,v_pos_light_view_1,v_depth);out_color.rgb*=mix(u_ground_shadow_factor,vec3(1.0),light);
#endif
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
out_color*=opacity;
#ifdef INDICATOR_CUTOUT
if (v_z_offset >=0.0) {out_color=applyCutout(out_color,v_z_offset);}
#endif
glFragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
in vec2 a_pos;
#ifdef ELEVATED_ROADS
in float a_road_z_offset;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;out highp float v_depth;
#endif
#ifdef INDICATOR_CUTOUT
out highp float v_z_offset;
#endif
uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp float z_offset
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp float z_offset
#ifdef ELEVATED_ROADS
z_offset+=a_road_z_offset;
#endif
float hidden=float(opacity==0.0);gl_Position=mix(u_matrix*vec4(a_pos,z_offset,1),AWAY,hidden);
#ifdef RENDER_SHADOWS
vec3 shd_pos0=vec3(a_pos,z_offset);vec3 shd_pos1=vec3(a_pos,z_offset);
#ifdef NORMAL_OFFSET
vec3 offset=shadow_normal_offset(vec3(0.0,0.0,1.0));shd_pos0+=offset*shadow_normal_offset_multiplier0();shd_pos1+=offset*shadow_normal_offset_multiplier1();
#endif
v_pos_light_view_0=u_light_matrix_0*vec4(shd_pos0,1);v_pos_light_view_1=u_light_matrix_1*vec4(shd_pos1,1);v_depth=gl_Position.w;
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
#ifdef INDICATOR_CUTOUT
v_z_offset=z_offset;
#endif
}`),fillOutline:Na(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
#include "_prelude_shadow.fragment.glsl"
in highp vec2 v_pos;uniform float u_emissive_strength;
#ifdef RENDER_SHADOWS
uniform vec3 u_ground_shadow_factor;in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;in highp float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#ifdef RENDER_SHADOWS
float light=shadowed_light_factor(v_pos_light_view_0,v_pos_light_view_1,v_depth);out_color.rgb*=mix(u_ground_shadow_factor,vec3(1.0),light);
#endif
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
in vec2 a_pos;
#ifdef ELEVATED_ROADS
in float a_road_z_offset;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;out highp float v_depth;
#endif
uniform mat4 u_matrix;uniform vec2 u_world;out highp vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp float z_offset
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp float z_offset
#ifdef ELEVATED_ROADS
z_offset+=a_road_z_offset;
#endif
float hidden=float(opacity==0.0);gl_Position=mix(u_matrix*vec4(a_pos,z_offset,1),AWAY,hidden);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef RENDER_SHADOWS
vec3 shd_pos0=vec3(a_pos,z_offset);vec3 shd_pos1=vec3(a_pos,z_offset);
#ifdef NORMAL_OFFSET
vec3 offset=shadow_normal_offset(vec3(0.0,0.0,1.0));shd_pos0+=offset*shadow_normal_offset_multiplier0();shd_pos1+=offset*shadow_normal_offset_multiplier1();
#endif
v_pos_light_view_0=u_light_matrix_0*vec4(shd_pos0,1);v_pos_light_view_1=u_light_matrix_1*vec4(shd_pos1,1);v_depth=gl_Position.w;
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutlinePattern:Na(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
#include "_prelude_shadow.fragment.glsl"
uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_emissive_strength;
#ifdef RENDER_SHADOWS
uniform vec3 u_ground_shadow_factor;in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;in highp float v_depth;
#endif
in highp vec2 v_pos;in highp vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;highp vec2 imagecoord=mod(v_pos,1.0);highp vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);highp vec2 lod_pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,v_pos);float dist=length(v_pos_world-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=textureLodCustom(u_image,pos,lod_pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#ifdef RENDER_SHADOWS
float light=shadowed_light_factor(v_pos_light_view_0,v_pos_light_view_1,v_depth);out_color.rgb*=mix(u_ground_shadow_factor,vec3(1.0),light);
#endif
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;in vec2 a_pos;
#ifdef ELEVATED_ROADS
in float a_road_z_offset;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;out highp float v_depth;
#endif
out highp vec2 v_pos;out highp vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
#pragma mapbox: define highp float z_offset
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
#pragma mapbox: initialize highp float z_offset
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;
#ifdef ELEVATED_ROADS
z_offset+=a_road_z_offset;
#endif
float hidden=float(opacity==0.0);gl_Position=mix(u_matrix*vec4(a_pos,z_offset,1),AWAY,hidden);vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);v_pos_world=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef RENDER_SHADOWS
vec3 shd_pos0=vec3(a_pos,z_offset);vec3 shd_pos1=vec3(a_pos,z_offset);
#ifdef NORMAL_OFFSET
vec3 offset=shadow_normal_offset(vec3(0.0,0.0,1.0));shd_pos0+=offset*shadow_normal_offset_multiplier0();shd_pos1+=offset*shadow_normal_offset_multiplier1();
#endif
v_pos_light_view_0=u_light_matrix_0*vec4(shd_pos0,1);v_pos_light_view_1=u_light_matrix_1*vec4(shd_pos1,1);v_depth=gl_Position.w;
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillPattern:Na(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
#include "_prelude_shadow.fragment.glsl"
uniform vec2 u_texsize;uniform sampler2D u_image;in highp vec2 v_pos;uniform float u_emissive_strength;
#ifdef RENDER_SHADOWS
uniform vec3 u_ground_shadow_factor;in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;in highp float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;highp vec2 imagecoord=mod(v_pos,1.0);highp vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);highp vec2 lod_pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,v_pos);vec4 out_color=textureLodCustom(u_image,pos,lod_pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#ifdef RENDER_SHADOWS
float light=shadowed_light_factor(v_pos_light_view_0,v_pos_light_view_1,v_depth);out_color.rgb*=mix(u_ground_shadow_factor,vec3(1.0),light);
#endif
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;in vec2 a_pos;
#ifdef ELEVATED_ROADS
in float a_road_z_offset;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;out highp float v_depth;
#endif
out highp vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
#pragma mapbox: define highp float z_offset
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
#pragma mapbox: initialize highp float z_offset
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;
#ifdef ELEVATED_ROADS
z_offset+=a_road_z_offset;
#endif
float hidden=float(opacity==0.0);gl_Position=mix(u_matrix*vec4(a_pos,z_offset,1),AWAY,hidden);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);
#ifdef RENDER_SHADOWS
vec3 shd_pos0=vec3(a_pos,z_offset);vec3 shd_pos1=vec3(a_pos,z_offset);
#ifdef NORMAL_OFFSET
vec3 offset=shadow_normal_offset(vec3(0.0,0.0,1.0));shd_pos0+=offset*shadow_normal_offset_multiplier0();shd_pos1+=offset*shadow_normal_offset_multiplier1();
#endif
v_pos_light_view_0=u_light_matrix_0*vec4(shd_pos0,1);v_pos_light_view_1=u_light_matrix_1*vec4(shd_pos1,1);v_depth=gl_Position.w;
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillExtrusion:Na(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_shadow.fragment.glsl"
#include "_prelude_lighting.glsl"
in vec4 v_color;in vec4 v_flat;
#ifdef RENDER_SHADOWS
in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;
#endif
uniform lowp float u_opacity;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;in vec2 v_ao;
#endif
#if defined(ZERO_ROOF_RADIUS) && !defined(LIGHTING_3D_MODE)
in vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS) || defined(LIGHTING_3D_MODE)
in highp vec3 v_normal;
#endif
uniform vec3 u_flood_light_color;uniform highp float u_vertical_scale;uniform float u_flood_light_intensity;uniform vec3 u_ground_shadow_factor;
#if defined(LIGHTING_3D_MODE) && defined(FLOOD_LIGHT)
in float v_flood_radius;in float v_has_floodlight;
#endif
in float v_height;
#pragma mapbox: define highp float emissive_strength
void main() {
#pragma mapbox: initialize highp float emissive_strength
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS) || defined(LIGHTING_3D_MODE)
vec3 normal=normalize(v_normal);
#endif
float z;vec4 color=v_color;
#ifdef ZERO_ROOF_RADIUS
z=float(normal.z > 0.00001);
#ifdef LIGHTING_3D_MODE
normal=mix(normal,vec3(0.0,0.0,1.0),z);
#else
color=mix(v_color,v_roof_color,z);
#endif
#endif
float h=max(0.0,v_height);float ao_shade=1.0;
#ifdef FAUX_AO
float intensity=u_ao[0];float h_floors=h/(u_ao[1]*u_vertical_scale);float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);ao_shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;
#ifdef ZERO_ROOF_RADIUS
concave*=(1.0-z);
#endif
float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);ao_shade*=mix(1.0,x_shade*x_shade*x_shade,concave);
#ifdef LIGHTING_3D_MODE
#ifdef FLOOD_LIGHT
color.rgb*=mix(ao_shade,1.0,v_has_floodlight);
#else
color.rgb*=ao_shade;
#endif
#else
color.rgb*=ao_shade;
#endif
#endif
#ifdef LIGHTING_3D_MODE
float flood_radiance=0.0;
#ifdef FLOOD_LIGHT
flood_radiance=(1.0-min(h/v_flood_radius,1.0))*u_flood_light_intensity*v_has_floodlight;
#endif
#ifdef RENDER_SHADOWS
#ifdef FLOOD_LIGHT
float ndotl_unclamped=dot(normal,u_shadow_direction);float ndotl=max(0.0,ndotl_unclamped);float occlusion=ndotl_unclamped < 0.0 ? 1.0 : shadow_occlusion(ndotl,v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w);vec3 litColor=apply_lighting(color.rgb,normal,(1.0-u_shadow_intensity*occlusion)*ndotl);vec3 floodLitColor=compute_flood_lighting(u_flood_light_color*u_opacity,1.0-u_shadow_intensity,occlusion,u_ground_shadow_factor);color.rgb=mix(litColor,floodLitColor,flood_radiance);
#else
float shadowed_lighting_factor;
#ifdef RENDER_CUTOFF
shadowed_lighting_factor=shadowed_light_factor_normal_opacity(normal,v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w,v_cutoff_opacity);if (v_cutoff_opacity==0.0) {discard;}
#else
shadowed_lighting_factor=shadowed_light_factor_normal(normal,v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w);
#endif
color.rgb=apply_lighting(color.rgb,normal,shadowed_lighting_factor);
#endif
#else
color.rgb=apply_lighting(color.rgb,normal);
#ifdef FLOOD_LIGHT
color.rgb=mix(color.rgb,u_flood_light_color*u_opacity,flood_radiance);
#endif
#endif
color.rgb=mix(color.rgb,v_flat.rgb,emissive_strength);color*=u_opacity;
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos,h));
#endif
#ifdef INDICATOR_CUTOUT
color=applyCutout(color,h);
#endif
glFragColor=color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
#include "_prelude_lighting.glsl"
uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;uniform float u_width_scale;in vec4 a_pos_normal_ed;in vec2 a_centroid_pos;
#ifdef RENDER_WALL_MODE
in vec3 a_join_normal_inside;
#endif
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_pos_3;in vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
#ifdef TERRAIN
uniform int u_height_type;uniform int u_base_type;
#endif
uniform highp float u_vertical_scale;out vec4 v_color;out vec4 v_flat;
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;
#endif
#if defined(ZERO_ROOF_RADIUS) && !defined(LIGHTING_3D_MODE)
out vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS) || defined(LIGHTING_3D_MODE)
out highp vec3 v_normal;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;out vec2 v_ao;
#endif
#if defined(LIGHTING_3D_MODE) && defined(FLOOD_LIGHT)
out float v_flood_radius;out float v_has_floodlight;
#endif
out float v_height;vec3 linearTosRGB(vec3 color) {return pow(color,vec3(1./2.2));}vec3 sRGBToLinear(vec3 srgbIn) {return pow(srgbIn,vec3(2.2));}
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
#pragma mapbox: define highp float flood_light_wall_radius
#pragma mapbox: define highp float line_width
#pragma mapbox: define highp float emissive_strength
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize highp float flood_light_wall_radius
#pragma mapbox: initialize highp float line_width
#pragma mapbox: initialize highp float emissive_strength
base*=u_vertical_scale;height*=u_vertical_scale;vec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS) || defined(LIGHTING_3D_MODE)
v_normal=normal;
#endif
base=max(0.0,base);float attr_height=height;height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=0.0;float c_ele=0.0;vec3 pos;
#ifdef TERRAIN
bool is_flat_height=centroid_pos.x !=0.0 && u_height_type==1;bool is_flat_base=centroid_pos.x !=0.0 && u_base_type==1;ele=elevation(pos_nx.xy);c_ele=is_flat_height || is_flat_base ? (centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos)) : ele;float h_height=is_flat_height ? max(c_ele+height,ele+base+2.0) : ele+height;float h_base=is_flat_base ? max(c_ele+base,ele+base) : ele+(base==0.0 ?-5.0 : base);h=t > 0.0 ? max(h_base,h_height) : h_base;pos=vec3(pos_nx.xy,h);
#else
h=t > 0.0 ? height : base;pos=vec3(pos_nx.xy,h);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float cutoff=1.0;vec3 scaled_pos=pos;
#ifdef RENDER_CUTOFF
vec3 centroid_random=vec3(centroid_pos.xy,centroid_pos.x+centroid_pos.y+1.0);vec3 ground_pos=centroid_pos.x==0.0 ? pos.xyz : (centroid_random/8.0);vec4 ground=u_matrix*vec4(ground_pos.xy,ele,1.0);cutoff=cutoff_opacity(u_cutoff_params,ground.z);if (centroid_pos.y !=0.0 && centroid_pos.x !=0.0) {vec3 g=floor(ground_pos);vec3 mod_=centroid_random-g*8.0;float seed=min(1.0,0.1*(min(3.5,max(mod_.x+mod_.y,0.2*attr_height))*0.35+mod_.z));if (cutoff < 0.8-seed) {cutoff=0.0;}}float cutoff_scale=cutoff;v_cutoff_opacity=cutoff;scaled_pos.z=mix(c_ele,h,cutoff_scale);
#endif
float hidden=float((centroid_pos.x==0.0 && centroid_pos.y==1.0) || (cutoff==0.0 && centroid_pos.x !=0.0) || (color.a==0.0));
#ifdef RENDER_WALL_MODE
vec2 wall_offset=u_width_scale*line_width*(a_join_normal_inside.xy/EXTENT);scaled_pos.xy+=(1.0-a_join_normal_inside.z)*wall_offset*0.5;scaled_pos.xy-=a_join_normal_inside.z*wall_offset*0.5;
#endif
gl_Position=mix(u_matrix*vec4(scaled_pos,1),AWAY,hidden);h=h-ele;v_height=h;
#ifdef RENDER_SHADOWS
vec3 shd_pos0=pos;vec3 shd_pos1=pos;
#ifdef NORMAL_OFFSET
vec3 offset=shadow_normal_offset(normal);shd_pos0+=offset*shadow_normal_offset_multiplier0();shd_pos1+=offset*shadow_normal_offset_multiplier1();
#endif
v_pos_light_view_0=u_light_matrix_0*vec4(shd_pos0,1);v_pos_light_view_1=u_light_matrix_1*vec4(shd_pos1,1);
#endif
float NdotL=0.0;float colorvalue=0.0;
#ifndef LIGHTING_3D_MODE
colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),NdotL);if (normal.y !=0.0) {float r=0.84;r=mix(0.7,0.98,1.0-u_lightintensity);NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}
#endif
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec2(mix(concave,-concave,start),y_ground);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
#ifdef FLOOD_LIGHT
float is_wall=1.0-float(t > 0.0 && top_up_ny.y > 0.0);v_has_floodlight=float(flood_light_wall_radius > 0.0 && is_wall > 0.0);v_flood_radius=flood_light_wall_radius*u_vertical_scale;
#endif
v_color=vec4(color.rgb,1.0);float ndotl=calculate_NdotL(normal);v_flat.rgb=sRGBToLinear(color.rgb);v_flat.rgb=v_flat.rgb*(ndotl+(1.0-min(ndotl*57.29,1.0))*emissive_strength);v_flat=vec4(linearTosRGB(v_flat.rgb),1.0);
#else
v_color=vec4(0.0,0.0,0.0,1.0);v_color.rgb+=clamp(color.rgb*NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_color*=u_opacity;
#endif
#if defined(ZERO_ROOF_RADIUS) && !defined(LIGHTING_3D_MODE)
float roofNdotL=clamp(u_lightpos.z,0.0,1.0);roofNdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),roofNdotL);v_roof_color=vec4(0.0,0.0,0.0,1.0);v_roof_color.rgb+=clamp(color.rgb*roofNdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_roof_color*=u_opacity;
#endif
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),fillExtrusionDepth:Na(`in highp float v_depth;void main() {
#ifndef DEPTH_TEXTURE
glFragColor=pack_depth(v_depth);
#endif
}`,`#include "_prelude_terrain.vertex.glsl"
uniform mat4 u_matrix;uniform float u_edge_radius;uniform float u_width_scale;uniform float u_vertical_scale;
#ifdef TERRAIN
uniform int u_height_type;uniform int u_base_type;
#endif
in vec4 a_pos_normal_ed;in vec2 a_centroid_pos;
#ifdef RENDER_WALL_MODE
in vec3 a_join_normal_inside;
#endif
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp float line_width
#pragma mapbox: define highp vec4 color
out highp float v_depth;void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp float line_width
#pragma mapbox: initialize highp vec4 color
base*=u_vertical_scale;height*=u_vertical_scale;vec3 pos_nx=floor(a_pos_normal_ed.xyz*0.5);mediump vec3 top_up_ny=a_pos_normal_ed.xyz-2.0*pos_nx;base=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
vec3 pos;
#ifdef TERRAIN
bool is_flat_height=centroid_pos.x !=0.0 && u_height_type==1;bool is_flat_base=centroid_pos.x !=0.0 && u_base_type==1;float ele=elevation(pos_nx.xy);float c_ele=is_flat_height || is_flat_base ? (centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos)) : ele;float h_height=is_flat_height ? max(c_ele+height,ele+base+2.0) : ele+height;float h_base=is_flat_base ? max(c_ele+base,ele+base) : ele+(base==0.0 ?-5.0 : base);float h=t > 0.0 ? max(h_base,h_height) : h_base;pos=vec3(pos_nx.xy,h);
#else
pos=vec3(pos_nx.xy,t > 0.0 ? height : base);
#endif
#ifdef RENDER_WALL_MODE
vec2 wall_offset=u_width_scale*line_width*(a_join_normal_inside.xy/EXTENT);pos.xy+=(1.0-a_join_normal_inside.z)*wall_offset*0.5;pos.xy-=a_join_normal_inside.z*wall_offset*0.5;
#endif
float hidden=float((centroid_pos.x==0.0 && centroid_pos.y==1.0) || (color.a==0.0));gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);v_depth=gl_Position.z/gl_Position.w;}`),fillExtrusionPattern:Na(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform vec2 u_texsize;uniform sampler2D u_image;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;in vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
in vec3 v_normal;
#endif
in highp vec2 v_pos;in vec4 v_lighting;uniform lowp float u_opacity;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define mediump vec4 pattern
#pragma mapbox: define highp float pixel_ratio
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize highp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;highp vec2 imagecoord=mod(v_pos,1.0);highp vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);highp vec2 lod_pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,v_pos);vec4 out_color=textureLodCustom(u_image,pos,lod_pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color,normalize(v_normal))*u_opacity;
#else
out_color=out_color*v_lighting;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
#ifdef INDICATOR_CUTOUT
out_color=applyCutout(out_color,height);
#endif
glFragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
#include "_prelude_lighting.glsl"
uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform float u_tile_units_to_pixels;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_width_scale;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;in vec4 a_pos_normal_ed;in vec2 a_centroid_pos;
#ifdef RENDER_WALL_MODE
in vec3 a_join_normal_inside;
#endif
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_pos_3;in vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
#ifdef TERRAIN
uniform int u_height_type;uniform int u_base_type;
#endif
out highp vec2 v_pos;out vec4 v_lighting;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;out vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
out vec3 v_normal;
#endif
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump vec4 pattern
#pragma mapbox: define highp float pixel_ratio
#pragma mapbox: define highp float line_width
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize highp float pixel_ratio
#pragma mapbox: initialize highp float line_width
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=z;vec3 p;float c_ele;
#ifdef TERRAIN
bool is_flat_height=centroid_pos.x !=0.0 && u_height_type==1;bool is_flat_base=centroid_pos.x !=0.0 && u_base_type==1;ele=elevation(pos_nx.xy);c_ele=is_flat_height || is_flat_base ? (centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos)) : ele;float h_height=is_flat_height ? max(c_ele+height,ele+base+2.0) : ele+height;float h_base=is_flat_base ? max(c_ele+base,ele+base) : ele+(base==0.0 ?-5.0 : base);h=t > 0.0 ? max(h_base,h_height) : h_base;p=vec3(pos_nx.xy,h);
#else
p=vec3(pos_nx.xy,z);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
#ifdef RENDER_WALL_MODE
vec2 wall_offset=u_width_scale*line_width*(a_join_normal_inside.xy/EXTENT);p.xy+=(1.0-a_join_normal_inside.z)*wall_offset*0.5;p.xy-=a_join_normal_inside.z*wall_offset*0.5;
#endif
float hidden=float((centroid_pos.x==0.0 && centroid_pos.y==1.0) || (color.a==0.0));gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0
? pos_nx.xy
: vec2(edgedistance,z*u_height_factor);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float NdotL=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_normal=normal;
#else
v_lighting.rgb+=clamp(NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;
#endif 
#ifdef FOG
v_fog_pos=fog_position(p);
#endif
}`),groundShadow:Na(`#include "_prelude_shadow.fragment.glsl"
precision highp float;uniform vec3 u_ground_shadow_factor;in vec4 v_pos_light_view_0;in vec4 v_pos_light_view_1;
#ifdef FOG
in float v_fog_opacity;
#endif
void main() {float light=shadowed_light_factor_plane_bias(v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w);vec3 shadow=mix(u_ground_shadow_factor,vec3(1.0),light);
#ifdef RENDER_CUTOFF
shadow=mix(vec3(1.0),shadow,cutoff_opacity(u_cutoff_params,1.0/gl_FragCoord.w));
#endif
#ifdef FOG
shadow=mix(shadow,vec3(1.0),v_fog_opacity);
#endif
#ifdef INDICATOR_CUTOUT
shadow=mix(shadow,vec3(1.0),1.0-applyCutout(vec4(1.0),0.0).r);
#endif
glFragColor=vec4(shadow,1.0);}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;in vec2 a_pos;out vec4 v_pos_light_view_0;out vec4 v_pos_light_view_1;
#ifdef FOG
out float v_fog_opacity;
#endif
void main() {gl_Position=u_matrix*vec4(a_pos,0.0,1.0);v_pos_light_view_0=u_light_matrix_0*vec4(a_pos,0.0,1.0);v_pos_light_view_1=u_light_matrix_1*vec4(a_pos,0.0,1.0);
#ifdef FOG
v_fog_pos=fog_position(a_pos);v_fog_opacity=fog(v_fog_pos);
#endif
}`),fillExtrusionGroundEffect:Na(`uniform highp float u_ao_pass;uniform highp float u_opacity;uniform highp float u_flood_light_intensity;uniform highp vec3 u_flood_light_color;uniform highp float u_attenuation;uniform sampler2D u_fb;uniform float u_fb_size;
#ifdef SDF_SUBPASS
in highp vec2 v_pos;in highp vec4 v_line_segment;in highp float v_flood_light_radius_tile;in highp vec2 v_ao;float line_df(highp vec2 a,highp vec2 b,highp vec2 p) {highp vec2 ba=b-a;highp vec2 pa=p-a;highp float r=clamp(dot(pa,ba)/dot(ba,ba),0.0,1.0);return length(pa-r*ba);}
#ifdef FOG
in highp float v_fog;
#endif
#endif
void main() {
#ifdef CLEAR_SUBPASS
vec4 color=vec4(1.0);
#ifdef CLEAR_FROM_TEXTURE
color=texture(u_fb,gl_FragCoord.xy/vec2(u_fb_size));
#endif
glFragColor=color;
#else
#ifdef SDF_SUBPASS
highp float d=line_df(v_line_segment.xy,v_line_segment.zw,v_pos);highp float effect_radius=mix(v_flood_light_radius_tile,v_ao.y,u_ao_pass);d/=effect_radius;d=min(d,1.0);d=1.0-pow(1.0-d,u_attenuation);highp float effect_intensity=mix(u_flood_light_intensity,v_ao.x,u_ao_pass);highp float fog=1.0;
#ifdef FOG
fog=v_fog;
#endif
#ifdef RENDER_CUTOFF
fog*=v_cutoff_opacity;
#endif
glFragColor=vec4(vec3(0.0),mix(1.0,d,effect_intensity*u_opacity*fog));
#else
vec4 color=mix(vec4(u_flood_light_color,1.0),vec4(vec3(0.0),1.0),u_ao_pass);
#ifdef OVERDRAW_INSPECTOR
color=vec4(1.0);
#endif
glFragColor=color;
#endif
HANDLE_WIREFRAME_DEBUG;
#endif
}`,`#include "_prelude_fog.vertex.glsl"
in highp vec4 a_pos_end;in highp float a_angular_offset_factor;in highp float a_hidden_by_landmark;
#ifdef SDF_SUBPASS
out highp vec2 v_pos;out highp vec4 v_line_segment;out highp float v_flood_light_radius_tile;out highp vec2 v_ao;
#ifdef FOG
out highp float v_fog;
#endif
#endif
uniform highp float u_flood_light_intensity;uniform highp mat4 u_matrix;uniform highp float u_ao_pass;uniform highp float u_meter_to_tile;uniform highp float u_edge_radius;uniform highp float u_dynamic_offset;uniform highp vec2 u_ao;
#pragma mapbox: define highp float flood_light_ground_radius
const float TANGENT_CUTOFF=4.0;const float NORM=32767.0;void main() {
#pragma mapbox: initialize highp float flood_light_ground_radius
vec2 p=a_pos_end.xy;vec2 q=floor(a_pos_end.zw*0.5);vec2 start_bottom=a_pos_end.zw-q*2.0;float fl_ground_radius=flood_light_ground_radius;fl_ground_radius=abs(flood_light_ground_radius);float direction=flood_light_ground_radius < 0.0 ?-1.0 : 1.0;float flood_radius_tile=fl_ground_radius*u_meter_to_tile;vec2 v=normalize(q-p);float ao_radius=u_ao.y/3.5;float effect_radius=mix(flood_radius_tile,ao_radius,u_ao_pass)+u_edge_radius;float angular_offset_factor=a_angular_offset_factor/NORM*TANGENT_CUTOFF;float angular_offset=direction*angular_offset_factor*effect_radius;float top=1.0-start_bottom.y;float side=(0.5-start_bottom.x)*2.0;vec2 extrusion_parallel=v*side*mix(u_dynamic_offset,angular_offset,top);vec2 perp=vec2(v.y,-v.x);vec2 extrusion_perp=direction*perp*effect_radius*top;vec3 pos=vec3(mix(q,p,start_bottom.x),0.0);pos.xy+=extrusion_parallel+extrusion_perp;
#ifdef SDF_SUBPASS
v_pos=pos.xy;v_line_segment=vec4(p,q)+perp.xyxy*u_edge_radius;v_flood_light_radius_tile=flood_radius_tile;v_ao=vec2(u_ao.x,ao_radius);
#ifdef FOG
v_fog_pos=fog_position(pos);v_fog=1.0-fog(v_fog_pos);
#endif
#endif
float hidden_by_landmark=0.0;
#ifdef HAS_CENTROID
hidden_by_landmark=a_hidden_by_landmark;
#endif
float isFloodlit=float(fl_ground_radius > 0.0 && u_flood_light_intensity > 0.0);float hidden=mix(1.0-isFloodlit,isFloodlit,u_ao_pass);hidden+=hidden_by_landmark;gl_Position=mix(u_matrix*vec4(pos,1.0),AWAY,float(hidden > 0.0));
#ifdef RENDER_CUTOFF
v_cutoff_opacity=cutoff_opacity(u_cutoff_params,gl_Position.z);
#endif
}`),hillshadePrepare:Na(`precision highp float;uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;float getElevation(vec2 coord) {return texture(u_image,coord).r/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos+vec2(epsilon.x,0));float f=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float g=getElevation(v_pos+vec2(0,epsilon.y));float h=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(
(c+e+e+h)-(a+d+d+f),(f+g+g+h)-(a+b+b+c)
)/pow(2.0,exaggeration+(19.2562-u_zoom));glFragColor=clamp(vec4(
deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Na(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;uniform float u_emissive_strength;void main() {vec4 pixel=texture(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);glFragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef LIGHTING_3D_MODE
glFragColor=apply_lighting_with_emission_ground(glFragColor,u_emissive_strength);
#endif
#ifdef FOG
glFragColor=fog_dither(fog_apply_premultiplied(glFragColor,v_fog_pos));
#endif
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),line:Na(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
#include "_prelude_shadow.fragment.glsl"
uniform lowp float u_device_pixel_ratio;uniform highp float u_width_scale;uniform highp float u_floor_width_scale;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;uniform highp vec2 u_trim_fade_range;uniform lowp vec4 u_trim_color;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;in highp vec3 v_uv;
#ifdef ELEVATED_ROADS
in highp float v_road_z_offset;
#endif
#ifdef RENDER_LINE_DASH
uniform sampler2D u_dash_image;in vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform sampler2D u_gradient_image;
#endif
#ifdef INDICATOR_CUTOUT
in highp float v_z_offset;
#endif
#ifdef RENDER_SHADOWS
uniform vec3 u_ground_shadow_factor;in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;in highp float v_depth;
#endif
float luminance(vec3 c) {return (c.r+c.r+c.b+c.g+c.g+c.g)*0.1667;}uniform float u_emissive_strength;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float border_width
#pragma mapbox: define lowp vec4 border_color
float linearstep(float edge0,float edge1,float x) {return  clamp((x-edge0)/(edge1-edge0),0.0,1.0);}void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float border_width
#pragma mapbox: initialize lowp vec4 border_color
float dist=length(v_normal)*v_width2.s;float blur2=(u_width_scale*blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);
#ifdef RENDER_LINE_DASH
float sdfdist=texture(u_dash_image,v_tex).r;float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/dash.z;float scaled_floorwidth=(floorwidth*u_floor_width_scale);alpha*=linearstep(0.5-sdfgamma/scaled_floorwidth,0.5+sdfgamma/scaled_floorwidth,sdfdist);
#endif
highp vec4 out_color;
#ifdef RENDER_LINE_GRADIENT
out_color=texture(u_gradient_image,v_uv.xy);
#else
out_color=color;
#endif
float trim_alpha=1.0;
#ifdef RENDER_LINE_TRIM_OFFSET
highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=v_uv[2];if (trim_end > trim_start) {highp float start_transition=max(0.0,min(1.0,(line_progress-trim_start)/max(u_trim_fade_range[0],1.0e-9)));highp float end_transition=max(0.0,min(1.0,(trim_end-line_progress)/max(u_trim_fade_range[1],1.0e-9)));highp float transition_factor=min(start_transition,end_transition);out_color=mix(out_color,u_trim_color,transition_factor);trim_alpha=1.0-transition_factor;}
#endif
if (u_alpha_discard_threshold !=0.0) {if (alpha < u_alpha_discard_threshold) {discard;}}
#ifdef RENDER_LINE_BORDER
float edgeBlur=((border_width*u_width_scale)+1.0/u_device_pixel_ratio);float alpha2=clamp(min(dist-(v_width2.t-edgeBlur),v_width2.s-dist)/edgeBlur,0.0,1.0);if (alpha2 < 1.) {float smoothAlpha=smoothstep(0.6,1.0,alpha2);if (border_color.a==0.0) {float Y=(out_color.a > 0.01) ? luminance(out_color.rgb/out_color.a) : 1.;float adjustment=(Y > 0.) ? 0.5/Y : 0.45;if (out_color.a > 0.25 && Y < 0.25) {vec3 borderColor=(Y > 0.) ? out_color.rgb : vec3(1,1,1)*out_color.a;out_color.rgb=out_color.rgb+borderColor*(adjustment*(1.0-smoothAlpha));} else {out_color.rgb*=(0.6 +0.4*smoothAlpha);}} else {out_color=mix(border_color*trim_alpha,out_color,smoothAlpha);}}
#endif
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#ifdef RENDER_SHADOWS
float light=shadowed_light_factor(v_pos_light_view_0,v_pos_light_view_1,v_depth);
#ifdef ELEVATED_ROADS
out_color.rgb*=mix(v_road_z_offset > 0.0 ? u_ground_shadow_factor : vec3(1.0),vec3(1.0),light);
#else
out_color.rgb*=mix(u_ground_shadow_factor,vec3(1.0),light);
#endif
#endif
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
out_color*=(alpha*opacity);
#ifdef INDICATOR_CUTOUT
out_color=applyCutout(out_color,v_z_offset);
#endif
glFragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
#define EXTRUDE_SCALE 0.015873016
in vec2 a_pos_normal;in vec4 a_data;
#if defined(ELEVATED) || defined(ELEVATED_ROADS) || defined(VARIABLE_LINE_WIDTH)
in vec3 a_z_offset_width;
#endif
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
in highp vec3 a_packed;
#endif
#ifdef RENDER_LINE_DASH
in float a_linesofar;
#endif
uniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;uniform float u_width_scale;uniform highp float u_floor_width_scale;
#ifdef ELEVATED
uniform lowp float u_zbias_factor;uniform lowp float u_tile_to_meter;float sample_elevation(vec2 apos) {
#ifdef ELEVATION_REFERENCE_SEA
return 0.0;
#else
return elevation(apos);
#endif
}
#endif
out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp vec3 v_uv;
#ifdef ELEVATED_ROADS
out highp float v_road_z_offset;
#endif
#ifdef RENDER_LINE_DASH
uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;out vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform float u_image_height;
#endif
#ifdef INDICATOR_CUTOUT
out highp float v_z_offset;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;out highp float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float border_width
#pragma mapbox: define lowp vec4 border_color
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float border_width
#pragma mapbox: initialize lowp vec4 border_color
float a_z_offset;
#if defined(ELEVATED) || defined(ELEVATED_ROADS)
a_z_offset=a_z_offset_width.x;
#endif
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth;
#ifdef VARIABLE_LINE_WIDTH
float left=a_pos_normal.y-2.0*floor(a_pos_normal.y*0.5);halfwidth=(u_width_scale*(left==1.0 ? a_z_offset_width.y : a_z_offset_width.z))/2.0;
#else
halfwidth=(u_width_scale*width)/2.0;
#endif
offset=-1.0*offset*u_width_scale;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);float hidden=float(opacity==0.0);vec2 extrude=dist*u_pixels_to_tile_units;vec4 projected_extrude=u_matrix*vec4(extrude,0.0,0.0);vec2 projected_extrude_xy=projected_extrude.xy;
#ifdef ELEVATED_ROADS
v_road_z_offset=a_z_offset;gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,a_z_offset,1.0)+projected_extrude;
#else
#ifdef ELEVATED
vec2 offsetTile=offset2*u_pixels_to_tile_units;vec2 offset_pos=pos+offsetTile;float ele=0.0;
#ifdef CROSS_SLOPE_VERTICAL
float top=a_pos_normal.y-2.0*floor(a_pos_normal.y*0.5);float line_height=2.0*u_tile_to_meter*outset*top*u_pixels_to_tile_units[1][1]+a_z_offset;ele=sample_elevation(offset_pos)+line_height;projected_extrude=vec4(0);
#else
#ifdef CROSS_SLOPE_HORIZONTAL
float ele0=sample_elevation(offset_pos);float ele1=max(sample_elevation(offset_pos+extrude),sample_elevation(offset_pos+extrude/2.0));float ele2=max(sample_elevation(offset_pos-extrude),sample_elevation(offset_pos-extrude/2.0));float ele_max=max(ele0,max(ele1,ele2));ele=ele_max+a_z_offset;
#else
float ele0=sample_elevation(offset_pos);float ele1=max(sample_elevation(offset_pos+extrude),sample_elevation(offset_pos+extrude/2.0));float ele2=max(sample_elevation(offset_pos-extrude),sample_elevation(offset_pos-extrude/2.0));float ele_max=max(ele0,0.5*(ele1+ele2));ele=ele_max-ele0+ele1+a_z_offset;
#endif
#endif
gl_Position=u_matrix*vec4(offset_pos,ele,1.0)+projected_extrude;float z=clamp(gl_Position.z/gl_Position.w,0.5,1.0);float zbias=max(0.00005,(pow(z,0.8)-z)*u_zbias_factor*u_exaggeration);gl_Position.z-=(gl_Position.w*zbias);gl_Position=mix(gl_Position,AWAY,hidden);
#else
gl_Position=mix(u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude,AWAY,hidden);
#endif
#endif
#ifdef ELEVATED_ROADS
#ifdef RENDER_SHADOWS
vec3 shd_pos=vec3(pos+(offset2+dist)*u_pixels_to_tile_units,a_z_offset);vec3 shd_pos0=shd_pos;vec3 shd_pos1=shd_pos;
#ifdef NORMAL_OFFSET
vec3 shd_pos_offset=shadow_normal_offset(vec3(0.0,0.0,1.0));shd_pos0+=shd_pos_offset*shadow_normal_offset_multiplier0();shd_pos1+=shd_pos_offset*shadow_normal_offset_multiplier1();
#endif
v_pos_light_view_0=u_light_matrix_0*vec4(shd_pos0,1);v_pos_light_view_1=u_light_matrix_1*vec4(shd_pos1,1);v_depth=gl_Position.w;
#endif
#endif
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude_xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=mix(extrude_length_without_perspective/extrude_length_with_perspective,1.0,step(0.01,blur));
#else
v_gamma_scale=1.0;
#endif
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
highp float a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float line_progress=a_packed[2];
#ifdef RENDER_LINE_GRADIENT
highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec3(a_uv_x,a_split_index*texel_height-half_texel_height,line_progress);
#else
v_uv=vec3(a_uv_x,0.0,line_progress);
#endif
#endif
#ifdef RENDER_LINE_DASH
float scale=dash.z==0.0 ? 0.0 : u_tile_units_to_pixels/dash.z;float height=dash.y;v_tex=vec2(a_linesofar*scale/(floorwidth*u_floor_width_scale),(-normal.y*height+dash.x+0.5)/u_texsize.y);
#endif
v_width2=vec2(outset,inset);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
#ifdef INDICATOR_CUTOUT
v_z_offset=a_z_offset;
#endif
}`),linePattern:Na(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
#include "_prelude_shadow.fragment.glsl"
uniform highp float u_device_pixel_ratio;uniform highp float u_width_scale;uniform highp float u_alpha_discard_threshold;uniform highp vec2 u_texsize;uniform highp float u_tile_units_to_pixels;uniform highp vec2 u_trim_offset;uniform highp vec2 u_trim_fade_range;uniform lowp vec4 u_trim_color;uniform sampler2D u_image;in vec2 v_normal;in vec2 v_width2;in highp float v_linesofar;in float v_gamma_scale;in float v_width;
#ifdef RENDER_LINE_TRIM_OFFSET
in highp vec3 v_uv;
#endif
#ifdef ELEVATED_ROADS
in highp float v_road_z_offset;
#endif
#ifdef LINE_JOIN_NONE
in vec2 v_pattern_data;
#endif
#ifdef INDICATOR_CUTOUT
in highp float v_z_offset;
#endif
#ifdef RENDER_SHADOWS
uniform vec3 u_ground_shadow_factor;in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;in highp float v_depth;
#endif
uniform float u_emissive_strength;
#pragma mapbox: define mediump vec4 pattern
#pragma mapbox: define mediump float pixel_ratio
#pragma mapbox: define mediump float blur
#pragma mapbox: define mediump float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize mediump float pixel_ratio
#pragma mapbox: initialize mediump float blur
#pragma mapbox: initialize mediump float opacity
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;highp float pattern_size=display_size.x/u_tile_units_to_pixels;float aspect=display_size.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(u_width_scale*blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);highp float pattern_x=v_linesofar/pattern_size*aspect;highp float x=mod(pattern_x,1.0);highp float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;highp vec2 pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(x,y));highp vec2 lod_pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(pattern_x,y));vec4 color=textureLodCustom(u_image,pos,lod_pos);
#ifdef RENDER_LINE_TRIM_OFFSET
highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=v_uv[2];if (trim_end > trim_start) {highp float start_transition=max(0.0,min(1.0,(line_progress-trim_start)/max(u_trim_fade_range[0],1.0e-9)));highp float end_transition=max(0.0,min(1.0,(trim_end-line_progress)/max(u_trim_fade_range[1],1.0e-9)));highp float transition_factor=min(start_transition,end_transition);color=mix(color,color.a*u_trim_color,transition_factor);}
#endif
#ifdef LINE_JOIN_NONE
highp float pattern_len=pattern_size/aspect;highp float segment_phase=pattern_len-mod(v_linesofar-v_pattern_data.x+pattern_len,pattern_len);highp float visible_start=segment_phase-step(pattern_len*0.5,segment_phase)*pattern_len;highp float visible_end=floor((v_pattern_data.y-segment_phase)/pattern_len)*pattern_len+segment_phase;visible_end+=step(pattern_len*0.5,v_pattern_data.y-visible_end)*pattern_len;if (v_pattern_data.x < visible_start || v_pattern_data.x >=visible_end) {color=vec4(0.0);}
#endif
#ifdef LIGHTING_3D_MODE
color=apply_lighting_with_emission_ground(color,u_emissive_strength);
#ifdef RENDER_SHADOWS
float light=shadowed_light_factor(v_pos_light_view_0,v_pos_light_view_1,v_depth);
#ifdef ELEVATED_ROADS
color.rgb*=mix(v_road_z_offset > 0.0 ? u_ground_shadow_factor : vec3(1.0),vec3(1.0),light);
#else
color.rgb*=mix(u_ground_shadow_factor,vec3(1.0),light);
#endif
#endif
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
color*=(alpha*opacity);if (u_alpha_discard_threshold !=0.0) {if (color.a < u_alpha_discard_threshold) {discard;}}
#ifdef INDICATOR_CUTOUT
color=applyCutout(color,v_z_offset);
#endif
glFragColor=color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;
#if defined(ELEVATED) || defined(ELEVATED_ROADS)
in vec3 a_z_offset_width;
#endif
#ifdef RENDER_LINE_TRIM_OFFSET
in highp vec3 a_packed;
#endif
in highp float a_linesofar;
#ifdef LINE_JOIN_NONE
in highp vec3 a_pattern_data;out vec2 v_pattern_data;
#endif
#ifdef INDICATOR_CUTOUT
out highp float v_z_offset;
#endif
uniform mat4 u_matrix;uniform float u_tile_units_to_pixels;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform float u_device_pixel_ratio;uniform float u_width_scale;uniform float u_floor_width_scale;
#ifdef ELEVATED
uniform lowp float u_zbias_factor;uniform lowp float u_tile_to_meter;float sample_elevation(vec2 apos) {
#ifdef ELEVATION_REFERENCE_SEA
return 0.0;
#else
return elevation(apos);
#endif
}
#endif
out vec2 v_normal;out vec2 v_width2;out highp float v_linesofar;out float v_gamma_scale;out float v_width;
#ifdef RENDER_LINE_TRIM_OFFSET
out highp vec3 v_uv;
#endif
#ifdef ELEVATED_ROADS
out highp float v_road_z_offset;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;out highp float v_depth;
#endif
#pragma mapbox: define mediump float blur
#pragma mapbox: define mediump float opacity
#pragma mapbox: define mediump float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define mediump float floorwidth
#pragma mapbox: define mediump vec4 pattern
#pragma mapbox: define mediump float pixel_ratio
void main() {
#pragma mapbox: initialize mediump float blur
#pragma mapbox: initialize mediump float opacity
#pragma mapbox: initialize mediump float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize mediump float floorwidth
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize mediump float pixel_ratio
float a_z_offset;
#if defined(ELEVATED) || defined(ELEVATED_ROADS)
a_z_offset=a_z_offset_width.x;
#endif
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=(u_width_scale*width)/2.0;offset=-1.0*offset*u_width_scale;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);vec2 dist=outset*a_extrude*scale;float u=0.5*a_direction;float t=1.0-abs(u);vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float hidden=float(opacity==0.0);vec2 extrude=dist*u_pixels_to_tile_units;vec4 projected_extrude=u_matrix*vec4(extrude,0.0,0.0);vec2 projected_extrude_xy=projected_extrude.xy;
#ifdef ELEVATED_ROADS
v_road_z_offset=a_z_offset;gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,a_z_offset,1.0)+projected_extrude;
#else
#ifdef ELEVATED
vec2 offsetTile=offset2*u_pixels_to_tile_units;vec2 offset_pos=pos+offsetTile;float ele=0.0;
#ifdef CROSS_SLOPE_VERTICAL
float top=a_pos_normal.y-2.0*floor(a_pos_normal.y*0.5);float line_height=2.0*u_tile_to_meter*outset*top*u_pixels_to_tile_units[1][1]+a_z_offset;ele=sample_elevation(offset_pos)+line_height;projected_extrude=vec4(0);
#else
#ifdef CROSS_SLOPE_HORIZONTAL
float ele0=sample_elevation(offset_pos);float ele1=max(sample_elevation(offset_pos+extrude),sample_elevation(offset_pos+extrude/2.0));float ele2=max(sample_elevation(offset_pos-extrude),sample_elevation(offset_pos-extrude/2.0));float ele_max=max(ele0,max(ele1,ele2));ele=ele_max+a_z_offset;
#else
float ele0=sample_elevation(offset_pos);float ele1=max(sample_elevation(offset_pos+extrude),sample_elevation(offset_pos+extrude/2.0));float ele2=max(sample_elevation(offset_pos-extrude),sample_elevation(offset_pos-extrude/2.0));float ele_max=max(ele0,0.5*(ele1+ele2));ele=ele_max-ele0+ele1+a_z_offset;
#endif
#endif
gl_Position=u_matrix*vec4(offset_pos,ele,1.0)+projected_extrude;float z=clamp(gl_Position.z/gl_Position.w,0.5,1.0);float zbias=max(0.00005,(pow(z,0.8)-z)*u_zbias_factor*u_exaggeration);gl_Position.z-=(gl_Position.w*zbias);gl_Position=mix(gl_Position,AWAY,hidden);
#else
gl_Position=mix(u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude,AWAY,hidden);
#endif
#endif
#ifdef ELEVATED_ROADS
#ifdef RENDER_SHADOWS
vec3 shd_pos=vec3(pos+(offset2+dist)*u_pixels_to_tile_units,a_z_offset);vec3 shd_pos0=shd_pos;vec3 shd_pos1=shd_pos;
#ifdef NORMAL_OFFSET
vec3 shd_pos_offset=shadow_normal_offset(vec3(0.0,0.0,1.0));shd_pos0+=shd_pos_offset*shadow_normal_offset_multiplier0();shd_pos1+=shd_pos_offset*shadow_normal_offset_multiplier1();
#endif
v_pos_light_view_0=u_light_matrix_0*vec4(shd_pos0,1);v_pos_light_view_1=u_light_matrix_1*vec4(shd_pos1,1);v_depth=gl_Position.w;
#endif
#endif
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude_xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=mix(extrude_length_without_perspective/extrude_length_with_perspective,1.0,step(0.01,blur));
#else
v_gamma_scale=1.0;
#endif
#ifdef RENDER_LINE_TRIM_OFFSET
highp float a_uv_x=a_packed[0];highp float line_progress=a_packed[2];v_uv=vec3(a_uv_x,0.0,line_progress);
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=(floorwidth*u_floor_width_scale);
#ifdef LINE_JOIN_NONE
v_width=(floorwidth*u_floor_width_scale)+ANTIALIASING;mediump float pixels_to_tile_units=1.0/u_tile_units_to_pixels;mediump float pixel_ratio_inverse=1.0/pixel_ratio;mediump float aspect=v_width/((pattern.w-pattern.y)*pixel_ratio_inverse);highp float subt_multiple=(pattern.z-pattern.x)*pixel_ratio_inverse*pixels_to_tile_units*aspect*32.0;highp float subt=floor(a_pattern_data.z/subt_multiple)*subt_multiple;float offset_sign=(fract(a_pattern_data.x)-0.5)*4.0;float line_progress_offset=offset_sign*v_width*0.5*pixels_to_tile_units;v_linesofar=(a_pattern_data.z-subt)+a_linesofar+line_progress_offset;v_pattern_data=vec2(a_pattern_data.x+line_progress_offset,a_pattern_data.y);
#endif
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
#ifdef INDICATOR_CUTOUT
v_z_offset=a_z_offset;
#endif
}`),raster:Na(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
#include "_prelude_raster_array.glsl"
uniform float u_fade_t;uniform float u_opacity;uniform highp float u_raster_elevation;uniform highp float u_zoom_transition;in vec2 v_pos0;in vec2 v_pos1;in float v_depth;
#ifdef PROJECTION_GLOBE_VIEW
in float v_split_fade;
#endif
uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;uniform float u_emissive_strength;
#ifndef RASTER_ARRAY
uniform highp sampler2D u_image0;uniform sampler2D u_image1;
#endif
#ifdef RASTER_COLOR
uniform sampler2D u_color_ramp;uniform highp vec4 u_colorization_mix;uniform highp float u_colorization_offset;uniform vec2 u_texture_res;
#endif
void main() {vec4 color0,color1,color;vec2 value;
#ifdef RASTER_COLOR
#ifdef RASTER_ARRAY
#ifdef RASTER_ARRAY_LINEAR
value=mix(
raTexture2D_image0_linear(v_pos0,u_texture_res,u_colorization_mix,u_colorization_offset),raTexture2D_image1_linear(v_pos1,u_texture_res,u_colorization_mix,u_colorization_offset),u_fade_t
);
#else
value=mix(
raTexture2D_image0_nearest(v_pos0,u_texture_res,u_colorization_mix,u_colorization_offset),raTexture2D_image1_nearest(v_pos1,u_texture_res,u_colorization_mix,u_colorization_offset),u_fade_t
);
#endif
if (value.y > 0.0) value.x/=value.y;
#else
color=mix(texture(u_image0,v_pos0),texture(u_image1,v_pos1),u_fade_t);value=vec2(u_colorization_offset+dot(color.rgb,u_colorization_mix.rgb),color.a);
#endif
color=texture(u_color_ramp,vec2(value.x,0.5));if (color.a > 0.0) color.rgb/=color.a;color.a*=value.y;
#else
color0=texture(u_image0,v_pos0);color1=texture(u_image1,v_pos1);if (color0.a > 0.0) color0.rgb/=color0.a;if (color1.a > 0.0) color1.rgb/=color1.a;color=mix(color0,color1,u_fade_t);
#endif
color.a*=u_opacity;
#ifdef GLOBE_POLES
color.a*=1.0-smoothstep(0.0,0.05,u_zoom_transition);
#endif
vec3 rgb=color.rgb;rgb=vec3(
dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(vec4(out_color,1.0),u_emissive_strength).rgb;
#endif
#ifdef FOG
highp float fog_limit_high_meters=1000000.0;highp float fog_limit_low_meters=600000.0;float fog_limit=1.0-smoothstep(fog_limit_low_meters,fog_limit_high_meters,u_raster_elevation);out_color=fog_dither(fog_apply(out_color,v_fog_pos,fog_limit));
#endif
glFragColor=vec4(out_color*color.a,color.a);
#ifdef PROJECTION_GLOBE_VIEW
glFragColor*=mix(1.0,1.0-smoothstep(0.0,0.05,u_zoom_transition),smoothstep(0.8,0.9,v_split_fade));
#endif
#ifdef RENDER_CUTOFF
glFragColor=glFragColor*cutoff_opacity(u_cutoff_params,v_depth);
#endif
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform mat3 u_grid_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;uniform vec2 u_texture_offset;uniform float u_raster_elevation;uniform float u_zoom_transition;uniform vec2 u_merc_center;
#define GLOBE_UPSCALE GLOBE_RADIUS/6371008.8
#ifdef GLOBE_POLES
in vec3 a_globe_pos;in vec2 a_uv;
#else
in vec2 a_pos;in vec2 a_texture_pos;
#endif
out vec2 v_pos0;out vec2 v_pos1;out float v_depth;
#ifdef PROJECTION_GLOBE_VIEW
out float v_split_fade;
#endif
void main() {vec2 uv;
#ifdef GLOBE_POLES
vec3 globe_pos=a_globe_pos;globe_pos+=normalize(globe_pos)*u_raster_elevation*GLOBE_UPSCALE;gl_Position=u_matrix*u_globe_matrix*vec4(globe_pos   ,1.0);uv=a_uv;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(a_globe_pos,1.0)).xyz);
#endif
#else
float w=1.0+dot(a_texture_pos,u_perspective_transform);uv=a_texture_pos/8192.0;
#ifdef PROJECTION_GLOBE_VIEW
vec3 decomposed_pos_and_skirt=decomposeToPosAndSkirt(a_pos);vec3 latLng=u_grid_matrix*vec3(decomposed_pos_and_skirt.xy,1.0);vec3 globe_pos=latLngToECEF(latLng.xy);globe_pos+=normalize(globe_pos)*u_raster_elevation*GLOBE_UPSCALE;vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);float mercatorY=mercatorYfromLat(latLng[0]);float mercatorX=mercatorXfromLng(latLng[1]);    
v_split_fade=0.0;if (u_zoom_transition > 0.0) {vec2 merc_pos=vec2(mercatorX,mercatorY);merc_world_pos=vec4(merc_pos,u_raster_elevation,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;float opposite_merc_center=mod(u_merc_center.x+0.5,1.0);float dist_from_poles=(abs(mercatorY-0.5)*2.0);float range=0.1;v_split_fade=abs(opposite_merc_center-mercatorX);v_split_fade=clamp(1.0-v_split_fade,0.0,1.0);v_split_fade=max(smoothstep(1.0-range,1.0,dist_from_poles),max(smoothstep(1.0-range,1.0,v_split_fade),smoothstep(1.0-range,1.0,1.0-v_split_fade)));}float tiles=u_grid_matrix[0][2];if (tiles > 0.0) {float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];float uvY=mercatorY*tiles-idy;float uvX=mercatorX*tiles-idx;uv=vec2(uvX,uvY);}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition)*w,w);gl_Position=u_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
#else
gl_Position=u_matrix*vec4(a_pos*w,u_raster_elevation*w,w);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
#endif
#endif
v_pos0=uv;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;v_pos0=u_texture_offset.x+u_texture_offset.y*v_pos0;v_pos1=u_texture_offset.x+u_texture_offset.y*v_pos1;
#ifdef RENDER_CUTOFF
v_depth=gl_Position.z;
#endif
}`),rasterParticle:Na(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform float u_fade_t;uniform float u_opacity;uniform highp float u_raster_elevation;in vec2 v_pos0;in vec2 v_pos1;uniform sampler2D u_image0;uniform sampler2D u_image1;void main() {vec4 color0,color1,color;color0=texture(u_image0,v_pos0);color1=texture(u_image1,v_pos1);if (color0.a > 0.0) color0.rgb/=color0.a;if (color1.a > 0.0) color1.rgb/=color1.a;color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 out_color=color.rgb;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(vec4(out_color,1.0),0.0).rgb;
#endif
#ifdef FOG
highp float fog_limit_high_meters=1000000.0;highp float fog_limit_low_meters=600000.0;float fog_limit=1.0-smoothstep(fog_limit_low_meters,fog_limit_high_meters,u_raster_elevation);out_color=fog_dither(fog_apply(out_color,v_fog_pos,fog_limit));
#endif
glFragColor=vec4(out_color*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform mat3 u_grid_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_raster_elevation;uniform float u_zoom_transition;uniform vec2 u_merc_center;
#define GLOBE_UPSCALE GLOBE_RADIUS/6371008.8
in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos0;out vec2 v_pos1;void main() {float w=1.0;vec2 uv;
#ifdef PROJECTION_GLOBE_VIEW
vec3 decomposed_pos_and_skirt=decomposeToPosAndSkirt(a_pos);vec3 latLng=u_grid_matrix*vec3(decomposed_pos_and_skirt.xy,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float mercatorX=mercatorXfromLng(latLng[1]);float tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];float uvX=mercatorX*tiles-idx;float uvY=mercatorY*tiles-idy;uv=vec2(uvX,uvY);vec3 globe_pos=latLngToECEF(latLng.xy);globe_pos+=normalize(globe_pos)*u_raster_elevation*GLOBE_UPSCALE;vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {vec2 merc_pos=vec2(mercatorX,mercatorY);merc_world_pos=vec4(merc_pos,u_raster_elevation,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition)*w,w);gl_Position=u_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
#else
uv=a_texture_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*w,u_raster_elevation*w,w);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
#endif
v_pos0=uv;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}`),rasterParticleDraw:Na("uniform sampler2D u_color_ramp;in float v_particle_speed;void main() {glFragColor=texture(u_color_ramp,vec2(v_particle_speed,0.5));}",`#include "_prelude_raster_particle.glsl"
in float a_index;uniform sampler2D u_particle_texture;uniform float u_particle_texture_side_len;uniform vec2 u_tile_offset;out float v_particle_speed;void main() {ivec2 pixel_coord=ivec2(
mod(a_index,u_particle_texture_side_len),a_index/u_particle_texture_side_len);vec4 pixel=texelFetch(u_particle_texture,pixel_coord,0);vec2 pos=unpack_pos_from_rgba(pixel)+u_tile_offset;vec2 tex_coord=fract(pos);vec2 velocity=lookup_velocity(tex_coord);if (velocity==INVALID_VELOCITY) {gl_Position=AWAY;v_particle_speed=0.0;} else {gl_Position=vec4(2.0*pos-1.0,0,1);v_particle_speed=length(velocity);}gl_PointSize=1.0;}`),rasterParticleTexture:Na("uniform sampler2D u_texture;uniform float u_opacity;in vec2 v_tex_pos;void main() {vec4 color=texture(u_texture,v_tex_pos);glFragColor=vec4(floor(255.0*color*u_opacity)/255.0);}","in vec2 a_pos;out vec2 v_tex_pos;void main() {vec2 uv=0.5*a_pos+vec2(0.5);v_tex_pos=uv;gl_Position=vec4(a_pos,0.0,1.0);}"),rasterParticleUpdate:Na(`#include "_prelude_raster_particle.glsl"
uniform sampler2D u_particle_texture;uniform mediump float u_particle_texture_side_len;uniform mediump float u_speed_factor;uniform highp float u_reset_rate;uniform highp float u_rand_seed;in highp vec2 v_tex_coord;vec2 linearstep(vec2 edge0,vec2 edge1,vec2 x) {return  clamp((x-edge0)/(edge1-edge0),vec2(0),vec2(1));}const highp vec3 rand_constants=vec3(12.9898,78.233,4375.85453);highp float rand(const highp vec2 co) {highp float t=dot(rand_constants.xy,co);return fract(sin(t)*(rand_constants.z+t));}void main() {ivec2 pixel_coord=ivec2(v_tex_coord*u_particle_texture_side_len);highp vec4 pixel=texelFetch(u_particle_texture,pixel_coord,0);highp vec2 pos=unpack_pos_from_rgba(pixel);highp vec2 velocity=lookup_velocity(clamp(pos,0.0,1.0));highp vec2 dp=velocity==INVALID_VELOCITY ? vec2(0) : velocity*u_speed_factor;pos=pos+dp;highp vec2 seed=(pos+v_tex_coord)*u_rand_seed;highp vec2 random_pos=vec2(rand(seed+1.3),rand(seed+2.1));highp vec2 persist_rate=pow(
linearstep(vec2(-u_particle_pos_offset),vec2(0),pos)*linearstep(vec2(1.0+u_particle_pos_offset),vec2(1),pos),vec2(4)
);highp vec2 per_frame_persist=pow(persist_rate,abs(dp)/u_particle_pos_offset);highp float drop_rate=1.0-per_frame_persist.x*per_frame_persist.y;drop_rate=any(greaterThanEqual(abs(pos-0.5),vec2(0.5+u_particle_pos_offset))) ? 1.0 : drop_rate;highp float drop=step(1.0-drop_rate-u_reset_rate,rand(seed));highp vec2 next_pos=mix(pos,random_pos,drop);glFragColor=pack_pos_to_rgba(next_pos);}`,"in vec2 a_pos;out vec2 v_tex_coord;void main() {v_tex_coord=0.5*(a_pos+vec2(1.0));gl_Position=vec4(a_pos,0.0,1.0);}"),symbol:Na(`#include "_prelude_lighting.glsl"
#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;uniform bool u_is_halo;uniform lowp float u_scale_factor;
#ifdef ICON_TRANSITION
uniform float u_icon_transition;
#endif
#ifdef COLOR_ADJUSTMENT
uniform mat4 u_color_adj_mat;
#endif
#ifdef INDICATOR_CUTOUT
in highp float v_z_offset;
#endif
in vec2 v_tex_a;
#ifdef ICON_TRANSITION
in vec2 v_tex_b;
#endif
in float v_draw_halo;in vec3 v_gamma_scale_size_fade_opacity;
#ifdef RENDER_TEXT_AND_SYMBOL
in float is_sdf;in vec2 v_tex_a_icon;
#endif
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
#pragma mapbox: define lowp float emissive_strength
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
#pragma mapbox: initialize lowp float emissive_strength
vec4 out_color;float fade_opacity=v_gamma_scale_size_fade_opacity[2];
#ifdef RENDER_TEXT_AND_SYMBOL
if (is_sdf==ICON) {vec2 tex_icon=v_tex_a_icon;lowp float alpha=opacity*fade_opacity;glFragColor=texture(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
return;}
#endif
#ifdef RENDER_SDF
float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_gamma_scale_size_fade_opacity.x;float size=v_gamma_scale_size_fade_opacity.y;float fontScale=u_is_text ? size/24.0 : size;out_color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;bool draw_halo=v_draw_halo > 0.0;if (draw_halo) {out_color=halo_color;gamma=(halo_blur*u_scale_factor*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width*u_scale_factor/fontScale)/SDF_PX;}lowp float dist=texture(u_texture,v_tex_a).r;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);out_color*=alpha;
#else
#ifdef ICON_TRANSITION
vec4 a=texture(u_texture,v_tex_a)*(1.0-u_icon_transition);vec4 b=texture(u_texture,v_tex_b)*u_icon_transition;out_color=(a+b);
#else
out_color=texture(u_texture,v_tex_a);
#endif
#ifdef COLOR_ADJUSTMENT
out_color=u_color_adj_mat*out_color;
#endif
#endif
out_color*=opacity*fade_opacity;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,emissive_strength);
#endif
#ifdef INDICATOR_CUTOUT
out_color=applyCutout(out_color,v_z_offset);
#endif
glFragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_terrain.vertex.glsl"
in vec4 a_pos_offset;in vec4 a_tex_size;in vec4 a_pixeloffset;in vec4 a_projected_pos;in float a_fade_opacity;
#ifdef Z_OFFSET
in float a_auto_z_offset;
#endif
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_globe_anchor;in vec3 a_globe_normal;
#endif
#ifdef ICON_TRANSITION
in vec2 a_texb;
#endif
#ifdef OCCLUSION_QUERIES
in float a_occlusion_query_opacity;
#endif
#ifdef INDICATOR_CUTOUT
out highp float v_z_offset;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_elevation_from_sea;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;uniform bool u_is_halo;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
out vec2 v_tex_a;
#ifdef ICON_TRANSITION
out vec2 v_tex_b;
#endif
out float v_draw_halo;out vec3 v_gamma_scale_size_fade_opacity;
#ifdef RENDER_TEXT_AND_SYMBOL
out float is_sdf;out vec2 v_tex_a_icon;
#endif
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
#pragma mapbox: define lowp float emissive_strength
#pragma mapbox: define lowp float occlusion_opacity
#pragma mapbox: define lowp float z_offset
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
#pragma mapbox: initialize lowp float emissive_strength
#pragma mapbox: initialize lowp float occlusion_opacity
#pragma mapbox: initialize lowp float z_offset
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;float e=u_elevation_from_sea ? z_offset : z_offset+elevation(tile_anchor);
#ifdef Z_OFFSET
e+=a_auto_z_offset;
#endif
vec3 h=elevationVector(tile_anchor)*e;float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;vec3 world_pos_globe;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos_globe=a_globe_anchor+h;world_pos=mix_globe_mercator(world_pos_globe,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetprojected_point;vec2 a;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);vec4 projected_point_globe=u_matrix*vec4(world_pos_globe,1);a=projected_point_globe.xy/projected_point_globe.w;
#else
offsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);a=projected_point.xy/projected_point.w;
#endif
vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
#ifdef PROJECTED_POS_ON_VIEWPORT
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xyz+h,1.0);
#else
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz,mercator_pos,u_zoom_transition)+h;projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);    
#endif
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
#ifdef Z_OFFSET
z+=u_pitch_with_map ? a_auto_z_offset+(u_elevation_from_sea ? z_offset : z_offset) : 0.0;
#else
z+=u_pitch_with_map ? (u_elevation_from_sea ? z_offset : z_offset) : 0.0;
#endif
float occlusion_fade=globe_occlusion_fade;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float out_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));
#ifdef DEPTH_OCCLUSION
float depth_occlusion=occlusionFadeMultiSample(projected_point);float depth_occlusion_multplier=mix(occlusion_opacity,1.0,depth_occlusion);out_fade_opacity*=depth_occlusion_multplier;
#endif
#ifdef OCCLUSION_QUERIES
float occludedFadeMultiplier=mix(occlusion_opacity,1.0,a_occlusion_query_opacity);out_fade_opacity*=occludedFadeMultiplier;
#endif
float alpha=opacity*out_fade_opacity;float hidden=float(alpha==0.0 || projected_point.w <=0.0 || occlusion_fade==0.0);
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,hidden);
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,hidden);
#endif
float gamma_scale=gl_Position.w;v_draw_halo=(u_is_halo && float(gl_InstanceID)==0.0) ? 1.0 : 0.0;v_gamma_scale_size_fade_opacity=vec3(gamma_scale,size,out_fade_opacity);v_tex_a=a_tex/u_texsize;
#ifdef RENDER_TEXT_AND_SYMBOL
is_sdf=a_size[0]-2.0*a_size_min;v_tex_a_icon=a_tex/u_texsize_icon;
#endif
#ifdef ICON_TRANSITION
v_tex_b=a_texb/u_texsize;
#endif
#ifdef INDICATOR_CUTOUT
v_z_offset=e;
#endif
}`),terrainRaster:Na(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_shadow.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform sampler2D u_image0;in vec2 v_pos0;
#ifdef FOG
in float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
in vec4 v_pos_light_view_0;in vec4 v_pos_light_view_1;
#endif
uniform vec3 u_ground_shadow_factor;void main() {vec4 image_color=texture(u_image0,v_pos0);vec4 color;
#ifdef LIGHTING_3D_MODE
const vec3 normal=vec3(0.0,0.0,1.0);
#ifdef RENDER_SHADOWS
float cutoffOpacity=1.0;
#ifdef RENDER_CUTOFF
cutoffOpacity=cutoff_opacity(u_cutoff_params,1.0/gl_FragCoord.w);
#endif
#ifdef LIGHTING_3D_ALPHA_EMISSIVENESS
vec3 unlit_base=image_color.rgb*(1.0-image_color.a);vec3 emissive_base=image_color.rgb*image_color.a;float ndotl=u_shadow_direction.z;float occlusion=ndotl < 0.0 ? 1.0 : shadow_occlusion(v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w,0.0);ndotl=max(0.0,ndotl);vec3 lit=apply_lighting(unlit_base,normal,mix(1.0,(1.0-(u_shadow_intensity*occlusion))*ndotl,cutoffOpacity));vec3 emissive=compute_emissive_draped(emissive_base,1.0-u_shadow_intensity,occlusion,u_ground_shadow_factor);color.rgb=lit+emissive;color.a=1.0;
#else
float lighting_factor=shadowed_light_factor_normal_unbiased(normal,v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w);color=apply_lighting(image_color,normal,mix(1.0,lighting_factor,cutoffOpacity));
#endif
#else
float lighting_factor=u_lighting_directional_dir.z;color=apply_lighting(image_color,normal,lighting_factor);
#ifdef LIGHTING_3D_ALPHA_EMISSIVENESS
color.rgb=mix(color.rgb,image_color.rgb,image_color.a);color.a=1.0;
#endif
#endif
#else
color=image_color;
#endif
#ifdef FOG
#ifdef ZERO_EXAGGERATION
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#else
color=fog_dither(fog_apply_from_vert(color,v_fog_opacity));
#endif
#endif
glFragColor=color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
uniform mat4 u_matrix;uniform float u_skirt_height;in vec2 a_pos;out vec2 v_pos0;
#ifdef FOG
out float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out vec4 v_pos_light_view_0;out vec4 v_pos_light_view_1;out float v_depth;
#endif
void main() {vec3 decomposedPosAndSkirt=decomposeToPosAndSkirt(a_pos);float skirt=decomposedPosAndSkirt.z;vec2 decodedPos=decomposedPosAndSkirt.xy;float elevation=elevation(decodedPos)-skirt*u_skirt_height;v_pos0=decodedPos/8192.0;gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);
#ifdef FOG
#ifdef ZERO_EXAGGERATION
v_fog_pos=fog_position(decodedPos);
#else
v_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));
#endif
#endif
#ifdef RENDER_SHADOWS
vec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);
#endif
}`),terrainDepth:Na("precision highp float;in float v_depth;void main() {glFragColor=pack_depth(v_depth);}",`#include "_prelude_terrain.vertex.glsl"
uniform mat4 u_matrix;in vec2 a_pos;out float v_depth;void main() {float elevation=elevation(a_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}`),skybox:Na(`#include "_prelude_fog.fragment.glsl"
in lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(
cos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=texture(u_cubemap,uv).rgb;
#ifdef FOG
sky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);
#endif
sky_color+=0.1*sun_disk(v_uv,u_sun_direction);glFragColor=vec4(sky_color*u_opacity,u_opacity);
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
}`,_l),skyboxGradient:Na(`#include "_prelude_fog.fragment.glsl"
in highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture(u_color_ramp,vec2(progress,0.5));
#ifdef FOG
color.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;
#endif
color*=u_opacity;glFragColor=color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
}`,_l),skyboxCapture:Na(`
in highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;precision highp float;
#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)
#define BETA_M                  vec3(21e-6,21e-6,21e-6)
#define MIE_G                   0.76
#define DENSITY_HEIGHT_SCALE_R  8000.0
#define DENSITY_HEIGHT_SCALE_M  1200.0
#define PLANET_RADIUS           6360e3
#define ATMOSPHERE_RADIUS       6420e3
#define SAMPLE_STEPS            10
#define DENSITY_STEPS           4
float ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;glFragColor=vec4(color,1.0);}`,"in highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;out highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:Na(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform sampler2D u_image0;uniform float u_far_z_cutoff;in vec2 v_pos0;
#ifndef FOG
uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;
#endif
void main() {vec4 color;
#ifdef CUSTOM_ANTIALIASING
highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;highp float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);highp float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture(u_image0,v_pos0);
#ifdef LIGHTING_3D_MODE
#ifdef LIGHTING_3D_ALPHA_EMISSIVENESS
raster=apply_lighting_with_emission_ground(raster,raster.a);color=vec4(clamp(raster.rgb,vec3(0),vec3(1))*antialias,antialias);
#else
raster=apply_lighting_ground(raster);color=vec4(raster.rgb*antialias,raster.a*antialias);
#endif
#else
color=vec4(raster.rgb*antialias,raster.a*antialias);
#endif
#else
color=texture(u_image0,v_pos0);
#ifdef LIGHTING_3D_MODE
#ifdef LIGHTING_3D_ALPHA_EMISSIVENESS
color=apply_lighting_with_emission_ground(color,color.a);color.a=1.0;
#else
color=apply_lighting_ground(color);
#endif
#endif
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
color*=1.0-step(u_far_z_cutoff,1.0/gl_FragCoord.w);glFragColor=color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
uniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;uniform float u_skirt_height;
#ifdef GLOBE_POLES
in vec3 a_globe_pos;in vec2 a_uv;
#else
in vec2 a_pos;
#endif
out vec2 v_pos0;void main() {
#ifdef GLOBE_POLES
vec3 globe_pos=a_globe_pos;vec2 uv=a_uv;
#else
float tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];vec3 decomposed_pos_and_skirt=decomposeToPosAndSkirt(a_pos);vec3 latLng=u_grid_matrix*vec3(decomposed_pos_and_skirt.xy,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=mercatorX*tiles-idx;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);
#endif
v_pos0=uv;vec2 tile_pos=uv*EXTENT;vec3 globe_derived_up_vector=normalize(globe_pos)*u_tile_up_scale;
#ifdef GLOBE_POLES
vec3 up_vector=globe_derived_up_vector;
#else
vec3 up_vector=elevationVector(tile_pos);
#endif
float height=elevation(tile_pos);globe_pos+=up_vector*height;
#ifndef GLOBE_POLES
globe_pos-=globe_derived_up_vector*u_skirt_height*decomposed_pos_and_skirt.z;
#endif
#ifdef GLOBE_POLES
vec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);
#else
vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height-u_skirt_height*decomposed_pos_and_skirt.z,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);
#endif
gl_Position=u_proj_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
}`),globeAtmosphere:Na(`#include "_prelude_fog.fragment.glsl"
uniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec4 u_color;uniform vec4 u_high_color;uniform vec4 u_space_color;uniform float u_horizon_angle;in highp vec3 v_ray_dir;in highp vec3 v_horizon_dir;void main() {highp vec3 dir=normalize(v_ray_dir);float globe_pos_dot_dir;
#ifdef PROJECTION_GLOBE_VIEW
globe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {
#ifdef ALPHA_PASS
glFragColor=vec4(0,0,0,0);return;
#else
#ifdef NATIVE
glFragColor=vec4(1,1,1,1);
#else
glFragColor=vec4(0,0,0,1);
#endif
return;
#endif
}
#endif
highp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?
0.0 : max(acos(clamp(dot(dir,horizon_dir),-1.0,1.0)),0.0);float horizon_angle;
#ifdef PROJECTION_GLOBE_VIEW
highp vec3 closest_point=globe_pos_dot_dir*dir;highp float closest_point_to_center=length(closest_point-u_globe_pos);highp float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));horizon_angle=globe_pos_dot_dir < 0.0 ?
PI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);
#else
horizon_angle=horizon_angle_mercator;
#endif
horizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;
#ifdef ALPHA_PASS
float a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);glFragColor=vec4(1.0,1.0,1.0,a);
#else
vec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c=c2;glFragColor=vec4(c*t,t);
#endif
}`,`in vec3 a_pos;in vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;out highp vec3 v_ray_dir;out highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(
mix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}`),model:Na(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_shadow.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform float u_opacity;uniform vec3 u_lightcolor;uniform vec3 u_lightpos;uniform float u_lightintensity;uniform vec4 u_baseColorFactor;uniform vec4 u_emissiveFactor;uniform float u_metallicFactor;uniform float u_roughnessFactor;uniform float u_emissive_strength;in highp vec4 v_position_height;in lowp vec4 v_color_mix;
#ifdef RENDER_SHADOWS
in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;in float v_depth_shadows;
#endif
#ifdef OCCLUSION_TEXTURE_TRANSFORM
uniform vec4 u_occlusionTextureTransform;
#endif
#pragma mapbox: define-attribute highp vec3 normal_3f
#pragma mapbox: define-attribute highp vec3 color_3f
#pragma mapbox: define-attribute highp vec4 color_4f
#pragma mapbox: define-attribute highp vec2 uv_2f
#pragma mapbox: initialize-attribute highp vec3 normal_3f
#pragma mapbox: initialize-attribute highp vec3 color_3f
#pragma mapbox: initialize-attribute highp vec4 color_4f
#pragma mapbox: initialize-attribute highp vec2 uv_2f
#ifdef HAS_ATTRIBUTE_a_pbr
in lowp vec4 v_roughness_metallic_emissive_alpha;in mediump vec4 v_height_based_emission_params;
#endif
#ifdef HAS_TEXTURE_u_baseColorTexture
uniform sampler2D u_baseColorTexture;uniform bool u_baseTextureIsAlpha;uniform bool u_alphaMask;uniform float u_alphaCutoff;
#endif
#ifdef HAS_TEXTURE_u_metallicRoughnessTexture
uniform sampler2D u_metallicRoughnessTexture;
#endif
#ifdef HAS_TEXTURE_u_occlusionTexture
uniform sampler2D u_occlusionTexture;uniform float u_aoIntensity;
#endif
#ifdef HAS_TEXTURE_u_normalTexture
uniform sampler2D u_normalTexture;
#endif
#ifdef HAS_TEXTURE_u_emissionTexture
uniform sampler2D u_emissionTexture;
#endif
#ifdef APPLY_LUT_ON_GPU
uniform highp sampler3D u_lutTexture;
#endif
#ifdef TERRAIN_FRAGMENT_OCCLUSION
in highp float v_depth;uniform highp sampler2D u_depthTexture;uniform highp vec2 u_inv_depth_size;uniform highp vec2 u_depth_range_unpack;
#ifdef DEPTH_D24
highp float unpack_depth(highp float depth) {return  depth*u_depth_range_unpack.x+u_depth_range_unpack.y;}
#else
highp float unpack_depth_rgba(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}
#endif
bool isOccluded() {highp vec2 coord=gl_FragCoord.xy*u_inv_depth_size;
#ifdef DEPTH_D24
highp float depth=unpack_depth(texture(u_depthTexture,coord).r);
#else
highp float depth=unpack_depth_rgba(texture(u_depthTexture,coord));
#endif
return v_depth > depth+0.0005;}
#endif
#define saturate(_x) clamp(_x,0.,1.)
vec3 linearTosRGB(vec3 color) {return pow(color,vec3(1./2.2));}vec3 sRGBToLinear(vec3 srgbIn) {return pow(srgbIn,vec3(2.2));}float calculate_NdotL(vec3 normal,vec3 lightDir) {const float ext=0.70710678118;return (clamp(dot(normal,lightDir),-ext,1.0)+ext)/(1.0+ext);}vec3 getDiffuseShadedColor(vec3 albedo,vec3 normal,vec3 lightDir,vec3 lightColor)
{
#ifdef LIGHTING_3D_MODE
vec3 transformed_normal=vec3(-normal.xy,normal.z);float lighting_factor;
#ifdef RENDER_SHADOWS
lighting_factor=shadowed_light_factor_normal(transformed_normal,v_pos_light_view_0,v_pos_light_view_1,v_depth_shadows);
#else
lighting_factor=saturate(dot(transformed_normal,u_lighting_directional_dir));
#endif
return apply_lighting(albedo,transformed_normal,lighting_factor);
#else
vec3 n=normal;float colorvalue=((albedo.x*0.2126)+(albedo.y*0.7152))+(albedo.z*0.0722);vec3 c=vec3(0.03,0.03,0.03);float directional=clamp(dot(n,vec3(lightDir)),0.0,1.0);directional=mix(1.0-u_lightintensity,max((1.0-colorvalue)+u_lightintensity,1.0),directional);vec3 c3=c+clamp((albedo*directional)*lightColor,mix(vec3(0.0),vec3(0.3),vec3(1.0)-lightColor),vec3(1.0));return c3;
#endif
}vec4 getBaseColor() {vec4 albedo=u_baseColorFactor;
#ifdef HAS_ATTRIBUTE_a_color_3f
albedo*=vec4(color_3f,1.0);
#endif
#ifdef HAS_ATTRIBUTE_a_pbr
#else
#ifdef HAS_ATTRIBUTE_a_color_4f
albedo*=color_4f;
#endif
#endif
#if defined (HAS_TEXTURE_u_baseColorTexture) && defined (HAS_ATTRIBUTE_a_uv_2f)
vec4 texColor=texture(u_baseColorTexture,uv_2f);if(u_alphaMask) {if (texColor.w < u_alphaCutoff) {discard;}}
#ifdef UNPREMULT_TEXTURE_IN_SHADER
if(texColor.w > 0.0) {texColor.rgb/=texColor.w;}texColor.w=1.0;
#endif
if(u_baseTextureIsAlpha) {if (texColor.r < 0.5) {discard;}} else {texColor.rgb=sRGBToLinear(texColor.rgb);albedo*=texColor;}
#endif
vec4 color=vec4(mix(albedo.rgb,v_color_mix.rgb,v_color_mix.a),albedo.a);
#ifdef APPLY_LUT_ON_GPU
color=applyLUT(u_lutTexture,color);
#endif
return color;}highp mat3 cotangentFrame(highp vec3 N,highp vec3 p,highp vec2 uv ) {
#ifdef HAS_TEXTURE_u_normalTexture
highp vec3 dp1=vec3(dFdx(p.x),dFdx(p.y),dFdx(p.z));highp vec3 dp2=vec3(dFdy(p.x),dFdy(p.y),dFdy(p.z));highp vec2 duv1=vec2(dFdx(uv.x),dFdx(uv.y));highp vec2 duv2=vec2(dFdy(uv.x),dFdy(uv.y));highp vec3 dp2perp=cross( dp2,N );highp vec3 dp1perp=cross( N,dp1 );highp vec3 T=dp2perp*duv1.x+dp1perp*duv2.x;highp vec3 B=dp2perp*duv1.y+dp1perp*duv2.y;highp float lengthT=dot(T,T);highp float lengthB=dot(B,B);highp float maxLength=max(lengthT,lengthB);highp float invmax=inversesqrt( maxLength );highp mat3 res=mat3( T*invmax,B*invmax,N );return res;
#else
return mat3(1.0);
#endif
}highp vec3 getNormal(){highp vec3 n;
#ifdef HAS_ATTRIBUTE_a_normal_3f
n=normalize(normal_3f);
#else
highp vec3 fdx=vec3(dFdx(v_position_height.x),dFdx(v_position_height.y),dFdx(v_position_height.z));highp vec3 fdy=vec3(dFdy(v_position_height.x),dFdy(v_position_height.y),dFdy(v_position_height.z));n=normalize(cross(fdx,fdy))*-1.0;
#endif
#if defined(HAS_TEXTURE_u_normalTexture) && defined(HAS_ATTRIBUTE_a_uv_2f)
vec3 nMap=texture( u_normalTexture,uv_2f).xyz;nMap=normalize(2.0*nMap-vec3(1.0));highp vec3 v=normalize(-v_position_height.xyz);highp mat3 TBN=cotangentFrame(n,v,uv_2f);n=normalize(TBN*nMap);
#endif
return n;}struct Material {float perceptualRoughness;float alphaRoughness;float metallic;vec3 f90;vec4 baseColor;vec3 diffuseColor;vec3 specularColor;highp vec3 normal;};Material getPBRMaterial() {Material mat;mat.baseColor=getBaseColor();mat.perceptualRoughness=u_roughnessFactor;mat.metallic=u_metallicFactor;
#ifdef HAS_ATTRIBUTE_a_pbr
mat.perceptualRoughness=v_roughness_metallic_emissive_alpha.x;mat.metallic=v_roughness_metallic_emissive_alpha.y;mat.baseColor.w*=v_roughness_metallic_emissive_alpha.w;
#endif
#if defined(HAS_TEXTURE_u_metallicRoughnessTexture) && defined(HAS_ATTRIBUTE_a_uv_2f) 
vec4 mrSample=texture(u_metallicRoughnessTexture,uv_2f);mat.perceptualRoughness*=mrSample.g;mat.metallic*=mrSample.b;
#endif
const float c_minRoughness=0.04;mat.perceptualRoughness=clamp(mat.perceptualRoughness,c_minRoughness,1.0);mat.metallic=saturate(mat.metallic);mat.alphaRoughness=mat.perceptualRoughness*mat.perceptualRoughness;const vec3 f0=vec3(0.04);mat.diffuseColor=mat.baseColor.rgb*(vec3(1.0)-f0);mat.diffuseColor*=1.0-mat.metallic;mat.specularColor=mix(f0,mat.baseColor.rgb,mat.metallic);highp float reflectance=max(max(mat.specularColor.r,mat.specularColor.g),mat.specularColor.b);highp float reflectance90=saturate(reflectance*25.0);mat.f90=vec3(reflectance90);mat.normal=getNormal();return mat;}float V_GGX(float NdotL,float NdotV,float roughness)
{float a2=roughness*roughness;float GGXV=NdotL*sqrt(NdotV*NdotV*(1.0-a2)+a2);float GGXL=NdotV*sqrt(NdotL*NdotL*(1.0-a2)+a2);return 0.5/(GGXV+GGXL);}float V_GGXFast(float NdotL,float NdotV,float roughness) {float a=roughness;float GGXV=NdotL*(NdotV*(1.0-a)+a);float GGXL=NdotV*(NdotL*(1.0-a)+a);return 0.5/(GGXV+GGXL);}vec3 F_Schlick(vec3 specularColor,vec3 f90,float VdotH)
{return specularColor+(f90-specularColor)*pow(clamp(1.0-VdotH,0.0,1.0),5.0);}vec3 F_SchlickFast(vec3 specularColor,float VdotH)
{float x=1.0-VdotH;float x4=x*x*x*x;return specularColor+(1.0-specularColor)*x4*x;}float D_GGX(highp float NdotH,float alphaRoughness)
{highp float a4=alphaRoughness*alphaRoughness;highp float f=(NdotH*a4-NdotH)*NdotH+1.0;return a4/(PI*f*f);}vec3 diffuseBurley(Material mat,float LdotH,float NdotL,float NdotV)
{float f90=2.0*LdotH*LdotH*mat.alphaRoughness-0.5;return (mat.diffuseColor/PI)*(1.0+f90*pow((1.0-NdotL),5.0))*(1.0+f90*pow((1.0-NdotV),5.0));}vec3 diffuseLambertian(Material mat)
{
#ifdef LIGHTING_3D_MODE
return mat.diffuseColor;
#else
return mat.diffuseColor/PI;
#endif
}vec3 EnvBRDFApprox(vec3 specularColor,float roughness,highp float NdotV)
{vec4 c0=vec4(-1,-0.0275,-0.572,0.022);vec4 c1=vec4(1,0.0425,1.04,-0.04);highp vec4 r=roughness*c0+c1;highp float a004=min(r.x*r.x,exp2(-9.28*NdotV))*r.x+r.y;vec2 AB=vec2(-1.04,1.04)*a004+r.zw;return specularColor*AB.x+AB.y;}vec3 computeIndirectLightContribution(Material mat,float NdotV,vec3 normal)
{vec3 env_light=vec3(0.65,0.65,0.65);
#ifdef LIGHTING_3D_MODE
float ambient_factor=calculate_ambient_directional_factor(normal);env_light=u_lighting_ambient_color*ambient_factor;
#endif
vec3 envBRDF=EnvBRDFApprox(mat.specularColor,mat.perceptualRoughness,NdotV);vec3 indirectSpecular= envBRDF*env_light;vec3 indirectDiffuse=mat.diffuseColor*env_light;return indirectSpecular+indirectDiffuse;}vec3 computeLightContribution(Material mat,vec3 lightPosition,vec3 lightColor)
{highp vec3 n=mat.normal;highp vec3 v=normalize(-v_position_height.xyz);highp vec3 l=normalize(lightPosition);highp vec3 h=normalize(v+l);float NdotV=clamp(abs(dot(n,v)),0.001,1.0);float NdotL=saturate(dot(n,l));highp float NdotH=saturate(dot(n,h));float VdotH=saturate(dot(v,h));vec3 f=F_SchlickFast(mat.specularColor,VdotH);float g=V_GGXFast(NdotL,NdotV,mat.alphaRoughness);float d=D_GGX(NdotH,mat.alphaRoughness);vec3 diffuseTerm=(1.0-f)*diffuseLambertian(mat);vec3 specularTerm=f*g*d;vec3 transformed_normal=vec3(-n.xy,n.z);float lighting_factor;
#ifdef RENDER_SHADOWS
lighting_factor=shadowed_light_factor_normal(transformed_normal,v_pos_light_view_0,v_pos_light_view_1,v_depth_shadows);
#else
lighting_factor=NdotL;
#endif
vec3 directLightColor=(specularTerm+diffuseTerm)*lighting_factor*lightColor;vec3 indirectLightColor=computeIndirectLightContribution(mat,NdotV,transformed_normal);vec3 color=(saturate(directLightColor)+indirectLightColor);float intensityFactor=1.0;
#if !defined(LIGHTING_3D_MODE)
const vec3 luminosityFactor=vec3(0.2126,0.7152,0.0722);float luminance=dot(diffuseTerm,luminosityFactor);intensityFactor=mix((1.0-u_lightintensity),max((1.0-luminance+u_lightintensity),1.0),NdotL);
#endif
color*=intensityFactor;return color;}void main() {
#ifdef TERRAIN_FRAGMENT_OCCLUSION
if (isOccluded()) {discard;}
#endif
vec3 lightDir=u_lightpos;vec3 lightColor=u_lightcolor;
#ifdef LIGHTING_3D_MODE
lightDir=u_lighting_directional_dir;lightDir.xy=-lightDir.xy;lightColor=u_lighting_directional_color;
#endif
vec4 finalColor;
#ifdef DIFFUSE_SHADED
vec3 N=getNormal();vec3 baseColor=getBaseColor().rgb;vec3 diffuse=getDiffuseShadedColor(baseColor,N,lightDir,lightColor);
#ifdef HAS_TEXTURE_u_occlusionTexture
float ao=(texture(u_occlusionTexture,uv_2f).r-1.0)*u_aoIntensity+1.0;diffuse*=ao;
#endif
finalColor=vec4(mix(diffuse,baseColor,u_emissive_strength),1.0)*u_opacity;
#else
Material mat=getPBRMaterial();vec3 color=computeLightContribution(mat,lightDir,lightColor);float ao=1.0;
#if defined (HAS_TEXTURE_u_occlusionTexture) && defined(HAS_ATTRIBUTE_a_uv_2f)
#ifdef OCCLUSION_TEXTURE_TRANSFORM
vec2 uv=uv_2f.xy*u_occlusionTextureTransform.zw+u_occlusionTextureTransform.xy;
#else
vec2 uv=uv_2f;
#endif
ao=(texture(u_occlusionTexture,uv).x-1.0)*u_aoIntensity+1.0;color*=ao;
#endif
vec4 emissive=u_emissiveFactor;
#if defined(HAS_TEXTURE_u_emissionTexture) && defined(HAS_ATTRIBUTE_a_uv_2f)
emissive.rgb*=sRGBToLinear(texture(u_emissionTexture,uv_2f).rgb);
#endif
#ifdef APPLY_LUT_ON_GPU
float emissiveFactorLength=max(length(u_emissiveFactor.rgb),0.001);emissive.rgb=sRGBToLinear(applyLUT(u_lutTexture,linearTosRGB(emissive.rgb/emissiveFactorLength).rbg))*emissiveFactorLength;
#endif
color+=emissive.rgb;float opacity=mat.baseColor.w*u_opacity;
#ifdef HAS_ATTRIBUTE_a_pbr
float resEmission=v_roughness_metallic_emissive_alpha.z;resEmission*=v_height_based_emission_params.z+v_height_based_emission_params.w*pow(clamp(v_height_based_emission_params.x,0.0,1.0),v_height_based_emission_params.y);vec3 color_mix=v_color_mix.rgb;
#ifdef APPLY_LUT_ON_GPU
color_mix=applyLUT(u_lutTexture,color_mix);
#endif
color=mix(color,color_mix,min(1.0,resEmission));
#ifdef HAS_ATTRIBUTE_a_color_4f
float distance=length(vec2(1.3*max(0.0,abs(color_4f.x)-color_4f.z),color_4f.y));distance+= mix(0.5,0.0,clamp(resEmission-1.0,0.0,1.0));opacity*=v_roughness_metallic_emissive_alpha.w*saturate(1.0-distance*distance);
#endif
#endif
vec3 unlitColor=mat.baseColor.rgb*ao+emissive.rgb;color=mix(color,unlitColor,u_emissive_strength);color=linearTosRGB(color);color*=opacity;finalColor=vec4(color,opacity);
#endif
#ifdef FOG
finalColor=fog_dither(fog_apply_premultiplied(finalColor,v_fog_pos,v_position_height.w));
#endif
#ifdef RENDER_CUTOFF
finalColor*=v_cutoff_opacity;
#endif
#ifdef INDICATOR_CUTOUT
finalColor=applyCutout(finalColor,v_position_height.w);
#endif
glFragColor=finalColor;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
in vec3 a_pos_3f;
#pragma mapbox: define-attribute highp vec3 normal_3f
#pragma mapbox: define-attribute highp vec2 uv_2f
#pragma mapbox: define-attribute highp vec3 color_3f
#pragma mapbox: define-attribute highp vec4 color_4f
#pragma mapbox: define-attribute-vertex-shader-only highp vec4 pbr
#pragma mapbox: define-attribute-vertex-shader-only highp vec3 heightBasedEmissiveStrength
uniform mat4 u_matrix;uniform mat4 u_node_matrix;uniform mat4 u_lighting_matrix;uniform vec3 u_camera_pos;uniform vec4 u_color_mix;
#ifdef INSTANCED_ARRAYS
in vec4 a_normal_matrix0;in vec4 a_normal_matrix1;in vec4 a_normal_matrix2;in vec4 a_normal_matrix3;
#else
uniform highp mat4 u_normal_matrix;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;out float v_depth_shadows;
#endif
out vec4 v_position_height;out lowp vec4 v_color_mix;
#ifdef TERRAIN_FRAGMENT_OCCLUSION
out highp float v_depth;
#endif
#ifdef HAS_ATTRIBUTE_a_pbr
out lowp vec4 v_roughness_metallic_emissive_alpha;out mediump vec4 v_height_based_emission_params;
#endif
vec3 sRGBToLinear(vec3 srgbIn) {return pow(srgbIn,vec3(2.2));}void main() {
#pragma mapbox: initialize-attribute highp vec3 normal_3f
#pragma mapbox: initialize-attribute highp vec2 uv_2f
#pragma mapbox: initialize-attribute highp vec3 color_3f
#pragma mapbox: initialize-attribute highp vec4 color_4f
#pragma mapbox: initialize-attribute-custom highp vec4 pbr
#pragma mapbox: initialize-attribute-custom highp vec3 heightBasedEmissiveStrength
highp mat4 normal_matrix;
#ifdef INSTANCED_ARRAYS
normal_matrix=mat4(a_normal_matrix0,a_normal_matrix1,a_normal_matrix2,a_normal_matrix3);
#else
normal_matrix=u_normal_matrix;
#endif
vec3 local_pos;mat3 rs;
#ifdef MODEL_POSITION_ON_GPU
vec3 pos_color=normal_matrix[0].xyz;vec4 translate=normal_matrix[1];vec3 pos_a=floor(pos_color);vec3 rgb=1.05*(pos_color-pos_a);float hidden=float(pos_a.x > EXTENT);float color_mix=pos_a.z/100.0;v_color_mix=vec4(sRGBToLinear(rgb),color_mix);float meter_to_tile=normal_matrix[0].w;vec4 pos=vec4(pos_a.xy,translate.z,1.0);rs[0].x=normal_matrix[1].w;rs[0].yz=normal_matrix[2].xy;rs[1].xy=normal_matrix[2].zw;rs[1].z=normal_matrix[3].x;rs[2].xyz=normal_matrix[3].yzw;vec4 pos_node=u_lighting_matrix*vec4(a_pos_3f,1.0);vec3 rotated_pos_node=rs*pos_node.xyz;vec3 pos_model_tile=(rotated_pos_node+vec3(translate.xy,0.0))*vec3(meter_to_tile,meter_to_tile,1.0);pos.xyz+=pos_model_tile;local_pos=pos.xyz;gl_Position=mix(u_matrix*pos,AWAY,hidden);pos.z*=meter_to_tile;v_position_height.xyz=pos.xyz-u_camera_pos;
#else
local_pos=a_pos_3f;gl_Position=u_matrix*vec4(a_pos_3f,1);v_position_height.xyz=vec3(u_lighting_matrix*vec4(a_pos_3f,1));v_color_mix=vec4(sRGBToLinear(u_color_mix.rgb),u_color_mix.a);
#endif
v_position_height.w=a_pos_3f.z;
#ifdef HAS_ATTRIBUTE_a_pbr
vec4 albedo_c=decode_color(pbr.xy);vec2 e_r_m=unpack_float(pbr.z);vec2 r_m= unpack_float(e_r_m.y*16.0);r_m.r=r_m.r*16.0;v_color_mix=vec4(albedo_c.rgb,1.0);v_roughness_metallic_emissive_alpha=vec4(vec3(r_m,e_r_m.x)/255.0,albedo_c.a);v_roughness_metallic_emissive_alpha.z*=2.0;float heightBasedRelativeIntepolation=a_pos_3f.z*heightBasedEmissiveStrength.x+heightBasedEmissiveStrength.y;v_height_based_emission_params.x=heightBasedRelativeIntepolation;v_height_based_emission_params.y=heightBasedEmissiveStrength.z;vec2 emissionMultiplierValues=unpack_float(pbr.w)/256.0;v_height_based_emission_params.z=emissionMultiplierValues.x;v_height_based_emission_params.w=emissionMultiplierValues.y-emissionMultiplierValues.x;
#endif
#ifdef FOG
v_fog_pos=fog_position(local_pos);
#endif
#ifdef RENDER_CUTOFF
v_cutoff_opacity=cutoff_opacity(u_cutoff_params,gl_Position.z);
#endif
#ifdef TERRAIN_FRAGMENT_OCCLUSION
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef HAS_ATTRIBUTE_a_normal_3f
#ifdef MODEL_POSITION_ON_GPU
float x_squared_scale=dot(rs[0],rs[0]);float y_squared_scale=dot(rs[1],rs[1]);float z_squared_scale=dot(rs[2],rs[2]);vec3 squared_scale=vec3(x_squared_scale,y_squared_scale,z_squared_scale);normal_3f=rs*((u_lighting_matrix*vec4(normal_3f,0.0)).xyz/squared_scale);normal_3f=normalize(normal_3f);
#else
normal_3f=vec3(normal_matrix*vec4(normal_3f,0));
#endif
#endif
#ifdef HAS_ATTRIBUTE_a_pbr
#ifdef HAS_ATTRIBUTE_a_color_4f
v_roughness_metallic_emissive_alpha.w=clamp(color_4f.a*v_roughness_metallic_emissive_alpha.w*(v_roughness_metallic_emissive_alpha.z-1.0),0.0,1.0);
#endif
#endif
#ifdef RENDER_SHADOWS
vec4 shadow_pos=u_node_matrix*vec4(local_pos,1.0);
#ifdef NORMAL_OFFSET
#ifdef HAS_ATTRIBUTE_a_normal_3f
#ifdef MODEL_POSITION_ON_GPU
vec3 offset=shadow_normal_offset(vec3(-normal_3f.xy,normal_3f.z));shadow_pos.xyz+=offset*shadow_normal_offset_multiplier0();
#else
vec3 offset=shadow_normal_offset_model(normal_3f);shadow_pos.xyz+=offset*shadow_normal_offset_multiplier0();
#endif
#endif
#endif
v_pos_light_view_0=u_light_matrix_0*shadow_pos;v_pos_light_view_1=u_light_matrix_1*shadow_pos;v_depth_shadows=gl_Position.w;
#endif
}`),modelDepth:Na(`in highp float v_depth;void main() {
#ifndef DEPTH_TEXTURE
glFragColor=pack_depth(v_depth);
#endif
}`,`in vec3 a_pos_3f;uniform mat4 u_matrix;out highp float v_depth;
#ifdef MODEL_POSITION_ON_GPU
#ifdef INSTANCED_ARRAYS
in vec4 a_normal_matrix0;in vec4 a_normal_matrix1;in vec4 a_normal_matrix2;in vec4 a_normal_matrix3;
#else
uniform highp mat4 u_instance;
#endif
uniform highp mat4 u_node_matrix;
#endif
void main() {
#ifdef MODEL_POSITION_ON_GPU
highp mat4 instance;
#ifdef INSTANCED_ARRAYS
instance=mat4(a_normal_matrix0,a_normal_matrix1,a_normal_matrix2,a_normal_matrix3);
#else
instance=u_instance;
#endif
vec3 pos_color=instance[0].xyz;vec4 translate=instance[1];vec3 pos_a=floor(pos_color);float hidden=float(pos_a.x > EXTENT);float meter_to_tile=instance[0].w;vec4 pos=vec4(pos_a.xy,translate.z,1.0);mat3 rs;rs[0].x=instance[1].w;rs[0].yz=instance[2].xy;rs[1].xy=instance[2].zw;rs[1].z=instance[3].x;rs[2].xyz=instance[3].yzw;vec4 pos_node=u_node_matrix*vec4(a_pos_3f,1.0);vec3 rotated_pos_node=rs*pos_node.xyz;vec3 pos_model_tile=(rotated_pos_node+vec3(translate.xy,0.0))*vec3(meter_to_tile,meter_to_tile,1.0);pos.xyz+=pos_model_tile;gl_Position=mix(u_matrix*pos,AWAY,hidden);
#else
gl_Position=u_matrix*vec4(a_pos_3f,1);
#endif
v_depth=gl_Position.z/gl_Position.w;}`),stars:Na(`in highp vec2 v_uv;in mediump float v_intensity;float shapeCircle(in vec2 uv)
{float beginFade=0.6;float lengthFromCenter=length(v_uv);return 1.0-clamp((lengthFromCenter-beginFade)/(1.0-beginFade),0.0,1.0);}void main() {float alpha=shapeCircle(v_uv);vec3 color=vec3(1.0,1.0,1.0);alpha*=v_intensity;glFragColor=vec4(color*alpha,alpha);HANDLE_WIREFRAME_DEBUG;}`,`
in vec3 a_pos_3f;in vec2 a_uv;in float a_size_scale;in float a_fade_opacity;uniform mat4 u_matrix;uniform vec3 u_up;uniform vec3 u_right;uniform float u_intensity_multiplier;out highp vec2 v_uv;out mediump float v_intensity;void main() {v_uv=a_uv;v_intensity=a_fade_opacity*u_intensity_multiplier;vec3 pos=a_pos_3f;pos+=a_uv.x*u_right*a_size_scale;pos+=a_uv.y*u_up*a_size_scale;gl_Position=u_matrix*vec4(pos,1.0);}`),snowParticle:Na("in highp vec2 uv;in highp float alphaMultiplier;uniform vec4 u_particleColor;uniform vec2 u_simpleShapeParameters;void main() {float t=clamp((length(uv)-u_simpleShapeParameters.x)/(1.0-u_simpleShapeParameters.x),0.0,1.0);float alpha=1.0-pow(t,pow(10.0,u_simpleShapeParameters.y));alpha*=alphaMultiplier;alpha*=u_particleColor.a;vec3 color=u_particleColor.rgb*alpha;glFragColor=vec4(color,alpha) ;HANDLE_WIREFRAME_DEBUG;}",`
in highp vec3 a_pos_3f;in highp vec2 a_uv;in highp vec4 a_snowParticleData;in highp vec4 a_snowParticleDataHorizontalOscillation;uniform mat4 u_modelview;uniform mat4 u_projection;uniform vec3 u_cam_pos;uniform vec2 u_screenSize;uniform float u_time;uniform float u_boxSize;uniform float u_velocityConeAperture; 
uniform float u_velocity;uniform vec3 u_direction;uniform float u_horizontalOscillationRadius; 
uniform float u_horizontalOscillationRate; 
uniform float u_billboardSize;uniform vec2 u_thinningCenterPos;uniform vec3 u_thinningShape;uniform float u_thinningAffectedRatio;uniform float u_thinningParticleOffset;out highp vec2 uv;out highp float alphaMultiplier;void main() {vec3 pos=a_pos_3f;float halfBoxSize=0.5*u_boxSize;pos.xyz*=halfBoxSize;pos+=u_cam_pos;float velocityConeApertureRad=radians(u_velocityConeAperture*0.5);float coneAnglePichRad=velocityConeApertureRad*a_snowParticleData.z;float coneAngleHeadingRad=a_snowParticleData.w*radians(360.0);vec3 localZ=normalize(u_direction);vec3 localX=normalize(cross(localZ,vec3(1,0,0)));vec3 localY=normalize(cross(localZ,localX));vec3 direction;direction.x=cos(coneAngleHeadingRad)*sin(coneAnglePichRad);direction.y=sin(coneAngleHeadingRad)*sin(coneAnglePichRad);direction.z=cos(coneAnglePichRad);direction=normalize(direction);vec3 simPosLocal=vec3(0,0,0);float velocityScale=(1.0+3.0*a_snowParticleData.y)*u_velocity;simPosLocal+=direction*velocityScale*u_time;float horizontalOscillationRadius=u_horizontalOscillationRadius*a_snowParticleDataHorizontalOscillation.x;float horizontalOscillationAngle=u_horizontalOscillationRate*u_time*(-1.0+2.0*a_snowParticleDataHorizontalOscillation.y);simPosLocal.xy+=horizontalOscillationRadius*vec2(cos(horizontalOscillationAngle),sin(horizontalOscillationAngle));vec3 simPos=localX*simPosLocal.x+
localY*simPosLocal.y+localZ*simPosLocal.z;pos+=simPos;pos=fract((pos+vec3(halfBoxSize))/vec3(u_boxSize))*u_boxSize-vec3(halfBoxSize);float clipZ=-u_cam_pos.z+pos.z;vec4 posView=u_modelview*vec4(pos,1.0);float size=u_billboardSize;alphaMultiplier=1.0;vec4 posScreen=u_projection*posView;posScreen/=posScreen.w;posScreen.xy=vec2(0.5)+posScreen.xy*0.5;posScreen.xy*=u_screenSize;vec2 thinningCenterPos=u_thinningCenterPos.xy;thinningCenterPos.y=u_screenSize.y-thinningCenterPos.y;float screenDist=length((thinningCenterPos-posScreen.xy)/(0.5*u_screenSize));screenDist+=a_snowParticleData.x*u_thinningParticleOffset;float scaleFactorMode=0.0;float thinningShapeDist=u_thinningShape.x+u_thinningShape.y;if (screenDist < thinningShapeDist) {float thinningFadeRatio=clamp((screenDist-u_thinningShape.x)/u_thinningShape.y,0.0,1.0);thinningFadeRatio=pow(thinningFadeRatio,u_thinningShape.z);if (a_snowParticleData.x < u_thinningAffectedRatio) {scaleFactorMode=1.0-thinningFadeRatio;alphaMultiplier=thinningFadeRatio;}}vec4 posScreen1=u_projection*vec4(posView.x-size,posView.yzw);posScreen1/=posScreen1.w;vec4 posScreen2=u_projection*vec4(posView.x+size,posView.yzw);posScreen2/=posScreen2.w;posScreen1.xy=vec2(0.5)+posScreen1.xy*0.5;posScreen1.xy*=u_screenSize;posScreen2.xy=vec2(0.5)+posScreen2.xy*0.5;posScreen2.xy*=u_screenSize;float screenLength=length(posScreen1.xy-posScreen2.xy);float screenEpsilon=3.0;float scaleFactor=1.0;if (screenLength < screenEpsilon) {scaleFactor=screenEpsilon/max(screenLength,0.01);scaleFactor=mix(scaleFactor,1.0,scaleFactorMode);}float screenEpsilon2=15.0;if (screenLength > screenEpsilon2) {scaleFactor=screenEpsilon2/max(screenLength,0.01);}size*=scaleFactor;vec2 right=size*vec2(1,0);vec2 up=size*vec2(0,1);posView.xy+=right*a_uv.x;posView.xy+=up*a_uv.y;uv=a_uv;gl_Position=u_projection*posView;}`),rainParticle:Na("in highp vec2 uv;in highp float particleRandomValue;uniform sampler2D u_texScreen;uniform float u_distortionStrength;uniform vec4 u_color;uniform vec2 u_thinningCenterPos;uniform vec3 u_thinningShape;uniform float u_thinningAffectedRatio;uniform float u_thinningParticleOffset;uniform float u_shapeDirectionalPower;uniform float u_mode;void main() {vec2 st=uv*0.5+vec2(0.5);vec2 uvm=uv;uvm.y=-1.0+2.0*pow(st.y,u_shapeDirectionalPower);float shape=clamp(1.0-length(uvm),0.0,1.0);float alpha=abs(shape)*u_color.a;vec2 screenSize=vec2(textureSize(u_texScreen,0));vec2 thinningCenterPos=u_thinningCenterPos.xy;thinningCenterPos.y=screenSize.y-thinningCenterPos.y;float screenDist=length((thinningCenterPos-gl_FragCoord.xy)/(0.5*screenSize));screenDist+=(0.5+0.5*particleRandomValue)*u_thinningParticleOffset;float thinningShapeDist=u_thinningShape.x+u_thinningShape.y;float thinningAlpha=1.0;if (screenDist < thinningShapeDist) {float thinningFadeRatio=clamp((screenDist-u_thinningShape.x)/u_thinningShape.y,0.0,1.0);thinningFadeRatio=pow(thinningFadeRatio,u_thinningShape.z);thinningAlpha*=thinningFadeRatio;}vec2 offsetXY=normalize(uvm)*abs(shape);vec2 stScreen=(gl_FragCoord.xy+offsetXY*u_distortionStrength*thinningAlpha)/screenSize;vec3 colorScreen=texture(u_texScreen,stScreen).rgb;alpha*=thinningAlpha;glFragColor=mix(vec4(colorScreen,1.0),vec4(u_color.rgb*alpha,alpha),u_mode);HANDLE_WIREFRAME_DEBUG;}",`
in highp vec3 a_pos_3f;in highp vec2 a_uv;in highp vec4 a_rainParticleData;uniform mat4 u_modelview;uniform mat4 u_projection;uniform vec3 u_cam_pos;uniform float u_time;uniform float u_boxSize;uniform float u_velocityConeAperture; 
uniform float u_velocity; 
uniform vec2 u_rainDropletSize;uniform vec3 u_rainDirection;out highp vec2 uv;out highp float particleRandomValue;void main() {vec3 pos=a_pos_3f;float halfBoxSize=0.5*u_boxSize;pos*=halfBoxSize; 
pos+=u_cam_pos;float velocityConeApertureRad=radians(u_velocityConeAperture*0.5);float coneAnglePichRad=velocityConeApertureRad*a_rainParticleData.z;float coneAngleHeadingRad=a_rainParticleData.w*radians(360.0);vec3 localZ=normalize(u_rainDirection);vec3 localX=normalize(cross(localZ,vec3(1,0,0)));vec3 localY=normalize(cross(localZ,localX));vec3 directionLocal;directionLocal.x=cos(coneAngleHeadingRad)*sin(coneAnglePichRad);directionLocal.y=sin(coneAngleHeadingRad)*sin(coneAnglePichRad);directionLocal.z=cos(coneAnglePichRad);directionLocal=normalize(directionLocal);vec3 directionWorld=localX*directionLocal.x+localY*directionLocal.y+localZ*directionLocal.z;float velocityScale=(1.0+3.0*a_rainParticleData.y)*u_velocity;vec3 simPosLocal=vec3(0,0,0);simPosLocal+=directionLocal*velocityScale*u_time;vec3 simPos=localX*simPosLocal.x+
localY*simPosLocal.y+localZ*simPosLocal.z;pos+=simPos;pos=fract((pos+vec3(halfBoxSize))/vec3(u_boxSize))*u_boxSize-vec3(halfBoxSize);vec4 posView=u_modelview*vec4(pos,1.0);vec3 directionView=normalize((u_modelview*vec4(directionWorld,0.0)).xyz);vec3 side=cross(directionView,normalize(posView.xyz));posView.xyz+=side*a_uv.x*u_rainDropletSize.x;posView.xyz+=directionView*a_uv.y*u_rainDropletSize.y;uv=a_uv;particleRandomValue=a_rainParticleData.x;gl_Position=u_projection*posView;}`),vignette:Na("uniform vec3 u_vignetteShape;uniform vec4 u_vignetteColor;in vec2 st;void main() {float screenDist=length(st);float alpha=clamp((screenDist-u_vignetteShape.x)/u_vignetteShape.y,0.0,1.0);alpha=pow(alpha,u_vignetteShape.z)*u_vignetteColor.a;vec3 color=u_vignetteColor.rgb;glFragColor=vec4(color*alpha,alpha) ;}","in vec2 a_pos_2f;out vec2 st;void main() {st=a_pos_2f;gl_Position=vec4(a_pos_2f,0,1);}"),occlusion:Na("uniform vec4 u_color;void main() {glFragColor=u_color;}",`#include "_prelude_terrain.vertex.glsl"
in highp vec2 a_offset_xy;uniform highp vec3 u_anchorPos;uniform mat4 u_matrix;uniform vec2 u_screenSizePx;uniform vec2 u_occluderSizePx;void main() {vec3 world_pos=u_anchorPos;
#ifdef TERRAIN
float e=elevation(world_pos.xy);world_pos.z+=e;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1.0);projected_point.xy+=projected_point.w*a_offset_xy*0.5*u_occluderSizePx/u_screenSizePx;gl_Position=projected_point;}`)};function Zl(p,r){const l=p.replace(/\s*\/\/[^\n]*\n/g,`
`).split(`
`);for(let m of l)if(m=m.trim(),m[0]==="#"&&m.includes("if")&&!m.includes("endif")){m=m.replace("#","").replace(/ifdef|ifndef|elif|if/g,"").replace(/!|defined|\(|\)|\|\||&&/g,"").replace(/\s+/g," ").trim();const b=m.split(" ");for(const w of b)r.includes(w)||r.push(w)}}function Na(p,r){const l=/#include\s+"([^"]+)"/g,m=/#pragma mapbox: ([\w\-]+) ([\w]+) ([\w]+) ([\w]+)/g;let b=r.match(/(attribute(\S*)|(^\s*|;)in) (highp |mediump |lowp )?([\w]+) ([\w]+)/gm);b&&(b=b.map(W=>{const G=W.split(" ");return G[G.length-1]}),b=[...new Set(b)]);const w={},I=[],D=[];if(p=p.replace(l,(W,G)=>(D.push(G),"")),(r=r.replace(l,(W,G)=>(I.push(G),""))).includes("flat out"))return void console.error('The usage of "flat" qualifier is disallowed, see: https://bugs.webkit.org/show_bug.cgi?id=268071');let Z=[...Dl];Zl(p,Z),Zl(r,Z);for(const W of[...I,...D])jl[W]||console.error(`Undefined include: ${W}`),Qs[W]||(Qs[W]=[],Zl(jl[W],Qs[W])),Z=[...Z,...Qs[W]];return{fragmentSource:p=p.replace(m,(W,G,te,ne,ce)=>(w[ce]=!0,G==="define"?`
#ifndef HAS_UNIFORM_u_${ce}
in ${te} ${ne} ${ce};
#else
uniform ${te} ${ne} u_${ce};
#endif
`:G==="initialize"?`
#ifdef HAS_UNIFORM_u_${ce}
    ${te} ${ne} ${ce} = u_${ce};
#endif
`:G==="define-attribute"?`
#ifdef HAS_ATTRIBUTE_a_${ce}
    in ${te} ${ne} ${ce};
#endif
`:G==="initialize-attribute"?"":void 0)),vertexSource:r=r.replace(m,(W,G,te,ne,ce)=>{const Te=ne==="float"?"vec2":ne,we=ce.match(/color/)?"color":Te;return G==="define-attribute-vertex-shader-only"?`
#ifdef HAS_ATTRIBUTE_a_${ce}
in ${te} ${ne} a_${ce};
#endif
`:w[ce]?G==="define"?`
#ifndef HAS_UNIFORM_u_${ce}
uniform lowp float u_${ce}_t;
in ${te} ${Te} a_${ce};
out ${te} ${ne} ${ce};
#else
uniform ${te} ${ne} u_${ce};
#endif
`:G==="initialize"?we==="vec4"?`
#ifndef HAS_UNIFORM_u_${ce}
    ${ce} = a_${ce};
#else
    ${te} ${ne} ${ce} = u_${ce};
#endif
`:`
#ifndef HAS_UNIFORM_u_${ce}
    ${ce} = unpack_mix_${we}(a_${ce}, u_${ce}_t);
#else
    ${te} ${ne} ${ce} = u_${ce};
#endif
`:G==="define-attribute"?`
#ifdef HAS_ATTRIBUTE_a_${ce}
    in ${te} ${ne} a_${ce};
    out ${te} ${ne} ${ce};
#endif
`:G==="initialize-attribute"?`
#ifdef HAS_ATTRIBUTE_a_${ce}
    ${ce} = a_${ce};
#endif
`:void 0:G==="define"?`
#ifndef HAS_UNIFORM_u_${ce}
uniform lowp float u_${ce}_t;
in ${te} ${Te} a_${ce};
#else
uniform ${te} ${ne} u_${ce};
#endif
`:G==="define-instanced"?we==="mat4"?`
#ifdef INSTANCED_ARRAYS
in vec4 a_${ce}0;
in vec4 a_${ce}1;
in vec4 a_${ce}2;
in vec4 a_${ce}3;
#else
uniform ${te} ${ne} u_${ce};
#endif
`:`
#ifdef INSTANCED_ARRAYS
in ${te} ${Te} a_${ce};
#else
uniform ${te} ${ne} u_${ce};
#endif
`:G==="initialize-attribute-custom"?`
#ifdef HAS_ATTRIBUTE_a_${ce}
    ${te} ${ne} ${ce} = a_${ce};
#endif
`:we==="vec4"?`
#ifndef HAS_UNIFORM_u_${ce}
    ${te} ${ne} ${ce} = a_${ce};
#else
    ${te} ${ne} ${ce} = u_${ce};
#endif
`:`
#ifndef HAS_UNIFORM_u_${ce}
    ${te} ${ne} ${ce} = unpack_mix_${we}(a_${ce}, u_${ce}_t);
#else
    ${te} ${ne} ${ce} = u_${ce};
#endif
`}),staticAttributes:b,usedDefines:Z,vertexIncludes:I,fragmentIncludes:D}}class Pc{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null}bind(r,l,m,b,w,I,D,Z){this.context=r;let W=this.boundPaintVertexBuffers.length!==b.length;for(let te=0;!W&&te<b.length;te++)this.boundPaintVertexBuffers[te]!==b[te]&&(W=!0);let G=this.boundDynamicVertexBuffers.length!==D.length;for(let te=0;!G&&te<D.length;te++)this.boundDynamicVertexBuffers[te]!==D[te]&&(G=!0);if(!this.vao||this.boundProgram!==l||this.boundLayoutVertexBuffer!==m||W||G||this.boundIndexBuffer!==w||this.boundVertexOffset!==I)this.freshBind(l,m,b,w,I,D,Z);else{r.bindVertexArrayOES.set(this.vao);for(const te of D)te&&(te.bind(),Z&&te.instanceCount&&te.setVertexAttribDivisor(r.gl,l,Z));w&&w.dynamicDraw&&w.bind()}}freshBind(r,l,m,b,w,I,D){const Z=r.numAttributes,W=this.context,G=W.gl;this.vao&&this.destroy(),this.vao=W.gl.createVertexArray(),W.bindVertexArrayOES.set(this.vao),this.boundProgram=r,this.boundLayoutVertexBuffer=l,this.boundPaintVertexBuffers=m,this.boundIndexBuffer=b,this.boundVertexOffset=w,this.boundDynamicVertexBuffers=I,l.enableAttributes(G,r),l.bind(),l.setVertexAttribPointers(G,r,w);for(const te of m)te.enableAttributes(G,r),te.bind(),te.setVertexAttribPointers(G,r,w);for(const te of I)te&&(te.enableAttributes(G,r),te.bind(),te.setVertexAttribPointers(G,r,w),D&&te.instanceCount&&te.setVertexAttribDivisor(G,r,D));b&&b.bind(),W.currentNumAttributes=Z}destroy(){this.vao&&(this.context.gl.deleteVertexArray(this.vao),this.vao=null)}}function zl(p,r){const l=Math.pow(2,r.canonical.z),m=r.canonical.y;return[new d.aa(0,m/l).toLngLat().lat,new d.aa(0,(m+1)/l).toLngLat().lat]}function El(p,r,l,m,b,w,I){const D=p.context,Z=D.gl,W=l.hillshadeFBO;if(!W)return;p.prepareDrawTile();const G=p.isTileAffectedByFog(r),te=p.getOrCreateProgram("hillshade",{overrideFog:G});D.activeTexture.set(Z.TEXTURE0),Z.bindTexture(Z.TEXTURE_2D,W.colorAttachment.get());const ne=((Re,Oe,Ge,dt)=>{const st=Ge.paint.get("hillshade-shadow-color"),bt=Ge.paint.get("hillshade-shadow-color-use-theme").constantOr("default")==="none",pt=Ge.paint.get("hillshade-highlight-color"),gt=Ge.paint.get("hillshade-highlight-color-use-theme").constantOr("default")==="none",ft=Ge.paint.get("hillshade-accent-color"),yt=Ge.paint.get("hillshade-accent-color-use-theme").constantOr("default")==="none",Bt=Ge.paint.get("hillshade-emissive-strength");let In=d.ai(Ge.paint.get("hillshade-illumination-direction"));if(Ge.paint.get("hillshade-illumination-anchor")==="viewport")In-=Re.transform.angle;else if(Re.style&&Re.style.enable3dLights()&&Re.style.directionalLight){const Hn=Re.style.directionalLight.properties.get("direction"),Zn=d.cb(Hn.x,Hn.y,Hn.z);In=d.ai(Zn[1])}const pn=!Re.options.moving;return{u_matrix:dt||Re.transform.calculateProjMatrix(Oe.tileID.toUnwrapped(),pn),u_image:0,u_latrange:zl(0,Oe.tileID),u_light:[Ge.paint.get("hillshade-exaggeration"),In],u_shadow:st.toRenderColor(bt?null:Ge.lut),u_highlight:pt.toRenderColor(gt?null:Ge.lut),u_emissive_strength:Bt,u_accent:ft.toRenderColor(yt?null:Ge.lut)}})(p,l,m,p.terrain?r.projMatrix:null);p.uploadCommonUniforms(D,te,r.toUnwrapped());const{tileBoundsBuffer:ce,tileBoundsIndexBuffer:Te,tileBoundsSegments:we}=p.getTileBoundsBuffers(l);te.draw(p,Z.TRIANGLES,b,w,I,fo.disabled,ne,m.id,ce,Te,we)}function Ph(p,r,l){if(!r.needsDEMTextureUpload)return;const m=p.context,b=m.gl;m.pixelStoreUnpackPremultiplyAlpha.set(!1),r.demTexture=r.demTexture||p.getTileTexture(l.stride);const w=l.getPixels();r.demTexture?r.demTexture.update(w,{premultiply:!1}):r.demTexture=new d.T(m,w,b.R32F,{premultiply:!1}),r.needsDEMTextureUpload=!1}function Om(p,r,l){const m=p.context,b=m.gl;if(!r.dem)return;const w=r.dem;if(m.activeTexture.set(b.TEXTURE1),Ph(p,r,w),!r.demTexture)return;r.demTexture.bind(b.NEAREST,b.CLAMP_TO_EDGE);const I=w.dim;m.activeTexture.set(b.TEXTURE0);let D=r.hillshadeFBO;if(!D){const ne=new d.T(m,{width:I,height:I,data:null},b.RGBA8);ne.bind(b.LINEAR,b.CLAMP_TO_EDGE),D=r.hillshadeFBO=m.createFramebuffer(I,I,!0,"renderbuffer"),D.colorAttachment.set(ne.texture)}m.bindFramebuffer.set(D.framebuffer),m.viewport.set([0,0,I,I]);const{tileBoundsBuffer:Z,tileBoundsIndexBuffer:W,tileBoundsSegments:G}=p.getMercatorTileBoundsBuffers(),te=[];p.linearFloatFilteringSupported()&&te.push("TERRAIN_DEM_FLOAT_FORMAT"),p.getOrCreateProgram("hillshadePrepare",{defines:te}).draw(p,b.TRIANGLES,ji.disabled,vo.disabled,qo.unblended,fo.disabled,((ne,ce)=>{const Te=ce.stride,we=d.ab.mat4.create();return d.ab.mat4.ortho(we,0,d.ag,-d.ag,0,0,1),d.ab.mat4.translate(we,we,[0,-d.ag,0]),{u_matrix:we,u_image:1,u_dimension:[Te,Te],u_zoom:ne.overscaledZ}})(r.tileID,w),l.id,Z,W,G),r.needsHillshadePrepare=!1}class Gs{constructor(r){this.gl=r.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(r){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Ud extends Gs{getDefault(){return d.aj.transparent}set(r){const l=this.current;(r.r!==l.r||r.g!==l.g||r.b!==l.b||r.a!==l.a||this.dirty)&&(this.gl.clearColor(r.r,r.g,r.b,r.a),this.current=r,this.dirty=!1)}}class Pf extends Gs{getDefault(){return 1}set(r){(r!==this.current||this.dirty)&&(this.gl.clearDepth(r),this.current=r,this.dirty=!1)}}class Wd extends Gs{getDefault(){return 0}set(r){(r!==this.current||this.dirty)&&(this.gl.clearStencil(r),this.current=r,this.dirty=!1)}}class Oh extends Gs{getDefault(){return[!0,!0,!0,!0]}set(r){const l=this.current;(r[0]!==l[0]||r[1]!==l[1]||r[2]!==l[2]||r[3]!==l[3]||this.dirty)&&(this.gl.colorMask(r[0],r[1],r[2],r[3]),this.current=r,this.dirty=!1)}}class Of extends Gs{getDefault(){return!0}set(r){(r!==this.current||this.dirty)&&(this.gl.depthMask(r),this.current=r,this.dirty=!1)}}class Ip extends Gs{getDefault(){return 255}set(r){(r!==this.current||this.dirty)&&(this.gl.stencilMask(r),this.current=r,this.dirty=!1)}}class $h extends Gs{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(r){const l=this.current;(r.func!==l.func||r.ref!==l.ref||r.mask!==l.mask||this.dirty)&&(this.gl.stencilFunc(r.func,r.ref,r.mask),this.current=r,this.dirty=!1)}}class hd extends Gs{getDefault(){const r=this.gl;return[r.KEEP,r.KEEP,r.KEEP]}set(r){const l=this.current;(r[0]!==l[0]||r[1]!==l[1]||r[2]!==l[2]||this.dirty)&&(this.gl.stencilOp(r[0],r[1],r[2]),this.current=r,this.dirty=!1)}}class Gd extends Gs{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;r?l.enable(l.STENCIL_TEST):l.disable(l.STENCIL_TEST),this.current=r,this.dirty=!1}}class $f extends Gs{getDefault(){return[0,1]}set(r){const l=this.current;(r[0]!==l[0]||r[1]!==l[1]||this.dirty)&&(this.gl.depthRange(r[0],r[1]),this.current=r,this.dirty=!1)}}class rc extends Gs{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;r?l.enable(l.DEPTH_TEST):l.disable(l.DEPTH_TEST),this.current=r,this.dirty=!1}}class Rh extends Gs{getDefault(){return this.gl.LESS}set(r){(r!==this.current||this.dirty)&&(this.gl.depthFunc(r),this.current=r,this.dirty=!1)}}class Rf extends Gs{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;r?l.enable(l.BLEND):l.disable(l.BLEND),this.current=r,this.dirty=!1}}class Af extends Gs{getDefault(){const r=this.gl;return[r.ONE,r.ZERO,r.ONE,r.ZERO]}set(r){const l=this.current;(r[0]!==l[0]||r[1]!==l[1]||r[2]!==l[2]||r[3]!==l[3]||this.dirty)&&(this.gl.blendFuncSeparate(r[0],r[1],r[2],r[3]),this.current=r,this.dirty=!1)}}class pd extends Gs{getDefault(){return d.aj.transparent}set(r){const l=this.current;(r.r!==l.r||r.g!==l.g||r.b!==l.b||r.a!==l.a||this.dirty)&&(this.gl.blendColor(r.r,r.g,r.b,r.a),this.current=r,this.dirty=!1)}}class Ah extends Gs{getDefault(){return this.gl.FUNC_ADD}set(r){(r!==this.current||this.dirty)&&(this.gl.blendEquationSeparate(r,r),this.current=r,this.dirty=!1)}}class Df extends Gs{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;r?l.enable(l.CULL_FACE):l.disable(l.CULL_FACE),this.current=r,this.dirty=!1}}class Dh extends Gs{getDefault(){return this.gl.BACK}set(r){(r!==this.current||this.dirty)&&(this.gl.cullFace(r),this.current=r,this.dirty=!1)}}class cu extends Gs{getDefault(){return this.gl.CCW}set(r){(r!==this.current||this.dirty)&&(this.gl.frontFace(r),this.current=r,this.dirty=!1)}}let Xd=class extends Gs{getDefault(){return null}set(p){(p!==this.current||this.dirty)&&(this.gl.useProgram(p),this.current=p,this.dirty=!1)}};class Tp extends Gs{getDefault(){return this.gl.TEXTURE0}set(r){(r!==this.current||this.dirty)&&(this.gl.activeTexture(r),this.current=r,this.dirty=!1)}}class Mp extends Gs{getDefault(){const r=this.gl;return[0,0,r.drawingBufferWidth,r.drawingBufferHeight]}set(r){const l=this.current;(r[0]!==l[0]||r[1]!==l[1]||r[2]!==l[2]||r[3]!==l[3]||this.dirty)&&(this.gl.viewport(r[0],r[1],r[2],r[3]),this.current=r,this.dirty=!1)}}class Hu extends Gs{getDefault(){return null}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;l.bindFramebuffer(l.FRAMEBUFFER,r),this.current=r,this.dirty=!1}}class qd extends Gs{getDefault(){return null}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;l.bindRenderbuffer(l.RENDERBUFFER,r),this.current=r,this.dirty=!1}}class ic extends Gs{getDefault(){return null}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;l.bindTexture(l.TEXTURE_2D,r),this.current=r,this.dirty=!1}}class Kd extends Gs{getDefault(){return null}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;l.bindBuffer(l.ARRAY_BUFFER,r),this.current=r,this.dirty=!1}}class zh extends Gs{getDefault(){return null}set(r){const l=this.gl;l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,r),this.current=r,this.dirty=!1}}class zf extends Gs{getDefault(){return null}set(r){this.gl&&(r!==this.current||this.dirty)&&(this.gl.bindVertexArray(r),this.current=r,this.dirty=!1)}}class Lh extends Gs{getDefault(){return 4}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;l.pixelStorei(l.UNPACK_ALIGNMENT,r),this.current=r,this.dirty=!1}}class Yd extends Gs{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;l.pixelStorei(l.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r),this.current=r,this.dirty=!1}}class Lf extends Gs{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;l.pixelStorei(l.UNPACK_FLIP_Y_WEBGL,r),this.current=r,this.dirty=!1}}class Jd extends Gs{constructor(r,l){super(r),this.context=r,this.parent=l}getDefault(){return null}}class Vt extends Jd{setDirty(){this.dirty=!0}set(r){if(r===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const l=this.gl;l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,r,0),this.current=r,this.dirty=!1}}class Vn extends Jd{attachment(){return this.gl.DEPTH_ATTACHMENT}set(r){if(r===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const l=this.gl;l.framebufferRenderbuffer(l.FRAMEBUFFER,this.attachment(),l.RENDERBUFFER,r),this.current=r,this.dirty=!1}}class ii extends Jd{attachment(){return this.gl.DEPTH_ATTACHMENT}set(r){if(r===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const l=this.gl;l.framebufferTexture2D(l.FRAMEBUFFER,this.attachment(),l.TEXTURE_2D,r,0),this.current=r,this.dirty=!1}}class Mo extends Vn{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}const nl=(p,r,l)=>({u_matrix:p,u_image0:0,u_skirt_height:r,u_ground_shadow_factor:l}),Ha=(p,r,l,m,b,w,I,D,Z,W,G,te,ne,ce,Te,we)=>({u_proj_matrix:Float32Array.from(p),u_globe_matrix:r,u_normalize_matrix:Float32Array.from(m),u_merc_matrix:l,u_zoom_transition:b,u_merc_center:w,u_image0:0,u_frustum_tl:I,u_frustum_tr:D,u_frustum_br:Z,u_frustum_bl:W,u_globe_pos:G,u_globe_radius:te,u_viewport:ne,u_grid_matrix:we?Float32Array.from(we):new Float32Array(9),u_skirt_height:ce,u_far_z_cutoff:Te});function ml(p,r){return p!=null&&r!=null&&!(!p.hasData()||!r.hasData())&&p.demTexture!=null&&r.demTexture!=null&&p.tileID.key!==r.tileID.key}const Ks=new class{constructor(){this.operations={}}newMorphing(p,r,l,m,b){if(p in this.operations){const w=this.operations[p];w.to.tileID.key!==l.tileID.key&&(w.queued=l)}else this.operations[p]={startTime:m,phase:0,duration:b,from:r,to:l,queued:null}}getMorphValuesForProxy(p){if(!(p in this.operations))return null;const r=this.operations[p];return{from:r.from,to:r.to,phase:r.phase}}update(p){for(const r in this.operations){const l=this.operations[r];for(l.phase=(p-l.startTime)/l.duration;l.phase>=1||!this._validOp(l);)if(!this._nextOp(l,p)){delete this.operations[r];break}}}_nextOp(p,r){return!!p.queued&&(p.from=p.to,p.to=p.queued,p.queued=null,p.phase=0,p.startTime=r,!0)}_validOp(p){return p.from.hasData()&&p.to.hasData()}},Ll={0:null,1:"TERRAIN_VERTEX_MORPHING"};function ol(p,r,l){if(r===0)return 0;const m=r<1&&l===514?.25/r:1;return 6*Math.pow(1.5,22-p)*Math.max(r,1)*m}function Fc(p,r){const l=1<<p.z;return!r&&(p.x===0||p.x===l-1)||p.y===0||p.y===l-1}const Gl=p=>({u_matrix:p});function Pl(p,r,l,m,b){if(b>0){const w=d.q.now(),I=(w-p.timeAdded)/b,D=r?(w-r.timeAdded)/b:-1,Z=l.getSource(),W=m.coveringZoomLevel({tileSize:Z.tileSize,roundZoom:Z.roundZoom}),G=!r||Math.abs(r.tileID.overscaledZ-W)>Math.abs(p.tileID.overscaledZ-W),te=G&&p.refreshedUponExpiration?1:d.aw(G?I:1-D,0,1);return p.refreshedUponExpiration&&I>=1&&(p.refreshedUponExpiration=!1),r?{opacity:1,mix:1-te}:{opacity:te,mix:0}}return{opacity:1,mix:0}}class kc extends go{constructor(r){const l={type:"raster-dem",maxzoom:r.transform.maxZoom},m=new d.D(d.ci(),null),b=Bn("mock-dem",l,m,r.style);super("mock-dem",b,!1),b.setEventedParent(this),this._sourceLoaded=!0}_loadTile(r,l){r.state="loaded",l(null)}}class hc extends go{constructor(r){const l=Bn("proxy",{type:"geojson",maxzoom:r.transform.maxZoom},new d.D(d.ci(),null),r.style);super("proxy",l,!1),l.setEventedParent(this),this.map=this.getSource().map=r,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(r,l,m){if(r.freezeTileCoverage)return;this.transform=r;const b=r.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((w,I)=>{if(w[I.key]="",!this._tiles[I.key]){const D=new $s(I,this._source.tileSize*I.overscaleFactor(),r.tileZoom);D.state="loaded",this._tiles[I.key]=D}return w},{});for(const w in this._tiles)w in b||(this.freeFBO(w),this._tiles[w].unloadVectorData(),delete this._tiles[w])}freeFBO(r){const l=this.proxyCachedFBO[r];if(l!==void 0){const m=Object.values(l);this.renderCachePool.push(...m),delete this.proxyCachedFBO[r]}}deallocRenderCache(){this.renderCache.forEach(r=>r.fb.destroy()),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class oc extends d.aG{constructor(r,l,m){super(r.overscaledZ,r.wrap,r.canonical.z,r.canonical.x,r.canonical.y),this.proxyTileKey=l,this.projMatrix=m}}class ac extends d.cJ{constructor(r,l){super(),this._debugParams={sortTilesHiZFirst:!0,disableRenderCache:!1},r.tp.registerParameter(this._debugParams,["Terrain"],"sortTilesHiZFirst",{},()=>{this._style.map.triggerRepaint()}),r.tp.registerParameter(this._debugParams,["Terrain"],"disableRenderCache",{},()=>{this._style.map.triggerRepaint()}),r.tp.registerButton(["Terrain"],"Invalidate Render Cache",()=>{this.invalidateRenderCache=!0,this._style.map.triggerRepaint()}),this.painter=r,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[m,b,w]=function(Z){const W=new d.b4,G=new d.aU,te=131;W.reserve(17161),G.reserve(33800);const ne=d.ag/128,ce=d.ag+ne/2,Te=ce+ne;for(let Re=-ne;Re<Te;Re+=ne)for(let Oe=-ne;Oe<Te;Oe+=ne){const Ge=Oe<0||Oe>ce||Re<0||Re>ce?24575:0,dt=d.aw(Math.round(Oe),0,d.ag),st=d.aw(Math.round(Re),0,d.ag);W.emplaceBack(dt+Ge,st)}const we=(Re,Oe)=>{const Ge=Oe*te+Re;G.emplaceBack(Ge+1,Ge,Ge+te),G.emplaceBack(Ge+te,Ge+te+1,Ge+1)};for(let Re=1;Re<129;Re++)for(let Oe=1;Oe<129;Oe++)we(Oe,Re);return[0,129].forEach(Re=>{for(let Oe=0;Oe<130;Oe++)we(Oe,Re),we(Re,Oe)}),[W,G,32768]}(),I=r.context;this.gridBuffer=I.createVertexBuffer(m,d.b6.members),this.gridIndexBuffer=I.createIndexBuffer(b),this.gridSegments=d.b7.simpleSegment(0,0,m.length,b.length),this.gridNoSkirtSegments=d.b7.simpleSegment(0,0,m.length,w),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new hc(l.map),this.orthoMatrix=d.ab.mat4.create(),d.ab.mat4.ortho(this.orthoMatrix,this.painter.transform.projection.name==="globe"?.015:0,d.ag,0,d.ag,0,1);const D=I.gl;this._overlapStencilMode=new vo({func:D.GEQUAL,mask:255},0,255,D.KEEP,D.KEEP,D.REPLACE),this._previousZoom=r.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=l,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new kc(l.map),this._pendingGroundEffectLayers=[]}set style(r){r.on("data",this._onStyleDataEvent.bind(this)),this._style=r,this._style.map.on("moveend",()=>{this._clearLineLayersFromRenderCache()})}update(r,l,m){if(r&&r.terrain){this._style!==r&&(this.style=r,this._evaluationZoom=void 0);const b=r.terrain.properties,w=r.terrain.drapeRenderMode===0,I=r.terrain.isZoomDependent();this._previousUpdateTimestamp=this.enabled?this._updateTimestamp:void 0,this._updateTimestamp=d.q.now();const D=r.terrain&&r.terrain.scope,Z=b.get("source"),W=w?this._mockSourceCache:r.getSourceCache(Z,D);if(!W)return void d.w(`Couldn't find terrain source "${Z}".`);if(this.sourceCache=W,this._attenuationRange=r.terrain.getAttenuationRange(),this._exaggeration=I?this.calculateExaggeration(l):b.get("exaggeration"),!l.projection.requiresDraping&&I&&this._exaggeration===0)return void this._disable();this.enabled=!0;const G=()=>{this.sourceCache.used&&d.w(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.
This leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const te=this.getScaledDemTileSize();this.sourceCache.update(l,te,!0),this.resetTileLookupCache(this.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,G(),this._initializing=!0),G(),l.updateElevation(!0,m),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(l),this._emptyDEMTextureDirty=!0,this._previousZoom=l.zoom}else this._disable()}calculateExaggeration(r){if(this._attenuationRange&&r.zoom>=Math.ceil(this._attenuationRange[1]))return this._style.terrain.getExaggeration(r.zoom);const l=this._previousCameraAltitude,m=r.getFreeCameraOptions().position.z/r.pixelsPerMeter*r.worldSize;this._previousCameraAltitude=m;const b=l!=null?m-l:Number.MAX_VALUE;if(Math.abs(b)<2)return this._exaggeration;const w=r.zoom,I=this._style.terrain;if(!this._previousUpdateTimestamp)return I.getExaggeration(w);let D=w-this._previousZoom;const Z=this._previousUpdateTimestamp;let W=w;this._evaluationZoom!=null&&(W=this._evaluationZoom,Math.abs(w-W)>.5&&(D=.5*(w-W+D)),D*b<0&&(W+=D)),this._evaluationZoom=W;const G=I.getExaggeration(W),te=G===I.getExaggeration(Math.max(0,W-.1));if(te&&Math.abs(G-this._exaggeration)<.01)return G;let ne=Math.min(.1,.00375*(this._updateTimestamp-Z));return(te||G<.1||Math.abs(D)<1e-4)&&(ne=Math.min(.2,4*ne)),d.af(this._exaggeration,G,ne)}resetTileLookupCache(r){this._findCoveringTileCache[r]={}}attenuationRange(){return this._attenuationRange}getDemUpscale(){return this.proxySourceCache.getSource().tileSize/128}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_onStyleDataEvent(r){r.coord&&r.dataType==="source"?this._clearRenderCacheForTile(r.sourceCacheId,r.coord):r.dataType==="style"&&(this.invalidateRenderCache=!0,this._evaluationZoom=void 0,this._previousUpdateTimestamp=void 0,this._previousCameraAltitude=void 0)}_disable(){if(this.enabled&&(this.enabled=!1,this._emptyDEMTextureDirty=!0,this._sharedDepthStencil=void 0,this._evaluationZoom=void 0,this._previousUpdateTimestamp=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const r in this._style._mergedSourceCaches)this._style._mergedSourceCaches[r].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this.pool.forEach(r=>r.fb.destroy()),this.pool=[],this.framebufferCopyTexture&&this.framebufferCopyTexture.destroy()}_source(){return this.enabled?this.sourceCache:null}isUsingMockSource(){return this.sourceCache===this._mockSourceCache}exaggeration(){return this.enabled?this._exaggeration:0}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const r=2*this.proxySourceCache.getSource().tileSize;return[r,r]}set useVertexMorphing(r){this._useVertexMorphing=r}updateTileBinding(r){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const l=this.proxySourceCache,m=this.painter.transform;this._initializing&&(this._initializing=m._centerAltitude===0&&this.getAtPointOrZero(d.aa.fromLngLat(m.center),-1)===-1,this._emptyDEMTextureDirty=!this._initializing);const b=this.proxyCoords=l.getIds().map(Z=>{const W=l.getTileByID(Z).tileID;return W.projMatrix=m.calculateProjMatrix(W.toUnwrapped()),W});(function(Z,W){const G=W.transform.pointCoordinate(W.transform.getCameraPoint()),te=new d.P(G.x,G.y);Z.sort((ne,ce)=>{if(ce.overscaledZ-ne.overscaledZ)return ce.overscaledZ-ne.overscaledZ;const Te=new d.P(ne.canonical.x+(1<<ne.canonical.z)*ne.wrap,ne.canonical.y),we=new d.P(ce.canonical.x+(1<<ce.canonical.z)*ce.wrap,ce.canonical.y),Re=te.mult(1<<ne.canonical.z);return Re.x-=.5,Re.y-=.5,Re.distSqr(Te)-Re.distSqr(we)})})(b,this.painter);const w=this.proxyToSource||{};this.proxyToSource={},b.forEach(Z=>{this.proxyToSource[Z.key]={}}),this.terrainTileForTile={};const I=this._style._mergedSourceCaches;for(const Z in I){const W=I[Z];if(!W.used||(W!==this.sourceCache&&this.resetTileLookupCache(W.id),this._setupProxiedCoordsForOrtho(W,r[Z],w),W.usedForTerrain))continue;const G=r[Z];W.getSource().reparseOverscaled&&this._assignTerrainTiles(G)}this.proxiedCoords[l.id]=b.map(Z=>new oc(Z,Z.key,this.orthoMatrix)),this._assignTerrainTiles(b),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(w),this.renderingToTexture=!1;const D={};this._visibleDemTiles=[];for(const Z of this.proxyCoords){const W=this.terrainTileForTile[Z.key];if(!W)continue;const G=W.tileID.key;G in D||(this._visibleDemTiles.push(W),D[G]=G)}}_assignTerrainTiles(r){this._initializing||r.forEach(l=>{if(this.terrainTileForTile[l.key])return;const m=this._findTileCoveringTileID(l,this.sourceCache);m&&(this.terrainTileForTile[l.key]=m)})}_prepareDEMTextures(){const r=this.painter.context,l=r.gl;for(const m in this.terrainTileForTile){const b=this.terrainTileForTile[m],w=b.dem;!w||b.demTexture&&!b.needsDEMTextureUpload||(r.activeTexture.set(l.TEXTURE1),Ph(this.painter,b,w))}}_prepareDemTileUniforms(r,l,m,b){if(!l||l.demTexture==null)return!1;const w=r.tileID.canonical,I=Math.pow(2,l.tileID.canonical.z-w.z),D=b||"";return m[`u_dem_tl${D}`]=[w.x*I%1,w.y*I%1],m[`u_dem_scale${D}`]=I,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}_getLoadedAreaMinimum(){if(!this.enabled)return 0;let r=0;const l=this._visibleDemTiles.reduce((m,b)=>{if(!b.dem)return m;const w=b.dem.tree.minimums[0];return w>0&&r++,m+w},0);return r?l/r:0}_updateEmptyDEMTexture(){const r=this.painter.context,l=r.gl;r.activeTexture.set(l.TEXTURE2);const m=this._getLoadedAreaMinimum(),b=new d.cK({width:1,height:1},new Float32Array([m]));this._emptyDEMTextureDirty=!1;let w=this._emptyDEMTexture;return w?w.update(b,{premultiply:!1}):w=this._emptyDEMTexture=new d.T(r,b,l.R32F,{premultiply:!1}),w}setupElevationDraw(r,l,m){const b=this.painter.context,w=b.gl,I={u_dem:2,u_dem_prev:4,u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_depth_range_unpack:[0,1],u_occluder_half_size:16,u_occlusion_depth_offset:-1e-4,u_exaggeration:0};I.u_exaggeration=this.exaggeration();let D=null,Z=null,W=1;if(m&&m.morphing&&this._useVertexMorphing){const ce=m.morphing.srcDemTile,Te=m.morphing.dstDemTile;W=m.morphing.phase,ce&&Te&&(this._prepareDemTileUniforms(r,ce,I,"_prev")&&(Z=ce),this._prepareDemTileUniforms(r,Te,I)&&(D=Te))}const G=ce=>ce&&ce.demTexture&&this.painter.linearFloatFilteringSupported()?w.LINEAR:w.NEAREST;let te=null;var ne;if(this.enabled?Z&&D?(te=D.demTexture,b.activeTexture.set(w.TEXTURE4),Z.demTexture.bind(G(Z),w.CLAMP_TO_EDGE),I.u_dem_lerp=W):(D=this.terrainTileForTile[r.tileID.key],te=this._prepareDemTileUniforms(r,D,I)?D.demTexture:this.emptyDEMTexture):te=this.emptyDEMTexture,b.activeTexture.set(w.TEXTURE2),te&&(I.u_dem_size=(ne=te).size[0]===1?1:ne.size[0]-2,te.bind(G(D),w.CLAMP_TO_EDGE)),this.painter.setupDepthForOcclusion(m&&m.useDepthForOcclusion,l,I),m&&m.useMeterToDem&&D){const ce=(1<<D.tileID.canonical.z)*d.bH(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;I.u_meter_to_dem=ce}if(m&&m.labelPlaneMatrixInv&&(I.u_label_plane_matrix_inv=m.labelPlaneMatrixInv),l.setTerrainUniformValues(b,I),this.painter.transform.projection.name==="globe"){const ce=this.globeUniformValues(this.painter.transform,r.tileID.canonical,m&&m.useDenormalizedUpVectorScale);l.setGlobeUniformValues(b,ce)}}globeUniformValues(r,l,m){const b=r.projection;return{u_tile_tl_up:b.upVector(l,0,0),u_tile_tr_up:b.upVector(l,d.ag,0),u_tile_br_up:b.upVector(l,d.ag,d.ag),u_tile_bl_up:b.upVector(l,0,d.ag),u_tile_up_scale:m?d.cL(1):b.upVectorScale(l,r.center.lat,r.worldSize).metersToTile}}renderToBackBuffer(r){const l=this.painter,m=this.painter.context;r.length!==0&&(m.bindFramebuffer.set(null),m.viewport.set([0,0,l.width,l.height]),l.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(b,w,I,D,Z){if(b.transform.projection.name==="globe")(function(W,G,te,ne,ce){const Te=W.context,we=Te.gl;let Re,Oe;const Ge=W.transform,dt=d.cC(W,Te,Ge),st=(Hn,Zn)=>{if(Oe===Zn)return;const rn=[Ll[Zn],"PROJECTION_GLOBE_VIEW"];dt&&rn.push("CUSTOM_ANTIALIASING");const $n=W.isTileAffectedByFog(Hn);Re=W.getOrCreateProgram("globeRaster",{defines:rn,overrideFog:$n}),Oe=Zn},bt=W.colorModeForRenderPass(),pt=new ji(we.LEQUAL,ji.ReadWrite,W.depthRangeFor3D);Ks.update(ce);const gt=d.cD(Ge),ft=[d.at(Ge.center.lng),d.aA(Ge.center.lat)],yt=W.globeSharedBuffers,Bt=[Ge.width*d.q.devicePixelRatio,Ge.height*d.q.devicePixelRatio],In=Float32Array.from(Ge.globeMatrix),pn={useDenormalizedUpVectorScale:!0};{const Hn=W.transform,Zn=ol(Hn.zoom,G.exaggeration(),G.sourceCache._source.tileSize);Oe=-1;const rn=we.TRIANGLES;for(const $n of ne){const hr=te.getTile($n),nn=vo.disabled,Xn=G.prevTerrainTileForTile[$n.key],Mn=G.terrainTileForTile[$n.key];ml(Xn,Mn)&&Ks.newMorphing($n.key,Xn,Mn,ce,250),Te.activeTexture.set(we.TEXTURE0),hr.texture&&hr.texture.bind(we.LINEAR,we.CLAMP_TO_EDGE);const Dr=Ks.getMorphValuesForProxy($n.key),ar=Dr?1:0;Dr&&d.J(pn,{morphing:{srcDemTile:Dr.from,dstDemTile:Dr.to,phase:d.cB(Dr.phase)}});const Wn=d.cE($n.canonical),_r=d.cF(Wn.getCenter().lat),Rr=d.cG($n.canonical,Wn,_r,Hn.worldSize/Hn._pixelsPerMercatorPixel),oi=d.bb(d.cH($n.canonical)),mi=Ha(Hn.expandedFarZProjMatrix,In,gt,oi,d.ae(Hn.zoom),ft,Hn.frustumCorners.TL,Hn.frustumCorners.TR,Hn.frustumCorners.BR,Hn.frustumCorners.BL,Hn.globeCenterInViewSpace,Hn.globeRadius,Bt,Zn,Hn._farZ,Rr);if(st($n,ar),Re&&(G.setupElevationDraw(hr,Re,pn),W.uploadCommonUniforms(Te,Re,$n.toUnwrapped()),yt)){const[Co,Vi,Wi]=yt.getGridBuffers(_r,Zn!==0);Re.draw(W,rn,pt,nn,bt,fo.backCCW,mi,"globe_raster",Co,Vi,Wi)}}}if(yt&&(W.renderDefaultNorthPole||W.renderDefaultSouthPole)){const Hn=["GLOBE_POLES","PROJECTION_GLOBE_VIEW"];dt&&Hn.push("CUSTOM_ANTIALIASING"),Re=W.getOrCreateProgram("globeRaster",{defines:Hn});for(const Zn of ne){const{x:rn,y:$n,z:hr}=Zn.canonical,nn=$n===0,Xn=$n===(1<<hr)-1,[Mn,Dr,ar,Wn]=yt.getPoleBuffers(hr,!1);if(Wn&&(nn||Xn)){const _r=te.getTile(Zn);Te.activeTexture.set(we.TEXTURE0),_r.texture&&_r.texture.bind(we.LINEAR,we.CLAMP_TO_EDGE);let Rr=d.cI(hr,rn,Ge);const oi=d.bb(d.cH(Zn.canonical)),mi=(Co,Vi)=>Co.draw(W,we.TRIANGLES,pt,vo.disabled,bt,fo.disabled,Ha(Ge.expandedFarZProjMatrix,Rr,Rr,oi,0,ft,Ge.frustumCorners.TL,Ge.frustumCorners.TR,Ge.frustumCorners.BR,Ge.frustumCorners.BL,Ge.globeCenterInViewSpace,Ge.globeRadius,Bt,0,Ge._farZ),"globe_pole_raster",Vi,ar,Wn);G.setupElevationDraw(_r,Re,pn),W.uploadCommonUniforms(Te,Re,Zn.toUnwrapped()),nn&&W.renderDefaultNorthPole&&mi(Re,Mn),Xn&&W.renderDefaultSouthPole&&(Rr=d.ab.mat4.scale(d.ab.mat4.create(),Rr,[1,-1,1]),mi(Re,Dr))}}}})(b,w,I,D,Z);else{const W=b.context,G=W.gl;let te,ne;const ce=b.shadowRenderer,Te=Mt(b,b.longestCutoffRange),we=bt=>{if(ne===bt)return;const pt=[];pt.push(Ll[bt]),Te.shouldRenderCutoff&&pt.push("RENDER_CUTOFF"),ce&&(pt.push("RENDER_SHADOWS","DEPTH_TEXTURE"),ce.useNormalOffset&&pt.push("NORMAL_OFFSET")),te=b.getOrCreateProgram("terrainRaster",{defines:pt}),ne=bt},Re=b.colorModeForRenderPass(),Oe=new ji(G.LEQUAL,ji.ReadWrite,b.depthRangeFor3D);Ks.update(Z);const Ge=b.transform,dt=ol(Ge.zoom,w.exaggeration(),w.sourceCache._source.tileSize);let st=[0,0,0];if(ce){const bt=b.style.directionalLight,pt=b.style.ambientLight;bt&&pt&&(st=ni(b.style,bt,pt))}{ne=-1;const bt=G.TRIANGLES,[pt,gt]=[w.gridIndexBuffer,w.gridSegments];for(const ft of D){const yt=I.getTile(ft),Bt=vo.disabled,In=w.prevTerrainTileForTile[ft.key],pn=w.terrainTileForTile[ft.key];ml(In,pn)&&Ks.newMorphing(ft.key,In,pn,Z,250),W.activeTexture.set(G.TEXTURE0),yt.texture&&yt.texture.bind(G.LINEAR,G.CLAMP_TO_EDGE);const Hn=Ks.getMorphValuesForProxy(ft.key),Zn=Hn?1:0;let rn;Hn&&(rn={morphing:{srcDemTile:Hn.from,dstDemTile:Hn.to,phase:d.cB(Hn.phase)}});const $n=nl(ft.projMatrix,Fc(ft.canonical,Ge.renderWorldCopies)?dt/10:dt,st);if(we(Zn),!te)continue;w.setupElevationDraw(yt,te,rn);const hr=ft.toUnwrapped();ce&&ce.setupShadows(hr,te),b.uploadCommonUniforms(W,te,hr,null,Te),te.draw(b,bt,Oe,Bt,Re,fo.backCCW,$n,"terrain_raster",w.gridBuffer,pt,gt)}}}}(l,this,this.proxySourceCache,r,this._updateTimestamp),this.renderingToTexture=!0,l.gpuTimingDeferredRenderEnd(),r.splice(0,r.length))}renderBatch(r){if(this._drapedRenderBatches.length===0)return r+1;this.renderingToTexture=!0;const l=this.painter,m=this.painter.context,b=this.proxySourceCache,w=this.proxiedCoords[b.id],I=this._drapedRenderBatches.shift(),D=l.style.order,Z=[];let W=0;for(const G of w){const te=b.getTileByID(G.proxyTileKey),ne=b.proxyCachedFBO[G.key]?b.proxyCachedFBO[G.key][r]:void 0,ce=ne!==void 0?b.renderCache[ne]:this.pool[W++],Te=ne!==void 0;if(te.texture=ce.tex,Te&&!ce.dirty){Z.push(te.tileID);continue}let we;m.bindFramebuffer.set(ce.fb.framebuffer),this.renderedToTile=!1,ce.dirty&&(m.clear({color:d.aj.transparent,stencil:0}),ce.dirty=!1);for(let Re=I.start;Re<=I.end;++Re){const Oe=l.style._mergedLayers[D[Re]];if(Oe.isHidden(l.transform.zoom))continue;const Ge=l.style.getLayerSourceCache(Oe),dt=Ge?this.proxyToSource[G.key][Ge.id]:[G];if(!dt)continue;const st=dt;m.viewport.set([0,0,ce.fb.width,ce.fb.height]),we!==(Ge?Ge.id:null)&&(this._setupStencil(ce,dt,Oe,Ge),we=Ge?Ge.id:null),l.renderLayer(l,Ge,Oe,st)}if(this._drapedRenderBatches.length===0)for(const Re of this._pendingGroundEffectLayers){const Oe=l.style._mergedLayers[D[Re]];if(Oe.isHidden(l.transform.zoom))continue;const Ge=l.style.getLayerSourceCache(Oe),dt=Ge?this.proxyToSource[G.key][Ge.id]:[G];if(!dt)continue;const st=dt;m.viewport.set([0,0,ce.fb.width,ce.fb.height]),we!==(Ge?Ge.id:null)&&(this._setupStencil(ce,dt,Oe,Ge),we=Ge?Ge.id:null),l.renderLayer(l,Ge,Oe,st)}this.renderedToTile?(ce.dirty=!0,Z.push(te.tileID)):Te||--W,W===5&&(W=0,this.renderToBackBuffer(Z))}return this.renderToBackBuffer(Z),this.renderingToTexture=!1,m.bindFramebuffer.set(null),m.viewport.set([0,0,l.width,l.height]),I.end+1}postRender(){}isLayerOrderingCorrect(r){const l=r.order.length;let m=-1,b=l;for(let w=0;w<l;++w)this._style.isLayerDraped(r._mergedLayers[r.order[w]])?m=Math.max(m,w):b=Math.min(b,w);return b>m}getMinElevationBelowMSL(){let r=0;return this._visibleDemTiles.filter(l=>l.dem).forEach(l=>{r=Math.min(r,l.dem.tree.minimums[0])}),r===0?r:(r-30)*this._exaggeration}raycast(r,l,m){if(!this._visibleDemTiles)return null;const b=this._visibleDemTiles.filter(w=>w.dem).map(w=>{const I=w.tileID,D=1<<I.overscaledZ,{x:Z,y:W}=I.canonical,G=Z/D,te=(Z+1)/D,ne=W/D,ce=(W+1)/D;return{minx:G,miny:ne,maxx:te,maxy:ce,t:w.dem.tree.raycastRoot(G,ne,te,ce,r,l,m),tile:w}});b.sort((w,I)=>(w.t!==null?w.t:Number.MAX_VALUE)-(I.t!==null?I.t:Number.MAX_VALUE));for(const w of b){if(w.t==null)return null;const I=w.tile.dem.tree.raycast(w.minx,w.miny,w.maxx,w.maxy,r,l,m);if(I!=null)return I}return null}_createFBO(){const r=this.painter.context,l=r.gl,m=this.drapeBufferSize;r.activeTexture.set(l.TEXTURE0);const b=new d.T(r,{width:m[0],height:m[1],data:null},l.RGBA8);b.bind(l.LINEAR,l.CLAMP_TO_EDGE);const w=r.createFramebuffer(m[0],m[1],!0,null);return w.colorAttachment.set(b.texture),w.depthAttachment=new Mo(r,w.framebuffer),this._sharedDepthStencil===void 0?(this._sharedDepthStencil=r.createRenderbuffer(r.gl.DEPTH_STENCIL,m[0],m[1]),this._stencilRef=0,w.depthAttachment.set(this._sharedDepthStencil),r.clear({stencil:0})):w.depthAttachment.set(this._sharedDepthStencil),r.extTextureFilterAnisotropic&&l.texParameterf(l.TEXTURE_2D,r.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,r.extTextureFilterAnisotropicMax),{fb:w,tex:b,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._debugParams.disableRenderCache||this._style.hasLightTransitions())return!0;for(const r in this._style._mergedSourceCaches)if(this._style._mergedSourceCaches[r].hasTransition())return!0;return this._style.order.some(r=>{const l=this._style._mergedLayers[r],m=l.isHidden(this.painter.transform.zoom);return l.type==="hillshade"||l.type==="custom"?!m&&l.shouldRedrape():!m&&l.hasTransition()})}_clearLineLayersFromRenderCache(){let r=!1;for(const m of this._style.getSources())if(m instanceof Ea){r=!0;break}if(!r)return;const l={};for(let m=0;m<this._style.order.length;++m){const b=this._style._mergedLayers[this._style.order[m]],w=this._style.getLayerSourceCache(b);if(w&&!l[w.id]&&!b.isHidden(this.painter.transform.zoom)&&b.type==="line"&&b.widthExpression()instanceof d.a9){l[w.id]=!0;for(const I of this.proxyCoords){const D=this.proxyToSource[I.key][w.id];if(D)for(const Z of D)this._clearRenderCacheForTile(w.id,Z)}}}}_clearRasterLayersFromRenderCache(){let r=!1;for(const m in this._style._mergedSourceCaches)if(this._style._mergedSourceCaches[m]._source instanceof Sl){r=!0;break}if(!r)return;const l={};for(let m=0;m<this._style.order.length;++m){const b=this._style._mergedLayers[this._style.order[m]],w=this._style.getLayerSourceCache(b);if(!w||l[w.id]||b.isHidden(this.painter.transform.zoom)||b.type!=="raster")continue;const I=b.paint.get("raster-fade-duration");for(const D of this.proxyCoords){const Z=this.proxyToSource[D.key][w.id];if(Z)for(const W of Z){const G=Pl(w.getTile(W),w.findLoadedParent(W,0),w,this.painter.transform,I);(G.opacity!==1||G.mix!==0)&&this._clearRenderCacheForTile(w.id,W)}}}}_setupDrapedRenderBatches(){this._style.updateDrapeFirstLayers();const r=this._style.order,l=r.length;if(l===0)return;const m=[];this._pendingGroundEffectLayers=[];let b,w=0,I=this._style._mergedLayers[r[w]];for(;!this._style.isLayerDraped(I)&&I.isHidden(this.painter.transform.zoom)&&++w<l;)I=this._style._mergedLayers[r[w]];for(;w<l;++w){const D=this._style._mergedLayers[r[w]];D.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(D)?b===void 0&&(b=w):(D.type==="fill-extrusion"&&this._pendingGroundEffectLayers.push(w),b!==void 0&&(m.push({start:b,end:w-1}),b=void 0)))}if(b!==void 0&&m.push({start:b,end:w-1}),m.length!==0){const D=m[m.length-1];this._pendingGroundEffectLayers.every(Z=>Z>D.end)||d.w("fill-extrusion with flood lighting and/or ground ambient occlusion should be moved to be on top of all draped layers.")}this._drapedRenderBatches=m}_setupRenderCache(r){const l=this.proxySourceCache;if(this._shouldDisableRenderCache()||this.invalidateRenderCache){if(this.invalidateRenderCache=!1,l.renderCache.length>l.renderCachePool.length){const I=Object.values(l.proxyCachedFBO);l.proxyCachedFBO={};for(let D=0;D<I.length;++D){const Z=Object.values(I[D]);l.renderCachePool.push(...Z)}}return}this._clearRasterLayersFromRenderCache();const m=this.proxyCoords,b=this._tilesDirty;for(let I=m.length-1;I>=0;I--){const D=m[I];if(l.getTileByID(D.key),l.proxyCachedFBO[D.key]!==void 0){const Z=r[D.key],W=this.proxyToSource[D.key];let G=0;for(const te in W){const ne=W[te],ce=Z[te];if(!ce||ce.length!==ne.length||ne.some((Te,we)=>Te!==ce[we]||b[te]&&b[te].hasOwnProperty(Te.key))){G=-1;break}++G}for(const te in l.proxyCachedFBO[D.key])l.renderCache[l.proxyCachedFBO[D.key][te]].dirty=G<0||G!==Object.values(Z).length}}const w=[...this._drapedRenderBatches];w.sort((I,D)=>D.end-D.start-(I.end-I.start));for(const I of w)for(const D of m){if(l.proxyCachedFBO[D.key])continue;let Z=l.renderCachePool.pop();Z===void 0&&l.renderCache.length<50&&(Z=l.renderCache.length,l.renderCache.push(this._createFBO())),Z!==void 0&&(l.proxyCachedFBO[D.key]={},l.proxyCachedFBO[D.key][I.start]=Z,l.renderCache[Z].dirty=!0)}this._tilesDirty={}}_setupStencil(r,l,m,b){if(!b||!this._sourceTilesOverlap[b.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const w=this.painter.context,I=w.gl;if(l.length<=1)return void(this._overlapStencilType=!1);let D;if(m.isTileClipped())D=l.length,this._overlapStencilMode.test={func:I.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(l[0].overscaledZ>l[l.length-1].overscaledZ))return void(this._overlapStencilType=!1);D=1,this._overlapStencilMode.test={func:I.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+D>255&&(w.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=D,this._overlapStencilMode.ref=this._stencilRef,m.isTileClipped()&&this._renderTileClippingMasks(l,this._overlapStencilMode.ref)}clipOrMaskOverlapStencilType(){return this._overlapStencilType==="Clip"||this._overlapStencilType==="Mask"}stencilModeForRTTOverlap(r){return this.renderingToTexture&&this._overlapStencilType?(this._overlapStencilType==="Clip"&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[r.key]),this._overlapStencilMode):vo.disabled}_renderTileClippingMasks(r,l){const m=this.painter,b=this.painter.context,w=b.gl;m._tileClippingMaskIDs={},b.setColorMode(qo.disabled),b.setDepthMode(ji.disabled);const I=m.getOrCreateProgram("clippingMask");for(const D of r){const Z=m._tileClippingMaskIDs[D.key]=--l;I.draw(m,w.TRIANGLES,ji.disabled,new vo({func:w.ALWAYS,mask:0},Z,255,w.KEEP,w.KEEP,w.REPLACE),qo.disabled,fo.disabled,Gl(D.projMatrix),"$clipping",m.tileExtentBuffer,m.quadTriangleIndexBuffer,m.tileExtentSegments)}}pointCoordinate(r){const l=this.painter.transform;if(r.x<0||r.x>l.width||r.y<0||r.y>l.height)return null;const m=[r.x,r.y,1,1];d.ab.vec4.transformMat4(m,m,l.pixelMatrixInverse),d.ab.vec4.scale(m,m,1/m[3]),m[0]/=l.worldSize,m[1]/=l.worldSize;const b=l._camera.position,w=d.bH(1,l.center.lat),I=[b[0],b[1],b[2]/w,0],D=d.ab.vec3.subtract([],m.slice(0,3),I);d.ab.vec3.normalize(D,D);const Z=this.raycast(I,D,this._exaggeration);return Z!==null&&Z?(d.ab.vec3.scaleAndAdd(I,I,D,Z),I[3]=I[2],I[2]*=w,I):null}_setupProxiedCoordsForOrtho(r,l,m){if(r.getSource()instanceof d.aJ)return this._setupProxiedCoordsForImageSource(r,l,m);this._findCoveringTileCache[r.id]=this._findCoveringTileCache[r.id]||{};const b=this.proxiedCoords[r.id]=[],w=this.proxyCoords;for(let Z=0;Z<w.length;Z++){const W=w[Z],G=this._findTileCoveringTileID(W,r);if(G){const te=this._createProxiedId(W,G,m[W.key]&&m[W.key][r.id]);b.push(te),this.proxyToSource[W.key][r.id]=[te]}}let I=!1;const D=new Set;for(let Z=0;Z<l.length;Z++){const W=r.getTile(l[Z]);if(!W||!W.hasData())continue;const G=this._findTileCoveringTileID(W.tileID,this.proxySourceCache);if(G&&G.tileID.canonical.z!==W.tileID.canonical.z){const te=this.proxyToSource[G.tileID.key][r.id],ne=this._createProxiedId(G.tileID,W,m[G.tileID.key]&&m[G.tileID.key][r.id]);te?te.splice(te.length-1,0,ne):this.proxyToSource[G.tileID.key][r.id]=[ne];const ce=this.proxyToSource[G.tileID.key][r.id];D.has(ce)||D.add(ce),b.push(ne),I=!0}}if(this._sourceTilesOverlap[r.id]=I,I&&this._debugParams.sortTilesHiZFirst)for(const Z of D)Z.sort((W,G)=>G.overscaledZ-W.overscaledZ)}_setupProxiedCoordsForImageSource(r,l,m){if(!r.getSource().loaded())return;const b=this.proxiedCoords[r.id]=[],w=this.proxyCoords,I=r.getSource(),D=I.tileID;if(!D)return;const Z=new d.P(D.x,D.y)._div(1<<D.z),W=I.coordinates.map(d.aa.fromLngLat).reduce((te,ne)=>(te.min.x=Math.min(te.min.x,ne.x-Z.x),te.min.y=Math.min(te.min.y,ne.y-Z.y),te.max.x=Math.max(te.max.x,ne.x-Z.x),te.max.y=Math.max(te.max.y,ne.y-Z.y),te),{min:new d.P(Number.MAX_VALUE,Number.MAX_VALUE),max:new d.P(-Number.MAX_VALUE,-Number.MAX_VALUE)}),G=(te,ne)=>{const ce=te.wrap+te.canonical.x/(1<<te.canonical.z),Te=te.canonical.y/(1<<te.canonical.z),we=d.ag/(1<<te.canonical.z),Re=ne.wrap+ne.canonical.x/(1<<ne.canonical.z),Oe=ne.canonical.y/(1<<ne.canonical.z);return ce+we<Re+W.min.x||ce>Re+W.max.x||Te+we<Oe+W.min.y||Te>Oe+W.max.y};for(let te=0;te<w.length;te++){const ne=w[te];for(let ce=0;ce<l.length;ce++){const Te=r.getTile(l[ce]);if(!Te||!Te.hasData()||G(ne,Te.tileID))continue;const we=this._createProxiedId(ne,Te,m[ne.key]&&m[ne.key][r.id]),Re=this.proxyToSource[ne.key][r.id];Re?Re.push(we):this.proxyToSource[ne.key][r.id]=[we],b.push(we)}}}_createProxiedId(r,l,m){let b=this.orthoMatrix;if(m){const w=m.find(I=>I.key===l.tileID.key);if(w)return w}if(l.tileID.key!==r.key){const w=r.canonical.z-l.tileID.canonical.z;let I,D,Z;b=d.ab.mat4.create();const W=l.tileID.wrap-r.wrap<<r.overscaledZ;w>0?(I=d.ag>>w,D=I*((l.tileID.canonical.x<<w)-r.canonical.x+W),Z=I*((l.tileID.canonical.y<<w)-r.canonical.y)):(I=d.ag<<-w,D=d.ag*(l.tileID.canonical.x-(r.canonical.x+W<<-w)),Z=d.ag*(l.tileID.canonical.y-(r.canonical.y<<-w))),d.ab.mat4.ortho(b,0,I,0,I,0,1),d.ab.mat4.translate(b,b,[D,Z,0])}return new oc(l.tileID,r.key,b)}_findTileCoveringTileID(r,l){let m=l.getTile(r);if(m&&m.hasData())return m;const b=this._findCoveringTileCache[l.id],w=b[r.key];if(m=w?l.getTileByID(w):null,m&&m.hasData()||w===null)return m;let I=m?m.tileID:r,D=I.overscaledZ;const Z=l.getSource().minzoom,W=[];if(!w){const te=l.getSource().maxzoom;if(r.canonical.z>=te){const ne=r.canonical.z-te;l.getSource().reparseOverscaled?(D=Math.max(r.canonical.z+2,l.transform.tileZoom),I=new d.aG(D,r.wrap,te,r.canonical.x>>ne,r.canonical.y>>ne)):ne!==0&&(D=te,I=new d.aG(D,r.wrap,te,r.canonical.x>>ne,r.canonical.y>>ne))}I.key!==r.key&&(W.push(I.key),m=l.getTile(I))}const G=te=>{W.forEach(ne=>{b[ne]=te}),W.length=0};for(D-=1;D>=Z&&(!m||!m.hasData());D--){m&&G(m.tileID.key);const te=I.calculateScaledKey(D);if(m=l.getTileByID(te),m&&m.hasData())break;const ne=b[te];if(ne===null)break;ne===void 0?W.push(te):m=l.getTileByID(ne)}return G(m?m.tileID.key:null),m&&m.hasData()?m:null}findDEMTileFor(r){return this.enabled?this._findTileCoveringTileID(r,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0}_clearRenderCacheForTile(r,l){let m=this._tilesDirty[r];m||(m=this._tilesDirty[r]={}),m[l.key]=!0}}function Jc(p,r,l){const m=function(D,Z,W){const G=d.ab.vec3.dot(Z,D),te=d.ab.vec3.dot(W,[.2126,.7152,.0722]),ne=(Te,we,Re)=>(1-Re)*Te+Re*we,ce=ne(1-.3*Math.min(te,1),1,Math.min(G+1,1));return ne(.92,1,Math.asin(d.aw(Z[2],-1,1))/Math.PI+.5)*ce}(p,[0,0,1],r),b=[0,0,0];d.ab.vec3.scale(b,l.slice(0,3),m);const w=[0,0,0];d.ab.vec3.scale(w,r.slice(0,3),p[2]);const I=[0,0,0];return d.ab.vec3.add(I,b,w),d.cf(I)}const Qc=["fill","fillOutline","fillPattern","line","linePattern","background","backgroundPattern","hillshade","raster"],Oc=["stars","rainParticle","snowParticle","fillExtrusion","fillExtrusionGroundEffect","model","symbol"];class Qd{static cacheKey(r,l,m,b){let w=`${l}${b?b.cacheKey:""}`;for(const I of m)r.usedDefines.includes(I)&&(w+=`/${I}`);return w}constructor(r,l,m,b,w,I){const D=r.gl;this.program=D.createProgram(),this.configuration=b,this.name=l,this.fixedDefines=[...I];const Z=b?b.getBinderAttributes():[],W=(m.staticAttributes||[]).concat(Z);let G=b?b.defines():[];G=G.concat(I.map(Re=>`#define ${Re}`));const te=`#version 300 es
`;let ne=te+G.concat("precision mediump float;",ec,Jo.fragmentSource).join(`
`);for(const Re of m.fragmentIncludes)ne+=`
${jl[Re]}`;ne+=`
${m.fragmentSource}`;let ce=te+G.concat("precision highp float;",ec,Jo.vertexSource).join(`
`);for(const Re of m.vertexIncludes)ce+=`
${jl[Re]}`;this.forceManualRenderingForInstanceIDShaders=r.forceManualRenderingForInstanceIDShaders&&m.vertexSource.indexOf("gl_InstanceID")!==-1,this.forceManualRenderingForInstanceIDShaders&&(ce+=`
uniform int u_instanceID;
`),ce+=`
${m.vertexSource}`,this.forceManualRenderingForInstanceIDShaders&&(ce=ce.replaceAll("gl_InstanceID","u_instanceID"));const Te=D.createShader(D.FRAGMENT_SHADER);if(D.isContextLost())return void(this.failedToCreate=!0);D.shaderSource(Te,ne),D.compileShader(Te),D.attachShader(this.program,Te);const we=D.createShader(D.VERTEX_SHADER);if(D.isContextLost())this.failedToCreate=!0;else{D.shaderSource(we,ce),D.compileShader(we),D.attachShader(this.program,we),this.attributes={},this.numAttributes=W.length;for(let Re=0;Re<this.numAttributes;Re++)if(W[Re]){const Oe=W[Re].startsWith("a_")?W[Re]:`a_${W[Re]}`;D.bindAttribLocation(this.program,Re,Oe),this.attributes[Oe]=Re}D.linkProgram(this.program),D.deleteShader(we),D.deleteShader(Te),this.fixedUniforms=w(r),this.binderUniforms=b?b.getUniforms(r):[],this.forceManualRenderingForInstanceIDShaders&&(this.instancingUniforms=(Re=>({u_instanceID:new d.bN(Re)}))(r)),(I.includes("TERRAIN")||l.indexOf("symbol")!==-1||l.indexOf("circle")!==-1)&&(this.terrainUniforms=(Re=>({u_dem:new d.bN(Re),u_dem_prev:new d.bN(Re),u_dem_tl:new d.bK(Re),u_dem_scale:new d.bM(Re),u_dem_tl_prev:new d.bK(Re),u_dem_scale_prev:new d.bM(Re),u_dem_size:new d.bM(Re),u_dem_lerp:new d.bM(Re),u_exaggeration:new d.bM(Re),u_depth:new d.bN(Re),u_depth_size_inv:new d.bK(Re),u_depth_range_unpack:new d.bK(Re),u_occluder_half_size:new d.bM(Re),u_occlusion_depth_offset:new d.bM(Re),u_meter_to_dem:new d.bM(Re),u_label_plane_matrix_inv:new d.bJ(Re)}))(r)),I.includes("GLOBE")&&(this.globeUniforms=(Re=>({u_tile_tl_up:new d.bL(Re),u_tile_tr_up:new d.bL(Re),u_tile_br_up:new d.bL(Re),u_tile_bl_up:new d.bL(Re),u_tile_up_scale:new d.bM(Re)}))(r)),I.includes("FOG")&&(this.fogUniforms=(Re=>({u_fog_matrix:new d.bJ(Re),u_fog_range:new d.bK(Re),u_fog_color:new d.ca(Re),u_fog_horizon_blend:new d.bM(Re),u_fog_vertical_limit:new d.bK(Re),u_fog_temporal_offset:new d.bM(Re),u_frustum_tl:new d.bL(Re),u_frustum_tr:new d.bL(Re),u_frustum_br:new d.bL(Re),u_frustum_bl:new d.bL(Re),u_globe_pos:new d.bL(Re),u_globe_radius:new d.bM(Re),u_globe_transition:new d.bM(Re),u_is_globe:new d.bN(Re),u_viewport:new d.bK(Re)}))(r)),I.includes("RENDER_CUTOFF")&&(this.cutoffUniforms=(Re=>({u_cutoff_params:new d.ca(Re)}))(r)),I.includes("LIGHTING_3D_MODE")&&(this.lightsUniforms=(Re=>({u_lighting_ambient_color:new d.bL(Re),u_lighting_directional_dir:new d.bL(Re),u_lighting_directional_color:new d.bL(Re),u_ground_radiance:new d.bL(Re)}))(r)),I.includes("RENDER_SHADOWS")&&(this.shadowUniforms=(Re=>({u_light_matrix_0:new d.bJ(Re),u_light_matrix_1:new d.bJ(Re),u_fade_range:new d.bK(Re),u_shadow_normal_offset:new d.bL(Re),u_shadow_intensity:new d.bM(Re),u_shadow_texel_size:new d.bM(Re),u_shadow_map_resolution:new d.bM(Re),u_shadow_direction:new d.bL(Re),u_shadow_bias:new d.bL(Re),u_shadowmap_0:new d.bN(Re),u_shadowmap_1:new d.bN(Re)}))(r))}}setTerrainUniformValues(r,l){if(!this.terrainUniforms)return;const m=this.terrainUniforms;if(!this.failedToCreate){r.program.set(this.program);for(const b in l)m[b]&&m[b].set(this.program,b,l[b])}}setGlobeUniformValues(r,l){if(!this.globeUniforms)return;const m=this.globeUniforms;if(!this.failedToCreate){r.program.set(this.program);for(const b in l)m[b]&&m[b].set(this.program,b,l[b])}}setFogUniformValues(r,l){if(!this.fogUniforms)return;const m=this.fogUniforms;if(!this.failedToCreate){r.program.set(this.program);for(const b in l)m[b].set(this.program,b,l[b])}}setCutoffUniformValues(r,l){if(!this.cutoffUniforms)return;const m=this.cutoffUniforms;if(!this.failedToCreate){r.program.set(this.program);for(const b in l)m[b].set(this.program,b,l[b])}}setLightsUniformValues(r,l){if(!this.lightsUniforms)return;const m=this.lightsUniforms;if(!this.failedToCreate){r.program.set(this.program);for(const b in l)m[b].set(this.program,b,l[b])}}setShadowUniformValues(r,l){if(this.failedToCreate||!this.shadowUniforms)return;const m=this.shadowUniforms;r.program.set(this.program);for(const b in l)m[b].set(this.program,b,l[b])}_drawDebugWireframe(r,l,m,b,w,I,D,Z,W,G){const te=r.options.wireframe;if(te.terrain===!1&&te.layers2D===!1&&te.layers3D===!1)return;const ne=r.context;if(!(!(!te.terrain||this.name!=="terrainRaster"&&this.name!=="globeRaster")||!(!te.layers2D||r._terrain&&r._terrain.renderingToTexture||!Qc.includes(this.name))||!(!te.layers3D||!Oc.includes(this.name))))return;const ce=ne.gl,Te=r.wireframeDebugCache.getLinesFromTrianglesBuffer(r.frameCounter,w,ne);if(!Te)return;const we=[...this.fixedDefines];we.push("DEBUG_WIREFRAME");const Re=r.getOrCreateProgram(this.name,{config:this.configuration,defines:we});ne.program.set(Re.program);const Oe=(st,bt,pt)=>{if(bt[st]&&pt[st])for(const gt in bt[st])pt[st][gt]&&pt[st][gt].set(pt.program,gt,bt[st][gt].current)};W&&W.setUniforms(Re.program,ne,Re.binderUniforms,D,{zoom:Z}),Oe("fixedUniforms",this,Re),Oe("terrainUniforms",this,Re),Oe("globeUniforms",this,Re),Oe("fogUniforms",this,Re),Oe("lightsUniforms",this,Re),Oe("shadowUniforms",this,Re),Te.bind(),ne.setColorMode(new qo([ce.ONE,ce.ONE_MINUS_SRC_ALPHA,ce.ZERO,ce.ONE],d.aj.transparent,[!0,!0,!0,!1])),ne.setDepthMode(new ji(l.func===ce.LESS?ce.LEQUAL:l.func,ji.ReadOnly,l.range)),ne.setStencilMode(vo.disabled);const Ge=3*I.primitiveLength*2,dt=3*I.primitiveOffset*2*2;if(this.forceManualRenderingForInstanceIDShaders){const st=G||1;for(let bt=0;bt<st;++bt)Re.instancingUniforms.u_instanceID.set(this.program,"u_instanceID",bt),ce.drawElements(ce.LINES,Ge,ce.UNSIGNED_SHORT,dt)}else G&&G>1?ce.drawElementsInstanced(ce.LINES,Ge,ce.UNSIGNED_SHORT,dt,G):ce.drawElements(ce.LINES,Ge,ce.UNSIGNED_SHORT,dt);w.bind(),ne.program.set(this.program),ne.setDepthMode(l),ne.setStencilMode(m),ne.setColorMode(b)}checkUniforms(r,l,m){if(this.fixedDefines.includes(l)){for(const b of Object.keys(m))if(!m[b].initialized)throw new Error(`Program '${this.name}', from draw '${r}': uniform ${b} not set but required by ${l} being defined`)}}draw(r,l,m,b,w,I,D,Z,W,G,te,ne,ce,Te,we,Re){const Oe=r.context,Ge=Oe.gl;if(this.failedToCreate)return;Oe.program.set(this.program),Oe.setDepthMode(m),Oe.setStencilMode(b),Oe.setColorMode(w),Oe.setCullFace(I);for(const bt of Object.keys(this.fixedUniforms))this.fixedUniforms[bt].set(this.program,bt,D[bt]);Te&&Te.setUniforms(this.program,Oe,this.binderUniforms,ne,{zoom:ce});const dt={[Ge.POINTS]:1,[Ge.LINES]:2,[Ge.TRIANGLES]:3,[Ge.LINE_STRIP]:1}[l];this.checkUniforms(Z,"RENDER_SHADOWS",this.shadowUniforms);const st=Re&&Re>0?1:void 0;for(const bt of te.get()){const pt=bt.vaos||(bt.vaos={});if((pt[Z]||(pt[Z]=new Pc)).bind(Oe,this,W,Te?Te.getPaintVertexBuffers():[],G,bt.vertexOffset,we||[],st),this.forceManualRenderingForInstanceIDShaders){const gt=Re||1;for(let ft=0;ft<gt;++ft)this.instancingUniforms.u_instanceID.set(this.program,"u_instanceID",ft),G?Ge.drawElements(l,bt.primitiveLength*dt,Ge.UNSIGNED_SHORT,bt.primitiveOffset*dt*2):Ge.drawArrays(l,bt.vertexOffset,bt.vertexLength)}else Re&&Re>1?Ge.drawElementsInstanced(l,bt.primitiveLength*dt,Ge.UNSIGNED_SHORT,bt.primitiveOffset*dt*2,Re):G?Ge.drawElements(l,bt.primitiveLength*dt,Ge.UNSIGNED_SHORT,bt.primitiveOffset*dt*2):Ge.drawArrays(l,bt.vertexOffset,bt.vertexLength);l===Ge.TRIANGLES&&G&&this._drawDebugWireframe(r,m,b,w,G,bt,ne,ce,Te,Re)}}}function Uu(p,r){const l=Math.pow(2,r.tileID.overscaledZ),m=r.tileSize*Math.pow(2,p.transform.tileZoom)/l,b=m*(r.tileID.canonical.x+r.tileID.wrap*l),w=m*r.tileID.canonical.y;return{u_image:0,u_texsize:r.imageAtlasTexture?r.imageAtlasTexture.size:[0,0],u_tile_units_to_pixels:1/d.ar(r,1,p.transform.tileZoom),u_pixel_coord_upper:[b>>16,w>>16],u_pixel_coord_lower:[65535&b,65535&w]}}const Nf={terrain:0,flat:1},Bf=d.ab.mat4.create(),Pp=(p,r,l,m,b,w,I,D,Z,W,G,te,ne,ce,Te,we,Re,Oe)=>{const Ge=r.style.light,dt=Ge.properties.get("position"),st=[dt.x,dt.y,dt.z],bt=d.ab.mat3.create();Ge.properties.get("anchor")==="viewport"&&(d.ab.mat3.fromRotation(bt,-r.transform.angle),d.ab.vec3.transformMat3(st,st,bt));const pt=Ge.properties.get("color"),gt=r.transform,ft={u_matrix:p,u_lightpos:st,u_lightintensity:Ge.properties.get("intensity"),u_lightcolor:[pt.r,pt.g,pt.b],u_vertical_gradient:+l,u_opacity:m,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:Bf,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_height_type:Nf[W],u_base_type:Nf[G],u_ao:b,u_edge_radius:w,u_width_scale:I,u_flood_light_color:Te,u_vertical_scale:we,u_flood_light_intensity:Re,u_ground_shadow_factor:Oe};return gt.projection.name==="globe"&&(ft.u_tile_id=[D.canonical.x,D.canonical.y,1<<D.canonical.z],ft.u_zoom_transition=te,ft.u_inv_rot_matrix=ce,ft.u_merc_center=ne,ft.u_up_dir=gt.projection.upVector(new d.bT(0,0,0),ne[0]*d.ag,ne[1]*d.ag),ft.u_height_lift=Z),ft},Nh=(p,r,l,m,b,w)=>({u_matrix:p,u_edge_radius:r,u_width_scale:l,u_vertical_scale:m,u_height_type:Nf[b],u_base_type:Nf[w]}),d0=(p,r,l,m,b,w,I,D,Z,W,G,te,ne,ce,Te,we,Re)=>{const Oe=Pp(p,r,l,m,b,w,I,D,W,G,te,ne,ce,Te,we,Re,1,[0,0,0]),Ge={u_height_factor:-Math.pow(2,D.overscaledZ)/Z.tileSize/8};return d.l(Oe,Uu(r,Z),Ge)},ef=(p,r)=>({u_matrix:p,u_emissive_strength:r}),Bh=(p,r,l,m)=>d.l(ef(p,r),Uu(l,m)),$m=(p,r,l)=>({u_matrix:p,u_world:l,u_emissive_strength:r}),f0=(p,r,l,m,b)=>d.l(Bh(p,r,l,m),{u_world:b}),Yv=(p,r,l,m)=>{const b=d.ag/l.tileSize;return{u_matrix:p,u_camera_to_center_distance:r.getCameraToCenterDistance(m),u_extrude_scale:[r.pixelsToGLUnits[0]/b,r.pixelsToGLUnits[1]/b]}},tf=(p,r,l=1)=>({u_matrix:p,u_color:r.toRenderColor(null),u_overlay:0,u_overlay_scale:l}),md=d.ab.mat4.create(),bi=(p,r,l,m,b,w,I)=>{const D=p.transform,Z=D.projection.name==="globe",W=Z?d.cN(D.zoom,r.canonical)*D._pixelsPerMercatorPixel:d.ar(l,1,w),G={u_matrix:r.projMatrix,u_extrude_scale:W,u_intensity:I,u_inv_rot_matrix:md,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(Z){G.u_inv_rot_matrix=m,G.u_merc_center=b,G.u_tile_id=[r.canonical.x,r.canonical.y,1<<r.canonical.z],G.u_zoom_transition=d.ae(D.zoom);const te=b[0]*d.ag,ne=b[1]*d.ag;G.u_up_dir=D.projection.upVector(new d.bT(0,0,0),te,ne)}return G};function Rm(p,[r,l,m,b],[w,I]){if(w===I)return[0,0,0,0];const D=255*(p-1)/(p*(I-w));return[r*D,l*D,m*D,b*D]}function Am(p,r,[l,m]){return l===m?0:.5/p+(r-l)*(p-1)/(p*(m-l))}const gd=(p,r,l,m,b,w,I,D,Z,W,G,te,ne,ce,Te,we,Re,Oe,Ge,dt,st)=>({u_matrix:p,u_normalize_matrix:r,u_globe_matrix:l,u_merc_matrix:m,u_grid_matrix:b,u_tl_parent:w,u_scale_parent:W,u_fade_t:G.mix,u_opacity:G.opacity*te.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:te.paint.get("raster-brightness-min"),u_brightness_high:te.paint.get("raster-brightness-max"),u_saturation_factor:d.cO(te.paint.get("raster-saturation")),u_contrast_factor:d.cP(te.paint.get("raster-contrast")),u_spin_weights:nf(te.paint.get("raster-hue-rotate")),u_perspective_transform:ne,u_raster_elevation:ce,u_zoom_transition:I,u_merc_center:D,u_cutoff_params:Z,u_colorization_mix:Rm(d.cQ,we,Oe),u_colorization_offset:Am(d.cQ,Re,Oe),u_color_ramp:Te,u_texture_offset:[dt/(Ge+2*dt),Ge/(Ge+2*dt)],u_texture_res:[Ge+2*dt,Ge+2*dt],u_emissive_strength:st});function nf(p){p*=Math.PI/180;const r=Math.sin(p),l=Math.cos(p);return[(2*l+1)/3,(-Math.sqrt(3)*r-l+1)/3,(Math.sqrt(3)*r-l+1)/3]}const Ai=.05,Dm=(p,r,l,m,b,w,I,D,Z,W,G,te)=>({u_matrix:p,u_normalize_matrix:r,u_globe_matrix:l,u_merc_matrix:m,u_grid_matrix:b,u_tl_parent:w,u_scale_parent:W,u_fade_t:G.mix,u_opacity:G.opacity,u_image0:0,u_image1:1,u_raster_elevation:te,u_zoom_transition:I,u_merc_center:D,u_cutoff_params:Z}),Jv=(p,r,l,m,b,w,I,D,Z,W)=>({u_particle_texture:p,u_particle_texture_side_len:r,u_tile_offset:l,u_velocity:m,u_color_ramp:w,u_velocity_res:b,u_max_speed:I,u_uv_offset:D,u_data_scale:[255*Z[0],255*Z[1]],u_data_offset:W,u_particle_pos_scale:1.1,u_particle_pos_offset:[Ai,Ai]}),hb=(p,r,l,m,b,w,I,D,Z,W)=>({u_particle_texture:p,u_particle_texture_side_len:r,u_velocity:l,u_velocity_res:m,u_max_speed:b,u_speed_factor:w,u_reset_rate:I,u_rand_seed:Math.random(),u_uv_offset:D,u_data_scale:[255*Z[0],255*Z[1]],u_data_offset:W,u_particle_pos_scale:1.1,u_particle_pos_offset:[Ai,Ai]}),Ff=d.ab.mat4.create(),zm=(p,r,l,m,b,w,I,D,Z,W,G,te,ne,ce,Te,we,Re,Oe,Ge,dt,st,bt)=>{const pt=b.transform,gt={u_is_size_zoom_constant:+(p==="constant"||p==="source"),u_is_size_feature_constant:+(p==="constant"||p==="camera"),u_size_t:r?r.uSizeT:0,u_size:r?r.uSize:0,u_camera_to_center_distance:pt.getCameraToCenterDistance(Ge),u_rotate_symbol:+l,u_aspect_ratio:pt.width/pt.height,u_fade_change:b.options.fadeDuration?b.symbolFadeChange:1,u_matrix:w,u_label_plane_matrix:I,u_coord_matrix:D,u_is_text:+W,u_elevation_from_sea:Z?1:0,u_pitch_with_map:+m,u_texsize:G,u_texsize_icon:te,u_texture:0,u_texture_icon:1,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:Ff,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:Ff,u_up_vector:[0,-1,0],u_color_adj_mat:dt,u_icon_transition:st||0,u_gamma_scale:m?b.transform.getCameraToCenterDistance(Ge)*Math.cos(b.terrain?0:b.transform._pitch):1,u_device_pixel_ratio:d.q.devicePixelRatio,u_is_halo:+ne,u_scale_factor:bt||1};return Ge.name==="globe"&&(gt.u_tile_id=[ce.canonical.x,ce.canonical.y,1<<ce.canonical.z],gt.u_zoom_transition=Te,gt.u_inv_rot_matrix=Re,gt.u_merc_center=we,gt.u_camera_forward=pt._camera.forward(),gt.u_ecef_origin=d.cR(pt.globeMatrix,ce.toUnwrapped()),gt.u_tile_matrix=Float32Array.from(pt.globeMatrix),gt.u_up_vector=Oe),gt},Xl=(p,r,l,m)=>({u_matrix:p,u_emissive_strength:r,u_opacity:l,u_color:m}),Op=(p,r,l,m,b,w,I,D,Z)=>d.l(function(W,G,te,ne,ce,Te){const{width:we,height:Re}=ne.imageManager.getPixelSize(G),Oe=Math.pow(2,Te.tileID.overscaledZ),Ge=Te.tileSize*Math.pow(2,ne.transform.tileZoom)/Oe,dt=Ge*(Te.tileID.canonical.x+Te.tileID.wrap*Oe),st=Ge*Te.tileID.canonical.y;return{u_image:0,u_pattern_tl:te.tl,u_pattern_br:te.br,u_texsize:[we,Re],u_pattern_size:te.displaySize,u_pattern_units_to_pixels:ce?[ne.transform.width,-1*ne.transform.height]:[1/d.ar(Te,1,ne.transform.tileZoom),1/d.ar(Te,1,ne.transform.tileZoom)],u_pixel_coord_upper:[dt>>16,st>>16],u_pixel_coord_lower:[65535&dt,65535&st]}}(0,w,I,m,D,Z),{u_matrix:p,u_emissive_strength:r,u_opacity:l}),h0=new Float32Array(d.ab.mat4.identity([])),rf=(p,r,l,m,b,w,I,D,Z,W,G,te,ne,ce=[0,0,0],Te)=>{const we=b.style.light,Re=we.properties.get("position"),Oe=[-Re.x,-Re.y,Re.z],Ge=d.ab.mat3.create();we.properties.get("anchor")==="viewport"&&(d.ab.mat3.fromRotation(Ge,-b.transform.angle),d.ab.vec3.transformMat3(Oe,Oe,Ge));const dt=G.alphaMode==="MASK",st=we.properties.get("color").toRenderColor(null),bt=ne.paint.get("model-ambient-occlusion-intensity"),pt=ne.paint.get("model-color").constantOr(d.aj.white).toRenderColor(null),gt=ne.paint.get("model-color-mix-intensity").constantOr(0);return{u_matrix:p,u_lighting_matrix:r,u_normal_matrix:l,u_node_matrix:m||h0,u_lightpos:Oe,u_lightintensity:we.properties.get("intensity"),u_lightcolor:[st.r,st.g,st.b],u_camera_pos:ce,u_opacity:w,u_baseTextureIsAlpha:0,u_alphaMask:+dt,u_alphaCutoff:G.alphaCutoff,u_baseColorFactor:[I.r,I.g,I.b,I.a],u_emissiveFactor:[D[0],D[1],D[2],1],u_metallicFactor:Z,u_roughnessFactor:W,u_baseColorTexture:Tl.BaseColor,u_metallicRoughnessTexture:Tl.MetallicRoughness,u_normalTexture:Tl.Normal,u_occlusionTexture:Tl.Occlusion,u_emissionTexture:Tl.Emission,u_lutTexture:Tl.LUT,u_color_mix:[pt.r,pt.g,pt.b,gt],u_aoIntensity:bt,u_emissive_strength:te,u_occlusionTextureTransform:Te||[0,0,0,0]}},vd=(p,r=h0,l=h0)=>({u_matrix:p,u_instance:r,u_node_matrix:l}),$p={fillExtrusion:p=>({u_matrix:new d.bJ(p),u_lightpos:new d.bL(p),u_lightintensity:new d.bM(p),u_lightcolor:new d.bL(p),u_vertical_gradient:new d.bM(p),u_opacity:new d.bM(p),u_edge_radius:new d.bM(p),u_width_scale:new d.bM(p),u_ao:new d.bK(p),u_height_type:new d.bN(p),u_base_type:new d.bN(p),u_tile_id:new d.bL(p),u_zoom_transition:new d.bM(p),u_inv_rot_matrix:new d.bJ(p),u_merc_center:new d.bK(p),u_up_dir:new d.bL(p),u_height_lift:new d.bM(p),u_flood_light_color:new d.bL(p),u_vertical_scale:new d.bM(p),u_flood_light_intensity:new d.bM(p),u_ground_shadow_factor:new d.bL(p)}),fillExtrusionDepth:p=>({u_matrix:new d.bJ(p),u_edge_radius:new d.bM(p),u_width_scale:new d.bM(p),u_vertical_scale:new d.bM(p),u_height_type:new d.bN(p),u_base_type:new d.bN(p)}),fillExtrusionPattern:p=>({u_matrix:new d.bJ(p),u_lightpos:new d.bL(p),u_lightintensity:new d.bM(p),u_lightcolor:new d.bL(p),u_vertical_gradient:new d.bM(p),u_height_factor:new d.bM(p),u_edge_radius:new d.bM(p),u_width_scale:new d.bM(p),u_ao:new d.bK(p),u_height_type:new d.bN(p),u_base_type:new d.bN(p),u_tile_id:new d.bL(p),u_zoom_transition:new d.bM(p),u_inv_rot_matrix:new d.bJ(p),u_merc_center:new d.bK(p),u_up_dir:new d.bL(p),u_height_lift:new d.bM(p),u_image:new d.bN(p),u_texsize:new d.bK(p),u_pixel_coord_upper:new d.bK(p),u_pixel_coord_lower:new d.bK(p),u_tile_units_to_pixels:new d.bM(p),u_opacity:new d.bM(p)}),fillExtrusionGroundEffect:p=>({u_matrix:new d.bJ(p),u_opacity:new d.bM(p),u_ao_pass:new d.bM(p),u_meter_to_tile:new d.bM(p),u_ao:new d.bK(p),u_flood_light_intensity:new d.bM(p),u_flood_light_color:new d.bL(p),u_attenuation:new d.bM(p),u_edge_radius:new d.bM(p),u_fb:new d.bN(p),u_fb_size:new d.bM(p),u_dynamic_offset:new d.bM(p)}),fill:p=>({u_matrix:new d.bJ(p),u_emissive_strength:new d.bM(p)}),fillPattern:p=>({u_matrix:new d.bJ(p),u_emissive_strength:new d.bM(p),u_image:new d.bN(p),u_texsize:new d.bK(p),u_pixel_coord_upper:new d.bK(p),u_pixel_coord_lower:new d.bK(p),u_tile_units_to_pixels:new d.bM(p)}),fillOutline:p=>({u_matrix:new d.bJ(p),u_emissive_strength:new d.bM(p),u_world:new d.bK(p)}),fillOutlinePattern:p=>({u_matrix:new d.bJ(p),u_emissive_strength:new d.bM(p),u_world:new d.bK(p),u_image:new d.bN(p),u_texsize:new d.bK(p),u_pixel_coord_upper:new d.bK(p),u_pixel_coord_lower:new d.bK(p),u_tile_units_to_pixels:new d.bM(p)}),circle:d.cS,collisionBox:p=>({u_matrix:new d.bJ(p),u_camera_to_center_distance:new d.bM(p),u_extrude_scale:new d.bK(p)}),collisionCircle:p=>({u_matrix:new d.bJ(p),u_inv_matrix:new d.bJ(p),u_camera_to_center_distance:new d.bM(p),u_viewport_size:new d.bK(p)}),debug:p=>({u_color:new d.cz(p),u_matrix:new d.bJ(p),u_overlay:new d.bN(p),u_overlay_scale:new d.bM(p)}),clippingMask:p=>({u_matrix:new d.bJ(p)}),heatmap:p=>({u_extrude_scale:new d.bM(p),u_intensity:new d.bM(p),u_matrix:new d.bJ(p),u_inv_rot_matrix:new d.bJ(p),u_merc_center:new d.bK(p),u_tile_id:new d.bL(p),u_zoom_transition:new d.bM(p),u_up_dir:new d.bL(p)}),heatmapTexture:p=>({u_image:new d.bN(p),u_color_ramp:new d.bN(p),u_opacity:new d.bM(p)}),hillshade:p=>({u_matrix:new d.bJ(p),u_image:new d.bN(p),u_latrange:new d.bK(p),u_light:new d.bK(p),u_shadow:new d.cz(p),u_highlight:new d.cz(p),u_emissive_strength:new d.bM(p),u_accent:new d.cz(p)}),hillshadePrepare:p=>({u_matrix:new d.bJ(p),u_image:new d.bN(p),u_dimension:new d.bK(p),u_zoom:new d.bM(p)}),line:d.cT,linePattern:d.cU,raster:p=>({u_matrix:new d.bJ(p),u_normalize_matrix:new d.bJ(p),u_globe_matrix:new d.bJ(p),u_merc_matrix:new d.bJ(p),u_grid_matrix:new d.cA(p),u_tl_parent:new d.bK(p),u_scale_parent:new d.bM(p),u_fade_t:new d.bM(p),u_opacity:new d.bM(p),u_image0:new d.bN(p),u_image1:new d.bN(p),u_brightness_low:new d.bM(p),u_brightness_high:new d.bM(p),u_saturation_factor:new d.bM(p),u_contrast_factor:new d.bM(p),u_spin_weights:new d.bL(p),u_perspective_transform:new d.bK(p),u_raster_elevation:new d.bM(p),u_zoom_transition:new d.bM(p),u_merc_center:new d.bK(p),u_cutoff_params:new d.ca(p),u_colorization_mix:new d.ca(p),u_colorization_offset:new d.bM(p),u_color_ramp:new d.bN(p),u_texture_offset:new d.bK(p),u_texture_res:new d.bK(p),u_emissive_strength:new d.bM(p)}),rasterParticle:p=>({u_matrix:new d.bJ(p),u_normalize_matrix:new d.bJ(p),u_globe_matrix:new d.bJ(p),u_merc_matrix:new d.bJ(p),u_grid_matrix:new d.cA(p),u_tl_parent:new d.bK(p),u_scale_parent:new d.bM(p),u_fade_t:new d.bM(p),u_opacity:new d.bM(p),u_image0:new d.bN(p),u_image1:new d.bN(p),u_raster_elevation:new d.bM(p),u_zoom_transition:new d.bM(p),u_merc_center:new d.bK(p),u_cutoff_params:new d.ca(p)}),rasterParticleTexture:p=>({u_texture:new d.bN(p),u_opacity:new d.bM(p)}),rasterParticleDraw:p=>({u_particle_texture:new d.bN(p),u_particle_texture_side_len:new d.bM(p),u_tile_offset:new d.bK(p),u_velocity:new d.bN(p),u_color_ramp:new d.bN(p),u_velocity_res:new d.bK(p),u_max_speed:new d.bM(p),u_uv_offset:new d.bK(p),u_data_scale:new d.bK(p),u_data_offset:new d.bM(p),u_particle_pos_scale:new d.bM(p),u_particle_pos_offset:new d.bK(p)}),rasterParticleUpdate:p=>({u_particle_texture:new d.bN(p),u_particle_texture_side_len:new d.bM(p),u_velocity:new d.bN(p),u_velocity_res:new d.bK(p),u_max_speed:new d.bM(p),u_speed_factor:new d.bM(p),u_reset_rate:new d.bM(p),u_rand_seed:new d.bM(p),u_uv_offset:new d.bK(p),u_data_scale:new d.bK(p),u_data_offset:new d.bM(p),u_particle_pos_scale:new d.bM(p),u_particle_pos_offset:new d.bK(p)}),symbol:p=>({u_is_size_zoom_constant:new d.bN(p),u_is_size_feature_constant:new d.bN(p),u_size_t:new d.bM(p),u_size:new d.bM(p),u_camera_to_center_distance:new d.bM(p),u_rotate_symbol:new d.bN(p),u_aspect_ratio:new d.bM(p),u_fade_change:new d.bM(p),u_matrix:new d.bJ(p),u_label_plane_matrix:new d.bJ(p),u_coord_matrix:new d.bJ(p),u_is_text:new d.bN(p),u_elevation_from_sea:new d.bN(p),u_pitch_with_map:new d.bN(p),u_texsize:new d.bK(p),u_texsize_icon:new d.bK(p),u_texture:new d.bN(p),u_texture_icon:new d.bN(p),u_gamma_scale:new d.bM(p),u_device_pixel_ratio:new d.bM(p),u_tile_id:new d.bL(p),u_zoom_transition:new d.bM(p),u_inv_rot_matrix:new d.bJ(p),u_merc_center:new d.bK(p),u_camera_forward:new d.bL(p),u_tile_matrix:new d.bJ(p),u_up_vector:new d.bL(p),u_ecef_origin:new d.bL(p),u_is_halo:new d.bN(p),u_icon_transition:new d.bM(p),u_color_adj_mat:new d.bJ(p),u_scale_factor:new d.bM(p)}),background:p=>({u_matrix:new d.bJ(p),u_emissive_strength:new d.bM(p),u_opacity:new d.bM(p),u_color:new d.cz(p)}),backgroundPattern:p=>({u_matrix:new d.bJ(p),u_emissive_strength:new d.bM(p),u_opacity:new d.bM(p),u_image:new d.bN(p),u_pattern_tl:new d.bK(p),u_pattern_br:new d.bK(p),u_texsize:new d.bK(p),u_pattern_size:new d.bK(p),u_pixel_coord_upper:new d.bK(p),u_pixel_coord_lower:new d.bK(p),u_pattern_units_to_pixels:new d.bK(p)}),terrainRaster:p=>({u_matrix:new d.bJ(p),u_image0:new d.bN(p),u_skirt_height:new d.bM(p),u_ground_shadow_factor:new d.bL(p)}),skybox:p=>({u_matrix:new d.bJ(p),u_sun_direction:new d.bL(p),u_cubemap:new d.bN(p),u_opacity:new d.bM(p),u_temporal_offset:new d.bM(p)}),skyboxGradient:p=>({u_matrix:new d.bJ(p),u_color_ramp:new d.bN(p),u_center_direction:new d.bL(p),u_radius:new d.bM(p),u_opacity:new d.bM(p),u_temporal_offset:new d.bM(p)}),skyboxCapture:p=>({u_matrix_3f:new d.cA(p),u_sun_direction:new d.bL(p),u_sun_intensity:new d.bM(p),u_color_tint_r:new d.ca(p),u_color_tint_m:new d.ca(p),u_luminance:new d.bM(p)}),globeRaster:p=>({u_proj_matrix:new d.bJ(p),u_globe_matrix:new d.bJ(p),u_normalize_matrix:new d.bJ(p),u_merc_matrix:new d.bJ(p),u_zoom_transition:new d.bM(p),u_merc_center:new d.bK(p),u_image0:new d.bN(p),u_grid_matrix:new d.cA(p),u_skirt_height:new d.bM(p),u_far_z_cutoff:new d.bM(p),u_frustum_tl:new d.bL(p),u_frustum_tr:new d.bL(p),u_frustum_br:new d.bL(p),u_frustum_bl:new d.bL(p),u_globe_pos:new d.bL(p),u_globe_radius:new d.bM(p),u_viewport:new d.bK(p)}),globeAtmosphere:p=>({u_frustum_tl:new d.bL(p),u_frustum_tr:new d.bL(p),u_frustum_br:new d.bL(p),u_frustum_bl:new d.bL(p),u_horizon:new d.bM(p),u_transition:new d.bM(p),u_fadeout_range:new d.bM(p),u_color:new d.ca(p),u_high_color:new d.ca(p),u_space_color:new d.ca(p),u_temporal_offset:new d.bM(p),u_horizon_angle:new d.bM(p)}),model:p=>({u_matrix:new d.bJ(p),u_lighting_matrix:new d.bJ(p),u_normal_matrix:new d.bJ(p),u_node_matrix:new d.bJ(p),u_lightpos:new d.bL(p),u_lightintensity:new d.bM(p),u_lightcolor:new d.bL(p),u_camera_pos:new d.bL(p),u_opacity:new d.bM(p),u_baseColorFactor:new d.ca(p),u_emissiveFactor:new d.ca(p),u_metallicFactor:new d.bM(p),u_roughnessFactor:new d.bM(p),u_baseTextureIsAlpha:new d.bN(p),u_alphaMask:new d.bN(p),u_alphaCutoff:new d.bM(p),u_baseColorTexture:new d.bN(p),u_metallicRoughnessTexture:new d.bN(p),u_normalTexture:new d.bN(p),u_occlusionTexture:new d.bN(p),u_emissionTexture:new d.bN(p),u_lutTexture:new d.bN(p),u_color_mix:new d.ca(p),u_aoIntensity:new d.bM(p),u_emissive_strength:new d.bM(p),u_occlusionTextureTransform:new d.ca(p)}),modelDepth:p=>({u_matrix:new d.bJ(p),u_instance:new d.bJ(p),u_node_matrix:new d.bJ(p)}),groundShadow:p=>({u_matrix:new d.bJ(p),u_ground_shadow_factor:new d.bL(p)}),stars:p=>({u_matrix:new d.bJ(p),u_up:new d.bL(p),u_right:new d.bL(p),u_intensity_multiplier:new d.bM(p)}),snowParticle:p=>({u_modelview:new d.bJ(p),u_projection:new d.bJ(p),u_time:new d.bM(p),u_cam_pos:new d.bL(p),u_velocityConeAperture:new d.bM(p),u_velocity:new d.bM(p),u_horizontalOscillationRadius:new d.bM(p),u_horizontalOscillationRate:new d.bM(p),u_boxSize:new d.bM(p),u_billboardSize:new d.bM(p),u_simpleShapeParameters:new d.bK(p),u_screenSize:new d.bK(p),u_thinningCenterPos:new d.bK(p),u_thinningShape:new d.bL(p),u_thinningAffectedRatio:new d.bM(p),u_thinningParticleOffset:new d.bM(p),u_particleColor:new d.ca(p),u_direction:new d.bL(p)}),rainParticle:p=>({u_modelview:new d.bJ(p),u_projection:new d.bJ(p),u_time:new d.bM(p),u_cam_pos:new d.bL(p),u_texScreen:new d.bN(p),u_velocityConeAperture:new d.bM(p),u_velocity:new d.bM(p),u_boxSize:new d.bM(p),u_rainDropletSize:new d.bK(p),u_distortionStrength:new d.bM(p),u_rainDirection:new d.bL(p),u_color:new d.ca(p),u_screenSize:new d.bK(p),u_thinningCenterPos:new d.bK(p),u_thinningShape:new d.bL(p),u_thinningAffectedRatio:new d.bM(p),u_thinningParticleOffset:new d.bM(p),u_shapeDirectionalPower:new d.bM(p),u_shapeNormalPower:new d.bM(p),u_mode:new d.bM(p)}),vignette:p=>({u_vignetteShape:new d.bL(p),u_vignetteColor:new d.ca(p)}),occlusion:p=>({u_matrix:new d.bJ(p),u_anchorPos:new d.bL(p),u_screenSizePx:new d.bK(p),u_occluderSizePx:new d.bK(p),u_color:new d.ca(p)})};class Wu{constructor(r,l,m,b){this.id=Wu.uniqueIdxCounter,Wu.uniqueIdxCounter++,this.context=r;const w=r.gl;this.buffer=w.createBuffer(),this.dynamicDraw=!!m,this.context.unbindVAO(),r.bindElementBuffer.set(this.buffer),w.bufferData(w.ELEMENT_ARRAY_BUFFER,l.arrayBuffer,this.dynamicDraw?w.DYNAMIC_DRAW:w.STATIC_DRAW),this.dynamicDraw||b||l.destroy()}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(r){this.id=Wu.uniqueIdxCounter,Wu.uniqueIdxCounter++;const l=this.context.gl;this.context.unbindVAO(),this.bind(),l.bufferSubData(l.ELEMENT_ARRAY_BUFFER,0,r.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}Wu.uniqueIdxCounter=0;const Ec={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class of{constructor(r,l,m,b,w,I){this.length=l.length,this.attributes=m,this.itemSize=l.bytesPerElement,this.dynamicDraw=b,this.instanceCount=I,this.context=r;const D=r.gl;this.buffer=D.createBuffer(),r.bindVertexBuffer.set(this.buffer),D.bufferData(D.ARRAY_BUFFER,l.arrayBuffer,this.dynamicDraw?D.DYNAMIC_DRAW:D.STATIC_DRAW),this.dynamicDraw||w||l.destroy()}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(r){const l=this.context.gl;this.bind(),l.bufferSubData(l.ARRAY_BUFFER,0,r.arrayBuffer)}enableAttributes(r,l){for(let m=0;m<this.attributes.length;m++){const b=l.attributes[this.attributes[m].name];b!==void 0&&r.enableVertexAttribArray(b)}}setVertexAttribPointers(r,l,m){for(let b=0;b<this.attributes.length;b++){const w=this.attributes[b],I=l.attributes[w.name];I!==void 0&&r.vertexAttribPointer(I,w.components,r[Ec[w.type]],!1,this.itemSize,w.offset+this.itemSize*(m||0))}}setVertexAttribDivisor(r,l,m){for(let b=0;b<this.attributes.length;b++){const w=l.attributes[this.attributes[b].name];w!==void 0&&this.instanceCount&&this.instanceCount>0&&r.vertexAttribDivisor(w,m)}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class Rp{constructor(r,l,m,b,w){this.context=r,this.width=l,this.height=m;const I=this.framebuffer=r.gl.createFramebuffer();b&&(this.colorAttachment=new Vt(r,I)),w&&(this.depthAttachmentType=w,this.depthAttachment=w==="renderbuffer"?new Vn(r,I):new ii(r,I))}destroy(){const r=this.context.gl;if(this.colorAttachment){const l=this.colorAttachment.get();l&&r.deleteTexture(l)}if(this.depthAttachment&&this.depthAttachmentType)if(this.depthAttachmentType==="renderbuffer"){const l=this.depthAttachment.get();l&&r.deleteRenderbuffer(l)}else{const l=this.depthAttachment.get();l&&r.deleteTexture(l)}r.deleteFramebuffer(this.framebuffer)}}class af{constructor(r,l){this.gl=r,this.clearColor=new Ud(this),this.clearDepth=new Pf(this),this.clearStencil=new Wd(this),this.colorMask=new Oh(this),this.depthMask=new Of(this),this.stencilMask=new Ip(this),this.stencilFunc=new $h(this),this.stencilOp=new hd(this),this.stencilTest=new Gd(this),this.depthRange=new $f(this),this.depthTest=new rc(this),this.depthFunc=new Rh(this),this.blend=new Rf(this),this.blendFunc=new Af(this),this.blendColor=new pd(this),this.blendEquation=new Ah(this),this.cullFace=new Df(this),this.cullFaceSide=new Dh(this),this.frontFace=new cu(this),this.program=new Xd(this),this.activeTexture=new Tp(this),this.viewport=new Mp(this),this.bindFramebuffer=new Hu(this),this.bindRenderbuffer=new qd(this),this.bindTexture=new ic(this),this.bindVertexBuffer=new Kd(this),this.bindElementBuffer=new zh(this),this.bindVertexArrayOES=new zf(this),this.pixelStoreUnpack=new Lh(this),this.pixelStoreUnpackPremultiplyAlpha=new Yd(this),this.pixelStoreUnpackFlipY=new Lf(this),this.options=l?Object.assign({},l):{},this.options.extTextureFilterAnisotropicForceOff||(this.extTextureFilterAnisotropic=r.getExtension("EXT_texture_filter_anisotropic")||r.getExtension("MOZ_EXT_texture_filter_anisotropic")||r.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=r.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT))),this.extDebugRendererInfo=r.getExtension("WEBGL_debug_renderer_info"),this.extDebugRendererInfo&&(this.renderer=r.getParameter(this.extDebugRendererInfo.UNMASKED_RENDERER_WEBGL),this.vendor=r.getParameter(this.extDebugRendererInfo.UNMASKED_VENDOR_WEBGL)),this.forceManualRenderingForInstanceIDShaders=l&&!!l.forceManualRenderingForInstanceIDShaders||this.renderer&&this.renderer.indexOf("PowerVR")!==-1,this.options.extTextureFloatLinearForceOff||(this.extTextureFloatLinear=r.getExtension("OES_texture_float_linear")),this.extRenderToTextureHalfFloat=r.getExtension("EXT_color_buffer_half_float"),this.extTimerQuery=r.getExtension("EXT_disjoint_timer_query_webgl2"),this.maxTextureSize=r.getParameter(r.MAX_TEXTURE_SIZE),this.maxPointSize=r.getParameter(r.ALIASED_POINT_SIZE_RANGE)[1]}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArrayOES.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(r,l,m){return new Wu(this,r,l,m)}createVertexBuffer(r,l,m,b,w){return new of(this,r,l,m,b,w)}createRenderbuffer(r,l,m){const b=this.gl,w=b.createRenderbuffer();return this.bindRenderbuffer.set(w),b.renderbufferStorage(b.RENDERBUFFER,r,l,m),this.bindRenderbuffer.set(null),w}createFramebuffer(r,l,m,b){return new Rp(this,r,l,m,b)}clear({color:r,depth:l,stencil:m,colorMask:b}){const w=this.gl;let I=0;r&&(I|=w.COLOR_BUFFER_BIT,this.clearColor.set(r),this.colorMask.set(b||[!0,!0,!0,!0])),l!==void 0&&(I|=w.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(l),this.depthMask.set(!0)),m!==void 0&&(I|=w.STENCIL_BUFFER_BIT,this.clearStencil.set(m),this.stencilMask.set(255)),w.clear(I)}setCullFace(r){r.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(r.mode),this.frontFace.set(r.frontFace))}setDepthMode(r){r.func!==this.gl.ALWAYS||r.mask?(this.depthTest.set(!0),this.depthFunc.set(r.func),this.depthMask.set(r.mask),this.depthRange.set(r.range)):this.depthTest.set(!1)}setStencilMode(r){r.test.func!==this.gl.ALWAYS||r.mask?(this.stencilTest.set(!0),this.stencilMask.set(r.mask),this.stencilOp.set([r.fail,r.depthFail,r.pass]),this.stencilFunc.set({func:r.test.func,ref:r.ref,mask:r.test.mask})):this.stencilTest.set(!1)}setColorMode(r){d.bn(r.blendFunction,qo.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(r.blendFunction),this.blendColor.set(r.blendColor),r.blendEquation?this.blendEquation.set(r.blendEquation):this.blendEquation.setDefault()),this.colorMask.set(r.mask)}unbindVAO(){this.bindVertexArrayOES.set(null)}}let sf;function Fh(p,r,l,m,b,w,I){const D=p.context,Z=D.gl,W=p.transform,G=p.getOrCreateProgram("collisionBox"),te=[];let ne=0,ce=0;for(let st=0;st<m.length;st++){const bt=m[st],pt=r.getTile(bt),gt=pt.getBucket(l);if(!gt)continue;const ft=Ji(bt,gt,W);let yt=ft;b[0]===0&&b[1]===0||(yt=p.translatePosMatrix(ft,pt,b,w));const Bt=I?gt.textCollisionBox:gt.iconCollisionBox,In=gt.collisionCircleArray;if(In.length>0){const pn=d.ab.mat4.create(),Hn=yt;d.ab.mat4.mul(pn,gt.placementInvProjMatrix,W.glCoordMatrix),d.ab.mat4.mul(pn,pn,gt.placementViewportMatrix),te.push({circleArray:In,circleOffset:ce,transform:Hn,invTransform:pn,projection:gt.getProjection()}),ne+=In.length/4,ce=ne}Bt&&(p.terrain&&p.terrain.setupElevationDraw(pt,G),G.draw(p,Z.LINES,ji.disabled,vo.disabled,p.colorModeForRenderPass(),fo.disabled,Yv(yt,W,pt,gt.getProjection()),l.id,Bt.layoutVertexBuffer,Bt.indexBuffer,Bt.segments,null,W.zoom,null,[Bt.collisionVertexBuffer,Bt.collisionVertexBufferExt]))}if(!I||!te.length)return;const Te=p.getOrCreateProgram("collisionCircle"),we=new d.cV;we.resize(4*ne),we._trim();let Re=0;for(const st of te)for(let bt=0;bt<st.circleArray.length/4;bt++){const pt=4*bt,gt=st.circleArray[pt+0],ft=st.circleArray[pt+1],yt=st.circleArray[pt+2],Bt=st.circleArray[pt+3];we.emplace(Re++,gt,ft,yt,Bt,0),we.emplace(Re++,gt,ft,yt,Bt,1),we.emplace(Re++,gt,ft,yt,Bt,2),we.emplace(Re++,gt,ft,yt,Bt,3)}(!sf||sf.length<2*ne)&&(sf=function(st){const bt=2*st,pt=new d.aU;pt.resize(bt),pt._trim();for(let gt=0;gt<bt;gt++){const ft=6*gt;pt.uint16[ft+0]=4*gt+0,pt.uint16[ft+1]=4*gt+1,pt.uint16[ft+2]=4*gt+2,pt.uint16[ft+3]=4*gt+2,pt.uint16[ft+4]=4*gt+3,pt.uint16[ft+5]=4*gt+0}return pt}(ne));const Oe=D.createIndexBuffer(sf,!0),Ge=D.createVertexBuffer(we,d.cW.members,!0);for(const st of te){const bt={u_matrix:st.transform,u_inv_matrix:st.invTransform,u_camera_to_center_distance:(dt=W).getCameraToCenterDistance(st.projection),u_viewport_size:[dt.width,dt.height]};Te.draw(p,Z.TRIANGLES,ji.disabled,vo.disabled,p.colorModeForRenderPass(),fo.disabled,bt,l.id,Ge,Oe,d.b7.simpleSegment(0,2*st.circleOffset,st.circleArray.length,st.circleArray.length/2),null,W.zoom)}var dt;Ge.destroy(),Oe.destroy()}const yd=d.ab.mat4.create();function $c(p){const r=p._camera.getWorldToCamera(p.worldSize,1),l=d.ab.mat4.multiply([],r,p.globeMatrix);d.ab.mat4.invert(l,l);const m=[0,0,0],b=[0,1,0,0];return d.ab.vec4.transformMat4(b,b,l),m[0]=b[0],m[1]=b[1],m[2]=b[2],d.ab.vec3.normalize(m,m),m}function Xs({width:p,height:r,anchor:l,textOffset:m,textScale:b},w){const{horizontalAlign:I,verticalAlign:D}=d.bD(l),Z=-(I-.5)*p,W=-(D-.5)*r,G=d.bC(l,m);return new d.P((Z/b+G[0])*w,(W/b+G[1])*w)}function Ap(p,r,l,m,b,w,I,D,Z,W,G){const te=p.text.placedSymbolArray,ne=p.text.dynamicLayoutVertexArray,ce=p.icon.dynamicLayoutVertexArray,Te={},we=p.getProjection(),Re=Qo(D,we,w),Oe=w.elevation,Ge=we.upVectorScale(D.canonical,w.center.lat,w.worldSize).metersToTile;ne.clear();for(let dt=0;dt<te.length;dt++){const st=te.get(dt),{tileAnchorX:bt,tileAnchorY:pt,numGlyphs:gt}=st,ft=st.hidden||!st.crossTileID||p.allowVerticalPlacement&&!st.placedOrientation?null:m[st.crossTileID];if(ft){let yt=0,Bt=0,In=0;if(Oe){const Mn=Oe?Oe.getAtTileOffset(D,bt,pt):0,[Dr,ar,Wn]=we.upVector(D.canonical,bt,pt);yt=Mn*Dr*Ge,Bt=Mn*ar*Ge,In=Mn*Wn*Ge}let[pn,Hn,Zn,rn]=Ne(st.projectedAnchorX+yt,st.projectedAnchorY+Bt,st.projectedAnchorZ+In,l?Re:I);const $n=Ot(w.getCameraToCenterDistance(we),rn);let hr=b.evaluateSizeForFeature(p.textSizeData,W,st)*$n/d.bw;l&&(hr*=p.tilePixelRatio/Z);const nn=Xs(ft,hr);l?({x:pn,y:Hn,z:Zn}=we.projectTilePoint(bt+nn.x,pt+nn.y,D.canonical),[pn,Hn,Zn]=Ne(pn+yt,Hn+Bt,Zn+In,I)):(r&&nn._rotate(-w.angle),pn+=nn.x,Hn+=nn.y,Zn=0);const Xn=p.allowVerticalPlacement&&st.placedOrientation===d.bq.vertical?Math.PI/2:0;for(let Mn=0;Mn<gt;Mn++)d.bt(ne,pn,Hn,Zn,Xn);G&&st.associatedIconIndex>=0&&(Te[st.associatedIconIndex]={x:pn,y:Hn,z:Zn,angle:Xn})}else Pr(gt,ne)}if(G){ce.clear();const dt=p.icon.placedSymbolArray;for(let st=0;st<dt.length;st++){const bt=dt.get(st),{numGlyphs:pt}=bt,gt=Te[st];if(bt.hidden||!gt)Pr(pt,ce);else{const{x:ft,y:yt,z:Bt,angle:In}=gt;for(let pn=0;pn<pt;pn++)d.bt(ce,ft,yt,Bt,In)}}p.icon.dynamicLayoutVertexBuffer.updateData(ce)}p.text.dynamicLayoutVertexBuffer.updateData(ne)}function kh(p,r,l,m,b,w,I={}){const D=l.paint.get("icon-translate"),Z=l.paint.get("text-translate"),W=l.paint.get("icon-translate-anchor"),G=l.paint.get("text-translate-anchor"),te=l.layout.get("icon-rotation-alignment"),ne=l.layout.get("text-rotation-alignment"),ce=l.layout.get("icon-pitch-alignment"),Te=l.layout.get("text-pitch-alignment"),we=l.layout.get("icon-keep-upright"),Re=l.layout.get("text-keep-upright"),Oe=l.paint.get("icon-color-saturation"),Ge=l.paint.get("icon-color-contrast"),dt=l.paint.get("icon-color-brightness-min"),st=l.paint.get("icon-color-brightness-max"),bt=l.layout.get("symbol-elevation-reference")==="sea",pt=p.context,gt=pt.gl,ft=p.transform,yt=te==="map",Bt=ne==="map",In=ce==="map",pn=Te==="map",Hn=l.layout.get("symbol-sort-key").constantOr(1)!==void 0;let Zn=!1;const rn=p.depthModeForSublayer(0,ji.ReadOnly),$n=[d.at(ft.center.lng),d.aA(ft.center.lat)],hr=l.layout.get("text-variable-anchor"),nn=ft.projection.name==="globe",Xn=[],Mn=[0,-1,0];for(const Dr of m){const ar=r.getTile(Dr),Wn=ar.getBucket(l);if(!Wn||Wn.projection.name==="mercator"&&nn||Wn.fullyClipped)continue;const _r=Wn.projection.name==="globe",Rr=_r?d.ae(ft.zoom):0,oi=Qo(Dr,Wn.getProjection(),ft),mi=ft.calculatePixelsToTileUnitsMatrix(ar),Co=hr&&Wn.hasTextData(),Vi=Wn.hasIconTextFit()&&Co&&Wn.hasIconData(),Wi=Wn.getProjection().createInversionMatrix(ft,Dr.canonical),Ao=fs=>{ft.depthOcclusionForSymbolsAndCircles&&(l.hasInitialOcclusionOpacityProperties||p.terrain)&&(fs.push("DEPTH_D24"),fs.push("DEPTH_OCCLUSION"))},Ga=()=>{const fs=yt&&l.layout.get("symbol-placement")!=="point",Ka=[];Ao(Ka);const sl=fs||Vi,Vl=l.paint.get("icon-image-cross-fade").constantOr(0);p.terrainRenderModeElevated()&&In&&Ka.push("PITCH_WITH_MAP_TERRAIN"),_r&&(Ka.push("PROJECTION_GLOBE_VIEW"),sl&&Ka.push("PROJECTED_POS_ON_VIEWPORT")),Vl>0&&Ka.push("ICON_TRANSITION"),Wn.icon.zOffsetVertexBuffer&&Ka.push("Z_OFFSET"),Oe===0&&Ge===0&&dt===0&&st===1||Ka.push("COLOR_ADJUSTMENT"),Wn.sdfIcons&&Ka.push("RENDER_SDF");const Ol=Wn.icon.programConfigurations.get(l.id),$l=p.getOrCreateProgram("symbol",{config:Ol,defines:Ka}),Hc=ar.imageAtlasTexture?ar.imageAtlasTexture.size:[0,0],mc=Wn.iconSizeData,rl=d.bp(mc,ft.zoom),Ls=In||ft.pitch!==0,Rs=Ke(oi,ar.tileID.canonical,In,yt,ft,Wn.getProjection(),mi),Xa=rt(oi,ar.tileID.canonical,In,yt,ft,Wn.getProjection(),mi),hl=p.translatePosMatrix(Xa,ar,D,W,!0),Hl=p.translatePosMatrix(oi,ar,D,W),Bs=sl?yd:Rs,nc=yt&&!In&&!fs;let tu=Mn;!nn&&!ft.mercatorFromTransition||yt||(tu=$c(ft));const zc=_r?tu:Mn,Tc=l.getColorAdjustmentMatrix(Oe,Ge,dt,st),nu=zm(mc.kind,rl,nc,In,p,Hl,Bs,hl,bt,!1,Hc,[0,0],!0,Dr,Rr,$n,Wi,zc,Wn.getProjection(),Tc,Vl),ru=ar.imageAtlasTexture?ar.imageAtlasTexture:null,Mc=l.layout.get("icon-size").constantOr(0)!==1||Wn.iconsNeedLinear,Id=Wn.sdfIcons||p.options.rotating||p.options.zooming||Mc||Ls?gt.LINEAR:gt.NEAREST,fu=Wn.sdfIcons&&l.paint.get("icon-halo-width").constantOr(1)!==0,Td=p.terrain&&In&&fs?d.ab.mat4.invert(d.ab.mat4.create(),Rs):yd;if(fs&&Wn.icon){const bf=ft.elevation,ed=bf?bf.getAtTileOffsetFunc(Dr,ft.center.lat,ft.worldSize,Wn.getProjection()):null,qp=Pe(oi,ar.tileID.canonical,In,yt,ft,Wn.getProjection(),mi);On(Wn,oi,p,!1,qp,Xa,In,we,ed,Dr)}return{program:$l,buffers:Wn.icon,uniformValues:nu,atlasTexture:ru,atlasTextureIcon:null,atlasInterpolation:Id,atlasInterpolationIcon:null,isSDF:Wn.sdfIcons,hasHalo:fu,tile:ar,labelPlaneMatrixInv:Td}},bs=()=>{const fs=Bt&&l.layout.get("symbol-placement")!=="point",Ka=[],sl=fs||hr||Vi;p.terrainRenderModeElevated()&&pn&&Ka.push("PITCH_WITH_MAP_TERRAIN"),_r&&(Ka.push("PROJECTION_GLOBE_VIEW"),sl&&Ka.push("PROJECTED_POS_ON_VIEWPORT")),Wn.text.zOffsetVertexBuffer&&Ka.push("Z_OFFSET"),Wn.iconsInText&&Ka.push("RENDER_TEXT_AND_SYMBOL"),Ka.push("RENDER_SDF"),Ao(Ka);const Vl=Wn.text.programConfigurations.get(l.id),Ol=p.getOrCreateProgram("symbol",{config:Vl,defines:Ka});let $l,Hc=[0,0],mc=null;const rl=Wn.textSizeData;Wn.iconsInText&&(Hc=ar.imageAtlasTexture?ar.imageAtlasTexture.size:[0,0],mc=ar.imageAtlasTexture?ar.imageAtlasTexture:null,$l=pn||ft.pitch!==0||p.options.rotating||p.options.zooming||rl.kind==="composite"||rl.kind==="camera"?gt.LINEAR:gt.NEAREST);const Ls=ar.glyphAtlasTexture?ar.glyphAtlasTexture.size:[0,0],Rs=l.layout.get("text-size-scale-range"),Xa=d.aw(p.scaleFactor,Rs[0],Rs[1]),hl=d.bp(rl,ft.zoom,Xa),Hl=Ke(oi,ar.tileID.canonical,pn,Bt,ft,Wn.getProjection(),mi),Bs=rt(oi,ar.tileID.canonical,pn,Bt,ft,Wn.getProjection(),mi),nc=p.translatePosMatrix(Bs,ar,Z,G,!0),tu=p.translatePosMatrix(oi,ar,Z,G),zc=sl?yd:Hl,Tc=Bt&&!pn&&!fs;let nu=Mn;!nn&&!ft.mercatorFromTransition||Bt||(nu=$c(ft));const ru=zm(rl.kind,hl,Tc,pn,p,tu,zc,nc,bt,!0,Ls,Hc,!0,Dr,Rr,$n,Wi,_r?nu:Mn,Wn.getProjection(),null,null,Xa),Mc=ar.glyphAtlasTexture?ar.glyphAtlasTexture:null,Id=gt.LINEAR,fu=l.paint.get("text-halo-width").constantOr(1)!==0,Td=p.terrain&&pn&&fs?d.ab.mat4.invert(d.ab.mat4.create(),Hl):yd;if(fs&&Wn.text){const bf=ft.elevation,ed=bf?bf.getAtTileOffsetFunc(Dr,ft.center.lat,ft.worldSize,Wn.getProjection()):null,qp=Pe(oi,ar.tileID.canonical,pn,Bt,ft,Wn.getProjection(),mi);On(Wn,oi,p,!0,qp,Bs,pn,Re,ed,Dr)}return{program:Ol,buffers:Wn.text,uniformValues:ru,atlasTexture:Mc,atlasTextureIcon:mc,atlasInterpolation:Id,atlasInterpolationIcon:$l,isSDF:!0,hasHalo:fu,tile:ar,labelPlaneMatrixInv:Td}},ll=Wn.icon.segments.get().length,Ys=Wn.text.segments.get().length,Go=ll&&!I.onlyText?Ga():null,Ja=Ys&&!I.onlyIcons?bs():null,Ni=l.paint.get("icon-opacity").constantOr(1),Ba=l.paint.get("text-opacity").constantOr(1);if(Hn&&Wn.canOverlap){Zn=!0;const fs=Ni&&!I.onlyText?Wn.icon.segments.get():[],Ka=Ba&&!I.onlyIcons?Wn.text.segments.get():[];for(const sl of fs)Xn.push({segments:new d.b7([sl]),sortKey:sl.sortKey,state:Go});for(const sl of Ka)Xn.push({segments:new d.b7([sl]),sortKey:sl.sortKey,state:Ja})}else I.onlyText||Xn.push({segments:Ni?Wn.icon.segments:new d.b7([]),sortKey:0,state:Go}),I.onlyIcons||Xn.push({segments:Ba?Wn.text.segments:new d.b7([]),sortKey:0,state:Ja})}Zn&&Xn.sort((Dr,ar)=>Dr.sortKey-ar.sortKey);for(const Dr of Xn){const ar=Dr.state;if(ar)if(p.terrain?p.terrain.setupElevationDraw(ar.tile,ar.program,{useDepthForOcclusion:ft.depthOcclusionForSymbolsAndCircles,labelPlaneMatrixInv:ar.labelPlaneMatrixInv}):p.setupDepthForOcclusion(ft.depthOcclusionForSymbolsAndCircles,ar.program),pt.activeTexture.set(gt.TEXTURE0),ar.atlasTexture&&ar.atlasTexture.bind(ar.atlasInterpolation,gt.CLAMP_TO_EDGE,!0),ar.atlasTextureIcon&&(pt.activeTexture.set(gt.TEXTURE1),ar.atlasTextureIcon&&ar.atlasTextureIcon.bind(ar.atlasInterpolationIcon,gt.CLAMP_TO_EDGE,!0)),p.uploadCommonLightUniforms(p.context,ar.program),ar.hasHalo){const Wn=ar.uniformValues;Wn.u_is_halo=1,Dp(ar.buffers,Dr.segments,l,p,ar.program,rn,b,w,Wn,2),Wn.u_is_halo=0}else{if(ar.isSDF){const Wn=ar.uniformValues;ar.hasHalo&&(Wn.u_is_halo=1,Dp(ar.buffers,Dr.segments,l,p,ar.program,rn,b,w,Wn,1)),Wn.u_is_halo=0}Dp(ar.buffers,Dr.segments,l,p,ar.program,rn,b,w,ar.uniformValues,1)}}}function Dp(p,r,l,m,b,w,I,D,Z,W){const G=[p.dynamicLayoutVertexBuffer,p.opacityVertexBuffer,p.iconTransitioningVertexBuffer,p.globeExtVertexBuffer,p.zOffsetVertexBuffer];b.draw(m,m.context.gl.TRIANGLES,w,I,D,fo.disabled,Z,l.id,p.layoutVertexBuffer,p.indexBuffer,r,l.paint,m.transform.zoom,p.programConfigurations.get(l.id),G,W)}function Lm(p,r,l,m,b,w,I){const D=p.context.gl,Z=l.paint.get("fill-pattern"),W=l.is3D(),G=W?p.stencilModeFor3D():vo.disabled,te=Z&&Z.constantOr(1);let ne,ce,Te,we,Re;I?(ce=te&&!l.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",ne=D.LINES):(ce=te?"fillPattern":"fill",ne=D.TRIANGLES);for(const Oe of m){const Ge=r.getTile(Oe);if(te&&!Ge.patternsLoaded())continue;const dt=Ge.getBucket(l);if(!dt)continue;p.prepareDrawTile();const st=dt.programConfigurations.get(l.id),bt=p.isTileAffectedByFog(Oe),pt=p.getOrCreateProgram(ce,{config:st,overrideFog:bt});te&&(p.context.activeTexture.set(D.TEXTURE0),Ge.imageAtlasTexture&&Ge.imageAtlasTexture.bind(D.LINEAR,D.CLAMP_TO_EDGE),st.updatePaintBuffers());const gt=Z.constantOr(null);if(gt&&Ge.imageAtlas){const Bt=Ge.imageAtlas,In=d.A.from(gt).getPrimary().scaleSelf(d.q.devicePixelRatio).serialize(),pn=Bt.patternPositions[In];pn&&st.setConstantPatternPositions(pn)}const ft=p.translatePosMatrix(Oe.projMatrix,Ge,l.paint.get("fill-translate"),l.paint.get("fill-translate-anchor")),yt=l.paint.get("fill-emissive-strength");if(I){we=dt.indexBuffer2,Re=dt.segments2;const Bt=p.terrain&&p.terrain.renderingToTexture?p.terrain.drapeBufferSize:[D.drawingBufferWidth,D.drawingBufferHeight];Te=ce==="fillOutlinePattern"&&te?f0(ft,yt,p,Ge,Bt):$m(ft,yt,Bt)}else we=dt.indexBuffer,Re=dt.segments,Te=te?Bh(ft,yt,p,Ge):ef(ft,yt);p.uploadCommonUniforms(p.context,pt,Oe.toUnwrapped()),pt.draw(p,ne,b,W?G:p.stencilModeForClipping(Oe),w,fo.disabled,Te,l.id,dt.layoutVertexBuffer,we,Re,l.paint,p.transform.zoom,st,void 0)}}function jh(p,r,l,m,b,w,I,D){l.resetLayerRenderingStats(p);const Z=p.context,W=Z.gl,G=p.transform,te=l.paint.get("fill-extrusion-pattern"),ne=te.constantOr(1),ce=l.paint.get("fill-extrusion-opacity"),Te=p.style.enable3dLights(),we=l.paint.get(Te&&!ne?"fill-extrusion-ambient-occlusion-wall-radius":"fill-extrusion-ambient-occlusion-radius"),Re=[l.paint.get("fill-extrusion-ambient-occlusion-intensity"),we],Oe=l.layout.get("fill-extrusion-edge-radius"),Ge=Oe>0&&!l.paint.get("fill-extrusion-rounded-roof"),dt=Ge?0:Oe,st=G.projection.name==="globe"?d.d3():0,bt=G.projection.name==="globe",pt=bt?d.ae(G.zoom):0,gt=[d.at(G.center.lng),d.aA(G.center.lat)],ft=l.paint.get("fill-extrusion-flood-light-color-use-theme").constantOr("default")==="none",yt=l.paint.get("fill-extrusion-flood-light-color").toRenderColor(ft?null:l.lut).toArray01().slice(0,3),Bt=l.paint.get("fill-extrusion-flood-light-intensity"),In=l.paint.get("fill-extrusion-vertical-scale"),pn=l.paint.get("fill-extrusion-line-width").constantOr(1)!==0,Hn=l.paint.get("fill-extrusion-height-alignment"),Zn=l.paint.get("fill-extrusion-base-alignment"),rn=Mt(p,l.paint.get("fill-extrusion-cutoff-fade-range")),$n=[];let hr;bt&&$n.push("PROJECTION_GLOBE_VIEW"),Re[0]>0&&$n.push("FAUX_AO"),Ge&&$n.push("ZERO_ROOF_RADIUS"),D&&$n.push("HAS_CENTROID"),Bt>0&&$n.push("FLOOD_LIGHT"),rn.shouldRenderCutoff&&$n.push("RENDER_CUTOFF"),pn&&$n.push("RENDER_WALL_MODE");const nn=p.renderPass==="shadow",Xn=p.shadowRenderer,Mn=nn&&!!Xn;p.shadowRenderer&&(p.shadowRenderer.useNormalOffset=!0);let Dr=[0,0,0];if(Xn){const _r=p.style.directionalLight,Rr=p.style.ambientLight;_r&&Rr&&(Dr=ni(p.style,_r,Rr)),nn||($n.push("RENDER_SHADOWS","DEPTH_TEXTURE"),Xn.useNormalOffset&&$n.push("NORMAL_OFFSET")),hr=$n.concat(["SHADOWS_SINGLE_CASCADE"])}const ar=Mn?"fillExtrusionDepth":ne?"fillExtrusionPattern":"fillExtrusion",Wn=l.getLayerRenderingStats();for(const _r of m){const Rr=r.getTile(_r),oi=Rr.getBucket(l);if(!oi||oi.projection.name!==G.projection.name)continue;let mi=!1;Xn&&(mi=Xn.getMaxCascadeForTile(_r.toUnwrapped())===0);const Co=p.isTileAffectedByFog(_r),Vi=oi.programConfigurations.get(l.id),Wi=p.getOrCreateProgram(ar,{config:Vi,defines:mi?hr:$n,overrideFog:Co});if(p.terrain&&p.terrain.setupElevationDraw(Rr,Wi,{useMeterToDem:!0}),!oi.centroidVertexBuffer){const Ja=Wi.attributes.a_centroid_pos;Ja!==void 0&&W.vertexAttrib2f(Ja,0,0)}!nn&&Xn&&Xn.setupShadows(Rr.tileID.toUnwrapped(),Wi,"vector-tile",Rr.tileID.overscaledZ),ne&&(p.context.activeTexture.set(W.TEXTURE0),Rr.imageAtlasTexture&&Rr.imageAtlasTexture.bind(W.LINEAR,W.CLAMP_TO_EDGE),Vi.updatePaintBuffers());const Ao=te.constantOr(null);if(Ao&&Rr.imageAtlas){const Ja=Rr.imageAtlas,Ni=d.A.from(Ao).getPrimary().scaleSelf(d.q.devicePixelRatio),Ba=Ja.patternPositions[Ni.serialize()];Ba&&Vi.setConstantPatternPositions(Ba)}const Ga=l.paint.get("fill-extrusion-vertical-gradient"),bs=1/oi.tileToMeter;let ll;if(nn&&Xn){if(jf(Rr.tileID,oi,p))continue;const Ja=Xn.calculateShadowPassMatrixFromTile(Rr.tileID.toUnwrapped());ll=Nh(Ja,dt,bs,In,Hn,Zn)}else{const Ja=p.translatePosMatrix(_r.expandedProjMatrix,Rr,l.paint.get("fill-extrusion-translate"),l.paint.get("fill-extrusion-translate-anchor")),Ni=G.projection.createInversionMatrix(G,_r.canonical);ll=ne?d0(Ja,p,Ga,ce,Re,dt,bs,_r,Rr,st,Hn,Zn,pt,gt,Ni,yt,In):Pp(Ja,p,Ga,ce,Re,dt,bs,_r,st,Hn,Zn,pt,gt,Ni,yt,In,Bt,Dr)}p.uploadCommonUniforms(Z,Wi,_r.toUnwrapped(),null,rn);let Ys=oi.segments;if(G.projection.name==="mercator"&&!nn&&(Ys=oi.getVisibleSegments(Rr.tileID,p.terrain,p.transform.getFrustum(0)),!Ys.get().length))continue;if(Wn)if(nn)for(const Ja of Ys.get())Wn.numRenderedVerticesInShadowPass+=Ja.primitiveLength;else for(const Ja of Ys.get())Wn.numRenderedVerticesInTransparentPass+=Ja.primitiveLength;const Go=[];(p.terrain||D)&&Go.push(oi.centroidVertexBuffer),bt&&Go.push(oi.layoutVertexExtBuffer),pn&&Go.push(oi.wallVertexBuffer),Wi.draw(p,Z.gl.TRIANGLES,b,w,I,fo.backCCW,ll,l.id,oi.layoutVertexBuffer,oi.indexBuffer,Ys,l.paint,p.transform.zoom,Vi,Go)}p.shadowRenderer&&(p.shadowRenderer.useNormalOffset=!1)}function lf(p,r,l,m,b,w,I,D,Z,W,G,te,ne,ce,Te,we,Re,Oe,Ge){const dt=p.context,st=dt.gl,bt=p.transform,pt=p.transform.zoom,gt=[],ft=Mt(p,l.paint.get("fill-extrusion-cutoff-fade-range"));W==="clear"?(gt.push("CLEAR_SUBPASS"),Ge&&(gt.push("CLEAR_FROM_TEXTURE"),dt.activeTexture.set(st.TEXTURE0),Ge.bind(st.LINEAR,st.CLAMP_TO_EDGE))):W==="sdf"&&gt.push("SDF_SUBPASS"),Re&&gt.push("HAS_CENTROID"),ft.shouldRenderCutoff&&gt.push("RENDER_CUTOFF");const yt=l.layout.get("fill-extrusion-edge-radius"),Bt=(In,pn,Hn,Zn,rn)=>{const $n=pn.programConfigurations.get(l.id),hr=p.isTileAffectedByFog(In),nn=p.getOrCreateProgram("fillExtrusionGroundEffect",{config:$n,defines:gt,overrideFog:hr}),Xn=((Dr,ar,Wn,_r,Rr,oi,mi,Co,Vi,Wi,Ao)=>({u_matrix:ar,u_opacity:Wn,u_ao_pass:_r?1:0,u_meter_to_tile:Rr,u_ao:oi,u_flood_light_intensity:mi,u_flood_light_color:Co,u_attenuation:Vi,u_edge_radius:Wi,u_fb:0,u_fb_size:Ao,u_dynamic_offset:1}))(0,Zn,G,Z,rn,[te,ne*rn],ce,Te,we,pt>=17?0:yt*rn,Ge?Ge.size[0]:0),Mn=[];Re&&Mn.push(pn.hiddenByLandmarkVertexBuffer),p.uploadCommonUniforms(dt,nn,In.toUnwrapped(),null,ft),nn.draw(p,dt.gl.TRIANGLES,b,w,I,D,Xn,l.id,pn.vertexBuffer,pn.indexBuffer,Hn,l.paint,pt,$n,Mn)};for(const In of m){const pn=r.getTile(In),Hn=pn.getBucket(l);if(!Hn||Hn.projection.name!==bt.projection.name||!Hn.groundEffect||Hn.groundEffect&&!Hn.groundEffect.hasData())continue;const Zn=Hn.groundEffect,rn=1/Hn.tileToMeter;{const $n=p.translatePosMatrix(In.projMatrix,pn,l.paint.get("fill-extrusion-translate"),l.paint.get("fill-extrusion-translate-anchor")),hr=Zn.getDefaultSegment();Bt(In,Zn,hr,$n,rn)}if(Oe)for(let $n=0;$n<4;$n++){const hr=d.d4[$n](In),nn=r.getTile(hr);if(!nn)continue;const Xn=nn.getBucket(l);if(!Xn||Xn.projection.name!==bt.projection.name||!Xn.groundEffect||Xn.groundEffect&&!Xn.groundEffect.hasData())continue;const Mn=Xn.groundEffect;let Dr,ar;$n===0?(Dr=[-d.ag,0,0],ar=1):$n===1?(Dr=[d.ag,0,0],ar=0):$n===2?(Dr=[0,-d.ag,0],ar=3):(Dr=[0,d.ag,0],ar=2);const Wn=Mn.regionSegments[ar];if(!Wn)continue;const _r=new Float32Array(16);d.ab.mat4.translate(_r,In.projMatrix,Dr),Bt(In,Mn,Wn,p.translatePosMatrix(_r,pn,l.paint.get("fill-extrusion-translate"),l.paint.get("fill-extrusion-translate-anchor")),rn)}}}function cf(p,r,l,m,b,w,I){m.centroidVertexArray.length===0&&m.createCentroidsBuffer();const D=w?w.findDEMTileFor(l):null;if(!(D&&D.dem||I))return;w&&D&&D.dem&&m.selfDEMTileTimestamp!==D.dem._timestamp&&(m.borderDoneWithNeighborZ=[-1,-1,-1,-1],m.selfDEMTileTimestamp=D.dem._timestamp);const Z=Oe=>new d.P(Math.ceil((Oe+d.d7)*d.d8),0),W=Oe=>{const Ge=r.getSource().minzoom,dt=bt=>{const pt=r.getTileByID(bt);if(pt&&pt.hasData())return pt.getBucket(b)},st=[0,-1,1];for(const bt of st){if(Oe.overscaledZ+bt<Ge)continue;const pt=dt(Oe.calculateScaledKey(Oe.overscaledZ+bt));if(pt)return pt}},G=[0,0,0],te=(Oe,Ge)=>(G[0]=Math.min(Oe.min.y,Ge.min.y),G[1]=Math.max(Oe.max.y,Ge.max.y),G[2]=d.ag-Ge.min.x>Oe.max.x?Ge.min.x-d.ag:Oe.max.x,G),ne=(Oe,Ge)=>(G[0]=Math.min(Oe.min.x,Ge.min.x),G[1]=Math.max(Oe.max.x,Ge.max.x),G[2]=d.ag-Ge.min.y>Oe.max.y?Ge.min.y-d.ag:Oe.max.y,G),ce=[(Oe,Ge)=>te(Oe,Ge),(Oe,Ge)=>te(Ge,Oe),(Oe,Ge)=>ne(Oe,Ge),(Oe,Ge)=>ne(Ge,Oe)],Te=(Oe,Ge,dt,st,bt,pt,gt)=>{if(!w)return 0;const ft=[[pt?dt:Oe,pt?Oe:dt,0],[pt?dt:Ge,pt?Ge:dt,0]],yt=gt<0?d.ag+gt:gt,Bt=[pt?yt:(Oe+Ge)/2,pt?(Oe+Ge)/2:yt,0];return dt===0&&gt<0||dt!==0&&gt>0?w.getForTilePoints(bt,[Bt],!0,st):ft.push(Bt),w.getForTilePoints(l,ft,!0,D),Math.max(ft[0][2],ft[1][2],Bt[2])/w.exaggeration()};for(let Oe=0;Oe<4;Oe++){const Ge=m.borderFeatureIndices[Oe];if(Ge.length===0)continue;const dt=d.d4[Oe](l),st=W(dt);if(!(st&&st instanceof d.d5))continue;const bt=w?w.findDEMTileFor(dt):null;if(!(bt&&bt.dem||I)||(w&&bt&&bt.dem&&m.borderDEMTileTimestamp[Oe]!==bt.dem._timestamp&&(m.borderDoneWithNeighborZ[Oe]=-1,m.borderDEMTileTimestamp[Oe]=bt.dem._timestamp),m.borderDoneWithNeighborZ[Oe]===st.canonical.z))continue;st.centroidVertexArray.length===0&&st.createCentroidsBuffer();const pt=(Oe<2?1:5)-Oe,gt=st.borderDoneWithNeighborZ[pt]!==m.canonical.z,ft=st.borderFeatureIndices[pt];let yt=0;if(m.canonical.z!==st.canonical.z){for(const Bt of Ge)m.showCentroid(m.featuresOnBorder[Bt]);if(gt)for(const Bt of ft)st.showCentroid(st.featuresOnBorder[Bt]);m.borderDoneWithNeighborZ[Oe]=st.canonical.z,st.borderDoneWithNeighborZ[pt]=m.canonical.z}for(const Bt of Ge){const In=m.featuresOnBorder[Bt],pn=m.centroidData[In.centroidDataIndex],Hn=In.borders[Oe];let Zn;for(;yt<ft.length;){Zn=st.featuresOnBorder[ft[yt]];const rn=Zn.borders[pt];if(rn[1]>Hn[0]+3||rn[0]>Hn[0]-3)break;st.showCentroid(Zn),yt++}if(Zn&&yt<ft.length){const rn=yt;let $n=0;for(;!(Zn.borders[pt][0]>Hn[1]-3)&&($n++,++yt!==ft.length);)Zn=st.featuresOnBorder[ft[yt]];Zn=st.featuresOnBorder[ft[rn]];let hr=!1;if($n>=1){const Mn=Zn.borders[pt];Math.abs(Hn[0]-Mn[0])<3&&Math.abs(Hn[1]-Mn[1])<3&&($n=1,hr=!0,yt=rn+1)}else if($n===0){m.showCentroid(In);continue}const nn=st.centroidData[Zn.centroidDataIndex];I&&hr&&(((we=pn).flags|(Re=nn).flags)&d.d6?(we.flags|=d.d6,Re.flags|=d.d6):(we.flags&=~d.d6,Re.flags&=~d.d6));const Xn=In.intersectsCount()>1||Zn.intersectsCount()>1;if($n>1)yt=rn,pn.centroidXY=nn.centroidXY=new d.P(0,0);else if(bt&&bt.dem&&!Xn){const Mn=ce[Oe](pn,nn),Dr=Oe%2?d.ag-1:0,ar=Te(Mn[0],Math.min(d.ag-1,Mn[1]),Dr,bt,dt,Oe<2,Mn[2]);pn.centroidXY=nn.centroidXY=Z(ar)}else Xn?pn.centroidXY=nn.centroidXY=new d.P(0,0):(pn.centroidXY=m.encodeBorderCentroid(In),nn.centroidXY=st.encodeBorderCentroid(Zn));m.writeCentroidToBuffer(pn),st.writeCentroidToBuffer(nn)}else m.showCentroid(In)}m.borderDoneWithNeighborZ[Oe]=st.canonical.z,st.borderDoneWithNeighborZ[pt]=m.canonical.z}var we,Re;(m.needsCentroidUpdate||!m.centroidVertexBuffer&&m.centroidVertexArray.length!==0)&&m.uploadCentroid(p)}const kf=[1,0,0],Sr=[0,1,0],ci=[0,0,1];function jf(p,r,l){const m=l.transform,b=l.shadowRenderer;if(!b)return!0;const w=p.toUnwrapped(),I=m.tileSize*b._cascades[l.currentShadowCascade].scale;let D=r.maxHeight;if(m.elevation){const we=m.elevation.getMinMaxForTile(p);we&&(D+=we.max)}const Z=[...b.shadowDirection];Z[2]=-Z[2];const W=b.computeSimplifiedTileShadowVolume(w,D,I,Z);if(!W)return!1;const G=[kf,Sr,ci,Z,[Z[0],0,Z[2]],[0,Z[1],Z[2]]],te=m.projection.name==="globe",ne=m.scaleZoom(I),ce=d.bR.fromInvProjectionMatrix(m.invProjMatrix,m.worldSize,ne,!te),Te=b.getCurrentCascadeFrustum();return ce.intersectsPrecise(W.vertices,W.planes,G)===0||Te.intersectsPrecise(W.vertices,W.planes,G)===0}function al(p){return[p[0]*d.d9,p[1]*d.d9,p[2]*d.d9,0]}function gn(p,r,l,m,b,w,I,D,Z){const W=m.getSource(),G=l.globeSharedBuffers;if(!G)return;let te,ne,ce;if(r&&(te=m.getTile(r)),W instanceof d.aJ?(ne=W.texture,ce=d.cI(0,0,l.transform)):te&&r&&(ne=te.texture,ce=d.cI(r.canonical.z,r.canonical.x,l.transform)),!ne||!ce)return;p||(ce=d.ab.mat4.scale(d.ab.mat4.create(),ce,[1,-1,1]));const Te=l.context,we=Te.gl,Re=b.paint.get("raster-resampling")==="nearest"?we.NEAREST:we.LINEAR,Oe=l.colorModeForDrapableLayerRenderPass(w),Ge=I.defines;Ge.push("GLOBE_POLES");const dt=new ji(we.LEQUAL,ji.ReadWrite,l.depthRangeFor3D),st=Float32Array.from(l.transform.expandedFarZProjMatrix),bt=Float32Array.from(d.bb(d.cH(new d.bT(0,0,0))));l.terrain&&l.terrain.prepareDrawTile(),Te.activeTexture.set(we.TEXTURE0),ne.bind(Re,we.CLAMP_TO_EDGE),Te.activeTexture.set(we.TEXTURE1),ne.bind(Re,we.CLAMP_TO_EDGE),ne.useMipmap&&Te.extTextureFilterAnisotropic&&l.transform.pitch>20&&we.texParameterf(we.TEXTURE_2D,Te.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,Te.extTextureFilterAnisotropicMax);const[pt,gt,ft,yt]=r?G.getPoleBuffers(r.canonical.z,!1):G.getPoleBuffers(0,!0),Bt=b.paint.get("raster-elevation");let In;p?(In=pt,l.renderDefaultNorthPole=Bt!==0):(In=gt,l.renderDefaultSouthPole=Bt!==0);const pn=al(I.mix),Hn=((rn,$n,hr,nn,Xn,Mn,Dr,ar,Wn,_r,Rr,oi,mi)=>gd(rn,$n,hr,new Float32Array(16),new Float32Array(9),[0,0],nn,[0,0],[0,0,0,0],1,{opacity:1,mix:0},Mn,[0,0],ar,2,_r,Rr,oi,1,0,mi))(st,bt,ce,d.ae(l.transform.zoom),0,b,0,Bt,0,pn,I.offset,I.range,w),Zn=l.getOrCreateProgram("raster",{defines:Ge});l.uploadCommonUniforms(Te,Zn,null),Zn.draw(l,we.TRIANGLES,dt,Z,Oe,D,Hn,b.id,In,ft,yt)}function p0(p){const r=p._nearZ,l=p.projection.farthestPixelDistance(p),m=l-r,b=.2*p.height,w=r+b;return[r,l,(w-b-r)/m,(w-r)/m]}function Zh(p,r,l,m){if(p)return r instanceof Lt&&p instanceof xo?r.getTextureDescriptor(p,l,!0):{texture:p.texture,mix:al(m.mix),offset:m.offset,buffer:0,tileSize:1}}var xu=d.da([{name:"a_index",type:"Int16",components:1}]);class uf{constructor(r,l,m,b){const w={width:m[0],height:m[1],data:null},I=r.gl;this.targetColorTexture=new d.T(r,w,I.RGBA8,{useMipmap:!1}),this.backgroundColorTexture=new d.T(r,w,I.RGBA8,{useMipmap:!1}),this.context=r,this.updateParticleTexture(l,b),this.lastInvalidatedAt=0}updateParticleTexture(r,l){if(this.particleTextureDimension===l.width)return;(this.particleTexture0||this.particleTexture1||this.particleIndexBuffer||this.particleSegment)&&(this.particleTexture0.destroy(),this.particleTexture1.destroy(),this.particleIndexBuffer.destroy(),this.particleSegment.destroy());const m=this.context.gl,b=l.width*l.height;this.particleTexture0=new d.T(this.context,l,m.RGBA8,{premultiply:!1,useMipmap:!1}),this.particleTexture1=new d.T(this.context,l,m.RGBA8,{premultiply:!1,useMipmap:!1});const w=new d.db;w.reserve(b);for(let I=0;I<b;I++)w.emplaceBack(I);this.particleIndexBuffer=this.context.createVertexBuffer(w,xu.members,!0),this.particleSegment=d.b7.simpleSegment(0,0,this.particleIndexBuffer.length,0),this.particleTextureDimension=l.width}update(r){return!(this.lastInvalidatedAt<r&&(this.lastInvalidatedAt=d.q.now(),1))}destroy(){this.targetColorTexture.destroy(),this.backgroundColorTexture.destroy(),this.particleIndexBuffer.destroy(),this.particleTexture0.destroy(),this.particleTexture1.destroy(),this.particleSegment.destroy()}}function Nm(p,r,l){if(!p)return null;const m=r.getTextureDescriptor(p,l,!0);if(!m)return null;let{texture:b,mix:w,offset:I,tileSize:D,buffer:Z,format:W}=m;if(!b||!W)return null;let G=!1;return W==="uint32"&&(G=!0,w[3]=0,w=Rm(d.dc,w,[0,l.paint.get("raster-particle-max-speed")]),I=Am(d.dc,I,[0,l.paint.get("raster-particle-max-speed")])),{texture:b,textureOffset:[Z/(D+2*Z),D/(D+2*Z)],tileSize:D,scalarData:G,scale:w,offset:I,defines:["RASTER_ARRAY",{uint8:"DATA_FORMAT_UINT8",uint16:"DATA_FORMAT_UINT16",uint32:"DATA_FORMAT_UINT32"}[W]]}}function Bm(p){const r=p._nearZ,l=p.projection.farthestPixelDistance(p),m=l-r,b=.2*p.height,w=r+b;return[r,l,(w-b-r)/m,(w-r)/m]}const Zf=new d.aj(1,0,0,1),zp=new d.aj(0,1,0,1),Vf=new d.aj(0,0,1,1),m0=new d.aj(1,0,1,1),df=new d.aj(0,1,1,1);function ff(p,r,l,m,b,w,I){const D=p.context,Z=p.transform,W=D.gl,G=Z.projection.name==="globe",te=G?["PROJECTION_GLOBE_VIEW"]:[];let ne=d.ab.mat4.clone(l.projMatrix);if(G&&d.ae(Z.zoom)>0){const pn=d.ba(l.canonical,Z),Hn=d.dd(pn);ne=d.ab.mat4.multiply(new Float32Array(16),Z.globeMatrix,Hn),d.ab.mat4.multiply(ne,Z.projMatrix,ne)}const ce=d.ab.mat4.create();ce[12]+=2*b/(d.q.devicePixelRatio*Z.width),ce[13]+=2*w/(d.q.devicePixelRatio*Z.height),d.ab.mat4.multiply(ne,ce,ne);const Te=p.getOrCreateProgram("debug",{defines:te}),we=r.getTileByID(l.key);p.terrain&&p.terrain.setupElevationDraw(we,Te);const Re=ji.disabled,Oe=vo.disabled,Ge=p.colorModeForRenderPass(),dt="$debug";D.activeTexture.set(W.TEXTURE0),p.emptyTexture.bind(W.LINEAR,W.CLAMP_TO_EDGE),G?we._makeGlobeTileDebugBuffers(p.context,Z):we._makeDebugTileBoundsBuffers(p.context,Z.projection);const st=we._tileDebugBuffer||p.debugBuffer,bt=we._tileDebugIndexBuffer||p.debugIndexBuffer,pt=we._tileDebugSegments||p.debugSegments;if(Te.draw(p,W.LINE_STRIP,Re,Oe,Ge,fo.disabled,tf(ne,m),dt,st,bt,pt,null,null,null,[we._globeTileDebugBorderBuffer]),I){const pn=we.latestRawTileData,Hn=Math.floor((pn&&pn.byteLength||0)/1024);let Zn=l.canonical.toString();l.overscaledZ!==l.canonical.z&&(Zn+=` => ${l.overscaledZ}`),Zn+=` ${we.state}`,Zn+=` ${Hn}kb`,function(rn,$n){rn.initDebugOverlayCanvas();const hr=rn.debugOverlayCanvas,nn=rn.context.gl,Xn=rn.debugOverlayCanvas.getContext("2d");Xn.clearRect(0,0,hr.width,hr.height),Xn.shadowColor="white",Xn.shadowBlur=2,Xn.lineWidth=1.5,Xn.strokeStyle="white",Xn.textBaseline="top",Xn.font="bold 36px Open Sans, sans-serif",Xn.fillText($n,5,5),Xn.strokeText($n,5,5),rn.debugOverlayTexture.update(hr),rn.debugOverlayTexture.bind(nn.LINEAR,nn.CLAMP_TO_EDGE)}(p,Zn)}const gt=r.getTile(l).tileSize,ft=512/Math.min(gt,512)*(l.overscaledZ/Z.zoom)*.5,yt=we._tileDebugTextBuffer||p.debugBuffer,Bt=we._tileDebugTextIndexBuffer||p.quadTriangleIndexBuffer,In=we._tileDebugTextSegments||p.debugSegments;Te.draw(p,W.TRIANGLES,Re,Oe,qo.alphaBlended,fo.disabled,tf(ne,d.aj.transparent,ft),dt,yt,Bt,In,null,null,null,[we._globeTileDebugTextBuffer])}function Hf(p,r,l,m){Cu(p,0,r+l/2,p.transform.width,l,m)}function Fm(p,r,l,m){Cu(p,r-l/2,0,l,p.transform.height,m)}function Cu(p,r,l,m,b,w){const I=p.context,D=I.gl;D.enable(D.SCISSOR_TEST),D.scissor(r*d.q.devicePixelRatio,l*d.q.devicePixelRatio,m*d.q.devicePixelRatio,b*d.q.devicePixelRatio),I.clear({color:w}),D.disable(D.SCISSOR_TEST)}const Gu=d.da([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:wu}=Gu;function uu(p,r,l,m){p.emplaceBack(r,l,m)}class g0{constructor(r){this.vertexArray=new d.de,this.indices=new d.aU,uu(this.vertexArray,-1,-1,1),uu(this.vertexArray,1,-1,1),uu(this.vertexArray,-1,1,1),uu(this.vertexArray,1,1,1),uu(this.vertexArray,-1,-1,-1),uu(this.vertexArray,1,-1,-1),uu(this.vertexArray,-1,1,-1),uu(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=r.createVertexBuffer(this.vertexArray,wu),this.indexBuffer=r.createIndexBuffer(this.indices),this.segment=d.b7.simpleSegment(0,0,36,12)}}function ql(p,r,l,m,b,w){const I=p.context.gl,D=r.paint.get("sky-atmosphere-color"),Z=r.paint.get("sky-atmosphere-halo-color"),W=r.paint.get("sky-atmosphere-sun-intensity"),G=((te,ne,ce,Te,we)=>({u_matrix_3f:te,u_sun_direction:ne,u_sun_intensity:ce,u_color_tint_r:[Te.r,Te.g,Te.b,Te.a],u_color_tint_m:[we.r,we.g,we.b,we.a],u_luminance:5e-5}))(d.ab.mat3.fromMat4(d.ab.mat3.create(),m),b,W,D,Z);I.framebufferTexture2D(I.FRAMEBUFFER,I.COLOR_ATTACHMENT0,I.TEXTURE_CUBE_MAP_POSITIVE_X+w,r.skyboxTexture,0),l.draw(p,I.TRIANGLES,ji.disabled,vo.disabled,qo.unblended,fo.frontCW,G,"skyboxCapture",r.skyboxGeometry.vertexBuffer,r.skyboxGeometry.indexBuffer,r.skyboxGeometry.segment)}const v0=d.da([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]);class Vh{constructor(r){const l=new d.df;l.emplaceBack(-1,1,1,0,0),l.emplaceBack(1,1,1,1,0),l.emplaceBack(1,-1,1,1,1),l.emplaceBack(-1,-1,1,0,1);const m=new d.aU;m.emplaceBack(0,1,2),m.emplaceBack(2,3,0),this.vertexBuffer=r.createVertexBuffer(l,v0.members),this.indexBuffer=r.createIndexBuffer(m),this.segments=d.b7.simpleSegment(0,0,4,2)}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy()}}const Zs=d.da([{type:"Float32",name:"a_pos_3f",components:3},{type:"Float32",name:"a_uv",components:2},{type:"Float32",name:"a_size_scale",components:1},{type:"Float32",name:"a_fade_opacity",components:1}]);class us{constructor(){this.starsCount=16e3,this.sizeMultiplier=.15,this.sizeRange=100,this.intensityRange=200}}class y0{constructor(r){this.colorModeAlphaBlendedWriteRGB=new qo([1,su,1,su],d.aj.transparent,[!0,!0,!0,!1]),this.colorModeWriteAlpha=new qo([1,0,1,0],d.aj.transparent,[!1,!1,!1,!0]),this.params=new us,this.updateNeeded=!0,r.tp.registerParameter(this.params,["Stars"],"starsCount",{min:100,max:16e3,step:1},()=>{this.updateNeeded=!0}),r.tp.registerParameter(this.params,["Stars"],"sizeMultiplier",{min:.01,max:2,step:.01}),r.tp.registerParameter(this.params,["Stars"],"sizeRange",{min:0,max:200,step:1},()=>{this.updateNeeded=!0}),r.tp.registerParameter(this.params,["Stars"],"intensityRange",{min:0,max:200,step:1},()=>{this.updateNeeded=!0})}update(r){const l=r.context;if(!this.atmosphereBuffer||this.updateNeeded){this.updateNeeded=!1,this.atmosphereBuffer=new Vh(l);const m=this.params.sizeRange,b=this.params.intensityRange,w=function(G){const te=d.di(30),ne=[];for(let ce=0;ce<G;++ce){const Te=2*Math.PI*te(),we=Math.acos(1-2*te())-.5*Math.PI;ne.push(d.ab.vec3.fromValues(Math.cos(we)*Math.cos(Te),Math.cos(we)*Math.sin(Te),Math.sin(we)))}return ne}(this.params.starsCount),I=d.di(300),D=new d.dg,Z=new d.aU;let W=0;for(let G=0;G<w.length;++G){const te=d.ab.vec3.scale([],w[G],200),ne=Math.max(0,1+.01*m*(1*I()-.5)),ce=Math.max(0,1+.01*b*(1*I()-.5));D.emplaceBack(te[0],te[1],te[2],-1,-1,ne,ce),D.emplaceBack(te[0],te[1],te[2],1,-1,ne,ce),D.emplaceBack(te[0],te[1],te[2],1,1,ne,ce),D.emplaceBack(te[0],te[1],te[2],-1,1,ne,ce),Z.emplaceBack(W+0,W+1,W+2),Z.emplaceBack(W+0,W+2,W+3),W+=4}this.starsVx=l.createVertexBuffer(D,Zs.members),this.starsIdx=l.createIndexBuffer(Z),this.starsSegments=d.b7.simpleSegment(0,0,D.length,Z.length)}}destroy(){this.atmosphereBuffer&&this.atmosphereBuffer.destroy(),this.starsVx&&this.starsVx.destroy(),this.starsIdx&&this.starsIdx.destroy()}drawAtmosphereGlow(r,l){const m=r.context,b=m.gl,w=r.transform,I=new ji(b.LEQUAL,ji.ReadOnly,[0,1]),D=d.ae(w.zoom),Z=r.style.getLut(l.scope),W=l.properties.get("color-use-theme")==="none",G=l.properties.get("color").toRenderColor(W?null:Z).toArray01(),te=l.properties.get("high-color-use-theme")==="none",ne=l.properties.get("high-color").toRenderColor(te?null:Z).toArray01(),ce=l.properties.get("space-color-use-theme")==="none",Te=l.properties.get("space-color").toRenderColor(ce?null:Z).toArray01PremultipliedAlpha(),we=5e-4,Re=d.dh(l.properties.get("horizon-blend"),0,1,we,.25),Oe=d.cC(r,m,w)&&Re===we?w.worldSize/(2*Math.PI*1.025)-1:w.globeRadius,Ge=r.frameCounter/1e3%1,dt=d.ab.vec3.length(w.globeCenterInViewSpace),st=Math.sqrt(Math.pow(dt,2)-Math.pow(Oe,2)),bt=Math.acos(st/dt),pt=gt=>{const ft=w.projection.name==="globe"?["PROJECTION_GLOBE_VIEW","FOG"]:["FOG"];gt&&ft.push("ALPHA_PASS");const yt=r.getOrCreateProgram("globeAtmosphere",{defines:ft}),Bt=((pn,Hn,Zn,rn,$n,hr,nn,Xn,Mn,Dr,ar,Wn)=>({u_frustum_tl:pn,u_frustum_tr:Hn,u_frustum_br:Zn,u_frustum_bl:rn,u_horizon:$n,u_transition:hr,u_fadeout_range:nn,u_color:Xn,u_high_color:Mn,u_space_color:Dr,u_temporal_offset:ar,u_horizon_angle:Wn}))(w.frustumCorners.TL,w.frustumCorners.TR,w.frustumCorners.BR,w.frustumCorners.BL,w.frustumCorners.horizon,D,Re,G,ne,Te,Ge,bt);r.uploadCommonUniforms(m,yt);const In=this.atmosphereBuffer;In&&yt.draw(r,b.TRIANGLES,I,vo.disabled,gt?this.colorModeWriteAlpha:this.colorModeAlphaBlendedWriteRGB,fo.backCW,Bt,gt?"atmosphere_glow_alpha":"atmosphere_glow",In.vertexBuffer,In.indexBuffer,In.segments)};pt(!1),pt(!0)}drawStars(r,l){const m=d.aw(l.properties.get("star-intensity"),0,1);if(m===0)return;const b=r.context,w=b.gl,I=r.transform,D=r.getOrCreateProgram("stars"),Z=d.ab.quat.identity([]);d.ab.quat.rotateX(Z,Z,-I._pitch),d.ab.quat.rotateZ(Z,Z,-I.angle),d.ab.quat.rotateX(Z,Z,d.ai(I._center.lat)),d.ab.quat.rotateY(Z,Z,-d.ai(I._center.lng));const W=d.ab.mat4.fromQuat(new Float32Array(16),Z),G=d.ab.mat4.multiply([],I.starsProjMatrix,W),te=d.ab.mat3.fromMat4([],W),ne=d.ab.mat3.invert([],te),ce=[0,1,0];d.ab.vec3.transformMat3(ce,ce,ne),d.ab.vec3.scale(ce,ce,this.params.sizeMultiplier);const Te=[1,0,0];d.ab.vec3.transformMat3(Te,Te,ne),d.ab.vec3.scale(Te,Te,this.params.sizeMultiplier);const we=(Re=ce,Oe=Te,Ge=m,{u_matrix:Float32Array.from(G),u_up:Re,u_right:Oe,u_intensity_multiplier:Ge});var Re,Oe,Ge;r.uploadCommonUniforms(b,D),this.starsVx&&this.starsIdx&&D.draw(r,w.TRIANGLES,ji.disabled,vo.disabled,this.colorModeAlphaBlendedWriteRGB,fo.disabled,we,"atmosphere_stars",this.starsVx,this.starsIdx,this.starsSegments)}}function Xu(p,r){const l=[...p],m=r.cameraWorldSizeForFog/r.worldSize,b=d.ab.mat4.identity([]);return d.ab.mat4.scale(b,b,[m,m,1]),d.ab.mat4.multiply(l,b,l),d.ab.mat4.multiply(l,r.worldToFogMatrix,l),l}function Uf(p,r,l,m,b){const w=l.material,I=m.context,{baseColorTexture:D,metallicRoughnessTexture:Z}=w.pbrMetallicRoughness,{normalTexture:W,occlusionTexture:G,emissionTexture:te}=w;function ne(Te,we,Re){if(Te&&(p.push(we),I.activeTexture.set(I.gl.TEXTURE0+Re),Te.gfxTexture)){const{minFilter:Oe,magFilter:Ge,wrapS:dt,wrapT:st}=Te.sampler;Te.gfxTexture.bindExtraParam(Oe,Ge,dt,st)}}ne(D,"HAS_TEXTURE_u_baseColorTexture",Tl.BaseColor),ne(Z,"HAS_TEXTURE_u_metallicRoughnessTexture",Tl.MetallicRoughness),ne(W,"HAS_TEXTURE_u_normalTexture",Tl.Normal),ne(G,"HAS_TEXTURE_u_occlusionTexture",Tl.Occlusion),ne(te,"HAS_TEXTURE_u_emissionTexture",Tl.Emission),b&&(b.texture||(b.texture=new d.dk(m.context,b.image,[b.image.height,b.image.height,b.image.height],I.gl.RGBA8)),I.activeTexture.set(I.gl.TEXTURE0+Tl.LUT),b.texture&&b.texture.bind(I.gl.LINEAR,I.gl.CLAMP_TO_EDGE),p.push("APPLY_LUT_ON_GPU")),l.texcoordBuffer&&(p.push("HAS_ATTRIBUTE_a_uv_2f"),r.push(l.texcoordBuffer)),l.colorBuffer&&(p.push(l.colorBuffer.itemSize===12?"HAS_ATTRIBUTE_a_color_3f":"HAS_ATTRIBUTE_a_color_4f"),r.push(l.colorBuffer)),l.normalBuffer&&(p.push("HAS_ATTRIBUTE_a_normal_3f"),r.push(l.normalBuffer)),l.pbrBuffer&&(p.push("HAS_ATTRIBUTE_a_pbr"),p.push("HAS_ATTRIBUTE_a_heightBasedEmissiveStrength"),r.push(l.pbrBuffer)),w.alphaMode!=="OPAQUE"&&w.alphaMode!=="MASK"||p.push("UNPREMULT_TEXTURE_IN_SHADER"),w.defined||p.push("DIFFUSE_SHADED");const ce=m.shadowRenderer;ce&&(p.push("RENDER_SHADOWS","DEPTH_TEXTURE"),ce.useNormalOffset&&p.push("NORMAL_OFFSET"))}function Rc(p,r,l,m,b,w){const I=l.paint.get("model-opacity").constantOr(1),D=r.context,Z=new ji(r.context.gl.LEQUAL,ji.ReadWrite,r.depthRangeFor3D),W=r.transform,G=p.mesh,te=G.material,ne=te.pbrMetallicRoughness,ce=r.style.fog;let Te;Te=r.transform.projection.zAxisUnit==="pixels"?[...p.nodeModelMatrix]:d.ab.mat4.multiply([],m.zScaleMatrix,p.nodeModelMatrix),d.ab.mat4.multiply(Te,m.negCameraPosMatrix,Te);const we=d.ab.mat4.invert([],Te);d.ab.mat4.transpose(we,we);const Re=l.paint.get("model-color-use-theme").constantOr("default")==="none",Oe=l.paint.get("model-emissive-strength").constantOr(0),Ge=rf(new Float32Array(p.worldViewProjection),new Float32Array(Te),new Float32Array(we),null,r,I,ne.baseColorFactor.toRenderColor(null),te.emissiveFactor,ne.metallicFactor,ne.roughnessFactor,te,Oe,l),dt={defines:[]},st=[],bt=r.shadowRenderer;bt&&(bt.useNormalOffset=!1),Uf(dt.defines,st,G,r,Re?null:l.lut);let pt=null;if(ce){const yt=Xu(p.nodeModelMatrix,r.transform);if(pt=new Float32Array(yt),W.projection.name!=="globe"){const Bt=G.aabb.min,In=G.aabb.max,[pn,Hn]=ce.getOpacityForBounds(yt,Bt[0],Bt[1],In[0],In[1]);dt.overrideFog=pn>=Ve||Hn>=Ve}}const gt=Mt(r,l.paint.get("model-cutoff-fade-range"));gt.shouldRenderCutoff&&dt.defines.push("RENDER_CUTOFF");const ft=r.getOrCreateProgram("model",dt);r.uploadCommonUniforms(D,ft,null,pt,gt),r.renderPass!=="shadow"&&bt&&bt.setupShadowsFromMatrix(p.nodeModelMatrix,ft),ft.draw(r,D.gl.TRIANGLES,Z,b,w,G.material.doubleSided?fo.disabled:fo.backCCW,Ge,l.id,G.vertexBuffer,G.indexBuffer,G.segments,l.paint,r.transform.zoom,void 0,st)}function km(p,r,l,m,b,w,I){let D;D=p.projection.name==="globe"?d.dl(l,p):[...l],d.ab.mat4.multiply(D,D,r.matrix);const Z=d.ab.mat4.multiply([],m,D);if(r.meshes)for(const W of r.meshes){if(W.material.alphaMode!=="BLEND"){I.push({mesh:W,depth:0,modelIndex:b,worldViewProjection:Z,nodeModelMatrix:D});continue}const G=d.ab.vec3.transformMat4([],W.centroid,Z);!p.isOrthographic&&G[2]<=0||w.push({mesh:W,depth:G[2],modelIndex:b,worldViewProjection:Z,nodeModelMatrix:D})}if(r.children)for(const W of r.children)km(p,W,l,m,b,w,I)}function Hh(p,r,l,m){const b=l.shadowRenderer;if(!b)return;const w=b.getShadowPassDepthMode(),I=b.getShadowPassColorMode(),D=b.calculateShadowPassMatrixFromMatrix(r),Z=vd(D);l.getOrCreateProgram("modelDepth",{defines:l._shadowMapDebug?[]:["DEPTH_TEXTURE"]}).draw(l,l.context.gl.TRIANGLES,w,vo.disabled,I,fo.backCCW,Z,m.id,p.vertexBuffer,p.indexBuffer,p.segments,m.paint,l.transform.zoom,void 0,void 0)}function qu(p,r,l){const m=r.updateZoomBasedPaintProperties(),b=function(w,I,D){let Z,W,G,te=w.terrain?w.terrain.exaggeration():0;if(w.terrain&&te>0){const ne=w.terrain,ce=ne.findDEMTileFor(D);ce&&ce.dem?Z=d.dn.create(ne,D,ce):te=0}if(te===0&&(I.terrainElevationMin=0,I.terrainElevationMax=0),te===I.validForExaggeration&&(te===0||Z&&Z._demTile&&Z._demTile.tileID===I.validForDEMTile.id&&Z._dem._timestamp===I.validForDEMTile.timestamp))return!1;for(const ne in I.instancesPerModel){const ce=I.instancesPerModel[ne];for(let Te=0;Te<ce.instancedDataArray.length;++Te){const we=(Z?te*Z.getElevationAt(0|ce.instancedDataArray.float32[16*Te],0|ce.instancedDataArray.float32[16*Te+1],!0,!0):0)+ce.instancesEvaluatedElevation[Te];ce.instancedDataArray.float32[16*Te+6]=we,W=W?Math.min(I.terrainElevationMin,we):we,G=G?Math.max(I.terrainElevationMax,we):we}}return I.terrainElevationMin=W||0,I.terrainElevationMax=G||0,I.validForExaggeration=te,I.validForDEMTile=Z&&Z._demTile?{id:Z._demTile.tileID,timestamp:Z._dem._timestamp}:{id:void 0,timestamp:0},!0}(p,r,l);(m||b)&&(r.uploaded=!1,r.upload(p.context))}const pc={shadowUniformsInitialized:!1,useSingleShadowCascade:!1,tileMatrix:new Float64Array(16),shadowTileMatrix:new Float32Array(16),aabb:new d.cd([0,0,0],[d.ag,d.ag,0])};function Lp(p,r){const l=1<<p.canonical.z,m=r.getFreeCameraOptions().position,b=r.elevation,w=p.canonical.x/l,I=(p.canonical.x+1)/l,D=p.canonical.y/l,Z=(p.canonical.y+1)/l;let W=r._centerAltitude;if(b){const ce=b.getMinMaxForTile(p);ce&&ce.max>W&&(W=ce.max)}const G=d.aw(m.x,w,I)-m.x,te=d.aw(m.y,D,Z)-m.y,ne=d.bH(W,r.center.lat)-m.z;return r._zoomFromMercatorZ(Math.sqrt(G*G+te*te+ne*ne))}function Np(p,r,l,m,b,w,I){const D=p.context,Z=p.renderPass==="shadow",W=p.shadowRenderer,G=Z&&W?W.getShadowPassDepthMode():new ji(D.gl.LEQUAL,ji.ReadWrite,p.depthRangeFor3D),te=p.isTileAffectedByFog(w);if(l.meshes)for(const ne of l.meshes){const ce=["MODEL_POSITION_ON_GPU"],Te=[];let we,Re,Oe;m.instancedDataArray.length>20&&ce.push("INSTANCED_ARRAYS");const Ge=Mt(p,r.paint.get("model-cutoff-fade-range"));if(Ge.shouldRenderCutoff&&ce.push("RENDER_CUTOFF"),Z&&W)we=p.getOrCreateProgram("modelDepth",{defines:ce}),Re=vd(I.shadowTileMatrix,I.shadowTileMatrix,Float32Array.from(l.matrix)),Oe=W.getShadowPassColorMode();else{Uf(ce,Te,ne,p,r.paint.get("model-color-use-theme").constantOr("default")==="none"?null:r.lut),we=p.getOrCreateProgram("model",{defines:ce,overrideFog:te});const st=ne.material,bt=st.pbrMetallicRoughness,pt=r.paint.get("model-opacity").constantOr(1),gt=r.paint.get("model-emissive-strength").constantOr(0);Re=rf(w.expandedProjMatrix,Float32Array.from(l.matrix),new Float32Array(16),null,p,pt,bt.baseColorFactor.toRenderColor(null),st.emissiveFactor,bt.metallicFactor,bt.roughnessFactor,st,gt,r,b),W&&(I.shadowUniformsInitialized?we.setShadowUniformValues(D,W.getShadowUniformValues()):(W.setupShadows(w.toUnwrapped(),we,"model-tile",w.overscaledZ),I.shadowUniformsInitialized=!0)),Oe=Ge.shouldRenderCutoff||pt<1||st.alphaMode!=="OPAQUE"?qo.alphaBlended:qo.unblended}p.uploadCommonUniforms(D,we,w.toUnwrapped(),null,Ge);const dt=ne.material.doubleSided?fo.disabled:fo.backCCW;if(m.instancedDataArray.length>20)Te.push(m.instancedDataBuffer),we.draw(p,D.gl.TRIANGLES,G,vo.disabled,Oe,dt,Re,r.id,ne.vertexBuffer,ne.indexBuffer,ne.segments,r.paint,p.transform.zoom,void 0,Te,m.instancedDataArray.length);else{const st=Z?"u_instance":"u_normal_matrix";for(let bt=0;bt<m.instancedDataArray.length;++bt)Re[st]=new Float32Array(m.instancedDataArray.arrayBuffer,64*bt,16),we.draw(p,D.gl.TRIANGLES,G,vo.disabled,Oe,dt,Re,r.id,ne.vertexBuffer,ne.indexBuffer,ne.segments,r.paint,p.transform.zoom,void 0,Te)}}if(l.children)for(const ne of l.children)Np(p,r,ne,m,b,w,I)}const jm=[1,-1,1];function _0(p,r,l,m){if(!l.modelManager)return!0;const b=l.modelManager;if(!l.shadowRenderer)return!0;const w=l.shadowRenderer,I=r.aabb;let D=!0,Z=p.maxHeight;if(Z===0){let G=0;for(const te in p.instancesPerModel){const ne=b.getModel(te,m);ne?G=Math.max(G,Math.max(Math.max(ne.aabb.max[0],ne.aabb.max[1]),ne.aabb.max[2])):D=!1}Z=p.maxScale*G*1.41+p.maxVerticalOffset,D&&(p.maxHeight=Z)}I.max[2]=Z,I.min[2]+=p.terrainElevationMin,I.max[2]+=p.terrainElevationMax,d.ab.vec3.transformMat4(I.min,I.min,r.tileMatrix),d.ab.vec3.transformMat4(I.max,I.max,r.tileMatrix);const W=I.intersects(w.getCurrentCascadeFrustum());return l.currentShadowCascade===0&&(p.isInsideFirstShadowMapFrustum=W===2),W===0}function hf(p,r){const l=p.uniformValues.u_cutoff_params[0],m=p.uniformValues.u_cutoff_params[1],b=p.uniformValues.u_cutoff_params[2],w=p.uniformValues.u_cutoff_params[3];return m===l||w===b?1:d.aw(((r-l)/(m-l)-b)/(w-b),0,1)}function b0(p,r,l,m){if(r.pitch<20)return 1;const b=r.getWorldToCameraMatrix();d.ab.mat4.multiply(b,b,p);const w=d.ab.vec4.fromValues(l.min[0],l.min[1],l.min[2],1);let I=d.ab.vec4.transformMat4(d.ab.vec4.create(),w,b),D=I,Z=I;w[1]=l.max[1],I=d.ab.vec4.transformMat4(d.ab.vec4.create(),w,b),D=I[1]<D[1]?I:D,Z=I[1]>Z[1]?I:Z,w[0]=l.max[0],I=d.ab.vec4.transformMat4(d.ab.vec4.create(),w,b),D=I[1]<D[1]?I:D,Z=I[1]>Z[1]?I:Z,w[1]=l.min[1],I=d.ab.vec4.transformMat4(d.ab.vec4.create(),w,b),D=I[1]<D[1]?I:D,Z=I[1]>Z[1]?I:Z;const W=d.aw(m[0],0,1),G=100*r.pixelsPerMeter*d.aw(m[1],0,1),te=d.aw(m[2],0,1),ne=d.ab.vec4.lerp(d.ab.vec4.create(),D,Z,W),ce=Math.tan(.5*r.fovX),Te=-ne[2]*ce;if(G===0)return ne[1]<-Math.abs(Te)?te:1;const we=(-Math.abs(Te)-ne[1])/G,Re=(Ge,dt,st)=>(1-st)*Ge+st*dt,Oe=d.aw(Re(1,te,we),te,1);return Re(1,Oe,d.aw((r.pitch-20)/20,0,1))}class _d{}class Zm{constructor(){this._storage=new Map}getLinesFromTrianglesBuffer(r,l,m){{const te=this._storage.get(l.id);if(te)return te.lastUsedFrameIdx=r,te.buf}const b=m.gl,w=b.getBufferParameter(b.ELEMENT_ARRAY_BUFFER,b.BUFFER_SIZE),I=new ArrayBuffer(w),D=new Int16Array(I);b.getBufferSubData(b.ELEMENT_ARRAY_BUFFER,0,new Int16Array(I));const Z=new d.dq;for(let te=0;te<w/2;te+=3){const ne=D[te],ce=D[te+1],Te=D[te+2];Z.emplaceBack(ne,ce),Z.emplaceBack(ce,Te),Z.emplaceBack(Te,ne)}const W=m.bindVertexArrayOES.current,G=new _d;return G.buf=new Wu(m,Z),G.lastUsedFrameIdx=r,this._storage.set(l.id,G),m.bindVertexArrayOES.set(W),G.buf}update(r){for(const[l,m]of this._storage)r-m.lastUsedFrameIdx>30&&(m.buf.destroy(),this._storage.delete(l))}destroy(){for(const[r,l]of this._storage)l.buf.destroy(),this._storage.delete(r)}}class Vm{constructor(r){this.occluderSize=30,this.depthOffset=-1e-4,r.registerParameter(this,["Occlusion"],"occluderSize",{min:1,max:100,step:1}),r.registerParameter(this,["Occlusion"],"depthOffset",{min:-.05,max:0,step:1e-5})}}const Hm=d.da([{type:"Float32",name:"a_pos_3f",components:3},{type:"Float32",name:"a_uv",components:2},{type:"Float32",name:"a_rainParticleData",components:4}]);class x0{registerParameter(){}registerButton(){}registerBinding(){}refreshUI(){}}class tc{constructor(r,l){this.revealStart=11,this.revealRange=2,r.registerParameter(this,[...l,"Reveal"],"revealStart",{min:0,max:17,step:.05}),r.registerParameter(this,[...l,"Reveal"],"revealRange",{min:.1,max:5.1,step:.05})}}const Uh=d.da([{type:"Float32",name:"a_pos_2f",components:2}]);class Um{destroy(){this.vignetteVx&&this.vignetteVx.destroy(),this.vignetteIdx&&this.vignetteIdx.destroy()}draw(r,l){const m=r.getOrCreateProgram("vignette");if(!this.vignetteVx||!this.vignetteIdx){const I=new d.dr,D=new d.aU;I.emplaceBack(-1,-1),I.emplaceBack(1,-1),I.emplaceBack(1,1),I.emplaceBack(-1,1),D.emplaceBack(0,1,2),D.emplaceBack(0,2,3),this.vignetteVx=r.context.createVertexBuffer(I,Uh.members),this.vignetteIdx=r.context.createIndexBuffer(D)}const b=d.b7.simpleSegment(0,0,4,6);if(this.vignetteVx&&this.vignetteIdx){r.uploadCommonUniforms(r.context,m);const I={u_vignetteShape:(w={vignetteShape:[l.start,l.range,Math.pow(10,l.fadePower)],vignetteColor:[l.color.r,l.color.g,l.color.b,l.color.a*l.strength]}).vignetteShape,u_vignetteColor:w.vignetteColor};m.draw(r,r.context.gl.TRIANGLES,ji.disabled,vo.disabled,qo.alphaBlended,fo.disabled,I,"vignette",this.vignetteVx,this.vignetteIdx,b,{})}var w}}class Wh{constructor(){this._accumulatedOffsetX=0,this._accumulatedOffsetY=0,this._accumulatedElevation=0}update(r,l){const m=r.getFreeCameraOptions().position,b=m.toAltitude(),w=m.toLngLat(),I=d.ai(w.lng),D=d.ai(w.lat),Z=r.pixelsPerMeter/l,W=I*d.ds,G=d.ds*Math.log(Math.tan(Math.PI/4+D/2));if(this._offsetXPrev===void 0)this._offsetXPrev=0,this._offsetYPrev=0,this._elevationPrev=0,this._accumulatedOffsetX=0,this._accumulatedOffsetY=0,this._accumulatedElevation=0;else{const te=-this._offsetYPrev+G,ne=-this._elevationPrev+b;this._accumulatedOffsetX+=(-this._offsetXPrev+W)*Z,this._accumulatedOffsetY+=te*Z,this._accumulatedElevation+=ne*Z,this._offsetXPrev=W,this._offsetYPrev=G,this._elevationPrev=b}}getPosition(){return[this._accumulatedOffsetX,this._accumulatedOffsetY,this._accumulatedElevation]}}function bd(p,r){return[-(p[0]-Math.floor(p[0]/r)*r),-(p[1]-Math.floor(p[1]/r)*r),-(p[2]-Math.floor(p[2]/r)*r)]}function Ku(p){const r=d.di(1323123451230),l=[];for(let m=0;m<p;++m){const b=2*r()-1,w=2*r()-1,I=2*r()-1;l.push(d.ab.vec3.fromValues(b,w,I))}return l}function Su(p,r,l,m,b){const w=d.aw((b-l)/(m-l),0,1);return(1-w)*p+w*r}class xd{constructor(r){this._movement=new Wh,this._accumulatedTimeFromStart=0,this._prevTime=Date.now()/1e3,this._vignette=new Um,this._ppmScaleFactor=r}destroy(){this.particlesVx&&this.particlesVx.destroy(),this.particlesIdx&&this.particlesIdx.destroy(),this._vignette&&this._vignette.destroy()}updateOnRender(r,l){const m=r.transform;this._movement.update(m,this._ppmScaleFactor);const b=m.starsProjMatrix,w=d.ab.quat.identity([]);d.ab.quat.rotateX(w,w,d.ai(90)-m._pitch),d.ab.quat.rotateZ(w,w,-m.angle);const I=d.ab.mat4.fromQuat(new Float32Array(16),w),D=d.ab.mat4.fromValues(1,0,0,0,0,0,1,0,0,-1,0,0,0,0,0,1),Z=d.ab.mat4.transpose([],D),W=d.ab.mat4.multiply([],Z,I),G=Date.now()/1e3;return this._accumulatedTimeFromStart+=(G-this._prevTime)*l,this._prevTime=G,{projectionMatrix:b,modelviewMatrix:W}}}class pf extends xd{constructor(r){super(4.25),this._params={overrideStyleParameters:!1,intensity:.5,timeFactor:1,velocityConeAperture:0,velocity:300,boxSize:2500,dropletSizeX:1,dropletSizeYScale:10,distortionStrength:70,screenThinning:{intensity:.57,start:.46,range:1.17,fadePower:.17,affectedRatio:1,particleOffset:-.2},color:{r:.66,g:.68,b:.74,a:.7},direction:{x:-50,y:-35},shapeDirPower:2,shapeNormalPower:1},this._revealParams=new tc(r.tp,["Precipitation","Rain"]),this._vignetteParams={strength:1,start:.7,range:1,fadePower:.4,color:{r:.27,g:.27,b:.27,a:1}},this.particlesCount=16e3}update(r){const l=r.context;if(!this.particlesVx){const m=Ku(this.particlesCount),b=new d.dt,w=new d.aU;let I=0;const D=d.di(1323123451230);for(let Z=0;Z<m.length;++Z){const W=m[Z],G=[2*D()-1,D(),D(),D()];b.emplaceBack(W[0],W[1],W[2],-1,-1,...G),b.emplaceBack(W[0],W[1],W[2],1,-1,...G),b.emplaceBack(W[0],W[1],W[2],1,1,...G),b.emplaceBack(W[0],W[1],W[2],-1,1,...G),w.emplaceBack(I+0,I+1,I+2),w.emplaceBack(I+0,I+2,I+3),I+=4}this.particlesVx=l.createVertexBuffer(b,Hm.members),this.particlesIdx=l.createIndexBuffer(w)}}draw(r){if(!this._params.overrideStyleParameters&&!r.style.rain)return;const l=this._params.overrideStyleParameters?this._revealParams:{revealStart:0,revealRange:.01},m=r.transform.zoom;if(l.revealStart>m)return;const b=Su(0,1,l.revealStart,l.revealStart+l.revealRange,m);if(!this.particlesVx||!this.particlesIdx)return;const w=structuredClone(this._params);let I=[-w.direction.x,w.direction.y,-100];d.ab.vec3.normalize(I,I);const D=structuredClone(this._vignetteParams);D.strength*=b,w.overrideStyleParameters||(w.intensity=r.style.rain.state.density,w.timeFactor=r.style.rain.state.intensity,w.color=structuredClone(r.style.rain.state.color),I=structuredClone(r.style.rain.state.direction),w.screenThinning.intensity=r.style.rain.state.centerThinning,w.dropletSizeX=r.style.rain.state.dropletSize[0],w.dropletSizeYScale=r.style.rain.state.dropletSize[1]/r.style.rain.state.dropletSize[0],w.distortionStrength=100*r.style.rain.state.distortionStrength,D.strength=1,D.color=structuredClone(r.style.rain.state.vignetteColor));const Z=this.updateOnRender(r,w.timeFactor),W=r.context,G=W.gl,te=r.transform;this.screenTexture&&this.screenTexture.size[0]===r.width&&this.screenTexture.size[1]===r.height||(this.screenTexture=new d.T(W,{width:r.width,height:r.height,data:null},G.RGBA8)),w.distortionStrength>0&&(W.activeTexture.set(G.TEXTURE0),this.screenTexture.bind(G.LINEAR,G.CLAMP_TO_EDGE),G.copyTexSubImage2D(G.TEXTURE_2D,0,0,0,0,0,r.width,r.height));const ne=r.getOrCreateProgram("rainParticle");r.uploadCommonUniforms(W,ne),W.activeTexture.set(G.TEXTURE0),this.screenTexture.bind(G.LINEAR,G.CLAMP_TO_EDGE);const ce=[w.color.r,w.color.g,w.color.b,w.color.a],Te=(we,Re)=>{const Oe=bd(this._movement.getPosition(),we),Ge=w.dropletSizeX,dt=w.dropletSizeX*w.dropletSizeYScale,st=r.width/2,bt=r.height/2,pt=Su(0,w.screenThinning.start,0,1,w.screenThinning.intensity),gt=Su(.001,w.screenThinning.range,0,1,w.screenThinning.intensity),ft=Su(0,w.screenThinning.particleOffset,0,1,w.screenThinning.intensity),yt=(Bt={modelview:Z.modelviewMatrix,projection:Z.projectionMatrix,time:this._accumulatedTimeFromStart,camPos:Oe,velocityConeAperture:w.velocityConeAperture,velocity:w.velocity,boxSize:we,rainDropletSize:[Ge,dt],distortionStrength:w.distortionStrength,rainDirection:I,color:ce,screenSize:[te.width,te.height],thinningCenterPos:[st,bt],thinningShape:[pt,gt,Math.pow(10,w.screenThinning.fadePower)],thinningAffectedRatio:w.screenThinning.affectedRatio,thinningParticleOffset:ft,shapeDirectionalPower:w.shapeDirPower,shapeNormalPower:w.shapeNormalPower,mode:Re?0:1},{u_modelview:Float32Array.from(Bt.modelview),u_projection:Float32Array.from(Bt.projection),u_time:Bt.time,u_cam_pos:Bt.camPos,u_texScreen:0,u_velocityConeAperture:Bt.velocityConeAperture,u_velocity:Bt.velocity,u_boxSize:Bt.boxSize,u_rainDropletSize:Bt.rainDropletSize,u_distortionStrength:Bt.distortionStrength,u_rainDirection:Bt.rainDirection,u_color:Bt.color,u_screenSize:Bt.screenSize,u_thinningCenterPos:Bt.thinningCenterPos,u_thinningShape:Bt.thinningShape,u_thinningAffectedRatio:Bt.thinningAffectedRatio,u_thinningParticleOffset:Bt.thinningParticleOffset,u_shapeDirectionalPower:Bt.shapeDirectionalPower,u_shapeNormalPower:Bt.shapeNormalPower,u_mode:Bt.mode});var Bt;const In=Math.round(w.intensity*this.particlesCount),pn=d.b7.simpleSegment(0,0,4*In,2*In);ne.draw(r,G.TRIANGLES,ji.disabled,vo.disabled,qo.alphaBlended,fo.disabled,yt,"rain_particles",this.particlesVx,this.particlesIdx,pn,{})};w.distortionStrength>0&&Te(w.boxSize,!0),Te(w.boxSize,!1),this._vignette.draw(r,D)}}const Bp=d.da([{type:"Float32",name:"a_pos_3f",components:3},{type:"Float32",name:"a_uv",components:2},{type:"Float32",name:"a_snowParticleData",components:4},{type:"Float32",name:"a_snowParticleDataHorizontalOscillation",components:2}]);class Fp extends xd{constructor(r){super(2.25),this._params={overrideStyleParameters:!1,intensity:.85,timeFactor:.75,velocityConeAperture:70,velocity:40,horizontalOscillationRadius:4,horizontalOscillationRate:1.5,boxSize:2e3,billboardSize:2,shapeFadeStart:.27,shapeFadePower:.21,screenThinning:{intensity:.4,start:.15,range:1.4,fadePower:.24,affectedRatio:1,particleOffset:-.2},color:{r:1,g:1,b:1,a:1},direction:{x:-50,y:-35}},this._revealParams=new tc(r.tp,["Precipitation","Snow"]),this._vignetteParams={strength:.3,start:.78,range:.46,fadePower:.2,color:{r:1,g:1,b:1,a:1}},this.particlesCount=16e3}update(r){const l=r.context;if(!this.particlesVx){const m=Ku(this.particlesCount),b=new d.du,w=new d.aU;let I=0;const D=d.di(1323123451230);for(let Z=0;Z<m.length;++Z){const W=m[Z],G=D(),te=D(),ne=D(),ce=[Z/m.length,G,te,ne],Te=[D(),D()];b.emplaceBack(W[0],W[1],W[2],-1,-1,...ce,...Te),b.emplaceBack(W[0],W[1],W[2],1,-1,...ce,...Te),b.emplaceBack(W[0],W[1],W[2],1,1,...ce,...Te),b.emplaceBack(W[0],W[1],W[2],-1,1,...ce,...Te),w.emplaceBack(I+0,I+1,I+2),w.emplaceBack(I+0,I+2,I+3),I+=4}this.particlesVx=l.createVertexBuffer(b,Bp.members),this.particlesIdx=l.createIndexBuffer(w)}}draw(r){if(!this._params.overrideStyleParameters&&!r.style.snow)return;const l=structuredClone(this._params);let m=[-l.direction.x,l.direction.y,-100];d.ab.vec3.normalize(m,m);const b=structuredClone(this._vignetteParams),w=l.overrideStyleParameters?this._revealParams:{revealStart:0,revealRange:.01},I=r.transform.zoom;if(w.revealStart>I)return;const D=Su(0,1,w.revealStart,w.revealStart+w.revealRange,I);b.strength*=D,l.overrideStyleParameters||(l.intensity=r.style.snow.state.density,l.timeFactor=r.style.snow.state.intensity,l.color=structuredClone(r.style.snow.state.color),m=structuredClone(r.style.snow.state.direction),l.screenThinning.intensity=r.style.snow.state.centerThinning,l.billboardSize=2.79*r.style.snow.state.flakeSize,b.strength=1,b.color=structuredClone(r.style.snow.state.vignetteColor));const Z=this.updateOnRender(r,l.timeFactor);if(!this.particlesVx||!this.particlesIdx)return;const W=r.context,G=W.gl,te=r.transform,ne=r.getOrCreateProgram("snowParticle");r.uploadCommonUniforms(W,ne),((ce,Te,we)=>{const Re=bd(this._movement.getPosition(),ce),Oe=te.width/2,Ge=te.height/2,dt=Su(0,we.screenThinning.start,0,1,we.screenThinning.intensity),st=Su(.001,we.screenThinning.range,0,1,we.screenThinning.intensity),bt=Su(0,we.screenThinning.particleOffset,0,1,we.screenThinning.intensity),pt=(gt={modelview:Z.modelviewMatrix,projection:Z.projectionMatrix,time:this._accumulatedTimeFromStart,camPos:Re,velocityConeAperture:we.velocityConeAperture,velocity:we.velocity,horizontalOscillationRadius:we.horizontalOscillationRadius,horizontalOscillationRate:we.horizontalOscillationRate,boxSize:ce,billboardSize:1*we.billboardSize,simpleShapeParameters:[we.shapeFadeStart,we.shapeFadePower],screenSize:[te.width,te.height],thinningCenterPos:[Oe,Ge],thinningShape:[dt,st,Math.pow(10,we.screenThinning.fadePower)],thinningAffectedRatio:we.screenThinning.affectedRatio,thinningParticleOffset:bt,color:[we.color.r,we.color.g,we.color.b,we.color.a],direction:m},{u_modelview:Float32Array.from(gt.modelview),u_projection:Float32Array.from(gt.projection),u_time:gt.time,u_cam_pos:gt.camPos,u_velocityConeAperture:gt.velocityConeAperture,u_velocity:gt.velocity,u_horizontalOscillationRadius:gt.horizontalOscillationRadius,u_horizontalOscillationRate:gt.horizontalOscillationRate,u_boxSize:gt.boxSize,u_billboardSize:gt.billboardSize,u_simpleShapeParameters:gt.simpleShapeParameters,u_screenSize:gt.screenSize,u_thinningCenterPos:gt.thinningCenterPos,u_thinningShape:gt.thinningShape,u_thinningAffectedRatio:gt.thinningAffectedRatio,u_thinningParticleOffset:gt.thinningParticleOffset,u_particleColor:gt.color,u_direction:gt.direction});var gt;const ft=Math.round(we.intensity*this.particlesCount),yt=d.b7.simpleSegment(0,0,4*ft,2*ft);this.particlesVx&&this.particlesIdx&&ne.draw(r,G.TRIANGLES,ji.disabled,vo.disabled,qo.alphaBlended,fo.disabled,pt,"snow_particles",this.particlesVx,this.particlesIdx,yt,{})})(l.boxSize,0,l),this._vignette.draw(r,b)}}const Gh={symbol:function(p,r,l,m,b){if(p.renderPass!=="translucent")return;const w=vo.disabled,I=p.colorModeForRenderPass(),D=l.layout.get("text-variable-anchor"),Z=l.layout.get("text-size-scale-range"),W=d.aw(p.scaleFactor,Z[0],Z[1]);D&&function(ne,ce,Te,we,Re,Oe,Ge,dt){const st=ce.transform,bt=Re==="map",pt=Oe==="map";for(const gt of ne){const ft=we.getTile(gt),yt=ft.getBucket(Te);if(!yt||!yt.text||!yt.text.segments.get().length)continue;const Bt=d.bp(yt.textSizeData,st.zoom,dt),In=Qo(gt,yt.getProjection(),st),pn=st.calculatePixelsToTileUnitsMatrix(ft),Hn=Ke(In,ft.tileID.canonical,pt,bt,st,yt.getProjection(),pn),Zn=yt.hasIconTextFit()&&yt.hasIconData();if(Bt){const rn=Math.pow(2,st.zoom-ft.tileID.overscaledZ);Ap(yt,bt,pt,Ge,d.cX,st,Hn,gt,rn,Bt,Zn)}}}(m,p,l,r,l.layout.get("text-rotation-alignment"),l.layout.get("text-pitch-alignment"),b,W);const G=l.paint.get("icon-opacity").constantOr(1)!==0,te=l.paint.get("text-opacity").constantOr(1)!==0;l.layout.get("symbol-sort-key").constantOr(1)!==void 0&&(G||te)?kh(p,r,l,m,w,I):(G&&kh(p,r,l,m,w,I,{onlyIcons:!0}),te&&kh(p,r,l,m,w,I,{onlyText:!0})),r.map.showCollisionBoxes&&(Fh(p,r,l,m,l.paint.get("text-translate"),l.paint.get("text-translate-anchor"),!0),Fh(p,r,l,m,l.paint.get("icon-translate"),l.paint.get("icon-translate-anchor"),!1))},circle:function(p,r,l,m){if(p.renderPass!=="translucent")return;const b=l.paint.get("circle-opacity"),w=l.paint.get("circle-stroke-width"),I=l.paint.get("circle-stroke-opacity"),D=l.layout.get("circle-sort-key").constantOr(1)!==void 0,Z=l.paint.get("circle-emissive-strength");if(b.constantOr(1)===0&&(w.constantOr(1)===0||I.constantOr(1)===0))return;const W=p.context,G=W.gl,te=p.transform,ne=p.depthModeForSublayer(0,ji.ReadOnly),ce=vo.disabled,Te=p.colorModeForDrapableLayerRenderPass(Z),we=te.projection.name==="globe",Re=[d.at(te.center.lng),d.aA(te.center.lat)],Oe=[];for(let dt=0;dt<m.length;dt++){const st=m[dt],bt=r.getTile(st),pt=bt.getBucket(l);if(!pt||pt.projection.name!==te.projection.name)continue;const gt=pt.programConfigurations.get(l.id),ft=d.cY(l),yt=p.isTileAffectedByFog(st);we&&ft.push("PROJECTION_GLOBE_VIEW"),ft.push("DEPTH_D24"),p.terrain&&te.depthOcclusionForSymbolsAndCircles&&ft.push("DEPTH_OCCLUSION");const Bt=p.getOrCreateProgram("circle",{config:gt,defines:ft,overrideFog:yt}),In=pt.layoutVertexBuffer,pn=pt.globeExtVertexBuffer,Hn=pt.indexBuffer,Zn=te.projection.createInversionMatrix(te,st.canonical),rn={programConfiguration:gt,program:Bt,layoutVertexBuffer:In,globeExtVertexBuffer:pn,indexBuffer:Hn,uniformValues:d.cZ(p,st,bt,Zn,Re,l),tile:bt};if(D){const $n=pt.segments.get();for(const hr of $n)Oe.push({segments:new d.b7([hr]),sortKey:hr.sortKey,state:rn})}else Oe.push({segments:pt.segments,sortKey:0,state:rn})}D&&Oe.sort((dt,st)=>dt.sortKey-st.sortKey);const Ge={useDepthForOcclusion:te.depthOcclusionForSymbolsAndCircles};for(const dt of Oe){const{programConfiguration:st,program:bt,layoutVertexBuffer:pt,globeExtVertexBuffer:gt,indexBuffer:ft,uniformValues:yt,tile:Bt}=dt.state,In=dt.segments;p.terrain&&p.terrain.setupElevationDraw(Bt,bt,Ge),p.uploadCommonUniforms(W,bt,Bt.tileID.toUnwrapped()),bt.draw(p,G.TRIANGLES,ne,ce,Te,fo.disabled,yt,l.id,pt,ft,In,l.paint,te.zoom,st,[gt])}},heatmap:function(p,r,l,m){if(l.paint.get("heatmap-opacity")!==0)if(p.renderPass==="offscreen"){const b=p.context,w=b.gl,I=vo.disabled,D=new qo([w.ONE,w.ONE,w.ONE,w.ONE],d.aj.transparent,[!0,!0,!0,!0]);(function(ce,Te,we,Re){const Oe=ce.gl,Ge=Te.width*Re,dt=Te.height*Re;ce.activeTexture.set(Oe.TEXTURE1),ce.viewport.set([0,0,Ge,dt]);let st=we.heatmapFbo;if(!st||st&&(st.width!==Ge||st.height!==dt)){st&&st.destroy();const bt=Oe.createTexture();Oe.bindTexture(Oe.TEXTURE_2D,bt),Oe.texParameteri(Oe.TEXTURE_2D,Oe.TEXTURE_WRAP_S,Oe.CLAMP_TO_EDGE),Oe.texParameteri(Oe.TEXTURE_2D,Oe.TEXTURE_WRAP_T,Oe.CLAMP_TO_EDGE),Oe.texParameteri(Oe.TEXTURE_2D,Oe.TEXTURE_MIN_FILTER,Oe.LINEAR),Oe.texParameteri(Oe.TEXTURE_2D,Oe.TEXTURE_MAG_FILTER,Oe.LINEAR),st=we.heatmapFbo=ce.createFramebuffer(Ge,dt,!0,null),function(pt,gt,ft,yt,Bt,In){const pn=pt.gl;pn.texImage2D(pn.TEXTURE_2D,0,pt.extRenderToTextureHalfFloat?pn.RGBA16F:pn.RGBA,Bt,In,0,pn.RGBA,pt.extRenderToTextureHalfFloat?pn.HALF_FLOAT:pn.UNSIGNED_BYTE,null),yt.colorAttachment.set(ft)}(ce,0,bt,st,Ge,dt)}else Oe.bindTexture(Oe.TEXTURE_2D,st.colorAttachment.get()),ce.bindFramebuffer.set(st.framebuffer)})(b,p,l,p.transform.projection.name==="globe"?.5:.25),b.clear({color:d.aj.transparent});const Z=p.transform,W=Z.projection.name==="globe",G=W?["PROJECTION_GLOBE_VIEW"]:[],te=W?fo.frontCCW:fo.disabled,ne=[d.at(Z.center.lng),d.aA(Z.center.lat)];for(let ce=0;ce<m.length;ce++){const Te=m[ce];if(r.hasRenderableParent(Te))continue;const we=r.getTile(Te),Re=we.getBucket(l);if(!Re||Re.projection.name!==Z.projection.name)continue;const Oe=p.isTileAffectedByFog(Te),Ge=Re.programConfigurations.get(l.id),dt=p.getOrCreateProgram("heatmap",{config:Ge,defines:G,overrideFog:Oe}),{zoom:st}=p.transform;p.terrain&&p.terrain.setupElevationDraw(we,dt),p.uploadCommonUniforms(b,dt,Te.toUnwrapped());const bt=Z.projection.createInversionMatrix(Z,Te.canonical);dt.draw(p,w.TRIANGLES,ji.disabled,I,D,te,bi(p,Te,we,bt,ne,st,l.paint.get("heatmap-intensity")),l.id,Re.layoutVertexBuffer,Re.indexBuffer,Re.segments,l.paint,p.transform.zoom,Ge,W?[Re.globeExtVertexBuffer]:null)}b.viewport.set([0,0,p.width,p.height])}else p.renderPass==="translucent"&&(p.context.setColorMode(p.colorModeForRenderPass()),function(b,w){const I=b.context,D=I.gl,Z=w.heatmapFbo;if(!Z)return;I.activeTexture.set(D.TEXTURE0),D.bindTexture(D.TEXTURE_2D,Z.colorAttachment.get()),I.activeTexture.set(D.TEXTURE1);let W=w.colorRampTexture;W||(W=w.colorRampTexture=new d.T(I,w.colorRamp,D.RGBA8)),W.bind(D.LINEAR,D.CLAMP_TO_EDGE),b.getOrCreateProgram("heatmapTexture").draw(b,D.TRIANGLES,ji.disabled,vo.disabled,b.colorModeForRenderPass(),fo.disabled,((G,te,ne,ce)=>({u_image:0,u_color_ramp:1,u_opacity:te.paint.get("heatmap-opacity")}))(0,w),w.id,b.viewportBuffer,b.quadTriangleIndexBuffer,b.viewportSegments,w.paint,b.transform.zoom)}(p,l))},line:function(p,r,l,m){if(p.renderPass!=="translucent")return;const b=l.paint.get("line-opacity"),w=l.paint.get("line-width");if(b.constantOr(1)===0||w.constantOr(1)===0)return;const I=l.paint.get("line-emissive-strength"),D=l.paint.get("line-occlusion-opacity"),Z=l.layout.get("line-elevation-reference"),W=l.layout.get("line-width-unit")==="meters",G=Z==="sea",te=p.context,ne=te.gl;if(l.hasElevatedBuckets&&p.transform.projection.name==="globe")return;const ce=l.layout.get("line-cross-slope"),Te=ce!==void 0,we=ce<1,Re=p.colorModeForDrapableLayerRenderPass(I),Oe=p.terrain&&p.terrain.renderingToTexture,Ge=Oe?1:d.q.devicePixelRatio,dt=l.paint.get("line-dasharray"),st=dt.constantOr(1),bt=l.layout.get("line-cap"),pt=dt.constantOr(null),gt=bt.constantOr(null),ft=l.paint.get("line-pattern"),yt=ft.constantOr(1),Bt=ft.constantOr(null),In=l.paint.get("line-opacity").constantOr(1);let pn=!yt&&In!==1||p.depthOcclusion&&D>0&&D<1;const Hn=l.paint.get("line-gradient"),Zn=yt?"linePattern":"line",rn=d.c_(l);let $n;if(Oe&&p.terrain&&p.terrain.clipOrMaskOverlapStencilType()&&(pn=!1),D!==0&&p.depthOcclusion){const nn=l.paint._values["line-opacity"];nn&&nn.value&&nn.value.kind==="constant"?$n=nn.value:d.w(`Occlusion opacity for layer ${l.id} is supported only when line-opacity isn't data-driven.`)}w.value.kind!=="constant"&&w.value.isLineProgressConstant===!1&&rn.push("VARIABLE_LINE_WIDTH");const hr=(nn,Xn,Mn,Dr,ar)=>{for(const Wn of nn){const _r=r.getTile(Wn);if(yt&&!_r.patternsLoaded())continue;const Rr=_r.getBucket(l);if(!Rr||Rr.hasZOffset&&!ar||!Rr.hasZOffset&&ar)continue;p.prepareDrawTile();const oi=Rr.programConfigurations.get(l.id),mi=p.isTileAffectedByFog(Wn),Co=p.getOrCreateProgram(Zn,{config:oi,defines:Xn,overrideFog:mi,overrideRtt:!ar&&void 0});if(Bt&&_r.imageAtlas){const Go=d.A.from(Bt).getPrimary().scaleSelf(Ge).serialize(),Ja=_r.imageAtlas.patternPositions[Go];Ja&&oi.setConstantPatternPositions(Ja)}if(!yt&&pt&&gt&&_r.lineAtlas){const Go=_r.lineAtlas.getDash(pt,gt);Go&&oi.setConstantPatternPositions(Go)}let[Vi,Wi]=l.paint.get("line-trim-offset");(gt==="round"||gt==="square")&&Vi!==Wi&&(Vi===0&&(Vi-=1),Wi===1&&(Wi+=1));const Ao=Oe?Wn.projMatrix:null,Ga=W?1/Rr.tileToMeter/d.ar(_r,1,p.transform.zoom):1,bs=W?1/Rr.tileToMeter/d.ar(_r,1,Math.floor(p.transform.zoom)):1,ll=yt?d.c$(p,_r,l,Ao,Ge,Ga,bs,[Vi,Wi]):d.d0(p,_r,l,Ao,Rr.lineClipsArray.length,Ge,Ga,bs,[Vi,Wi]);if(Hn){const Go=Rr.gradients[l.id];let Ja=Go.texture;if(l.gradientVersion!==Go.version){let Ni=256;if(l.stepInterpolant){const Ba=r.getSource().maxzoom,fs=Wn.canonical.z===Ba?Math.ceil(1<<p.transform.maxZoom-Wn.canonical.z):1;Ni=d.aw(d.d1(Rr.maxLineLength/d.ag*1024*fs),256,te.maxTextureSize)}Go.gradient=d.d2({expression:l.gradientExpression(),evaluationKey:"lineProgress",resolution:Ni,image:Go.gradient||void 0,clips:Rr.lineClipsArray}),Go.texture?Go.texture.update(Go.gradient):Go.texture=new d.T(te,Go.gradient,ne.RGBA8),Go.version=l.gradientVersion,Ja=Go.texture}te.activeTexture.set(ne.TEXTURE1),Ja.bind(l.stepInterpolant?ne.NEAREST:ne.LINEAR,ne.CLAMP_TO_EDGE)}st&&(te.activeTexture.set(ne.TEXTURE0),_r.lineAtlasTexture&&_r.lineAtlasTexture.bind(ne.LINEAR,ne.REPEAT),oi.updatePaintBuffers()),yt&&(te.activeTexture.set(ne.TEXTURE0),_r.imageAtlasTexture&&_r.imageAtlasTexture.bind(ne.LINEAR,ne.CLAMP_TO_EDGE),oi.updatePaintBuffers()),ar&&!G&&p.terrain.setupElevationDraw(_r,Co),p.uploadCommonUniforms(te,Co,Wn.toUnwrapped());const Ys=Go=>{$n!=null&&($n.value=In*D),Co.draw(p,ne.TRIANGLES,Mn,Go,Re,fo.disabled,ll,l.id,Rr.layoutVertexBuffer,Rr.indexBuffer,Rr.segments,l.paint,p.transform.zoom,oi,[Rr.layoutVertexBuffer2,Rr.patternVertexBuffer,Rr.zOffsetVertexBuffer]),$n!=null&&($n.value=In)};if(pn&&!ar){const Go=p.stencilModeForClipping(Wn).ref;Go===0&&Oe&&te.clear({stencil:0});const Ja={func:ne.EQUAL,mask:255};ll.u_alpha_discard_threshold=.8,Ys(new vo(Ja,Go,255,ne.KEEP,ne.KEEP,ne.INVERT)),ll.u_alpha_discard_threshold=0,Ys(new vo(Ja,Go,255,ne.KEEP,ne.KEEP,ne.KEEP))}else pn&&ar&&(ll.u_alpha_discard_threshold=.001),Ys(ar?Dr:p.stencilModeForClipping(Wn))}};if(l.hasNonElevatedBuckets){const nn=!Oe&&p.terrain;D!==0&&nn?d.w(`Occlusion opacity for layer ${l.id} is supported on terrain only if the layer has line-z-offset enabled.`):nn?d.w(`Cannot render non-elevated lines in immediate mode when terrain is enabled. Layer: ${l.id}.`):hr(m,rn,p.depthModeForSublayer(0,ji.ReadOnly),vo.disabled,!1)}if(l.hasElevatedBuckets){rn.push("ELEVATED"),Te&&rn.push(we?"CROSS_SLOPE_HORIZONTAL":"CROSS_SLOPE_VERTICAL"),G&&rn.push("ELEVATION_REFERENCE_SEA");const nn=pn?p.stencilModeFor3D():vo.disabled,Xn=new ji(p.depthOcclusion?ne.GREATER:ne.LEQUAL,ji.ReadOnly,p.depthRangeFor3D);p.forceTerrainMode=!0,hr(m,rn,Xn,nn,!0),p.forceTerrainMode=!1}pn&&(p.resetStencilClippingMasks(),Oe&&te.clear({stencil:0})),D===0||p.depthOcclusion||Oe||p.layersWithOcclusionOpacity.push(p.currentLayer)},fill:function(p,r,l,m){const b=l.paint.get("fill-color"),w=l.paint.get("fill-opacity"),I=l.is3D(),D=new ji(p.context.gl.LEQUAL,ji.ReadWrite,p.depthRangeFor3D);if(w.constantOr(1)===0)return;const Z=l.paint.get("fill-emissive-strength"),W=p.colorModeForDrapableLayerRenderPass(Z),G=l.paint.get("fill-pattern"),te=p.opaquePassEnabledForLayer()&&!G.constantOr(1)&&b.constantOr(d.aj.transparent).a===1&&w.constantOr(0)===1?"opaque":"translucent";if(p.renderPass===te){const ne=I?D:p.depthModeForSublayer(1,p.renderPass==="opaque"?ji.ReadWrite:ji.ReadOnly);Lm(p,r,l,m,ne,W,!1)}if(!I&&p.renderPass==="translucent"&&l.paint.get("fill-antialias")){const ne=I?D:p.depthModeForSublayer(l.getPaintProperty("fill-outline-color")?2:0,ji.ReadOnly);Lm(p,r,l,m,ne,W,!0)}},"fill-extrusion":function(p,r,l,m){const b=l.paint.get("fill-extrusion-opacity"),w=p.context,I=w.gl,D=p.terrain,Z=D&&D.renderingToTexture;if(b===0)return;const W=p.conflationActive&&p.style.isLayerClipped(l,r.getSource()),G=p.style.order.indexOf(l.fqid);if(W&&function(te,ne,ce,Te,we){for(const Re of Te){const Oe=ne.getTile(Re).getBucket(ce);Oe&&(Oe.updateReplacement(Re,te.replacementSource,we),Oe.uploadCentroid(te.context))}}(p,r,l,m,G),D||W)for(const te of m){const ne=r.getTile(te).getBucket(l);ne&&cf(p.context,r,te,ne,l,D,W)}if(p.renderPass==="shadow"&&p.shadowRenderer){const te=p.shadowRenderer;if(D&&b<.65&&l._transitionablePaint._values["fill-extrusion-opacity"].value.expression instanceof d.a9)return;const ne=te.getShadowPassDepthMode(),ce=te.getShadowPassColorMode();jh(p,r,l,m,ne,vo.disabled,ce,W)}else if(p.renderPass==="translucent"){const te=!l.paint.get("fill-extrusion-pattern").constantOr(1),ne=l.paint.get("fill-extrusion-color").constantOr(d.aj.white);if(!Z&&ne.a!==0){const ce=new ji(p.context.gl.LEQUAL,ji.ReadWrite,p.depthRangeFor3D);b===1&&te?jh(p,r,l,m,ce,vo.disabled,qo.unblended,W):(jh(p,r,l,m,ce,vo.disabled,qo.disabled,W),jh(p,r,l,m,ce,p.stencilModeFor3D(),p.colorModeForRenderPass(),W),p.resetStencilClippingMasks())}if(p.style.enable3dLights()&&te&&(!D&&p.transform.projection.name!=="globe"||Z)){const ce=l.paint.get("fill-extrusion-opacity"),Te=l.paint.get("fill-extrusion-ambient-occlusion-intensity"),we=l.paint.get("fill-extrusion-ambient-occlusion-ground-radius"),Re=l.paint.get("fill-extrusion-flood-light-intensity"),Oe=l.paint.get("fill-extrusion-flood-light-color-use-theme").constantOr("default")==="none",Ge=l.paint.get("fill-extrusion-flood-light-color").toRenderColor(Oe?null:l.lut).toArray01().slice(0,3),dt=Te>0&&we>0,st=Re>0,bt=(gt,ft,yt)=>(1-yt)*gt+yt*ft,pt=gt=>{const ft=p.depthModeForSublayer(1,ji.ReadOnly,I.LEQUAL,!0),yt=l.paint.get(gt?"fill-extrusion-ambient-occlusion-ground-attenuation":"fill-extrusion-flood-light-ground-attenuation"),Bt=bt(.1,3,yt),In=p._showOverdrawInspector;if(!In){const pn=new vo({func:I.ALWAYS,mask:255},255,255,I.KEEP,I.KEEP,I.REPLACE),Hn=new qo([I.ONE,I.ONE,I.ONE,I.ONE],d.aj.transparent,[!1,!1,!1,!0],I.MIN);lf(p,r,l,m,ft,pn,Hn,fo.disabled,gt,"sdf",ce,Te,we,Re,Ge,Bt,W,!1)}{const pn=In?vo.disabled:new vo({func:I.EQUAL,mask:255},255,255,I.KEEP,I.DECR,I.DECR),Hn=In?p.colorModeForRenderPass():new qo([I.ONE_MINUS_DST_ALPHA,I.DST_ALPHA,I.ONE,I.ONE],d.aj.transparent,[!0,!0,!0,!0]);lf(p,r,l,m,ft,pn,Hn,fo.disabled,gt,"color",ce,Te,we,Re,Ge,Bt,W,!1)}};if(Z){const gt=(ft,yt,Bt)=>{const In=p.depthModeForSublayer(1,ji.ReadOnly,I.LEQUAL,!1),pn=l.paint.get(ft?"fill-extrusion-ambient-occlusion-ground-attenuation":"fill-extrusion-flood-light-ground-attenuation"),Hn=bt(.1,3,pn);{const Zn=new qo([I.ONE,I.ONE,I.ONE,I.ONE],d.aj.transparent,[!1,!1,!1,!0]);lf(p,r,l,m,In,vo.disabled,Zn,fo.disabled,ft,"clear",ce,Te,we,Re,Ge,Hn,W,yt)}{const Zn=new vo({func:I.ALWAYS,mask:255},255,255,I.KEEP,I.KEEP,I.REPLACE),rn=new qo([I.ONE,I.ONE,I.ONE,I.ONE],d.aj.transparent,[!1,!1,!1,!0],I.MIN);lf(p,r,l,m,In,Zn,rn,fo.disabled,ft,"sdf",ce,Te,we,Re,Ge,Hn,W,yt)}{const Zn=ft?I.ZERO:I.ONE_MINUS_DST_ALPHA,rn=new vo({func:I.EQUAL,mask:255},255,255,I.KEEP,I.DECR,I.DECR),$n=new qo([Zn,I.DST_ALPHA,I.ONE_MINUS_DST_ALPHA,I.ZERO],d.aj.transparent,[!0,!0,!0,!0]);lf(p,r,l,m,In,rn,$n,fo.disabled,ft,"color",ce,Te,we,Re,Ge,Hn,W,yt)}{const Zn=new qo([I.ONE,I.ONE,I.ONE,ft?I.ZERO:I.ONE],d.aj.transparent,[!1,!1,!1,!0],ft?I.FUNC_ADD:I.MAX);lf(p,r,l,m,In,vo.disabled,Zn,fo.disabled,ft,"clear",ce,Te,we,Re,Ge,Hn,W,yt,Bt)}};if(dt||st){let ft;if(p.prepareDrawTile(),D){const yt=D.drapeBufferSize[0],Bt=D.drapeBufferSize[1];ft=D.framebufferCopyTexture,ft&&(!ft||ft.size[0]===yt&&ft.size[1]===Bt)||(ft&&ft.destroy(),ft=D.framebufferCopyTexture=new d.T(w,new d.r({width:yt,height:Bt}),I.RGBA8)),ft.bind(I.LINEAR,I.CLAMP_TO_EDGE),I.copyTexSubImage2D(I.TEXTURE_2D,0,0,0,0,0,yt,Bt)}dt&&gt(!0,!1,ft),st&&gt(!1,!0,ft)}}else dt&&pt(!0),st&&pt(!1),(dt||st)&&p.resetStencilClippingMasks()}}},hillshade:function(p,r,l,m){if(p.renderPass!=="offscreen"&&p.renderPass!=="translucent"||p.style.disableElevatedTerrain)return;const b=p.context,w=p.terrain&&p.terrain.renderingToTexture,[I,D]=p.renderPass!=="translucent"||w?[{},m]:p.stencilConfigForOverlap(m);for(const Z of D){const W=r.getTile(Z);if(W.needsHillshadePrepare&&p.renderPass==="offscreen")Om(p,W,l);else if(p.renderPass==="translucent"){const G=p.depthModeForSublayer(0,ji.ReadOnly),te=l.paint.get("hillshade-emissive-strength"),ne=p.colorModeForDrapableLayerRenderPass(te),ce=w&&p.terrain?p.terrain.stencilModeForRTTOverlap(Z):I[Z.overscaledZ];El(p,Z,W,l,G,ce,ne)}}b.viewport.set([0,0,p.width,p.height]),p.resetStencilClippingMasks()},raster:function(p,r,l,m,b,w){if(p.renderPass!=="translucent"||l.paint.get("raster-opacity")===0)return;const I=p.transform.projection.name==="globe",D=l.paint.get("raster-elevation")!==0,Z=D&&I;if(p.renderElevatedRasterBackface&&!Z)return;const W=p.context,G=W.gl,te=r.getSource(),ne=function(pt,gt,ft,yt){const Bt=gt.paint.get("raster-color"),In=pt.type==="raster-array",pn=[],Hn=gt.paint.get("raster-resampling"),Zn=gt.paint.get("raster-color-mix");let rn=gt.paint.get("raster-color-range");const $n=[Zn[0],Zn[1],Zn[2],0],hr=Zn[3];let nn=Hn==="nearest"?yt.NEAREST:yt.LINEAR;if(In&&(pn.push("RASTER_ARRAY"),Bt||pn.push("RASTER_COLOR"),Hn==="linear"&&pn.push("RASTER_ARRAY_LINEAR"),nn=yt.NEAREST,!rn&&pt.rasterLayers)){const Xn=pt.rasterLayers.find(({id:Mn})=>Mn===gt.sourceLayer);Xn&&Xn.fields&&Xn.fields.range&&(rn=Xn.fields.range)}if(rn=rn||[0,1],Bt){pn.push("RASTER_COLOR"),ft.activeTexture.set(yt.TEXTURE2),gt.updateColorRamp(rn);let Xn=gt.colorRampTexture;Xn||(Xn=gt.colorRampTexture=new d.T(ft,gt.colorRamp,yt.RGBA8)),Xn.bind(yt.LINEAR,yt.CLAMP_TO_EDGE)}return{mix:$n,range:rn,offset:hr,defines:pn,resampling:nn}}(te,l,W,G);if(te instanceof d.aJ&&!m.length&&!I)return;const ce=l.paint.get("raster-emissive-strength"),Te=p.colorModeForDrapableLayerRenderPass(ce),we=p.terrain&&p.terrain.renderingToTexture,Re=!p.options.moving,Oe=l.paint.get("raster-resampling")==="nearest"?G.NEAREST:G.LINEAR;if(te instanceof d.aJ&&!m.length&&(te.onNorthPole||te.onSouthPole)){const pt=D?p.stencilModeFor3D():vo.disabled;return void gn(!!te.onNorthPole,null,p,r,l,ce,ne,fo.disabled,pt)}if(!m.length)return;const[Ge,dt]=te instanceof d.aJ||we?[{},m]:p.stencilConfigForOverlap(m),st=dt[dt.length-1].overscaledZ;Z&&ne.defines.push("PROJECTION_GLOBE_VIEW"),D&&ne.defines.push("RENDER_CUTOFF");const bt=(pt,gt,ft)=>{for(const yt of pt){const Bt=yt.toUnwrapped(),In=r.getTile(yt);if(we&&(!In||!In.hasData()))continue;W.activeTexture.set(G.TEXTURE0);const pn=Zh(In,te,l,ne);if(!pn||!pn.texture)continue;const{texture:Hn,mix:Zn,offset:rn,tileSize:$n,buffer:hr}=pn;let nn,Xn;we?(nn=ji.disabled,Xn=yt.projMatrix):D?(nn=new ji(G.LEQUAL,ji.ReadWrite,p.depthRangeFor3D),Xn=I?Float32Array.from(p.transform.expandedFarZProjMatrix):p.transform.calculateProjMatrix(Bt,Re)):(nn=p.depthModeForSublayer(yt.overscaledZ-st,l.paint.get("raster-opacity")===1?ji.ReadWrite:ji.ReadOnly,G.LESS),Xn=p.transform.calculateProjMatrix(Bt,Re));const Mn=p.terrain&&we?p.terrain.stencilModeForRTTOverlap(yt):Ge[yt.overscaledZ],Dr=w?0:l.paint.get("raster-fade-duration");In.registerFadeDuration(Dr);const ar=r.findLoadedParent(yt,0),Wn=Pl(In,ar,r,p.transform,Dr);let _r,Rr;p.terrain&&p.terrain.prepareDrawTile(),W.activeTexture.set(G.TEXTURE0),Hn.bind(Oe,G.CLAMP_TO_EDGE),W.activeTexture.set(G.TEXTURE1),ar?(ar.texture&&ar.texture.bind(Oe,G.CLAMP_TO_EDGE),_r=Math.pow(2,ar.tileID.overscaledZ-In.tileID.overscaledZ),Rr=[In.tileID.canonical.x*_r%1,In.tileID.canonical.y*_r%1]):Hn.bind(Oe,G.CLAMP_TO_EDGE),Hn.useMipmap&&W.extTextureFilterAnisotropic&&p.transform.pitch>20&&G.texParameterf(G.TEXTURE_2D,W.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,W.extTextureFilterAnisotropicMax);const oi=p.transform;let mi;const Co=D?p0(oi):[0,0,0,0];let Vi,Wi,Ao,Ga,bs,ll=0;if(Z&&te instanceof d.aJ&&te.coordinates.length>3)Vi=Float32Array.from(d.bb(d.cH(new d.bT(0,0,0)))),Wi=Float32Array.from(oi.globeMatrix),Ao=Float32Array.from(d.cD(oi)),Ga=[d.at(oi.center.lng),d.aA(oi.center.lat)],mi=te.elevatedGlobePerspectiveTransform,bs=te.elevatedGlobeGridMatrix||new Float32Array(9);else if(Z){const Ni=d.cE(yt.canonical);ll=d.cF(Ni.getCenter().lat),Vi=Float32Array.from(d.bb(d.cH(yt.canonical))),Wi=Float32Array.from(oi.globeMatrix),Ao=Float32Array.from(d.cD(oi)),Ga=[d.at(oi.center.lng),d.aA(oi.center.lat)],mi=[0,0],bs=Float32Array.from(d.cG(yt.canonical,Ni,ll,oi.worldSize/oi._pixelsPerMercatorPixel))}else mi=te instanceof d.aJ?te.perspectiveTransform:[0,0],Vi=new Float32Array(16),Wi=new Float32Array(9),Ao=new Float32Array(16),Ga=[0,0],bs=new Float32Array(9);const Ys=gd(Xn,Vi,Wi,Ao,bs,Rr||[0,0],d.ae(p.transform.zoom),Ga,Co,_r||1,Wn,l,mi,D?l.paint.get("raster-elevation"):0,2,Zn,rn,ne.range,$n,hr,ce),Go=p.isTileAffectedByFog(yt),Ja=p.getOrCreateProgram("raster",{defines:ne.defines,overrideFog:Go});if(p.uploadCommonUniforms(W,Ja,Bt),te instanceof d.aJ){const Ni=te.elevatedGlobeVertexBuffer,Ba=te.elevatedGlobeIndexBuffer;if(we||!I)te.boundsBuffer&&te.boundsSegments&&Ja.draw(p,G.TRIANGLES,nn,vo.disabled,Te,fo.disabled,Ys,l.id,te.boundsBuffer,p.quadTriangleIndexBuffer,te.boundsSegments);else if(Ni&&Ba){const fs=oi.zoom<=d.c6?te.elevatedGlobeSegments:te.getSegmentsForLongitude(oi.center.lng);fs&&Ja.draw(p,G.TRIANGLES,nn,vo.disabled,Te,gt,Ys,l.id,Ni,Ba,fs)}}else if(Z){nn=new ji(G.LEQUAL,ji.ReadOnly,p.depthRangeFor3D);const Ni=p.globeSharedBuffers;if(Ni){const[Ba,fs,Ka]=Ni.getGridBuffers(ll,!1);Ja.draw(p,G.TRIANGLES,nn,ft||Mn,p.colorModeForRenderPass(),gt,Ys,l.id,Ba,fs,Ka)}}else{const{tileBoundsBuffer:Ni,tileBoundsIndexBuffer:Ba,tileBoundsSegments:fs}=p.getTileBoundsBuffers(In);Ja.draw(p,G.TRIANGLES,nn,Mn,Te,fo.disabled,Ys,l.id,Ni,Ba,fs)}}if(!(te instanceof d.aJ)&&Z)for(const yt of pt){const Bt=yt.canonical.y===(1<<yt.canonical.z)-1;yt.canonical.y===0&&gn(!0,yt,p,r,l,ce,ne,gt,ft||vo.disabled),Bt&&gn(!1,yt,p,r,l,ce,ne,gt===fo.frontCW?fo.backCW:fo.frontCW,ft||vo.disabled)}};Z?bt(dt,p.renderElevatedRasterBackface?fo.backCW:fo.frontCW,p.stencilModeFor3D()):bt(dt,fo.disabled,void 0),p.resetStencilClippingMasks()},"raster-particle":function(p,r,l,m,b,w){p.renderPass==="offscreen"&&function(I,D,Z,W){if(!W.length)return;const G=I.context,te=G.gl,ne=D.getSource();if(!(ne instanceof Lt))return;const ce=Math.ceil(Math.sqrt(Z.paint.get("raster-particle-count")));let Te=Z.particlePositionRGBAImage;if(!Te||Te.width!==ce){const dt=function(st){const bt=st*st,pt=new Uint8Array(4*bt),gt=function(yt){return yt|=0,yt=Math.imul(2747636419^yt,2654435769),yt=Math.imul(yt^yt>>>16,2654435769),((yt=Math.imul(yt^yt>>>16,2654435769))>>>0)/4294967296},ft=1/1.1;for(let yt=0;yt<bt;yt++){const Bt=ft*(gt(2*yt+0)+Ai),In=ft*(gt(2*yt+1)+Ai),pn=255*Bt%1,Hn=255*In%1,Zn=pn,rn=In-Hn/255,$n=Hn;pt[4*yt+0]=255*(Bt-pn/255),pt[4*yt+1]=255*Zn,pt[4*yt+2]=255*rn,pt[4*yt+3]=255*$n}return pt}(ce);Te=Z.particlePositionRGBAImage=new d.r({width:ce,height:ce},dt)}let we=Z.particleFramebuffer;we?we.width!==ce&&(we.destroy(),we=Z.particleFramebuffer=G.createFramebuffer(ce,ce,!0,null)):we=Z.particleFramebuffer=G.createFramebuffer(ce,ce,!0,null);const Re=[];for(const dt of W){const st=D.getTile(dt);if(!(st instanceof xo))continue;const bt=Nm(st,ne,Z);if(!bt)continue;const pt=[st.tileSize,st.tileSize];let gt=Z.tileFramebuffer;gt||(gt=Z.tileFramebuffer=G.createFramebuffer(pt[0],pt[1],!0,null));let ft=st.rasterParticleState;ft||(ft=st.rasterParticleState=new uf(G,dt,pt,Te));const yt=ft.update(Z.lastInvalidatedAt);ft.particleTextureDimension!==ce&&ft.updateParticleTexture(dt,Te);const Bt=ft.targetColorTexture;ft.targetColorTexture=ft.backgroundColorTexture,ft.backgroundColorTexture=Bt;const In=ft.particleTexture0;ft.particleTexture0=ft.particleTexture1,ft.particleTexture1=In,Re.push([dt,bt,ft,yt])}if(Re.length===0)return;const Oe=d.q.now(),Ge=Z.previousDrawTimestamp?.001*(Oe-Z.previousDrawTimestamp):.0167;if(Z.previousDrawTimestamp=Oe,Z.hasColorMap()){G.activeTexture.set(te.TEXTURE0+2);let dt=Z.colorRampTexture;dt||(dt=Z.colorRampTexture=new d.T(G,Z.colorRamp,te.RGBA8)),dt.bind(te.LINEAR,te.CLAMP_TO_EDGE)}G.bindFramebuffer.set(Z.tileFramebuffer.framebuffer),function(dt,st,bt){const pt=dt.context,gt=pt.gl,ft=st.tileFramebuffer;pt.activeTexture.set(gt.TEXTURE0);const yt={u_texture:0,u_opacity:1.05*(In=st.paint.get("raster-particle-fade-opacity-factor"))/(In+.05)},Bt=dt.getOrCreateProgram("rasterParticleTexture",{defines:[],overrideFog:!1});var In;for(const pn of bt){const[,,Hn,Zn]=pn;ft.colorAttachment.set(Hn.targetColorTexture.texture),pt.viewport.set([0,0,ft.width,ft.height]),pt.clear({color:d.aj.transparent}),Zn&&(Hn.backgroundColorTexture.bind(gt.NEAREST,gt.CLAMP_TO_EDGE),Bt.draw(dt,gt.TRIANGLES,ji.disabled,vo.disabled,qo.alphaBlended,fo.disabled,yt,st.id,dt.viewportBuffer,dt.quadTriangleIndexBuffer,dt.viewportSegments))}}(I,Z,Re),function(dt,st,bt,pt){const gt=dt.context,ft=gt.gl,yt=bt.tileFramebuffer,Bt=dt.transform.projection.name==="globe",In=bt.paint.get("raster-particle-max-speed");for(const pn of pt){const[Hn,Zn,rn]=pn;gt.activeTexture.set(ft.TEXTURE0+0),Zn.texture.bind(ft.LINEAR,ft.CLAMP_TO_EDGE),yt.colorAttachment.set(rn.targetColorTexture.texture);const $n=dt.getOrCreateProgram("rasterParticleDraw",{defines:Zn.defines,overrideFog:!1});gt.activeTexture.set(ft.TEXTURE0+1);const hr=Zn.scalarData?[]:[0,1,2,3].map(Mn=>d.d4[Mn](Hn));hr.push(Hn);const nn=Hn.canonical.x,Xn=Hn.canonical.y;for(const Mn of hr){const Dr=st.getTile(Bt?Mn.wrapped():Mn);if(!Dr)continue;const ar=Dr.rasterParticleState;if(!ar)continue;const Wn=Mn.canonical.x+(1<<Mn.canonical.z)*(Mn.wrap-Hn.wrap),_r=Mn.canonical.y;ar.particleTexture0.bind(ft.NEAREST,ft.CLAMP_TO_EDGE);const Rr=Jv(1,ar.particleTexture0.size[0],[Wn-nn,_r-Xn],0,Zn.texture.size,2,In,Zn.textureOffset,Zn.scale,Zn.offset);$n.draw(dt,ft.POINTS,ji.disabled,vo.disabled,qo.alphaBlended,fo.disabled,Rr,bt.id,ar.particleIndexBuffer,void 0,ar.particleSegment)}}}(I,D,Z,Re),G.bindFramebuffer.set(Z.particleFramebuffer.framebuffer),function(dt,st,bt,pt){const gt=dt.context,ft=gt.gl,yt=st.paint.get("raster-particle-max-speed"),Bt=pt*st.paint.get("raster-particle-speed-factor")*.15,In=function(Hn){return Math.pow(Hn,6)}(.01+1*st.paint.get("raster-particle-reset-rate-factor")),pn=st.particleFramebuffer;gt.viewport.set([0,0,pn.width,pn.height]);for(const Hn of bt){const[,Zn,rn]=Hn;gt.activeTexture.set(ft.TEXTURE0+0),Zn.texture.bind(ft.LINEAR,ft.CLAMP_TO_EDGE),gt.activeTexture.set(ft.TEXTURE0+1);const $n=rn.particleTexture0;$n.bind(ft.NEAREST,ft.CLAMP_TO_EDGE);const hr=hb(1,$n.size[0],0,Zn.texture.size,yt,Bt,In,Zn.textureOffset,Zn.scale,Zn.offset);pn.colorAttachment.set(rn.particleTexture1.texture),gt.clear({color:d.aj.transparent}),dt.getOrCreateProgram("rasterParticleUpdate",{defines:Zn.defines}).draw(dt,ft.TRIANGLES,ji.disabled,vo.disabled,qo.unblended,fo.disabled,hr,st.id,dt.viewportBuffer,dt.quadTriangleIndexBuffer,dt.viewportSegments)}}(I,Z,Re,Ge)}(p,r,l,m),p.renderPass==="translucent"&&(function(I,D,Z,W,G){const te=I.context,ne=te.gl,ce=D.getSource().tileSize,Te=5*(1-d.ac(d.bY,d.bY+1,I.transform.zoom))*ce+Z.paint.get("raster-particle-elevation"),we=!I.options.moving,Re=I.transform.projection.name==="globe";if(!W.length)return;const[Oe,Ge]=I.stencilConfigForOverlap(W),dt=[];Re&&dt.push("PROJECTION_GLOBE_VIEW");const st=I.stencilModeFor3D();for(const bt of Ge){const pt=bt.toUnwrapped(),gt=D.getTile(bt);if(!gt.rasterParticleState)continue;const ft=gt.rasterParticleState,yt=100;gt.registerFadeDuration(yt);const Bt=D.findLoadedParent(bt,0),In=Pl(gt,Bt,D,I.transform,yt);let pn,Hn;I.terrain&&I.terrain.prepareDrawTile(),te.activeTexture.set(ne.TEXTURE0),ft.targetColorTexture.bind(ne.LINEAR,ne.CLAMP_TO_EDGE),te.activeTexture.set(ne.TEXTURE1),Bt&&Bt.rasterParticleState?(Bt.rasterParticleState.targetColorTexture.bind(ne.LINEAR,ne.CLAMP_TO_EDGE),pn=Math.pow(2,Bt.tileID.overscaledZ-gt.tileID.overscaledZ),Hn=[gt.tileID.canonical.x*pn%1,gt.tileID.canonical.y*pn%1]):ft.targetColorTexture.bind(ne.LINEAR,ne.CLAMP_TO_EDGE);const Zn=Re?Float32Array.from(I.transform.expandedFarZProjMatrix):I.transform.calculateProjMatrix(pt,we),rn=I.transform,$n=Bm(rn),hr=d.cE(bt.canonical),nn=d.cF(hr.getCenter().lat);let Xn,Mn,Dr,ar,Wn;Re?(Xn=Float32Array.from(d.bb(d.cH(bt.canonical))),Mn=Float32Array.from(rn.globeMatrix),Dr=Float32Array.from(d.cD(rn)),ar=[d.at(rn.center.lng),d.aA(rn.center.lat)],Wn=Float32Array.from(d.cG(bt.canonical,hr,nn,rn.worldSize/rn._pixelsPerMercatorPixel))):(Xn=new Float32Array(16),Mn=new Float32Array(9),Dr=new Float32Array(16),ar=[0,0],Wn=new Float32Array(9));const _r=Dm(Zn,Xn,Mn,Dr,Wn,Hn||[0,0],d.ae(I.transform.zoom),ar,$n,pn||1,In,Te),Rr=I.isTileAffectedByFog(bt),oi=I.getOrCreateProgram("rasterParticle",{defines:dt,overrideFog:Rr});if(I.uploadCommonUniforms(te,oi,pt),Re){const mi=new ji(ne.LEQUAL,ji.ReadOnly,I.depthRangeFor3D),Co=0,Vi=I.globeSharedBuffers;if(Vi){const[Wi,Ao,Ga]=Vi.getGridBuffers(nn,Co!==0);oi.draw(I,ne.TRIANGLES,mi,st,qo.alphaBlended,I.renderElevatedRasterBackface?fo.frontCCW:fo.backCCW,_r,Z.id,Wi,Ao,Ga)}}else{const mi=I.depthModeForSublayer(0,ji.ReadOnly),Co=Oe[bt.overscaledZ],{tileBoundsBuffer:Vi,tileBoundsIndexBuffer:Wi,tileBoundsSegments:Ao}=I.getTileBoundsBuffers(gt);oi.draw(I,ne.TRIANGLES,mi,Co,qo.alphaBlended,fo.disabled,_r,Z.id,Vi,Wi,Ao)}}I.resetStencilClippingMasks()}(p,r,l,m),p.style.map.triggerRepaint())},background:function(p,r,l,m){const b=l.paint.get("background-color"),w=l.paint.get("background-color-use-theme").constantOr("default")==="none",I=l.paint.get("background-opacity"),D=l.paint.get("background-emissive-strength"),Z=l.paint.get("background-pitch-alignment")==="viewport";if(I===0)return;const W=p.context,G=W.gl,te=p.transform,ne=te.tileSize,ce=l.paint.get("background-pattern");let Te;if(ce!==void 0&&(ce===null||(Te=p.imageManager.getPattern(ce.toString(),l.scope,p.style.getLut(l.scope)),!Te)))return;const we=!ce&&b.a===1&&I===1&&p.opaquePassEnabledForLayer()?"opaque":"translucent";if(p.renderPass!==we)return;const Re=vo.disabled,Oe=p.depthModeForSublayer(0,we==="opaque"?ji.ReadWrite:ji.ReadOnly),Ge=p.colorModeForDrapableLayerRenderPass(D),dt=ce?"backgroundPattern":"background";let st,bt=m;if(bt||(st=p.getBackgroundTiles(),bt=Object.values(st).map(pt=>pt.tileID)),ce&&(W.activeTexture.set(G.TEXTURE0),p.imageManager.bind(p.context,l.scope)),Z){const pt=p.getOrCreateProgram(dt,{overrideFog:!1,overrideRtt:!0}),gt=new Float32Array(d.ab.mat4.identity([])),ft=new d.aG(0,0,0,0,0),yt=ce?Op(gt,D,I,p,0,l.scope,Te,Z,{tileID:ft,tileSize:ne}):Xl(gt,D,I,b.toRenderColor(w?null:l.lut));pt.draw(p,G.TRIANGLES,Oe,Re,Ge,fo.disabled,yt,l.id,p.viewportBuffer,p.quadTriangleIndexBuffer,p.viewportSegments)}else for(const pt of bt){const gt=p.isTileAffectedByFog(pt),ft=p.getOrCreateProgram(dt,{overrideFog:gt}),yt=pt.toUnwrapped(),Bt=m?pt.projMatrix:p.transform.calculateProjMatrix(yt);p.prepareDrawTile();const In=r?r.getTile(pt):st?st[pt.key]:new $s(pt,ne,te.zoom,p),pn=ce?Op(Bt,D,I,p,0,l.scope,Te,Z,{tileID:pt,tileSize:ne}):Xl(Bt,D,I,b.toRenderColor(w?null:l.lut));p.uploadCommonUniforms(W,ft,yt);const{tileBoundsBuffer:Hn,tileBoundsIndexBuffer:Zn,tileBoundsSegments:rn}=p.getTileBoundsBuffers(In);ft.draw(p,G.TRIANGLES,Oe,Re,Ge,fo.disabled,pn,l.id,Hn,Zn,rn)}},sky:function(p,r,l){const m=p._atmosphere?d.ae(p.transform.zoom):1,b=l.paint.get("sky-opacity")*m;if(b===0)return;const w=p.context,I=l.paint.get("sky-type"),D=new ji(w.gl.LEQUAL,ji.ReadOnly,[0,1]),Z=p.frameCounter/1e3%1;I==="atmosphere"?p.renderPass==="offscreen"?l.needsSkyboxCapture(p)&&(function(W,G,te,ne){const ce=W.context,Te=ce.gl;let we=G.skyboxFbo;if(!we){we=G.skyboxFbo=ce.createFramebuffer(32,32,!0,null),G.skyboxGeometry=new g0(ce),G.skyboxTexture=ce.gl.createTexture(),Te.bindTexture(Te.TEXTURE_CUBE_MAP,G.skyboxTexture),Te.texParameteri(Te.TEXTURE_CUBE_MAP,Te.TEXTURE_WRAP_S,Te.CLAMP_TO_EDGE),Te.texParameteri(Te.TEXTURE_CUBE_MAP,Te.TEXTURE_WRAP_T,Te.CLAMP_TO_EDGE),Te.texParameteri(Te.TEXTURE_CUBE_MAP,Te.TEXTURE_MIN_FILTER,Te.LINEAR),Te.texParameteri(Te.TEXTURE_CUBE_MAP,Te.TEXTURE_MAG_FILTER,Te.LINEAR);for(let dt=0;dt<6;++dt)Te.texImage2D(Te.TEXTURE_CUBE_MAP_POSITIVE_X+dt,0,Te.RGBA,32,32,0,Te.RGBA,Te.UNSIGNED_BYTE,null)}ce.bindFramebuffer.set(we.framebuffer),ce.viewport.set([0,0,32,32]);const Re=G.getCenter(W,!0),Oe=W.getOrCreateProgram("skyboxCapture"),Ge=new Float64Array(16);d.ab.mat4.identity(Ge),d.ab.mat4.rotateY(Ge,Ge,.5*-Math.PI),ql(W,G,Oe,Ge,Re,0),d.ab.mat4.identity(Ge),d.ab.mat4.rotateY(Ge,Ge,.5*Math.PI),ql(W,G,Oe,Ge,Re,1),d.ab.mat4.identity(Ge),d.ab.mat4.rotateX(Ge,Ge,.5*-Math.PI),ql(W,G,Oe,Ge,Re,2),d.ab.mat4.identity(Ge),d.ab.mat4.rotateX(Ge,Ge,.5*Math.PI),ql(W,G,Oe,Ge,Re,3),d.ab.mat4.identity(Ge),ql(W,G,Oe,Ge,Re,4),d.ab.mat4.identity(Ge),d.ab.mat4.rotateY(Ge,Ge,Math.PI),ql(W,G,Oe,Ge,Re,5),ce.viewport.set([0,0,W.width,W.height])}(p,l),l.markSkyboxValid(p)):p.renderPass==="sky"&&function(W,G,te,ne,ce){const Te=W.context,we=Te.gl,Re=W.transform,Oe=W.getOrCreateProgram("skybox");Te.activeTexture.set(we.TEXTURE0),we.bindTexture(we.TEXTURE_CUBE_MAP,G.skyboxTexture);const Ge=((dt,st,bt,pt,gt)=>({u_matrix:dt,u_sun_direction:st,u_cubemap:0,u_opacity:pt,u_temporal_offset:gt}))(Re.skyboxMatrix,G.getCenter(W,!1),0,ne,ce);W.uploadCommonUniforms(Te,Oe),Oe.draw(W,we.TRIANGLES,te,vo.disabled,W.colorModeForRenderPass(),fo.backCW,Ge,"skybox",G.skyboxGeometry.vertexBuffer,G.skyboxGeometry.indexBuffer,G.skyboxGeometry.segment)}(p,l,D,b,Z):I==="gradient"&&p.renderPass==="sky"&&function(W,G,te,ne,ce){const Te=W.context,we=Te.gl,Re=W.transform,Oe=W.getOrCreateProgram("skyboxGradient");G.skyboxGeometry||(G.skyboxGeometry=new g0(Te)),Te.activeTexture.set(we.TEXTURE0);let Ge=G.colorRampTexture;Ge||(Ge=G.colorRampTexture=new d.T(Te,G.colorRamp,we.RGBA8)),Ge.bind(we.LINEAR,we.CLAMP_TO_EDGE);const dt=((st,bt,pt,gt,ft)=>({u_matrix:st,u_color_ramp:0,u_center_direction:bt,u_radius:d.ai(pt),u_opacity:gt,u_temporal_offset:ft}))(Re.skyboxMatrix,G.getCenter(W,!1),G.paint.get("sky-gradient-radius"),ne,ce);W.uploadCommonUniforms(Te,Oe),Oe.draw(W,we.TRIANGLES,te,vo.disabled,W.colorModeForRenderPass(),fo.backCW,dt,"skyboxGradient",G.skyboxGeometry.vertexBuffer,G.skyboxGeometry.indexBuffer,G.skyboxGeometry.segment)}(p,l,D,b,Z)},debug:function(p,r,l,m,b,w){for(let I=0;I<l.length;I++)if(b){const W=new d.aj(m.r*.8,m.g*.8,m.b*.8,1);ff(p,r,l[I],m,-1,-1,w),ff(p,r,l[I],m,-1,1,w),ff(p,r,l[I],m,1,1,w),ff(p,r,l[I],m,1,-1,w),ff(p,r,l[I],W,0,0,w)}else ff(p,r,l[I],m,0,0,w)},custom:function(p,r,l,m){const b=p.context,w=l.implementation;if(!p.transform.projection.unsupportedLayers||!p.transform.projection.unsupportedLayers.includes("custom")||p.terrain&&(p.terrain.renderingToTexture||p.renderPass==="offscreen")&&l.isDraped(r)){if(p.renderPass==="offscreen"){const I=w.prerender;if(I){if(p.setCustomLayerDefaults(),b.setColorMode(p.colorModeForRenderPass()),p.transform.projection.name==="globe"){const D=p.transform.pointMerc;I.call(w,b.gl,p.transform.customLayerMatrix(),p.transform.getProjection(),p.transform.globeToMercatorMatrix(),d.ae(p.transform.zoom),[D.x,D.y],p.transform.pixelsPerMeterRatio)}else I.call(w,b.gl,p.transform.customLayerMatrix());b.setDirty(),p.setBaseState()}}else if(p.renderPass==="translucent"){if(p.terrain&&p.terrain.renderingToTexture){const D=w.renderToTile;if(D){const Z=m[0].canonical,W=new d.aa(Z.x+m[0].wrap*(1<<Z.z),Z.y,Z.z);b.setDepthMode(ji.disabled),b.setStencilMode(vo.disabled),b.setColorMode(p.colorModeForRenderPass()),p.setCustomLayerDefaults(),D.call(w,b.gl,W),b.setDirty(),p.setBaseState()}return}p.setCustomLayerDefaults(),b.setColorMode(p.colorModeForRenderPass()),b.setStencilMode(vo.disabled);const I=w.renderingMode==="3d"?new ji(p.context.gl.LEQUAL,ji.ReadWrite,p.depthRangeFor3D):p.depthModeForSublayer(0,ji.ReadOnly);if(b.setDepthMode(I),p.transform.projection.name==="globe"){const D=p.transform.pointMerc;w.render(b.gl,p.transform.customLayerMatrix(),p.transform.getProjection(),p.transform.globeToMercatorMatrix(),d.ae(p.transform.zoom),[D.x,D.y],p.transform.pixelsPerMeterRatio)}else w.render(b.gl,p.transform.customLayerMatrix());b.setDirty(),p.setBaseState(),b.bindFramebuffer.set(null)}}else d.w("Custom layers are not yet supported with this projection. Use mercator or globe to enable usage of custom layers.")},model:function(p,r,l,m){if(p.renderPass==="opaque")return;const b=l.paint.get("model-opacity").constantOr(1);if(b===0)return;const w=l.paint.get("model-cast-shadows");if(p.renderPass==="shadow"&&(!w||p.terrain&&b<.65&&l._transitionablePaint._values["model-opacity"].value.expression instanceof d.a9))return;const I=p.shadowRenderer,D=l.paint.get("model-receive-shadows");I&&(I.useNormalOffset=!0,D||(I.enabled=!1));const Z=()=>{I&&(I.useNormalOffset=!0,D||(I.enabled=!0))},W=r.getSource();if(p.renderPass==="light-beam"&&W.type!=="batched-model")return;if(W.type==="vector"||W.type==="geojson")return function(Oe,Ge,dt,st,bt){const pt=Oe.transform;if(pt.projection.name!=="mercator")return void d.w(`Drawing 3D models for ${pt.projection.name} projection is not yet implemented`);const gt=pt.getFreeCameraOptions().position;if(!Oe.modelManager)return;const ft=Oe.modelManager;dt.modelManager=ft;const yt=Oe.shadowRenderer;if(!dt._unevaluatedLayout._values.hasOwnProperty("model-id"))return;const Bt=dt._unevaluatedLayout._values["model-id"],In=Object.assign({},dt.layout.get("model-id").parameters),pn=Oe.style.order.indexOf(dt.fqid);for(const Hn of st){const Zn=Ge.getTile(Hn).getBucket(dt);if(!Zn||Zn.projection.name!==pt.projection.name)continue;const rn=Zn.getModelUris();rn&&!Zn.modelsRequested&&(ft.addModelsFromBucket(rn,bt),Zn.modelsRequested=!0);const $n=Lp(Hn,pt);In.zoom=$n;const hr=Bt.possiblyEvaluate(In);if(qu(Oe,Zn,Hn),pc.shadowUniformsInitialized=!1,pc.useSingleShadowCascade=!!yt&&yt.getMaxCascadeForTile(Hn.toUnwrapped())===0,Oe.renderPass==="shadow"&&yt){if(Oe.currentShadowCascade===1&&Zn.isInsideFirstShadowMapFrustum)continue;const Mn=pt.calculatePosMatrix(Hn.toUnwrapped(),pt.worldSize);if(pc.tileMatrix.set(Mn),pc.shadowTileMatrix=Float32Array.from(yt.calculateShadowPassMatrixFromMatrix(Mn)),pc.aabb.min.fill(0),pc.aabb.max[0]=pc.aabb.max[1]=d.ag,pc.aabb.max[2]=0,_0(Zn,pc,Oe,dt.scope))continue}const nn=1<<Hn.canonical.z,Xn=[((gt.x-Hn.wrap)*nn-Hn.canonical.x)*d.ag,(gt.y*nn-Hn.canonical.y)*d.ag,gt.z*nn*d.ag];Oe.conflationActive&&Object.keys(Zn.instancesPerModel).length>0&&Oe.style.isLayerClipped(dt,Ge.getSource())&&Zn.updateReplacement(Hn,Oe.replacementSource,pn,bt)&&(Zn.uploaded=!1,Zn.upload(Oe.context));for(let Mn in Zn.instancesPerModel){const Dr=Zn.instancesPerModel[Mn];Dr.features.length>0&&(Mn=hr.evaluate(Dr.features[0].feature,{}));const ar=ft.getModel(Mn,bt);if(ar&&ar.uploaded)for(const Wn of ar.nodes)Np(Oe,dt,Wn,Dr,Xn,Hn,pc)}}}(p,r,l,m,W.type==="vector"?l.scope:""),void Z();if(!W.loaded())return;if(W.type==="batched-model")return function(Oe,Ge,dt,st){dt.resetLayerRenderingStats(Oe);const bt=Oe.context,pt=Oe.transform,gt=Oe.style.fog,ft=Oe.shadowRenderer;if(pt.projection.name!=="mercator")return void d.w(`Drawing 3D landmark models for ${pt.projection.name} projection is not yet implemented`);const yt=Oe.transform.getFreeCameraOptions().position,Bt=d.ab.vec3.scale([],[yt.x,yt.y,yt.z],Oe.transform.worldSize),In=d.ab.vec3.negate([],Bt),pn=d.ab.mat4.identity([]),Hn=d.dj(pt.center.lat,pt.zoom),Zn=d.ab.mat4.fromScaling([],[1,1,1/Hn]);d.ab.mat4.translate(pn,pn,In);const rn=dt.paint.get("model-opacity").constantOr(1),$n=new ji(bt.gl.LEQUAL,ji.ReadWrite,Oe.depthRangeFor3D),hr=new ji(bt.gl.LEQUAL,ji.ReadOnly,Oe.depthRangeFor3D),nn=new d.cd([1/0,1/0,1/0],[-1/0,-1/0,-1/0]),Xn=Oe.renderPass==="shadow",Mn=Xn&&ft?ft.getCurrentCascadeFrustum():pt.getFrustum(pt.scaleZoom(pt.worldSize)),Dr=dt.paint.get("model-front-cutoff"),ar=Dr[2]<1,Wn=Mt(Oe,dt.paint.get("model-cutoff-fade-range")),_r=dt.getLayerRenderingStats();(function(Rr,oi,mi,Co){const Vi=Rr.terrain?Rr.terrain.exaggeration():0,Wi=Rr.transform.zoom;for(const Ao of Co){const Ga=oi.getTile(Ao).getBucket(mi);Ga&&(Rr.conflationActive&&Ga.updateReplacement(Ao,Rr.replacementSource),Ga.evaluateScale(Rr,mi),Rr.terrain&&Vi>0&&Ga.elevationUpdate(Rr.terrain,Vi,Ao,mi.source),Ga.needsReEvaluation(Rr,Wi,mi)&&Ga.evaluate(mi))}})(Oe,Ge,dt,st),function(){let Rr,oi,mi;ar?(Rr=st.length-1,oi=-1,mi=-1):(Rr=0,oi=st.length,mi=1);const Co=new Float64Array(16),Vi=d.ab.vec3.create(),Wi=new d.P(0,0);for(let Ao=Rr;Ao!==oi;Ao+=mi){const Ga=st[Ao],bs=Ge.getTile(Ga).getBucket(dt);if(!bs||!bs.uploaded)continue;let ll=!1;ft&&(ll=ft.getMaxCascadeForTile(Ga.toUnwrapped())===0);const Ys=pt.calculatePosMatrix(Ga.toUnwrapped(),pt.worldSize),Go=bs.modelTraits;!Xn&&ar&&(d.ab.mat4.invert(Co,Ys),d.ab.vec3.transformMat4(Vi,Bt,Co),Wi.x=Vi[0],Wi.y=Vi[1]);const Ja=[];for(const Ni of bs.getNodesInfo()){if(Ni.hiddenByReplacement||!Ni.node.meshes)continue;const Ba=Ni.node;let fs=0;Oe.terrain&&Ba.elevation&&(fs=Ba.elevation*Oe.terrain.exaggeration());const Ka=(()=>{const Xa=Ni.aabb;return nn.min=[...Xa.min],nn.max=[...Xa.max],nn.min[2]+=fs,nn.max[2]+=fs,d.ab.vec3.transformMat4(nn.min,nn.min,Ys),d.ab.vec3.transformMat4(nn.max,nn.max,Ys),nn})(),sl=Ni.evaluatedScale;if(sl[0]<=1&&sl[1]<=1&&sl[2]<=1&&Ka.intersects(Mn)===0)continue;if(!Xn&&ar){const Xa=.16666666666666666;Ni.cameraCollisionOpacity=Bt[0]>Ka.min[0]&&Bt[0]<Ka.max[0]&&Bt[1]>Ka.min[1]&&Bt[1]<Ka.max[1]&&Bt[2]*Hn<Ka.max[2]&&Ba.footprint&&d.bA(Wi,Ba.footprint)?Math.max(Ni.cameraCollisionOpacity-Xa,0):Math.min(1,Ni.cameraCollisionOpacity+Xa)}const Vl=[...Ys],Ol=Ba.anchor?Ba.anchor[0]:0,$l=Ba.anchor?Ba.anchor[1]:0;d.ab.mat4.translate(Vl,Vl,[Ol*(sl[0]-1),$l*(sl[1]-1),fs]),d.ab.vec3.exactEquals(sl,d.dm)||d.ab.mat4.scale(Vl,Vl,sl);const Hc=d.ab.mat4.multiply([],Vl,Ba.matrix),mc=d.ab.mat4.multiply([],pt.expandedFarZProjMatrix,Hc),rl=d.ab.mat4.multiply([],pt.expandedFarZProjMatrix,Vl),Ls=d.ab.vec4.transformMat4([],[Ol,$l,fs,1],mc)[2];Ba.hidden=!1;let Rs=rn;Xn||(ar&&(Rs*=Ni.cameraCollisionOpacity,Rs*=b0(Vl,pt,Ni.aabb,Dr)),Rs*=hf(Wn,Ls)),Rs!==0?Ja.push({nodeInfo:Ni,depth:Ls,opacity:Rs,wvpForNode:mc,wvpForTile:rl,nodeModelMatrix:Hc,tileModelMatrix:Vl}):Ba.hidden=!0}Xn||Ja.sort((Ni,Ba)=>!ar||Ni.opacity===1&&Ba.opacity===1?Ni.depth<Ba.depth?-1:1:Ni.opacity===1?-1:Ba.opacity===1?1:Ni.depth>Ba.depth?-1:1);for(const Ni of Ja){const Ba=Ni.nodeInfo,fs=Ba.node;let Ka=d.ab.mat4.multiply([],Zn,Ni.tileModelMatrix);d.ab.mat4.multiply(Ka,pn,Ka);const sl=d.ab.mat4.invert([],Ka);d.ab.mat4.transpose(sl,sl),d.ab.mat4.scale(sl,sl,jm),Ka=d.ab.mat4.multiply(Ka,Ka,fs.matrix);const Vl=Oe.renderPass==="light-beam",Ol=dt.paint.get("model-color-use-theme").constantOr("default")==="none",$l=Go&d.dp.HasMapboxMeshFeatures,Hc=$l?0:Ba.evaluatedRMEA[0][2];for(let mc=0;mc<fs.meshes.length;++mc){const rl=fs.meshes[mc],Ls=mc===fs.lightMeshIndex;let Rs=Ni.wvpForNode;if(Ls){if(!Vl&&!Oe.terrain&&Oe.shadowRenderer){Oe.currentLayer<Oe.firstLightBeamLayer&&(Oe.firstLightBeamLayer=Oe.currentLayer);continue}Rs=Ni.wvpForTile}else if(Vl)continue;const Xa={defines:[]},hl=[];if(!Xn&&ft&&(ft.useNormalOffset=!!rl.normalBuffer),Uf(Xa.defines,hl,rl,Oe,Ol?null:dt.lut),$l||Xa.defines.push("DIFFUSE_SHADED"),ll&&Xa.defines.push("SHADOWS_SINGLE_CASCADE"),_r&&(Xn?_r.numRenderedVerticesInShadowPass+=rl.vertexArray.length:_r.numRenderedVerticesInTransparentPass+=rl.vertexArray.length),Xn){Hh(rl,Ni.nodeModelMatrix,Oe,dt);continue}let Hl=null;if(gt){const nu=Xu(Ni.nodeModelMatrix,Oe.transform);if(Hl=new Float32Array(nu),pt.projection.name!=="globe"){const ru=rl.aabb.min,Mc=rl.aabb.max,[Id,fu]=gt.getOpacityForBounds(nu,ru[0],ru[1],Mc[0],Mc[1]);Xa.overrideFog=Id>=Ve||fu>=Ve}}const Bs=rl.material;let nc;Bs.occlusionTexture&&Bs.occlusionTexture.offsetScale&&(nc=Bs.occlusionTexture.offsetScale,Xa.defines.push("OCCLUSION_TEXTURE_TRANSFORM"));const tu=Oe.getOrCreateProgram("model",Xa);!Xn&&ft&&ft.setupShadowsFromMatrix(Ni.tileModelMatrix,tu,ft.useNormalOffset),Oe.uploadCommonUniforms(bt,tu,null,Hl);const zc=Bs.pbrMetallicRoughness;zc.metallicFactor=.9,zc.roughnessFactor=.5;const Tc=rf(new Float32Array(Rs),new Float32Array(Ka),new Float32Array(sl),new Float32Array(fs.matrix),Oe,Ni.opacity,zc.baseColorFactor.toRenderColor(null),Bs.emissiveFactor,zc.metallicFactor,zc.roughnessFactor,Bs,Hc,dt,[0,0,0],nc);!Ls&&(Ba.hasTranslucentParts||Ni.opacity<1)&&tu.draw(Oe,bt.gl.TRIANGLES,$n,vo.disabled,qo.disabled,fo.backCCW,Tc,dt.id,rl.vertexBuffer,rl.indexBuffer,rl.segments,dt.paint,Oe.transform.zoom,void 0,hl),tu.draw(Oe,bt.gl.TRIANGLES,Ls?hr:$n,vo.disabled,Ls||Ni.opacity<1||Ba.hasTranslucentParts?qo.alphaBlended:qo.unblended,fo.backCCW,Tc,dt.id,rl.vertexBuffer,rl.indexBuffer,rl.segments,dt.paint,Oe.transform.zoom,void 0,hl)}}}}()}(p,r,l,m),void Z();if(W.type!=="model")return;const G=W.getModels(),te=[],ne=p.transform.getFreeCameraOptions().position,ce=d.ab.vec3.scale([],[ne.x,ne.y,ne.z],p.transform.worldSize);d.ab.vec3.negate(ce,ce);const Te=[],we=[];let Re=0;for(const Oe of G){const Ge=l.paint.get("model-rotation").constantOr(null),dt=l.paint.get("model-scale").constantOr(null),st=l.paint.get("model-translation").constantOr(null);Oe.computeModelMatrix(p,Ge,dt,st,!0,!0,!1);const bt=d.ab.mat4.identity([]),pt=d.dj(Oe.position.lat,p.transform.zoom),gt=d.ab.mat4.fromScaling([],[1,1,1/pt]);d.ab.mat4.translate(bt,bt,ce),te.push({zScaleMatrix:gt,negCameraPosMatrix:bt});for(const ft of Oe.nodes)km(p.transform,ft,Oe.matrix,p.transform.expandedFarZProjMatrix,Re,Te,we);Re++}if(Te.sort((Oe,Ge)=>Ge.depth-Oe.depth),p.renderPass!=="shadow"){if(b===1)for(const Oe of we)Rc(Oe,p,l,te[Oe.modelIndex],vo.disabled,p.colorModeForRenderPass());else{for(const Oe of we)Rc(Oe,p,l,te[Oe.modelIndex],vo.disabled,qo.disabled);for(const Oe of we)Rc(Oe,p,l,te[Oe.modelIndex],p.stencilModeFor3D(),p.colorModeForRenderPass());p.resetStencilClippingMasks()}for(const Oe of Te)Rc(Oe,p,l,te[Oe.modelIndex],vo.disabled,p.colorModeForRenderPass());Z()}else{for(const Oe of we)Hh(Oe.mesh,Oe.nodeModelMatrix,p,l);for(const Oe of Te)Hh(Oe.mesh,Oe.nodeModelMatrix,p,l);Z()}}},kp={line:function(p,r,l){if(p.hasElevatedBuckets=!1,p.hasNonElevatedBuckets=!1,p._unevaluatedLayout.getValue("line-elevation-reference")!==void 0||p._unevaluatedLayout.getValue("line-z-offset")!==void 0){if(r){const m=r.getVisibleCoordinates();for(const b of m){const w=r.getTile(b).getBucket(p);if(w&&(w.hasZOffset?p.hasElevatedBuckets=!0:p.hasNonElevatedBuckets=!0,p.hasElevatedBuckets&&p.hasNonElevatedBuckets))break}}}else p.hasNonElevatedBuckets=!0},model:function(p,r,l){const m=r.getSource();if(!m.loaded())return;if(m.type==="vector"||m.type==="geojson")return void(l.modelManager&&l.modelManager.upload(l,m.type==="vector"?p.scope:""));if(m.type==="batched-model"||m.type!=="model")return;const b=m.getModels();for(const w of b)w.upload(l.context)},raster:function(p,r,l){const m=r.getSource();if(!(m instanceof Lt&&m.loaded()))return;const b=p.sourceLayer||m.rasterLayerIds&&m.rasterLayerIds[0];if(!b)return;const w=p.paint.get("raster-array-band")||m.getInitialBand(b);if(w==null)return;const I=r.getIds().map(D=>r.getTileByID(D));for(const D of I)D.updateNeeded(b,w)&&m.prepareTile(D,b,w)},"raster-particle":function(p,r,l){const m=r.getSource();if(!(m instanceof Lt&&m.loaded()))return;const b=p.sourceLayer||m.rasterLayerIds&&m.rasterLayerIds[0];if(!b)return;const w=p.paint.get("raster-particle-array-band")||m.getInitialBand(b);if(w==null)return;const I=r.getIds().map(D=>r.getTileByID(D));for(const D of I)D.updateNeeded(b,w)&&m.prepareTile(D,b,w)}};class jp{constructor(r,l,m,b,w){this.context=new af(r,l),this.transform=m,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.tp=w,this._timeStamp=d.q.now(),this._averageFPS=0,this._fpsHistory=[],this._dt=0,this._debugParams={forceEnablePrecipitation:!1,showTerrainProxyTiles:!1,fpsWindow:30,continousRedraw:!1,enabledLayers:{}};const I=["fill","line","symbol","circle","heatmap","fill-extrusion","raster","raster-particle","hillshade","model","background","sky"];for(const Z of I)this._debugParams.enabledLayers[Z]=!0;w.registerParameter(this._debugParams,["Terrain"],"showTerrainProxyTiles",{},()=>{this.style.map.triggerRepaint()}),w.registerParameter(this._debugParams,["Precipitation"],"forceEnablePrecipitation"),w.registerParameter(this._debugParams,["FPS"],"fpsWindow",{min:1,max:100,step:1}),w.registerBinding(this._debugParams,["FPS"],"continousRedraw",{readonly:!0,label:"continuous redraw"}),w.registerBinding(this,["FPS"],"_averageFPS",{readonly:!0,label:"value"}),w.registerBinding(this,["FPS"],"_averageFPS",{readonly:!0,label:"graph",view:"graph",min:0,max:200});for(const Z of I)w.registerParameter(this._debugParams.enabledLayers,["Debug","Layers"],Z);this.occlusionParams=new Vm(w),this.setup(),this.numSublayers=go.maxUnderzooming+go.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={},this.conflationActive=!1,this.replacementSource=new d.dv,this.longestCutoffRange=0,this.minCutoffZoom=0,this._fogVisible=!1,this._cachedTileFogOpacities={},this._shadowRenderer=new rr(this),this._wireframeDebugCache=new Zm,this.renderDefaultNorthPole=!0,this.renderDefaultSouthPole=!0,this.layersWithOcclusionOpacity=[];const D=new d.r({width:1,height:1},Uint8Array.of(0,0,0,0));this.emptyDepthTexture=new d.T(this.context,D,r.RGBA8),this._clippingActiveLastFrame=!1,this.scaleFactor=b}updateTerrain(r,l){const m=!!r&&!!r.terrain&&this.transform.projection.supportsTerrain;if(!(m||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new ac(this,r));const b=this._terrain;this.transform.elevation=m?b:null,b.update(r,this.transform,l),this.transform.elevation&&!b.enabled&&(this.transform.elevation=null)}_updateFog(r){const l=r.fog;if(!l||this.transform.projection.name==="globe"||l.getOpacity(this.transform.pitch)<1||l.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[m,b]=l.getFovAdjustedRange(this.transform._fov);if(m>b)return void(this.transform.fogCullDistSq=null);const w=m+.78*(b-m);this.transform.fogCullDistSq=w*w}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled||this._forceTerrainMode?this._terrain:null}get forceTerrainMode(){return this._forceTerrainMode}set forceTerrainMode(r){r&&!this._terrain&&(this._terrain=new ac(this,this.style)),this._forceTerrainMode=r}get shadowRenderer(){return this._shadowRenderer&&this._shadowRenderer.enabled?this._shadowRenderer:null}get wireframeDebugCache(){return this._wireframeDebugCache}resize(r,l){if(this.width=r*d.q.devicePixelRatio,this.height=l*d.q.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const m of this.style.order)this.style._mergedLayers[m].resize()}setup(){const r=this.context,l=new d.b4;l.emplaceBack(0,0),l.emplaceBack(d.ag,0),l.emplaceBack(0,d.ag),l.emplaceBack(d.ag,d.ag),this.tileExtentBuffer=r.createVertexBuffer(l,d.b6.members),this.tileExtentSegments=d.b7.simpleSegment(0,0,4,2);const m=new d.b4;m.emplaceBack(0,0),m.emplaceBack(d.ag,0),m.emplaceBack(0,d.ag),m.emplaceBack(d.ag,d.ag),this.debugBuffer=r.createVertexBuffer(m,d.b6.members),this.debugSegments=d.b7.simpleSegment(0,0,4,5);const b=new d.b4;b.emplaceBack(-1,-1),b.emplaceBack(1,-1),b.emplaceBack(-1,1),b.emplaceBack(1,1),this.viewportBuffer=r.createVertexBuffer(b,d.b6.members),this.viewportSegments=d.b7.simpleSegment(0,0,4,2);const w=new d.aT;w.emplaceBack(0,0,0,0),w.emplaceBack(d.ag,0,d.ag,0),w.emplaceBack(0,d.ag,0,d.ag),w.emplaceBack(d.ag,d.ag,d.ag,d.ag),this.mercatorBoundsBuffer=r.createVertexBuffer(w,d.b9.members),this.mercatorBoundsSegments=d.b7.simpleSegment(0,0,4,2);const I=new d.aU;I.emplaceBack(0,1,2),I.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=r.createIndexBuffer(I);const D=new d.b5;for(const W of[0,1,3,2,0])D.emplaceBack(W);this.debugIndexBuffer=r.createIndexBuffer(D),this.emptyTexture=new d.T(r,new d.r({width:1,height:1},Uint8Array.of(0,0,0,0)),r.gl.RGBA8),this.identityMat=d.ab.mat4.create();const Z=this.context.gl;this.stencilClearMode=new vo({func:Z.ALWAYS,mask:0},0,255,Z.ZERO,Z.ZERO,Z.ZERO),this.loadTimeStamps.push(performance.now())}getMercatorTileBoundsBuffers(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(r){return r._makeTileBoundsBuffers(this.context,this.transform.projection),r._tileBoundsBuffer?{tileBoundsBuffer:r._tileBoundsBuffer,tileBoundsIndexBuffer:r._tileBoundsIndexBuffer,tileBoundsSegments:r._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const r=this.context.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.getOrCreateProgram("clippingMask").draw(this,r.TRIANGLES,ji.disabled,this.stencilClearMode,qo.disabled,fo.disabled,Gl(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={})}_renderTileClippingMasks(r,l,m){if(!l||this.currentStencilSource===l.id||!r.isTileClipped()||!m||m.length===0)return;if(this._tileClippingMaskIDs&&!this.terrain){let D=!1;for(const Z of m)if(this._tileClippingMaskIDs[Z.key]===void 0){D=!0;break}if(!D)return}this.currentStencilSource=l.id;const b=this.context,w=b.gl;this.nextStencilID+m.length>256&&this.clearStencil(),b.setColorMode(qo.disabled),b.setDepthMode(ji.disabled);const I=this.getOrCreateProgram("clippingMask");this._tileClippingMaskIDs={};for(const D of m){const Z=l.getTile(D),W=this._tileClippingMaskIDs[D.key]=this.nextStencilID++,{tileBoundsBuffer:G,tileBoundsIndexBuffer:te,tileBoundsSegments:ne}=this.getTileBoundsBuffers(Z);I.draw(this,w.TRIANGLES,ji.disabled,new vo({func:w.ALWAYS,mask:0},W,255,w.KEEP,w.KEEP,w.REPLACE),qo.disabled,fo.disabled,Gl(D.projMatrix),"$clipping",G,te,ne)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const r=this.nextStencilID++,l=this.context.gl;return new vo({func:l.NOTEQUAL,mask:255},r,255,l.KEEP,l.KEEP,l.REPLACE)}stencilModeForClipping(r){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(r);const l=this.context.gl;return new vo({func:l.EQUAL,mask:255},this._tileClippingMaskIDs[r.key],0,l.KEEP,l.KEEP,l.REPLACE)}stencilConfigForOverlap(r){const l=this.context.gl,m=r.sort((I,D)=>D.overscaledZ-I.overscaledZ),b=m[m.length-1].overscaledZ,w=m[0].overscaledZ-b+1;if(w>1){this.currentStencilSource=void 0,this.nextStencilID+w>256&&this.clearStencil();const I={};for(let D=0;D<w;D++)I[D+b]=new vo({func:l.GEQUAL,mask:255},D+this.nextStencilID,255,l.KEEP,l.KEEP,l.REPLACE);return this.nextStencilID+=w,[I,m]}return[{[b]:vo.disabled},m]}colorModeForRenderPass(){const r=this.context.gl;return this._showOverdrawInspector?new qo([r.CONSTANT_COLOR,r.ONE,r.CONSTANT_COLOR,r.ONE],new d.aj(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?qo.unblended:qo.alphaBlended}colorModeForDrapableLayerRenderPass(r){const l=this.context.gl;return this.style&&this.style.enable3dLights()&&this.terrain&&this.terrain.renderingToTexture&&this.renderPass==="translucent"?new qo([l.ONE,l.ONE_MINUS_SRC_ALPHA,l.CONSTANT_ALPHA,l.ONE_MINUS_SRC_ALPHA],new d.aj(0,0,0,r===void 0?0:r),[!0,!0,!0,!0]):this.colorModeForRenderPass()}depthModeForSublayer(r,l,m,b=!1){if(this.depthOcclusion)return new ji(this.context.gl.GREATER,ji.ReadOnly,this.depthRangeFor3D);if(!this.opaquePassEnabledForLayer()&&!b)return ji.disabled;const w=1-((1+this.currentLayer)*this.numSublayers+r)*this.depthEpsilon;return new ji(m||this.context.gl.LEQUAL,l,[w,w])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}blitDepth(){const r=this.context.gl,l=Math.ceil(this.width),m=Math.ceil(this.height),b=this.context.bindFramebuffer.get(),w=r.getParameter(r.TEXTURE_BINDING_2D);this.depthFBO&&this.depthFBO.width===l&&this.depthFBO.height===m||(this.depthFBO&&(this.depthFBO.destroy(),this.depthFBO=void 0,this.depthTexture=void 0),l!==0&&m!==0&&(this.depthFBO=new Rp(this.context,l,m,!1,"texture"),this.depthTexture=new d.T(this.context,{width:l,height:m,data:null},r.DEPTH24_STENCIL8),this.depthFBO.depthAttachment.set(this.depthTexture.texture))),this.context.bindFramebuffer.set(b),r.bindTexture(r.TEXTURE_2D,w),this.depthFBO&&(r.bindFramebuffer(r.READ_FRAMEBUFFER,null),r.bindFramebuffer(r.DRAW_FRAMEBUFFER,this.depthFBO.framebuffer),r.blitFramebuffer(0,0,l,m,0,0,l,m,r.DEPTH_BUFFER_BIT,r.NEAREST),r.bindFramebuffer(r.FRAMEBUFFER,this.context.bindFramebuffer.current))}updateAverageFPS(){this._fpsHistory.push(this._dt===0?0:1e3/this._dt),this._fpsHistory.length>this._debugParams.fpsWindow&&this._fpsHistory.splice(0,this._fpsHistory.length-this._debugParams.fpsWindow),this._averageFPS=Math.round(this._fpsHistory.reduce((r,l)=>r+l/this._fpsHistory.length,0))}render(r,l){const m=d.q.now();this._dt=m-this._timeStamp,this._timeStamp=m,this._wireframeDebugCache.update(this.frameCounter),this._debugParams.continousRedraw=r.map.repaint,this.style=r,this.options=l;const b=this.style._mergedLayers,w=!(!this.terrain||!this.terrain.enabled),I=()=>this.style._getOrder(w).filter(rn=>{const $n=b[rn];return!($n.type in this._debugParams.enabledLayers)||this._debugParams.enabledLayers[$n.type]});let D=I(),Z=!1,W=!1;for(const rn of D){const $n=b[rn];$n.type==="circle"&&(Z=!0),$n.type==="symbol"&&($n.hasInitialOcclusionOpacityProperties?W=!0:Z=!0)}let G=D.map(rn=>b[rn]);const te=this.style._mergedSourceCaches;this.imageManager=r.imageManager,this.modelManager=r.modelManager,this.symbolFadeChange=r.placement.symbolFadeChange(d.q.now()),this.imageManager.beginFrame();let ne=0,ce=!1;for(const rn in te){const $n=te[rn];$n.used&&($n.prepare(this.context),$n.getSource().usedInConflation&&++ne)}let Te=!1;for(const rn of G)rn.isHidden(this.transform.zoom)||(rn.type==="clip"&&(Te=!0),this.prepareLayer(rn));const we={},Re={},Oe={},Ge={},dt={};for(const rn in te){const $n=te[rn];we[rn]=$n.getVisibleCoordinates(),Re[rn]=we[rn].slice().reverse(),Oe[rn]=$n.getVisibleCoordinates(!0).reverse(),Ge[rn]=$n.getShadowCasterCoordinates(),dt[rn]=$n.sortCoordinatesByDistance(we[rn])}const st=rn=>{const $n=this.style.getLayerSourceCache(rn);return $n&&$n.used?$n.getSource():null};if(ne||Te||this._clippingActiveLastFrame){const rn=[],$n=[];let hr=0;for(const nn of G)this.isSourceForClippingOrConflation(nn,st(nn))&&(rn.push(nn),$n.push(hr)),hr++;if(rn&&(Te||rn.length>1)||this._clippingActiveLastFrame){Te=!1;const nn=[];for(let Xn=0;Xn<rn.length;Xn++){const Mn=rn[Xn],Dr=$n[Xn],ar=this.style.getLayerSourceCache(Mn);if(!ar||!ar.used||!ar.getSource().usedInConflation&&Mn.type!=="clip")continue;let Wn=d.dx,_r=d.by.None;const Rr=[];let oi=!0;if(Mn.type==="clip"){Wn=Dr;for(const mi of Mn.layout.get("clip-layer-types"))_r|=mi==="model"?d.by.Model:mi==="symbol"?d.by.Symbol:d.by.FillExtrusion;for(const mi of Mn.layout.get("clip-layer-scope"))Rr.push(mi);Mn.isHidden(this.transform.zoom)?oi=!1:Te=!0}oi&&nn.push({layer:Mn.fqid,cache:ar,order:Wn,clipMask:_r,clipScope:Rr})}this.replacementSource.setSources(nn),ce=!0}}this._clippingActiveLastFrame=Te,ce||this.replacementSource.clear(),this.conflationActive=ce,this.minCutoffZoom=0,this.longestCutoffRange=0,this.opaquePassCutoff=1/0,this._lastOcclusionLayer=-1,this.layersWithOcclusionOpacity=[];for(let rn=0;rn<G.length;rn++){const $n=G[rn],hr=$n.cutoffRange();if(this.longestCutoffRange=Math.max(hr,this.longestCutoffRange),hr>0){const nn=st($n);nn&&(this.minCutoffZoom=Math.max(nn.minzoom,this.minCutoffZoom)),$n.minzoom&&(this.minCutoffZoom=Math.max($n.minzoom,this.minCutoffZoom))}$n.is3D()&&(this.opaquePassCutoff===1/0&&(this.opaquePassCutoff=rn),this._lastOcclusionLayer=rn)}const bt=this.style&&this.style.fog;bt?(this._fogVisible=bt.getOpacity(this.transform.pitch)!==0,this._fogVisible&&this.transform.projection.name!=="globe"&&(this._fogVisible=bt.isVisibleOnFrustum(this.transform.cameraFrustum))):this._fogVisible=!1,this._cachedTileFogOpacities={},this.terrain&&(this.terrain.updateTileBinding(Oe),this.opaquePassCutoff=0,D=I(),G=D.map(rn=>b[rn]));const pt=this._shadowRenderer;if(pt){pt.updateShadowParameters(this.transform,this.style.directionalLight);for(const rn in te)for(const $n of we[rn]){let hr={min:0,max:0};this.terrain&&(hr=this.terrain.getMinMaxForTile($n)||hr),pt.addShadowReceiver($n.toUnwrapped(),hr.min,hr.max)}}this.transform.projection.name!=="globe"||this.globeSharedBuffers||(this.globeSharedBuffers=new d.dw(this.context)),this.style.fog&&this.transform.projection.supportsFog?(this._atmosphere||(this._atmosphere=new y0(this)),this._atmosphere.update(this)):this._atmosphere&&(this._atmosphere.destroy(),this._atmosphere=void 0);const gt=this._debugParams.forceEnablePrecipitation||!(!this.style||!this.style.snow),ft=this._debugParams.forceEnablePrecipitation||!(!this.style||!this.style.rain);if(gt&&!this._snow&&(this._snow=new Fp(this)),!gt&&this._snow&&(this._snow.destroy(),delete this._snow),ft&&!this._rain&&(this._rain=new pf(this)),!ft&&this._rain&&(this._rain.destroy(),delete this._rain),this._snow&&this._snow.update(this),this._rain&&this._rain.update(this),!mn.has(this.context.gl))return;this.renderPass="offscreen";for(const rn of G){const $n=r.getLayerSourceCache(rn);if(!rn.hasOffscreenPass()||rn.isHidden(this.transform.zoom))continue;const hr=$n?Re[$n.id]:void 0;(rn.type==="custom"||rn.type==="raster"||rn.type==="raster-particle"||rn.isSky()||hr&&hr.length)&&this.renderLayer(this,$n,rn,hr)}this.depthRangeFor3D=[0,1-(G.length+2)*this.numSublayers*this.depthEpsilon],this._shadowRenderer&&(this.renderPass="shadow",this._shadowRenderer.drawShadowPass(this.style,Ge)),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]);const yt=this.transform.projection.name==="globe"||this.transform.isHorizonVisible(),Bt=(()=>{if(l.showOverdrawInspector)return d.aj.black;const rn=this.style.fog;if(rn&&this.transform.projection.supportsFog){const $n=this.style.getLut(rn.scope);if(!yt){const hr=rn.properties.get("color-use-theme")==="none",nn=rn.properties.get("color").toRenderColor(hr?null:$n).toArray01();return new d.aj(...nn)}if(yt){const hr=rn.properties.get("space-color-use-theme")==="none",nn=rn.properties.get("space-color").toRenderColor(hr?null:$n).toArray01();return new d.aj(...nn)}}return d.aj.transparent})();if(this.context.clear({color:Bt,depth:1}),this.clearStencil(),this._showOverdrawInspector=l.showOverdrawInspector,this.renderPass="opaque",this.style.fog&&this.transform.projection.supportsFog&&this._atmosphere&&!this._showOverdrawInspector&&yt&&this._atmosphere.drawStars(this,this.style.fog),!this.terrain)for(this.currentLayer=D.length-1;this.currentLayer>=0;this.currentLayer--){const rn=G[this.currentLayer],$n=r.getLayerSourceCache(rn);if(rn.isSky())continue;const hr=$n?(rn.is3D()?dt:Re)[$n.id]:void 0;this._renderTileClippingMasks(rn,$n,hr),this.renderLayer(this,$n,rn,hr)}if(this.style.fog&&this.transform.projection.supportsFog&&this._atmosphere&&!this._showOverdrawInspector&&yt&&this._atmosphere.drawAtmosphereGlow(this,this.style.fog),this.renderPass="sky",(!this._atmosphere||d.ae(this.transform.zoom)>0)&&(this.transform.projection.name==="globe"||this.transform.isHorizonVisible()))for(this.currentLayer=0;this.currentLayer<D.length;this.currentLayer++){const rn=G[this.currentLayer],$n=r.getLayerSourceCache(rn);rn.isSky()&&this.renderLayer(this,$n,rn,$n?Re[$n.id]:void 0)}function In(rn,$n){let hr;return $n&&(hr=(rn.type==="symbol"?Oe:rn.is3D()?dt:Re)[$n.id]),hr}if(this.renderPass="translucent",this.transform.projection.name==="globe"){for(this.renderElevatedRasterBackface=!0,this.currentLayer=0;this.currentLayer<D.length;){const rn=G[this.currentLayer];if(rn.type==="raster"||rn.type==="raster-particle"){const $n=r.getLayerSourceCache(rn);this.renderLayer(this,$n,rn,In(rn,$n))}++this.currentLayer}this.renderElevatedRasterBackface=!1}this.currentLayer=0,this.firstLightBeamLayer=Number.MAX_SAFE_INTEGER;let pn=0;pt&&(pn=pt.getShadowCastingLayerCount());let Hn=!1,Zn=-1;for(let rn=0;rn<D.length;++rn){const $n=G[rn];$n.isHidden(this.transform.zoom)||$n.is3D()&&(Zn=rn)}for(W&&Zn===-1&&(Z=!0);this.currentLayer<D.length;){const rn=G[this.currentLayer],$n=r.getLayerSourceCache(rn);if(rn.isSky())++this.currentLayer;else if(this.terrain&&this.style.isLayerDraped(rn)){if(rn.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer),this._lastOcclusionLayer=Math.max(this.currentLayer,this._lastOcclusionLayer)}else{if(Z&&!Hn&&this.terrain&&!this.transform.isOrthographic&&(Hn=!0,this.blitDepth()),W&&Zn!==-1&&this.currentLayer===Zn+1&&!this.transform.isOrthographic&&this.blitDepth(),rn.is3D()||this.terrain||this._renderTileClippingMasks(rn,$n,$n?we[$n.id]:void 0),this.renderLayer(this,$n,rn,In(rn,$n)),!this.terrain&&pt&&pn>0&&rn.hasShadowPass()&&--pn==0&&(pt.drawGroundShadows(),this.firstLightBeamLayer<=this.currentLayer)){const hr=this.currentLayer;for(this.renderPass="light-beam",this.currentLayer=this.firstLightBeamLayer;this.currentLayer<=hr;this.currentLayer++){const nn=G[this.currentLayer];if(!nn.hasLightBeamPass())continue;const Xn=r.getLayerSourceCache(nn);this.renderLayer(this,Xn,nn,Xn?Re[Xn.id]:void 0)}this.currentLayer=hr,this.renderPass="translucent"}if(this.currentLayer>=this._lastOcclusionLayer&&this.layersWithOcclusionOpacity.length>0){const hr=this.currentLayer;this.depthOcclusion=!0;for(const nn of this.layersWithOcclusionOpacity){this.currentLayer=nn;const Xn=G[this.currentLayer],Mn=r.getLayerSourceCache(Xn),Dr=Mn?Re[Mn.id]:void 0;Xn.is3D()||this.terrain||this._renderTileClippingMasks(Xn,Mn,Mn?we[Mn.id]:void 0),this.renderLayer(this,Mn,Xn,Dr)}this.depthOcclusion=!1,this.currentLayer=hr,this.renderPass="translucent",this.layersWithOcclusionOpacity=[]}++this.currentLayer}}if(this.terrain&&this.terrain.postRender(),this._snow&&this._snow.draw(this),this._rain&&this._rain.draw(this),this.options.showTileBoundaries||this.options.showQueryGeometry||this.options.showTileAABBs){let rn=null;G.forEach($n=>{const hr=r.getLayerSourceCache($n);hr&&!$n.isHidden(this.transform.zoom)&&hr.getVisibleCoordinates().length&&(!rn||rn.getSource().maxzoom<hr.getSource().maxzoom)&&(rn=hr)}),rn&&this.options.showTileBoundaries&&Gh.debug(this,rn,rn.getVisibleCoordinates(),d.aj.red,!1,this.options.showParseStatus)}this.terrain&&this._debugParams.showTerrainProxyTiles&&Gh.debug(this,this.terrain.proxySourceCache,this.terrain.proxyCoords,new d.aj(1,.8,.1,1),!0,this.options.showParseStatus),this.options.showPadding&&function(rn){const $n=rn.transform.padding;Hf(rn,rn.transform.height-($n.top||0),3,Zf),Hf(rn,$n.bottom||0,3,zp),Fm(rn,$n.left||0,3,Vf),Fm(rn,rn.transform.width-($n.right||0),3,m0);const hr=rn.transform.centerPoint;(function(nn,Xn,Mn,Dr){Cu(nn,Xn-1,Mn-10,2,20,Dr),Cu(nn,Xn-10,Mn-1,20,2,Dr)})(rn,hr.x,rn.transform.height-hr.y,df)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(performance.now()),this.saveCanvasCopy()),ce||(this.conflationActive=!1)}prepareLayer(r){this.gpuTimingStart(r);const{unsupportedLayers:l}=this.transform.projection,m=!l||!l.includes(r.type);if(kp[r.type]&&(m||this.terrain&&r.type==="custom")){const b=this.style.getLayerSourceCache(r);kp[r.type](r,b,this)}this.gpuTimingEnd()}renderLayer(r,l,m,b){m.isHidden(this.transform.zoom)||(m.type==="background"||m.type==="sky"||m.type==="custom"||m.type==="model"||m.type==="raster"||m.type==="raster-particle"||b&&b.length)&&(this.id=m.id,this.gpuTimingStart(m),r.transform.projection.unsupportedLayers&&r.transform.projection.unsupportedLayers.includes(m.type)&&(!r.terrain||m.type!=="custom")||m.type==="clip"||Gh[m.type](r,l,m,b,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(r){if(!this.options.gpuTiming)return;const l=this.context.extTimerQuery,m=this.context.gl;let b=this.gpuTimers[r.id];b||(b=this.gpuTimers[r.id]={calls:0,cpuTime:0,query:m.createQuery()}),b.calls++,m.beginQuery(l.TIME_ELAPSED_EXT,b.query)}gpuTimingDeferredRenderStart(){if(this.options.gpuTimingDeferredRender){const r=this.context.extTimerQuery,l=this.context.gl,m=l.createQuery();this.deferredRenderGpuTimeQueries.push(m),l.beginQuery(r.TIME_ELAPSED_EXT,m)}}gpuTimingDeferredRenderEnd(){this.options.gpuTimingDeferredRender&&this.context.gl.endQuery(this.context.extTimerQuery.TIME_ELAPSED_EXT)}gpuTimingEnd(){this.options.gpuTiming&&this.context.gl.endQuery(this.context.extTimerQuery.TIME_ELAPSED_EXT)}collectGpuTimers(){const r=this.gpuTimers;return this.gpuTimers={},r}collectDeferredRenderGpuQueries(){const r=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],r}queryGpuTimers(r){const l={};for(const m in r){const b=r[m],w=this.context.extTimerQuery,I=w.getQueryParameter(b.query,this.context.gl.QUERY_RESULT)/1e6;w.deleteQueryEXT(b.query),l[m]=I}return l}queryGpuTimeDeferredRender(r){if(!this.options.gpuTimingDeferredRender)return 0;const l=this.context.gl;let m=0;for(const b of r)m+=l.getQueryParameter(b,l.QUERY_RESULT)/1e6,l.deleteQuery(b);return m}translatePosMatrix(r,l,m,b,w){if(!m[0]&&!m[1])return r;const I=w?b==="map"?this.transform.angle:0:b==="viewport"?-this.transform.angle:0;if(I){const W=Math.sin(I),G=Math.cos(I);m=[m[0]*G-m[1]*W,m[0]*W+m[1]*G]}const D=[w?m[0]:d.ar(l,m[0],this.transform.zoom),w?m[1]:d.ar(l,m[1],this.transform.zoom),0],Z=new Float32Array(16);return d.ab.mat4.translate(Z,r,D),Z}saveTileTexture(r){const l=r.size[0],m=this._tileTextures[l];m?m.push(r):this._tileTextures[l]=[r]}getTileTexture(r){const l=this._tileTextures[r];return l&&l.length>0?l.pop():null}terrainRenderModeElevated(){return this.style&&!!this.style.getTerrain()&&!!this.terrain&&!this.terrain.renderingToTexture||this.forceTerrainMode}linearFloatFilteringSupported(){return this.context.extTextureFloatLinear!=null}currentGlobalDefines(r,l,m){const b=m===void 0?this.terrain&&this.terrain.renderingToTexture:m,w=[];return this.style&&this.style.enable3dLights()&&(r==="globeRaster"||r==="terrainRaster"?(w.push("LIGHTING_3D_MODE"),w.push("LIGHTING_3D_ALPHA_EMISSIVENESS")):b||w.push("LIGHTING_3D_MODE")),this.renderPass==="shadow"&&(this._shadowMapDebug||w.push("DEPTH_TEXTURE")),this.terrainRenderModeElevated()&&(w.push("TERRAIN"),this.linearFloatFilteringSupported()&&w.push("TERRAIN_DEM_FLOAT_FORMAT")),this.transform.projection.name==="globe"&&w.push("GLOBE"),!this._fogVisible||b||l!==void 0&&!l||w.push("FOG","FOG_DITHERING"),b&&w.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&w.push("OVERDRAW_INSPECTOR"),w}getOrCreateProgram(r,l){this.cache=this.cache||{};const m=l&&l.defines||[],b=l&&l.config,w=this.currentGlobalDefines(r,l&&l.overrideFog,l&&l.overrideRtt).concat(m),I=Qd.cacheKey(Cc[r],r,w,b);return this.cache[I]||(this.cache[I]=new Qd(this.context,r,Cc[r],b,$p[r],w)),this.cache[I]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const r=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(r.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new d.T(this.context,this.debugOverlayCanvas,this.context.gl.RGBA8))}destroy(){this._terrain&&this._terrain.destroy(),this._atmosphere&&(this._atmosphere.destroy(),this._atmosphere=void 0),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this._wireframeDebugCache.destroy(),this.depthFBO&&(this.depthFBO.destroy(),this.depthFBO=void 0,this.depthTexture=void 0),this.emptyDepthTexture&&this.emptyDepthTexture.destroy()}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile()}uploadCommonLightUniforms(r,l){if(this.style.enable3dLights()){const m=this.style.directionalLight,b=this.style.ambientLight;if(m&&b){const w=((I,D,Z)=>{const W=I.properties.get("direction"),G=I.properties.get("color-use-theme")==="none",te=I.properties.get("color").toRenderColor(G?null:Z.getLut(I.scope)).toArray01(),ne=I.properties.get("intensity"),ce=D.properties.get("color-use-theme")==="none",Te=D.properties.get("color").toRenderColor(ce?null:Z.getLut(D.scope)).toArray01(),we=D.properties.get("intensity"),Re=[W.x,W.y,W.z],Oe=d.cM(Te,we),Ge=d.cM(te,ne);return{u_lighting_ambient_color:Oe,u_lighting_directional_dir:Re,u_lighting_directional_color:Ge,u_ground_radiance:Jc(Re,Ge,Oe)}})(m,b,this.style);l.setLightsUniformValues(r,w)}}}uploadCommonUniforms(r,l,m,b,w){if(this.uploadCommonLightUniforms(r,l),this.terrain&&this.terrain.renderingToTexture)return;const I=this.style.fog;if(I){const D=I.getOpacity(this.transform.pitch),Z=((W,G,te,ne,ce,Te,we,Re,Oe,Ge,dt,st)=>{const bt=W.transform,pt=G.properties.get("color-use-theme")==="none",gt=G.properties.get("color").toRenderColor(pt?null:W.style.getLut(G.scope)).toArray01();gt[3]=ne;const ft=W.frameCounter/1e3%1,[yt,Bt]=G.properties.get("vertical-range");return{u_fog_matrix:te?bt.calculateFogTileMatrix(te):st||W.identityMat,u_fog_range:G.getFovAdjustedRange(bt._fov),u_fog_color:gt,u_fog_horizon_blend:G.properties.get("horizon-blend"),u_fog_vertical_limit:[Math.min(yt,Bt),Bt],u_fog_temporal_offset:ft,u_frustum_tl:ce,u_frustum_tr:Te,u_frustum_br:we,u_frustum_bl:Re,u_globe_pos:Oe,u_globe_radius:Ge,u_viewport:dt,u_globe_transition:d.ae(bt.zoom),u_is_globe:+(bt.projection.name==="globe")}})(this,I,m,D,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*d.q.devicePixelRatio,this.transform.height*d.q.devicePixelRatio],b);l.setFogUniformValues(r,Z)}w&&l.setCutoffUniformValues(r,w.uniformValues)}setTileLoadedFlag(r){this.tileLoaded=r}saveCanvasCopy(){const r=this.canvasCopy();r&&(this.frameCopies.push(r),this.tileLoaded=!1)}canvasCopy(){const r=this.context.gl,l=r.createTexture();return r.bindTexture(r.TEXTURE_2D,l),r.copyTexImage2D(r.TEXTURE_2D,0,r.RGBA,0,0,r.drawingBufferWidth,r.drawingBufferHeight,0),l}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const r=this.style&&this.style.fog;return!!r&&r.getOpacity(this.transform.pitch)!==0}getBackgroundTiles(){const r=this._backgroundTiles,l=this._backgroundTiles={},m=this.transform.coveringTiles({tileSize:512});for(const b of m)l[b.key]=r[b.key]||new $s(b,512,this.transform.tileZoom,this);return l}clearBackgroundTiles(){this._backgroundTiles={}}isSourceForClippingOrConflation(r,l){return!(!r.is3D()||r.type!=="clip"&&(r.minzoom&&r.minzoom>this.transform.zoom||(this.style._clipLayerPresent||r.sourceLayer!=="building")&&(!l||l.type!=="batched-model")))}isTileAffectedByFog(r){if(!this.style||!this.style.fog)return!1;if(this.transform.projection.name==="globe")return!0;let l=this._cachedTileFogOpacities[r.key];return l||(this._cachedTileFogOpacities[r.key]=l=this.style.fog.getOpacityForTile(r)),l[0]>=Ve||l[1]>=Ve}setupDepthForOcclusion(r,l,m){const b=this.context,w=b.gl,I=!!m;var D;m||(m={u_dem:2,u_dem_prev:4,u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_depth_range_unpack:[0,1],u_occluder_half_size:16,u_occlusion_depth_offset:-1e-4,u_exaggeration:0}),b.activeTexture.set(w.TEXTURE3),r&&this.depthFBO&&this.depthTexture?(this.depthTexture.bind(w.NEAREST,w.CLAMP_TO_EDGE),m.u_depth_size_inv=[1/this.depthFBO.width,1/this.depthFBO.height],m.u_depth_range_unpack=[2/((D=this.depthRangeFor3D)[1]-D[0]),-1-2*D[0]/(D[1]-D[0])],m.u_occluder_half_size=.5*this.occlusionParams.occluderSize,m.u_occlusion_depth_offset=this.occlusionParams.depthOffset):this.emptyDepthTexture.bind(w.NEAREST,w.CLAMP_TO_EDGE),b.activeTexture.set(w.TEXTURE0),I||l.setTerrainUniformValues(b,m)}}function Wm(p,r){let l=!1,m=null;const b=()=>{m=null,l&&(p(),m=setTimeout(b,r),l=!1)};return()=>(l=!0,m||b(),m)}class Gm{constructor(r){this._hashName=r&&encodeURIComponent(r),d.aP(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Wm(this._updateHashUnthrottled.bind(this),300)}addTo(r){return this._map=r,window.addEventListener("hashchange",this._onHashChange,!1),r.on("moveend",this._updateHash),this}remove(){return this._map?(this._map.off("moveend",this._updateHash),window.removeEventListener("hashchange",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(){const r=this._map;if(!r)return"";const l=Zp(r);if(this._hashName){const m=this._hashName;let b=!1;const w=location.hash.slice(1).split("&").map(I=>{const D=I.split("=")[0];return D===m?(b=!0,`${D}=${l}`):I}).filter(I=>I);return b||w.push(`${m}=${l}`),`#${w.join("&")}`}return`#${l}`}_getCurrentHash(){const r=location.hash.replace("#","");if(this._hashName){let l;return r.split("&").map(m=>m.split("=")).forEach(m=>{m[0]===this._hashName&&(l=m)}),(l&&l[1]||"").split("/")}return r.split("/")}_onHashChange(){const r=this._map;if(!r)return!1;const l=this._getCurrentHash();if(l.length>=3&&!l.some(m=>isNaN(m))){const m=r.dragRotate.isEnabled()&&r.touchZoomRotate.isEnabled()?+(l[3]||0):r.getBearing();return r.jumpTo({center:[+l[2],+l[1]],zoom:+l[0],bearing:m,pitch:+(l[4]||0)}),!0}return!1}_updateHashUnthrottled(){history.replaceState(history.state,"",location.href.replace(/(#.+)?$/,this.getHashString()))}}function Zp(p,r){const l=p.getCenter(),m=Math.round(100*p.getZoom())/100,b=Math.ceil((m*Math.LN2+Math.log(512/360/.5))/Math.LN10),w=Math.pow(10,b),I=Math.round(l.lng*w)/w,D=Math.round(l.lat*w)/w,Z=p.getBearing(),W=p.getPitch();let G=r?`/${I}/${D}/${m}`:`${m}/${D}/${I}`;return(Z||W)&&(G+="/"+Math.round(10*Z)/10),W&&(G+=`/${Math.round(W)}`),G}const Wf={linearity:.3,easing:d.dy(0,0,.3,1)},Xm=d.l({deceleration:2500,maxSpeed:1400},Wf),C0=d.l({deceleration:20,maxSpeed:1400},Wf),Cd=d.l({deceleration:1e3,maxSpeed:360},Wf),w0=d.l({deceleration:1e3,maxSpeed:90},Wf);class S0{constructor(r){this._map=r,this.clear()}clear(){this._inertiaBuffer=[]}record(r){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:d.q.now(),settings:r})}_drainInertiaBuffer(){const r=this._inertiaBuffer,l=d.q.now();for(;r.length>0&&l-r[0].time>160;)r.shift()}_onMoveEnd(r){if(this._map._prefersReducedMotion()||(this._drainInertiaBuffer(),this._inertiaBuffer.length<2))return;const l={zoom:0,bearing:0,pitch:0,pan:new d.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:w}of this._inertiaBuffer)l.zoom+=w.zoomDelta||0,l.bearing+=w.bearingDelta||0,l.pitch+=w.pitchDelta||0,w.panDelta&&l.pan._add(w.panDelta),w.around&&(l.around=w.around),w.pinchAround&&(l.pinchAround=w.pinchAround);const m=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,b={};if(l.pan.mag()){const w=Yu(l.pan.mag(),m,d.l({},Xm,r||{}));b.offset=l.pan.mult(w.amount/l.pan.mag()),b.center=this._map.transform.center,wd(b,w)}if(l.zoom){const w=Yu(l.zoom,m,C0);b.zoom=this._map.transform.zoom+w.amount,wd(b,w)}if(l.bearing){const w=Yu(l.bearing,m,Cd);b.bearing=this._map.transform.bearing+d.aw(w.amount,-179,179),wd(b,w)}if(l.pitch){const w=Yu(l.pitch,m,w0);b.pitch=this._map.transform.pitch+w.amount,wd(b,w)}if(b.zoom||b.bearing){const w=l.pinchAround===void 0?l.around:l.pinchAround;b.around=w?this._map.unproject(w):this._map.getCenter()}return this.clear(),b.noMoveStart=!0,b}}function wd(p,r){(!p.duration||p.duration<r.duration)&&(p.duration=r.duration,p.easing=r.easing)}function Yu(p,r,l){const{maxSpeed:m,linearity:b,deceleration:w}=l,I=d.aw(p*b/(r/1e3),-m,m),D=Math.abs(I)/(w*b);return{easing:l.easing,duration:1e3*D,amount:I*(D/2)}}class Ic extends d.z{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(r,l,m,b={}){const w=Xt(l.getCanvasContainer(),m),I=l.unproject(w);super(r,d.l({point:w,lngLat:I,originalEvent:m},b)),this._defaultPrevented=!1,this.target=l}}class Gf extends d.z{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(r,l,m){const b=r==="touchend"?m.changedTouches:m.touches,w=_n(l.getCanvasContainer(),b),I=w.map(Z=>l.unproject(Z)),D=w.reduce((Z,W,G,te)=>Z.add(W.div(te.length)),new d.P(0,0));super(r,{points:w,point:D,lngLats:I,lngLat:l.unproject(D),originalEvent:m}),this._defaultPrevented=!1}}class E0 extends d.z{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(r,l){super("wheel",{originalEvent:l}),this._defaultPrevented=!1}}class Qv{constructor(r,l){this._map=r,this._clickTolerance=l.clickTolerance}reset(){this._mousedownPos=void 0}wheel(r){return this._firePreventable(new E0(this._map,r))}mousedown(r,l){return this._mousedownPos=l,this._firePreventable(new Ic(r.type,this._map,r))}mouseup(r){this._map.fire(new Ic(r.type,this._map,r))}preclick(r){const l=d.l({},r);l.type="preclick",this._map.fire(new Ic(l.type,this._map,l))}click(r,l){this._mousedownPos&&this._mousedownPos.dist(l)>=this._clickTolerance||(this.preclick(r),this._map.fire(new Ic(r.type,this._map,r)))}dblclick(r){return this._firePreventable(new Ic(r.type,this._map,r))}mouseover(r){this._map.fire(new Ic(r.type,this._map,r))}mouseout(r){this._map.fire(new Ic(r.type,this._map,r))}touchstart(r){return this._firePreventable(new Gf(r.type,this._map,r))}touchmove(r){this._map.fire(new Gf(r.type,this._map,r))}touchend(r){this._map.fire(new Gf(r.type,this._map,r))}touchcancel(r){this._map.fire(new Gf(r.type,this._map,r))}_firePreventable(r){if(this._map.fire(r),r.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class ey{constructor(r){this._map=r}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0}mousemove(r){this._map.fire(new Ic(r.type,this._map,r))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Ic("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(r){this._delayContextMenu?this._contextMenuEvent=r:this._map.fire(new Ic(r.type,this._map,r)),this._map.listens("contextmenu")&&r.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class fl{constructor(r,l){this._map=r,this._el=r.getCanvasContainer(),this._container=r.getContainer(),this._clickTolerance=l.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(r,l){this.isEnabled()&&r.shiftKey&&r.button===0&&(Zt(),this._startPos=this._lastPos=l,this._active=!0)}mousemoveWindow(r,l){if(!this._active)return;const m=l,b=this._startPos,w=this._lastPos;if(!b||!w||w.equals(m)||!this._box&&m.dist(b)<this._clickTolerance)return;this._lastPos=m,this._box||(this._box=qt("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",r));const I=Math.min(b.x,m.x),D=Math.max(b.x,m.x),Z=Math.min(b.y,m.y),W=Math.max(b.y,m.y);this._map._requestDomTask(()=>{this._box&&(this._box.style.transform=`translate(${I}px,${Z}px)`,this._box.style.width=D-I+"px",this._box.style.height=W-Z+"px")})}mouseupWindow(r,l){if(!this._active)return;const m=this._startPos,b=l;if(m&&r.button===0){if(this.reset(),sn(),m.x!==b.x||m.y!==b.y)return this._map.fire(new d.z("boxzoomend",{originalEvent:r})),{cameraAnimation:w=>w.fitScreenCoordinates(m,b,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",r)}}keydown(r){this._active&&r.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",r))}blur(){this.reset()}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),Qt(),delete this._startPos,delete this._lastPos}_fireEvent(r,l){return this._map.fire(new d.z(r,{originalEvent:l}))}}function Xh(p,r){const l={};for(let m=0;m<p.length;m++)l[p[m].identifier]=r[m];return l}class I0{constructor(r){this.reset(),this.numTouches=r.numTouches}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1}touchstart(r,l,m){(this.centroid||m.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===0&&(this.startTime=r.timeStamp),m.length===this.numTouches&&(this.centroid=function(b){const w=new d.P(0,0);for(const I of b)w._add(I);return w.div(b.length)}(l),this.touches=Xh(m,l)))}touchmove(r,l,m){if(this.aborted||!this.centroid)return;const b=Xh(m,l);for(const w in this.touches){const I=b[w];(!I||I.dist(this.touches[w])>30)&&(this.aborted=!0)}}touchend(r,l,m){if((!this.centroid||r.timeStamp-this.startTime>500)&&(this.aborted=!0),m.length===0){const b=!this.aborted&&this.centroid;if(this.reset(),b)return b}}}class qm{constructor(r){this.singleTap=new I0(r),this.numTaps=r.numTaps,this.reset()}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset()}touchstart(r,l,m){this.singleTap.touchstart(r,l,m)}touchmove(r,l,m){this.singleTap.touchmove(r,l,m)}touchend(r,l,m){const b=this.singleTap.touchend(r,l,m);if(b){const w=r.timeStamp-this.lastTime<500,I=!this.lastTap||this.lastTap.dist(b)<30;if(w&&I||this.reset(),this.count++,this.lastTime=r.timeStamp,this.lastTap=b,this.count===this.numTaps)return this.reset(),b}}}class mf{constructor(){this._zoomIn=new qm({numTouches:1,numTaps:2}),this._zoomOut=new qm({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(r,l,m){this._zoomIn.touchstart(r,l,m),this._zoomOut.touchstart(r,l,m)}touchmove(r,l,m){this._zoomIn.touchmove(r,l,m),this._zoomOut.touchmove(r,l,m)}touchend(r,l,m){const b=this._zoomIn.touchend(r,l,m),w=this._zoomOut.touchend(r,l,m);return b?(this._active=!0,r.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:I=>I.easeTo({duration:300,zoom:I.getZoom()+1,around:I.unproject(b)},{originalEvent:r})}):w?(this._active=!0,r.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:I=>I.easeTo({duration:300,zoom:I.getZoom()-1,around:I.unproject(w)},{originalEvent:r})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const T0={0:1,2:2};class Vp{constructor(r){this.reset(),this._clickTolerance=r.clickTolerance||1}blur(){this.reset()}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0}_correctButton(r,l){return!1}_move(r,l){return{}}mousedown(r,l){if(this._lastPoint)return;const m=En(r);this._correctButton(r,m)&&(this._lastPoint=l,this._eventButton=m)}mousemoveWindow(r,l){const m=this._lastPoint;if(m){if(r.preventDefault(),this._eventButton!=null&&function(b,w){const I=T0[w];return b.buttons===void 0||(b.buttons&I)!==I}(r,this._eventButton))this.reset();else if(this._moved||!(l.dist(m)<this._clickTolerance))return this._moved=!0,this._lastPoint=l,this._move(m,l)}}mouseupWindow(r){this._lastPoint&&En(r)===this._eventButton&&(this._moved&&sn(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class qh extends Vp{mousedown(r,l){super.mousedown(r,l),this._lastPoint&&(this._active=!0)}_correctButton(r,l){return l===0&&!r.ctrlKey}_move(r,l){return{around:l,panDelta:l.sub(r)}}}class Eu extends Vp{_correctButton(r,l){return l===0&&r.ctrlKey||l===2}_move(r,l){const m=.8*(l.x-r.x);if(m)return this._active=!0,{bearingDelta:m}}contextmenu(r){r.preventDefault()}}class Kh extends Vp{_correctButton(r,l){return l===0&&r.ctrlKey||l===2}_move(r,l){const m=-.5*(l.y-r.y);if(m)return this._active=!0,{pitchDelta:m}}contextmenu(r){r.preventDefault()}}class bl{constructor(r,l){this._map=r,this._el=r.getCanvasContainer(),this._minTouches=1,this._clickTolerance=l.clickTolerance||1,this.reset(),d.aP(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}reset(){this._active=!1,this._touches={},this._sum=new d.P(0,0)}touchstart(r,l,m){return this._calculateTransform(r,l,m)}touchmove(r,l,m){if(this._active&&!(m.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(m.length===1&&!d.dz())return void this._showTouchPanBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return r.cancelable&&r.preventDefault(),this._calculateTransform(r,l,m)}}touchend(r,l,m){this._calculateTransform(r,l,m),this._active&&m.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(r,l,m){m.length>0&&(this._active=!0);const b=Xh(m,l),w=new d.P(0,0),I=new d.P(0,0);let D=0;for(const W in b){const G=b[W],te=this._touches[W];te&&(w._add(G),I._add(G.sub(te)),D++,b[W]=G)}if(this._touches=b,D<this._minTouches||!I.mag())return;const Z=I.div(D);return this._sum._add(Z),this._sum.mag()<this._clickTolerance?void 0:{around:w.div(D),panDelta:Z}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=qt("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showTouchPanBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=window.setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show"),this._alertContainer.removeAttribute("role")},500)}}class jc{constructor(){this.reset()}reset(){this._active=!1,this._firstTwoTouches=void 0}_start(r){}_move(r,l,m){return{}}touchstart(r,l,m){this._firstTwoTouches||m.length<2||(this._firstTwoTouches=[m[0].identifier,m[1].identifier],this._start([l[0],l[1]]))}touchmove(r,l,m){const b=this._firstTwoTouches;if(!b)return;r.preventDefault();const[w,I]=b,D=Xf(m,l,w),Z=Xf(m,l,I);if(!D||!Z)return;const W=this._aroundCenter?null:D.add(Z).div(2);return this._move([D,Z],W,r)}touchend(r,l,m){if(!this._firstTwoTouches)return;const[b,w]=this._firstTwoTouches,I=Xf(m,l,b),D=Xf(m,l,w);I&&D||(this._active&&sn(),this.reset())}touchcancel(){this.reset()}enable(r){this._enabled=!0,this._aroundCenter=!!r&&r.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Xf(p,r,l){for(let m=0;m<p.length;m++)if(p[m].identifier===l)return r[m]}function Hp(p,r){return Math.log(p/r)/Math.LN2}class Km extends jc{reset(){super.reset(),this._distance=0,this._startDistance=0}_start(r){this._startDistance=this._distance=r[0].dist(r[1])}_move(r,l){const m=this._distance;if(this._distance=r[0].dist(r[1]),this._active||!(Math.abs(Hp(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Hp(this._distance,m),pinchAround:l}}}function ty(p,r){return 180*p.angleWith(r)/Math.PI}class du extends jc{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0}_start(r){this._startVector=this._vector=r[0].sub(r[1]),this._minDiameter=r[0].dist(r[1])}_move(r,l){const m=this._vector;if(this._vector=r[0].sub(r[1]),m&&(this._active||!this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:ty(this._vector,m),pinchAround:l}}_isBelowThreshold(r){this._minDiameter=Math.min(this._minDiameter,r.mag());const l=25/(Math.PI*this._minDiameter)*360,m=this._startVector;if(!m)return!1;const b=ty(r,m);return Math.abs(b)<l}}function Up(p){return Math.abs(p.y)>Math.abs(p.x)}class M0 extends jc{constructor(r){super(),this._map=r}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0}_start(r){this._lastPoints=r,Up(r[0].sub(r[1]))&&(this._valid=!1)}_move(r,l,m){const b=this._lastPoints;if(!b)return;const w=r[0].sub(b[0]),I=r[1].sub(b[1]);return this._map._cooperativeGestures&&!d.dz()&&m.touches.length<3||(this._valid=this.gestureBeginsVertically(w,I,m.timeStamp),!this._valid)?void 0:(this._lastPoints=r,this._active=!0,{pitchDelta:(w.y+I.y)/2*-.5})}gestureBeginsVertically(r,l,m){if(this._valid!==void 0)return this._valid;const b=r.mag()>=2,w=l.mag()>=2;if(!b&&!w)return;if(!b||!w)return this._firstMove==null&&(this._firstMove=m),m-this._firstMove<100&&void 0;const I=r.y>0==l.y>0;return Up(r)&&Up(l)&&I}}const Ym={panStep:100,bearingStep:15,pitchStep:10};class gf{constructor(){const r=Ym;this._panStep=r.panStep,this._bearingStep=r.bearingStep,this._pitchStep=r.pitchStep,this._rotationDisabled=!1}blur(){this.reset()}reset(){this._active=!1}keydown(r){if(r.altKey||r.ctrlKey||r.metaKey)return;let l=0,m=0,b=0,w=0,I=0;switch(r.keyCode){case 61:case 107:case 171:case 187:l=1;break;case 189:case 109:case 173:l=-1;break;case 37:r.shiftKey?m=-1:(r.preventDefault(),w=-1);break;case 39:r.shiftKey?m=1:(r.preventDefault(),w=1);break;case 38:r.shiftKey?b=1:(r.preventDefault(),I=-1);break;case 40:r.shiftKey?b=-1:(r.preventDefault(),I=1);break;default:return}return this._rotationDisabled&&(m=0,b=0),{cameraAnimation:D=>{const Z=D.getZoom();D.easeTo({duration:300,easeId:"keyboardHandler",easing:Sd,zoom:l?Math.round(Z)+l*(r.shiftKey?2:1):Z,bearing:D.getBearing()+m*this._bearingStep,pitch:D.getPitch()+b*this._pitchStep,offset:[-w*this._panStep,-I*this._panStep],center:D.getCenter()},{originalEvent:r})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Sd(p){return p*(2-p)}const Ed=4.000244140625,Iu=1/450;class eu{constructor(r,l){this._map=r,this._el=r.getCanvasContainer(),this._handler=l,this._delta=0,this._lastDelta=0,this._defaultZoomRate=.01,this._wheelZoomRate=Iu,d.aP(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert"],this)}setZoomRate(r){this._defaultZoomRate=r}setWheelZoomRate(r){this._wheelZoomRate=r}isEnabled(){return!!this._enabled}isActive(){return this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(r){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!r&&r.around==="center",this._map._cooperativeGestures&&this._addScrollZoomBlocker())}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}wheel(r){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(r.ctrlKey||r.metaKey||this.isZooming()||d.dz()))return void this._showBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}let l=r.deltaMode===WheelEvent.DOM_DELTA_LINE?40*r.deltaY:r.deltaY;const m=d.q.now(),b=m-(this._lastWheelEventTime||0);this._lastWheelEventTime=m,l!==0&&l%Ed==0?this._type="wheel":l!==0&&Math.abs(l)<4?this._type="trackpad":b>400?(this._type=null,this._lastValue=l,this._timeout=window.setTimeout(this._onTimeout,40,r)):this._type||(this._type=Math.abs(b*l)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,l+=this._lastValue)),r.shiftKey&&l&&(l/=4),this._type&&(this._lastWheelEvent=r,this._delta-=l,this._active||this._start(r)),r.preventDefault()}_onTimeout(r){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(r)}_start(r){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const l=Xt(this._el,r);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:l,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const r=this._map.transform;this._type==="wheel"&&r.projection.wrap&&(r._center.lng>=180||r._center.lng<=-180)&&(this._prevEase=null,this._easing=null,this._lastWheelEvent=null,this._lastWheelEventTime=0);const l=()=>r._terrainEnabled()&&this._aroundCoord?r.computeZoomRelativeTo(this._aroundCoord):r.zoom;if(this._delta!==0){const W=this._type==="wheel"&&Math.abs(this._delta)>Ed?this._wheelZoomRate:this._defaultZoomRate;let G=2/(1+Math.exp(-Math.abs(this._delta*W)));this._delta<0&&G!==0&&(G=1/G);const te=l(),ne=Math.pow(2,te),ce=typeof this._targetZoom=="number"?r.zoomScale(this._targetZoom):ne;this._targetZoom=Math.min(r.maxZoom,Math.max(r.minZoom,r.scaleZoom(ce*G))),this._type==="wheel"&&(this._startZoom=te,this._easing=this._smoothOutEasing(200)),this._lastDelta=this._delta,this._delta=0}const m=typeof this._targetZoom=="number"?this._targetZoom:l(),b=this._startZoom,w=this._easing;let I,D=!1;if(this._type==="wheel"&&b&&w){const W=Math.min((d.q.now()-this._lastWheelEventTime)/200,1),G=w(W);I=d.af(b,m,G),W<1?this._frameId||(this._frameId=!0):D=!0}else I=m,D=!0;this._active=!0,D&&(this._active=!1,this._finishTimeout=window.setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200));let Z=I-l();return Z*this._lastDelta<0&&(Z=0),{noInertia:!0,needsRenderFrame:!D,zoomDelta:Z,around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(r){let l=d.dA;if(this._prevEase){const m=this._prevEase,b=(d.q.now()-m.start)/m.duration,w=m.easing(b+.01)-m.easing(b),I=.27/Math.sqrt(w*w+1e-4)*.01,D=Math.sqrt(.0729-I*I);l=d.dy(I,D,.25,1)}return this._prevEase={start:d.q.now(),duration:r,easing:l},l}blur(){this.reset()}reset(){this._active=!1}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=qt("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=window.setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.removeAttribute("role")},200)}}class Ju{constructor(r,l){this._clickZoom=r,this._tapZoom=l}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class vf{constructor(){this.reset()}reset(){this._active=!1}blur(){this.reset()}dblclick(r,l){return r.preventDefault(),{cameraAnimation:m=>{m.easeTo({duration:300,zoom:m.getZoom()+(r.shiftKey?-1:1),around:m.unproject(l)},{originalEvent:r})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Ac{constructor(){this._tap=new qm({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset()}touchstart(r,l,m){this._swipePoint||(this._tapTime&&r.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?m.length>0&&(this._swipePoint=l[0],this._swipeTouch=m[0].identifier):this._tap.touchstart(r,l,m))}touchmove(r,l,m){if(this._tapTime){if(this._swipePoint){if(m[0].identifier!==this._swipeTouch)return;const b=l[0],w=b.y-this._swipePoint.y;return this._swipePoint=b,r.preventDefault(),this._active=!0,{zoomDelta:w/128}}}else this._tap.touchmove(r,l,m)}touchend(r,l,m){this._tapTime?this._swipePoint&&m.length===0&&this.reset():this._tap.touchend(r,l,m)&&(this._tapTime=r.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class ny{constructor(r,l,m){this._el=r,this._mousePan=l,this._touchPan=m}enable(r){this._inertiaOptions=r||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class ry{constructor(r,l,m){this._pitchWithRotate=r.pitchWithRotate,this._mouseRotate=l,this._mousePitch=m}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class iy{constructor(r,l,m,b){this._el=r,this._touchZoom=l,this._touchRotate=m,this._tapDragZoom=b,this._rotationDisabled=!1,this._enabled=!0}enable(r){this._touchZoom.enable(r),this._rotationDisabled||this._touchRotate.enable(r),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const Yh=p=>p.zoom||p.drag||p.pitch||p.rotate;class P0 extends d.z{}class wc{constructor(){this.constants=[1,1,.01],this.radius=0}setup(r,l){const m=d.ab.vec3.sub([],l,r);this.radius=d.ab.vec3.length(m[2]<0?d.ab.vec3.div([],m,this.constants):[m[0],m[1],0])}projectRay(r){d.ab.vec3.div(r,r,this.constants),d.ab.vec3.normalize(r,r),d.ab.vec3.mul(r,r,this.constants);const l=d.ab.vec3.scale([],r,this.radius);if(l[2]>0){const m=d.ab.vec3.scale([],[0,0,1],d.ab.vec3.dot(l,[0,0,1])),b=d.ab.vec3.scale([],d.ab.vec3.normalize([],[l[0],l[1],0]),this.radius),w=d.ab.vec3.add([],l,d.ab.vec3.scale([],d.ab.vec3.sub([],d.ab.vec3.add([],b,m),l),2));l[0]=w[0],l[1]=w[1]}return l}}function yf(p){return p.panDelta&&p.panDelta.mag()||p.zoomDelta||p.bearingDelta||p.pitchDelta}class oy{constructor(r,l){this._map=r,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new S0(r),this._bearingSnap=l.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new wc,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(l),d.aP(["handleEvent","handleWindowEvent"],this);const m=this._el;this._listeners=[[m,"touchstart",{passive:!0}],[m,"touchmove",{passive:!1}],[m,"touchend",void 0],[m,"touchcancel",void 0],[m,"mousedown",void 0],[m,"mousemove",void 0],[m,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[m,"mouseover",void 0],[m,"mouseout",void 0],[m,"dblclick",void 0],[m,"click",void 0],[m,"keydown",{capture:!1}],[m,"keyup",void 0],[m,"wheel",{passive:!1}],[m,"contextmenu",void 0],[window,"blur",void 0]];for(const[b,w,I]of this._listeners){const D=b===document?this.handleWindowEvent:this.handleEvent;b.addEventListener(w,D,I)}}destroy(){for(const[r,l,m]of this._listeners){const b=r===document?this.handleWindowEvent:this.handleEvent;r.removeEventListener(l,b,m)}}_addDefaultHandlers(r){const l=this._map,m=l.getCanvasContainer();this._add("mapEvent",new Qv(l,r));const b=l.boxZoom=new fl(l,r);this._add("boxZoom",b);const w=new mf,I=new vf;l.doubleClickZoom=new Ju(I,w),this._add("tapZoom",w),this._add("clickZoom",I);const D=new Ac;this._add("tapDragZoom",D);const Z=l.touchPitch=new M0(l);this._add("touchPitch",Z);const W=new Eu(r),G=new Kh(r);l.dragRotate=new ry(r,W,G),this._add("mouseRotate",W,["mousePitch"]),this._add("mousePitch",G,["mouseRotate"]);const te=new qh(r),ne=new bl(l,r);l.dragPan=new ny(m,te,ne),this._add("mousePan",te),this._add("touchPan",ne,["touchZoom","touchRotate"]);const ce=new du,Te=new Km;l.touchZoomRotate=new iy(m,Te,ce,D),this._add("touchRotate",ce,["touchPan","touchZoom"]),this._add("touchZoom",Te,["touchPan","touchRotate"]),this._add("blockableMapEvent",new ey(l));const we=l.scrollZoom=new eu(l,this);this._add("scrollZoom",we,["mousePan"]);const Re=l.keyboard=new gf;this._add("keyboard",Re);for(const Oe of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])r.interactive&&r[Oe]&&l[Oe].enable(r[Oe])}_add(r,l,m){this._handlers.push({handlerName:r,handler:l,allowed:m}),this._handlersById[r]=l}stop(r){if(!this._updatingCamera){for(const{handler:l}of this._handlers)l.reset();this._inertia.clear(),this._fireEvents({},{},r),this._changes=[],this._originalZoom=void 0}}isActive(){for(const{handler:r}of this._handlers)if(r.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Yh(this._eventsInProgress)||this.isZooming()}_isDragging(){return!!this._eventsInProgress.drag}_blockedByActive(r,l,m){for(const b in r)if(b!==m&&(!l||l.indexOf(b)<0))return!0;return!1}handleWindowEvent(r){this.handleEvent(r,`${r.type}Window`)}_getMapTouches(r){const l=[];for(const m of r)this._el.contains(m.target)&&l.push(m);return l}handleEvent(r,l){this._updatingCamera=!0;const m=r.type==="renderFrame",b=m?void 0:r,w={needsRenderFrame:!1},I={},D={},Z=r.touches?this._getMapTouches(r.touches):void 0,W=Z?_n(this._el,Z):m?void 0:Xt(this._el,r);for(const{handlerName:ne,handler:ce,allowed:Te}of this._handlers){if(!ce.isEnabled())continue;let we;this._blockedByActive(D,Te,ne)?ce.reset():ce[l||r.type]&&(we=ce[l||r.type](r,W,Z),this.mergeHandlerResult(w,I,we,ne,b),we&&we.needsRenderFrame&&this._triggerRenderFrame()),(we||ce.isActive())&&(D[ne]=ce)}const G={};for(const ne in this._previousActiveHandlers)D[ne]||(G[ne]=b);this._previousActiveHandlers=D,(Object.keys(G).length||yf(w))&&(this._changes.push([w,I,G]),this._triggerRenderFrame()),(Object.keys(D).length||yf(w))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:te}=w;te&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],te(this._map))}mergeHandlerResult(r,l,m,b,w){if(!m)return;d.l(r,m);const I={handlerName:b,originalEvent:m.originalEvent||w};m.zoomDelta!==void 0&&(l.zoom=I),m.panDelta!==void 0&&(l.drag=I),m.pitchDelta!==void 0&&(l.pitch=I),m.bearingDelta!==void 0&&(l.rotate=I)}_applyChanges(){const r={},l={},m={};for(const[b,w,I]of this._changes)b.panDelta&&(r.panDelta=(r.panDelta||new d.P(0,0))._add(b.panDelta)),b.zoomDelta&&(r.zoomDelta=(r.zoomDelta||0)+b.zoomDelta),b.bearingDelta&&(r.bearingDelta=(r.bearingDelta||0)+b.bearingDelta),b.pitchDelta&&(r.pitchDelta=(r.pitchDelta||0)+b.pitchDelta),b.around!==void 0&&(r.around=b.around),b.aroundCoord!==void 0&&(r.aroundCoord=b.aroundCoord),b.pinchAround!==void 0&&(r.pinchAround=b.pinchAround),b.noInertia&&(r.noInertia=b.noInertia),d.l(l,w),d.l(m,I);this._updateMapTransform(r,l,m),this._changes=[]}_updateMapTransform(r,l,m){const b=this._map,w=b.transform,I=Ge=>[Ge.x,Ge.y,Ge.z];if((Ge=>{const dt=this._eventsInProgress.drag;return dt&&!this._handlersById[dt.handlerName].isActive()})()&&!yf(r)){const Ge=w.zoom;w.cameraElevationReference="sea",this._originalZoom!=null&&w._orthographicProjectionAtLowPitch&&w.projection.name!=="globe"&&w.pitch===0?(w.cameraElevationReference="ground",w.zoom=this._originalZoom):(w.recenterOnTerrain(),w.cameraElevationReference="ground"),Ge!==w.zoom&&this._map._update(!0)}if(w._isCameraConstrained&&b._stop(!0),!yf(r))return void this._fireEvents(l,m,!0);let{panDelta:D,zoomDelta:Z,bearingDelta:W,pitchDelta:G,around:te,aroundCoord:ne,pinchAround:ce}=r;w._isCameraConstrained&&(Z>0&&(Z=0),w._isCameraConstrained=!1),ce!==void 0&&(te=ce),(Z||(Ge=>l[Ge]&&!this._eventsInProgress[Ge])("drag"))&&te&&(this._dragOrigin=I(w.pointCoordinate3D(te)),this._originalZoom=w.zoom,this._trackingEllipsoid.setup(w._camera.position,this._dragOrigin)),w.cameraElevationReference="sea",b._stop(!0),te=te||b.transform.centerPoint,W&&(w.bearing+=W),G&&(w.pitch+=G),w._updateCameraState();const Te=[0,0,0];if(D)if(w.projection.name==="mercator"){const Ge=this._trackingEllipsoid.projectRay(w.screenPointToMercatorRay(te).dir),dt=this._trackingEllipsoid.projectRay(w.screenPointToMercatorRay(te.sub(D)).dir);Te[0]=dt[0]-Ge[0],Te[1]=dt[1]-Ge[1]}else{const Ge=w.pointCoordinate(te);if(w.projection.name==="globe"){D=D.rotate(-w.angle);const dt=w._pixelsPerMercatorPixel/w.worldSize;Te[0]=-D.x*d.dB(d.aS(Ge.y))*dt,Te[1]=-D.y*d.dB(w.center.lat)*dt}else{const dt=w.pointCoordinate(te.sub(D));Ge&&dt&&(Te[0]=dt.x-Ge.x,Te[1]=dt.y-Ge.y)}}const we=w.zoom,Re=[0,0,0];if(Z){const Ge=I(ne||w.pointCoordinate3D(te)),dt={dir:d.ab.vec3.normalize([],d.ab.vec3.sub([],Ge,w._camera.position))};if(dt.dir[2]<0){const st=w.zoomDeltaToMovement(Ge,Z);d.ab.vec3.scale(Re,dt.dir,st)}}const Oe=d.ab.vec3.add(Te,Te,Re);w._translateCameraConstrained(Oe),Z&&Math.abs(w.zoom-we)>1e-4&&w.recenterOnTerrain(),w.cameraElevationReference="ground",this._map._update(),r.noInertia||this._inertia.record(r),this._fireEvents(l,m,!0)}_fireEvents(r,l,m){const b=Yh(this._eventsInProgress),w=Yh(r),I={};for(const G in r){const{originalEvent:te}=r[G];this._eventsInProgress[G]||(I[`${G}start`]=te),this._eventsInProgress[G]=r[G]}!b&&w&&this._fireEvent("movestart",w.originalEvent);for(const G in I)this._fireEvent(G,I[G]);w&&this._fireEvent("move",w.originalEvent);for(const G in r){const{originalEvent:te}=r[G];this._fireEvent(G,te)}const D={};let Z;for(const G in this._eventsInProgress){const{handlerName:te,originalEvent:ne}=this._eventsInProgress[G];this._handlersById[te].isActive()||(delete this._eventsInProgress[G],Z=l[te]||ne,D[`${G}end`]=Z)}for(const G in D)this._fireEvent(G,D[G]);const W=Yh(this._eventsInProgress);if(m&&(b||w)&&!W){this._updatingCamera=!0;const G=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),te=ne=>ne!==0&&-this._bearingSnap<ne&&ne<this._bearingSnap;G?(te(G.bearing||this._map.getBearing())&&(G.bearing=0),this._map.easeTo(G,{originalEvent:Z})):(this._map.fire(new d.z("moveend",{originalEvent:Z})),te(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(r,l){this._map.fire(new d.z(r,l?{originalEvent:l}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(r=>{this._frameId=void 0,this.handleEvent(new P0("renderFrame",{timeStamp:r})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}const O0="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.";class qf extends d.E{constructor(r,l){super(),this._moving=!1,this._zooming=!1,this.transform=r,this._bearingSnap=l.bearingSnap,this._respectPrefersReducedMotion=l.respectPrefersReducedMotion!==!1,d.aP(["_renderFrameCallback"],this)}getCenter(){return new d.bO(this.transform.center.lng,this.transform.center.lat)}setCenter(r,l){return this.jumpTo({center:r},l)}panBy(r,l,m){return r=d.P.convert(r).mult(-1),this.panTo(this.transform.center,d.l({offset:r},l),m)}panTo(r,l,m){return this.easeTo(d.l({center:r},l),m)}getZoom(){return this.transform.zoom}setZoom(r,l){return this.jumpTo({zoom:r},l),this}zoomTo(r,l,m){return this.easeTo(d.l({zoom:r},l),m)}zoomIn(r,l){return this.zoomTo(this.getZoom()+1,r,l),this}zoomOut(r,l){return this.zoomTo(this.getZoom()-1,r,l),this}getBearing(){return this.transform.bearing}setBearing(r,l){return this.jumpTo({bearing:r},l),this}getPadding(){return this.transform.padding}setPadding(r,l){return this.jumpTo({padding:r},l),this}rotateTo(r,l,m){return this.easeTo(d.l({bearing:r},l),m)}resetNorth(r,l){return this.rotateTo(0,d.l({duration:1e3},r),l),this}resetNorthPitch(r,l){return this.easeTo(d.l({bearing:0,pitch:0,duration:1e3},r),l),this}snapToNorth(r,l){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(r,l):this}getPitch(){return this.transform.pitch}setPitch(r,l){return this.jumpTo({pitch:r},l),this}cameraForBounds(r,l){r=d.az.convert(r);const m=l&&l.bearing||0,b=l&&l.pitch||0,w=r.getNorthWest(),I=r.getSouthEast();return this._cameraForBounds(this.transform,w,I,m,b,l)}_extendPadding(r){const l={top:0,right:0,bottom:0,left:0};return r==null?d.l({},l,this.transform.padding):typeof r=="number"?{top:r,bottom:r,right:r,left:r}:d.l({},l,r)}_extendCameraOptions(r){return(r=d.l({offset:[0,0],maxZoom:this.transform.maxZoom},r)).padding=this._extendPadding(r.padding),r}_minimumAABBFrustumDistance(r,l){const m=l.max[0]-l.min[0],b=l.max[1]-l.min[1];return m/b>r.aspect?m/(2*Math.tan(.5*r.fovX)*r.aspect):b/(2*Math.tan(.5*r.fovY)*r.aspect)}_cameraForBoundsOnGlobe(r,l,m,b,w,I){const D=r.clone(),Z=this._extendCameraOptions(I);D.bearing=b,D.pitch=w;const W=d.bO.convert(l),G=d.bO.convert(m),te=.5*(W.lat+G.lat),ne=.5*(W.lng+G.lng),ce=d.dC(te,ne),Te=d.ab.vec3.normalize([],ce),we=d.ab.vec3.normalize([],d.ab.vec3.cross([],Te,[0,1,0])),Re=d.ab.vec3.cross([],we,Te),Oe=[we[0],we[1],we[2],0,Re[0],Re[1],Re[2],0,Te[0],Te[1],Te[2],0,0,0,0,1],Ge=[ce,d.dC(W.lat,W.lng),d.dC(G.lat,W.lng),d.dC(G.lat,G.lng),d.dC(W.lat,G.lng),d.dC(te,W.lng),d.dC(te,G.lng),d.dC(W.lat,ne),d.dC(G.lat,ne)];let dt=d.cd.fromPoints(Ge.map(Mn=>[d.ab.vec3.dot(we,Mn),d.ab.vec3.dot(Re,Mn),d.ab.vec3.dot(Te,Mn)]));const st=d.ab.vec3.transformMat4([],dt.center,Oe);d.ab.vec3.squaredLength(st)===0&&d.ab.vec3.set(st,0,0,1),d.ab.vec3.normalize(st,st),d.ab.vec3.scale(st,st,d.ax),D.center=d.dD(st);const bt=D.getWorldToCameraMatrix(),pt=d.ab.mat4.invert(new Float64Array(16),bt);dt=d.cd.applyTransform(dt,d.ab.mat4.multiply([],bt,Oe));const gt=this._extendAABB(dt,D,Z,b);if(!gt)return void d.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.");dt=gt,d.ab.vec3.transformMat4(st,st,bt);const ft=.5*(dt.max[2]-dt.min[2]),yt=this._minimumAABBFrustumDistance(D,dt),Bt=d.ab.vec3.scale([],[0,0,1],ft),In=d.ab.vec3.add(Bt,st,Bt),pn=yt+(D.pitch===0?0:d.ab.vec3.distance(st,In)),Hn=D.globeCenterInViewSpace,Zn=d.ab.vec3.sub([],st,[Hn[0],Hn[1],Hn[2]]);d.ab.vec3.normalize(Zn,Zn),d.ab.vec3.scale(Zn,Zn,pn);const rn=d.ab.vec3.add([],st,Zn);d.ab.vec3.transformMat4(rn,rn,pt);const $n=d.ds/d.ax,hr=d.ab.vec3.length(rn),nn=d.bH(Math.max(hr*$n-d.ds,Number.EPSILON),0),Xn=Math.min(D.zoomFromMercatorZAdjusted(nn),Z.maxZoom);return Xn>.5*(d.c6+d.bY)?(D.setProjection({name:"mercator"}),D.zoom=Xn,this._cameraForBounds(D,l,m,b,w,I)):{center:D.center,zoom:Xn,bearing:b,pitch:w}}_extendAABB(r,l,m,b){const w=.5*((m.padding.left||0)+(m.padding.right||0)),I=.5*((m.padding.top||0)+(m.padding.bottom||0)),D=I,Z=w,W=w,G=I,te=l.width-(Z+W),ne=l.height-(D+G),ce=d.ab.vec3.sub([],r.max,r.min),Te=Math.min(te/ce[0],ne/ce[1]),we=Math.min(l.scaleZoom(l.scale*Te),m.maxZoom);if(isNaN(we))return null;const Re=l.scale/l.zoomScale(we),Oe=new d.cd([r.min[0]-Z*Re,r.min[1]-G*Re,r.min[2]],[r.max[0]+W*Re,r.max[1]+D*Re,r.max[2]]),Ge=(typeof m.offset.x=="number"&&typeof m.offset.y=="number"?new d.P(m.offset.x,m.offset.y):d.P.convert(m.offset)).rotate(-d.ai(b));return Oe.center[0]-=Ge.x*Re,Oe.center[1]+=Ge.y*Re,Oe}queryTerrainElevation(r,l){const m=this.transform.elevation;return m?(l=d.l({},{exaggerated:!0},l),m.getAtPoint(d.aa.fromLngLat(r),null,l.exaggerated)):null}_cameraForBounds(r,l,m,b,w,I){if(r.projection.name==="globe")return this._cameraForBoundsOnGlobe(r,l,m,b,w,I);const D=r.clone(),Z=this._extendCameraOptions(I);D.bearing=b,D.pitch=w;const W=d.bO.convert(l),G=d.bO.convert(m),te=new d.bO(W.lng,G.lat),ne=new d.bO(G.lng,W.lat),ce=D.project(W),Te=D.project(G),we=this.queryTerrainElevation(W),Re=this.queryTerrainElevation(G),Oe=this.queryTerrainElevation(te),Ge=this.queryTerrainElevation(ne),dt=[[ce.x,ce.y,Math.min(we||0,Re||0,Oe||0,Ge||0)],[Te.x,Te.y,Math.max(we||0,Re||0,Oe||0,Ge||0)]];let st=d.cd.fromPoints(dt);const bt=D.getWorldToCameraMatrix(),pt=d.ab.mat4.invert(new Float64Array(16),bt);st=d.cd.applyTransform(st,bt);const gt=this._extendAABB(st,D,Z,b);if(!gt)return void d.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.");st=gt;const ft=.5*d.ab.vec3.sub([],st.max,st.min)[2],yt=this._minimumAABBFrustumDistance(D,st),Bt=[0,0,1,0];d.ab.vec4.transformMat4(Bt,Bt,bt),d.ab.vec4.normalize(Bt,Bt);const In=d.ab.vec3.scale([],Bt,yt+ft),pn=d.ab.vec3.add([],st.center,In);d.ab.vec3.transformMat4(st.center,st.center,pt),d.ab.vec3.transformMat4(pn,pn,pt);const Hn=D.unproject(new d.P(st.center[0],st.center[1])),Zn=d.dE(D.projection,Hn),rn=Math.pow(2,Zn),$n=Math.min(D._zoomFromMercatorZ(pn[2]*D.pixelsPerMeter*rn/D.worldSize),Z.maxZoom);return D.mercatorFromTransition&&$n<.5*(d.c6+d.bY)?(D.setProjection({name:"globe"}),D.zoom=$n,this._cameraForBounds(D,l,m,b,w,I)):{center:Hn,zoom:$n,bearing:b,pitch:w}}fitBounds(r,l,m){const b=this.cameraForBounds(r,l);return this._fitInternal(b,l,m)}fitScreenCoordinates(r,l,m,b,w){const I=d.P.convert(r),D=d.P.convert(l),Z=new d.P(Math.min(I.x,D.x),Math.min(I.y,D.y)),W=new d.P(Math.max(I.x,D.x),Math.max(I.y,D.y));if(this.transform.projection.name==="mercator"&&this.transform.anyCornerOffEdge(I,D))return this;const G=this.transform.pointLocation3D(Z),te=this.transform.pointLocation3D(W),ne=this.transform.pointLocation3D(new d.P(Z.x,W.y)),ce=this.transform.pointLocation3D(new d.P(W.x,Z.y)),Te=[Math.min(G.lng,te.lng,ne.lng,ce.lng),Math.min(G.lat,te.lat,ne.lat,ce.lat)],we=[Math.max(G.lng,te.lng,ne.lng,ce.lng),Math.max(G.lat,te.lat,ne.lat,ce.lat)],Re=b&&b.pitch?b.pitch:this.getPitch(),Oe=this._cameraForBounds(this.transform,Te,we,m,Re,b);return this._fitInternal(Oe,b,w)}_fitInternal(r,l,m){return r?(l=d.l(r,l)).linear?this.easeTo(l,m):this.flyTo(l,m):this}jumpTo(r,l){this.stop();const m=r.preloadOnly?this.transform.clone():this.transform;let b=!1,w=!1,I=!1;"zoom"in r&&m.zoom!==+r.zoom&&(b=!0,m.zoom=+r.zoom),r.center!==void 0&&(m.center=d.bO.convert(r.center)),"bearing"in r&&m.bearing!==+r.bearing&&(w=!0,m.bearing=+r.bearing),"pitch"in r&&m.pitch!==+r.pitch&&(I=!0,m.pitch=+r.pitch);const D=typeof r.padding=="number"?this._extendPadding(r.padding):r.padding;if(r.padding!=null&&!m.isPaddingEqual(D))if(r.retainPadding===!1){const Z=m.clone();Z.padding=D,m.setLocationAtPoint(m.center,Z.centerPoint)}else m.padding=D;return r.preloadOnly?(this._preloadTiles(m),this):(this.fire(new d.z("movestart",l)).fire(new d.z("move",l)),b&&this.fire(new d.z("zoomstart",l)).fire(new d.z("zoom",l)).fire(new d.z("zoomend",l)),w&&this.fire(new d.z("rotatestart",l)).fire(new d.z("rotate",l)).fire(new d.z("rotateend",l)),I&&this.fire(new d.z("pitchstart",l)).fire(new d.z("pitch",l)).fire(new d.z("pitchend",l)),this.fire(new d.z("moveend",l)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||d.w(O0),this.transform.getFreeCameraOptions()}setFreeCameraOptions(r,l){const m=this.transform;if(!m.projection.supportsFreeCamera)return d.w(O0),this;this.stop();const b=m.zoom,w=m.pitch,I=m.bearing;m.setFreeCameraOptions(r);const D=b!==m.zoom,Z=w!==m.pitch,W=I!==m.bearing;return this.fire(new d.z("movestart",l)).fire(new d.z("move",l)),D&&this.fire(new d.z("zoomstart",l)).fire(new d.z("zoom",l)).fire(new d.z("zoomend",l)),W&&this.fire(new d.z("rotatestart",l)).fire(new d.z("rotate",l)).fire(new d.z("rotateend",l)),Z&&this.fire(new d.z("pitchstart",l)).fire(new d.z("pitch",l)).fire(new d.z("pitchend",l)),this.fire(new d.z("moveend",l)),this}easeTo(r,l){this._stop(!1,r.easeId),((r=d.l({offset:[0,0],duration:500,easing:d.dA},r)).animate===!1||this._prefersReducedMotion(r))&&(r.duration=0);const m=this.transform,b=this.getZoom(),w=this.getBearing(),I=this.getPitch(),D=this.getPadding(),Z="zoom"in r?+r.zoom:b,W="bearing"in r?this._normalizeBearing(r.bearing,w):w,G="pitch"in r?+r.pitch:I,te=this._extendPadding(r.padding),ne=d.P.convert(r.offset);let ce,Te,we;if(m.projection.name==="globe"){const Bt=d.aa.fromLngLat(m.center),In=ne.rotate(-m.angle);Bt.x+=In.x/m.worldSize,Bt.y+=In.y/m.worldSize;const pn=Bt.toLngLat(),Hn=d.bO.convert(r.center||pn);this._normalizeCenter(Hn),ce=m.centerPoint.add(In),Te=new d.P(Bt.x,Bt.y).mult(m.worldSize),we=new d.P(d.at(Hn.lng),d.aA(Hn.lat)).mult(m.worldSize).sub(Te)}else{ce=m.centerPoint.add(ne);const Bt=m.pointLocation(ce),In=d.bO.convert(r.center||Bt);this._normalizeCenter(In),Te=m.project(Bt),we=m.project(In).sub(Te)}const Re=m.zoomScale(Z-b);let Oe,Ge;r.around&&(Oe=d.bO.convert(r.around),Ge=m.locationPoint(Oe));const dt=this._zooming||Z!==b,st=this._rotating||w!==W,bt=this._pitching||G!==I,pt=!m.isPaddingEqual(te),gt=r.retainPadding===!1?m.clone():m,ft=Bt=>In=>{if(dt&&(Bt.zoom=d.af(b,Z,In)),st&&(Bt.bearing=d.af(w,W,In)),bt&&(Bt.pitch=d.af(I,G,In)),pt&&(gt.interpolatePadding(D,te,In),ce=gt.centerPoint.add(ne)),Oe)Bt.setLocationAtPoint(Oe,Ge);else{const pn=Bt.zoomScale(Bt.zoom-b),Hn=Z>b?Math.min(2,Re):Math.max(.5,Re),Zn=Math.pow(Hn,1-In),rn=Bt.unproject(Te.add(we.mult(In*Zn)).mult(pn));Bt.setLocationAtPoint(Bt.renderWorldCopies?rn.wrap():rn,ce)}return r.preloadOnly||this._fireMoveEvents(l),Bt};if(r.preloadOnly){const Bt=this._emulate(ft,r.duration,m);return this._preloadTiles(Bt),this}const yt={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=dt,this._rotating=st,this._pitching=bt,this._padding=pt,this._easeId=r.easeId,this._prepareEase(l,r.noMoveStart,yt),this._ease(ft(m),Bt=>{m.cameraElevationReference==="sea"&&m.recenterOnTerrain(),this._afterEase(l,Bt)},r),this}_prepareEase(r,l,m={}){this._moving=!0,this.transform.cameraElevationReference="sea",this.transform._orthographicProjectionAtLowPitch&&this.transform.pitch===0&&this.transform.projection.name!=="globe"&&(this.transform.cameraElevationReference="ground"),l||m.moving||this.fire(new d.z("movestart",r)),this._zooming&&!m.zooming&&this.fire(new d.z("zoomstart",r)),this._rotating&&!m.rotating&&this.fire(new d.z("rotatestart",r)),this._pitching&&!m.pitching&&this.fire(new d.z("pitchstart",r))}_fireMoveEvents(r){this.fire(new d.z("move",r)),this._zooming&&this.fire(new d.z("zoom",r)),this._rotating&&this.fire(new d.z("rotate",r)),this._pitching&&this.fire(new d.z("pitch",r))}_afterEase(r,l){if(this._easeId&&l&&this._easeId===l)return;this._easeId=void 0,this.transform.cameraElevationReference="ground";const m=this._zooming,b=this._rotating,w=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,m&&this.fire(new d.z("zoomend",r)),b&&this.fire(new d.z("rotateend",r)),w&&this.fire(new d.z("pitchend",r)),this.fire(new d.z("moveend",r))}flyTo(r,l){if(this._prefersReducedMotion(r)){const Mn=d.ay(r,["center","zoom","bearing","pitch","around","padding","retainPadding"]);return this.jumpTo(Mn,l)}this.stop(),r=d.l({offset:[0,0],speed:1.2,curve:1.42,easing:d.dA},r);const m=this.transform,b=this.getZoom(),w=this.getBearing(),I=this.getPitch(),D=this.getPadding(),Z="zoom"in r?d.aw(+r.zoom,m.minZoom,m.maxZoom):b,W="bearing"in r?this._normalizeBearing(r.bearing,w):w,G="pitch"in r?+r.pitch:I,te=this._extendPadding(r.padding),ne=m.zoomScale(Z-b),ce=d.P.convert(r.offset);let Te=m.centerPoint.add(ce);const we=m.pointLocation(Te),Re=d.bO.convert(r.center||we);this._normalizeCenter(Re);const Oe=m.project(we),Ge=m.project(Re).sub(Oe);let dt=r.curve;const st=Math.max(m.width,m.height),bt=st/ne,pt=Ge.mag();if("minZoom"in r){const Mn=d.aw(Math.min(r.minZoom,b,Z),m.minZoom,m.maxZoom),Dr=st/m.zoomScale(Mn-b);dt=Math.sqrt(Dr/pt*2)}const gt=dt*dt;function ft(Mn){const Dr=(bt*bt-st*st+(Mn?-1:1)*gt*gt*pt*pt)/(2*(Mn?bt:st)*gt*pt);return Math.log(Math.sqrt(Dr*Dr+1)-Dr)}function yt(Mn){return(Math.exp(Mn)-Math.exp(-Mn))/2}function Bt(Mn){return(Math.exp(Mn)+Math.exp(-Mn))/2}const In=ft(0);let pn=function(Mn){return Bt(In)/Bt(In+dt*Mn)},Hn=function(Mn){return st*((Bt(In)*(yt(Dr=In+dt*Mn)/Bt(Dr))-yt(In))/gt)/pt;var Dr},Zn=(ft(1)-In)/dt;if(Math.abs(pt)<1e-6||!isFinite(Zn)){if(Math.abs(st-bt)<1e-6)return this.easeTo(r,l);const Mn=bt<st?-1:1;Zn=Math.abs(Math.log(bt/st))/dt,Hn=function(){return 0},pn=function(Dr){return Math.exp(Mn*dt*Dr)}}r.duration="duration"in r?+r.duration:1e3*Zn/("screenSpeed"in r?+r.screenSpeed/dt:+r.speed),r.maxDuration&&r.duration>r.maxDuration&&(r.duration=0);const rn=w!==W,$n=G!==I,hr=!m.isPaddingEqual(te),nn=r.retainPadding===!1?m.clone():m,Xn=Mn=>Dr=>{const ar=Dr*Zn,Wn=1/pn(ar);Mn.zoom=Dr===1?Z:b+Mn.scaleZoom(Wn),rn&&(Mn.bearing=d.af(w,W,Dr)),$n&&(Mn.pitch=d.af(I,G,Dr)),hr&&(nn.interpolatePadding(D,te,Dr),Te=nn.centerPoint.add(ce));const _r=Dr===1?Re:Mn.unproject(Oe.add(Ge.mult(Hn(ar))).mult(Wn));return Mn.setLocationAtPoint(Mn.renderWorldCopies?_r.wrap():_r,Te),Mn._updateCameraOnTerrain(),r.preloadOnly||this._fireMoveEvents(l),Mn};if(r.preloadOnly){const Mn=this._emulate(Xn,r.duration,m);return this._preloadTiles(Mn),this}return this._zooming=!0,this._rotating=rn,this._pitching=$n,this._padding=hr,this._prepareEase(l,!1),this._ease(Xn(m),()=>this._afterEase(l),r),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_requestRenderFrame(r){}_cancelRenderFrame(r){}_stop(r,l){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){const m=this._onEaseEnd;this._onEaseEnd=void 0,m.call(this,l)}if(!r){const m=this.handlers;m&&m.stop(!1)}return this}_ease(r,l,m){m.animate===!1||m.duration===0?(r(1),l()):(this._easeStart=d.q.now(),this._easeOptions=m,this._onEaseFrame=r,this._onEaseEnd=l,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const r=Math.min((d.q.now()-this._easeStart)/this._easeOptions.duration,1),l=this._onEaseFrame;l&&l(this._easeOptions.easing(r)),r<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(r,l){r=d.bF(r,-180,180);const m=Math.abs(r-l);return Math.abs(r-360-l)<m&&(r-=360),Math.abs(r+360-l)<m&&(r+=360),r}_normalizeCenter(r){const l=this.transform;if(l.maxBounds||l.projection.name!=="globe"&&!l.renderWorldCopies)return;const m=r.lng-l.center.lng;r.lng+=m>180?-360:m<-180?360:0}_prefersReducedMotion(r){return this._respectPrefersReducedMotion&&d.q.prefersReducedMotion&&!(r&&r.essential)}_emulate(r,l,m){const b=Math.ceil(15*l/1e3),w=[],I=r(m.clone());for(let D=0;D<=b;D++){const Z=I(D/b);w.push(Z.clone())}return w}_preloadTiles(r,l){}}class Wp{constructor(r={}){this.options=r,d.aP(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(r){const l=this.options&&this.options.compact,m=r._getUIString("AttributionControl.ToggleAttribution");this._map=r,this._container=qt("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=qt("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._compactButton.setAttribute("aria-label",m);const b=qt("span","mapboxgl-ctrl-icon",this._compactButton);return b.setAttribute("aria-hidden","true"),b.setAttribute("title",m),this._innerContainer=qt("div","mapboxgl-ctrl-attrib-inner",this._container),l&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),l===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}_updateEditLink(){let r=this._editLink;r||(r=this._editLink=this._container.querySelector(".mapbox-improve-map"));const l=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||d.e.ACCESS_TOKEN}];if(r){const m=l.reduce((b,w,I)=>(w.value&&(b+=`${w.key}=${w.value}${I<l.length-1?"&":""}`),b),"?");r.href=`${d.e.FEEDBACK_URL}/${m}#${Zp(this._map,!0)}`,r.rel="noopener nofollow"}}_updateData(r){!r||r.sourceDataType!=="metadata"&&r.sourceDataType!=="visibility"&&r.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let r=[];if(this._map.style.stylesheet){const b=this._map.style.stylesheet;this.styleOwner=b.owner,this.styleId=b.id}const l=this._map.style._mergedSourceCaches;for(const b in l){const w=l[b];if(w.used){const I=w.getSource();I.attribution&&r.indexOf(I.attribution)<0&&r.push(I.attribution)}}r.sort((b,w)=>b.length-w.length),r=r.filter((b,w)=>{for(let I=w+1;I<r.length;I++)if(r[I].indexOf(b)>=0)return!1;return!0}),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?r=[...this.options.customAttribution,...r]:r.unshift(this.options.customAttribution));const m=r.join(" | ");m!==this._attribHTML&&(this._attribHTML=m,r.length?(this._innerContainer.innerHTML=m,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class Zc{constructor(){d.aP(["_updateLogo","_updateCompact"],this)}onAdd(r){this._map=r,this._container=qt("div","mapboxgl-ctrl");const l=qt("a","mapboxgl-ctrl-logo");return l.target="_blank",l.rel="noopener nofollow",l.href="https://www.mapbox.com/",l.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),l.setAttribute("rel","noopener nofollow"),this._container.appendChild(l),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(r){r&&r.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const r=this._map.style._sourceCaches;if(Object.entries(r).length===0)return!0;for(const l in r){const m=r[l].getSource();if(m.hasOwnProperty("mapbox_logo")&&!m.mapbox_logo)return!1}return!0}_updateCompact(){const r=this._container.children;if(r.length){const l=r[0];this._map.getCanvasContainer().offsetWidth<250?l.classList.add("mapboxgl-compact"):l.classList.remove("mapboxgl-compact")}}}class Vc{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(r){const l=++this._id;return this._queue.push({callback:r,id:l,cancelled:!1}),l}remove(r){const l=this._currentlyRunning,m=l?this._queue.concat(l):this._queue;for(const b of m)if(b.id===r)return void(b.cancelled=!0)}run(r=0){const l=this._currentlyRunning=this._queue;this._queue=[];for(const m of l)if(!m.cancelled&&(m.callback(r),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}class Kf{constructor(r){this.jumpTo(r)}getValue(r){if(r<=this._startTime)return this._start;if(r>=this._endTime)return this._end;const l=d.cB((r-this._startTime)/(this._endTime-this._startTime));return this._start*(1-l)+this._end*l}isEasing(r){return r>=this._startTime&&r<=this._endTime}jumpTo(r){this._startTime=-1/0,this._endTime=-1/0,this._start=r,this._end=r}easeTo(r,l,m){this._start=this.getValue(l),this._end=r,this._startTime=l,this._endTime=l+m}}const Yf={"AttributionControl.ToggleAttribution":"Toggle attribution","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox homepage","Map.Title":"Map","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use \u2318 + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"};class _f extends d.z{constructor(r,l,m,b){const{point:w,lngLat:I,originalEvent:D,target:Z}=r;super(r.type,{point:w,lngLat:I,originalEvent:D,target:Z}),this.preventDefault=()=>{r.preventDefault()},this.id=l,this.interaction=m,this.feature=b}}class Gp{constructor(r){this.map=r,this.interactionsByType=new Map,this.delegatedInteractions=new Map,this.typeById=new Map,this.filters=new Map,this.handleType=this.handleType.bind(this),this.handleMove=this.handleMove.bind(this),this.handleOut=this.handleOut.bind(this),this.hoveredFeatures=new Map,this.prevHoveredFeatures=new Map}add(r,l){if(this.typeById.has(r))throw new Error(`Interaction id "${r}" already exists.`);const m=l.filter;let b=l.type;m&&this.filters.set(r,d.aZ(m)),b==="mouseover"&&(b="mouseenter"),b==="mouseout"&&(b="mouseleave");const w=this.interactionsByType.get(b)||new Map;b==="mouseenter"||b==="mouseleave"?(this.delegatedInteractions.size===0&&(this.map.on("mousemove",this.handleMove),this.map.on("mouseout",this.handleOut)),this.delegatedInteractions.set(r,l)):w.size===0&&this.map.on(b,this.handleType),w.size===0&&this.interactionsByType.set(b,w),w.set(r,l),this.typeById.set(r,b)}get(r){const l=this.typeById.get(r);if(!l)return;const m=this.interactionsByType.get(l);return m?m.get(r):void 0}remove(r){const l=this.typeById.get(r);if(!l)return;this.typeById.delete(r),this.filters.delete(r);const m=this.interactionsByType.get(l);m&&(m.delete(r),l==="mouseenter"||l==="mouseleave"?(this.delegatedInteractions.delete(r),this.delegatedInteractions.size===0&&(this.map.off("mousemove",this.handleMove),this.map.off("mouseout",this.handleOut))):m.size===0&&this.map.off(l,this.handleType))}queryTargets(r,l){const m=[];for(const[b,w]of l)w.target&&m.push({targetId:b,target:w.target,filter:this.filters.get(b)});return this.map.style.queryRenderedTargets(r,m,this.map.transform)}handleMove(r){this.prevHoveredFeatures=this.hoveredFeatures,this.hoveredFeatures=new Map;const l=this.queryTargets(r.point,Array.from(this.delegatedInteractions).reverse());l.length&&(r.type="mouseenter",this.handleType(r,l));const m=new Map;for(const[b,{feature:w}]of this.prevHoveredFeatures)this.hoveredFeatures.has(b)||m.set(w.id,w);m.size&&(r.type="mouseleave",this.handleType(r,Array.from(m.values())))}handleOut(r){const l=Array.from(this.hoveredFeatures.values()).map(({feature:m})=>m);l.length&&(r.type="mouseleave",this.handleType(r,l)),this.hoveredFeatures.clear()}handleType(r,l){const m=Array.from(this.interactionsByType.get(r.type)).reverse(),b=!!l;l=l||this.queryTargets(r.point,m);const w=r.type==="mouseenter";let I=!1;const D=new Set;for(const Z of l){for(const[W,G]of m){if(!G.target)continue;const te=Z.variants?Z.variants[W]:null;if(te){for(const ne of te){if(Lr(ne,Z,D,W))continue;const ce=new d.cw(Z,ne),Te=tr(ne,Z,W);b&&(ce.state=this.map.getFeatureState(ce));const we=w?this.prevHoveredFeatures.get(Te):null,Re=new _f(r,W,G,ce),Oe=we?we.stop:G.handler(Re);if(w&&this.hoveredFeatures.set(Te,{feature:Z,stop:Oe}),Oe!==!1){I=!0;break}}if(I)break}}if(I)break}if(!I)for(const[Z,W]of m){const{handler:G,target:te}=W;if(!te&&G(new _f(r,Z,W,null))!==!1)break}}}function os(p,r){if(Array.isArray(p)&&Array.isArray(r)){const l=new Set(p),m=new Set(r);return l.size===m.size&&p.every(b=>m.has(b))}return d.bn(p,r)}const Qu={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,performanceMetricsCollection:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,antialias:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,respectPrefersReducedMotion:!0,crossSourceCollisions:!0,collectResourceTiming:!1,testMode:!1,precompilePrograms:!0,scaleFactor:1,spriteFormat:"auto"},$0={showCompass:!0,showZoom:!0,visualizePitch:!1};class R0{constructor(r,l,m=!1){this._clickTolerance=10,this.element=l,this.mouseRotate=new Eu({clickTolerance:r.dragRotate._mouseRotate._clickTolerance}),this.map=r,m&&(this.mousePitch=new Kh({clickTolerance:r.dragRotate._mousePitch._clickTolerance})),d.aP(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),l.addEventListener("mousedown",this.mousedown),l.addEventListener("touchstart",this.touchstart,{passive:!1}),l.addEventListener("touchmove",this.touchmove),l.addEventListener("touchend",this.touchend),l.addEventListener("touchcancel",this.reset)}down(r,l){this.mouseRotate.mousedown(r,l),this.mousePitch&&this.mousePitch.mousedown(r,l),Zt()}move(r,l){const m=this.map,b=this.mouseRotate.mousemoveWindow(r,l),w=b&&b.bearingDelta;if(w&&m.setBearing(m.getBearing()+w),this.mousePitch){const I=this.mousePitch.mousemoveWindow(r,l),D=I&&I.pitchDelta;D&&m.setPitch(m.getPitch()+D)}}off(){const r=this.element;r.removeEventListener("mousedown",this.mousedown),r.removeEventListener("touchstart",this.touchstart,{passive:!1}),r.removeEventListener("touchmove",this.touchmove),r.removeEventListener("touchend",this.touchend),r.removeEventListener("touchcancel",this.reset),this.offTemp()}offTemp(){Qt(),window.removeEventListener("mousemove",this.mousemove),window.removeEventListener("mouseup",this.mouseup)}mousedown(r){this.down(d.l({},r,{ctrlKey:!0,preventDefault:()=>r.preventDefault()}),Xt(this.element,r)),window.addEventListener("mousemove",this.mousemove),window.addEventListener("mouseup",this.mouseup)}mousemove(r){this.move(r,Xt(this.element,r))}mouseup(r){this.mouseRotate.mouseupWindow(r),this.mousePitch&&this.mousePitch.mouseupWindow(r),this.offTemp()}touchstart(r){r.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=_n(this.element,r.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>r.preventDefault()},this._startPos))}touchmove(r){r.targetTouches.length!==1?this.reset():(this._lastPos=_n(this.element,r.targetTouches)[0],this.move({preventDefault:()=>r.preventDefault()},this._lastPos))}touchend(r){r.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}function Xp(p,r,l){if(p=new d.bO(p.lng,p.lat),r){const m=new d.bO(p.lng-360,p.lat),b=new d.bO(p.lng+360,p.lat),w=360*Math.ceil(Math.abs(p.lng-l.center.lng)/360),I=l.locationPoint(p).distSqr(r),D=r.x<0||r.y<0||r.x>l.width||r.y>l.height;l.locationPoint(m).distSqr(r)<I&&(D||Math.abs(m.lng-l.center.lng)<w)?p=m:l.locationPoint(b).distSqr(r)<I&&(D||Math.abs(b.lng-l.center.lng)<w)&&(p=b)}for(;Math.abs(p.lng-l.center.lng)>180;){const m=l.locationPoint(p);if(m.x>=0&&m.y>=0&&m.x<=l.width&&m.y<=l.height)break;p.lng>l.center.lng?p.lng-=360:p.lng+=360}return p}const Tu={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};class Mu extends d.E{constructor(r,l){if(super(),(r instanceof HTMLElement||l)&&(r=d.l({element:r},l)),d.aP(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=r&&r.anchor||"center",this._color=r&&r.color||"#3FB1CE",this._scale=r&&r.scale||1,this._draggable=r&&r.draggable||!1,this._clickTolerance=r&&r.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=r&&r.rotation||0,this._rotationAlignment=r&&r.rotationAlignment||"auto",this._pitchAlignment=r&&r.pitchAlignment&&r.pitchAlignment||"auto",this._updateMoving=()=>this._update(!0),this._occludedOpacity=r&&r.occludedOpacity||.2,r&&r.element)this._element=r.element,this._offset=d.P.convert(r&&r.offset||[0,0]);else{this._defaultMarker=!0,this._element=qt("div");const w=41,I=27,D=mt("svg",{display:"block",height:w*this._scale+"px",width:I*this._scale+"px",viewBox:`0 0 ${I} ${w}`},this._element),Z=mt("radialGradient",{id:"shadowGradient"},mt("defs",{},D));mt("stop",{offset:"10%","stop-opacity":.4},Z),mt("stop",{offset:"100%","stop-opacity":.05},Z),mt("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},D),mt("path",{fill:this._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},D),mt("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},D),mt("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},D),this._offset=d.P.convert(r&&r.offset||[0,-14])}this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label","Map marker"),this._element.hasAttribute("role")||this._element.setAttribute("role","img"),this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",w=>{w.preventDefault()}),this._element.addEventListener("mousedown",w=>{w.preventDefault()});const m=this._element.classList;for(const w in Tu)m.remove(`mapboxgl-marker-anchor-${w}`);m.add(`mapboxgl-marker-anchor-${this._anchor}`);const b=r&&r.className?r.className.trim().split(/\s+/):[];m.add(...b),this._popup=null}addTo(r){return r===this._map||(this.remove(),this._map=r,r.getCanvasContainer().appendChild(this._element),r.on("move",this._updateMoving),r.on("moveend",this._update),r.on("remove",this._clearFadeTimer),r._addMarker(this),this.setDraggable(this._draggable),this._update(),r.on("click",this._onMapClick)),this}remove(){const r=this._map;return r&&(r.off("click",this._onMapClick),r.off("move",this._updateMoving),r.off("moveend",this._update),r.off("mousedown",this._addDragHandler),r.off("touchstart",this._addDragHandler),r.off("mouseup",this._onUp),r.off("touchend",this._onUp),r.off("mousemove",this._onMove),r.off("touchmove",this._onMove),r.off("remove",this._clearFadeTimer),r._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(r){return this._lngLat=d.bO.convert(r),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(r){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),r){if(!("offset"in r.options)){const b=Math.sqrt(Math.pow(13.5,2)/2);r.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[b,-1*(38.1-13.5+b)],"bottom-right":[-b,-1*(38.1-13.5+b)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=r,r._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}_onKeyPress(r){const l=r.code,m=r.charCode||r.keyCode;l!=="Space"&&l!=="Enter"&&m!==32&&m!==13||this.togglePopup()}_onMapClick(r){const l=r.originalEvent.target,m=this._element;this._popup&&(l===m||m.contains(l))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const r=this._popup;return r?(r.isOpen()?(r.remove(),this._element.setAttribute("aria-expanded","false")):this._map&&(r.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}_behindTerrain(){const r=this._map,l=this._pos;if(!r||!l)return!1;const m=r.unproject(l),b=r.getFreeCameraOptions();if(!b.position)return!1;const w=b.position.toLngLat();return w.distanceTo(m)<.9*w.distanceTo(this._lngLat)}_evaluateOpacity(){const r=this._map;if(!r)return;const l=this._pos;if(!l||l.x<0||l.x>r.transform.width||l.y<0||l.y>r.transform.height)return void this._clearFadeTimer();const m=r.unproject(l);let b;r._showingGlobe()&&d.dH(r.transform,this._lngLat)?b=0:(b=1-r._queryFogOpacity(m),r.transform._terrainEnabled()&&r.getTerrain()&&this._behindTerrain()&&(b*=this._occludedOpacity)),this._element.style.opacity=`${b}`,this._element.style.pointerEvents=b>0?"auto":"none",this._popup&&this._popup._setOpacity(b),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_updateDOM(){const r=this._pos;if(!r||!this._map)return;const l=this._offset.mult(this._scale);this._element.style.transform=`
            translate(${r.x}px,${r.y}px)
            ${Tu[this._anchor]}
            ${this._calculateXYTransform()} ${this._calculateZTransform()}
            translate(${l.x}px,${l.y}px)
        `}_calculateXYTransform(){const r=this._pos,l=this._map,m=this.getPitchAlignment();if(!l||!r||m!=="map")return"";if(!l._showingGlobe()){const Z=l.getPitch();return Z?`rotateX(${Z}deg)`:""}const b=d.c4(d.dI(l.transform,this._lngLat)),w=r.sub(d.dJ(l.transform)),I=Math.abs(w.x)+Math.abs(w.y);if(I===0)return"";const D=b/I;return`rotateX(${-w.y*D}deg) rotateY(${w.x*D}deg)`}_calculateZTransform(){const r=this._pos,l=this._map;if(!l||!r)return"";let m=0;const b=this.getRotationAlignment();if(b==="map")if(l._showingGlobe()){const w=l.project(new d.bO(this._lngLat.lng,this._lngLat.lat+.001)),I=l.project(new d.bO(this._lngLat.lng,this._lngLat.lat-.001)).sub(w);m=d.c4(Math.atan2(I.y,I.x))-90}else m=-l.getBearing();else if(b==="horizon"){const w=d.ac(4,6,l.getZoom()),I=d.dJ(l.transform);I.y+=w*l.transform.height;const D=r.sub(I),Z=d.c4(Math.atan2(D.y,D.x));m=(Z>90?Z-270:Z+90)*(1-w)}return m+=this._rotation,m?`rotateZ(${m}deg)`:""}_update(r){cancelAnimationFrame(this._updateFrameId);const l=this._map;l&&(l.transform.renderWorldCopies&&(this._lngLat=Xp(this._lngLat,this._pos,l.transform)),this._pos=l.project(this._lngLat),r===!0?this._updateFrameId=requestAnimationFrame(()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM())}):this._pos=this._pos.round(),l._requestDomTask(()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),(l._showingGlobe()||l.getTerrain()||l.getFog())&&!this._fadeTimer&&(this._fadeTimer=window.setTimeout(this._evaluateOpacity.bind(this),60)))}))}getOffset(){return this._offset}setOffset(r){return this._offset=d.P.convert(r),this._update(),this}addClassName(r){return this._element.classList.add(r),this}removeClassName(r){return this._element.classList.remove(r),this}toggleClassName(r){return this._element.classList.toggle(r)}_onMove(r){const l=this._map;if(!l)return;const m=this._pointerdownPos,b=this._positionDelta;if(m&&b){if(!this._isDragging){const w=this._clickTolerance||l._clickTolerance;if(r.point.dist(m)<w)return;this._isDragging=!0}this._pos=r.point.sub(b),this._lngLat=l.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new d.z("dragstart"))),this.fire(new d.z("drag"))}}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;const r=this._map;r&&(r.off("mousemove",this._onMove),r.off("touchmove",this._onMove)),this._state==="active"&&this.fire(new d.z("dragend")),this._state="inactive"}_addDragHandler(r){const l=this._map,m=this._pos;l&&m&&this._element.contains(r.originalEvent.target)&&(r.preventDefault(),this._positionDelta=r.point.sub(m),this._pointerdownPos=r.point,this._state="pending",l.on("mousemove",this._onMove),l.on("touchmove",this._onMove),l.once("mouseup",this._onUp),l.once("touchend",this._onUp))}setDraggable(r){this._draggable=!!r;const l=this._map;return l&&(r?(l.on("mousedown",this._addDragHandler),l.on("touchstart",this._addDragHandler)):(l.off("mousedown",this._addDragHandler),l.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(r){return this._rotation=r||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(r){return this._rotationAlignment=r||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment==="auto"||this._rotationAlignment==="horizon"&&this._map&&!this._map._showingGlobe()?"viewport":this._rotationAlignment}setPitchAlignment(r){return this._pitchAlignment=r||"auto",this._update(),this}getPitchAlignment(){return this._pitchAlignment==="auto"?this.getRotationAlignment():this._pitchAlignment}setOccludedOpacity(r){return this._occludedOpacity=r||.2,this._update(),this}getOccludedOpacity(){return this._occludedOpacity}}const sc={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},Dc={maxWidth:100,unit:"metric"},Kl={kilometer:"km",meter:"m",mile:"mi",foot:"ft","nautical-mile":"nm"},ay={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},gl=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Jm(p=new d.P(0,0),r="bottom"){if(typeof p=="number"){const l=Math.round(Math.sqrt(.5*Math.pow(p,2)));switch(r){case"top":return new d.P(0,p);case"top-left":return new d.P(l,l);case"top-right":return new d.P(-l,l);case"bottom":return new d.P(0,-p);case"bottom-left":return new d.P(l,-l);case"bottom-right":return new d.P(-l,-l);case"left":return new d.P(p,0);case"right":return new d.P(-p,0)}return new d.P(0,0)}return p instanceof d.P||Array.isArray(p)?d.P.convert(p):d.P.convert(p[r]||[0,0])}return{version:Be,supported:zt.supported,setRTLTextPlugin:d.dK,getRTLTextPluginStatus:d.dL,Map:class extends qf{constructor(p){ot.mark(lt.create);const r=p;if((p=d.l({},Qu,p)).minZoom!=null&&p.maxZoom!=null&&p.minZoom>p.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(p.minPitch!=null&&p.maxPitch!=null&&p.minPitch>p.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(p.minPitch!=null&&p.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(p.maxPitch!=null&&p.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(p.antialias&&d.dF(window)&&(p.antialias=!1,d.w("Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609")),super(new fd(p.minZoom,p.maxZoom,p.minPitch,p.maxPitch,p.renderWorldCopies),p),this._repaint=!!p.repaint,this._interactive=p.interactive,this._minTileCacheSize=p.minTileCacheSize,this._maxTileCacheSize=p.maxTileCacheSize,this._failIfMajorPerformanceCaveat=p.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=p.preserveDrawingBuffer,this._antialias=p.antialias,this._trackResize=p.trackResize,this._bearingSnap=p.bearingSnap,this._refreshExpiredTiles=p.refreshExpiredTiles,this._fadeDuration=p.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=p.crossSourceCollisions,this._collectResourceTiming=p.collectResourceTiming,this._language=this._parseLanguage(p.language),this._worldview=p.worldview,this._renderTaskQueue=new Vc,this._domRenderTaskQueue=new Vc,this._controls=[],this._markers=[],this._popups=[],this._mapId=d.aV(),this._locale=d.l({},Yf,p.locale),this._clickTolerance=p.clickTolerance,this._cooperativeGestures=p.cooperativeGestures,this._performanceMetricsCollection=p.performanceMetricsCollection,this._tessellationStep=p.tessellationStep,this._containerWidth=0,this._containerHeight=0,this._showParseStatus=!0,this._precompilePrograms=p.precompilePrograms,this._scaleFactorChanged=!1,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new Kf(0),this._interactionRange=[1/0,-1/0],this._visibilityHidden=0,this._useExplicitProjection=!1,this._frameId=0,this._scaleFactor=p.scaleFactor,this._requestManager=new Hr(p.transformRequest,p.accessToken,p.testMode),this._silenceAuthErrors=!!p.testMode,this._contextCreateOptions=p.contextCreateOptions?Object.assign({},p.contextCreateOptions):{},typeof p.container=="string"){const l=document.getElementById(p.container);if(!l)throw new Error(`Container '${p.container.toString()}' not found.`);this._container=l}else{if(!(p.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=p.container}if(this._container.childNodes.length>0&&d.w("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),p.maxBounds&&this.setMaxBounds(p.maxBounds),this._spriteFormat=p.spriteFormat,d.aP(["_onWindowOnline","_onWindowResize","_onVisibilityChange","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._tp||(this._tp=new x0),this._tp.registerParameter(this,["Debug"],"showOverdrawInspector"),this._tp.registerParameter(this,["Debug"],"showTileBoundaries"),this._tp.registerParameter(this,["Debug"],"showParseStatus"),this._tp.registerParameter(this,["Debug"],"repaint"),this._tp.registerParameter(this,["Debug"],"showTileAABBs"),this._tp.registerParameter(this,["Debug"],"showPadding"),this._tp.registerParameter(this,["Debug"],"showCollisionBoxes",{noSave:!0}),this._tp.registerParameter(this.transform,["Debug"],"freezeTileCoverage",{noSave:!0},()=>{this._update()}),this._tp.registerParameter(this,["Debug","Wireframe"],"showTerrainWireframe"),this._tp.registerParameter(this,["Debug","Wireframe"],"showLayers2DWireframe"),this._tp.registerParameter(this,["Debug","Wireframe"],"showLayers3DWireframe"),this._tp.registerParameter(this,["Scaling"],"_scaleFactor",{min:.1,max:10,step:.1},()=>{this.setScaleFactor(this._scaleFactor)}),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");if(this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this._fullscreenchangeEvent="onfullscreenchange"in document?"fullscreenchange":"webkitfullscreenchange",window.addEventListener("online",this._onWindowOnline,!1),window.addEventListener("resize",this._onWindowResize,!1),window.addEventListener("orientationchange",this._onWindowResize,!1),window.addEventListener(this._fullscreenchangeEvent,this._onWindowResize,!1),window.addEventListener("visibilitychange",this._onVisibilityChange,!1),this.handlers=new oy(this,p),this._localFontFamily=p.localFontFamily,this._localIdeographFontFamily=p.localIdeographFontFamily,(p.style||!p.testMode)&&this.setStyle(p.style||d.e.DEFAULT_STYLE,{config:p.config,localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),p.projection&&this.setProjection(p.projection),this.indoor=new sa(this),p.hash&&(this._hash=new Gm(typeof p.hash=="string"&&p.hash||void 0).addTo(this)),!this._hash||!this._hash._onHashChange()){r.center==null&&r.zoom==null||(this.transform._unmodified=!1),this.jumpTo({center:p.center,zoom:p.zoom,bearing:p.bearing,pitch:p.pitch});const l=p.bounds;l&&(this.resize(),this.fitBounds(l,d.l({},p.fitBoundsOptions,{duration:0})))}this.resize(),p.attributionControl&&this.addControl(new Wp({customAttribution:p.customAttribution})),this._logoControl=new Zc,this.addControl(this._logoControl,p.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet),this._postStyleLoadEvent()}),this.on("data",l=>{this._update(l.dataType==="style"),this.fire(new d.z(`${l.dataType}data`,l))}),this.on("dataloading",l=>{this.fire(new d.z(`${l.dataType}dataloading`,l))}),this._interactions=new Gp(this)}_getMapId(){return this._mapId}addControl(p,r){if(r===void 0&&(r=p.getDefaultPosition?p.getDefaultPosition():"top-right"),!p||!p.onAdd)return this.fire(new d.y(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const l=p.onAdd(this);this._controls.push(p);const m=this._controlPositions[r];return r.indexOf("bottom")!==-1?m.insertBefore(l,m.firstChild):m.appendChild(l),this}removeControl(p){if(!p||!p.onRemove)return this.fire(new d.y(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const r=this._controls.indexOf(p);return r>-1&&this._controls.splice(r,1),p.onRemove(this),this}hasControl(p){return this._controls.indexOf(p)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(p){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const r=!this._moving;return r&&this.fire(new d.z("movestart",p)).fire(new d.z("move",p)),this.fire(new d.z("resize",p)),r&&this.fire(new d.z("moveend",p)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(p){return this.transform.setMaxBounds(d.az.convert(p)),this._update()}setMinZoom(p){if((p=p!=null?p:-2)>=-2&&p<=this.transform.maxZoom)return this.transform.minZoom=p,this._update(),this.getZoom()<p?this.setZoom(p):this.fire(new d.z("zoomstart")).fire(new d.z("zoom")).fire(new d.z("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(p){if((p=p!=null?p:22)>=this.transform.minZoom)return this.transform.maxZoom=p,this._update(),this.getZoom()>p?this.setZoom(p):this.fire(new d.z("zoomstart")).fire(new d.z("zoom")).fire(new d.z("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(p){if((p=p!=null?p:0)<0)throw new Error("minPitch must be greater than or equal to 0");if(p>=0&&p<=this.transform.maxPitch)return this.transform.minPitch=p,this._update(),this.getPitch()<p?this.setPitch(p):this.fire(new d.z("pitchstart")).fire(new d.z("pitch")).fire(new d.z("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(p){if((p=p!=null?p:85)>85)throw new Error("maxPitch must be less than or equal to 85");if(p>=this.transform.minPitch)return this.transform.maxPitch=p,this._update(),this.getPitch()>p?this.setPitch(p):this.fire(new d.z("pitchstart")).fire(new d.z("pitch")).fire(new d.z("pitchend")),this;throw new Error("maxPitch must be greater than or equal to minPitch")}getMaxPitch(){return this.transform.maxPitch}getScaleFactor(){return this._scaleFactor}setScaleFactor(p){return this._scaleFactor=p,this.painter.scaleFactor=p,this._tp.refreshUI(),this._scaleFactorChanged=!0,this.style._updateFilteredLayers(r=>r.type==="symbol"),this._update(!0),this}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(p){return this.transform.renderWorldCopies=p,this.transform.renderWorldCopies||this._forceMarkerAndPopupUpdate(!0),this._update()}getLanguage(){return this._language}_parseLanguage(p){return p==="auto"?navigator.language:Array.isArray(p)?p.length===0?void 0:p.map(r=>r==="auto"?navigator.language:r):p}setLanguage(p){const r=this._parseLanguage(p);if(!this.style||r===this._language)return this;this._language=r,this.style.reloadSources();for(const l of this._controls)l._setLanguage&&l._setLanguage(this._language);return this}getWorldview(){return this._worldview}setWorldview(p){return this.style&&p!==this._worldview?(this._worldview=p,this.style.reloadSources(),this):this}getProjection(){return this.transform.mercatorFromTransition?{name:"globe",center:[0,0]}:this.transform.getProjection()}_showingGlobe(){return this.transform.projection.name==="globe"}setProjection(p){return this._lazyInitEmptyStyle(),p?typeof p=="string"&&(p={name:p}):p=null,this._useExplicitProjection=!!p,this._prioritizeAndUpdateProjection(p,this.style.projection)}_updateProjectionTransition(){if(this.getProjection().name!=="globe")return;const p=this.transform,r=p.projection.name;let l;r==="globe"&&p.zoom>=d.bY?(p.setMercatorFromTransition(),l=!0):r==="mercator"&&p.zoom<d.bY&&(p.setProjection({name:"globe"}),l=!0),l&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate())}_prioritizeAndUpdateProjection(p,r){return this._updateProjection(p||r||{name:"mercator"})}_updateProjection(p){let r;return r=p.name==="globe"&&this.transform.zoom>=d.bY?this.transform.setMercatorFromTransition():this.transform.setProjection(p),this.style.applyProjectionUpdate(),r&&(this.painter.clearBackgroundTiles(),this.style.clearSources(),this._update(!0),this._forceMarkerAndPopupUpdate(!0)),this}project(p){return this.transform.locationPoint3D(d.bO.convert(p))}unproject(p){return this.transform.pointLocation3D(d.P.convert(p))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_isDragging(){return this.handlers&&this.handlers._isDragging()||!1}_createDelegatedListener(p,r,l){const m=b=>{let w=[];if(Array.isArray(r)){const I=r.filter(D=>this.getLayer(D));w=I.length?this.queryRenderedFeatures(b,{layers:I}):[]}else w=this.queryRenderedFeatures(b,{target:r});return w};if(p==="mouseenter"||p==="mouseover"){let b=!1;return{listener:l,targets:r,delegates:{mousemove:I=>{const D=m(I.point);D.length?b||(b=!0,l.call(this,new Ic(p,this,I.originalEvent,{features:D}))):b=!1},mouseout:()=>{b=!1}}}}if(p==="mouseleave"||p==="mouseout"){let b=!1;return{listener:l,targets:r,delegates:{mousemove:D=>{m(D.point).length?b=!0:b&&(b=!1,l.call(this,new Ic(p,this,D.originalEvent)))},mouseout:D=>{b&&(b=!1,l.call(this,new Ic(p,this,D.originalEvent)))}}}}{const b=w=>{const I=m(w.point);I.length&&(w.features=I,l.call(this,w),delete w.features)};return{listener:l,targets:r,delegates:{[p]:b}}}}on(p,r,l){if(typeof r=="function"||l===void 0)return super.on(p,r);if(typeof r=="string"&&(r=[r]),!this._areTargetsValid(r))return this;const m=this._createDelegatedListener(p,r,l);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[p]=this._delegatedListeners[p]||[],this._delegatedListeners[p].push(m);for(const b in m.delegates)this.on(b,m.delegates[b]);return this}once(p,r,l){if(typeof r=="function"||l===void 0)return super.once(p,r);if(typeof r=="string"&&(r=[r]),!this._areTargetsValid(r))return this;const m=this._createDelegatedListener(p,r,l);for(const b in m.delegates)this.once(b,m.delegates[b]);return this}off(p,r,l){if(typeof r=="function"||l===void 0)return super.off(p,r);if(typeof r=="string"&&(r=[r]),!this._areTargetsValid(r))return this;const m=this._delegatedListeners?this._delegatedListeners[p]:void 0;return m&&(b=>{for(let w=0;w<b.length;w++){const I=b[w];if(I.listener===l&&os(I.targets,r)){for(const D in I.delegates)this.off(D,I.delegates[D]);return b.splice(w,1),this}}})(m),this}queryRenderedFeatures(p,r){if(!this.style)return[];if(p===void 0||p instanceof d.P||Array.isArray(p)||r!==void 0||(r=p,p=void 0),p=p||[[0,0],[this.transform.width,this.transform.height]],!r){const w=this.style.queryRenderedFeatures(p,void 0,this.transform),I=this.style.queryRenderedFeatureset(p,void 0,this.transform);return w.concat(I)}let l=!0;if(r.target&&(l=this._isTargetValid(r.target),l&&!r.layers))return this.style.queryRenderedFeatureset(p,r,this.transform);let m=!0;if(r.layers&&Array.isArray(r.layers)){for(const w of r.layers)if(!this._isValidId(w)){m=!1;break}if(m&&!r.target)return this.style.queryRenderedFeatures(p,r,this.transform)}let b=[];return m&&(b=b.concat(this.style.queryRenderedFeatures(p,r,this.transform))),l&&(b=b.concat(this.style.queryRenderedFeatureset(p,r,this.transform))),b}querySourceFeatures(p,r){return!p||typeof p=="string"&&!this._isValidId(p)?[]:this.style.querySourceFeatures(p,r)}isPointOnSurface(p){const{name:r}=this.transform.projection;return r!=="globe"&&r!=="mercator"&&d.w(`${r} projection does not support isPointOnSurface, this API may behave unexpectedly.`),this.transform.isPointOnSurface(d.P.convert(p))}addInteraction(p,r){return this._interactions.add(p,r),this}removeInteraction(p){return this._interactions.remove(p),this}setStyle(p,r){return r=d.l({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},r),this.style&&p&&r.diff!==!1&&r.localFontFamily===this._localFontFamily&&r.localIdeographFontFamily===this._localIdeographFontFamily&&!r.config?(this.style._diffStyle(p,(l,m)=>{l?(d.w(`Unable to perform style diff: ${String(l.message||l.error||l)}. Rebuilding the style from scratch.`),this._updateStyle(p,r)):m&&this._update(!0)},()=>{this._postStyleLoadEvent()}),this):(this._localIdeographFontFamily=r.localIdeographFontFamily,this._localFontFamily=r.localFontFamily,this._updateStyle(p,r))}_getUIString(p){const r=this._locale[p];if(r==null)throw new Error(`Missing UI string '${p}'`);return r}_updateStyle(p,r){if(this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),p){const l=d.l({},r);r&&r.config&&(l.initialConfig=r.config,delete l.config),this.style=new Va(this,l).load(p),this.style.setEventedParent(this,{style:this.style})}return this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new Va(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(d.w("There is no style added to the map."),!1)}_isValidId(p){return p==null?(this.fire(new d.y(new Error("IDs can't be empty."))),!1):!d.cr(p)||(this.fire(new d.y(new Error(`IDs can't contain special symbols: "${p}".`))),!1)}_isTargetValid(p){return"featuresetId"in p?this._isValidId("importId"in p?p.importId:p.featuresetId):"layerId"in p&&this._isValidId(p.layerId)}_areTargetsValid(p){if(Array.isArray(p)){for(const r of p)if(!this._isValidId(r))return!1;return!0}return this._isTargetValid(p)}addSource(p,r){return this._isValidId(p)?(this._lazyInitEmptyStyle(),this.style.addSource(p,r),this._update(!0)):this}isSourceLoaded(p){return!!this._isValidId(p)&&!!this.style&&this.style._isSourceCacheLoaded(p)}areTilesLoaded(){return this.style.areTilesLoaded()}addSourceType(p,r,l){this._lazyInitEmptyStyle(),this.style.addSourceType(p,r,l)}removeSource(p){return this._isValidId(p)?(this.style.removeSource(p),this._updateTerrain(),this._update(!0)):this}getSource(p){return this._isValidId(p)?this.style.getOwnSource(p):null}addImage(p,r,{pixelRatio:l=1,sdf:m=!1,stretchX:b,stretchY:w,content:I}={}){if(this._lazyInitEmptyStyle(),r instanceof HTMLImageElement||ImageBitmap&&r instanceof ImageBitmap){const{width:D,height:Z,data:W}=d.q.getImageData(r);this.style.addImage(p,{data:new d.r({width:D,height:Z},W),pixelRatio:l,stretchX:b,stretchY:w,content:I,sdf:m,version:0,usvg:!1})}else if(r.width===void 0||r.height===void 0)this.fire(new d.y(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{const{width:D,height:Z}=r,W=r;this.style.addImage(p,{data:new d.r({width:D,height:Z},new Uint8Array(W.data)),pixelRatio:l,stretchX:b,stretchY:w,content:I,sdf:m,usvg:!1,version:0,userImage:W}),W.onAdd&&W.onAdd(this,p)}}updateImage(p,r){this._lazyInitEmptyStyle();const l=this.style.getImage(p);if(!l)return void this.fire(new d.y(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const m=r instanceof HTMLImageElement||ImageBitmap&&r instanceof ImageBitmap?d.q.getImageData(r):r,{width:b,height:w,data:I}=m;if(b===void 0||w===void 0)return void this.fire(new d.y(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(b!==(l.usvg?l.icon.usvg_tree.width:l.data.width)||w!==(l.usvg?l.icon.usvg_tree.height:l.data.height))return void this.fire(new d.y(new Error(`The width and height of the updated image (${b}, ${w})
                must be that same as the previous version of the image
                (${l.data.width}, ${l.data.height})`)));const D=!(r instanceof HTMLImageElement||ImageBitmap&&r instanceof ImageBitmap);let Z=!1;l.usvg?(l.data=new d.r({width:b,height:w},new Uint8Array(I)),l.usvg=!1,l.icon=void 0,Z=!0):l.data.replace(I,D),this.style.updateImage(p,l,Z)}hasImage(p){return p?!!this.style&&!!this.style.getImage(p):(this.fire(new d.y(new Error("Missing required image id"))),!1)}removeImage(p){this.style.removeImage(p)}loadImage(p,r){d.o(this._requestManager.transformRequest(p,d.R.Image),(l,m)=>{r(l,m instanceof HTMLImageElement?d.q.getImageData(m):m)})}listImages(){return this.style.listImages()}addModel(p,r){this._lazyInitEmptyStyle(),this.style.addModel(p,r)}hasModel(p){return p?this.style.hasModel(p):(this.fire(new d.y(new Error("Missing required model id"))),!1)}removeModel(p){this.style.removeModel(p)}listModels(){return this.style.listModels()}addLayer(p,r){return this._isValidId(p.id)?(this._lazyInitEmptyStyle(),this.style.addLayer(p,r),this._update(!0)):this}getSlot(p){const r=this.getLayer(p);return r&&r.slot||null}setSlot(p,r){return this.style.setSlot(p,r),this.style.mergeLayers(),this._update(!0)}addImport(p,r){return this.style.addImport(p,r),this}updateImport(p,r){return typeof r!="string"&&r.id!==p?(this.removeImport(p),this.addImport(r)):(this.style.updateImport(p,r),this._update(!0))}removeImport(p){return this.style.removeImport(p),this}moveImport(p,r){return this.style.moveImport(p,r),this._update(!0)}moveLayer(p,r){return this._isValidId(p)?(this.style.moveLayer(p,r),this._update(!0)):this}removeLayer(p){return this._isValidId(p)?(this.style.removeLayer(p),this._update(!0)):this}getLayer(p){if(!this._isValidId(p))return null;const r=this.style.getOwnLayer(p);return r?r.type==="custom"?r.implementation:r.serialize():void 0}getSlots(){return this.style.getSlots()}setLayerZoomRange(p,r,l){return this._isValidId(p)?(this.style.setLayerZoomRange(p,r,l),this._update(!0)):this}setFilter(p,r,l={}){return this._isValidId(p)?(this.style.setFilter(p,r,l),this._update(!0)):this}getFilter(p){return this._isValidId(p)?this.style.getFilter(p):null}setPaintProperty(p,r,l,m={}){return this._isValidId(p)?(this.style.setPaintProperty(p,r,l,m),this._update(!0)):this}getPaintProperty(p,r){return this._isValidId(p)?this.style.getPaintProperty(p,r):null}setLayoutProperty(p,r,l,m={}){return this._isValidId(p)?(this.style.setLayoutProperty(p,r,l,m),this._update(!0)):this}getLayoutProperty(p,r){return this._isValidId(p)?this.style.getLayoutProperty(p,r):null}getSchema(p){return this.style.getSchema(p)}setSchema(p,r){return this.style.setSchema(p,r),this._update(!0)}getConfig(p){return this.style.getConfig(p)}setConfig(p,r){return this.style.setConfig(p,r),this._update(!0)}getConfigProperty(p,r){return this.style.getConfigProperty(p,r)}setConfigProperty(p,r,l){return this.style.setConfigProperty(p,r,l),this._update(!0)}getFeaturesetDescriptors(p){return this.style.getFeaturesetDescriptors(p)}setLights(p){if(this._lazyInitEmptyStyle(),p&&p.length===1&&p[0].type==="flat"){const r=p[0];r.properties?this.style.setFlatLight(r.properties,r.id,{}):this.style.setFlatLight({},"flat")}else this.style.setLights(p),this.painter.terrain&&(this.painter.terrain.invalidateRenderCache=!0);return this._update(!0)}getLights(){const p=this.style.getLights()||[];return p.length===0&&p.push({id:this.style.light.id,type:"flat",properties:this.style.getFlatLight()}),p}setLight(p,r={}){return console.log("The `map.setLight` function is deprecated, prefer using `map.setLights` with `flat` light type instead."),this.setLights([{id:"flat",type:"flat",properties:p}])}getLight(){return console.log("The `map.getLight` function is deprecated, prefer using `map.getLights` instead."),this.style.getFlatLight()}setTerrain(p){return this._lazyInitEmptyStyle(),!p&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(p),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(p){return this._lazyInitEmptyStyle(),this.style.setFog(p),this._update(!0)}getFog(){return this.style?this.style.getFog():null}setSnow(p){return this._lazyInitEmptyStyle(),this.style.setSnow(p),this._update(!0)}getSnow(){return this.style?this.style.getSnow():null}setRain(p){return this._lazyInitEmptyStyle(),this.style.setRain(p),this._update(!0)}getRain(){return this.style?this.style.getRain():null}setColorTheme(p){return this._lazyInitEmptyStyle(),this.style.setColorTheme(p),this._update(!0)}setImportColorTheme(p,r){return this._lazyInitEmptyStyle(),this.style.setImportColorTheme(p,r),this._update(!0)}setCamera(p){return this.style.setCamera(p),this._triggerCameraUpdate(p)}_triggerCameraUpdate(p){return this._update(this.transform.setOrthographicProjectionAtLowPitch(p["camera-projection"]==="orthographic"))}getCamera(){return this.style.camera}_queryFogOpacity(p){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(d.bO.convert(p),this.transform):0}setFeatureState(p,r){return p.source&&!this._isValidId(p.source)?this:(this.style.setFeatureState(p,r),this._update())}removeFeatureState(p,r){return p.source&&!this._isValidId(p.source)?this:(this.style.removeFeatureState(p,r),this._update())}getFeatureState(p){return p.source&&!this._isValidId(p.source)?null:this.style.getFeatureState(p)}_updateContainerDimensions(){if(!this._container)return;const p=this._container.getBoundingClientRect().width||400,r=this._container.getBoundingClientRect().height||300;let l,m,b,w=this._container;for(;w&&(!m||!b);){const I=window.getComputedStyle(w).transform;I&&I!=="none"&&(l=I.match(/matrix.*\((.+)\)/)[1].split(", "),l[0]&&l[0]!=="0"&&l[0]!=="1"&&(m=l[0]),l[3]&&l[3]!=="0"&&l[3]!=="1"&&(b=l[3])),w=w.parentElement}this._containerWidth=m?Math.abs(p/m):p,this._containerHeight=b?Math.abs(r/b):r}_detectMissingCSS(){window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&d.w("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const p=this._container;p.classList.add("mapboxgl-map"),(this._missingCSSCanary=qt("div","mapboxgl-canary",p)).style.visibility="hidden",this._detectMissingCSS();const r=this._canvasContainer=qt("div","mapboxgl-canvas-container",p);this._canvas=qt("canvas","mapboxgl-canvas",r),this._interactive&&(r.classList.add("mapboxgl-interactive"),this._canvas.setAttribute("tabindex","0")),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const l=this._controlContainer=qt("div","mapboxgl-control-container",p),m=this._controlPositions={};["top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"].forEach(b=>{m[b]=qt("div",`mapboxgl-ctrl-${b}`,l)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(p,r){const l=d.q.devicePixelRatio||1;this._canvas.width=l*Math.ceil(p),this._canvas.height=l*Math.ceil(r),this._canvas.style.width=`${p}px`,this._canvas.style.height=`${r}px`}_addMarker(p){this._markers.push(p)}_removeMarker(p){const r=this._markers.indexOf(p);r!==-1&&this._markers.splice(r,1)}_addPopup(p){this._popups.push(p)}_removePopup(p){const r=this._popups.indexOf(p);r!==-1&&this._popups.splice(r,1)}_setupPainter(){const p=d.l({},zt.supported.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),r=this._canvas.getContext("webgl2",p);r?(Ui(r,!0),this.painter=new jp(r,this._contextCreateOptions,this.transform,this._scaleFactor,this._tp),this.on("data",l=>{l.dataType==="source"&&this.painter.setTileLoadedFlag(!0)}),d.m.testSupport(r)):this.fire(new d.y(new Error("Failed to initialize WebGL")))}_contextLost(p){p.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new d.z("webglcontextlost",{originalEvent:p}))}_contextRestored(p){this._setupPainter(),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight)),this._updateTerrain(),this.style.reloadModels(),this.style.clearSources(),this._update(),this.fire(new d.z("webglcontextrestored",{originalEvent:p}))}_onMapScroll(p){if(p.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}idle(){return!this.isMoving()&&this.loaded()}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}frameReady(){return this.loaded()&&!this._placementDirty}_update(p){return this.style?(this._styleDirty=this._styleDirty||p,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(p){return this._update(),this._renderTaskQueue.add(p)}_cancelRenderFrame(p){this._renderTaskQueue.remove(p)}_requestDomTask(p){!this.loaded()||this.loaded()&&!this.isMoving()?p():this._domRenderTaskQueue.add(p)}_render(p){let r;this.fire(new d.z("renderstart")),++this._frameId;const l=this.painter.context.extTimerQuery,m=d.q.now(),b=this.painter.context.gl;if(this.listens("gpu-timing-frame")&&(r=b.createQuery(),b.beginQuery(l.TIME_ELAPSED_EXT,r)),this.painter.context.setDirty(),this.painter.setBaseState(),(this.isMoving()||this.isRotating()||this.isZooming())&&(this._interactionRange[0]=Math.min(this._interactionRange[0],performance.now()),this._interactionRange[1]=Math.max(this._interactionRange[1],performance.now())),this._renderTaskQueue.run(p),this._domRenderTaskQueue.run(p),this._removed)return;this._updateProjectionTransition();const w=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const W=this.transform.zoom,G=this.transform.pitch,te=d.q.now(),ne=new d.a8(W,{now:te,fadeDuration:w,pitch:G,transition:this.style.transition});this.style.update(ne)}this.style&&this.style.hasFogTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let I=!1;this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),I=this._updateAverageElevation(m),this.style.updateSources(this.transform),this._forceMarkerAndPopupUpdate()):I=this._updateAverageElevation(m);const D=this.style&&this.style._updatePlacement(this.painter,this.painter.transform,this.showCollisionBoxes,w,this._crossSourceCollisions,this.painter.replacementSource,this._scaleFactorChanged);if(this._scaleFactorChanged&&(this._scaleFactorChanged=!1),D&&(this._placementDirty=D.needsRerender),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showParseStatus:this.showParseStatus,wireframe:{terrain:this.showTerrainWireframe,layers2D:this.showLayers2DWireframe,layers3D:this.showLayers3DWireframe},showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,showTileAABBs:this.showTileAABBs,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:w,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),gpuTimingDeferredRender:!!this.listens("gpu-timing-deferred-render"),speedIndexTiming:this.speedIndexTiming}),this.fire(new d.z("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,ot.mark(lt.load),this.fire(new d.z("load"))),this.style&&this.style.hasTransitions()&&(this._styleDirty=!0),this.style&&(this.style.snow||this.style.rain)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),r){const W=d.q.now()-m;b.endQuery(l.TIME_ELAPSED_EXT),setTimeout(()=>{const G=b.getQueryParameter(r,b.QUERY_RESULT)/1e6;b.deleteQuery(r),this.fire(new d.z("gpu-timing-frame",{cpuTime:W,gpuTime:G}))},50)}if(this.listens("gpu-timing-layer")){const W=this.painter.collectGpuTimers();setTimeout(()=>{const G=this.painter.queryGpuTimers(W);this.fire(new d.z("gpu-timing-layer",{layerTimes:G}))},50)}if(this.listens("gpu-timing-deferred-render")){const W=this.painter.collectDeferredRenderGpuQueries();setTimeout(()=>{const G=this.painter.queryGpuTimeDeferredRender(W);this.fire(new d.z("gpu-timing-deferred-render",{gpuTime:G}))},50)}const Z=this._sourcesDirty||this._styleDirty||this._placementDirty||I;if(Z||this._repaint)this.triggerRepaint();else{const W=this.idle();if(W&&(I=this._updateAverageElevation(m,!0)),I)this.triggerRepaint();else if(this._triggerFrame(!1),W&&(this.fire(new d.z("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const G=this._calculateSpeedIndex();this.fire(new d.z("speedindexcompleted",{speedIndex:G})),this.speedIndexTiming=!1}}!this._loaded||this._fullyLoaded||Z||(this._fullyLoaded=!0,ot.mark(lt.fullLoad),this._performanceMetricsCollection&&zr(this._requestManager._customAccessToken,{width:this.painter.width,height:this.painter.height,interactionRange:this._interactionRange,visibilityHidden:this._visibilityHidden,terrainEnabled:!!this.painter.style.getTerrain(),fogEnabled:!!this.painter.style.getFog(),projection:this.getProjection().name,zoom:this.transform.zoom,renderer:this.painter.context.renderer,vendor:this.painter.context.vendor}),this._authenticate())}_forceMarkerAndPopupUpdate(p){for(const r of this._markers)p&&!this.getRenderWorldCopies()&&(r._lngLat=r._lngLat.wrap()),r._update();for(const r of this._popups)!p||this.getRenderWorldCopies()||r._trackPointer||(r._lngLat=r._lngLat.wrap()),r._update()}_updateAverageElevation(p,r=!1){const l=b=>(this.transform.averageElevation=b,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return this.transform.averageElevation!==0&&l(0);const m=this.transform.elevation&&this.transform.elevation.exaggeration()!==this._averageElevationExaggeration;if(m||(r||p-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(p)){const b=this.transform.averageElevation;let w=this.transform.sampleAverageElevation();this.transform.elevation!=null&&(this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(w)?w=0:this._averageElevationLastSampledAt=p;const I=Math.abs(b-w);if(I>1){if(this._isInitialLoad||m)return this._averageElevation.jumpTo(w),l(w);this._averageElevation.easeTo(w,p,300)}else if(I>1e-4)return this._averageElevation.jumpTo(w),l(w)}return!!this._averageElevation.isEasing(p)&&l(this._averageElevation.getValue(p))}_authenticate(){J(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,p=>{if(p&&(p.message===Pt||p.status===401)){const r=this.painter.context.gl;Ui(r,!1),this._logoControl instanceof Zc&&this._logoControl._updateLogo(),r&&r.clear(r.DEPTH_BUFFER_BIT|r.COLOR_BUFFER_BIT|r.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new d.y(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}}),Tn(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,()=>{})}_postStyleLoadEvent(){this.style.globalId&&mr(this._requestManager._customAccessToken,{map:this,skuToken:this._requestManager._skuToken,style:this.style.globalId,importedStyles:this.style.getImportGlobalIds()})}_updateTerrain(){const p=this._isDragging();this.painter.updateTerrain(this.style,p)}_calculateSpeedIndex(){const p=this.painter.canvasCopy(),r=this.painter.getCanvasCopiesAndTimestamps();r.timeStamps.push(performance.now());const l=this.painter.context.gl,m=l.createFramebuffer();function b(w){l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,w,0);const I=new Uint8Array(l.drawingBufferWidth*l.drawingBufferHeight*4);return l.readPixels(0,0,l.drawingBufferWidth,l.drawingBufferHeight,l.RGBA,l.UNSIGNED_BYTE,I),I}return l.bindFramebuffer(l.FRAMEBUFFER,m),this._canvasPixelComparison(b(p),r.canvasCopies.map(b),r.timeStamps)}_canvasPixelComparison(p,r,l){let m=l[1]-l[0];const b=p.length/4;for(let w=0;w<r.length;w++){const I=r[w];let D=0;for(let Z=0;Z<I.length;Z+=4)I[Z]===p[Z]&&I[Z+1]===p[Z+1]&&I[Z+2]===p[Z+2]&&I[Z+3]===p[Z+3]&&(D+=1);m+=(l[w+2]-l[w+1])*(1-D/b)}return m}remove(){this._hash&&this._hash.remove();for(const r of this._controls)r.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.indoor.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),window.removeEventListener("resize",this._onWindowResize,!1),window.removeEventListener("orientationchange",this._onWindowResize,!1),window.removeEventListener(this._fullscreenchangeEvent,this._onWindowResize,!1),window.removeEventListener("online",this._onWindowOnline,!1),window.removeEventListener("visibilitychange",this._onVisibilityChange,!1);const p=this.painter.context.gl.getExtension("WEBGL_lose_context");p&&p.loseContext(),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvasContainer.remove(),this._controlContainer.remove(),this._missingCSSCanary.remove(),this._canvas=void 0,this._canvasContainer=void 0,this._controlContainer=void 0,this._missingCSSCanary=void 0,this._container.classList.remove("mapboxgl-map"),this._container.removeEventListener("scroll",this._onMapScroll,!1),mn.delete(this.painter.context.gl),wr.remove(),Rt.remove(),this._removed=!0,this.fire(new d.z("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(p){this._renderNextFrame=this._renderNextFrame||p,this.style&&!this._frame&&(this._frame=d.q.frame(r=>{const l=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,l&&this._render(r)}))}_preloadTiles(p){const r=this.style?this.style.getSourceCaches():[];return d.bl(r,(l,m)=>l._preloadTiles(p,m),()=>{this.triggerRepaint()}),this}_onWindowOnline(){this._update()}_onWindowResize(p){this._trackResize&&this.resize({originalEvent:p})._update()}_onVisibilityChange(){document.visibilityState==="hidden"&&this._visibilityHidden++}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(p){this._showTileBoundaries!==p&&(this._showTileBoundaries=p,this._tp.refreshUI(),this._update())}get showParseStatus(){return!!this._showParseStatus}set showParseStatus(p){this._showParseStatus!==p&&(this._showParseStatus=p,this._tp.refreshUI(),this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(p){this._showTerrainWireframe!==p&&(this._showTerrainWireframe=p,this._tp.refreshUI(),this._update())}get showLayers2DWireframe(){return!!this._showLayers2DWireframe}set showLayers2DWireframe(p){this._showLayers2DWireframe!==p&&(this._showLayers2DWireframe=p,this._tp.refreshUI(),this._update())}get showLayers3DWireframe(){return!!this._showLayers3DWireframe}set showLayers3DWireframe(p){this._showLayers3DWireframe!==p&&(this._showLayers3DWireframe=p,this._tp.refreshUI(),this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(p){this._speedIndexTiming!==p&&(this._speedIndexTiming=p,this._update())}get showPadding(){return!!this._showPadding}set showPadding(p){this._showPadding!==p&&(this._showPadding=p,this._tp.refreshUI(),this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(p){this._showCollisionBoxes!==p&&(this._showCollisionBoxes=p,this._tp.refreshUI(),p?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(p){this._showOverdrawInspector!==p&&(this._showOverdrawInspector=p,this._tp.refreshUI(),this._update())}get repaint(){return!!this._repaint}set repaint(p){this._repaint!==p&&(this._repaint=p,this._tp.refreshUI(),this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(p){this._vertices=p,this._update()}get showTileAABBs(){return!!this._showTileAABBs}set showTileAABBs(p){this._showTileAABBs!==p&&(this._showTileAABBs=p,this._tp.refreshUI(),p&&this._update())}_setCacheLimits(p,r){d.dG(p,r)}get version(){return Be}},NavigationControl:class{constructor(p={}){this.options=d.l({},$0,p),this._container=qt("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",r=>r.preventDefault()),this.options.showZoom&&(d.aP(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",r=>{this._map&&this._map.zoomIn({},{originalEvent:r})}),qt("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",r=>{this._map&&this._map.zoomOut({},{originalEvent:r})}),qt("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(d.aP(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",r=>{const l=this._map;l&&(this.options.visualizePitch?l.resetNorthPitch({},{originalEvent:r}):l.resetNorth({},{originalEvent:r}))}),this._compassIcon=qt("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const p=this._map;if(!p)return;const r=p.getZoom(),l=r===p.getMaxZoom(),m=r===p.getMinZoom();this._zoomInButton.disabled=l,this._zoomOutButton.disabled=m,this._zoomInButton.setAttribute("aria-disabled",l.toString()),this._zoomOutButton.setAttribute("aria-disabled",m.toString())}_rotateCompassArrow(){const p=this._map;if(!p)return;const r=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(p.transform.pitch*(Math.PI/180)),.5)}) rotateX(${p.transform.pitch}deg) rotateZ(${p.transform.angle*(180/Math.PI)}deg)`:`rotate(${p.transform.angle*(180/Math.PI)}deg)`;p._requestDomTask(()=>{this._compassIcon&&(this._compassIcon.style.transform=r)})}onAdd(p){return this._map=p,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),p.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&p.on("pitch",this._rotateCompassArrow),p.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new R0(p,this._compass,this.options.visualizePitch)),this._container}onRemove(){const p=this._map;p&&(this._container.remove(),this.options.showZoom&&p.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&p.off("pitch",this._rotateCompassArrow),p.off("rotate",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0)}_createButton(p,r){const l=qt("button",p,this._container);return l.type="button",l.addEventListener("click",r),l}_setButtonTitle(p,r){if(!this._map)return;const l=this._map._getUIString(`NavigationControl.${r}`);p.setAttribute("aria-label",l),p.firstElementChild&&p.firstElementChild.setAttribute("title",l)}},GeolocateControl:class extends d.E{constructor(p={}){super();const r=navigator.geolocation;this.options=d.l({geolocation:r},sc,p),d.aP(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation","_onDeviceOrientation"],this),this._updateMarkerRotationThrottled=Wm(this._updateMarkerRotation,20),this._numberOfWatches=0}onAdd(p){return this._map=p,this._container=qt("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkGeolocationSupport(this._setupUI),this._container}onRemove(){this._geolocationWatchID!==void 0&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1}_checkGeolocationSupport(p){const r=(l=!!this.options.geolocation)=>{this._supportsGeolocation=l,p(l)};this._supportsGeolocation!==void 0?p(this._supportsGeolocation):navigator.permissions!==void 0?navigator.permissions.query({name:"geolocation"}).then(l=>r(l.state!=="denied")).catch(()=>r()):r()}_isOutOfMapMaxBounds(p){const r=this._map.getMaxBounds(),l=p.coords;return!!r&&(l.longitude<r.getWest()||l.longitude>r.getEast()||l.latitude<r.getSouth()||l.latitude>r.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(p){if(this._map){if(this._isOutOfMapMaxBounds(p))return this._setErrorState(),this.fire(new d.z("outofmaxbounds",p)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=p,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(p),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(p),this.options.showUserLocation&&this._userLocationDotMarker.removeClassName("mapboxgl-user-location-dot-stale"),this.fire(new d.z("geolocate",p)),this._finish()}}_updateCamera(p){const r=new d.bO(p.coords.longitude,p.coords.latitude),l=p.coords.accuracy,m=this._map.getBearing(),b=d.l({bearing:m},this.options.fitBoundsOptions);this._map.fitBounds(r.toBounds(l),b,{geolocateSource:!0})}_updateMarker(p){if(p){const r=new d.bO(p.coords.longitude,p.coords.latitude);this._accuracyCircleMarker.setLngLat(r).addTo(this._map),this._userLocationDotMarker.setLngLat(r).addTo(this._map),this._accuracy=p.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const p=this._map.transform,r=d.bH(1,p._center.lat)*p.worldSize,l=Math.ceil(2*this._accuracy*r);this._circleElement.style.width=`${l}px`,this._circleElement.style.height=`${l}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&typeof this._heading=="number"?(this._userLocationDotMarker.setRotation(this._heading),this._userLocationDotMarker.addClassName("mapboxgl-user-location-show-heading")):(this._userLocationDotMarker.removeClassName("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(p){if(this._map){if(this.options.trackUserLocation)if(p.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const r=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",r),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",r),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(p.code===3&&this._noTimeout)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._userLocationDotMarker.addClassName("mapboxgl-user-location-dot-stale"),this.fire(new d.z("error",p)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(p){if(this._map!==void 0){if(this._container.addEventListener("contextmenu",r=>r.preventDefault()),this._geolocateButton=qt("button","mapboxgl-ctrl-geolocate",this._container),qt("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",p===!1){d.w("Geolocation support is not available so the GeolocateControl will be disabled.");const r=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",r),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",r)}else{const r=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",r),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",r)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=qt("div","mapboxgl-user-location"),this._dotElement.appendChild(qt("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(qt("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new Mu({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=qt("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Mu({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",r=>{r.geolocateSource||this._watchState!=="ACTIVE_LOCK"||r.originalEvent&&r.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new d.z("trackuserlocationend")))})}}_onDeviceOrientation(p){this._userLocationDotMarker&&(p.webkitCompassHeading?this._heading=p.webkitCompassHeading:p.absolute===!0&&(this._heading=-1*p.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return d.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new d.z("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._numberOfWatches--,this._noTimeout=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new d.z("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new d.z("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let p;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._numberOfWatches++,this._numberOfWatches>1?(p={maximumAge:6e5,timeout:0},this._noTimeout=!0):(p=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,p),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=window.setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const p=()=>{"ondeviceorientationabsolute"in window?window.addEventListener("deviceorientationabsolute",this._onDeviceOrientation):window.addEventListener("deviceorientation",this._onDeviceOrientation)};typeof DeviceMotionEvent!="undefined"&&typeof DeviceMotionEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(r=>{r==="granted"&&p()}).catch(console.error):p()}_clearWatch(){this.options.geolocation.clearWatch(this._geolocationWatchID),window.removeEventListener("deviceorientation",this._onDeviceOrientation),window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:Wp,ScaleControl:class{constructor(p={}){this.options=d.l({},Dc,p),this._isNumberFormatSupported=function(){try{return new Intl.NumberFormat("en",{style:"unit",unitDisplay:"short",unit:"meter"}),!0}catch(r){return!1}}(),d.aP(["_update","_setScale","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_update(){const p=this.options.maxWidth||100,r=this._map,l=r._containerHeight/2,m=r._containerWidth/2-p/2,b=r.unproject([m,l]),w=r.unproject([m+p,l]),I=b.distanceTo(w);if(this.options.unit==="imperial"){const D=3.2808*I;D>5280?this._setScale(p,D/5280,"mile"):this._setScale(p,D,"foot")}else this.options.unit==="nautical"?this._setScale(p,I/1852,"nautical-mile"):I>=1e3?this._setScale(p,I/1e3,"kilometer"):this._setScale(p,I,"meter")}_setScale(p,r,l){this._map._requestDomTask(()=>{const m=function(w){const I=Math.pow(10,`${Math.floor(w)}`.length-1);let D=w/I;return D=D>=10?10:D>=5?5:D>=3?3:D>=2?2:D>=1?1:function(Z){const W=Math.pow(10,Math.ceil(-Math.log(Z)/Math.LN10));return Math.round(Z*W)/W}(D),I*D}(r),b=m/r;this._container.innerHTML=this._isNumberFormatSupported&&l!=="nautical-mile"?new Intl.NumberFormat(this._language,{style:"unit",unitDisplay:"short",unit:l}).format(m):`${m}&nbsp;${Kl[l]}`,this._container.style.width=p*b+"px"})}onAdd(p){return this._map=p,this._language=p.getLanguage(),this._container=qt("div","mapboxgl-ctrl mapboxgl-ctrl-scale",p.getContainer()),this._container.dir="auto",this._map.on("move",this._update),this._update(),this._container}onRemove(){this._container.remove(),this._map.off("move",this._update),this._map=void 0}_setLanguage(p){this._language=p,this._update()}setUnit(p){this.options.unit=p,this._update()}},FullscreenControl:class{constructor(p={}){this._fullscreen=!1,p&&p.container&&(p.container instanceof HTMLElement?this._container=p.container:d.w("Full screen control 'container' must be a DOM element.")),d.aP(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(p){return this._map=p,this._container||(this._container=this._map.getContainer()),this._controlContainer=qt("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",d.w("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!document.fullscreenEnabled&&!document.webkitFullscreenEnabled)}_setupUI(){const p=this._fullscreenButton=qt("button","mapboxgl-ctrl-fullscreen",this._controlContainer);qt("span","mapboxgl-ctrl-icon",p).setAttribute("aria-hidden","true"),p.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const p=this._getTitle();this._fullscreenButton.setAttribute("aria-label",p),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",p)}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(document.fullscreenElement||document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends d.E{constructor(p){super(),this.options=d.l(Object.create(ay),p),d.aP(["_update","_onClose","remove","_onMouseEvent"],this),this._classList=new Set(p&&p.className?p.className.trim().split(/\s+/):[])}addTo(p){return this._map&&this.remove(),this._map=p,this.options.closeOnClick&&p.on("preclick",this._onClose),this.options.closeOnMove&&p.on("move",this._onClose),p.on("remove",this.remove),this._update(),p._addPopup(this),this._focusFirstElement(),this._trackPointer?(p.on("mousemove",this._onMouseEvent),p.on("mouseup",this._onMouseEvent),p._canvasContainer.classList.add("mapboxgl-track-pointer")):p.on("move",this._update),this.fire(new d.z("open")),this}isOpen(){return!!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);const p=this._map;return p&&(p.off("move",this._update),p.off("move",this._onClose),p.off("preclick",this._onClose),p.off("click",this._onClose),p.off("remove",this.remove),p.off("mousemove",this._onMouseEvent),p.off("mouseup",this._onMouseEvent),p.off("drag",this._onMouseEvent),p._canvasContainer&&p._canvasContainer.classList.remove("mapboxgl-track-pointer"),p._removePopup(this),this._map=void 0),this.fire(new d.z("close")),this}getLngLat(){return this._lngLat}setLngLat(p){this._lngLat=d.bO.convert(p),this._pos=null,this._trackPointer=!1,this._update();const r=this._map;return r&&(r.on("move",this._update),r.off("mousemove",this._onMouseEvent),r._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();const p=this._map;return p&&(p.off("move",this._update),p.on("mousemove",this._onMouseEvent),p.on("drag",this._onMouseEvent),p._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(p){return this.setDOMContent(document.createTextNode(p))}setHTML(p){const r=document.createDocumentFragment(),l=document.createElement("body");let m;for(l.innerHTML=p;m=l.firstChild,m;)r.appendChild(m);return this.setDOMContent(r)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(p){return this.options.maxWidth=p,this._update(),this}setDOMContent(p){let r=this._content;if(r)for(;r.hasChildNodes();)r.firstChild&&r.removeChild(r.firstChild);else r=this._content=qt("div","mapboxgl-popup-content",this._container||void 0);if(r.appendChild(p),this.options.closeButton){const l=this._closeButton=qt("button","mapboxgl-popup-close-button",r);l.type="button",l.setAttribute("aria-label","Close popup"),l.innerHTML='<span aria-hidden="true">&#215;</span>',l.addEventListener("click",this._onClose)}return this._update(),this._focusFirstElement(),this}addClassName(p){return this._classList.add(p),this._updateClassList(),this}removeClassName(p){return this._classList.delete(p),this._updateClassList(),this}setOffset(p){return this.options.offset=p,this._update(),this}toggleClassName(p){let r;return this._classList.delete(p)?r=!1:(this._classList.add(p),r=!0),this._updateClassList(),r}_onMouseEvent(p){this._update(p.point)}_getAnchor(p){if(this.options.anchor)return this.options.anchor;const r=this._map,l=this._container,m=this._pos;if(!r||!l||!m)return"bottom";const b=l.offsetWidth,w=l.offsetHeight,I=m.x<b/2,D=m.x>r.transform.width-b/2;if(m.y+p<w)return I?"top-left":D?"top-right":"top";if(m.y>r.transform.height-w){if(I)return"bottom-left";if(D)return"bottom-right"}return I?"left":D?"right":"bottom"}_updateClassList(){const p=this._container;if(!p)return;const r=[...this._classList];r.push("mapboxgl-popup"),this._anchor&&r.push(`mapboxgl-popup-anchor-${this._anchor}`),this._trackPointer&&r.push("mapboxgl-popup-track-pointer"),p.className=r.join(" ")}_update(p){const r=this._map,l=this._content;if(!r||!this._lngLat&&!this._trackPointer||!l)return;let m=this._container;if(m||(m=this._container=qt("div","mapboxgl-popup",r.getContainer()),this._tip=qt("div","mapboxgl-popup-tip",m),m.appendChild(l)),this.options.maxWidth&&m.style.maxWidth!==this.options.maxWidth&&(m.style.maxWidth=this.options.maxWidth),r.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Xp(this._lngLat,this._pos,r.transform)),!this._trackPointer||p){const b=this._pos=this._trackPointer&&p instanceof d.P?p:r.project(this._lngLat),w=Jm(this.options.offset),I=this._anchor=this._getAnchor(w.y),D=Jm(this.options.offset,I),Z=b.add(D).round();r._requestDomTask(()=>{this._container&&I&&(this._container.style.transform=`${Tu[I]} translate(${Z.x}px,${Z.y}px)`)})}if(!this._marker&&r._showingGlobe()){const b=d.dH(r.transform,this._lngLat)?0:1;this._setOpacity(b)}this._updateClassList()}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const p=this._container.querySelector(gl);p&&p.focus()}_onClose(){this.remove()}_setOpacity(p){this._container&&(this._container.style.opacity=`${p}`),this._content&&(this._content.style.pointerEvents=p?"auto":"none")}},Marker:Mu,Style:Va,LngLat:d.bO,LngLatBounds:d.az,Point:d.P,MercatorCoordinate:d.aa,FreeCameraOptions:Hd,Evented:d.E,config:d.e,prewarm:d.dM,clearPrewarmedResources:d.dN,get accessToken(){return d.e.ACCESS_TOKEN},set accessToken(p){d.e.ACCESS_TOKEN=p},get baseApiUrl(){return d.e.API_URL},set baseApiUrl(p){d.e.API_URL=p},get workerCount(){return d.dO.workerCount},set workerCount(p){d.dO.workerCount=p},get maxParallelImageRequests(){return d.e.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(p){d.e.MAX_PARALLEL_IMAGE_REQUESTS=p},clearStorage(p){d.dP(p)},get workerUrl(){return d.dQ.workerUrl},set workerUrl(p){d.dQ.workerUrl=p},get workerClass(){return d.dQ.workerClass},set workerClass(p){d.dQ.workerClass=p},get workerParams(){return d.dQ.workerParams},set workerParams(p){d.dQ.workerParams=p},get dracoUrl(){return d.dR()},set dracoUrl(p){d.dS(p)},get meshoptUrl(){return d.dT()},set meshoptUrl(p){d.dU(p)},setNow:d.q.setNow,restoreNow:d.q.restoreNow}});var oe=s;return oe})},14224:function(Kr){var bn=Kr.exports={},he,s;function jt(){throw new Error("setTimeout has not been defined")}function oe(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?he=setTimeout:he=jt}catch(Et){he=jt}try{typeof clearTimeout=="function"?s=clearTimeout:s=oe}catch(Et){s=oe}})();function d(Et){if(he===setTimeout)return setTimeout(Et,0);if((he===jt||!he)&&setTimeout)return he=setTimeout,setTimeout(Et,0);try{return he(Et,0)}catch(an){try{return he.call(null,Et,0)}catch(Ht){return he.call(this,Et,0)}}}function Be(Et){if(s===clearTimeout)return clearTimeout(Et);if((s===oe||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(Et);try{return s(Et)}catch(an){try{return s.call(null,Et)}catch(Ht){return s.call(this,Et)}}}var lt=[],ot=!1,qe,De=-1;function Ae(){!ot||!qe||(ot=!1,qe.length?lt=qe.concat(lt):De=-1,lt.length&&zt())}function zt(){if(!ot){var Et=d(Ae);ot=!0;for(var an=lt.length;an;){for(qe=lt,lt=[];++De<an;)qe&&qe[De].run();De=-1,an=lt.length}qe=null,ot=!1,Be(Et)}}bn.nextTick=function(Et){var an=new Array(arguments.length-1);if(arguments.length>1)for(var Ht=1;Ht<arguments.length;Ht++)an[Ht-1]=arguments[Ht];lt.push(new qt(Et,an)),lt.length===1&&!ot&&d(zt)};function qt(Et,an){this.fun=Et,this.array=an}qt.prototype.run=function(){this.fun.apply(null,this.array)},bn.title="browser",bn.browser=!0,bn.env={},bn.argv=[],bn.version="",bn.versions={};function mt(){}bn.on=mt,bn.addListener=mt,bn.once=mt,bn.off=mt,bn.removeListener=mt,bn.removeAllListeners=mt,bn.emit=mt,bn.prependListener=mt,bn.prependOnceListener=mt,bn.listeners=function(Et){return[]},bn.binding=function(Et){throw new Error("process.binding is not supported")},bn.cwd=function(){return"/"},bn.chdir=function(Et){throw new Error("process.chdir is not supported")},bn.umask=function(){return 0}},93930:function(Kr,bn,he){"use strict";he.d(bn,{gN:function(){return Os},zb:function(){return sn},RV:function(){return ms},aV:function(){return _s},ZM:function(){return _n},ZP:function(){return rs},cI:function(){return ks},qo:function(){return Za}});var s=he(75271),jt=he(23022),oe=he(58190),d=he(57250),Be=he(90594),lt=he(54153),ot=he(46865),qe=he(59295),De=he(45985),Ae=he(63662),zt=he(76525),qt=he(56216),mt=he(38926),Et=he(81626),an=he(47996),Ht=he(4449),Zt="RC_FORM_INTERNAL_HOOKS",Qt=function(){(0,Ht.ZP)(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},vt=s.createContext({getFieldValue:Qt,getFieldsValue:Qt,getFieldError:Qt,getFieldWarning:Qt,getFieldsError:Qt,isFieldsTouched:Qt,isFieldTouched:Qt,isFieldValidating:Qt,isFieldsValidating:Qt,resetFields:Qt,setFields:Qt,setFieldValue:Qt,setFieldsValue:Qt,validateFields:Qt,submit:Qt,getInternalHooks:function(){return Qt(),{dispatch:Qt,initEntityValue:Qt,registerField:Qt,useSubscribe:Qt,setInitialValues:Qt,destroyForm:Qt,setCallbacks:Qt,registerWatch:Qt,getFields:Qt,setValidateMessages:Qt,setPreserve:Qt,getInitialValue:Qt}}}),sn=vt,Xt=s.createContext(null),_n=Xt;function En(ln){return ln==null?[]:Array.isArray(ln)?ln:[ln]}function Nn(ln){return ln&&!!ln._init}var fi=he(5147);function Pt(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var Ke=JSON.parse(JSON.stringify(this));return Ke.clone=this.clone,Ke}}}var Hr=Pt(),Rn=he(51123),Fn=he(84255);function Br(ln){try{return Function.toString.call(ln).indexOf("[native code]")!==-1}catch(Ke){return typeof ln=="function"}}var Tr=he(57649);function nr(ln,Ke,Pe){if((0,Tr.Z)())return Reflect.construct.apply(null,arguments);var rt=[null];rt.push.apply(rt,Ke);var Ne=new(ln.bind.apply(ln,rt));return Pe&&(0,Fn.Z)(Ne,Pe.prototype),Ne}function Qr(ln){var Ke=typeof Map=="function"?new Map:void 0;return Qr=function(rt){if(rt===null||!Br(rt))return rt;if(typeof rt!="function")throw new TypeError("Super expression must either be null or a function");if(Ke!==void 0){if(Ke.has(rt))return Ke.get(rt);Ke.set(rt,Ne)}function Ne(){return nr(rt,arguments,(0,Rn.Z)(this).constructor)}return Ne.prototype=Object.create(rt.prototype,{constructor:{value:Ne,enumerable:!1,writable:!0,configurable:!0}}),(0,Fn.Z)(Ne,rt)},Qr(ln)}var Mr=he(14224),Jn=/%[sdj%]/g,Rt=function(){};function Tn(ln){if(!ln||!ln.length)return null;var Ke={};return ln.forEach(function(Pe){var rt=Pe.field;Ke[rt]=Ke[rt]||[],Ke[rt].push(Pe)}),Ke}function Gn(ln){for(var Ke=arguments.length,Pe=new Array(Ke>1?Ke-1:0),rt=1;rt<Ke;rt++)Pe[rt-1]=arguments[rt];var Ne=0,Ot=Pe.length;if(typeof ln=="function")return ln.apply(null,Pe);if(typeof ln=="string"){var Kt=ln.replace(Jn,function(On){if(On==="%%")return"%";if(Ne>=Ot)return On;switch(On){case"%s":return String(Pe[Ne++]);case"%d":return Number(Pe[Ne++]);case"%j":try{return JSON.stringify(Pe[Ne++])}catch(Yn){return"[Circular]"}break;default:return On}});return Kt}return ln}function mr(ln){return ln==="string"||ln==="url"||ln==="hex"||ln==="email"||ln==="date"||ln==="pattern"}function ir(ln,Ke){return!!(ln==null||Ke==="array"&&Array.isArray(ln)&&!ln.length||mr(Ke)&&typeof ln=="string"&&!ln)}function zr(ln){return Object.keys(ln).length===0}function wr(ln,Ke,Pe){var rt=[],Ne=0,Ot=ln.length;function Kt(On){rt.push.apply(rt,(0,ot.Z)(On||[])),Ne++,Ne===Ot&&Pe(rt)}ln.forEach(function(On){Ke(On,Kt)})}function J(ln,Ke,Pe){var rt=0,Ne=ln.length;function Ot(Kt){if(Kt&&Kt.length){Pe(Kt);return}var On=rt;rt=rt+1,On<Ne?Ke(ln[On],Ot):Pe([])}Ot([])}function mn(ln){var Ke=[];return Object.keys(ln).forEach(function(Pe){Ke.push.apply(Ke,(0,ot.Z)(ln[Pe]||[]))}),Ke}var Ui=function(ln){(0,zt.Z)(Pe,ln);var Ke=(0,qt.Z)(Pe);function Pe(rt,Ne){var Ot;return(0,qe.Z)(this,Pe),Ot=Ke.call(this,"Async Validation Error"),(0,mt.Z)((0,Ae.Z)(Ot),"errors",void 0),(0,mt.Z)((0,Ae.Z)(Ot),"fields",void 0),Ot.errors=rt,Ot.fields=Ne,Ot}return(0,De.Z)(Pe)}(Qr(Error));function ki(ln,Ke,Pe,rt,Ne){if(Ke.first){var Ot=new Promise(function(li,Bi){var Pr=function(Er){return rt(Er),Er.length?Bi(new Ui(Er,Tn(Er))):li(Ne)},Ur=mn(ln);J(Ur,Pe,Pr)});return Ot.catch(function(li){return li}),Ot}var Kt=Ke.firstFields===!0?Object.keys(ln):Ke.firstFields||[],On=Object.keys(ln),Yn=On.length,gr=0,qn=[],Ar=new Promise(function(li,Bi){var Pr=function(Cr){if(qn.push.apply(qn,Cr),gr++,gr===Yn)return rt(qn),qn.length?Bi(new Ui(qn,Tn(qn))):li(Ne)};On.length||(rt(qn),li(Ne)),On.forEach(function(Ur){var Cr=ln[Ur];Kt.indexOf(Ur)!==-1?J(Cr,Pe,Pr):wr(Cr,Pe,Pr)})});return Ar.catch(function(li){return li}),Ar}function Sn(ln){return!!(ln&&ln.message!==void 0)}function ei(ln,Ke){for(var Pe=ln,rt=0;rt<Ke.length;rt++){if(Pe==null)return Pe;Pe=Pe[Ke[rt]]}return Pe}function Pi(ln,Ke){return function(Pe){var rt;return ln.fullFields?rt=ei(Ke,ln.fullFields):rt=Ke[Pe.field||ln.fullField],Sn(Pe)?(Pe.field=Pe.field||ln.fullField,Pe.fieldValue=rt,Pe):{message:typeof Pe=="function"?Pe():Pe,fieldValue:rt,field:Pe.field||ln.fullField}}}function Xr(ln,Ke){if(Ke){for(var Pe in Ke)if(Ke.hasOwnProperty(Pe)){var rt=Ke[Pe];(0,fi.Z)(rt)==="object"&&(0,fi.Z)(ln[Pe])==="object"?ln[Pe]=(0,lt.Z)((0,lt.Z)({},ln[Pe]),rt):ln[Pe]=rt}}return ln}var or="enum",dr=function(Ke,Pe,rt,Ne,Ot){Ke[or]=Array.isArray(Ke[or])?Ke[or]:[],Ke[or].indexOf(Pe)===-1&&Ne.push(Gn(Ot.messages[or],Ke.fullField,Ke[or].join(", ")))},$i=dr,Zo=function(Ke,Pe,rt,Ne,Ot){if(Ke.pattern){if(Ke.pattern instanceof RegExp)Ke.pattern.lastIndex=0,Ke.pattern.test(Pe)||Ne.push(Gn(Ot.messages.pattern.mismatch,Ke.fullField,Pe,Ke.pattern));else if(typeof Ke.pattern=="string"){var Kt=new RegExp(Ke.pattern);Kt.test(Pe)||Ne.push(Gn(Ot.messages.pattern.mismatch,Ke.fullField,Pe,Ke.pattern))}}},ha=Zo,Da=function(Ke,Pe,rt,Ne,Ot){var Kt=typeof Ke.len=="number",On=typeof Ke.min=="number",Yn=typeof Ke.max=="number",gr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,qn=Pe,Ar=null,li=typeof Pe=="number",Bi=typeof Pe=="string",Pr=Array.isArray(Pe);if(li?Ar="number":Bi?Ar="string":Pr&&(Ar="array"),!Ar)return!1;Pr&&(qn=Pe.length),Bi&&(qn=Pe.replace(gr,"_").length),Kt?qn!==Ke.len&&Ne.push(Gn(Ot.messages[Ar].len,Ke.fullField,Ke.len)):On&&!Yn&&qn<Ke.min?Ne.push(Gn(Ot.messages[Ar].min,Ke.fullField,Ke.min)):Yn&&!On&&qn>Ke.max?Ne.push(Gn(Ot.messages[Ar].max,Ke.fullField,Ke.max)):On&&Yn&&(qn<Ke.min||qn>Ke.max)&&Ne.push(Gn(Ot.messages[Ar].range,Ke.fullField,Ke.min,Ke.max))},ri=Da,Ko=function(Ke,Pe,rt,Ne,Ot,Kt){Ke.required&&(!rt.hasOwnProperty(Ke.field)||ir(Pe,Kt||Ke.type))&&Ne.push(Gn(Ot.messages.required,Ke.fullField))},Eo=Ko,No,ya=function(){if(No)return No;var ln="[a-fA-F\\d:]",Ke=function(Ta){return Ta&&Ta.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(ln,")|(?<=").concat(ln,")(?=\\s|$))"):""},Pe="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",rt="[a-fA-F\\d]{1,4}",Ne=["(?:".concat(rt,":){7}(?:").concat(rt,"|:)"),"(?:".concat(rt,":){6}(?:").concat(Pe,"|:").concat(rt,"|:)"),"(?:".concat(rt,":){5}(?::").concat(Pe,"|(?::").concat(rt,"){1,2}|:)"),"(?:".concat(rt,":){4}(?:(?::").concat(rt,"){0,1}:").concat(Pe,"|(?::").concat(rt,"){1,3}|:)"),"(?:".concat(rt,":){3}(?:(?::").concat(rt,"){0,2}:").concat(Pe,"|(?::").concat(rt,"){1,4}|:)"),"(?:".concat(rt,":){2}(?:(?::").concat(rt,"){0,3}:").concat(Pe,"|(?::").concat(rt,"){1,5}|:)"),"(?:".concat(rt,":){1}(?:(?::").concat(rt,"){0,4}:").concat(Pe,"|(?::").concat(rt,"){1,6}|:)"),"(?::(?:(?::".concat(rt,"){0,5}:").concat(Pe,"|(?::").concat(rt,"){1,7}|:))")],Ot="(?:%[0-9a-zA-Z]{1,})?",Kt="(?:".concat(Ne.join("|"),")").concat(Ot),On=new RegExp("(?:^".concat(Pe,"$)|(?:^").concat(Kt,"$)")),Yn=new RegExp("^".concat(Pe,"$")),gr=new RegExp("^".concat(Kt,"$")),qn=function(Ta){return Ta&&Ta.exact?On:new RegExp("(?:".concat(Ke(Ta)).concat(Pe).concat(Ke(Ta),")|(?:").concat(Ke(Ta)).concat(Kt).concat(Ke(Ta),")"),"g")};qn.v4=function(Ro){return Ro&&Ro.exact?Yn:new RegExp("".concat(Ke(Ro)).concat(Pe).concat(Ke(Ro)),"g")},qn.v6=function(Ro){return Ro&&Ro.exact?gr:new RegExp("".concat(Ke(Ro)).concat(Kt).concat(Ke(Ro)),"g")};var Ar="(?:(?:[a-z]+:)?//)",li="(?:\\S+(?::\\S*)?@)?",Bi=qn.v4().source,Pr=qn.v6().source,Ur="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",Cr="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",Er="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",yi="(?::\\d{2,5})?",Ji='(?:[/?#][^\\s"]*)?',Qo="(?:".concat(Ar,"|www\\.)").concat(li,"(?:localhost|").concat(Bi,"|").concat(Pr,"|").concat(Ur).concat(Cr).concat(Er,")").concat(yi).concat(Ji);return No=new RegExp("(?:^".concat(Qo,"$)"),"i"),No},Oi={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Gr={integer:function(Ke){return Gr.number(Ke)&&parseInt(Ke,10)===Ke},float:function(Ke){return Gr.number(Ke)&&!Gr.integer(Ke)},array:function(Ke){return Array.isArray(Ke)},regexp:function(Ke){if(Ke instanceof RegExp)return!0;try{return!!new RegExp(Ke)}catch(Pe){return!1}},date:function(Ke){return typeof Ke.getTime=="function"&&typeof Ke.getMonth=="function"&&typeof Ke.getYear=="function"&&!isNaN(Ke.getTime())},number:function(Ke){return isNaN(Ke)?!1:typeof Ke=="number"},object:function(Ke){return(0,fi.Z)(Ke)==="object"&&!Gr.array(Ke)},method:function(Ke){return typeof Ke=="function"},email:function(Ke){return typeof Ke=="string"&&Ke.length<=320&&!!Ke.match(Oi.email)},url:function(Ke){return typeof Ke=="string"&&Ke.length<=2048&&!!Ke.match(ya())},hex:function(Ke){return typeof Ke=="string"&&!!Ke.match(Oi.hex)}},so=function(Ke,Pe,rt,Ne,Ot){if(Ke.required&&Pe===void 0){Eo(Ke,Pe,rt,Ne,Ot);return}var Kt=["integer","float","array","regexp","object","method","email","number","date","url","hex"],On=Ke.type;Kt.indexOf(On)>-1?Gr[On](Pe)||Ne.push(Gn(Ot.messages.types[On],Ke.fullField,Ke.type)):On&&(0,fi.Z)(Pe)!==Ke.type&&Ne.push(Gn(Ot.messages.types[On],Ke.fullField,Ke.type))},Li=so,co=function(Ke,Pe,rt,Ne,Ot){(/^\s+$/.test(Pe)||Pe==="")&&Ne.push(Gn(Ot.messages.whitespace,Ke.fullField))},ws=co,Or={required:Eo,whitespace:ws,type:Li,range:ri,enum:$i,pattern:ha},bo=function(Ke,Pe,rt,Ne,Ot){var Kt=[],On=Ke.required||!Ke.required&&Ne.hasOwnProperty(Ke.field);if(On){if(ir(Pe)&&!Ke.required)return rt();Or.required(Ke,Pe,Ne,Kt,Ot)}rt(Kt)},Ua=bo,jr=function(Ke,Pe,rt,Ne,Ot){var Kt=[],On=Ke.required||!Ke.required&&Ne.hasOwnProperty(Ke.field);if(On){if(Pe==null&&!Ke.required)return rt();Or.required(Ke,Pe,Ne,Kt,Ot,"array"),Pe!=null&&(Or.type(Ke,Pe,Ne,Kt,Ot),Or.range(Ke,Pe,Ne,Kt,Ot))}rt(Kt)},ia=jr,ss=function(Ke,Pe,rt,Ne,Ot){var Kt=[],On=Ke.required||!Ke.required&&Ne.hasOwnProperty(Ke.field);if(On){if(ir(Pe)&&!Ke.required)return rt();Or.required(Ke,Pe,Ne,Kt,Ot),Pe!==void 0&&Or.type(Ke,Pe,Ne,Kt,Ot)}rt(Kt)},Ra=ss,po=function(Ke,Pe,rt,Ne,Ot){var Kt=[],On=Ke.required||!Ke.required&&Ne.hasOwnProperty(Ke.field);if(On){if(ir(Pe,"date")&&!Ke.required)return rt();if(Or.required(Ke,Pe,Ne,Kt,Ot),!ir(Pe,"date")){var Yn;Pe instanceof Date?Yn=Pe:Yn=new Date(Pe),Or.type(Ke,Yn,Ne,Kt,Ot),Yn&&Or.range(Ke,Yn.getTime(),Ne,Kt,Ot)}}rt(Kt)},ds=po,il="enum",Cn=function(Ke,Pe,rt,Ne,Ot){var Kt=[],On=Ke.required||!Ke.required&&Ne.hasOwnProperty(Ke.field);if(On){if(ir(Pe)&&!Ke.required)return rt();Or.required(Ke,Pe,Ne,Kt,Ot),Pe!==void 0&&Or[il](Ke,Pe,Ne,Kt,Ot)}rt(Kt)},Dn=Cn,vn=function(Ke,Pe,rt,Ne,Ot){var Kt=[],On=Ke.required||!Ke.required&&Ne.hasOwnProperty(Ke.field);if(On){if(ir(Pe)&&!Ke.required)return rt();Or.required(Ke,Pe,Ne,Kt,Ot),Pe!==void 0&&(Or.type(Ke,Pe,Ne,Kt,Ot),Or.range(Ke,Pe,Ne,Kt,Ot))}rt(Kt)},$r=vn,hi=function(Ke,Pe,rt,Ne,Ot){var Kt=[],On=Ke.required||!Ke.required&&Ne.hasOwnProperty(Ke.field);if(On){if(ir(Pe)&&!Ke.required)return rt();Or.required(Ke,Pe,Ne,Kt,Ot),Pe!==void 0&&(Or.type(Ke,Pe,Ne,Kt,Ot),Or.range(Ke,Pe,Ne,Kt,Ot))}rt(Kt)},vi=hi,oa=function(Ke,Pe,rt,Ne,Ot){var Kt=[],On=Ke.required||!Ke.required&&Ne.hasOwnProperty(Ke.field);if(On){if(ir(Pe)&&!Ke.required)return rt();Or.required(Ke,Pe,Ne,Kt,Ot),Pe!==void 0&&Or.type(Ke,Pe,Ne,Kt,Ot)}rt(Kt)},aa=oa,Ca=function(Ke,Pe,rt,Ne,Ot){var Kt=[],On=Ke.required||!Ke.required&&Ne.hasOwnProperty(Ke.field);if(On){if(Pe===""&&(Pe=void 0),ir(Pe)&&!Ke.required)return rt();Or.required(Ke,Pe,Ne,Kt,Ot),Pe!==void 0&&(Or.type(Ke,Pe,Ne,Kt,Ot),Or.range(Ke,Pe,Ne,Kt,Ot))}rt(Kt)},Bo=Ca,Po=function(Ke,Pe,rt,Ne,Ot){var Kt=[],On=Ke.required||!Ke.required&&Ne.hasOwnProperty(Ke.field);if(On){if(ir(Pe)&&!Ke.required)return rt();Or.required(Ke,Pe,Ne,Kt,Ot),Pe!==void 0&&Or.type(Ke,Pe,Ne,Kt,Ot)}rt(Kt)},Jt=Po,xe=function(Ke,Pe,rt,Ne,Ot){var Kt=[],On=Ke.required||!Ke.required&&Ne.hasOwnProperty(Ke.field);if(On){if(ir(Pe,"string")&&!Ke.required)return rt();Or.required(Ke,Pe,Ne,Kt,Ot),ir(Pe,"string")||Or.pattern(Ke,Pe,Ne,Kt,Ot)}rt(Kt)},Me=xe,Fe=function(Ke,Pe,rt,Ne,Ot){var Kt=[],On=Ke.required||!Ke.required&&Ne.hasOwnProperty(Ke.field);if(On){if(ir(Pe)&&!Ke.required)return rt();Or.required(Ke,Pe,Ne,Kt,Ot),ir(Pe)||Or.type(Ke,Pe,Ne,Kt,Ot)}rt(Kt)},ve=Fe,Ve=function(Ke,Pe,rt,Ne,Ot){var Kt=[],On=Array.isArray(Pe)?"array":(0,fi.Z)(Pe);Or.required(Ke,Pe,Ne,Kt,Ot,On),rt(Kt)},fe=Ve,Nt=function(Ke,Pe,rt,Ne,Ot){var Kt=[],On=Ke.required||!Ke.required&&Ne.hasOwnProperty(Ke.field);if(On){if(ir(Pe,"string")&&!Ke.required)return rt();Or.required(Ke,Pe,Ne,Kt,Ot,"string"),ir(Pe,"string")||(Or.type(Ke,Pe,Ne,Kt,Ot),Or.range(Ke,Pe,Ne,Kt,Ot),Or.pattern(Ke,Pe,Ne,Kt,Ot),Ke.whitespace===!0&&Or.whitespace(Ke,Pe,Ne,Kt,Ot))}rt(Kt)},It=Nt,Ee=function(Ke,Pe,rt,Ne,Ot){var Kt=Ke.type,On=[],Yn=Ke.required||!Ke.required&&Ne.hasOwnProperty(Ke.field);if(Yn){if(ir(Pe,Kt)&&!Ke.required)return rt();Or.required(Ke,Pe,Ne,On,Ot,Kt),ir(Pe,Kt)||Or.type(Ke,Pe,Ne,On,Ot)}rt(On)},Tt=Ee,nt={string:It,method:aa,number:Bo,boolean:Ra,regexp:ve,integer:vi,float:$r,array:ia,object:Jt,enum:Dn,pattern:Me,date:ds,url:Tt,hex:Tt,email:Tt,required:fe,any:Ua},Pn=function(){function ln(Ke){(0,qe.Z)(this,ln),(0,mt.Z)(this,"rules",null),(0,mt.Z)(this,"_messages",Hr),this.define(Ke)}return(0,De.Z)(ln,[{key:"define",value:function(Pe){var rt=this;if(!Pe)throw new Error("Cannot configure a schema with no rules");if((0,fi.Z)(Pe)!=="object"||Array.isArray(Pe))throw new Error("Rules must be an object");this.rules={},Object.keys(Pe).forEach(function(Ne){var Ot=Pe[Ne];rt.rules[Ne]=Array.isArray(Ot)?Ot:[Ot]})}},{key:"messages",value:function(Pe){return Pe&&(this._messages=Xr(Pt(),Pe)),this._messages}},{key:"validate",value:function(Pe){var rt=this,Ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ot=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},Kt=Pe,On=Ne,Yn=Ot;if(typeof On=="function"&&(Yn=On,On={}),!this.rules||Object.keys(this.rules).length===0)return Yn&&Yn(null,Kt),Promise.resolve(Kt);function gr(Pr){var Ur=[],Cr={};function Er(Ji){if(Array.isArray(Ji)){var Qo;Ur=(Qo=Ur).concat.apply(Qo,(0,ot.Z)(Ji))}else Ur.push(Ji)}for(var yi=0;yi<Pr.length;yi++)Er(Pr[yi]);Ur.length?(Cr=Tn(Ur),Yn(Ur,Cr)):Yn(null,Kt)}if(On.messages){var qn=this.messages();qn===Hr&&(qn=Pt()),Xr(qn,On.messages),On.messages=qn}else On.messages=this.messages();var Ar={},li=On.keys||Object.keys(this.rules);li.forEach(function(Pr){var Ur=rt.rules[Pr],Cr=Kt[Pr];Ur.forEach(function(Er){var yi=Er;typeof yi.transform=="function"&&(Kt===Pe&&(Kt=(0,lt.Z)({},Kt)),Cr=Kt[Pr]=yi.transform(Cr),Cr!=null&&(yi.type=yi.type||(Array.isArray(Cr)?"array":(0,fi.Z)(Cr)))),typeof yi=="function"?yi={validator:yi}:yi=(0,lt.Z)({},yi),yi.validator=rt.getValidationMethod(yi),yi.validator&&(yi.field=Pr,yi.fullField=yi.fullField||Pr,yi.type=rt.getType(yi),Ar[Pr]=Ar[Pr]||[],Ar[Pr].push({rule:yi,value:Cr,source:Kt,field:Pr}))})});var Bi={};return ki(Ar,On,function(Pr,Ur){var Cr=Pr.rule,Er=(Cr.type==="object"||Cr.type==="array")&&((0,fi.Z)(Cr.fields)==="object"||(0,fi.Z)(Cr.defaultField)==="object");Er=Er&&(Cr.required||!Cr.required&&Pr.value),Cr.field=Pr.field;function yi(_a,Oa){return(0,lt.Z)((0,lt.Z)({},Oa),{},{fullField:"".concat(Cr.fullField,".").concat(_a),fullFields:Cr.fullFields?[].concat((0,ot.Z)(Cr.fullFields),[_a]):[_a]})}function Ji(){var _a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],Oa=Array.isArray(_a)?_a:[_a];!On.suppressWarning&&Oa.length&&ln.warning("async-validator:",Oa),Oa.length&&Cr.message!==void 0&&(Oa=[].concat(Cr.message));var Yo=Oa.map(Pi(Cr,Kt));if(On.first&&Yo.length)return Bi[Cr.field]=1,Ur(Yo);if(!Er)Ur(Yo);else{if(Cr.required&&!Pr.value)return Cr.message!==void 0?Yo=[].concat(Cr.message).map(Pi(Cr,Kt)):On.error&&(Yo=[On.error(Cr,Gn(On.messages.required,Cr.field))]),Ur(Yo);var za={};Cr.defaultField&&Object.keys(Pr.value).map(function(js){za[js]=Cr.defaultField}),za=(0,lt.Z)((0,lt.Z)({},za),Pr.rule.fields);var ea={};Object.keys(za).forEach(function(js){var As=za[js],vl=Array.isArray(As)?As:[As];ea[js]=vl.map(yi.bind(null,js))});var tl=new ln(ea);tl.messages(On.messages),Pr.rule.options&&(Pr.rule.options.messages=On.messages,Pr.rule.options.error=On.error),tl.validate(Pr.value,Pr.rule.options||On,function(js){var As=[];Yo&&Yo.length&&As.push.apply(As,(0,ot.Z)(Yo)),js&&js.length&&As.push.apply(As,(0,ot.Z)(js)),Ur(As.length?As:null)})}}var Qo;if(Cr.asyncValidator)Qo=Cr.asyncValidator(Cr,Pr.value,Ji,Pr.source,On);else if(Cr.validator){try{Qo=Cr.validator(Cr,Pr.value,Ji,Pr.source,On)}catch(_a){var Ro,Ta;(Ro=(Ta=console).error)===null||Ro===void 0||Ro.call(Ta,_a),On.suppressValidatorError||setTimeout(function(){throw _a},0),Ji(_a.message)}Qo===!0?Ji():Qo===!1?Ji(typeof Cr.message=="function"?Cr.message(Cr.fullField||Cr.field):Cr.message||"".concat(Cr.fullField||Cr.field," fails")):Qo instanceof Array?Ji(Qo):Qo instanceof Error&&Ji(Qo.message)}Qo&&Qo.then&&Qo.then(function(){return Ji()},function(_a){return Ji(_a)})},function(Pr){gr(Pr)},Kt)}},{key:"getType",value:function(Pe){if(Pe.type===void 0&&Pe.pattern instanceof RegExp&&(Pe.type="pattern"),typeof Pe.validator!="function"&&Pe.type&&!nt.hasOwnProperty(Pe.type))throw new Error(Gn("Unknown rule type %s",Pe.type));return Pe.type||"string"}},{key:"getValidationMethod",value:function(Pe){if(typeof Pe.validator=="function")return Pe.validator;var rt=Object.keys(Pe),Ne=rt.indexOf("message");return Ne!==-1&&rt.splice(Ne,1),rt.length===1&&rt[0]==="required"?nt.required:nt[this.getType(Pe)]||void 0}}]),ln}();(0,mt.Z)(Pn,"register",function(Ke,Pe){if(typeof Pe!="function")throw new Error("Cannot register a validator by type, validator is not a function");nt[Ke]=Pe}),(0,mt.Z)(Pn,"warning",Rt),(0,mt.Z)(Pn,"messages",Hr),(0,mt.Z)(Pn,"validators",nt);var ur=Pn,lr="'${name}' is not a valid ${type}",pi={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:lr,method:lr,array:lr,object:lr,number:lr,date:lr,boolean:lr,integer:lr,float:lr,regexp:lr,email:lr,url:lr,hex:lr},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},ai=he(27636),Ei=ur;function wi(ln,Ke){return ln.replace(/\\?\$\{\w+\}/g,function(Pe){if(Pe.startsWith("\\"))return Pe.slice(1);var rt=Pe.slice(2,-1);return Ke[rt]})}var Oo="CODE_LOGIC_ERROR";function Xo(ln,Ke,Pe,rt,Ne){return So.apply(this,arguments)}function So(){return So=(0,Be.Z)((0,d.Z)().mark(function ln(Ke,Pe,rt,Ne,Ot){var Kt,On,Yn,gr,qn,Ar,li,Bi,Pr;return(0,d.Z)().wrap(function(Cr){for(;;)switch(Cr.prev=Cr.next){case 0:return Kt=(0,lt.Z)({},rt),delete Kt.ruleIndex,Ei.warning=function(){},Kt.validator&&(On=Kt.validator,Kt.validator=function(){try{return On.apply(void 0,arguments)}catch(Er){return console.error(Er),Promise.reject(Oo)}}),Yn=null,Kt&&Kt.type==="array"&&Kt.defaultField&&(Yn=Kt.defaultField,delete Kt.defaultField),gr=new Ei((0,mt.Z)({},Ke,[Kt])),qn=(0,ai.T)(pi,Ne.validateMessages),gr.messages(qn),Ar=[],Cr.prev=10,Cr.next=13,Promise.resolve(gr.validate((0,mt.Z)({},Ke,Pe),(0,lt.Z)({},Ne)));case 13:Cr.next=18;break;case 15:Cr.prev=15,Cr.t0=Cr.catch(10),Cr.t0.errors&&(Ar=Cr.t0.errors.map(function(Er,yi){var Ji=Er.message,Qo=Ji===Oo?qn.default:Ji;return s.isValidElement(Qo)?s.cloneElement(Qo,{key:"error_".concat(yi)}):Qo}));case 18:if(!(!Ar.length&&Yn)){Cr.next=23;break}return Cr.next=21,Promise.all(Pe.map(function(Er,yi){return Xo("".concat(Ke,".").concat(yi),Er,Yn,Ne,Ot)}));case 21:return li=Cr.sent,Cr.abrupt("return",li.reduce(function(Er,yi){return[].concat((0,ot.Z)(Er),(0,ot.Z)(yi))},[]));case 23:return Bi=(0,lt.Z)((0,lt.Z)({},rt),{},{name:Ke,enum:(rt.enum||[]).join(", ")},Ot),Pr=Ar.map(function(Er){return typeof Er=="string"?wi(Er,Bi):Er}),Cr.abrupt("return",Pr);case 26:case"end":return Cr.stop()}},ln,null,[[10,15]])})),So.apply(this,arguments)}function pa(ln,Ke,Pe,rt,Ne,Ot){var Kt=ln.join("."),On=Pe.map(function(qn,Ar){var li=qn.validator,Bi=(0,lt.Z)((0,lt.Z)({},qn),{},{ruleIndex:Ar});return li&&(Bi.validator=function(Pr,Ur,Cr){var Er=!1,yi=function(){for(var Ro=arguments.length,Ta=new Array(Ro),_a=0;_a<Ro;_a++)Ta[_a]=arguments[_a];Promise.resolve().then(function(){(0,Ht.ZP)(!Er,"Your validator function has already return a promise. `callback` will be ignored."),Er||Cr.apply(void 0,Ta)})},Ji=li(Pr,Ur,yi);Er=Ji&&typeof Ji.then=="function"&&typeof Ji.catch=="function",(0,Ht.ZP)(Er,"`callback` is deprecated. Please return a promise instead."),Er&&Ji.then(function(){Cr()}).catch(function(Qo){Cr(Qo||" ")})}),Bi}).sort(function(qn,Ar){var li=qn.warningOnly,Bi=qn.ruleIndex,Pr=Ar.warningOnly,Ur=Ar.ruleIndex;return!!li==!!Pr?Bi-Ur:li?1:-1}),Yn;if(Ne===!0)Yn=new Promise(function(){var qn=(0,Be.Z)((0,d.Z)().mark(function Ar(li,Bi){var Pr,Ur,Cr;return(0,d.Z)().wrap(function(yi){for(;;)switch(yi.prev=yi.next){case 0:Pr=0;case 1:if(!(Pr<On.length)){yi.next=12;break}return Ur=On[Pr],yi.next=5,Xo(Kt,Ke,Ur,rt,Ot);case 5:if(Cr=yi.sent,!Cr.length){yi.next=9;break}return Bi([{errors:Cr,rule:Ur}]),yi.abrupt("return");case 9:Pr+=1,yi.next=1;break;case 12:li([]);case 13:case"end":return yi.stop()}},Ar)}));return function(Ar,li){return qn.apply(this,arguments)}}());else{var gr=On.map(function(qn){return Xo(Kt,Ke,qn,rt,Ot).then(function(Ar){return{errors:Ar,rule:qn}})});Yn=(Ne?Sl(gr):ma(gr)).then(function(qn){return Promise.reject(qn)})}return Yn.catch(function(qn){return qn}),Yn}function ma(ln){return Ea.apply(this,arguments)}function Ea(){return Ea=(0,Be.Z)((0,d.Z)().mark(function ln(Ke){return(0,d.Z)().wrap(function(rt){for(;;)switch(rt.prev=rt.next){case 0:return rt.abrupt("return",Promise.all(Ke).then(function(Ne){var Ot,Kt=(Ot=[]).concat.apply(Ot,(0,ot.Z)(Ne));return Kt}));case 1:case"end":return rt.stop()}},ln)})),Ea.apply(this,arguments)}function Sl(ln){return Lt.apply(this,arguments)}function Lt(){return Lt=(0,Be.Z)((0,d.Z)().mark(function ln(Ke){var Pe;return(0,d.Z)().wrap(function(Ne){for(;;)switch(Ne.prev=Ne.next){case 0:return Pe=0,Ne.abrupt("return",new Promise(function(Ot){Ke.forEach(function(Kt){Kt.then(function(On){On.errors.length&&Ot([On]),Pe+=1,Pe===Ke.length&&Ot([])})})}));case 2:case"end":return Ne.stop()}},ln)})),Lt.apply(this,arguments)}var Ln=he(36040);function Bn(ln){return En(ln)}function tr(ln,Ke){var Pe={};return Ke.forEach(function(rt){var Ne=(0,Ln.Z)(ln,rt);Pe=(0,ai.Z)(Pe,rt,Ne)}),Pe}function Lr(ln,Ke){var Pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return ln&&ln.some(function(rt){return to(Ke,rt,Pe)})}function to(ln,Ke){var Pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!ln||!Ke||!Pe&&ln.length!==Ke.length?!1:Ke.every(function(rt,Ne){return ln[Ne]===rt})}function mo(ln,Ke){if(ln===Ke)return!0;if(!ln&&Ke||ln&&!Ke||!ln||!Ke||(0,fi.Z)(ln)!=="object"||(0,fi.Z)(Ke)!=="object")return!1;var Pe=Object.keys(ln),rt=Object.keys(Ke),Ne=new Set([].concat(Pe,rt));return(0,ot.Z)(Ne).every(function(Ot){var Kt=ln[Ot],On=Ke[Ot];return typeof Kt=="function"&&typeof On=="function"?!0:Kt===On})}function Io(ln){var Ke=arguments.length<=1?void 0:arguments[1];return Ke&&Ke.target&&(0,fi.Z)(Ke.target)==="object"&&ln in Ke.target?Ke.target[ln]:Ke}function uo(ln,Ke,Pe){var rt=ln.length;if(Ke<0||Ke>=rt||Pe<0||Pe>=rt)return ln;var Ne=ln[Ke],Ot=Ke-Pe;return Ot>0?[].concat((0,ot.Z)(ln.slice(0,Pe)),[Ne],(0,ot.Z)(ln.slice(Pe,Ke)),(0,ot.Z)(ln.slice(Ke+1,rt))):Ot<0?[].concat((0,ot.Z)(ln.slice(0,Ke)),(0,ot.Z)(ln.slice(Ke+1,Pe+1)),[Ne],(0,ot.Z)(ln.slice(Pe+1,rt))):ln}var ga=["name"],$o=[];function Vo(ln,Ke,Pe,rt,Ne,Ot){return typeof ln=="function"?ln(Ke,Pe,"source"in Ot?{source:Ot.source}:{}):rt!==Ne}var qa=function(ln){(0,zt.Z)(Pe,ln);var Ke=(0,qt.Z)(Pe);function Pe(rt){var Ne;if((0,qe.Z)(this,Pe),Ne=Ke.call(this,rt),(0,mt.Z)((0,Ae.Z)(Ne),"state",{resetCount:0}),(0,mt.Z)((0,Ae.Z)(Ne),"cancelRegisterFunc",null),(0,mt.Z)((0,Ae.Z)(Ne),"mounted",!1),(0,mt.Z)((0,Ae.Z)(Ne),"touched",!1),(0,mt.Z)((0,Ae.Z)(Ne),"dirty",!1),(0,mt.Z)((0,Ae.Z)(Ne),"validatePromise",void 0),(0,mt.Z)((0,Ae.Z)(Ne),"prevValidating",void 0),(0,mt.Z)((0,Ae.Z)(Ne),"errors",$o),(0,mt.Z)((0,Ae.Z)(Ne),"warnings",$o),(0,mt.Z)((0,Ae.Z)(Ne),"cancelRegister",function(){var Yn=Ne.props,gr=Yn.preserve,qn=Yn.isListField,Ar=Yn.name;Ne.cancelRegisterFunc&&Ne.cancelRegisterFunc(qn,gr,Bn(Ar)),Ne.cancelRegisterFunc=null}),(0,mt.Z)((0,Ae.Z)(Ne),"getNamePath",function(){var Yn=Ne.props,gr=Yn.name,qn=Yn.fieldContext,Ar=qn.prefixName,li=Ar===void 0?[]:Ar;return gr!==void 0?[].concat((0,ot.Z)(li),(0,ot.Z)(gr)):[]}),(0,mt.Z)((0,Ae.Z)(Ne),"getRules",function(){var Yn=Ne.props,gr=Yn.rules,qn=gr===void 0?[]:gr,Ar=Yn.fieldContext;return qn.map(function(li){return typeof li=="function"?li(Ar):li})}),(0,mt.Z)((0,Ae.Z)(Ne),"refresh",function(){Ne.mounted&&Ne.setState(function(Yn){var gr=Yn.resetCount;return{resetCount:gr+1}})}),(0,mt.Z)((0,Ae.Z)(Ne),"metaCache",null),(0,mt.Z)((0,Ae.Z)(Ne),"triggerMetaEvent",function(Yn){var gr=Ne.props.onMetaChange;if(gr){var qn=(0,lt.Z)((0,lt.Z)({},Ne.getMeta()),{},{destroy:Yn});(0,an.Z)(Ne.metaCache,qn)||gr(qn),Ne.metaCache=qn}else Ne.metaCache=null}),(0,mt.Z)((0,Ae.Z)(Ne),"onStoreChange",function(Yn,gr,qn){var Ar=Ne.props,li=Ar.shouldUpdate,Bi=Ar.dependencies,Pr=Bi===void 0?[]:Bi,Ur=Ar.onReset,Cr=qn.store,Er=Ne.getNamePath(),yi=Ne.getValue(Yn),Ji=Ne.getValue(Cr),Qo=gr&&Lr(gr,Er);switch(qn.type==="valueUpdate"&&qn.source==="external"&&!(0,an.Z)(yi,Ji)&&(Ne.touched=!0,Ne.dirty=!0,Ne.validatePromise=null,Ne.errors=$o,Ne.warnings=$o,Ne.triggerMetaEvent()),qn.type){case"reset":if(!gr||Qo){Ne.touched=!1,Ne.dirty=!1,Ne.validatePromise=void 0,Ne.errors=$o,Ne.warnings=$o,Ne.triggerMetaEvent(),Ur==null||Ur(),Ne.refresh();return}break;case"remove":{if(li&&Vo(li,Yn,Cr,yi,Ji,qn)){Ne.reRender();return}break}case"setField":{var Ro=qn.data;if(Qo){"touched"in Ro&&(Ne.touched=Ro.touched),"validating"in Ro&&!("originRCField"in Ro)&&(Ne.validatePromise=Ro.validating?Promise.resolve([]):null),"errors"in Ro&&(Ne.errors=Ro.errors||$o),"warnings"in Ro&&(Ne.warnings=Ro.warnings||$o),Ne.dirty=!0,Ne.triggerMetaEvent(),Ne.reRender();return}else if("value"in Ro&&Lr(gr,Er,!0)){Ne.reRender();return}if(li&&!Er.length&&Vo(li,Yn,Cr,yi,Ji,qn)){Ne.reRender();return}break}case"dependenciesUpdate":{var Ta=Pr.map(Bn);if(Ta.some(function(_a){return Lr(qn.relatedFields,_a)})){Ne.reRender();return}break}default:if(Qo||(!Pr.length||Er.length||li)&&Vo(li,Yn,Cr,yi,Ji,qn)){Ne.reRender();return}break}li===!0&&Ne.reRender()}),(0,mt.Z)((0,Ae.Z)(Ne),"validateRules",function(Yn){var gr=Ne.getNamePath(),qn=Ne.getValue(),Ar=Yn||{},li=Ar.triggerName,Bi=Ar.validateOnly,Pr=Bi===void 0?!1:Bi,Ur=Promise.resolve().then((0,Be.Z)((0,d.Z)().mark(function Cr(){var Er,yi,Ji,Qo,Ro,Ta,_a;return(0,d.Z)().wrap(function(Yo){for(;;)switch(Yo.prev=Yo.next){case 0:if(Ne.mounted){Yo.next=2;break}return Yo.abrupt("return",[]);case 2:if(Er=Ne.props,yi=Er.validateFirst,Ji=yi===void 0?!1:yi,Qo=Er.messageVariables,Ro=Er.validateDebounce,Ta=Ne.getRules(),li&&(Ta=Ta.filter(function(za){return za}).filter(function(za){var ea=za.validateTrigger;if(!ea)return!0;var tl=En(ea);return tl.includes(li)})),!(Ro&&li)){Yo.next=10;break}return Yo.next=8,new Promise(function(za){setTimeout(za,Ro)});case 8:if(Ne.validatePromise===Ur){Yo.next=10;break}return Yo.abrupt("return",[]);case 10:return _a=pa(gr,qn,Ta,Yn,Ji,Qo),_a.catch(function(za){return za}).then(function(){var za=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$o;if(Ne.validatePromise===Ur){var ea;Ne.validatePromise=null;var tl=[],js=[];(ea=za.forEach)===null||ea===void 0||ea.call(za,function(As){var vl=As.rule.warningOnly,Ds=As.errors,Ts=Ds===void 0?$o:Ds;vl?js.push.apply(js,(0,ot.Z)(Ts)):tl.push.apply(tl,(0,ot.Z)(Ts))}),Ne.errors=tl,Ne.warnings=js,Ne.triggerMetaEvent(),Ne.reRender()}}),Yo.abrupt("return",_a);case 13:case"end":return Yo.stop()}},Cr)})));return Pr||(Ne.validatePromise=Ur,Ne.dirty=!0,Ne.errors=$o,Ne.warnings=$o,Ne.triggerMetaEvent(),Ne.reRender()),Ur}),(0,mt.Z)((0,Ae.Z)(Ne),"isFieldValidating",function(){return!!Ne.validatePromise}),(0,mt.Z)((0,Ae.Z)(Ne),"isFieldTouched",function(){return Ne.touched}),(0,mt.Z)((0,Ae.Z)(Ne),"isFieldDirty",function(){if(Ne.dirty||Ne.props.initialValue!==void 0)return!0;var Yn=Ne.props.fieldContext,gr=Yn.getInternalHooks(Zt),qn=gr.getInitialValue;return qn(Ne.getNamePath())!==void 0}),(0,mt.Z)((0,Ae.Z)(Ne),"getErrors",function(){return Ne.errors}),(0,mt.Z)((0,Ae.Z)(Ne),"getWarnings",function(){return Ne.warnings}),(0,mt.Z)((0,Ae.Z)(Ne),"isListField",function(){return Ne.props.isListField}),(0,mt.Z)((0,Ae.Z)(Ne),"isList",function(){return Ne.props.isList}),(0,mt.Z)((0,Ae.Z)(Ne),"isPreserve",function(){return Ne.props.preserve}),(0,mt.Z)((0,Ae.Z)(Ne),"getMeta",function(){Ne.prevValidating=Ne.isFieldValidating();var Yn={touched:Ne.isFieldTouched(),validating:Ne.prevValidating,errors:Ne.errors,warnings:Ne.warnings,name:Ne.getNamePath(),validated:Ne.validatePromise===null};return Yn}),(0,mt.Z)((0,Ae.Z)(Ne),"getOnlyChild",function(Yn){if(typeof Yn=="function"){var gr=Ne.getMeta();return(0,lt.Z)((0,lt.Z)({},Ne.getOnlyChild(Yn(Ne.getControlled(),gr,Ne.props.fieldContext))),{},{isFunction:!0})}var qn=(0,Et.Z)(Yn);return qn.length!==1||!s.isValidElement(qn[0])?{child:qn,isFunction:!1}:{child:qn[0],isFunction:!1}}),(0,mt.Z)((0,Ae.Z)(Ne),"getValue",function(Yn){var gr=Ne.props.fieldContext.getFieldsValue,qn=Ne.getNamePath();return(0,Ln.Z)(Yn||gr(!0),qn)}),(0,mt.Z)((0,Ae.Z)(Ne),"getControlled",function(){var Yn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},gr=Ne.props,qn=gr.name,Ar=gr.trigger,li=gr.validateTrigger,Bi=gr.getValueFromEvent,Pr=gr.normalize,Ur=gr.valuePropName,Cr=gr.getValueProps,Er=gr.fieldContext,yi=li!==void 0?li:Er.validateTrigger,Ji=Ne.getNamePath(),Qo=Er.getInternalHooks,Ro=Er.getFieldsValue,Ta=Qo(Zt),_a=Ta.dispatch,Oa=Ne.getValue(),Yo=Cr||function(As){return(0,mt.Z)({},Ur,As)},za=Yn[Ar],ea=qn!==void 0?Yo(Oa):{},tl=(0,lt.Z)((0,lt.Z)({},Yn),ea);tl[Ar]=function(){Ne.touched=!0,Ne.dirty=!0,Ne.triggerMetaEvent();for(var As,vl=arguments.length,Ds=new Array(vl),Ts=0;Ts<vl;Ts++)Ds[Ts]=arguments[Ts];Bi?As=Bi.apply(void 0,Ds):As=Io.apply(void 0,[Ur].concat(Ds)),Pr&&(As=Pr(As,Oa,Ro(!0))),As!==Oa&&_a({type:"updateValue",namePath:Ji,value:As}),za&&za.apply(void 0,Ds)};var js=En(yi||[]);return js.forEach(function(As){var vl=tl[As];tl[As]=function(){vl&&vl.apply(void 0,arguments);var Ds=Ne.props.rules;Ds&&Ds.length&&_a({type:"validateField",namePath:Ji,triggerName:As})}}),tl}),rt.fieldContext){var Ot=rt.fieldContext.getInternalHooks,Kt=Ot(Zt),On=Kt.initEntityValue;On((0,Ae.Z)(Ne))}return Ne}return(0,De.Z)(Pe,[{key:"componentDidMount",value:function(){var Ne=this.props,Ot=Ne.shouldUpdate,Kt=Ne.fieldContext;if(this.mounted=!0,Kt){var On=Kt.getInternalHooks,Yn=On(Zt),gr=Yn.registerField;this.cancelRegisterFunc=gr(this)}Ot===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var Ne=this.state.resetCount,Ot=this.props.children,Kt=this.getOnlyChild(Ot),On=Kt.child,Yn=Kt.isFunction,gr;return Yn?gr=On:s.isValidElement(On)?gr=s.cloneElement(On,this.getControlled(On.props)):((0,Ht.ZP)(!On,"`children` of Field is not validate ReactElement."),gr=On),s.createElement(s.Fragment,{key:Ne},gr)}}]),Pe}(s.Component);(0,mt.Z)(qa,"contextType",sn),(0,mt.Z)(qa,"defaultProps",{trigger:"onChange",valuePropName:"value"});function gs(ln){var Ke,Pe=ln.name,rt=(0,oe.Z)(ln,ga),Ne=s.useContext(sn),Ot=s.useContext(_n),Kt=Pe!==void 0?Bn(Pe):void 0,On=(Ke=rt.isListField)!==null&&Ke!==void 0?Ke:!!Ot,Yn="keep";return On||(Yn="_".concat((Kt||[]).join("_"))),s.createElement(qa,(0,jt.Z)({key:Yn,name:Kt,isListField:On},rt,{fieldContext:Ne}))}var Os=gs;function ys(ln){var Ke=ln.name,Pe=ln.initialValue,rt=ln.children,Ne=ln.rules,Ot=ln.validateTrigger,Kt=ln.isListField,On=s.useContext(sn),Yn=s.useContext(_n),gr=s.useRef({keys:[],id:0}),qn=gr.current,Ar=s.useMemo(function(){var Ur=Bn(On.prefixName)||[];return[].concat((0,ot.Z)(Ur),(0,ot.Z)(Bn(Ke)))},[On.prefixName,Ke]),li=s.useMemo(function(){return(0,lt.Z)((0,lt.Z)({},On),{},{prefixName:Ar})},[On,Ar]),Bi=s.useMemo(function(){return{getKey:function(Cr){var Er=Ar.length,yi=Cr[Er];return[qn.keys[yi],Cr.slice(Er+1)]}}},[Ar]);if(typeof rt!="function")return(0,Ht.ZP)(!1,"Form.List only accepts function as children."),null;var Pr=function(Cr,Er,yi){var Ji=yi.source;return Ji==="internal"?!1:Cr!==Er};return s.createElement(_n.Provider,{value:Bi},s.createElement(sn.Provider,{value:li},s.createElement(Os,{name:[],shouldUpdate:Pr,rules:Ne,validateTrigger:Ot,initialValue:Pe,isList:!0,isListField:Kt!=null?Kt:!!Yn},function(Ur,Cr){var Er=Ur.value,yi=Er===void 0?[]:Er,Ji=Ur.onChange,Qo=On.getFieldValue,Ro=function(){var Yo=Qo(Ar||[]);return Yo||[]},Ta={add:function(Yo,za){var ea=Ro();za>=0&&za<=ea.length?(qn.keys=[].concat((0,ot.Z)(qn.keys.slice(0,za)),[qn.id],(0,ot.Z)(qn.keys.slice(za))),Ji([].concat((0,ot.Z)(ea.slice(0,za)),[Yo],(0,ot.Z)(ea.slice(za))))):(qn.keys=[].concat((0,ot.Z)(qn.keys),[qn.id]),Ji([].concat((0,ot.Z)(ea),[Yo]))),qn.id+=1},remove:function(Yo){var za=Ro(),ea=new Set(Array.isArray(Yo)?Yo:[Yo]);ea.size<=0||(qn.keys=qn.keys.filter(function(tl,js){return!ea.has(js)}),Ji(za.filter(function(tl,js){return!ea.has(js)})))},move:function(Yo,za){if(Yo!==za){var ea=Ro();Yo<0||Yo>=ea.length||za<0||za>=ea.length||(qn.keys=uo(qn.keys,Yo,za),Ji(uo(ea,Yo,za)))}}},_a=yi||[];return Array.isArray(_a)||(_a=[]),rt(_a.map(function(Oa,Yo){var za=qn.keys[Yo];return za===void 0&&(qn.keys[Yo]=qn.id,za=qn.keys[Yo],qn.id+=1),{name:Yo,key:za,isListField:!0}}),Ta,Cr)})))}var _s=ys,ns=he(89692);function $s(ln){var Ke=!1,Pe=ln.length,rt=[];return ln.length?new Promise(function(Ne,Ot){ln.forEach(function(Kt,On){Kt.catch(function(Yn){return Ke=!0,Yn}).then(function(Yn){Pe-=1,rt[On]=Yn,!(Pe>0)&&(Ke&&Ot(rt),Ne(rt))})})}):Promise.resolve([])}var xo="__@field_split__";function Wa(ln){return ln.map(function(Ke){return"".concat((0,fi.Z)(Ke),":").concat(Ke)}).join(xo)}var Fo=function(){function ln(){(0,qe.Z)(this,ln),(0,mt.Z)(this,"kvs",new Map)}return(0,De.Z)(ln,[{key:"set",value:function(Pe,rt){this.kvs.set(Wa(Pe),rt)}},{key:"get",value:function(Pe){return this.kvs.get(Wa(Pe))}},{key:"update",value:function(Pe,rt){var Ne=this.get(Pe),Ot=rt(Ne);Ot?this.set(Pe,Ot):this.delete(Pe)}},{key:"delete",value:function(Pe){this.kvs.delete(Wa(Pe))}},{key:"map",value:function(Pe){return(0,ot.Z)(this.kvs.entries()).map(function(rt){var Ne=(0,ns.Z)(rt,2),Ot=Ne[0],Kt=Ne[1],On=Ot.split(xo);return Pe({key:On.map(function(Yn){var gr=Yn.match(/^([^:]*):(.*)$/),qn=(0,ns.Z)(gr,3),Ar=qn[1],li=qn[2];return Ar==="number"?Number(li):li}),value:Kt})})}},{key:"toJSON",value:function(){var Pe={};return this.map(function(rt){var Ne=rt.key,Ot=rt.value;return Pe[Ne.join(".")]=Ot,null}),Pe}}]),ln}(),go=Fo,no=["name"],Is=(0,De.Z)(function ln(Ke){var Pe=this;(0,qe.Z)(this,ln),(0,mt.Z)(this,"formHooked",!1),(0,mt.Z)(this,"forceRootUpdate",void 0),(0,mt.Z)(this,"subscribable",!0),(0,mt.Z)(this,"store",{}),(0,mt.Z)(this,"fieldEntities",[]),(0,mt.Z)(this,"initialValues",{}),(0,mt.Z)(this,"callbacks",{}),(0,mt.Z)(this,"validateMessages",null),(0,mt.Z)(this,"preserve",null),(0,mt.Z)(this,"lastValidatePromise",null),(0,mt.Z)(this,"getForm",function(){return{getFieldValue:Pe.getFieldValue,getFieldsValue:Pe.getFieldsValue,getFieldError:Pe.getFieldError,getFieldWarning:Pe.getFieldWarning,getFieldsError:Pe.getFieldsError,isFieldsTouched:Pe.isFieldsTouched,isFieldTouched:Pe.isFieldTouched,isFieldValidating:Pe.isFieldValidating,isFieldsValidating:Pe.isFieldsValidating,resetFields:Pe.resetFields,setFields:Pe.setFields,setFieldValue:Pe.setFieldValue,setFieldsValue:Pe.setFieldsValue,validateFields:Pe.validateFields,submit:Pe.submit,_init:!0,getInternalHooks:Pe.getInternalHooks}}),(0,mt.Z)(this,"getInternalHooks",function(rt){return rt===Zt?(Pe.formHooked=!0,{dispatch:Pe.dispatch,initEntityValue:Pe.initEntityValue,registerField:Pe.registerField,useSubscribe:Pe.useSubscribe,setInitialValues:Pe.setInitialValues,destroyForm:Pe.destroyForm,setCallbacks:Pe.setCallbacks,setValidateMessages:Pe.setValidateMessages,getFields:Pe.getFields,setPreserve:Pe.setPreserve,getInitialValue:Pe.getInitialValue,registerWatch:Pe.registerWatch}):((0,Ht.ZP)(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)}),(0,mt.Z)(this,"useSubscribe",function(rt){Pe.subscribable=rt}),(0,mt.Z)(this,"prevWithoutPreserves",null),(0,mt.Z)(this,"setInitialValues",function(rt,Ne){if(Pe.initialValues=rt||{},Ne){var Ot,Kt=(0,ai.T)(rt,Pe.store);(Ot=Pe.prevWithoutPreserves)===null||Ot===void 0||Ot.map(function(On){var Yn=On.key;Kt=(0,ai.Z)(Kt,Yn,(0,Ln.Z)(rt,Yn))}),Pe.prevWithoutPreserves=null,Pe.updateStore(Kt)}}),(0,mt.Z)(this,"destroyForm",function(rt){if(rt)Pe.updateStore({});else{var Ne=new go;Pe.getFieldEntities(!0).forEach(function(Ot){Pe.isMergedPreserve(Ot.isPreserve())||Ne.set(Ot.getNamePath(),!0)}),Pe.prevWithoutPreserves=Ne}}),(0,mt.Z)(this,"getInitialValue",function(rt){var Ne=(0,Ln.Z)(Pe.initialValues,rt);return rt.length?(0,ai.T)(Ne):Ne}),(0,mt.Z)(this,"setCallbacks",function(rt){Pe.callbacks=rt}),(0,mt.Z)(this,"setValidateMessages",function(rt){Pe.validateMessages=rt}),(0,mt.Z)(this,"setPreserve",function(rt){Pe.preserve=rt}),(0,mt.Z)(this,"watchList",[]),(0,mt.Z)(this,"registerWatch",function(rt){return Pe.watchList.push(rt),function(){Pe.watchList=Pe.watchList.filter(function(Ne){return Ne!==rt})}}),(0,mt.Z)(this,"notifyWatch",function(){var rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(Pe.watchList.length){var Ne=Pe.getFieldsValue(),Ot=Pe.getFieldsValue(!0);Pe.watchList.forEach(function(Kt){Kt(Ne,Ot,rt)})}}),(0,mt.Z)(this,"timeoutId",null),(0,mt.Z)(this,"warningUnhooked",function(){}),(0,mt.Z)(this,"updateStore",function(rt){Pe.store=rt}),(0,mt.Z)(this,"getFieldEntities",function(){var rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return rt?Pe.fieldEntities.filter(function(Ne){return Ne.getNamePath().length}):Pe.fieldEntities}),(0,mt.Z)(this,"getFieldsMap",function(){var rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,Ne=new go;return Pe.getFieldEntities(rt).forEach(function(Ot){var Kt=Ot.getNamePath();Ne.set(Kt,Ot)}),Ne}),(0,mt.Z)(this,"getFieldEntitiesForNamePathList",function(rt){if(!rt)return Pe.getFieldEntities(!0);var Ne=Pe.getFieldsMap(!0);return rt.map(function(Ot){var Kt=Bn(Ot);return Ne.get(Kt)||{INVALIDATE_NAME_PATH:Bn(Ot)}})}),(0,mt.Z)(this,"getFieldsValue",function(rt,Ne){Pe.warningUnhooked();var Ot,Kt,On;if(rt===!0||Array.isArray(rt)?(Ot=rt,Kt=Ne):rt&&(0,fi.Z)(rt)==="object"&&(On=rt.strict,Kt=rt.filter),Ot===!0&&!Kt)return Pe.store;var Yn=Pe.getFieldEntitiesForNamePathList(Array.isArray(Ot)?Ot:null),gr=[];return Yn.forEach(function(qn){var Ar,li,Bi="INVALIDATE_NAME_PATH"in qn?qn.INVALIDATE_NAME_PATH:qn.getNamePath();if(On){var Pr,Ur;if((Pr=(Ur=qn).isList)!==null&&Pr!==void 0&&Pr.call(Ur))return}else if(!Ot&&(Ar=(li=qn).isListField)!==null&&Ar!==void 0&&Ar.call(li))return;if(!Kt)gr.push(Bi);else{var Cr="getMeta"in qn?qn.getMeta():null;Kt(Cr)&&gr.push(Bi)}}),tr(Pe.store,gr.map(Bn))}),(0,mt.Z)(this,"getFieldValue",function(rt){Pe.warningUnhooked();var Ne=Bn(rt);return(0,Ln.Z)(Pe.store,Ne)}),(0,mt.Z)(this,"getFieldsError",function(rt){Pe.warningUnhooked();var Ne=Pe.getFieldEntitiesForNamePathList(rt);return Ne.map(function(Ot,Kt){return Ot&&!("INVALIDATE_NAME_PATH"in Ot)?{name:Ot.getNamePath(),errors:Ot.getErrors(),warnings:Ot.getWarnings()}:{name:Bn(rt[Kt]),errors:[],warnings:[]}})}),(0,mt.Z)(this,"getFieldError",function(rt){Pe.warningUnhooked();var Ne=Bn(rt),Ot=Pe.getFieldsError([Ne])[0];return Ot.errors}),(0,mt.Z)(this,"getFieldWarning",function(rt){Pe.warningUnhooked();var Ne=Bn(rt),Ot=Pe.getFieldsError([Ne])[0];return Ot.warnings}),(0,mt.Z)(this,"isFieldsTouched",function(){Pe.warningUnhooked();for(var rt=arguments.length,Ne=new Array(rt),Ot=0;Ot<rt;Ot++)Ne[Ot]=arguments[Ot];var Kt=Ne[0],On=Ne[1],Yn,gr=!1;Ne.length===0?Yn=null:Ne.length===1?Array.isArray(Kt)?(Yn=Kt.map(Bn),gr=!1):(Yn=null,gr=Kt):(Yn=Kt.map(Bn),gr=On);var qn=Pe.getFieldEntities(!0),Ar=function(Cr){return Cr.isFieldTouched()};if(!Yn)return gr?qn.every(function(Ur){return Ar(Ur)||Ur.isList()}):qn.some(Ar);var li=new go;Yn.forEach(function(Ur){li.set(Ur,[])}),qn.forEach(function(Ur){var Cr=Ur.getNamePath();Yn.forEach(function(Er){Er.every(function(yi,Ji){return Cr[Ji]===yi})&&li.update(Er,function(yi){return[].concat((0,ot.Z)(yi),[Ur])})})});var Bi=function(Cr){return Cr.some(Ar)},Pr=li.map(function(Ur){var Cr=Ur.value;return Cr});return gr?Pr.every(Bi):Pr.some(Bi)}),(0,mt.Z)(this,"isFieldTouched",function(rt){return Pe.warningUnhooked(),Pe.isFieldsTouched([rt])}),(0,mt.Z)(this,"isFieldsValidating",function(rt){Pe.warningUnhooked();var Ne=Pe.getFieldEntities();if(!rt)return Ne.some(function(Kt){return Kt.isFieldValidating()});var Ot=rt.map(Bn);return Ne.some(function(Kt){var On=Kt.getNamePath();return Lr(Ot,On)&&Kt.isFieldValidating()})}),(0,mt.Z)(this,"isFieldValidating",function(rt){return Pe.warningUnhooked(),Pe.isFieldsValidating([rt])}),(0,mt.Z)(this,"resetWithFieldInitialValue",function(){var rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ne=new go,Ot=Pe.getFieldEntities(!0);Ot.forEach(function(Yn){var gr=Yn.props.initialValue,qn=Yn.getNamePath();if(gr!==void 0){var Ar=Ne.get(qn)||new Set;Ar.add({entity:Yn,value:gr}),Ne.set(qn,Ar)}});var Kt=function(gr){gr.forEach(function(qn){var Ar=qn.props.initialValue;if(Ar!==void 0){var li=qn.getNamePath(),Bi=Pe.getInitialValue(li);if(Bi!==void 0)(0,Ht.ZP)(!1,"Form already set 'initialValues' with path '".concat(li.join("."),"'. Field can not overwrite it."));else{var Pr=Ne.get(li);if(Pr&&Pr.size>1)(0,Ht.ZP)(!1,"Multiple Field with path '".concat(li.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(Pr){var Ur=Pe.getFieldValue(li),Cr=qn.isListField();!Cr&&(!rt.skipExist||Ur===void 0)&&Pe.updateStore((0,ai.Z)(Pe.store,li,(0,ot.Z)(Pr)[0].value))}}}})},On;rt.entities?On=rt.entities:rt.namePathList?(On=[],rt.namePathList.forEach(function(Yn){var gr=Ne.get(Yn);if(gr){var qn;(qn=On).push.apply(qn,(0,ot.Z)((0,ot.Z)(gr).map(function(Ar){return Ar.entity})))}})):On=Ot,Kt(On)}),(0,mt.Z)(this,"resetFields",function(rt){Pe.warningUnhooked();var Ne=Pe.store;if(!rt){Pe.updateStore((0,ai.T)(Pe.initialValues)),Pe.resetWithFieldInitialValue(),Pe.notifyObservers(Ne,null,{type:"reset"}),Pe.notifyWatch();return}var Ot=rt.map(Bn);Ot.forEach(function(Kt){var On=Pe.getInitialValue(Kt);Pe.updateStore((0,ai.Z)(Pe.store,Kt,On))}),Pe.resetWithFieldInitialValue({namePathList:Ot}),Pe.notifyObservers(Ne,Ot,{type:"reset"}),Pe.notifyWatch(Ot)}),(0,mt.Z)(this,"setFields",function(rt){Pe.warningUnhooked();var Ne=Pe.store,Ot=[];rt.forEach(function(Kt){var On=Kt.name,Yn=(0,oe.Z)(Kt,no),gr=Bn(On);Ot.push(gr),"value"in Yn&&Pe.updateStore((0,ai.Z)(Pe.store,gr,Yn.value)),Pe.notifyObservers(Ne,[gr],{type:"setField",data:Kt})}),Pe.notifyWatch(Ot)}),(0,mt.Z)(this,"getFields",function(){var rt=Pe.getFieldEntities(!0),Ne=rt.map(function(Ot){var Kt=Ot.getNamePath(),On=Ot.getMeta(),Yn=(0,lt.Z)((0,lt.Z)({},On),{},{name:Kt,value:Pe.getFieldValue(Kt)});return Object.defineProperty(Yn,"originRCField",{value:!0}),Yn});return Ne}),(0,mt.Z)(this,"initEntityValue",function(rt){var Ne=rt.props.initialValue;if(Ne!==void 0){var Ot=rt.getNamePath(),Kt=(0,Ln.Z)(Pe.store,Ot);Kt===void 0&&Pe.updateStore((0,ai.Z)(Pe.store,Ot,Ne))}}),(0,mt.Z)(this,"isMergedPreserve",function(rt){var Ne=rt!==void 0?rt:Pe.preserve;return Ne!=null?Ne:!0}),(0,mt.Z)(this,"registerField",function(rt){Pe.fieldEntities.push(rt);var Ne=rt.getNamePath();if(Pe.notifyWatch([Ne]),rt.props.initialValue!==void 0){var Ot=Pe.store;Pe.resetWithFieldInitialValue({entities:[rt],skipExist:!0}),Pe.notifyObservers(Ot,[rt.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(Kt,On){var Yn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(Pe.fieldEntities=Pe.fieldEntities.filter(function(Ar){return Ar!==rt}),!Pe.isMergedPreserve(On)&&(!Kt||Yn.length>1)){var gr=Kt?void 0:Pe.getInitialValue(Ne);if(Ne.length&&Pe.getFieldValue(Ne)!==gr&&Pe.fieldEntities.every(function(Ar){return!to(Ar.getNamePath(),Ne)})){var qn=Pe.store;Pe.updateStore((0,ai.Z)(qn,Ne,gr,!0)),Pe.notifyObservers(qn,[Ne],{type:"remove"}),Pe.triggerDependenciesUpdate(qn,Ne)}}Pe.notifyWatch([Ne])}}),(0,mt.Z)(this,"dispatch",function(rt){switch(rt.type){case"updateValue":{var Ne=rt.namePath,Ot=rt.value;Pe.updateValue(Ne,Ot);break}case"validateField":{var Kt=rt.namePath,On=rt.triggerName;Pe.validateFields([Kt],{triggerName:On});break}default:}}),(0,mt.Z)(this,"notifyObservers",function(rt,Ne,Ot){if(Pe.subscribable){var Kt=(0,lt.Z)((0,lt.Z)({},Ot),{},{store:Pe.getFieldsValue(!0)});Pe.getFieldEntities().forEach(function(On){var Yn=On.onStoreChange;Yn(rt,Ne,Kt)})}else Pe.forceRootUpdate()}),(0,mt.Z)(this,"triggerDependenciesUpdate",function(rt,Ne){var Ot=Pe.getDependencyChildrenFields(Ne);return Ot.length&&Pe.validateFields(Ot),Pe.notifyObservers(rt,Ot,{type:"dependenciesUpdate",relatedFields:[Ne].concat((0,ot.Z)(Ot))}),Ot}),(0,mt.Z)(this,"updateValue",function(rt,Ne){var Ot=Bn(rt),Kt=Pe.store;Pe.updateStore((0,ai.Z)(Pe.store,Ot,Ne)),Pe.notifyObservers(Kt,[Ot],{type:"valueUpdate",source:"internal"}),Pe.notifyWatch([Ot]);var On=Pe.triggerDependenciesUpdate(Kt,Ot),Yn=Pe.callbacks.onValuesChange;if(Yn){var gr=tr(Pe.store,[Ot]);Yn(gr,Pe.getFieldsValue())}Pe.triggerOnFieldsChange([Ot].concat((0,ot.Z)(On)))}),(0,mt.Z)(this,"setFieldsValue",function(rt){Pe.warningUnhooked();var Ne=Pe.store;if(rt){var Ot=(0,ai.T)(Pe.store,rt);Pe.updateStore(Ot)}Pe.notifyObservers(Ne,null,{type:"valueUpdate",source:"external"}),Pe.notifyWatch()}),(0,mt.Z)(this,"setFieldValue",function(rt,Ne){Pe.setFields([{name:rt,value:Ne,errors:[],warnings:[]}])}),(0,mt.Z)(this,"getDependencyChildrenFields",function(rt){var Ne=new Set,Ot=[],Kt=new go;Pe.getFieldEntities().forEach(function(Yn){var gr=Yn.props.dependencies;(gr||[]).forEach(function(qn){var Ar=Bn(qn);Kt.update(Ar,function(){var li=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return li.add(Yn),li})})});var On=function Yn(gr){var qn=Kt.get(gr)||new Set;qn.forEach(function(Ar){if(!Ne.has(Ar)){Ne.add(Ar);var li=Ar.getNamePath();Ar.isFieldDirty()&&li.length&&(Ot.push(li),Yn(li))}})};return On(rt),Ot}),(0,mt.Z)(this,"triggerOnFieldsChange",function(rt,Ne){var Ot=Pe.callbacks.onFieldsChange;if(Ot){var Kt=Pe.getFields();if(Ne){var On=new go;Ne.forEach(function(gr){var qn=gr.name,Ar=gr.errors;On.set(qn,Ar)}),Kt.forEach(function(gr){gr.errors=On.get(gr.name)||gr.errors})}var Yn=Kt.filter(function(gr){var qn=gr.name;return Lr(rt,qn)});Yn.length&&Ot(Yn,Kt)}}),(0,mt.Z)(this,"validateFields",function(rt,Ne){Pe.warningUnhooked();var Ot,Kt;Array.isArray(rt)||typeof rt=="string"||typeof Ne=="string"?(Ot=rt,Kt=Ne):Kt=rt;var On=!!Ot,Yn=On?Ot.map(Bn):[],gr=[],qn=String(Date.now()),Ar=new Set,li=Kt||{},Bi=li.recursive,Pr=li.dirty;Pe.getFieldEntities(!0).forEach(function(yi){if(On||Yn.push(yi.getNamePath()),!(!yi.props.rules||!yi.props.rules.length)&&!(Pr&&!yi.isFieldDirty())){var Ji=yi.getNamePath();if(Ar.add(Ji.join(qn)),!On||Lr(Yn,Ji,Bi)){var Qo=yi.validateRules((0,lt.Z)({validateMessages:(0,lt.Z)((0,lt.Z)({},pi),Pe.validateMessages)},Kt));gr.push(Qo.then(function(){return{name:Ji,errors:[],warnings:[]}}).catch(function(Ro){var Ta,_a=[],Oa=[];return(Ta=Ro.forEach)===null||Ta===void 0||Ta.call(Ro,function(Yo){var za=Yo.rule.warningOnly,ea=Yo.errors;za?Oa.push.apply(Oa,(0,ot.Z)(ea)):_a.push.apply(_a,(0,ot.Z)(ea))}),_a.length?Promise.reject({name:Ji,errors:_a,warnings:Oa}):{name:Ji,errors:_a,warnings:Oa}}))}}});var Ur=$s(gr);Pe.lastValidatePromise=Ur,Ur.catch(function(yi){return yi}).then(function(yi){var Ji=yi.map(function(Qo){var Ro=Qo.name;return Ro});Pe.notifyObservers(Pe.store,Ji,{type:"validateFinish"}),Pe.triggerOnFieldsChange(Ji,yi)});var Cr=Ur.then(function(){return Pe.lastValidatePromise===Ur?Promise.resolve(Pe.getFieldsValue(Yn)):Promise.reject([])}).catch(function(yi){var Ji=yi.filter(function(Qo){return Qo&&Qo.errors.length});return Promise.reject({values:Pe.getFieldsValue(Yn),errorFields:Ji,outOfDate:Pe.lastValidatePromise!==Ur})});Cr.catch(function(yi){return yi});var Er=Yn.filter(function(yi){return Ar.has(yi.join(qn))});return Pe.triggerOnFieldsChange(Er),Cr}),(0,mt.Z)(this,"submit",function(){Pe.warningUnhooked(),Pe.validateFields().then(function(rt){var Ne=Pe.callbacks.onFinish;if(Ne)try{Ne(rt)}catch(Ot){console.error(Ot)}}).catch(function(rt){var Ne=Pe.callbacks.onFinishFailed;Ne&&Ne(rt)})}),this.forceRootUpdate=Ke});function si(ln){var Ke=s.useRef(),Pe=s.useState({}),rt=(0,ns.Z)(Pe,2),Ne=rt[1];if(!Ke.current)if(ln)Ke.current=ln;else{var Ot=function(){Ne({})},Kt=new Is(Ot);Ke.current=Kt.getForm()}return[Ke.current]}var ks=si,qs=s.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),ms=function(Ke){var Pe=Ke.validateMessages,rt=Ke.onFormChange,Ne=Ke.onFormFinish,Ot=Ke.children,Kt=s.useContext(qs),On=s.useRef({});return s.createElement(qs.Provider,{value:(0,lt.Z)((0,lt.Z)({},Kt),{},{validateMessages:(0,lt.Z)((0,lt.Z)({},Kt.validateMessages),Pe),triggerFormChange:function(gr,qn){rt&&rt(gr,{changedFields:qn,forms:On.current}),Kt.triggerFormChange(gr,qn)},triggerFormFinish:function(gr,qn){Ne&&Ne(gr,{values:qn,forms:On.current}),Kt.triggerFormFinish(gr,qn)},registerForm:function(gr,qn){gr&&(On.current=(0,lt.Z)((0,lt.Z)({},On.current),{},(0,mt.Z)({},gr,qn))),Kt.registerForm(gr,qn)},unregisterForm:function(gr){var qn=(0,lt.Z)({},On.current);delete qn[gr],On.current=qn,Kt.unregisterForm(gr)}})},Ot)},di=qs,Ya=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed","clearOnDestroy"],Ss=function(Ke,Pe){var rt=Ke.name,Ne=Ke.initialValues,Ot=Ke.fields,Kt=Ke.form,On=Ke.preserve,Yn=Ke.children,gr=Ke.component,qn=gr===void 0?"form":gr,Ar=Ke.validateMessages,li=Ke.validateTrigger,Bi=li===void 0?"onChange":li,Pr=Ke.onValuesChange,Ur=Ke.onFieldsChange,Cr=Ke.onFinish,Er=Ke.onFinishFailed,yi=Ke.clearOnDestroy,Ji=(0,oe.Z)(Ke,Ya),Qo=s.useRef(null),Ro=s.useContext(di),Ta=ks(Kt),_a=(0,ns.Z)(Ta,1),Oa=_a[0],Yo=Oa.getInternalHooks(Zt),za=Yo.useSubscribe,ea=Yo.setInitialValues,tl=Yo.setCallbacks,js=Yo.setValidateMessages,As=Yo.setPreserve,vl=Yo.destroyForm;s.useImperativeHandle(Pe,function(){return(0,lt.Z)((0,lt.Z)({},Oa),{},{nativeElement:Qo.current})}),s.useEffect(function(){return Ro.registerForm(rt,Oa),function(){Ro.unregisterForm(rt)}},[Ro,Oa,rt]),js((0,lt.Z)((0,lt.Z)({},Ro.validateMessages),Ar)),tl({onValuesChange:Pr,onFieldsChange:function(dl){if(Ro.triggerFormChange(rt,dl),Ur){for(var xc=arguments.length,Yc=new Array(xc>1?xc-1:0),au=1;au<xc;au++)Yc[au-1]=arguments[au];Ur.apply(void 0,[dl].concat(Yc))}},onFinish:function(dl){Ro.triggerFormFinish(rt,dl),Cr&&Cr(dl)},onFinishFailed:Er}),As(On);var Ds=s.useRef(null);ea(Ne,!Ds.current),Ds.current||(Ds.current=!0),s.useEffect(function(){return function(){return vl(yi)}},[]);var Ts,yl=typeof Yn=="function";if(yl){var Sc=Oa.getFieldsValue(!0);Ts=Yn(Sc,Oa)}else Ts=Yn;za(!yl);var Fu=s.useRef();s.useEffect(function(){mo(Fu.current||[],Ot||[])||Oa.setFields(Ot||[]),Fu.current=Ot},[Ot,Oa]);var Nc=s.useMemo(function(){return(0,lt.Z)((0,lt.Z)({},Oa),{},{validateTrigger:Bi})},[Oa,Bi]),yu=s.createElement(_n.Provider,{value:null},s.createElement(sn.Provider,{value:Nc},Ts));return qn===!1?yu:s.createElement(qn,(0,jt.Z)({},Ji,{ref:Qo,onSubmit:function(dl){dl.preventDefault(),dl.stopPropagation(),Oa.submit()},onReset:function(dl){var xc;dl.preventDefault(),Oa.resetFields(),(xc=Ji.onReset)===null||xc===void 0||xc.call(Ji,dl)}}),yu)},Nr=Ss;function qi(ln){try{return JSON.stringify(ln)}catch(Ke){return Math.random()}}var To=function(){};function wa(){for(var ln=arguments.length,Ke=new Array(ln),Pe=0;Pe<ln;Pe++)Ke[Pe]=arguments[Pe];var rt=Ke[0],Ne=Ke[1],Ot=Ne===void 0?{}:Ne,Kt=Nn(Ot)?{form:Ot}:Ot,On=Kt.form,Yn=(0,s.useState)(),gr=(0,ns.Z)(Yn,2),qn=gr[0],Ar=gr[1],li=(0,s.useMemo)(function(){return qi(qn)},[qn]),Bi=(0,s.useRef)(li);Bi.current=li;var Pr=(0,s.useContext)(sn),Ur=On||Pr,Cr=Ur&&Ur._init,Er=Bn(rt),yi=(0,s.useRef)(Er);return yi.current=Er,To(Er),(0,s.useEffect)(function(){if(Cr){var Ji=Ur.getFieldsValue,Qo=Ur.getInternalHooks,Ro=Qo(Zt),Ta=Ro.registerWatch,_a=function(ea,tl){var js=Kt.preserve?tl:ea;return typeof rt=="function"?rt(js):(0,Ln.Z)(js,yi.current)},Oa=Ta(function(za,ea){var tl=_a(za,ea),js=qi(tl);Bi.current!==js&&(Bi.current=js,Ar(tl))}),Yo=_a(Ji(),Ji(!0));return qn!==Yo&&Ar(Yo),Oa}},[Cr]),qn}var Za=wa,Ho=s.forwardRef(Nr),ul=Ho;ul.FormProvider=ms,ul.Field=Os,ul.List=_s,ul.useForm=ks,ul.useWatch=Za;var rs=ul},88555:function(Kr,bn,he){"use strict";he.d(bn,{Z:function(){return ot}});var s=he(58190),jt=he(54153),oe=he(5147),d=he(75271),Be=["show"];function lt(qe,De){if(!De.max)return!0;var Ae=De.strategy(qe);return Ae<=De.max}function ot(qe,De){return d.useMemo(function(){var Ae={};De&&(Ae.show=(0,oe.Z)(De)==="object"&&De.formatter?De.formatter:!!De),Ae=(0,jt.Z)((0,jt.Z)({},Ae),qe);var zt=Ae,qt=zt.show,mt=(0,s.Z)(zt,Be);return(0,jt.Z)((0,jt.Z)({},mt),{},{show:!!qt,showFormatter:typeof qt=="function"?qt:void 0,strategy:mt.strategy||function(Et){return Et.length}})},[qe,De])}},44885:function(Kr,bn,he){"use strict";he.d(bn,{Q:function(){return Ae},Z:function(){return sn}});var s=he(54153),jt=he(23022),oe=he(38926),d=he(5147),Be=he(82187),lt=he.n(Be),ot=he(75271),qe=he(68677),De=ot.forwardRef(function(Xt,_n){var En,Nn,fi,Pt=Xt.inputElement,Hr=Xt.children,Rn=Xt.prefixCls,Fn=Xt.prefix,Br=Xt.suffix,Tr=Xt.addonBefore,nr=Xt.addonAfter,Qr=Xt.className,Mr=Xt.style,Jn=Xt.disabled,Rt=Xt.readOnly,Tn=Xt.focused,Gn=Xt.triggerFocus,mr=Xt.allowClear,ir=Xt.value,zr=Xt.handleReset,wr=Xt.hidden,J=Xt.classes,mn=Xt.classNames,Ui=Xt.dataAttrs,ki=Xt.styles,Sn=Xt.components,ei=Xt.onClear,Pi=Hr!=null?Hr:Pt,Xr=(Sn==null?void 0:Sn.affixWrapper)||"span",or=(Sn==null?void 0:Sn.groupWrapper)||"span",dr=(Sn==null?void 0:Sn.wrapper)||"span",$i=(Sn==null?void 0:Sn.groupAddon)||"span",Zo=(0,ot.useRef)(null),ha=function(ia){var ss;(ss=Zo.current)!==null&&ss!==void 0&&ss.contains(ia.target)&&(Gn==null||Gn())},Da=(0,qe.X3)(Xt),ri=(0,ot.cloneElement)(Pi,{value:ir,className:lt()((En=Pi.props)===null||En===void 0?void 0:En.className,!Da&&(mn==null?void 0:mn.variant))||null}),Ko=(0,ot.useRef)(null);if(ot.useImperativeHandle(_n,function(){return{nativeElement:Ko.current||Zo.current}}),Da){var Eo=null;if(mr){var No=!Jn&&!Rt&&ir,ya="".concat(Rn,"-clear-icon"),Oi=(0,d.Z)(mr)==="object"&&mr!==null&&mr!==void 0&&mr.clearIcon?mr.clearIcon:"\u2716";Eo=ot.createElement("button",{type:"button",tabIndex:-1,onClick:function(ia){zr==null||zr(ia),ei==null||ei()},onMouseDown:function(ia){return ia.preventDefault()},className:lt()(ya,(0,oe.Z)((0,oe.Z)({},"".concat(ya,"-hidden"),!No),"".concat(ya,"-has-suffix"),!!Br))},Oi)}var Gr="".concat(Rn,"-affix-wrapper"),so=lt()(Gr,(0,oe.Z)((0,oe.Z)((0,oe.Z)((0,oe.Z)((0,oe.Z)({},"".concat(Rn,"-disabled"),Jn),"".concat(Gr,"-disabled"),Jn),"".concat(Gr,"-focused"),Tn),"".concat(Gr,"-readonly"),Rt),"".concat(Gr,"-input-with-clear-btn"),Br&&mr&&ir),J==null?void 0:J.affixWrapper,mn==null?void 0:mn.affixWrapper,mn==null?void 0:mn.variant),Li=(Br||mr)&&ot.createElement("span",{className:lt()("".concat(Rn,"-suffix"),mn==null?void 0:mn.suffix),style:ki==null?void 0:ki.suffix},Eo,Br);ri=ot.createElement(Xr,(0,jt.Z)({className:so,style:ki==null?void 0:ki.affixWrapper,onClick:ha},Ui==null?void 0:Ui.affixWrapper,{ref:Zo}),Fn&&ot.createElement("span",{className:lt()("".concat(Rn,"-prefix"),mn==null?void 0:mn.prefix),style:ki==null?void 0:ki.prefix},Fn),ri,Li)}if((0,qe.He)(Xt)){var co="".concat(Rn,"-group"),ws="".concat(co,"-addon"),Or="".concat(co,"-wrapper"),bo=lt()("".concat(Rn,"-wrapper"),co,J==null?void 0:J.wrapper,mn==null?void 0:mn.wrapper),Ua=lt()(Or,(0,oe.Z)({},"".concat(Or,"-disabled"),Jn),J==null?void 0:J.group,mn==null?void 0:mn.groupWrapper);ri=ot.createElement(or,{className:Ua,ref:Ko},ot.createElement(dr,{className:bo},Tr&&ot.createElement($i,{className:ws},Tr),ri,nr&&ot.createElement($i,{className:ws},nr)))}return ot.cloneElement(ri,{className:lt()((Nn=ri.props)===null||Nn===void 0?void 0:Nn.className,Qr)||null,style:(0,s.Z)((0,s.Z)({},(fi=ri.props)===null||fi===void 0?void 0:fi.style),Mr),hidden:wr})}),Ae=De,zt=he(46865),qt=he(89692),mt=he(58190),Et=he(93954),an=he(18051),Ht=he(88555),Zt=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","onKeyUp","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","count","type","classes","classNames","styles","onCompositionStart","onCompositionEnd"],Qt=(0,ot.forwardRef)(function(Xt,_n){var En=Xt.autoComplete,Nn=Xt.onChange,fi=Xt.onFocus,Pt=Xt.onBlur,Hr=Xt.onPressEnter,Rn=Xt.onKeyDown,Fn=Xt.onKeyUp,Br=Xt.prefixCls,Tr=Br===void 0?"rc-input":Br,nr=Xt.disabled,Qr=Xt.htmlSize,Mr=Xt.className,Jn=Xt.maxLength,Rt=Xt.suffix,Tn=Xt.showCount,Gn=Xt.count,mr=Xt.type,ir=mr===void 0?"text":mr,zr=Xt.classes,wr=Xt.classNames,J=Xt.styles,mn=Xt.onCompositionStart,Ui=Xt.onCompositionEnd,ki=(0,mt.Z)(Xt,Zt),Sn=(0,ot.useState)(!1),ei=(0,qt.Z)(Sn,2),Pi=ei[0],Xr=ei[1],or=(0,ot.useRef)(!1),dr=(0,ot.useRef)(!1),$i=(0,ot.useRef)(null),Zo=(0,ot.useRef)(null),ha=function($r){$i.current&&(0,qe.nH)($i.current,$r)},Da=(0,Et.Z)(Xt.defaultValue,{value:Xt.value}),ri=(0,qt.Z)(Da,2),Ko=ri[0],Eo=ri[1],No=Ko==null?"":String(Ko),ya=(0,ot.useState)(null),Oi=(0,qt.Z)(ya,2),Gr=Oi[0],so=Oi[1],Li=(0,Ht.Z)(Gn,Tn),co=Li.max||Jn,ws=Li.strategy(No),Or=!!co&&ws>co;(0,ot.useImperativeHandle)(_n,function(){var vn;return{focus:ha,blur:function(){var hi;(hi=$i.current)===null||hi===void 0||hi.blur()},setSelectionRange:function(hi,vi,oa){var aa;(aa=$i.current)===null||aa===void 0||aa.setSelectionRange(hi,vi,oa)},select:function(){var hi;(hi=$i.current)===null||hi===void 0||hi.select()},input:$i.current,nativeElement:((vn=Zo.current)===null||vn===void 0?void 0:vn.nativeElement)||$i.current}}),(0,ot.useEffect)(function(){dr.current&&(dr.current=!1),Xr(function(vn){return vn&&nr?!1:vn})},[nr]);var bo=function($r,hi,vi){var oa=hi;if(!or.current&&Li.exceedFormatter&&Li.max&&Li.strategy(hi)>Li.max){if(oa=Li.exceedFormatter(hi,{max:Li.max}),hi!==oa){var aa,Ca;so([((aa=$i.current)===null||aa===void 0?void 0:aa.selectionStart)||0,((Ca=$i.current)===null||Ca===void 0?void 0:Ca.selectionEnd)||0])}}else if(vi.source==="compositionEnd")return;Eo(oa),$i.current&&(0,qe.rJ)($i.current,$r,Nn,oa)};(0,ot.useEffect)(function(){if(Gr){var vn;(vn=$i.current)===null||vn===void 0||vn.setSelectionRange.apply(vn,(0,zt.Z)(Gr))}},[Gr]);var Ua=function($r){bo($r,$r.target.value,{source:"change"})},jr=function($r){or.current=!1,bo($r,$r.currentTarget.value,{source:"compositionEnd"}),Ui==null||Ui($r)},ia=function($r){Hr&&$r.key==="Enter"&&!dr.current&&(dr.current=!0,Hr($r)),Rn==null||Rn($r)},ss=function($r){$r.key==="Enter"&&(dr.current=!1),Fn==null||Fn($r)},Ra=function($r){Xr(!0),fi==null||fi($r)},po=function($r){dr.current&&(dr.current=!1),Xr(!1),Pt==null||Pt($r)},ds=function($r){Eo(""),ha(),$i.current&&(0,qe.rJ)($i.current,$r,Nn)},il=Or&&"".concat(Tr,"-out-of-range"),Cn=function(){var $r=(0,an.Z)(Xt,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","count","classes","htmlSize","styles","classNames","onClear"]);return ot.createElement("input",(0,jt.Z)({autoComplete:En},$r,{onChange:Ua,onFocus:Ra,onBlur:po,onKeyDown:ia,onKeyUp:ss,className:lt()(Tr,(0,oe.Z)({},"".concat(Tr,"-disabled"),nr),wr==null?void 0:wr.input),style:J==null?void 0:J.input,ref:$i,size:Qr,type:ir,onCompositionStart:function(vi){or.current=!0,mn==null||mn(vi)},onCompositionEnd:jr}))},Dn=function(){var $r=Number(co)>0;if(Rt||Li.show){var hi=Li.showFormatter?Li.showFormatter({value:No,count:ws,maxLength:co}):"".concat(ws).concat($r?" / ".concat(co):"");return ot.createElement(ot.Fragment,null,Li.show&&ot.createElement("span",{className:lt()("".concat(Tr,"-show-count-suffix"),(0,oe.Z)({},"".concat(Tr,"-show-count-has-suffix"),!!Rt),wr==null?void 0:wr.count),style:(0,s.Z)({},J==null?void 0:J.count)},hi),Rt)}return null};return ot.createElement(Ae,(0,jt.Z)({},ki,{prefixCls:Tr,className:lt()(Mr,il),handleReset:ds,value:No,focused:Pi,triggerFocus:ha,suffix:Dn(),disabled:nr,classes:zr,classNames:wr,styles:J}),Cn())}),vt=Qt,sn=vt},68677:function(Kr,bn,he){"use strict";he.d(bn,{He:function(){return s},X3:function(){return jt},nH:function(){return Be},rJ:function(){return d}});function s(lt){return!!(lt.addonBefore||lt.addonAfter)}function jt(lt){return!!(lt.prefix||lt.suffix||lt.allowClear)}function oe(lt,ot,qe){var De=ot.cloneNode(!0),Ae=Object.create(lt,{target:{value:De},currentTarget:{value:De}});return De.value=qe,typeof ot.selectionStart=="number"&&typeof ot.selectionEnd=="number"&&(De.selectionStart=ot.selectionStart,De.selectionEnd=ot.selectionEnd),De.setSelectionRange=function(){ot.setSelectionRange.apply(ot,arguments)},Ae}function d(lt,ot,qe,De){if(qe){var Ae=ot;if(ot.type==="click"){Ae=oe(ot,lt,""),qe(Ae);return}if(lt.type!=="file"&&De!==void 0){Ae=oe(ot,lt,De),qe(Ae);return}qe(Ae)}}function Be(lt,ot){if(lt){lt.focus(ot);var qe=ot||{},De=qe.cursor;if(De){var Ae=lt.value.length;switch(De){case"start":lt.setSelectionRange(0,0);break;case"end":lt.setSelectionRange(Ae,Ae);break;default:lt.setSelectionRange(0,Ae)}}}}},18507:function(Kr,bn){"use strict";var he={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"};bn.Z=he},3806:function(Kr){var bn=function(he){return he.replace(/[A-Z]/g,function(s){return"-"+s.toLowerCase()}).toLowerCase()};Kr.exports=bn},67825:function(Kr,bn,he){var s=he(64382);function jt(oe,d){if(oe==null)return{};var Be=s(oe,d),lt,ot;if(Object.getOwnPropertySymbols){var qe=Object.getOwnPropertySymbols(oe);for(ot=0;ot<qe.length;ot++)lt=qe[ot],!(d.indexOf(lt)>=0)&&Object.prototype.propertyIsEnumerable.call(oe,lt)&&(Be[lt]=oe[lt])}return Be}Kr.exports=jt,Kr.exports.__esModule=!0,Kr.exports.default=Kr.exports},64382:function(Kr){function bn(he,s){if(he==null)return{};var jt={},oe=Object.keys(he),d,Be;for(Be=0;Be<oe.length;Be++)d=oe[Be],!(s.indexOf(d)>=0)&&(jt[d]=he[d]);return jt}Kr.exports=bn,Kr.exports.__esModule=!0,Kr.exports.default=Kr.exports},90594:function(Kr,bn,he){"use strict";he.d(bn,{Z:function(){return jt}});function s(oe,d,Be,lt,ot,qe,De){try{var Ae=oe[qe](De),zt=Ae.value}catch(qt){return void Be(qt)}Ae.done?d(zt):Promise.resolve(zt).then(lt,ot)}function jt(oe){return function(){var d=this,Be=arguments;return new Promise(function(lt,ot){var qe=oe.apply(d,Be);function De(zt){s(qe,lt,ot,De,Ae,"next",zt)}function Ae(zt){s(qe,lt,ot,De,Ae,"throw",zt)}De(void 0)})}}},57250:function(Kr,bn,he){"use strict";he.d(bn,{Z:function(){return jt}});var s=he(5147);function jt(){"use strict";jt=function(){return d};var oe,d={},Be=Object.prototype,lt=Be.hasOwnProperty,ot=Object.defineProperty||function(Jn,Rt,Tn){Jn[Rt]=Tn.value},qe=typeof Symbol=="function"?Symbol:{},De=qe.iterator||"@@iterator",Ae=qe.asyncIterator||"@@asyncIterator",zt=qe.toStringTag||"@@toStringTag";function qt(Jn,Rt,Tn){return Object.defineProperty(Jn,Rt,{value:Tn,enumerable:!0,configurable:!0,writable:!0}),Jn[Rt]}try{qt({},"")}catch(Jn){qt=function(Tn,Gn,mr){return Tn[Gn]=mr}}function mt(Jn,Rt,Tn,Gn){var mr=Rt&&Rt.prototype instanceof sn?Rt:sn,ir=Object.create(mr.prototype),zr=new Qr(Gn||[]);return ot(ir,"_invoke",{value:Fn(Jn,Tn,zr)}),ir}function Et(Jn,Rt,Tn){try{return{type:"normal",arg:Jn.call(Rt,Tn)}}catch(Gn){return{type:"throw",arg:Gn}}}d.wrap=mt;var an="suspendedStart",Ht="suspendedYield",Zt="executing",Qt="completed",vt={};function sn(){}function Xt(){}function _n(){}var En={};qt(En,De,function(){return this});var Nn=Object.getPrototypeOf,fi=Nn&&Nn(Nn(Mr([])));fi&&fi!==Be&&lt.call(fi,De)&&(En=fi);var Pt=_n.prototype=sn.prototype=Object.create(En);function Hr(Jn){["next","throw","return"].forEach(function(Rt){qt(Jn,Rt,function(Tn){return this._invoke(Rt,Tn)})})}function Rn(Jn,Rt){function Tn(mr,ir,zr,wr){var J=Et(Jn[mr],Jn,ir);if(J.type!=="throw"){var mn=J.arg,Ui=mn.value;return Ui&&(0,s.Z)(Ui)=="object"&&lt.call(Ui,"__await")?Rt.resolve(Ui.__await).then(function(ki){Tn("next",ki,zr,wr)},function(ki){Tn("throw",ki,zr,wr)}):Rt.resolve(Ui).then(function(ki){mn.value=ki,zr(mn)},function(ki){return Tn("throw",ki,zr,wr)})}wr(J.arg)}var Gn;ot(this,"_invoke",{value:function(ir,zr){function wr(){return new Rt(function(J,mn){Tn(ir,zr,J,mn)})}return Gn=Gn?Gn.then(wr,wr):wr()}})}function Fn(Jn,Rt,Tn){var Gn=an;return function(mr,ir){if(Gn===Zt)throw Error("Generator is already running");if(Gn===Qt){if(mr==="throw")throw ir;return{value:oe,done:!0}}for(Tn.method=mr,Tn.arg=ir;;){var zr=Tn.delegate;if(zr){var wr=Br(zr,Tn);if(wr){if(wr===vt)continue;return wr}}if(Tn.method==="next")Tn.sent=Tn._sent=Tn.arg;else if(Tn.method==="throw"){if(Gn===an)throw Gn=Qt,Tn.arg;Tn.dispatchException(Tn.arg)}else Tn.method==="return"&&Tn.abrupt("return",Tn.arg);Gn=Zt;var J=Et(Jn,Rt,Tn);if(J.type==="normal"){if(Gn=Tn.done?Qt:Ht,J.arg===vt)continue;return{value:J.arg,done:Tn.done}}J.type==="throw"&&(Gn=Qt,Tn.method="throw",Tn.arg=J.arg)}}}function Br(Jn,Rt){var Tn=Rt.method,Gn=Jn.iterator[Tn];if(Gn===oe)return Rt.delegate=null,Tn==="throw"&&Jn.iterator.return&&(Rt.method="return",Rt.arg=oe,Br(Jn,Rt),Rt.method==="throw")||Tn!=="return"&&(Rt.method="throw",Rt.arg=new TypeError("The iterator does not provide a '"+Tn+"' method")),vt;var mr=Et(Gn,Jn.iterator,Rt.arg);if(mr.type==="throw")return Rt.method="throw",Rt.arg=mr.arg,Rt.delegate=null,vt;var ir=mr.arg;return ir?ir.done?(Rt[Jn.resultName]=ir.value,Rt.next=Jn.nextLoc,Rt.method!=="return"&&(Rt.method="next",Rt.arg=oe),Rt.delegate=null,vt):ir:(Rt.method="throw",Rt.arg=new TypeError("iterator result is not an object"),Rt.delegate=null,vt)}function Tr(Jn){var Rt={tryLoc:Jn[0]};1 in Jn&&(Rt.catchLoc=Jn[1]),2 in Jn&&(Rt.finallyLoc=Jn[2],Rt.afterLoc=Jn[3]),this.tryEntries.push(Rt)}function nr(Jn){var Rt=Jn.completion||{};Rt.type="normal",delete Rt.arg,Jn.completion=Rt}function Qr(Jn){this.tryEntries=[{tryLoc:"root"}],Jn.forEach(Tr,this),this.reset(!0)}function Mr(Jn){if(Jn||Jn===""){var Rt=Jn[De];if(Rt)return Rt.call(Jn);if(typeof Jn.next=="function")return Jn;if(!isNaN(Jn.length)){var Tn=-1,Gn=function mr(){for(;++Tn<Jn.length;)if(lt.call(Jn,Tn))return mr.value=Jn[Tn],mr.done=!1,mr;return mr.value=oe,mr.done=!0,mr};return Gn.next=Gn}}throw new TypeError((0,s.Z)(Jn)+" is not iterable")}return Xt.prototype=_n,ot(Pt,"constructor",{value:_n,configurable:!0}),ot(_n,"constructor",{value:Xt,configurable:!0}),Xt.displayName=qt(_n,zt,"GeneratorFunction"),d.isGeneratorFunction=function(Jn){var Rt=typeof Jn=="function"&&Jn.constructor;return!!Rt&&(Rt===Xt||(Rt.displayName||Rt.name)==="GeneratorFunction")},d.mark=function(Jn){return Object.setPrototypeOf?Object.setPrototypeOf(Jn,_n):(Jn.__proto__=_n,qt(Jn,zt,"GeneratorFunction")),Jn.prototype=Object.create(Pt),Jn},d.awrap=function(Jn){return{__await:Jn}},Hr(Rn.prototype),qt(Rn.prototype,Ae,function(){return this}),d.AsyncIterator=Rn,d.async=function(Jn,Rt,Tn,Gn,mr){mr===void 0&&(mr=Promise);var ir=new Rn(mt(Jn,Rt,Tn,Gn),mr);return d.isGeneratorFunction(Rt)?ir:ir.next().then(function(zr){return zr.done?zr.value:ir.next()})},Hr(Pt),qt(Pt,zt,"Generator"),qt(Pt,De,function(){return this}),qt(Pt,"toString",function(){return"[object Generator]"}),d.keys=function(Jn){var Rt=Object(Jn),Tn=[];for(var Gn in Rt)Tn.push(Gn);return Tn.reverse(),function mr(){for(;Tn.length;){var ir=Tn.pop();if(ir in Rt)return mr.value=ir,mr.done=!1,mr}return mr.done=!0,mr}},d.values=Mr,Qr.prototype={constructor:Qr,reset:function(Rt){if(this.prev=0,this.next=0,this.sent=this._sent=oe,this.done=!1,this.delegate=null,this.method="next",this.arg=oe,this.tryEntries.forEach(nr),!Rt)for(var Tn in this)Tn.charAt(0)==="t"&&lt.call(this,Tn)&&!isNaN(+Tn.slice(1))&&(this[Tn]=oe)},stop:function(){this.done=!0;var Rt=this.tryEntries[0].completion;if(Rt.type==="throw")throw Rt.arg;return this.rval},dispatchException:function(Rt){if(this.done)throw Rt;var Tn=this;function Gn(mn,Ui){return zr.type="throw",zr.arg=Rt,Tn.next=mn,Ui&&(Tn.method="next",Tn.arg=oe),!!Ui}for(var mr=this.tryEntries.length-1;mr>=0;--mr){var ir=this.tryEntries[mr],zr=ir.completion;if(ir.tryLoc==="root")return Gn("end");if(ir.tryLoc<=this.prev){var wr=lt.call(ir,"catchLoc"),J=lt.call(ir,"finallyLoc");if(wr&&J){if(this.prev<ir.catchLoc)return Gn(ir.catchLoc,!0);if(this.prev<ir.finallyLoc)return Gn(ir.finallyLoc)}else if(wr){if(this.prev<ir.catchLoc)return Gn(ir.catchLoc,!0)}else{if(!J)throw Error("try statement without catch or finally");if(this.prev<ir.finallyLoc)return Gn(ir.finallyLoc)}}}},abrupt:function(Rt,Tn){for(var Gn=this.tryEntries.length-1;Gn>=0;--Gn){var mr=this.tryEntries[Gn];if(mr.tryLoc<=this.prev&&lt.call(mr,"finallyLoc")&&this.prev<mr.finallyLoc){var ir=mr;break}}ir&&(Rt==="break"||Rt==="continue")&&ir.tryLoc<=Tn&&Tn<=ir.finallyLoc&&(ir=null);var zr=ir?ir.completion:{};return zr.type=Rt,zr.arg=Tn,ir?(this.method="next",this.next=ir.finallyLoc,vt):this.complete(zr)},complete:function(Rt,Tn){if(Rt.type==="throw")throw Rt.arg;return Rt.type==="break"||Rt.type==="continue"?this.next=Rt.arg:Rt.type==="return"?(this.rval=this.arg=Rt.arg,this.method="return",this.next="end"):Rt.type==="normal"&&Tn&&(this.next=Tn),vt},finish:function(Rt){for(var Tn=this.tryEntries.length-1;Tn>=0;--Tn){var Gn=this.tryEntries[Tn];if(Gn.finallyLoc===Rt)return this.complete(Gn.completion,Gn.afterLoc),nr(Gn),vt}},catch:function(Rt){for(var Tn=this.tryEntries.length-1;Tn>=0;--Tn){var Gn=this.tryEntries[Tn];if(Gn.tryLoc===Rt){var mr=Gn.completion;if(mr.type==="throw"){var ir=mr.arg;nr(Gn)}return ir}}throw Error("illegal catch attempt")},delegateYield:function(Rt,Tn,Gn){return this.delegate={iterator:Mr(Rt),resultName:Tn,nextLoc:Gn},this.method==="next"&&(this.arg=oe),vt}},d}},69370:function(Kr,bn,he){"use strict";he.d(bn,{Z:function(){return Jd}});function s(){this.__data__=[],this.size=0}var jt=s;function oe(Vt,Vn){return Vt===Vn||Vt!==Vt&&Vn!==Vn}var d=oe;function Be(Vt,Vn){for(var ii=Vt.length;ii--;)if(d(Vt[ii][0],Vn))return ii;return-1}var lt=Be,ot=Array.prototype,qe=ot.splice;function De(Vt){var Vn=this.__data__,ii=lt(Vn,Vt);if(ii<0)return!1;var Mo=Vn.length-1;return ii==Mo?Vn.pop():qe.call(Vn,ii,1),--this.size,!0}var Ae=De;function zt(Vt){var Vn=this.__data__,ii=lt(Vn,Vt);return ii<0?void 0:Vn[ii][1]}var qt=zt;function mt(Vt){return lt(this.__data__,Vt)>-1}var Et=mt;function an(Vt,Vn){var ii=this.__data__,Mo=lt(ii,Vt);return Mo<0?(++this.size,ii.push([Vt,Vn])):ii[Mo][1]=Vn,this}var Ht=an;function Zt(Vt){var Vn=-1,ii=Vt==null?0:Vt.length;for(this.clear();++Vn<ii;){var Mo=Vt[Vn];this.set(Mo[0],Mo[1])}}Zt.prototype.clear=jt,Zt.prototype.delete=Ae,Zt.prototype.get=qt,Zt.prototype.has=Et,Zt.prototype.set=Ht;var Qt=Zt;function vt(){this.__data__=new Qt,this.size=0}var sn=vt;function Xt(Vt){var Vn=this.__data__,ii=Vn.delete(Vt);return this.size=Vn.size,ii}var _n=Xt;function En(Vt){return this.__data__.get(Vt)}var Nn=En;function fi(Vt){return this.__data__.has(Vt)}var Pt=fi,Hr=typeof global=="object"&&global&&global.Object===Object&&global,Rn=Hr,Fn=typeof self=="object"&&self&&self.Object===Object&&self,Br=Rn||Fn||Function("return this")(),Tr=Br,nr=Tr.Symbol,Qr=nr,Mr=Object.prototype,Jn=Mr.hasOwnProperty,Rt=Mr.toString,Tn=Qr?Qr.toStringTag:void 0;function Gn(Vt){var Vn=Jn.call(Vt,Tn),ii=Vt[Tn];try{Vt[Tn]=void 0;var Mo=!0}catch(Ha){}var nl=Rt.call(Vt);return Mo&&(Vn?Vt[Tn]=ii:delete Vt[Tn]),nl}var mr=Gn,ir=Object.prototype,zr=ir.toString;function wr(Vt){return zr.call(Vt)}var J=wr,mn="[object Null]",Ui="[object Undefined]",ki=Qr?Qr.toStringTag:void 0;function Sn(Vt){return Vt==null?Vt===void 0?Ui:mn:ki&&ki in Object(Vt)?mr(Vt):J(Vt)}var ei=Sn;function Pi(Vt){var Vn=typeof Vt;return Vt!=null&&(Vn=="object"||Vn=="function")}var Xr=Pi,or="[object AsyncFunction]",dr="[object Function]",$i="[object GeneratorFunction]",Zo="[object Proxy]";function ha(Vt){if(!Xr(Vt))return!1;var Vn=ei(Vt);return Vn==dr||Vn==$i||Vn==or||Vn==Zo}var Da=ha,ri=Tr["__core-js_shared__"],Ko=ri,Eo=function(){var Vt=/[^.]+$/.exec(Ko&&Ko.keys&&Ko.keys.IE_PROTO||"");return Vt?"Symbol(src)_1."+Vt:""}();function No(Vt){return!!Eo&&Eo in Vt}var ya=No,Oi=Function.prototype,Gr=Oi.toString;function so(Vt){if(Vt!=null){try{return Gr.call(Vt)}catch(Vn){}try{return Vt+""}catch(Vn){}}return""}var Li=so,co=/[\\^$.*+?()[\]{}|]/g,ws=/^\[object .+?Constructor\]$/,Or=Function.prototype,bo=Object.prototype,Ua=Or.toString,jr=bo.hasOwnProperty,ia=RegExp("^"+Ua.call(jr).replace(co,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ss(Vt){if(!Xr(Vt)||ya(Vt))return!1;var Vn=Da(Vt)?ia:ws;return Vn.test(Li(Vt))}var Ra=ss;function po(Vt,Vn){return Vt==null?void 0:Vt[Vn]}var ds=po;function il(Vt,Vn){var ii=ds(Vt,Vn);return Ra(ii)?ii:void 0}var Cn=il,Dn=Cn(Tr,"Map"),vn=Dn,$r=Cn(Object,"create"),hi=$r;function vi(){this.__data__=hi?hi(null):{},this.size=0}var oa=vi;function aa(Vt){var Vn=this.has(Vt)&&delete this.__data__[Vt];return this.size-=Vn?1:0,Vn}var Ca=aa,Bo="__lodash_hash_undefined__",Po=Object.prototype,Jt=Po.hasOwnProperty;function xe(Vt){var Vn=this.__data__;if(hi){var ii=Vn[Vt];return ii===Bo?void 0:ii}return Jt.call(Vn,Vt)?Vn[Vt]:void 0}var Me=xe,Fe=Object.prototype,ve=Fe.hasOwnProperty;function Ve(Vt){var Vn=this.__data__;return hi?Vn[Vt]!==void 0:ve.call(Vn,Vt)}var fe=Ve,Nt="__lodash_hash_undefined__";function It(Vt,Vn){var ii=this.__data__;return this.size+=this.has(Vt)?0:1,ii[Vt]=hi&&Vn===void 0?Nt:Vn,this}var Ee=It;function Tt(Vt){var Vn=-1,ii=Vt==null?0:Vt.length;for(this.clear();++Vn<ii;){var Mo=Vt[Vn];this.set(Mo[0],Mo[1])}}Tt.prototype.clear=oa,Tt.prototype.delete=Ca,Tt.prototype.get=Me,Tt.prototype.has=fe,Tt.prototype.set=Ee;var nt=Tt;function Pn(){this.size=0,this.__data__={hash:new nt,map:new(vn||Qt),string:new nt}}var ur=Pn;function lr(Vt){var Vn=typeof Vt;return Vn=="string"||Vn=="number"||Vn=="symbol"||Vn=="boolean"?Vt!=="__proto__":Vt===null}var pi=lr;function ai(Vt,Vn){var ii=Vt.__data__;return pi(Vn)?ii[typeof Vn=="string"?"string":"hash"]:ii.map}var Ei=ai;function wi(Vt){var Vn=Ei(this,Vt).delete(Vt);return this.size-=Vn?1:0,Vn}var Oo=wi;function Xo(Vt){return Ei(this,Vt).get(Vt)}var So=Xo;function pa(Vt){return Ei(this,Vt).has(Vt)}var ma=pa;function Ea(Vt,Vn){var ii=Ei(this,Vt),Mo=ii.size;return ii.set(Vt,Vn),this.size+=ii.size==Mo?0:1,this}var Sl=Ea;function Lt(Vt){var Vn=-1,ii=Vt==null?0:Vt.length;for(this.clear();++Vn<ii;){var Mo=Vt[Vn];this.set(Mo[0],Mo[1])}}Lt.prototype.clear=ur,Lt.prototype.delete=Oo,Lt.prototype.get=So,Lt.prototype.has=ma,Lt.prototype.set=Sl;var Ln=Lt,Bn=200;function tr(Vt,Vn){var ii=this.__data__;if(ii instanceof Qt){var Mo=ii.__data__;if(!vn||Mo.length<Bn-1)return Mo.push([Vt,Vn]),this.size=++ii.size,this;ii=this.__data__=new Ln(Mo)}return ii.set(Vt,Vn),this.size=ii.size,this}var Lr=tr;function to(Vt){var Vn=this.__data__=new Qt(Vt);this.size=Vn.size}to.prototype.clear=sn,to.prototype.delete=_n,to.prototype.get=Nn,to.prototype.has=Pt,to.prototype.set=Lr;var mo=to,Io="__lodash_hash_undefined__";function uo(Vt){return this.__data__.set(Vt,Io),this}var ga=uo;function $o(Vt){return this.__data__.has(Vt)}var Vo=$o;function qa(Vt){var Vn=-1,ii=Vt==null?0:Vt.length;for(this.__data__=new Ln;++Vn<ii;)this.add(Vt[Vn])}qa.prototype.add=qa.prototype.push=ga,qa.prototype.has=Vo;var gs=qa;function Os(Vt,Vn){for(var ii=-1,Mo=Vt==null?0:Vt.length;++ii<Mo;)if(Vn(Vt[ii],ii,Vt))return!0;return!1}var ys=Os;function _s(Vt,Vn){return Vt.has(Vn)}var ns=_s,$s=1,xo=2;function Wa(Vt,Vn,ii,Mo,nl,Ha){var ml=ii&$s,Ks=Vt.length,Ll=Vn.length;if(Ks!=Ll&&!(ml&&Ll>Ks))return!1;var ol=Ha.get(Vt),Fc=Ha.get(Vn);if(ol&&Fc)return ol==Vn&&Fc==Vt;var Gl=-1,Pl=!0,kc=ii&xo?new gs:void 0;for(Ha.set(Vt,Vn),Ha.set(Vn,Vt);++Gl<Ks;){var hc=Vt[Gl],oc=Vn[Gl];if(Mo)var ac=ml?Mo(oc,hc,Gl,Vn,Vt,Ha):Mo(hc,oc,Gl,Vt,Vn,Ha);if(ac!==void 0){if(ac)continue;Pl=!1;break}if(kc){if(!ys(Vn,function(Jc,Qc){if(!ns(kc,Qc)&&(hc===Jc||nl(hc,Jc,ii,Mo,Ha)))return kc.push(Qc)})){Pl=!1;break}}else if(!(hc===oc||nl(hc,oc,ii,Mo,Ha))){Pl=!1;break}}return Ha.delete(Vt),Ha.delete(Vn),Pl}var Fo=Wa,go=Tr.Uint8Array,no=go;function Is(Vt){var Vn=-1,ii=Array(Vt.size);return Vt.forEach(function(Mo,nl){ii[++Vn]=[nl,Mo]}),ii}var si=Is;function ks(Vt){var Vn=-1,ii=Array(Vt.size);return Vt.forEach(function(Mo){ii[++Vn]=Mo}),ii}var qs=ks,ms=1,di=2,Ya="[object Boolean]",Ss="[object Date]",Nr="[object Error]",qi="[object Map]",To="[object Number]",wa="[object RegExp]",Za="[object Set]",Ho="[object String]",ul="[object Symbol]",rs="[object ArrayBuffer]",ln="[object DataView]",Ke=Qr?Qr.prototype:void 0,Pe=Ke?Ke.valueOf:void 0;function rt(Vt,Vn,ii,Mo,nl,Ha,ml){switch(ii){case ln:if(Vt.byteLength!=Vn.byteLength||Vt.byteOffset!=Vn.byteOffset)return!1;Vt=Vt.buffer,Vn=Vn.buffer;case rs:return!(Vt.byteLength!=Vn.byteLength||!Ha(new no(Vt),new no(Vn)));case Ya:case Ss:case To:return d(+Vt,+Vn);case Nr:return Vt.name==Vn.name&&Vt.message==Vn.message;case wa:case Ho:return Vt==Vn+"";case qi:var Ks=si;case Za:var Ll=Mo&ms;if(Ks||(Ks=qs),Vt.size!=Vn.size&&!Ll)return!1;var ol=ml.get(Vt);if(ol)return ol==Vn;Mo|=di,ml.set(Vt,Vn);var Fc=Fo(Ks(Vt),Ks(Vn),Mo,nl,Ha,ml);return ml.delete(Vt),Fc;case ul:if(Pe)return Pe.call(Vt)==Pe.call(Vn)}return!1}var Ne=rt;function Ot(Vt,Vn){for(var ii=-1,Mo=Vn.length,nl=Vt.length;++ii<Mo;)Vt[nl+ii]=Vn[ii];return Vt}var Kt=Ot,On=Array.isArray,Yn=On;function gr(Vt,Vn,ii){var Mo=Vn(Vt);return Yn(Vt)?Mo:Kt(Mo,ii(Vt))}var qn=gr;function Ar(Vt,Vn){for(var ii=-1,Mo=Vt==null?0:Vt.length,nl=0,Ha=[];++ii<Mo;){var ml=Vt[ii];Vn(ml,ii,Vt)&&(Ha[nl++]=ml)}return Ha}var li=Ar;function Bi(){return[]}var Pr=Bi,Ur=Object.prototype,Cr=Ur.propertyIsEnumerable,Er=Object.getOwnPropertySymbols,yi=Er?function(Vt){return Vt==null?[]:(Vt=Object(Vt),li(Er(Vt),function(Vn){return Cr.call(Vt,Vn)}))}:Pr,Ji=yi;function Qo(Vt,Vn){for(var ii=-1,Mo=Array(Vt);++ii<Vt;)Mo[ii]=Vn(ii);return Mo}var Ro=Qo;function Ta(Vt){return Vt!=null&&typeof Vt=="object"}var _a=Ta,Oa="[object Arguments]";function Yo(Vt){return _a(Vt)&&ei(Vt)==Oa}var za=Yo,ea=Object.prototype,tl=ea.hasOwnProperty,js=ea.propertyIsEnumerable,As=za(function(){return arguments}())?za:function(Vt){return _a(Vt)&&tl.call(Vt,"callee")&&!js.call(Vt,"callee")},vl=As;function Ds(){return!1}var Ts=Ds,yl=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Sc=yl&&typeof module=="object"&&module&&!module.nodeType&&module,Fu=Sc&&Sc.exports===yl,Nc=Fu?Tr.Buffer:void 0,yu=Nc?Nc.isBuffer:void 0,Fl=yu||Ts,dl=Fl,xc=9007199254740991,Yc=/^(?:0|[1-9]\d*)$/;function au(Vt,Vn){var ii=typeof Vt;return Vn=Vn==null?xc:Vn,!!Vn&&(ii=="number"||ii!="symbol"&&Yc.test(Vt))&&Vt>-1&&Vt%1==0&&Vt<Vn}var ku=au,Mh=9007199254740991;function Zd(Vt){return typeof Vt=="number"&&Vt>-1&&Vt%1==0&&Vt<=Mh}var su=Zd,qo="[object Arguments]",ji="[object Array]",Vd="[object Boolean]",vo="[object Date]",ju="[object Error]",_u="[object Function]",fo="[object Map]",uc="[object Number]",Bc="[object Object]",Zu="[object RegExp]",Hd="[object Set]",Ql="[object String]",Tl="[object WeakMap]",Fr="[object ArrayBuffer]",bu="[object DataView]",Es="[object Float32Array]",fd="[object Float64Array]",Mt="[object Int8Array]",tn="[object Int16Array]",hn="[object Int32Array]",wn="[object Uint8Array]",rr="[object Uint8ClampedArray]",qr="[object Uint16Array]",_i="[object Uint32Array]",ni={};ni[Es]=ni[fd]=ni[Mt]=ni[tn]=ni[hn]=ni[wn]=ni[rr]=ni[qr]=ni[_i]=!0,ni[qo]=ni[ji]=ni[Fr]=ni[Vd]=ni[bu]=ni[vo]=ni[ju]=ni[_u]=ni[fo]=ni[uc]=ni[Bc]=ni[Zu]=ni[Hd]=ni[Ql]=ni[Tl]=!1;function Ri(Vt){return _a(Vt)&&su(Vt.length)&&!!ni[ei(Vt)]}var ro=Ri;function yo(Vt){return function(Vn){return Vt(Vn)}}var ko=yo,io=typeof exports=="object"&&exports&&!exports.nodeType&&exports,sa=io&&typeof module=="object"&&module&&!module.nodeType&&module,Qi=sa&&sa.exports===io,ta=Qi&&Rn.process,Aa=function(){try{var Vt=sa&&sa.require&&sa.require("util").types;return Vt||ta&&ta.binding&&ta.binding("util")}catch(Vn){}}(),ls=Aa,ba=ls&&ls.isTypedArray,is=ba?ko(ba):ro,La=is,cs=Object.prototype,Va=cs.hasOwnProperty;function Ia(Vt,Vn){var ii=Yn(Vt),Mo=!ii&&vl(Vt),nl=!ii&&!Mo&&dl(Vt),Ha=!ii&&!Mo&&!nl&&La(Vt),ml=ii||Mo||nl||Ha,Ks=ml?Ro(Vt.length,String):[],Ll=Ks.length;for(var ol in Vt)(Vn||Va.call(Vt,ol))&&!(ml&&(ol=="length"||nl&&(ol=="offset"||ol=="parent")||Ha&&(ol=="buffer"||ol=="byteLength"||ol=="byteOffset")||ku(ol,Ll)))&&Ks.push(ol);return Ks}var zs=Ia,Wl=Object.prototype;function _l(Vt){var Vn=Vt&&Vt.constructor,ii=typeof Vn=="function"&&Vn.prototype||Wl;return Vt===ii}var lu=_l;function Vu(Vt,Vn){return function(ii){return Vt(Vn(ii))}}var kl=Vu,Ml=kl(Object.keys,Object),Al=Ml,dc=Object.prototype,fc=dc.hasOwnProperty;function Dl(Vt){if(!lu(Vt))return Al(Vt);var Vn=[];for(var ii in Object(Vt))fc.call(Vt,ii)&&ii!="constructor"&&Vn.push(ii);return Vn}var jl=Dl;function Qs(Vt){return Vt!=null&&su(Vt.length)&&!Da(Vt)}var Jo=Qs;function ec(Vt){return Jo(Vt)?zs(Vt):jl(Vt)}var Cc=ec;function Zl(Vt){return qn(Vt,Cc,Ji)}var Na=Zl,Pc=1,zl=Object.prototype,El=zl.hasOwnProperty;function Ph(Vt,Vn,ii,Mo,nl,Ha){var ml=ii&Pc,Ks=Na(Vt),Ll=Ks.length,ol=Na(Vn),Fc=ol.length;if(Ll!=Fc&&!ml)return!1;for(var Gl=Ll;Gl--;){var Pl=Ks[Gl];if(!(ml?Pl in Vn:El.call(Vn,Pl)))return!1}var kc=Ha.get(Vt),hc=Ha.get(Vn);if(kc&&hc)return kc==Vn&&hc==Vt;var oc=!0;Ha.set(Vt,Vn),Ha.set(Vn,Vt);for(var ac=ml;++Gl<Ll;){Pl=Ks[Gl];var Jc=Vt[Pl],Qc=Vn[Pl];if(Mo)var Oc=ml?Mo(Qc,Jc,Pl,Vn,Vt,Ha):Mo(Jc,Qc,Pl,Vt,Vn,Ha);if(!(Oc===void 0?Jc===Qc||nl(Jc,Qc,ii,Mo,Ha):Oc)){oc=!1;break}ac||(ac=Pl=="constructor")}if(oc&&!ac){var Qd=Vt.constructor,Uu=Vn.constructor;Qd!=Uu&&"constructor"in Vt&&"constructor"in Vn&&!(typeof Qd=="function"&&Qd instanceof Qd&&typeof Uu=="function"&&Uu instanceof Uu)&&(oc=!1)}return Ha.delete(Vt),Ha.delete(Vn),oc}var Om=Ph,Gs=Cn(Tr,"DataView"),Ud=Gs,Pf=Cn(Tr,"Promise"),Wd=Pf,Oh=Cn(Tr,"Set"),Of=Oh,Ip=Cn(Tr,"WeakMap"),$h=Ip,hd="[object Map]",Gd="[object Object]",$f="[object Promise]",rc="[object Set]",Rh="[object WeakMap]",Rf="[object DataView]",Af=Li(Ud),pd=Li(vn),Ah=Li(Wd),Df=Li(Of),Dh=Li($h),cu=ei;(Ud&&cu(new Ud(new ArrayBuffer(1)))!=Rf||vn&&cu(new vn)!=hd||Wd&&cu(Wd.resolve())!=$f||Of&&cu(new Of)!=rc||$h&&cu(new $h)!=Rh)&&(cu=function(Vt){var Vn=ei(Vt),ii=Vn==Gd?Vt.constructor:void 0,Mo=ii?Li(ii):"";if(Mo)switch(Mo){case Af:return Rf;case pd:return hd;case Ah:return $f;case Df:return rc;case Dh:return Rh}return Vn});var Xd=cu,Tp=1,Mp="[object Arguments]",Hu="[object Array]",qd="[object Object]",ic=Object.prototype,Kd=ic.hasOwnProperty;function zh(Vt,Vn,ii,Mo,nl,Ha){var ml=Yn(Vt),Ks=Yn(Vn),Ll=ml?Hu:Xd(Vt),ol=Ks?Hu:Xd(Vn);Ll=Ll==Mp?qd:Ll,ol=ol==Mp?qd:ol;var Fc=Ll==qd,Gl=ol==qd,Pl=Ll==ol;if(Pl&&dl(Vt)){if(!dl(Vn))return!1;ml=!0,Fc=!1}if(Pl&&!Fc)return Ha||(Ha=new mo),ml||La(Vt)?Fo(Vt,Vn,ii,Mo,nl,Ha):Ne(Vt,Vn,Ll,ii,Mo,nl,Ha);if(!(ii&Tp)){var kc=Fc&&Kd.call(Vt,"__wrapped__"),hc=Gl&&Kd.call(Vn,"__wrapped__");if(kc||hc){var oc=kc?Vt.value():Vt,ac=hc?Vn.value():Vn;return Ha||(Ha=new mo),nl(oc,ac,ii,Mo,Ha)}}return Pl?(Ha||(Ha=new mo),Om(Vt,Vn,ii,Mo,nl,Ha)):!1}var zf=zh;function Lh(Vt,Vn,ii,Mo,nl){return Vt===Vn?!0:Vt==null||Vn==null||!_a(Vt)&&!_a(Vn)?Vt!==Vt&&Vn!==Vn:zf(Vt,Vn,ii,Mo,Lh,nl)}var Yd=Lh;function Lf(Vt,Vn){return Yd(Vt,Vn)}var Jd=Lf},56680:function(Kr,bn,he){"use strict";he.d(bn,{Z:function(){return qe}});const s=De=>typeof De=="object"&&De!=null&&De.nodeType===1,jt=(De,Ae)=>(!Ae||De!=="hidden")&&De!=="visible"&&De!=="clip",oe=(De,Ae)=>{if(De.clientHeight<De.scrollHeight||De.clientWidth<De.scrollWidth){const zt=getComputedStyle(De,null);return jt(zt.overflowY,Ae)||jt(zt.overflowX,Ae)||(qt=>{const mt=(Et=>{if(!Et.ownerDocument||!Et.ownerDocument.defaultView)return null;try{return Et.ownerDocument.defaultView.frameElement}catch(an){return null}})(qt);return!!mt&&(mt.clientHeight<qt.scrollHeight||mt.clientWidth<qt.scrollWidth)})(De)}return!1},d=(De,Ae,zt,qt,mt,Et,an,Ht)=>Et<De&&an>Ae||Et>De&&an<Ae?0:Et<=De&&Ht<=zt||an>=Ae&&Ht>=zt?Et-De-qt:an>Ae&&Ht<zt||Et<De&&Ht>zt?an-Ae+mt:0,Be=De=>{const Ae=De.parentElement;return Ae==null?De.getRootNode().host||null:Ae},lt=(De,Ae)=>{var zt,qt,mt,Et;if(typeof document=="undefined")return[];const{scrollMode:an,block:Ht,inline:Zt,boundary:Qt,skipOverflowHiddenElements:vt}=Ae,sn=typeof Qt=="function"?Qt:zr=>zr!==Qt;if(!s(De))throw new TypeError("Invalid target");const Xt=document.scrollingElement||document.documentElement,_n=[];let En=De;for(;s(En)&&sn(En);){if(En=Be(En),En===Xt){_n.push(En);break}En!=null&&En===document.body&&oe(En)&&!oe(document.documentElement)||En!=null&&oe(En,vt)&&_n.push(En)}const Nn=(qt=(zt=window.visualViewport)==null?void 0:zt.width)!=null?qt:innerWidth,fi=(Et=(mt=window.visualViewport)==null?void 0:mt.height)!=null?Et:innerHeight,{scrollX:Pt,scrollY:Hr}=window,{height:Rn,width:Fn,top:Br,right:Tr,bottom:nr,left:Qr}=De.getBoundingClientRect(),{top:Mr,right:Jn,bottom:Rt,left:Tn}=(zr=>{const wr=window.getComputedStyle(zr);return{top:parseFloat(wr.scrollMarginTop)||0,right:parseFloat(wr.scrollMarginRight)||0,bottom:parseFloat(wr.scrollMarginBottom)||0,left:parseFloat(wr.scrollMarginLeft)||0}})(De);let Gn=Ht==="start"||Ht==="nearest"?Br-Mr:Ht==="end"?nr+Rt:Br+Rn/2-Mr+Rt,mr=Zt==="center"?Qr+Fn/2-Tn+Jn:Zt==="end"?Tr+Jn:Qr-Tn;const ir=[];for(let zr=0;zr<_n.length;zr++){const wr=_n[zr],{height:J,width:mn,top:Ui,right:ki,bottom:Sn,left:ei}=wr.getBoundingClientRect();if(an==="if-needed"&&Br>=0&&Qr>=0&&nr<=fi&&Tr<=Nn&&(wr===Xt&&!oe(wr)||Br>=Ui&&nr<=Sn&&Qr>=ei&&Tr<=ki))return ir;const Pi=getComputedStyle(wr),Xr=parseInt(Pi.borderLeftWidth,10),or=parseInt(Pi.borderTopWidth,10),dr=parseInt(Pi.borderRightWidth,10),$i=parseInt(Pi.borderBottomWidth,10);let Zo=0,ha=0;const Da="offsetWidth"in wr?wr.offsetWidth-wr.clientWidth-Xr-dr:0,ri="offsetHeight"in wr?wr.offsetHeight-wr.clientHeight-or-$i:0,Ko="offsetWidth"in wr?wr.offsetWidth===0?0:mn/wr.offsetWidth:0,Eo="offsetHeight"in wr?wr.offsetHeight===0?0:J/wr.offsetHeight:0;if(Xt===wr)Zo=Ht==="start"?Gn:Ht==="end"?Gn-fi:Ht==="nearest"?d(Hr,Hr+fi,fi,or,$i,Hr+Gn,Hr+Gn+Rn,Rn):Gn-fi/2,ha=Zt==="start"?mr:Zt==="center"?mr-Nn/2:Zt==="end"?mr-Nn:d(Pt,Pt+Nn,Nn,Xr,dr,Pt+mr,Pt+mr+Fn,Fn),Zo=Math.max(0,Zo+Hr),ha=Math.max(0,ha+Pt);else{Zo=Ht==="start"?Gn-Ui-or:Ht==="end"?Gn-Sn+$i+ri:Ht==="nearest"?d(Ui,Sn,J,or,$i+ri,Gn,Gn+Rn,Rn):Gn-(Ui+J/2)+ri/2,ha=Zt==="start"?mr-ei-Xr:Zt==="center"?mr-(ei+mn/2)+Da/2:Zt==="end"?mr-ki+dr+Da:d(ei,ki,mn,Xr,dr+Da,mr,mr+Fn,Fn);const{scrollLeft:No,scrollTop:ya}=wr;Zo=Eo===0?0:Math.max(0,Math.min(ya+Zo/Eo,wr.scrollHeight-J/Eo+ri)),ha=Ko===0?0:Math.max(0,Math.min(No+ha/Ko,wr.scrollWidth-mn/Ko+Da)),Gn+=ya-Zo,mr+=No-ha}ir.push({el:wr,top:Zo,left:ha})}return ir},ot=De=>De===!1?{block:"end",inline:"nearest"}:(Ae=>Ae===Object(Ae)&&Object.keys(Ae).length!==0)(De)?De:{block:"start",inline:"nearest"};function qe(De,Ae){if(!De.isConnected||!(mt=>{let Et=mt;for(;Et&&Et.parentNode;){if(Et.parentNode===document)return!0;Et=Et.parentNode instanceof ShadowRoot?Et.parentNode.host:Et.parentNode}return!1})(De))return;const zt=(mt=>{const Et=window.getComputedStyle(mt);return{top:parseFloat(Et.scrollMarginTop)||0,right:parseFloat(Et.scrollMarginRight)||0,bottom:parseFloat(Et.scrollMarginBottom)||0,left:parseFloat(Et.scrollMarginLeft)||0}})(De);if((mt=>typeof mt=="object"&&typeof mt.behavior=="function")(Ae))return Ae.behavior(lt(De,Ae));const qt=typeof Ae=="boolean"||Ae==null?void 0:Ae.behavior;for(const{el:mt,top:Et,left:an}of lt(De,ot(Ae))){const Ht=Et-zt.top+zt.bottom,Zt=an-zt.left+zt.right;mt.scroll({top:Ht,left:Zt,behavior:qt})}}}}]);
}());