"use strict";(self.webpackChunkreact_mapboxgl_zt=self.webpackChunkreact_mapboxgl_zt||[]).push([[904],{46411:function(ae,y,r){r.r(y),r.d(y,{demos:function(){return X}});var J=r(75271),F=r(28440),X={}},30238:function(ae,y,r){r.r(y),r.d(y,{demos:function(){return X}});var J=r(75271),F=r(24497),X={"docs-base-start-demo-hellowolrd":{component:J.memo(J.lazy(function(){return r.e(433).then(r.bind(r,62296))})),asset:null,context:void 0,renderOpts:void 0}}},77410:function(ae,y,r){var J;r.r(y),r.d(y,{demos:function(){return n}});var F=r(90228),X=r.n(F),le=r(87999),ce=r.n(le),w=r(75271),ge=r(64889),re=r(91314),n={"docs-components-background-layer-demo-base":{component:w.memo(w.lazy(function(){return r.e(433).then(r.bind(r,7719))})),asset:{type:"BLOCK",id:"docs-components-background-layer-demo-base",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:r(3914).Z},react:{type:"NPM",value:"18.3.1"},"react-mapboxgl-zt":{type:"NPM",value:"0.0.9"}},entry:"index.tsx"},context:{react:J||(J=r.t(w,2)),"react-mapboxgl-zt":re},renderOpts:{compile:function(){var se=ce()(X()().mark(function s(){var K,me=arguments;return X()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,r.e(928).then(r.bind(r,56928));case 2:return R.abrupt("return",(K=R.sent).default.apply(K,me));case 3:case"end":return R.stop()}},s)}));function ue(){return se.apply(this,arguments)}return ue}()}}}},3006:function(ae,y,r){var J;r.r(y),r.d(y,{demos:function(){return n}});var F=r(90228),X=r.n(F),le=r(87999),ce=r.n(le),w=r(75271),ge=r(36588),re=r(91314),n={"docs-components-circle-layer-demo-base":{component:w.memo(w.lazy(function(){return r.e(433).then(r.bind(r,7719))})),asset:{type:"BLOCK",id:"docs-components-circle-layer-demo-base",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:r(3914).Z},react:{type:"NPM",value:"18.3.1"},"react-mapboxgl-zt":{type:"NPM",value:"0.0.9"}},entry:"index.tsx"},context:{react:J||(J=r.t(w,2)),"react-mapboxgl-zt":re},renderOpts:{compile:function(){var se=ce()(X()().mark(function s(){var K,me=arguments;return X()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,r.e(928).then(r.bind(r,56928));case 2:return R.abrupt("return",(K=R.sent).default.apply(K,me));case 3:case"end":return R.stop()}},s)}));function ue(){return se.apply(this,arguments)}return ue}()}}}},70366:function(ae,y,r){var J;r.r(y),r.d(y,{demos:function(){return n}});var F=r(90228),X=r.n(F),le=r(87999),ce=r.n(le),w=r(75271),ge=r(71938),re=r(91314),n={"docs-components-map-demo-base":{component:w.memo(w.lazy(function(){return r.e(433).then(r.bind(r,7719))})),asset:{type:"BLOCK",id:"docs-components-map-demo-base",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:r(3914).Z},react:{type:"NPM",value:"18.3.1"},"react-mapboxgl-zt":{type:"NPM",value:"0.0.9"}},entry:"index.tsx"},context:{react:J||(J=r.t(w,2)),"react-mapboxgl-zt":re},renderOpts:{compile:function(){var se=ce()(X()().mark(function s(){var K,me=arguments;return X()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,r.e(928).then(r.bind(r,56928));case 2:return R.abrupt("return",(K=R.sent).default.apply(K,me));case 3:case"end":return R.stop()}},s)}));function ue(){return se.apply(this,arguments)}return ue}()}}}},13413:function(ae,y,r){var J;r.r(y),r.d(y,{demos:function(){return n}});var F=r(90228),X=r.n(F),le=r(87999),ce=r.n(le),w=r(75271),ge=r(95087),re=r(91314),n={"docs-components-navigation-control-demo-base":{component:w.memo(w.lazy(function(){return r.e(433).then(r.bind(r,7719))})),asset:{type:"BLOCK",id:"docs-components-navigation-control-demo-base",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:r(3914).Z},react:{type:"NPM",value:"18.3.1"},"react-mapboxgl-zt":{type:"NPM",value:"0.0.9"}},entry:"index.tsx"},context:{react:J||(J=r.t(w,2)),"react-mapboxgl-zt":re},renderOpts:{compile:function(){var se=ce()(X()().mark(function s(){var K,me=arguments;return X()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,r.e(928).then(r.bind(r,56928));case 2:return R.abrupt("return",(K=R.sent).default.apply(K,me));case 3:case"end":return R.stop()}},s)}));function ue(){return se.apply(this,arguments)}return ue}()}}}},75124:function(ae,y,r){var J;r.r(y),r.d(y,{demos:function(){return n}});var F=r(90228),X=r.n(F),le=r(87999),ce=r.n(le),w=r(75271),ge=r(22131),re=r(91314),n={"docs-components-scale-control-demo-base":{component:w.memo(w.lazy(function(){return r.e(433).then(r.bind(r,7719))})),asset:{type:"BLOCK",id:"docs-components-scale-control-demo-base",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:r(3914).Z},react:{type:"NPM",value:"18.3.1"},"react-mapboxgl-zt":{type:"NPM",value:"0.0.9"}},entry:"index.tsx"},context:{react:J||(J=r.t(w,2)),"react-mapboxgl-zt":re},renderOpts:{compile:function(){var se=ce()(X()().mark(function s(){var K,me=arguments;return X()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,r.e(928).then(r.bind(r,56928));case 2:return R.abrupt("return",(K=R.sent).default.apply(K,me));case 3:case"end":return R.stop()}},s)}));function ue(){return se.apply(this,arguments)}return ue}()}}}},25079:function(ae,y,r){r.r(y),r.d(y,{demos:function(){return X}});var J=r(75271),F=r(31275),X={}},91314:function(ae,y,r){r.r(y),r.d(y,{BackgroundLayer:function(){return kt},CircleLayer:function(){return Ht},CustomControl:function(){return It},FillLayer:function(){return Yt},FullscreenControl:function(){return zt},HeatmapLayer:function(){return Vt},LineLayer:function(){return qt},MapContext:function(){return K},MapFactory:function(){return Lt},Marker:function(){return nr},MousePositionControl:function(){return Wt},NavigationControl:function(){return Ft},Popup:function(){return ar},RasterLayer:function(){return tr},ScaleControl:function(){return jt}});var J=r(31759),F=r.n(J),X=r(26068),le=r.n(X),ce=r(48305),w=r.n(ce),ge=r(95959),re=r.n(ge),n=r(75271),se=r(82187),ue=r.n(se),s=r(69370),K=(0,n.createContext)(null),me={onResize:"resize",onIdle:"idle",onRemove:"remove",onMouseDown:"mousedown",onMouseUp:"mouseup",onMouseOver:"mouseover",onMouseMove:"mousemove",onMouseEnter:"mouseenter",onMouseLeave:"mouseleave",onMouseOut:"mouseout",onPreClick:"preclick",onClick:"click",onDblClick:"dblclick",onContextMenu:"contextmenu",onWheel:"wheel",onTouchStart:"touchstart",onTouchEnd:"touchend",onTouchMove:"touchmove",onTouchCancel:"touchcancel",onMoveStart:"movestart",onMove:"move",onMoveEnd:"moveend",onDragStart:"dragstart",onDrag:"drag",onDragEnd:"dragend",onZoomStart:"zoomstart",onZoom:"zoom",onZoomEnd:"zoomend",onRotateStart:"rotatestart",onRotate:"rotate",onRotateEnd:"rotateend",onPitchStart:"pitchstart",onPitch:"pitch",onPitchEnd:"pitchend",onBoxZoomStart:"boxzoomstart",onBoxZoomEnd:"boxzoomend",onBoxZoomCancel:"boxzoomcancel",onRenderStart:"renderstart",onRender:"render",onError:"error",onWebglContextLost:"webglcontextlost",onWebglContextRestored:"webglcontextrestored",onData:"data",onStyleData:"styledata",onSourceData:"sourcedata",onDataLoading:"dataloading",onStyleDataLoading:"styledataloading",onSourceDataLoading:"sourcedataloading",onStyleImageMissing:"styleimagemissing",onStyleLoad:"style.load",onStyleImportLoad:"style.import.load"},he={onMouseDown:"mousedown",onMouseUp:"mouseup",onMouseOver:"mouseover",onMouseMove:"mousemove",onMouseEnter:"mouseenter",onMouseLeave:"mouseleave",onMouseOut:"mouseout",onClick:"click",onTouchStart:"touchstart",onTouchEnd:"touchend",onTouchCancel:"touchcancel"},R={onOpen:"open",onClose:"close",onDragStart:"dragstart",onDrag:"drag",onDragEnd:"dragend"},Pe=le()(le()(le()({},me),he),R),xe=function(t,e,i,a){if(!(!i||!t)){var u=Object.keys(t).filter(function(o){return t[o]&&typeof e[o]!="function"}),p=Object.keys(Pe).filter(function(o){return!t[o]&&typeof e[o]=="function"});a?u.forEach(function(o){i.off(Pe[o],a,t[o]),delete t[o]}):u.forEach(function(o){i.off(Pe[o],t[o]),delete t[o]}),p.forEach(function(o){var L=Pe[o],h=e[o];if(L&&typeof h=="function"){var m=function($){h($)};a?i.on(L,a,m):i.on(L,m),t[o]=m}})}},be=function(t,e,i){!e||!t||(i?Object.keys(t).forEach(function(a){e.off(Pe[a],i,t[a]),delete t[a]}):Object.keys(t).forEach(function(a){e.off(Pe[a],t[a]),delete t[a]}))},Or=r(58596),je=r(52676),dt=10,ft=[113.94,22.52],vt=0,pt=0,_t=85,yt=0,gt=22,ht=0,Pt="flyTo",xt="mapbox://styles/mapbox/streets-v11",bt=function(t){var e=t.accessToken,i=t.apiUrl,a=t.antialias,u=a===void 0?!1:a,p=t.attributionControl,o=p===void 0?!1:p,L=t.bearingSnap,h=L===void 0?7:L,m=t.boxZoom,P=m===void 0?!0:m,$=t.clickTolerance,T=$===void 0?3:$,D=t.collectResourceTiming,Z=D===void 0?!1:D,B=t.config,z=t.cooperativeGestures,W=z===void 0?!1:z,l=t.crossSourceCollisions,x=l===void 0?!0:l,A=t.customAttribution,I=t.doubleClickZoom,S=I===void 0?!0:I,c=t.dragPan,b=c===void 0?!0:c,_=t.dragRotate,O=_===void 0?!0:_,U=t.fadeDuration,d=U===void 0?300:U,M=t.failIfMajorPerformanceCaveat,ie=M===void 0?!1:M,Y=t.hash,k=Y===void 0?!1:Y,C=t.interactive,v=C===void 0?!0:C,E=t.keyboard,V=E===void 0?!0:E,H=t.language,g=t.locale,j=t.localFontFamily,de=t.localIdeographFontFamily,ne=de===void 0?"sans-serif":de,Q=t.logoPosition,ve=Q===void 0?"bottom-right":Q,Le=t.maxTileCacheSize,Ie=t.minTileCacheSize,pe=t.performanceMetricsCollection,f=pe===void 0?!0:pe,N=t.pitchWithRotate,Ce=N===void 0?!0:N,Me=t.preserveDrawingBuffer,oe=Me===void 0?!1:Me,ee=t.projection,fe=ee===void 0?{name:"mercator"}:ee,_e=t.refreshExpiredTiles,Se=_e===void 0?!0:_e,ke=t.renderWorldCopies,ir=ke===void 0?!0:ke,Ge=t.respectPrefersReducedMotion,lr=Ge===void 0?!0:Ge,He=t.scrollZoom,cr=He===void 0?!0:He,we=t.spriteFormat,sr=we===void 0?"auto":we,Ye=t.touchPitch,ur=Ye===void 0?!0:Ye,Xe=t.touchZoomRotate,mr=Xe===void 0?!0:Xe,Ve=t.trackResize,dr=Ve===void 0?!0:Ve,fr=t.transformRequest;return function(te){var Qe=te.center,Ee=Qe===void 0?ft:Qe,qe=te.zoom,ze=qe===void 0?dt:qe,et=te.bearing,Re=et===void 0?pt:et,tt=te.pitch,De=tt===void 0?vt:tt,$e=te.bounds,Fe=te.fitBoundsOptions,Te=te.maxBounds,rt=te.maxPitch,Ze=rt===void 0?_t:rt,nt=te.minPitch,Ae=nt===void 0?yt:nt,ot=te.maxZoom,Ne=ot===void 0?gt:ot,at=te.minZoom,Be=at===void 0?ht:at,it=te.style,ye=it===void 0?xt:it,vr=te.className,lt=te.moveMethod,pr=lt===void 0?Pt:lt,_r=te.cameraOptions,ct=te.animationOptions,yr=ct===void 0?{}:ct,gr=te.children,st=te.onMapLoad,hr=(0,n.useState)(null),ut=w()(hr,2),G=ut[0],Pr=ut[1],mt=(0,n.useRef)(null),Ke=(0,n.useRef)({});return(0,n.useEffect)(function(){re().accessToken=e,i&&(re().config.API_URL=i);var We={container:mt.current,center:Ee,zoom:ze,pitch:De,bearing:Re,bounds:$e,style:ye,fitBoundsOptions:Fe,maxBounds:Te,maxPitch:Ze,minPitch:Ae,maxZoom:Ne,minZoom:Be,antialias:u,attributionControl:o,bearingSnap:h,boxZoom:P,clickTolerance:T,collectResourceTiming:Z,config:B,cooperativeGestures:W,crossSourceCollisions:x,customAttribution:A,doubleClickZoom:S,dragPan:b,dragRotate:O,fadeDuration:d,failIfMajorPerformanceCaveat:ie,hash:k,interactive:v,keyboard:V,language:H,locale:g,localFontFamily:j,localIdeographFontFamily:ne,logoPosition:ve,maxTileCacheSize:Le,minTileCacheSize:Ie,performanceMetricsCollection:f,pitchWithRotate:Ce,preserveDrawingBuffer:oe,projection:fe,refreshExpiredTiles:Se,renderWorldCopies:ir,respectPrefersReducedMotion:lr,scrollZoom:cr,spriteFormat:sr,touchPitch:ur,touchZoomRotate:mr,trackResize:dr,transformRequest:fr},Oe=new(re()).Map(We);return Oe.on("load",function(){st&&st(Oe),Pr(Oe)}),function(){G&&G.remove(),be(Ke.current,G),Ke.current=null}},[]),(0,n.useEffect)(function(){if(G){var We=G.getCenter(),Oe=G.getZoom(),xr=G.getBearing(),br=G.getPitch(),Lr=We.lng!==Ee[0]||We.lat!==Ee[1],Cr=Oe!==ze,Mr=xr!==Re,Er=br!==De;(Lr||Cr||Mr||Er)&&G[pr](le()(le()(le()({},_r),yr),{},{center:Ee,zoom:ze,bearing:Re,pitch:De})),$e&&G.fitBounds($e,Fe),Te&&G.setMaxBounds(Te),Ze!==G.getMaxPitch()&&G.setMaxPitch(Ze),Ae!==G.getMinPitch()&&G.setMinPitch(Ae),Ne!==G.getMaxZoom()&&G.setMaxZoom(Ne),Be!==G.getMinZoom()&&G.setMinZoom(Be)}},[JSON.stringify(Ee),ze,De,Re,JSON.stringify($e),JSON.stringify(Te),JSON.stringify(Fe),Ze,Ae,Ne,Be]),(0,n.useEffect)(function(){if(G){if(typeof ye=="string"){G.setStyle(ye);return}F()(ye)==="object"&&!(0,s.Z)(ye,G.getStyle())&&G.setStyle(ye)}},[ye]),G&&xe(Ke.current,te,G),(0,je.jsx)(K.Provider,{value:G,children:(0,je.jsx)("div",{className:ue()("map-container",vr),ref:mt,children:G&&gr})})}},Lt=bt,Ct=r(67825),Mt=r.n(Ct),Et=["controlClass","position"],Ot=function(t){var e=t.controlClass,i=t.position,a=i===void 0?"bottom-right":i,u=Mt()(t,Et),p=(0,n.useContext)(K),o=(0,n.useRef)(null);return(0,n.useEffect)(function(){if(p)return o.current&&p.removeControl(o.current),o.current=new e(u),p.addControl(o.current,a),function(){o.current&&p.removeControl(o.current),o.current=null}},[p,a]),null},It=Ot,St=function(t){var e=t.position,i=e===void 0?"top-right":e,a=t.container,u=(0,n.useContext)(K),p=(0,n.useRef)(null);return(0,n.useEffect)(function(){if(u)return p.current&&u.removeControl(p.current),p.current=new(re()).FullscreenControl({container:a}),u.addControl(p.current,i),function(){p.current&&u.removeControl(p.current),p.current=null}},[u,i,a]),null},zt=St,Rt=r(25298),Dt=r.n(Rt),$t=r(17069),Tt=r.n($t),Zt=r(82092),Ue=r.n(Zt),At=function(){function q(t){var e=t.decimals;Dt()(this,q),Ue()(this,"_map",null),Ue()(this,"_container",null),Ue()(this,"_decimals",void 0),this._decimals=e}return Tt()(q,[{key:"_updatePosition",value:function(e){if(this._container){var i=e.lngLat.lng.toFixed(this._decimals),a=e.lngLat.lat.toFixed(this._decimals);this._container.innerText="".concat(i," , ").concat(a)}}},{key:"onAdd",value:function(e){this._map=e;var i=e.getCenter().lng.toFixed(this._decimals),a=e.getCenter().lat.toFixed(this._decimals);return this._container=document.createElement("div"),this._container.classList.add("mapboxgl-ctrl"),this._container.classList.add("mapboxgl-ctrl-group"),this._container.classList.add("mapboxgl-ctrl-mouse-position"),this._container.innerText="".concat(i," , ").concat(a),this._map.on("mousemove",this._updatePosition.bind(this)),this._container}},{key:"onRemove",value:function(){this._map&&this._map.off("mousemove",this._updatePosition),this._container&&this._container.parentNode&&this._container.parentNode.removeChild(this._container),this._map=null,this._container=null}}]),q}(),Nt=At,Bt=function(t){var e=t.position,i=e===void 0?"bottom":e,a=t.decimals,u=a===void 0?6:a,p=(0,n.useContext)(K),o=(0,n.useRef)(null);return(0,n.useEffect)(function(){if(p)return o.current&&p.removeControl(o.current),o.current=new Nt({decimals:u}),p.addControl(o.current,i),function(){o.current&&p.removeControl(o.current),o.current=null}},[p,i,u]),null},Wt=Bt,Ut=function(t){var e=t.showCompass,i=e===void 0?!0:e,a=t.showZoom,u=a===void 0?!0:a,p=t.visualizePitch,o=p===void 0?!0:p,L=t.position,h=L===void 0?"top-left":L,m=(0,n.useContext)(K),P=(0,n.useRef)(null);return(0,n.useEffect)(function(){if(m)return P.current&&m.removeControl(P.current),P.current=new(re()).NavigationControl({showCompass:i,showZoom:u,visualizePitch:o}),m.addControl(P.current,h),function(){P.current&&m.removeControl(P.current),P.current=null}},[m,h,i,u,o]),null},Ft=Ut,Kt=function(t,e){var i=t.position,a=i===void 0?"bottom-left":i,u=t.maxWidth,p=u===void 0?100:u,o=t.unit,L=o===void 0?"metric":o,h=(0,n.useContext)(K),m=(0,n.useRef)(null),P=(0,n.useState)(!1),$=w()(P,2),T=$[0],D=$[1];return(0,n.useEffect)(function(){if(h)return m.current&&h.removeControl(m.current),m.current=new(re()).ScaleControl({maxWidth:p,unit:L}),h.addControl(m.current,a),D(!0),function(){m.current&&h.removeControl(m.current),m.current=null}},[h,a,p,L]),(0,n.useImperativeHandle)(e,function(){return T?m.current:null},[T]),null},jt=(0,n.forwardRef)(Kt),Jt=function(t){var e=t.id,i=t.filter,a=t.maxzoom,u=a===void 0?24:a,p=t.minzoom,o=p===void 0?0:p,L=t.slot,h=t.color,m=h===void 0?"#000000":h,P=t.emissiveStrength,$=P===void 0?0:P,T=t.opacity,D=T===void 0?1:T,Z=t.imgUrl,B=t.visibility,z=B===void 0?"visible":B,W=t.beforeId,l=(0,n.useContext)(K),x=(0,n.useRef)(null),A=function(S){return new Promise(function(c){l.loadImage(S,function(b,_){if(b)throw b;l.hasImage(e)&&l.removeImage(e),_&&l.addImage(e,_),c(e)})})};return(0,n.useEffect)(function(){if(l){var I={id:e,type:"background"},S={},c={};return i&&(I.filter=i),L&&(I.slot=L),I.maxzoom=u,I.minzoom=o,S["background-color"]=m,S["background-emissive-strength"]=$,S["background-opacity"]=D,c.visibility=z,I.paint=S,I.layout=c,Z?A(Z).then(function(b){I.paint["background-pattern"]=b,l.getLayer(e)&&l.removeLayer(e),l.addLayer(I,W)}):(l.getLayer(e)&&l.removeLayer(e),l.addLayer(I)),function(){l!=null&&l.getLayer(e)&&l.removeLayer(e),x.current=null}}},[l,e]),(0,n.useEffect)(function(){if(l){if(!x.current){x.current=t;return}(0,s.Z)(i,x.current.filter)||l.setFilter(e,i),(u!==x.current.maxzoom||o!==x.current.minzoom)&&l.setLayerZoomRange(e,o,u),L!==x.current.slot&&l.setSlot(e,L),m!==x.current.color&&l.setPaintProperty(e,"background-color",m),$!==x.current.emissiveStrength&&l.setPaintProperty(e,"background-emissive-strength",$),D!==x.current.opacity&&l.setPaintProperty(e,"background-opacity",D),z!==x.current.visibility&&l.setLayoutProperty(e,"visibility",z),W!==x.current.beforeId&&l.moveLayer(e,W),Z&&Z!==x.current.imgUrl&&A(Z),x.current=t}},[JSON.stringify(i),u,o,L,m,$,D,z,W,Z]),null},kt=Jt,Gt=function(t){var e=t.id,i=t.source,a=t.sourceLayer,u=t.filter,p=t.maxzoom,o=p===void 0?24:p,L=t.minzoom,h=L===void 0?0:L,m=t.slot,P=t.beforeId,$=t.visibility,T=$===void 0?"visible":$,D=t.blur,Z=D===void 0?0:D,B=t.color,z=B===void 0?"#000000":B,W=t.emissiveStrength,l=W===void 0?0:W,x=t.opacity,A=x===void 0?1:x,I=t.pitchAlignment,S=I===void 0?"viewport":I,c=t.pitchScale,b=c===void 0?"map":c,_=t.radius,O=_===void 0?5:_,U=t.sortKey,d=t.strokeColor,M=d===void 0?"#000000":d,ie=t.strokeOpacity,Y=ie===void 0?1:ie,k=t.strokeWidth,C=k===void 0?0:k,v=t.translate,E=v===void 0?[0,0]:v,V=t.translateAnchor,H=V===void 0?"map":V,g=(0,n.useContext)(K),j=(0,n.useRef)(null),de=(0,n.useRef)({});return(0,n.useEffect)(function(){if(g){var ne={id:e,type:"circle",source:e},Q={},ve={};return a&&(ne["source-layer"]=a),u&&(ne.filter=u),m&&(ne.slot=m),U&&(ve["circle-sort-key"]=U),ne.maxzoom=o,ne.minzoom=h,Q["circle-blur"]=Z,Q["circle-color"]=z,Q["circle-emissive-strength"]=l,Q["circle-opacity"]=A,Q["circle-pitch-alignment"]=S,Q["circle-pitch-scale"]=b,Q["circle-radius"]=O,Q["circle-stroke-color"]=M,Q["circle-stroke-opacity"]=Y,Q["circle-stroke-width"]=C,Q["circle-translate"]=E,Q["circle-translate-anchor"]=H,ve.visibility=T,ne.paint=Q,ne.layout=ve,g.getLayer(e)&&g.removeLayer(e),g.getSource(e)&&g.removeSource(e),g.addSource(e,i),g.addLayer(ne,P),function(){g.getLayer(e)&&g.removeLayer(e),g.getSource(e)&&g.removeSource(e),be(de.current,g,e),de.current=null,j.current=null}}},[g,e]),(0,n.useEffect)(function(){if(g){var ne=g.getLayer(e);if(ne){if(!j.current){j.current=t;return}(0,s.Z)(i,j.current.source)||(g.removeLayer(e),g.removeSource(e),g.addSource(e,i),g.addLayer(ne)),a!==j.current.sourceLayer&&(ne["source-layer"]=a,g.removeLayer(e),g.addLayer(ne)),(0,s.Z)(u,j.current.filter)||g.setFilter(e,u),(o!==j.current.maxzoom||h!==j.current.minzoom)&&g.setLayerZoomRange(e,h,o),m!==j.current.slot&&g.setSlot(e,m),T!==j.current.visibility&&g.setLayoutProperty(e,"visibility",T),(0,s.Z)(Z,j.current.blur)||g.setPaintProperty(e,"circle-blur",Z),(0,s.Z)(z,j.current.color)||g.setPaintProperty(e,"circle-color",z),l!==j.current.emissiveStrength&&g.setPaintProperty(e,"circle-emissive-strength",l),(0,s.Z)(A,j.current.opacity)||g.setPaintProperty(e,"circle-opacity",A),S!==j.current.pitchAlignment&&g.setPaintProperty(e,"circle-pitch-alignment",S),b!==j.current.pitchScale&&g.setPaintProperty(e,"circle-pitch-scale",b),(0,s.Z)(O,j.current.radius)||g.setPaintProperty(e,"circle-radius",O),U!==j.current.sortKey&&g.setLayoutProperty(e,"circle-sort-key",U),(0,s.Z)(M,j.current.strokeColor)||g.setPaintProperty(e,"circle-stroke-color",M),(0,s.Z)(Y,j.current.strokeOpacity)||g.setPaintProperty(e,"circle-stroke-opacity",Y),(0,s.Z)(C,j.current.strokeWidth)||g.setPaintProperty(e,"circle-stroke-width",C),(0,s.Z)(E,j.current.translate)||g.setPaintProperty(e,"circle-translate",E),H!==j.current.translateAnchor&&g.setPaintProperty(e,"circle-translate-anchor",H),P!==j.current.beforeId&&g.moveLayer(e,P),j.current=t}}},[i,a,JSON.stringify(u),o,h,m,T,JSON.stringify(Z),JSON.stringify(z),JSON.stringify(l),JSON.stringify(A),S,b,JSON.stringify(O),U,JSON.stringify(M),JSON.stringify(Y),JSON.stringify(C),JSON.stringify(E),H,P]),g&&xe(de.current,t,g,e),null},Ht=Gt,wt=function(t){var e=t.id,i=t.source,a=t.sourceLayer,u=t.filter,p=t.maxzoom,o=p===void 0?24:p,L=t.minzoom,h=L===void 0?0:L,m=t.slot,P=t.beforeId,$=t.visibility,T=$===void 0?"visible":$,D=t.antialias,Z=D===void 0?!0:D,B=t.color,z=B===void 0?"#000000":B,W=t.emissiveStrength,l=W===void 0?0:W,x=t.opacity,A=x===void 0?1:x,I=t.outlineColor,S=t.imgUrl,c=t.sortKey,b=t.translate,_=b===void 0?[0,0]:b,O=t.translateAnchor,U=O===void 0?"map":O,d=(0,n.useContext)(K),M=(0,n.useRef)(null),ie=(0,n.useRef)({}),Y=function(C){return new Promise(function(v){d.loadImage(C,function(E,V){if(E)throw E;d.hasImage(e)&&d.removeImage(e),V&&d.addImage(e,V),v(e)})})};return(0,n.useEffect)(function(){if(d){var k={id:e,type:"fill",source:e},C={},v={};return a&&(k["source-layer"]=a),u&&(k.filter=u),m&&(k.slot=m),c&&(v["fill-sort-key"]=c),I&&(C["fill-outline-color"]=I),k.maxzoom=o,k.minzoom=h,C["fill-antialias"]=Z,C["fill-color"]=z,C["fill-emissive-strength"]=l,C["fill-opacity"]=A,C["fill-translate"]=_,C["fill-translate-anchor"]=U,v.visibility=T,k.paint=C,k.layout=v,S?Y(S).then(function(E){k.paint["fill-pattern"]=E,d.getLayer(e)&&d.removeLayer(e),d.getSource(e)&&d.removeSource(e),d.addSource(e,i),d.addLayer(k,P)}):(d.getLayer(e)&&d.removeLayer(e),d.getSource(e)&&d.removeSource(e),d.addSource(e,i),d.addLayer(k,P)),function(){d.getLayer(e)&&d.removeLayer(e),d.getSource(e)&&d.removeSource(e),be(ie.current,d,e),ie.current=null,M.current=null}}},[d,e]),(0,n.useEffect)(function(){if(d){var k=d.getLayer(e);if(k){if(!M.current){M.current=t;return}(0,s.Z)(i,M.current.source)||(d.removeLayer(e),d.removeSource(e),d.addSource(e,i),d.addLayer(k)),a!==M.current.sourceLayer&&(k["source-layer"]=a,d.removeLayer(e),d.addLayer(k)),(0,s.Z)(u,M.current.filter)||d.setFilter(e,u),(o!==M.current.maxzoom||h!==M.current.minzoom)&&d.setLayerZoomRange(e,h,o),m!==M.current.slot&&d.setSlot(e,m),Z!==M.current.antialias&&d.setPaintProperty(e,"fill-antialias",Z),(0,s.Z)(z,M.current.color)||d.setPaintProperty(e,"fill-color",z),l!==M.current.emissiveStrength&&d.setPaintProperty(e,"fill-emissive-strength",l),(0,s.Z)(A,M.current.opacity)||d.setPaintProperty(e,"fill-opacity",A),(0,s.Z)(I,M.current.outlineColor)||d.setPaintProperty(e,"fill-outline-color",I),c!==M.current.sortKey&&d.setLayoutProperty(e,"fill-sort-key",c),(0,s.Z)(_,M.current.translate)||d.setPaintProperty(e,"fill-translate",_),U!==M.current.translateAnchor&&d.setPaintProperty(e,"fill-translate-anchor",U),T!==M.current.visibility&&d.setLayoutProperty(e,"visibility",T),P!==M.current.beforeId&&d.moveLayer(e,P),S&&S!==M.current.imgUrl&&Y(S),M.current=t}}},[i,a,JSON.stringify(u),o,h,m,T,P,Z,JSON.stringify(z),JSON.stringify(l),JSON.stringify(A),JSON.stringify(I),c,JSON.stringify(_),U,S]),d&&xe(ie.current,t,d,e),null},Yt=wt,Xt=function(t){var e=t.id,i=t.source,a=t.sourceLayer,u=t.filter,p=t.maxzoom,o=p===void 0?24:p,L=t.minzoom,h=L===void 0?0:L,m=t.slot,P=t.beforeId,$=t.visibility,T=$===void 0?"visible":$,D=t.color,Z=D===void 0?["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"]:D,B=t.intensity,z=B===void 0?1:B,W=t.opacity,l=W===void 0?1:W,x=t.radius,A=x===void 0?30:x,I=t.weight,S=I===void 0?1:I,c=(0,n.useContext)(K),b=(0,n.useRef)(null);return(0,n.useEffect)(function(){if(c){var _={id:e,type:"heatmap",source:e},O={},U={};return a&&(_["source-layer"]=a),u&&(_.filter=u),m&&(_.slot=m),_.maxzoom=o,_.minzoom=h,O["heatmap-color"]=Z,O["heatmap-intensity"]=z,O["heatmap-opacity"]=l,O["heatmap-radius"]=A,O["heatmap-weight"]=S,_.paint=O,_.layout=U,c.getLayer(e)&&c.removeLayer(e),c.getSource(e)&&c.removeSource(e),c.addSource(e,i),c.addLayer(_,P),function(){c!=null&&c.getLayer(e)&&c.removeLayer(e),c!=null&&c.getSource(e)&&c.removeSource(e),b.current=null}}},[c,e]),(0,n.useEffect)(function(){if(c){var _=c.getLayer(e);if(_){if(!b.current){b.current=t;return}(0,s.Z)(i,b.current.source)||(c.removeLayer(e),c.removeSource(e),c.addSource(e,i),c.addLayer(_)),a!==b.current.sourceLayer&&(_["source-layer"]=a,c.removeLayer(e),c.addLayer(_)),(0,s.Z)(u,b.current.filter)||c.setFilter(e,u),(o!==b.current.maxzoom||h!==b.current.minzoom)&&c.setLayerZoomRange(e,h,o),m!==b.current.slot&&c.setSlot(e,m),T!==b.current.visibility&&c.setLayoutProperty(e,"visibility",T),P!==b.current.beforeId&&c.moveLayer(e,P),(0,s.Z)(Z,b.current.color)||c.setPaintProperty(e,"heatmap-color",Z),(0,s.Z)(z,b.current.intensity)||c.setPaintProperty(e,"heatmap-intensity",z),(0,s.Z)(l,b.current.opacity)||c.setPaintProperty(e,"heatmap-opacity",l),(0,s.Z)(A,b.current.radius)||c.setPaintProperty(e,"heatmap-radius",A),(0,s.Z)(S,b.current.weight)||c.setPaintProperty(e,"heatmap-weight",S),b.current=t}}},[i,a,JSON.stringify(u),o,h,m,T,P,JSON.stringify(Z),JSON.stringify(z),JSON.stringify(l),JSON.stringify(A),JSON.stringify(S)]),null},Vt=Xt,Qt=function(t){var e=t.id,i=t.source,a=t.sourceLayer,u=t.filter,p=t.maxzoom,o=p===void 0?24:p,L=t.minzoom,h=L===void 0?0:L,m=t.slot,P=t.beforeId,$=t.visibility,T=$===void 0?"visible":$,D=t.imgUrl,Z=t.blur,B=Z===void 0?0:Z,z=t.cap,W=z===void 0?"butt":z,l=t.color,x=l===void 0?"#000000":l,A=t.dasharray,I=t.emissiveStrength,S=I===void 0?0:I,c=t.gapWidth,b=c===void 0?0:c,_=t.gradient,O=t.join,U=O===void 0?"miter":O,d=t.miterLimit,M=d===void 0?2:d,ie=t.occlusionOpacity,Y=ie===void 0?0:ie,k=t.offset,C=k===void 0?0:k,v=t.opacity,E=v===void 0?1:v,V=t.roundLimit,H=V===void 0?1.05:V,g=t.sortKey,j=t.translate,de=j===void 0?[0,0]:j,ne=t.translateAnchor,Q=ne===void 0?"map":ne,ve=t.trimOffset,Le=ve===void 0?[0,0]:ve,Ie=t.width,pe=Ie===void 0?1:Ie,f=(0,n.useContext)(K),N=(0,n.useRef)(null),Ce=(0,n.useRef)({}),Me=function(ee){return new Promise(function(fe){f.loadImage(ee,function(_e,Se){if(_e)throw _e;f.hasImage(e)&&f.removeImage(e),Se&&f.addImage(e,Se),fe(e)})})};return(0,n.useEffect)(function(){if(f){var oe={id:e,type:"line",source:e},ee={},fe={};return a&&(oe["source-layer"]=a),u&&(oe.filter=u),m&&(oe.slot=m),A&&(ee["line-dasharray"]=A),_&&(ee["line-gradient"]=_),g&&(fe["line-sort-key"]=g),oe.maxzoom=o,oe.minzoom=h,ee["line-blur"]=B,ee["line-color"]=x,ee["line-emissive-strength"]=0,ee["line-gap-width"]=b,ee["line-occlusion-opacity"]=Y,ee["line-offset"]=C,ee["line-opacity"]=E,ee["line-translate"]=de,ee["line-translate-anchor"]=Q,ee["line-trim-offset"]=Le,ee["line-width"]=pe,fe["line-round-limit"]=H,fe["line-miter-limit"]=M,fe["line-join"]=U,fe["line-cap"]=W,fe.visibility=T,oe.paint=ee,oe.layout=fe,D?Me(D).then(function(_e){oe.paint["line-pattern"]=_e,f.getLayer(e)&&f.removeLayer(e),f.getSource(e)&&f.removeSource(e),f.addSource(e,i),f.addLayer(oe,P)}):(f.getLayer(e)&&f.removeLayer(e),f.getSource(e)&&f.removeSource(e),f.addSource(e,i),f.addLayer(oe,P)),function(){f.getLayer(e)&&f.removeLayer(e),f.getSource(e)&&f.removeSource(e),be(Ce.current,f,e),Ce.current=null,N.current=null}}},[f,e]),(0,n.useEffect)(function(){if(f){var oe=f.getLayer(e);if(oe){if(!N.current){N.current=t;return}(0,s.Z)(i,N.current.source)||(f.removeLayer(e),f.removeSource(e),f.addSource(e,i),f.addLayer(oe)),a!==N.current.sourceLayer&&(oe["source-layer"]=a,f.removeLayer(e),f.addLayer(oe)),(0,s.Z)(u,N.current.filter)||f.setFilter(e,u),(o!==N.current.maxzoom||h!==N.current.minzoom)&&f.setLayerZoomRange(e,h,o),m!==N.current.slot&&f.setSlot(e,m),(0,s.Z)(B,N.current.blur)||f.setPaintProperty(e,"line-blur",B),W!==N.current.cap&&f.setLayoutProperty(e,"line-cap",W),(0,s.Z)(x,N.current.color)||f.setPaintProperty(e,"line-color",x),(0,s.Z)(A,N.current.dasharray)||f.setPaintProperty(e,"line-dasharray",A),S!==N.current.emissiveStrength&&f.setPaintProperty(e,"line-emissive-strength",S),(0,s.Z)(b,N.current.gapWidth)||f.setPaintProperty(e,"line-gap-width",b),(0,s.Z)(_,N.current.gradient)||f.setPaintProperty(e,"line-gradient",_),U!==N.current.join&&f.setLayoutProperty(e,"line-join",U),(0,s.Z)(M,N.current.miterLimit)||f.setLayoutProperty(e,"line-miter-limit",M),(0,s.Z)(Y,N.current.occlusionOpacity)||f.setPaintProperty(e,"line-occlusion-opacity",Y),(0,s.Z)(C,N.current.offset)||f.setPaintProperty(e,"line-offset",C),(0,s.Z)(E,N.current.opacity)||f.setPaintProperty(e,"line-opacity",E),(0,s.Z)(H,N.current.roundLimit)||f.setLayoutProperty(e,"line-round-limit",H),g!==N.current.sortKey&&f.setLayoutProperty(e,"line-sort-key",g),(0,s.Z)(de,N.current.translate)||f.setPaintProperty(e,"line-translate",de),Q!==N.current.translateAnchor&&f.setPaintProperty(e,"line-translate-anchor",Q),(0,s.Z)(Le,N.current.trimOffset)||f.setPaintProperty(e,"line-trim-offset",Le),(0,s.Z)(pe,N.current.width)||f.setPaintProperty(e,"line-width",pe),T!==N.current.visibility&&f.setLayoutProperty(e,"visibility",T),P!==N.current.beforeId&&f.moveLayer(e,P),D&&D!==N.current.imgUrl&&Me(D),N.current=t}}},[i,a,JSON.stringify(u),o,h,m,T,P,JSON.stringify(B),W,JSON.stringify(x),JSON.stringify(A),JSON.stringify(S),b,JSON.stringify(_),U,JSON.stringify(M),JSON.stringify(Y),JSON.stringify(C),JSON.stringify(E),JSON.stringify(H),g,JSON.stringify(de),Q,JSON.stringify(Le),JSON.stringify(pe),D]),f&&xe(Ce.current,t,f,e),null},qt=Qt,er=function(t){var e=t.id,i=t.source,a=t.maxzoom,u=a===void 0?24:a,p=t.minzoom,o=p===void 0?0:p,L=t.slot,h=t.filter,m=t.beforeId,P=t.visibility,$=P===void 0?"visible":P,T=t.brightnessMax,D=T===void 0?1:T,Z=t.brightnessMin,B=Z===void 0?0:Z,z=t.color,W=t.colorMix,l=W===void 0?[.2126,.7152,.0722,0]:W,x=t.colorRange,A=t.contrast,I=A===void 0?0:A,S=t.emissiveStrength,c=S===void 0?0:S,b=t.fadeDuration,_=b===void 0?300:b,O=t.hueRotate,U=O===void 0?0:O,d=t.opacity,M=d===void 0?1:d,ie=t.resampling,Y=ie===void 0?"linear":ie,k=t.saturation,C=k===void 0?0:k,v=(0,n.useContext)(K),E=(0,n.useRef)(null);return(0,n.useEffect)(function(){if(v){var V={id:e,type:"raster",source:e},H={},g={};return h&&(V.filter=h),L&&(V.slot=L),V.maxzoom=u,V.minzoom=o,z&&(H["raster-color"]=z),x&&(H["raster-color-range"]=x),H["raster-brightness-max"]=D,H["raster-brightness-min"]=B,H["raster-color-mix"]=l,H["raster-contrast"]=I,H["raster-emissive-strength"]=c,H["raster-fade-duration"]=_,H["raster-hue-rotate"]=U,H["raster-opacity"]=M,H["raster-resampling"]=Y,H["raster-saturation"]=C,g.visibility=$,V.paint=H,V.layout=g,v.getLayer(e)&&v.removeLayer(e),v.getSource(e)&&v.removeSource(e),v.addSource(e,i),v.addLayer(V,m),function(){v!=null&&v.getLayer(e)&&v.removeLayer(e),v!=null&&v.getSource(e)&&v.removeSource(e),E.current=null}}},[v,e]),(0,n.useEffect)(function(){if(v){var V=v.getLayer(e);if(V){if(!E.current){E.current=t;return}(0,s.Z)(i,E.current.source)||(v.removeLayer(e),v.removeSource(e),v.addSource(e,i),v.addLayer(V,m)),(0,s.Z)(h,E.current.filter)||v.setFilter(e,h),(u!==E.current.maxzoom||o!==E.current.minzoom)&&v.setLayerZoomRange(e,o,u),L!==E.current.slot&&v.setSlot(e,L),$!==E.current.visibility&&v.setLayoutProperty(e,"visibility",$),Y!==E.current.resampling&&v.setPaintProperty(e,"raster-resampling",Y),(0,s.Z)(D,E.current.brightnessMax)||v.setPaintProperty(e,"raster-brightness-max",D),(0,s.Z)(B,E.current.brightnessMin)||v.setPaintProperty(e,"raster-brightness-min",B),(0,s.Z)(z,E.current.color)||v.setPaintProperty(e,"raster-color",z),(0,s.Z)(l,E.current.colorMix)||v.setPaintProperty(e,"raster-color-mix",l),(0,s.Z)(x,E.current.colorRange)||v.setPaintProperty(e,"raster-color-range",x),(0,s.Z)(I,E.current.contrast)||v.setPaintProperty(e,"raster-contrast",I),(0,s.Z)(c,E.current.emissiveStrength)||v.setPaintProperty(e,"raster-emissive-strength",c),(0,s.Z)(_,E.current.fadeDuration)||v.setPaintProperty(e,"raster-fade-duration",_),(0,s.Z)(U,E.current.hueRotate)||v.setPaintProperty(e,"raster-hue-rotate",U),(0,s.Z)(M,E.current.opacity)||v.setPaintProperty(e,"raster-opacity",M),(0,s.Z)(C,E.current.saturation)||v.setPaintProperty(e,"raster-saturation",C),m!==E.current.beforeId&&v.moveLayer(e,m),E.current=t}}},[i,u,o,L,JSON.stringify(h),m,$,Y,JSON.stringify(D),JSON.stringify(B),JSON.stringify(z),JSON.stringify(l),JSON.stringify(x),JSON.stringify(I),JSON.stringify(c),JSON.stringify(_),JSON.stringify(U),JSON.stringify(M),JSON.stringify(C)]),null},tr=er,Je=r(30967),rr=function(t,e){var i=t.lngLat,a=i===void 0?[180,90]:i,u=t.anchor,p=u===void 0?"center":u,o=t.className,L=t.clickTolerance,h=L===void 0?0:L,m=t.color,P=m===void 0?"#3FB1CE":m,$=t.draggable,T=$===void 0?!1:$,D=t.occludedOpacity,Z=D===void 0?.2:D,B=t.offset,z=t.pitchAlignment,W=z===void 0?"auto":z,l=t.rotation,x=l===void 0?0:l,A=t.rotationAlignment,I=A===void 0?"auto":A,S=t.scale,c=S===void 0?1:S,b=t.children,_=(0,n.useContext)(K),O=(0,n.useRef)(null),U=(0,n.useRef)(null),d=(0,n.useRef)({}),M=(0,n.useState)(!1),ie=w()(M,2),Y=ie[0],k=ie[1];return(0,n.useEffect)(function(){if(_){O.current&&O.current.remove();var C={};if(p&&(C.anchor=p),o&&(C.className=o),B&&(C.offset=B),C.clickTolerance=h,C.color=P,C.draggable=T,C.occludedOpacity=Z,C.pitchAlignment=W,C.rotation=x,C.rotationAlignment=I,C.scale=c,b){var v=document.createElement("div");v.classList.add("mapboxgl-marker-content__inner"),U.current=v,C.element=U.current}return O.current=new(re()).Marker(C),O.current.setLngLat(a),O.current.addTo(_),k(!0),function(){O.current&&O.current.remove(),be(d.current,O.current),d.current=null,O.current=null,U.current=null}}},[_,p,o,h,P,T,Z,W,x,I,c,JSON.stringify(B)]),(0,n.useEffect)(function(){_&&O.current&&a&&O.current.setLngLat(a)},[JSON.stringify(a)]),(0,n.useImperativeHandle)(e,function(){return Y?O.current:null},[Y]),O.current&&xe(d.current,t,O.current),U.current?(0,Je.createPortal)(b,U.current):null},nr=(0,n.forwardRef)(rr),or=function(t,e){var i=t.lngLat,a=t.anchor,u=t.className,p=t.closeButton,o=p===void 0?!0:p,L=t.closeOnClick,h=L===void 0?!1:L,m=t.closeOnMove,P=m===void 0?!1:m,$=t.focusAfterOpen,T=$===void 0?!0:$,D=t.maxWidth,Z=D===void 0?"240px":D,B=t.offset,z=t.children,W=(0,n.useContext)(K),l=(0,n.useRef)(null),x=(0,n.useRef)(null),A=(0,n.useRef)({}),I=(0,n.useState)(!1),S=w()(I,2),c=S[0],b=S[1];return(0,n.useEffect)(function(){if(W){l.current&&l.current.remove();var _={};if(a&&(_.anchor=a),u&&(_.className=u),B&&(_.offset=B),_.closeButton=o,_.closeOnClick=h,_.closeOnMove=P,_.focusAfterOpen=T,_.maxWidth=Z,l.current=new(re()).Popup(_),i&&l.current.setLngLat(i),z){var O=document.createElement("div");O.classList.add("mapboxgl-popup-content__inner"),x.current=O,l.current.setDOMContent(x.current)}return l.current.addTo(W),b(!0),function(){l.current&&l.current.remove(),be(A.current,l.current),A.current=null,l.current=null,x.current=null}}},[W,a,u,o,h,P,T,Z,JSON.stringify(B)]),(0,n.useEffect)(function(){W&&l.current&&i&&l.current.setLngLat(i)},[JSON.stringify(i)]),(0,n.useImperativeHandle)(e,function(){return c?l.current:null},[c]),l.current&&xe(A.current,t,l.current),x.current?(0,Je.createPortal)(z,x.current):null},ar=(0,n.forwardRef)(or)},46640:function(ae,y,r){r.r(y),r.d(y,{texts:function(){return F}});var J=r(28440);const F=[{value:`\u4E0E\u73B0\u5B9E\u751F\u6D3B\u4E00\u81F4\uFF1A \u4E0E\u73B0\u5B9E\u751F\u6D3B\u7684\u6D41\u7A0B\u3001\u903B\u8F91\u4FDD\u6301\u4E00\u81F4\uFF0C\u9075\u5FAA\u7528\u6237\u4E60\u60EF\u7684\u8BED\u8A00\u548C\u6982\u5FF5\uFF1B
\u5728\u754C\u9762\u4E2D\u4E00\u81F4\uFF1A \u6240\u6709\u7684\u5143\u7D20\u548C\u7ED3\u6784\u9700\u4FDD\u6301\u4E00\u81F4\uFF0C\u6BD4\u5982\uFF1A\u8BBE\u8BA1\u6837\u5F0F\u3001\u56FE\u6807\u548C\u6587\u672C\u3001\u5143\u7D20\u7684\u4F4D\u7F6E\u7B49\u3002`,paraId:0,tocIndex:0},{value:"\u63A7\u5236\u53CD\u9988\uFF1A \u901A\u8FC7\u754C\u9762\u6837\u5F0F\u548C\u4EA4\u4E92\u52A8\u6548\u8BA9\u7528\u6237\u53EF\u4EE5\u6E05\u6670\u7684\u611F\u77E5\u81EA\u5DF1\u7684\u64CD\u4F5C\uFF1B",paraId:1,tocIndex:1},{value:"\u9875\u9762\u53CD\u9988\uFF1A \u64CD\u4F5C\u540E\uFF0C\u901A\u8FC7\u9875\u9762\u5143\u7D20\u7684\u53D8\u5316\u6E05\u6670\u5730\u5C55\u73B0\u5F53\u524D\u72B6\u6001\u3002",paraId:2,tocIndex:1},{value:"\u7B80\u5316\u6D41\u7A0B\uFF1A \u8BBE\u8BA1\u7B80\u6D01\u76F4\u89C2\u7684\u64CD\u4F5C\u6D41\u7A0B\uFF1B",paraId:3,tocIndex:2},{value:"\u6E05\u6670\u660E\u786E\uFF1A \u8BED\u8A00\u8868\u8FBE\u6E05\u6670\u4E14\u8868\u610F\u660E\u786E\uFF0C\u8BA9\u7528\u6237\u5FEB\u901F\u7406\u89E3\u8FDB\u800C\u4F5C\u51FA\u51B3\u7B56\uFF1B",paraId:4,tocIndex:2},{value:"\u5E2E\u52A9\u7528\u6237\u8BC6\u522B\uFF1A \u754C\u9762\u7B80\u5355\u76F4\u767D\uFF0C\u8BA9\u7528\u6237\u5FEB\u901F\u8BC6\u522B\u800C\u975E\u56DE\u5FC6\uFF0C\u51CF\u5C11\u7528\u6237\u8BB0\u5FC6\u8D1F\u62C5\u3002",paraId:5,tocIndex:2},{value:"\u7528\u6237\u51B3\u7B56\uFF1A \u6839\u636E\u573A\u666F\u53EF\u7ED9\u4E88\u7528\u6237\u64CD\u4F5C\u5EFA\u8BAE\u6216\u5B89\u5168\u63D0\u793A\uFF0C\u4F46\u4E0D\u80FD\u4EE3\u66FF\u7528\u6237\u8FDB\u884C\u51B3\u7B56\uFF1B",paraId:6,tocIndex:3},{value:"\u7ED3\u679C\u53EF\u63A7\uFF1A \u7528\u6237\u53EF\u4EE5\u81EA\u7531\u7684\u8FDB\u884C\u64CD\u4F5C\uFF0C\u5305\u62EC\u64A4\u9500\u3001\u56DE\u9000\u548C\u7EC8\u6B62\u5F53\u524D\u64CD\u4F5C\u7B49\u3002",paraId:7,tocIndex:3}]},95968:function(ae,y,r){r.r(y),r.d(y,{texts:function(){return F}});var J=r(24497);const F=[{value:"\u5EFA\u8BAE\u4F7F\u7528\u5305\u7BA1\u7406\u5668\u8FDB\u884C\u5B89\u88C5\uFF08\u4F8B\u5982 ",paraId:0,tocIndex:1},{value:"npm",paraId:0,tocIndex:1},{value:"\u3001",paraId:0,tocIndex:1},{value:"yarn",paraId:0,tocIndex:1},{value:"\u3001",paraId:0,tocIndex:1},{value:"pnpm",paraId:0,tocIndex:1},{value:" \u7B49\uFF09\uFF0C\u4EE5\u4FBF\u53EF\u4EE5\u4F7F\u7528\u6253\u5305\u5DE5\u5177\uFF08\u4F8B\u5982 ",paraId:0,tocIndex:1},{value:"webpack",paraId:0,tocIndex:1},{value:" \u6216\u8005 ",paraId:0,tocIndex:1},{value:"vite",paraId:0,tocIndex:1},{value:" \u7B49\uFF09\u8FDB\u884C\u6253\u5305\u3002",paraId:0,tocIndex:1},{value:"\u6267\u884C\u4EE5\u4E0B\u547D\u4EE4\u8FDB\u884C\u5B89\u88C5\uFF1A",paraId:1,tocIndex:1},{value:`
# \u9009\u62E9\u4E00\u4E2A\u4F60\u559C\u6B22\u7684\u5305\u7BA1\u7406\u5668

# NPM
$ npm install react-mapboxgl-zt --save

# Yarn
$ yarn add react-mapboxgl-zt

# pnpm
$ pnpm install react-mapboxgl-zt
`,paraId:2,tocIndex:1},{value:"\u5982\u679C\u4F60\u7684\u9879\u76EE\u4E0D\u4F7F\u7528\u6253\u5305\u5DE5\u5177\uFF0C\u53EF\u4EE5\u76F4\u63A5\u5728\u6D4F\u89C8\u5668\u4E2D\u5F15\u5165 ",paraId:3,tocIndex:2},{value:"cdn",paraId:3,tocIndex:2},{value:" \u94FE\u63A5\u3002\u5F15\u5165\u4E4B\u540E\u5C31\u53EF\u4EE5\u5728\u5168\u5C40\u4F7F\u7528",paraId:3,tocIndex:2},{value:"ReactMap",paraId:3,tocIndex:2},{value:"\u53D8\u91CF\u4E86",paraId:3,tocIndex:2},{value:`<head>
  <!-- Import style -->
  <link
    rel="stylesheet"
    href="https://www.unpkg.com/react-mapboxgl-zt@0.0.8/dist/index.css"
  />
  <!-- Import library -->
  <script src="https://www.unpkg.com/react-mapboxgl-zt@0.0.8/dist/index.umd.js"><\/script>
</head>
`,paraId:4,tocIndex:2},{value:"\u540C\u65F6\u5728\u5F15\u5165\u4E4B\u524D\u9700\u8981\u5F15\u5165 ",paraId:5,tocIndex:2},{value:"React",paraId:5,tocIndex:2},{value:" \u3001",paraId:5,tocIndex:2},{value:"ReactDOM",paraId:5,tocIndex:2},{value:" \u548C ",paraId:5,tocIndex:2},{value:"babel",paraId:5,tocIndex:2},{value:" \u8FD9\u4E09\u4E2A\u5E93\u3002",paraId:5,tocIndex:2},{value:`<head>
  <!-- Import React -->
  <script src="https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/react/18.2.0/umd/react.development.js"><\/script>
  <!-- Import ReactDOM -->
  <script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/react-dom/18.2.0/umd/react-dom.development.js"><\/script>
  <!-- Import babel -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.3/babel.min.js"><\/script>
</head>
`,paraId:6,tocIndex:2},{value:"\u6211\u4EEC\u5EFA\u8BAE\u4F7F\u7528 CDN \u5F15\u5165 react-mapboxgl-zt \u7684\u7528\u6237\u5728\u94FE\u63A5\u5730\u5740\u4E0A\u9501\u5B9A\u7248\u672C\uFF0C\u4EE5\u514D\u5C06\u6765 react-mapboxgl-zt \u5347\u7EA7\u65F6\u53D7\u5230\u975E\u517C\u5BB9\u6027\u66F4\u65B0\u7684\u5F71\u54CD\u3002 \u9501\u5B9A\u7248\u672C\u7684\u65B9\u6CD5\u8BF7\u67E5\u770B ",paraId:7},{value:"unpkg.com",paraId:7},{value:"\u3002",paraId:7},{value:"\u4E0B\u9762\u662F\u4E00\u4E2A\u7B80\u5355\u7684 ",paraId:8,tocIndex:3},{value:"Map",paraId:8,tocIndex:3},{value:" \u7EC4\u4EF6\uFF0C\u5C55\u793A\u4E86\u5982\u4F55\u4F7F\u7528 ",paraId:8,tocIndex:3},{value:"react-mapboxgl-zt",paraId:8,tocIndex:3},{value:" \u7EC4\u4EF6\u8FDB\u884C\u5730\u56FE\u5C55\u793A\u3002",paraId:8,tocIndex:3},{value:"\u7531\u4E8E\u672C\u7EC4\u4EF6\u662F\u57FA\u4E8E mapboxgl \u5F00\u53D1\u7684\uFF0C\u5728\u4F7F\u7528\u4E4B\u524D\u9700\u8981\u53BB",paraId:9},{value:"mapboxgl \u5B98\u7F51",paraId:9},{value:"\u6CE8\u518C\u4E00\u4E2A\u5F00\u53D1\u8005\u8D26\u53F7\uFF0C\u5E76\u7533\u8BF7\u4E00\u4E2A",paraId:9},{value:"access token",paraId:9},{value:"\u3002",paraId:9},{value:"\u5177\u4F53\u4EE3\u7801\u793A\u4F8B\uFF1A",paraId:10},{value:`// \u5F15\u5165 MapFactory \u5730\u56FE\u5DE5\u5382\u51FD\u6570
import { MapFactory } from 'react-mapboxgl-zt';

// \u521B\u5EFA\u5730\u56FE\u5B9E\u4F8B
const MapInstance = MapFactory({
  accessToken: 'your access token', // access token
});

export default function BaseMap() {
  return (
    <div
      style={{
        height: '20rem',
      }}
    >
      <MapInstance></MapInstance>
    </div>
  );
}
`,paraId:11},{value:"\u5730\u56FE\u5C55\u793A\u6548\u679C\u5982\u4E0B\uFF1A",paraId:12}]},43815:function(ae,y,r){r.r(y),r.d(y,{texts:function(){return F}});var J=r(64889);const F=[]},44719:function(ae,y,r){r.r(y),r.d(y,{texts:function(){return F}});var J=r(36588);const F=[]},32338:function(ae,y,r){r.r(y),r.d(y,{texts:function(){return F}});var J=r(71938);const F=[]},83792:function(ae,y,r){r.r(y),r.d(y,{texts:function(){return F}});var J=r(95087);const F=[]},63062:function(ae,y,r){r.r(y),r.d(y,{texts:function(){return F}});var J=r(22131);const F=[]},33667:function(ae,y,r){r.r(y),r.d(y,{texts:function(){return F}});var J=r(31275);const F=[]},3914:function(ae,y){y.Z=`import {
  MapMouseEvent,
  type GeoJSONSourceSpecification,
  type Map,
} from 'mapbox-gl';
import { useRef, useState } from 'react';
import {
  CircleLayer,
  FillLayer,
  FullscreenControl,
  LineLayer,
  MapFactory,
  Marker,
  MousePositionControl,
  NavigationControl,
  Popup,
  ScaleControl,
} from 'react-mapboxgl-zt';

const MapInstance = MapFactory({
  accessToken:
    'pk.eyJ1IjoiMnBpYyIsImEiOiJjbTczaXFxbGwwMGNtMm9zYjhjcW1hd3ZkIn0.YCpsYVQawB15Cf5Zyljscg',
});

// Control implemented as ES6 class
class HelloWorldControl {
  _map: Map | undefined;
  _container: HTMLDivElement | undefined;

  onAdd(map: Map) {
    this._map = map;
    this._container = document.createElement('div');
    this._container.className = 'mapboxgl-ctrl mapboxgl-ctrl-group';
    this._container.textContent = 'Hello, world';
    return this._container;
  }

  onRemove() {
    this._container!.parentNode!.removeChild(this._container!);
    this._map = undefined;
  }
}
export default function BaseMap() {
  const [imgUrl, setImgUrl] = useState(
    '/react-mapboxgl-zt/imgs/background1.jpg',
  );
  const [icon, setIcon] = useState('/react-mapboxgl-zt/imgs/icon.png');
  const [color, setColor] = useState('#f00');

  const [source, setSource] = useState<GeoJSONSourceSpecification>({
    type: 'geojson',
    data: {
      type: 'FeatureCollection',
      features: [
        {
          type: 'Feature',
          properties: {},
          geometry: {
            coordinates: [113.90310757834482, 22.541427196370165],
            type: 'Point',
          },
        },
        {
          type: 'Feature',
          properties: {},
          geometry: {
            coordinates: [113.91668147739654, 22.52511855694496],
            type: 'Point',
          },
        },
      ],
    },
  });

  const [title, setTitle] = useState('title');

  const scaleControlRef = useRef<mapboxgl.ScaleControl>(null);
  const popupRef = useRef<mapboxgl.Popup | null>(null);
  const markerRef = useRef<mapboxgl.Marker | null>(null);
  const onClick = () => {
    setColor(color === '#f00' ? '#0f0' : '#f00');

    scaleControlRef.current?.setUnit('nautical');

    setTitle(title === 'title' ? 'title2' : 'title');
    console.log(markerRef.current);

    popupRef.current?.setLngLat([113.90310757834482, 22.541427196370165]);
  };

  const onCircleClick = (e: MapMouseEvent) => {
    popupRef.current?.setLngLat(e.lngLat);
    popupRef.current?.setText(e.lngLat.toString());
  };
  const onMapLoad = (map: Map) => {
    console.log(map);
    // map.on('click', (e) => {
    //   console.log(e);
    // });
  };
  return (
    <div
      style={{
        height: '20rem',
      }}
    >
      <MapInstance onMapLoad={onMapLoad}>
        <button
          type="button"
          onClick={onClick}
          style={{
            position: 'absolute',
            zIndex: 1000,
          }}
        >
          \u6539\u53D8\u989C\u8272
        </button>
        <Popup
          ref={popupRef}
          lngLat={[113.90310757834482, 22.541427196370165]}
          onOpen={(e) => console.log(e)}
          onClose={(e) => console.log(e.target.getLngLat())}
        >
          {123213}
          <div
            style={{
              backgroundColor: '#f40',
            }}
          >
            {title}
          </div>
          <div>content</div>
        </Popup>
        <Marker
          ref={markerRef}
          // lngLat={[113.90310757834482, 22.541427196370165]}
          draggable={true}
          onDragEnd={(e) => console.log(e.target.getLngLat())}
        ></Marker>
        {/* <CustomControl
            controlClass={HelloWorldControl}
          ></CustomControl> */}
        <MousePositionControl></MousePositionControl>
        <FullscreenControl></FullscreenControl>
        <ScaleControl ref={scaleControlRef}></ScaleControl>
        <NavigationControl></NavigationControl>
        <CircleLayer
          id="circle"
          color={color}
          opacity={0.5}
          source={{
            type: 'vector',
            url: 'mapbox://mapbox.mapbox-streets-v6',
          }}
          sourceLayer="water"
          onClick={onCircleClick}
        ></CircleLayer>
        <FillLayer
          id="fill"
          color={color}
          source={{
            type: 'geojson',
            data: {
              type: 'FeatureCollection',
              features: [
                {
                  type: 'Feature',
                  properties: {},
                  geometry: {
                    coordinates: [
                      [
                        [113.91050389786739, 22.53917900246715],
                        [113.90865023135945, 22.534556311568096],
                        [113.91828929730542, 22.531131996380907],
                        [113.92343322222297, 22.539179002551137],
                        [113.91050389786739, 22.53917900246715],
                      ],
                    ],
                    type: 'Polygon',
                  },
                },
              ],
            },
          }}
          imgUrl={imgUrl}
        />
        <LineLayer
          id="line"
          color={color}
          source={{
            type: 'geojson',
            data: {
              type: 'FeatureCollection',
              features: [
                {
                  type: 'Feature',
                  properties: { a: 1 },
                  geometry: {
                    coordinates: [
                      [113.9086931063199, 22.532889051350935],
                      [113.90725732733108, 22.530536146907636],
                      [113.90813732090567, 22.52642916311092],
                      [113.91818777387965, 22.530792829342246],
                      [113.9174930421097, 22.535498589395118],
                    ],
                    type: 'LineString',
                  },
                },
              ],
            },
            lineMetrics: true,
          }}
          gradient={undefined}
          width={10}
          onClick={(e: MapMouseEvent) => console.log(e.features)}
        ></LineLayer>

        {/* <RasterLayer
          id="tile"
          source={{
            type: 'raster',
            tiles: [
              'https://img.nj.gov/imagerywms/Natural2015?bbox={bbox-epsg-3857}&format=image/png&service=WMS&version=1.1.1&request=GetMap&srs=EPSG:3857&transparent=true&width=256&height=256&layers=Natural2015',
            ],
            tileSize: 256,
          }}
        ></RasterLayer> */}

        {/* <HeatmapLayer
          id="heatmap"
          source={{
            type: 'vector',
            url: 'mapbox://mapbox.mapbox-streets-v6',
          }}
          sourceLayer="water"
        /> */}
      </MapInstance>
    </div>
  );
}
`}}]);
