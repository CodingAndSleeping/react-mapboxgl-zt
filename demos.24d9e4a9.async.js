"use strict";(self.webpackChunkreact_mapboxgl_zt=self.webpackChunkreact_mapboxgl_zt||[]).push([[433],{19184:function(A,d,o){o.r(d),o.d(d,{default:function(){return P}});var y=o(48305),a=o.n(y),E=o(25298),U=o.n(E),M=o(17069),B=o.n(M),j=o(82092),F=o.n(j),n=o(75271),_=o(91314),t=o(52676),L=(0,_.MapFactory)({accessToken:"pk.eyJ1IjoiMnBpYyIsImEiOiJjbTczaXFxbGwwMGNtMm9zYjhjcW1hd3ZkIn0.YCpsYVQawB15Cf5Zyljscg"}),K=null;function P(){var p=(0,n.useState)("/react-mapboxgl-zt/imgs/background1.jpg"),s=a()(p,2),m=s[0],H=s[1],D=(0,n.useState)("/react-mapboxgl-zt/imgs/icon.png"),g=a()(D,2),w=g[0],N=g[1],O=(0,n.useState)("#f00"),b=a()(O,2),u=b[0],z=b[1],R=(0,n.useState)({type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{coordinates:[113.90310757834482,22.541427196370165],type:"Point"}},{type:"Feature",properties:{},geometry:{coordinates:[113.91668147739654,22.52511855694496],type:"Point"}}]}}),C=a()(R,2),Y=C[0],$=C[1],k=(0,n.useState)("title"),f=a()(k,2),h=f[0],I=f[1],x=(0,n.useRef)(null),i=(0,n.useRef)(null),v=(0,n.useRef)(null),S=function(){var e,r;z(u==="#f00"?"#0f0":"#f00"),(e=x.current)===null||e===void 0||e.setUnit("nautical"),I(h==="title"?"title2":"title"),console.log(v.current),(r=i.current)===null||r===void 0||r.setLngLat([113.90310757834482,22.541427196370165])},T=function(e){var r,c;(r=i.current)===null||r===void 0||r.setLngLat(e.lngLat),(c=i.current)===null||c===void 0||c.setText(e.lngLat.toString())},W=function(e){console.log(e)};return(0,t.jsx)("div",{style:{height:"20rem"},children:(0,t.jsx)("div",{style:{height:"80%",border:"1px solid black"},children:(0,t.jsxs)(L,{onMapLoad:W,children:[(0,t.jsx)("button",{type:"button",onClick:S,style:{position:"absolute",zIndex:1e3},children:"\u6539\u53D8\u989C\u8272"}),(0,t.jsxs)(_.Popup,{ref:i,lngLat:[113.90310757834482,22.541427196370165],onOpen:function(e){return console.log(e)},onClose:function(e){return console.log(e.target.getLngLat())},children:[123213,(0,t.jsx)("div",{style:{backgroundColor:"#f40"},children:h}),(0,t.jsx)("div",{children:"content"})]}),(0,t.jsx)(_.Marker,{ref:v,draggable:!0,onDragEnd:function(e){return console.log(e.target.getLngLat())}}),(0,t.jsx)(_.MousePositionControl,{}),(0,t.jsx)(_.FullscreenControl,{}),(0,t.jsx)(_.ScaleControl,{ref:x}),(0,t.jsx)(_.NavigationControl,{}),(0,t.jsx)(_.CircleLayer,{id:"circle",color:u,opacity:.5,source:{type:"vector",url:"mapbox://mapbox.mapbox-streets-v6"},sourceLayer:"water",onClick:T}),(0,t.jsx)(_.FillLayer,{id:"fill",color:u,source:{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{coordinates:[[[113.91050389786739,22.53917900246715],[113.90865023135945,22.534556311568096],[113.91828929730542,22.531131996380907],[113.92343322222297,22.539179002551137],[113.91050389786739,22.53917900246715]]],type:"Polygon"}}]}},imgUrl:m}),(0,t.jsx)(_.LineLayer,{id:"line",color:u,source:{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",properties:{a:1},geometry:{coordinates:[[113.9086931063199,22.532889051350935],[113.90725732733108,22.530536146907636],[113.90813732090567,22.52642916311092],[113.91818777387965,22.530792829342246],[113.9174930421097,22.535498589395118]],type:"LineString"}}]},lineMetrics:!0},gradient:void 0,width:10,onClick:function(e){return console.log(e.features)}})]})})})}}}]);
